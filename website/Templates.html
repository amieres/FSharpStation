<div style="display:none" >
    <div id="GlobalLayout">menuEditor layout
                |  logo   |           menu
                |      350|
                |------------------------------- 65 ------------------------------------
                |                                                             |
                |         path           |        Name           |            |
                | --------- 20 --------- | ------- 35 ---------- | properties | buttons
                | FSharpStation.Snippets | FSharpStation.editor  |0 100 100   | 
                |                0 20 100|                                    |
                |                                                             |150 
                | -------------------------- 10 83 100 ----------------------------------
                |          messagesLeft           |      messagesRight
            
            menuEditorX      horizontal  65       menuLogo                  editorMessages
            double           horizontal  0-50-100 AppFramework.AppFwkClient menuEditor
            menuLogo         vertical    350      logo                      menu
            logo             span       "margin:0; color:gray; font-size: 55px; font-weight:530" "F# Station"
            editorMessages   horizontal 10-83-100 editorButtons             messages
            messages         vertical   0-50-100  messagesLeft              messagesRight
            editorButtons    vertical -120 snippetsSnippet buttons
            buttons div      "overflow: hidden; display: grid; grid-template-columns: 100%; grid-template-rows: repeat(15, calc(100% / 15)); bxackground-color: #eee; box-sizing: border-box; padding : 5px; grid-gap: 5px; margin-right: 21px" btnSaveAs none x btnAddSnippet btnDeleteSnippet btnIndentIn btnIndentOut none x btnRunFS btnInputFsi btnAbortFsi
            snippetsSnippet  vertical   0-20-100  snippets                  editorProperties
            snippets         horizontal 20        "${FSharpStation.CurrentPath}" FSharpStation.Snippets
            editorProperties vertical   0-100-100 snippet                   properties
            properties       div        ""        FSharpStation.Properties
            snippet          horizontal 35        Name                      FSharpStation.editor
            menu             span  "" btnLoad btnImport

            path             div        "" "${FSharpStation.CurrentPath}"

            btnSaveAs        button FSharpStation.SaveAs         "class=btn ${FSharpStation.SaveNeeded}" "Save as...    "
            btnAddSnippet    button FSharpStation.AddSnippet     ""                  "Add Snippet   "
            btnDeleteSnippet button FSharpStation.RemoveSnippet  ""                  "Delete Snippet"
            btnIndentIn      button FSharpStation.IndentIn       ""                  "Indent In  >> "
            btnIndentOut     button FSharpStation.IndentOut      ""                  "Indent Out << "
            btnRunFS         button FSharpStation.RunFS          ""                  "Run F#        "
            btnInputFsi      button FSharpStation.LastLineToFsi  ""                  "last line |> Fsi"
            btnAbortFsi      button FSharpStation.AbortFsi       ""                  "Abort Fsi     "

            messagesLeft     wcomp-tabstrip                      ""                  Output FsCode
            messagesRight    wcomp-tabstrip                      ""                  Parser

            Output           textarea  FSharpStation.Output      "tabname=Output ; placeholder=Output messages ; spellcheck=false" 
            FsCode           textarea  FSharpStation.FsCode      "tabname=F# Code; placeholder=F# Code         ; spellcheck=false" 
            Parser           textarea  FSharpStation.Parser      "tabname=Parser ; placeholder=Parser messages; dblclick=${FSharpStation.JumpTo} ; spellcheck=false" 
            Name             Doc       InputLabel                ""     "Name:"        FSharpStation.SnippetName
            btnLoad          Doc       InputFile                 ""     "Load File..." FSharpStation.LoadFile  FileName
            btnImport        Doc       InputFile                 ""     "Import..."    FSharpStation.Import    ""
            FileName         div                                 "class=form-control"  FSharpStation.fileName
    </div>
    <div links>
        <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" type="text/css" rel="stylesheet">
        <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"  type="text/javascript"></script>
        <script type="text/javascript" src="/EPFileX/FileSaver/FileSaver.js"                                    ></script>
        <script type="text/javascript" src="/EPFileX/CIPHERSpaceLoadFiles.js"                                   ></script>
    </div>
    <div ws-template="FixedSplitterVer" 
        style="display: grid; 
               grid-gap: 0px; 
               box-sizing: border-box; 
               height: 100%;
               width : 100%;
               grid-template-areas: 'one two'; 
               grid-template-rows   :100%; 
               overflow: hidden; 
               grid-template-columns: ${PartSizes}"  >
       <div ws-hole="First"  style="grid-area: one; " class="relative" ></div>
       <div ws-hole="Second" style="grid-area: two; " class="relative" ></div>
    </div>               
    <div ws-template="FixedSplitterHor" 
   style="display: grid; 
          grid-gap: 0px; 
          box-sizing: border-box; 
          height: 100%;
          width : 100%;
          grid-template-areas: 'one' 'two'; 
          grid-template-columns:100%; 
          overflow: hidden; 
          grid-template-rows   : ${PartSizes}"  >
  <div ws-hole="First"  style="grid-area: one; " class="relative" ></div>
  <div ws-hole="Second" style="grid-area: two; " class="relative" ></div>
    </div>               
    <div ws-template="WCompSplitterHor" 
         ws-onafterrender="AfterRender"
         style="display: grid;
                grid-gap: 5px; 
                box-sizing: border-box; 
                grid-template-areas: 'one' 'two'; 
                grid-template-columns:100%; 
                overflow: hidden; 
                grid-template-rows   : ${PartSizes}" 
         >
        <slot></slot>
        <slot name="splitter">  
            <div style="grid-row:2; grid-column:1 / 1 ; cursor: row-resize; z-index: 3; background-color: #eef ; height: ${Gap}; margin-top :-${Gap}" ws-onmousedown="MouseDown" ws-onafterrender="AfterRenderSp" ></div> 
        </slot>
        <style>
            ::slotted(*) {
                display: grid;
                height : 100%;
                width  : 100%;
                overflow: hidden;
            }
            ::slotted(*:nth-child(2)) {
                grid-area: two;
            }
            ::slotted(*[slot="splitter"]) {
                grid-row:2; grid-column:1 / 1 ; 
                cursor: row-resize; 
                z-index: 3; 
                background-color: #eef ; 
                height: ${Gap}; 
                margin-top :-${Gap}
            }
        </style>
    </div>        
    <div ws-template="WCompSplitterVer" 
         ws-onafterrender="AfterRender"
         style="display: grid; 
                grid-gap: 5px; 
                box-sizing: border-box; 
                grid-template-areas: 'one two'; 
                grid-template-rows   :100%; 
                overflow: hidden; 
                grid-template-columns: ${PartSizes}"  >
        <slot></slot>
        <slot name="splitter"> 
            <div style="grid-column:2; grid-row:1 / 1 ; cursor: col-resize; z-index: 3; background-color: #eef ; width: ${Gap}; margin-left :-${Gap}" ws-onmousedown="MouseDown" ws-onafterrender="AfterRenderSp" ></div> 
        </slot>
        <style>
            ::slotted(*) {
                display: grid;
                height : 100%;
                width  : 100%;
                overflow: hidden;
            }
            ::slotted(*:nth-child(2)) {
                grid-area: two;
            }
            ::slotted(*[slot="splitter"]) {
                grid-column:2; grid-row:1 / 1
                cursor: column-resize; 
                z-index: 3; 
                background-color: #eef ; 
                width: ${Gap}; 
                margin-left:-${Gap}
            }
        </style>
    </div>
    <div ws-template="Layout" style="height: calc(100vh - 16px); width: calc(100vw - 16px)" class="relative" >
        <ws-FixedSplitterHor>
            <PartSizes>55px calc(100% - 55px)</PartSizes>
            <First>
                <span style="display: grid;
                      grid-template-columns: 30% 20% 20% 10%;
                      grid-gap: 25px;
                    ">
                    <div class="mainTitle">F# Station</div>
                    <div class="input-group">
                        <span class="input-group-btn">
                            <label class="btn">Load File...
                                <div>
                                    <input ws-onclick="LoadFileClear" ws-onchange="LoadFileChanged" type="file" class="form-control" style="display: none" placeholder="Filename:">
                                </div>
                            </label>
                        </span>
                        <input type="text" class="form-control" id="" ws-var="Filename" placeholder="Filename:" style="width: 100%;">
                    </div>                                    
                    <button ws-onclick="SaveAs" type="button" id="" class="btn ${SaveAsClass}">Save as...</button>
                    <div class="input-group">
                        <span class="input-group-btn">
                            <label class="btn">Import...
                                <div>
                                    <input ws-onclick="ImportFileClear" ws-onchange="ImportFileChanged" type="file" class="form-control" style="display: none" placeholder="Filename:">
                                </div>
                            </label>
                        </span>
                    </div>                                    
                </span>
            </First>
            <Second>
                <wcomp-splitter value="85" min="0" max="100" >
                    <ws-FixedSplitterVer>
                        <PartSizes>calc(100% - 150px) 150px</PartSizes>
                        <First>
                            <wcomp-splitter vertical value="18" max="100">
                                <div ws-replace="Snippets"></div>
                                <wcomp-splitter vertical value="100" min="30" max="100">
                                    <ws-FixedSplitterHor>
                                        <PartSizes>55px calc(100% - 55px)</PartSizes>
                                        <First>
                                            <div>
                                            <div class="input-group">
                                                <span class="input-group-addon">name:</span>
                                                <input type="text" class="form-control" id="" placeholder="Snippet name..." ws-var="Name" spellcheck="false">
                                            </div></div>
                                        </First>
                                        <Second>
                                            <div ws-hole="CodeEditor"></div>
                                        </Second>
                                    </ws-FixedSplitterHor>
                                    <wcomp-tabstrip >
                                        <div tabname="Properties" ws-hole="Properties">
                                        </div>
                                    </wcomp-tabstrip>
                                </wcomp-splitter>
                            </wcomp-splitter>
                        </First>
                        <Second>
                            <div ws-replace="ButtonsRight" ></div>
                        </Second>
                    </ws-FixedSplitterVer>
                    <wcomp-splitter vertical >
                        <wcomp-tabstrip >
                            <textarea tabname="Output"  ws-var="Output" ws-onafterrender="OutputAfterRender" style="height: 100%;  width: 100%; box-sizing: border-box; " spellcheck="false" title="" placeholder="Output:"                                 ></textarea>
                            <textarea tabname="F# code" ws-var="FSCode" style="height: 100%;  width: 100%; box-sizing: border-box; " spellcheck="false" title="" placeholder="F# Code:"                                ></textarea>
                        </wcomp-tabstrip>
                        <wcomp-tabstrip >
                            <textarea tabname="Parser"  ws-var="Parser" style="height: 100%;  width: 100%; box-sizing: border-box; " spellcheck="false" title="" placeholder="Parser messages:" ws-ondblclick="JumpRef"></textarea>
                        </wcomp-tabstrip>
                    </wcomp-splitter>
                </wcomp-splitter>
            </Second>
        </ws-FixedSplitterHor>
    </div>
    <div ws-template="ButtonsRight" >
            <div style="
            overflow: hidden;
            display: grid;
            grid-template-columns: 100%;
            grid-template-rows: repeat(15, calc(100% / 15));
            bxackground-color: #eee;
            box-sizing: border-box;
            padding : 5px;
            grid-gap: 5px;
            margin-right: 21px;
       "  class="absolute">
            <button ws-onclick="AddSnippet"    class="btn" type="button" id="">Add Snippet</button>
            <button ws-onclick="RemoveSnippet" class="btn" type="button" id="">Delete Snippet</button>
            <button ws-onclick="IndentIn"      class="btn" type="button" id="">Indent In &gt;&gt;</button>
            <button ws-onclick="IndentOut"     class="btn" type="button" id="">Indent Out &lt;&lt;</button>
            <span></span>
            <button ws-onclick="RunFS"   class="btn" type="button" id="">Run F#</button>
            <button ws-onclick="Reorder" class="btn" type="button" id="">Reorder</button>
            <span></span>
        </div>
    </div>
    <div ws-template="SnippetList" >
            <div ws-hole="Snippets" style="overflow:auto" ></div>
    </div>
    <div ws-template="PropertyTable" style="overflow:auto" >
        <table style="border-spacing:0px">
            <thead>
                <th style="width: 30%  ">Name</th>
                <th style="width: 70% ">Value</th>
            </thead>
            <tbody ws-hole="Properties" ws-children-template="Property">
                <tr ws-onclick="Select" style="margin-bottom: 2px" class="level  ">
                    <td class="level-item">
                        <div>
                            <input ws-var="Name" type="text" class="form-control" id="" placeholder="Property...">
                        </div>
                    </td>
                    <td class="level-item">
                        <div>
                            <textarea ws-var="Value" class="form-control" id="" placeholder="Value..."></textarea>
                        </div>
                    </td>
                    <td class="level-item">
                        <div style=" cursor: pointer " title="remove">
                            <button ws-onclick="Remove" class="delete is-small">x</button>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <button ws-onclick="AddProperty" class="add is-small">add ...</button>
    </div>

    <div ws-template="Snippet" >
        <div draggable="true" class="code-editor-list-tile ${Predecessor} ${Selected}" 
             ws-ondrag="Drag"
             ws-ondragover="DragOver"
             ws-ondrop="Drop"
            >
            <span class="node ${Parent} ${ErrorMsg}" title="expand" ws-onclick="ToggleCollapse"></span>
            <div  class="code-editor-list-text" style="text-indent:${Indent}em; white-space: pre" ws-onclick="Select" ws-onafterrender="AfterRender" >${Name}</div>
            <span class="predecessor" title="toggle predecessor" ws-onclick="TogglePred">X</span>
        </div>
    </div>
    <style>
        .Hidden     { display   : none         }
        table th,table td { padding:0 5px 0 5px; text-overflow: ellipsis }
        td input.form-control { 
            padding    : 0px; 
            font-family: monospace;
            font-size  :   small;
            margin-top :   0px;
            margin-left: -2px;
            width      : 100%
        }
        td select {
            font-size : smaller;
            max-width : 8ch;
        }
        textarea {
           resize : none;
        }
        .tab-content {
            overflow: hidden
        }
        .tab-children {
            position:relative;
        }
        .tab-children>div>* {
            position:absolute;
            height: 100%;
            width:  100%;
            display: grid;
        }
        .relative {
            position:relative;
        }
        .relative>* {
            position:absolute;
            height: 100%;
            width:  100%;
            display: grid;
        }
        table.table-striped    tbody tr:nth-child(even) { background: #EEE  }
        table.table-striped    tbody tr:nth-child(odd ) { background: #FFF  }
        table.table-striped    tbody input              { background: transparent; border: none}
        table.table-striped    tbody select             { background: transparent; border: none}
        table.table-nonstriped tbody tr:nth-child(even) { background: inherit }
        table.table-nonstriped tbody tr:nth-child(odd ) { background: inherit }
        table.table            tbody tr.hover           { border    : solid thin transparent; } 
        table.table            tbody tr.hover:hover     { border    : solid thin blue     ; } 
        table.table            tbody th:hover           { background: gray; cursor: pointer }
        table.table            tbody tr.hover:hover>td  { border-top: solid thin blue     ; 
                                                   border-bottom: solid thin blue     ; } 
        table.table            tbody tr.selected { background   : #b9eeff             ; }
        table.table            tbody tr.formula.selected { background: #20f7f7             ; }
        thead { color: gray }
        h3 { 
            color: gray;
            line-height: 1em;
        }
        button       { border: solid thin transparent ; border-radius: 3px; }
        button:hover { border: solid thin blue }
        .indenter { position  : absolute; 
                    top:0px; bottom:0px; left:0px; 
                    background: white; color:white;
                    border-right: gray thin dotted;
                    }
        body {
            color      : #333;
            font-size  : small;
            font-family: monospace;
            line-height: 1.2;
        }
        .mainTitle {  
            font-size: 48px;
            font-weight: 500;
            color: gray;
            margin-top: -12px;
        }
        .CodeMirror {
            height: 100%;
        }
        
      
        body { margin: 0px }     
             
        div textarea {
            font-family     : monospace;
        }
        .code-editor-list-tile {
            white-space     : nowrap; 
            border-style    : solid none none;
            border-color    : white;
            border-width    : 1px;
            background-color: #D8D8D8;
            display         : flex;
        }
        .code-editor-list-text{
            padding         : 1px 10px 1px 5px;
            overflow        : hidden;
            text-overflow   : ellipsis;
            white-space     : nowrap;
            flex            : 1;
        }
        
        .code-editor-list-tile span.node.ErrorMsg {
            background-color: red
        }
        .code-editor-list-tile span.node.expanded::before {
            content: "-"
        }
        .code-editor-list-tile span.node.collapsed::before {
            content: "+"
        }
        .code-editor-list-tile.direct-predecessor {
            font-weight     : bold;
            color           : blue;
        }
        .code-editor-list-tile.indirect-predecessor {
            color           : blue;
        }
        .code-editor-list-tile.included-predecessor {
            color           : chocolate;
        }
        .code-editor-list-tile.selected {
            background-color: #77F;
            color           : white;
        }
        .code-editor-list-tile.codeSnippet {
            text-decoration: underline
        }
        .code-editor-list-tile:hover {
            background      : lightgray;
        }
        .code-editor-list-tile.selected:hover {
            background      : blue;
        }
        .code-editor-list-tile>.predecessor {
            font-weight     : bold;
            border-style    : inset;
            border-width    : 1px;
            text-align      : center;
            color           : transparent;
        }
        .code-editor-list-tile.direct-predecessor>.predecessor {
            color           : blue;
        }
        
        .CodeMirror { height: 100%; }
        
        .node {
            background-color: white; 
            width           : 2ch; 
            color           : #A03; 
            font-weight     : bold; 
            text-align      : center;
            font-family     : arial;
        }
        .Warning { text-decoration: underline lightblue } 
        .Error   { text-decoration: underline red       } 
        
    </style>
</div>