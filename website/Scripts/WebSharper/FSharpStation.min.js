(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI;a=self;b=a.FsRoot=a.FsRoot||{};c=b.Library=b.Library||{};d=c.ResultMessage=c.ResultMessage||{};e=c.ResultMessageHelpers=c.ResultMessageHelpers||{};f=c.Monads=c.Monads||{};g=f.Seq=f.Seq||{};h=f.Option=f.Option||{};i=f.Async=f.Async||{};j=a.WebSharper;k=j&&j.Obj;l=f.Result=f.Result||{};m=l.Builder=l.Builder||{};n=l.Operators=l.Operators||{};o=f.FusionM=f.FusionM||{};p=o.Operators=o.Operators||{};q=o.Builder=o.Builder||{};r=q.Builder=q.Builder||{};s=f.FusionAsyncM=f.FusionAsyncM||{};t=s.Operators=s.Operators||{};u=s.Builder=s.Builder||{};v=u.Builder=u.Builder||{};w=f.AsyncResult=f.AsyncResult||{};x=f.AsyncResultBuilder=f.AsyncResultBuilder||{};y=f.AsyncResultBuilderP=f.AsyncResultBuilderP||{};z=f.Extensions=f.Extensions||{};A=c.String=c.String||{};B=c.ParseO=c.ParseO||{};C=c.MailboxProcessorExt=c.MailboxProcessorExt||{};D=c.Mailbox=c.Mailbox||{};E=D.StateFull=D.StateFull||{};F=c.ResourceAgentState=c.ResourceAgentState||{};G=c.ResourceAgent=c.ResourceAgent||{};H=c.AgentReaderM=c.AgentReaderM||{};I=c.CommArgRoot=c.CommArgRoot||{};J=I.CommArg=I.CommArg||{};K=I.CommArgCollection=I.CommArgCollection||{};L=I.TypedCommArg=I.TypedCommArg||{};M=I.CommArgModule=I.CommArgModule||{};N=c.FsCodeModule=c.FsCodeModule||{};O=N.PreproDirective=N.PreproDirective||{};P=c.SnippetId=c.SnippetId||{};Q=c.Snippet=c.Snippet||{};R=c.SnippetCollection=c.SnippetCollection||{};S=c.SnippetModule=c.SnippetModule||{};T=c.Hole=c.Hole||{};U=c.TreeReader=c.TreeReader||{};V=U.Node=U.Node||{};W=b.LibraryJS=b.LibraryJS||{};X=W.Promise=W.Promise||{};Y=W.View=W.View||{};Z=W.Serializer=W.Serializer||{};_0=W.LoadFiles=W.LoadFiles||{};_1=W.REGEX=W.REGEX||{};_2=W.Hoverable=W.Hoverable||{};_3=_2.Hoverable=_2.Hoverable||{};_4=W.ResizeObserver=W.ResizeObserver||{};_5=W.WebComponent=W.WebComponent||{};_6=_5.WcTabStrip=_5.WcTabStrip||{};_7=_6.WcTabStripT=_6.WcTabStripT||{};_8=_5.WcSplitter=_5.WcSplitter||{};_9=_8.WcSplitterT=_8.WcSplitterT||{};_=W.Monaco=W.Monaco||{};$=_.Position=_.Position||{};ba=_.Range=_.Range||{};bb=_.Uri=_.Uri||{};bc=_.Location=_.Location||{};bd=_.FindMatch=_.FindMatch||{};be=_.WordAtPosition=_.WordAtPosition||{};bf=_.Model=_.Model||{};bg=_.MarkDownString=_.MarkDownString||{};bh=_.MarkerData=_.MarkerData||{};bi=_.CompletionItem=_.CompletionItem||{};bj=_.Hover=_.Hover||{};bk=_.Editor=_.Editor||{};bl=_.MonacoConfig=_.MonacoConfig||{};bm=b.Library2=b.Library2||{};bn=bm.FsiAgent=bm.FsiAgent||{};bo=bm.WebSockets=bm.WebSockets||{};bp=bo.Address=bo.Address||{};bq=bo.BrokerRequest=bo.BrokerRequest||{};br=bo.MessageType=bo.MessageType||{};bs=bo.BrokerMessage=bo.BrokerMessage||{};bt=bo.Replier=bo.Replier||{};bu=bo.MessageGeneric=bo.MessageGeneric||{};bv=bo.ClientTypeFSharp=bo.ClientTypeFSharp||{};bw=bo.ClientTypeFSStation=bo.ClientTypeFSStation||{};bx=bo.ClientTypeJScript=bo.ClientTypeJScript||{};by=bo.ReplyHandler=bo.ReplyHandler||{};bz=by.Handler=by.Handler||{};bA=bo.WSMessagingClient=bo.WSMessagingClient||{};bB=bm.FSMessage=bm.FSMessage||{};bC=bm.FsAutoComplete=bm.FsAutoComplete||{};bD=bC.CommTypes=bC.CommTypes||{};bE=bD.ResponseError=bD.ResponseError||{};bF=bD.Location=bD.Location||{};bG=bD.CompletionResponse=bD.CompletionResponse||{};bH=bD.OverloadDescription=bD.OverloadDescription||{};bI=bD.OverloadParameter=bD.OverloadParameter||{};bJ=bD.Overload=bD.Overload||{};bK=bD.Parameter=bD.Parameter||{};bL=bD.SignatureData=bD.SignatureData||{};bM=bD.MethodResponse=bD.MethodResponse||{};bN=bD.SymbolUseRange=bD.SymbolUseRange||{};bO=bD.SymbolUseResponse=bD.SymbolUseResponse||{};bP=bD.HelpTextResponse=bD.HelpTextResponse||{};bQ=bD.CompilerLocationResponse=bD.CompilerLocationResponse||{};bR=bD.FSharpErrorInfo=bD.FSharpErrorInfo||{};bS=bD.ErrorResponse=bD.ErrorResponse||{};bT=bD.Colorization=bD.Colorization||{};bU=bD.Declaration=bD.Declaration||{};bV=bD.DeclarationResponse=bD.DeclarationResponse||{};bW=bD.OpenNamespace=bD.OpenNamespace||{};bX=bD.QualifySymbol=bD.QualifySymbol||{};bY=bD.ResolveNamespaceResponse=bD.ResolveNamespaceResponse||{};bZ=bD.UnionCaseResponse=bD.UnionCaseResponse||{};b0=bC.MsgTypes=bC.MsgTypes||{};b1=b0.ParseRequest=b0.ParseRequest||{};b2=b0.DeclarationsRequest=b0.DeclarationsRequest||{};b3=b0.CompletionRequest=b0.CompletionRequest||{};b4=b0.PositionRequest=b0.PositionRequest||{};b5=b0.ProjectRequest=b0.ProjectRequest||{};b6=b0.LintRequest=b0.LintRequest||{};b7=b0.HelptextRequest=b0.HelptextRequest||{};b8=b0.WorkspacePeekRequest=b0.WorkspacePeekRequest||{};b9=bC.Calls=bC.Calls||{};b_=b.FSharpStation=b.FSharpStation||{};b$=b_.FStation=b_.FStation||{};ca=b_.Snippets=b_.Snippets||{};cb=b_.DragDrop=b_.DragDrop||{};cc=cb.DragInfo=cb.DragInfo||{};cd=b_.Templating=b_.Templating||{};ce=b_.RenderSnippets=b_.RenderSnippets||{};cf=b_.RenderProperties=b_.RenderProperties||{};cg=b_.Monaco=b_.Monaco||{};ch=cg.HoverProvider=cg.HoverProvider||{};ci=cg.CompletionItemProvider=cg.CompletionItemProvider||{};cj=cg.DefinitionProvider=cg.DefinitionProvider||{};ck=cg.MonacoOptions=cg.MonacoOptions||{};cl=cg.ITextModelService=cg.ITextModelService||{};cm=b_.JumpTo=b_.JumpTo||{};cn=b_.CustomAction=b_.CustomAction||{};co=b_.Serializer=b_.Serializer||{};cp=co.Model=co.Model||{};cq=b_.LoadSave=b_.LoadSave||{};cr=b_.Importer=b_.Importer||{};cs=b_.MainProgram=b_.MainProgram||{};ct=cs.EndPoint=cs.EndPoint||{};cu=b_.Messaging=b_.Messaging||{};cv=a.StartupCode$FSharpStation$FSharpStation=a.StartupCode$FSharpStation$FSharpStation||{};cw=a.FSharpStation_JsonEncoder=a.FSharpStation_JsonEncoder||{};cx=a.FSharpStation_JsonDecoder=a.FSharpStation_JsonDecoder||{};cy=a.FSharpStation_GeneratedPrintf=a.FSharpStation_GeneratedPrintf||{};cz=a.FSharpStation_Router=a.FSharpStation_Router||{};cA=a.FSharpStation_Templates=a.FSharpStation_Templates||{};cB=a.GeneratedPrintf=a.GeneratedPrintf||{};cC=a.IntelliFactory;cD=cC&&cC.Runtime;cE=j&&j.Utils;cF=j&&j.Strings;cG=j&&j.Seq;cH=j&&j.Arrays;cI=j&&j.List;cJ=j&&j.Concurrency;cK=j&&j.Enumerator;cL=j&&j.Result;cM=j&&j.Operators;cN=j&&j.Unchecked;cO=j&&j.Slice;cP=j&&j.Control;cQ=cP&&cP.MailboxProcessor;cR=a.System;cS=cR&&cR.Guid;cT=j&&j.Collections;cU=cT&&cT.FSharpSet;cV=j&&j.Option;cW=j&&j.CancellationTokenSource;cX=a.console;cY=j&&j.UI;cZ=cY&&cY.View;c0=cY&&cY.Var$1;c1=cT&&cT.FSharpMap;c2=cT&&cT.BalancedTree;c3=cY&&cY.DomUtility;c4=cY&&cY.Doc;c5=cY&&cY.AttrModule;c6=cY&&cY.AttrProxy;c7=a.Node;c8=cY&&cY.Client;c9=c8&&c8.Templates;c_=a.Reflect;c$=a.Object;da=cT&&cT.Map;db=a.JSON;dc=j&&j.TimeoutException;dd=j&&j.ClientSideJson;de=dd&&dd.Provider;df=j&&j.Owin;dg=df&&df.WebSocket;dh=dg&&dg.Client;di=dh&&dh.WithEncoding;dj=dg&&dg.Endpoint;dk=a.location;dl=j&&j.Remoting;dm=dl&&dl.AjaxRemotingProvider;dn=cY&&cY.FromView;_do=cY&&cY.Templating;dp=_do&&_do.Runtime;dq=dp&&dp.Server;dr=dq&&dq.ProviderBuilder;ds=dq&&dq.Handler;dt=dq&&dq.TemplateInstance;du=j&&j.JavaScript;dv=du&&du.Promise;dw=W&&W.AppFramework;dx=a.Date;dy=dw&&dw.PlugIn;dz=j&&j.Lazy;dA=W&&W.LayoutEngineModule;dB=j&&j.DateUtil;dC=j&&j.Numeric;dD=cY&&cY.ListModel;dE=cT&&cT.Dictionary;dF=cY&&cY.Router;dG=j&&j.Sitelets;dH=dG&&dG.RouterOperators;dI=a.LayoutEngine_Templates;d=c.ResultMessage=cD.Class({toString:function(){return this.$==1?(function(dJ){return function(dK){return dJ("Error    : "+cE.toSafe(dK));};}(a.id))(this.$0):this.$==2?(function(dJ){return function(dK){return dJ("Warning  : "+cE.toSafe(dK));};}(a.id))(this.$0):this.$==3?this.$0:this.$==4?(function(dJ){return function(dK){return dJ(a.String(dK));};}(a.id))(this.$0):this.$==5?(((cD.Curried3(function(dJ,dK,dL){return dJ("Exception: "+cE.toSafe(dK)+", "+cE.toSafe(dL));}))(a.id))(this.$0))(this.$1):this.$==6?cF.concat("\n",cG.map(a.String,cG.filter(function(dJ){return dJ.$!=0;},this.$0))):"";}},null,d);d.NoMsg=new d({$:0});e.infof=function(dJ){return dJ(function(dK){return new d({$:3,$0:dK});});};e.warningf=function(dJ){return dJ(function(dK){return new d({$:2,$0:dK});});};e.errorMsgf=function(dJ){return dJ(function(dK){return new d({$:1,$0:dK});});};d.summarizedI=function(dJ){return d.summarizedF(function(){return[0,0,1];},dJ);};d.summarizedW=function(dJ){return d.summarizedF(function(){return[0,1,0];},dJ);};d.summarized=function(dJ){return d.summarizedF(function(){return[1,0,0];},dJ);};d.summarizedF=function(dJ,dK){return d.summaryF(dJ,dK)+a.String(dK);};d.summaryF=function(dJ,dK){var dL,dM;dM=d.countF(dJ,dK);switch(dM[0]===0?dM[1]===0?0:dM[1]===1?dM[2]===0?0:(dL=dM[1],2):(dL=dM[1],2):dM[0]===1?dM[1]===0?dM[2]===0?0:(dL=dM[0],1):(dL=[dM[0],dM[1]],3):dM[1]===0?(dL=dM[0],1):(dL=[dM[0],dM[1]],3)){case 0:return"";case 1:return(function(dN){return function(dO){return dN("Errors   : "+a.String(dO)+"\n");};}(a.id))(dL);case 2:return(function(dN){return function(dO){return dN("Warnings : "+a.String(dO)+"\n");};}(a.id))(dL);case 3:return(((cD.Curried3(function(dN,dO,dP){return dN("Errors   : "+a.String(dO)+", Warnings: "+a.String(dP)+"\n");}))(a.id))(dL[0]))(dL[1]);}};d.reduceMsgs=function(dJ){return cG.fold(d.addMsg,d.NoMsg,dJ);};d.addMsg=function(dJ,dK){return dJ.$==0?dK:dJ.$==6?dK.$==0?dJ:dK.$==6?new d({$:6,$0:dJ.$0.concat(dK.$0)}):new d({$:6,$0:dJ.$0.concat([dK])}):dK.$==0?dJ:dK.$==6?new d({$:6,$0:[dJ].concat(dK.$0)}):new d({$:6,$0:[dJ,dK]});};d.countI=function(dJ){return d.countF(function(){return[0,0,1];},dJ);};d.countW=function(dJ){return d.countF(function(){return[0,1,0];},dJ);};d.count=function(dJ){return d.countF(function(){return[1,0,0];},dJ);};d.countF=function(dJ,dK){function dL(dM,dN,dO){return function(dP){return[dM+dP[0],dN+dP[1],dO+dP[2]];};}return dK.$==0?[0,0,0]:dK.$==3?[0,0,1]:dK.$==2?[0,1,0]:dK.$==4?dJ(dK.$0):dK.$==6?cG.fold(function(dM,dN){return(function(dO){return dL(dO[0],dO[1],dO[2]);}(dM))(dN);},[0,0,0],cG.map(function(dM){return d.countF(dJ,dM);},d.exclnoMsg(dK.$0))):[1,0,0];};d.isFatalW=function(dJ){return d.isFatalF(function(){return false;},dJ);};d.isFatal=function(dJ){return d.isFatalF(function(){return true;},dJ);};d.isFatalF=function(dJ,dK){return dK.$==0?false:dK.$==3?false:dK.$==2?false:dK.$==4?dJ(dK.$0):dK.$==6?cG.exists(function(dL){return d.isFatalF(dJ,dL);},dK.$0):true;};d.isWarningOrInfoW=function(dJ){return d.isWarningOrInfoF(function(){return true;},dJ);};d.isWarningOrInfo=function(dJ){return d.isWarningOrInfoF(function(){return false;},dJ);};d.isWarningOrInfoF=function(dJ,dK){return dK.$==2||(dK.$==4?dJ(dK.$0):dK.$==6&&cG.forall(function(dL){return d.isWarningOrInfoF(dJ,dL)||d.isInfoF(dJ,dL);},d.exclnoMsg(dK.$0)));};d.isInfoI=function(dJ){return d.isInfoF(function(){return true;},dJ);};d.isInfo=function(dJ){return d.isInfoF(function(){return false;},dJ);};d.isInfoF=function(dJ,dK){return dK.$==3||(dK.$==4?dJ(dK.$0):dK.$==6&&cG.forall(function(dL){return d.isInfoF(dJ,dL);},d.exclnoMsg(dK.$0)));};d.freeMessageI=function(dJ){var dK;function dL(dM){return new d({$:3,$0:dM});}return d.freeMessageF((dK=function(dM){return function(dN){return dM(a.String(dN));};}(a.id),function(dM){return dL(dK(dM));}),dJ);};d.freeMessageW=function(dJ){var dK;function dL(dM){return new d({$:2,$0:dM});}return d.freeMessageF((dK=function(dM){return function(dN){return dM(a.String(dN));};}(a.id),function(dM){return dL(dK(dM));}),dJ);};d.freeMessage=function(dJ){var dK;function dL(dM){return new d({$:1,$0:dM});}return d.freeMessageF((dK=function(dM){return function(dN){return dM(a.String(dN));};}(a.id),function(dM){return dL(dK(dM));}),dJ);};d.freeMessageF=function(dJ,dK){return d.bindMessage(dJ,dK);};d.bindMessage=function(dJ,dK){return dK.$==4?dJ(dK.$0):dK.$==1?new d({$:1,$0:dK.$0}):dK.$==3?new d({$:3,$0:dK.$0}):dK.$==2?new d({$:2,$0:dK.$0}):dK.$==5?new d({$:5,$0:dK.$0,$1:dK.$1}):dK.$==6?new d({$:6,$0:cH.map(function(dL){return d.bindMessage(dJ,dL);},dK.$0)}):d.NoMsg;};d.exclnoMsg=function(dJ){function dK(dL){return!dL;}return cG.filter(function(dL){return dK(d.noMsg(dL));},dJ);};d.noMsg=function(dJ){return dJ.$==0;};g.absorbR=function(dJ){return cG.choose(function(dK){return dK.$==0?{$:1,$0:dK.$0}:null;},dJ);};g.absorbO=function(dJ){return cG.choose(a.id,dJ);};g.insertR=function(dJ){return dJ.$==0?cG.map(function(dK){return{$:0,$0:dK};},dJ.$0):(g.rtn())(c.Error$1(dJ.$0));};g.insertO=function(dJ){var dK;dK=dJ==null?null:{$:1,$0:cG.map(function(dL){return{$:1,$0:dL};},dJ.$0)};return dK==null?(g.rtn())(null):dK.$0;};g.rtn=function(){cv.$cctor();return cv.rtn;};h.absorbR=function(dJ){var dK,dL;return dJ!=null&&dJ.$==1&&(dL=dJ.$0,dL.$==0&&(dK=dL.$0,true))?{$:1,$0:dK}:null;};h.insertR=function(dJ){var dK;return dJ.$==0?(dK=dJ.$0,dK==null?null:{$:1,$0:{$:0,$0:dK.$0}}):h.rtn(c.Error$1(dJ.$0));};h.sequenceSeq=function(dJ){return h.traverseSeq(a.id,dJ);};h.traverseSeq=function(dJ,dK){var dL;dL=cH.foldBack(function(dM,dN){return h.op_GreaterGreaterEquals(dJ(dM),function(dO){return h.op_GreaterGreaterEquals(dN,function(dP){return h.rtn(new cI.T({$:1,$0:dO,$1:dP}));});});},cH.ofSeq(dK),h.rtn(cI.T.Empty));return dL==null?null:{$:1,$0:dL.$0};};h.op_GreaterGreaterEquals=function(dJ,dK){return dJ==null?null:dK(dJ.$0);};h.bindNone=function(dJ,dK){return dK!=null&&dK.$==1?{$:1,$0:dK.$0}:dJ();};h.mapNone=function(dJ,dK){return dK==null?dJ():dK.$0;};h.apply=function(dJ,dK){var dL;return dJ!=null&&dJ.$==1&&(dK!=null&&dK.$==1&&(dL=[dJ.$0,dK.$0],true))?{$:1,$0:dL[0](dL[1])}:null;};h.join=function(dJ){return dJ==null?null:dJ.$0;};h.iter=function(dJ){function dK(dM){return dM==null?null:{$:1,$0:dJ(dM.$0)};}function dL(dM){if(dM==null);}return function(dM){return dL(dK(dM));};};h.rtn=function(dJ){return{$:1,$0:dJ};};i.insertR=function(dJ){function dK(dM){return{$:0,$0:dM};}function dL(dM){return cJ.Return(dM);}return dJ.$==0?cJ.Bind(dJ.$0,function(dM){return dL(dK(dM));}):cJ.Return(c.Error$1(dJ.$0));};i.insertO=function(dJ){var dK;function dL(dN){return{$:1,$0:dN};}function dM(dN){return cJ.Return(dN);}dK=dJ==null?null:{$:1,$0:cJ.Bind(dJ.$0,function(dN){return dM(dL(dN));})};return dK==null?cJ.Return(null):dK.$0;};i.sequenceSeq=function(dJ){return i.traverseSeq(a.id,dJ);};i.traverseSeq=function(dJ,dK){function dL(dM){return cJ.Return(dM);}return cJ.Bind(cH.foldBack(function(dM,dN){return i.op_GreaterGreaterEquals(dJ(dM),function(dO){return i.op_GreaterGreaterEquals(dN,function(dP){return cJ.Return(new cI.T({$:1,$0:dO,$1:dP}));});});},cH.ofSeq(dK),cJ.Return(cI.T.Empty)),function(dM){return dL(a.id(dM));});};i.op_GreaterGreaterEquals=function(dJ,dK){return cJ.Bind(dJ,dK);};i.sleepThen=function(dJ,dK){var dL;dL=null;return cJ.Delay(function(){return cJ.Bind(cJ.Sleep(dK),function(){return cJ.Return(dJ());});});};i.apply=function(dJ,dK){var dL;dL=null;return cJ.Delay(function(){return cJ.Bind(cJ.StartChild(dJ,null),function(dM){return cJ.Bind(cJ.StartChild(dK,null),function(dN){return cJ.Bind(dM,function(dO){return cJ.Bind(dN,function(dP){return cJ.Return(dO(dP));});});});});});};m=l.Builder=cD.Class({For:function(dJ,dK){var dL;dL=this;return this.Using(cK.Get(dJ),function(dM){return dL.While(function(){return dM.MoveNext();},dL.Delay(function(){return dK(dM.Current());}));});},While:function(dJ,dK){function dL(dM,dN){return dM()?cL.Bind(function(){return dL(dM,dN);},dN()):l.rtn();}return dL(dJ,dK);},Using:function(dJ,dK){try{return dK(dJ);}finally{dJ.Dispose();}},TryFinally:function(dJ,dK){try{return dJ();}finally{dK();}},TryWith:function(dJ,dK){try{return dJ();}catch(dL){return dK(dL);}},Run:function(dJ){return l.bindP(dJ,{$:0,$0:null});},Combine:function(dJ,dK){return cL.Bind(dK,dJ);},Delay:a.id,Zero:function(){return l.rtn();},Bind:function(dJ,dK){return cL.Bind(dK,dJ);},ReturnFrom:a.id,Return:function(dJ){return l.rtn(dJ);}},k,m);m.New=cD.Ctor(function(){k.New.call(this);},m);n.result=function(){cv.$cctor();return cv.result$1;};n.rtn=function(dJ){return l.rtn(dJ);};n.op_GreaterEqualsGreater=function(dJ,dK,dL){return n.op_GreaterGreaterEquals(dJ(dL),dK);};n.op_RightShift=function(dJ,dK,dL){return n.op_BarGreaterGreater(dJ(dL),dK);};n.op_GreaterGreaterEquals=function(dJ,dK){return l.bindP(dK,dJ);};n.op_BarGreaterGreater=function(dJ,dK){return l.mapP(dK,dJ);};l.result=function(){cv.$cctor();return cv.result;};l.sequenceSeq=function(dJ){return l.traverseSeq(a.id,dJ);};l.traverseSeq=function(dJ,dK){return cL.Map(a.id,cH.foldBack(function(dL,dM){return l.op_GreaterGreaterEquals(dJ(dL),function(dN){return l.op_GreaterGreaterEquals(dM,function(dO){return l.rtn(new cI.T({$:1,$0:dN,$1:dO}));});});},cH.ofSeq(dK),l.rtn(cI.T.Empty)));};l.op_GreaterGreaterEquals=function(dJ,dK){return cL.Bind(dK,dJ);};l.absorbO=function(dJ,dK){return l.bindP(function(dL){return l.ofOption(dJ,dL);},dK);};l.insertO=function(dJ){var dK;dK=dJ==null?null:{$:1,$0:cL.Map(function(dL){return{$:1,$0:dL};},dJ.$0)};return dK==null?{$:0,$0:null}:dK.$0;};l.ofOption=function(dJ,dK){var dL;dL=dK==null?null:{$:1,$0:{$:0,$0:dK.$0}};return dL==null?function(dM){return c.Error$1(dJ(dM));}():dL.$0;};l.get=function(dJ){return l.defaultWith(function(dK){return cM.FailWith(a.String(dK));},dJ);};l.iter=function(dJ,dK,dL){l.defaultWith(dJ,l.mapP(dK,dL));};l.mapP=function(dJ,dK){return l.bindP(function(dL){return l.rtn(dJ(dL));},dK);};l.bindP=function(dJ,dK){if(dK.$==1)return c.Error$1(dK.$0);else try{return dJ(dK.$0);}catch(dL){return c.Error$1(new d({$:5,$0:dL.message,$1:dL.stack}));}};l.failIfFalse=function(dJ,dK){return!dK?c.Error$1(dJ):{$:0,$0:null};};l.failIfTrue=function(dJ,dK){return dK?c.Error$1(dJ):{$:0,$0:null};};l.defaultValue=function(dJ,dK){return dK.$==1?dJ:dK.$0;};l.defaultWith=function(dJ,dK){return dK.$==1?dJ(dK.$0):dK.$0;};l.toOption=function(dJ){return dJ.$==0?{$:1,$0:dJ.$0}:null;};l.rtn=function(dJ){return{$:0,$0:dJ};};l.freeMessage=function(dJ){return dJ.$==1?c.Error$1(d.freeMessage(dJ.$0)):{$:0,$0:dJ.$0};};p.rtn=function(dJ){return o.rtn(dJ);};p.op_GreaterEqualsGreater=function(dJ,dK,dL){return p.op_GreaterGreaterEquals(dJ(dL),dK);};p.op_RightShift=function(dJ,dK,dL){return p.op_BarGreaterGreater(dJ(dL),dK);};p.op_GreaterGreaterEquals=function(dJ,dK){return o.bind(dK,dJ);};p.op_BarGreaterGreater=function(dJ,dK){return o.map(dK,dJ);};p.op_LessMultiplyGreater=function(dJ,dK){return o.apply(dJ,dK);};r=q.Builder=cD.Class({For:function(dJ,dK){var dL;dL=this;return this.Using(cK.Get(dJ),function(dM){return dL.While(function(){return dM.MoveNext();},dL.Delay(function(){return dK(dM.Current());}));});},Using:function(dJ,dK){return this.TryFinally(function(){return dK(dJ);},function(){if(!cN.Equals(dJ,null))dJ.Dispose();});},TryFinally:function(dJ,dK){return o.wrap(function(dL){try{return(o.getFun(dJ()))(dL);}finally{dK();}});},TryWith:function(dJ,dK){return o.wrap(function(dL){try{return(o.getFun(dJ()))(dL);}catch(dM){return dK(dM);}});},While:function(dJ,dK){function dL(dM,dN){return dM()?o.bind(function(){return dL(dM,dN);},dN()):o.rtn();}return dL(dJ,dK);},Run:function(dJ){return o.wrap(function(dK){return(o.getFun(dJ()))(dK);});},Combine:function(dJ,dK){return o.bind(dK,dJ);},Delay:a.id,Zero:function(){return o.rtn();},Bind:function(dJ,dK){return o.bind(dK,dJ);},ReturnFrom:function(dJ){return o.from(dJ);},Return:function(dJ){return o.rtn(dJ);}},k,r);r.New=cD.Ctor(function(){k.New.call(this);},r);o.fusion=function(){cv.$cctor();return cv.fusion;};o.absorbO=function(dJ,dK){return o.absorbR(o.map(function(dL){return l.ofOption(dJ,dL);},dK));};o.absorbR=function(dJ){return o.bind(o.ofResultRM,dJ);};o.insertSnd=function(dJ,dK){return o.map(function(dL){return[dL,dK];},dJ);};o.insertFst=function(dJ,dK){return o.map(function(dL){return[dJ,dL];},dK);};o.insertR=function(dJ){return dJ.$==0?o.map(function(dK){return{$:0,$0:dK};},dJ.$0):o.rtn(c.Error$1(dJ.$0));};o.insertO=function(dJ){var dK;dK=dJ==null?null:{$:1,$0:o.map(function(dL){return{$:1,$0:dL};},dJ.$0)};return dK==null?o.rtn(null):dK.$0;};o.iterResultPrint=function(dJ){function dK(dL){c.print$1(dL);}o.iterReader(function(dL){return dK(d.summarized(dL));},function(dL){c.print$1(dL);},null,dJ);};o.iterResult=function(dJ,dK,dL){o.iterReader(dJ,dK,null,dL);};o.runResult=function(dJ){return o.runReader(null,dJ);};o.runReader=function(dJ,dK){var dL,dM,dN;dL=o.run(dJ,dK);dM=dL[2];return l.ofOption(function(){return dM;},(dN=dL[0],dN==null?null:{$:1,$0:[dN.$0,dM]}));};o.mapReader=function(dJ,dK){return o.mapState(function(){return dJ;},a.id,dK);};o.readerFun=function(dJ){return o.map(dJ,o.getS());};o.sequenceSeq=function(dJ){return o.traverseSeq(a.id,dJ);};o.traverseSeq=function(dJ,dK){return o.map(a.id,cH.foldBack(function(dL,dM){return o.op_GreaterGreaterEquals(dJ(dL),function(dN){return o.op_GreaterGreaterEquals(dM,function(dO){return o.rtn(new cI.T({$:1,$0:dN,$1:dO}));});});},cH.ofSeq(dK),o.rtn(cI.T.Empty)));};o.op_GreaterGreaterEquals=function(dJ,dK){return o.bind(dK,dJ);};o.apply=function(dJ,dK){return o.bind(function(dL){return o.map(dL,dK);},dJ);};o.memoizeRm=function(dJ,dK,dL){return{$:0,$0:function(dM){var dN,dO,dP,dQ,dR;function dS(dT,dU){return(dP(dT))(function(){return dU;});}dN=dM[0];dO=dJ(dN);dP=dO[1];return o.run(dN,(dQ=(dR=dO[0](dL),dR==null?null:{$:1,$0:o.rtn(dR.$0)}),dQ==null?o.map(function(dT){return dS(dL,dT);},dK(dL)):dQ.$0));}};};o.iterReader=function(dJ,dK,dL,dM){var dN,dO;dN=o.run(dL,o.map(dK,dM));dO=dN[2];(h.iter(a.ignore))(dN[0]);dO.$!==0?dJ(dO):void 0;};o.mapState=function(dJ,dK,dL){return{$:0,$0:function(dM){var dN,dO;dN=dM[0];dO=(o.getFun(dL))([dJ(dN),dM[1]]);return[dO[0],dK(dN,dO[1]),dO[2]];}};};o.freeMessageW=function(dJ){var dK;function dL(dM){return new d({$:2,$0:dM});}return o.freeMessageF((dK=function(dM){return function(dN){return dM(a.String(dN));};}(a.id),function(dM){return dL(dK(dM));}),dJ);};o.freeMessage=function(dJ){var dK;function dL(dM){return new d({$:1,$0:dM});}return o.freeMessageF((dK=function(dM){return function(dN){return dM(a.String(dN));};}(a.id),function(dM){return dL(dK(dM));}),dJ);};o.freeMessageF=function(dJ,dK){return{$:0,$0:function(dL){var dM,dN,dO;dM=dL[0];dN=dL[1];try{dO=dK.$0([dM,d.freeMessage(dN)]);return[dO[0],dO[1],d.freeMessageF(dJ,dO[2])];}catch(dP){return[null,dM,d.freeMessage(d.addMsg(dN,new d({$:5,$0:dP.message,$1:dP.stack})))];}}};};o.ofFusionM=function(dJ){return o.from(dJ);};o.ofResultMessage=function(dJ){return o.OkFMsg(null,dJ);};o.ofMessage=function(dJ){return o.OkFMsg(null,new d({$:4,$0:dJ}));};o.ofOption=function(dJ,dK){return dK==null?o.ErrorF(dJ()):o.OkF(dK.$0);};o.ofResult=function(dJ){return dJ.$==1?o.ErrorF(new d({$:1,$0:(function(dK){return function(dL){return dK(cE.prettyPrint(dL));};}(a.id))(dJ.$0)})):o.OkF(dJ.$0);};o.ofResultS=function(dJ){return dJ.$==1?o.ErrorF(new d({$:1,$0:dJ.$0})):o.OkF(dJ.$0);};o.ofResultM=function(dJ){return dJ.$==1?o.ErrorF(new d({$:4,$0:dJ.$0})):o.OkF(dJ.$0);};o.ofResultRM=function(dJ){return dJ.$==1?o.ErrorF(dJ.$0):o.OkF(dJ.$0);};o.inling=function(dJ,dK){return{$:0,$0:function(dL){var dM,dN,dO;dM=dL[0];dN=dL[1];try{dO=dK.$0([dM,dN]);return[{$:1,$0:dO[0]},dO[1],dO[2]];}catch(dP){return[null,dM,d.addMsg(dN,new d({$:5,$0:dP.message,$1:dP.stack}))];}}};};o.check=function(){return{$:0,$0:function(dJ){return[d.isFatal(dJ[1])?null:{$:1,$0:null},dJ[0],d.NoMsg];}};};o.putS=function(dJ){return{$:0,$0:function(){return[{$:1,$0:null},dJ,d.NoMsg];}};};o.getR=function(){return{$:0,$0:function(dJ){return[{$:1,$0:dJ[1]},dJ[0],d.NoMsg];}};};o.getS=function(){return{$:0,$0:function(dJ){var dK;dK=dJ[0];return[{$:1,$0:dK},dK,d.NoMsg];}};};o.ErrorF=function(dJ){return{$:0,$0:function(dK){return[null,dK[0],dJ];}};};o.OkFMsg=function(dJ,dK){return{$:0,$0:function(dL){return[{$:1,$0:dJ},dL[0],dK];}};};o.OkF=function(dJ){return{$:0,$0:function(dK){return[{$:1,$0:dJ},dK[0],d.NoMsg];}};};o.run=function(dJ,dK){return(o.getFun(dK))([dJ,d.NoMsg]);};o.from=a.id;o.getFun=function(dJ){return dJ.$0;};o.wrap=function(dJ){return{$:0,$0:dJ};};o.map=function(dJ,dK){return o.bind(function(dL){return o.rtn(dJ(dL));},dK);};o.bind=function(dJ,dK){return{$:0,$0:function(dL){var dM,dN,dO,dP,dQ,dR,dS;dM=dL[0];dN=dL[1];try{dO=dK.$0([dM,dN]);dP=dO[0];dQ=dO[1];dR=dO[2];return dP!=null&&dP.$==1?(dS=dJ(dP.$0).$0([dQ,d.addMsg(dN,dR)]),[dS[0],dS[1],d.addMsg(dR,dS[2])]):[null,dQ,dR];}catch(dT){return[null,dM,d.addMsg(dN,new d({$:5,$0:dT.message,$1:dT.stack}))];}}};};o.rtn=function(dJ){return{$:0,$0:function(dK){return[{$:1,$0:dJ},dK[0],d.NoMsg];}};};t.rtn=function(dJ){return s.rtn(dJ);};t.op_GreaterEqualsGreater=function(dJ,dK,dL){return t.op_GreaterGreaterEquals(dJ(dL),dK);};t.op_RightShift=function(dJ,dK,dL){return t.op_BarGreaterGreater(dJ(dL),dK);};t.op_GreaterGreaterEquals=function(dJ,dK){return s.bind(dK,dJ);};t.op_BarGreaterGreater=function(dJ,dK){return s.map(dK,dJ);};t.op_LessMultiplyGreater=function(dJ,dK){return s.apply(dJ,dK);};v=u.Builder=cD.Class({For:function(dJ,dK){var dL;dL=this;return this.Using(cK.Get(dJ),function(dM){return dL.While(function(){return dM.MoveNext();},dL.Delay(function(){return dK(dM.Current());}));});},Using:function(dJ,dK){function dL(dM,dN){return cJ.Using(dJ,function(dO){return(s.getFun(dK(dO)))([dM,dN]);});}return s.wrap(function(dM){return dL(dM[0],dM[1]);});},TryFinally:function(dJ,dK){function dL(dM,dN){return cJ.TryFinally((s.getFun(dJ()))([dM,dN]),dK);}return s.wrap(function(dM){return dL(dM[0],dM[1]);});},TryWith:function(dJ,dK){function dL(dM,dN){return cJ.TryWith((s.getFun(dJ()))([dM,dN]),dK);}return s.wrap(function(dM){return dL(dM[0],dM[1]);});},While:function(dJ,dK){function dL(dM,dN){return dM()?s.bind(function(){return dL(dM,dN);},dN()):s.rtn();}return dL(dJ,dK);},Run:function(dJ){return s.wrap(function(dK){return(s.getFun(dJ()))(dK);});},Combine:function(dJ,dK){return s.bind(dK,dJ);},Delay:a.id,Zero:function(){return s.rtn();},Bind:function(dJ,dK){return s.bind(dK,dJ);},ReturnFrom:function(dJ){return s.from(dJ);},Return:function(dJ){return s.rtn(dJ);}},k,v);v.New=cD.Ctor(function(){k.New.call(this);},v);s.fusion=function(){cv.$cctor();return cv.fusion$1;};s.iterResultPrintA=function(dJ){function dK(dL){c.print$1(dL);}s.iterReaderA(function(dL){return dK(d.summarized(dL));},function(dL){c.print$1(dL);},null,dJ);};s.iterResultPrint=function(dJ){function dK(dL){c.print$1(dL);}s.iterReader(function(dL){return dK(d.summarized(dL));},function(dL){c.print$1(dL);},null,dJ);};s.iterResultA=function(dJ,dK,dL){s.iterReaderA(dJ,dK,null,dL);};s.iterResult=function(dJ,dK,dL){s.iterReader(dJ,dK,null,dL);};s.runResult=function(dJ){return s.runReader(null,dJ);};s.runReader=function(dJ,dK){function dL(dN,dO,dP){return l.ofOption(function(){return dP;},dN==null?null:{$:1,$0:[dN.$0,dP]});}function dM(dN){return cJ.Return(dN);}return cJ.Bind(s.run(dJ,dK),function(dN){return dM(dL.apply(null,dN));});};s.mapReader=function(dJ,dK){return s.mapState(function(){return dJ;},a.id,dK);};s.absorbO=function(dJ,dK){return s.absorbR(s.map(function(dL){return l.ofOption(dJ,dL);},dK));};s.absorbR=function(dJ){return s.bind(s.ofResultRM,dJ);};s.insertSnd=function(dJ,dK){return s.map(function(dL){return[dL,dK];},dJ);};s.insertFst=function(dJ,dK){return s.map(function(dL){return[dJ,dL];},dK);};s.insertR=function(dJ){return dJ.$==0?s.map(function(dK){return{$:0,$0:dK};},dJ.$0):s.rtn(c.Error$1(dJ.$0));};s.insertO=function(dJ){var dK;dK=dJ==null?null:{$:1,$0:s.map(function(dL){return{$:1,$0:dL};},dJ.$0)};return dK==null?s.rtn(null):dK.$0;};s.readerFun=function(dJ){return s.map(dJ,s.getS());};s.freeMessageW=function(dJ){var dK;function dL(dM){return new d({$:2,$0:dM});}return s.freeMessageF((dK=function(dM){return function(dN){return dM(a.String(dN));};}(a.id),function(dM){return dL(dK(dM));}),dJ);};s.freeMessage=function(dJ){var dK;function dL(dM){return new d({$:1,$0:dM});}return s.freeMessageF((dK=function(dM){return function(dN){return dM(a.String(dN));};}(a.id),function(dM){return dL(dK(dM));}),dJ);};s.sequenceSeq=function(dJ){return s.traverseSeq(a.id,dJ);};s.traverseSeq=function(dJ,dK){return s.map(a.id,cH.foldBack(function(dL,dM){return s.op_GreaterGreaterEquals(dJ(dL),function(dN){return s.op_GreaterGreaterEquals(dM,function(dO){return s.rtn(new cI.T({$:1,$0:dN,$1:dO}));});});},cH.ofSeq(dK),s.rtn(cI.T.Empty)));};s.op_GreaterGreaterEquals=function(dJ,dK){return s.bind(dK,dJ);};s.apply=function(dJ,dK){return s.bind(function(dL){return s.map(dL,dK);},dJ);};s.memoizeRm=function(dJ,dK,dL){return{$:0,$0:function(dM){var dN,dO;dN=dM[0];dO=null;return cJ.Delay(function(){var dP,dQ,dR,dS;function dT(dU,dV){return(dQ(dU))(function(){return dV;});}dP=dJ(dN);dQ=dP[1];return s.run(dN,(dR=(dS=dP[0](dL),dS==null?null:{$:1,$0:s.rtn(dS.$0)}),dR==null?s.map(function(dU){return dT(dL,dU);},dK(dL)):dR.$0));});}};};s.iterReaderA=function(dJ,dK,dL,dM){function dN(dP,dQ,dR){(h.iter(a.ignore))(dP);dR.$!==0?dJ(dR):void 0;}function dO(dP){return cJ.Return(dP);}cJ.Start(cJ.Bind(s.run(dL,s.map(dK,dM)),function(dP){return dO(dN.apply(null,dP));}),null);};s.iterReader=function(dJ,dK,dL,dM){var dN;dN=s.run(dL,s.map(dK,dM));throw"iterS cannot be used in JavaScript!";};s.mapState=function(dJ,dK,dL){return{$:0,$0:function(dM){var dN,dO,dP;dN=dM[0];dO=dM[1];dP=null;return cJ.Delay(function(){return cJ.Bind((s.getFun(dL))([dJ(dN),dO]),function(dQ){return cJ.Return([dQ[0],dK(dN,dQ[1]),dQ[2]]);});});}};};s.freeMessageF=function(dJ,dK){return{$:0,$0:function(dL){var dM,dN,dO;dM=dL[0];dN=dL[1];dO=null;return cJ.Delay(function(){return cJ.TryWith(cJ.Delay(function(){return cJ.Bind(dK.$0([dM,d.freeMessage(dN)]),function(dP){return cJ.Return([dP[0],dP[1],d.freeMessageF(dJ,dP[2])]);});}),function(dP){return cJ.Return([null,dM,d.freeMessage(d.addMsg(dN,new d({$:5,$0:dP.message,$1:dP.stack})))]);});});}};};s.ofAsyncResultRM=function(dJ){return s.bind(s.ofResultRM,s.ofAsync(dJ));};s.ofAsync=function(dJ){return{$:0,$0:function(dK){var dL;function dM(dO){return[{$:1,$0:dO},dL,d.NoMsg];}function dN(dO){return cJ.Return(dO);}dL=dK[0];return cJ.Bind(dJ,function(dO){return dN(dM(dO));});}};};s.ofFusionM=function(dJ){var dK;dK=dJ.$0;return{$:0,$0:function(dL){return cJ.Return(dK([dL[0],dL[1]]));}};};s.ofResultMessage=function(dJ){return s.OkFMsg(null,dJ);};s.ofMessage=function(dJ){return s.OkFMsg(null,new d({$:4,$0:dJ}));};s.ofOption=function(dJ,dK){var dL;dL=dK==null?null:{$:1,$0:s.OkF(dK.$0)};return dL==null?function(dM){return s.ErrorF(dJ(dM));}():dL.$0;};s.ofResult=function(dJ){return dJ.$==1?s.ErrorF(new d({$:1,$0:(function(dK){return function(dL){return dK(cE.prettyPrint(dL));};}(a.id))(dJ.$0)})):s.OkF(dJ.$0);};s.ofResultS=function(dJ){return dJ.$==1?s.ErrorF(new d({$:1,$0:dJ.$0})):s.OkF(dJ.$0);};s.ofResultM=function(dJ){return dJ.$==1?s.ErrorF(new d({$:4,$0:dJ.$0})):s.OkF(dJ.$0);};s.ofResultRM=function(dJ){return dJ.$==1?s.ErrorF(dJ.$0):s.OkF(dJ.$0);};s.getOption=function(dJ){return{$:0,$0:function(dK){var dL,dM,dN;dL=dK[0];dM=dK[1];dN=null;return cJ.Delay(function(){return cJ.TryWith(cJ.Delay(function(){return cJ.Bind(dJ.$0([dL,dM]),function(dO){return cJ.Return([{$:1,$0:dO[0]},dO[1],dO[2]]);});}),function(dO){return cJ.Return([null,dL,d.addMsg(dM,new d({$:5,$0:dO.message,$1:dO.stack}))]);});});}};};s.check=function(){return{$:0,$0:function(dJ){return cJ.Return([d.isFatal(dJ[1])?null:{$:1,$0:null},dJ[0],d.NoMsg]);}};};s.putS=function(dJ){return{$:0,$0:function(){return cJ.Return([{$:1,$0:null},dJ,d.NoMsg]);}};};s.getR=function(){return{$:0,$0:function(dJ){return cJ.Return([{$:1,$0:dJ[1]},dJ[0],d.NoMsg]);}};};s.getS=function(){return{$:0,$0:function(dJ){var dK;dK=dJ[0];return cJ.Return([{$:1,$0:dK},dK,d.NoMsg]);}};};s.ErrorF=function(dJ){return{$:0,$0:function(dK){return cJ.Return([null,dK[0],dJ]);}};};s.OkFMsg=function(dJ,dK){return{$:0,$0:function(dL){return cJ.Return([{$:1,$0:dJ},dL[0],dK]);}};};s.OkF=function(dJ){return{$:0,$0:function(dK){return cJ.Return([{$:1,$0:dJ},dK[0],d.NoMsg]);}};};s.run=function(dJ,dK){return(s.getFun(dK))([dJ,d.NoMsg]);};s.from=a.id;s.getFun=function(dJ){return dJ.$0;};s.wrap=function(dJ){return{$:0,$0:dJ};};s.map=function(dJ,dK){return s.bind(function(dL){return s.rtn(dJ(dL));},dK);};s.bind=function(dJ,dK){return{$:0,$0:function(dL){var dM,dN,dO;dM=dL[0];dN=dL[1];dO=null;return cJ.Delay(function(){return cJ.TryWith(cJ.Delay(function(){return cJ.Bind(dK.$0([dM,dN]),function(dP){var dQ,dR,dS;dQ=dP[0];dR=dP[1];dS=dP[2];return dQ!=null&&dQ.$==1?cJ.Bind(dJ(dQ.$0).$0([dR,d.addMsg(dN,dS)]),function(dT){return cJ.Return([dT[0],dT[1],d.addMsg(dS,dT[2])]);}):cJ.Return([null,dR,dS]);});}),function(dP){return cJ.Return([null,dM,d.addMsg(dN,new d({$:5,$0:dP.message,$1:dP.stack}))]);});});}};};s.rtn=function(dJ){return{$:0,$0:function(dK){return cJ.Return([{$:1,$0:dJ},dK[0],d.NoMsg]);}};};w.absorbO=function(dJ,dK){function dL(dN){return l.absorbO(dJ,dN);}function dM(dN){return cJ.Return(dN);}return cJ.Bind(dK,function(dN){return dM(dL(dN));});};w.absorbR=function(dJ){var dK;function dL(dM){return cJ.Return(dM);}return cJ.Bind(dJ,(dK=function(dM){return l.bindP(a.id,dM);},function(dM){return dL(dK(dM));}));};w.insertR=function(dJ){return dJ.$==0?w.map(function(dK){return{$:0,$0:dK};},dJ.$0):w.rtn(c.Error$1(dJ.$0));};w.insertO=function(dJ){var dK;dK=dJ==null?null:{$:1,$0:w.map(function(dL){return{$:1,$0:dL};},dJ.$0)};return dK==null?w.rtn(null):dK.$0;};w.sequenceSeq=function(dJ){return w.traverseSeq(a.id,dJ);};w.traverseSeq=function(dJ,dK){return w.map(a.id,cH.foldBack(function(dL,dM){return w.op_GreaterGreaterEquals(dJ(dL),function(dN){return w.op_GreaterGreaterEquals(dM,function(dO){return w.rtn(new cI.T({$:1,$0:dN,$1:dO}));});});},cH.ofSeq(dK),w.rtn(cI.T.Empty)));};w.op_GreaterGreaterEquals=function(dJ,dK){return w.bind(dK,dJ);};w.whileLoop=function(dJ,dK){return dJ()?w.bind(function(){return w.whileLoop(dJ,dK);},dK()):w.rtn();};w.mapP=function(dJ,dK){return w.bindP(function(dL){return w.rtn(dJ(dL));},dK);};w.map=function(dJ,dK){return w.bind(function(dL){return w.rtn(dJ(dL));},dK);};w.bindP=function(dJ,dK){var dL;dL=null;return cJ.Delay(function(){return cJ.TryWith(cJ.Delay(function(){return cJ.Bind(dK,function(dM){return dM.$==1?cJ.Return(c.Error$1(dM.$0)):dJ(dM.$0);});}),function(dM){return cJ.Return(c.Error$1(new d({$:5,$0:dM.message,$1:dM.stack})));});});};w.bind=function(dJ,dK){var dL;dL=null;return cJ.Delay(function(){return cJ.Bind(dK,function(dM){var dN,dO;return dM.$==1?(dN=dM.$0,(dO=null,cJ.Delay(function(){return cJ.Return(c.Error$1(dN));}))):dJ(dM.$0);});});};w.iterA=function(dJ,dK,dL){function dM(dO){l.iter(dJ,dK,dO);}function dN(dO){return cJ.Return(dO);}cJ.Start(cJ.Bind(dL,function(dO){return dN(dM(dO));}),null);};w.iterS=function(dJ,dK,dL){throw"iterS cannot be used in JavaScript!";};w.rtnR=function(dJ){return cJ.Return(dJ);};w.rtn=function(dJ){return cJ.Return({$:0,$0:dJ});};w.freeMessage=function(dJ){function dK(dL){return cJ.Return(dL);}return cJ.Bind(dJ,function(dL){return dK(l.freeMessage(dL));});};w.mapError=function(dJ,dK){function dL(dN){return cL.MapError(dJ,dN);}function dM(dN){return cJ.Return(dN);}return cJ.Bind(dK,function(dN){return dM(dL(dN));});};x=f.AsyncResultBuilder=cD.Class({For:function(dJ,dK){var dL;dL=this;return this.Using(cK.Get(dJ),function(dM){return dL.While(function(){return dM.MoveNext();},dL.Delay(function(){return dK(dM.Current());}));});},While:function(dJ,dK){return w.whileLoop(dJ,dK);},Using:function(dJ,dK){return cJ.Using(dJ,dK);},TryFinally:function(dJ,dK){var dL;dL=null;return cJ.Delay(function(){return cJ.TryFinally(cJ.Delay(function(){return dJ();}),function(){dK();});});},TryWith:function(dJ,dK){var dL;dL=null;return cJ.Delay(function(){return cJ.TryWith(cJ.Delay(function(){return dJ();}),function(dM){return dK(dM);});});},Run:function(dJ){return dJ();},Delay:a.id,Combine:function(dJ,dK){return w.bind(dK,w.rtnR(dJ));},Combine$1:function(dJ,dK){return w.bind(dK,dJ);},Bind:function(dJ,dK){return w.bind(dK,w.rtnR(dJ));},Bind$1:function(dJ,dK){return w.bind(dK,dJ);},Zero:function(){return w.rtn();},Return:function(dJ){return w.rtn(dJ);},ReturnFrom:function(dJ){return w.rtnR(dJ);},ReturnFrom$1:a.id},k,x);x.New=cD.Ctor(function(){k.New.call(this);},x);y=f.AsyncResultBuilderP=cD.Class({For:function(dJ,dK){var dL;dL=this;return this.Using(cK.Get(dJ),function(dM){return dL.While(function(){return dM.MoveNext();},dL.Delay(function(){return dK(dM.Current());}));});},While:function(dJ,dK){return w.whileLoop(dJ,dK);},Using:function(dJ,dK){return cJ.Using(dJ,dK);},TryFinally:function(dJ,dK){var dL;dL=null;return cJ.Delay(function(){try{return dJ();}finally{dK();}});},TryWith:function(dJ,dK){var dL;dL=null;return cJ.Delay(function(){try{return dJ();}catch(dM){return dK(dM);}});},Run:function(dJ){return w.bindP(dJ,w.rtn());},Delay:a.id,Combine:function(dJ,dK){return w.bindP(dK,w.rtnR(dJ));},Combine$1:function(dJ,dK){return w.bindP(dK,dJ);},Bind:function(dJ,dK){return w.bindP(dK,w.rtnR(dJ));},Bind$1:function(dJ,dK){return w.bindP(dK,dJ);},Zero:function(){return w.rtn();},Return:function(dJ){return w.rtn(dJ);},ReturnFrom:function(dJ){return w.rtnR(dJ);},ReturnFrom$1:a.id},k,y);y.New=cD.Ctor(function(){k.New.call(this);},y);z["AsyncResultBuilderP.Combine"]=function(dJ,dK,dL){function dM(dO){return{$:0,$0:dO};}function dN(dO){return cJ.Return(dO);}return w.bindP(dL,cJ.Bind(dK,function(dO){return dN(dM(dO));}));};z["AsyncResultBuilderP.Bind"]=function(dJ,dK,dL){function dM(dO){return{$:0,$0:dO};}function dN(dO){return cJ.Return(dO);}return w.bindP(dL,cJ.Bind(dK,function(dO){return dN(dM(dO));}));};z["AsyncResultBuilderP.ReturnFrom"]=function(dJ,dK){function dL(dN){return{$:0,$0:dN};}function dM(dN){return cJ.Return(dN);}return cJ.Bind(dK,function(dN){return dM(dL(dN));});};z["AsyncResultBuilder.Combine"]=function(dJ,dK,dL){function dM(dO){return{$:0,$0:dO};}function dN(dO){return cJ.Return(dO);}return w.bind(dL,cJ.Bind(dK,function(dO){return dN(dM(dO));}));};z["AsyncResultBuilder.Bind"]=function(dJ,dK,dL){function dM(dO){return{$:0,$0:dO};}function dN(dO){return cJ.Return(dO);}return w.bind(dL,cJ.Bind(dK,function(dO){return dN(dM(dO));}));};z["AsyncResultBuilder.ReturnFrom"]=function(dJ,dK){function dL(dN){return{$:0,$0:dN};}function dM(dN){return cJ.Return(dN);}return cJ.Bind(dK,function(dN){return dM(dL(dN));});};f.asyncResultP=function(){cv.$cctor();return cv.asyncResultP;};f.asyncResult=function(){cv.$cctor();return cv.asyncResult;};A.EndsWith$1=function(dJ,dK){return cF.EndsWith(dK,dJ)?{$:1,$0:cO.string(dK,{$:1,$0:0},{$:1,$0:dK.length-dJ.length-1})}:null;};A.StartsWith$1=function(dJ,dK){return cF.StartsWith(dK,dJ)?{$:1,$0:cO.string(dK,{$:1,$0:dJ.length},null)}:null;};A.skipLastLine$1=function(){cv.$cctor();return cv.skipLastLine;};A.indentStr$1=function(dJ){function dK(dM){return A.indent$1(dJ,dM);}function dL(dM){return cF.concat("\n",dM);}return function(dM){return dL(dK(dM));};};A.unindentStr$1=function(){cv.$cctor();return cv.unindentStr;};A.indent$1=function(dJ,dK){var dL,dM;dL=cF.SplitChars(dK,["\n"],0);return cG.map((dM=cF.replicate(dJ," "),function(dN){return dM+dN;}),dL);};A.unindent$1=function(dJ){var dK,dL,dM,dN;dK=cF.SplitChars(dJ,["\n"],0);dL=(dM=cG.tryFindIndex(function(dO){return" "!==dO;},(dN=cG.tryFind(function(dO){return cF.Trim(dO)!=="";},dK),dN==null?"":dN.$0)),dM==null?0:dM.$0);return cG.filter(function(dO){return!cF.StartsWith(dO,"# 1 ");},cG.map(function(dO){return dO.length<=dL?"":dO.substring(dL);},dK));};A.skipFirstLine$1=function(dJ){var dK;dK=dJ.indexOf("\n");return dK<0?"":cO.string(dJ,{$:1,$0:dK+1},null);};A.append$1=function(dJ,dK){return dJ+dK;};A.trim$1=function(dJ){return cF.Trim(dJ);};A.contains$1=function(dJ,dK){return dK.indexOf(dJ)!=-1;};A.delimitedO$1=function(dJ,dK,dL){var dM,dN,dO,dP,dQ;dM=A.splitInTwoO$1(dJ,dL);return dM==null?null:(dN=dM.$0,(dO=dN[0],(dP=A.splitInTwoO$1(dK,dN[1]),dP==null?null:{$:1,$0:(dQ=dP.$0,[dO,dQ[0],dQ[1]])})));};A.splitInTwoO$1=function(dJ,dK){var dL;dL=dK.indexOf(dJ);return dL===-1?null:{$:1,$0:[c["String.Left$1"](dK,dL),dK.substring(dL+dJ.length)]};};A.splitByChar$1=function(dJ,dK){return cF.SplitChars(dK,[dJ],0);};B.Guid$1=function(){cv.$cctor();return cv["|Guid|_|"];};B.Double$1=function(){cv.$cctor();return cv["|Double|_|"];};B.Single$1=function(){cv.$cctor();return cv["|Single|_|"];};B.Int$1=function(){cv.$cctor();return cv["|Int|_|"];};B.Date$1=function(){cv.$cctor();return cv["|Date|_|"];};B.parseGuidO$1=function(){cv.$cctor();return cv.parseGuidO;};B.parseDoubleO$1=function(){cv.$cctor();return cv.parseDoubleO;};B.parseSingleO$1=function(){cv.$cctor();return cv.parseSingleO;};B.parseIntO$1=function(){cv.$cctor();return cv.parseIntO;};B.parseDateO$1=function(){cv.$cctor();return cv.parseDateO;};B.tryParseWith$1=function(dJ){function dK(dL,dM){return dL?{$:1,$0:dM}:null;}return function(dL){return dK.apply(null,dJ(dL));};};C.PostAndAsyncReply=function(dJ,dK,dL){return dJ.PostAndAsyncReply(function(dM){return[dM,dK];},dL);};E.applyReply=function(dJ,dK){return E.applyReplyA(function(dL){var dM;dM=null;return cJ.Delay(function(){return cJ.Return(dJ(dL));});},dK);};E.applyReplyA=function(dJ,dK){return dK.PostAndAsyncReply(function(dL){return function(dM){var dN;dN=null;return cJ.Delay(function(){return cJ.Bind(dJ(dM),function(dO){dL(dO[1]);return cJ.Return(dO[0]);});});};},null);};E.apply=function(dJ,dK){E.applyA(function(dL){var dM;dM=null;return cJ.Delay(function(){return cJ.Return(dJ(dL));});},dK);};E.applyA=function(dJ,dK){dK.mailbox.AddLast(function(dL){var dM;dM=null;return cJ.Delay(function(){return dJ(dL);});});dK.resume();};E.setState=function(dJ,dK){dK.mailbox.AddLast(function(){var dL;dL=null;return cJ.Delay(function(){return cJ.Return(dJ);});});dK.resume();};E.getStateA=function(dJ){return dJ.PostAndAsyncReply(function(dK){return function(dL){var dM;dM=null;return cJ.Delay(function(){dK(dL);return cJ.Return(dL);});};},null);};D.defHandler=function(dJ,dK){c.print$1(dJ);return dK;};D.stateFull=function(dJ,dK){return cQ.Start(function(dL){function dM(dN){var dO;dO=null;return cJ.Delay(function(){return cJ.TryWith(cJ.Delay(function(){return cJ.Bind(dL.Receive(null),function(dP){return cJ.Bind(dP(dN),function(dQ){return dM(dQ);});});}),function(dP){return dM(dJ(dP,dN));});});}return dM(dK);},null);};D.fold=function(dJ,dK,dL){return D.foldA(dJ,function(dM,dN){var dO;dO=null;return cJ.Delay(function(){return cJ.Return(dK(dM,dN));});},dL);};D.foldA=function(dJ,dK,dL){return cQ.Start(function(dM){function dN(dO){var dP;dP=null;return cJ.Delay(function(){return cJ.TryWith(cJ.Delay(function(){return cJ.Bind(dM.Receive(null),function(dQ){return cJ.Bind(dK(dO,dQ),function(dR){return dN(dR);});});}),function(dQ){return dN(dJ(dQ,dO));});});}return dN(dL);},null);};D.call=function(dJ,dK){return D.callA(dJ,function(dL){var dM;dM=null;return cJ.Delay(function(){return cJ.Return(dK(dL));});});};D.callA=function(dJ,dK){return D.iterA(dJ,function(dL){var dM,dN,dO;dM=dL[0];dN=dL[1];dO=null;return cJ.Delay(function(){return cJ.Bind(dK(dN),function(dP){dM(dP);return cJ.Zero();});});});};D.iter=function(dJ,dK){return D.iterA(dJ,function(dL){var dM;dM=null;return cJ.Delay(function(){dK(dL);return cJ.Zero();});});};D.iterA=function(dJ,dK){return cQ.Start(function(dL){var dM;dM=null;return cJ.Delay(function(){return cJ.While(function(){return true;},cJ.Delay(function(){return cJ.TryWith(cJ.Delay(function(){return cJ.Bind(dL.Receive(null),function(dN){return cJ.Bind(dK(dN),function(){return cJ.Return(null);});});}),function(dN){dJ(dN);return cJ.Zero();});}));});},null);};F.New=function(dJ,dK,dL,dM){return{useCount:dJ,limitCount:dK,resource:dL,configuration:dM};};G=c.ResourceAgent=cD.Class({increment:function(dJ){var dK,dL;dK=this;return(this.respawnRightAfter?(dL=dJ.configuration,function(dM){return dK.check(dL,dM);}):a.id)(F.New(dJ.useCount+1,dJ.limitCount,dJ.resource,dJ.configuration));},check:function(dJ,dK){return dK.useCount<dK.limitCount&&this.alive(dK.resource)&&cN.Equals(dJ,dK.configuration)?dK:this.respawn(F.New(dK.useCount,dK.limitCount,dK.resource,dJ));},respawn:function(dJ){this.clean(dJ.resource);return F.New(0,dJ.limitCount,this.ctor(dJ.configuration),dJ.configuration);},Respawn:function(){var dJ;dJ=this;E.apply(function(dK){return dJ.respawn(dK);},this.agent);},set_Configuration:function(dJ){var dK;dK=this;!cN.Equals(dJ,this.get_Configuration())?E.apply(function(dL){return dK.respawn(F.New(dL.useCount,dL.limitCount,dL.resource,dJ));},this.agent):void 0;},set_LimitCount:function(dJ){E.apply(function(dK){return F.New(dK.useCount,dJ,dK.resource,dK.configuration);},this.agent);},get_Configuration:function(){return this.get_State().configuration;},get_LimitCount:function(){return this.get_State().limitCount;},get_State:function(){throw"getState not available in JavaScript";},ProcessA:function(dJ,dK){return this.AsyncProcessA(function(dL){var dM;dM=null;return cJ.Delay(function(){return cJ.Return(dJ(dL));});},dK);},AsyncProcessA:function(dJ,dK){var dL;dL=this;return E.applyReplyA(function(dM){var dN;dN=null;return cJ.Delay(function(){var dO;dO=dL.check(dK==null?dM.configuration:dK.$0,dM);return cJ.Bind(dJ(dO.resource),function(dP){return cJ.Return([dL.increment(dO),dP]);});});},this.agent);},Dispose:function(){try{this.clean(this.get_State().resource);}catch(dJ){null;}}},k,G);G.New=cD.Ctor(function(dJ,dK,dL,dM,dN,dO){var dP;dP=this;k.New.call(this);this.ctor=dK;this.clean=dM==null?a.ignore:dM.$0;this.alive=dN==null?function(){return true;}:dN.$0;this.respawnRightAfter=dO==null||dO.$0;this.agent=D.stateFull(function(dQ,dR){c.print$1(dQ);return dP.respawn(dR);},F.New(0,dJ,this.ctor(dL),dL));},G);H.runSameConfig=function(dJ,dK){return s.runReader([dJ,dJ.get_Configuration()],dK);};H.run=function(dJ,dK,dL){return s.runReader([dJ,dK],dL);};H.ofResourceRm=function(dJ){var dK;dK=dJ.$0;return{$:0,$0:function(dL){var dM,dN,dO,dP;dM=dL[0];dN=dL[1];dO=dM[1];dP=dM[0];return dP.AsyncProcessA(function(dQ){var dR;dR=null;return cJ.Delay(function(){return cJ.Bind(dK([dQ,dN]),function(dS){return cJ.Return([dS[0],[dP,dO],dS[2]]);});});},{$:1,$0:dO});}};};H.createAgentRm=function(dJ,dK){return t.op_GreaterGreaterEquals(s.readerFun(function(dL){return dL[0].AsyncProcessA(function(dM){return dJ(dM,dK);},{$:1,$0:dL[1]});}),s.ofAsync);};J.New=function(dJ,dK,dL,dM){return{cargId:dJ,name:dK,unique:dL,build:dM};};K=I.CommArgCollection=cD.Class({get_CommArgs:function(){return this.$0;}},null,K);K.op_Addition=function(dJ,dK){return K.addPairs(dK.$0,dJ);};K.op_Addition$1=function(dJ,dK){return K.addPair(dK[0],dK[1],dJ);};K.op_Addition$2=function(dJ,dK){return K.addPairs(dK,dJ);};L=I.TypedCommArg=cD.Class({get_CommArg:function(){return this.$0;}},null,L);L.op_DivisionAssignment=function(dJ,dK){return[dJ.$0,p.op_BarGreaterGreater(p.op_BarGreaterGreater(o.getS(),dK),a.id)];};L.op_DivisionAssignment$1=function(dJ,dK){return[dJ.$0,p.op_BarGreaterGreater(dK,a.id)];};L.op_DivisionAssignment$2=function(dJ,dK){return[dJ.$0,p.op_BarGreaterGreater(p.rtn(dK),a.id)];};M.getFloatR=function(dJ,dK){return dJ.$0.build.$==3?{$:0,$0:dK}:c.Error$1(new d({$:1,$0:"expecting TFloat"}));};M.getBoolR=function(dJ,dK){return dJ.$0.build.$==2?{$:0,$0:dK}:c.Error$1(new d({$:1,$0:"expecting TBool"}));};M.getStringR=function(dJ,dK){return dJ.$0.build.$==1?{$:0,$0:dK}:c.Error$1(new d({$:1,$0:"expecting TString"}));};M.getIntR=function(dJ,dK){return dJ.$0.build.$==0?{$:0,$0:dK}:c.Error$1(new d({$:1,$0:"expecting TInt"}));};M.argumentTRm=function(dJ,dK){return M.argumentRm(dJ,dK);};M.argumentRm=function(dJ,dK){var dL;dL=o.fusion();return dL.Run(dL.Delay(function(){return dL.Bind(dK,function(dM){var dN;return dL.Return((dN=dJ.build,dN.$==1?dN.$0(dM):dN.$==2?dN.$0(dM):dN.$==3?dN.$0(dM):dN.$0(dM)));});}));};M.NewFloat=function(dJ,dK,dL){return new L({$:0,$0:M.New0(dJ,dK,{$:3,$0:dL})});};M.NewBool=function(dJ,dK,dL){return new L({$:0,$0:M.New0(dJ,dK,{$:2,$0:dL})});};M.NewString=function(dJ,dK,dL){return new L({$:0,$0:M.New0(dJ,dK,{$:1,$0:dL})});};M.NewInt=function(dJ,dK,dL){return new L({$:0,$0:M.New0(dJ,dK,{$:0,$0:dL})});};M.New0=function(dJ,dK,dL){return J.New({$:0,$0:cS.NewGuid()},dJ,dK,dL);};K.addPairs=function(dJ,dK){return K.append(dK,new K({$:0,$0:dJ}));};K.append=function(dJ,dK){var dL,dM;function dN(dO,dP){return function(dQ){return K.addPair(dO,dP,dQ);};}dL=(dM=function(dO){return dN.apply(null,a.id(dO));},function(dO){return function(dP){return(dM(dP))(dO);};});return cG.fold(function(dO,dP){return(dL(dO))(dP);},dJ,dK.get_CommArgs());};K.addPair=function(dJ,dK,dL){function dM(dN,dO){return!cN.Equals(dN.cargId,dJ.cargId);}return new K({$:0,$0:cH.ofSeq(cG.append((dJ.unique?function(dN){return cG.filter(function(dO){return dM(dO[0],dO[1]);},dN);}:a.id)(dL.$0),cI.ofArray([[dJ,dK]])))});};K.getBoolR=function(dJ,dK,dL){var dM,dN;dM=o.run(dL,K.getBoolRm(dJ,dK));dN=dM[2];return l.ofOption(function(){return dN;},dM[0]);};K.getBoolRm=function(dJ,dK){return p.op_BarGreaterGreater(K.tryGetBoolORm(dK),function(dL){return dL==null?dJ:dL.$0;});};K.getFloatRm=function(dJ){function dK(){return K.argumentNotFound(dJ,void 0);}return p.op_GreaterGreaterEquals(K.tryGetFloatORm(dJ),function(dL){return o.ofOption(dK,dL);});};K.getStringRm=function(dJ){function dK(){return K.argumentNotFound(dJ,void 0);}return p.op_GreaterGreaterEquals(K.tryGetStringORm(dJ),function(dL){return o.ofOption(dK,dL);});};K.getIntRm=function(dJ){function dK(){return K.argumentNotFound(dJ,void 0);}return p.op_GreaterGreaterEquals(K.tryGetIntORm(dJ),function(dL){return o.ofOption(dK,dL);});};K.findArgRm=function(dJ){function dK(){return K.argumentNotFound(dJ,void 0);}return p.op_GreaterGreaterEquals(K.tryFindArgORm(dJ),function(dL){return o.ofOption(dK,dL);});};K.tryGetFloatORm=function(dJ){function dK(dL,dM){return M.getFloatR(dJ,dM);}return p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(p.op_BarGreaterGreater(K.tryFindArgORm(dJ),function(dL){var dM;return dL==null?null:{$:1,$0:(dM=dL.$0,dK(dM[0],dM[1]))};}),l.insertO),o.ofResultRM);};K.tryGetBoolORm=function(dJ){function dK(dL,dM){return M.getBoolR(dJ,dM);}return p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(p.op_BarGreaterGreater(K.tryFindArgORm(dJ),function(dL){var dM;return dL==null?null:{$:1,$0:(dM=dL.$0,dK(dM[0],dM[1]))};}),l.insertO),o.ofResultRM);};K.tryGetStringORm=function(dJ){function dK(dL,dM){return M.getStringR(dJ,dM);}return p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(p.op_BarGreaterGreater(K.tryFindArgORm(dJ),function(dL){var dM;return dL==null?null:{$:1,$0:(dM=dL.$0,dK(dM[0],dM[1]))};}),l.insertO),o.ofResultRM);};K.tryGetIntORm=function(dJ){function dK(dL,dM){return M.getIntR(dJ,dM);}return p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(p.op_BarGreaterGreater(K.tryFindArgORm(dJ),function(dL){var dM;return dL==null?null:{$:1,$0:(dM=dL.$0,dK(dM[0],dM[1]))};}),l.insertO),o.ofResultRM);};K.tryFindArgORm=function(dJ){return p.op_GreaterGreaterEquals(o.readerFun(function(dK){var dL,dM;return o.insertO((dL=K.tryFindArgO(dJ,dK),dL==null?null:{$:1,$0:(dM=dL.$0,o.insertFst(dM[0],dM[1]))}));}),a.id);};K.tryFindArgO=function(dJ,dK){var dL;dL=dJ.$0;return cG.tryFind(function(dM){return cN.Equals(dM[0].cargId,dL.cargId);},dK.$0);};K.argumentNotFound=function(dJ,dK){return new d({$:1,$0:(function(dL){return function(dM){return dL("argument not found: "+cE.toSafe(dM));};}(a.id))(dJ.$0.name)});};K.containsAnyOfRm=function(dJ){return o.readerFun(function(dK){function dL(dM,dN){return dJ.Contains(dM.cargId);}return cG.exists(function(dM){return dL(dM[0],dM[1]);},dK.$0);});};K.argumentsRm=function(dJ){return p.op_GreaterGreaterEquals(K.filterRm(dJ),function(dK){return o.traverseSeq(function(dL){return M.argumentTRm(dL[0],dL[1]);},dK);});};K.filterRm=function(dJ){return o.readerFun(function(dK){return cG.filter(dJ,dK.$0);});};K.existsRm=function(dJ){return o.readerFun(function(dK){return cG.exists(dJ,dK.$0);});};K.argsRm=function(){return o.readerFun(function(dJ){return dJ.$0;});};K.contains=function(dJ,dK){function dL(dM,dN){return dM.cargId;}return cG.contains(dJ.$0.cargId,cG.map(function(dM){return dL(dM[0],dM[1]);},dK.$0));};K.trueForAll=function(dJ){return true;};O.NoPrepo={$:12};O.PrepoEndIf={$:9};O.PrepoElse={$:8};N.getSourceDir=function(dJ,dK){var dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU;dL=cH.get(dK,0);dM=cH.tryItem(1,dK);return(dO=A.StartsWith$1("////#cd @\"",dL),dO!=null&&dO.$==1?(dN=dO.$0,true):dM!=null&&dM.$==1&&(dP=A.StartsWith$1("////#cd @\"",dM.$0),dP!=null&&dP.$==1&&(dN=dP.$0,true)))?(dQ=cF.Trim(dN),(dS=A.EndsWith$1("\"",dQ),dS!=null&&dS.$==1?dR=dS.$0:dR=dQ,(dT=A.StartsWith$1("\\",dR),dT!=null&&dT.$==1)?dR:(dU=A.StartsWith$1("/",dR),dU!=null&&dU.$==1)?dR:cN.Equals(cG.tryItem(1,dR),{$:1,$0:":"})?dR:dJ+"/"+dR)):dJ;};N.separateDirectives=function(dJ){var dK,dL,dM,dN,dO;function dP(dZ){return dZ[1];}function dQ(dZ){return dZ.$==1?{$:1,$0:dZ.$0}:null;}function dR(dZ){return dZ[1];}function dS(dZ){return dZ.$==2?{$:1,$0:dZ.$0}:null;}function dT(dZ){return dZ[1];}function dU(dZ){return dZ.$==6?{$:1,$0:dZ.$0}:null;}function dV(dZ){return dZ[1];}function dW(dZ){return dZ.$==5?{$:1,$0:dZ.$0}:null;}function dX(dZ){return dZ[1];}function dY(dZ){return dZ.$==0?{$:1,$0:dZ.$0}:null;}dK=cH.ofSeq(cG.distinct(cG.choose(function(dZ){return dQ(dP(dZ));},dJ)));dL=cH.ofSeq(cG.distinct(cG.choose(function(dZ){return dS(dR(dZ));},dJ)));dM=cH.ofSeq(cG.distinct(cG.choose(function(dZ){return dU(dT(dZ));},dJ)));dN=cH.ofSeq(cG.distinct(cG.choose(function(dZ){return dW(dV(dZ));},dJ)));dO=cG.tryHead(cG.choose(function(dZ){return dY(dX(dZ));},dJ));return[cH.ofSeq(cG.map(function(dZ){return dZ[0];},dJ)),dK,dL,dM,dN,dO];};N.separatePrepros=function(dJ){function dK(dN){var dO;dO=cG.tryLast(cF.SplitStrings(cF.Trim(dN),["\""],1));return dO==null?dN:dO.$0;}function dL(dN){var dO;dO=cG.tryHead(cF.SplitStrings(cF.Trim(dN),["#define "],1));return dO==null?"":dO.$0;}function dM(dN){return"//"+dN;}return cH.map(function(dN){var dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1;dO=true;return dO&&cF.StartsWith(dN,"#define")?[dM(dN),{$:2,$0:dL(dN)}]:dO&&cF.StartsWith(dN,"#cd")?[dM(dN),{$:0,$0:dK(dN)}]:dO&&cF.StartsWith(dN,"#r")?[dM(dN),{$:1,$0:dK(dN)}]:dO&&cF.StartsWith(dN,"#load")?[dM(dN),{$:3,$0:dK(dN)}]:dO&&cF.StartsWith(dN,"#nowarn")?[dM(dN),{$:5,$0:dK(dN)}]:dO&&cF.StartsWith(cF.Trim(dN),"# ")?[dM(dN),{$:4,$0:dK(dN)}]:dO&&cF.StartsWith(cF.Trim(dN),"#line")?[dM(dN),{$:4,$0:dK(dN)}]:dO&&cF.StartsWith(dN,"#I")?[dM(dN),{$:6,$0:dK(dN)}]:dO&&cF.StartsWith(dN,"#if")?[dN,{$:7,$0:dN}]:dO&&cF.StartsWith(dN,"#else")?[dN,O.PrepoElse]:dO&&cF.StartsWith(dN,"#endif")?[dN,O.PrepoEndIf]:dO&&cF.StartsWith(dN,"#light")?[dN,{$:10,$0:false}]:dO&&cF.StartsWith(dN,"#")?[dM(dN),{$:11,$0:dN}]:[dN,O.NoPrepo];},dJ);};N.extractDefines=function(dJ){var dK;dK=dJ.$0;return cF.StartsWith(dK,"////-d:")?cO.string(dK,{$:1,$0:4},{$:1,$0:dK.indexOf("\n")-1}):"";};P=c.SnippetId=cD.Class({get_Id:function(){return this.$0;}},null,P);P.get_Empty=function(){return new P({$:0,$0:"00000000-0000-0000-0000-000000000000"});};Q.New=function(dJ,dK,dL,dM,dN,dO,dP){return{snpId:dJ,snpName:dK,snpContent:dL,snpParentIdO:dM,snpPredIds:dN,snpProperties:dO,snpGeneration:dP};};R.New=function(dJ,dK,dL,dM,dN,dO){return{generation:dJ,ordered:dK,fetcher:dL,predecesorsCache:dM,reducedCache:dN,prepCode:dO};};S.codeFsxRm=function(dJ){return p.op_BarGreaterGreater(S.fastCodeRm({$:1,$0:dJ},{$:1,$0:dJ}),function(dK){return dK[0];});};S.fastCodeRm=function(dJ,dK){var dL;dL=o.fusion();return dL.Run(dL.Delay(function(){return dL.Bind(S.fastReducedRm(dJ,dK),function(dM){return dL.Return(S.finishCode(dM[0],dM[1],dM[2],dM[3],dM[4],dM[5],dM[6]));});}));};S.fastReducedRm=function(dJ,dK){var dL;dL=o.fusion();return dL.Run(dL.Delay(function(){return dL.Bind(o.insertO(dJ==null?null:{$:1,$0:S.snippetORm(dJ.$0)}),function(dM){return dL.Bind(o.insertO(dK==null?null:{$:1,$0:S.snippetORm(dK.$0)}),function(dN){var dO,dP,dQ,dR;dO=dM==null?null:dM.$0;dP=dN==null?null:dN.$0;return(dP!=null&&dP.$==1?dO!=null&&dO.$==1?(dQ=[dO.$0,dP.$0],false):true:true)?dL.ReturnFrom(S.reducedCodeRm([])):(dR=dQ[0],dL.Bind(S.uniquePredsRm(dQ[1]),function(dS){var dT;dT=new cU.New(dS);return dL.Bind((S.reducedOthersORmMemo())([true,dR.snpId,dT]),function(dU){return dL.Bind((S.reducedOthersORmMemo())([false,dR.snpId,dT]),function(dV){return dL.Bind(S.separateCodeRm(dR),function(dW){var dX,dY,dZ,d0;dX=(dY=dU==null?null:{$:1,$0:(function(d1){var d2,d3,d4,d5,d6,d7,d8;d2=d1[0];d3=d1[1];d4=d1[2];d5=d1[3];d6=d1[4];d7=d1[5];d8=d1[6];return function(d9){return S.addSeps(d2,d3,d4,d5,d6,d7,d8,d9[0],d9[1],d9[2],d9[3],d9[4],d9[5],d9[6]);};}(dU.$0))(dW)},dY==null?dW:dY.$0);return dL.Return((dZ=dV==null?null:{$:1,$0:(d0=dV.$0,S.addSeps(dX[0],dX[1],dX[2],dX[3],dX[4],dX[5],dX[6],d0[0],d0[1],d0[2],d0[3],d0[4],d0[5],d0[6]))},dZ==null?dX:dZ.$0));});});});}));});});}));};S.reducedOthersORmMemo=function(){function dJ(dK){return dK.reducedCache();}return function(dK){return o.memoizeRm(dJ,function(dL){return S.reducedOthersORm(dL[0],dL[1],dL[2]);},dK);};};S.reducedOthersORm=function(dJ,dK,dL){var dM;dM=o.fusion();return dM.Run(dM.Delay(function(){function dN(dO){return!cN.Equals(dO.snpId,dK)&&dL.Contains(dO.snpId);}return dM.Bind(p.op_BarGreaterGreater(p.op_BarGreaterGreater(S.orderedRm(),(dJ?function(dO){return function(dP){return cG.takeWhile(dO,dP);};}:function(dO){return function(dP){return cG.skipWhile(dO,dP);};})(function(dO){return!cN.Equals(dO.snpId,dK);})),function(dO){return cG.filter(dN,dO);}),function(dO){return cG.isEmpty(dO)?dM.Return(null):dM.Bind(S.reducedCodeRm(dO),function(dP){return dM.Return({$:1,$0:dP});});});}));};S.finishCode=function(dJ,dK,dL,dM,dN,dO,dP){var dQ,dR;dQ=cF.concat(" ",cG.map(function(dS){return"-d:"+dS;},cG.sort(dM)));dR=cI.ofSeq(cG.delay(function(){return cG.append(dQ!==""?["////"+dQ]:[],cG.delay(function(){return cG.append(dP!=null?[(function(dS){return function(dT){return dS("////#cd @\""+cE.toSafe(dT)+"\"");};}(a.id))(dP.$0)]:[],cG.delay(function(){return cG.append(cG.map(function(dS){return function(dT){return dS("#I @\""+cE.toSafe(dT)+"\"");};}(a.id),dN),cG.delay(function(){return cG.append(cG.map(function(dS){return function(dT){return dS("#r @\""+cE.toSafe(dT)+"\"");};}(a.id),dL),cG.delay(function(){return cG.map(function(dS){return function(dT){return dS("#nowarn \""+cE.toSafe(dT)+"\"");};}(a.id),dO);}));}));}));}));}));return[cF.concat("\n",cG.append(dR,dK)),cH.ofSeq((cG.mapFold(function(dS,dT){var dU;dU=dT[2];return[[[dT[0],dT[1]],[dT[3],dS,dS+dU]],dS+dU];},dR.get_Length(),dJ))[0])];};S.reducedCodeRm=function(dJ){var dK;dK=o.fusion();return dK.Run(dK.Delay(function(){return dK.Bind(o.traverseSeq(S.separateCodeRm,dJ),function(dL){var dM;return dK.Return((dM=cG.reduce(function(dN,dO){return(function(dP){var dQ,dR,dS,dT,dU,dV,dW;dQ=dP[0];dR=dP[1];dS=dP[2];dT=dP[3];dU=dP[4];dV=dP[5];dW=dP[6];return function(dX){return S.addSeps(dQ,dR,dS,dT,dU,dV,dW,dX[0],dX[1],dX[2],dX[3],dX[4],dX[5],dX[6]);};}(dN))(dO);},cG.isEmpty(dL)?[[[],[],[],[],[],[],null]]:dL),[dM[0],[cF.concat("\n",dM[1])],dM[2],dM[3],dM[4],dM[5],dM[6]]));});}));};S.addSeps=function(dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW){return[dJ.concat(dQ),dK.concat(dR),cH.ofSeq(cG.distinct(cG.append(dL,dS))),cH.ofSeq(cG.distinct(cG.append(dM,dT))),cH.ofSeq(cG.distinct(cG.append(dN,dU))),cH.ofSeq(cG.distinct(cG.append(dO,dV))),dP==null?dW:dP];};S.separateCodeRm=function(dJ){var dK;dK=o.fusion();return dK.Run(dK.Delay(function(){return dK.Bind(S.indentRm(dJ),function(dL){var dM;function dN(dO,dP){return[cF.replicate(dL," ")+dO,dP];}dM=(dL===0?[a.id,""]:[function(dO){return cH.map(function(dP){return dN(dP[0],dP[1]);},dO);},(function(dO){return function(dP){return dO("("+a.String(dP)+")");};}(a.id))(dL)])[0];return dK.Bind(S.prepareCodeRm(dJ),function(dO){var dP,dQ;dP=N.separateDirectives(dM(N.separatePrepros(cF.SplitChars(dO,["\n"],0))));dQ=dP[0];return dK.Return([[[dJ.snpId,S.snippetName(dJ.snpName,dJ.snpContent),cH.length(dQ),dL]],dQ,dP[1],dP[2],dP[3],dP[4],dP[5]]);});});}));};S.ancestorsRm=function(dJ){function dK(dL,dM){var dN;dN=o.fusion();return dN.Run(dN.Delay(function(){return dN.Bind(S.parentORm(dL),function(dO){var dP;return dO==null?dN.Return(dM):(dP=dO.$0,dN.ReturnFrom(dK(dP,new cI.T({$:1,$0:dP,$1:dM}))));});}));}return dK(dJ,cI.T.Empty);};S.levelRm=function(dJ){function dK(dL,dM){var dN;dN=o.fusion();return dN.Run(dN.Delay(function(){return dN.Bind(S.parentORm(dL),function(dO){return dO!=null&&dO.$==1?dN.ReturnFrom(dK(dO.$0,dM+1)):dN.Return(dM);});}));}return dK(dJ,0);};S.indentRm=function(dJ){function dK(dL){var dM;dM=o.fusion();return dM.Run(dM.Delay(function(){var dN,dO,dP,dQ;dN=(dO=S.propertyPairO("IndentChildren",dL),dO!=null&&dO.$==1?[(B.parseIntO$1())(dO.$0[0]),(B.parseIntO$1())(dO.$0[1])]:[null,null]);dP=dN[1];dQ=dN[0];return dM.Bind(S.parentORm(dL),function(dR){return dR==null?dM.Return([0,[dQ==null?4:dQ.$0,dP==null?4:dP.$0]]):dM.Bind(dK(dR.$0),function(dS){var dT,dU;dT=dS[1][1];dU=dS[1][0];return dM.Return([dU,[dU+(dQ==null?dT:dQ.$0),dP==null?dT:dP.$0]]);});});}));}return p.op_BarGreaterGreater(dK(dJ),function(dL){return dL[0];});};S.propertyHierORm=function(dJ,dK){var dL;dL=o.fusion();return dL.Run(dL.Delay(function(){var dM,dN;dM=S.propertyO(dJ,dK);return dM==null?dL.Bind(S.parentORm(dK),function(dO){return dO==null?dL.Return(null):dL.Bind(S.propertyHierORm(dJ,dO.$0),function(dP){var dQ,dR,dS;return dL.Return(dP==null?null:{$:1,$0:(dQ=dP.$0,(dR=dQ[0],(dS=dQ[1][1],[dR,[dS,dS]])))});});}):dL.Return({$:1,$0:[dK,(dN=cF.SplitStrings(dM.$0,["|-|"],1),[cH.get(dN,0),cH.length(dN)>1?cH.get(dN,1):cH.get(dN,0)])]});}));};S.modifiedRecRm=function(dJ){var dK;dK=o.fusion();return dK.Run(dK.Delay(function(){return dK.Bind(S.modifiedRm(dJ),function(dL){return dL?dK.Return(true):dK.Bind(S.uniquePredsRm(dJ),function(dM){return dK.Bind(o.sequenceSeq(cG.map(S.snippetORm,dM)),function(dN){return dK.Bind(o.sequenceSeq(cG.map(S.modifiedRm,cG.choose(a.id,dN))),function(dO){return dK.Return(cG.contains(true,dO));});});});});}));};S.predsGenerationRm=function(dJ){var dK;dK=o.fusion();return dK.Run(dK.Delay(function(){return dK.Bind(p.op_GreaterGreaterEquals(S.uniquePredsRm(dJ),function(dL){return o.traverseSeq(S.snippetRm,dL);}),function(dL){return dK.Return(cG.max(cG.map(function(dM){return dM.snpGeneration;},dL)));});}));};S.uniquePredsRm=function(dJ){return(S.predsLRmMemo())(dJ.snpId);};S.predsLRmMemo=function(){function dJ(dK){return dK.predecesorsCache();}return function(dK){return o.memoizeRm(dJ,S.predsLRm,dK);};};S.predsLRm=function(dJ){var dK;dK=o.fusion();return dK.Run(dK.Delay(function(){var dL,dM;dL=cI.ofArray([dJ]);dM=cI.T.Empty;return dK.Combine(dK.While(function(){return!(dL.$==0);},dK.Delay(function(){var dN,dO;return dL.$==1?(dN=dL.$1,(dO=dL.$0,cI.contains(dO,dM)?(dL=dN,dK.Zero()):dK.Bind(S.snippetORm(dO),function(dP){var dQ,dR;dL=cI.append(dN,(dQ=dP==null?null:{$:1,$0:(dR=dP.$0,cI.append(cI.ofSeq(dR.snpPredIds),cV.toList(dR.snpParentIdO)))},dQ==null?cI.T.Empty:dQ.$0));dM=new cI.T({$:1,$0:dO,$1:dM});return dK.Zero();}))):dK.Zero();})),dK.Delay(function(){return dK.Return(dM);}));}));};S.snippetFromRefORm=function(dJ){return dJ.$==1?S.snippetFromPathORm(dJ.$0):S.snippetORm(dJ.$0);};S.snippetFromPathORm=function(dJ){var dK;dK=o.fusion();return dK.Run(dK.Delay(function(){return dK.Bind(S.orderedRm(),function(dL){function dM(dN,dO){return function(dP){return dN.length===0?[null,[[],dO]]:S.snippetName(dP.snpName,dP.snpContent)!==cH.get(dN,0)||!cN.Equals(dP.snpParentIdO,dO)?[null,[dN,dO]]:dN.length>1?[null,[cO.array(dN,{$:1,$0:1},null),{$:1,$0:dP.snpId}]]:[{$:1,$0:dP},[[],dO]];};}return dK.Return(cG.tryHead(cG.choose(a.id,(cG.mapFold(function(dN,dO){return(function(dP){return dM(dP[0],dP[1]);}(dN))(dO);},[dJ,null],dL))[0])));});}));};S.pathRm=function(dJ){var dK;function dL(dM){return p.op_BarGreaterGreater(S.pathRm(dM.snpId),function(dN){return new cI.T({$:1,$0:dM.snpId,$1:dN});});}return p.op_BarGreaterGreater(p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(p.op_BarGreaterGreater(p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(S.snippetORm(dJ),function(dM){return dM==null?null:{$:1,$0:S.parentORm(dM.$0)};}),o.insertO),function(dM){return dM==null?null:a.id(dM.$0);}),function(dM){return dM==null?null:{$:1,$0:dL(dM.$0)};}),o.insertO),(dK=cI.T.Empty,function(dM){return dM==null?dK:dM.$0;}));};S.snippetNameRm=function(dJ){return p.op_BarGreaterGreater(S.snippetRm(dJ),function(dK){return S.snippetName(dK.snpName,dK.snpContent);});};S.snippetRm=function(dJ){return o.absorbO(function(){return new d({$:1,$0:(function(dK){return function(dL){return dK("Snippet not found "+cy.p(dL));};}(a.id))(dJ)});},S.snippetORm(dJ));};S.prepareCodeRm=function(dJ){return o.readerFun(function(dK){return dK.prepCode(dJ);});};S.orderedRm=function(){return o.readerFun(function(dJ){return dJ.ordered;});};S.childrenRm=function(dJ){return o.readerFun(function(dK){return cG.filter(function(dL){return cN.Equals(dL.snpParentIdO,{$:1,$0:dJ});},dK.ordered);});};S.modifiedRm=function(dJ){return o.readerFun(function(dK){return dJ.snpGeneration>dK.generation;});};S.maxGenerationRm=function(){return o.readerFun(function(dJ){return cG.max(cG.map(function(dK){return dK.snpGeneration;},dJ.ordered));});};S.predecessorsRm=function(dJ){return o.readerFun(function(dK){return cG.choose(dK.fetcher,dJ.snpPredIds);});};S.parentORm=function(dJ){return o.readerFun(function(dK){var dL;dL=dJ.snpParentIdO;return dL==null?null:dK.fetcher(dL.$0);});};S.snippetORm=function(dJ){return o.readerFun(function(dK){return dK.fetcher(dJ);});};S.propertyPairO=function(dJ,dK){var dL,dM,dN,dO;dL=S.propertyO(dJ,dK);return dL==null?null:{$:1,$0:(dM=cF.SplitStrings(dL.$0,[S.tieFighter()],1),[cH.get(dM,0),(dN=cH.tryItem(1,dM),(dO=cH.get(dM,0),dN==null?dO:dN.$0))])};};S.tieFighter=function(){cv.$cctor();return cv.tieFighter;};S.propertyO=function(dJ,dK){function dL(dM,dN){return dM===dJ?{$:1,$0:dN}:null;}return cH.tryPick(function(dM){return dL(dM[0],dM[1]);},dK.snpProperties);};S.nameSanitized=function(dJ){var dK,dL;dK=["\"","<",">","|","\u0000","\u0001","\u0002","\u0003","\u0004","\u0005","\u0006","\u0007","\u0008","\u0009","\n","\u000b","\u000c","\r","\u000e","\u000f","\u0010","\u0011","\u0012","\u0013","\u0014","\u0015","\u0016","\u0017","\u0018","\u0019","\u001a","\u001b","\u001c","\u001d","\u001e","\u001f",":","*","?","\\","/"];return cF.Filter(function(dM){return!cH.contains(dM,dK);},dJ.snpName)+" "+(dL=dJ.snpId.get_Id(),a.String(dL));};S.snippetName=function(dJ,dK){var dL;return dJ!==""?dJ:(dL=cG.tryHead(cG.filter(function(dM){return!(cF.StartsWith(dM,"#")||cF.StartsWith(dM,"[<")||cF.StartsWith(dM,"//"));},cG.map(cF.Trim,cF.SplitChars(dK,["\n"],1)))),dL==null?"<empty>":dL.$0);};S.defaultSnippet=function(){cv.$cctor();return cv.defaultSnippet;};S.New=function(dJ,dK,dL){return Q.New(new P({$:0,$0:cS.NewGuid()}),dJ,dK,dL,new cU.New$1(null),[],(S.getNextGeneration())());};S.getNextGeneration=function(){cv.$cctor();return cv.getNextGeneration;};S.setGeneration=function(){cv.$cctor();return cv.setGeneration;};T.Hole={$:0};V.New=function(dJ,dK,dL,dM,dN,dO,dP){return{id:dJ,isExpandedRm:dK,canHaveChildrenRm:dL,childrenRm:dM,pathRm:dN,parentORm:dO,newChildrenRm:dP};};U.removeNodeOutdentChildren=function(dJ,dK){var dL;function dM(dN,dO){return p.op_GreaterGreaterEquals(dN,function(dP){return U.outdentNode(dO,dP);});}return p.op_GreaterGreaterEquals(p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(dJ.childrenRm(),cH.ofSeq),(dL=p.rtn(dK),function(dN){return cG.fold(dM,dL,dN);})),function(dN){return U.removeNode(dJ,dN);});};U.outdentNode=function(dJ,dK){var dL;function dM(dN){return U.moveToSibling(true,dJ,dN,dK);}return p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(dJ.parentORm(dK),function(dN){return dN==null?null:{$:1,$0:dM(dN.$0)};}),(dL=p.rtn(dK),function(dN){return dN==null?dL:dN.$0;}));};U.indentNode=function(dJ,dK){var dL;function dM(dO){return!cN.Equals(dJ.id(),dO.id());}function dN(dO,dP){return p.op_GreaterGreaterEquals(dP.canHaveChildrenRm(),function(dQ){return dQ?p.rtn({$:1,$0:dP}):dO;});}return p.op_GreaterGreaterEquals(p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(p.op_GreaterGreaterEquals(dJ.parentORm(dK),function(dO){return dO!=null&&dO.$==1?p.op_BarGreaterGreater(dO.$0.childrenRm(),function(dP){var dQ;dQ=cH.ofSeq(dP);return dQ;}):p.rtn(dK);}),function(dO){return cG.takeWhile(dM,dO);}),(dL=p.rtn(null),function(dO){return cG.fold(dN,dL,dO);})),function(dO){var dP;return dO!=null&&dO.$==1?(dP=dO.$0,p.op_GreaterGreaterEquals(U.removeNode(dJ,dK),function(dQ){return U.addChild(true,dJ,dP,dQ);})):p.rtn(dK);});};U.addChild=function(dJ,dK,dL,dM){var dN;dN=o.fusion();return dN.Run(dN.Delay(function(){return dN.Bind(dL.pathRm(),function(dO){function dP(dQ){var dR,dS;return cN.Equals(dQ.id(),dL.id())?dJ?p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(p.op_BarGreaterGreater(p.op_BarGreaterGreater(dQ.childrenRm(),cH.ofSeq),(dR=cI.ofArray([dK]),function(dT){return cG.append(dT,dR);})),cH.ofSeq),dQ.newChildrenRm):p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(p.op_BarGreaterGreater(p.op_BarGreaterGreater(dQ.childrenRm(),cH.ofSeq),(dS=cI.ofArray([dK]),function(dT){return cG.append(dS,dT);})),cH.ofSeq),dQ.newChildrenRm):cI.contains(dQ.id(),dO)?p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(p.op_BarGreaterGreater(dQ.childrenRm(),cH.ofSeq),function(dT){return cG.map(dP,dT);}),o.sequenceSeq),cH.ofSeq),dQ.newChildrenRm):p.rtn(dQ);}return dN.ReturnFrom(o.sequenceSeq(cG.map(dP,dM)));});}));};U.moveToSibling2=function(dJ,dK,dL,dM){var dN;dN=o.fusion();return dN.Run(dN.Delay(function(){return dN.Bind(U.tryFindId(dK,dM),function(dO){var dP;return dO!=null&&dO.$==1?(dP=dO.$0,dN.Bind(U.tryFindId(dL,dM),function(dQ){return dQ!=null&&dQ.$==1?dN.ReturnFrom(U.moveToSibling(dJ,dP,dQ.$0,dM)):dN.Return(dM);})):dN.Return(dM);});}));};U.moveToSibling=function(dJ,dK,dL,dM){return p.op_GreaterGreaterEquals(U.removeNode(dK,dM),function(dN){return U.addSibling(dJ,dK,dL,dN);});};U.tryFindId=function(dJ,dK){return U.tryFind(function(dL){return cN.Equals(dL.id(),dJ);},dK);};U.tryFind=function(dJ,dK){function dL(dM,dN){return p.op_GreaterGreaterEquals(dM,function(dO){var dP;return dO==null?dJ(dN)?p.rtn({$:1,$0:dN}):p.op_GreaterGreaterEquals(dN.childrenRm(),(dP=p.rtn(null),function(dQ){return cG.fold(dL,dP,dQ);})):p.rtn({$:1,$0:dO.$0});});}return cG.fold(dL,p.rtn(null),dK);};U.addSibling=function(dJ,dK,dL,dM){function dN(dO){return cN.Equals(dO.id(),dL.id());}return p.op_GreaterGreaterEquals(dL.pathRm(),function(dO){var dP,dQ;function dR(dS){return cN.Equals(dS.id(),dQ)?p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(dS.childrenRm(),cH.ofSeq),function(dT){return U.addToParent(dJ,dN,dK,dS,dT);}):cI.contains(dS.id(),dP)?p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(p.op_BarGreaterGreater(dS.childrenRm(),cH.ofSeq),function(dT){return cG.map(dR,dT);}),o.sequenceSeq),cH.ofSeq),dS.newChildrenRm):p.rtn(dS);}return dO.$==1?(dP=dO.$1,(dQ=dO.$0,o.sequenceSeq(cG.map(dR,dM)))):p.rtn(U.addNodeToSeq(dJ,dN,dK,dM));});};U.addToParent=function(dJ,dK,dL,dM,dN){return dM.newChildrenRm(cH.ofSeq(U.addNodeToSeq(dJ,dK,dL,dN)));};U.addNodeToSeq=function(dJ,dK,dL,dM){return cI.ofSeq(cG.delay(function(){return cG.collect(function(dN){return dK(dN)?dJ?cG.append([dN],cG.delay(function(){return[dL];})):cG.append([dL],cG.delay(function(){return[dN];})):[dN];},dM);}));};U.removeNodes=function(dJ,dK){var dL;dL=o.fusion();return dL.Run(dL.Delay(function(){function dM(dN,dO){var dP;dP=o.fusion();return dP.Run(dP.Delay(function(){return dP.Bind(dN,function(dQ){var dR,dS;dR=dQ[1];dS=dQ[0];return dP.Bind(p.op_BarGreaterGreater(dO.childrenRm(),cH.ofSeq),function(dT){return dP.Bind(cG.fold(dM,p.rtn([cI.T.Empty,dR]),dT),function(dU){var dV,dW;dV=dU[1];dW=dU[0];return dJ(dO)?dP.Return([dS,cI.append(dW,dV)]):dP.Bind(dO.newChildrenRm(cH.ofSeq(cG.rev(dW))),function(dX){return dP.Return([new cI.T({$:1,$0:dX,$1:dS}),dV]);});});});});}));}return dL.Bind(cG.fold(dM,p.rtn([cI.T.Empty,cI.T.Empty]),dK),function(dN){return dL.Return(cI.rev(cI.append(dN[1],dN[0])));});}));};U.removeNode=function(dJ,dK){var dL;dL=o.fusion();return dL.Run(dL.Delay(function(){return dL.Bind(dJ.pathRm(),function(dM){function dN(dO){var dP;dP=o.fusion();return dP.Run(dP.Delay(function(){return cN.Equals(dO.id(),dJ.id())?dP.Return(null):cI.contains(dO.id(),dM)?dP.ReturnFrom(p.op_BarGreaterGreater(p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(p.op_BarGreaterGreater(p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(p.op_BarGreaterGreater(dO.childrenRm(),cH.ofSeq),function(dQ){return cG.map(dN,dQ);}),o.sequenceSeq),function(dQ){return cG.choose(a.id,dQ);}),cH.ofSeq),dO.newChildrenRm),function(dQ){return{$:1,$0:dQ};})):dP.Return({$:1,$0:dO});}));}return dL.ReturnFrom(p.op_BarGreaterGreater(o.sequenceSeq(cG.map(dN,dK)),function(dO){return cG.choose(a.id,dO);}));});}));};U.listNodes=function(dJ,dK){return p.op_BarGreaterGreater(o.sequenceSeq(cG.map(function(dL){return p.op_BarGreaterGreater(p.op_GreaterGreaterEquals(dL.isExpandedRm(),function(dM){var dN;return dM?p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(dL.childrenRm(),cH.ofSeq),(dN=dJ+1,function(dO){return U.listNodes(dN,dO);})):p.rtn([]);}),function(dM){return cG.append([[dL,dJ]],dM);});},dK)),function(dL){return cG.collect(a.id,dL);});};c["String.Right$1"]=function(dJ,dK){var dL,dM;return c["String.Substring2$1"](dJ,(dL=0,(dM=dJ.length-dK,cN.Compare(dL,dM)===1?dL:dM)),dJ.length);};c["String.Left$1"]=function(dJ,dK){return c["String.Substring2$1"](dJ,0,dK);};c["String.Substring2$1"]=function(dJ,dK,dL){var dM,dN;while(true){if(dL<=0)return"";else if(dK<0){dM=dK;dK=0;dL=dL+dM;}else return dK>=dJ.length?"":cF.Substring(dJ,dK,(dN=dJ.length-dK,cN.Compare(dL,dN)===-1?dL:dN));}};c.delayed$1=function(dJ,dK){var dL;dL=[null];return function(dM){var dN,dO;dN=dL[0];dN==null?void 0:dN.$0.Cancel$1();dL[0]={$:1,$0:new cW.New()};cJ.Start((dO=null,cJ.Delay(function(){return cJ.Bind(cJ.Sleep(dJ),function(){dK(dM);return cJ.Zero();});})),{$:1,$0:dL[0].$0});};};c.print$1=function(dJ){if(typeof dJ=="string")((function(dK){return function(dL){return dK(cE.toSafe(dL));};}(function(dK){cX.log(dK);}))(dJ));else((function(dK){return function(dL){return dK(cE.prettyPrint(dL));};}(function(dK){cX.log(dK);}))(dJ));};c.Error$1=function(dJ){return{$:1,$0:dJ};};X.ofAsyncResult=function(dJ){return new a.Promise(function(dK,dL){cJ.StartWithContinuations(dJ,function(dM){if(dM.$==1)dL((function(dN){return function(dO){return dN(cE.prettyPrint(dO));};}(a.id))(dM.$0));else dK(dM.$0);},function(dM){dL(dM);},function(dM){dL(dM);},null);});};Y.sequenceSeq=function(dJ){return Y.traverseSeq(a.id,dJ);};Y.traverseSeq=function(dJ,dK){return Y.map(a.id,cH.foldBack(function(dL,dM){return Y.op_GreaterGreaterEquals(dJ(dL),function(dN){return Y.op_GreaterGreaterEquals(dM,function(dO){return Y.rtn(new cI.T({$:1,$0:dN,$1:dO}));});});},cH.ofSeq(dK),Y.rtn(cI.T.Empty)));};Y.op_GreaterGreaterEquals=function(dJ,dK){return Y.bind(dK,dJ);};Y.rtn=function(dJ){return cZ.Const(dJ);};Y.map=function(dJ,dK){return cZ.Map(dJ,dK);};Y.bind=function(dJ,dK){return cZ.Bind(dJ,dK);};Y.insertWO=function(dJ){return dJ==null?cZ.Const(null):cZ.Map(function(dK){return{$:1,$0:dK};},dJ.$0);};Z.serLMdField=function(dJ,dK,dL,dM){var dN;function dO(dP,dQ){dK(dP).Set(dN[1](dQ));return dP;}dN=Z.serSeq(dL,dM);return[dJ,function(dP){var dQ;dQ=(dK(dP))["var"].Get();return dN[0](dQ);},function(dP){return function(dQ){return dO(dP,dQ);};}];};Z.serVarField=function(dJ,dK,dL,dM){var dN;function dO(dP){return dP.Get();}return[dJ,(dN=function(dP){return dO(dK(dP));},function(dP){return dL(dN(dP));}),function(dP){return function(dQ){c0.Set(dK(dP),dM(dQ));return dP;};}];};Z.serMap=function(dJ,dK,dL,dM){var dN,dO,dP,dQ,dR;function dS(dU){return[dU.K,dU.V];}function dT(dU){return new c1.New(dU);}dN=(dO=Z.serDup(dJ,dK,dL,dM),Z.serSeq(dO[0],dO[1]));return[(dP=function(dU){return cG.map(dS,dU);},(dQ=dN[0],function(dU){return dQ(dP(dU));})),(dR=dN[1],function(dU){return dT(dR(dU));})];};Z.serDup=function(dJ,dK,dL,dM){var dN,dO,dP;function dQ(dS){return[dN[1](null),dO[1](null)];}function dR(dS){return[dN[1](cH.get(dS,0)),dO[1](cH.get(dS,1))];}dN=[dJ,dK];dO=[dL,dM];return[function(dS){return(((cD.Curried3(function(dT,dU,dV){return dT("["+cE.toSafe(dU)+", "+cE.toSafe(dV)+"]");}))(a.id))(dN[0](dS[0])))(dO[0](dS[1]));},(dP=function(dS){return Z.ifUndefF(dQ,dR,dS);},function(dS){return dP(a.id(dS));})];};Z.serOpt=function(dJ,dK){var dL,dM,dN,dO,dP,dQ;function dR(dU){return dU==null?"null":dU.$0;}function dS(dU){return null;}function dT(dU){return{$:1,$0:dU};}dL=[dJ,dK];return[(dM=(dN=dL[0],function(dU){return dU==null?null:{$:1,$0:dN(dU.$0)};}),function(dU){return dR(dM(dU));}),(dO=(dP=(dQ=dL[1],function(dU){return dT(dQ(dU));}),function(dU){return Z.ifUndefF(dS,dP,dU);}),function(dU){return dO(a.id(dU));})];};Z.serSet=function(dJ,dK){var dL,dM,dN,dO,dP,dQ,dR;function dS(dU){return[];}function dT(dU){return new cU.New(dU);}dL=[dJ,dK];return[(dM=(dN=dL[0],function(dU){return new cU.New$1(c2.OfSeq(cG.map(dN,dU)));}),function(dU){return Z.sprintA(dM(dU));}),(dO=(dP=(dQ=(dR=dL[1],function(dU){return cG.map(dR,dU);}),function(dU){return Z.ifUndefF(dS,dQ,dU);}),function(dU){return dP(a.id(dU));}),function(dU){return dT(dO(dU));})];};Z.serLst=function(dJ,dK){var dL,dM,dN,dO,dP,dQ,dR;function dS(dT){return[];}dL=[dJ,dK];return[(dM=(dN=dL[0],function(dT){return cI.map(dN,dT);}),function(dT){return Z.sprintA(dM(dT));}),(dO=(dP=(dQ=(dR=dL[1],function(dT){return cG.map(dR,dT);}),function(dT){return Z.ifUndefF(dS,dQ,dT);}),function(dT){return dP(a.id(dT));}),function(dT){return cI.ofSeq(dO(dT));})];};Z.serArr=function(dJ,dK){var dL,dM,dN,dO,dP,dQ,dR;function dS(dT){return[];}dL=[dJ,dK];return[(dM=(dN=dL[0],function(dT){return cH.map(dN,dT);}),function(dT){return Z.sprintA(dM(dT));}),(dO=(dP=(dQ=(dR=dL[1],function(dT){return cG.map(dR,dT);}),function(dT){return Z.ifUndefF(dS,dQ,dT);}),function(dT){return dP(a.id(dT));}),function(dT){return cH.ofSeq(dO(dT));})];};Z.serSeq=function(dJ,dK){var dL,dM,dN,dO,dP,dQ;function dR(dS){return[];}dL=[dJ,dK];return[(dM=(dN=dL[0],function(dS){return cG.map(dN,dS);}),function(dS){return Z.sprintA(dM(dS));}),(dO=(dP=(dQ=dL[1],function(dS){return cG.map(dQ,dS);}),function(dS){return Z.ifUndefF(dR,dP,dS);}),function(dS){return dO(a.id(dS));})];};Z.serField=function(dJ,dK,dL,dM,dN){return[dJ,function(dO){return dM(dK(dO));},function(dO){return function(dP){return dL(dN(dP),dO);};}];};Z.serString=function(){cv.$cctor();return cv.serString;};Z.serBool=function(){cv.$cctor();return cv.serBool;};Z.serInt=function(){cv.$cctor();return cv.serInt;};Z.serFloat=function(){cv.$cctor();return cv.serFloat;};Z.sprintA=function(dJ){var dK;dK=cF.concat(", ",dJ);return(function(dL){return function(dM){return dL("["+cE.toSafe(dM)+"]");};}(a.id))(dK);};Z.deserGuid=function(){cv.$cctor();return cv.deserGuid;};Z.Exists=function(dJ,dK){return!dK[dJ]?null:{$:1,$0:dK[dJ]};};Z.ifUndefF=function(dJ,dK,dL){return!dL?dJ(dL):dK(dL);};Z.ifUndef=function(dJ,dK){return!dK?dJ:dK;};_0.LoadFilesAsync=function(dJ){var dK;dK=null;return cJ.Delay(function(){return cJ.For(dJ,function(dL){return cJ.Bind(_0.LoadFile(dL),function(){return cJ.Return(null);});});});};_0.LoadFile=function(dJ){var dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX;function dY(d0,d1){return cF.EndsWith(d1,d0)?{$:1,$0:null}:null;}function dZ(d0,d1){try{dW.onload=d0;self.document.head.appendChild(dW);}catch(d2){d1(d2);}}dK=(dL=((dN=dY(".js",dJ),dN!=null&&dN.$==1)?!self.document.querySelector("script[src='"+dJ+"']")||((dO=dY(".fsx",dJ),dO!=null&&dO.$==1)?!self.document.querySelector("script[src='"+dJ+"']")||(dP=dY(".fs",dJ),dP!=null&&dP.$==1)&&!self.document.querySelector("script[src='"+dJ+"']"):(dQ=dY(".fs",dJ),dQ!=null&&dQ.$==1)&&!self.document.querySelector("script[src='"+dJ+"']")):(dR=dY(".fsx",dJ),dR!=null&&dR.$==1)?!self.document.querySelector("script[src='"+dJ+"']")||(dS=dY(".fs",dJ),dS!=null&&dS.$==1)&&!self.document.querySelector("script[src='"+dJ+"']"):(dT=dY(".fs",dJ),dT!=null&&dT.$==1)&&!self.document.querySelector("script[src='"+dJ+"']"))?{$:1,$0:_0.createScript(dJ)}:(dU=dY(".css",dJ),dU!=null&&dU.$==1)?{$:1,$0:_0.createCss(dJ)}:(dV=dY(".html",dJ),dV!=null&&dV.$==1)?{$:1,$0:_0.createHtml(dJ)}:null,dL==null?null:{$:1,$0:(dW=dL.$0,cJ.FromContinuations(function(d0,d1,d2){return dZ.apply(null,[d0,d1,d2]);}))});return dK==null?(dX=null,cJ.Delay(function(){return cJ.Return(null);})):dK.$0;};_0.createHtml=function(dJ){var dK;dK=self.document.createElement("link");dK.setAttribute("rel","import");dK.setAttribute("type","text/html");dK.setAttribute("href",dJ);return dK;};_0.createCss=function(dJ){var dK;dK=self.document.createElement("link");dK.setAttribute("rel","stylesheet");dK.setAttribute("type","text/css");dK.setAttribute("href",dJ);return dK;};_0.createScript=function(dJ){var dK;dK=self.document.createElement("script");dK.setAttribute("type","text/javascript");dK.setAttribute("src",dJ);return dK;};_1.Identifier$1=function(dJ){var dK,dL,dM;return(dL=W.REGEX$2("^[$a-zA-Z_][0-9a-zA-Z_\\.\\-$]*$","",dJ),dL!=null&&dL.$==1&&((dM=dL.$0,!cN.Equals(dM,null)&&dM.length===1)&&(dK=cH.get(dL.$0,0),true)))?{$:1,$0:dK}:null;};_1.getEndWord$1=function(dJ,dK){var dL,dM;dL=W.REGEX$2("^([a-zA-Z_]\\w*)","g",dJ.substring(dK));return dL!=null&&dL.$==1?(dM=dL.$0,!cN.Equals(dM,null)&&dM.length===1)?cH.get(dL.$0,0):"":"";};_1.getStartWord$1=function(dJ,dK){var dL,dM;dL=W.REGEX$2("([a-zA-Z_]\\w*)$","g",cF.Substring(dJ,0,dK));return dL!=null&&dL.$==1?(dM=dL.$0,!cN.Equals(dM,null)&&dM.length===1)?cH.get(dL.$0,0):"":"";};_3=_2.Hoverable=cD.Class({Content:function(dJ){return dJ.on("mouseenter",function(){return c3.AddClass(dJ.elt,"hovering");}).on("mouseleave",function(){return c3.RemoveClass(dJ.elt,"hovering");});},Content$1:function(dJ){return c4.Element("div",this.get_Attributes(),dJ);},get_Attributes:function(){var dJ,dK;dJ=this;return cI.ofArray([(dK=cZ.Const("hovering"),c5.DynamicPred("class",this.hover.get_View(),dK)),c6.HandlerImpl("mouseenter",function(){return function(){return dJ.hover.Set(true);};}),c6.HandlerImpl("mouseleave",function(){return function(){return dJ.hover.Set(false);};})]);}},null,_3);_3.get_Demo$1=function(){return _3.New$3().Content(c4.Element("div",[c6.Create("style","flex-flow: column;")],[c4.TextNode("Hover over me!")]));};_3.Content$2340$81=cD.Curried3(function(dJ,dK,dL){return c3.RemoveClass(dJ.elt,"hovering");});_3.get_Attributes$2336$69=cD.Curried3(function(dJ,dK,dL){return dJ.hover.Set(false);});_3.get_Attributes$2335$69=cD.Curried3(function(dJ,dK,dL){return dJ.hover.Set(true);});_3.New$3=function(){return _3.New$2(c0.Create$1(false));};_3.New$2=function(dJ){return new _3({hover:dJ});};_2.hoverable$1=function(dJ){return _3.New$3().Content(dJ);};_4.addResizeObserver$1=function(dJ,dK){var dL,dM,dN,dO;try{dL=!(!a.ResizeObserver);}catch(dP){dL=false;}if(dL){dM=new a.ResizeObserver(dJ);_4.set_observers$1(new cI.T({$:1,$0:dM,$1:_4.observers$1()}));dM.observe(dK);}else{dN=_4.dimsChanged$1(dK);cJ.Start((dO=null,cJ.Delay(function(){return cJ.While(function(){return dK.isConnected;},cJ.Delay(function(){return cJ.Bind(cJ.Sleep(110),function(){return dN()?(dJ(),cJ.Zero()):cJ.Zero();});}));})),null);}};_4.dimsChanged$1=function(dJ){var dK;dK=[dJ.getBoundingClientRect()];return function(){var dL;dL=dJ.getBoundingClientRect();return cN.Equals(_4.domRect2Tuple$1(dK[0]),_4.domRect2Tuple$1(dL))?false:(dK[0]=dL,true);};};_4.domRect2Tuple$1=function(dJ){return[dJ.top,dJ.left,dJ.width,dJ.height];};_4.observers$1=function(){cv.$cctor();return cv.observers;};_4.set_observers$1=function(dJ){cv.$cctor();cv.observers=dJ;};_7=_6.WcTabStripT=cD.Class({connectedCallback:function(){var dJ,dK,dL,dM;function dN(){var dO,dP,dQ;dP=!dK.hasAttribute("bottom");dQ=cI.ofSeq(cG.delay(function(){return cG.collect(function(dR){var dS;dS=dK.childNodes[dR-1];return cN.Equals(dS.nodeType,c7.ELEMENT_NODE)?[[dS.hasAttribute("tabname")?dS.getAttribute("tabname"):(function(dT){return function(dU){return dT("Tab "+a.String(dU));};}(a.id))(dR),dS]]:[];},cM.range(1,dK.childNodes.length));}));while(dM.childNodes.length>0)dM.removeChild(dM.lastChild);dO=_6.tabStrip$1(dJ.selected,dP,true,dQ,c4.Element("slot",cI.T.Empty,cI.T.Empty));c9.LoadLocalTemplates("");c4.Run(dM,dO);}dJ=this;!this.added?(dK=this,dL=dK.attachShadow({mode:"open"}),dM=self.document.createElement("div"),dL.appendChild(dM),dN(),dK.addEventListener("DOMSubtreeModified",c.delayed$1(50,dN)),this.added=true):void 0;}},k,_7);_7.Constructor$1=function(){var dJ,dK;dJ=(dK=c_.construct(self.HTMLElement,[],this.__proto__.constructor),dK);self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New.call(dJ);return dJ;};_7.New$1=cD.Ctor(function(){k.New.call(this);this.added=false;this.selected=c0.Create$1(1);(function(dJ){return dJ("WcTabStripT initializer");}(function(dJ){cX.log(dJ);}));},_7);_6.init$1=function(){cv.$cctor();return cv.init;};_6.tabStrip$2478$64=function(dJ,dK){return function(){return function(){return dK.Set(dJ+1);};};};_6.tabStrip$1=function(dJ,dK,dL,dM,dN){var dO;dO=c4.Element("div",[c6.Create("class",(((cD.Curried3(function(dP,dQ,dR){return dP("tab-strip "+cE.toSafe(dQ)+" "+cE.toSafe(dR));}))(a.id))(dK?"top":"bottom"))(dL?"horizontal":"vertical"))],cI.ofSeq(cG.delay(function(){return cG.collect(function(dP){var dQ;dQ=dP[0];return[_3.New$3().Content(c4.Element("div",[c5.Dynamic("class",cZ.Map(function(dR){return"tab"+(dR===dQ+1?" selected":"");},dJ.get_View())),c6.Create("draggable","true"),c6.HandlerImpl("click",function(){return function(){return dJ.Set(dQ+1);};})],[c4.TextNode(dP[1][0])]))];},cG.indexed(dM));})));return c4.Element("div",[c6.Create("class","tab-panel")],cI.ofSeq(cG.delay(function(){return cG.append(dK?[dO]:[],cG.delay(function(){return cG.append([c4.Element("div",[c6.Create("class","tab-content")],[dN])],cG.delay(function(){return cG.append(!dK?[dO]:[],cG.delay(function(){return cG.append([c4.Element("style",cI.T.Empty,cI.ofArray([c4.TextNode(_6.css$1())]))],cG.delay(function(){return[c4.Element("style",cI.T.Empty,cI.ofArray([c4.TextView(cZ.Map(function(dP){return function(dQ){return dP("\r\n                                              ::slotted(*              ) { display: none }\r\n                                              ::slotted(*:nth-child("+a.String(dQ)+")) { display: grid }\r\n                                           ");};}(a.id),dJ.get_View()))]))];}));}));}));}));})));};_6.css$1=function(){cv.$cctor();return cv.css;};_9=_8.WcSplitterT=cD.Class({connectedCallback:function(){var dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY;function dZ(d7){var d8,d9,d_,d$;d8=dQ?["padding-left","padding-right","grid-column-gap"]:["padding-top","padding-bottom","grid-row-gap"];d9=a.parseFloat("0"+a.jQuery(d7.parentElement.parentElement).css(d8[0]));d_=a.parseFloat("0"+a.jQuery(d7.parentElement.parentElement).css(d8[1]));dT.Set(a.parseFloat("0"+a.jQuery(d7.parentElement.parentElement).css(d8[2])));dS[0]=d9+d_;d$=dJ.getBoundingClientRect();return dQ?dP?[d$.width,d$.height]:[-d$.width,d$.height]:dP?[d$.height,d$.width]:[-d$.height,d$.width];}function d0(d7){return dQ?d7.clientX:d7.clientY;}function d1(d7){var d8,d9;d8=(d0(d7)-dW[0])*100/dR[0][0]+dV[0];dO.Set((d9=cN.Compare(dM,d8)===1?dM:d8,cN.Compare(dN,d9)===-1?dN:d9));}function d2(){if(dU[0]){dU[0]=false;self.removeEventListener("mousemove",d1,false);self.removeEventListener("mouseup",d2,false);}}function d3(d7){var d8,d9;if(!dU[0]){dU[0]=true;dV[0]=dO.Get();dW[0]=d0(d7);dR[0]=(d8=(d9=dX[0],d9==null?null:{$:1,$0:dZ(d9.$0)}),d8==null?[100,500]:d8.$0);self.addEventListener("mousemove",d1,false);self.addEventListener("mouseup",d2,false);d7.preventDefault();}}function d4(d7,d8,d9,d_){return[(d7-d8-d9)*d_/100,(d7-d8-d9)*(100-d_)/100];}function d5(d7,d8){return(((((cD.Curried(function(d9,d_,d$,ea,eb){return d9(" "+d_.toFixed(2)+"px "+d$.toFixed(2)+"px ; "+cE.toSafe(ea)+" : "+eb.toFixed(2)+"px; ");},5))(a.id))(d7))(d8))(dQ?"height":"width"))(dR[0][1]);}function d6(){var d7;d7=dX[0];(h.iter(function(d8){dR[0]=dZ(d8);}))(d7);dO.Set(dO.Get());}if(!this.added){dJ=this;dK=dJ.attachShadow({mode:"open"});dL=self.document.createElement("div");dM=dJ.hasAttribute("min")?a.parseFloat(dJ.getAttribute("min")):4;dN=dJ.hasAttribute("max")?a.parseFloat(dJ.getAttribute("max")):96;dO=c0.Create$1(dJ.hasAttribute("value")?a.parseFloat(dJ.getAttribute("value")):50);dP=!dJ.hasAttribute("second");dQ=dJ.hasAttribute("vertical");dR=[[0,0]];dS=[0];dT=c0.Create$1(0);dU=[false];dV=[0];dW=[0];dX=[null];dY=(((((dQ?_8.layoutVertical$1():_8.layoutHorizontal$1())(cZ.Map(function(d7){var d8;d8=d4(dR[0][0],dT.Get(),dS[0],d7);return d5.apply(null,d8);},dO.get_View())))(function(){_4.addResizeObserver$1(d6,dJ);d6();}))(function(d7){dX[0]={$:1,$0:d7};d6();}))(function(d7){d3(d7);}))(cZ.Map(function(d7){return function(d8){return d7(cE.prettyPrint(d8)+"px");};}(a.id),dT.get_View()));c9.LoadLocalTemplates("");c4.Run(dL,dY);dK.appendChild(dL.firstChild);this.added=true;}}},k,_9);_9.Constructor$1=function(){var dJ,dK;dJ=(dK=c_.construct(self.HTMLElement,[],this.__proto__.constructor),dK);self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New.call(dJ);return dJ;};_9.New$1=cD.Ctor(function(){k.New.call(this);this.added=false;(function(dJ){return dJ("WcSplitterT initializer");}(function(dJ){cX.log(dJ);}));},_9);_8.init$1=function(dJ,dK){var dL,dM,dN;dL=new _9.New$1();_8.set_layoutHorizontal$1(dJ);_8.set_layoutVertical$1(dK);dM="wcomp-splitter";dN=self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New;cX.log("defineWebComponent: "+dM);c$.setPrototypeOf(dN.prototype,self.HTMLElement.prototype);c$.setPrototypeOf(dN,self.HTMLElement);c$.setPrototypeOf(_9.Constructor$1.prototype,dN.prototype);self.customElements.define(dM,_9.Constructor$1);};_8.layoutVertical$1=function(){cv.$cctor();return cv.layoutVertical;};_8.set_layoutVertical$1=function(dJ){cv.$cctor();cv.layoutVertical=dJ;};_8.layoutHorizontal$1=function(){cv.$cctor();return cv.layoutHorizontal;};_8.set_layoutHorizontal$1=function(dJ){cv.$cctor();cv.layoutHorizontal=dJ;};$.New=function(dJ,dK){return{column:dJ,lineNumber:dK};};ba.New=function(dJ,dK,dL,dM){return{startColumn:dJ,endColumn:dK,startLineNumber:dL,endLineNumber:dM};};bb.New=function(dJ,dK,dL,dM,dN,dO){return{authority:dJ,fragment:dK,fsPath:dL,path:dM,query:dN,scheme:dO};};bc.New=function(dJ,dK){return{range:dJ,uri:dK};};bd.New=function(dJ,dK){return{matches:dJ,range:dK};};be.New=function(dJ,dK,dL){return{endColumn:dJ,startColumn:dK,word:dL};};bf.New=function(dJ){return{uri:dJ};};bg.New=function(dJ,dK){return{value:dJ,isTrusted:dK};};bh.New=function(dJ,dK,dL,dM,dN,dO){return{startColumn:dJ,endColumn:dK,startLineNumber:dL,endLineNumber:dM,severity:dN,message:dO};};bi.New=function(dJ,dK,dL){return{kind:dJ,label:dK,detail:dL};};bj.New=function(dJ,dK){return{contents:dJ,range:dK};};bk=_.Editor=cD.Class({},k,bk);bk.New=cD.Ctor(function(){k.New.call(this);},bk);bl.New=function(dJ,dK,dL,dM,dN,dO,dP){return{"var":dJ,onChange:dK,onRender:dL,editorO:dM,disabled:dN,options:dO,overrides:dP};};_.newVarO=function(dJ){var dK;dK=_.newVar(c0.Lens(dJ,function(dL){return dL==null?"":dL.$0;},function(dL,dM){return dL==null?null:{$:1,$0:dM};}));return _.disabled(cZ.Map(function(dL){return dL==null;},dJ.get_View()),dK);};_.newText=function(dJ){return _.newVar(c0.Create$1(dJ));};_["var"]=function(dJ){return dJ["var"];};_.disabled=function(dJ,dK){return bl.New(dK["var"],dK.onChange,dK.onRender,dK.editorO,dJ,dK.options,dK.overrides);};_.onRender=function(dJ,dK){return bl.New(dK["var"],dK.onChange,{$:1,$0:dJ},dK.editorO,dK.disabled,dK.options,dK.overrides);};_.onChange=function(dJ,dK){return bl.New(dK["var"],dJ,dK.onRender,dK.editorO,dK.disabled,dK.options,dK.overrides);};_.setVar=function(dJ,dK){return bl.New(dJ,dK.onChange,dK.onRender,dK.editorO,dK.disabled,dK.options,dK.overrides);};_.render$2829$42=function(dJ){return function(dK){var dL;cJ.Start((dL=null,cJ.Delay(function(){return cJ.Bind(_.loader(),function(){var dM,dN;dM=(dN=dK.parentElement,self.monaco.editor.create(dN,dJ.options,dJ.overrides));_4.addResizeObserver$1(function(){dM.layout();},dK.parentElement);dK.parentNode.removeChild(dK);dJ.editorO={$:1,$0:dM};(h.iter(function(dO){dO(dM);}))(dJ.onRender);W.bindVarEditor(function(dO){dM.onDidChangeModelContent(dO);},function(){return dM.getValue();},function(dO){dM.setValue(dO);},dJ.onChange,dJ["var"]);return cJ.Zero();});})),null);};};_.render=function(dJ){return c4.Element("div",[c6.OnAfterRenderImpl(function(dK){var dL;cJ.Start((dL=null,cJ.Delay(function(){return cJ.Bind(_.loader(),function(){var dM,dN;dM=(dN=dK.parentElement,self.monaco.editor.create(dN,dJ.options,dJ.overrides));_4.addResizeObserver$1(function(){dM.layout();},dK.parentElement);dK.parentNode.removeChild(dK);dJ.editorO={$:1,$0:dM};(h.iter(function(dO){dO(dM);}))(dJ.onRender);W.bindVarEditor(function(dO){dM.onDidChangeModelContent(dO);},function(){return dM.getValue();},function(dO){dM.setValue(dO);},dJ.onChange,dJ["var"]);return cJ.Zero();});})),null);})],[]);};_.loader=function(){cv.$cctor();return cv.loader;};_.newVar=function(dJ){return bl.New(dJ,a.ignore,null,null,cZ.Const(false),null,null);};W.rexGuid$1=function(){cv.$cctor();return cv.rexGuid;};W.REGEX$2=function(dJ,dK,dL){var dM;if(dL===null)return null;else try{dM=(new a.String(dL)).match(new a.RegExp(dJ,dK));return cN.Equals(dM,null)?null:!cN.Equals(dM,null)&&dM.length===0?null:{$:1,$0:dM};}catch(dN){return null;}};W.bindVarEditor=function(dJ,dK,dL,dM,dN){var dO,dP;dO=[0];dP=[0];dJ(function(){var dQ;dQ=dK();dN.Get()!==dQ?(dO[0]=dO[0]+1,dN.Set(dQ),dM()):void 0;});cZ.Sink(function(){if(dO[0]>dP[0])dP[0]=dO[0];else if(dK()!==dN.Get())dL(dN.Get());},dN.get_View());};bn.extractConfig=function(dJ,dK){var dL,dM;dL=dK.$0;return{$:0,$0:N.getSourceDir(dJ,A.splitByChar$1("\n",dL)),$1:(dM=new cU.New(A.splitByChar$1(" ",N.extractDefines({$:0,$0:dL}))),new cU.New$1(c2.OfSeq(cG.append(new cU.New(cI.ofArray([" --nologo","--quiet "])),dM))))};};bp=bo.Address=cD.Class({get_txt:function(){return this.$0;}},null,bp);bq.BRGetProcessId={$:1};bq.BRGetConnections={$:0};br.MsgRequestForEcho={$:5};br.MsgRequestForId={$:4};br.MsgFromBroker={$:3};br.MsgReply={$:2};br.MsgRequest={$:1};br.MsgInformation={$:0};bs.BMReceiverCantReply={$:4};bs.BMOnlyBrokerShouldUse={$:1};bs.BMOk={$:0};bt.Receiver={$:2};bt.Broker={$:1};bt.NoReply={$:0};bu.New=function(dJ,dK,dL,dM,dN,dO,dP){return{from:dJ,destination:dK,msgType:dL,subtype:dM,id:dN,payload:dO,replier:dP};};bv.FSharp={$:0};bw.FSStation={$:0};bx.JScript={$:0};bz=by.Handler=cD.Class({Cancel:function(dJ,dK){var dL;dL=this.waitingAgent;dL.mailbox.AddLast({$:3,$0:dJ,$1:dK});dL.resume();},Raise:function(dJ,dK){var dL;dL=this.waitingAgent;dL.mailbox.AddLast({$:2,$0:dJ,$1:dK});dL.resume();},Reply:function(dJ,dK){var dL;dL=this.waitingAgent;dL.mailbox.AddLast({$:1,$0:dJ,$1:dK});dL.resume();},Add:function(dJ,dK){var dL;dL=this.waitingAgent;dL.mailbox.AddLast({$:0,$0:dJ,$1:dK});dL.resume();}},k,bz);bz.New=cD.Ctor(function(dJ){k.New.call(this);this.waitingAgent=D.fold(D.defHandler,function(dK,dL){var dM,dN,dO;function dP(dQ,dR,dS){var dT,dU;dT=(dU=da.TryFind(dQ,dK),dU==null?null:{$:1,$0:dR(dU.$0)});dT==null?dS():void 0;return dK.Remove(dQ);}return dL.$==1?(dM=dL.$1,dP(dL.$0,function(dQ){dQ[0](dM);},function(){dJ(dM);})):dL.$==2?(dN=dL.$1,dP(dL.$0,function(dQ){dQ[1](dN);},a.ignore)):dL.$==3?(dO=dL.$1,dP(dL.$0,function(dQ){dQ[2](dO);},a.ignore)):dK.Add(dL.$0,dL.$1);},new c1.New([]));},bz);bA=bo.WSMessagingClient=cD.Class({sendMsg:function(dJ){var dK,dL;dK=this;dL=f.asyncResult();return dL.Run(dL.Delay(function(){return dJ.replier.$===0?dL.Bind$1(dK.sendAndForget(dJ),function(){return dL.Return("");}):dL.ReturnFrom$1(dK.sendGetReply(dJ));}));},getProcessId:function(){var dJ,dK;dJ=this;dK=f.asyncResult();return dK.Run(dK.Delay(function(){var dL,dM;return dK.Bind$1(dJ.sendGetReply((dL=bo.MessageBrokerAddress(),(dM=db.stringify((cw.j$9())(bq.BRGetProcessId)),bu.New(new bp({$:0,$0:""}),dL,br.MsgRequest,"",cS.NewGuid(),dM,bt.NoReply)))),function(dN){var dO;dO=(cx.j$7())(db.parse(dN));return dO.$==1?dK.Return(dO.$0):dK.ReturnFrom({$:1,$0:new d({$:4,$0:{$:6,$0:(function(dP){return function(dQ){return dP(cy.p$4(dQ));};}(a.id))(dO)}})});});}));},getListeners:function(){var dJ,dK;dJ=this;dK=f.asyncResult();return dK.Run(dK.Delay(function(){var dL,dM;return dK.Bind$1(dJ.sendGetReply((dL=bo.MessageBrokerAddress(),(dM=db.stringify((cw.j$9())(bq.BRGetConnections)),bu.New(new bp({$:0,$0:""}),dL,br.MsgRequest,"",cS.NewGuid(),dM,bt.NoReply)))),function(dN){var dO;dO=(cx.j$7())(db.parse(dN));return dO.$==0?dK.Return(dO.$0):dK.ReturnFrom({$:1,$0:new d({$:4,$0:{$:6,$0:(function(dP){return function(dQ){return dP(cy.p$4(dQ));};}(a.id))(dO)}})});});}));},sendGetReply:function(dJ){var dK,dL;dK=this;dL=f.asyncResult();return dL.Run(dL.Delay(function(){return dL.Bind$1(dK.sendAndReply(bt.Receiver,dJ),function(dM){var dN;return dL.Bind((dN=dM.msgType,dN.$==2?{$:0,$0:dM.payload}:dN.$==3?{$:1,$0:new d({$:4,$0:(cx.j$8())(db.parse(dM.payload))})}:{$:1,$0:new d({$:4,$0:{$:5,$0:dM.msgType}})}),function(dO){return dL.Return(dO);});});}));},sendAndVerify:function(dJ){var dK,dL;dK=this;dL=f.asyncResult();return dL.Run(dL.Delay(function(){return dL.Bind$1(dK.sendAndReply(bt.Broker,dJ),function(dM){var dN;return dL.Bind(dM.msgType.$==3?(dN=(cx.j$8())(db.parse(dM.payload)),dN.$===0?{$:0,$0:null}:{$:1,$0:new d({$:4,$0:dN})}):{$:1,$0:new d({$:4,$0:{$:5,$0:dM.msgType}})},function(){return dL.Return();});});}));},sendAndReply:function(dJ,dK){var dL,dM;dL=this;dM=f.asyncResult();return dM.Run(dM.Delay(function(){return dM.Bind$1(dL.getServer(),function(dN){return z["AsyncResultBuilder.ReturnFrom"](dM,cJ.FromContinuations(function(dO,dP,dQ){var dR;dL.waiting.Add(dK.id,[dO,dP,dQ]);dL.postR(dN,dJ,dK);return dL.wsTimeout>0?cJ.Start((dR=null,cJ.Delay(function(){return cJ.Bind(cJ.Sleep(dL.wsTimeout),function(){dL.waiting.Raise(dK.id,new dc.New$1((((cD.Curried3(function(dS,dT,dU){return dS("Did not receive reply in "+a.String(dT)+" seconds for Message: "+cB.p(dU));}))(a.id))(dL.wsTimeout/1000>>0))(dK)));return cJ.Zero();});})),null):null;}));});}));},sendAndForget:function(dJ){var dK,dL;dK=this;dL=f.asyncResult();return dL.Run(dL.Delay(function(){return dL.Bind$1(dK.getServer(),function(dM){dK.postR(dM,bt.NoReply,dJ);return dL.Zero();});}));},postR:function(dJ,dK,dL){try{dJ.FsRoot_Library2_WebSockets_IServer$Post(bo.replier(dK,bo.from(this.clientAddress,dL)));}catch(dM){this.serverO=null;throw dM;}},getServer:function(){return this.checkServer.PostAndAsyncReply(function(dJ){return[dJ,null];},null);},connectToWebSocketServer:function(){var dJ,dK;dJ=this;(function(dL){return dL("in connectToWebSocketServer");}(function(dL){cX.log(dL);}));dK=null;return cJ.Delay(function(){return cJ.Bind(((dJ.connectStateful(dJ.wsEndPoint))(dJ.clientId))(function(dL){var dM;dM=null;return cJ.Delay(function(){return cJ.Return([0,function(dN){return function(dO){var dP;dP=null;return cJ.Delay(function(){return cJ.Combine(cJ.TryWith(cJ.Delay(function(){return dO.$==2?((function(dQ){return function(dR){return dQ("WebSocket "+cE.toSafe(dR)+" connection open.");};}(function(dQ){cX.log(dQ);}))(dJ.clientId),dJ.serverO={$:1,$0:dL},cJ.Zero()):dO.$==3?((function(dQ){return function(dR){return dQ("WebSocket "+cE.toSafe(dR)+" connection closed.");};}(function(dQ){cX.log(dQ);}))(dJ.clientId),dJ.close(),cJ.Zero()):dO.$==1?((function(dQ){return function(dR){return dQ("WebSocket "+cE.toSafe(dR)+" connection error!");};}(function(dQ){cX.log(dQ);}))(dJ.clientId),cJ.Zero()):(dJ.processMessage(dO.$0),cJ.Zero());}),function(dQ){(((cD.Curried3(function(dR,dS,dT){return dR("msg: "+cy.p$8(dS)+" \nexn:"+cE.prettyPrint(dT));}))(function(dR){cX.log(dR);}))(dO))(dQ);return cJ.Zero();}),cJ.Delay(function(){return cJ.Return(dN);}));});};}]);});}),function(){(function(dL){return dL("connectToWebSocketServer with server");}(function(dL){cX.log(dL);}));return cJ.Zero();});});},processMessage:function(dJ){var dK,dL,dM,dN,dO,dR;dL=this;dM=dJ.msgType;function dP(dS){dL.reply(dS);}function dQ(dS){return cJ.Return(dS);}switch(dM.$==2?0:dM.$==0?1:dM.$==1?2:dM.$==5?3:dM.$==4?4:0){case 0:this.processReply(dJ);break;case 1:(((cD.Curried3(function(dS,dT,dU){return dS("Information from '"+cE.toSafe(dT)+"': "+cE.toSafe(dU));}))(function(dS){cX.log(dS);}))(dJ.from.get_txt()))(((de.Id())())(db.parse(dJ.payload)));break;case 2:dN=this.payloadProcessorO;dN!=null&&dN.$==1?cJ.Start(cJ.Bind(dL.mapPayloadWrap(dN.$0,dJ),(dO=function(dS){return dP(bo.makeReply(dS));},function(dS){return dQ(dO(dS));})),null):dJ.replier.$===2?null:null;break;case 3:dL.reply(bo.msgType(br.MsgInformation,bo.mapPayload(a.id,dJ)));break;case 4:dL.reply(bo.msgType(br.MsgInformation,(dR=bo.makeReply(dJ),bu.New(dR.from,dR.destination,dR.msgType,dR.subtype,dR.id,db.stringify(((de.Id())())(this.clientId)),dR.replier))));break;}},mapPayloadWrap:function(dJ,dK){var dL;dL=null;return cJ.Delay(function(){return cJ.Bind(dJ(dK.payload),function(dM){return cJ.Return(bo.mapPayload(function(){return dM;},dK));});});},processReply:function(dJ){this.waiting.Reply(dJ.id,dJ);},close:function(){var dJ,dK;dJ=this;dK=this.serverO;(h.iter(function(dL){dL.FsRoot_Library2_WebSockets_IServer$Close();dJ.serverO=null;}))(dK);},reply:function(dJ){var dK,dL;dK=this;dL=this.serverO;(h.iter(function(dM){dM.FsRoot_Library2_WebSockets_IServer$Post(bo.destination(dJ.from,bo.from(dK.clientAddress,dJ)));}))(dL);},set_Out:function(dJ){this.out=dJ;},SendMsg:function(dJ){return this.sendMsg(dJ);},get_ClientId:function(){return this.clientId;},get_EndPoint:function(){return this.wsEndPoint;},get_MBProcessId:function(){return this.getProcessId();},get_MBListeners:function(){return this.getListeners();},Dispose:function(){this.close();}},k,bA);bA.New=cD.Ctor(function(dJ,dK,dL){bA.New$1.call(this,cD.Curried3(function(dM,dN,dO){function dP(dR){}function dQ(dR){return cJ.Return(dR);}return cJ.Bind(di.ConnectStateful(function(dR){return db.stringify((cw.j())(dR));},function(dR){return(cx.j())(db.parse(dR));},dj.CreateRemote((((cD.Curried3(function(dR,dS,dT){return dR("ws://"+cE.toSafe(dS)+"?ClientId="+cE.toSafe(dT));}))(a.id))(dM))(dN),{$:1,$0:dg.JsonEncoding.Readable}),function(dR){var dS;return dO((dS={FsRoot_Library2_WebSockets_IServer$Post:function(dT){return dR.Post(dT);},FsRoot_Library2_WebSockets_IServer$Close:function(){return dR.get_Connection().close(1000);}},(k.New.call(dS),dS)));}),function(dR){return dQ(dP(dR));});}),dJ,dK,dL);},bA);bA.New$1=cD.Ctor(function(dJ,dK,dL,dM){var dN,dO;dN=this;k.New.call(this);this.connectStateful=dJ;this.clientId=dK;this.wsEndPoint=(dO=bo.extractEndPoint()+"/ws",dM==null?dO:dM.$0);this.clientAddress=new bp({$:0,$0:this.clientId});this.wsTimeout=dL==null?60000:dL.$0;this.out=function(dP){return function(dQ){return dP(cE.toSafe(dQ));};}(function(dP){cX.log(dP);});this.serverO=null;this.payloadProcessorO=null;this.waiting=new bz.New(function(dP){(((cD.Curried3(function(dQ,dR,dS){return dQ("Reply from '"+cE.toSafe(dR)+"': "+cE.toSafe(dS));}))(function(dQ){cX.log(dQ);}))(dP.from.get_txt()))(dP.payload);});this.checkServer=D.callA(function(dP){c.print$1(dP);},function(){var dP;dP=null;return cJ.Delay(function(){(function(dQ){return dQ("getServer");}(function(dQ){cX.log(dQ);}));return cJ.Combine(dN.serverO==null?(function(dQ){return dQ("getServer Connecting");}(function(dQ){cX.log(dQ);}),cJ.Bind(dN.connectToWebSocketServer(),function(){return cJ.Bind(cJ.Sleep(200),function(){return cJ.Return(null);});})):cJ.Zero(),cJ.Delay(function(){return cJ.Return(l.ofOption(function(){return new d({$:1,$0:"could not connect to Server"});},dN.serverO));}));});});},bA);bo.extractEndPoint=function(){return cH.get(cF.SplitChars(dk.href.substring(dk.href.indexOf("//")+2),["/"],0),0);};bo.makeReply=function(dJ){return bo.replier(bt.NoReply,bo.msgType(br.MsgReply,dJ));};bo.mapPayload=function(dJ,dK){return bu.New(dK.from,dK.destination,dK.msgType,dK.subtype,dK.id,dJ(dK.payload),dK.replier);};bo.msgId=function(dJ,dK){return bu.New(dK.from,dK.destination,dK.msgType,dK.subtype,dJ,dK.payload,dK.replier);};bo.replier=function(dJ,dK){return bu.New(dK.from,dK.destination,dK.msgType,dK.subtype,dK.id,dK.payload,dJ);};bo.subtype=function(dJ,dK){return bu.New(dK.from,dK.destination,dK.msgType,dJ,dK.id,dK.payload,dK.replier);};bo.msgType=function(dJ,dK){return bu.New(dK.from,dK.destination,dJ,dK.subtype,dK.id,dK.payload,dK.replier);};bo.destination=function(dJ,dK){return bu.New(dK.from,dJ,dK.msgType,dK.subtype,dK.id,dK.payload,dK.replier);};bo.from=function(dJ,dK){return bu.New(dJ,dK.destination,dK.msgType,dK.subtype,dK.id,dK.payload,dK.replier);};bo.MessageBrokerAddress=function(){cv.$cctor();return cv.MessageBrokerAddress;};bo.MessageBrokerId=function(){cv.$cctor();return cv.MessageBrokerId;};bB.MsgGetUrl={$:5};bB.MsgGetId={$:0};bE.New=function(dJ,dK){return{Code:dJ,Message:dK};};bF.New=function(dJ,dK,dL){return{File:dJ,Line:dK,Column:dL};};bG.New=function(dJ,dK,dL,dM){return{Name:dJ,ReplacementText:dK,Glyph:dL,GlyphChar:dM};};bH.New=function(dJ,dK,dL){return{Signature:dJ,Comment:dK,Footer:dL};};bI.New=function(dJ,dK,dL,dM){return{Name:dJ,CanonicalTypeTextForSorting:dK,Display:dL,Description:dM};};bJ.New=function(dJ,dK,dL,dM){return{Tip:dJ,TypeText:dK,Parameters:dL,IsStaticArguments:dM};};bK.New=function(dJ,dK){return{Name:dJ,Type:dK};};bL.New=function(dJ,dK){return{OutputType:dJ,Parameters:dK};};bM.New=function(dJ,dK,dL){return{Name:dJ,CurrentParameter:dK,Overloads:dL};};bN.New=function(dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT){return{FileName:dJ,StartLine:dK,StartColumn:dL,EndLine:dM,EndColumn:dN,IsFromDefinition:dO,IsFromAttribute:dP,IsFromComputationExpression:dQ,IsFromDispatchSlotImplementation:dR,IsFromPattern:dS,IsFromType:dT};};bO.New=function(dJ,dK){return{Name:dJ,Uses:dK};};bP.New=function(dJ,dK){return{Name:dJ,Overloads:dK};};bQ.New=function(dJ,dK,dL){return{Fsc:dJ,Fsi:dK,MSBuild:dL};};bR.New=function(dJ,dK,dL,dM,dN,dO,dP,dQ){return{FileName:dJ,StartLine:dK,EndLine:dL,StartColumn:dM,EndColumn:dN,Severity:dO,Message:dP,Subcategory:dQ};};bS.New=function(dJ,dK){return{File:dJ,Errors:dK};};bT.New=function(dJ){return{Kind:dJ};};bU.New=function(dJ,dK,dL,dM,dN,dO,dP,dQ){return{UniqueName:dJ,Name:dK,Glyph:dL,GlyphChar:dM,IsTopLevel:dN,File:dO,EnclosingEntity:dP,IsAbstract:dQ};};bV.New=function(dJ,dK){return{Declaration:dJ,Nested:dK};};bW.New=function(dJ,dK,dL,dM,dN,dO){return{Namespace:dJ,Name:dK,Type:dL,Line:dM,Column:dN,MultipleNames:dO};};bX.New=function(dJ,dK){return{Name:dJ,Qualifier:dK};};bY.New=function(dJ,dK,dL){return{Opens:dJ,Qualifies:dK,Word:dL};};bZ.New=function(dJ){return{Text:dJ};};b1.New=function(dJ,dK,dL,dM){return{FileName:dJ,IsAsync:dK,Lines:dL,Version:dM};};b2.New=function(dJ,dK,dL){return{FileName:dJ,Lines:dK,Version:dL};};b3.New=function(dJ,dK,dL,dM,dN,dO){return{FileName:dJ,SourceLine:dK,Line:dL,Column:dM,Filter:dN,IncludeKeywords:dO};};b4.New=function(dJ,dK,dL,dM){return{FileName:dJ,Line:dK,Column:dL,Filter:dM};};b5.New=function(dJ){return{FileName:dJ};};b6.New=function(dJ){return{FileName:dJ};};b7.New=function(dJ){return{Symbol:dJ};};b8.New=function(dJ,dK,dL){return{Directory:dJ,Deep:dK,ExcludedDirs:dL};};b9.symbolUseProject=function(dJ,dK,dL,dM){return b9.FSAutocompleteCall("symboluseproject",function(dN){return dN.$==4?{$:1,$0:dN.$0}:null;},{$:3,$0:b4.New(dJ,dK,dL,dM)});};b9.symbolUse=function(dJ,dK,dL,dM){return b9.FSAutocompleteCall("symboluse",function(dN){return dN.$==4?{$:1,$0:dN.$0}:null;},{$:3,$0:b4.New(dJ,dK,dL,dM)});};b9.helpText=function(dJ){return b9.FSAutocompleteCall("helptext",function(dK){return dK.$==2?{$:1,$0:dK.$0}:null;},{$:6,$0:b7.New(dJ)});};b9.declarations=function(dJ,dK,dL){return b9.FSAutocompleteCall("declarations",function(dM){return dM.$==10?{$:1,$0:dM.$0}:null;},{$:1,$0:b2.New(dJ,dK,dL)});};b9.findDeclaration=function(dJ,dK,dL,dM){return b9.FSAutocompleteCall("finddeclaration",function(dN){return dN.$==9?{$:1,$0:dN.$0}:null;},{$:3,$0:b4.New(dJ,dK,dL,dM)});};b9.findTypeDecl=function(dJ,dK,dL,dM){return b9.FSAutocompleteCall("findtypedeclaration",function(dN){return dN.$==9?{$:1,$0:dN.$0}:null;},{$:3,$0:b4.New(dJ,dK,dL,dM)});};b9.completion=function(dJ,dK,dL,dM,dN,dO){return b9.FSAutocompleteCall("completion",function(dP){return dP.$==3?{$:1,$0:dP.$0}:null;},{$:2,$0:b3.New(dL,dJ,dM,dN,dO,dK)});};b9.signatureData=function(dJ,dK,dL,dM){return b9.FSAutocompleteCall("signatureData",function(dN){return dN.$==13?{$:1,$0:dN.$0}:null;},{$:3,$0:b4.New(dJ,dK,dL,dM)});};b9.signature=function(dJ,dK,dL,dM){return b9.FSAutocompleteCall("signature",function(dN){return dN.$==12?{$:1,$0:dN.$0}:null;},{$:3,$0:b4.New(dJ,dK,dL,dM)});};b9.toolTip=function(dJ,dK,dL,dM){return b9.FSAutocompleteCall("tooltip",function(dN){return dN.$==11?{$:1,$0:dN.$0}:null;},{$:3,$0:b4.New(dJ,dK,dL,dM)});};b9.parseCode=function(dJ,dK,dL,dM){return b9.FSAutocompleteCall("parse",function(dN){return dN.$==7?{$:1,$0:dN.$0}:null;},{$:0,$0:b1.New(dJ,dL,dK,dM)});};b9.FSAutocompleteCall=function(dJ,dK,dL){var dM;dM=f.asyncResult();return dM.Run(dM.Delay(function(){return dM.Bind$1((new dm.New()).Async("FSharpStation:FsRoot.Library2+FsAutoComplete.FSAutocompleteCall0:-1842881046",[dJ,dL]),function(dN){var dO,dP;function dQ(dR){return dR!=null;}dO=cH.partition(function(dR){return dQ(dK(dR));},dN);dP=dO[1];return dM.Bind(l.ofOption(function(){return new d({$:4,$0:dP});},cG.tryHead(cG.choose(dK,dO[0]))),function(dR){return dM.Return([dR,dP]);});});}));};b$.appendMsgs=function(dJ){b$.appendText(b$.outputMsgs(),dJ);};b$.appendText=function(dJ,dK){var dL;dJ.Set((dL=dJ.Get(),dL===""?dK:dK===""?dL:dL+"\n"+dK));};b$.outputMsgs=function(){cv.$cctor();return cv.outputMsgs;};b$.annotationsV=function(){cv.$cctor();return cv.annotationsV;};b$.srcDir=function(){cv.$cctor();return cv.srcDir;};b$.set_srcDir=function(dJ){cv.$cctor();cv.srcDir=dJ;};b$.rootDir=function(){cv.$cctor();return cv.rootDir;};b$.set_rootDir=function(dJ){cv.$cctor();cv.rootDir=dJ;};b$.id=function(){cv.$cctor();return cv.id;};ca.setProperty=function(dJ,dK,dL){function dM(dO){return dO[0];}function dN(dO){return dK!==dO;}ca.setSnippet(Q.New(dJ.snpId,dJ.snpName,dJ.snpContent,dJ.snpParentIdO,dJ.snpPredIds,cH.ofSeq(cG.append(cG.filter(function(dO){return dN(dM(dO));},dJ.snpProperties),cI.ofArray([[dK,dL]]))),dJ.snpGeneration));};ca.expandParents=function(dJ){ca.iterReader(p.op_BarGreaterGreater(S.pathRm(dJ),function(dK){var dL;dL=cU.op_Subtraction(ca.collapsedV().Get(),new cU.New(dK));ca.collapsedV().Set(dL);}));};ca.toggleCollapse=function(dJ){var dK;dK=((ca.collapsedV().Get().Contains(dJ)?function(dL){return function(dM){return dM.Remove(dL);};}:function(dL){return function(dM){return dM.Add(dL);};})(dJ))(ca.collapsedV().Get());ca.collapsedV().Set(dK);};ca.newSnippet=function(dJ){var dK;dK=S.New("","",null);ca.iterReader(p.op_BarGreaterGreater(ca.addSnippetRm(dK),function(){ca.currentSnippetIdOV().Set({$:1,$0:dK.snpId});}));};ca.addSnippetRm=function(dJ){var dK,dL,dM;ca.snippets().Append(dJ);dK=(dL=ca.hierarchy().Get(),cG.append([ca.treenode(dJ.snpId)],dL));return p.op_BarGreaterGreater(p.op_BarGreaterGreater(p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(o.insertO((dM=ca.currentSnippetIdOV().Get(),dM==null?null:{$:1,$0:S.snippetORm(dM.$0)})),function(dN){return dN==null?null:a.id(dN.$0);}),function(dN){return dN!=null&&dN.$==1?U.moveToSibling2(true,dJ.snpId,dN.$0.snpId,dK):p.rtn(dK);}),cH.ofSeq),function(dN){ca.hierarchy().Set(dN);});};ca.setSnippetsGen=function(dJ,dK){function dL(dM){return ca.treenode(dM.snpId);}ca.collapsedV().Set(dK);ca.snippets().Set(dJ);ca.updateGeneration();ca.iterReader(p.op_BarGreaterGreater(p.op_BarGreaterGreater(p.op_BarGreaterGreater(p.op_BarGreaterGreater(o.sequenceSeq(cG.map(function(dM){return p.op_BarGreaterGreater(S.parentORm(dM),function(dN){return dN==null?{$:1,$0:dM}:null;});},dJ)),function(dM){return cG.choose(a.id,dM);}),function(dM){return cG.map(dL,dM);}),cH.ofSeq),function(dM){ca.hierarchy().Set(dM);}));};ca.updateGeneration=function(){var dJ;ca.iterReader((dJ=o.fusion(),dJ.Run(dJ.Delay(function(){return dJ.Bind(S.maxGenerationRm(),function(dK){ca.generation().Set(dK);return dJ.Zero();});}))));};ca.moveNode=function(dJ,dK){ca.iterReader(p.op_BarGreaterGreater(p.op_BarGreaterGreater(U.moveToSibling2(false,dJ,dK,ca.hierarchy().Get()),cH.ofSeq),function(dL){ca.hierarchy().Set(dL);}));};ca.indentOut=function(dJ){var dK;dK=ca.currentSnippetIdOV().Get();(h.iter(function(dL){var dM;ca.iterReader(p.op_BarGreaterGreater(p.op_BarGreaterGreater((dM=ca.hierarchy().Get(),U.outdentNode(ca.treenode(dL),dM)),cH.ofSeq),function(dN){ca.hierarchy().Set(dN);}));}))(dK);};ca.indentIn=function(dJ){var dK;dK=ca.currentSnippetIdOV().Get();(h.iter(function(dL){var dM;ca.iterReader(p.op_BarGreaterGreater(p.op_BarGreaterGreater((dM=ca.hierarchy().Get(),U.indentNode(ca.treenode(dL),dM)),cH.ofSeq),function(dN){ca.hierarchy().Set(dN);}));}))(dK);};ca.deleteCurrentSnippet=function(dJ){var dK;dK=ca.currentSnippetIdOV().Get();(h.iter(function(dL){var dM;ca.iterReader(p.op_BarGreaterGreater(p.op_BarGreaterGreater(p.op_BarGreaterGreater((dM=ca.hierarchy().Get(),U.removeNodeOutdentChildren(ca.treenode(dL),dM)),cH.ofSeq),function(dN){ca.hierarchy().Set(dN);}),function(){ca.snippets().RemoveByKey(dL);}));}))(dK);};ca.expandClassW=function(dJ){var dK;dK=ca.snippets().v;return cZ.Map2(function(){return ca.runReader(ca.handleError,ca.expandClassRm(dJ));},ca.collapsedV().get_View(),dK);};ca.expandClassRm=function(dJ){return p.op_GreaterGreaterEquals(S.childrenRm(dJ),function(dK){return cG.isEmpty(dK)?p.rtn(""):p.op_BarGreaterGreater(ca.treenode(dJ).isExpandedRm(),function(dL){return dL?"expanded":"collapsed";});});};ca.togglePredecessor=function(dJ){var dK,dL;dK=c0.Lens(ca.currentSnippetV(),function(dM){return dM.snpPredIds;},function(dM,dN){return Q.New(dM.snpId,dM.snpName,dM.snpContent,dM.snpParentIdO,dN,dM.snpProperties,dM.snpGeneration);});dK.Set((dL=dK.Get(),((dK.Get().Contains(dJ)?function(dM){return function(dN){return dN.Remove(dM);};}:function(dM){return function(dN){return dN.Add(dM);};})(dJ))(dL)));ca.clearPredsCache();};ca.isIncludedPredecessorW=function(dJ){return cZ.Map(function(dK){return ca.runReader(function(){return false;},p.op_BarGreaterGreater(S.uniquePredsRm(dK),function(dL){return cG.contains(dJ,dL);}));},ca.codeSnippetW());};ca.isIndirectPredecessorW=function(dJ){return cZ.Map(function(dK){return ca.runReader(function(){return false;},p.op_BarGreaterGreater(S.uniquePredsRm(dK),function(dL){return cG.contains(dJ,dL);}));},ca.currentSnippetW());};ca.treenode=function(dJ){return V.New(function(){return dJ;},function(){return p.rtn(!ca.collapsedV().Get().Contains(dJ));},function(){return p.rtn(true);},function(){function dK(dL){return ca.treenode(dL.snpId);}return p.op_BarGreaterGreater(S.childrenRm(dJ),function(dL){return cG.map(dK,dL);});},function(){return S.pathRm(dJ);},function(){function dK(dL){return dL.snpParentIdO;}return p.op_BarGreaterGreater(p.op_BarGreaterGreater(S.snippetORm(dJ),function(dL){return dL==null?null:dK(dL.$0);}),function(dL){return dL==null?null:{$:1,$0:ca.treenode(dL.$0)};});},function(dK){return p.op_BarGreaterGreater(ca.setChildrenRm(dJ,dK),function(){return ca.treenode(dJ);});});};ca.setChildrenRm=function(dJ,dK){var dL;dL=o.fusion();return dL.Run(dL.Delay(function(){var dM,dN,dO,dP,dQ,dR;dM=cH.map(function(dS){return dS.id();},dK);cG.iter(function(dS){ca.setSnippet(dS);},cG.map(function(dS){return Q.New(dS.snpId,dS.snpName,dS.snpContent,{$:1,$0:dJ},dS.snpPredIds,dS.snpProperties,dS.snpGeneration);},cG.filter(function(dS){return!cN.Equals(dS.snpParentIdO,{$:1,$0:dJ})&&cH.contains(dS.snpId,dM);},ca.snippets())));cG.iter(function(dS){ca.setSnippet(dS);},cG.map(function(dS){return Q.New(dS.snpId,dS.snpName,dS.snpContent,null,dS.snpPredIds,dS.snpProperties,dS.snpGeneration);},cG.filter(function(dS){return cN.Equals(dS.snpParentIdO,{$:1,$0:dJ})&&!cH.contains(dS.snpId,dM);},ca.snippets())));ca.clearPredsCache();dN=cH.partition(function(dS){return ca.isDescendantOf(dJ,dS.snpId);},cH.ofSeq((ca.snippets())["var"].Get()));dO=dN[1];dP=dN[0];dQ=cH.findIndex(function(dS){return cN.Equals(dS.snpId,dJ);},dO);dR=cH.ofSeq(cG.delay(function(){return cG.append(cO.array(dO,{$:1,$0:0},{$:1,$0:dQ}),cG.delay(function(){return cG.append(cG.collect(function(dS){return cG.append([cG.find(function(dT){return cN.Equals(dT.snpId,dS);},dP)],cG.delay(function(){return cG.filter(function(dT){return ca.isDescendantOf(dS,dT.snpId);},dP);}));},dM),cG.delay(function(){return cO.array(dO,{$:1,$0:dQ+1},null);}));}));}));ca.snippets().Set(dR);return dL.Zero();}));};ca.currentLayoutJSDW=function(){cv.$cctor();return cv.currentLayoutJSDW;};ca.currentLayoutDW=function(){cv.$cctor();return cv.currentLayoutDW;};ca.currentPathW=function(){cv.$cctor();return cv.currentPathW;};ca.SaveAsClassW=function(){cv.$cctor();return cv.SaveAsClassW;};ca.hasChangedW=function(dJ){return cZ.Map(function(dK){return dK<dJ.snpGeneration;},ca.generation().get_View());};ca.codeStartsW=function(){cv.$cctor();return cv.codeStartsW;};ca.FsCodeW=function(){cv.$cctor();return cv.FsCodeW;};ca.codeAndStartsW=function(){cv.$cctor();return cv.codeAndStartsW;};ca.getHierarchyW=function(){cv.$cctor();return cv.getHierarchyW;};ca.findSnippetV=function(dJ){return new dn.New(ca.findSnippetW(dJ),function(dK){ca.setSnippet(dK);});};ca.findSnippetW=function(dJ){return cZ.Map(function(dK){var dL;dL=S.defaultSnippet();return dK==null?dL:dK.$0;},ca.snippets().TryFindByKeyAsView(dJ));};ca.codeSnippetClassW=function(dJ){return cZ.Map(function(dK){return cN.Equals({$:1,$0:dJ},dK)?"codeSnippet":"";},ca.codeSnippetIdOV().get_View());};ca.selectedClassW=function(dJ){return cZ.Map(function(dK){return cN.Equals({$:1,$0:dJ},dK)?"selected":"";},ca.currentSnippetIdOV().get_View());};ca.currentSnippetV=function(){cv.$cctor();return cv.currentSnippetV;};ca.codeSnippetW=function(){cv.$cctor();return cv.codeSnippetW;};ca.currentSnippetW=function(){cv.$cctor();return cv.currentSnippetW;};ca.CurrentSnippetIdW=function(){cv.$cctor();return cv.CurrentSnippetIdW;};ca.isDescendantOf=function(dJ,dK){var dL,dM,dN;return cN.Equals(dK,dJ)?false:(dL=(dM=(ca.getParentIdO())(dK),dM==null?null:{$:1,$0:(dN=dM.$0,cN.Equals(dN,dJ)||ca.isDescendantOf(dJ,dN))}),dL==null?false:dL.$0);};ca.getParentIdO=function(){cv.$cctor();return cv.getParentIdO;};ca.getParentIdONotMemo=function(dJ){var dK;dK=ca.snippets().TryFindByKey(dJ);return dK==null?null:dK.$0.snpParentIdO;};ca.getSnippetsGen=function(){return[(ca.snippets())["var"].Get(),ca.generation().Get(),ca.collapsedV().Get()];};ca.setSnippet=function(dJ){if(!cN.Equals(dJ.snpId.get_Id(),"00000000-0000-0000-0000-000000000000"))ca.snippets().Append(Q.New(dJ.snpId,dJ.snpName,dJ.snpContent,dJ.snpParentIdO,dJ.snpPredIds,dJ.snpProperties,ca.runReader(function(dK){c.print$1(dK);return 999;},S.maxGenerationRm())+1));};ca.setCurrentSnippetIdO=function(dJ){ca.currentSnippetIdOV().Set(dJ);};ca.runReader=function(dJ,dK){return l.defaultWith(dJ,ca.runReaderResult(dK));};ca.runReaderResult=function(dJ){return cL.Map(function(dK){return dK[0];},o.runReader(ca.snippetsColl(),dJ));};ca.iterReader=function(dJ){o.iterReader(function(dK){ca.handleError(dK);},a.ignore,ca.snippetsColl(),dJ);};ca.handleError=function(dJ){throw new a.Error(a.String(dJ));};ca.snippetsColl=function(){return R.New(ca.generation().Get(),cG.delay(function(){return(ca.snippets())["var"].Get();}),function(dJ){return ca.snippets().TryFindByKey(dJ);},ca.predsCache,ca.reducCache,ca.prepCode);};ca.prepCode=function(dJ){return cF.Replace(cF.Replace(dJ.snpContent,"##"+"FSHARPSTATION_ID"+"##",b$.id()),"##"+"FSHARPSTATION_ENDPOINT"+"##",self.location.href);};ca.clearPredsCache=function(){(ca.clearPreds())();(ca.clearReduc())();(ca.clearParent())();};ca.clearParent=function(){cv.$cctor();return cv.clearParent;};ca.parentCache=function(){cv.$cctor();return cv.parentCache;};ca.clearReduc=function(){cv.$cctor();return cv.clearReduc;};ca.reducCache=function(){cv.$cctor();return cv.reducCache;};ca.clearPreds=function(){cv.$cctor();return cv.clearPreds;};ca.predsCache=function(){cv.$cctor();return cv.predsCache;};ca.collapsedV=function(){cv.$cctor();return cv.collapsedV;};ca.codeSnippetIdOV=function(){cv.$cctor();return cv.codeSnippetIdOV;};ca.currentSnippetIdOV=function(){cv.$cctor();return cv.currentSnippetIdOV;};ca.generation=function(){cv.$cctor();return cv.generation;};ca.hierarchy=function(){cv.$cctor();return cv.hierarchy;};ca.snippets=function(){cv.$cctor();return cv.snippets;};cc.DragNone={$:0};cb.getDragNIdO=function(dJ){var dK;return cb.drag().$==1&&(!cN.Equals(cb.drag().$0,dJ)&&(dK=cb.drag().$0,true))?{$:1,$0:dK}:null;};cb.setDragNode=function(dJ){cb.set_drag({$:1,$0:dJ});};cb.setDragNone=function(){cb.set_drag(cc.DragNone);};cb.drag=function(){cv.$cctor();return cv.drag;};cb.set_drag=function(dJ){cv.$cctor();cv.drag=dJ;};cd.TemplatesFileName=function(){cv.$cctor();return cv.TemplatesFileName;};cd.rootdir=function(){cv.$cctor();return cv.rootdir;};ce.render=function(){var dJ,dK,dL,dM;return(dJ=(dK=ce.snippets(),dr.Make().WithHole({$:0,$0:"snippets",$1:dK})),(dL=ds.CompleteHoles(dJ.k,dJ.h,[]),(dM=new dt.New(dL[1],cA.snippetlist(dL[0])),(dJ.i=dM,dM)))).get_Doc();};ce.snippets$4373$40=function(dJ){return function(dK){var dL;dK.Event.preventDefault();dL=cb.getDragNIdO(dJ);(h.iter(function(dM){ca.moveNode(dM,dJ);}))(dL);};};ce.snippets$4372$40=function(dJ){return function(dK){if(cb.getDragNIdO(dJ)!=null)dK.Event.preventDefault();};};ce.snippets$4371$40=function(dJ){return function(dK){cb.setDragNode(dJ);dK.Event.stopPropagation();};};ce.snippets$4370$40=function(dJ){return function(){ca.toggleCollapse(dJ);};};ce.snippets$4369$40=function(dJ){return function(){ca.togglePredecessor(dJ);};};ce.snippets$4368$40=function(dJ){var dK;dK=cZ.Map(function(dL){return""!==dL;},ca.selectedClassW(dJ));return function(dL){return ce.scrollIntoView(dK,dL);};};ce.snippets$4367$40=function(dJ){return function(){ca.setCurrentSnippetIdO({$:1,$0:dJ});};};ce.snippets=function(){function dJ(dK,dL){var dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1,d2,d3,d4,d5;function d6(d7){return d7?"ErrorMsg":"";}dM=(dN=cZ.get_Do(),cZ.Bind(function(d7){return cZ.Bind(function(d8){return cZ.Const((d8?"*":"")+S.snippetName(d7.snpName,d7.snpContent));},ca.hasChangedW(d7));},ca.findSnippetW(dK)));dO=cZ.Apply(cZ.Map2(function(d7,d8){return function(d9){return d7.snpPredIds.Contains(dK)?"direct-predecessor":d8?"indirect-predecessor":d9?"included-predecessor":"";};},ca.currentSnippetV().get_View(),ca.isIndirectPredecessorW(dK)),ca.isIncludedPredecessorW(dK));dP=(dQ=b$.annotationsV().get_View(),cZ.Map((dR=(dS=(dT=dK.get_Id(),a.String(dT)),function(d7){return A.contains$1(dS,d7);}),function(d7){return d6(dR(d7));}),dQ));return(dU=(dV=(dW=(dX=(dY=(dZ=(d0=(d1=cZ.Map(function(d7){return""!==d7;},ca.selectedClassW(dK)),function(d7){return ce.scrollIntoView(d1,d7);}),(d2=(d3=ca.expandClassW(dK),dr.Make().WithHole({$:2,$0:"name",$1:dM}).WithHole({$:1,$0:"indent",$1:a.String(dL)}).WithHole({$:2,$0:"parent",$1:d3})).WithHole({$:2,$0:"predecessor",$1:dO}).WithHole({$:2,$0:"selected",$1:cZ.Map2(function(d7,d8){return cF.concat(" ",cI.ofArray([d7,d8]));},ca.selectedClassW(dK),ca.codeSnippetClassW(dK))}).WithHole({$:2,$0:"errormsg",$1:dP}),d2.WithHole(ds.EventQ2(d2.k,"select",function(){return d2.i;},function(){ca.setCurrentSnippetIdO({$:1,$0:dK});}))).WithHole({$:7,$0:"afterrender",$1:d0})),dZ.WithHole(ds.EventQ2(dZ.k,"togglepred",function(){return dZ.i;},function(){ca.togglePredecessor(dK);}))),dY.WithHole(ds.EventQ2(dY.k,"togglecollapse",function(){return dY.i;},function(){ca.toggleCollapse(dK);}))),dX.WithHole(ds.EventQ2(dX.k,"drag",function(){return dX.i;},function(d7){cb.setDragNode(dK);d7.Event.stopPropagation();}))),dW.WithHole(ds.EventQ2(dW.k,"dragover",function(){return dW.i;},function(d7){if(cb.getDragNIdO(dK)!=null)d7.Event.preventDefault();}))),dV.WithHole(ds.EventQ2(dV.k,"drop",function(){return dV.i;},function(d7){var d8;d7.Event.preventDefault();d8=cb.getDragNIdO(dK);(h.iter(function(d9){ca.moveNode(d9,dK);}))(d8);}))),(d4=ds.CompleteHoles(dU.k,dU.h,[]),(d5=new dt.New(d4[1],cA.snippet(d4[0])),(dU.i=d5,d5)))).get_Doc();}return c4.Convert(function(dK){return dJ(dK[0],dK[1]);},ca.getHierarchyW());};ce.scrollIntoView=function(dJ,dK){cZ.Sink(function(dL){if(dL)dK.scrollIntoViewIfNeeded();},dJ);};cf.render$4412$34=function(){return function(){cf.addProperty();};};cf.render=function(){var dJ,dK,dL,dM,dN;return(dJ=(dK=(dL=cf.properties(),dr.Make().WithHole({$:0,$0:"properties",$1:dL})),dK.WithHole(ds.EventQ2(dK.k,"addproperty",function(){return dK.i;},function(){cf.addProperty();}))),(dM=ds.CompleteHoles(dJ.k,dJ.h,[]),(dN=new dt.New(dM[1],cA.propertytable(dM[0])),(dJ.i=dN,dN)))).get_Doc();};cf.properties$4405$33=function(dJ){return function(){cf.remProperty(dJ);};};cf.properties=function(){var dJ;function dK(dM,dN){cH.set(dJ.Get(),dM,[dN,(cH.get(dJ.Get(),dM))[1]]);return dJ.Set(dJ.Get());}function dL(dM,dN){return(cH.get(dJ.Get(),dM))[1].length>1000?null:(cH.set(dJ.Get(),dM,[(cH.get(dJ.Get(),dM))[0],dN]),dJ.Set(dJ.Get()));}dJ=c0.Lens(ca.currentSnippetV(),function(dM){return dM.snpProperties;},function(dM,dN){return Q.New(dM.snpId,dM.snpName,dM.snpContent,dM.snpParentIdO,dM.snpPredIds,dN,dM.snpGeneration);});return c4.Convert(function(dM){var dN,dO,dP,dQ,dR,dS;dN=new dn.New(cZ.Map(function(dT){return(cH.get(dT,dM))[0];},dJ.get_View()),function(dT){return dK(dM,dT);});dO=new dn.New(cZ.Map(function(dT){var dU;dU=(cH.get(dT,dM))[1];return dU.length>1000?(((cD.Curried3(function(dV,dW,dX){return dV(cE.toSafe(dW)+"...<"+a.String(dX)+" chars>");}))(a.id))(cO.string(dU,{$:1,$0:0},{$:1,$0:100})))(dU.length):dU;},dJ.get_View()),function(dT){return dL(dM,dT);});return(dP=(dQ=dr.Make().WithHole({$:8,$0:"name",$1:dN}).WithHole({$:8,$0:"value",$1:dO}),dQ.WithHole(ds.EventQ2(dQ.k,"remove",function(){return dQ.i;},function(){cf.remProperty(dM);}))),(dR=ds.CompleteHoles(dP.k,dP.h,[["name",0],["value",0]]),(dS=new dt.New(dR[1],cA.property(dR[0])),(dP.i=dS,dS)))).get_Doc();},cZ.Map(function(dM){return cH.ofSeq(cM.range(0,cH.length(dM)-1));},dJ.get_View()));};cf.remProperty=function(dJ){var dK;ca.currentSnippetV().Set((dK=ca.currentSnippetV().Get(),Q.New(dK.snpId,dK.snpName,dK.snpContent,dK.snpParentIdO,dK.snpPredIds,cO.array(ca.currentSnippetV().Get().snpProperties,{$:1,$0:0},{$:1,$0:dJ-1}).concat(cO.array(ca.currentSnippetV().Get().snpProperties,{$:1,$0:dJ+1},null)),dK.snpGeneration)));};cf.addProperty=function(){var dJ;ca.currentSnippetV().Set((dJ=ca.currentSnippetV().Get(),Q.New(dJ.snpId,dJ.snpName,dJ.snpContent,dJ.snpParentIdO,dJ.snpPredIds,ca.currentSnippetV().Get().snpProperties.concat([["",""]]),dJ.snpGeneration)));};ch=cg.HoverProvider=cD.Class({provideHover:function(dJ,dK,dL){var dM;return X.ofAsyncResult((dM=f.asyncResult(),dM.Run(dM.Delay(function(){var dN;dN=cg.getIndentAndFirst();return dM.Bind$1(b9.toolTip(cg.fileName(),dK.lineNumber+dN[1],dK.column+dN[0],""),function(dO){return z["AsyncResultBuilder.Bind"](dM,cg.overDescriptions(dO[0]),function(dP){return dM.Return(bj.New(cH.ofSeq(cG.map(function(dQ){return bg.New((c.print$1(dQ),dQ),true);},dP)),null));});});}))));}},k,ch);ch.New=cD.Ctor(function(dJ){k.New.call(this);},ch);ci=cg.CompletionItemProvider=cD.Class({resolveCompletionItem:function(dJ,dK){var dL;function dM(dO){return dO.$==1?cM.FailWith((function(dP){return function(dQ){return dP(cy.p$9(dQ));};}(a.id))(dO.$0)):dO.$0;}function dN(dO){return cJ.Return(dO);}return dv.OfAsync(cJ.Bind((dL=f.asyncResult(),dL.Run(dL.Delay(function(){return dL.Bind$1(b9.helpText(dJ.label),function(dO){return dL.Return(bi.New(dJ.kind,dJ.label,cF.concat("\n",cG.collect(function(dP){return cI.ofSeq(cG.delay(function(){return cG.append(!(!dP.Signature)?[dP.Signature]:[],cG.delay(function(){return cG.append(!(!dP.Comment)?[dP.Comment]:[],cG.delay(function(){return!(!dP.Footer)?[dP.Footer]:[];}));}));}));},cG.collect(a.id,dO[0].Overloads)))));});}))),function(dO){return dN(dM(dO));}));},provideCompletionItems:function(dJ,dK,dL,dM){var dN;function dO(dQ){return dQ.$==1?cM.FailWith((function(dR){return function(dS){return dR(cy.p$9(dS));};}(a.id))(dQ.$0)):dQ.$0;}function dP(dQ){return cJ.Return(dQ);}return dv.OfAsync(cJ.Bind((dN=f.asyncResult(),dN.Run(dN.Delay(function(){var dQ,dR;dQ=cg.getIndentAndFirst();dR=dQ[0];return dN.Bind$1(b9.completion(cF.replicate(dR," ")+dJ.getLineContent(dK.lineNumber),true,cg.fileName(),dK.lineNumber+dQ[1],dK.column+dR,"Contains"),function(dS){return dN.Return(cH.map(function(dT){return bi.New(cg.convertGlyphChar(dT.GlyphChar),dT.Name,"");},dS[0]));});}))),function(dQ){return dP(dO(dQ));}));}},k,ci);ci.New=cD.Ctor(function(dJ){k.New.call(this);},ci);cj=cg.DefinitionProvider=cD.Class({provideDefinition:function(dJ,dK,dL){var dM;function dN(dP){return dP.$==1?cM.FailWith((function(dQ){return function(dR){return dQ(cy.p$9(dR));};}(a.id))(dP.$0)):dP.$0;}function dO(dP){return cJ.Return(dP);}return dv.OfAsync(cJ.Bind((dM=f.asyncResult(),dM.Run(dM.Delay(function(){var dP;dP=cg.getIndentAndFirst();return dM.Bind$1(b9.findDeclaration(cg.fileName(),dK.lineNumber+dP[1],dK.column+dP[0],""),function(dQ){var dR,dS,dT,dU,dV,dW,dX,dY;dR=dQ[0];dS=cg.getSnipIdIndentAndFirst(dR.Line);dT=dS[0];dU=dS[1];dV=dS[2];dW=(dX="snpId:"+(dY=dT.get_Id(),a.String(dY)),self.monaco.Uri.parse(dX));cg.getSnippetModel(dT);return dM.Return(bc.New(ba.New(dR.Column-dU,dR.Column-dU,dR.Line-dV,dR.Line-dV),dW));});}))),function(dP){return dO(dN(dP));}));}},k,cj);cj.New=cD.Ctor(function(dJ){k.New.call(this);},cj);ck.New=function(dJ,dK){return{fontSize:dJ,lineHeight:dK};};cl.New=function(dJ,dK){return{setEditor:dJ,createModelReference:dK};};cg["goto"]=function(dJ,dK,dL){var dM;dM=null;return cJ.Delay(function(){var dN,dO;dN=(dO=cg.editorConfigO(),dO==null?null:dO.$0.editorO);return dN!=null&&dN.$==1?cJ.Bind(cg.gotoEditor(dN.$0,dJ,dK,dL),function(){return cJ.Return(null);}):cJ.Zero();});};cg.getEditorConfigO=function(){var dJ;dJ={$:1,$0:cg.monacoNew(c0.Lens(ca.currentSnippetV(),function(dK){return dK.snpContent;},function(dK,dL){return Q.New(dK.snpId,dK.snpName,dL,dK.snpParentIdO,dK.snpPredIds,dK.snpProperties,dK.snpGeneration);}),{$:1,$0:cZ.Map2(cg.transformAnnotations,ca.currentSnippetW(),b$.annotationsV().get_View())},null,null)};cg.set_editorConfigO(dJ);return dJ;};cg.editorConfigO=function(){cv.$cctor();return cv.editorConfigO;};cg.set_editorConfigO=function(dJ){cv.$cctor();cv.editorConfigO=dJ;};cg.parse=function(dJ,dK){var dL;w.iterA(function(dM){c.print$1(dM);},function(){c.print$1();},(dL=f.asyncResult(),dL.Run(dL.Delay(function(){var dM,dN;dM="Parsing...\n"+A.skipFirstLine$1(b$.annotationsV().Get());b$.annotationsV().Set(dM);cg.startsV().Set(dK);dN=A.splitByChar$1("\n",dJ);cg.set_fileName(N.getSourceDir(b$.srcDir(),dN)+"/"+b$.id()+".fsx");return dL.Bind$1(b9.parseCode(cg.fileName(),dN,true,0),function(dO){var dP;dP=cF.concat("\n",cG.append(cI.ofArray(["Parsed!"]),cG.map(function(dQ){var dR,dS,dT,dU,dV;function dW(dX,dY){return dQ.StartLine>dY[1]&&dQ.StartLine<=dY[2];}dR=(dS=cG.tryFind(function(dX){return dW(dX[0],dX[1]);},dK),(cg.defaultStart())(dS));dT=dR[1][0];dU=dR[1][1];return((((((((((cD.Curried(function(dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6){return dX(cE.toSafe(dY)+" ("+a.String(dZ)+", "+a.String(d0)+") - ("+a.String(d1)+", "+a.String(d2)+") "+cE.toSafe(d3)+"("+cE.toSafe(d4)+") \""+cE.toSafe(d5)+": "+cE.toSafe(d6)+"\".");},10))(a.id))(dQ.Severity==="Error"?"Err":"Warn"))(dQ.StartLine-dU))(dQ.StartColumn-dT))(dQ.EndLine-dU))(dQ.EndColumn-dT))(dR[0][1]))((dV=dR[0][0].get_Id(),a.String(dV))))(dQ.Subcategory))(dQ.Message);},dO[0].Errors)));b$.annotationsV().Set(dP);cG.iter(function(dQ){c.print$1(dQ);},dO[1]);return dL.Zero();});}))));};cg.monacoNew=function(dJ,dK,dL,dM){var dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1,d2;d0=_.newVar(dJ);dS=d0.editorO;dT=cg.newPojo([["fontSize",12],["lineHeight",14]]);d1=a.require("vs/editor/standalone/browser/standaloneServices");d2=new d1.StaticServices.codeEditorService._factory();d2.openCodeEditor=cg.openCodeEditor;dZ=d2;dY=["codeEditorService",dZ];dW=[dY,["textModelResolverService",cg.textModelResolverService()]];dU=cg.newPojo(dW);dO=bl.New(d0["var"],d0.onChange,d0.onRender,dS,d0.disabled,dT,dU);return _.onRender(function(d3){var d4,d5,d6,d7;function d8(eb,ec,ed){return d5.provideHover(eb,ec,ed);}function d9(eb,ec,ed,ee){return d6.provideCompletionItems(eb,ec,ed,ee);}function d_(eb,ec){return d6.resolveCompletionItem(eb,ec);}function d$(eb,ec,ed){return d7.provideDefinition(eb,ec,ed);}function ea(eb){var ec;ec=d3.getModel();self.monaco.editor.setModelMarkers(ec,"annotations",eb);}d4=d3.getModel();self.monaco.editor.setModelLanguage(d4,"fsharp");self.monaco.editor.setTheme("vs");d5=new ch.New(d3);d6=new ci.New(d3);d7=new cj.New(d3);c.print$1(function(eb){return d8(eb[0],eb[1],eb[2]);});c.print$1(function(eb){return d9(eb[0],eb[1],eb[2],eb[3]);});c.print$1(function(eb){return d_(eb[0],eb[1]);});c.print$1(function(eb){return d$(eb[0],eb[1],eb[2]);});self.monaco.languages.registerHoverProvider("fsharp",d5);self.monaco.languages.registerCompletionItemProvider("fsharp",d6);self.monaco.languages.registerDefinitionProvider("fsharp",d7);(h.iter(function(eb){cZ.Sink(ea,eb);}))(dK);},dO);};cg.textModelResolverService=function(){var dJ;dJ=null;return cl.New(function(dK){dJ={$:1,$0:dK};},function(dK){var dL;return dv.OfAsync((dL=null,cJ.Delay(function(){var dM,dN,dO,dP;dO=cg.getSnippetModel(dK);dP=self.require("vs/base/common/lifecycle");dN=new dP.ImmortalReference(dO);return cJ.Return(dN);})));});};cg.openCodeEditor=function(dJ,dK,dL){var dM;return dv.OfAsync((dM=null,cJ.Delay(function(){var dN,dO;dN=dJ.resource.path;dO=(B.Guid$1())(dN);return dO!=null&&dO.$==1?cJ.Bind(cg.gotoEditor(dK,new P({$:0,$0:dO.$0}),dJ.options.selection.startLineNumber,dJ.options.selection.startColumn),function(){return cJ.Return(dK);}):cJ.Return(null);})));};cg.gotoEditor=function(dJ,dK,dL,dM){var dN;dN=null;return cJ.Delay(function(){ca.expandParents(dK);ca.setCurrentSnippetIdO({$:1,$0:dK});return cJ.Bind(cJ.Sleep(200),function(){dJ.focus();dJ.setPosition($.New(dM,dL));dJ.revealPositionInCenter($.New(dM,dL));return cJ.Zero();});});};cg.newPojo=function(dJ){var dK,dL;function dM(dO,dP){return function(dQ){return cg.addProp(dO,dP,dQ);};}function dN(dO){}dK={};cG.iter((dL=function(dO){return(function(dP){return dM(dP[0],dP[1]);}(dO))(dK);},function(dO){return dN(dL(dO));}),dJ);return dK;};cg.addProp=function(dJ,dK,dL){dL[dJ]=dK;return dL;};cg.transformAnnotations=function(dJ,dK){var dL,dM;function dN(dO,dP,dQ,dR,dS,dT,dU){var dV;return!cN.Equals((dV=(B.parseGuidO$1())(dT),dV==null?null:{$:1,$0:new P({$:0,$0:dV.$0})}),{$:1,$0:dJ.snpId})?null:{$:1,$0:bh.New(dQ,dS,dP,dR,dO==="Err"?8:dO==="Warn"?4:dO==="Hint"?1:2,dU)};}dL="(Err|Warn|Info|Hint) \\((\\d+)\\,\\s*(\\d+)\\) - \\((\\d+)\\,\\s*(\\d+)\\).*\\("+W.rexGuid$1()+"\\) \"([^\"]+?)\"\\.";return cH.choose(function(dO){return dN(dO[0],dO[1],dO[2],dO[3],dO[4],dO[5],dO[6]);},cH.choose(function(dO){var dP,dQ,dR;return(dQ=W.REGEX$2(dL,"",dO),dQ!=null&&dQ.$==1&&((dR=dQ.$0,!cN.Equals(dR,null)&&dR.length===8)&&(dP=[cH.get(dQ.$0,3),cH.get(dQ.$0,2),cH.get(dQ.$0,6),cH.get(dQ.$0,7),cH.get(dQ.$0,5),cH.get(dQ.$0,4),cH.get(dQ.$0,1)],true)))?{$:1,$0:[dP[6],cM.toInt(a.Number(dP[1])),cM.toInt(a.Number(dP[0])),cM.toInt(a.Number(dP[5])),cM.toInt(a.Number(dP[4])),dP[2],dP[3]]}:null;},(dM=W.REGEX$2(dL,"g",dK),dM!=null&&dM.$==1?dM.$0:[])));};cg.convertGlyphChar=function(dJ){return dJ==="C"?6:dJ==="E"?12:dJ==="S"?11:dJ==="I"?7:dJ==="N"?8:dJ==="M"?1:dJ==="P"?9:dJ==="F"?4:dJ==="T"?6:dJ==="K"?13:0;};cg.fileName=function(){cv.$cctor();return cv.fileName;};cg.set_fileName=function(dJ){cv.$cctor();cv.fileName=dJ;};cg.overDescriptions=function(dJ){return i.sequenceSeq(cG.collect(function(dK){return cI.ofSeq(cG.delay(function(){return cG.append(!(!dK.Signature)?[cJ.Return("```\n"+dK.Signature+"\n```")]:[],cG.delay(function(){function dL(dM){return cJ.Return(dM);}return cG.append(!(!dK.Comment)?[cJ.Bind((new dm.New()).Async("FSharpStation:FsRoot.FSharpStation+Markdown.createCommentBlock:-1840423385",[dK.Comment]),function(dM){return dL(cg.fixMarkDown(dM));})]:[],cG.delay(function(){return!(!dK.Footer)?[cJ.Return(cg.fixMarkDown(dK.Footer))]:[];}));}));}));},cG.collect(a.id,dJ)));};cg.fixMarkDown=function(dJ){return cF.concat("\n\n",cG.map(function(dK){var dL;dL=cG.length(cG.takeWhile(function(dM){return" "===dM;},dK));return cF.replicate(dL,"&nbsp;")+cO.string(dK,{$:1,$0:dL},null);},cG.map(function(dK){return cF.Replace(dK,"\u0009","- ");},A.splitByChar$1("\n",dJ))));};cg.getSnippetModel=function(dJ){var dK,dL,dM;dK=(dL="snpId:"+(dM=dJ.get_Id(),a.String(dM)),self.monaco.Uri.parse(dL));return cg.getModelUri(ca.runReader(function(dN){return cM.FailWith(a.String(dN));},S.snippetRm(dJ)).snpContent,dK);};cg.getModelUri=function(dJ,dK){var dL,dM,dN;dL=(dM=(dN=self.monaco.editor.getModel(dK),!dN?null:{$:1,$0:dN}),dM==null?self.monaco.editor.createModel("","fsharp",dK):dM.$0);dL.getValue()!==dJ?dL.setValue(dJ):void 0;return dL;};cg.getSnipIdIndentAndFirst=function(dJ){var dK,dL;function dM(dN,dO){return dJ>=dO[1]&&dJ<=dO[2];}dK=(dL=cG.tryFind(function(dN){return dM(dN[0],dN[1]);},cg.startsV().Get()),(cg.defaultStart())(dL));return[dK[0][0],dK[1][0],dK[1][1]];};cg.getIndentAndFirst=function(){var dJ,dK,dL,dM;function dN(dQ){return dQ[0];}function dO(dQ){return dQ[0];}function dP(dQ){return cN.Equals(dJ,dQ);}dJ=ca.currentSnippetV().Get().snpId;dK=(dL=cG.tryFind((dM=function(dQ){return dO(dN(dQ));},function(dQ){return dP(dM(dQ));}),cg.startsV().Get()),(cg.defaultStart())(dL));return[dK[1][0],dK[1][1]];};cg.defaultStart=function(){cv.$cctor();return cv.defaultStart;};cg.startsV=function(){cv.$cctor();return cv.startsV;};cm.jumpToRef=function(dJ){var dK,dL;function dM(dN,dO,dP){return dL>=dO&&dL<dP?{$:1,$0:dN}:null;}dK=dJ.value;dL=dJ.selectionStart;cm.jumpToLine(cG.pick(function(dN){return dM(dN[0],dN[1],dN[2]);},(cG.mapFold(function(dN,dO){return[[dO,dN,dN+dO.length+1],dN+dO.length+1];},0,cF.SplitChars(dK,["\n"],0)))[0]));};cm.jumpToLine=function(dJ){var dK,dL,dM,dN,dO;dK=W.REGEX$2(cm.rexGuid(),"",dJ);dK!=null&&dK.$==1?(dL=dK.$0,!cN.Equals(dL,null)&&dL.length===6)?(dM=cH.get(dK.$0,2),dN=cH.get(dK.$0,5),dO=cH.get(dK.$0,1),cJ.Start(cg["goto"](new P({$:0,$0:dN}),cM.toInt(a.Number(dO)),cM.toInt(a.Number(dM))),null)):void 0:void 0;};cm.rexGuid=function(){cv.$cctor();return cv.rexGuid$1;};cn.buttonClick=function(dJ){cn.actionClick(cF.Trim(dJ.textContent));};cn.actionClick=function(dJ){var dK;dK=cn.actionClickRm(dJ);s.iterReaderA(function(dL){c.print$1(dL);},function(dL){c.print$1(dL);},ca.snippetsColl(),dK);};cn.actionClickRm=function(dJ){var dK;dK=s.fusion();return dK.Run(dK.Delay(function(){var dL;dL=(function(dM){return function(dN){return dM("Action "+cE.toSafe(dN)+" ...");};}(a.id))(dJ);b$.outputMsgs().Set(dL);return dK.Bind(cn.getBaseSnippet(),function(dM){function dN(dO){return cn.fetchValue(dJ,dO);}return dK.Bind(t.op_BarGreaterGreater(cn.getCode(dM,dJ),function(dO){return cn.translateString(dN,dO);}),function(dO){return dK.Bind(s.ofAsync((new dm.New()).Async("FSharpStation:FsRoot.Library2+FSharpStationClient.setAddress:-574353144",[new bp({$:0,$0:b$.id()})])),function(){return dK.Bind(t.op_BarGreaterGreater(s.ofFusionM(S.fastCodeRm({$:1,$0:dM.snpId},{$:1,$0:dM.snpId})),function(dP){return dP[0];}),function(dP){return dK.Bind(s.ofFusionM(S.predsGenerationRm(dM)),function(dQ){return dK.ReturnFrom(s.ofAsync((new dm.New()).Async("FSharpStation:FsRoot.Library2+FsiAgent.evalCodeWithPresence:854633647",[b$.srcDir(),(function(dR){return function(dS){return dR(cy.p(dS));};}(a.id))(dM.snpId),a.String(dQ),{$:0,$0:dP},{$:0,$0:dO}])));});});});});});}));};cn.fetchValue=function(dJ,dK){var dL,dM,dN;return dK==="button"?dJ:(dL=(dM=(dN=(dw.splitName("Snp_"+cF.Replace(a.String(ca.currentSnippetV().Get().snpId.get_Id()),"-","")))(dK),dw.tryGetWoW(dN[0],dN[1])),dM==null?null:cZ.TryGet(dM.$0)),dL==null?(function(dO){return function(dP){return dO("$[not found:"+cE.toSafe(dP)+"]");};}(a.id))(dK):dL.$0);};cn.getCode=function(dJ,dK){var dL;dL=s.fusion();return dL.Run(dL.Delay(function(){var dM;function dN(dO,dP){return dO+dP;}return dL.Bind(t.op_BarGreaterGreater(t.op_BarGreaterGreater(cn.propO(dJ,"Open"),(dM=function(dO){return dN(dO,"\n");},function(dO){return dO==null?null:{$:1,$0:dM(dO.$0)};})),function(dO){return dO==null?"":dO.$0;}),function(dO){return dL.Bind(cn.propO(dJ,dK),function(dP){return dP==null?cF.StartsWith(dK,":")?dL.Return(dO+cO.string(dK,{$:1,$0:1},null)):dL.Bind(t.op_BarGreaterGreater(cn.propO(dJ,"action-template"),function(dQ){return dQ==null?"${button}() |> printfn \"%A\"":dQ.$0;}),function(dQ){var dR;return dL.Return((dR=(A.indentStr$1(4))(dO+dQ),(((cD.Curried3(function(dS,dT,dU){return dS("module Call"+cE.toSafe(dT)+" =\n"+cE.toSafe(dU));}))(a.id))(a.String(dx.now())))(dR)));}):dL.Return(dO+dP.$0);});});}));};cn.getBaseSnippet=function(){var dJ;dJ=s.fusion();return dJ.Run(dJ.Delay(function(){var dK;dK=ca.currentSnippetV().Get();return dJ.Bind(cn.propO(dK,"BaseSnippet"),function(dL){return dJ.ReturnFrom(t.op_BarGreaterGreater(t.op_BarGreaterGreater(s.insertO(dL==null?null:{$:1,$0:s.ofFusionM(S.snippetFromRefORm({$:1,$0:cF.SplitChars(dL.$0,["/"],0)}))}),function(dM){return dM==null?null:dM.$0;}),function(dM){return dM==null?dK:dM.$0;}));});}));};cn.translateString=function(dJ,dK){function dL(dM,dN){var dO;dO=A.delimitedO$1("${","}",dN);return dO!=null&&dO.$==1?dL(dM+dO.$0[0],dJ(dO.$0[1])+dO.$0[2]):dM+dN;}return dL("",dK);};cn.propO=function(dJ,dK){function dL(dM,dN){return dN[0];}return t.op_BarGreaterGreater(s.ofFusionM(S.propertyHierORm(dK,dJ)),function(dM){var dN;return dM==null?null:{$:1,$0:(dN=dM.$0,dL(dN[0],dN[1]))};});};cp.New=function(dJ,dK,dL){return{snippets:dJ,generation:dK,collapsed:dL};};co.serModel=function(){cv.$cctor();return cv.serModel;};co.getModel=function(dJ,dK,dL){return cp.New(cH.ofSeq(dJ),dK,dL);};co.serSnippet=function(){cv.$cctor();return cv.serSnippet;};co.serSnippetId=function(){cv.$cctor();return cv.serSnippetId;};cq.saveAs=function(){var dJ,dK,dL,dM;dJ=(dK=cG.last(cF.SplitChars(cq.fileName().Get(),["/","\\"],0)),dK===""?"noname.snippets":dK);a.saveAs(new a.Blob([(dL=(dM=ca.getSnippetsGen(),co.getModel(dM[0],dM[1],dM[2])),(co.serModel())[0](dL))],{type:"text/plain;charset=utf-8"}),dJ);ca.updateGeneration();};cq.loadTextFile=function(dJ){var dK,dL;if(cq.canLoad()){dK=dJ.files;dK.length>0?(dL=new a.FileReader(),dL.onload=function(dM){return cq.parseText(dM.target.result);},cq.fileName().Set(dK.item(0).name),dL.readAsText(dK.item(0))):void 0;}};cq.parseText=function(dJ){var dK,dL;try{dK=(dL=db.parse(dJ),(co.serModel())[1](dL));ca.setSnippetsGen(dK.snippets,dK.collapsed);}catch(dM){a.alert(a.String(dM));((function(dN){return function(dO){return dN(cE.prettyPrint(dO));};}(function(dN){cX.log(dN);}))(dM));}};cq.canLoad=function(){return cN.Equals(cZ.TryGet(ca.SaveAsClassW()),{$:1,$0:""})||a.confirm("Changes have not been saved, do you really want to load?");};cq.fileName=function(){cv.$cctor();return cv.fileName$1;};cr.importFile=function(dJ){var dK,dL;if(cq.canLoad()){dK=dJ.files;dK.length>0?(dL=new a.FileReader(),dL.onload=function(dM){return cr.parseText(dM.target.result);},dL.readAsText(dK.item(0))):void 0;}};cr.parseText=function(dJ){var dK;try{ca.setSnippetsGen((dK=db.parse(dJ),(cr.serSnippets())[1](dK)),new cU.New$1(null));}catch(dL){a.alert(a.String(dL));((function(dM){return function(dN){return dM(cE.prettyPrint(dN));};}(function(dM){cX.log(dM);}))(dL));}};cr.serSnippets=function(){cv.$cctor();return cv.serSnippets;};cr.serSnippet2=function(){cv.$cctor();return cv.serSnippet2;};cr.serSnippetId2=function(){cv.$cctor();return cv.serSnippetId2;};ct.NoSnippet={$:2};cs.mainProgram=function(){var dJ,dK,dL,dM,dN,dO;dw.addPlugIn(dy.New("FSharpStation",[dw.newVar("fileName",cq.fileName()),dw.newVar("SnippetName",c0.Lens(ca.currentSnippetV(),function(dP){return dP.snpName;},function(dP,dQ){return Q.New(dP.snpId,dQ,dP.snpContent,dP.snpParentIdO,dP.snpPredIds,dP.snpProperties,dP.snpGeneration);})),dw.newVar("Content",c0.Lens(ca.currentSnippetV(),function(dP){return dP.snpContent;},function(dP,dQ){return Q.New(dP.snpId,dP.snpName,dQ,dP.snpParentIdO,dP.snpPredIds,dP.snpProperties,dP.snpGeneration);})),dw.newVar("Output",b$.outputMsgs()),dw.newVar("Parser",b$.annotationsV())],[dw.newViw("FsCode",ca.FsCodeW()),dw.newViw("SaveNeeded",ca.SaveAsClassW()),dw.newViw("CurrentPath",ca.currentPathW()),dw.newViw("FStationId",cZ.Const(b$.id()))],[dw.newDoc("mainDoc",dz.Create(cs.mainDoc)),dw.newDoc("editor",dz.Create(function(){var dP,dQ,dR;return c4.Element("div",[],[(dP=(dQ=cg.getEditorConfigO(),dQ==null?null:{$:1,$0:_.render(dQ.$0)}),(dR=c4.get_Empty(),dP==null?dR:dP.$0))]);})),dw.newDoc("Snippets",dz.Create(ce.render)),dw.newDoc("Properties",dz.Create(cf.render)),dw.newDoc("ButtonsRight",dz.Create(cs.buttonsRight))],[dw.newAct("AddSnippet",function(){ca.newSnippet();}),dw.newAct("RemoveSnippet",function(){cs.deleteSnippet();}),dw.newAct("IndentIn",function(){ca.indentIn();}),dw.newAct("IndentOut",function(){ca.indentOut();}),dw.newAct("AddProperty",function(){cf.addProperty();}),dw.newAct("SaveAs",function(){cq.saveAs();}),dw.newAct("RunFS",function(){cs.runFsCode();}),dw.newAct("LastLineToFsi",function(){cs.lastLineToFsi();}),dw.newAct("AbortFsi",function(){(new dm.New()).Send("FSharpStation:FsRoot.Library2+FsiAgent.abortFsiExe:6",[]);}),dw.newAct("DisposeFsi",function(){(new dm.New()).Send("FSharpStation:FsRoot.Library2+FsiAgent.disposeFsiExe:6",[]);}),dw.newActF("LoadFile",{$:1,$0:function(dP){cq.loadTextFile(dP);},$1:"FileElement"}),dw.newActF("Import",{$:1,$0:function(dP){cr.importFile(dP);},$1:"FileElement"}),dw.newActF("JumpTo",{$:1,$0:function(dP){cm.jumpToRef(dP);},$1:"textarea"}),dw.newActF("ButtonClick",{$:1,$0:function(dP){cn.buttonClick(dP);},$1:"button"}),dw.newActF("ActionClick",{$:1,$0:function(dP){cn.actionClick(dP);},$1:"name"})],[]));dA.addLayout((dJ=(A.unindentStr())("\n                    menuEditor       horizontal  65       menuLogo                  editorMessages\n                    double           horizontal  0-50-100 AppFramework.AppFwkClient menuEditor\n                    menuLogo         vertical    350      logo                      menu\n                    logo             span       \"margin:0; color:gray; font-size: 55px; font-weight:530\" \"F# Station\"\n                    editorMessages   horizontal 10-83-100 editorButtons             messages\n                    messages         vertical   0-50-100  messagesLeft              messagesRight\n                    editorButtons    vertical -200 snippetsSnippet buttons\n                    buttons div      \"overflow: hidden; display: grid; grid-template-columns: 100%; grid-template-rows: repeat(15, calc(100% / 15)); bxackground-color: #eee; box-sizing: border-box; padding : 5px; grid-gap: 5px; margin-right: 21px\" btnSaveAs none x btnAddSnippet btnDeleteSnippet btnIndentIn btnIndentOut none x btnRunFS btnInputFsi btnAbortFsi\n                    snippetsSnippet  vertical   0-20-100  snippets                  editorProperties\n                    snippets         horizontal 20        \"${FSharpStation.CurrentPath}\" FSharpStation.Snippets\n                    editorProperties vertical   0-100-100 snippet                   properties\n                    properties       div        \"\"        FSharpStation.Properties\n                    snippet          horizontal 35        Name                      FSharpStation.editor\n                    menu             span  \"\" btnLoad btnImport\n        \n                    btnSaveAs        button FSharpStation.SaveAs         \"class=btn ${FSharpStation.SaveNeeded}\" \"Save as...    \"\n                    btnAddSnippet    button FSharpStation.AddSnippet     \"\"                  \"Add Snippet   \"\n                    btnDeleteSnippet button FSharpStation.RemoveSnippet  \"\"                  \"Delete Snippet\"\n                    btnIndentIn      button FSharpStation.IndentIn       \"\"                  \"Indent In  >> \"\n                    btnIndentOut     button FSharpStation.IndentOut      \"\"                  \"Indent Out << \"\n                    btnRunFS         button FSharpStation.RunFS          \"\"                  \"Run F#        \"\n                    btnInputFsi      button FSharpStation.LastLineToFsi  \"\"                  \"last line |> Fsi\"\n                    btnAbortFsi      button FSharpStation.AbortFsi       \"\"                  \"Abort Fsi     \"\n        \n                    messagesLeft     wcomp-tabstrip                      \"\"                  Output FsCode\n                    messagesRight    wcomp-tabstrip                      \"\"                  Parser\n        \n                    Output           textarea  FSharpStation.Output      \"tabname=Output ; placeholder=Output messages ; spellcheck=false\" \n                    FsCode           textarea  FSharpStation.FsCode      \"tabname=F# Code; placeholder=F# Code         ; spellcheck=false\" \n                    Parser           textarea  FSharpStation.Parser      \"tabname=Parser ; placeholder=Parser messages; dblclick=${FSharpStation.JumpTo} ; spellcheck=false\" \n                    Name             Doc       InputLabel                \"\"     \"Name:\"        FSharpStation.SnippetName\n                    btnLoad          Doc       InputFile                 \"\"     \"Load File...\" FSharpStation.LoadFile  FileName\n                    btnImport        Doc       InputFile                 \"\"     \"Import...\"    FSharpStation.Import    \"\"\n                    FileName         div                                 \"class=form-control\"  FSharpStation.fileName\n                "),dA.newLyt(cs.FStationLyt(),dJ)));cZ.Sink(function(dP){(h.iter(function(dQ){try{self["eval"].apply(self,["CIPHERSpaceLoadFilesDoAfter(function(){IntelliFactory.Runtime.Start()})"]);self["eval"].apply(self,[dQ[1]]);}catch(dR){c.print(dR);}}))(dP);},(dK=ca.currentLayoutJSDW(),(dL=[c0.Create$1(null)],(cZ.Sink(function(dP){if(!cN.Equals(dL[0].Get(),dP))dL[0].Set(dP);},dK),dL[0].get_View()))));cZ.Sink(function(dP){var dQ,dR,dS,dT,dU,dV;dQ=(dR=dP==null?null:(dS=dP.$0,(dT=dS[0],(dU=dS[1],(dA.addLayout(dA.newLyt(dT,dU)),dU===""?null:{$:1,$0:dT})))),(dV=cs.FStationLyt(),dR==null?dV:dR.$0));dw.mainDocV().Set(dQ);},(dM=ca.currentLayoutDW(),(dN=[c0.Create$1(null)],(cZ.Sink(function(dP){if(!cN.Equals(dN[0].Get(),dP))dN[0].Set(dP);},dM),dN[0].get_View()))));return c4.Async((dO=null,cJ.Delay(function(){return cJ.Bind(_.loader(),function(){var dP,dQ,dR;dP=(dQ=cg.getEditorConfigO(),dQ==null?null:{$:1,$0:_.render(dQ.$0)});dR=c4.get_Empty();dP==null?void 0:void 0;return cJ.Return(dw.getMainDoc().f());});})));};cs.mainDoc$5116$78=a.id;cs.mainDoc$5108$39=function(){return function(dJ){cm.jumpToRef(dJ.Target);};};cs.mainDoc$5107$39=function(){return function(dJ){dJ.Target.value="";};};cs.mainDoc$5106$39=function(){return function(dJ){cr.importFile(dJ.Target);};};cs.mainDoc$5105$39=function(){return function(dJ){dJ.Target.value="";};};cs.mainDoc$5104$39=function(){return function(dJ){cq.loadTextFile(dJ.Target);};};cs.mainDoc=function(){var dJ,dK,dL,dM,dN,dO,dP,dQ;dJ=cs.hookDoc("FSharpStation","ButtonsRight",function(dR,dS){return dR.WithHole({$:0,$0:"buttonsright",$1:dS});},cs.hookDoc("FSharpStation","Properties",function(dR,dS){return dR.WithHole({$:0,$0:"properties",$1:dS});},cs.hookDoc("FSharpStation","Snippets",function(dR,dS){return dR.WithHole({$:0,$0:"snippets",$1:dS});},cs.hookDoc("FSharpStation","editor",function(dR,dS){return dR.WithHole({$:0,$0:"codeeditor",$1:dS});},cs.hookAct("FSharpStation","SaveAs",function(dR,dS){return dR.WithHole(ds.EventQ2(dR.k,"saveas",function(){return dR.i;},dS));},cs.hookViw("FSharpStation","SaveNeeded",function(dR,dS){return dR.WithHole({$:2,$0:"saveasclass",$1:dS});},cs.hookViw("FSharpStation","FSCode",function(dR,dS){return dR.WithHole({$:8,$0:"fscode",$1:new dn.New(dS,a.ignore)});},cs.hookVar("FSharpStation","Parser",function(dR,dS){return dR.WithHole({$:8,$0:"parser",$1:dS});},cs.hookVar("FSharpStation","Output",function(dR,dS){return dR.WithHole({$:8,$0:"output",$1:dS});},cs.hookVar("FSharpStation","SnippetName",function(dR,dS){return dR.WithHole({$:8,$0:"name",$1:dS});},cs.hookVar("FSharpStation","fileName",function(dR,dS){return dR.WithHole({$:8,$0:"filename",$1:dS});},(dK=(dL=(dM=(dN=(dO=dr.Make(),dO.WithHole(ds.EventQ2(dO.k,"loadfilechanged",function(){return dO.i;},function(dR){cq.loadTextFile(dR.Target);}))),dN.WithHole(ds.EventQ2(dN.k,"loadfileclear",function(){return dN.i;},function(dR){dR.Target.value="";}))),dM.WithHole(ds.EventQ2(dM.k,"importfilechanged",function(){return dM.i;},function(dR){cr.importFile(dR.Target);}))),dL.WithHole(ds.EventQ2(dL.k,"importfileclear",function(){return dL.i;},function(dR){dR.Target.value="";}))),dK.WithHole(ds.EventQ2(dK.k,"jumpref",function(){return dK.i;},function(dR){cm.jumpToRef(dR.Target);}))))))))))))));return(dP=ds.CompleteHoles(dJ.k,dJ.h,[["filename",0],["name",0],["output",0],["fscode",0],["parser",0]]),(dQ=new dt.New(dP[1],cA.layout(dP[0])),(dJ.i=dQ,dQ))).get_Doc();};cs.buttonsRight$5090$74=a.id;cs.buttonsRight$5089$74=a.id;cs.buttonsRight$5088$74=a.id;cs.buttonsRight$5087$74=a.id;cs.buttonsRight$5086$74=a.id;cs.buttonsRight=function(){var dJ,dK,dL;dJ=cs.hookAct("FSharpStation","RunFS",function(dM,dN){return dM.WithHole(ds.EventQ2(dM.k,"runfs",function(){return dM.i;},dN));},cs.hookAct("FSharpStation","IndentOut",function(dM,dN){return dM.WithHole(ds.EventQ2(dM.k,"indentout",function(){return dM.i;},dN));},cs.hookAct("FSharpStation","IndentIn",function(dM,dN){return dM.WithHole(ds.EventQ2(dM.k,"indentin",function(){return dM.i;},dN));},cs.hookAct("FSharpStation","RemoveSnippet",function(dM,dN){return dM.WithHole(ds.EventQ2(dM.k,"removesnippet",function(){return dM.i;},dN));},cs.hookAct("FSharpStation","AddSnippet",function(dM,dN){return dM.WithHole(ds.EventQ2(dM.k,"addsnippet",function(){return dM.i;},dN));},dr.Make())))));return(dK=ds.CompleteHoles(dJ.k,dJ.h,[]),(dL=new dt.New(dK[1],cA.buttonsright(dK[0])),(dJ.i=dL,dL))).get_Doc();};cs.hookDoc=function(dJ,dK,dL,dM){var dN,dO,dP;dN=(dO=dw.tryGetDoc(dJ,dK),dO==null?null:{$:1,$0:(dP=dO.$0,((((cD.Curried3(function(dQ,dR,dS){return dQ("Doc    "+cE.toSafe(dR)+"."+cE.toSafe(dS)+" hooked");}))(function(dQ){cX.log(dQ);}))(dJ))(dK),dL(dM,c4.EmbedView(cZ.Map(function(){return dw.getLazyDoc(dP);},dw.mainDocV().get_View())))))});return dN==null?((((cD.Curried3(function(dQ,dR,dS){return dQ("Doc    "+cE.toSafe(dR)+"."+cE.toSafe(dS)+" not found");}))(function(dQ){cX.log(dQ);}))(dJ))(dK),dM):dN.$0;};cs.hookAct=function(dJ,dK,dL,dM){var dN,dO,dP;dN=(dO=dw.tryGetAct(dJ,dK),dO==null?null:{$:1,$0:(dP=dO.$0,((((cD.Curried3(function(dQ,dR,dS){return dQ("Action "+cE.toSafe(dR)+"."+cE.toSafe(dS)+" hooked");}))(function(dQ){cX.log(dQ);}))(dJ))(dK),dL(dM,function(){dw.callFunction(null,null,dP.actFunction);})))});return dN==null?((((cD.Curried3(function(dQ,dR,dS){return dQ("Action "+cE.toSafe(dR)+"."+cE.toSafe(dS)+" not found");}))(function(dQ){cX.log(dQ);}))(dJ))(dK),dM):dN.$0;};cs.hookViw=function(dJ,dK,dL,dM){var dN,dO;dN=(dO=dw.tryGetViw(dJ,dK),dO==null?null:{$:1,$0:((((cD.Curried3(function(dP,dQ,dR){return dP("View   "+cE.toSafe(dQ)+"."+cE.toSafe(dR)+" hooked");}))(function(dP){cX.log(dP);}))(dJ))(dK),dL(dM,dO.$0.viwView))});return dN==null?((((cD.Curried3(function(dP,dQ,dR){return dP("View   "+cE.toSafe(dQ)+"."+cE.toSafe(dR)+" not found");}))(function(dP){cX.log(dP);}))(dJ))(dK),dM):dN.$0;};cs.hookVar=function(dJ,dK,dL,dM){var dN,dO;dN=(dO=dw.tryGetVar(dJ,dK),dO==null?null:{$:1,$0:((((cD.Curried3(function(dP,dQ,dR){return dP("Var    "+cE.toSafe(dQ)+"."+cE.toSafe(dR)+" hooked");}))(function(dP){cX.log(dP);}))(dJ))(dK),dL(dM,dO.$0.varVar))});return dN==null?((((cD.Curried3(function(dP,dQ,dR){return dP("Var    "+cE.toSafe(dQ)+"."+cE.toSafe(dR)+" not found");}))(function(dP){cX.log(dP);}))(dJ))(dK),dM):dN.$0;};cs.FStationLyt=function(){cv.$cctor();return cv.FStationLyt;};cs.deleteSnippet=function(){var dJ;dJ=ca.currentSnippetV().Get();!cN.Equals(dJ.snpId,P.get_Empty())&&a.confirm((function(dK){return function(dL){return dK("Do you want to delete "+cE.toSafe(dL)+"?");};}(a.id))(S.snippetName(dJ.snpName,dJ.snpContent)))?ca.deleteCurrentSnippet():void 0;};cs.lastLineToFsi=function(){var dJ,dK,dL;function dM(dN){b$.appendMsgs(cF.Replace(dN,"xXxYyYyhH","Done!"));}dJ=(dK=s.fusion(),dK.Run(dK.Delay(function(){return dK.Bind(s.ofAsync((new dm.New()).Async("FSharpStation:FsRoot.Library2+FSharpStationClient.setAddress:-574353144",[new bp({$:0,$0:b$.id()})])),function(){var dN;return dK.Bind(s.ofAsync((dN=cG.last(cF.SplitChars(b$.outputMsgs().Get(),["\n"],0)),(new dm.New()).Async("FSharpStation:FsRoot.Library2+FsiAgent.sendFsiInput:-1181784350",[dN]))),function(){return dK.Return();});});})));s.iterResultA((dL=function(dN){return function(dO){return dN("Error:\n"+cy.p$1(dO));};}(a.id),function(dN){return dM(dL(dN));}),a.ignore,dJ);};cs.runFsCode=function(){var dJ;function dK(dL){b$.appendMsgs(cF.Replace(dL,"xXxYyYyhH","Done!"));}dJ=cZ.TryGet(ca.FsCodeW());(h.iter(function(dL){var dM,dN,dO;dM=(dN=s.fusion(),dN.Run(dN.Delay(function(){b$.outputMsgs().Set("Running F#...");return dN.Bind(s.ofAsync((new dm.New()).Async("FSharpStation:FsRoot.Library2+FSharpStationClient.setAddress:-574353144",[new bp({$:0,$0:b$.id()})])),function(){return dN.ReturnFrom(s.ofAsync((new dm.New()).Async("FSharpStation:FsRoot.Library2+FsiAgent.evalCode:-623788033",[b$.srcDir(),{$:0,$0:dL}])));});})));s.iterResultA((dO=function(dP){return function(dQ){return dP("Error:\n"+cy.p$1(dQ));};}(a.id),function(dP){return dK(dO(dP));}),a.ignore,dM);}))(dJ);};cs.endPointV=function(){cv.$cctor();return cv.endPointV;};cu.processMessage=function(dJ){var dK;return cJ.Return(ca.runReaderResult((dK=o.fusion(),dK.Run(dK.Delay(function(){var dL,dM,dN,dO,dP,dQ,dR,dS,dT;function dU(dV){ca.setProperty(dV,dS,dT);return"Ok";}switch(dJ.$==1?(dL=dJ.$0,1):dJ.$==2?(dL=dJ.$0,2):dJ.$==3?(dL=dJ.$0,3):dJ.$==4?(dM=dJ.$0,!cN.Equals(dM,null)&&dM.length===2?cH.get(dJ.$0,0)==="AddOutput"?(dL=cH.get(dJ.$0,1),4):cH.get(dJ.$0,0)==="ExecJS"?(dL=cH.get(dJ.$0,1),5):(dL=[cH.get(dJ.$0,0),cH.get(dJ.$0,1)],8):(dN=dJ.$0,!cN.Equals(dN,null)&&dN.length===4?cH.get(dJ.$0,0)==="SetProperty"?(dL=[cH.get(dJ.$0,1),cH.get(dJ.$0,2),cH.get(dJ.$0,3)],6):11:(dO=dJ.$0,!cN.Equals(dO,null)&&dO.length===1?(dL=cH.get(dJ.$0,0),7):(dP=dJ.$0,!cN.Equals(dP,null)&&dP.length===3?(dL=[cH.get(dJ.$0,0),cH.get(dJ.$0,1),cH.get(dJ.$0,2)],9):11)))):dJ.$==5?10:0){case 0:return dK.Return({$:0,$0:b$.id()});case 1:return dK.Bind(o.traverseSeq(S.snippetFromRefORm,dL),function(dV){return dK.Return({$:1,$0:cH.ofSeq(cG.choose(a.id,dV))});});case 2:ca.clearPredsCache();return dK.Bind(o.absorbO(function(){return new d({$:1,$0:(function(dV){return function(dW){return dV("Snippet not found "+cy.p$2(dW));};}(a.id))(dL)});},S.snippetFromRefORm(dL)),function(dV){return dK.ReturnFrom(p.op_BarGreaterGreater(p.op_BarGreaterGreater(S.fastCodeRm({$:1,$0:dV.snpId},{$:1,$0:dV.snpId}),function(dW){return dW[0];}),function(dW){return{$:0,$0:dW};}));});case 3:ca.clearPredsCache();return dK.Return(T.Hole.TODO_GetPredecessors);case 4:b$.appendMsgs(dL);return dK.Return({$:0,$0:"Ok"});case 5:dQ=self["eval"].apply(self,[dL]);dQ===null?void 0:void 0;return dK.Return({$:0,$0:"Ok"});case 6:dR=dL[0];dS=dL[1];dT=dL[2];return dK.Bind(o.absorbO(function(){return new d({$:1,$0:(function(dV){return function(dW){return dV("Snippet not found: "+cE.toSafe(dW));};}(a.id))(dR)});},p.op_BarGreaterGreater(S.snippetFromRefORm({$:1,$0:cF.SplitChars(dR,["/"],0)}),function(dV){return dV==null?null:{$:1,$0:dU(dV.$0)};})),function(dV){return dK.Return({$:0,$0:dV});});case 7:return dK.ReturnFrom(cu.actionCall(dL,null,null));case 8:return dK.ReturnFrom(cu.actionCall(dL[0],dL[1],null));case 9:return dK.ReturnFrom(cu.actionCall(dL[0],dL[1],dL[2]));case 10:return dK.Return({$:0,$0:self.document.baseURI});case 11:return dK.Return(T.Hole[(function(dV){return function(dW){return dV("TODO message: "+cy.p$3(dW));};}(a.id))(dJ)]);}})))));};cu.actionCall=function(dJ,dK,dL){var dM;dM=o.fusion();return dM.Run(dM.Delay(function(){var dN,dO;dN=(dO=(dw.splitName(cs.FStationLyt()))(dJ),dw.tryGetAct(dO[0],dO[1]));return dN!=null&&dN.$==1?(dw.callFunction(dK,dL,dN.$0.actFunction),dM.Return({$:0,$0:"Ok"})):dM.ReturnFrom(o.ofResultRM(c.Error(new d({$:1,$0:(function(dP){return function(dQ){return dP("Action "+cE.toSafe(dQ)+" not found");};}(a.id))(dJ)}))));}));};cu.wsStationClient=function(){cv.$cctor();return cv.wsStationClient;};cv.$cctor=function(){var dK,dO,dP,dU,dV,dW,d0,d1,d5,d6,d_,d$,ea,eb,ed,ee,eh,ei,el,eo,ep,er,es,et,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e7,e8;cv.$cctor=a.ignore;cv.rtn=function(e9){return[e9];};cv.result=new m.New();cv.result$1=l.result();cv.fusion=new r.New();cv.fusion$1=new v.New();cv.asyncResult=new x.New();cv.asyncResultP=new y.New();function dJ(e9){return cF.concat("\n",e9);}cv.unindentStr=function(e9){return dJ(A.unindent$1(e9));};function dL(e9){return A.splitByChar$1("\n",e9);}function dM(e9){var e_,e$;return cO.array(e9,{$:1,$0:0},{$:1,$0:(e_=0,(e$=cH.length(e9)-2,cN.Compare(e_,e$)===1?e_:e$))});}function dN(e9){return cF.concat("\n",e9);}cv.skipLastLine=(dK=function(e9){return dM(dL(e9));},function(e9){return dN(dK(e9));});cv.parseDateO=B.tryParseWith$1(function(e9){var e_,e$;e_=0;return[(e$=dB.TryParse(e9),e$!=null&&e$.$==1&&(e_=e$.$0,true)),e_];});cv.parseIntO=B.tryParseWith$1(function(e9){var e_;e_=0;return[dC.TryParseInt32(e9,{get:function(){return e_;},set:function(e$){e_=e$;}}),e_];});cv.parseSingleO=B.tryParseWith$1(function(e9){var e_,e$;e_=0;return[(e$=a.Number(e9),a.isNaN(e$)?false:(e_=e$,true)),e_];});cv.parseDoubleO=B.tryParseWith$1(function(e9){var e_,e$;e_=0;return[(e$=a.Number(e9),a.isNaN(e$)?false:(e_=e$,true)),e_];});cv.parseGuidO=B.tryParseWith$1(function(e9){var e_;e_=null;return[cS.TryParse(e9,{get:function(){return e_;},set:function(e$){e_=e$;}}),e_];});cv["|Date|_|"]=B.parseDateO$1();cv["|Int|_|"]=B.parseIntO$1();cv["|Single|_|"]=B.parseSingleO$1();cv["|Double|_|"]=B.parseDoubleO$1();cv["|Guid|_|"]=B.parseGuidO$1();dP=(dO=1,[function(){dO=dO+1;return dO;},function(e9){dO=e9;}]);cv.setGeneration=dP[1];cv.getNextGeneration=dP[0];cv.defaultSnippet=Q.New(new P({$:0,$0:"00000000-0000-0000-0000-000000000000"}),"","",null,new cU.New$1(null),[],0);cv.tieFighter="|"+"-"+"|";cv.deserGuid=function(e9){return Z.ifUndef("00000000-0000-0000-0000-000000000000",e9);};function dQ(e9){return Z.ifUndef(0,e9);}cv.serFloat=[function(e9){return(function(e_){return function(e$){return e_(cE.prettyPrint(e$));};}(a.id))(e9);},function(e9){return dQ(a.id(e9));}];function dR(e9){return Z.ifUndef(0,e9);}cv.serInt=[function(e9){return(function(e_){return function(e$){return e_(cE.prettyPrint(e$));};}(a.id))(e9);},function(e9){return dR(a.id(e9));}];function dS(e9){return Z.ifUndef(false,e9);}cv.serBool=[function(e9){return(function(e_){return function(e$){return e_(cE.prettyPrint(e$));};}(a.id))(e9);},function(e9){return dS(a.id(e9));}];function dT(e9){return Z.ifUndef("",e9);}cv.serString=[function(e9){return db.stringify(((de.Id())())(e9));},function(e9){return dT(a.id(e9));}];cv.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";cv.observers=cI.T.Empty;cv.css="\r\n                .tab-panel {\r\n                 overflow  : hidden   ;\r\n                 display   : flex     ;\r\n                 flex-flow : column   ;\r\n                 background: lightgray;\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                }\r\n                .tab-content {\r\n                 flex      : 1 1     ;\r\n                 overflow  : auto    ;\r\n                 position  : relative;\r\n                }\r\n                .tab-children {\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                 position  : absolute;\r\n                 display   : grid    ;\r\n                }\r\n                .tab-strip {\r\n                 padding   : 0pt     ;\r\n                 flex      : 0 0     ;\r\n                }\r\n                .tab {\r\n                 border     : 0.2pt solid transparent;\r\n                 padding    : 0pt 4pt;\r\n                 display    : inline-block;\r\n                 font-family: sans-serif;\r\n                 font-weight: 200;\r\n                 font-size  : small;\r\n                 color      : #666;\r\n                 cursor     : pointer;\r\n                }\r\n                .top>.tab {\r\n                 border-radius: 2pt 2pt 0pt 0pt;\r\n                 border-bottom-width: 0pt;\r\n                 vertical-align: bottom;\r\n                }\r\n                .bottom>.tab {\r\n                 border-top-width: 0pt;\r\n                 border-radius: 0pt 0pt 2pt 2pt;\r\n                 vertical-align: top;\r\n                }\r\n                .horizontal>.tab:not(:first-child) {\r\n                 border-left-width: 0pt;\r\n                }\r\n                .tab.hovering {\r\n                 background: red;\r\n                }\r\n                .tab.selected {\r\n                 background: white;\r\n                 border-left-width: 0.2pt;\r\n                 color: black;\r\n                 font-weight: 500;\r\n                 border-color: black;\r\n                }\r\n                .horizontal>.tab.selected {\r\n                 border-left-width: 0.2pt;\r\n                }\r\n                ::slotted(*              ) { \r\n                 width : 100%;\r\n                 height: 100%;\r\n                }\r\n                        ";cv.init=dz.Create(function(){var e9,e_,e$;e9=new _7.New$1();e_="wcomp-tabstrip";e$=self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New;cX.log("defineWebComponent: "+e_);c$.setPrototypeOf(e$.prototype,self.HTMLElement.prototype);c$.setPrototypeOf(e$,self.HTMLElement);c$.setPrototypeOf(_7.Constructor$1.prototype,e$.prototype);self.customElements.define(e_,_7.Constructor$1);});cv.layoutHorizontal=cD.Curried(function(e9,e_,e$,fa,fb){return c4.get_Empty();},5);cv.layoutVertical=cD.Curried(function(e9,e_,e$,fa,fb){return c4.get_Empty();},5);cv.loader=(dU=null,cJ.Delay(function(){self.require.config({paths:{vs:"/EPFileX/monaco/package/min/vs"}});return cJ.Bind(cJ.FromContinuations(function(e9,e_){return self.require(["vs/editor/editor.main"],e9,e_);}),function(){return cJ.Return(null);});}));cv.MessageBrokerId="<MessageBroker>";cv.MessageBrokerAddress=new bp({$:0,$0:bo.MessageBrokerId()});cv.id="FSharpStation"+a.String(dx.now());cv.rootDir=".";cv.srcDir=".";cJ.Start((dV=null,cJ.Delay(function(){return cJ.Bind((new dm.New()).Async("FSharpStation:FsRoot.FSharpStation+FStation.getRootDir:-447555547",[]),function(e9){b$.set_rootDir(e9+"/"+"..");b$.set_srcDir(e9+"/"+"..\\src");(((cD.Curried3(function(e_,e$,fa){return e_("fileName = "+cE.toSafe(e$)+"\\"+cE.toSafe(fa)+".fsx");}))(function(e_){cX.log(e_);}))(b$.srcDir()))(b$.id());return cJ.Zero();});})),null);cv.annotationsV=c0.Create$1("");cv.outputMsgs=c0.Create$1("");cv.snippets=new dD.New$1(function(e9){return e9.snpId;});cv.hierarchy=c0.Create$1([]);cv.generation=c0.Create$1(5);cv.currentSnippetIdOV=c0.Create$1(null);cv.codeSnippetIdOV=c0.Create$1(null);cv.collapsedV=c0.Create$1(new cU.New$1(null));function dX(e9){var e_;e_=null;return dW.TryGetValue(e9,{get:function(){return e_;},set:function(e$){e_=e$;}})?{$:1,$0:e_}:null;}function dY(e9,e_){dW.set_Item(e9,e_);return e_;}function dZ(e9,e_){var e$;e$=dX(e9);return e$==null?dY(e9,e_(e9)):e$.$0;}d0=(dW=new dE.New$5(),[[dX,function(e9){return function(e_){return dZ(e9,e_);};}],function(){dW.Clear();}]);cv.predsCache=d0[0];cv.clearPreds=d0[1];function d2(e9){var e_;e_=null;return d1.TryGetValue(e9,{get:function(){return e_;},set:function(e$){e_=e$;}})?{$:1,$0:e_}:null;}function d3(e9,e_){d1.set_Item(e9,e_);return e_;}function d4(e9,e_){var e$;e$=d2(e9);return e$==null?d3(e9,e_(e9)):e$.$0;}d5=(d1=new dE.New$5(),[[d2,function(e9){return function(e_){return d4(e9,e_);};}],function(){d1.Clear();}]);cv.reducCache=d5[0];cv.clearReduc=d5[1];function d7(e9){var e_;e_=null;return d6.TryGetValue(e9,{get:function(){return e_;},set:function(e$){e_=e$;}})?{$:1,$0:e_}:null;}function d8(e9,e_){d6.set_Item(e9,e_);return e_;}function d9(e9,e_){var e$;e$=d7(e9);return e$==null?d8(e9,e_(e9)):e$.$0;}d_=(d6=new dE.New$5(),[[d7,function(e9){return function(e_){return d9(e9,e_);};}],function(){d6.Clear();}]);cv.parentCache=d_[0];cv.clearParent=d_[1];cv.getParentIdO=(d$=(ca.parentCache())[1],function(e9){return(d$(e9))(ca.getParentIdONotMemo);});cZ.Sink(function(e9){var e_,e$;if(e9!=null&&e9.$==1){e_=e9.$0;e$=ca.codeSnippetIdOV().Get();e$!=null&&e$.$==1?(ca.iterReader(p.op_BarGreaterGreater(p.op_BarGreaterGreater(p.op_BarGreaterGreater(p.op_BarGreaterGreater(p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(S.snippetORm(e$.$0),function(fa){return fa==null?null:{$:1,$0:S.uniquePredsRm(fa.$0)};}),o.insertO),cV.toList),function(fa){return cI.collect(a.id,fa);}),function(fa){return cI.contains(e_,fa);}),function(fa){if(fa);else ca.codeSnippetIdOV().Set({$:1,$0:e_});})),ca.clearPredsCache()):ca.codeSnippetIdOV().Set({$:1,$0:e_});}},ca.currentSnippetIdOV().get_View());function ec(e9){return e9.id();}cZ.Sink(function(e9){var e_;ca.clearPredsCache();e_=cH.ofSeq(cG.delay(function(){return cG.collect(function(e$){return cG.append([ca.snippets().FindByKey(e$)],cG.delay(function(){return cG.filter(function(fa){return ca.isDescendantOf(e$,fa.snpId);},(ca.snippets())["var"].Get());}));},e9);}));ca.snippets().Set(e_);},(ea=cZ.Map(function(e9){return cH.map(ec,e9);},ca.hierarchy().get_View()),(eb=[c0.Create$1(null)],(cZ.Sink(function(e9){if(!cN.Equals(eb[0].Get(),e9))eb[0].Set(e9);},ea),eb[0].get_View()))));cv.CurrentSnippetIdW=cZ.Map(function(e9){var e_;e_=S.defaultSnippet().snpId;return e9==null?e_:e9.$0;},ca.currentSnippetIdOV().get_View());function ef(e9){var e_;e_=S.defaultSnippet();return e9==null?e_:e9.$0;}function eg(e9){return ca.snippets().TryFindByKeyAsView(e9);}cv.currentSnippetW=cZ.Map((ed=function(e9){return e9==null?null:a.id(e9.$0);},function(e9){return ef(ed(e9));}),cZ.Bind((ee=function(e9){return e9==null?null:{$:1,$0:eg(e9.$0)};},function(e9){return Y.insertWO(ee(e9));}),ca.currentSnippetIdOV().get_View()));function ej(e9){var e_;e_=S.defaultSnippet();return e9==null?e_:e9.$0;}function ek(e9){return ca.snippets().TryFindByKeyAsView(e9);}cv.codeSnippetW=cZ.Map((eh=function(e9){return e9==null?null:a.id(e9.$0);},function(e9){return ej(eh(e9));}),cZ.Bind((ei=function(e9){return e9==null?null:{$:1,$0:ek(e9.$0)};},function(e9){return Y.insertWO(ei(e9));}),ca.codeSnippetIdOV().get_View()));cv.currentSnippetV=new dn.New(ca.currentSnippetW(),function(e9){ca.setSnippet(e9);});function em(e9,e_){return[e9.id(),e_];}function en(e9){function e_(fa){return U.listNodes(0,fa);}function e$(fa){return ca.runReader(ca.handleError,fa);}return function(fa){return e$(e_(fa));};}cv.getHierarchyW=cZ.Map(cH.ofSeq,cZ.Map(function(e9){return cG.map(function(e_){return em(e_[0],e_[1]);},e9);},(el=ca.hierarchy().get_View(),cZ.Map2(function(e9,e_){return(en(e9))(e_);},ca.collapsedV().get_View(),el))));function eq(e9,e_){var e$;e$=null;return cJ.Delay(function(){return cJ.Bind(cJ.Sleep(350),function(){return cJ.Return(ca.runReader(ca.handleError,S.fastCodeRm(ca.currentSnippetIdOV().Get(),ca.codeSnippetIdOV().Get())));});});}cv.codeAndStartsW=(eo=ca.codeSnippetW(),(ep=ca.snippets().v,(((cD.Curried3(cZ.MapAsync2))(eq))(eo))(ep)));cv.FsCodeW=cZ.Map(function(e9){return e9[0];},ca.codeAndStartsW());cv.codeStartsW=cZ.Map(function(e9){return e9[1];},ca.codeAndStartsW());cv.SaveAsClassW=cZ.Map2(function(e9,e_){return cG.exists(function(e$){return e$.snpGeneration>e_;},e9)?"btn-primary":"";},ca.snippets().v,ca.generation().get_View());cv.currentPathW=cZ.Map(function(e9){var e_;return ca.runReader(function(){return"";},(e_=o.fusion(),e_.Run(e_.Delay(function(){return e_.Bind(S.pathRm(e9.snpId),function(e$){return e_.Bind(o.traverseSeq(S.snippetNameRm,new cI.T({$:1,$0:e9.snpId,$1:e$})),function(fa){return e_.Return(cF.concat("/",cG.rev(fa)));});});}))));},ca.currentSnippetW());cv.currentLayoutDW=cZ.Map(function(e9){var e_;return ca.runReader(function(){return null;},(e_=o.fusion(),e_.Run(e_.Delay(function(){function e$(fa,fb){var fc,fd,fe,ff;fc=(fd=cF.SplitChars(cF.Trim(fb[0]),["\n"],0),cF.StartsWith(cH.get(fd,0),"\"")?[cO.array(fd,{$:1,$0:1},null),cH.get(fd,0)]:[fd,"\"\""]);fe=fc[1];ff=cG.mapi(function(fg,fh){var fi;fi=cF.StartsWith(fh,":")?cO.string(fh,{$:1,$0:1},null):(function(fj){return function(fk){return fj("button \"click=${FSharpStation.ButtonClick}\" "+cE.prettyPrint(fk));};}(a.id))(fh);return(((cD.Curried3(function(fj,fk,fl){return fj("btn"+a.String(fk)+" "+cE.toSafe(fl));}))(a.id))(fg))(fi);},cG.filter(function(fg){return cF.Trim(fg)!=="";},fc[0]));return["Snp_"+cF.Replace(a.String(fa.snpId.get_Id()),"-",""),cF.concat("\n",cI.ofSeq(cG.delay(function(){return cG.append(["editorButtons vertical 0-85-100 FStationLyt.menuEditor buttons"],cG.delay(function(){return cG.append(ff,cG.delay(function(){var fg,fh;return[(fg=cF.concat(" ",(fh=cI.ofSeq(cM.range(0,cG.length(ff)-1)),cG.map(function(fi){return function(fj){return fi("btn"+a.String(fj));};}(a.id),fh))),(((cD.Curried3(function(fi,fj,fk){return fi("buttons div "+cE.toSafe(fj)+" "+cE.toSafe(fk)+" ");}))(a.id))(fe))(fg))];}));}));})))];}return e_.Bind(p.op_BarGreaterGreater(S.propertyHierORm("Buttons",e9),function(fa){var fb;return fa==null?null:{$:1,$0:(fb=fa.$0,e$(fb[0],fb[1]))};}),function(fa){function fb(fd,fe){var ff,fg,fh;ff=fe[0];return["Snp_"+cF.Replace(a.String(fd.snpId.get_Id()),"-",""),(fg=fa==null?null:{$:1,$0:(fh=fa.$0,(fh[0],cF.concat("\n",cI.ofArray([ff,fh[1]]))))},fg==null?ff:fg.$0)];}function fc(){return fa;}return e_.ReturnFrom(p.op_BarGreaterGreater(p.op_BarGreaterGreater(S.propertyHierORm("Layout",e9),function(fd){var fe;return fd==null?null:{$:1,$0:(fe=fd.$0,fb(fe[0],fe[1]))};}),function(fd){return h.bindNone(fc,fd);}));});}))));},ca.currentSnippetW());cv.currentLayoutJSDW=cZ.Map(function(e9){function e_(e$,fa){return[e$.snpId,fa[0]];}return ca.runReader(function(){return null;},p.op_BarGreaterGreater(S.propertyHierORm("LayoutJS",e9),function(e$){var fa;return e$==null?null:{$:1,$0:(fa=e$.$0,e_(fa[0],fa[1]))};}));},ca.currentSnippetW());cv.drag=cc.DragNone;cv.rootdir="..\\website";cv.TemplatesFileName="..\\website"+"\\Templates.html";((function(e9){return function(e_){return e9(cE.toSafe(e_));};}(function(e9){cX.log(e9);}))("..\\website\\Templates.html"));cv.startsV=c0.Create$1([]);cv.defaultStart=(er=[[P.get_Empty(),""],[0,1,0]],function(e9){return e9==null?er:e9.$0;});cv.fileName="none.fsx";cv.editorConfigO=null;cZ.Sink(function(e9){var e_,e$;try{e_=(e$=cg.editorConfigO(),e$==null?null:e$.$0.editorO);(h.iter(function(fa){fa.setModel(cg.getSnippetModel(e9));b$.annotationsV().Set(b$.annotationsV().Get());}))(e_);}catch(fa){null;}},ca.CurrentSnippetIdW());cv.rexGuid$1="\\((\\d+)\\,\\s*(\\d+)\\) - \\((\\d+)\\,\\s*(\\d+)\\).*([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";function eu(e9){return e9.$0;}function ev(e9){return new P({$:0,$0:e9});}cv.serSnippetId=(es=cH.head(cF.SplitChars((function(e9){return function(e_){return e9(cy.p(e_));};}(a.id))(ev("00000000-0000-0000-0000-000000000000")),[" "],0)),(et=(function(e9){return function(e_){return e9(cE.prettyPrint(e_));};}(a.id))(es),[function(e9){var e_;e_=eu(e9);return(((cD.Curried3(function(e$,fa,fb){return e$("{"+cF.PadLeft(cE.toSafe(fa),10)+" :"+cE.prettyPrint(fb)+"}");}))(a.id))(et))(e_);},function(e9){var e_;return ev((e_=e9[es],(Z.deserGuid())(e_)));}]));cv.serSnippet=(ew=[(ex=co.serSnippetId(),Z.serField("snpId",function(e9){return e9.snpId;},function(e9,e_){return Q.New(e9,e_.snpName,e_.snpContent,e_.snpParentIdO,e_.snpPredIds,e_.snpProperties,e_.snpGeneration);},ex[0],ex[1])),(ey=Z.serString(),Z.serField("snpName",function(e9){return e9.snpName;},function(e9,e_){return Q.New(e_.snpId,e9,e_.snpContent,e_.snpParentIdO,e_.snpPredIds,e_.snpProperties,e_.snpGeneration);},ey[0],ey[1])),(ez=Z.serString(),Z.serField("snpContent",function(e9){return e9.snpContent;},function(e9,e_){return Q.New(e_.snpId,e_.snpName,e9,e_.snpParentIdO,e_.snpPredIds,e_.snpProperties,e_.snpGeneration);},ez[0],ez[1])),(eA=(eB=co.serSnippetId(),Z.serOpt(eB[0],eB[1])),Z.serField("snpParentIdO",function(e9){return e9.snpParentIdO;},function(e9,e_){return Q.New(e_.snpId,e_.snpName,e_.snpContent,e9,e_.snpPredIds,e_.snpProperties,e_.snpGeneration);},eA[0],eA[1])),(eC=(eD=co.serSnippetId(),Z.serSet(eD[0],eD[1])),Z.serField("snpPredIds",function(e9){return e9.snpPredIds;},function(e9,e_){return Q.New(e_.snpId,e_.snpName,e_.snpContent,e_.snpParentIdO,e9,e_.snpProperties,e_.snpGeneration);},eC[0],eC[1])),(eE=(eF=(eG=Z.serString(),Z.serDup((Z.serString())[0],(Z.serString())[1],eG[0],eG[1])),Z.serArr(eF[0],eF[1])),Z.serField("snpProperties",function(e9){return e9.snpProperties;},function(e9,e_){return Q.New(e_.snpId,e_.snpName,e_.snpContent,e_.snpParentIdO,e_.snpPredIds,e9,e_.snpGeneration);},eE[0],eE[1])),(eH=Z.serInt(),Z.serField("snpGeneration",function(e9){return e9.snpGeneration;},function(e9,e_){return Q.New(e_.snpId,e_.snpName,e_.snpContent,e_.snpParentIdO,e_.snpPredIds,e_.snpProperties,e9);},eH[0],eH[1]))],(eI=S.New("","",null),[function(e9){var e_;function e$(fa,fb,fc){return(((cD.Curried3(function(fd,fe,ff){return fd(cE.prettyPrint(fe)+": "+cE.toSafe(ff));}))(a.id))(fa))(fb(e9));}e_=cF.concat(", ",cG.map(function(fa){return e$(fa[0],fa[1],fa[2]);},ew));return(function(fa){return function(fb){return fa("{"+cE.toSafe(fb)+"}");};}(a.id))(e_);},function(e9){return!e9?eI:cG.fold(function(e_,e$){return(e$[2](e_))(e9[e$[0]]);},eI,ew);}]));cv.serModel=(eJ=[(eK=(eL=co.serSnippet(),Z.serArr(eL[0],eL[1])),Z.serField("snippets",function(e9){return e9.snippets;},function(e9,e_){return cp.New(e9,e_.generation,e_.collapsed);},eK[0],eK[1])),(eM=Z.serInt(),Z.serField("generation",function(e9){return e9.generation;},function(e9,e_){return cp.New(e_.snippets,e9,e_.collapsed);},eM[0],eM[1])),(eN=(eO=co.serSnippetId(),Z.serSet(eO[0],eO[1])),Z.serField("collapsed",function(e9){return e9.collapsed;},function(e9,e_){return cp.New(e_.snippets,e_.generation,e9);},eN[0],eN[1]))],(eP=cp.New([],0,new cU.New$1(null)),[function(e9){var e_;function e$(fa,fb,fc){return(((cD.Curried3(function(fd,fe,ff){return fd(cE.prettyPrint(fe)+": "+cE.toSafe(ff));}))(a.id))(fa))(fb(e9));}e_=cF.concat(", ",cG.map(function(fa){return e$(fa[0],fa[1],fa[2]);},eJ));return(function(fa){return function(fb){return fa("{"+cE.toSafe(fb)+"}");};}(a.id))(e_);},function(e9){return!e9?eP:cG.fold(function(e_,e$){return(e$[2](e_))(e9[e$[0]]);},eP,eJ);}]));cv.fileName$1=c0.Create$1("");cv.serSnippetId2=[function(e9){return(function(e_){return function(e$){return e_(cE.prettyPrint(e$));};}(a.id))(e9);},function(e9){var e_;return new P({$:0,$0:(e_=e9.Item,(Z.deserGuid())(e_))});}];cv.serSnippet2=(eQ=[(eR=cr.serSnippetId2(),Z.serField("id",function(e9){return e9.snpId;},function(e9,e_){return Q.New(cN.Equals(e9,P.get_Empty())?new P({$:0,$0:cS.NewGuid()}):e9,e_.snpName,e_.snpContent,e_.snpParentIdO,e_.snpPredIds,e_.snpProperties,e_.snpGeneration);},eR[0],eR[1])),(eS=Z.serString(),Z.serField("name",function(e9){return e9.snpName;},function(e9,e_){return Q.New(e_.snpId,e9,e_.snpContent,e_.snpParentIdO,e_.snpPredIds,e_.snpProperties,e_.snpGeneration);},eS[0],eS[1])),(eT=Z.serString(),Z.serField("content",function(e9){return e9.snpContent;},function(e9,e_){return Q.New(e_.snpId,e_.snpName,e9,e_.snpParentIdO,e_.snpPredIds,e_.snpProperties,e_.snpGeneration);},eT[0],eT[1])),(eU=(eV=cr.serSnippetId2(),Z.serOpt(eV[0],eV[1])),Z.serField("parent",function(e9){return e9.snpParentIdO;},function(e9,e_){return Q.New(e_.snpId,e_.snpName,e_.snpContent,cN.Equals(e9,{$:1,$0:P.get_Empty()})?null:e9,e_.snpPredIds,e_.snpProperties,e_.snpGeneration);},eU[0],eU[1])),(eW=(eX=cr.serSnippetId2(),Z.serArr(eX[0],eX[1])),Z.serField("predecessors",function(e9){return cH.ofSeq(e9.snpPredIds);},function(e9,e_){return Q.New(e_.snpId,e_.snpName,e_.snpContent,e_.snpParentIdO,new cU.New(e9),e_.snpProperties,e_.snpGeneration);},eW[0],eW[1]))],(eY=S.New("","",null),[function(e9){var e_;function e$(fa,fb,fc){return(((cD.Curried3(function(fd,fe,ff){return fd(cE.prettyPrint(fe)+": "+cE.toSafe(ff));}))(a.id))(fa))(fb(e9));}e_=cF.concat(", ",cG.map(function(fa){return e$(fa[0],fa[1],fa[2]);},eQ));return(function(fa){return function(fb){return fa("{"+cE.toSafe(fb)+"}");};}(a.id))(e_);},function(e9){return!e9?eY:cG.fold(function(e_,e$){return(e$[2](e_))(e9[e$[0]]);},eY,eQ);}]));cv.serSnippets=(eZ=cr.serSnippet2(),Z.serArr(eZ[0],eZ[1]));cv.endPointV=c0.Create$1(ct.NoSnippet);function e3(e9){var e_;return e9.$==0?Y.rtn({$:1,$0:new P({$:0,$0:e9.$0})}):e9.$==1?(e_=e9.$0,cZ.Map(function(e$){function fa(fb){return fb.snpId;}return e$===cF.concat("/",e_)?ca.currentSnippetIdOV().Get():ca.runReader(ca.handleError,o.map(function(fb){return fb==null?null:{$:1,$0:fa(fb.$0)};},S.snippetFromPathORm(e_)));},ca.currentPathW())):Y.rtn(null);}function e4(e9){if(!cN.Equals(ca.currentSnippetIdOV().Get(),e9))ca.currentSnippetIdOV().Set(e9);}function e5(e9){var e_;return e9!=null&&e9.$==1?(e_=e9.$0.$0,cZ.Map(function(e$){return cN.Equals({$:1,$0:cF.SplitChars(e$,["/"],0)},cs.endPointV().Get())?cs.endPointV().Get():{$:0,$0:e_};},ca.currentPathW())):Y.rtn(ct.NoSnippet);}function e6(e9){if(!cN.Equals(cs.endPointV().Get(),e9))cs.endPointV().Set(e9);}e0=cz.r();dF.InstallHashInto(cs.endPointV(),ct.NoSnippet,e0);cZ.Sink((e1=function(e9){cZ.Get(e4,e9);},function(e9){return e1(e3(e9));}),cs.endPointV().get_View());cZ.Sink((e2=function(e9){cZ.Get(e6,e9);},function(e9){return e2(e5(e9));}),ca.currentSnippetIdOV().get_View());cv.FStationLyt="FStationLyt";e7=ca.codeAndStartsW();cZ.Sink(c.delayed(300,function(e9){cg.parse(e9[0],e9[1]);}),e7);cZ.Sink(function(e9){self.onbeforeunload=e9!==""?function(e_){e_.returnValue="Changes you made may not be saved.";}:null;},ca.SaveAsClassW());cv.wsStationClient=new bA.New(b$.id(),null,null);cJ.Start((e8=null,cJ.Delay(function(){return cJ.Bind(cJ.Sleep(1000),function(){return cJ.While(function(){return true;},cJ.Delay(function(){return cJ.TryWith(cJ.Delay(function(){var e9,e_,e$,fa,fb,fc;function fd(fh){return(cx.j$4())(db.parse(fh));}function fe(fh){return db.stringify((cw.j$4())(fh));}function ff(fh){return cJ.Return(fh);}function fg(fh){cM.FailWith(fh);}e9=cu.wsStationClient();e9.payloadProcessorO={$:1,$0:(e_=function(fh){return cu.processMessage(fd(fh));},(e$=(fa=function(fh){return ff(fe(fh));},function(fh){return cJ.Bind(fh,fa);}),function(fh){return e$(e_(fh));}))};w.iterA(function(fh){return fg(a.String(fh));},a.ignore,e9.sendAndForget(bo.msgType(br.MsgInformation,(fb=bo.MessageBrokerAddress(),(fc=db.stringify(((de.Id())())("Registering Processor")),bu.New(new bp({$:0,$0:""}),fb,br.MsgRequest,"",cS.NewGuid(),fc,bt.NoReply))))));return cJ.Bind(cJ.Sleep(60000),function(){return cJ.Return(null);});}),function(e9){((function(e_){return function(e$){return e_(cE.toSafe(e$));};}(function(e_){cX.log(e_);}))(e9.message));return cJ.Bind(cJ.Sleep(1000),function(){return cJ.Return(null);});});}));});})),null);};cw.j$6=function(){return cw._v$6?cw._v$6:cw._v$6=(de.EncodeUnion(void 0,"$",[[0,[["$0","Item",de.Id(),0]]],[1,[["$0","Item",de.EncodeArray(cw.j$7),0]]]]))();};cx.j$6=function(){return cx._v$6?cx._v$6:cx._v$6=(de.DecodeUnion(P,"$",[[0,[["$0","Item",de.Id(),0]]]]))();};cx.j$5=function(){return cx._v$5?cx._v$5:cx._v$5=(de.DecodeUnion(void 0,"$",[[0,[["$0","Item",cx.j$6,0]]],[1,[["$0","Item",de.DecodeArray(de.Id()),0]]]]))();};cw.j$4=function(){return cw._v$4?cw._v$4:cw._v$4=(de.EncodeUnion(void 0,"$",[[0,[["$0","ResultValue",cw.j$6,0]]],[1,[["$0","ErrorValue",cw.j$5,0]]]]))();};cy.p=function(dJ){return"SnippetId "+cE.prettyPrint(dJ.$0);};cz.r=function(){return dH.JSUnion(void 0,[[null,[[null,["Snippet"]]],[dH.rGuid()]],[null,[[null,["Path"]]],[dH.rWildcardArray(dH.rString())]],[null,[[null,[]]],[]]]);};cw.j$5=function(){return cw._v$5?cw._v$5:cw._v$5=(de.EncodeUnion(d,"$",[[0,[]],[1,[["$0","Item",de.Id(),0]]],[2,[["$0","Item",de.Id(),0]]],[3,[["$0","Item",de.Id(),0]]],[4,[["$0","Item",de.Id(),0]]],[5,[["$0","Item1",de.Id(),0],["$1","Item2",de.Id(),0]]],[6,[["$0","Item",de.EncodeArray(cw.j$5),0]]]]))();};cw.j$7=function(){return cw._v$7?cw._v$7:cw._v$7=(de.EncodeRecord(void 0,[["snpId",cw.j$8,0],["snpName",de.Id(),0],["snpContent",de.Id(),0],["snpParentIdO",cw.j$8,1],["snpPredIds",de.EncodeSet(cw.j$8),0],["snpProperties",de.EncodeArray(de.EncodeTuple([de.Id(),de.Id()])),0],["snpGeneration",de.Id(),0]]))();};cw.j$8=function(){return cw._v$8?cw._v$8:cw._v$8=(de.EncodeUnion(P,"$",[[0,[["$0","Item",de.Id(),0]]]]))();};cA.snippetlist=function(dJ){c9.LoadLocalTemplates("templates");return dJ?c9.NamedTemplate("templates",{$:1,$0:"snippetlist"},dJ):void 0;};cA.snippet=function(dJ){c9.LoadLocalTemplates("templates");return dJ?c9.NamedTemplate("templates",{$:1,$0:"snippet"},dJ):void 0;};cA.propertytable=function(dJ){c9.LoadLocalTemplates("templates");return dJ?c9.NamedTemplate("templates",{$:1,$0:"propertytable"},dJ):void 0;};cA.property=function(dJ){c9.LoadLocalTemplates("templates");return dJ?c9.NamedTemplate("templates",{$:1,$0:"property"},dJ):void 0;};cA.layout=function(dJ){dI.fixedsplitterhor();dI.fixedsplitterver();c9.LoadLocalTemplates("templates");return dJ?c9.NamedTemplate("templates",{$:1,$0:"layout"},dJ):void 0;};cA.buttonsright=function(dJ){c9.LoadLocalTemplates("templates");return dJ?c9.NamedTemplate("templates",{$:1,$0:"buttonsright"},dJ):void 0;};cy.p$1=function(dJ){return dJ.$==6?"RMessages "+cE.printArray(function(dK){return cy.p$1(dK);},dJ.$0):dJ.$==5?"ExceptMsg ("+cE.prettyPrint(dJ.$0)+", "+cE.prettyPrint(dJ.$1)+")":dJ.$==4?"Message "+cE.prettyPrint(dJ.$0):dJ.$==3?"Info "+cE.prettyPrint(dJ.$0):dJ.$==2?"Warning "+cE.prettyPrint(dJ.$0):dJ.$==1?"ErrorMsg "+cE.prettyPrint(dJ.$0):"NoMsg";};cy.p$3=function(dJ){return dJ.$==5?"MsgGetUrl":dJ.$==4?"MsgAction "+cE.printArray(cE.prettyPrint,dJ.$0):dJ.$==3?"MsgGetPredecessors "+cy.p$2(dJ.$0):dJ.$==2?"MsgGetCode "+cy.p$2(dJ.$0):dJ.$==1?"MsgGetSnippets "+cE.printArray(function(dK){return cy.p$2(dK);},dJ.$0):"MsgGetId";};cy.p$2=function(dJ){return dJ.$==1?"RefSnippetPath "+cE.printArray(cE.prettyPrint,dJ.$0):"RefSnippetId "+cy.p(dJ.$0);};cw.j$9=function(){return cw._v$9?cw._v$9:cw._v$9=(de.EncodeUnion(void 0,"type",[["BRGetConnections",[]],["BRGetProcessId",[]]]))();};cy.p$4=function(dJ){return dJ.$==2?"BRString "+cE.prettyPrint(dJ.$0):dJ.$==1?"BRPid "+cE.prettyPrint(dJ.$0):"BRConnections "+cE.printArray(cE.prettyPrint,dJ.$0);};cx.j$7=function(){return cx._v$7?cx._v$7:cx._v$7=(de.DecodeUnion(void 0,"type",[["BRConnections",[["$0","Item",de.DecodeArray(de.Id()),0]]],["BRPid",[["$0","Item",de.Id(),0]]],["BRString",[["$0","Item",de.Id(),0]]]]))();};cx.j$8=function(){return cx._v$8?cx._v$8:cx._v$8=(de.DecodeUnion(void 0,"type",[["BMOk",[]],["BMOnlyBrokerShouldUse",[]],["BMDestinationNotFound",[["$0","Item",cx.j$1,0]]],["BMWebSocketError",[["$0","Item",de.Id(),0]]],["BMReceiverCantReply",[]],["BMUnexpectedMsgType",[["$0","Item",cx.j$2,0]]],["BMUnexpectedResponse",[["$0","Item",de.Id(),0]]]]))();};cy.p$7=function(dJ){return dJ.$==2?"Receiver":dJ.$==1?"Broker":"NoReply";};cy.p$6=function(dJ){return dJ.$==5?"MsgRequestForEcho":dJ.$==4?"MsgRequestForId":dJ.$==3?"MsgFromBroker":dJ.$==2?"MsgReply":dJ.$==1?"MsgRequest":"MsgInformation";};cB.p=function(dJ){return"{"+("from = "+cy.p$5(dJ.from))+"; "+("destination = "+cy.p$5(dJ.destination))+"; "+("msgType = "+cy.p$6(dJ.msgType))+"; "+("subtype = "+cE.prettyPrint(dJ.subtype))+"; "+("id = "+cE.prettyPrint(dJ.id))+"; "+("payload = "+cE.prettyPrint(dJ.payload))+"; "+("replier = "+cy.p$7(dJ.replier))+"}";};cy.p$5=function(dJ){return"Address "+cE.prettyPrint(dJ.$0);};cy.p$8=function(dJ){return dJ.$==3?"Close":dJ.$==2?"Open":dJ.$==1?"Error":"Message "+cB.p(dJ.$0);};cy.p$9=function(dJ){return dJ.$==6?"RMessages "+cE.printArray(function(dK){return cy.p$9(dK);},dJ.$0):dJ.$==5?"ExceptMsg ("+cE.prettyPrint(dJ.$0)+", "+cE.prettyPrint(dJ.$1)+")":dJ.$==4?"Message "+cE.printArray(function(dK){return cy.p$10(dK);},dJ.$0):dJ.$==3?"Info "+cE.prettyPrint(dJ.$0):dJ.$==2?"Warning "+cE.prettyPrint(dJ.$0):dJ.$==1?"ErrorMsg "+cE.prettyPrint(dJ.$0):"NoMsg";};cy.p$10=function(dJ){return dJ.$==17?"KMultiple "+cE.printArray(function(dK){return cy.p$10(dK);},dJ.$0):dJ.$==16?"KUnionCase "+cB.p$22(dJ.$0):dJ.$==15?"KNamespaces "+cB.p$19(dJ.$0):dJ.$==14?"KCompilerLocation "+cB.p$18(dJ.$0):dJ.$==13?"KSignatureData "+cB.p$16(dJ.$0):dJ.$==12?"KTypeSig "+cE.prettyPrint(dJ.$0):dJ.$==11?"KToolTip "+cE.printArray(function(dK){return cE.printArray(function(dL){return cB.p$3(dL);},dK);},dJ.$0):dJ.$==10?"KDeclarations "+cE.printArray(function(dK){return cB.p$14(dK);},dJ.$0):dJ.$==9?"KFindDecl "+cB.p$13(dJ.$0):dJ.$==8?"KColorizations "+cE.printList(function(dK){return cB.p$12(dK);},dJ.$0):dJ.$==7?"KErrors "+cB.p$10(dJ.$0):dJ.$==6?"KMethod "+cB.p$7(dJ.$0):dJ.$==5?"KHelp "+cE.prettyPrint(dJ.$0):dJ.$==4?"KSymbolUse "+cB.p$5(dJ.$0):dJ.$==3?"KCompletion "+cE.printArray(function(dK){return cB.p$4(dK);},dJ.$0):dJ.$==2?"KHelpText "+cB.p$2(dJ.$0):dJ.$==1?"KError "+cB.p$1(dJ.$0):"KInfo "+cE.prettyPrint(dJ.$0);};cB.p$22=function(dJ){return"{"+("Text = "+cE.prettyPrint(dJ.Text))+"}";};cB.p$21=function(dJ){return"{"+("Name = "+cE.prettyPrint(dJ.Name))+"; "+("Qualifier = "+cE.prettyPrint(dJ.Qualifier))+"}";};cB.p$20=function(dJ){return"{"+("Namespace = "+cE.prettyPrint(dJ.Namespace))+"; "+("Name = "+cE.prettyPrint(dJ.Name))+"; "+("Type = "+cE.prettyPrint(dJ.Type))+"; "+("Line = "+cE.prettyPrint(dJ.Line))+"; "+("Column = "+cE.prettyPrint(dJ.Column))+"; "+("MultipleNames = "+cE.prettyPrint(dJ.MultipleNames))+"}";};cB.p$18=function(dJ){return"{"+("Fsc = "+cE.prettyPrint(dJ.Fsc))+"; "+("Fsi = "+cE.prettyPrint(dJ.Fsi))+"; "+("MSBuild = "+cE.prettyPrint(dJ.MSBuild))+"}";};cB.p$16=function(dJ){return"{"+("OutputType = "+cE.prettyPrint(dJ.OutputType))+"; "+("Parameters = "+cE.printList(function(dK){return cE.printList(function(dL){return cB.p$17(dL);},dK);},dJ.Parameters))+"}";};cB.p$19=function(dJ){return"{"+("Opens = "+cE.printArray(function(dK){return cB.p$20(dK);},dJ.Opens))+"; "+("Qualifies = "+cE.printArray(function(dK){return cB.p$21(dK);},dJ.Qualifies))+"; "+("Word = "+cE.prettyPrint(dJ.Word))+"}";};cB.p$17=function(dJ){return"{"+("Name = "+cE.prettyPrint(dJ.Name))+"; "+("Type = "+cE.prettyPrint(dJ.Type))+"}";};cB.p$14=function(dJ){return"{"+("Declaration = "+cB.p$15(dJ.Declaration))+"; "+("Nested = "+cE.printArray(function(dK){return cB.p$15(dK);},dJ.Nested))+"}";};cB.p$13=function(dJ){return"{"+("File = "+cE.prettyPrint(dJ.File))+"; "+("Line = "+cE.prettyPrint(dJ.Line))+"; "+("Column = "+cE.prettyPrint(dJ.Column))+"}";};cB.p$15=function(dJ){return"{"+("UniqueName = "+cE.prettyPrint(dJ.UniqueName))+"; "+("Name = "+cE.prettyPrint(dJ.Name))+"; "+("Glyph = "+cE.prettyPrint(dJ.Glyph))+"; "+("GlyphChar = "+cE.prettyPrint(dJ.GlyphChar))+"; "+("IsTopLevel = "+cE.prettyPrint(dJ.IsTopLevel))+"; "+("File = "+cE.prettyPrint(dJ.File))+"; "+("EnclosingEntity = "+cE.prettyPrint(dJ.EnclosingEntity))+"; "+("IsAbstract = "+cE.prettyPrint(dJ.IsAbstract))+"}";};cB.p$12=function(dJ){return"{"+("Kind = "+cE.prettyPrint(dJ.Kind))+"}";};cB.p$10=function(dJ){return"{"+("File = "+cE.prettyPrint(dJ.File))+"; "+("Errors = "+cE.printArray(function(dK){return cB.p$11(dK);},dJ.Errors))+"}";};cB.p$11=function(dJ){return"{"+("FileName = "+cE.prettyPrint(dJ.FileName))+"; "+("StartLine = "+cE.prettyPrint(dJ.StartLine))+"; "+("EndLine = "+cE.prettyPrint(dJ.EndLine))+"; "+("StartColumn = "+cE.prettyPrint(dJ.StartColumn))+"; "+("EndColumn = "+cE.prettyPrint(dJ.EndColumn))+"; "+("Severity = "+cE.prettyPrint(dJ.Severity))+"; "+("Message = "+cE.prettyPrint(dJ.Message))+"; "+("Subcategory = "+cE.prettyPrint(dJ.Subcategory))+"}";};cB.p$7=function(dJ){return"{"+("Name = "+cE.prettyPrint(dJ.Name))+"; "+("CurrentParameter = "+cE.prettyPrint(dJ.CurrentParameter))+"; "+("Overloads = "+cE.printList(function(dK){return cB.p$8(dK);},dJ.Overloads))+"}";};cB.p$8=function(dJ){return"{"+("Tip = "+cE.printList(function(dK){return cE.printList(function(dL){return cB.p$3(dL);},dK);},dJ.Tip))+"; "+("TypeText = "+cE.prettyPrint(dJ.TypeText))+"; "+("Parameters = "+cE.printList(function(dK){return cB.p$9(dK);},dJ.Parameters))+"; "+("IsStaticArguments = "+cE.prettyPrint(dJ.IsStaticArguments))+"}";};cB.p$9=function(dJ){return"{"+("Name = "+cE.prettyPrint(dJ.Name))+"; "+("CanonicalTypeTextForSorting = "+cE.prettyPrint(dJ.CanonicalTypeTextForSorting))+"; "+("Display = "+cE.prettyPrint(dJ.Display))+"; "+("Description = "+cE.prettyPrint(dJ.Description))+"}";};cB.p$5=function(dJ){return"{"+("Name = "+cE.prettyPrint(dJ.Name))+"; "+("Uses = "+cE.printList(function(dK){return cB.p$6(dK);},dJ.Uses))+"}";};cB.p$6=function(dJ){return"{"+("FileName = "+cE.prettyPrint(dJ.FileName))+"; "+("StartLine = "+cE.prettyPrint(dJ.StartLine))+"; "+("StartColumn = "+cE.prettyPrint(dJ.StartColumn))+"; "+("EndLine = "+cE.prettyPrint(dJ.EndLine))+"; "+("EndColumn = "+cE.prettyPrint(dJ.EndColumn))+"; "+("IsFromDefinition = "+cE.prettyPrint(dJ.IsFromDefinition))+"; "+("IsFromAttribute = "+cE.prettyPrint(dJ.IsFromAttribute))+"; "+("IsFromComputationExpression = "+cE.prettyPrint(dJ.IsFromComputationExpression))+"; "+("IsFromDispatchSlotImplementation = "+cE.prettyPrint(dJ.IsFromDispatchSlotImplementation))+"; "+("IsFromPattern = "+cE.prettyPrint(dJ.IsFromPattern))+"; "+("IsFromType = "+cE.prettyPrint(dJ.IsFromType))+"}";};cB.p$4=function(dJ){return"{"+("Name = "+cE.prettyPrint(dJ.Name))+"; "+("ReplacementText = "+cE.prettyPrint(dJ.ReplacementText))+"; "+("Glyph = "+cE.prettyPrint(dJ.Glyph))+"; "+("GlyphChar = "+cE.prettyPrint(dJ.GlyphChar))+"}";};cB.p$2=function(dJ){return"{"+("Name = "+cE.prettyPrint(dJ.Name))+"; "+("Overloads = "+cE.printList(function(dK){return cE.printList(function(dL){return cB.p$3(dL);},dK);},dJ.Overloads))+"}";};cB.p$3=function(dJ){return"{"+("Signature = "+cE.prettyPrint(dJ.Signature))+"; "+("Comment = "+cE.prettyPrint(dJ.Comment))+"; "+("Footer = "+cE.prettyPrint(dJ.Footer))+"}";};cB.p$1=function(dJ){return"{"+("Code = "+cE.prettyPrint(dJ.Code))+"; "+("Message = "+cE.prettyPrint(dJ.Message))+"}";};cw.j$1=function(){return cw._v$1?cw._v$1:cw._v$1=(de.EncodeUnion(bp,"$",[[0,[["$0","address",de.Id(),0]]]]))();};cw.j$2=function(){return cw._v$2?cw._v$2:cw._v$2=(de.EncodeUnion(void 0,"type",[["MsgInformation",[]],["MsgRequest",[]],["MsgReply",[]],["MsgFromBroker",[]],["MsgRequestForId",[]],["MsgRequestForEcho",[]]]))();};cw.j$3=function(){return cw._v$3?cw._v$3:cw._v$3=(de.EncodeUnion(void 0,"type",[["NoReply",[]],["Broker",[]],["Receiver",[]]]))();};cw.j=function(){return cw._v?cw._v:cw._v=(de.EncodeRecord(void 0,[["from",cw.j$1,0],["destination",cw.j$1,0],["msgType",cw.j$2,0],["subtype",de.Id(),0],["id",de.Id(),0],["payload",de.Id(),0],["replier",cw.j$3,0]]))();};cx.j$1=function(){return cx._v$1?cx._v$1:cx._v$1=(de.DecodeUnion(bp,"$",[[0,[["$0","address",de.Id(),0]]]]))();};cx.j$2=function(){return cx._v$2?cx._v$2:cx._v$2=(de.DecodeUnion(void 0,"type",[["MsgInformation",[]],["MsgRequest",[]],["MsgReply",[]],["MsgFromBroker",[]],["MsgRequestForId",[]],["MsgRequestForEcho",[]]]))();};cx.j$3=function(){return cx._v$3?cx._v$3:cx._v$3=(de.DecodeUnion(void 0,"type",[["NoReply",[]],["Broker",[]],["Receiver",[]]]))();};cx.j=function(){return cx._v?cx._v:cx._v=(de.DecodeRecord(void 0,[["from",cx.j$1,0],["destination",cx.j$1,0],["msgType",cx.j$2,0],["subtype",de.Id(),0],["id",de.Id(),0],["payload",de.Id(),0],["replier",cx.j$3,0]]))();};cx.j$4=function(){return cx._v$4?cx._v$4:cx._v$4=(de.DecodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",de.DecodeArray(cx.j$5),0]]],[2,[["$0","Item",cx.j$5,0]]],[3,[["$0","Item",cx.j$5,0]]],[4,[["$0","Item",de.DecodeArray(de.Id()),0]]],[5,[]]]))();};}());

//# sourceMappingURL=FSharpStation.min.map