(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA;a=self;b=a.FsRoot=a.FsRoot||{};c=b.Library=b.Library||{};d=c.ResultMessage=c.ResultMessage||{};e=c.Monads=c.Monads||{};f=e.Seq=e.Seq||{};g=e.Async=e.Async||{};h=a.WebSharper;i=h&&h.Obj;j=e.Result=e.Result||{};k=j.Builder=j.Builder||{};l=j.Operators=j.Operators||{};m=e.FusionM=e.FusionM||{};n=m.Operators=m.Operators||{};o=m.Builder=m.Builder||{};p=o.Builder=o.Builder||{};q=e.FusionAsyncM=e.FusionAsyncM||{};r=q.Operators=q.Operators||{};s=q.Builder=q.Builder||{};t=s.Builder=s.Builder||{};u=e.AsyncResult=e.AsyncResult||{};v=e.AsyncResultBuilder=e.AsyncResultBuilder||{};w=e.AsyncResultBuilderP=e.AsyncResultBuilderP||{};x=e.Extensions=e.Extensions||{};y=c.String=c.String||{};z=c.ParseO=c.ParseO||{};A=c.MailboxProcessorExt=c.MailboxProcessorExt||{};B=c.Mailbox=c.Mailbox||{};C=B.StateFull=B.StateFull||{};D=c.ResourceAgentState=c.ResourceAgentState||{};E=c.ResourceAgent=c.ResourceAgent||{};F=c.AgentReaderM=c.AgentReaderM||{};G=c.CommArgRoot=c.CommArgRoot||{};H=G.CommArg=G.CommArg||{};I=G.CommArgCollection=G.CommArgCollection||{};J=G.TypedCommArg=G.TypedCommArg||{};K=G.CommArgModule=G.CommArgModule||{};L=c.FsCodeModule=c.FsCodeModule||{};M=L.PreproDirective=L.PreproDirective||{};N=c.SnippetId=c.SnippetId||{};O=c.Snippet=c.Snippet||{};P=c.SnippetCollection=c.SnippetCollection||{};Q=c.SnippetModule=c.SnippetModule||{};R=c.Hole=c.Hole||{};S=c.TreeReader=c.TreeReader||{};T=S.Node=S.Node||{};U=b.LibraryJS=b.LibraryJS||{};V=U.Promise=U.Promise||{};W=U.View=U.View||{};X=U.Serializer=U.Serializer||{};Y=U.LoadFiles=U.LoadFiles||{};Z=U.REGEX=U.REGEX||{};_0=U.Hoverable=U.Hoverable||{};_1=_0.Hoverable=_0.Hoverable||{};_2=U.ResizeObserver=U.ResizeObserver||{};_3=U.WebComponent=U.WebComponent||{};_4=_3.WcTabStrip=_3.WcTabStrip||{};_5=_4.WcTabStripT=_4.WcTabStripT||{};_6=_3.WcSplitter=_3.WcSplitter||{};_7=_6.WcSplitterT=_6.WcSplitterT||{};_8=U.Monaco=U.Monaco||{};_9=_8.Position=_8.Position||{};_=_8.Range=_8.Range||{};$=_8.Uri=_8.Uri||{};ba=_8.Location=_8.Location||{};bb=_8.FindMatch=_8.FindMatch||{};bc=_8.WordAtPosition=_8.WordAtPosition||{};bd=_8.Model=_8.Model||{};be=_8.MarkDownString=_8.MarkDownString||{};bf=_8.MarkerData=_8.MarkerData||{};bg=_8.CompletionItem=_8.CompletionItem||{};bh=_8.Hover=_8.Hover||{};bi=_8.Editor=_8.Editor||{};bj=_8.MonacoConfig=_8.MonacoConfig||{};bk=b.Library2=b.Library2||{};bl=bk.FsiAgent=bk.FsiAgent||{};bm=bk.WebSockets=bk.WebSockets||{};bn=bm.Address=bm.Address||{};bo=bm.BrokerRequest=bm.BrokerRequest||{};bp=bm.MessageType=bm.MessageType||{};bq=bm.BrokerMessage=bm.BrokerMessage||{};br=bm.Replier=bm.Replier||{};bs=bm.MessageGeneric=bm.MessageGeneric||{};bt=bm.ClientTypeFSharp=bm.ClientTypeFSharp||{};bu=bm.ClientTypeFSStation=bm.ClientTypeFSStation||{};bv=bm.ClientTypeJScript=bm.ClientTypeJScript||{};bw=bm.ReplyHandler=bm.ReplyHandler||{};bx=bw.Handler=bw.Handler||{};by=bm.WSMessagingClient=bm.WSMessagingClient||{};bz=bk.FSMessage=bk.FSMessage||{};bA=bk.FsAutoComplete=bk.FsAutoComplete||{};bB=bA.CommTypes=bA.CommTypes||{};bC=bB.ResponseError=bB.ResponseError||{};bD=bB.Location=bB.Location||{};bE=bB.CompletionResponse=bB.CompletionResponse||{};bF=bB.OverloadDescription=bB.OverloadDescription||{};bG=bB.OverloadParameter=bB.OverloadParameter||{};bH=bB.Overload=bB.Overload||{};bI=bB.Parameter=bB.Parameter||{};bJ=bB.SignatureData=bB.SignatureData||{};bK=bB.MethodResponse=bB.MethodResponse||{};bL=bB.SymbolUseRange=bB.SymbolUseRange||{};bM=bB.SymbolUseResponse=bB.SymbolUseResponse||{};bN=bB.HelpTextResponse=bB.HelpTextResponse||{};bO=bB.CompilerLocationResponse=bB.CompilerLocationResponse||{};bP=bB.FSharpErrorInfo=bB.FSharpErrorInfo||{};bQ=bB.ErrorResponse=bB.ErrorResponse||{};bR=bB.Colorization=bB.Colorization||{};bS=bB.Declaration=bB.Declaration||{};bT=bB.DeclarationResponse=bB.DeclarationResponse||{};bU=bB.OpenNamespace=bB.OpenNamespace||{};bV=bB.QualifySymbol=bB.QualifySymbol||{};bW=bB.ResolveNamespaceResponse=bB.ResolveNamespaceResponse||{};bX=bB.UnionCaseResponse=bB.UnionCaseResponse||{};bY=bA.MsgTypes=bA.MsgTypes||{};bZ=bY.ParseRequest=bY.ParseRequest||{};b0=bY.DeclarationsRequest=bY.DeclarationsRequest||{};b1=bY.CompletionRequest=bY.CompletionRequest||{};b2=bY.PositionRequest=bY.PositionRequest||{};b3=bY.ProjectRequest=bY.ProjectRequest||{};b4=bY.LintRequest=bY.LintRequest||{};b5=bY.HelptextRequest=bY.HelptextRequest||{};b6=bY.WorkspacePeekRequest=bY.WorkspacePeekRequest||{};b7=bA.Calls=bA.Calls||{};b8=b.FSharpStation=b.FSharpStation||{};b9=b8.FStation=b8.FStation||{};b_=b8.Snippets=b8.Snippets||{};b$=b8.DragDrop=b8.DragDrop||{};ca=b$.DragInfo=b$.DragInfo||{};cb=b8.Templating=b8.Templating||{};cc=b8.RenderSnippets=b8.RenderSnippets||{};cd=b8.RenderProperties=b8.RenderProperties||{};ce=b8.Monaco=b8.Monaco||{};cf=ce.HoverProvider=ce.HoverProvider||{};cg=ce.CompletionItemProvider=ce.CompletionItemProvider||{};ch=ce.DefinitionProvider=ce.DefinitionProvider||{};ci=ce.MonacoOptions=ce.MonacoOptions||{};cj=ce.ITextModelService=ce.ITextModelService||{};ck=b8.JumpTo=b8.JumpTo||{};cl=b8.Serializer=b8.Serializer||{};cm=cl.Model=cl.Model||{};cn=b8.LoadSave=b8.LoadSave||{};co=b8.Importer=b8.Importer||{};cp=b8.MainProgram=b8.MainProgram||{};cq=b8.Messaging=b8.Messaging||{};cr=a.StartupCode$FSharpStation$FSharpStation=a.StartupCode$FSharpStation$FSharpStation||{};cs=a.FSharpStation_JsonEncoder=a.FSharpStation_JsonEncoder||{};ct=a.FSharpStation_JsonDecoder=a.FSharpStation_JsonDecoder||{};cu=a.FSharpStation_GeneratedPrintf=a.FSharpStation_GeneratedPrintf||{};cv=a.FSharpStation_Templates=a.FSharpStation_Templates||{};cw=a.GeneratedPrintf=a.GeneratedPrintf||{};cx=a.IntelliFactory;cy=cx&&cx.Runtime;cz=h&&h.Utils;cA=h&&h.Strings;cB=h&&h.Seq;cC=h&&h.Arrays;cD=h&&h.Concurrency;cE=h&&h.List;cF=h&&h.Enumerator;cG=h&&h.Result;cH=h&&h.Operators;cI=h&&h.Slice;cJ=h&&h.Control;cK=cJ&&cJ.MailboxProcessor;cL=h&&h.Unchecked;cM=a.System;cN=cM&&cM.Guid;cO=h&&h.Collections;cP=cO&&cO.FSharpSet;cQ=h&&h.Option;cR=h&&h.CancellationTokenSource;cS=a.console;cT=h&&h.UI;cU=cT&&cT.View;cV=cT&&cT.Var$1;cW=cO&&cO.FSharpMap;cX=cO&&cO.BalancedTree;cY=cT&&cT.DomUtility;cZ=cT&&cT.Doc;c0=cT&&cT.AttrModule;c1=cT&&cT.AttrProxy;c2=a.Node;c3=cT&&cT.Client;c4=c3&&c3.Templates;c5=a.Reflect;c6=a.Object;c7=cO&&cO.Map;c8=a.JSON;c9=h&&h.TimeoutException;c_=h&&h.ClientSideJson;c$=c_&&c_.Provider;da=h&&h.Owin;db=da&&da.WebSocket;dc=db&&db.Client;dd=dc&&dc.WithEncoding;de=db&&db.Endpoint;df=a.location;dg=h&&h.Remoting;dh=dg&&dg.AjaxRemotingProvider;di=cT&&cT.FromView;dj=cT&&cT.Templating;dk=dj&&dj.Runtime;dl=dk&&dk.Server;dm=dl&&dl.ProviderBuilder;dn=dl&&dl.Handler;_do=dl&&dl.TemplateInstance;dp=h&&h.JavaScript;dq=dp&&dp.Promise;dr=U&&U.AppFramework;ds=dr&&dr.PlugIn;dt=h&&h.Lazy;du=U&&U.LayoutEngineModule;dv=h&&h.DateUtil;dw=h&&h.Numeric;dx=a.Date;dy=cT&&cT.ListModel;dz=cO&&cO.Dictionary;dA=a.LayoutEngine_Templates;d=c.ResultMessage=cy.Class({toString:function(){return this.$==1?(function(dB){return function(dC){return dB("Error    : "+cz.toSafe(dC));};}(a.id))(this.$0):this.$==2?(function(dB){return function(dC){return dB("Warning  : "+cz.toSafe(dC));};}(a.id))(this.$0):this.$==3?this.$0:this.$==4?(function(dB){return function(dC){return dB(a.String(dC));};}(a.id))(this.$0):this.$==5?(((cy.Curried3(function(dB,dC,dD){return dB("Exception: "+cz.toSafe(dC)+", "+cz.toSafe(dD));}))(a.id))(this.$0))(this.$1):this.$==6?cA.concat("\n",cB.map(a.String,cB.filter(function(dB){return dB.$!=0;},this.$0))):"";}},null,d);d.NoMsg=new d({$:0});d.summarizedI=function(dB){return d.summarizedF(function(){return[0,0,1];},dB);};d.summarizedW=function(dB){return d.summarizedF(function(){return[0,1,0];},dB);};d.summarized=function(dB){return d.summarizedF(function(){return[1,0,0];},dB);};d.summarizedF=function(dB,dC){return d.summaryF(dB,dC)+a.String(dC);};d.summaryF=function(dB,dC){var dD,dE;dE=d.countF(dB,dC);switch(dE[0]===0?dE[1]===0?0:dE[1]===1?dE[2]===0?0:(dD=dE[1],2):(dD=dE[1],2):dE[0]===1?dE[1]===0?dE[2]===0?0:(dD=dE[0],1):(dD=[dE[0],dE[1]],3):dE[1]===0?(dD=dE[0],1):(dD=[dE[0],dE[1]],3)){case 0:return"";case 1:return(function(dF){return function(dG){return dF("Errors   : "+a.String(dG)+"\n");};}(a.id))(dD);case 2:return(function(dF){return function(dG){return dF("Warnings : "+a.String(dG)+"\n");};}(a.id))(dD);case 3:return(((cy.Curried3(function(dF,dG,dH){return dF("Errors   : "+a.String(dG)+", Warnings: "+a.String(dH)+"\n");}))(a.id))(dD[0]))(dD[1]);}};d.reduceMsgs=function(dB){return cB.fold(d.addMsg,d.NoMsg,dB);};d.addMsg=function(dB,dC){return dB.$==0?dC:dB.$==6?dC.$==0?dB:dC.$==6?new d({$:6,$0:dB.$0.concat(dC.$0)}):new d({$:6,$0:dB.$0.concat([dC])}):dC.$==0?dB:dC.$==6?new d({$:6,$0:[dB].concat(dC.$0)}):new d({$:6,$0:[dB,dC]});};d.countI=function(dB){return d.countF(function(){return[0,0,1];},dB);};d.countW=function(dB){return d.countF(function(){return[0,1,0];},dB);};d.count=function(dB){return d.countF(function(){return[1,0,0];},dB);};d.countF=function(dB,dC){function dD(dE,dF,dG){return function(dH){return[dE+dH[0],dF+dH[1],dG+dH[2]];};}return dC.$==0?[0,0,0]:dC.$==3?[0,0,1]:dC.$==2?[0,1,0]:dC.$==4?dB(dC.$0):dC.$==6?cB.fold(function(dE,dF){return(function(dG){return dD(dG[0],dG[1],dG[2]);}(dE))(dF);},[0,0,0],cB.map(function(dE){return d.countF(dB,dE);},d.exclnoMsg(dC.$0))):[1,0,0];};d.isFatalW=function(dB){return d.isFatalF(function(){return false;},dB);};d.isFatal=function(dB){return d.isFatalF(function(){return true;},dB);};d.isFatalF=function(dB,dC){return dC.$==0?false:dC.$==3?false:dC.$==2?false:dC.$==4?dB(dC.$0):dC.$==6?cB.exists(function(dD){return d.isFatalF(dB,dD);},dC.$0):true;};d.isWarningOrInfoW=function(dB){return d.isWarningOrInfoF(function(){return true;},dB);};d.isWarningOrInfo=function(dB){return d.isWarningOrInfoF(function(){return false;},dB);};d.isWarningOrInfoF=function(dB,dC){return dC.$==2||(dC.$==4?dB(dC.$0):dC.$==6&&cB.forall(function(dD){return d.isWarningOrInfoF(dB,dD)||d.isInfoF(dB,dD);},d.exclnoMsg(dC.$0)));};d.isInfoI=function(dB){return d.isInfoF(function(){return true;},dB);};d.isInfo=function(dB){return d.isInfoF(function(){return false;},dB);};d.isInfoF=function(dB,dC){return dC.$==3||(dC.$==4?dB(dC.$0):dC.$==6&&cB.forall(function(dD){return d.isInfoF(dB,dD);},d.exclnoMsg(dC.$0)));};d.freeMessageI=function(dB){var dC;function dD(dE){return new d({$:3,$0:dE});}return d.freeMessageF((dC=function(dE){return function(dF){return dE(a.String(dF));};}(a.id),function(dE){return dD(dC(dE));}),dB);};d.freeMessageW=function(dB){var dC;function dD(dE){return new d({$:2,$0:dE});}return d.freeMessageF((dC=function(dE){return function(dF){return dE(a.String(dF));};}(a.id),function(dE){return dD(dC(dE));}),dB);};d.freeMessage=function(dB){var dC;function dD(dE){return new d({$:1,$0:dE});}return d.freeMessageF((dC=function(dE){return function(dF){return dE(a.String(dF));};}(a.id),function(dE){return dD(dC(dE));}),dB);};d.freeMessageF=function(dB,dC){return d.bindMessage(dB,dC);};d.bindMessage=function(dB,dC){return dC.$==4?dB(dC.$0):dC.$==1?new d({$:1,$0:dC.$0}):dC.$==3?new d({$:3,$0:dC.$0}):dC.$==2?new d({$:2,$0:dC.$0}):dC.$==5?new d({$:5,$0:dC.$0,$1:dC.$1}):dC.$==6?new d({$:6,$0:cC.map(function(dD){return d.bindMessage(dB,dD);},dC.$0)}):d.NoMsg;};d.exclnoMsg=function(dB){function dC(dD){return!dD;}return cB.filter(function(dD){return dC(d.noMsg(dD));},dB);};d.noMsg=function(dB){return dB.$==0;};f.absorbR=function(dB){return cB.choose(function(dC){return dC.$==0?{$:1,$0:dC.$0}:null;},dB);};f.absorbO=function(dB){return cB.choose(a.id,dB);};f.insertR=function(dB){return dB.$==0?cB.map(function(dC){return{$:0,$0:dC};},dB.$0):(f.rtn())(c.Error$1(dB.$0));};f.insertO=function(dB){var dC;dC=dB==null?null:{$:1,$0:cB.map(function(dD){return{$:1,$0:dD};},dB.$0)};return dC==null?(f.rtn())(null):dC.$0;};f.rtn=function(){cr.$cctor();return cr.rtn;};g.insertR=function(dB){function dC(dE){return{$:0,$0:dE};}function dD(dE){return cD.Return(dE);}return dB.$==0?cD.Bind(dB.$0,function(dE){return dD(dC(dE));}):cD.Return(c.Error$1(dB.$0));};g.insertO=function(dB){var dC;function dD(dF){return{$:1,$0:dF};}function dE(dF){return cD.Return(dF);}dC=dB==null?null:{$:1,$0:cD.Bind(dB.$0,function(dF){return dE(dD(dF));})};return dC==null?cD.Return(null):dC.$0;};g.sequenceSeq=function(dB){return g.traverseSeq(a.id,dB);};g.traverseSeq=function(dB,dC){function dD(dE){return cD.Return(dE);}return cD.Bind(cC.foldBack(function(dE,dF){return g.op_GreaterGreaterEquals(dB(dE),function(dG){return g.op_GreaterGreaterEquals(dF,function(dH){return cD.Return(new cE.T({$:1,$0:dG,$1:dH}));});});},cC.ofSeq(dC),cD.Return(cE.T.Empty)),function(dE){return dD(a.id(dE));});};g.op_GreaterGreaterEquals=function(dB,dC){return cD.Bind(dB,dC);};g.sleepThen=function(dB,dC){var dD;dD=null;return cD.Delay(function(){return cD.Bind(cD.Sleep(dC),function(){return cD.Return(dB());});});};g.apply=function(dB,dC){var dD;dD=null;return cD.Delay(function(){return cD.Bind(cD.StartChild(dB,null),function(dE){return cD.Bind(cD.StartChild(dC,null),function(dF){return cD.Bind(dE,function(dG){return cD.Bind(dF,function(dH){return cD.Return(dG(dH));});});});});});};k=j.Builder=cy.Class({For:function(dB,dC){var dD;dD=this;return this.Using(cF.Get(dB),function(dE){return dD.While(function(){return dE.MoveNext();},dD.Delay(function(){return dC(dE.Current());}));});},While:function(dB,dC){function dD(dE,dF){return dE()?cG.Bind(function(){return dD(dE,dF);},dF()):j.rtn();}return dD(dB,dC);},Using:function(dB,dC){try{return dC(dB);}finally{dB.Dispose();}},TryFinally:function(dB,dC){try{return dB();}finally{dC();}},TryWith:function(dB,dC){try{return dB();}catch(dD){return dC(dD);}},Run:function(dB){return j.bindP(dB,{$:0,$0:null});},Combine:function(dB,dC){return cG.Bind(dC,dB);},Delay:a.id,Zero:function(){return j.rtn();},Bind:function(dB,dC){return j.bindP(dC,dB);},ReturnFrom:a.id,Return:function(dB){return j.rtn(dB);}},i,k);k.New=cy.Ctor(function(){i.New.call(this);},k);l.result=function(){cr.$cctor();return cr.result$1;};l.rtn=function(dB){return j.rtn(dB);};l.op_GreaterEqualsGreater=function(dB,dC,dD){return l.op_GreaterGreaterEquals(dB(dD),dC);};l.op_RightShift=function(dB,dC,dD){return l.op_BarGreaterGreater(dB(dD),dC);};l.op_GreaterGreaterEquals=function(dB,dC){return j.bindP(dC,dB);};l.op_BarGreaterGreater=function(dB,dC){return j.mapP(dC,dB);};j.result=function(){cr.$cctor();return cr.result;};j.sequenceSeq=function(dB){return j.traverseSeq(a.id,dB);};j.traverseSeq=function(dB,dC){return cG.Map(a.id,cC.foldBack(function(dD,dE){return j.op_GreaterGreaterEquals(dB(dD),function(dF){return j.op_GreaterGreaterEquals(dE,function(dG){return j.rtn(new cE.T({$:1,$0:dF,$1:dG}));});});},cC.ofSeq(dC),j.rtn(cE.T.Empty)));};j.op_GreaterGreaterEquals=function(dB,dC){return cG.Bind(dC,dB);};j.absorbO=function(dB,dC){return j.bindP(function(dD){return j.ofOption(dB,dD);},dC);};j.insertO=function(dB){var dC;dC=dB==null?null:{$:1,$0:cG.Map(function(dD){return{$:1,$0:dD};},dB.$0)};return dC==null?{$:0,$0:null}:dC.$0;};j.ofOption=function(dB,dC){var dD;dD=dC==null?null:{$:1,$0:{$:0,$0:dC.$0}};return dD==null?function(dE){return c.Error$1(dB(dE));}():dD.$0;};j.get=function(dB){return j.defaultWith(function(dC){return cH.FailWith(a.String(dC));},dB);};j.iter=function(dB,dC,dD){j.defaultWith(dB,j.mapP(dC,dD));};j.mapP=function(dB,dC){return j.bindP(function(dD){return j.rtn(dB(dD));},dC);};j.bindP=function(dB,dC){if(dC.$==1)return c.Error$1(dC.$0);else try{return dB(dC.$0);}catch(dD){return c.Error$1(new d({$:5,$0:dD.message,$1:dD.stack}));}};j.failIfFalse=function(dB,dC){return!dC?c.Error$1(dB):{$:0,$0:null};};j.failIfTrue=function(dB,dC){return dC?c.Error$1(dB):{$:0,$0:null};};j.defaultValue=function(dB,dC){return dC.$==1?dB:dC.$0;};j.defaultWith=function(dB,dC){return dC.$==1?dB(dC.$0):dC.$0;};j.toOption=function(dB){return dB.$==0?{$:1,$0:dB.$0}:null;};j.rtn=function(dB){return{$:0,$0:dB};};j.freeMessage=function(dB){return dB.$==1?c.Error$1(d.freeMessage(dB.$0)):{$:0,$0:dB.$0};};n.rtn=function(dB){return m.rtn(dB);};n.op_GreaterEqualsGreater=function(dB,dC,dD){return n.op_GreaterGreaterEquals(dB(dD),dC);};n.op_RightShift=function(dB,dC,dD){return n.op_BarGreaterGreater(dB(dD),dC);};n.op_GreaterGreaterEquals=function(dB,dC){return m.bind(dC,dB);};n.op_BarGreaterGreater=function(dB,dC){return m.map(dC,dB);};n.op_LessMultiplyGreater=function(dB,dC){return m.apply(dB,dC);};p=o.Builder=cy.Class({For:function(dB,dC){var dD;dD=this;return this.Using(cF.Get(dB),function(dE){return dD.While(function(){return dE.MoveNext();},dD.Delay(function(){return dC(dE.Current());}));});},Using:function(dB,dC){return m.wrap(function(dD){try{return(m.getFun(dC(dB)))(dD);}finally{dB.Dispose();}});},TryFinally:function(dB,dC){return m.wrap(function(dD){try{return(m.getFun(dB()))(dD);}finally{dC();}});},TryWith:function(dB,dC){return m.wrap(function(dD){try{return(m.getFun(dB()))(dD);}catch(dE){return dC(dE);}});},While:function(dB,dC){function dD(dE,dF){return dE()?m.bind(function(){return dD(dE,dF);},dF()):m.rtn();}return dD(dB,dC);},Run:function(dB){return m.wrap(function(dC){return(m.getFun(dB()))(dC);});},Combine:function(dB,dC){return m.bind(dC,dB);},Delay:a.id,Zero:function(){return m.rtn();},Bind:function(dB,dC){return m.bind(dC,dB);},ReturnFrom:function(dB){return m.from(dB);},Return:function(dB){return m.rtn(dB);}},i,p);p.New=cy.Ctor(function(){i.New.call(this);},p);m.fusion=function(){cr.$cctor();return cr.fusion;};m.absorbO=function(dB,dC){return m.absorbR(m.map(function(dD){return j.ofOption(dB,dD);},dC));};m.absorbR=function(dB){return m.bind(m.ofResultRM,dB);};m.insertSnd=function(dB,dC){return m.map(function(dD){return[dD,dC];},dB);};m.insertFst=function(dB,dC){return m.map(function(dD){return[dB,dD];},dC);};m.insertR=function(dB){return dB.$==0?m.map(function(dC){return{$:0,$0:dC};},dB.$0):m.rtn(c.Error$1(dB.$0));};m.insertO=function(dB){var dC;dC=dB==null?null:{$:1,$0:m.map(function(dD){return{$:1,$0:dD};},dB.$0)};return dC==null?m.rtn(null):dC.$0;};m.iterResult=function(dB,dC,dD){m.iterReader(dB,dC,null,dD);};m.runResult=function(dB){return m.runReader(null,dB);};m.runReader=function(dB,dC){var dD,dE,dF;dD=m.run(dB,dC);dE=dD[2];return j.ofOption(function(){return dE;},(dF=dD[0],dF==null?null:{$:1,$0:[dF.$0,dE]}));};m.mapReader=function(dB,dC){return m.mapState(function(){return dB;},a.id,dC);};m.readerFun=function(dB){return m.map(dB,m.getS());};m.sequenceSeq=function(dB){return m.traverseSeq(a.id,dB);};m.traverseSeq=function(dB,dC){return m.map(a.id,cC.foldBack(function(dD,dE){return m.op_GreaterGreaterEquals(dB(dD),function(dF){return m.op_GreaterGreaterEquals(dE,function(dG){return m.rtn(new cE.T({$:1,$0:dF,$1:dG}));});});},cC.ofSeq(dC),m.rtn(cE.T.Empty)));};m.op_GreaterGreaterEquals=function(dB,dC){return m.bind(dC,dB);};m.apply=function(dB,dC){return m.bind(function(dD){return m.map(dD,dC);},dB);};m.memoizeRm=function(dB,dC,dD){return{$:0,$0:function(dE){var dF,dG,dH,dI,dJ;function dK(dL,dM){return(dH(dL))(function(){return dM;});}dF=dE[0];dG=dB(dF);dH=dG[1];return m.run(dF,(dI=(dJ=dG[0](dD),dJ==null?null:{$:1,$0:m.rtn(dJ.$0)}),dI==null?m.map(function(dL){return dK(dD,dL);},dC(dD)):dI.$0));}};};m.iterReader=function(dB,dC,dD,dE){var dF,dG;dF=m.run(dD,m.map(dC,dE));dG=dF[2];dF[0]==null?void 0:void 0;dG.$!==0?dB(dG):void 0;};m.mapState=function(dB,dC,dD){return{$:0,$0:function(dE){var dF,dG;dF=dE[0];dG=(m.getFun(dD))([dB(dF),dE[1]]);return[dG[0],dC(dF,dG[1]),dG[2]];}};};m.freeMessageW=function(dB){var dC;function dD(dE){return new d({$:2,$0:dE});}return m.freeMessageF((dC=function(dE){return function(dF){return dE(a.String(dF));};}(a.id),function(dE){return dD(dC(dE));}),dB);};m.freeMessage=function(dB){var dC;function dD(dE){return new d({$:1,$0:dE});}return m.freeMessageF((dC=function(dE){return function(dF){return dE(a.String(dF));};}(a.id),function(dE){return dD(dC(dE));}),dB);};m.freeMessageF=function(dB,dC){return{$:0,$0:function(dD){var dE,dF,dG;dE=dD[0];dF=dD[1];try{dG=dC.$0([dE,d.freeMessage(dF)]);return[dG[0],dG[1],d.freeMessageF(dB,dG[2])];}catch(dH){return[null,dE,d.freeMessage(d.addMsg(dF,new d({$:5,$0:dH.message,$1:dH.stack})))];}}};};m.ofFusionM=function(dB){return m.from(dB);};m.ofResultMessage=function(dB){return m.OkFMsg(null,dB);};m.ofMessage=function(dB){return m.OkFMsg(null,new d({$:4,$0:dB}));};m.ofOption=function(dB,dC){return dC==null?m.ErrorF(dB()):m.OkF(dC.$0);};m.ofResult=function(dB){return dB.$==1?m.ErrorF(new d({$:1,$0:(function(dC){return function(dD){return dC(cz.prettyPrint(dD));};}(a.id))(dB.$0)})):m.OkF(dB.$0);};m.ofResultS=function(dB){return dB.$==1?m.ErrorF(new d({$:1,$0:dB.$0})):m.OkF(dB.$0);};m.ofResultM=function(dB){return dB.$==1?m.ErrorF(new d({$:4,$0:dB.$0})):m.OkF(dB.$0);};m.ofResultRM=function(dB){return dB.$==1?m.ErrorF(dB.$0):m.OkF(dB.$0);};m.inling=function(dB,dC){return{$:0,$0:function(dD){var dE,dF,dG;dE=dD[0];dF=dD[1];try{dG=dC.$0([dE,dF]);return[{$:1,$0:dG[0]},dG[1],dG[2]];}catch(dH){return[null,dE,d.addMsg(dF,new d({$:5,$0:dH.message,$1:dH.stack}))];}}};};m.check=function(){return{$:0,$0:function(dB){return[d.isFatal(dB[1])?null:{$:1,$0:null},dB[0],d.NoMsg];}};};m.putS=function(dB){return{$:0,$0:function(){return[{$:1,$0:null},dB,d.NoMsg];}};};m.getR=function(){return{$:0,$0:function(dB){return[{$:1,$0:dB[1]},dB[0],d.NoMsg];}};};m.getS=function(){return{$:0,$0:function(dB){var dC;dC=dB[0];return[{$:1,$0:dC},dC,d.NoMsg];}};};m.ErrorF=function(dB){return{$:0,$0:function(dC){return[null,dC[0],dB];}};};m.OkFMsg=function(dB,dC){return{$:0,$0:function(dD){return[{$:1,$0:dB},dD[0],dC];}};};m.OkF=function(dB){return{$:0,$0:function(dC){return[{$:1,$0:dB},dC[0],d.NoMsg];}};};m.run=function(dB,dC){return(m.getFun(dC))([dB,d.NoMsg]);};m.from=a.id;m.getFun=function(dB){return dB.$0;};m.wrap=function(dB){return{$:0,$0:dB};};m.map=function(dB,dC){return m.bind(function(dD){return m.rtn(dB(dD));},dC);};m.bind=function(dB,dC){return{$:0,$0:function(dD){var dE,dF,dG,dH,dI,dJ,dK;dE=dD[0];dF=dD[1];try{dG=dC.$0([dE,dF]);dH=dG[0];dI=dG[1];dJ=dG[2];return dH!=null&&dH.$==1?(dK=dB(dH.$0).$0([dI,d.addMsg(dF,dJ)]),[dK[0],dK[1],d.addMsg(dJ,dK[2])]):[null,dI,dJ];}catch(dL){return[null,dE,d.addMsg(dF,new d({$:5,$0:dL.message,$1:dL.stack}))];}}};};m.rtn=function(dB){return{$:0,$0:function(dC){return[{$:1,$0:dB},dC[0],d.NoMsg];}};};r.rtn=function(dB){return q.rtn(dB);};r.op_GreaterEqualsGreater=function(dB,dC,dD){return r.op_GreaterGreaterEquals(dB(dD),dC);};r.op_RightShift=function(dB,dC,dD){return r.op_BarGreaterGreater(dB(dD),dC);};r.op_GreaterGreaterEquals=function(dB,dC){return q.bind(dC,dB);};r.op_BarGreaterGreater=function(dB,dC){return q.map(dC,dB);};r.op_LessMultiplyGreater=function(dB,dC){return q.apply(dB,dC);};t=s.Builder=cy.Class({For:function(dB,dC){var dD;dD=this;return this.Using(cF.Get(dB),function(dE){return dD.While(function(){return dE.MoveNext();},dD.Delay(function(){return dC(dE.Current());}));});},Using:function(dB,dC){return q.wrap(function(dD){try{return(q.getFun(dC(dB)))(dD);}finally{dB.Dispose();}});},TryFinally:function(dB,dC){return q.wrap(function(dD){try{return(q.getFun(dB()))(dD);}finally{dC();}});},TryWith:function(dB,dC){return q.wrap(function(dD){try{return(q.getFun(dB()))(dD);}catch(dE){return dC(dE);}});},While:function(dB,dC){function dD(dE,dF){return dE()?q.bind(function(){return dD(dE,dF);},dF()):q.rtn();}return dD(dB,dC);},Run:function(dB){return q.wrap(function(dC){return(q.getFun(dB()))(dC);});},Combine:function(dB,dC){return q.bind(dC,dB);},Delay:a.id,Zero:function(){return q.rtn();},Bind:function(dB,dC){return q.bind(dC,dB);},ReturnFrom:function(dB){return q.from(dB);},Return:function(dB){return q.rtn(dB);}},i,t);t.New=cy.Ctor(function(){i.New.call(this);},t);q.fusion=function(){cr.$cctor();return cr.fusion$1;};q.iterResultA=function(dB,dC,dD){q.iterReaderA(dB,dC,null,dD);};q.iterResult=function(dB,dC,dD){q.iterReader(dB,dC,null,dD);};q.runResult=function(dB){return q.runReader(null,dB);};q.runReader=function(dB,dC){function dD(dF,dG,dH){return j.ofOption(function(){return dH;},dF==null?null:{$:1,$0:[dF.$0,dH]});}function dE(dF){return cD.Return(dF);}return cD.Bind(q.run(dB,dC),function(dF){return dE(dD.apply(null,dF));});};q.mapReader=function(dB,dC){return q.mapState(function(){return dB;},a.id,dC);};q.absorbO=function(dB,dC){return q.absorbR(q.map(function(dD){return j.ofOption(dB,dD);},dC));};q.absorbR=function(dB){return q.bind(q.ofResultRM,dB);};q.insertSnd=function(dB,dC){return q.map(function(dD){return[dD,dC];},dB);};q.insertFst=function(dB,dC){return q.map(function(dD){return[dB,dD];},dC);};q.insertR=function(dB){return dB.$==0?q.map(function(dC){return{$:0,$0:dC};},dB.$0):q.rtn(c.Error$1(dB.$0));};q.insertO=function(dB){var dC;dC=dB==null?null:{$:1,$0:q.map(function(dD){return{$:1,$0:dD};},dB.$0)};return dC==null?q.rtn(null):dC.$0;};q.readerFun=function(dB){return q.map(dB,q.getS());};q.freeMessageW=function(dB){var dC;function dD(dE){return new d({$:2,$0:dE});}return q.freeMessageF((dC=function(dE){return function(dF){return dE(a.String(dF));};}(a.id),function(dE){return dD(dC(dE));}),dB);};q.freeMessage=function(dB){var dC;function dD(dE){return new d({$:1,$0:dE});}return q.freeMessageF((dC=function(dE){return function(dF){return dE(a.String(dF));};}(a.id),function(dE){return dD(dC(dE));}),dB);};q.sequenceSeq=function(dB){return q.traverseSeq(a.id,dB);};q.traverseSeq=function(dB,dC){return q.map(a.id,cC.foldBack(function(dD,dE){return q.op_GreaterGreaterEquals(dB(dD),function(dF){return q.op_GreaterGreaterEquals(dE,function(dG){return q.rtn(new cE.T({$:1,$0:dF,$1:dG}));});});},cC.ofSeq(dC),q.rtn(cE.T.Empty)));};q.op_GreaterGreaterEquals=function(dB,dC){return q.bind(dC,dB);};q.apply=function(dB,dC){return q.bind(function(dD){return q.map(dD,dC);},dB);};q.memoizeRm=function(dB,dC,dD){return{$:0,$0:function(dE){var dF,dG;dF=dE[0];dG=null;return cD.Delay(function(){var dH,dI,dJ,dK;function dL(dM,dN){return(dI(dM))(function(){return dN;});}dH=dB(dF);dI=dH[1];return q.run(dF,(dJ=(dK=dH[0](dD),dK==null?null:{$:1,$0:q.rtn(dK.$0)}),dJ==null?q.map(function(dM){return dL(dD,dM);},dC(dD)):dJ.$0));});}};};q.iterReaderA=function(dB,dC,dD,dE){function dF(dH,dI,dJ){dH==null?void 0:void 0;dJ.$!==0?dB(dJ):void 0;}function dG(dH){return cD.Return(dH);}cD.Start(cD.Bind(q.run(dD,q.map(dC,dE)),function(dH){return dG(dF.apply(null,dH));}),null);};q.iterReader=function(dB,dC,dD,dE){var dF;dF=q.run(dD,q.map(dC,dE));throw"iterS cannot be used in JavaScript!";};q.mapState=function(dB,dC,dD){return{$:0,$0:function(dE){var dF,dG,dH;dF=dE[0];dG=dE[1];dH=null;return cD.Delay(function(){return cD.Bind((q.getFun(dD))([dB(dF),dG]),function(dI){return cD.Return([dI[0],dC(dF,dI[1]),dI[2]]);});});}};};q.freeMessageF=function(dB,dC){return{$:0,$0:function(dD){var dE,dF,dG;dE=dD[0];dF=dD[1];dG=null;return cD.Delay(function(){return cD.TryWith(cD.Delay(function(){return cD.Bind(dC.$0([dE,d.freeMessage(dF)]),function(dH){return cD.Return([dH[0],dH[1],d.freeMessageF(dB,dH[2])]);});}),function(dH){return cD.Return([null,dE,d.freeMessage(d.addMsg(dF,new d({$:5,$0:dH.message,$1:dH.stack})))]);});});}};};q.ofAsyncResultRM=function(dB){return q.bind(q.ofResultRM,q.ofAsync(dB));};q.ofAsync=function(dB){return{$:0,$0:function(dC){var dD;function dE(dG){return[{$:1,$0:dG},dD,d.NoMsg];}function dF(dG){return cD.Return(dG);}dD=dC[0];return cD.Bind(dB,function(dG){return dF(dE(dG));});}};};q.ofFusionM=function(dB){var dC;dC=dB.$0;return{$:0,$0:function(dD){return cD.Return(dC([dD[0],dD[1]]));}};};q.ofResultMessage=function(dB){return q.OkFMsg(null,dB);};q.ofMessage=function(dB){return q.OkFMsg(null,new d({$:4,$0:dB}));};q.ofOption=function(dB,dC){var dD;dD=dC==null?null:{$:1,$0:q.OkF(dC.$0)};return dD==null?function(dE){return q.ErrorF(dB(dE));}():dD.$0;};q.ofResult=function(dB){return dB.$==1?q.ErrorF(new d({$:1,$0:(function(dC){return function(dD){return dC(cz.prettyPrint(dD));};}(a.id))(dB.$0)})):q.OkF(dB.$0);};q.ofResultS=function(dB){return dB.$==1?q.ErrorF(new d({$:1,$0:dB.$0})):q.OkF(dB.$0);};q.ofResultM=function(dB){return dB.$==1?q.ErrorF(new d({$:4,$0:dB.$0})):q.OkF(dB.$0);};q.ofResultRM=function(dB){return dB.$==1?q.ErrorF(dB.$0):q.OkF(dB.$0);};q.getOption=function(dB){return{$:0,$0:function(dC){var dD,dE,dF;dD=dC[0];dE=dC[1];dF=null;return cD.Delay(function(){return cD.TryWith(cD.Delay(function(){return cD.Bind(dB.$0([dD,dE]),function(dG){return cD.Return([{$:1,$0:dG[0]},dG[1],dG[2]]);});}),function(dG){return cD.Return([null,dD,d.addMsg(dE,new d({$:5,$0:dG.message,$1:dG.stack}))]);});});}};};q.check=function(){return{$:0,$0:function(dB){return cD.Return([d.isFatal(dB[1])?null:{$:1,$0:null},dB[0],d.NoMsg]);}};};q.putS=function(dB){return{$:0,$0:function(){return cD.Return([{$:1,$0:null},dB,d.NoMsg]);}};};q.getR=function(){return{$:0,$0:function(dB){return cD.Return([{$:1,$0:dB[1]},dB[0],d.NoMsg]);}};};q.getS=function(){return{$:0,$0:function(dB){var dC;dC=dB[0];return cD.Return([{$:1,$0:dC},dC,d.NoMsg]);}};};q.ErrorF=function(dB){return{$:0,$0:function(dC){return cD.Return([null,dC[0],dB]);}};};q.OkFMsg=function(dB,dC){return{$:0,$0:function(dD){return cD.Return([{$:1,$0:dB},dD[0],dC]);}};};q.OkF=function(dB){return{$:0,$0:function(dC){return cD.Return([{$:1,$0:dB},dC[0],d.NoMsg]);}};};q.run=function(dB,dC){return(q.getFun(dC))([dB,d.NoMsg]);};q.from=a.id;q.getFun=function(dB){return dB.$0;};q.wrap=function(dB){return{$:0,$0:dB};};q.map=function(dB,dC){return q.bind(function(dD){return q.rtn(dB(dD));},dC);};q.bind=function(dB,dC){return{$:0,$0:function(dD){var dE,dF,dG;dE=dD[0];dF=dD[1];dG=null;return cD.Delay(function(){return cD.TryWith(cD.Delay(function(){return cD.Bind(dC.$0([dE,dF]),function(dH){var dI,dJ,dK;dI=dH[0];dJ=dH[1];dK=dH[2];return dI!=null&&dI.$==1?cD.Bind(dB(dI.$0).$0([dJ,d.addMsg(dF,dK)]),function(dL){return cD.Return([dL[0],dL[1],d.addMsg(dK,dL[2])]);}):cD.Return([null,dJ,dK]);});}),function(dH){return cD.Return([null,dE,d.addMsg(dF,new d({$:5,$0:dH.message,$1:dH.stack}))]);});});}};};q.rtn=function(dB){return{$:0,$0:function(dC){return cD.Return([{$:1,$0:dB},dC[0],d.NoMsg]);}};};u.absorbO=function(dB,dC){function dD(dF){return j.absorbO(dB,dF);}function dE(dF){return cD.Return(dF);}return cD.Bind(dC,function(dF){return dE(dD(dF));});};u.absorbR=function(dB){var dC;function dD(dE){return cD.Return(dE);}return cD.Bind(dB,(dC=function(dE){return j.bindP(a.id,dE);},function(dE){return dD(dC(dE));}));};u.insertR=function(dB){return dB.$==0?u.map(function(dC){return{$:0,$0:dC};},dB.$0):u.rtn(c.Error$1(dB.$0));};u.insertO=function(dB){var dC;dC=dB==null?null:{$:1,$0:u.map(function(dD){return{$:1,$0:dD};},dB.$0)};return dC==null?u.rtn(null):dC.$0;};u.sequenceSeq=function(dB){return u.traverseSeq(a.id,dB);};u.traverseSeq=function(dB,dC){return u.map(a.id,cC.foldBack(function(dD,dE){return u.op_GreaterGreaterEquals(dB(dD),function(dF){return u.op_GreaterGreaterEquals(dE,function(dG){return u.rtn(new cE.T({$:1,$0:dF,$1:dG}));});});},cC.ofSeq(dC),u.rtn(cE.T.Empty)));};u.op_GreaterGreaterEquals=function(dB,dC){return u.bind(dC,dB);};u.whileLoop=function(dB,dC){return dB()?u.bind(function(){return u.whileLoop(dB,dC);},dC()):u.rtn();};u.mapP=function(dB,dC){return u.bindP(function(dD){return u.rtn(dB(dD));},dC);};u.map=function(dB,dC){return u.bind(function(dD){return u.rtn(dB(dD));},dC);};u.bindP=function(dB,dC){var dD;dD=null;return cD.Delay(function(){return cD.TryWith(cD.Delay(function(){return cD.Bind(dC,function(dE){return dE.$==1?cD.Return(c.Error$1(dE.$0)):dB(dE.$0);});}),function(dE){return cD.Return(c.Error$1(new d({$:5,$0:dE.message,$1:dE.stack})));});});};u.bind=function(dB,dC){var dD;dD=null;return cD.Delay(function(){return cD.Bind(dC,function(dE){var dF,dG;return dE.$==1?(dF=dE.$0,(dG=null,cD.Delay(function(){return cD.Return(c.Error$1(dF));}))):dB(dE.$0);});});};u.iterA=function(dB,dC,dD){function dE(dG){j.iter(dB,dC,dG);}function dF(dG){return cD.Return(dG);}cD.Start(cD.Bind(dD,function(dG){return dF(dE(dG));}),null);};u.iterS=function(dB,dC,dD){throw"iterS cannot be used in JavaScript!";};u.rtnR=function(dB){return cD.Return(dB);};u.rtn=function(dB){return cD.Return({$:0,$0:dB});};u.freeMessage=function(dB){function dC(dD){return cD.Return(dD);}return cD.Bind(dB,function(dD){return dC(j.freeMessage(dD));});};u.mapError=function(dB,dC){function dD(dF){return cG.MapError(dB,dF);}function dE(dF){return cD.Return(dF);}return cD.Bind(dC,function(dF){return dE(dD(dF));});};v=e.AsyncResultBuilder=cy.Class({For:function(dB,dC){var dD;dD=this;return this.Using(cF.Get(dB),function(dE){return dD.While(function(){return dE.MoveNext();},dD.Delay(function(){return dC(dE.Current());}));});},While:function(dB,dC){return u.whileLoop(dB,dC);},Using:function(dB,dC){return cD.Using(dB,dC);},TryFinally:function(dB,dC){var dD;dD=null;return cD.Delay(function(){try{return dB();}finally{dC();}});},TryWith:function(dB,dC){var dD;dD=null;return cD.Delay(function(){try{return dB();}catch(dE){return dC(dE);}});},Run:function(dB){return dB();},Delay:a.id,Combine:function(dB,dC){return u.bind(dC,u.rtnR(dB));},Combine$1:function(dB,dC){return u.bind(dC,dB);},Bind:function(dB,dC){return u.bind(dC,u.rtnR(dB));},Bind$1:function(dB,dC){return u.bind(dC,dB);},Zero:function(){return u.rtn();},Return:function(dB){return u.rtn(dB);},ReturnFrom:function(dB){return u.rtnR(dB);},ReturnFrom$1:a.id},i,v);v.New=cy.Ctor(function(){i.New.call(this);},v);w=e.AsyncResultBuilderP=cy.Class({For:function(dB,dC){var dD;dD=this;return this.Using(cF.Get(dB),function(dE){return dD.While(function(){return dE.MoveNext();},dD.Delay(function(){return dC(dE.Current());}));});},While:function(dB,dC){return u.whileLoop(dB,dC);},Using:function(dB,dC){return cD.Using(dB,dC);},TryFinally:function(dB,dC){var dD;dD=null;return cD.Delay(function(){try{return dB();}finally{dC();}});},TryWith:function(dB,dC){var dD;dD=null;return cD.Delay(function(){try{return dB();}catch(dE){return dC(dE);}});},Run:function(dB){return u.bindP(dB,u.rtn());},Delay:a.id,Combine:function(dB,dC){return u.bindP(dC,u.rtnR(dB));},Combine$1:function(dB,dC){return u.bindP(dC,dB);},Bind:function(dB,dC){return u.bindP(dC,u.rtnR(dB));},Bind$1:function(dB,dC){return u.bindP(dC,dB);},Zero:function(){return u.rtn();},Return:function(dB){return u.rtn(dB);},ReturnFrom:function(dB){return u.rtnR(dB);},ReturnFrom$1:a.id},i,w);w.New=cy.Ctor(function(){i.New.call(this);},w);x["AsyncResultBuilderP.Combine"]=function(dB,dC,dD){function dE(dG){return{$:0,$0:dG};}function dF(dG){return cD.Return(dG);}return u.bindP(dD,cD.Bind(dC,function(dG){return dF(dE(dG));}));};x["AsyncResultBuilderP.Bind"]=function(dB,dC,dD){function dE(dG){return{$:0,$0:dG};}function dF(dG){return cD.Return(dG);}return u.bindP(dD,cD.Bind(dC,function(dG){return dF(dE(dG));}));};x["AsyncResultBuilderP.ReturnFrom"]=function(dB,dC){function dD(dF){return{$:0,$0:dF};}function dE(dF){return cD.Return(dF);}return cD.Bind(dC,function(dF){return dE(dD(dF));});};x["AsyncResultBuilder.Combine"]=function(dB,dC,dD){function dE(dG){return{$:0,$0:dG};}function dF(dG){return cD.Return(dG);}return u.bind(dD,cD.Bind(dC,function(dG){return dF(dE(dG));}));};x["AsyncResultBuilder.Bind"]=function(dB,dC,dD){function dE(dG){return{$:0,$0:dG};}function dF(dG){return cD.Return(dG);}return u.bind(dD,cD.Bind(dC,function(dG){return dF(dE(dG));}));};x["AsyncResultBuilder.ReturnFrom"]=function(dB,dC){function dD(dF){return{$:0,$0:dF};}function dE(dF){return cD.Return(dF);}return cD.Bind(dC,function(dF){return dE(dD(dF));});};e.asyncResultP=function(){cr.$cctor();return cr.asyncResultP;};e.asyncResult=function(){cr.$cctor();return cr.asyncResult;};y.EndsWith$1=function(dB,dC){return cA.EndsWith(dC,dB)?{$:1,$0:cI.string(dC,{$:1,$0:0},{$:1,$0:dC.length-dB.length-1})}:null;};y.StartsWith$1=function(dB,dC){return cA.StartsWith(dC,dB)?{$:1,$0:cI.string(dC,{$:1,$0:dB.length},null)}:null;};y.skipLastLine$1=function(){cr.$cctor();return cr.skipLastLine;};y.indentStr$1=function(dB){function dC(dE){return y.indent$1(dB,dE);}function dD(dE){return cA.concat("\n",dE);}return function(dE){return dD(dC(dE));};};y.unindentStr$1=function(){cr.$cctor();return cr.unindentStr;};y.indent$1=function(dB,dC){var dD,dE;dD=cA.SplitChars(dC,["\n"],0);return cB.map((dE=cA.replicate(dB," "),function(dF){return dE+dF;}),dD);};y.unindent$1=function(dB){var dC,dD,dE,dF;dC=cA.SplitChars(dB,["\n"],0);dD=(dE=cB.tryFindIndex(function(dG){return" "!==dG;},(dF=cB.tryFind(function(dG){return cA.Trim(dG)!=="";},dC),dF==null?"":dF.$0)),dE==null?0:dE.$0);return cB.filter(function(dG){return!cA.StartsWith(dG,"# 1 ");},cB.map(function(dG){return dG.length<=dD?"":dG.substring(dD);},dC));};y.skipFirstLine$1=function(dB){var dC;dC=dB.indexOf("\n");return dC<0?"":cI.string(dB,{$:1,$0:dC+1},null);};y.append$1=function(dB,dC){return dB+dC;};y.trim$1=function(dB){return cA.Trim(dB);};y.contains$1=function(dB,dC){return dC.indexOf(dB)!=-1;};y.delimitedO$1=function(dB,dC,dD){var dE,dF,dG,dH,dI;dE=y.splitInTwoO$1(dB,dD);return dE==null?null:(dF=dE.$0,(dG=dF[0],(dH=y.splitInTwoO$1(dC,dF[1]),dH==null?null:{$:1,$0:(dI=dH.$0,[dG,dI[0],dI[1]])})));};y.splitInTwoO$1=function(dB,dC){var dD;dD=dC.indexOf(dB);return dD===-1?null:{$:1,$0:[c["String.Left$1"](dC,dD),dC.substring(dD+dB.length)]};};y.splitByChar$1=function(dB,dC){return cA.SplitChars(dC,[dB],0);};z.Guid$1=function(){cr.$cctor();return cr["|Guid|_|"];};z.Double$1=function(){cr.$cctor();return cr["|Double|_|"];};z.Single$1=function(){cr.$cctor();return cr["|Single|_|"];};z.Int$1=function(){cr.$cctor();return cr["|Int|_|"];};z.Date$1=function(){cr.$cctor();return cr["|Date|_|"];};z.parseGuidO$1=function(){cr.$cctor();return cr.parseGuidO;};z.parseDoubleO$1=function(){cr.$cctor();return cr.parseDoubleO;};z.parseSingleO$1=function(){cr.$cctor();return cr.parseSingleO;};z.parseIntO$1=function(){cr.$cctor();return cr.parseIntO;};z.parseDateO$1=function(){cr.$cctor();return cr.parseDateO;};z.tryParseWith$1=function(dB){function dC(dD,dE){return dD?{$:1,$0:dE}:null;}return function(dD){return dC.apply(null,dB(dD));};};A.PostAndAsyncReply=function(dB,dC,dD){return dB.PostAndAsyncReply(function(dE){return[dE,dC];},dD);};C.applyReply=function(dB,dC){return C.applyReplyA(function(dD){var dE;dE=null;return cD.Delay(function(){return cD.Return(dB(dD));});},dC);};C.applyReplyA=function(dB,dC){return dC.PostAndAsyncReply(function(dD){return function(dE){var dF;dF=null;return cD.Delay(function(){return cD.Bind(dB(dE),function(dG){dD(dG[1]);return cD.Return(dG[0]);});});};},null);};C.apply=function(dB,dC){C.applyA(function(dD){var dE;dE=null;return cD.Delay(function(){return cD.Return(dB(dD));});},dC);};C.applyA=function(dB,dC){dC.mailbox.AddLast(function(dD){var dE;dE=null;return cD.Delay(function(){return dB(dD);});});dC.resume();};C.setState=function(dB,dC){dC.mailbox.AddLast(function(){var dD;dD=null;return cD.Delay(function(){return cD.Return(dB);});});dC.resume();};C.getStateA=function(dB){return dB.PostAndAsyncReply(function(dC){return function(dD){var dE;dE=null;return cD.Delay(function(){dC(dD);return cD.Return(dD);});};},null);};B.defHandler=function(dB,dC){c.print(dB);return dC;};B.stateFull=function(dB,dC){return cK.Start(function(dD){function dE(dF){var dG;dG=null;return cD.Delay(function(){return cD.TryWith(cD.Delay(function(){return cD.Bind(dD.Receive(null),function(dH){return cD.Bind(dH(dF),function(dI){return dE(dI);});});}),function(dH){return dE(dB(dH,dF));});});}return dE(dC);},null);};B.fold=function(dB,dC,dD){return B.foldA(dB,function(dE,dF){var dG;dG=null;return cD.Delay(function(){return cD.Return(dC(dE,dF));});},dD);};B.foldA=function(dB,dC,dD){return cK.Start(function(dE){function dF(dG){var dH;dH=null;return cD.Delay(function(){return cD.TryWith(cD.Delay(function(){return cD.Bind(dE.Receive(null),function(dI){return cD.Bind(dC(dG,dI),function(dJ){return dF(dJ);});});}),function(dI){return dF(dB(dI,dG));});});}return dF(dD);},null);};B.call=function(dB,dC){return B.callA(dB,function(dD){var dE;dE=null;return cD.Delay(function(){return cD.Return(dC(dD));});});};B.callA=function(dB,dC){return B.iterA(dB,function(dD){var dE,dF,dG;dE=dD[0];dF=dD[1];dG=null;return cD.Delay(function(){return cD.Bind(dC(dF),function(dH){dE(dH);return cD.Zero();});});});};B.iter=function(dB,dC){return B.iterA(dB,function(dD){var dE;dE=null;return cD.Delay(function(){dC(dD);return cD.Zero();});});};B.iterA=function(dB,dC){return cK.Start(function(dD){var dE;dE=null;return cD.Delay(function(){return cD.While(function(){return true;},cD.Delay(function(){return cD.TryWith(cD.Delay(function(){return cD.Bind(dD.Receive(null),function(dF){return cD.Bind(dC(dF),function(){return cD.Return(null);});});}),function(dF){dB(dF);return cD.Zero();});}));});},null);};D.New=function(dB,dC,dD,dE){return{useCount:dB,limitCount:dC,resource:dD,configuration:dE};};E=c.ResourceAgent=cy.Class({increment:function(dB){var dC,dD;dC=this;return(this.respawnRightAfter?(dD=dB.configuration,function(dE){return dC.check(dD,dE);}):a.id)(D.New(dB.useCount+1,dB.limitCount,dB.resource,dB.configuration));},check:function(dB,dC){return dC.useCount<dC.limitCount&&this.alive(dC.resource)&&cL.Equals(dB,dC.configuration)?dC:this.respawn(D.New(dC.useCount,dC.limitCount,dC.resource,dB));},respawn:function(dB){this.clean(dB.resource);return D.New(0,dB.limitCount,this.ctor(dB.configuration),dB.configuration);},Respawn:function(){var dB;dB=this;C.apply(function(dC){return dB.respawn(dC);},this.agent);},set_Configuration:function(dB){var dC;dC=this;!cL.Equals(dB,this.get_Configuration())?C.apply(function(dD){return dC.respawn(D.New(dD.useCount,dD.limitCount,dD.resource,dB));},this.agent):void 0;},set_LimitCount:function(dB){C.apply(function(dC){return D.New(dC.useCount,dB,dC.resource,dC.configuration);},this.agent);},get_Configuration:function(){return this.get_State().configuration;},get_LimitCount:function(){return this.get_State().limitCount;},get_State:function(){throw"getState not available in JavaScript";},AsyncProcessA:function(dB,dC){var dD;dD=this;return C.applyReplyA(function(dE){var dF;dF=null;return cD.Delay(function(){var dG;dG=dD.check(dC==null?dE.configuration:dC.$0,dE);return cD.Bind(dB(dG.resource),function(dH){return cD.Return([dD.increment(dG),dH]);});});},this.agent);},ProcessA:function(dB,dC){return this.AsyncProcessA(function(dD){var dE;dE=null;return cD.Delay(function(){return cD.Return(dB(dD));});},dC);},Dispose:function(){try{this.clean(this.get_State().resource);}catch(dB){null;}}},i,E);E.New=cy.Ctor(function(dB,dC,dD,dE,dF,dG){var dH;dH=this;i.New.call(this);this.ctor=dC;this.clean=dE==null?a.ignore:dE.$0;this.alive=dF==null?function(){return true;}:dF.$0;this.respawnRightAfter=dG==null||dG.$0;this.agent=B.stateFull(function(dI,dJ){c.print(dI);return dH.respawn(dJ);},D.New(0,dB,this.ctor(dD),dD));},E);F.runSameConfig=function(dB,dC){return q.runReader([dB,dB.get_Configuration()],dC);};F.run=function(dB,dC,dD){return q.runReader([dB,dC],dD);};F.ofResourceRm=function(dB){var dC;dC=dB.$0;return{$:0,$0:function(dD){var dE,dF,dG,dH;dE=dD[0];dF=dD[1];dG=dE[1];dH=dE[0];return dH.AsyncProcessA(function(dI){var dJ;dJ=null;return cD.Delay(function(){return cD.Bind(dC([dI,dF]),function(dK){return cD.Return([dK[0],[dH,dG],dK[2]]);});});},{$:1,$0:dG});}};};F.createAgentRm=function(dB,dC){return r.op_GreaterGreaterEquals(q.readerFun(function(dD){return dD[0].AsyncProcessA(function(dE){return dB(dE,dC);},{$:1,$0:dD[1]});}),q.ofAsync);};H.New=function(dB,dC,dD,dE){return{cargId:dB,name:dC,unique:dD,build:dE};};I=G.CommArgCollection=cy.Class({get_CommArgs:function(){return this.$0;}},null,I);I.op_Addition=function(dB,dC){return I.addPairs(dC.$0,dB);};I.op_Addition$1=function(dB,dC){return I.addPair(dC[0],dC[1],dB);};I.op_Addition$2=function(dB,dC){return I.addPairs(dC,dB);};J=G.TypedCommArg=cy.Class({get_CommArg:function(){return this.$0;}},null,J);J.op_DivisionAssignment=function(dB,dC){return[dB.$0,n.op_BarGreaterGreater(n.op_BarGreaterGreater(m.getS(),dC),a.id)];};J.op_DivisionAssignment$1=function(dB,dC){return[dB.$0,n.op_BarGreaterGreater(dC,a.id)];};J.op_DivisionAssignment$2=function(dB,dC){return[dB.$0,n.op_BarGreaterGreater(n.rtn(dC),a.id)];};K.getFloatR=function(dB,dC){return dB.$0.build.$==3?{$:0,$0:dC}:c.Error$1(new d({$:1,$0:"expecting TFloat"}));};K.getBoolR=function(dB,dC){return dB.$0.build.$==2?{$:0,$0:dC}:c.Error$1(new d({$:1,$0:"expecting TBool"}));};K.getStringR=function(dB,dC){return dB.$0.build.$==1?{$:0,$0:dC}:c.Error$1(new d({$:1,$0:"expecting TString"}));};K.getIntR=function(dB,dC){return dB.$0.build.$==0?{$:0,$0:dC}:c.Error$1(new d({$:1,$0:"expecting TInt"}));};K.argumentTRm=function(dB,dC){return K.argumentRm(dB,dC);};K.argumentRm=function(dB,dC){var dD;dD=m.fusion();return dD.Run(dD.Delay(function(){return dD.Bind(dC,function(dE){var dF;return dD.Return((dF=dB.build,dF.$==1?dF.$0(dE):dF.$==2?dF.$0(dE):dF.$==3?dF.$0(dE):dF.$0(dE)));});}));};K.NewFloat=function(dB,dC,dD){return new J({$:0,$0:K.New0(dB,dC,{$:3,$0:dD})});};K.NewBool=function(dB,dC,dD){return new J({$:0,$0:K.New0(dB,dC,{$:2,$0:dD})});};K.NewString=function(dB,dC,dD){return new J({$:0,$0:K.New0(dB,dC,{$:1,$0:dD})});};K.NewInt=function(dB,dC,dD){return new J({$:0,$0:K.New0(dB,dC,{$:0,$0:dD})});};K.New0=function(dB,dC,dD){return H.New({$:0,$0:cN.NewGuid()},dB,dC,dD);};I.addPairs=function(dB,dC){return I.append(dC,new I({$:0,$0:dB}));};I.append=function(dB,dC){var dD,dE;function dF(dG,dH){return function(dI){return I.addPair(dG,dH,dI);};}dD=(dE=function(dG){return dF.apply(null,a.id(dG));},function(dG){return function(dH){return(dE(dH))(dG);};});return cB.fold(function(dG,dH){return(dD(dG))(dH);},dB,dC.get_CommArgs());};I.addPair=function(dB,dC,dD){function dE(dF,dG){return!cL.Equals(dF.cargId,dB.cargId);}return new I({$:0,$0:cC.ofSeq(cB.append((dB.unique?function(dF){return cB.filter(function(dG){return dE(dG[0],dG[1]);},dF);}:a.id)(dD.$0),cE.ofArray([[dB,dC]])))});};I.getBoolR=function(dB,dC,dD){var dE,dF;dE=m.run(dD,I.getBoolRm(dB,dC));dF=dE[2];return j.ofOption(function(){return dF;},dE[0]);};I.getBoolRm=function(dB,dC){return n.op_BarGreaterGreater(I.tryGetBoolORm(dC),function(dD){return dD==null?dB:dD.$0;});};I.getFloatRm=function(dB){function dC(){return I.argumentNotFound(dB,void 0);}return n.op_GreaterGreaterEquals(I.tryGetFloatORm(dB),function(dD){return m.ofOption(dC,dD);});};I.getStringRm=function(dB){function dC(){return I.argumentNotFound(dB,void 0);}return n.op_GreaterGreaterEquals(I.tryGetStringORm(dB),function(dD){return m.ofOption(dC,dD);});};I.getIntRm=function(dB){function dC(){return I.argumentNotFound(dB,void 0);}return n.op_GreaterGreaterEquals(I.tryGetIntORm(dB),function(dD){return m.ofOption(dC,dD);});};I.findArgRm=function(dB){function dC(){return I.argumentNotFound(dB,void 0);}return n.op_GreaterGreaterEquals(I.tryFindArgORm(dB),function(dD){return m.ofOption(dC,dD);});};I.tryGetFloatORm=function(dB){function dC(dD,dE){return K.getFloatR(dB,dE);}return n.op_GreaterGreaterEquals(n.op_BarGreaterGreater(n.op_BarGreaterGreater(I.tryFindArgORm(dB),function(dD){var dE;return dD==null?null:{$:1,$0:(dE=dD.$0,dC(dE[0],dE[1]))};}),j.insertO),m.ofResultRM);};I.tryGetBoolORm=function(dB){function dC(dD,dE){return K.getBoolR(dB,dE);}return n.op_GreaterGreaterEquals(n.op_BarGreaterGreater(n.op_BarGreaterGreater(I.tryFindArgORm(dB),function(dD){var dE;return dD==null?null:{$:1,$0:(dE=dD.$0,dC(dE[0],dE[1]))};}),j.insertO),m.ofResultRM);};I.tryGetStringORm=function(dB){function dC(dD,dE){return K.getStringR(dB,dE);}return n.op_GreaterGreaterEquals(n.op_BarGreaterGreater(n.op_BarGreaterGreater(I.tryFindArgORm(dB),function(dD){var dE;return dD==null?null:{$:1,$0:(dE=dD.$0,dC(dE[0],dE[1]))};}),j.insertO),m.ofResultRM);};I.tryGetIntORm=function(dB){function dC(dD,dE){return K.getIntR(dB,dE);}return n.op_GreaterGreaterEquals(n.op_BarGreaterGreater(n.op_BarGreaterGreater(I.tryFindArgORm(dB),function(dD){var dE;return dD==null?null:{$:1,$0:(dE=dD.$0,dC(dE[0],dE[1]))};}),j.insertO),m.ofResultRM);};I.tryFindArgORm=function(dB){return n.op_GreaterGreaterEquals(m.readerFun(function(dC){var dD,dE;return m.insertO((dD=I.tryFindArgO(dB,dC),dD==null?null:{$:1,$0:(dE=dD.$0,m.insertFst(dE[0],dE[1]))}));}),a.id);};I.tryFindArgO=function(dB,dC){var dD;dD=dB.$0;return cB.tryFind(function(dE){return cL.Equals(dE[0].cargId,dD.cargId);},dC.$0);};I.argumentNotFound=function(dB,dC){return new d({$:1,$0:(function(dD){return function(dE){return dD("argument not found: "+cz.toSafe(dE));};}(a.id))(dB.$0.name)});};I.containsAnyOfRm=function(dB){return m.readerFun(function(dC){function dD(dE,dF){return dB.Contains(dE.cargId);}return cB.exists(function(dE){return dD(dE[0],dE[1]);},dC.$0);});};I.argumentsRm=function(dB){return n.op_GreaterGreaterEquals(I.filterRm(dB),function(dC){return m.traverseSeq(function(dD){return K.argumentTRm(dD[0],dD[1]);},dC);});};I.filterRm=function(dB){return m.readerFun(function(dC){return cB.filter(dB,dC.$0);});};I.existsRm=function(dB){return m.readerFun(function(dC){return cB.exists(dB,dC.$0);});};I.argsRm=function(){return m.readerFun(function(dB){return dB.$0;});};I.contains=function(dB,dC){function dD(dE,dF){return dE.cargId;}return cB.contains(dB.$0.cargId,cB.map(function(dE){return dD(dE[0],dE[1]);},dC.$0));};I.trueForAll=function(dB){return true;};M.NoPrepo={$:12};M.PrepoEndIf={$:9};M.PrepoElse={$:8};L.getSourceDir=function(dB,dC){var dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM;dD=cC.get(dC,0);dE=cC.tryItem(1,dC);return(dG=y.StartsWith$1("////#cd @\"",dD),dG!=null&&dG.$==1?(dF=dG.$0,true):dE!=null&&dE.$==1&&(dH=y.StartsWith$1("////#cd @\"",dE.$0),dH!=null&&dH.$==1&&(dF=dH.$0,true)))?(dI=cA.Trim(dF),(dK=y.EndsWith$1("\"",dI),dK!=null&&dK.$==1?dJ=dK.$0:dJ=dI,(dL=y.StartsWith$1("\\",dJ),dL!=null&&dL.$==1)?dJ:(dM=y.StartsWith$1("/",dJ),dM!=null&&dM.$==1)?dJ:cL.Equals(cB.tryItem(1,dJ),{$:1,$0:":"})?dJ:dB+"/"+dJ)):dB;};L.separateDirectives=function(dB){var dC,dD,dE,dF,dG;function dH(dR){return dR[1];}function dI(dR){return dR.$==1?{$:1,$0:dR.$0}:null;}function dJ(dR){return dR[1];}function dK(dR){return dR.$==2?{$:1,$0:dR.$0}:null;}function dL(dR){return dR[1];}function dM(dR){return dR.$==6?{$:1,$0:dR.$0}:null;}function dN(dR){return dR[1];}function dO(dR){return dR.$==5?{$:1,$0:dR.$0}:null;}function dP(dR){return dR[1];}function dQ(dR){return dR.$==0?{$:1,$0:dR.$0}:null;}dC=cC.ofSeq(cB.distinct(cB.choose(function(dR){return dI(dH(dR));},dB)));dD=cC.ofSeq(cB.distinct(cB.choose(function(dR){return dK(dJ(dR));},dB)));dE=cC.ofSeq(cB.distinct(cB.choose(function(dR){return dM(dL(dR));},dB)));dF=cC.ofSeq(cB.distinct(cB.choose(function(dR){return dO(dN(dR));},dB)));dG=cB.tryHead(cB.choose(function(dR){return dQ(dP(dR));},dB));return[cC.ofSeq(cB.map(function(dR){return dR[0];},dB)),dC,dD,dE,dF,dG];};L.separatePrepros=function(dB){function dC(dF){var dG;dG=cB.tryLast(cA.SplitStrings(cA.Trim(dF),["\""],1));return dG==null?dF:dG.$0;}function dD(dF){var dG;dG=cB.tryHead(cA.SplitStrings(cA.Trim(dF),["#define "],1));return dG==null?"":dG.$0;}function dE(dF){return"//"+dF;}return cC.map(function(dF){var dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT;dG=true;return dG&&cA.StartsWith(dF,"#define")?[dE(dF),{$:2,$0:dD(dF)}]:dG&&cA.StartsWith(dF,"#cd")?[dE(dF),{$:0,$0:dC(dF)}]:dG&&cA.StartsWith(dF,"#r")?[dE(dF),{$:1,$0:dC(dF)}]:dG&&cA.StartsWith(dF,"#load")?[dE(dF),{$:3,$0:dC(dF)}]:dG&&cA.StartsWith(dF,"#nowarn")?[dE(dF),{$:5,$0:dC(dF)}]:dG&&cA.StartsWith(cA.Trim(dF),"# ")?[dE(dF),{$:4,$0:dC(dF)}]:dG&&cA.StartsWith(cA.Trim(dF),"#line")?[dE(dF),{$:4,$0:dC(dF)}]:dG&&cA.StartsWith(dF,"#I")?[dE(dF),{$:6,$0:dC(dF)}]:dG&&cA.StartsWith(dF,"#if")?[dF,{$:7,$0:dF}]:dG&&cA.StartsWith(dF,"#else")?[dF,M.PrepoElse]:dG&&cA.StartsWith(dF,"#endif")?[dF,M.PrepoEndIf]:dG&&cA.StartsWith(dF,"#light")?[dF,{$:10,$0:false}]:dG&&cA.StartsWith(dF,"#")?[dE(dF),{$:11,$0:dF}]:[dF,M.NoPrepo];},dB);};L.extractDefines=function(dB){var dC;dC=dB.$0;return cA.StartsWith(dC,"////-d:")?cI.string(dC,{$:1,$0:4},{$:1,$0:dC.indexOf("\n")-1}):"";};N=c.SnippetId=cy.Class({get_Id:function(){return this.$0;}},null,N);N.get_Empty=function(){return new N({$:0,$0:"00000000-0000-0000-0000-000000000000"});};O.New=function(dB,dC,dD,dE,dF,dG,dH){return{snpId:dB,snpName:dC,snpContent:dD,snpParentIdO:dE,snpPredIds:dF,snpProperties:dG,snpGeneration:dH};};P.New=function(dB,dC,dD,dE,dF,dG){return{generation:dB,ordered:dC,fetcher:dD,predecesorsCache:dE,reducedCache:dF,prepCode:dG};};Q.codeFsxRm=function(dB){return n.op_BarGreaterGreater(Q.fastCodeRm({$:1,$0:dB},{$:1,$0:dB}),function(dC){return dC[0];});};Q.fastCodeRm=function(dB,dC){var dD;dD=m.fusion();return dD.Run(dD.Delay(function(){return dD.Bind(Q.fastReducedRm(dB,dC),function(dE){return dD.Return(Q.finishCode(dE[0],dE[1],dE[2],dE[3],dE[4],dE[5],dE[6]));});}));};Q.fastReducedRm=function(dB,dC){var dD;dD=m.fusion();return dD.Run(dD.Delay(function(){return dD.Bind(m.insertO(dB==null?null:{$:1,$0:Q.snippetORm(dB.$0)}),function(dE){return dD.Bind(m.insertO(dC==null?null:{$:1,$0:Q.snippetORm(dC.$0)}),function(dF){var dG,dH,dI,dJ;dG=dE==null?null:dE.$0;dH=dF==null?null:dF.$0;return(dH!=null&&dH.$==1?dG!=null&&dG.$==1?(dI=[dG.$0,dH.$0],false):true:true)?dD.ReturnFrom(Q.reducedCodeRm([])):(dJ=dI[0],dD.Bind(Q.uniquePredsRm(dI[1]),function(dK){var dL;dL=new cP.New(dK);return dD.Bind((Q.reducedOthersORmMemo())([true,dJ.snpId,dL]),function(dM){return dD.Bind((Q.reducedOthersORmMemo())([false,dJ.snpId,dL]),function(dN){return dD.Bind(Q.separateCodeRm(dJ),function(dO){var dP,dQ,dR,dS;dP=(dQ=dM==null?null:{$:1,$0:(function(dT){var dU,dV,dW,dX,dY,dZ,d0;dU=dT[0];dV=dT[1];dW=dT[2];dX=dT[3];dY=dT[4];dZ=dT[5];d0=dT[6];return function(d1){return Q.addSeps(dU,dV,dW,dX,dY,dZ,d0,d1[0],d1[1],d1[2],d1[3],d1[4],d1[5],d1[6]);};}(dM.$0))(dO)},dQ==null?dO:dQ.$0);return dD.Return((dR=dN==null?null:{$:1,$0:(dS=dN.$0,Q.addSeps(dP[0],dP[1],dP[2],dP[3],dP[4],dP[5],dP[6],dS[0],dS[1],dS[2],dS[3],dS[4],dS[5],dS[6]))},dR==null?dP:dR.$0));});});});}));});});}));};Q.reducedOthersORmMemo=function(){function dB(dC){return dC.reducedCache();}return function(dC){return m.memoizeRm(dB,function(dD){return Q.reducedOthersORm(dD[0],dD[1],dD[2]);},dC);};};Q.reducedOthersORm=function(dB,dC,dD){var dE;dE=m.fusion();return dE.Run(dE.Delay(function(){function dF(dG){return!cL.Equals(dG.snpId,dC)&&dD.Contains(dG.snpId);}return dE.Bind(n.op_BarGreaterGreater(n.op_BarGreaterGreater(Q.orderedRm(),(dB?function(dG){return function(dH){return cB.takeWhile(dG,dH);};}:function(dG){return function(dH){return cB.skipWhile(dG,dH);};})(function(dG){return!cL.Equals(dG.snpId,dC);})),function(dG){return cB.filter(dF,dG);}),function(dG){return cB.isEmpty(dG)?dE.Return(null):dE.Bind(Q.reducedCodeRm(dG),function(dH){return dE.Return({$:1,$0:dH});});});}));};Q.finishCode=function(dB,dC,dD,dE,dF,dG,dH){var dI,dJ;dI=cA.concat(" ",cB.map(function(dK){return"-d:"+dK;},cB.sort(dE)));dJ=cE.ofSeq(cB.delay(function(){return cB.append(dI!==""?["////"+dI]:[],cB.delay(function(){return cB.append(dH!=null?[(function(dK){return function(dL){return dK("////#cd @\""+cz.toSafe(dL)+"\"");};}(a.id))(dH.$0)]:[],cB.delay(function(){return cB.append(cB.map(function(dK){return function(dL){return dK("#I @\""+cz.toSafe(dL)+"\"");};}(a.id),dF),cB.delay(function(){return cB.append(cB.map(function(dK){return function(dL){return dK("#r @\""+cz.toSafe(dL)+"\"");};}(a.id),dD),cB.delay(function(){return cB.map(function(dK){return function(dL){return dK("#nowarn \""+cz.toSafe(dL)+"\"");};}(a.id),dG);}));}));}));}));}));return[cA.concat("\n",cB.append(dJ,dC)),cC.ofSeq((cB.mapFold(function(dK,dL){var dM;dM=dL[2];return[[[dL[0],dL[1]],[dL[3],dK,dK+dM]],dK+dM];},dJ.get_Length(),dB))[0])];};Q.reducedCodeRm=function(dB){var dC;dC=m.fusion();return dC.Run(dC.Delay(function(){return dC.Bind(m.traverseSeq(Q.separateCodeRm,dB),function(dD){var dE;return dC.Return((dE=cB.reduce(function(dF,dG){return(function(dH){var dI,dJ,dK,dL,dM,dN,dO;dI=dH[0];dJ=dH[1];dK=dH[2];dL=dH[3];dM=dH[4];dN=dH[5];dO=dH[6];return function(dP){return Q.addSeps(dI,dJ,dK,dL,dM,dN,dO,dP[0],dP[1],dP[2],dP[3],dP[4],dP[5],dP[6]);};}(dF))(dG);},cB.isEmpty(dD)?[[[],[],[],[],[],[],null]]:dD),[dE[0],[cA.concat("\n",dE[1])],dE[2],dE[3],dE[4],dE[5],dE[6]]));});}));};Q.addSeps=function(dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO){return[dB.concat(dI),dC.concat(dJ),cC.ofSeq(cB.distinct(cB.append(dD,dK))),cC.ofSeq(cB.distinct(cB.append(dE,dL))),cC.ofSeq(cB.distinct(cB.append(dF,dM))),cC.ofSeq(cB.distinct(cB.append(dG,dN))),dH==null?dO:dH];};Q.separateCodeRm=function(dB){var dC;dC=m.fusion();return dC.Run(dC.Delay(function(){return dC.Bind(Q.indentRm(dB),function(dD){var dE;function dF(dG,dH){return[cA.replicate(dD," ")+dG,dH];}dE=(dD===0?[a.id,""]:[function(dG){return cC.map(function(dH){return dF(dH[0],dH[1]);},dG);},(function(dG){return function(dH){return dG("("+a.String(dH)+")");};}(a.id))(dD)])[0];return dC.Bind(Q.prepareCodeRm(dB),function(dG){var dH,dI;dH=L.separateDirectives(dE(L.separatePrepros(cA.SplitChars(dG,["\n"],0))));dI=dH[0];return dC.Return([[[dB.snpId,Q.snippetName(dB.snpName,dB.snpContent),cC.length(dI),dD]],dI,dH[1],dH[2],dH[3],dH[4],dH[5]]);});});}));};Q.ancestorsRm=function(dB){function dC(dD,dE){var dF;dF=m.fusion();return dF.Run(dF.Delay(function(){return dF.Bind(Q.parentORm(dD),function(dG){var dH;return dG==null?dF.Return(dE):(dH=dG.$0,dF.ReturnFrom(dC(dH,new cE.T({$:1,$0:dH,$1:dE}))));});}));}return dC(dB,cE.T.Empty);};Q.levelRm=function(dB){function dC(dD,dE){var dF;dF=m.fusion();return dF.Run(dF.Delay(function(){return dF.Bind(Q.parentORm(dD),function(dG){return dG!=null&&dG.$==1?dF.ReturnFrom(dC(dG.$0,dE+1)):dF.Return(dE);});}));}return dC(dB,0);};Q.indentRm=function(dB){function dC(dD){var dE;dE=m.fusion();return dE.Run(dE.Delay(function(){var dF,dG,dH,dI;dF=(dG=Q.propertyPairO("IndentChildren",dD),dG!=null&&dG.$==1?[(z.parseIntO$1())(dG.$0[0]),(z.parseIntO$1())(dG.$0[1])]:[null,null]);dH=dF[1];dI=dF[0];return dE.Bind(Q.parentORm(dD),function(dJ){return dJ==null?dE.Return([0,[dI==null?4:dI.$0,dH==null?4:dH.$0]]):dE.Bind(dC(dJ.$0),function(dK){var dL,dM;dL=dK[1][1];dM=dK[1][0];return dE.Return([dM,[dM+(dI==null?dL:dI.$0),dH==null?dL:dH.$0]]);});});}));}return n.op_BarGreaterGreater(dC(dB),function(dD){return dD[0];});};Q.propertyHierORm=function(dB,dC){var dD;dD=m.fusion();return dD.Run(dD.Delay(function(){var dE,dF;dE=Q.propertyO(dB,dC);return dE==null?dD.Bind(Q.parentORm(dC),function(dG){return dG==null?dD.Return(null):dD.Bind(Q.propertyHierORm(dB,dG.$0),function(dH){var dI,dJ;return dD.Return(dH==null?null:{$:1,$0:(dI=dH.$0,(dI[0],dJ=dI[1],[dJ,dJ]))});});}):dD.Return({$:1,$0:(dF=cA.SplitStrings(dE.$0,["|-|"],1),[cC.get(dF,0),cC.length(dF)>0?cC.get(dF,1):cC.get(dF,0)])});}));};Q.modifiedRecRm=function(dB){var dC;dC=m.fusion();return dC.Run(dC.Delay(function(){return dC.Bind(Q.modifiedRm(dB),function(dD){return dD?dC.Return(true):dC.Bind(Q.uniquePredsRm(dB),function(dE){return dC.Bind(m.sequenceSeq(cB.map(Q.snippetORm,dE)),function(dF){return dC.Bind(m.sequenceSeq(cB.map(Q.modifiedRm,cB.choose(a.id,dF))),function(dG){return dC.Return(cB.contains(true,dG));});});});});}));};Q.uniquePredsRm=function(dB){return(Q.predsLRmMemo())(dB.snpId);};Q.predsLRmMemo=function(){function dB(dC){return dC.predecesorsCache();}return function(dC){return m.memoizeRm(dB,Q.predsLRm,dC);};};Q.predsLRm=function(dB){var dC;dC=m.fusion();return dC.Run(dC.Delay(function(){var dD,dE;dD=cE.ofArray([dB]);dE=cE.T.Empty;return dC.Combine(dC.While(function(){return!(dD.$==0);},dC.Delay(function(){var dF,dG;return dD.$==1?(dF=dD.$1,(dG=dD.$0,cE.contains(dG,dE)?(dD=dF,dC.Zero()):dC.Bind(Q.snippetORm(dG),function(dH){var dI,dJ;dD=cE.append(dF,(dI=dH==null?null:{$:1,$0:(dJ=dH.$0,cE.append(cE.ofSeq(dJ.snpPredIds),cQ.toList(dJ.snpParentIdO)))},dI==null?cE.T.Empty:dI.$0));dE=new cE.T({$:1,$0:dG,$1:dE});return dC.Zero();}))):dC.Zero();})),dC.Delay(function(){return dC.Return(dE);}));}));};Q.snippetFromRefORm=function(dB){return dB.$==1?Q.snippetFromPathORm(dB.$0):Q.snippetORm(dB.$0);};Q.snippetFromPathORm=function(dB){var dC;dC=m.fusion();return dC.Run(dC.Delay(function(){return dC.Bind(Q.orderedRm(),function(dD){function dE(dF,dG){return function(dH){return dF.length===0?[null,[[],dG]]:Q.snippetName(dH.snpName,dH.snpContent)!==cC.get(dF,0)||!cL.Equals(dH.snpParentIdO,dG)?[null,[dF,dG]]:dF.length>1?[null,[cI.array(dF,{$:1,$0:1},null),{$:1,$0:dH.snpId}]]:[{$:1,$0:dH},[[],dG]];};}return dC.Return(cB.tryHead(cB.choose(a.id,(cB.mapFold(function(dF,dG){return(function(dH){return dE(dH[0],dH[1]);}(dF))(dG);},[dB,null],dD))[0])));});}));};Q.pathRm=function(dB){var dC;function dD(dE){return n.op_BarGreaterGreater(Q.pathRm(dE.snpId),function(dF){return new cE.T({$:1,$0:dE.snpId,$1:dF});});}return n.op_BarGreaterGreater(n.op_GreaterGreaterEquals(n.op_BarGreaterGreater(n.op_BarGreaterGreater(n.op_GreaterGreaterEquals(n.op_BarGreaterGreater(Q.snippetORm(dB),function(dE){return dE==null?null:{$:1,$0:Q.parentORm(dE.$0)};}),m.insertO),function(dE){return dE==null?null:a.id(dE.$0);}),function(dE){return dE==null?null:{$:1,$0:dD(dE.$0)};}),m.insertO),(dC=cE.T.Empty,function(dE){return dE==null?dC:dE.$0;}));};Q.snippetRm=function(dB){return m.absorbO(function(){return new d({$:1,$0:(function(dC){return function(dD){return dC("Snippet not found "+cu.p(dD));};}(a.id))(dB)});},Q.snippetORm(dB));};Q.prepareCodeRm=function(dB){return m.readerFun(function(dC){return dC.prepCode(dB);});};Q.orderedRm=function(){return m.readerFun(function(dB){return dB.ordered;});};Q.childrenRm=function(dB){return m.readerFun(function(dC){return cB.filter(function(dD){return cL.Equals(dD.snpParentIdO,{$:1,$0:dB});},dC.ordered);});};Q.modifiedRm=function(dB){return m.readerFun(function(dC){return dB.snpGeneration>dC.generation;});};Q.maxGenerationRm=function(){return m.readerFun(function(dB){return cB.max(cB.map(function(dC){return dC.snpGeneration;},dB.ordered));});};Q.predecessorsRm=function(dB){return m.readerFun(function(dC){return cB.choose(dC.fetcher,dB.snpPredIds);});};Q.parentORm=function(dB){return m.readerFun(function(dC){var dD;dD=dB.snpParentIdO;return dD==null?null:dC.fetcher(dD.$0);});};Q.snippetORm=function(dB){return m.readerFun(function(dC){return dC.fetcher(dB);});};Q.propertyPairO=function(dB,dC){var dD,dE,dF,dG;dD=Q.propertyO(dB,dC);return dD==null?null:{$:1,$0:(dE=cA.SplitStrings(dD.$0,["|-|"],1),[cC.get(dE,0),(dF=cC.tryItem(1,dE),(dG=cC.get(dE,0),dF==null?dG:dF.$0))])};};Q.propertyO=function(dB,dC){function dD(dE,dF){return dE===dB?{$:1,$0:dF}:null;}return cC.tryPick(function(dE){return dD(dE[0],dE[1]);},dC.snpProperties);};Q.nameSanitized=function(dB){var dC,dD;dC=["\"","<",">","|","\u0000","\u0001","\u0002","\u0003","\u0004","\u0005","\u0006","\u0007","\u0008","\u0009","\n","\u000b","\u000c","\r","\u000e","\u000f","\u0010","\u0011","\u0012","\u0013","\u0014","\u0015","\u0016","\u0017","\u0018","\u0019","\u001a","\u001b","\u001c","\u001d","\u001e","\u001f",":","*","?","\\","/"];return cA.Filter(function(dE){return!cC.contains(dE,dC);},dB.snpName)+" "+(dD=dB.snpId.get_Id(),a.String(dD));};Q.snippetName=function(dB,dC){var dD;return dB!==""?dB:(dD=cB.tryHead(cB.filter(function(dE){return!(cA.StartsWith(dE,"#")||cA.StartsWith(dE,"[<")||cA.StartsWith(dE,"//"));},cB.map(cA.Trim,cA.SplitChars(dC,["\n"],1)))),dD==null?"<empty>":dD.$0);};Q.defaultSnippet=function(){cr.$cctor();return cr.defaultSnippet;};Q.New=function(dB,dC,dD){return O.New(new N({$:0,$0:cN.NewGuid()}),dB,dC,dD,new cP.New$1(null),[],(Q.getNextGeneration())());};Q.getNextGeneration=function(){cr.$cctor();return cr.getNextGeneration;};Q.setGeneration=function(){cr.$cctor();return cr.setGeneration;};R.Hole={$:0};T.New=function(dB,dC,dD,dE,dF,dG,dH){return{id:dB,isExpandedRm:dC,canHaveChildrenRm:dD,childrenRm:dE,pathRm:dF,parentORm:dG,newChildrenRm:dH};};S.removeNodeOutdentChildren=function(dB,dC){var dD;function dE(dF,dG){return n.op_GreaterGreaterEquals(dF,function(dH){return S.outdentNode(dG,dH);});}return n.op_GreaterGreaterEquals(n.op_GreaterGreaterEquals(n.op_BarGreaterGreater(dB.childrenRm(),cC.ofSeq),(dD=n.rtn(dC),function(dF){return cB.fold(dE,dD,dF);})),function(dF){return S.removeNode(dB,dF);});};S.outdentNode=function(dB,dC){var dD;function dE(dF){return S.moveToSibling(true,dB,dF,dC);}return n.op_GreaterGreaterEquals(n.op_BarGreaterGreater(dB.parentORm(dC),function(dF){return dF==null?null:{$:1,$0:dE(dF.$0)};}),(dD=n.rtn(dC),function(dF){return dF==null?dD:dF.$0;}));};S.indentNode=function(dB,dC){var dD;function dE(dG){return!cL.Equals(dB.id(),dG.id());}function dF(dG,dH){return n.op_GreaterGreaterEquals(dH.canHaveChildrenRm(),function(dI){return dI?n.rtn({$:1,$0:dH}):dG;});}return n.op_GreaterGreaterEquals(n.op_GreaterGreaterEquals(n.op_BarGreaterGreater(n.op_GreaterGreaterEquals(dB.parentORm(dC),function(dG){return dG!=null&&dG.$==1?n.op_BarGreaterGreater(dG.$0.childrenRm(),function(dH){var dI;dI=cC.ofSeq(dH);return dI;}):n.rtn(dC);}),function(dG){return cB.takeWhile(dE,dG);}),(dD=n.rtn(null),function(dG){return cB.fold(dF,dD,dG);})),function(dG){var dH;return dG!=null&&dG.$==1?(dH=dG.$0,n.op_GreaterGreaterEquals(S.removeNode(dB,dC),function(dI){return S.addChild(true,dB,dH,dI);})):n.rtn(dC);});};S.addChild=function(dB,dC,dD,dE){var dF;dF=m.fusion();return dF.Run(dF.Delay(function(){return dF.Bind(dD.pathRm(),function(dG){function dH(dI){var dJ,dK;return cL.Equals(dI.id(),dD.id())?dB?n.op_GreaterGreaterEquals(n.op_BarGreaterGreater(n.op_BarGreaterGreater(n.op_BarGreaterGreater(dI.childrenRm(),cC.ofSeq),(dJ=cE.ofArray([dC]),function(dL){return cB.append(dL,dJ);})),cC.ofSeq),dI.newChildrenRm):n.op_GreaterGreaterEquals(n.op_BarGreaterGreater(n.op_BarGreaterGreater(n.op_BarGreaterGreater(dI.childrenRm(),cC.ofSeq),(dK=cE.ofArray([dC]),function(dL){return cB.append(dK,dL);})),cC.ofSeq),dI.newChildrenRm):cE.contains(dI.id(),dG)?n.op_GreaterGreaterEquals(n.op_BarGreaterGreater(n.op_GreaterGreaterEquals(n.op_BarGreaterGreater(n.op_BarGreaterGreater(dI.childrenRm(),cC.ofSeq),function(dL){return cB.map(dH,dL);}),m.sequenceSeq),cC.ofSeq),dI.newChildrenRm):n.rtn(dI);}return dF.ReturnFrom(m.sequenceSeq(cB.map(dH,dE)));});}));};S.moveToSibling2=function(dB,dC,dD,dE){var dF;dF=m.fusion();return dF.Run(dF.Delay(function(){return dF.Bind(S.tryFindId(dC,dE),function(dG){var dH;return dG!=null&&dG.$==1?(dH=dG.$0,dF.Bind(S.tryFindId(dD,dE),function(dI){return dI!=null&&dI.$==1?dF.ReturnFrom(S.moveToSibling(dB,dH,dI.$0,dE)):dF.Return(dE);})):dF.Return(dE);});}));};S.moveToSibling=function(dB,dC,dD,dE){return n.op_GreaterGreaterEquals(S.removeNode(dC,dE),function(dF){return S.addSibling(dB,dC,dD,dF);});};S.tryFindId=function(dB,dC){return S.tryFind(function(dD){return cL.Equals(dD.id(),dB);},dC);};S.tryFind=function(dB,dC){function dD(dE,dF){return n.op_GreaterGreaterEquals(dE,function(dG){var dH;return dG==null?dB(dF)?n.rtn({$:1,$0:dF}):n.op_GreaterGreaterEquals(dF.childrenRm(),(dH=n.rtn(null),function(dI){return cB.fold(dD,dH,dI);})):n.rtn({$:1,$0:dG.$0});});}return cB.fold(dD,n.rtn(null),dC);};S.addSibling=function(dB,dC,dD,dE){function dF(dG){return cL.Equals(dG.id(),dD.id());}return n.op_GreaterGreaterEquals(dD.pathRm(),function(dG){var dH,dI;function dJ(dK){return cL.Equals(dK.id(),dI)?n.op_GreaterGreaterEquals(n.op_BarGreaterGreater(dK.childrenRm(),cC.ofSeq),function(dL){return S.addToParent(dB,dF,dC,dK,dL);}):cE.contains(dK.id(),dH)?n.op_GreaterGreaterEquals(n.op_BarGreaterGreater(n.op_GreaterGreaterEquals(n.op_BarGreaterGreater(n.op_BarGreaterGreater(dK.childrenRm(),cC.ofSeq),function(dL){return cB.map(dJ,dL);}),m.sequenceSeq),cC.ofSeq),dK.newChildrenRm):n.rtn(dK);}return dG.$==1?(dH=dG.$1,(dI=dG.$0,m.sequenceSeq(cB.map(dJ,dE)))):n.rtn(S.addNodeToSeq(dB,dF,dC,dE));});};S.addToParent=function(dB,dC,dD,dE,dF){return dE.newChildrenRm(cC.ofSeq(S.addNodeToSeq(dB,dC,dD,dF)));};S.addNodeToSeq=function(dB,dC,dD,dE){return cE.ofSeq(cB.delay(function(){return cB.collect(function(dF){return dC(dF)?dB?cB.append([dF],cB.delay(function(){return[dD];})):cB.append([dD],cB.delay(function(){return[dF];})):[dF];},dE);}));};S.removeNodes=function(dB,dC){var dD;dD=m.fusion();return dD.Run(dD.Delay(function(){function dE(dF,dG){var dH;dH=m.fusion();return dH.Run(dH.Delay(function(){return dH.Bind(dF,function(dI){var dJ,dK;dJ=dI[1];dK=dI[0];return dH.Bind(n.op_BarGreaterGreater(dG.childrenRm(),cC.ofSeq),function(dL){return dH.Bind(cB.fold(dE,n.rtn([cE.T.Empty,dJ]),dL),function(dM){var dN,dO;dN=dM[1];dO=dM[0];return dB(dG)?dH.Return([dK,cE.append(dO,dN)]):dH.Bind(dG.newChildrenRm(cC.ofSeq(cB.rev(dO))),function(dP){return dH.Return([new cE.T({$:1,$0:dP,$1:dK}),dN]);});});});});}));}return dD.Bind(cB.fold(dE,n.rtn([cE.T.Empty,cE.T.Empty]),dC),function(dF){return dD.Return(cE.rev(cE.append(dF[1],dF[0])));});}));};S.removeNode=function(dB,dC){var dD;dD=m.fusion();return dD.Run(dD.Delay(function(){return dD.Bind(dB.pathRm(),function(dE){function dF(dG){var dH;dH=m.fusion();return dH.Run(dH.Delay(function(){return cL.Equals(dG.id(),dB.id())?dH.Return(null):cE.contains(dG.id(),dE)?dH.ReturnFrom(n.op_BarGreaterGreater(n.op_GreaterGreaterEquals(n.op_BarGreaterGreater(n.op_BarGreaterGreater(n.op_GreaterGreaterEquals(n.op_BarGreaterGreater(n.op_BarGreaterGreater(dG.childrenRm(),cC.ofSeq),function(dI){return cB.map(dF,dI);}),m.sequenceSeq),function(dI){return cB.choose(a.id,dI);}),cC.ofSeq),dG.newChildrenRm),function(dI){return{$:1,$0:dI};})):dH.Return({$:1,$0:dG});}));}return dD.ReturnFrom(n.op_BarGreaterGreater(m.sequenceSeq(cB.map(dF,dC)),function(dG){return cB.choose(a.id,dG);}));});}));};S.listNodes=function(dB,dC){return n.op_BarGreaterGreater(m.sequenceSeq(cB.map(function(dD){return n.op_BarGreaterGreater(n.op_GreaterGreaterEquals(dD.isExpandedRm(),function(dE){var dF;return dE?n.op_GreaterGreaterEquals(n.op_BarGreaterGreater(dD.childrenRm(),cC.ofSeq),(dF=dB+1,function(dG){return S.listNodes(dF,dG);})):n.rtn([]);}),function(dE){return cB.append([[dD,dB]],dE);});},dC)),function(dD){return cB.collect(a.id,dD);});};c["String.Right$1"]=function(dB,dC){var dD,dE;return c["String.Substring2$1"](dB,(dD=0,(dE=dB.length-dC,cL.Compare(dD,dE)===1?dD:dE)),dB.length);};c["String.Left$1"]=function(dB,dC){return c["String.Substring2$1"](dB,0,dC);};c["String.Substring2$1"]=function(dB,dC,dD){var dE,dF;while(true){if(dD<=0)return"";else if(dC<0){dE=dC;dC=0;dD=dD+dE;}else return dC>=dB.length?"":cA.Substring(dB,dC,(dF=dB.length-dC,cL.Compare(dD,dF)===-1?dD:dF));}};c.delayed$1=function(dB,dC){var dD;dD=[null];return function(dE){var dF,dG;dF=dD[0];dF==null?void 0:dF.$0.Cancel$1();dD[0]={$:1,$0:new cR.New()};cD.Start((dG=null,cD.Delay(function(){return cD.Bind(cD.Sleep(dB),function(){dC(dE);return cD.Zero();});})),{$:1,$0:dD[0].$0});};};c.print=function(dB){if(typeof dB=="string")((function(dC){return function(dD){return dC(cz.toSafe(dD));};}(function(dC){cS.log(dC);}))(dB));else((function(dC){return function(dD){return dC(cz.prettyPrint(dD));};}(function(dC){cS.log(dC);}))(dB));};c.Error$1=function(dB){return{$:1,$0:dB};};V.ofAsyncResult=function(dB){return new a.Promise(function(dC,dD){cD.StartWithContinuations(dB,function(dE){if(dE.$==1)dD((function(dF){return function(dG){return dF(cz.prettyPrint(dG));};}(a.id))(dE.$0));else dC(dE.$0);},function(dE){dD(dE);},function(dE){dD(dE);},null);});};W.sequenceSeq=function(dB){return W.traverseSeq(a.id,dB);};W.traverseSeq=function(dB,dC){return W.map(a.id,cC.foldBack(function(dD,dE){return W.op_GreaterGreaterEquals(dB(dD),function(dF){return W.op_GreaterGreaterEquals(dE,function(dG){return W.rtn(new cE.T({$:1,$0:dF,$1:dG}));});});},cC.ofSeq(dC),W.rtn(cE.T.Empty)));};W.op_GreaterGreaterEquals=function(dB,dC){return W.bind(dC,dB);};W.rtn=function(dB){return cU.Const(dB);};W.map=function(dB,dC){return cU.Map(dB,dC);};W.bind=function(dB,dC){return cU.Bind(dB,dC);};W.insertWO=function(dB){return dB==null?cU.Const(null):cU.Map(function(dC){return{$:1,$0:dC};},dB.$0);};X.serLMdField=function(dB,dC,dD,dE){var dF;function dG(dH,dI){dC(dH).Set(dF[1](dI));return dH;}dF=X.serSeq(dD,dE);return[dB,function(dH){var dI;dI=(dC(dH))["var"].Get();return dF[0](dI);},function(dH){return function(dI){return dG(dH,dI);};}];};X.serVarField=function(dB,dC,dD,dE){var dF;function dG(dH){return dH.Get();}return[dB,(dF=function(dH){return dG(dC(dH));},function(dH){return dD(dF(dH));}),function(dH){return function(dI){cV.Set(dC(dH),dE(dI));return dH;};}];};X.serMap=function(dB,dC,dD,dE){var dF,dG,dH,dI,dJ;function dK(dM){return[dM.K,dM.V];}function dL(dM){return new cW.New(dM);}dF=(dG=X.serDup(dB,dC,dD,dE),X.serSeq(dG[0],dG[1]));return[(dH=function(dM){return cB.map(dK,dM);},(dI=dF[0],function(dM){return dI(dH(dM));})),(dJ=dF[1],function(dM){return dL(dJ(dM));})];};X.serDup=function(dB,dC,dD,dE){var dF,dG,dH;function dI(dK){return[dF[1](null),dG[1](null)];}function dJ(dK){return[dF[1](cC.get(dK,0)),dG[1](cC.get(dK,1))];}dF=[dB,dC];dG=[dD,dE];return[function(dK){return(((cy.Curried3(function(dL,dM,dN){return dL("["+cz.toSafe(dM)+", "+cz.toSafe(dN)+"]");}))(a.id))(dF[0](dK[0])))(dG[0](dK[1]));},(dH=function(dK){return X.ifUndefF(dI,dJ,dK);},function(dK){return dH(a.id(dK));})];};X.serOpt=function(dB,dC){var dD,dE,dF,dG,dH,dI;function dJ(dM){return dM==null?"null":dM.$0;}function dK(dM){return null;}function dL(dM){return{$:1,$0:dM};}dD=[dB,dC];return[(dE=(dF=dD[0],function(dM){return dM==null?null:{$:1,$0:dF(dM.$0)};}),function(dM){return dJ(dE(dM));}),(dG=(dH=(dI=dD[1],function(dM){return dL(dI(dM));}),function(dM){return X.ifUndefF(dK,dH,dM);}),function(dM){return dG(a.id(dM));})];};X.serSet=function(dB,dC){var dD,dE,dF,dG,dH,dI,dJ;function dK(dM){return[];}function dL(dM){return new cP.New(dM);}dD=[dB,dC];return[(dE=(dF=dD[0],function(dM){return new cP.New$1(cX.OfSeq(cB.map(dF,dM)));}),function(dM){return X.sprintA(dE(dM));}),(dG=(dH=(dI=(dJ=dD[1],function(dM){return cB.map(dJ,dM);}),function(dM){return X.ifUndefF(dK,dI,dM);}),function(dM){return dH(a.id(dM));}),function(dM){return dL(dG(dM));})];};X.serLst=function(dB,dC){var dD,dE,dF,dG,dH,dI,dJ;function dK(dL){return[];}dD=[dB,dC];return[(dE=(dF=dD[0],function(dL){return cE.map(dF,dL);}),function(dL){return X.sprintA(dE(dL));}),(dG=(dH=(dI=(dJ=dD[1],function(dL){return cB.map(dJ,dL);}),function(dL){return X.ifUndefF(dK,dI,dL);}),function(dL){return dH(a.id(dL));}),function(dL){return cE.ofSeq(dG(dL));})];};X.serArr=function(dB,dC){var dD,dE,dF,dG,dH,dI,dJ;function dK(dL){return[];}dD=[dB,dC];return[(dE=(dF=dD[0],function(dL){return cC.map(dF,dL);}),function(dL){return X.sprintA(dE(dL));}),(dG=(dH=(dI=(dJ=dD[1],function(dL){return cB.map(dJ,dL);}),function(dL){return X.ifUndefF(dK,dI,dL);}),function(dL){return dH(a.id(dL));}),function(dL){return cC.ofSeq(dG(dL));})];};X.serSeq=function(dB,dC){var dD,dE,dF,dG,dH,dI;function dJ(dK){return[];}dD=[dB,dC];return[(dE=(dF=dD[0],function(dK){return cB.map(dF,dK);}),function(dK){return X.sprintA(dE(dK));}),(dG=(dH=(dI=dD[1],function(dK){return cB.map(dI,dK);}),function(dK){return X.ifUndefF(dJ,dH,dK);}),function(dK){return dG(a.id(dK));})];};X.serField=function(dB,dC,dD,dE,dF){return[dB,function(dG){return dE(dC(dG));},function(dG){return function(dH){return dD(dF(dH),dG);};}];};X.serString=function(){cr.$cctor();return cr.serString;};X.serBool=function(){cr.$cctor();return cr.serBool;};X.serInt=function(){cr.$cctor();return cr.serInt;};X.serFloat=function(){cr.$cctor();return cr.serFloat;};X.sprintA=function(dB){var dC;dC=cA.concat(", ",dB);return(function(dD){return function(dE){return dD("["+cz.toSafe(dE)+"]");};}(a.id))(dC);};X.deserGuid=function(){cr.$cctor();return cr.deserGuid;};X.Exists=function(dB,dC){return!dC[dB]?null:{$:1,$0:dC[dB]};};X.ifUndefF=function(dB,dC,dD){return!dD?dB(dD):dC(dD);};X.ifUndef=function(dB,dC){return!dC?dB:dC;};Y.LoadFilesAsync=function(dB){var dC;dC=null;return cD.Delay(function(){return cD.For(dB,function(dD){return cD.Bind(Y.LoadFile(dD),function(){return cD.Return(null);});});});};Y.LoadFile=function(dB){var dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP;function dQ(dS,dT){return cA.EndsWith(dT,dS)?{$:1,$0:null}:null;}function dR(dS,dT){try{dO.onload=dS;self.document.head.appendChild(dO);}catch(dU){dT(dU);}}dC=(dD=((dF=dQ(".js",dB),dF!=null&&dF.$==1)?!self.document.querySelector("script[src='"+dB+"']")||((dG=dQ(".fsx",dB),dG!=null&&dG.$==1)?!self.document.querySelector("script[src='"+dB+"']")||(dH=dQ(".fs",dB),dH!=null&&dH.$==1)&&!self.document.querySelector("script[src='"+dB+"']"):(dI=dQ(".fs",dB),dI!=null&&dI.$==1)&&!self.document.querySelector("script[src='"+dB+"']")):(dJ=dQ(".fsx",dB),dJ!=null&&dJ.$==1)?!self.document.querySelector("script[src='"+dB+"']")||(dK=dQ(".fs",dB),dK!=null&&dK.$==1)&&!self.document.querySelector("script[src='"+dB+"']"):(dL=dQ(".fs",dB),dL!=null&&dL.$==1)&&!self.document.querySelector("script[src='"+dB+"']"))?{$:1,$0:Y.createScript(dB)}:(dM=dQ(".css",dB),dM!=null&&dM.$==1)?{$:1,$0:Y.createCss(dB)}:(dN=dQ(".html",dB),dN!=null&&dN.$==1)?{$:1,$0:Y.createHtml(dB)}:null,dD==null?null:{$:1,$0:(dO=dD.$0,cD.FromContinuations(function(dS,dT,dU){return dR.apply(null,[dS,dT,dU]);}))});return dC==null?(dP=null,cD.Delay(function(){return cD.Return(null);})):dC.$0;};Y.createHtml=function(dB){var dC;dC=self.document.createElement("link");dC.setAttribute("rel","import");dC.setAttribute("type","text/html");dC.setAttribute("href",dB);return dC;};Y.createCss=function(dB){var dC;dC=self.document.createElement("link");dC.setAttribute("rel","stylesheet");dC.setAttribute("type","text/css");dC.setAttribute("href",dB);return dC;};Y.createScript=function(dB){var dC;dC=self.document.createElement("script");dC.setAttribute("type","text/javascript");dC.setAttribute("src",dB);return dC;};Z.getEndWord$1=function(dB,dC){var dD,dE;dD=U.REGEX$2("^([a-zA-Z_]\\w*)","g",dB.substring(dC));return dD!=null&&dD.$==1?(dE=dD.$0,!cL.Equals(dE,null)&&dE.length===1)?cC.get(dD.$0,0):"":"";};Z.getStartWord$1=function(dB,dC){var dD,dE;dD=U.REGEX$2("([a-zA-Z_]\\w*)$","g",cA.Substring(dB,0,dC));return dD!=null&&dD.$==1?(dE=dD.$0,!cL.Equals(dE,null)&&dE.length===1)?cC.get(dD.$0,0):"":"";};_1=_0.Hoverable=cy.Class({Content:function(dB){return dB.on("mouseenter",function(){return cY.AddClass(dB.elt,"hovering");}).on("mouseleave",function(){return cY.RemoveClass(dB.elt,"hovering");});},Content$1:function(dB){return cZ.Element("div",this.get_Attributes(),dB);},get_Attributes:function(){var dB,dC;dB=this;return cE.ofArray([(dC=cU.Const("hovering"),c0.DynamicPred("class",this.hover.get_View(),dC)),c1.HandlerImpl("mouseenter",function(){return function(){return dB.hover.Set(true);};}),c1.HandlerImpl("mouseleave",function(){return function(){return dB.hover.Set(false);};})]);}},null,_1);_1.get_Demo$1=function(){return _1.New$3().Content(cZ.Element("div",[c1.Create("style","flex-flow: column;")],[cZ.TextNode("Hover over me!")]));};_1.Content$2280$81=cy.Curried3(function(dB,dC,dD){return cY.RemoveClass(dB.elt,"hovering");});_1.get_Attributes$2276$69=cy.Curried3(function(dB,dC,dD){return dB.hover.Set(false);});_1.get_Attributes$2275$69=cy.Curried3(function(dB,dC,dD){return dB.hover.Set(true);});_1.New$3=function(){return _1.New$2(cV.Create$1(false));};_1.New$2=function(dB){return new _1({hover:dB});};_0.hoverable$1=function(dB){return _1.New$3().Content(dB);};_2.addResizeObserver$1=function(dB,dC){var dD,dE,dF,dG;try{dD=!(!a.ResizeObserver);}catch(dH){dD=false;}if(dD){dE=new a.ResizeObserver(dB);_2.set_observers$1(new cE.T({$:1,$0:dE,$1:_2.observers$1()}));dE.observe(dC);}else{dF=_2.dimsChanged$1(dC);cD.Start((dG=null,cD.Delay(function(){return cD.While(function(){return dC.isConnected;},cD.Delay(function(){return cD.Bind(cD.Sleep(110),function(){return dF()?(dB(),cD.Zero()):cD.Zero();});}));})),null);}};_2.dimsChanged$1=function(dB){var dC;dC=[dB.getBoundingClientRect()];return function(){var dD;dD=dB.getBoundingClientRect();return cL.Equals(_2.domRect2Tuple$1(dC[0]),_2.domRect2Tuple$1(dD))?false:(dC[0]=dD,true);};};_2.domRect2Tuple$1=function(dB){return[dB.top,dB.left,dB.width,dB.height];};_2.observers$1=function(){cr.$cctor();return cr.observers;};_2.set_observers$1=function(dB){cr.$cctor();cr.observers=dB;};_5=_4.WcTabStripT=cy.Class({connectedCallback:function(){var dB,dC,dD,dE;function dF(){var dG,dH,dI;dH=!dC.hasAttribute("bottom");dI=cE.ofSeq(cB.delay(function(){return cB.collect(function(dJ){var dK;dK=dC.childNodes[dJ-1];return cL.Equals(dK.nodeType,c2.ELEMENT_NODE)?[[dK.hasAttribute("tabname")?dK.getAttribute("tabname"):(function(dL){return function(dM){return dL("Tab "+a.String(dM));};}(a.id))(dJ),dK]]:[];},cH.range(1,dC.childNodes.length));}));while(dE.childNodes.length>0)dE.removeChild(dE.lastChild);dG=_4.tabStrip$1(dB.selected,dH,true,dI,cZ.Element("slot",cE.T.Empty,cE.T.Empty));c4.LoadLocalTemplates("");cZ.Run(dE,dG);}dB=this;!this.added?(dC=this,dD=dC.attachShadow({mode:"open"}),dE=self.document.createElement("div"),dD.appendChild(dE),dF(),dC.addEventListener("DOMSubtreeModified",c.delayed$1(50,dF)),this.added=true):void 0;}},i,_5);_5.Constructor$1=function(){var dB,dC;dB=(dC=c5.construct(self.HTMLElement,[],this.__proto__.constructor),dC);self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New.call(dB);return dB;};_5.New$1=cy.Ctor(function(){i.New.call(this);this.added=false;this.selected=cV.Create$1(1);(function(dB){return dB("WcTabStripT initializer");}(function(dB){cS.log(dB);}));},_5);_4.init$1=function(){cr.$cctor();return cr.init;};_4.tabStrip$2418$64=function(dB,dC){return function(){return function(){return dC.Set(dB+1);};};};_4.tabStrip$1=function(dB,dC,dD,dE,dF){var dG;dG=cZ.Element("div",[c1.Create("class",(((cy.Curried3(function(dH,dI,dJ){return dH("tab-strip "+cz.toSafe(dI)+" "+cz.toSafe(dJ));}))(a.id))(dC?"top":"bottom"))(dD?"horizontal":"vertical"))],cE.ofSeq(cB.delay(function(){return cB.collect(function(dH){var dI;dI=dH[0];return[_1.New$3().Content(cZ.Element("div",[c0.Dynamic("class",cU.Map(function(dJ){return"tab"+(dJ===dI+1?" selected":"");},dB.get_View())),c1.Create("draggable","true"),c1.HandlerImpl("click",function(){return function(){return dB.Set(dI+1);};})],[cZ.TextNode(dH[1][0])]))];},cB.indexed(dE));})));return cZ.Element("div",[c1.Create("class","tab-panel")],cE.ofSeq(cB.delay(function(){return cB.append(dC?[dG]:[],cB.delay(function(){return cB.append([cZ.Element("div",[c1.Create("class","tab-content")],[dF])],cB.delay(function(){return cB.append(!dC?[dG]:[],cB.delay(function(){return cB.append([cZ.Element("style",cE.T.Empty,cE.ofArray([cZ.TextNode(_4.css$1())]))],cB.delay(function(){return[cZ.Element("style",cE.T.Empty,cE.ofArray([cZ.TextView(cU.Map(function(dH){return function(dI){return dH("\r\n                                              ::slotted(*              ) { display: none }\r\n                                              ::slotted(*:nth-child("+a.String(dI)+")) { display: grid }\r\n                                           ");};}(a.id),dB.get_View()))]))];}));}));}));}));})));};_4.css$1=function(){cr.$cctor();return cr.css;};_7=_6.WcSplitterT=cy.Class({connectedCallback:function(){var dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ;function dR(dZ){var d0,d1,d2,d3;d0=dI?["padding-left","padding-right","grid-column-gap"]:["padding-top","padding-bottom","grid-row-gap"];d1=a.parseFloat("0"+a.jQuery(dZ.parentElement.parentElement).css(d0[0]));d2=a.parseFloat("0"+a.jQuery(dZ.parentElement.parentElement).css(d0[1]));dL.Set(a.parseFloat("0"+a.jQuery(dZ.parentElement.parentElement).css(d0[2])));dK[0]=d1+d2;d3=dB.getBoundingClientRect();return dI?dH?[d3.width,d3.height]:[-d3.width,d3.height]:dH?[d3.height,d3.width]:[-d3.height,d3.width];}function dS(dZ){return dI?dZ.clientX:dZ.clientY;}function dT(dZ){var d0,d1;d0=(dS(dZ)-dO[0])*100/dJ[0][0]+dN[0];dG.Set((d1=cL.Compare(dE,d0)===1?dE:d0,cL.Compare(dF,d1)===-1?dF:d1));}function dU(){if(dM[0]){dM[0]=false;self.removeEventListener("mousemove",dT,false);self.removeEventListener("mouseup",dU,false);}}function dV(dZ){var d0,d1;if(!dM[0]){dM[0]=true;dN[0]=dG.Get();dO[0]=dS(dZ);dJ[0]=(d0=(d1=dP[0],d1==null?null:{$:1,$0:dR(d1.$0)}),d0==null?[100,500]:d0.$0);self.addEventListener("mousemove",dT,false);self.addEventListener("mouseup",dU,false);dZ.preventDefault();}}function dW(dZ,d0,d1,d2){return[(dZ-d0-d1)*d2/100,(dZ-d0-d1)*(100-d2)/100];}function dX(dZ,d0){return(((((cy.Curried(function(d1,d2,d3,d4,d5){return d1(" "+d2.toFixed(2)+"px "+d3.toFixed(2)+"px ; "+cz.toSafe(d4)+" : "+d5.toFixed(2)+"px; ");},5))(a.id))(dZ))(d0))(dI?"height":"width"))(dJ[0][1]);}function dY(){var dZ;dZ=dP[0];dZ==null?void 0:dJ[0]=dR(dZ.$0);dG.Set(dG.Get());}if(!this.added){dB=this;dC=dB.attachShadow({mode:"open"});dD=self.document.createElement("div");dE=dB.hasAttribute("min")?a.parseFloat(dB.getAttribute("min")):4;dF=dB.hasAttribute("max")?a.parseFloat(dB.getAttribute("max")):96;dG=cV.Create$1(dB.hasAttribute("value")?a.parseFloat(dB.getAttribute("value")):50);dH=!dB.hasAttribute("second");dI=dB.hasAttribute("vertical");dJ=[[0,0]];dK=[0];dL=cV.Create$1(0);dM=[false];dN=[0];dO=[0];dP=[null];dQ=(((((dI?_6.layoutVertical$1():_6.layoutHorizontal$1())(cU.Map(function(dZ){var d0;d0=dW(dJ[0][0],dL.Get(),dK[0],dZ);return dX.apply(null,d0);},dG.get_View())))(function(){_2.addResizeObserver$1(dY,dB);dY();}))(function(dZ){dP[0]={$:1,$0:dZ};dY();}))(function(dZ){dV(dZ);}))(cU.Map(function(dZ){return function(d0){return dZ(cz.prettyPrint(d0)+"px");};}(a.id),dL.get_View()));c4.LoadLocalTemplates("");cZ.Run(dD,dQ);dC.appendChild(dD.firstChild);this.added=true;}}},i,_7);_7.Constructor$1=function(){var dB,dC;dB=(dC=c5.construct(self.HTMLElement,[],this.__proto__.constructor),dC);self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New.call(dB);return dB;};_7.New$1=cy.Ctor(function(){i.New.call(this);this.added=false;(function(dB){return dB("WcSplitterT initializer");}(function(dB){cS.log(dB);}));},_7);_6.init$1=function(dB,dC){var dD,dE,dF;dD=new _7.New$1();_6.set_layoutHorizontal$1(dB);_6.set_layoutVertical$1(dC);dE="wcomp-splitter";dF=self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New;cS.log("defineWebComponent: "+dE);c6.setPrototypeOf(dF.prototype,self.HTMLElement.prototype);c6.setPrototypeOf(dF,self.HTMLElement);c6.setPrototypeOf(_7.Constructor$1.prototype,dF.prototype);self.customElements.define(dE,_7.Constructor$1);};_6.layoutVertical$1=function(){cr.$cctor();return cr.layoutVertical;};_6.set_layoutVertical$1=function(dB){cr.$cctor();cr.layoutVertical=dB;};_6.layoutHorizontal$1=function(){cr.$cctor();return cr.layoutHorizontal;};_6.set_layoutHorizontal$1=function(dB){cr.$cctor();cr.layoutHorizontal=dB;};_9.New=function(dB,dC){return{column:dB,lineNumber:dC};};_.New=function(dB,dC,dD,dE){return{startColumn:dB,endColumn:dC,startLineNumber:dD,endLineNumber:dE};};$.New=function(dB,dC,dD,dE,dF,dG){return{authority:dB,fragment:dC,fsPath:dD,path:dE,query:dF,scheme:dG};};ba.New=function(dB,dC){return{range:dB,uri:dC};};bb.New=function(dB,dC){return{matches:dB,range:dC};};bc.New=function(dB,dC,dD){return{endColumn:dB,startColumn:dC,word:dD};};bd.New=function(dB){return{uri:dB};};be.New=function(dB,dC){return{value:dB,isTrusted:dC};};bf.New=function(dB,dC,dD,dE,dF,dG){return{startColumn:dB,endColumn:dC,startLineNumber:dD,endLineNumber:dE,severity:dF,message:dG};};bg.New=function(dB,dC,dD){return{kind:dB,label:dC,detail:dD};};bh.New=function(dB,dC){return{contents:dB,range:dC};};bi=_8.Editor=cy.Class({},i,bi);bi.New=cy.Ctor(function(){i.New.call(this);},bi);bj.New=function(dB,dC,dD,dE,dF,dG,dH){return{"var":dB,onChange:dC,onRender:dD,editorO:dE,disabled:dF,options:dG,overrides:dH};};_8.newVarO=function(dB){var dC;dC=_8.newVar(cV.Lens(dB,function(dD){return dD==null?"":dD.$0;},function(dD,dE){return dD==null?null:{$:1,$0:dE};}));return _8.disabled(cU.Map(function(dD){return dD==null;},dB.get_View()),dC);};_8.newText=function(dB){return _8.newVar(cV.Create$1(dB));};_8["var"]=function(dB){return dB["var"];};_8.disabled=function(dB,dC){return bj.New(dC["var"],dC.onChange,dC.onRender,dC.editorO,dB,dC.options,dC.overrides);};_8.onRender=function(dB,dC){return bj.New(dC["var"],dC.onChange,{$:1,$0:dB},dC.editorO,dC.disabled,dC.options,dC.overrides);};_8.onChange=function(dB,dC){return bj.New(dC["var"],dB,dC.onRender,dC.editorO,dC.disabled,dC.options,dC.overrides);};_8.setVar=function(dB,dC){return bj.New(dB,dC.onChange,dC.onRender,dC.editorO,dC.disabled,dC.options,dC.overrides);};_8.render$2768$42=function(dB){return function(dC){var dD;cD.Start((dD=null,cD.Delay(function(){return cD.Bind(_8.loader(),function(){var dE,dF,dG;dE=(dF=dC.parentElement,self.monaco.editor.create(dF,dB.options,dB.overrides));_2.addResizeObserver$1(function(){dE.layout();},dC.parentElement);dC.parentNode.removeChild(dC);dB.editorO={$:1,$0:dE};dG=dB.onRender;dG==null?void 0:dG.$0(dE);U.bindVarEditor(function(dH){dE.onDidChangeModelContent(dH);},function(){return dE.getValue();},function(dH){dE.setValue(dH);},dB.onChange,dB["var"]);return cD.Zero();});})),null);};};_8.render=function(dB){return cZ.Element("div",[c1.OnAfterRenderImpl(function(dC){var dD;cD.Start((dD=null,cD.Delay(function(){return cD.Bind(_8.loader(),function(){var dE,dF,dG;dE=(dF=dC.parentElement,self.monaco.editor.create(dF,dB.options,dB.overrides));_2.addResizeObserver$1(function(){dE.layout();},dC.parentElement);dC.parentNode.removeChild(dC);dB.editorO={$:1,$0:dE};dG=dB.onRender;dG==null?void 0:dG.$0(dE);U.bindVarEditor(function(dH){dE.onDidChangeModelContent(dH);},function(){return dE.getValue();},function(dH){dE.setValue(dH);},dB.onChange,dB["var"]);return cD.Zero();});})),null);})],[]);};_8.loader=function(){cr.$cctor();return cr.loader;};_8.newVar=function(dB){return bj.New(dB,a.ignore,null,null,cU.Const(false),null,null);};U.rexGuid$1=function(){cr.$cctor();return cr.rexGuid;};U.REGEX$2=function(dB,dC,dD){var dE;if(dD===null)return null;else try{dE=(new a.String(dD)).match(new a.RegExp(dB,dC));return cL.Equals(dE,null)?null:!cL.Equals(dE,null)&&dE.length===0?null:{$:1,$0:dE};}catch(dF){return null;}};U.bindVarEditor=function(dB,dC,dD,dE,dF){var dG,dH;dG=[0];dH=[0];dB(function(){var dI;dI=dC();dF.Get()!==dI?(dG[0]=dG[0]+1,dF.Set(dI),dE()):void 0;});cU.Sink(function(){if(dG[0]>dH[0])dH[0]=dG[0];else if(dC()!==dF.Get())dD(dF.Get());},dF.get_View());};bl.extractConfig=function(dB,dC){var dD;dD=dC.$0;return{$:0,$0:L.getSourceDir(dB,y.splitByChar$1("\n",dD)),$1:" --nologo --quiet "+L.extractDefines({$:0,$0:dD})};};bn=bm.Address=cy.Class({get_txt:function(){return this.$0;}},null,bn);bo.BRGetProcessId={$:1};bo.BRGetConnections={$:0};bp.MsgRequestForEcho={$:5};bp.MsgRequestForId={$:4};bp.MsgFromBroker={$:3};bp.MsgReply={$:2};bp.MsgRequest={$:1};bp.MsgInformation={$:0};bq.BMReceiverCantReply={$:4};bq.BMOnlyBrokerShouldUse={$:1};bq.BMOk={$:0};br.Receiver={$:2};br.Broker={$:1};br.NoReply={$:0};bs.New=function(dB,dC,dD,dE,dF,dG,dH){return{from:dB,destination:dC,msgType:dD,subtype:dE,id:dF,payload:dG,replier:dH};};bt.FSharp={$:0};bu.FSStation={$:0};bv.JScript={$:0};bx=bw.Handler=cy.Class({Cancel:function(dB,dC){var dD;dD=this.waitingAgent;dD.mailbox.AddLast({$:3,$0:dB,$1:dC});dD.resume();},Raise:function(dB,dC){var dD;dD=this.waitingAgent;dD.mailbox.AddLast({$:2,$0:dB,$1:dC});dD.resume();},Reply:function(dB,dC){var dD;dD=this.waitingAgent;dD.mailbox.AddLast({$:1,$0:dB,$1:dC});dD.resume();},Add:function(dB,dC){var dD;dD=this.waitingAgent;dD.mailbox.AddLast({$:0,$0:dB,$1:dC});dD.resume();}},i,bx);bx.New=cy.Ctor(function(dB){i.New.call(this);this.waitingAgent=B.fold(B.defHandler,function(dC,dD){var dE,dF,dG;function dH(dI,dJ,dK){var dL,dM;dL=(dM=c7.TryFind(dI,dC),dM==null?null:{$:1,$0:dJ(dM.$0)});dL==null?dK():void 0;return dC.Remove(dI);}return dD.$==1?(dE=dD.$1,dH(dD.$0,function(dI){dI[0](dE);},function(){dB(dE);})):dD.$==2?(dF=dD.$1,dH(dD.$0,function(dI){dI[1](dF);},a.ignore)):dD.$==3?(dG=dD.$1,dH(dD.$0,function(dI){dI[2](dG);},a.ignore)):dC.Add(dD.$0,dD.$1);},new cW.New([]));},bx);by=bm.WSMessagingClient=cy.Class({sendMsg:function(dB){var dC,dD;dC=this;dD=e.asyncResult();return dD.Run(dD.Delay(function(){return dB.replier.$===0?dD.Bind$1(dC.sendAndForget(dB),function(){return dD.Return("");}):dD.ReturnFrom$1(dC.sendGetReply(dB));}));},getProcessId:function(){var dB,dC;dB=this;dC=e.asyncResult();return dC.Run(dC.Delay(function(){var dD,dE;return dC.Bind$1(dB.sendGetReply((dD=bm.MessageBrokerAddress(),(dE=c8.stringify((cs.j$9())(bo.BRGetProcessId)),bs.New(new bn({$:0,$0:""}),dD,bp.MsgRequest,"",cN.NewGuid(),dE,br.NoReply)))),function(dF){var dG;dG=(ct.j$7())(c8.parse(dF));return dG.$==1?dC.Return(dG.$0):dC.ReturnFrom({$:1,$0:new d({$:4,$0:{$:6,$0:(function(dH){return function(dI){return dH(cu.p$4(dI));};}(a.id))(dG)}})});});}));},getListeners:function(){var dB,dC;dB=this;dC=e.asyncResult();return dC.Run(dC.Delay(function(){var dD,dE;return dC.Bind$1(dB.sendGetReply((dD=bm.MessageBrokerAddress(),(dE=c8.stringify((cs.j$9())(bo.BRGetConnections)),bs.New(new bn({$:0,$0:""}),dD,bp.MsgRequest,"",cN.NewGuid(),dE,br.NoReply)))),function(dF){var dG;dG=(ct.j$7())(c8.parse(dF));return dG.$==0?dC.Return(dG.$0):dC.ReturnFrom({$:1,$0:new d({$:4,$0:{$:6,$0:(function(dH){return function(dI){return dH(cu.p$4(dI));};}(a.id))(dG)}})});});}));},sendGetReply:function(dB){var dC,dD;dC=this;dD=e.asyncResult();return dD.Run(dD.Delay(function(){return dD.Bind$1(dC.sendAndReply(br.Receiver,dB),function(dE){var dF;return dD.Bind((dF=dE.msgType,dF.$==2?{$:0,$0:dE.payload}:dF.$==3?{$:1,$0:new d({$:4,$0:(ct.j$8())(c8.parse(dE.payload))})}:{$:1,$0:new d({$:4,$0:{$:5,$0:dE.msgType}})}),function(dG){return dD.Return(dG);});});}));},sendAndVerify:function(dB){var dC,dD;dC=this;dD=e.asyncResult();return dD.Run(dD.Delay(function(){return dD.Bind$1(dC.sendAndReply(br.Broker,dB),function(dE){var dF;return dD.Bind(dE.msgType.$==3?(dF=(ct.j$8())(c8.parse(dE.payload)),dF.$===0?{$:0,$0:null}:{$:1,$0:new d({$:4,$0:dF})}):{$:1,$0:new d({$:4,$0:{$:5,$0:dE.msgType}})},function(){return dD.Return();});});}));},sendAndReply:function(dB,dC){var dD,dE;dD=this;dE=e.asyncResult();return dE.Run(dE.Delay(function(){return dE.Bind$1(dD.getServer(),function(dF){return x["AsyncResultBuilder.ReturnFrom"](dE,cD.FromContinuations(function(dG,dH,dI){var dJ;dD.waiting.Add(dC.id,[dG,dH,dI]);dD.postR(dF,dB,dC);return dD.wsTimeout>0?cD.Start((dJ=null,cD.Delay(function(){return cD.Bind(cD.Sleep(dD.wsTimeout),function(){dD.waiting.Raise(dC.id,new c9.New$1((((cy.Curried3(function(dK,dL,dM){return dK("Did not receive reply in "+a.String(dL)+" seconds for Message: "+cw.p(dM));}))(a.id))(dD.wsTimeout/1000>>0))(dC)));return cD.Zero();});})),null):null;}));});}));},sendAndForget:function(dB){var dC,dD;dC=this;dD=e.asyncResult();return dD.Run(dD.Delay(function(){return dD.Bind$1(dC.getServer(),function(dE){dC.postR(dE,br.NoReply,dB);return dD.Zero();});}));},postR:function(dB,dC,dD){try{dB.FsRoot_Library2_WebSockets_IServer$Post(bm.replier(dC,bm.from(this.clientAddress,dD)));}catch(dE){this.serverO=null;throw dE;}},getServer:function(){return this.checkServer.PostAndAsyncReply(function(dB){return[dB,null];},null);},connectToWebSocketServer:function(){var dB,dC;dB=this;(function(dD){return dD("in connectToWebSocketServer");}(function(dD){cS.log(dD);}));dC=null;return cD.Delay(function(){return cD.Bind(((dB.connectStateful(dB.wsEndPoint))(dB.clientId))(function(dD){var dE;dE=null;return cD.Delay(function(){return cD.Return([0,function(dF){return function(dG){var dH;dH=null;return cD.Delay(function(){return cD.Combine(cD.TryWith(cD.Delay(function(){return dG.$==2?((function(dI){return function(dJ){return dI("WebSocket "+cz.toSafe(dJ)+" connection open.");};}(function(dI){cS.log(dI);}))(dB.clientId),dB.serverO={$:1,$0:dD},cD.Zero()):dG.$==3?((function(dI){return function(dJ){return dI("WebSocket "+cz.toSafe(dJ)+" connection closed.");};}(function(dI){cS.log(dI);}))(dB.clientId),dB.close(),cD.Zero()):dG.$==1?((function(dI){return function(dJ){return dI("WebSocket "+cz.toSafe(dJ)+" connection error!");};}(function(dI){cS.log(dI);}))(dB.clientId),cD.Zero()):(dB.processMessage(dG.$0),cD.Zero());}),function(dI){(((cy.Curried3(function(dJ,dK,dL){return dJ("msg: "+cu.p$8(dK)+" \nexn:"+cz.prettyPrint(dL));}))(function(dJ){cS.log(dJ);}))(dG))(dI);return cD.Zero();}),cD.Delay(function(){return cD.Return(dF);}));});};}]);});}),function(){(function(dD){return dD("connectToWebSocketServer with server");}(function(dD){cS.log(dD);}));return cD.Zero();});});},processMessage:function(dB){var dC,dD,dE,dF,dG,dJ;dD=this;dE=dB.msgType;function dH(dK){dD.reply(dK);}function dI(dK){return cD.Return(dK);}switch(dE.$==2?0:dE.$==0?1:dE.$==1?2:dE.$==5?3:dE.$==4?4:0){case 0:this.processReply(dB);break;case 1:(((cy.Curried3(function(dK,dL,dM){return dK("Information from '"+cz.toSafe(dL)+"': "+cz.toSafe(dM));}))(function(dK){cS.log(dK);}))(dB.from.get_txt()))(((c$.Id())())(c8.parse(dB.payload)));break;case 2:dF=this.payloadProcessorO;dF!=null&&dF.$==1?cD.Start(cD.Bind(dD.mapPayloadWrap(dF.$0,dB),(dG=function(dK){return dH(bm.makeReply(dK));},function(dK){return dI(dG(dK));})),null):dB.replier.$===2?null:null;break;case 3:dD.reply(bm.msgType(bp.MsgInformation,bm.mapPayload(a.id,dB)));break;case 4:dD.reply(bm.msgType(bp.MsgInformation,(dJ=bm.makeReply(dB),bs.New(dJ.from,dJ.destination,dJ.msgType,dJ.subtype,dJ.id,c8.stringify(((c$.Id())())(this.clientId)),dJ.replier))));break;}},mapPayloadWrap:function(dB,dC){var dD;dD=null;return cD.Delay(function(){return cD.Bind(dB(dC.payload),function(dE){return cD.Return(bm.mapPayload(function(){return dE;},dC));});});},processReply:function(dB){this.waiting.Reply(dB.id,dB);},close:function(){var dB;dB=this.serverO;dB==null?void 0:(dB.$0.FsRoot_Library2_WebSockets_IServer$Close(),this.serverO=null);},reply:function(dB){var dC;dC=this.serverO;dC==null?void 0:dC.$0.FsRoot_Library2_WebSockets_IServer$Post(bm.destination(dB.from,bm.from(this.clientAddress,dB)));},set_Out:function(dB){this.out=dB;},SendMsg:function(dB){return this.sendMsg(dB);},get_ClientId:function(){return this.clientId;},get_EndPoint:function(){return this.wsEndPoint;},get_MBProcessId:function(){return this.getProcessId();},get_MBListeners:function(){return this.getListeners();},Dispose:function(){this.close();}},i,by);by.New=cy.Ctor(function(dB,dC,dD){by.New$1.call(this,cy.Curried3(function(dE,dF,dG){function dH(dJ){}function dI(dJ){return cD.Return(dJ);}return cD.Bind(dd.ConnectStateful(function(dJ){return c8.stringify((cs.j())(dJ));},function(dJ){return(ct.j())(c8.parse(dJ));},de.CreateRemote((((cy.Curried3(function(dJ,dK,dL){return dJ("ws://"+cz.toSafe(dK)+"?ClientId="+cz.toSafe(dL));}))(a.id))(dE))(dF),{$:1,$0:db.JsonEncoding.Readable}),function(dJ){var dK;return dG((dK={FsRoot_Library2_WebSockets_IServer$Post:function(dL){return dJ.Post(dL);},FsRoot_Library2_WebSockets_IServer$Close:function(){return dJ.get_Connection().close(1000);}},(i.New.call(dK),dK)));}),function(dJ){return dI(dH(dJ));});}),dB,dC,dD);},by);by.New$1=cy.Ctor(function(dB,dC,dD,dE){var dF,dG;dF=this;i.New.call(this);this.connectStateful=dB;this.clientId=dC;this.wsEndPoint=(dG=bm.extractEndPoint()+"/ws",dE==null?dG:dE.$0);this.clientAddress=new bn({$:0,$0:this.clientId});this.wsTimeout=dD==null?60000:dD.$0;this.out=function(dH){return function(dI){return dH(cz.toSafe(dI));};}(function(dH){cS.log(dH);});this.serverO=null;this.payloadProcessorO=null;this.waiting=new bx.New(function(dH){(((cy.Curried3(function(dI,dJ,dK){return dI("Reply from '"+cz.toSafe(dJ)+"': "+cz.toSafe(dK));}))(function(dI){cS.log(dI);}))(dH.from.get_txt()))(dH.payload);});this.checkServer=B.callA(function(dH){c.print(dH);},function(){var dH;dH=null;return cD.Delay(function(){(function(dI){return dI("getServer");}(function(dI){cS.log(dI);}));return cD.Combine(dF.serverO==null?(function(dI){return dI("getServer Connecting");}(function(dI){cS.log(dI);}),cD.Bind(dF.connectToWebSocketServer(),function(){return cD.Bind(cD.Sleep(200),function(){return cD.Return(null);});})):cD.Zero(),cD.Delay(function(){return cD.Return(j.ofOption(function(){return new d({$:1,$0:"could not connect to Server"});},dF.serverO));}));});});},by);bm.extractEndPoint=function(){return cC.get(cA.SplitChars(df.href.substring(df.href.indexOf("//")+2),["/"],0),0);};bm.makeReply=function(dB){return bm.replier(br.NoReply,bm.msgType(bp.MsgReply,dB));};bm.mapPayload=function(dB,dC){return bs.New(dC.from,dC.destination,dC.msgType,dC.subtype,dC.id,dB(dC.payload),dC.replier);};bm.msgId=function(dB,dC){return bs.New(dC.from,dC.destination,dC.msgType,dC.subtype,dB,dC.payload,dC.replier);};bm.replier=function(dB,dC){return bs.New(dC.from,dC.destination,dC.msgType,dC.subtype,dC.id,dC.payload,dB);};bm.subtype=function(dB,dC){return bs.New(dC.from,dC.destination,dC.msgType,dB,dC.id,dC.payload,dC.replier);};bm.msgType=function(dB,dC){return bs.New(dC.from,dC.destination,dB,dC.subtype,dC.id,dC.payload,dC.replier);};bm.destination=function(dB,dC){return bs.New(dC.from,dB,dC.msgType,dC.subtype,dC.id,dC.payload,dC.replier);};bm.from=function(dB,dC){return bs.New(dB,dC.destination,dC.msgType,dC.subtype,dC.id,dC.payload,dC.replier);};bm.MessageBrokerAddress=function(){cr.$cctor();return cr.MessageBrokerAddress;};bm.MessageBrokerId=function(){cr.$cctor();return cr.MessageBrokerId;};bz.MsgGetUrl={$:5};bz.MsgGetId={$:0};bC.New=function(dB,dC){return{Code:dB,Message:dC};};bD.New=function(dB,dC,dD){return{File:dB,Line:dC,Column:dD};};bE.New=function(dB,dC,dD,dE){return{Name:dB,ReplacementText:dC,Glyph:dD,GlyphChar:dE};};bF.New=function(dB,dC,dD){return{Signature:dB,Comment:dC,Footer:dD};};bG.New=function(dB,dC,dD,dE){return{Name:dB,CanonicalTypeTextForSorting:dC,Display:dD,Description:dE};};bH.New=function(dB,dC,dD,dE){return{Tip:dB,TypeText:dC,Parameters:dD,IsStaticArguments:dE};};bI.New=function(dB,dC){return{Name:dB,Type:dC};};bJ.New=function(dB,dC){return{OutputType:dB,Parameters:dC};};bK.New=function(dB,dC,dD){return{Name:dB,CurrentParameter:dC,Overloads:dD};};bL.New=function(dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL){return{FileName:dB,StartLine:dC,StartColumn:dD,EndLine:dE,EndColumn:dF,IsFromDefinition:dG,IsFromAttribute:dH,IsFromComputationExpression:dI,IsFromDispatchSlotImplementation:dJ,IsFromPattern:dK,IsFromType:dL};};bM.New=function(dB,dC){return{Name:dB,Uses:dC};};bN.New=function(dB,dC){return{Name:dB,Overloads:dC};};bO.New=function(dB,dC,dD){return{Fsc:dB,Fsi:dC,MSBuild:dD};};bP.New=function(dB,dC,dD,dE,dF,dG,dH,dI){return{FileName:dB,StartLine:dC,EndLine:dD,StartColumn:dE,EndColumn:dF,Severity:dG,Message:dH,Subcategory:dI};};bQ.New=function(dB,dC){return{File:dB,Errors:dC};};bR.New=function(dB){return{Kind:dB};};bS.New=function(dB,dC,dD,dE,dF,dG,dH,dI){return{UniqueName:dB,Name:dC,Glyph:dD,GlyphChar:dE,IsTopLevel:dF,File:dG,EnclosingEntity:dH,IsAbstract:dI};};bT.New=function(dB,dC){return{Declaration:dB,Nested:dC};};bU.New=function(dB,dC,dD,dE,dF,dG){return{Namespace:dB,Name:dC,Type:dD,Line:dE,Column:dF,MultipleNames:dG};};bV.New=function(dB,dC){return{Name:dB,Qualifier:dC};};bW.New=function(dB,dC,dD){return{Opens:dB,Qualifies:dC,Word:dD};};bX.New=function(dB){return{Text:dB};};bZ.New=function(dB,dC,dD,dE){return{FileName:dB,IsAsync:dC,Lines:dD,Version:dE};};b0.New=function(dB,dC,dD){return{FileName:dB,Lines:dC,Version:dD};};b1.New=function(dB,dC,dD,dE,dF,dG){return{FileName:dB,SourceLine:dC,Line:dD,Column:dE,Filter:dF,IncludeKeywords:dG};};b2.New=function(dB,dC,dD,dE){return{FileName:dB,Line:dC,Column:dD,Filter:dE};};b3.New=function(dB){return{FileName:dB};};b4.New=function(dB){return{FileName:dB};};b5.New=function(dB){return{Symbol:dB};};b6.New=function(dB,dC,dD){return{Directory:dB,Deep:dC,ExcludedDirs:dD};};b7.symbolUseProject=function(dB,dC,dD,dE){return b7.FSAutocompleteCall("symboluseproject",function(dF){return dF.$==4?{$:1,$0:dF.$0}:null;},{$:3,$0:b2.New(dB,dC,dD,dE)});};b7.symbolUse=function(dB,dC,dD,dE){return b7.FSAutocompleteCall("symboluse",function(dF){return dF.$==4?{$:1,$0:dF.$0}:null;},{$:3,$0:b2.New(dB,dC,dD,dE)});};b7.helpText=function(dB){return b7.FSAutocompleteCall("helptext",function(dC){return dC.$==2?{$:1,$0:dC.$0}:null;},{$:6,$0:b5.New(dB)});};b7.declarations=function(dB,dC,dD){return b7.FSAutocompleteCall("declarations",function(dE){return dE.$==10?{$:1,$0:dE.$0}:null;},{$:1,$0:b0.New(dB,dC,dD)});};b7.findDeclaration=function(dB,dC,dD,dE){return b7.FSAutocompleteCall("finddeclaration",function(dF){return dF.$==9?{$:1,$0:dF.$0}:null;},{$:3,$0:b2.New(dB,dC,dD,dE)});};b7.findTypeDecl=function(dB,dC,dD,dE){return b7.FSAutocompleteCall("findtypedeclaration",function(dF){return dF.$==9?{$:1,$0:dF.$0}:null;},{$:3,$0:b2.New(dB,dC,dD,dE)});};b7.completion=function(dB,dC,dD,dE,dF,dG){return b7.FSAutocompleteCall("completion",function(dH){return dH.$==3?{$:1,$0:dH.$0}:null;},{$:2,$0:b1.New(dD,dB,dE,dF,dG,dC)});};b7.signatureData=function(dB,dC,dD,dE){return b7.FSAutocompleteCall("signatureData",function(dF){return dF.$==13?{$:1,$0:dF.$0}:null;},{$:3,$0:b2.New(dB,dC,dD,dE)});};b7.signature=function(dB,dC,dD,dE){return b7.FSAutocompleteCall("signature",function(dF){return dF.$==12?{$:1,$0:dF.$0}:null;},{$:3,$0:b2.New(dB,dC,dD,dE)});};b7.toolTip=function(dB,dC,dD,dE){return b7.FSAutocompleteCall("tooltip",function(dF){return dF.$==11?{$:1,$0:dF.$0}:null;},{$:3,$0:b2.New(dB,dC,dD,dE)});};b7.parseCode=function(dB,dC,dD,dE){return b7.FSAutocompleteCall("parse",function(dF){return dF.$==7?{$:1,$0:dF.$0}:null;},{$:0,$0:bZ.New(dB,dD,dC,dE)});};b7.FSAutocompleteCall=function(dB,dC,dD){var dE;dE=e.asyncResult();return dE.Run(dE.Delay(function(){return dE.Bind$1((new dh.New()).Async("FSharpStation:FsRoot.Library2+FsAutoComplete.FSAutocompleteCall0:-1842881046",[dB,dD]),function(dF){var dG,dH;function dI(dJ){return dJ!=null;}dG=cC.partition(function(dJ){return dI(dC(dJ));},dF);dH=dG[1];return dE.Bind(j.ofOption(function(){return new d({$:4,$0:dH});},cB.tryHead(cB.choose(dC,dG[0]))),function(dJ){return dE.Return([dJ,dH]);});});}));};b9.annotationsV=function(){cr.$cctor();return cr.annotationsV;};b9.srcDir=function(){cr.$cctor();return cr.srcDir;};b9.set_srcDir=function(dB){cr.$cctor();cr.srcDir=dB;};b9.rootDir=function(){cr.$cctor();return cr.rootDir;};b9.set_rootDir=function(dB){cr.$cctor();cr.rootDir=dB;};b9.id=function(){cr.$cctor();return cr.id;};b_.expandParents=function(dB){b_.iterReader(n.op_BarGreaterGreater(Q.pathRm(dB),function(dC){var dD;dD=cP.op_Subtraction(b_.collapsedV().Get(),new cP.New(dC));b_.collapsedV().Set(dD);}));};b_.toggleCollapse=function(dB){var dC;dC=((b_.collapsedV().Get().Contains(dB)?function(dD){return function(dE){return dE.Remove(dD);};}:function(dD){return function(dE){return dE.Add(dD);};})(dB))(b_.collapsedV().Get());b_.collapsedV().Set(dC);};b_.newSnippet=function(dB){var dC;dC=Q.New("","",null);b_.iterReader(n.op_BarGreaterGreater(b_.addSnippetRm(dC),function(){b_.currentSnippetIdOV().Set({$:1,$0:dC.snpId});}));};b_.addSnippetRm=function(dB){var dC,dD,dE;b_.snippets().Append(dB);dC=(dD=b_.hierarchy().Get(),cB.append([b_.treenode(dB.snpId)],dD));return n.op_BarGreaterGreater(n.op_BarGreaterGreater(n.op_GreaterGreaterEquals(n.op_BarGreaterGreater(m.insertO((dE=b_.currentSnippetIdOV().Get(),dE==null?null:{$:1,$0:Q.snippetORm(dE.$0)})),function(dF){return dF==null?null:a.id(dF.$0);}),function(dF){return dF!=null&&dF.$==1?S.moveToSibling2(true,dB.snpId,dF.$0.snpId,dC):n.rtn(dC);}),cC.ofSeq),function(dF){b_.hierarchy().Set(dF);});};b_.setSnippetsGen=function(dB,dC){function dD(dE){return b_.treenode(dE.snpId);}b_.collapsedV().Set(dC);b_.snippets().Set(dB);b_.updateGeneration();b_.iterReader(n.op_BarGreaterGreater(n.op_BarGreaterGreater(n.op_BarGreaterGreater(n.op_BarGreaterGreater(m.sequenceSeq(cB.map(function(dE){return n.op_BarGreaterGreater(Q.parentORm(dE),function(dF){return dF==null?{$:1,$0:dE}:null;});},dB)),function(dE){return cB.choose(a.id,dE);}),function(dE){return cB.map(dD,dE);}),cC.ofSeq),function(dE){b_.hierarchy().Set(dE);}));};b_.updateGeneration=function(){var dB;b_.iterReader((dB=m.fusion(),dB.Run(dB.Delay(function(){return dB.Bind(Q.maxGenerationRm(),function(dC){b_.generation().Set(dC);return dB.Zero();});}))));};b_.moveNode=function(dB,dC){b_.iterReader(n.op_BarGreaterGreater(n.op_BarGreaterGreater(S.moveToSibling2(false,dB,dC,b_.hierarchy().Get()),cC.ofSeq),function(dD){b_.hierarchy().Set(dD);}));};b_.indentOut=function(dB){var dC,dD;dC=b_.currentSnippetIdOV().Get();dC==null?void 0:b_.iterReader(n.op_BarGreaterGreater(n.op_BarGreaterGreater((dD=b_.hierarchy().Get(),S.outdentNode(b_.treenode(dC.$0),dD)),cC.ofSeq),function(dE){b_.hierarchy().Set(dE);}));};b_.indentIn=function(dB){var dC,dD;dC=b_.currentSnippetIdOV().Get();dC==null?void 0:b_.iterReader(n.op_BarGreaterGreater(n.op_BarGreaterGreater((dD=b_.hierarchy().Get(),S.indentNode(b_.treenode(dC.$0),dD)),cC.ofSeq),function(dE){b_.hierarchy().Set(dE);}));};b_.deleteCurrentSnippet=function(dB){var dC,dD,dE;dC=b_.currentSnippetIdOV().Get();dC==null?void 0:(dD=dC.$0,b_.iterReader(n.op_BarGreaterGreater(n.op_BarGreaterGreater(n.op_BarGreaterGreater((dE=b_.hierarchy().Get(),S.removeNodeOutdentChildren(b_.treenode(dD),dE)),cC.ofSeq),function(dF){b_.hierarchy().Set(dF);}),function(){b_.snippets().RemoveByKey(dD);})));};b_.expandClassW=function(dB){var dC;dC=b_.snippets().v;return cU.Map2(function(){return b_.runReader(b_.handleError,b_.expandClassRm(dB));},b_.collapsedV().get_View(),dC);};b_.expandClassRm=function(dB){return n.op_GreaterGreaterEquals(Q.childrenRm(dB),function(dC){return cB.isEmpty(dC)?n.rtn(""):n.op_BarGreaterGreater(b_.treenode(dB).isExpandedRm(),function(dD){return dD?"expanded":"collapsed";});});};b_.togglePredecessor=function(dB){var dC,dD;dC=cV.Lens(b_.currentSnippetV(),function(dE){return dE.snpPredIds;},function(dE,dF){return O.New(dE.snpId,dE.snpName,dE.snpContent,dE.snpParentIdO,dF,dE.snpProperties,dE.snpGeneration);});dC.Set((dD=dC.Get(),((dC.Get().Contains(dB)?function(dE){return function(dF){return dF.Remove(dE);};}:function(dE){return function(dF){return dF.Add(dE);};})(dB))(dD)));b_.clearPredsCache();};b_.isIncludedPredecessorW=function(dB){return cU.Map(function(dC){return b_.runReader(function(){return false;},n.op_BarGreaterGreater(Q.uniquePredsRm(dC),function(dD){return cB.contains(dB,dD);}));},b_.codeSnippetW());};b_.isIndirectPredecessorW=function(dB){return cU.Map(function(dC){return b_.runReader(function(){return false;},n.op_BarGreaterGreater(Q.uniquePredsRm(dC),function(dD){return cB.contains(dB,dD);}));},b_.currentSnippetW());};b_.treenode=function(dB){return T.New(function(){return dB;},function(){return n.rtn(!b_.collapsedV().Get().Contains(dB));},function(){return n.rtn(true);},function(){function dC(dD){return b_.treenode(dD.snpId);}return n.op_BarGreaterGreater(Q.childrenRm(dB),function(dD){return cB.map(dC,dD);});},function(){return Q.pathRm(dB);},function(){function dC(dD){return dD.snpParentIdO;}return n.op_BarGreaterGreater(n.op_BarGreaterGreater(Q.snippetORm(dB),function(dD){return dD==null?null:dC(dD.$0);}),function(dD){return dD==null?null:{$:1,$0:b_.treenode(dD.$0)};});},function(dC){return n.op_BarGreaterGreater(b_.setChildrenRm(dB,dC),function(){return b_.treenode(dB);});});};b_.setChildrenRm=function(dB,dC){var dD;dD=m.fusion();return dD.Run(dD.Delay(function(){var dE,dF,dG,dH,dI,dJ;dE=cC.map(function(dK){return dK.id();},dC);cB.iter(function(dK){b_.setSnippet(dK);},cB.map(function(dK){return O.New(dK.snpId,dK.snpName,dK.snpContent,{$:1,$0:dB},dK.snpPredIds,dK.snpProperties,dK.snpGeneration);},cB.filter(function(dK){return!cL.Equals(dK.snpParentIdO,{$:1,$0:dB})&&cC.contains(dK.snpId,dE);},b_.snippets())));cB.iter(function(dK){b_.setSnippet(dK);},cB.map(function(dK){return O.New(dK.snpId,dK.snpName,dK.snpContent,null,dK.snpPredIds,dK.snpProperties,dK.snpGeneration);},cB.filter(function(dK){return cL.Equals(dK.snpParentIdO,{$:1,$0:dB})&&!cC.contains(dK.snpId,dE);},b_.snippets())));b_.clearPredsCache();dF=cC.partition(function(dK){return b_.isDescendantOf(dB,dK.snpId);},cC.ofSeq((b_.snippets())["var"].Get()));dG=dF[1];dH=dF[0];dI=cC.findIndex(function(dK){return cL.Equals(dK.snpId,dB);},dG);dJ=cC.ofSeq(cB.delay(function(){return cB.append(cI.array(dG,{$:1,$0:0},{$:1,$0:dI}),cB.delay(function(){return cB.append(cB.collect(function(dK){return cB.append([cB.find(function(dL){return cL.Equals(dL.snpId,dK);},dH)],cB.delay(function(){return cB.filter(function(dL){return b_.isDescendantOf(dK,dL.snpId);},dH);}));},dE),cB.delay(function(){return cI.array(dG,{$:1,$0:dI+1},null);}));}));}));b_.snippets().Set(dJ);return dD.Zero();}));};b_.SaveAsClassW=function(){cr.$cctor();return cr.SaveAsClassW;};b_.hasChangedW=function(dB){return cU.Map(function(dC){return dC<dB.snpGeneration;},b_.generation().get_View());};b_.codeStartsW=function(){cr.$cctor();return cr.codeStartsW;};b_.FsCodeW=function(){cr.$cctor();return cr.FsCodeW;};b_.codeAndStartsW=function(){cr.$cctor();return cr.codeAndStartsW;};b_.getHierarchyW=function(){cr.$cctor();return cr.getHierarchyW;};b_.findSnippetV=function(dB){return new di.New(b_.findSnippetW(dB),function(dC){b_.setSnippet(dC);});};b_.findSnippetW=function(dB){return cU.Map(function(dC){var dD;dD=Q.defaultSnippet();return dC==null?dD:dC.$0;},b_.snippets().TryFindByKeyAsView(dB));};b_.codeSnippetClassW=function(dB){return cU.Map(function(dC){return cL.Equals({$:1,$0:dB},dC)?"codeSnippet":"";},b_.codeSnippetIdOV().get_View());};b_.selectedClassW=function(dB){return cU.Map(function(dC){return cL.Equals({$:1,$0:dB},dC)?"selected":"";},b_.currentSnippetIdOV().get_View());};b_.currentSnippetV=function(){cr.$cctor();return cr.currentSnippetV;};b_.codeSnippetW=function(){cr.$cctor();return cr.codeSnippetW;};b_.currentSnippetW=function(){cr.$cctor();return cr.currentSnippetW;};b_.CurrentSnippetIdW=function(){cr.$cctor();return cr.CurrentSnippetIdW;};b_.isDescendantOf=function(dB,dC){var dD,dE,dF;return cL.Equals(dC,dB)?false:(dD=(dE=(b_.getParentIdO())(dC),dE==null?null:{$:1,$0:(dF=dE.$0,cL.Equals(dF,dB)||b_.isDescendantOf(dB,dF))}),dD==null?false:dD.$0);};b_.getParentIdO=function(){cr.$cctor();return cr.getParentIdO;};b_.getParentIdONotMemo=function(dB){var dC;dC=b_.snippets().TryFindByKey(dB);return dC==null?null:dC.$0.snpParentIdO;};b_.getSnippetsGen=function(){return[(b_.snippets())["var"].Get(),b_.generation().Get(),b_.collapsedV().Get()];};b_.setSnippet=function(dB){if(!cL.Equals(dB.snpId.get_Id(),"00000000-0000-0000-0000-000000000000"))b_.snippets().Append(O.New(dB.snpId,dB.snpName,dB.snpContent,dB.snpParentIdO,dB.snpPredIds,dB.snpProperties,b_.generation().Get()+1));};b_.setCurrentSnippetIdO=function(dB){b_.currentSnippetIdOV().Set(dB);};b_.runReader=function(dB,dC){return j.defaultWith(dB,b_.runReaderResult(dC));};b_.runReaderResult=function(dB){return cG.Map(function(dC){return dC[0];},m.runReader(b_.snippetsColl(),dB));};b_.iterReader=function(dB){m.iterReader(function(dC){b_.handleError(dC);},a.ignore,b_.snippetsColl(),dB);};b_.handleError=function(dB){throw new a.Error(a.String(dB));};b_.snippetsColl=function(){return P.New(b_.generation().Get(),(b_.snippets())["var"].Get(),function(dB){return b_.snippets().TryFindByKey(dB);},b_.predsCache,b_.reducCache,b_.prepCode);};b_.prepCode=function(dB){return cA.Replace(cA.Replace(dB.snpContent,"##"+"FSHARPSTATION_ID"+"##",b9.id()),"##"+"FSHARPSTATION_ENDPOINT"+"##",self.location.href);};b_.clearPredsCache=function(){(b_.clearPreds())();(b_.clearReduc())();(b_.clearParent())();};b_.clearParent=function(){cr.$cctor();return cr.clearParent;};b_.parentCache=function(){cr.$cctor();return cr.parentCache;};b_.clearReduc=function(){cr.$cctor();return cr.clearReduc;};b_.reducCache=function(){cr.$cctor();return cr.reducCache;};b_.clearPreds=function(){cr.$cctor();return cr.clearPreds;};b_.predsCache=function(){cr.$cctor();return cr.predsCache;};b_.collapsedV=function(){cr.$cctor();return cr.collapsedV;};b_.codeSnippetIdOV=function(){cr.$cctor();return cr.codeSnippetIdOV;};b_.currentSnippetIdOV=function(){cr.$cctor();return cr.currentSnippetIdOV;};b_.generation=function(){cr.$cctor();return cr.generation;};b_.hierarchy=function(){cr.$cctor();return cr.hierarchy;};b_.snippets=function(){cr.$cctor();return cr.snippets;};ca.DragNone={$:0};b$.getDragNIdO=function(dB){var dC;return b$.drag().$==1&&(!cL.Equals(b$.drag().$0,dB)&&(dC=b$.drag().$0,true))?{$:1,$0:dC}:null;};b$.setDragNode=function(dB){b$.set_drag({$:1,$0:dB});};b$.setDragNone=function(){b$.set_drag(ca.DragNone);};b$.drag=function(){cr.$cctor();return cr.drag;};b$.set_drag=function(dB){cr.$cctor();cr.drag=dB;};cb.TemplatesFileName=function(){cr.$cctor();return cr.TemplatesFileName;};cb.rootdir=function(){cr.$cctor();return cr.rootdir;};cc.render=function(){var dB,dC,dD,dE;return(dB=(dC=cc.snippets(),dm.Make().WithHole({$:0,$0:"snippets",$1:dC})),(dD=dn.CompleteHoles(dB.k,dB.h,[]),(dE=new _do.New(dD[1],cv.snippetlist(dD[0])),(dB.i=dE,dE)))).get_Doc();};cc.snippets$4209$40=function(dB){return function(dC){var dD;dC.Event.preventDefault();dD=b$.getDragNIdO(dB);dD==null?void 0:b_.moveNode(dD.$0,dB);};};cc.snippets$4208$40=function(dB){return function(dC){if(b$.getDragNIdO(dB)!=null)dC.Event.preventDefault();};};cc.snippets$4207$40=function(dB){return function(dC){b$.setDragNode(dB);dC.Event.stopPropagation();};};cc.snippets$4206$40=function(dB){return function(){b_.toggleCollapse(dB);};};cc.snippets$4205$40=function(dB){return function(){b_.togglePredecessor(dB);};};cc.snippets$4204$40=function(dB){var dC;dC=cU.Map(function(dD){return""!==dD;},b_.selectedClassW(dB));return function(dD){return cc.scrollIntoView(dC,dD);};};cc.snippets$4203$40=function(dB){return function(){b_.setCurrentSnippetIdO({$:1,$0:dB});};};cc.snippets=function(){function dB(dC,dD){var dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX;function dY(dZ){return dZ?"ErrorMsg":"";}dE=(dF=cU.get_Do(),cU.Bind(function(dZ){return cU.Bind(function(d0){return cU.Const((d0?"*":"")+Q.snippetName(dZ.snpName,dZ.snpContent));},b_.hasChangedW(dZ));},b_.findSnippetW(dC)));dG=cU.Apply(cU.Map2(function(dZ,d0){return function(d1){return dZ.snpPredIds.Contains(dC)?"direct-predecessor":d0?"indirect-predecessor":d1?"included-predecessor":"";};},b_.currentSnippetV().get_View(),b_.isIndirectPredecessorW(dC)),b_.isIncludedPredecessorW(dC));dH=(dI=b9.annotationsV().get_View(),cU.Map((dJ=(dK=(dL=dC.get_Id(),a.String(dL)),function(dZ){return y.contains$1(dK,dZ);}),function(dZ){return dY(dJ(dZ));}),dI));return(dM=(dN=(dO=(dP=(dQ=(dR=(dS=(dT=cU.Map(function(dZ){return""!==dZ;},b_.selectedClassW(dC)),function(dZ){return cc.scrollIntoView(dT,dZ);}),(dU=(dV=b_.expandClassW(dC),dm.Make().WithHole({$:2,$0:"name",$1:dE}).WithHole({$:1,$0:"indent",$1:a.String(dD)}).WithHole({$:2,$0:"parent",$1:dV})).WithHole({$:2,$0:"predecessor",$1:dG}).WithHole({$:2,$0:"selected",$1:cU.Map2(function(dZ,d0){return cA.concat(" ",cE.ofArray([dZ,d0]));},b_.selectedClassW(dC),b_.codeSnippetClassW(dC))}).WithHole({$:2,$0:"errormsg",$1:dH}),dU.WithHole(dn.EventQ2(dU.k,"select",function(){return dU.i;},function(){b_.setCurrentSnippetIdO({$:1,$0:dC});}))).WithHole({$:7,$0:"afterrender",$1:dS})),dR.WithHole(dn.EventQ2(dR.k,"togglepred",function(){return dR.i;},function(){b_.togglePredecessor(dC);}))),dQ.WithHole(dn.EventQ2(dQ.k,"togglecollapse",function(){return dQ.i;},function(){b_.toggleCollapse(dC);}))),dP.WithHole(dn.EventQ2(dP.k,"drag",function(){return dP.i;},function(dZ){b$.setDragNode(dC);dZ.Event.stopPropagation();}))),dO.WithHole(dn.EventQ2(dO.k,"dragover",function(){return dO.i;},function(dZ){if(b$.getDragNIdO(dC)!=null)dZ.Event.preventDefault();}))),dN.WithHole(dn.EventQ2(dN.k,"drop",function(){return dN.i;},function(dZ){var d0;dZ.Event.preventDefault();d0=b$.getDragNIdO(dC);d0==null?void 0:b_.moveNode(d0.$0,dC);}))),(dW=dn.CompleteHoles(dM.k,dM.h,[]),(dX=new _do.New(dW[1],cv.snippet(dW[0])),(dM.i=dX,dX)))).get_Doc();}return cZ.Convert(function(dC){return dB(dC[0],dC[1]);},b_.getHierarchyW());};cc.scrollIntoView=function(dB,dC){cU.Sink(function(dD){if(dD)dC.scrollIntoViewIfNeeded();},dB);};cd.render$4246$34=function(){return function(){cd.addProperty();};};cd.render=function(){var dB,dC,dD,dE,dF;return(dB=(dC=(dD=cd.properties(),dm.Make().WithHole({$:0,$0:"properties",$1:dD})),dC.WithHole(dn.EventQ2(dC.k,"addproperty",function(){return dC.i;},function(){cd.addProperty();}))),(dE=dn.CompleteHoles(dB.k,dB.h,[]),(dF=new _do.New(dE[1],cv.propertytable(dE[0])),(dB.i=dF,dF)))).get_Doc();};cd.properties$4239$33=function(dB){return function(){cd.remProperty(dB);};};cd.properties=function(){var dB;function dC(dE,dF){cC.set(dB.Get(),dE,[dF,(cC.get(dB.Get(),dE))[1]]);return dB.Set(dB.Get());}function dD(dE,dF){cC.set(dB.Get(),dE,[(cC.get(dB.Get(),dE))[0],dF]);return dB.Set(dB.Get());}dB=cV.Lens(b_.currentSnippetV(),function(dE){return dE.snpProperties;},function(dE,dF){return O.New(dE.snpId,dE.snpName,dE.snpContent,dE.snpParentIdO,dE.snpPredIds,dF,dE.snpGeneration);});return cZ.Convert(function(dE){var dF,dG,dH,dI,dJ,dK;dF=new di.New(cU.Map(function(dL){return(cC.get(dL,dE))[0];},dB.get_View()),function(dL){return dC(dE,dL);});dG=new di.New(cU.Map(function(dL){return(cC.get(dL,dE))[1];},dB.get_View()),function(dL){return dD(dE,dL);});return(dH=(dI=dm.Make().WithHole({$:8,$0:"name",$1:dF}).WithHole({$:8,$0:"value",$1:dG}),dI.WithHole(dn.EventQ2(dI.k,"remove",function(){return dI.i;},function(){cd.remProperty(dE);}))),(dJ=dn.CompleteHoles(dH.k,dH.h,[["name",0],["value",0]]),(dK=new _do.New(dJ[1],cv.property(dJ[0])),(dH.i=dK,dK)))).get_Doc();},cU.Map(function(dE){return cC.ofSeq(cH.range(0,cC.length(dE)-1));},dB.get_View()));};cd.remProperty=function(dB){var dC;b_.currentSnippetV().Set((dC=b_.currentSnippetV().Get(),O.New(dC.snpId,dC.snpName,dC.snpContent,dC.snpParentIdO,dC.snpPredIds,cI.array(b_.currentSnippetV().Get().snpProperties,{$:1,$0:0},{$:1,$0:dB-1}).concat(cI.array(b_.currentSnippetV().Get().snpProperties,{$:1,$0:dB+1},null)),dC.snpGeneration)));};cd.addProperty=function(){var dB;b_.currentSnippetV().Set((dB=b_.currentSnippetV().Get(),O.New(dB.snpId,dB.snpName,dB.snpContent,dB.snpParentIdO,dB.snpPredIds,b_.currentSnippetV().Get().snpProperties.concat([["",""]]),dB.snpGeneration)));};cf=ce.HoverProvider=cy.Class({provideHover:function(dB,dC,dD){var dE;return V.ofAsyncResult((dE=e.asyncResult(),dE.Run(dE.Delay(function(){var dF;dF=ce.getIndentAndFirst();return dE.Bind$1(b7.toolTip(ce.fileName(),dC.lineNumber+dF[1],dC.column+dF[0],""),function(dG){return x["AsyncResultBuilder.Bind"](dE,ce.overDescriptions(dG[0]),function(dH){return dE.Return(bh.New(cC.ofSeq(cB.map(function(dI){return be.New((c.print(dI),dI),true);},dH)),null));});});}))));}},i,cf);cf.New=cy.Ctor(function(dB){i.New.call(this);},cf);cg=ce.CompletionItemProvider=cy.Class({resolveCompletionItem:function(dB,dC){var dD;function dE(dG){return dG.$==1?cH.FailWith((function(dH){return function(dI){return dH(cu.p$9(dI));};}(a.id))(dG.$0)):dG.$0;}function dF(dG){return cD.Return(dG);}return dq.OfAsync(cD.Bind((dD=e.asyncResult(),dD.Run(dD.Delay(function(){return dD.Bind$1(b7.helpText(dB.label),function(dG){return dD.Return(bg.New(dB.kind,dB.label,cA.concat("\n",cB.collect(function(dH){return cE.ofSeq(cB.delay(function(){return cB.append(!(!dH.Signature)?[dH.Signature]:[],cB.delay(function(){return cB.append(!(!dH.Comment)?[dH.Comment]:[],cB.delay(function(){return!(!dH.Footer)?[dH.Footer]:[];}));}));}));},cB.collect(a.id,dG[0].Overloads)))));});}))),function(dG){return dF(dE(dG));}));},provideCompletionItems:function(dB,dC,dD,dE){var dF;function dG(dI){return dI.$==1?cH.FailWith((function(dJ){return function(dK){return dJ(cu.p$9(dK));};}(a.id))(dI.$0)):dI.$0;}function dH(dI){return cD.Return(dI);}return dq.OfAsync(cD.Bind((dF=e.asyncResult(),dF.Run(dF.Delay(function(){var dI,dJ;dI=ce.getIndentAndFirst();dJ=dI[0];return dF.Bind$1(b7.completion(cA.replicate(dJ," ")+dB.getLineContent(dC.lineNumber),true,ce.fileName(),dC.lineNumber+dI[1],dC.column+dJ,"Contains"),function(dK){return dF.Return(cC.map(function(dL){return bg.New(ce.convertGlyphChar(dL.GlyphChar),dL.Name,"");},dK[0]));});}))),function(dI){return dH(dG(dI));}));}},i,cg);cg.New=cy.Ctor(function(dB){i.New.call(this);},cg);ch=ce.DefinitionProvider=cy.Class({provideDefinition:function(dB,dC,dD){var dE;function dF(dH){return dH.$==1?cH.FailWith((function(dI){return function(dJ){return dI(cu.p$9(dJ));};}(a.id))(dH.$0)):dH.$0;}function dG(dH){return cD.Return(dH);}return dq.OfAsync(cD.Bind((dE=e.asyncResult(),dE.Run(dE.Delay(function(){var dH;dH=ce.getIndentAndFirst();return dE.Bind$1(b7.findDeclaration(ce.fileName(),dC.lineNumber+dH[1],dC.column+dH[0],""),function(dI){var dJ,dK,dL,dM,dN,dO,dP,dQ;dJ=dI[0];dK=ce.getSnipIdIndentAndFirst(dJ.Line);dL=dK[0];dM=dK[1];dN=dK[2];dO=(dP="snpId:"+(dQ=dL.get_Id(),a.String(dQ)),self.monaco.Uri.parse(dP));ce.getSnippetModel(dL);return dE.Return(ba.New(_.New(dJ.Column-dM,dJ.Column-dM,dJ.Line-dN,dJ.Line-dN),dO));});}))),function(dH){return dG(dF(dH));}));}},i,ch);ch.New=cy.Ctor(function(dB){i.New.call(this);},ch);ci.New=function(dB,dC){return{fontSize:dB,lineHeight:dC};};cj.New=function(dB,dC){return{setEditor:dB,createModelReference:dC};};ce["goto"]=function(dB,dC,dD){var dE;dE=null;return cD.Delay(function(){var dF,dG;dF=(dG=ce.editorConfigO(),dG==null?null:dG.$0.editorO);return dF!=null&&dF.$==1?cD.Bind(ce.gotoEditor(dF.$0,dB,dC,dD),function(){return cD.Return(null);}):cD.Zero();});};ce.getEditorConfigO=function(){var dB;dB={$:1,$0:ce.monacoNew(cV.Lens(b_.currentSnippetV(),function(dC){return dC.snpContent;},function(dC,dD){return O.New(dC.snpId,dC.snpName,dD,dC.snpParentIdO,dC.snpPredIds,dC.snpProperties,dC.snpGeneration);}),{$:1,$0:cU.Map2(ce.transformAnnotations,b_.currentSnippetW(),b9.annotationsV().get_View())},null,null)};ce.set_editorConfigO(dB);return dB;};ce.editorConfigO=function(){cr.$cctor();return cr.editorConfigO;};ce.set_editorConfigO=function(dB){cr.$cctor();cr.editorConfigO=dB;};ce.parse=function(dB,dC){var dD;u.iterA(function(dE){c.print(dE);},function(){c.print();},(dD=e.asyncResult(),dD.Run(dD.Delay(function(){var dE,dF;dE="Parsing...\n"+y.skipFirstLine$1(b9.annotationsV().Get());b9.annotationsV().Set(dE);ce.startsV().Set(dC);dF=y.splitByChar$1("\n",dB);ce.set_fileName(L.getSourceDir(b9.srcDir(),dF)+"/"+b9.id()+".fsx");return dD.Bind$1(b7.parseCode(ce.fileName(),dF,true,0),function(dG){var dH;dH=cA.concat("\n",cB.append(cE.ofArray(["Parsed!"]),cB.map(function(dI){var dJ,dK,dL,dM,dN;function dO(dP,dQ){return dI.StartLine>dQ[1]&&dI.StartLine<=dQ[2];}dJ=(dK=cB.tryFind(function(dP){return dO(dP[0],dP[1]);},dC),(ce.defaultStart())(dK));dL=dJ[1][0];dM=dJ[1][1];return((((((((((cy.Curried(function(dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY){return dP(cz.toSafe(dQ)+" ("+a.String(dR)+", "+a.String(dS)+") - ("+a.String(dT)+", "+a.String(dU)+") "+cz.toSafe(dV)+"("+cz.toSafe(dW)+") \""+cz.toSafe(dX)+": "+cz.toSafe(dY)+"\".");},10))(a.id))(dI.Severity==="Error"?"Err":"Warn"))(dI.StartLine-dM))(dI.StartColumn-dL))(dI.EndLine-dM))(dI.EndColumn-dL))(dJ[0][1]))((dN=dJ[0][0].get_Id(),a.String(dN))))(dI.Subcategory))(dI.Message);},dG[0].Errors)));b9.annotationsV().Set(dH);cB.iter(function(dI){c.print(dI);},dG[1]);return dD.Zero();});}))));};ce.monacoNew=function(dB,dC,dD,dE){var dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU;dS=_8.newVar(dB);dK=dS.editorO;dL=ce.newPojo([["fontSize",12],["lineHeight",14]]);dT=a.require("vs/editor/standalone/browser/standaloneServices");dU=new dT.StaticServices.codeEditorService._factory();dU.openCodeEditor=ce.openCodeEditor;dR=dU;dQ=["codeEditorService",dR];dO=[dQ,["textModelResolverService",ce.textModelResolverService()]];dM=ce.newPojo(dO);dG=bj.New(dS["var"],dS.onChange,dS.onRender,dK,dS.disabled,dL,dM);return _8.onRender(function(dV){var dW,dX,dY,dZ;function d0(d4,d5,d6){return dX.provideHover(d4,d5,d6);}function d1(d4,d5,d6,d7){return dY.provideCompletionItems(d4,d5,d6,d7);}function d2(d4,d5){return dY.resolveCompletionItem(d4,d5);}function d3(d4,d5,d6){return dZ.provideDefinition(d4,d5,d6);}dW=dV.getModel();self.monaco.editor.setModelLanguage(dW,"fsharp");self.monaco.editor.setTheme("vs");dX=new cf.New(dV);dY=new cg.New(dV);dZ=new ch.New(dV);c.print(function(d4){return d0(d4[0],d4[1],d4[2]);});c.print(function(d4){return d1(d4[0],d4[1],d4[2],d4[3]);});c.print(function(d4){return d2(d4[0],d4[1]);});c.print(function(d4){return d3(d4[0],d4[1],d4[2]);});self.monaco.languages.registerHoverProvider("fsharp",dX);self.monaco.languages.registerCompletionItemProvider("fsharp",dY);self.monaco.languages.registerDefinitionProvider("fsharp",dZ);dC==null?void 0:cU.Sink(function(d4){var d5;d5=dV.getModel();self.monaco.editor.setModelMarkers(d5,"annotations",d4);},dC.$0);},dG);};ce.textModelResolverService=function(){var dB;dB=null;return cj.New(function(dC){dB={$:1,$0:dC};},function(dC){var dD;return dq.OfAsync((dD=null,cD.Delay(function(){var dE,dF,dG,dH;dG=ce.getSnippetModel(dC);dH=self.require("vs/base/common/lifecycle");dF=new dH.ImmortalReference(dG);return cD.Return(dF);})));});};ce.openCodeEditor=function(dB,dC,dD){var dE;return dq.OfAsync((dE=null,cD.Delay(function(){var dF,dG;dF=dB.resource.path;dG=(z.Guid$1())(dF);return dG!=null&&dG.$==1?cD.Bind(ce.gotoEditor(dC,new N({$:0,$0:dG.$0}),dB.options.selection.startLineNumber,dB.options.selection.startColumn),function(){return cD.Return(dC);}):cD.Return(null);})));};ce.gotoEditor=function(dB,dC,dD,dE){var dF;dF=null;return cD.Delay(function(){b_.expandParents(dC);b_.setCurrentSnippetIdO({$:1,$0:dC});return cD.Bind(cD.Sleep(200),function(){dB.focus();dB.setPosition(_9.New(dE,dD));dB.revealPositionInCenter(_9.New(dE,dD));return cD.Zero();});});};ce.newPojo=function(dB){var dC,dD;function dE(dG,dH){return function(dI){return ce.addProp(dG,dH,dI);};}function dF(dG){}dC={};cB.iter((dD=function(dG){return(function(dH){return dE(dH[0],dH[1]);}(dG))(dC);},function(dG){return dF(dD(dG));}),dB);return dC;};ce.addProp=function(dB,dC,dD){dD[dB]=dC;return dD;};ce.transformAnnotations=function(dB,dC){var dD,dE;function dF(dG,dH,dI,dJ,dK,dL,dM){var dN;return!cL.Equals((dN=(z.parseGuidO$1())(dL),dN==null?null:{$:1,$0:new N({$:0,$0:dN.$0})}),{$:1,$0:dB.snpId})?null:{$:1,$0:bf.New(dI,dK,dH,dJ,dG==="Err"?8:dG==="Warn"?4:dG==="Hint"?1:2,dM)};}dD="(Err|Warn|Info|Hint) \\((\\d+)\\,\\s*(\\d+)\\) - \\((\\d+)\\,\\s*(\\d+)\\).*\\("+U.rexGuid$1()+"\\) \"([^\"]+?)\"\\.";return cC.choose(function(dG){return dF(dG[0],dG[1],dG[2],dG[3],dG[4],dG[5],dG[6]);},cC.choose(function(dG){var dH,dI,dJ;return(dI=U.REGEX$2(dD,"",dG),dI!=null&&dI.$==1&&((dJ=dI.$0,!cL.Equals(dJ,null)&&dJ.length===8)&&(dH=[cC.get(dI.$0,3),cC.get(dI.$0,2),cC.get(dI.$0,6),cC.get(dI.$0,7),cC.get(dI.$0,5),cC.get(dI.$0,4),cC.get(dI.$0,1)],true)))?{$:1,$0:[dH[6],cH.toInt(a.Number(dH[1])),cH.toInt(a.Number(dH[0])),cH.toInt(a.Number(dH[5])),cH.toInt(a.Number(dH[4])),dH[2],dH[3]]}:null;},(dE=U.REGEX$2(dD,"g",dC),dE!=null&&dE.$==1?dE.$0:[])));};ce.convertGlyphChar=function(dB){return dB==="C"?6:dB==="E"?12:dB==="S"?11:dB==="I"?7:dB==="N"?8:dB==="M"?1:dB==="P"?9:dB==="F"?4:dB==="T"?6:dB==="K"?13:0;};ce.fileName=function(){cr.$cctor();return cr.fileName;};ce.set_fileName=function(dB){cr.$cctor();cr.fileName=dB;};ce.overDescriptions=function(dB){return g.sequenceSeq(cB.collect(function(dC){return cE.ofSeq(cB.delay(function(){return cB.append(!(!dC.Signature)?[cD.Return("```\n"+dC.Signature+"\n```")]:[],cB.delay(function(){function dD(dE){return cD.Return(dE);}return cB.append(!(!dC.Comment)?[cD.Bind((new dh.New()).Async("FSharpStation:FsRoot.FSharpStation+Markdown.createCommentBlock:-1840423385",[dC.Comment]),function(dE){return dD(ce.fixMarkDown(dE));})]:[],cB.delay(function(){return!(!dC.Footer)?[cD.Return(ce.fixMarkDown(dC.Footer))]:[];}));}));}));},cB.collect(a.id,dB)));};ce.fixMarkDown=function(dB){return cA.concat("\n\n",cB.map(function(dC){var dD;dD=cB.length(cB.takeWhile(function(dE){return" "===dE;},dC));return cA.replicate(dD,"&nbsp;")+cI.string(dC,{$:1,$0:dD},null);},cB.map(function(dC){return cA.Replace(dC,"\u0009","- ");},y.splitByChar$1("\n",dB))));};ce.getSnippetModel=function(dB){var dC,dD,dE;dC=(dD="snpId:"+(dE=dB.get_Id(),a.String(dE)),self.monaco.Uri.parse(dD));return ce.getModelUri(b_.runReader(function(dF){return cH.FailWith(a.String(dF));},Q.snippetRm(dB)).snpContent,dC);};ce.getModelUri=function(dB,dC){var dD,dE,dF;dD=(dE=(dF=self.monaco.editor.getModel(dC),!dF?null:{$:1,$0:dF}),dE==null?self.monaco.editor.createModel("","fsharp",dC):dE.$0);dD.getValue()!==dB?dD.setValue(dB):void 0;return dD;};ce.getSnipIdIndentAndFirst=function(dB){var dC,dD;function dE(dF,dG){return dB>=dG[1]&&dB<=dG[2];}dC=(dD=cB.tryFind(function(dF){return dE(dF[0],dF[1]);},ce.startsV().Get()),(ce.defaultStart())(dD));return[dC[0][0],dC[1][0],dC[1][1]];};ce.getIndentAndFirst=function(){var dB,dC,dD,dE;function dF(dI){return dI[0];}function dG(dI){return dI[0];}function dH(dI){return cL.Equals(dB,dI);}dB=b_.currentSnippetV().Get().snpId;dC=(dD=cB.tryFind((dE=function(dI){return dG(dF(dI));},function(dI){return dH(dE(dI));}),ce.startsV().Get()),(ce.defaultStart())(dD));return[dC[1][0],dC[1][1]];};ce.defaultStart=function(){cr.$cctor();return cr.defaultStart;};ce.startsV=function(){cr.$cctor();return cr.startsV;};ck.jumpToRef=function(dB){var dC,dD;function dE(dF,dG,dH){return dD>=dG&&dD<dH?{$:1,$0:dF}:null;}dC=dB.value;dD=dB.selectionStart;ck.jumpToLine(cB.pick(function(dF){return dE(dF[0],dF[1],dF[2]);},(cB.mapFold(function(dF,dG){return[[dG,dF,dF+dG.length+1],dF+dG.length+1];},0,cA.SplitChars(dC,["\n"],0)))[0]));};ck.jumpToLine=function(dB){var dC,dD,dE,dF,dG;dC=U.REGEX$2(ck.rexGuid(),"",dB);dC!=null&&dC.$==1?(dD=dC.$0,!cL.Equals(dD,null)&&dD.length===6)?(dE=cC.get(dC.$0,2),dF=cC.get(dC.$0,5),dG=cC.get(dC.$0,1),cD.Start(ce["goto"](new N({$:0,$0:dF}),cH.toInt(a.Number(dG)),cH.toInt(a.Number(dE))),null)):void 0:void 0;};ck.rexGuid=function(){cr.$cctor();return cr.rexGuid$1;};cm.New=function(dB,dC,dD){return{snippets:dB,generation:dC,collapsed:dD};};cl.serModel=function(){cr.$cctor();return cr.serModel;};cl.getModel=function(dB,dC,dD){return cm.New(cC.ofSeq(dB),dC,dD);};cl.serSnippet=function(){cr.$cctor();return cr.serSnippet;};cl.serSnippetId=function(){cr.$cctor();return cr.serSnippetId;};cn.saveAs=function(){var dB,dC,dD,dE;dB=(dC=cB.last(cA.SplitChars(cn.fileName().Get(),["/","\\"],0)),dC===""?"noname.snippets":dC);a.saveAs(new a.Blob([(dD=(dE=b_.getSnippetsGen(),cl.getModel(dE[0],dE[1],dE[2])),(cl.serModel())[0](dD))],{type:"text/plain;charset=utf-8"}),dB);b_.updateGeneration();};cn.loadTextFile=function(dB){var dC,dD;if(cn.canLoad()){dC=dB.files;dC.length>0?(dD=new a.FileReader(),dD.onload=function(dE){return cn.parseText(dE.target.result);},cn.fileName().Set(dC.item(0).name),dD.readAsText(dC.item(0))):void 0;}};cn.parseText=function(dB){var dC,dD;try{dC=(dD=c8.parse(dB),(cl.serModel())[1](dD));b_.setSnippetsGen(dC.snippets,dC.collapsed);}catch(dE){a.alert(a.String(dE));((function(dF){return function(dG){return dF(cz.prettyPrint(dG));};}(function(dF){cS.log(dF);}))(dE));}};cn.canLoad=function(){return cL.Equals(cU.TryGet(b_.SaveAsClassW()),{$:1,$0:""})||a.confirm("Changes have not been saved, do you really want to load?");};cn.fileName=function(){cr.$cctor();return cr.fileName$1;};co.importFile=function(dB){var dC,dD;if(cn.canLoad()){dC=dB.files;dC.length>0?(dD=new a.FileReader(),dD.onload=function(dE){return co.parseText(dE.target.result);},dD.readAsText(dC.item(0))):void 0;}};co.parseText=function(dB){var dC;try{b_.setSnippetsGen((dC=c8.parse(dB),(co.serSnippets())[1](dC)),new cP.New$1(null));}catch(dD){a.alert(a.String(dD));((function(dE){return function(dF){return dE(cz.prettyPrint(dF));};}(function(dE){cS.log(dE);}))(dD));}};co.serSnippets=function(){cr.$cctor();return cr.serSnippets;};co.serSnippet2=function(){cr.$cctor();return cr.serSnippet2;};co.serSnippetId2=function(){cr.$cctor();return cr.serSnippetId2;};cp.mainProgram=function(){var dB;dr.plugIns().Append(ds.New("FSharpStation",[dr.newVar("fileName",cn.fileName()),dr.newVar("SnippetName",cV.Lens(b_.currentSnippetV(),function(dC){return dC.snpName;},function(dC,dD){return O.New(dC.snpId,dD,dC.snpContent,dC.snpParentIdO,dC.snpPredIds,dC.snpProperties,dC.snpGeneration);})),dr.newVar("Content",cV.Lens(b_.currentSnippetV(),function(dC){return dC.snpContent;},function(dC,dD){return O.New(dC.snpId,dC.snpName,dD,dC.snpParentIdO,dC.snpPredIds,dC.snpProperties,dC.snpGeneration);})),dr.newVar("Output",cp.outputMsgs()),dr.newVar("Parser",b9.annotationsV())],[dr.newViw("FsCode",b_.FsCodeW()),dr.newViw("SaveNeeded",b_.SaveAsClassW())],[dr.newDoc("mainDoc",dt.Create(cp.mainDoc)),dr.newDoc("editor",dt.Create(function(){var dC,dD,dE;return cZ.Element("div",[],[(dC=(dD=ce.getEditorConfigO(),dD==null?null:{$:1,$0:_8.render(dD.$0)}),(dE=cZ.get_Empty(),dC==null?dE:dC.$0))]);})),dr.newDoc("Snippets",dt.Create(cc.render)),dr.newDoc("Properties",dt.Create(cd.render)),dr.newDoc("ButtonsRight",dt.Create(cp.buttonsRight))],[dr.newAct("AddSnippet",function(){b_.newSnippet();}),dr.newAct("RemoveSnippet",function(){cp.deleteSnippet();}),dr.newAct("IndentIn",function(){b_.indentIn();}),dr.newAct("IndentOut",function(){b_.indentOut();}),dr.newAct("AddProperty",function(){cd.addProperty();}),dr.newAct("SaveAs",function(){cn.saveAs();}),dr.newAct("RunFS",function(){cp.runFsCode();}),dr.newActF("LoadFile",{$:1,$0:function(dC){cn.loadTextFile(dC);},$1:"FileElement"}),dr.newActF("Import",{$:1,$0:function(dC){co.importFile(dC);},$1:"FileElement"}),dr.newActF("JumpTo",{$:1,$0:function(dC){ck.jumpToRef(dC);},$1:"textarea"})],[]));du.addLayout(du.newLyt("FStationLyt",(y.unindentStr())("\n                    double           horizontal  0-50-100 AppFramework.AppFwkClient menuEditor\n        \n                    menuEditor       horizontal  65       menuLogo                  editorMessages\n                    menuLogo         vertical    350      logo                      menu\n                    logo             span       \"margin:0; color:gray; font-size: 55px; font-weight:530\" \"F# Station\"\n                    editorMessages   horizontal 10-83-100 editorButtons             messages\n                    messages         vertical   0-50-100  messagesLeft              messagesRight\n                    editorButtons    vertical -200 snippetsSnippet buttons\n                    buttons div      \"overflow: hidden; display: grid; grid-template-columns: 100%; grid-template-rows: repeat(15, calc(100% / 15)); bxackground-color: #eee; box-sizing: border-box; padding : 5px; grid-gap: 5px; margin-right: 21px\" btnSaveAs none x btnAddSnippet btnDeleteSnippet btnIndentIn btnIndentOut none x btnRunFS\n                    snippetsSnippet  vertical   0-20-100  FSharpStation.Snippets    editorProperties\n                    editorProperties vertical   0-100-100 snippet                   properties\n                    properties       div        \"\"        FSharpStation.Properties\n                    snippet          horizontal 35        Name                      FSharpStation.editor\n                    menu             span  \"\" btnLoad btnImport\n                    \n                    btnSaveAs        button FSharpStation.SaveAs         \"class=btn ${FSharpStation.SaveNeeded}\" \"Save as...    \"\n                    btnAddSnippet    button FSharpStation.AddSnippet     \"\"                  \"Add Snippet   \"\n                    btnDeleteSnippet button FSharpStation.RemoveSnippet  \"\"                  \"Delete Snippet\"\n                    btnIndentIn      button FSharpStation.IndentIn       \"\"                  \"Indent In  >> \"\n                    btnIndentOut     button FSharpStation.IndentOut      \"\"                  \"Indent Out << \"\n                    btnRunFS         button FSharpStation.RunFS          \"\"                  \"Run F#        \"\n         \n                    messagesLeft     wcomp-tabstrip                      \"\"                  Output FsCode\n                    messagesRight    wcomp-tabstrip                      \"\"                  Parser\n         \n                    Output           textarea  FSharpStation.Output      \"tabname=Output ; placeholder=Output messages ; spellcheck=false\" \n                    FsCode           textarea  FSharpStation.FsCode      \"tabname=F# Code; placeholder=F# Code         ; spellcheck=false\" \n                    Parser           textarea  FSharpStation.Parser      \"tabname=Parser ; placeholder=Parser messages; dblclick=${FSharpStation.JumpTo} ; spellcheck=false\" \n                    Name             Doc       InputLabel                \"\"     \"Name:\"        FSharpStation.SnippetName\n                    btnLoad          Doc       InputFile                 \"\"     \"Load File...\" FSharpStation.LoadFile  FileName\n                    btnImport        Doc       InputFile                 \"\"     \"Import...\"    FSharpStation.Import    \"\"\n                    FileName         div                                 \"class=form-control\"  FSharpStation.fileName\n                ")));dr.mainDocV().Set("FStationLyt.menuEditor");return cZ.Async((dB=null,cD.Delay(function(){return cD.Bind(_8.loader(),function(){var dC,dD,dE;dC=(dD=ce.getEditorConfigO(),dD==null?null:{$:1,$0:_8.render(dD.$0)});dE=cZ.get_Empty();dC==null?void 0:void 0;return cD.Return(dr.getMainDoc().f());});})));};cp.mainDoc$4846$78=a.id;cp.mainDoc$4838$39=function(){return function(dB){ck.jumpToRef(dB.Target);};};cp.mainDoc$4837$39=function(){return function(dB){dB.Target.value="";};};cp.mainDoc$4836$39=function(){return function(dB){co.importFile(dB.Target);};};cp.mainDoc$4835$39=function(){return function(dB){dB.Target.value="";};};cp.mainDoc$4834$39=function(){return function(dB){cn.loadTextFile(dB.Target);};};cp.mainDoc=function(){var dB,dC,dD,dE,dF,dG,dH,dI;dB=cp.hookDoc("FSharpStation","ButtonsRight",function(dJ,dK){return dJ.WithHole({$:0,$0:"buttonsright",$1:dK});},cp.hookDoc("FSharpStation","Properties",function(dJ,dK){return dJ.WithHole({$:0,$0:"properties",$1:dK});},cp.hookDoc("FSharpStation","Snippets",function(dJ,dK){return dJ.WithHole({$:0,$0:"snippets",$1:dK});},cp.hookDoc("FSharpStation","editor",function(dJ,dK){return dJ.WithHole({$:0,$0:"codeeditor",$1:dK});},cp.hookAct("FSharpStation","SaveAs",function(dJ,dK){return dJ.WithHole(dn.EventQ2(dJ.k,"saveas",function(){return dJ.i;},dK));},cp.hookViw("FSharpStation","SaveNeeded",function(dJ,dK){return dJ.WithHole({$:2,$0:"saveasclass",$1:dK});},cp.hookViw("FSharpStation","FSCode",function(dJ,dK){return dJ.WithHole({$:8,$0:"fscode",$1:new di.New(dK,a.ignore)});},cp.hookVar("FSharpStation","Parser",function(dJ,dK){return dJ.WithHole({$:8,$0:"parser",$1:dK});},cp.hookVar("FSharpStation","Output",function(dJ,dK){return dJ.WithHole({$:8,$0:"output",$1:dK});},cp.hookVar("FSharpStation","SnippetName",function(dJ,dK){return dJ.WithHole({$:8,$0:"name",$1:dK});},cp.hookVar("FSharpStation","fileName",function(dJ,dK){return dJ.WithHole({$:8,$0:"filename",$1:dK});},(dC=(dD=(dE=(dF=(dG=dm.Make(),dG.WithHole(dn.EventQ2(dG.k,"loadfilechanged",function(){return dG.i;},function(dJ){cn.loadTextFile(dJ.Target);}))),dF.WithHole(dn.EventQ2(dF.k,"loadfileclear",function(){return dF.i;},function(dJ){dJ.Target.value="";}))),dE.WithHole(dn.EventQ2(dE.k,"importfilechanged",function(){return dE.i;},function(dJ){co.importFile(dJ.Target);}))),dD.WithHole(dn.EventQ2(dD.k,"importfileclear",function(){return dD.i;},function(dJ){dJ.Target.value="";}))),dC.WithHole(dn.EventQ2(dC.k,"jumpref",function(){return dC.i;},function(dJ){ck.jumpToRef(dJ.Target);}))))))))))))));return(dH=dn.CompleteHoles(dB.k,dB.h,[["filename",0],["name",0],["output",0],["fscode",0],["parser",0]]),(dI=new _do.New(dH[1],cv.layout(dH[0])),(dB.i=dI,dI))).get_Doc();};cp.buttonsRight$4820$74=a.id;cp.buttonsRight$4819$74=a.id;cp.buttonsRight$4818$74=a.id;cp.buttonsRight$4817$74=a.id;cp.buttonsRight$4816$74=a.id;cp.buttonsRight=function(){var dB,dC,dD;dB=cp.hookAct("FSharpStation","RunFS",function(dE,dF){return dE.WithHole(dn.EventQ2(dE.k,"runfs",function(){return dE.i;},dF));},cp.hookAct("FSharpStation","IndentOut",function(dE,dF){return dE.WithHole(dn.EventQ2(dE.k,"indentout",function(){return dE.i;},dF));},cp.hookAct("FSharpStation","IndentIn",function(dE,dF){return dE.WithHole(dn.EventQ2(dE.k,"indentin",function(){return dE.i;},dF));},cp.hookAct("FSharpStation","RemoveSnippet",function(dE,dF){return dE.WithHole(dn.EventQ2(dE.k,"removesnippet",function(){return dE.i;},dF));},cp.hookAct("FSharpStation","AddSnippet",function(dE,dF){return dE.WithHole(dn.EventQ2(dE.k,"addsnippet",function(){return dE.i;},dF));},dm.Make())))));return(dC=dn.CompleteHoles(dB.k,dB.h,[]),(dD=new _do.New(dC[1],cv.buttonsright(dC[0])),(dB.i=dD,dD))).get_Doc();};cp.hookDoc=function(dB,dC,dD,dE){var dF,dG,dH;dF=(dG=dr.tryGetDoc(dB,dC),dG==null?null:{$:1,$0:(dH=dG.$0,((((cy.Curried3(function(dI,dJ,dK){return dI("Doc    "+cz.toSafe(dJ)+"."+cz.toSafe(dK)+" hooked");}))(function(dI){cS.log(dI);}))(dB))(dC),dD(dE,cZ.EmbedView(cU.Map(function(){return dr.getLazyDoc(dH);},dr.mainDocV().get_View())))))});return dF==null?((((cy.Curried3(function(dI,dJ,dK){return dI("Doc    "+cz.toSafe(dJ)+"."+cz.toSafe(dK)+" not found");}))(function(dI){cS.log(dI);}))(dB))(dC),dE):dF.$0;};cp.hookAct=function(dB,dC,dD,dE){var dF,dG,dH;dF=(dG=dr.tryGetAct(dB,dC),dG==null?null:{$:1,$0:(dH=dG.$0,((((cy.Curried3(function(dI,dJ,dK){return dI("Action "+cz.toSafe(dJ)+"."+cz.toSafe(dK)+" hooked");}))(function(dI){cS.log(dI);}))(dB))(dC),dD(dE,function(){dr.callFunction(null,null,dH.actFunction);})))});return dF==null?((((cy.Curried3(function(dI,dJ,dK){return dI("Action "+cz.toSafe(dJ)+"."+cz.toSafe(dK)+" not found");}))(function(dI){cS.log(dI);}))(dB))(dC),dE):dF.$0;};cp.hookViw=function(dB,dC,dD,dE){var dF,dG;dF=(dG=dr.tryGetViw(dB,dC),dG==null?null:{$:1,$0:((((cy.Curried3(function(dH,dI,dJ){return dH("View   "+cz.toSafe(dI)+"."+cz.toSafe(dJ)+" hooked");}))(function(dH){cS.log(dH);}))(dB))(dC),dD(dE,dG.$0.viwView))});return dF==null?((((cy.Curried3(function(dH,dI,dJ){return dH("View   "+cz.toSafe(dI)+"."+cz.toSafe(dJ)+" not found");}))(function(dH){cS.log(dH);}))(dB))(dC),dE):dF.$0;};cp.hookVar=function(dB,dC,dD,dE){var dF,dG;dF=(dG=dr.tryGetVar(dB,dC),dG==null?null:{$:1,$0:((((cy.Curried3(function(dH,dI,dJ){return dH("Var    "+cz.toSafe(dI)+"."+cz.toSafe(dJ)+" hooked");}))(function(dH){cS.log(dH);}))(dB))(dC),dD(dE,dG.$0.varVar))});return dF==null?((((cy.Curried3(function(dH,dI,dJ){return dH("Var    "+cz.toSafe(dI)+"."+cz.toSafe(dJ)+" not found");}))(function(dH){cS.log(dH);}))(dB))(dC),dE):dF.$0;};cp.deleteSnippet=function(){var dB;dB=b_.currentSnippetV().Get();!cL.Equals(dB.snpId,N.get_Empty())&&a.confirm((function(dC){return function(dD){return dC("Do you want to delete "+cz.toSafe(dD)+"?");};}(a.id))(Q.snippetName(dB.snpName,dB.snpContent)))?b_.deleteCurrentSnippet():void 0;};cp.runFsCode=function(){var dB,dC,dD,dE,dF;function dG(dH){cp.appendMsgs(cA.Replace(dH,"xXxYyYyhH","Done!"));}dB=cU.TryGet(b_.FsCodeW());dB==null?void 0:(dC=dB.$0,dD=(dE=q.fusion(),dE.Run(dE.Delay(function(){cp.outputMsgs().Set("Running F#...");return dE.Bind(q.ofAsync((new dh.New()).Async("FSharpStation:FsRoot.Library2+FSharpStationClient.setAddress:-574353144",[new bn({$:0,$0:b9.id()})])),function(){return dE.ReturnFrom(q.ofAsync((new dh.New()).Async("FSharpStation:FsRoot.Library2+FsiAgent.evalCode:-623788033",[b9.srcDir(),{$:0,$0:dC}])));});}))),q.iterResultA((dF=function(dH){return function(dI){return dH("Error:\n"+cu.p$1(dI));};}(a.id),function(dH){return dG(dF(dH));}),a.ignore,dD));};cp.appendMsgs=function(dB){cp.appendText(cp.outputMsgs(),dB);};cp.outputMsgs=function(){cr.$cctor();return cr.outputMsgs;};cp.appendText=function(dB,dC){var dD;dB.Set((dD=dB.Get(),dD===""?dC:dC===""?dD:dD+"\n"+dC));};cq.processMessage=function(dB){var dC;return cD.Return(b_.runReaderResult((dC=m.fusion(),dC.Run(dC.Delay(function(){var dD,dE;switch(dB.$==1?(dD=dB.$0,1):dB.$==2?(dD=dB.$0,2):dB.$==3?(dD=dB.$0,3):dB.$==4?(dE=dB.$0,!cL.Equals(dE,null)&&dE.length===2?cC.get(dB.$0,0)==="AddOutput"?(dD=cC.get(dB.$0,1),4):6:6):dB.$==5?5:0){case 0:return dC.Return({$:0,$0:b9.id()});case 1:return dC.Bind(m.traverseSeq(Q.snippetFromRefORm,dD),function(dF){return dC.Return({$:1,$0:cC.ofSeq(cB.choose(a.id,dF))});});case 2:b_.clearPredsCache();return dC.Bind(m.absorbO(function(){return new d({$:1,$0:(function(dF){return function(dG){return dF("Snippet not found "+cu.p$2(dG));};}(a.id))(dD)});},Q.snippetFromRefORm(dD)),function(dF){return dC.ReturnFrom(n.op_BarGreaterGreater(n.op_BarGreaterGreater(Q.fastCodeRm({$:1,$0:dF.snpId},{$:1,$0:dF.snpId}),function(dG){return dG[0];}),function(dG){return{$:0,$0:dG};}));});case 3:b_.clearPredsCache();return dC.Return(R.Hole.TODO_GetPredecessors);case 4:cp.appendMsgs(dD);return dC.Return({$:0,$0:"Ok"});case 5:return dC.Return({$:0,$0:self.document.baseURI});case 6:return dC.Return(R.Hole[(function(dF){return function(dG){return dF("TODO message: "+cu.p$3(dG));};}(a.id))(dB)]);}})))));};cq.wsStationClient=function(){cr.$cctor();return cr.wsStationClient;};cr.$cctor=function(){var dC,dG,dH,dM,dN,dO,dS,dT,dX,dY,d2,d3,d4,d5,d7,d8,d$,ea,ed,eg,eh,ej,ek,el,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT;cr.$cctor=a.ignore;cr.rtn=function(eU){return[eU];};cr.result=new k.New();cr.result$1=j.result();cr.fusion=new p.New();cr.fusion$1=new t.New();cr.asyncResult=new v.New();cr.asyncResultP=new w.New();function dB(eU){return cA.concat("\n",eU);}cr.unindentStr=function(eU){return dB(y.unindent$1(eU));};function dD(eU){return y.splitByChar$1("\n",eU);}function dE(eU){var eV,eW;return cI.array(eU,{$:1,$0:0},{$:1,$0:(eV=0,(eW=cC.length(eU)-2,cL.Compare(eV,eW)===1?eV:eW))});}function dF(eU){return cA.concat("\n",eU);}cr.skipLastLine=(dC=function(eU){return dE(dD(eU));},function(eU){return dF(dC(eU));});cr.parseDateO=z.tryParseWith$1(function(eU){var eV,eW;eV=0;return[(eW=dv.TryParse(eU),eW!=null&&eW.$==1&&(eV=eW.$0,true)),eV];});cr.parseIntO=z.tryParseWith$1(function(eU){var eV;eV=0;return[dw.TryParseInt32(eU,{get:function(){return eV;},set:function(eW){eV=eW;}}),eV];});cr.parseSingleO=z.tryParseWith$1(function(eU){var eV,eW;eV=0;return[(eW=a.Number(eU),a.isNaN(eW)?false:(eV=eW,true)),eV];});cr.parseDoubleO=z.tryParseWith$1(function(eU){var eV,eW;eV=0;return[(eW=a.Number(eU),a.isNaN(eW)?false:(eV=eW,true)),eV];});cr.parseGuidO=z.tryParseWith$1(function(eU){var eV;eV=null;return[cN.TryParse(eU,{get:function(){return eV;},set:function(eW){eV=eW;}}),eV];});cr["|Date|_|"]=z.parseDateO$1();cr["|Int|_|"]=z.parseIntO$1();cr["|Single|_|"]=z.parseSingleO$1();cr["|Double|_|"]=z.parseDoubleO$1();cr["|Guid|_|"]=z.parseGuidO$1();dH=(dG=1,[function(){dG=dG+1;return dG;},function(eU){dG=eU;}]);cr.setGeneration=dH[1];cr.getNextGeneration=dH[0];cr.defaultSnippet=O.New(new N({$:0,$0:"00000000-0000-0000-0000-000000000000"}),"","",null,new cP.New$1(null),[],0);cr.deserGuid=function(eU){return X.ifUndef("00000000-0000-0000-0000-000000000000",eU);};function dI(eU){return X.ifUndef(0,eU);}cr.serFloat=[function(eU){return(function(eV){return function(eW){return eV(cz.prettyPrint(eW));};}(a.id))(eU);},function(eU){return dI(a.id(eU));}];function dJ(eU){return X.ifUndef(0,eU);}cr.serInt=[function(eU){return(function(eV){return function(eW){return eV(cz.prettyPrint(eW));};}(a.id))(eU);},function(eU){return dJ(a.id(eU));}];function dK(eU){return X.ifUndef(false,eU);}cr.serBool=[function(eU){return(function(eV){return function(eW){return eV(cz.prettyPrint(eW));};}(a.id))(eU);},function(eU){return dK(a.id(eU));}];function dL(eU){return X.ifUndef("",eU);}cr.serString=[function(eU){return c8.stringify(((c$.Id())())(eU));},function(eU){return dL(a.id(eU));}];cr.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";cr.observers=cE.T.Empty;cr.css="\r\n                .tab-panel {\r\n                 overflow  : hidden   ;\r\n                 display   : flex     ;\r\n                 flex-flow : column   ;\r\n                 background: lightgray;\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                }\r\n                .tab-content {\r\n                 flex      : 1 1     ;\r\n                 overflow  : auto    ;\r\n                 position  : relative;\r\n                }\r\n                .tab-children {\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                 position  : absolute;\r\n                 display   : grid    ;\r\n                }\r\n                .tab-strip {\r\n                 padding   : 0pt     ;\r\n                 flex      : 0 0     ;\r\n                }\r\n                .tab {\r\n                 border     : 0.2pt solid transparent;\r\n                 padding    : 0pt 4pt;\r\n                 display    : inline-block;\r\n                 font-family: sans-serif;\r\n                 font-weight: 200;\r\n                 font-size  : small;\r\n                 color      : #666;\r\n                 cursor     : pointer;\r\n                }\r\n                .top>.tab {\r\n                 border-radius: 2pt 2pt 0pt 0pt;\r\n                 border-bottom-width: 0pt;\r\n                 vertical-align: bottom;\r\n                }\r\n                .bottom>.tab {\r\n                 border-top-width: 0pt;\r\n                 border-radius: 0pt 0pt 2pt 2pt;\r\n                 vertical-align: top;\r\n                }\r\n                .horizontal>.tab:not(:first-child) {\r\n                 border-left-width: 0pt;\r\n                }\r\n                .tab.hovering {\r\n                 background: red;\r\n                }\r\n                .tab.selected {\r\n                 background: white;\r\n                 border-left-width: 0.2pt;\r\n                 color: black;\r\n                 font-weight: 500;\r\n                 border-color: black;\r\n                }\r\n                .horizontal>.tab.selected {\r\n                 border-left-width: 0.2pt;\r\n                }\r\n                ::slotted(*              ) { \r\n                 width : 100%;\r\n                 height: 100%;\r\n                }\r\n                        ";cr.init=dt.Create(function(){var eU,eV,eW;eU=new _5.New$1();eV="wcomp-tabstrip";eW=self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New;cS.log("defineWebComponent: "+eV);c6.setPrototypeOf(eW.prototype,self.HTMLElement.prototype);c6.setPrototypeOf(eW,self.HTMLElement);c6.setPrototypeOf(_5.Constructor$1.prototype,eW.prototype);self.customElements.define(eV,_5.Constructor$1);});cr.layoutHorizontal=cy.Curried(function(eU,eV,eW,eX,eY){return cZ.get_Empty();},5);cr.layoutVertical=cy.Curried(function(eU,eV,eW,eX,eY){return cZ.get_Empty();},5);cr.loader=(dM=null,cD.Delay(function(){self.require.config({paths:{vs:"/EPFileX/monaco/package/min/vs"}});return cD.Bind(cD.FromContinuations(function(eU,eV){return self.require(["vs/editor/editor.main"],eU,eV);}),function(){return cD.Return(null);});}));cr.MessageBrokerId="<MessageBroker>";cr.MessageBrokerAddress=new bn({$:0,$0:bm.MessageBrokerId()});cr.id="FSharpStation"+a.String(dx.now());cr.rootDir=".";cr.srcDir=".";cD.Start((dN=null,cD.Delay(function(){return cD.Bind((new dh.New()).Async("FSharpStation:FsRoot.FSharpStation+FStation.getRootDir:-447555547",[]),function(eU){b9.set_rootDir(eU+"/"+"..");b9.set_srcDir(eU+"/"+"..\\src");(((cy.Curried3(function(eV,eW,eX){return eV("fileName = "+cz.toSafe(eW)+"\\"+cz.toSafe(eX)+".fsx");}))(function(eV){cS.log(eV);}))(b9.srcDir()))(b9.id());return cD.Zero();});})),null);cr.annotationsV=cV.Create$1("");cr.snippets=new dy.New$1(function(eU){return eU.snpId;});cr.hierarchy=cV.Create$1([]);cr.generation=cV.Create$1(5);cr.currentSnippetIdOV=cV.Create$1(null);cr.codeSnippetIdOV=cV.Create$1(null);cr.collapsedV=cV.Create$1(new cP.New$1(null));function dP(eU){var eV;eV=null;return dO.TryGetValue(eU,{get:function(){return eV;},set:function(eW){eV=eW;}})?{$:1,$0:eV}:null;}function dQ(eU,eV){dO.set_Item(eU,eV);return eV;}function dR(eU,eV){var eW;eW=dP(eU);return eW==null?dQ(eU,eV(eU)):eW.$0;}dS=(dO=new dz.New$5(),[[dP,function(eU){return function(eV){return dR(eU,eV);};}],function(){dO.Clear();}]);cr.predsCache=dS[0];cr.clearPreds=dS[1];function dU(eU){var eV;eV=null;return dT.TryGetValue(eU,{get:function(){return eV;},set:function(eW){eV=eW;}})?{$:1,$0:eV}:null;}function dV(eU,eV){dT.set_Item(eU,eV);return eV;}function dW(eU,eV){var eW;eW=dU(eU);return eW==null?dV(eU,eV(eU)):eW.$0;}dX=(dT=new dz.New$5(),[[dU,function(eU){return function(eV){return dW(eU,eV);};}],function(){dT.Clear();}]);cr.reducCache=dX[0];cr.clearReduc=dX[1];function dZ(eU){var eV;eV=null;return dY.TryGetValue(eU,{get:function(){return eV;},set:function(eW){eV=eW;}})?{$:1,$0:eV}:null;}function d0(eU,eV){dY.set_Item(eU,eV);return eV;}function d1(eU,eV){var eW;eW=dZ(eU);return eW==null?d0(eU,eV(eU)):eW.$0;}d2=(dY=new dz.New$5(),[[dZ,function(eU){return function(eV){return d1(eU,eV);};}],function(){dY.Clear();}]);cr.parentCache=d2[0];cr.clearParent=d2[1];cr.getParentIdO=(d3=(b_.parentCache())[1],function(eU){return(d3(eU))(b_.getParentIdONotMemo);});cU.Sink(function(eU){var eV,eW;if(eU!=null&&eU.$==1){eV=eU.$0;eW=b_.codeSnippetIdOV().Get();eW!=null&&eW.$==1?(b_.iterReader(n.op_BarGreaterGreater(n.op_BarGreaterGreater(n.op_BarGreaterGreater(n.op_BarGreaterGreater(n.op_GreaterGreaterEquals(n.op_BarGreaterGreater(Q.snippetORm(eW.$0),function(eX){return eX==null?null:{$:1,$0:Q.uniquePredsRm(eX.$0)};}),m.insertO),cQ.toList),function(eX){return cE.collect(a.id,eX);}),function(eX){return cE.contains(eV,eX);}),function(eX){if(eX);else b_.codeSnippetIdOV().Set({$:1,$0:eV});})),b_.clearPredsCache()):b_.codeSnippetIdOV().Set({$:1,$0:eV});}},b_.currentSnippetIdOV().get_View());function d6(eU){return eU.id();}cU.Sink(function(eU){var eV;b_.clearPredsCache();eV=cC.ofSeq(cB.delay(function(){return cB.collect(function(eW){return cB.append([b_.snippets().FindByKey(eW)],cB.delay(function(){return cB.filter(function(eX){return b_.isDescendantOf(eW,eX.snpId);},(b_.snippets())["var"].Get());}));},eU);}));b_.snippets().Set(eV);},(d4=cU.Map(function(eU){return cC.map(d6,eU);},b_.hierarchy().get_View()),(d5=[cV.Create$1(null)],(cU.Sink(function(eU){if(!cL.Equals(d5[0].Get(),eU))d5[0].Set(eU);},d4),d5[0].get_View()))));cr.CurrentSnippetIdW=cU.Map(function(eU){var eV;eV=Q.defaultSnippet().snpId;return eU==null?eV:eU.$0;},b_.currentSnippetIdOV().get_View());function d9(eU){var eV;eV=Q.defaultSnippet();return eU==null?eV:eU.$0;}function d_(eU){return b_.snippets().TryFindByKeyAsView(eU);}cr.currentSnippetW=cU.Map((d7=function(eU){return eU==null?null:a.id(eU.$0);},function(eU){return d9(d7(eU));}),cU.Bind((d8=function(eU){return eU==null?null:{$:1,$0:d_(eU.$0)};},function(eU){return W.insertWO(d8(eU));}),b_.currentSnippetIdOV().get_View()));function eb(eU){var eV;eV=Q.defaultSnippet();return eU==null?eV:eU.$0;}function ec(eU){return b_.snippets().TryFindByKeyAsView(eU);}cr.codeSnippetW=cU.Map((d$=function(eU){return eU==null?null:a.id(eU.$0);},function(eU){return eb(d$(eU));}),cU.Bind((ea=function(eU){return eU==null?null:{$:1,$0:ec(eU.$0)};},function(eU){return W.insertWO(ea(eU));}),b_.codeSnippetIdOV().get_View()));cr.currentSnippetV=new di.New(b_.currentSnippetW(),function(eU){b_.setSnippet(eU);});function ee(eU,eV){return[eU.id(),eV];}function ef(eU){function eV(eX){return S.listNodes(0,eX);}function eW(eX){return b_.runReader(b_.handleError,eX);}return function(eX){return eW(eV(eX));};}cr.getHierarchyW=cU.Map(cC.ofSeq,cU.Map(function(eU){return cB.map(function(eV){return ee(eV[0],eV[1]);},eU);},(ed=b_.hierarchy().get_View(),cU.Map2(function(eU,eV){return(ef(eU))(eV);},b_.collapsedV().get_View(),ed))));function ei(eU,eV){var eW;eW=null;return cD.Delay(function(){return cD.Bind(cD.Sleep(350),function(){return cD.Return(b_.runReader(b_.handleError,Q.fastCodeRm(b_.currentSnippetIdOV().Get(),b_.codeSnippetIdOV().Get())));});});}cr.codeAndStartsW=(eg=b_.codeSnippetW(),(eh=b_.snippets().v,(((cy.Curried3(cU.MapAsync2))(ei))(eg))(eh)));cr.FsCodeW=cU.Map(function(eU){return eU[0];},b_.codeAndStartsW());cr.codeStartsW=cU.Map(function(eU){return eU[1];},b_.codeAndStartsW());cr.SaveAsClassW=cU.Map2(function(eU,eV){return cB.exists(function(eW){return eW.snpGeneration>eV;},eU)?"btn-primary":"";},b_.snippets().v,b_.generation().get_View());cr.drag=ca.DragNone;cr.rootdir="..\\website";cr.TemplatesFileName="..\\website"+"\\Templates.html";((function(eU){return function(eV){return eU(cz.toSafe(eV));};}(function(eU){cS.log(eU);}))("..\\website\\Templates.html"));cr.startsV=cV.Create$1([]);cr.defaultStart=(ej=[[N.get_Empty(),""],[0,1,0]],function(eU){return eU==null?ej:eU.$0;});cr.fileName="none.fsx";cr.editorConfigO=null;cU.Sink(function(eU){var eV,eW;try{eV=(eW=ce.editorConfigO(),eW==null?null:eW.$0.editorO);eV==null?null:(eV.$0.setModel(ce.getSnippetModel(eU)),b9.annotationsV().Set(b9.annotationsV().Get()));}catch(eX){null;}},b_.CurrentSnippetIdW());cr.rexGuid$1="\\((\\d+)\\,\\s*(\\d+)\\) - \\((\\d+)\\,\\s*(\\d+)\\).*([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";function em(eU){return eU.$0;}function en(eU){return new N({$:0,$0:eU});}cr.serSnippetId=(ek=cC.head(cA.SplitChars((function(eU){return function(eV){return eU(cu.p(eV));};}(a.id))(en("00000000-0000-0000-0000-000000000000")),[" "],0)),(el=(function(eU){return function(eV){return eU(cz.prettyPrint(eV));};}(a.id))(ek),[function(eU){var eV;eV=em(eU);return(((cy.Curried3(function(eW,eX,eY){return eW("{"+cA.PadLeft(cz.toSafe(eX),10)+" :"+cz.prettyPrint(eY)+"}");}))(a.id))(el))(eV);},function(eU){var eV;return en((eV=eU[ek],(X.deserGuid())(eV)));}]));cr.serSnippet=(eo=[(ep=cl.serSnippetId(),X.serField("snpId",function(eU){return eU.snpId;},function(eU,eV){return O.New(eU,eV.snpName,eV.snpContent,eV.snpParentIdO,eV.snpPredIds,eV.snpProperties,eV.snpGeneration);},ep[0],ep[1])),(eq=X.serString(),X.serField("snpName",function(eU){return eU.snpName;},function(eU,eV){return O.New(eV.snpId,eU,eV.snpContent,eV.snpParentIdO,eV.snpPredIds,eV.snpProperties,eV.snpGeneration);},eq[0],eq[1])),(er=X.serString(),X.serField("snpContent",function(eU){return eU.snpContent;},function(eU,eV){return O.New(eV.snpId,eV.snpName,eU,eV.snpParentIdO,eV.snpPredIds,eV.snpProperties,eV.snpGeneration);},er[0],er[1])),(es=(et=cl.serSnippetId(),X.serOpt(et[0],et[1])),X.serField("snpParentIdO",function(eU){return eU.snpParentIdO;},function(eU,eV){return O.New(eV.snpId,eV.snpName,eV.snpContent,eU,eV.snpPredIds,eV.snpProperties,eV.snpGeneration);},es[0],es[1])),(eu=(ev=cl.serSnippetId(),X.serSet(ev[0],ev[1])),X.serField("snpPredIds",function(eU){return eU.snpPredIds;},function(eU,eV){return O.New(eV.snpId,eV.snpName,eV.snpContent,eV.snpParentIdO,eU,eV.snpProperties,eV.snpGeneration);},eu[0],eu[1])),(ew=(ex=(ey=X.serString(),X.serDup((X.serString())[0],(X.serString())[1],ey[0],ey[1])),X.serArr(ex[0],ex[1])),X.serField("snpProperties",function(eU){return eU.snpProperties;},function(eU,eV){return O.New(eV.snpId,eV.snpName,eV.snpContent,eV.snpParentIdO,eV.snpPredIds,eU,eV.snpGeneration);},ew[0],ew[1])),(ez=X.serInt(),X.serField("snpGeneration",function(eU){return eU.snpGeneration;},function(eU,eV){return O.New(eV.snpId,eV.snpName,eV.snpContent,eV.snpParentIdO,eV.snpPredIds,eV.snpProperties,eU);},ez[0],ez[1]))],(eA=Q.New("","",null),[function(eU){var eV;function eW(eX,eY,eZ){return(((cy.Curried3(function(e0,e1,e2){return e0(cz.prettyPrint(e1)+": "+cz.toSafe(e2));}))(a.id))(eX))(eY(eU));}eV=cA.concat(", ",cB.map(function(eX){return eW(eX[0],eX[1],eX[2]);},eo));return(function(eX){return function(eY){return eX("{"+cz.toSafe(eY)+"}");};}(a.id))(eV);},function(eU){return!eU?eA:cB.fold(function(eV,eW){return(eW[2](eV))(eU[eW[0]]);},eA,eo);}]));cr.serModel=(eB=[(eC=(eD=cl.serSnippet(),X.serArr(eD[0],eD[1])),X.serField("snippets",function(eU){return eU.snippets;},function(eU,eV){return cm.New(eU,eV.generation,eV.collapsed);},eC[0],eC[1])),(eE=X.serInt(),X.serField("generation",function(eU){return eU.generation;},function(eU,eV){return cm.New(eV.snippets,eU,eV.collapsed);},eE[0],eE[1])),(eF=(eG=cl.serSnippetId(),X.serSet(eG[0],eG[1])),X.serField("collapsed",function(eU){return eU.collapsed;},function(eU,eV){return cm.New(eV.snippets,eV.generation,eU);},eF[0],eF[1]))],(eH=cm.New([],0,new cP.New$1(null)),[function(eU){var eV;function eW(eX,eY,eZ){return(((cy.Curried3(function(e0,e1,e2){return e0(cz.prettyPrint(e1)+": "+cz.toSafe(e2));}))(a.id))(eX))(eY(eU));}eV=cA.concat(", ",cB.map(function(eX){return eW(eX[0],eX[1],eX[2]);},eB));return(function(eX){return function(eY){return eX("{"+cz.toSafe(eY)+"}");};}(a.id))(eV);},function(eU){return!eU?eH:cB.fold(function(eV,eW){return(eW[2](eV))(eU[eW[0]]);},eH,eB);}]));cr.fileName$1=cV.Create$1("");cr.serSnippetId2=[function(eU){return(function(eV){return function(eW){return eV(cz.prettyPrint(eW));};}(a.id))(eU);},function(eU){var eV;return new N({$:0,$0:(eV=eU.Item,(X.deserGuid())(eV))});}];cr.serSnippet2=(eI=[(eJ=co.serSnippetId2(),X.serField("id",function(eU){return eU.snpId;},function(eU,eV){return O.New(cL.Equals(eU,N.get_Empty())?new N({$:0,$0:cN.NewGuid()}):eU,eV.snpName,eV.snpContent,eV.snpParentIdO,eV.snpPredIds,eV.snpProperties,eV.snpGeneration);},eJ[0],eJ[1])),(eK=X.serString(),X.serField("name",function(eU){return eU.snpName;},function(eU,eV){return O.New(eV.snpId,eU,eV.snpContent,eV.snpParentIdO,eV.snpPredIds,eV.snpProperties,eV.snpGeneration);},eK[0],eK[1])),(eL=X.serString(),X.serField("content",function(eU){return eU.snpContent;},function(eU,eV){return O.New(eV.snpId,eV.snpName,eU,eV.snpParentIdO,eV.snpPredIds,eV.snpProperties,eV.snpGeneration);},eL[0],eL[1])),(eM=(eN=co.serSnippetId2(),X.serOpt(eN[0],eN[1])),X.serField("parent",function(eU){return eU.snpParentIdO;},function(eU,eV){return O.New(eV.snpId,eV.snpName,eV.snpContent,cL.Equals(eU,{$:1,$0:N.get_Empty()})?null:eU,eV.snpPredIds,eV.snpProperties,eV.snpGeneration);},eM[0],eM[1])),(eO=(eP=co.serSnippetId2(),X.serArr(eP[0],eP[1])),X.serField("predecessors",function(eU){return cC.ofSeq(eU.snpPredIds);},function(eU,eV){return O.New(eV.snpId,eV.snpName,eV.snpContent,eV.snpParentIdO,new cP.New(eU),eV.snpProperties,eV.snpGeneration);},eO[0],eO[1]))],(eQ=Q.New("","",null),[function(eU){var eV;function eW(eX,eY,eZ){return(((cy.Curried3(function(e0,e1,e2){return e0(cz.prettyPrint(e1)+": "+cz.toSafe(e2));}))(a.id))(eX))(eY(eU));}eV=cA.concat(", ",cB.map(function(eX){return eW(eX[0],eX[1],eX[2]);},eI));return(function(eX){return function(eY){return eX("{"+cz.toSafe(eY)+"}");};}(a.id))(eV);},function(eU){return!eU?eQ:cB.fold(function(eV,eW){return(eW[2](eV))(eU[eW[0]]);},eQ,eI);}]));cr.serSnippets=(eR=co.serSnippet2(),X.serArr(eR[0],eR[1]));cr.outputMsgs=cV.Create$1("");eS=b_.codeAndStartsW();cU.Sink(c.delayed(300,function(eU){ce.parse(eU[0],eU[1]);}),eS);cU.Sink(function(eU){self.onbeforeunload=eU!==""?function(eV){eV.returnValue="Changes you made may not be saved.";}:null;},b_.SaveAsClassW());cr.wsStationClient=new by.New(b9.id(),null,null);cD.Start((eT=null,cD.Delay(function(){return cD.Bind(cD.Sleep(1000),function(){return cD.While(function(){return true;},cD.Delay(function(){return cD.TryWith(cD.Delay(function(){var eU,eV,eW,eX,eY,eZ;function e0(e4){return(ct.j$4())(c8.parse(e4));}function e1(e4){return c8.stringify((cs.j$4())(e4));}function e2(e4){return cD.Return(e4);}function e3(e4){cH.FailWith(e4);}eU=cq.wsStationClient();eU.payloadProcessorO={$:1,$0:(eV=function(e4){return cq.processMessage(e0(e4));},(eW=(eX=function(e4){return e2(e1(e4));},function(e4){return cD.Bind(e4,eX);}),function(e4){return eW(eV(e4));}))};u.iterA(function(e4){return e3(a.String(e4));},a.ignore,eU.sendAndForget(bm.msgType(bp.MsgInformation,(eY=bm.MessageBrokerAddress(),(eZ=c8.stringify(((c$.Id())())("Registering Processor")),bs.New(new bn({$:0,$0:""}),eY,bp.MsgRequest,"",cN.NewGuid(),eZ,br.NoReply))))));return cD.Bind(cD.Sleep(60000),function(){return cD.Return(null);});}),function(eU){((function(eV){return function(eW){return eV(cz.toSafe(eW));};}(function(eV){cS.log(eV);}))(eU.message));return cD.Bind(cD.Sleep(1000),function(){return cD.Return(null);});});}));});})),null);};cs.j$4=function(){return cs._v$4?cs._v$4:cs._v$4=(c$.EncodeUnion(void 0,"$",[[0,[["$0","ResultValue",cs.j$6,0]]],[1,[["$0","ErrorValue",cs.j$5,0]]]]))();};ct.j$5=function(){return ct._v$5?ct._v$5:ct._v$5=(c$.DecodeUnion(void 0,"$",[[0,[["$0","Item",ct.j$6,0]]],[1,[["$0","Item",c$.DecodeArray(c$.Id()),0]]]]))();};ct.j$4=function(){return ct._v$4?ct._v$4:ct._v$4=(c$.DecodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",c$.DecodeArray(ct.j$5),0]]],[2,[["$0","Item",ct.j$5,0]]],[3,[["$0","Item",ct.j$5,0]]],[4,[["$0","Item",c$.DecodeArray(c$.Id()),0]]],[5,[]]]))();};ct.j$6=function(){return ct._v$6?ct._v$6:ct._v$6=(c$.DecodeUnion(N,"$",[[0,[["$0","Item",c$.Id(),0]]]]))();};cu.p=function(dB){return"SnippetId "+cz.prettyPrint(dB.$0);};cs.j$5=function(){return cs._v$5?cs._v$5:cs._v$5=(c$.EncodeUnion(d,"$",[[0,[]],[1,[["$0","Item",c$.Id(),0]]],[2,[["$0","Item",c$.Id(),0]]],[3,[["$0","Item",c$.Id(),0]]],[4,[["$0","Item",c$.Id(),0]]],[5,[["$0","Item1",c$.Id(),0],["$1","Item2",c$.Id(),0]]],[6,[["$0","Item",c$.EncodeArray(cs.j$5),0]]]]))();};cs.j$6=function(){return cs._v$6?cs._v$6:cs._v$6=(c$.EncodeUnion(void 0,"$",[[0,[["$0","Item",c$.Id(),0]]],[1,[["$0","Item",c$.EncodeArray(cs.j$7),0]]]]))();};cs.j$7=function(){return cs._v$7?cs._v$7:cs._v$7=(c$.EncodeRecord(void 0,[["snpId",cs.j$8,0],["snpName",c$.Id(),0],["snpContent",c$.Id(),0],["snpParentIdO",cs.j$8,1],["snpPredIds",c$.EncodeSet(cs.j$8),0],["snpProperties",c$.EncodeArray(c$.EncodeTuple([c$.Id(),c$.Id()])),0],["snpGeneration",c$.Id(),0]]))();};cs.j$8=function(){return cs._v$8?cs._v$8:cs._v$8=(c$.EncodeUnion(N,"$",[[0,[["$0","Item",c$.Id(),0]]]]))();};cv.snippetlist=function(dB){c4.LoadLocalTemplates("templates");return dB?c4.NamedTemplate("templates",{$:1,$0:"snippetlist"},dB):void 0;};cv.snippet=function(dB){c4.LoadLocalTemplates("templates");return dB?c4.NamedTemplate("templates",{$:1,$0:"snippet"},dB):void 0;};cv.propertytable=function(dB){c4.LoadLocalTemplates("templates");return dB?c4.NamedTemplate("templates",{$:1,$0:"propertytable"},dB):void 0;};cv.property=function(dB){c4.LoadLocalTemplates("templates");return dB?c4.NamedTemplate("templates",{$:1,$0:"property"},dB):void 0;};cv.layout=function(dB){dA.fixedsplitterhor();dA.fixedsplitterver();c4.LoadLocalTemplates("templates");return dB?c4.NamedTemplate("templates",{$:1,$0:"layout"},dB):void 0;};cv.buttonsright=function(dB){c4.LoadLocalTemplates("templates");return dB?c4.NamedTemplate("templates",{$:1,$0:"buttonsright"},dB):void 0;};cu.p$1=function(dB){return dB.$==6?"RMessages "+cz.printArray(function(dC){return cu.p$1(dC);},dB.$0):dB.$==5?"ExceptMsg ("+cz.prettyPrint(dB.$0)+", "+cz.prettyPrint(dB.$1)+")":dB.$==4?"Message "+cz.prettyPrint(dB.$0):dB.$==3?"Info "+cz.prettyPrint(dB.$0):dB.$==2?"Warning "+cz.prettyPrint(dB.$0):dB.$==1?"ErrorMsg "+cz.prettyPrint(dB.$0):"NoMsg";};cu.p$3=function(dB){return dB.$==5?"MsgGetUrl":dB.$==4?"MsgAction "+cz.printArray(cz.prettyPrint,dB.$0):dB.$==3?"MsgGetPredecessors "+cu.p$2(dB.$0):dB.$==2?"MsgGetCode "+cu.p$2(dB.$0):dB.$==1?"MsgGetSnippets "+cz.printArray(function(dC){return cu.p$2(dC);},dB.$0):"MsgGetId";};cu.p$2=function(dB){return dB.$==1?"RefSnippetPath "+cz.printArray(cz.prettyPrint,dB.$0):"RefSnippetId "+cu.p(dB.$0);};cs.j$9=function(){return cs._v$9?cs._v$9:cs._v$9=(c$.EncodeUnion(void 0,"type",[["BRGetConnections",[]],["BRGetProcessId",[]]]))();};cu.p$4=function(dB){return dB.$==2?"BRString "+cz.prettyPrint(dB.$0):dB.$==1?"BRPid "+cz.prettyPrint(dB.$0):"BRConnections "+cz.printArray(cz.prettyPrint,dB.$0);};ct.j$7=function(){return ct._v$7?ct._v$7:ct._v$7=(c$.DecodeUnion(void 0,"type",[["BRConnections",[["$0","Item",c$.DecodeArray(c$.Id()),0]]],["BRPid",[["$0","Item",c$.Id(),0]]],["BRString",[["$0","Item",c$.Id(),0]]]]))();};ct.j$8=function(){return ct._v$8?ct._v$8:ct._v$8=(c$.DecodeUnion(void 0,"type",[["BMOk",[]],["BMOnlyBrokerShouldUse",[]],["BMDestinationNotFound",[["$0","Item",ct.j$1,0]]],["BMWebSocketError",[["$0","Item",c$.Id(),0]]],["BMReceiverCantReply",[]],["BMUnexpectedMsgType",[["$0","Item",ct.j$2,0]]],["BMUnexpectedResponse",[["$0","Item",c$.Id(),0]]]]))();};cu.p$7=function(dB){return dB.$==2?"Receiver":dB.$==1?"Broker":"NoReply";};cu.p$6=function(dB){return dB.$==5?"MsgRequestForEcho":dB.$==4?"MsgRequestForId":dB.$==3?"MsgFromBroker":dB.$==2?"MsgReply":dB.$==1?"MsgRequest":"MsgInformation";};cw.p=function(dB){return"{"+("from = "+cu.p$5(dB.from))+"; "+("destination = "+cu.p$5(dB.destination))+"; "+("msgType = "+cu.p$6(dB.msgType))+"; "+("subtype = "+cz.prettyPrint(dB.subtype))+"; "+("id = "+cz.prettyPrint(dB.id))+"; "+("payload = "+cz.prettyPrint(dB.payload))+"; "+("replier = "+cu.p$7(dB.replier))+"}";};cu.p$5=function(dB){return"Address "+cz.prettyPrint(dB.$0);};cu.p$8=function(dB){return dB.$==3?"Close":dB.$==2?"Open":dB.$==1?"Error":"Message "+cw.p(dB.$0);};cu.p$9=function(dB){return dB.$==6?"RMessages "+cz.printArray(function(dC){return cu.p$9(dC);},dB.$0):dB.$==5?"ExceptMsg ("+cz.prettyPrint(dB.$0)+", "+cz.prettyPrint(dB.$1)+")":dB.$==4?"Message "+cz.printArray(function(dC){return cu.p$10(dC);},dB.$0):dB.$==3?"Info "+cz.prettyPrint(dB.$0):dB.$==2?"Warning "+cz.prettyPrint(dB.$0):dB.$==1?"ErrorMsg "+cz.prettyPrint(dB.$0):"NoMsg";};cu.p$10=function(dB){return dB.$==17?"KMultiple "+cz.printArray(function(dC){return cu.p$10(dC);},dB.$0):dB.$==16?"KUnionCase "+cw.p$22(dB.$0):dB.$==15?"KNamespaces "+cw.p$19(dB.$0):dB.$==14?"KCompilerLocation "+cw.p$18(dB.$0):dB.$==13?"KSignatureData "+cw.p$16(dB.$0):dB.$==12?"KTypeSig "+cz.prettyPrint(dB.$0):dB.$==11?"KToolTip "+cz.printArray(function(dC){return cz.printArray(function(dD){return cw.p$3(dD);},dC);},dB.$0):dB.$==10?"KDeclarations "+cz.printArray(function(dC){return cw.p$14(dC);},dB.$0):dB.$==9?"KFindDecl "+cw.p$13(dB.$0):dB.$==8?"KColorizations "+cz.printList(function(dC){return cw.p$12(dC);},dB.$0):dB.$==7?"KErrors "+cw.p$10(dB.$0):dB.$==6?"KMethod "+cw.p$7(dB.$0):dB.$==5?"KHelp "+cz.prettyPrint(dB.$0):dB.$==4?"KSymbolUse "+cw.p$5(dB.$0):dB.$==3?"KCompletion "+cz.printArray(function(dC){return cw.p$4(dC);},dB.$0):dB.$==2?"KHelpText "+cw.p$2(dB.$0):dB.$==1?"KError "+cw.p$1(dB.$0):"KInfo "+cz.prettyPrint(dB.$0);};cw.p$22=function(dB){return"{"+("Text = "+cz.prettyPrint(dB.Text))+"}";};cw.p$21=function(dB){return"{"+("Name = "+cz.prettyPrint(dB.Name))+"; "+("Qualifier = "+cz.prettyPrint(dB.Qualifier))+"}";};cw.p$20=function(dB){return"{"+("Namespace = "+cz.prettyPrint(dB.Namespace))+"; "+("Name = "+cz.prettyPrint(dB.Name))+"; "+("Type = "+cz.prettyPrint(dB.Type))+"; "+("Line = "+cz.prettyPrint(dB.Line))+"; "+("Column = "+cz.prettyPrint(dB.Column))+"; "+("MultipleNames = "+cz.prettyPrint(dB.MultipleNames))+"}";};cw.p$18=function(dB){return"{"+("Fsc = "+cz.prettyPrint(dB.Fsc))+"; "+("Fsi = "+cz.prettyPrint(dB.Fsi))+"; "+("MSBuild = "+cz.prettyPrint(dB.MSBuild))+"}";};cw.p$16=function(dB){return"{"+("OutputType = "+cz.prettyPrint(dB.OutputType))+"; "+("Parameters = "+cz.printList(function(dC){return cz.printList(function(dD){return cw.p$17(dD);},dC);},dB.Parameters))+"}";};cw.p$19=function(dB){return"{"+("Opens = "+cz.printArray(function(dC){return cw.p$20(dC);},dB.Opens))+"; "+("Qualifies = "+cz.printArray(function(dC){return cw.p$21(dC);},dB.Qualifies))+"; "+("Word = "+cz.prettyPrint(dB.Word))+"}";};cw.p$17=function(dB){return"{"+("Name = "+cz.prettyPrint(dB.Name))+"; "+("Type = "+cz.prettyPrint(dB.Type))+"}";};cw.p$14=function(dB){return"{"+("Declaration = "+cw.p$15(dB.Declaration))+"; "+("Nested = "+cz.printArray(function(dC){return cw.p$15(dC);},dB.Nested))+"}";};cw.p$13=function(dB){return"{"+("File = "+cz.prettyPrint(dB.File))+"; "+("Line = "+cz.prettyPrint(dB.Line))+"; "+("Column = "+cz.prettyPrint(dB.Column))+"}";};cw.p$15=function(dB){return"{"+("UniqueName = "+cz.prettyPrint(dB.UniqueName))+"; "+("Name = "+cz.prettyPrint(dB.Name))+"; "+("Glyph = "+cz.prettyPrint(dB.Glyph))+"; "+("GlyphChar = "+cz.prettyPrint(dB.GlyphChar))+"; "+("IsTopLevel = "+cz.prettyPrint(dB.IsTopLevel))+"; "+("File = "+cz.prettyPrint(dB.File))+"; "+("EnclosingEntity = "+cz.prettyPrint(dB.EnclosingEntity))+"; "+("IsAbstract = "+cz.prettyPrint(dB.IsAbstract))+"}";};cw.p$12=function(dB){return"{"+("Kind = "+cz.prettyPrint(dB.Kind))+"}";};cw.p$10=function(dB){return"{"+("File = "+cz.prettyPrint(dB.File))+"; "+("Errors = "+cz.printArray(function(dC){return cw.p$11(dC);},dB.Errors))+"}";};cw.p$11=function(dB){return"{"+("FileName = "+cz.prettyPrint(dB.FileName))+"; "+("StartLine = "+cz.prettyPrint(dB.StartLine))+"; "+("EndLine = "+cz.prettyPrint(dB.EndLine))+"; "+("StartColumn = "+cz.prettyPrint(dB.StartColumn))+"; "+("EndColumn = "+cz.prettyPrint(dB.EndColumn))+"; "+("Severity = "+cz.prettyPrint(dB.Severity))+"; "+("Message = "+cz.prettyPrint(dB.Message))+"; "+("Subcategory = "+cz.prettyPrint(dB.Subcategory))+"}";};cw.p$7=function(dB){return"{"+("Name = "+cz.prettyPrint(dB.Name))+"; "+("CurrentParameter = "+cz.prettyPrint(dB.CurrentParameter))+"; "+("Overloads = "+cz.printList(function(dC){return cw.p$8(dC);},dB.Overloads))+"}";};cw.p$8=function(dB){return"{"+("Tip = "+cz.printList(function(dC){return cz.printList(function(dD){return cw.p$3(dD);},dC);},dB.Tip))+"; "+("TypeText = "+cz.prettyPrint(dB.TypeText))+"; "+("Parameters = "+cz.printList(function(dC){return cw.p$9(dC);},dB.Parameters))+"; "+("IsStaticArguments = "+cz.prettyPrint(dB.IsStaticArguments))+"}";};cw.p$9=function(dB){return"{"+("Name = "+cz.prettyPrint(dB.Name))+"; "+("CanonicalTypeTextForSorting = "+cz.prettyPrint(dB.CanonicalTypeTextForSorting))+"; "+("Display = "+cz.prettyPrint(dB.Display))+"; "+("Description = "+cz.prettyPrint(dB.Description))+"}";};cw.p$5=function(dB){return"{"+("Name = "+cz.prettyPrint(dB.Name))+"; "+("Uses = "+cz.printList(function(dC){return cw.p$6(dC);},dB.Uses))+"}";};cw.p$6=function(dB){return"{"+("FileName = "+cz.prettyPrint(dB.FileName))+"; "+("StartLine = "+cz.prettyPrint(dB.StartLine))+"; "+("StartColumn = "+cz.prettyPrint(dB.StartColumn))+"; "+("EndLine = "+cz.prettyPrint(dB.EndLine))+"; "+("EndColumn = "+cz.prettyPrint(dB.EndColumn))+"; "+("IsFromDefinition = "+cz.prettyPrint(dB.IsFromDefinition))+"; "+("IsFromAttribute = "+cz.prettyPrint(dB.IsFromAttribute))+"; "+("IsFromComputationExpression = "+cz.prettyPrint(dB.IsFromComputationExpression))+"; "+("IsFromDispatchSlotImplementation = "+cz.prettyPrint(dB.IsFromDispatchSlotImplementation))+"; "+("IsFromPattern = "+cz.prettyPrint(dB.IsFromPattern))+"; "+("IsFromType = "+cz.prettyPrint(dB.IsFromType))+"}";};cw.p$4=function(dB){return"{"+("Name = "+cz.prettyPrint(dB.Name))+"; "+("ReplacementText = "+cz.prettyPrint(dB.ReplacementText))+"; "+("Glyph = "+cz.prettyPrint(dB.Glyph))+"; "+("GlyphChar = "+cz.prettyPrint(dB.GlyphChar))+"}";};cw.p$2=function(dB){return"{"+("Name = "+cz.prettyPrint(dB.Name))+"; "+("Overloads = "+cz.printList(function(dC){return cz.printList(function(dD){return cw.p$3(dD);},dC);},dB.Overloads))+"}";};cw.p$3=function(dB){return"{"+("Signature = "+cz.prettyPrint(dB.Signature))+"; "+("Comment = "+cz.prettyPrint(dB.Comment))+"; "+("Footer = "+cz.prettyPrint(dB.Footer))+"}";};cw.p$1=function(dB){return"{"+("Code = "+cz.prettyPrint(dB.Code))+"; "+("Message = "+cz.prettyPrint(dB.Message))+"}";};cs.j$1=function(){return cs._v$1?cs._v$1:cs._v$1=(c$.EncodeUnion(bn,"$",[[0,[["$0","address",c$.Id(),0]]]]))();};cs.j$2=function(){return cs._v$2?cs._v$2:cs._v$2=(c$.EncodeUnion(void 0,"type",[["MsgInformation",[]],["MsgRequest",[]],["MsgReply",[]],["MsgFromBroker",[]],["MsgRequestForId",[]],["MsgRequestForEcho",[]]]))();};cs.j$3=function(){return cs._v$3?cs._v$3:cs._v$3=(c$.EncodeUnion(void 0,"type",[["NoReply",[]],["Broker",[]],["Receiver",[]]]))();};cs.j=function(){return cs._v?cs._v:cs._v=(c$.EncodeRecord(void 0,[["from",cs.j$1,0],["destination",cs.j$1,0],["msgType",cs.j$2,0],["subtype",c$.Id(),0],["id",c$.Id(),0],["payload",c$.Id(),0],["replier",cs.j$3,0]]))();};ct.j$1=function(){return ct._v$1?ct._v$1:ct._v$1=(c$.DecodeUnion(bn,"$",[[0,[["$0","address",c$.Id(),0]]]]))();};ct.j$2=function(){return ct._v$2?ct._v$2:ct._v$2=(c$.DecodeUnion(void 0,"type",[["MsgInformation",[]],["MsgRequest",[]],["MsgReply",[]],["MsgFromBroker",[]],["MsgRequestForId",[]],["MsgRequestForEcho",[]]]))();};ct.j$3=function(){return ct._v$3?ct._v$3:ct._v$3=(c$.DecodeUnion(void 0,"type",[["NoReply",[]],["Broker",[]],["Receiver",[]]]))();};ct.j=function(){return ct._v?ct._v:ct._v=(c$.DecodeRecord(void 0,[["from",ct.j$1,0],["destination",ct.j$1,0],["msgType",ct.j$2,0],["subtype",c$.Id(),0],["id",c$.Id(),0],["payload",c$.Id(),0],["replier",ct.j$3,0]]))();};}());

//# sourceMappingURL=FSharpStation.min.map