(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy;a=self;b=a.FsRoot=a.FsRoot||{};c=b.Library=b.Library||{};d=c.ResultMessage=c.ResultMessage||{};e=c.Monads=c.Monads||{};f=e.Seq=e.Seq||{};g=e.Async=e.Async||{};h=a.WebSharper;i=h&&h.Obj;j=e.Result=e.Result||{};k=j.Builder=j.Builder||{};l=j.Operators=j.Operators||{};m=e.AsyncResult=e.AsyncResult||{};n=e.AsyncResultBuilder=e.AsyncResultBuilder||{};o=e.AsyncResultBuilderP=e.AsyncResultBuilderP||{};p=e.Extensions=e.Extensions||{};q=e.ReaderMonads=e.ReaderMonads||{};r=q.ReaderMBasic=q.ReaderMBasic||{};s=r.Builder=r.Builder||{};t=r.Operators=r.Operators||{};u=q.ReaderMResult=q.ReaderMResult||{};v=u.Builder=u.Builder||{};w=u.Operators=u.Operators||{};x=q.ReaderMAsyncResult=q.ReaderMAsyncResult||{};y=x.Builder=x.Builder||{};z=x.Operators=x.Operators||{};A=c.String=c.String||{};B=c.ParseO=c.ParseO||{};C=c.MailboxProcessorExt=c.MailboxProcessorExt||{};D=c.Mailbox=c.Mailbox||{};E=D.StateFull=D.StateFull||{};F=c.ResourceAgentState=c.ResourceAgentState||{};G=c.ResourceAgent=c.ResourceAgent||{};H=c.AgentReaderM=c.AgentReaderM||{};I=c.CommArgRoot=c.CommArgRoot||{};J=I.CommArg=I.CommArg||{};K=I.CommArgCollection=I.CommArgCollection||{};L=I.TypedCommArg=I.TypedCommArg||{};M=I.CommArgModule=I.CommArgModule||{};N=c.FsCodeModule=c.FsCodeModule||{};O=N.PreproDirective=N.PreproDirective||{};P=c.SnippetId=c.SnippetId||{};Q=c.Snippet=c.Snippet||{};R=c.SnippetCollection=c.SnippetCollection||{};S=c.SnippetModule=c.SnippetModule||{};T=c.Hole=c.Hole||{};U=c.TreeReader=c.TreeReader||{};V=U.Node=U.Node||{};W=b.LibraryJS=b.LibraryJS||{};X=W.Promise=W.Promise||{};Y=W.View=W.View||{};Z=W.Serializer=W.Serializer||{};_0=W.LoadFiles=W.LoadFiles||{};_1=W.REGEX=W.REGEX||{};_2=W.Hoverable=W.Hoverable||{};_3=_2.Hoverable=_2.Hoverable||{};_4=W.ResizeObserver=W.ResizeObserver||{};_5=W.WebComponent=W.WebComponent||{};_6=_5.WcTabStrip=_5.WcTabStrip||{};_7=_6.WcTabStripT=_6.WcTabStripT||{};_8=_5.WcSplitter=_5.WcSplitter||{};_9=_8.WcSplitterT=_8.WcSplitterT||{};_=W.Monaco=W.Monaco||{};$=_.Position=_.Position||{};ba=_.Range=_.Range||{};bb=_.Uri=_.Uri||{};bc=_.Location=_.Location||{};bd=_.FindMatch=_.FindMatch||{};be=_.WordAtPosition=_.WordAtPosition||{};bf=_.Model=_.Model||{};bg=_.MarkDownString=_.MarkDownString||{};bh=_.MarkerData=_.MarkerData||{};bi=_.CompletionItem=_.CompletionItem||{};bj=_.Hover=_.Hover||{};bk=_.Editor=_.Editor||{};bl=_.MonacoConfig=_.MonacoConfig||{};bm=W.AppFramework=W.AppFramework||{};bn=bm.PlugInVar=bm.PlugInVar||{};bo=bm.PlugInView=bm.PlugInView||{};bp=bm.PlugInDoc=bm.PlugInDoc||{};bq=bm.PlugInAction=bm.PlugInAction||{};br=bm.PlugInQuery=bm.PlugInQuery||{};bs=bm.PlugIn=bm.PlugIn||{};bt=W.LayoutEngine=W.LayoutEngine||{};bu=W.LayoutEngineModule=W.LayoutEngineModule||{};bv=b.Library2=b.Library2||{};bw=bv.FsiAgent=bv.FsiAgent||{};bx=bv.WebSockets=bv.WebSockets||{};by=bx.Address=bx.Address||{};bz=bx.BrokerRequest=bx.BrokerRequest||{};bA=bx.MessageType=bx.MessageType||{};bB=bx.BrokerMessage=bx.BrokerMessage||{};bC=bx.Replier=bx.Replier||{};bD=bx.MessageGeneric=bx.MessageGeneric||{};bE=bx.ClientTypeFSharp=bx.ClientTypeFSharp||{};bF=bx.ClientTypeFSStation=bx.ClientTypeFSStation||{};bG=bx.ClientTypeJScript=bx.ClientTypeJScript||{};bH=bx.ReplyHandler=bx.ReplyHandler||{};bI=bH.Handler=bH.Handler||{};bJ=bx.WSMessagingClient=bx.WSMessagingClient||{};bK=bv.FsAutoComplete=bv.FsAutoComplete||{};bL=bK.CommTypes=bK.CommTypes||{};bM=bL.ResponseError=bL.ResponseError||{};bN=bL.Location=bL.Location||{};bO=bL.CompletionResponse=bL.CompletionResponse||{};bP=bL.OverloadDescription=bL.OverloadDescription||{};bQ=bL.OverloadParameter=bL.OverloadParameter||{};bR=bL.Overload=bL.Overload||{};bS=bL.Parameter=bL.Parameter||{};bT=bL.SignatureData=bL.SignatureData||{};bU=bL.MethodResponse=bL.MethodResponse||{};bV=bL.SymbolUseRange=bL.SymbolUseRange||{};bW=bL.SymbolUseResponse=bL.SymbolUseResponse||{};bX=bL.HelpTextResponse=bL.HelpTextResponse||{};bY=bL.CompilerLocationResponse=bL.CompilerLocationResponse||{};bZ=bL.FSharpErrorInfo=bL.FSharpErrorInfo||{};b0=bL.ErrorResponse=bL.ErrorResponse||{};b1=bL.Colorization=bL.Colorization||{};b2=bL.Declaration=bL.Declaration||{};b3=bL.DeclarationResponse=bL.DeclarationResponse||{};b4=bL.OpenNamespace=bL.OpenNamespace||{};b5=bL.QualifySymbol=bL.QualifySymbol||{};b6=bL.ResolveNamespaceResponse=bL.ResolveNamespaceResponse||{};b7=bL.UnionCaseResponse=bL.UnionCaseResponse||{};b8=bK.Calls=bK.Calls||{};b9=b.FSharpStation=b.FSharpStation||{};b_=b9.FStation=b9.FStation||{};b$=b9.Snippets=b9.Snippets||{};ca=b9.DragDrop=b9.DragDrop||{};cb=ca.DragInfo=ca.DragInfo||{};cc=b9.Templating=b9.Templating||{};cd=b9.RenderSnippets=b9.RenderSnippets||{};ce=b9.RenderProperties=b9.RenderProperties||{};cf=b9.Monaco=b9.Monaco||{};cg=cf.HoverProvider=cf.HoverProvider||{};ch=cf.CompletionItemProvider=cf.CompletionItemProvider||{};ci=cf.DefinitionProvider=cf.DefinitionProvider||{};cj=cf.MonacoOptions=cf.MonacoOptions||{};ck=cf.ITextModelService=cf.ITextModelService||{};cl=b9.JumpTo=b9.JumpTo||{};cm=b9.Serializer=b9.Serializer||{};cn=cm.Model=cm.Model||{};co=b9.LoadSave=b9.LoadSave||{};cp=b9.Importer=b9.Importer||{};cq=b9.MainProgram=b9.MainProgram||{};cr=b9.Messaging=b9.Messaging||{};cs=a.StartupCode$FSharpStation$FSharpStation=a.StartupCode$FSharpStation$FSharpStation||{};ct=a.FSharpStation_JsonEncoder=a.FSharpStation_JsonEncoder||{};cu=a.FSharpStation_JsonDecoder=a.FSharpStation_JsonDecoder||{};cv=a.FSharpStation_Templates=a.FSharpStation_Templates||{};cw=a.FSharpStation_GeneratedPrintf=a.FSharpStation_GeneratedPrintf||{};cx=a.GeneratedPrintf=a.GeneratedPrintf||{};cy=a.IntelliFactory;cz=cy&&cy.Runtime;cA=h&&h.Utils;cB=h&&h.Seq;cC=h&&h.Concurrency;cD=h&&h.Arrays;cE=h&&h.List;cF=h&&h.Enumerator;cG=h&&h.Result;cH=h&&h.Operators;cI=h&&h.Strings;cJ=h&&h.Slice;cK=h&&h.Control;cL=cK&&cK.MailboxProcessor;cM=h&&h.Unchecked;cN=a.System;cO=cN&&cN.Guid;cP=h&&h.Collections;cQ=cP&&cP.FSharpSet;cR=h&&h.Option;cS=h&&h.CancellationTokenSource;cT=a.console;cU=h&&h.UI;cV=cU&&cU.View;cW=cU&&cU.Var$1;cX=cP&&cP.FSharpMap;cY=cP&&cP.BalancedTree;cZ=cU&&cU.DomUtility;c0=cU&&cU.Doc;c1=cU&&cU.AttrModule;c2=cU&&cU.AttrProxy;c3=a.Node;c4=cU&&cU.Client;c5=c4&&c4.Templates;c6=a.Reflect;c7=a.Object;c8=cU&&cU.FromView;c9=cU&&cU.Templating;c_=c9&&c9.Runtime;c$=c_&&c_.Server;da=c$&&c$.ProviderBuilder;db=c$&&c$.Handler;dc=c$&&c$.TemplateInstance;dd=h&&h.Lazy;de=cP&&cP.Map;df=a.JSON;dg=h&&h.TimeoutException;dh=h&&h.ClientSideJson;di=dh&&dh.Provider;dj=h&&h.Owin;dk=dj&&dj.WebSocket;dl=dk&&dk.Client;dm=dl&&dl.WithEncoding;dn=dk&&dk.Endpoint;_do=a.location;dp=h&&h.Remoting;dq=dp&&dp.AjaxRemotingProvider;dr=h&&h.JavaScript;ds=dr&&dr.Promise;dt=h&&h.DateUtil;du=h&&h.Numeric;dv=cU&&cU.ListModel;dw=cP&&cP.Dictionary;dx=a.Date;dy=a.jQuery;d=c.ResultMessage=cz.Class({toString:function(){return this.$==1?(function(dz){return function(dA){return dz("Warning  : "+cA.toSafe(dA));};}(a.id))(this.$0):this.$==2?(function(dz){return function(dA){return dz(a.String(dA));};}(a.id))(this.$0):this.$==3?(((cz.Curried3(function(dz,dA,dB){return dz("Exception: "+cA.toSafe(dA)+", "+cA.toSafe(dB));}))(a.id))(this.$0))(this.$1):(function(dz){return function(dA){return dz("Error    : "+cA.toSafe(dA));};}(a.id))(this.$0);}},null,d);f.absorbR=function(dz){return cB.choose(function(dA){return dA.$==0?{$:1,$0:dA.$0}:null;},dz);};f.absorbO=function(dz){return cB.choose(a.id,dz);};f.insertR=function(dz){return dz.$==0?cB.map(function(dA){return{$:0,$0:dA};},dz.$0):(f.rtn())(c.Error(dz.$0));};f.insertO=function(dz){var dA;dA=dz==null?null:{$:1,$0:cB.map(function(dB){return{$:1,$0:dB};},dz.$0)};return dA==null?(f.rtn())(null):dA.$0;};f.rtn=function(){cs.$cctor();return cs.rtn;};g.insertR=function(dz){function dA(dC){return{$:0,$0:dC};}function dB(dC){return cC.Return(dC);}return dz.$==0?cC.Bind(dz.$0,function(dC){return dB(dA(dC));}):cC.Return(c.Error(dz.$0));};g.insertO=function(dz){var dA;function dB(dD){return{$:1,$0:dD};}function dC(dD){return cC.Return(dD);}dA=dz==null?null:{$:1,$0:cC.Bind(dz.$0,function(dD){return dC(dB(dD));})};return dA==null?cC.Return(null):dA.$0;};g.sequenceSeq=function(dz){return g.traverseSeq(a.id,dz);};g.traverseSeq=function(dz,dA){function dB(dC){return cC.Return(dC);}return cC.Bind(cD.foldBack(function(dC,dD){return g.op_GreaterGreaterEquals(dz(dC),function(dE){return g.op_GreaterGreaterEquals(dD,function(dF){return cC.Return(new cE.T({$:1,$0:dE,$1:dF}));});});},cD.ofSeq(dA),cC.Return(cE.T.Empty)),function(dC){return dB(a.id(dC));});};g.op_GreaterGreaterEquals=function(dz,dA){return cC.Bind(dz,dA);};g.sleepThen=function(dz,dA){var dB;dB=null;return cC.Delay(function(){return cC.Bind(cC.Sleep(dA),function(){return cC.Return(dz());});});};g.apply=function(dz,dA){var dB;dB=null;return cC.Delay(function(){return cC.Bind(cC.StartChild(dz,null),function(dC){return cC.Bind(cC.StartChild(dA,null),function(dD){return cC.Bind(dC,function(dE){return cC.Bind(dD,function(dF){return cC.Return(dE(dF));});});});});});};k=j.Builder=cz.Class({For:function(dz,dA){var dB;dB=this;return this.Using(cF.Get(dz),function(dC){return dB.While(function(){return dC.MoveNext();},dB.Delay(function(){return dA(dC.Current());}));});},While:function(dz,dA){function dB(dC,dD){return dC()?cG.Bind(function(){return dB(dC,dD);},dD()):j.rtn();}return dB(dz,dA);},Using:function(dz,dA){try{return dA(dz);}finally{dz.Dispose();}},TryFinally:function(dz,dA){try{return dz();}finally{dA();}},TryWith:function(dz,dA){try{return dz();}catch(dB){return dA(dB);}},Run:function(dz){return j.bindP(dz,{$:0,$0:null});},Combine:function(dz,dA){return cG.Bind(dA,dz);},Delay:a.id,Zero:function(){return j.rtn();},Bind:function(dz,dA){return j.bindP(dA,dz);},ReturnFrom:a.id,Return:function(dz){return j.rtn(dz);}},i,k);k.New=cz.Ctor(function(){i.New.call(this);},k);l.result=function(){cs.$cctor();return cs.result$1;};l.rtn=function(dz){return j.rtn(dz);};l.op_GreaterEqualsGreater=function(dz,dA,dB){return l.op_GreaterGreaterEquals(dz(dB),dA);};l.op_RightShift=function(dz,dA,dB){return l.op_BarGreaterGreater(dz(dB),dA);};l.op_GreaterGreaterEquals=function(dz,dA){return j.bindP(dA,dz);};l.op_BarGreaterGreater=function(dz,dA){return j.mapP(dA,dz);};j.result=function(){cs.$cctor();return cs.result;};j.sequenceSeq=function(dz){return j.traverseSeq(a.id,dz);};j.traverseSeq=function(dz,dA){return cG.Map(a.id,cD.foldBack(function(dB,dC){return j.op_GreaterGreaterEquals(dz(dB),function(dD){return j.op_GreaterGreaterEquals(dC,function(dE){return j.rtn(new cE.T({$:1,$0:dD,$1:dE}));});});},cD.ofSeq(dA),j.rtn(cE.T.Empty)));};j.op_GreaterGreaterEquals=function(dz,dA){return cG.Bind(dA,dz);};j.absorbO=function(dz,dA){return j.bindP(function(dB){return j.ofOption(dz,dB);},dA);};j.insertO=function(dz){var dA;dA=dz==null?null:{$:1,$0:cG.Map(function(dB){return{$:1,$0:dB};},dz.$0)};return dA==null?{$:0,$0:null}:dA.$0;};j.ofOption=function(dz,dA){var dB;dB=dA==null?null:{$:1,$0:{$:0,$0:dA.$0}};return dB==null?function(dC){return c.Error(dz(dC));}():dB.$0;};j.get=function(dz){return j.defaultWith(function(dA){return cH.FailWith(a.String(dA));},dz);};j.iter=function(dz,dA,dB){j.defaultWith(dz,j.mapP(dA,dB));};j.mapP=function(dz,dA){return j.bindP(function(dB){return j.rtn(dz(dB));},dA);};j.bindP=function(dz,dA){if(dA.$==1)return c.Error(dA.$0);else try{return dz(dA.$0);}catch(dB){return c.Error(new d({$:3,$0:dB.message,$1:dB.stack}));}};j.defaultValue=function(dz,dA){return dA.$==1?dz:dA.$0;};j.defaultWith=function(dz,dA){return dA.$==1?dz(dA.$0):dA.$0;};j.toOption=function(dz){return dz.$==0?{$:1,$0:dz.$0}:null;};j.rtn=function(dz){return{$:0,$0:dz};};m.absorbO=function(dz,dA){function dB(dD){return j.absorbO(dz,dD);}function dC(dD){return cC.Return(dD);}return cC.Bind(dA,function(dD){return dC(dB(dD));});};m.absorbR=function(dz){var dA;function dB(dC){return cC.Return(dC);}return cC.Bind(dz,(dA=function(dC){return j.bindP(a.id,dC);},function(dC){return dB(dA(dC));}));};m.insertR=function(dz){return dz.$==0?m.map(function(dA){return{$:0,$0:dA};},dz.$0):m.rtn(c.Error(dz.$0));};m.insertO=function(dz){var dA;dA=dz==null?null:{$:1,$0:m.map(function(dB){return{$:1,$0:dB};},dz.$0)};return dA==null?m.rtn(null):dA.$0;};m.sequenceSeq=function(dz){return m.traverseSeq(a.id,dz);};m.traverseSeq=function(dz,dA){return m.map(a.id,cD.foldBack(function(dB,dC){return m.op_GreaterGreaterEquals(dz(dB),function(dD){return m.op_GreaterGreaterEquals(dC,function(dE){return m.rtn(new cE.T({$:1,$0:dD,$1:dE}));});});},cD.ofSeq(dA),m.rtn(cE.T.Empty)));};m.op_GreaterGreaterEquals=function(dz,dA){return m.bind(dA,dz);};m.whileLoop=function(dz,dA){return dz()?m.bind(function(){return m.whileLoop(dz,dA);},dA()):m.rtn();};m.mapP=function(dz,dA){return m.bindP(function(dB){return m.rtn(dz(dB));},dA);};m.map=function(dz,dA){return m.bind(function(dB){return m.rtn(dz(dB));},dA);};m.bindP=function(dz,dA){var dB;dB=null;return cC.Delay(function(){return cC.TryWith(cC.Delay(function(){return cC.Bind(dA,function(dC){return dC.$==1?cC.Return(c.Error(dC.$0)):dz(dC.$0);});}),function(dC){return cC.Return(c.Error(new d({$:3,$0:dC.message,$1:dC.stack})));});});};m.bind=function(dz,dA){var dB;dB=null;return cC.Delay(function(){return cC.Bind(dA,function(dC){var dD,dE;return dC.$==1?(dD=dC.$0,(dE=null,cC.Delay(function(){return cC.Return(c.Error(dD));}))):dz(dC.$0);});});};m.iterA=function(dz,dA,dB){function dC(dE){j.iter(dz,dA,dE);}function dD(dE){return cC.Return(dE);}cC.Start(cC.Bind(dB,function(dE){return dD(dC(dE));}),null);};m.iterS=function(dz,dA,dB){throw"iterS cannot be used in JavaScript!";};m.rtnR=function(dz){return cC.Return(dz);};m.rtn=function(dz){return cC.Return({$:0,$0:dz});};n=e.AsyncResultBuilder=cz.Class({For:function(dz,dA){var dB;dB=this;return this.Using(cF.Get(dz),function(dC){return dB.While(function(){return dC.MoveNext();},dB.Delay(function(){return dA(dC.Current());}));});},While:function(dz,dA){return m.whileLoop(dz,dA);},Using:function(dz,dA){return cC.Using(dz,dA);},TryFinally:function(dz,dA){var dB;dB=null;return cC.Delay(function(){try{return dz();}finally{dA();}});},TryWith:function(dz,dA){var dB;dB=null;return cC.Delay(function(){try{return dz();}catch(dC){return dA(dC);}});},Run:function(dz){return dz();},Delay:a.id,Combine:function(dz,dA){return m.bind(dA,m.rtnR(dz));},Combine$1:function(dz,dA){return m.bind(dA,dz);},Bind:function(dz,dA){return m.bind(dA,m.rtnR(dz));},Bind$1:function(dz,dA){return m.bind(dA,dz);},Zero:function(){return m.rtn();},Return:function(dz){return m.rtn(dz);},ReturnFrom:function(dz){return m.rtnR(dz);},ReturnFrom$1:a.id},i,n);n.New=cz.Ctor(function(){i.New.call(this);},n);o=e.AsyncResultBuilderP=cz.Class({For:function(dz,dA){var dB;dB=this;return this.Using(cF.Get(dz),function(dC){return dB.While(function(){return dC.MoveNext();},dB.Delay(function(){return dA(dC.Current());}));});},While:function(dz,dA){return m.whileLoop(dz,dA);},Using:function(dz,dA){return cC.Using(dz,dA);},TryFinally:function(dz,dA){var dB;dB=null;return cC.Delay(function(){try{return dz();}finally{dA();}});},TryWith:function(dz,dA){var dB;dB=null;return cC.Delay(function(){try{return dz();}catch(dC){return dA(dC);}});},Run:function(dz){return m.bindP(dz,m.rtn());},Delay:a.id,Combine:function(dz,dA){return m.bindP(dA,m.rtnR(dz));},Combine$1:function(dz,dA){return m.bindP(dA,dz);},Bind:function(dz,dA){return m.bindP(dA,m.rtnR(dz));},Bind$1:function(dz,dA){return m.bindP(dA,dz);},Zero:function(){return m.rtn();},Return:function(dz){return m.rtn(dz);},ReturnFrom:function(dz){return m.rtnR(dz);},ReturnFrom$1:a.id},i,o);o.New=cz.Ctor(function(){i.New.call(this);},o);p["AsyncResultBuilderP.Combine"]=function(dz,dA,dB){function dC(dE){return{$:0,$0:dE};}function dD(dE){return cC.Return(dE);}return m.bindP(dB,cC.Bind(dA,function(dE){return dD(dC(dE));}));};p["AsyncResultBuilderP.Bind"]=function(dz,dA,dB){function dC(dE){return{$:0,$0:dE};}function dD(dE){return cC.Return(dE);}return m.bindP(dB,cC.Bind(dA,function(dE){return dD(dC(dE));}));};p["AsyncResultBuilderP.ReturnFrom"]=function(dz,dA){function dB(dD){return{$:0,$0:dD};}function dC(dD){return cC.Return(dD);}return cC.Bind(dA,function(dD){return dC(dB(dD));});};p["AsyncResultBuilder.Combine"]=function(dz,dA,dB){function dC(dE){return{$:0,$0:dE};}function dD(dE){return cC.Return(dE);}return m.bind(dB,cC.Bind(dA,function(dE){return dD(dC(dE));}));};p["AsyncResultBuilder.Bind"]=function(dz,dA,dB){function dC(dE){return{$:0,$0:dE};}function dD(dE){return cC.Return(dE);}return m.bind(dB,cC.Bind(dA,function(dE){return dD(dC(dE));}));};p["AsyncResultBuilder.ReturnFrom"]=function(dz,dA){function dB(dD){return{$:0,$0:dD};}function dC(dD){return cC.Return(dD);}return cC.Bind(dA,function(dD){return dC(dB(dD));});};s=r.Builder=cz.Class({For:function(dz,dA){var dB;dB=this;return this.Using(cF.Get(dz),function(dC){return dB.While(function(){return dC.MoveNext();},dB.Delay(function(){return dA(dC.Current());}));});},Using:function(dz,dA){return r.wrap(function(dB){try{return r.run(dB,dA(dz));}finally{dz.Dispose();}});},TryFinally:function(dz,dA){return r.wrap(function(dB){try{return r.run(dB,dz());}finally{dA();}});},TryWith:function(dz,dA){return r.wrap(function(dB){try{return r.run(dB,dz());}catch(dC){return dA(dC);}});},While:function(dz,dA){function dB(dC,dD){return dC()?r.bind(function(){return dB(dC,dD);},dD()):r.rtn();}return dB(dz,dA);},Run:function(dz){return r.delayRun(dz);},Combine:function(dz,dA){return r.bind(dA,dz);},Delay:a.id,Zero:function(){return r.rtn();},Bind:function(dz,dA){return r.bind(dA,dz);},ReturnFrom:a.id,Return:function(dz){return r.rtn(dz);}},i,s);s.New=cz.Ctor(function(){i.New.call(this);},s);t.reader=function(){cs.$cctor();return cs.reader$1;};t.rtn=function(dz){return r.rtn(dz);};t.op_GreaterEqualsGreater=function(dz,dA,dB){return t.op_GreaterGreaterEquals(dz(dB),dA);};t.op_RightShift=function(dz,dA,dB){return t.op_BarGreaterGreater(dz(dB),dA);};t.op_GreaterGreaterEquals=function(dz,dA){return r.bind(dA,dz);};t.op_BarGreaterGreater=function(dz,dA){return r.map(dA,dz);};t.op_LessMultiplyGreater=function(dz,dA){return r.apply(dz,dA);};r.reader=function(){cs.$cctor();return cs.reader;};r.memoizeRm=function(dz,dA,dB){return r.wrap(function(dC){var dD,dE,dF;dD=dz(dC);dE=dD[0](dB);return dE==null?(dF=(r.getFun(dA(dB)))(dC),(dD[1](dB))(dF)):dE.$0;});};r.iter=function(dz,dA){function dB(dC){return r.run(dA,dC);}return function(dC){return dz(dB(dC));};};r.absorbO=function(dz,dA){return r.absorbR(r.map(function(dB){return j.ofOption(dz,dB);},dA));};r.absorbR=function(dz){return r.map(j.get,dz);};r.insertSnd=function(dz,dA){return r.map(function(dB){return[dB,dA];},dz);};r.insertFst=function(dz,dA){return r.map(function(dB){return[dz,dB];},dA);};r.insertR=function(dz){return dz.$==0?r.map(function(dA){return{$:0,$0:dA};},dz.$0):r.rtn(c.Error(dz.$0));};r.insertO=function(dz){var dA;dA=dz==null?null:{$:1,$0:r.map(function(dB){return{$:1,$0:dB};},dz.$0)};return dA==null?r.rtn(null):dA.$0;};r.sequenceSeq=function(dz){return r.traverseSeq(a.id,dz);};r.traverseSeq=function(dz,dA){return r.map(a.id,cD.foldBack(function(dB,dC){return r.op_GreaterGreaterEquals(dz(dB),function(dD){return r.op_GreaterGreaterEquals(dC,function(dE){return r.rtn(new cE.T({$:1,$0:dD,$1:dE}));});});},cD.ofSeq(dA),r.rtn(cE.T.Empty)));};r.op_GreaterGreaterEquals=function(dz,dA){return r.bind(dA,dz);};r.run=function(dz,dA){return(r.getFun(dA))(dz);};r.apply=function(dz,dA){return r.bind(function(dB){return r.map(dB,dA);},dz);};r.map=function(dz,dA){return r.bind(function(dB){return r.rtn(dz(dB));},dA);};r.delayRun=function(dz){return r.wrap(function(dA){return(r.getFun(dz()))(dA);});};r.bind=function(dz,dA){return r.wrap(function(dB){return(r.getFun(dz((r.getFun(dA))(dB))))(dB);});};r.rtn=function(dz){return r.wrap(function(){return dz;});};r.ofFun=function(dz){return r.wrap(dz);};r.getFun=function(dz){return dz.$0;};r.wrap=function(dz){return{$:0,$0:dz};};v=u.Builder=cz.Class({For:function(dz,dA){var dB;dB=this;return this.Using(cF.Get(dz),function(dC){return dB.While(function(){return dC.MoveNext();},dB.Delay(function(){return dA(dC.Current());}));});},Using:function(dz,dA){return u.wrap(function(dB){try{return u.run(dB,dA(dz));}finally{dz.Dispose();}});},TryFinally:function(dz,dA){return u.wrap(function(dB){try{return u.run(dB,dz());}finally{dA();}});},TryWith:function(dz,dA){return u.wrap(function(dB){try{return u.run(dB,dz());}catch(dC){return dA(dC);}});},While:function(dz,dA){function dB(dC,dD){return dC()?u.bind(function(){return dB(dC,dD);},dD()):u.rtn();}return dB(dz,dA);},Run:function(dz){return u.delayRun(dz);},Combine:function(dz,dA){return u.bind(dA,dz);},Delay:a.id,Zero:function(){return u.rtn();},Bind:function(dz,dA){return u.bind(dA,dz);},ReturnFrom:function(dz){return u.rtnR(dz);},ReturnFrom$1:a.id,Return:function(dz){return u.rtn(dz);}},i,v);v.New=cz.Ctor(function(){i.New.call(this);},v);w.reader=function(){cs.$cctor();return cs.reader$3;};w.rtn=function(dz){return u.rtn(dz);};w.op_GreaterEqualsGreater=function(dz,dA,dB){return w.op_GreaterGreaterEquals(dz(dB),dA);};w.op_RightShift=function(dz,dA,dB){return w.op_BarGreaterGreater(dz(dB),dA);};w.op_GreaterGreaterEquals=function(dz,dA){return u.bind(dA,dz);};w.op_BarGreaterGreater=function(dz,dA){return u.map(dA,dz);};w.op_LessMultiplyGreater=function(dz,dA){return u.apply(dz,dA);};u.reader=function(){cs.$cctor();return cs.reader$2;};u.memoizeRm=function(dz,dA,dB){return u.wrap(function(dC){var dD,dE,dF,dG;dD=dz(dC);return u.run(dC,(dE=(dF=dD[0](dB),dF==null?null:{$:1,$0:u.rtn(dF.$0)}),dE==null?(dG=dA(dB),u.map(dD[1](dB),dG)):dE.$0));});};u.iter=function(dz,dA,dB,dC){j.iter(dz,dA,u.run(dB,dC));};u.absorbO=function(dz,dA){return u.absorbR(u.map(function(dB){return j.ofOption(dz,dB);},dA));};u.absorbR=function(dz){return u.bind(u.rtnR,dz);};u.insertSnd=function(dz,dA){return u.map(function(dB){return[dB,dA];},dz);};u.insertFst=function(dz,dA){return u.map(function(dB){return[dz,dB];},dA);};u.insertR=function(dz){return dz.$==0?u.map(function(dA){return{$:0,$0:dA};},dz.$0):u.rtn(c.Error(dz.$0));};u.insertO=function(dz){var dA;dA=dz==null?null:{$:1,$0:u.map(function(dB){return{$:1,$0:dB};},dz.$0)};return dA==null?u.rtn(null):dA.$0;};u.sequenceSeq=function(dz){return u.traverseSeq(a.id,dz);};u.traverseSeq=function(dz,dA){return u.map(a.id,cD.foldBack(function(dB,dC){return u.op_GreaterGreaterEquals(dz(dB),function(dD){return u.op_GreaterGreaterEquals(dC,function(dE){return u.rtn(new cE.T({$:1,$0:dD,$1:dE}));});});},cD.ofSeq(dA),u.rtn(cE.T.Empty)));};u.op_GreaterGreaterEquals=function(dz,dA){return u.bind(dA,dz);};u.run=function(dz,dA){return(u.getFun(dA))(dz);};u.getResult2=function(dz){return u.map(function(dA){return{$:0,$0:dA};},dz);};u.getResult=function(dz){return{$:0,$0:function(dA){return{$:0,$0:(u.getFun(dz))(dA)};}};};u.apply=function(dz,dA){return u.bind(function(dB){return u.map(dB,dA);},dz);};u.map=function(dz,dA){return u.bind(function(dB){return u.rtn(dz(dB));},dA);};u.delayRun=function(dz){return u.wrap(function(dA){return(u.getFun(dz()))(dA);});};u.bindR=function(dz,dA){return u.bind(dz,u.rtnR(dA));};u.bind=function(dz,dA){return u.wrap(function(dB){return cG.Bind(function(dC){return(u.getFun(dz(dC)))(dB);},(u.getFun(dA))(dB));});};u.rtnR=function(dz){return u.wrap(function(){return dz;});};u.rtn=function(dz){return u.wrap(function(){return j.rtn(dz);});};u.ofFun=function(dz){return u.wrap(function(dA){return j.rtn(dz(dA));});};u.getFun=function(dz){return dz.$0;};u.wrap=function(dz){return{$:0,$0:dz};};y=x.Builder=cz.Class({For:function(dz,dA){var dB;dB=this;return this.Using(cF.Get(dz),function(dC){return dB.While(function(){return dC.MoveNext();},dB.Delay(function(){return dA(dC.Current());}));});},Using:function(dz,dA){return x.wrap(function(dB){function dC(dD){return x.run(dB,dD);}return cC.Using(dz,function(dD){return dC(dA(dD));});});},TryFinally:function(dz,dA){return x.wrap(function(dB){return cC.TryFinally(x.run(dB,dz()),dA);});},TryWith:function(dz,dA){return x.wrap(function(dB){return cC.TryWith(x.run(dB,dz()),dA);});},While:function(dz,dA){function dB(dC,dD){return dC()?x.bind(function(){return dB(dC,dD);},dD()):x.rtn();}return dB(dz,dA);},Run:function(dz){return x.delayRun(dz);},Combine:function(dz,dA){return x.bind(dA,dz);},Delay:a.id,Zero:function(){return x.rtn();},Bind:function(dz,dA){return x.bindRmr(dA,dz);},Bind$1:function(dz,dA){return x.bindRA(dA,dz);},Bind$2:function(dz,dA){return x.bindA(dA,dz);},Bind$3:function(dz,dA){return x.bindR(dA,dz);},Bind$4:function(dz,dA){return x.bind(dA,dz);},ReturnFrom:function(dz){return x.rtnRmr(dz);},ReturnFrom$1:function(dz){return x.rtnRA(dz);},ReturnFrom$2:function(dz){return x.rtnA(dz);},ReturnFrom$3:function(dz){return x.rtnR(dz);},ReturnFrom$4:a.id,Return:function(dz){return x.rtn(dz);}},i,y);y.New=cz.Ctor(function(){i.New.call(this);},y);z.reader=function(){cs.$cctor();return cs.reader$5;};z.rtn=function(dz){return x.rtn(dz);};z.op_GreaterEqualsGreater=function(dz,dA,dB){return z.op_GreaterGreaterEquals(dz(dB),dA);};z.op_RightShift=function(dz,dA,dB){return z.op_BarGreaterGreater(dz(dB),dA);};z.op_GreaterGreaterEquals=function(dz,dA){return x.bind(dA,dz);};z.op_BarGreaterGreater=function(dz,dA){return x.map(dA,dz);};z.op_LessMultiplyGreater=function(dz,dA){return x.apply(dz,dA);};x.reader=function(){cs.$cctor();return cs.reader$4;};x.memoizeRm=function(dz,dA,dB){return x.wrap(function(dC){var dD,dE,dF;dD=dz(dC);dE=dD[0](dB);return dE==null?(dF=(x.getFun(dA(dB)))(dC),(dD[1](dB))(dF)):dE.$0;});};x.iterS=function(dz,dA,dB){function dC(dE){return x.run(dB,dE);}function dD(dE){m.iterS(dz,dA,dE);}return function(dE){return dD(dC(dE));};};x.iterA=function(dz,dA,dB){function dC(dE){return x.run(dB,dE);}function dD(dE){m.iterA(dz,dA,dE);}return function(dE){return dD(dC(dE));};};x.absorbO=function(dz,dA){return x.absorbR(x.map(function(dB){return j.ofOption(dz,dB);},dA));};x.absorbR=function(dz){return x.bind(x.rtnR,dz);};x.insertSnd=function(dz,dA){return x.map(function(dB){return[dB,dA];},dz);};x.insertFst=function(dz,dA){return x.map(function(dB){return[dz,dB];},dA);};x.insertR=function(dz){return dz.$==0?x.map(function(dA){return{$:0,$0:dA};},dz.$0):x.rtn(c.Error(dz.$0));};x.insertO=function(dz){var dA;dA=dz==null?null:{$:1,$0:x.map(function(dB){return{$:1,$0:dB};},dz.$0)};return dA==null?x.rtn(null):dA.$0;};x.sequenceSeq=function(dz){return x.traverseSeq(a.id,dz);};x.traverseSeq=function(dz,dA){return x.map(a.id,cD.foldBack(function(dB,dC){return x.op_GreaterGreaterEquals(dz(dB),function(dD){return x.op_GreaterGreaterEquals(dC,function(dE){return x.rtn(new cE.T({$:1,$0:dD,$1:dE}));});});},cD.ofSeq(dA),x.rtn(cE.T.Empty)));};x.op_GreaterGreaterEquals=function(dz,dA){return x.bind(dA,dz);};x.run=function(dz,dA){return(x.getFun(dA))(dz);};x.getAsyncResult=function(dz){return{$:0,$0:function(dA){return m.mapP(m.rtn,(x.getFun(dz))(dA));}};};x.getAsync=function(dz){return{$:0,$0:function(dA){return m.mapP(function(dB){return cC.Return(dB);},(x.getFun(dz))(dA));}};};x.getResult=function(dz){return{$:0,$0:function(dA){function dB(dD){return{$:0,$0:dD};}function dC(dD){return cC.Return(dD);}return cC.Bind((x.getFun(dz))(dA),function(dD){return dC(dB(dD));});}};};x.apply=function(dz,dA){return x.bind(function(dB){return x.map(dB,dA);},dz);};x.map=function(dz,dA){return x.bind(function(dB){return x.rtn(dz(dB));},dA);};x.delayRun=function(dz){return x.wrap(function(dA){return(x.getFun(dz()))(dA);});};x.bindRmr=function(dz,dA){return x.bind(dz,x.rtnRmr(dA));};x.bindRA=function(dz,dA){return x.bind(dz,x.rtnRA(dA));};x.bindA=function(dz,dA){return x.bind(dz,x.rtnA(dA));};x.bindR=function(dz,dA){return x.bind(dz,x.rtnR(dA));};x.bind=function(dz,dA){return x.wrap(function(dB){return m.bindP(function(dC){return(x.getFun(dz(dC)))(dB);},(x.getFun(dA))(dB));});};x.rtnRmr=function(dz){return x.wrap(function(dA){return cC.Return((u.getFun(dz))(dA));});};x.rtnRA=function(dz){return x.wrap(function(){return dz;});};x.rtnA=function(dz){return x.wrap(function(){function dA(dC){return{$:0,$0:dC};}function dB(dC){return cC.Return(dC);}return cC.Bind(dz,function(dC){return dB(dA(dC));});});};x.rtnR=function(dz){return x.wrap(function(){return cC.Return(dz);});};x.rtn=function(dz){return x.wrap(function(){return m.rtn(dz);});};x.ofFun=function(dz){return x.wrap(function(dA){return m.rtn(dz(dA));});};x.getFun=function(dz){return dz.$0;};x.wrap=function(dz){return{$:0,$0:dz};};e.asyncResultP=function(){cs.$cctor();return cs.asyncResultP;};e.asyncResult=function(){cs.$cctor();return cs.asyncResult;};A.EndsWith=function(dz,dA){return cI.EndsWith(dA,dz)?{$:1,$0:cJ.string(dA,{$:1,$0:0},{$:1,$0:dA.length-dz.length-1})}:null;};A.StartsWith=function(dz,dA){return cI.StartsWith(dA,dz)?{$:1,$0:cJ.string(dA,{$:1,$0:dz.length},null)}:null;};A.skipLastLine=function(){cs.$cctor();return cs.skipLastLine;};A.indentStr=function(dz){function dA(dC){return A.indent(dz,dC);}function dB(dC){return cI.concat("\n",dC);}return function(dC){return dB(dA(dC));};};A.unindentStr=function(){cs.$cctor();return cs.unindentStr;};A.indent=function(dz,dA){var dB,dC;dB=cI.SplitChars(dA,["\n"],0);return cB.map((dC=cI.replicate(dz," "),function(dD){return dC+dD;}),dB);};A.unindent=function(dz){var dA,dB,dC,dD;dA=cI.SplitChars(dz,["\n"],0);dB=(dC=cB.tryFindIndex(function(dE){return" "!==dE;},(dD=cB.tryFind(function(dE){return cI.Trim(dE)!=="";},dA),dD==null?"":dD.$0)),dC==null?0:dC.$0);return cB.filter(function(dE){return!cI.StartsWith(dE,"# 1 ");},cB.map(function(dE){return dE.length<=dB?"":dE.substring(dB);},dA));};A.skipFirstLine=function(dz){var dA;dA=dz.indexOf("\n");return dA<0?"":cJ.string(dz,{$:1,$0:dA+1},null);};A.append=function(dz,dA){return dz+dA;};A.trim=function(dz){return cI.Trim(dz);};A.contains=function(dz,dA){return dA.indexOf(dz)!=-1;};A.delimitedO=function(dz,dA,dB){var dC,dD,dE,dF,dG;dC=A.splitInTwoO(dz,dB);return dC==null?null:(dD=dC.$0,(dE=dD[0],(dF=A.splitInTwoO(dA,dD[1]),dF==null?null:{$:1,$0:(dG=dF.$0,[dE,dG[0],dG[1]])})));};A.splitInTwoO=function(dz,dA){var dB;dB=dA.indexOf(dz);return dB===-1?null:{$:1,$0:[c["String.Left"](dA,dB),dA.substring(dB+dz.length)]};};A.splitByChar=function(dz,dA){return cI.SplitChars(dA,[dz],0);};B.Guid=function(){cs.$cctor();return cs["|Guid|_|"];};B.Double=function(){cs.$cctor();return cs["|Double|_|"];};B.Single=function(){cs.$cctor();return cs["|Single|_|"];};B.Int=function(){cs.$cctor();return cs["|Int|_|"];};B.Date=function(){cs.$cctor();return cs["|Date|_|"];};B.parseGuidO=function(){cs.$cctor();return cs.parseGuidO;};B.parseDoubleO=function(){cs.$cctor();return cs.parseDoubleO;};B.parseSingleO=function(){cs.$cctor();return cs.parseSingleO;};B.parseIntO=function(){cs.$cctor();return cs.parseIntO;};B.parseDateO=function(){cs.$cctor();return cs.parseDateO;};B.tryParseWith=function(dz){function dA(dB,dC){return dB?{$:1,$0:dC}:null;}return function(dB){return dA.apply(null,dz(dB));};};C.PostAndAsyncReply=function(dz,dA,dB){return dz.PostAndAsyncReply(function(dC){return[dC,dA];},dB);};E.applyReply=function(dz,dA){return E.applyReplyA(function(dB){var dC;dC=null;return cC.Delay(function(){return cC.Return(dz(dB));});},dA);};E.applyReplyA=function(dz,dA){return dA.PostAndAsyncReply(function(dB){return function(dC){var dD;dD=null;return cC.Delay(function(){return cC.Bind(dz(dC),function(dE){dB(dE[1]);return cC.Return(dE[0]);});});};},null);};E.apply=function(dz,dA){E.applyA(function(dB){var dC;dC=null;return cC.Delay(function(){return cC.Return(dz(dB));});},dA);};E.applyA=function(dz,dA){dA.mailbox.AddLast(function(dB){var dC;dC=null;return cC.Delay(function(){return dz(dB);});});dA.resume();};E.setState=function(dz,dA){dA.mailbox.AddLast(function(){var dB;dB=null;return cC.Delay(function(){return cC.Return(dz);});});dA.resume();};E.getStateA=function(dz){return dz.PostAndAsyncReply(function(dA){return function(dB){var dC;dC=null;return cC.Delay(function(){dA(dB);return cC.Return(dB);});};},null);};D.defHandler=function(dz,dA){c.print(dz);return dA;};D.stateFull=function(dz,dA){return cL.Start(function(dB){function dC(dD){var dE;dE=null;return cC.Delay(function(){return cC.TryWith(cC.Delay(function(){return cC.Bind(dB.Receive(null),function(dF){return cC.Bind(dF(dD),function(dG){return dC(dG);});});}),function(dF){return dC(dz(dF,dD));});});}return dC(dA);},null);};D.fold=function(dz,dA,dB){return D.foldA(dz,function(dC,dD){var dE;dE=null;return cC.Delay(function(){return cC.Return(dA(dC,dD));});},dB);};D.foldA=function(dz,dA,dB){return cL.Start(function(dC){function dD(dE){var dF;dF=null;return cC.Delay(function(){return cC.TryWith(cC.Delay(function(){return cC.Bind(dC.Receive(null),function(dG){return cC.Bind(dA(dE,dG),function(dH){return dD(dH);});});}),function(dG){return dD(dz(dG,dE));});});}return dD(dB);},null);};D.call=function(dz,dA){return D.callA(dz,function(dB){var dC;dC=null;return cC.Delay(function(){return cC.Return(dA(dB));});});};D.callA=function(dz,dA){return D.iterA(dz,function(dB){var dC,dD,dE;dC=dB[0];dD=dB[1];dE=null;return cC.Delay(function(){return cC.Bind(dA(dD),function(dF){dC(dF);return cC.Zero();});});});};D.iter=function(dz,dA){return D.iterA(dz,function(dB){var dC;dC=null;return cC.Delay(function(){dA(dB);return cC.Zero();});});};D.iterA=function(dz,dA){return cL.Start(function(dB){var dC;dC=null;return cC.Delay(function(){return cC.While(function(){return true;},cC.Delay(function(){return cC.TryWith(cC.Delay(function(){return cC.Bind(dB.Receive(null),function(dD){return cC.Bind(dA(dD),function(){return cC.Return(null);});});}),function(dD){dz(dD);return cC.Zero();});}));});},null);};F.New=function(dz,dA,dB,dC){return{useCount:dz,limitCount:dA,resource:dB,configuration:dC};};G=c.ResourceAgent=cz.Class({increment:function(dz){var dA,dB;dA=this;return(this.respawnRightAfter?(dB=dz.configuration,function(dC){return dA.check(dB,dC);}):a.id)(F.New(dz.useCount+1,dz.limitCount,dz.resource,dz.configuration));},check:function(dz,dA){return dA.useCount<dA.limitCount&&this.alive(dA.resource)&&cM.Equals(dz,dA.configuration)?dA:this.respawn(F.New(dA.useCount,dA.limitCount,dA.resource,dz));},respawn:function(dz){this.clean(dz.resource);return F.New(0,dz.limitCount,this.ctor(dz.configuration),dz.configuration);},Respawn:function(){var dz;dz=this;E.apply(function(dA){return dz.respawn(dA);},this.agent);},set_Configuration:function(dz){var dA;dA=this;!cM.Equals(dz,this.get_Configuration())?E.apply(function(dB){return dA.respawn(F.New(dB.useCount,dB.limitCount,dB.resource,dz));},this.agent):void 0;},set_LimitCount:function(dz){E.apply(function(dA){return F.New(dA.useCount,dz,dA.resource,dA.configuration);},this.agent);},get_Configuration:function(){return this.get_State().configuration;},get_LimitCount:function(){return this.get_State().limitCount;},get_State:function(){throw"getState not available in JavaScript";},AsyncProcessA:function(dz,dA){var dB;dB=this;return E.applyReplyA(function(dC){var dD;dD=null;return cC.Delay(function(){var dE;dE=dB.check(dA==null?dC.configuration:dA.$0,dC);return cC.Bind(dz(dE.resource),function(dF){return cC.Return([dB.increment(dE),dF]);});});},this.agent);},ProcessA:function(dz,dA){return this.AsyncProcessA(function(dB){var dC;dC=null;return cC.Delay(function(){return cC.Return(dz(dB));});},dA);},Dispose:function(){try{this.clean(this.get_State().resource);}catch(dz){null;}}},i,G);G.New=cz.Ctor(function(dz,dA,dB,dC,dD,dE){var dF;dF=this;i.New.call(this);this.ctor=dA;this.clean=dC==null?a.ignore:dC.$0;this.alive=dD==null?function(){return true;}:dD.$0;this.respawnRightAfter=dE==null||dE.$0;this.agent=D.stateFull(function(dG,dH){c.print(dG);return dF.respawn(dH);},F.New(0,dz,this.ctor(dB),dB));},G);H.runSameConfig=function(dz,dA){return x.run([dz,dz.get_Configuration()],dA);};H.run=function(dz,dA,dB){return x.run([dz,dA],dB);};H.fromResourceRm=function(dz){return x.wrap(function(dA){return dA[0].AsyncProcessA(x.getFun(dz),{$:1,$0:dA[1]});});};H.createAgentRm=function(dz,dA){return x.ofFun(function(dB){return dB[0].AsyncProcessA(function(dC){return dz(dC,dA);},{$:1,$0:dB[1]});});};J.New=function(dz,dA,dB,dC){return{cargId:dz,name:dA,unique:dB,build:dC};};K=I.CommArgCollection=cz.Class({get_CommArgs:function(){return this.$0;}},null,K);K.op_Addition=function(dz,dA){return K.addPairs(dA.$0,dz);};K.op_Addition$1=function(dz,dA){return K.addPair(dA[0],dA[1],dz);};K.op_Addition$2=function(dz,dA){return K.addPairs(dA,dz);};L=I.TypedCommArg=cz.Class({get_CommArg:function(){return this.$0;}},null,L);L.op_DivisionAssignment=function(dz,dA){return[dz.$0,u.map(a.id,u.ofFun(dA))];};L.op_DivisionAssignment$1=function(dz,dA){return[dz.$0,u.map(a.id,dA)];};L.op_DivisionAssignment$2=function(dz,dA){return[dz.$0,u.map(a.id,u.rtn(dA))];};M.getFloatR=function(dz,dA){return dz.$0.build.$==3?{$:0,$0:dA}:c.Error(new d({$:0,$0:"expecting TFloat"}));};M.getBoolR=function(dz,dA){return dz.$0.build.$==2?{$:0,$0:dA}:c.Error(new d({$:0,$0:"expecting TBool"}));};M.getStringR=function(dz,dA){return dz.$0.build.$==1?{$:0,$0:dA}:c.Error(new d({$:0,$0:"expecting TString"}));};M.getIntR=function(dz,dA){return dz.$0.build.$==0?{$:0,$0:dA}:c.Error(new d({$:0,$0:"expecting TInt"}));};M.argumentTRm=function(dz,dA){return M.argumentRm(dz,dA);};M.argumentRm=function(dz,dA){var dB;dB=w.reader();return dB.Run(dB.Delay(function(){return dB.Bind(dA,function(dC){var dD;return dB.Return((dD=dz.build,dD.$==1?dD.$0(dC):dD.$==2?dD.$0(dC):dD.$==3?dD.$0(dC):dD.$0(dC)));});}));};M.NewFloat=function(dz,dA,dB){return new L({$:0,$0:M.New0(dz,dA,{$:3,$0:dB})});};M.NewBool=function(dz,dA,dB){return new L({$:0,$0:M.New0(dz,dA,{$:2,$0:dB})});};M.NewString=function(dz,dA,dB){return new L({$:0,$0:M.New0(dz,dA,{$:1,$0:dB})});};M.NewInt=function(dz,dA,dB){return new L({$:0,$0:M.New0(dz,dA,{$:0,$0:dB})});};M.New0=function(dz,dA,dB){return J.New({$:0,$0:cO.NewGuid()},dz,dA,dB);};K.addPairs=function(dz,dA){return K.append(dA,new K({$:0,$0:dz}));};K.append=function(dz,dA){var dB,dC;function dD(dE,dF){return function(dG){return K.addPair(dE,dF,dG);};}dB=(dC=function(dE){return dD.apply(null,a.id(dE));},function(dE){return function(dF){return(dC(dF))(dE);};});return cB.fold(function(dE,dF){return(dB(dE))(dF);},dz,dA.get_CommArgs());};K.addPair=function(dz,dA,dB){function dC(dD,dE){return!cM.Equals(dD.cargId,dz.cargId);}return new K({$:0,$0:cD.ofSeq(cB.append((dz.unique?function(dD){return cB.filter(function(dE){return dC(dE[0],dE[1]);},dD);}:a.id)(dB.$0),cE.ofArray([[dz,dA]])))});};K.getBoolRm=function(dz,dA){return w.op_BarGreaterGreater(K.tryGetBoolORm(dA),function(dB){return dB==null?dz:dB.$0;});};K.getFloatRm=function(dz){return u.absorbO(function(){return K.argumentNotFound(dz,void 0);},K.tryGetFloatORm(dz));};K.getStringRm=function(dz){return u.absorbO(function(){return K.argumentNotFound(dz,void 0);},K.tryGetStringORm(dz));};K.getIntRm=function(dz){return u.absorbO(function(){return K.argumentNotFound(dz,void 0);},K.tryGetIntORm(dz));};K.findArgRm=function(dz){return u.absorbO(function(){return K.argumentNotFound(dz,void 0);},K.tryFindArgORm(dz));};K.tryGetFloatORm=function(dz){function dA(dB,dC){return M.getFloatR(dz,dC);}return u.absorbR(w.op_BarGreaterGreater(w.op_BarGreaterGreater(K.tryFindArgORm(dz),function(dB){var dC;return dB==null?null:{$:1,$0:(dC=dB.$0,dA(dC[0],dC[1]))};}),j.insertO));};K.tryGetBoolORm=function(dz){function dA(dB,dC){return M.getBoolR(dz,dC);}return u.absorbR(w.op_BarGreaterGreater(w.op_BarGreaterGreater(K.tryFindArgORm(dz),function(dB){var dC;return dB==null?null:{$:1,$0:(dC=dB.$0,dA(dC[0],dC[1]))};}),j.insertO));};K.tryGetStringORm=function(dz){function dA(dB,dC){return M.getStringR(dz,dC);}return u.absorbR(w.op_BarGreaterGreater(w.op_BarGreaterGreater(K.tryFindArgORm(dz),function(dB){var dC;return dB==null?null:{$:1,$0:(dC=dB.$0,dA(dC[0],dC[1]))};}),j.insertO));};K.tryGetIntORm=function(dz){function dA(dB,dC){return M.getIntR(dz,dC);}return u.absorbR(w.op_BarGreaterGreater(w.op_BarGreaterGreater(K.tryFindArgORm(dz),function(dB){var dC;return dB==null?null:{$:1,$0:(dC=dB.$0,dA(dC[0],dC[1]))};}),j.insertO));};K.tryFindArgORm=function(dz){return u.bind(a.id,u.ofFun(function(dA){var dB,dC;return u.insertO((dB=K.tryFindArgO(dz,dA),dB==null?null:{$:1,$0:(dC=dB.$0,u.insertFst(dC[0],dC[1]))}));}));};K.tryFindArgO=function(dz,dA){var dB;dB=dz.$0;return cB.tryFind(function(dC){return cM.Equals(dC[0].cargId,dB.cargId);},dA.$0);};K.argumentNotFound=function(dz,dA){return new d({$:0,$0:(function(dB){return function(dC){return dB("argument not found: "+cA.toSafe(dC));};}(a.id))(dz.$0.name)});};K.containsAnyOfRm=function(dz){return u.ofFun(function(dA){function dB(dC,dD){return dz.Contains(dC.cargId);}return cB.exists(function(dC){return dB(dC[0],dC[1]);},dA.$0);});};K.argumentsRm=function(dz){return w.op_GreaterGreaterEquals(K.filterRm(dz),function(dA){return u.traverseSeq(function(dB){return M.argumentTRm(dB[0],dB[1]);},dA);});};K.filterRm=function(dz){return u.ofFun(function(dA){return cB.filter(dz,dA.$0);});};K.existsRm=function(dz){return u.ofFun(function(dA){return cB.exists(dz,dA.$0);});};K.argsRm=function(){return u.ofFun(function(dz){return dz.$0;});};K.contains=function(dz,dA){function dB(dC,dD){return dC.cargId;}return cB.contains(dz.$0.cargId,cB.map(function(dC){return dB(dC[0],dC[1]);},dA.$0));};K.trueForAll=function(dz){return true;};O.NoPrepo={$:12};O.PrepoEndIf={$:9};O.PrepoElse={$:8};N.getSourceDir=function(dz,dA){var dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK;dB=cD.get(dA,0);dC=cD.tryItem(1,dA);return(dE=A.StartsWith("////#cd @\"",dB),dE!=null&&dE.$==1?(dD=dE.$0,true):dC!=null&&dC.$==1&&(dF=A.StartsWith("////#cd @\"",dC.$0),dF!=null&&dF.$==1&&(dD=dF.$0,true)))?(dG=cI.Trim(dD),(dI=A.EndsWith("\"",dG),dI!=null&&dI.$==1?dH=dI.$0:dH=dG,(dJ=A.StartsWith("\\",dH),dJ!=null&&dJ.$==1)?dH:(dK=A.StartsWith("/",dH),dK!=null&&dK.$==1)?dH:cM.Equals(cB.tryItem(1,dH),{$:1,$0:":"})?dH:dz+"/"+dH)):dz;};N.separateDirectives=function(dz){var dA,dB,dC,dD,dE;function dF(dP){return dP[1];}function dG(dP){return dP.$==1?{$:1,$0:dP.$0}:null;}function dH(dP){return dP[1];}function dI(dP){return dP.$==2?{$:1,$0:dP.$0}:null;}function dJ(dP){return dP[1];}function dK(dP){return dP.$==6?{$:1,$0:dP.$0}:null;}function dL(dP){return dP[1];}function dM(dP){return dP.$==5?{$:1,$0:dP.$0}:null;}function dN(dP){return dP[1];}function dO(dP){return dP.$==0?{$:1,$0:dP.$0}:null;}dA=cD.ofSeq(cB.distinct(cB.choose(function(dP){return dG(dF(dP));},dz)));dB=cD.ofSeq(cB.distinct(cB.choose(function(dP){return dI(dH(dP));},dz)));dC=cD.ofSeq(cB.distinct(cB.choose(function(dP){return dK(dJ(dP));},dz)));dD=cD.ofSeq(cB.distinct(cB.choose(function(dP){return dM(dL(dP));},dz)));dE=cB.tryHead(cB.choose(function(dP){return dO(dN(dP));},dz));return[cD.ofSeq(cB.map(function(dP){return dP[0];},dz)),dA,dB,dC,dD,dE];};N.separatePrepros=function(dz){function dA(dD){var dE;dE=cB.tryLast(cI.SplitStrings(cI.Trim(dD),["\""],1));return dE==null?dD:dE.$0;}function dB(dD){var dE;dE=cB.tryHead(cI.SplitStrings(cI.Trim(dD),["#define "],1));return dE==null?"":dE.$0;}function dC(dD){return"//"+dD;}return cD.map(function(dD){var dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR;dE=true;return dE&&cI.StartsWith(dD,"#define")?[dC(dD),{$:2,$0:dB(dD)}]:dE&&cI.StartsWith(dD,"#cd")?[dC(dD),{$:0,$0:dA(dD)}]:dE&&cI.StartsWith(dD,"#r")?[dC(dD),{$:1,$0:dA(dD)}]:dE&&cI.StartsWith(dD,"#load")?[dC(dD),{$:3,$0:dA(dD)}]:dE&&cI.StartsWith(dD,"#nowarn")?[dC(dD),{$:5,$0:dA(dD)}]:dE&&cI.StartsWith(cI.Trim(dD),"# ")?[dC(dD),{$:4,$0:dA(dD)}]:dE&&cI.StartsWith(cI.Trim(dD),"#line")?[dC(dD),{$:4,$0:dA(dD)}]:dE&&cI.StartsWith(dD,"#I")?[dC(dD),{$:6,$0:dA(dD)}]:dE&&cI.StartsWith(dD,"#if")?[dD,{$:7,$0:dD}]:dE&&cI.StartsWith(dD,"#else")?[dD,O.PrepoElse]:dE&&cI.StartsWith(dD,"#endif")?[dD,O.PrepoEndIf]:dE&&cI.StartsWith(dD,"#light")?[dD,{$:10,$0:false}]:dE&&cI.StartsWith(dD,"#")?[dC(dD),{$:11,$0:dD}]:[dD,O.NoPrepo];},dz);};N.extractDefines=function(dz){var dA;dA=dz.$0;return cI.StartsWith(dA,"////-d:")?cJ.string(dA,{$:1,$0:4},{$:1,$0:dA.indexOf("\n")-1}):"";};P=c.SnippetId=cz.Class({get_Id:function(){return this.$0;}},null,P);P.get_Empty=function(){return new P({$:0,$0:"00000000-0000-0000-0000-000000000000"});};Q.New=function(dz,dA,dB,dC,dD,dE,dF){return{snpId:dz,snpName:dA,snpContent:dB,snpParentIdO:dC,snpPredIds:dD,snpProperties:dE,snpGeneration:dF};};R.New=function(dz,dA,dB,dC,dD,dE){return{generation:dz,ordered:dA,fetcher:dB,predecesorsCache:dC,reducedCache:dD,prepCode:dE};};S.codeFsxRm=function(dz){return u.map(function(dA){return dA[0];},S.fastCodeRm({$:1,$0:dz},{$:1,$0:dz}));};S.fastCodeRm=function(dz,dA){var dB;dB=w.reader();return dB.Run(dB.Delay(function(){return dB.Bind(S.fastReducedRm(dz,dA),function(dC){return dB.Return(S.finishCode(dC[0],dC[1],dC[2],dC[3],dC[4],dC[5],dC[6]));});}));};S.fastReducedRm=function(dz,dA){var dB;dB=w.reader();return dB.Run(dB.Delay(function(){return dB.Bind(u.insertO(dz==null?null:{$:1,$0:S.snippetORm(dz.$0)}),function(dC){return dB.Bind(u.insertO(dA==null?null:{$:1,$0:S.snippetORm(dA.$0)}),function(dD){var dE,dF,dG,dH;dE=dC==null?null:dC.$0;dF=dD==null?null:dD.$0;return(dF!=null&&dF.$==1?dE!=null&&dE.$==1?(dG=[dE.$0,dF.$0],false):true:true)?dB.ReturnFrom$1(S.reducedCodeRm([])):(dH=dG[0],dB.Bind(S.uniquePredsRm(dG[1]),function(dI){var dJ;dJ=new cQ.New(dI);return dB.Bind((S.reducedOthersORmMemo())([true,dH.snpId,dJ]),function(dK){return dB.Bind((S.reducedOthersORmMemo())([false,dH.snpId,dJ]),function(dL){return dB.Bind(S.separateCodeRm(dH),function(dM){var dN,dO,dP,dQ;dN=(dO=dK==null?null:{$:1,$0:(function(dR){var dS,dT,dU,dV,dW,dX,dY;dS=dR[0];dT=dR[1];dU=dR[2];dV=dR[3];dW=dR[4];dX=dR[5];dY=dR[6];return function(dZ){return S.addSeps(dS,dT,dU,dV,dW,dX,dY,dZ[0],dZ[1],dZ[2],dZ[3],dZ[4],dZ[5],dZ[6]);};}(dK.$0))(dM)},dO==null?dM:dO.$0);return dB.Return((dP=dL==null?null:{$:1,$0:(dQ=dL.$0,S.addSeps(dN[0],dN[1],dN[2],dN[3],dN[4],dN[5],dN[6],dQ[0],dQ[1],dQ[2],dQ[3],dQ[4],dQ[5],dQ[6]))},dP==null?dN:dP.$0));});});});}));});});}));};S.reducedOthersORmMemo=function(){cs.$cctor();return cs.reducedOthersORmMemo;};S.reducedOthersORm=function(dz,dA,dB){var dC;dC=w.reader();return dC.Run(dC.Delay(function(){function dD(dE){return!cM.Equals(dE.snpId,dA)&&dB.Contains(dE.snpId);}return dC.Bind(w.op_BarGreaterGreater(w.op_BarGreaterGreater(S.orderedRm(),(dz?function(dE){return function(dF){return cB.takeWhile(dE,dF);};}:function(dE){return function(dF){return cB.skipWhile(dE,dF);};})(function(dE){return!cM.Equals(dE.snpId,dA);})),function(dE){return cB.filter(dD,dE);}),function(dE){return cB.isEmpty(dE)?dC.Return(null):dC.Bind(S.reducedCodeRm(dE),function(dF){return dC.Return({$:1,$0:dF});});});}));};S.finishCode=function(dz,dA,dB,dC,dD,dE,dF){var dG,dH;dG=cI.concat(" ",cB.map(function(dI){return"-d:"+dI;},cB.sort(dC)));dH=cE.ofSeq(cB.delay(function(){return cB.append(dG!==""?["////"+dG]:[],cB.delay(function(){return cB.append(dF!=null?[(function(dI){return function(dJ){return dI("////#cd @\""+cA.toSafe(dJ)+"\"");};}(a.id))(dF.$0)]:[],cB.delay(function(){return cB.append(cB.map(function(dI){return function(dJ){return dI("#I @\""+cA.toSafe(dJ)+"\"");};}(a.id),dD),cB.delay(function(){return cB.append(cB.map(function(dI){return function(dJ){return dI("#r @\""+cA.toSafe(dJ)+"\"");};}(a.id),dB),cB.delay(function(){return cB.map(function(dI){return function(dJ){return dI("#nowarn \""+cA.toSafe(dJ)+"\"");};}(a.id),dE);}));}));}));}));}));return[cI.concat("\n",cB.append(dH,dA)),cD.ofSeq((cB.mapFold(function(dI,dJ){var dK;dK=dJ[2];return[[[dJ[0],dJ[1]],[dJ[3],dI,dI+dK]],dI+dK];},dH.get_Length(),dz))[0])];};S.reducedCodeRm=function(dz){var dA;dA=w.reader();return dA.Run(dA.Delay(function(){return dA.Bind(u.traverseSeq(S.separateCodeRm,dz),function(dB){var dC;return dA.Return((dC=cB.reduce(function(dD,dE){return(function(dF){var dG,dH,dI,dJ,dK,dL,dM;dG=dF[0];dH=dF[1];dI=dF[2];dJ=dF[3];dK=dF[4];dL=dF[5];dM=dF[6];return function(dN){return S.addSeps(dG,dH,dI,dJ,dK,dL,dM,dN[0],dN[1],dN[2],dN[3],dN[4],dN[5],dN[6]);};}(dD))(dE);},cB.isEmpty(dB)?[[[],[],[],[],[],[],null]]:dB),[dC[0],[cI.concat("\n",dC[1])],dC[2],dC[3],dC[4],dC[5],dC[6]]));});}));};S.addSeps=function(dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM){return[dz.concat(dG),dA.concat(dH),cD.ofSeq(cB.distinct(cB.append(dB,dI))),cD.ofSeq(cB.distinct(cB.append(dC,dJ))),cD.ofSeq(cB.distinct(cB.append(dD,dK))),cD.ofSeq(cB.distinct(cB.append(dE,dL))),dF==null?dM:dF];};S.separateCodeRm=function(dz){var dA;dA=w.reader();return dA.Run(dA.Delay(function(){return dA.Bind(S.indentRm(dz),function(dB){var dC;function dD(dE,dF){return[cI.replicate(dB," ")+dE,dF];}dC=(dB===0?[a.id,""]:[function(dE){return cD.map(function(dF){return dD(dF[0],dF[1]);},dE);},(function(dE){return function(dF){return dE("("+a.String(dF)+")");};}(a.id))(dB)])[0];return dA.Bind(S.prepareCodeRm(dz),function(dE){var dF,dG;dF=N.separateDirectives(dC(N.separatePrepros(cI.SplitChars(dE,["\n"],0))));dG=dF[0];return dA.Return([[[dz.snpId,S.snippetName(dz.snpName,dz.snpContent),cD.length(dG),dB]],dG,dF[1],dF[2],dF[3],dF[4],dF[5]]);});});}));};S.ancestorsRm=function(dz){function dA(dB,dC){var dD;dD=w.reader();return dD.Run(dD.Delay(function(){return dD.Bind(S.parentORm(dB),function(dE){var dF;return dE==null?dD.Return(dC):(dF=dE.$0,dD.ReturnFrom$1(dA(dF,new cE.T({$:1,$0:dF,$1:dC}))));});}));}return dA(dz,cE.T.Empty);};S.levelRm=function(dz){function dA(dB,dC){var dD;dD=w.reader();return dD.Run(dD.Delay(function(){return dD.Bind(S.parentORm(dB),function(dE){return dE!=null&&dE.$==1?dD.ReturnFrom$1(dA(dE.$0,dC+1)):dD.Return(dC);});}));}return dA(dz,0);};S.indentRm=function(dz){function dA(dB){var dC;dC=w.reader();return dC.Run(dC.Delay(function(){var dD,dE,dF,dG;dD=(dE=S.propertyPairO("IndentChildren",dB),dE!=null&&dE.$==1?[(B.parseIntO())(dE.$0[0]),(B.parseIntO())(dE.$0[1])]:[null,null]);dF=dD[1];dG=dD[0];return dC.Bind(S.parentORm(dB),function(dH){return dH==null?dC.Return([0,[dG==null?4:dG.$0,dF==null?4:dF.$0]]):dC.Bind(dA(dH.$0),function(dI){var dJ,dK;dJ=dI[1][1];dK=dI[1][0];return dC.Return([dK,[dK+(dG==null?dJ:dG.$0),dF==null?dJ:dF.$0]]);});});}));}return u.map(function(dB){return dB[0];},dA(dz));};S.propertyHierORm=function(dz,dA){var dB;dB=w.reader();return dB.Run(dB.Delay(function(){var dC,dD;dC=S.propertyO(dz,dA);return dC==null?dB.Bind(S.parentORm(dA),function(dE){return dE==null?dB.Return(null):dB.Bind(S.propertyHierORm(dz,dE.$0),function(dF){var dG,dH;return dB.Return(dF==null?null:{$:1,$0:(dG=dF.$0,(dG[0],dH=dG[1],[dH,dH]))});});}):dB.Return({$:1,$0:(dD=cI.SplitStrings(dC.$0,["|-|"],1),[cD.get(dD,0),cD.length(dD)>0?cD.get(dD,1):cD.get(dD,0)])});}));};S.modifiedRecRm=function(dz){var dA;dA=w.reader();return dA.Run(dA.Delay(function(){return dA.Bind(S.modifiedRm(dz),function(dB){return dB?dA.Return(true):dA.Bind(S.uniquePredsRm(dz),function(dC){return dA.Bind(u.sequenceSeq(cB.map(S.snippetORm,dC)),function(dD){return dA.Bind(u.sequenceSeq(cB.map(S.modifiedRm,cB.choose(a.id,dD))),function(dE){return dA.Return(cB.contains(true,dE));});});});});}));};S.uniquePredsRm=function(dz){return(S.predsLRmMemo())(dz.snpId);};S.predsLRmMemo=function(){cs.$cctor();return cs.predsLRmMemo;};S.predsLRm=function(dz){var dA;dA=w.reader();return dA.Run(dA.Delay(function(){var dB,dC;dB=cE.ofArray([dz]);dC=cE.T.Empty;return dA.Combine(dA.While(function(){return!(dB.$==0);},dA.Delay(function(){var dD,dE;return dB.$==1?(dD=dB.$1,(dE=dB.$0,cE.contains(dE,dC)?(dB=dD,dA.Zero()):dA.Bind(S.snippetORm(dE),function(dF){var dG,dH;dB=cE.append(dD,(dG=dF==null?null:{$:1,$0:(dH=dF.$0,cE.append(cE.ofSeq(dH.snpPredIds),cR.toList(dH.snpParentIdO)))},dG==null?cE.T.Empty:dG.$0));dC=new cE.T({$:1,$0:dE,$1:dC});return dA.Zero();}))):dA.Zero();})),dA.Delay(function(){return dA.Return(dC);}));}));};S.snippetFromRefORm=function(dz){return dz.$==1?S.snippetFromPathORm(dz.$0):S.snippetORm(dz.$0);};S.snippetFromPathORm=function(dz){var dA;dA=w.reader();return dA.Run(dA.Delay(function(){return dA.Bind(S.orderedRm(),function(dB){function dC(dD,dE){return function(dF){return dD.length===0?[null,[[],dE]]:S.snippetName(dF.snpName,dF.snpContent)!==cD.get(dD,0)||!cM.Equals(dF.snpParentIdO,dE)?[null,[dD,dE]]:dD.length>1?[null,[cJ.array(dD,{$:1,$0:1},null),{$:1,$0:dF.snpId}]]:[{$:1,$0:dF},[[],dE]];};}return dA.Return(cB.tryHead(cB.choose(a.id,(cB.mapFold(function(dD,dE){return(function(dF){return dC(dF[0],dF[1]);}(dD))(dE);},[dz,null],dB))[0])));});}));};S.pathRm=function(dz){var dA;function dB(dC){return w.op_BarGreaterGreater(S.pathRm(dC.snpId),function(dD){return new cE.T({$:1,$0:dC.snpId,$1:dD});});}return w.op_BarGreaterGreater(w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(w.op_BarGreaterGreater(w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(S.snippetORm(dz),function(dC){return dC==null?null:{$:1,$0:S.parentORm(dC.$0)};}),u.insertO),function(dC){return dC==null?null:a.id(dC.$0);}),function(dC){return dC==null?null:{$:1,$0:dB(dC.$0)};}),u.insertO),(dA=cE.T.Empty,function(dC){return dC==null?dA:dC.$0;}));};S.snippetRm=function(dz){return u.absorbO(function(){return new d({$:0,$0:(function(dA){return function(dB){return dA("Snippet not found "+cw.p(dB));};}(a.id))(dz)});},S.snippetORm(dz));};S.prepareCodeRm=function(dz){return u.ofFun(function(dA){return dA.prepCode(dz);});};S.orderedRm=function(){return u.ofFun(function(dz){return dz.ordered;});};S.childrenRm=function(dz){return u.ofFun(function(dA){return cB.filter(function(dB){return cM.Equals(dB.snpParentIdO,{$:1,$0:dz});},dA.ordered);});};S.modifiedRm=function(dz){return u.ofFun(function(dA){return dz.snpGeneration>dA.generation;});};S.maxGenerationRm=function(){return u.ofFun(function(dz){return cB.max(cB.map(function(dA){return dA.snpGeneration;},dz.ordered));});};S.predecessorsRm=function(dz){return u.ofFun(function(dA){return cB.choose(dA.fetcher,dz.snpPredIds);});};S.parentORm=function(dz){return u.ofFun(function(dA){var dB;dB=dz.snpParentIdO;return dB==null?null:dA.fetcher(dB.$0);});};S.snippetORm=function(dz){return u.ofFun(function(dA){return dA.fetcher(dz);});};S.propertyPairO=function(dz,dA){var dB,dC,dD,dE;dB=S.propertyO(dz,dA);return dB==null?null:{$:1,$0:(dC=cI.SplitStrings(dB.$0,["|-|"],1),[cD.get(dC,0),(dD=cD.tryItem(1,dC),(dE=cD.get(dC,0),dD==null?dE:dD.$0))])};};S.propertyO=function(dz,dA){function dB(dC,dD){return dC===dz?{$:1,$0:dD}:null;}return cD.tryPick(function(dC){return dB(dC[0],dC[1]);},dA.snpProperties);};S.nameSanitized=function(dz){var dA,dB;dA=["\"","<",">","|","\u0000","\u0001","\u0002","\u0003","\u0004","\u0005","\u0006","\u0007","\u0008","\u0009","\n","\u000b","\u000c","\r","\u000e","\u000f","\u0010","\u0011","\u0012","\u0013","\u0014","\u0015","\u0016","\u0017","\u0018","\u0019","\u001a","\u001b","\u001c","\u001d","\u001e","\u001f",":","*","?","\\","/"];return cI.Filter(function(dC){return!cD.contains(dC,dA);},dz.snpName)+" "+(dB=dz.snpId.get_Id(),a.String(dB));};S.snippetName=function(dz,dA){var dB;return dz!==""?dz:(dB=cB.tryHead(cB.filter(function(dC){return!(cI.StartsWith(dC,"#")||cI.StartsWith(dC,"[<")||cI.StartsWith(dC,"//"));},cB.map(cI.Trim,cI.SplitChars(dA,["\n"],1)))),dB==null?"<empty>":dB.$0);};S.defaultSnippet=function(){cs.$cctor();return cs.defaultSnippet;};S.New=function(dz,dA,dB){return Q.New(new P({$:0,$0:cO.NewGuid()}),dz,dA,dB,new cQ.New$1(null),[],(S.getNextGeneration())());};S.getNextGeneration=function(){cs.$cctor();return cs.getNextGeneration;};S.setGeneration=function(){cs.$cctor();return cs.setGeneration;};T.Hole={$:0};V.New=function(dz,dA,dB,dC,dD,dE,dF){return{id:dz,isExpandedRm:dA,canHaveChildrenRm:dB,childrenRm:dC,pathRm:dD,parentORm:dE,newChildrenRm:dF};};U.removeNodeOutdentChildren=function(dz,dA){var dB;function dC(dD,dE){return w.op_GreaterGreaterEquals(dD,function(dF){return U.outdentNode(dE,dF);});}return w.op_GreaterGreaterEquals(w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(dz.childrenRm(),cD.ofSeq),(dB=w.rtn(dA),function(dD){return cB.fold(dC,dB,dD);})),function(dD){return U.removeNode(dz,dD);});};U.outdentNode=function(dz,dA){var dB;function dC(dD){return U.moveToSibling(true,dz,dD,dA);}return w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(dz.parentORm(dA),function(dD){return dD==null?null:{$:1,$0:dC(dD.$0)};}),(dB=w.rtn(dA),function(dD){return dD==null?dB:dD.$0;}));};U.indentNode=function(dz,dA){var dB;function dC(dE){return!cM.Equals(dz.id(),dE.id());}function dD(dE,dF){return w.op_GreaterGreaterEquals(dF.canHaveChildrenRm(),function(dG){return dG?w.rtn({$:1,$0:dF}):dE;});}return w.op_GreaterGreaterEquals(w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(w.op_GreaterGreaterEquals(dz.parentORm(dA),function(dE){return dE!=null&&dE.$==1?w.op_BarGreaterGreater(dE.$0.childrenRm(),function(dF){var dG;dG=cD.ofSeq(dF);return dG;}):w.rtn(dA);}),function(dE){return cB.takeWhile(dC,dE);}),(dB=w.rtn(null),function(dE){return cB.fold(dD,dB,dE);})),function(dE){var dF;return dE!=null&&dE.$==1?(dF=dE.$0,w.op_GreaterGreaterEquals(U.removeNode(dz,dA),function(dG){return U.addChild(true,dz,dF,dG);})):w.rtn(dA);});};U.addChild=function(dz,dA,dB,dC){var dD;dD=w.reader();return dD.Run(dD.Delay(function(){return dD.Bind(dB.pathRm(),function(dE){function dF(dG){var dH,dI;return cM.Equals(dG.id(),dB.id())?dz?w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(w.op_BarGreaterGreater(w.op_BarGreaterGreater(dG.childrenRm(),cD.ofSeq),(dH=cE.ofArray([dA]),function(dJ){return cB.append(dJ,dH);})),cD.ofSeq),dG.newChildrenRm):w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(w.op_BarGreaterGreater(w.op_BarGreaterGreater(dG.childrenRm(),cD.ofSeq),(dI=cE.ofArray([dA]),function(dJ){return cB.append(dI,dJ);})),cD.ofSeq),dG.newChildrenRm):cE.contains(dG.id(),dE)?w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(w.op_BarGreaterGreater(dG.childrenRm(),cD.ofSeq),function(dJ){return cB.map(dF,dJ);}),u.sequenceSeq),cD.ofSeq),dG.newChildrenRm):w.rtn(dG);}return dD.ReturnFrom$1(u.sequenceSeq(cB.map(dF,dC)));});}));};U.moveToSibling2=function(dz,dA,dB,dC){var dD;dD=w.reader();return dD.Run(dD.Delay(function(){return dD.Bind(U.tryFindId(dA,dC),function(dE){var dF;return dE!=null&&dE.$==1?(dF=dE.$0,dD.Bind(U.tryFindId(dB,dC),function(dG){return dG!=null&&dG.$==1?dD.ReturnFrom$1(U.moveToSibling(dz,dF,dG.$0,dC)):dD.Return(dC);})):dD.Return(dC);});}));};U.moveToSibling=function(dz,dA,dB,dC){return w.op_GreaterGreaterEquals(U.removeNode(dA,dC),function(dD){return U.addSibling(dz,dA,dB,dD);});};U.tryFindId=function(dz,dA){return U.tryFind(function(dB){return cM.Equals(dB.id(),dz);},dA);};U.tryFind=function(dz,dA){function dB(dC,dD){return w.op_GreaterGreaterEquals(dC,function(dE){var dF;return dE==null?dz(dD)?w.rtn({$:1,$0:dD}):w.op_GreaterGreaterEquals(dD.childrenRm(),(dF=w.rtn(null),function(dG){return cB.fold(dB,dF,dG);})):w.rtn({$:1,$0:dE.$0});});}return cB.fold(dB,w.rtn(null),dA);};U.addSibling=function(dz,dA,dB,dC){function dD(dE){return cM.Equals(dE.id(),dB.id());}return w.op_GreaterGreaterEquals(dB.pathRm(),function(dE){var dF,dG;function dH(dI){return cM.Equals(dI.id(),dG)?w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(dI.childrenRm(),cD.ofSeq),function(dJ){return U.addToParent(dz,dD,dA,dI,dJ);}):cE.contains(dI.id(),dF)?w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(w.op_BarGreaterGreater(dI.childrenRm(),cD.ofSeq),function(dJ){return cB.map(dH,dJ);}),u.sequenceSeq),cD.ofSeq),dI.newChildrenRm):w.rtn(dI);}return dE.$==1?(dF=dE.$1,(dG=dE.$0,u.sequenceSeq(cB.map(dH,dC)))):w.rtn(U.addNodeToSeq(dz,dD,dA,dC));});};U.addToParent=function(dz,dA,dB,dC,dD){return dC.newChildrenRm(cD.ofSeq(U.addNodeToSeq(dz,dA,dB,dD)));};U.addNodeToSeq=function(dz,dA,dB,dC){return cE.ofSeq(cB.delay(function(){return cB.collect(function(dD){return dA(dD)?dz?cB.append([dD],cB.delay(function(){return[dB];})):cB.append([dB],cB.delay(function(){return[dD];})):[dD];},dC);}));};U.removeNodes=function(dz,dA){var dB;dB=w.reader();return dB.Run(dB.Delay(function(){function dC(dD,dE){var dF;dF=w.reader();return dF.Run(dF.Delay(function(){return dF.Bind(dD,function(dG){var dH,dI;dH=dG[1];dI=dG[0];return dF.Bind(w.op_BarGreaterGreater(dE.childrenRm(),cD.ofSeq),function(dJ){return dF.Bind(cB.fold(dC,w.rtn([cE.T.Empty,dH]),dJ),function(dK){var dL,dM;dL=dK[1];dM=dK[0];return dz(dE)?dF.Return([dI,cE.append(dM,dL)]):dF.Bind(dE.newChildrenRm(cD.ofSeq(cB.rev(dM))),function(dN){return dF.Return([new cE.T({$:1,$0:dN,$1:dI}),dL]);});});});});}));}return dB.Bind(cB.fold(dC,w.rtn([cE.T.Empty,cE.T.Empty]),dA),function(dD){return dB.Return(cE.rev(cE.append(dD[1],dD[0])));});}));};U.removeNode=function(dz,dA){var dB;dB=w.reader();return dB.Run(dB.Delay(function(){return dB.Bind(dz.pathRm(),function(dC){function dD(dE){var dF;dF=w.reader();return dF.Run(dF.Delay(function(){return cM.Equals(dE.id(),dz.id())?dF.Return(null):cE.contains(dE.id(),dC)?dF.ReturnFrom$1(w.op_BarGreaterGreater(w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(w.op_BarGreaterGreater(w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(w.op_BarGreaterGreater(dE.childrenRm(),cD.ofSeq),function(dG){return cB.map(dD,dG);}),u.sequenceSeq),function(dG){return cB.choose(a.id,dG);}),cD.ofSeq),dE.newChildrenRm),function(dG){return{$:1,$0:dG};})):dF.Return({$:1,$0:dE});}));}return dB.ReturnFrom$1(w.op_BarGreaterGreater(u.sequenceSeq(cB.map(dD,dA)),function(dE){return cB.choose(a.id,dE);}));});}));};U.listNodes=function(dz,dA){return w.op_BarGreaterGreater(u.sequenceSeq(cB.map(function(dB){return w.op_BarGreaterGreater(w.op_GreaterGreaterEquals(dB.isExpandedRm(),function(dC){var dD;return dC?w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(dB.childrenRm(),cD.ofSeq),(dD=dz+1,function(dE){return U.listNodes(dD,dE);})):w.rtn([]);}),function(dC){return cB.append([[dB,dz]],dC);});},dA)),function(dB){return cB.collect(a.id,dB);});};c["String.Right"]=function(dz,dA){var dB,dC;return c["String.Substring2"](dz,(dB=0,(dC=dz.length-dA,cM.Compare(dB,dC)===1?dB:dC)),dz.length);};c["String.Left"]=function(dz,dA){return c["String.Substring2"](dz,0,dA);};c["String.Substring2"]=function(dz,dA,dB){var dC,dD;while(true){if(dB<=0)return"";else if(dA<0){dC=dA;dA=0;dB=dB+dC;}else return dA>=dz.length?"":cI.Substring(dz,dA,(dD=dz.length-dA,cM.Compare(dB,dD)===-1?dB:dD));}};c.delayed=function(dz,dA){var dB;dB=[null];return function(dC){var dD,dE;dD=dB[0];dD==null?void 0:dD.$0.Cancel$1();dB[0]={$:1,$0:new cS.New()};cC.Start((dE=null,cC.Delay(function(){return cC.Bind(cC.Sleep(dz),function(){dA(dC);return cC.Zero();});})),{$:1,$0:dB[0].$0});};};c.print=function(dz){((function(dA){return function(dB){return dA(cA.prettyPrint(dB));};}(function(dA){cT.log(dA);}))(dz));};c.Error=function(dz){return{$:1,$0:dz};};X.ofAsyncResult=function(dz){return new a.Promise(function(dA,dB){cC.StartWithContinuations(dz,function(dC){if(dC.$==1)dB((function(dD){return function(dE){return dD(cA.prettyPrint(dE));};}(a.id))(dC.$0));else dA(dC.$0);},function(dC){dB(dC);},function(dC){dB(dC);},null);});};Y.sequenceSeq=function(dz){return Y.traverseSeq(a.id,dz);};Y.traverseSeq=function(dz,dA){return Y.map(a.id,cD.foldBack(function(dB,dC){return Y.op_GreaterGreaterEquals(dz(dB),function(dD){return Y.op_GreaterGreaterEquals(dC,function(dE){return Y.rtn(new cE.T({$:1,$0:dD,$1:dE}));});});},cD.ofSeq(dA),Y.rtn(cE.T.Empty)));};Y.op_GreaterGreaterEquals=function(dz,dA){return Y.bind(dA,dz);};Y.rtn=function(dz){return cV.Const(dz);};Y.map=function(dz,dA){return cV.Map(dz,dA);};Y.bind=function(dz,dA){return cV.Bind(dz,dA);};Y.insertWO=function(dz){return dz==null?cV.Const(null):cV.Map(function(dA){return{$:1,$0:dA};},dz.$0);};Z.serLMdField=function(dz,dA,dB,dC){var dD;function dE(dF,dG){dA(dF).Set(dD[1](dG));return dF;}dD=Z.serSeq(dB,dC);return[dz,function(dF){var dG;dG=(dA(dF))["var"].Get();return dD[0](dG);},function(dF){return function(dG){return dE(dF,dG);};}];};Z.serVarField=function(dz,dA,dB,dC){var dD;function dE(dF){return dF.Get();}return[dz,(dD=function(dF){return dE(dA(dF));},function(dF){return dB(dD(dF));}),function(dF){return function(dG){cW.Set(dA(dF),dC(dG));return dF;};}];};Z.serMap=function(dz,dA,dB,dC){var dD,dE,dF,dG,dH;function dI(dK){return[dK.K,dK.V];}function dJ(dK){return new cX.New(dK);}dD=(dE=Z.serDup(dz,dA,dB,dC),Z.serSeq(dE[0],dE[1]));return[(dF=function(dK){return cB.map(dI,dK);},(dG=dD[0],function(dK){return dG(dF(dK));})),(dH=dD[1],function(dK){return dJ(dH(dK));})];};Z.serDup=function(dz,dA,dB,dC){var dD,dE,dF;function dG(dI){return[dD[1](null),dE[1](null)];}function dH(dI){return[dD[1](cD.get(dI,0)),dE[1](cD.get(dI,1))];}dD=[dz,dA];dE=[dB,dC];return[function(dI){return(((cz.Curried3(function(dJ,dK,dL){return dJ("["+cA.toSafe(dK)+", "+cA.toSafe(dL)+"]");}))(a.id))(dD[0](dI[0])))(dE[0](dI[1]));},(dF=function(dI){return Z.ifUndefF(dG,dH,dI);},function(dI){return dF(a.id(dI));})];};Z.serOpt=function(dz,dA){var dB,dC,dD,dE,dF,dG;function dH(dK){return dK==null?"null":dK.$0;}function dI(dK){return null;}function dJ(dK){return{$:1,$0:dK};}dB=[dz,dA];return[(dC=(dD=dB[0],function(dK){return dK==null?null:{$:1,$0:dD(dK.$0)};}),function(dK){return dH(dC(dK));}),(dE=(dF=(dG=dB[1],function(dK){return dJ(dG(dK));}),function(dK){return Z.ifUndefF(dI,dF,dK);}),function(dK){return dE(a.id(dK));})];};Z.serSet=function(dz,dA){var dB,dC,dD,dE,dF,dG,dH;function dI(dK){return[];}function dJ(dK){return new cQ.New(dK);}dB=[dz,dA];return[(dC=(dD=dB[0],function(dK){return new cQ.New$1(cY.OfSeq(cB.map(dD,dK)));}),function(dK){return Z.sprintA(dC(dK));}),(dE=(dF=(dG=(dH=dB[1],function(dK){return cB.map(dH,dK);}),function(dK){return Z.ifUndefF(dI,dG,dK);}),function(dK){return dF(a.id(dK));}),function(dK){return dJ(dE(dK));})];};Z.serLst=function(dz,dA){var dB,dC,dD,dE,dF,dG,dH;function dI(dJ){return[];}dB=[dz,dA];return[(dC=(dD=dB[0],function(dJ){return cE.map(dD,dJ);}),function(dJ){return Z.sprintA(dC(dJ));}),(dE=(dF=(dG=(dH=dB[1],function(dJ){return cB.map(dH,dJ);}),function(dJ){return Z.ifUndefF(dI,dG,dJ);}),function(dJ){return dF(a.id(dJ));}),function(dJ){return cE.ofSeq(dE(dJ));})];};Z.serArr=function(dz,dA){var dB,dC,dD,dE,dF,dG,dH;function dI(dJ){return[];}dB=[dz,dA];return[(dC=(dD=dB[0],function(dJ){return cD.map(dD,dJ);}),function(dJ){return Z.sprintA(dC(dJ));}),(dE=(dF=(dG=(dH=dB[1],function(dJ){return cB.map(dH,dJ);}),function(dJ){return Z.ifUndefF(dI,dG,dJ);}),function(dJ){return dF(a.id(dJ));}),function(dJ){return cD.ofSeq(dE(dJ));})];};Z.serSeq=function(dz,dA){var dB,dC,dD,dE,dF,dG;function dH(dI){return[];}dB=[dz,dA];return[(dC=(dD=dB[0],function(dI){return cB.map(dD,dI);}),function(dI){return Z.sprintA(dC(dI));}),(dE=(dF=(dG=dB[1],function(dI){return cB.map(dG,dI);}),function(dI){return Z.ifUndefF(dH,dF,dI);}),function(dI){return dE(a.id(dI));})];};Z.serField=function(dz,dA,dB,dC,dD){return[dz,function(dE){return dC(dA(dE));},function(dE){return function(dF){return dB(dD(dF),dE);};}];};Z.serString=function(){cs.$cctor();return cs.serString;};Z.serBool=function(){cs.$cctor();return cs.serBool;};Z.serInt=function(){cs.$cctor();return cs.serInt;};Z.serFloat=function(){cs.$cctor();return cs.serFloat;};Z.sprintA=function(dz){var dA;dA=cI.concat(", ",dz);return(function(dB){return function(dC){return dB("["+cA.toSafe(dC)+"]");};}(a.id))(dA);};Z.deserGuid=function(){cs.$cctor();return cs.deserGuid;};Z.Exists=function(dz,dA){return!dA[dz]?null:{$:1,$0:dA[dz]};};Z.ifUndefF=function(dz,dA,dB){return!dB?dz(dB):dA(dB);};Z.ifUndef=function(dz,dA){return!dA?dz:dA;};_0.LoadFilesAsync=function(dz){var dA;dA=null;return cC.Delay(function(){return cC.For(dz,function(dB){return cC.Bind(_0.LoadFile(dB),function(){return cC.Return(null);});});});};_0.LoadFile=function(dz){var dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN;function dO(dQ,dR){return cI.EndsWith(dR,dQ)?{$:1,$0:null}:null;}function dP(dQ,dR){try{dM.onload=dQ;self.document.head.appendChild(dM);}catch(dS){dR(dS);}}dA=(dB=((dD=dO(".js",dz),dD!=null&&dD.$==1)?!self.document.querySelector("script[src='"+dz+"']")||((dE=dO(".fsx",dz),dE!=null&&dE.$==1)?!self.document.querySelector("script[src='"+dz+"']")||(dF=dO(".fs",dz),dF!=null&&dF.$==1)&&!self.document.querySelector("script[src='"+dz+"']"):(dG=dO(".fs",dz),dG!=null&&dG.$==1)&&!self.document.querySelector("script[src='"+dz+"']")):(dH=dO(".fsx",dz),dH!=null&&dH.$==1)?!self.document.querySelector("script[src='"+dz+"']")||(dI=dO(".fs",dz),dI!=null&&dI.$==1)&&!self.document.querySelector("script[src='"+dz+"']"):(dJ=dO(".fs",dz),dJ!=null&&dJ.$==1)&&!self.document.querySelector("script[src='"+dz+"']"))?{$:1,$0:_0.createScript(dz)}:(dK=dO(".css",dz),dK!=null&&dK.$==1)?{$:1,$0:_0.createCss(dz)}:(dL=dO(".html",dz),dL!=null&&dL.$==1)?{$:1,$0:_0.createHtml(dz)}:null,dB==null?null:{$:1,$0:(dM=dB.$0,cC.FromContinuations(function(dQ,dR,dS){return dP.apply(null,[dQ,dR,dS]);}))});return dA==null?(dN=null,cC.Delay(function(){return cC.Return(null);})):dA.$0;};_0.createHtml=function(dz){var dA;dA=self.document.createElement("link");dA.setAttribute("rel","import");dA.setAttribute("type","text/html");dA.setAttribute("href",dz);return dA;};_0.createCss=function(dz){var dA;dA=self.document.createElement("link");dA.setAttribute("rel","stylesheet");dA.setAttribute("type","text/css");dA.setAttribute("href",dz);return dA;};_0.createScript=function(dz){var dA;dA=self.document.createElement("script");dA.setAttribute("type","text/javascript");dA.setAttribute("src",dz);return dA;};_1.getEndWord=function(dz,dA){var dB,dC;dB=W.REGEX$1("^([a-zA-Z_]\\w*)","g",dz.substring(dA));return dB!=null&&dB.$==1?(dC=dB.$0,!cM.Equals(dC,null)&&dC.length===1)?cD.get(dB.$0,0):"":"";};_1.getStartWord=function(dz,dA){var dB,dC;dB=W.REGEX$1("([a-zA-Z_]\\w*)$","g",cI.Substring(dz,0,dA));return dB!=null&&dB.$==1?(dC=dB.$0,!cM.Equals(dC,null)&&dC.length===1)?cD.get(dB.$0,0):"":"";};_3=_2.Hoverable=cz.Class({Content:function(dz){return dz.on("mouseenter",function(){return cZ.AddClass(dz.elt,"hovering");}).on("mouseleave",function(){return cZ.RemoveClass(dz.elt,"hovering");});},Content$1:function(dz){return c0.Element("div",this.get_Attributes(),dz);},get_Attributes:function(){var dz,dA;dz=this;return cE.ofArray([(dA=cV.Const("hovering"),c1.DynamicPred("class",this.hover.get_View(),dA)),c2.HandlerImpl("mouseenter",function(){return function(){return dz.hover.Set(true);};}),c2.HandlerImpl("mouseleave",function(){return function(){return dz.hover.Set(false);};})]);}},null,_3);_3.get_Demo=function(){return _3.New$1().Content(c0.Element("div",[c2.Create("style","flex-flow: column;")],[c0.TextNode("Hover over me!")]));};_3.Content$2095$81=cz.Curried3(function(dz,dA,dB){return cZ.RemoveClass(dz.elt,"hovering");});_3.get_Attributes$2091$69=cz.Curried3(function(dz,dA,dB){return dz.hover.Set(false);});_3.get_Attributes$2090$69=cz.Curried3(function(dz,dA,dB){return dz.hover.Set(true);});_3.New$1=function(){return _3.New(cW.Create$1(false));};_3.New=function(dz){return new _3({hover:dz});};_2.hoverable=function(dz){return _3.New$1().Content(dz);};_4.addResizeObserver=function(dz,dA){var dB,dC,dD,dE;try{dB=!(!a.ResizeObserver);}catch(dF){dB=false;}if(dB){dC=new a.ResizeObserver(dz);_4.set_observers(new cE.T({$:1,$0:dC,$1:_4.observers()}));dC.observe(dA);}else{dD=_4.dimsChanged(dA);cC.Start((dE=null,cC.Delay(function(){return cC.While(function(){return dA.isConnected;},cC.Delay(function(){return cC.Bind(cC.Sleep(110),function(){return dD()?(dz(),cC.Zero()):cC.Zero();});}));})),null);}};_4.dimsChanged=function(dz){var dA;dA=[dz.getBoundingClientRect()];return function(){var dB;dB=dz.getBoundingClientRect();return cM.Equals(_4.domRect2Tuple(dA[0]),_4.domRect2Tuple(dB))?false:(dA[0]=dB,true);};};_4.domRect2Tuple=function(dz){return[dz.top,dz.left,dz.width,dz.height];};_4.observers=function(){cs.$cctor();return cs.observers;};_4.set_observers=function(dz){cs.$cctor();cs.observers=dz;};_7=_6.WcTabStripT=cz.Class({connectedCallback:function(){var dz,dA,dB,dC;function dD(){var dE,dF,dG;dF=!dA.hasAttribute("bottom");dG=cE.ofSeq(cB.delay(function(){return cB.collect(function(dH){var dI;dI=dA.childNodes[dH-1];return cM.Equals(dI.nodeType,c3.ELEMENT_NODE)?[[dI.hasAttribute("tabname")?dI.getAttribute("tabname"):(function(dJ){return function(dK){return dJ("Tab "+a.String(dK));};}(a.id))(dH),dI]]:[];},cH.range(1,dA.childNodes.length));}));while(dC.childNodes.length>0)dC.removeChild(dC.lastChild);dE=_6.tabStrip(dz.selected,dF,true,dG,c0.Element("slot",cE.T.Empty,cE.T.Empty));c5.LoadLocalTemplates("");c0.Run(dC,dE);}dz=this;!this.added?(dA=this,dB=dA.attachShadow({mode:"open"}),dC=self.document.createElement("div"),dB.appendChild(dC),dD(),dA.addEventListener("DOMSubtreeModified",c.delayed(50,dD)),this.added=true):void 0;}},i,_7);_7.Constructor=function(){var dz,dA;dz=(dA=c6.construct(self.HTMLElement,[],this.__proto__.constructor),dA);self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New.call(dz);return dz;};_7.New=cz.Ctor(function(){i.New.call(this);this.added=false;this.selected=cW.Create$1(1);(function(dz){return dz("WcTabStripT initializer");}(function(dz){cT.log(dz);}));},_7);_6.init=function(){cs.$cctor();return cs.init;};_6.tabStrip$2234$64=function(dz,dA){return function(){return function(){return dA.Set(dz+1);};};};_6.tabStrip=function(dz,dA,dB,dC,dD){var dE;dE=c0.Element("div",[c2.Create("class",(((cz.Curried3(function(dF,dG,dH){return dF("tab-strip "+cA.toSafe(dG)+" "+cA.toSafe(dH));}))(a.id))(dA?"top":"bottom"))(dB?"horizontal":"vertical"))],cE.ofSeq(cB.delay(function(){return cB.collect(function(dF){var dG;dG=dF[0];return[_3.New$1().Content(c0.Element("div",[c1.Dynamic("class",cV.Map(function(dH){return"tab"+(dH===dG+1?" selected":"");},dz.get_View())),c2.Create("draggable","true"),c2.HandlerImpl("click",function(){return function(){return dz.Set(dG+1);};})],[c0.TextNode(dF[1][0])]))];},cB.indexed(dC));})));return c0.Element("div",[c2.Create("class","tab-panel")],cE.ofSeq(cB.delay(function(){return cB.append(dA?[dE]:[],cB.delay(function(){return cB.append([c0.Element("div",[c2.Create("class","tab-content")],[dD])],cB.delay(function(){return cB.append(!dA?[dE]:[],cB.delay(function(){return cB.append([c0.Element("style",cE.T.Empty,cE.ofArray([c0.TextNode(_6.css())]))],cB.delay(function(){return[c0.Element("style",cE.T.Empty,cE.ofArray([c0.TextView(cV.Map(function(dF){return function(dG){return dF("\n                                              ::slotted(*              ) { display: none }\n                                              ::slotted(*:nth-child("+a.String(dG)+")) { display: grid }\n                                           ");};}(a.id),dz.get_View()))]))];}));}));}));}));})));};_6.css=function(){cs.$cctor();return cs.css;};_9=_8.WcSplitterT=cz.Class({connectedCallback:function(){var dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO;function dP(dX){var dY,dZ,d0,d1;dY=dG?["padding-left","padding-right","grid-column-gap"]:["padding-top","padding-bottom","grid-row-gap"];dZ=a.parseFloat("0"+a.jQuery(dX.parentElement.parentElement).css(dY[0]));d0=a.parseFloat("0"+a.jQuery(dX.parentElement.parentElement).css(dY[1]));dJ.Set(a.parseFloat("0"+a.jQuery(dX.parentElement.parentElement).css(dY[2])));dI[0]=dZ+d0;d1=dz.getBoundingClientRect();return dG?dF?[d1.width,d1.height]:[-d1.width,d1.height]:dF?[d1.height,d1.width]:[-d1.height,d1.width];}function dQ(dX){return dG?dX.clientX:dX.clientY;}function dR(dX){var dY,dZ;dY=(dQ(dX)-dM[0])*100/dH[0][0]+dL[0];dE.Set((dZ=cM.Compare(dC,dY)===1?dC:dY,cM.Compare(dD,dZ)===-1?dD:dZ));}function dS(){if(dK[0]){dK[0]=false;self.removeEventListener("mousemove",dR,false);self.removeEventListener("mouseup",dS,false);}}function dT(dX){var dY,dZ;if(!dK[0]){dK[0]=true;dL[0]=dE.Get();dM[0]=dQ(dX);dH[0]=(dY=(dZ=dN[0],dZ==null?null:{$:1,$0:dP(dZ.$0)}),dY==null?[100,500]:dY.$0);self.addEventListener("mousemove",dR,false);self.addEventListener("mouseup",dS,false);dX.preventDefault();}}function dU(dX,dY,dZ,d0){return[(dX-dY-dZ)*d0/100,(dX-dY-dZ)*(100-d0)/100];}function dV(dX,dY){return(((((cz.Curried(function(dZ,d0,d1,d2,d3){return dZ(" "+d0.toFixed(2)+"px "+d1.toFixed(2)+"px ; "+cA.toSafe(d2)+" : "+d3.toFixed(2)+"px; ");},5))(a.id))(dX))(dY))(dG?"height":"width"))(dH[0][1]);}function dW(){var dX;dX=dN[0];dX==null?void 0:dH[0]=dP(dX.$0);dE.Set(dE.Get());}if(!this.added){dz=this;dA=dz.attachShadow({mode:"open"});dB=self.document.createElement("div");dC=dz.hasAttribute("min")?a.parseFloat(dz.getAttribute("min")):4;dD=dz.hasAttribute("max")?a.parseFloat(dz.getAttribute("max")):96;dE=cW.Create$1(dz.hasAttribute("value")?a.parseFloat(dz.getAttribute("value")):50);dF=!dz.hasAttribute("second");dG=dz.hasAttribute("vertical");dH=[[0,0]];dI=[0];dJ=cW.Create$1(0);dK=[false];dL=[0];dM=[0];dN=[null];dO=(((((dG?_8.layoutVertical():_8.layoutHorizontal())(cV.Map(function(dX){var dY;dY=dU(dH[0][0],dJ.Get(),dI[0],dX);return dV.apply(null,dY);},dE.get_View())))(function(){_4.addResizeObserver(dW,dz);dW();}))(function(dX){dN[0]={$:1,$0:dX};dW();}))(function(dX){dT(dX);}))(cV.Map(function(dX){return function(dY){return dX(cA.prettyPrint(dY)+"px");};}(a.id),dJ.get_View()));c5.LoadLocalTemplates("");c0.Run(dB,dO);dA.appendChild(dB.firstChild);this.added=true;}}},i,_9);_9.Constructor=function(){var dz,dA;dz=(dA=c6.construct(self.HTMLElement,[],this.__proto__.constructor),dA);self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New.call(dz);return dz;};_9.New=cz.Ctor(function(){i.New.call(this);this.added=false;(function(dz){return dz("WcSplitterT initializer");}(function(dz){cT.log(dz);}));},_9);_8.init=function(dz,dA){var dB,dC;_8.set_layoutHorizontal(dz);_8.set_layoutVertical(dA);dB="wcomp-splitter";dC=self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New;cT.log("defineWebComponent: "+dB);c7.setPrototypeOf(dC.prototype,self.HTMLElement.prototype);c7.setPrototypeOf(dC,self.HTMLElement);c7.setPrototypeOf(_9.Constructor.prototype,dC.prototype);self.customElements.define(dB,_9.Constructor);};_8.layoutVertical=function(){cs.$cctor();return cs.layoutVertical;};_8.set_layoutVertical=function(dz){cs.$cctor();cs.layoutVertical=dz;};_8.layoutHorizontal=function(){cs.$cctor();return cs.layoutHorizontal;};_8.set_layoutHorizontal=function(dz){cs.$cctor();cs.layoutHorizontal=dz;};$.New=function(dz,dA){return{column:dz,lineNumber:dA};};ba.New=function(dz,dA,dB,dC){return{startColumn:dz,endColumn:dA,startLineNumber:dB,endLineNumber:dC};};bb.New=function(dz,dA,dB,dC,dD,dE){return{authority:dz,fragment:dA,fsPath:dB,path:dC,query:dD,scheme:dE};};bc.New=function(dz,dA){return{range:dz,uri:dA};};bd.New=function(dz,dA){return{matches:dz,range:dA};};be.New=function(dz,dA,dB){return{endColumn:dz,startColumn:dA,word:dB};};bf.New=function(dz){return{uri:dz};};bg.New=function(dz,dA){return{value:dz,isTrusted:dA};};bh.New=function(dz,dA,dB,dC,dD,dE){return{startColumn:dz,endColumn:dA,startLineNumber:dB,endLineNumber:dC,severity:dD,message:dE};};bi.New=function(dz,dA,dB){return{kind:dz,label:dA,detail:dB};};bj.New=function(dz,dA){return{contents:dz,range:dA};};bk=_.Editor=cz.Class({},i,bk);bk.New=cz.Ctor(function(){i.New.call(this);},bk);bl.New=function(dz,dA,dB,dC,dD,dE,dF){return{"var":dz,onChange:dA,onRender:dB,editorO:dC,disabled:dD,options:dE,overrides:dF};};_.newVarO=function(dz){var dA;dA=_.newVar(cW.Lens(dz,function(dB){return dB==null?"":dB.$0;},function(dB,dC){return dB==null?null:{$:1,$0:dC};}));return _.disabled(cV.Map(function(dB){return dB==null;},dz.get_View()),dA);};_.newText=function(dz){return _.newVar(cW.Create$1(dz));};_["var"]=function(dz){return dz["var"];};_.disabled=function(dz,dA){return bl.New(dA["var"],dA.onChange,dA.onRender,dA.editorO,dz,dA.options,dA.overrides);};_.onRender=function(dz,dA){return bl.New(dA["var"],dA.onChange,{$:1,$0:dz},dA.editorO,dA.disabled,dA.options,dA.overrides);};_.onChange=function(dz,dA){return bl.New(dA["var"],dz,dA.onRender,dA.editorO,dA.disabled,dA.options,dA.overrides);};_.setVar=function(dz,dA){return bl.New(dz,dA.onChange,dA.onRender,dA.editorO,dA.disabled,dA.options,dA.overrides);};_.render$2577$42=function(dz){return function(dA){var dB;cC.Start((dB=null,cC.Delay(function(){return cC.Bind(_.loader(),function(){var dC,dD,dE;dC=(dD=dA.parentElement,self.monaco.editor.create(dD,dz.options,dz.overrides));_4.addResizeObserver(function(){dC.layout();},dA.parentElement);dA.parentNode.removeChild(dA);dz.editorO={$:1,$0:dC};dE=dz.onRender;dE==null?void 0:dE.$0(dC);W.bindVarEditor(function(dF){dC.onDidChangeModelContent(dF);},function(){return dC.getValue();},function(dF){dC.setValue(dF);},dz.onChange,dz["var"]);return cC.Zero();});})),null);};};_.render=function(dz){return c0.Element("div",[c2.OnAfterRenderImpl(function(dA){var dB;cC.Start((dB=null,cC.Delay(function(){return cC.Bind(_.loader(),function(){var dC,dD,dE;dC=(dD=dA.parentElement,self.monaco.editor.create(dD,dz.options,dz.overrides));_4.addResizeObserver(function(){dC.layout();},dA.parentElement);dA.parentNode.removeChild(dA);dz.editorO={$:1,$0:dC};dE=dz.onRender;dE==null?void 0:dE.$0(dC);W.bindVarEditor(function(dF){dC.onDidChangeModelContent(dF);},function(){return dC.getValue();},function(dF){dC.setValue(dF);},dz.onChange,dz["var"]);return cC.Zero();});})),null);})],[]);};_.loader=function(){cs.$cctor();return cs.loader;};_.includes=function(){cs.$cctor();return cs.includes;};_.newVar=function(dz){return bl.New(dz,a.ignore,null,null,cV.Const(false),null,null);};bn.New=function(dz,dA){return{varName:dz,varVar:dA};};bo.New=function(dz,dA){return{viwName:dz,viwView:dA};};bp.New=function(dz,dA){return{docName:dz,docDoc:dA};};bq.New=function(dz,dA,dB){return{actName:dz,actFunction:dA,actEnabled:dB};};br.New=function(dz,dA){return{qryName:dz,qryFunction:dA};};bs.New=function(dz,dA,dB,dC,dD,dE){return{plgName:dz,plgVars:dA,plgViews:dB,plgDocs:dC,plgActions:dD,plgQueries:dE};};bm.getMainDoc=function(){cs.$cctor();return cs.getMainDoc;};bm.qryDocs=function(){cs.$cctor();return cs.qryDocs;};bm.actHello=function(){cs.$cctor();return cs.actHello;};bm.tryGetWoW=function(dz,dA){var dB,dC,dD;dB=(dC=bm.tryGetViw(dz,dA),dC==null?null:{$:1,$0:{$:1,$0:dC.$0.viwView}});return dB==null?(dD=bm.tryGetVar(dz,dA),dD==null?null:{$:1,$0:dD.$0.varVar.get_View()}):dB.$0;};bm.tryGetVoV=function(dz,dA){var dB,dC,dD;dB=(dC=bm.tryGetVar(dz,dA),dC==null?null:{$:1,$0:{$:1,$0:dC.$0.varVar}});return dB==null?(dD=bm.tryGetViw(dz,dA),dD==null?null:{$:1,$0:new c8.New(dD.$0.viwView,a.ignore)}):dB.$0;};bm.tryGetDoc=function(dz,dA){var dB;dB=bm.plugIns().TryFindByKey(dz);return dB==null?null:cD.tryFind(function(dC){return dC.docName===dA;},dB.$0.plgDocs);};bm.tryGetAct=function(dz,dA){var dB;dB=bm.plugIns().TryFindByKey(dz);return dB==null?null:cD.tryFind(function(dC){return dC.actName===dA;},dB.$0.plgActions);};bm.tryGetViw=function(dz,dA){var dB;dB=bm.plugIns().TryFindByKey(dz);return dB==null?null:cD.tryFind(function(dC){return dC.viwName===dA;},dB.$0.plgViews);};bm.tryGetVar=function(dz,dA){var dB;dB=bm.plugIns().TryFindByKey(dz);return dB==null?null:cD.tryFind(function(dC){return dC.varName===dA;},dB.$0.plgVars);};bm.newDocF=function(dz,dA){return bp.New(dz,dA);};bm.newActF=function(dz,dA){return bq.New(dz,dA,cV.Const(true));};bm.newAct=function(dz,dA){return bq.New(dz,{$:0,$0:dA},cV.Const(true));};bm.newQry=function(dz,dA){return br.New(dz,dA);};bm.newDoc=function(dz,dA){return bp.New(dz,{$:0,$0:dA});};bm.newViw=function(dz,dA){return bo.New(dz,dA);};bm.newVar=function(dz,dA){return bn.New(dz,dA);};bm.vertical$2806$39=function(dz){return function(dA){dz(dA.Event);};};bm.vertical$2805$39=a.id;bm.vertical$2804$39=a.id;bm.vertical=function(dz,dA,dB,dC,dD){var dE,dF,dG,dH;return(dE=(dF=da.Make().WithHole({$:2,$0:"partsizes",$1:dz}).WithHole({$:7,$0:"afterrender",$1:dA}).WithHole({$:7,$0:"afterrendersp",$1:dB}),dF.WithHole(db.EventQ2(dF.k,"mousedown",function(){return dF.i;},function(dI){dC(dI.Event);}))).WithHole({$:2,$0:"gap",$1:dD}),(dG=db.CompleteHoles(dE.k,dE.h,[]),(dH=new dc.New(dG[1],cv.wcompsplitterver(dG[0])),(dE.i=dH,dH)))).get_Doc();};bm.horizontal$2798$39=function(dz){return function(dA){dz(dA.Event);};};bm.horizontal$2797$39=a.id;bm.horizontal$2796$39=a.id;bm.horizontal=function(dz,dA,dB,dC,dD){var dE,dF,dG,dH;return(dE=(dF=da.Make().WithHole({$:2,$0:"partsizes",$1:dz}).WithHole({$:7,$0:"afterrender",$1:dA}).WithHole({$:7,$0:"afterrendersp",$1:dB}),dF.WithHole(db.EventQ2(dF.k,"mousedown",function(){return dF.i;},function(dI){dC(dI.Event);}))).WithHole({$:2,$0:"gap",$1:dD}),(dG=db.CompleteHoles(dE.k,dE.h,[]),(dH=new dc.New(dG[1],cv.wcompsplitterhor(dG[0])),(dE.i=dH,dH)))).get_Doc();};bm.mainDoc$2787$42=function(){return function(){bm.mainDocV().Set("AppFramework.AppFwkClient");};};bm.mainDoc=function(){var dz,dA,dB,dC,dD,dE;return(dz=(dA=bm.getMainClientDoc(),(dB=(dC=bm.mainDocV().get_View(),da.Make().WithHole({$:2,$0:"maindoc",$1:dC})),dB.WithHole(db.EventQ2(dB.k,"goclient",function(){return dB.i;},function(){bm.mainDocV().Set("AppFramework.AppFwkClient");}))).WithHole({$:0,$0:"mainclient",$1:dA})),(dD=db.CompleteHoles(dz.k,dz.h,[]),(dE=new dc.New(dD[1],cv.appframework(dD[0])),(dz.i=dE,dE)))).get_Doc();};bm.getMainClientDoc=function(){var dz;return c0.EmbedView((dz=bm.plugIns().v,cV.Map2(function(dA,dB){var dC,dD;dC=cB.tryPick(function(dE){var dF;dF=cB.tryFind(function(dG){return dE.plgName+"."+dG.docName===dA;},dE.plgDocs);return dF==null?null:{$:1,$0:bm.getLazyDoc(dF.$0)};},dB);dD=bm.AppFwkClient().f();return dC==null?dD:dC.$0;},bm.mainDocV().get_View(),dz)));};bm.getLazyDoc=function(dz){var dA;dA=dz.docDoc;return dA.$==0?dA.$0.f():c0.Element("div",[],[c0.TextNode((function(dB){return function(dC){return dB("Doc with parameters not allowed here: "+cx.p(dC));};}(a.id))(dz))]);};bm.AppFwkClient=function(){cs.$cctor();return cs.AppFwkClient;};bm.renderActions$2752$51=function(dz){return function(dA){bm.callFunction(dA,null,dz.actFunction);};};bm.renderActions$2748$51=function(dz){return function(dA){bm.callFunction(dA,null,dz.actFunction);};};bm.renderActions=function(){return c0.ConvertBy(function(dz){return dz.actName;},function(dz){var dA,dB,dC,dD;dA=(dB=dz.actFunction,dB.$==1?(dC=cI.concat(", ",cE.ofArray([dB.$1])),(function(dE){return function(dF){return dE("("+cA.toSafe(dF)+")");};}(a.id))(dC)):dB.$==2?(dD=cI.concat(", ",cE.ofArray([dB.$1,dB.$2])),(function(dE){return function(dF){return dE("("+cA.toSafe(dF)+")");};}(a.id))(dD)):"");return c0.EmbedView(cV.Map(function(dE){var dF,dG,dH,dI,dJ,dK,dL,dM;return dE?(dF=(dG=da.Make().WithHole({$:1,$0:"name",$1:dz.actName+dA}),dG.WithHole(db.EventQ2(dG.k,"click",function(){return dG.i;},function(dN){bm.callFunction(dN,null,dz.actFunction);}))),(dH=db.CompleteHoles(dF.k,dF.h,[]),(dI=new dc.New(dH[1],cv.action(dH[0])),(dF.i=dI,dI)))).get_Doc():(dJ=(dK=da.Make().WithHole({$:1,$0:"name",$1:dz.actName}),dK.WithHole(db.EventQ2(dK.k,"click",function(){return dK.i;},function(dN){bm.callFunction(dN,null,dz.actFunction);}))),(dL=db.CompleteHoles(dJ.k,dJ.h,[]),(dM=new dc.New(dL[1],cv.actiondisabled(dL[0])),(dJ.i=dM,dM)))).get_Doc();},dz.actEnabled));},cV.Map(function(dz){return dz.plgActions;},bm.currentPlugInW()));};bm.callFunction=function(dz,dA,dB){if(dB.$==1)dB.$0(dz);else if(dB.$==2)(dB.$0(dz))(dA);else dB.$0();};bm.renderQueries$2726$39=function(dz){return function(){a.alert(dz.qryFunction(null));};};bm.renderQueries=function(){return c0.ConvertBy(function(dz){return dz.qryName;},function(dz){var dA,dB,dC,dD;return(dA=(dB=da.Make().WithHole({$:1,$0:"name",$1:dz.qryName}),dB.WithHole(db.EventQ2(dB.k,"select",function(){return dB.i;},function(){a.alert(dz.qryFunction(null));}))),(dC=db.CompleteHoles(dA.k,dA.h,[]),(dD=new dc.New(dC[1],cv.tile(dC[0])),(dA.i=dD,dD)))).get_Doc();},cV.Map(function(dz){return dz.plgQueries;},bm.currentPlugInW()));};bm.renderViews=function(){return c0.ConvertBy(function(dz){return dz.viwName;},function(dz){var dA,dB,dC;return(dA=da.Make().WithHole({$:1,$0:"name",$1:dz.viwName}).WithHole({$:2,$0:"value",$1:dz.viwView}),(dB=db.CompleteHoles(dA.k,dA.h,[]),(dC=new dc.New(dB[1],cv.namevalue(dB[0])),(dA.i=dC,dC)))).get_Doc();},cV.Map(function(dz){return dz.plgViews;},bm.currentPlugInW()));};bm.renderVars=function(){return c0.ConvertBy(function(dz){return dz.varName;},function(dz){var dA,dB,dC;return(dA=da.Make().WithHole({$:1,$0:"name",$1:dz.varName}).WithHole({$:8,$0:"value",$1:dz.varVar}),(dB=db.CompleteHoles(dA.k,dA.h,[["value",0]]),(dC=new dc.New(dB[1],cv.namevalueinput(dB[0])),(dA.i=dC,dC)))).get_Doc();},cV.Map(function(dz){return dz.plgVars;},bm.currentPlugInW()));};bm.renderDocs$2696$39=function(dz){return function(){cV.Get(function(dA){bm.mainDocV().Set(dA.plgName+"."+dz.docName);},bm.currentPlugInW());};};bm.renderDocs=function(){return c0.ConvertBy(function(dz){return dz.docName;},function(dz){var dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK;return(dA=(dB=(dC=dz.docName+(dD=dz.docDoc,dD.$==1?(dE=cI.concat(", ",cE.ofArray([dD.$1])),(function(dL){return function(dM){return dL("("+cA.toSafe(dM)+")");};}(a.id))(dE)):dD.$==2?(dF=cI.concat(", ",cE.ofArray([dD.$1,dD.$2])),(function(dL){return function(dM){return dL("("+cA.toSafe(dM)+")");};}(a.id))(dF)):dD.$==3?(dG=cI.concat(", ",cE.ofArray([dD.$1,dD.$2,dD.$3])),(function(dL){return function(dM){return dL("("+cA.toSafe(dM)+")");};}(a.id))(dG)):dD.$==4?(dH=cI.concat(", ",cE.ofArray([dD.$1,dD.$2,dD.$3,dD.$4])),(function(dL){return function(dM){return dL("("+cA.toSafe(dM)+")");};}(a.id))(dH)):dD.$==5?(dI=cI.concat(", ",cE.ofArray([dD.$1,dD.$2,dD.$3,dD.$4,dD.$5])),(function(dL){return function(dM){return dL("("+cA.toSafe(dM)+")");};}(a.id))(dI)):""),da.Make().WithHole({$:1,$0:"name",$1:dC})),dB.WithHole(db.EventQ2(dB.k,"select",function(){return dB.i;},function(){cV.Get(function(dL){bm.mainDocV().Set(dL.plgName+"."+dz.docName);},bm.currentPlugInW());}))),(dJ=db.CompleteHoles(dA.k,dA.h,[]),(dK=new dc.New(dJ[1],cv.tile(dJ[0])),(dA.i=dK,dK)))).get_Doc();},cV.Map(function(dz){return dz.plgDocs;},bm.currentPlugInW()));};bm.renderPlugIns$2678$35=function(dz){return function(){bm.selectionPlugInO().Set({$:1,$0:dz});};};bm.renderPlugIns=function(){return c0.Flatten(bm.plugIns().MapLens(function(dz){var dA,dB,dC,dD;return(dA=(dB=da.Make().WithHole({$:1,$0:"name",$1:dz}),dB.WithHole(db.EventQ2(dB.k,"select",function(){return dB.i;},function(){bm.selectionPlugInO().Set({$:1,$0:dz});}))).WithHole({$:2,$0:"selected",$1:cV.Map(function(dE){return cM.Equals(dE,{$:1,$0:dz})?"selected":"";},bm.selectionPlugInO().get_View())}),(dC=db.CompleteHoles(dA.k,dA.h,[]),(dD=new dc.New(dC[1],cv.tile(dC[0])),(dA.i=dD,dD)))).get_Doc();}));};bm.currentPlugInV=function(){cs.$cctor();return cs.currentPlugInV;};bm.currentPlugInW=function(){cs.$cctor();return cs.currentPlugInW;};bm.selectionPlugInO=function(){cs.$cctor();return cs.selectionPlugInO;};bm.defaultPlugIn=function(){cs.$cctor();return cs.defaultPlugIn;};bm.TemplateFileName=function(){cs.$cctor();return cs.TemplateFileName;};bm.mainDocV=function(){cs.$cctor();return cs.mainDocV;};bm.plugIns=function(){cs.$cctor();return cs.plugIns;};bt.New=function(dz,dA){return{lytName:dz,lytDefinition:dA};};bu.newLyt=function(dz,dA){return bt.New(dz,cW.Create$1(dA));};bu.addLayout=function(dz){cV.Sink(function(dA){bm.plugIns().Append(bs.New(dz.lytName,[bm.newVar("Layout",dz.lytDefinition)],[],cD.ofSeq(cB.delay(function(){return cB.append(bu.createDocs(dz.lytName,dA),cB.delay(function(){var dB;return cB.append([bm.newDocF("InputFile",{$:4,$0:(dB=dz.lytName,cz.Curried(bu.inputFile,4,[dB])),$1:"attrs",$2:"Label",$3:"Action",$4:"[Doc]"})],cB.delay(function(){var dC;return cB.append([bm.newDocF("InputLabel",{$:3,$0:(dC=dz.lytName,cz.Curried(bu.inputLabel,3,[dC])),$1:"attrs",$2:"Label",$3:"Var"})],cB.delay(function(){return[bm.newDocF("none",{$:1,$0:bu.none,$1:"x"})];}));}));}));})),[],[]));bm.mainDocV().Set(bm.mainDocV().Get());},dz.lytDefinition.get_View());};bu.none=function(dz){return c0.Element("span",[],[]);};bu.inputLabel=function(dz,dA,dB,dC){var dD,dE,dF;dD=(dE=(dF=(bu.splitName(dz))(dC),bm.tryGetVar(dF[0],dF[1])),dE==null?null:{$:1,$0:c0.Element("div",bu.getAttrs(dz,dA),[c0.Element("div",[c2.Create("class","input-group")],[c0.Element("span",[c2.Create("class","input-group-addon")],[bu.getText(dz,dB)]),c0.Input([c2.Create("class","form-control")],dE.$0.varVar)])])});return dD==null?bu.errDoc((function(dG){return function(dH){return dG("Var not found "+cA.toSafe(dH));};}(a.id))(dC)):dD.$0;};bu.inputFile$3170$69=cz.Curried3(function(dz,dA,dB){return bm.callFunction(dA,null,dz.actFunction);});bu.inputFile$3169$69=cz.Curried3(function(dz,dA,dB){dA.value="";});bu.inputFile=function(dz,dA,dB,dC,dD){var dE,dF,dG,dH;dE=(dF=(dG=(bu.splitName(dz))(dC),bm.tryGetAct(dG[0],dG[1])),dF==null?null:{$:1,$0:(dH=dF.$0,c0.Element("div",bu.getAttrs(dz,dA),[c0.Element("div",[c2.Create("class","input-group")],[c0.Element("span",[c2.Create("class","input-group-btn")],[c0.Element("label",[c2.Create("class","btn")],[bu.getText(dz,dB),c0.Element("input",[c2.Create("class","form-control"),c2.Create("type","file"),c1.Style("display","none"),c2.HandlerImpl("click",function(dI){return function(){dI.value="";};}),c2.HandlerImpl("change",function(dI){return function(){return bm.callFunction(dI,null,dH.actFunction);};})],[])])]),dD!==""?bu.singleDoc(dz,cE.ofArray([dD])):c0.get_Empty()])]))});return dE==null?bu.errDoc((function(dI){return function(dJ){return dI("Action not found "+cA.toSafe(dJ));};}(a.id))(dC)):dE.$0;};bu.getText=function(dz,dA){var dB,dC,dD,dE,dF,dG,dH,dI,dJ;dB=bu.Identifier(dA);return dB!=null&&dB.$==1?(dC=dB.$0,(dD=(bu.splitName(dz))(dC),(dE=dD[0],(dF=dD[1],(dG=(dH=bm.tryGetViw(dE,dF),dH==null?null:{$:1,$0:c0.TextView(dH.$0.viwView)}),dG==null?(dI=(dJ=bm.tryGetVar(dE,dF),dJ==null?null:{$:1,$0:c0.TextView(dJ.$0.varVar.get_View())}),dI==null?c0.TextNode(dC):dI.$0):dG.$0))))):c0.TextNode(dA);};bu.createDocs=function(dz,dA){function dB(dC,dD){return bm.newDoc(dC,dd.Create(function(){return dD;}));}return cB.map(function(dC){return dB(dC[0],dC[1]);},cB.choose(function(dC){return bu.createDocO(dz,dC);},A.splitByChar("\n",dA)));};bu.createDocO=function(dz,dA){var dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX;try{dB=bu.splitTokens(dA);return dB.$==1&&(dD=bu.Identifier(dB.$0),dD!=null&&dD.$==1&&(dB.$1.$==1&&(bu.Vertical(dB.$1.$0).$==0&&(dB.$1.$1.$==1&&(dE=bu.Measures$1(dB.$1.$1.$0),dE!=null&&dE.$==1&&(dC=[dB.$1.$1.$1,dE.$0,dD.$0],true))))))?{$:1,$0:[dC[2],(bu.createSplitterM())([dz,true,dC[1],dC[0]])]}:dB.$==1&&(dG=bu.Identifier(dB.$0),dG!=null&&dG.$==1&&(dB.$1.$==1&&(bu.Vertical(dB.$1.$0).$==1&&(dB.$1.$1.$==1&&(dH=bu.Measures$1(dB.$1.$1.$0),dH!=null&&dH.$==1&&(dF=[dB.$1.$1.$1,dH.$0,dG.$0],true))))))?{$:1,$0:[dF[2],(bu.createSplitterM())([dz,false,dF[1],dF[0]])]}:dB.$==1&&(dJ=bu.Identifier(dB.$0),dJ!=null&&dJ.$==1&&(dB.$1.$==1&&(bu.Doc(dB.$1.$0).$==1&&(dB.$1.$1.$==1&&(dK=bu.Identifier(dB.$1.$1.$0),dK!=null&&dK.$==1&&(dB.$1.$1.$1.$==1&&(dB.$1.$1.$1.$1.$==1&&(dB.$1.$1.$1.$1.$1.$==0&&(dI=[dK.$0,dB.$1.$1.$1.$0,dJ.$0,dB.$1.$1.$1.$1.$0],true)))))))))?{$:1,$0:[dI[2],(bu.createButtonM())([dz,dI[0],dI[1],dI[3]])]}:dB.$==1&&(dM=bu.Identifier(dB.$0),dM!=null&&dM.$==1&&(dB.$1.$==1&&(bu.Doc(dB.$1.$0).$==2&&(dB.$1.$1.$==1&&(dN=bu.Identifier(dB.$1.$1.$0),dN!=null&&dN.$==1&&(dB.$1.$1.$1.$==1&&(dB.$1.$1.$1.$1.$==0&&(dL=[dB.$1.$1.$1.$0,dM.$0,dN.$0],true))))))))?{$:1,$0:[dL[1],(bu.createInputM())([dz,dL[2],dL[0]])]}:dB.$==1&&(dP=bu.Identifier(dB.$0),dP!=null&&dP.$==1&&(dB.$1.$==1&&(bu.Doc(dB.$1.$0).$==3&&(dB.$1.$1.$==1&&(dQ=bu.Identifier(dB.$1.$1.$0),dQ!=null&&dQ.$==1&&(dB.$1.$1.$1.$==1&&(dB.$1.$1.$1.$1.$==0&&(dO=[dB.$1.$1.$1.$0,dP.$0,dQ.$0],true))))))))?{$:1,$0:[dO[1],(bu.createTextAreaM())([dz,dO[2],dO[0]])]}:dB.$==1&&(dS=bu.Identifier(dB.$0),dS!=null&&dS.$==1&&(dB.$1.$==1&&(bu.Doc(dB.$1.$0).$==0&&(dB.$1.$1.$==1&&(dR=[dB.$1.$1.$0,dS.$0,dB.$1.$1.$1],true)))))?{$:1,$0:[dR[1],(bu.createDocM())([dz,dR[0],dR[2]])]}:dB.$==1&&(dU=bu.Identifier(dB.$0),dU!=null&&dU.$==1&&(dB.$1.$==1&&(bu.Vertical(dB.$1.$0).$==2&&(dB.$1.$1.$==1&&(dB.$1.$1.$1.$==1&&(dB.$1.$1.$1.$1.$==1&&(dT=[dB.$1.$1.$1.$1.$0,dB.$1.$1.$0,dB.$1.$1.$1.$1.$1,dU.$0,dB.$1.$1.$1.$0],true)))))))?null:dB.$==1&&(dW=bu.Identifier(dB.$0),dW!=null&&dW.$==1&&(dB.$1.$==1&&(dX=bu.Vertical(dB.$1.$0),dX.$==3&&(dB.$1.$1.$==1&&(dV=[dB.$1.$1.$0,dB.$1.$1.$1,dX.$0,dW.$0],true)))))?{$:1,$0:[dV[3],(bu.createElementM())([dz,dV[2],dV[0],dV[1]])]}:null;}catch(dY){((function(dZ){return function(d0){return dZ(cA.prettyPrint(d0));};}(function(dZ){cT.log(dZ);}))(dY));return null;}};bu.createDocM=function(){cs.$cctor();return cs.createDocM;};bu.createElementM=function(){cs.$cctor();return cs.createElementM;};bu.createTextAreaM=function(){cs.$cctor();return cs.createTextAreaM;};bu.createInputM=function(){cs.$cctor();return cs.createInputM;};bu.createButtonM=function(){cs.$cctor();return cs.createButtonM;};bu.createSplitterM=function(){cs.$cctor();return cs.createSplitterM;};bu.createDoc=function(dz,dA,dB){return bu.turnToView(function(){var dC,dD,dE;dC=(bu.splitName(dz))(dA);dD=(dE=bm.tryGetDoc(dC[0],dC[1]),dE==null?null:{$:1,$0:bu.getDocFinal(dB,dE.$0)});return dD==null?bu.errDoc((function(dF){return function(dG){return dF("Missing doc: "+cA.toSafe(dG));};}(a.id))(dA)):dD.$0;});};bu.createTextArea=function(dz,dA,dB){return bu.turnToView(function(){var dC,dD,dE,dF,dG;dC=(dD=(dE=(bu.splitName(dz))(dA),bm.tryGetVoV(dE[0],dE[1])),(dF=(dG=bu.getAttrs(dz,dB),function(dH){return c0.InputArea(dG,dH);}),dD==null?null:{$:1,$0:dF(dD.$0)}));return dC==null?bu.errDoc((function(dH){return function(dI){return dH("Missing var: "+cA.toSafe(dI));};}(a.id))(dA)):dC.$0;});};bu.createInput=function(dz,dA,dB){return bu.turnToView(function(){var dC,dD,dE,dF,dG;dC=(dD=(dE=(bu.splitName(dz))(dA),bm.tryGetVoV(dE[0],dE[1])),(dF=(dG=bu.getAttrs(dz,dB),function(dH){return c0.Input(dG,dH);}),dD==null?null:{$:1,$0:dF(dD.$0)}));return dC==null?bu.errDoc((function(dH){return function(dI){return dH("Missing var: "+cA.toSafe(dI));};}(a.id))(dA)):dC.$0;});};bu.createButton=function(dz,dA,dB,dC){return bu.turnToView(function(){var dD,dE,dF,dG,dH;function dI(dJ,dK){return bm.callFunction(null,null,dJ.actFunction);}dD=(dE=(dF=(dG=(bu.splitName(dz))(dA),bm.tryGetAct(dG[0],dG[1])),dF==null?null:{$:1,$0:(dH=dF.$0,function(dJ){return dI(dH,dJ);})}),dE==null?a.ignore:dE.$0);return c0.Button(dC,bu.getAttrs(dz,dB),dD);});};bu.createElement=function(dz,dA,dB,dC){var dD;dD=[bu.turnToView(function(){return c0.Concat(bu.getDocs(dz,dC));})];return c0.Element(dA,bu.getAttrs(dz,dB),dD);};bu.createSplitter=function(dz,dA,dB,dC){var dD;dD=bu.pairOfDocs(dz,dC);return dB.$==1?bu.variableSplitter(dA,dB.$0,dB.$1,dB.$2,dD[0],dD[1]):bu.fixedSplitter(dA,dB.$0,dB.$1,dD[0],dD[1]);};bu.singleDoc=function(dz,dA){return c0.EmbedView(cV.Map(function(dB){var dC;return dB.$==1&&(dB.$1.$==0&&(dC=dB.$0,true))?dC:bu.errDoc((function(dD){return function(dE){return dD("expected exactly 1 element "+cA.printList(cA.prettyPrint,dE));};}(a.id))(dA));},cV.Map(function(){return bu.getDocs(dz,dA);},bm.mainDocV().get_View())));};bu.pairOfDocs=function(dz,dA){var dB;dB=cV.Map(function(dC){var dD;return dC.$==1&&(dC.$1.$==1&&(dC.$1.$1.$==0&&(dD=[dC.$0,dC.$1.$0],true)))?[dD[0],dD[1]]:[bu.errDoc((function(dE){return function(dF){return dE("splitter expects exactly 2 elements "+cA.printList(cA.prettyPrint,dF));};}(a.id))(dA)),bu.errDoc("part 2")];},cV.Map(function(){return bu.getDocs(dz,dA);},bm.mainDocV().get_View()));return[c0.EmbedView(cV.Map(function(dC){return dC[0];},dB)),c0.EmbedView(cV.Map(function(dC){return dC[1];},dB))];};bu.getDocs=function(dz,dA){var dB;return dA.$==0?cE.T.Empty:(dB=bu.getOneDoc(dz,dA),new cE.T({$:1,$0:dB[0],$1:bu.getDocs(dz,dB[1])}));};bu.getOneDoc=function(dz,dA){var dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN;return dA.$==1&&(dC=bu.Identifier(dA.$0),dC!=null&&dC.$==1&&(dB=[dC.$0,dA.$1],true))?(dD=dB[0],(dE=dB[1],(dF=(bu.splitName(dz))(dD),(dG=dF[0],(dH=dF[1],(dI=(dJ=bm.tryGetDoc(dG,dH),dJ==null?null:{$:1,$0:bu.getDocF(dE,dJ.$0)}),dI==null?(dK=(dL=bm.tryGetWoW(dG,dH),dL==null?null:{$:1,$0:[c0.TextView(dL.$0),dE]}),dK==null?[bu.errDoc((function(dO){return function(dP){return dO("Missing doc: "+cA.toSafe(dP));};}(a.id))(dD)),dE]:dK.$0):dI.$0)))))):dA.$==0?[c0.get_Empty(),cE.T.Empty]:(dM=dA.$1,(dN=bu.getTextData(dz,dA.$0),dN.$==1?[c0.TextView(dN.$0),dM]:dN.$==2?[bu.errDoc((function(dO){return function(dP){return dO("Unexpected action: "+cA.toSafe(dP));};}(a.id))(dN.$0.actName)),dM]:[c0.TextNode(dN.$0),dM]));};bu.turnToView=function(dz){return c0.EmbedView(cV.Map(dz,bm.mainDocV().get_View()));};bu.getDocFinal=function(dz,dA){var dB;dB=bu.getDocF(dz,dA);return dB[1].$==0?dB[0]:bu.errDoc((((cz.Curried3(function(dC,dD,dE){return dC("Too many parameters "+cx.p(dD)+" "+cA.printList(cA.prettyPrint,dE));}))(a.id))(dA))(dz));};bu.getDocF=function(dz,dA){var dB,dC;dC=dA.docDoc;switch(dC.$==1?dz.$==1?(dB=[dC.$0,dz.$0,dz.$1],1):6:dC.$==2?dz.$==1?dz.$1.$==1?(dB=[dC.$0,dz.$0,dz.$1.$0,dz.$1.$1],2):6:6:dC.$==3?dz.$==1?dz.$1.$==1?dz.$1.$1.$==1?(dB=[dC.$0,dz.$0,dz.$1.$0,dz.$1.$1.$0,dz.$1.$1.$1],3):6:6:6:dC.$==4?dz.$==1?dz.$1.$==1?dz.$1.$1.$==1?dz.$1.$1.$1.$==1?(dB=[dC.$0,dz.$0,dz.$1.$0,dz.$1.$1.$0,dz.$1.$1.$1.$0,dz.$1.$1.$1.$1],4):6:6:6:6:dC.$==5?dz.$==1?dz.$1.$==1?dz.$1.$1.$==1?dz.$1.$1.$1.$==1?dz.$1.$1.$1.$1.$==1?(dB=[dC.$0,dz.$0,dz.$1.$0,dz.$1.$1.$0,dz.$1.$1.$1.$0,dz.$1.$1.$1.$1.$0,dz.$1.$1.$1.$1.$1],5):6:6:6:6:6:(dB=[dC.$0,dz],0)){case 0:return[dB[0].f(),dB[1]];case 1:return[dB[0](dB[1]),dB[2]];case 2:return[(dB[0](dB[1]))(dB[2]),dB[3]];case 3:return[((dB[0](dB[1]))(dB[2]))(dB[3]),dB[4]];case 4:return[(((dB[0](dB[1]))(dB[2]))(dB[3]))(dB[4]),dB[5]];case 5:return[((((dB[0](dB[1]))(dB[2]))(dB[3]))(dB[4]))(dB[5]),dB[6]];case 6:return[c0.Element("div",[],[c0.TextNode((((cz.Curried3(function(dD,dE,dF){return dD("Parameters do not coincide with definition "+cx.p(dE)+" - "+cA.printList(cA.prettyPrint,dF));}))(a.id))(dA))(dz))]),cE.T.Empty];}};bu.getAttrs=function(dz,dA){return cE.ofSeq(cB.delay(function(){return cB.append(cB.choose(function(dB){var dC,dD,dE,dF,dG,dH;return!cM.Equals(dB,null)&&dB.length===2&&(dD=cD.get(dB,1),cI.Trim(cD.get(dB,0))!==""&&cI.Trim(dD)!=="")?(dE=cD.get(dB,1),(dF=cD.get(dB,0),{$:1,$0:(dG=bu.getTextData(dz,cI.Trim(dE)),dG.$==1?c1.Dynamic(cI.Trim(dF),dG.$0):dG.$==2?(dH=dG.$0,c1.Handler(cI.Trim(dF),function(dI){return function(dJ){return bm.callFunction(dI,dJ,dH.actFunction);};})):c2.Create(cI.Trim(dF),cI.Trim(dG.$0)))})):null;},cB.map(function(dB){return A.splitByChar("=",dB);},A.splitByChar(";",dA))),cB.delay(function(){return cB.choose(function(dB){var dC,dD,dE,dF,dG;return!cM.Equals(dB,null)&&dB.length===2&&(dD=cD.get(dB,1),cI.Trim(cD.get(dB,0))!==""&&cI.Trim(dD)!=="")?(dE=cD.get(dB,1),(dF=cD.get(dB,0),{$:1,$0:(dG=bu.getTextData(dz,cI.Trim(dE)),dG.$==1?c1.DynamicStyle(cI.Trim(dF),dG.$0):dG.$==2?c1.Style(cI.Trim(dF),(function(dH){return function(dI){return dH("${"+cA.toSafe(dI)+"}");};}(a.id))(dG.$0.actName)):c1.Style(cI.Trim(dF),cI.Trim(dG.$0)))})):null;},cB.map(function(dB){return A.splitByChar(":",dB);},A.splitByChar(";",dA)));}));}));};bu.getTextData=function(dz,dA){var dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN;dB=(dC=A.delimitedO("${","}",dA),dC==null?null:{$:1,$0:(dD=dC.$0,(dE=dD[0],(dF=dD[1],(dG=dD[2],(dH=(bu.splitName(dz))(dF),(dI=dH[0],(dJ=dH[1],(dK=(dL=bm.tryGetWoW(dI,dJ),dL==null?null:{$:1,$0:function(dO){var dP,dQ;dQ=bu.getTextData(dz,dG);switch(dE===""?dQ.$==1?(dP=dQ.$0,2):dQ.$==2?(dP=dQ.$0,3):dQ.$0===""?0:(dP=dQ.$0,1):dQ.$==1?(dP=dQ.$0,2):dQ.$==2?(dP=dQ.$0,3):(dP=dQ.$0,1)){case 0:return{$:1,$0:dO};case 1:return{$:1,$0:cV.Map(function(dR){return dE+dR+dP;},dO)};case 2:return{$:1,$0:cV.Map2(function(dR,dS){return dE+dR+dS;},dO,dP)};case 3:return{$:2,$0:dP};}}(dL.$0)}),dK==null?(dM=(dN=bm.tryGetAct(dI,dJ),dN==null?null:{$:1,$0:{$:2,$0:dN.$0}}),dM==null?{$:0,$0:((((cz.Curried(function(dO,dP,dQ,dR){return dO(cA.toSafe(dP)+" ${Missing "+cA.toSafe(dQ)+"}"+cA.toSafe(dR));},4))(a.id))(dE))(dF))(dG)}:dM.$0):dK.$0))))))))});return dB==null?{$:0,$0:dA}:dB.$0;};bu.splitTokens=function(dz){return cE.ofSeq(cB.collect(a.id,cB.mapi(function(dA,dB){var dC;return dA%2===1?[" "+dB]:(dC=cI.Trim(dB),dC===""?[]:cI.SplitChars(dC,[" "],1));},A.splitByChar("\"",dz))));};bu.splitName=function(dz){function dA(dC){return A.splitByChar(".",dC);}function dB(dC){return cD.length(dC)===1?[dz,cD.get(dC,0)]:[cD.get(dC,0),cD.get(dC,1)];}return function(dC){return dB(dA(dC));};};bu.errDoc=function(dz){return c0.Element("div",[],[c0.TextNode(dz)]);};bu.variableSplitter=function(dz,dA,dB,dC,dD,dE){return c0.Element("wcomp-splitter",cE.ofSeq(cB.delay(function(){return cB.append(dz?[c2.Create("vertical","")]:[],cB.delay(function(){return cB.append([c2.Create("min",a.String(dA))],cB.delay(function(){return cB.append([c2.Create("value",a.String(dB))],cB.delay(function(){return[c2.Create("max",a.String(dC))];}));}));}));})),cE.ofArray([dD,dE]));};bu.fixedSplitter=function(dz,dA,dB,dC,dD){var dE,dF,dG,dH,dI,dJ,dK;dE=(((dB?cz.Curried3(function(dL,dM,dN){return dL(dM.toFixed(6)+"px calc(100% - "+dN.toFixed(6)+"px)");}):cz.Curried3(function(dL,dM,dN){return dL("calc(100% - "+dM.toFixed(6)+"px) "+dN.toFixed(6)+"px");}))(a.id))(dA))(dA);return dz?(dF=da.Make().WithHole({$:1,$0:"partsizes",$1:dE}).WithHole({$:0,$0:"first",$1:dC}).WithHole({$:0,$0:"second",$1:dD}),(dG=db.CompleteHoles(dF.k,dF.h,[]),(dH=new dc.New(dG[1],cv.fixedsplitterver(dG[0])),(dF.i=dH,dH)))).get_Doc():(dI=da.Make().WithHole({$:1,$0:"partsizes",$1:dE}).WithHole({$:0,$0:"first",$1:dC}).WithHole({$:0,$0:"second",$1:dD}),(dJ=db.CompleteHoles(dI.k,dI.h,[]),(dK=new dc.New(dJ[1],cv.fixedsplitterhor(dJ[0])),(dI.i=dK,dK)))).get_Doc();};bu.Measures$1=function(dz){var dA,dB,dC,dD,dE,dF,dG,dH,dI;dA=A.splitByChar("-",dz);return!cM.Equals(dA,null)&&dA.length===1&&(dC=(B.Double())(cD.get(dA,0)),dC!=null&&dC.$==1&&(dB=dC.$0,true))?{$:1,$0:{$:0,$0:dB,$1:true}}:!cM.Equals(dA,null)&&dA.length===2&&(cD.get(dA,0)===""&&(dE=(B.Double())(cD.get(dA,1)),dE!=null&&dE.$==1&&(dD=dE.$0,true)))?{$:1,$0:{$:0,$0:dD,$1:false}}:!cM.Equals(dA,null)&&dA.length===3&&(dG=(B.Double())(cD.get(dA,0)),dG!=null&&dG.$==1&&(dH=(B.Double())(cD.get(dA,1)),dH!=null&&dH.$==1&&(dI=(B.Double())(cD.get(dA,2)),dI!=null&&dI.$==1&&(dF=[dI.$0,dG.$0,dH.$0],true))))?{$:1,$0:{$:1,$0:dF[1],$1:dF[2],$2:dF[0]}}:null;};bu.Doc=function(dz){return dz==="Doc"?{$:0,$0:null}:dz==="button"?{$:1,$0:null}:dz==="input"?{$:2,$0:null}:dz==="textarea"?{$:3,$0:null}:dz==="select"?{$:4,$0:null}:{$:5,$0:null};};bu.Vertical=function(dz){var dA;return dz==="vertical"?{$:0,$0:null}:dz==="horizontal"?{$:1,$0:null}:dz==="grid"?{$:2,$0:null}:(dA=bu.Identifier(dz),dA!=null&&dA.$==1?{$:3,$0:dA.$0}:{$:4,$0:null});};bu.Identifier=function(dz){var dA,dB,dC;return(dB=W.REGEX$1("^[$a-zA-Z_][0-9a-zA-Z_\\.\\-$]*$","",dz),dB!=null&&dB.$==1&&((dC=dB.$0,!cM.Equals(dC,null)&&dC.length===1)&&(dA=cD.get(dB.$0,0),true)))?{$:1,$0:dA}:null;};W.rexGuid=function(){cs.$cctor();return cs.rexGuid;};W.REGEX$1=function(dz,dA,dB){var dC;if(dB===null)return null;else try{dC=(new a.String(dB)).match(new a.RegExp(dz,dA));return cM.Equals(dC,null)?null:!cM.Equals(dC,null)&&dC.length===0?null:{$:1,$0:dC};}catch(dD){return null;}};W.bindVarEditor=function(dz,dA,dB,dC,dD){var dE,dF;dE=[0];dF=[0];dz(function(){var dG;dG=dA();dD.Get()!==dG?(dE[0]=dE[0]+1,dD.Set(dG),dC()):void 0;});cV.Sink(function(){if(dE[0]>dF[0])dF[0]=dE[0];else if(dA()!==dD.Get())dB(dD.Get());},dD.get_View());};bw.extractConfig=function(dz,dA){var dB;dB=dA.$0;return{$:0,$0:N.getSourceDir(dz,A.splitByChar("\n",dB)),$1:" --nologo --quiet "+N.extractDefines({$:0,$0:dB})};};by=bx.Address=cz.Class({get_txt:function(){return this.$0;}},null,by);bz.BRGetConnections={$:0};bA.MsgRequestForEcho={$:5};bA.MsgRequestForId={$:4};bA.MsgFromBroker={$:3};bA.MsgReply={$:2};bA.MsgRequest={$:1};bA.MsgInformation={$:0};bB.BMReceiverCantReply={$:4};bB.BMOnlyBrokerShouldUse={$:1};bB.BMOk={$:0};bC.Receiver={$:2};bC.Broker={$:1};bC.NoReply={$:0};bD.New=function(dz,dA,dB,dC,dD,dE,dF){return{from:dz,destination:dA,msgType:dB,subtype:dC,id:dD,payload:dE,replier:dF};};bE.FSharp={$:0};bF.FSStation={$:0};bG.JScript={$:0};bI=bH.Handler=cz.Class({Cancel:function(dz,dA){var dB;dB=this.waitingAgent;dB.mailbox.AddLast({$:3,$0:dz,$1:dA});dB.resume();},Raise:function(dz,dA){var dB;dB=this.waitingAgent;dB.mailbox.AddLast({$:2,$0:dz,$1:dA});dB.resume();},Reply:function(dz,dA){var dB;dB=this.waitingAgent;dB.mailbox.AddLast({$:1,$0:dz,$1:dA});dB.resume();},Add:function(dz,dA){var dB;dB=this.waitingAgent;dB.mailbox.AddLast({$:0,$0:dz,$1:dA});dB.resume();}},i,bI);bI.New=cz.Ctor(function(dz){i.New.call(this);this.waitingAgent=D.fold(D.defHandler,function(dA,dB){var dC,dD,dE;function dF(dG,dH,dI){var dJ,dK;dJ=(dK=de.TryFind(dG,dA),dK==null?null:{$:1,$0:dH(dK.$0)});dJ==null?dI():void 0;return dA.Remove(dG);}return dB.$==1?(dC=dB.$1,dF(dB.$0,function(dG){dG[0](dC);},function(){dz(dC);})):dB.$==2?(dD=dB.$1,dF(dB.$0,function(dG){dG[1](dD);},a.ignore)):dB.$==3?(dE=dB.$1,dF(dB.$0,function(dG){dG[2](dE);},a.ignore)):dA.Add(dB.$0,dB.$1);},new cX.New([]));},bI);bJ=bx.WSMessagingClient=cz.Class({sendMsg:function(dz){var dA,dB;dA=this;dB=e.asyncResult();return dB.Run(dB.Delay(function(){return dz.replier.$===0?dB.Bind$1(dA.sendAndForget(dz),function(){return dB.Return("");}):dB.ReturnFrom$1(dA.sendGetReply(dz));}));},getListeners:function(){var dz,dA;dz=this;dA=e.asyncResult();return dA.Run(dA.Delay(function(){var dB,dC;return dA.Bind$1(dz.sendGetReply((dB=bx.MessageBrokerAddress(),(dC=df.stringify((ct.j$9())(bz.BRGetConnections)),bD.New(new by({$:0,$0:""}),dB,bA.MsgRequest,"",cO.NewGuid(),dC,bC.NoReply)))),function(dD){return dA.Return((cu.j$7())(df.parse(dD)).$0);});}));},sendGetReply:function(dz){var dA,dB;dA=this;dB=e.asyncResult();return dB.Run(dB.Delay(function(){return dB.Bind$1(dA.sendAndReply(bC.Receiver,dz),function(dC){var dD;return dB.Bind((dD=dC.msgType,dD.$==2?{$:0,$0:dC.payload}:dD.$==3?{$:1,$0:new d({$:2,$0:(cu.j$8())(df.parse(dC.payload))})}:{$:1,$0:new d({$:2,$0:{$:5,$0:dC.msgType}})}),function(dE){return dB.Return(dE);});});}));},sendAndVerify:function(dz){var dA,dB;dA=this;dB=e.asyncResult();return dB.Run(dB.Delay(function(){return dB.Bind$1(dA.sendAndReply(bC.Broker,dz),function(dC){var dD;return dB.Bind(dC.msgType.$==3?(dD=(cu.j$8())(df.parse(dC.payload)),dD.$===0?{$:0,$0:null}:{$:1,$0:new d({$:2,$0:dD})}):{$:1,$0:new d({$:2,$0:{$:5,$0:dC.msgType}})},function(){return dB.Return();});});}));},sendAndReply:function(dz,dA){var dB,dC;dB=this;dC=e.asyncResult();return dC.Run(dC.Delay(function(){return dC.Bind$1(dB.getServer(),function(dD){return p["AsyncResultBuilder.ReturnFrom"](dC,cC.FromContinuations(function(dE,dF,dG){var dH;dB.waiting.Add(dA.id,[dE,dF,dG]);dB.postR(dD,dz,dA);return dB.wsTimeout>0?cC.Start((dH=null,cC.Delay(function(){return cC.Bind(cC.Sleep(dB.wsTimeout),function(){dB.waiting.Raise(dA.id,new dg.New$1((((cz.Curried3(function(dI,dJ,dK){return dI("Did not receive reply in "+a.String(dJ)+" seconds for Message: "+cx.p$1(dK));}))(a.id))(dB.wsTimeout/1000>>0))(dA)));return cC.Zero();});})),null):null;}));});}));},sendAndForget:function(dz){var dA,dB;dA=this;dB=e.asyncResult();return dB.Run(dB.Delay(function(){return dB.Bind$1(dA.getServer(),function(dC){dA.postR(dC,bC.NoReply,dz);return dB.Zero();});}));},postR:function(dz,dA,dB){try{dz.FsRoot_Library2_WebSockets_IServer$Post(bx.replier(dA,bx.from(this.clientAddress,dB)));}catch(dC){this.serverO=null;throw dC;}},getServer:function(){return this.checkServer.PostAndAsyncReply(function(dz){return[dz,null];},null);},connectToWebSocketServer:function(){var dz,dA;dz=this;(function(dB){return dB("in connectToWebSocketServer");}(function(dB){cT.log(dB);}));dA=null;return cC.Delay(function(){return cC.Bind(((dz.connectStateful(dz.wsEndPoint))(dz.clientId))(function(dB){var dC;dC=null;return cC.Delay(function(){return cC.Return([0,function(dD){return function(dE){var dF;dF=null;return cC.Delay(function(){return cC.Combine(cC.TryWith(cC.Delay(function(){return dE.$==2?((function(dG){return function(dH){return dG("WebSocket "+cA.toSafe(dH)+" connection open.");};}(function(dG){cT.log(dG);}))(dz.clientId),dz.serverO={$:1,$0:dB},cC.Zero()):dE.$==3?((function(dG){return function(dH){return dG("WebSocket "+cA.toSafe(dH)+" connection closed.");};}(function(dG){cT.log(dG);}))(dz.clientId),dz.close(),cC.Zero()):dE.$==1?((function(dG){return function(dH){return dG("WebSocket "+cA.toSafe(dH)+" connection error!");};}(function(dG){cT.log(dG);}))(dz.clientId),cC.Zero()):(dz.processMessage(dE.$0),cC.Zero());}),function(dG){(((cz.Curried3(function(dH,dI,dJ){return dH("msg: "+cw.p$9(dI)+" \nexn:"+cA.prettyPrint(dJ));}))(function(dH){cT.log(dH);}))(dE))(dG);return cC.Zero();}),cC.Delay(function(){return cC.Return(dD);}));});};}]);});}),function(){(function(dB){return dB("connectToWebSocketServer with server");}(function(dB){cT.log(dB);}));return cC.Zero();});});},processMessage:function(dz){var dA,dB,dC,dD,dE,dH;dB=this;dC=dz.msgType;function dF(dI){dB.reply(dI);}function dG(dI){return cC.Return(dI);}switch(dC.$==2?0:dC.$==0?1:dC.$==1?2:dC.$==5?3:dC.$==4?4:0){case 0:this.processReply(dz);break;case 1:(((cz.Curried3(function(dI,dJ,dK){return dI("Information from '"+cA.toSafe(dJ)+"': "+cA.toSafe(dK));}))(function(dI){cT.log(dI);}))(dz.from.get_txt()))(((di.Id())())(df.parse(dz.payload)));break;case 2:dD=this.payloadProcessorO;dD!=null&&dD.$==1?cC.Start(cC.Bind(dB.mapPayloadWrap(dD.$0,dz),(dE=function(dI){return dF(bx.makeReply(dI));},function(dI){return dG(dE(dI));})),null):dz.replier.$===2?null:null;break;case 3:dB.reply(bx.msgType(bA.MsgInformation,bx.mapPayload(a.id,dz)));break;case 4:dB.reply(bx.msgType(bA.MsgInformation,(dH=bx.makeReply(dz),bD.New(dH.from,dH.destination,dH.msgType,dH.subtype,dH.id,df.stringify(((di.Id())())(this.clientId)),dH.replier))));break;}},mapPayloadWrap:function(dz,dA){var dB;dB=null;return cC.Delay(function(){return cC.Bind(dz(dA.payload),function(dC){return cC.Return(bx.mapPayload(function(){return dC;},dA));});});},processReply:function(dz){this.waiting.Reply(dz.id,dz);},close:function(){var dz;dz=this.serverO;dz==null?void 0:(dz.$0.FsRoot_Library2_WebSockets_IServer$Close(),this.serverO=null);},reply:function(dz){var dA;dA=this.serverO;dA==null?void 0:dA.$0.FsRoot_Library2_WebSockets_IServer$Post(bx.destination(dz.from,bx.from(this.clientAddress,dz)));},set_Out:function(dz){this.out=dz;},SendMsg:function(dz){return this.sendMsg(dz);},get_ClientId:function(){return this.clientId;},get_EndPoint:function(){return this.wsEndPoint;},get_MBListeners:function(){return this.getListeners();},Dispose:function(){this.close();}},i,bJ);bJ.New=cz.Ctor(function(dz,dA,dB){bJ.New$1.call(this,cz.Curried3(function(dC,dD,dE){function dF(dH){}function dG(dH){return cC.Return(dH);}return cC.Bind(dm.ConnectStateful(function(dH){return df.stringify((ct.j())(dH));},function(dH){return(cu.j())(df.parse(dH));},dn.CreateRemote((((cz.Curried3(function(dH,dI,dJ){return dH("ws://"+cA.toSafe(dI)+"?ClientId="+cA.toSafe(dJ));}))(a.id))(dC))(dD),{$:1,$0:dk.JsonEncoding.Readable}),function(dH){var dI;return dE((dI={FsRoot_Library2_WebSockets_IServer$Post:function(dJ){return dH.Post(dJ);},FsRoot_Library2_WebSockets_IServer$Close:function(){return dH.get_Connection().close(1000);}},(i.New.call(dI),dI)));}),function(dH){return dG(dF(dH));});}),dz,dA,dB);},bJ);bJ.New$1=cz.Ctor(function(dz,dA,dB,dC){var dD,dE;dD=this;i.New.call(this);this.connectStateful=dz;this.clientId=dA;this.wsEndPoint=(dE=bx.extractEndPoint()+"/ws",dC==null?dE:dC.$0);this.clientAddress=new by({$:0,$0:this.clientId});this.wsTimeout=dB==null?60000:dB.$0;this.out=function(dF){return function(dG){return dF(cA.toSafe(dG));};}(function(dF){cT.log(dF);});this.serverO=null;this.payloadProcessorO=null;this.waiting=new bI.New(function(dF){(((cz.Curried3(function(dG,dH,dI){return dG("Reply from '"+cA.toSafe(dH)+"': "+cA.toSafe(dI));}))(function(dG){cT.log(dG);}))(dF.from.get_txt()))(dF.payload);});this.checkServer=D.callA(function(dF){c.print(dF);},function(){var dF;dF=null;return cC.Delay(function(){(function(dG){return dG("getServer");}(function(dG){cT.log(dG);}));return cC.Combine(dD.serverO==null?(function(dG){return dG("getServer Connecting");}(function(dG){cT.log(dG);}),cC.Bind(dD.connectToWebSocketServer(),function(){return cC.Bind(cC.Sleep(200),function(){return cC.Return(null);});})):cC.Zero(),cC.Delay(function(){return cC.Return(j.ofOption(function(){return new d({$:0,$0:"could not connect to Server"});},dD.serverO));}));});});},bJ);bx.extractEndPoint=function(){return cD.get(cI.SplitChars(_do.href.substring(_do.href.indexOf("//")+2),["/"],0),0);};bx.makeReply=function(dz){return bx.replier(bC.NoReply,bx.msgType(bA.MsgReply,dz));};bx.mapPayload=function(dz,dA){return bD.New(dA.from,dA.destination,dA.msgType,dA.subtype,dA.id,dz(dA.payload),dA.replier);};bx.msgId=function(dz,dA){return bD.New(dA.from,dA.destination,dA.msgType,dA.subtype,dz,dA.payload,dA.replier);};bx.replier=function(dz,dA){return bD.New(dA.from,dA.destination,dA.msgType,dA.subtype,dA.id,dA.payload,dz);};bx.subtype=function(dz,dA){return bD.New(dA.from,dA.destination,dA.msgType,dz,dA.id,dA.payload,dA.replier);};bx.msgType=function(dz,dA){return bD.New(dA.from,dA.destination,dz,dA.subtype,dA.id,dA.payload,dA.replier);};bx.destination=function(dz,dA){return bD.New(dA.from,dz,dA.msgType,dA.subtype,dA.id,dA.payload,dA.replier);};bx.from=function(dz,dA){return bD.New(dz,dA.destination,dA.msgType,dA.subtype,dA.id,dA.payload,dA.replier);};bx.MessageBrokerAddress=function(){cs.$cctor();return cs.MessageBrokerAddress;};bx.MessageBrokerId=function(){cs.$cctor();return cs.MessageBrokerId;};bM.New=function(dz,dA){return{Code:dz,Message:dA};};bN.New=function(dz,dA,dB){return{File:dz,Line:dA,Column:dB};};bO.New=function(dz,dA,dB,dC){return{Name:dz,ReplacementText:dA,Glyph:dB,GlyphChar:dC};};bP.New=function(dz,dA,dB){return{Signature:dz,Comment:dA,Footer:dB};};bQ.New=function(dz,dA,dB,dC){return{Name:dz,CanonicalTypeTextForSorting:dA,Display:dB,Description:dC};};bR.New=function(dz,dA,dB,dC){return{Tip:dz,TypeText:dA,Parameters:dB,IsStaticArguments:dC};};bS.New=function(dz,dA){return{Name:dz,Type:dA};};bT.New=function(dz,dA){return{OutputType:dz,Parameters:dA};};bU.New=function(dz,dA,dB){return{Name:dz,CurrentParameter:dA,Overloads:dB};};bV.New=function(dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ){return{FileName:dz,StartLine:dA,StartColumn:dB,EndLine:dC,EndColumn:dD,IsFromDefinition:dE,IsFromAttribute:dF,IsFromComputationExpression:dG,IsFromDispatchSlotImplementation:dH,IsFromPattern:dI,IsFromType:dJ};};bW.New=function(dz,dA){return{Name:dz,Uses:dA};};bX.New=function(dz,dA){return{Name:dz,Overloads:dA};};bY.New=function(dz,dA,dB){return{Fsc:dz,Fsi:dA,MSBuild:dB};};bZ.New=function(dz,dA,dB,dC,dD,dE,dF,dG){return{FileName:dz,StartLine:dA,EndLine:dB,StartColumn:dC,EndColumn:dD,Severity:dE,Message:dF,Subcategory:dG};};b0.New=function(dz,dA){return{File:dz,Errors:dA};};b1.New=function(dz){return{Kind:dz};};b2.New=function(dz,dA,dB,dC,dD,dE,dF,dG){return{UniqueName:dz,Name:dA,Glyph:dB,GlyphChar:dC,IsTopLevel:dD,File:dE,EnclosingEntity:dF,IsAbstract:dG};};b3.New=function(dz,dA){return{Declaration:dz,Nested:dA};};b4.New=function(dz,dA,dB,dC,dD,dE){return{Namespace:dz,Name:dA,Type:dB,Line:dC,Column:dD,MultipleNames:dE};};b5.New=function(dz,dA){return{Name:dz,Qualifier:dA};};b6.New=function(dz,dA,dB){return{Opens:dz,Qualifies:dA,Word:dB};};b7.New=function(dz){return{Text:dz};};b8.symbolUseProject=function(dz,dA,dB,dC){return b8.FSAutocompleteCall("symboluseproject",function(dD){return dD.$==4?{$:1,$0:dD.$0}:null;},{$:3,$0:{FileName:dz,Line:dA,Column:dB,Filter:dC}});};b8.symbolUse=function(dz,dA,dB,dC){return b8.FSAutocompleteCall("symboluse",function(dD){return dD.$==4?{$:1,$0:dD.$0}:null;},{$:3,$0:{FileName:dz,Line:dA,Column:dB,Filter:dC}});};b8.helpText=function(dz){return b8.FSAutocompleteCall("helptext",function(dA){return dA.$==2?{$:1,$0:dA.$0}:null;},{$:6,$0:{Symbol:dz}});};b8.declarations=function(dz,dA,dB){return b8.FSAutocompleteCall("declarations",function(dC){return dC.$==10?{$:1,$0:dC.$0}:null;},{$:1,$0:{FileName:dz,Lines:dA,Version:dB}});};b8.findDeclaration=function(dz,dA,dB,dC){return b8.FSAutocompleteCall("finddeclaration",function(dD){return dD.$==9?{$:1,$0:dD.$0}:null;},{$:3,$0:{FileName:dz,Line:dA,Column:dB,Filter:dC}});};b8.findTypeDecl=function(dz,dA,dB,dC){return b8.FSAutocompleteCall("findtypedeclaration",function(dD){return dD.$==9?{$:1,$0:dD.$0}:null;},{$:3,$0:{FileName:dz,Line:dA,Column:dB,Filter:dC}});};b8.completion=function(dz,dA,dB,dC,dD,dE){return b8.FSAutocompleteCall("completion",function(dF){return dF.$==3?{$:1,$0:dF.$0}:null;},{$:2,$0:{FileName:dB,SourceLine:dz,Line:dC,Column:dD,Filter:dE,IncludeKeywords:dA}});};b8.signatureData=function(dz,dA,dB,dC){return b8.FSAutocompleteCall("signatureData",function(dD){return dD.$==13?{$:1,$0:dD.$0}:null;},{$:3,$0:{FileName:dz,Line:dA,Column:dB,Filter:dC}});};b8.signature=function(dz,dA,dB,dC){return b8.FSAutocompleteCall("signature",function(dD){return dD.$==12?{$:1,$0:dD.$0}:null;},{$:3,$0:{FileName:dz,Line:dA,Column:dB,Filter:dC}});};b8.toolTip=function(dz,dA,dB,dC){return b8.FSAutocompleteCall("tooltip",function(dD){return dD.$==11?{$:1,$0:dD.$0}:null;},{$:3,$0:{FileName:dz,Line:dA,Column:dB,Filter:dC}});};b8.parseCode=function(dz,dA,dB,dC){return b8.FSAutocompleteCall("parse",function(dD){return dD.$==7?{$:1,$0:dD.$0}:null;},{$:0,$0:{FileName:dz,IsAsync:dB,Lines:dA,Version:dC}});};b8.FSAutocompleteCall=function(dz,dA,dB){var dC;dC=e.asyncResult();return dC.Run(dC.Delay(function(){return dC.Bind$1((new dq.New()).Async("FSharpStation:FsRoot.Library2+FsAutoComplete.FSAutocompleteCall0:10255296",[dz,dB]),function(dD){var dE,dF;function dG(dH){return dH!=null;}dE=cD.partition(function(dH){return dG(dA(dH));},dD);dF=dE[1];return dC.Bind(j.ofOption(function(){return new d({$:2,$0:dF});},cB.tryHead(cB.choose(dA,dE[0]))),function(dH){return dC.Return([dH,dF]);});});}));};b_.annotationsV=function(){cs.$cctor();return cs.annotationsV;};b_.srcDir=function(){cs.$cctor();return cs.srcDir;};b_.set_srcDir=function(dz){cs.$cctor();cs.srcDir=dz;};b_.rootDir=function(){cs.$cctor();return cs.rootDir;};b_.set_rootDir=function(dz){cs.$cctor();cs.rootDir=dz;};b_.id=function(){cs.$cctor();return cs.id;};b$.expandParents=function(dz){b$.iterReader(w.op_BarGreaterGreater(S.pathRm(dz),function(dA){var dB;dB=cQ.op_Subtraction(b$.collapsedV().Get(),new cQ.New(dA));b$.collapsedV().Set(dB);}));};b$.toggleCollapse=function(dz){var dA;dA=((b$.collapsedV().Get().Contains(dz)?function(dB){return function(dC){return dC.Remove(dB);};}:function(dB){return function(dC){return dC.Add(dB);};})(dz))(b$.collapsedV().Get());b$.collapsedV().Set(dA);};b$.newSnippet=function(dz){var dA;dA=S.New("","",null);b$.iterReader(w.op_BarGreaterGreater(b$.addSnippetRm(dA),function(){b$.currentSnippetIdOV().Set({$:1,$0:dA.snpId});}));};b$.addSnippetRm=function(dz){var dA,dB,dC;b$.snippets().Append(dz);dA=(dB=b$.hierarchy().Get(),cB.append([b$.treenode(dz.snpId)],dB));return w.op_BarGreaterGreater(w.op_BarGreaterGreater(w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(u.insertO((dC=b$.currentSnippetIdOV().Get(),dC==null?null:{$:1,$0:S.snippetORm(dC.$0)})),function(dD){return dD==null?null:a.id(dD.$0);}),function(dD){return dD!=null&&dD.$==1?U.moveToSibling2(true,dz.snpId,dD.$0.snpId,dA):w.rtn(dA);}),cD.ofSeq),function(dD){b$.hierarchy().Set(dD);});};b$.setSnippetsGen=function(dz,dA){function dB(dC){return b$.treenode(dC.snpId);}b$.collapsedV().Set(dA);b$.snippets().Set(dz);b$.updateGeneration();b$.iterReader(w.op_BarGreaterGreater(w.op_BarGreaterGreater(w.op_BarGreaterGreater(w.op_BarGreaterGreater(u.sequenceSeq(cB.map(function(dC){return w.op_BarGreaterGreater(S.parentORm(dC),function(dD){return dD==null?{$:1,$0:dC}:null;});},dz)),function(dC){return cB.choose(a.id,dC);}),function(dC){return cB.map(dB,dC);}),cD.ofSeq),function(dC){b$.hierarchy().Set(dC);}));};b$.updateGeneration=function(){var dz;b$.iterReader((dz=w.reader(),dz.Run(dz.Delay(function(){return dz.Bind(S.maxGenerationRm(),function(dA){b$.generation().Set(dA);return dz.Zero();});}))));};b$.moveNode=function(dz,dA){b$.iterReader(w.op_BarGreaterGreater(w.op_BarGreaterGreater(U.moveToSibling2(false,dz,dA,b$.hierarchy().Get()),cD.ofSeq),function(dB){b$.hierarchy().Set(dB);}));};b$.indentOut=function(dz){var dA,dB;dA=b$.currentSnippetIdOV().Get();dA==null?void 0:b$.iterReader(w.op_BarGreaterGreater(w.op_BarGreaterGreater((dB=b$.hierarchy().Get(),U.outdentNode(b$.treenode(dA.$0),dB)),cD.ofSeq),function(dC){b$.hierarchy().Set(dC);}));};b$.indentIn=function(dz){var dA,dB;dA=b$.currentSnippetIdOV().Get();dA==null?void 0:b$.iterReader(w.op_BarGreaterGreater(w.op_BarGreaterGreater((dB=b$.hierarchy().Get(),U.indentNode(b$.treenode(dA.$0),dB)),cD.ofSeq),function(dC){b$.hierarchy().Set(dC);}));};b$.deleteCurrentSnippet=function(dz){var dA,dB,dC;dA=b$.currentSnippetIdOV().Get();dA==null?void 0:(dB=dA.$0,b$.iterReader(w.op_BarGreaterGreater(w.op_BarGreaterGreater(w.op_BarGreaterGreater((dC=b$.hierarchy().Get(),U.removeNodeOutdentChildren(b$.treenode(dB),dC)),cD.ofSeq),function(dD){b$.hierarchy().Set(dD);}),function(){b$.snippets().RemoveByKey(dB);})));};b$.expandClassW=function(dz){var dA;dA=b$.snippets().v;return cV.Map2(function(){return b$.runReader(b$.handleError,b$.expandClassRm(dz));},b$.collapsedV().get_View(),dA);};b$.expandClassRm=function(dz){return w.op_GreaterGreaterEquals(S.childrenRm(dz),function(dA){return cB.isEmpty(dA)?w.rtn(""):w.op_BarGreaterGreater(b$.treenode(dz).isExpandedRm(),function(dB){return dB?"expanded":"collapsed";});});};b$.togglePredecessor=function(dz){var dA,dB;dA=cW.Lens(b$.currentSnippetV(),function(dC){return dC.snpPredIds;},function(dC,dD){return Q.New(dC.snpId,dC.snpName,dC.snpContent,dC.snpParentIdO,dD,dC.snpProperties,dC.snpGeneration);});dA.Set((dB=dA.Get(),((dA.Get().Contains(dz)?function(dC){return function(dD){return dD.Remove(dC);};}:function(dC){return function(dD){return dD.Add(dC);};})(dz))(dB)));b$.clearPredsCache();};b$.isIncludedPredecessorW=function(dz){return cV.Map(function(dA){return b$.runReader(function(){return false;},w.op_BarGreaterGreater(S.uniquePredsRm(dA),function(dB){return cB.contains(dz,dB);}));},b$.codeSnippetW());};b$.isIndirectPredecessorW=function(dz){return cV.Map(function(dA){return b$.runReader(function(){return false;},w.op_BarGreaterGreater(S.uniquePredsRm(dA),function(dB){return cB.contains(dz,dB);}));},b$.currentSnippetW());};b$.treenode=function(dz){return V.New(function(){return dz;},function(){return w.rtn(!b$.collapsedV().Get().Contains(dz));},function(){return w.rtn(true);},function(){function dA(dB){return b$.treenode(dB.snpId);}return w.op_BarGreaterGreater(S.childrenRm(dz),function(dB){return cB.map(dA,dB);});},function(){return S.pathRm(dz);},function(){function dA(dB){return dB.snpParentIdO;}return w.op_BarGreaterGreater(w.op_BarGreaterGreater(S.snippetORm(dz),function(dB){return dB==null?null:dA(dB.$0);}),function(dB){return dB==null?null:{$:1,$0:b$.treenode(dB.$0)};});},function(dA){return w.op_BarGreaterGreater(b$.setChildrenRm(dz,dA),function(){return b$.treenode(dz);});});};b$.setChildrenRm=function(dz,dA){var dB;dB=w.reader();return dB.Run(dB.Delay(function(){var dC,dD,dE,dF,dG,dH;dC=cD.map(function(dI){return dI.id();},dA);cB.iter(function(dI){b$.setSnippet(dI);},cB.map(function(dI){return Q.New(dI.snpId,dI.snpName,dI.snpContent,{$:1,$0:dz},dI.snpPredIds,dI.snpProperties,dI.snpGeneration);},cB.filter(function(dI){return!cM.Equals(dI.snpParentIdO,{$:1,$0:dz})&&cD.contains(dI.snpId,dC);},b$.snippets())));cB.iter(function(dI){b$.setSnippet(dI);},cB.map(function(dI){return Q.New(dI.snpId,dI.snpName,dI.snpContent,null,dI.snpPredIds,dI.snpProperties,dI.snpGeneration);},cB.filter(function(dI){return cM.Equals(dI.snpParentIdO,{$:1,$0:dz})&&!cD.contains(dI.snpId,dC);},b$.snippets())));b$.clearPredsCache();dD=cD.partition(function(dI){return b$.isDescendantOf(dz,dI.snpId);},cD.ofSeq((b$.snippets())["var"].Get()));dE=dD[1];dF=dD[0];dG=cD.findIndex(function(dI){return cM.Equals(dI.snpId,dz);},dE);dH=cD.ofSeq(cB.delay(function(){return cB.append(cJ.array(dE,{$:1,$0:0},{$:1,$0:dG}),cB.delay(function(){return cB.append(cB.collect(function(dI){return cB.append([cB.find(function(dJ){return cM.Equals(dJ.snpId,dI);},dF)],cB.delay(function(){return cB.filter(function(dJ){return b$.isDescendantOf(dI,dJ.snpId);},dF);}));},dC),cB.delay(function(){return cJ.array(dE,{$:1,$0:dG+1},null);}));}));}));b$.snippets().Set(dH);return dB.Zero();}));};b$.SaveAsClassW=function(){cs.$cctor();return cs.SaveAsClassW;};b$.hasChangedW=function(dz){return cV.Map(function(dA){return dA<dz.snpGeneration;},b$.generation().get_View());};b$.codeStartsW=function(){cs.$cctor();return cs.codeStartsW;};b$.FsCodeW=function(){cs.$cctor();return cs.FsCodeW;};b$.codeAndStartsW=function(){cs.$cctor();return cs.codeAndStartsW;};b$.getHierarchyW=function(){cs.$cctor();return cs.getHierarchyW;};b$.findSnippetV=function(dz){return new c8.New(b$.findSnippetW(dz),function(dA){b$.setSnippet(dA);});};b$.findSnippetW=function(dz){return cV.Map(function(dA){var dB;dB=S.defaultSnippet();return dA==null?dB:dA.$0;},b$.snippets().TryFindByKeyAsView(dz));};b$.codeSnippetClassW=function(dz){return cV.Map(function(dA){return cM.Equals({$:1,$0:dz},dA)?"codeSnippet":"";},b$.codeSnippetIdOV().get_View());};b$.selectedClassW=function(dz){return cV.Map(function(dA){return cM.Equals({$:1,$0:dz},dA)?"selected":"";},b$.currentSnippetIdOV().get_View());};b$.currentSnippetV=function(){cs.$cctor();return cs.currentSnippetV;};b$.codeSnippetW=function(){cs.$cctor();return cs.codeSnippetW;};b$.currentSnippetW=function(){cs.$cctor();return cs.currentSnippetW;};b$.CurrentSnippetIdW=function(){cs.$cctor();return cs.CurrentSnippetIdW;};b$.isDescendantOf=function(dz,dA){var dB,dC,dD;return cM.Equals(dA,dz)?false:(dB=(dC=(b$.getParentIdO())(dA),dC==null?null:{$:1,$0:(dD=dC.$0,cM.Equals(dD,dz)||b$.isDescendantOf(dz,dD))}),dB==null?false:dB.$0);};b$.getParentIdO=function(){cs.$cctor();return cs.getParentIdO;};b$.getParentIdONotMemo=function(dz){var dA;dA=b$.snippets().TryFindByKey(dz);return dA==null?null:dA.$0.snpParentIdO;};b$.getSnippetsGen=function(){return[(b$.snippets())["var"].Get(),b$.generation().Get(),b$.collapsedV().Get()];};b$.setSnippet=function(dz){if(!cM.Equals(dz.snpId.get_Id(),"00000000-0000-0000-0000-000000000000"))b$.snippets().Append(Q.New(dz.snpId,dz.snpName,dz.snpContent,dz.snpParentIdO,dz.snpPredIds,dz.snpProperties,b$.generation().Get()+1));};b$.setCurrentSnippetIdO=function(dz){b$.currentSnippetIdOV().Set(dz);};b$.runReader=function(dz,dA){return j.defaultWith(dz,b$.runReaderResult(dA));};b$.runReaderResult=function(dz){return u.run(b$.snippetsColl(),dz);};b$.iterReader=function(dz){u.iter(function(dA){b$.handleError(dA);},a.ignore,b$.snippetsColl(),dz);};b$.handleError=function(dz){throw new a.Error(a.String(dz));};b$.snippetsColl=function(){return R.New(b$.generation().Get(),(b$.snippets())["var"].Get(),function(dz){return b$.snippets().TryFindByKey(dz);},b$.predsCache,b$.reducCache,b$.prepCode);};b$.prepCode=function(dz){return cI.Replace(cI.Replace(dz.snpContent,"##"+"FSHARPSTATION_ID"+"##",b_.id()),"##"+"FSHARPSTATION_ENDPOINT"+"##",self.location.href);};b$.clearPredsCache=function(){(b$.clearPreds())();(b$.clearReduc())();(b$.clearParent())();};b$.clearParent=function(){cs.$cctor();return cs.clearParent;};b$.parentCache=function(){cs.$cctor();return cs.parentCache;};b$.clearReduc=function(){cs.$cctor();return cs.clearReduc;};b$.reducCache=function(){cs.$cctor();return cs.reducCache;};b$.clearPreds=function(){cs.$cctor();return cs.clearPreds;};b$.predsCache=function(){cs.$cctor();return cs.predsCache;};b$.collapsedV=function(){cs.$cctor();return cs.collapsedV;};b$.codeSnippetIdOV=function(){cs.$cctor();return cs.codeSnippetIdOV;};b$.currentSnippetIdOV=function(){cs.$cctor();return cs.currentSnippetIdOV;};b$.generation=function(){cs.$cctor();return cs.generation;};b$.hierarchy=function(){cs.$cctor();return cs.hierarchy;};b$.snippets=function(){cs.$cctor();return cs.snippets;};cb.DragNone={$:0};ca.getDragNIdO=function(dz){var dA;return ca.drag().$==1&&(!cM.Equals(ca.drag().$0,dz)&&(dA=ca.drag().$0,true))?{$:1,$0:dA}:null;};ca.setDragNode=function(dz){ca.set_drag({$:1,$0:dz});};ca.setDragNone=function(){ca.set_drag(cb.DragNone);};ca.drag=function(){cs.$cctor();return cs.drag;};ca.set_drag=function(dz){cs.$cctor();cs.drag=dz;};cc.TemplatesFileName=function(){cs.$cctor();return cs.TemplatesFileName;};cc.rootdir=function(){cs.$cctor();return cs.rootdir;};cd.render=function(){var dz,dA,dB,dC;return(dz=(dA=cd.snippets(),da.Make().WithHole({$:0,$0:"snippets",$1:dA})),(dB=db.CompleteHoles(dz.k,dz.h,[]),(dC=new dc.New(dB[1],cv.snippetlist(dB[0])),(dz.i=dC,dC)))).get_Doc();};cd.snippets$4620$40=function(dz){return function(dA){var dB;dA.Event.preventDefault();dB=ca.getDragNIdO(dz);dB==null?void 0:b$.moveNode(dB.$0,dz);};};cd.snippets$4619$40=function(dz){return function(dA){if(ca.getDragNIdO(dz)!=null)dA.Event.preventDefault();};};cd.snippets$4618$40=function(dz){return function(dA){ca.setDragNode(dz);dA.Event.stopPropagation();};};cd.snippets$4617$40=function(dz){return function(){b$.toggleCollapse(dz);};};cd.snippets$4616$40=function(dz){return function(){b$.togglePredecessor(dz);};};cd.snippets$4615$40=function(dz){var dA;dA=cV.Map(function(dB){return""!==dB;},b$.selectedClassW(dz));return function(dB){return cd.scrollIntoView(dA,dB);};};cd.snippets$4614$40=function(dz){return function(){b$.setCurrentSnippetIdO({$:1,$0:dz});};};cd.snippets=function(){function dz(dA,dB){var dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV;function dW(dX){return dX?"ErrorMsg":"";}dC=(dD=cV.get_Do(),cV.Bind(function(dX){return cV.Bind(function(dY){return cV.Const((dY?"*":"")+S.snippetName(dX.snpName,dX.snpContent));},b$.hasChangedW(dX));},b$.findSnippetW(dA)));dE=cV.Apply(cV.Map2(function(dX,dY){return function(dZ){return dX.snpPredIds.Contains(dA)?"direct-predecessor":dY?"indirect-predecessor":dZ?"included-predecessor":"";};},b$.currentSnippetV().get_View(),b$.isIndirectPredecessorW(dA)),b$.isIncludedPredecessorW(dA));dF=(dG=b_.annotationsV().get_View(),cV.Map((dH=(dI=(dJ=dA.get_Id(),a.String(dJ)),function(dX){return A.contains(dI,dX);}),function(dX){return dW(dH(dX));}),dG));return(dK=(dL=(dM=(dN=(dO=(dP=(dQ=(dR=cV.Map(function(dX){return""!==dX;},b$.selectedClassW(dA)),function(dX){return cd.scrollIntoView(dR,dX);}),(dS=(dT=b$.expandClassW(dA),da.Make().WithHole({$:2,$0:"name",$1:dC}).WithHole({$:1,$0:"indent",$1:a.String(dB)}).WithHole({$:2,$0:"parent",$1:dT})).WithHole({$:2,$0:"predecessor",$1:dE}).WithHole({$:2,$0:"selected",$1:cV.Map2(function(dX,dY){return cI.concat(" ",cE.ofArray([dX,dY]));},b$.selectedClassW(dA),b$.codeSnippetClassW(dA))}).WithHole({$:2,$0:"errormsg",$1:dF}),dS.WithHole(db.EventQ2(dS.k,"select",function(){return dS.i;},function(){b$.setCurrentSnippetIdO({$:1,$0:dA});}))).WithHole({$:7,$0:"afterrender",$1:dQ})),dP.WithHole(db.EventQ2(dP.k,"togglepred",function(){return dP.i;},function(){b$.togglePredecessor(dA);}))),dO.WithHole(db.EventQ2(dO.k,"togglecollapse",function(){return dO.i;},function(){b$.toggleCollapse(dA);}))),dN.WithHole(db.EventQ2(dN.k,"drag",function(){return dN.i;},function(dX){ca.setDragNode(dA);dX.Event.stopPropagation();}))),dM.WithHole(db.EventQ2(dM.k,"dragover",function(){return dM.i;},function(dX){if(ca.getDragNIdO(dA)!=null)dX.Event.preventDefault();}))),dL.WithHole(db.EventQ2(dL.k,"drop",function(){return dL.i;},function(dX){var dY;dX.Event.preventDefault();dY=ca.getDragNIdO(dA);dY==null?void 0:b$.moveNode(dY.$0,dA);}))),(dU=db.CompleteHoles(dK.k,dK.h,[]),(dV=new dc.New(dU[1],cv.snippet(dU[0])),(dK.i=dV,dV)))).get_Doc();}return c0.Convert(function(dA){return dz(dA[0],dA[1]);},b$.getHierarchyW());};cd.scrollIntoView=function(dz,dA){cV.Sink(function(dB){if(dB)dA.scrollIntoViewIfNeeded();},dz);};ce.render$4657$34=function(){return function(){ce.addProperty();};};ce.render=function(){var dz,dA,dB,dC,dD;return(dz=(dA=(dB=ce.properties(),da.Make().WithHole({$:0,$0:"properties",$1:dB})),dA.WithHole(db.EventQ2(dA.k,"addproperty",function(){return dA.i;},function(){ce.addProperty();}))),(dC=db.CompleteHoles(dz.k,dz.h,[]),(dD=new dc.New(dC[1],cv.propertytable(dC[0])),(dz.i=dD,dD)))).get_Doc();};ce.properties$4650$33=function(dz){return function(){ce.remProperty(dz);};};ce.properties=function(){var dz;function dA(dC,dD){cD.set(dz.Get(),dC,[dD,(cD.get(dz.Get(),dC))[1]]);return dz.Set(dz.Get());}function dB(dC,dD){cD.set(dz.Get(),dC,[(cD.get(dz.Get(),dC))[0],dD]);return dz.Set(dz.Get());}dz=cW.Lens(b$.currentSnippetV(),function(dC){return dC.snpProperties;},function(dC,dD){return Q.New(dC.snpId,dC.snpName,dC.snpContent,dC.snpParentIdO,dC.snpPredIds,dD,dC.snpGeneration);});return c0.Convert(function(dC){var dD,dE,dF,dG,dH,dI;dD=new c8.New(cV.Map(function(dJ){return(cD.get(dJ,dC))[0];},dz.get_View()),function(dJ){return dA(dC,dJ);});dE=new c8.New(cV.Map(function(dJ){return(cD.get(dJ,dC))[1];},dz.get_View()),function(dJ){return dB(dC,dJ);});return(dF=(dG=da.Make().WithHole({$:8,$0:"name",$1:dD}).WithHole({$:8,$0:"value",$1:dE}),dG.WithHole(db.EventQ2(dG.k,"remove",function(){return dG.i;},function(){ce.remProperty(dC);}))),(dH=db.CompleteHoles(dF.k,dF.h,[["name",0],["value",0]]),(dI=new dc.New(dH[1],cv.property(dH[0])),(dF.i=dI,dI)))).get_Doc();},cV.Map(function(dC){return cD.ofSeq(cH.range(0,cD.length(dC)-1));},dz.get_View()));};ce.remProperty=function(dz){var dA;b$.currentSnippetV().Set((dA=b$.currentSnippetV().Get(),Q.New(dA.snpId,dA.snpName,dA.snpContent,dA.snpParentIdO,dA.snpPredIds,cJ.array(b$.currentSnippetV().Get().snpProperties,{$:1,$0:0},{$:1,$0:dz-1}).concat(cJ.array(b$.currentSnippetV().Get().snpProperties,{$:1,$0:dz+1},null)),dA.snpGeneration)));};ce.addProperty=function(){var dz;b$.currentSnippetV().Set((dz=b$.currentSnippetV().Get(),Q.New(dz.snpId,dz.snpName,dz.snpContent,dz.snpParentIdO,dz.snpPredIds,b$.currentSnippetV().Get().snpProperties.concat([["",""]]),dz.snpGeneration)));};cg=cf.HoverProvider=cz.Class({provideHover:function(dz,dA,dB){var dC;return X.ofAsyncResult((dC=e.asyncResult(),dC.Run(dC.Delay(function(){var dD;dD=cf.getIndentAndFirst();return dC.Bind$1(b8.toolTip(cf.fileName(),dA.lineNumber+dD[1],dA.column+dD[0],""),function(dE){return p["AsyncResultBuilder.Bind"](dC,cf.overDescriptions(dE[0]),function(dF){return dC.Return(bj.New(cD.ofSeq(cB.map(function(dG){return bg.New((c.print(dG),dG),true);},dF)),null));});});}))));}},i,cg);cg.New=cz.Ctor(function(dz){i.New.call(this);},cg);ch=cf.CompletionItemProvider=cz.Class({resolveCompletionItem:function(dz,dA){var dB;function dC(dE){return dE.$==1?cH.FailWith((function(dF){return function(dG){return dF(cw.p$10(dG));};}(a.id))(dE.$0)):dE.$0;}function dD(dE){return cC.Return(dE);}return ds.OfAsync(cC.Bind((dB=e.asyncResult(),dB.Run(dB.Delay(function(){return dB.Bind$1(b8.helpText(dz.label),function(dE){return dB.Return(bi.New(dz.kind,dz.label,cI.concat("\n",cB.collect(function(dF){return cE.ofSeq(cB.delay(function(){return cB.append(!(!dF.Signature)?[dF.Signature]:[],cB.delay(function(){return cB.append(!(!dF.Comment)?[dF.Comment]:[],cB.delay(function(){return!(!dF.Footer)?[dF.Footer]:[];}));}));}));},cB.collect(a.id,dE[0].Overloads)))));});}))),function(dE){return dD(dC(dE));}));},provideCompletionItems:function(dz,dA,dB,dC){var dD;function dE(dG){return dG.$==1?cH.FailWith((function(dH){return function(dI){return dH(cw.p$10(dI));};}(a.id))(dG.$0)):dG.$0;}function dF(dG){return cC.Return(dG);}return ds.OfAsync(cC.Bind((dD=e.asyncResult(),dD.Run(dD.Delay(function(){var dG,dH;dG=cf.getIndentAndFirst();dH=dG[0];return dD.Bind$1(b8.completion(cI.replicate(dH," ")+dz.getLineContent(dA.lineNumber),true,cf.fileName(),dA.lineNumber+dG[1],dA.column+dH,"Contains"),function(dI){return dD.Return(cD.map(function(dJ){return bi.New(cf.convertGlyphChar(dJ.GlyphChar),dJ.Name,"");},dI[0]));});}))),function(dG){return dF(dE(dG));}));}},i,ch);ch.New=cz.Ctor(function(dz){i.New.call(this);},ch);ci=cf.DefinitionProvider=cz.Class({provideDefinition:function(dz,dA,dB){var dC;function dD(dF){return dF.$==1?cH.FailWith((function(dG){return function(dH){return dG(cw.p$10(dH));};}(a.id))(dF.$0)):dF.$0;}function dE(dF){return cC.Return(dF);}return ds.OfAsync(cC.Bind((dC=e.asyncResult(),dC.Run(dC.Delay(function(){var dF;dF=cf.getIndentAndFirst();return dC.Bind$1(b8.findDeclaration(cf.fileName(),dA.lineNumber+dF[1],dA.column+dF[0],""),function(dG){var dH,dI,dJ,dK,dL,dM,dN,dO;dH=dG[0];dI=cf.getSnipIdIndentAndFirst(dH.Line);dJ=dI[0];dK=dI[1];dL=dI[2];dM=(dN="snpId:"+(dO=dJ.get_Id(),a.String(dO)),self.monaco.Uri.parse(dN));cf.getSnippetModel(dJ);return dC.Return(bc.New(ba.New(dH.Column-dK,dH.Column-dK,dH.Line-dL,dH.Line-dL),dM));});}))),function(dF){return dE(dD(dF));}));}},i,ci);ci.New=cz.Ctor(function(dz){i.New.call(this);},ci);cj.New=function(dz,dA){return{fontSize:dz,lineHeight:dA};};ck.New=function(dz,dA){return{setEditor:dz,createModelReference:dA};};cf["goto"]=function(dz,dA,dB){var dC;dC=null;return cC.Delay(function(){var dD,dE;dD=(dE=cf.editorConfigO(),dE==null?null:dE.$0.editorO);return dD!=null&&dD.$==1?cC.Bind(cf.gotoEditor(dD.$0,dz,dA,dB),function(){return cC.Return(null);}):cC.Zero();});};cf.getEditorConfigO=function(){var dz;dz={$:1,$0:cf.monacoNew(cW.Lens(b$.currentSnippetV(),function(dA){return dA.snpContent;},function(dA,dB){return Q.New(dA.snpId,dA.snpName,dB,dA.snpParentIdO,dA.snpPredIds,dA.snpProperties,dA.snpGeneration);}),{$:1,$0:cV.Map2(cf.transformAnnotations,b$.currentSnippetW(),b_.annotationsV().get_View())},null,null)};cf.set_editorConfigO(dz);return dz;};cf.editorConfigO=function(){cs.$cctor();return cs.editorConfigO;};cf.set_editorConfigO=function(dz){cs.$cctor();cs.editorConfigO=dz;};cf.parse=function(dz,dA){var dB;m.iterA(function(dC){c.print(dC);},function(){c.print();},(dB=e.asyncResult(),dB.Run(dB.Delay(function(){var dC,dD;dC="Parsing...\n"+A.skipFirstLine(b_.annotationsV().Get());b_.annotationsV().Set(dC);cf.startsV().Set(dA);dD=A.splitByChar("\n",dz);cf.set_fileName(N.getSourceDir(b_.srcDir(),dD)+"/"+b_.id()+".fsx");return dB.Bind$1(b8.parseCode(cf.fileName(),dD,true,0),function(dE){var dF;dF=cI.concat("\n",cB.append(cE.ofArray(["Parsed!"]),cB.map(function(dG){var dH,dI,dJ,dK,dL;function dM(dN,dO){return dG.StartLine>dO[1]&&dG.StartLine<=dO[2];}dH=(dI=cB.tryFind(function(dN){return dM(dN[0],dN[1]);},dA),(cf.defaultStart())(dI));dJ=dH[1][0];dK=dH[1][1];return((((((((((cz.Curried(function(dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW){return dN(cA.toSafe(dO)+" ("+a.String(dP)+", "+a.String(dQ)+") - ("+a.String(dR)+", "+a.String(dS)+") "+cA.toSafe(dT)+"("+cA.toSafe(dU)+") \""+cA.toSafe(dV)+": "+cA.toSafe(dW)+"\".");},10))(a.id))(dG.Severity==="Error"?"Err":"Warn"))(dG.StartLine-dK))(dG.StartColumn-dJ))(dG.EndLine-dK))(dG.EndColumn-dJ))(dH[0][1]))((dL=dH[0][0].get_Id(),a.String(dL))))(dG.Subcategory))(dG.Message);},dE[0].Errors)));b_.annotationsV().Set(dF);cB.iter(function(dG){c.print(dG);},dE[1]);return dB.Zero();});}))));};cf.monacoNew=function(dz,dA,dB,dC){var dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS;dQ=_.newVar(dz);dI=dQ.editorO;dJ=cf.newPojo([["fontSize",12],["lineHeight",14]]);dR=a.require("vs/editor/standalone/browser/standaloneServices");dS=new dR.StaticServices.codeEditorService._factory();dS.openCodeEditor=cf.openCodeEditor;dP=dS;dO=["codeEditorService",dP];dM=[dO,["textModelResolverService",cf.textModelResolverService()]];dK=cf.newPojo(dM);dE=bl.New(dQ["var"],dQ.onChange,dQ.onRender,dI,dQ.disabled,dJ,dK);return _.onRender(function(dT){var dU,dV,dW,dX;function dY(d2,d3,d4){return dV.provideHover(d2,d3,d4);}function dZ(d2,d3,d4,d5){return dW.provideCompletionItems(d2,d3,d4,d5);}function d0(d2,d3){return dW.resolveCompletionItem(d2,d3);}function d1(d2,d3,d4){return dX.provideDefinition(d2,d3,d4);}dU=dT.getModel();self.monaco.editor.setModelLanguage(dU,"fsharp");self.monaco.editor.setTheme("vs");dV=new cg.New(dT);dW=new ch.New(dT);dX=new ci.New(dT);c.print(function(d2){return dY(d2[0],d2[1],d2[2]);});c.print(function(d2){return dZ(d2[0],d2[1],d2[2],d2[3]);});c.print(function(d2){return d0(d2[0],d2[1]);});c.print(function(d2){return d1(d2[0],d2[1],d2[2]);});self.monaco.languages.registerHoverProvider("fsharp",dV);self.monaco.languages.registerCompletionItemProvider("fsharp",dW);self.monaco.languages.registerDefinitionProvider("fsharp",dX);dA==null?void 0:cV.Sink(function(d2){var d3;d3=dT.getModel();self.monaco.editor.setModelMarkers(d3,"annotations",d2);},dA.$0);},dE);};cf.textModelResolverService=function(){var dz;dz=null;return ck.New(function(dA){dz={$:1,$0:dA};},function(dA){var dB;return ds.OfAsync((dB=null,cC.Delay(function(){var dC,dD,dE,dF;dE=cf.getSnippetModel(dA);dF=self.require("vs/base/common/lifecycle");dD=new dF.ImmortalReference(dE);return cC.Return(dD);})));});};cf.openCodeEditor=function(dz,dA,dB){var dC;return ds.OfAsync((dC=null,cC.Delay(function(){var dD,dE;dD=dz.resource.path;dE=(B.Guid())(dD);return dE!=null&&dE.$==1?cC.Bind(cf.gotoEditor(dA,new P({$:0,$0:dE.$0}),dz.options.selection.startLineNumber,dz.options.selection.startColumn),function(){return cC.Return(dA);}):cC.Return(null);})));};cf.gotoEditor=function(dz,dA,dB,dC){var dD;dD=null;return cC.Delay(function(){b$.expandParents(dA);b$.setCurrentSnippetIdO({$:1,$0:dA});return cC.Bind(cC.Sleep(200),function(){dz.focus();dz.setPosition($.New(dC,dB));dz.revealPositionInCenter($.New(dC,dB));return cC.Zero();});});};cf.newPojo=function(dz){var dA,dB;function dC(dE,dF){return function(dG){return cf.addProp(dE,dF,dG);};}function dD(dE){}dA={};cB.iter((dB=function(dE){return(function(dF){return dC(dF[0],dF[1]);}(dE))(dA);},function(dE){return dD(dB(dE));}),dz);return dA;};cf.addProp=function(dz,dA,dB){dB[dz]=dA;return dB;};cf.transformAnnotations=function(dz,dA){var dB,dC;function dD(dE,dF,dG,dH,dI,dJ,dK){var dL;return!cM.Equals((dL=(B.parseGuidO())(dJ),dL==null?null:{$:1,$0:new P({$:0,$0:dL.$0})}),{$:1,$0:dz.snpId})?null:{$:1,$0:bh.New(dG,dI,dF,dH,dE==="Err"?8:dE==="Warn"?4:dE==="Hint"?1:2,dK)};}dB="(Err|Warn|Info|Hint) \\((\\d+)\\,\\s*(\\d+)\\) - \\((\\d+)\\,\\s*(\\d+)\\).*\\("+W.rexGuid()+"\\) \"([^\"]+?)\"\\.";return cD.choose(function(dE){return dD(dE[0],dE[1],dE[2],dE[3],dE[4],dE[5],dE[6]);},cD.choose(function(dE){var dF,dG,dH;return(dG=W.REGEX$1(dB,"",dE),dG!=null&&dG.$==1&&((dH=dG.$0,!cM.Equals(dH,null)&&dH.length===8)&&(dF=[cD.get(dG.$0,3),cD.get(dG.$0,2),cD.get(dG.$0,6),cD.get(dG.$0,7),cD.get(dG.$0,5),cD.get(dG.$0,4),cD.get(dG.$0,1)],true)))?{$:1,$0:[dF[6],cH.toInt(a.Number(dF[1])),cH.toInt(a.Number(dF[0])),cH.toInt(a.Number(dF[5])),cH.toInt(a.Number(dF[4])),dF[2],dF[3]]}:null;},(dC=W.REGEX$1(dB,"g",dA),dC!=null&&dC.$==1?dC.$0:[])));};cf.convertGlyphChar=function(dz){return dz==="C"?6:dz==="E"?12:dz==="S"?11:dz==="I"?7:dz==="N"?8:dz==="M"?1:dz==="P"?9:dz==="F"?4:dz==="T"?6:dz==="K"?13:0;};cf.fileName=function(){cs.$cctor();return cs.fileName;};cf.set_fileName=function(dz){cs.$cctor();cs.fileName=dz;};cf.overDescriptions=function(dz){return g.sequenceSeq(cB.collect(function(dA){return cE.ofSeq(cB.delay(function(){return cB.append(!(!dA.Signature)?[cC.Return("```\n"+dA.Signature+"\n```")]:[],cB.delay(function(){function dB(dC){return cC.Return(dC);}return cB.append(!(!dA.Comment)?[cC.Bind((new dq.New()).Async("FSharpStation:FsRoot.FSharpStation+Markdown.createCommentBlock:-1840423385",[dA.Comment]),function(dC){return dB(cf.fixMarkDown(dC));})]:[],cB.delay(function(){return!(!dA.Footer)?[cC.Return(cf.fixMarkDown(dA.Footer))]:[];}));}));}));},cB.collect(a.id,dz)));};cf.fixMarkDown=function(dz){return cI.concat("\n\n",cB.map(function(dA){var dB;dB=cB.length(cB.takeWhile(function(dC){return" "===dC;},dA));return cI.replicate(dB,"&nbsp;")+cJ.string(dA,{$:1,$0:dB},null);},cB.map(function(dA){return cI.Replace(dA,"\u0009","- ");},A.splitByChar("\n",dz))));};cf.getSnippetModel=function(dz){var dA,dB,dC;dA=(dB="snpId:"+(dC=dz.get_Id(),a.String(dC)),self.monaco.Uri.parse(dB));return cf.getModelUri(b$.runReader(function(dD){return cH.FailWith(a.String(dD));},S.snippetRm(dz)).snpContent,dA);};cf.getModelUri=function(dz,dA){var dB,dC,dD;dB=(dC=(dD=self.monaco.editor.getModel(dA),!dD?null:{$:1,$0:dD}),dC==null?self.monaco.editor.createModel("","fsharp",dA):dC.$0);dB.getValue()!==dz?dB.setValue(dz):void 0;return dB;};cf.getSnipIdIndentAndFirst=function(dz){var dA,dB;function dC(dD,dE){return dz>=dE[1]&&dz<=dE[2];}dA=(dB=cB.tryFind(function(dD){return dC(dD[0],dD[1]);},cf.startsV().Get()),(cf.defaultStart())(dB));return[dA[0][0],dA[1][0],dA[1][1]];};cf.getIndentAndFirst=function(){var dz,dA,dB,dC;function dD(dG){return dG[0];}function dE(dG){return dG[0];}function dF(dG){return cM.Equals(dz,dG);}dz=b$.currentSnippetV().Get().snpId;dA=(dB=cB.tryFind((dC=function(dG){return dE(dD(dG));},function(dG){return dF(dC(dG));}),cf.startsV().Get()),(cf.defaultStart())(dB));return[dA[1][0],dA[1][1]];};cf.defaultStart=function(){cs.$cctor();return cs.defaultStart;};cf.startsV=function(){cs.$cctor();return cs.startsV;};cl.jumpToRef=function(dz){var dA,dB;function dC(dD,dE,dF){return dB>=dE&&dB<dF?{$:1,$0:dD}:null;}dA=dz.value;dB=dz.selectionStart;cl.jumpToLine(cB.pick(function(dD){return dC(dD[0],dD[1],dD[2]);},(cB.mapFold(function(dD,dE){return[[dE,dD,dD+dE.length+1],dD+dE.length+1];},0,cI.SplitChars(dA,["\n"],0)))[0]));};cl.jumpToLine=function(dz){var dA,dB,dC,dD,dE;dA=W.REGEX$1(cl.rexGuid(),"",dz);dA!=null&&dA.$==1?(dB=dA.$0,!cM.Equals(dB,null)&&dB.length===6)?(dC=cD.get(dA.$0,2),dD=cD.get(dA.$0,5),dE=cD.get(dA.$0,1),cC.Start(cf["goto"](new P({$:0,$0:dD}),cH.toInt(a.Number(dE)),cH.toInt(a.Number(dC))),null)):void 0:void 0;};cl.rexGuid=function(){cs.$cctor();return cs.rexGuid$1;};cn.New=function(dz,dA,dB){return{snippets:dz,generation:dA,collapsed:dB};};cm.serModel=function(){cs.$cctor();return cs.serModel;};cm.getModel=function(dz,dA,dB){return cn.New(cD.ofSeq(dz),dA,dB);};cm.serSnippet=function(){cs.$cctor();return cs.serSnippet;};cm.serSnippetId=function(){cs.$cctor();return cs.serSnippetId;};co.saveAs=function(){var dz,dA,dB,dC;dz=(dA=cB.last(cI.SplitChars(co.fileName().Get(),["/","\\"],0)),dA===""?"noname.snippets":dA);a.saveAs(new a.Blob([(dB=(dC=b$.getSnippetsGen(),cm.getModel(dC[0],dC[1],dC[2])),(cm.serModel())[0](dB))],{type:"text/plain;charset=utf-8"}),dz);b$.updateGeneration();};co.loadTextFile=function(dz){var dA,dB;if(co.canLoad()){dA=dz.files;dA.length>0?(dB=new a.FileReader(),dB.onload=function(dC){return co.parseText(dC.target.result);},co.fileName().Set(dA.item(0).name),dB.readAsText(dA.item(0))):void 0;}};co.parseText=function(dz){var dA,dB;try{dA=(dB=df.parse(dz),(cm.serModel())[1](dB));b$.setSnippetsGen(dA.snippets,dA.collapsed);}catch(dC){a.alert(a.String(dC));((function(dD){return function(dE){return dD(cA.prettyPrint(dE));};}(function(dD){cT.log(dD);}))(dC));}};co.canLoad=function(){return cM.Equals(cV.TryGet(b$.SaveAsClassW()),{$:1,$0:""})||a.confirm("Changes have not been saved, do you really want to load?");};co.fileName=function(){cs.$cctor();return cs.fileName$1;};cp.importFile=function(dz){var dA,dB;if(co.canLoad()){dA=dz.files;dA.length>0?(dB=new a.FileReader(),dB.onload=function(dC){return cp.parseText(dC.target.result);},dB.readAsText(dA.item(0))):void 0;}};cp.parseText=function(dz){var dA;try{b$.setSnippetsGen((dA=df.parse(dz),(cp.serSnippets())[1](dA)),new cQ.New$1(null));}catch(dB){a.alert(a.String(dB));((function(dC){return function(dD){return dC(cA.prettyPrint(dD));};}(function(dC){cT.log(dC);}))(dB));}};cp.serSnippets=function(){cs.$cctor();return cs.serSnippets;};cp.serSnippet2=function(){cs.$cctor();return cs.serSnippet2;};cp.serSnippetId2=function(){cs.$cctor();return cs.serSnippetId2;};cq.mainProgram=function(){var dz;bm.plugIns().Append(bs.New("FSharpStation",[bm.newVar("fileName",co.fileName()),bm.newVar("SnippetName",cW.Lens(b$.currentSnippetV(),function(dA){return dA.snpName;},function(dA,dB){return Q.New(dA.snpId,dB,dA.snpContent,dA.snpParentIdO,dA.snpPredIds,dA.snpProperties,dA.snpGeneration);})),bm.newVar("Content",cW.Lens(b$.currentSnippetV(),function(dA){return dA.snpContent;},function(dA,dB){return Q.New(dA.snpId,dA.snpName,dB,dA.snpParentIdO,dA.snpPredIds,dA.snpProperties,dA.snpGeneration);})),bm.newVar("Output",cq.outputMsgs()),bm.newVar("Parser",b_.annotationsV())],[bm.newViw("FsCode",b$.FsCodeW()),bm.newViw("SaveNeeded",b$.SaveAsClassW())],[bm.newDoc("mainDoc",dd.Create(cq.mainDoc)),bm.newDoc("editor",dd.Create(function(){var dA,dB,dC;return c0.Element("div",[],[(dA=(dB=cf.getEditorConfigO(),dB==null?null:{$:1,$0:_.render(dB.$0)}),(dC=c0.get_Empty(),dA==null?dC:dA.$0))]);})),bm.newDoc("Snippets",dd.Create(cd.render)),bm.newDoc("Properties",dd.Create(ce.render)),bm.newDoc("ButtonsRight",dd.Create(cq.buttonsRight))],[bm.newAct("AddSnippet",function(){b$.newSnippet();}),bm.newAct("RemoveSnippet",function(){cq.deleteSnippet();}),bm.newAct("IndentIn",function(){b$.indentIn();}),bm.newAct("IndentOut",function(){b$.indentOut();}),bm.newAct("AddProperty",function(){ce.addProperty();}),bm.newAct("SaveAs",function(){co.saveAs();}),bm.newAct("RunFS",function(){cq.runFsCode();}),bm.newActF("LoadFile",{$:1,$0:function(dA){co.loadTextFile(dA);},$1:"FileElement"}),bm.newActF("Import",{$:1,$0:function(dA){cp.importFile(dA);},$1:"FileElement"}),bm.newActF("JumpTo",{$:1,$0:function(dA){cl.jumpToRef(dA);},$1:"textarea"})],[]));bu.addLayout(bu.newLyt("FStationLyt",(A.unindentStr())("\n                    double           horizontal  0-50-100 AppFramework.AppFwkClient menuEditor\n        \n                    menuEditor       horizontal  65       menuLogo                  editorMessages\n                    menuLogo         vertical    350      logo                      menu\n                    logo             span       \"margin:0; color:gray; font-size: 55px; font-weight:530\" \"F# Station\"\n                    editorMessages   horizontal 10-83-100 editorButtons             messages\n                    messages         vertical   0-50-100  messagesLeft              messagesRight\n                    editorButtons    vertical -200 snippetsSnippet buttons\n                    buttons div      \"overflow: hidden; display: grid; grid-template-columns: 100%; grid-template-rows: repeat(15, calc(100% / 15)); bxackground-color: #eee; box-sizing: border-box; padding : 5px; grid-gap: 5px; margin-right: 21px\" btnSaveAs none x btnAddSnippet btnDeleteSnippet btnIndentIn btnIndentOut none x btnRunFS\n                    snippetsSnippet  vertical   0-20-100  FSharpStation.Snippets    editorProperties\n                    editorProperties vertical   0-100-100 snippet                   properties\n                    properties       div        \"\"        FSharpStation.Properties\n                    snippet          horizontal 35        Name                      FSharpStation.editor\n                    menu             span  \"\" btnLoad btnImport\n                    \n                    btnSaveAs        button FSharpStation.SaveAs         \"class=btn ${FSharpStation.SaveNeeded}\" \"Save as...    \"\n                    btnAddSnippet    button FSharpStation.AddSnippet     \"\"                  \"Add Snippet   \"\n                    btnDeleteSnippet button FSharpStation.DeleteSnippet  \"\"                  \"Delete Snippet\"\n                    btnIndentIn      button FSharpStation.IndentIn       \"\"                  \"Indent In  >> \"\n                    btnIndentOut     button FSharpStation.IndentOut      \"\"                  \"Indent Out << \"\n                    btnRunFS         button FSharpStation.RunFS          \"\"                  \"Run F#        \"\n         \n                    messagesLeft     wcomp-tabstrip                      \"\"                  Output FsCode\n                    messagesRight    wcomp-tabstrip                      \"\"                  Parser\n         \n                    Output           textarea  FSharpStation.Output      \"tabname=Output ; placeholder=Output messages ; spellcheck=false\" \n                    FsCode           textarea  FSharpStation.FsCode      \"tabname=F# Code; placeholder=F# Code         ; spellcheck=false\" \n                    Parser           textarea  FSharpStation.Parser      \"tabname=Parser ; placeholder=Parser messages; dblclick=${FSharpStation.JumpTo} ; spellcheck=false\" \n                    Name             Doc       InputLabel                \"\"     \"Name:\"        FSharpStation.SnippetName\n                    btnLoad          Doc       InputFile                 \"\"     \"Load File...\" FSharpStation.LoadFile  FileName\n                    btnImport        Doc       InputFile                 \"\"     \"Import...\"    FSharpStation.Import    \"\"\n                    FileName         div                                 \"class=form-control\"  FSharpStation.fileName\n                ")));bm.mainDocV().Set("FStationLyt.menuEditor");return c0.Async((dz=null,cC.Delay(function(){return cC.Bind(_.loader(),function(){var dA,dB,dC;dA=(dB=cf.getEditorConfigO(),dB==null?null:{$:1,$0:_.render(dB.$0)});dC=c0.get_Empty();dA==null?void 0:void 0;return cC.Return(bm.getMainDoc().f());});})));};cq.mainDoc$5253$78=a.id;cq.mainDoc$5245$39=function(){return function(dz){cl.jumpToRef(dz.Target);};};cq.mainDoc$5244$39=function(){return function(dz){dz.Target.value="";};};cq.mainDoc$5243$39=function(){return function(dz){cp.importFile(dz.Target);};};cq.mainDoc$5242$39=function(){return function(dz){dz.Target.value="";};};cq.mainDoc$5241$39=function(){return function(dz){co.loadTextFile(dz.Target);};};cq.mainDoc=function(){var dz,dA,dB,dC,dD,dE,dF,dG;dz=cq.hookDoc("FSharpStation","ButtonsRight",function(dH,dI){return dH.WithHole({$:0,$0:"buttonsright",$1:dI});},cq.hookDoc("FSharpStation","Properties",function(dH,dI){return dH.WithHole({$:0,$0:"properties",$1:dI});},cq.hookDoc("FSharpStation","Snippets",function(dH,dI){return dH.WithHole({$:0,$0:"snippets",$1:dI});},cq.hookDoc("FSharpStation","editor",function(dH,dI){return dH.WithHole({$:0,$0:"codeeditor",$1:dI});},cq.hookAct("FSharpStation","SaveAs",function(dH,dI){return dH.WithHole(db.EventQ2(dH.k,"saveas",function(){return dH.i;},dI));},cq.hookViw("FSharpStation","SaveNeeded",function(dH,dI){return dH.WithHole({$:2,$0:"saveasclass",$1:dI});},cq.hookViw("FSharpStation","FSCode",function(dH,dI){return dH.WithHole({$:8,$0:"fscode",$1:new c8.New(dI,a.ignore)});},cq.hookVar("FSharpStation","Parser",function(dH,dI){return dH.WithHole({$:8,$0:"parser",$1:dI});},cq.hookVar("FSharpStation","Output",function(dH,dI){return dH.WithHole({$:8,$0:"output",$1:dI});},cq.hookVar("FSharpStation","SnippetName",function(dH,dI){return dH.WithHole({$:8,$0:"name",$1:dI});},cq.hookVar("FSharpStation","fileName",function(dH,dI){return dH.WithHole({$:8,$0:"filename",$1:dI});},(dA=(dB=(dC=(dD=(dE=da.Make(),dE.WithHole(db.EventQ2(dE.k,"loadfilechanged",function(){return dE.i;},function(dH){co.loadTextFile(dH.Target);}))),dD.WithHole(db.EventQ2(dD.k,"loadfileclear",function(){return dD.i;},function(dH){dH.Target.value="";}))),dC.WithHole(db.EventQ2(dC.k,"importfilechanged",function(){return dC.i;},function(dH){cp.importFile(dH.Target);}))),dB.WithHole(db.EventQ2(dB.k,"importfileclear",function(){return dB.i;},function(dH){dH.Target.value="";}))),dA.WithHole(db.EventQ2(dA.k,"jumpref",function(){return dA.i;},function(dH){cl.jumpToRef(dH.Target);}))))))))))))));return(dF=db.CompleteHoles(dz.k,dz.h,[["filename",0],["name",0],["output",0],["fscode",0],["parser",0]]),(dG=new dc.New(dF[1],cv.layout(dF[0])),(dz.i=dG,dG))).get_Doc();};cq.buttonsRight$5227$74=a.id;cq.buttonsRight$5226$74=a.id;cq.buttonsRight$5225$74=a.id;cq.buttonsRight$5224$74=a.id;cq.buttonsRight$5223$74=a.id;cq.buttonsRight=function(){var dz,dA,dB;dz=cq.hookAct("FSharpStation","RunFS",function(dC,dD){return dC.WithHole(db.EventQ2(dC.k,"runfs",function(){return dC.i;},dD));},cq.hookAct("FSharpStation","IndentOut",function(dC,dD){return dC.WithHole(db.EventQ2(dC.k,"indentout",function(){return dC.i;},dD));},cq.hookAct("FSharpStation","IndentIn",function(dC,dD){return dC.WithHole(db.EventQ2(dC.k,"indentin",function(){return dC.i;},dD));},cq.hookAct("FSharpStation","RemoveSnippet",function(dC,dD){return dC.WithHole(db.EventQ2(dC.k,"removesnippet",function(){return dC.i;},dD));},cq.hookAct("FSharpStation","AddSnippet",function(dC,dD){return dC.WithHole(db.EventQ2(dC.k,"addsnippet",function(){return dC.i;},dD));},da.Make())))));return(dA=db.CompleteHoles(dz.k,dz.h,[]),(dB=new dc.New(dA[1],cv.buttonsright(dA[0])),(dz.i=dB,dB))).get_Doc();};cq.hookDoc=function(dz,dA,dB,dC){var dD,dE,dF;dD=(dE=bm.tryGetDoc(dz,dA),dE==null?null:{$:1,$0:(dF=dE.$0,((((cz.Curried3(function(dG,dH,dI){return dG("Doc    "+cA.toSafe(dH)+"."+cA.toSafe(dI)+" hooked");}))(function(dG){cT.log(dG);}))(dz))(dA),dB(dC,c0.EmbedView(cV.Map(function(){return bm.getLazyDoc(dF);},bm.mainDocV().get_View())))))});return dD==null?((((cz.Curried3(function(dG,dH,dI){return dG("Doc    "+cA.toSafe(dH)+"."+cA.toSafe(dI)+" not found");}))(function(dG){cT.log(dG);}))(dz))(dA),dC):dD.$0;};cq.hookAct=function(dz,dA,dB,dC){var dD,dE,dF;dD=(dE=bm.tryGetAct(dz,dA),dE==null?null:{$:1,$0:(dF=dE.$0,((((cz.Curried3(function(dG,dH,dI){return dG("Action "+cA.toSafe(dH)+"."+cA.toSafe(dI)+" hooked");}))(function(dG){cT.log(dG);}))(dz))(dA),dB(dC,function(){bm.callFunction(null,null,dF.actFunction);})))});return dD==null?((((cz.Curried3(function(dG,dH,dI){return dG("Action "+cA.toSafe(dH)+"."+cA.toSafe(dI)+" not found");}))(function(dG){cT.log(dG);}))(dz))(dA),dC):dD.$0;};cq.hookViw=function(dz,dA,dB,dC){var dD,dE;dD=(dE=bm.tryGetViw(dz,dA),dE==null?null:{$:1,$0:((((cz.Curried3(function(dF,dG,dH){return dF("View   "+cA.toSafe(dG)+"."+cA.toSafe(dH)+" hooked");}))(function(dF){cT.log(dF);}))(dz))(dA),dB(dC,dE.$0.viwView))});return dD==null?((((cz.Curried3(function(dF,dG,dH){return dF("View   "+cA.toSafe(dG)+"."+cA.toSafe(dH)+" not found");}))(function(dF){cT.log(dF);}))(dz))(dA),dC):dD.$0;};cq.hookVar=function(dz,dA,dB,dC){var dD,dE;dD=(dE=bm.tryGetVar(dz,dA),dE==null?null:{$:1,$0:((((cz.Curried3(function(dF,dG,dH){return dF("Var    "+cA.toSafe(dG)+"."+cA.toSafe(dH)+" hooked");}))(function(dF){cT.log(dF);}))(dz))(dA),dB(dC,dE.$0.varVar))});return dD==null?((((cz.Curried3(function(dF,dG,dH){return dF("Var    "+cA.toSafe(dG)+"."+cA.toSafe(dH)+" not found");}))(function(dF){cT.log(dF);}))(dz))(dA),dC):dD.$0;};cq.deleteSnippet=function(){var dz;dz=b$.currentSnippetV().Get();!cM.Equals(dz.snpId,P.get_Empty())&&a.confirm((function(dA){return function(dB){return dA("Do you want to delete "+cA.toSafe(dB)+"?");};}(a.id))(S.snippetName(dz.snpName,dz.snpContent)))?b$.deleteCurrentSnippet():void 0;};cq.runFsCode=function(){var dz,dA,dB,dC,dD;function dE(dF){cq.appendMsgs(cI.Replace(dF,"xXxYyYyhH","Done!"));}dz=cV.TryGet(b$.FsCodeW());dz==null?void 0:(dA=dz.$0,dB=(dC=e.asyncResultP(),dC.Run(dC.Delay(function(){var dF;cq.outputMsgs().Set("Running F#...");return p["AsyncResultBuilderP.Bind"](dC,(dF=new by({$:0,$0:b_.id()}),(new dq.New()).Async("FSharpStation:FsRoot.Library2+FSharpStationClient.setAddress:-574353144",[dF])),function(){return dC.ReturnFrom$1((new dq.New()).Async("FSharpStation:FsRoot.Library2+FsiAgent.evalCode:-510387286",[b_.srcDir(),{$:0,$0:dA}]));});}))),m.iterA((dD=function(dF){return function(dG){return dF("Error:\n"+cw.p$2(dG));};}(a.id),function(dF){return dE(dD(dF));}),a.ignore,dB));};cq.appendMsgs=function(dz){cq.appendText(cq.outputMsgs(),dz);};cq.outputMsgs=function(){cs.$cctor();return cs.outputMsgs;};cq.appendText=function(dz,dA){var dB;dz.Set((dB=dz.Get(),dB===""?dA:dA===""?dB:dB+"\n"+dA));};cr.processMessage=function(dz){var dA;return cC.Return(b$.runReaderResult((dA=w.reader(),dA.Run(dA.Delay(function(){var dB,dC;switch(dz.$==1?(dB=dz.$0,1):dz.$==2?(dB=dz.$0,2):dz.$==3?(dB=dz.$0,3):dz.$==4?(dC=dz.$0,!cM.Equals(dC,null)&&dC.length===2?cD.get(dz.$0,0)==="AddOutput"?(dB=cD.get(dz.$0,1),4):6:6):dz.$==5?5:0){case 0:return dA.Return({$:0,$0:b_.id()});case 1:return dA.Bind(u.traverseSeq(S.snippetFromRefORm,dB),function(dD){return dA.Return({$:1,$0:cD.ofSeq(cB.choose(a.id,dD))});});case 2:b$.clearPredsCache();return dA.Bind(u.absorbO(function(){return new d({$:0,$0:(function(dD){return function(dE){return dD("Snippet not found "+cw.p$4(dE));};}(a.id))(dB)});},S.snippetFromRefORm(dB)),function(dD){return dA.ReturnFrom$1(w.op_BarGreaterGreater(w.op_BarGreaterGreater(S.fastCodeRm({$:1,$0:dD.snpId},{$:1,$0:dD.snpId}),function(dE){return dE[0];}),function(dE){return{$:0,$0:dE};}));});case 3:b$.clearPredsCache();return dA.Return(T.Hole.TODO_GetPredecessors);case 4:cq.appendMsgs(dB);return dA.Return({$:0,$0:"Ok"});case 5:return dA.Return({$:0,$0:self.document.baseURI});case 6:return dA.Return(T.Hole[(function(dD){return function(dE){return dD("TODO message: "+cw.p$5(dE));};}(a.id))(dz)]);}})))));};cr.wsStationClient=function(){cs.$cctor();return cs.wsStationClient;};cs.$cctor=function(){var dA,dE,dF,dM,dN,dP,dQ,dR,dS,dT,dV,dW,dX,dY,dZ,d1,d2,d3,d4,d5,d7,d8,d9,d_,d$,eb,ec,ed,ee,ef,eh,ei,ej,ek,el,en,eo,eq,er,et,eu,ew,ex,ey,ez,eA,eB,eD,eE,eH,eI,eL,eO,eP,eR,eS,eT,eW,eX,eY,eZ,e0,e1,e2,e3,e4,e5,e6,e7,e8,e9,e_,e$,fa,fb,fc,fd,fe,ff,fg,fh,fi,fj,fk,fl,fm,fn,fo,fp;cs.$cctor=a.ignore;cs.rtn=function(fq){return[fq];};cs.result=new k.New();cs.result$1=j.result();cs.asyncResult=new n.New();cs.asyncResultP=new o.New();cs.reader=new s.New();cs.reader$1=r.reader();cs.reader$2=new v.New();cs.reader$3=u.reader();cs.reader$4=new y.New();cs.reader$5=x.reader();function dz(fq){return cI.concat("\n",fq);}cs.unindentStr=function(fq){return dz(A.unindent(fq));};function dB(fq){return A.splitByChar("\n",fq);}function dC(fq){var fr,fs;return cJ.array(fq,{$:1,$0:0},{$:1,$0:(fr=0,(fs=cD.length(fq)-2,cM.Compare(fr,fs)===1?fr:fs))});}function dD(fq){return cI.concat("\n",fq);}cs.skipLastLine=(dA=function(fq){return dC(dB(fq));},function(fq){return dD(dA(fq));});cs.parseDateO=B.tryParseWith(function(fq){var fr,fs;fr=0;return[(fs=dt.TryParse(fq),fs!=null&&fs.$==1&&(fr=fs.$0,true)),fr];});cs.parseIntO=B.tryParseWith(function(fq){var fr;fr=0;return[du.TryParseInt32(fq,{get:function(){return fr;},set:function(fs){fr=fs;}}),fr];});cs.parseSingleO=B.tryParseWith(function(fq){var fr,fs;fr=0;return[(fs=a.Number(fq),a.isNaN(fs)?false:(fr=fs,true)),fr];});cs.parseDoubleO=B.tryParseWith(function(fq){var fr,fs;fr=0;return[(fs=a.Number(fq),a.isNaN(fs)?false:(fr=fs,true)),fr];});cs.parseGuidO=B.tryParseWith(function(fq){var fr;fr=null;return[cO.TryParse(fq,{get:function(){return fr;},set:function(fs){fr=fs;}}),fr];});cs["|Date|_|"]=B.parseDateO();cs["|Int|_|"]=B.parseIntO();cs["|Single|_|"]=B.parseSingleO();cs["|Double|_|"]=B.parseDoubleO();cs["|Guid|_|"]=B.parseGuidO();dF=(dE=1,[function(){dE=dE+1;return dE;},function(fq){dE=fq;}]);cs.setGeneration=dF[1];cs.getNextGeneration=dF[0];cs.defaultSnippet=Q.New(new P({$:0,$0:"00000000-0000-0000-0000-000000000000"}),"","",null,new cQ.New$1(null),[],0);function dG(fq){return fq.predecesorsCache();}cs.predsLRmMemo=function(fq){return u.memoizeRm(dG,S.predsLRm,fq);};function dH(fq){return fq.reducedCache();}cs.reducedOthersORmMemo=function(fq){return u.memoizeRm(dH,function(fr){return S.reducedOthersORm(fr[0],fr[1],fr[2]);},fq);};cs.deserGuid=function(fq){return Z.ifUndef("00000000-0000-0000-0000-000000000000",fq);};function dI(fq){return Z.ifUndef(0,fq);}cs.serFloat=[function(fq){return(function(fr){return function(fs){return fr(cA.prettyPrint(fs));};}(a.id))(fq);},function(fq){return dI(a.id(fq));}];function dJ(fq){return Z.ifUndef(0,fq);}cs.serInt=[function(fq){return(function(fr){return function(fs){return fr(cA.prettyPrint(fs));};}(a.id))(fq);},function(fq){return dJ(a.id(fq));}];function dK(fq){return Z.ifUndef(false,fq);}cs.serBool=[function(fq){return(function(fr){return function(fs){return fr(cA.prettyPrint(fs));};}(a.id))(fq);},function(fq){return dK(a.id(fq));}];function dL(fq){return Z.ifUndef("",fq);}cs.serString=[function(fq){return df.stringify(((di.Id())())(fq));},function(fq){return dL(a.id(fq));}];cs.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";cs.observers=cE.T.Empty;cs.css="\n                .tab-panel {\n                 overflow  : hidden   ;\n                 display   : flex     ;\n                 flex-flow : column   ;\n                 background: lightgray;\n                 height    : 100%    ;\n                 width     : 100%    ;\n                }\n                .tab-content {\n                 flex      : 1 1     ;\n                 overflow  : auto    ;\n                 position  : relative;\n                }\n                .tab-children {\n                 height    : 100%    ;\n                 width     : 100%    ;\n                 position  : absolute;\n                 display   : grid    ;\n                }\n                .tab-strip {\n                 padding   : 0pt     ;\n                 flex      : 0 0     ;\n                }\n                .tab {\n                 border     : 0.2pt solid transparent;\n                 padding    : 0pt 4pt;\n                 display    : inline-block;\n                 font-family: sans-serif;\n                 font-weight: 200;\n                 font-size  : small;\n                 color      : #666;\n                 cursor     : pointer;\n                }\n                .top>.tab {\n                 border-radius: 2pt 2pt 0pt 0pt;\n                 border-bottom-width: 0pt;\n                 vertical-align: bottom;\n                }\n                .bottom>.tab {\n                 border-top-width: 0pt;\n                 border-radius: 0pt 0pt 2pt 2pt;\n                 vertical-align: top;\n                }\n                .horizontal>.tab:not(:first-child) {\n                 border-left-width: 0pt;\n                }\n                .tab.hovering {\n                 background: red;\n                }\n                .tab.selected {\n                 background: white;\n                 border-left-width: 0.2pt;\n                 color: black;\n                 font-weight: 500;\n                 border-color: black;\n                }\n                .horizontal>.tab.selected {\n                 border-left-width: 0.2pt;\n                }\n                ::slotted(*              ) { \n                 width : 100%;\n                 height: 100%;\n                }\n                        ";cs.init=dd.Create(function(){var fq,fr;fq="wcomp-tabstrip";fr=self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New;cT.log("defineWebComponent: "+fq);c7.setPrototypeOf(fr.prototype,self.HTMLElement.prototype);c7.setPrototypeOf(fr,self.HTMLElement);c7.setPrototypeOf(_7.Constructor.prototype,fr.prototype);self.customElements.define(fq,_7.Constructor);});cs.layoutHorizontal=cz.Curried(function(fq,fr,fs,ft,fu){return c0.get_Empty();},5);cs.layoutVertical=cz.Curried(function(fq,fr,fs,ft,fu){return c0.get_Empty();},5);cs.includes=["/EPFileX/monaco/package/min/vs/loader.js"];cs.loader=(dM=null,cC.Delay(function(){return cC.Bind(_0.LoadFilesAsync(_.includes()),function(){self.require.config({paths:{vs:"/EPFileX/monaco/package/min/vs"}});return cC.Bind(cC.FromContinuations(function(fq,fr){return self.require(["vs/editor/editor.main"],fq,fr);}),function(){return cC.Return(null);});});}));cs.plugIns=new dv.New$1(function(fq){return fq.plgName;});cs.mainDocV=cW.Create$1("AppFramework.AppFwkClient");cs.TemplateFileName="D:\\Abe\\CIPHERWorkspace\\FSharpStationN\\website\\AppFramework.html";cs.defaultPlugIn=bs.New("",[],[],[],[],[]);cs.selectionPlugInO=cW.Create$1({$:1,$0:"AppFramework"});function dO(fq){var fr;function fs(fu){return bm.plugIns().TryFindByKey(fu);}function ft(fu){var fv;fv=bm.defaultPlugIn();return fu==null?fv:fu.$0;}fr=function(fu){return fu==null?null:fs(fu.$0);};return function(fu){return ft(fr(fu));};}cs.currentPlugInW=(dN=bm.selectionPlugInO().get_View(),cV.Map2(function(fq,fr){return(dO(fq))(fr);},bm.plugIns().v,dN));cs.currentPlugInV=new c8.New(bm.currentPlugInW(),function(fq){bm.plugIns().Append(fq);});cs.AppFwkClient=dd.Create(function(){var fq,fr,fs,ft,fu,fv,fw,fx,fy;return(fq=(fr=bm.renderQueries(),(fs=bm.renderActions(),(ft=bm.renderDocs(),(fu=bm.renderViews(),(fv=bm.renderVars(),(fw=bm.renderPlugIns(),da.Make().WithHole({$:0,$0:"plugins",$1:fw})).WithHole({$:2,$0:"pluginname",$1:cV.Map(function(fz){return fz.plgName;},bm.currentPlugInW())}).WithHole({$:0,$0:"vars",$1:fv})).WithHole({$:0,$0:"views",$1:fu})).WithHole({$:0,$0:"docs",$1:ft})).WithHole({$:0,$0:"actions",$1:fs})).WithHole({$:0,$0:"queries",$1:fr})),(fx=db.CompleteHoles(fq.k,fq.h,[]),(fy=new dc.New(fx[1],cv.appfwkclient(fx[0])),(fq.i=fy,fy)))).get_Doc();});cs.actHello=bm.newAct("Hello",function(){self.alert("Hello!");});cs.qryDocs=bm.newQry("getDocNames",function(){return cD.ofSeq(cB.collect(function(fq){return cB.map(function(fr){return fq.plgName+"."+fr.docName;},fq.plgDocs);},(bm.plugIns())["var"].Get()));});cs.getMainDoc=dd.Create(function(){_8.init(cz.Curried(bm.horizontal,5),cz.Curried(bm.vertical,5));_6.init().f();bm.plugIns().Append(bs.New("AppFramework",[bm.newVar("mainDocV",bm.mainDocV())],[],[bm.newDoc("AppFwkClient",bm.AppFwkClient())],[bm.actHello(),bm.actHello(),bm.actHello(),bm.actHello()],[bm.qryDocs()]));return bm.mainDoc();});function dU(fq,fr){dQ.set_Item(fq,fr);return fr;}cs.createSplitterM=(dP=(dQ=new dw.New$5(),[[function(fq){var fr;fr=null;return dQ.TryGetValue(fq,{get:function(){return fr;},set:function(fs){fr=fs;}})?{$:1,$0:fr}:null;},function(fq){return function(fr){return dU(fq,fr);};}],function(){dQ.Clear();}]),(dR=dP[0],[(dS=dR[1],(dT=dR[0],function(fq){var fr,fs;fr=dT(fq);return fr==null?(fs=bu.createSplitter.apply(null,fq),(dS(fq))(fs)):fr.$0;})),dP[1]]))[0];function d0(fq,fr){dW.set_Item(fq,fr);return fr;}cs.createButtonM=(dV=(dW=new dw.New$5(),[[function(fq){var fr;fr=null;return dW.TryGetValue(fq,{get:function(){return fr;},set:function(fs){fr=fs;}})?{$:1,$0:fr}:null;},function(fq){return function(fr){return d0(fq,fr);};}],function(){dW.Clear();}]),(dX=dV[0],[(dY=dX[1],(dZ=dX[0],function(fq){var fr,fs;fr=dZ(fq);return fr==null?(fs=bu.createButton.apply(null,fq),(dY(fq))(fs)):fr.$0;})),dV[1]]))[0];function d6(fq,fr){d2.set_Item(fq,fr);return fr;}cs.createInputM=(d1=(d2=new dw.New$5(),[[function(fq){var fr;fr=null;return d2.TryGetValue(fq,{get:function(){return fr;},set:function(fs){fr=fs;}})?{$:1,$0:fr}:null;},function(fq){return function(fr){return d6(fq,fr);};}],function(){d2.Clear();}]),(d3=d1[0],[(d4=d3[1],(d5=d3[0],function(fq){var fr,fs;fr=d5(fq);return fr==null?(fs=bu.createInput.apply(null,fq),(d4(fq))(fs)):fr.$0;})),d1[1]]))[0];function ea(fq,fr){d8.set_Item(fq,fr);return fr;}cs.createTextAreaM=(d7=(d8=new dw.New$5(),[[function(fq){var fr;fr=null;return d8.TryGetValue(fq,{get:function(){return fr;},set:function(fs){fr=fs;}})?{$:1,$0:fr}:null;},function(fq){return function(fr){return ea(fq,fr);};}],function(){d8.Clear();}]),(d9=d7[0],[(d_=d9[1],(d$=d9[0],function(fq){var fr,fs;fr=d$(fq);return fr==null?(fs=bu.createTextArea.apply(null,fq),(d_(fq))(fs)):fr.$0;})),d7[1]]))[0];function eg(fq,fr){ec.set_Item(fq,fr);return fr;}cs.createElementM=(eb=(ec=new dw.New$5(),[[function(fq){var fr;fr=null;return ec.TryGetValue(fq,{get:function(){return fr;},set:function(fs){fr=fs;}})?{$:1,$0:fr}:null;},function(fq){return function(fr){return eg(fq,fr);};}],function(){ec.Clear();}]),(ed=eb[0],[(ee=ed[1],(ef=ed[0],function(fq){var fr,fs;fr=ef(fq);return fr==null?(fs=bu.createElement.apply(null,fq),(ee(fq))(fs)):fr.$0;})),eb[1]]))[0];function em(fq,fr){ei.set_Item(fq,fr);return fr;}cs.createDocM=(eh=(ei=new dw.New$5(),[[function(fq){var fr;fr=null;return ei.TryGetValue(fq,{get:function(){return fr;},set:function(fs){fr=fs;}})?{$:1,$0:fr}:null;},function(fq){return function(fr){return em(fq,fr);};}],function(){ei.Clear();}]),(ej=eh[0],[(ek=ej[1],(el=ej[0],function(fq){var fr,fs;fr=el(fq);return fr==null?(fs=bu.createDoc.apply(null,fq),(ek(fq))(fs)):fr.$0;})),eh[1]]))[0];cs.MessageBrokerId="<MessageBroker>";cs.MessageBrokerAddress=new by({$:0,$0:bx.MessageBrokerId()});cs.id="FSharpStation"+a.String(dx.now());cs.rootDir=".";cs.srcDir=".";cC.Start((en=null,cC.Delay(function(){return cC.Bind((new dq.New()).Async("FSharpStation:FsRoot.FSharpStation+FStation.getRootDir:-447555547",[]),function(fq){b_.set_rootDir(fq+"/"+"..");b_.set_srcDir(fq+"/"+"..\\src");(((cz.Curried3(function(fr,fs,ft){return fr("fileName = "+cA.toSafe(fs)+"\\"+cA.toSafe(ft)+".fsx");}))(function(fr){cT.log(fr);}))(b_.srcDir()))(b_.id());return cC.Zero();});})),null);cs.annotationsV=cW.Create$1("");cs.snippets=new dv.New$1(function(fq){return fq.snpId;});cs.hierarchy=cW.Create$1([]);cs.generation=cW.Create$1(5);cs.currentSnippetIdOV=cW.Create$1(null);cs.codeSnippetIdOV=cW.Create$1(null);cs.collapsedV=cW.Create$1(new cQ.New$1(null));function ep(fq,fr){eo.set_Item(fq,fr);return fr;}eq=(eo=new dw.New$5(),[[function(fq){var fr;fr=null;return eo.TryGetValue(fq,{get:function(){return fr;},set:function(fs){fr=fs;}})?{$:1,$0:fr}:null;},function(fq){return function(fr){return ep(fq,fr);};}],function(){eo.Clear();}]);cs.predsCache=eq[0];cs.clearPreds=eq[1];function es(fq,fr){er.set_Item(fq,fr);return fr;}et=(er=new dw.New$5(),[[function(fq){var fr;fr=null;return er.TryGetValue(fq,{get:function(){return fr;},set:function(fs){fr=fs;}})?{$:1,$0:fr}:null;},function(fq){return function(fr){return es(fq,fr);};}],function(){er.Clear();}]);cs.reducCache=et[0];cs.clearReduc=et[1];function ev(fq,fr){eu.set_Item(fq,fr);return fr;}ew=(eu=new dw.New$5(),[[function(fq){var fr;fr=null;return eu.TryGetValue(fq,{get:function(){return fr;},set:function(fs){fr=fs;}})?{$:1,$0:fr}:null;},function(fq){return function(fr){return ev(fq,fr);};}],function(){eu.Clear();}]);cs.parentCache=ew[0];cs.clearParent=ew[1];cs.getParentIdO=(ex=b$.parentCache(),(ey=ex[1],(ez=ex[0],function(fq){var fr,fs;fr=ez(fq);return fr==null?(fs=b$.getParentIdONotMemo(fq),(ey(fq))(fs)):fr.$0;})));cV.Sink(function(fq){var fr,fs;if(fq!=null&&fq.$==1){fr=fq.$0;fs=b$.codeSnippetIdOV().Get();fs!=null&&fs.$==1?(b$.iterReader(w.op_BarGreaterGreater(w.op_BarGreaterGreater(w.op_BarGreaterGreater(w.op_BarGreaterGreater(w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(S.snippetORm(fs.$0),function(ft){return ft==null?null:{$:1,$0:S.uniquePredsRm(ft.$0)};}),u.insertO),cR.toList),function(ft){return cE.collect(a.id,ft);}),function(ft){return cE.contains(fr,ft);}),function(ft){if(ft);else b$.codeSnippetIdOV().Set({$:1,$0:fr});})),b$.clearPredsCache()):b$.codeSnippetIdOV().Set({$:1,$0:fr});}},b$.currentSnippetIdOV().get_View());function eC(fq){return fq.id();}cV.Sink(function(fq){var fr;b$.clearPredsCache();fr=cD.ofSeq(cB.delay(function(){return cB.collect(function(fs){return cB.append([b$.snippets().FindByKey(fs)],cB.delay(function(){return cB.filter(function(ft){return b$.isDescendantOf(fs,ft.snpId);},(b$.snippets())["var"].Get());}));},fq);}));b$.snippets().Set(fr);},(eA=cV.Map(function(fq){return cD.map(eC,fq);},b$.hierarchy().get_View()),(eB=[cW.Create$1(null)],(cV.Sink(function(fq){if(!cM.Equals(eB[0].Get(),fq))eB[0].Set(fq);},eA),eB[0].get_View()))));cs.CurrentSnippetIdW=cV.Map(function(fq){var fr;fr=S.defaultSnippet().snpId;return fq==null?fr:fq.$0;},b$.currentSnippetIdOV().get_View());function eF(fq){var fr;fr=S.defaultSnippet();return fq==null?fr:fq.$0;}function eG(fq){return b$.snippets().TryFindByKeyAsView(fq);}cs.currentSnippetW=cV.Map((eD=function(fq){return fq==null?null:a.id(fq.$0);},function(fq){return eF(eD(fq));}),cV.Bind((eE=function(fq){return fq==null?null:{$:1,$0:eG(fq.$0)};},function(fq){return Y.insertWO(eE(fq));}),b$.currentSnippetIdOV().get_View()));function eJ(fq){var fr;fr=S.defaultSnippet();return fq==null?fr:fq.$0;}function eK(fq){return b$.snippets().TryFindByKeyAsView(fq);}cs.codeSnippetW=cV.Map((eH=function(fq){return fq==null?null:a.id(fq.$0);},function(fq){return eJ(eH(fq));}),cV.Bind((eI=function(fq){return fq==null?null:{$:1,$0:eK(fq.$0)};},function(fq){return Y.insertWO(eI(fq));}),b$.codeSnippetIdOV().get_View()));cs.currentSnippetV=new c8.New(b$.currentSnippetW(),function(fq){b$.setSnippet(fq);});function eM(fq,fr){return[fq.id(),fr];}function eN(fq){function fr(ft){return U.listNodes(0,ft);}function fs(ft){return b$.runReader(b$.handleError,ft);}return function(ft){return fs(fr(ft));};}cs.getHierarchyW=cV.Map(cD.ofSeq,cV.Map(function(fq){return cB.map(function(fr){return eM(fr[0],fr[1]);},fq);},(eL=b$.hierarchy().get_View(),cV.Map2(function(fq,fr){return(eN(fq))(fr);},b$.collapsedV().get_View(),eL))));function eQ(fq,fr){var fs;fs=null;return cC.Delay(function(){return cC.Bind(cC.Sleep(350),function(){return cC.Return(b$.runReader(b$.handleError,S.fastCodeRm(b$.currentSnippetIdOV().Get(),b$.codeSnippetIdOV().Get())));});});}cs.codeAndStartsW=(eO=b$.codeSnippetW(),(eP=b$.snippets().v,(((cz.Curried3(cV.MapAsync2))(eQ))(eO))(eP)));cs.FsCodeW=cV.Map(function(fq){return fq[0];},b$.codeAndStartsW());cs.codeStartsW=cV.Map(function(fq){return fq[1];},b$.codeAndStartsW());cs.SaveAsClassW=cV.Map2(function(fq,fr){return cB.exists(function(fs){return fs.snpGeneration>fr;},fq)?"btn-primary":"";},b$.snippets().v,b$.generation().get_View());cs.drag=cb.DragNone;cs.rootdir="D:\\Abe\\CIPHERWorkspace\\FSharpStationN\\website";cs.TemplatesFileName="D:\\Abe\\CIPHERWorkspace\\FSharpStationN\\website"+"\\Templates.html";((function(fq){return function(fr){return fq(cA.toSafe(fr));};}(function(fq){cT.log(fq);}))("D:\\Abe\\CIPHERWorkspace\\FSharpStationN\\website\\Templates.html"));cs.startsV=cW.Create$1([]);cs.defaultStart=(eR=[[P.get_Empty(),""],[0,1,0]],function(fq){return fq==null?eR:fq.$0;});cs.fileName="none.fsx";cs.editorConfigO=null;cV.Sink(function(fq){var fr,fs;try{fr=(fs=cf.editorConfigO(),fs==null?null:fs.$0.editorO);fr==null?null:(fr.$0.setModel(cf.getSnippetModel(fq)),b_.annotationsV().Set(b_.annotationsV().Get()));}catch(ft){null;}},b$.CurrentSnippetIdW());cs.rexGuid$1="\\((\\d+)\\,\\s*(\\d+)\\) - \\((\\d+)\\,\\s*(\\d+)\\).*([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";function eU(fq){return fq.$0;}function eV(fq){return new P({$:0,$0:fq});}cs.serSnippetId=(eS=cD.head(cI.SplitChars((function(fq){return function(fr){return fq(cw.p(fr));};}(a.id))(eV("00000000-0000-0000-0000-000000000000")),[" "],0)),(eT=(function(fq){return function(fr){return fq(cA.prettyPrint(fr));};}(a.id))(eS),[function(fq){var fr;fr=eU(fq);return(((cz.Curried3(function(fs,ft,fu){return fs("{"+cI.PadLeft(cA.toSafe(ft),10)+" :"+cA.prettyPrint(fu)+"}");}))(a.id))(eT))(fr);},function(fq){var fr;return eV((fr=fq[eS],(Z.deserGuid())(fr)));}]));cs.serSnippet=(eW=[(eX=cm.serSnippetId(),Z.serField("snpId",function(fq){return fq.snpId;},function(fq,fr){return Q.New(fq,fr.snpName,fr.snpContent,fr.snpParentIdO,fr.snpPredIds,fr.snpProperties,fr.snpGeneration);},eX[0],eX[1])),(eY=Z.serString(),Z.serField("snpName",function(fq){return fq.snpName;},function(fq,fr){return Q.New(fr.snpId,fq,fr.snpContent,fr.snpParentIdO,fr.snpPredIds,fr.snpProperties,fr.snpGeneration);},eY[0],eY[1])),(eZ=Z.serString(),Z.serField("snpContent",function(fq){return fq.snpContent;},function(fq,fr){return Q.New(fr.snpId,fr.snpName,fq,fr.snpParentIdO,fr.snpPredIds,fr.snpProperties,fr.snpGeneration);},eZ[0],eZ[1])),(e0=(e1=cm.serSnippetId(),Z.serOpt(e1[0],e1[1])),Z.serField("snpParentIdO",function(fq){return fq.snpParentIdO;},function(fq,fr){return Q.New(fr.snpId,fr.snpName,fr.snpContent,fq,fr.snpPredIds,fr.snpProperties,fr.snpGeneration);},e0[0],e0[1])),(e2=(e3=cm.serSnippetId(),Z.serSet(e3[0],e3[1])),Z.serField("snpPredIds",function(fq){return fq.snpPredIds;},function(fq,fr){return Q.New(fr.snpId,fr.snpName,fr.snpContent,fr.snpParentIdO,fq,fr.snpProperties,fr.snpGeneration);},e2[0],e2[1])),(e4=(e5=(e6=Z.serString(),Z.serDup((Z.serString())[0],(Z.serString())[1],e6[0],e6[1])),Z.serArr(e5[0],e5[1])),Z.serField("snpProperties",function(fq){return fq.snpProperties;},function(fq,fr){return Q.New(fr.snpId,fr.snpName,fr.snpContent,fr.snpParentIdO,fr.snpPredIds,fq,fr.snpGeneration);},e4[0],e4[1])),(e7=Z.serInt(),Z.serField("snpGeneration",function(fq){return fq.snpGeneration;},function(fq,fr){return Q.New(fr.snpId,fr.snpName,fr.snpContent,fr.snpParentIdO,fr.snpPredIds,fr.snpProperties,fq);},e7[0],e7[1]))],(e8=S.New("","",null),[function(fq){var fr;function fs(ft,fu,fv){return(((cz.Curried3(function(fw,fx,fy){return fw(cA.prettyPrint(fx)+": "+cA.toSafe(fy));}))(a.id))(ft))(fu(fq));}fr=cI.concat(", ",cB.map(function(ft){return fs(ft[0],ft[1],ft[2]);},eW));return(function(ft){return function(fu){return ft("{"+cA.toSafe(fu)+"}");};}(a.id))(fr);},function(fq){return!fq?e8:cB.fold(function(fr,fs){return(fs[2](fr))(fq[fs[0]]);},e8,eW);}]));cs.serModel=(e9=[(e_=(e$=cm.serSnippet(),Z.serArr(e$[0],e$[1])),Z.serField("snippets",function(fq){return fq.snippets;},function(fq,fr){return cn.New(fq,fr.generation,fr.collapsed);},e_[0],e_[1])),(fa=Z.serInt(),Z.serField("generation",function(fq){return fq.generation;},function(fq,fr){return cn.New(fr.snippets,fq,fr.collapsed);},fa[0],fa[1])),(fb=(fc=cm.serSnippetId(),Z.serSet(fc[0],fc[1])),Z.serField("collapsed",function(fq){return fq.collapsed;},function(fq,fr){return cn.New(fr.snippets,fr.generation,fq);},fb[0],fb[1]))],(fd=cn.New([],0,new cQ.New$1(null)),[function(fq){var fr;function fs(ft,fu,fv){return(((cz.Curried3(function(fw,fx,fy){return fw(cA.prettyPrint(fx)+": "+cA.toSafe(fy));}))(a.id))(ft))(fu(fq));}fr=cI.concat(", ",cB.map(function(ft){return fs(ft[0],ft[1],ft[2]);},e9));return(function(ft){return function(fu){return ft("{"+cA.toSafe(fu)+"}");};}(a.id))(fr);},function(fq){return!fq?fd:cB.fold(function(fr,fs){return(fs[2](fr))(fq[fs[0]]);},fd,e9);}]));cs.fileName$1=cW.Create$1("");cs.serSnippetId2=[function(fq){return(function(fr){return function(fs){return fr(cA.prettyPrint(fs));};}(a.id))(fq);},function(fq){var fr;return new P({$:0,$0:(fr=fq.Item,(Z.deserGuid())(fr))});}];cs.serSnippet2=(fe=[(ff=cp.serSnippetId2(),Z.serField("id",function(fq){return fq.snpId;},function(fq,fr){return Q.New(cM.Equals(fq,P.get_Empty())?new P({$:0,$0:cO.NewGuid()}):fq,fr.snpName,fr.snpContent,fr.snpParentIdO,fr.snpPredIds,fr.snpProperties,fr.snpGeneration);},ff[0],ff[1])),(fg=Z.serString(),Z.serField("name",function(fq){return fq.snpName;},function(fq,fr){return Q.New(fr.snpId,fq,fr.snpContent,fr.snpParentIdO,fr.snpPredIds,fr.snpProperties,fr.snpGeneration);},fg[0],fg[1])),(fh=Z.serString(),Z.serField("content",function(fq){return fq.snpContent;},function(fq,fr){return Q.New(fr.snpId,fr.snpName,fq,fr.snpParentIdO,fr.snpPredIds,fr.snpProperties,fr.snpGeneration);},fh[0],fh[1])),(fi=(fj=cp.serSnippetId2(),Z.serOpt(fj[0],fj[1])),Z.serField("parent",function(fq){return fq.snpParentIdO;},function(fq,fr){return Q.New(fr.snpId,fr.snpName,fr.snpContent,cM.Equals(fq,{$:1,$0:P.get_Empty()})?null:fq,fr.snpPredIds,fr.snpProperties,fr.snpGeneration);},fi[0],fi[1])),(fk=(fl=cp.serSnippetId2(),Z.serArr(fl[0],fl[1])),Z.serField("predecessors",function(fq){return cD.ofSeq(fq.snpPredIds);},function(fq,fr){return Q.New(fr.snpId,fr.snpName,fr.snpContent,fr.snpParentIdO,new cQ.New(fq),fr.snpProperties,fr.snpGeneration);},fk[0],fk[1]))],(fm=S.New("","",null),[function(fq){var fr;function fs(ft,fu,fv){return(((cz.Curried3(function(fw,fx,fy){return fw(cA.prettyPrint(fx)+": "+cA.toSafe(fy));}))(a.id))(ft))(fu(fq));}fr=cI.concat(", ",cB.map(function(ft){return fs(ft[0],ft[1],ft[2]);},fe));return(function(ft){return function(fu){return ft("{"+cA.toSafe(fu)+"}");};}(a.id))(fr);},function(fq){return!fq?fm:cB.fold(function(fr,fs){return(fs[2](fr))(fq[fs[0]]);},fm,fe);}]));cs.serSnippets=(fn=cp.serSnippet2(),Z.serArr(fn[0],fn[1]));cs.outputMsgs=cW.Create$1("");fo=b$.codeAndStartsW();cV.Sink(c.delayed(300,function(fq){cf.parse(fq[0],fq[1]);}),fo);cV.Sink(function(fq){self.onbeforeunload=fq!==""?function(fr){fr.returnValue="Changes you made may not be saved.";}:null;},b$.SaveAsClassW());cs.wsStationClient=new bJ.New(b_.id(),null,null);cC.Start((fp=null,cC.Delay(function(){return cC.Bind(cC.Sleep(1000),function(){return cC.While(function(){return true;},cC.Delay(function(){return cC.TryWith(cC.Delay(function(){var fq,fr,fs,ft,fu,fv;function fw(fA){return(cu.j$4())(df.parse(fA));}function fx(fA){return df.stringify((ct.j$4())(fA));}function fy(fA){return cC.Return(fA);}function fz(fA){cH.FailWith(fA);}fq=cr.wsStationClient();fq.payloadProcessorO={$:1,$0:(fr=function(fA){return cr.processMessage(fw(fA));},(fs=(ft=function(fA){return fy(fx(fA));},function(fA){return cC.Bind(fA,ft);}),function(fA){return fs(fr(fA));}))};m.iterA(function(fA){return fz(a.String(fA));},a.ignore,fq.sendAndForget(bx.msgType(bA.MsgInformation,(fu=bx.MessageBrokerAddress(),(fv=df.stringify(((di.Id())())("Registering Processor")),bD.New(new by({$:0,$0:""}),fu,bA.MsgRequest,"",cO.NewGuid(),fv,bC.NoReply))))));return cC.Bind(cC.Sleep(60000),function(){return cC.Return(null);});}),function(fq){((function(fr){return function(fs){return fr(cA.toSafe(fs));};}(function(fr){cT.log(fr);}))(fq.message));return cC.Bind(cC.Sleep(1000),function(){return cC.Return(null);});});}));});})),null);};ct.j$4=function(){return ct._v$4?ct._v$4:ct._v$4=(di.EncodeUnion(void 0,"$",[[0,[["$0","ResultValue",ct.j$6,0]]],[1,[["$0","ErrorValue",ct.j$5,0]]]]))();};ct.j$6=function(){return ct._v$6?ct._v$6:ct._v$6=(di.EncodeUnion(void 0,"$",[[0,[["$0","Item",di.Id(),0]]],[1,[["$0","Item",di.EncodeArray(ct.j$7),0]]]]))();};cu.j$6=function(){return cu._v$6?cu._v$6:cu._v$6=(di.DecodeUnion(P,"$",[[0,[["$0","Item",di.Id(),0]]]]))();};cu.j$5=function(){return cu._v$5?cu._v$5:cu._v$5=(di.DecodeUnion(void 0,"$",[[0,[["$0","Item",cu.j$6,0]]],[1,[["$0","Item",di.DecodeArray(di.Id()),0]]]]))();};cv.fixedsplitterver=function(dz){return dz?c5.GetOrLoadTemplate("appframework",{$:1,$0:"fixedsplitterver"},function(){return dy.parseHTML("<div style=\"display: grid; \r\n               grid-gap: 0px; \r\n               box-sizing: border-box; \r\n               height: 100%;\r\n               width : 100%;\r\n               grid-template-areas: 'one two'; \r\n               grid-template-rows   :100%; \r\n               overflow: hidden; \r\n               grid-template-columns: ${PartSizes}\">\r\n       <div ws-hole=\"First\" style=\"grid-area: one; \" class=\"relative\"></div>\r\n       <div ws-hole=\"Second\" style=\"grid-area: two; \" class=\"relative\"></div>\r\n    </div>");},dz):c5.PrepareTemplate("appframework",{$:1,$0:"fixedsplitterver"},function(){return dy.parseHTML("<div style=\"display: grid; \r\n               grid-gap: 0px; \r\n               box-sizing: border-box; \r\n               height: 100%;\r\n               width : 100%;\r\n               grid-template-areas: 'one two'; \r\n               grid-template-rows   :100%; \r\n               overflow: hidden; \r\n               grid-template-columns: ${PartSizes}\">\r\n       <div ws-hole=\"First\" style=\"grid-area: one; \" class=\"relative\"></div>\r\n       <div ws-hole=\"Second\" style=\"grid-area: two; \" class=\"relative\"></div>\r\n    </div>");});};cv.fixedsplitterhor=function(dz){return dz?c5.GetOrLoadTemplate("appframework",{$:1,$0:"fixedsplitterhor"},function(){return dy.parseHTML("<div style=\"display: grid; \r\n          grid-gap: 0px; \r\n          box-sizing: border-box; \r\n          height: 100%;\r\n          width : 100%;\r\n          grid-template-areas: 'one' 'two'; \r\n          grid-template-columns:100%; \r\n          overflow: hidden; \r\n          grid-template-rows   : ${PartSizes}\">\r\n  <div ws-hole=\"First\" style=\"grid-area: one; \" class=\"relative\"></div>\r\n  <div ws-hole=\"Second\" style=\"grid-area: two; \" class=\"relative\"></div>\r\n    </div>");},dz):c5.PrepareTemplate("appframework",{$:1,$0:"fixedsplitterhor"},function(){return dy.parseHTML("<div style=\"display: grid; \r\n          grid-gap: 0px; \r\n          box-sizing: border-box; \r\n          height: 100%;\r\n          width : 100%;\r\n          grid-template-areas: 'one' 'two'; \r\n          grid-template-columns:100%; \r\n          overflow: hidden; \r\n          grid-template-rows   : ${PartSizes}\">\r\n  <div ws-hole=\"First\" style=\"grid-area: one; \" class=\"relative\"></div>\r\n  <div ws-hole=\"Second\" style=\"grid-area: two; \" class=\"relative\"></div>\r\n    </div>");});};cw.p=function(dz){return"SnippetId "+cA.prettyPrint(dz.$0);};ct.j$5=function(){return ct._v$5?ct._v$5:ct._v$5=(di.EncodeUnion(d,"$",[[0,[["$0","Item",di.Id(),0]]],[1,[["$0","Item",di.Id(),0]]],[2,[["$0","Item",di.Id(),0]]],[3,[["$0","Item1",di.Id(),0],["$1","Item2",di.Id(),0]]]]))();};cv.appfwkclient=function(dz){var dA;dA={$:1,$0:"appfwkclient"};cv.fixedsplitterhor();cv.fixedsplitterver();return dz?c5.GetOrLoadTemplate("appframework",dA,function(){return dy.parseHTML("<div>\r\n        <ws-fixedsplitterhor>\r\n            <partsizes>55px calc(100% - 55px)</partsizes>\r\n            <first>\r\n                <span style=\"display: grid;\r\n                      grid-template-columns: 30% 20% 20% 10%;\r\n                      grid-gap: 25px;\r\n                    \">\r\n                    <div class=\"mainTitle\">AppFramework</div>\r\n                </span>\r\n            </first>\r\n            <second>\r\n                    <ws-fixedsplitterver>\r\n                        <partsizes>calc(100% - 150px) 150px</partsizes>\r\n                        <first>\r\n                            <wcomp-splitter vertical=\"\" value=\"18\" max=\"100\">\r\n                                <div><div ws-hole=\"PlugIns\" style=\"overflow:auto\">\r\n                                    \r\n                                </div></div>\r\n                                <wcomp-splitter vertical=\"\" value=\"100\" min=\"30\" max=\"100\">\r\n                                    <ws-fixedsplitterhor>\r\n                                        <partsizes>32px calc(100% - 32px)</partsizes>\r\n                                        <first>\r\n                                            <div>\r\n                                                <div class=\"input-group\">\r\n                                                    <span class=\"input-group-addon\">name:</span>\r\n                                                    <span class=\"input-group-addon\">${PlugInName}</span>\r\n                                                </div>\r\n                                            </div>\r\n                                        </first>\r\n                                        <second>\r\n                                            <div style=\"overflow:auto\">\r\n                                                <div>\r\n                                                    <div>Docs:</div>\r\n                                                    <div ws-hole=\"Docs\" style=\"overflow:auto\"></div>\r\n                                                </div>\r\n                                                <div>\r\n                                                    <div>Vars:</div>\r\n                                                    <div ws-hole=\"Vars\" style=\"overflow:auto\">\r\n                                                            \r\n                                                    </div>\r\n                                                </div>\r\n                                                <div>\r\n                                                    <div>Views:</div>\r\n                                                    <div ws-hole=\"Views\" style=\"overflow:auto\">\r\n                                                        \r\n                                                    </div>\r\n                                                </div>\r\n                                                <div>\r\n                                                    <div>Queries:</div>\r\n                                                    <div ws-hole=\"Queries\" style=\"overflow:auto\"></div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </second>\r\n                                    </ws-fixedsplitterhor>\r\n                                    <wcomp-tabstrip>\r\n                                        <div tabname=\"Properties\">\r\n                                            <div>\r\n                                                <table style=\"border-spacing:0px\">\r\n                                                    <thead>\r\n                                                        <th style=\"width: 30%  \">Name</th>\r\n                                                        <th style=\"width: 70% \">Value</th>\r\n                                                    </thead>\r\n                                                    <tbody ws-hole=\"Properties\"></tbody>\r\n                                                </table>\r\n                                                <button ws-onclick=\"AddProperty\" class=\"add is-small\">add ...</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </wcomp-tabstrip>\r\n                                </wcomp-splitter>\r\n                            </wcomp-splitter>\r\n                        </first>\r\n                        <second>\r\n                            <div style=\"\r\n                                overflow: hidden;\r\n                                display: grid;\r\n                                grid-template-columns: 100%;\r\n                                grid-template-rows: repeat(15, calc(100% / 15));\r\n                                bxackground-color: #eee;\r\n                                box-sizing: border-box;\r\n                                padding : 5px;\r\n                                grid-gap: 5px;\r\n                                margin-right: 21px;\r\n                           \" class=\"absolute\" ws-hole=\"Actions\">\r\n                                \r\n                                \r\n                            </div>\r\n                        </second>\r\n                    </ws-fixedsplitterver>\r\n            </second>\r\n        </ws-fixedsplitterhor>\r\n    </div>");},dz):c5.PrepareTemplate("appframework",dA,function(){return dy.parseHTML("<div>\r\n        <ws-fixedsplitterhor>\r\n            <partsizes>55px calc(100% - 55px)</partsizes>\r\n            <first>\r\n                <span style=\"display: grid;\r\n                      grid-template-columns: 30% 20% 20% 10%;\r\n                      grid-gap: 25px;\r\n                    \">\r\n                    <div class=\"mainTitle\">AppFramework</div>\r\n                </span>\r\n            </first>\r\n            <second>\r\n                    <ws-fixedsplitterver>\r\n                        <partsizes>calc(100% - 150px) 150px</partsizes>\r\n                        <first>\r\n                            <wcomp-splitter vertical=\"\" value=\"18\" max=\"100\">\r\n                                <div><div ws-hole=\"PlugIns\" style=\"overflow:auto\">\r\n                                    \r\n                                </div></div>\r\n                                <wcomp-splitter vertical=\"\" value=\"100\" min=\"30\" max=\"100\">\r\n                                    <ws-fixedsplitterhor>\r\n                                        <partsizes>32px calc(100% - 32px)</partsizes>\r\n                                        <first>\r\n                                            <div>\r\n                                                <div class=\"input-group\">\r\n                                                    <span class=\"input-group-addon\">name:</span>\r\n                                                    <span class=\"input-group-addon\">${PlugInName}</span>\r\n                                                </div>\r\n                                            </div>\r\n                                        </first>\r\n                                        <second>\r\n                                            <div style=\"overflow:auto\">\r\n                                                <div>\r\n                                                    <div>Docs:</div>\r\n                                                    <div ws-hole=\"Docs\" style=\"overflow:auto\"></div>\r\n                                                </div>\r\n                                                <div>\r\n                                                    <div>Vars:</div>\r\n                                                    <div ws-hole=\"Vars\" style=\"overflow:auto\">\r\n                                                            \r\n                                                    </div>\r\n                                                </div>\r\n                                                <div>\r\n                                                    <div>Views:</div>\r\n                                                    <div ws-hole=\"Views\" style=\"overflow:auto\">\r\n                                                        \r\n                                                    </div>\r\n                                                </div>\r\n                                                <div>\r\n                                                    <div>Queries:</div>\r\n                                                    <div ws-hole=\"Queries\" style=\"overflow:auto\"></div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </second>\r\n                                    </ws-fixedsplitterhor>\r\n                                    <wcomp-tabstrip>\r\n                                        <div tabname=\"Properties\">\r\n                                            <div>\r\n                                                <table style=\"border-spacing:0px\">\r\n                                                    <thead>\r\n                                                        <th style=\"width: 30%  \">Name</th>\r\n                                                        <th style=\"width: 70% \">Value</th>\r\n                                                    </thead>\r\n                                                    <tbody ws-hole=\"Properties\"></tbody>\r\n                                                </table>\r\n                                                <button ws-onclick=\"AddProperty\" class=\"add is-small\">add ...</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </wcomp-tabstrip>\r\n                                </wcomp-splitter>\r\n                            </wcomp-splitter>\r\n                        </first>\r\n                        <second>\r\n                            <div style=\"\r\n                                overflow: hidden;\r\n                                display: grid;\r\n                                grid-template-columns: 100%;\r\n                                grid-template-rows: repeat(15, calc(100% / 15));\r\n                                bxackground-color: #eee;\r\n                                box-sizing: border-box;\r\n                                padding : 5px;\r\n                                grid-gap: 5px;\r\n                                margin-right: 21px;\r\n                           \" class=\"absolute\" ws-hole=\"Actions\">\r\n                                \r\n                                \r\n                            </div>\r\n                        </second>\r\n                    </ws-fixedsplitterver>\r\n            </second>\r\n        </ws-fixedsplitterhor>\r\n    </div>");});};ct.j$7=function(){return ct._v$7?ct._v$7:ct._v$7=(di.EncodeRecord(void 0,[["snpId",ct.j$8,0],["snpName",di.Id(),0],["snpContent",di.Id(),0],["snpParentIdO",ct.j$8,1],["snpPredIds",di.EncodeSet(ct.j$8),0],["snpProperties",di.EncodeArray(di.EncodeTuple([di.Id(),di.Id()])),0],["snpGeneration",di.Id(),0]]))();};ct.j$8=function(){return ct._v$8?ct._v$8:ct._v$8=(di.EncodeUnion(P,"$",[[0,[["$0","Item",di.Id(),0]]]]))();};cv.wcompsplitterver=function(dz){return dz?c5.GetOrLoadTemplate("appframework",{$:1,$0:"wcompsplitterver"},function(){return dy.parseHTML("<div ws-onafterrender=\"AfterRender\" style=\"display: grid; \r\n                grid-gap: 5px; \r\n                box-sizing: border-box; \r\n                grid-template-areas: 'one two'; \r\n                grid-template-rows   :100%; \r\n                overflow: hidden; \r\n                grid-template-columns: ${PartSizes}\">\r\n        <slot></slot>\r\n        <slot name=\"splitter\"> <div style=\"grid-column:2; grid-row:1 / 1 ; cursor: col-resize; z-index: 3; background-color: #eef ; width: ${Gap}; margin-left :-${Gap}\" ws-onmousedown=\"MouseDown\" ws-onafterrender=\"AfterRenderSp\"></div> </slot>\r\n        <style>\r\n            ::slotted(*) {\r\n                display: grid;\r\n                height : 100%;\r\n                width  : 100%;\r\n                overflow: hidden;\r\n            }\r\n            ::slotted(*:nth-child(2)) {\r\n                grid-area: two;\r\n            }\r\n            ::slotted(*[slot=\"splitter\"]) {\r\n                grid-column:2; grid-row:1 / 1\r\n                cursor: column-resize; \r\n                z-index: 3; \r\n                background-color: #eef ; \r\n                width: ${Gap}; \r\n                margin-left:-${Gap}\r\n            }\r\n        </style>\r\n    </div>");},dz):c5.PrepareTemplate("appframework",{$:1,$0:"wcompsplitterver"},function(){return dy.parseHTML("<div ws-onafterrender=\"AfterRender\" style=\"display: grid; \r\n                grid-gap: 5px; \r\n                box-sizing: border-box; \r\n                grid-template-areas: 'one two'; \r\n                grid-template-rows   :100%; \r\n                overflow: hidden; \r\n                grid-template-columns: ${PartSizes}\">\r\n        <slot></slot>\r\n        <slot name=\"splitter\"> <div style=\"grid-column:2; grid-row:1 / 1 ; cursor: col-resize; z-index: 3; background-color: #eef ; width: ${Gap}; margin-left :-${Gap}\" ws-onmousedown=\"MouseDown\" ws-onafterrender=\"AfterRenderSp\"></div> </slot>\r\n        <style>\r\n            ::slotted(*) {\r\n                display: grid;\r\n                height : 100%;\r\n                width  : 100%;\r\n                overflow: hidden;\r\n            }\r\n            ::slotted(*:nth-child(2)) {\r\n                grid-area: two;\r\n            }\r\n            ::slotted(*[slot=\"splitter\"]) {\r\n                grid-column:2; grid-row:1 / 1\r\n                cursor: column-resize; \r\n                z-index: 3; \r\n                background-color: #eef ; \r\n                width: ${Gap}; \r\n                margin-left:-${Gap}\r\n            }\r\n        </style>\r\n    </div>");});};cv.wcompsplitterhor=function(dz){return dz?c5.GetOrLoadTemplate("appframework",{$:1,$0:"wcompsplitterhor"},function(){return dy.parseHTML("<div ws-onafterrender=\"AfterRender\" style=\"display: grid;\r\n                grid-gap: 5px; \r\n                box-sizing: border-box; \r\n                grid-template-areas: 'one' 'two'; \r\n                grid-template-columns:100%; \r\n                overflow: hidden; \r\n                grid-template-rows   : ${PartSizes}\">\r\n         <slot></slot>\r\n        <slot name=\"splitter\">  <div style=\"grid-row:2; grid-column:1 / 1 ; cursor: row-resize; z-index: 3; background-color: #eef ; height: ${Gap}; margin-top :-${Gap}\" ws-onmousedown=\"MouseDown\" ws-onafterrender=\"AfterRenderSp\"></div> </slot>\r\n        <style>\r\n            ::slotted(*) {\r\n                display: grid;\r\n                height : 100%;\r\n                width  : 100%;\r\n                overflow: hidden;\r\n            }\r\n            ::slotted(*:nth-child(2)) {\r\n                grid-area: two;\r\n            }\r\n            ::slotted(*[slot=\"splitter\"]) {\r\n                grid-row:2; grid-column:1 / 1 ; \r\n                cursor: row-resize; \r\n                z-index: 3; \r\n                background-color: #eef ; \r\n                height: ${Gap}; \r\n                margin-top :-${Gap}\r\n            }\r\n        </style>\r\n    </div>");},dz):c5.PrepareTemplate("appframework",{$:1,$0:"wcompsplitterhor"},function(){return dy.parseHTML("<div ws-onafterrender=\"AfterRender\" style=\"display: grid;\r\n                grid-gap: 5px; \r\n                box-sizing: border-box; \r\n                grid-template-areas: 'one' 'two'; \r\n                grid-template-columns:100%; \r\n                overflow: hidden; \r\n                grid-template-rows   : ${PartSizes}\">\r\n         <slot></slot>\r\n        <slot name=\"splitter\">  <div style=\"grid-row:2; grid-column:1 / 1 ; cursor: row-resize; z-index: 3; background-color: #eef ; height: ${Gap}; margin-top :-${Gap}\" ws-onmousedown=\"MouseDown\" ws-onafterrender=\"AfterRenderSp\"></div> </slot>\r\n        <style>\r\n            ::slotted(*) {\r\n                display: grid;\r\n                height : 100%;\r\n                width  : 100%;\r\n                overflow: hidden;\r\n            }\r\n            ::slotted(*:nth-child(2)) {\r\n                grid-area: two;\r\n            }\r\n            ::slotted(*[slot=\"splitter\"]) {\r\n                grid-row:2; grid-column:1 / 1 ; \r\n                cursor: row-resize; \r\n                z-index: 3; \r\n                background-color: #eef ; \r\n                height: ${Gap}; \r\n                margin-top :-${Gap}\r\n            }\r\n        </style>\r\n    </div>");});};cv.appframework=function(dz){return dz?c5.GetOrLoadTemplate("appframework",{$:1,$0:"appframework"},function(){return dy.parseHTML("<div style=\"height: calc(100vh - 4px); width: calc(100vw - 4px) \" class=\"relative\">\r\n        <wcomp-splitter value=\"0\" min=\"0\" max=\"100\">\r\n            <div><button ws-onclick=\"GoClient\">${MainDoc}</button></div>\r\n            <div ws-hole=\"MainClient\"></div>\r\n        </wcomp-splitter>\r\n        <style style=\"display: none\">\r\n            .Hidden     { display   : none         }\r\n            table th,table td { padding:0 5px 0 5px; text-overflow: ellipsis }\r\n            td input.form-control { \r\n                padding    : 0px; \r\n                font-family: monospace;\r\n                font-size  :   small;\r\n                margin-top :   0px;\r\n                margin-left: -2px;\r\n                width      : 100%\r\n            }\r\n            td select {\r\n                font-size : smaller;\r\n                max-width : 8ch;\r\n            }\r\n            xtextarea {\r\n               resize : none;\r\n            }\r\n            .tab-content {\r\n                overflow: hidden\r\n            }\r\n            .tab-children {\r\n                position:relative;\r\n            }\r\n            .tab-children>div>* {\r\n                position:absolute;\r\n                height: 100%;\r\n                width:  100%;\r\n                display: grid;\r\n            }\r\n            .relative {\r\n                position:relative;\r\n            }\r\n            .relative>* {\r\n                position:absolute;\r\n                height: 100%;\r\n                width:  100%;\r\n                display: grid;\r\n            }\r\n            table.table-striped    tbody tr:nth-child(even) { background: #EEE  }\r\n            table.table-striped    tbody tr:nth-child(odd ) { background: #FFF  }\r\n            table.table-striped    tbody input              { background: transparent; border: none}\r\n            table.table-striped    tbody select             { background: transparent; border: none}\r\n            table.table-nonstriped tbody tr:nth-child(even) { background: inherit }\r\n            table.table-nonstriped tbody tr:nth-child(odd ) { background: inherit }\r\n            table.table            tbody tr.hover           { border    : solid thin transparent; } \r\n            table.table            tbody tr.hover:hover     { border    : solid thin blue     ; } \r\n            table.table            tbody th:hover           { background: gray; cursor: pointer }\r\n            table.table            tbody tr.hover:hover>td  { border-top: solid thin blue     ; \r\n                                                       border-bottom: solid thin blue     ; } \r\n            table.table            tbody tr.selected { background   : #b9eeff             ; }\r\n            table.table            tbody tr.formula.selected { background: #20f7f7             ; }\r\n            thead { color: gray }\r\n            h3 { \r\n                color: gray;\r\n                line-height: 1em;\r\n            }\r\n            button       { border: solid thin transparent ; border-radius: 3px; }\r\n            button:hover { border: solid thin blue }\r\n            .indenter { position  : absolute; \r\n                        top:0px; bottom:0px; left:0px; \r\n                        background: white; color:white;\r\n                        border-right: gray thin dotted;\r\n                        }\r\n            body {\r\n                color      : #333;\r\n                font-size  : small;\r\n                font-family: monospace;\r\n                line-height: 1.2;\r\n            }\r\n            .mainTitle {  \r\n                font-size: 48px;\r\n                font-weight: 500;\r\n                color: gray;\r\n                margin-top: -12px;\r\n            }\r\n            .CodeMirror {\r\n                height: 100%;\r\n            }\r\n            \r\n          \r\n            body { margin: 0px }     \r\n                 \r\n            div textarea {\r\n                font-family     : monospace;\r\n            }\r\n            .code-editor-list-tile {\r\n                white-space     : nowrap; \r\n                border-style    : solid none none;\r\n                border-color    : white;\r\n                border-width    : 1px;\r\n                background-color: #D8D8D8;\r\n                display         : flex;\r\n            }\r\n            .code-editor-list-text{\r\n                padding         : 1px 10px 1px 5px;\r\n                overflow        : hidden;\r\n                text-overflow   : ellipsis;\r\n                white-space     : nowrap;\r\n                flex            : 1;\r\n            }\r\n            \r\n            .code-editor-list-tile span.node.ErrorMsg {\r\n                background-color: red\r\n            }\r\n            .code-editor-list-tile span.node.expanded::before {\r\n                content: \"-\"\r\n            }\r\n            .code-editor-list-tile span.node.collapsed::before {\r\n                content: \"+\"\r\n            }\r\n            .code-editor-list-tile.direct-predecessor {\r\n                font-weight     : bold;\r\n                color           : blue;\r\n            }\r\n            .code-editor-list-tile.indirect-predecessor {\r\n                color           : blue;\r\n            }\r\n            .code-editor-list-tile.included-predecessor {\r\n                color           : chocolate;\r\n            }\r\n            .code-editor-list-tile.selected {\r\n                background-color: #77F;\r\n                color           : white;\r\n            }\r\n            .code-editor-list-tile.codeSnippet {\r\n                text-decoration: underline\r\n            }\r\n            .code-editor-list-tile:hover {\r\n                background      : lightgray;\r\n            }\r\n            .code-editor-list-tile.selected:hover {\r\n                background      : blue;\r\n            }\r\n            .code-editor-list-tile>.predecessor {\r\n                font-weight     : bold;\r\n                border-style    : inset;\r\n                border-width    : 1px;\r\n                text-align      : center;\r\n                color           : transparent;\r\n            }\r\n            .code-editor-list-tile.direct-predecessor>.predecessor {\r\n                color           : blue;\r\n            }\r\n            \r\n            .CodeMirror { height: 100%; }\r\n            \r\n            .node {\r\n                background-color: white; \r\n                width           : 2ch; \r\n                color           : #A03; \r\n                font-weight     : bold; \r\n                text-align      : center;\r\n                font-family     : arial;\r\n            }\r\n            .Warning { text-decoration: underline lightblue } \r\n            .Error   { text-decoration: underline red       } \r\n            \r\n        </style>\r\n    </div>");},dz):c5.PrepareTemplate("appframework",{$:1,$0:"appframework"},function(){return dy.parseHTML("<div style=\"height: calc(100vh - 4px); width: calc(100vw - 4px) \" class=\"relative\">\r\n        <wcomp-splitter value=\"0\" min=\"0\" max=\"100\">\r\n            <div><button ws-onclick=\"GoClient\">${MainDoc}</button></div>\r\n            <div ws-hole=\"MainClient\"></div>\r\n        </wcomp-splitter>\r\n        <style style=\"display: none\">\r\n            .Hidden     { display   : none         }\r\n            table th,table td { padding:0 5px 0 5px; text-overflow: ellipsis }\r\n            td input.form-control { \r\n                padding    : 0px; \r\n                font-family: monospace;\r\n                font-size  :   small;\r\n                margin-top :   0px;\r\n                margin-left: -2px;\r\n                width      : 100%\r\n            }\r\n            td select {\r\n                font-size : smaller;\r\n                max-width : 8ch;\r\n            }\r\n            xtextarea {\r\n               resize : none;\r\n            }\r\n            .tab-content {\r\n                overflow: hidden\r\n            }\r\n            .tab-children {\r\n                position:relative;\r\n            }\r\n            .tab-children>div>* {\r\n                position:absolute;\r\n                height: 100%;\r\n                width:  100%;\r\n                display: grid;\r\n            }\r\n            .relative {\r\n                position:relative;\r\n            }\r\n            .relative>* {\r\n                position:absolute;\r\n                height: 100%;\r\n                width:  100%;\r\n                display: grid;\r\n            }\r\n            table.table-striped    tbody tr:nth-child(even) { background: #EEE  }\r\n            table.table-striped    tbody tr:nth-child(odd ) { background: #FFF  }\r\n            table.table-striped    tbody input              { background: transparent; border: none}\r\n            table.table-striped    tbody select             { background: transparent; border: none}\r\n            table.table-nonstriped tbody tr:nth-child(even) { background: inherit }\r\n            table.table-nonstriped tbody tr:nth-child(odd ) { background: inherit }\r\n            table.table            tbody tr.hover           { border    : solid thin transparent; } \r\n            table.table            tbody tr.hover:hover     { border    : solid thin blue     ; } \r\n            table.table            tbody th:hover           { background: gray; cursor: pointer }\r\n            table.table            tbody tr.hover:hover>td  { border-top: solid thin blue     ; \r\n                                                       border-bottom: solid thin blue     ; } \r\n            table.table            tbody tr.selected { background   : #b9eeff             ; }\r\n            table.table            tbody tr.formula.selected { background: #20f7f7             ; }\r\n            thead { color: gray }\r\n            h3 { \r\n                color: gray;\r\n                line-height: 1em;\r\n            }\r\n            button       { border: solid thin transparent ; border-radius: 3px; }\r\n            button:hover { border: solid thin blue }\r\n            .indenter { position  : absolute; \r\n                        top:0px; bottom:0px; left:0px; \r\n                        background: white; color:white;\r\n                        border-right: gray thin dotted;\r\n                        }\r\n            body {\r\n                color      : #333;\r\n                font-size  : small;\r\n                font-family: monospace;\r\n                line-height: 1.2;\r\n            }\r\n            .mainTitle {  \r\n                font-size: 48px;\r\n                font-weight: 500;\r\n                color: gray;\r\n                margin-top: -12px;\r\n            }\r\n            .CodeMirror {\r\n                height: 100%;\r\n            }\r\n            \r\n          \r\n            body { margin: 0px }     \r\n                 \r\n            div textarea {\r\n                font-family     : monospace;\r\n            }\r\n            .code-editor-list-tile {\r\n                white-space     : nowrap; \r\n                border-style    : solid none none;\r\n                border-color    : white;\r\n                border-width    : 1px;\r\n                background-color: #D8D8D8;\r\n                display         : flex;\r\n            }\r\n            .code-editor-list-text{\r\n                padding         : 1px 10px 1px 5px;\r\n                overflow        : hidden;\r\n                text-overflow   : ellipsis;\r\n                white-space     : nowrap;\r\n                flex            : 1;\r\n            }\r\n            \r\n            .code-editor-list-tile span.node.ErrorMsg {\r\n                background-color: red\r\n            }\r\n            .code-editor-list-tile span.node.expanded::before {\r\n                content: \"-\"\r\n            }\r\n            .code-editor-list-tile span.node.collapsed::before {\r\n                content: \"+\"\r\n            }\r\n            .code-editor-list-tile.direct-predecessor {\r\n                font-weight     : bold;\r\n                color           : blue;\r\n            }\r\n            .code-editor-list-tile.indirect-predecessor {\r\n                color           : blue;\r\n            }\r\n            .code-editor-list-tile.included-predecessor {\r\n                color           : chocolate;\r\n            }\r\n            .code-editor-list-tile.selected {\r\n                background-color: #77F;\r\n                color           : white;\r\n            }\r\n            .code-editor-list-tile.codeSnippet {\r\n                text-decoration: underline\r\n            }\r\n            .code-editor-list-tile:hover {\r\n                background      : lightgray;\r\n            }\r\n            .code-editor-list-tile.selected:hover {\r\n                background      : blue;\r\n            }\r\n            .code-editor-list-tile>.predecessor {\r\n                font-weight     : bold;\r\n                border-style    : inset;\r\n                border-width    : 1px;\r\n                text-align      : center;\r\n                color           : transparent;\r\n            }\r\n            .code-editor-list-tile.direct-predecessor>.predecessor {\r\n                color           : blue;\r\n            }\r\n            \r\n            .CodeMirror { height: 100%; }\r\n            \r\n            .node {\r\n                background-color: white; \r\n                width           : 2ch; \r\n                color           : #A03; \r\n                font-weight     : bold; \r\n                text-align      : center;\r\n                font-family     : arial;\r\n            }\r\n            .Warning { text-decoration: underline lightblue } \r\n            .Error   { text-decoration: underline red       } \r\n            \r\n        </style>\r\n    </div>");});};cx.p=function(dz){return"{"+("docName = "+cA.prettyPrint(dz.docName))+"; "+("docDoc = "+cw.p$1(dz.docDoc))+"}";};cw.p$1=function(dz){return dz.$==5?"FunDoc5 (<fun>, "+cA.prettyPrint(dz.$1)+", "+cA.prettyPrint(dz.$2)+", "+cA.prettyPrint(dz.$3)+", "+cA.prettyPrint(dz.$4)+", "+cA.prettyPrint(dz.$5)+")":dz.$==4?"FunDoc4 (<fun>, "+cA.prettyPrint(dz.$1)+", "+cA.prettyPrint(dz.$2)+", "+cA.prettyPrint(dz.$3)+", "+cA.prettyPrint(dz.$4)+")":dz.$==3?"FunDoc3 (<fun>, "+cA.prettyPrint(dz.$1)+", "+cA.prettyPrint(dz.$2)+", "+cA.prettyPrint(dz.$3)+")":dz.$==2?"FunDoc2 (<fun>, "+cA.prettyPrint(dz.$1)+", "+cA.prettyPrint(dz.$2)+")":dz.$==1?"FunDoc1 (<fun>, "+cA.prettyPrint(dz.$1)+")":"LazyDoc "+cA.prettyPrint(dz.$0);};cv.actiondisabled=function(dz){return dz?c5.GetOrLoadTemplate("appframework",{$:1,$0:"actiondisabled"},function(){return dy.parseHTML("<button ws-onclick=\"Click\" class=\"btn\" type=\"button\" id=\"\" disabled=\"\">${Name}</button>");},dz):c5.PrepareTemplate("appframework",{$:1,$0:"actiondisabled"},function(){return dy.parseHTML("<button ws-onclick=\"Click\" class=\"btn\" type=\"button\" id=\"\" disabled=\"\">${Name}</button>");});};cv.action=function(dz){return dz?c5.GetOrLoadTemplate("appframework",{$:1,$0:"action"},function(){return dy.parseHTML("<button ws-onclick=\"Click\" class=\"btn\" type=\"button\" id=\"\">${Name}</button>");},dz):c5.PrepareTemplate("appframework",{$:1,$0:"action"},function(){return dy.parseHTML("<button ws-onclick=\"Click\" class=\"btn\" type=\"button\" id=\"\">${Name}</button>");});};cv.tile=function(dz){return dz?c5.GetOrLoadTemplate("appframework",{$:1,$0:"tile"},function(){return dy.parseHTML("<div>\r\n                                        <div draggable=\"true\" class=\"code-editor-list-tile ${Predecessor} ${Selected}\" ws-ondrag=\"Drag\" ws-ondragover=\"DragOver\" ws-ondrop=\"Drop\">\r\n                                       <span class=\"node ${Parent} ${ErrorMsg}\" title=\"expand\" ws-onclick=\"ToggleCollapse\"></span>\r\n                                       <div class=\"code-editor-list-text\" style=\"text-indent:${Indent}em; white-space: pre\" ws-onclick=\"Select\" ws-onafterrender=\"AfterRender\">${Name}</div>\r\n                                       <span class=\"predecessor\" title=\"toggle predecessor\" ws-onclick=\"TogglePred\">X</span>\r\n                                   </div>\r\n                           \r\n                                    </div>");},dz):c5.PrepareTemplate("appframework",{$:1,$0:"tile"},function(){return dy.parseHTML("<div>\r\n                                        <div draggable=\"true\" class=\"code-editor-list-tile ${Predecessor} ${Selected}\" ws-ondrag=\"Drag\" ws-ondragover=\"DragOver\" ws-ondrop=\"Drop\">\r\n                                       <span class=\"node ${Parent} ${ErrorMsg}\" title=\"expand\" ws-onclick=\"ToggleCollapse\"></span>\r\n                                       <div class=\"code-editor-list-text\" style=\"text-indent:${Indent}em; white-space: pre\" ws-onclick=\"Select\" ws-onafterrender=\"AfterRender\">${Name}</div>\r\n                                       <span class=\"predecessor\" title=\"toggle predecessor\" ws-onclick=\"TogglePred\">X</span>\r\n                                   </div>\r\n                           \r\n                                    </div>");});};cv.namevalue=function(dz){return dz?c5.GetOrLoadTemplate("appframework",{$:1,$0:"namevalue"},function(){return dy.parseHTML("<div class=\"input-group\">\r\n                                                            <span class=\"input-group-addon\">${Name}:</span>\r\n                                                            <span class=\"input-group-addon\">${Value}</span>\r\n                                                        </div>");},dz):c5.PrepareTemplate("appframework",{$:1,$0:"namevalue"},function(){return dy.parseHTML("<div class=\"input-group\">\r\n                                                            <span class=\"input-group-addon\">${Name}:</span>\r\n                                                            <span class=\"input-group-addon\">${Value}</span>\r\n                                                        </div>");});};cv.namevalueinput=function(dz){return dz?c5.GetOrLoadTemplate("appframework",{$:1,$0:"namevalueinput"},function(){return dy.parseHTML("<div class=\"input-group\">\r\n                                                            <span class=\"input-group-addon\">${Name}:</span>\r\n                                                            <textarea class=\"form-control\" id=\"\" placeholder=\"Value...\" ws-var=\"Value\" spellcheck=\"false\">\r\n                                                        </textarea></div>");},dz):c5.PrepareTemplate("appframework",{$:1,$0:"namevalueinput"},function(){return dy.parseHTML("<div class=\"input-group\">\r\n                                                            <span class=\"input-group-addon\">${Name}:</span>\r\n                                                            <textarea class=\"form-control\" id=\"\" placeholder=\"Value...\" ws-var=\"Value\" spellcheck=\"false\">\r\n                                                        </textarea></div>");});};cv.snippetlist=function(dz){c5.LoadLocalTemplates("templates");return dz?c5.NamedTemplate("templates",{$:1,$0:"snippetlist"},dz):void 0;};cv.snippet=function(dz){c5.LoadLocalTemplates("templates");return dz?c5.NamedTemplate("templates",{$:1,$0:"snippet"},dz):void 0;};cv.propertytable=function(dz){c5.LoadLocalTemplates("templates");return dz?c5.NamedTemplate("templates",{$:1,$0:"propertytable"},dz):void 0;};cv.property=function(dz){c5.LoadLocalTemplates("templates");return dz?c5.NamedTemplate("templates",{$:1,$0:"property"},dz):void 0;};cv.layout=function(dz){cv.fixedsplitterhor();cv.fixedsplitterver();c5.LoadLocalTemplates("templates");return dz?c5.NamedTemplate("templates",{$:1,$0:"layout"},dz):void 0;};cv.buttonsright=function(dz){c5.LoadLocalTemplates("templates");return dz?c5.NamedTemplate("templates",{$:1,$0:"buttonsright"},dz):void 0;};cw.p$2=function(dz){return dz.$==3?"ExceptMsg ("+cA.prettyPrint(dz.$0)+", "+cA.prettyPrint(dz.$1)+")":dz.$==2?"Message "+cw.p$3(dz.$0):dz.$==1?"Warning "+cA.prettyPrint(dz.$0):"ErrorMsg "+cA.prettyPrint(dz.$0);};cw.p$3=function(dz){return dz.$==3?"ShellCrashed ("+cA.prettyPrint(dz.$0)+", "+cA.prettyPrint(dz.$1)+")":dz.$==2?"ShellNoExit ("+cA.prettyPrint(dz.$0)+", "+cA.prettyPrint(dz.$1)+")":dz.$==1?"ShellExit ("+cA.prettyPrint(dz.$0)+", "+cA.prettyPrint(dz.$1)+", "+cA.prettyPrint(dz.$2)+")":"ShellDidNotStart";};cw.p$5=function(dz){return dz.$==5?"MsgGetUrl":dz.$==4?"MsgAction "+cA.printArray(cA.prettyPrint,dz.$0):dz.$==3?"MsgGetPredecessors "+cw.p$4(dz.$0):dz.$==2?"MsgGetCode "+cw.p$4(dz.$0):dz.$==1?"MsgGetSnippets "+cA.printArray(function(dA){return cw.p$4(dA);},dz.$0):"MsgGetId";};cw.p$4=function(dz){return dz.$==1?"RefSnippetPath "+cA.printArray(cA.prettyPrint,dz.$0):"RefSnippetId "+cw.p(dz.$0);};ct.j$9=function(){return ct._v$9?ct._v$9:ct._v$9=(di.EncodeUnion(void 0,"type",[["BRGetConnections",[]]]))();};cu.j$7=function(){return cu._v$7?cu._v$7:cu._v$7=(di.DecodeUnion(void 0,"type",[["BRConnections",[["$0","Item",di.DecodeArray(di.Id()),0]]]]))();};cu.j$8=function(){return cu._v$8?cu._v$8:cu._v$8=(di.DecodeUnion(void 0,"type",[["BMOk",[]],["BMOnlyBrokerShouldUse",[]],["BMDestinationNotFound",[["$0","Item",cu.j$1,0]]],["BMWebSocketError",[["$0","Item",di.Id(),0]]],["BMReceiverCantReply",[]],["BMUnexpectedMsgType",[["$0","Item",cu.j$2,0]]]]))();};cw.p$8=function(dz){return dz.$==2?"Receiver":dz.$==1?"Broker":"NoReply";};cw.p$7=function(dz){return dz.$==5?"MsgRequestForEcho":dz.$==4?"MsgRequestForId":dz.$==3?"MsgFromBroker":dz.$==2?"MsgReply":dz.$==1?"MsgRequest":"MsgInformation";};cx.p$1=function(dz){return"{"+("from = "+cw.p$6(dz.from))+"; "+("destination = "+cw.p$6(dz.destination))+"; "+("msgType = "+cw.p$7(dz.msgType))+"; "+("subtype = "+cA.prettyPrint(dz.subtype))+"; "+("id = "+cA.prettyPrint(dz.id))+"; "+("payload = "+cA.prettyPrint(dz.payload))+"; "+("replier = "+cw.p$8(dz.replier))+"}";};cw.p$6=function(dz){return"Address "+cA.prettyPrint(dz.$0);};cw.p$9=function(dz){return dz.$==3?"Close":dz.$==2?"Open":dz.$==1?"Error":"Message "+cx.p$1(dz.$0);};cw.p$10=function(dz){return dz.$==3?"ExceptMsg ("+cA.prettyPrint(dz.$0)+", "+cA.prettyPrint(dz.$1)+")":dz.$==2?"Message "+cA.printArray(function(dA){return cw.p$11(dA);},dz.$0):dz.$==1?"Warning "+cA.prettyPrint(dz.$0):"ErrorMsg "+cA.prettyPrint(dz.$0);};cx.p$23=function(dz){return"{"+("Text = "+cA.prettyPrint(dz.Text))+"}";};cx.p$20=function(dz){return"{"+("Opens = "+cA.printArray(function(dA){return cx.p$21(dA);},dz.Opens))+"; "+("Qualifies = "+cA.printArray(function(dA){return cx.p$22(dA);},dz.Qualifies))+"; "+("Word = "+cA.prettyPrint(dz.Word))+"}";};cx.p$21=function(dz){return"{"+("Namespace = "+cA.prettyPrint(dz.Namespace))+"; "+("Name = "+cA.prettyPrint(dz.Name))+"; "+("Type = "+cA.prettyPrint(dz.Type))+"; "+("Line = "+cA.prettyPrint(dz.Line))+"; "+("Column = "+cA.prettyPrint(dz.Column))+"; "+("MultipleNames = "+cA.prettyPrint(dz.MultipleNames))+"}";};cx.p$19=function(dz){return"{"+("Fsc = "+cA.prettyPrint(dz.Fsc))+"; "+("Fsi = "+cA.prettyPrint(dz.Fsi))+"; "+("MSBuild = "+cA.prettyPrint(dz.MSBuild))+"}";};cw.p$11=function(dz){return dz.$==17?"KMultiple "+cA.printArray(function(dA){return cw.p$11(dA);},dz.$0):dz.$==16?"KUnionCase "+cx.p$23(dz.$0):dz.$==15?"KNamespaces "+cx.p$20(dz.$0):dz.$==14?"KCompilerLocation "+cx.p$19(dz.$0):dz.$==13?"KSignatureData "+cx.p$17(dz.$0):dz.$==12?"KTypeSig "+cA.prettyPrint(dz.$0):dz.$==11?"KToolTip "+cA.printArray(function(dA){return cA.printArray(function(dB){return cx.p$4(dB);},dA);},dz.$0):dz.$==10?"KDeclarations "+cA.printArray(function(dA){return cx.p$15(dA);},dz.$0):dz.$==9?"KFindDecl "+cx.p$14(dz.$0):dz.$==8?"KColorizations "+cA.printList(function(dA){return cx.p$13(dA);},dz.$0):dz.$==7?"KErrors "+cx.p$11(dz.$0):dz.$==6?"KMethod "+cx.p$8(dz.$0):dz.$==5?"KHelp "+cA.prettyPrint(dz.$0):dz.$==4?"KSymbolUse "+cx.p$6(dz.$0):dz.$==3?"KCompletion "+cA.printArray(function(dA){return cx.p$5(dA);},dz.$0):dz.$==2?"KHelpText "+cx.p$3(dz.$0):dz.$==1?"KError "+cx.p$2(dz.$0):"KInfo "+cA.prettyPrint(dz.$0);};cx.p$17=function(dz){return"{"+("OutputType = "+cA.prettyPrint(dz.OutputType))+"; "+("Parameters = "+cA.printList(function(dA){return cA.printList(function(dB){return cx.p$18(dB);},dA);},dz.Parameters))+"}";};cx.p$18=function(dz){return"{"+("Name = "+cA.prettyPrint(dz.Name))+"; "+("Type = "+cA.prettyPrint(dz.Type))+"}";};cx.p$22=function(dz){return"{"+("Name = "+cA.prettyPrint(dz.Name))+"; "+("Qualifier = "+cA.prettyPrint(dz.Qualifier))+"}";};cx.p$15=function(dz){return"{"+("Declaration = "+cx.p$16(dz.Declaration))+"; "+("Nested = "+cA.printArray(function(dA){return cx.p$16(dA);},dz.Nested))+"}";};cx.p$16=function(dz){return"{"+("UniqueName = "+cA.prettyPrint(dz.UniqueName))+"; "+("Name = "+cA.prettyPrint(dz.Name))+"; "+("Glyph = "+cA.prettyPrint(dz.Glyph))+"; "+("GlyphChar = "+cA.prettyPrint(dz.GlyphChar))+"; "+("IsTopLevel = "+cA.prettyPrint(dz.IsTopLevel))+"; "+("File = "+cA.prettyPrint(dz.File))+"; "+("EnclosingEntity = "+cA.prettyPrint(dz.EnclosingEntity))+"; "+("IsAbstract = "+cA.prettyPrint(dz.IsAbstract))+"}";};cx.p$13=function(dz){return"{"+("Kind = "+cA.prettyPrint(dz.Kind))+"}";};cx.p$14=function(dz){return"{"+("File = "+cA.prettyPrint(dz.File))+"; "+("Line = "+cA.prettyPrint(dz.Line))+"; "+("Column = "+cA.prettyPrint(dz.Column))+"}";};cx.p$11=function(dz){return"{"+("File = "+cA.prettyPrint(dz.File))+"; "+("Errors = "+cA.printArray(function(dA){return cx.p$12(dA);},dz.Errors))+"}";};cx.p$12=function(dz){return"{"+("FileName = "+cA.prettyPrint(dz.FileName))+"; "+("StartLine = "+cA.prettyPrint(dz.StartLine))+"; "+("EndLine = "+cA.prettyPrint(dz.EndLine))+"; "+("StartColumn = "+cA.prettyPrint(dz.StartColumn))+"; "+("EndColumn = "+cA.prettyPrint(dz.EndColumn))+"; "+("Severity = "+cA.prettyPrint(dz.Severity))+"; "+("Message = "+cA.prettyPrint(dz.Message))+"; "+("Subcategory = "+cA.prettyPrint(dz.Subcategory))+"}";};cx.p$8=function(dz){return"{"+("Name = "+cA.prettyPrint(dz.Name))+"; "+("CurrentParameter = "+cA.prettyPrint(dz.CurrentParameter))+"; "+("Overloads = "+cA.printList(function(dA){return cx.p$9(dA);},dz.Overloads))+"}";};cx.p$9=function(dz){return"{"+("Tip = "+cA.printList(function(dA){return cA.printList(function(dB){return cx.p$4(dB);},dA);},dz.Tip))+"; "+("TypeText = "+cA.prettyPrint(dz.TypeText))+"; "+("Parameters = "+cA.printList(function(dA){return cx.p$10(dA);},dz.Parameters))+"; "+("IsStaticArguments = "+cA.prettyPrint(dz.IsStaticArguments))+"}";};cx.p$10=function(dz){return"{"+("Name = "+cA.prettyPrint(dz.Name))+"; "+("CanonicalTypeTextForSorting = "+cA.prettyPrint(dz.CanonicalTypeTextForSorting))+"; "+("Display = "+cA.prettyPrint(dz.Display))+"; "+("Description = "+cA.prettyPrint(dz.Description))+"}";};cx.p$6=function(dz){return"{"+("Name = "+cA.prettyPrint(dz.Name))+"; "+("Uses = "+cA.printList(function(dA){return cx.p$7(dA);},dz.Uses))+"}";};cx.p$7=function(dz){return"{"+("FileName = "+cA.prettyPrint(dz.FileName))+"; "+("StartLine = "+cA.prettyPrint(dz.StartLine))+"; "+("StartColumn = "+cA.prettyPrint(dz.StartColumn))+"; "+("EndLine = "+cA.prettyPrint(dz.EndLine))+"; "+("EndColumn = "+cA.prettyPrint(dz.EndColumn))+"; "+("IsFromDefinition = "+cA.prettyPrint(dz.IsFromDefinition))+"; "+("IsFromAttribute = "+cA.prettyPrint(dz.IsFromAttribute))+"; "+("IsFromComputationExpression = "+cA.prettyPrint(dz.IsFromComputationExpression))+"; "+("IsFromDispatchSlotImplementation = "+cA.prettyPrint(dz.IsFromDispatchSlotImplementation))+"; "+("IsFromPattern = "+cA.prettyPrint(dz.IsFromPattern))+"; "+("IsFromType = "+cA.prettyPrint(dz.IsFromType))+"}";};cx.p$5=function(dz){return"{"+("Name = "+cA.prettyPrint(dz.Name))+"; "+("ReplacementText = "+cA.prettyPrint(dz.ReplacementText))+"; "+("Glyph = "+cA.prettyPrint(dz.Glyph))+"; "+("GlyphChar = "+cA.prettyPrint(dz.GlyphChar))+"}";};cx.p$3=function(dz){return"{"+("Name = "+cA.prettyPrint(dz.Name))+"; "+("Overloads = "+cA.printList(function(dA){return cA.printList(function(dB){return cx.p$4(dB);},dA);},dz.Overloads))+"}";};cx.p$4=function(dz){return"{"+("Signature = "+cA.prettyPrint(dz.Signature))+"; "+("Comment = "+cA.prettyPrint(dz.Comment))+"; "+("Footer = "+cA.prettyPrint(dz.Footer))+"}";};cx.p$2=function(dz){return"{"+("Code = "+cA.prettyPrint(dz.Code))+"; "+("Message = "+cA.prettyPrint(dz.Message))+"}";};ct.j$1=function(){return ct._v$1?ct._v$1:ct._v$1=(di.EncodeUnion(by,"$",[[0,[["$0","address",di.Id(),0]]]]))();};ct.j$2=function(){return ct._v$2?ct._v$2:ct._v$2=(di.EncodeUnion(void 0,"type",[["MsgInformation",[]],["MsgRequest",[]],["MsgReply",[]],["MsgFromBroker",[]],["MsgRequestForId",[]],["MsgRequestForEcho",[]]]))();};ct.j$3=function(){return ct._v$3?ct._v$3:ct._v$3=(di.EncodeUnion(void 0,"type",[["NoReply",[]],["Broker",[]],["Receiver",[]]]))();};ct.j=function(){return ct._v?ct._v:ct._v=(di.EncodeRecord(void 0,[["from",ct.j$1,0],["destination",ct.j$1,0],["msgType",ct.j$2,0],["subtype",di.Id(),0],["id",di.Id(),0],["payload",di.Id(),0],["replier",ct.j$3,0]]))();};cu.j$1=function(){return cu._v$1?cu._v$1:cu._v$1=(di.DecodeUnion(by,"$",[[0,[["$0","address",di.Id(),0]]]]))();};cu.j$2=function(){return cu._v$2?cu._v$2:cu._v$2=(di.DecodeUnion(void 0,"type",[["MsgInformation",[]],["MsgRequest",[]],["MsgReply",[]],["MsgFromBroker",[]],["MsgRequestForId",[]],["MsgRequestForEcho",[]]]))();};cu.j$3=function(){return cu._v$3?cu._v$3:cu._v$3=(di.DecodeUnion(void 0,"type",[["NoReply",[]],["Broker",[]],["Receiver",[]]]))();};cu.j=function(){return cu._v?cu._v:cu._v=(di.DecodeRecord(void 0,[["from",cu.j$1,0],["destination",cu.j$1,0],["msgType",cu.j$2,0],["subtype",di.Id(),0],["id",di.Id(),0],["payload",di.Id(),0],["replier",cu.j$3,0]]))();};cu.j$4=function(){return cu._v$4?cu._v$4:cu._v$4=(di.DecodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",di.DecodeArray(cu.j$5),0]]],[2,[["$0","Item",cu.j$5,0]]],[3,[["$0","Item",cu.j$5,0]]],[4,[["$0","Item",di.DecodeArray(di.Id()),0]]],[5,[]]]))();};}());

//# sourceMappingURL=FSharpStation.min.map