function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm;a=self;b=a.FsRoot=a.FsRoot||{};c=b.TestingJS=b.TestingJS||{};d=c.Test=c.Test||{};e=a.WebSharper=a.WebSharper||{};f=e.Operators=e.Operators||{};g=b.LibraryJS=b.LibraryJS||{};h=g.AppFramework=g.AppFramework||{};i=a.EventTarget;j=a.Node;k=a.WindowOrWorkerGlobalScope;l=e.JavaScript=e.JavaScript||{};m=l.JS=l.JS||{};n=a.StartupCode$LayoutEngine$LayoutEngine=a.StartupCode$LayoutEngine$LayoutEngine||{};o=e.UI=e.UI||{};p=o.Client=o.Client||{};q=p.Templates=p.Templates||{};r=e.Obj=e.Obj||{};s=o.Doc=o.Doc||{};t=l.Pervasives=l.Pervasives||{};u=b.Library=b.Library||{};v=u.String=u.String||{};w=e.Strings=e.Strings||{};x=e.Slice=e.Slice||{};y=u.ParseO=u.ParseO||{};z=e.Unchecked=e.Unchecked||{};A=e.Numeric=e.Numeric||{};B=a.System=a.System||{};C=B.Guid=B.Guid||{};D=e.List=e.List||{};E=D.T=D.T||{};F=e.Lazy=e.Lazy||{};G=g.WebComponent=g.WebComponent||{};H=G.WcTabStrip=G.WcTabStrip||{};I=H.WcTabStripT=H.WcTabStripT||{};J=o.ListModel=o.ListModel||{};K=h.PlugIn=h.PlugIn||{};L=o.Var$1=o.Var$1||{};M=o.Var=o.Var||{};N=o.View=o.View||{};O=o.Templating=o.Templating||{};P=O.Runtime=O.Runtime||{};Q=P.Server=P.Server||{};R=Q.TemplateInstance=Q.TemplateInstance||{};S=e.Arrays=e.Arrays||{};T=Q.ProviderBuilder=Q.ProviderBuilder||{};U=Q.Handler=Q.Handler||{};V=a.LayoutEngine_Templates=a.LayoutEngine_Templates||{};W=a.GeneratedPrintf=a.GeneratedPrintf||{};X=a.LayoutEngine_GeneratedPrintf=a.LayoutEngine_GeneratedPrintf||{};Y=e.Seq=e.Seq||{};Z=h.PlugInDoc=h.PlugInDoc||{};_0=G.WcSplitter=G.WcSplitter||{};_1=g.LayoutEngineModule=g.LayoutEngineModule||{};_2=e.Collections=e.Collections||{};_3=_2.Dictionary=_2.Dictionary||{};_4=o.Docs=o.Docs||{};_5=e.DateUtil=e.DateUtil||{};_6=e.LazyExtensionsProxy=e.LazyExtensionsProxy||{};_7=_6.LazyRecord=_6.LazyRecord||{};_8=h.PlugInVar=h.PlugInVar||{};_9=h.PlugInAction=h.PlugInAction||{};_=h.PlugInQuery=h.PlugInQuery||{};$=o.ConcreteVar=o.ConcreteVar||{};ba=o.Snap=o.Snap||{};bb=o.FromView=o.FromView||{};bc=_2.List=_2.List||{};bd=e.Utils=e.Utils||{};be=_2.HashSet=_2.HashSet||{};bf=P.Client=P.Client||{};bg=e.Enumerator=e.Enumerator||{};bh=bg.T=bg.T||{};bi=_0.WcSplitterT=_0.WcSplitterT||{};bj=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};bk=o.DomUtility=o.DomUtility||{};bl=o.An=o.An||{};bm=p.Settings=p.Settings||{};bn=o.Abbrev=o.Abbrev||{};bo=bn.Mailbox=bn.Mailbox||{};bp=o.AttrProxy=o.AttrProxy||{};bq=o.HtmlModule=o.HtmlModule||{};br=bq.attr=bq.attr||{};bs=g.Hoverable=g.Hoverable||{};bt=bs.Hoverable=bs.Hoverable||{};bu=e.CancellationTokenSource=e.CancellationTokenSource||{};bv=o.Storage=o.Storage||{};bw=bn.Fresh=bn.Fresh||{};bx=a.Object;by=o.CheckedInput=o.CheckedInput||{};bz=_2.DictionaryUtil=_2.DictionaryUtil||{};bA=a.Event;bB=a.UIEvent;bC=g.ResizeObserver=g.ResizeObserver||{};bD=o.AttrModule=o.AttrModule||{};bE=o.Array=o.Array||{};bF=g.LayoutEngine=g.LayoutEngine||{};bG=q.Prepare=q.Prepare||{};bH=_2.KeyCollection=_2.KeyCollection||{};bI=o.DocElemNode=o.DocElemNode||{};bJ=a.CharacterData;bK=p.Docs=p.Docs||{};bL=bK.RunState=bK.RunState||{};bM=bK.NodeSet=bK.NodeSet||{};bN=o.Anims=o.Anims||{};bO=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};bP=o.Elt=o.Elt||{};bQ=a.Error;bR=e.AggregateException=e.AggregateException||{};bS=e.Concurrency=e.Concurrency||{};bT=bv.ArrayStorage=bv.ArrayStorage||{};bU=o.Attrs=o.Attrs||{};bV=p.Attrs=p.Attrs||{};bW=bV.Dyn=bV.Dyn||{};bX=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};bY=o.AppendList=o.AppendList||{};bZ=e.FormatException=e.FormatException||{};b0=o.Updates=o.Updates||{};b1=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};b2=bS.CT=bS.CT||{};b3=bS.AsyncBody=bS.AsyncBody||{};b4=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};b5=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};b6=o.DynamicAttrNode=o.DynamicAttrNode||{};b7=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};b8=o.Easing=o.Easing||{};b9=bn.HashSet=bn.HashSet||{};b_=_2.HashSetUtil=_2.HashSetUtil||{};b$=bS.Scheduler=bS.Scheduler||{};ca=e.OperationCanceledException=e.OperationCanceledException||{};cb=e.Queue=e.Queue||{};cc=bK.DomNodes=bK.DomNodes||{};cd=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};ce=o.String=o.String||{};cf=e.Char=e.Char||{};cg=a.console;ch=a.IntelliFactory;ci=ch&&ch.Runtime;cj=a.jQuery;ck=a.Math;cl=a.Reflect;cm=a.Date;d.main=function(){var cn,co;cn=h.getMainDoc().f();co=self.document.body;q.LoadLocalTemplates("");s.Run(co,cn);};f.range=function(cn,co){var cp;cp=1+co-cn;return cp<=0?[]:Y.init(cp,function(cq){return cq+cn;});};f.FailWith=function(cn){throw new bQ(cn);};f.KeyValue=function(cn){return[cn.K,cn.V];};h.getMainDoc=function(){n.$cctor();return n.getMainDoc;};h.selectionPlugInO=function(){n.$cctor();return n.selectionPlugInO;};h.plugIns=function(){n.$cctor();return n.plugIns;};h.defaultPlugIn=function(){n.$cctor();return n.defaultPlugIn;};h.currentPlugInW=function(){n.$cctor();return n.currentPlugInW;};h.renderPlugIns=function(){return s.Flatten(h.plugIns().MapLens(function(cn){var co,cp,cq,cr;return(co=(cp=T.Make().WithHole({$:1,$0:"name",$1:cn}),cp.WithHole(U.EventQ2(cp.k,"select",function(){return cp.i;},function(){h.selectionPlugInO().Set({$:1,$0:cn});}))).WithHole({$:2,$0:"selected",$1:N.Map(function(cs){return z.Equals(cs,{$:1,$0:cn})?"selected":"";},h.selectionPlugInO().get_View())}),(cq=U.CompleteHoles(co.k,co.h,[]),(cr=new R.New(cq[1],V.tile(cq[0])),(co.i=cr,cr)))).get_Doc();}));};h.renderVars=function(){function cn(cp,cq){return[cp.plgName,cq.varName];}function co(cp,cq){var cr,cs,ct;return(cr=T.Make().WithHole({$:1,$0:"name",$1:cq.varName}).WithHole({$:8,$0:"value",$1:cq.varVar}),(cs=U.CompleteHoles(cr.k,cr.h,[["value",0]]),(ct=new R.New(cs[1],V.namevalueinput(cs[0])),(cr.i=ct,ct)))).get_Doc();}return s.ConvertBy(function(cp){return cn(cp[0],cp[1]);},function(cp){return co(cp[0],cp[1]);},N.Map(function(cp){return Y.map(function(cq){return[cp,cq];},cp.plgVars);},h.currentPlugInW()));};h.renderViews=function(){function cn(cp,cq){return[cp.plgName,cq.viwName];}function co(cp,cq){var cr,cs,ct;return(cr=T.Make().WithHole({$:1,$0:"name",$1:cq.viwName}).WithHole({$:2,$0:"value",$1:cq.viwView}),(cs=U.CompleteHoles(cr.k,cr.h,[]),(ct=new R.New(cs[1],V.namevalue(cs[0])),(cr.i=ct,ct)))).get_Doc();}return s.ConvertBy(function(cp){return cn(cp[0],cp[1]);},function(cp){return co(cp[0],cp[1]);},N.Map(function(cp){return Y.map(function(cq){return[cp,cq];},cp.plgViews);},h.currentPlugInW()));};h.renderDocs=function(){function cn(cp,cq){return[cp.plgName,cq.docName];}function co(cp,cq){var cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB;return(cr=(cs=(ct=cq.docName+(cu=cq.docDoc,cu.$==1?(cv=w.concat(", ",D.ofArray([cu.$1])),(function(cC){return function(cD){return cC("("+bd.toSafe(cD)+")");};}(a.id))(cv)):cu.$==2?(cw=w.concat(", ",D.ofArray([cu.$1,cu.$2])),(function(cC){return function(cD){return cC("("+bd.toSafe(cD)+")");};}(a.id))(cw)):cu.$==3?(cx=w.concat(", ",D.ofArray([cu.$1,cu.$2,cu.$3])),(function(cC){return function(cD){return cC("("+bd.toSafe(cD)+")");};}(a.id))(cx)):cu.$==4?(cy=w.concat(", ",D.ofArray([cu.$1,cu.$2,cu.$3,cu.$4])),(function(cC){return function(cD){return cC("("+bd.toSafe(cD)+")");};}(a.id))(cy)):cu.$==5?(cz=w.concat(", ",D.ofArray([cu.$1,cu.$2,cu.$3,cu.$4,cu.$5])),(function(cC){return function(cD){return cC("("+bd.toSafe(cD)+")");};}(a.id))(cz)):""),T.Make().WithHole({$:1,$0:"name",$1:ct})),cs.WithHole(U.EventQ2(cs.k,"select",function(){return cs.i;},function(){N.Get(function(cC){h.mainDocV().Set(cC.plgName+"."+cq.docName);},h.currentPlugInW());}))),(cA=U.CompleteHoles(cr.k,cr.h,[]),(cB=new R.New(cA[1],V.tile(cA[0])),(cr.i=cB,cB)))).get_Doc();}return s.ConvertBy(function(cp){return cn(cp[0],cp[1]);},function(cp){return co(cp[0],cp[1]);},N.Map(function(cp){return Y.map(function(cq){return[cp,cq];},cp.plgDocs);},h.currentPlugInW()));};h.renderActions=function(){function cn(cp,cq){return[cp.plgName,cq.actName];}function co(cp,cq){var cr,cs,ct,cu;cr=(cs=cq.actFunction,cs.$==1?(ct=w.concat(", ",D.ofArray([cs.$1])),(function(cv){return function(cw){return cv("("+bd.toSafe(cw)+")");};}(a.id))(ct)):cs.$==2?(cu=w.concat(", ",D.ofArray([cs.$1,cs.$2])),(function(cv){return function(cw){return cv("("+bd.toSafe(cw)+")");};}(a.id))(cu)):"");return s.EmbedView(N.Map(function(cv){var cw,cx,cy,cz,cA,cB,cC,cD;return cv?(cw=(cx=T.Make().WithHole({$:1,$0:"name",$1:cq.actName+cr}),cx.WithHole(U.EventQ2(cx.k,"click",function(){return cx.i;},function(cE){h.callFunction(cE,null,cq.actFunction);}))),(cy=U.CompleteHoles(cw.k,cw.h,[]),(cz=new R.New(cy[1],V.action(cy[0])),(cw.i=cz,cz)))).get_Doc():(cA=(cB=T.Make().WithHole({$:1,$0:"name",$1:cq.actName}),cB.WithHole(U.EventQ2(cB.k,"click",function(){return cB.i;},function(cE){h.callFunction(cE,null,cq.actFunction);}))),(cC=U.CompleteHoles(cA.k,cA.h,[]),(cD=new R.New(cC[1],V.actiondisabled(cC[0])),(cA.i=cD,cD)))).get_Doc();},cq.actEnabled));}return s.ConvertBy(function(cp){return cn(cp[0],cp[1]);},function(cp){return co(cp[0],cp[1]);},N.Map(function(cp){return Y.map(function(cq){return[cp,cq];},cp.plgActions);},h.currentPlugInW()));};h.renderQueries=function(){function cn(cp,cq){return[cp.plgName,cq.qryName];}function co(cp,cq){var cr,cs,ct,cu;return(cr=(cs=T.Make().WithHole({$:1,$0:"name",$1:cq.qryName}),cs.WithHole(U.EventQ2(cs.k,"select",function(){return cs.i;},function(){a.alert(cq.qryFunction(null));}))),(ct=U.CompleteHoles(cr.k,cr.h,[]),(cu=new R.New(ct[1],V.tile(ct[0])),(cr.i=cu,cu)))).get_Doc();}return s.ConvertBy(function(cp){return cn(cp[0],cp[1]);},function(cp){return co(cp[0],cp[1]);},N.Map(function(cp){return Y.map(function(cq){return[cp,cq];},cp.plgQueries);},h.currentPlugInW()));};h.newAct=function(cn,co){return _9.New(cn,{$:0,$0:co},N.Const(true));};h.newQry=function(cn,co){return _.New(cn,co);};h.newVar=function(cn,co){return _8.New(cn,co);};h.mainDocV=function(){n.$cctor();return n.mainDocV;};h.newDoc=function(cn,co){return Z.New(cn,{$:0,$0:co});};h.AppFwkClient=function(){n.$cctor();return n.AppFwkClient;};h.actHello=function(){n.$cctor();return n.actHello;};h.qryDocs=function(){n.$cctor();return n.qryDocs;};h.horizontal=function(cn,co,cp,cq,cr){var cs,ct,cu,cv;return(cs=(ct=T.Make().WithHole({$:2,$0:"partsizes",$1:cn}).WithHole({$:7,$0:"afterrender",$1:co}).WithHole({$:7,$0:"afterrendersp",$1:cp}),ct.WithHole(U.EventQ2(ct.k,"mousedown",function(){return ct.i;},function(cw){cq(cw.Event);}))).WithHole({$:2,$0:"gap",$1:cr}),(cu=U.CompleteHoles(cs.k,cs.h,[]),(cv=new R.New(cu[1],V.wcompsplitterhor(cu[0])),(cs.i=cv,cv)))).get_Doc();};h.vertical=function(cn,co,cp,cq,cr){var cs,ct,cu,cv;return(cs=(ct=T.Make().WithHole({$:2,$0:"partsizes",$1:cn}).WithHole({$:7,$0:"afterrender",$1:co}).WithHole({$:7,$0:"afterrendersp",$1:cp}),ct.WithHole(U.EventQ2(ct.k,"mousedown",function(){return ct.i;},function(cw){cq(cw.Event);}))).WithHole({$:2,$0:"gap",$1:cr}),(cu=U.CompleteHoles(cs.k,cs.h,[]),(cv=new R.New(cu[1],V.wcompsplitterver(cu[0])),(cs.i=cv,cv)))).get_Doc();};h.mainDoc=function(){var cn,co,cp,cq,cr,cs;return(cn=(co=h.getMainClientDoc(),(cp=(cq=h.mainDocV().get_View(),T.Make().WithHole({$:2,$0:"maindoc",$1:cq})),cp.WithHole(U.EventQ2(cp.k,"goclient",function(){return cp.i;},function(){h.mainDocV().Set("AppFramework.AppFwkClient");}))).WithHole({$:0,$0:"mainclient",$1:co})),(cr=U.CompleteHoles(cn.k,cn.h,[]),(cs=new R.New(cr[1],V.appframework(cr[0])),(cn.i=cs,cs)))).get_Doc();};h.tryGetPlugIn=function(cn){return h.plugIns().TryFindByKey(cn);};h.newActF=function(cn,co){return _9.New(cn,co,N.Const(true));};h.callFunction=function(cn,co,cp){if(cp.$==1)cp.$0(cn);else if(cp.$==2)(cp.$0(cn))(co);else cp.$0();};h.getMainClientDoc=function(){var cn;return s.EmbedView((cn=h.plugIns().v,N.Map2(function(co,cp){var cq,cr;cq=Y.tryPick(function(cs){var ct;ct=Y.tryFind(function(cu){return cs.plgName+"."+cu.docName===co;},cs.plgDocs);return ct==null?null:{$:1,$0:h.getLazyDoc(ct.$0)};},cp);cr=h.AppFwkClient().f();return cq==null?cr:cq.$0;},h.mainDocV().get_View(),cn)));};h.tryGetAct=function(cn,co){var cp;cp=h.tryGetPlugIn(cn);return cp==null?null:S.tryFind(function(cq){return cq.actName===co;},cp.$0.plgActions);};h.tryGetVoV=function(cn,co){var cp,cq,cr;cp=(cq=h.tryGetVar(cn,co),cq==null?null:{$:1,$0:{$:1,$0:cq.$0.varVar}});return cp==null?(cr=h.tryGetViw(cn,co),cr==null?null:{$:1,$0:new bb.New(cr.$0.viwView,a.ignore)}):cp.$0;};h.tryGetDoc=function(cn,co){var cp;cp=h.tryGetPlugIn(cn);return cp==null?null:S.tryFind(function(cq){return cq.docName===co;},cp.$0.plgDocs);};h.getLazyDoc=function(cn){var co;co=cn.docDoc;return co.$==0?co.$0.f():s.Element("div",[],[s.TextNode((function(cp){return function(cq){return cp("Doc with parameters not allowed here: "+W.p(cq));};}(a.id))(cn))]);};h.tryGetVar=function(cn,co){var cp;cp=h.tryGetPlugIn(cn);return cp==null?null:S.tryFind(function(cq){return cq.varName===co;},cp.$0.plgVars);};h.tryGetViw=function(cn,co){var cp;cp=h.tryGetPlugIn(cn);return cp==null?null:S.tryFind(function(cq){return cq.viwName===co;},cp.$0.plgViews);};h.newDocF=function(cn,co){return Z.New(cn,co);};h.tryGetWoW=function(cn,co){var cp,cq,cr;cp=(cq=h.tryGetViw(cn,co),cq==null?null:{$:1,$0:{$:1,$0:cq.$0.viwView}});return cp==null?(cr=h.tryGetVar(cn,co),cr==null?null:{$:1,$0:cr.$0.varVar.get_View()}):cp.$0;};m.GetFields=function(cn){var co,cp;co=[];for(var cq in cn)co.push([cq,cn[cq]]);return co;};m.GetFieldValues=function(cn){var co,cp;co=[];for(var cq in cn)co.push(cn[cq]);return co;};n.$cctor=function(){var cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV;n.$cctor=a.ignore;function cW(c7){return w.concat("\n",c7);}function cX(c7){return v.splitByChar("\n",c7);}function cY(c7){var c8,c9;return x.array(c7,{$:1,$0:0},{$:1,$0:(c8=0,(c9=S.length(c7)-2,z.Compare(c8,c9)===1?c8:c9))});}function cZ(c7){return w.concat("\n",c7);}function c0(c7){var c8;function c9(c$){return h.plugIns().TryFindByKey(c$);}function c_(c$){var da;da=h.defaultPlugIn();return c$==null?da:c$.$0;}c8=function(c$){return c$==null?null:c9(c$.$0);};return function(c$){return c_(c8(c$));};}function c1(c7,c8){cq.set_Item(c7,c8);return c8;}function c2(c7,c8){cv.set_Item(c7,c8);return c8;}function c3(c7,c8){cA.set_Item(c7,c8);return c8;}function c4(c7,c8){cF.set_Item(c7,c8);return c8;}function c5(c7,c8){cK.set_Item(c7,c8);return c8;}function c6(c7,c8){cP.set_Item(c7,c8);return c8;}n.unindentStr=function(c7){return cW(v.unindent(c7));};n.skipLastLine=(cn=function(c7){return cY(cX(c7));},function(c7){return cZ(cn(c7));});n.parseDateO=y.tryParseWith(function(c7){var c8,c9;c8=0;return[(c9=_5.TryParse(c7),c9!=null&&c9.$==1&&(c8=c9.$0,true)),c8];});n.parseIntO=y.tryParseWith(function(c7){var c8;c8=0;return[A.TryParseInt32(c7,{get:function(){return c8;},set:function(c9){c8=c9;}}),c8];});n.parseSingleO=y.tryParseWith(function(c7){var c8,c9;c8=0;return[(c9=a.Number(c7),a.isNaN(c9)?false:(c8=c9,true)),c8];});n.parseDoubleO=y.tryParseWith(function(c7){var c8,c9;c8=0;return[(c9=a.Number(c7),a.isNaN(c9)?false:(c8=c9,true)),c8];});n.parseGuidO=y.tryParseWith(function(c7){var c8;c8=null;return[C.TryParse(c7,{get:function(){return c8;},set:function(c9){c8=c9;}}),c8];});n["|Date|_|"]=y.parseDateO();n["|Int|_|"]=y.parseIntO();n["|Single|_|"]=y.parseSingleO();n["|Double|_|"]=y.parseDoubleO();n["|Guid|_|"]=y.parseGuidO();n.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";n.observers=E.Empty;n.css="\r\n                .tab-panel {\r\n                 overflow  : hidden   ;\r\n                 display   : flex     ;\r\n                 flex-flow : column   ;\r\n                 background: lightgray;\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                }\r\n                .tab-content {\r\n                 flex      : 1 1     ;\r\n                 overflow  : auto    ;\r\n                 position  : relative;\r\n                }\r\n                .tab-children {\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                 position  : absolute;\r\n                 display   : grid    ;\r\n                }\r\n                .tab-strip {\r\n                 padding   : 0pt     ;\r\n                 flex      : 0 0     ;\r\n                }\r\n                .tab {\r\n                 border     : 0.2pt solid transparent;\r\n                 padding    : 0pt 4pt;\r\n                 display    : inline-block;\r\n                 font-family: sans-serif;\r\n                 font-weight: 200;\r\n                 font-size  : small;\r\n                 color      : #666;\r\n                 cursor     : pointer;\r\n                }\r\n                .top>.tab {\r\n                 border-radius: 2pt 2pt 0pt 0pt;\r\n                 border-bottom-width: 0pt;\r\n                 vertical-align: bottom;\r\n                }\r\n                .bottom>.tab {\r\n                 border-top-width: 0pt;\r\n                 border-radius: 0pt 0pt 2pt 2pt;\r\n                 vertical-align: top;\r\n                }\r\n                .horizontal>.tab:not(:first-child) {\r\n                 border-left-width: 0pt;\r\n                }\r\n                .tab.hovering {\r\n                 background: red;\r\n                }\r\n                .tab.selected {\r\n                 background: white;\r\n                 border-left-width: 0.2pt;\r\n                 color: black;\r\n                 font-weight: 500;\r\n                 border-color: black;\r\n                }\r\n                .horizontal>.tab.selected {\r\n                 border-left-width: 0.2pt;\r\n                }\r\n                ::slotted(*              ) { \r\n                 width : 100%;\r\n                 height: 100%;\r\n                }\r\n                        ";n.init=F.Create(function(){var c7,c8,c9;c7=new I.New();c8="wcomp-tabstrip";c9=self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New;cg.log("defineWebComponent: "+c8);bx.setPrototypeOf(c9.prototype,self.HTMLElement.prototype);bx.setPrototypeOf(c9,self.HTMLElement);bx.setPrototypeOf(I.Constructor.prototype,c9.prototype);self.customElements.define(c8,I.Constructor);});n.layoutHorizontal=ci.Curried(function(c7,c8,c9,c_,c$){return s.get_Empty();},5);n.layoutVertical=ci.Curried(function(c7,c8,c9,c_,c$){return s.get_Empty();},5);n.plugIns=new J.New$1(function(c7){return c7.plgName;});n.mainDocV=L.Create$1("AppFramework.AppFwkClient");n.TemplateFileName="..\\website\\AppFramework.html";n.defaultPlugIn=K.New("",[],[],[],[],[]);n.selectionPlugInO=L.Create$1({$:1,$0:"AppFramework"});n.currentPlugInW=(co=h.selectionPlugInO().get_View(),N.Map2(function(c7,c8){return(c0(c7))(c8);},h.plugIns().v,co));n.currentPlugInV=new bb.New(h.currentPlugInW(),function(c7){h.plugIns().Append(c7);});n.AppFwkClient=F.Create(function(){var c7,c8,c9,c_,c$,da,db,dc,dd;return(c7=(c8=h.renderQueries(),(c9=h.renderActions(),(c_=h.renderDocs(),(c$=h.renderViews(),(da=h.renderVars(),(db=h.renderPlugIns(),T.Make().WithHole({$:0,$0:"plugins",$1:db})).WithHole({$:2,$0:"pluginname",$1:N.Map(function(de){return de.plgName;},h.currentPlugInW())}).WithHole({$:0,$0:"vars",$1:da})).WithHole({$:0,$0:"views",$1:c$})).WithHole({$:0,$0:"docs",$1:c_})).WithHole({$:0,$0:"actions",$1:c9})).WithHole({$:0,$0:"queries",$1:c8})),(dc=U.CompleteHoles(c7.k,c7.h,[]),(dd=new R.New(dc[1],V.appfwkclient(dc[0])),(c7.i=dd,dd)))).get_Doc();});n.actHello=h.newAct("Hello",function(){self.alert("Hello!");});n.qryDocs=h.newQry("getDocNames",function(){return S.ofSeq(Y.collect(function(c7){return Y.map(function(c8){return c7.plgName+"."+c8.docName;},c7.plgDocs);},(h.plugIns())["var"].Get()));});h.plugIns().Append(K.New("AppFramework",[h.newVar("mainDocV",h.mainDocV())],[],[h.newDoc("AppFwkClient",h.AppFwkClient())],[h.actHello()],[h.qryDocs()]));n.getMainDoc=F.Create(function(){_0.init(ci.Curried(h.horizontal,5),ci.Curried(h.vertical,5));H.init().f();return h.mainDoc();});n.createSplitterM=(cp=(cq=new _3.New$5(),[[function(c7){var c8;c8=null;return cq.TryGetValue(c7,{get:function(){return c8;},set:function(c9){c8=c9;}})?{$:1,$0:c8}:null;},function(c7){return function(c8){return c1(c7,c8);};}],function(){cq.Clear();}]),(cr=cp[0],[(cs=cr[1],(ct=cr[0],function(c7){var c8,c9;c8=ct(c7);return c8==null?(c9=_1.createSplitter.apply(null,c7),(cs(c7))(c9)):c8.$0;})),cp[1]]))[0];n.createButtonM=(cu=(cv=new _3.New$5(),[[function(c7){var c8;c8=null;return cv.TryGetValue(c7,{get:function(){return c8;},set:function(c9){c8=c9;}})?{$:1,$0:c8}:null;},function(c7){return function(c8){return c2(c7,c8);};}],function(){cv.Clear();}]),(cw=cu[0],[(cx=cw[1],(cy=cw[0],function(c7){var c8,c9;c8=cy(c7);return c8==null?(c9=_1.createButton.apply(null,c7),(cx(c7))(c9)):c8.$0;})),cu[1]]))[0];n.createInputM=(cz=(cA=new _3.New$5(),[[function(c7){var c8;c8=null;return cA.TryGetValue(c7,{get:function(){return c8;},set:function(c9){c8=c9;}})?{$:1,$0:c8}:null;},function(c7){return function(c8){return c3(c7,c8);};}],function(){cA.Clear();}]),(cB=cz[0],[(cC=cB[1],(cD=cB[0],function(c7){var c8,c9;c8=cD(c7);return c8==null?(c9=_1.createInput.apply(null,c7),(cC(c7))(c9)):c8.$0;})),cz[1]]))[0];n.createTextAreaM=(cE=(cF=new _3.New$5(),[[function(c7){var c8;c8=null;return cF.TryGetValue(c7,{get:function(){return c8;},set:function(c9){c8=c9;}})?{$:1,$0:c8}:null;},function(c7){return function(c8){return c4(c7,c8);};}],function(){cF.Clear();}]),(cG=cE[0],[(cH=cG[1],(cI=cG[0],function(c7){var c8,c9;c8=cI(c7);return c8==null?(c9=_1.createTextArea.apply(null,c7),(cH(c7))(c9)):c8.$0;})),cE[1]]))[0];n.createElementM=(cJ=(cK=new _3.New$5(),[[function(c7){var c8;c8=null;return cK.TryGetValue(c7,{get:function(){return c8;},set:function(c9){c8=c9;}})?{$:1,$0:c8}:null;},function(c7){return function(c8){return c5(c7,c8);};}],function(){cK.Clear();}]),(cL=cJ[0],[(cM=cL[1],(cN=cL[0],function(c7){var c8,c9;c8=cN(c7);return c8==null?(c9=_1.createElement.apply(null,c7),(cM(c7))(c9)):c8.$0;})),cJ[1]]))[0];n.createDocM=(cO=(cP=new _3.New$5(),[[function(c7){var c8;c8=null;return cP.TryGetValue(c7,{get:function(){return c8;},set:function(c9){c8=c9;}})?{$:1,$0:c8}:null;},function(c7){return function(c8){return c6(c7,c8);};}],function(){cP.Clear();}]),(cQ=cO[0],[(cR=cQ[1],(cS=cQ[0],function(c7){var c8,c9;c8=cS(c7);return c8==null?(c9=_1.createDoc.apply(null,c7),(cR(c7))(c9)):c8.$0;})),cO[1]]))[0];cT=h.tryGetPlugIn("AppFramework");cT==null?void 0:(cU=cT.$0,cV=K.New(cU.plgName,cU.plgVars,cU.plgViews,cU.plgDocs,cU.plgActions.concat([h.newActF("AddLayout",{$:2,$0:function(c7){return function(c8){return _1.addNewLayout(c7,c8);};},$1:"[Name]",$2:"[Layout]"})]),cU.plgQueries),h.plugIns().Append(cV));};q.LoadLocalTemplates=function(cn){!q.LocalTemplatesLoaded()?(q.set_LocalTemplatesLoaded(true),q.LoadNestedTemplates(self.document.body,"")):void 0;q.LoadedTemplates().set_Item(cn,q.LoadedTemplateFile(""));};q.LocalTemplatesLoaded=function(){bj.$cctor();return bj.LocalTemplatesLoaded;};q.set_LocalTemplatesLoaded=function(cn){bj.$cctor();bj.LocalTemplatesLoaded=cn;};q.LoadNestedTemplates=function(cn,co){var cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD;function cp(cE){var cF,cG;if(!cq.ContainsKey(cE)){cF=(cG=null,[cr.TryGetValue(cE,{get:function(){return cG;},set:function(cH){cG=cH;}}),cG]);cF[0]?(cD.Add(cE),cr.Remove(cE),q.PrepareTemplateStrict(co,{$:1,$0:cE},cF[1][0],{$:1,$0:cF[1][1]},{$:1,$0:cp})):cg.warn(cD.Contains(cE)?"Encountered loop when instantiating "+cE:"Local template does not exist: "+cE);}}cq=q.LoadedTemplateFile(co);cr=new _3.New$5();cs=cn.querySelectorAll("[ws-template]");for(ct=0,cu=cs.length-1;ct<=cu;ct++){cv=cs[ct];cw=cv.getAttribute("ws-template").toLowerCase();cv.removeAttribute("ws-template");cr.set_Item(cw,[[cv],q.FakeRootSingle(cv)]);}cx=cn.querySelectorAll("[ws-children-template]");for(cy=0,cz=cx.length-1;cy<=cz;cy++){cA=cx[cy];cB=cA.getAttribute("ws-children-template").toLowerCase();cA.removeAttribute("ws-children-template");cr.set_Item(cB,(cC=bk.ChildrenArray(cA),[cC,q.FakeRoot(cC)]));}cD=new be.New$3();while(cr.count>0)cp(Y.head(cr.get_Keys()));};q.LoadedTemplates=function(){bj.$cctor();return bj.LoadedTemplates;};q.LoadedTemplateFile=function(cn){var co,cp,cq;co=(cp=null,[q.LoadedTemplates().TryGetValue(cn,{get:function(){return cp;},set:function(cr){cp=cr;}}),cp]);return co[0]?co[1]:(cq=new _3.New$5(),(q.LoadedTemplates().set_Item(cn,cq),cq));};q.FakeRootSingle=function(cn){var co,cp,cq;cn.removeAttribute("ws-template");co=cn.getAttribute("ws-replace");co===null?void 0:(cn.removeAttribute("ws-replace"),cp=cn.parentNode,z.Equals(cp,null)?void 0:(cq=self.document.createElement(cn.tagName),cq.setAttribute("ws-replace",co),cp.replaceChild(cq,cn)));return q.FakeRoot([cn]);};q.FakeRoot=function(cn){var co,cp,cq;co=self.document.createElement("div");for(cp=0,cq=cn.length-1;cp<=cq;cp++)co.appendChild(S.get(cn,cp));return co;};q.PrepareTemplateStrict=function(cn,co,cp,cq,cr){var cs,ct;function cu(cz,cA){var cB,cC,cD,cE,cF,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1;function cG(c2){}while(true)switch(cz){case 0:if(cA!==null){cB=cA.nextSibling;if(z.Equals(cA.nodeType,j.TEXT_NODE))bG.convertTextNode(cA);else if(z.Equals(cA.nodeType,j.ELEMENT_NODE))cw(cA);cA=cB;}else return null;break;case 1:cH=x.string(cA.nodeName,{$:1,$0:3},null).toLowerCase();cI=(cC=cH.indexOf("."),cC===-1?[cn,cH]:[x.string(cH,null,{$:1,$0:cC-1}),x.string(cH,{$:1,$0:cC+1},null)]);cJ=cI[1];cK=cI[0];if(cK!==""&&!q.LoadedTemplates().ContainsKey(cK))return bG.failNotLoaded(cJ);else{if(cK===""&&cr!=null)cr.$0(cJ);cL=q.LoadedTemplates().get_Item(cK);if(!cL.ContainsKey(cJ))return bG.failNotLoaded(cJ);else{cM=cL.get_Item(cJ);cN=cM.cloneNode(true);cO=new be.New$3();cP=new _3.New$5();cQ=cA.attributes;for(cR=0,cS=cQ.length-1;cR<=cS;cR++){cT=cQ.item(cR).name.toLowerCase();cP.set_Item(cT,(cU=cQ.item(cR).nodeValue,cU===""?cT:cU.toLowerCase()));!cO.Add(cT)?cg.warn("Hole mapped twice",cT):void 0;}for(cV=0,cW=cA.childNodes.length-1;cV<=cW;cV++){cX=cA.childNodes[cV];z.Equals(cX.nodeType,j.ELEMENT_NODE)?!cO.Add(cX.nodeName.toLowerCase())?cg.warn("Hole filled twice",cJ):void 0:void 0;}cY=cA.childNodes.length===1&&z.Equals(cA.firstChild.nodeType,j.TEXT_NODE);if(cY){cE=bG.fillTextHole(cN,cA.firstChild.textContent,cJ);((function(c2){return function(c3){if(c3!=null)c2(c3.$0);};}((cF=function(c2){return function(c3){return c2.Add(c3);};}(cO),function(c2){return cG(cF(c2));})))(cE));}bG.removeHolesExcept(cN,cO);if(!cY){for(cZ=0,c0=cA.childNodes.length-1;cZ<=c0;cZ++){c1=cA.childNodes[cZ];z.Equals(c1.nodeType,j.ELEMENT_NODE)?c1.hasAttributes()?bG.fillInstanceAttrs(cN,c1):cv(cN,c1):void 0;}}bG.mapHoles(cN,cP);bG.fill(cN,cA.parentNode,cA);cA.parentNode.removeChild(cA);return;}}break;}}function cv(cz,cA){var cB,cD,cE;function cC(cF,cG){var cH,cI,cJ;if(cD==="title"&&cA.hasChildNodes()){cH=cj.parseHTML(cA.textContent);cA.removeChild(cA.firstChild);for(cI=0,cJ=cH.length-1;cI<=cJ;cI++)cA.appendChild(S.get(cH,cI));}else null;cw(cA);return bG.fill(cA,cF,cG);}cD=cA.nodeName.toLowerCase();bk.IterSelector(cz,"[ws-attr-holes]",function(cF){var cG,cH,cI,cJ,cK;cG=w.SplitChars(cF.getAttribute("ws-attr-holes"),[" "],1);for(cH=0,cI=cG.length-1;cH<=cI;cH++){cJ=S.get(cG,cH);cF.setAttribute(cJ,(cK=new a.RegExp("\\${"+cD+"}","ig"),cF.getAttribute(cJ).replace(cK,cA.textContent)));}});cE=cz.querySelector("[ws-hole="+cD+"]");if(z.Equals(cE,null)){cB=cz.querySelector("[ws-replace="+cD+"]");return z.Equals(cB,null)?null:(cC(cB.parentNode,cB),void cB.parentNode.removeChild(cB));}else{while(cE.hasChildNodes())cE.removeChild(cE.lastChild);cE.removeAttribute("ws-hole");return cC(cE,null);}}function cw(cz){if(w.StartsWith(cz.nodeName.toLowerCase(),"ws-"))cy(cz);else{bG.convertAttrs(cz);cx(cz.firstChild);}}function cx(cz){return cu(0,cz);}function cy(cz){return cu(1,cz);}cs=cq==null?q.FakeRoot(cp):cq.$0;ct=(co==null?"":co.$0).toLowerCase();q.LoadedTemplateFile(cn).set_Item(ct,cs);S.length(cp)>0?(function(cz){var cA,cB,cC,cD;while(true){cA=cz.querySelector("[ws-template]");if(z.Equals(cA,null)){cB=cz.querySelector("[ws-children-template]");if(z.Equals(cB,null))return null;else{cC=cB.getAttribute("ws-children-template");cB.removeAttribute("ws-children-template");q.PrepareTemplateStrict(cn,{$:1,$0:cC},bk.ChildrenArray(cB),null,null);cz=cz;}}else{cD=cA.getAttribute("ws-template");(q.PrepareSingleTemplate(cn,{$:1,$0:cD},cA))(null);cz=cz;}}}(cs),cx(S.get(cp,0))):void 0;};q.GetOrLoadTemplate=function(cn,co,cp,cq){q.LoadLocalTemplates("");q.PrepareTemplate(cn,co,cp);return q.NamedTemplate(cn,co,cq);};q.PrepareTemplate=function(cn,co,cp){var cq,cr,cs,ct,cu;if(!q.LoadedTemplateFile(cn).ContainsKey(co==null?"":co.$0)){cq=cp();for(cr=0,cs=cq.length-1;cr<=cs;cr++){ct=S.get(cq,cr);cu=ct.parentNode;z.Equals(cu,null)?void 0:cu.removeChild(ct);}q.PrepareTemplateStrict(cn,co,cq,null,null);}};q.PrepareSingleTemplate=function(cn,co,cp){var cq,cr,cs;cq=q.FakeRootSingle(cp);cr=[cp];cs={$:1,$0:cq};return function(ct){q.PrepareTemplateStrict(cn,co,cr,cs,ct);};};q.NamedTemplate=function(cn,co,cp){var cq,cr;cq=(cr=null,[q.LoadedTemplateFile(cn).TryGetValue(co==null?"":co.$0,{get:function(){return cr;},set:function(cs){cr=cs;}}),cr]);return cq[0]?q.ChildrenTemplate(cq[1].cloneNode(true),cp):(cg.warn("Local template doesn't exist",co),s.get_Empty());};q.TextHoleRE=function(){bj.$cctor();return bj.TextHoleRE;};q.ChildrenTemplate=function(cn,co){var cp,cq,cr,cs,ct;cp=q.InlineTemplate(cn,co);cq=cp[1];cr=cp[0];cs=cr.Els;return!z.Equals(cs,null)&&cs.length===1&&(S.get(cs,0)instanceof j&&(z.Equals(S.get(cs,0).nodeType,j.ELEMENT_NODE)&&(ct=S.get(cs,0),true)))?bP.TreeNode(cr,cq):s.Mk({$:6,$0:cr},cq);};q.InlineTemplate=function(cn,co){var cp,cq,cr,cs,cv,cw,cx,cy,cz,cA,cB;function ct(cC,cD){var cE,cF,cG;cE=bU.Insert(cC,cD);cw.push(bU.Updates(cE));cx.push([cC,cE]);cF=ci.GetOptional(cE.OnAfterRender);return cF==null?null:(cG=cF.$0,void cy.push(function(){cG(cC);}));}function cu(cC){var cD,cE;cD=(cE=null,[cz.TryGetValue(cC,{get:function(){return cE;},set:function(cF){cE=cF;}}),cE]);return cD[0]?cD[1].$==0?{$:1,$0:cD[1].$1}:cD[1].$==1?{$:1,$0:s.TextNode(cD[1].$1)}:cD[1].$==2?{$:1,$0:s.TextView(cD[1].$1)}:cD[1].$==8?{$:1,$0:s.TextView(cD[1].$1.get_View())}:cD[1].$==9?{$:1,$0:s.TextView(N.Map(a.String,cD[1].$1.get_View()))}:cD[1].$==10?{$:1,$0:s.TextView(N.Map(function(cF){return cF.get_Input();},cD[1].$1.get_View()))}:cD[1].$==11?{$:1,$0:s.TextView(N.Map(a.String,cD[1].$1.get_View()))}:cD[1].$==12?{$:1,$0:s.TextView(N.Map(function(cF){return cF.get_Input();},cD[1].$1.get_View()))}:cD[1].$==13?{$:1,$0:s.TextView(N.Map(a.String,cD[1].$1.get_View()))}:(cg.warn("Content hole filled with attribute data",cC),null):null;}cv=[];cw=[];cx=[];cy=[];cz=new _3.New$5();cA=bg.Get(co);try{while(cA.MoveNext()){cB=cA.Current();cz.set_Item(cB.$0,cB);}}finally{if(typeof cA=="object"&&"Dispose"in cA)cA.Dispose();}cp=bk.ChildrenArray(cn);bk.IterSelector(cn,"[ws-hole]",function(cC){var cD,cE,cF;cF=cC.getAttribute("ws-hole");cC.removeAttribute("ws-hole");while(cC.hasChildNodes())cC.removeChild(cC.lastChild);cD=cu(cF);cD!=null&&cD.$==1?(cE=cD.$0,_4.LinkElement(cC,cE.docNode),cv.push(bI.New(bU.Empty(cC),cE.docNode,null,cC,bw.Int(),null)),cw.push(cE.updates)):void 0;});bk.IterSelector(cn,"[ws-replace]",function(cC){var cD,cE,cF,cG,cH,cI;cD=cu(cC.getAttribute("ws-replace"));cD!=null&&cD.$==1?(cE=cD.$0,cF=cC.parentNode,cG=self.document.createTextNode(""),cF.replaceChild(cG,cC),cH=_4.InsertBeforeDelim(cG,cE.docNode),cI=S.tryFindIndex(function(cJ){return cC===cJ;},cp),cI==null?void 0:S.set(cp,cI.$0,cE.docNode),cv.push(bI.New(bU.Empty(cF),cE.docNode,{$:1,$0:[cH,cG]},cF,bw.Int(),null)),cw.push(cE.updates)):void 0;});bk.IterSelector(cn,"[ws-attr]",function(cC){var cD,cE,cF;cD=cC.getAttribute("ws-attr");cC.removeAttribute("ws-attr");cE=(cF=null,[cz.TryGetValue(cD,{get:function(){return cF;},set:function(cG){cF=cG;}}),cF]);cE[0]?cE[1].$==3?ct(cC,cE[1].$1):cg.warn("Attribute hole filled with non-attribute data",cD):void 0;});bk.IterSelector(cn,"[ws-on]",function(cC){ct(cC,bp.Concat(S.choose(function(cD){var cE,cF,cG;cE=w.SplitChars(cD,[":"],1);cF=(cG=null,[cz.TryGetValue(S.get(cE,1),{get:function(){return cG;},set:function(cH){cG=cH;}}),cG]);return cF[0]?cF[1].$==4?{$:1,$0:bD.Handler(S.get(cE,0),cF[1].$1)}:cF[1].$==5?{$:1,$0:bp.Handler(S.get(cE,0),cF[1].$2)}:(cg.warn("Event hole on"+S.get(cE,0)+" filled with non-event data",S.get(cE,1)),null):null;},w.SplitChars(cC.getAttribute("ws-on"),[" "],1))));cC.removeAttribute("ws-on");});bk.IterSelector(cn,"[ws-onafterrender]",function(cC){var cD,cE,cF;cD=cC.getAttribute("ws-onafterrender");cE=(cF=null,[cz.TryGetValue(cD,{get:function(){return cF;},set:function(cG){cF=cG;}}),cF]);cE[0]?cE[1].$==6?(cC.removeAttribute("ws-onafterrender"),ct(cC,bD.OnAfterRender(cE[1].$1))):cE[1].$==7?(cC.removeAttribute("ws-onafterrender"),ct(cC,bD.OnAfterRender(cE[1].$1))):cg.warn("onafterrender hole filled with non-onafterrender data",cD):void 0;});bk.IterSelector(cn,"[ws-var]",function(cC){var cD,cE,cF;cD=cC.getAttribute("ws-var");cC.removeAttribute("ws-var");cE=(cF=null,[cz.TryGetValue(cD,{get:function(){return cF;},set:function(cG){cF=cG;}}),cF]);cE[0]?cE[1].$==8?ct(cC,bD.Value(cE[1].$1)):cE[1].$==9?ct(cC,bD.Checked(cE[1].$1)):cE[1].$==10?ct(cC,bD.IntValue(cE[1].$1)):cE[1].$==11?ct(cC,bD.IntValueUnchecked(cE[1].$1)):cE[1].$==12?ct(cC,bD.FloatValue(cE[1].$1)):cE[1].$==13?ct(cC,bD.FloatValueUnchecked(cE[1].$1)):cg.warn("Var hole filled with non-Var data",cD):void 0;});bk.IterSelector(cn,"[ws-attr-holes]",function(cC){var cD,cE,cF,cG;cD=new a.RegExp(q.TextHoleRE(),"g");cE=w.SplitChars(cC.getAttribute("ws-attr-holes"),[" "],1);cC.removeAttribute("ws-attr-holes");for(cF=0,cG=cE.length-1;cF<=cG;cF++)(function(){var cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT;cQ=S.get(cE,cF);cR=cC.getAttribute(cQ);cH=null;cI=0;cS=[];while(cH=cD.exec(cR),cH!==null){cT=x.string(cR,{$:1,$0:cI},{$:1,$0:cD.lastIndex-S.get(cH,0).length-1});cI=cD.lastIndex;cS.push([cT,S.get(cH,1)]);}cK=x.string(cR,{$:1,$0:cI},null);cD.lastIndex=0;cL=S.foldBack(function(cU,cV){return(function(cW){var cX,cY;cX=cW[0];cY=cW[1];return function(cZ){var c0,c1,c2,c3,c4;c0=cZ[0];c1=cZ[1];c2=(c3=(c4=null,[cz.TryGetValue(cY,{get:function(){return c4;},set:function(c5){c4=c5;}}),c4]),c3[0]?c3[1].$==1?{$:0,$0:c3[1].$1}:c3[1].$==2?{$:1,$0:c3[1].$1}:c3[1].$==8?{$:1,$0:c3[1].$1.get_View()}:c3[1].$==9?{$:1,$0:N.Map(a.String,c3[1].$1.get_View())}:c3[1].$==10?{$:1,$0:N.Map(function(c5){return c5.get_Input();},c3[1].$1.get_View())}:c3[1].$==11?{$:1,$0:N.Map(a.String,c3[1].$1.get_View())}:c3[1].$==12?{$:1,$0:N.Map(function(c5){return c5.get_Input();},c3[1].$1.get_View())}:c3[1].$==13?{$:1,$0:N.Map(a.String,c3[1].$1.get_View())}:(cg.warn("Attribute value hole filled with non-text data",cY),{$:0,$0:""}):{$:0,$0:""});return c2.$==1?[cX,new E({$:1,$0:c0===""?c2.$0:N.Map(function(c5){return c5+c0;},c2.$0),$1:c1})]:[cX+c2.$0+c0,c1];};}(cU))(cV);},cS,[cK,E.Empty]);return ct(cC,cL[1].$==1?cL[1].$1.$==1?cL[1].$1.$1.$==1?cL[1].$1.$1.$1.$==0?(cM=cL[0],bD.Dynamic(cQ,N.Map3(function(cU,cV,cW){return cM+cU+cV+cW;},cL[1].$0,cL[1].$1.$0,cL[1].$1.$1.$0))):(cN=cL[0],bD.Dynamic(cQ,N.Map(function(cU){return cN+w.concat("",cU);},N.Sequence(cL[1])))):(cO=cL[0],bD.Dynamic(cQ,N.Map2(function(cU,cV){return cO+cU+cV;},cL[1].$0,cL[1].$1.$0))):cL[0]===""?bD.Dynamic(cQ,cL[1].$0):(cP=cL[0],bD.Dynamic(cQ,N.Map(function(cU){return cP+cU;},cL[1].$0))):bp.Create(cQ,cL[0]));}());});return[ci.DeleteEmptyFields({Els:cp,Dirty:true,Holes:cv,Attrs:cx,Render:(cq=cy.length==0?null:{$:1,$0:function(cC){S.iter(function(cD){cD(cC);},cy);}},cq?cq.$0:void 0),El:(cr=!z.Equals(cp,null)&&cp.length===1&&(S.get(cp,0)instanceof j&&(S.get(cp,0)instanceof a.Element&&(cs=S.get(cp,0),true)))?{$:1,$0:cs}:null,cr?cr.$0:void 0)},["Render","El"]),bE.TreeReduce(N.Const(),N.Map2Unit,cw)];};r=e.Obj=ci.Class({Equals:function(cn){return this===cn;},GetHashCode:function(){return -1;}},null,r);r.New=ci.Ctor(function(){},r);s=o.Doc=ci.Class({},r,s);s.Run=function(cn,co){_4.LinkElement(cn,co.docNode);s.RunInPlace(false,cn,co);};s.get_Empty=function(){return s.Mk(null,N.Const());};s.RunInPlace=function(cn,co,cp){var cq;cq=_4.CreateRunState(co,cp.docNode);N.Sink(bl.get_UseAnimations()||bm.BatchUpdatesEnabled()?bo.StartProcessor(_4.PerformAnimatedUpdate(cn,cq,cp.docNode)):function(){_4.PerformSyncUpdate(cn,cq,cp.docNode);},cp.updates);};s.Element=function(cn,co,cp){var cq,cr;cq=bp.Concat(co);cr=s.Concat(cp);return bP.New(bk.CreateElement(cn),cq,cr);};s.Mk=function(cn,co){return new s.New(cn,co);};s.Concat=function(cn){var co;co=bE.ofSeqNonCopying(cn);return bE.TreeReduce(s.get_Empty(),s.Append,co);};s.ConvertBy=function(cn,co,cp){return s.Flatten(N.MapSeqCachedBy(cn,co,cp));};s.EmbedView=function(cn){var co;co=_4.CreateEmbedNode();return s.Mk({$:2,$0:co},N.Map(a.ignore,N.Bind(function(cp){_4.UpdateEmbedNode(co,cp.docNode);return cp.updates;},cn)));};s.Button=function(cn,co,cp){var cq;cq=bp.Concat(co);return bP.New(s.Clickable("button",cp),cq,s.TextNode(cn));};s.Input=function(cn,co){return s.InputInternal("input",function(){return Y.append(cn,[bD.Value(co)]);});};s.InputArea=function(cn,co){return s.InputInternal("textarea",function(){return Y.append(cn,[bD.Value(co)]);});};s.Append=function(cn,co){return s.Mk({$:0,$0:cn.docNode,$1:co.docNode},N.Map2Unit(cn.updates,co.updates));};s.TextNode=function(cn){return s.Mk({$:5,$0:bk.CreateText(cn)},N.Const());};s.TextView=function(cn){var co;co=_4.CreateTextNode();return s.Mk({$:4,$0:co},N.Map(function(cp){_4.UpdateTextNode(co,cp);},cn));};s.Flatten=function(cn){return s.EmbedView(N.Map(s.Concat,cn));};s.Clickable=function(cn,co){var cp;cp=bk.CreateElement(cn);cp.addEventListener("click",function(cq){cq.preventDefault();return co();},false);return cp;};s.InputInternal=function(cn,co){var cp;cp=bk.CreateElement(cn);return bP.New(cp,bp.Concat(co(cp)),s.get_Empty());};s.New=ci.Ctor(function(cn,co){r.New.call(this);this.docNode=cn;this.updates=co;},s);t.NewFromSeq=function(cn){var co,cp,cq;co={};cp=bg.Get(cn);try{while(cp.MoveNext()){cq=cp.Current();co[cq[0]]=cq[1];}}finally{if(typeof cp=="object"&&"Dispose"in cp)cp.Dispose();}return co;};v.unindent=function(cn){var co,cp,cq,cr;co=w.SplitChars(cn,["\n"],0);cp=(cq=Y.tryFindIndex(function(cs){return" "!==cs;},(cr=Y.tryFind(function(cs){return w.Trim(cs)!=="";},co),cr==null?"":cr.$0)),cq==null?0:cq.$0);return Y.filter(function(cs){return!w.StartsWith(cs,"# 1 ");},Y.map(function(cs){return cs.length<=cp?"":cs.substring(cp);},co));};v.splitByChar=function(cn,co){return w.SplitChars(co,[cn],0);};v.unindentStr=function(){n.$cctor();return n.unindentStr;};v.delimitedO=function(cn,co,cp){var cq,cr,cs,ct,cu;cq=v.splitInTwoO(cn,cp);return cq==null?null:(cr=cq.$0,(cs=cr[0],(ct=v.splitInTwoO(co,cr[1]),ct==null?null:{$:1,$0:(cu=ct.$0,[cs,cu[0],cu[1]])})));};v.splitInTwoO=function(cn,co){var cp;cp=co.indexOf(cn);return cp===-1?null:{$:1,$0:[u["String.Left"](co,cp),co.substring(cp+cn.length)]};};w.concat=function(cn,co){return S.ofSeq(co).join(cn);};w.SplitChars=function(cn,co,cp){return w.Split(cn,new a.RegExp("["+w.RegexEscape(co.join(""))+"]"),cp);};w.Trim=function(cn){return cn.replace(new a.RegExp("^\\s+"),"").replace(new a.RegExp("\\s+$"),"");};w.StartsWith=function(cn,co){return cn.substring(0,co.length)==co;};w.Replace=function(cn,co,cp){function cq(cr){var cs,ct,cu;cs=cr.indexOf(co);return cs!==-1?(ct=w.ReplaceOnce(cr,co,cp),(cu=cs+cp.length,w.Substring(ct,0,cs+cp.length)+cq(ct.substring(cu)))):cr;}return cq(cn);};w.Split=function(cn,co,cp){return cp===1?S.filter(function(cq){return cq!=="";},w.SplitWith(cn,co)):w.SplitWith(cn,co);};w.RegexEscape=function(cn){return cn.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};w.ReplaceOnce=function(cn,co,cp){return cn.replace(co,cp);};w.SplitWith=function(cn,co){return cn.split(co);};w.Substring=function(cn,co,cp){return cn.substr(co,cp);};w.forall=function(cn,co){return Y.forall(cn,w.protect(co));};w.protect=function(cn){return cn===null?"":cn;};x.array=function(cn,co,cp){return co==null?cp!=null&&cp.$==1?cn.slice(0,cp.$0+1):[]:cp==null?cn.slice(co.$0):cn.slice(co.$0,cp.$0+1);};x.string=function(cn,co,cp){return co==null?cp!=null&&cp.$==1?cn.slice(0,cp.$0+1):"":cp==null?cn.slice(co.$0):cn.slice(co.$0,cp.$0+1);};y.tryParseWith=function(cn){function co(cp,cq){return cp?{$:1,$0:cq}:null;}return function(cp){return co.apply(null,cn(cp));};};y.parseDateO=function(){n.$cctor();return n.parseDateO;};y.parseIntO=function(){n.$cctor();return n.parseIntO;};y.parseSingleO=function(){n.$cctor();return n.parseSingleO;};y.parseDoubleO=function(){n.$cctor();return n.parseDoubleO;};y.parseGuidO=function(){n.$cctor();return n.parseGuidO;};y.Double=function(){n.$cctor();return n["|Double|_|"];};z.Compare=function(cn,co){var cp,cq,cr,cs,ct,cu;if(cn===co)return 0;else{cq=typeof cn;switch(cq=="function"?1:cq=="boolean"?2:cq=="number"?2:cq=="string"?2:cq=="object"?3:0){case 0:return typeof co=="undefined"?0:-1;case 1:return f.FailWith("Cannot compare function values.");case 2:return cn<co?-1:1;case 3:if(cn===null)cr=-1;else if(co===null)cr=1;else if("CompareTo"in cn)cr=cn.CompareTo(co);else if("CompareTo0"in cn)cr=cn.CompareTo0(co);else if(cn instanceof a.Array&&co instanceof a.Array)cr=z.compareArrays(cn,co);else if(cn instanceof a.Date&&co instanceof a.Date)cr=z.compareDates(cn,co);else{cs=[0];for(var cv in cn)if(function(cw){return!cn.hasOwnProperty(cw)?false:!co.hasOwnProperty(cw)?(cs[0]=1,true):(cs[0]=z.Compare(cn[cw],co[cw]),cs[0]!==0);}(cv))break;if(cs[0]===0){for(var cw in co)if(function(cx){return!co.hasOwnProperty(cx)?false:!cn.hasOwnProperty(cx)&&(cs[0]=-1,true);}(cw))break;}cr=cs[0];}return cr;}}};z.Equals=function(cn,co){var cp,cq,cr,cs;if(cn===co)return true;else{cp=typeof cn;if(cp=="object"){if(cn===null||cn===void 0||co===null||co===void 0)return false;else if("Equals"in cn)return cn.Equals(co);else if(cn instanceof a.Array&&co instanceof a.Array)return z.arrayEquals(cn,co);else if(cn instanceof a.Date&&co instanceof a.Date)return z.dateEquals(cn,co);else{cq=[true];for(var ct in cn)if(function(cu){cq[0]=!cn.hasOwnProperty(cu)||co.hasOwnProperty(cu)&&z.Equals(cn[cu],co[cu]);return!cq[0];}(ct))break;if(cq[0]){for(var cu in co)if(function(cv){cq[0]=!co.hasOwnProperty(cv)||cn.hasOwnProperty(cv);return!cq[0];}(cu))break;}return cq[0];}}else return cp=="function"&&("$Func"in cn?cn.$Func===co.$Func&&cn.$Target===co.$Target:"$Invokes"in cn&&"$Invokes"in co&&z.arrayEquals(cn.$Invokes,co.$Invokes));}};z.compareArrays=function(cn,co){var cp,cq;if(S.length(cn)<S.length(co))return -1;else if(S.length(cn)>S.length(co))return 1;else{cp=0;cq=0;while(cp===0&&cq<S.length(cn)){cp=z.Compare(S.get(cn,cq),S.get(co,cq));cq=cq+1;}return cp;}};z.compareDates=function(cn,co){return z.Compare(cn.getTime(),co.getTime());};z.arrayEquals=function(cn,co){var cp,cq;if(S.length(cn)===S.length(co)){cp=true;cq=0;while(cp&&cq<S.length(cn)){!z.Equals(S.get(cn,cq),S.get(co,cq))?cp=false:void 0;cq=cq+1;}return cp;}else return false;};z.dateEquals=function(cn,co){return cn.getTime()===co.getTime();};z.Hash=function(cn){var co;co=typeof cn;return co=="function"?0:co=="boolean"?cn?1:0:co=="number"?cn:co=="string"?z.hashString(cn):co=="object"?cn==null?0:cn instanceof a.Array?z.hashArray(cn):z.hashObject(cn):0;};z.hashString=function(cn){var co,cp,cq;if(cn===null)return 0;else{co=5381;for(cp=0,cq=cn.length-1;cp<=cq;cp++)co=z.hashMix(co,cn[cp].charCodeAt());return co;}};z.hashArray=function(cn){var co,cp,cq;co=-34948909;for(cp=0,cq=S.length(cn)-1;cp<=cq;cp++)co=z.hashMix(co,z.Hash(S.get(cn,cp)));return co;};z.hashObject=function(cn){var co,cp;if("GetHashCode"in cn)return cn.GetHashCode();else{co=[0];for(var cq in cn)if(function(cr){co[0]=z.hashMix(z.hashMix(co[0],z.hashString(cr)),z.Hash(cn[cr]));return false;}(cq))break;return co[0];}};z.hashMix=function(cn,co){return(cn<<5)+cn+co;};A.TryParseInt32=function(cn,co){return A.TryParse(cn,-2147483648,2147483647,co);};C.TryParse=function(cn,co){try{co.set(C.Parse(cn));return true;}catch(cp){return false;}};C.Parse=function(cn){var co,cp,cq;try{return C.ParseExact(cn,"D");}catch(cr){try{co=C.ParseExact(cn,"B");}catch(cs){try{cp=C.ParseExact(cn,"P");}catch(ct){try{cq=C.ParseExact(cn,"N");}catch(cu){cq=C.ParseExact(cn,"X");}cp=cq;}co=cp;}return co;}};C.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new a.RegExp("[xy]","g"),function(cn){var co,cp;co=ck.random()*16|0;cp=cn=="x"?co:co&3|8;return cp.toString(16);});};C.ParseExact=function(cn,co){var cp,cq,cr,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC;function cs(cD){var cE,cF,cG,cH;for(cE=0,cF=35;cE<=cF;cE++){cE===8||(cE===13||(cE===18||cE===23))?cD[cE]!=="-"?C.ShapeError():void 0:(cH=cD[cE],!("0"<=cH&&cH<="9"||"a"<=cH&&cH<="f")?C.ShapeError():void 0);}return cD;}ct=co.toUpperCase();if(ct==="N"){cu=w.Trim(cn).toLowerCase();if(cu.length!==32)C.ShapeError();for(cv=0,cw=31;cv<=cw;cv++){cx=cu[cv];!("0"<=cx&&cx<="9"||"a"<=cx&&cx<="f")?C.ShapeError():void 0;}return w.Substring(cu,0,8)+"-"+w.Substring(cu,8,4)+"-"+w.Substring(cu,12,4)+"-"+w.Substring(cu,16,4)+"-"+cu.substring(20);}else if(ct==="D"){cp=w.Trim(cn).toLowerCase();cp.length!==36?C.ShapeError():void 0;return cs(cp);}else if(ct==="B"){cq=w.Trim(cn).toLowerCase();cq.length!==38||cq[0]!=="{"||cq[17]!=="}"?C.ShapeError():void 0;return cs(w.Substring(cq,1,36));}else if(ct==="P"){cr=w.Trim(cn).toLowerCase();cr.length!==38||cr[0]!=="("||cr[17]!==")"?C.ShapeError():void 0;return cs(w.Substring(cr,1,36));}else if(ct==="X"){cy=w.Trim(cn).toLowerCase();if(cy.length!==68)C.ShapeError();for(cz=0,cA=67;cz<=cA;cz++){switch(cz){case 26:case 0:if(cy[cz]!=="{")C.ShapeError();break;case 62:case 57:case 52:case 47:case 42:case 37:case 32:case 27:case 19:case 12:case 1:if(cy[cz]!=="0")C.ShapeError();break;case 63:case 58:case 53:case 48:case 43:case 38:case 33:case 28:case 20:case 13:case 2:if(cy[cz]!=="x")C.ShapeError();break;case 61:case 56:case 51:case 46:case 41:case 36:case 31:case 25:case 18:case 11:if(cy[cz]!==",")C.ShapeError();break;case 67:case 66:if(cy[cz]!=="{")C.ShapeError();break;default:cC=cy[cz];!("0"<=cC&&cC<="9"||"a"<=cC&&cC<="f")?C.ShapeError():void 0;break;}}return w.Substring(cy,3,8)+"-"+w.Substring(cy,14,4)+"-"+w.Substring(cy,21,4)+"-"+w.Substring(cy,29,2)+w.Substring(cy,34,2)+"-"+w.Substring(cy,39,2)+w.Substring(cy,44,2)+w.Substring(cy,49,2)+w.Substring(cy,54,2)+w.Substring(cy,59,2)+w.Substring(cy,64,2);}else return C.FormatError();};C.ShapeError=function(){throw new bZ.New$1("Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");};C.FormatError=function(){throw new bZ.New$1("Format String can be only \"D\", \"d\", \"N\", \"n\", \"P\", \"p\", \"B\", \"b\", \"X\" or \"x\".");};E=D.T=ci.Class({GetEnumerator:function(){return new bh.New(this,null,function(cn){var co;co=cn.s;return co.$==0?false:(cn.c=co.$0,cn.s=co.$1,true);},void 0);},GetEnumerator0:function(){return bg.Get(this);}},null,E);E.Empty=new E({$:0});F.Create=function(cn){return _7.New(false,cn,F.forceLazy);};F.forceLazy=function(){var cn;cn=this.v();this.c=true;this.v=cn;this.f=F.cachedLazy;return cn;};F.cachedLazy=function(){return this.v;};I=H.WcTabStripT=ci.Class({connectedCallback:function(){var cn,co,cp,cq;function cr(){var cs,ct,cu;ct=!co.hasAttribute("bottom");cu=D.ofSeq(Y.delay(function(){return Y.collect(function(cv){var cw;cw=co.childNodes[cv-1];return z.Equals(cw.nodeType,j.ELEMENT_NODE)?[[cw.hasAttribute("tabname")?cw.getAttribute("tabname"):(function(cx){return function(cy){return cx("Tab "+a.String(cy));};}(a.id))(cv),cw]]:[];},f.range(1,co.childNodes.length));}));while(cq.childNodes.length>0)cq.removeChild(cq.lastChild);cs=H.tabStrip(cn.selected,ct,true,cu,s.Element("slot",E.Empty,E.Empty));q.LoadLocalTemplates("");s.Run(cq,cs);}cn=this;!this.added?(co=this,cp=co.attachShadow({mode:"open"}),cq=self.document.createElement("div"),cp.appendChild(cq),cr(),co.addEventListener("DOMSubtreeModified",u.delayed(50,cr)),this.added=true):void 0;}},r,I);I.Constructor=function(){var cn,co;cn=(co=cl.construct(self.HTMLElement,[],this.__proto__.constructor),co);self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New.call(cn);return cn;};I.New=ci.Ctor(function(){r.New.call(this);this.added=false;this.selected=L.Create$1(1);(function(cn){return cn("WcTabStripT initializer");}(function(cn){cg.log(cn);}));},I);J=o.ListModel=ci.Class({TryFindByKey:function(cn){var co;co=this;return S.tryFind(function(cp){return z.Equals(co.key(cp),cn);},this["var"].Get());},Append:function(cn){var co,cp,cq,cr;co=this;cp=this["var"].Get();cq=this.key(cn);cr=S.tryFindIndex(function(cs){return z.Equals(co.key(cs),cq);},cp);cr!=null&&cr.$==1?this["var"].Set(this.storage.SSetAt(cr.$0,cn,cp)):this["var"].Set(this.storage.SAppend(cn,cp));this.ObsoleteKey(cq);},ObsoleteKey:function(cn){var co,cp;co=(cp=null,[this.it.TryGetValue(cn,{get:function(){return cp;},set:function(cq){cp=cq;}}),cp]);co[0]?(ba.Obsolete(co[1]),this.it.Remove(cn)):void 0;},MapLens:function(cn){var co;co=this;return N.MapSeqCachedViewBy(co.key,function(cp,cq){return cn(cp,co["LensInto'"](a.id,function(cr,cs){return cs;},cp,cq));},this["var"].get_View());},"LensInto'":function(cn,co,cp,cq){var cr,cs,ct;cr=this;cs=bw.Id();ct=new M({Get:function(){return cn(cr.FindByKey(cp));},Set:function(cu){return cr.UpdateBy(function(cv){return{$:1,$0:co(cv,cu)};},cp);},SetFinal:function(cu){return this.Set(cu);},Update:function(cu){return cr.UpdateBy(function(cv){return{$:1,$0:co(cv,cu(cn(cv)))};},cp);},UpdateMaybe:function(cu){return cr.UpdateBy(function(cv){var cw;cw=cu(cn(cv));return cw==null?null:{$:1,$0:co(cv,cw.$0)};},cp);},get_View:function(){return cq;},get_Id:function(){return cs;}});M.New.call(ct);return ct;},FindByKey:function(cn){var co;co=this;return S.find(function(cp){return z.Equals(co.key(cp),cn);},this["var"].Get());},UpdateBy:function(cn,co){var cp,cq,cr,cs,ct;cp=this;cq=this["var"].Get();cr=S.tryFindIndex(function(cu){return z.Equals(cp.key(cu),co);},cq);cr!=null&&cr.$==1?(cs=cr.$0,ct=cn(S.get(cq,cs)),ct!=null&&ct.$==1?(this["var"].Set(this.storage.SSetAt(cs,ct.$0,cq)),this.ObsoleteKey(co)):void 0):void 0;},GetEnumerator:function(){return bg.Get(this["var"].Get());},GetEnumerator0:function(){return bg.Get0(this["var"].Get());}},r,J);J.New$1=ci.Ctor(function(cn){J.New$2.call(this,cn,[]);},J);J.New$2=ci.Ctor(function(cn,co){var cp;cp=S.ofSeq(co);J.New$3.call(this,cn,L.Create$1(cp),bv.InMemory(cp));},J);J.New$3=ci.Ctor(function(cn,co,cp){r.New.call(this);this.key=cn;this["var"]=co;this.storage=cp;this.v=N.Map(function(cq){return cq.slice();},this["var"].get_View());this.it=new _3.New$5();},J);K.New=function(cn,co,cp,cq,cr,cs){return{plgName:cn,plgVars:co,plgViews:cp,plgDocs:cq,plgActions:cr,plgQueries:cs};};L=o.Var$1=ci.Class({},r,L);L.Create$1=function(cn){return new $.New(false,ba.New({$:2,$0:cn,$1:[]}),cn);};L.Set=function(cn,co){cn.Set(co);};M=o.Var=ci.Class({},r,M);M.New=ci.Ctor(function(){r.New.call(this);},M);N.Map2=function(cn,co,cp){return N.CreateLazy(function(){return ba.Map2(cn,co(),cp());});};N.Map=function(cn,co){return N.CreateLazy(function(){return ba.Map(cn,co());});};N.Const=function(cn){var co;co=ba.New({$:0,$0:cn});return function(){return co;};};N.CreateLazy=function(cn){var co;co={c:null,o:cn};return function(){var cp,cq;cp=co.c;return cp===null?(cp=co.o(),co.c=cp,(cq=cp.s,cq!=null&&cq.$==0)?co.o=null:ba.WhenObsoleteRun(cp,function(){co.c=null;}),cp):cp;};};N.Get=function(cn,co){var cp;function cq(){ba.WhenRun(co(),function(cr){if(!cp[0]){cp[0]=true;cn(cr);}},function(){if(!cp[0])cq();});}cp=[false];cq();};N.Sink=function(cn,co){function cp(){ba.WhenRun(co(),cn,function(){bS.scheduler().Fork(cp);});}bS.scheduler().Fork(cp);};N.TryGet=function(cn){return ba.TryGet(cn());};N.MapSeqCachedBy=function(cn,co,cp){var cq;cq=[new _3.New$5()];return N.Map(function(cr){var cs,ct,cu;cs=cq[0];ct=new _3.New$5();cu=bE.mapInPlace(function(cv){var cw,cx;cw=cn(cv);cx=cs.ContainsKey(cw)?cs.get_Item(cw):co(cv);ct.set_Item(cw,cx);return cx;},S.ofSeq(cr));cq[0]=ct;return cu;},cp);};N.Bind=function(cn,co){return N.Join(N.Map(cn,co));};N.Map2Unit=function(cn,co){return N.CreateLazy(function(){return ba.Map2Unit(cn(),co());});};N.Join=function(cn){return N.CreateLazy(function(){return ba.Join(cn());});};N.MapSeqCachedViewBy=function(cn,co,cp){var cq;cq=[new _3.New$5()];return N.Map(function(cr){var cs,ct,cu;cs=cq[0];ct=new _3.New$5();cu=bE.mapInPlace(function(cv){var cw,cx,cy;cw=cn(cv);cx=cs.ContainsKey(cw)?(cy=cs.get_Item(cw),(L.Set(cy.r,cv),cy)):N.ConvertSeqNode(function(cz){return co(cw,cz);},cv);ct.set_Item(cw,cx);return cx.e;},S.ofSeq(cr));cq[0]=ct;return cu;},cp);};N.ConvertSeqNode=function(cn,co){var cp,cq;cp=L.Create$1(co);cq=cp.get_View();return{e:cn(cq),r:cp,w:cq};};N.Map3=function(cn,co,cp,cq){return N.CreateLazy(function(){return ba.Map3(cn,co(),cp(),cq());});};N.Sequence=function(cn){return N.CreateLazy(function(){return ba.Sequence(Y.map(function(co){return co();},cn));});};R=Q.TemplateInstance=ci.Class({get_Doc:function(){return this.doc;}},r,R);R.New=ci.Ctor(function(cn,co){r.New.call(this);this.doc=co;this.allVars=cn.$==0?cn.$0:f.FailWith("Should not happen");},R);S.length=function(cn){return cn.dims===2?cn.length*cn.length:cn.length;};S.get=function(cn,co){S.checkBounds(cn,co);return cn[co];};S.checkBounds=function(cn,co){if(co<0||co>=cn.length)f.FailWith("Index was outside the bounds of the array.");};S.set=function(cn,co,cp){S.checkBounds(cn,co);cn[co]=cp;};T=Q.ProviderBuilder=ci.Class({WithHole:function(cn){this.h.push(cn);return this;}},null,T);T.Make=function(){var cn;return T.New(null,(cn=C.NewGuid(),a.String(cn)),[]);};T.New=function(cn,co,cp){return new T({i:cn,k:co,h:cp});};U.CompleteHoles=function(cn,co,cp){var cr,cs,ct,cu,cv,cw;function cq(cx,cy){var cz,cA,cB,cC;return cs.Contains(cx)?null:(cz=cy===0?(cA=L.Create$1(""),[{$:8,$0:cx,$1:cA},cA]):cy===1?(cB=L.Create$1(0),[{$:13,$0:cx,$1:cB},cB]):cy===2?(cC=L.Create$1(false),[{$:9,$0:cx,$1:cC},cC]):f.FailWith("Invalid value type"),(cr.set_Item(cx,cz[1]),{$:1,$0:cz[0]}));}cr=new _3.New$5();cs=new be.New$3();ct=bg.Get(co);try{while(ct.MoveNext()){cu=ct.Current();(cu.$==8?(cv=[cu.$0,bf.Box(cu.$1)],true):cu.$==11?(cv=[cu.$0,bf.Box(cu.$1)],true):cu.$==10?(cv=[cu.$0,bf.Box(cu.$1)],true):cu.$==13?(cv=[cu.$0,bf.Box(cu.$1)],true):cu.$==12?(cv=[cu.$0,bf.Box(cu.$1)],true):cu.$==9&&(cv=[cu.$0,bf.Box(cu.$1)],true))?(cw=cv[0],cs.Add(cw),cr.set_Item(cw,cv[1])):void 0;}}finally{if(typeof ct=="object"&&"Dispose"in ct)ct.Dispose();}return[Y.append(co,S.choose(function(cx){return cq(cx[0],cx[1]);},cp)),{$:0,$0:cr}];};U.EventQ2=function(cn,co,cp,cq){return{$:5,$0:co,$1:true,$2:function(cr){return function(cs){return cq({Vars:cp(),Target:cr,Event:cs});};}};};V.appfwkclient=function(cn){var co;co={$:1,$0:"appfwkclient"};V.fixedsplitterhor();V.fixedsplitterver();return cn?q.GetOrLoadTemplate("appframework",co,function(){return cj.parseHTML("<div>\r\n        <ws-fixedsplitterhor>\r\n            <partsizes>55px calc(100% - 55px)</partsizes>\r\n            <first>\r\n                <span style=\"display: grid;\r\n                      grid-template-columns: 30% 20% 20% 10%;\r\n                      grid-gap: 25px;\r\n                    \">\r\n                    <div class=\"mainTitle\">AppFramework</div>\r\n                </span>\r\n            </first>\r\n            <second>\r\n                    <ws-fixedsplitterver>\r\n                        <partsizes>calc(100% - 150px) 150px</partsizes>\r\n                        <first>\r\n                            <wcomp-splitter vertical=\"\" value=\"18\" max=\"100\">\r\n                                <div><div ws-hole=\"PlugIns\" style=\"overflow:auto\">\r\n                                    \r\n                                </div></div>\r\n                                <wcomp-splitter vertical=\"\" value=\"100\" min=\"30\" max=\"100\">\r\n                                    <ws-fixedsplitterhor>\r\n                                        <partsizes>32px calc(100% - 32px)</partsizes>\r\n                                        <first>\r\n                                            <div>\r\n                                                <div class=\"input-group\">\r\n                                                    <span class=\"input-group-addon\">name:</span>\r\n                                                    <span class=\"input-group-addon\">${PlugInName}</span>\r\n                                                </div>\r\n                                            </div>\r\n                                        </first>\r\n                                        <second>\r\n                                            <div style=\"overflow:auto\">\r\n                                                <div>\r\n                                                    <div>Docs:</div>\r\n                                                    <div ws-hole=\"Docs\" style=\"overflow:auto\"></div>\r\n                                                </div>\r\n                                                <div>\r\n                                                    <div>Vars:</div>\r\n                                                    <div ws-hole=\"Vars\" style=\"overflow:auto\">\r\n                                                            \r\n                                                    </div>\r\n                                                </div>\r\n                                                <div>\r\n                                                    <div>Views:</div>\r\n                                                    <div ws-hole=\"Views\" style=\"overflow:auto\">\r\n                                                        \r\n                                                    </div>\r\n                                                </div>\r\n                                                <div>\r\n                                                    <div>Queries:</div>\r\n                                                    <div ws-hole=\"Queries\" style=\"overflow:auto\"></div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </second>\r\n                                    </ws-fixedsplitterhor>\r\n                                    <wcomp-tabstrip>\r\n                                        <div tabname=\"Properties\">\r\n                                            <div>\r\n                                                <table style=\"border-spacing:0px\">\r\n                                                    <thead>\r\n                                                        <th style=\"width: 30%  \">Name</th>\r\n                                                        <th style=\"width: 70% \">Value</th>\r\n                                                    </thead>\r\n                                                    <tbody ws-hole=\"Properties\"></tbody>\r\n                                                </table>\r\n                                                <button ws-onclick=\"AddProperty\" class=\"add is-small\">add ...</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </wcomp-tabstrip>\r\n                                </wcomp-splitter>\r\n                            </wcomp-splitter>\r\n                        </first>\r\n                        <second>\r\n                            <div style=\"\r\n                                overflow: hidden;\r\n                                display: grid;\r\n                                grid-template-columns: 100%;\r\n                                grid-template-rows: repeat(15, calc(100% / 15));\r\n                                bxackground-color: #eee;\r\n                                box-sizing: border-box;\r\n                                padding : 5px;\r\n                                grid-gap: 5px;\r\n                                margin-right: 21px;\r\n                           \" class=\"absolute\" ws-hole=\"Actions\">\r\n                                \r\n                                \r\n                            </div>\r\n                        </second>\r\n                    </ws-fixedsplitterver>\r\n            </second>\r\n        </ws-fixedsplitterhor>\r\n    </div>");},cn):q.PrepareTemplate("appframework",co,function(){return cj.parseHTML("<div>\r\n        <ws-fixedsplitterhor>\r\n            <partsizes>55px calc(100% - 55px)</partsizes>\r\n            <first>\r\n                <span style=\"display: grid;\r\n                      grid-template-columns: 30% 20% 20% 10%;\r\n                      grid-gap: 25px;\r\n                    \">\r\n                    <div class=\"mainTitle\">AppFramework</div>\r\n                </span>\r\n            </first>\r\n            <second>\r\n                    <ws-fixedsplitterver>\r\n                        <partsizes>calc(100% - 150px) 150px</partsizes>\r\n                        <first>\r\n                            <wcomp-splitter vertical=\"\" value=\"18\" max=\"100\">\r\n                                <div><div ws-hole=\"PlugIns\" style=\"overflow:auto\">\r\n                                    \r\n                                </div></div>\r\n                                <wcomp-splitter vertical=\"\" value=\"100\" min=\"30\" max=\"100\">\r\n                                    <ws-fixedsplitterhor>\r\n                                        <partsizes>32px calc(100% - 32px)</partsizes>\r\n                                        <first>\r\n                                            <div>\r\n                                                <div class=\"input-group\">\r\n                                                    <span class=\"input-group-addon\">name:</span>\r\n                                                    <span class=\"input-group-addon\">${PlugInName}</span>\r\n                                                </div>\r\n                                            </div>\r\n                                        </first>\r\n                                        <second>\r\n                                            <div style=\"overflow:auto\">\r\n                                                <div>\r\n                                                    <div>Docs:</div>\r\n                                                    <div ws-hole=\"Docs\" style=\"overflow:auto\"></div>\r\n                                                </div>\r\n                                                <div>\r\n                                                    <div>Vars:</div>\r\n                                                    <div ws-hole=\"Vars\" style=\"overflow:auto\">\r\n                                                            \r\n                                                    </div>\r\n                                                </div>\r\n                                                <div>\r\n                                                    <div>Views:</div>\r\n                                                    <div ws-hole=\"Views\" style=\"overflow:auto\">\r\n                                                        \r\n                                                    </div>\r\n                                                </div>\r\n                                                <div>\r\n                                                    <div>Queries:</div>\r\n                                                    <div ws-hole=\"Queries\" style=\"overflow:auto\"></div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </second>\r\n                                    </ws-fixedsplitterhor>\r\n                                    <wcomp-tabstrip>\r\n                                        <div tabname=\"Properties\">\r\n                                            <div>\r\n                                                <table style=\"border-spacing:0px\">\r\n                                                    <thead>\r\n                                                        <th style=\"width: 30%  \">Name</th>\r\n                                                        <th style=\"width: 70% \">Value</th>\r\n                                                    </thead>\r\n                                                    <tbody ws-hole=\"Properties\"></tbody>\r\n                                                </table>\r\n                                                <button ws-onclick=\"AddProperty\" class=\"add is-small\">add ...</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </wcomp-tabstrip>\r\n                                </wcomp-splitter>\r\n                            </wcomp-splitter>\r\n                        </first>\r\n                        <second>\r\n                            <div style=\"\r\n                                overflow: hidden;\r\n                                display: grid;\r\n                                grid-template-columns: 100%;\r\n                                grid-template-rows: repeat(15, calc(100% / 15));\r\n                                bxackground-color: #eee;\r\n                                box-sizing: border-box;\r\n                                padding : 5px;\r\n                                grid-gap: 5px;\r\n                                margin-right: 21px;\r\n                           \" class=\"absolute\" ws-hole=\"Actions\">\r\n                                \r\n                                \r\n                            </div>\r\n                        </second>\r\n                    </ws-fixedsplitterver>\r\n            </second>\r\n        </ws-fixedsplitterhor>\r\n    </div>");});};V.tile=function(cn){return cn?q.GetOrLoadTemplate("appframework",{$:1,$0:"tile"},function(){return cj.parseHTML("<div>\r\n                                        <div draggable=\"true\" class=\"code-editor-list-tile ${Predecessor} ${Selected}\" ws-ondrag=\"Drag\" ws-ondragover=\"DragOver\" ws-ondrop=\"Drop\">\r\n                                       <span class=\"node ${Parent} ${ErrorMsg}\" title=\"expand\" ws-onclick=\"ToggleCollapse\"></span>\r\n                                       <div class=\"code-editor-list-text\" style=\"text-indent:${Indent}em; white-space: pre\" ws-onclick=\"Select\" ws-onafterrender=\"AfterRender\">${Name}</div>\r\n                                       <span class=\"predecessor\" title=\"toggle predecessor\" ws-onclick=\"TogglePred\">X</span>\r\n                                   </div>\r\n                           \r\n                                    </div>");},cn):q.PrepareTemplate("appframework",{$:1,$0:"tile"},function(){return cj.parseHTML("<div>\r\n                                        <div draggable=\"true\" class=\"code-editor-list-tile ${Predecessor} ${Selected}\" ws-ondrag=\"Drag\" ws-ondragover=\"DragOver\" ws-ondrop=\"Drop\">\r\n                                       <span class=\"node ${Parent} ${ErrorMsg}\" title=\"expand\" ws-onclick=\"ToggleCollapse\"></span>\r\n                                       <div class=\"code-editor-list-text\" style=\"text-indent:${Indent}em; white-space: pre\" ws-onclick=\"Select\" ws-onafterrender=\"AfterRender\">${Name}</div>\r\n                                       <span class=\"predecessor\" title=\"toggle predecessor\" ws-onclick=\"TogglePred\">X</span>\r\n                                   </div>\r\n                           \r\n                                    </div>");});};V.namevalueinput=function(cn){return cn?q.GetOrLoadTemplate("appframework",{$:1,$0:"namevalueinput"},function(){return cj.parseHTML("<div class=\"input-group\">\r\n                                                            <span class=\"input-group-addon\">${Name}:</span>\r\n                                                            <textarea class=\"form-control\" id=\"\" placeholder=\"Value...\" ws-var=\"Value\" spellcheck=\"false\">\r\n                                                        </textarea></div>");},cn):q.PrepareTemplate("appframework",{$:1,$0:"namevalueinput"},function(){return cj.parseHTML("<div class=\"input-group\">\r\n                                                            <span class=\"input-group-addon\">${Name}:</span>\r\n                                                            <textarea class=\"form-control\" id=\"\" placeholder=\"Value...\" ws-var=\"Value\" spellcheck=\"false\">\r\n                                                        </textarea></div>");});};V.namevalue=function(cn){return cn?q.GetOrLoadTemplate("appframework",{$:1,$0:"namevalue"},function(){return cj.parseHTML("<div class=\"input-group\">\r\n                                                            <span class=\"input-group-addon\">${Name}:</span>\r\n                                                            <span class=\"input-group-addon\">${Value}</span>\r\n                                                        </div>");},cn):q.PrepareTemplate("appframework",{$:1,$0:"namevalue"},function(){return cj.parseHTML("<div class=\"input-group\">\r\n                                                            <span class=\"input-group-addon\">${Name}:</span>\r\n                                                            <span class=\"input-group-addon\">${Value}</span>\r\n                                                        </div>");});};V.action=function(cn){return cn?q.GetOrLoadTemplate("appframework",{$:1,$0:"action"},function(){return cj.parseHTML("<button ws-onclick=\"Click\" class=\"btn\" type=\"button\" id=\"\">${Name}</button>");},cn):q.PrepareTemplate("appframework",{$:1,$0:"action"},function(){return cj.parseHTML("<button ws-onclick=\"Click\" class=\"btn\" type=\"button\" id=\"\">${Name}</button>");});};V.actiondisabled=function(cn){return cn?q.GetOrLoadTemplate("appframework",{$:1,$0:"actiondisabled"},function(){return cj.parseHTML("<button ws-onclick=\"Click\" class=\"btn\" type=\"button\" id=\"\" disabled=\"\">${Name}</button>");},cn):q.PrepareTemplate("appframework",{$:1,$0:"actiondisabled"},function(){return cj.parseHTML("<button ws-onclick=\"Click\" class=\"btn\" type=\"button\" id=\"\" disabled=\"\">${Name}</button>");});};V.fixedsplitterhor=function(cn){return cn?q.GetOrLoadTemplate("appframework",{$:1,$0:"fixedsplitterhor"},function(){return cj.parseHTML("<div style=\"display: grid; \r\n          grid-gap: 0px; \r\n          box-sizing: border-box; \r\n          height: 100%;\r\n          width : 100%;\r\n          grid-template-areas: 'one' 'two'; \r\n          grid-template-columns:100%; \r\n          overflow: hidden; \r\n          grid-template-rows   : ${PartSizes}\">\r\n  <div ws-hole=\"First\" style=\"grid-area: one; \" class=\"relative\"></div>\r\n  <div ws-hole=\"Second\" style=\"grid-area: two; \" class=\"relative\"></div>\r\n    </div>");},cn):q.PrepareTemplate("appframework",{$:1,$0:"fixedsplitterhor"},function(){return cj.parseHTML("<div style=\"display: grid; \r\n          grid-gap: 0px; \r\n          box-sizing: border-box; \r\n          height: 100%;\r\n          width : 100%;\r\n          grid-template-areas: 'one' 'two'; \r\n          grid-template-columns:100%; \r\n          overflow: hidden; \r\n          grid-template-rows   : ${PartSizes}\">\r\n  <div ws-hole=\"First\" style=\"grid-area: one; \" class=\"relative\"></div>\r\n  <div ws-hole=\"Second\" style=\"grid-area: two; \" class=\"relative\"></div>\r\n    </div>");});};V.fixedsplitterver=function(cn){return cn?q.GetOrLoadTemplate("appframework",{$:1,$0:"fixedsplitterver"},function(){return cj.parseHTML("<div style=\"display: grid; \r\n               grid-gap: 0px; \r\n               box-sizing: border-box; \r\n               height: 100%;\r\n               width : 100%;\r\n               grid-template-areas: 'one two'; \r\n               grid-template-rows   :100%; \r\n               overflow: hidden; \r\n               grid-template-columns: ${PartSizes}\">\r\n       <div ws-hole=\"First\" style=\"grid-area: one; \" class=\"relative\"></div>\r\n       <div ws-hole=\"Second\" style=\"grid-area: two; \" class=\"relative\"></div>\r\n    </div>");},cn):q.PrepareTemplate("appframework",{$:1,$0:"fixedsplitterver"},function(){return cj.parseHTML("<div style=\"display: grid; \r\n               grid-gap: 0px; \r\n               box-sizing: border-box; \r\n               height: 100%;\r\n               width : 100%;\r\n               grid-template-areas: 'one two'; \r\n               grid-template-rows   :100%; \r\n               overflow: hidden; \r\n               grid-template-columns: ${PartSizes}\">\r\n       <div ws-hole=\"First\" style=\"grid-area: one; \" class=\"relative\"></div>\r\n       <div ws-hole=\"Second\" style=\"grid-area: two; \" class=\"relative\"></div>\r\n    </div>");});};V.wcompsplitterhor=function(cn){return cn?q.GetOrLoadTemplate("appframework",{$:1,$0:"wcompsplitterhor"},function(){return cj.parseHTML("<div ws-onafterrender=\"AfterRender\" style=\"display: grid;\r\n                grid-gap: 5px; \r\n                box-sizing: border-box; \r\n                grid-template-areas: 'one' 'two'; \r\n                grid-template-columns:100%; \r\n                overflow: hidden; \r\n                grid-template-rows   : ${PartSizes}\">\r\n         <slot></slot>\r\n        <slot name=\"splitter\">  <div style=\"grid-row:2; grid-column:1 / 1 ; cursor: row-resize; z-index: 3; background-color: #eef ; height: ${Gap}; margin-top :-${Gap}\" ws-onmousedown=\"MouseDown\" ws-onafterrender=\"AfterRenderSp\"></div> </slot>\r\n        <style>\r\n            ::slotted(*) {\r\n                display: grid;\r\n                height : 100%;\r\n                width  : 100%;\r\n                overflow: hidden;\r\n            }\r\n            ::slotted(*:nth-child(2)) {\r\n                grid-area: two;\r\n            }\r\n            ::slotted(*[slot=\"splitter\"]) {\r\n                grid-row:2; grid-column:1 / 1 ; \r\n                cursor: row-resize; \r\n                z-index: 3; \r\n                background-color: #eef ; \r\n                height: ${Gap}; \r\n                margin-top :-${Gap}\r\n            }\r\n        </style>\r\n    </div>");},cn):q.PrepareTemplate("appframework",{$:1,$0:"wcompsplitterhor"},function(){return cj.parseHTML("<div ws-onafterrender=\"AfterRender\" style=\"display: grid;\r\n                grid-gap: 5px; \r\n                box-sizing: border-box; \r\n                grid-template-areas: 'one' 'two'; \r\n                grid-template-columns:100%; \r\n                overflow: hidden; \r\n                grid-template-rows   : ${PartSizes}\">\r\n         <slot></slot>\r\n        <slot name=\"splitter\">  <div style=\"grid-row:2; grid-column:1 / 1 ; cursor: row-resize; z-index: 3; background-color: #eef ; height: ${Gap}; margin-top :-${Gap}\" ws-onmousedown=\"MouseDown\" ws-onafterrender=\"AfterRenderSp\"></div> </slot>\r\n        <style>\r\n            ::slotted(*) {\r\n                display: grid;\r\n                height : 100%;\r\n                width  : 100%;\r\n                overflow: hidden;\r\n            }\r\n            ::slotted(*:nth-child(2)) {\r\n                grid-area: two;\r\n            }\r\n            ::slotted(*[slot=\"splitter\"]) {\r\n                grid-row:2; grid-column:1 / 1 ; \r\n                cursor: row-resize; \r\n                z-index: 3; \r\n                background-color: #eef ; \r\n                height: ${Gap}; \r\n                margin-top :-${Gap}\r\n            }\r\n        </style>\r\n    </div>");});};V.wcompsplitterver=function(cn){return cn?q.GetOrLoadTemplate("appframework",{$:1,$0:"wcompsplitterver"},function(){return cj.parseHTML("<div ws-onafterrender=\"AfterRender\" style=\"display: grid; \r\n                grid-gap: 5px; \r\n                box-sizing: border-box; \r\n                grid-template-areas: 'one two'; \r\n                grid-template-rows   :100%; \r\n                overflow: hidden; \r\n                grid-template-columns: ${PartSizes}\">\r\n        <slot></slot>\r\n        <slot name=\"splitter\"> <div style=\"grid-column:2; grid-row:1 / 1 ; cursor: col-resize; z-index: 3; background-color: #eef ; width: ${Gap}; margin-left :-${Gap}\" ws-onmousedown=\"MouseDown\" ws-onafterrender=\"AfterRenderSp\"></div> </slot>\r\n        <style>\r\n            ::slotted(*) {\r\n                display: grid;\r\n                height : 100%;\r\n                width  : 100%;\r\n                overflow: hidden;\r\n            }\r\n            ::slotted(*:nth-child(2)) {\r\n                grid-area: two;\r\n            }\r\n            ::slotted(*[slot=\"splitter\"]) {\r\n                grid-column:2; grid-row:1 / 1\r\n                cursor: column-resize; \r\n                z-index: 3; \r\n                background-color: #eef ; \r\n                width: ${Gap}; \r\n                margin-left:-${Gap}\r\n            }\r\n        </style>\r\n    </div>");},cn):q.PrepareTemplate("appframework",{$:1,$0:"wcompsplitterver"},function(){return cj.parseHTML("<div ws-onafterrender=\"AfterRender\" style=\"display: grid; \r\n                grid-gap: 5px; \r\n                box-sizing: border-box; \r\n                grid-template-areas: 'one two'; \r\n                grid-template-rows   :100%; \r\n                overflow: hidden; \r\n                grid-template-columns: ${PartSizes}\">\r\n        <slot></slot>\r\n        <slot name=\"splitter\"> <div style=\"grid-column:2; grid-row:1 / 1 ; cursor: col-resize; z-index: 3; background-color: #eef ; width: ${Gap}; margin-left :-${Gap}\" ws-onmousedown=\"MouseDown\" ws-onafterrender=\"AfterRenderSp\"></div> </slot>\r\n        <style>\r\n            ::slotted(*) {\r\n                display: grid;\r\n                height : 100%;\r\n                width  : 100%;\r\n                overflow: hidden;\r\n            }\r\n            ::slotted(*:nth-child(2)) {\r\n                grid-area: two;\r\n            }\r\n            ::slotted(*[slot=\"splitter\"]) {\r\n                grid-column:2; grid-row:1 / 1\r\n                cursor: column-resize; \r\n                z-index: 3; \r\n                background-color: #eef ; \r\n                width: ${Gap}; \r\n                margin-left:-${Gap}\r\n            }\r\n        </style>\r\n    </div>");});};V.appframework=function(cn){return cn?q.GetOrLoadTemplate("appframework",{$:1,$0:"appframework"},function(){return cj.parseHTML("<div style=\"height: calc(100vh - 4px); width: calc(100vw - 4px) \" class=\"relative\">\r\n        <wcomp-splitter value=\"0\" min=\"0\" max=\"100\">\r\n            <div><button ws-onclick=\"GoClient\">${MainDoc}</button></div>\r\n            <div ws-hole=\"MainClient\"></div>\r\n        </wcomp-splitter>\r\n        <style style=\"display: none\">\r\n            .Hidden     { display   : none         }\r\n            table th,table td { padding:0 5px 0 5px; text-overflow: ellipsis }\r\n            td input.form-control { \r\n                padding    : 0px; \r\n                font-family: monospace;\r\n                font-size  :   small;\r\n                margin-top :   0px;\r\n                margin-left: -2px;\r\n                width      : 100%\r\n            }\r\n            td select {\r\n                font-size : smaller;\r\n                max-width : 8ch;\r\n            }\r\n            xtextarea {\r\n               resize : none;\r\n            }\r\n            .tab-content {\r\n                overflow: hidden\r\n            }\r\n            .tab-children {\r\n                position:relative;\r\n            }\r\n            .tab-children>div>* {\r\n                position:absolute;\r\n                height: 100%;\r\n                width:  100%;\r\n                display: grid;\r\n            }\r\n            .relative {\r\n                position:relative;\r\n            }\r\n            .relative>* {\r\n                position:absolute;\r\n                height: 100%;\r\n                width:  100%;\r\n                display: grid;\r\n            }\r\n            table.table-striped    tbody tr:nth-child(even) { background: #EEE  }\r\n            table.table-striped    tbody tr:nth-child(odd ) { background: #FFF  }\r\n            table.table-striped    tbody input              { background: transparent; border: none}\r\n            table.table-striped    tbody select             { background: transparent; border: none}\r\n            table.table-nonstriped tbody tr:nth-child(even) { background: inherit }\r\n            table.table-nonstriped tbody tr:nth-child(odd ) { background: inherit }\r\n            table.table            tbody tr.hover           { border    : solid thin transparent; } \r\n            table.table            tbody tr.hover:hover     { border    : solid thin blue     ; } \r\n            table.table            tbody th:hover           { background: gray; cursor: pointer }\r\n            table.table            tbody tr.hover:hover>td  { border-top: solid thin blue     ; \r\n                                                       border-bottom: solid thin blue     ; } \r\n            table.table            tbody tr.selected { background   : #b9eeff             ; }\r\n            table.table            tbody tr.formula.selected { background: #20f7f7             ; }\r\n            thead { color: gray }\r\n            h3 { \r\n                color: gray;\r\n                line-height: 1em;\r\n            }\r\n            button       { border: solid thin transparent ; border-radius: 3px; }\r\n            button:hover { border: solid thin blue }\r\n            .indenter { position  : absolute; \r\n                        top:0px; bottom:0px; left:0px; \r\n                        background: white; color:white;\r\n                        border-right: gray thin dotted;\r\n                        }\r\n            body {\r\n                color      : #333;\r\n                font-size  : small;\r\n                font-family: monospace;\r\n                line-height: 1.2;\r\n            }\r\n            .mainTitle {  \r\n                font-size: 48px;\r\n                font-weight: 500;\r\n                color: gray;\r\n                margin-top: -12px;\r\n            }\r\n            .CodeMirror {\r\n                height: 100%;\r\n            }\r\n            \r\n          \r\n            body { margin: 0px }     \r\n                 \r\n            div textarea {\r\n                font-family     : monospace;\r\n            }\r\n            .code-editor-list-tile {\r\n                white-space     : nowrap; \r\n                border-style    : solid none none;\r\n                border-color    : white;\r\n                border-width    : 1px;\r\n                background-color: #D8D8D8;\r\n                display         : flex;\r\n            }\r\n            .code-editor-list-text{\r\n                padding         : 1px 10px 1px 5px;\r\n                overflow        : hidden;\r\n                text-overflow   : ellipsis;\r\n                white-space     : nowrap;\r\n                flex            : 1;\r\n            }\r\n            \r\n            .code-editor-list-tile span.node.ErrorMsg {\r\n                background-color: red\r\n            }\r\n            .code-editor-list-tile span.node.expanded::before {\r\n                content: \"-\"\r\n            }\r\n            .code-editor-list-tile span.node.collapsed::before {\r\n                content: \"+\"\r\n            }\r\n            .code-editor-list-tile.direct-predecessor {\r\n                font-weight     : bold;\r\n                color           : blue;\r\n            }\r\n            .code-editor-list-tile.indirect-predecessor {\r\n                color           : blue;\r\n            }\r\n            .code-editor-list-tile.included-predecessor {\r\n                color           : chocolate;\r\n            }\r\n            .code-editor-list-tile.selected {\r\n                background-color: #77F;\r\n                color           : white;\r\n            }\r\n            .code-editor-list-tile.codeSnippet {\r\n                text-decoration: underline\r\n            }\r\n            .code-editor-list-tile:hover {\r\n                background      : lightgray;\r\n            }\r\n            .code-editor-list-tile.selected:hover {\r\n                background      : blue;\r\n            }\r\n            .code-editor-list-tile>.predecessor {\r\n                font-weight     : bold;\r\n                border-style    : inset;\r\n                border-width    : 1px;\r\n                text-align      : center;\r\n                color           : transparent;\r\n            }\r\n            .code-editor-list-tile.direct-predecessor>.predecessor {\r\n                color           : blue;\r\n            }\r\n            \r\n            .CodeMirror { height: 100%; }\r\n            \r\n            .node {\r\n                background-color: white; \r\n                width           : 2ch; \r\n                color           : #A03; \r\n                font-weight     : bold; \r\n                text-align      : center;\r\n                font-family     : arial;\r\n            }\r\n            .Warning { text-decoration: underline lightblue } \r\n            .Error   { text-decoration: underline red       } \r\n            \r\n        </style>\r\n    </div>");},cn):q.PrepareTemplate("appframework",{$:1,$0:"appframework"},function(){return cj.parseHTML("<div style=\"height: calc(100vh - 4px); width: calc(100vw - 4px) \" class=\"relative\">\r\n        <wcomp-splitter value=\"0\" min=\"0\" max=\"100\">\r\n            <div><button ws-onclick=\"GoClient\">${MainDoc}</button></div>\r\n            <div ws-hole=\"MainClient\"></div>\r\n        </wcomp-splitter>\r\n        <style style=\"display: none\">\r\n            .Hidden     { display   : none         }\r\n            table th,table td { padding:0 5px 0 5px; text-overflow: ellipsis }\r\n            td input.form-control { \r\n                padding    : 0px; \r\n                font-family: monospace;\r\n                font-size  :   small;\r\n                margin-top :   0px;\r\n                margin-left: -2px;\r\n                width      : 100%\r\n            }\r\n            td select {\r\n                font-size : smaller;\r\n                max-width : 8ch;\r\n            }\r\n            xtextarea {\r\n               resize : none;\r\n            }\r\n            .tab-content {\r\n                overflow: hidden\r\n            }\r\n            .tab-children {\r\n                position:relative;\r\n            }\r\n            .tab-children>div>* {\r\n                position:absolute;\r\n                height: 100%;\r\n                width:  100%;\r\n                display: grid;\r\n            }\r\n            .relative {\r\n                position:relative;\r\n            }\r\n            .relative>* {\r\n                position:absolute;\r\n                height: 100%;\r\n                width:  100%;\r\n                display: grid;\r\n            }\r\n            table.table-striped    tbody tr:nth-child(even) { background: #EEE  }\r\n            table.table-striped    tbody tr:nth-child(odd ) { background: #FFF  }\r\n            table.table-striped    tbody input              { background: transparent; border: none}\r\n            table.table-striped    tbody select             { background: transparent; border: none}\r\n            table.table-nonstriped tbody tr:nth-child(even) { background: inherit }\r\n            table.table-nonstriped tbody tr:nth-child(odd ) { background: inherit }\r\n            table.table            tbody tr.hover           { border    : solid thin transparent; } \r\n            table.table            tbody tr.hover:hover     { border    : solid thin blue     ; } \r\n            table.table            tbody th:hover           { background: gray; cursor: pointer }\r\n            table.table            tbody tr.hover:hover>td  { border-top: solid thin blue     ; \r\n                                                       border-bottom: solid thin blue     ; } \r\n            table.table            tbody tr.selected { background   : #b9eeff             ; }\r\n            table.table            tbody tr.formula.selected { background: #20f7f7             ; }\r\n            thead { color: gray }\r\n            h3 { \r\n                color: gray;\r\n                line-height: 1em;\r\n            }\r\n            button       { border: solid thin transparent ; border-radius: 3px; }\r\n            button:hover { border: solid thin blue }\r\n            .indenter { position  : absolute; \r\n                        top:0px; bottom:0px; left:0px; \r\n                        background: white; color:white;\r\n                        border-right: gray thin dotted;\r\n                        }\r\n            body {\r\n                color      : #333;\r\n                font-size  : small;\r\n                font-family: monospace;\r\n                line-height: 1.2;\r\n            }\r\n            .mainTitle {  \r\n                font-size: 48px;\r\n                font-weight: 500;\r\n                color: gray;\r\n                margin-top: -12px;\r\n            }\r\n            .CodeMirror {\r\n                height: 100%;\r\n            }\r\n            \r\n          \r\n            body { margin: 0px }     \r\n                 \r\n            div textarea {\r\n                font-family     : monospace;\r\n            }\r\n            .code-editor-list-tile {\r\n                white-space     : nowrap; \r\n                border-style    : solid none none;\r\n                border-color    : white;\r\n                border-width    : 1px;\r\n                background-color: #D8D8D8;\r\n                display         : flex;\r\n            }\r\n            .code-editor-list-text{\r\n                padding         : 1px 10px 1px 5px;\r\n                overflow        : hidden;\r\n                text-overflow   : ellipsis;\r\n                white-space     : nowrap;\r\n                flex            : 1;\r\n            }\r\n            \r\n            .code-editor-list-tile span.node.ErrorMsg {\r\n                background-color: red\r\n            }\r\n            .code-editor-list-tile span.node.expanded::before {\r\n                content: \"-\"\r\n            }\r\n            .code-editor-list-tile span.node.collapsed::before {\r\n                content: \"+\"\r\n            }\r\n            .code-editor-list-tile.direct-predecessor {\r\n                font-weight     : bold;\r\n                color           : blue;\r\n            }\r\n            .code-editor-list-tile.indirect-predecessor {\r\n                color           : blue;\r\n            }\r\n            .code-editor-list-tile.included-predecessor {\r\n                color           : chocolate;\r\n            }\r\n            .code-editor-list-tile.selected {\r\n                background-color: #77F;\r\n                color           : white;\r\n            }\r\n            .code-editor-list-tile.codeSnippet {\r\n                text-decoration: underline\r\n            }\r\n            .code-editor-list-tile:hover {\r\n                background      : lightgray;\r\n            }\r\n            .code-editor-list-tile.selected:hover {\r\n                background      : blue;\r\n            }\r\n            .code-editor-list-tile>.predecessor {\r\n                font-weight     : bold;\r\n                border-style    : inset;\r\n                border-width    : 1px;\r\n                text-align      : center;\r\n                color           : transparent;\r\n            }\r\n            .code-editor-list-tile.direct-predecessor>.predecessor {\r\n                color           : blue;\r\n            }\r\n            \r\n            .CodeMirror { height: 100%; }\r\n            \r\n            .node {\r\n                background-color: white; \r\n                width           : 2ch; \r\n                color           : #A03; \r\n                font-weight     : bold; \r\n                text-align      : center;\r\n                font-family     : arial;\r\n            }\r\n            .Warning { text-decoration: underline lightblue } \r\n            .Error   { text-decoration: underline red       } \r\n            \r\n        </style>\r\n    </div>");});};W.p=function(cn){return"{"+("docName = "+bd.prettyPrint(cn.docName))+"; "+("docDoc = "+X.p(cn.docDoc))+"}";};X.p=function(cn){return cn.$==5?"FunDoc5 (<fun>, "+bd.prettyPrint(cn.$1)+", "+bd.prettyPrint(cn.$2)+", "+bd.prettyPrint(cn.$3)+", "+bd.prettyPrint(cn.$4)+", "+bd.prettyPrint(cn.$5)+")":cn.$==4?"FunDoc4 (<fun>, "+bd.prettyPrint(cn.$1)+", "+bd.prettyPrint(cn.$2)+", "+bd.prettyPrint(cn.$3)+", "+bd.prettyPrint(cn.$4)+")":cn.$==3?"FunDoc3 (<fun>, "+bd.prettyPrint(cn.$1)+", "+bd.prettyPrint(cn.$2)+", "+bd.prettyPrint(cn.$3)+")":cn.$==2?"FunDoc2 (<fun>, "+bd.prettyPrint(cn.$1)+", "+bd.prettyPrint(cn.$2)+")":cn.$==1?"FunDoc1 (<fun>, "+bd.prettyPrint(cn.$1)+")":"LazyDoc "+bd.prettyPrint(cn.$0);};Y.collect=function(cn,co){return Y.concat(Y.map(cn,co));};Y.map=function(cn,co){return{GetEnumerator:function(){var cp;cp=bg.Get(co);return new bh.New(null,null,function(cq){return cp.MoveNext()&&(cq.c=cn(cp.Current()),true);},function(){cp.Dispose();});}};};Y.tryFind=function(cn,co){var cp,cq,cr;cp=bg.Get(co);try{cq=null;while(cq==null&&cp.MoveNext()){cr=cp.Current();cn(cr)?cq={$:1,$0:cr}:void 0;}return cq;}finally{if(typeof cp=="object"&&"Dispose"in cp)cp.Dispose();}};Y.tryFindIndex=function(cn,co){var cp,cq,cr;cp=bg.Get(co);try{cq=true;cr=0;while(cq&&cp.MoveNext())if(cn(cp.Current()))cq=false;else cr=cr+1;return cq?null:{$:1,$0:cr};}finally{if(typeof cp=="object"&&"Dispose"in cp)cp.Dispose();}};Y.filter=function(cn,co){return{GetEnumerator:function(){var cp;cp=bg.Get(co);return new bh.New(null,null,function(cq){var cr,cs,ct;cr=cp.MoveNext();cs=cp.Current();ct=false;while(cr)if(cn(cs)){cq.c=cs;ct=true;cr=false;}else if(cp.MoveNext())cs=cp.Current();else cr=false;return ct;},function(){cp.Dispose();});}};};Y.delay=function(cn){return{GetEnumerator:function(){return bg.Get(cn());}};};Y.append=function(cn,co){return{GetEnumerator:function(){var cp,cq;cp=bg.Get(cn);cq=[true];return new bh.New(cp,null,function(cr){var cs;return cr.s.MoveNext()?(cr.c=cr.s.Current(),true):(cs=cr.s,!z.Equals(cs,null)?cs.Dispose():void 0,cr.s=null,cq[0]&&(cq[0]=false,cr.s=bg.Get(co),cr.s.MoveNext()?(cr.c=cr.s.Current(),true):(cr.s.Dispose(),cr.s=null,false)));},function(cr){var cs;cs=cr.s;!z.Equals(cs,null)?cs.Dispose():void 0;});}};};Y.concat=function(cn){return{GetEnumerator:function(){var co;co=bg.Get(cn);return new bh.New(null,null,function(cp){var cq;while(true){cq=cp.s;if(z.Equals(cq,null)){if(co.MoveNext()){cp.s=bg.Get(co.Current());cp=cp;}else{co.Dispose();return false;}}else if(cq.MoveNext()){cp.c=cq.Current();return true;}else{cp.Dispose();cp.s=null;cp=cp;}}},function(cp){var cq;cq=cp.s;!z.Equals(cq,null)?cq.Dispose():void 0;!z.Equals(co,null)?co.Dispose():void 0;});}};};Y.head=function(cn){var co;co=bg.Get(cn);try{return co.MoveNext()?co.Current():Y.insufficient();}finally{if(typeof co=="object"&&"Dispose"in co)co.Dispose();}};Y.indexed=function(cn){return Y.mapi(function(co,cp){return[co,cp];},cn);};Y.init=function(cn,co){return Y.take(cn,Y.initInfinite(co));};Y.tryPick=function(cn,co){var cp,cq;cp=bg.Get(co);try{cq=null;while(z.Equals(cq,null)&&cp.MoveNext())cq=cn(cp.Current());return cq;}finally{if(typeof cp=="object"&&"Dispose"in cp)cp.Dispose();}};Y.choose=function(cn,co){return Y.collect(function(cp){var cq;cq=cn(cp);return cq==null?E.Empty:D.ofArray([cq.$0]);},co);};Y.mapi=function(cn,co){return Y.map2(cn,Y.initInfinite(a.id),co);};Y.take=function(cn,co){cn<0?Y.nonNegative():void 0;return{GetEnumerator:function(){var cp;cp=[bg.Get(co)];return new bh.New(0,null,function(cq){var cr;cq.s=cq.s+1;return cq.s>cn?false:(cr=cp[0],z.Equals(cr,null)?Y.insufficient():cr.MoveNext()?(cq.c=cr.Current(),cq.s===cn?(cr.Dispose(),cp[0]=null):void 0,true):(cr.Dispose(),cp[0]=null,Y.insufficient()));},function(){var cq;cq=cp[0];!z.Equals(cq,null)?cq.Dispose():void 0;});}};};Y.initInfinite=function(cn){return{GetEnumerator:function(){return new bh.New(0,null,function(co){co.c=cn(co.s);co.s=co.s+1;return true;},void 0);}};};Y.fold=function(cn,co,cp){var cq,cr;cq=co;cr=bg.Get(cp);try{while(cr.MoveNext())cq=cn(cq,cr.Current());return cq;}finally{if(typeof cr=="object"&&"Dispose"in cr)cr.Dispose();}};Y.map2=function(cn,co,cp){return{GetEnumerator:function(){var cq,cr;cq=bg.Get(co);cr=bg.Get(cp);return new bh.New(null,null,function(cs){return cq.MoveNext()&&cr.MoveNext()&&(cs.c=cn(cq.Current(),cr.Current()),true);},function(){cq.Dispose();cr.Dispose();});}};};Y.iter=function(cn,co){var cp;cp=bg.Get(co);try{while(cp.MoveNext())cn(cp.Current());}finally{if(typeof cp=="object"&&"Dispose"in cp)cp.Dispose();}};Y.max=function(cn){var co,cp,cq;co=bg.Get(cn);try{if(!co.MoveNext())Y.seqEmpty();cp=co.Current();while(co.MoveNext()){cq=co.Current();z.Compare(cq,cp)===1?cp=cq:void 0;}return cp;}finally{if(typeof co=="object"&&"Dispose"in co)co.Dispose();}};Y.seqEmpty=function(){return f.FailWith("The input sequence was empty.");};Y.forall=function(cn,co){return!Y.exists(function(cp){return!cn(cp);},co);};Y.exists=function(cn,co){var cp,cq;cp=bg.Get(co);try{cq=false;while(!cq&&cp.MoveNext())cq=cn(cp.Current());return cq;}finally{if(typeof cp=="object"&&"Dispose"in cp)cp.Dispose();}};Z.New=function(cn,co){return{docName:cn,docDoc:co};};_0.init=function(cn,co){var cp,cq,cr;cp=new bi.New();_0.set_layoutHorizontal(cn);_0.set_layoutVertical(co);cq="wcomp-splitter";cr=self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New;cg.log("defineWebComponent: "+cq);bx.setPrototypeOf(cr.prototype,self.HTMLElement.prototype);bx.setPrototypeOf(cr,self.HTMLElement);bx.setPrototypeOf(bi.Constructor.prototype,cr.prototype);self.customElements.define(cq,bi.Constructor);};_0.set_layoutHorizontal=function(cn){n.$cctor();n.layoutHorizontal=cn;};_0.set_layoutVertical=function(cn){n.$cctor();n.layoutVertical=cn;};_0.layoutVertical=function(){n.$cctor();return n.layoutVertical;};_0.layoutHorizontal=function(){n.$cctor();return n.layoutHorizontal;};H.init=function(){n.$cctor();return n.init;};H.tabStrip=function(cn,co,cp,cq,cr){var cs;cs=s.Element("div",[bp.Create("class",(((ci.Curried3(function(ct,cu,cv){return ct("tab-strip "+bd.toSafe(cu)+" "+bd.toSafe(cv));}))(a.id))(co?"top":"bottom"))(cp?"horizontal":"vertical"))],D.ofSeq(Y.delay(function(){return Y.collect(function(ct){var cu;cu=ct[0];return[bt.New$1().Content(s.Element("div",[bD.Dynamic("class",N.Map(function(cv){return"tab"+(cv===cu+1?" selected":"");},cn.get_View())),bp.Create("draggable","true"),bp.HandlerImpl("click",function(){return function(){return cn.Set(cu+1);};})],[s.TextNode(ct[1][0])]))];},Y.indexed(cq));})));return s.Element("div",[bp.Create("class","tab-panel")],D.ofSeq(Y.delay(function(){return Y.append(co?[cs]:[],Y.delay(function(){return Y.append([s.Element("div",[bp.Create("class","tab-content")],[cr])],Y.delay(function(){return Y.append(!co?[cs]:[],Y.delay(function(){return Y.append([s.Element("style",E.Empty,D.ofArray([s.TextNode(H.css())]))],Y.delay(function(){return[s.Element("style",E.Empty,D.ofArray([s.TextView(N.Map(function(ct){return function(cu){return ct("\r\n                                              ::slotted(*              ) { display: none }\r\n                                              ::slotted(*:nth-child("+a.String(cu)+")) { display: grid }\r\n                                           ");};}(a.id),cn.get_View()))]))];}));}));}));}));})));};H.css=function(){n.$cctor();return n.css;};_1.createSplitter=function(cn,co,cp,cq){var cr;cr=_1.pairOfDocs(cn,cq);return cp.$==1?_1.variableSplitter(co,cp.$0,cp.$1,cp.$2,cr[0],cr[1]):_1.fixedSplitter(co,cp.$0,cp.$1,cr[0],cr[1]);};_1.createButton=function(cn,co,cp,cq){return _1.turnToView(function(){var cr,cs,ct,cu,cv;function cw(cx,cy){return h.callFunction(null,null,cx.actFunction);}cr=(cs=(ct=(cu=(_1.splitName(cn))(co),h.tryGetAct(cu[0],cu[1])),ct==null?null:{$:1,$0:(cv=ct.$0,function(cx){return cw(cv,cx);})}),cs==null?a.ignore:cs.$0);return s.Button(cq,_1.getAttrs(cn,cp),cr);});};_1.createInput=function(cn,co,cp){return _1.turnToView(function(){var cq,cr,cs,ct,cu;cq=(cr=(cs=(_1.splitName(cn))(co),h.tryGetVoV(cs[0],cs[1])),(ct=(cu=_1.getAttrs(cn,cp),function(cv){return s.Input(cu,cv);}),cr==null?null:{$:1,$0:ct(cr.$0)}));return cq==null?_1.errDoc((function(cv){return function(cw){return cv("Missing var: "+bd.toSafe(cw));};}(a.id))(co)):cq.$0;});};_1.createTextArea=function(cn,co,cp){return _1.turnToView(function(){var cq,cr,cs,ct,cu;cq=(cr=(cs=(_1.splitName(cn))(co),h.tryGetVoV(cs[0],cs[1])),(ct=(cu=_1.getAttrs(cn,cp),function(cv){return s.InputArea(cu,cv);}),cr==null?null:{$:1,$0:ct(cr.$0)}));return cq==null?_1.errDoc((function(cv){return function(cw){return cv("Missing var: "+bd.toSafe(cw));};}(a.id))(co)):cq.$0;});};_1.createElement=function(cn,co,cp,cq){var cr;cr=[_1.turnToView(function(){return s.Concat(_1.getDocs(cn,cq));})];return s.Element(co,_1.getAttrs(cn,cp),cr);};_1.createDoc=function(cn,co,cp){return _1.turnToView(function(){var cq,cr,cs;cq=(_1.splitName(cn))(co);cr=(cs=h.tryGetDoc(cq[0],cq[1]),cs==null?null:{$:1,$0:_1.getDocFinal(cp,cs.$0)});return cr==null?_1.errDoc((function(ct){return function(cu){return ct("Missing doc: "+bd.toSafe(cu));};}(a.id))(co)):cr.$0;});};_1.addNewLayout=function(cn,co){var cp,cq;_1.addLayout((cp=(cq=!z.Equals(co,null)?co:"\r\n            split horizontal 0-50-100 AppFramework.AppFwkClient Hello\r\n            Hello h1 \"color:blue; class=btn-primary\" \"How are you today?\" Ask\r\n            Ask Doc InputLabel \"placeholder=Type you answer here...\" \"Answer:\" AppFramework.mainDocV  \r\n            ",(v.unindentStr())(cq)),_1.newLyt(!z.Equals(co,null)?cn:"Lyt_"+w.Replace(a.String(C.NewGuid()),"-",""),cp)));};_1.pairOfDocs=function(cn,co){var cp;cp=N.Map(function(cq){var cr;return cq.$==1&&(cq.$1.$==1&&(cq.$1.$1.$==0&&(cr=[cq.$0,cq.$1.$0],true)))?[cr[0],cr[1]]:[_1.errDoc((function(cs){return function(ct){return cs("splitter expects exactly 2 elements "+bd.printList(bd.prettyPrint,ct));};}(a.id))(co)),_1.errDoc("part 2")];},N.Map(function(){return _1.getDocs(cn,co);},h.mainDocV().get_View()));return[s.EmbedView(N.Map(function(cq){return cq[0];},cp)),s.EmbedView(N.Map(function(cq){return cq[1];},cp))];};_1.variableSplitter=function(cn,co,cp,cq,cr,cs){return s.Element("wcomp-splitter",D.ofSeq(Y.delay(function(){return Y.append(cn?[bp.Create("vertical","")]:[],Y.delay(function(){return Y.append([bp.Create("min",a.String(co))],Y.delay(function(){return Y.append([bp.Create("value",a.String(cp))],Y.delay(function(){return[bp.Create("max",a.String(cq))];}));}));}));})),D.ofArray([cr,cs]));};_1.fixedSplitter=function(cn,co,cp,cq,cr){var cs,ct,cu,cv,cw,cx,cy;cs=(((cp?ci.Curried3(function(cz,cA,cB){return cz(cA.toFixed(6)+"px calc(100% - "+cB.toFixed(6)+"px)");}):ci.Curried3(function(cz,cA,cB){return cz("calc(100% - "+cA.toFixed(6)+"px) "+cB.toFixed(6)+"px");}))(a.id))(co))(co);return cn?(ct=T.Make().WithHole({$:1,$0:"partsizes",$1:cs}).WithHole({$:0,$0:"first",$1:cq}).WithHole({$:0,$0:"second",$1:cr}),(cu=U.CompleteHoles(ct.k,ct.h,[]),(cv=new R.New(cu[1],V.fixedsplitterver(cu[0])),(ct.i=cv,cv)))).get_Doc():(cw=T.Make().WithHole({$:1,$0:"partsizes",$1:cs}).WithHole({$:0,$0:"first",$1:cq}).WithHole({$:0,$0:"second",$1:cr}),(cx=U.CompleteHoles(cw.k,cw.h,[]),(cy=new R.New(cx[1],V.fixedsplitterhor(cx[0])),(cw.i=cy,cy)))).get_Doc();};_1.turnToView=function(cn){return s.EmbedView(N.Map(cn,h.mainDocV().get_View()));};_1.splitName=function(cn){function co(cq){return v.splitByChar(".",cq);}function cp(cq){return S.length(cq)===1?[cn,S.get(cq,0)]:[S.get(cq,0),S.get(cq,1)];}return function(cq){return cp(co(cq));};};_1.getAttrs=function(cn,co){return D.ofSeq(Y.delay(function(){return Y.append(Y.choose(function(cp){var cq,cr,cs,ct,cu,cv;return!z.Equals(cp,null)&&cp.length===2&&(cr=S.get(cp,1),w.Trim(S.get(cp,0))!==""&&w.Trim(cr)!=="")?(cs=S.get(cp,1),(ct=S.get(cp,0),{$:1,$0:(cu=_1.getTextData(cn,w.Trim(cs)),cu.$==1?bD.Dynamic(w.Trim(ct),cu.$0):cu.$==2?(cv=cu.$0,bD.Handler(w.Trim(ct),function(cw){return function(cx){return h.callFunction(cw,cx,cv.actFunction);};})):bp.Create(w.Trim(ct),w.Trim(cu.$0)))})):null;},Y.map(function(cp){return v.splitByChar("=",cp);},v.splitByChar(";",co))),Y.delay(function(){return Y.choose(function(cp){var cq,cr,cs,ct,cu;return!z.Equals(cp,null)&&cp.length===2&&(cr=S.get(cp,1),w.Trim(S.get(cp,0))!==""&&w.Trim(cr)!=="")?(cs=S.get(cp,1),(ct=S.get(cp,0),{$:1,$0:(cu=_1.getTextData(cn,w.Trim(cs)),cu.$==1?bD.DynamicStyle(w.Trim(ct),cu.$0):cu.$==2?bD.Style(w.Trim(ct),(function(cv){return function(cw){return cv("${"+bd.toSafe(cw)+"}");};}(a.id))(cu.$0.actName)):bD.Style(w.Trim(ct),w.Trim(cu.$0)))})):null;},Y.map(function(cp){return v.splitByChar(":",cp);},v.splitByChar(";",co)));}));}));};_1.errDoc=function(cn){return s.Element("div",[],[s.TextNode(cn)]);};_1.getDocs=function(cn,co){var cp;return co.$==0?E.Empty:(cp=_1.getOneDoc(cn,co),new E({$:1,$0:cp[0],$1:_1.getDocs(cn,cp[1])}));};_1.getDocFinal=function(cn,co){var cp;cp=_1.getDocF(cn,co);return cp[1].$==0?cp[0]:_1.errDoc((((ci.Curried3(function(cq,cr,cs){return cq("Too many parameters "+W.p(cr)+" "+bd.printList(bd.prettyPrint,cs));}))(a.id))(co))(cn));};_1.newLyt=function(cn,co){return bF.New(cn,L.Create$1(co));};_1.addLayout=function(cn){N.Sink(function(co){h.plugIns().Append(K.New(cn.lytName,[h.newVar("Layout",cn.lytDefinition)],[],S.ofSeq(Y.delay(function(){return Y.append(_1.createDocs(cn.lytName,co),Y.delay(function(){var cp;return Y.append([h.newDocF("InputFile",{$:4,$0:(cp=cn.lytName,ci.Curried(_1.inputFile,4,[cp])),$1:"attrs",$2:"Label",$3:"Action",$4:"[Doc]"})],Y.delay(function(){var cq;return Y.append([h.newDocF("InputLabel",{$:3,$0:(cq=cn.lytName,ci.Curried(_1.inputLabel,3,[cq])),$1:"attrs",$2:"Label",$3:"Var"})],Y.delay(function(){return[h.newDocF("none",{$:1,$0:_1.none,$1:"x"})];}));}));}));})),[],[]));h.mainDocV().Set(h.mainDocV().Get());},cn.lytDefinition.get_View());};_1.getTextData=function(cn,co){var cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB;cp=(cq=v.delimitedO("${","}",co),cq==null?null:{$:1,$0:(cr=cq.$0,(cs=cr[0],(ct=cr[1],(cu=cr[2],(cv=(_1.splitName(cn))(ct),(cw=cv[0],(cx=cv[1],(cy=(cz=h.tryGetWoW(cw,cx),cz==null?null:{$:1,$0:function(cC){var cD,cE;cE=_1.getTextData(cn,cu);switch(cs===""?cE.$==1?(cD=cE.$0,2):cE.$==2?(cD=cE.$0,3):cE.$0===""?0:(cD=cE.$0,1):cE.$==1?(cD=cE.$0,2):cE.$==2?(cD=cE.$0,3):(cD=cE.$0,1)){case 0:return{$:1,$0:cC};case 1:return{$:1,$0:N.Map(function(cF){return cs+cF+cD;},cC)};case 2:return{$:1,$0:N.Map2(function(cF,cG){return cs+cF+cG;},cC,cD)};case 3:return{$:2,$0:cD};}}(cz.$0)}),cy==null?(cA=(cB=h.tryGetAct(cw,cx),cB==null?null:{$:1,$0:{$:2,$0:cB.$0}}),cA==null?{$:0,$0:((((ci.Curried(function(cC,cD,cE,cF){return cC(bd.toSafe(cD)+" ${Missing "+bd.toSafe(cE)+"}"+bd.toSafe(cF));},4))(a.id))(cs))(ct))(cu)}:cA.$0):cy.$0))))))))});return cp==null?{$:0,$0:co}:cp.$0;};_1.getOneDoc=function(cn,co){var cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB;return co.$==1&&(cq=_1.Identifier(co.$0),cq!=null&&cq.$==1&&(cp=[cq.$0,co.$1],true))?(cr=cp[0],(cs=cp[1],(ct=(_1.splitName(cn))(cr),(cu=ct[0],(cv=ct[1],(cw=(cx=h.tryGetDoc(cu,cv),cx==null?null:{$:1,$0:_1.getDocF(cs,cx.$0)}),cw==null?(cy=(cz=h.tryGetWoW(cu,cv),cz==null?null:{$:1,$0:[s.TextView(cz.$0),cs]}),cy==null?[_1.errDoc((function(cC){return function(cD){return cC("Missing doc: "+bd.toSafe(cD));};}(a.id))(cr)),cs]:cy.$0):cw.$0)))))):co.$==0?[s.get_Empty(),E.Empty]:(cA=co.$1,(cB=_1.getTextData(cn,co.$0),cB.$==1?[s.TextView(cB.$0),cA]:cB.$==2?[_1.errDoc((function(cC){return function(cD){return cC("Unexpected action: "+bd.toSafe(cD));};}(a.id))(cB.$0.actName)),cA]:[s.TextNode(cB.$0),cA]));};_1.getDocF=function(cn,co){var cp,cq;cq=co.docDoc;switch(cq.$==1?cn.$==1?(cp=[cq.$0,cn.$0,cn.$1],1):6:cq.$==2?cn.$==1?cn.$1.$==1?(cp=[cq.$0,cn.$0,cn.$1.$0,cn.$1.$1],2):6:6:cq.$==3?cn.$==1?cn.$1.$==1?cn.$1.$1.$==1?(cp=[cq.$0,cn.$0,cn.$1.$0,cn.$1.$1.$0,cn.$1.$1.$1],3):6:6:6:cq.$==4?cn.$==1?cn.$1.$==1?cn.$1.$1.$==1?cn.$1.$1.$1.$==1?(cp=[cq.$0,cn.$0,cn.$1.$0,cn.$1.$1.$0,cn.$1.$1.$1.$0,cn.$1.$1.$1.$1],4):6:6:6:6:cq.$==5?cn.$==1?cn.$1.$==1?cn.$1.$1.$==1?cn.$1.$1.$1.$==1?cn.$1.$1.$1.$1.$==1?(cp=[cq.$0,cn.$0,cn.$1.$0,cn.$1.$1.$0,cn.$1.$1.$1.$0,cn.$1.$1.$1.$1.$0,cn.$1.$1.$1.$1.$1],5):6:6:6:6:6:(cp=[cq.$0,cn],0)){case 0:return[cp[0].f(),cp[1]];case 1:return[cp[0](cp[1]),cp[2]];case 2:return[(cp[0](cp[1]))(cp[2]),cp[3]];case 3:return[((cp[0](cp[1]))(cp[2]))(cp[3]),cp[4]];case 4:return[(((cp[0](cp[1]))(cp[2]))(cp[3]))(cp[4]),cp[5]];case 5:return[((((cp[0](cp[1]))(cp[2]))(cp[3]))(cp[4]))(cp[5]),cp[6]];case 6:return[s.Element("div",[],[s.TextNode((((ci.Curried3(function(cr,cs,ct){return cr("Parameters do not coincide with definition "+W.p(cs)+" - "+bd.printList(bd.prettyPrint,ct));}))(a.id))(co))(cn))]),E.Empty];}};_1.createDocs=function(cn,co){function cp(cq,cr){return h.newDoc(cq,F.Create(function(){return cr;}));}return Y.map(function(cq){return cp(cq[0],cq[1]);},Y.choose(function(cq){return _1.createDocO(cn,cq);},v.splitByChar("\n",co)));};_1.inputFile=function(cn,co,cp,cq,cr){var cs,ct,cu,cv;cs=(ct=(cu=(_1.splitName(cn))(cq),h.tryGetAct(cu[0],cu[1])),ct==null?null:{$:1,$0:(cv=ct.$0,s.Element("div",_1.getAttrs(cn,co),[s.Element("div",[bp.Create("class","input-group")],[s.Element("span",[bp.Create("class","input-group-btn")],[s.Element("label",[bp.Create("class","btn")],[_1.getText(cn,cp),s.Element("input",[bp.Create("class","form-control"),bp.Create("type","file"),bD.Style("display","none"),bp.HandlerImpl("click",function(cw){return function(){cw.value="";};}),bp.HandlerImpl("change",function(cw){return function(){return h.callFunction(cw,null,cv.actFunction);};})],[])])]),cr!==""?_1.singleDoc(cn,D.ofArray([cr])):s.get_Empty()])]))});return cs==null?_1.errDoc((function(cw){return function(cx){return cw("Action not found "+bd.toSafe(cx));};}(a.id))(cq)):cs.$0;};_1.inputLabel=function(cn,co,cp,cq){var cr,cs,ct;cr=(cs=(ct=(_1.splitName(cn))(cq),h.tryGetVar(ct[0],ct[1])),cs==null?null:{$:1,$0:s.Element("div",_1.getAttrs(cn,co),[s.Element("div",[bp.Create("class","input-group")],[s.Element("span",[bp.Create("class","input-group-addon")],[_1.getText(cn,cp)]),s.Input([bp.Create("class","form-control")],cs.$0.varVar)])])});return cr==null?_1.errDoc((function(cu){return function(cv){return cu("Var not found "+bd.toSafe(cv));};}(a.id))(cq)):cr.$0;};_1.none=function(cn){return s.Element("span",[],[]);};_1.Identifier=function(cn){var co,cp,cq;return(cp=g.REGEX$1("^[$a-zA-Z_][0-9a-zA-Z_\\.\\-$]*$","",cn),cp!=null&&cp.$==1&&((cq=cp.$0,!z.Equals(cq,null)&&cq.length===1)&&(co=S.get(cp.$0,0),true)))?{$:1,$0:co}:null;};_1.createDocO=function(cn,co){var cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL;try{cp=_1.splitTokens(co);return cp.$==1&&(cr=_1.Identifier(cp.$0),cr!=null&&cr.$==1&&(cp.$1.$==1&&(_1.Vertical(cp.$1.$0).$==0&&(cp.$1.$1.$==1&&(cs=_1.Measures$1(cp.$1.$1.$0),cs!=null&&cs.$==1&&(cq=[cp.$1.$1.$1,cs.$0,cr.$0],true))))))?{$:1,$0:[cq[2],(_1.createSplitterM())([cn,true,cq[1],cq[0]])]}:cp.$==1&&(cu=_1.Identifier(cp.$0),cu!=null&&cu.$==1&&(cp.$1.$==1&&(_1.Vertical(cp.$1.$0).$==1&&(cp.$1.$1.$==1&&(cv=_1.Measures$1(cp.$1.$1.$0),cv!=null&&cv.$==1&&(ct=[cp.$1.$1.$1,cv.$0,cu.$0],true))))))?{$:1,$0:[ct[2],(_1.createSplitterM())([cn,false,ct[1],ct[0]])]}:cp.$==1&&(cx=_1.Identifier(cp.$0),cx!=null&&cx.$==1&&(cp.$1.$==1&&(_1.Doc(cp.$1.$0).$==1&&(cp.$1.$1.$==1&&(cy=_1.Identifier(cp.$1.$1.$0),cy!=null&&cy.$==1&&(cp.$1.$1.$1.$==1&&(cp.$1.$1.$1.$1.$==1&&(cp.$1.$1.$1.$1.$1.$==0&&(cw=[cy.$0,cp.$1.$1.$1.$0,cx.$0,cp.$1.$1.$1.$1.$0],true)))))))))?{$:1,$0:[cw[2],(_1.createButtonM())([cn,cw[0],cw[1],cw[3]])]}:cp.$==1&&(cA=_1.Identifier(cp.$0),cA!=null&&cA.$==1&&(cp.$1.$==1&&(_1.Doc(cp.$1.$0).$==2&&(cp.$1.$1.$==1&&(cB=_1.Identifier(cp.$1.$1.$0),cB!=null&&cB.$==1&&(cp.$1.$1.$1.$==1&&(cp.$1.$1.$1.$1.$==0&&(cz=[cp.$1.$1.$1.$0,cA.$0,cB.$0],true))))))))?{$:1,$0:[cz[1],(_1.createInputM())([cn,cz[2],cz[0]])]}:cp.$==1&&(cD=_1.Identifier(cp.$0),cD!=null&&cD.$==1&&(cp.$1.$==1&&(_1.Doc(cp.$1.$0).$==3&&(cp.$1.$1.$==1&&(cE=_1.Identifier(cp.$1.$1.$0),cE!=null&&cE.$==1&&(cp.$1.$1.$1.$==1&&(cp.$1.$1.$1.$1.$==0&&(cC=[cp.$1.$1.$1.$0,cD.$0,cE.$0],true))))))))?{$:1,$0:[cC[1],(_1.createTextAreaM())([cn,cC[2],cC[0]])]}:cp.$==1&&(cG=_1.Identifier(cp.$0),cG!=null&&cG.$==1&&(cp.$1.$==1&&(_1.Doc(cp.$1.$0).$==0&&(cp.$1.$1.$==1&&(cF=[cp.$1.$1.$0,cG.$0,cp.$1.$1.$1],true)))))?{$:1,$0:[cF[1],(_1.createDocM())([cn,cF[0],cF[2]])]}:cp.$==1&&(cI=_1.Identifier(cp.$0),cI!=null&&cI.$==1&&(cp.$1.$==1&&(_1.Vertical(cp.$1.$0).$==2&&(cp.$1.$1.$==1&&(cp.$1.$1.$1.$==1&&(cp.$1.$1.$1.$1.$==1&&(cH=[cp.$1.$1.$1.$1.$0,cp.$1.$1.$0,cp.$1.$1.$1.$1.$1,cI.$0,cp.$1.$1.$1.$0],true)))))))?null:cp.$==1&&(cK=_1.Identifier(cp.$0),cK!=null&&cK.$==1&&(cp.$1.$==1&&(cL=_1.Vertical(cp.$1.$0),cL.$==3&&(cp.$1.$1.$==1&&(cJ=[cp.$1.$1.$0,cp.$1.$1.$1,cL.$0,cK.$0],true)))))?{$:1,$0:[cJ[3],(_1.createElementM())([cn,cJ[2],cJ[0],cJ[1]])]}:null;}catch(cM){((function(cN){return function(cO){return cN(bd.prettyPrint(cO));};}(function(cN){cg.log(cN);}))(cM));return null;}};_1.getText=function(cn,co){var cp,cq,cr,cs,ct,cu,cv,cw,cx;cp=_1.Identifier(co);return cp!=null&&cp.$==1?(cq=cp.$0,(cr=(_1.splitName(cn))(cq),(cs=cr[0],(ct=cr[1],(cu=(cv=h.tryGetViw(cs,ct),cv==null?null:{$:1,$0:s.TextView(cv.$0.viwView)}),cu==null?(cw=(cx=h.tryGetVar(cs,ct),cx==null?null:{$:1,$0:s.TextView(cx.$0.varVar.get_View())}),cw==null?s.TextNode(cq):cw.$0):cu.$0))))):s.TextNode(co);};_1.singleDoc=function(cn,co){return s.EmbedView(N.Map(function(cp){var cq;return cp.$==1&&(cp.$1.$==0&&(cq=cp.$0,true))?cq:_1.errDoc((function(cr){return function(cs){return cr("expected exactly 1 element "+bd.printList(bd.prettyPrint,cs));};}(a.id))(co));},N.Map(function(){return _1.getDocs(cn,co);},h.mainDocV().get_View())));};_1.splitTokens=function(cn){return D.ofSeq(Y.collect(a.id,Y.mapi(function(co,cp){var cq;return co%2===1?[" "+cp]:(cq=w.Trim(cp),cq===""?[]:w.SplitChars(cq,[" "],1));},v.splitByChar("\"",cn))));};_1.Measures$1=function(cn){var co,cp,cq,cr,cs,ct,cu,cv,cw;co=v.splitByChar("-",cn);return!z.Equals(co,null)&&co.length===1&&(cq=(y.Double())(S.get(co,0)),cq!=null&&cq.$==1&&(cp=cq.$0,true))?{$:1,$0:{$:0,$0:cp,$1:true}}:!z.Equals(co,null)&&co.length===2&&(S.get(co,0)===""&&(cs=(y.Double())(S.get(co,1)),cs!=null&&cs.$==1&&(cr=cs.$0,true)))?{$:1,$0:{$:0,$0:cr,$1:false}}:!z.Equals(co,null)&&co.length===3&&(cu=(y.Double())(S.get(co,0)),cu!=null&&cu.$==1&&(cv=(y.Double())(S.get(co,1)),cv!=null&&cv.$==1&&(cw=(y.Double())(S.get(co,2)),cw!=null&&cw.$==1&&(ct=[cw.$0,cu.$0,cv.$0],true))))?{$:1,$0:{$:1,$0:ct[1],$1:ct[2],$2:ct[0]}}:null;};_1.Vertical=function(cn){var co;return cn==="vertical"?{$:0,$0:null}:cn==="horizontal"?{$:1,$0:null}:cn==="grid"?{$:2,$0:null}:(co=_1.Identifier(cn),co!=null&&co.$==1?{$:3,$0:co.$0}:{$:4,$0:null});};_1.createSplitterM=function(){n.$cctor();return n.createSplitterM;};_1.Doc=function(cn){return cn==="Doc"?{$:0,$0:null}:cn==="button"?{$:1,$0:null}:cn==="input"?{$:2,$0:null}:cn==="textarea"?{$:3,$0:null}:cn==="select"?{$:4,$0:null}:{$:5,$0:null};};_1.createButtonM=function(){n.$cctor();return n.createButtonM;};_1.createInputM=function(){n.$cctor();return n.createInputM;};_1.createTextAreaM=function(){n.$cctor();return n.createTextAreaM;};_1.createDocM=function(){n.$cctor();return n.createDocM;};_1.createElementM=function(){n.$cctor();return n.createElementM;};S.tryFind=function(cn,co){var cp,cq;cp=null;cq=0;while(cq<co.length&&cp==null){cn(co[cq])?cp={$:1,$0:co[cq]}:void 0;cq=cq+1;}return cp;};S.choose=function(cn,co){var cp,cq,cr,cs;cp=[];for(cq=0,cr=co.length-1;cq<=cr;cq++){cs=cn(co[cq]);cs==null?void 0:cp.push(cs.$0);}return cp;};S.ofSeq=function(cn){var co,cp;if(cn instanceof a.Array)return cn.slice();else if(cn instanceof E)return S.ofList(cn);else{co=[];cp=bg.Get(cn);try{while(cp.MoveNext())co.push(cp.Current());return co;}finally{if(typeof cp=="object"&&"Dispose"in cp)cp.Dispose();}}};S.tryFindIndex=function(cn,co){var cp,cq;cp=null;cq=0;while(cq<co.length&&cp==null){cn(co[cq])?cp={$:1,$0:cq}:void 0;cq=cq+1;}return cp;};S.ofList=function(cn){var co,cp;cp=[];co=cn;while(!(co.$==0)){cp.push(D.head(co));co=D.tail(co);}return cp;};S.exists=function(cn,co){var cp,cq,cr,cs;cp=false;cq=0;cs=S.length(co);while(!cp&&cq<cs)if(cn(co[cq]))cp=true;else cq=cq+1;return cp;};S.tryPick=function(cn,co){var cp,cq,cr;cp=null;cq=0;while(cq<co.length&&cp==null){cr=cn(co[cq]);cr!=null&&cr.$==1?cp=cr:void 0;cq=cq+1;}return cp;};S.foldBack=function(cn,co,cp){var cq,cr,cs,ct,cu;cq=cp;cs=co.length;for(ct=1,cu=cs;ct<=cu;ct++)cq=cn(co[cs-ct],cq);return cq;};S.map=function(cn,co){var cp,cq,cr;cp=new a.Array(co.length);for(cq=0,cr=co.length-1;cq<=cr;cq++)cp[cq]=cn(co[cq]);return cp;};S.filter=function(cn,co){var cp,cq,cr;cp=[];for(cq=0,cr=co.length-1;cq<=cr;cq++)if(cn(co[cq]))cp.push(co[cq]);return cp;};S.iter=function(cn,co){var cp,cq;for(cp=0,cq=co.length-1;cp<=cq;cp++)cn(co[cp]);};S.concat=function(cn){return a.Array.prototype.concat.apply([],S.ofSeq(cn));};S.pick=function(cn,co){var cp;cp=S.tryPick(cn,co);return cp==null?f.FailWith("KeyNotFoundException"):cp.$0;};S.create=function(cn,co){var cp,cq,cr;cp=new a.Array(cn);for(cq=0,cr=cn-1;cq<=cr;cq++)cp[cq]=co;return cp;};S.init=function(cn,co){var cp,cq,cr;cn<0?f.FailWith("Negative size given."):null;cp=new a.Array(cn);for(cq=0,cr=cn-1;cq<=cr;cq++)cp[cq]=co(cq);return cp;};S.forall=function(cn,co){var cp,cq,cr,cs;cp=true;cq=0;cs=S.length(co);while(cp&&cq<cs)if(cn(co[cq]))cq=cq+1;else cp=false;return cp;};S.find=function(cn,co){var cp;cp=S.tryFind(cn,co);return cp==null?f.FailWith("KeyNotFoundException"):cp.$0;};_3=_2.Dictionary=ci.Class({set_Item:function(cn,co){this.set(cn,co);},ContainsKey:function(cn){var co,cp;co=this;cp=this.data[this.hash(cn)];return cp==null?false:S.exists(function(cq){return co.equals.apply(null,[(f.KeyValue(cq))[0],cn]);},cp);},TryGetValue:function(cn,co){var cp,cq,cr;cp=this;cq=this.data[this.hash(cn)];return cq==null?false:(cr=S.tryPick(function(cs){var ct;ct=f.KeyValue(cs);return cp.equals.apply(null,[ct[0],cn])?{$:1,$0:ct[1]}:null;},cq),cr!=null&&cr.$==1&&(co.set(cr.$0),true));},Remove:function(cn){return this.remove(cn);},get_Keys:function(){return new bH.New(this);},set:function(cn,co){var cp,cq,cr,cs;cp=this;cq=this.hash(cn);cr=this.data[cq];cr==null?(this.count=this.count+1,this.data[cq]=new a.Array({K:cn,V:co})):(cs=S.tryFindIndex(function(ct){return cp.equals.apply(null,[(f.KeyValue(ct))[0],cn]);},cr),cs==null?(this.count=this.count+1,cr.push({K:cn,V:co})):cr[cs.$0]={K:cn,V:co});},remove:function(cn){var co,cp,cq,cr;co=this;cp=this.hash(cn);cq=this.data[cp];return cq==null?false:(cr=S.filter(function(cs){return!co.equals.apply(null,[(f.KeyValue(cs))[0],cn]);},cq),S.length(cr)<cq.length&&(this.count=this.count-1,this.data[cp]=cr,true));},get_Item:function(cn){return this.get(cn);},Clear:function(){this.data=[];this.count=0;},get:function(cn){var co,cp;co=this;cp=this.data[this.hash(cn)];return cp==null?bz.notPresent():S.pick(function(cq){var cr;cr=f.KeyValue(cq);return co.equals.apply(null,[cr[0],cn])?{$:1,$0:cr[1]}:null;},cp);},GetEnumerator:function(){return bg.Get0(this);},GetEnumerator0:function(){return bg.Get0(S.concat(m.GetFieldValues(this.data)));}},r,_3);_3.New$5=ci.Ctor(function(){_3.New$6.call(this,[],z.Equals,z.Hash);},_3);_3.New$6=ci.Ctor(function(cn,co,cp){var cq,cr;r.New.call(this);this.equals=co;this.hash=cp;this.count=0;this.data=[];cq=bg.Get(cn);try{while(cq.MoveNext()){cr=cq.Current();this.set(cr.K,cr.V);}}finally{if(typeof cq=="object"&&"Dispose"in cq)cq.Dispose();}},_3);_4.LinkElement=function(cn,co){_4.InsertDoc(cn,co,null);};_4.InsertDoc=function(cn,co,cp){var cq;return co!=null&&co.$==1?_4.InsertNode(cn,co.$0.El,cp):co!=null&&co.$==2?(cq=co.$0,(cq.Dirty=false,_4.InsertDoc(cn,cq.Current,cp))):co==null?cp:co!=null&&co.$==4?_4.InsertNode(cn,co.$0.Text,cp):co!=null&&co.$==5?_4.InsertNode(cn,co.$0,cp):co!=null&&co.$==6?S.foldBack(function(cr,cs){return cr==null||cr.constructor===bx?_4.InsertDoc(cn,cr,cs):_4.InsertNode(cn,cr,cs);},co.$0.Els,cp):_4.InsertDoc(cn,co.$0,_4.InsertDoc(cn,co.$1,cp));};_4.CreateRunState=function(cn,co){return bL.New(bM.get_Empty(),_4.CreateElemNode(cn,bU.EmptyAttr(),co));};_4.PerformAnimatedUpdate=function(cn,co,cp){var cq;return bl.get_UseAnimations()?(cq=null,bS.Delay(function(){var cr,cs,ct;cr=bM.FindAll(cp);cs=_4.ComputeChangeAnim(co,cr);ct=_4.ComputeEnterAnim(co,cr);return bS.Bind(bl.Play(bl.Append(cs,_4.ComputeExitAnim(co,cr))),function(){return bS.Bind(_4.SyncElemNodesNextFrame(cn,co),function(){return bS.Bind(bl.Play(ct),function(){co.PreviousNodes=cr;return bS.Return(null);});});});})):_4.SyncElemNodesNextFrame(cn,co);};_4.PerformSyncUpdate=function(cn,co,cp){var cq;cq=bM.FindAll(cp);_4.SyncElemNode(cn,co.Top);co.PreviousNodes=cq;};_4.InsertNode=function(cn,co,cp){bk.InsertAt(cn,cp,co);return co;};_4.CreateElemNode=function(cn,co,cp){var cq;_4.LinkElement(cn,cp);cq=bU.Insert(cn,co);return bI.New(cq,cp,null,cn,bw.Int(),ci.GetOptional(cq.OnAfterRender));};_4.SyncElemNodesNextFrame=function(cn,co){function cp(cq){a.requestAnimationFrame(function(){_4.SyncElemNode(cn,co.Top);cq();});}return bm.BatchUpdatesEnabled()?bS.FromContinuations(function(cq,cr,cs){return cp.apply(null,[cq,cr,cs]);}):(_4.SyncElemNode(cn,co.Top),bS.Return(null));};_4.ComputeExitAnim=function(cn,co){return bl.Concat(S.map(function(cp){return bU.GetExitAnim(cp.Attr);},bM.ToArray(bM.Except(co,bM.Filter(function(cp){return bU.HasExitAnim(cp.Attr);},cn.PreviousNodes)))));};_4.ComputeEnterAnim=function(cn,co){return bl.Concat(S.map(function(cp){return bU.GetEnterAnim(cp.Attr);},bM.ToArray(bM.Except(cn.PreviousNodes,bM.Filter(function(cp){return bU.HasEnterAnim(cp.Attr);},co)))));};_4.ComputeChangeAnim=function(cn,co){var cp;function cq(cr){return bU.HasChangeAnim(cr.Attr);}cp=function(cr){return bM.Filter(cq,cr);};return bl.Concat(S.map(function(cr){return bU.GetChangeAnim(cr.Attr);},bM.ToArray(bM.Intersect(cp(cn.PreviousNodes),cp(co)))));};_4.SyncElemNode=function(cn,co){!cn?_4.SyncElement(co):void 0;_4.Sync(co.Children);_4.AfterRender(co);};_4.CreateEmbedNode=function(){return{Current:null,Dirty:false};};_4.UpdateEmbedNode=function(cn,co){cn.Current=co;cn.Dirty=true;};_4.SyncElement=function(cn){function co(cp){function cq(cr){var cs,ct;return cr!=null&&cr.$==0?cq(cr.$0)||cq(cr.$1):cr!=null&&cr.$==2?(cs=cr.$0,cs.Dirty||cq(cs.Current)):cr!=null&&cr.$==6&&(ct=cr.$0,ct.Dirty||S.exists(co,ct.Holes));}return cq(cp.Children);}bU.Sync(cn.El,cn.Attr);co(cn)?_4.DoSyncElement(cn):void 0;};_4.Sync=function(cn){var co,cp;if(cn!=null&&cn.$==1)_4.SyncElemNode(false,cn.$0);else if(cn!=null&&cn.$==2)_4.Sync(cn.$0.Current);else if(cn==null);else if(cn!=null&&cn.$==5);else if(cn!=null&&cn.$==4){co=cn.$0;co.Dirty?(co.Text.nodeValue=co.Value,co.Dirty=false):void 0;}else if(cn!=null&&cn.$==6){cp=cn.$0;S.iter(function(cq){_4.SyncElemNode(false,cq);},cp.Holes);S.iter(function(cq){bU.Sync(cq[0],cq[1]);},cp.Attrs);_4.AfterRender(cp);}else{_4.Sync(cn.$0);_4.Sync(cn.$1);}};_4.AfterRender=function(cn){var co;co=ci.GetOptional(cn.Render);co!=null&&co.$==1?(co.$0(cn.El),ci.SetOptional(cn,"Render",null)):void 0;};_4.CreateTextNode=function(){return{Text:bk.CreateText(""),Dirty:false,Value:""};};_4.UpdateTextNode=function(cn,co){cn.Value=co;cn.Dirty=true;};_4.DoSyncElement=function(cn){var co,cp,cq;function cr(cs,ct){var cu,cv;return cs!=null&&cs.$==1?cs.$0.El:cs!=null&&cs.$==2?(cu=cs.$0,cu.Dirty?(cu.Dirty=false,_4.InsertDoc(co,cu.Current,ct)):cr(cu.Current,ct)):cs==null?ct:cs!=null&&cs.$==4?cs.$0.Text:cs!=null&&cs.$==5?cs.$0:cs!=null&&cs.$==6?(cv=cs.$0,(cv.Dirty?cv.Dirty=false:void 0,S.foldBack(function(cw,cx){return cw==null||cw.constructor===bx?cr(cw,cx):cw;},cv.Els,ct))):cr(cs.$0,cr(cs.$1,ct));}co=cn.El;cc.Iter((cp=cn.El,function(cs){bk.RemoveNode(cp,cs);}),cc.Except(cc.DocChildren(cn),cc.Children(cn.El,ci.GetOptional(cn.Delimiters))));cr(cn.Children,(cq=ci.GetOptional(cn.Delimiters),cq!=null&&cq.$==1?cq.$0[1]:null));};_4.InsertBeforeDelim=function(cn,co){var cp,cq;cp=cn.parentNode;cq=self.document.createTextNode("");cp.insertBefore(cq,cn);_4.LinkPrevElement(cn,co);return cq;};_4.LinkPrevElement=function(cn,co){_4.InsertDoc(cn.parentNode,co,cn);};_5.TryParse=function(cn){var co;co=cm.parse(cn);return a.isNaN(co)?null:{$:1,$0:co};};A.TryParse=function(cn,co,cp,cq){var cr,cs;cr=+cn;cs=cr===cr-cr%1&&cr>=co&&cr<=cp;cs?cq.set(cr):void 0;return cs;};_7.New=function(cn,co,cp){return{c:cn,v:co,f:cp};};u.delayed=function(cn,co){var cp;cp=[null];return function(cq){var cr,cs;cr=cp[0];cr==null?void 0:cr.$0.Cancel$1();cp[0]={$:1,$0:new bu.New()};bS.Start((cs=null,bS.Delay(function(){return bS.Bind(bS.Sleep(cn),function(){co(cq);return bS.Zero();});})),{$:1,$0:cp[0].$0});};};u["String.Left"]=function(cn,co){return u["String.Substring2"](cn,0,co);};u["String.Substring2"]=function(cn,co,cp){var cq,cr;while(true){if(cp<=0)return"";else if(co<0){cq=co;co=0;cp=cp+cq;}else return co>=cn.length?"":w.Substring(cn,co,(cr=cn.length-co,z.Compare(cp,cr)===-1?cp:cr));}};_8.New=function(cn,co){return{varName:cn,varVar:co};};_9.New=function(cn,co,cp){return{actName:cn,actFunction:co,actEnabled:cp};};_.New=function(cn,co){return{qryName:cn,qryFunction:co};};$=o.ConcreteVar=ci.Class({get_View:function(){return this.view;},Set:function(cn){if(this.isConst)(function(co){return co("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal");}(function(co){cg.log(co);}));else{ba.Obsolete(this.snap);this.current=cn;this.snap=ba.New({$:2,$0:cn,$1:[]});}},Get:function(){return this.current;},UpdateMaybe:function(cn){var co;co=cn(this.Get());co!=null&&co.$==1?this.Set(co.$0):void 0;}},M,$);$.New=ci.Ctor(function(cn,co,cp){var cq;cq=this;M.New.call(this);this.isConst=cn;this.current=cp;this.snap=co;this.view=function(){return cq.snap;};this.id=bw.Int();},$);ba.Map2=function(cn,co,cp){var cq,cr,cs;function ct(cu){var cv,cw,cx;if(!(cv=cs.s,cv!=null&&cv.$==0||cv!=null&&cv.$==2)){cw=ba.ValueAndForever(co);cx=ba.ValueAndForever(cp);cw!=null&&cw.$==1?cx!=null&&cx.$==1?cw.$0[1]&&cx.$0[1]?ba.MarkForever(cs,cn(cw.$0[0],cx.$0[0])):ba.MarkReady(cs,cn(cw.$0[0],cx.$0[0])):void 0:void 0;}}cq=co.s;cr=cp.s;return cq!=null&&cq.$==0?cr!=null&&cr.$==0?ba.New({$:0,$0:cn(cq.$0,cr.$0)}):ba.Map2Opt1(cn,cq.$0,cp):cr!=null&&cr.$==0?ba.Map2Opt2(cn,cr.$0,co):(cs=ba.New({$:3,$0:[],$1:[]}),(ba.When(co,ct,cs),ba.When(cp,ct,cs),cs));};ba.Map=function(cn,co){var cp,cq;cp=co.s;return cp!=null&&cp.$==0?ba.New({$:0,$0:cn(cp.$0)}):(cq=ba.New({$:3,$0:[],$1:[]}),(ba.When(co,function(cr){ba.MarkDone(cq,co,cn(cr));},cq),cq));};ba.WhenObsoleteRun=function(cn,co){var cp;cp=cn.s;cp==null?co():cp!=null&&cp.$==2?cp.$1.push(co):cp!=null&&cp.$==3?cp.$1.push(co):void 0;};ba.Map2Opt1=function(cn,co,cp){return ba.Map(function(cq){return cn(co,cq);},cp);};ba.Map2Opt2=function(cn,co,cp){return ba.Map(function(cq){return cn(cq,co);},cp);};ba.ValueAndForever=function(cn){var co;co=cn.s;return co!=null&&co.$==0?{$:1,$0:[co.$0,true]}:co!=null&&co.$==2?{$:1,$0:[co.$0,false]}:null;};ba.MarkForever=function(cn,co){var cp,cq,cr,cs;cp=cn.s;if(cp!=null&&cp.$==3){cn.s={$:0,$0:co};cq=cp.$0;for(cr=0,cs=S.length(cq)-1;cr<=cs;cr++)(S.get(cq,cr))(co);}else void 0;};ba.MarkReady=function(cn,co){var cp,cq,cr,cs;cp=cn.s;if(cp!=null&&cp.$==3){cn.s={$:2,$0:co,$1:cp.$1};cq=cp.$0;for(cr=0,cs=S.length(cq)-1;cr<=cs;cr++)(S.get(cq,cr))(co);}else void 0;};ba.When=function(cn,co,cp){var cq;cq=cn.s;cq==null?ba.Obsolete(cp):cq!=null&&cq.$==2?(ba.EnqueueSafe(cq.$1,cp),co(cq.$0)):cq!=null&&cq.$==3?(cq.$0.push(co),ba.EnqueueSafe(cq.$1,cp)):co(cq.$0);};ba.MarkDone=function(cn,co,cp){var cq;if(cq=co.s,cq!=null&&cq.$==0)ba.MarkForever(cn,cp);else ba.MarkReady(cn,cp);};ba.WhenRun=function(cn,co,cp){var cq;cq=cn.s;cq==null?cp():cq!=null&&cq.$==2?(cq.$1.push(cp),co(cq.$0)):cq!=null&&cq.$==3?(cq.$0.push(co),cq.$1.push(cp)):co(cq.$0);};ba.EnqueueSafe=function(cn,co){var cp,cq,cr,cs;cn.push(co);if(cn.length%20===0){cp=cn.slice(0);cb.Clear(cn);for(cq=0,cr=S.length(cp)-1;cq<=cr;cq++){cs=S.get(cp,cq);typeof cs=="object"?function(ct){if(ct.s)cn.push(ct);}(cs):function(ct){cn.push(ct);}(cs);}}else void 0;};ba.TryGet=function(cn){var co,cp;co=cn.s;return(co!=null&&co.$==0?(cp=co.$0,true):co!=null&&co.$==2&&(cp=co.$0,true))?{$:1,$0:cp}:null;};ba.Map2Unit=function(cn,co){var cp,cq,cr;function cs(){var ct,cu,cv;if(!(ct=cr.s,ct!=null&&ct.$==0||ct!=null&&ct.$==2)){cu=ba.ValueAndForever(cn);cv=ba.ValueAndForever(co);cu!=null&&cu.$==1?cv!=null&&cv.$==1?cu.$0[1]&&cv.$0[1]?ba.MarkForever(cr,null):ba.MarkReady(cr,null):void 0:void 0;}}cp=cn.s;cq=co.s;return cp!=null&&cp.$==0?cq!=null&&cq.$==0?ba.New({$:0,$0:null}):co:cq!=null&&cq.$==0?cn:(cr=ba.New({$:3,$0:[],$1:[]}),(ba.When(cn,cs,cr),ba.When(co,cs,cr),cr));};ba.Copy=function(cn){var co,cp,cq;co=cn.s;return co==null?cn:co!=null&&co.$==2?(cp=ba.New({$:2,$0:co.$0,$1:[]}),(ba.WhenObsolete(cn,cp),cp)):co!=null&&co.$==3?(cq=ba.New({$:3,$0:[],$1:[]}),(ba.When(cn,function(cr){ba.MarkDone(cq,cn,cr);},cq),cq)):cn;};ba.Join=function(cn){var co;co=ba.New({$:3,$0:[],$1:[]});ba.When(cn,function(cp){var cq;cq=cp();ba.When(cq,function(cr){var cs,ct;if((cs=cq.s,cs!=null&&cs.$==0)&&(ct=cn.s,ct!=null&&ct.$==0))ba.MarkForever(co,cr);else ba.MarkReady(co,cr);},co);},co);return co;};ba.WhenObsolete=function(cn,co){var cp;cp=cn.s;cp==null?ba.Obsolete(co):cp!=null&&cp.$==2?ba.EnqueueSafe(cp.$1,co):cp!=null&&cp.$==3?ba.EnqueueSafe(cp.$1,co):void 0;};ba.Map3=function(cn,co,cp,cq){var cr,cs,ct,cu;function cv(cw){var cx,cy,cz,cA;if(!(cx=cu.s,cx!=null&&cx.$==0||cx!=null&&cx.$==2)){cy=ba.ValueAndForever(co);cz=ba.ValueAndForever(cp);cA=ba.ValueAndForever(cq);cy!=null&&cy.$==1?cz!=null&&cz.$==1?cA!=null&&cA.$==1?cy.$0[1]&&cz.$0[1]&&cA.$0[1]?ba.MarkForever(cu,cn(cy.$0[0],cz.$0[0],cA.$0[0])):ba.MarkReady(cu,cn(cy.$0[0],cz.$0[0],cA.$0[0])):void 0:void 0:void 0;}}cr=co.s;cs=cp.s;ct=cq.s;return cr!=null&&cr.$==0?cs!=null&&cs.$==0?ct!=null&&ct.$==0?ba.New({$:0,$0:cn(cr.$0,cs.$0,ct.$0)}):ba.Map3Opt1(cn,cr.$0,cs.$0,cq):ct!=null&&ct.$==0?ba.Map3Opt2(cn,cr.$0,ct.$0,cp):ba.Map3Opt3(cn,cr.$0,cp,cq):cs!=null&&cs.$==0?ct!=null&&ct.$==0?ba.Map3Opt4(cn,cs.$0,ct.$0,co):ba.Map3Opt5(cn,cs.$0,co,cq):ct!=null&&ct.$==0?ba.Map3Opt6(cn,ct.$0,co,cp):(cu=ba.New({$:3,$0:[],$1:[]}),(ba.When(co,cv,cu),ba.When(cp,cv,cu),ba.When(cq,cv,cu),cu));};ba.Sequence=function(cn){var co,cp,cq;function cr(cs){var ct;if(cq[0]===0){ct=S.map(function(cu){var cv;cv=cu.s;return cv!=null&&cv.$==0?cv.$0:cv!=null&&cv.$==2?cv.$0:f.FailWith("value not found by View.Sequence");},co);S.forall(function(cu){var cv;cv=cu.s;return cv!=null&&cv.$==0;},co)?ba.MarkForever(cp,ct):ba.MarkReady(cp,ct);}else cq[0]--;}co=S.ofSeq(cn);return co.length==0?ba.New({$:0,$0:[]}):(cp=ba.New({$:3,$0:[],$1:[]}),(cq=[S.length(co)-1],(S.iter(function(cs){ba.When(cs,cr,cp);},co),cp)));};ba.Map3Opt1=function(cn,co,cp,cq){return ba.Map(function(cr){return cn(co,cp,cr);},cq);};ba.Map3Opt2=function(cn,co,cp,cq){return ba.Map(function(cr){return cn(co,cr,cp);},cq);};ba.Map3Opt3=function(cn,co,cp,cq){return ba.Map2(function(cr,cs){return cn(co,cr,cs);},cp,cq);};ba.Map3Opt4=function(cn,co,cp,cq){return ba.Map(function(cr){return cn(cr,co,cp);},cq);};ba.Map3Opt5=function(cn,co,cp,cq){return ba.Map2(function(cr,cs){return cn(cr,co,cs);},cp,cq);};ba.Map3Opt6=function(cn,co,cp,cq){return ba.Map2(function(cr,cs){return cn(cr,cs,co);},cp,cq);};bb=o.FromView=ci.Class({get_View:function(){return this.view;},Set:function(cn){this.set(cn);},Get:function(){return this.current;},UpdateMaybe:function(cn){var co;co=this;N.Get(function(cp){var cq;cq=cn(cp);cq!=null&&cq.$==1?co.set(cq.$0):void 0;},this.view);}},M,bb);bb.New=ci.Ctor(function(cn,co){var cp,cq;cp=this;M.New.call(this);this.set=co;this.id=bw.Int();this.current=(cq=N.TryGet(cn),cq==null?null:cq.$0);this.view=N.Map(function(cr){cp.current=cr;return cr;},cn);},bb);bc=_2.List=ci.Class({GetEnumerator:function(){return bg.Get(this);},GetEnumerator0:function(){return bg.Get0(this);}},null,bc);D.ofArray=function(cn){var co,cp,cq;co=E.Empty;for(cp=S.length(cn)-1,cq=0;cp>=cq;cp--)co=new E({$:1,$0:S.get(cn,cp),$1:co});return co;};D.ofSeq=function(cn){var co,cp,cq,cr,cs,ct;if(cn instanceof E)return cn;else if(cn instanceof a.Array)return D.ofArray(cn);else{co=bg.Get(cn);try{cq=co.MoveNext();if(!cq)cp=E.Empty;else{cs=new E({$:1});cr=cs;while(cq){cr.$0=co.Current();co.MoveNext()?cr=(ct=new E({$:1}),cr.$1=ct,ct):cq=false;}cr.$1=E.Empty;cp=cs;}return cp;}finally{if(typeof co=="object"&&"Dispose"in co)co.Dispose();}}};D.head=function(cn){return cn.$==1?cn.$0:D.listEmpty();};D.tail=function(cn){return cn.$==1?cn.$1:D.listEmpty();};D.listEmpty=function(){return f.FailWith("The input list was empty.");};bd.toSafe=function(cn){return cn==null?"":cn;};bd.prettyPrint=function(cn){var co,cp;function cq(cr,cs){return cr+" = "+bd.prettyPrint(cs);}return cn===null?"null":(co=typeof cn,co=="string"?"\""+cn+"\"":co=="object"?cn instanceof a.Array?"[|"+w.concat("; ",S.map(bd.prettyPrint,cn))+"|]":(cp=a.String(cn),cp==="[object Object]"?"{"+w.concat("; ",S.map(function(cr){return cq(cr[0],cr[1]);},m.GetFields(cn)))+"}":cp):a.String(cn));};bd.printList=function(cn,co){return"["+w.concat("; ",Y.map(cn,co))+"]";};be=_2.HashSet=ci.Class({Add:function(cn){return this.add(cn);},Contains:function(cn){var co;co=this.data[this.hash(cn)];return co==null?false:this.arrContains(cn,co);},add:function(cn){var co,cp;co=this.hash(cn);cp=this.data[co];return cp==null?(this.data[co]=[cn],this.count=this.count+1,true):this.arrContains(cn,cp)?false:(cp.push(cn),this.count=this.count+1,true);},arrContains:function(cn,co){var cp,cq,cr,cs;cp=true;cq=0;cs=co.length;while(cp&&cq<cs)if(this.equals.apply(null,[co[cq],cn]))cp=false;else cq=cq+1;return!cp;},ExceptWith:function(cn){var co;co=bg.Get(cn);try{while(co.MoveNext())this.Remove(co.Current());}finally{if(typeof co=="object"&&"Dispose"in co)co.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(cn){var co,cp,cq,cr;co=0;cp=b_.concat(this.data);for(cq=0,cr=cp.length-1;cq<=cr;cq++)S.set(cn,cq,cp[cq]);},IntersectWith:function(cn){var co,cp,cq,cr,cs;co=new be.New$4(cn,this.equals,this.hash);cp=b_.concat(this.data);for(cq=0,cr=cp.length-1;cq<=cr;cq++){cs=cp[cq];!co.Contains(cs)?this.Remove(cs):void 0;}},Remove:function(cn){var co;co=this.data[this.hash(cn)];return co==null?false:this.arrRemove(cn,co)&&(this.count=this.count-1,true);},arrRemove:function(cn,co){var cp,cq,cr,cs;cp=true;cq=0;cs=co.length;while(cp&&cq<cs)if(this.equals.apply(null,[co[cq],cn])){co.splice.apply(co,[cq,1]);cp=false;}else cq=cq+1;return!cp;},GetEnumerator:function(){return bg.Get(b_.concat(this.data));},GetEnumerator0:function(){return bg.Get(b_.concat(this.data));}},r,be);be.New$3=ci.Ctor(function(){be.New$4.call(this,[],z.Equals,z.Hash);},be);be.New$4=ci.Ctor(function(cn,co,cp){var cq;r.New.call(this);this.equals=co;this.hash=cp;this.data=[];this.count=0;cq=bg.Get(cn);try{while(cq.MoveNext())this.add(cq.Current());}finally{if(typeof cq=="object"&&"Dispose"in cq)cq.Dispose();}},be);be.New$2=ci.Ctor(function(cn){be.New$4.call(this,cn,z.Equals,z.Hash);},be);bf.Box=a.id;bg.Get=function(cn){return cn instanceof a.Array?bg.ArrayEnumerator(cn):z.Equals(typeof cn,"string")?bg.StringEnumerator(cn):cn.GetEnumerator();};bg.ArrayEnumerator=function(cn){return new bh.New(0,null,function(co){var cp;cp=co.s;return cp<S.length(cn)&&(co.c=S.get(cn,cp),co.s=cp+1,true);},void 0);};bg.StringEnumerator=function(cn){return new bh.New(0,null,function(co){var cp;cp=co.s;return cp<cn.length&&(co.c=cn[cp],co.s=cp+1,true);},void 0);};bg.Get0=function(cn){return cn instanceof a.Array?bg.ArrayEnumerator(cn):z.Equals(typeof cn,"string")?bg.StringEnumerator(cn):"GetEnumerator0"in cn?cn.GetEnumerator0():cn.GetEnumerator();};bh=bg.T=ci.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},r,bh);bh.New=ci.Ctor(function(cn,co,cp,cq){r.New.call(this);this.s=cn;this.c=co;this.n=cp;this.d=cq;},bh);bi=_0.WcSplitterT=ci.Class({connectedCallback:function(){var cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC;function cD(cL){var cM,cN,cO,cP;cM=cu?["padding-left","padding-right","grid-column-gap"]:["padding-top","padding-bottom","grid-row-gap"];cN=a.parseFloat("0"+cj(cL.parentElement.parentElement).css(cM[0]));cO=a.parseFloat("0"+cj(cL.parentElement.parentElement).css(cM[1]));cx.Set(a.parseFloat("0"+cj(cL.parentElement.parentElement).css(cM[2])));cw[0]=cN+cO;cP=cn.getBoundingClientRect();return cu?ct?[cP.width,cP.height]:[-cP.width,cP.height]:ct?[cP.height,cP.width]:[-cP.height,cP.width];}function cE(cL){return cu?cL.clientX:cL.clientY;}function cF(cL){var cM,cN;cM=(cE(cL)-cA[0])*100/cv[0][0]+cz[0];cs.Set((cN=z.Compare(cq,cM)===1?cq:cM,z.Compare(cr,cN)===-1?cr:cN));}function cG(){if(cy[0]){cy[0]=false;self.removeEventListener("mousemove",cF,false);self.removeEventListener("mouseup",cG,false);}}function cH(cL){var cM,cN;if(!cy[0]){cy[0]=true;cz[0]=cs.Get();cA[0]=cE(cL);cv[0]=(cM=(cN=cB[0],cN==null?null:{$:1,$0:cD(cN.$0)}),cM==null?[100,500]:cM.$0);self.addEventListener("mousemove",cF,false);self.addEventListener("mouseup",cG,false);cL.preventDefault();}}function cI(cL,cM,cN,cO){return[(cL-cM-cN)*cO/100,(cL-cM-cN)*(100-cO)/100];}function cJ(cL,cM){return(((((ci.Curried(function(cN,cO,cP,cQ,cR){return cN(" "+cO.toFixed(2)+"px "+cP.toFixed(2)+"px ; "+bd.toSafe(cQ)+" : "+cR.toFixed(2)+"px; ");},5))(a.id))(cL))(cM))(cu?"height":"width"))(cv[0][1]);}function cK(){var cL;cL=cB[0];cL==null?void 0:cv[0]=cD(cL.$0);cs.Set(cs.Get());}if(!this.added){cn=this;co=cn.attachShadow({mode:"open"});cp=self.document.createElement("div");cq=cn.hasAttribute("min")?a.parseFloat(cn.getAttribute("min")):4;cr=cn.hasAttribute("max")?a.parseFloat(cn.getAttribute("max")):96;cs=L.Create$1(cn.hasAttribute("value")?a.parseFloat(cn.getAttribute("value")):50);ct=!cn.hasAttribute("second");cu=cn.hasAttribute("vertical");cv=[[0,0]];cw=[0];cx=L.Create$1(0);cy=[false];cz=[0];cA=[0];cB=[null];cC=(((((cu?_0.layoutVertical():_0.layoutHorizontal())(N.Map(function(cL){var cM;cM=cI(cv[0][0],cx.Get(),cw[0],cL);return cJ.apply(null,cM);},cs.get_View())))(function(){bC.addResizeObserver(cK,cn);cK();}))(function(cL){cB[0]={$:1,$0:cL};cK();}))(function(cL){cH(cL);}))(N.Map(function(cL){return function(cM){return cL(bd.prettyPrint(cM)+"px");};}(a.id),cx.get_View()));q.LoadLocalTemplates("");s.Run(cp,cC);co.appendChild(cp.firstChild);this.added=true;}}},r,bi);bi.Constructor=function(){var cn,co;cn=(co=cl.construct(self.HTMLElement,[],this.__proto__.constructor),co);self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New.call(cn);return cn;};bi.New=ci.Ctor(function(){r.New.call(this);this.added=false;(function(cn){return cn("WcSplitterT initializer");}(function(cn){cg.log(cn);}));},bi);bj.$cctor=function(){bj.$cctor=a.ignore;bj.LoadedTemplates=new _3.New$5();bj.LocalTemplatesLoaded=false;bj.TextHoleRE="\\${([^}]+)}";};bk.ChildrenArray=function(cn){var co,cp,cq;co=[];for(cp=0,cq=cn.childNodes.length-1;cp<=cq;cp++)co.push(cn.childNodes[cp]);return co;};bk.CreateElement=function(cn){return bk.Doc().createElement(cn);};bk.IterSelector=function(cn,co,cp){var cq,cr,cs;cq=cn.querySelectorAll(co);for(cr=0,cs=cq.length-1;cr<=cs;cr++)cp(cq[cr]);};bk.Doc=function(){b1.$cctor();return b1.Doc;};bk.SetAttr=function(cn,co,cp){cn.setAttribute(co,cp);};bk.SetStyle=function(cn,co,cp){bk.SetProperty(cn.style,co,cp);};bk.InsertAt=function(cn,co,cp){var cq;if(!(cp.parentNode===cn&&co===(cq=cp.nextSibling,z.Equals(cq,null)?null:cq)))cn.insertBefore(cp,co);};bk.CreateText=function(cn){return bk.Doc().createTextNode(cn);};bk.SetProperty=function(cn,co,cp){return cn.setProperty(co,cp);};bk.RemoveClass=function(cn,co){var cp;bk.setClass(cn,(cp=bk.clsRE(co),bk.getClass(cn).replace(cp,function(cq,cr,cs){return cr===""||cs===""?"":" ";})));};bk.AddClass=function(cn,co){var cp;cp=bk.getClass(cn);cp===""?bk.setClass(cn,co):!bk.clsRE(co).test(cp)?bk.setClass(cn,cp+" "+co):void 0;};bk.RemoveNode=function(cn,co){if(co.parentNode===cn)cn.removeChild(co);};bk.setClass=function(cn,co){if(cn instanceof a.SVGElement)cn.setAttribute("class",co);else cn.className=co;};bk.getClass=function(cn){return cn instanceof a.SVGElement?cn.getAttribute("class"):cn.className;};bk.clsRE=function(cn){return new a.RegExp("(\\s+|^)"+cn+"(?:\\s+"+cn+")*(\\s+|$)","g");};N=o.View=ci.Class({},null,N);bl.get_UseAnimations=function(){return bN.UseAnimations();};bl.Play=function(cn){var co;co=null;return bS.Delay(function(){return bS.Bind(bl.Run(a.ignore,bN.Actions(cn)),function(){bN.Finalize(cn);return bS.Return(null);});});};bl.Append=function(cn,co){return{$:0,$0:bY.Append(cn.$0,co.$0)};};bl.Run=function(cn,co){var cp;function cq(cr){function cs(ct,cu){var cv;cv=cu-ct;co.Compute(cv);cn();return cv<=cp?void a.requestAnimationFrame(function(cw){cs(ct,cw);}):cr();}a.requestAnimationFrame(function(ct){cs(ct,ct);});}cp=co.Duration;return cp===0?bS.Zero():bS.FromContinuations(function(cr,cs,ct){return cq.apply(null,[cr,cs,ct]);});};bl.Concat=function(cn){return{$:0,$0:bY.Concat(Y.map(bN.List,cn))};};bl.get_Empty=function(){return{$:0,$0:bY.Empty()};};bm.BatchUpdatesEnabled=function(){bO.$cctor();return bO.BatchUpdatesEnabled;};bo.StartProcessor=function(cn){var co;function cp(){var cq;cq=null;return bS.Delay(function(){return bS.Bind(cn,function(){var cr;cr=co[0];return cr===1?(co[0]=0,bS.Zero()):cr===2?(co[0]=1,cp()):bS.Zero();});});}co=[0];return function(){var cq;cq=co[0];cq===0?(co[0]=1,bS.Start(cp(),null)):cq===1?co[0]=2:void 0;};};bp=o.AttrProxy=ci.Class({},null,bp);bp.Concat=function(cn){var co;co=bE.ofSeqNonCopying(cn);return bE.TreeReduce(bU.EmptyAttr(),bp.Append,co);};bp.Create=function(cn,co){return bU.Static(function(cp){bk.SetAttr(cp,cn,co);});};bp.Append=function(cn,co){return bU.AppendTree(cn,co);};bp.HandlerImpl=function(cn,co){return bU.Static(function(cp){cp.addEventListener(cn,function(cq){return(co(cp))(cq);},false);});};bp.Handler=function(cn,co){return bp.HandlerImpl(cn,co);};br=bq.attr=ci.Class({},r,br);bt=bs.Hoverable=ci.Class({Content:function(cn){return cn.on("mouseenter",function(){return bk.AddClass(cn.elt,"hovering");}).on("mouseleave",function(){return bk.RemoveClass(cn.elt,"hovering");});}},null,bt);bt.New$1=function(){return bt.New(L.Create$1(false));};bt.New=function(cn){return new bt({hover:cn});};bu=e.CancellationTokenSource=ci.Class({Cancel$1:function(){var cn;if(!this.c){this.c=true;cn=S.choose(function(co){try{co();return null;}catch(cp){return{$:1,$0:cp};}},this.r);if(S.length(cn)>0)throw new bR.New$3(cn);else void 0;}}},r,bu);bu.New=ci.Ctor(function(){r.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},bu);ba.Obsolete=function(cn){var co,cp,cq,cr,cs;cp=cn.s;if(cp==null||(cp!=null&&cp.$==2?(co=cp.$1,false):cp!=null&&cp.$==3?(co=cp.$1,false):true))void 0;else{cn.s=null;for(cq=0,cr=S.length(co)-1;cq<=cr;cq++){cs=S.get(co,cq);typeof cs=="object"?function(ct){ba.Obsolete(ct);}(cs):cs();}}};ba.New=function(cn){return{s:cn};};bv.InMemory=function(cn){return new bT.New(cn);};bw.Int=function(){bw.set_counter(bw.counter()+1);return bw.counter();};bw.set_counter=function(cn){b5.$cctor();b5.counter=cn;};bw.counter=function(){b5.$cctor();return b5.counter;};bw.Id=function(){bw.set_counter(bw.counter()+1);return"uid"+a.String(bw.counter());};by=o.CheckedInput=ci.Class({get_Input:function(){return this.$==1?this.$0:this.$==2?this.$0:this.$1;}},null,by);bz.notPresent=function(){return f.FailWith("The given key was not present in the dictionary.");};bC.addResizeObserver=function(cn,co){var cp,cq,cr,cs;try{cp=!(!a.ResizeObserver);}catch(ct){cp=false;}if(cp){cq=new a.ResizeObserver(cn);bC.set_observers(new E({$:1,$0:cq,$1:bC.observers()}));cq.observe(co);}else{cr=bC.dimsChanged(co);bS.Start((cs=null,bS.Delay(function(){return bS.While(function(){return co.isConnected;},bS.Delay(function(){return bS.Bind(bS.Sleep(110),function(){return cr()?(cn(),bS.Zero()):bS.Zero();});}));})),null);}};bC.set_observers=function(cn){n.$cctor();n.observers=cn;};bC.observers=function(){n.$cctor();return n.observers;};bC.dimsChanged=function(cn){var co;co=[cn.getBoundingClientRect()];return function(){var cp;cp=cn.getBoundingClientRect();return z.Equals(bC.domRect2Tuple(co[0]),bC.domRect2Tuple(cp))?false:(co[0]=cp,true);};};bC.domRect2Tuple=function(cn){return[cn.top,cn.left,cn.width,cn.height];};bD.Dynamic=function(cn,co){return bU.Dynamic(co,function(cp){return function(cq){return bk.SetAttr(cp,cn,cq);};});};bD.Handler=function(cn,co){return bU.Static(function(cp){cp.addEventListener(cn,function(cq){return(co(cp))(cq);},false);});};bD.DynamicStyle=function(cn,co){return bU.Dynamic(co,function(cp){return function(cq){return bk.SetStyle(cp,cn,cq);};});};bD.Style=function(cn,co){return bU.Static(function(cp){bk.SetStyle(cp,cn,co);});};bD.Value=function(cn){function co(cp){return{$:1,$0:cp};}return bD.CustomValue(cn,a.id,function(cp){return co(a.id(cp));});};bD.CustomValue=function(cn,co,cp){return bD.CustomVar(cn,function(cq,cr){cq.value=co(cr);},function(cq){return cp(cq.value);});};bD.CustomVar=function(cn,co,cp){function cq(cs,ct){return cn.UpdateMaybe(function(cu){var cv,cw;cv=cp(cs);return cv!=null&&cv.$==1&&(!z.Equals(cv.$0,cu)&&(cw=[cv,cv.$0],true))?cw[0]:null;});}function cr(cs,ct){var cu,cv;cu=cp(cs);return cu!=null&&cu.$==1&&(z.Equals(cu.$0,ct)&&(cv=cu.$0,true))?null:co(cs,ct);}return bp.Concat([bD.Handler("change",function(cs){return function(ct){return cq(cs,ct);};}),bD.Handler("input",function(cs){return function(ct){return cq(cs,ct);};}),bD.Handler("keypress",function(cs){return function(ct){return cq(cs,ct);};}),bD.DynamicCustom(function(cs){return function(ct){return cr(cs,ct);};},cn.get_View())]);};bD.OnAfterRender=function(cn){return new bp({$:4,$0:cn});};bD.Checked=function(cn){function co(cp,cq){return!z.Equals(cn.Get(),cp.checked)?cn.Set(cp.checked):null;}return bp.Concat([bD.DynamicProp("checked",cn.get_View()),bD.Handler("change",function(cp){return function(cq){return co(cp,cq);};})]);};bD.IntValue=function(cn){return bD.CustomVar(cn,function(co,cp){var cq;cq=cp.get_Input();return co.value!==cq?void(co.value=cq):null;},function(co){var cp,cq,cr;cp=co.value;return{$:1,$0:ce.isBlank(cp)?(co.checkValidity?co.checkValidity():true)?new by({$:2,$0:cp}):new by({$:1,$0:cp}):(cq=(cr=0,[A.TryParseInt32(cp,{get:function(){return cr;},set:function(cs){cr=cs;}}),cr]),cq[0]?new by({$:0,$0:cq[1],$1:cp}):new by({$:1,$0:cp}))};});};bD.IntValueUnchecked=function(cn){return bD.CustomValue(cn,a.String,function(co){var cp;return ce.isBlank(co)?{$:1,$0:0}:(cp=+co,cp!==cp>>0?null:{$:1,$0:cp});});};bD.FloatValue=function(cn){return bD.CustomVar(cn,function(co,cp){var cq;cq=cp.get_Input();return co.value!==cq?void(co.value=cq):null;},function(co){var cp,cq;cp=co.value;return{$:1,$0:ce.isBlank(cp)?(co.checkValidity?co.checkValidity():true)?new by({$:2,$0:cp}):new by({$:1,$0:cp}):(cq=+cp,a.isNaN(cq)?new by({$:1,$0:cp}):new by({$:0,$0:cq,$1:cp}))};});};bD.FloatValueUnchecked=function(cn){return bD.CustomValue(cn,a.String,function(co){var cp;return ce.isBlank(co)?{$:1,$0:0}:(cp=+co,a.isNaN(cp)?null:{$:1,$0:cp});});};bD.DynamicCustom=function(cn,co){return bU.Dynamic(co,cn);};bD.DynamicProp=function(cn,co){return bU.Dynamic(co,function(cp){return function(cq){cp[cn]=cq;};});};bE.ofSeqNonCopying=function(cn){var co,cp;if(cn instanceof a.Array)return cn;else if(cn instanceof E)return S.ofList(cn);else if(cn===null)return[];else{co=[];cp=bg.Get(cn);try{while(cp.MoveNext())co.push(cp.Current());return co;}finally{if(typeof cp=="object"&&"Dispose"in cp)cp.Dispose();}}};bE.TreeReduce=function(cn,co,cp){var cq;function cr(cs,ct){var cu,cv;return ct<=0?cn:ct===1&&(cs>=0&&cs<cq)?S.get(cp,cs):(cv=ct/2>>0,co(cr(cs,cv),cr(cs+cv,ct-cv)));}cq=S.length(cp);return cr(0,cq);};bE.mapInPlace=function(cn,co){var cp,cq;for(cp=0,cq=co.length-1;cp<=cq;cp++)co[cp]=cn(co[cp]);return co;};bE.MapTreeReduce=function(cn,co,cp,cq){var cr;function cs(ct,cu){var cv,cw;return cu<=0?co:cu===1&&(ct>=0&&ct<cr)?cn(S.get(cq,ct)):(cw=cu/2>>0,cp(cs(ct,cw),cs(ct+cw,cu-cw)));}cr=S.length(cq);return cs(0,cr);};bF.New=function(cn,co){return{lytName:cn,lytDefinition:co};};bG.convertTextNode=function(cn){var co,cp,cq,cr,cs,ct;co=null;cp=0;cr=cn.textContent;cs=new a.RegExp(q.TextHoleRE(),"g");while(co=cs.exec(cr),co!==null){cn.parentNode.insertBefore(self.document.createTextNode(x.string(cr,{$:1,$0:cp},{$:1,$0:cs.lastIndex-S.get(co,0).length-1})),cn);cp=cs.lastIndex;ct=self.document.createElement("span");ct.setAttribute("ws-replace",S.get(co,1).toLowerCase());cn.parentNode.insertBefore(ct,cn);}cs.lastIndex=0;cn.textContent=x.string(cr,{$:1,$0:cp},null);};bG.failNotLoaded=function(cn){cg.warn("Instantiating non-loaded template",cn);};bG.fillTextHole=function(cn,co,cp){var cq;cq=cn.querySelector("[ws-replace]");return z.Equals(cq,null)?(cg.warn("Filling non-existent text hole",cp),null):(cq.parentNode.replaceChild(new a.Text(co),cq),{$:1,$0:cq.getAttribute("ws-replace")});};bG.removeHolesExcept=function(cn,co){function cp(cq){bk.IterSelector(cn,"["+cq+"]",function(cr){if(!co.Contains(cr.getAttribute(cq)))cr.removeAttribute(cq);});}cp("ws-attr");cp("ws-onafterrender");cp("ws-var");bk.IterSelector(cn,"[ws-hole]",function(cq){if(!co.Contains(cq.getAttribute("ws-hole"))){cq.removeAttribute("ws-hole");while(cq.hasChildNodes())cq.removeChild(cq.lastChild);}});bk.IterSelector(cn,"[ws-replace]",function(cq){if(!co.Contains(cq.getAttribute("ws-replace")))cq.parentNode.removeChild(cq);});bk.IterSelector(cn,"[ws-on]",function(cq){cq.setAttribute("ws-on",w.concat(" ",S.filter(function(cr){return co.Contains(S.get(w.SplitChars(cr,[":"],1),1));},w.SplitChars(cq.getAttribute("ws-on"),[" "],1))));});bk.IterSelector(cn,"[ws-attr-holes]",function(cq){var cr,cs,ct,cu,cv;cr=w.SplitChars(cq.getAttribute("ws-attr-holes"),[" "],1);for(cs=0,ct=cr.length-1;cs<=ct;cs++){cu=S.get(cr,cs);cq.setAttribute(cu,(cv=new a.RegExp(q.TextHoleRE(),"g"),cq.getAttribute(cu).replace(cv,function(cw,cx){return co.Contains(cx)?cw:"";})));}});};bG.fillInstanceAttrs=function(cn,co){var cp,cq,cr,cs,ct;bG.convertAttrs(co);cp=co.nodeName.toLowerCase();cq=cn.querySelector("[ws-attr="+cp+"]");if(z.Equals(cq,null))cg.warn("Filling non-existent attr hole",cp);else{cq.removeAttribute("ws-attr");for(cr=0,cs=co.attributes.length-1;cr<=cs;cr++){ct=co.attributes.item(cr);ct.name==="class"&&cq.hasAttribute("class")?cq.setAttribute("class",cq.getAttribute("class")+" "+ct.nodeValue):cq.setAttribute(ct.name,ct.nodeValue);}}};bG.mapHoles=function(cn,co){function cp(cq){bk.IterSelector(cn,"["+cq+"]",function(cr){var cs,ct;cs=(ct=null,[co.TryGetValue(cr.getAttribute(cq).toLowerCase(),{get:function(){return ct;},set:function(cu){ct=cu;}}),ct]);cs[0]?cr.setAttribute(cq,cs[1]):void 0;});}cp("ws-hole");cp("ws-replace");cp("ws-attr");cp("ws-onafterrender");cp("ws-var");bk.IterSelector(cn,"[ws-on]",function(cq){cq.setAttribute("ws-on",w.concat(" ",S.map(function(cr){var cs,ct,cu;cs=w.SplitChars(cr,[":"],1);ct=(cu=null,[co.TryGetValue(S.get(cs,1),{get:function(){return cu;},set:function(cv){cu=cv;}}),cu]);return ct[0]?S.get(cs,0)+":"+ct[1]:cr;},w.SplitChars(cq.getAttribute("ws-on"),[" "],1))));});bk.IterSelector(cn,"[ws-attr-holes]",function(cq){var cr,cs,ct;cr=w.SplitChars(cq.getAttribute("ws-attr-holes"),[" "],1);for(cs=0,ct=cr.length-1;cs<=ct;cs++)(function(){var cu;function cv(cw,cx){var cy;cy=f.KeyValue(cx);return cw.replace(new a.RegExp("\\${"+cy[0]+"}","ig"),"${"+cy[1]+"}");}cu=S.get(cr,cs);return cq.setAttribute(cu,(((ci.Curried3(Y.fold))(cv))(cq.getAttribute(cu)))(co));}());});};bG.fill=function(cn,co,cp){while(true)if(cn.hasChildNodes())cp=co.insertBefore(cn.lastChild,cp);else return null;};bG.convertAttrs=function(cn){var cp,cq,cr,cs,ct,cu,cv,cw;function co(cx){var cy;cy=cn.getAttribute(cx);cy===null?void 0:cn.setAttribute(cx,cy.toLowerCase());}cp=cn.attributes;cq=[];cr=[];cs=[];for(ct=0,cu=cp.length-1;ct<=cu;ct++){cv=cp.item(ct);w.StartsWith(cv.nodeName,"ws-on")&&cv.nodeName!=="ws-onafterrender"&&cv.nodeName!=="ws-on"?(cq.push(cv.nodeName),cr.push(x.string(cv.nodeName,{$:1,$0:"ws-on".length},null)+":"+cv.nodeValue.toLowerCase())):!w.StartsWith(cv.nodeName,"ws-")&&(new a.RegExp(q.TextHoleRE())).test(cv.nodeValue)?(cv.nodeValue=(cw=new a.RegExp(q.TextHoleRE(),"g"),cv.nodeValue.replace(cw,function(cx,cy){return"${"+cy.toLowerCase()+"}";})),cs.push(cv.nodeName)):void 0;}!(cr.length==0)?cn.setAttribute("ws-on",w.concat(" ",cr)):void 0;!(cs.length==0)?cn.setAttribute("ws-attr-holes",w.concat(" ",cs)):void 0;co("ws-hole");co("ws-replace");co("ws-attr");co("ws-onafterrender");co("ws-var");S.iter(function(cx){cn.removeAttribute(cx);},cq);};Y.insufficient=function(){return f.FailWith("The input sequence has an insufficient number of elements.");};Y.nonNegative=function(){return f.FailWith("The input must be non-negative.");};bH=_2.KeyCollection=ci.Class({GetEnumerator$1:function(){return bg.Get(Y.map(function(cn){return cn.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},r,bH);bH.New=ci.Ctor(function(cn){r.New.call(this);this.d=cn;},bH);bI=o.DocElemNode=ci.Class({Equals:function(cn){return this.ElKey===cn.ElKey;},GetHashCode:function(){return this.ElKey;}},null,bI);bI.New=function(cn,co,cp,cq,cr,cs){var ct;return new bI((ct={Attr:cn,Children:co,El:cq,ElKey:cr},(ci.SetOptional(ct,"Delimiters",cp),ci.SetOptional(ct,"Render",cs),ct)));};bL.New=function(cn,co){return{PreviousNodes:cn,Top:co};};bM.get_Empty=function(){return{$:0,$0:new be.New$3()};};bM.FindAll=function(cn){var co;function cp(cr){if(cr!=null&&cr.$==0){cp(cr.$0);cp(cr.$1);}else if(cr!=null&&cr.$==1)cq(cr.$0);else if(cr!=null&&cr.$==2)cp(cr.$0.Current);else if(cr!=null&&cr.$==6)S.iter(cq,cr.$0.Holes);}function cq(cr){co.push(cr);cp(cr.Children);}co=[];cp(cn);return{$:0,$0:new be.New$2(co)};};bM.Filter=function(cn,co){return{$:0,$0:b9.Filter(cn,co.$0)};};bM.Except=function(cn,co){return{$:0,$0:b9.Except(cn.$0,co.$0)};};bM.ToArray=function(cn){return b9.ToArray(cn.$0);};bM.Intersect=function(cn,co){return{$:0,$0:b9.Intersect(cn.$0,co.$0)};};bN.UseAnimations=function(){bX.$cctor();return bX.UseAnimations;};bN.Actions=function(cn){return bN.ConcatActions(S.choose(function(co){return co.$==1?{$:1,$0:co.$0}:null;},bY.ToArray(cn.$0)));};bN.Finalize=function(cn){S.iter(function(co){if(co.$==0)co.$0();},bY.ToArray(cn.$0));};bN.ConcatActions=function(cn){var co,cp,cq,cr;co=bE.ofSeqNonCopying(cn);cp=S.length(co);return cp===0?bN.Const():cp===1?S.get(co,0):(cq=Y.max(Y.map(function(cs){return cs.Duration;},co)),(cr=S.map(function(cs){return bN.Prolong(cq,cs);},co),bN.Def(cq,function(cs){S.iter(function(ct){ct.Compute(cs);},cr);})));};bN.List=function(cn){return cn.$0;};bN.Const=function(cn){return bN.Def(0,function(){return cn;});};bN.Def=function(cn,co){return{Compute:co,Duration:cn};};bN.Prolong=function(cn,co){var cp,cq,cr;cp=co.Compute;cq=co.Duration;cr=F.Create(function(){return co.Compute(co.Duration);});return{Compute:function(cs){return cs>=cq?cr.f():cp(cs);},Duration:cn};};bO.$cctor=function(){bO.$cctor=a.ignore;bO.BatchUpdatesEnabled=true;};bP=o.Elt=ci.Class({on:function(cn,co){var cp;cp=this;this.elt.addEventListener(cn,function(cq){return co(cp.elt,cq);},false);return this;}},s,bP);bP.New=function(cn,co,cp){var cq,cr;cq=_4.CreateElemNode(cn,co,cp.docNode);cr=b0.Create(cp.updates);return new bP.New$1({$:1,$0:cq},N.Map2Unit(bU.Updates(cq.Attr),cr.v),cn,cr);};bP.TreeNode=function(cn,co){var cp,cq;function cr(cs){return cs[1];}cp=b0.Create(co);return new bP.New$1({$:6,$0:cn},N.Map2Unit((cq=S.map(function(cs){return bU.Updates(cr(cs));},cn.Attrs),bE.TreeReduce(N.Const(),N.Map2Unit,cq)),cp.v),S.get(cn.Els,0),cp);};bP.New$1=ci.Ctor(function(cn,co,cp,cq){s.New.call(this,cn,co);this.docNode$1=cn;this.updates$1=co;this.elt=cp;this.rvUpdates=cq;},bP);bR=e.AggregateException=ci.Class({},bQ,bR);bR.New$3=ci.Ctor(function(cn){bR.New$4.call(this,"One or more errors occurred.",cn);},bR);bR.New$4=ci.Ctor(function(cn,co){this.message=cn;bx.setPrototypeOf(this,bR.prototype);this.innerExceptions=co;},bR);bS.Start=function(cn,co){var cp,cq;cp=(cq=(bS.defCTS())[0],co==null?cq:co.$0);bS.scheduler().Fork(function(){if(!cp.c)cn(b3.New(function(cr){if(cr.$==1)bS.UncaughtAsyncError(cr.$0);},cp));});};bS.Delay=function(cn){return function(co){try{(cn(null))(co);}catch(cp){co.k({$:1,$0:cp});}};};bS.Bind=function(cn,co){return bS.checkCancel(function(cp){cn(b3.New(function(cq){var cr;if(cq.$==0){cr=cq.$0;bS.scheduler().Fork(function(){try{(co(cr))(cp);}catch(cs){cp.k({$:1,$0:cs});}});}else bS.scheduler().Fork(function(){cp.k(cq);});},cp.ct));});};bS.Sleep=function(cn){return function(co){var cp,cq;cp=void 0;cq=void 0;cp=a.setTimeout(function(){cq.Dispose();bS.scheduler().Fork(function(){co.k({$:0,$0:null});});},cn);cq=bS.Register(co.ct,function(){a.clearTimeout(cp);bS.scheduler().Fork(function(){bS.cancel(co);});});};};bS.Zero=function(){b4.$cctor();return b4.Zero;};bS.Return=function(cn){return function(co){co.k({$:0,$0:cn});};};bS.defCTS=function(){b4.$cctor();return b4.defCTS;};bS.UncaughtAsyncError=function(cn){cg.log("WebSharper: Uncaught asynchronous exception",cn);};bS.checkCancel=function(cn){return function(co){if(co.ct.c)bS.cancel(co);else cn(co);};};bS.Register=function(cn,co){var cp;return cn===bS.noneCT()?{Dispose:function(){return null;}}:(cp=cn.r.push(co)-1,{Dispose:function(){return S.set(cn.r,cp,a.ignore);}});};bS.cancel=function(cn){cn.k({$:2,$0:new ca.New(cn.ct)});};bS.While=function(cn,co){return cn()?bS.Bind(co,function(){return bS.While(cn,co);}):bS.Return();};bS.FromContinuations=function(cn){return function(co){var cp;function cq(cr){if(cp[0])f.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{cp[0]=true;bS.scheduler().Fork(cr);}}cp=[false];cn(function(cr){cq(function(){co.k({$:0,$0:cr});});},function(cr){cq(function(){co.k({$:1,$0:cr});});},function(cr){cq(function(){co.k({$:2,$0:cr});});});};};bS.scheduler=function(){b4.$cctor();return b4.scheduler;};bS.noneCT=function(){b4.$cctor();return b4.noneCT;};bT=bv.ArrayStorage=ci.Class({SSetAt:function(cn,co,cp){S.set(cp,cn,co);return cp;},SAppend:function(cn,co){co.push(cn);return co;}},r,bT);bT.New=ci.Ctor(function(cn){r.New.call(this);this.init=cn;},bT);bU.Static=function(cn){return new bp({$:3,$0:cn});};bU.Dynamic=function(cn,co){return new bp({$:1,$0:new b6.New(cn,co)});};bU.Insert=function(cn,co){var cp,cq,cr;function cs(ct){if(!(ct===null))if(ct!=null&&ct.$==1)cp.push(ct.$0);else if(ct!=null&&ct.$==2){cs(ct.$0);cs(ct.$1);}else if(ct!=null&&ct.$==3)ct.$0(cn);else if(ct!=null&&ct.$==4)cq.push(ct.$0);}cp=[];cq=[];cs(co);cr=cp.slice(0);return bW.New(cn,bU.Flags(co),cr,cq.length===0?null:{$:1,$0:function(ct){Y.iter(function(cu){cu(ct);},cq);}});};bU.EmptyAttr=function(){b7.$cctor();return b7.EmptyAttr;};bU.HasExitAnim=function(cn){var co;co=2;return(cn.DynFlags&co)===co;};bU.GetExitAnim=function(cn){return bU.GetAnim(cn,function(co,cp){return co.NGetExitAnim(cp);});};bU.HasEnterAnim=function(cn){var co;co=1;return(cn.DynFlags&co)===co;};bU.GetEnterAnim=function(cn){return bU.GetAnim(cn,function(co,cp){return co.NGetEnterAnim(cp);});};bU.HasChangeAnim=function(cn){var co;co=4;return(cn.DynFlags&co)===co;};bU.GetChangeAnim=function(cn){return bU.GetAnim(cn,function(co,cp){return co.NGetChangeAnim(cp);});};bU.Updates=function(cn){return bE.MapTreeReduce(function(co){return co.NChanged();},N.Const(),N.Map2Unit,cn.DynNodes);};bU.AppendTree=function(cn,co){var cp;return cn===null?co:co===null?cn:(cp=new bp({$:2,$0:cn,$1:co}),(bU.SetFlags(cp,bU.Flags(cn)|bU.Flags(co)),cp));};bU.Flags=function(cn){return cn!==null&&cn.hasOwnProperty("flags")?cn.flags:0;};bU.GetAnim=function(cn,co){return bl.Concat(S.map(function(cp){return co(cp,cn.DynElem);},cn.DynNodes));};bU.Sync=function(cn,co){S.iter(function(cp){cp.NSync(cn);},co.DynNodes);};bU.SetFlags=function(cn,co){cn.flags=co;};bU.Empty=function(cn){return bW.New(cn,0,[],null);};bW.New=function(cn,co,cp,cq){var cr;cr={DynElem:cn,DynFlags:co,DynNodes:cp};ci.SetOptional(cr,"OnAfterRender",cq);return cr;};bX.$cctor=function(){bX.$cctor=a.ignore;bX.CubicInOut=b8.Custom(function(cn){var co;co=cn*cn;return 3*co-2*(co*cn);});bX.UseAnimations=true;};bY.Append=function(cn,co){return cn.$==0?co:co.$==0?cn:{$:2,$0:cn,$1:co};};bY.ToArray=function(cn){var co;function cp(cq){if(cq.$==1)co.push(cq.$0);else if(cq.$==2){cp(cq.$0);cp(cq.$1);}else if(cq.$==3)S.iter(function(cr){co.push(cr);},cq.$0);}co=[];cp(cn);return co.slice(0);};bY.Concat=function(cn){var co;co=bE.ofSeqNonCopying(cn);return bE.TreeReduce(bY.Empty(),bY.Append,co);};bY.Empty=function(){cd.$cctor();return cd.Empty;};bZ=e.FormatException=ci.Class({},bQ,bZ);bZ.New$1=ci.Ctor(function(cn){this.message=cn;bx.setPrototypeOf(this,bZ.prototype);},bZ);b0=o.Updates=ci.Class({},null,b0);b0.Create=function(cn){var co;co=null;co=b0.New(cn,null,function(){var cp;cp=co.s;return cp===null?(cp=ba.Copy(co.c()),co.s=cp,ba.WhenObsoleteRun(cp,function(){co.s=null;}),cp):cp;});return co;};b0.New=function(cn,co,cp){return new b0({c:cn,s:co,v:cp});};b1.$cctor=function(){b1.$cctor=a.ignore;b1.Doc=self.document;};b2.New=function(cn,co){return{c:cn,r:co};};b3.New=function(cn,co){return{k:cn,ct:co};};b4.$cctor=function(){b4.$cctor=a.ignore;b4.noneCT=b2.New(false,[]);b4.scheduler=new b$.New();b4.defCTS=[new bu.New()];b4.Zero=bS.Return();b4.GetCT=function(cn){cn.k({$:0,$0:cn.ct});};};b5.$cctor=function(){b5.$cctor=a.ignore;b5.counter=0;};b6=o.DynamicAttrNode=ci.Class({NGetExitAnim:function(cn){return bl.get_Empty();},NGetEnterAnim:function(cn){return bl.get_Empty();},NGetChangeAnim:function(cn){return bl.get_Empty();},NChanged:function(){return this.updates;},NSync:function(cn){if(this.dirty){(this.push(cn))(this.value);this.dirty=false;}}},r,b6);b6.New=ci.Ctor(function(cn,co){var cp;cp=this;r.New.call(this);this.push=co;this.value=void 0;this.dirty=false;this.updates=N.Map(function(cq){cp.value=cq;cp.dirty=true;},cn);},b6);g.REGEX$1=function(cn,co,cp){var cq;if(cp===null)return null;else try{cq=(new a.String(cp)).match(new a.RegExp(cn,co));return z.Equals(cq,null)?null:!z.Equals(cq,null)&&cq.length===0?null:{$:1,$0:cq};}catch(cr){return null;}};b7.$cctor=function(){b7.$cctor=a.ignore;b7.EmptyAttr=null;};b8=o.Easing=ci.Class({},r,b8);b8.Custom=function(cn){return new b8.New(cn);};b8.New=ci.Ctor(function(cn){r.New.call(this);this.transformTime=cn;},b8);b9.Filter=function(cn,co){return new be.New$2(S.filter(cn,b9.ToArray(co)));};b9.Except=function(cn,co){var cp;cp=new be.New$2(b9.ToArray(co));cp.ExceptWith(b9.ToArray(cn));return cp;};b9.ToArray=function(cn){var co;co=S.create(cn.get_Count(),void 0);cn.CopyTo(co);return co;};b9.Intersect=function(cn,co){var cp;cp=new be.New$2(b9.ToArray(cn));cp.IntersectWith(b9.ToArray(co));return cp;};b_.concat=function(cn){var co,cp;co=[];for(var cq in cn)co.push.apply(co,cn[cq]);return co;};b$=bS.Scheduler=ci.Class({Fork:function(cn){var co;co=this;this.robin.push(cn);this.idle?(this.idle=false,a.setTimeout(function(){co.tick();},0)):void 0;},tick:function(){var cn,co,cp;co=this;cp=cm.now();cn=true;while(cn)if(this.robin.length===0){this.idle=true;cn=false;}else{(this.robin.shift())();cm.now()-cp>40?(a.setTimeout(function(){co.tick();},0),cn=false):void 0;}}},r,b$);b$.New=ci.Ctor(function(){r.New.call(this);this.idle=true;this.robin=[];},b$);ca=e.OperationCanceledException=ci.Class({},bQ,ca);ca.New=ci.Ctor(function(cn){ca.New$1.call(this,"The operation was canceled.",null,cn);},ca);ca.New$1=ci.Ctor(function(cn,co,cp){this.message=cn;this.inner=co;bx.setPrototypeOf(this,ca.prototype);this.ct=cp;},ca);cb.Clear=function(cn){cn.splice(0,S.length(cn));};cc.Children=function(cn,co){var cp,cq,cr;if(co!=null&&co.$==1){cr=[];cp=co.$0[0].nextSibling;while(cp!==co.$0[1]){cr.push(cp);cp=cp.nextSibling;}return{$:0,$0:cr};}else return{$:0,$0:S.init(cn.childNodes.length,(cq=cn.childNodes,function(cs){return cq[cs];}))};};cc.Except=function(cn,co){var cp;cp=cn.$0;return{$:0,$0:S.filter(function(cq){return S.forall(function(cr){return!(cq===cr);},cp);},co.$0)};};cc.Iter=function(cn,co){S.iter(cn,co.$0);};cc.DocChildren=function(cn){var co;function cp(cq){if(cq!=null&&cq.$==2)cp(cq.$0.Current);else if(cq!=null&&cq.$==1)co.push(cq.$0.El);else if(cq==null);else if(cq!=null&&cq.$==5)co.push(cq.$0);else if(cq!=null&&cq.$==4)co.push(cq.$0.Text);else if(cq!=null&&cq.$==6)S.iter(function(cr){if(cr==null||cr.constructor===bx)cp(cr);else co.push(cr);},cq.$0.Els);else{cp(cq.$0);cp(cq.$1);}}co=[];cp(cn.Children);return{$:0,$0:bE.ofSeqNonCopying(co)};};cd.$cctor=function(){cd.$cctor=a.ignore;cd.Empty={$:0};};ce.isBlank=function(cn){return w.forall(cf.IsWhiteSpace,cn);};cf.IsWhiteSpace=function(cn){return cn.match(new a.RegExp("\\s"))!==null;};ci.OnLoad(function(){d.main();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
//# sourceMappingURL=testing.min.map
