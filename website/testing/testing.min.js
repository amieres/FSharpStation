function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf;a=self;b=a.FsRoot=a.FsRoot||{};c=b.TestingJS=b.TestingJS||{};d=c.WSFrameworkTest=c.WSFrameworkTest||{};e=c.WSFramework=c.WSFramework||{};f=a.StartupCode$testing$testing=a.StartupCode$testing$testing||{};g=a.WebSharper=a.WebSharper||{};h=g.Obj=g.Obj||{};i=g.UI=g.UI||{};j=i.Var=i.Var||{};k=g.Operators=g.Operators||{};l=b.LibraryJS=b.LibraryJS||{};m=l.FShUI=l.FShUI||{};n=l.FShUI_AssemblyData=l.FShUI_AssemblyData||{};o=n.AssemblyRef=n.AssemblyRef||{};p=i.ListModel=i.ListModel||{};q=g.Seq=g.Seq||{};r=l.AssemblyUI=l.AssemblyUI||{};s=a.EventTarget;t=a.Node;u=g.JavaScript=g.JavaScript||{};v=u.JS=u.JS||{};w=i.Var$1=i.Var$1||{};x=u.Pervasives=u.Pervasives||{};y=i.Doc=i.Doc||{};z=g.Concurrency=g.Concurrency||{};A=m.LoadAsm=m.LoadAsm||{};B=a.StartupCode$FShUI$FShUI=a.StartupCode$FShUI$FShUI||{};C=g.Enumerator=g.Enumerator||{};D=C.T=C.T||{};E=g.Unchecked=g.Unchecked||{};F=l.WsComposition=l.WsComposition||{};G=F.DocComposition=F.DocComposition||{};H=F.LocalId=F.LocalId||{};I=F.HtmlElemTag=F.HtmlElemTag||{};J=i.Client=i.Client||{};K=J.Templates=J.Templates||{};L=a.WindowOrWorkerGlobalScope;M=i.ConcreteVar=i.ConcreteVar||{};N=i.Snap=i.Snap||{};O=i.AttrModule=i.AttrModule||{};P=i.View=i.View||{};Q=i.DomUtility=i.DomUtility||{};R=z.AsyncBody=z.AsyncBody||{};S=n.AssemblyDef=n.AssemblyDef||{};T=g.Arrays=g.Arrays||{};U=g.Utils=g.Utils||{};V=n.AssemblyName=n.AssemblyName||{};W=n.JSCode=n.JSCode||{};X=a.FSharp=a.FSharp||{};Y=X.Data=X.Data||{};Z=Y.Runtime=Y.Runtime||{};_0=Z.IO=Z.IO||{};_1=n.ModuleDef=n.ModuleDef||{};_2=n.ModuleName=n.ModuleName||{};_3=n.MethodDef=n.MethodDef||{};_4=n.TypeRef=n.TypeRef||{};_5=n.TypeName=n.TypeName||{};_6=n.MethodName=n.MethodName||{};_7=n.Resource=n.Resource||{};_8=g.Collections=g.Collections||{};_9=_8.Dictionary=_8.Dictionary||{};_=g.List=g.List||{};$=_.T=_.T||{};ba=b.Library=b.Library||{};bb=g.Slice=g.Slice||{};bc=F.Reference=F.Reference||{};bd=i.Array=i.Array||{};be=i.ViewBuilder=i.ViewBuilder||{};bf=i.Docs=i.Docs||{};bg=z.CT=z.CT||{};bh=i.Abbrev=i.Abbrev||{};bi=bh.Fresh=bh.Fresh||{};bj=i.AttrProxy=i.AttrProxy||{};bk=z.Scheduler=z.Scheduler||{};bl=g.Strings=g.Strings||{};bm=g.Data=g.Data||{};bn=bm.TxtRuntime=bm.TxtRuntime||{};bo=bm.Pervasives=bm.Pervasives||{};bp=a.Object;bq=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};br=i.Storage=i.Storage||{};bs=a.Error;bt=g.OperationCanceledException=g.OperationCanceledException||{};bu=i.FromView=i.FromView||{};bv=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};bw=_8.HashSet=_8.HashSet||{};bx=i.An=i.An||{};by=J.Settings=J.Settings||{};bz=bh.Mailbox=bh.Mailbox||{};bA=i.Elt=i.Elt||{};bB=i.DocElemNode=i.DocElemNode||{};bC=a.CharacterData;bD=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};bE=a.System=a.System||{};bF=bE.Guid=bE.Guid||{};bG=g.CancellationTokenSource=g.CancellationTokenSource||{};bH=br.ArrayStorage=br.ArrayStorage||{};bI=i.HtmlModule=i.HtmlModule||{};bJ=bI.attr=bI.attr||{};bK=_8.DictionaryUtil=_8.DictionaryUtil||{};bL=K.Prepare=K.Prepare||{};bM=_8.KeyCollection=_8.KeyCollection||{};bN=J.Docs=J.Docs||{};bO=bN.RunState=bN.RunState||{};bP=bN.NodeSet=bN.NodeSet||{};bQ=i.Anims=i.Anims||{};bR=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};bS=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};bT=i.Updates=i.Updates||{};bU=i.Attrs=i.Attrs||{};bV=J.Attrs=J.Attrs||{};bW=bV.Dyn=bV.Dyn||{};bX=g.AggregateException=g.AggregateException||{};bY=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};bZ=i.AppendList=i.AppendList||{};b0=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};b1=i.Easing=i.Easing||{};b2=bh.HashSet=bh.HashSet||{};b3=_8.HashSetUtil=_8.HashSetUtil||{};b4=i.DynamicAttrNode=i.DynamicAttrNode||{};b5=g.Queue=g.Queue||{};b6=bN.DomNodes=bN.DomNodes||{};b7=g.Lazy=g.Lazy||{};b8=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};b9=g.LazyExtensionsProxy=g.LazyExtensionsProxy||{};b_=b9.LazyRecord=b9.LazyRecord||{};b$=a.IntelliFactory;ca=b$&&b$.Runtime;cb=a.console;cc=a.JSON;cd=a.jQuery;ce=a.Date;cf=a.Math;d.testVar=function(){f.$cctor();return f.testVar;};d.testVarInput=function(){return y.Element("div",[],[y.Input([],d.testVar())]);};d.testVarOut=function(){return y.Element("div",[],[y.TextView(d.testVar().get_View())]);};d.mainDoc=function(){return y.Element("div",[],[y.Element("h1",[],[y.TextNode("Hello WSFramework")]),d.testVarInput(),d.testVarOut()]);};e.main=function(){var cg;z.Start((cg=null,z.Delay(function(){var ch;ch=m.assemblies();return z.Bind(m.loadAssembly(new o({$:0,$0:"FShUI.asm"})),function(){m.assemblies().Set(q.append((m.assemblies())["var"].Get(),ch["var"].Get()));return z.Bind(z.Sleep(50),function(){var ci,cj;ci=y.Element("div",[],[r.mainDocInput(),r.assembliesDoc(),y.Element("div",[],[r.mainSubDoc()])]);cj=self.document.body;K.LoadLocalTemplates("");y.Run(cj,ci);return z.Return(null);});});})),null);};f.$cctor=function(){f.$cctor=a.ignore;f.testVar=w.Create$1("Hello WSFrameWork");};h=g.Obj=ca.Class({Equals:function(cg){return this===cg;},GetHashCode:function(){return -1;}},null,h);h.New=ca.Ctor(function(){},h);j=i.Var=ca.Class({},h,j);j.New=ca.Ctor(function(){h.New.call(this);},j);k.range=function(cg,ch){var ci;ci=1+ch-cg;return ci<=0?[]:q.init(ci,function(cj){return cj+cg;});};k.FailWith=function(cg){throw new bs(cg);};k.KeyValue=function(cg){return[cg.K,cg.V];};m.loadAssembly=function(cg){var ch;ch=null;return z.Delay(function(){return z.Bind(m["loadAssembly'"](m.isLoaded,function(ci){m.loadDef(ci);},function(ci){return A.fetchAsmData(m.Folder(),ci);},cg),function(){m.restartAssemblies();return z.Zero();});});};m.assemblies=function(){B.$cctor();return B.assemblies;};m["loadAssembly'"]=function(cg,ch,ci,cj){var ck;ck=null;return z.Delay(function(){return cg(cj)?z.Zero():z.Bind(ci(cj),function(cl){return z.Bind(m["processAssembly'"](cg,ch,ci,cl),function(){return z.Return(null);});});});};m.isLoaded=function(cg){return m.assemblies().TryFind(function(ch){return E.Equals(ch.self,cg);})!=null;};m.loadDef=function(cg){var ch,ci,cj,ck;try{ch=cg.javaScripts;for(ci=0,cj=ch.length-1;ci<=cj;ci++){ck=T.get(ch,ci);a["eval"](((((ca.Curried(function(cl,cm,cn,co){return cl("console.log('loading "+U.toSafe(cm)+" "+U.toSafe(cn)+" ...');"+U.toSafe(co));},4))(a.id))(cg.name.get_Id()))(ck[0]))(ck[1].get_Id()));}m.assemblies().Append(cg);}catch(cl){((function(cm){return function(cn){return cm(U.prettyPrint(cn));};}(function(cm){cb.log(cm);}))(cl));}};m.Folder=function(){B.$cctor();return B.Folder;};m.restartAssemblies=function(){var cg;cg=T.ofSeq((m.assemblies())["var"].Get());m.assemblies().Set(cg);};m["processAssembly'"]=function(cg,ch,ci,cj){var ck;ck=null;return z.Delay(function(){return z.Combine(z.For(cj.resources,function(cl){var cm,cn,co;cm=self.document.createElement("div");cm.innerHTML=cl.get_Id();cn=cm.firstChild;co=self.document.createElement(cn.localName);return z.Combine(z.For(k.range(0,cn.attributes.length-1),function(cp){co.setAttribute(cn.attributes.item(cp).nodeName,cn.attributes.item(cp).nodeValue);return z.Zero();}),z.Delay(function(){self.document.head.appendChild(co);return z.Zero();}));}),z.Delay(function(){return z.Combine(z.For(cj.dependencies,function(cl){return z.Bind(m["loadAssembly'"](cg,ch,ci,cl),function(){return z.Return(null);});}),z.Delay(function(){ch(cj);return z.Zero();}));}));});};o=n.AssemblyRef=ca.Class({},null,o);p=i.ListModel=ca.Class({Set:function(cg){this["var"].Set(this.storage.SSet(cg));this.ObsoleteAll();},ObsoleteAll:function(){q.iter(function(cg){N.Obsolete(cg.V);},this.it);this.it.Clear();},TryFind:function(cg){return T.tryFind(cg,this["var"].Get());},TryFindByKeyAsView:function(cg){var ch;ch=this;return function(){var ci,cj,ck;ci=(cj=null,[ch.it.TryGetValue(cg,{get:function(){return cj;},set:function(cl){cj=cl;}}),cj]);return ci[0]?ci[1]:(ck=N.New({$:2,$0:ch.TryFindByKey(cg),$1:[]}),(ch.it.Add(cg,ck),ck));};},Append:function(cg){var ch,ci,cj,ck;ch=this;ci=this["var"].Get();cj=this.key(cg);ck=T.tryFindIndex(function(cl){return E.Equals(ch.key(cl),cj);},ci);ck!=null&&ck.$==1?this["var"].Set(this.storage.SSetAt(ck.$0,cg,ci)):this["var"].Set(this.storage.SAppend(cg,ci));this.ObsoleteKey(cj);},TryFindByKey:function(cg){var ch;ch=this;return T.tryFind(function(ci){return E.Equals(ch.key(ci),cg);},this["var"].Get());},ObsoleteKey:function(cg){var ch,ci;ch=(ci=null,[this.it.TryGetValue(cg,{get:function(){return ci;},set:function(cj){ci=cj;}}),ci]);ch[0]?(N.Obsolete(ch[1]),this.it.Remove(cg)):void 0;},GetEnumerator:function(){return C.Get(this["var"].Get());},GetEnumerator0:function(){return C.Get0(this["var"].Get());}},h,p);p.New=ca.Ctor(function(cg,ch){p.New$3.call(this,cg,w.Create$1(T.ofSeq(q.distinctBy(cg,ch.SInit()))),ch);},p);p.New$3=ca.Ctor(function(cg,ch,ci){h.New.call(this);this.key=cg;this["var"]=ch;this.storage=ci;this.v=P.Map(function(cj){return cj.slice();},this["var"].get_View());this.it=new _9.New$5();},p);q.append=function(cg,ch){return{GetEnumerator:function(){var ci,cj;ci=C.Get(cg);cj=[true];return new D.New(ci,null,function(ck){var cl;return ck.s.MoveNext()?(ck.c=ck.s.Current(),true):(cl=ck.s,!E.Equals(cl,null)?cl.Dispose():void 0,ck.s=null,cj[0]&&(cj[0]=false,ck.s=C.Get(ch),ck.s.MoveNext()?(ck.c=ck.s.Current(),true):(ck.s.Dispose(),ck.s=null,false)));},function(ck){var cl;cl=ck.s;!E.Equals(cl,null)?cl.Dispose():void 0;});}};};q.iter=function(cg,ch){var ci;ci=C.Get(ch);try{while(ci.MoveNext())cg(ci.Current());}finally{if(typeof ci=="object"&&"Dispose"in ci)ci.Dispose();}};q.delay=function(cg){return{GetEnumerator:function(){return C.Get(cg());}};};q.collect=function(cg,ch){return q.concat(q.map(cg,ch));};q.mapFold=function(cg,ch,ci){return T.mapFold(cg,ch,T.ofSeq(ci));};q.sortBy=function(cg,ch){return q.delay(function(){var ci;ci=T.ofSeq(ch);T.sortInPlaceBy(cg,ci);return ci;});};q.map=function(cg,ch){return{GetEnumerator:function(){var ci;ci=C.Get(ch);return new D.New(null,null,function(cj){return ci.MoveNext()&&(cj.c=cg(ci.Current()),true);},function(){ci.Dispose();});}};};q.isEmpty=function(cg){var ch;ch=C.Get(cg);try{return!ch.MoveNext();}finally{if(typeof ch=="object"&&"Dispose"in ch)ch.Dispose();}};q.head=function(cg){var ch;ch=C.Get(cg);try{return ch.MoveNext()?ch.Current():q.insufficient();}finally{if(typeof ch=="object"&&"Dispose"in ch)ch.Dispose();}};q.init=function(cg,ch){return q.take(cg,q.initInfinite(ch));};q.concat=function(cg){return{GetEnumerator:function(){var ch;ch=C.Get(cg);return new D.New(null,null,function(ci){var cj;while(true){cj=ci.s;if(E.Equals(cj,null)){if(ch.MoveNext()){ci.s=C.Get(ch.Current());ci=ci;}else{ch.Dispose();return false;}}else if(cj.MoveNext()){ci.c=cj.Current();return true;}else{ci.Dispose();ci.s=null;ci=ci;}}},function(ci){var cj;cj=ci.s;!E.Equals(cj,null)?cj.Dispose():void 0;!E.Equals(ch,null)?ch.Dispose():void 0;});}};};q.filter=function(cg,ch){return{GetEnumerator:function(){var ci;ci=C.Get(ch);return new D.New(null,null,function(cj){var ck,cl,cm;ck=ci.MoveNext();cl=ci.Current();cm=false;while(ck)if(cg(cl)){cj.c=cl;cm=true;ck=false;}else if(ci.MoveNext())cl=ci.Current();else ck=false;return cm;},function(){ci.Dispose();});}};};q.length=function(cg){var ch,ci;ch=0;ci=C.Get(cg);try{while(ci.MoveNext())ch=ch+1;return ch;}finally{if(typeof ci=="object"&&"Dispose"in ci)ci.Dispose();}};q.take=function(cg,ch){cg<0?q.nonNegative():void 0;return{GetEnumerator:function(){var ci;ci=[C.Get(ch)];return new D.New(0,null,function(cj){var ck;cj.s=cj.s+1;return cj.s>cg?false:(ck=ci[0],E.Equals(ck,null)?q.insufficient():ck.MoveNext()?(cj.c=ck.Current(),cj.s===cg?(ck.Dispose(),ci[0]=null):void 0,true):(ck.Dispose(),ci[0]=null,q.insufficient()));},function(){var cj;cj=ci[0];!E.Equals(cj,null)?cj.Dispose():void 0;});}};};q.initInfinite=function(cg){return{GetEnumerator:function(){return new D.New(0,null,function(ch){ch.c=cg(ch.s);ch.s=ch.s+1;return true;},void 0);}};};q.distinctBy=function(cg,ch){return{GetEnumerator:function(){var ci,cj;ci=C.Get(ch);cj=new bw.New$3();return new D.New(null,null,function(ck){var cl,cm;if(ci.MoveNext()){cl=ci.Current();cm=cj.Add(cg(cl));while(!cm&&ci.MoveNext()){cl=ci.Current();cm=cj.Add(cg(cl));}return cm&&(ck.c=cl,true);}else return false;},function(){ci.Dispose();});}};};q.fold=function(cg,ch,ci){var cj,ck;cj=ch;ck=C.Get(ci);try{while(ck.MoveNext())cj=cg(cj,ck.Current());return cj;}finally{if(typeof ck=="object"&&"Dispose"in ck)ck.Dispose();}};q.max=function(cg){var ch,ci,cj;ch=C.Get(cg);try{if(!ch.MoveNext())q.seqEmpty();ci=ch.Current();while(ch.MoveNext()){cj=ch.Current();E.Compare(cj,ci)===1?ci=cj:void 0;}return ci;}finally{if(typeof ch=="object"&&"Dispose"in ch)ch.Dispose();}};q.seqEmpty=function(){return k.FailWith("The input sequence was empty.");};r.mainDocInput=function(){function cg(ch){r.mainDocNameVar().Set(ch);}return y.Element("div",[],[y.TextNode("mainDocNameVar:"),y.Button("Clear",[],function(){r.mainDocNameVar().Set(G.DOCEmpty);}),y.BindView(function(ch){return F.getUIDoc(cg,ch);},r.mainDocNameVar().get_View()),y.Button("Add text",[],function(){r.addDOC(new G({$:0,$0:new H({$:0,$0:"t1"}),$1:"Text"}));}),y.Button("Add html",[],function(){r.addDOC(new G({$:18,$0:{$:1,$0:new I({$:0,$0:"br"})},$1:[]}));})]);};r.assembliesDoc=function(){return y.Concat([y.Element("div",[],[y.Button("Load module:",[],function(){r.loadThisModule();}),y.Input([],r.thisModuleV())]),y.Button("Load F# Translator:",[],function(){r.loadFsTranslator();}),r.listAssembliesDoc(),r.currentAssembly(),r.styleDoc()]);};r.mainSubDoc=function(){B.$cctor();return B.mainSubDoc;};r.mainDocNameVar=function(){B.$cctor();return B.mainDocNameVar;};r.addDOC=function(cg){var ch,ci;ch=(ci=r.mainDocNameVar().Get(),ci.$==17?cg:ci.$==18?new G({$:18,$0:ci.$0,$1:ci.$1.concat([cg])}):new G({$:18,$0:null,$1:[ci,cg]}));r.mainDocNameVar().Set(ch);};r.loadThisModule=function(){z.Start(m.loadAssembly(new o({$:0,$0:r.thisModuleV().Get()})),null);};r.thisModuleV=function(){B.$cctor();return B.thisModuleV;};r.loadFsTranslator=function(){z.Start(m.loadAssembly(new o({$:0,$0:"WsTranslatorLoader.asm"})),null);};r.listAssembliesDoc=function(){var cg;function ch(ci,cj){return y.Element("tr",[],[y.Element("td",[r.click(function(){r.selectedAssembly().Set({$:1,$0:ci});})],[y.TextView(P.Map(function(ck){return ck.name.get_Id();},cj))])]);}return y.Element("table",[],[(cg=m.assemblies(),y.ConvertSeqBy(cg.key,function(ci){return function(cj){return ch(ci,cj);};},cg["var"].get_View()))]);};r.currentAssembly=function(){var cg;return y.BindView(a.id,(cg=P.get_Do(),P.Bind(function(ch){return ch!=null&&ch.$==1?P.Bind(function(ci){return ci!=null&&ci.$==1?P.Const(r.assemblyDoc(ci.$0)):P.Const(y.get_Empty());},m.assemblies().TryFindByKeyAsView(ch.$0)):P.Const(y.get_Empty());},r.selectedAssembly().get_View())));};r.styleDoc=function(){return y.Element("style",$.Empty,_.ofArray([y.TextNode("\r\n                            .wsfmwk-alternate > * :nth-child(even) {background: #CCF}\r\n                            .wsfmwk-alternate > * :nth-child(odd ) {background: #CFC}\r\n                            .wsfmwk-alternate td { border: white ; border-style: solid ; border-width: thin}\r\n                            .wsfmwk-alternate tr { border: white ; border-style: solid ; border-width: thin}\r\n                        ")]));};r.mainDocVar=function(){B.$cctor();return B.mainDocVar;};r.click=function(cg){return bj.HandlerImpl("click",function(){return function(){return cg();};});};r.selectedAssembly=function(){B.$cctor();return B.selectedAssembly;};r.assemblyDoc=function(cg){var ch,ci;function cj(cq,cr){return y.get_Empty();}function ck(cq,cr){var cs;return cr.retType.name.get_Id()==="View<string>"?(cs=new G({$:10,$0:new bc({$:1,$0:cq.name,$1:cr})}),y.Concat([r.showAdd("Add",cs),cs.GetDoc()])):r.showAdd("Add",new G({$:7,$0:new bc({$:1,$0:cq.name,$1:cr})}));}function cl(cq,cr){var cs,ct,cu;return cr.retType.name.get_Id()==="Var<string>"?(cs=new bc({$:1,$0:cq.name,$1:cr}),(ct=new G({$:12,$0:cs}),(cu=new G({$:13,$0:cs}),y.Concat([r.showAdd("Text",new G({$:11,$0:cs})),r.showAdd("Input",ct),r.showAdd("Area",cu),ct.GetDoc()])))):r.showAdd("Add",new G({$:8,$0:new bc({$:1,$0:cq.name,$1:cr})}));}function cm(cq,cr){var cs;return cr.retType.name.get_Id()==="string"?(cs=new G({$:9,$0:new bc({$:1,$0:cq.name,$1:cr})}),y.Concat([r.showAdd("Add",cs),cs.GetDoc()])):r.showAdd("Add",new G({$:6,$0:new bc({$:1,$0:cq.name,$1:cr})}));}function cn(cq,cr){return r.showAdd("Add",new G({$:14,$0:new bc({$:1,$0:cq.name,$1:cr})}));}function co(cq,cr){return r.showAdd("Add",new G({$:2,$0:new bc({$:1,$0:cq.name,$1:cr}),$1:cr.name.get_Id()}));}function cp(cq,cr){var cs;cs=cr[2];return[[cr[0],[cr[1],function(ct){return cs(ct)&&!cq(ct);}]],function(ct){return cs(ct)||cq(ct);}];}ch=T.ofSeq(q.map(function(cq){return cq[1];},q.sortBy(function(cq){return cq[0];},(ci=_.ofArray([[1,function(cq){return function(cr){return cl(cq,cr);};},function(cq){return bl.StartsWith(cq.retType.name.get_Id(),"Var<")&&cq.isField;}],[2,function(cq){return function(cr){return ck(cq,cr);};},function(cq){return bl.StartsWith(cq.retType.name.get_Id(),"View<")&&cq.isField;}],[3,function(cq){return function(cr){return cm(cq,cr);};},function(cq){return cq.retType.name.get_Id()!=="Doc"&&cq.isField&&!(cq.retType.name.get_Id().indexOf("->")!=-1);}],[0,function(cq){return function(cr){return cn(cq,cr);};},function(cq){return cq.retType.name.get_Id()==="Doc"&&(cq.isField||q.isEmpty(cq.parms));}],[1,function(cq){return function(cr){return co(cq,cr);};},function(cq){return cq.retType.name.get_Id()==="unit"&&!cq.isField&&q.isEmpty(cq.parms);}],[4,function(cq){return function(cr){return cj(cq,cr);};},function(){return true;}]]),(((ca.Curried3(q.mapFold))(cp))(function(){return false;}))(ci))[0])));return y.Concat([y.Element("h3",[],[y.TextNode(cg.name.get_Id())]),y.Element("div",[O.Class("wsfmwk-alternate")],_.ofSeq(q.delay(function(){return q.collect(function(cq){var cr;cr=cq[0];return[r.methodRows(cq[1],cg,function(cs,ct){return(cr(cs))(ct);})];},ch);})))]);};r.methodRows=function(cg,ch,ci){return y.Element("table",[bj.Create("style","font-family: monospace")],_.ofSeq(q.delay(function(){return q.collect(function(cj){var ck;ck=q.filter(cg,cj.methods);return q.length(ck)>0?[y.Element("tr",[],_.ofSeq(q.delay(function(){return[y.Element("td",[],_.ofSeq(q.delay(function(){return q.append([y.Element("b",[],[y.TextNode(cj.name.get_Id2())])],q.delay(function(){return q.collect(function(cl){var cm;return[y.Element("tr",[r.click(function(){r.selectedMethod().Set({$:1,$0:[cj.name,cl.name]});})],[y.Element("td",[],[y.TextNode(cl.name.get_Id())]),y.Element("td",[],[y.TextNode(cl.isField?"":(cm=bl.concat(", ",q.map(function(cn){return cn.name.get_Id();},cl.parms)),(function(cn){return function(co){return cn("("+U.toSafe(co)+")");};}(a.id))(cm)))]),y.Element("td",[r.nobr()],[y.TextNode(cl.isField?":":" -> ")]),y.Element("td",[],[y.TextNode(cl.retType.name.get_Id())]),y.Element("td",[],[ci(cj,cl)])])];},ck);}));})))];})))]:[];},ch.modules);})));};r.showAdd=function(cg,ch){return y.Button(cg,[],function(){r.addDOC(ch);});};r.nobr=function(){return bj.Create("style","white-space: nowrap");};r.selectedMethod=function(){B.$cctor();return B.selectedMethod;};v.GetFields=function(cg){var ch,ci;ch=[];for(var cj in cg)ch.push([cj,cg[cj]]);return ch;};v.GetFieldValues=function(cg){var ch,ci;ch=[];for(var cj in cg)ch.push(cg[cj]);return ch;};w=i.Var$1=ca.Class({},h,w);w.Create$1=function(cg){return new M.New(false,N.New({$:2,$0:cg,$1:[]}),cg);};w.Set=function(cg,ch){cg.Set(ch);};x.NewFromSeq=function(cg){var ch,ci,cj;ch={};ci=C.Get(cg);try{while(ci.MoveNext()){cj=ci.Current();ch[cj[0]]=cj[1];}}finally{if(typeof ci=="object"&&"Dispose"in ci)ci.Dispose();}return ch;};y=i.Doc=ca.Class({},h,y);y.Input=function(cg,ch){return y.InputInternal("input",function(){return q.append(cg,[O.Value(ch)]);});};y.TextNode=function(cg){return y.Mk({$:5,$0:Q.CreateText(cg)},P.Const());};y.Concat=function(cg){var ch;ch=bd.ofSeqNonCopying(cg);return bd.TreeReduce(y.get_Empty(),y.Append,ch);};y.Run=function(cg,ch){bf.LinkElement(cg,ch.docNode);y.RunInPlace(false,cg,ch);};y.Element=function(cg,ch,ci){var cj,ck;cj=bj.Concat(ch);ck=y.Concat(ci);return bA.New(Q.CreateElement(cg),cj,ck);};y.InputInternal=function(cg,ch){var ci;ci=Q.CreateElement(cg);return bA.New(ci,bj.Concat(ch(ci)),y.get_Empty());};y.TextView=function(cg){var ch;ch=bf.CreateTextNode();return y.Mk({$:4,$0:ch},P.Map(function(ci){bf.UpdateTextNode(ch,ci);},cg));};y.Mk=function(cg,ch){return new y.New(cg,ch);};y.Button=function(cg,ch,ci){var cj;cj=bj.Concat(ch);return bA.New(y.Clickable("button",ci),cj,y.TextNode(cg));};y.BindView=function(cg,ch){return y.EmbedView(P.Map(cg,ch));};y.Append=function(cg,ch){return y.Mk({$:0,$0:cg.docNode,$1:ch.docNode},P.Map2Unit(cg.updates,ch.updates));};y.get_Empty=function(){return y.Mk(null,P.Const());};y.RunInPlace=function(cg,ch,ci){var cj;cj=bf.CreateRunState(ch,ci.docNode);P.Sink(bx.get_UseAnimations()||by.BatchUpdatesEnabled()?bz.StartProcessor(bf.PerformAnimatedUpdate(cg,cj,ci.docNode)):function(){bf.PerformSyncUpdate(cg,cj,ci.docNode);},ci.updates);};y.Clickable=function(cg,ch){var ci;ci=Q.CreateElement(cg);ci.addEventListener("click",function(cj){cj.preventDefault();return ch();},false);return ci;};y.EmbedView=function(cg){var ch;ch=bf.CreateEmbedNode();return y.Mk({$:2,$0:ch},P.Map(a.ignore,P.Bind(function(ci){bf.UpdateEmbedNode(ch,ci.docNode);return ci.updates;},cg)));};y.InputArea=function(cg,ch){return y.InputInternal("textarea",function(){return q.append(cg,[O.Value(ch)]);});};y.ConvertSeqBy=function(cg,ch,ci){return y.Flatten(P.MapSeqCachedViewBy(cg,function(cj,ck){return(ch(cj))(ck);},ci));};y.Flatten=function(cg){return y.EmbedView(P.Map(y.Concat,cg));};y.New=ca.Ctor(function(cg,ch){h.New.call(this);this.docNode=cg;this.updates=ch;},y);z.Delay=function(cg){return function(ch){try{(cg(null))(ch);}catch(ci){ch.k({$:1,$0:ci});}};};z.Bind=function(cg,ch){return z.checkCancel(function(ci){cg(R.New(function(cj){var ck;if(cj.$==0){ck=cj.$0;z.scheduler().Fork(function(){try{(ch(ck))(ci);}catch(cl){ci.k({$:1,$0:cl});}});}else z.scheduler().Fork(function(){ci.k(cj);});},ci.ct));});};z.Sleep=function(cg){return function(ch){var ci,cj;ci=void 0;cj=void 0;ci=a.setTimeout(function(){cj.Dispose();z.scheduler().Fork(function(){ch.k({$:0,$0:null});});},cg);cj=z.Register(ch.ct,function(){a.clearTimeout(ci);z.scheduler().Fork(function(){z.cancel(ch);});});};};z.Return=function(cg){return function(ch){ch.k({$:0,$0:cg});};};z.Start=function(cg,ch){var ci,cj;ci=(cj=(z.defCTS())[0],ch==null?cj:ch.$0);z.scheduler().Fork(function(){if(!ci.c)cg(R.New(function(ck){if(ck.$==1)z.UncaughtAsyncError(ck.$0);},ci));});};z.checkCancel=function(cg){return function(ch){if(ch.ct.c)z.cancel(ch);else cg(ch);};};z.Zero=function(){bq.$cctor();return bq.Zero;};z.Register=function(cg,ch){var ci;return cg===z.noneCT()?{Dispose:function(){return null;}}:(ci=cg.r.push(ch)-1,{Dispose:function(){return T.set(cg.r,ci,a.ignore);}});};z.cancel=function(cg){cg.k({$:2,$0:new bt.New(cg.ct)});};z.defCTS=function(){bq.$cctor();return bq.defCTS;};z.UncaughtAsyncError=function(cg){cb.log("WebSharper: Uncaught asynchronous exception",cg);};z.scheduler=function(){bq.$cctor();return bq.scheduler;};z.noneCT=function(){bq.$cctor();return bq.noneCT;};z.Combine=function(cg,ch){return z.Bind(cg,function(){return ch;});};z.For=function(cg,ch){return z.Using(C.Get(cg),function(ci){return z.While(function(){return ci.MoveNext();},z.Delay(function(){return ch(ci.Current());}));});};z.FromContinuations=function(cg){return function(ch){var ci;function cj(ck){if(ci[0])k.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{ci[0]=true;z.scheduler().Fork(ck);}}ci=[false];cg(function(ck){cj(function(){ch.k({$:0,$0:ck});});},function(ck){cj(function(){ch.k({$:1,$0:ck});});},function(ck){cj(function(){ch.k({$:2,$0:ck});});});};};z.Using=function(cg,ch){return z.TryFinally(ch(cg),function(){cg.Dispose();});};z.While=function(cg,ch){return cg()?z.Bind(ch,function(){return z.While(cg,ch);}):z.Return();};z.TryFinally=function(cg,ch){return function(ci){cg(R.New(function(cj){try{ch();ci.k(cj);}catch(ck){ci.k({$:1,$0:ck});}},ci.ct));};};A.fetchAsmData=function(cg,ch){var ci,cj;ci=ch.$0;cj=null;return z.Delay(function(){return z.Bind(bn.AsyncMap(_0.asyncReadTextAtRuntime(false,"D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\Modules\\src","","JSON","",ci.indexOf("/")!=-1?ci:cg+ci),function(ck){return E.Equals(typeof ck,"string")?cc.parse(ck):ck;}),function(ck){var cl,cm,cn,co,cp,cq,cr;return z.Return((cl=new V({$:0,$0:(cn=(cm="asName",cm in ck?{$:1,$0:ck[cm]}:null),cn==null?null:cn.$0)}),(co=new o({$:0,$0:ci}),(cp=T.map(function(cs){var ct,cu,cv,cw;return[(cu=(ct="jsName",ct in cs?{$:1,$0:cs[ct]}:null),cu==null?null:cu.$0),new W({$:0,$0:(cw=(cv="code",cv in cs?{$:1,$0:cs[cv]}:null),cw==null?null:cw.$0)})];},ck.jsModules),(cq=T.map(function(cs){return new o({$:0,$0:cs});},ck.dependencies),(cr=T.map(function(cs){return new _7({$:0,$0:cs});},ck.resources),S.New(cl,co,T.map(function(cs){var ct,cu;return _1.New(new _2({$:0,$0:(cu=(ct="moName",ct in cs?{$:1,$0:cs[ct]}:null),cu==null?null:cu.$0)}),T.map(function(cv){var cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI;cw=new _6({$:0,$0:(cy=(cx="meName",cx in cv?{$:1,$0:cv[cx]}:null),cy==null?null:cy.$0)});cz=(cA=(cB="isField",cB in cv?{$:1,$0:cv[cB]}:null),(cC=cA==null?null:{$:1,$0:1*cA.$0},cC==null?null:cC.$0))===1;return _3.New(cw,_4.New(new _5({$:0,$0:(cF=(cD=cv.type,(cE="tName",cE in cD?{$:1,$0:cD[cE]}:null)),cF==null?null:cF.$0)}),new V({$:0,$0:(cI=(cG=cv.type,(cH="asm",cH in cG?{$:1,$0:cG[cH]}:null)),cI==null?null:cI.$0)})),T.map(function(cJ){var cK,cL,cM,cN;return _4.New(new _5({$:0,$0:(cL=(cK="tName",cK in cJ?{$:1,$0:cJ[cK]}:null),cL==null?null:cL.$0)}),new V({$:0,$0:(cN=(cM="asm",cM in cJ?{$:1,$0:cJ[cM]}:null),cN==null?null:cN.$0)}));},cv.parms),cz);},cs.methods));},ck.modules),cq,cr,cp)))))));});});};B.$cctor=function(){B.$cctor=a.ignore;B.currentNodeO=null;B.assemblies=p.Create(function(cg){return cg.name;},$.Empty);B.Folder="/EPFileX/Assemblies/";B.thisModuleV=w.Create$1("Covid.asm");B.selectedAssembly=w.Create$1(null);B.mainDocNameVar=w.Create$1(new G({$:0,$0:new H({$:0,$0:"NotInitialized"}),$1:"mainDocNameVar Not initialized yet"}));B.selectedMethod=w.Create$1(null);B.mainDocVar=w.Create$1(y.Element("h1",[],[y.TextNode("mainDocVar not initialized")]));P.Sink(function(cg){var ch;ch=cg.GetDoc();r.mainDocVar().Set(ch);},r.mainDocNameVar().get_View());B.mainSubDoc=y.BindView(a.id,r.mainDocVar().get_View());};C.Get=function(cg){return cg instanceof a.Array?C.ArrayEnumerator(cg):E.Equals(typeof cg,"string")?C.StringEnumerator(cg):cg.GetEnumerator();};C.ArrayEnumerator=function(cg){return new D.New(0,null,function(ch){var ci;ci=ch.s;return ci<T.length(cg)&&(ch.c=T.get(cg,ci),ch.s=ci+1,true);},void 0);};C.StringEnumerator=function(cg){return new D.New(0,null,function(ch){var ci;ci=ch.s;return ci<cg.length&&(ch.c=cg[ci],ch.s=ci+1,true);},void 0);};C.Get0=function(cg){return cg instanceof a.Array?C.ArrayEnumerator(cg):E.Equals(typeof cg,"string")?C.StringEnumerator(cg):"GetEnumerator0"in cg?cg.GetEnumerator0():cg.GetEnumerator();};D=C.T=ca.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},h,D);D.New=ca.Ctor(function(cg,ch,ci,cj){h.New.call(this);this.s=cg;this.c=ch;this.n=ci;this.d=cj;},D);E.Equals=function(cg,ch){var ci,cj,ck,cl;if(cg===ch)return true;else{ci=typeof cg;if(ci=="object"){if(cg===null||cg===void 0||ch===null||ch===void 0)return false;else if("Equals"in cg)return cg.Equals(ch);else if(cg instanceof a.Array&&ch instanceof a.Array)return E.arrayEquals(cg,ch);else if(cg instanceof a.Date&&ch instanceof a.Date)return E.dateEquals(cg,ch);else{cj=[true];for(var cm in cg)if(function(cn){cj[0]=!cg.hasOwnProperty(cn)||ch.hasOwnProperty(cn)&&E.Equals(cg[cn],ch[cn]);return!cj[0];}(cm))break;if(cj[0]){for(var cn in ch)if(function(co){cj[0]=!ch.hasOwnProperty(co)||cg.hasOwnProperty(co);return!cj[0];}(cn))break;}return cj[0];}}else return ci=="function"&&("$Func"in cg?cg.$Func===ch.$Func&&cg.$Target===ch.$Target:"$Invokes"in cg&&"$Invokes"in ch&&E.arrayEquals(cg.$Invokes,ch.$Invokes));}};E.arrayEquals=function(cg,ch){var ci,cj;if(T.length(cg)===T.length(ch)){ci=true;cj=0;while(ci&&cj<T.length(cg)){!E.Equals(T.get(cg,cj),T.get(ch,cj))?ci=false:void 0;cj=cj+1;}return ci;}else return false;};E.dateEquals=function(cg,ch){return cg.getTime()===ch.getTime();};E.Hash=function(cg){var ch;ch=typeof cg;return ch=="function"?0:ch=="boolean"?cg?1:0:ch=="number"?cg:ch=="string"?E.hashString(cg):ch=="object"?cg==null?0:cg instanceof a.Array?E.hashArray(cg):E.hashObject(cg):0;};E.Compare=function(cg,ch){var ci,cj,ck,cl,cm,cn;if(cg===ch)return 0;else{cj=typeof cg;switch(cj=="function"?1:cj=="boolean"?2:cj=="number"?2:cj=="string"?2:cj=="object"?3:0){case 0:return typeof ch=="undefined"?0:-1;case 1:return k.FailWith("Cannot compare function values.");case 2:return cg<ch?-1:1;case 3:if(cg===null)ck=-1;else if(ch===null)ck=1;else if("CompareTo"in cg)ck=cg.CompareTo(ch);else if("CompareTo0"in cg)ck=cg.CompareTo0(ch);else if(cg instanceof a.Array&&ch instanceof a.Array)ck=E.compareArrays(cg,ch);else if(cg instanceof a.Date&&ch instanceof a.Date)ck=E.compareDates(cg,ch);else{cl=[0];for(var co in cg)if(function(cp){return!cg.hasOwnProperty(cp)?false:!ch.hasOwnProperty(cp)?(cl[0]=1,true):(cl[0]=E.Compare(cg[cp],ch[cp]),cl[0]!==0);}(co))break;if(cl[0]===0){for(var cp in ch)if(function(cq){return!ch.hasOwnProperty(cq)?false:!cg.hasOwnProperty(cq)&&(cl[0]=-1,true);}(cp))break;}ck=cl[0];}return ck;}}};E.hashString=function(cg){var ch,ci,cj;if(cg===null)return 0;else{ch=5381;for(ci=0,cj=cg.length-1;ci<=cj;ci++)ch=E.hashMix(ch,cg[ci].charCodeAt());return ch;}};E.hashArray=function(cg){var ch,ci,cj;ch=-34948909;for(ci=0,cj=T.length(cg)-1;ci<=cj;ci++)ch=E.hashMix(ch,E.Hash(T.get(cg,ci)));return ch;};E.hashObject=function(cg){var ch,ci;if("GetHashCode"in cg)return cg.GetHashCode();else{ch=[0];for(var cj in cg)if(function(ck){ch[0]=E.hashMix(E.hashMix(ch[0],E.hashString(ck)),E.Hash(cg[ck]));return false;}(cj))break;return ch[0];}};E.compareArrays=function(cg,ch){var ci,cj;if(T.length(cg)<T.length(ch))return -1;else if(T.length(cg)>T.length(ch))return 1;else{ci=0;cj=0;while(ci===0&&cj<T.length(cg)){ci=E.Compare(T.get(cg,cj),T.get(ch,cj));cj=cj+1;}return ci;}};E.compareDates=function(cg,ch){return E.Compare(cg.getTime(),ch.getTime());};E.hashMix=function(cg,ch){return(cg<<5)+cg+ch;};G=F.DocComposition=ca.Class({GetDoc:function(){var cg,ch,ci,cj,ck,cl,cm,cn,co;function cp(cq,cr){return y.Element(cq.get_Id(),$.Empty,cr);}return this.$==1?y.TextView(this.$1.get_View()):this.$==2?y.Button(this.$1,[],this.$0.GetFunc()):this.$==3?y.TextNode((cg=(this.$0.GetFunc())(),(function(cq){return function(cr){return cq(a.String(cr));};}(a.id))(cg))):this.$==4?y.TextView((ch=(this.$0.GetFunc())(),P.Map(function(cq){return function(cr){return cq(a.String(cr));};}(a.id),ch))):this.$==5?y.TextView((ci=(this.$0.GetFunc())().get_View(),P.Map(function(cq){return function(cr){return cq(a.String(cr));};}(a.id),ci))):this.$==6?y.TextNode((cj=(this.$0.GetFunc())(),(function(cq){return function(cr){return cq(U.prettyPrint(cr));};}(a.id))(cj))):this.$==7?y.TextView((ck=(this.$0.GetFunc())(),P.Map(function(cq){return function(cr){return cq(U.prettyPrint(cr));};}(a.id),ck))):this.$==8?y.TextView((cl=(this.$0.GetFunc())().get_View(),P.Map(function(cq){return function(cr){return cq(U.prettyPrint(cr));};}(a.id),cl))):this.$==9?y.TextNode((this.$0.GetFunc())()):this.$==10?y.TextView((this.$0.GetFunc())()):this.$==11?y.TextView((this.$0.GetFunc())().get_View()):this.$==12?y.Input($.Empty,(this.$0.GetFunc())()):this.$==13?y.InputArea($.Empty,(this.$0.GetFunc())()):this.$==14?(this.$0.GetFunc())():this.$==15?y.EmbedView((this.$0.GetFunc())()):this.$==16?this.$1():this.$==17?y.get_Empty():this.$==18?(cm=(cn=this.$0,cn==null?null:{$:1,$0:(co=cn.$0,function(cq){return cp(co,cq);})}),(cm==null?y.Concat:cm.$0)(T.map(function(cq){return cq.GetDoc();},this.$1))):y.TextNode(this.$1);}},null,G);G.DOCEmpty=new G({$:17});F.getUIDoc=function(cg,ch){var ci,cj,ck,cl,cm,cn;function co(cp,cq){cg(new G({$:18,$0:cp,$1:cq}));}return ch.$==1?y.TextNode(ch.$0.get_Id()):ch.$==2?(ci=ch.$0,y.Input($.Empty,new bu.New(P.Const(ch.$1),ba.delayed(1000,function(cp){cg(new G({$:2,$0:ci,$1:cp}));})))):ch.$==3?y.TextNode(a.String(ch.$0)):ch.$==4?y.TextNode(a.String(ch.$0)):ch.$==5?y.TextNode(a.String(ch.$0)):ch.$==6?y.TextNode(a.String(ch.$0)):ch.$==7?y.TextNode(a.String(ch.$0)):ch.$==8?y.TextNode(a.String(ch.$0)):ch.$==9?y.TextNode(a.String(ch.$0)):ch.$==10?y.TextNode(a.String(ch.$0)):ch.$==11?y.TextNode(a.String(ch.$0)):ch.$==12?y.TextNode(a.String(ch.$0)):ch.$==13?y.TextNode(a.String(ch.$0)):ch.$==14?y.TextNode(a.String(ch.$0)):ch.$==15?y.TextNode(a.String(ch.$0)):ch.$==16?y.TextNode(ch.$0.get_Id()):ch.$==17?y.TextNode("Empty"):ch.$==18?(cj=ch.$0,(ck=ch.$1,(cl=new bu.New(P.Const((cm=cj==null?null:{$:1,$0:cj.$0.get_Id()},cm==null?"":cm.$0)),ba.delayed(1000,function(cp){var cq;cg(new G({$:18,$0:(cq=bl.Trim(cp),cq===""?null:{$:1,$0:new I({$:0,$0:cq})}),$1:ck}));})),y.Element("tr",[],[y.TextNode("Html "),y.Input([],cl),y.Element("table",$.Empty,T.mapi(function(cp,cq){return y.Element("tr",[],[y.Element("td",[],_.ofSeq(q.delay(function(){return cp>0?[y.Button("^",[],function(){co(cj,T.collect(a.id,[bb.array(ck,null,{$:1,$0:cp-2}),[cq,T.get(ck,cp-1)],bb.array(ck,{$:1,$0:cp+1},null)]));})]:[];}))),y.Element("td",[],_.ofSeq(q.delay(function(){return cp<T.length(ck)-1?[y.Button("v",[],function(){co(cj,T.collect(a.id,[bb.array(ck,null,{$:1,$0:cp-1}),[T.get(ck,cp+1),cq],bb.array(ck,{$:1,$0:cp+2},null)]));})]:[];}))),y.Element("td",[],[F.getUIDoc(function(cr){co(cj,T.collect(a.id,[bb.array(ck,null,{$:1,$0:cp-1}),[cr],bb.array(ck,{$:1,$0:cp+1},null)]));},cq)]),y.Element("td",[],_.ofSeq(q.delay(function(){return[y.Button("x",[],function(){co(cj,T.collect(a.id,[bb.array(ck,null,{$:1,$0:cp-1}),bb.array(ck,{$:1,$0:cp+1},null)]));})];})))]);},ck))])))):(cn=ch.$0,y.Input($.Empty,new bu.New(P.Const(ch.$1),ba.delayed(1000,function(cp){var cq;cq=bl.Trim(cp);cq===""?void 0:new I({$:0,$0:cq});cg(new G({$:0,$0:cn,$1:cp}));}))));};H=F.LocalId=ca.Class({get_Id:function(){return this.$0;}},null,H);I=F.HtmlElemTag=ca.Class({get_Id:function(){return this.$0;},toString:function(){return(function(cg){return function(ch){return cg("<"+U.toSafe(ch)+">");};}(a.id))(this.get_Id());}},null,I);K.LoadLocalTemplates=function(cg){!K.LocalTemplatesLoaded()?(K.set_LocalTemplatesLoaded(true),K.LoadNestedTemplates(self.document.body,"")):void 0;K.LoadedTemplates().set_Item(cg,K.LoadedTemplateFile(""));};K.LocalTemplatesLoaded=function(){bv.$cctor();return bv.LocalTemplatesLoaded;};K.set_LocalTemplatesLoaded=function(cg){bv.$cctor();bv.LocalTemplatesLoaded=cg;};K.LoadNestedTemplates=function(cg,ch){var cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw;function ci(cx){var cy,cz;if(!cj.ContainsKey(cx)){cy=(cz=null,[ck.TryGetValue(cx,{get:function(){return cz;},set:function(cA){cz=cA;}}),cz]);cy[0]?(cw.Add(cx),ck.Remove(cx),K.PrepareTemplateStrict(ch,{$:1,$0:cx},cy[1][0],{$:1,$0:cy[1][1]},{$:1,$0:ci})):cb.warn(cw.Contains(cx)?"Encountered loop when instantiating "+cx:"Local template does not exist: "+cx);}}cj=K.LoadedTemplateFile(ch);ck=new _9.New$5();cl=cg.querySelectorAll("[ws-template]");for(cm=0,cn=cl.length-1;cm<=cn;cm++){co=cl[cm];cp=co.getAttribute("ws-template").toLowerCase();co.removeAttribute("ws-template");ck.set_Item(cp,[[co],K.FakeRootSingle(co)]);}cq=cg.querySelectorAll("[ws-children-template]");for(cr=0,cs=cq.length-1;cr<=cs;cr++){ct=cq[cr];cu=ct.getAttribute("ws-children-template").toLowerCase();ct.removeAttribute("ws-children-template");ck.set_Item(cu,(cv=Q.ChildrenArray(ct),[cv,K.FakeRoot(cv)]));}cw=new bw.New$3();while(ck.count>0)ci(q.head(ck.get_Keys()));};K.LoadedTemplates=function(){bv.$cctor();return bv.LoadedTemplates;};K.LoadedTemplateFile=function(cg){var ch,ci,cj;ch=(ci=null,[K.LoadedTemplates().TryGetValue(cg,{get:function(){return ci;},set:function(ck){ci=ck;}}),ci]);return ch[0]?ch[1]:(cj=new _9.New$5(),(K.LoadedTemplates().set_Item(cg,cj),cj));};K.FakeRootSingle=function(cg){var ch,ci,cj;cg.removeAttribute("ws-template");ch=cg.getAttribute("ws-replace");ch===null?void 0:(cg.removeAttribute("ws-replace"),ci=cg.parentNode,E.Equals(ci,null)?void 0:(cj=self.document.createElement(cg.tagName),cj.setAttribute("ws-replace",ch),ci.replaceChild(cj,cg)));return K.FakeRoot([cg]);};K.FakeRoot=function(cg){var ch,ci,cj;ch=self.document.createElement("div");for(ci=0,cj=cg.length-1;ci<=cj;ci++)ch.appendChild(T.get(cg,ci));return ch;};K.PrepareTemplateStrict=function(cg,ch,ci,cj,ck){var cl,cm;function cn(cs,ct){var cu,cv,cw,cx,cy,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU;function cz(cV){}while(true)switch(cs){case 0:if(ct!==null){cu=ct.nextSibling;if(E.Equals(ct.nodeType,t.TEXT_NODE))bL.convertTextNode(ct);else if(E.Equals(ct.nodeType,t.ELEMENT_NODE))cp(ct);ct=cu;}else return null;break;case 1:cA=bb.string(ct.nodeName,{$:1,$0:3},null).toLowerCase();cB=(cv=cA.indexOf("."),cv===-1?[cg,cA]:[bb.string(cA,null,{$:1,$0:cv-1}),bb.string(cA,{$:1,$0:cv+1},null)]);cC=cB[1];cD=cB[0];if(cD!==""&&!K.LoadedTemplates().ContainsKey(cD))return bL.failNotLoaded(cC);else{if(cD===""&&ck!=null)ck.$0(cC);cE=K.LoadedTemplates().get_Item(cD);if(!cE.ContainsKey(cC))return bL.failNotLoaded(cC);else{cF=cE.get_Item(cC);cG=cF.cloneNode(true);cH=new bw.New$3();cI=new _9.New$5();cJ=ct.attributes;for(cK=0,cL=cJ.length-1;cK<=cL;cK++){cM=cJ.item(cK).name.toLowerCase();cI.set_Item(cM,(cN=cJ.item(cK).nodeValue,cN===""?cM:cN.toLowerCase()));!cH.Add(cM)?cb.warn("Hole mapped twice",cM):void 0;}for(cO=0,cP=ct.childNodes.length-1;cO<=cP;cO++){cQ=ct.childNodes[cO];E.Equals(cQ.nodeType,t.ELEMENT_NODE)?!cH.Add(cQ.nodeName.toLowerCase())?cb.warn("Hole filled twice",cC):void 0:void 0;}cR=ct.childNodes.length===1&&E.Equals(ct.firstChild.nodeType,t.TEXT_NODE);if(cR){cx=bL.fillTextHole(cG,ct.firstChild.textContent,cC);((function(cV){return function(cW){if(cW!=null)cV(cW.$0);};}((cy=function(cV){return function(cW){return cV.Add(cW);};}(cH),function(cV){return cz(cy(cV));})))(cx));}bL.removeHolesExcept(cG,cH);if(!cR){for(cS=0,cT=ct.childNodes.length-1;cS<=cT;cS++){cU=ct.childNodes[cS];E.Equals(cU.nodeType,t.ELEMENT_NODE)?cU.hasAttributes()?bL.fillInstanceAttrs(cG,cU):co(cG,cU):void 0;}}bL.mapHoles(cG,cI);bL.fill(cG,ct.parentNode,ct);ct.parentNode.removeChild(ct);return;}}break;}}function co(cs,ct){var cu,cw,cx;function cv(cy,cz){var cA,cB,cC;if(cw==="title"&&ct.hasChildNodes()){cA=cd.parseHTML(ct.textContent);ct.removeChild(ct.firstChild);for(cB=0,cC=cA.length-1;cB<=cC;cB++)ct.appendChild(T.get(cA,cB));}else null;cp(ct);return bL.fill(ct,cy,cz);}cw=ct.nodeName.toLowerCase();Q.IterSelector(cs,"[ws-attr-holes]",function(cy){var cz,cA,cB,cC,cD;cz=bl.SplitChars(cy.getAttribute("ws-attr-holes"),[" "],1);for(cA=0,cB=cz.length-1;cA<=cB;cA++){cC=T.get(cz,cA);cy.setAttribute(cC,(cD=new a.RegExp("\\${"+cw+"}","ig"),cy.getAttribute(cC).replace(cD,ct.textContent)));}});cx=cs.querySelector("[ws-hole="+cw+"]");if(E.Equals(cx,null)){cu=cs.querySelector("[ws-replace="+cw+"]");return E.Equals(cu,null)?null:(cv(cu.parentNode,cu),void cu.parentNode.removeChild(cu));}else{while(cx.hasChildNodes())cx.removeChild(cx.lastChild);cx.removeAttribute("ws-hole");return cv(cx,null);}}function cp(cs){if(bl.StartsWith(cs.nodeName.toLowerCase(),"ws-"))cr(cs);else{bL.convertAttrs(cs);cq(cs.firstChild);}}function cq(cs){return cn(0,cs);}function cr(cs){return cn(1,cs);}cl=cj==null?K.FakeRoot(ci):cj.$0;cm=(ch==null?"":ch.$0).toLowerCase();K.LoadedTemplateFile(cg).set_Item(cm,cl);T.length(ci)>0?(function(cs){var ct,cu,cv,cw;while(true){ct=cs.querySelector("[ws-template]");if(E.Equals(ct,null)){cu=cs.querySelector("[ws-children-template]");if(E.Equals(cu,null))return null;else{cv=cu.getAttribute("ws-children-template");cu.removeAttribute("ws-children-template");K.PrepareTemplateStrict(cg,{$:1,$0:cv},Q.ChildrenArray(cu),null,null);cs=cs;}}else{cw=ct.getAttribute("ws-template");(K.PrepareSingleTemplate(cg,{$:1,$0:cw},ct))(null);cs=cs;}}}(cl),cq(T.get(ci,0))):void 0;};K.PrepareSingleTemplate=function(cg,ch,ci){var cj,ck,cl;cj=K.FakeRootSingle(ci);ck=[ci];cl={$:1,$0:cj};return function(cm){K.PrepareTemplateStrict(cg,ch,ck,cl,cm);};};K.TextHoleRE=function(){bv.$cctor();return bv.TextHoleRE;};M=i.ConcreteVar=ca.Class({get_View:function(){return this.view;},Set:function(cg){if(this.isConst)(function(ch){return ch("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal");}(function(ch){cb.log(ch);}));else{N.Obsolete(this.snap);this.current=cg;this.snap=N.New({$:2,$0:cg,$1:[]});}},Get:function(){return this.current;},UpdateMaybe:function(cg){var ch;ch=cg(this.Get());ch!=null&&ch.$==1?this.Set(ch.$0):void 0;}},j,M);M.New=ca.Ctor(function(cg,ch,ci){var cj;cj=this;j.New.call(this);this.isConst=cg;this.current=ci;this.snap=ch;this.view=function(){return cj.snap;};this.id=bi.Int();},M);N.WhenRun=function(cg,ch,ci){var cj;cj=cg.s;cj==null?ci():cj!=null&&cj.$==2?(cj.$1.push(ci),ch(cj.$0)):cj!=null&&cj.$==3?(cj.$0.push(ch),cj.$1.push(ci)):ch(cj.$0);};N.Map=function(cg,ch){var ci,cj;ci=ch.s;return ci!=null&&ci.$==0?N.New({$:0,$0:cg(ci.$0)}):(cj=N.New({$:3,$0:[],$1:[]}),(N.When(ch,function(ck){N.MarkDone(cj,ch,cg(ck));},cj),cj));};N.Map2Unit=function(cg,ch){var ci,cj,ck;function cl(){var cm,cn,co;if(!(cm=ck.s,cm!=null&&cm.$==0||cm!=null&&cm.$==2)){cn=N.ValueAndForever(cg);co=N.ValueAndForever(ch);cn!=null&&cn.$==1?co!=null&&co.$==1?cn.$0[1]&&co.$0[1]?N.MarkForever(ck,null):N.MarkReady(ck,null):void 0:void 0;}}ci=cg.s;cj=ch.s;return ci!=null&&ci.$==0?cj!=null&&cj.$==0?N.New({$:0,$0:null}):ch:cj!=null&&cj.$==0?cg:(ck=N.New({$:3,$0:[],$1:[]}),(N.When(cg,cl,ck),N.When(ch,cl,ck),ck));};N.WhenObsoleteRun=function(cg,ch){var ci;ci=cg.s;ci==null?ch():ci!=null&&ci.$==2?ci.$1.push(ch):ci!=null&&ci.$==3?ci.$1.push(ch):void 0;};N.When=function(cg,ch,ci){var cj;cj=cg.s;cj==null?N.Obsolete(ci):cj!=null&&cj.$==2?(N.EnqueueSafe(cj.$1,ci),ch(cj.$0)):cj!=null&&cj.$==3?(cj.$0.push(ch),N.EnqueueSafe(cj.$1,ci)):ch(cj.$0);};N.MarkDone=function(cg,ch,ci){var cj;if(cj=ch.s,cj!=null&&cj.$==0)N.MarkForever(cg,ci);else N.MarkReady(cg,ci);};N.TryGet=function(cg){var ch,ci;ch=cg.s;return(ch!=null&&ch.$==0?(ci=ch.$0,true):ch!=null&&ch.$==2&&(ci=ch.$0,true))?{$:1,$0:ci}:null;};N.ValueAndForever=function(cg){var ch;ch=cg.s;return ch!=null&&ch.$==0?{$:1,$0:[ch.$0,true]}:ch!=null&&ch.$==2?{$:1,$0:[ch.$0,false]}:null;};N.MarkForever=function(cg,ch){var ci,cj,ck,cl;ci=cg.s;if(ci!=null&&ci.$==3){cg.s={$:0,$0:ch};cj=ci.$0;for(ck=0,cl=T.length(cj)-1;ck<=cl;ck++)(T.get(cj,ck))(ch);}else void 0;};N.MarkReady=function(cg,ch){var ci,cj,ck,cl;ci=cg.s;if(ci!=null&&ci.$==3){cg.s={$:2,$0:ch,$1:ci.$1};cj=ci.$0;for(ck=0,cl=T.length(cj)-1;ck<=cl;ck++)(T.get(cj,ck))(ch);}else void 0;};N.EnqueueSafe=function(cg,ch){var ci,cj,ck,cl;cg.push(ch);if(cg.length%20===0){ci=cg.slice(0);b5.Clear(cg);for(cj=0,ck=T.length(ci)-1;cj<=ck;cj++){cl=T.get(ci,cj);typeof cl=="object"?function(cm){if(cm.s)cg.push(cm);}(cl):function(cm){cg.push(cm);}(cl);}}else void 0;};N.Join=function(cg){var ch;ch=N.New({$:3,$0:[],$1:[]});N.When(cg,function(ci){var cj;cj=ci();N.When(cj,function(ck){var cl,cm;if((cl=cj.s,cl!=null&&cl.$==0)&&(cm=cg.s,cm!=null&&cm.$==0))N.MarkForever(ch,ck);else N.MarkReady(ch,ck);},ch);},ch);return ch;};N.Copy=function(cg){var ch,ci,cj;ch=cg.s;return ch==null?cg:ch!=null&&ch.$==2?(ci=N.New({$:2,$0:ch.$0,$1:[]}),(N.WhenObsolete(cg,ci),ci)):ch!=null&&ch.$==3?(cj=N.New({$:3,$0:[],$1:[]}),(N.When(cg,function(ck){N.MarkDone(cj,cg,ck);},cj),cj)):cg;};N.WhenObsolete=function(cg,ch){var ci;ci=cg.s;ci==null?N.Obsolete(ch):ci!=null&&ci.$==2?N.EnqueueSafe(ci.$1,ch):ci!=null&&ci.$==3?N.EnqueueSafe(ci.$1,ch):void 0;};O.Value=function(cg){function ch(ci){return{$:1,$0:ci};}return O.CustomValue(cg,a.id,function(ci){return ch(a.id(ci));});};O.CustomValue=function(cg,ch,ci){return O.CustomVar(cg,function(cj,ck){cj.value=ch(ck);},function(cj){return ci(cj.value);});};O.Class=function(cg){return O.ClassPred(cg,true);};O.CustomVar=function(cg,ch,ci){function cj(cl,cm){return cg.UpdateMaybe(function(cn){var co,cp;co=ci(cl);return co!=null&&co.$==1&&(!E.Equals(co.$0,cn)&&(cp=[co,co.$0],true))?cp[0]:null;});}function ck(cl,cm){var cn,co;cn=ci(cl);return cn!=null&&cn.$==1&&(E.Equals(cn.$0,cm)&&(co=cn.$0,true))?null:ch(cl,cm);}return bj.Concat([O.Handler("change",function(cl){return function(cm){return cj(cl,cm);};}),O.Handler("input",function(cl){return function(cm){return cj(cl,cm);};}),O.Handler("keypress",function(cl){return function(cm){return cj(cl,cm);};}),O.DynamicCustom(function(cl){return function(cm){return ck(cl,cm);};},cg.get_View())]);};O.ClassPred=function(cg,ch){return bU.Static(function(ci){if(ch)Q.AddClass(ci,cg);else Q.RemoveClass(ci,cg);});};O.Handler=function(cg,ch){return bU.Static(function(ci){ci.addEventListener(cg,function(cj){return(ch(ci))(cj);},false);});};O.DynamicCustom=function(cg,ch){return bU.Dynamic(ch,cg);};P.Const=function(cg){var ch;ch=N.New({$:0,$0:cg});return function(){return ch;};};P.Sink=function(cg,ch){function ci(){N.WhenRun(ch(),cg,function(){z.scheduler().Fork(ci);});}z.scheduler().Fork(ci);};P.Map=function(cg,ch){return P.CreateLazy(function(){return N.Map(cg,ch());});};P.get_Do=function(){return be.B;};P.Map2Unit=function(cg,ch){return P.CreateLazy(function(){return N.Map2Unit(cg(),ch());});};P.CreateLazy=function(cg){var ch;ch={c:null,o:cg};return function(){var ci,cj;ci=ch.c;return ci===null?(ci=ch.o(),ch.c=ci,(cj=ci.s,cj!=null&&cj.$==0)?ch.o=null:N.WhenObsoleteRun(ci,function(){ch.c=null;}),ci):ci;};};P.Bind=function(cg,ch){return P.Join(P.Map(cg,ch));};P.TryGet=function(cg){return N.TryGet(cg());};P.Join=function(cg){return P.CreateLazy(function(){return N.Join(cg());});};P.MapSeqCachedViewBy=function(cg,ch,ci){var cj;cj=[new _9.New$5()];return P.Map(function(ck){var cl,cm,cn;cl=cj[0];cm=new _9.New$5();cn=bd.mapInPlace(function(co){var cp,cq,cr;cp=cg(co);cq=cl.ContainsKey(cp)?(cr=cl.get_Item(cp),(w.Set(cr.r,co),cr)):P.ConvertSeqNode(function(cs){return ch(cp,cs);},co);cm.set_Item(cp,cq);return cq.e;},T.ofSeq(ck));cj[0]=cm;return cn;},ci);};P.ConvertSeqNode=function(cg,ch){var ci,cj;ci=w.Create$1(ch);cj=ci.get_View();return{e:cg(cj),r:ci,w:cj};};P.Get=function(cg,ch){var ci;function cj(){N.WhenRun(ch(),function(ck){if(!ci[0]){ci[0]=true;cg(ck);}},function(){if(!ci[0])cj();});}ci=[false];cj();};Q.CreateText=function(cg){return Q.Doc().createTextNode(cg);};Q.CreateElement=function(cg){return Q.Doc().createElement(cg);};Q.Doc=function(){bD.$cctor();return bD.Doc;};Q.ChildrenArray=function(cg){var ch,ci,cj;ch=[];for(ci=0,cj=cg.childNodes.length-1;ci<=cj;ci++)ch.push(cg.childNodes[ci]);return ch;};Q.IterSelector=function(cg,ch,ci){var cj,ck,cl;cj=cg.querySelectorAll(ch);for(ck=0,cl=cj.length-1;ck<=cl;ck++)ci(cj[ck]);};Q.AddClass=function(cg,ch){var ci;ci=Q.getClass(cg);ci===""?Q.setClass(cg,ch):!Q.clsRE(ch).test(ci)?Q.setClass(cg,ci+" "+ch):void 0;};Q.RemoveClass=function(cg,ch){var ci;Q.setClass(cg,(ci=Q.clsRE(ch),Q.getClass(cg).replace(ci,function(cj,ck,cl){return ck===""||cl===""?"":" ";})));};Q.InsertAt=function(cg,ch,ci){var cj;if(!(ci.parentNode===cg&&ch===(cj=ci.nextSibling,E.Equals(cj,null)?null:cj)))cg.insertBefore(ci,ch);};Q.getClass=function(cg){return cg instanceof a.SVGElement?cg.getAttribute("class"):cg.className;};Q.setClass=function(cg,ch){if(cg instanceof a.SVGElement)cg.setAttribute("class",ch);else cg.className=ch;};Q.clsRE=function(cg){return new a.RegExp("(\\s+|^)"+cg+"(?:\\s+"+cg+")*(\\s+|$)","g");};Q.SetAttr=function(cg,ch,ci){cg.setAttribute(ch,ci);};Q.RemoveNode=function(cg,ch){if(ch.parentNode===cg)cg.removeChild(ch);};R.New=function(cg,ch){return{k:cg,ct:ch};};S.New=function(cg,ch,ci,cj,ck,cl){return{name:cg,self:ch,modules:ci,dependencies:cj,resources:ck,javaScripts:cl};};T.map=function(cg,ch){var ci,cj,ck;ci=new a.Array(ch.length);for(cj=0,ck=ch.length-1;cj<=ck;cj++)ci[cj]=cg(ch[cj]);return ci;};T.mapi=function(cg,ch){var ci,cj,ck;ci=new a.Array(ch.length);for(cj=0,ck=ch.length-1;cj<=ck;cj++)ci[cj]=cg(cj,ch[cj]);return ci;};T.collect=function(cg,ch){return a.Array.prototype.concat.apply([],T.map(cg,ch));};T.tryFind=function(cg,ch){var ci,cj;ci=null;cj=0;while(cj<ch.length&&ci==null){cg(ch[cj])?ci={$:1,$0:ch[cj]}:void 0;cj=cj+1;}return ci;};T.ofSeq=function(cg){var ch,ci;if(cg instanceof a.Array)return cg.slice();else if(cg instanceof $)return T.ofList(cg);else{ch=[];ci=C.Get(cg);try{while(ci.MoveNext())ch.push(ci.Current());return ch;}finally{if(typeof ci=="object"&&"Dispose"in ci)ci.Dispose();}}};T.ofList=function(cg){var ch,ci;ci=[];ch=cg;while(!(ch.$==0)){ci.push(_.head(ch));ch=_.tail(ch);}return ci;};T.tryFindIndex=function(cg,ch){var ci,cj;ci=null;cj=0;while(cj<ch.length&&ci==null){cg(ch[cj])?ci={$:1,$0:cj}:void 0;cj=cj+1;}return ci;};T.tryPick=function(cg,ch){var ci,cj,ck;ci=null;cj=0;while(cj<ch.length&&ci==null){ck=cg(ch[cj]);ck!=null&&ck.$==1?ci=ck:void 0;cj=cj+1;}return ci;};T.sortInPlaceBy=function(cg,ch){T.mapInPlace(function(ci){return ci[0];},T.mapiInPlace(function(ci,cj){return[cj,[cg(cj),ci]];},ch).sort(function(ci,cj){return E.Compare(ci[1],cj[1]);}));};T.exists=function(cg,ch){var ci,cj,ck,cl;ci=false;cj=0;cl=T.length(ch);while(!ci&&cj<cl)if(cg(ch[cj]))ci=true;else cj=cj+1;return ci;};T.foldBack=function(cg,ch,ci){var cj,ck,cl,cm,cn;cj=ci;cl=ch.length;for(cm=1,cn=cl;cm<=cn;cm++)cj=cg(ch[cl-cm],cj);return cj;};T.choose=function(cg,ch){var ci,cj,ck,cl;ci=[];for(cj=0,ck=ch.length-1;cj<=ck;cj++){cl=cg(ch[cj]);cl==null?void 0:ci.push(cl.$0);}return ci;};T.filter=function(cg,ch){var ci,cj,ck;ci=[];for(cj=0,ck=ch.length-1;cj<=ck;cj++)if(cg(ch[cj]))ci.push(ch[cj]);return ci;};T.iter=function(cg,ch){var ci,cj;for(ci=0,cj=ch.length-1;ci<=cj;ci++)cg(ch[ci]);};T.concat=function(cg){return a.Array.prototype.concat.apply([],T.ofSeq(cg));};T.pick=function(cg,ch){var ci;ci=T.tryPick(cg,ch);return ci==null?k.FailWith("KeyNotFoundException"):ci.$0;};T.create=function(cg,ch){var ci,cj,ck;ci=new a.Array(cg);for(cj=0,ck=cg-1;cj<=ck;cj++)ci[cj]=ch;return ci;};T.init=function(cg,ch){var ci,cj,ck;cg<0?k.FailWith("Negative size given."):null;ci=new a.Array(cg);for(cj=0,ck=cg-1;cj<=ck;cj++)ci[cj]=ch(cj);return ci;};T.forall=function(cg,ch){var ci,cj,ck,cl;ci=true;cj=0;cl=T.length(ch);while(ci&&cj<cl)if(cg(ch[cj]))cj=cj+1;else ci=false;return ci;};T.get=function(cg,ch){T.checkBounds(cg,ch);return cg[ch];};T.checkBounds=function(cg,ch){if(ch<0||ch>=cg.length)k.FailWith("Index was outside the bounds of the array.");};T.set=function(cg,ch,ci){T.checkBounds(cg,ch);cg[ch]=ci;};T.length=function(cg){return cg.dims===2?cg.length*cg.length:cg.length;};U.toSafe=function(cg){return cg==null?"":cg;};U.prettyPrint=function(cg){var ch,ci;function cj(ck,cl){return ck+" = "+U.prettyPrint(cl);}return cg===null?"null":(ch=typeof cg,ch=="string"?"\""+cg+"\"":ch=="object"?cg instanceof a.Array?"[|"+bl.concat("; ",T.map(U.prettyPrint,cg))+"|]":(ci=a.String(cg),ci==="[object Object]"?"{"+bl.concat("; ",T.map(function(ck){return cj(ck[0],ck[1]);},v.GetFields(cg)))+"}":ci):a.String(cg));};V=n.AssemblyName=ca.Class({get_Id:function(){return this.$0;}},null,V);W=n.JSCode=ca.Class({get_Id:function(){return this.$0;}},null,W);_0.asyncReadTextAtRuntime=function(cg,ch,ci,cj,ck,cl){function cm(cn,co){var cp,cq,cr,cs,ct;cp=(cq=cl.toLowerCase(),bl.StartsWith(cq,"jsonp|")?[cl.substring(6),true]:bl.StartsWith(cq,"json|")?[cl.substring(5),false]:[cl,false]);cr=(cs={},cs.dataType="json",cs.success=function(cu){return cn(cu);},cs.error=function(cu,cv,cw){return co(new bs(cw));},cs);cp[1]?(ct=bo.randomFunctionName(),cr.dataType="jsonp",cr.jsonp="prefix",cr.jsonpCallback="jsonp"+ct):void 0;cd.ajax(cp[0],cr);}return z.FromContinuations(function(cn,co,cp){return cm.apply(null,[cn,co,cp]);});};_1.New=function(cg,ch){return{name:cg,methods:ch};};_2=n.ModuleName=ca.Class({get_Id2:function(){return bl.Replace(this.get_Id(),"+",".");},get_Id:function(){return this.$0;}},null,_2);_3.New=function(cg,ch,ci,cj){return{name:cg,retType:ch,parms:ci,isField:cj};};_4.New=function(cg,ch){return{name:cg,asm:ch};};_5=n.TypeName=ca.Class({get_Id:function(){return this.$0;}},null,_5);_6=n.MethodName=ca.Class({get_Id:function(){return this.$0;}},null,_6);_7=n.Resource=ca.Class({get_Id:function(){return this.$0;}},null,_7);P=i.View=ca.Class({},null,P);_9=_8.Dictionary=ca.Class({Clear:function(){this.data=[];this.count=0;},set_Item:function(cg,ch){this.set(cg,ch);},TryGetValue:function(cg,ch){var ci,cj,ck;ci=this;cj=this.data[this.hash(cg)];return cj==null?false:(ck=T.tryPick(function(cl){var cm;cm=k.KeyValue(cl);return ci.equals.apply(null,[cm[0],cg])?{$:1,$0:cm[1]}:null;},cj),ck!=null&&ck.$==1&&(ch.set(ck.$0),true));},Add:function(cg,ch){this.add(cg,ch);},ContainsKey:function(cg){var ch,ci;ch=this;ci=this.data[this.hash(cg)];return ci==null?false:T.exists(function(cj){return ch.equals.apply(null,[(k.KeyValue(cj))[0],cg]);},ci);},Remove:function(cg){return this.remove(cg);},get_Keys:function(){return new bM.New(this);},set:function(cg,ch){var ci,cj,ck,cl;ci=this;cj=this.hash(cg);ck=this.data[cj];ck==null?(this.count=this.count+1,this.data[cj]=new a.Array({K:cg,V:ch})):(cl=T.tryFindIndex(function(cm){return ci.equals.apply(null,[(k.KeyValue(cm))[0],cg]);},ck),cl==null?(this.count=this.count+1,ck.push({K:cg,V:ch})):ck[cl.$0]={K:cg,V:ch});},add:function(cg,ch){var ci,cj,ck;ci=this;cj=this.hash(cg);ck=this.data[cj];ck==null?(this.count=this.count+1,this.data[cj]=new a.Array({K:cg,V:ch})):(T.exists(function(cl){return ci.equals.apply(null,[(k.KeyValue(cl))[0],cg]);},ck)?bK.alreadyAdded():void 0,this.count=this.count+1,ck.push({K:cg,V:ch}));},remove:function(cg){var ch,ci,cj,ck;ch=this;ci=this.hash(cg);cj=this.data[ci];return cj==null?false:(ck=T.filter(function(cl){return!ch.equals.apply(null,[(k.KeyValue(cl))[0],cg]);},cj),T.length(ck)<cj.length&&(this.count=this.count-1,this.data[ci]=ck,true));},get_Item:function(cg){return this.get(cg);},get:function(cg){var ch,ci;ch=this;ci=this.data[this.hash(cg)];return ci==null?bK.notPresent():T.pick(function(cj){var ck;ck=k.KeyValue(cj);return ch.equals.apply(null,[ck[0],cg])?{$:1,$0:ck[1]}:null;},ci);},GetEnumerator:function(){return C.Get0(this);},GetEnumerator0:function(){return C.Get0(T.concat(v.GetFieldValues(this.data)));}},h,_9);_9.New$5=ca.Ctor(function(){_9.New$6.call(this,[],E.Equals,E.Hash);},_9);_9.New$6=ca.Ctor(function(cg,ch,ci){var cj,ck;h.New.call(this);this.equals=ch;this.hash=ci;this.count=0;this.data=[];cj=C.Get(cg);try{while(cj.MoveNext()){ck=cj.Current();this.set(ck.K,ck.V);}}finally{if(typeof cj=="object"&&"Dispose"in cj)cj.Dispose();}},_9);N.Obsolete=function(cg){var ch,ci,cj,ck,cl;ci=cg.s;if(ci==null||(ci!=null&&ci.$==2?(ch=ci.$1,false):ci!=null&&ci.$==3?(ch=ci.$1,false):true))void 0;else{cg.s=null;for(cj=0,ck=T.length(ch)-1;cj<=ck;cj++){cl=T.get(ch,cj);typeof cl=="object"?function(cm){N.Obsolete(cm);}(cl):cl();}}};N.New=function(cg){return{s:cg};};p.Create=function(cg,ch){return p.CreateWithStorage(cg,br.InMemory(T.ofSeq(ch)));};p.CreateWithStorage=function(cg,ch){return new p.New(cg,ch);};$=_.T=ca.Class({GetEnumerator:function(){return new D.New(this,null,function(cg){var ch;ch=cg.s;return ch.$==0?false:(cg.c=ch.$0,cg.s=ch.$1,true);},void 0);},GetEnumerator0:function(){return C.Get(this);}},null,$);$.Empty=new $({$:0});ba.delayed=function(cg,ch){function ci(){return z.Return(null);}return ba.delayedA(cg,function(cj){return ci(ch(cj));});};ba.delayedA=function(cg,ch){var ci;ci=null;return function(cj){var ck;ci==null?void 0:ci.$0.Cancel$1();ci={$:1,$0:new bG.New()};z.Start((ck=null,z.Delay(function(){return z.Bind(z.Sleep(cg),function(){return z.Bind(ch(cj),function(){return z.Return(null);});});})),{$:1,$0:ci.$0});};};bb.array=function(cg,ch,ci){return ch==null?ci!=null&&ci.$==1?cg.slice(0,ci.$0+1):[]:ci==null?cg.slice(ch.$0):cg.slice(ch.$0,ci.$0+1);};bb.string=function(cg,ch,ci){return ch==null?ci!=null&&ci.$==1?cg.slice(0,ci.$0+1):"":ci==null?cg.slice(ch.$0):cg.slice(ch.$0,ci.$0+1);};bc=F.Reference=ca.Class({GetFunc:function(){var cg,ch;function ci(cj,ck){try{return(a["eval"](cj))(ck);}catch(cl){return(((ca.Curried3(function(cm,cn,co){return cm("Error "+U.toSafe(cn)+" \n Evaluating JS: "+U.toSafe(co));}))(k.FailWith))(cl.message))(cj);}}return this.$==0?(cg=this.$0,function(cj){return ci(cg,cj);}):this.$==1?(ch=(((ca.Curried3(function(cj,ck,cl){return cj(U.toSafe(ck)+"."+U.toSafe(cl));}))(a.id))(this.$0.get_Id2()))(this.$1.name.get_Id()),function(cj){return ci(ch,cj);}):this.$0;},toString:function(){return this.$==0?this.$0:this.$==1?(((ca.Curried3(function(cg,ch,ci){return cg(U.toSafe(ch)+"."+U.toSafe(ci));}))(a.id))(this.$0.get_Id2()))(this.$1.name.get_Id()):this.$1;}},null,bc);bd.ofSeqNonCopying=function(cg){var ch,ci;if(cg instanceof a.Array)return cg;else if(cg instanceof $)return T.ofList(cg);else if(cg===null)return[];else{ch=[];ci=C.Get(cg);try{while(ci.MoveNext())ch.push(ci.Current());return ch;}finally{if(typeof ci=="object"&&"Dispose"in ci)ci.Dispose();}}};bd.TreeReduce=function(cg,ch,ci){var cj;function ck(cl,cm){var cn,co;return cm<=0?cg:cm===1&&(cl>=0&&cl<cj)?T.get(ci,cl):(co=cm/2>>0,ch(ck(cl,co),ck(cl+co,cm-co)));}cj=T.length(ci);return ck(0,cj);};bd.MapTreeReduce=function(cg,ch,ci,cj){var ck;function cl(cm,cn){var co,cp;return cn<=0?ch:cn===1&&(cm>=0&&cm<ck)?cg(T.get(cj,cm)):(cp=cn/2>>0,ci(cl(cm,cp),cl(cm+cp,cn-cp)));}ck=T.length(cj);return cl(0,ck);};bd.mapInPlace=function(cg,ch){var ci,cj;for(ci=0,cj=ch.length-1;ci<=cj;ci++)ch[ci]=cg(ch[ci]);return ch;};be.B={$:0};_.ofArray=function(cg){var ch,ci,cj;ch=$.Empty;for(ci=T.length(cg)-1,cj=0;ci>=cj;ci--)ch=new $({$:1,$0:T.get(cg,ci),$1:ch});return ch;};_.ofSeq=function(cg){var ch,ci,cj,ck,cl,cm;if(cg instanceof $)return cg;else if(cg instanceof a.Array)return _.ofArray(cg);else{ch=C.Get(cg);try{cj=ch.MoveNext();if(!cj)ci=$.Empty;else{cl=new $({$:1});ck=cl;while(cj){ck.$0=ch.Current();ch.MoveNext()?ck=(cm=new $({$:1}),ck.$1=cm,cm):cj=false;}ck.$1=$.Empty;ci=cl;}return ci;}finally{if(typeof ch=="object"&&"Dispose"in ch)ch.Dispose();}}};_.head=function(cg){return cg.$==1?cg.$0:_.listEmpty();};_.tail=function(cg){return cg.$==1?cg.$1:_.listEmpty();};_.listEmpty=function(){return k.FailWith("The input list was empty.");};bf.LinkElement=function(cg,ch){bf.InsertDoc(cg,ch,null);};bf.CreateTextNode=function(){return{Text:Q.CreateText(""),Dirty:false,Value:""};};bf.UpdateTextNode=function(cg,ch){cg.Value=ch;cg.Dirty=true;};bf.InsertDoc=function(cg,ch,ci){var cj;return ch!=null&&ch.$==1?bf.InsertNode(cg,ch.$0.El,ci):ch!=null&&ch.$==2?(cj=ch.$0,(cj.Dirty=false,bf.InsertDoc(cg,cj.Current,ci))):ch==null?ci:ch!=null&&ch.$==4?bf.InsertNode(cg,ch.$0.Text,ci):ch!=null&&ch.$==5?bf.InsertNode(cg,ch.$0,ci):ch!=null&&ch.$==6?T.foldBack(function(ck,cl){return ck==null||ck.constructor===bp?bf.InsertDoc(cg,ck,cl):bf.InsertNode(cg,ck,cl);},ch.$0.Els,ci):bf.InsertDoc(cg,ch.$0,bf.InsertDoc(cg,ch.$1,ci));};bf.CreateRunState=function(cg,ch){return bO.New(bP.get_Empty(),bf.CreateElemNode(cg,bU.EmptyAttr(),ch));};bf.PerformAnimatedUpdate=function(cg,ch,ci){var cj;return bx.get_UseAnimations()?(cj=null,z.Delay(function(){var ck,cl,cm;ck=bP.FindAll(ci);cl=bf.ComputeChangeAnim(ch,ck);cm=bf.ComputeEnterAnim(ch,ck);return z.Bind(bx.Play(bx.Append(cl,bf.ComputeExitAnim(ch,ck))),function(){return z.Bind(bf.SyncElemNodesNextFrame(cg,ch),function(){return z.Bind(bx.Play(cm),function(){ch.PreviousNodes=ck;return z.Return(null);});});});})):bf.SyncElemNodesNextFrame(cg,ch);};bf.PerformSyncUpdate=function(cg,ch,ci){var cj;cj=bP.FindAll(ci);bf.SyncElemNode(cg,ch.Top);ch.PreviousNodes=cj;};bf.CreateEmbedNode=function(){return{Current:null,Dirty:false};};bf.UpdateEmbedNode=function(cg,ch){cg.Current=ch;cg.Dirty=true;};bf.InsertNode=function(cg,ch,ci){Q.InsertAt(cg,ci,ch);return ch;};bf.CreateElemNode=function(cg,ch,ci){var cj;bf.LinkElement(cg,ci);cj=bU.Insert(cg,ch);return bB.New(cj,ci,null,cg,bi.Int(),ca.GetOptional(cj.OnAfterRender));};bf.SyncElemNodesNextFrame=function(cg,ch){function ci(cj){a.requestAnimationFrame(function(){bf.SyncElemNode(cg,ch.Top);cj();});}return by.BatchUpdatesEnabled()?z.FromContinuations(function(cj,ck,cl){return ci.apply(null,[cj,ck,cl]);}):(bf.SyncElemNode(cg,ch.Top),z.Return(null));};bf.ComputeExitAnim=function(cg,ch){return bx.Concat(T.map(function(ci){return bU.GetExitAnim(ci.Attr);},bP.ToArray(bP.Except(ch,bP.Filter(function(ci){return bU.HasExitAnim(ci.Attr);},cg.PreviousNodes)))));};bf.ComputeEnterAnim=function(cg,ch){return bx.Concat(T.map(function(ci){return bU.GetEnterAnim(ci.Attr);},bP.ToArray(bP.Except(cg.PreviousNodes,bP.Filter(function(ci){return bU.HasEnterAnim(ci.Attr);},ch)))));};bf.ComputeChangeAnim=function(cg,ch){var ci;function cj(ck){return bU.HasChangeAnim(ck.Attr);}ci=function(ck){return bP.Filter(cj,ck);};return bx.Concat(T.map(function(ck){return bU.GetChangeAnim(ck.Attr);},bP.ToArray(bP.Intersect(ci(cg.PreviousNodes),ci(ch)))));};bf.SyncElemNode=function(cg,ch){!cg?bf.SyncElement(ch):void 0;bf.Sync(ch.Children);bf.AfterRender(ch);};bf.SyncElement=function(cg){function ch(ci){function cj(ck){var cl,cm;return ck!=null&&ck.$==0?cj(ck.$0)||cj(ck.$1):ck!=null&&ck.$==2?(cl=ck.$0,cl.Dirty||cj(cl.Current)):ck!=null&&ck.$==6&&(cm=ck.$0,cm.Dirty||T.exists(ch,cm.Holes));}return cj(ci.Children);}bU.Sync(cg.El,cg.Attr);ch(cg)?bf.DoSyncElement(cg):void 0;};bf.Sync=function(cg){var ch,ci;if(cg!=null&&cg.$==1)bf.SyncElemNode(false,cg.$0);else if(cg!=null&&cg.$==2)bf.Sync(cg.$0.Current);else if(cg==null);else if(cg!=null&&cg.$==5);else if(cg!=null&&cg.$==4){ch=cg.$0;ch.Dirty?(ch.Text.nodeValue=ch.Value,ch.Dirty=false):void 0;}else if(cg!=null&&cg.$==6){ci=cg.$0;T.iter(function(cj){bf.SyncElemNode(false,cj);},ci.Holes);T.iter(function(cj){bU.Sync(cj[0],cj[1]);},ci.Attrs);bf.AfterRender(ci);}else{bf.Sync(cg.$0);bf.Sync(cg.$1);}};bf.AfterRender=function(cg){var ch;ch=ca.GetOptional(cg.Render);ch!=null&&ch.$==1?(ch.$0(cg.El),ca.SetOptional(cg,"Render",null)):void 0;};bf.DoSyncElement=function(cg){var ch,ci,cj;function ck(cl,cm){var cn,co;return cl!=null&&cl.$==1?cl.$0.El:cl!=null&&cl.$==2?(cn=cl.$0,cn.Dirty?(cn.Dirty=false,bf.InsertDoc(ch,cn.Current,cm)):ck(cn.Current,cm)):cl==null?cm:cl!=null&&cl.$==4?cl.$0.Text:cl!=null&&cl.$==5?cl.$0:cl!=null&&cl.$==6?(co=cl.$0,(co.Dirty?co.Dirty=false:void 0,T.foldBack(function(cp,cq){return cp==null||cp.constructor===bp?ck(cp,cq):cp;},co.Els,cm))):ck(cl.$0,ck(cl.$1,cm));}ch=cg.El;b6.Iter((ci=cg.El,function(cl){Q.RemoveNode(ci,cl);}),b6.Except(b6.DocChildren(cg),b6.Children(cg.El,ca.GetOptional(cg.Delimiters))));ck(cg.Children,(cj=ca.GetOptional(cg.Delimiters),cj!=null&&cj.$==1?cj.$0[1]:null));};bg.New=function(cg,ch){return{c:cg,r:ch};};bi.Int=function(){bi.set_counter(bi.counter()+1);return bi.counter();};bi.set_counter=function(cg){bS.$cctor();bS.counter=cg;};bi.counter=function(){bS.$cctor();return bS.counter;};bj=i.AttrProxy=ca.Class({},null,bj);bj.Concat=function(cg){var ch;ch=bd.ofSeqNonCopying(cg);return bd.TreeReduce(bU.EmptyAttr(),bj.Append,ch);};bj.Append=function(cg,ch){return bU.AppendTree(cg,ch);};bj.HandlerImpl=function(cg,ch){return bU.Static(function(ci){ci.addEventListener(cg,function(cj){return(ch(ci))(cj);},false);});};bj.Create=function(cg,ch){return bU.Static(function(ci){Q.SetAttr(ci,cg,ch);});};bk=z.Scheduler=ca.Class({Fork:function(cg){var ch;ch=this;this.robin.push(cg);this.idle?(this.idle=false,a.setTimeout(function(){ch.tick();},0)):void 0;},tick:function(){var cg,ch,ci;ch=this;ci=ce.now();cg=true;while(cg)if(this.robin.length===0){this.idle=true;cg=false;}else{(this.robin.shift())();ce.now()-ci>40?(a.setTimeout(function(){ch.tick();},0),cg=false):void 0;}}},h,bk);bk.New=ca.Ctor(function(){h.New.call(this);this.idle=true;this.robin=[];},bk);bl.concat=function(cg,ch){return T.ofSeq(ch).join(cg);};bl.Trim=function(cg){return cg.replace(new a.RegExp("^\\s+"),"").replace(new a.RegExp("\\s+$"),"");};bl.StartsWith=function(cg,ch){return cg.substring(0,ch.length)==ch;};bl.ReplaceChar=function(cg,ch,ci){return bl.Replace(cg,ch,ci);};bl.SplitChars=function(cg,ch,ci){return bl.Split(cg,new a.RegExp("["+bl.RegexEscape(ch.join(""))+"]"),ci);};bl.Replace=function(cg,ch,ci){function cj(ck){var cl,cm,cn;cl=ck.indexOf(ch);return cl!==-1?(cm=bl.ReplaceOnce(ck,ch,ci),(cn=cl+ci.length,bl.Substring(cm,0,cl+ci.length)+cj(cm.substring(cn)))):ck;}return cj(cg);};bl.Split=function(cg,ch,ci){return ci===1?T.filter(function(cj){return cj!=="";},bl.SplitWith(cg,ch)):bl.SplitWith(cg,ch);};bl.RegexEscape=function(cg){return cg.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};bl.ReplaceOnce=function(cg,ch,ci){return cg.replace(ch,ci);};bl.SplitWith=function(cg,ch){return cg.split(ch);};bl.Substring=function(cg,ch,ci){return cg.substr(ch,ci);};bn.AsyncMap=function(cg,ch){var ci;ci=null;return z.Delay(function(){return z.Bind(cg,function(cj){return z.Return(ch(cj));});});};bo.randomFunctionName=function(){var cg;return bl.ReplaceChar((cg=bF.NewGuid(),a.String(cg)).toLowerCase(),"-","_");};bq.$cctor=function(){bq.$cctor=a.ignore;bq.noneCT=bg.New(false,[]);bq.scheduler=new bk.New();bq.defCTS=[new bG.New()];bq.Zero=z.Return();bq.GetCT=function(cg){cg.k({$:0,$0:cg.ct});};};br.InMemory=function(cg){return new bH.New(cg);};bt=g.OperationCanceledException=ca.Class({},bs,bt);bt.New=ca.Ctor(function(cg){bt.New$1.call(this,"The operation was canceled.",null,cg);},bt);bt.New$1=ca.Ctor(function(cg,ch,ci){this.message=cg;this.inner=ch;bp.setPrototypeOf(this,bt.prototype);this.ct=ci;},bt);bu=i.FromView=ca.Class({get_View:function(){return this.view;},Set:function(cg){this.set(cg);},Get:function(){return this.current;},UpdateMaybe:function(cg){var ch;ch=this;P.Get(function(ci){var cj;cj=cg(ci);cj!=null&&cj.$==1?ch.set(cj.$0):void 0;},this.view);}},j,bu);bu.New=ca.Ctor(function(cg,ch){var ci,cj;ci=this;j.New.call(this);this.set=ch;this.id=bi.Int();this.current=(cj=P.TryGet(cg),cj==null?null:cj.$0);this.view=P.Map(function(ck){ci.current=ck;return ck;},cg);},bu);bv.$cctor=function(){bv.$cctor=a.ignore;bv.LoadedTemplates=new _9.New$5();bv.LocalTemplatesLoaded=false;bv.TextHoleRE="\\${([^}]+)}";};bw=_8.HashSet=ca.Class({Add:function(cg){return this.add(cg);},Contains:function(cg){var ch;ch=this.data[this.hash(cg)];return ch==null?false:this.arrContains(cg,ch);},add:function(cg){var ch,ci;ch=this.hash(cg);ci=this.data[ch];return ci==null?(this.data[ch]=[cg],this.count=this.count+1,true):this.arrContains(cg,ci)?false:(ci.push(cg),this.count=this.count+1,true);},arrContains:function(cg,ch){var ci,cj,ck,cl;ci=true;cj=0;cl=ch.length;while(ci&&cj<cl)if(this.equals.apply(null,[ch[cj],cg]))ci=false;else cj=cj+1;return!ci;},ExceptWith:function(cg){var ch;ch=C.Get(cg);try{while(ch.MoveNext())this.Remove(ch.Current());}finally{if(typeof ch=="object"&&"Dispose"in ch)ch.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(cg){var ch,ci,cj,ck;ch=0;ci=b3.concat(this.data);for(cj=0,ck=ci.length-1;cj<=ck;cj++)T.set(cg,cj,ci[cj]);},IntersectWith:function(cg){var ch,ci,cj,ck,cl;ch=new bw.New$4(cg,this.equals,this.hash);ci=b3.concat(this.data);for(cj=0,ck=ci.length-1;cj<=ck;cj++){cl=ci[cj];!ch.Contains(cl)?this.Remove(cl):void 0;}},Remove:function(cg){var ch;ch=this.data[this.hash(cg)];return ch==null?false:this.arrRemove(cg,ch)&&(this.count=this.count-1,true);},arrRemove:function(cg,ch){var ci,cj,ck,cl;ci=true;cj=0;cl=ch.length;while(ci&&cj<cl)if(this.equals.apply(null,[ch[cj],cg])){ch.splice.apply(ch,[cj,1]);ci=false;}else cj=cj+1;return!ci;},GetEnumerator:function(){return C.Get(b3.concat(this.data));},GetEnumerator0:function(){return C.Get(b3.concat(this.data));}},h,bw);bw.New$3=ca.Ctor(function(){bw.New$4.call(this,[],E.Equals,E.Hash);},bw);bw.New$4=ca.Ctor(function(cg,ch,ci){var cj;h.New.call(this);this.equals=ch;this.hash=ci;this.data=[];this.count=0;cj=C.Get(cg);try{while(cj.MoveNext())this.add(cj.Current());}finally{if(typeof cj=="object"&&"Dispose"in cj)cj.Dispose();}},bw);bw.New$2=ca.Ctor(function(cg){bw.New$4.call(this,cg,E.Equals,E.Hash);},bw);bx.get_UseAnimations=function(){return bQ.UseAnimations();};bx.Play=function(cg){var ch;ch=null;return z.Delay(function(){return z.Bind(bx.Run(a.ignore,bQ.Actions(cg)),function(){bQ.Finalize(cg);return z.Return(null);});});};bx.Append=function(cg,ch){return{$:0,$0:bZ.Append(cg.$0,ch.$0)};};bx.Run=function(cg,ch){var ci;function cj(ck){function cl(cm,cn){var co;co=cn-cm;ch.Compute(co);cg();return co<=ci?void a.requestAnimationFrame(function(cp){cl(cm,cp);}):ck();}a.requestAnimationFrame(function(cm){cl(cm,cm);});}ci=ch.Duration;return ci===0?z.Zero():z.FromContinuations(function(ck,cl,cm){return cj.apply(null,[ck,cl,cm]);});};bx.Concat=function(cg){return{$:0,$0:bZ.Concat(q.map(bQ.List,cg))};};bx.get_Empty=function(){return{$:0,$0:bZ.Empty()};};by.BatchUpdatesEnabled=function(){bR.$cctor();return bR.BatchUpdatesEnabled;};bz.StartProcessor=function(cg){var ch;function ci(){var cj;cj=null;return z.Delay(function(){return z.Bind(cg,function(){var ck;ck=ch[0];return ck===1?(ch[0]=0,z.Zero()):ck===2?(ch[0]=1,ci()):z.Zero();});});}ch=[0];return function(){var cj;cj=ch[0];cj===0?(ch[0]=1,z.Start(ci(),null)):cj===1?ch[0]=2:void 0;};};bA=i.Elt=ca.Class({},y,bA);bA.New=function(cg,ch,ci){var cj,ck;cj=bf.CreateElemNode(cg,ch,ci.docNode);ck=bT.Create(ci.updates);return new bA.New$1({$:1,$0:cj},P.Map2Unit(bU.Updates(cj.Attr),ck.v),cg,ck);};bA.New$1=ca.Ctor(function(cg,ch,ci,cj){y.New.call(this,cg,ch);this.docNode$1=cg;this.updates$1=ch;this.elt=ci;this.rvUpdates=cj;},bA);bB=i.DocElemNode=ca.Class({Equals:function(cg){return this.ElKey===cg.ElKey;},GetHashCode:function(){return this.ElKey;}},null,bB);bB.New=function(cg,ch,ci,cj,ck,cl){var cm;return new bB((cm={Attr:cg,Children:ch,El:cj,ElKey:ck},(ca.SetOptional(cm,"Delimiters",ci),ca.SetOptional(cm,"Render",cl),cm)));};bD.$cctor=function(){bD.$cctor=a.ignore;bD.Doc=self.document;};bF.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new a.RegExp("[xy]","g"),function(cg){var ch,ci;ch=cf.random()*16|0;ci=cg=="x"?ch:ch&3|8;return ci.toString(16);});};bG=g.CancellationTokenSource=ca.Class({Cancel$1:function(){var cg;if(!this.c){this.c=true;cg=T.choose(function(ch){try{ch();return null;}catch(ci){return{$:1,$0:ci};}},this.r);if(T.length(cg)>0)throw new bX.New$3(cg);else void 0;}}},h,bG);bG.New=ca.Ctor(function(){h.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},bG);bH=br.ArrayStorage=ca.Class({SSet:function(cg){return T.ofSeq(cg);},SSetAt:function(cg,ch,ci){T.set(ci,cg,ch);return ci;},SAppend:function(cg,ch){ch.push(cg);return ch;},SInit:function(){return this.init;}},h,bH);bH.New=ca.Ctor(function(cg){h.New.call(this);this.init=cg;},bH);bJ=bI.attr=ca.Class({},h,bJ);T.mapFold=function(cg,ch,ci){var cj,ck,cl,cm,cn;ck=new a.Array(ci.length);cj=ch;for(cl=0,cm=ci.length-1;cl<=cm;cl++){cn=cg(cj,ci[cl]);ck[cl]=cn[0];cj=cn[1];}return[ck,cj];};q.insufficient=function(){return k.FailWith("The input sequence has an insufficient number of elements.");};T.mapiInPlace=function(cg,ch){var ci,cj;for(ci=0,cj=ch.length-1;ci<=cj;ci++)ch[ci]=cg(ci,ch[ci]);return ch;};T.mapInPlace=function(cg,ch){var ci,cj;for(ci=0,cj=ch.length-1;ci<=cj;ci++)ch[ci]=cg(ch[ci]);};q.nonNegative=function(){return k.FailWith("The input must be non-negative.");};bK.alreadyAdded=function(){return k.FailWith("An item with the same key has already been added.");};bK.notPresent=function(){return k.FailWith("The given key was not present in the dictionary.");};bL.convertTextNode=function(cg){var ch,ci,cj,ck,cl,cm;ch=null;ci=0;ck=cg.textContent;cl=new a.RegExp(K.TextHoleRE(),"g");while(ch=cl.exec(ck),ch!==null){cg.parentNode.insertBefore(self.document.createTextNode(bb.string(ck,{$:1,$0:ci},{$:1,$0:cl.lastIndex-T.get(ch,0).length-1})),cg);ci=cl.lastIndex;cm=self.document.createElement("span");cm.setAttribute("ws-replace",T.get(ch,1).toLowerCase());cg.parentNode.insertBefore(cm,cg);}cl.lastIndex=0;cg.textContent=bb.string(ck,{$:1,$0:ci},null);};bL.failNotLoaded=function(cg){cb.warn("Instantiating non-loaded template",cg);};bL.fillTextHole=function(cg,ch,ci){var cj;cj=cg.querySelector("[ws-replace]");return E.Equals(cj,null)?(cb.warn("Filling non-existent text hole",ci),null):(cj.parentNode.replaceChild(new a.Text(ch),cj),{$:1,$0:cj.getAttribute("ws-replace")});};bL.removeHolesExcept=function(cg,ch){function ci(cj){Q.IterSelector(cg,"["+cj+"]",function(ck){if(!ch.Contains(ck.getAttribute(cj)))ck.removeAttribute(cj);});}ci("ws-attr");ci("ws-onafterrender");ci("ws-var");Q.IterSelector(cg,"[ws-hole]",function(cj){if(!ch.Contains(cj.getAttribute("ws-hole"))){cj.removeAttribute("ws-hole");while(cj.hasChildNodes())cj.removeChild(cj.lastChild);}});Q.IterSelector(cg,"[ws-replace]",function(cj){if(!ch.Contains(cj.getAttribute("ws-replace")))cj.parentNode.removeChild(cj);});Q.IterSelector(cg,"[ws-on]",function(cj){cj.setAttribute("ws-on",bl.concat(" ",T.filter(function(ck){return ch.Contains(T.get(bl.SplitChars(ck,[":"],1),1));},bl.SplitChars(cj.getAttribute("ws-on"),[" "],1))));});Q.IterSelector(cg,"[ws-attr-holes]",function(cj){var ck,cl,cm,cn,co;ck=bl.SplitChars(cj.getAttribute("ws-attr-holes"),[" "],1);for(cl=0,cm=ck.length-1;cl<=cm;cl++){cn=T.get(ck,cl);cj.setAttribute(cn,(co=new a.RegExp(K.TextHoleRE(),"g"),cj.getAttribute(cn).replace(co,function(cp,cq){return ch.Contains(cq)?cp:"";})));}});};bL.fillInstanceAttrs=function(cg,ch){var ci,cj,ck,cl,cm;bL.convertAttrs(ch);ci=ch.nodeName.toLowerCase();cj=cg.querySelector("[ws-attr="+ci+"]");if(E.Equals(cj,null))cb.warn("Filling non-existent attr hole",ci);else{cj.removeAttribute("ws-attr");for(ck=0,cl=ch.attributes.length-1;ck<=cl;ck++){cm=ch.attributes.item(ck);cm.name==="class"&&cj.hasAttribute("class")?cj.setAttribute("class",cj.getAttribute("class")+" "+cm.nodeValue):cj.setAttribute(cm.name,cm.nodeValue);}}};bL.mapHoles=function(cg,ch){function ci(cj){Q.IterSelector(cg,"["+cj+"]",function(ck){var cl,cm;cl=(cm=null,[ch.TryGetValue(ck.getAttribute(cj).toLowerCase(),{get:function(){return cm;},set:function(cn){cm=cn;}}),cm]);cl[0]?ck.setAttribute(cj,cl[1]):void 0;});}ci("ws-hole");ci("ws-replace");ci("ws-attr");ci("ws-onafterrender");ci("ws-var");Q.IterSelector(cg,"[ws-on]",function(cj){cj.setAttribute("ws-on",bl.concat(" ",T.map(function(ck){var cl,cm,cn;cl=bl.SplitChars(ck,[":"],1);cm=(cn=null,[ch.TryGetValue(T.get(cl,1),{get:function(){return cn;},set:function(co){cn=co;}}),cn]);return cm[0]?T.get(cl,0)+":"+cm[1]:ck;},bl.SplitChars(cj.getAttribute("ws-on"),[" "],1))));});Q.IterSelector(cg,"[ws-attr-holes]",function(cj){var ck,cl,cm;ck=bl.SplitChars(cj.getAttribute("ws-attr-holes"),[" "],1);for(cl=0,cm=ck.length-1;cl<=cm;cl++)(function(){var cn;function co(cp,cq){var cr;cr=k.KeyValue(cq);return cp.replace(new a.RegExp("\\${"+cr[0]+"}","ig"),"${"+cr[1]+"}");}cn=T.get(ck,cl);return cj.setAttribute(cn,(((ca.Curried3(q.fold))(co))(cj.getAttribute(cn)))(ch));}());});};bL.fill=function(cg,ch,ci){while(true)if(cg.hasChildNodes())ci=ch.insertBefore(cg.lastChild,ci);else return null;};bL.convertAttrs=function(cg){var ci,cj,ck,cl,cm,cn,co,cp;function ch(cq){var cr;cr=cg.getAttribute(cq);cr===null?void 0:cg.setAttribute(cq,cr.toLowerCase());}ci=cg.attributes;cj=[];ck=[];cl=[];for(cm=0,cn=ci.length-1;cm<=cn;cm++){co=ci.item(cm);bl.StartsWith(co.nodeName,"ws-on")&&co.nodeName!=="ws-onafterrender"&&co.nodeName!=="ws-on"?(cj.push(co.nodeName),ck.push(bb.string(co.nodeName,{$:1,$0:"ws-on".length},null)+":"+co.nodeValue.toLowerCase())):!bl.StartsWith(co.nodeName,"ws-")&&(new a.RegExp(K.TextHoleRE())).test(co.nodeValue)?(co.nodeValue=(cp=new a.RegExp(K.TextHoleRE(),"g"),co.nodeValue.replace(cp,function(cq,cr){return"${"+cr.toLowerCase()+"}";})),cl.push(co.nodeName)):void 0;}!(ck.length==0)?cg.setAttribute("ws-on",bl.concat(" ",ck)):void 0;!(cl.length==0)?cg.setAttribute("ws-attr-holes",bl.concat(" ",cl)):void 0;ch("ws-hole");ch("ws-replace");ch("ws-attr");ch("ws-onafterrender");ch("ws-var");T.iter(function(cq){cg.removeAttribute(cq);},cj);};bM=_8.KeyCollection=ca.Class({GetEnumerator$1:function(){return C.Get(q.map(function(cg){return cg.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},h,bM);bM.New=ca.Ctor(function(cg){h.New.call(this);this.d=cg;},bM);bO.New=function(cg,ch){return{PreviousNodes:cg,Top:ch};};bP.get_Empty=function(){return{$:0,$0:new bw.New$3()};};bP.FindAll=function(cg){var ch;function ci(ck){if(ck!=null&&ck.$==0){ci(ck.$0);ci(ck.$1);}else if(ck!=null&&ck.$==1)cj(ck.$0);else if(ck!=null&&ck.$==2)ci(ck.$0.Current);else if(ck!=null&&ck.$==6)T.iter(cj,ck.$0.Holes);}function cj(ck){ch.push(ck);ci(ck.Children);}ch=[];ci(cg);return{$:0,$0:new bw.New$2(ch)};};bP.Filter=function(cg,ch){return{$:0,$0:b2.Filter(cg,ch.$0)};};bP.Except=function(cg,ch){return{$:0,$0:b2.Except(cg.$0,ch.$0)};};bP.ToArray=function(cg){return b2.ToArray(cg.$0);};bP.Intersect=function(cg,ch){return{$:0,$0:b2.Intersect(cg.$0,ch.$0)};};bQ.UseAnimations=function(){bY.$cctor();return bY.UseAnimations;};bQ.Actions=function(cg){return bQ.ConcatActions(T.choose(function(ch){return ch.$==1?{$:1,$0:ch.$0}:null;},bZ.ToArray(cg.$0)));};bQ.Finalize=function(cg){T.iter(function(ch){if(ch.$==0)ch.$0();},bZ.ToArray(cg.$0));};bQ.ConcatActions=function(cg){var ch,ci,cj,ck;ch=bd.ofSeqNonCopying(cg);ci=T.length(ch);return ci===0?bQ.Const():ci===1?T.get(ch,0):(cj=q.max(q.map(function(cl){return cl.Duration;},ch)),(ck=T.map(function(cl){return bQ.Prolong(cj,cl);},ch),bQ.Def(cj,function(cl){T.iter(function(cm){cm.Compute(cl);},ck);})));};bQ.List=function(cg){return cg.$0;};bQ.Const=function(cg){return bQ.Def(0,function(){return cg;});};bQ.Def=function(cg,ch){return{Compute:ch,Duration:cg};};bQ.Prolong=function(cg,ch){var ci,cj,ck;ci=ch.Compute;cj=ch.Duration;ck=b7.Create(function(){return ch.Compute(ch.Duration);});return{Compute:function(cl){return cl>=cj?ck.f():ci(cl);},Duration:cg};};bR.$cctor=function(){bR.$cctor=a.ignore;bR.BatchUpdatesEnabled=true;};bS.$cctor=function(){bS.$cctor=a.ignore;bS.counter=0;};bT=i.Updates=ca.Class({},null,bT);bT.Create=function(cg){var ch;ch=null;ch=bT.New(cg,null,function(){var ci;ci=ch.s;return ci===null?(ci=N.Copy(ch.c()),ch.s=ci,N.WhenObsoleteRun(ci,function(){ch.s=null;}),ci):ci;});return ch;};bT.New=function(cg,ch,ci){return new bT({c:cg,s:ch,v:ci});};bU.Updates=function(cg){return bd.MapTreeReduce(function(ch){return ch.NChanged();},P.Const(),P.Map2Unit,cg.DynNodes);};bU.AppendTree=function(cg,ch){var ci;return cg===null?ch:ch===null?cg:(ci=new bj({$:2,$0:cg,$1:ch}),(bU.SetFlags(ci,bU.Flags(cg)|bU.Flags(ch)),ci));};bU.EmptyAttr=function(){b0.$cctor();return b0.EmptyAttr;};bU.Static=function(cg){return new bj({$:3,$0:cg});};bU.Insert=function(cg,ch){var ci,cj,ck;function cl(cm){if(!(cm===null))if(cm!=null&&cm.$==1)ci.push(cm.$0);else if(cm!=null&&cm.$==2){cl(cm.$0);cl(cm.$1);}else if(cm!=null&&cm.$==3)cm.$0(cg);else if(cm!=null&&cm.$==4)cj.push(cm.$0);}ci=[];cj=[];cl(ch);ck=ci.slice(0);return bW.New(cg,bU.Flags(ch),ck,cj.length===0?null:{$:1,$0:function(cm){q.iter(function(cn){cn(cm);},cj);}});};bU.HasExitAnim=function(cg){var ch;ch=2;return(cg.DynFlags&ch)===ch;};bU.GetExitAnim=function(cg){return bU.GetAnim(cg,function(ch,ci){return ch.NGetExitAnim(ci);});};bU.HasEnterAnim=function(cg){var ch;ch=1;return(cg.DynFlags&ch)===ch;};bU.GetEnterAnim=function(cg){return bU.GetAnim(cg,function(ch,ci){return ch.NGetEnterAnim(ci);});};bU.HasChangeAnim=function(cg){var ch;ch=4;return(cg.DynFlags&ch)===ch;};bU.GetChangeAnim=function(cg){return bU.GetAnim(cg,function(ch,ci){return ch.NGetChangeAnim(ci);});};bU.SetFlags=function(cg,ch){cg.flags=ch;};bU.Flags=function(cg){return cg!==null&&cg.hasOwnProperty("flags")?cg.flags:0;};bU.Dynamic=function(cg,ch){return new bj({$:1,$0:new b4.New(cg,ch)});};bU.GetAnim=function(cg,ch){return bx.Concat(T.map(function(ci){return ch(ci,cg.DynElem);},cg.DynNodes));};bU.Sync=function(cg,ch){T.iter(function(ci){ci.NSync(cg);},ch.DynNodes);};bW.New=function(cg,ch,ci,cj){var ck;ck={DynElem:cg,DynFlags:ch,DynNodes:ci};ca.SetOptional(ck,"OnAfterRender",cj);return ck;};bX=g.AggregateException=ca.Class({},bs,bX);bX.New$3=ca.Ctor(function(cg){bX.New$4.call(this,"One or more errors occurred.",cg);},bX);bX.New$4=ca.Ctor(function(cg,ch){this.message=cg;bp.setPrototypeOf(this,bX.prototype);this.innerExceptions=ch;},bX);bY.$cctor=function(){bY.$cctor=a.ignore;bY.CubicInOut=b1.Custom(function(cg){var ch;ch=cg*cg;return 3*ch-2*(ch*cg);});bY.UseAnimations=true;};bZ.Append=function(cg,ch){return cg.$==0?ch:ch.$==0?cg:{$:2,$0:cg,$1:ch};};bZ.ToArray=function(cg){var ch;function ci(cj){if(cj.$==1)ch.push(cj.$0);else if(cj.$==2){ci(cj.$0);ci(cj.$1);}else if(cj.$==3)T.iter(function(ck){ch.push(ck);},cj.$0);}ch=[];ci(cg);return ch.slice(0);};bZ.Concat=function(cg){var ch;ch=bd.ofSeqNonCopying(cg);return bd.TreeReduce(bZ.Empty(),bZ.Append,ch);};bZ.Empty=function(){b8.$cctor();return b8.Empty;};b0.$cctor=function(){b0.$cctor=a.ignore;b0.EmptyAttr=null;};b1=i.Easing=ca.Class({},h,b1);b1.Custom=function(cg){return new b1.New(cg);};b1.New=ca.Ctor(function(cg){h.New.call(this);this.transformTime=cg;},b1);b2.Filter=function(cg,ch){return new bw.New$2(T.filter(cg,b2.ToArray(ch)));};b2.Except=function(cg,ch){var ci;ci=new bw.New$2(b2.ToArray(ch));ci.ExceptWith(b2.ToArray(cg));return ci;};b2.ToArray=function(cg){var ch;ch=T.create(cg.get_Count(),void 0);cg.CopyTo(ch);return ch;};b2.Intersect=function(cg,ch){var ci;ci=new bw.New$2(b2.ToArray(cg));ci.IntersectWith(b2.ToArray(ch));return ci;};b3.concat=function(cg){var ch,ci;ch=[];for(var cj in cg)ch.push.apply(ch,cg[cj]);return ch;};b4=i.DynamicAttrNode=ca.Class({NChanged:function(){return this.updates;},NGetExitAnim:function(cg){return bx.get_Empty();},NGetEnterAnim:function(cg){return bx.get_Empty();},NGetChangeAnim:function(cg){return bx.get_Empty();},NSync:function(cg){if(this.dirty){(this.push(cg))(this.value);this.dirty=false;}}},h,b4);b4.New=ca.Ctor(function(cg,ch){var ci;ci=this;h.New.call(this);this.push=ch;this.value=void 0;this.dirty=false;this.updates=P.Map(function(cj){ci.value=cj;ci.dirty=true;},cg);},b4);b5.Clear=function(cg){cg.splice(0,T.length(cg));};b6.Children=function(cg,ch){var ci,cj,ck;if(ch!=null&&ch.$==1){ck=[];ci=ch.$0[0].nextSibling;while(ci!==ch.$0[1]){ck.push(ci);ci=ci.nextSibling;}return{$:0,$0:ck};}else return{$:0,$0:T.init(cg.childNodes.length,(cj=cg.childNodes,function(cl){return cj[cl];}))};};b6.Except=function(cg,ch){var ci;ci=cg.$0;return{$:0,$0:T.filter(function(cj){return T.forall(function(ck){return!(cj===ck);},ci);},ch.$0)};};b6.Iter=function(cg,ch){T.iter(cg,ch.$0);};b6.DocChildren=function(cg){var ch;function ci(cj){if(cj!=null&&cj.$==2)ci(cj.$0.Current);else if(cj!=null&&cj.$==1)ch.push(cj.$0.El);else if(cj==null);else if(cj!=null&&cj.$==5)ch.push(cj.$0);else if(cj!=null&&cj.$==4)ch.push(cj.$0.Text);else if(cj!=null&&cj.$==6)T.iter(function(ck){if(ck==null||ck.constructor===bp)ci(ck);else ch.push(ck);},cj.$0.Els);else{ci(cj.$0);ci(cj.$1);}}ch=[];ci(cg.Children);return{$:0,$0:bd.ofSeqNonCopying(ch)};};b7.Create=function(cg){return b_.New(false,cg,b7.forceLazy);};b7.forceLazy=function(){var cg;cg=this.v();this.c=true;this.v=cg;this.f=b7.cachedLazy;return cg;};b7.cachedLazy=function(){return this.v;};b8.$cctor=function(){b8.$cctor=a.ignore;b8.Empty={$:0};};b_.New=function(cg,ch,ci){return{c:cg,v:ch,f:ci};};ca.OnLoad(function(){e.main();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
//# sourceMappingURL=testing.min.map
