function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$;a=self;b=a.FsRoot=a.FsRoot||{};c=b.Library=b.Library||{};d=c.Monads=c.Monads||{};e=d.Seq=d.Seq||{};f=d.Async=d.Async||{};g=c.String=c.String||{};h=c.ParseO=c.ParseO||{};i=b.TestingJS=b.TestingJS||{};j=i.Covid=i.Covid||{};k=j.State=j.State||{};l=j.Function=j.Function||{};m=a.WebSharper=a.WebSharper||{};n=m.Operators=m.Operators||{};o=m.Utils=m.Utils||{};p=m.Arrays=m.Arrays||{};q=m.Unchecked=m.Unchecked||{};r=m.Obj=m.Obj||{};s=m.Collections=m.Collections||{};t=s.Dictionary=s.Dictionary||{};u=m.CancellationTokenSource=m.CancellationTokenSource||{};v=m.UI=m.UI||{};w=v.Var$1=v.Var$1||{};x=v.Var=v.Var||{};y=v.View=v.View||{};z=a.StartupCode$testing$testing=a.StartupCode$testing$testing||{};A=m.Seq=m.Seq||{};B=m.List=m.List||{};C=B.T=B.T||{};D=m.Char=m.Char||{};E=m.Slice=m.Slice||{};F=m.Strings=m.Strings||{};G=s.Map=s.Map||{};H=s.Set=s.Set||{};I=a.FSharp=a.FSharp||{};J=I.Data=I.Data||{};K=J.Runtime=J.Runtime||{};L=K.IO=K.IO||{};M=s.FSharpMap=s.FSharpMap||{};N=v.AttrModule=v.AttrModule||{};O=v.Doc=v.Doc||{};P=v.HtmlModule=v.HtmlModule||{};Q=P.attr=P.attr||{};R=a.EventTarget;S=a.Node;T=m.JavaScript=m.JavaScript||{};U=T.JS=T.JS||{};V=T.Pervasives=T.Pervasives||{};W=a.Object;X=s.DictionaryUtil=s.DictionaryUtil||{};Y=a.Error;Z=m.AggregateException=m.AggregateException||{};_0=m.Concurrency=m.Concurrency||{};_1=v.ConcreteVar=v.ConcreteVar||{};_2=v.Snap=v.Snap||{};_3=v.Abbrev=v.Abbrev||{};_4=_3.Async=_3.Async||{};_5=m.Numeric=m.Numeric||{};_6=a.System=a.System||{};_7=_6.Guid=_6.Guid||{};_8=v.ViewBuilder=v.ViewBuilder||{};_9=s.FSharpSet=s.FSharpSet||{};_=m.Enumerator=m.Enumerator||{};$=_.T=_.T||{};ba=s.BalancedTree=s.BalancedTree||{};bb=m.Data=m.Data||{};bc=bb.TxtRuntime=bb.TxtRuntime||{};bd=bb.Pervasives=bb.Pervasives||{};be=s.MapUtil=s.MapUtil||{};bf=v.Attrs=v.Attrs||{};bg=v.DomUtility=v.DomUtility||{};bh=v.Array=v.Array||{};bi=v.Docs=v.Docs||{};bj=v.AttrProxy=v.AttrProxy||{};bk=v.Client=v.Client||{};bl=bk.Templates=bk.Templates||{};bm=a.WindowOrWorkerGlobalScope;bn=_0.CT=_0.CT||{};bo=_0.AsyncBody=_0.AsyncBody||{};bp=_3.Fresh=_3.Fresh||{};bq=m.DateUtil=m.DateUtil||{};br=m.TimeoutException=m.TimeoutException||{};bs=s.Pair=s.Pair||{};bt=ba.Tree=ba.Tree||{};bu=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};bv=v.DocElemNode=v.DocElemNode||{};bw=_0.Scheduler=_0.Scheduler||{};bx=m.OperationCanceledException=m.OperationCanceledException||{};by=s.HashSet=s.HashSet||{};bz=a.CharacterData;bA=bk.Attrs=bk.Attrs||{};bB=bA.Dyn=bA.Dyn||{};bC=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};bD=v.Elt=v.Elt||{};bE=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};bF=v.An=v.An||{};bG=bk.Settings=bk.Settings||{};bH=_3.Mailbox=_3.Mailbox||{};bI=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};bJ=v.Updates=v.Updates||{};bK=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};bL=bl.Prepare=bl.Prepare||{};bM=s.KeyCollection=s.KeyCollection||{};bN=bk.Docs=bk.Docs||{};bO=bN.RunState=bN.RunState||{};bP=bN.NodeSet=bN.NodeSet||{};bQ=v.Anims=v.Anims||{};bR=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};bS=m.FormatException=m.FormatException||{};bT=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};bU=v.AppendList=v.AppendList||{};bV=m.Queue=m.Queue||{};bW=v.DynamicAttrNode=v.DynamicAttrNode||{};bX=v.Easing=v.Easing||{};bY=_3.HashSet=_3.HashSet||{};bZ=s.HashSetUtil=s.HashSetUtil||{};b0=bN.DomNodes=bN.DomNodes||{};b1=m.Lazy=m.Lazy||{};b2=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};b3=m.LazyExtensionsProxy=m.LazyExtensionsProxy||{};b4=b3.LazyRecord=b3.LazyRecord||{};b5=a.console;b6=a.JSON;b7=a.IntelliFactory;b8=b7&&b7.Runtime;b9=a.Date;b_=a.jQuery;b$=a.Math;c.Error=function(ca){return{$:1,$0:ca};};c.print=function(ca){if(typeof ca=="string")((function(cb){return function(cc){return cb(o.toSafe(cc));};}(function(cb){b5.log(cb);}))(ca));else((function(cb){return function(cc){return cb(o.prettyPrint(cc));};}(function(cb){b5.log(cb);}))(ca));};c.delayedA=function(ca,cb){var cc;cc=null;return function(cd){var ce;cc==null?void 0:cc.$0.Cancel$1();cc={$:1,$0:new u.New()};_0.Start((ce=null,_0.Delay(function(){return _0.Bind(_0.Sleep(ca),function(){return _0.Bind(cb(cd),function(){return _0.Return(null);});});})),{$:1,$0:cc.$0});};};c.delayed=function(ca,cb){function cc(){return _0.Return(null);}return c.delayedA(ca,function(cd){return cc(cb(cd));});};c.delayedVar=function(ca,cb){var cc,cd;cc=w.Create$1(cb.Get());cd=cb.get_View();y.Sink(c.delayed(ca,function(ce){cc.Set(ce);}),cd);return cc;};c["String.Substring2"]=function(ca,cb,cc){var cd,ce;while(true){if(cc<=0)return"";else if(cb>=ca.length)return"";else if(cb<0){cd=cb;cb=0;cc=cc+cd;}else return F.Substring(ca,cb,(ce=ca.length-cb,q.Compare(cc,ce)===-1?cc:ce));}};c["String.Left"]=function(ca,cb){return cb<0?c["String.Substring2"](ca,0,ca.length+cb):c["String.Substring2"](ca,0,cb);};c["String.Right"]=function(ca,cb){var cc,cd;return c["String.Substring2"](ca,(cc=0,(cd=ca.length-cb,q.Compare(cc,cd)===1?cc:cd)),ca.length);};c["String.get_toUnderscore"]=function(ca,cb){return p.ofSeq(A.collect(a.id,A.mapi(function(cc,cd){return cc>0&&D.IsUpper(cd)?B.ofArray(["_",cd]):B.ofArray([cd]);},ca))).join("");};e.rtn=function(){z.$cctor();return z.rtn;};e.insertO=function(ca){var cb;cb=ca==null?null:{$:1,$0:A.map(function(cc){return{$:1,$0:cc};},ca.$0)};return cb==null?(e.rtn())(null):cb.$0;};e.insertR=function(ca){return ca.$==0?A.map(function(cb){return{$:0,$0:cb};},ca.$0):(e.rtn())(c.Error(ca.$0));};e.absorbO=function(ca){return A.choose(a.id,ca);};e.absorbR=function(ca){return A.choose(function(cb){return cb.$==0?{$:1,$0:cb.$0}:null;},ca);};e.ofOption=function(ca){return ca==null?[]:[ca.$0];};f.apply=function(ca,cb){var cc;cc=null;return _0.Delay(function(){return _0.Bind(_0.StartChild(ca,null),function(cd){return _0.Bind(_0.StartChild(cb,null),function(ce){return _0.Bind(cd,function(cf){return _0.Bind(ce,function(cg){return _0.Return(cf(cg));});});});});});};f.sleepThen=function(ca,cb){var cc;cc=null;return _0.Delay(function(){return _0.Bind(_0.Sleep(cb),function(){return _0.Return(ca());});});};f.op_GreaterGreaterEquals=function(ca,cb){return _0.Bind(ca,cb);};f.traverseSeq=function(ca,cb){function cc(cd){return _0.Return(cd);}return _0.Bind(p.foldBack(function(cd,ce){return f.op_GreaterGreaterEquals(ca(cd),function(cf){return f.op_GreaterGreaterEquals(ce,function(cg){return _0.Return(new C({$:1,$0:cf,$1:cg}));});});},p.ofSeq(cb),_0.Return(C.Empty)),function(cd){return cc(a.id(cd));});};f.sequenceSeq=function(ca){return f.traverseSeq(a.id,ca);};f.sequenceSeqS=function(ca){throw"traverseSeqS cannot be used in JavaScript!";};f.insertO=function(ca){var cb;function cc(ce){return{$:1,$0:ce};}function cd(ce){return _0.Return(ce);}cb=ca==null?null:{$:1,$0:_0.Bind(ca.$0,function(ce){return cd(cc(ce));})};return cb==null?_0.Return(null):cb.$0;};f.insertR=function(ca){function cb(cd){return{$:0,$0:cd};}function cc(cd){return _0.Return(cd);}return ca.$==0?_0.Bind(ca.$0,function(cd){return cc(cb(cd));}):_0.Return(c.Error(ca.$0));};g.splitByChar=function(ca,cb){return F.SplitChars(cb,[ca],0);};g.splitInTwoO=function(ca,cb){var cc;cc=cb.indexOf(ca);return cc===-1?null:{$:1,$0:[c["String.Left"](cb,cc),cb.substring(cc+ca.length)]};};g.delimitedO=function(ca,cb,cc){var cd,ce,cf,cg,ch;cd=g.splitInTwoO(ca,cc);return cd==null?null:(ce=cd.$0,(cf=ce[0],(cg=g.splitInTwoO(cb,ce[1]),cg==null?null:{$:1,$0:(ch=cg.$0,[cf,ch[0],ch[1]])})));};g.contains=function(ca,cb){return cb.indexOf(ca)!=-1;};g.trim=function(ca){return F.Trim(ca);};g.left=function(ca,cb){return c["String.Left"](cb,ca);};g.right=function(ca,cb){return c["String.Right"](cb,ca);};g.append=function(ca,cb){return ca+cb;};g.skipFirstLine=function(ca){var cb;cb=ca.indexOf("\n");return cb<0?"":E.string(ca,{$:1,$0:cb+1},null);};g.unindent=function(ca){var cb,cc,cd,ce;cb=F.SplitChars(ca,["\n"],0);cc=(cd=A.tryFindIndex(function(cf){return" "!==cf;},(ce=A.tryFind(function(cf){return F.Trim(cf)!=="";},cb),ce==null?"":ce.$0)),cd==null?0:cd.$0);return A.filter(function(cf){return!F.StartsWith(cf,"# 1 ");},A.map(function(cf){return cf.length<=cc?"":cf.substring(cc);},cb));};g.indent=function(ca,cb){var cc,cd;cc=F.SplitChars(cb,["\n"],0);return A.map((cd=F.replicate(ca," "),function(ce){return cd+ce;}),cc);};g.unindentStr=function(){z.$cctor();return z.unindentStr;};g.indentStr=function(ca){function cb(cd){return g.indent(ca,cd);}function cc(cd){return F.concat("\n",cd);}return function(cd){return cc(cb(cd));};};g.skipLastLine=function(){z.$cctor();return z.skipLastLine;};g.StartsWith=function(ca,cb){return F.StartsWith(cb,ca)?{$:1,$0:E.string(cb,{$:1,$0:ca.length},null)}:null;};g.EndsWith=function(ca,cb){return F.EndsWith(cb,ca)?{$:1,$0:E.string(cb,{$:1,$0:0},{$:1,$0:cb.length-ca.length-1})}:null;};g.WhiteSpace=function(ca){function cb(cc){return!cc;}return A.exists(function(cc){return cb(D.IsWhiteSpace(cc));},ca)?null:{$:1,$0:null};};g.thousands=function(ca){var cb,cc,cd,ce;cb=(cc=ca<0?-ca:ca,a.String(cc));cd=cb.length%3;ce=cd===0?3:cd;return ca<0?"-"+F.concat(",",B.ofSeq(A.delay(function(){return A.append([E.string(cb,{$:1,$0:0},{$:1,$0:ce-1})],A.delay(function(){return A.map(function(cf){return E.string(cb,{$:1,$0:cf*3+ce},{$:1,$0:cf*3+ce+2});},n.range(0,((cb.length-ce)/3>>0)-1));}));}))):F.concat(",",B.ofSeq(A.delay(function(){return A.append([E.string(cb,{$:1,$0:0},{$:1,$0:ce-1})],A.delay(function(){return A.map(function(cf){return E.string(cb,{$:1,$0:cf*3+ce},{$:1,$0:cf*3+ce+2});},n.range(0,((cb.length-ce)/3>>0)-1));}));})));};h.tryParseWith=function(ca){function cb(cc,cd){return cc?{$:1,$0:cd}:null;}return function(cc){return cb.apply(null,ca(cc));};};h.parseDateO2=function(){z.$cctor();return z.parseDateO2;};h.parseDateO=function(){z.$cctor();return z.parseDateO;};h.parseIntO=function(){z.$cctor();return z.parseIntO;};h.parseInt64O=function(){z.$cctor();return z.parseInt64O;};h.parseSingleO=function(){z.$cctor();return z.parseSingleO;};h.parseDoubleO=function(){z.$cctor();return z.parseDoubleO;};h.parseGuidO=function(){z.$cctor();return z.parseGuidO;};h.Date=function(){z.$cctor();return z["|Date|_|"];};h.Int=function(){z.$cctor();return z["|Int|_|"];};h.Int64=function(){z.$cctor();return z["|Int64|_|"];};h.Single=function(){z.$cctor();return z["|Single|_|"];};h.Double=function(){z.$cctor();return z["|Double|_|"];};h.Guid=function(){z.$cctor();return z["|Guid|_|"];};j.statesPop2019=function(){z.$cctor();return z.statesPop2019;};j.statesCodes=function(){z.$cctor();return z.statesCodes;};j.splitStates=function(ca){return p.map(function(cb){return new k({$:0,$0:cb});},F.SplitChars(F.Trim(ca),[" "],0));};j.getStatePop=function(ca){var cb;cb=G.TryFind(ca,j.statesPop2019());return cb==null?100000:cb.$0;};j.getStatesPopM=function(ca){var cb;return A.sum(new _9.New$1(ba.OfSeq(A.map(j.getStatePop,H.Filter((cb=new k({$:0,$0:"US"}),function(cc){return!q.Equals(cb,cc);}),ca)))));};j.getStatesPop=function(){z.$cctor();return z.getStatesPop;};j.CovidStatesCurrentUrl=function(){z.$cctor();return z.CovidStatesCurrentUrl;};j.CovidStatesDailyUrl=function(){z.$cctor();return z.CovidStatesDailyUrl;};j.getStateDaily=function(ca){var cb;cb=ca.$0;return bc.AsyncMap(L.asyncReadTextAtRuntime(false,"D:\\Abe\\CIPHERWorkspace\\FSharpStation\\src","","JSON","",F.Replace("https://covidtracking.com/api/v1/states/TX/daily.json",cb==="US"?"/states/TX/":"/TX/","/"+cb+"/")),function(cc){return q.Equals(typeof cc,"string")?b6.parse(cc):cc;});};j.deathsA=function(ca){var cb;cb=null;return _0.Delay(function(){return _0.Bind(j.getStateDaily(ca),function(cc){return _0.Return(new M.New(A.sort(p.choose(function(cd){var ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp;ce=(cf=(cg="death",cg in cd?{$:1,$0:cd[cg]}:null),cf==null?null:{$:1,$0:1*cf.$0});return ce==null?null:{$:1,$0:[(new a.Date((ch=(ci="date",ci in cd?{$:1,$0:cd[ci]}:null),(cj=ch==null?null:{$:1,$0:1*ch.$0},cj==null?null:cj.$0))/10000>>0,((ck=(cl="date",cl in cd?{$:1,$0:cd[cl]}:null),(cm=ck==null?null:{$:1,$0:1*ck.$0},cm==null?null:cm.$0))/100>>0)%100-1,(cn=(co="date",co in cd?{$:1,$0:cd[co]}:null),(cp=cn==null?null:{$:1,$0:1*cn.$0},cp==null?null:cp.$0))%100)).getTime(),ce.$0*1]};},cc))));});});};j.deaths=function(ca){var cb;cb=null;return _0.Delay(function(){return _0.Bind(j.deathsA(ca),function(cc){return _0.Return([ca,cc]);});});};j.printDeaths=function(ca){var cb;_0.Start((cb=null,_0.Delay(function(){return _0.Bind(j.deathsA(ca),function(cc){A.iter(function(cd){(((b8.Curried3(function(ce,cf,cg){return ce(o.prettyPrint(cf)+" "+a.String(cg));}))(function(ce){b5.log(ce);}))(cd.K))(cd.V);},cc);return _0.Zero();});})),null);};j.ahora=function(){z.$cctor();return z.ahora;};j.toggleSt=function(){z.$cctor();return z.toggleSt;};j.statesV=function(){z.$cctor();return z.statesV;};j.delayedV=function(){z.$cctor();return z.delayedV;};j.statesW=function(){z.$cctor();return z.statesW;};j.totalizeW=function(){z.$cctor();return z.totalizeW;};j.columnsW=function(){z.$cctor();return z.columnsW;};j.thousands=function(ca){return ca<0?"-"+function(cb,cc){var cd;while(true)if(cc==="")return cb;else{cd=cc;cb=c["String.Right"](cd,3)+(cb===""?"":","+cb);cc=c["String.Left"](cd,-3);}}("",a.String(ca<0?-ca:ca)):function(cb,cc){var cd;while(true)if(cc==="")return cb;else{cd=cc;cb=c["String.Right"](cd,3)+(cb===""?"":","+cb);cc=c["String.Left"](cd,-3);}}("",a.String(ca<0?-ca:ca));};j.getPrior=function(ca,cb,cc){var cd;cd=G.TryFind(cc+ca*86400000,cb);return cd==null?0:cd.$0;};j.deathsSince=function(ca,cb,cc,cd){return cd-j.getPrior(-ca,cb,cc);};j.daily=function(ca,cb,cc){return j.deathsSince(1,ca,cb,cc);};j.weekly=function(ca,cb,cc){return j.deathsSince(7,ca,cb,cc);};j.monthly=function(ca,cb,cc){return j.deathsSince(30,ca,cb,cc);};j.yearly=function(ca,cb,cc){return 52*j.weekly(ca,cb,cc);};j.fname=function(ca){return ca.$0;};j.funcs=function(){z.$cctor();return z.funcs;};j.functionV=function(){z.$cctor();return z.functionV;};j.rowsW=function(){z.$cctor();return z.rowsW;};j.reorderStates=function(){y.Get(function(ca){var cb;function cc(cd,ce){return cd.get_Id();}cb=F.concat(" ",A.map(function(cd){return cc(cd[0],cd[1]);},A.sortByDescending(function(cd){return cd[1];},(A.maxBy(function(cd){return a.id(cd[0],cd[1],cd[2]);},ca))[1])));j.statesV().Set(cb);},j.rowsW());};j.alignRight=function(){return N.Style("text-align","right");};j.bootstrap=function(){return O.Verbatim("<link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css\" integrity=\"sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh\" crossorigin=\"anonymous\"> ");};j.reorderButton=function(){return O.Button("Reorder",[],function(){j.reorderStates();});};j.statesInput=function(){return O.Input([bj.Create("style","width: 70%")],j.statesV());};j.statesList=function(){return O.SelectOptional([],"Add State",function(ca){return ca[0];},j.statesCodes(),j.toggleSt());};j.title=function(){return O.Element("h1",[],[O.TextNode("Covid Statistics")]);};j.dataSel=function(){z.$cctor();return z.dataSel;};j.statesBar=function(){return O.Element("div",[],[O.TextNode("States: "),j.statesInput(),j.reorderButton(),j.statesList()]);};j.columns=function(){return O.Convert(function(ca){return O.Element("th",[j.alignRight()],[O.TextNode(ca)]);},j.columnsW());};j.thousandsO=function(ca){var cb;cb=ca==null?null:{$:1,$0:j.thousands(ca.$0)};return cb==null?"":cb.$0;};j.valueCell=function(ca){return O.Element("td",[j.alignRight()],[O.TextNode(j.thousandsO(ca))]);};j.valuesRow=function(ca,cb,cc){return O.Element("tr",[],B.ofSeq(A.delay(function(){return A.append([O.Element("th",[],[O.TextNode((new a.Date(ca)).toLocaleDateString())])],A.delay(function(){function cd(ce){return ce[1];}return A.append(A.map(function(ce){return j.valueCell(cd(ce));},cb),A.delay(function(){return cc==null?[]:[O.Element("th",[j.alignRight()],[O.TextNode(j.thousands(cc.$0))])];}));}));})));};j.dataTable=function(){return O.Element("table",[N.Class("table table-sm")],[O.Element("tr",[],[O.Element("th",[],[O.TextNode("Date")]),j.columns()]),O.Convert(function(ca){return j.valuesRow(ca[0],ca[1],ca[2]);},j.rowsW())]);};j.main=function(){var ca,cb;ca=O.Element("div",[N.Class("xcontainer")],[j.title(),j.statesBar(),O.Element("div",[],[O.TextNode("Data: "),j.dataSel()]),j.dataTable(),j.bootstrap()]);cb=self.document.body;bl.LoadLocalTemplates("");O.Run(cb,ca);};k=j.State=b8.Class({get_Id:function(){return this.$0;}},null,k);l=j.Function=b8.Class({get_Id:function(){return this.$0;},get_F:function(){return this.$1;},GetHashCode:function(){return q.Hash(this.get_Id());},Equals:function(ca){return ca instanceof l&&this.get_Id()===ca.get_Id();}},null,l);n.range=function(ca,cb){var cc;cc=1+cb-ca;return cc<=0?[]:A.init(cc,function(cd){return cd+ca;});};n.KeyValue=function(ca){return[ca.K,ca.V];};n.FailWith=function(ca){throw new Y(ca);};o.toSafe=function(ca){return ca==null?"":ca;};o.prettyPrint=function(ca){var cb,cc;function cd(ce,cf){return ce+" = "+o.prettyPrint(cf);}return ca===null?"null":(cb=typeof ca,cb=="string"?"\""+ca+"\"":cb=="object"?ca instanceof a.Array?"[|"+F.concat("; ",p.map(o.prettyPrint,ca))+"|]":(cc=a.String(ca),cc==="[object Object]"?"{"+F.concat("; ",p.map(function(ce){return cd(ce[0],ce[1]);},U.GetFields(ca)))+"}":cc):a.String(ca));};p.get=function(ca,cb){p.checkBounds(ca,cb);return ca[cb];};p.length=function(ca){return ca.dims===2?ca.length*ca.length:ca.length;};p.checkBounds=function(ca,cb){if(cb<0||cb>=ca.length)n.FailWith("Index was outside the bounds of the array.");};p.set=function(ca,cb,cc){p.checkBounds(ca,cb);ca[cb]=cc;};q.Equals=function(ca,cb){var cc,cd,ce,cf;if(ca===cb)return true;else{cc=typeof ca;if(cc=="object"){if(ca===null||ca===void 0||cb===null||cb===void 0)return false;else if("Equals"in ca)return ca.Equals(cb);else if(ca instanceof a.Array&&cb instanceof a.Array)return q.arrayEquals(ca,cb);else if(ca instanceof a.Date&&cb instanceof a.Date)return q.dateEquals(ca,cb);else{cd=[true];for(var cg in ca)if(function(ch){cd[0]=!ca.hasOwnProperty(ch)||cb.hasOwnProperty(ch)&&q.Equals(ca[ch],cb[ch]);return!cd[0];}(cg))break;if(cd[0]){for(var ch in cb)if(function(ci){cd[0]=!cb.hasOwnProperty(ci)||ca.hasOwnProperty(ci);return!cd[0];}(ch))break;}return cd[0];}}else return cc=="function"&&("$Func"in ca?ca.$Func===cb.$Func&&ca.$Target===cb.$Target:"$Invokes"in ca&&"$Invokes"in cb&&q.arrayEquals(ca.$Invokes,cb.$Invokes));}};q.Compare=function(ca,cb){var cc,cd,ce,cf,cg,ch;if(ca===cb)return 0;else{cd=typeof ca;switch(cd=="function"?1:cd=="boolean"?2:cd=="number"?2:cd=="string"?2:cd=="object"?3:0){case 0:return typeof cb=="undefined"?0:-1;case 1:return n.FailWith("Cannot compare function values.");case 2:return ca<cb?-1:1;case 3:if(ca===null)ce=-1;else if(cb===null)ce=1;else if("CompareTo"in ca)ce=ca.CompareTo(cb);else if("CompareTo0"in ca)ce=ca.CompareTo0(cb);else if(ca instanceof a.Array&&cb instanceof a.Array)ce=q.compareArrays(ca,cb);else if(ca instanceof a.Date&&cb instanceof a.Date)ce=q.compareDates(ca,cb);else{cf=[0];for(var ci in ca)if(function(cj){return!ca.hasOwnProperty(cj)?false:!cb.hasOwnProperty(cj)?(cf[0]=1,true):(cf[0]=q.Compare(ca[cj],cb[cj]),cf[0]!==0);}(ci))break;if(cf[0]===0){for(var cj in cb)if(function(ck){return!cb.hasOwnProperty(ck)?false:!ca.hasOwnProperty(ck)&&(cf[0]=-1,true);}(cj))break;}ce=cf[0];}return ce;}}};q.arrayEquals=function(ca,cb){var cc,cd;if(p.length(ca)===p.length(cb)){cc=true;cd=0;while(cc&&cd<p.length(ca)){!q.Equals(p.get(ca,cd),p.get(cb,cd))?cc=false:void 0;cd=cd+1;}return cc;}else return false;};q.dateEquals=function(ca,cb){return ca.getTime()===cb.getTime();};q.Hash=function(ca){var cb;cb=typeof ca;return cb=="function"?0:cb=="boolean"?ca?1:0:cb=="number"?ca:cb=="string"?q.hashString(ca):cb=="object"?ca==null?0:ca instanceof a.Array?q.hashArray(ca):q.hashObject(ca):0;};q.compareArrays=function(ca,cb){var cc,cd;if(p.length(ca)<p.length(cb))return -1;else if(p.length(ca)>p.length(cb))return 1;else{cc=0;cd=0;while(cc===0&&cd<p.length(ca)){cc=q.Compare(p.get(ca,cd),p.get(cb,cd));cd=cd+1;}return cc;}};q.compareDates=function(ca,cb){return q.Compare(ca.getTime(),cb.getTime());};q.hashString=function(ca){var cb,cc,cd;if(ca===null)return 0;else{cb=5381;for(cc=0,cd=ca.length-1;cc<=cd;cc++)cb=q.hashMix(cb,ca[cc].charCodeAt());return cb;}};q.hashArray=function(ca){var cb,cc,cd;cb=-34948909;for(cc=0,cd=p.length(ca)-1;cc<=cd;cc++)cb=q.hashMix(cb,q.Hash(p.get(ca,cc)));return cb;};q.hashObject=function(ca){var cb,cc;if("GetHashCode"in ca)return ca.GetHashCode();else{cb=[0];for(var cd in ca)if(function(ce){cb[0]=q.hashMix(q.hashMix(cb[0],q.hashString(ce)),q.Hash(ca[ce]));return false;}(cd))break;return cb[0];}};q.hashMix=function(ca,cb){return(ca<<5)+ca+cb;};r=m.Obj=b8.Class({Equals:function(ca){return this===ca;},GetHashCode:function(){return -1;}},null,r);r.New=b8.Ctor(function(){},r);t=s.Dictionary=b8.Class({TryGetValue:function(ca,cb){var cc,cd,ce;cc=this;cd=this.data[this.hash(ca)];return cd==null?false:(ce=p.tryPick(function(cf){var cg;cg=n.KeyValue(cf);return cc.equals.apply(null,[cg[0],ca])?{$:1,$0:cg[1]}:null;},cd),ce!=null&&ce.$==1&&(cb.set(ce.$0),true));},Clear:function(){this.data=[];this.count=0;},set_Item:function(ca,cb){this.set(ca,cb);},set:function(ca,cb){var cc,cd,ce,cf;cc=this;cd=this.hash(ca);ce=this.data[cd];ce==null?(this.count=this.count+1,this.data[cd]=new a.Array({K:ca,V:cb})):(cf=p.tryFindIndex(function(cg){return cc.equals.apply(null,[(n.KeyValue(cg))[0],ca]);},ce),cf==null?(this.count=this.count+1,ce.push({K:ca,V:cb})):ce[cf.$0]={K:ca,V:cb});},ContainsKey:function(ca){var cb,cc;cb=this;cc=this.data[this.hash(ca)];return cc==null?false:p.exists(function(cd){return cb.equals.apply(null,[(n.KeyValue(cd))[0],ca]);},cc);},Remove:function(ca){return this.remove(ca);},get_Keys:function(){return new bM.New(this);},get_Item:function(ca){return this.get(ca);},remove:function(ca){var cb,cc,cd,ce;cb=this;cc=this.hash(ca);cd=this.data[cc];return cd==null?false:(ce=p.filter(function(cf){return!cb.equals.apply(null,[(n.KeyValue(cf))[0],ca]);},cd),p.length(ce)<cd.length&&(this.count=this.count-1,this.data[cc]=ce,true));},get:function(ca){var cb,cc;cb=this;cc=this.data[this.hash(ca)];return cc==null?X.notPresent():p.pick(function(cd){var ce;ce=n.KeyValue(cd);return cb.equals.apply(null,[ce[0],ca])?{$:1,$0:ce[1]}:null;},cc);},GetEnumerator:function(){return _.Get0(this);},GetEnumerator0:function(){return _.Get0(p.concat(U.GetFieldValues(this.data)));}},r,t);t.New$5=b8.Ctor(function(){t.New$6.call(this,[],q.Equals,q.Hash);},t);t.New$6=b8.Ctor(function(ca,cb,cc){var cd,ce;r.New.call(this);this.equals=cb;this.hash=cc;this.count=0;this.data=[];cd=_.Get(ca);try{while(cd.MoveNext()){ce=cd.Current();this.set(ce.K,ce.V);}}finally{if(typeof cd=="object"&&"Dispose"in cd)cd.Dispose();}},t);u=m.CancellationTokenSource=b8.Class({Cancel$1:function(){var ca;if(!this.c){this.c=true;ca=p.choose(function(cb){try{cb();return null;}catch(cc){return{$:1,$0:cc};}},this.r);if(p.length(ca)>0)throw new Z.New$3(ca);else void 0;}}},r,u);u.New=b8.Ctor(function(){r.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},u);w=v.Var$1=b8.Class({},r,w);w.Create$1=function(ca){return new _1.New(false,_2.New({$:2,$0:ca,$1:[]}),ca);};x=v.Var=b8.Class({},r,x);x.New=b8.Ctor(function(){r.New.call(this);},x);y.Sink=function(ca,cb){function cc(){_2.WhenRun(cb(),ca,function(){_0.scheduler().Fork(cc);});}_0.scheduler().Fork(cc);};y.Get=function(ca,cb){var cc;function cd(){_2.WhenRun(cb(),function(ce){if(!cc[0]){cc[0]=true;ca(ce);}},function(){if(!cc[0])cd();});}cc=[false];cd();};y.Map=function(ca,cb){return y.CreateLazy(function(){return _2.Map(ca,cb());});};y.Map2=function(ca,cb,cc){return y.CreateLazy(function(){return _2.Map2(ca,cb(),cc());});};y.get_Do=function(){return _8.B;};y.Const=function(ca){var cb;cb=_2.New({$:0,$0:ca});return function(){return cb;};};y.MapAsync=function(ca,cb){return y.CreateLazy(function(){return _2.MapAsync(ca,cb());});};y.CreateLazy=function(ca){var cb;cb={c:null,o:ca};return function(){var cc,cd;cc=cb.c;return cc===null?(cc=cb.o(),cb.c=cc,(cd=cc.s,cd!=null&&cd.$==0)?cb.o=null:_2.WhenObsoleteRun(cc,function(){cb.c=null;}),cc):cc;};};y.Bind=function(ca,cb){return y.Join(y.Map(ca,cb));};y.MapSeqCached=function(ca,cb){return y.MapSeqCachedBy(a.id,ca,cb);};y.Join=function(ca){return y.CreateLazy(function(){return _2.Join(ca());});};y.MapSeqCachedBy=function(ca,cb,cc){var cd;cd=[new t.New$5()];return y.Map(function(ce){var cf,cg,ch;cf=cd[0];cg=new t.New$5();ch=bh.mapInPlace(function(ci){var cj,ck;cj=ca(ci);ck=cf.ContainsKey(cj)?cf.get_Item(cj):cb(ci);cg.set_Item(cj,ck);return ck;},p.ofSeq(ce));cd[0]=cg;return ch;},cc);};y.Map2Unit=function(ca,cb){return y.CreateLazy(function(){return _2.Map2Unit(ca(),cb());});};z.$cctor=function(){var ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn;z.$cctor=a.ignore;function co(cA){return F.concat("\n",cA);}function cp(cA){return g.splitByChar("\n",cA);}function cq(cA){var cB,cC;return E.array(cA,{$:1,$0:0},{$:1,$0:(cB=0,(cC=p.length(cA)-2,q.Compare(cB,cC)===1?cB:cC))});}function cr(cA){return F.concat("\n",cA);}function cs(cA){return cA+"T00:00:00";}function ct(cA){var cB;cB=0;return cd.TryGetValue(cA,{get:function(){return cB;},set:function(cC){cB=cC;}})?{$:1,$0:cB}:null;}function cu(cA,cB){cd.set_Item(cA,cB);return cB;}function cv(cA,cB){var cC;cC=ct(cA);return cC==null?cu(cA,cB(cA)):cC.$0;}function cw(cA){return cA[1];}function cx(cA){return cA.$0;}function cy(cA,cB){return cA>cB;}function cz(cA,cB){return A.delay(function(){return A.append(A.map(function(cC){return cC.get_Id();},cA),A.delay(function(){return cB?["Total"]:[];}));});}z.rtn=function(cA){return[cA];};z.unindentStr=function(cA){return co(g.unindent(cA));};z.skipLastLine=(ca=function(cA){return cq(cp(cA));},function(cA){return cr(ca(cA));});z.parseDateO2=(cb=h.tryParseWith(function(cA){var cB,cC;cB=0;return[(cC=bq.TryParse(cA),cC!=null&&cC.$==1&&(cB=cC.$0,true)),cB];}),function(cA){return cb(cs(cA));});z.parseDateO=h.tryParseWith(function(cA){var cB,cC;cB=0;return[(cC=bq.TryParse(cA),cC!=null&&cC.$==1&&(cB=cC.$0,true)),cB];});z.parseIntO=h.tryParseWith(function(cA){var cB;cB=0;return[_5.TryParseInt32(cA,{get:function(){return cB;},set:function(cC){cB=cC;}}),cB];});z.parseInt64O=h.tryParseWith(function(cA){var cB;cB=0;return[_5.TryParseInt64(cA,{get:function(){return cB;},set:function(cC){cB=cC;}}),cB];});z.parseSingleO=h.tryParseWith(function(cA){var cB,cC;cB=0;return[(cC=a.Number(cA),a.isNaN(cC)?false:(cB=cC,true)),cB];});z.parseDoubleO=h.tryParseWith(function(cA){var cB,cC;cB=0;return[(cC=a.Number(cA),a.isNaN(cC)?false:(cB=cC,true)),cB];});z.parseGuidO=h.tryParseWith(function(cA){var cB;cB=null;return[_7.TryParse(cA,{get:function(){return cB;},set:function(cC){cB=cC;}}),cB];});z["|Date|_|"]=h.parseDateO();z["|Int|_|"]=h.parseIntO();z["|Int64|_|"]=h.parseInt64O();z["|Single|_|"]=h.parseSingleO();z["|Double|_|"]=h.parseDoubleO();z["|Guid|_|"]=h.parseGuidO();z.statesPop2019=new M.New(B.ofArray([[new k({$:0,$0:"US"}),328239523],[new k({$:0,$0:"AL"}),4903185],[new k({$:0,$0:"AK"}),731545],[new k({$:0,$0:"AZ"}),7278717],[new k({$:0,$0:"AR"}),3017804],[new k({$:0,$0:"CA"}),39512223],[new k({$:0,$0:"CO"}),5758736],[new k({$:0,$0:"CT"}),3565287],[new k({$:0,$0:"DE"}),973764],[new k({$:0,$0:"DC"}),705749],[new k({$:0,$0:"FL"}),21477737],[new k({$:0,$0:"GA"}),10617423],[new k({$:0,$0:"HI"}),1415872],[new k({$:0,$0:"ID"}),1787065],[new k({$:0,$0:"IL"}),12671821],[new k({$:0,$0:"IN"}),6732219],[new k({$:0,$0:"IA"}),3155070],[new k({$:0,$0:"KS"}),2913314],[new k({$:0,$0:"KY"}),4467673],[new k({$:0,$0:"LA"}),4648794],[new k({$:0,$0:"ME"}),1344212],[new k({$:0,$0:"MD"}),6045680],[new k({$:0,$0:"MA"}),6892503],[new k({$:0,$0:"MI"}),9986857],[new k({$:0,$0:"MN"}),5639632],[new k({$:0,$0:"MS"}),2976149],[new k({$:0,$0:"MO"}),6137428],[new k({$:0,$0:"MT"}),1068778],[new k({$:0,$0:"NE"}),1934408],[new k({$:0,$0:"NV"}),3080156],[new k({$:0,$0:"NH"}),1359711],[new k({$:0,$0:"NJ"}),8882190],[new k({$:0,$0:"NM"}),2096829],[new k({$:0,$0:"NY"}),19453561],[new k({$:0,$0:"NC"}),10488084],[new k({$:0,$0:"ND"}),762062],[new k({$:0,$0:"OH"}),11689100],[new k({$:0,$0:"OK"}),3956971],[new k({$:0,$0:"OR"}),4217737],[new k({$:0,$0:"PA"}),12801989],[new k({$:0,$0:"RI"}),1059361],[new k({$:0,$0:"SC"}),5148714],[new k({$:0,$0:"SD"}),884659],[new k({$:0,$0:"TN"}),6829174],[new k({$:0,$0:"TX"}),28995881],[new k({$:0,$0:"UT"}),3205958],[new k({$:0,$0:"VT"}),623989],[new k({$:0,$0:"VA"}),8535519],[new k({$:0,$0:"WA"}),7614893],[new k({$:0,$0:"WV"}),1792147],[new k({$:0,$0:"WI"}),5822434],[new k({$:0,$0:"WY"}),578759],[new k({$:0,$0:"PR"}),3193694]]));z.statesCodes=B.ofArray([["Alabama",new k({$:0,$0:"AL"})],["Alaska",new k({$:0,$0:"AK"})],["Arizona",new k({$:0,$0:"AZ"})],["Arkansas",new k({$:0,$0:"AR"})],["California",new k({$:0,$0:"CA"})],["Colorado",new k({$:0,$0:"CO"})],["Connecticut",new k({$:0,$0:"CT"})],["Delaware",new k({$:0,$0:"DE"})],["Florida",new k({$:0,$0:"FL"})],["Georgia",new k({$:0,$0:"GA"})],["Hawaii",new k({$:0,$0:"HI"})],["Idaho",new k({$:0,$0:"ID"})],["Illinois",new k({$:0,$0:"IL"})],["Indiana",new k({$:0,$0:"IN"})],["Iowa",new k({$:0,$0:"IA"})],["Kansas",new k({$:0,$0:"KS"})],["Kentucky",new k({$:0,$0:"KY"})],["Louisiana",new k({$:0,$0:"LA"})],["Maine",new k({$:0,$0:"ME"})],["Maryland",new k({$:0,$0:"MD"})],["Massachusetts",new k({$:0,$0:"MA"})],["Michigan",new k({$:0,$0:"MI"})],["Minnesota",new k({$:0,$0:"MN"})],["Mississippi",new k({$:0,$0:"MS"})],["Missouri",new k({$:0,$0:"MO"})],["Montana",new k({$:0,$0:"MT"})],["Nebraska",new k({$:0,$0:"NE"})],["Nevada",new k({$:0,$0:"NV"})],["New Hampshire",new k({$:0,$0:"NH"})],["New Jersey",new k({$:0,$0:"NJ"})],["New Mexico",new k({$:0,$0:"NM"})],["New York",new k({$:0,$0:"NY"})],["North Carolina",new k({$:0,$0:"NC"})],["North Dakota",new k({$:0,$0:"ND"})],["Ohio",new k({$:0,$0:"OH"})],["Oklahoma",new k({$:0,$0:"OK"})],["Oregon",new k({$:0,$0:"OR"})],["Pennsylvania",new k({$:0,$0:"PA"})],["Rhode Island",new k({$:0,$0:"RI"})],["South Carolina",new k({$:0,$0:"SC"})],["South Dakota",new k({$:0,$0:"SD"})],["Tennessee",new k({$:0,$0:"TN"})],["Texas",new k({$:0,$0:"TX"})],["Utah",new k({$:0,$0:"UT"})],["Vermont",new k({$:0,$0:"VT"})],["Virginia",new k({$:0,$0:"VA"})],["Washington",new k({$:0,$0:"WA"})],["West Virginia",new k({$:0,$0:"WV"})],["Wisconsin",new k({$:0,$0:"WI"})],["Wyoming",new k({$:0,$0:"WY"})],["American Samoa",new k({$:0,$0:"AS"})],["District of Columbia",new k({$:0,$0:"DC"})],["Guam",new k({$:0,$0:"GU"})],["Northern Mariana Islands",new k({$:0,$0:"MP"})],["Puerto Rico",new k({$:0,$0:"PR"})],["Virgin Islands",new k({$:0,$0:"VI"})]]);z.getStatesPop=(cc=(cd=new t.New$5(),[[ct,function(cA){return function(cB){return cv(cA,cB);};}],function(){cd.Clear();}]),(ce=cc[0][1],[function(cA){return(ce(cA))(j.getStatesPopM);},cc[1]]))[0];z.CovidStatesCurrentUrl="https://covidtracking.com/api/v1/states/TX/current.json";z.CovidStatesDailyUrl="https://covidtracking.com/api/v1/states/TX/daily.json";z.ahora=b9.now();z.toggleSt=w.Create$1(null);z.statesV=w.Create$1(F.concat(" ",B.map(function(cA){return cx(cw(cA));},j.statesCodes())));z.delayedV=c.delayedVar(1000,j.statesV());z.statesW=y.Map(j.splitStates,j.delayedV().get_View());z.totalizeW=(cf=j.statesW(),y.Map((cg=(ch=(ci=(cj=new k({$:0,$0:"US"}),function(cA){return!q.Equals(cj,cA);}),function(cA){return A.filter(ci,cA);}),function(cA){return A.length(ch(cA));}),(ck=function(cA){return cy(cA,1);},function(cA){return ck(cg(cA));})),cf));z.columnsW=(cl=j.statesW(),(cm=j.totalizeW(),(((b8.Curried3(y.Map2))(cz))(cl))(cm)));y.Sink(function(cA){var cB;if(cA!=null&&cA.$==1){cB=cA.$0[1];y.Get(function(cC){var cD;cD=F.concat(" ",A.map(function(cE){return cE.get_Id();},A.contains(cB,cC)?A.filter(function(cE){return!q.Equals(cB,cE);},cC):A.append(cC,[cB])));j.statesV().Set(cD);j.toggleSt().Set(null);},j.statesW());}},j.toggleSt().get_View());z.funcs=B.ofArray([new l({$:0,$0:"deaths per 100K",$1:b8.Curried(function(cA,cB,cC,cD){return j.yearly(cA,cB,cC)*100000/cD()>>0;},4)}),new l({$:0,$0:"total deaths",$1:b8.Curried(function(cA,cB,cC,cD){return cC/1>>0;},4)}),new l({$:0,$0:"day deaths",$1:b8.Curried(function(cA,cB,cC,cD){return j.daily(cA,cB,cC)/1>>0;},4)}),new l({$:0,$0:"week deaths",$1:b8.Curried(function(cA,cB,cC,cD){return j.weekly(cA,cB,cC)/1>>0;},4)}),new l({$:0,$0:"30 days deaths",$1:b8.Curried(function(cA,cB,cC,cD){return j.monthly(cA,cB,cC)/1>>0;},4)}),new l({$:0,$0:"7 days yearly",$1:b8.Curried(function(cA,cB,cC,cD){return j.yearly(cA,cB,cC)/1>>0;},4)}),new l({$:0,$0:"population",$1:b8.Curried(function(cA,cB,cC,cD){return cD()/1>>0;},4)})]);z.functionV=w.Create$1(A.head(j.funcs()));z.rowsW=(cn=y.get_Do(),y.Bind(function(cA){return y.Bind(function(cB){return y.Bind(function(cC){return y.Bind(function(cD){var cE,cF;function cG(){return(j.getStatesPop())(new _9.New(cA));}function cH(cK,cL){var cM,cN;function cO(cP,cQ){var cR,cS,cT,cU;cR=((((cD.get_F())(cN))(cQ.K))(cQ.V))(function(){return j.getStatePop(cM);});cS=(cT=G.TryFind(cQ.K,cP),(cU=new M.New([]),cT==null?cU:cT.$0)).Add(cM,[cQ.V,cR]);return cP.Add(cQ.K,cS);}cM=cL[0];cN=cL[1];return(((b8.Curried3(A.fold))(cO))(cK))(cN);}function cI(cK,cL,cM){return[cK,cL];}function cJ(cK,cL,cM){return[cK,p.ofSeq(A.delay(function(){return A.map(function(cN){var cO;return[cN,(cO=G.TryFind(cN,cM),cO==null?null:{$:1,$0:cO.$0[1]})];},cA);})),cC?{$:1,$0:((((cD.get_F())(cF))(cK))(cL))(cG)}:null];}cE=A.map(function(cK){var cL;cL=A.sum(A.choose(function(cM){return cM.K.get_Id()==="US"?null:{$:1,$0:cM.V[0]};},cK.V));return[cK.K,cL,cK.V];},(((b8.Curried3(A.fold))(cH))(new M.New([])))(cB));cF=new M.New(A.map(function(cK){return cI(cK[0],cK[1],cK[2]);},cE));return y.Const(A.sortDescending(A.map(function(cK){return cJ(cK[0],cK[1],cK[2]);},cE)));},j.functionV().get_View());},j.totalizeW());},y.MapAsync(a.id,y.Const(_0.Parallel(p.map(j.deaths,cA)))));},j.statesW()));z.dataSel=O.Select([],j.fname,j.funcs(),j.functionV());};A.map=function(ca,cb){return{GetEnumerator:function(){var cc;cc=_.Get(cb);return new $.New(null,null,function(cd){return cc.MoveNext()&&(cd.c=ca(cc.Current()),true);},function(){cc.Dispose();});}};};A.choose=function(ca,cb){return A.collect(function(cc){var cd;cd=ca(cc);return cd==null?C.Empty:B.ofArray([cd.$0]);},cb);};A.mapi=function(ca,cb){return A.map2(ca,A.initInfinite(a.id),cb);};A.collect=function(ca,cb){return A.concat(A.map(ca,cb));};A.tryFind=function(ca,cb){var cc,cd,ce;cc=_.Get(cb);try{cd=null;while(cd==null&&cc.MoveNext()){ce=cc.Current();ca(ce)?cd={$:1,$0:ce}:void 0;}return cd;}finally{if(typeof cc=="object"&&"Dispose"in cc)cc.Dispose();}};A.tryFindIndex=function(ca,cb){var cc,cd,ce;cc=_.Get(cb);try{cd=true;ce=0;while(cd&&cc.MoveNext())if(ca(cc.Current()))cd=false;else ce=ce+1;return cd?null:{$:1,$0:ce};}finally{if(typeof cc=="object"&&"Dispose"in cc)cc.Dispose();}};A.filter=function(ca,cb){return{GetEnumerator:function(){var cc;cc=_.Get(cb);return new $.New(null,null,function(cd){var ce,cf,cg;ce=cc.MoveNext();cf=cc.Current();cg=false;while(ce)if(ca(cf)){cd.c=cf;cg=true;ce=false;}else if(cc.MoveNext())cf=cc.Current();else ce=false;return cg;},function(){cc.Dispose();});}};};A.exists=function(ca,cb){var cc,cd;cc=_.Get(cb);try{cd=false;while(!cd&&cc.MoveNext())cd=ca(cc.Current());return cd;}finally{if(typeof cc=="object"&&"Dispose"in cc)cc.Dispose();}};A.delay=function(ca){return{GetEnumerator:function(){return _.Get(ca());}};};A.append=function(ca,cb){return{GetEnumerator:function(){var cc,cd;cc=_.Get(ca);cd=[true];return new $.New(cc,null,function(ce){var cf;return ce.s.MoveNext()?(ce.c=ce.s.Current(),true):(cf=ce.s,!q.Equals(cf,null)?cf.Dispose():void 0,ce.s=null,cd[0]&&(cd[0]=false,ce.s=_.Get(cb),ce.s.MoveNext()?(ce.c=ce.s.Current(),true):(ce.s.Dispose(),ce.s=null,false)));},function(ce){var cf;cf=ce.s;!q.Equals(cf,null)?cf.Dispose():void 0;});}};};A.sum=function(ca){return A.fold(function(cb,cc){return cb+cc;},0,ca);};A.sort=function(ca){return A.sortBy(a.id,ca);};A.iter=function(ca,cb){var cc;cc=_.Get(cb);try{while(cc.MoveNext())ca(cc.Current());}finally{if(typeof cc=="object"&&"Dispose"in cc)cc.Dispose();}};A.sortByDescending=function(ca,cb){return A.delay(function(){var cc;cc=p.ofSeq(cb);p.sortInPlaceByDescending(ca,cc);return cc;});};A.maxBy=function(ca,cb){var cc,cd,ce,cf,cg;cc=_.Get(cb);try{if(!cc.MoveNext())A.seqEmpty();cd=cc.Current();ce=ca(cd);while(cc.MoveNext()){cf=cc.Current();cg=ca(cf);q.Compare(cg,ce)===1?(cd=cf,ce=cg):void 0;}return cd;}finally{if(typeof cc=="object"&&"Dispose"in cc)cc.Dispose();}};A.length=function(ca){var cb,cc;cb=0;cc=_.Get(ca);try{while(cc.MoveNext())cb=cb+1;return cb;}finally{if(typeof cc=="object"&&"Dispose"in cc)cc.Dispose();}};A.head=function(ca){var cb;cb=_.Get(ca);try{return cb.MoveNext()?cb.Current():A.insufficient();}finally{if(typeof cb=="object"&&"Dispose"in cb)cb.Dispose();}};A.sortDescending=function(ca){return A.sortByDescending(a.id,ca);};A.fold=function(ca,cb,cc){var cd,ce;cd=cb;ce=_.Get(cc);try{while(ce.MoveNext())cd=ca(cd,ce.Current());return cd;}finally{if(typeof ce=="object"&&"Dispose"in ce)ce.Dispose();}};A.map2=function(ca,cb,cc){return{GetEnumerator:function(){var cd,ce;cd=_.Get(cb);ce=_.Get(cc);return new $.New(null,null,function(cf){return cd.MoveNext()&&ce.MoveNext()&&(cf.c=ca(cd.Current(),ce.Current()),true);},function(){cd.Dispose();ce.Dispose();});}};};A.initInfinite=function(ca){return{GetEnumerator:function(){return new $.New(0,null,function(cb){cb.c=ca(cb.s);cb.s=cb.s+1;return true;},void 0);}};};A.concat=function(ca){return{GetEnumerator:function(){var cb;cb=_.Get(ca);return new $.New(null,null,function(cc){var cd;while(true){cd=cc.s;if(q.Equals(cd,null)){if(cb.MoveNext()){cc.s=_.Get(cb.Current());cc=cc;}else{cb.Dispose();return false;}}else if(cd.MoveNext()){cc.c=cd.Current();return true;}else{cc.Dispose();cc.s=null;cc=cc;}}},function(cc){var cd;cd=cc.s;!q.Equals(cd,null)?cd.Dispose():void 0;!q.Equals(cb,null)?cb.Dispose():void 0;});}};};A.init=function(ca,cb){return A.take(ca,A.initInfinite(cb));};A.sortBy=function(ca,cb){return A.delay(function(){var cc;cc=p.ofSeq(cb);p.sortInPlaceBy(ca,cc);return cc;});};A.seqEmpty=function(){return n.FailWith("The input sequence was empty.");};A.take=function(ca,cb){ca<0?A.nonNegative():void 0;return{GetEnumerator:function(){var cc;cc=[_.Get(cb)];return new $.New(0,null,function(cd){var ce;cd.s=cd.s+1;return cd.s>ca?false:(ce=cc[0],q.Equals(ce,null)?A.insufficient():ce.MoveNext()?(cd.c=ce.Current(),cd.s===ca?(ce.Dispose(),cc[0]=null):void 0,true):(ce.Dispose(),cc[0]=null,A.insufficient()));},function(){var cd;cd=cc[0];!q.Equals(cd,null)?cd.Dispose():void 0;});}};};A.distinctBy=function(ca,cb){return{GetEnumerator:function(){var cc,cd;cc=_.Get(cb);cd=new by.New$3();return new $.New(null,null,function(ce){var cf,cg;if(cc.MoveNext()){cf=cc.Current();cg=cd.Add(ca(cf));while(!cg&&cc.MoveNext()){cf=cc.Current();cg=cd.Add(ca(cf));}return cg&&(ce.c=cf,true);}else return false;},function(){cc.Dispose();});}};};A.forall2=function(ca,cb,cc){return!A.exists2(function(cd,ce){return!ca(cd,ce);},cb,cc);};A.distinct=function(ca){return A.distinctBy(a.id,ca);};A.exists2=function(ca,cb,cc){var cd,ce,cf,cg;cd=_.Get(cb);try{cf=_.Get(cc);try{cg=false;while(!cg&&cd.MoveNext()&&cf.MoveNext())cg=ca(cd.Current(),cf.Current());ce=cg;}finally{if(typeof cf=="object"&&"Dispose"in cf)cf.Dispose();}return ce;}finally{if(typeof cd=="object"&&"Dispose"in cd)cd.Dispose();}};A.compareWith=function(ca,cb,cc){var cd,ce,cf,cg,ch;cd=_.Get(cb);try{cf=_.Get(cc);try{cg=0;ch=true;while(ch&&cg===0)if(cd.MoveNext())cg=cf.MoveNext()?ca(cd.Current(),cf.Current()):1;else if(cf.MoveNext())cg=-1;else ch=false;ce=cg;}finally{if(typeof cf=="object"&&"Dispose"in cf)cf.Dispose();}return ce;}finally{if(typeof cd=="object"&&"Dispose"in cd)cd.Dispose();}};A.findIndex=function(ca,cb){var cc;cc=A.tryFindIndex(ca,cb);return cc==null?n.FailWith("KeyNotFoundException"):cc.$0;};A.unfold=function(ca,cb){return{GetEnumerator:function(){return new $.New(cb,null,function(cc){var cd;cd=ca(cc.s);return cd==null?false:(cc.c=cd.$0[0],cc.s=cd.$0[1],true);},void 0);}};};A.nth=function(ca,cb){var cc,cd;if(ca<0)n.FailWith("negative index requested");cc=-1;cd=_.Get(cb);try{while(cc<ca){!cd.MoveNext()?A.insufficient():void 0;cc=cc+1;}return cd.Current();}finally{if(typeof cd=="object"&&"Dispose"in cd)cd.Dispose();}};A.max=function(ca){var cb,cc,cd;cb=_.Get(ca);try{if(!cb.MoveNext())A.seqEmpty();cc=cb.Current();while(cb.MoveNext()){cd=cb.Current();q.Compare(cd,cc)===1?cc=cd:void 0;}return cc;}finally{if(typeof cb=="object"&&"Dispose"in cb)cb.Dispose();}};p.foldBack=function(ca,cb,cc){var cd,ce,cf,cg,ch;cd=cc;cf=cb.length;for(cg=1,ch=cf;cg<=ch;cg++)cd=ca(cb[cf-cg],cd);return cd;};p.map=function(ca,cb){var cc,cd,ce;cc=new a.Array(cb.length);for(cd=0,ce=cb.length-1;cd<=ce;cd++)cc[cd]=ca(cb[cd]);return cc;};p.choose=function(ca,cb){var cc,cd,ce,cf;cc=[];for(cd=0,ce=cb.length-1;cd<=ce;cd++){cf=ca(cb[cd]);cf==null?void 0:cc.push(cf.$0);}return cc;};p.tryPick=function(ca,cb){var cc,cd,ce;cc=null;cd=0;while(cd<cb.length&&cc==null){ce=ca(cb[cd]);ce!=null&&ce.$==1?cc=ce:void 0;cd=cd+1;}return cc;};p.ofSeq=function(ca){var cb,cc;if(ca instanceof a.Array)return ca.slice();else if(ca instanceof C)return p.ofList(ca);else{cb=[];cc=_.Get(ca);try{while(cc.MoveNext())cb.push(cc.Current());return cb;}finally{if(typeof cc=="object"&&"Dispose"in cc)cc.Dispose();}}};p.create=function(ca,cb){var cc,cd,ce;cc=new a.Array(ca);for(cd=0,ce=ca-1;cd<=ce;cd++)cc[cd]=cb;return cc;};p.tryFindIndex=function(ca,cb){var cc,cd;cc=null;cd=0;while(cd<cb.length&&cc==null){ca(cb[cd])?cc={$:1,$0:cd}:void 0;cd=cd+1;}return cc;};p.ofList=function(ca){var cb,cc;cc=[];cb=ca;while(!(cb.$==0)){cc.push(B.head(cb));cb=B.tail(cb);}return cc;};p.sortInPlaceBy=function(ca,cb){p.mapInPlace(function(cc){return cc[0];},p.mapiInPlace(function(cc,cd){return[cd,[ca(cd),cc]];},cb).sort(function(cc,cd){return q.Compare(cc[1],cd[1]);}));};p.sortInPlace=function(ca){p.mapInPlace(function(cb){return cb[0];},p.mapiInPlace(function(cb,cc){return[cc,cb];},ca).sort(q.Compare));};p.iteri=function(ca,cb){var cc,cd;for(cc=0,cd=cb.length-1;cc<=cd;cc++)ca(cc,cb[cc]);};p.filter=function(ca,cb){var cc,cd,ce;cc=[];for(cd=0,ce=cb.length-1;cd<=ce;cd++)if(ca(cb[cd]))cc.push(cb[cd]);return cc;};p.exists=function(ca,cb){var cc,cd,ce,cf;cc=false;cd=0;cf=p.length(cb);while(!cc&&cd<cf)if(ca(cb[cd]))cc=true;else cd=cd+1;return cc;};p.concat=function(ca){return a.Array.prototype.concat.apply([],p.ofSeq(ca));};p.iter=function(ca,cb){var cc,cd;for(cc=0,cd=cb.length-1;cc<=cd;cc++)ca(cb[cc]);};p.pick=function(ca,cb){var cc;cc=p.tryPick(ca,cb);return cc==null?n.FailWith("KeyNotFoundException"):cc.$0;};p.init=function(ca,cb){var cc,cd,ce;ca<0?n.FailWith("Negative size given."):null;cc=new a.Array(ca);for(cd=0,ce=ca-1;cd<=ce;cd++)cc[cd]=cb(cd);return cc;};p.forall=function(ca,cb){var cc,cd,ce,cf;cc=true;cd=0;cf=p.length(cb);while(cc&&cd<cf)if(ca(cb[cd]))cd=cd+1;else cc=false;return cc;};B.ofArray=function(ca){var cb,cc,cd;cb=C.Empty;for(cc=p.length(ca)-1,cd=0;cc>=cd;cc--)cb=new C({$:1,$0:p.get(ca,cc),$1:cb});return cb;};B.map=function(ca,cb){var cc,cd,ce,cf,cg;if(cb.$==0)return cb;else{cf=new C({$:1});cc=cf;cd=cb;ce=true;while(ce){cc.$0=ca(cd.$0);cd=cd.$1;cd.$==0?ce=false:cc=(cg=new C({$:1}),cc.$1=cg,cg);}cc.$1=C.Empty;return cf;}};B.ofSeq=function(ca){var cb,cc,cd,ce,cf,cg;if(ca instanceof C)return ca;else if(ca instanceof a.Array)return B.ofArray(ca);else{cb=_.Get(ca);try{cd=cb.MoveNext();if(!cd)cc=C.Empty;else{cf=new C({$:1});ce=cf;while(cd){ce.$0=cb.Current();cb.MoveNext()?ce=(cg=new C({$:1}),ce.$1=cg,cg):cd=false;}ce.$1=C.Empty;cc=cf;}return cc;}finally{if(typeof cb=="object"&&"Dispose"in cb)cb.Dispose();}}};B.mapi=function(ca,cb){var cc,cd,ce,cf,cg,ch;if(cb.$==0)return cb;else{cg=new C({$:1});cc=cg;cd=cb;ce=0;cf=true;while(cf){cc.$0=ca(ce,cd.$0);cd=cd.$1;cd.$==0?cf=false:(cc=(ch=new C({$:1}),cc.$1=ch,ch),ce=ce+1);}cc.$1=C.Empty;return cg;}};B.head=function(ca){return ca.$==1?ca.$0:B.listEmpty();};B.tail=function(ca){return ca.$==1?ca.$1:B.listEmpty();};B.listEmpty=function(){return n.FailWith("The input list was empty.");};C=B.T=b8.Class({get_Item:function(ca){return A.nth(ca,this);},GetEnumerator:function(){return new $.New(this,null,function(ca){var cb;cb=ca.s;return cb.$==0?false:(ca.c=cb.$0,ca.s=cb.$1,true);},void 0);},GetEnumerator0:function(){return _.Get(this);}},null,C);C.Empty=new C({$:0});D.IsUpper=function(ca){return ca>="A"&&ca<="Z";};D.IsWhiteSpace=function(ca){return ca.match(new a.RegExp("\\s"))!==null;};E.string=function(ca,cb,cc){return cb==null?cc!=null&&cc.$==1?ca.slice(0,cc.$0+1):"":cc==null?ca.slice(cb.$0):ca.slice(cb.$0,cc.$0+1);};E.array=function(ca,cb,cc){return cb==null?cc!=null&&cc.$==1?ca.slice(0,cc.$0+1):[]:cc==null?ca.slice(cb.$0):ca.slice(cb.$0,cc.$0+1);};F.replicate=function(ca,cb){return p.create(ca,cb).join("");};F.concat=function(ca,cb){return p.ofSeq(cb).join(ca);};F.Substring=function(ca,cb,cc){return ca.substr(cb,cc);};F.SplitChars=function(ca,cb,cc){return F.Split(ca,new a.RegExp("["+F.RegexEscape(cb.join(""))+"]"),cc);};F.Trim=function(ca){return ca.replace(new a.RegExp("^\\s+"),"").replace(new a.RegExp("\\s+$"),"");};F.StartsWith=function(ca,cb){return ca.substring(0,cb.length)==cb;};F.EndsWith=function(ca,cb){return ca.substring(ca.length-cb.length)==cb;};F.Replace=function(ca,cb,cc){function cd(ce){var cf,cg,ch;cf=ce.indexOf(cb);return cf!==-1?(cg=F.ReplaceOnce(ce,cb,cc),(ch=cf+cc.length,F.Substring(cg,0,cf+cc.length)+cd(cg.substring(ch)))):ce;}return cd(ca);};F.Split=function(ca,cb,cc){return cc===1?p.filter(function(cd){return cd!=="";},F.SplitWith(ca,cb)):F.SplitWith(ca,cb);};F.RegexEscape=function(ca){return ca.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};F.ReplaceOnce=function(ca,cb,cc){return ca.replace(cb,cc);};F.SplitWith=function(ca,cb){return ca.split(cb);};F.ReplaceChar=function(ca,cb,cc){return F.Replace(ca,cb,cc);};G.TryFind=function(ca,cb){return cb.TryFind(ca);};H.Filter=function(ca,cb){var cc;return new _9.New$1((cc=p.ofSeq(A.filter(ca,cb)),ba.Build(cc,0,cc.length-1)));};L.asyncReadTextAtRuntime=function(ca,cb,cc,cd,ce,cf){function cg(ch,ci){var cj,ck,cl,cm,cn;cj=(ck=cf.toLowerCase(),F.StartsWith(ck,"jsonp|")?[cf.substring(6),true]:F.StartsWith(ck,"json|")?[cf.substring(5),false]:[cf,false]);cl=(cm={},cm.dataType="json",cm.success=function(co){return ch(co);},cm.error=function(co,cp,cq){return ci(new Y(cq));},cm);cj[1]?(cn=bd.randomFunctionName(),cl.dataType="jsonp",cl.jsonp="prefix",cl.jsonpCallback="jsonp"+cn):void 0;b_.ajax(cj[0],cl);}return _0.FromContinuations(function(ch,ci,cj){return cg.apply(null,[ch,ci,cj]);});};M=s.FSharpMap=b8.Class({TryFind:function(ca){var cb;cb=ba.TryFind(bs.New(ca,void 0),this.tree);return cb==null?null:{$:1,$0:cb.$0.Value};},GetHashCode:function(){return q.Hash(p.ofSeq(this));},Equals:function(ca){return this.get_Count()===ca.get_Count()&&A.forall2(q.Equals,this,ca);},Add:function(ca,cb){return new M.New$1(ba.Add(bs.New(ca,cb),this.tree));},get_Count:function(){var ca;ca=this.tree;return ca==null?0:ca.Count;},GetEnumerator$1:function(){return _.Get(A.map(function(ca){return{K:ca.Key,V:ca.Value};},ba.Enumerate(false,this.tree)));},GetEnumerator:function(){return this.GetEnumerator$1();},CompareTo0:function(ca){return A.compareWith(q.Compare,this,ca);},GetEnumerator0:function(){return this.GetEnumerator$1();}},r,M);M.New=b8.Ctor(function(ca){M.New$1.call(this,be.fromSeq(ca));},M);M.New$1=b8.Ctor(function(ca){r.New.call(this);this.tree=ca;},M);N.Style=function(ca,cb){return bf.Static(function(cc){bg.SetStyle(cc,ca,cb);});};N.Class=function(ca){return N.ClassPred(ca,true);};N.ClassPred=function(ca,cb){return bf.Static(function(cc){if(cb)bg.AddClass(cc,ca);else bg.RemoveClass(cc,ca);});};N.Value=function(ca){function cb(cc){return{$:1,$0:cc};}return N.CustomValue(ca,a.id,function(cc){return cb(a.id(cc));});};N.CustomValue=function(ca,cb,cc){return N.CustomVar(ca,function(cd,ce){cd.value=cb(ce);},function(cd){return cc(cd.value);});};N.OnAfterRender=function(ca){return new bj({$:4,$0:ca});};N.DynamicCustom=function(ca,cb){return bf.Dynamic(cb,ca);};N.CustomVar=function(ca,cb,cc){function cd(cf,cg){return ca.UpdateMaybe(function(ch){var ci,cj;ci=cc(cf);return ci!=null&&ci.$==1&&(!q.Equals(ci.$0,ch)&&(cj=[ci,ci.$0],true))?cj[0]:null;});}function ce(cf,cg){var ch,ci;ch=cc(cf);return ch!=null&&ch.$==1&&(q.Equals(ch.$0,cg)&&(ci=ch.$0,true))?null:cb(cf,cg);}return bj.Concat([N.Handler("change",function(cf){return function(cg){return cd(cf,cg);};}),N.Handler("input",function(cf){return function(cg){return cd(cf,cg);};}),N.Handler("keypress",function(cf){return function(cg){return cd(cf,cg);};}),N.DynamicCustom(function(cf){return function(cg){return ce(cf,cg);};},ca.get_View())]);};N.Handler=function(ca,cb){return bf.Static(function(cc){cc.addEventListener(ca,function(cd){return(cb(cc))(cd);},false);});};O=v.Doc=b8.Class({},r,O);O.Verbatim=function(ca){var cb;return O.Mk(bh.MapTreeReduce(function(cc){return q.Equals(cc.nodeType,S.TEXT_NODE)?{$:5,$0:cc}:{$:1,$0:bi.CreateElemNode(cc,bf.EmptyAttr(),null)};},null,function(cc,cd){return{$:0,$0:cc,$1:cd};},(cb=b_.parseHTML(ca),q.Equals(cb,null)?[]:cb)),y.Const());};O.Mk=function(ca,cb){return new O.New(ca,cb);};O.Button=function(ca,cb,cc){var cd;cd=bj.Concat(cb);return bD.New(O.Clickable("button",cc),cd,O.TextNode(ca));};O.Input=function(ca,cb){return O.InputInternal("input",function(){return A.append(ca,[N.Value(cb)]);});};O.SelectOptional=function(ca,cb,cc,cd,ce){return O.Select(ca,function(cf){return cf!=null&&cf.$==1?cc(cf.$0):cb;},new C({$:1,$0:null,$1:B.map(function(cf){return{$:1,$0:cf};},cd)}),ce);};O.TextNode=function(ca){return O.Mk({$:5,$0:bg.CreateText(ca)},y.Const());};O.Convert=function(ca,cb){return O.Flatten(y.MapSeqCached(ca,cb));};O.Run=function(ca,cb){bi.LinkElement(ca,cb.docNode);O.RunInPlace(false,ca,cb);};O.Select=function(ca,cb,cc,cd){return O.SelectImpl(ca,cb,function(ce){ce[0]=cc;return O.Concat(B.mapi(function(cf,cg){return O.Element("option",B.ofArray([bj.Create("value",a.String(cf))]),B.ofArray([O.TextNode(cb(cg))]));},cc));},cd);};O.Clickable=function(ca,cb){var cc;cc=bg.CreateElement(ca);cc.addEventListener("click",function(cd){cd.preventDefault();return cb();},false);return cc;};O.InputInternal=function(ca,cb){var cc;cc=bg.CreateElement(ca);return bD.New(cc,bj.Concat(cb(cc)),O.get_Empty());};O.Element=function(ca,cb,cc){var cd,ce;cd=bj.Concat(cb);ce=O.Concat(cc);return bD.New(bg.CreateElement(ca),cd,ce);};O.Flatten=function(ca){return O.EmbedView(y.Map(O.Concat,ca));};O.RunInPlace=function(ca,cb,cc){var cd;cd=bi.CreateRunState(cb,cc.docNode);y.Sink(bF.get_UseAnimations()||bG.BatchUpdatesEnabled()?bH.StartProcessor(bi.PerformAnimatedUpdate(ca,cd,cc.docNode)):function(){bi.PerformSyncUpdate(ca,cd,cc.docNode);},cc.updates);};O.SelectImpl=function(ca,cb,cc,cd){var ce,cf,cg,ch;function ci(cn){return cn.selectedIndex;}function cj(cn,co){cn.selectedIndex=co;}function ck(cn){var co;co=ci(cn);return ce[0].get_Item(co);}function cl(cn){return A.findIndex(function(co){return q.Equals(cn,co);},ce[0]);}function cm(cn,co){return cj(cn,cl(co));}ce=[C.Empty];cf=bg.CreateElement("select");cg=N.DynamicCustom(function(cn){return function(co){return cm(cn,co);};},cd.get_View());cf.addEventListener("change",function(){cd.UpdateMaybe(function(cn){var co;co=ck(cf);return q.Equals(cn,co)?null:{$:1,$0:co};});},false);return bD.New(cf,(ch=bj.Append(cg,bj.Concat(ca)),bj.Append(N.OnAfterRender(function(cn){cm(cn,cd.Get());}),ch)),cc(ce));};O.Concat=function(ca){var cb;cb=bh.ofSeqNonCopying(ca);return bh.TreeReduce(O.get_Empty(),O.Append,cb);};O.get_Empty=function(){return O.Mk(null,y.Const());};O.EmbedView=function(ca){var cb;cb=bi.CreateEmbedNode();return O.Mk({$:2,$0:cb},y.Map(a.ignore,y.Bind(function(cc){bi.UpdateEmbedNode(cb,cc.docNode);return cc.updates;},ca)));};O.Append=function(ca,cb){return O.Mk({$:0,$0:ca.docNode,$1:cb.docNode},y.Map2Unit(ca.updates,cb.updates));};O.New=b8.Ctor(function(ca,cb){r.New.call(this);this.docNode=ca;this.updates=cb;},O);Q=P.attr=b8.Class({},r,Q);U.GetFields=function(ca){var cb,cc;cb=[];for(var cd in ca)cb.push([cd,ca[cd]]);return cb;};U.GetFieldValues=function(ca){var cb,cc;cb=[];for(var cd in ca)cb.push(ca[cd]);return cb;};V.NewFromSeq=function(ca){var cb,cc,cd;cb={};cc=_.Get(ca);try{while(cc.MoveNext()){cd=cc.Current();cb[cd[0]]=cd[1];}}finally{if(typeof cc=="object"&&"Dispose"in cc)cc.Dispose();}return cb;};X.notPresent=function(){return n.FailWith("The given key was not present in the dictionary.");};Z=m.AggregateException=b8.Class({},Y,Z);Z.New$3=b8.Ctor(function(ca){Z.New$4.call(this,"One or more errors occurred.",ca);},Z);Z.New$4=b8.Ctor(function(ca,cb){this.message=ca;W.setPrototypeOf(this,Z.prototype);this.innerExceptions=cb;},Z);_0.Start=function(ca,cb){var cc,cd;cc=(cd=(_0.defCTS())[0],cb==null?cd:cb.$0);_0.scheduler().Fork(function(){if(!cc.c)ca(bo.New(function(ce){if(ce.$==1)_0.UncaughtAsyncError(ce.$0);},cc));});};_0.Delay=function(ca){return function(cb){try{(ca(null))(cb);}catch(cc){cb.k({$:1,$0:cc});}};};_0.Bind=function(ca,cb){return _0.checkCancel(function(cc){ca(bo.New(function(cd){var ce;if(cd.$==0){ce=cd.$0;_0.scheduler().Fork(function(){try{(cb(ce))(cc);}catch(cf){cc.k({$:1,$0:cf});}});}else _0.scheduler().Fork(function(){cc.k(cd);});},cc.ct));});};_0.Sleep=function(ca){return function(cb){var cc,cd;cc=void 0;cd=void 0;cc=a.setTimeout(function(){cd.Dispose();_0.scheduler().Fork(function(){cb.k({$:0,$0:null});});},ca);cd=_0.Register(cb.ct,function(){a.clearTimeout(cc);_0.scheduler().Fork(function(){_0.cancel(cb);});});};};_0.Return=function(ca){return function(cb){cb.k({$:0,$0:ca});};};_0.StartChild=function(ca,cb){return function(cc){var cd,ce,cf,cg;cd=[true];ce=[null];cf=[];cg=cb!=null&&cb.$==1?{$:1,$0:a.setTimeout(function(){var ch;cd[0]=false;ch={$:1,$0:new br.New()};while(cf.length>0)(cf.shift())(ch);},cb.$0)}:null;_0.scheduler().Fork(function(){if(!cc.ct.c)ca(bo.New(function(ch){if(cd[0]){ce[0]={$:1,$0:ch};cg!=null&&cg.$==1?a.clearTimeout(cg.$0):void 0;while(cf.length>0)(cf.shift())(ch);}},cc.ct));});cc.k({$:0,$0:function(ch){var ci;if(cd[0]){ci=ce[0];ci==null?cf.push(ch.k):ch.k(ci.$0);}else ch.k({$:1,$0:new br.New()});}});};};_0.Zero=function(){bu.$cctor();return bu.Zero;};_0.defCTS=function(){bu.$cctor();return bu.defCTS;};_0.UncaughtAsyncError=function(ca){b5.log("WebSharper: Uncaught asynchronous exception",ca);};_0.checkCancel=function(ca){return function(cb){if(cb.ct.c)_0.cancel(cb);else ca(cb);};};_0.Register=function(ca,cb){var cc;return ca===_0.noneCT()?{Dispose:function(){return null;}}:(cc=ca.r.push(cb)-1,{Dispose:function(){return p.set(ca.r,cc,a.ignore);}});};_0.cancel=function(ca){ca.k({$:2,$0:new bx.New(ca.ct)});};_0.Parallel=function(ca){var cb;cb=p.ofSeq(ca);return p.length(cb)===0?_0.Return([]):function(cc){var cd,ce,cf;function cg(ch,ci){var cj,ck;ck=ce[0];switch(ck===0?0:ck===1?ci.$==0?1:(cj=[ck,ci],3):ci.$==0?2:(cj=[ck,ci],3)){case 0:return null;case 1:p.set(cf,ch,ci.$0);ce[0]=0;return cc.k({$:0,$0:cf});case 2:p.set(cf,ch,ci.$0);{ce[0]=ck-1;return;}break;case 3:ce[0]=0;return cc.k(cj[1]);}}cd=cb.length;ce=[cd];cf=new a.Array(cd);p.iteri(function(ch,ci){return _0.scheduler().Fork(function(){ci(bo.New(function(cj){return cg(ch,cj);},cc.ct));});},cb);};};_0.FromContinuations=function(ca){return function(cb){var cc;function cd(ce){if(cc[0])n.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{cc[0]=true;_0.scheduler().Fork(ce);}}cc=[false];ca(function(ce){cd(function(){cb.k({$:0,$0:ce});});},function(ce){cd(function(){cb.k({$:1,$0:ce});});},function(ce){cd(function(){cb.k({$:2,$0:ce});});});};};_0.scheduler=function(){bu.$cctor();return bu.scheduler;};_0.noneCT=function(){bu.$cctor();return bu.noneCT;};_0.StartWithContinuations=function(ca,cb,cc,cd,ce){var cf,cg;cf=(cg=(_0.defCTS())[0],ce==null?cg:ce.$0);!cf.c?ca(bo.New(function(ch){if(ch.$==1)cc(ch.$0);else if(ch.$==2)cd(ch.$0);else cb(ch.$0);},cf)):void 0;};_1=v.ConcreteVar=b8.Class({get_View:function(){return this.view;},Set:function(ca){if(this.isConst)(function(cb){return cb("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal");}(function(cb){b5.log(cb);}));else{_2.Obsolete(this.snap);this.current=ca;this.snap=_2.New({$:2,$0:ca,$1:[]});}},Get:function(){return this.current;},UpdateMaybe:function(ca){var cb;cb=ca(this.Get());cb!=null&&cb.$==1?this.Set(cb.$0):void 0;}},x,_1);_1.New=b8.Ctor(function(ca,cb,cc){var cd;cd=this;x.New.call(this);this.isConst=ca;this.current=cc;this.snap=cb;this.view=function(){return cd.snap;};this.id=bp.Int();},_1);_2.WhenRun=function(ca,cb,cc){var cd;cd=ca.s;cd==null?cc():cd!=null&&cd.$==2?(cd.$1.push(cc),cb(cd.$0)):cd!=null&&cd.$==3?(cd.$0.push(cb),cd.$1.push(cc)):cb(cd.$0);};_2.Map=function(ca,cb){var cc,cd;cc=cb.s;return cc!=null&&cc.$==0?_2.New({$:0,$0:ca(cc.$0)}):(cd=_2.New({$:3,$0:[],$1:[]}),(_2.When(cb,function(ce){_2.MarkDone(cd,cb,ca(ce));},cd),cd));};_2.Map2=function(ca,cb,cc){var cd,ce,cf;function cg(ch){var ci,cj,ck;if(!(ci=cf.s,ci!=null&&ci.$==0||ci!=null&&ci.$==2)){cj=_2.ValueAndForever(cb);ck=_2.ValueAndForever(cc);cj!=null&&cj.$==1?ck!=null&&ck.$==1?cj.$0[1]&&ck.$0[1]?_2.MarkForever(cf,ca(cj.$0[0],ck.$0[0])):_2.MarkReady(cf,ca(cj.$0[0],ck.$0[0])):void 0:void 0;}}cd=cb.s;ce=cc.s;return cd!=null&&cd.$==0?ce!=null&&ce.$==0?_2.New({$:0,$0:ca(cd.$0,ce.$0)}):_2.Map2Opt1(ca,cd.$0,cc):ce!=null&&ce.$==0?_2.Map2Opt2(ca,ce.$0,cb):(cf=_2.New({$:3,$0:[],$1:[]}),(_2.When(cb,cg,cf),_2.When(cc,cg,cf),cf));};_2.MapAsync=function(ca,cb){var cc;cc=_2.New({$:3,$0:[],$1:[]});_2.When(cb,function(cd){_4.StartTo(ca(cd),function(ce){_2.MarkDone(cc,cb,ce);});},cc);return cc;};_2.WhenObsoleteRun=function(ca,cb){var cc;cc=ca.s;cc==null?cb():cc!=null&&cc.$==2?cc.$1.push(cb):cc!=null&&cc.$==3?cc.$1.push(cb):void 0;};_2.When=function(ca,cb,cc){var cd;cd=ca.s;cd==null?_2.Obsolete(cc):cd!=null&&cd.$==2?(_2.EnqueueSafe(cd.$1,cc),cb(cd.$0)):cd!=null&&cd.$==3?(cd.$0.push(cb),_2.EnqueueSafe(cd.$1,cc)):cb(cd.$0);};_2.MarkDone=function(ca,cb,cc){var cd;if(cd=cb.s,cd!=null&&cd.$==0)_2.MarkForever(ca,cc);else _2.MarkReady(ca,cc);};_2.Map2Opt1=function(ca,cb,cc){return _2.Map(function(cd){return ca(cb,cd);},cc);};_2.Map2Opt2=function(ca,cb,cc){return _2.Map(function(cd){return ca(cd,cb);},cc);};_2.ValueAndForever=function(ca){var cb;cb=ca.s;return cb!=null&&cb.$==0?{$:1,$0:[cb.$0,true]}:cb!=null&&cb.$==2?{$:1,$0:[cb.$0,false]}:null;};_2.MarkForever=function(ca,cb){var cc,cd,ce,cf;cc=ca.s;if(cc!=null&&cc.$==3){ca.s={$:0,$0:cb};cd=cc.$0;for(ce=0,cf=p.length(cd)-1;ce<=cf;ce++)(p.get(cd,ce))(cb);}else void 0;};_2.MarkReady=function(ca,cb){var cc,cd,ce,cf;cc=ca.s;if(cc!=null&&cc.$==3){ca.s={$:2,$0:cb,$1:cc.$1};cd=cc.$0;for(ce=0,cf=p.length(cd)-1;ce<=cf;ce++)(p.get(cd,ce))(cb);}else void 0;};_2.EnqueueSafe=function(ca,cb){var cc,cd,ce,cf;ca.push(cb);if(ca.length%20===0){cc=ca.slice(0);bV.Clear(ca);for(cd=0,ce=p.length(cc)-1;cd<=ce;cd++){cf=p.get(cc,cd);typeof cf=="object"?function(cg){if(cg.s)ca.push(cg);}(cf):function(cg){ca.push(cg);}(cf);}}else void 0;};_2.Join=function(ca){var cb;cb=_2.New({$:3,$0:[],$1:[]});_2.When(ca,function(cc){var cd;cd=cc();_2.When(cd,function(ce){var cf,cg;if((cf=cd.s,cf!=null&&cf.$==0)&&(cg=ca.s,cg!=null&&cg.$==0))_2.MarkForever(cb,ce);else _2.MarkReady(cb,ce);},cb);},cb);return cb;};_2.Copy=function(ca){var cb,cc,cd;cb=ca.s;return cb==null?ca:cb!=null&&cb.$==2?(cc=_2.New({$:2,$0:cb.$0,$1:[]}),(_2.WhenObsolete(ca,cc),cc)):cb!=null&&cb.$==3?(cd=_2.New({$:3,$0:[],$1:[]}),(_2.When(ca,function(ce){_2.MarkDone(cd,ca,ce);},cd),cd)):ca;};_2.Map2Unit=function(ca,cb){var cc,cd,ce;function cf(){var cg,ch,ci;if(!(cg=ce.s,cg!=null&&cg.$==0||cg!=null&&cg.$==2)){ch=_2.ValueAndForever(ca);ci=_2.ValueAndForever(cb);ch!=null&&ch.$==1?ci!=null&&ci.$==1?ch.$0[1]&&ci.$0[1]?_2.MarkForever(ce,null):_2.MarkReady(ce,null):void 0:void 0;}}cc=ca.s;cd=cb.s;return cc!=null&&cc.$==0?cd!=null&&cd.$==0?_2.New({$:0,$0:null}):cb:cd!=null&&cd.$==0?ca:(ce=_2.New({$:3,$0:[],$1:[]}),(_2.When(ca,cf,ce),_2.When(cb,cf,ce),ce));};_2.WhenObsolete=function(ca,cb){var cc;cc=ca.s;cc==null?_2.Obsolete(cb):cc!=null&&cc.$==2?_2.EnqueueSafe(cc.$1,cb):cc!=null&&cc.$==3?_2.EnqueueSafe(cc.$1,cb):void 0;};_4.StartTo=function(ca,cb){_0.StartWithContinuations(ca,cb,function(cc){_4.OnError(cc);},a.ignore,null);};_4.OnError=function(ca){return b5.log("WebSharper UI: Uncaught asynchronous exception",ca);};_5.TryParseInt32=function(ca,cb){return _5.TryParse(ca,-2147483648,2147483647,cb);};_5.TryParseInt64=function(ca,cb){return _5.TryParse(ca,-9223372036854775808,9223372036854775807,cb);};_7.TryParse=function(ca,cb){try{cb.set(_7.Parse(ca));return true;}catch(cc){return false;}};_7.Parse=function(ca){var cb,cc,cd;try{return _7.ParseExact(ca,"D");}catch(ce){try{cb=_7.ParseExact(ca,"B");}catch(cf){try{cc=_7.ParseExact(ca,"P");}catch(cg){try{cd=_7.ParseExact(ca,"N");}catch(ch){cd=_7.ParseExact(ca,"X");}cc=cd;}cb=cc;}return cb;}};_7.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new a.RegExp("[xy]","g"),function(ca){var cb,cc;cb=b$.random()*16|0;cc=ca=="x"?cb:cb&3|8;return cc.toString(16);});};_7.ParseExact=function(ca,cb){var cc,cd,ce,cg,ch,ci,cj,ck,cl,cm,cn,co,cp;function cf(cq){var cr,cs,ct,cu;for(cr=0,cs=35;cr<=cs;cr++){cr===8||(cr===13||(cr===18||cr===23))?cq[cr]!=="-"?_7.ShapeError():void 0:(cu=cq[cr],!("0"<=cu&&cu<="9"||"a"<=cu&&cu<="f")?_7.ShapeError():void 0);}return cq;}cg=cb.toUpperCase();if(cg==="N"){ch=F.Trim(ca).toLowerCase();if(ch.length!==32)_7.ShapeError();for(ci=0,cj=31;ci<=cj;ci++){ck=ch[ci];!("0"<=ck&&ck<="9"||"a"<=ck&&ck<="f")?_7.ShapeError():void 0;}return F.Substring(ch,0,8)+"-"+F.Substring(ch,8,4)+"-"+F.Substring(ch,12,4)+"-"+F.Substring(ch,16,4)+"-"+ch.substring(20);}else if(cg==="D"){cc=F.Trim(ca).toLowerCase();cc.length!==36?_7.ShapeError():void 0;return cf(cc);}else if(cg==="B"){cd=F.Trim(ca).toLowerCase();cd.length!==38||cd[0]!=="{"||cd[17]!=="}"?_7.ShapeError():void 0;return cf(F.Substring(cd,1,36));}else if(cg==="P"){ce=F.Trim(ca).toLowerCase();ce.length!==38||ce[0]!=="("||ce[17]!==")"?_7.ShapeError():void 0;return cf(F.Substring(ce,1,36));}else if(cg==="X"){cl=F.Trim(ca).toLowerCase();if(cl.length!==68)_7.ShapeError();for(cm=0,cn=67;cm<=cn;cm++){switch(cm){case 26:case 0:if(cl[cm]!=="{")_7.ShapeError();break;case 62:case 57:case 52:case 47:case 42:case 37:case 32:case 27:case 19:case 12:case 1:if(cl[cm]!=="0")_7.ShapeError();break;case 63:case 58:case 53:case 48:case 43:case 38:case 33:case 28:case 20:case 13:case 2:if(cl[cm]!=="x")_7.ShapeError();break;case 61:case 56:case 51:case 46:case 41:case 36:case 31:case 25:case 18:case 11:if(cl[cm]!==",")_7.ShapeError();break;case 67:case 66:if(cl[cm]!=="{")_7.ShapeError();break;default:cp=cl[cm];!("0"<=cp&&cp<="9"||"a"<=cp&&cp<="f")?_7.ShapeError():void 0;break;}}return F.Substring(cl,3,8)+"-"+F.Substring(cl,14,4)+"-"+F.Substring(cl,21,4)+"-"+F.Substring(cl,29,2)+F.Substring(cl,34,2)+"-"+F.Substring(cl,39,2)+F.Substring(cl,44,2)+F.Substring(cl,49,2)+F.Substring(cl,54,2)+F.Substring(cl,59,2)+F.Substring(cl,64,2);}else return _7.FormatError();};_7.ShapeError=function(){throw new bS.New$1("Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");};_7.FormatError=function(){throw new bS.New$1("Format String can be only \"D\", \"d\", \"N\", \"n\", \"P\", \"p\", \"B\", \"b\", \"X\" or \"x\".");};_8.B={$:0};_9=s.FSharpSet=b8.Class({GetHashCode:function(){return -1741749453+q.Hash(p.ofSeq(this));},Equals:function(ca){return this.get_Count()===ca.get_Count()&&A.forall2(q.Equals,this,ca);},get_Count:function(){var ca;ca=this.tree;return ca==null?0:ca.Count;},GetEnumerator$1:function(){return _.Get(ba.Enumerate(false,this.tree));},GetEnumerator:function(){return this.GetEnumerator$1();},CompareTo0:function(ca){return A.compareWith(q.Compare,this,ca);},GetEnumerator0:function(){return this.GetEnumerator$1();}},r,_9);_9.New=b8.Ctor(function(ca){_9.New$1.call(this,ba.OfSeq(ca));},_9);_9.New$1=b8.Ctor(function(ca){r.New.call(this);this.tree=ca;},_9);_.Get=function(ca){return ca instanceof a.Array?_.ArrayEnumerator(ca):q.Equals(typeof ca,"string")?_.StringEnumerator(ca):ca.GetEnumerator();};_.ArrayEnumerator=function(ca){return new $.New(0,null,function(cb){var cc;cc=cb.s;return cc<p.length(ca)&&(cb.c=p.get(ca,cc),cb.s=cc+1,true);},void 0);};_.StringEnumerator=function(ca){return new $.New(0,null,function(cb){var cc;cc=cb.s;return cc<ca.length&&(cb.c=ca[cc],cb.s=cc+1,true);},void 0);};_.Get0=function(ca){return ca instanceof a.Array?_.ArrayEnumerator(ca):q.Equals(typeof ca,"string")?_.StringEnumerator(ca):"GetEnumerator0"in ca?ca.GetEnumerator0():ca.GetEnumerator();};$=_.T=b8.Class({Dispose:function(){if(this.d)this.d(this);},MoveNext:function(){return this.n(this);},Current:function(){return this.c;}},r,$);$.New=b8.Ctor(function(ca,cb,cc,cd){r.New.call(this);this.s=ca;this.c=cb;this.n=cc;this.d=cd;},$);ba.OfSeq=function(ca){var cb;cb=p.ofSeq(A.distinct(ca));p.sortInPlace(cb);return ba.Build(cb,0,cb.length-1);};ba.TryFind=function(ca,cb){var cc;cc=(ba.Lookup(ca,cb))[0];return cc==null?null:{$:1,$0:cc.Node};};ba.Build=function(ca,cb,cc){var cd,ce,cf;return cc-cb+1<=0?null:(cd=(cb+cc)/2>>0,(ce=ba.Build(ca,cb,cd-1),(cf=ba.Build(ca,cd+1,cc),ba.Branch(p.get(ca,cd),ce,cf))));};ba.Add=function(ca,cb){return ba.Put(function(cc,cd){return cd;},ca,cb);};ba.Lookup=function(ca,cb){var cc,cd,ce,cf;cc=[];cd=cb;ce=true;while(ce)if(cd==null)ce=false;else{cf=q.Compare(ca,cd.Node);cf===0?ce=false:cf===1?(cc.unshift([true,cd.Node,cd.Left]),cd=cd.Right):(cc.unshift([false,cd.Node,cd.Right]),cd=cd.Left);}return[cd,cc];};ba.Branch=function(ca,cb,cc){var cd,ce;return bt.New(ca,cb,cc,1+(cd=cb==null?0:cb.Height,(ce=cc==null?0:cc.Height,q.Compare(cd,ce)===1?cd:ce)),1+(cb==null?0:cb.Count)+(cc==null?0:cc.Count));};ba.Put=function(ca,cb,cc){var cd,ce;cd=ba.Lookup(cb,cc);ce=cd[0];return ce==null?ba.Rebuild(cd[1],ba.Branch(cb,null,null)):ba.Rebuild(cd[1],ba.Branch(ca(ce.Node,cb),ce.Left,ce.Right));};ba.Rebuild=function(ca,cb){var cc,ce,cf,cg,ch,ci,cj,ck,cl,cm;function cd(cn){return cn==null?0:cn.Height;}cc=cb;for(ce=0,cf=p.length(ca)-1;ce<=cf;ce++){cc=(cg=p.get(ca,ce),cg[0]?(ch=cg[1],(ci=cg[2],cd(cc)>cd(ci)+1?cd(cc.Left)===cd(cc.Right)+1?(cj=cc.Left,ba.Branch(cj.Node,ba.Branch(ch,ci,cj.Left),ba.Branch(cc.Node,cj.Right,cc.Right))):ba.Branch(cc.Node,ba.Branch(ch,ci,cc.Left),cc.Right):ba.Branch(ch,ci,cc))):(ck=cg[1],(cl=cg[2],cd(cc)>cd(cl)+1?cd(cc.Right)===cd(cc.Left)+1?(cm=cc.Right,ba.Branch(cm.Node,ba.Branch(cc.Node,cc.Left,cm.Left),ba.Branch(ck,cm.Right,cl))):ba.Branch(cc.Node,cc.Left,ba.Branch(ck,cc.Right,cl)):ba.Branch(ck,cc,cl))));}return cc;};ba.Enumerate=function(ca,cb){function cc(cd,ce){var cf;while(true)if(cd==null)return ce.$==1?{$:1,$0:[ce.$0[0],[ce.$0[1],ce.$1]]}:null;else if(ca){cf=cd;cd=cf.Right;ce=new C({$:1,$0:[cf.Node,cf.Left],$1:ce});}else{cf=cd;cd=cf.Left;ce=new C({$:1,$0:[cf.Node,cf.Right],$1:ce});}}return A.unfold(function(cd){return cc(cd[0],cd[1]);},[cb,C.Empty]);};bc.AsyncMap=function(ca,cb){var cc;cc=null;return _0.Delay(function(){return _0.Bind(ca,function(cd){return _0.Return(cb(cd));});});};bd.randomFunctionName=function(){var ca;return F.ReplaceChar((ca=_7.NewGuid(),a.String(ca)).toLowerCase(),"-","_");};be.fromSeq=function(ca){var cb;cb=p.ofSeq(A.delay(function(){return A.collect(function(cc){return[bs.New(cc[0],cc[1])];},A.distinctBy(function(cc){return cc[0];},ca));}));p.sortInPlace(cb);return ba.Build(cb,0,cb.length-1);};p.sortInPlaceByDescending=function(ca,cb){p.mapInPlace(function(cc){return cc[0];},p.mapiInPlace(function(cc,cd){return[cd,[ca(cd),cc]];},cb).sort(function(cc,cd){return-q.Compare(cc[1],cd[1]);}));};A.contains=function(ca,cb){var cc,cd;cc=_.Get(cb);try{cd=false;while(!cd&&cc.MoveNext())cd=q.Equals(cc.Current(),ca);return cd;}finally{if(typeof cc=="object"&&"Dispose"in cc)cc.Dispose();}};A.insufficient=function(){return n.FailWith("The input sequence has an insufficient number of elements.");};p.mapiInPlace=function(ca,cb){var cc,cd;for(cc=0,cd=cb.length-1;cc<=cd;cc++)cb[cc]=ca(cc,cb[cc]);return cb;};p.mapInPlace=function(ca,cb){var cc,cd;for(cc=0,cd=cb.length-1;cc<=cd;cc++)cb[cc]=ca(cb[cc]);};A.nonNegative=function(){return n.FailWith("The input must be non-negative.");};bf.Static=function(ca){return new bj({$:3,$0:ca});};bf.Insert=function(ca,cb){var cc,cd,ce;function cf(cg){if(!(cg===null))if(cg!=null&&cg.$==1)cc.push(cg.$0);else if(cg!=null&&cg.$==2){cf(cg.$0);cf(cg.$1);}else if(cg!=null&&cg.$==3)cg.$0(ca);else if(cg!=null&&cg.$==4)cd.push(cg.$0);}cc=[];cd=[];cf(cb);ce=cc.slice(0);return bB.New(ca,bf.Flags(cb),ce,cd.length===0?null:{$:1,$0:function(cg){A.iter(function(ch){ch(cg);},cd);}});};bf.EmptyAttr=function(){bC.$cctor();return bC.EmptyAttr;};bf.Flags=function(ca){return ca!==null&&ca.hasOwnProperty("flags")?ca.flags:0;};bf.Updates=function(ca){return bh.MapTreeReduce(function(cb){return cb.NChanged();},y.Const(),y.Map2Unit,ca.DynNodes);};bf.AppendTree=function(ca,cb){var cc;return ca===null?cb:cb===null?ca:(cc=new bj({$:2,$0:ca,$1:cb}),(bf.SetFlags(cc,bf.Flags(ca)|bf.Flags(cb)),cc));};bf.Dynamic=function(ca,cb){return new bj({$:1,$0:new bW.New(ca,cb)});};bf.SetFlags=function(ca,cb){ca.flags=cb;};bf.HasExitAnim=function(ca){var cb;cb=2;return(ca.DynFlags&cb)===cb;};bf.GetExitAnim=function(ca){return bf.GetAnim(ca,function(cb,cc){return cb.NGetExitAnim(cc);});};bf.HasEnterAnim=function(ca){var cb;cb=1;return(ca.DynFlags&cb)===cb;};bf.GetEnterAnim=function(ca){return bf.GetAnim(ca,function(cb,cc){return cb.NGetEnterAnim(cc);});};bf.HasChangeAnim=function(ca){var cb;cb=4;return(ca.DynFlags&cb)===cb;};bf.GetChangeAnim=function(ca){return bf.GetAnim(ca,function(cb,cc){return cb.NGetChangeAnim(cc);});};bf.GetAnim=function(ca,cb){return bF.Concat(p.map(function(cc){return cb(cc,ca.DynElem);},ca.DynNodes));};bf.Sync=function(ca,cb){p.iter(function(cc){cc.NSync(ca);},cb.DynNodes);};bg.SetStyle=function(ca,cb,cc){bg.SetProperty(ca.style,cb,cc);};bg.SetProperty=function(ca,cb,cc){return ca.setProperty(cb,cc);};bg.SetAttr=function(ca,cb,cc){ca.setAttribute(cb,cc);};bg.CreateText=function(ca){return bg.Doc().createTextNode(ca);};bg.AddClass=function(ca,cb){var cc;cc=bg.getClass(ca);cc===""?bg.setClass(ca,cb):!bg.clsRE(cb).test(cc)?bg.setClass(ca,cc+" "+cb):void 0;};bg.RemoveClass=function(ca,cb){var cc;bg.setClass(ca,(cc=bg.clsRE(cb),bg.getClass(ca).replace(cc,function(cd,ce,cf){return ce===""||cf===""?"":" ";})));};bg.CreateElement=function(ca){return bg.Doc().createElement(ca);};bg.Doc=function(){bK.$cctor();return bK.Doc;};bg.getClass=function(ca){return ca instanceof a.SVGElement?ca.getAttribute("class"):ca.className;};bg.setClass=function(ca,cb){if(ca instanceof a.SVGElement)ca.setAttribute("class",cb);else ca.className=cb;};bg.clsRE=function(ca){return new a.RegExp("(\\s+|^)"+ca+"(?:\\s+"+ca+")*(\\s+|$)","g");};bg.ChildrenArray=function(ca){var cb,cc,cd;cb=[];for(cc=0,cd=ca.childNodes.length-1;cc<=cd;cc++)cb.push(ca.childNodes[cc]);return cb;};bg.IterSelector=function(ca,cb,cc){var cd,ce,cf;cd=ca.querySelectorAll(cb);for(ce=0,cf=cd.length-1;ce<=cf;ce++)cc(cd[ce]);};bg.InsertAt=function(ca,cb,cc){var cd;if(!(cc.parentNode===ca&&cb===(cd=cc.nextSibling,q.Equals(cd,null)?null:cd)))ca.insertBefore(cc,cb);};bg.RemoveNode=function(ca,cb){if(cb.parentNode===ca)ca.removeChild(cb);};bh.MapTreeReduce=function(ca,cb,cc,cd){var ce;function cf(cg,ch){var ci,cj;return ch<=0?cb:ch===1&&(cg>=0&&cg<ce)?ca(p.get(cd,cg)):(cj=ch/2>>0,cc(cf(cg,cj),cf(cg+cj,ch-cj)));}ce=p.length(cd);return cf(0,ce);};bh.ofSeqNonCopying=function(ca){var cb,cc;if(ca instanceof a.Array)return ca;else if(ca instanceof C)return p.ofList(ca);else if(ca===null)return[];else{cb=[];cc=_.Get(ca);try{while(cc.MoveNext())cb.push(cc.Current());return cb;}finally{if(typeof cc=="object"&&"Dispose"in cc)cc.Dispose();}}};bh.TreeReduce=function(ca,cb,cc){var cd;function ce(cf,cg){var ch,ci;return cg<=0?ca:cg===1&&(cf>=0&&cf<cd)?p.get(cc,cf):(ci=cg/2>>0,cb(ce(cf,ci),ce(cf+ci,cg-ci)));}cd=p.length(cc);return ce(0,cd);};bh.mapInPlace=function(ca,cb){var cc,cd;for(cc=0,cd=cb.length-1;cc<=cd;cc++)cb[cc]=ca(cb[cc]);return cb;};bi.CreateElemNode=function(ca,cb,cc){var cd;bi.LinkElement(ca,cc);cd=bf.Insert(ca,cb);return bv.New(cd,cc,null,ca,bp.Int(),b8.GetOptional(cd.OnAfterRender));};bi.LinkElement=function(ca,cb){bi.InsertDoc(ca,cb,null);};bi.InsertDoc=function(ca,cb,cc){var cd;return cb!=null&&cb.$==1?bi.InsertNode(ca,cb.$0.El,cc):cb!=null&&cb.$==2?(cd=cb.$0,(cd.Dirty=false,bi.InsertDoc(ca,cd.Current,cc))):cb==null?cc:cb!=null&&cb.$==4?bi.InsertNode(ca,cb.$0.Text,cc):cb!=null&&cb.$==5?bi.InsertNode(ca,cb.$0,cc):cb!=null&&cb.$==6?p.foldBack(function(ce,cf){return ce==null||ce.constructor===W?bi.InsertDoc(ca,ce,cf):bi.InsertNode(ca,ce,cf);},cb.$0.Els,cc):bi.InsertDoc(ca,cb.$0,bi.InsertDoc(ca,cb.$1,cc));};bi.CreateRunState=function(ca,cb){return bO.New(bP.get_Empty(),bi.CreateElemNode(ca,bf.EmptyAttr(),cb));};bi.PerformAnimatedUpdate=function(ca,cb,cc){var cd;return bF.get_UseAnimations()?(cd=null,_0.Delay(function(){var ce,cf,cg;ce=bP.FindAll(cc);cf=bi.ComputeChangeAnim(cb,ce);cg=bi.ComputeEnterAnim(cb,ce);return _0.Bind(bF.Play(bF.Append(cf,bi.ComputeExitAnim(cb,ce))),function(){return _0.Bind(bi.SyncElemNodesNextFrame(ca,cb),function(){return _0.Bind(bF.Play(cg),function(){cb.PreviousNodes=ce;return _0.Return(null);});});});})):bi.SyncElemNodesNextFrame(ca,cb);};bi.PerformSyncUpdate=function(ca,cb,cc){var cd;cd=bP.FindAll(cc);bi.SyncElemNode(ca,cb.Top);cb.PreviousNodes=cd;};bi.InsertNode=function(ca,cb,cc){bg.InsertAt(ca,cc,cb);return cb;};bi.CreateEmbedNode=function(){return{Current:null,Dirty:false};};bi.UpdateEmbedNode=function(ca,cb){ca.Current=cb;ca.Dirty=true;};bi.SyncElemNodesNextFrame=function(ca,cb){function cc(cd){a.requestAnimationFrame(function(){bi.SyncElemNode(ca,cb.Top);cd();});}return bG.BatchUpdatesEnabled()?_0.FromContinuations(function(cd,ce,cf){return cc.apply(null,[cd,ce,cf]);}):(bi.SyncElemNode(ca,cb.Top),_0.Return(null));};bi.ComputeExitAnim=function(ca,cb){return bF.Concat(p.map(function(cc){return bf.GetExitAnim(cc.Attr);},bP.ToArray(bP.Except(cb,bP.Filter(function(cc){return bf.HasExitAnim(cc.Attr);},ca.PreviousNodes)))));};bi.ComputeEnterAnim=function(ca,cb){return bF.Concat(p.map(function(cc){return bf.GetEnterAnim(cc.Attr);},bP.ToArray(bP.Except(ca.PreviousNodes,bP.Filter(function(cc){return bf.HasEnterAnim(cc.Attr);},cb)))));};bi.ComputeChangeAnim=function(ca,cb){var cc;function cd(ce){return bf.HasChangeAnim(ce.Attr);}cc=function(ce){return bP.Filter(cd,ce);};return bF.Concat(p.map(function(ce){return bf.GetChangeAnim(ce.Attr);},bP.ToArray(bP.Intersect(cc(ca.PreviousNodes),cc(cb)))));};bi.SyncElemNode=function(ca,cb){!ca?bi.SyncElement(cb):void 0;bi.Sync(cb.Children);bi.AfterRender(cb);};bi.SyncElement=function(ca){function cb(cc){function cd(ce){var cf,cg;return ce!=null&&ce.$==0?cd(ce.$0)||cd(ce.$1):ce!=null&&ce.$==2?(cf=ce.$0,cf.Dirty||cd(cf.Current)):ce!=null&&ce.$==6&&(cg=ce.$0,cg.Dirty||p.exists(cb,cg.Holes));}return cd(cc.Children);}bf.Sync(ca.El,ca.Attr);cb(ca)?bi.DoSyncElement(ca):void 0;};bi.Sync=function(ca){var cb,cc;if(ca!=null&&ca.$==1)bi.SyncElemNode(false,ca.$0);else if(ca!=null&&ca.$==2)bi.Sync(ca.$0.Current);else if(ca==null);else if(ca!=null&&ca.$==5);else if(ca!=null&&ca.$==4){cb=ca.$0;cb.Dirty?(cb.Text.nodeValue=cb.Value,cb.Dirty=false):void 0;}else if(ca!=null&&ca.$==6){cc=ca.$0;p.iter(function(cd){bi.SyncElemNode(false,cd);},cc.Holes);p.iter(function(cd){bf.Sync(cd[0],cd[1]);},cc.Attrs);bi.AfterRender(cc);}else{bi.Sync(ca.$0);bi.Sync(ca.$1);}};bi.AfterRender=function(ca){var cb;cb=b8.GetOptional(ca.Render);cb!=null&&cb.$==1?(cb.$0(ca.El),b8.SetOptional(ca,"Render",null)):void 0;};bi.DoSyncElement=function(ca){var cb,cc,cd;function ce(cf,cg){var ch,ci;return cf!=null&&cf.$==1?cf.$0.El:cf!=null&&cf.$==2?(ch=cf.$0,ch.Dirty?(ch.Dirty=false,bi.InsertDoc(cb,ch.Current,cg)):ce(ch.Current,cg)):cf==null?cg:cf!=null&&cf.$==4?cf.$0.Text:cf!=null&&cf.$==5?cf.$0:cf!=null&&cf.$==6?(ci=cf.$0,(ci.Dirty?ci.Dirty=false:void 0,p.foldBack(function(cj,ck){return cj==null||cj.constructor===W?ce(cj,ck):cj;},ci.Els,cg))):ce(cf.$0,ce(cf.$1,cg));}cb=ca.El;b0.Iter((cc=ca.El,function(cf){bg.RemoveNode(cc,cf);}),b0.Except(b0.DocChildren(ca),b0.Children(ca.El,b8.GetOptional(ca.Delimiters))));ce(ca.Children,(cd=b8.GetOptional(ca.Delimiters),cd!=null&&cd.$==1?cd.$0[1]:null));};bj=v.AttrProxy=b8.Class({},null,bj);bj.Create=function(ca,cb){return bf.Static(function(cc){bg.SetAttr(cc,ca,cb);});};bj.Concat=function(ca){var cb;cb=bh.ofSeqNonCopying(ca);return bh.TreeReduce(bf.EmptyAttr(),bj.Append,cb);};bj.Append=function(ca,cb){return bf.AppendTree(ca,cb);};bl.LoadLocalTemplates=function(ca){!bl.LocalTemplatesLoaded()?(bl.set_LocalTemplatesLoaded(true),bl.LoadNestedTemplates(self.document.body,"")):void 0;bl.LoadedTemplates().set_Item(ca,bl.LoadedTemplateFile(""));};bl.LocalTemplatesLoaded=function(){bE.$cctor();return bE.LocalTemplatesLoaded;};bl.set_LocalTemplatesLoaded=function(ca){bE.$cctor();bE.LocalTemplatesLoaded=ca;};bl.LoadNestedTemplates=function(ca,cb){var cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq;function cc(cr){var cs,ct;if(!cd.ContainsKey(cr)){cs=(ct=null,[ce.TryGetValue(cr,{get:function(){return ct;},set:function(cu){ct=cu;}}),ct]);cs[0]?(cq.Add(cr),ce.Remove(cr),bl.PrepareTemplateStrict(cb,{$:1,$0:cr},cs[1][0],{$:1,$0:cs[1][1]},{$:1,$0:cc})):b5.warn(cq.Contains(cr)?"Encountered loop when instantiating "+cr:"Local template does not exist: "+cr);}}cd=bl.LoadedTemplateFile(cb);ce=new t.New$5();cf=ca.querySelectorAll("[ws-template]");for(cg=0,ch=cf.length-1;cg<=ch;cg++){ci=cf[cg];cj=ci.getAttribute("ws-template").toLowerCase();ci.removeAttribute("ws-template");ce.set_Item(cj,[[ci],bl.FakeRootSingle(ci)]);}ck=ca.querySelectorAll("[ws-children-template]");for(cl=0,cm=ck.length-1;cl<=cm;cl++){cn=ck[cl];co=cn.getAttribute("ws-children-template").toLowerCase();cn.removeAttribute("ws-children-template");ce.set_Item(co,(cp=bg.ChildrenArray(cn),[cp,bl.FakeRoot(cp)]));}cq=new by.New$3();while(ce.count>0)cc(A.head(ce.get_Keys()));};bl.LoadedTemplates=function(){bE.$cctor();return bE.LoadedTemplates;};bl.LoadedTemplateFile=function(ca){var cb,cc,cd;cb=(cc=null,[bl.LoadedTemplates().TryGetValue(ca,{get:function(){return cc;},set:function(ce){cc=ce;}}),cc]);return cb[0]?cb[1]:(cd=new t.New$5(),(bl.LoadedTemplates().set_Item(ca,cd),cd));};bl.FakeRootSingle=function(ca){var cb,cc,cd;ca.removeAttribute("ws-template");cb=ca.getAttribute("ws-replace");cb===null?void 0:(ca.removeAttribute("ws-replace"),cc=ca.parentNode,q.Equals(cc,null)?void 0:(cd=self.document.createElement(ca.tagName),cd.setAttribute("ws-replace",cb),cc.replaceChild(cd,ca)));return bl.FakeRoot([ca]);};bl.FakeRoot=function(ca){var cb,cc,cd;cb=self.document.createElement("div");for(cc=0,cd=ca.length-1;cc<=cd;cc++)cb.appendChild(p.get(ca,cc));return cb;};bl.PrepareTemplateStrict=function(ca,cb,cc,cd,ce){var cf,cg;function ch(cm,cn){var co,cp,cq,cr,cs,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO;function ct(cP){}while(true)switch(cm){case 0:if(cn!==null){co=cn.nextSibling;if(q.Equals(cn.nodeType,S.TEXT_NODE))bL.convertTextNode(cn);else if(q.Equals(cn.nodeType,S.ELEMENT_NODE))cj(cn);cn=co;}else return null;break;case 1:cu=E.string(cn.nodeName,{$:1,$0:3},null).toLowerCase();cv=(cp=cu.indexOf("."),cp===-1?[ca,cu]:[E.string(cu,null,{$:1,$0:cp-1}),E.string(cu,{$:1,$0:cp+1},null)]);cw=cv[1];cx=cv[0];if(cx!==""&&!bl.LoadedTemplates().ContainsKey(cx))return bL.failNotLoaded(cw);else{if(cx===""&&ce!=null)ce.$0(cw);cy=bl.LoadedTemplates().get_Item(cx);if(!cy.ContainsKey(cw))return bL.failNotLoaded(cw);else{cz=cy.get_Item(cw);cA=cz.cloneNode(true);cB=new by.New$3();cC=new t.New$5();cD=cn.attributes;for(cE=0,cF=cD.length-1;cE<=cF;cE++){cG=cD.item(cE).name.toLowerCase();cC.set_Item(cG,(cH=cD.item(cE).nodeValue,cH===""?cG:cH.toLowerCase()));!cB.Add(cG)?b5.warn("Hole mapped twice",cG):void 0;}for(cI=0,cJ=cn.childNodes.length-1;cI<=cJ;cI++){cK=cn.childNodes[cI];q.Equals(cK.nodeType,S.ELEMENT_NODE)?!cB.Add(cK.nodeName.toLowerCase())?b5.warn("Hole filled twice",cw):void 0:void 0;}cL=cn.childNodes.length===1&&q.Equals(cn.firstChild.nodeType,S.TEXT_NODE);if(cL){cr=bL.fillTextHole(cA,cn.firstChild.textContent,cw);((function(cP){return function(cQ){if(cQ!=null)cP(cQ.$0);};}((cs=function(cP){return function(cQ){return cP.Add(cQ);};}(cB),function(cP){return ct(cs(cP));})))(cr));}bL.removeHolesExcept(cA,cB);if(!cL){for(cM=0,cN=cn.childNodes.length-1;cM<=cN;cM++){cO=cn.childNodes[cM];q.Equals(cO.nodeType,S.ELEMENT_NODE)?cO.hasAttributes()?bL.fillInstanceAttrs(cA,cO):ci(cA,cO):void 0;}}bL.mapHoles(cA,cC);bL.fill(cA,cn.parentNode,cn);cn.parentNode.removeChild(cn);return;}}break;}}function ci(cm,cn){var co,cq,cr;function cp(cs,ct){var cu,cv,cw;if(cq==="title"&&cn.hasChildNodes()){cu=b_.parseHTML(cn.textContent);cn.removeChild(cn.firstChild);for(cv=0,cw=cu.length-1;cv<=cw;cv++)cn.appendChild(p.get(cu,cv));}else null;cj(cn);return bL.fill(cn,cs,ct);}cq=cn.nodeName.toLowerCase();bg.IterSelector(cm,"[ws-attr-holes]",function(cs){var ct,cu,cv,cw,cx;ct=F.SplitChars(cs.getAttribute("ws-attr-holes"),[" "],1);for(cu=0,cv=ct.length-1;cu<=cv;cu++){cw=p.get(ct,cu);cs.setAttribute(cw,(cx=new a.RegExp("\\${"+cq+"}","ig"),cs.getAttribute(cw).replace(cx,cn.textContent)));}});cr=cm.querySelector("[ws-hole="+cq+"]");if(q.Equals(cr,null)){co=cm.querySelector("[ws-replace="+cq+"]");return q.Equals(co,null)?null:(cp(co.parentNode,co),void co.parentNode.removeChild(co));}else{while(cr.hasChildNodes())cr.removeChild(cr.lastChild);cr.removeAttribute("ws-hole");return cp(cr,null);}}function cj(cm){if(F.StartsWith(cm.nodeName.toLowerCase(),"ws-"))cl(cm);else{bL.convertAttrs(cm);ck(cm.firstChild);}}function ck(cm){return ch(0,cm);}function cl(cm){return ch(1,cm);}cf=cd==null?bl.FakeRoot(cc):cd.$0;cg=(cb==null?"":cb.$0).toLowerCase();bl.LoadedTemplateFile(ca).set_Item(cg,cf);p.length(cc)>0?(function(cm){var cn,co,cp,cq;while(true){cn=cm.querySelector("[ws-template]");if(q.Equals(cn,null)){co=cm.querySelector("[ws-children-template]");if(q.Equals(co,null))return null;else{cp=co.getAttribute("ws-children-template");co.removeAttribute("ws-children-template");bl.PrepareTemplateStrict(ca,{$:1,$0:cp},bg.ChildrenArray(co),null,null);cm=cm;}}else{cq=cn.getAttribute("ws-template");(bl.PrepareSingleTemplate(ca,{$:1,$0:cq},cn))(null);cm=cm;}}}(cf),ck(p.get(cc,0))):void 0;};bl.PrepareSingleTemplate=function(ca,cb,cc){var cd,ce,cf;cd=bl.FakeRootSingle(cc);ce=[cc];cf={$:1,$0:cd};return function(cg){bl.PrepareTemplateStrict(ca,cb,ce,cf,cg);};};bl.TextHoleRE=function(){bE.$cctor();return bE.TextHoleRE;};bn.New=function(ca,cb){return{c:ca,r:cb};};bo.New=function(ca,cb){return{k:ca,ct:cb};};bp.Int=function(){bp.set_counter(bp.counter()+1);return bp.counter();};bp.set_counter=function(ca){bI.$cctor();bI.counter=ca;};bp.counter=function(){bI.$cctor();return bI.counter;};_2.Obsolete=function(ca){var cb,cc,cd,ce,cf;cc=ca.s;if(cc==null||(cc!=null&&cc.$==2?(cb=cc.$1,false):cc!=null&&cc.$==3?(cb=cc.$1,false):true))void 0;else{ca.s=null;for(cd=0,ce=p.length(cb)-1;cd<=ce;cd++){cf=p.get(cb,cd);typeof cf=="object"?function(cg){_2.Obsolete(cg);}(cf):cf();}}};_2.New=function(ca){return{s:ca};};bq.TryParse=function(ca){var cb;cb=b9.parse(ca);return a.isNaN(cb)?null:{$:1,$0:cb};};_5.TryParse=function(ca,cb,cc,cd){var ce,cf;ce=+ca;cf=ce===ce-ce%1&&ce>=cb&&ce<=cc;cf?cd.set(ce):void 0;return cf;};br=m.TimeoutException=b8.Class({},Y,br);br.New=b8.Ctor(function(){br.New$1.call(this,"The operation has timed out.");},br);br.New$1=b8.Ctor(function(ca){this.message=ca;W.setPrototypeOf(this,br.prototype);},br);bs=s.Pair=b8.Class({GetHashCode:function(){return q.Hash(this.Key);},Equals:function(ca){return q.Equals(this.Key,ca.Key);},CompareTo0:function(ca){return q.Compare(this.Key,ca.Key);}},null,bs);bs.New=function(ca,cb){return new bs({Key:ca,Value:cb});};bt.New=function(ca,cb,cc,cd,ce){return{Node:ca,Left:cb,Right:cc,Height:cd,Count:ce};};bu.$cctor=function(){bu.$cctor=a.ignore;bu.noneCT=bn.New(false,[]);bu.scheduler=new bw.New();bu.defCTS=[new u.New()];bu.Zero=_0.Return();bu.GetCT=function(ca){ca.k({$:0,$0:ca.ct});};};y=v.View=b8.Class({},null,y);bv=v.DocElemNode=b8.Class({GetHashCode:function(){return this.ElKey;},Equals:function(ca){return this.ElKey===ca.ElKey;}},null,bv);bv.New=function(ca,cb,cc,cd,ce,cf){var cg;return new bv((cg={Attr:ca,Children:cb,El:cd,ElKey:ce},(b8.SetOptional(cg,"Delimiters",cc),b8.SetOptional(cg,"Render",cf),cg)));};bw=_0.Scheduler=b8.Class({Fork:function(ca){var cb;cb=this;this.robin.push(ca);this.idle?(this.idle=false,a.setTimeout(function(){cb.tick();},0)):void 0;},tick:function(){var ca,cb,cc;cb=this;cc=b9.now();ca=true;while(ca)if(this.robin.length===0){this.idle=true;ca=false;}else{(this.robin.shift())();b9.now()-cc>40?(a.setTimeout(function(){cb.tick();},0),ca=false):void 0;}}},r,bw);bw.New=b8.Ctor(function(){r.New.call(this);this.idle=true;this.robin=[];},bw);bx=m.OperationCanceledException=b8.Class({},Y,bx);bx.New=b8.Ctor(function(ca){bx.New$1.call(this,"The operation was canceled.",null,ca);},bx);bx.New$1=b8.Ctor(function(ca,cb,cc){this.message=ca;this.inner=cb;W.setPrototypeOf(this,bx.prototype);this.ct=cc;},bx);by=s.HashSet=b8.Class({Add:function(ca){return this.add(ca);},Contains:function(ca){var cb;cb=this.data[this.hash(ca)];return cb==null?false:this.arrContains(ca,cb);},add:function(ca){var cb,cc;cb=this.hash(ca);cc=this.data[cb];return cc==null?(this.data[cb]=[ca],this.count=this.count+1,true):this.arrContains(ca,cc)?false:(cc.push(ca),this.count=this.count+1,true);},arrContains:function(ca,cb){var cc,cd,ce,cf;cc=true;cd=0;cf=cb.length;while(cc&&cd<cf)if(this.equals.apply(null,[cb[cd],ca]))cc=false;else cd=cd+1;return!cc;},ExceptWith:function(ca){var cb;cb=_.Get(ca);try{while(cb.MoveNext())this.Remove(cb.Current());}finally{if(typeof cb=="object"&&"Dispose"in cb)cb.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(ca){var cb,cc,cd,ce;cb=0;cc=bZ.concat(this.data);for(cd=0,ce=cc.length-1;cd<=ce;cd++)p.set(ca,cd,cc[cd]);},IntersectWith:function(ca){var cb,cc,cd,ce,cf;cb=new by.New$4(ca,this.equals,this.hash);cc=bZ.concat(this.data);for(cd=0,ce=cc.length-1;cd<=ce;cd++){cf=cc[cd];!cb.Contains(cf)?this.Remove(cf):void 0;}},Remove:function(ca){var cb;cb=this.data[this.hash(ca)];return cb==null?false:this.arrRemove(ca,cb)&&(this.count=this.count-1,true);},arrRemove:function(ca,cb){var cc,cd,ce,cf;cc=true;cd=0;cf=cb.length;while(cc&&cd<cf)if(this.equals.apply(null,[cb[cd],ca])){cb.splice.apply(cb,[cd,1]);cc=false;}else cd=cd+1;return!cc;},GetEnumerator:function(){return _.Get(bZ.concat(this.data));},GetEnumerator0:function(){return _.Get(bZ.concat(this.data));}},r,by);by.New$3=b8.Ctor(function(){by.New$4.call(this,[],q.Equals,q.Hash);},by);by.New$4=b8.Ctor(function(ca,cb,cc){var cd;r.New.call(this);this.equals=cb;this.hash=cc;this.data=[];this.count=0;cd=_.Get(ca);try{while(cd.MoveNext())this.add(cd.Current());}finally{if(typeof cd=="object"&&"Dispose"in cd)cd.Dispose();}},by);by.New$2=b8.Ctor(function(ca){by.New$4.call(this,ca,q.Equals,q.Hash);},by);bB.New=function(ca,cb,cc,cd){var ce;ce={DynElem:ca,DynFlags:cb,DynNodes:cc};b8.SetOptional(ce,"OnAfterRender",cd);return ce;};bC.$cctor=function(){bC.$cctor=a.ignore;bC.EmptyAttr=null;};bD=v.Elt=b8.Class({},O,bD);bD.New=function(ca,cb,cc){var cd,ce;cd=bi.CreateElemNode(ca,cb,cc.docNode);ce=bJ.Create(cc.updates);return new bD.New$1({$:1,$0:cd},y.Map2Unit(bf.Updates(cd.Attr),ce.v),ca,ce);};bD.New$1=b8.Ctor(function(ca,cb,cc,cd){O.New.call(this,ca,cb);this.docNode$1=ca;this.updates$1=cb;this.elt=cc;this.rvUpdates=cd;},bD);bE.$cctor=function(){bE.$cctor=a.ignore;bE.LoadedTemplates=new t.New$5();bE.LocalTemplatesLoaded=false;bE.TextHoleRE="\\${([^}]+)}";};bF.get_UseAnimations=function(){return bQ.UseAnimations();};bF.Play=function(ca){var cb;cb=null;return _0.Delay(function(){return _0.Bind(bF.Run(a.ignore,bQ.Actions(ca)),function(){bQ.Finalize(ca);return _0.Return(null);});});};bF.Append=function(ca,cb){return{$:0,$0:bU.Append(ca.$0,cb.$0)};};bF.Run=function(ca,cb){var cc;function cd(ce){function cf(cg,ch){var ci;ci=ch-cg;cb.Compute(ci);ca();return ci<=cc?void a.requestAnimationFrame(function(cj){cf(cg,cj);}):ce();}a.requestAnimationFrame(function(cg){cf(cg,cg);});}cc=cb.Duration;return cc===0?_0.Zero():_0.FromContinuations(function(ce,cf,cg){return cd.apply(null,[ce,cf,cg]);});};bF.Concat=function(ca){return{$:0,$0:bU.Concat(A.map(bQ.List,ca))};};bF.get_Empty=function(){return{$:0,$0:bU.Empty()};};bG.BatchUpdatesEnabled=function(){bR.$cctor();return bR.BatchUpdatesEnabled;};bH.StartProcessor=function(ca){var cb;function cc(){var cd;cd=null;return _0.Delay(function(){return _0.Bind(ca,function(){var ce;ce=cb[0];return ce===1?(cb[0]=0,_0.Zero()):ce===2?(cb[0]=1,cc()):_0.Zero();});});}cb=[0];return function(){var cd;cd=cb[0];cd===0?(cb[0]=1,_0.Start(cc(),null)):cd===1?cb[0]=2:void 0;};};bI.$cctor=function(){bI.$cctor=a.ignore;bI.counter=0;};bJ=v.Updates=b8.Class({},null,bJ);bJ.Create=function(ca){var cb;cb=null;cb=bJ.New(ca,null,function(){var cc;cc=cb.s;return cc===null?(cc=_2.Copy(cb.c()),cb.s=cc,_2.WhenObsoleteRun(cc,function(){cb.s=null;}),cc):cc;});return cb;};bJ.New=function(ca,cb,cc){return new bJ({c:ca,s:cb,v:cc});};bK.$cctor=function(){bK.$cctor=a.ignore;bK.Doc=self.document;};bL.convertTextNode=function(ca){var cb,cc,cd,ce,cf,cg;cb=null;cc=0;ce=ca.textContent;cf=new a.RegExp(bl.TextHoleRE(),"g");while(cb=cf.exec(ce),cb!==null){ca.parentNode.insertBefore(self.document.createTextNode(E.string(ce,{$:1,$0:cc},{$:1,$0:cf.lastIndex-p.get(cb,0).length-1})),ca);cc=cf.lastIndex;cg=self.document.createElement("span");cg.setAttribute("ws-replace",p.get(cb,1).toLowerCase());ca.parentNode.insertBefore(cg,ca);}cf.lastIndex=0;ca.textContent=E.string(ce,{$:1,$0:cc},null);};bL.failNotLoaded=function(ca){b5.warn("Instantiating non-loaded template",ca);};bL.fillTextHole=function(ca,cb,cc){var cd;cd=ca.querySelector("[ws-replace]");return q.Equals(cd,null)?(b5.warn("Filling non-existent text hole",cc),null):(cd.parentNode.replaceChild(new a.Text(cb),cd),{$:1,$0:cd.getAttribute("ws-replace")});};bL.removeHolesExcept=function(ca,cb){function cc(cd){bg.IterSelector(ca,"["+cd+"]",function(ce){if(!cb.Contains(ce.getAttribute(cd)))ce.removeAttribute(cd);});}cc("ws-attr");cc("ws-onafterrender");cc("ws-var");bg.IterSelector(ca,"[ws-hole]",function(cd){if(!cb.Contains(cd.getAttribute("ws-hole"))){cd.removeAttribute("ws-hole");while(cd.hasChildNodes())cd.removeChild(cd.lastChild);}});bg.IterSelector(ca,"[ws-replace]",function(cd){if(!cb.Contains(cd.getAttribute("ws-replace")))cd.parentNode.removeChild(cd);});bg.IterSelector(ca,"[ws-on]",function(cd){cd.setAttribute("ws-on",F.concat(" ",p.filter(function(ce){return cb.Contains(p.get(F.SplitChars(ce,[":"],1),1));},F.SplitChars(cd.getAttribute("ws-on"),[" "],1))));});bg.IterSelector(ca,"[ws-attr-holes]",function(cd){var ce,cf,cg,ch,ci;ce=F.SplitChars(cd.getAttribute("ws-attr-holes"),[" "],1);for(cf=0,cg=ce.length-1;cf<=cg;cf++){ch=p.get(ce,cf);cd.setAttribute(ch,(ci=new a.RegExp(bl.TextHoleRE(),"g"),cd.getAttribute(ch).replace(ci,function(cj,ck){return cb.Contains(ck)?cj:"";})));}});};bL.fillInstanceAttrs=function(ca,cb){var cc,cd,ce,cf,cg;bL.convertAttrs(cb);cc=cb.nodeName.toLowerCase();cd=ca.querySelector("[ws-attr="+cc+"]");if(q.Equals(cd,null))b5.warn("Filling non-existent attr hole",cc);else{cd.removeAttribute("ws-attr");for(ce=0,cf=cb.attributes.length-1;ce<=cf;ce++){cg=cb.attributes.item(ce);cg.name==="class"&&cd.hasAttribute("class")?cd.setAttribute("class",cd.getAttribute("class")+" "+cg.nodeValue):cd.setAttribute(cg.name,cg.nodeValue);}}};bL.mapHoles=function(ca,cb){function cc(cd){bg.IterSelector(ca,"["+cd+"]",function(ce){var cf,cg;cf=(cg=null,[cb.TryGetValue(ce.getAttribute(cd).toLowerCase(),{get:function(){return cg;},set:function(ch){cg=ch;}}),cg]);cf[0]?ce.setAttribute(cd,cf[1]):void 0;});}cc("ws-hole");cc("ws-replace");cc("ws-attr");cc("ws-onafterrender");cc("ws-var");bg.IterSelector(ca,"[ws-on]",function(cd){cd.setAttribute("ws-on",F.concat(" ",p.map(function(ce){var cf,cg,ch;cf=F.SplitChars(ce,[":"],1);cg=(ch=null,[cb.TryGetValue(p.get(cf,1),{get:function(){return ch;},set:function(ci){ch=ci;}}),ch]);return cg[0]?p.get(cf,0)+":"+cg[1]:ce;},F.SplitChars(cd.getAttribute("ws-on"),[" "],1))));});bg.IterSelector(ca,"[ws-attr-holes]",function(cd){var ce,cf,cg;ce=F.SplitChars(cd.getAttribute("ws-attr-holes"),[" "],1);for(cf=0,cg=ce.length-1;cf<=cg;cf++)(function(){var ch;function ci(cj,ck){var cl;cl=n.KeyValue(ck);return cj.replace(new a.RegExp("\\${"+cl[0]+"}","ig"),"${"+cl[1]+"}");}ch=p.get(ce,cf);return cd.setAttribute(ch,(((b8.Curried3(A.fold))(ci))(cd.getAttribute(ch)))(cb));}());});};bL.fill=function(ca,cb,cc){while(true)if(ca.hasChildNodes())cc=cb.insertBefore(ca.lastChild,cc);else return null;};bL.convertAttrs=function(ca){var cc,cd,ce,cf,cg,ch,ci,cj;function cb(ck){var cl;cl=ca.getAttribute(ck);cl===null?void 0:ca.setAttribute(ck,cl.toLowerCase());}cc=ca.attributes;cd=[];ce=[];cf=[];for(cg=0,ch=cc.length-1;cg<=ch;cg++){ci=cc.item(cg);F.StartsWith(ci.nodeName,"ws-on")&&ci.nodeName!=="ws-onafterrender"&&ci.nodeName!=="ws-on"?(cd.push(ci.nodeName),ce.push(E.string(ci.nodeName,{$:1,$0:"ws-on".length},null)+":"+ci.nodeValue.toLowerCase())):!F.StartsWith(ci.nodeName,"ws-")&&(new a.RegExp(bl.TextHoleRE())).test(ci.nodeValue)?(ci.nodeValue=(cj=new a.RegExp(bl.TextHoleRE(),"g"),ci.nodeValue.replace(cj,function(ck,cl){return"${"+cl.toLowerCase()+"}";})),cf.push(ci.nodeName)):void 0;}!(ce.length==0)?ca.setAttribute("ws-on",F.concat(" ",ce)):void 0;!(cf.length==0)?ca.setAttribute("ws-attr-holes",F.concat(" ",cf)):void 0;cb("ws-hole");cb("ws-replace");cb("ws-attr");cb("ws-onafterrender");cb("ws-var");p.iter(function(ck){ca.removeAttribute(ck);},cd);};bM=s.KeyCollection=b8.Class({GetEnumerator$1:function(){return _.Get(A.map(function(ca){return ca.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},r,bM);bM.New=b8.Ctor(function(ca){r.New.call(this);this.d=ca;},bM);bO.New=function(ca,cb){return{PreviousNodes:ca,Top:cb};};bP.get_Empty=function(){return{$:0,$0:new by.New$3()};};bP.FindAll=function(ca){var cb;function cc(ce){if(ce!=null&&ce.$==0){cc(ce.$0);cc(ce.$1);}else if(ce!=null&&ce.$==1)cd(ce.$0);else if(ce!=null&&ce.$==2)cc(ce.$0.Current);else if(ce!=null&&ce.$==6)p.iter(cd,ce.$0.Holes);}function cd(ce){cb.push(ce);cc(ce.Children);}cb=[];cc(ca);return{$:0,$0:new by.New$2(cb)};};bP.Filter=function(ca,cb){return{$:0,$0:bY.Filter(ca,cb.$0)};};bP.Except=function(ca,cb){return{$:0,$0:bY.Except(ca.$0,cb.$0)};};bP.ToArray=function(ca){return bY.ToArray(ca.$0);};bP.Intersect=function(ca,cb){return{$:0,$0:bY.Intersect(ca.$0,cb.$0)};};bQ.UseAnimations=function(){bT.$cctor();return bT.UseAnimations;};bQ.Actions=function(ca){return bQ.ConcatActions(p.choose(function(cb){return cb.$==1?{$:1,$0:cb.$0}:null;},bU.ToArray(ca.$0)));};bQ.Finalize=function(ca){p.iter(function(cb){if(cb.$==0)cb.$0();},bU.ToArray(ca.$0));};bQ.ConcatActions=function(ca){var cb,cc,cd,ce;cb=bh.ofSeqNonCopying(ca);cc=p.length(cb);return cc===0?bQ.Const():cc===1?p.get(cb,0):(cd=A.max(A.map(function(cf){return cf.Duration;},cb)),(ce=p.map(function(cf){return bQ.Prolong(cd,cf);},cb),bQ.Def(cd,function(cf){p.iter(function(cg){cg.Compute(cf);},ce);})));};bQ.List=function(ca){return ca.$0;};bQ.Const=function(ca){return bQ.Def(0,function(){return ca;});};bQ.Def=function(ca,cb){return{Compute:cb,Duration:ca};};bQ.Prolong=function(ca,cb){var cc,cd,ce;cc=cb.Compute;cd=cb.Duration;ce=b1.Create(function(){return cb.Compute(cb.Duration);});return{Compute:function(cf){return cf>=cd?ce.f():cc(cf);},Duration:ca};};bR.$cctor=function(){bR.$cctor=a.ignore;bR.BatchUpdatesEnabled=true;};bS=m.FormatException=b8.Class({},Y,bS);bS.New$1=b8.Ctor(function(ca){this.message=ca;W.setPrototypeOf(this,bS.prototype);},bS);bT.$cctor=function(){bT.$cctor=a.ignore;bT.CubicInOut=bX.Custom(function(ca){var cb;cb=ca*ca;return 3*cb-2*(cb*ca);});bT.UseAnimations=true;};bU.Append=function(ca,cb){return ca.$==0?cb:cb.$==0?ca:{$:2,$0:ca,$1:cb};};bU.ToArray=function(ca){var cb;function cc(cd){if(cd.$==1)cb.push(cd.$0);else if(cd.$==2){cc(cd.$0);cc(cd.$1);}else if(cd.$==3)p.iter(function(ce){cb.push(ce);},cd.$0);}cb=[];cc(ca);return cb.slice(0);};bU.Concat=function(ca){var cb;cb=bh.ofSeqNonCopying(ca);return bh.TreeReduce(bU.Empty(),bU.Append,cb);};bU.Empty=function(){b2.$cctor();return b2.Empty;};bV.Clear=function(ca){ca.splice(0,p.length(ca));};bW=v.DynamicAttrNode=b8.Class({NChanged:function(){return this.updates;},NGetExitAnim:function(ca){return bF.get_Empty();},NGetEnterAnim:function(ca){return bF.get_Empty();},NGetChangeAnim:function(ca){return bF.get_Empty();},NSync:function(ca){if(this.dirty){(this.push(ca))(this.value);this.dirty=false;}}},r,bW);bW.New=b8.Ctor(function(ca,cb){var cc;cc=this;r.New.call(this);this.push=cb;this.value=void 0;this.dirty=false;this.updates=y.Map(function(cd){cc.value=cd;cc.dirty=true;},ca);},bW);bX=v.Easing=b8.Class({},r,bX);bX.Custom=function(ca){return new bX.New(ca);};bX.New=b8.Ctor(function(ca){r.New.call(this);this.transformTime=ca;},bX);bY.Filter=function(ca,cb){return new by.New$2(p.filter(ca,bY.ToArray(cb)));};bY.Except=function(ca,cb){var cc;cc=new by.New$2(bY.ToArray(cb));cc.ExceptWith(bY.ToArray(ca));return cc;};bY.ToArray=function(ca){var cb;cb=p.create(ca.get_Count(),void 0);ca.CopyTo(cb);return cb;};bY.Intersect=function(ca,cb){var cc;cc=new by.New$2(bY.ToArray(ca));cc.IntersectWith(bY.ToArray(cb));return cc;};bZ.concat=function(ca){var cb,cc;cb=[];for(var cd in ca)cb.push.apply(cb,ca[cd]);return cb;};b0.Children=function(ca,cb){var cc,cd,ce;if(cb!=null&&cb.$==1){ce=[];cc=cb.$0[0].nextSibling;while(cc!==cb.$0[1]){ce.push(cc);cc=cc.nextSibling;}return{$:0,$0:ce};}else return{$:0,$0:p.init(ca.childNodes.length,(cd=ca.childNodes,function(cf){return cd[cf];}))};};b0.Except=function(ca,cb){var cc;cc=ca.$0;return{$:0,$0:p.filter(function(cd){return p.forall(function(ce){return!(cd===ce);},cc);},cb.$0)};};b0.Iter=function(ca,cb){p.iter(ca,cb.$0);};b0.DocChildren=function(ca){var cb;function cc(cd){if(cd!=null&&cd.$==2)cc(cd.$0.Current);else if(cd!=null&&cd.$==1)cb.push(cd.$0.El);else if(cd==null);else if(cd!=null&&cd.$==5)cb.push(cd.$0);else if(cd!=null&&cd.$==4)cb.push(cd.$0.Text);else if(cd!=null&&cd.$==6)p.iter(function(ce){if(ce==null||ce.constructor===W)cc(ce);else cb.push(ce);},cd.$0.Els);else{cc(cd.$0);cc(cd.$1);}}cb=[];cc(ca.Children);return{$:0,$0:bh.ofSeqNonCopying(cb)};};b1.Create=function(ca){return b4.New(false,ca,b1.forceLazy);};b1.forceLazy=function(){var ca;ca=this.v();this.c=true;this.v=ca;this.f=b1.cachedLazy;return ca;};b1.cachedLazy=function(){return this.v;};b2.$cctor=function(){b2.$cctor=a.ignore;b2.Empty={$:0};};b4.New=function(ca,cb,cc){return{c:ca,v:cb,f:cc};};b8.OnLoad(function(){j.main();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
//# sourceMappingURL=testing.min.map
