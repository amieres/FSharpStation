function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
var JSON;JSON||(JSON={}),function(){"use strict";function i(n){return n<10?"0"+n:n}function f(n){return o.lastIndex=0,o.test(n)?'"'+n.replace(o,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function r(i,e){var s,l,h,a,v=n,c,o=e[i];o&&typeof o=="object"&&typeof o.toJSON=="function"&&(o=o.toJSON(i));typeof t=="function"&&(o=t.call(e,i,o));switch(typeof o){case"string":return f(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(n+=u,c=[],Object.prototype.toString.apply(o)==="[object Array]"){for(a=o.length,s=0;s<a;s+=1)c[s]=r(s,o)||"null";return h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+v+"]":"["+c.join(",")+"]",n=v,h}if(t&&typeof t=="object")for(a=t.length,s=0;s<a;s+=1)typeof t[s]=="string"&&(l=t[s],h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));else for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));return h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+v+"}":"{"+c.join(",")+"}",n=v,h}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,u,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(n="",u="",typeof e=="number")for(o=0;o<e;o+=1)u+=" ";else typeof e=="string"&&(u=e);if(t=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return r("",{"":i})});typeof JSON.parse!="function"&&(JSON.parse=function(n,t){function r(n,i){var f,e,u=n[i];if(u&&typeof u=="object")for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&(e=r(u,f),e!==undefined?u[f]=e:delete u[f]);return t.call(n,i,u)}var i;if(n=String(n),e.lastIndex=0,e.test(n)&&(n=n.replace(e,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?r({"":i},""):i;throw new SyntaxError("JSON.parse");})}();
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg;a=self;b=a.FsRoot=a.FsRoot||{};c=b.ProzperClient=b.ProzperClient||{};d=c.MainProgram=c.MainProgram||{};e=a.WebSharper=a.WebSharper||{};f=e.Obj=e.Obj||{};g=e.UI=e.UI||{};h=g.Var$1=g.Var$1||{};i=b.LibraryJS=b.LibraryJS||{};j=i.AppFramework=i.AppFramework||{};k=j.PlugIn=j.PlugIn||{};l=c.ModeloUI=c.ModeloUI||{};m=l.Aliado=l.Aliado||{};n=e.Operators=e.Operators||{};o=g.View=g.View||{};p=g.Var=g.Var||{};q=e.Lazy=e.Lazy||{};r=l.RenderAliados=l.RenderAliados||{};s=l.RenderAliado=l.RenderAliado||{};t=l.FormaRegistro=l.FormaRegistro||{};u=l.FormaDatos=l.FormaDatos||{};v=l.FormaContactos=l.FormaContactos||{};w=l.FormaFormasPago=l.FormaFormasPago||{};x=l.ReporteConsolidado=l.ReporteConsolidado||{};y=l.TablaPagos=l.TablaPagos||{};z=l.ListaDocs=l.ListaDocs||{};A=a.EventTarget;B=a.Node;C=e.JavaScript=e.JavaScript||{};D=C.JS=C.JS||{};E=e.Unchecked=e.Unchecked||{};F=i.LayoutEngineModule=i.LayoutEngineModule||{};G=e.Option=e.Option||{};H=b.Prozper=b.Prozper||{};I=H.TypesV0=H.TypesV0||{};J=I.Aliado=I.Aliado||{};K=H.Aliado=H.Aliado||{};L=g.Templating=g.Templating||{};M=L.Runtime=L.Runtime||{};N=M.Server=M.Server||{};O=N.TemplateInstance=N.TemplateInstance||{};P=e.Arrays=e.Arrays||{};Q=N.ProviderBuilder=N.ProviderBuilder||{};R=N.Handler=N.Handler||{};S=a.testing_Templates=a.testing_Templates||{};T=a.testing_GeneratedPrintf=a.testing_GeneratedPrintf||{};U=a.testing_Router=a.testing_Router||{};V=g.Doc=g.Doc||{};W=l.Rpc=l.Rpc||{};X=I.IdAliado=I.IdAliado||{};Y=I.Modelo=I.Modelo||{};Z=g.ConcreteVar=g.ConcreteVar||{};_0=g.Snap=g.Snap||{};_1=a.StartupCode$testing$testing=a.StartupCode$testing$testing||{};_2=g.ListModel=g.ListModel||{};_3=j.PlugInVar=j.PlugInVar||{};_4=j.PlugInView=j.PlugInView||{};_5=j.PlugInDoc=j.PlugInDoc||{};_6=C.Pervasives=C.Pervasives||{};_7=e.LazyExtensionsProxy=e.LazyExtensionsProxy||{};_8=_7.LazyRecord=_7.LazyRecord||{};_9=a.ProzperServer_GeneratedPrintf=a.ProzperServer_GeneratedPrintf||{};_=a.ProzperServer_JsonDecoder=a.ProzperServer_JsonDecoder||{};$=a.ProzperServer_JsonEncoder=a.ProzperServer_JsonEncoder||{};ba=e.Seq=e.Seq||{};bb=b.Library=b.Library||{};bc=bb.SortWith=bb.SortWith||{};bd=K.Buscar=K.Buscar||{};be=e.Collections=e.Collections||{};bf=be.FSharpSet=be.FSharpSet||{};bg=be.Set=be.Set||{};bh=e.Strings=e.Strings||{};bi=I.CorreoElectronico=I.CorreoElectronico||{};bj=l.DatosPersonales=l.DatosPersonales||{};bk=l.CorreoElectronico=l.CorreoElectronico||{};bl=l.Telefono=l.Telefono||{};bm=l.Direccion=l.Direccion||{};bn=bb.Monads=bb.Monads||{};bo=bn.AsyncResultMAutoOpen=bn.AsyncResultMAutoOpen||{};bp=bn.AsyncResultM=bn.AsyncResultM||{};bq=bp.AsyncResultMBuilder=bp.AsyncResultMBuilder||{};br=l.Refresh=l.Refresh||{};bs=a.System=a.System||{};bt=bs.Guid=bs.Guid||{};bu=bb.ResultMessage=bb.ResultMessage||{};bv=x.Fila=x.Fila||{};bw=l.VariousUI=l.VariousUI||{};bx=I.StatusAliado=I.StatusAliado||{};by=e.Utils=e.Utils||{};bz=i.Date=i.Date||{};bA=e.List=e.List||{};bB=I.CuentaBancaria=I.CuentaBancaria||{};bC=I.RoutingNumber=I.RoutingNumber||{};bD=I.NumeroCuenta=I.NumeroCuenta||{};bE=I.FormaPago=I.FormaPago||{};bF=bn.ResultM=bn.ResultM||{};bG=j.PlugInAction=j.PlugInAction||{};bH=c.Msal=c.Msal||{};bI=a.WindowOrWorkerGlobalScope;bJ=i.LayoutEngine=i.LayoutEngine||{};bK=a.StartupCode$LayoutEngine$LayoutEngine=a.StartupCode$LayoutEngine$LayoutEngine||{};bL=I.IdForAuthorize=I.IdForAuthorize||{};bM=I.DatosPersonales=I.DatosPersonales||{};bN=I.DiaPago=I.DiaPago||{};bO=I.TipoAliado=I.TipoAliado||{};bP=e.Numeric=e.Numeric||{};bQ=a.StartupCode$ProzperServer$ProzperServer=a.StartupCode$ProzperServer$ProzperServer||{};bR=be.List=be.List||{};bS=be.Dictionary=be.Dictionary||{};bT=be.HashSet=be.HashSet||{};bU=M.Client=M.Client||{};bV=g.Abbrev=g.Abbrev||{};bW=bV.Async=bV.Async||{};bX=I.PremisasCalculo=I.PremisasCalculo||{};bY=bV.Fresh=bV.Fresh||{};bZ=bb.String=bb.String||{};b0=e.Slice=e.Slice||{};b1=i.Msal=i.Msal||{};b2=b1.Policy=b1.Policy||{};b3=b1.UserAgentApplication=b1.UserAgentApplication||{};b4=l.EndPoint=l.EndPoint||{};b5=g.Router=g.Router||{};b6=g.ViewBuilder=g.ViewBuilder||{};b7=e.Remoting=e.Remoting||{};b8=H.Rpc=H.Rpc||{};b9=j.PlugInQuery=j.PlugInQuery||{};b_=be.FSharpMap=be.FSharpMap||{};b$=e.Enumerator=e.Enumerator||{};ca=b$.T=b$.T||{};cb=be.BalancedTree=be.BalancedTree||{};cc=bA.T=bA.T||{};cd=I.Genero=I.Genero||{};ce=bb.ParseO=bb.ParseO||{};cf=I.Pais=I.Pais||{};cg=I.Telefono=I.Telefono||{};ch=I.TipoTelefono=I.TipoTelefono||{};ci=I.Direccion=I.Direccion||{};cj=I.TipoDireccion=I.TipoDireccion||{};ck=I.Estado=I.Estado||{};cl=I.ZonaPostal=I.ZonaPostal||{};cm=bb.Array=bb.Array||{};cn=g.HtmlModule=g.HtmlModule||{};co=cn.attr=cn.attr||{};cp=I.NumeroTarjeta=I.NumeroTarjeta||{};cq=I.TarjetaCredito=I.TarjetaCredito||{};cr=l.CuentaBancaria=l.CuentaBancaria||{};cs=l.TarjetaCredito=l.TarjetaCredito||{};ct=e.Result=e.Result||{};cu=a.Object;cv=g.FromView=g.FromView||{};cw=g.Array=g.Array||{};cx=I.TipoCuenta=I.TipoCuenta||{};cy=e.Concurrency=e.Concurrency||{};cz=I.IdPayment=I.IdPayment||{};cA=bn.Result=bn.Result||{};cB=a.Blob;cC=g.AttrModule=g.AttrModule||{};cD=i.WebComponent=i.WebComponent||{};cE=cD.WcTabStrip=cD.WcTabStrip||{};cF=cE.WcTabStripT=cE.WcTabStripT||{};cG=a.LayoutEngine_Templates=a.LayoutEngine_Templates||{};cH=a.GeneratedPrintf=a.GeneratedPrintf||{};cI=a.LayoutEngine_GeneratedPrintf=a.LayoutEngine_GeneratedPrintf||{};cJ=cD.WcSplitter=cD.WcSplitter||{};cK=cA.Builder=cA.Builder||{};cL=bF.Builder=bF.Builder||{};cM=bb.Serializer=bb.Serializer||{};cN=I.Expiracion=I.Expiracion||{};cO=I.TipoTarjeta=I.TipoTarjeta||{};cP=be.DictionaryUtil=be.DictionaryUtil||{};cQ=g.AttrProxy=g.AttrProxy||{};cR=g.CheckedInput=g.CheckedInput||{};cS=g.Client=g.Client||{};cT=cS.Templates=cS.Templates||{};cU=i.Pojo=i.Pojo||{};cV=e.Sitelets=e.Sitelets||{};cW=cV.RouterOperators=cV.RouterOperators||{};cX=cV.RouterModule=cV.RouterModule||{};cY=cV.Route=cV.Route||{};cZ=a.StartupCode$WebSharper_Main$Remoting=a.StartupCode$WebSharper_Main$Remoting||{};c0=b7.AjaxRemotingProvider=b7.AjaxRemotingProvider||{};c1=be.MapUtil=be.MapUtil||{};c2=cb.Tree=cb.Tree||{};c3=I.IdAddress=I.IdAddress||{};c4=g.Docs=g.Docs||{};c5=cy.AsyncBody=cy.AsyncBody||{};c6=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};c7=cy.CT=cy.CT||{};c8=F.Layout=F.Layout||{};c9=g.Attrs=g.Attrs||{};c_=g.DomUtility=g.DomUtility||{};c$=e.DateUtil=e.DateUtil||{};da=cJ.WcSplitterT=cJ.WcSplitterT||{};db=g.DocElemNode=g.DocElemNode||{};dc=a.CharacterData;dd=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};de=cV.Router=cV.Router||{};df=cV.List=cV.List||{};dg=b7.XhrProvider=b7.XhrProvider||{};dh=e.TaskCompletionSource=e.TaskCompletionSource||{};di=be.Pair=be.Pair||{};dj=e.Json=e.Json||{};dk=cy.Scheduler=cy.Scheduler||{};dl=e.CancellationTokenSource=e.CancellationTokenSource||{};dm=e.ClientSideJson=e.ClientSideJson||{};dn=dm.Provider=dm.Provider||{};_do=F.Measures=F.Measures||{};dp=i.Hoverable=i.Hoverable||{};dq=dp.Hoverable=dp.Hoverable||{};dr=g.Storage=g.Storage||{};ds=a.Event;dt=a.UIEvent;du=i.ResizeObserver=i.ResizeObserver||{};dv=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};dw=g.Elt=g.Elt||{};dx=cS.Attrs=cS.Attrs||{};dy=dx.Dyn=dx.Dyn||{};dz=cT.Prepare=cT.Prepare||{};dA=g.An=g.An||{};dB=cS.Settings=cS.Settings||{};dC=bV.Mailbox=bV.Mailbox||{};dD=be.HashSetUtil=be.HashSetUtil||{};dE=a.StartupCode$WebSharper_Sitelets$Router=a.StartupCode$WebSharper_Sitelets$Router||{};dF=be.Map=be.Map||{};dG=a.Error;dH=e.OperationCanceledException=e.OperationCanceledException||{};dI=e.Task=e.Task||{};dJ=e.Task1=e.Task1||{};dK=e.AggregateException=e.AggregateException||{};dL=e.Queue=e.Queue||{};dM=g.DynamicAttrNode=g.DynamicAttrNode||{};dN=dr.ArrayStorage=dr.ArrayStorage||{};dO=be.KeyCollection=be.KeyCollection||{};dP=g.Updates=g.Updates||{};dQ=cS.Docs=cS.Docs||{};dR=dQ.RunState=dQ.RunState||{};dS=dQ.NodeSet=dQ.NodeSet||{};dT=g.Anims=g.Anims||{};dU=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};dV=e.Char=e.Char||{};dW=cV.StringEncoding=cV.StringEncoding||{};dX=C.Promise=C.Promise||{};dY=e.FormatException=e.FormatException||{};dZ=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};d0=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};d1=g.String=g.String||{};d2=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};d3=g.AppendList=g.AppendList||{};d4=cV.PathUtil=cV.PathUtil||{};d5=g.Easing=g.Easing||{};d6=bV.HashSet=bV.HashSet||{};d7=C.NonStandardPromiseRejectionException=C.NonStandardPromiseRejectionException||{};d8=dQ.DomNodes=dQ.DomNodes||{};d9=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};d_=a.IntelliFactory;d$=d_&&d_.Runtime;ea=a.Math;eb=a.jQuery;ec=a.console;ed=a.JSON;ee=a.Date;ef=a.Reflect;eg=a.String;d.mainProgram=function(){var eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez;eh=h.Create$1(d.appName());ei=o.Map(function(eA){return d.mesToString(eA.periodoActual);},l.modeloV().get_View());ej=o.Map(function(eA){return a.String(eA.anoActual);},l.modeloV().get_View());ek=o.Map(function(eA){return K.nombre2(eA.datosPersonales);},l.aliadoW());el=o.Map(function(eA){return eA.id.get_Id();},l.aliadoW());em=o.Map(function(eA){return a.String(eA.status);},l.aliadoW());en=o.Map(function(eA){return a.String(eA.comision);},l.aliadoW());eo=o.Map(function(eA){return a.String(eA.nReferidos);},l.aliadoW());j.addPlugIn(k.New(d.appName(),[j.newVar("title",eh),j.newVar("contentVar",l.contentVar()),j.newVar("invitaciones",l.invitacionesV()),j.newVar("influencer",d.influencerV())],[j.newViw("mesActual",ei),j.newViw("anoActual",ej),j.newViw("aliado",ek),j.newViw("idAliado",el),j.newViw("status",em),j.newViw("comision",en),j.newViw("datos",eo),j.newViw("emailsInvitar",l.emailsInvitarW()),j.newViw("invitacionesDisabled",l.invitacionesDisabledW()),j.newViw("VideoW",o.Map(function(eA){return eA.$==5?eA.$0:"";},l.endPointV().get_View())),j.newViw("influencerW",d.influencerClassW())],[j.newDoc("Aliados",q.Create(r.aliados)),j.newDoc("Aliado",q.Create(s.aliado)),j.newDoc("Calculo",q.Create(s.calculo)),j.newDoc("FormaRegistro",q.Create(t.formaDoc)),j.newDoc("FormaDatos",q.Create(u.formaDoc)),j.newDoc("FormaContactos",q.Create(v.formaDoc)),j.newDoc("FormaFormasPago",q.Create(w.formaDoc)),j.newDoc("contentDoc",q.Create(d.getContentDoc)),j.newDoc("ReporteConsolidado",q.Create(x.consolidado)),j.newDoc("TablaPagos",q.Create(y.comisiones)),j.newDoc("ListaDocs",q.Create(z.listaDocs))],[j.newAct("Logout",function(){d.logout();}),j.newAct("LogIn",function(){d.login();}),j.newAct("enviarInvitaciones",function(){d.enviarCorreosInvitacion();})],[]));F.addLayout((ep=(eq=self.document.getElementById("GlobalLayout"),E.Equals(eq,null)?"\r\n                        menuEditor layout\r\n                        |          main\r\n        \r\n                        main div \"\"\r\n                        :                 template  header     \"id=header\"           brand  brandV   logout \"@{Prozper.Logout}\" afiliado \"@{Prozper.aliado}\"\r\n                        :                 Doc       Prozper.contentDoc\r\n                        :                 template  sidedrawer \"id=sidedrawer\"       brand  brandV   idaliado \"@{Prozper.idAliado}\" \r\n                        :                 template  footer     \"id=footer\"           brand  brandV   madeby \"CIPHER Bsc\" madebylink \"www.cipherbsc.com\"\r\n         \r\n                        mainContent          template  content    \"id=content-wrapper\"  content aliados                  fecha \"@{Prozper.mesActual} @{Prozper.anoActual}\" idaliado \"@{Prozper.aliado}\"\r\n                        cntFormaRegistro     template  content    \"id=content-wrapper\"  content Prozper.FormaRegistro    titulo \"Referido por: @{Prozper.aliado}\"  \r\n                        cntFormaDatos        template  content    \"id=content-wrapper\"  content Prozper.FormaDatos       titulo \" \"\r\n                        cntFormaContactos    template  content    \"id=content-wrapper\"  content Prozper.FormaContactos   titulo \" \" \r\n                        cntFormaFormasPago   template  content    \"id=content-wrapper\"  content Prozper.FormaFormasPago  titulo \" \" \r\n                        cntFormaCuentas      template  content    \"id=content-wrapper\"  content ProzperLyt.FormaCuentas  titulo \" \"  \r\n                        cntFormaDocumentos   template  content    \"id=content-wrapper\"  content Prozper.FormaDocumentos  titulo \" \"  \r\n                        cntFormaNoUser       template  content    \"id=content-wrapper\"  content botonLogin               titulo \" \"  \r\n                        cntFormaInvitaciones template  content    \"id=content-wrapper\"  content invitaciones             titulo \" \"  \r\n        \r\n                        aliados          div       \"class=row\"\r\n                        :                div       \"class=mui-col-md-6\"\r\n                        ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" Prozper.Aliados\r\n                        :                div       \"class=mui-col-md-6\"\r\n                        ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" Aliado Comisiones\r\n                        brandV           Var       \"Prozper\"\r\n        \r\n                        botonLogin       div       \"class=row\"\r\n                        :                div       \"class=mui-col-md-6\"\r\n                        ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" \r\n                        :::              button    Prozper.LogIn \"class=mui-btn mui-btn--primary\" \"Ingresar al Sistema\"\r\n        \r\n                        invitaciones     div       \"class=row\"\r\n                        :                div       \"class=mui-col-md-6 mui-col-md-offset-1\"\r\n                        ::               div       \"class=mui-panel mui--z5 scrollbar; max-height:550px ; overflow:auto\" \r\n                        :::              h1        \"\" \"Enviar Invitaciones\"\r\n                        :::              textarea  Prozper.invitaciones  \"width:100% ; height:30rem; placeholder=Copie aqui las direcciones de correo electronico\" \r\n                        :                div       \"white-space: pre-wrap\" \"@{Prozper.emailsInvitar}\"\r\n                        :                button    Prozper.enviarInvitaciones \"class=mui-btn mui-btn--raised mui-btn--primary;@{Prozper.invitacionesDisabled}\" \"Enviar\"\r\n        \r\n                        Aliado           div       \"class=mui-col-md-8\"\r\n                        :                Doc Prozper.Aliado\r\n        \r\n                        Comisiones       template    tablacomisiones \"class=mui-col-md-3\"  tbody filasComisiones\r\n                        filasComisiones  concat      \"\"\r\n                        :                template    filacomision    \"\"  periodo \"Ene 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Feb 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Mar 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Abr 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"May 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Jun 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Jul 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Ago 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Sep 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Oct 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Nov 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Dec 2018\" comision \"$1,000\"\r\n                \r\n                        menuEditorx      horizontal  65          menuLogo                  editorMessages\r\n                        double           horizontal  0-50-100    AppFramework.AppFwkClient menuEditor\r\n                        menuLogo         vertical    350         logo                      menu\r\n                        logo             span       \"margin:0;   color:gray; font-size: 55px; font-weight:530\" \"StackOverflow\"\r\n                        editorMessages   horizontal  10-83-100   editorButtons             messages\r\n                        messages         vertical    0-50-100    messagesLeft              messagesRight\r\n                        editorButtons    vertical    150 buttons snippetsSnippet \r\n                        snippetsSnippet  vertical    0-20-100    snippets                  editorProperties\r\n                        snippets         horizontal  20          \"@{FSharpStation.CurrentPath}\" tblDimensions2\r\n                        editorProperties vertical    0-100-100   snippet                   properties\r\n                        properties       div        \"\"           FSharpStation.Properties\r\n                        snippet          horizontal  35          Name                      FSharpStation.editor\r\n                        menu             span       \"display: grid; grid-template-columns: 30% 20% 20% 10%; grid-gap: 25px; margin:5px; grid-template-rows:50px\" inpServer btnLoad btnSaveAs\r\n                         \r\n                        severalTabs      wcomp-tabstrip  \"\" \r\n                        :                div \"tabname=Dimensions\" \r\n                        ::               div \"\" btnAddDimension RuleEditor.Dimensions\r\n                        :                div \"tabname=Cubes\"\r\n                        :                div \"tabname=Global Definitions\" RuleEditor.globalDefs\r\n                \r\n                        btnSaveAs        button RuleEditor.SaveAs         \"class=btn @{RuleEditor.SaveNeeded}\" \"Save as...    \"\r\n                        btnAddDimension  button RuleEditor.AddDimension      \"\"                  \"new dim...\"\r\n                        btnDeleteSnippet button FSharpStation.RemoveSnippet  \"\"                  \"Delete Snippet\"\r\n                        btnIndentIn      button FSharpStation.IndentIn       \"\"                  \"Indent In  >> \"\r\n                        btnIndentOut     button FSharpStation.IndentOut      \"\"                  \"Indent Out << \"\r\n                        btnRunFS         button FSharpStation.RunFS          \"\"                  \"Run F#        \"\r\n                        btnAbortFsi      button FSharpStation.AbortFsi       \"\"                  \"Abort Fsi     \"\r\n                \r\n                        messagesLeft     wcomp-tabstrip                      \"\"                  Output FsCode\r\n                        messagesRight    wcomp-tabstrip                      \"\"                  Parser\r\n                \r\n                        buttons          div \"overflow: hidden; display: grid; grid-template-columns: 100%; grid-template-rows: repeat(15, calc(100% / 15)); bxackground-color: #eee; box-sizing: border-box; padding : 5px; grid-gap: 5px; margin-right: 21px\"\r\n                        :                button RuleEditor.AddCalculation    \"\"                 \"Add Calculation\"\r\n                        :                button RuleEditor.AddTotal          \"\"                 \"Add Total\"\r\n                        :                Doc       none x\r\n                        :                button RuleEditor.IndentIn          \"\"                  \"Indent In  >> \"\r\n                        :                button RuleEditor.IndentOut         \"\"                  \"Indent Out << \"\r\n                \r\n                        Output           textarea  RuleEditor.Output         \"tabname=Output ; placeholder=Output messages ; spellcheck=false\" \r\n                        FsCode           textarea  RuleEditor.CodeFS         \"tabname=F# Code; placeholder=F# Code         ; spellcheck=false\" \r\n                        Parser           textarea  RuleEditor.Parser         \"tabname=Parser ; placeholder=Parser messages; dblclick=@{FSharpStation.JumpTo} ; spellcheck=false\" \r\n                        Name             Doc       InputLabel                \"\"     \"Name:\"        FSharpStation.SnippetName\r\n                        inpServer        Doc       InputLabel                \"\"     \"Server:\"      RuleEditor.Server\r\n                        btnLoad          Doc       InputFile                 \"\"     \"Load File...\" RuleEditor.LoadFile  FileName\r\n                        btnImport        Doc       InputFile                 \"\"     \"Import...\"    FSharpStation.Import    \"\"\r\n                        FileName         div                                 \"class=form-control\"  RuleEditor.fileName\r\n        \r\n                   ":eq.textContent),F.newLyt(d.layoutName(),ep)));er=(es=null,(et=d.layoutName(),es==null?et:es.$0));j.mainDocV().Set(er);V.BindView(function(eA){var eB,eC,eD;return E.Equals(eA.id,K.empty().id)?(eB=Q.Make(),(eC=R.CompleteHoles(eB.k,eB.h,[]),(eD=new O.New(eC[1],S.opcionesadministrador(eC[0])),(eB.i=eD,eD)))).get_Doc():V.get_Empty();},l.aliadoW());eu=(ev=(ew=d.getDocView(d.layoutName(),"headerCenter"),(ex=d.getMenuDoc(),(ey=d.getContentDoc(),Q.Make().WithHole({$:0,$0:"maincontent",$1:ey})).WithHole({$:0,$0:"menu",$1:ex})).WithHole({$:0,$0:"headercenter",$1:ew})),ev.WithHole(R.EventQ2(ev.k,"logout",function(){return ev.i;},function(){d.logout();}))).WithHole({$:2,$0:"cortina",$1:o.Map(function(eA){return eA>0?"mui-overlay":"not-mui-overlay";},W.llamadas().get_View())});ez=R.CompleteHoles(eu.k,eu.h,[]);eu.i=new O.New(ez[1],cT.RunFullDocTemplate(ez[0]));o.Sink(function(eA){self.document.title=eA;},eh.get_View());};d.appName=function(){_1.$cctor();return _1.appName;};d.influencerV=function(){_1.$cctor();return _1.influencerV;};d.influencerClassW=function(){_1.$cctor();return _1.influencerClassW;};d.getContentDoc=function(){return V.EmbedView(o.Map(function(eh){return d.getDoc(d.appName(),eh);},l.contentVar().get_View()));};d.logout=function(){bH.logout();};d.login=function(){bH.logout();};d.enviarCorreosInvitacion=function(){var eh;bp.iterA(function(ei){bb.print(ei);},a.ignore,(eh=bo.asyncResultM(),eh.Run(eh.Delay(function(){return bo["AsyncResultMBuilder.Bind"](eh,o.GetAsync(l.emailsInvitarW()),function(ei){return bo["AsyncResultMBuilder.Bind"](eh,o.GetAsync(o.Map(function(ej){return ej.id.get_Id();},l.aliadoW())),function(ej){var ek;ek=P.filter(function(el){return bh.Trim(el)!=="";},bh.SplitChars(ei,["\n"],0));return eh.Bind$4(W.enviarCorreosInvitacion("Invitacion a Prozper",new X({$:0,$0:ej}),ek),function(){var el;el=P.length(ek);return el===0?(a.alert("Ningun correo valido ha sido encontrado"),eh.Zero()):el===1?(a.alert("Invitacion ha sido enviada"),eh.Zero()):(a.alert("Invitaciones han sido enviadas"),eh.Zero());});});});}))));};d.layoutName=function(){_1.$cctor();return _1.layoutName;};d.getMenuDoc=function(){return V.EmbedView(o.Map2(function(eh,ei){var ej;ej=eh!=null&&eh.$==1?E.Equals(ei.id,K.empty().id)?"ProzperLyt.mnuAdministrador":"ProzperLyt.mnuUsuario":"ProzperLyt.mnuNoUsuario";return d.getDoc(d.appName(),ej);},bH.userO().get_View(),l.aliadoW()));};d.getDocView=function(eh,ei){return F.turnToView(function(){return d.getDoc(eh,ei);});};d.mesToString=function(eh){return eh===1?"Ene":eh===2?"Feb":eh===3?"Mar":eh===4?"Abr":eh===5?"May":eh===6?"Jun":eh===7?"Jul":eh===8?"Ago":eh===9?"Sep":eh===10?"Oct":eh===11?"Nov":eh===12?"Dic":"---";};d.getDoc=function(eh,ei){var ej,ek,el;ej=(ek=(el=((F.splitName())(eh))(ei),j.tryGetDoc(el[0],el[1])),ek==null?null:{$:1,$0:F.getDocFinal(cc.Empty,ek.$0)});return ej==null?F.errDoc((function(em){return function(en){return em("Doc not found "+by.toSafe(en));};}(a.id))(ei)):ej.$0;};f=e.Obj=d$.Class({Equals:function(eh){return this===eh;},GetHashCode:function(){return -1;}},null,f);f.New=d$.Ctor(function(){},f);h=g.Var$1=d$.Class({},f,h);h.Create$1=function(eh){return new Z.New(false,_0.New({$:2,$0:eh,$1:[]}),eh);};h.Lens=function(eh,ei,ej){var ek,el,em;ek=bY.Id();el=o.Map(ei,eh.get_View());em=new p({Get:function(){return ei(eh.Get());},Set:function(en){return eh.Update(function(eo){return ej(eo,en);});},SetFinal:function(en){return this.Set(en);},Update:function(en){return eh.Update(function(eo){return ej(eo,en(ei(eo)));});},UpdateMaybe:function(en){return eh.UpdateMaybe(function(eo){var ep;ep=en(ei(eo));return ep==null?null:{$:1,$0:ej(eo,ep.$0)};});},get_View:function(){return el;},get_Id:function(){return ek;}});p.New.call(em);return em;};h.Set=function(eh,ei){eh.Set(ei);};j.addPlugIn=function(eh){j.plugIns().Append(eh);j.mainDocV().Set(j.mainDocV().Get());};j.newVar=function(eh,ei){return _3.New(eh,ei);};j.newViw=function(eh,ei){return _4.New(eh,ei);};j.newDoc=function(eh,ei){return _5.New(eh,{$:0,$0:ei});};j.newAct=function(eh,ei){return bG.New(eh,{$:0,$0:ei},o.Const(true));};j.mainDocV=function(){bK.$cctor();return bK.mainDocV;};j.plugIns=function(){bK.$cctor();return bK.plugIns;};j.newDocF=function(eh,ei){return _5.New(eh,ei);};j.tryGetDoc=function(eh,ei){var ej;ej=j.tryGetPlugIn(eh);return ej==null?null:P.tryFind(function(ek){return ek.docName===ei;},ej.$0.plgDocs);};j.tryGetAct=function(eh,ei){var ej;ej=j.tryGetPlugIn(eh);return ej==null?null:P.tryFind(function(ek){return ek.actName===ei;},ej.$0.plgActions);};j.callFunction=function(eh,ei,ej){if(ej.$==1)ej.$0(eh);else if(ej.$==2)(ej.$0(eh))(ei);else ej.$0();};j.tryGetVar=function(eh,ei){var ej;ej=j.tryGetPlugIn(eh);return ej==null?null:P.tryFind(function(ek){return ek.varName===ei;},ej.$0.plgVars);};j.selectionPlugInO=function(){bK.$cctor();return bK.selectionPlugInO;};j.defaultPlugIn=function(){bK.$cctor();return bK.defaultPlugIn;};j.currentPlugInW=function(){bK.$cctor();return bK.currentPlugInW;};j.renderPlugIns=function(){return V.Flatten(j.plugIns().MapLens(function(eh){var ei,ej,ek,el;return(ei=(ej=Q.Make().WithHole({$:1,$0:"name",$1:eh}),ej.WithHole(R.EventQ2(ej.k,"select",function(){return ej.i;},function(){j.selectionPlugInO().Set({$:1,$0:eh});}))).WithHole({$:2,$0:"selected",$1:o.Map(function(em){return E.Equals(em,{$:1,$0:eh})?"selected":"";},j.selectionPlugInO().get_View())}),(ek=R.CompleteHoles(ei.k,ei.h,[]),(el=new O.New(ek[1],cG.tile(ek[0])),(ei.i=el,el)))).get_Doc();}));};j.renderVars=function(){function eh(ej,ek){return[ej.plgName,ek.varName];}function ei(ej,ek){var el,em,en;return(el=Q.Make().WithHole({$:1,$0:"name",$1:ek.varName}).WithHole({$:8,$0:"value",$1:ek.varVar}),(em=R.CompleteHoles(el.k,el.h,[["value",0]]),(en=new O.New(em[1],cG.namevalueinput(em[0])),(el.i=en,en)))).get_Doc();}return V.ConvertBy(function(ej){return eh(ej[0],ej[1]);},function(ej){return ei(ej[0],ej[1]);},o.Map(function(ej){return ba.map(function(ek){return[ej,ek];},ej.plgVars);},j.currentPlugInW()));};j.renderViews=function(){function eh(ej,ek){return[ej.plgName,ek.viwName];}function ei(ej,ek){var el,em,en;return(el=Q.Make().WithHole({$:1,$0:"name",$1:ek.viwName}).WithHole({$:2,$0:"value",$1:ek.viwView}),(em=R.CompleteHoles(el.k,el.h,[]),(en=new O.New(em[1],cG.namevalue(em[0])),(el.i=en,en)))).get_Doc();}return V.ConvertBy(function(ej){return eh(ej[0],ej[1]);},function(ej){return ei(ej[0],ej[1]);},o.Map(function(ej){return ba.map(function(ek){return[ej,ek];},ej.plgViews);},j.currentPlugInW()));};j.renderDocs=function(){function eh(ej,ek){return[ej.plgName,ek.docName];}function ei(ej,ek){var el,em,en,eo,ep,eq,er,es,et,eu,ev;return(el=(em=(en=ek.docName+(eo=ek.docDoc,eo.$==1?(ep=bh.concat(", ",bA.ofArray([eo.$1])),(function(ew){return function(ex){return ew("("+by.toSafe(ex)+")");};}(a.id))(ep)):eo.$==2?(eq=bh.concat(", ",bA.ofArray([eo.$1,eo.$2])),(function(ew){return function(ex){return ew("("+by.toSafe(ex)+")");};}(a.id))(eq)):eo.$==3?(er=bh.concat(", ",bA.ofArray([eo.$1,eo.$2,eo.$3])),(function(ew){return function(ex){return ew("("+by.toSafe(ex)+")");};}(a.id))(er)):eo.$==4?(es=bh.concat(", ",bA.ofArray([eo.$1,eo.$2,eo.$3,eo.$4])),(function(ew){return function(ex){return ew("("+by.toSafe(ex)+")");};}(a.id))(es)):eo.$==5?(et=bh.concat(", ",bA.ofArray([eo.$1,eo.$2,eo.$3,eo.$4,eo.$5])),(function(ew){return function(ex){return ew("("+by.toSafe(ex)+")");};}(a.id))(et)):""),Q.Make().WithHole({$:1,$0:"name",$1:en})),em.WithHole(R.EventQ2(em.k,"select",function(){return em.i;},function(){o.Get(function(ew){j.mainDocV().Set(ew.plgName+"."+ek.docName);},j.currentPlugInW());}))),(eu=R.CompleteHoles(el.k,el.h,[]),(ev=new O.New(eu[1],cG.tile(eu[0])),(el.i=ev,ev)))).get_Doc();}return V.ConvertBy(function(ej){return eh(ej[0],ej[1]);},function(ej){return ei(ej[0],ej[1]);},o.Map(function(ej){return ba.map(function(ek){return[ej,ek];},ej.plgDocs);},j.currentPlugInW()));};j.renderActions=function(){function eh(ej,ek){return[ej.plgName,ek.actName];}function ei(ej,ek){var el,em,en,eo;el=(em=ek.actFunction,em.$==1?(en=bh.concat(", ",bA.ofArray([em.$1])),(function(ep){return function(eq){return ep("("+by.toSafe(eq)+")");};}(a.id))(en)):em.$==2?(eo=bh.concat(", ",bA.ofArray([em.$1,em.$2])),(function(ep){return function(eq){return ep("("+by.toSafe(eq)+")");};}(a.id))(eo)):"");return V.EmbedView(o.Map(function(ep){var eq,er,es,et,eu,ev,ew,ex;return ep?(eq=(er=Q.Make().WithHole({$:1,$0:"name",$1:ek.actName+el}),er.WithHole(R.EventQ2(er.k,"click",function(){return er.i;},function(ey){j.callFunction(ey,null,ek.actFunction);}))),(es=R.CompleteHoles(eq.k,eq.h,[]),(et=new O.New(es[1],cG.action(es[0])),(eq.i=et,et)))).get_Doc():(eu=(ev=Q.Make().WithHole({$:1,$0:"name",$1:ek.actName}),ev.WithHole(R.EventQ2(ev.k,"click",function(){return ev.i;},function(ey){j.callFunction(ey,null,ek.actFunction);}))),(ew=R.CompleteHoles(eu.k,eu.h,[]),(ex=new O.New(ew[1],cG.actiondisabled(ew[0])),(eu.i=ex,ex)))).get_Doc();},ek.actEnabled));}return V.ConvertBy(function(ej){return eh(ej[0],ej[1]);},function(ej){return ei(ej[0],ej[1]);},o.Map(function(ej){return ba.map(function(ek){return[ej,ek];},ej.plgActions);},j.currentPlugInW()));};j.renderQueries=function(){function eh(ej,ek){return[ej.plgName,ek.qryName];}function ei(ej,ek){var el,em,en,eo;return(el=(em=Q.Make().WithHole({$:1,$0:"name",$1:ek.qryName}),em.WithHole(R.EventQ2(em.k,"select",function(){return em.i;},function(){a.alert(ek.qryFunction(null));}))),(en=R.CompleteHoles(el.k,el.h,[]),(eo=new O.New(en[1],cG.tile(en[0])),(el.i=eo,eo)))).get_Doc();}return V.ConvertBy(function(ej){return eh(ej[0],ej[1]);},function(ej){return ei(ej[0],ej[1]);},o.Map(function(ej){return ba.map(function(ek){return[ej,ek];},ej.plgQueries);},j.currentPlugInW()));};j.newQry=function(eh,ei){return b9.New(eh,ei);};j.AppFwkClient=function(){bK.$cctor();return bK.AppFwkClient;};j.actHello=function(){bK.$cctor();return bK.actHello;};j.qryDocs=function(){bK.$cctor();return bK.qryDocs;};j.horizontal=function(eh,ei,ej,ek,el){var em,en,eo,ep;return(em=(en=Q.Make().WithHole({$:2,$0:"partsizes",$1:eh}).WithHole({$:7,$0:"afterrender",$1:ei}).WithHole({$:7,$0:"afterrendersp",$1:ej}),en.WithHole(R.EventQ2(en.k,"mousedown",function(){return en.i;},function(eq){ek(eq.Event);}))).WithHole({$:2,$0:"gap",$1:el}),(eo=R.CompleteHoles(em.k,em.h,[]),(ep=new O.New(eo[1],cG.wcompsplitterhor(eo[0])),(em.i=ep,ep)))).get_Doc();};j.vertical=function(eh,ei,ej,ek,el){var em,en,eo,ep;return(em=(en=Q.Make().WithHole({$:2,$0:"partsizes",$1:eh}).WithHole({$:7,$0:"afterrender",$1:ei}).WithHole({$:7,$0:"afterrendersp",$1:ej}),en.WithHole(R.EventQ2(en.k,"mousedown",function(){return en.i;},function(eq){ek(eq.Event);}))).WithHole({$:2,$0:"gap",$1:el}),(eo=R.CompleteHoles(em.k,em.h,[]),(ep=new O.New(eo[1],cG.wcompsplitterver(eo[0])),(em.i=ep,ep)))).get_Doc();};j.mainDoc=function(){var eh,ei,ej,ek,el,em;return(eh=(ei=j.getMainClientDoc(),(ej=(ek=j.mainDocV().get_View(),Q.Make().WithHole({$:2,$0:"maindoc",$1:ek})),ej.WithHole(R.EventQ2(ej.k,"goclient",function(){return ej.i;},function(){j.mainDocV().Set("AppFramework.AppFwkClient");}))).WithHole({$:0,$0:"mainclient",$1:ei})),(el=R.CompleteHoles(eh.k,eh.h,[]),(em=new O.New(el[1],cG.appframework(el[0])),(eh.i=em,em)))).get_Doc();};j.splitName=function(eh){function ei(ek){return bZ.splitByChar(".",ek);}function ej(ek){return P.length(ek)===1?[eh,P.get(ek,0)]:[P.get(ek,0),P.get(ek,1)];}return function(ek){return ej(ei(ek));};};j.tryGetPlugIn=function(eh){return j.plugIns().TryFindByKey(eh);};j.newActF=function(eh,ei){return bG.New(eh,ei,o.Const(true));};j.tryGetViw=function(eh,ei){var ej;ej=j.tryGetPlugIn(eh);return ej==null?null:P.tryFind(function(ek){return ek.viwName===ei;},ej.$0.plgViews);};j.getMainClientDoc=function(){var eh;return V.EmbedView((eh=j.plugIns().v,o.Map2(function(ei,ej){var ek,el;ek=ba.tryPick(function(em){var en;en=ba.tryFind(function(eo){return em.plgName===ei||em.plgName+"."+eo.docName===ei;},em.plgDocs);return en==null?null:{$:1,$0:j.getLazyDoc(en.$0)};},ej);el=j.AppFwkClient().f();return ek==null?el:ek.$0;},j.mainDocV().get_View(),eh)));};j.tryGetVoV=function(eh,ei){var ej,ek,el;ej=(ek=j.tryGetVar(eh,ei),ek==null?null:{$:1,$0:{$:1,$0:ek.$0.varVar}});return ej==null?(el=j.tryGetViw(eh,ei),el==null?null:{$:1,$0:new cv.New(el.$0.viwView,a.ignore)}):ej.$0;};j.tryGetWoW=function(eh,ei){var ej,ek,el;ej=(ek=j.tryGetViw(eh,ei),ek==null?null:{$:1,$0:{$:1,$0:ek.$0.viwView}});return ej==null?(el=j.tryGetVar(eh,ei),el==null?null:{$:1,$0:el.$0.varVar.get_View()}):ej.$0;};j.getLazyDoc=function(eh){var ei;ei=eh.docDoc;return ei.$==0?ei.$0.f():V.Element("div",[],[V.TextNode((function(ej){return function(ek){return ej("Doc with parameters not allowed here: "+cH.p(ek));};}(a.id))(eh))]);};k.New=function(eh,ei,ej,ek,el,em){return{plgName:eh,plgVars:ei,plgViews:ej,plgDocs:ek,plgActions:el,plgQueries:em};};l.contentVar=function(){_1.$cctor();return _1.contentVar;};l.invitacionesV=function(){_1.$cctor();return _1.invitacionesV;};l.emailsInvitarW=function(){_1.$cctor();return _1.emailsInvitarW;};l.invitacionesDisabledW=function(){_1.$cctor();return _1.invitacionesDisabledW;};l.endPointV=function(){_1.$cctor();return _1.endPointV;};l.aliadoW=function(){_1.$cctor();return _1.aliadoW;};l.modeloV=function(){_1.$cctor();return _1.modeloV;};l.selAliadoIdOV=function(){_1.$cctor();return _1.selAliadoIdOV;};l.money=function(eh){return"$"+l.separate(a.String(eh),cc.Empty);};l.selAliadoIdDoc=function(eh){var ei;return V.BindView(a.id,(ei=o.get_Do(),o.Bind(function(ej){return o.Bind(function(ek){var el,em;el=ek==null?null:(em=ek.$0,ba.tryFind(function(en){return E.Equals(en.id,em);},ej.aliados));return o.Const(el!=null&&el.$==1?eh(o.Const(el.$0)):V.get_Empty());},l.selAliadoIdOV().get_View());},l.modeloV().get_View())));};l.aliadoIdDoc=function(eh){var ei;return V.BindView(a.id,(ei=o.get_Do(),o.Bind(function(ej){var ek,el;ek=ej.idAliado;el=ba.tryFind(function(em){return E.Equals(em.id,ek);},ej.aliados);return o.Const(el!=null&&el.$==1?eh(o.Const(el.$0)):V.get_Empty());},l.modeloV().get_View())));};l.separate=function(eh,ei){var ej;while(true)if(eh==="")return(function(ek){return function(el){return bh.concat(ek,el);};}(","))(ei);else{ej=eh;eh=bb["String.Left"](ej,-3);ei=new cc({$:1,$0:bb["String.Right"](ej,3),$1:ei});}};m.get_LoggedId=function(){var eh,ei;eh=(ei=bH.userO().Get(),ei==null?null:{$:1,$0:ei.$0.idToken.oid});return eh==null?"":eh.$0;};l.formasPagoAliadoV=function(){_1.$cctor();return _1.formasPagoAliadoV;};n.FailWith=function(eh){throw new dG(eh);};n.toInt=function(eh){var ei;ei=n.toUInt(eh);return ei>=2147483648?ei-4294967296:ei;};n.range=function(eh,ei){var ej;ej=1+ei-eh;return ej<=0?[]:ba.init(ej,function(ek){return ek+eh;});};n.toUInt=function(eh){return(eh<0?ea.ceil(eh):ea.floor(eh))>>>0;};n.KeyValue=function(eh){return[eh.K,eh.V];};o.Map=function(eh,ei){return o.CreateLazy(function(){return _0.Map(eh,ei());});};o.Sink=function(eh,ei){function ej(){_0.WhenRun(ei(),eh,function(){cy.scheduler().Fork(ej);});}cy.scheduler().Fork(ej);};o.CreateLazy=function(eh){var ei;ei={c:null,o:eh};return function(){var ej,ek;ej=ei.c;return ej===null?(ej=ei.o(),ei.c=ej,(ek=ej.s,ek!=null&&ek.$==0)?ei.o=null:_0.WhenObsoleteRun(ej,function(){ei.c=null;}),ej):ej;};};o.Map2=function(eh,ei,ej){return o.CreateLazy(function(){return _0.Map2(eh,ei(),ej());});};o.Apply=function(eh,ei){return o.Map2(function(ej,ek){return ej(ek);},eh,ei);};o.Map3=function(eh,ei,ej,ek){return o.CreateLazy(function(){return _0.Map3(eh,ei(),ej(),ek());});};o.MapAsync=function(eh,ei){return o.CreateLazy(function(){return _0.MapAsync(eh,ei());});};o.GetAsync=function(eh){return cy.FromContinuations(function(ei){return o.Get(ei,eh);});};o.TryGet=function(eh){return _0.TryGet(eh());};o.Const=function(eh){var ei;ei=_0.New({$:0,$0:eh});return function(){return ei;};};o.get_Do=function(){return b6.B;};o.Get=function(eh,ei){var ej;function ek(){_0.WhenRun(ei(),function(el){if(!ej[0]){ej[0]=true;eh(el);}},function(){if(!ej[0])ek();});}ej=[false];ek();};o.Bind=function(eh,ei){return o.Join(o.Map(eh,ei));};o.MapSeqCachedViewBy=function(eh,ei,ej){var ek;ek=[new bS.New$5()];return o.Map(function(el){var em,en,eo;em=ek[0];en=new bS.New$5();eo=cw.mapInPlace(function(ep){var eq,er,es;eq=eh(ep);er=em.ContainsKey(eq)?(es=em.get_Item(eq),(h.Set(es.r,ep),es)):o.ConvertSeqNode(function(et){return ei(eq,et);},ep);en.set_Item(eq,er);return er.e;},P.ofSeq(el));ek[0]=en;return eo;},ej);};o.Map2Unit=function(eh,ei){return o.CreateLazy(function(){return _0.Map2Unit(eh(),ei());});};o.Join=function(eh){return o.CreateLazy(function(){return _0.Join(eh());});};o.ConvertSeqNode=function(eh,ei){var ej,ek;ej=h.Create$1(ei);ek=ej.get_View();return{e:eh(ek),r:ej,w:ek};};o.MapSeqCachedBy=function(eh,ei,ej){var ek;ek=[new bS.New$5()];return o.Map(function(el){var em,en,eo;em=ek[0];en=new bS.New$5();eo=cw.mapInPlace(function(ep){var eq,er;eq=eh(ep);er=em.ContainsKey(eq)?em.get_Item(eq):ei(ep);en.set_Item(eq,er);return er;},P.ofSeq(el));ek[0]=en;return eo;},ej);};o.Sequence=function(eh){return o.CreateLazy(function(){return _0.Sequence(ba.map(function(ei){return ei();},eh));});};p=g.Var=d$.Class({},f,p);p.New=d$.Ctor(function(){f.New.call(this);},p);q.Create=function(eh){return _8.New(false,eh,q.forceLazy);};q.forceLazy=function(){var eh;eh=this.v();this.c=true;this.v=eh;this.f=q.cachedLazy;return eh;};q.cachedLazy=function(){return this.v;};q.CreateFromValue=function(eh){return _8.New(true,eh,q.cachedLazy);};r.aliados=function(){var eh,ei,ej,ek,el,em,en;function eo(ex){var ey,ez;ey=(ez=ei.Get(),ez==null?null:{$:1,$0:ez.$0(ex)});return ey==null?[]:ey.$0;}function ep(ex){return ex.nReferidos===0?"-":(((d$.Curried3(function(ey,ez,eA){return ey(a.String(ez)+"/"+a.String(eA));}))(a.id))(ex.nRefActivos))(ex.nReferidos);}function eq(ex){return ex.nDescendientes===0?"-":(((d$.Curried3(function(ey,ez,eA){return ey(a.String(ez)+"/"+a.String(eA));}))(a.id))(ex.nDescActivos))(ex.nDescendientes);}function er(ex){return ex===0?"-":l.money(ex);}function es(ex){return o.Map(function(ey){return ba.isEmpty(eo(ex))?"":E.Equals(ey==null?null:{$:1,$0:ey.$0.Contains(ex)},{$:1,$0:true})?"Expandido":"Colapsado";},eh.get_View());}function et(ex){var ey,ez,eA;eh.Set({$:1,$0:((E.Equals((ey=eh.Get(),ey==null?null:{$:1,$0:ey.$0.Contains(ex)}),{$:1,$0:true})?function(eB){return function(eC){return eC.Remove(eB);};}:function(eB){return function(eC){return eC.Add(eB);};})(ex))((ez=eh.Get(),(eA=new bf.New$1(null),ez==null?eA:ez.$0)))});}function eu(ex){l.selAliadoIdOV().Set({$:1,$0:ex});}function ev(ex){var ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eR,eS;function eL(eT){return eT.comision;}function eM(eT){return eT.status;}function eN(eT){return[eT.nRefActivos,eT.nReferidos];}function eO(eT){return[eT.nDescActivos,eT.nDescendientes];}function eP(eT){return K.nombre(eT.datosPersonales);}function eQ(eT){return ba.delay(function(){return ba.append([eT],ba.delay(function(){var eU,eV;return(eU=(eV=eh.Get(),eV==null?null:{$:1,$0:eV.$0.Contains(eT.id)}),eU==null?false:eU.$0)?ba.collect(eQ,eS.hijos(eT)):[];}));});}eR=(ey=(ez=(eA=(eB=(eC=(d$.Curried3(bc.desc))(eL),eD=(d$.Curried3(bc.asc))(eM),d$.Curried(bc.op_AmpGreater,2,[function(eT,eU){return(eC(eT))(eU);},function(eT,eU){return(eD(eT))(eU);}])),eE=(d$.Curried3(bc.desc))(eN),d$.Curried(bc.op_AmpGreater,2,[function(eT,eU){return(eB(eT))(eU);},function(eT,eU){return(eE(eT))(eU);}])),eF=(d$.Curried3(bc.desc))(eO),d$.Curried(bc.op_AmpGreater,2,[function(eT,eU){return(eA(eT))(eU);},function(eT,eU){return(eF(eT))(eU);}])),eG=(d$.Curried3(bc.asc))(eP),d$.Curried(bc.op_AmpGreater,2,[function(eT,eU){return(ez(eT))(eU);},function(eT,eU){return(eG(eT))(eU);}])),ba.sortWith(function(eT,eU){return(ey(eT))(eU);},ex));eS=K.busqueda(eR);ei.Set({$:1,$0:eS.hijosDe});try{eI=ba.min(ba.map(function(eT){return eT.nivel;},eR));}catch(eT){eI=1;}eJ=ba.filter(function(eU){return eU.nivel===eI;},eR);ba.isEmpty(eJ)?eh.Set(null):eh.Get()==null?(eh.Set({$:1,$0:new bf.New(ba.map(function(eU){return eU.id;},eJ))}),eK=ba.tryHead(ba.map(function(eU){return eU.id;},eJ)),eK==null?void 0:eu(eK.$0)):void 0;return ba.delay(function(){return ba.collect(eQ,eJ);});}function ew(ex,ey){var ez,eA,eB,eC,eD,eE;return(ez=(eA=(eB=(eC=es(ex),Q.Make().WithHole({$:2,$0:"nombre",$1:o.Map(function(eF){return K.nombre(eF.datosPersonales);},ey)}).WithHole({$:2,$0:"status",$1:o.Map(function(eF){return(function(eG){return function(eH){return eG(_9.p(eH));};}(a.id))(eF.status);},ey)}).WithHole({$:2,$0:"tipo",$1:o.Map(function(eF){return(function(eG){return function(eH){return eG(_9.p$1(eH));};}(a.id))(eF.tipo);},ey)}).WithHole({$:2,$0:"nivel",$1:o.Map(function(eF){return a.String(eF.nivel);},ey)}).WithHole({$:2,$0:"referidos",$1:o.Map(ep,ey)}).WithHole({$:2,$0:"descendientes",$1:o.Map(eq,ey)}).WithHole({$:2,$0:"comision",$1:o.Map(function(eF){return er(eF.comision);},ey)}).WithHole({$:2,$0:"expandido",$1:eC})),eB.WithHole(R.EventQ2(eB.k,"expandir",function(){return eB.i;},function(){et(ex);}))).WithHole({$:2,$0:"seleccionado",$1:o.Map(function(eF){return E.Equals({$:1,$0:ex},eF)?"seleccionado":"";},l.selAliadoIdOV().get_View())}),eA.WithHole(R.EventQ2(eA.k,"seleccionar",function(){return eA.i;},function(){eu(ex);}))),(eD=R.CompleteHoles(ez.k,ez.h,[]),(eE=new O.New(eD[1],S.filaaliado(eD[0])),(ez.i=eE,eE)))).get_Doc();}eh=h.Create$1(null);ei=h.Create$1(null);return(ej=(ek=V.ConvertSeqBy(function(ex){return ex.id;},function(ex){return function(ey){return ew(ex,ey);};},(el=o.Map(function(ex){return ex.aliados;},l.modeloV().get_View()),o.Map2(function(ex,ey){return ev(ey);},eh.get_View(),el))),Q.Make().WithHole({$:0,$0:"tbody",$1:ek})),(em=R.CompleteHoles(ej.k,ej.h,[]),(en=new O.New(em[1],S.tablaaliados(em[0])),(ej.i=en,en)))).get_Doc();};s.aliado=function(){function eh(ei){var ej;ej=ba.tryPick(function(ek){return ek.$==1?{$:1,$0:ek.$0.email}:null;},ei.contactos);return ej==null?"correo no encontrado!":ej.$0;}return l.selAliadoIdDoc(function(ei){var ej,ek,el,em;return(ej=(ek=s.calculo(),Q.Make().WithHole({$:2,$0:"nombre",$1:o.Map(function(en){return K.nombre2(en.datosPersonales);},ei)}).WithHole({$:2,$0:"status",$1:o.Map(function(en){return(function(eo){return function(ep){return eo(_9.p(ep));};}(a.id))(en.status);},ei)}).WithHole({$:2,$0:"tipo",$1:o.Map(function(en){return(function(eo){return function(ep){return eo(_9.p$1(ep));};}(a.id))(en.tipo);},ei)}).WithHole({$:2,$0:"contacto",$1:o.Map(eh,ei)}).WithHole({$:0,$0:"calculo",$1:ek})),(el=R.CompleteHoles(ej.k,ej.h,[]),(em=new O.New(el[1],S.aliado(el[0])),(ej.i=em,em)))).get_Doc();});};s.calculo=function(){var eh,ei;eh=o.Map(function(ej){return ej.premisas;},l.modeloV().get_View());ei=o.Map(function(ej){return ej.aliados;},l.modeloV().get_View());o.Map2(function(ej,ek){return ba.tryFind(function(el){return E.Equals(el.id,ej);},ek);},o.Map(function(ej){return ej.idAliado;},l.modeloV().get_View()),ei);return l.selAliadoIdDoc(function(ej){var ek,el,em,en,eo;ek=o.Map2(K.comision,eh,ej);el=o.Map2(K.premisas,eh,ej);return(em=Q.Make().WithHole({$:2,$0:"referidos",$1:o.Map(function(ep){return(function(eq){return function(er){return eq(a.String(er));};}(a.id))(ep.nReferidos);},ej)}).WithHole({$:2,$0:"refactivos",$1:o.Map(function(ep){return(function(eq){return function(er){return eq(a.String(er));};}(a.id))(ep.nRefActivos);},ej)}).WithHole({$:2,$0:"comreferido",$1:o.Map(function(ep){return(function(eq){return function(er){return eq(a.String(er));};}(a.id))(ep.nRefActivos);},ej)}).WithHole({$:2,$0:"descendientes",$1:o.Map(function(ep){return(function(eq){return function(er){return eq(a.String(er));};}(a.id))(ep.nDescendientes);},ej)}).WithHole({$:2,$0:"desactivos",$1:o.Map(function(ep){return(function(eq){return function(er){return eq(a.String(er));};}(a.id))(ep.nDescActivos);},ej)}).WithHole({$:2,$0:"comision",$1:o.Map(function(ep){return l.money(ep[0]+ep[1]);},ek)}).WithHole({$:2,$0:"comreferido",$1:o.Map(function(ep){return l.money(ep[0]);},ek)}).WithHole({$:2,$0:"comdescendiente",$1:o.Map(function(ep){return l.money(ep[1]);},ek)}).WithHole({$:2,$0:"porreferido",$1:o.Map(function(ep){return l.money(ep[0]);},el)}).WithHole({$:2,$0:"pordescendiente",$1:o.Map(function(ep){return l.money(ep[1]);},el)}),(en=R.CompleteHoles(em.k,em.h,[]),(eo=new O.New(en[1],S.calculo(en[0])),(em.i=eo,eo)))).get_Doc();});};t.formaDoc=function(){var eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev;eh=h.Create$1("");ei=h.Create$1(false);ej=h.Create$1(null);ek=h.Create$1(null);el=h.Create$1(null);em=h.Create$1(null);en=bj.formaDoc(ej);eo=bk.formaDoc(ek);ep=bl.formaDoc(el);eq=bm.formaDoc(em);er=(es=(et=Q.Make().WithHole({$:2,$0:"mensajes",$1:o.Map2(function(ew,ex){return ew?ex:"";},ei.get_View(),eh.get_View())}).WithHole({$:0,$0:"datospersonales",$1:en[1]}).WithHole({$:0,$0:"correo",$1:eo[1]}).WithHole({$:0,$0:"telefono",$1:ep[1]}).WithHole({$:0,$0:"direccion",$1:eq[1]}),et.WithHole(R.EventQ2(et.k,"registrarse",function(){return et.i;},function(){var ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG;function eH(eI){a.alert(eI);}ei.Set(true);ew=eh.Get();bh.Trim(ew)!==""?a.alert(ew):(ex=ej.Get(),ey=ek.Get(),ez=el.Get(),eA=em.Get(),ex!=null&&ex.$==1&&(ey!=null&&ey.$==1&&(ez!=null&&ez.$==1&&(eA!=null&&eA.$==1&&(eB=[ey.$0,ex.$0,eA.$0,ez.$0],true))))?(eC=eB[0],eD=eB[1],eE=eB[2],eF=eB[3],bp.iterA(function(eI){return eH(bu.summarized(eI));},a.ignore,(eG=bo.asyncResultM(),eG.Run(eG.Delay(function(){var eI;return eG.Bind$4(W.ejecutarDataEventoNuevo({$:3,$0:[new X({$:0,$0:bh.Substring(bh.Replace((eI=bt.NewGuid(),a.String(eI)),"-",""),0,20)}),eD,{$:1,$0:l.modeloV().Get().idAliado},[{$:1,$0:eC},{$:2,$0:eF},{$:0,$0:eE}]]}),function(eJ){br.refrescarData(true);a.alert((function(eK){return function(eL){return eK(T.p$2(eL));};}(a.id))(eJ));return eG.Zero();});}))))):a.alert("Error not caught FormaRegistro"));}))),(eu=R.CompleteHoles(es.k,es.h,[]),(ev=new O.New(eu[1],S.formaregistro(eu[0])),(es.i=ev,ev))));o.Sink(function(ew){eh.Set(ew);},o.Apply(o.Apply(o.Map2(function(ew,ex){return function(ey){return function(ez){var eA;eA=bh.concat(", ",ba.delay(function(){return ba.append(ew,ba.delay(function(){return ba.append(ex,ba.delay(function(){return ba.append(ey,ba.delay(function(){return ez;}));}));}));}));return eA!==""?"Campos requeridos: "+eA:"";};};},en[0],eo[0]),ep[0]),eq[0]));return er.get_Doc();};u.formaDoc=function(){return l.aliadoIdDoc(u.formaAliado);};u.formaAliado=function(eh){var ei,ej,ek,el,em,en,eo,ep,eq;function er(et){return{$:1,$0:et};}function es(et){ek.Set(et);}ei=h.Create$1("");ej=h.Create$1(false);ek=h.Create$1(null);o.Sink(function(et){return es(er(et));},o.Map(function(et){return et.datosPersonales;},eh));el=bj.formaDoc(ek);em=(en=(eo=Q.Make().WithHole({$:2,$0:"mensajes",$1:o.Map2(function(et,eu){return et?eu:"";},ej.get_View(),ei.get_View())}).WithHole({$:2,$0:"changed",$1:o.Map2(function(et,eu){return E.Equals({$:1,$0:et.datosPersonales},eu)?"":"mui-btn--primary";},eh,ek.get_View())}).WithHole({$:0,$0:"datospersonales",$1:el[1]}),eo.WithHole(R.EventQ2(eo.k,"salvar",function(){return eo.i;},function(){var et,eu,ev,ew,ex,ey,ez;function eA(eB){a.alert(eB);}ej.Set(true);et=ei.Get();bh.Trim(et)!==""?a.alert(et):(eu=ek.Get(),ev=o.TryGet(eh),eu!=null&&eu.$==1&&(ev!=null&&ev.$==1&&(ew=[ev.$0,eu.$0],true))?(ex=ew[0],ey=ew[1],bp.iterA(function(eB){return eA(bu.summarized(eB));},a.ignore,(ez=bo.asyncResultM(),ez.Run(ez.Delay(function(){return ez.Bind$4(W.ejecutarDataEventoNuevo({$:4,$0:[ex.id,ey]}),function(eB){br.refrescarData(true);a.alert((function(eC){return function(eD){return eC(T.p$2(eD));};}(a.id))(eB));return ez.Zero();});}))))):a.alert("Error not caught FormaDatos"));}))),(ep=R.CompleteHoles(en.k,en.h,[]),(eq=new O.New(ep[1],S.formadatospersonales(ep[0])),(en.i=eq,eq))));o.Sink(function(et){ei.Set(et);},o.Map(function(et){var eu;eu=bh.concat(", ",ba.delay(function(){return et;}));return eu!==""?"Campos requeridos: "+eu:"";},el[0]));return em.get_Doc();};v.formaDoc=function(){return l.aliadoIdDoc(v.formaContactos);};v.formaContactos=function(eh){var ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB;function eC(eD,eE){return function(eF){return new cv.New(o.Map(function(eG){var eH;eH=ba.tryItem(eF,eG);return eH==null?null:eD(eH.$0);},ek.get_View()),function(eG){if(eG!=null&&eG.$==1)ek.Set(cm.replace(eF,eE(eG.$0),ek.Get()));});};}ei=h.Create$1("");ej=h.Create$1(false);ek=h.Create$1([]);o.Sink(function(eD){ek.Set(eD);},o.Map(function(eD){return eD.contactos;},eh));el=o.Map(ba.indexed,ek.get_View());em=[function(eD){return eD.$==2?{$:1,$0:eD.$0}:null;},function(eD){return{$:2,$0:eD};}];en=[function(eD){return eD.$==1?{$:1,$0:eD.$0}:null;},function(eD){return{$:1,$0:eD};}];eo=[function(eD){return eD.$==0?{$:1,$0:eD.$0}:null;},function(eD){return{$:0,$0:eD};}];ep=o.Map(function(eD){function eE(eF,eG){return em[0](eG)==null?null:{$:1,$0:eF};}return ba.choose(function(eF){return eE(eF[0],eF[1]);},eD);},el);eq=o.Map(function(eD){function eE(eF,eG){return en[0](eG)==null?null:{$:1,$0:eF};}return ba.choose(function(eF){return eE(eF[0],eF[1]);},eD);},el);er=o.Map(function(eD){function eE(eF,eG){return eo[0](eG)==null?null:{$:1,$0:eF};}return ba.choose(function(eF){return eE(eF[0],eF[1]);},eD);},el);es=V.ConvertBy(a.id,function(eD){return bw.removeButton(function(){ek.Set(cm.remove(eD,ek.Get()));},(bl.formaDoc((function(eE){return eC(eE[0],eE[1]);}(em))(eD)))[1]);},ep);et=V.ConvertBy(a.id,function(eD){return bw.removeButton(function(){ek.Set(cm.remove(eD,ek.Get()));},(bk.formaDoc((function(eE){return eC(eE[0],eE[1]);}(en))(eD)))[1]);},eq);eu=V.ConvertBy(a.id,function(eD){return bw.removeButton(function(){ek.Set(cm.remove(eD,ek.Get()));},(bm.formaDoc((function(eE){return eC(eE[0],eE[1]);}(eo))(eD)))[1]);},er);return(ev=(ew=(ex=(ey=(ez=Q.Make().WithHole({$:2,$0:"mensajes",$1:o.Map2(function(eD,eE){return eD?eE:"";},ej.get_View(),ei.get_View())}).WithHole({$:2,$0:"changed",$1:o.Map2(function(eD,eE){return E.Equals(eD.contactos,eE)?"":"mui-btn--primary";},eh,ek.get_View())}).WithHole({$:0,$0:"telefonos",$1:es}).WithHole({$:0,$0:"correos",$1:et}).WithHole({$:0,$0:"direcciones",$1:eu}),ez.WithHole(R.EventQ2(ez.k,"mastelefono",function(){return ez.i;},function(){ek.Set(ek.Get().concat([{$:2,$0:I.telVacio()}]));}))),ey.WithHole(R.EventQ2(ey.k,"mascorreo",function(){return ey.i;},function(){ek.Set(ek.Get().concat([{$:1,$0:I.correoVacio()}]));}))),ex.WithHole(R.EventQ2(ex.k,"masdireccion",function(){return ex.i;},function(){ek.Set(ek.Get().concat([{$:0,$0:I.dirVacio()}]));}))),ew.WithHole(R.EventQ2(ew.k,"salvar",function(){return ew.i;},function(){var eD,eE,eF,eG;function eH(eI){a.alert(eI);}ej.Set(true);eD=ei.Get();bh.Trim(eD)!==""?a.alert(eD):(eE=o.TryGet(eh),eE!=null&&eE.$==1?(eF=eE.$0,bp.iterA(function(eI){return eH(bu.summarized(eI));},a.ignore,(eG=bo.asyncResultM(),eG.Run(eG.Delay(function(){return eG.Bind$4(W.ejecutarDataEventoNuevo({$:5,$0:[eF.id,ek.Get()]}),function(eI){br.refrescarData(true);a.alert((function(eJ){return function(eK){return eJ(T.p$2(eK));};}(a.id))(eI));return eG.Zero();});}))))):a.alert("Error not caught FormaDatos"));}))),(eA=R.CompleteHoles(ev.k,ev.h,[]),(eB=new O.New(eA[1],S.formacontactos(eA[0])),(ev.i=eB,eB)))).get_Doc();};w.formaDoc=function(){return l.aliadoIdDoc(w.formaFormasPago);};w.formaFormasPago=function(eh){var ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev;function ew(eB,eC){return function(eD){return new cv.New(o.Map(function(eE){var eF;eF=ba.tryItem(eD,eE);return eF==null?null:eB(eF.$0);},ek.get_View()),function(eE){var eF;if(eE!=null&&eE.$==1){eF=eE.$0;ek.Set(cm.replace(eD,(eC(P.get(ek.Get(),eD)))(bw.fst3(eF[0],eF[1],eF[2])),ek.Get()));}});};}function ex(eB){var eC;function eD(eE){a.alert(eE);}bp.iterA(function(eE){return eD(bu.summarized(eE));},function(eE){a.alert(eE);},(eC=bo.asyncResultM(),eC.Run(eC.Delay(function(){return eC.Bind$1(bF.ofResult(ct.MapError(function(eE){return new bu({$:1,$0:eE});},eB.authorizeIdR)),function(eE){return eC.Bind$4(W.validarFormaPago(eE),function(eF){return eC.Return(eF);});});}))));}function ey(eB,eC){return bw.removeButton(function(){ek.Set(cm.remove(eB,ek.Get()));},V.Concat(bA.ofSeq(ba.delay(function(){return ba.append([eC],ba.delay(function(){return[V.Button("validar",[cQ.Create("title","validar forma de pago"),cC.Dynamic("style",o.Map(function(eD){return P.get(eD,eB).authorizeIdR.$==0?"":"display:None";},ek.get_View()))],function(){ex(P.get(ek.Get(),eB));})];}));}))));}function ez(eB){return bE.New("",bb.Error(""),eB);}function eA(eB){return new bf.New(ba.choose(function(eC){var eD;eD=eC.authorizeIdR;return eD.$==0?{$:1,$0:eD.$0}:null;},eB));}ei=h.Create$1("");ej=h.Create$1(false);ek=h.Create$1([]);o.Sink(function(eB){ek.Set(eB);},l.formasPagoAliadoV().get_View());w.refrescarFormasPago();el=o.Map(ba.indexed,ek.get_View());em=o.Map(function(eB){function eC(eD,eE){return(w.ftar())[0](eE)==null?null:{$:1,$0:eD};}return ba.choose(function(eD){return eC(eD[0],eD[1]);},eB);},el);en=o.Map(function(eB){function eC(eD,eE){return(w.fcta())[0](eE)==null?null:{$:1,$0:eD};}return ba.choose(function(eD){return eC(eD[0],eD[1]);},eB);},el);eo=V.ConvertBy(a.id,function(eB){return ey(eB,(cs.formaDocO((function(eC){return ew(eC[0],eC[1]);}(w.ftar()))(eB)))[1]);},em);ep=V.ConvertBy(a.id,function(eB){return ey(eB,(cr.formaDocO((function(eC){return ew(eC[0],eC[1]);}(w.fcta()))(eB)))[1]);},en);return(eq=(er=(es=(et=Q.Make().WithHole({$:2,$0:"mensajes",$1:o.Map2(function(eB,eC){return eB?eC:"";},ej.get_View(),ei.get_View())}).WithHole({$:0,$0:"tarjetas",$1:eo}).WithHole({$:0,$0:"cuentas",$1:ep}),et.WithHole(R.EventQ2(et.k,"mastarjeta",function(){return et.i;},function(){ek.Set(ek.Get().concat([ez({$:1,$0:I.tarVacio()})]));}))),es.WithHole(R.EventQ2(es.k,"mascuenta",function(){return es.i;},function(){ek.Set(ek.Get().concat([ez({$:0,$0:I.ctaVacio()})]));}))).WithHole({$:2,$0:"changed",$1:o.Map2(function(eB,eC){return E.Equals(eB,eC)?"":"mui-btn--primary";},l.formasPagoAliadoV().get_View(),ek.get_View())}),er.WithHole(R.EventQ2(er.k,"salvar",function(){return er.i;},function(){var eB,eC,eD;function eE(eF){a.alert(eF);}ej.Set(true);eB=ei.Get();bh.Trim(eB)!==""?a.alert(eB):(eC=o.TryGet(eh),eC!=null&&eC.$==1?bp.iterA(function(eF){return eE(bu.summarized(eF));},a.ignore,(eD=bo.asyncResultM(),eD.Run(eD.Delay(function(){return eD.Combine$1(eD.For(bf.op_Subtraction(eA(l.formasPagoAliadoV().Get()),eA(ek.Get())),function(eF){return eD.Bind$4(W.borrarFormaPago(eF),function(eG){return eD.Bind$2(new bu({$:3,$0:eG}),function(){return eD.Return();});});}),eD.Delay(function(){return eD.Combine$1(eD.For(ek.Get(),function(eF){var eG,eH,eI,eJ;eG=(eH=eF.cuentaPago,eH.$==1&&(!(eH.$0.numero.get_Id().indexOf("X")!=-1)&&(eI=eH.$0,true))?{$:1,$0:W.registrarTarjeta(eI)}:eH.$==0&&(!(eH.$0.numero.get_Id().indexOf("X")!=-1)&&(eJ=eH.$0,true))?{$:1,$0:W.registrarCuenta(eJ)}:null);return eG!=null&&eG.$==1?eD.Bind$4(eG.$0,function(eK){return eD.Bind$2(new bu({$:3,$0:eK}),function(){return eD.Return();});}):eD.Zero();}),eD.Delay(function(){w.refrescarFormasPago();return eD.Zero();}));}));})))):a.alert("Error not caught FormaDatos"));}))),(eu=R.CompleteHoles(eq.k,eq.h,[]),(ev=new O.New(eu[1],S.formacuentas(eu[0])),(eq.i=ev,ev)))).get_Doc();};w.msg=function(eh){var ei;ei=eh.authorizeIdR;return ei.$==0?(function(ej){return function(ek){return ej("Cuenta verificada: "+T.p$3(ek));};}(a.id))(ei.$0):ei.$0===""?"La cuenta aun no ha sido verificada":ei.$0;};w.refrescarFormasPago=function(){bp.iterpA(function(eh){l.formasPagoAliadoV().Set(eh);},W.obtenerFormasDePago());};w.fcta=function(){_1.$cctor();return _1.fcta;};w.ftar=function(){_1.$cctor();return _1.ftar;};x.consolidado=function(){var eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC;function eD(eS){return eS.nReferidos===0?"-":(((d$.Curried3(function(eT,eU,eV){return eT(a.String(eU)+"/"+a.String(eV));}))(a.id))(eS.nRefActivos))(eS.nReferidos);}function eE(eS){return eS.nDescendientes===0?"-":(((d$.Curried3(function(eT,eU,eV){return eT(a.String(eU)+"/"+a.String(eV));}))(a.id))(eS.nDescActivos))(eS.nDescendientes);}function eF(eS){return eS===0?"-":l.money(eS);}function eG(eS){var eT,eU,eV;eT=(eU=eS==null?null:(eV=eS.$0,ba.tryFind(function(eW){return E.Equals(eW.id,eV);},l.modeloV().Get().aliados)),eU==null?null:{$:1,$0:K.nombre(eU.$0.datosPersonales)});return eT==null?"-":eT.$0;}function eH(eS){var eT;return bv.New(K.nombre(eS.datosPersonales),(function(eU){return function(eV){return eU(_9.p(eV));};}(a.id))(eS.status),(eT=eS.influyente,eT==null?"":eT.$0),(function(eU){return function(eV){return eU(_9.p$1(eV));};}(a.id))(eS.tipo),eG(eS.idPadreO),(function(eU){return function(eV){return eU(bh.PadLeft(a.String(eV),9));};}(a.id))(eS.nivel),(function(eU){return function(eV){return eU(bh.PadLeft(by.toSafe(eV),9));};}(a.id))(eD(eS)),(function(eU){return function(eV){return eU(bh.PadLeft(by.toSafe(eV),9));};}(a.id))(eE(eS)),(function(eU){return function(eV){return eU(bh.PadLeft(by.toSafe(eV),9));};}(a.id))(eF(eS.comision)),bb["String.Right"]((function(eU){return function(eV){return eU(T.p$4(eV));};}(a.id))(eS.diaPago),2),bz.toYYYYMMDD("-",eS.fechaRegistro),(function(eU){return function(eV){return eU(by.toSafe(eV));};}(a.id))(eS.id.get_Id()));}function eI(eS){return[eS.nombre,eS.status,eS.influyente,eS.tipo,eS.referido,eS.nivel,eS.referidos,eS.descendientes,eS.comision,eS.diaPago,eS.desde,eS.Id];}function eJ(eS,eT,eU){return function(eV){var eW;eW=eV[0];return[eW===eS?1:eW<eS?eW+1:eW,eS===eW&&eS===1?!eV[1]:eV[1],eV[2]];};}function eK(eS){ei.Set(bv.New((function(eT){return eJ(eT[0],eT[1],eT[2]);}(eS))(ei.Get().nombre),(function(eT){return eJ(eT[0],eT[1],eT[2]);}(eS))(ei.Get().status),(function(eT){return eJ(eT[0],eT[1],eT[2]);}(eS))(ei.Get().influyente),(function(eT){return eJ(eT[0],eT[1],eT[2]);}(eS))(ei.Get().tipo),(function(eT){return eJ(eT[0],eT[1],eT[2]);}(eS))(ei.Get().referido),(function(eT){return eJ(eT[0],eT[1],eT[2]);}(eS))(ei.Get().nivel),(function(eT){return eJ(eT[0],eT[1],eT[2]);}(eS))(ei.Get().referidos),(function(eT){return eJ(eT[0],eT[1],eT[2]);}(eS))(ei.Get().descendientes),(function(eT){return eJ(eT[0],eT[1],eT[2]);}(eS))(ei.Get().comision),(function(eT){return eJ(eT[0],eT[1],eT[2]);}(eS))(ei.Get().diaPago),(function(eT){return eJ(eT[0],eT[1],eT[2]);}(eS))(ei.Get().desde),(function(eT){return eJ(eT[0],eT[1],eT[2]);}(eS))(ei.Get().Id)));}function eL(eS,eT){return eh.Set(P.map(function(eU){return E.Equals(eU.id,eS)?eT(eU):eU;},eh.Get()));}function eM(eS,eT){return eL(eS,function(eU){return J.New(eU.id,eU.idPadreO,eU.idForAuthorize,eU.influyente,eU.datosPersonales,eU.contactos,eU.identificacion,eU.isInternal,bx.tryParse(eT),eU.diaPago,eU.tipo,eU.fechaRegistro,eU.fechaStatus,eU.nReferidos,eU.nRefActivos,eU.nDescendientes,eU.nDescActivos,eU.comision,eU.nivel);});}function eN(eS,eT){return eL(eS,function(eU){return J.New(eU.id,eU.idPadreO,eU.idForAuthorize,bh.Trim(eT)===""?null:{$:1,$0:bh.Trim(eT)},eU.datosPersonales,eU.contactos,eU.identificacion,eU.isInternal,eU.status,eU.diaPago,eU.tipo,eU.fechaRegistro,eU.fechaStatus,eU.nReferidos,eU.nRefActivos,eU.nDescendientes,eU.nDescActivos,eU.comision,eU.nivel);});}function eO(eS,eT){var eU;eU=eT===""?null:{$:1,$0:new X({$:0,$0:eT})};return eL(eS,function(eV){return J.New(eV.id,eU,eV.idForAuthorize,eV.influyente,eV.datosPersonales,eV.contactos,eV.identificacion,eV.isInternal,eV.status,eV.diaPago,eV.tipo,eV.fechaRegistro,eV.fechaStatus,eV.nReferidos,eV.nRefActivos,eV.nDescendientes,eV.nDescActivos,eV.comision,eV.nivel);});}function eP(eS){return ba.tryFind(function(eT){return E.Equals(eT.id,eS);},l.modeloV().Get().aliados);}function eQ(){var eS;function eT(eU){a.alert(eU);}bp.iterA(function(eU){return eT(bu.summarized(eU));},a.ignore,(eS=bo.asyncResultM(),eS.Run(eS.Delay(function(){return eS.Combine$1(eS.For(eh.Get(),function(eU){var eV,eW;eV=eP(eU.id);return eV!=null&&eV.$==1?(eW=eV.$0,!E.Equals(eU.status,eW.status)||!E.Equals(eU.idPadreO,eW.idPadreO)||!E.Equals(eU.influyente,eW.influyente)?eS.Bind$4(W.ejecutarDataEventoNuevo({$:8,$0:[eU.id,eU.status,eU.idPadreO,eU.influyente]}),function(eX){return eS.Bind$2(new bu({$:3,$0:(function(eY){return function(eZ){return eY(T.p$2(eZ));};}(a.id))(eX)}),function(){return eS.Return();});}):eS.Zero()):eS.Zero();}),eS.Delay(function(){br.refrescarData(true);return eS.Zero();}));}))));}function eR(eS,eT){var eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3;return(eU=(eV=V.BindView(bw.crearOptions,bw.statuses().get_View()),(eW=new cv.New(o.Map(function(e4){return e4.influyente;},eT),(eX=new X({$:0,$0:eS}),function(e4){return eN(eX,e4);})),(eY=new cv.New(o.Map(function(e4){return e4.status;},eT),(eZ=new X({$:0,$0:eS}),function(e4){return eM(eZ,e4);})),(e0=new cv.New(o.Map(function(e4){return e4.referido;},eT),(e1=new X({$:0,$0:eS}),function(e4){return eO(e1,e4);})),Q.Make().WithHole({$:2,$0:"nombre",$1:o.Map(function(e4){return e4.nombre;},eT)}).WithHole({$:2,$0:"tipo",$1:o.Map(function(e4){return e4.tipo;},eT)}).WithHole({$:8,$0:"referido",$1:e0})).WithHole({$:8,$0:"status",$1:eY})).WithHole({$:8,$0:"influyente",$1:eW})).WithHole({$:0,$0:"statuses",$1:eV})).WithHole({$:2,$0:"nivel",$1:o.Map(function(e4){return e4.nivel;},eT)}).WithHole({$:2,$0:"referidos",$1:o.Map(function(e4){return e4.referidos;},eT)}).WithHole({$:2,$0:"descendientes",$1:o.Map(function(e4){return e4.descendientes;},eT)}).WithHole({$:2,$0:"comision",$1:o.Map(function(e4){return e4.comision;},eT)}).WithHole({$:2,$0:"diapago",$1:o.Map(function(e4){return e4.diaPago;},eT)}).WithHole({$:2,$0:"desde",$1:o.Map(function(e4){return e4.desde;},eT)}).WithHole({$:2,$0:"id",$1:o.Map(function(e4){return e4.Id;},eT)}),(e2=R.CompleteHoles(eU.k,eU.h,[["influyente",0],["status",0],["referido",0]]),(e3=new O.New(e2[1],S.filaconsolidado(e2[0])),(eU.i=e3,e3)))).get_Doc();}eh=h.Create$1([]);o.Sink(function(eS){eh.Set(eS);},o.Map(function(eS){return eS.aliados;},l.modeloV().get_View()));ei=h.Create$1(bv.New([2,true,function(eS){return eS.nombre.toUpperCase();}],[3,true,function(eS){return eS.status.toUpperCase();}],[4,false,function(eS){return eS.influyente.toUpperCase();}],[5,true,function(eS){return eS.tipo.toUpperCase();}],[6,true,function(eS){return eS.referido.toUpperCase();}],[7,true,function(eS){return eS.nivel.toUpperCase();}],[8,true,function(eS){return eS.referidos.toUpperCase();}],[1,false,function(eS){return eS.descendientes.toUpperCase();}],[9,true,function(eS){return eS.comision.toUpperCase();}],[10,true,function(eS){return eS.diaPago.toUpperCase();}],[11,true,function(eS){return eS.desde.toUpperCase();}],[12,true,function(eS){return eS.Id.toUpperCase();}]));ej=h.Create$1("");ek=V.BindView(function(eS){return bw.crearOptions2(ba.map(function(eT){return[K.nombre2(eT.datosPersonales),eT.id.get_Id()];},eS.aliados));},l.modeloV().get_View());return(el=(em=V.ConvertSeqBy(function(eS){return eS.Id;},function(eS){return function(eT){return eR(eS,eT);};},o.Map3(function(eS,eT,eU){var eV,eW,eX;function eY(e1,e2,e3){return e3;}function eZ(e1,e2,e3,e4){return bc.op_AmpGreater(function(e5,e6){return(e1(e5))(e6);},function(e5,e6){return(e2(e5))(e6);},e3,e4);}function e0(e1,e2,e3){return(e2?d$.Curried3(bc.asc):d$.Curried3(bc.desc))(e3);}eV=bh.Trim(eU).toUpperCase();eW=P.map(function(e1){return eY(e1[0],e1[1],e1[2]);},eI(eT));eX=P.reduce(function(e1,e2){return d$.Curried(eZ,2,[e1,e2]);},P.map(function(e1){return e0(e1[0],e1[1],e1[2]);},P.sortBy(function(e1){return a.id(e1[0],e1[1],e1[2]);},eI(eT))));return ba.sortWith(function(e1,e2){return(eX(e1))(e2);},ba.filter(function(e1){return eV===""||ba.exists(function(e2){return e2(e1).indexOf(eV)!=-1;},eW);},ba.map(eH,eS)));},o.Map(function(eS){return eS.aliados;},l.modeloV().get_View()),ei.get_View(),ej.get_View())),(en=(eo=(ep=(eq=(er=(es=(et=(eu=(ev=(ew=(ex=(ey=(ez=(eA=Q.Make(),eA.WithHole(R.EventQ2(eA.k,"salvar",function(){return eA.i;},function(){eQ();}))),ez.WithHole(R.EventQ2(ez.k,"cancelar",function(){return ez.i;},function(){eh.Set(l.modeloV().Get().aliados);}))).WithHole({$:2,$0:"changed",$1:o.Map2(function(eS,eT){return E.Equals(eS.aliados,eT)?"":"mui-btn--primary";},l.modeloV().get_View(),eh.get_View())}).WithHole({$:8,$0:"filtro",$1:ej}).WithHole({$:0,$0:"referidores",$1:ek}),ey.WithHole(R.EventQ2(ey.k,"sort_nombre",function(){return ey.i;},function(){eK(ei.Get().nombre);}))),ex.WithHole(R.EventQ2(ex.k,"sort_status",function(){return ex.i;},function(){eK(ei.Get().status);}))),ew.WithHole(R.EventQ2(ew.k,"sort_influyente",function(){return ew.i;},function(){eK(ei.Get().influyente);}))),ev.WithHole(R.EventQ2(ev.k,"sort_tipo",function(){return ev.i;},function(){eK(ei.Get().tipo);}))),eu.WithHole(R.EventQ2(eu.k,"sort_referido",function(){return eu.i;},function(){eK(ei.Get().referido);}))),et.WithHole(R.EventQ2(et.k,"sort_nivel",function(){return et.i;},function(){eK(ei.Get().nivel);}))),es.WithHole(R.EventQ2(es.k,"sort_referidos",function(){return es.i;},function(){eK(ei.Get().referidos);}))),er.WithHole(R.EventQ2(er.k,"sort_descendientes",function(){return er.i;},function(){eK(ei.Get().descendientes);}))),eq.WithHole(R.EventQ2(eq.k,"sort_comision",function(){return eq.i;},function(){eK(ei.Get().comision);}))),ep.WithHole(R.EventQ2(ep.k,"sort_diapago",function(){return ep.i;},function(){eK(ei.Get().diaPago);}))),eo.WithHole(R.EventQ2(eo.k,"sort_desde",function(){return eo.i;},function(){eK(ei.Get().desde);}))),en.WithHole(R.EventQ2(en.k,"sort_id",function(){return en.i;},function(){eK(ei.Get().Id);}))).WithHole({$:0,$0:"tbody",$1:em})),(eB=R.CompleteHoles(el.k,el.h,[["filtro",0]]),(eC=new O.New(eB[1],S.consolidado(eB[0])),(el.i=eC,eC)))).get_Doc();};y.comisiones=function(){var eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es;function et(ex,ey){return ey===""?ex:ey;}function eu(){var ex;cy.Start((ex=null,cy.Delay(function(){return cy.Bind(o.GetAsync(eh),function(ey){a.saveAs(new cB([bh.concat("\r\n",ba.map(function(ez){var eA,eB;eA=ez[0];eB=ez[1];return(((((((d$.Curried(function(eC,eD,eE,eF,eG,eH,eI){return eC(by.toSafe(eD)+","+by.toSafe(eE)+","+by.toSafe(eF)+","+by.toSafe(eG)+","+by.prettyPrint(eH)+","+by.prettyPrint(eI));},7))(a.id))("22"))(et("----------",eB.numero.get_Id())))(et("----------",eB.routing.get_Id())))((function(eC){return function(eD){return eC(a.String(eD)+".00");};}(a.id))(eA.comision)))("----------"))(eB.titular===""?K.nombre2(eA.datosPersonales):eB.titular);},ey))],{type:"text/plain;charset=utf-8"}),"pagos.csv");return cy.Zero();});})),null);}function ev(ex,ey){return ex.id;}function ew(ex,ey){var ez,eA,eB,eC,eD;ez=o.Map(function(eE){return eE[0];},ey);eA=o.Map(function(eE){return eE[1];},ey);return(eB=Q.Make().WithHole({$:1,$0:"codigo",$1:"22"}).WithHole({$:2,$0:"cuenta",$1:o.Map(function(eE){return et("----------",eE.numero.get_Id());},eA)}).WithHole({$:2,$0:"aba",$1:o.Map(function(eE){return et("----------",eE.routing.get_Id());},eA)}).WithHole({$:2,$0:"monto",$1:o.Map(function(eE){return(function(eF){return function(eG){return eF(a.String(eG)+".00");};}(a.id))(eE.comision);},ez)}).WithHole({$:1,$0:"identificacion",$1:"---------"}).WithHole({$:2,$0:"nombre",$1:o.Map2(function(eE,eF){return et(K.nombre2(eE.datosPersonales),eF.titular);},ez,eA)}),(eC=R.CompleteHoles(eB.k,eB.h,[]),(eD=new O.New(eC[1],S.filapago(eC[0])),(eB.i=eD,eD)))).get_Doc();}eh=o.MapAsync(function(ex){var ey,ez,eA;function eB(eC){return cy.Return(eC);}return cy.Bind((ey=bo.asyncResultM(),ey.Run(ey.Delay(function(){var eC;eC=ba.filter(function(eD){return eD.comision>0;},ex);return ey.Bind$4(W.obtenerFormasDePagoPara(P.ofSeq(eC)),function(eD){function eE(eG,eH){return E.Equals(eG.id,eH[0].id)?{$:1,$0:[eG,eH[1]]}:null;}function eF(eG,eH){var eI,eJ;return[eG,(eI=ba.tryPick(function(eK){var eL;eL=eK.cuentaPago;return eL.$==0?{$:1,$0:eL.$0}:null;},eH),(eJ=I.ctaVacio(),eI==null?eJ:eI.$0))];}return ey.Return(ba.choose(function(eG){return eE(eG[0],eG[1]);},ba.zip(eC,ba.map(function(eG){return eF(eG[0],eG[1]);},eD))));});}))),(ez=(eA=[],function(eC){return bF.defaultValue(eA,eC);}),function(eC){return eB(ez(eC));}));},o.Map(function(ex){return ex.aliados;},l.modeloV().get_View()));return(ei=(ej=bA.ofArray([(ek=Q.Make().WithHole({$:2,$0:"codigo",$1:o.Map(function(ex){return(function(ey){return function(ez){return ey(a.String(ez));};}(a.id))(ba.length(ex));},eh)}).WithHole({$:1,$0:"cuenta",$1:""}).WithHole({$:1,$0:"aba",$1:""}).WithHole({$:2,$0:"monto",$1:o.Map(function(ex){function ey(ez,eA){return ez.comision;}return(function(ez){return function(eA){return ez(a.String(eA)+".00");};}(a.id))(ba.sumBy(function(ez){return ey(ez[0],ez[1]);},ex));},eh)}).WithHole({$:1,$0:"identificacion",$1:""}).WithHole({$:1,$0:"nombre",$1:""}),(el=R.CompleteHoles(ek.k,ek.h,[]),(em=new O.New(el[1],S.filapago(el[0])),(ek.i=em,em)))).get_Doc(),(en=Q.Make().WithHole({$:1,$0:"codigo",$1:""}).WithHole({$:1,$0:"cuenta",$1:""}).WithHole({$:1,$0:"aba",$1:""}).WithHole({$:1,$0:"monto",$1:"--------------------"}).WithHole({$:1,$0:"identificacion",$1:""}).WithHole({$:1,$0:"nombre",$1:""}),(eo=R.CompleteHoles(en.k,en.h,[]),(ep=new O.New(eo[1],S.filapago(eo[0])),(en.i=ep,ep)))).get_Doc(),V.ConvertSeqBy(function(ex){return ev(ex[0],ex[1]);},function(ex){return function(ey){return ew(ex,ey);};},eh)]),(eq=Q.Make(),eq.WithHole(R.EventQ2(eq.k,"exportar",function(){return eq.i;},function(){eu();}))).WithHole({$:0,$0:"tbody",$1:V.Concat(ej)})),(er=R.CompleteHoles(ei.k,ei.h,[]),(es=new O.New(er[1],S.tablapagos(er[0])),(ei.i=es,es)))).get_Doc();};z.listaDocs=function(){var eh,ei,ej,ek,el;function em(en,eo){var ep,eq,er,es;return(ep=(eq=o.Map(function(et){return et.id.get_Id();},l.aliadoW()),Q.Make().WithHole({$:2,$0:"nombre",$1:eo}).WithHole({$:2,$0:"idaliado",$1:eq})),(er=R.CompleteHoles(ep.k,ep.h,[]),(es=new O.New(er[1],S.filadocs(er[0])),(ep.i=es,es)))).get_Doc();}z.refrescarListaDocs();return(eh=(ei=(ej=V.ConvertSeqBy(a.id,function(en){return function(eo){return em(en,eo);};},z.docsV().get_View()),Q.Make().WithHole({$:0,$0:"tbody",$1:ej})),ei.WithHole(R.EventQ2(ei.k,"subir",function(){return ei.i;},function(en){var eo;eo=o.TryGet(l.aliadoW());eo==null?void 0:z.subir(en.Event,eo.$0.id.get_Id());}))),(ek=R.CompleteHoles(eh.k,eh.h,[]),(el=new O.New(ek[1],S.subirdocumentos(ek[0])),(eh.i=el,el)))).get_Doc();};z.refrescarListaDocs=function(){bp.iterpA(function(eh){z.docsV().Set(eh);},W.obtenerListaDocs());};z.docsV=function(){_1.$cctor();return _1.docsV;};z.subir=function(eh,ei){var ej,ek,el,em,en,eo,ep,eq,er,es;eh.preventDefault();en=a.jQuery("#SubirDocumentos");eo=new a.FormData();ep=en.serializeArray();for(eq=0,er=ep.length-1;eq<=er;eq++){es=P.get(ep,eq);eo.append(es.name,es.value);}ek=en.children("input[type=file]").first().get(0).files.item(0);el=ek.name;eo.append("file",ek);eb.ajax((em={},em.type="POST",em.url="/api/subir/"+ei+"/"+el,em.data=eo,em.contentType=false,em.processData=false,em.success=z.uploaded(),em));};z.uploaded=function(){_1.$cctor();return _1.uploaded;};D.GetFields=function(eh){var ei,ej;ei=[];for(var ek in eh)ei.push([ek,eh[ek]]);return ei;};D.GetFieldValues=function(eh){var ei,ej;ei=[];for(var ek in eh)ei.push(eh[ek]);return ei;};E.Equals=function(eh,ei){var ej,ek,el,em;if(eh===ei)return true;else{ej=typeof eh;if(ej=="object"){if(eh===null||eh===void 0||ei===null||ei===void 0)return false;else if("Equals"in eh)return eh.Equals(ei);else if(eh instanceof a.Array&&ei instanceof a.Array)return E.arrayEquals(eh,ei);else if(eh instanceof a.Date&&ei instanceof a.Date)return E.dateEquals(eh,ei);else{ek=[true];for(var en in eh)if(function(eo){ek[0]=!eh.hasOwnProperty(eo)||ei.hasOwnProperty(eo)&&E.Equals(eh[eo],ei[eo]);return!ek[0];}(en))break;if(ek[0]){for(var eo in ei)if(function(ep){ek[0]=!ei.hasOwnProperty(ep)||eh.hasOwnProperty(ep);return!ek[0];}(eo))break;}return ek[0];}}else return ej=="function"&&("$Func"in eh?eh.$Func===ei.$Func&&eh.$Target===ei.$Target:"$Invokes"in eh&&"$Invokes"in ei&&E.arrayEquals(eh.$Invokes,ei.$Invokes));}};E.arrayEquals=function(eh,ei){var ej,ek;if(P.length(eh)===P.length(ei)){ej=true;ek=0;while(ej&&ek<P.length(eh)){!E.Equals(P.get(eh,ek),P.get(ei,ek))?ej=false:void 0;ek=ek+1;}return ej;}else return false;};E.dateEquals=function(eh,ei){return eh.getTime()===ei.getTime();};E.Compare=function(eh,ei){var ej,ek,el,em,en,eo;if(eh===ei)return 0;else{ek=typeof eh;switch(ek=="function"?1:ek=="boolean"?2:ek=="number"?2:ek=="string"?2:ek=="object"?3:0){case 0:return typeof ei=="undefined"?0:-1;case 1:return n.FailWith("Cannot compare function values.");case 2:return eh<ei?-1:1;case 3:if(eh===null)el=-1;else if(ei===null)el=1;else if("CompareTo"in eh)el=eh.CompareTo(ei);else if("CompareTo0"in eh)el=eh.CompareTo0(ei);else if(eh instanceof a.Array&&ei instanceof a.Array)el=E.compareArrays(eh,ei);else if(eh instanceof a.Date&&ei instanceof a.Date)el=E.compareDates(eh,ei);else{em=[0];for(var ep in eh)if(function(eq){return!eh.hasOwnProperty(eq)?false:!ei.hasOwnProperty(eq)?(em[0]=1,true):(em[0]=E.Compare(eh[eq],ei[eq]),em[0]!==0);}(ep))break;if(em[0]===0){for(var eq in ei)if(function(er){return!ei.hasOwnProperty(er)?false:!eh.hasOwnProperty(er)&&(em[0]=-1,true);}(eq))break;}el=em[0];}return el;}}};E.compareArrays=function(eh,ei){var ej,ek;if(P.length(eh)<P.length(ei))return -1;else if(P.length(eh)>P.length(ei))return 1;else{ej=0;ek=0;while(ej===0&&ek<P.length(eh)){ej=E.Compare(P.get(eh,ek),P.get(ei,ek));ek=ek+1;}return ej;}};E.compareDates=function(eh,ei){return E.Compare(eh.getTime(),ei.getTime());};E.Hash=function(eh){var ei;ei=typeof eh;return ei=="function"?0:ei=="boolean"?eh?1:0:ei=="number"?eh:ei=="string"?E.hashString(eh):ei=="object"?eh==null?0:eh instanceof a.Array?E.hashArray(eh):E.hashObject(eh):0;};E.hashString=function(eh){var ei,ej,ek;if(eh===null)return 0;else{ei=5381;for(ej=0,ek=eh.length-1;ej<=ek;ej++)ei=E.hashMix(ei,eh[ej].charCodeAt());return ei;}};E.hashArray=function(eh){var ei,ej,ek;ei=-34948909;for(ej=0,ek=P.length(eh)-1;ej<=ek;ej++)ei=E.hashMix(ei,E.Hash(P.get(eh,ej)));return ei;};E.hashObject=function(eh){var ei,ej;if("GetHashCode"in eh)return eh.GetHashCode();else{ei=[0];for(var ek in eh)if(function(el){ei[0]=E.hashMix(E.hashMix(ei[0],E.hashString(el)),E.Hash(eh[el]));return false;}(ek))break;return ei[0];}};E.hashMix=function(eh,ei){return(eh<<5)+eh+ei;};F.newLyt=function(eh,ei){return bJ.New(eh,h.Create$1(ei));};F.addLayout=function(eh){o.Sink(function(ei){var ej;ej=F.createEntries(eh.lytName,ei);j.addPlugIn(k.New(eh.lytName,P.ofSeq(ba.delay(function(){return ba.append([j.newVar("Layout",eh.lytDefinition)],ba.delay(function(){return F.getVarEntries(ej);}));})),[],P.ofSeq(ba.delay(function(){return ba.append(F.getDocEntries(ej),ba.delay(function(){var ek;return ba.append([j.newDocF("InputFile",{$:4,$0:(ek=eh.lytName,d$.Curried(F.inputFile,4,[ek])),$1:"attrs",$2:"Label",$3:"Action",$4:"[Doc]"})],ba.delay(function(){var el;return ba.append([j.newDocF("InputLabel",{$:3,$0:(el=eh.lytName,d$.Curried(F.inputLabel,3,[el])),$1:"attrs",$2:"Label",$3:"Var"})],ba.delay(function(){return[j.newDocF("none",{$:1,$0:F.none,$1:"x"})];}));}));}));})),[],[]));j.mainDocV().Set(j.mainDocV().Get());},eh.lytDefinition.get_View());};F.createEntries=function(eh,ei){return F.processLines(function(ej){return F.createEntryO(eh,ej);},bZ.splitByChar("\n",ei));};F.getVarEntries=function(eh){function ei(ej){return ej[1];}return ba.map(function(ej){return ba.last(ei(ej));},ba.groupBy(function(ej){return ej.varName;},ba.choose(function(ej){return ej.$==0?{$:1,$0:ej.$0}:null;},eh)));};F.getDocEntries=function(eh){function ei(ej){return ej[1];}return ba.map(function(ej){return ba.last(ei(ej));},ba.groupBy(function(ej){return ej.docName;},ba.choose(function(ej){return ej.$==2?{$:1,$0:ej.$0}:null;},eh)));};F.inputFile=function(eh,ei,ej,ek,el){var em,en,eo,ep;em=(en=(eo=((F.splitName())(eh))(ek),j.tryGetAct(eo[0],eo[1])),en==null?null:{$:1,$0:(ep=en.$0,V.Element("div",F.getAttrs(eh,ei,true),[V.Element("div",[cQ.Create("class","input-group")],[V.Element("span",[cQ.Create("class","input-group-btn")],[V.Element("label",[cQ.Create("class","btn")],[F.getText(eh,ej,true),V.Element("input",[cQ.Create("class","form-control"),cQ.Create("type","file"),cC.Style("display","none"),cQ.HandlerImpl("click",function(eq){return function(){eq.value="";};}),cQ.HandlerImpl("change",function(eq){return function(){return j.callFunction(eq,null,ep.actFunction);};})],[])])]),el!==""?F.singleDoc(eh,bA.ofArray([[el,false]])):V.get_Empty()])]))});return em==null?F.errDoc((function(eq){return function(er){return eq("Action not found "+by.toSafe(er));};}(a.id))(ek)):em.$0;};F.inputLabel=function(eh,ei,ej,ek){var el,em,en;el=(em=(en=((F.splitName())(eh))(ek),j.tryGetVar(en[0],en[1])),em==null?null:{$:1,$0:V.Element("div",F.getAttrs(eh,ei,true),[V.Element("div",[cQ.Create("class","input-group")],[V.Element("span",[cQ.Create("class","input-group-addon")],[F.getText(eh,ej,true)]),V.Input([cQ.Create("class","form-control")],em.$0.varVar)])])});return el==null?F.errDoc((function(eo){return function(ep){return eo("Var not found "+by.toSafe(ep));};}(a.id))(ek)):el.$0;};F.none=function(eh){return V.Element("span",[],[]);};F.turnToView=function(eh){return V.EmbedView(o.Map(eh,j.mainDocV().get_View()));};F.splitName=function(){bK.$cctor();return bK.splitName;};F.getDocFinal=function(eh,ei){var ej;ej=F.getDocF(eh,ei);return ej[1].$==0?ej[0]:F.errDoc((((d$.Curried3(function(ek,el,em){return ek("Too many parameters "+cH.p(el)+" "+by.printList(function(en){return"("+by.prettyPrint(en[0])+", "+by.prettyPrint(en[1])+")";},em));}))(a.id))(ei))(eh));};F.errDoc=function(eh){return V.Element("div",[],[V.TextNode(eh)]);};F.processLines=function(eh,ei){function ej(ek){var el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey;el=ba.tryHead(ek);return el!=null&&el.$==1?(em=el.$0,(en=F.splitTokens(em),en.$==1&&(ep=(eq=en.$0,F.Identifier(eq[0],eq[1])),ep!=null&&ep.$==1&&(en.$1.$==1&&((er=en.$1.$0,F.Vertical(er[0],er[1])).$==2&&(en.$1.$1.$==0&&(eo=ep.$0,true)))))?(es=F.getExtraLines(function(ez){return bh.StartsWith(bh.Trim(ez),"|");},ek),ej((c8.createLayoutDefinitions(eo,c8.extractNodes(es[0])))[1].concat(es[1]))):en.$==0?ej(b0.array(ek,{$:1,$0:1},null)):(et=F.getExtraLines(function(ez){return bh.StartsWith(bh.Trim(ez),":");},ek),(eu=et[1],(ev=et[0],P.length(ev)>0?((function(ez){return function(eA){return ez("l = ;"+by.toSafe(eA)+";");};}(function(ez){ec.log(ez);}))(em),ew=F.createLines(ba.nth(0,bh.SplitChars(em,[" "],1)),1,[],[],1,ev),ex=ew[0],ey=ew[1],ej(P.ofSeq(ba.delay(function(){return ba.append([em+" "+bh.concat(" ",ex)],ba.delay(function(){return ba.append(ey,ba.delay(function(){return eu;}));}));})))):P.ofSeq(ba.delay(function(){var ez;return ba.append((ez=eh(em),ez!=null&&ez.$==1?[ez.$0]:[]),ba.delay(function(){return ej(eu);}));}))))))):[];}return ej(ei);};F.createEntryO=function(eh,ei){var ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4,e5,e6,e7,e8,e9,e_,e$,fa,fb,fc,fd,fe,ff,fg,fh,fi,fj,fk;try{ej=F.splitTokens(ei);return ej.$==1&&(el=(em=ej.$0,F.Identifier(em[0],em[1])),el!=null&&el.$==1&&(ej.$1.$==1&&((en=ej.$1.$0,F.Vertical(en[0],en[1])).$==0&&(ej.$1.$1.$==1&&(eo=(ep=ej.$1.$1.$0,F.Measures$1(ep[0],ep[1])),eo!=null&&eo.$==1&&(ek=[ej.$1.$1.$1,eo.$0,el.$0],true))))))?(eq=ek[2],F.entryDoc(eq,(F.createSplitterM())([eh,eq,true,ek[1],ek[0]]))):ej.$==1&&(es=(et=ej.$0,F.Identifier(et[0],et[1])),es!=null&&es.$==1&&(ej.$1.$==1&&((eu=ej.$1.$0,F.Vertical(eu[0],eu[1])).$==1&&(ej.$1.$1.$==1&&(ev=(ew=ej.$1.$1.$0,F.Measures$1(ew[0],ew[1])),ev!=null&&ev.$==1&&(er=[ej.$1.$1.$1,ev.$0,es.$0],true))))))?(ex=er[2],F.entryDoc(ex,(F.createSplitterM())([eh,ex,false,er[1],er[0]]))):ej.$==1&&(ez=(eA=ej.$0,F.Identifier(eA[0],eA[1])),ez!=null&&ez.$==1&&(ej.$1.$==1&&((eB=ej.$1.$0,F.Var(eB[0],eB[1])).$==2&&(ej.$1.$1.$==1&&(eC=(eD=ej.$1.$1.$0,F.Identifier(eD[0],eD[1])),eC!=null&&eC.$==1&&(ej.$1.$1.$1.$==1&&(ej.$1.$1.$1.$1.$==1&&(ej.$1.$1.$1.$1.$1.$==0&&(ey=[eC.$0,ej.$1.$1.$1.$0,ez.$0,ej.$1.$1.$1.$1.$0],true)))))))))?(eE=ey[2],F.entryDoc(eE,(F.createButtonM())([eh,eE,ey[0],ey[1],ey[3]]))):ej.$==1&&(eG=(eH=ej.$0,F.Identifier(eH[0],eH[1])),eG!=null&&eG.$==1&&(ej.$1.$==1&&((eI=ej.$1.$0,F.Var(eI[0],eI[1])).$==3&&(ej.$1.$1.$==1&&(eJ=(eK=ej.$1.$1.$0,F.Identifier(eK[0],eK[1])),eJ!=null&&eJ.$==1&&(ej.$1.$1.$1.$==1&&(ej.$1.$1.$1.$1.$==0&&(eF=[ej.$1.$1.$1.$0,eG.$0,eJ.$0],true))))))))?(eL=eF[1],F.entryDoc(eL,(F.createInputM())([eh,eL,eF[2],eF[0]]))):ej.$==1&&(eN=(eO=ej.$0,F.Identifier(eO[0],eO[1])),eN!=null&&eN.$==1&&(ej.$1.$==1&&((eP=ej.$1.$0,F.Var(eP[0],eP[1])).$==4&&(ej.$1.$1.$==1&&(eQ=(eR=ej.$1.$1.$0,F.Identifier(eR[0],eR[1])),eQ!=null&&eQ.$==1&&(ej.$1.$1.$1.$==1&&(ej.$1.$1.$1.$1.$==0&&(eM=[ej.$1.$1.$1.$0,eN.$0,eQ.$0],true))))))))?(eS=eM[1],F.entryDoc(eS,(F.createTextAreaM())([eh,eS,eM[2],eM[0]]))):ej.$==1&&(eU=(eV=ej.$0,F.Identifier(eV[0],eV[1])),eU!=null&&eU.$==1&&(ej.$1.$==1&&((eW=ej.$1.$0,F.Var(eW[0],eW[1])).$==0&&(ej.$1.$1.$==1&&(ej.$1.$1.$1.$==0&&(eT=[eU.$0,ej.$1.$1.$0],true))))))?(eX=eT[0],F.entryVar(eX,(F.createVarM())([eh,eX,eT[1][0]]))):ej.$==1&&(eZ=(e0=ej.$0,F.Identifier(e0[0],e0[1])),eZ!=null&&eZ.$==1&&(ej.$1.$==1&&((e1=ej.$1.$0,F.Var(e1[0],e1[1])).$==1&&(ej.$1.$1.$==1&&(eY=[ej.$1.$1.$0,eZ.$0,ej.$1.$1.$1],true)))))?(e2=eY[1],F.entryDoc(e2,(F.createDocM())([eh,e2,eY[0][0],eY[2]]))):ej.$==1&&(e4=(e5=ej.$0,F.Identifier(e5[0],e5[1])),e4!=null&&e4.$==1&&(ej.$1.$==1&&((e6=ej.$1.$0,F.Vertical(e6[0],e6[1])).$==4&&(ej.$1.$1.$==1&&(ej.$1.$1.$1.$==1&&(e3=[ej.$1.$1.$1.$0,ej.$1.$1.$1.$1,e4.$0,ej.$1.$1.$0],true))))))?(e7=e3[2],F.entryDoc(e7,(F.createTemplateM())([eh,e7,e3[3],e3[0],e3[1]]))):ej.$==1&&(e9=(e_=ej.$0,F.Identifier(e_[0],e_[1])),e9!=null&&e9.$==1&&(ej.$1.$==1&&((e$=ej.$1.$0,F.Concat(e$[0],e$[1])).$==0&&(e8=[ej.$1.$1,e9.$0],true))))?(fa=e8[1],F.entryDoc(fa,(F.createConcatM())([eh,fa,e8[0]]))):ej.$==1&&(fc=(fd=ej.$0,F.Identifier(fd[0],fd[1])),fc!=null&&fc.$==1&&(ej.$1.$==1&&((fe=ej.$1.$0,F.Vertical(fe[0],fe[1])).$==3&&(ej.$1.$1.$==1&&(ej.$1.$1.$1.$==1&&(ej.$1.$1.$1.$1.$==1&&(fb=[ej.$1.$1.$1.$1.$0,ej.$1.$1.$0,ej.$1.$1.$1.$1.$1,fc.$0,ej.$1.$1.$1.$0],true)))))))?null:ej.$==1&&(fg=(fh=ej.$0,F.Identifier(fh[0],fh[1])),fg!=null&&fg.$==1&&(ej.$1.$==1&&(fi=(fj=ej.$1.$0,F.Vertical(fj[0],fj[1])),fi.$==5&&(ej.$1.$1.$==1&&(ff=[ej.$1.$1.$0,ej.$1.$1.$1,fi.$0,fg.$0],true)))))?(fk=ff[3],F.entryDoc(fk,(F.createElementM())([eh,fk,ff[2],ff[0],ff[1]]))):null;}catch(fl){((function(fm){return function(fn){return fm(by.prettyPrint(fn));};}(function(fm){ec.log(fm);}))(fl));return null;}};F.getAttrs=function(eh,ei,ej){var ek;ek=[ei,ej];return bA.ofSeq(ba.delay(function(){return ba.append(ba.choose(function(el){var em,en,eo,ep,eq,er;return!E.Equals(el,null)&&el.length===2&&(en=P.get(el,1),bh.Trim(P.get(el,0))!==""&&bh.Trim(en)!=="")?(eo=P.get(el,1),(ep=P.get(el,0),{$:1,$0:(eq=F.getTextData(eh,bh.Trim(eo)),eq.$==1?cC.Dynamic(bh.Trim(ep),eq.$0):eq.$==2?(er=eq.$0,cC.Handler(bh.Trim(ep),function(es){return function(et){return j.callFunction(es,et,er.actFunction);};})):cQ.Create(bh.Trim(ep),bh.Trim(eq.$0)))})):null;},ba.map(function(el){return bZ.splitByChar("=",el);},bZ.splitByChar(";",ek[0]))),ba.delay(function(){return ba.choose(function(el){var em,en,eo,ep,eq;return!E.Equals(el,null)&&el.length===2&&(en=P.get(el,1),bh.Trim(P.get(el,0))!==""&&bh.Trim(en)!=="")?(eo=P.get(el,1),(ep=P.get(el,0),{$:1,$0:(eq=F.getTextData(eh,bh.Trim(eo)),eq.$==1?cC.DynamicStyle(bh.Trim(ep),eq.$0):eq.$==2?cC.Style(bh.Trim(ep),(function(er){return function(es){return er("${"+by.toSafe(es)+"}");};}(a.id))(eq.$0.actName)):cC.Style(bh.Trim(ep),bh.Trim(eq.$0)))})):null;},ba.map(function(el){return bZ.splitByChar(":",el);},bZ.splitByChar(";",ek[0])));}));}));};F.getText=function(eh,ei,ej){var ek,el,em,en,eo,ep,eq,er,es;ek=F.Identifier(ei,ej);return ek!=null&&ek.$==1?(el=ek.$0,(em=((F.splitName())(eh))(el),(en=em[0],(eo=em[1],(ep=(eq=j.tryGetViw(en,eo),eq==null?null:{$:1,$0:V.TextView(eq.$0.viwView)}),ep==null?(er=(es=j.tryGetVar(en,eo),es==null?null:{$:1,$0:V.TextView(es.$0.varVar.get_View())}),er==null?V.TextNode(el):er.$0):ep.$0))))):V.TextNode(ei);};F.singleDoc=function(eh,ei){return V.EmbedView(o.Map(function(ej){var ek;return ej.$==1&&(ej.$1.$==0&&(ek=ej.$0,true))?ek:F.errDoc((function(el){return function(em){return el("expected exactly 1 element "+by.printList(function(en){return"("+by.prettyPrint(en[0])+", "+by.prettyPrint(en[1])+")";},em));};}(a.id))(ei));},o.Map(function(){return F.getDocs(eh,ei);},j.mainDocV().get_View())));};F.createSplitter=function(eh,ei,ej,ek,el){var em;em=F.pairOfDocs(eh,el);return ek.$==1?F.variableSplitter(ej,ek.$0,ek.$1,ek.$2,em[0],em[1]):F.fixedSplitter(ej,ek.$0,ek.$1,em[0],em[1]);};F.createButton=function(eh,ei,ej,ek,el){return F.turnToView(function(){var em,en,eo,ep,eq;function er(es,et){return j.callFunction(null,null,es.actFunction);}em=(en=(eo=(ep=((F.splitName())(eh))(ej),j.tryGetAct(ep[0],ep[1])),eo==null?null:{$:1,$0:(eq=eo.$0,function(es){return er(eq,es);})}),en==null?a.ignore:en.$0);return V.Button(el[0],F.getAttrs(eh,ek[0],ek[1]),em);});};F.createInput=function(eh,ei,ej,ek){return F.turnToView(function(){var el,em,en,eo,ep;el=(em=(en=((F.splitName())(eh))(ej),j.tryGetVoV(en[0],en[1])),(eo=(ep=F.getAttrs(eh,ek[0],ek[1]),function(eq){return V.Input(ep,eq);}),em==null?null:{$:1,$0:eo(em.$0)}));return el==null?F.errDoc((function(eq){return function(er){return eq("Missing var: "+by.toSafe(er));};}(a.id))(ej)):el.$0;});};F.createTextArea=function(eh,ei,ej,ek){return F.turnToView(function(){var el,em,en,eo,ep;el=(em=(en=((F.splitName())(eh))(ej),j.tryGetVoV(en[0],en[1])),(eo=(ep=F.getAttrs(eh,ek[0],ek[1]),function(eq){return V.InputArea(ep,eq);}),em==null?null:{$:1,$0:eo(em.$0)}));return el==null?F.errDoc((function(eq){return function(er){return eq("Missing var: "+by.toSafe(er));};}(a.id))(ej)):el.$0;});};F.createElement=function(eh,ei,ej,ek,el){var em;em=[F.turnToView(function(){return V.Concat(F.getDocs(eh,el));})];return V.Element(ej,F.getAttrs(eh,ek[0],ek[1]),em);};F.createDoc=function(eh,ei,ej,ek){return F.turnToView(function(){var el,em,en;el=(em=(en=((F.splitName())(eh))(ej),j.tryGetDoc(en[0],en[1])),em==null?null:{$:1,$0:F.getDocFinal(ek,em.$0)});return el==null?F.errDoc((function(eo){return function(ep){return eo("Missing doc: "+by.toSafe(ep));};}(a.id))(ej)):el.$0;});};F.createTemplate=function(eh,ei,ej,ek,el){return F.turnToView(function(){var em,en,eo,ep,eq,er;eo=F.getAttrs(eh,ek[0],ek[1]);cT.LoadLocalTemplates("local");function es(eu,ev){var ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH;ew=F.Identifier(ev[0],ev[1]);return ew!=null&&ew.$==1?(ex=ew.$0,ey=eu[0],ez=(eA=(eB=(eC=((F.splitName())(eh))(ex),j.tryGetDoc(eC[0],eC[1])),eB==null?null:{$:1,$0:{$:0,$0:ey,$1:(F.getDocF(cc.Empty,eB.$0))[0]}}),eA==null?(eD=(eE=((F.splitName())(eh))(ex),j.tryGetVar(eE[0],eE[1])),eD==null?null:{$:1,$0:{$:8,$0:ey,$1:eD.$0.varVar}}):eA),ez==null?{$:0,$0:ey,$1:F.errDoc((function(eI){return function(eJ){return eI("Missing element: "+by.toSafe(eJ));};}(a.id))(ex))}:ez.$0):(eF=eu[0],eG=F.getTextData(eh,ev[0]),eG.$==1?{$:2,$0:eF,$1:eG.$0}:eG.$==2?(eH=eG.$0,{$:4,$0:eF,$1:function(eI){return function(eJ){return j.callFunction(eI,eJ,eH.actFunction);};}}):{$:1,$0:eF,$1:eG.$0});}function et(eu,ev){return eu%2===0;}try{en={$:1,$0:(ep=(eq=ba.map(function(eu){return es(eu[0],eu[1]);},ba.map(function(eu){return eu[1];},ba.filter(function(eu){return et(eu[0],eu[1]);},ba.indexed(ba.pairwise(el))))),(ba.isEmpty(eo)?a.id:(er=[{$:3,$0:"attrs",$1:cQ.Concat(eo)}],function(eu){return ba.append(er,eu);}))(eq)),cT.NamedTemplate("local",{$:1,$0:ej[0].toLowerCase()},ep))};}catch(eu){en=null;}return en==null?F.errDoc((function(ev){return function(ew){return ev("Missing template: "+by.toSafe(ew));};}(a.id))(ej[0])):en.$0;});};F.createConcat=function(eh,ei,ej){return F.turnToView(function(){return V.Concat(F.getDocs(eh,ej));});};F.createVar=function(eh,ei,ej){return h.Create$1(ej);};F.addNewLayout=function(eh,ei){var ej,ek;F.addLayout((ej=(ek=!E.Equals(ei,null)?ei:"\r\n            split horizontal 0-50-100 AppFramework.AppFwkClient Hello\r\n            Hello h1 \"color:blue; class=btn-primary\" \"How are you today?\" Ask\r\n            Ask Doc InputLabel \"placeholder=Type you answer here...\" \"Answer:\" AppFramework.mainDocV  \r\n            ",(bZ.unindentStr())(ek)),F.newLyt(!E.Equals(ei,null)?eh:"Lyt_"+bh.Replace(a.String(bt.NewGuid()),"-",""),ej)));};F.getDocF=function(eh,ei){var ej,ek;ek=ei.docDoc;switch(ek.$==1?eh.$==1?(ej=[ek.$0,eh.$0[0],eh.$1],1):6:ek.$==2?eh.$==1?eh.$1.$==1?(ej=[ek.$0,eh.$0[0],eh.$1.$0[0],eh.$1.$1],2):6:6:ek.$==3?eh.$==1?eh.$1.$==1?eh.$1.$1.$==1?(ej=[ek.$0,eh.$0[0],eh.$1.$0[0],eh.$1.$1.$0[0],eh.$1.$1.$1],3):6:6:6:ek.$==4?eh.$==1?eh.$1.$==1?eh.$1.$1.$==1?eh.$1.$1.$1.$==1?(ej=[ek.$0,eh.$0[0],eh.$1.$0[0],eh.$1.$1.$0[0],eh.$1.$1.$1.$0[0],eh.$1.$1.$1.$1],4):6:6:6:6:ek.$==5?eh.$==1?eh.$1.$==1?eh.$1.$1.$==1?eh.$1.$1.$1.$==1?eh.$1.$1.$1.$1.$==1?(ej=[ek.$0,eh.$0[0],eh.$1.$0[0],eh.$1.$1.$0[0],eh.$1.$1.$1.$0[0],eh.$1.$1.$1.$1.$0[0],eh.$1.$1.$1.$1.$1],5):6:6:6:6:6:(ej=[ek.$0,eh],0)){case 0:return[ej[0].f(),ej[1]];case 1:return[ej[0](ej[1]),ej[2]];case 2:return[(ej[0](ej[1]))(ej[2]),ej[3]];case 3:return[((ej[0](ej[1]))(ej[2]))(ej[3]),ej[4]];case 4:return[(((ej[0](ej[1]))(ej[2]))(ej[3]))(ej[4]),ej[5]];case 5:return[((((ej[0](ej[1]))(ej[2]))(ej[3]))(ej[4]))(ej[5]),ej[6]];case 6:return[V.Element("div",[],[V.TextNode((((d$.Curried3(function(el,em,en){return el("Parameters do not coincide with definition "+cH.p(em)+" - "+by.printList(function(eo){return"("+by.prettyPrint(eo[0])+", "+by.prettyPrint(eo[1])+")";},en));}))(a.id))(ei))(eh))]),cc.Empty];}};F.splitTokens=function(eh){return bA.ofSeq(ba.collect(a.id,ba.mapi(function(ei,ej){var ek;return ei%2===1?[[ej,true]]:(ek=bh.Trim(ej),ek===""?[]:P.map(function(el){return[el,false];},bh.SplitChars(ek,[" "],1)));},bZ.splitByChar("\"",eh))));};F.Identifier=function(eh,ei){var ej,ek,el;return(ek=i.REGEX$1("^[$a-zA-Z_][0-9a-zA-Z_\\.\\-$]*$","",eh),ek!=null&&ek.$==1&&((el=ek.$0,!E.Equals(el,null)&&el.length===1)&&(ei?false:(ej=P.get(ek.$0,0),true))))?{$:1,$0:ej}:null;};F.Vertical=function(eh,ei){var ej,ek,el,em,en,eo;return(ei?false:eh==="vertical")?{$:0,$0:null}:(ei?false:eh==="horizontal")?{$:1,$0:null}:(ei?false:eh==="layout")?{$:2,$0:null}:(ei?false:eh==="grid")?{$:3,$0:null}:(ei?false:eh==="template")?{$:4,$0:null}:(eo=F.Identifier(eh,ei),eo!=null&&eo.$==1?{$:5,$0:eo.$0}:{$:6,$0:null});};F.getExtraLines=function(eh,ei){var ej,ek,el,em;ej=(ek=(el=ba.tryFindIndex(function(en){return bh.Trim(en)!==""&&!eh(en);},ba.skip(1,ei)),el==null?null:{$:1,$0:1+el.$0}),(em=P.length(ei),ek==null?em:ek.$0));return[b0.array(ei,{$:1,$0:1},{$:1,$0:ej-1}),b0.array(ei,{$:1,$0:ej},null)];};F.createLines=function(eh,ei,ej,ek,el,em){var en,eo,ep,eq,er,es,et,eu,ev,ew;en=bh.replicate(ei,":");eo=":"+en;ep=ba.tryHead(em);return ep!=null&&ep.$==1?(eq=bZ.StartsWith(en,bh.Trim(ep.$0)),eq!=null&&eq.$==1?(er=eq.$0,(es=F.getExtraLines(function(ex){return bh.StartsWith(bh.Trim(ex),eo);},em),(et=(((d$.Curried3(function(ex,ey,ez){return ex(by.toSafe(ey)+"_"+a.String(ez));}))(a.id))(eh))(el),(eu=F.createLines(et,ei+1,[],[],1,es[0]),(ev=eu[1],(ew=eu[0],F.createLines(eh,ei,P.ofSeq(ba.delay(function(){return ba.append(ej,ba.delay(function(){return[et];}));})),P.ofSeq(ba.delay(function(){return ba.append(ek,ba.delay(function(){return ba.append([et+" "+er+" "+bh.concat(" ",ew)],ba.delay(function(){return ev;}));}));})),el+1,es[1]))))))):[ej,ek]):[ej,ek];};F.Measures$1=function(eh,ei){var ej,ek,el,em,en,eo,ep,eq,er,es;ej=[eh,ei];return ej[1]?null:(ek=bZ.splitByChar("-",ej[0]),!E.Equals(ek,null)&&ek.length===1&&(em=(ce.Double())(P.get(ek,0)),em!=null&&em.$==1&&(el=em.$0,true))?{$:1,$0:new _do({$:0,$0:el,$1:true})}:!E.Equals(ek,null)&&ek.length===2&&(P.get(ek,0)===""&&(eo=(ce.Double())(P.get(ek,1)),eo!=null&&eo.$==1&&(en=eo.$0,true)))?{$:1,$0:new _do({$:0,$0:en,$1:false})}:!E.Equals(ek,null)&&ek.length===3&&(eq=(ce.Double())(P.get(ek,0)),eq!=null&&eq.$==1&&(er=(ce.Double())(P.get(ek,1)),er!=null&&er.$==1&&(es=(ce.Double())(P.get(ek,2)),es!=null&&es.$==1&&(ep=[es.$0,eq.$0,er.$0],true))))?{$:1,$0:new _do({$:1,$0:ep[1],$1:ep[2],$2:ep[0]})}:null);};F.entryDoc=function(eh,ei){return{$:1,$0:{$:2,$0:j.newDoc(eh,q.Create(function(){return ei;}))}};};F.createSplitterM=function(){bK.$cctor();return bK.createSplitterM;};F.Var=function(eh,ei){var ej,ek,el,em,en,eo;return(ei?false:eh==="Var")?{$:0,$0:null}:(ei?false:eh==="Doc")?{$:1,$0:null}:(ei?false:eh==="button")?{$:2,$0:null}:(ei?false:eh==="input")?{$:3,$0:null}:(ei?false:eh==="textarea")?{$:4,$0:null}:(ei?false:eh==="select")?{$:5,$0:null}:{$:6,$0:null};};F.createButtonM=function(){bK.$cctor();return bK.createButtonM;};F.createInputM=function(){bK.$cctor();return bK.createInputM;};F.createTextAreaM=function(){bK.$cctor();return bK.createTextAreaM;};F.entryVar=function(eh,ei){return{$:1,$0:{$:0,$0:j.newVar(eh,ei)}};};F.createVarM=function(){bK.$cctor();return bK.createVarM;};F.createDocM=function(){bK.$cctor();return bK.createDocM;};F.createTemplateM=function(){bK.$cctor();return bK.createTemplateM;};F.Concat=function(eh,ei){var ej;return(ei?false:eh==="concat")?{$:0,$0:null}:{$:1,$0:null};};F.createConcatM=function(){bK.$cctor();return bK.createConcatM;};F.createElementM=function(){bK.$cctor();return bK.createElementM;};F.getTextData=function(eh,ei){var ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev;ej=(ek=bZ.delimitedO("@{","}",ei),ek==null?null:{$:1,$0:(el=ek.$0,(em=el[0],(en=el[1],(eo=el[2],(ep=((F.splitName())(eh))(en),(eq=ep[0],(er=ep[1],(es=(et=j.tryGetWoW(eq,er),et==null?null:{$:1,$0:function(ew){var ex,ey;ey=F.getTextData(eh,eo);switch(em===""?ey.$==1?(ex=ey.$0,2):ey.$==2?(ex=ey.$0,3):ey.$0===""?0:(ex=ey.$0,1):ey.$==1?(ex=ey.$0,2):ey.$==2?(ex=ey.$0,3):(ex=ey.$0,1)){case 0:return{$:1,$0:ew};case 1:return{$:1,$0:o.Map(function(ez){return em+ez+ex;},ew)};case 2:return{$:1,$0:o.Map2(function(ez,eA){return em+ez+eA;},ew,ex)};case 3:return{$:2,$0:ex};}}(et.$0)}),es==null?(eu=(ev=j.tryGetAct(eq,er),ev==null?null:{$:1,$0:{$:2,$0:ev.$0}}),eu==null?{$:0,$0:((((d$.Curried(function(ew,ex,ey,ez){return ew(by.toSafe(ex)+" ${Missing "+by.toSafe(ey)+"}"+by.toSafe(ez));},4))(a.id))(em))(en))(eo)}:eu.$0):es.$0))))))))});return ej==null?{$:0,$0:ei}:ej.$0;};F.getDocs=function(eh,ei){var ej;return ei.$==0?cc.Empty:(ej=F.getOneDoc(eh,ei),new cc({$:1,$0:ej[0],$1:F.getDocs(eh,ej[1])}));};F.pairOfDocs=function(eh,ei){var ej;ej=o.Map(function(ek){var el;return ek.$==1&&(ek.$1.$==1&&(ek.$1.$1.$==0&&(el=[ek.$0,ek.$1.$0],true)))?[el[0],el[1]]:[F.errDoc((function(em){return function(en){return em("splitter expects exactly 2 elements "+by.printList(function(eo){return"("+by.prettyPrint(eo[0])+", "+by.prettyPrint(eo[1])+")";},en));};}(a.id))(ei)),F.errDoc("part 2")];},o.Map(function(){return F.getDocs(eh,ei);},j.mainDocV().get_View()));return[V.EmbedView(o.Map(function(ek){return ek[0];},ej)),V.EmbedView(o.Map(function(ek){return ek[1];},ej))];};F.variableSplitter=function(eh,ei,ej,ek,el,em){return V.Element("wcomp-splitter",bA.ofSeq(ba.delay(function(){return ba.append(eh?[cQ.Create("vertical","")]:[],ba.delay(function(){return ba.append([cQ.Create("min",a.String(ei))],ba.delay(function(){return ba.append([cQ.Create("value",a.String(ej))],ba.delay(function(){return[cQ.Create("max",a.String(ek))];}));}));}));})),bA.ofArray([el,em]));};F.fixedSplitter=function(eh,ei,ej,ek,el){var em,en,eo,ep,eq,er,es;em=(((ej?d$.Curried3(function(et,eu,ev){return et(eu.toFixed(6)+"px calc(100% - "+ev.toFixed(6)+"px)");}):d$.Curried3(function(et,eu,ev){return et("calc(100% - "+eu.toFixed(6)+"px) "+ev.toFixed(6)+"px");}))(a.id))(ei))(ei);return eh?(en=Q.Make().WithHole({$:1,$0:"partsizes",$1:em}).WithHole({$:0,$0:"first",$1:ek}).WithHole({$:0,$0:"second",$1:el}),(eo=R.CompleteHoles(en.k,en.h,[]),(ep=new O.New(eo[1],cG.fixedsplitterver(eo[0])),(en.i=ep,ep)))).get_Doc():(eq=Q.Make().WithHole({$:1,$0:"partsizes",$1:em}).WithHole({$:0,$0:"first",$1:ek}).WithHole({$:0,$0:"second",$1:el}),(er=R.CompleteHoles(eq.k,eq.h,[]),(es=new O.New(er[1],cG.fixedsplitterhor(er[0])),(eq.i=es,es)))).get_Doc();};F.getOneDoc=function(eh,ei){var ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex;return ei.$==1&&(ek=(el=ei.$0,F.Identifier(el[0],el[1])),ek!=null&&ek.$==1&&(ej=[ek.$0,ei.$1],true))?(em=ej[0],(en=ej[1],(eo=((F.splitName())(eh))(em),(ep=eo[0],(eq=eo[1],(er=(es=j.tryGetDoc(ep,eq),es==null?null:{$:1,$0:F.getDocF(en,es.$0)}),er==null?(et=(eu=j.tryGetWoW(ep,eq),eu==null?null:{$:1,$0:[V.TextView(eu.$0),en]}),et==null?[F.errDoc((ev=(function(ey){return function(ez){return ey("Missing doc: "+by.toSafe(ez));};}(a.id))(em),(bb.print(ev),ev))),en]:et.$0):er.$0)))))):ei.$==0?[V.get_Empty(),cc.Empty]:(ew=ei.$1,(ex=F.getTextData(eh,ei.$0[0]),ex.$==1?[V.TextView(ex.$0),ew]:ex.$==2?[F.errDoc((function(ey){return function(ez){return ey("Unexpected action: "+by.toSafe(ez));};}(a.id))(ex.$0.actName)),ew]:[V.TextNode(ex.$0),ew]));};G.ofObj=function(eh){return eh==null?null:{$:1,$0:eh};};J.New=function(eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez){return{id:eh,idPadreO:ei,idForAuthorize:ej,influyente:ek,datosPersonales:el,contactos:em,identificacion:en,isInternal:eo,status:ep,diaPago:eq,tipo:er,fechaRegistro:es,fechaStatus:et,nReferidos:eu,nRefActivos:ev,nDescendientes:ew,nDescActivos:ex,comision:ey,nivel:ez};};K.empty=function(){bQ.$cctor();return bQ.empty;};K.nombre2=function(eh){var ei,ej;return(ei=(ej=eh.titulo,ej==null?null:{$:1,$0:" "+ej.$0}),ei==null?"":ei.$0)+bh.Trim(eh.nombre1+" "+eh.nombre2)+" "+bh.Trim(eh.apellido1+" "+eh.apellido2);};K.nombre=function(eh){var ei,ej;return(ei=(ej=eh.titulo,ej==null?null:{$:1,$0:" "+ej.$0}),ei==null?"":ei.$0)+(eh.apellido1===""?"":bh.Trim(eh.apellido1+" "+eh.apellido2)+", ")+eh.nombre1+" "+eh.nombre2;};K.busqueda=function(eh){var ei,ej;function ek(eq,er){return[eq,P.ofSeq(ba.map(function(es){return es[1];},er))];}function el(eq){var er,es;er=(es=null,[ej.TryGetValue(eq,{get:function(){return es;},set:function(et){es=et;}}),es]);return er[0]?{$:1,$0:er[1]}:null;}function em(eq){var er,es;er=(es=null,[ei.TryGetValue({$:1,$0:eq},{get:function(){return es;},set:function(et){es=et;}}),es]);return er[0]?er[1]:[];}function en(eq){var er,es;er=(es=eq==null?null:el(eq.$0),es==null?null:{$:1,$0:1+en(es.$0.idPadreO)});return er==null?0:er.$0;}function eo(eq){return P.choose(el,em(eq.id));}function ep(eq){return P.ofSeq(ba.delay(function(){return ba.collect(function(er){return ba.append([er],ba.delay(function(){return ep(er);}));},eo(eq));}));}ei=new b_.New(ba.map(function(eq){return ek(eq[0],eq[1]);},ba.groupBy(function(eq){return eq[0];},ba.map(function(eq){return[eq.idPadreO,eq.id];},eh))));ej=new b_.New(ba.map(function(eq){return[eq.id,eq];},eh));return bd.New(em,en,function(eq){try{return ej.get_Item(eq);}catch(er){return(function(es){return function(et){return es("buscarAliado failed: "+_9.p$9(et));};}(n.FailWith))(eq);}},el,eo,ep);};K.comision=function(eh,ei){var ej;ej=K.premisas(eh,ei);return[ei.nRefActivos*ej[0],ei.nDescActivos*ej[1]];};K.premisas=function(eh,ei){var ej;ej=ei.tipo.$==0?[eh.comisionReferidosMaster,eh.comisionDescendientesMaster]:[eh.comisionReferidosRegular,eh.comisionDescendientesRegular];return ei.status.$==2?[ej[0],ej[1]]:[0,0];};O=N.TemplateInstance=d$.Class({get_Doc:function(){return this.doc;},Hole:function(eh){return this.allVars.get_Item(eh);}},f,O);O.New=d$.Ctor(function(eh,ei){f.New.call(this);this.doc=ei;this.allVars=eh.$==0?eh.$0:n.FailWith("Should not happen");},O);P.get=function(eh,ei){P.checkBounds(eh,ei);return eh[ei];};P.length=function(eh){return eh.dims===2?eh.length*eh.length:eh.length;};P.checkBounds=function(eh,ei){if(ei<0||ei>=eh.length)n.FailWith("Index was outside the bounds of the array.");};P.set=function(eh,ei,ej){P.checkBounds(eh,ei);eh[ei]=ej;};Q=N.ProviderBuilder=d$.Class({WithHole:function(eh){this.h.push(eh);return this;}},null,Q);Q.Make=function(){var eh;return Q.New(null,(eh=bt.NewGuid(),a.String(eh)),[]);};Q.New=function(eh,ei,ej){return new Q({i:eh,k:ei,h:ej});};R.CompleteHoles=function(eh,ei,ej){var el,em,en,eo,ep,eq;function ek(er,es){var et,eu,ev,ew;return em.Contains(er)?null:(et=es===0?(eu=h.Create$1(""),[{$:8,$0:er,$1:eu},eu]):es===1?(ev=h.Create$1(0),[{$:13,$0:er,$1:ev},ev]):es===2?(ew=h.Create$1(false),[{$:9,$0:er,$1:ew},ew]):n.FailWith("Invalid value type"),(el.set_Item(er,et[1]),{$:1,$0:et[0]}));}el=new bS.New$5();em=new bT.New$3();en=b$.Get(ei);try{while(en.MoveNext()){eo=en.Current();(eo.$==8?(ep=[eo.$0,bU.Box(eo.$1)],true):eo.$==11?(ep=[eo.$0,bU.Box(eo.$1)],true):eo.$==10?(ep=[eo.$0,bU.Box(eo.$1)],true):eo.$==13?(ep=[eo.$0,bU.Box(eo.$1)],true):eo.$==12?(ep=[eo.$0,bU.Box(eo.$1)],true):eo.$==9&&(ep=[eo.$0,bU.Box(eo.$1)],true))?(eq=ep[0],em.Add(eq),el.set_Item(eq,ep[1])):void 0;}}finally{if(typeof en=="object"&&"Dispose"in en)en.Dispose();}return[ba.append(ei,P.choose(function(er){return ek(er[0],er[1]);},ej)),{$:0,$0:el}];};R.EventQ2=function(eh,ei,ej,ek){return{$:5,$0:ei,$1:true,$2:function(el){return function(em){return ek({Vars:ej(),Target:el,Event:em});};}};};S.opcionesadministrador=function(eh){cT.LoadLocalTemplates("index");return eh?cT.NamedTemplate("index",{$:1,$0:"opcionesadministrador"},eh):void 0;};S.filaaliado=function(eh){cT.LoadLocalTemplates("index");return eh?cT.NamedTemplate("index",{$:1,$0:"filaaliado"},eh):void 0;};S.tablaaliados=function(eh){cT.LoadLocalTemplates("index");return eh?cT.NamedTemplate("index",{$:1,$0:"tablaaliados"},eh):void 0;};S.aliado=function(eh){cT.LoadLocalTemplates("index");return eh?cT.NamedTemplate("index",{$:1,$0:"aliado"},eh):void 0;};S.calculo=function(eh){cT.LoadLocalTemplates("index");return eh?cT.NamedTemplate("index",{$:1,$0:"calculo"},eh):void 0;};T.p$2=function(eh){return eh.$==2?"Mensaje "+by.prettyPrint(eh.$0):eh.$==1?"NuevoRegistro "+by.prettyPrint(eh.$0):"ROk";};S.formaregistro=function(eh){cT.LoadLocalTemplates("index");return eh?cT.NamedTemplate("index",{$:1,$0:"formaregistro"},eh):void 0;};S.filaconsolidado=function(eh){cT.LoadLocalTemplates("index");return eh?cT.NamedTemplate("index",{$:1,$0:"filaconsolidado"},eh):void 0;};S.consolidado=function(eh){cT.LoadLocalTemplates("index");return eh?cT.NamedTemplate("index",{$:1,$0:"consolidado"},eh):void 0;};T.p$4=function(eh){return eh.$==5?"Dia25":eh.$==4?"Dia20":eh.$==3?"Dia15":eh.$==2?"Dia10":eh.$==1?"Dia05":"Dia01";};S.filapago=function(eh){cT.LoadLocalTemplates("index");return eh?cT.NamedTemplate("index",{$:1,$0:"filapago"},eh):void 0;};S.tablapagos=function(eh){cT.LoadLocalTemplates("index");return eh?cT.NamedTemplate("index",{$:1,$0:"tablapagos"},eh):void 0;};S.filadocs=function(eh){cT.LoadLocalTemplates("index");return eh?cT.NamedTemplate("index",{$:1,$0:"filadocs"},eh):void 0;};S.subirdocumentos=function(eh){cT.LoadLocalTemplates("index");return eh?cT.NamedTemplate("index",{$:1,$0:"subirdocumentos"},eh):void 0;};U.r=function(){return cW.JSUnion(void 0,[[null,[[null,[]]],[]],[null,[[null,["NoUser"]]],[]],[null,[[null,["PreRegister"]]],[]],[null,[[null,["Content"]]],[cW.rString()]],[null,[[null,["Pdf"]]],[cW.rWildcard()]],[null,[[null,["Video"]]],[cW.rWildcard()]]]);};S.datospersonales=function(eh){cT.LoadLocalTemplates("index");return eh?cT.NamedTemplate("index",{$:1,$0:"datospersonales"},eh):void 0;};T.p$1=function(eh){return eh.$==2?"Empresa":eh.$==1?"Femenino":"Masculino";};S.correo=function(eh){cT.LoadLocalTemplates("index");return eh?cT.NamedTemplate("index",{$:1,$0:"correo"},eh):void 0;};S.telefono=function(eh){cT.LoadLocalTemplates("index");return eh?cT.NamedTemplate("index",{$:1,$0:"telefono"},eh):void 0;};S.direccion=function(eh){cT.LoadLocalTemplates("index");return eh?cT.NamedTemplate("index",{$:1,$0:"direccion"},eh):void 0;};S.formadatospersonales=function(eh){cT.LoadLocalTemplates("index");return eh?cT.NamedTemplate("index",{$:1,$0:"formadatospersonales"},eh):void 0;};S.formacontactos=function(eh){cT.LoadLocalTemplates("index");return eh?cT.NamedTemplate("index",{$:1,$0:"formacontactos"},eh):void 0;};S.formacuentas=function(eh){cT.LoadLocalTemplates("index");return eh?cT.NamedTemplate("index",{$:1,$0:"formacuentas"},eh):void 0;};T.p$3=function(eh){return"IdPayment "+by.prettyPrint(eh.$0);};S.cuentabancaria=function(eh){cT.LoadLocalTemplates("index");return eh?cT.NamedTemplate("index",{$:1,$0:"cuentabancaria"},eh):void 0;};S.tarjetacredito=function(eh){cT.LoadLocalTemplates("index");return eh?cT.NamedTemplate("index",{$:1,$0:"tarjetacredito"},eh):void 0;};T.p=function(eh){return eh.$==3?"ResetPassword":eh.$==2?"EditProfile":eh.$==1?"SignUp":"SignIn";};V=g.Doc=d$.Class({},f,V);V.get_Empty=function(){return V.Mk(null,o.Const());};V.Concat=function(eh){var ei;ei=cw.ofSeqNonCopying(eh);return cw.TreeReduce(V.get_Empty(),V.Append,ei);};V.BindView=function(eh,ei){return V.EmbedView(o.Map(eh,ei));};V.Mk=function(eh,ei){return new V.New(eh,ei);};V.ConvertSeqBy=function(eh,ei,ej){return V.Flatten(o.MapSeqCachedViewBy(eh,function(ek,el){return(ei(ek))(el);},ej));};V.EmbedView=function(eh){var ei;ei=c4.CreateEmbedNode();return V.Mk({$:2,$0:ei},o.Map(a.ignore,o.Bind(function(ej){c4.UpdateEmbedNode(ei,ej.docNode);return ej.updates;},eh)));};V.Append=function(eh,ei){return V.Mk({$:0,$0:eh.docNode,$1:ei.docNode},o.Map2Unit(eh.updates,ei.updates));};V.Flatten=function(eh){return V.EmbedView(o.Map(V.Concat,eh));};V.ConvertBy=function(eh,ei,ej){return V.Flatten(o.MapSeqCachedBy(eh,ei,ej));};V.Button=function(eh,ei,ej){var ek;ek=cQ.Concat(ei);return dw.New(V.Clickable("button",ej),ek,V.TextNode(eh));};V.Input=function(eh,ei){return V.InputInternal("input",function(){return ba.append(eh,[cC.Value(ei)]);});};V.Element=function(eh,ei,ej){var ek,el;ek=cQ.Concat(ei);el=V.Concat(ej);return dw.New(c_.CreateElement(eh),ek,el);};V.RunInPlace=function(eh,ei,ej){var ek;ek=c4.CreateRunState(ei,ej.docNode);o.Sink(dA.get_UseAnimations()||dB.BatchUpdatesEnabled()?dC.StartProcessor(c4.PerformAnimatedUpdate(eh,ek,ej.docNode)):function(){c4.PerformSyncUpdate(eh,ek,ej.docNode);},ej.updates);};V.TextNode=function(eh){return V.Mk({$:5,$0:c_.CreateText(eh)},o.Const());};V.Clickable=function(eh,ei){var ej;ej=c_.CreateElement(eh);ej.addEventListener("click",function(ek){ek.preventDefault();return ei();},false);return ej;};V.TextView=function(eh){var ei;ei=c4.CreateTextNode();return V.Mk({$:4,$0:ei},o.Map(function(ej){c4.UpdateTextNode(ei,ej);},eh));};V.InputInternal=function(eh,ei){var ej;ej=c_.CreateElement(eh);return dw.New(ej,cQ.Concat(ei(ej)),V.get_Empty());};V.Run=function(eh,ei){c4.LinkElement(eh,ei.docNode);V.RunInPlace(false,eh,ei);};V.InputArea=function(eh,ei){return V.InputInternal("textarea",function(){return ba.append(eh,[cC.Value(ei)]);});};V.New=d$.Ctor(function(eh,ei){f.New.call(this);this.docNode=eh;this.updates=ei;},V);W.llamadas=function(){_1.$cctor();return _1.llamadas;};W.ejecutarDataEventoNuevo=function(eh){var ei,ej,ek;function el(ep){return ed.stringify(($.j$4())(ep));}function em(ep){return ed.stringify(($.j$1())(ep));}function en(ep){return(_.j$4())(ed.parse(ep));}function eo(ep){return(_.j$1())(ed.parse(ep));}ei=(ej="ejecutarDataEventoNuevo",[function(ep){var eq,er,es;function et(ew){return b8.invoke(ej,ep,ew);}function eu(ew){return bF.bind(eo,ew);}function ev(ew){return cy.Return(ew);}eq=function(ew){return et(el(ew));};er=(es=function(ew){return ev(eu(ew));},function(ew){return cy.Bind(ew,es);});return function(ew){return er(eq(ew));};},function(ep){b8.registroRpcs().Add(ej,function(eq){return function(er){var es;function et(eu){return cy.Return(eu);}return cy.Bind((es=bo.asyncResultM(),es.Run(es.Delay(function(){var eu;eu=en(er);return es.Bind$4((ep(eq))(eu),function(ev){return es.Return(ev);});}))),function(eu){return et(em(eu));});};});}])[0](m.get_LoggedId());ek=bo.asyncResultM();return ek.Run(ek.Delay(function(){var ep;ep=W.llamadas().Get()+1;W.llamadas().Set(ep);return ek.TryFinally(ek.Delay(function(){return ek.ReturnFrom$4(ei(eh));}),function(){var eq;eq=W.llamadas().Get()-1;W.llamadas().Set(eq);});}));};W.obtenerFormasDePagoPara=function(eh){var ei,ej,ek;function el(ep){return ed.stringify(((dn.EncodeArray($.j$22))())(ep));}function em(ep){return ed.stringify(($.j$46())(ep));}function en(ep){return((dn.DecodeArray(_.j$22))())(ed.parse(ep));}function eo(ep){return(_.j$46())(ed.parse(ep));}ei=(ej="obtenerFormasDePagoPara",[function(ep){var eq,er,es;function et(ew){return b8.invoke(ej,ep,ew);}function eu(ew){return bF.bind(eo,ew);}function ev(ew){return cy.Return(ew);}eq=function(ew){return et(el(ew));};er=(es=function(ew){return ev(eu(ew));},function(ew){return cy.Bind(ew,es);});return function(ew){return er(eq(ew));};},function(ep){b8.registroRpcs().Add(ej,function(eq){return function(er){var es;function et(eu){return cy.Return(eu);}return cy.Bind((es=bo.asyncResultM(),es.Run(es.Delay(function(){var eu;eu=en(er);return es.Bind$4((ep(eq))(eu),function(ev){return es.Return(ev);});}))),function(eu){return et(em(eu));});};});}])[0](m.get_LoggedId());ek=bo.asyncResultM();return ek.Run(ek.Delay(function(){var ep;ep=W.llamadas().Get()+1;W.llamadas().Set(ep);return ek.TryFinally(ek.Delay(function(){return ek.ReturnFrom$4(ei(eh));}),function(){var eq;eq=W.llamadas().Get()-1;W.llamadas().Set(eq);});}));};W.enviarCorreosInvitacion=function(eh,ei,ej){var ek,el,em,en;function eo(es){return ed.stringify(((dn.EncodeTuple([dn.Id(),$.j$7,dn.EncodeArray(dn.Id())]))())(es));}function ep(es){return ed.stringify(($.j$30())(es));}function eq(es){return((dn.DecodeTuple([dn.Id(),_.j$7,dn.DecodeArray(dn.Id())]))())(ed.parse(es));}function er(es){return(_.j$30())(ed.parse(es));}ek=(el="enviarCorreosInvitacion",[function(es){var et,eu,ev;function ew(ez){return b8.invoke(el,es,ez);}function ex(ez){return bF.bind(er,ez);}function ey(ez){return cy.Return(ez);}et=function(ez){return ew(eo(ez));};eu=(ev=function(ez){return ey(ex(ez));},function(ez){return cy.Bind(ez,ev);});return function(ez){return eu(et(ez));};},function(es){b8.registroRpcs().Add(el,function(et){return function(eu){var ev;function ew(ex){return cy.Return(ex);}return cy.Bind((ev=bo.asyncResultM(),ev.Run(ev.Delay(function(){var ex;ex=eq(eu);return ev.Bind$4((es(et))(ex),function(ey){return ev.Return(ey);});}))),function(ex){return ew(ep(ex));});};});}])[0](m.get_LoggedId());em=[eh,ei,ej];en=bo.asyncResultM();return en.Run(en.Delay(function(){var es;es=W.llamadas().Get()+1;W.llamadas().Set(es);return en.TryFinally(en.Delay(function(){return en.ReturnFrom$4(ek(em));}),function(){var et;et=W.llamadas().Get()-1;W.llamadas().Set(et);});}));};W.obtenerUnions=function(){var eh;function ei(){return(new c0.New()).Async("ProzperServer:FsRoot.Prozper+Rpc.obtenerUnions:1790054391",[]);}eh=bo.asyncResultM();return eh.Run(eh.Delay(function(){var ej;ej=W.llamadas().Get()+1;W.llamadas().Set(ej);return eh.TryFinally(eh.Delay(function(){return eh.ReturnFrom$4(ei(void 0));}),function(){var ek;ek=W.llamadas().Get()-1;W.llamadas().Set(ek);});}));};W.iterA=function(eh){function ei(ej){a.alert(ej);}bp.iterA(function(ej){return ei(bu.summarized(ej));},a.ignore,eh);};W.agregarUsuarioSiEsNuevo=function(eh){var ei,ej,ek;function el(ep){return ed.stringify(((dn.EncodeArray(dn.EncodeTuple([dn.Id(),dn.Id()])))())(ep));}function em(ep){return ed.stringify(($.j$30())(ep));}function en(ep){return((dn.DecodeArray(dn.DecodeTuple([dn.Id(),dn.Id()])))())(ed.parse(ep));}function eo(ep){return(_.j$30())(ed.parse(ep));}ei=(ej="agregarUsuarioSiEsNuevo",[function(ep){var eq,er,es;function et(ew){return b8.invoke(ej,ep,ew);}function eu(ew){return bF.bind(eo,ew);}function ev(ew){return cy.Return(ew);}eq=function(ew){return et(el(ew));};er=(es=function(ew){return ev(eu(ew));},function(ew){return cy.Bind(ew,es);});return function(ew){return er(eq(ew));};},function(ep){b8.registroRpcs().Add(ej,function(eq){return function(er){var es;function et(eu){return cy.Return(eu);}return cy.Bind((es=bo.asyncResultM(),es.Run(es.Delay(function(){var eu;eu=en(er);return es.Bind$4((ep(eq))(eu),function(ev){return es.Return(ev);});}))),function(eu){return et(em(eu));});};});}])[0](m.get_LoggedId());ek=bo.asyncResultM();return ek.Run(ek.Delay(function(){var ep;ep=W.llamadas().Get()+1;W.llamadas().Set(ep);return ek.TryFinally(ek.Delay(function(){return ek.ReturnFrom$4(ei(eh));}),function(){var eq;eq=W.llamadas().Get()-1;W.llamadas().Set(eq);});}));};W.obtenerEstadoParaUsuario=function(eh){var ei,ej;function ek(el){return(new c0.New()).Async("ProzperServer:FsRoot.Prozper+Rpc.obtenerEstadoParaUsuario:-1569835008",[el]);}ei=new X({$:0,$0:m.get_LoggedId()});ej=bo.asyncResultM();return ej.Run(ej.Delay(function(){var el;el=W.llamadas().Get()+1;W.llamadas().Set(el);return ej.TryFinally(ej.Delay(function(){return ej.ReturnFrom$4(ek(ei));}),function(){var em;em=W.llamadas().Get()-1;W.llamadas().Set(em);});}));};W.borrarFormaPago=function(eh){var ei,ej,ek;function el(ep){return ed.stringify(($.j$34())(ep));}function em(ep){return ed.stringify(($.j$45())(ep));}function en(ep){return(_.j$34())(ed.parse(ep));}function eo(ep){return(_.j$45())(ed.parse(ep));}ei=(ej="borrarFormaPago",[function(ep){var eq,er,es;function et(ew){return b8.invoke(ej,ep,ew);}function eu(ew){return bF.bind(eo,ew);}function ev(ew){return cy.Return(ew);}eq=function(ew){return et(el(ew));};er=(es=function(ew){return ev(eu(ew));},function(ew){return cy.Bind(ew,es);});return function(ew){return er(eq(ew));};},function(ep){b8.registroRpcs().Add(ej,function(eq){return function(er){var es;function et(eu){return cy.Return(eu);}return cy.Bind((es=bo.asyncResultM(),es.Run(es.Delay(function(){var eu;eu=en(er);return es.Bind$4((ep(eq))(eu),function(ev){return es.Return(ev);});}))),function(eu){return et(em(eu));});};});}])[0](m.get_LoggedId());ek=bo.asyncResultM();return ek.Run(ek.Delay(function(){var ep;ep=W.llamadas().Get()+1;W.llamadas().Set(ep);return ek.TryFinally(ek.Delay(function(){return ek.ReturnFrom$4(ei(eh));}),function(){var eq;eq=W.llamadas().Get()-1;W.llamadas().Set(eq);});}));};W.registrarTarjeta=function(eh){var ei,ej,ek;function el(ep){return ed.stringify(($.j$36())(ep));}function em(ep){return ed.stringify(($.j$45())(ep));}function en(ep){return(_.j$36())(ed.parse(ep));}function eo(ep){return(_.j$45())(ed.parse(ep));}ei=(ej="registrarTarjeta",[function(ep){var eq,er,es;function et(ew){return b8.invoke(ej,ep,ew);}function eu(ew){return bF.bind(eo,ew);}function ev(ew){return cy.Return(ew);}eq=function(ew){return et(el(ew));};er=(es=function(ew){return ev(eu(ew));},function(ew){return cy.Bind(ew,es);});return function(ew){return er(eq(ew));};},function(ep){b8.registroRpcs().Add(ej,function(eq){return function(er){var es;function et(eu){return cy.Return(eu);}return cy.Bind((es=bo.asyncResultM(),es.Run(es.Delay(function(){var eu;eu=en(er);return es.Bind$4((ep(eq))(eu),function(ev){return es.Return(ev);});}))),function(eu){return et(em(eu));});};});}])[0](m.get_LoggedId());ek=bo.asyncResultM();return ek.Run(ek.Delay(function(){var ep;ep=W.llamadas().Get()+1;W.llamadas().Set(ep);return ek.TryFinally(ek.Delay(function(){return ek.ReturnFrom$4(ei(eh));}),function(){var eq;eq=W.llamadas().Get()-1;W.llamadas().Set(eq);});}));};W.registrarCuenta=function(eh){var ei,ej,ek;function el(ep){return ed.stringify(($.j$41())(ep));}function em(ep){return ed.stringify(($.j$45())(ep));}function en(ep){return(_.j$41())(ed.parse(ep));}function eo(ep){return(_.j$45())(ed.parse(ep));}ei=(ej="registrarCuenta",[function(ep){var eq,er,es;function et(ew){return b8.invoke(ej,ep,ew);}function eu(ew){return bF.bind(eo,ew);}function ev(ew){return cy.Return(ew);}eq=function(ew){return et(el(ew));};er=(es=function(ew){return ev(eu(ew));},function(ew){return cy.Bind(ew,es);});return function(ew){return er(eq(ew));};},function(ep){b8.registroRpcs().Add(ej,function(eq){return function(er){var es;function et(eu){return cy.Return(eu);}return cy.Bind((es=bo.asyncResultM(),es.Run(es.Delay(function(){var eu;eu=en(er);return es.Bind$4((ep(eq))(eu),function(ev){return es.Return(ev);});}))),function(eu){return et(em(eu));});};});}])[0](m.get_LoggedId());ek=bo.asyncResultM();return ek.Run(ek.Delay(function(){var ep;ep=W.llamadas().Get()+1;W.llamadas().Set(ep);return ek.TryFinally(ek.Delay(function(){return ek.ReturnFrom$4(ei(eh));}),function(){var eq;eq=W.llamadas().Get()-1;W.llamadas().Set(eq);});}));};W.validarFormaPago=function(eh){var ei,ej,ek;function el(ep){return ed.stringify(($.j$34())(ep));}function em(ep){return ed.stringify(($.j$45())(ep));}function en(ep){return(_.j$34())(ed.parse(ep));}function eo(ep){return(_.j$45())(ed.parse(ep));}ei=(ej="validarFormaPago",[function(ep){var eq,er,es;function et(ew){return b8.invoke(ej,ep,ew);}function eu(ew){return bF.bind(eo,ew);}function ev(ew){return cy.Return(ew);}eq=function(ew){return et(el(ew));};er=(es=function(ew){return ev(eu(ew));},function(ew){return cy.Bind(ew,es);});return function(ew){return er(eq(ew));};},function(ep){b8.registroRpcs().Add(ej,function(eq){return function(er){var es;function et(eu){return cy.Return(eu);}return cy.Bind((es=bo.asyncResultM(),es.Run(es.Delay(function(){var eu;eu=en(er);return es.Bind$4((ep(eq))(eu),function(ev){return es.Return(ev);});}))),function(eu){return et(em(eu));});};});}])[0](m.get_LoggedId());ek=bo.asyncResultM();return ek.Run(ek.Delay(function(){var ep;ep=W.llamadas().Get()+1;W.llamadas().Set(ep);return ek.TryFinally(ek.Delay(function(){return ek.ReturnFrom$4(ei(eh));}),function(){var eq;eq=W.llamadas().Get()-1;W.llamadas().Set(eq);});}));};W.obtenerListaDocs=function(){var eh,ei,ej;function ek(eo){return ed.stringify(((dn.Id())())(eo));}function el(eo){return ed.stringify(($.j$47())(eo));}function em(eo){return((dn.Id())())(ed.parse(eo));}function en(eo){return(_.j$47())(ed.parse(eo));}eh=(ei="obtenerListaDocs",[function(eo){var ep,eq,er;function es(ev){return b8.invoke(ei,eo,ev);}function et(ev){return bF.bind(en,ev);}function eu(ev){return cy.Return(ev);}ep=function(ev){return es(ek(ev));};eq=(er=function(ev){return eu(et(ev));},function(ev){return cy.Bind(ev,er);});return function(ev){return eq(ep(ev));};},function(eo){b8.registroRpcs().Add(ei,function(ep){return function(eq){var er;function es(et){return cy.Return(et);}return cy.Bind((er=bo.asyncResultM(),er.Run(er.Delay(function(){var et;et=em(eq);return er.Bind$4((eo(ep))(et),function(eu){return er.Return(eu);});}))),function(et){return es(el(et));});};});}])[0](m.get_LoggedId());ej=bo.asyncResultM();return ej.Run(ej.Delay(function(){var eo;eo=W.llamadas().Get()+1;W.llamadas().Set(eo);return ej.TryFinally(ej.Delay(function(){return ej.ReturnFrom$4(eh(void 0));}),function(){var ep;ep=W.llamadas().Get()-1;W.llamadas().Set(ep);});}));};W.obtenerFormasDePago=function(){var eh,ei,ej;function ek(eo){return ed.stringify(((dn.Id())())(eo));}function el(eo){return ed.stringify(($.j$31())(eo));}function em(eo){return((dn.Id())())(ed.parse(eo));}function en(eo){return(_.j$31())(ed.parse(eo));}eh=(ei="obtenerFormasDePago",[function(eo){var ep,eq,er;function es(ev){return b8.invoke(ei,eo,ev);}function et(ev){return bF.bind(en,ev);}function eu(ev){return cy.Return(ev);}ep=function(ev){return es(ek(ev));};eq=(er=function(ev){return eu(et(ev));},function(ev){return cy.Bind(ev,er);});return function(ev){return eq(ep(ev));};},function(eo){b8.registroRpcs().Add(ei,function(ep){return function(eq){var er;function es(et){return cy.Return(et);}return cy.Bind((er=bo.asyncResultM(),er.Run(er.Delay(function(){var et;et=em(eq);return er.Bind$4((eo(ep))(et),function(eu){return er.Return(eu);});}))),function(et){return es(el(et));});};});}])[0](m.get_LoggedId());ej=bo.asyncResultM();return ej.Run(ej.Delay(function(){var eo;eo=W.llamadas().Get()+1;W.llamadas().Set(eo);return ej.TryFinally(ej.Delay(function(){return ej.ReturnFrom$4(eh(void 0));}),function(){var ep;ep=W.llamadas().Get()-1;W.llamadas().Set(ep);});}));};X=I.IdAliado=d$.Class({get_Id:function(){return this.$0;}},null,X);Y.New=function(eh,ei,ej,ek,el,em){return{idAliado:eh,aliados:ei,anoActual:ej,periodoActual:ek,premisas:el,nevento:em};};Z=g.ConcreteVar=d$.Class({get_View:function(){return this.view;},Set:function(eh){if(this.isConst)(function(ei){return ei("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal");}(function(ei){ec.log(ei);}));else{_0.Obsolete(this.snap);this.current=eh;this.snap=_0.New({$:2,$0:eh,$1:[]});}},Get:function(){return this.current;},Update:function(eh){this.Set(eh(this.Get()));},UpdateMaybe:function(eh){var ei;ei=eh(this.Get());ei!=null&&ei.$==1?this.Set(ei.$0):void 0;}},p,Z);Z.New=d$.Ctor(function(eh,ei,ej){var ek;ek=this;p.New.call(this);this.isConst=eh;this.current=ej;this.snap=ei;this.view=function(){return ek.snap;};this.id=bY.Int();},Z);_0.Map=function(eh,ei){var ej,ek;ej=ei.s;return ej!=null&&ej.$==0?_0.New({$:0,$0:eh(ej.$0)}):(ek=_0.New({$:3,$0:[],$1:[]}),(_0.When(ei,function(el){_0.MarkDone(ek,ei,eh(el));},ek),ek));};_0.WhenRun=function(eh,ei,ej){var ek;ek=eh.s;ek==null?ej():ek!=null&&ek.$==2?(ek.$1.push(ej),ei(ek.$0)):ek!=null&&ek.$==3?(ek.$0.push(ei),ek.$1.push(ej)):ei(ek.$0);};_0.WhenObsoleteRun=function(eh,ei){var ej;ej=eh.s;ej==null?ei():ej!=null&&ej.$==2?ej.$1.push(ei):ej!=null&&ej.$==3?ej.$1.push(ei):void 0;};_0.When=function(eh,ei,ej){var ek;ek=eh.s;ek==null?_0.Obsolete(ej):ek!=null&&ek.$==2?(_0.EnqueueSafe(ek.$1,ej),ei(ek.$0)):ek!=null&&ek.$==3?(ek.$0.push(ei),_0.EnqueueSafe(ek.$1,ej)):ei(ek.$0);};_0.MarkDone=function(eh,ei,ej){var ek;if(ek=ei.s,ek!=null&&ek.$==0)_0.MarkForever(eh,ej);else _0.MarkReady(eh,ej);};_0.Map2=function(eh,ei,ej){var ek,el,em;function en(eo){var ep,eq,er;if(!(ep=em.s,ep!=null&&ep.$==0||ep!=null&&ep.$==2)){eq=_0.ValueAndForever(ei);er=_0.ValueAndForever(ej);eq!=null&&eq.$==1?er!=null&&er.$==1?eq.$0[1]&&er.$0[1]?_0.MarkForever(em,eh(eq.$0[0],er.$0[0])):_0.MarkReady(em,eh(eq.$0[0],er.$0[0])):void 0:void 0;}}ek=ei.s;el=ej.s;return ek!=null&&ek.$==0?el!=null&&el.$==0?_0.New({$:0,$0:eh(ek.$0,el.$0)}):_0.Map2Opt1(eh,ek.$0,ej):el!=null&&el.$==0?_0.Map2Opt2(eh,el.$0,ei):(em=_0.New({$:3,$0:[],$1:[]}),(_0.When(ei,en,em),_0.When(ej,en,em),em));};_0.Map3=function(eh,ei,ej,ek){var el,em,en,eo;function ep(eq){var er,es,et,eu;if(!(er=eo.s,er!=null&&er.$==0||er!=null&&er.$==2)){es=_0.ValueAndForever(ei);et=_0.ValueAndForever(ej);eu=_0.ValueAndForever(ek);es!=null&&es.$==1?et!=null&&et.$==1?eu!=null&&eu.$==1?es.$0[1]&&et.$0[1]&&eu.$0[1]?_0.MarkForever(eo,eh(es.$0[0],et.$0[0],eu.$0[0])):_0.MarkReady(eo,eh(es.$0[0],et.$0[0],eu.$0[0])):void 0:void 0:void 0;}}el=ei.s;em=ej.s;en=ek.s;return el!=null&&el.$==0?em!=null&&em.$==0?en!=null&&en.$==0?_0.New({$:0,$0:eh(el.$0,em.$0,en.$0)}):_0.Map3Opt1(eh,el.$0,em.$0,ek):en!=null&&en.$==0?_0.Map3Opt2(eh,el.$0,en.$0,ej):_0.Map3Opt3(eh,el.$0,ej,ek):em!=null&&em.$==0?en!=null&&en.$==0?_0.Map3Opt4(eh,em.$0,en.$0,ei):_0.Map3Opt5(eh,em.$0,ei,ek):en!=null&&en.$==0?_0.Map3Opt6(eh,en.$0,ei,ej):(eo=_0.New({$:3,$0:[],$1:[]}),(_0.When(ei,ep,eo),_0.When(ej,ep,eo),_0.When(ek,ep,eo),eo));};_0.MapAsync=function(eh,ei){var ej;ej=_0.New({$:3,$0:[],$1:[]});_0.When(ei,function(ek){bW.StartTo(eh(ek),function(el){_0.MarkDone(ej,ei,el);});},ej);return ej;};_0.TryGet=function(eh){var ei,ej;ei=eh.s;return(ei!=null&&ei.$==0?(ej=ei.$0,true):ei!=null&&ei.$==2&&(ej=ei.$0,true))?{$:1,$0:ej}:null;};_0.EnqueueSafe=function(eh,ei){var ej,ek,el,em;eh.push(ei);if(eh.length%20===0){ej=eh.slice(0);dL.Clear(eh);for(ek=0,el=P.length(ej)-1;ek<=el;ek++){em=P.get(ej,ek);typeof em=="object"?function(en){if(en.s)eh.push(en);}(em):function(en){eh.push(en);}(em);}}else void 0;};_0.MarkForever=function(eh,ei){var ej,ek,el,em;ej=eh.s;if(ej!=null&&ej.$==3){eh.s={$:0,$0:ei};ek=ej.$0;for(el=0,em=P.length(ek)-1;el<=em;el++)(P.get(ek,el))(ei);}else void 0;};_0.MarkReady=function(eh,ei){var ej,ek,el,em;ej=eh.s;if(ej!=null&&ej.$==3){eh.s={$:2,$0:ei,$1:ej.$1};ek=ej.$0;for(el=0,em=P.length(ek)-1;el<=em;el++)(P.get(ek,el))(ei);}else void 0;};_0.Map2Opt1=function(eh,ei,ej){return _0.Map(function(ek){return eh(ei,ek);},ej);};_0.Map2Opt2=function(eh,ei,ej){return _0.Map(function(ek){return eh(ek,ei);},ej);};_0.ValueAndForever=function(eh){var ei;ei=eh.s;return ei!=null&&ei.$==0?{$:1,$0:[ei.$0,true]}:ei!=null&&ei.$==2?{$:1,$0:[ei.$0,false]}:null;};_0.Map3Opt1=function(eh,ei,ej,ek){return _0.Map(function(el){return eh(ei,ej,el);},ek);};_0.Map3Opt2=function(eh,ei,ej,ek){return _0.Map(function(el){return eh(ei,el,ej);},ek);};_0.Map3Opt3=function(eh,ei,ej,ek){return _0.Map2(function(el,em){return eh(ei,el,em);},ej,ek);};_0.Map3Opt4=function(eh,ei,ej,ek){return _0.Map(function(el){return eh(el,ei,ej);},ek);};_0.Map3Opt5=function(eh,ei,ej,ek){return _0.Map2(function(el,em){return eh(el,ei,em);},ej,ek);};_0.Map3Opt6=function(eh,ei,ej,ek){return _0.Map2(function(el,em){return eh(el,em,ei);},ej,ek);};_0.Map2Unit=function(eh,ei){var ej,ek,el;function em(){var en,eo,ep;if(!(en=el.s,en!=null&&en.$==0||en!=null&&en.$==2)){eo=_0.ValueAndForever(eh);ep=_0.ValueAndForever(ei);eo!=null&&eo.$==1?ep!=null&&ep.$==1?eo.$0[1]&&ep.$0[1]?_0.MarkForever(el,null):_0.MarkReady(el,null):void 0:void 0;}}ej=eh.s;ek=ei.s;return ej!=null&&ej.$==0?ek!=null&&ek.$==0?_0.New({$:0,$0:null}):ei:ek!=null&&ek.$==0?eh:(el=_0.New({$:3,$0:[],$1:[]}),(_0.When(eh,em,el),_0.When(ei,em,el),el));};_0.Join=function(eh){var ei;ei=_0.New({$:3,$0:[],$1:[]});_0.When(eh,function(ej){var ek;ek=ej();_0.When(ek,function(el){var em,en;if((em=ek.s,em!=null&&em.$==0)&&(en=eh.s,en!=null&&en.$==0))_0.MarkForever(ei,el);else _0.MarkReady(ei,el);},ei);},ei);return ei;};_0.Sequence=function(eh){var ei,ej,ek;function el(em){var en;if(ek[0]===0){en=P.map(function(eo){var ep;ep=eo.s;return ep!=null&&ep.$==0?ep.$0:ep!=null&&ep.$==2?ep.$0:n.FailWith("value not found by View.Sequence");},ei);P.forall(function(eo){var ep;ep=eo.s;return ep!=null&&ep.$==0;},ei)?_0.MarkForever(ej,en):_0.MarkReady(ej,en);}else ek[0]--;}ei=P.ofSeq(eh);return ei.length==0?_0.New({$:0,$0:[]}):(ej=_0.New({$:3,$0:[],$1:[]}),(ek=[P.length(ei)-1],(P.iter(function(em){_0.When(em,el,ej);},ei),ej)));};_0.Copy=function(eh){var ei,ej,ek;ei=eh.s;return ei==null?eh:ei!=null&&ei.$==2?(ej=_0.New({$:2,$0:ei.$0,$1:[]}),(_0.WhenObsolete(eh,ej),ej)):ei!=null&&ei.$==3?(ek=_0.New({$:3,$0:[],$1:[]}),(_0.When(eh,function(el){_0.MarkDone(ek,eh,el);},ek),ek)):eh;};_0.WhenObsolete=function(eh,ei){var ej;ej=eh.s;ej==null?_0.Obsolete(ei):ej!=null&&ej.$==2?_0.EnqueueSafe(ej.$1,ei):ej!=null&&ej.$==3?_0.EnqueueSafe(ej.$1,ei):void 0;};_1.$cctor=function(){var eh,ei,ej,ek,el,em,en,eo,ep;_1.$cctor=a.ignore;function eq(ex){return bh.concat("\n",ex);}function er(ex){return bZ.splitByChar$1("\n",ex);}function es(ex){var ey,ez;return b0.array(ex,{$:1,$0:0},{$:1,$0:(ey=0,(ez=P.length(ex)-2,E.Compare(ey,ez)===1?ey:ez))});}function et(ex){return bh.concat("\n",ex);}function eu(ex,ey,ez,eA,eB){bH.callback(ex,ey,ez,eA,eB);}function ev(ex){return ex==="ProzperLyt.mainContent"?b4.DefaultEP:{$:3,$0:ex};}function ew(ex){if(!E.Equals(l.endPointV().Get(),ex))l.endPointV().Set(ex);}_1.unindentStr=function(ex){return eq(bZ.unindent$1(ex));};_1.skipLastLine=(eh=function(ex){return es(er(ex));},function(ex){return et(eh(ex));});_1.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";_1.rexEmail="(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@[*[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+]*";_1.policies=bA.ofArray([b2.SignIn,b2.SignUp,b2.EditProfile,b2.ResetPassword]);_1.rootdir="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperClient\\website";_1.TemplatesFileName="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperClient\\website"+"\\index.html";_1.LoginFileName="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperClient\\website"+"\\Login.html";((function(ex){return function(ey){return ex(by.toSafe(ey));};}(function(ex){ec.log(ex);}))("D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperClient\\website\\index.html"));_1.storage=self.localStorage;_1.applicationId=bH.storeValue("applicationId","70ad4f9b-9a2b-409e-9c1e-d04dbb2e7cf2");_1.tenantName=bH.storeValue("tenantName","prozper");_1.ref=bH.storeValue("ref","");_1.extraQueryParms=bH.storeValue("extraQueryParms","mkt=es-us");_1.refreshBefore=bH.storeValue("refreshBefore","0");_1.createOnStart=bH.storeValue("createOnStart","1");_1.forceLogin=bH.storeValue("forceLogin","1");_1.signInPolicy=bH.storeValue("signInPolicy","B2C_1_SignIn");_1.signUpPolicy=bH.storeValue("signUpPolicy","B2C_1_Registrarse");_1.editProfilePolicy=bH.storeValue("editProfilePolicy","B2C_1_EditarPerfil");_1.resetPasswordPolicy=bH.storeValue("resetPasswordPolicy","B2C_1_PasswordReset");_1.policyType=bH.storeValue("policyType","SignIn");_1.authority=bH.getAuthority(bH.tenantName(),bH.signInPolicy());_1.userO=h.Create$1(null);_1.agent=(ei=bH.applicationId(),(ej=bH.authority(),(ek=b3.Options(null,null,null,null,null,null,null,null,null,{$:1,$0:false},null,{$:1,$0:false}),new self.Msal.UserAgentApplication(ei,ej,function(ex){return eu(ex[0],ex[1],ex[2],ex[3],ex[4]);},ek))));_1.localStorage=self.localStorage;_1.modeloV=h.Create$1(Y.New(new X({$:0,$0:":"}),[],(el=ee.now(),(new ee(el)).getFullYear()),(em=ee.now(),(new ee(em)).getMonth()+1),I.premisasCalculo(),-2));_1.formasPagoAliadoV=h.Create$1([]);_1.invitacionesV=h.Create$1("");_1.emailsInvitarW=o.Map(function(ex){var ey;return bh.concat("\n",ba.sort(ba.distinct((ey=i.REGEX$1(i.rexEmail(),"gi",ex),ey!=null&&ey.$==1?ey.$0:[]))));},l.invitacionesV().get_View());_1.invitacionesDisabledW=o.Map(function(ex){return ex===""?"disabled":"";},l.emailsInvitarW());_1.selAliadoIdOV=h.Create$1(null);_1.refAliadoIdOV=h.Create$1(null);_1.endPointV=b5.InstallHash(b4.DefaultEP,U.r());o.Sink(function(ex){if(ex.$==1);else if(ex.$==2);else if(ex.$==4)a.showPDF(ex.$0);else if(ex.$==5)a.playVideo();else bH.checkUser();},l.endPointV().get_View());_1.contentVar=new cv.New(o.Map2(function(ex,ey){var ez,eA;return ey.$==0&&!E.Equals(bH.userO().Get(),null)?"ProzperLyt.mainContent":ey.$==3&&(!E.Equals(bH.userO().Get(),null)&&(eA=ey.$0,true))?eA:ey.$==2?"ProzperLyt.cntPreRegister":ey.$==4?"ProzperLyt.cntPDF":ey.$==5?"ProzperLyt.cntVideo":"ProzperLyt.cntFormaNoUser";},bH.userO().get_View(),l.endPointV().get_View()),function(ex){return ew(ev(ex));});_1.aliadoW=(en=o.get_Do(),o.Bind(function(ex){var ey,ez;ey=ex.idAliado;ez=ba.tryFind(function(eA){return E.Equals(eA.id,ey);},ex.aliados);return o.Const(ez!=null&&ez.$==1?ez.$0:K.empty());},l.modeloV().get_View()));_1.llamadas=h.Create$1(0);b7.set_EndPoint((self.location.protocol==="http:"?"http://localhost:7071/api/":"https://prozper.azurewebsites.net/api/")+"rpc/rpc");_1.shouldRefresh=true;o.Sink(function(){br.refrescarData(true);},bH.userO().get_View());cy.StartImmediateAsTask((eo=null,cy.Delay(function(){return cy.While(function(){return true;},cy.Delay(function(){return cy.Bind(cy.Sleep(5*60*1000),function(){return cy.Return(null);});}));})),null);try{self.document.addEventListener("visibilityChange",function(){return null;},false);}catch(ex){null;}_1.paises=h.Create$1([]);_1.estados=h.Create$1([]);_1.tiposDir=h.Create$1([]);_1.tiposTel=h.Create$1([]);_1.generos=h.Create$1([]);_1.tiposCta=h.Create$1([]);_1.tiposTar=h.Create$1([]);_1.statuses=h.Create$1([]);_1.aniosV=h.Create$1([]);_1.mesesV=h.Create$1([]);W.iterA((ep=bo.asyncResultM(),ep.Run(ep.Delay(function(){return ep.Bind$4(W.obtenerUnions(),function(ey){bw.paises().Set(ey[0]);bw.estados().Set(ey[1]);bw.tiposDir().Set(ey[2]);bw.tiposTel().Set(ey[3]);bw.generos().Set(ey[4]);bw.tiposCta().Set(ey[5]);bw.tiposTar().Set(ey[6]);bw.statuses().Set(ey[7]);bw.aniosV().Set(ey[9]);bw.mesesV().Set(ey[8]);return ep.Zero();});}))));_1.ftel=[function(ey){return ey.$==2?{$:1,$0:ey.$0}:null;},function(ey){return{$:2,$0:ey};}];_1.fcor=[function(ey){return ey.$==1?{$:1,$0:ey.$0}:null;},function(ey){return{$:1,$0:ey};}];_1.fdir=[function(ey){return ey.$==0?{$:1,$0:ey.$0}:null;},function(ey){return{$:0,$0:ey};}];_1.ftar=[function(ey){var ez;ez=ey.cuentaPago;return ez.$==1?{$:1,$0:[ez.$0,w.msg(ey),ey.authorizeIdR.$==0]}:null;},function(ey){return function(ez){return bE.New(ey.nombre,bb.Error(""),{$:1,$0:ez});};}];_1.fcta=[function(ey){var ez;ez=ey.cuentaPago;return ez.$==0?{$:1,$0:[ez.$0,w.msg(ey),ey.authorizeIdR.$==0]}:null;},function(ey){return function(ez){return bE.New(ey.nombre,bb.Error(""),{$:0,$0:ez});};}];_1.docsV=h.Create$1([]);_1.uploaded=function(ey,ez){z.refrescarListaDocs();return a.alert(ez);};_1.layoutName="ProzperLyt";_1.appName="Prozper";_1.influencerV=h.Create$1("");_1.influencerClassW=o.Const("");};_2=g.ListModel=d$.Class({Append:function(eh){var ei,ej,ek,el;ei=this;ej=this["var"].Get();ek=this.key(eh);el=P.tryFindIndex(function(em){return E.Equals(ei.key(em),ek);},ej);el!=null&&el.$==1?this["var"].Set(this.storage.SSetAt(el.$0,eh,ej)):this["var"].Set(this.storage.SAppend(eh,ej));this.ObsoleteKey(ek);},TryFindByKey:function(eh){var ei;ei=this;return P.tryFind(function(ej){return E.Equals(ei.key(ej),eh);},this["var"].Get());},ObsoleteKey:function(eh){var ei,ej;ei=(ej=null,[this.it.TryGetValue(eh,{get:function(){return ej;},set:function(ek){ej=ek;}}),ej]);ei[0]?(_0.Obsolete(ei[1]),this.it.Remove(eh)):void 0;},MapLens:function(eh){var ei;ei=this;return o.MapSeqCachedViewBy(ei.key,function(ej,ek){return eh(ej,ei["LensInto'"](a.id,function(el,em){return em;},ej,ek));},this["var"].get_View());},"LensInto'":function(eh,ei,ej,ek){var el,em,en;el=this;em=bY.Id();en=new p({Get:function(){return eh(el.FindByKey(ej));},Set:function(eo){return el.UpdateBy(function(ep){return{$:1,$0:ei(ep,eo)};},ej);},SetFinal:function(eo){return this.Set(eo);},Update:function(eo){return el.UpdateBy(function(ep){return{$:1,$0:ei(ep,eo(eh(ep)))};},ej);},UpdateMaybe:function(eo){return el.UpdateBy(function(ep){var eq;eq=eo(eh(ep));return eq==null?null:{$:1,$0:ei(ep,eq.$0)};},ej);},get_View:function(){return ek;},get_Id:function(){return em;}});p.New.call(en);return en;},FindByKey:function(eh){var ei;ei=this;return P.find(function(ej){return E.Equals(ei.key(ej),eh);},this["var"].Get());},UpdateBy:function(eh,ei){var ej,ek,el,em,en;ej=this;ek=this["var"].Get();el=P.tryFindIndex(function(eo){return E.Equals(ej.key(eo),ei);},ek);el!=null&&el.$==1?(em=el.$0,en=eh(P.get(ek,em)),en!=null&&en.$==1?(this["var"].Set(this.storage.SSetAt(em,en.$0,ek)),this.ObsoleteKey(ei)):void 0):void 0;},GetEnumerator:function(){return b$.Get(this["var"].Get());},GetEnumerator0:function(){return b$.Get0(this["var"].Get());}},f,_2);_2.New$1=d$.Ctor(function(eh){_2.New$2.call(this,eh,[]);},_2);_2.New$2=d$.Ctor(function(eh,ei){var ej;ej=P.ofSeq(ei);_2.New$3.call(this,eh,h.Create$1(ej),dr.InMemory(ej));},_2);_2.New$3=d$.Ctor(function(eh,ei,ej){f.New.call(this);this.key=eh;this["var"]=ei;this.storage=ej;this.v=o.Map(function(ek){return ek.slice();},this["var"].get_View());this.it=new bS.New$5();},_2);_3.New=function(eh,ei){return{varName:eh,varVar:ei};};_4.New=function(eh,ei){return{viwName:eh,viwView:ei};};_5.New=function(eh,ei){return{docName:eh,docDoc:ei};};_6.NewFromSeq=function(eh){var ei,ej,ek;ei={};ej=b$.Get(eh);try{while(ej.MoveNext()){ek=ej.Current();ei[ek[0]]=ek[1];}}finally{if(typeof ej=="object"&&"Dispose"in ej)ej.Dispose();}return ei;};_8.New=function(eh,ei,ej){return{c:eh,v:ei,f:ej};};_9.p$1=function(eh){return eh.$==1?"Regular":"Master";};_9.p=function(eh){return eh.$==4?"Cancelado":eh.$==3?"Inactivo":eh.$==2?"Activo":eh.$==1?"DatosBancariosIngresados":"CuentaCreada";};_9.p$9=function(eh){return"IdAliado "+by.prettyPrint(eh.$0);};_9.p$2=function(eh){return eh.$==3?"OtroP "+by.prettyPrint(eh.$0):eh.$==2?"Argentina":eh.$==1?"Venezuela":"USA";};_9.p$5=function(eh){return eh.$==2?"Otra "+by.prettyPrint(eh.$0):eh.$==1?"Corriente":"Ahorro";};_9.p$3=function(eh){return eh.$==2?"OtroS "+by.prettyPrint(eh.$0):eh.$==1?"Florida":"Texas";};_.j$1=function(){return _._v$1?_._v$1:_._v$1=(dn.DecodeUnion(void 0,"$",[[0,[["$0","Item1",_.j$2,1],["$1","Item2",_.j$3,0]]]]))();};_.j$4=function(){return _._v$4?_._v$4:_._v$4=(dn.DecodeUnion(void 0,"$",[[0,[["$0","Item",dn.DecodeArray(_.j$22),0]]],[1,[[null,null,_.j$22]]],[2,[["$0","Item",dn.DecodeTuple([_.j$7,dn.DecodeArray(dn.Id())]),0]]],[3,[["$0","Item",dn.DecodeTuple([_.j$7,_.j$20,_.j$6,dn.DecodeArray(_.j$9)]),0]]],[4,[["$0","Item",dn.DecodeTuple([_.j$7,_.j$20]),0]]],[5,[["$0","Item",dn.DecodeTuple([_.j$7,dn.DecodeArray(_.j$9)]),0]]],[6,[["$0","Item",dn.DecodeTuple([_.j$7,dn.Id()]),0]]],[7,[["$0","Item",dn.DecodeTuple([_.j$7,dn.Id()]),0]]],[8,[["$0","Item",dn.DecodeTuple([_.j$7,_.j$8,_.j$6,_.j$5]),0]]]]))();};$.j$1=function(){return $._v$1?$._v$1:$._v$1=(dn.EncodeUnion(void 0,"$",[[0,[["$0","Item1",$.j$2,1],["$1","Item2",$.j$3,0]]]]))();};$.j$4=function(){return $._v$4?$._v$4:$._v$4=(dn.EncodeUnion(void 0,"$",[[0,[["$0","Item",dn.EncodeArray($.j$22),0]]],[1,[[null,null,$.j$22]]],[2,[["$0","Item",dn.EncodeTuple([$.j$7,dn.EncodeArray(dn.Id())]),0]]],[3,[["$0","Item",dn.EncodeTuple([$.j$7,$.j$20,$.j$6,dn.EncodeArray($.j$9)]),0]]],[4,[["$0","Item",dn.EncodeTuple([$.j$7,$.j$20]),0]]],[5,[["$0","Item",dn.EncodeTuple([$.j$7,dn.EncodeArray($.j$9)]),0]]],[6,[["$0","Item",dn.EncodeTuple([$.j$7,dn.Id()]),0]]],[7,[["$0","Item",dn.EncodeTuple([$.j$7,dn.Id()]),0]]],[8,[["$0","Item",dn.EncodeTuple([$.j$7,$.j$8,$.j$6,$.j$5]),0]]]]))();};_.j$46=function(){return _._v$46?_._v$46:_._v$46=(dn.DecodeUnion(void 0,"$",[[0,[["$0","Item1",dn.DecodeArray(dn.DecodeTuple([_.j$22,dn.DecodeArray(_.j$32)])),1],["$1","Item2",_.j$3,0]]]]))();};_.j$22=function(){return _._v$22?_._v$22:_._v$22=(dn.DecodeRecord(void 0,[["id",_.j$7,0],["idPadreO",_.j$7,1],["idForAuthorize",_.j$23,1],["influyente",dn.Id(),1],["datosPersonales",_.j$20,0],["contactos",dn.DecodeArray(_.j$9),0],["identificacion",dn.DecodeArray(_.j$24),0],["isInternal",dn.Id(),0],["status",_.j$8,0],["diaPago",_.j$28,0],["tipo",_.j$29,0],["fechaRegistro",dn.DecodeDateTime(),0],["fechaStatus",dn.DecodeDateTime(),0],["nReferidos",dn.Id(),0],["nRefActivos",dn.Id(),0],["nDescendientes",dn.Id(),0],["nDescActivos",dn.Id(),0],["comision",dn.Id(),0],["nivel",dn.Id(),0]]))();};$.j$46=function(){return $._v$46?$._v$46:$._v$46=(dn.EncodeUnion(void 0,"$",[[0,[["$0","Item1",dn.EncodeArray(dn.EncodeTuple([$.j$22,dn.EncodeArray($.j$32)])),1],["$1","Item2",$.j$3,0]]]]))();};$.j$22=function(){return $._v$22?$._v$22:$._v$22=(dn.EncodeRecord(void 0,[["id",$.j$7,0],["idPadreO",$.j$7,1],["idForAuthorize",$.j$23,1],["influyente",dn.Id(),1],["datosPersonales",$.j$20,0],["contactos",dn.EncodeArray($.j$9),0],["identificacion",dn.EncodeArray($.j$24),0],["isInternal",dn.Id(),0],["status",$.j$8,0],["diaPago",$.j$28,0],["tipo",$.j$29,0],["fechaRegistro",dn.EncodeDateTime(),0],["fechaStatus",dn.EncodeDateTime(),0],["nReferidos",dn.Id(),0],["nRefActivos",dn.Id(),0],["nDescendientes",dn.Id(),0],["nDescActivos",dn.Id(),0],["comision",dn.Id(),0],["nivel",dn.Id(),0]]))();};_.j$30=function(){return _._v$30?_._v$30:_._v$30=(dn.DecodeUnion(void 0,"$",[[0,[["$0","Item1",dn.Id(),1],["$1","Item2",_.j$3,0]]]]))();};_.j$7=function(){return _._v$7?_._v$7:_._v$7=(dn.DecodeUnion(X,"$",[[0,[["$0","Item",dn.Id(),0]]]]))();};$.j$30=function(){return $._v$30?$._v$30:$._v$30=(dn.EncodeUnion(void 0,"$",[[0,[["$0","Item1",dn.Id(),1],["$1","Item2",$.j$3,0]]]]))();};$.j$7=function(){return $._v$7?$._v$7:$._v$7=(dn.EncodeUnion(X,"$",[[0,[["$0","Item",dn.Id(),0]]]]))();};_9.p$8=function(eh){return eh.$==3?"Voip":eh.$==2?"Habitacion":eh.$==1?"Oficina":"Movil";};_9.p$7=function(eh){return eh.$==3?"Otro "+by.prettyPrint(eh.$0):eh.$==2?"ServicioPostal":eh.$==1?"Oficina":"Habitacion";};_9.p$4=function(eh){return eh.$==3?"Otra "+by.prettyPrint(eh.$0):eh.$==2?"Amex":eh.$==1?"MasterCard":"Visa";};_.j$2=function(){return _._v$2?_._v$2:_._v$2=(dn.DecodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",dn.Id(),0]]],[2,[["$0","Item",dn.Id(),0]]]]))();};_.j$3=function(){return _._v$3?_._v$3:_._v$3=(dn.DecodeUnion(bu,"$",[[0,[]],[1,[["$0","Item",dn.Id(),0]]],[2,[["$0","Item",dn.Id(),0]]],[3,[["$0","Item",dn.Id(),0]]],[4,[["$0","Item",dn.Id(),0]]],[5,[["$0","Item1",dn.Id(),0],["$1","Item2",dn.Id(),0]]],[6,[["$0","Item",dn.DecodeArray(_.j$3),0]]]]))();};_.j$20=function(){return _._v$20?_._v$20:_._v$20=(dn.DecodeRecord(void 0,[["titulo",dn.Id(),1],["nombre1",dn.Id(),0],["nombre2",dn.Id(),0],["apellido1",dn.Id(),0],["apellido2",dn.Id(),0],["nacionalidad",_.j$18,0],["genero",_.j$21,0],["fechaNacimiento",dn.DecodeDateTime(),0]]))();};_.j$6=function(){return _._v$6?_._v$6:_._v$6=(dn.DecodeUnion(void 0,"$",[null,[1,[["$0","Value",_.j$7,0]]]]))();};_.j$9=function(){return _._v$9?_._v$9:_._v$9=(dn.DecodeUnion(void 0,"$",[[0,[[null,null,_.j$13]]],[1,[[null,null,_.j$12]]],[2,[[null,null,_.j$10]]],[3,[["$0","Item",dn.Id(),0]]],[4,[["$0","Item",dn.Id(),0]]],[5,[["$0","Item",dn.Id(),0]]]]))();};_.j$8=function(){return _._v$8?_._v$8:_._v$8=(dn.DecodeUnion(bx,"$",[[0,[]],[1,[]],[2,[]],[3,[]],[4,[]]]))();};_.j$5=function(){return _._v$5?_._v$5:_._v$5=(dn.DecodeUnion(void 0,"$",[null,[1,[["$0","Value",dn.Id(),0]]]]))();};$.j$2=function(){return $._v$2?$._v$2:$._v$2=(dn.EncodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",dn.Id(),0]]],[2,[["$0","Item",dn.Id(),0]]]]))();};$.j$3=function(){return $._v$3?$._v$3:$._v$3=(dn.EncodeUnion(bu,"$",[[0,[]],[1,[["$0","Item",dn.Id(),0]]],[2,[["$0","Item",dn.Id(),0]]],[3,[["$0","Item",dn.Id(),0]]],[4,[["$0","Item",dn.Id(),0]]],[5,[["$0","Item1",dn.Id(),0],["$1","Item2",dn.Id(),0]]],[6,[["$0","Item",dn.EncodeArray($.j$3),0]]]]))();};$.j$20=function(){return $._v$20?$._v$20:$._v$20=(dn.EncodeRecord(void 0,[["titulo",dn.Id(),1],["nombre1",dn.Id(),0],["nombre2",dn.Id(),0],["apellido1",dn.Id(),0],["apellido2",dn.Id(),0],["nacionalidad",$.j$18,0],["genero",$.j$21,0],["fechaNacimiento",dn.EncodeDateTime(),0]]))();};$.j$6=function(){return $._v$6?$._v$6:$._v$6=(dn.EncodeUnion(void 0,"$",[null,[1,[["$0","Value",$.j$7,0]]]]))();};$.j$9=function(){return $._v$9?$._v$9:$._v$9=(dn.EncodeUnion(void 0,"$",[[0,[[null,null,$.j$13]]],[1,[[null,null,$.j$12]]],[2,[[null,null,$.j$10]]],[3,[["$0","Item",dn.Id(),0]]],[4,[["$0","Item",dn.Id(),0]]],[5,[["$0","Item",dn.Id(),0]]]]))();};$.j$8=function(){return $._v$8?$._v$8:$._v$8=(dn.EncodeUnion(bx,"$",[[0,[]],[1,[]],[2,[]],[3,[]],[4,[]]]))();};$.j$5=function(){return $._v$5?$._v$5:$._v$5=(dn.EncodeUnion(void 0,"$",[null,[1,[["$0","Value",dn.Id(),0]]]]))();};_.j$45=function(){return _._v$45?_._v$45:_._v$45=(dn.DecodeUnion(void 0,"$",[[0,[["$0","Item1",dn.Id(),1],["$1","Item2",_.j$3,0]]]]))();};_.j$34=function(){return _._v$34?_._v$34:_._v$34=(dn.DecodeUnion(cz,"$",[[0,[["$0","Item",dn.Id(),0]]]]))();};$.j$45=function(){return $._v$45?$._v$45:$._v$45=(dn.EncodeUnion(void 0,"$",[[0,[["$0","Item1",dn.Id(),1],["$1","Item2",$.j$3,0]]]]))();};$.j$34=function(){return $._v$34?$._v$34:$._v$34=(dn.EncodeUnion(cz,"$",[[0,[["$0","Item",dn.Id(),0]]]]))();};_.j$36=function(){return _._v$36?_._v$36:_._v$36=(dn.DecodeRecord(void 0,[["titular",dn.Id(),0],["tipoTarjeta",_.j$37,0],["numero",_.j$38,0],["expiracion",_.j$39,0]]))();};$.j$36=function(){return $._v$36?$._v$36:$._v$36=(dn.EncodeRecord(void 0,[["titular",dn.Id(),0],["tipoTarjeta",$.j$37,0],["numero",$.j$38,0],["expiracion",$.j$39,0]]))();};_.j$41=function(){return _._v$41?_._v$41:_._v$41=(dn.DecodeRecord(void 0,[["titular",dn.Id(),0],["banco",dn.Id(),0],["tipo",_.j$42,0],["numero",_.j$43,0],["routing",_.j$44,0]]))();};$.j$41=function(){return $._v$41?$._v$41:$._v$41=(dn.EncodeRecord(void 0,[["titular",dn.Id(),0],["banco",dn.Id(),0],["tipo",$.j$42,0],["numero",$.j$43,0],["routing",$.j$44,0]]))();};_.j$32=function(){return _._v$32?_._v$32:_._v$32=(dn.DecodeRecord(void 0,[["nombre",dn.Id(),0],["authorizeIdR",_.j$33,0],["cuentaPago",_.j$35,0]]))();};_.j$23=function(){return _._v$23?_._v$23:_._v$23=(dn.DecodeUnion(bL,"$",[[0,[["$0","Item",dn.Id(),0]]]]))();};_.j$24=function(){return _._v$24?_._v$24:_._v$24=(dn.DecodeRecord(void 0,[["emisor",_.j$25,0],["documento",_.j$27,0],["emision",dn.DecodeDateTime(),0],["vence",dn.DecodeDateTime(),0]]))();};_.j$28=function(){return _._v$28?_._v$28:_._v$28=(dn.DecodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]],[3,[]],[4,[]],[5,[]]]))();};_.j$29=function(){return _._v$29?_._v$29:_._v$29=(dn.DecodeUnion(bO,"$",[[0,[]],[1,[]]]))();};$.j$32=function(){return $._v$32?$._v$32:$._v$32=(dn.EncodeRecord(void 0,[["nombre",dn.Id(),0],["authorizeIdR",$.j$33,0],["cuentaPago",$.j$35,0]]))();};$.j$23=function(){return $._v$23?$._v$23:$._v$23=(dn.EncodeUnion(bL,"$",[[0,[["$0","Item",dn.Id(),0]]]]))();};$.j$24=function(){return $._v$24?$._v$24:$._v$24=(dn.EncodeRecord(void 0,[["emisor",$.j$25,0],["documento",$.j$27,0],["emision",dn.EncodeDateTime(),0],["vence",dn.EncodeDateTime(),0]]))();};$.j$28=function(){return $._v$28?$._v$28:$._v$28=(dn.EncodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]],[3,[]],[4,[]],[5,[]]]))();};$.j$29=function(){return $._v$29?$._v$29:$._v$29=(dn.EncodeUnion(bO,"$",[[0,[]],[1,[]]]))();};_.j$47=function(){return _._v$47?_._v$47:_._v$47=(dn.DecodeUnion(void 0,"$",[[0,[["$0","Item1",dn.DecodeArray(dn.Id()),1],["$1","Item2",_.j$3,0]]]]))();};$.j$47=function(){return $._v$47?$._v$47:$._v$47=(dn.EncodeUnion(void 0,"$",[[0,[["$0","Item1",dn.EncodeArray(dn.Id()),1],["$1","Item2",$.j$3,0]]]]))();};_.j$18=function(){return _._v$18?_._v$18:_._v$18=(dn.DecodeUnion(cf,"$",[[0,[]],[1,[]],[2,[]],[3,[["$0","Item",dn.Id(),0]]]]))();};_.j$21=function(){return _._v$21?_._v$21:_._v$21=(dn.DecodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]]]))();};_.j$13=function(){return _._v$13?_._v$13:_._v$13=(dn.DecodeRecord(void 0,[["authorizeIdR",_.j$14,0],["tipoDireccion",_.j$16,0],["linea1",dn.Id(),0],["linea2",dn.Id(),0],["ciudad",dn.Id(),0],["estado",_.j$17,0],["pais",_.j$18,0],["zonaPostal",_.j$19,0]]))();};_.j$12=function(){return _._v$12?_._v$12:_._v$12=(dn.DecodeRecord(bi,[["email",dn.Id(),0],["enviado",dn.DecodeDateTime(),1],["recibido",dn.DecodeDateTime(),1]]))();};_.j$10=function(){return _._v$10?_._v$10:_._v$10=(dn.DecodeRecord(void 0,[["tipoTelefono",_.j$11,0],["codigoPais",dn.Id(),0],["codigoArea",dn.Id(),0],["numero",dn.Id(),0],["extension",dn.Id(),0],["mensajes",dn.Id(),0]]))();};$.j$18=function(){return $._v$18?$._v$18:$._v$18=(dn.EncodeUnion(cf,"$",[[0,[]],[1,[]],[2,[]],[3,[["$0","Item",dn.Id(),0]]]]))();};$.j$21=function(){return $._v$21?$._v$21:$._v$21=(dn.EncodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]]]))();};$.j$13=function(){return $._v$13?$._v$13:$._v$13=(dn.EncodeRecord(void 0,[["authorizeIdR",$.j$14,0],["tipoDireccion",$.j$16,0],["linea1",dn.Id(),0],["linea2",dn.Id(),0],["ciudad",dn.Id(),0],["estado",$.j$17,0],["pais",$.j$18,0],["zonaPostal",$.j$19,0]]))();};$.j$12=function(){return $._v$12?$._v$12:$._v$12=(dn.EncodeRecord(bi,[["email",dn.Id(),0],["enviado",dn.EncodeDateTime(),1],["recibido",dn.EncodeDateTime(),1]]))();};$.j$10=function(){return $._v$10?$._v$10:$._v$10=(dn.EncodeRecord(void 0,[["tipoTelefono",$.j$11,0],["codigoPais",dn.Id(),0],["codigoArea",dn.Id(),0],["numero",dn.Id(),0],["extension",dn.Id(),0],["mensajes",dn.Id(),0]]))();};_.j$31=function(){return _._v$31?_._v$31:_._v$31=(dn.DecodeUnion(void 0,"$",[[0,[["$0","Item1",dn.DecodeArray(_.j$32),1],["$1","Item2",_.j$3,0]]]]))();};$.j$31=function(){return $._v$31?$._v$31:$._v$31=(dn.EncodeUnion(void 0,"$",[[0,[["$0","Item1",dn.EncodeArray($.j$32),1],["$1","Item2",$.j$3,0]]]]))();};_.j$37=function(){return _._v$37?_._v$37:_._v$37=(dn.DecodeUnion(cO,"$",[[0,[]],[1,[]],[2,[]],[3,[["$0","Item",dn.Id(),0]]]]))();};_.j$38=function(){return _._v$38?_._v$38:_._v$38=(dn.DecodeUnion(cp,"$",[[0,[["$0","Item",dn.Id(),0]]]]))();};_.j$39=function(){return _._v$39?_._v$39:_._v$39=(dn.DecodeRecord(cN,[["anio",dn.Id(),0],["mes",dn.Id(),0]]))();};$.j$37=function(){return $._v$37?$._v$37:$._v$37=(dn.EncodeUnion(cO,"$",[[0,[]],[1,[]],[2,[]],[3,[["$0","Item",dn.Id(),0]]]]))();};$.j$38=function(){return $._v$38?$._v$38:$._v$38=(dn.EncodeUnion(cp,"$",[[0,[["$0","Item",dn.Id(),0]]]]))();};$.j$39=function(){return $._v$39?$._v$39:$._v$39=(dn.EncodeRecord(cN,[["anio",dn.Id(),0],["mes",dn.Id(),0]]))();};_.j$42=function(){return _._v$42?_._v$42:_._v$42=(dn.DecodeUnion(cx,"$",[[0,[]],[1,[]],[2,[["$0","Item",dn.Id(),0]]]]))();};_.j$43=function(){return _._v$43?_._v$43:_._v$43=(dn.DecodeUnion(bD,"$",[[0,[["$0","Item",dn.Id(),0]]]]))();};_.j$44=function(){return _._v$44?_._v$44:_._v$44=(dn.DecodeUnion(bC,"$",[[0,[["$0","Item",dn.Id(),0]]]]))();};$.j$42=function(){return $._v$42?$._v$42:$._v$42=(dn.EncodeUnion(cx,"$",[[0,[]],[1,[]],[2,[["$0","Item",dn.Id(),0]]]]))();};$.j$43=function(){return $._v$43?$._v$43:$._v$43=(dn.EncodeUnion(bD,"$",[[0,[["$0","Item",dn.Id(),0]]]]))();};$.j$44=function(){return $._v$44?$._v$44:$._v$44=(dn.EncodeUnion(bC,"$",[[0,[["$0","Item",dn.Id(),0]]]]))();};_.j$33=function(){return _._v$33?_._v$33:_._v$33=(dn.DecodeUnion(void 0,"$",[[0,[["$0","ResultValue",_.j$34,0]]],[1,[["$0","ErrorValue",dn.Id(),0]]]]))();};_.j$35=function(){return _._v$35?_._v$35:_._v$35=(dn.DecodeUnion(void 0,"$",[[0,[[null,null,_.j$41]]],[1,[[null,null,_.j$36]]],[2,[["$0","Item",dn.Id(),0]]]]))();};_.j$25=function(){return _._v$25?_._v$25:_._v$25=(dn.DecodeUnion(void 0,"$",[[0,[["$0","Item",_.j$18,0]]],[1,[["$0","Item",_.j$26,0]]]]))();};_.j$27=function(){return _._v$27?_._v$27:_._v$27=(dn.DecodeUnion(void 0,"$",[[0,[["$0","Item",dn.Id(),0]]],[1,[["$0","Item",dn.Id(),0]]],[2,[["$0","Item",dn.Id(),0]]]]))();};$.j$33=function(){return $._v$33?$._v$33:$._v$33=(dn.EncodeUnion(void 0,"$",[[0,[["$0","ResultValue",$.j$34,0]]],[1,[["$0","ErrorValue",dn.Id(),0]]]]))();};$.j$35=function(){return $._v$35?$._v$35:$._v$35=(dn.EncodeUnion(void 0,"$",[[0,[[null,null,$.j$41]]],[1,[[null,null,$.j$36]]],[2,[["$0","Item",dn.Id(),0]]]]))();};$.j$25=function(){return $._v$25?$._v$25:$._v$25=(dn.EncodeUnion(void 0,"$",[[0,[["$0","Item",$.j$18,0]]],[1,[["$0","Item",$.j$26,0]]]]))();};$.j$27=function(){return $._v$27?$._v$27:$._v$27=(dn.EncodeUnion(void 0,"$",[[0,[["$0","Item",dn.Id(),0]]],[1,[["$0","Item",dn.Id(),0]]],[2,[["$0","Item",dn.Id(),0]]]]))();};_.j$14=function(){return _._v$14?_._v$14:_._v$14=(dn.DecodeUnion(void 0,"$",[[0,[["$0","ResultValue",_.j$15,0]]],[1,[["$0","ErrorValue",dn.Id(),0]]]]))();};_.j$16=function(){return _._v$16?_._v$16:_._v$16=(dn.DecodeUnion(cj,"$",[[0,[]],[1,[]],[2,[]],[3,[["$0","Item",dn.Id(),0]]]]))();};_.j$17=function(){return _._v$17?_._v$17:_._v$17=(dn.DecodeUnion(ck,"$",[[0,[]],[1,[]],[2,[["$0","Item",dn.Id(),0]]]]))();};_.j$19=function(){return _._v$19?_._v$19:_._v$19=(dn.DecodeUnion(cl,"$",[[0,[["$0","Item",dn.Id(),0]]]]))();};_.j$11=function(){return _._v$11?_._v$11:_._v$11=(dn.DecodeUnion(ch,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};$.j$14=function(){return $._v$14?$._v$14:$._v$14=(dn.EncodeUnion(void 0,"$",[[0,[["$0","ResultValue",$.j$15,0]]],[1,[["$0","ErrorValue",dn.Id(),0]]]]))();};$.j$16=function(){return $._v$16?$._v$16:$._v$16=(dn.EncodeUnion(cj,"$",[[0,[]],[1,[]],[2,[]],[3,[["$0","Item",dn.Id(),0]]]]))();};$.j$17=function(){return $._v$17?$._v$17:$._v$17=(dn.EncodeUnion(ck,"$",[[0,[]],[1,[]],[2,[["$0","Item",dn.Id(),0]]]]))();};$.j$19=function(){return $._v$19?$._v$19:$._v$19=(dn.EncodeUnion(cl,"$",[[0,[["$0","Item",dn.Id(),0]]]]))();};$.j$11=function(){return $._v$11?$._v$11:$._v$11=(dn.EncodeUnion(ch,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};_.j$26=function(){return _._v$26?_._v$26:_._v$26=(dn.DecodeUnion(void 0,"$",[[0,[["$0","Item",_.j$17,0]]]]))();};$.j$26=function(){return $._v$26?$._v$26:$._v$26=(dn.EncodeUnion(void 0,"$",[[0,[["$0","Item",$.j$17,0]]]]))();};_.j$15=function(){return _._v$15?_._v$15:_._v$15=(dn.DecodeUnion(c3,"$",[[0,[["$0","Item",dn.Id(),0]]]]))();};$.j$15=function(){return $._v$15?$._v$15:$._v$15=(dn.EncodeUnion(c3,"$",[[0,[["$0","Item",dn.Id(),0]]]]))();};ba.sortWith=function(eh,ei){return ba.delay(function(){var ej;ej=P.ofSeq(ei);P.sortInPlaceWith(eh,ej);return ej;});};ba.filter=function(eh,ei){return{GetEnumerator:function(){var ej;ej=b$.Get(ei);return new ca.New(null,null,function(ek){var el,em,en;el=ej.MoveNext();em=ej.Current();en=false;while(el)if(eh(em)){ek.c=em;en=true;el=false;}else if(ej.MoveNext())em=ej.Current();else el=false;return en;},function(){ej.Dispose();});}};};ba.isEmpty=function(eh){var ei;ei=b$.Get(eh);try{return!ei.MoveNext();}finally{if(typeof ei=="object"&&"Dispose"in ei)ei.Dispose();}};ba.map=function(eh,ei){return{GetEnumerator:function(){var ej;ej=b$.Get(ei);return new ca.New(null,null,function(ek){return ej.MoveNext()&&(ek.c=eh(ej.Current()),true);},function(){ej.Dispose();});}};};ba.delay=function(eh){return{GetEnumerator:function(){return b$.Get(eh());}};};ba.append=function(eh,ei){return{GetEnumerator:function(){var ej,ek;ej=b$.Get(eh);ek=[true];return new ca.New(ej,null,function(el){var em;return el.s.MoveNext()?(el.c=el.s.Current(),true):(em=el.s,!E.Equals(em,null)?em.Dispose():void 0,el.s=null,ek[0]&&(ek[0]=false,el.s=b$.Get(ei),el.s.MoveNext()?(el.c=el.s.Current(),true):(el.s.Dispose(),el.s=null,false)));},function(el){var em;em=el.s;!E.Equals(em,null)?em.Dispose():void 0;});}};};ba.collect=function(eh,ei){return ba.concat(ba.map(eh,ei));};ba.min=function(eh){var ei,ej,ek;ei=b$.Get(eh);try{if(!ei.MoveNext())ba.seqEmpty();ej=ei.Current();while(ei.MoveNext()){ek=ei.Current();E.Compare(ek,ej)===-1?ej=ek:void 0;}return ej;}finally{if(typeof ei=="object"&&"Dispose"in ei)ei.Dispose();}};ba.tryPick=function(eh,ei){var ej,ek;ej=b$.Get(ei);try{ek=null;while(E.Equals(ek,null)&&ej.MoveNext())ek=eh(ej.Current());return ek;}finally{if(typeof ej=="object"&&"Dispose"in ej)ej.Dispose();}};ba.tryFind=function(eh,ei){var ej,ek,el;ej=b$.Get(ei);try{ek=null;while(ek==null&&ej.MoveNext()){el=ej.Current();eh(el)?ek={$:1,$0:el}:void 0;}return ek;}finally{if(typeof ej=="object"&&"Dispose"in ej)ej.Dispose();}};ba.exists=function(eh,ei){var ej,ek;ej=b$.Get(ei);try{ek=false;while(!ek&&ej.MoveNext())ek=eh(ej.Current());return ek;}finally{if(typeof ej=="object"&&"Dispose"in ej)ej.Dispose();}};ba.sumBy=function(eh,ei){return ba.fold(function(ej,ek){return ej+eh(ek);},0,ei);};ba.length=function(eh){var ei,ej;ei=0;ej=b$.Get(eh);try{while(ej.MoveNext())ei=ei+1;return ei;}finally{if(typeof ej=="object"&&"Dispose"in ej)ej.Dispose();}};ba.zip=function(eh,ei){return ba.map2(function(ej,ek){return[ej,ek];},eh,ei);};ba.choose=function(eh,ei){return ba.collect(function(ej){var ek;ek=eh(ej);return ek==null?cc.Empty:bA.ofArray([ek.$0]);},ei);};ba.distinct=function(eh){return ba.distinctBy(a.id,eh);};ba.sort=function(eh){return ba.sortBy(a.id,eh);};ba.groupBy=function(eh,ei){return ba.delay(function(){return P.groupBy(eh,P.ofSeq(ei));});};ba.concat=function(eh){return{GetEnumerator:function(){var ei;ei=b$.Get(eh);return new ca.New(null,null,function(ej){var ek;while(true){ek=ej.s;if(E.Equals(ek,null)){if(ei.MoveNext()){ej.s=b$.Get(ei.Current());ej=ej;}else{ei.Dispose();return false;}}else if(ek.MoveNext()){ej.c=ek.Current();return true;}else{ej.Dispose();ej.s=null;ej=ej;}}},function(ej){var ek;ek=ej.s;!E.Equals(ek,null)?ek.Dispose():void 0;!E.Equals(ei,null)?ei.Dispose():void 0;});}};};ba.seqEmpty=function(){return n.FailWith("The input sequence was empty.");};ba.indexed=function(eh){return ba.mapi(function(ei,ej){return[ei,ej];},eh);};ba.fold=function(eh,ei,ej){var ek,el;ek=ei;el=b$.Get(ej);try{while(el.MoveNext())ek=eh(ek,el.Current());return ek;}finally{if(typeof el=="object"&&"Dispose"in el)el.Dispose();}};ba.map2=function(eh,ei,ej){return{GetEnumerator:function(){var ek,el;ek=b$.Get(ei);el=b$.Get(ej);return new ca.New(null,null,function(em){return ek.MoveNext()&&el.MoveNext()&&(em.c=eh(ek.Current(),el.Current()),true);},function(){ek.Dispose();el.Dispose();});}};};ba.tryFindIndex=function(eh,ei){var ej,ek,el;ej=b$.Get(ei);try{ek=true;el=0;while(ek&&ej.MoveNext())if(eh(ej.Current()))ek=false;else el=el+1;return ek?null:{$:1,$0:el};}finally{if(typeof ej=="object"&&"Dispose"in ej)ej.Dispose();}};ba.distinctBy=function(eh,ei){return{GetEnumerator:function(){var ej,ek;ej=b$.Get(ei);ek=new bT.New$3();return new ca.New(null,null,function(el){var em,en;if(ej.MoveNext()){em=ej.Current();en=ek.Add(eh(em));while(!en&&ej.MoveNext()){em=ej.Current();en=ek.Add(eh(em));}return en&&(el.c=em,true);}else return false;},function(){ej.Dispose();});}};};ba.sortBy=function(eh,ei){return ba.delay(function(){var ej;ej=P.ofSeq(ei);P.sortInPlaceBy(eh,ej);return ej;});};ba.mapi=function(eh,ei){return ba.map2(eh,ba.initInfinite(a.id),ei);};ba.pairwise=function(eh){return ba.map(function(ei){return[P.get(ei,0),P.get(ei,1)];},ba.windowed(2,eh));};ba.forall2=function(eh,ei,ej){return!ba.exists2(function(ek,el){return!eh(ek,el);},ei,ej);};ba.iteri=function(eh,ei){var ej,ek;ej=0;ek=b$.Get(ei);try{while(ek.MoveNext()){eh(ej,ek.Current());ej=ej+1;}}finally{if(typeof ek=="object"&&"Dispose"in ek)ek.Dispose();}};ba.initInfinite=function(eh){return{GetEnumerator:function(){return new ca.New(0,null,function(ei){ei.c=eh(ei.s);ei.s=ei.s+1;return true;},void 0);}};};ba.skip=function(eh,ei){return{GetEnumerator:function(){var ej;ej=b$.Get(ei);return new ca.New(true,null,function(ek){var el,em;if(ek.s){for(el=1,em=eh;el<=em;el++)if(!ej.MoveNext())ba.insufficient();ek.s=false;}else null;return ej.MoveNext()&&(ek.c=ej.Current(),true);},function(){ej.Dispose();});}};};ba.nth=function(eh,ei){var ej,ek;if(eh<0)n.FailWith("negative index requested");ej=-1;ek=b$.Get(ei);try{while(ej<eh){!ek.MoveNext()?ba.insufficient():void 0;ej=ej+1;}return ek.Current();}finally{if(typeof ek=="object"&&"Dispose"in ek)ek.Dispose();}};ba.init=function(eh,ei){return ba.take(eh,ba.initInfinite(ei));};ba.windowed=function(eh,ei){eh<=0?n.FailWith("The input must be positive."):void 0;return ba.delay(function(){return ba.enumUsing(b$.Get(ei),function(ej){var ek;ek=[];return ba.append(ba.enumWhile(function(){return ek.length<eh&&ej.MoveNext();},ba.delay(function(){ek.push(ej.Current());return[];})),ba.delay(function(){return ek.length===eh?ba.append([ek.slice(0)],ba.delay(function(){return ba.enumWhile(function(){return ej.MoveNext();},ba.delay(function(){ek.shift();ek.push(ej.Current());return[ek.slice(0)];}));})):[];}));});});};ba.head=function(eh){var ei;ei=b$.Get(eh);try{return ei.MoveNext()?ei.Current():ba.insufficient();}finally{if(typeof ei=="object"&&"Dispose"in ei)ei.Dispose();}};ba.exists2=function(eh,ei,ej){var ek,el,em,en;ek=b$.Get(ei);try{em=b$.Get(ej);try{en=false;while(!en&&ek.MoveNext()&&em.MoveNext())en=eh(ek.Current(),em.Current());el=en;}finally{if(typeof em=="object"&&"Dispose"in em)em.Dispose();}return el;}finally{if(typeof ek=="object"&&"Dispose"in ek)ek.Dispose();}};ba.compareWith=function(eh,ei,ej){var ek,el,em,en,eo;ek=b$.Get(ei);try{em=b$.Get(ej);try{en=0;eo=true;while(eo&&en===0)if(ek.MoveNext())en=em.MoveNext()?eh(ek.Current(),em.Current()):1;else if(em.MoveNext())en=-1;else eo=false;el=en;}finally{if(typeof em=="object"&&"Dispose"in em)em.Dispose();}return el;}finally{if(typeof ek=="object"&&"Dispose"in ek)ek.Dispose();}};ba.iter=function(eh,ei){var ej;ej=b$.Get(ei);try{while(ej.MoveNext())eh(ej.Current());}finally{if(typeof ej=="object"&&"Dispose"in ej)ej.Dispose();}};ba.take=function(eh,ei){eh<0?ba.nonNegative():void 0;return{GetEnumerator:function(){var ej;ej=[b$.Get(ei)];return new ca.New(0,null,function(ek){var el;ek.s=ek.s+1;return ek.s>eh?false:(el=ej[0],E.Equals(el,null)?ba.insufficient():el.MoveNext()?(ek.c=el.Current(),ek.s===eh?(el.Dispose(),ej[0]=null):void 0,true):(el.Dispose(),ej[0]=null,ba.insufficient()));},function(){var ek;ek=ej[0];!E.Equals(ek,null)?ek.Dispose():void 0;});}};};ba.unfold=function(eh,ei){return{GetEnumerator:function(){return new ca.New(ei,null,function(ej){var ek;ek=eh(ej.s);return ek==null?false:(ej.c=ek.$0[0],ej.s=ek.$0[1],true);},void 0);}};};ba.max=function(eh){var ei,ej,ek;ei=b$.Get(eh);try{if(!ei.MoveNext())ba.seqEmpty();ej=ei.Current();while(ei.MoveNext()){ek=ei.Current();E.Compare(ek,ej)===1?ej=ek:void 0;}return ej;}finally{if(typeof ei=="object"&&"Dispose"in ei)ei.Dispose();}};ba.forall=function(eh,ei){return!ba.exists(function(ej){return!eh(ej);},ei);};bc.op_AmpGreater=function(eh,ei,ej,ek){var el;el=eh(ej,ek);return el===0?ei(ej,ek):el;};bc.asc=function(eh,ei,ej){return E.Compare(eh(ei),eh(ej));};bc.desc=function(eh,ei,ej){return E.Compare(eh(ej),eh(ei));};bd.New=function(eh,ei,ej,ek,el,em){return{hijosDe:eh,nivelDe:ei,aliado:ej,aliadoO:ek,hijos:el,descendientes:em};};bf=be.FSharpSet=d$.Class({Contains:function(eh){return cb.Contains(eh,this.tree);},Remove:function(eh){return new bf.New$1(cb.Remove(eh,this.tree));},Add:function(eh){return new bf.New$1(cb.Add(eh,this.tree));},Equals:function(eh){return this.get_Count()===eh.get_Count()&&ba.forall2(E.Equals,this,eh);},GetEnumerator$1:function(){return b$.Get(cb.Enumerate(false,this.tree));},get_Count:function(){var eh;eh=this.tree;return eh==null?0:eh.Count;},GetHashCode:function(){return -1741749453+E.Hash(P.ofSeq(this));},GetEnumerator:function(){return this.GetEnumerator$1();},CompareTo0:function(eh){return ba.compareWith(E.Compare,this,eh);},GetEnumerator0:function(){return this.GetEnumerator$1();}},f,bf);bf.op_Subtraction=function(eh,ei){return bg.Filter(function(ej){return!ei.Contains(ej);},eh);};bf.New=d$.Ctor(function(eh){bf.New$1.call(this,cb.OfSeq(eh));},bf);bf.New$1=d$.Ctor(function(eh){f.New.call(this);this.tree=eh;},bf);bg.Filter=function(eh,ei){var ej;return new bf.New$1((ej=P.ofSeq(ba.filter(eh,ei)),cb.Build(ej,0,ej.length-1)));};bh.PadLeft=function(eh,ei){return bh.PadLeftWith(eh,ei," ");};bh.concat=function(eh,ei){return P.ofSeq(ei).join(eh);};bh.PadLeftWith=function(eh,ei,ej){return ei>eh.length?a.Array(ei-eh.length+1).join(ej)+eh:eh;};bh.Trim=function(eh){return eh.replace(new a.RegExp("^\\s+"),"").replace(new a.RegExp("\\s+$"),"");};bh.Substring=function(eh,ei,ej){return eh.substr(ei,ej);};bh.Replace=function(eh,ei,ej){function ek(el){var em,en,eo;em=el.indexOf(ei);return em!==-1?(en=bh.ReplaceOnce(el,ei,ej),(eo=em+ej.length,bh.Substring(en,0,em+ej.length)+ek(en.substring(eo)))):el;}return ek(eh);};bh.SplitChars=function(eh,ei,ej){return bh.Split(eh,new a.RegExp("["+bh.RegexEscape(ei.join(""))+"]"),ej);};bh.ReplaceOnce=function(eh,ei,ej){return eh.replace(ei,ej);};bh.Split=function(eh,ei,ej){return ej===1?P.filter(function(ek){return ek!=="";},bh.SplitWith(eh,ei)):bh.SplitWith(eh,ei);};bh.RegexEscape=function(eh){return eh.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};bh.StartsWith=function(eh,ei){return eh.substring(0,ei.length)==ei;};bh.SplitWith=function(eh,ei){return eh.split(ei);};bh.replicate=function(eh,ei){return P.create(eh,ei).join("");};bh.IsNullOrEmpty=function(eh){return eh==null||eh=="";};bh.ReplaceChar=function(eh,ei,ej){return bh.Replace(eh,ei,ej);};bh.SplitStrings=function(eh,ei,ej){return bh.Split(eh,new a.RegExp(bh.concat("|",P.map(bh.RegexEscape,ei))),ej);};bh.forall=function(eh,ei){return ba.forall(eh,bh.protect(ei));};bh.protect=function(eh){return eh===null?"":eh;};bh.Join=function(eh,ei){return ei.join(eh);};bi=I.CorreoElectronico=d$.Class({toString:function(){return this.email;}},null,bi);bi.New=function(eh,ei,ej){return new bi({email:eh,enviado:ei,recibido:ej});};bj.formaDoc=function(eh){var ei,ej,ek,el,em,en;ei=(ej=(ek=V.EmbedView(o.Map(bw.crearOptions,bw.generos().get_View())),Q.Make().WithHole({$:0,$0:"generos",$1:ek})),(el=R.CompleteHoles(ej.k,ej.h,[["nombres",0],["apellidos",0],["fechanacimiento",0],["genero",0]]),(em=new O.New(el[1],S.datospersonales(el[0])),(ej.i=em,em))));o.Sink(function(eo){var ep;if(eo!=null&&eo.$==1){ep=eo.$0;ei.Hole("nombres").Set(bh.Trim(ep.nombre1+" "+ep.nombre2));ei.Hole("apellidos").Set(bh.Trim(ep.apellido1+" "+ep.apellido2));ei.Hole("fechanacimiento").Set(bz.toYYYYMMDD("-",ep.fechaNacimiento));ei.Hole("genero").Set((function(eq){return function(er){return eq(T.p$1(er));};}(a.id))(ep.genero));}},eh.get_View());en=o.Apply(o.Apply(o.Map2(function(eo,ep){return function(eq){return function(er){return ba.map(function(es){return es[1];},ba.filter(function(es){return es[0];},bA.ofArray([[bh.Trim(eo)==="","Nombres"],[bh.Trim(ep)==="","Apellidos"],[bh.Trim(eq)==="","Fecha de Nacimiento"],[bh.Trim(er)==="","Genero"]])));};};},ei.Hole("nombres").get_View(),ei.Hole("apellidos").get_View()),ei.Hole("fechanacimiento").get_View()),ei.Hole("genero").get_View());o.Sink(function(eo){if(!E.Equals(eh.Get(),eo))eh.Set(eo);},o.Apply(o.Apply(o.Apply(o.Apply(o.Apply(o.Map2(function(eo,ep){return d$.Curried(function(eq,er,es,et,eu){return!ba.isEmpty(eo)?null:bw.alertIfNone("Genero",cd.tryParse(ep),function(ev){return bw.alertIfNone("Fecha incorrecta",(ce.parseDateO2())(eq),function(ew){return{$:1,$0:bM.New(null,P.get(bh.SplitChars(bh.Trim(er),[" "],0),0),bh.concat(" ",b0.array(bh.SplitChars(bh.Trim(es),[" "],0),{$:1,$0:1},null)),P.get(bh.SplitChars(bh.Trim(et),[" "],0),0),bh.concat(" ",b0.array(bh.SplitChars(bh.Trim(eu),[" "],0),{$:1,$0:1},null)),new cf({$:3,$0:""}),ev,ew)};});});},5);},en,ei.Hole("genero").get_View()),ei.Hole("fechanacimiento").get_View()),ei.Hole("nombres").get_View()),ei.Hole("nombres").get_View()),ei.Hole("apellidos").get_View()),ei.Hole("apellidos").get_View()));return[en,ei.get_Doc()];};bk.formaDoc=function(eh){var ei,ej,ek,el,em,en,eo;ei=h.Create$1("");ej=(ek=Q.Make().WithHole({$:2,$0:"mensaje",$1:ei.get_View()}),(el=R.CompleteHoles(ek.k,ek.h,[["correo",0],["confirmarcorreo",0]]),(em=new O.New(el[1],S.correo(el[0])),(ek.i=em,em))));en=eh.Get();en!=null&&en.$==1?ej.Hole("confirmarcorreo").Set(a.String(en.$0)):void 0;o.Sink(function(ep){ei.Set(ep);},o.Apply(o.Apply(o.Map2(function(ep,eq){return function(er){return function(es){return bh.Trim(ep)===""||bh.Trim(eq)===""||bh.Trim(er)===bh.Trim(es)?"":"Correos no son iguales";};};},ej.Hole("correo").get_View(),ej.Hole("confirmarcorreo").get_View()),ej.Hole("correo").get_View()),ej.Hole("confirmarcorreo").get_View()));o.Sink(function(ep){if(ep!=null&&ep.$==1)ej.Hole("correo").Set(ep.$0.email);},eh.get_View());eo=o.Apply(o.Apply(o.Map2(function(ep,eq){return function(er){return function(es){return ba.map(function(et){return et[1];},ba.filter(function(et){return et[0];},bA.ofArray([[bh.Trim(ep)==="","Correo"],[bh.Trim(eq)==="","ConfirmarCorreo"],[er!=="",es]])));};};},ej.Hole("correo").get_View(),ej.Hole("confirmarcorreo").get_View()),ei.get_View()),ei.get_View());o.Sink(function(ep){if(!E.Equals(eh.Get(),ep))eh.Set(ep);},o.Map2(function(ep,eq){var er,es,et,eu;return!ba.isEmpty(ep)?null:(er=(es=eh.Get(),(et={$:1,$0:I.correoVacio()},es==null?et:es)),er==null?null:{$:1,$0:(eu=er.$0,bi.New(eq,eu.enviado,eu.recibido))});},eo,ej.Hole("correo").get_View()));return[eo,ej.get_Doc()];};bl.formaDoc=function(eh){var ei,ej,ek,el,em,en;ei=(ej=(ek=V.EmbedView(o.Map(bw.crearOptions,bw.tiposTel().get_View())),Q.Make().WithHole({$:0,$0:"tipos",$1:ek})),(el=R.CompleteHoles(ej.k,ej.h,[["tipotelefono",0],["codigopais",0],["codigoarea",0],["telefono",0],["extension",0]]),(em=new O.New(el[1],S.telefono(el[0])),(ej.i=em,em))));o.Sink(function(eo){var ep;if(eo!=null&&eo.$==1){ep=eo.$0;ei.Hole("codigoarea").Set(ep.codigoArea);ei.Hole("codigopais").Set(ep.codigoPais);ei.Hole("telefono").Set(ep.numero);ei.Hole("extension").Set(ep.extension);ei.Hole("tipotelefono").Set((function(eq){return function(er){return eq(a.String(er));};}(a.id))(ep.tipoTelefono));}},eh.get_View());en=o.Apply(o.Map2(function(eo,ep){return function(eq){return ba.map(function(er){return er[1];},ba.filter(function(er){return er[0];},bA.ofArray([[bh.Trim(eo)==="","CodigoPais"],[bh.Trim(ep)==="","Telefono"],[bh.Trim(eq)==="","TipoTelefono"]])));};},ei.Hole("codigopais").get_View(),ei.Hole("telefono").get_View()),ei.Hole("tipotelefono").get_View());o.Sink(function(eo){if(!E.Equals(eh.Get(),eo))eh.Set(eo);},o.Apply(o.Apply(o.Apply(o.Apply(o.Map2(function(eo,ep){return d$.Curried(function(eq,er,es,et){return!ba.isEmpty(eo)?null:bw.alertIfNone("TipoTelefono",(ch.get_tryParse())(bh.Trim(ep)),function(eu){var ev;return{$:1,$0:(ev=bh.Trim(eq),cg.New(eu,bh.Trim(er),ev,bh.Trim(es),bh.Trim(et),false))};});},4);},en,ei.Hole("tipotelefono").get_View()),ei.Hole("codigoarea").get_View()),ei.Hole("codigopais").get_View()),ei.Hole("telefono").get_View()),ei.Hole("extension").get_View()));return[en,ei.get_Doc()];};bm.formaDoc=function(eh){var ei,ej,ek,el,em,en,eo,ep;ei=(ej=(ek=V.EmbedView(o.Map(bw.crearOptions,bw.tiposDir().get_View())),(el=V.EmbedView(o.Map(bw.crearOptions,bw.estados().get_View())),(em=V.EmbedView(o.Map(bw.crearOptions,bw.paises().get_View())),Q.Make().WithHole({$:0,$0:"paises",$1:em})).WithHole({$:0,$0:"estados",$1:el})).WithHole({$:0,$0:"tipos",$1:ek})),(en=R.CompleteHoles(ej.k,ej.h,[["tipodireccion",0],["direccion1",0],["direccion2",0],["ciudad",0],["estado",0],["codigopostal",0],["pais",0]]),(eo=new O.New(en[1],S.direccion(en[0])),(ej.i=eo,eo))));o.Sink(function(eq){var er;if(eq!=null&&eq.$==1){er=eq.$0;ei.Hole("direccion1").Set(er.linea1);ei.Hole("direccion2").Set(er.linea2);ei.Hole("ciudad").Set(er.ciudad);ei.Hole("estado").Set((function(es){return function(et){return es(a.String(et));};}(a.id))(er.estado));ei.Hole("pais").Set((function(es){return function(et){return es(a.String(et));};}(a.id))(er.pais));ei.Hole("codigopostal").Set((function(es){return function(et){return es(a.String(et));};}(a.id))(er.zonaPostal));ei.Hole("tipodireccion").Set((function(es){return function(et){return es(a.String(et));};}(a.id))(er.tipoDireccion));}},eh.get_View());ep=o.Apply(o.Apply(o.Apply(o.Apply(o.Map2(function(eq,er){return d$.Curried(function(es,et,eu,ev){return ba.map(function(ew){return ew[1];},ba.filter(function(ew){return ew[0];},bA.ofArray([[bh.Trim(eq)==="","Direccion1"],[bh.Trim(er)==="","Ciudad"],[bh.Trim(es)==="","Estado"],[bh.Trim(et)==="","Pais"],[bh.Trim(eu)==="","CodigoPostal"],[bh.Trim(ev)==="","TipoDireccion"]])));},4);},ei.Hole("direccion1").get_View(),ei.Hole("ciudad").get_View()),ei.Hole("estado").get_View()),ei.Hole("pais").get_View()),ei.Hole("codigopostal").get_View()),ei.Hole("tipodireccion").get_View());o.Sink(function(eq){if(!E.Equals(eh.Get(),eq))eh.Set(eq);},o.Apply(o.Apply(o.Apply(o.Apply(o.Apply(o.Apply(o.Apply(o.Map2(function(eq,er){return d$.Curried(function(es,et,eu,ev,ew,ex,ey){return!ba.isEmpty(eq)?null:bw.alertIfNone("TipoDireccion",cj.tryParse(bh.Trim(er)),function(ez){return bw.alertIfNone("Estado",ck.tryParse(bh.Trim(es)),function(eA){return bw.alertIfNone("Pais",cf.tryParse(bh.Trim(et)),function(eB){return bw.alertIfNone("CodigoPostal",cl.tryParse(bh.Trim(eu)),function(eC){var eD;return{$:1,$0:ci.New((eD=ey==null?null:{$:1,$0:ey.$0.authorizeIdR},eD==null?bb.Error(""):eD.$0),ez,bh.Trim(ev),bh.Trim(ew),bh.Trim(ex),eA,eB,eC)};});});});});},7);},ep,ei.Hole("tipodireccion").get_View()),ei.Hole("estado").get_View()),ei.Hole("pais").get_View()),ei.Hole("codigopostal").get_View()),ei.Hole("direccion1").get_View()),ei.Hole("direccion2").get_View()),ei.Hole("ciudad").get_View()),eh.get_View()));return[ep,ei.get_Doc()];};bo.asyncResultM=function(){bQ.$cctor();return bQ.asyncResultM;};bo["AsyncResultMBuilder.Bind"]=function(eh,ei,ej){function ek(el){return cy.Return(el);}return bp.bind(ej,cy.Bind(ei,function(el){return ek(bn.OkM$1(el));}));};bq=bp.AsyncResultMBuilder=d$.Class({Run:function(eh){return bp.bind(eh,bp.rtn());},Delay:a.id,Bind$4:function(eh,ei){return bp.bind(ei,eh);},Zero:function(){return bp.rtn();},Combine$1:function(eh,ei){return bp.bind(ei,eh);},For:function(eh,ei){var ej;ej=this;return this.Using(b$.Get(eh),function(ek){return ej.While(function(){return ek.MoveNext();},ej.Delay(function(){return ei(ek.Current());}));});},Bind$2:function(eh,ei){return bp.bindM(ei,eh);},Return:function(eh){return bp.rtn(eh);},Bind$1:function(eh,ei){return bp.bindR(ei,eh);},Using:function(eh,ei){return cy.Using(eh,ei);},While:function(eh,ei){return bp.whileLoop(eh,ei);},TryFinally:function(eh,ei){var ej;ej=null;return cy.Delay(function(){return cy.TryFinally(cy.Delay(function(){return eh();}),function(){ei();});});},ReturnFrom$4:a.id},f,bq);bq.New=d$.Ctor(function(){f.New.call(this);},bq);br.refrescarData=function(eh){var ei,ej,ek;eh?br.set_shouldRefresh(true):void 0;ei=bH.userO().Get();ei!=null&&ei.$==1?(ej=ei.$0,W.iterA((ek=bo.asyncResultM(),ek.Run(ek.Delay(function(){return ek.Combine$1(bH.referidoPor()!==""?ek.Bind$4(W.agregarUsuarioSiEsNuevo(bH.claims(ej)),function(){return ek.Return();}):ek.Zero(),ek.Delay(function(){return!self.document.hidden?br.shouldRefresh()?ek.Bind$4(W.obtenerEstadoParaUsuario(),function(el){br.set_shouldRefresh(false);return!E.Equals(l.modeloV().Get(),el)?(l.modeloV().Set(el),ek.Zero()):ek.Zero();}):ek.Zero():ek.Zero();}));}))))):l.modeloV().Set(I.modeloVacio());};br.set_shouldRefresh=function(eh){_1.$cctor();_1.shouldRefresh=eh;};br.shouldRefresh=function(){_1.$cctor();return _1.shouldRefresh;};bt.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new a.RegExp("[xy]","g"),function(eh){var ei,ej;ei=ea.random()*16|0;ej=eh=="x"?ei:ei&3|8;return ej.toString(16);});};bt.TryParse=function(eh,ei){try{ei.set(bt.Parse(eh));return true;}catch(ej){return false;}};bt.Parse=function(eh){var ei,ej,ek;try{return bt.ParseExact(eh,"D");}catch(el){try{ei=bt.ParseExact(eh,"B");}catch(em){try{ej=bt.ParseExact(eh,"P");}catch(en){try{ek=bt.ParseExact(eh,"N");}catch(eo){ek=bt.ParseExact(eh,"X");}ej=ek;}ei=ej;}return ei;}};bt.ParseExact=function(eh,ei){var ej,ek,el,en,eo,ep,eq,er,es,et,eu,ev,ew;function em(ex){var ey,ez,eA,eB;for(ey=0,ez=35;ey<=ez;ey++){ey===8||(ey===13||(ey===18||ey===23))?ex[ey]!=="-"?bt.ShapeError():void 0:(eB=ex[ey],!("0"<=eB&&eB<="9"||"a"<=eB&&eB<="f")?bt.ShapeError():void 0);}return ex;}en=ei.toUpperCase();if(en==="N"){eo=bh.Trim(eh).toLowerCase();if(eo.length!==32)bt.ShapeError();for(ep=0,eq=31;ep<=eq;ep++){er=eo[ep];!("0"<=er&&er<="9"||"a"<=er&&er<="f")?bt.ShapeError():void 0;}return bh.Substring(eo,0,8)+"-"+bh.Substring(eo,8,4)+"-"+bh.Substring(eo,12,4)+"-"+bh.Substring(eo,16,4)+"-"+eo.substring(20);}else if(en==="D"){ej=bh.Trim(eh).toLowerCase();ej.length!==36?bt.ShapeError():void 0;return em(ej);}else if(en==="B"){ek=bh.Trim(eh).toLowerCase();ek.length!==38||ek[0]!=="{"||ek[17]!=="}"?bt.ShapeError():void 0;return em(bh.Substring(ek,1,36));}else if(en==="P"){el=bh.Trim(eh).toLowerCase();el.length!==38||el[0]!=="("||el[17]!==")"?bt.ShapeError():void 0;return em(bh.Substring(el,1,36));}else if(en==="X"){es=bh.Trim(eh).toLowerCase();if(es.length!==68)bt.ShapeError();for(et=0,eu=67;et<=eu;et++){switch(et){case 26:case 0:if(es[et]!=="{")bt.ShapeError();break;case 62:case 57:case 52:case 47:case 42:case 37:case 32:case 27:case 19:case 12:case 1:if(es[et]!=="0")bt.ShapeError();break;case 63:case 58:case 53:case 48:case 43:case 38:case 33:case 28:case 20:case 13:case 2:if(es[et]!=="x")bt.ShapeError();break;case 61:case 56:case 51:case 46:case 41:case 36:case 31:case 25:case 18:case 11:if(es[et]!==",")bt.ShapeError();break;case 67:case 66:if(es[et]!=="{")bt.ShapeError();break;default:ew=es[et];!("0"<=ew&&ew<="9"||"a"<=ew&&ew<="f")?bt.ShapeError():void 0;break;}}return bh.Substring(es,3,8)+"-"+bh.Substring(es,14,4)+"-"+bh.Substring(es,21,4)+"-"+bh.Substring(es,29,2)+bh.Substring(es,34,2)+"-"+bh.Substring(es,39,2)+bh.Substring(es,44,2)+bh.Substring(es,49,2)+bh.Substring(es,54,2)+bh.Substring(es,59,2)+bh.Substring(es,64,2);}else return bt.FormatError();};bt.ShapeError=function(){throw new dY.New$1("Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");};bt.FormatError=function(){throw new dY.New$1("Format String can be only \"D\", \"d\", \"N\", \"n\", \"P\", \"p\", \"B\", \"b\", \"X\" or \"x\".");};bp.iterA=function(eh,ei,ej){function ek(em){bF.iter(eh,ei,em);}function el(em){return cy.Return(em);}cy.Start(cy.Bind(ej,function(em){return el(ek(em));}),null);};bp.rtn=function(eh){return cy.Return(bn.OkM$1(eh));};bp.bind=function(eh,ei){var ej;ej=null;return cy.Delay(function(){return cy.TryWith(cy.Delay(function(){return cy.Bind(ei,function(ek){var el,em;function en(ep){return bF.addMsg(em,ep);}function eo(ep){return cy.Return(ep);}el=bn.OkM(ek);return el.$==1?cy.Return(bn.ErrorM(el.$0)):(em=el.$0[1],cy.Bind(eh(el.$0[0]),function(ep){return eo(en(ep));}));});}),function(ek){return cy.Return(bn.ErrorM(new bu({$:5,$0:ek.message,$1:ek.stack})));});});};bp.bindM=function(eh,ei){return bp.bind(eh,bp.rtnM(ei));};bp.iterpA=function(eh,ei){function ej(ek){bb.print(ek);}bp.iterA(function(ek){return ej(bu.summarized(ek));},eh,ei);};bp.bindR=function(eh,ei){return bp.bind(eh,bp.rtnR(ei));};bp.whileLoop=function(eh,ei){return eh()?bp.bind(function(){return bp.whileLoop(eh,ei);},ei()):bp.rtn();};bp.rtnM=function(eh){return cy.Return(bF.rtnM(eh));};bp.rtnR=function(eh){return cy.Return(eh);};bu.summarized=function(eh){return bu.summarizedF(function(){return[1,0,0];},eh);};bu.summarizedF=function(eh,ei){return bh.concat("\n",ba.filter(function(ej){return""!==ej;},bA.ofArray([a.String(ei),bu.summaryF(eh,ei)])));};bu.summaryF=function(eh,ei){var ej,ek;ek=bu.countF(eh,ei);switch(ek[0]===0?ek[1]===0?0:ek[1]===1?ek[2]===0?0:(ej=ek[1],2):(ej=ek[1],2):ek[0]===1?ek[1]===0?ek[2]===0?0:(ej=ek[0],1):(ej=[ek[0],ek[1]],3):ek[1]===0?(ej=ek[0],1):(ej=[ek[0],ek[1]],3)){case 0:return"";case 1:return(function(el){return function(em){return el("Errors   : "+a.String(em)+"\n");};}(a.id))(ej);case 2:return(function(el){return function(em){return el("Warnings : "+a.String(em)+"\n");};}(a.id))(ej);case 3:return(((d$.Curried3(function(el,em,en){return el("Errors   : "+a.String(em)+", Warnings: "+a.String(en)+"\n");}))(a.id))(ej[0]))(ej[1]);}};bu.addMsg=function(eh,ei){return eh.$==0?ei:eh.$==6?ei.$==0?eh:ei.$==6?new bu({$:6,$0:eh.$0.concat(ei.$0)}):new bu({$:6,$0:eh.$0.concat([ei])}):ei.$==0?eh:ei.$==6?new bu({$:6,$0:[eh].concat(ei.$0)}):new bu({$:6,$0:[eh,ei]});};bu.countF=function(eh,ei){function ej(ek,el,em){return function(en){return[ek+en[0],el+en[1],em+en[2]];};}return ei.$==0?[0,0,0]:ei.$==3?[0,0,1]:ei.$==2?[0,1,0]:ei.$==4?eh(ei.$0):ei.$==6?ba.fold(function(ek,el){return(function(em){return ej(em[0],em[1],em[2]);}(ek))(el);},[0,0,0],ba.map(function(ek){return bu.countF(eh,ek);},bu.exclnoMsg(ei.$0))):[1,0,0];};bu.exclnoMsg=function(eh){function ei(ej){return!ej;}return ba.filter(function(ej){return ei(bu.noMsg(ej));},eh);};bu.noMsg=function(eh){return eh.$==0;};bv.New=function(eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es){return{nombre:eh,status:ei,influyente:ej,tipo:ek,referido:el,nivel:em,referidos:en,descendientes:eo,comision:ep,diaPago:eq,desde:er,Id:es};};P.map=function(eh,ei){var ej,ek,el;ej=new a.Array(ei.length);for(ek=0,el=ei.length-1;ek<=el;ek++)ej[ek]=eh(ei[ek]);return ej;};P.sortBy=function(eh,ei){return P.map(function(ej){return ej[0];},P.mapi(function(ej,ek){return[ek,[eh(ek),ej]];},ei).sort(function(ej,ek){return E.Compare(ej[1],ek[1]);}));};P.reduce=function(eh,ei){var ej,ek,el;P.nonEmpty(ei);ej=ei[0];for(ek=1,el=ei.length-1;ek<=el;ek++)ej=eh(ej,ei[ek]);return ej;};P.filter=function(eh,ei){var ej,ek,el;ej=[];for(ek=0,el=ei.length-1;ek<=el;ek++)if(eh(ei[ek]))ej.push(ei[ek]);return ej;};P.choose=function(eh,ei){var ej,ek,el,em;ej=[];for(ek=0,el=ei.length-1;ek<=el;ek++){em=eh(ei[ek]);em==null?void 0:ej.push(em.$0);}return ej;};P.ofSeq=function(eh){var ei,ej;if(eh instanceof a.Array)return eh.slice();else if(eh instanceof cc)return P.ofList(eh);else{ei=[];ej=b$.Get(eh);try{while(ej.MoveNext())ei.push(ej.Current());return ei;}finally{if(typeof ej=="object"&&"Dispose"in ej)ej.Dispose();}}};P.sortInPlaceWith=function(eh,ei){ei.sort(eh);};P.mapi=function(eh,ei){var ej,ek,el;ej=new a.Array(ei.length);for(ek=0,el=ei.length-1;ek<=el;ek++)ej[ek]=eh(ek,ei[ek]);return ej;};P.nonEmpty=function(eh){if(eh.length===0)n.FailWith("The input array was empty.");};P.tryFindIndex=function(eh,ei){var ej,ek;ej=null;ek=0;while(ek<ei.length&&ej==null){eh(ei[ek])?ej={$:1,$0:ek}:void 0;ek=ek+1;}return ej;};P.ofList=function(eh){var ei,ej;ej=[];ei=eh;while(!(ei.$==0)){ej.push(bA.head(ei));ei=bA.tail(ei);}return ej;};P.sortInPlace=function(eh){P.mapInPlace(function(ei){return ei[0];},P.mapiInPlace(function(ei,ej){return[ej,ei];},eh).sort(E.Compare));};P.tryFind=function(eh,ei){var ej,ek;ej=null;ek=0;while(ek<ei.length&&ej==null){eh(ei[ek])?ej={$:1,$0:ei[ek]}:void 0;ek=ek+1;}return ej;};P.sortInPlaceBy=function(eh,ei){P.mapInPlace(function(ej){return ej[0];},P.mapiInPlace(function(ej,ek){return[ek,[eh(ek),ej]];},ei).sort(function(ej,ek){return E.Compare(ej[1],ek[1]);}));};P.map2=function(eh,ei,ej){var ek,el,em;P.checkLength(ei,ej);ek=new a.Array(ej.length);for(el=0,em=ej.length-1;el<=em;el++)ek[el]=eh(ei[el],ej[el]);return ek;};P.forall=function(eh,ei){var ej,ek,el,em;ej=true;ek=0;em=P.length(ei);while(ej&&ek<em)if(eh(ei[ek]))ek=ek+1;else ej=false;return ej;};P.init=function(eh,ei){var ej,ek,el;eh<0?n.FailWith("Negative size given."):null;ej=new a.Array(eh);for(ek=0,el=eh-1;ek<=el;ek++)ej[ek]=ei(ek);return ej;};P.tryPick=function(eh,ei){var ej,ek,el;ej=null;ek=0;while(ek<ei.length&&ej==null){el=eh(ei[ek]);el!=null&&el.$==1?ej=el:void 0;ek=ek+1;}return ej;};P.concat=function(eh){return a.Array.prototype.concat.apply([],P.ofSeq(eh));};P.checkLength=function(eh,ei){if(eh.length!==ei.length)n.FailWith("The arrays have different lengths.");};P.exists=function(eh,ei){var ej,ek,el,em;ej=false;ek=0;em=P.length(ei);while(!ej&&ek<em)if(eh(ei[ek]))ej=true;else ek=ek+1;return ej;};P.pick=function(eh,ei){var ej;ej=P.tryPick(eh,ei);return ej==null?n.FailWith("KeyNotFoundException"):ej.$0;};P.create=function(eh,ei){var ej,ek,el;ej=new a.Array(eh);for(ek=0,el=eh-1;ek<=el;ek++)ej[ek]=ei;return ej;};P.foldBack=function(eh,ei,ej){var ek,el,em,en,eo;ek=ej;em=ei.length;for(en=1,eo=em;en<=eo;en++)ek=eh(ei[em-en],ek);return ek;};P.iter=function(eh,ei){var ej,ek;for(ej=0,ek=ei.length-1;ej<=ek;ej++)eh(ei[ej]);};P.findIndex=function(eh,ei){var ej;ej=P.tryFindIndex(eh,ei);return ej==null?n.FailWith("KeyNotFoundException"):ej.$0;};P.find=function(eh,ei){var ej;ej=P.tryFind(eh,ei);return ej==null?n.FailWith("KeyNotFoundException"):ej.$0;};bw.statuses=function(){_1.$cctor();return _1.statuses;};bw.crearOptions=function(eh){return V.Concat(ba.map(bw.crearOption,eh));};bw.crearOptions2=function(eh){return V.Concat(ba.map(function(ei){return bw.crearOption2(ei[0],ei[1]);},eh));};bw.paises=function(){_1.$cctor();return _1.paises;};bw.estados=function(){_1.$cctor();return _1.estados;};bw.tiposDir=function(){_1.$cctor();return _1.tiposDir;};bw.tiposTel=function(){_1.$cctor();return _1.tiposTel;};bw.generos=function(){_1.$cctor();return _1.generos;};bw.tiposCta=function(){_1.$cctor();return _1.tiposCta;};bw.tiposTar=function(){_1.$cctor();return _1.tiposTar;};bw.aniosV=function(){_1.$cctor();return _1.aniosV;};bw.mesesV=function(){_1.$cctor();return _1.mesesV;};bw.alertIfNone=function(eh,ei,ej){return ei!=null&&ei.$==1?ej(ei.$0):(a.alert("Error not caught: "+eh),null);};bw.removeButton=function(eh,ei){return V.Element("form",[cQ.Create("class","mui-panel")],[ei,V.Button("borrar",[cQ.Create("title","borrar")],eh)]);};bw.fst3=a.id;bw.crearOption=function(eh){return V.Element("option",[],[V.TextNode(eh)]);};bw.crearOption2=function(eh,ei){return V.Element("option",[cQ.Create("value",ei)],[V.TextNode(eh)]);};bw.thr3=function(eh,ei,ej){return ej;};bw.snd3=function(eh,ei,ej){return ei;};bu=bb.ResultMessage=d$.Class({toString:function(){return this.$==1?(function(eh){return function(ei){return eh("Error    : "+by.toSafe(ei));};}(a.id))(this.$0):this.$==2?(function(eh){return function(ei){return eh("Warning  : "+by.toSafe(ei));};}(a.id))(this.$0):this.$==3?this.$0:this.$==4?(function(eh){return function(ei){return eh(a.String(ei));};}(a.id))(this.$0):this.$==5?(((d$.Curried3(function(eh,ei,ej){return eh("Exception: "+by.toSafe(ei)+", "+by.toSafe(ej));}))(a.id))(this.$0))(this.$1):this.$==6?bh.concat("\n",ba.map(a.String,ba.filter(function(eh){return eh.$!=0;},this.$0))):"";}},null,bu);bu.NoMsg=new bu({$:0});bx=I.StatusAliado=d$.Class({toString:function(){return(function(eh){return function(ei){return eh(_9.p(ei));};}(a.id))(this);}},null,bx);bx.tryParse=function(eh){var ei;ei=bh.Trim(eh).toUpperCase();return ei==="CUENTACREADA"?bx.CuentaCreada:ei==="DATOSBANCARIOSINGRESADOS"?bx.DatosBancariosIngresados:ei==="ACTIVO"?bx.Activo:ei==="CANCELADO"?bx.Cancelado:bx.Inactivo;};bx.CuentaCreada=new bx({$:0});bx.DatosBancariosIngresados=new bx({$:1});bx.Activo=new bx({$:2});bx.Cancelado=new bx({$:4});bx.Inactivo=new bx({$:3});by.toSafe=function(eh){return eh==null?"":eh;};by.prettyPrint=function(eh){var ei,ej;function ek(el,em){return el+" = "+by.prettyPrint(em);}return eh===null?"null":(ei=typeof eh,ei=="string"?"\""+eh+"\"":ei=="object"?eh instanceof a.Array?"[|"+bh.concat("; ",P.map(by.prettyPrint,eh))+"|]":(ej=a.String(eh),ej==="[object Object]"?"{"+bh.concat("; ",P.map(function(el){return ek(el[0],el[1]);},D.GetFields(eh)))+"}":ej):a.String(eh));};by.padNumLeft=function(eh,ei){var ej;ej=P.get(eh,0);return ej===" "||ej==="+"||ej==="-"?ej+bh.PadLeftWith(eh.substr(1),ei-1,"0"):bh.PadLeftWith(eh,ei,"0");};by.printList=function(eh,ei){return"["+bh.concat("; ",ba.map(eh,ei))+"]";};bb["String.Right"]=function(eh,ei){var ej,ek;return bb["String.Substring2"](eh,(ej=0,(ek=eh.length-ei,E.Compare(ej,ek)===1?ej:ek)),eh.length);};bb.print=function(eh){if(typeof eh=="string")((function(ei){return function(ej){return ei(by.toSafe(ej));};}(function(ei){ec.log(ei);}))(eh));else((function(ei){return function(ej){return ei(by.prettyPrint(ej));};}(function(ei){ec.log(ei);}))(eh));};bb.Error=function(eh){return{$:1,$0:eh};};bb["String.Substring2"]=function(eh,ei,ej){var ek,el;while(true){if(ej<=0)return"";else if(ei<0){ek=ei;ei=0;ej=ej+ek;}else return ei>=eh.length?"":bh.Substring(eh,ei,(el=eh.length-ei,E.Compare(ej,el)===-1?ej:el));}};bb["String.Left"]=function(eh,ei){return ei<0?bb["String.Substring2"](eh,0,eh.length+ei):bb["String.Substring2"](eh,0,ei);};bb.delayed=function(eh,ei){var ej;ej=[null];return function(ek){var el,em;el=ej[0];el==null?void 0:el.$0.Cancel$1();ej[0]={$:1,$0:new dl.New()};cy.Start((em=null,cy.Delay(function(){return cy.Bind(cy.Sleep(eh),function(){ei(ek);return cy.Zero();});})),{$:1,$0:ej[0].$0});};};bz.toYYYYMMDD=function(eh,ei){return((((((d$.Curried(function(ej,ek,el,em,en,eo){return ej(a.String(ek)+by.toSafe(el)+by.padNumLeft(a.String(em),2)+by.toSafe(en)+by.padNumLeft(a.String(eo),2));},6))(a.id))((new ee(ei)).getFullYear()))(eh))((new ee(ei)).getMonth()+1))(eh))((new ee(ei)).getDate());};bA.ofArray=function(eh){var ei,ej,ek;ei=cc.Empty;for(ej=P.length(eh)-1,ek=0;ej>=ek;ej--)ei=new cc({$:1,$0:P.get(eh,ej),$1:ei});return ei;};bA.ofSeq=function(eh){var ei,ej,ek,el,em,en;if(eh instanceof cc)return eh;else if(eh instanceof a.Array)return bA.ofArray(eh);else{ei=b$.Get(eh);try{ek=ei.MoveNext();if(!ek)ej=cc.Empty;else{em=new cc({$:1});el=em;while(ek){el.$0=ei.Current();ei.MoveNext()?el=(en=new cc({$:1}),el.$1=en,en):ek=false;}el.$1=cc.Empty;ej=em;}return ej;}finally{if(typeof ei=="object"&&"Dispose"in ei)ei.Dispose();}}};bA.rev=function(eh){var ei,ej;ei=cc.Empty;ej=eh;while(ej.$==1){ei=new cc({$:1,$0:ej.$0,$1:ei});ej=ej.$1;}return ei;};bA.head=function(eh){return eh.$==1?eh.$0:bA.listEmpty();};bA.tail=function(eh){return eh.$==1?eh.$1:bA.listEmpty();};bA.listEmpty=function(){return n.FailWith("The input list was empty.");};bA.iter=function(eh,ei){var ej;ej=ei;while(ej.$==1){eh(bA.head(ej));ej=bA.tail(ej);}};bB.New=function(eh,ei,ej,ek,el){return{titular:eh,banco:ei,tipo:ej,numero:ek,routing:el};};bC=I.RoutingNumber=d$.Class({get_Id:function(){return this.$0;}},null,bC);bD=I.NumeroCuenta=d$.Class({get_Id:function(){return this.$0;}},null,bD);bE.New=function(eh,ei,ej){return{nombre:eh,authorizeIdR:ei,cuentaPago:ej};};I.ctaVacio=function(){bQ.$cctor();return bQ.ctaVacio;};I.premisasCalculo=function(){bQ.$cctor();return bQ.premisasCalculo;};I.correoVacio=function(){bQ.$cctor();return bQ.correoVacio;};I.modeloVacio=function(){bQ.$cctor();return bQ.modeloVacio;};I.telVacio=function(){bQ.$cctor();return bQ.telVacio;};I.dirVacio=function(){bQ.$cctor();return bQ.dirVacio;};I.tarVacio=function(){bQ.$cctor();return bQ.tarVacio;};bF.defaultValue=function(eh,ei){return cA.defaultValue(eh,bF.toResult(ei));};bF.iter=function(eh,ei,ej){var ek;ek=bF.mapP(ei,ej);ek.$0==null?eh(ek.$1):void 0;};bF.ofResult=function(eh){return bF.rtnr(eh);};bF.toResult=function(eh){return eh.$0==null?bb.Error(eh.$1):{$:0,$0:eh.$0.$0};};bF.addMsg=function(eh,ei){return bF.mapMessage(function(ej){return bu.addMsg(eh,ej);},ei);};bF.mapP=function(eh,ei){return bF.bindP(function(ej){return bF.rtn(eh(ej));},ei);};bF.rtnr=function(eh){return cA.defaultWith(bn.ErrorM,ct.Map(bn.OkM$1,eh));};bF.mapMessage=function(eh,ei){return{$:0,$0:ei.$0,$1:eh(ei.$1)};};bF.bindP=function(eh,ei){var ej;if(ei.$0==null)return{$:0,$0:null,$1:ei.$1};else{ej=ei.$1;try{return bF.mapMessage(function(ek){return bu.addMsg(ej,ek);},eh(ei.$0.$0));}catch(ek){return bn.ErrorM(new bu({$:5,$0:ek.message,$1:ek.stack}));}}};bF.rtn=function(eh){return bn.OkM$1(eh);};bF.rtnM=function(eh){return bn.OkMWithMsg(null,eh);};bF.bind=function(eh,ei){var ej;return ei.$0==null?{$:0,$0:null,$1:ei.$1}:(ej=ei.$1,bF.mapMessage(function(ek){return bu.addMsg(ej,ek);},eh(ei.$0.$0)));};bG.New=function(eh,ei,ej){return{actName:eh,actFunction:ei,actEnabled:ej};};bH.logout=function(){bH.executePolicy(true,b2.SignIn);};bH.userO=function(){_1.$cctor();return _1.userO;};bH.storeValue=function(eh,ei){bH.storage().setItem(eh,ei);return ei;};bH.getAuthority=function(eh,ei){return((((d$.Curried(function(ej,ek,el,em){return ej("https://"+by.toSafe(ek)+".b2clogin.com/tfp/"+by.toSafe(el)+".onmicrosoft.com/"+by.toSafe(em));},4))(a.id))(eh))(eh))(ei);};bH.tenantName=function(){_1.$cctor();return _1.tenantName;};bH.signInPolicy=function(){_1.$cctor();return _1.signInPolicy;};bH.applicationId=function(){_1.$cctor();return _1.applicationId;};bH.authority=function(){_1.$cctor();return _1.authority;};bH.callback=function(eh,ei,ej,ek,el){((function(em){return function(en){return em("callback: "+("("+by.prettyPrint(en[0])+", "+by.prettyPrint(en[1])+", "+by.prettyPrint(en[2])+", "+by.prettyPrint(en[3])+", "+by.prettyPrint(en[4])+")"));};}(function(em){ec.log(em);}))([eh,ej,ek,ei,el]));};bH.checkUser=function(){var eh;cy.Start((eh=null,cy.Delay(function(){return cy.Bind(cy.Sleep(100),function(){return cy.While(function(){return true;},cy.Delay(function(){var ei,ej;ei=(ej=bH.agent().getUser(),E.Equals(ej,null)?null:{$:1,$0:ej});return cy.Combine(bH.getId(ei)!==bH.getId(bH.userO().Get())?(bH.userO().Set(ei),cy.Zero()):cy.Zero(),cy.Delay(function(){return cy.Combine(E.Equals(bH.userO().Get(),null)?(bH.executePolicy(false,b2.SignIn),cy.Zero()):cy.Zero(),cy.Delay(function(){return cy.Bind(cy.Sleep(9000),function(){return cy.Return(null);});}));}));}));});})),null);};bH.referidoPor=function(){return bH.localStorage().getItem("referidoPor");};bH.claims=function(eh){var ei;ei=[["oid",eh.idToken.oid],["city",eh.idToken.city],["country",eh.idToken.country],["extension_DateOfBirth",eh.idToken.extension_DateOfBirth],["given_name",eh.idToken.given_name],["postalCode",eh.idToken.postalCode],["state",eh.idToken.state],["streetAddress",eh.idToken.streetAddress],["family_name",eh.idToken.family_name],["emails",P.get(eh.idToken.emails,0)],["referidoPor",bH.referidoPor()]];bH.localStorage().setItem("referidoPor","");return ei;};bH.executePolicy=function(eh,ei){bH.storeValue("forceLogin",eh?"1":"0");bH.storeValue("goInsideLink",self.location.href);bH.storeValue("policyType",a.String(ei));self.location.replace("blob/Msal.html");};bH.storage=function(){_1.$cctor();return _1.storage;};bH.agent=function(){_1.$cctor();return _1.agent;};bH.getId=function(eh){var ei;ei=eh==null?null:{$:1,$0:eh.$0.idToken.oid};return ei==null?"":ei.$0;};bH.localStorage=function(){_1.$cctor();return _1.localStorage;};bJ.New=function(eh,ei){return{lytName:eh,lytDefinition:ei};};bK.$cctor=function(){var eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM;bK.$cctor=a.ignore;function eN(fi){return bh.concat("\n",fi);}function eO(fi){return bZ.splitByChar("\n",fi);}function eP(fi){var fj,fk;return b0.array(fi,{$:1,$0:0},{$:1,$0:(fj=0,(fk=P.length(fi)-2,E.Compare(fj,fk)===1?fj:fk))});}function eQ(fi){return bh.concat("\n",fi);}function eR(fi){return fi+"T00:00:00";}function eS(fi){var fj;function fk(fm){return j.plugIns().TryFindByKey(fm);}function fl(fm){var fn;fn=j.defaultPlugIn();return fm==null?fn:fm.$0;}fj=function(fm){return fm==null?null:fk(fm.$0);};return function(fm){return fl(fj(fm));};}function eT(fi){var fj;fj=null;return el.TryGetValue(fi,{get:function(){return fj;},set:function(fk){fj=fk;}})?{$:1,$0:fj}:null;}function eU(fi,fj){el.set_Item(fi,fj);return fj;}function eV(fi,fj){var fk;fk=eT(fi);return fk==null?eU(fi,fj(fi)):fk.$0;}function eW(fi){var fj;fj=null;return eo.TryGetValue(fi,{get:function(){return fj;},set:function(fk){fj=fk;}})?{$:1,$0:fj}:null;}function eX(fi,fj){eo.set_Item(fi,fj);return fj;}function eY(fi,fj){var fk;fk=eW(fi);return fk==null?eX(fi,fj(fi)):fk.$0;}function eZ(fi){var fj;fj=null;return er.TryGetValue(fi,{get:function(){return fj;},set:function(fk){fj=fk;}})?{$:1,$0:fj}:null;}function e0(fi,fj){er.set_Item(fi,fj);return fj;}function e1(fi,fj){var fk;fk=eZ(fi);return fk==null?e0(fi,fj(fi)):fk.$0;}function e2(fi){var fj;fj=null;return eu.TryGetValue(fi,{get:function(){return fj;},set:function(fk){fj=fk;}})?{$:1,$0:fj}:null;}function e3(fi,fj){eu.set_Item(fi,fj);return fj;}function e4(fi,fj){var fk;fk=e2(fi);return fk==null?e3(fi,fj(fi)):fk.$0;}function e5(fi){var fj;fj=null;return ex.TryGetValue(fi,{get:function(){return fj;},set:function(fk){fj=fk;}})?{$:1,$0:fj}:null;}function e6(fi,fj){ex.set_Item(fi,fj);return fj;}function e7(fi,fj){var fk;fk=e5(fi);return fk==null?e6(fi,fj(fi)):fk.$0;}function e8(fi){var fj;fj=null;return eA.TryGetValue(fi,{get:function(){return fj;},set:function(fk){fj=fk;}})?{$:1,$0:fj}:null;}function e9(fi,fj){eA.set_Item(fi,fj);return fj;}function e_(fi,fj){var fk;fk=e8(fi);return fk==null?e9(fi,fj(fi)):fk.$0;}function e$(fi){var fj;fj=null;return eD.TryGetValue(fi,{get:function(){return fj;},set:function(fk){fj=fk;}})?{$:1,$0:fj}:null;}function fa(fi,fj){eD.set_Item(fi,fj);return fj;}function fb(fi,fj){var fk;fk=e$(fi);return fk==null?fa(fi,fj(fi)):fk.$0;}function fc(fi){var fj;fj=null;return eG.TryGetValue(fi,{get:function(){return fj;},set:function(fk){fj=fk;}})?{$:1,$0:fj}:null;}function fd(fi,fj){eG.set_Item(fi,fj);return fj;}function fe(fi,fj){var fk;fk=fc(fi);return fk==null?fd(fi,fj(fi)):fk.$0;}function ff(fi){var fj;fj=null;return eJ.TryGetValue(fi,{get:function(){return fj;},set:function(fk){fj=fk;}})?{$:1,$0:fj}:null;}function fg(fi,fj){eJ.set_Item(fi,fj);return fj;}function fh(fi,fj){var fk;fk=ff(fi);return fk==null?fg(fi,fj(fi)):fk.$0;}bK.unindentStr=function(fi){return eN(bZ.unindent(fi));};bK.skipLastLine=(eh=function(fi){return eP(eO(fi));},function(fi){return eQ(eh(fi));});bK.parseDateO2=(ei=ce.tryParseWith(function(fi){var fj,fk;fj=0;return[(fk=c$.TryParse(fi),fk!=null&&fk.$==1&&(fj=fk.$0,true)),fj];}),function(fi){return ei(eR(fi));});bK.parseDateO=ce.tryParseWith(function(fi){var fj,fk;fj=0;return[(fk=c$.TryParse(fi),fk!=null&&fk.$==1&&(fj=fk.$0,true)),fj];});bK.parseIntO=ce.tryParseWith(function(fi){var fj;fj=0;return[bP.TryParseInt32(fi,{get:function(){return fj;},set:function(fk){fj=fk;}}),fj];});bK.parseInt64O=ce.tryParseWith(function(fi){var fj;fj=0;return[bP.TryParseInt64(fi,{get:function(){return fj;},set:function(fk){fj=fk;}}),fj];});bK.parseSingleO=ce.tryParseWith(function(fi){var fj,fk;fj=0;return[(fk=a.Number(fi),a.isNaN(fk)?false:(fj=fk,true)),fj];});bK.parseDoubleO=ce.tryParseWith(function(fi){var fj,fk;fj=0;return[(fk=a.Number(fi),a.isNaN(fk)?false:(fj=fk,true)),fj];});bK.parseGuidO=ce.tryParseWith(function(fi){var fj;fj=null;return[bt.TryParse(fi,{get:function(){return fj;},set:function(fk){fj=fk;}}),fj];});bK["|Date|_|"]=ce.parseDateO();bK["|Int|_|"]=ce.parseIntO();bK["|Int64|_|"]=ce.parseInt64O();bK["|Single|_|"]=ce.parseSingleO();bK["|Double|_|"]=ce.parseDoubleO();bK["|Guid|_|"]=ce.parseGuidO();bK.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";bK.rexEmail="(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@[*[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+]*";bK.observers=cc.Empty;bK.css="\r\n                .tab-panel {\r\n                 overflow  : hidden   ;\r\n                 display   : flex     ;\r\n                 flex-flow : column   ;\r\n                 background: lightgray;\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                }\r\n                .tab-content {\r\n                 flex      : 1 1     ;\r\n                 overflow  : auto    ;\r\n                 position  : relative;\r\n                }\r\n                .tab-children {\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                 position  : absolute;\r\n                 display   : grid    ;\r\n                }\r\n                .tab-strip {\r\n                 padding   : 0pt     ;\r\n                 flex      : 0 0     ;\r\n                }\r\n                .tab {\r\n                 border     : 0.2pt solid transparent;\r\n                 padding    : 0pt 4pt;\r\n                 display    : inline-block;\r\n                 font-family: sans-serif;\r\n                 font-weight: 200;\r\n                 font-size  : small;\r\n                 color      : #666;\r\n                 cursor     : pointer;\r\n                }\r\n                .top>.tab {\r\n                 border-radius: 2pt 2pt 0pt 0pt;\r\n                 border-bottom-width: 0pt;\r\n                 vertical-align: bottom;\r\n                }\r\n                .bottom>.tab {\r\n                 border-top-width: 0pt;\r\n                 border-radius: 0pt 0pt 2pt 2pt;\r\n                 vertical-align: top;\r\n                }\r\n                .horizontal>.tab:not(:first-child) {\r\n                 border-left-width: 0pt;\r\n                }\r\n                .tab.hovering {\r\n                 background: red;\r\n                }\r\n                .tab.selected {\r\n                 background: white;\r\n                 border-left-width: 0.2pt;\r\n                 color: black;\r\n                 font-weight: 500;\r\n                 border-color: black;\r\n                }\r\n                .horizontal>.tab.selected {\r\n                 border-left-width: 0.2pt;\r\n                }\r\n                ::slotted(*              ) { \r\n                 width : 100%;\r\n                 height: 100%;\r\n                }\r\n                        ";bK.init=q.Create(function(){var fi;fi=new cF.New();cD.defineWebComponent("wcomp-tabstrip",cF.Constructor,self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New);});bK.layoutHorizontal=d$.Curried(function(fi,fj,fk,fl,fm){return V.get_Empty();},5);bK.layoutVertical=d$.Curried(function(fi,fj,fk,fl,fm){return V.get_Empty();},5);bK.plugIns=new _2.New$1(function(fi){return fi.plgName;});bK.mainDocV=h.Create$1("AppFramework.AppFwkClient");bK.TemplateFileName="..\\website\\AppFramework.html";bK.defaultPlugIn=k.New("",[],[],[],[],[]);bK.selectionPlugInO=h.Create$1({$:1,$0:"AppFramework"});bK.currentPlugInW=(ej=j.selectionPlugInO().get_View(),o.Map2(function(fi,fj){return(eS(fi))(fj);},j.plugIns().v,ej));bK.currentPlugInV=new cv.New(j.currentPlugInW(),function(fi){j.plugIns().Append(fi);});bK.AppFwkClient=q.Create(function(){var fi,fj,fk,fl,fm,fn,fo,fp,fq;return(fi=(fj=j.renderQueries(),(fk=j.renderActions(),(fl=j.renderDocs(),(fm=j.renderViews(),(fn=j.renderVars(),(fo=j.renderPlugIns(),Q.Make().WithHole({$:0,$0:"plugins",$1:fo})).WithHole({$:2,$0:"pluginname",$1:o.Map(function(fr){return fr.plgName;},j.currentPlugInW())}).WithHole({$:0,$0:"vars",$1:fn})).WithHole({$:0,$0:"views",$1:fm})).WithHole({$:0,$0:"docs",$1:fl})).WithHole({$:0,$0:"actions",$1:fk})).WithHole({$:0,$0:"queries",$1:fj})),(fp=R.CompleteHoles(fi.k,fi.h,[]),(fq=new O.New(fp[1],cG.appfwkclient(fp[0])),(fi.i=fq,fq)))).get_Doc();});bK.actHello=j.newAct("Hello",function(){self.alert("Hello!");});bK.qryDocs=j.newQry("getDocNames",function(){return P.ofSeq(ba.collect(function(fi){return ba.map(function(fj){return fi.plgName+"."+fj.docName;},fi.plgDocs);},(j.plugIns())["var"].Get()));});j.plugIns().Append(k.New("AppFramework",[j.newVar("mainDocV",j.mainDocV())],[],[j.newDoc("AppFwkClient",j.AppFwkClient())],[j.actHello()],[j.qryDocs()]));bK.getMainDoc=q.Create(function(){cJ.init(d$.Curried(j.horizontal,5),d$.Curried(j.vertical,5));cE.init().f();return j.mainDoc();});bK.splitName=j.splitName;bK.createSplitterM=(ek=(el=new bS.New$5(),[[eT,function(fi){return function(fj){return eV(fi,fj);};}],function(){el.Clear();}]),(em=ek[0][1],[function(fi){return(em(fi))(function(fj){return F.createSplitter(fj[0],fj[1],fj[2],fj[3],fj[4]);});},ek[1]]))[0];bK.createButtonM=(en=(eo=new bS.New$5(),[[eW,function(fi){return function(fj){return eY(fi,fj);};}],function(){eo.Clear();}]),(ep=en[0][1],[function(fi){return(ep(fi))(function(fj){return F.createButton(fj[0],fj[1],fj[2],fj[3],fj[4]);});},en[1]]))[0];bK.createInputM=(eq=(er=new bS.New$5(),[[eZ,function(fi){return function(fj){return e1(fi,fj);};}],function(){er.Clear();}]),(es=eq[0][1],[function(fi){return(es(fi))(function(fj){return F.createInput(fj[0],fj[1],fj[2],fj[3]);});},eq[1]]))[0];bK.createTextAreaM=(et=(eu=new bS.New$5(),[[e2,function(fi){return function(fj){return e4(fi,fj);};}],function(){eu.Clear();}]),(ev=et[0][1],[function(fi){return(ev(fi))(function(fj){return F.createTextArea(fj[0],fj[1],fj[2],fj[3]);});},et[1]]))[0];bK.createElementM=(ew=(ex=new bS.New$5(),[[e5,function(fi){return function(fj){return e7(fi,fj);};}],function(){ex.Clear();}]),(ey=ew[0][1],[function(fi){return(ey(fi))(function(fj){return F.createElement(fj[0],fj[1],fj[2],fj[3],fj[4]);});},ew[1]]))[0];bK.createDocM=(ez=(eA=new bS.New$5(),[[e8,function(fi){return function(fj){return e_(fi,fj);};}],function(){eA.Clear();}]),(eB=ez[0][1],[function(fi){return(eB(fi))(function(fj){return F.createDoc(fj[0],fj[1],fj[2],fj[3]);});},ez[1]]))[0];bK.createTemplateM=(eC=(eD=new bS.New$5(),[[e$,function(fi){return function(fj){return fb(fi,fj);};}],function(){eD.Clear();}]),(eE=eC[0][1],[function(fi){return(eE(fi))(function(fj){return F.createTemplate(fj[0],fj[1],fj[2],fj[3],fj[4]);});},eC[1]]))[0];bK.createConcatM=(eF=(eG=new bS.New$5(),[[fc,function(fi){return function(fj){return fe(fi,fj);};}],function(){eG.Clear();}]),(eH=eF[0][1],[function(fi){return(eH(fi))(function(fj){return F.createConcat(fj[0],fj[1],fj[2]);});},eF[1]]))[0];bK.createVarM=(eI=(eJ=new bS.New$5(),[[ff,function(fi){return function(fj){return fh(fi,fj);};}],function(){eJ.Clear();}]),(eK=eI[0][1],[function(fi){return(eK(fi))(function(fj){return F.createVar(fj[0],fj[1],fj[2]);});},eI[1]]))[0];eL=j.tryGetPlugIn("AppFramework");eL==null?void 0:(eM=eL.$0,j.addPlugIn(k.New(eM.plgName,eM.plgVars,eM.plgViews,eM.plgDocs,eM.plgActions.concat([j.newActF("AddLayout",{$:2,$0:function(fi){return function(fj){return F.addNewLayout(fi,fj);};},$1:"[Name]",$2:"[Layout]"})]),eM.plgQueries)));};bL=I.IdForAuthorize=d$.Class({},null,bL);bM.New=function(eh,ei,ej,ek,el,em,en,eo){return{titulo:eh,nombre1:ei,nombre2:ej,apellido1:ek,apellido2:el,nacionalidad:em,genero:en,fechaNacimiento:eo};};bN.Dia01={$:0};bO=I.TipoAliado=d$.Class({toString:function(){return(function(eh){return function(ei){return eh(_9.p$1(ei));};}(a.id))(this);}},null,bO);bO.Regular=new bO({$:1});bP.TryParseInt32=function(eh,ei){return bP.TryParse(eh,-2147483648,2147483647,ei);};bQ.$cctor=function(){var eh,ei,ej,ek,el;bQ.$cctor=a.ignore;function em(er){return bh.concat("\n",er);}function en(er){return bZ.splitByChar("\n",er);}function eo(er){var es,et;return b0.array(er,{$:1,$0:0},{$:1,$0:(es=0,(et=P.length(er)-2,E.Compare(es,et)===1?es:et))});}function ep(er){return bh.concat("\n",er);}function eq(er){return er+"T00:00:00";}bQ.rtn=function(er){return[er];};bQ.result=new cK.New();bQ.result$1=cA.result();bQ.resultM=new cL.New();bQ.asyncResultM=new bq.New();bQ.unindentStr=function(er){return em(bZ.unindent(er));};bQ.skipLastLine=(eh=function(er){return eo(en(er));},function(er){return ep(eh(er));});bQ.parseDateO2=(ei=ce.tryParseWith(function(er){var es,et;es=0;return[(et=c$.TryParse(er),et!=null&&et.$==1&&(es=et.$0,true)),es];}),function(er){return ei(eq(er));});bQ.parseDateO=ce.tryParseWith(function(er){var es,et;es=0;return[(et=c$.TryParse(er),et!=null&&et.$==1&&(es=et.$0,true)),es];});bQ.parseIntO=ce.tryParseWith(function(er){var es;es=0;return[bP.TryParseInt32(er,{get:function(){return es;},set:function(et){es=et;}}),es];});bQ.parseInt64O=ce.tryParseWith(function(er){var es;es=0;return[bP.TryParseInt64(er,{get:function(){return es;},set:function(et){es=et;}}),es];});bQ.parseSingleO=ce.tryParseWith(function(er){var es,et;es=0;return[(et=a.Number(er),a.isNaN(et)?false:(es=et,true)),es];});bQ.parseDoubleO=ce.tryParseWith(function(er){var es,et;es=0;return[(et=a.Number(er),a.isNaN(et)?false:(es=et,true)),es];});bQ.parseGuidO=ce.tryParseWith(function(er){var es;es=null;return[bt.TryParse(er,{get:function(){return es;},set:function(et){es=et;}}),es];});bQ["|Date|_|"]=ce.parseDateO();bQ["|Int|_|"]=ce.parseIntO();bQ["|Int64|_|"]=ce.parseInt64O();bQ["|Single|_|"]=ce.parseSingleO();bQ["|Double|_|"]=ce.parseDoubleO();bQ["|Guid|_|"]=ce.parseGuidO();bQ.serString=[cM.toJsonString,function(er){return er.tryString();}];bQ.serFloat=[function(er){return(function(es){return function(et){return es(by.prettyPrint(et));};}(a.id))(er);},function(er){return er.tryFloat();}];bQ.serInt=[function(er){return(function(es){return function(et){return es(by.prettyPrint(et));};}(a.id))(er);},function(er){var es;es=er.tryInt();return es==null?null:{$:1,$0:n.toInt(es.$0)};}];bQ.serInt64=[function(er){return function(es){return er(a.String(es));};}(a.id),function(er){return er.tryInt();}];bQ.serBool=[function(er){return(function(es){return function(et){return es(by.prettyPrint(et));};}(a.id))(er);},function(er){return er.tryBool();}];bQ.premisasCalculo=bX.New(15,25,25,0,75,31,26,28);bQ.telVacio=cg.New(ch.Movil,"","","","",false);bQ.dirVacio=ci.New(bb.Error(""),cj.Habitacion,"","","",new ck({$:2,$0:""}),new cf({$:3,$0:""}),new cl({$:0,$0:""}));bQ.tarVacio=cq.New("",cO.Visa,new cp({$:0,$0:""}),cN.New(2000,1));bQ.ctaVacio=bB.New("","",cx.Ahorro,new bD({$:0,$0:""}),new bC({$:0,$0:""}));bQ.modeloVacio=Y.New(new X({$:0,$0:""}),[],(ej=ee.now(),(new ee(ej)).getFullYear()),(ek=ee.now(),(new ee(ek)).getMonth()+1),I.premisasCalculo(),0);bQ.correoVacio=bi.New("",null,null);bQ.empty=(el=bM.New(null,"","","","",cf.USA,cd.Masculino,(new ee(2000,1-1,1)).getTime()),J.New(new X({$:0,$0:""}),null,null,null,el,[],[],false,bx.Inactivo,bN.Dia01,bO.Regular,(new ee(2000,1-1,1)).getTime(),(new ee(2000,1-1,1)).getTime(),0,0,0,0,0,0));bQ.registroRpcs=new bS.New$5();};bR=be.List=d$.Class({GetEnumerator:function(){return b$.Get(this);},GetEnumerator0:function(){return b$.Get0(this);}},null,bR);bS=be.Dictionary=d$.Class({set_Item:function(eh,ei){this.set(eh,ei);},set:function(eh,ei){var ej,ek,el,em;ej=this;ek=this.hash(eh);el=this.data[ek];el==null?(this.count=this.count+1,this.data[ek]=new a.Array({K:eh,V:ei})):(em=P.tryFindIndex(function(en){return ej.equals.apply(null,[(n.KeyValue(en))[0],eh]);},el),em==null?(this.count=this.count+1,el.push({K:eh,V:ei})):el[em.$0]={K:eh,V:ei});},get_Item:function(eh){return this.get(eh);},TryGetValue:function(eh,ei){var ej,ek,el;ej=this;ek=this.data[this.hash(eh)];return ek==null?false:(el=P.tryPick(function(em){var en;en=n.KeyValue(em);return ej.equals.apply(null,[en[0],eh])?{$:1,$0:en[1]}:null;},ek),el!=null&&el.$==1&&(ei.set(el.$0),true));},Remove:function(eh){return this.remove(eh);},ContainsKey:function(eh){var ei,ej;ei=this;ej=this.data[this.hash(eh)];return ej==null?false:P.exists(function(ek){return ei.equals.apply(null,[(n.KeyValue(ek))[0],eh]);},ej);},Add:function(eh,ei){this.add(eh,ei);},get:function(eh){var ei,ej;ei=this;ej=this.data[this.hash(eh)];return ej==null?cP.notPresent():P.pick(function(ek){var el;el=n.KeyValue(ek);return ei.equals.apply(null,[el[0],eh])?{$:1,$0:el[1]}:null;},ej);},get_Keys:function(){return new dO.New(this);},remove:function(eh){var ei,ej,ek,el;ei=this;ej=this.hash(eh);ek=this.data[ej];return ek==null?false:(el=P.filter(function(em){return!ei.equals.apply(null,[(n.KeyValue(em))[0],eh]);},ek),P.length(el)<ek.length&&(this.count=this.count-1,this.data[ej]=el,true));},add:function(eh,ei){var ej,ek,el;ej=this;ek=this.hash(eh);el=this.data[ek];el==null?(this.count=this.count+1,this.data[ek]=new a.Array({K:eh,V:ei})):(P.exists(function(em){return ej.equals.apply(null,[(n.KeyValue(em))[0],eh]);},el)?cP.alreadyAdded():void 0,this.count=this.count+1,el.push({K:eh,V:ei}));},Clear:function(){this.data=[];this.count=0;},GetEnumerator:function(){return b$.Get0(this);},GetEnumerator0:function(){return b$.Get0(P.concat(D.GetFieldValues(this.data)));}},f,bS);bS.New$5=d$.Ctor(function(){bS.New$6.call(this,[],E.Equals,E.Hash);},bS);bS.New$6=d$.Ctor(function(eh,ei,ej){var ek,el;f.New.call(this);this.equals=ei;this.hash=ej;this.count=0;this.data=[];ek=b$.Get(eh);try{while(ek.MoveNext()){el=ek.Current();this.set(el.K,el.V);}}finally{if(typeof ek=="object"&&"Dispose"in ek)ek.Dispose();}},bS);bT=be.HashSet=d$.Class({Add:function(eh){return this.add(eh);},Contains:function(eh){var ei;ei=this.data[this.hash(eh)];return ei==null?false:this.arrContains(eh,ei);},add:function(eh){var ei,ej;ei=this.hash(eh);ej=this.data[ei];return ej==null?(this.data[ei]=[eh],this.count=this.count+1,true):this.arrContains(eh,ej)?false:(ej.push(eh),this.count=this.count+1,true);},arrContains:function(eh,ei){var ej,ek,el,em;ej=true;ek=0;em=ei.length;while(ej&&ek<em)if(this.equals.apply(null,[ei[ek],eh]))ej=false;else ek=ek+1;return!ej;},ExceptWith:function(eh){var ei;ei=b$.Get(eh);try{while(ei.MoveNext())this.Remove(ei.Current());}finally{if(typeof ei=="object"&&"Dispose"in ei)ei.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(eh){var ei,ej,ek,el;ei=0;ej=dD.concat(this.data);for(ek=0,el=ej.length-1;ek<=el;ek++)P.set(eh,ek,ej[ek]);},IntersectWith:function(eh){var ei,ej,ek,el,em;ei=new bT.New$4(eh,this.equals,this.hash);ej=dD.concat(this.data);for(ek=0,el=ej.length-1;ek<=el;ek++){em=ej[ek];!ei.Contains(em)?this.Remove(em):void 0;}},Remove:function(eh){var ei;ei=this.data[this.hash(eh)];return ei==null?false:this.arrRemove(eh,ei)&&(this.count=this.count-1,true);},arrRemove:function(eh,ei){var ej,ek,el,em;ej=true;ek=0;em=ei.length;while(ej&&ek<em)if(this.equals.apply(null,[ei[ek],eh])){ei.splice.apply(ei,[ek,1]);ej=false;}else ek=ek+1;return!ej;},GetEnumerator:function(){return b$.Get(dD.concat(this.data));},GetEnumerator0:function(){return b$.Get(dD.concat(this.data));}},f,bT);bT.New$3=d$.Ctor(function(){bT.New$4.call(this,[],E.Equals,E.Hash);},bT);bT.New$4=d$.Ctor(function(eh,ei,ej){var ek;f.New.call(this);this.equals=ei;this.hash=ej;this.data=[];this.count=0;ek=b$.Get(eh);try{while(ek.MoveNext())this.add(ek.Current());}finally{if(typeof ek=="object"&&"Dispose"in ek)ek.Dispose();}},bT);bT.New$2=d$.Ctor(function(eh){bT.New$4.call(this,eh,E.Equals,E.Hash);},bT);bU.Box=a.id;bW.StartTo=function(eh,ei){cy.StartWithContinuations(eh,ei,function(ej){bW.OnError(ej);},a.ignore,null);};bW.OnError=function(eh){return ec.log("WebSharper UI: Uncaught asynchronous exception",eh);};bX.New=function(eh,ei,ej,ek,el,em,en,eo){return{comisionReferidosRegular:eh,comisionReferidosMaster:ei,comisionDescendientesMaster:ej,comisionDescendientesRegular:ek,montoAfiliacion:el,numeroReferidosMaster:em,diaCorte1:en,diaCorte2:eo};};bP.TryParseInt64=function(eh,ei){return bP.TryParse(eh,-9223372036854775808,9223372036854775807,ei);};bY.Int=function(){bY.set_counter(bY.counter()+1);return bY.counter();};bY.set_counter=function(eh){dd.$cctor();dd.counter=eh;};bY.counter=function(){dd.$cctor();return dd.counter;};bY.Id=function(){bY.set_counter(bY.counter()+1);return"uid"+a.String(bY.counter());};bZ.unindent$1=function(eh){var ei,ej,ek,el;ei=bh.SplitChars(eh,["\n"],0);ej=(ek=ba.tryFindIndex(function(em){return" "!==em;},(el=ba.tryFind(function(em){return bh.Trim(em)!=="";},ei),el==null?"":el.$0)),ek==null?0:ek.$0);return ba.filter(function(em){return!bh.StartsWith(em,"# 1 ");},ba.map(function(em){return em.length<=ej?"":em.substring(ej);},ei));};bZ.splitByChar$1=function(eh,ei){return bh.SplitChars(ei,[eh],0);};b0.array=function(eh,ei,ej){return ei==null?ej!=null&&ej.$==1?eh.slice(0,ej.$0+1):[]:ej==null?eh.slice(ei.$0):eh.slice(ei.$0,ej.$0+1);};b0.string=function(eh,ei,ej){return ei==null?ej!=null&&ej.$==1?eh.slice(0,ej.$0+1):"":ej==null?eh.slice(ei.$0):eh.slice(ei.$0,ej.$0+1);};b2=b1.Policy=d$.Class({toString:function(){return bh.ReplaceChar(bb["String.get_toUnderscore$1"]((function(eh){return function(ei){return eh(T.p(ei));};}(a.id))(this)),"_"," ");}},null,b2);b2.SignIn=new b2({$:0});b2.SignUp=new b2({$:1});b2.EditProfile=new b2({$:2});b2.ResetPassword=new b2({$:3});b3.Options=function(eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es){return cU.newPojoOpt([b1.op_EqualsEqualsGreater("cacheLocation",eh),b1.op_EqualsEqualsGreater("isAngular",ei),b1.op_EqualsEqualsGreater("loadFrameTimeout",ej),b1.op_EqualsEqualsGreater("logger",ek),b1.op_EqualsEqualsGreater("navigateToLoginRequestUrl",el),b1.op_EqualsEqualsGreater("postLogoutRedirectUri",em),b1.op_EqualsEqualsGreater("protectedResourceMap",en),b1.op_EqualsEqualsGreater("redirectUri",eo),b1.op_EqualsEqualsGreater("state",ep),b1.op_EqualsEqualsGreater("storeAuthStateInCookie",eq),b1.op_EqualsEqualsGreater("unprotectedResources",er),b1.op_EqualsEqualsGreater("validateAuthority",es)]);};i.REGEX$1=function(eh,ei,ej){var ek;return ej===null?null:(ek=(new a.String(ej)).match(new a.RegExp(eh,ei)),E.Equals(ek,null)?null:!E.Equals(ek,null)&&ek.length===0?null:{$:1,$0:ek});};i.rexEmail=function(){bK.$cctor();return bK.rexEmail;};b4.DefaultEP={$:0};b5.InstallHash=function(eh,ei){var ej;ej=h.Create$1(b5.getCurrentHash(function(ek){return cX.Parse(ei,cY.FromHash(ek,{$:1,$0:true}));},eh));b5.InstallHashInto(ej,eh,ei);return ej;};b5.InstallHashInto=function(eh,ei,ej){function ek(en){return cX.Parse(ej,cY.FromHash(en,{$:1,$0:true}));}function el(){return b5.getCurrentHash(ek,ei);}function em(en){if(!E.Equals(eh.Get(),en))eh.Set(en);}self.addEventListener("popstate",function(){return em(el());},false);self.addEventListener("hashchange",function(){return em(el());},false);self.document.body.addEventListener("click",function(en){var eo,ep,eq;eo=(ep=b5.findLinkHref(en.target),ep==null?null:(eq=ep.$0,bh.StartsWith(eq,"#")?ek(eq):null));return eo==null?null:(em(eo.$0),en.preventDefault());},false);o.Sink(function(en){var eo;if(!E.Equals(en,el())){eo=cX.HashLink(ej,en);self.history.pushState(null,null,eo);}},eh.get_View());};b5.getCurrentHash=function(eh,ei){var ej,ek;ej=self.location.hash;ek=eh(ej);return ek==null?((function(el){return function(em){return el("Failed to parse route: "+by.toSafe(em));};}(function(el){ec.log(el);}))(ej),ei):ek.$0;};b5.findLinkHref=function(eh){while(true)if(eh.tagName==="A")return G.ofObj(eh.getAttribute("href"));else if(eh===self.document.body)return null;else eh=eh.parentNode;};b6.B={$:0};b7.set_EndPoint=function(eh){cZ.$cctor();cZ.EndPoint=eh;};b7.AjaxProvider=function(){cZ.$cctor();return cZ.AjaxProvider;};b7.makePayload=function(eh){return ed.stringify(eh);};b7.makeHeaders=function(eh){return{"content-type":"application/json","x-websharper-rpc":eh};};b7.EndPoint=function(){cZ.$cctor();return cZ.EndPoint;};b7.ajax=function(eh,ei,ej,ek,el,em,en){var eo,ep,eq;eo=new a.XMLHttpRequest();ep=a.document.cookie.replace(new a.RegExp("(?:(?:^|.*;)\\s*csrftoken\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1");eo.open("POST",ei,eh);if(eh==true)eo.withCredentials=true;for(var es in ej)eo.setRequestHeader(es,ej[es]);if(ep)eo.setRequestHeader("x-csrftoken",ep);function er(){var et;if(eo.status==200)el(eo.responseText);else if(en&&eo.status==403&&eo.responseText=="CSRF")en();else{et="Response status is not 200: ";em(new dG(et+eo.status));}}if("onload"in eo)eo.onload=eo.onerror=eo.onabort=er;else eo.onreadystatechange=function(){if(eo.readyState==4)er();};eo.send(ek);};b8.invoke=function(eh,ei,ej){var ek;ek=bo.asyncResultM();return ek.Run(ek.Delay(function(){return bo["AsyncResultMBuilder.Bind"](ek,cy.Return(null),function(){var el,em,en;el=new a.Headers();el.append("Content-Type","application/json");el.append("IdAliado",ei);em=(en={},en.mode="cors",en.credentials="include",en.method="POST",en.headers=el,en.body=!ej?"null":ej,en);return bo["AsyncResultMBuilder.Bind"](ek,dX.AsAsync(self.fetch((self.location.protocol==="http:"?"http://localhost:7071/api/":"https://prozper.azurewebsites.net/api/")+eh,em)),function(eo){return bo["AsyncResultMBuilder.Bind"](ek,dX.AsAsync(eo.text()),function(ep){((function(eq){return function(er){return eq("invoke resp = "+by.prettyPrint(er));};}(function(eq){ec.log(eq);}))(ep));return ek.Return(ep);});});});}));};b8.registroRpcs=function(){bQ.$cctor();return bQ.registroRpcs;};b9.New=function(eh,ei){return{qryName:eh,qryFunction:ei};};_0.Obsolete=function(eh){var ei,ej,ek,el,em;ej=eh.s;if(ej==null||(ej!=null&&ej.$==2?(ei=ej.$1,false):ej!=null&&ej.$==3?(ei=ej.$1,false):true))void 0;else{eh.s=null;for(ek=0,el=P.length(ei)-1;ek<=el;ek++){em=P.get(ei,ek);typeof em=="object"?function(en){_0.Obsolete(en);}(em):em();}}};_0.New=function(eh){return{s:eh};};b_=be.FSharpMap=d$.Class({TryGetValue:function(eh,ei){var ej;ej=this.TryFind(eh);return ej!=null&&ej.$==1&&(ei.set(ej.$0),true);},get_Item:function(eh){var ei;ei=this.TryFind(eh);return ei==null?n.FailWith("The given key was not present in the dictionary."):ei.$0;},TryFind:function(eh){var ei;ei=cb.TryFind(di.New(eh,void 0),this.tree);return ei==null?null:{$:1,$0:ei.$0.Value};},Equals:function(eh){return this.get_Count()===eh.get_Count()&&ba.forall2(E.Equals,this,eh);},GetEnumerator$1:function(){return b$.Get(ba.map(function(eh){return{K:eh.Key,V:eh.Value};},cb.Enumerate(false,this.tree)));},get_Count:function(){var eh;eh=this.tree;return eh==null?0:eh.Count;},GetHashCode:function(){return E.Hash(P.ofSeq(this));},Add:function(eh,ei){return new b_.New$1(cb.Add(di.New(eh,ei),this.tree));},get_IsEmpty:function(){return this.tree==null;},get_Tree:function(){return this.tree;},GetEnumerator:function(){return this.GetEnumerator$1();},CompareTo0:function(eh){return ba.compareWith(E.Compare,this,eh);},GetEnumerator0:function(){return this.GetEnumerator$1();}},f,b_);b_.New=d$.Ctor(function(eh){b_.New$1.call(this,c1.fromSeq(eh));},b_);b_.New$1=d$.Ctor(function(eh){f.New.call(this);this.tree=eh;},b_);b$.Get=function(eh){return eh instanceof a.Array?b$.ArrayEnumerator(eh):E.Equals(typeof eh,"string")?b$.StringEnumerator(eh):eh.GetEnumerator();};b$.ArrayEnumerator=function(eh){return new ca.New(0,null,function(ei){var ej;ej=ei.s;return ej<P.length(eh)&&(ei.c=P.get(eh,ej),ei.s=ej+1,true);},void 0);};b$.StringEnumerator=function(eh){return new ca.New(0,null,function(ei){var ej;ej=ei.s;return ej<eh.length&&(ei.c=eh[ej],ei.s=ej+1,true);},void 0);};b$.Get0=function(eh){return eh instanceof a.Array?b$.ArrayEnumerator(eh):E.Equals(typeof eh,"string")?b$.StringEnumerator(eh):"GetEnumerator0"in eh?eh.GetEnumerator0():eh.GetEnumerator();};ca=b$.T=d$.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},f,ca);ca.New=d$.Ctor(function(eh,ei,ej,ek){f.New.call(this);this.s=eh;this.c=ei;this.n=ej;this.d=ek;},ca);cb.OfSeq=function(eh){var ei;ei=P.ofSeq(ba.distinct(eh));P.sortInPlace(ei);return cb.Build(ei,0,ei.length-1);};cb.Contains=function(eh,ei){return!((cb.Lookup(eh,ei))[0]==null);};cb.Remove=function(eh,ei){var ej,ek,el,em;ej=cb.Lookup(eh,ei);ek=ej[0];el=ej[1];return ek==null?ei:ek.Right==null?cb.Rebuild(el,ek.Left):ek.Left==null?cb.Rebuild(el,ek.Right):cb.Rebuild(el,(em=P.ofSeq(ba.append(cb.Enumerate(false,ek.Left),cb.Enumerate(false,ek.Right))),cb.Build(em,0,em.length-1)));};cb.Add=function(eh,ei){return cb.Put(function(ej,ek){return ek;},eh,ei);};cb.TryFind=function(eh,ei){var ej;ej=(cb.Lookup(eh,ei))[0];return ej==null?null:{$:1,$0:ej.Node};};cb.Build=function(eh,ei,ej){var ek,el,em;return ej-ei+1<=0?null:(ek=(ei+ej)/2>>0,(el=cb.Build(eh,ei,ek-1),(em=cb.Build(eh,ek+1,ej),cb.Branch(P.get(eh,ek),el,em))));};cb.Lookup=function(eh,ei){var ej,ek,el,em;ej=[];ek=ei;el=true;while(el)if(ek==null)el=false;else{em=E.Compare(eh,ek.Node);em===0?el=false:em===1?(ej.unshift([true,ek.Node,ek.Left]),ek=ek.Right):(ej.unshift([false,ek.Node,ek.Right]),ek=ek.Left);}return[ek,ej];};cb.Rebuild=function(eh,ei){var ej,el,em,en,eo,ep,eq,er,es,et;function ek(eu){return eu==null?0:eu.Height;}ej=ei;for(el=0,em=P.length(eh)-1;el<=em;el++){ej=(en=P.get(eh,el),en[0]?(eo=en[1],(ep=en[2],ek(ej)>ek(ep)+1?ek(ej.Left)===ek(ej.Right)+1?(eq=ej.Left,cb.Branch(eq.Node,cb.Branch(eo,ep,eq.Left),cb.Branch(ej.Node,eq.Right,ej.Right))):cb.Branch(ej.Node,cb.Branch(eo,ep,ej.Left),ej.Right):cb.Branch(eo,ep,ej))):(er=en[1],(es=en[2],ek(ej)>ek(es)+1?ek(ej.Right)===ek(ej.Left)+1?(et=ej.Right,cb.Branch(et.Node,cb.Branch(ej.Node,ej.Left,et.Left),cb.Branch(er,et.Right,es))):cb.Branch(ej.Node,ej.Left,cb.Branch(er,ej.Right,es)):cb.Branch(er,ej,es))));}return ej;};cb.Put=function(eh,ei,ej){var ek,el;ek=cb.Lookup(ei,ej);el=ek[0];return el==null?cb.Rebuild(ek[1],cb.Branch(ei,null,null)):cb.Rebuild(ek[1],cb.Branch(eh(el.Node,ei),el.Left,el.Right));};cb.Branch=function(eh,ei,ej){var ek,el;return c2.New(eh,ei,ej,1+(ek=ei==null?0:ei.Height,(el=ej==null?0:ej.Height,E.Compare(ek,el)===1?ek:el)),1+(ei==null?0:ei.Count)+(ej==null?0:ej.Count));};cb.Enumerate=function(eh,ei){function ej(ek,el){var em;while(true)if(ek==null)return el.$==1?{$:1,$0:[el.$0[0],[el.$0[1],el.$1]]}:null;else if(eh){em=ek;ek=em.Right;el=new cc({$:1,$0:[em.Node,em.Left],$1:el});}else{em=ek;ek=em.Left;el=new cc({$:1,$0:[em.Node,em.Right],$1:el});}}return ba.unfold(function(ek){return ej(ek[0],ek[1]);},[ei,cc.Empty]);};ba.tryHead=function(eh){var ei;ei=b$.Get(eh);try{return ei.MoveNext()?{$:1,$0:ei.Current()}:null;}finally{if(typeof ei=="object"&&"Dispose"in ei)ei.Dispose();}};P.groupBy=function(eh,ei){var ej,ek,el,em,en,eo;ej=new bS.New$5();ek=[];for(el=0,em=P.length(ei)-1;el<=em;el++){en=ei[el];eo=eh(en);ej.ContainsKey(eo)?ej.get_Item(eo).push(en):(ek.push(eo),ej.Add(eo,[en]));}P.mapInPlace(function(ep){return[ep,ej.get_Item(ep)];},ek);return ek;};ba.tryItem=function(eh,ei){var ej,ek,el;if(eh<0)return null;else{ej=0;ek=b$.Get(ei);try{el=true;while(el&&ej<=eh)if(ek.MoveNext())ej=ej+1;else el=false;return el?{$:1,$0:ek.Current()}:null;}finally{if(typeof ek=="object"&&"Dispose"in ek)ek.Dispose();}}};ba.last=function(eh){var ei,ej;ei=b$.Get(eh);try{if(!ei.MoveNext())ej=ba.insufficient();else{while(ei.MoveNext());ej=ei.Current();}return ej;}finally{if(typeof ei=="object"&&"Dispose"in ei)ei.Dispose();}};P.mapInPlace=function(eh,ei){var ej,ek;for(ej=0,ek=ei.length-1;ej<=ek;ej++)ei[ej]=eh(ei[ej]);};P.mapiInPlace=function(eh,ei){var ej,ek;for(ej=0,ek=ei.length-1;ej<=ek;ej++)ei[ej]=eh(ej,ei[ej]);return ei;};ba.insufficient=function(){return n.FailWith("The input sequence has an insufficient number of elements.");};ba.nonNegative=function(){return n.FailWith("The input must be non-negative.");};cc=bA.T=d$.Class({GetEnumerator:function(){return new ca.New(this,null,function(eh){var ei;ei=eh.s;return ei.$==0?false:(eh.c=ei.$0,eh.s=ei.$1,true);},void 0);},GetEnumerator0:function(){return b$.Get(this);}},null,cc);cc.Empty=new cc({$:0});o=g.View=d$.Class({get_V:function(){return n.FailWith("View<'T>.V can only be called in an argument to a V-enabled function or if 'T = Doc.");}},null,o);cd.tryParse=function(eh){var ei;ei=bh.Trim(eh);return ei==="Masculino"?{$:1,$0:cd.Masculino}:ei==="Femenino"?{$:1,$0:cd.Femenino}:ei==="Empresa"?{$:1,$0:cd.Empresa}:null;};cd.Masculino={$:0};cd.Femenino={$:1};cd.Empresa={$:2};ce.parseDateO2=function(){bK.$cctor();return bK.parseDateO2;};ce.tryParseWith=function(eh){function ei(ej,ek){return ej?{$:1,$0:ek}:null;}return function(ej){return ei.apply(null,eh(ej));};};ce.parseDateO=function(){bK.$cctor();return bK.parseDateO;};ce.parseIntO=function(){bK.$cctor();return bK.parseIntO;};ce.parseInt64O=function(){bK.$cctor();return bK.parseInt64O;};ce.parseSingleO=function(){bK.$cctor();return bK.parseSingleO;};ce.parseDoubleO=function(){bK.$cctor();return bK.parseDoubleO;};ce.parseGuidO=function(){bK.$cctor();return bK.parseGuidO;};ce.Double=function(){bK.$cctor();return bK["|Double|_|"];};ce.Int=function(){bK.$cctor();return bK["|Int|_|"];};cf=I.Pais=d$.Class({toString:function(){return this.$==3?this.$0:(function(eh){return function(ei){return eh(_9.p$2(ei));};}(a.id))(this);}},null,cf);cf.tryParse=function(eh){var ei,ej;ej=bh.Trim(eh).toUpperCase();switch(ej){case"":return null;case"USA":case"AMERICA":case"E.E.U.U.":case"US":case"UNITED STATES OF AMERICA":case"UNITED STATES":case"EEUU":return{$:1,$0:cf.USA};case"VENEZUELA":return{$:1,$0:cf.Venezuela};case"ARGENTINA":return{$:1,$0:cf.Argentina};default:return{$:1,$0:new cf({$:3,$0:bh.Trim(eh)})};}};cf.USA=new cf({$:0});cf.Venezuela=new cf({$:1});cf.Argentina=new cf({$:2});cg.New=function(eh,ei,ej,ek,el,em){return{tipoTelefono:eh,codigoPais:ei,codigoArea:ej,numero:ek,extension:el,mensajes:em};};ch=I.TipoTelefono=d$.Class({toString:function(){return(function(eh){return function(ei){return eh(_9.p$8(ei));};}(a.id))(this);}},null,ch);ch.get_tryParse=function(){return function(eh){return eh==="Movil"?{$:1,$0:ch.Movil}:eh==="Oficina"?{$:1,$0:ch.Oficina}:eh==="Habitacion"?{$:1,$0:ch.Habitacion}:null;};};ch.Movil=new ch({$:0});ch.Oficina=new ch({$:1});ch.Habitacion=new ch({$:2});ci.New=function(eh,ei,ej,ek,el,em,en,eo){return{authorizeIdR:eh,tipoDireccion:ei,linea1:ej,linea2:ek,ciudad:el,estado:em,pais:en,zonaPostal:eo};};cj=I.TipoDireccion=d$.Class({toString:function(){return this.$==3?this.$0:(function(eh){return function(ei){return eh(_9.p$7(ei));};}(a.id))(this);}},null,cj);cj.tryParse=function(eh){var ei;ei=bh.Trim(eh);return ei===""?null:ei==="Habitacion"?{$:1,$0:cj.Habitacion}:ei==="Oficina"?{$:1,$0:cj.Oficina}:ei==="ServicioPostal"?{$:1,$0:cj.ServicioPostal}:{$:1,$0:new cj({$:3,$0:ei})};};cj.Habitacion=new cj({$:0});cj.Oficina=new cj({$:1});cj.ServicioPostal=new cj({$:2});ck=I.Estado=d$.Class({toString:function(){return this.$==2?this.$0:(function(eh){return function(ei){return eh(_9.p$3(ei));};}(a.id))(this);}},null,ck);ck.tryParse=function(eh){var ei,ej;ej=bh.Trim(eh).toUpperCase();switch(ej){case"":return null;case"TEXAS":case"TX":return{$:1,$0:ck.Texas};case"FLORIDA":case"FL":return{$:1,$0:ck.Florida};default:return{$:1,$0:new ck({$:2,$0:bh.Trim(eh)})};}};ck.Texas=new ck({$:0});ck.Florida=new ck({$:1});cl=I.ZonaPostal=d$.Class({toString:function(){return this.$0;}},null,cl);cl.tryParse=function(eh){return bh.Trim(eh)!==""?{$:1,$0:new cl({$:0,$0:bh.Trim(eh)})}:null;};cm.replace=function(eh,ei,ej){return P.ofSeq(ba.delay(function(){return ba.append(eh>0?b0.array(ej,null,{$:1,$0:eh-1}):[],ba.delay(function(){return ba.append([ei],ba.delay(function(){return eh<P.length(ej)?b0.array(ej,{$:1,$0:eh+1},null):[];}));}));}));};cm.remove=function(eh,ei){return P.ofSeq(ba.delay(function(){return ba.append(eh>0?b0.array(ei,null,{$:1,$0:eh-1}):[],ba.delay(function(){return eh<P.length(ei)?b0.array(ei,{$:1,$0:eh+1},null):[];}));}));};co=cn.attr=d$.Class({},f,co);cp=I.NumeroTarjeta=d$.Class({get_Id:function(){return this.$0;}},null,cp);cq.New=function(eh,ei,ej,ek){return{titular:eh,tipoTarjeta:ei,numero:ej,expiracion:ek};};cr.formaDocO=function(eh){var ei;return cr.formaDoc(h.Lens(eh,(ei=[I.ctaVacio(),"",false],function(ej){return ej==null?ei:ej.$0;}),function(ej,ek){return{$:1,$0:ek};}));};cr.formaDoc=function(eh){var ei,ej,ek,el,em,en,eo,ep,eq,er,es,et;function eu(ev,ew,ex){ej.Hole("titular").Set(ev.titular);ej.Hole("banco").Set(ev.banco);ej.Hole("tipocuenta").Set((function(ey){return function(ez){return ey(a.String(ez));};}(a.id))(ev.tipo));ej.Hole("numero").Set(ev.numero.$0);ej.Hole("routing").Set(ev.routing.$0);}ei=o.Map(function(ev){return bw.thr3(ev[0],ev[1],ev[2]);},eh.get_View());ej=(ek=(el=cC.DynamicPred("disabled",ei,o.Const("")),(em=cC.DynamicPred("disabled",ei,o.Const("")),(en=cC.DynamicPred("disabled",ei,o.Const("")),(eo=cC.DynamicPred("disabled",ei,o.Const("")),(ep=cC.DynamicPred("disabled",ei,o.Const("")),(eq=V.EmbedView(o.Map(bw.crearOptions,bw.tiposCta().get_View())),Q.Make().WithHole({$:0,$0:"tiposcuenta",$1:eq})).WithHole({$:2,$0:"mensaje",$1:o.Map(function(ev){return bw.snd3(ev[0],ev[1],ev[2]);},eh.get_View())}).WithHole({$:3,$0:"disabled1",$1:ep})).WithHole({$:3,$0:"disabled2",$1:eo})).WithHole({$:3,$0:"disabled3",$1:en})).WithHole({$:3,$0:"disabled4",$1:em})).WithHole({$:3,$0:"disabled5",$1:el})),(er=R.CompleteHoles(ek.k,ek.h,[["tipocuenta",0],["titular",0],["numero",0],["banco",0],["routing",0]]),(es=new O.New(er[1],S.cuentabancaria(er[0])),(ek.i=es,es))));o.Sink(function(ev){return eu(ev[0],ev[1],ev[2]);},eh.get_View());et=o.Apply(o.Apply(o.Map2(function(ev,ew){return function(ex){return function(ey){return ba.map(function(ez){return ez[1];},ba.filter(function(ez){return ez[0];},bA.ofArray([[bh.Trim(ev)==="","Titular"],[bh.Trim(ew)==="","Banco"],[bh.Trim(ex)==="","Numero de Cuenta"],[bh.Trim(ey)==="","ABA/Routing Number"]])));};};},ej.Hole("titular").get_View(),ej.Hole("banco").get_View()),ej.Hole("numero").get_View()),ej.Hole("routing").get_View());o.Sink(function(ev){var ew,ex;if(ev!=null&&ev.$==1){ew=ev.$0;!E.Equals((ex=eh.Get(),bw.fst3(ex[0],ex[1],ex[2])),ew)?eh.Set([ew,"",false]):void 0;}},o.Apply(o.Apply(o.Apply(o.Apply(o.Map2(function(ev,ew){return d$.Curried(function(ex,ey,ez,eA){return!ba.isEmpty(ev)?null:bw.alertIfNone("TipoCuenta",cx.tryParse(bh.Trim(ew)),function(eB){var eC;return{$:1,$0:(eC=bh.Trim(ex),bB.New(bh.Trim(ey),eC,eB,new bD({$:0,$0:bh.Trim(ez)}),new bC({$:0,$0:bh.Trim(eA)})))};});},4);},et,ej.Hole("tipocuenta").get_View()),ej.Hole("banco").get_View()),ej.Hole("titular").get_View()),ej.Hole("numero").get_View()),ej.Hole("routing").get_View()));return[et,ej.get_Doc()];};cs.formaDocO=function(eh){var ei;return cs.formaDoc(h.Lens(eh,(ei=[I.tarVacio(),"",false],function(ej){return ej==null?ei:ej.$0;}),function(ej,ek){return{$:1,$0:ek};}));};cs.formaDoc=function(eh){var ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev;function ew(ex,ey,ez){var eA;ej.Hole("titular").Set(ex.titular);ej.Hole("tipotarjeta").Set((function(eB){return function(eC){return eB(a.String(eC));};}(a.id))(ex.tipoTarjeta));ej.Hole("numero").Set(ex.numero.$0);ej.Hole("aniovenc").Set((function(eB){return function(eC){return eB(by.padNumLeft(a.String(eC),4));};}(a.id))(ex.expiracion.anio));ej.Hole("mesvenc").Set((eA=ex.expiracion.mes,eA===1?"Enero":eA===2?"Febrero":eA===3?"Marzo":eA===4?"Abril":eA===5?"Mayo":eA===6?"Junio":eA===7?"Julio":eA===8?"Agosto":eA===9?"Septiembre":eA===10?"Octubre":eA===11?"Noviembre":eA===12?"Diciembre":"XX"));}ei=o.Map(function(ex){return bw.thr3(ex[0],ex[1],ex[2]);},eh.get_View());ej=(ek=(el=cC.DynamicPred("disabled",ei,o.Const("")),(em=cC.DynamicPred("disabled",ei,o.Const("")),(en=cC.DynamicPred("disabled",ei,o.Const("")),(eo=cC.DynamicPred("disabled",ei,o.Const("")),(ep=cC.DynamicPred("disabled",ei,o.Const("")),(eq=V.EmbedView(o.Map(function(ex){return bw.crearOptions(ba.map(a.String,ex));},bw.mesesV().get_View())),(er=V.EmbedView(o.Map(function(ex){return bw.crearOptions(ba.map(a.String,ex));},bw.aniosV().get_View())),(es=V.EmbedView(o.Map(bw.crearOptions,bw.tiposTar().get_View())),Q.Make().WithHole({$:0,$0:"tipostarjeta",$1:es})).WithHole({$:2,$0:"mensaje",$1:o.Map(function(ex){return bw.snd3(ex[0],ex[1],ex[2]);},eh.get_View())}).WithHole({$:0,$0:"anios",$1:er})).WithHole({$:0,$0:"meses",$1:eq})).WithHole({$:3,$0:"disabled1",$1:ep})).WithHole({$:3,$0:"disabled2",$1:eo})).WithHole({$:3,$0:"disabled3",$1:en})).WithHole({$:3,$0:"disabled4",$1:em})).WithHole({$:3,$0:"disabled5",$1:el})),(et=R.CompleteHoles(ek.k,ek.h,[["tipotarjeta",0],["titular",0],["numero",0],["aniovenc",0],["mesvenc",0]]),(eu=new O.New(et[1],S.tarjetacredito(et[0])),(ek.i=eu,eu))));o.Sink(function(ex){return ew(ex[0],ex[1],ex[2]);},eh.get_View());ev=o.Apply(o.Apply(o.Apply(o.Map2(function(ex,ey){return d$.Curried3(function(ez,eA,eB){return ba.map(function(eC){return eC[1];},ba.filter(function(eC){return eC[0];},bA.ofArray([[bh.Trim(ex)==="","Titular"],[bh.Trim(ey)==="","TipoTarjeta"],[bh.Trim(ez)==="","Numero"],[bh.Trim(eA)==="","Ano de Vencimiento"],[bh.Trim(eB)==="","Mes de Vencimiento"]])));});},ej.Hole("titular").get_View(),ej.Hole("tipotarjeta").get_View()),ej.Hole("numero").get_View()),ej.Hole("aniovenc").get_View()),ej.Hole("mesvenc").get_View());o.Sink(function(ex){var ey,ez;if(ex!=null&&ex.$==1){ey=ex.$0;!E.Equals((ez=eh.Get(),bw.fst3(ez[0],ez[1],ez[2])),ey)?eh.Set([ey,"",false]):void 0;}},o.Apply(o.Apply(o.Apply(o.Apply(o.Map2(function(ex,ey){return d$.Curried(function(ez,eA,eB,eC){return!ba.isEmpty(ex)?null:bw.alertIfNone("Tipo Tarjeta",cO.tryParse(bh.Trim(ey)),function(eD){var eE,eF,eG;return{$:1,$0:cq.New(bh.Trim(ez),eD,new cp({$:0,$0:bh.Trim(eA)}),cN.New((eE=(eF=bh.Trim(eB),(ce.parseIntO())(eF)),eE==null?0:eE.$0),(eG=bh.Trim(eC),eG==="Febrero"?2:eG==="Marzo"?3:eG==="Abril"?4:eG==="Mayo"?5:eG==="Junio"?6:eG==="Julio"?7:eG==="Agosto"?8:eG==="Septiembre"?9:eG==="Octubre"?10:eG==="Noviembre"?11:eG==="Diciembre"?12:1)))};});},4);},ev,ej.Hole("tipotarjeta").get_View()),ej.Hole("titular").get_View()),ej.Hole("numero").get_View()),ej.Hole("aniovenc").get_View()),ej.Hole("mesvenc").get_View()));return[ev,ej.get_Doc()];};ct.MapError=function(eh,ei){return ei.$==1?{$:1,$0:eh(ei.$0)}:{$:0,$0:ei.$0};};ct.Map=function(eh,ei){return ei.$==1?{$:1,$0:ei.$0}:{$:0,$0:eh(ei.$0)};};cv=g.FromView=d$.Class({get_View:function(){return this.view;},Set:function(eh){this.set(eh);},Get:function(){return this.current;},Update:function(eh){var ei;o.Get((ei=this.set,function(ej){return ei(eh(ej));}),this.view);},UpdateMaybe:function(eh){var ei;ei=this;o.Get(function(ej){var ek;ek=eh(ej);ek!=null&&ek.$==1?ei.set(ek.$0):void 0;},this.view);}},p,cv);cv.New=d$.Ctor(function(eh,ei){var ej,ek;ej=this;p.New.call(this);this.set=ei;this.id=bY.Int();this.current=(ek=o.TryGet(eh),ek==null?null:ek.$0);this.view=o.Map(function(el){ej.current=el;return el;},eh);},cv);cw.ofSeqNonCopying=function(eh){var ei,ej;if(eh instanceof a.Array)return eh;else if(eh instanceof cc)return P.ofList(eh);else if(eh===null)return[];else{ei=[];ej=b$.Get(eh);try{while(ej.MoveNext())ei.push(ej.Current());return ei;}finally{if(typeof ej=="object"&&"Dispose"in ej)ej.Dispose();}}};cw.TreeReduce=function(eh,ei,ej){var ek;function el(em,en){var eo,ep;return en<=0?eh:en===1&&(em>=0&&em<ek)?P.get(ej,em):(ep=en/2>>0,ei(el(em,ep),el(em+ep,en-ep)));}ek=P.length(ej);return el(0,ek);};cw.mapInPlace=function(eh,ei){var ej,ek;for(ej=0,ek=ei.length-1;ej<=ek;ej++)ei[ej]=eh(ei[ej]);return ei;};cw.MapTreeReduce=function(eh,ei,ej,ek){var el;function em(en,eo){var ep,eq;return eo<=0?ei:eo===1&&(en>=0&&en<el)?eh(P.get(ek,en)):(eq=eo/2>>0,ej(em(en,eq),em(en+eq,eo-eq)));}el=P.length(ek);return em(0,el);};cx=I.TipoCuenta=d$.Class({toString:function(){return this.$==2?this.$0:(function(eh){return function(ei){return eh(_9.p$5(ei));};}(a.id))(this);}},null,cx);cx.Ahorro=new cx({$:0});cx.tryParse=function(eh){var ei,ej;ej=bh.Trim(eh).toUpperCase();switch(ej){case"":return null;case"AHORRO":case"SAVINGS":return{$:1,$0:cx.Ahorro};case"CORRIENTE":case"CHECKING":return{$:1,$0:cx.Corriente};default:return{$:1,$0:new cx({$:2,$0:bh.Trim(eh)})};}};cx.Corriente=new cx({$:1});cy.Delay=function(eh){return function(ei){try{(eh(null))(ei);}catch(ej){ei.k({$:1,$0:ej});}};};cy.Bind=function(eh,ei){return cy.checkCancel(function(ej){eh(c5.New(function(ek){var el;if(ek.$==0){el=ek.$0;cy.scheduler().Fork(function(){try{(ei(el))(ej);}catch(em){ej.k({$:1,$0:em});}});}else cy.scheduler().Fork(function(){ej.k(ek);});},ej.ct));});};cy.Zero=function(){c6.$cctor();return c6.Zero;};cy.Start=function(eh,ei){var ej,ek;ej=(ek=(cy.defCTS())[0],ei==null?ek:ei.$0);cy.scheduler().Fork(function(){if(!ej.c)eh(c5.New(function(el){if(el.$==1)cy.UncaughtAsyncError(el.$0);},ej));});};cy.While=function(eh,ei){return eh()?cy.Bind(ei,function(){return cy.While(eh,ei);}):cy.Return();};cy.Sleep=function(eh){return function(ei){var ej,ek;ej=void 0;ek=void 0;ej=a.setTimeout(function(){ek.Dispose();cy.scheduler().Fork(function(){ei.k({$:0,$0:null});});},eh);ek=cy.Register(ei.ct,function(){a.clearTimeout(ej);cy.scheduler().Fork(function(){cy.cancel(ei);});});};};cy.Return=function(eh){return function(ei){ei.k({$:0,$0:eh});};};cy.StartImmediateAsTask=function(eh,ei){var ej;ej=new dh.New();cy.StartWithContinuations(eh,function(ek){ej.SetResult(ek);},function(ek){ej.SetException$1(ek);},function(){ej.SetCanceled();},ei);return ej.get_Task();};cy.checkCancel=function(eh){return function(ei){if(ei.ct.c)cy.cancel(ei);else eh(ei);};};cy.FromContinuations=function(eh){return function(ei){var ej;function ek(el){if(ej[0])n.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{ej[0]=true;cy.scheduler().Fork(el);}}ej=[false];eh(function(el){ek(function(){ei.k({$:0,$0:el});});},function(el){ek(function(){ei.k({$:1,$0:el});});},function(el){ek(function(){ei.k({$:2,$0:el});});});};};cy.defCTS=function(){c6.$cctor();return c6.defCTS;};cy.UncaughtAsyncError=function(eh){ec.log("WebSharper: Uncaught asynchronous exception",eh);};cy.Combine=function(eh,ei){return cy.Bind(eh,function(){return ei;});};cy.Register=function(eh,ei){var ej;return eh===cy.noneCT()?{Dispose:function(){return null;}}:(ej=eh.r.push(ei)-1,{Dispose:function(){return P.set(eh.r,ej,a.ignore);}});};cy.cancel=function(eh){eh.k({$:2,$0:new dH.New(eh.ct)});};cy.StartWithContinuations=function(eh,ei,ej,ek,el){var em,en;em=(en=(cy.defCTS())[0],el==null?en:el.$0);!em.c?eh(c5.New(function(eo){if(eo.$==1)ej(eo.$0);else if(eo.$==2)ek(eo.$0);else ei(eo.$0);},em)):void 0;};cy.TryWith=function(eh,ei){return function(ej){eh(c5.New(function(ek){if(ek.$==0)ej.k({$:0,$0:ek.$0});else if(ek.$==1)try{(ei(ek.$0))(ej);}catch(el){ej.k(ek);}else ej.k(ek);},ej.ct));};};cy.Using=function(eh,ei){return cy.TryFinally(ei(eh),function(){eh.Dispose();});};cy.scheduler=function(){c6.$cctor();return c6.scheduler;};cy.noneCT=function(){c6.$cctor();return c6.noneCT;};cy.TryFinally=function(eh,ei){return function(ej){eh(c5.New(function(ek){try{ei();ej.k(ek);}catch(el){ej.k({$:1,$0:el});}},ej.ct));};};cy.GetCT=function(){c6.$cctor();return c6.GetCT;};cz=I.IdPayment=d$.Class({},null,cz);cA.defaultValue=function(eh,ei){return ei.$==1?eh:ei.$0;};cA.result=function(){bQ.$cctor();return bQ.result;};cA.defaultWith=function(eh,ei){return ei.$==1?eh(ei.$0):ei.$0;};bn.OkM$1=function(eh){return{$:0,$0:{$:1,$0:eh},$1:bu.NoMsg};};bn.OkM=function(eh){return eh.$0==null?{$:1,$0:eh.$1}:{$:0,$0:[eh.$0.$0,eh.$1]};};bn.ErrorM=function(eh){return{$:0,$0:null,$1:eh};};bn.OkMWithMsg=function(eh,ei){return{$:0,$0:{$:1,$0:eh},$1:ei};};bZ.splitByChar=function(eh,ei){return bh.SplitChars(ei,[eh],0);};bZ.unindent=function(eh){var ei,ej,ek,el;ei=bh.SplitChars(eh,["\n"],0);ej=(ek=ba.tryFindIndex(function(em){return" "!==em;},(el=ba.tryFind(function(em){return bh.Trim(em)!=="";},ei),el==null?"":el.$0)),ek==null?0:ek.$0);return ba.filter(function(em){return!bh.StartsWith(em,"# 1 ");},ba.map(function(em){return em.length<=ej?"":em.substring(ej);},ei));};bZ.unindentStr=function(){bK.$cctor();return bK.unindentStr;};bZ.StartsWith=function(eh,ei){return bh.StartsWith(ei,eh)?{$:1,$0:b0.string(ei,{$:1,$0:eh.length},null)}:null;};bZ.delimitedO=function(eh,ei,ej){var ek,el,em,en,eo;ek=bZ.splitInTwoO(eh,ej);return ek==null?null:(el=ek.$0,(em=el[0],(en=bZ.splitInTwoO(ei,el[1]),en==null?null:{$:1,$0:(eo=en.$0,[em,eo[0],eo[1]])})));};bZ.splitInTwoO=function(eh,ei){var ej;ej=ei.indexOf(eh);return ej===-1?null:{$:1,$0:[bb["String.Left"](ei,ej),ei.substring(ej+eh.length)]};};cC.Style=function(eh,ei){return c9.Static(function(ej){c_.SetStyle(ej,eh,ei);});};cC.Dynamic=function(eh,ei){return c9.Dynamic(ei,function(ej){return function(ek){return c_.SetAttr(ej,eh,ek);};});};cC.Handler=function(eh,ei){return c9.Static(function(ej){ej.addEventListener(eh,function(ek){return(ei(ej))(ek);},false);});};cC.DynamicStyle=function(eh,ei){return c9.Dynamic(ei,function(ej){return function(ek){return c_.SetStyle(ej,eh,ek);};});};cC.Value=function(eh){function ei(ej){return{$:1,$0:ej};}return cC.CustomValue(eh,a.id,function(ej){return ei(a.id(ej));});};cC.DynamicPred=function(eh,ei,ej){function ek(el,em){return em[0]?c_.SetAttr(el,eh,em[1]):c_.RemoveAttr(el,eh);}return c9.Dynamic(o.Map2(function(el,em){return[el,em];},ei,ej),function(el){return function(em){return ek(el,em);};});};cC.CustomValue=function(eh,ei,ej){return cC.CustomVar(eh,function(ek,el){ek.value=ei(el);},function(ek){return ej(ek.value);});};cC.OnAfterRender=function(eh){return new cQ({$:4,$0:eh});};cC.Checked=function(eh){function ei(ej,ek){return!E.Equals(eh.Get(),ej.checked)?eh.Set(ej.checked):null;}return cQ.Concat([cC.DynamicProp("checked",eh.get_View()),cC.Handler("change",function(ej){return function(ek){return ei(ej,ek);};})]);};cC.IntValue=function(eh){return cC.CustomVar(eh,function(ei,ej){var ek;ek=ej.get_Input();return ei.value!==ek?void(ei.value=ek):null;},function(ei){var ej,ek,el;ej=ei.value;return{$:1,$0:d1.isBlank(ej)?(ei.checkValidity?ei.checkValidity():true)?new cR({$:2,$0:ej}):new cR({$:1,$0:ej}):(ek=(el=0,[bP.TryParseInt32(ej,{get:function(){return el;},set:function(em){el=em;}}),el]),ek[0]?new cR({$:0,$0:ek[1],$1:ej}):new cR({$:1,$0:ej}))};});};cC.IntValueUnchecked=function(eh){return cC.CustomValue(eh,a.String,function(ei){var ej;return d1.isBlank(ei)?{$:1,$0:0}:(ej=+ei,ej!==ej>>0?null:{$:1,$0:ej});});};cC.FloatValue=function(eh){return cC.CustomVar(eh,function(ei,ej){var ek;ek=ej.get_Input();return ei.value!==ek?void(ei.value=ek):null;},function(ei){var ej,ek;ej=ei.value;return{$:1,$0:d1.isBlank(ej)?(ei.checkValidity?ei.checkValidity():true)?new cR({$:2,$0:ej}):new cR({$:1,$0:ej}):(ek=+ej,a.isNaN(ek)?new cR({$:1,$0:ej}):new cR({$:0,$0:ek,$1:ej}))};});};cC.FloatValueUnchecked=function(eh){return cC.CustomValue(eh,a.String,function(ei){var ej;return d1.isBlank(ei)?{$:1,$0:0}:(ej=+ei,a.isNaN(ej)?null:{$:1,$0:ej});});};cC.CustomVar=function(eh,ei,ej){function ek(em,en){return eh.UpdateMaybe(function(eo){var ep,eq;ep=ej(em);return ep!=null&&ep.$==1&&(!E.Equals(ep.$0,eo)&&(eq=[ep,ep.$0],true))?eq[0]:null;});}function el(em,en){var eo,ep;eo=ej(em);return eo!=null&&eo.$==1&&(E.Equals(eo.$0,en)&&(ep=eo.$0,true))?null:ei(em,en);}return cQ.Concat([cC.Handler("change",function(em){return function(en){return ek(em,en);};}),cC.Handler("input",function(em){return function(en){return ek(em,en);};}),cC.Handler("keypress",function(em){return function(en){return ek(em,en);};}),cC.DynamicCustom(function(em){return function(en){return el(em,en);};},eh.get_View())]);};cC.DynamicProp=function(eh,ei){return c9.Dynamic(ei,function(ej){return function(ek){ej[eh]=ek;};});};cC.DynamicCustom=function(eh,ei){return c9.Dynamic(ei,eh);};cF=cE.WcTabStripT=d$.Class({connectedCallback:function(){var eh,ei,ej,ek;function el(){var em,en,eo;en=!ei.hasAttribute("bottom");eo=bA.ofSeq(ba.delay(function(){return ba.collect(function(ep){var eq;eq=ei.childNodes[ep-1];return E.Equals(eq.nodeType,B.ELEMENT_NODE)?[[eq.hasAttribute("tabname")?eq.getAttribute("tabname"):(function(er){return function(es){return er("Tab "+a.String(es));};}(a.id))(ep),eq]]:[];},n.range(1,ei.childNodes.length));}));while(ek.childNodes.length>0)ek.removeChild(ek.lastChild);em=cE.tabStrip(eh.selected,en,true,eo,V.Element("slot",cc.Empty,cc.Empty));cT.LoadLocalTemplates("");V.Run(ek,em);}eh=this;!this.added?(ei=this,ej=ei.attachShadow({mode:"open"}),ek=self.document.createElement("div"),ej.appendChild(ek),el(),ei.addEventListener("DOMSubtreeModified",bb.delayed(50,el)),this.added=true):void 0;}},f,cF);cF.Constructor=function(){var eh,ei;eh=(ei=ef.construct(self.HTMLElement,[],this.__proto__.constructor),ei);self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New.call(eh);return eh;};cF.New=d$.Ctor(function(){f.New.call(this);this.added=false;this.selected=h.Create$1(1);(function(eh){return eh("WcTabStripT initializer");}(function(eh){ec.log(eh);}));},cF);cD.defineWebComponent=function(eh,ei,ej){try{ec.log("defineWebComponent: "+eh);cu.setPrototypeOf(ej.prototype,self.HTMLElement.prototype);cu.setPrototypeOf(ej,self.HTMLElement);cu.setPrototypeOf(ei.prototype,ej.prototype);self.customElements.define(eh,ei);}catch(ek){(function(el){return el("Failed to define WebComponent. Not supported.");}(function(el){ec.log(el);}));}};cG.appfwkclient=function(eh){cG.fixedsplitterhor();cG.fixedsplitterver();cT.LoadLocalTemplates("appframework");return eh?cT.NamedTemplate("appframework",{$:1,$0:"appfwkclient"},eh):void 0;};cH.p=function(eh){return"{"+("docName = "+by.prettyPrint(eh.docName))+"; "+("docDoc = "+cI.p(eh.docDoc))+"}";};cG.tile=function(eh){cT.LoadLocalTemplates("appframework");return eh?cT.NamedTemplate("appframework",{$:1,$0:"tile"},eh):void 0;};cG.namevalueinput=function(eh){cT.LoadLocalTemplates("appframework");return eh?cT.NamedTemplate("appframework",{$:1,$0:"namevalueinput"},eh):void 0;};cG.namevalue=function(eh){cT.LoadLocalTemplates("appframework");return eh?cT.NamedTemplate("appframework",{$:1,$0:"namevalue"},eh):void 0;};cG.action=function(eh){cT.LoadLocalTemplates("appframework");return eh?cT.NamedTemplate("appframework",{$:1,$0:"action"},eh):void 0;};cG.actiondisabled=function(eh){cT.LoadLocalTemplates("appframework");return eh?cT.NamedTemplate("appframework",{$:1,$0:"actiondisabled"},eh):void 0;};cG.fixedsplitterhor=function(eh){cT.LoadLocalTemplates("appframework");return eh?cT.NamedTemplate("appframework",{$:1,$0:"fixedsplitterhor"},eh):void 0;};cG.fixedsplitterver=function(eh){cT.LoadLocalTemplates("appframework");return eh?cT.NamedTemplate("appframework",{$:1,$0:"fixedsplitterver"},eh):void 0;};cG.wcompsplitterhor=function(eh){cT.LoadLocalTemplates("appframework");return eh?cT.NamedTemplate("appframework",{$:1,$0:"wcompsplitterhor"},eh):void 0;};cG.wcompsplitterver=function(eh){cT.LoadLocalTemplates("appframework");return eh?cT.NamedTemplate("appframework",{$:1,$0:"wcompsplitterver"},eh):void 0;};cG.appframework=function(eh){cT.LoadLocalTemplates("appframework");return eh?cT.NamedTemplate("appframework",{$:1,$0:"appframework"},eh):void 0;};cI.p=function(eh){return eh.$==5?"FunDoc5 (<fun>, "+by.prettyPrint(eh.$1)+", "+by.prettyPrint(eh.$2)+", "+by.prettyPrint(eh.$3)+", "+by.prettyPrint(eh.$4)+", "+by.prettyPrint(eh.$5)+")":eh.$==4?"FunDoc4 (<fun>, "+by.prettyPrint(eh.$1)+", "+by.prettyPrint(eh.$2)+", "+by.prettyPrint(eh.$3)+", "+by.prettyPrint(eh.$4)+")":eh.$==3?"FunDoc3 (<fun>, "+by.prettyPrint(eh.$1)+", "+by.prettyPrint(eh.$2)+", "+by.prettyPrint(eh.$3)+")":eh.$==2?"FunDoc2 (<fun>, "+by.prettyPrint(eh.$1)+", "+by.prettyPrint(eh.$2)+")":eh.$==1?"FunDoc1 (<fun>, "+by.prettyPrint(eh.$1)+")":"LazyDoc "+by.prettyPrint(eh.$0);};cJ.init=function(eh,ei){var ej;ej=new da.New();cJ.set_layoutHorizontal(eh);cJ.set_layoutVertical(ei);cD.defineWebComponent("wcomp-splitter",da.Constructor,self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New);};cJ.set_layoutHorizontal=function(eh){bK.$cctor();bK.layoutHorizontal=eh;};cJ.set_layoutVertical=function(eh){bK.$cctor();bK.layoutVertical=eh;};cJ.layoutVertical=function(){bK.$cctor();return bK.layoutVertical;};cJ.layoutHorizontal=function(){bK.$cctor();return bK.layoutHorizontal;};cE.init=function(){bK.$cctor();return bK.init;};cE.tabStrip=function(eh,ei,ej,ek,el){var em;em=V.Element("div",[cQ.Create("class",(((d$.Curried3(function(en,eo,ep){return en("tab-strip "+by.toSafe(eo)+" "+by.toSafe(ep));}))(a.id))(ei?"top":"bottom"))(ej?"horizontal":"vertical"))],bA.ofSeq(ba.delay(function(){return ba.collect(function(en){var eo;eo=en[0];return[dq.New$1().Content(V.Element("div",[cC.Dynamic("class",o.Map(function(ep){return"tab"+(ep===eo+1?" selected":"");},eh.get_View())),cQ.Create("draggable","true"),cQ.HandlerImpl("click",function(){return function(){return eh.Set(eo+1);};})],[V.TextNode(en[1][0])]))];},ba.indexed(ek));})));return V.Element("div",[cQ.Create("class","tab-panel")],bA.ofSeq(ba.delay(function(){return ba.append(ei?[em]:[],ba.delay(function(){return ba.append([V.Element("div",[cQ.Create("class","tab-content")],[el])],ba.delay(function(){return ba.append(!ei?[em]:[],ba.delay(function(){return ba.append([V.Element("style",cc.Empty,bA.ofArray([V.TextNode(cE.css())]))],ba.delay(function(){return[V.Element("style",cc.Empty,bA.ofArray([V.TextView(o.Map(function(en){return function(eo){return en("\r\n                                              ::slotted(*              ) { display: none }\r\n                                              ::slotted(*:nth-child("+a.String(eo)+")) { display: grid }\r\n                                           ");};}(a.id),eh.get_View()))]))];}));}));}));}));})));};cE.css=function(){bK.$cctor();return bK.css;};cK=cA.Builder=d$.Class({},f,cK);cK.New=d$.Ctor(function(){f.New.call(this);},cK);cL=bF.Builder=d$.Class({},f,cL);cL.New=d$.Ctor(function(){f.New.call(this);},cL);bZ.unindent=function(eh){var ei,ej,ek,el;ei=bh.SplitChars(eh,["\n"],0);ej=(ek=ba.tryFindIndex(function(em){return" "!==em;},(el=ba.tryFind(function(em){return bh.Trim(em)!=="";},ei),el==null?"":el.$0)),ek==null?0:ek.$0);return ba.filter(function(em){return!bh.StartsWith(em,"# 1 ");},ba.map(function(em){return em.length<=ej?"":em.substring(ej);},ei));};bZ.splitByChar=function(eh,ei){return bh.SplitChars(ei,[eh],0);};ce.tryParseWith=function(eh){function ei(ej,ek){return ej?{$:1,$0:ek}:null;}return function(ej){return ei.apply(null,eh(ej));};};ce.parseDateO=function(){bQ.$cctor();return bQ.parseDateO;};ce.parseIntO=function(){bQ.$cctor();return bQ.parseIntO;};ce.parseInt64O=function(){bQ.$cctor();return bQ.parseInt64O;};ce.parseSingleO=function(){bQ.$cctor();return bQ.parseSingleO;};ce.parseDoubleO=function(){bQ.$cctor();return bQ.parseDoubleO;};ce.parseGuidO=function(){bQ.$cctor();return bQ.parseGuidO;};cM.toJsonString=function(eh){return P.ofSeq(ba.delay(function(){return ba.append(["\""],ba.delay(function(){return ba.append(!bh.IsNullOrEmpty(eh)?ba.collect(function(ei){var ej,ek;ej=eh[ei];ek=ej.charCodeAt();return ek>=0&&ek<=7||ek===11||ek>=14&&ek<=31?(function(el){return function(em){return el("\\u"+by.padNumLeft(em.toString(16),4));};}(a.id))(ek):ej==="\u0008"?"\\b":ej==="\u0009"?"\\t":ej==="\n"?"\\n":ej==="\u000c"?"\\f":ej==="\r"?"\\r":ej==="\""?"\\\"":ej==="\\"?"\\\\":[ej];},n.range(0,eh.length-1)):[],ba.delay(function(){return["\""];}));}));})).join("");};bb.Error=function(eh){return{$:1,$0:eh};};bb.print=function(eh){if(typeof eh=="string")((function(ei){return function(ej){return ei(by.toSafe(ej));};}(function(ei){ec.log(ei);}))(eh));else((function(ei){return function(ej){return ei(by.prettyPrint(ej));};}(function(ei){ec.log(ei);}))(eh));};cN=I.Expiracion=d$.Class({},null,cN);cN.New=function(eh,ei){return new cN({anio:eh,mes:ei});};cO=I.TipoTarjeta=d$.Class({toString:function(){return this.$==3?this.$0:(function(eh){return function(ei){return eh(_9.p$4(ei));};}(a.id))(this);}},null,cO);cO.Visa=new cO({$:0});cO.tryParse=function(eh){var ei,ej;ej=bh.Trim(eh).toUpperCase();switch(ej){case"":return null;case"VISA":return{$:1,$0:cO.Visa};case"MASTERCARD":return{$:1,$0:cO.MasterCard};case"AMERICAN EXPRESS":case"AMEX":return{$:1,$0:cO.Amex};default:return{$:1,$0:new cO({$:3,$0:bh.Trim(eh)})};}};cO.MasterCard=new cO({$:1});cO.Amex=new cO({$:2});cP.notPresent=function(){return n.FailWith("The given key was not present in the dictionary.");};cP.alreadyAdded=function(){return n.FailWith("An item with the same key has already been added.");};cQ=g.AttrProxy=d$.Class({},null,cQ);cQ.Create=function(eh,ei){return c9.Static(function(ej){c_.SetAttr(ej,eh,ei);});};cQ.HandlerImpl=function(eh,ei){return c9.Static(function(ej){ej.addEventListener(eh,function(ek){return(ei(ej))(ek);},false);});};cQ.Concat=function(eh){var ei;ei=cw.ofSeqNonCopying(eh);return cw.TreeReduce(c9.EmptyAttr(),cQ.Append,ei);};cQ.Append=function(eh,ei){return c9.AppendTree(eh,ei);};cQ.Handler=function(eh,ei){return cQ.HandlerImpl(eh,ei);};cR=g.CheckedInput=d$.Class({get_Input:function(){return this.$==1?this.$0:this.$==2?this.$0:this.$1;}},null,cR);cT.LoadLocalTemplates=function(eh){!cT.LocalTemplatesLoaded()?(cT.set_LocalTemplatesLoaded(true),cT.LoadNestedTemplates(self.document.body,"")):void 0;cT.LoadedTemplates().set_Item(eh,cT.LoadedTemplateFile(""));};cT.NamedTemplate=function(eh,ei,ej){var ek,el;ek=(el=null,[cT.LoadedTemplateFile(eh).TryGetValue(ei==null?"":ei.$0,{get:function(){return el;},set:function(em){el=em;}}),el]);return ek[0]?cT.ChildrenTemplate(ek[1].cloneNode(true),ej):(ec.warn("Local template doesn't exist",ei),V.get_Empty());};cT.RunFullDocTemplate=function(eh){var ei,ej;cT.LoadLocalTemplates("");cT.PrepareTemplateStrict("",null,c_.ChildrenArray(self.document.body),{$:1,$0:self.document.body},null);ei=cT.ChildrenTemplate(self.document.body,eh);ej=self.document.body;(function(ek){V.RunInPlace(true,ej,ek);}(ei));return ei;};cT.LocalTemplatesLoaded=function(){dv.$cctor();return dv.LocalTemplatesLoaded;};cT.set_LocalTemplatesLoaded=function(eh){dv.$cctor();dv.LocalTemplatesLoaded=eh;};cT.LoadNestedTemplates=function(eh,ei){var ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex;function ej(ey){var ez,eA;if(!ek.ContainsKey(ey)){ez=(eA=null,[el.TryGetValue(ey,{get:function(){return eA;},set:function(eB){eA=eB;}}),eA]);ez[0]?(ex.Add(ey),el.Remove(ey),cT.PrepareTemplateStrict(ei,{$:1,$0:ey},ez[1][0],{$:1,$0:ez[1][1]},{$:1,$0:ej})):ec.warn(ex.Contains(ey)?"Encountered loop when instantiating "+ey:"Local template does not exist: "+ey);}}ek=cT.LoadedTemplateFile(ei);el=new bS.New$5();em=eh.querySelectorAll("[ws-template]");for(en=0,eo=em.length-1;en<=eo;en++){ep=em[en];eq=ep.getAttribute("ws-template").toLowerCase();ep.removeAttribute("ws-template");el.set_Item(eq,[[ep],cT.FakeRootSingle(ep)]);}er=eh.querySelectorAll("[ws-children-template]");for(es=0,et=er.length-1;es<=et;es++){eu=er[es];ev=eu.getAttribute("ws-children-template").toLowerCase();eu.removeAttribute("ws-children-template");el.set_Item(ev,(ew=c_.ChildrenArray(eu),[ew,cT.FakeRoot(ew)]));}ex=new bT.New$3();while(el.count>0)ej(ba.head(el.get_Keys()));};cT.LoadedTemplates=function(){dv.$cctor();return dv.LoadedTemplates;};cT.LoadedTemplateFile=function(eh){var ei,ej,ek;ei=(ej=null,[cT.LoadedTemplates().TryGetValue(eh,{get:function(){return ej;},set:function(el){ej=el;}}),ej]);return ei[0]?ei[1]:(ek=new bS.New$5(),(cT.LoadedTemplates().set_Item(eh,ek),ek));};cT.ChildrenTemplate=function(eh,ei){var ej,ek,el,em,en;ej=cT.InlineTemplate(eh,ei);ek=ej[1];el=ej[0];em=el.Els;return!E.Equals(em,null)&&em.length===1&&(P.get(em,0)instanceof B&&(E.Equals(P.get(em,0).nodeType,B.ELEMENT_NODE)&&(en=P.get(em,0),true)))?dw.TreeNode(el,ek):V.Mk({$:6,$0:el},ek);};cT.PrepareTemplateStrict=function(eh,ei,ej,ek,el){var em,en;function eo(et,eu){var ev,ew,ex,ey,ez,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV;function eA(eW){}while(true)switch(et){case 0:if(eu!==null){ev=eu.nextSibling;if(E.Equals(eu.nodeType,B.TEXT_NODE))dz.convertTextNode(eu);else if(E.Equals(eu.nodeType,B.ELEMENT_NODE))eq(eu);eu=ev;}else return null;break;case 1:eB=b0.string(eu.nodeName,{$:1,$0:3},null).toLowerCase();eC=(ew=eB.indexOf("."),ew===-1?[eh,eB]:[b0.string(eB,null,{$:1,$0:ew-1}),b0.string(eB,{$:1,$0:ew+1},null)]);eD=eC[1];eE=eC[0];if(eE!==""&&!cT.LoadedTemplates().ContainsKey(eE))return dz.failNotLoaded(eD);else{if(eE===""&&el!=null)el.$0(eD);eF=cT.LoadedTemplates().get_Item(eE);if(!eF.ContainsKey(eD))return dz.failNotLoaded(eD);else{eG=eF.get_Item(eD);eH=eG.cloneNode(true);eI=new bT.New$3();eJ=new bS.New$5();eK=eu.attributes;for(eL=0,eM=eK.length-1;eL<=eM;eL++){eN=eK.item(eL).name.toLowerCase();eJ.set_Item(eN,(eO=eK.item(eL).nodeValue,eO===""?eN:eO.toLowerCase()));!eI.Add(eN)?ec.warn("Hole mapped twice",eN):void 0;}for(eP=0,eQ=eu.childNodes.length-1;eP<=eQ;eP++){eR=eu.childNodes[eP];E.Equals(eR.nodeType,B.ELEMENT_NODE)?!eI.Add(eR.nodeName.toLowerCase())?ec.warn("Hole filled twice",eD):void 0:void 0;}eS=eu.childNodes.length===1&&E.Equals(eu.firstChild.nodeType,B.TEXT_NODE);if(eS){ey=dz.fillTextHole(eH,eu.firstChild.textContent,eD);((function(eW){return function(eX){if(eX!=null)eW(eX.$0);};}((ez=function(eW){return function(eX){return eW.Add(eX);};}(eI),function(eW){return eA(ez(eW));})))(ey));}dz.removeHolesExcept(eH,eI);if(!eS){for(eT=0,eU=eu.childNodes.length-1;eT<=eU;eT++){eV=eu.childNodes[eT];E.Equals(eV.nodeType,B.ELEMENT_NODE)?eV.hasAttributes()?dz.fillInstanceAttrs(eH,eV):ep(eH,eV):void 0;}}dz.mapHoles(eH,eJ);dz.fill(eH,eu.parentNode,eu);eu.parentNode.removeChild(eu);return;}}break;}}function ep(et,eu){var ev,ex,ey;function ew(ez,eA){var eB,eC,eD;if(ex==="title"&&eu.hasChildNodes()){eB=eb.parseHTML(eu.textContent);eu.removeChild(eu.firstChild);for(eC=0,eD=eB.length-1;eC<=eD;eC++)eu.appendChild(P.get(eB,eC));}else null;eq(eu);return dz.fill(eu,ez,eA);}ex=eu.nodeName.toLowerCase();c_.IterSelector(et,"[ws-attr-holes]",function(ez){var eA,eB,eC,eD,eE;eA=bh.SplitChars(ez.getAttribute("ws-attr-holes"),[" "],1);for(eB=0,eC=eA.length-1;eB<=eC;eB++){eD=P.get(eA,eB);ez.setAttribute(eD,(eE=new a.RegExp("\\${"+ex+"}","ig"),ez.getAttribute(eD).replace(eE,eu.textContent)));}});ey=et.querySelector("[ws-hole="+ex+"]");if(E.Equals(ey,null)){ev=et.querySelector("[ws-replace="+ex+"]");return E.Equals(ev,null)?null:(ew(ev.parentNode,ev),void ev.parentNode.removeChild(ev));}else{while(ey.hasChildNodes())ey.removeChild(ey.lastChild);ey.removeAttribute("ws-hole");return ew(ey,null);}}function eq(et){if(bh.StartsWith(et.nodeName.toLowerCase(),"ws-"))es(et);else{dz.convertAttrs(et);er(et.firstChild);}}function er(et){return eo(0,et);}function es(et){return eo(1,et);}em=ek==null?cT.FakeRoot(ej):ek.$0;en=(ei==null?"":ei.$0).toLowerCase();cT.LoadedTemplateFile(eh).set_Item(en,em);P.length(ej)>0?(function(et){var eu,ev,ew,ex;while(true){eu=et.querySelector("[ws-template]");if(E.Equals(eu,null)){ev=et.querySelector("[ws-children-template]");if(E.Equals(ev,null))return null;else{ew=ev.getAttribute("ws-children-template");ev.removeAttribute("ws-children-template");cT.PrepareTemplateStrict(eh,{$:1,$0:ew},c_.ChildrenArray(ev),null,null);et=et;}}else{ex=eu.getAttribute("ws-template");(cT.PrepareSingleTemplate(eh,{$:1,$0:ex},eu))(null);et=et;}}}(em),er(P.get(ej,0))):void 0;};cT.FakeRootSingle=function(eh){var ei,ej,ek;eh.removeAttribute("ws-template");ei=eh.getAttribute("ws-replace");ei===null?void 0:(eh.removeAttribute("ws-replace"),ej=eh.parentNode,E.Equals(ej,null)?void 0:(ek=self.document.createElement(eh.tagName),ek.setAttribute("ws-replace",ei),ej.replaceChild(ek,eh)));return cT.FakeRoot([eh]);};cT.FakeRoot=function(eh){var ei,ej,ek;ei=self.document.createElement("div");for(ej=0,ek=eh.length-1;ej<=ek;ej++)ei.appendChild(P.get(eh,ej));return ei;};cT.InlineTemplate=function(eh,ei){var ej,ek,el,em,ep,eq,er,es,et,eu,ev;function en(ew,ex){var ey,ez,eA;ey=c9.Insert(ew,ex);eq.push(c9.Updates(ey));er.push([ew,ey]);ez=d$.GetOptional(ey.OnAfterRender);return ez==null?null:(eA=ez.$0,void es.push(function(){eA(ew);}));}function eo(ew){var ex,ey;ex=(ey=null,[et.TryGetValue(ew,{get:function(){return ey;},set:function(ez){ey=ez;}}),ey]);return ex[0]?ex[1].$==0?{$:1,$0:ex[1].$1}:ex[1].$==1?{$:1,$0:V.TextNode(ex[1].$1)}:ex[1].$==2?{$:1,$0:V.TextView(ex[1].$1)}:ex[1].$==8?{$:1,$0:V.TextView(ex[1].$1.get_View())}:ex[1].$==9?{$:1,$0:V.TextView(o.Map(a.String,ex[1].$1.get_View()))}:ex[1].$==10?{$:1,$0:V.TextView(o.Map(function(ez){return ez.get_Input();},ex[1].$1.get_View()))}:ex[1].$==11?{$:1,$0:V.TextView(o.Map(a.String,ex[1].$1.get_View()))}:ex[1].$==12?{$:1,$0:V.TextView(o.Map(function(ez){return ez.get_Input();},ex[1].$1.get_View()))}:ex[1].$==13?{$:1,$0:V.TextView(o.Map(a.String,ex[1].$1.get_View()))}:(ec.warn("Content hole filled with attribute data",ew),null):null;}ep=[];eq=[];er=[];es=[];et=new bS.New$5();eu=b$.Get(ei);try{while(eu.MoveNext()){ev=eu.Current();et.set_Item(ev.$0,ev);}}finally{if(typeof eu=="object"&&"Dispose"in eu)eu.Dispose();}ej=c_.ChildrenArray(eh);c_.IterSelector(eh,"[ws-hole]",function(ew){var ex,ey,ez;ez=ew.getAttribute("ws-hole");ew.removeAttribute("ws-hole");while(ew.hasChildNodes())ew.removeChild(ew.lastChild);ex=eo(ez);ex!=null&&ex.$==1?(ey=ex.$0,c4.LinkElement(ew,ey.docNode),ep.push(db.New(c9.Empty(ew),ey.docNode,null,ew,bY.Int(),null)),eq.push(ey.updates)):void 0;});c_.IterSelector(eh,"[ws-replace]",function(ew){var ex,ey,ez,eA,eB,eC;ex=eo(ew.getAttribute("ws-replace"));ex!=null&&ex.$==1?(ey=ex.$0,ez=ew.parentNode,eA=self.document.createTextNode(""),ez.replaceChild(eA,ew),eB=c4.InsertBeforeDelim(eA,ey.docNode),eC=P.tryFindIndex(function(eD){return ew===eD;},ej),eC==null?void 0:P.set(ej,eC.$0,ey.docNode),ep.push(db.New(c9.Empty(ez),ey.docNode,{$:1,$0:[eB,eA]},ez,bY.Int(),null)),eq.push(ey.updates)):void 0;});c_.IterSelector(eh,"[ws-attr]",function(ew){var ex,ey,ez;ex=ew.getAttribute("ws-attr");ew.removeAttribute("ws-attr");ey=(ez=null,[et.TryGetValue(ex,{get:function(){return ez;},set:function(eA){ez=eA;}}),ez]);ey[0]?ey[1].$==3?en(ew,ey[1].$1):ec.warn("Attribute hole filled with non-attribute data",ex):void 0;});c_.IterSelector(eh,"[ws-on]",function(ew){en(ew,cQ.Concat(P.choose(function(ex){var ey,ez,eA;ey=bh.SplitChars(ex,[":"],1);ez=(eA=null,[et.TryGetValue(P.get(ey,1),{get:function(){return eA;},set:function(eB){eA=eB;}}),eA]);return ez[0]?ez[1].$==4?{$:1,$0:cC.Handler(P.get(ey,0),ez[1].$1)}:ez[1].$==5?{$:1,$0:cQ.Handler(P.get(ey,0),ez[1].$2)}:(ec.warn("Event hole on"+P.get(ey,0)+" filled with non-event data",P.get(ey,1)),null):null;},bh.SplitChars(ew.getAttribute("ws-on"),[" "],1))));ew.removeAttribute("ws-on");});c_.IterSelector(eh,"[ws-onafterrender]",function(ew){var ex,ey,ez;ex=ew.getAttribute("ws-onafterrender");ey=(ez=null,[et.TryGetValue(ex,{get:function(){return ez;},set:function(eA){ez=eA;}}),ez]);ey[0]?ey[1].$==6?(ew.removeAttribute("ws-onafterrender"),en(ew,cC.OnAfterRender(ey[1].$1))):ey[1].$==7?(ew.removeAttribute("ws-onafterrender"),en(ew,cC.OnAfterRender(ey[1].$1))):ec.warn("onafterrender hole filled with non-onafterrender data",ex):void 0;});c_.IterSelector(eh,"[ws-var]",function(ew){var ex,ey,ez;ex=ew.getAttribute("ws-var");ew.removeAttribute("ws-var");ey=(ez=null,[et.TryGetValue(ex,{get:function(){return ez;},set:function(eA){ez=eA;}}),ez]);ey[0]?ey[1].$==8?en(ew,cC.Value(ey[1].$1)):ey[1].$==9?en(ew,cC.Checked(ey[1].$1)):ey[1].$==10?en(ew,cC.IntValue(ey[1].$1)):ey[1].$==11?en(ew,cC.IntValueUnchecked(ey[1].$1)):ey[1].$==12?en(ew,cC.FloatValue(ey[1].$1)):ey[1].$==13?en(ew,cC.FloatValueUnchecked(ey[1].$1)):ec.warn("Var hole filled with non-Var data",ex):void 0;});c_.IterSelector(eh,"[ws-attr-holes]",function(ew){var ex,ey,ez,eA;ex=new a.RegExp(cT.TextHoleRE(),"g");ey=bh.SplitChars(ew.getAttribute("ws-attr-holes"),[" "],1);ew.removeAttribute("ws-attr-holes");for(ez=0,eA=ey.length-1;ez<=eA;ez++)(function(){var eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN;eK=P.get(ey,ez);eL=ew.getAttribute(eK);eB=null;eC=0;eM=[];while(eB=ex.exec(eL),eB!==null){eN=b0.string(eL,{$:1,$0:eC},{$:1,$0:ex.lastIndex-P.get(eB,0).length-1});eC=ex.lastIndex;eM.push([eN,P.get(eB,1)]);}eE=b0.string(eL,{$:1,$0:eC},null);ex.lastIndex=0;eF=P.foldBack(function(eO,eP){return(function(eQ){var eR,eS;eR=eQ[0];eS=eQ[1];return function(eT){var eU,eV,eW,eX,eY;eU=eT[0];eV=eT[1];eW=(eX=(eY=null,[et.TryGetValue(eS,{get:function(){return eY;},set:function(eZ){eY=eZ;}}),eY]),eX[0]?eX[1].$==1?{$:0,$0:eX[1].$1}:eX[1].$==2?{$:1,$0:eX[1].$1}:eX[1].$==8?{$:1,$0:eX[1].$1.get_View()}:eX[1].$==9?{$:1,$0:o.Map(a.String,eX[1].$1.get_View())}:eX[1].$==10?{$:1,$0:o.Map(function(eZ){return eZ.get_Input();},eX[1].$1.get_View())}:eX[1].$==11?{$:1,$0:o.Map(a.String,eX[1].$1.get_View())}:eX[1].$==12?{$:1,$0:o.Map(function(eZ){return eZ.get_Input();},eX[1].$1.get_View())}:eX[1].$==13?{$:1,$0:o.Map(a.String,eX[1].$1.get_View())}:(ec.warn("Attribute value hole filled with non-text data",eS),{$:0,$0:""}):{$:0,$0:""});return eW.$==1?[eR,new cc({$:1,$0:eU===""?eW.$0:o.Map(function(eZ){return eZ+eU;},eW.$0),$1:eV})]:[eR+eW.$0+eU,eV];};}(eO))(eP);},eM,[eE,cc.Empty]);return en(ew,eF[1].$==1?eF[1].$1.$==1?eF[1].$1.$1.$==1?eF[1].$1.$1.$1.$==0?(eG=eF[0],cC.Dynamic(eK,o.Map3(function(eO,eP,eQ){return eG+eO+eP+eQ;},eF[1].$0,eF[1].$1.$0,eF[1].$1.$1.$0))):(eH=eF[0],cC.Dynamic(eK,o.Map(function(eO){return eH+bh.concat("",eO);},o.Sequence(eF[1])))):(eI=eF[0],cC.Dynamic(eK,o.Map2(function(eO,eP){return eI+eO+eP;},eF[1].$0,eF[1].$1.$0))):eF[0]===""?cC.Dynamic(eK,eF[1].$0):(eJ=eF[0],cC.Dynamic(eK,o.Map(function(eO){return eJ+eO;},eF[1].$0))):cQ.Create(eK,eF[0]));}());});return[d$.DeleteEmptyFields({Els:ej,Dirty:true,Holes:ep,Attrs:er,Render:(ek=es.length==0?null:{$:1,$0:function(ew){P.iter(function(ex){ex(ew);},es);}},ek?ek.$0:void 0),El:(el=!E.Equals(ej,null)&&ej.length===1&&(P.get(ej,0)instanceof B&&(P.get(ej,0)instanceof a.Element&&(em=P.get(ej,0),true)))?{$:1,$0:em}:null,el?el.$0:void 0)},["Render","El"]),cw.TreeReduce(o.Const(),o.Map2Unit,eq)];};cT.PrepareSingleTemplate=function(eh,ei,ej){var ek,el,em;ek=cT.FakeRootSingle(ej);el=[ej];em={$:1,$0:ek};return function(en){cT.PrepareTemplateStrict(eh,ei,el,em,en);};};cT.TextHoleRE=function(){dv.$cctor();return dv.TextHoleRE;};cU.newPojoOpt=function(eh){function ei(ej,ek){return ek==null?null:{$:1,$0:[ej,ek.$0]};}return cU.newPojo(ba.choose(function(ej){return ei(ej[0],ej[1]);},eh));};cU.newPojo=function(eh){var ei,ej;function ek(em,en){return function(eo){return cU.addProp(em,en,eo);};}function el(em){}ei={};ba.iter((ej=function(em){return(function(en){return ek(en[0],en[1]);}(em))(ei);},function(em){return el(ej(em));}),eh);return ei;};cU.addProp=function(eh,ei,ej){ej[eh]=ei;return ej;};b1.op_EqualsEqualsGreater=function(eh,ei){return[eh,ei==null?null:{$:1,$0:ei.$0}];};cW.JSUnion=function(eh,ei){var ej;function ek(eo){var ep;function eq(er){return er!=null&&er.$==1&&E.Equals(eo,er.$0);}ep=ba.tryFindIndex(function(er){return eq(er[0]);},ei);return ep!=null&&ep.$==1?ep.$0:eo.$;}function el(eo,ep){return P.init(P.length((P.get(ei,eo))[2]),function(eq){return ep["$"+a.String(eq)];});}function em(eo,ep){var eq,er,es;eq=eh==null?{}:new eh();er=P.get(ei,eo);return(es=er[0],es!=null&&es.$==1)?er[0].$0:(eq.$=eo,ba.iteri(function(et,eu){eq["$"+a.String(et)]=eu;},ep),eq);}function en(eo,ep){var eq;function er(es,et){return[eo,es,et,eq];}eq=ep[2];return ba.map(function(es){return er(es[0],es[1]);},ep[1]);}ej=ba.collect(function(eo){return en(eo[0],eo[1]);},ba.indexed(ei));return de.New$1(function(eo){function ep(eq,er,es,et){var eu,ev,ew;function ex(ey,ez,eA){var eB;function eC(eD,eE){return ex(eB,eD,new cc({$:1,$0:eE,$1:eA}));}return ey.$==1?(eB=ey.$1,ba.collect(function(eD){return eC(eD[0],eD[1]);},ey.$0.Parse(ez))):[[ez,em(eq,P.ofList(bA.rev(eA)))]];}return cW.isCorrectMethod(er,eo.Method)?(eu=df.startsWith(bA.ofArray(es),eo.Segments),eu==null?[]:(ev=eu.$0,(ew=bA.ofArray(et),ew.$==0?[[cY.New(ev,eo.QueryArgs,eo.FormData,eo.Method,eo.Body),em(eq,[])]]:ex(ew,cY.New(ev,eo.QueryArgs,eo.FormData,eo.Method,eo.Body),cc.Empty)))):[];}return ba.collect(function(eq){return ep(eq[0],eq[1],eq[2],eq[3]);},ej);},function(eo){var ep,eq,er,es,et,eu;function ev(ew,ex){return ex.Write(ew);}ep=ek(eo);eq=P.get(ei,ep);er=eq[2];es=P.get(eq[1],0);et=[cY.Segment(bA.ofArray(es[1]),es[0])];return!E.Equals(er,null)&&er.length===0?{$:1,$0:et}:(eu=(((d$.Curried3(P.map2))(ev))(el(ep,eo)))(er),P.forall(function(ew){return ew!=null;},eu)?{$:1,$0:ba.append(et,ba.collect(function(ew){return ew.$0;},eu))}:null);});};cW.isCorrectMethod=function(eh,ei){return ei!=null&&ei.$==1?eh!=null&&eh.$==1?E.Equals(ei.$0,eh.$0):true:!(eh!=null&&eh.$==1);};cW.rString=function(){dE.$cctor();return dE.rString;};cW.rWildcard=function(){dE.$cctor();return dE.rWildcard;};cX.Parse=function(eh,ei){function ej(ek,el){return ek.Segments.$==0?{$:1,$0:el}:null;}return ba.tryPick(function(ek){return ej(ek[0],ek[1]);},eh.Parse(ei));};cX.HashLink=function(eh,ei){return"#"+cX.Link(eh,ei);};cX.Link=function(eh,ei){var ej;ej=cX.Write(eh,ei);return ej==null?"":ej.$0.ToLink();};cX.Write=function(eh,ei){var ej;ej=eh.Write(ei);return ej==null?null:{$:1,$0:cY.Combine(ej.$0)};};cY=cV.Route=d$.Class({ToLink:function(){return d4.WriteLink(this.Segments,this.QueryArgs);}},null,cY);cY.FromHash=function(eh,ei){var ej,ek;ej=eh.indexOf("#");return ej===-1?cY.get_Empty():(ek=eh.substring(ej+1),ei!=null&&ei.$0?ek===""||ek==="/"?cY.get_Empty():bh.StartsWith(ek,"/")?cY.FromUrl(ek.substring(1),{$:1,$0:true}):cY.Segment$2(ek):cY.FromUrl(eh.substring(ej),{$:1,$0:false}));};cY.Segment=function(eh,ei){var ej;ej=cY.get_Empty();return cY.New(eh,ej.QueryArgs,ej.FormData,ei,ej.Body);};cY.get_Empty=function(){return cY.New(cc.Empty,new b_.New([]),new b_.New([]),null,q.CreateFromValue(null));};cY.FromUrl=function(eh,ei){var ej,ek,el;ej=(ek=eh.indexOf("?"),ek===-1?[eh,new b_.New([])]:[bh.Substring(eh,0,ek),cY.ParseQuery(eh.substring(ek+1))]);el=cY.get_Empty();return cY.New(bA.ofArray(bh.SplitChars(ej[0],["/"],ei!=null&&ei.$0?0:1)),ej[1],el.FormData,el.Method,el.Body);};cY.Segment$2=function(eh){var ei;ei=cY.get_Empty();return cY.New(bA.ofArray([eh]),ei.QueryArgs,ei.FormData,ei.Method,ei.Body);};cY.ParseQuery=function(eh){return dF.OfArray(P.ofSeq(P.choose(function(ei){var ej,ek;ej=bh.SplitChars(ei,["="],0);return!E.Equals(ej,null)&&ej.length===2?(ek=P.get(ej,1),{$:1,$0:[P.get(ej,0),ek]}):((function(el){return function(em){return el("wrong format for query argument: "+by.toSafe(em));};}(function(el){ec.log(el);}))(ei),null);},bh.SplitChars(eh,["&"],0))));};cY.Combine=function(eh){var ei,ej,ek,el,em,en,eo,ep,eq,er;eo=P.ofSeq(eh);ep=P.length(eo);if(ep===0)return cY.get_Empty();else if(ep===1)return P.get(eo,0);else{ei=null;ej=null;eq=[];ek=new b_.New([]);el=new b_.New([]);em=0;er=P.length(eo);while(em<er)(function(){var es,et,eu;es=P.get(eo,em);et=es.Method;et!=null&&et.$==1?ei=et:void 0;eu=es.Body.f();eu===null?void 0:ej=eu;ek=dF.FoldBack(function(ev,ew,ex){return ex.Add(ev,ew);},ek,es.QueryArgs);el=dF.FoldBack(function(ev,ew,ex){return ex.Add(ev,ew);},el,es.FormData);bA.iter(function(ev){eq.push(ev);},es.Segments);em=em+1;}());return cY.New(bA.ofSeq(eq),ek,el,ei,q.CreateFromValue(ej));}};cY.New=function(eh,ei,ej,ek,el){return new cY({Segments:eh,QueryArgs:ei,FormData:ej,Method:ek,Body:el});};cZ.$cctor=function(){cZ.$cctor=a.ignore;cZ.EndPoint="?";cZ.AjaxProvider=new dg.New();};c0=b7.AjaxRemotingProvider=d$.Class({AsyncBase:function(eh,ei){var ej,ek;ej=this;ek=null;return cy.Delay(function(){var el,em;el=b7.makeHeaders(eh);em=b7.makePayload(ei);return cy.Bind(cy.GetCT(),function(en){return cy.FromContinuations(function(eo,ep,eq){var er,es,et;function eu(ev){return er[0]?(er[0]=false,eq(new dH.New(en))):null;}er=[true];es=cy.Register(en,function(){eu();});et=ej.get_EndPoint();return b7.AjaxProvider().Async(et,el,em,function(ev){if(er[0]){er[0]=false;es.Dispose();eo(dj.Activate(ed.parse(ev)));}},function(ev){if(er[0]){er[0]=false;es.Dispose();ep(ev);}});});});});},get_EndPoint:function(){return b7.EndPoint();},Async:function(eh,ei){return this.AsyncBase(eh,ei);}},f,c0);c0.New=d$.Ctor(function(){f.New.call(this);},c0);c1.fromSeq=function(eh){var ei;ei=P.ofSeq(ba.delay(function(){return ba.collect(function(ej){return[di.New(ej[0],ej[1])];},ba.distinctBy(function(ej){return ej[0];},eh));}));P.sortInPlace(ei);return cb.Build(ei,0,ei.length-1);};c2.New=function(eh,ei,ej,ek,el){return{Node:eh,Left:ei,Right:ej,Height:ek,Count:el};};c3=I.IdAddress=d$.Class({},null,c3);c4.CreateEmbedNode=function(){return{Current:null,Dirty:false};};c4.UpdateEmbedNode=function(eh,ei){eh.Current=ei;eh.Dirty=true;};c4.CreateRunState=function(eh,ei){return dR.New(dS.get_Empty(),c4.CreateElemNode(eh,c9.EmptyAttr(),ei));};c4.PerformAnimatedUpdate=function(eh,ei,ej){var ek;return dA.get_UseAnimations()?(ek=null,cy.Delay(function(){var el,em,en;el=dS.FindAll(ej);em=c4.ComputeChangeAnim(ei,el);en=c4.ComputeEnterAnim(ei,el);return cy.Bind(dA.Play(dA.Append(em,c4.ComputeExitAnim(ei,el))),function(){return cy.Bind(c4.SyncElemNodesNextFrame(eh,ei),function(){return cy.Bind(dA.Play(en),function(){ei.PreviousNodes=el;return cy.Return(null);});});});})):c4.SyncElemNodesNextFrame(eh,ei);};c4.PerformSyncUpdate=function(eh,ei,ej){var ek;ek=dS.FindAll(ej);c4.SyncElemNode(eh,ei.Top);ei.PreviousNodes=ek;};c4.CreateTextNode=function(){return{Text:c_.CreateText(""),Dirty:false,Value:""};};c4.UpdateTextNode=function(eh,ei){eh.Value=ei;eh.Dirty=true;};c4.LinkElement=function(eh,ei){c4.InsertDoc(eh,ei,null);};c4.InsertBeforeDelim=function(eh,ei){var ej,ek;ej=eh.parentNode;ek=self.document.createTextNode("");ej.insertBefore(ek,eh);c4.LinkPrevElement(eh,ei);return ek;};c4.CreateElemNode=function(eh,ei,ej){var ek;c4.LinkElement(eh,ej);ek=c9.Insert(eh,ei);return db.New(ek,ej,null,eh,bY.Int(),d$.GetOptional(ek.OnAfterRender));};c4.SyncElemNodesNextFrame=function(eh,ei){function ej(ek){a.requestAnimationFrame(function(){c4.SyncElemNode(eh,ei.Top);ek();});}return dB.BatchUpdatesEnabled()?cy.FromContinuations(function(ek,el,em){return ej.apply(null,[ek,el,em]);}):(c4.SyncElemNode(eh,ei.Top),cy.Return(null));};c4.ComputeExitAnim=function(eh,ei){return dA.Concat(P.map(function(ej){return c9.GetExitAnim(ej.Attr);},dS.ToArray(dS.Except(ei,dS.Filter(function(ej){return c9.HasExitAnim(ej.Attr);},eh.PreviousNodes)))));};c4.ComputeEnterAnim=function(eh,ei){return dA.Concat(P.map(function(ej){return c9.GetEnterAnim(ej.Attr);},dS.ToArray(dS.Except(eh.PreviousNodes,dS.Filter(function(ej){return c9.HasEnterAnim(ej.Attr);},ei)))));};c4.ComputeChangeAnim=function(eh,ei){var ej;function ek(el){return c9.HasChangeAnim(el.Attr);}ej=function(el){return dS.Filter(ek,el);};return dA.Concat(P.map(function(el){return c9.GetChangeAnim(el.Attr);},dS.ToArray(dS.Intersect(ej(eh.PreviousNodes),ej(ei)))));};c4.SyncElemNode=function(eh,ei){!eh?c4.SyncElement(ei):void 0;c4.Sync(ei.Children);c4.AfterRender(ei);};c4.InsertDoc=function(eh,ei,ej){var ek;return ei!=null&&ei.$==1?c4.InsertNode(eh,ei.$0.El,ej):ei!=null&&ei.$==2?(ek=ei.$0,(ek.Dirty=false,c4.InsertDoc(eh,ek.Current,ej))):ei==null?ej:ei!=null&&ei.$==4?c4.InsertNode(eh,ei.$0.Text,ej):ei!=null&&ei.$==5?c4.InsertNode(eh,ei.$0,ej):ei!=null&&ei.$==6?P.foldBack(function(el,em){return el==null||el.constructor===cu?c4.InsertDoc(eh,el,em):c4.InsertNode(eh,el,em);},ei.$0.Els,ej):c4.InsertDoc(eh,ei.$0,c4.InsertDoc(eh,ei.$1,ej));};c4.LinkPrevElement=function(eh,ei){c4.InsertDoc(eh.parentNode,ei,eh);};c4.SyncElement=function(eh){function ei(ej){function ek(el){var em,en;return el!=null&&el.$==0?ek(el.$0)||ek(el.$1):el!=null&&el.$==2?(em=el.$0,em.Dirty||ek(em.Current)):el!=null&&el.$==6&&(en=el.$0,en.Dirty||P.exists(ei,en.Holes));}return ek(ej.Children);}c9.Sync(eh.El,eh.Attr);ei(eh)?c4.DoSyncElement(eh):void 0;};c4.Sync=function(eh){var ei,ej;if(eh!=null&&eh.$==1)c4.SyncElemNode(false,eh.$0);else if(eh!=null&&eh.$==2)c4.Sync(eh.$0.Current);else if(eh==null);else if(eh!=null&&eh.$==5);else if(eh!=null&&eh.$==4){ei=eh.$0;ei.Dirty?(ei.Text.nodeValue=ei.Value,ei.Dirty=false):void 0;}else if(eh!=null&&eh.$==6){ej=eh.$0;P.iter(function(ek){c4.SyncElemNode(false,ek);},ej.Holes);P.iter(function(ek){c9.Sync(ek[0],ek[1]);},ej.Attrs);c4.AfterRender(ej);}else{c4.Sync(eh.$0);c4.Sync(eh.$1);}};c4.AfterRender=function(eh){var ei;ei=d$.GetOptional(eh.Render);ei!=null&&ei.$==1?(ei.$0(eh.El),d$.SetOptional(eh,"Render",null)):void 0;};c4.InsertNode=function(eh,ei,ej){c_.InsertAt(eh,ej,ei);return ei;};c4.DoSyncElement=function(eh){var ei,ej,ek;function el(em,en){var eo,ep;return em!=null&&em.$==1?em.$0.El:em!=null&&em.$==2?(eo=em.$0,eo.Dirty?(eo.Dirty=false,c4.InsertDoc(ei,eo.Current,en)):el(eo.Current,en)):em==null?en:em!=null&&em.$==4?em.$0.Text:em!=null&&em.$==5?em.$0:em!=null&&em.$==6?(ep=em.$0,(ep.Dirty?ep.Dirty=false:void 0,P.foldBack(function(eq,er){return eq==null||eq.constructor===cu?el(eq,er):eq;},ep.Els,en))):el(em.$0,el(em.$1,en));}ei=eh.El;d8.Iter((ej=eh.El,function(em){c_.RemoveNode(ej,em);}),d8.Except(d8.DocChildren(eh),d8.Children(eh.El,d$.GetOptional(eh.Delimiters))));el(eh.Children,(ek=d$.GetOptional(eh.Delimiters),ek!=null&&ek.$==1?ek.$0[1]:null));};c5.New=function(eh,ei){return{k:eh,ct:ei};};c6.$cctor=function(){c6.$cctor=a.ignore;c6.noneCT=c7.New(false,[]);c6.scheduler=new dk.New();c6.defCTS=[new dl.New()];c6.Zero=cy.Return();c6.GetCT=function(eh){eh.k({$:0,$0:eh.ct});};};c7.New=function(eh,ei){return{c:eh,r:ei};};c8.extractNodes=function(eh){var ei,ej;function ek(el,em,en,eo){var ep,eq,er,es,et,eu;ep=c8.extractNodes(en);eq=c8.extractNodes(eo);return(ep.$==0?(es=ep.$0,!E.Equals(es,null)&&es.length===0)?(er=eq,true):eq.$==0?(et=eq.$0,!E.Equals(et,null)&&et.length===0)?(er=ep,true):(er=[ep,eq],false):(er=[ep,eq],false):eq.$==0?(eu=eq.$0,!E.Equals(eu,null)&&eu.length===0)?(er=ep,true):(er=[ep,eq],false):(er=[ep,eq],false))?er:{$:1,$0:{$:0,$0:el,$1:em,$2:er[0],$3:er[1]}};}ei=c8.horizontalSplit(eh);return ei!=null&&ei.$==1?ek(false,ei.$0[2],ei.$0[0],ei.$0[1]):(ej=c8.verticalSplit(eh),ej!=null&&ej.$==1?ek(true,ej.$0[2],ej.$0[0],ej.$0[1]):{$:0,$0:c8.cleanSpaces(eh)});};c8.createLayoutDefinitions=function(eh,ei){var ej,ek,el,em,en,eo,ep,eq,er,es;return ei.$==1?(ej=ei.$0.$0,(ek=ei.$0.$1,(el=c8.createLayoutDefinitions(eh+"_1",ei.$0.$2),(em=el[0],(en=el[1],(eo=c8.createLayoutDefinitions(eh+"_2",ei.$0.$3),(ep=eo[0],(eq=eo[1],[eh,P.ofSeq(ba.delay(function(){return ba.append([bh.concat(" ",bA.ofArray([eh,ej?"vertical":"horizontal",a.String(ek),em,ep]))],ba.delay(function(){return ba.append(en,ba.delay(function(){return eq;}));}));}))])))))))):(er=ei.$0,!E.Equals(er,null)&&er.length===0)?["___",[]]:(es=ei.$0,!E.Equals(es,null)&&es.length===1)?[P.get(ei.$0,0),[]]:[eh,[eh+" div \"\" "+bh.concat(" ",ei.$0)]];};c8.horizontalSplit=function(eh){var ei,ej,ek,el,em;function en(eo,ep){var eq,er,es,et;eq=i.REGEX$1("^ *--+([ ^v0-9]*)-* *$","",ep);return eq!=null&&eq.$==1?{$:1,$0:[[eo,(er=(es=ba.tryItem(1,eq.$0),es==null?null:c8.extractMeasuresO(bh.Replace(bh.Replace(es.$0,"^",""),"v","-"))),(et=new _do({$:1,$0:5,$1:50,$2:95}),er==null?et:er.$0))],ep.indexOf("-")]}:null;}ei=(ej=ba.tryHead(ba.sortBy(function(eo){return eo[1];},ba.choose(function(eo){return en(eo[0],eo[1]);},ba.indexed(eh)))),ej==null?null:{$:1,$0:ej.$0[0]});return ei==null?null:{$:1,$0:(ek=ei.$0,(el=ek[0],(em=ek[1],[b0.array(eh,null,{$:1,$0:el-1}),b0.array(eh,{$:1,$0:el+1},null),em])))};};c8.verticalSplit=function(eh){var ei,ej,ek,el,em,en,eo,ep,eq,er;function es(ev,ew){var ex,ey,ez;return(ey=i.REGEX$1("^ *\\|+ *$","",ew),ey!=null&&ey.$==1&&(ez=ey.$0,!E.Equals(ez,null)&&ez.length===1))?{$:1,$0:[ev,ew.indexOf("|")]}:null;}function et(ev){return E.Equals(null,ev);}function eu(ev){return E.Equals(null,ev);}ei=c8.transpose(eh);ej=(ek=(el=ba.tryHead(ba.sortBy(function(ev){return ev[1];},ba.choose(function(ev){return es(ev[0],ev[1]);},ba.indexed(ei)))),el==null?null:{$:1,$0:el.$0[0]}),ek==null?null:{$:1,$0:(em=ek.$0,[c8.transpose(b0.array(ei,null,{$:1,$0:em-1})),c8.transpose(b0.array(ei,{$:1,$0:em+1},null))])});return ej==null?null:{$:1,$0:(en=ej.$0,(eo=en[0],(ep=en[1],[P.filter(function(ev){return et(c8.extractMeasuresO(ev));},eo),P.filter(function(ev){return eu(c8.extractMeasuresO(ev));},ep),(eq=ba.tryHead(ba.delay(function(){return ba.append(ba.choose(c8.extractMeasuresO,eo),ba.delay(function(){return ba.map(function(ev){return ev.$==0?ev.$1?new _do({$:0,$0:ev.$0,$1:false}):ev:ev;},ba.choose(c8.extractMeasuresO,ep));}));})),(er=new _do({$:1,$0:5,$1:50,$2:95}),eq==null?er:eq.$0))])))};};c8.cleanSpaces=function(eh){return P.filter(function(ei){var ej;return!(ej=(ce.Int())(ei),ej!=null&&ej.$==1);},bh.SplitStrings(bh.concat(" ",eh),[" "],1));};c8.extractMeasuresO=function(eh){var ei,ej,ek,el,em,en,eo;ei=bh.SplitChars(eh,[" "],1);return!E.Equals(ei,null)&&ei.length===1&&(ek=(ce.Int())(P.get(ei,0)),ek!=null&&ek.$==1&&(ej=ek.$0,true))?{$:1,$0:new _do({$:0,$0:ea.abs(ej),$1:ej>=0})}:!E.Equals(ei,null)&&ei.length===3&&(em=(ce.Int())(P.get(ei,0)),em!=null&&em.$==1&&(en=(ce.Int())(P.get(ei,1)),en!=null&&en.$==1&&(eo=(ce.Int())(P.get(ei,2)),eo!=null&&eo.$==1&&(el=[eo.$0,em.$0,en.$0],true))))?{$:1,$0:new _do({$:1,$0:el[1],$1:el[2],$2:el[0]})}:null;};c8.transpose=function(eh){var ei;ei=ba.max(ba.map(function(ej){return ej.length;},eh));return P.ofSeq(ba.delay(function(){return ba.map(function(ej){return P.ofSeq(ba.delay(function(){return ba.map(function(ek){return ek.length>ej?ek[ej]:" ";},eh);})).join("");},n.range(0,ei-1));}));};c9.Static=function(eh){return new cQ({$:3,$0:eh});};c9.Dynamic=function(eh,ei){return new cQ({$:1,$0:new dM.New(eh,ei)});};c9.AppendTree=function(eh,ei){var ej;return eh===null?ei:ei===null?eh:(ej=new cQ({$:2,$0:eh,$1:ei}),(c9.SetFlags(ej,c9.Flags(eh)|c9.Flags(ei)),ej));};c9.EmptyAttr=function(){d0.$cctor();return d0.EmptyAttr;};c9.Insert=function(eh,ei){var ej,ek,el;function em(en){if(!(en===null))if(en!=null&&en.$==1)ej.push(en.$0);else if(en!=null&&en.$==2){em(en.$0);em(en.$1);}else if(en!=null&&en.$==3)en.$0(eh);else if(en!=null&&en.$==4)ek.push(en.$0);}ej=[];ek=[];em(ei);el=ej.slice(0);return dy.New(eh,c9.Flags(ei),el,ek.length===0?null:{$:1,$0:function(en){ba.iter(function(eo){eo(en);},ek);}});};c9.Updates=function(eh){return cw.MapTreeReduce(function(ei){return ei.NChanged();},o.Const(),o.Map2Unit,eh.DynNodes);};c9.Empty=function(eh){return dy.New(eh,0,[],null);};c9.SetFlags=function(eh,ei){eh.flags=ei;};c9.Flags=function(eh){return eh!==null&&eh.hasOwnProperty("flags")?eh.flags:0;};c9.HasExitAnim=function(eh){var ei;ei=2;return(eh.DynFlags&ei)===ei;};c9.GetExitAnim=function(eh){return c9.GetAnim(eh,function(ei,ej){return ei.NGetExitAnim(ej);});};c9.HasEnterAnim=function(eh){var ei;ei=1;return(eh.DynFlags&ei)===ei;};c9.GetEnterAnim=function(eh){return c9.GetAnim(eh,function(ei,ej){return ei.NGetEnterAnim(ej);});};c9.HasChangeAnim=function(eh){var ei;ei=4;return(eh.DynFlags&ei)===ei;};c9.GetChangeAnim=function(eh){return c9.GetAnim(eh,function(ei,ej){return ei.NGetChangeAnim(ej);});};c9.GetAnim=function(eh,ei){return dA.Concat(P.map(function(ej){return ei(ej,eh.DynElem);},eh.DynNodes));};c9.Sync=function(eh,ei){P.iter(function(ej){ej.NSync(eh);},ei.DynNodes);};c_.SetStyle=function(eh,ei,ej){c_.SetProperty(eh.style,ei,ej);};c_.ChildrenArray=function(eh){var ei,ej,ek;ei=[];for(ej=0,ek=eh.childNodes.length-1;ej<=ek;ej++)ei.push(eh.childNodes[ej]);return ei;};c_.SetAttr=function(eh,ei,ej){eh.setAttribute(ei,ej);};c_.SetProperty=function(eh,ei,ej){return eh.setProperty(ei,ej);};c_.CreateElement=function(eh){return c_.Doc().createElement(eh);};c_.IterSelector=function(eh,ei,ej){var ek,el,em;ek=eh.querySelectorAll(ei);for(el=0,em=ek.length-1;el<=em;el++)ej(ek[el]);};c_.CreateText=function(eh){return c_.Doc().createTextNode(eh);};c_.Doc=function(){dZ.$cctor();return dZ.Doc;};c_.RemoveAttr=function(eh,ei){eh.removeAttribute(ei);};c_.RemoveClass=function(eh,ei){var ej;c_.setClass(eh,(ej=c_.clsRE(ei),c_.getClass(eh).replace(ej,function(ek,el,em){return el===""||em===""?"":" ";})));};c_.AddClass=function(eh,ei){var ej;ej=c_.getClass(eh);ej===""?c_.setClass(eh,ei):!c_.clsRE(ei).test(ej)?c_.setClass(eh,ej+" "+ei):void 0;};c_.setClass=function(eh,ei){if(eh instanceof a.SVGElement)eh.setAttribute("class",ei);else eh.className=ei;};c_.getClass=function(eh){return eh instanceof a.SVGElement?eh.getAttribute("class"):eh.className;};c_.clsRE=function(eh){return new a.RegExp("(\\s+|^)"+eh+"(?:\\s+"+eh+")*(\\s+|$)","g");};c_.InsertAt=function(eh,ei,ej){var ek;if(!(ej.parentNode===eh&&ei===(ek=ej.nextSibling,E.Equals(ek,null)?null:ek)))eh.insertBefore(ej,ei);};c_.RemoveNode=function(eh,ei){if(ei.parentNode===eh)eh.removeChild(ei);};c$.TryParse=function(eh){var ei;ei=ee.parse(eh);return a.isNaN(ei)?null:{$:1,$0:ei};};bP.TryParse=function(eh,ei,ej,ek){var el,em;el=+eh;em=el===el-el%1&&el>=ei&&el<=ej;em?ek.set(el):void 0;return em;};bP.TryParseBool=function(eh,ei){var ej;ej=eh.toLowerCase();return ej==="true"?(ei.set(true),true):ej==="false"&&(ei.set(false),true);};da=cJ.WcSplitterT=d$.Class({connectedCallback:function(){var eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew;function ex(eF){var eG,eH,eI,eJ;eG=eo?["padding-left","padding-right","grid-column-gap"]:["padding-top","padding-bottom","grid-row-gap"];eH=a.parseFloat("0"+eb(eF.parentElement.parentElement).css(eG[0]));eI=a.parseFloat("0"+eb(eF.parentElement.parentElement).css(eG[1]));er.Set(a.parseFloat("0"+eb(eF.parentElement.parentElement).css(eG[2])));eq[0]=eH+eI;eJ=eh.getBoundingClientRect();return eo?en?[eJ.width,eJ.height]:[-eJ.width,eJ.height]:en?[eJ.height,eJ.width]:[-eJ.height,eJ.width];}function ey(eF){return eo?eF.clientX:eF.clientY;}function ez(eF){var eG,eH;eG=(ey(eF)-eu[0])*100/ep[0][0]+et[0];em.Set((eH=E.Compare(ek,eG)===1?ek:eG,E.Compare(el,eH)===-1?el:eH));}function eA(){if(es[0]){es[0]=false;self.removeEventListener("mousemove",ez,false);self.removeEventListener("mouseup",eA,false);}}function eB(eF){var eG,eH;if(!es[0]){es[0]=true;et[0]=em.Get();eu[0]=ey(eF);ep[0]=(eG=(eH=ev[0],eH==null?null:{$:1,$0:ex(eH.$0)}),eG==null?[100,500]:eG.$0);self.addEventListener("mousemove",ez,false);self.addEventListener("mouseup",eA,false);eF.preventDefault();}}function eC(eF,eG,eH,eI){return[(eF-eG-eH)*eI/100,(eF-eG-eH)*(100-eI)/100];}function eD(eF,eG){return(((((d$.Curried(function(eH,eI,eJ,eK,eL){return eH(" "+eI.toFixed(2)+"px "+eJ.toFixed(2)+"px ; "+by.toSafe(eK)+" : "+eL.toFixed(2)+"px; ");},5))(a.id))(eF))(eG))(eo?"height":"width"))(ep[0][1]);}function eE(){var eF;eF=ev[0];eF==null?void 0:ep[0]=ex(eF.$0);em.Set(em.Get());}if(!this.added){eh=this;ei=eh.attachShadow({mode:"open"});ej=self.document.createElement("div");ek=eh.hasAttribute("min")?a.parseFloat(eh.getAttribute("min")):4;el=eh.hasAttribute("max")?a.parseFloat(eh.getAttribute("max")):96;em=h.Create$1(eh.hasAttribute("value")?a.parseFloat(eh.getAttribute("value")):50);en=!eh.hasAttribute("second");eo=eh.hasAttribute("vertical");ep=[[0,0]];eq=[0];er=h.Create$1(0);es=[false];et=[0];eu=[0];ev=[null];ew=(((((eo?cJ.layoutVertical():cJ.layoutHorizontal())(o.Map(function(eF){var eG;eG=eC(ep[0][0],er.Get(),eq[0],eF);return eD.apply(null,eG);},em.get_View())))(function(){du.addResizeObserver(eE,eh);eE();}))(function(eF){ev[0]={$:1,$0:eF};eE();}))(function(eF){eB(eF);}))(o.Map(function(eF){return function(eG){return eF(by.prettyPrint(eG)+"px");};}(a.id),er.get_View()));cT.LoadLocalTemplates("");V.Run(ej,ew);ei.appendChild(ej.firstChild);this.added=true;}}},f,da);da.Constructor=function(){var eh,ei;eh=(ei=ef.construct(self.HTMLElement,[],this.__proto__.constructor),ei);self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New.call(eh);return eh;};da.New=d$.Ctor(function(){f.New.call(this);this.added=false;(function(eh){return eh("WcSplitterT initializer");}(function(eh){ec.log(eh);}));},da);db=g.DocElemNode=d$.Class({Equals:function(eh){return this.ElKey===eh.ElKey;},GetHashCode:function(){return this.ElKey;}},null,db);db.New=function(eh,ei,ej,ek,el,em){var en;return new db((en={Attr:eh,Children:ei,El:ek,ElKey:el},(d$.SetOptional(en,"Delimiters",ej),d$.SetOptional(en,"Render",em),en)));};dd.$cctor=function(){dd.$cctor=a.ignore;dd.counter=0;};de.New$1=function(eh,ei){return{Parse:eh,Write:ei};};df.startsWith=function(eh,ei){var ej;switch(eh.$==1?ei.$==1?E.Equals(eh.$0,ei.$0)?(ej=[ei.$0,ei.$1,eh.$0,eh.$1],1):2:2:0){case 0:return{$:1,$0:ei};case 1:return df.startsWith(ej[3],ej[1]);case 2:return null;}};dg=b7.XhrProvider=d$.Class({Async:function(eh,ei,ej,ek,el){b7.ajax(true,eh,ei,ej,ek,el,function(){b7.ajax(true,eh,ei,ej,ek,el,void 0);});}},f,dg);dg.New=d$.Ctor(function(){f.New.call(this);},dg);dh=e.TaskCompletionSource=d$.Class({SetResult:function(eh){this.task.get_IsCompleted()?n.FailWith("Task already completed."):void 0;this.task.status=5;this.task.result=eh;this.task.RunContinuations();},SetException$1:function(eh){this.task.get_IsCompleted()?n.FailWith("Task already completed."):void 0;this.task.status=7;this.task.exc=new dK.New$3([eh]);this.task.RunContinuations();},SetCanceled:function(){this.task.get_IsCompleted()?n.FailWith("Task already completed."):void 0;this.task.status=6;this.task.RunContinuations();},get_Task:function(){return this.task;}},f,dh);dh.New=d$.Ctor(function(){f.New.call(this);this.task=new dJ.New$4(null,cy.noneCT(),1,null,void 0);},dh);di=be.Pair=d$.Class({Equals:function(eh){return E.Equals(this.Key,eh.Key);},GetHashCode:function(){return E.Hash(this.Key);},CompareTo0:function(eh){return E.Compare(this.Key,eh.Key);}},null,di);di.New=function(eh,ei){return new di({Key:eh,Value:ei});};dj.Activate=function(eh){var ei,ek,el,em,en,eo,ep;function ej(eq){var er,es,et,eu,ev;if(E.Equals(eq,null))return eq;else if(typeof eq=="object"){if(eq instanceof a.Array)return dj.shallowMap(ej,eq);else{er=dj.shallowMap(ej,eq.$V);es=eq.$T;if(es===void 0)return er;else{et=P.get(ek,es);if(et===1)return bA.ofArray(er);else if(et===2)return self.WebSharper.Decimal.CreateDecimalBits(er);else{eu=new(P.get(ek,es))();for(var ew in er)if(function(ex){eu[ex]=er[ex];return false;}(ew))break;return eu;}}}}else return eq;}ek=eh?eh.$TYPES:void 0;if(ek===void 0)ei=eh;else{for(el=0,em=P.length(ek)-1;el<=em;el++){ep=P.get(ek,el);switch(!E.Equals(ep,null)&&ep.length===3?P.get(ep,0)==="WebSharper"?P.get(ep,1)==="List"?P.get(ep,2)==="T"?0:(eo=ep,2):(eo=ep,2):(eo=ep,2):!E.Equals(ep,null)&&ep.length===2?P.get(ep,0)==="WebSharper"?P.get(ep,1)==="Decimal"?1:(eo=ep,2):(eo=ep,2):(eo=ep,2)){case 0:en=1;break;case 1:en=2;break;case 2:en=dj.lookup(eo);break;}P.set(ek,el,en);}ei=eh.$DATA;}return ej(ei);};dj.shallowMap=function(eh,ei){var ej,ek;if(ei instanceof a.Array)return P.map(eh,ei);else if(typeof ei=="object"){ej={};for(var el in ei)if(function(em){ej[em]=eh(ei[em]);return false;}(el))break;return ej;}else return ei;};dj.lookup=function(eh){var ei,ej,ek,el,em;ek=P.length(eh);ei=self;ej=0;while(ej<ek){el=P.get(eh,ej);em=ei[el];!E.Equals(typeof em,void 0)?(ei=em,ej=ej+1):n.FailWith("Invalid server reply. Failed to find type: "+el);}return ei;};dk=cy.Scheduler=d$.Class({Fork:function(eh){var ei;ei=this;this.robin.push(eh);this.idle?(this.idle=false,a.setTimeout(function(){ei.tick();},0)):void 0;},tick:function(){var eh,ei,ej;ei=this;ej=ee.now();eh=true;while(eh)if(this.robin.length===0){this.idle=true;eh=false;}else{(this.robin.shift())();ee.now()-ej>40?(a.setTimeout(function(){ei.tick();},0),eh=false):void 0;}}},f,dk);dk.New=d$.Ctor(function(){f.New.call(this);this.idle=true;this.robin=[];},dk);dl=e.CancellationTokenSource=d$.Class({Cancel$1:function(){var eh;if(!this.c){this.c=true;eh=P.choose(function(ei){try{ei();return null;}catch(ej){return{$:1,$0:ej};}},this.r);if(P.length(eh)>0)throw new dK.New$3(eh);else void 0;}}},f,dl);dl.New=d$.Ctor(function(){f.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},dl);dn.DecodeArray=function(eh){return dn.EncodeArray(eh);};dn.EncodeArray=d$.Curried3(function(eh,ei,ej){return P.map(eh(),ej);});dn.DecodeTuple=function(eh){return dn.EncodeTuple(eh);};dn.Id=d$.Curried3(function(eh,ei,ej){return ej;});dn.EncodeTuple=d$.Curried3(function(eh,ei,ej){return P.map2(function(ek,el){return(ek(null))(el);},eh,ej);});dn.DecodeUnion=function(eh,ei,ej){return function(){return function(ek){var el,em,ep,eq,er;function en(es,et){return es===em;}function eo(es,et,eu,ev){var ew;if(es===null){ew=(eu(null))(ek);et?delete ew[ei]:void 0;ep.$0=ew;}else if(ev===0)ep[es]=(eu(null))(ek[et]);else if(ev===1)ep[es]=ek.hasOwnProperty(et)?{$:1,$0:(eu(null))(ek[et])}:null;else n.FailWith("Invalid field option kind");}if(typeof ek==="object"&&ek!=null){ep=eh===void 0?{}:new eh();if(E.Equals(typeof ei,"string"))el=(em=ek[ei],P.findIndex(function(es){return en(es[0],es[1]);},ej));else{eq=[void 0];for(var es in ei)if(function(et){return ek.hasOwnProperty(et)&&(eq[0]=ei[et],true);}(es))break;el=eq[0];}ep.$=el;P.iter(function(et){return eo(et[0],et[1],et[2],et[3]);},(P.get(ej,el))[1]);return ep;}else return ek;};};};dn.EncodeUnion=function(eh,ei,ej){return function(){return function(ek){var el,em;function en(eo,ep,eq,er){var es,et,eu;if(eo===null){es=(eq(null))(ek.$0);for(var ev in es)if(function(ew){el[ew]=es[ew];return false;}(ev))break;}else if(er===0)el[ep]=(eq(null))(ek[eo]);else if(er===1){eu=ek[eo];eu==null?void 0:el[ep]=(eq(null))(eu.$0);}else n.FailWith("Invalid field option kind");}return typeof ek==="object"&&ek!=null?(el={},(em=P.get(ej,ek.$),(E.Equals(typeof ei,"string")?el[ei]=em[0]:void 0,P.iter(function(eo){return en(eo[0],eo[1],eo[2],eo[3]);},em[1]),el))):ek;};};};dn.DecodeRecord=function(eh,ei){return function(){return function(ej){var ek;function el(em,en,eo){if(eo===0){if(ej.hasOwnProperty(em))ek[em]=(en(null))(ej[em]);else n.FailWith("Missing mandatory field: "+em);}else if(eo===1)ek[em]=ej.hasOwnProperty(em)?{$:1,$0:(en(null))(ej[em])}:null;else if(eo===2){if(ej.hasOwnProperty(em))ek[em]=(en(null))(ej[em]);}else if(eo===3){if(ej[em]===void 0)ek[em]=(en(null))(ej[em]);}else n.FailWith("Invalid field option kind");}ek=eh===void 0?{}:new eh();P.iter(function(em){return el(em[0],em[1],em[2]);},ei);return ek;};};};dn.DecodeDateTime=d$.Curried3(function(eh,ei,ej){return ej.hasOwnProperty("d")?(new ee(ej.d)).getTime():(new ee(ej)).getTime();});dn.EncodeRecord=function(eh,ei){return function(){return function(ej){var ek;function el(em,en,eo){var ep;if(eo===0)ek[em]=(en(null))(ej[em]);else if(eo===1){ep=ej[em];ep==null?void 0:ek[em]=(en(null))(ep.$0);}else if(eo===2){if(ej.hasOwnProperty(em))ek[em]=(en(null))(ej[em]);}else if(eo===3){if(ej[em]===void 0)ek[em]=(en(null))(ej[em]);}else n.FailWith("Invalid field option kind");}ek={};P.iter(function(em){return el(em[0],em[1],em[2]);},ei);return ek;};};};dn.EncodeDateTime=d$.Curried3(function(eh,ei,ej){return(new ee(ej)).toISOString();});_do=F.Measures=d$.Class({toString:function(){return this.$==1?((((d$.Curried(function(eh,ei,ej,ek){return eh(a.String(ei)+"-"+a.String(ej)+"-"+a.String(ek));},4))(a.id))(n.toInt(this.$0)))(n.toInt(this.$1)))(n.toInt(this.$2)):a.String(n.toInt(this.$1?this.$0:-this.$0));}},null,_do);dq=dp.Hoverable=d$.Class({Content:function(eh){return eh.on("mouseenter",function(){return c_.AddClass(eh.elt,"hovering");}).on("mouseleave",function(){return c_.RemoveClass(eh.elt,"hovering");});}},null,dq);dq.New$1=function(){return dq.New(h.Create$1(false));};dq.New=function(eh){return new dq({hover:eh});};dr.InMemory=function(eh){return new dN.New(eh);};du.addResizeObserver=function(eh,ei){var ej,ek,el,em;try{ej=!(!a.ResizeObserver);}catch(en){ej=false;}if(ej){ek=new a.ResizeObserver(eh);du.set_observers(new cc({$:1,$0:ek,$1:du.observers()}));ek.observe(ei);}else{el=du.dimsChanged(ei);cy.Start((em=null,cy.Delay(function(){return cy.While(function(){return ei.isConnected;},cy.Delay(function(){return cy.Bind(cy.Sleep(110),function(){return el()?(eh(),cy.Zero()):cy.Zero();});}));})),null);}};du.set_observers=function(eh){bK.$cctor();bK.observers=eh;};du.observers=function(){bK.$cctor();return bK.observers;};du.dimsChanged=function(eh){var ei;ei=[eh.getBoundingClientRect()];return function(){var ej;ej=eh.getBoundingClientRect();return E.Equals(du.domRect2Tuple(ei[0]),du.domRect2Tuple(ej))?false:(ei[0]=ej,true);};};du.domRect2Tuple=function(eh){return[eh.top,eh.left,eh.width,eh.height];};dv.$cctor=function(){dv.$cctor=a.ignore;dv.LoadedTemplates=new bS.New$5();dv.LocalTemplatesLoaded=false;dv.TextHoleRE="\\${([^}]+)}";};dw=g.Elt=d$.Class({on:function(eh,ei){var ej;ej=this;this.elt.addEventListener(eh,function(ek){return ei(ej.elt,ek);},false);return this;}},V,dw);dw.TreeNode=function(eh,ei){var ej,ek;function el(em){return em[1];}ej=dP.Create(ei);return new dw.New$1({$:6,$0:eh},o.Map2Unit((ek=P.map(function(em){return c9.Updates(el(em));},eh.Attrs),cw.TreeReduce(o.Const(),o.Map2Unit,ek)),ej.v),P.get(eh.Els,0),ej);};dw.New=function(eh,ei,ej){var ek,el;ek=c4.CreateElemNode(eh,ei,ej.docNode);el=dP.Create(ej.updates);return new dw.New$1({$:1,$0:ek},o.Map2Unit(c9.Updates(ek.Attr),el.v),eh,el);};dw.New$1=d$.Ctor(function(eh,ei,ej,ek){V.New.call(this,eh,ei);this.docNode$1=eh;this.updates$1=ei;this.elt=ej;this.rvUpdates=ek;},dw);dy.New=function(eh,ei,ej,ek){var el;el={DynElem:eh,DynFlags:ei,DynNodes:ej};d$.SetOptional(el,"OnAfterRender",ek);return el;};dz.convertTextNode=function(eh){var ei,ej,ek,el,em,en;ei=null;ej=0;el=eh.textContent;em=new a.RegExp(cT.TextHoleRE(),"g");while(ei=em.exec(el),ei!==null){eh.parentNode.insertBefore(self.document.createTextNode(b0.string(el,{$:1,$0:ej},{$:1,$0:em.lastIndex-P.get(ei,0).length-1})),eh);ej=em.lastIndex;en=self.document.createElement("span");en.setAttribute("ws-replace",P.get(ei,1).toLowerCase());eh.parentNode.insertBefore(en,eh);}em.lastIndex=0;eh.textContent=b0.string(el,{$:1,$0:ej},null);};dz.failNotLoaded=function(eh){ec.warn("Instantiating non-loaded template",eh);};dz.fillTextHole=function(eh,ei,ej){var ek;ek=eh.querySelector("[ws-replace]");return E.Equals(ek,null)?(ec.warn("Filling non-existent text hole",ej),null):(ek.parentNode.replaceChild(new a.Text(ei),ek),{$:1,$0:ek.getAttribute("ws-replace")});};dz.removeHolesExcept=function(eh,ei){function ej(ek){c_.IterSelector(eh,"["+ek+"]",function(el){if(!ei.Contains(el.getAttribute(ek)))el.removeAttribute(ek);});}ej("ws-attr");ej("ws-onafterrender");ej("ws-var");c_.IterSelector(eh,"[ws-hole]",function(ek){if(!ei.Contains(ek.getAttribute("ws-hole"))){ek.removeAttribute("ws-hole");while(ek.hasChildNodes())ek.removeChild(ek.lastChild);}});c_.IterSelector(eh,"[ws-replace]",function(ek){if(!ei.Contains(ek.getAttribute("ws-replace")))ek.parentNode.removeChild(ek);});c_.IterSelector(eh,"[ws-on]",function(ek){ek.setAttribute("ws-on",bh.concat(" ",P.filter(function(el){return ei.Contains(P.get(bh.SplitChars(el,[":"],1),1));},bh.SplitChars(ek.getAttribute("ws-on"),[" "],1))));});c_.IterSelector(eh,"[ws-attr-holes]",function(ek){var el,em,en,eo,ep;el=bh.SplitChars(ek.getAttribute("ws-attr-holes"),[" "],1);for(em=0,en=el.length-1;em<=en;em++){eo=P.get(el,em);ek.setAttribute(eo,(ep=new a.RegExp(cT.TextHoleRE(),"g"),ek.getAttribute(eo).replace(ep,function(eq,er){return ei.Contains(er)?eq:"";})));}});};dz.fillInstanceAttrs=function(eh,ei){var ej,ek,el,em,en;dz.convertAttrs(ei);ej=ei.nodeName.toLowerCase();ek=eh.querySelector("[ws-attr="+ej+"]");if(E.Equals(ek,null))ec.warn("Filling non-existent attr hole",ej);else{ek.removeAttribute("ws-attr");for(el=0,em=ei.attributes.length-1;el<=em;el++){en=ei.attributes.item(el);en.name==="class"&&ek.hasAttribute("class")?ek.setAttribute("class",ek.getAttribute("class")+" "+en.nodeValue):ek.setAttribute(en.name,en.nodeValue);}}};dz.mapHoles=function(eh,ei){function ej(ek){c_.IterSelector(eh,"["+ek+"]",function(el){var em,en;em=(en=null,[ei.TryGetValue(el.getAttribute(ek).toLowerCase(),{get:function(){return en;},set:function(eo){en=eo;}}),en]);em[0]?el.setAttribute(ek,em[1]):void 0;});}ej("ws-hole");ej("ws-replace");ej("ws-attr");ej("ws-onafterrender");ej("ws-var");c_.IterSelector(eh,"[ws-on]",function(ek){ek.setAttribute("ws-on",bh.concat(" ",P.map(function(el){var em,en,eo;em=bh.SplitChars(el,[":"],1);en=(eo=null,[ei.TryGetValue(P.get(em,1),{get:function(){return eo;},set:function(ep){eo=ep;}}),eo]);return en[0]?P.get(em,0)+":"+en[1]:el;},bh.SplitChars(ek.getAttribute("ws-on"),[" "],1))));});c_.IterSelector(eh,"[ws-attr-holes]",function(ek){var el,em,en;el=bh.SplitChars(ek.getAttribute("ws-attr-holes"),[" "],1);for(em=0,en=el.length-1;em<=en;em++)(function(){var eo;function ep(eq,er){var es;es=n.KeyValue(er);return eq.replace(new a.RegExp("\\${"+es[0]+"}","ig"),"${"+es[1]+"}");}eo=P.get(el,em);return ek.setAttribute(eo,(((d$.Curried3(ba.fold))(ep))(ek.getAttribute(eo)))(ei));}());});};dz.fill=function(eh,ei,ej){while(true)if(eh.hasChildNodes())ej=ei.insertBefore(eh.lastChild,ej);else return null;};dz.convertAttrs=function(eh){var ej,ek,el,em,en,eo,ep,eq;function ei(er){var es;es=eh.getAttribute(er);es===null?void 0:eh.setAttribute(er,es.toLowerCase());}ej=eh.attributes;ek=[];el=[];em=[];for(en=0,eo=ej.length-1;en<=eo;en++){ep=ej.item(en);bh.StartsWith(ep.nodeName,"ws-on")&&ep.nodeName!=="ws-onafterrender"&&ep.nodeName!=="ws-on"?(ek.push(ep.nodeName),el.push(b0.string(ep.nodeName,{$:1,$0:"ws-on".length},null)+":"+ep.nodeValue.toLowerCase())):!bh.StartsWith(ep.nodeName,"ws-")&&(new a.RegExp(cT.TextHoleRE())).test(ep.nodeValue)?(ep.nodeValue=(eq=new a.RegExp(cT.TextHoleRE(),"g"),ep.nodeValue.replace(eq,function(er,es){return"${"+es.toLowerCase()+"}";})),em.push(ep.nodeName)):void 0;}!(el.length==0)?eh.setAttribute("ws-on",bh.concat(" ",el)):void 0;!(em.length==0)?eh.setAttribute("ws-attr-holes",bh.concat(" ",em)):void 0;ei("ws-hole");ei("ws-replace");ei("ws-attr");ei("ws-onafterrender");ei("ws-var");P.iter(function(er){eh.removeAttribute(er);},ek);};dA.get_UseAnimations=function(){return dT.UseAnimations();};dA.Play=function(eh){var ei;ei=null;return cy.Delay(function(){return cy.Bind(dA.Run(a.ignore,dT.Actions(eh)),function(){dT.Finalize(eh);return cy.Return(null);});});};dA.Append=function(eh,ei){return{$:0,$0:d3.Append(eh.$0,ei.$0)};};dA.Run=function(eh,ei){var ej;function ek(el){function em(en,eo){var ep;ep=eo-en;ei.Compute(ep);eh();return ep<=ej?void a.requestAnimationFrame(function(eq){em(en,eq);}):el();}a.requestAnimationFrame(function(en){em(en,en);});}ej=ei.Duration;return ej===0?cy.Zero():cy.FromContinuations(function(el,em,en){return ek.apply(null,[el,em,en]);});};dA.Concat=function(eh){return{$:0,$0:d3.Concat(ba.map(dT.List,eh))};};dA.get_Empty=function(){return{$:0,$0:d3.Empty()};};dB.BatchUpdatesEnabled=function(){dU.$cctor();return dU.BatchUpdatesEnabled;};dC.StartProcessor=function(eh){var ei;function ej(){var ek;ek=null;return cy.Delay(function(){return cy.Bind(eh,function(){var el;el=ei[0];return el===1?(ei[0]=0,cy.Zero()):el===2?(ei[0]=1,ej()):cy.Zero();});});}ei=[0];return function(){var ek;ek=ei[0];ek===0?(ei[0]=1,cy.Start(ej(),null)):ek===1?ei[0]=2:void 0;};};dD.concat=function(eh){var ei,ej;ei=[];for(var ek in eh)ei.push.apply(ei,eh[ek]);return ei;};bb["String.get_toUnderscore$1"]=function(eh,ei){return P.ofSeq(ba.collect(a.id,ba.mapi(function(ej,ek){return ej>0&&dV.IsUpper(ek)?bA.ofArray(["_",ek]):bA.ofArray([ek]);},eh))).join("");};dE.$cctor=function(){dE.$cctor=a.ignore;function eh(ei){var ej,ek;ej=(ek=0,[bP.TryParseInt32(ei,{get:function(){return ek;},set:function(el){ek=el;}}),ek]);return ej[0]?{$:1,$0:ej[1]}:null;}dE.Empty=de.New$1(function(){return[];},function(){return null;});dE.rRoot=de.New(function(ei){return[ei];},[]);dE.rString=de.New$1(function(ei){var ej,ek;ej=ei.Segments;return ej.$==1?(ek=dW.read(ej.$0),ek!=null&&ek.$==1?[[cY.New(ej.$1,ei.QueryArgs,ei.FormData,ei.Method,ei.Body),ek.$0]]:[]):[];},function(ei){return{$:1,$0:[cY.Segment$2(ei==null?"null":dW.write(ei))]};});dE.rChar=de.New$1(function(ei){var ej,ek,el;ej=ei.Segments;return ej.$==1?(ek=dW.read(ej.$0),ek!=null&&ek.$==1&&(ek.$0.length===1&&(el=ek.$0,true))?[[cY.New(ej.$1,ei.QueryArgs,ei.FormData,ei.Method,ei.Body),dV.Parse(el)]]:[]):[];},function(ei){return{$:1,$0:[cY.Segment$2(ei)]};});dE.rGuid=de.New$1(function(ei){var ej,ek;ej=ei.Segments;return ej.$==1?(ek=null,bt.TryParse(ej.$0,{get:function(){return ek;},set:function(el){ek=el;}})?[[cY.New(ej.$1,ei.QueryArgs,ei.FormData,ei.Method,ei.Body),ek]]:[]):[];},function(ei){return{$:1,$0:[cY.Segment$2(a.String(ei))]};});dE.rInt=de.New$1(function(ei){var ej,ek;ej=ei.Segments;return ej.$==1?(ek=0,bP.TryParseInt32(ej.$0,{get:function(){return ek;},set:function(el){ek=el;}})?[[cY.New(ej.$1,ei.QueryArgs,ei.FormData,ei.Method,ei.Body),ek]]:[]):[];},function(ei){return{$:1,$0:[cY.Segment$2(a.String(ei))]};});dE.rDouble=de.New$1(function(ei){var ej,ek,el;ej=ei.Segments;return ej.$==1?(ek=0,(el=a.Number(ej.$0),a.isNaN(el)?false:(ek=el,true))?[[cY.New(ej.$1,ei.QueryArgs,ei.FormData,ei.Method,ei.Body),ek]]:[]):[];},function(ei){return{$:1,$0:[cY.Segment$2(a.String(ei))]};});dE.rSByte=de.New$1(function(ei){var ej,ek;ej=ei.Segments;return ej.$==1?(ek=0,bP.TryParseSByte(ej.$0,{get:function(){return ek;},set:function(el){ek=el;}})?[[cY.New(ej.$1,ei.QueryArgs,ei.FormData,ei.Method,ei.Body),ek]]:[]):[];},function(ei){return{$:1,$0:[cY.Segment$2(a.String(ei))]};});dE.rByte=de.New$1(function(ei){var ej,ek;ej=ei.Segments;return ej.$==1?(ek=0,bP.TryParseByte(ej.$0,{get:function(){return ek;},set:function(el){ek=el;}})?[[cY.New(ej.$1,ei.QueryArgs,ei.FormData,ei.Method,ei.Body),ek]]:[]):[];},function(ei){return{$:1,$0:[cY.Segment$2(a.String(ei))]};});dE.rInt16=de.New$1(function(ei){var ej,ek;ej=ei.Segments;return ej.$==1?(ek=0,bP.TryParseInt16(ej.$0,{get:function(){return ek;},set:function(el){ek=el;}})?[[cY.New(ej.$1,ei.QueryArgs,ei.FormData,ei.Method,ei.Body),ek]]:[]):[];},function(ei){return{$:1,$0:[cY.Segment$2(a.String(ei))]};});dE.rUInt16=de.New$1(function(ei){var ej,ek;ej=ei.Segments;return ej.$==1?(ek=0,bP.TryParseUInt16(ej.$0,{get:function(){return ek;},set:function(el){ek=el;}})?[[cY.New(ej.$1,ei.QueryArgs,ei.FormData,ei.Method,ei.Body),ek]]:[]):[];},function(ei){return{$:1,$0:[cY.Segment$2(a.String(ei))]};});dE.rUInt=de.New$1(function(ei){var ej,ek;ej=ei.Segments;return ej.$==1?(ek=0,bP.TryParseUInt32(ej.$0,{get:function(){return ek;},set:function(el){ek=el;}})?[[cY.New(ej.$1,ei.QueryArgs,ei.FormData,ei.Method,ei.Body),ek]]:[]):[];},function(ei){return{$:1,$0:[cY.Segment$2(a.String(ei))]};});dE.rInt64=de.New$1(function(ei){var ej,ek;ej=ei.Segments;return ej.$==1?(ek=0,bP.TryParseInt64(ej.$0,{get:function(){return ek;},set:function(el){ek=el;}})?[[cY.New(ej.$1,ei.QueryArgs,ei.FormData,ei.Method,ei.Body),ek]]:[]):[];},function(ei){return{$:1,$0:[cY.Segment$2(a.String(ei))]};});dE.rUInt64=de.New$1(function(ei){var ej,ek;ej=ei.Segments;return ej.$==1?(ek=0,bP.TryParseUInt64(ej.$0,{get:function(){return ek;},set:function(el){ek=el;}})?[[cY.New(ej.$1,ei.QueryArgs,ei.FormData,ei.Method,ei.Body),ek]]:[]):[];},function(ei){return{$:1,$0:[cY.Segment$2(a.String(ei))]};});dE.rSingle=de.New$1(function(ei){var ej,ek,el;ej=ei.Segments;return ej.$==1?(ek=0,(el=a.Number(ej.$0),a.isNaN(el)?false:(ek=el,true))?[[cY.New(ej.$1,ei.QueryArgs,ei.FormData,ei.Method,ei.Body),ek]]:[]):[];},function(ei){return{$:1,$0:[cY.Segment$2(a.String(ei))]};});dE.rBool=de.New$1(function(ei){var ej,ek,el;ej=ei.Segments;return ej.$==1?(ek=(el=null,[bP.TryParseBool(ej.$0,{get:function(){return el;},set:function(em){el=em;}}),el]),ek[0]?[[cY.New(ej.$1,ei.QueryArgs,ei.FormData,ei.Method,ei.Body),ek[1]]]:[]):[];},function(ei){return{$:1,$0:[cY.Segment$2(ei?"True":"False")]};});dE.rWildcard=de.New$1(function(ei){return[[cY.New(cc.Empty,ei.QueryArgs,ei.FormData,ei.Method,ei.Body),bh.concat("/",ei.Segments)]];},function(ei){return{$:1,$0:[cY.Segment$2(ei)]};});dE.rDateTime=de.New$1(function(ei){var ej,ek,el,em,en,eo,ep,eq,er;ej=ei.Segments;return ej.$==1?(ek=ej.$0,ek.length===19&&ek[4]==="-"&&ek[7]==="-"&&ek[10]==="-"&&ek[13]==="."&&ek[16]==="."?(el=eh(b0.string(ek,{$:1,$0:0},{$:1,$0:3})),(em=eh(b0.string(ek,{$:1,$0:5},{$:1,$0:6})),(en=eh(b0.string(ek,{$:1,$0:8},{$:1,$0:9})),(eo=eh(b0.string(ek,{$:1,$0:11},{$:1,$0:12})),(ep=eh(b0.string(ek,{$:1,$0:14},{$:1,$0:15})),(eq=eh(b0.string(ek,{$:1,$0:17},{$:1,$0:18})),el!=null&&el.$==1&&(em!=null&&em.$==1&&(en!=null&&en.$==1&&(eo!=null&&eo.$==1&&(ep!=null&&ep.$==1&&(eq!=null&&eq.$==1&&(er=[en.$0,eo.$0,em.$0,ep.$0,eq.$0,el.$0],true))))))?[[cY.New(ej.$1,ei.QueryArgs,ei.FormData,ei.Method,ei.Body),(new ee(er[5],er[2]-1,er[0],er[1],er[3],er[4])).getTime()]]:[])))))):[]):[];},function(ei){var ej,ek;function el(em){var en;en=a.String(em);return en.length===1?"0"+en:en;}return{$:1,$0:[cY.Segment$2((ej=a.String((new ee(ei)).getFullYear()),(ek=ej.length,ek===1?"000"+ej:ek===2?"00"+ej:ek===3?"0"+ej:ej))+"-"+el((new ee(ei)).getMonth()+1)+"-"+el((new ee(ei)).getDate())+"-"+el((new ee(ei)).getHours())+"."+el((new ee(ei)).getMinutes())+"."+el((new ee(ei)).getSeconds()))]};});};dF.OfArray=function(eh){return new b_.New$1(cb.OfSeq(ba.map(function(ei){return di.New(ei[0],ei[1]);},eh)));};dF.FoldBack=function(eh,ei,ej){return ba.fold(function(ek,el){return eh(el.Key,el.Value,ek);},ej,cb.Enumerate(true,ei.get_Tree()));};dF.ToSeq=function(eh){return ba.map(function(ei){return[ei.Key,ei.Value];},cb.Enumerate(false,eh.get_Tree()));};dH=e.OperationCanceledException=d$.Class({},dG,dH);dH.New=d$.Ctor(function(eh){dH.New$1.call(this,"The operation was canceled.",null,eh);},dH);dH.New$1=d$.Ctor(function(eh,ei,ej){this.message=eh;this.inner=ei;cu.setPrototypeOf(this,dH.prototype);this.ct=ej;},dH);dI=e.Task=d$.Class({get_IsCompleted:function(){return this.status===5||this.status===7||this.status===6;},RunContinuations:function(){var eh,ei,ej;eh=this.continuations;for(ei=0,ej=eh.length-1;ei<=ej;ei++)P.get(eh,ei).StartContinuation();},StartContinuation:function(){var eh;eh=this;this.status===1?(this.status=2,cy.scheduler().Fork(function(){if(eh.status===2){eh.status=3;try{eh.Execute();eh.status=5;}catch(ei){eh.exc=new dK.New$3([ei]);eh.status=7;}eh.RunContinuations();}})):void 0;},Execute:function(){this.action();}},f,dI);dI.New$4=d$.Ctor(function(eh,ei,ej,ek){f.New.call(this);this.action=eh;this.token=ei;this.status=ej;this.continuations=[];this.exc=ek;},dI);dJ=e.Task1=d$.Class({Execute:function(){this.result=this.func();}},dI,dJ);dJ.New$4=d$.Ctor(function(eh,ei,ej,ek,el){dI.New$4.call(this,null,ei,ej,ek);this.func=eh;this.result=el;},dJ);dK=e.AggregateException=d$.Class({},dG,dK);dK.New$3=d$.Ctor(function(eh){dK.New$4.call(this,"One or more errors occurred.",eh);},dK);dK.New$4=d$.Ctor(function(eh,ei){this.message=eh;cu.setPrototypeOf(this,dK.prototype);this.innerExceptions=ei;},dK);dL.Clear=function(eh){eh.splice(0,P.length(eh));};dM=g.DynamicAttrNode=d$.Class({NChanged:function(){return this.updates;},NGetExitAnim:function(eh){return dA.get_Empty();},NGetEnterAnim:function(eh){return dA.get_Empty();},NGetChangeAnim:function(eh){return dA.get_Empty();},NSync:function(eh){if(this.dirty){(this.push(eh))(this.value);this.dirty=false;}}},f,dM);dM.New=d$.Ctor(function(eh,ei){var ej;ej=this;f.New.call(this);this.push=ei;this.value=void 0;this.dirty=false;this.updates=o.Map(function(ek){ej.value=ek;ej.dirty=true;},eh);},dM);dN=dr.ArrayStorage=d$.Class({SSetAt:function(eh,ei,ej){P.set(ej,eh,ei);return ej;},SAppend:function(eh,ei){ei.push(eh);return ei;}},f,dN);dN.New=d$.Ctor(function(eh){f.New.call(this);this.init=eh;},dN);ba.enumUsing=function(eh,ei){return{GetEnumerator:function(){var ej;try{ej=b$.Get(ei(eh));}catch(ek){eh.Dispose();throw ek;}return new ca.New(null,null,function(el){return ej.MoveNext()&&(el.c=ej.Current(),true);},function(){ej.Dispose();eh.Dispose();});}};};ba.enumWhile=function(eh,ei){return{GetEnumerator:function(){return new ca.New(null,null,function(ej){var ek;while(true){ek=ej.s;if(E.Equals(ek,null)){if(eh()){ej.s=b$.Get(ei);ej=ej;}else return false;}else if(ek.MoveNext()){ej.c=ek.Current();return true;}else{ek.Dispose();ej.s=null;ej=ej;}}},function(ej){var ek;ek=ej.s;!E.Equals(ek,null)?ek.Dispose():void 0;});}};};dO=be.KeyCollection=d$.Class({GetEnumerator$1:function(){return b$.Get(ba.map(function(eh){return eh.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},f,dO);dO.New=d$.Ctor(function(eh){f.New.call(this);this.d=eh;},dO);dP=g.Updates=d$.Class({},null,dP);dP.Create=function(eh){var ei;ei=null;ei=dP.New(eh,null,function(){var ej;ej=ei.s;return ej===null?(ej=_0.Copy(ei.c()),ei.s=ej,_0.WhenObsoleteRun(ej,function(){ei.s=null;}),ej):ej;});return ei;};dP.New=function(eh,ei,ej){return new dP({c:eh,s:ei,v:ej});};dR.New=function(eh,ei){return{PreviousNodes:eh,Top:ei};};dS.get_Empty=function(){return{$:0,$0:new bT.New$3()};};dS.FindAll=function(eh){var ei;function ej(el){if(el!=null&&el.$==0){ej(el.$0);ej(el.$1);}else if(el!=null&&el.$==1)ek(el.$0);else if(el!=null&&el.$==2)ej(el.$0.Current);else if(el!=null&&el.$==6)P.iter(ek,el.$0.Holes);}function ek(el){ei.push(el);ej(el.Children);}ei=[];ej(eh);return{$:0,$0:new bT.New$2(ei)};};dS.Filter=function(eh,ei){return{$:0,$0:d6.Filter(eh,ei.$0)};};dS.Except=function(eh,ei){return{$:0,$0:d6.Except(eh.$0,ei.$0)};};dS.ToArray=function(eh){return d6.ToArray(eh.$0);};dS.Intersect=function(eh,ei){return{$:0,$0:d6.Intersect(eh.$0,ei.$0)};};dT.UseAnimations=function(){d2.$cctor();return d2.UseAnimations;};dT.Actions=function(eh){return dT.ConcatActions(P.choose(function(ei){return ei.$==1?{$:1,$0:ei.$0}:null;},d3.ToArray(eh.$0)));};dT.Finalize=function(eh){P.iter(function(ei){if(ei.$==0)ei.$0();},d3.ToArray(eh.$0));};dT.ConcatActions=function(eh){var ei,ej,ek,el;ei=cw.ofSeqNonCopying(eh);ej=P.length(ei);return ej===0?dT.Const():ej===1?P.get(ei,0):(ek=ba.max(ba.map(function(em){return em.Duration;},ei)),(el=P.map(function(em){return dT.Prolong(ek,em);},ei),dT.Def(ek,function(em){P.iter(function(en){en.Compute(em);},el);})));};dT.List=function(eh){return eh.$0;};dT.Const=function(eh){return dT.Def(0,function(){return eh;});};dT.Def=function(eh,ei){return{Compute:ei,Duration:eh};};dT.Prolong=function(eh,ei){var ej,ek,el;ej=ei.Compute;ek=ei.Duration;el=q.Create(function(){return ei.Compute(ei.Duration);});return{Compute:function(em){return em>=ek?el.f():ej(em);},Duration:eh};};dU.$cctor=function(){dU.$cctor=a.ignore;dU.BatchUpdatesEnabled=true;};dV.IsUpper=function(eh){return eh>="A"&&eh<="Z";};dV.Parse=function(eh){return eh.length===1?eh:n.FailWith("String must be exactly one character long.");};dV.IsWhiteSpace=function(eh){return eh.match(new a.RegExp("\\s"))!==null;};de.New=function(eh,ei){return{Parse:eh,Segment:ei};};dW.read=function(eh){var ei;ei=[];return function(ej){var ek;while(true){ek=dW.readEscapedFromChars(ej);if(ek[0]===-2)return null;else if(ek[0]===-1)return{$:1,$0:(function(el){return function(em){return bh.concat(el,em);};}(""))(ei)};else{ei.push(eg.fromCharCode(ek[0]));ej=ek[1];}}}(bA.ofSeq(ba.map(function(ej){return ej.charCodeAt();},eh)));};dW.write=function(eh){return bh.concat("",ba.mapi(function(ei,ej){return dW.writeEscapedAsString(ei+1===eh.length,ej);},eh));};dW.readEscapedFromChars=function(eh){var ei,ej,ek,el,em,en,eo,ep;function eq(){var es,et;return ei.$==1?(es=ei.$1,(et=ei.$0,(ei=es,et))):-1;}function er(es){return es>="0".charCodeAt()&&es<="9".charCodeAt()?es-"0".charCodeAt():es>="a".charCodeAt()&&es<="f".charCodeAt()?es-"a".charCodeAt()+10:es>="A".charCodeAt()&&es<="F".charCodeAt()?es-"A".charCodeAt()+10:-2;}ei=eh;return[(ej=eq(),ej==="~".charCodeAt()?(ek=eq(),ek==="u".charCodeAt()?(el=eq(),(em=eq(),(en=eq(),(eo=eq(),el>=0&&em>=0&&en>=0&&eo>=0?dW.op_PlusPlus(dW.op_PlusPlus(dW.op_PlusPlus(er(el),er(em)),er(en)),er(eo)):-2)))):(ep=eq(),ek>=0&&ep>=0?dW.op_PlusPlus(er(ek),er(ep)):-2)):ej),ei];};dW.writeEscapedAsString=function(eh,ei){var ej;ej=ei.charCodeAt();return dW.isUnreserved(eh,ei)?ei:ej<256?"~"+bh.PadLeftWith(ej.toString(16),2,"0"):"~u"+bh.PadLeftWith(ej.toString(16),4,"0");};dW.op_PlusPlus=function(eh,ei){return(eh<<4)+ei;};dW.isUnreserved=function(eh,ei){return ei==="-"||(ei==="."?!eh:ei==="_"||(ei>="A"&&ei<="Z"||(ei>="a"&&ei<="z"||ei>="0"&&ei<="9")));};bP.TryParseSByte=function(eh,ei){return bP.TryParse(eh,-128,127,ei);};bP.TryParseByte=function(eh,ei){return bP.TryParse(eh,0,255,ei);};bP.TryParseInt16=function(eh,ei){return bP.TryParse(eh,-32768,32767,ei);};bP.TryParseUInt16=function(eh,ei){return bP.TryParse(eh,0,65535,ei);};bP.TryParseUInt32=function(eh,ei){return bP.TryParse(eh,0,4294967295,ei);};bP.TryParseUInt64=function(eh,ei){return bP.TryParse(eh,0,18446744073709551615,ei);};dX.AsAsync=function(eh){return cy.FromContinuations(function(ei,ej){eh.then(ei,function(ek){return ej(dX.unwrapExn(ek));});});};dX.unwrapExn=function(eh){return eh instanceof dG?eh:new d7.New(eh);};dY=e.FormatException=d$.Class({},dG,dY);dY.New$1=d$.Ctor(function(eh){this.message=eh;cu.setPrototypeOf(this,dY.prototype);},dY);dZ.$cctor=function(){dZ.$cctor=a.ignore;dZ.Doc=self.document;};d0.$cctor=function(){d0.$cctor=a.ignore;d0.EmptyAttr=null;};d1.isBlank=function(eh){return bh.forall(dV.IsWhiteSpace,eh);};d2.$cctor=function(){d2.$cctor=a.ignore;d2.CubicInOut=d5.Custom(function(eh){var ei;ei=eh*eh;return 3*ei-2*(ei*eh);});d2.UseAnimations=true;};d3.Append=function(eh,ei){return eh.$==0?ei:ei.$==0?eh:{$:2,$0:eh,$1:ei};};d3.ToArray=function(eh){var ei;function ej(ek){if(ek.$==1)ei.push(ek.$0);else if(ek.$==2){ej(ek.$0);ej(ek.$1);}else if(ek.$==3)P.iter(function(el){ei.push(el);},ek.$0);}ei=[];ej(eh);return ei.slice(0);};d3.Concat=function(eh){var ei;ei=cw.ofSeqNonCopying(eh);return cw.TreeReduce(d3.Empty(),d3.Append,ei);};d3.Empty=function(){d9.$cctor();return d9.Empty;};d4.WriteLink=function(eh,ei){var ej;ej=ei.get_IsEmpty()?"":"?"+d4.WriteQuery(ei);return"/"+d4.Concat(eh)+ej;};d4.Concat=function(eh){var ei,ej;ei=[];ej=true;bA.iter(function(ek){if(!bh.IsNullOrEmpty(ek)){ej?ej=false:ei.push("/");ei.push(ek);}},eh);return bh.Join("",P.ofSeq(ei));};d4.WriteQuery=function(eh){function ei(ej,ek){return ej+"="+ek;}return bh.concat("&",ba.map(function(ej){return ei(ej[0],ej[1]);},dF.ToSeq(eh)));};d5=g.Easing=d$.Class({},f,d5);d5.Custom=function(eh){return new d5.New(eh);};d5.New=d$.Ctor(function(eh){f.New.call(this);this.transformTime=eh;},d5);d6.Filter=function(eh,ei){return new bT.New$2(P.filter(eh,d6.ToArray(ei)));};d6.Except=function(eh,ei){var ej;ej=new bT.New$2(d6.ToArray(ei));ej.ExceptWith(d6.ToArray(eh));return ej;};d6.ToArray=function(eh){var ei;ei=P.create(eh.get_Count(),void 0);eh.CopyTo(ei);return ei;};d6.Intersect=function(eh,ei){var ej;ej=new bT.New$2(d6.ToArray(eh));ej.IntersectWith(d6.ToArray(ei));return ej;};d7=C.NonStandardPromiseRejectionException=d$.Class({},dG,d7);d7.New=d$.Ctor(function(eh){this.message="Promise rejected";cu.setPrototypeOf(this,d7.prototype);this.reason=eh;},d7);d8.Children=function(eh,ei){var ej,ek,el;if(ei!=null&&ei.$==1){el=[];ej=ei.$0[0].nextSibling;while(ej!==ei.$0[1]){el.push(ej);ej=ej.nextSibling;}return{$:0,$0:el};}else return{$:0,$0:P.init(eh.childNodes.length,(ek=eh.childNodes,function(em){return ek[em];}))};};d8.Except=function(eh,ei){var ej;ej=eh.$0;return{$:0,$0:P.filter(function(ek){return P.forall(function(el){return!(ek===el);},ej);},ei.$0)};};d8.Iter=function(eh,ei){P.iter(eh,ei.$0);};d8.DocChildren=function(eh){var ei;function ej(ek){if(ek!=null&&ek.$==2)ej(ek.$0.Current);else if(ek!=null&&ek.$==1)ei.push(ek.$0.El);else if(ek==null);else if(ek!=null&&ek.$==5)ei.push(ek.$0);else if(ek!=null&&ek.$==4)ei.push(ek.$0.Text);else if(ek!=null&&ek.$==6)P.iter(function(el){if(el==null||el.constructor===cu)ej(el);else ei.push(el);},ek.$0.Els);else{ej(ek.$0);ej(ek.$1);}}ei=[];ej(eh.Children);return{$:0,$0:cw.ofSeqNonCopying(ei)};};d9.$cctor=function(){d9.$cctor=a.ignore;d9.Empty={$:0};};d$.OnLoad(function(){d.mainProgram();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
//# sourceMappingURL=testing.min.map
