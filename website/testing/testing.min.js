function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2;a=self;b=a.FsRoot=a.FsRoot||{};c=b.LibraryJS=b.LibraryJS||{};d=c.Monaco=c.Monaco||{};e=d.Range=d.Range||{};f=d.Location=d.Location||{};g=d.MarkDownString=d.MarkDownString||{};h=d.MarkerData=d.MarkerData||{};i=d.CompletionItem=d.CompletionItem||{};j=d.Hover=d.Hover||{};k=a.WebSharper=a.WebSharper||{};l=k.Obj=k.Obj||{};m=d.Editor=d.Editor||{};n=d.MonacoConfig=d.MonacoConfig||{};o=b.TestingJS=b.TestingJS||{};p=o.Monaco=o.Monaco||{};q=p.HoverProvider=p.HoverProvider||{};r=p.CompletionItemProvider=p.CompletionItemProvider||{};s=p.DefinitionProvider=p.DefinitionProvider||{};t=k.UI=k.UI||{};u=t.Var=t.Var||{};v=t.View=t.View||{};w=k.Operators=k.Operators||{};x=k.Unchecked=k.Unchecked||{};y=a.StartupCode$testing$testing=a.StartupCode$testing$testing||{};z=a.EventTarget;A=c.ResizeObserver=c.ResizeObserver||{};B=c.GenEditor=c.GenEditor||{};C=t.Var$1=t.Var$1||{};D=k.JavaScript=k.JavaScript||{};E=D.Pervasives=D.Pervasives||{};F=k.Utils=k.Utils||{};G=k.Arrays=k.Arrays||{};H=k.Seq=k.Seq||{};I=B.Annotation=B.Annotation||{};J=B.Position=B.Position||{};K=B.AnnotationType=B.AnnotationType||{};L=c.MonacoGenAdapter=c.MonacoGenAdapter||{};M=t.HtmlModule=t.HtmlModule||{};N=M.attr=M.attr||{};O=a.Node;P=D.JS=D.JS||{};Q=B.GenEditor=B.GenEditor||{};R=t.Snap=t.Snap||{};S=b.Library=b.Library||{};T=S.String=S.String||{};U=k.Strings=k.Strings||{};V=k.Slice=k.Slice||{};W=k.List=k.List||{};X=W.T=W.T||{};Y=k.Concurrency=k.Concurrency||{};Z=t.AttrProxy=t.AttrProxy||{};_0=t.Doc=t.Doc||{};_1=t.ConcreteVar=t.ConcreteVar||{};_2=t.Abbrev=t.Abbrev||{};_3=_2.Fresh=_2.Fresh||{};_4=a.Object;_5=k.Enumerator=k.Enumerator||{};_6=_5.T=_5.T||{};_7=B.GenEditorHook=B.GenEditorHook||{};_8=t.Client=t.Client||{};_9=_8.Templates=_8.Templates||{};_=a.WindowOrWorkerGlobalScope;$=Y.AsyncBody=Y.AsyncBody||{};ba=_2.Async=_2.Async||{};bb=L.MonacoRT=L.MonacoRT||{};bc=t.Attrs=t.Attrs||{};bd=t.DomUtility=t.DomUtility||{};be=t.AttrModule=t.AttrModule||{};bf=t.Docs=t.Docs||{};bg=k.Collections=k.Collections||{};bh=bg.Dictionary=bg.Dictionary||{};bi=Y.CT=Y.CT||{};bj=Y.Scheduler=Y.Scheduler||{};bk=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};bl=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};bm=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};bn=bg.HashSet=bg.HashSet||{};bo=t.An=t.An||{};bp=_8.Settings=_8.Settings||{};bq=_2.Mailbox=_2.Mailbox||{};br=a.Error;bs=k.OperationCanceledException=k.OperationCanceledException||{};bt=t.Elt=t.Elt||{};bu=t.Array=t.Array||{};bv=k.CancellationTokenSource=k.CancellationTokenSource||{};bw=t.DocElemNode=t.DocElemNode||{};bx=a.CharacterData;by=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};bz=bg.DictionaryUtil=bg.DictionaryUtil||{};bA=_9.Prepare=_9.Prepare||{};bB=bg.KeyCollection=bg.KeyCollection||{};bC=_8.Docs=_8.Docs||{};bD=bC.RunState=bC.RunState||{};bE=bC.NodeSet=bC.NodeSet||{};bF=t.Anims=t.Anims||{};bG=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};bH=t.Updates=t.Updates||{};bI=_8.Attrs=_8.Attrs||{};bJ=bI.Dyn=bI.Dyn||{};bK=k.Queue=k.Queue||{};bL=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};bM=t.AppendList=t.AppendList||{};bN=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};bO=t.Easing=t.Easing||{};bP=_2.HashSet=_2.HashSet||{};bQ=bg.HashSetUtil=bg.HashSetUtil||{};bR=t.DynamicAttrNode=t.DynamicAttrNode||{};bS=bC.DomNodes=bC.DomNodes||{};bT=k.Lazy=k.Lazy||{};bU=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};bV=k.LazyExtensionsProxy=k.LazyExtensionsProxy||{};bW=bV.LazyRecord=bV.LazyRecord||{};bX=a.IntelliFactory;bY=bX&&bX.Runtime;bZ=a.Math;b0=a.console;b1=a.jQuery;b2=a.Date;d.newVar=function(b3){return n.New(b3,a.ignore,null,null,v.Const(false),null,null);};d.loader=function(){y.$cctor();return y.loader;};d.render=function(b3){var b4;return _0.Async((b4=null,Y.Delay(function(){return Y.Bind(d.loader(),function(){return Y.Return(_0.Element("div",[Z.OnAfterRenderImpl(function(b5){var b6,b7,b8;b6=(b7=b5.parentElement,self.monaco.editor.create(b7,b3.options,b3.overrides));A.addResizeObserver(function(){b6.layout();},b5.parentElement);b5.parentNode.removeChild(b5);b3.editorO={$:1,$0:b6};b8=b3.onRender;b8==null?void 0:b8.$0(b6);B.bindVarEditor(function(b9){b6.onDidChangeModelContent(b9);},function(){return b6.getValue();},function(b9){b6.setValue(b9);},b3.onChange,b3["var"]);})],[]));});})));};d.setVar=function(b3,b4){return n.New(b3,b4.onChange,b4.onRender,b4.editorO,b4.disabled,b4.options,b4.overrides);};d.onChange=function(b3,b4){return n.New(b4["var"],b3,b4.onRender,b4.editorO,b4.disabled,b4.options,b4.overrides);};d.onRender=function(b3,b4){return n.New(b4["var"],b4.onChange,{$:1,$0:b3},b4.editorO,b4.disabled,b4.options,b4.overrides);};d.disabled=function(b3,b4){return n.New(b4["var"],b4.onChange,b4.onRender,b4.editorO,b3,b4.options,b4.overrides);};d["var"]=function(b3){return b3["var"];};d.newText=function(b3){return d.newVar(C.Create$1(b3));};d.newVarO=function(b3){var b4;b4=d.newVar(C.Lens(b3,function(b5){return b5==null?"":b5.$0;},function(b5,b6){return b5==null?null:{$:1,$0:b6};}));return d.disabled(v.Map(function(b5){return b5==null;},b3.get_View()),b4);};e.New=function(b3,b4,b5,b6){return{startColumn:b3,endColumn:b4,startLineNumber:b5,endLineNumber:b6};};f.New=function(b3,b4){return{range:b3,uri:b4};};g.New=function(b3,b4){return{value:b3,isTrusted:b4};};h.New=function(b3,b4,b5,b6,b7,b8){return{startColumn:b3,endColumn:b4,startLineNumber:b5,endLineNumber:b6,severity:b7,message:b8};};i.New=function(b3,b4,b5){return{kind:b3,label:b4,detail:b5};};j.New=function(b3,b4){return{contents:b3,range:b4};};l=k.Obj=bY.Class({Equals:function(b3){return this===b3;},GetHashCode:function(){return -1;}},null,l);l.New=bY.Ctor(function(){},l);m=d.Editor=bY.Class({},l,m);m.New=bY.Ctor(function(){l.New.call(this);},m);n.New=function(b3,b4,b5,b6,b7,b8,b9){return{"var":b3,onChange:b4,onRender:b5,editorO:b6,disabled:b7,options:b8,overrides:b9};};p.annotationsV=function(){y.$cctor();return y.annotationsV;};p.transformAnnotations=function(b3){var b4,b5;function b6(b7,b8,b9,b_,b$,ca){return I.New(J.New(b8,b9),J.New(b_,b$),b7==="Err"?K.Error:b7==="Warn"?K.Warning:b7==="Hint"?K.Hint:{$:4,$0:b7},ca);}b4="(Err|Warn|Info|Hint) \\((\\d+)\\,\\s*(\\d+)\\) - \\((\\d+)\\,\\s*(\\d+)\\)\\: \"([^\"]+?)\"\\.";return H.map(function(b7){return b6(b7[0],b7[1],b7[2],b7[3],b7[4],b7[5]);},H.choose(function(b7){var b8,b9,b_;return(b9=c.REGEX$1(b4,"",b7),b9!=null&&b9.$==1&&((b_=b9.$0,!x.Equals(b_,null)&&b_.length===7)&&(b8=[G.get(b9.$0,3),G.get(b9.$0,2),G.get(b9.$0,6),G.get(b9.$0,5),G.get(b9.$0,4),G.get(b9.$0,1)],true)))?{$:1,$0:[b8[5],w.toInt(a.Number(b8[1])),w.toInt(a.Number(b8[0])),w.toInt(a.Number(b8[4])),w.toInt(a.Number(b8[3])),b8[2]]}:null;},(b5=c.REGEX$1(b4,"g",b3),b5!=null&&b5.$==1?b5.$0:[])));};p.monacoNew=function(b3){return B.onRender(function(b4){var b5;b5=b4.getModel();self.monaco.editor.setModelLanguage(b5,"fsharp");self.monaco.editor.setTheme("vs-dark");},L.newVar(function(){return{};},function(){return{};},b3));};p.main=function(){var b3,b4,b5,b6,b7;b3=C.Create$1("Hello there.\nHello there.\nHello there.\nHello there.\n");b4=(b5=p.monacoNew(b3),Q.New(b5["var"],b5.disabled,v.Map(p.transformAnnotations,p.annotationsV().get_View()),b5.onChange,b5.onRender,b5.autoCompletion,b5.toolTip,b5.declaration,b5.editorO,b5.editorHook));b6=_0.Element("div",[],[_0.Element("div",[Z.Create("style","height: 400px; width: 800px")],[B.generateDoc(b4)]),_0.Element("div",[],[_0.TextNode("These are the annotations that create tooltips, warnings and errors:")]),_0.InputArea([Z.Create("style","height: 100px; width: 600px")],C.Lens(p.annotationsV(),a.id,function(b8,b9){return b9;})),_0.Element("div",[],[_0.TextView(b3.get_View())])]);b7=self.document.body;_9.LoadLocalTemplates("");_0.Run(b7,b6);};q=p.HoverProvider=bY.Class({provideHover:function(b3,b4,b5){var b6,b7;b6=b3.getWordAtPosition(b4);return!b6?null:j.New([g.New((b7=b6.word,(function(b8){return function(b9){return b8("The word is: "+F.toSafe(b9));};}(a.id))(b7)),true)],e.New(b6.startColumn,b6.endColumn,b4.lineNumber,b4.lineNumber));}},l,q);q.New=bY.Ctor(function(b3){l.New.call(this);},q);r=p.CompletionItemProvider=bY.Class({provideCompletionItems:function(b3,b4,b5,b6){var b7;b7=b3.getWordAtPosition(b4);return!b7?null:[i.New(2,"Hello",""),i.New(2,"How",""),i.New(2,"Are",""),i.New(2,"You",""),i.New(2,b7.word,"")];},resolveCompletionItem:function(b3,b4){return i.New(b3.kind,b3.label,"more details");}},l,r);r.New=bY.Ctor(function(b3){l.New.call(this);},r);s=p.DefinitionProvider=bY.Class({provideDefinition:function(b3,b4,b5){var b6,b7;b6=b3.getWordAtPosition(b4);return!b6?null:(b7=b3.findMatches(b6.word,false,false,true," <>()+-=.,/#@$%^&*\"",false,1),G.length(b7)===0?null:f.New(G.get(b7,0).range,b3.uri));}},l,s);s.New=bY.Ctor(function(b3){l.New.call(this);},s);u=t.Var=bY.Class({},l,u);u.New=bY.Ctor(function(){l.New.call(this);},u);v=t.View=bY.Class({},null,v);w.toInt=function(b3){var b4;b4=w.toUInt(b3);return b4>=2147483648?b4-4294967296:b4;};w.toUInt=function(b3){return(b3<0?bZ.ceil(b3):bZ.floor(b3))>>>0;};w.FailWith=function(b3){throw new br(b3);};w.KeyValue=function(b3){return[b3.K,b3.V];};v.Const=function(b3){var b4;b4=R.New({$:0,$0:b3});return function(){return b4;};};v.Map=function(b3,b4){return v.CreateLazy(function(){return R.Map(b3,b4());});};v.Sink=function(b3,b4){function b5(){R.WhenRun(b4(),b3,function(){Y.scheduler().Fork(b5);});}Y.scheduler().Fork(b5);};v.CreateLazy=function(b3){var b4;b4={c:null,o:b3};return function(){var b5,b6;b5=b4.c;return b5===null?(b5=b4.o(),b4.c=b5,(b6=b5.s,b6!=null&&b6.$==0)?b4.o=null:R.WhenObsoleteRun(b5,function(){b4.c=null;}),b5):b5;};};v.MapAsync=function(b3,b4){return v.CreateLazy(function(){return R.MapAsync(b3,b4());});};v.Bind=function(b3,b4){return v.Join(v.Map(b3,b4));};v.Join=function(b3){return v.CreateLazy(function(){return R.Join(b3());});};v.Map2Unit=function(b3,b4){return v.CreateLazy(function(){return R.Map2Unit(b3(),b4());});};x.Equals=function(b3,b4){var b5,b6,b7,b8;if(b3===b4)return true;else{b5=typeof b3;if(b5=="object"){if(b3===null||b3===void 0||b4===null||b4===void 0)return false;else if("Equals"in b3)return b3.Equals(b4);else if(b3 instanceof a.Array&&b4 instanceof a.Array)return x.arrayEquals(b3,b4);else if(b3 instanceof a.Date&&b4 instanceof a.Date)return x.dateEquals(b3,b4);else{b6=[true];for(var b9 in b3)if(function(b_){b6[0]=!b3.hasOwnProperty(b_)||b4.hasOwnProperty(b_)&&x.Equals(b3[b_],b4[b_]);return!b6[0];}(b9))break;if(b6[0]){for(var b_ in b4)if(function(b$){b6[0]=!b4.hasOwnProperty(b$)||b3.hasOwnProperty(b$);return!b6[0];}(b_))break;}return b6[0];}}else return b5=="function"&&("$Func"in b3?b3.$Func===b4.$Func&&b3.$Target===b4.$Target:"$Invokes"in b3&&"$Invokes"in b4&&x.arrayEquals(b3.$Invokes,b4.$Invokes));}};x.arrayEquals=function(b3,b4){var b5,b6;if(G.length(b3)===G.length(b4)){b5=true;b6=0;while(b5&&b6<G.length(b3)){!x.Equals(G.get(b3,b6),G.get(b4,b6))?b5=false:void 0;b6=b6+1;}return b5;}else return false;};x.dateEquals=function(b3,b4){return b3.getTime()===b4.getTime();};x.Compare=function(b3,b4){var b5,b6,b7,b8,b9,b_;if(b3===b4)return 0;else{b6=typeof b3;switch(b6=="function"?1:b6=="boolean"?2:b6=="number"?2:b6=="string"?2:b6=="object"?3:0){case 0:return typeof b4=="undefined"?0:-1;case 1:return w.FailWith("Cannot compare function values.");case 2:return b3<b4?-1:1;case 3:if(b3===null)b7=-1;else if(b4===null)b7=1;else if("CompareTo"in b3)b7=b3.CompareTo(b4);else if("CompareTo0"in b3)b7=b3.CompareTo0(b4);else if(b3 instanceof a.Array&&b4 instanceof a.Array)b7=x.compareArrays(b3,b4);else if(b3 instanceof a.Date&&b4 instanceof a.Date)b7=x.compareDates(b3,b4);else{b8=[0];for(var b$ in b3)if(function(ca){return!b3.hasOwnProperty(ca)?false:!b4.hasOwnProperty(ca)?(b8[0]=1,true):(b8[0]=x.Compare(b3[ca],b4[ca]),b8[0]!==0);}(b$))break;if(b8[0]===0){for(var ca in b4)if(function(cb){return!b4.hasOwnProperty(cb)?false:!b3.hasOwnProperty(cb)&&(b8[0]=-1,true);}(ca))break;}b7=b8[0];}return b7;}}};x.compareArrays=function(b3,b4){var b5,b6;if(G.length(b3)<G.length(b4))return -1;else if(G.length(b3)>G.length(b4))return 1;else{b5=0;b6=0;while(b5===0&&b6<G.length(b3)){b5=x.Compare(G.get(b3,b6),G.get(b4,b6));b6=b6+1;}return b5;}};x.compareDates=function(b3,b4){return x.Compare(b3.getTime(),b4.getTime());};x.Hash=function(b3){var b4;b4=typeof b3;return b4=="function"?0:b4=="boolean"?b3?1:0:b4=="number"?b3:b4=="string"?x.hashString(b3):b4=="object"?b3==null?0:b3 instanceof a.Array?x.hashArray(b3):x.hashObject(b3):0;};x.hashString=function(b3){var b4,b5,b6;if(b3===null)return 0;else{b4=5381;for(b5=0,b6=b3.length-1;b5<=b6;b5++)b4=x.hashMix(b4,b3[b5].charCodeAt());return b4;}};x.hashArray=function(b3){var b4,b5,b6;b4=-34948909;for(b5=0,b6=G.length(b3)-1;b5<=b6;b5++)b4=x.hashMix(b4,x.Hash(G.get(b3,b5)));return b4;};x.hashObject=function(b3){var b4,b5;if("GetHashCode"in b3)return b3.GetHashCode();else{b4=[0];for(var b6 in b3)if(function(b7){b4[0]=x.hashMix(x.hashMix(b4[0],x.hashString(b7)),x.Hash(b3[b7]));return false;}(b6))break;return b4[0];}};x.hashMix=function(b3,b4){return(b3<<5)+b3+b4;};y.$cctor=function(){var b3,b4;y.$cctor=a.ignore;function b5(b9){return U.concat("\n",b9);}function b6(b9){return T.splitByChar("\n",b9);}function b7(b9){var b_,b$;return V.array(b9,{$:1,$0:0},{$:1,$0:(b_=0,(b$=G.length(b9)-2,x.Compare(b_,b$)===1?b_:b$))});}function b8(b9){return U.concat("\n",b9);}y.unindentStr=function(b9){return b5(T.unindent(b9));};y.skipLastLine=(b3=function(b9){return b7(b6(b9));},function(b9){return b8(b3(b9));});y.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";y.observers=X.Empty;y.loader=(b4=null,Y.Delay(function(){self.require.config({paths:{vs:"/EPFileX/monaco/package/min/vs"}});return Y.Bind(Y.FromContinuations(function(b9,b_){return self.require(["vs/editor/editor.main"],b9,b_);}),function(){return Y.Return(null);});}));y.annotationsV=C.Create$1("Err (1, 7) - (1, 12): \"This shows over there as an error\".\nWarn (2, 7) - (2, 12): \"This shows over there as a warning\".\nInfo (3, 7) - (3, 12): \"This shows over there as information\".\nHint (4, 7) - (4, 12): \"This shows over there as a hint\".");};A.addResizeObserver=function(b3,b4){var b5,b6,b7,b8;try{b5=!(!a.ResizeObserver);}catch(b9){b5=false;}if(b5){b6=new a.ResizeObserver(b3);A.set_observers(new X({$:1,$0:b6,$1:A.observers()}));b6.observe(b4);}else{b7=A.dimsChanged(b4);Y.Start((b8=null,Y.Delay(function(){return Y.While(function(){return b4.isConnected;},Y.Delay(function(){return Y.Bind(Y.Sleep(110),function(){return b7()?(b3(),Y.Zero()):Y.Zero();});}));})),null);}};A.set_observers=function(b3){y.$cctor();y.observers=b3;};A.observers=function(){y.$cctor();return y.observers;};A.dimsChanged=function(b3){var b4;b4=[b3.getBoundingClientRect()];return function(){var b5;b5=b3.getBoundingClientRect();return x.Equals(A.domRect2Tuple(b4[0]),A.domRect2Tuple(b5))?false:(b4[0]=b5,true);};};A.domRect2Tuple=function(b3){return[b3.top,b3.left,b3.width,b3.height];};B.bindVarEditor=function(b3,b4,b5,b6,b7){var b8,b9;b8=[0];b9=[0];b3(function(){var b_;b_=b4();!x.Equals(b7.Get(),b_)?(b8[0]=b8[0]+1,b7.Set(b_),b6(b_)):void 0;});v.Sink(function(){if(b8[0]>b9[0])b9[0]=b8[0];else if(!x.Equals(b4(),b7.Get()))b5(b7.Get());},b7.get_View());};B.onRender=function(b3,b4){return Q.New(b4["var"],b4.disabled,b4.annotations,b4.onChange,b3,b4.autoCompletion,b4.toolTip,b4.declaration,b4.editorO,b4.editorHook);};B.generateDoc=function(b3){b3.editorHook.hookOnRender(function(b4){b3.editorO={$:1,$0:b4};B.bindVarEditor(b3.editorHook.hookOnChange,b3.editorHook.getValue,b3.editorHook.setValue,b3.onChange,b3["var"]);v.Sink(b3.editorHook.showAnnotations,b3.annotations);v.Sink(b3.editorHook.setDisabled,b3.disabled);b3.onRender(b4);});return b3.editorHook.generateDoc();};B.newVar=function(b3,b4){return Q.New(b4,v.Const(false),v.Const([]),a.ignore,a.ignore,null,null,null,null,b3);};C=t.Var$1=bY.Class({},l,C);C.Create$1=function(b3){return new _1.New(false,R.New({$:2,$0:b3,$1:[]}),b3);};C.Lens=function(b3,b4,b5){var b6,b7,b8;b6=_3.Id();b7=v.Map(b4,b3.get_View());b8=new u({Get:function(){return b4(b3.Get());},Set:function(b9){return b3.Update(function(b_){return b5(b_,b9);});},SetFinal:function(b9){return this.Set(b9);},Update:function(b9){return b3.Update(function(b_){return b5(b_,b9(b4(b_)));});},UpdateMaybe:function(b9){return b3.UpdateMaybe(function(b_){var b$;b$=b9(b4(b_));return b$==null?null:{$:1,$0:b5(b_,b$.$0)};});},get_View:function(){return b7;},get_Id:function(){return b6;}});u.New.call(b8);return b8;};c.REGEX$1=function(b3,b4,b5){var b6;return b5===null?null:(b6=(new a.String(b5)).match(new a.RegExp(b3,b4)),x.Equals(b6,null)?null:!x.Equals(b6,null)&&b6.length===0?null:{$:1,$0:b6});};E.NewFromSeq=function(b3){var b4,b5,b6;b4={};b5=_5.Get(b3);try{while(b5.MoveNext()){b6=b5.Current();b4[b6[0]]=b6[1];}}finally{if(typeof b5=="object"&&"Dispose"in b5)b5.Dispose();}return b4;};F.toSafe=function(b3){return b3==null?"":b3;};G.ofSeq=function(b3){var b4,b5;if(b3 instanceof a.Array)return b3.slice();else if(b3 instanceof X)return G.ofList(b3);else{b4=[];b5=_5.Get(b3);try{while(b5.MoveNext())b4.push(b5.Current());return b4;}finally{if(typeof b5=="object"&&"Dispose"in b5)b5.Dispose();}}};G.ofList=function(b3){var b4,b5;b5=[];b4=b3;while(!(b4.$==0)){b5.push(W.head(b4));b4=W.tail(b4);}return b5;};G.exists=function(b3,b4){var b5,b6,b7,b8;b5=false;b6=0;b8=G.length(b4);while(!b5&&b6<b8)if(b3(b4[b6]))b5=true;else b6=b6+1;return b5;};G.tryPick=function(b3,b4){var b5,b6,b7;b5=null;b6=0;while(b6<b4.length&&b5==null){b7=b3(b4[b6]);b7!=null&&b7.$==1?b5=b7:void 0;b6=b6+1;}return b5;};G.tryFindIndex=function(b3,b4){var b5,b6;b5=null;b6=0;while(b6<b4.length&&b5==null){b3(b4[b6])?b5={$:1,$0:b6}:void 0;b6=b6+1;}return b5;};G.foldBack=function(b3,b4,b5){var b6,b7,b8,b9,b_;b6=b5;b8=b4.length;for(b9=1,b_=b8;b9<=b_;b9++)b6=b3(b4[b8-b9],b6);return b6;};G.filter=function(b3,b4){var b5,b6,b7;b5=[];for(b6=0,b7=b4.length-1;b6<=b7;b6++)if(b3(b4[b6]))b5.push(b4[b6]);return b5;};G.map=function(b3,b4){var b5,b6,b7;b5=new a.Array(b4.length);for(b6=0,b7=b4.length-1;b6<=b7;b6++)b5[b6]=b3(b4[b6]);return b5;};G.iter=function(b3,b4){var b5,b6;for(b5=0,b6=b4.length-1;b5<=b6;b5++)b3(b4[b5]);};G.pick=function(b3,b4){var b5;b5=G.tryPick(b3,b4);return b5==null?w.FailWith("KeyNotFoundException"):b5.$0;};G.choose=function(b3,b4){var b5,b6,b7,b8;b5=[];for(b6=0,b7=b4.length-1;b6<=b7;b6++){b8=b3(b4[b6]);b8==null?void 0:b5.push(b8.$0);}return b5;};G.concat=function(b3){return a.Array.prototype.concat.apply([],G.ofSeq(b3));};G.create=function(b3,b4){var b5,b6,b7;b5=new a.Array(b3);for(b6=0,b7=b3-1;b6<=b7;b6++)b5[b6]=b4;return b5;};G.init=function(b3,b4){var b5,b6,b7;b3<0?w.FailWith("Negative size given."):null;b5=new a.Array(b3);for(b6=0,b7=b3-1;b6<=b7;b6++)b5[b6]=b4(b6);return b5;};G.forall=function(b3,b4){var b5,b6,b7,b8;b5=true;b6=0;b8=G.length(b4);while(b5&&b6<b8)if(b3(b4[b6]))b6=b6+1;else b5=false;return b5;};G.get=function(b3,b4){G.checkBounds(b3,b4);return b3[b4];};G.length=function(b3){return b3.dims===2?b3.length*b3.length:b3.length;};G.checkBounds=function(b3,b4){if(b4<0||b4>=b3.length)w.FailWith("Index was outside the bounds of the array.");};G.set=function(b3,b4,b5){G.checkBounds(b3,b4);b3[b4]=b5;};H.choose=function(b3,b4){return H.collect(function(b5){var b6;b6=b3(b5);return b6==null?X.Empty:W.ofArray([b6.$0]);},b4);};H.map=function(b3,b4){return{GetEnumerator:function(){var b5;b5=_5.Get(b4);return new _6.New(null,null,function(b6){return b5.MoveNext()&&(b6.c=b3(b5.Current()),true);},function(){b5.Dispose();});}};};H.collect=function(b3,b4){return H.concat(H.map(b3,b4));};H.tryFind=function(b3,b4){var b5,b6,b7;b5=_5.Get(b4);try{b6=null;while(b6==null&&b5.MoveNext()){b7=b5.Current();b3(b7)?b6={$:1,$0:b7}:void 0;}return b6;}finally{if(typeof b5=="object"&&"Dispose"in b5)b5.Dispose();}};H.tryFindIndex=function(b3,b4){var b5,b6,b7;b5=_5.Get(b4);try{b6=true;b7=0;while(b6&&b5.MoveNext())if(b3(b5.Current()))b6=false;else b7=b7+1;return b6?null:{$:1,$0:b7};}finally{if(typeof b5=="object"&&"Dispose"in b5)b5.Dispose();}};H.filter=function(b3,b4){return{GetEnumerator:function(){var b5;b5=_5.Get(b4);return new _6.New(null,null,function(b6){var b7,b8,b9;b7=b5.MoveNext();b8=b5.Current();b9=false;while(b7)if(b3(b8)){b6.c=b8;b9=true;b7=false;}else if(b5.MoveNext())b8=b5.Current();else b7=false;return b9;},function(){b5.Dispose();});}};};H.concat=function(b3){return{GetEnumerator:function(){var b4;b4=_5.Get(b3);return new _6.New(null,null,function(b5){var b6;while(true){b6=b5.s;if(x.Equals(b6,null)){if(b4.MoveNext()){b5.s=_5.Get(b4.Current());b5=b5;}else{b4.Dispose();return false;}}else if(b6.MoveNext()){b5.c=b6.Current();return true;}else{b5.Dispose();b5.s=null;b5=b5;}}},function(b5){var b6;b6=b5.s;!x.Equals(b6,null)?b6.Dispose():void 0;!x.Equals(b4,null)?b4.Dispose():void 0;});}};};H.append=function(b3,b4){return{GetEnumerator:function(){var b5,b6;b5=_5.Get(b3);b6=[true];return new _6.New(b5,null,function(b7){var b8;return b7.s.MoveNext()?(b7.c=b7.s.Current(),true):(b8=b7.s,!x.Equals(b8,null)?b8.Dispose():void 0,b7.s=null,b6[0]&&(b6[0]=false,b7.s=_5.Get(b4),b7.s.MoveNext()?(b7.c=b7.s.Current(),true):(b7.s.Dispose(),b7.s=null,false)));},function(b7){var b8;b8=b7.s;!x.Equals(b8,null)?b8.Dispose():void 0;});}};};H.head=function(b3){var b4;b4=_5.Get(b3);try{return b4.MoveNext()?b4.Current():H.insufficient();}finally{if(typeof b4=="object"&&"Dispose"in b4)b4.Dispose();}};H.fold=function(b3,b4,b5){var b6,b7;b6=b4;b7=_5.Get(b5);try{while(b7.MoveNext())b6=b3(b6,b7.Current());return b6;}finally{if(typeof b7=="object"&&"Dispose"in b7)b7.Dispose();}};H.iter=function(b3,b4){var b5;b5=_5.Get(b4);try{while(b5.MoveNext())b3(b5.Current());}finally{if(typeof b5=="object"&&"Dispose"in b5)b5.Dispose();}};H.max=function(b3){var b4,b5,b6;b4=_5.Get(b3);try{if(!b4.MoveNext())H.seqEmpty();b5=b4.Current();while(b4.MoveNext()){b6=b4.Current();x.Compare(b6,b5)===1?b5=b6:void 0;}return b5;}finally{if(typeof b4=="object"&&"Dispose"in b4)b4.Dispose();}};H.seqEmpty=function(){return w.FailWith("The input sequence was empty.");};I.New=function(b3,b4,b5,b6){return{startP:b3,endP:b4,severity:b5,message:b6};};J.New=function(b3,b4){return{line:b3,col:b4};};K.Error={$:0};K.Warning={$:1};K.Hint={$:3};L.newVar=function(b3,b4,b5){return B.newVar(L.newHook(L.newRT(b3,b4)),b5);};L.newRT=function(b3,b4){return bb.New(null,a.ignore,a.ignore,b3,b4);};L.newHook=function(b3){return _7.New(function(){return L.generateDoc(b3);},function(){return L.getValue(b3);},function(b4){L.setValue(b3,b4);},a.ignore,function(b4){b3.onRender=b4;},function(b4){b3.onChange=function(){b4(L.getValue(b3));};},function(b4){L.showAnnotations(b3,b4);});};L.getValue=function(b3){var b4,b5;b4=(b5=b3.editorO,b5==null?null:{$:1,$0:b5.$0.getValue()});return b4==null?"":b4.$0;};L.showAnnotations=function(b3,b4){var b5,b6,b7;b5=b3.editorO;b5!=null&&b5.$==1?(b6=G.ofSeq(H.map(function(b8){var b9;return h.New(b8.startP.col,b8.endP.col,b8.startP.line,b8.endP.line,(b9=b8.severity,b9.$==0?8:b9.$==1?4:b9.$==3?1:2),b8.message);},b4)),b7=b5.$0.getModel(),self.monaco.editor.setModelMarkers(b7,"annotations",b6)):void 0;};L.setValue=function(b3,b4){var b5;b5=b3.editorO;b5==null?void 0:b5.$0.setValue(b4);};L.generateDoc=function(b3){var b4;return _0.Async((b4=null,Y.Delay(function(){return Y.Bind(d.loader(),function(){return Y.Return(_0.Element("div",[Z.OnAfterRenderImpl(function(b5){var b6,b7;b6=(b7=b5.parentElement,self.monaco.editor.create(b7,b3.options,b3.overrides));A.addResizeObserver(function(){b6.layout();},b5.parentElement);b5.parentNode.removeChild(b5);b3.editorO={$:1,$0:b6};b3.onRender(b6);b6.onDidChangeModelContent(b3.onChange);})],[]));});})));};N=M.attr=bY.Class({},l,N);P.GetFieldValues=function(b3){var b4,b5;b4=[];for(var b6 in b3)b4.push(b3[b6]);return b4;};Q.New=function(b3,b4,b5,b6,b7,b8,b9,b_,b$,ca){return{"var":b3,disabled:b4,annotations:b5,onChange:b6,onRender:b7,autoCompletion:b8,toolTip:b9,declaration:b_,editorO:b$,editorHook:ca};};R.Map=function(b3,b4){var b5,b6;b5=b4.s;return b5!=null&&b5.$==0?R.New({$:0,$0:b3(b5.$0)}):(b6=R.New({$:3,$0:[],$1:[]}),(R.When(b4,function(b7){R.MarkDone(b6,b4,b3(b7));},b6),b6));};R.WhenRun=function(b3,b4,b5){var b6;b6=b3.s;b6==null?b5():b6!=null&&b6.$==2?(b6.$1.push(b5),b4(b6.$0)):b6!=null&&b6.$==3?(b6.$0.push(b4),b6.$1.push(b5)):b4(b6.$0);};R.WhenObsoleteRun=function(b3,b4){var b5;b5=b3.s;b5==null?b4():b5!=null&&b5.$==2?b5.$1.push(b4):b5!=null&&b5.$==3?b5.$1.push(b4):void 0;};R.When=function(b3,b4,b5){var b6;b6=b3.s;b6==null?R.Obsolete(b5):b6!=null&&b6.$==2?(R.EnqueueSafe(b6.$1,b5),b4(b6.$0)):b6!=null&&b6.$==3?(b6.$0.push(b4),R.EnqueueSafe(b6.$1,b5)):b4(b6.$0);};R.MarkDone=function(b3,b4,b5){var b6;if(b6=b4.s,b6!=null&&b6.$==0)R.MarkForever(b3,b5);else R.MarkReady(b3,b5);};R.MapAsync=function(b3,b4){var b5;b5=R.New({$:3,$0:[],$1:[]});R.When(b4,function(b6){ba.StartTo(b3(b6),function(b7){R.MarkDone(b5,b4,b7);});},b5);return b5;};R.EnqueueSafe=function(b3,b4){var b5,b6,b7,b8;b3.push(b4);if(b3.length%20===0){b5=b3.slice(0);bK.Clear(b3);for(b6=0,b7=G.length(b5)-1;b6<=b7;b6++){b8=G.get(b5,b6);typeof b8=="object"?function(b9){if(b9.s)b3.push(b9);}(b8):function(b9){b3.push(b9);}(b8);}}else void 0;};R.MarkForever=function(b3,b4){var b5,b6,b7,b8;b5=b3.s;if(b5!=null&&b5.$==3){b3.s={$:0,$0:b4};b6=b5.$0;for(b7=0,b8=G.length(b6)-1;b7<=b8;b7++)(G.get(b6,b7))(b4);}else void 0;};R.MarkReady=function(b3,b4){var b5,b6,b7,b8;b5=b3.s;if(b5!=null&&b5.$==3){b3.s={$:2,$0:b4,$1:b5.$1};b6=b5.$0;for(b7=0,b8=G.length(b6)-1;b7<=b8;b7++)(G.get(b6,b7))(b4);}else void 0;};R.Join=function(b3){var b4;b4=R.New({$:3,$0:[],$1:[]});R.When(b3,function(b5){var b6;b6=b5();R.When(b6,function(b7){var b8,b9;if((b8=b6.s,b8!=null&&b8.$==0)&&(b9=b3.s,b9!=null&&b9.$==0))R.MarkForever(b4,b7);else R.MarkReady(b4,b7);},b4);},b4);return b4;};R.Copy=function(b3){var b4,b5,b6;b4=b3.s;return b4==null?b3:b4!=null&&b4.$==2?(b5=R.New({$:2,$0:b4.$0,$1:[]}),(R.WhenObsolete(b3,b5),b5)):b4!=null&&b4.$==3?(b6=R.New({$:3,$0:[],$1:[]}),(R.When(b3,function(b7){R.MarkDone(b6,b3,b7);},b6),b6)):b3;};R.Map2Unit=function(b3,b4){var b5,b6,b7;function b8(){var b9,b_,b$;if(!(b9=b7.s,b9!=null&&b9.$==0||b9!=null&&b9.$==2)){b_=R.ValueAndForever(b3);b$=R.ValueAndForever(b4);b_!=null&&b_.$==1?b$!=null&&b$.$==1?b_.$0[1]&&b$.$0[1]?R.MarkForever(b7,null):R.MarkReady(b7,null):void 0:void 0;}}b5=b3.s;b6=b4.s;return b5!=null&&b5.$==0?b6!=null&&b6.$==0?R.New({$:0,$0:null}):b4:b6!=null&&b6.$==0?b3:(b7=R.New({$:3,$0:[],$1:[]}),(R.When(b3,b8,b7),R.When(b4,b8,b7),b7));};R.WhenObsolete=function(b3,b4){var b5;b5=b3.s;b5==null?R.Obsolete(b4):b5!=null&&b5.$==2?R.EnqueueSafe(b5.$1,b4):b5!=null&&b5.$==3?R.EnqueueSafe(b5.$1,b4):void 0;};R.ValueAndForever=function(b3){var b4;b4=b3.s;return b4!=null&&b4.$==0?{$:1,$0:[b4.$0,true]}:b4!=null&&b4.$==2?{$:1,$0:[b4.$0,false]}:null;};T.unindent=function(b3){var b4,b5,b6,b7;b4=U.SplitChars(b3,["\n"],0);b5=(b6=H.tryFindIndex(function(b8){return" "!==b8;},(b7=H.tryFind(function(b8){return U.Trim(b8)!=="";},b4),b7==null?"":b7.$0)),b6==null?0:b6.$0);return H.filter(function(b8){return!U.StartsWith(b8,"# 1 ");},H.map(function(b8){return b8.length<=b5?"":b8.substring(b5);},b4));};T.splitByChar=function(b3,b4){return U.SplitChars(b4,[b3],0);};U.concat=function(b3,b4){return G.ofSeq(b4).join(b3);};U.SplitChars=function(b3,b4,b5){return U.Split(b3,new a.RegExp("["+U.RegexEscape(b4.join(""))+"]"),b5);};U.Trim=function(b3){return b3.replace(new a.RegExp("^\\s+"),"").replace(new a.RegExp("\\s+$"),"");};U.StartsWith=function(b3,b4){return b3.substring(0,b4.length)==b4;};U.Split=function(b3,b4,b5){return b5===1?G.filter(function(b6){return b6!=="";},U.SplitWith(b3,b4)):U.SplitWith(b3,b4);};U.RegexEscape=function(b3){return b3.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};U.SplitWith=function(b3,b4){return b3.split(b4);};V.array=function(b3,b4,b5){return b4==null?b5!=null&&b5.$==1?b3.slice(0,b5.$0+1):[]:b5==null?b3.slice(b4.$0):b3.slice(b4.$0,b5.$0+1);};V.string=function(b3,b4,b5){return b4==null?b5!=null&&b5.$==1?b3.slice(0,b5.$0+1):"":b5==null?b3.slice(b4.$0):b3.slice(b4.$0,b5.$0+1);};X=W.T=bY.Class({GetEnumerator:function(){return new _6.New(this,null,function(b3){var b4;b4=b3.s;return b4.$==0?false:(b3.c=b4.$0,b3.s=b4.$1,true);},void 0);},GetEnumerator0:function(){return _5.Get(this);}},null,X);X.Empty=new X({$:0});Y.Delay=function(b3){return function(b4){try{(b3(null))(b4);}catch(b5){b4.k({$:1,$0:b5});}};};Y.Bind=function(b3,b4){return Y.checkCancel(function(b5){b3($.New(function(b6){var b7;if(b6.$==0){b7=b6.$0;Y.scheduler().Fork(function(){try{(b4(b7))(b5);}catch(b8){b5.k({$:1,$0:b8});}});}else Y.scheduler().Fork(function(){b5.k(b6);});},b5.ct));});};Y.Return=function(b3){return function(b4){b4.k({$:0,$0:b3});};};Y.FromContinuations=function(b3){return function(b4){var b5;function b6(b7){if(b5[0])w.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{b5[0]=true;Y.scheduler().Fork(b7);}}b5=[false];b3(function(b7){b6(function(){b4.k({$:0,$0:b7});});},function(b7){b6(function(){b4.k({$:1,$0:b7});});},function(b7){b6(function(){b4.k({$:2,$0:b7});});});};};Y.checkCancel=function(b3){return function(b4){if(b4.ct.c)Y.cancel(b4);else b3(b4);};};Y.While=function(b3,b4){return b3()?Y.Bind(b4,function(){return Y.While(b3,b4);}):Y.Return();};Y.Sleep=function(b3){return function(b4){var b5,b6;b5=void 0;b6=void 0;b5=a.setTimeout(function(){b6.Dispose();Y.scheduler().Fork(function(){b4.k({$:0,$0:null});});},b3);b6=Y.Register(b4.ct,function(){a.clearTimeout(b5);Y.scheduler().Fork(function(){Y.cancel(b4);});});};};Y.Zero=function(){bk.$cctor();return bk.Zero;};Y.Start=function(b3,b4){var b5,b6;b5=(b6=(Y.defCTS())[0],b4==null?b6:b4.$0);Y.scheduler().Fork(function(){if(!b5.c)b3($.New(function(b7){if(b7.$==1)Y.UncaughtAsyncError(b7.$0);},b5));});};Y.cancel=function(b3){b3.k({$:2,$0:new bs.New(b3.ct)});};Y.scheduler=function(){bk.$cctor();return bk.scheduler;};Y.Register=function(b3,b4){var b5;return b3===Y.noneCT()?{Dispose:function(){return null;}}:(b5=b3.r.push(b4)-1,{Dispose:function(){return G.set(b3.r,b5,a.ignore);}});};Y.defCTS=function(){bk.$cctor();return bk.defCTS;};Y.UncaughtAsyncError=function(b3){b0.log("WebSharper: Uncaught asynchronous exception",b3);};Y.noneCT=function(){bk.$cctor();return bk.noneCT;};Y.StartWithContinuations=function(b3,b4,b5,b6,b7){var b8,b9;b8=(b9=(Y.defCTS())[0],b7==null?b9:b7.$0);!b8.c?b3($.New(function(b_){if(b_.$==1)b5(b_.$0);else if(b_.$==2)b6(b_.$0);else b4(b_.$0);},b8)):void 0;};Z=t.AttrProxy=bY.Class({},null,Z);Z.OnAfterRenderImpl=function(b3){return new Z({$:4,$0:b3});};Z.Create=function(b3,b4){return bc.Static(function(b5){bd.SetAttr(b5,b3,b4);});};Z.Concat=function(b3){var b4;b4=bu.ofSeqNonCopying(b3);return bu.TreeReduce(bc.EmptyAttr(),Z.Append,b4);};Z.Append=function(b3,b4){return bc.AppendTree(b3,b4);};_0=t.Doc=bY.Class({},l,_0);_0.Async=function(b3){return _0.EmbedView(v.MapAsync(a.id,v.Const(b3)));};_0.TextNode=function(b3){return _0.Mk({$:5,$0:bd.CreateText(b3)},v.Const());};_0.InputArea=function(b3,b4){return _0.InputInternal("textarea",function(){return H.append(b3,[be.Value(b4)]);});};_0.TextView=function(b3){var b4;b4=bf.CreateTextNode();return _0.Mk({$:4,$0:b4},v.Map(function(b5){bf.UpdateTextNode(b4,b5);},b3));};_0.Run=function(b3,b4){bf.LinkElement(b3,b4.docNode);_0.RunInPlace(false,b3,b4);};_0.Element=function(b3,b4,b5){var b6,b7;b6=Z.Concat(b4);b7=_0.Concat(b5);return bt.New(bd.CreateElement(b3),b6,b7);};_0.EmbedView=function(b3){var b4;b4=bf.CreateEmbedNode();return _0.Mk({$:2,$0:b4},v.Map(a.ignore,v.Bind(function(b5){bf.UpdateEmbedNode(b4,b5.docNode);return b5.updates;},b3)));};_0.Mk=function(b3,b4){return new _0.New(b3,b4);};_0.InputInternal=function(b3,b4){var b5;b5=bd.CreateElement(b3);return bt.New(b5,Z.Concat(b4(b5)),_0.get_Empty());};_0.RunInPlace=function(b3,b4,b5){var b6;b6=bf.CreateRunState(b4,b5.docNode);v.Sink(bo.get_UseAnimations()||bp.BatchUpdatesEnabled()?bq.StartProcessor(bf.PerformAnimatedUpdate(b3,b6,b5.docNode)):function(){bf.PerformSyncUpdate(b3,b6,b5.docNode);},b5.updates);};_0.Concat=function(b3){var b4;b4=bu.ofSeqNonCopying(b3);return bu.TreeReduce(_0.get_Empty(),_0.Append,b4);};_0.get_Empty=function(){return _0.Mk(null,v.Const());};_0.Append=function(b3,b4){return _0.Mk({$:0,$0:b3.docNode,$1:b4.docNode},v.Map2Unit(b3.updates,b4.updates));};_0.New=bY.Ctor(function(b3,b4){l.New.call(this);this.docNode=b3;this.updates=b4;},_0);_1=t.ConcreteVar=bY.Class({get_View:function(){return this.view;},Get:function(){return this.current;},Update:function(b3){this.Set(b3(this.Get()));},Set:function(b3){if(this.isConst)(function(b4){return b4("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal");}(function(b4){b0.log(b4);}));else{R.Obsolete(this.snap);this.current=b3;this.snap=R.New({$:2,$0:b3,$1:[]});}},UpdateMaybe:function(b3){var b4;b4=b3(this.Get());b4!=null&&b4.$==1?this.Set(b4.$0):void 0;}},u,_1);_1.New=bY.Ctor(function(b3,b4,b5){var b6;b6=this;u.New.call(this);this.isConst=b3;this.current=b5;this.snap=b4;this.view=function(){return b6.snap;};this.id=_3.Int();},_1);_3.Id=function(){_3.set_counter(_3.counter()+1);return"uid"+a.String(_3.counter());};_3.Int=function(){_3.set_counter(_3.counter()+1);return _3.counter();};_3.set_counter=function(b3){bl.$cctor();bl.counter=b3;};_3.counter=function(){bl.$cctor();return bl.counter;};W.ofArray=function(b3){var b4,b5,b6;b4=X.Empty;for(b5=G.length(b3)-1,b6=0;b5>=b6;b5--)b4=new X({$:1,$0:G.get(b3,b5),$1:b4});return b4;};W.head=function(b3){return b3.$==1?b3.$0:W.listEmpty();};W.tail=function(b3){return b3.$==1?b3.$1:W.listEmpty();};W.listEmpty=function(){return w.FailWith("The input list was empty.");};_5.Get=function(b3){return b3 instanceof a.Array?_5.ArrayEnumerator(b3):x.Equals(typeof b3,"string")?_5.StringEnumerator(b3):b3.GetEnumerator();};_5.ArrayEnumerator=function(b3){return new _6.New(0,null,function(b4){var b5;b5=b4.s;return b5<G.length(b3)&&(b4.c=G.get(b3,b5),b4.s=b5+1,true);},void 0);};_5.StringEnumerator=function(b3){return new _6.New(0,null,function(b4){var b5;b5=b4.s;return b5<b3.length&&(b4.c=b3[b5],b4.s=b5+1,true);},void 0);};_5.Get0=function(b3){return b3 instanceof a.Array?_5.ArrayEnumerator(b3):x.Equals(typeof b3,"string")?_5.StringEnumerator(b3):"GetEnumerator0"in b3?b3.GetEnumerator0():b3.GetEnumerator();};_6=_5.T=bY.Class({Dispose:function(){if(this.d)this.d(this);},MoveNext:function(){return this.n(this);},Current:function(){return this.c;}},l,_6);_6.New=bY.Ctor(function(b3,b4,b5,b6){l.New.call(this);this.s=b3;this.c=b4;this.n=b5;this.d=b6;},_6);_7.New=function(b3,b4,b5,b6,b7,b8,b9){return{generateDoc:b3,getValue:b4,setValue:b5,setDisabled:b6,hookOnRender:b7,hookOnChange:b8,showAnnotations:b9};};_9.LoadLocalTemplates=function(b3){!_9.LocalTemplatesLoaded()?(_9.set_LocalTemplatesLoaded(true),_9.LoadNestedTemplates(self.document.body,"")):void 0;_9.LoadedTemplates().set_Item(b3,_9.LoadedTemplateFile(""));};_9.LocalTemplatesLoaded=function(){bm.$cctor();return bm.LocalTemplatesLoaded;};_9.set_LocalTemplatesLoaded=function(b3){bm.$cctor();bm.LocalTemplatesLoaded=b3;};_9.LoadNestedTemplates=function(b3,b4){var b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch;function b5(ci){var cj,ck;if(!b6.ContainsKey(ci)){cj=(ck=null,[b7.TryGetValue(ci,{get:function(){return ck;},set:function(cl){ck=cl;}}),ck]);cj[0]?(ch.Add(ci),b7.Remove(ci),_9.PrepareTemplateStrict(b4,{$:1,$0:ci},cj[1][0],{$:1,$0:cj[1][1]},{$:1,$0:b5})):b0.warn(ch.Contains(ci)?"Encountered loop when instantiating "+ci:"Local template does not exist: "+ci);}}b6=_9.LoadedTemplateFile(b4);b7=new bh.New$5();b8=b3.querySelectorAll("[ws-template]");for(b9=0,b_=b8.length-1;b9<=b_;b9++){b$=b8[b9];ca=b$.getAttribute("ws-template").toLowerCase();b$.removeAttribute("ws-template");b7.set_Item(ca,[[b$],_9.FakeRootSingle(b$)]);}cb=b3.querySelectorAll("[ws-children-template]");for(cc=0,cd=cb.length-1;cc<=cd;cc++){ce=cb[cc];cf=ce.getAttribute("ws-children-template").toLowerCase();ce.removeAttribute("ws-children-template");b7.set_Item(cf,(cg=bd.ChildrenArray(ce),[cg,_9.FakeRoot(cg)]));}ch=new bn.New$3();while(b7.count>0)b5(H.head(b7.get_Keys()));};_9.LoadedTemplates=function(){bm.$cctor();return bm.LoadedTemplates;};_9.LoadedTemplateFile=function(b3){var b4,b5,b6;b4=(b5=null,[_9.LoadedTemplates().TryGetValue(b3,{get:function(){return b5;},set:function(b7){b5=b7;}}),b5]);return b4[0]?b4[1]:(b6=new bh.New$5(),(_9.LoadedTemplates().set_Item(b3,b6),b6));};_9.FakeRootSingle=function(b3){var b4,b5,b6;b3.removeAttribute("ws-template");b4=b3.getAttribute("ws-replace");b4===null?void 0:(b3.removeAttribute("ws-replace"),b5=b3.parentNode,x.Equals(b5,null)?void 0:(b6=self.document.createElement(b3.tagName),b6.setAttribute("ws-replace",b4),b5.replaceChild(b6,b3)));return _9.FakeRoot([b3]);};_9.FakeRoot=function(b3){var b4,b5,b6;b4=self.document.createElement("div");for(b5=0,b6=b3.length-1;b5<=b6;b5++)b4.appendChild(G.get(b3,b5));return b4;};_9.PrepareTemplateStrict=function(b3,b4,b5,b6,b7){var b8,b9;function b_(cd,ce){var cf,cg,ch,ci,cj,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF;function ck(cG){}while(true)switch(cd){case 0:if(ce!==null){cf=ce.nextSibling;if(x.Equals(ce.nodeType,O.TEXT_NODE))bA.convertTextNode(ce);else if(x.Equals(ce.nodeType,O.ELEMENT_NODE))ca(ce);ce=cf;}else return null;break;case 1:cl=V.string(ce.nodeName,{$:1,$0:3},null).toLowerCase();cm=(cg=cl.indexOf("."),cg===-1?[b3,cl]:[V.string(cl,null,{$:1,$0:cg-1}),V.string(cl,{$:1,$0:cg+1},null)]);cn=cm[1];co=cm[0];if(co!==""&&!_9.LoadedTemplates().ContainsKey(co))return bA.failNotLoaded(cn);else{if(co===""&&b7!=null)b7.$0(cn);cp=_9.LoadedTemplates().get_Item(co);if(!cp.ContainsKey(cn))return bA.failNotLoaded(cn);else{cq=cp.get_Item(cn);cr=cq.cloneNode(true);cs=new bn.New$3();ct=new bh.New$5();cu=ce.attributes;for(cv=0,cw=cu.length-1;cv<=cw;cv++){cx=cu.item(cv).name.toLowerCase();ct.set_Item(cx,(cy=cu.item(cv).nodeValue,cy===""?cx:cy.toLowerCase()));!cs.Add(cx)?b0.warn("Hole mapped twice",cx):void 0;}for(cz=0,cA=ce.childNodes.length-1;cz<=cA;cz++){cB=ce.childNodes[cz];x.Equals(cB.nodeType,O.ELEMENT_NODE)?!cs.Add(cB.nodeName.toLowerCase())?b0.warn("Hole filled twice",cn):void 0:void 0;}cC=ce.childNodes.length===1&&x.Equals(ce.firstChild.nodeType,O.TEXT_NODE);if(cC){ci=bA.fillTextHole(cr,ce.firstChild.textContent,cn);((function(cG){return function(cH){if(cH!=null)cG(cH.$0);};}((cj=function(cG){return function(cH){return cG.Add(cH);};}(cs),function(cG){return ck(cj(cG));})))(ci));}bA.removeHolesExcept(cr,cs);if(!cC){for(cD=0,cE=ce.childNodes.length-1;cD<=cE;cD++){cF=ce.childNodes[cD];x.Equals(cF.nodeType,O.ELEMENT_NODE)?cF.hasAttributes()?bA.fillInstanceAttrs(cr,cF):b$(cr,cF):void 0;}}bA.mapHoles(cr,ct);bA.fill(cr,ce.parentNode,ce);ce.parentNode.removeChild(ce);return;}}break;}}function b$(cd,ce){var cf,ch,ci;function cg(cj,ck){var cl,cm,cn;if(ch==="title"&&ce.hasChildNodes()){cl=b1.parseHTML(ce.textContent);ce.removeChild(ce.firstChild);for(cm=0,cn=cl.length-1;cm<=cn;cm++)ce.appendChild(G.get(cl,cm));}else null;ca(ce);return bA.fill(ce,cj,ck);}ch=ce.nodeName.toLowerCase();bd.IterSelector(cd,"[ws-attr-holes]",function(cj){var ck,cl,cm,cn,co;ck=U.SplitChars(cj.getAttribute("ws-attr-holes"),[" "],1);for(cl=0,cm=ck.length-1;cl<=cm;cl++){cn=G.get(ck,cl);cj.setAttribute(cn,(co=new a.RegExp("\\${"+ch+"}","ig"),cj.getAttribute(cn).replace(co,ce.textContent)));}});ci=cd.querySelector("[ws-hole="+ch+"]");if(x.Equals(ci,null)){cf=cd.querySelector("[ws-replace="+ch+"]");return x.Equals(cf,null)?null:(cg(cf.parentNode,cf),void cf.parentNode.removeChild(cf));}else{while(ci.hasChildNodes())ci.removeChild(ci.lastChild);ci.removeAttribute("ws-hole");return cg(ci,null);}}function ca(cd){if(U.StartsWith(cd.nodeName.toLowerCase(),"ws-"))cc(cd);else{bA.convertAttrs(cd);cb(cd.firstChild);}}function cb(cd){return b_(0,cd);}function cc(cd){return b_(1,cd);}b8=b6==null?_9.FakeRoot(b5):b6.$0;b9=(b4==null?"":b4.$0).toLowerCase();_9.LoadedTemplateFile(b3).set_Item(b9,b8);G.length(b5)>0?(function(cd){var ce,cf,cg,ch;while(true){ce=cd.querySelector("[ws-template]");if(x.Equals(ce,null)){cf=cd.querySelector("[ws-children-template]");if(x.Equals(cf,null))return null;else{cg=cf.getAttribute("ws-children-template");cf.removeAttribute("ws-children-template");_9.PrepareTemplateStrict(b3,{$:1,$0:cg},bd.ChildrenArray(cf),null,null);cd=cd;}}else{ch=ce.getAttribute("ws-template");(_9.PrepareSingleTemplate(b3,{$:1,$0:ch},ce))(null);cd=cd;}}}(b8),cb(G.get(b5,0))):void 0;};_9.PrepareSingleTemplate=function(b3,b4,b5){var b6,b7,b8;b6=_9.FakeRootSingle(b5);b7=[b5];b8={$:1,$0:b6};return function(b9){_9.PrepareTemplateStrict(b3,b4,b7,b8,b9);};};_9.TextHoleRE=function(){bm.$cctor();return bm.TextHoleRE;};$.New=function(b3,b4){return{k:b3,ct:b4};};ba.StartTo=function(b3,b4){Y.StartWithContinuations(b3,b4,function(b5){ba.OnError(b5);},a.ignore,null);};ba.OnError=function(b3){return b0.log("WebSharper UI: Uncaught asynchronous exception",b3);};R.Obsolete=function(b3){var b4,b5,b6,b7,b8;b5=b3.s;if(b5==null||(b5!=null&&b5.$==2?(b4=b5.$1,false):b5!=null&&b5.$==3?(b4=b5.$1,false):true))void 0;else{b3.s=null;for(b6=0,b7=G.length(b4)-1;b6<=b7;b6++){b8=G.get(b4,b6);typeof b8=="object"?function(b9){R.Obsolete(b9);}(b8):b8();}}};R.New=function(b3){return{s:b3};};bb.New=function(b3,b4,b5,b6,b7){return{editorO:b3,onRender:b4,onChange:b5,options:b6,overrides:b7};};bc.Static=function(b3){return new Z({$:3,$0:b3});};bc.Updates=function(b3){return bu.MapTreeReduce(function(b4){return b4.NChanged();},v.Const(),v.Map2Unit,b3.DynNodes);};bc.AppendTree=function(b3,b4){var b5;return b3===null?b4:b4===null?b3:(b5=new Z({$:2,$0:b3,$1:b4}),(bc.SetFlags(b5,bc.Flags(b3)|bc.Flags(b4)),b5));};bc.EmptyAttr=function(){bN.$cctor();return bN.EmptyAttr;};bc.Insert=function(b3,b4){var b5,b6,b7;function b8(b9){if(!(b9===null))if(b9!=null&&b9.$==1)b5.push(b9.$0);else if(b9!=null&&b9.$==2){b8(b9.$0);b8(b9.$1);}else if(b9!=null&&b9.$==3)b9.$0(b3);else if(b9!=null&&b9.$==4)b6.push(b9.$0);}b5=[];b6=[];b8(b4);b7=b5.slice(0);return bJ.New(b3,bc.Flags(b4),b7,b6.length===0?null:{$:1,$0:function(b9){H.iter(function(b_){b_(b9);},b6);}});};bc.HasExitAnim=function(b3){var b4;b4=2;return(b3.DynFlags&b4)===b4;};bc.GetExitAnim=function(b3){return bc.GetAnim(b3,function(b4,b5){return b4.NGetExitAnim(b5);});};bc.HasEnterAnim=function(b3){var b4;b4=1;return(b3.DynFlags&b4)===b4;};bc.GetEnterAnim=function(b3){return bc.GetAnim(b3,function(b4,b5){return b4.NGetEnterAnim(b5);});};bc.HasChangeAnim=function(b3){var b4;b4=4;return(b3.DynFlags&b4)===b4;};bc.GetChangeAnim=function(b3){return bc.GetAnim(b3,function(b4,b5){return b4.NGetChangeAnim(b5);});};bc.SetFlags=function(b3,b4){b3.flags=b4;};bc.Flags=function(b3){return b3!==null&&b3.hasOwnProperty("flags")?b3.flags:0;};bc.Dynamic=function(b3,b4){return new Z({$:1,$0:new bR.New(b3,b4)});};bc.GetAnim=function(b3,b4){return bo.Concat(G.map(function(b5){return b4(b5,b3.DynElem);},b3.DynNodes));};bc.Sync=function(b3,b4){G.iter(function(b5){b5.NSync(b3);},b4.DynNodes);};bd.SetAttr=function(b3,b4,b5){b3.setAttribute(b4,b5);};bd.CreateText=function(b3){return bd.Doc().createTextNode(b3);};bd.CreateElement=function(b3){return bd.Doc().createElement(b3);};bd.Doc=function(){by.$cctor();return by.Doc;};bd.ChildrenArray=function(b3){var b4,b5,b6;b4=[];for(b5=0,b6=b3.childNodes.length-1;b5<=b6;b5++)b4.push(b3.childNodes[b5]);return b4;};bd.IterSelector=function(b3,b4,b5){var b6,b7,b8;b6=b3.querySelectorAll(b4);for(b7=0,b8=b6.length-1;b7<=b8;b7++)b5(b6[b7]);};bd.InsertAt=function(b3,b4,b5){var b6;if(!(b5.parentNode===b3&&b4===(b6=b5.nextSibling,x.Equals(b6,null)?null:b6)))b3.insertBefore(b5,b4);};bd.RemoveNode=function(b3,b4){if(b4.parentNode===b3)b3.removeChild(b4);};be.Value=function(b3){function b4(b5){return{$:1,$0:b5};}return be.CustomValue(b3,a.id,function(b5){return b4(a.id(b5));});};be.CustomValue=function(b3,b4,b5){return be.CustomVar(b3,function(b6,b7){b6.value=b4(b7);},function(b6){return b5(b6.value);});};be.CustomVar=function(b3,b4,b5){function b6(b8,b9){return b3.UpdateMaybe(function(b_){var b$,ca;b$=b5(b8);return b$!=null&&b$.$==1&&(!x.Equals(b$.$0,b_)&&(ca=[b$,b$.$0],true))?ca[0]:null;});}function b7(b8,b9){var b_,b$;b_=b5(b8);return b_!=null&&b_.$==1&&(x.Equals(b_.$0,b9)&&(b$=b_.$0,true))?null:b4(b8,b9);}return Z.Concat([be.Handler("change",function(b8){return function(b9){return b6(b8,b9);};}),be.Handler("input",function(b8){return function(b9){return b6(b8,b9);};}),be.Handler("keypress",function(b8){return function(b9){return b6(b8,b9);};}),be.DynamicCustom(function(b8){return function(b9){return b7(b8,b9);};},b3.get_View())]);};be.Handler=function(b3,b4){return bc.Static(function(b5){b5.addEventListener(b3,function(b6){return(b4(b5))(b6);},false);});};be.DynamicCustom=function(b3,b4){return bc.Dynamic(b4,b3);};bf.CreateTextNode=function(){return{Text:bd.CreateText(""),Dirty:false,Value:""};};bf.UpdateTextNode=function(b3,b4){b3.Value=b4;b3.Dirty=true;};bf.LinkElement=function(b3,b4){bf.InsertDoc(b3,b4,null);};bf.CreateEmbedNode=function(){return{Current:null,Dirty:false};};bf.UpdateEmbedNode=function(b3,b4){b3.Current=b4;b3.Dirty=true;};bf.InsertDoc=function(b3,b4,b5){var b6;return b4!=null&&b4.$==1?bf.InsertNode(b3,b4.$0.El,b5):b4!=null&&b4.$==2?(b6=b4.$0,(b6.Dirty=false,bf.InsertDoc(b3,b6.Current,b5))):b4==null?b5:b4!=null&&b4.$==4?bf.InsertNode(b3,b4.$0.Text,b5):b4!=null&&b4.$==5?bf.InsertNode(b3,b4.$0,b5):b4!=null&&b4.$==6?G.foldBack(function(b7,b8){return b7==null||b7.constructor===_4?bf.InsertDoc(b3,b7,b8):bf.InsertNode(b3,b7,b8);},b4.$0.Els,b5):bf.InsertDoc(b3,b4.$0,bf.InsertDoc(b3,b4.$1,b5));};bf.CreateRunState=function(b3,b4){return bD.New(bE.get_Empty(),bf.CreateElemNode(b3,bc.EmptyAttr(),b4));};bf.PerformAnimatedUpdate=function(b3,b4,b5){var b6;return bo.get_UseAnimations()?(b6=null,Y.Delay(function(){var b7,b8,b9;b7=bE.FindAll(b5);b8=bf.ComputeChangeAnim(b4,b7);b9=bf.ComputeEnterAnim(b4,b7);return Y.Bind(bo.Play(bo.Append(b8,bf.ComputeExitAnim(b4,b7))),function(){return Y.Bind(bf.SyncElemNodesNextFrame(b3,b4),function(){return Y.Bind(bo.Play(b9),function(){b4.PreviousNodes=b7;return Y.Return(null);});});});})):bf.SyncElemNodesNextFrame(b3,b4);};bf.PerformSyncUpdate=function(b3,b4,b5){var b6;b6=bE.FindAll(b5);bf.SyncElemNode(b3,b4.Top);b4.PreviousNodes=b6;};bf.InsertNode=function(b3,b4,b5){bd.InsertAt(b3,b5,b4);return b4;};bf.CreateElemNode=function(b3,b4,b5){var b6;bf.LinkElement(b3,b5);b6=bc.Insert(b3,b4);return bw.New(b6,b5,null,b3,_3.Int(),bY.GetOptional(b6.OnAfterRender));};bf.SyncElemNodesNextFrame=function(b3,b4){function b5(b6){a.requestAnimationFrame(function(){bf.SyncElemNode(b3,b4.Top);b6();});}return bp.BatchUpdatesEnabled()?Y.FromContinuations(function(b6,b7,b8){return b5.apply(null,[b6,b7,b8]);}):(bf.SyncElemNode(b3,b4.Top),Y.Return(null));};bf.ComputeExitAnim=function(b3,b4){return bo.Concat(G.map(function(b5){return bc.GetExitAnim(b5.Attr);},bE.ToArray(bE.Except(b4,bE.Filter(function(b5){return bc.HasExitAnim(b5.Attr);},b3.PreviousNodes)))));};bf.ComputeEnterAnim=function(b3,b4){return bo.Concat(G.map(function(b5){return bc.GetEnterAnim(b5.Attr);},bE.ToArray(bE.Except(b3.PreviousNodes,bE.Filter(function(b5){return bc.HasEnterAnim(b5.Attr);},b4)))));};bf.ComputeChangeAnim=function(b3,b4){var b5;function b6(b7){return bc.HasChangeAnim(b7.Attr);}b5=function(b7){return bE.Filter(b6,b7);};return bo.Concat(G.map(function(b7){return bc.GetChangeAnim(b7.Attr);},bE.ToArray(bE.Intersect(b5(b3.PreviousNodes),b5(b4)))));};bf.SyncElemNode=function(b3,b4){!b3?bf.SyncElement(b4):void 0;bf.Sync(b4.Children);bf.AfterRender(b4);};bf.SyncElement=function(b3){function b4(b5){function b6(b7){var b8,b9;return b7!=null&&b7.$==0?b6(b7.$0)||b6(b7.$1):b7!=null&&b7.$==2?(b8=b7.$0,b8.Dirty||b6(b8.Current)):b7!=null&&b7.$==6&&(b9=b7.$0,b9.Dirty||G.exists(b4,b9.Holes));}return b6(b5.Children);}bc.Sync(b3.El,b3.Attr);b4(b3)?bf.DoSyncElement(b3):void 0;};bf.Sync=function(b3){var b4,b5;if(b3!=null&&b3.$==1)bf.SyncElemNode(false,b3.$0);else if(b3!=null&&b3.$==2)bf.Sync(b3.$0.Current);else if(b3==null);else if(b3!=null&&b3.$==5);else if(b3!=null&&b3.$==4){b4=b3.$0;b4.Dirty?(b4.Text.nodeValue=b4.Value,b4.Dirty=false):void 0;}else if(b3!=null&&b3.$==6){b5=b3.$0;G.iter(function(b6){bf.SyncElemNode(false,b6);},b5.Holes);G.iter(function(b6){bc.Sync(b6[0],b6[1]);},b5.Attrs);bf.AfterRender(b5);}else{bf.Sync(b3.$0);bf.Sync(b3.$1);}};bf.AfterRender=function(b3){var b4;b4=bY.GetOptional(b3.Render);b4!=null&&b4.$==1?(b4.$0(b3.El),bY.SetOptional(b3,"Render",null)):void 0;};bf.DoSyncElement=function(b3){var b4,b5,b6;function b7(b8,b9){var b_,b$;return b8!=null&&b8.$==1?b8.$0.El:b8!=null&&b8.$==2?(b_=b8.$0,b_.Dirty?(b_.Dirty=false,bf.InsertDoc(b4,b_.Current,b9)):b7(b_.Current,b9)):b8==null?b9:b8!=null&&b8.$==4?b8.$0.Text:b8!=null&&b8.$==5?b8.$0:b8!=null&&b8.$==6?(b$=b8.$0,(b$.Dirty?b$.Dirty=false:void 0,G.foldBack(function(ca,cb){return ca==null||ca.constructor===_4?b7(ca,cb):ca;},b$.Els,b9))):b7(b8.$0,b7(b8.$1,b9));}b4=b3.El;bS.Iter((b5=b3.El,function(b8){bd.RemoveNode(b5,b8);}),bS.Except(bS.DocChildren(b3),bS.Children(b3.El,bY.GetOptional(b3.Delimiters))));b7(b3.Children,(b6=bY.GetOptional(b3.Delimiters),b6!=null&&b6.$==1?b6.$0[1]:null));};bh=bg.Dictionary=bY.Class({set_Item:function(b3,b4){this.set(b3,b4);},ContainsKey:function(b3){var b4,b5;b4=this;b5=this.data[this.hash(b3)];return b5==null?false:G.exists(function(b6){return b4.equals.apply(null,[(w.KeyValue(b6))[0],b3]);},b5);},TryGetValue:function(b3,b4){var b5,b6,b7;b5=this;b6=this.data[this.hash(b3)];return b6==null?false:(b7=G.tryPick(function(b8){var b9;b9=w.KeyValue(b8);return b5.equals.apply(null,[b9[0],b3])?{$:1,$0:b9[1]}:null;},b6),b7!=null&&b7.$==1&&(b4.set(b7.$0),true));},Remove:function(b3){return this.remove(b3);},get_Keys:function(){return new bB.New(this);},set:function(b3,b4){var b5,b6,b7,b8;b5=this;b6=this.hash(b3);b7=this.data[b6];b7==null?(this.count=this.count+1,this.data[b6]=new a.Array({K:b3,V:b4})):(b8=G.tryFindIndex(function(b9){return b5.equals.apply(null,[(w.KeyValue(b9))[0],b3]);},b7),b8==null?(this.count=this.count+1,b7.push({K:b3,V:b4})):b7[b8.$0]={K:b3,V:b4});},remove:function(b3){var b4,b5,b6,b7;b4=this;b5=this.hash(b3);b6=this.data[b5];return b6==null?false:(b7=G.filter(function(b8){return!b4.equals.apply(null,[(w.KeyValue(b8))[0],b3]);},b6),G.length(b7)<b6.length&&(this.count=this.count-1,this.data[b5]=b7,true));},get_Item:function(b3){return this.get(b3);},get:function(b3){var b4,b5;b4=this;b5=this.data[this.hash(b3)];return b5==null?bz.notPresent():G.pick(function(b6){var b7;b7=w.KeyValue(b6);return b4.equals.apply(null,[b7[0],b3])?{$:1,$0:b7[1]}:null;},b5);},GetEnumerator:function(){return _5.Get0(this);},GetEnumerator0:function(){return _5.Get0(G.concat(P.GetFieldValues(this.data)));}},l,bh);bh.New$5=bY.Ctor(function(){bh.New$6.call(this,[],x.Equals,x.Hash);},bh);bh.New$6=bY.Ctor(function(b3,b4,b5){var b6,b7;l.New.call(this);this.equals=b4;this.hash=b5;this.count=0;this.data=[];b6=_5.Get(b3);try{while(b6.MoveNext()){b7=b6.Current();this.set(b7.K,b7.V);}}finally{if(typeof b6=="object"&&"Dispose"in b6)b6.Dispose();}},bh);bi.New=function(b3,b4){return{c:b3,r:b4};};bj=Y.Scheduler=bY.Class({Fork:function(b3){var b4;b4=this;this.robin.push(b3);this.idle?(this.idle=false,a.setTimeout(function(){b4.tick();},0)):void 0;},tick:function(){var b3,b4,b5;b4=this;b5=b2.now();b3=true;while(b3)if(this.robin.length===0){this.idle=true;b3=false;}else{(this.robin.shift())();b2.now()-b5>40?(a.setTimeout(function(){b4.tick();},0),b3=false):void 0;}}},l,bj);bj.New=bY.Ctor(function(){l.New.call(this);this.idle=true;this.robin=[];},bj);bk.$cctor=function(){bk.$cctor=a.ignore;bk.noneCT=bi.New(false,[]);bk.scheduler=new bj.New();bk.defCTS=[new bv.New()];bk.Zero=Y.Return();bk.GetCT=function(b3){b3.k({$:0,$0:b3.ct});};};bl.$cctor=function(){bl.$cctor=a.ignore;bl.counter=0;};bm.$cctor=function(){bm.$cctor=a.ignore;bm.LoadedTemplates=new bh.New$5();bm.LocalTemplatesLoaded=false;bm.TextHoleRE="\\${([^}]+)}";};bn=bg.HashSet=bY.Class({Add:function(b3){return this.add(b3);},Contains:function(b3){var b4;b4=this.data[this.hash(b3)];return b4==null?false:this.arrContains(b3,b4);},add:function(b3){var b4,b5;b4=this.hash(b3);b5=this.data[b4];return b5==null?(this.data[b4]=[b3],this.count=this.count+1,true):this.arrContains(b3,b5)?false:(b5.push(b3),this.count=this.count+1,true);},arrContains:function(b3,b4){var b5,b6,b7,b8;b5=true;b6=0;b8=b4.length;while(b5&&b6<b8)if(this.equals.apply(null,[b4[b6],b3]))b5=false;else b6=b6+1;return!b5;},ExceptWith:function(b3){var b4;b4=_5.Get(b3);try{while(b4.MoveNext())this.Remove(b4.Current());}finally{if(typeof b4=="object"&&"Dispose"in b4)b4.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(b3){var b4,b5,b6,b7;b4=0;b5=bQ.concat(this.data);for(b6=0,b7=b5.length-1;b6<=b7;b6++)G.set(b3,b6,b5[b6]);},IntersectWith:function(b3){var b4,b5,b6,b7,b8;b4=new bn.New$4(b3,this.equals,this.hash);b5=bQ.concat(this.data);for(b6=0,b7=b5.length-1;b6<=b7;b6++){b8=b5[b6];!b4.Contains(b8)?this.Remove(b8):void 0;}},Remove:function(b3){var b4;b4=this.data[this.hash(b3)];return b4==null?false:this.arrRemove(b3,b4)&&(this.count=this.count-1,true);},arrRemove:function(b3,b4){var b5,b6,b7,b8;b5=true;b6=0;b8=b4.length;while(b5&&b6<b8)if(this.equals.apply(null,[b4[b6],b3])){b4.splice.apply(b4,[b6,1]);b5=false;}else b6=b6+1;return!b5;},GetEnumerator:function(){return _5.Get(bQ.concat(this.data));},GetEnumerator0:function(){return _5.Get(bQ.concat(this.data));}},l,bn);bn.New$3=bY.Ctor(function(){bn.New$4.call(this,[],x.Equals,x.Hash);},bn);bn.New$4=bY.Ctor(function(b3,b4,b5){var b6;l.New.call(this);this.equals=b4;this.hash=b5;this.data=[];this.count=0;b6=_5.Get(b3);try{while(b6.MoveNext())this.add(b6.Current());}finally{if(typeof b6=="object"&&"Dispose"in b6)b6.Dispose();}},bn);bn.New$2=bY.Ctor(function(b3){bn.New$4.call(this,b3,x.Equals,x.Hash);},bn);bo.get_UseAnimations=function(){return bF.UseAnimations();};bo.Play=function(b3){var b4;b4=null;return Y.Delay(function(){return Y.Bind(bo.Run(a.ignore,bF.Actions(b3)),function(){bF.Finalize(b3);return Y.Return(null);});});};bo.Append=function(b3,b4){return{$:0,$0:bM.Append(b3.$0,b4.$0)};};bo.Run=function(b3,b4){var b5;function b6(b7){function b8(b9,b_){var b$;b$=b_-b9;b4.Compute(b$);b3();return b$<=b5?void a.requestAnimationFrame(function(ca){b8(b9,ca);}):b7();}a.requestAnimationFrame(function(b9){b8(b9,b9);});}b5=b4.Duration;return b5===0?Y.Zero():Y.FromContinuations(function(b7,b8,b9){return b6.apply(null,[b7,b8,b9]);});};bo.Concat=function(b3){return{$:0,$0:bM.Concat(H.map(bF.List,b3))};};bo.get_Empty=function(){return{$:0,$0:bM.Empty()};};bp.BatchUpdatesEnabled=function(){bG.$cctor();return bG.BatchUpdatesEnabled;};bq.StartProcessor=function(b3){var b4;function b5(){var b6;b6=null;return Y.Delay(function(){return Y.Bind(b3,function(){var b7;b7=b4[0];return b7===1?(b4[0]=0,Y.Zero()):b7===2?(b4[0]=1,b5()):Y.Zero();});});}b4=[0];return function(){var b6;b6=b4[0];b6===0?(b4[0]=1,Y.Start(b5(),null)):b6===1?b4[0]=2:void 0;};};bs=k.OperationCanceledException=bY.Class({},br,bs);bs.New=bY.Ctor(function(b3){bs.New$1.call(this,"The operation was canceled.",null,b3);},bs);bs.New$1=bY.Ctor(function(b3,b4,b5){this.message=b3;this.inner=b4;_4.setPrototypeOf(this,bs.prototype);this.ct=b5;},bs);bt=t.Elt=bY.Class({},_0,bt);bt.New=function(b3,b4,b5){var b6,b7;b6=bf.CreateElemNode(b3,b4,b5.docNode);b7=bH.Create(b5.updates);return new bt.New$1({$:1,$0:b6},v.Map2Unit(bc.Updates(b6.Attr),b7.v),b3,b7);};bt.New$1=bY.Ctor(function(b3,b4,b5,b6){_0.New.call(this,b3,b4);this.docNode$1=b3;this.updates$1=b4;this.elt=b5;this.rvUpdates=b6;},bt);bu.ofSeqNonCopying=function(b3){var b4,b5;if(b3 instanceof a.Array)return b3;else if(b3 instanceof X)return G.ofList(b3);else if(b3===null)return[];else{b4=[];b5=_5.Get(b3);try{while(b5.MoveNext())b4.push(b5.Current());return b4;}finally{if(typeof b5=="object"&&"Dispose"in b5)b5.Dispose();}}};bu.TreeReduce=function(b3,b4,b5){var b6;function b7(b8,b9){var b_,b$;return b9<=0?b3:b9===1&&(b8>=0&&b8<b6)?G.get(b5,b8):(b$=b9/2>>0,b4(b7(b8,b$),b7(b8+b$,b9-b$)));}b6=G.length(b5);return b7(0,b6);};bu.MapTreeReduce=function(b3,b4,b5,b6){var b7;function b8(b9,b_){var b$,ca;return b_<=0?b4:b_===1&&(b9>=0&&b9<b7)?b3(G.get(b6,b9)):(ca=b_/2>>0,b5(b8(b9,ca),b8(b9+ca,b_-ca)));}b7=G.length(b6);return b8(0,b7);};bv=k.CancellationTokenSource=bY.Class({},l,bv);bv.New=bY.Ctor(function(){l.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},bv);bw=t.DocElemNode=bY.Class({Equals:function(b3){return this.ElKey===b3.ElKey;},GetHashCode:function(){return this.ElKey;}},null,bw);bw.New=function(b3,b4,b5,b6,b7,b8){var b9;return new bw((b9={Attr:b3,Children:b4,El:b6,ElKey:b7},(bY.SetOptional(b9,"Delimiters",b5),bY.SetOptional(b9,"Render",b8),b9)));};by.$cctor=function(){by.$cctor=a.ignore;by.Doc=self.document;};bz.notPresent=function(){return w.FailWith("The given key was not present in the dictionary.");};bA.convertTextNode=function(b3){var b4,b5,b6,b7,b8,b9;b4=null;b5=0;b7=b3.textContent;b8=new a.RegExp(_9.TextHoleRE(),"g");while(b4=b8.exec(b7),b4!==null){b3.parentNode.insertBefore(self.document.createTextNode(V.string(b7,{$:1,$0:b5},{$:1,$0:b8.lastIndex-G.get(b4,0).length-1})),b3);b5=b8.lastIndex;b9=self.document.createElement("span");b9.setAttribute("ws-replace",G.get(b4,1).toLowerCase());b3.parentNode.insertBefore(b9,b3);}b8.lastIndex=0;b3.textContent=V.string(b7,{$:1,$0:b5},null);};bA.failNotLoaded=function(b3){b0.warn("Instantiating non-loaded template",b3);};bA.fillTextHole=function(b3,b4,b5){var b6;b6=b3.querySelector("[ws-replace]");return x.Equals(b6,null)?(b0.warn("Filling non-existent text hole",b5),null):(b6.parentNode.replaceChild(new a.Text(b4),b6),{$:1,$0:b6.getAttribute("ws-replace")});};bA.removeHolesExcept=function(b3,b4){function b5(b6){bd.IterSelector(b3,"["+b6+"]",function(b7){if(!b4.Contains(b7.getAttribute(b6)))b7.removeAttribute(b6);});}b5("ws-attr");b5("ws-onafterrender");b5("ws-var");bd.IterSelector(b3,"[ws-hole]",function(b6){if(!b4.Contains(b6.getAttribute("ws-hole"))){b6.removeAttribute("ws-hole");while(b6.hasChildNodes())b6.removeChild(b6.lastChild);}});bd.IterSelector(b3,"[ws-replace]",function(b6){if(!b4.Contains(b6.getAttribute("ws-replace")))b6.parentNode.removeChild(b6);});bd.IterSelector(b3,"[ws-on]",function(b6){b6.setAttribute("ws-on",U.concat(" ",G.filter(function(b7){return b4.Contains(G.get(U.SplitChars(b7,[":"],1),1));},U.SplitChars(b6.getAttribute("ws-on"),[" "],1))));});bd.IterSelector(b3,"[ws-attr-holes]",function(b6){var b7,b8,b9,b_,b$;b7=U.SplitChars(b6.getAttribute("ws-attr-holes"),[" "],1);for(b8=0,b9=b7.length-1;b8<=b9;b8++){b_=G.get(b7,b8);b6.setAttribute(b_,(b$=new a.RegExp(_9.TextHoleRE(),"g"),b6.getAttribute(b_).replace(b$,function(ca,cb){return b4.Contains(cb)?ca:"";})));}});};bA.fillInstanceAttrs=function(b3,b4){var b5,b6,b7,b8,b9;bA.convertAttrs(b4);b5=b4.nodeName.toLowerCase();b6=b3.querySelector("[ws-attr="+b5+"]");if(x.Equals(b6,null))b0.warn("Filling non-existent attr hole",b5);else{b6.removeAttribute("ws-attr");for(b7=0,b8=b4.attributes.length-1;b7<=b8;b7++){b9=b4.attributes.item(b7);b9.name==="class"&&b6.hasAttribute("class")?b6.setAttribute("class",b6.getAttribute("class")+" "+b9.nodeValue):b6.setAttribute(b9.name,b9.nodeValue);}}};bA.mapHoles=function(b3,b4){function b5(b6){bd.IterSelector(b3,"["+b6+"]",function(b7){var b8,b9;b8=(b9=null,[b4.TryGetValue(b7.getAttribute(b6).toLowerCase(),{get:function(){return b9;},set:function(b_){b9=b_;}}),b9]);b8[0]?b7.setAttribute(b6,b8[1]):void 0;});}b5("ws-hole");b5("ws-replace");b5("ws-attr");b5("ws-onafterrender");b5("ws-var");bd.IterSelector(b3,"[ws-on]",function(b6){b6.setAttribute("ws-on",U.concat(" ",G.map(function(b7){var b8,b9,b_;b8=U.SplitChars(b7,[":"],1);b9=(b_=null,[b4.TryGetValue(G.get(b8,1),{get:function(){return b_;},set:function(b$){b_=b$;}}),b_]);return b9[0]?G.get(b8,0)+":"+b9[1]:b7;},U.SplitChars(b6.getAttribute("ws-on"),[" "],1))));});bd.IterSelector(b3,"[ws-attr-holes]",function(b6){var b7,b8,b9;b7=U.SplitChars(b6.getAttribute("ws-attr-holes"),[" "],1);for(b8=0,b9=b7.length-1;b8<=b9;b8++)(function(){var b_;function b$(ca,cb){var cc;cc=w.KeyValue(cb);return ca.replace(new a.RegExp("\\${"+cc[0]+"}","ig"),"${"+cc[1]+"}");}b_=G.get(b7,b8);return b6.setAttribute(b_,(((bY.Curried3(H.fold))(b$))(b6.getAttribute(b_)))(b4));}());});};bA.fill=function(b3,b4,b5){while(true)if(b3.hasChildNodes())b5=b4.insertBefore(b3.lastChild,b5);else return null;};bA.convertAttrs=function(b3){var b5,b6,b7,b8,b9,b_,b$,ca;function b4(cb){var cc;cc=b3.getAttribute(cb);cc===null?void 0:b3.setAttribute(cb,cc.toLowerCase());}b5=b3.attributes;b6=[];b7=[];b8=[];for(b9=0,b_=b5.length-1;b9<=b_;b9++){b$=b5.item(b9);U.StartsWith(b$.nodeName,"ws-on")&&b$.nodeName!=="ws-onafterrender"&&b$.nodeName!=="ws-on"?(b6.push(b$.nodeName),b7.push(V.string(b$.nodeName,{$:1,$0:"ws-on".length},null)+":"+b$.nodeValue.toLowerCase())):!U.StartsWith(b$.nodeName,"ws-")&&(new a.RegExp(_9.TextHoleRE())).test(b$.nodeValue)?(b$.nodeValue=(ca=new a.RegExp(_9.TextHoleRE(),"g"),b$.nodeValue.replace(ca,function(cb,cc){return"${"+cc.toLowerCase()+"}";})),b8.push(b$.nodeName)):void 0;}!(b7.length==0)?b3.setAttribute("ws-on",U.concat(" ",b7)):void 0;!(b8.length==0)?b3.setAttribute("ws-attr-holes",U.concat(" ",b8)):void 0;b4("ws-hole");b4("ws-replace");b4("ws-attr");b4("ws-onafterrender");b4("ws-var");G.iter(function(cb){b3.removeAttribute(cb);},b6);};H.insufficient=function(){return w.FailWith("The input sequence has an insufficient number of elements.");};bB=bg.KeyCollection=bY.Class({GetEnumerator$1:function(){return _5.Get(H.map(function(b3){return b3.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},l,bB);bB.New=bY.Ctor(function(b3){l.New.call(this);this.d=b3;},bB);bD.New=function(b3,b4){return{PreviousNodes:b3,Top:b4};};bE.get_Empty=function(){return{$:0,$0:new bn.New$3()};};bE.FindAll=function(b3){var b4;function b5(b7){if(b7!=null&&b7.$==0){b5(b7.$0);b5(b7.$1);}else if(b7!=null&&b7.$==1)b6(b7.$0);else if(b7!=null&&b7.$==2)b5(b7.$0.Current);else if(b7!=null&&b7.$==6)G.iter(b6,b7.$0.Holes);}function b6(b7){b4.push(b7);b5(b7.Children);}b4=[];b5(b3);return{$:0,$0:new bn.New$2(b4)};};bE.Filter=function(b3,b4){return{$:0,$0:bP.Filter(b3,b4.$0)};};bE.Except=function(b3,b4){return{$:0,$0:bP.Except(b3.$0,b4.$0)};};bE.ToArray=function(b3){return bP.ToArray(b3.$0);};bE.Intersect=function(b3,b4){return{$:0,$0:bP.Intersect(b3.$0,b4.$0)};};bF.UseAnimations=function(){bL.$cctor();return bL.UseAnimations;};bF.Actions=function(b3){return bF.ConcatActions(G.choose(function(b4){return b4.$==1?{$:1,$0:b4.$0}:null;},bM.ToArray(b3.$0)));};bF.Finalize=function(b3){G.iter(function(b4){if(b4.$==0)b4.$0();},bM.ToArray(b3.$0));};bF.ConcatActions=function(b3){var b4,b5,b6,b7;b4=bu.ofSeqNonCopying(b3);b5=G.length(b4);return b5===0?bF.Const():b5===1?G.get(b4,0):(b6=H.max(H.map(function(b8){return b8.Duration;},b4)),(b7=G.map(function(b8){return bF.Prolong(b6,b8);},b4),bF.Def(b6,function(b8){G.iter(function(b9){b9.Compute(b8);},b7);})));};bF.List=function(b3){return b3.$0;};bF.Const=function(b3){return bF.Def(0,function(){return b3;});};bF.Def=function(b3,b4){return{Compute:b4,Duration:b3};};bF.Prolong=function(b3,b4){var b5,b6,b7;b5=b4.Compute;b6=b4.Duration;b7=bT.Create(function(){return b4.Compute(b4.Duration);});return{Compute:function(b8){return b8>=b6?b7.f():b5(b8);},Duration:b3};};bG.$cctor=function(){bG.$cctor=a.ignore;bG.BatchUpdatesEnabled=true;};bH=t.Updates=bY.Class({},null,bH);bH.Create=function(b3){var b4;b4=null;b4=bH.New(b3,null,function(){var b5;b5=b4.s;return b5===null?(b5=R.Copy(b4.c()),b4.s=b5,R.WhenObsoleteRun(b5,function(){b4.s=null;}),b5):b5;});return b4;};bH.New=function(b3,b4,b5){return new bH({c:b3,s:b4,v:b5});};bJ.New=function(b3,b4,b5,b6){var b7;b7={DynElem:b3,DynFlags:b4,DynNodes:b5};bY.SetOptional(b7,"OnAfterRender",b6);return b7;};bK.Clear=function(b3){b3.splice(0,G.length(b3));};bL.$cctor=function(){bL.$cctor=a.ignore;bL.CubicInOut=bO.Custom(function(b3){var b4;b4=b3*b3;return 3*b4-2*(b4*b3);});bL.UseAnimations=true;};bM.Append=function(b3,b4){return b3.$==0?b4:b4.$==0?b3:{$:2,$0:b3,$1:b4};};bM.ToArray=function(b3){var b4;function b5(b6){if(b6.$==1)b4.push(b6.$0);else if(b6.$==2){b5(b6.$0);b5(b6.$1);}else if(b6.$==3)G.iter(function(b7){b4.push(b7);},b6.$0);}b4=[];b5(b3);return b4.slice(0);};bM.Concat=function(b3){var b4;b4=bu.ofSeqNonCopying(b3);return bu.TreeReduce(bM.Empty(),bM.Append,b4);};bM.Empty=function(){bU.$cctor();return bU.Empty;};bN.$cctor=function(){bN.$cctor=a.ignore;bN.EmptyAttr=null;};bO=t.Easing=bY.Class({},l,bO);bO.Custom=function(b3){return new bO.New(b3);};bO.New=bY.Ctor(function(b3){l.New.call(this);this.transformTime=b3;},bO);bP.Filter=function(b3,b4){return new bn.New$2(G.filter(b3,bP.ToArray(b4)));};bP.Except=function(b3,b4){var b5;b5=new bn.New$2(bP.ToArray(b4));b5.ExceptWith(bP.ToArray(b3));return b5;};bP.ToArray=function(b3){var b4;b4=G.create(b3.get_Count(),void 0);b3.CopyTo(b4);return b4;};bP.Intersect=function(b3,b4){var b5;b5=new bn.New$2(bP.ToArray(b3));b5.IntersectWith(bP.ToArray(b4));return b5;};bQ.concat=function(b3){var b4,b5;b4=[];for(var b6 in b3)b4.push.apply(b4,b3[b6]);return b4;};bR=t.DynamicAttrNode=bY.Class({NChanged:function(){return this.updates;},NGetExitAnim:function(b3){return bo.get_Empty();},NGetEnterAnim:function(b3){return bo.get_Empty();},NGetChangeAnim:function(b3){return bo.get_Empty();},NSync:function(b3){if(this.dirty){(this.push(b3))(this.value);this.dirty=false;}}},l,bR);bR.New=bY.Ctor(function(b3,b4){var b5;b5=this;l.New.call(this);this.push=b4;this.value=void 0;this.dirty=false;this.updates=v.Map(function(b6){b5.value=b6;b5.dirty=true;},b3);},bR);bS.Children=function(b3,b4){var b5,b6,b7;if(b4!=null&&b4.$==1){b7=[];b5=b4.$0[0].nextSibling;while(b5!==b4.$0[1]){b7.push(b5);b5=b5.nextSibling;}return{$:0,$0:b7};}else return{$:0,$0:G.init(b3.childNodes.length,(b6=b3.childNodes,function(b8){return b6[b8];}))};};bS.Except=function(b3,b4){var b5;b5=b3.$0;return{$:0,$0:G.filter(function(b6){return G.forall(function(b7){return!(b6===b7);},b5);},b4.$0)};};bS.Iter=function(b3,b4){G.iter(b3,b4.$0);};bS.DocChildren=function(b3){var b4;function b5(b6){if(b6!=null&&b6.$==2)b5(b6.$0.Current);else if(b6!=null&&b6.$==1)b4.push(b6.$0.El);else if(b6==null);else if(b6!=null&&b6.$==5)b4.push(b6.$0);else if(b6!=null&&b6.$==4)b4.push(b6.$0.Text);else if(b6!=null&&b6.$==6)G.iter(function(b7){if(b7==null||b7.constructor===_4)b5(b7);else b4.push(b7);},b6.$0.Els);else{b5(b6.$0);b5(b6.$1);}}b4=[];b5(b3.Children);return{$:0,$0:bu.ofSeqNonCopying(b4)};};bT.Create=function(b3){return bW.New(false,b3,bT.forceLazy);};bT.forceLazy=function(){var b3;b3=this.v();this.c=true;this.v=b3;this.f=bT.cachedLazy;return b3;};bT.cachedLazy=function(){return this.v;};bU.$cctor=function(){bU.$cctor=a.ignore;bU.Empty={$:0};};bW.New=function(b3,b4,b5){return{c:b3,v:b4,f:b5};};bY.OnLoad(function(){p.main();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
//# sourceMappingURL=testing.min.map
