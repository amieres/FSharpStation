function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
var JSON;JSON||(JSON={}),function(){"use strict";function i(n){return n<10?"0"+n:n}function f(n){return o.lastIndex=0,o.test(n)?'"'+n.replace(o,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function r(i,e){var s,l,h,a,v=n,c,o=e[i];o&&typeof o=="object"&&typeof o.toJSON=="function"&&(o=o.toJSON(i));typeof t=="function"&&(o=t.call(e,i,o));switch(typeof o){case"string":return f(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(n+=u,c=[],Object.prototype.toString.apply(o)==="[object Array]"){for(a=o.length,s=0;s<a;s+=1)c[s]=r(s,o)||"null";return h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+v+"]":"["+c.join(",")+"]",n=v,h}if(t&&typeof t=="object")for(a=t.length,s=0;s<a;s+=1)typeof t[s]=="string"&&(l=t[s],h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));else for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));return h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+v+"}":"{"+c.join(",")+"}",n=v,h}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,u,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(n="",u="",typeof e=="number")for(o=0;o<e;o+=1)u+=" ";else typeof e=="string"&&(u=e);if(t=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return r("",{"":i})});typeof JSON.parse!="function"&&(JSON.parse=function(n,t){function r(n,i){var f,e,u=n[i];if(u&&typeof u=="object")for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&(e=r(u,f),e!==undefined?u[f]=e:delete u[f]);return t.call(n,i,u)}var i;if(n=String(n),e.lastIndex=0,e.test(n)&&(n=n.replace(e,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?r({"":i},""):i;throw new SyntaxError("JSON.parse");})}();
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh;a=self;b=a.FsRoot=a.FsRoot||{};c=b.ProzperClient=b.ProzperClient||{};d=c.MainProgram=c.MainProgram||{};e=a.WebSharper=a.WebSharper||{};f=e.Obj=e.Obj||{};g=e.UI=e.UI||{};h=g.Var$1=g.Var$1||{};i=b.LibraryJS=b.LibraryJS||{};j=i.AppFramework=i.AppFramework||{};k=j.PlugIn=j.PlugIn||{};l=c.ModeloUI=c.ModeloUI||{};m=l.Aliado=l.Aliado||{};n=e.Operators=e.Operators||{};o=g.View=g.View||{};p=g.Var=g.Var||{};q=e.Lazy=e.Lazy||{};r=l.RenderAliados=l.RenderAliados||{};s=l.RenderAliado=l.RenderAliado||{};t=l.FormaRegistro=l.FormaRegistro||{};u=l.FormaDatos=l.FormaDatos||{};v=l.FormaContactos=l.FormaContactos||{};w=l.FormaFormasPago=l.FormaFormasPago||{};x=l.ReporteConsolidado=l.ReporteConsolidado||{};y=l.TablaPagos=l.TablaPagos||{};z=l.ListaDocs=l.ListaDocs||{};A=l.FormaAutorizacion=l.FormaAutorizacion||{};B=a.EventTarget;C=a.Node;D=e.JavaScript=e.JavaScript||{};E=D.JS=D.JS||{};F=e.Unchecked=e.Unchecked||{};G=i.LayoutEngineModule=i.LayoutEngineModule||{};H=e.Option=e.Option||{};I=b.Prozper=b.Prozper||{};J=I.TypesV0=I.TypesV0||{};K=J.Aliado=J.Aliado||{};L=I.Aliado=I.Aliado||{};M=g.Templating=g.Templating||{};N=M.Runtime=M.Runtime||{};O=N.Server=N.Server||{};P=O.TemplateInstance=O.TemplateInstance||{};Q=e.Arrays=e.Arrays||{};R=O.ProviderBuilder=O.ProviderBuilder||{};S=O.Handler=O.Handler||{};T=a.testing_Templates=a.testing_Templates||{};U=a.testing_GeneratedPrintf=a.testing_GeneratedPrintf||{};V=a.testing_Router=a.testing_Router||{};W=g.Doc=g.Doc||{};X=l.Rpc=l.Rpc||{};Y=J.IdAliado=J.IdAliado||{};Z=J.Modelo=J.Modelo||{};_0=g.ConcreteVar=g.ConcreteVar||{};_1=g.Snap=g.Snap||{};_2=a.StartupCode$testing$testing=a.StartupCode$testing$testing||{};_3=g.ListModel=g.ListModel||{};_4=j.PlugInVar=j.PlugInVar||{};_5=j.PlugInView=j.PlugInView||{};_6=j.PlugInDoc=j.PlugInDoc||{};_7=D.Pervasives=D.Pervasives||{};_8=e.LazyExtensionsProxy=e.LazyExtensionsProxy||{};_9=_8.LazyRecord=_8.LazyRecord||{};_=a.ProzperServer_GeneratedPrintf=a.ProzperServer_GeneratedPrintf||{};$=a.ProzperServer_JsonDecoder=a.ProzperServer_JsonDecoder||{};ba=a.ProzperServer_JsonEncoder=a.ProzperServer_JsonEncoder||{};bb=e.Seq=e.Seq||{};bc=b.Library=b.Library||{};bd=bc.SortWith=bc.SortWith||{};be=L.Buscar=L.Buscar||{};bf=e.Collections=e.Collections||{};bg=bf.FSharpSet=bf.FSharpSet||{};bh=bf.Set=bf.Set||{};bi=e.Strings=e.Strings||{};bj=J.CorreoElectronico=J.CorreoElectronico||{};bk=l.DatosPersonales=l.DatosPersonales||{};bl=l.CorreoElectronico=l.CorreoElectronico||{};bm=l.Telefono=l.Telefono||{};bn=l.Direccion=l.Direccion||{};bo=bc.Monads=bc.Monads||{};bp=bo.AsyncResultMAutoOpen=bo.AsyncResultMAutoOpen||{};bq=bo.AsyncResultM=bo.AsyncResultM||{};br=bq.AsyncResultMBuilder=bq.AsyncResultMBuilder||{};bs=l.Refresh=l.Refresh||{};bt=a.System=a.System||{};bu=bt.Guid=bt.Guid||{};bv=bc.ResultMessage=bc.ResultMessage||{};bw=x.Fila=x.Fila||{};bx=l.VariousUI=l.VariousUI||{};by=J.StatusAliado=J.StatusAliado||{};bz=e.Utils=e.Utils||{};bA=i.Date=i.Date||{};bB=e.List=e.List||{};bC=J.CuentaBancaria=J.CuentaBancaria||{};bD=J.RoutingNumber=J.RoutingNumber||{};bE=J.NumeroCuenta=J.NumeroCuenta||{};bF=J.FormaPago=J.FormaPago||{};bG=bo.ResultM=bo.ResultM||{};bH=J.PremisasCalculo=J.PremisasCalculo||{};bI=bc.ParseO=bc.ParseO||{};bJ=j.PlugInAction=j.PlugInAction||{};bK=c.Msal=c.Msal||{};bL=I.Rpc=I.Rpc||{};bM=e.Remoting=e.Remoting||{};bN=bM.AjaxRemotingProvider=bM.AjaxRemotingProvider||{};bO=a.WindowOrWorkerGlobalScope;bP=i.LayoutEngine=i.LayoutEngine||{};bQ=a.StartupCode$LayoutEngine$LayoutEngine=a.StartupCode$LayoutEngine$LayoutEngine||{};bR=J.IdForAuthorize=J.IdForAuthorize||{};bS=J.DatosPersonales=J.DatosPersonales||{};bT=J.DiaPago=J.DiaPago||{};bU=J.TipoAliado=J.TipoAliado||{};bV=e.Numeric=e.Numeric||{};bW=a.StartupCode$ProzperServer$ProzperServer=a.StartupCode$ProzperServer$ProzperServer||{};bX=bf.List=bf.List||{};bY=bf.Dictionary=bf.Dictionary||{};bZ=bf.HashSet=bf.HashSet||{};b0=N.Client=N.Client||{};b1=g.Abbrev=g.Abbrev||{};b2=b1.Async=b1.Async||{};b3=b1.Fresh=b1.Fresh||{};b4=bc.String=bc.String||{};b5=e.Slice=e.Slice||{};b6=i.Msal=i.Msal||{};b7=b6.Policy=b6.Policy||{};b8=b6.UserAgentApplication=b6.UserAgentApplication||{};b9=l.EndPoint=l.EndPoint||{};b_=g.Router=g.Router||{};b$=g.ViewBuilder=g.ViewBuilder||{};ca=J.IdPayment=J.IdPayment||{};cb=j.PlugInQuery=j.PlugInQuery||{};cc=bf.FSharpMap=bf.FSharpMap||{};cd=e.Enumerator=e.Enumerator||{};ce=cd.T=cd.T||{};cf=bf.BalancedTree=bf.BalancedTree||{};cg=bB.T=bB.T||{};ch=J.Genero=J.Genero||{};ci=J.Pais=J.Pais||{};cj=J.Telefono=J.Telefono||{};ck=J.TipoTelefono=J.TipoTelefono||{};cl=J.Direccion=J.Direccion||{};cm=J.TipoDireccion=J.TipoDireccion||{};cn=J.Estado=J.Estado||{};co=J.ZonaPostal=J.ZonaPostal||{};cp=bc.Array=bc.Array||{};cq=g.HtmlModule=g.HtmlModule||{};cr=cq.attr=cq.attr||{};cs=J.NumeroTarjeta=J.NumeroTarjeta||{};ct=J.TarjetaCredito=J.TarjetaCredito||{};cu=l.CuentaBancaria=l.CuentaBancaria||{};cv=l.TarjetaCredito=l.TarjetaCredito||{};cw=e.Result=e.Result||{};cx=a.Object;cy=g.FromView=g.FromView||{};cz=g.Array=g.Array||{};cA=J.TipoCuenta=J.TipoCuenta||{};cB=e.Concurrency=e.Concurrency||{};cC=bo.Result=bo.Result||{};cD=a.Blob;cE=g.AttrModule=g.AttrModule||{};cF=i.WebComponent=i.WebComponent||{};cG=cF.WcTabStrip=cF.WcTabStrip||{};cH=cG.WcTabStripT=cG.WcTabStripT||{};cI=a.LayoutEngine_Templates=a.LayoutEngine_Templates||{};cJ=a.GeneratedPrintf=a.GeneratedPrintf||{};cK=a.LayoutEngine_GeneratedPrintf=a.LayoutEngine_GeneratedPrintf||{};cL=cF.WcSplitter=cF.WcSplitter||{};cM=cC.Builder=cC.Builder||{};cN=bG.Builder=bG.Builder||{};cO=bc.Serializer=bc.Serializer||{};cP=J.Expiracion=J.Expiracion||{};cQ=J.TipoTarjeta=J.TipoTarjeta||{};cR=bf.DictionaryUtil=bf.DictionaryUtil||{};cS=g.AttrProxy=g.AttrProxy||{};cT=g.CheckedInput=g.CheckedInput||{};cU=g.Client=g.Client||{};cV=cU.Templates=cU.Templates||{};cW=i.Pojo=i.Pojo||{};cX=e.Sitelets=e.Sitelets||{};cY=cX.RouterOperators=cX.RouterOperators||{};cZ=cX.RouterModule=cX.RouterModule||{};c0=cX.Route=cX.Route||{};c1=a.StartupCode$WebSharper_Main$Remoting=a.StartupCode$WebSharper_Main$Remoting||{};c2=bf.MapUtil=bf.MapUtil||{};c3=cf.Tree=cf.Tree||{};c4=J.IdAddress=J.IdAddress||{};c5=g.Docs=g.Docs||{};c6=cB.AsyncBody=cB.AsyncBody||{};c7=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};c8=cB.CT=cB.CT||{};c9=e.DateUtil=e.DateUtil||{};c_=G.Layout=G.Layout||{};c$=g.Attrs=g.Attrs||{};da=g.DomUtility=g.DomUtility||{};db=cL.WcSplitterT=cL.WcSplitterT||{};dc=g.DocElemNode=g.DocElemNode||{};dd=a.CharacterData;de=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};df=cX.Router=cX.Router||{};dg=cX.List=cX.List||{};dh=bM.XhrProvider=bM.XhrProvider||{};di=e.TaskCompletionSource=e.TaskCompletionSource||{};dj=bf.Pair=bf.Pair||{};dk=e.Json=e.Json||{};dl=cB.Scheduler=cB.Scheduler||{};dm=e.CancellationTokenSource=e.CancellationTokenSource||{};dn=e.ClientSideJson=e.ClientSideJson||{};_do=dn.Provider=dn.Provider||{};dp=G.Measures=G.Measures||{};dq=i.Hoverable=i.Hoverable||{};dr=dq.Hoverable=dq.Hoverable||{};ds=g.Storage=g.Storage||{};dt=a.Event;du=a.UIEvent;dv=i.ResizeObserver=i.ResizeObserver||{};dw=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};dx=g.Elt=g.Elt||{};dy=cU.Attrs=cU.Attrs||{};dz=dy.Dyn=dy.Dyn||{};dA=cV.Prepare=cV.Prepare||{};dB=g.An=g.An||{};dC=cU.Settings=cU.Settings||{};dD=b1.Mailbox=b1.Mailbox||{};dE=a.Error;dF=e.OperationCanceledException=e.OperationCanceledException||{};dG=bf.HashSetUtil=bf.HashSetUtil||{};dH=a.StartupCode$WebSharper_Sitelets$Router=a.StartupCode$WebSharper_Sitelets$Router||{};dI=bf.Map=bf.Map||{};dJ=e.Task=e.Task||{};dK=e.Task1=e.Task1||{};dL=e.AggregateException=e.AggregateException||{};dM=e.Queue=e.Queue||{};dN=g.DynamicAttrNode=g.DynamicAttrNode||{};dO=ds.ArrayStorage=ds.ArrayStorage||{};dP=bf.KeyCollection=bf.KeyCollection||{};dQ=g.Updates=g.Updates||{};dR=cU.Docs=cU.Docs||{};dS=dR.RunState=dR.RunState||{};dT=dR.NodeSet=dR.NodeSet||{};dU=g.Anims=g.Anims||{};dV=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};dW=e.Char=e.Char||{};dX=cX.StringEncoding=cX.StringEncoding||{};dY=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};dZ=D.Promise=D.Promise||{};d0=e.FormatException=e.FormatException||{};d1=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};d2=g.String=g.String||{};d3=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};d4=g.AppendList=g.AppendList||{};d5=cX.PathUtil=cX.PathUtil||{};d6=g.Easing=g.Easing||{};d7=b1.HashSet=b1.HashSet||{};d8=D.NonStandardPromiseRejectionException=D.NonStandardPromiseRejectionException||{};d9=dR.DomNodes=dR.DomNodes||{};d_=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};d$=a.IntelliFactory;ea=d$&&d$.Runtime;eb=a.Math;ec=a.jQuery;ed=a.Date;ee=a.console;ef=a.JSON;eg=a.Reflect;eh=a.String;d.mainProgram=function(){var ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA;ei=h.Create$1(d.appName());ej=o.Map(function(eB){return d.mesToString(eB.periodoActual);},l.modeloV().get_View());ek=o.Map(function(eB){return a.String(eB.anoActual);},l.modeloV().get_View());el=o.Map(function(eB){return L.nombre2(eB.datosPersonales);},l.aliadoW());em=o.Map(function(eB){return eB.id.get_Id();},l.aliadoW());en=o.Map(function(eB){return a.String(eB.status);},l.aliadoW());eo=o.Map(function(eB){return a.String(eB.comision);},l.aliadoW());ep=o.Map(function(eB){return a.String(eB.nReferidos);},l.aliadoW());j.addPlugIn(k.New(d.appName(),[j.newVar("title",ei),j.newVar("contentVar",l.contentVar()),j.newVar("invitaciones",l.invitacionesV()),j.newVar("influencer",d.influencerV())],[j.newViw("mesActual",ej),j.newViw("anoActual",ek),j.newViw("aliado",el),j.newViw("idAliado",em),j.newViw("status",en),j.newViw("comision",eo),j.newViw("datos",ep),j.newViw("emailsInvitar",l.emailsInvitarW()),j.newViw("invitacionesDisabled",l.invitacionesDisabledW()),j.newViw("VideoW",o.Map(function(eB){return eB.$==5?eB.$0:"";},l.endPointV().get_View())),j.newViw("influencerClassW",d.influencerClassW())],[j.newDoc("Aliados",q.Create(r.aliados)),j.newDoc("Aliado",q.Create(s.aliado)),j.newDoc("Calculo",q.Create(s.calculo)),j.newDoc("FormaRegistro",q.Create(t.formaDoc)),j.newDoc("FormaDatos",q.Create(u.formaDoc)),j.newDoc("FormaContactos",q.Create(v.formaDoc)),j.newDoc("FormaFormasPago",q.Create(w.formaDoc)),j.newDoc("contentDoc",q.Create(d.getContentDoc)),j.newDoc("ReporteConsolidado",q.Create(x.consolidado)),j.newDoc("TablaPagos",q.Create(y.comisiones)),j.newDoc("ListaDocs",q.Create(z.listaDocs)),j.newDoc("FormaAutorizacion",q.Create(A.formaAutorizacion))],[j.newAct("Logout",function(){d.logout();}),j.newAct("LogIn",function(){d.login();}),j.newAct("enviarInvitaciones",function(){d.enviarCorreosInvitacion();}),j.newAct("gotoInfluencer",function(){d.gotoInfluencer();})],[]));G.addLayout((eq=(er=self.document.getElementById("GlobalLayout"),F.Equals(er,null)?"\r\n                        menuEditor layout\r\n                        |          main\r\n        \r\n                        main div \"\"\r\n                        :                 template  header     \"id=header\"           brand  brandV   logout \"@{Prozper.Logout}\" afiliado \"@{Prozper.aliado}\"\r\n                        :                 Doc       Prozper.contentDoc\r\n                        :                 template  sidedrawer \"id=sidedrawer\"       brand  brandV   idaliado \"@{Prozper.idAliado}\" \r\n                        :                 template  footer     \"id=footer\"           brand  brandV   madeby \"CIPHER Bsc\" madebylink \"www.cipherbsc.com\"\r\n         \r\n                        mainContent          template  content    \"id=content-wrapper\"  content aliados                  fecha \"@{Prozper.mesActual} @{Prozper.anoActual}\" idaliado \"@{Prozper.aliado}\"\r\n                        cntFormaRegistro     template  content    \"id=content-wrapper\"  content Prozper.FormaRegistro    titulo \"Referido por: @{Prozper.aliado}\"  \r\n                        cntFormaDatos        template  content    \"id=content-wrapper\"  content Prozper.FormaDatos       titulo \" \"\r\n                        cntFormaContactos    template  content    \"id=content-wrapper\"  content Prozper.FormaContactos   titulo \" \" \r\n                        cntFormaFormasPago   template  content    \"id=content-wrapper\"  content Prozper.FormaFormasPago  titulo \" \" \r\n                        cntFormaCuentas      template  content    \"id=content-wrapper\"  content ProzperLyt.FormaCuentas  titulo \" \"  \r\n                        cntFormaDocumentos   template  content    \"id=content-wrapper\"  content Prozper.FormaDocumentos  titulo \" \"  \r\n                        cntFormaNoUser       template  content    \"id=content-wrapper\"  content botonLogin               titulo \" \"  \r\n                        cntFormaInvitaciones template  content    \"id=content-wrapper\"  content invitaciones             titulo \" \"  \r\n        \r\n                        aliados          div       \"class=row\"\r\n                        :                div       \"class=mui-col-md-6\"\r\n                        ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" Prozper.Aliados\r\n                        :                div       \"class=mui-col-md-6\"\r\n                        ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" Aliado Comisiones\r\n                        brandV           Var       \"Prozper\"\r\n        \r\n                        botonLogin       div       \"class=row\"\r\n                        :                div       \"class=mui-col-md-6\"\r\n                        ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" \r\n                        :::              button    Prozper.LogIn \"class=mui-btn mui-btn--primary\" \"Ingresar al Sistema\"\r\n        \r\n                        invitaciones     div       \"class=row\"\r\n                        :                div       \"class=mui-col-md-6 mui-col-md-offset-1\"\r\n                        ::               div       \"class=mui-panel mui--z5 scrollbar; max-height:550px ; overflow:auto\" \r\n                        :::              h1        \"\" \"Enviar Invitaciones\"\r\n                        :::              textarea  Prozper.invitaciones  \"width:100% ; height:30rem; placeholder=Copie aqui las direcciones de correo electronico\" \r\n                        :                div       \"white-space: pre-wrap\" \"@{Prozper.emailsInvitar}\"\r\n                        :                button    Prozper.enviarInvitaciones \"class=mui-btn mui-btn--raised mui-btn--primary;@{Prozper.invitacionesDisabled}\" \"Enviar\"\r\n        \r\n                        Aliado           div       \"class=mui-col-md-8\"\r\n                        :                Doc Prozper.Aliado\r\n        \r\n                        Comisiones       template    tablacomisiones \"class=mui-col-md-3\"  tbody filasComisiones\r\n                        filasComisiones  concat      \"\"\r\n                        :                template    filacomision    \"\"  periodo \"Ene 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Feb 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Mar 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Abr 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"May 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Jun 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Jul 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Ago 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Sep 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Oct 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Nov 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Dec 2018\" comision \"$1,000\"\r\n                \r\n                        menuEditorx      horizontal  65          menuLogo                  editorMessages\r\n                        double           horizontal  0-50-100    AppFramework.AppFwkClient menuEditor\r\n                        menuLogo         vertical    350         logo                      menu\r\n                        logo             span       \"margin:0;   color:gray; font-size: 55px; font-weight:530\" \"StackOverflow\"\r\n                        editorMessages   horizontal  10-83-100   editorButtons             messages\r\n                        messages         vertical    0-50-100    messagesLeft              messagesRight\r\n                        editorButtons    vertical    150 buttons snippetsSnippet \r\n                        snippetsSnippet  vertical    0-20-100    snippets                  editorProperties\r\n                        snippets         horizontal  20          \"@{FSharpStation.CurrentPath}\" tblDimensions2\r\n                        editorProperties vertical    0-100-100   snippet                   properties\r\n                        properties       div        \"\"           FSharpStation.Properties\r\n                        snippet          horizontal  35          Name                      FSharpStation.editor\r\n                        menu             span       \"display: grid; grid-template-columns: 30% 20% 20% 10%; grid-gap: 25px; margin:5px; grid-template-rows:50px\" inpServer btnLoad btnSaveAs\r\n                         \r\n                        severalTabs      wcomp-tabstrip  \"\" \r\n                        :                div \"tabname=Dimensions\" \r\n                        ::               div \"\" btnAddDimension RuleEditor.Dimensions\r\n                        :                div \"tabname=Cubes\"\r\n                        :                div \"tabname=Global Definitions\" RuleEditor.globalDefs\r\n                \r\n                        btnSaveAs        button RuleEditor.SaveAs         \"class=btn @{RuleEditor.SaveNeeded}\" \"Save as...    \"\r\n                        btnAddDimension  button RuleEditor.AddDimension      \"\"                  \"new dim...\"\r\n                        btnDeleteSnippet button FSharpStation.RemoveSnippet  \"\"                  \"Delete Snippet\"\r\n                        btnIndentIn      button FSharpStation.IndentIn       \"\"                  \"Indent In  >> \"\r\n                        btnIndentOut     button FSharpStation.IndentOut      \"\"                  \"Indent Out << \"\r\n                        btnRunFS         button FSharpStation.RunFS          \"\"                  \"Run F#        \"\r\n                        btnAbortFsi      button FSharpStation.AbortFsi       \"\"                  \"Abort Fsi     \"\r\n                \r\n                        messagesLeft     wcomp-tabstrip                      \"\"                  Output FsCode\r\n                        messagesRight    wcomp-tabstrip                      \"\"                  Parser\r\n                \r\n                        buttons          div \"overflow: hidden; display: grid; grid-template-columns: 100%; grid-template-rows: repeat(15, calc(100% / 15)); bxackground-color: #eee; box-sizing: border-box; padding : 5px; grid-gap: 5px; margin-right: 21px\"\r\n                        :                button RuleEditor.AddCalculation    \"\"                 \"Add Calculation\"\r\n                        :                button RuleEditor.AddTotal          \"\"                 \"Add Total\"\r\n                        :                Doc       none x\r\n                        :                button RuleEditor.IndentIn          \"\"                  \"Indent In  >> \"\r\n                        :                button RuleEditor.IndentOut         \"\"                  \"Indent Out << \"\r\n                \r\n                        Output           textarea  RuleEditor.Output         \"tabname=Output ; placeholder=Output messages ; spellcheck=false\" \r\n                        FsCode           textarea  RuleEditor.CodeFS         \"tabname=F# Code; placeholder=F# Code         ; spellcheck=false\" \r\n                        Parser           textarea  RuleEditor.Parser         \"tabname=Parser ; placeholder=Parser messages; dblclick=@{FSharpStation.JumpTo} ; spellcheck=false\" \r\n                        Name             Doc       InputLabel                \"\"     \"Name:\"        FSharpStation.SnippetName\r\n                        inpServer        Doc       InputLabel                \"\"     \"Server:\"      RuleEditor.Server\r\n                        btnLoad          Doc       InputFile                 \"\"     \"Load File...\" RuleEditor.LoadFile  FileName\r\n                        btnImport        Doc       InputFile                 \"\"     \"Import...\"    FSharpStation.Import    \"\"\r\n                        FileName         div                                 \"class=form-control\"  RuleEditor.fileName\r\n        \r\n                   ":er.textContent),G.newLyt(d.layoutName(),eq)));es=(et=null,(eu=d.layoutName(),et==null?eu:et.$0));j.mainDocV().Set(es);W.BindView(function(eB){var eC,eD,eE;return F.Equals(eB.id,L.empty().id)?(eC=R.Make(),(eD=S.CompleteHoles(eC.k,eC.h,[]),(eE=new P.New(eD[1],T.opcionesadministrador(eD[0])),(eC.i=eE,eE)))).get_Doc():W.get_Empty();},l.aliadoW());ev=(ew=(ex=d.getDocView(d.layoutName(),"headerCenter"),(ey=d.getMenuDoc(),(ez=d.getContentDoc(),R.Make().WithHole({$:0,$0:"maincontent",$1:ez})).WithHole({$:0,$0:"menu",$1:ey})).WithHole({$:0,$0:"headercenter",$1:ex})),ew.WithHole(S.EventQ2(ew.k,"logout",function(){return ew.i;},function(){d.logout();}))).WithHole({$:2,$0:"cortina",$1:o.Map(function(eB){return eB>0?"mui-overlay":"not-mui-overlay";},X.llamadas().get_View())});eA=S.CompleteHoles(ev.k,ev.h,[]);ev.i=new P.New(eA[1],cV.RunFullDocTemplate(eA[0]));o.Sink(function(eB){self.document.title=eB;},ei.get_View());};d.appName=function(){_2.$cctor();return _2.appName;};d.influencerV=function(){_2.$cctor();return _2.influencerV;};d.influencerClassW=function(){_2.$cctor();return _2.influencerClassW;};d.getContentDoc=function(){return W.EmbedView(o.Map(function(ei){return d.getDoc(d.appName(),ei);},l.contentVar().get_View()));};d.logout=function(){bK.logout();};d.login=function(){bK.logout();};d.enviarCorreosInvitacion=function(){var ei;bq.iterA(function(ej){bc.print(ej);},a.ignore,(ei=bp.asyncResultM(),ei.Run(ei.Delay(function(){return bp["AsyncResultMBuilder.Bind"](ei,o.GetAsync(l.emailsInvitarW()),function(ej){return bp["AsyncResultMBuilder.Bind"](ei,o.GetAsync(o.Map(function(ek){return ek.id.get_Id();},l.aliadoW())),function(ek){var el;el=Q.filter(function(em){return bi.Trim(em)!=="";},bi.SplitChars(ej,["\n"],0));return ei.Bind$4(X.enviarCorreosInvitacion("Invitacion a Prozper",new Y({$:0,$0:ek}),el),function(){var em;em=Q.length(el);return em===0?(a.alert("Ningun correo valido ha sido encontrado"),ei.Zero()):em===1?(a.alert("Invitacion ha sido enviada"),ei.Zero()):(a.alert("Invitaciones han sido enviadas"),ei.Zero());});});});}))));};d.gotoInfluencer=function(){var ei;cB.Start((ei=null,cB.Delay(function(){return cB.Bind((new bN.New()).Async("ProzperServer:FsRoot.Prozper+Rpc.obtenerIdInfluyente:42009634",[d.influencerV().Get()]),function(ej){return bo.OkM(ej).$==0?(self.location.href="/Register/"+d.influencerV().Get(),cB.Zero()):(self.alert("Código inválido:"+d.influencerV().Get()),cB.Zero());});})),null);};d.layoutName=function(){_2.$cctor();return _2.layoutName;};d.getMenuDoc=function(){return W.EmbedView(o.Map2(function(ei,ej){var ek;ek=ei!=null&&ei.$==1?F.Equals(ej.id,L.empty().id)?"ProzperLyt.mnuAdministrador":"ProzperLyt.mnuUsuario":"ProzperLyt.mnuNoUsuario";return d.getDoc(d.appName(),ek);},bK.userO().get_View(),l.aliadoW()));};d.getDocView=function(ei,ej){return G.turnToView(function(){return d.getDoc(ei,ej);});};d.mesToString=function(ei){return ei===1?"Ene":ei===2?"Feb":ei===3?"Mar":ei===4?"Abr":ei===5?"May":ei===6?"Jun":ei===7?"Jul":ei===8?"Ago":ei===9?"Sep":ei===10?"Oct":ei===11?"Nov":ei===12?"Dic":"---";};d.getDoc=function(ei,ej){var ek,el,em;ek=(el=(em=((G.splitName())(ei))(ej),j.tryGetDoc(em[0],em[1])),el==null?null:{$:1,$0:G.getDocFinal(cg.Empty,el.$0)});return ek==null?G.errDoc((function(en){return function(eo){return en("Doc not found "+bz.toSafe(eo));};}(a.id))(ej)):ek.$0;};f=e.Obj=ea.Class({Equals:function(ei){return this===ei;},GetHashCode:function(){return -1;}},null,f);f.New=ea.Ctor(function(){},f);h=g.Var$1=ea.Class({},f,h);h.Create$1=function(ei){return new _0.New(false,_1.New({$:2,$0:ei,$1:[]}),ei);};h.Lens=function(ei,ej,ek){var el,em,en;el=b3.Id();em=o.Map(ej,ei.get_View());en=new p({Get:function(){return ej(ei.Get());},Set:function(eo){return ei.Update(function(ep){return ek(ep,eo);});},SetFinal:function(eo){return this.Set(eo);},Update:function(eo){return ei.Update(function(ep){return ek(ep,eo(ej(ep)));});},UpdateMaybe:function(eo){return ei.UpdateMaybe(function(ep){var eq;eq=eo(ej(ep));return eq==null?null:{$:1,$0:ek(ep,eq.$0)};});},get_View:function(){return em;},get_Id:function(){return el;}});p.New.call(en);return en;};h.Set=function(ei,ej){ei.Set(ej);};j.addPlugIn=function(ei){j.plugIns().Append(ei);j.mainDocV().Set(j.mainDocV().Get());};j.newVar=function(ei,ej){return _4.New(ei,ej);};j.newViw=function(ei,ej){return _5.New(ei,ej);};j.newDoc=function(ei,ej){return _6.New(ei,{$:0,$0:ej});};j.newAct=function(ei,ej){return bJ.New(ei,{$:0,$0:ej},o.Const(true));};j.mainDocV=function(){bQ.$cctor();return bQ.mainDocV;};j.plugIns=function(){bQ.$cctor();return bQ.plugIns;};j.newDocF=function(ei,ej){return _6.New(ei,ej);};j.tryGetDoc=function(ei,ej){var ek;ek=j.tryGetPlugIn(ei);return ek==null?null:Q.tryFind(function(el){return el.docName===ej;},ek.$0.plgDocs);};j.tryGetAct=function(ei,ej){var ek;ek=j.tryGetPlugIn(ei);return ek==null?null:Q.tryFind(function(el){return el.actName===ej;},ek.$0.plgActions);};j.callFunction=function(ei,ej,ek){if(ek.$==1)ek.$0(ei);else if(ek.$==2)(ek.$0(ei))(ej);else ek.$0();};j.tryGetVar=function(ei,ej){var ek;ek=j.tryGetPlugIn(ei);return ek==null?null:Q.tryFind(function(el){return el.varName===ej;},ek.$0.plgVars);};j.selectionPlugInO=function(){bQ.$cctor();return bQ.selectionPlugInO;};j.defaultPlugIn=function(){bQ.$cctor();return bQ.defaultPlugIn;};j.currentPlugInW=function(){bQ.$cctor();return bQ.currentPlugInW;};j.renderPlugIns=function(){return W.Flatten(j.plugIns().MapLens(function(ei){var ej,ek,el,em;return(ej=(ek=R.Make().WithHole({$:1,$0:"name",$1:ei}),ek.WithHole(S.EventQ2(ek.k,"select",function(){return ek.i;},function(){j.selectionPlugInO().Set({$:1,$0:ei});}))).WithHole({$:2,$0:"selected",$1:o.Map(function(en){return F.Equals(en,{$:1,$0:ei})?"selected":"";},j.selectionPlugInO().get_View())}),(el=S.CompleteHoles(ej.k,ej.h,[]),(em=new P.New(el[1],cI.tile(el[0])),(ej.i=em,em)))).get_Doc();}));};j.renderVars=function(){function ei(ek,el){return[ek.plgName,el.varName];}function ej(ek,el){var em,en,eo;return(em=R.Make().WithHole({$:1,$0:"name",$1:el.varName}).WithHole({$:8,$0:"value",$1:el.varVar}),(en=S.CompleteHoles(em.k,em.h,[["value",0]]),(eo=new P.New(en[1],cI.namevalueinput(en[0])),(em.i=eo,eo)))).get_Doc();}return W.ConvertBy(function(ek){return ei(ek[0],ek[1]);},function(ek){return ej(ek[0],ek[1]);},o.Map(function(ek){return bb.map(function(el){return[ek,el];},ek.plgVars);},j.currentPlugInW()));};j.renderViews=function(){function ei(ek,el){return[ek.plgName,el.viwName];}function ej(ek,el){var em,en,eo;return(em=R.Make().WithHole({$:1,$0:"name",$1:el.viwName}).WithHole({$:2,$0:"value",$1:el.viwView}),(en=S.CompleteHoles(em.k,em.h,[]),(eo=new P.New(en[1],cI.namevalue(en[0])),(em.i=eo,eo)))).get_Doc();}return W.ConvertBy(function(ek){return ei(ek[0],ek[1]);},function(ek){return ej(ek[0],ek[1]);},o.Map(function(ek){return bb.map(function(el){return[ek,el];},ek.plgViews);},j.currentPlugInW()));};j.renderDocs=function(){function ei(ek,el){return[ek.plgName,el.docName];}function ej(ek,el){var em,en,eo,ep,eq,er,es,et,eu,ev,ew;return(em=(en=(eo=el.docName+(ep=el.docDoc,ep.$==1?(eq=bi.concat(", ",bB.ofArray([ep.$1])),(function(ex){return function(ey){return ex("("+bz.toSafe(ey)+")");};}(a.id))(eq)):ep.$==2?(er=bi.concat(", ",bB.ofArray([ep.$1,ep.$2])),(function(ex){return function(ey){return ex("("+bz.toSafe(ey)+")");};}(a.id))(er)):ep.$==3?(es=bi.concat(", ",bB.ofArray([ep.$1,ep.$2,ep.$3])),(function(ex){return function(ey){return ex("("+bz.toSafe(ey)+")");};}(a.id))(es)):ep.$==4?(et=bi.concat(", ",bB.ofArray([ep.$1,ep.$2,ep.$3,ep.$4])),(function(ex){return function(ey){return ex("("+bz.toSafe(ey)+")");};}(a.id))(et)):ep.$==5?(eu=bi.concat(", ",bB.ofArray([ep.$1,ep.$2,ep.$3,ep.$4,ep.$5])),(function(ex){return function(ey){return ex("("+bz.toSafe(ey)+")");};}(a.id))(eu)):""),R.Make().WithHole({$:1,$0:"name",$1:eo})),en.WithHole(S.EventQ2(en.k,"select",function(){return en.i;},function(){o.Get(function(ex){j.mainDocV().Set(ex.plgName+"."+el.docName);},j.currentPlugInW());}))),(ev=S.CompleteHoles(em.k,em.h,[]),(ew=new P.New(ev[1],cI.tile(ev[0])),(em.i=ew,ew)))).get_Doc();}return W.ConvertBy(function(ek){return ei(ek[0],ek[1]);},function(ek){return ej(ek[0],ek[1]);},o.Map(function(ek){return bb.map(function(el){return[ek,el];},ek.plgDocs);},j.currentPlugInW()));};j.renderActions=function(){function ei(ek,el){return[ek.plgName,el.actName];}function ej(ek,el){var em,en,eo,ep;em=(en=el.actFunction,en.$==1?(eo=bi.concat(", ",bB.ofArray([en.$1])),(function(eq){return function(er){return eq("("+bz.toSafe(er)+")");};}(a.id))(eo)):en.$==2?(ep=bi.concat(", ",bB.ofArray([en.$1,en.$2])),(function(eq){return function(er){return eq("("+bz.toSafe(er)+")");};}(a.id))(ep)):"");return W.EmbedView(o.Map(function(eq){var er,es,et,eu,ev,ew,ex,ey;return eq?(er=(es=R.Make().WithHole({$:1,$0:"name",$1:el.actName+em}),es.WithHole(S.EventQ2(es.k,"click",function(){return es.i;},function(ez){j.callFunction(ez,null,el.actFunction);}))),(et=S.CompleteHoles(er.k,er.h,[]),(eu=new P.New(et[1],cI.action(et[0])),(er.i=eu,eu)))).get_Doc():(ev=(ew=R.Make().WithHole({$:1,$0:"name",$1:el.actName}),ew.WithHole(S.EventQ2(ew.k,"click",function(){return ew.i;},function(ez){j.callFunction(ez,null,el.actFunction);}))),(ex=S.CompleteHoles(ev.k,ev.h,[]),(ey=new P.New(ex[1],cI.actiondisabled(ex[0])),(ev.i=ey,ey)))).get_Doc();},el.actEnabled));}return W.ConvertBy(function(ek){return ei(ek[0],ek[1]);},function(ek){return ej(ek[0],ek[1]);},o.Map(function(ek){return bb.map(function(el){return[ek,el];},ek.plgActions);},j.currentPlugInW()));};j.renderQueries=function(){function ei(ek,el){return[ek.plgName,el.qryName];}function ej(ek,el){var em,en,eo,ep;return(em=(en=R.Make().WithHole({$:1,$0:"name",$1:el.qryName}),en.WithHole(S.EventQ2(en.k,"select",function(){return en.i;},function(){a.alert(el.qryFunction(null));}))),(eo=S.CompleteHoles(em.k,em.h,[]),(ep=new P.New(eo[1],cI.tile(eo[0])),(em.i=ep,ep)))).get_Doc();}return W.ConvertBy(function(ek){return ei(ek[0],ek[1]);},function(ek){return ej(ek[0],ek[1]);},o.Map(function(ek){return bb.map(function(el){return[ek,el];},ek.plgQueries);},j.currentPlugInW()));};j.newQry=function(ei,ej){return cb.New(ei,ej);};j.AppFwkClient=function(){bQ.$cctor();return bQ.AppFwkClient;};j.actHello=function(){bQ.$cctor();return bQ.actHello;};j.qryDocs=function(){bQ.$cctor();return bQ.qryDocs;};j.horizontal=function(ei,ej,ek,el,em){var en,eo,ep,eq;return(en=(eo=R.Make().WithHole({$:2,$0:"partsizes",$1:ei}).WithHole({$:7,$0:"afterrender",$1:ej}).WithHole({$:7,$0:"afterrendersp",$1:ek}),eo.WithHole(S.EventQ2(eo.k,"mousedown",function(){return eo.i;},function(er){el(er.Event);}))).WithHole({$:2,$0:"gap",$1:em}),(ep=S.CompleteHoles(en.k,en.h,[]),(eq=new P.New(ep[1],cI.wcompsplitterhor(ep[0])),(en.i=eq,eq)))).get_Doc();};j.vertical=function(ei,ej,ek,el,em){var en,eo,ep,eq;return(en=(eo=R.Make().WithHole({$:2,$0:"partsizes",$1:ei}).WithHole({$:7,$0:"afterrender",$1:ej}).WithHole({$:7,$0:"afterrendersp",$1:ek}),eo.WithHole(S.EventQ2(eo.k,"mousedown",function(){return eo.i;},function(er){el(er.Event);}))).WithHole({$:2,$0:"gap",$1:em}),(ep=S.CompleteHoles(en.k,en.h,[]),(eq=new P.New(ep[1],cI.wcompsplitterver(ep[0])),(en.i=eq,eq)))).get_Doc();};j.mainDoc=function(){var ei,ej,ek,el,em,en;return(ei=(ej=j.getMainClientDoc(),(ek=(el=j.mainDocV().get_View(),R.Make().WithHole({$:2,$0:"maindoc",$1:el})),ek.WithHole(S.EventQ2(ek.k,"goclient",function(){return ek.i;},function(){j.mainDocV().Set("AppFramework.AppFwkClient");}))).WithHole({$:0,$0:"mainclient",$1:ej})),(em=S.CompleteHoles(ei.k,ei.h,[]),(en=new P.New(em[1],cI.appframework(em[0])),(ei.i=en,en)))).get_Doc();};j.splitName=function(ei){function ej(el){return b4.splitByChar(".",el);}function ek(el){return Q.length(el)===1?[ei,Q.get(el,0)]:[Q.get(el,0),Q.get(el,1)];}return function(el){return ek(ej(el));};};j.tryGetPlugIn=function(ei){return j.plugIns().TryFindByKey(ei);};j.newActF=function(ei,ej){return bJ.New(ei,ej,o.Const(true));};j.tryGetViw=function(ei,ej){var ek;ek=j.tryGetPlugIn(ei);return ek==null?null:Q.tryFind(function(el){return el.viwName===ej;},ek.$0.plgViews);};j.getMainClientDoc=function(){var ei;return W.EmbedView((ei=j.plugIns().v,o.Map2(function(ej,ek){var el,em;el=bb.tryPick(function(en){var eo;eo=bb.tryFind(function(ep){return en.plgName===ej||en.plgName+"."+ep.docName===ej;},en.plgDocs);return eo==null?null:{$:1,$0:j.getLazyDoc(eo.$0)};},ek);em=j.AppFwkClient().f();return el==null?em:el.$0;},j.mainDocV().get_View(),ei)));};j.tryGetVoV=function(ei,ej){var ek,el,em;ek=(el=j.tryGetVar(ei,ej),el==null?null:{$:1,$0:{$:1,$0:el.$0.varVar}});return ek==null?(em=j.tryGetViw(ei,ej),em==null?null:{$:1,$0:new cy.New(em.$0.viwView,a.ignore)}):ek.$0;};j.tryGetWoW=function(ei,ej){var ek,el,em;ek=(el=j.tryGetViw(ei,ej),el==null?null:{$:1,$0:{$:1,$0:el.$0.viwView}});return ek==null?(em=j.tryGetVar(ei,ej),em==null?null:{$:1,$0:em.$0.varVar.get_View()}):ek.$0;};j.getLazyDoc=function(ei){var ej;ej=ei.docDoc;return ej.$==0?ej.$0.f():W.Element("div",[],[W.TextNode((function(ek){return function(el){return ek("Doc with parameters not allowed here: "+cJ.p(el));};}(a.id))(ei))]);};k.New=function(ei,ej,ek,el,em,en){return{plgName:ei,plgVars:ej,plgViews:ek,plgDocs:el,plgActions:em,plgQueries:en};};l.contentVar=function(){_2.$cctor();return _2.contentVar;};l.invitacionesV=function(){_2.$cctor();return _2.invitacionesV;};l.emailsInvitarW=function(){_2.$cctor();return _2.emailsInvitarW;};l.invitacionesDisabledW=function(){_2.$cctor();return _2.invitacionesDisabledW;};l.endPointV=function(){_2.$cctor();return _2.endPointV;};l.aliadoW=function(){_2.$cctor();return _2.aliadoW;};l.modeloV=function(){_2.$cctor();return _2.modeloV;};l.selAliadoIdOV=function(){_2.$cctor();return _2.selAliadoIdOV;};l.money=function(ei){return"$"+l.separate(a.String(ei),cg.Empty);};l.selAliadoIdDoc=function(ei){var ej;return W.BindView(a.id,(ej=o.get_Do(),o.Bind(function(ek){return o.Bind(function(el){var em,en;em=el==null?null:(en=el.$0,bb.tryFind(function(eo){return F.Equals(eo.id,en);},ek.aliados));return o.Const(em!=null&&em.$==1?ei(o.Const(em.$0)):W.get_Empty());},l.selAliadoIdOV().get_View());},l.modeloV().get_View())));};l.aliadoIdDoc=function(ei){var ej;return W.BindView(a.id,(ej=o.get_Do(),o.Bind(function(ek){var el,em;el=ek.idAliado;em=bb.tryFind(function(en){return F.Equals(en.id,el);},ek.aliados);return o.Const(em!=null&&em.$==1?ei(o.Const(em.$0)):W.get_Empty());},l.modeloV().get_View())));};l.separate=function(ei,ej){var ek;while(true)if(ei==="")return(function(el){return function(em){return bi.concat(el,em);};}(","))(ej);else{ek=ei;ei=bc["String.Left"](ek,-3);ej=new cg({$:1,$0:bc["String.Right"](ek,3),$1:ej});}};m.get_LoggedId=function(){var ei,ej;ei=(ej=bK.userO().Get(),ej==null?null:{$:1,$0:ej.$0.idToken.oid});return ei==null?"":ei.$0;};l.formasPagoAliadoV=function(){_2.$cctor();return _2.formasPagoAliadoV;};n.FailWith=function(ei){throw new dE(ei);};n.toInt=function(ei){var ej;ej=n.toUInt(ei);return ej>=2147483648?ej-4294967296:ej;};n.range=function(ei,ej){var ek;ek=1+ej-ei;return ek<=0?[]:bb.init(ek,function(el){return el+ei;});};n.toUInt=function(ei){return(ei<0?eb.ceil(ei):eb.floor(ei))>>>0;};n.KeyValue=function(ei){return[ei.K,ei.V];};o.Map=function(ei,ej){return o.CreateLazy(function(){return _1.Map(ei,ej());});};o.Sink=function(ei,ej){function ek(){_1.WhenRun(ej(),ei,function(){cB.scheduler().Fork(ek);});}cB.scheduler().Fork(ek);};o.CreateLazy=function(ei){var ej;ej={c:null,o:ei};return function(){var ek,el;ek=ej.c;return ek===null?(ek=ej.o(),ej.c=ek,(el=ek.s,el!=null&&el.$==0)?ej.o=null:_1.WhenObsoleteRun(ek,function(){ej.c=null;}),ek):ek;};};o.Map2=function(ei,ej,ek){return o.CreateLazy(function(){return _1.Map2(ei,ej(),ek());});};o.Apply=function(ei,ej){return o.Map2(function(ek,el){return ek(el);},ei,ej);};o.Map3=function(ei,ej,ek,el){return o.CreateLazy(function(){return _1.Map3(ei,ej(),ek(),el());});};o.MapAsync=function(ei,ej){return o.CreateLazy(function(){return _1.MapAsync(ei,ej());});};o.GetAsync=function(ei){return cB.FromContinuations(function(ej){return o.Get(ej,ei);});};o.TryGet=function(ei){return _1.TryGet(ei());};o.Const=function(ei){var ej;ej=_1.New({$:0,$0:ei});return function(){return ej;};};o.get_Do=function(){return b$.B;};o.Get=function(ei,ej){var ek;function el(){_1.WhenRun(ej(),function(em){if(!ek[0]){ek[0]=true;ei(em);}},function(){if(!ek[0])el();});}ek=[false];el();};o.Bind=function(ei,ej){return o.Join(o.Map(ei,ej));};o.MapSeqCachedViewBy=function(ei,ej,ek){var el;el=[new bY.New$5()];return o.Map(function(em){var en,eo,ep;en=el[0];eo=new bY.New$5();ep=cz.mapInPlace(function(eq){var er,es,et;er=ei(eq);es=en.ContainsKey(er)?(et=en.get_Item(er),(h.Set(et.r,eq),et)):o.ConvertSeqNode(function(eu){return ej(er,eu);},eq);eo.set_Item(er,es);return es.e;},Q.ofSeq(em));el[0]=eo;return ep;},ek);};o.Map2Unit=function(ei,ej){return o.CreateLazy(function(){return _1.Map2Unit(ei(),ej());});};o.Join=function(ei){return o.CreateLazy(function(){return _1.Join(ei());});};o.ConvertSeqNode=function(ei,ej){var ek,el;ek=h.Create$1(ej);el=ek.get_View();return{e:ei(el),r:ek,w:el};};o.MapSeqCachedBy=function(ei,ej,ek){var el;el=[new bY.New$5()];return o.Map(function(em){var en,eo,ep;en=el[0];eo=new bY.New$5();ep=cz.mapInPlace(function(eq){var er,es;er=ei(eq);es=en.ContainsKey(er)?en.get_Item(er):ej(eq);eo.set_Item(er,es);return es;},Q.ofSeq(em));el[0]=eo;return ep;},ek);};o.Sequence=function(ei){return o.CreateLazy(function(){return _1.Sequence(bb.map(function(ej){return ej();},ei));});};p=g.Var=ea.Class({},f,p);p.New=ea.Ctor(function(){f.New.call(this);},p);q.Create=function(ei){return _9.New(false,ei,q.forceLazy);};q.forceLazy=function(){var ei;ei=this.v();this.c=true;this.v=ei;this.f=q.cachedLazy;return ei;};q.cachedLazy=function(){return this.v;};q.CreateFromValue=function(ei){return _9.New(true,ei,q.cachedLazy);};r.aliados=function(){var ei,ej,ek,el,em,en,eo;function ep(ey){var ez,eA;ez=(eA=ej.Get(),eA==null?null:{$:1,$0:eA.$0(ey)});return ez==null?[]:ez.$0;}function eq(ey){return ey.nReferidos===0?"-":(((ea.Curried3(function(ez,eA,eB){return ez(a.String(eA)+"/"+a.String(eB));}))(a.id))(ey.nRefActivos))(ey.nReferidos);}function er(ey){return ey.nDescendientes===0?"-":(((ea.Curried3(function(ez,eA,eB){return ez(a.String(eA)+"/"+a.String(eB));}))(a.id))(ey.nDescActivos))(ey.nDescendientes);}function es(ey){return ey===0?"-":l.money(ey);}function et(ey){return o.Map(function(ez){return bb.isEmpty(ep(ey))?"":F.Equals(ez==null?null:{$:1,$0:ez.$0.Contains(ey)},{$:1,$0:true})?"Expandido":"Colapsado";},ei.get_View());}function eu(ey){var ez,eA,eB;ei.Set({$:1,$0:((F.Equals((ez=ei.Get(),ez==null?null:{$:1,$0:ez.$0.Contains(ey)}),{$:1,$0:true})?function(eC){return function(eD){return eD.Remove(eC);};}:function(eC){return function(eD){return eD.Add(eC);};})(ey))((eA=ei.Get(),(eB=new bg.New$1(null),eA==null?eB:eA.$0)))});}function ev(ey){l.selAliadoIdOV().Set({$:1,$0:ey});}function ew(ey){var ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eS,eT;function eM(eU){return eU.comision;}function eN(eU){return eU.status;}function eO(eU){return[eU.nRefActivos,eU.nReferidos];}function eP(eU){return[eU.nDescActivos,eU.nDescendientes];}function eQ(eU){return L.nombre(eU.datosPersonales);}function eR(eU){return bb.delay(function(){return bb.append([eU],bb.delay(function(){var eV,eW;return(eV=(eW=ei.Get(),eW==null?null:{$:1,$0:eW.$0.Contains(eU.id)}),eV==null?false:eV.$0)?bb.collect(eR,eT.hijos(eU)):[];}));});}eS=(ez=(eA=(eB=(eC=(eD=(ea.Curried3(bd.desc))(eM),eE=(ea.Curried3(bd.asc))(eN),ea.Curried(bd.op_AmpGreater,2,[function(eU,eV){return(eD(eU))(eV);},function(eU,eV){return(eE(eU))(eV);}])),eF=(ea.Curried3(bd.desc))(eO),ea.Curried(bd.op_AmpGreater,2,[function(eU,eV){return(eC(eU))(eV);},function(eU,eV){return(eF(eU))(eV);}])),eG=(ea.Curried3(bd.desc))(eP),ea.Curried(bd.op_AmpGreater,2,[function(eU,eV){return(eB(eU))(eV);},function(eU,eV){return(eG(eU))(eV);}])),eH=(ea.Curried3(bd.asc))(eQ),ea.Curried(bd.op_AmpGreater,2,[function(eU,eV){return(eA(eU))(eV);},function(eU,eV){return(eH(eU))(eV);}])),bb.sortWith(function(eU,eV){return(ez(eU))(eV);},ey));eT=L.busqueda(eS);ej.Set({$:1,$0:eT.hijosDe});try{eJ=bb.min(bb.map(function(eU){return eU.nivel;},eS));}catch(eU){eJ=1;}eK=bb.filter(function(eV){return eV.nivel===eJ;},eS);bb.isEmpty(eK)?ei.Set(null):ei.Get()==null?(ei.Set({$:1,$0:new bg.New(bb.map(function(eV){return eV.id;},eK))}),eL=bb.tryHead(bb.map(function(eV){return eV.id;},eK)),eL==null?void 0:ev(eL.$0)):void 0;return bb.delay(function(){return bb.collect(eR,eK);});}function ex(ey,ez){var eA,eB,eC,eD,eE,eF;return(eA=(eB=(eC=(eD=et(ey),R.Make().WithHole({$:2,$0:"nombre",$1:o.Map(function(eG){return L.nombre(eG.datosPersonales);},ez)}).WithHole({$:2,$0:"status",$1:o.Map(function(eG){return(function(eH){return function(eI){return eH(_.p(eI));};}(a.id))(eG.status);},ez)}).WithHole({$:2,$0:"tipo",$1:o.Map(function(eG){return(function(eH){return function(eI){return eH(_.p$1(eI));};}(a.id))(eG.tipo);},ez)}).WithHole({$:2,$0:"nivel",$1:o.Map(function(eG){return a.String(eG.nivel);},ez)}).WithHole({$:2,$0:"referidos",$1:o.Map(eq,ez)}).WithHole({$:2,$0:"descendientes",$1:o.Map(er,ez)}).WithHole({$:2,$0:"comision",$1:o.Map(function(eG){return es(eG.comision);},ez)}).WithHole({$:2,$0:"expandido",$1:eD})),eC.WithHole(S.EventQ2(eC.k,"expandir",function(){return eC.i;},function(){eu(ey);}))).WithHole({$:2,$0:"seleccionado",$1:o.Map(function(eG){return F.Equals({$:1,$0:ey},eG)?"seleccionado":"";},l.selAliadoIdOV().get_View())}),eB.WithHole(S.EventQ2(eB.k,"seleccionar",function(){return eB.i;},function(){ev(ey);}))),(eE=S.CompleteHoles(eA.k,eA.h,[]),(eF=new P.New(eE[1],T.filaaliado(eE[0])),(eA.i=eF,eF)))).get_Doc();}ei=h.Create$1(null);ej=h.Create$1(null);return(ek=(el=W.ConvertSeqBy(function(ey){return ey.id;},function(ey){return function(ez){return ex(ey,ez);};},(em=o.Map(function(ey){return ey.aliados;},l.modeloV().get_View()),o.Map2(function(ey,ez){return ew(ez);},ei.get_View(),em))),R.Make().WithHole({$:0,$0:"tbody",$1:el})),(en=S.CompleteHoles(ek.k,ek.h,[]),(eo=new P.New(en[1],T.tablaaliados(en[0])),(ek.i=eo,eo)))).get_Doc();};s.aliado=function(){function ei(ej){var ek;ek=bb.tryPick(function(el){return el.$==1?{$:1,$0:el.$0.email}:null;},ej.contactos);return ek==null?"correo no encontrado!":ek.$0;}return l.selAliadoIdDoc(function(ej){var ek,el,em,en;return(ek=(el=s.calculo(),R.Make().WithHole({$:2,$0:"nombre",$1:o.Map(function(eo){return L.nombre2(eo.datosPersonales);},ej)}).WithHole({$:2,$0:"status",$1:o.Map(function(eo){return(function(ep){return function(eq){return ep(_.p(eq));};}(a.id))(eo.status);},ej)}).WithHole({$:2,$0:"tipo",$1:o.Map(function(eo){return(function(ep){return function(eq){return ep(_.p$1(eq));};}(a.id))(eo.tipo);},ej)}).WithHole({$:2,$0:"contacto",$1:o.Map(ei,ej)}).WithHole({$:0,$0:"calculo",$1:el})),(em=S.CompleteHoles(ek.k,ek.h,[]),(en=new P.New(em[1],T.aliado(em[0])),(ek.i=en,en)))).get_Doc();});};s.calculo=function(){var ei,ej;ei=o.Map(function(ek){return ek.premisas;},l.modeloV().get_View());ej=o.Map(function(ek){return ek.aliados;},l.modeloV().get_View());o.Map2(function(ek,el){return bb.tryFind(function(em){return F.Equals(em.id,ek);},el);},o.Map(function(ek){return ek.idAliado;},l.modeloV().get_View()),ej);return l.selAliadoIdDoc(function(ek){var el,em,en,eo,ep;el=o.Map2(L.comision,ei,ek);em=o.Map2(L.premisas,ei,ek);return(en=R.Make().WithHole({$:2,$0:"referidos",$1:o.Map(function(eq){return(function(er){return function(es){return er(a.String(es));};}(a.id))(eq.nReferidos);},ek)}).WithHole({$:2,$0:"refactivos",$1:o.Map(function(eq){return(function(er){return function(es){return er(a.String(es));};}(a.id))(eq.nRefActivos);},ek)}).WithHole({$:2,$0:"comreferido",$1:o.Map(function(eq){return(function(er){return function(es){return er(a.String(es));};}(a.id))(eq.nRefActivos);},ek)}).WithHole({$:2,$0:"descendientes",$1:o.Map(function(eq){return(function(er){return function(es){return er(a.String(es));};}(a.id))(eq.nDescendientes);},ek)}).WithHole({$:2,$0:"desactivos",$1:o.Map(function(eq){return(function(er){return function(es){return er(a.String(es));};}(a.id))(eq.nDescActivos);},ek)}).WithHole({$:2,$0:"comision",$1:o.Map(function(eq){return l.money(eq[0]+eq[1]);},el)}).WithHole({$:2,$0:"comreferido",$1:o.Map(function(eq){return l.money(eq[0]);},el)}).WithHole({$:2,$0:"comdescendiente",$1:o.Map(function(eq){return l.money(eq[1]);},el)}).WithHole({$:2,$0:"porreferido",$1:o.Map(function(eq){return l.money(eq[0]);},em)}).WithHole({$:2,$0:"pordescendiente",$1:o.Map(function(eq){return l.money(eq[1]);},em)}),(eo=S.CompleteHoles(en.k,en.h,[]),(ep=new P.New(eo[1],T.calculo(eo[0])),(en.i=ep,ep)))).get_Doc();});};t.formaDoc=function(){var ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew;ei=h.Create$1("");ej=h.Create$1(false);ek=h.Create$1(null);el=h.Create$1(null);em=h.Create$1(null);en=h.Create$1(null);eo=bk.formaDoc(ek);ep=bl.formaDoc(el);eq=bm.formaDoc(em);er=bn.formaDoc(en);es=(et=(eu=R.Make().WithHole({$:2,$0:"mensajes",$1:o.Map2(function(ex,ey){return ex?ey:"";},ej.get_View(),ei.get_View())}).WithHole({$:0,$0:"datospersonales",$1:eo[1]}).WithHole({$:0,$0:"correo",$1:ep[1]}).WithHole({$:0,$0:"telefono",$1:eq[1]}).WithHole({$:0,$0:"direccion",$1:er[1]}),eu.WithHole(S.EventQ2(eu.k,"registrarse",function(){return eu.i;},function(){var ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH;function eI(eJ){a.alert(eJ);}ej.Set(true);ex=ei.Get();bi.Trim(ex)!==""?a.alert(ex):(ey=ek.Get(),ez=el.Get(),eA=em.Get(),eB=en.Get(),ey!=null&&ey.$==1&&(ez!=null&&ez.$==1&&(eA!=null&&eA.$==1&&(eB!=null&&eB.$==1&&(eC=[ez.$0,ey.$0,eB.$0,eA.$0],true))))?(eD=eC[0],eE=eC[1],eF=eC[2],eG=eC[3],bq.iterA(function(eJ){return eI(bv.summarized(eJ));},a.ignore,(eH=bp.asyncResultM(),eH.Run(eH.Delay(function(){var eJ;return eH.Bind$4(X.ejecutarDataEventoNuevo({$:3,$0:[new Y({$:0,$0:bi.Substring(bi.Replace((eJ=bu.NewGuid(),a.String(eJ)),"-",""),0,20)}),eE,{$:1,$0:l.modeloV().Get().idAliado},[{$:1,$0:eD},{$:2,$0:eG},{$:0,$0:eF}]]}),function(eK){bs.refrescarData(true);a.alert((function(eL){return function(eM){return eL(U.p$2(eM));};}(a.id))(eK));return eH.Zero();});}))))):a.alert("Error not caught FormaRegistro"));}))),(ev=S.CompleteHoles(et.k,et.h,[]),(ew=new P.New(ev[1],T.formaregistro(ev[0])),(et.i=ew,ew))));o.Sink(function(ex){ei.Set(ex);},o.Apply(o.Apply(o.Map2(function(ex,ey){return function(ez){return function(eA){var eB;eB=bi.concat(", ",bb.delay(function(){return bb.append(ex,bb.delay(function(){return bb.append(ey,bb.delay(function(){return bb.append(ez,bb.delay(function(){return eA;}));}));}));}));return eB!==""?"Campos requeridos: "+eB:"";};};},eo[0],ep[0]),eq[0]),er[0]));return es.get_Doc();};u.formaDoc=function(){return l.aliadoIdDoc(u.formaAliado);};u.formaAliado=function(ei){var ej,ek,el,em,en,eo,ep,eq,er;function es(eu){return{$:1,$0:eu};}function et(eu){el.Set(eu);}ej=h.Create$1("");ek=h.Create$1(false);el=h.Create$1(null);o.Sink(function(eu){return et(es(eu));},o.Map(function(eu){return eu.datosPersonales;},ei));em=bk.formaDoc(el);en=(eo=(ep=R.Make().WithHole({$:2,$0:"mensajes",$1:o.Map2(function(eu,ev){return eu?ev:"";},ek.get_View(),ej.get_View())}).WithHole({$:2,$0:"changed",$1:o.Map2(function(eu,ev){return F.Equals({$:1,$0:eu.datosPersonales},ev)?"":"mui-btn--primary";},ei,el.get_View())}).WithHole({$:0,$0:"datospersonales",$1:em[1]}),ep.WithHole(S.EventQ2(ep.k,"salvar",function(){return ep.i;},function(){var eu,ev,ew,ex,ey,ez,eA;function eB(eC){a.alert(eC);}ek.Set(true);eu=ej.Get();bi.Trim(eu)!==""?a.alert(eu):(ev=el.Get(),ew=o.TryGet(ei),ev!=null&&ev.$==1&&(ew!=null&&ew.$==1&&(ex=[ew.$0,ev.$0],true))?(ey=ex[0],ez=ex[1],bq.iterA(function(eC){return eB(bv.summarized(eC));},a.ignore,(eA=bp.asyncResultM(),eA.Run(eA.Delay(function(){return eA.Bind$4(X.ejecutarDataEventoNuevo({$:4,$0:[ey.id,ez]}),function(eC){bs.refrescarData(true);a.alert((function(eD){return function(eE){return eD(U.p$2(eE));};}(a.id))(eC));return eA.Zero();});}))))):a.alert("Error not caught FormaDatos"));}))),(eq=S.CompleteHoles(eo.k,eo.h,[]),(er=new P.New(eq[1],T.formadatospersonales(eq[0])),(eo.i=er,er))));o.Sink(function(eu){ej.Set(eu);},o.Map(function(eu){var ev;ev=bi.concat(", ",bb.delay(function(){return eu;}));return ev!==""?"Campos requeridos: "+ev:"";},em[0]));return en.get_Doc();};v.formaDoc=function(){return l.aliadoIdDoc(v.formaContactos);};v.formaContactos=function(ei){var ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC;function eD(eE,eF){return function(eG){return new cy.New(o.Map(function(eH){var eI;eI=bb.tryItem(eG,eH);return eI==null?null:eE(eI.$0);},el.get_View()),function(eH){if(eH!=null&&eH.$==1)el.Set(cp.replace(eG,eF(eH.$0),el.Get()));});};}ej=h.Create$1("");ek=h.Create$1(false);el=h.Create$1([]);o.Sink(function(eE){el.Set(eE);},o.Map(function(eE){return eE.contactos;},ei));em=o.Map(bb.indexed,el.get_View());en=[function(eE){return eE.$==2?{$:1,$0:eE.$0}:null;},function(eE){return{$:2,$0:eE};}];eo=[function(eE){return eE.$==1?{$:1,$0:eE.$0}:null;},function(eE){return{$:1,$0:eE};}];ep=[function(eE){return eE.$==0?{$:1,$0:eE.$0}:null;},function(eE){return{$:0,$0:eE};}];eq=o.Map(function(eE){function eF(eG,eH){return en[0](eH)==null?null:{$:1,$0:eG};}return bb.choose(function(eG){return eF(eG[0],eG[1]);},eE);},em);er=o.Map(function(eE){function eF(eG,eH){return eo[0](eH)==null?null:{$:1,$0:eG};}return bb.choose(function(eG){return eF(eG[0],eG[1]);},eE);},em);es=o.Map(function(eE){function eF(eG,eH){return ep[0](eH)==null?null:{$:1,$0:eG};}return bb.choose(function(eG){return eF(eG[0],eG[1]);},eE);},em);et=W.ConvertBy(a.id,function(eE){return bx.removeButton(function(){el.Set(cp.remove(eE,el.Get()));},(bm.formaDoc((function(eF){return eD(eF[0],eF[1]);}(en))(eE)))[1]);},eq);eu=W.ConvertBy(a.id,function(eE){return bx.removeButton(function(){el.Set(cp.remove(eE,el.Get()));},(bl.formaDoc((function(eF){return eD(eF[0],eF[1]);}(eo))(eE)))[1]);},er);ev=W.ConvertBy(a.id,function(eE){return bx.removeButton(function(){el.Set(cp.remove(eE,el.Get()));},(bn.formaDoc((function(eF){return eD(eF[0],eF[1]);}(ep))(eE)))[1]);},es);return(ew=(ex=(ey=(ez=(eA=R.Make().WithHole({$:2,$0:"mensajes",$1:o.Map2(function(eE,eF){return eE?eF:"";},ek.get_View(),ej.get_View())}).WithHole({$:2,$0:"changed",$1:o.Map2(function(eE,eF){return F.Equals(eE.contactos,eF)?"":"mui-btn--primary";},ei,el.get_View())}).WithHole({$:0,$0:"telefonos",$1:et}).WithHole({$:0,$0:"correos",$1:eu}).WithHole({$:0,$0:"direcciones",$1:ev}),eA.WithHole(S.EventQ2(eA.k,"mastelefono",function(){return eA.i;},function(){el.Set(el.Get().concat([{$:2,$0:J.telVacio()}]));}))),ez.WithHole(S.EventQ2(ez.k,"mascorreo",function(){return ez.i;},function(){el.Set(el.Get().concat([{$:1,$0:J.correoVacio()}]));}))),ey.WithHole(S.EventQ2(ey.k,"masdireccion",function(){return ey.i;},function(){el.Set(el.Get().concat([{$:0,$0:J.dirVacio()}]));}))),ex.WithHole(S.EventQ2(ex.k,"salvar",function(){return ex.i;},function(){var eE,eF,eG,eH;function eI(eJ){a.alert(eJ);}ek.Set(true);eE=ej.Get();bi.Trim(eE)!==""?a.alert(eE):(eF=o.TryGet(ei),eF!=null&&eF.$==1?(eG=eF.$0,bq.iterA(function(eJ){return eI(bv.summarized(eJ));},a.ignore,(eH=bp.asyncResultM(),eH.Run(eH.Delay(function(){return eH.Bind$4(X.ejecutarDataEventoNuevo({$:5,$0:[eG.id,el.Get()]}),function(eJ){bs.refrescarData(true);a.alert((function(eK){return function(eL){return eK(U.p$2(eL));};}(a.id))(eJ));return eH.Zero();});}))))):a.alert("Error not caught FormaDatos"));}))),(eB=S.CompleteHoles(ew.k,ew.h,[]),(eC=new P.New(eB[1],T.formacontactos(eB[0])),(ew.i=eC,eC)))).get_Doc();};w.formaDoc=function(){return l.aliadoIdDoc(w.formaFormasPago);};w.formaFormasPago=function(ei){var ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew;function ex(eC,eD){return function(eE){return new cy.New(o.Map(function(eF){var eG;eG=bb.tryItem(eE,eF);return eG==null?null:eC(eG.$0);},el.get_View()),function(eF){var eG;if(eF!=null&&eF.$==1){eG=eF.$0;el.Set(cp.replace(eE,(eD(Q.get(el.Get(),eE)))(bx.fst3(eG[0],eG[1],eG[2])),el.Get()));}});};}function ey(eC){var eD;function eE(eF){a.alert(eF);}bq.iterA(function(eF){return eE(bv.summarized(eF));},function(eF){a.alert(eF);},(eD=bp.asyncResultM(),eD.Run(eD.Delay(function(){return eD.Bind$1(bG.ofResult(cw.MapError(function(eF){return new bv({$:1,$0:eF});},eC.authorizeIdR)),function(eF){return eD.Bind$4(X.validarFormaPago(eF),function(eG){return eD.Return(eG);});});}))));}function ez(eC,eD){return bx.removeButton(function(){el.Set(cp.remove(eC,el.Get()));},W.Concat(bB.ofSeq(bb.delay(function(){return bb.append([W.Button("AUTORIZAR DEBITO",[cS.Create("title","Autorizar pago recurrente"),cE.Dynamic("style",o.Map(function(eE){return Q.get(eE,eC).authorizeIdR.$==0?"":"display:None";},el.get_View()))],function(){var eE,eF;eE=Q.get(el.Get(),eC).authorizeIdR;eE.$==0?(eF=eD(),A.cuentaAutorizar().Set(eF),A.set_pid(eE.$0),l.endPointV().Set({$:3,$0:"ProzperLyt.cntAutorizacion"})):a.alert("Pago no está verificado en Authorize: "+eE.$0);})],bb.delay(function(){return bb.append([W.Element("br",[],[])],bb.delay(function(){return bb.append([eD()],bb.delay(function(){return[W.Button("validar",[cS.Create("title","validar forma de pago"),cE.Dynamic("style",o.Map(function(eE){return Q.get(eE,eC).authorizeIdR.$==0?"":"display:None";},el.get_View()))],function(){ey(Q.get(el.Get(),eC));})];}));}));}));}))));}function eA(eC){return bF.New("",bc.Error(""),eC);}function eB(eC){return new bg.New(bb.choose(function(eD){var eE;eE=eD.authorizeIdR;return eE.$==0?{$:1,$0:eE.$0}:null;},eC));}ej=h.Create$1("");ek=h.Create$1(false);el=h.Create$1([]);o.Sink(function(eC){el.Set(eC);},l.formasPagoAliadoV().get_View());w.refrescarFormasPago();em=o.Map(bb.indexed,el.get_View());en=o.Map(function(eC){function eD(eE,eF){return(w.ftar())[0](eF)==null?null:{$:1,$0:eE};}return bb.choose(function(eE){return eD(eE[0],eE[1]);},eC);},em);eo=o.Map(function(eC){function eD(eE,eF){return(w.fcta())[0](eF)==null?null:{$:1,$0:eE};}return bb.choose(function(eE){return eD(eE[0],eE[1]);},eC);},em);ep=W.ConvertBy(a.id,function(eC){var eD;return ez(eC,(eD=(function(eE){return ex(eE[0],eE[1]);}(w.ftar()))(eC),function(){return(cv.formaDocO(eD))[1];}));},en);eq=W.ConvertBy(a.id,function(eC){var eD;return ez(eC,(eD=(function(eE){return ex(eE[0],eE[1]);}(w.fcta()))(eC),function(){return(cu.formaDocO(eD))[1];}));},eo);return(er=(es=(et=(eu=R.Make().WithHole({$:2,$0:"mensajes",$1:o.Map2(function(eC,eD){return eC?eD:"";},ek.get_View(),ej.get_View())}).WithHole({$:0,$0:"tarjetas",$1:ep}).WithHole({$:0,$0:"cuentas",$1:eq}),eu.WithHole(S.EventQ2(eu.k,"mastarjeta",function(){return eu.i;},function(){el.Set(el.Get().concat([eA({$:1,$0:J.tarVacio()})]));}))),et.WithHole(S.EventQ2(et.k,"mascuenta",function(){return et.i;},function(){el.Set(el.Get().concat([eA({$:0,$0:J.ctaVacio()})]));}))).WithHole({$:2,$0:"changed",$1:o.Map2(function(eC,eD){return F.Equals(eC,eD)?"":"mui-btn--primary";},l.formasPagoAliadoV().get_View(),el.get_View())}),es.WithHole(S.EventQ2(es.k,"salvar",function(){return es.i;},function(){var eC,eD,eE;function eF(eG){a.alert(eG);}ek.Set(true);eC=ej.Get();bi.Trim(eC)!==""?a.alert(eC):(eD=o.TryGet(ei),eD!=null&&eD.$==1?bq.iterA(function(eG){return eF(bv.summarized(eG));},a.ignore,(eE=bp.asyncResultM(),eE.Run(eE.Delay(function(){return eE.Combine$1(eE.For(bg.op_Subtraction(eB(l.formasPagoAliadoV().Get()),eB(el.Get())),function(eG){return eE.Bind$4(X.borrarFormaPago(eG),function(eH){return eE.Bind$2(new bv({$:3,$0:eH}),function(){return eE.Return();});});}),eE.Delay(function(){return eE.Combine$1(eE.For(el.Get(),function(eG){var eH,eI,eJ,eK;eH=(eI=eG.cuentaPago,eI.$==1&&(!(eI.$0.numero.get_Id().indexOf("X")!=-1)&&(eJ=eI.$0,true))?{$:1,$0:X.registrarTarjeta(eJ)}:eI.$==0&&(!(eI.$0.numero.get_Id().indexOf("X")!=-1)&&(eK=eI.$0,true))?{$:1,$0:X.registrarCuenta(eK)}:null);return eH!=null&&eH.$==1?eE.Bind$4(eH.$0,function(eL){return eE.Bind$2(new bv({$:3,$0:eL}),function(){return eE.Return();});}):eE.Zero();}),eE.Delay(function(){w.refrescarFormasPago();return eE.Zero();}));}));})))):a.alert("Error not caught FormaDatos"));}))),(ev=S.CompleteHoles(er.k,er.h,[]),(ew=new P.New(ev[1],T.formacuentas(ev[0])),(er.i=ew,ew)))).get_Doc();};w.msg=function(ei){var ej;ej=ei.authorizeIdR;return ej.$==0?(function(ek){return function(el){return ek("Cuenta verificada: "+U.p$3(el));};}(a.id))(ej.$0):ej.$0===""?"La cuenta aun no ha sido verificada":ej.$0;};w.refrescarFormasPago=function(){bq.iterpA(function(ei){l.formasPagoAliadoV().Set(ei);},X.obtenerFormasDePago());};w.fcta=function(){_2.$cctor();return _2.fcta;};w.ftar=function(){_2.$cctor();return _2.ftar;};x.consolidado=function(){var ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD;function eE(eT){return eT.nReferidos===0?"-":(((ea.Curried3(function(eU,eV,eW){return eU(a.String(eV)+"/"+a.String(eW));}))(a.id))(eT.nRefActivos))(eT.nReferidos);}function eF(eT){return eT.nDescendientes===0?"-":(((ea.Curried3(function(eU,eV,eW){return eU(a.String(eV)+"/"+a.String(eW));}))(a.id))(eT.nDescActivos))(eT.nDescendientes);}function eG(eT){return eT===0?"-":l.money(eT);}function eH(eT){var eU,eV,eW;eU=(eV=eT==null?null:(eW=eT.$0,bb.tryFind(function(eX){return F.Equals(eX.id,eW);},l.modeloV().Get().aliados)),eV==null?null:{$:1,$0:L.nombre(eV.$0.datosPersonales)});return eU==null?"-":eU.$0;}function eI(eT){var eU;return bw.New(L.nombre(eT.datosPersonales),(function(eV){return function(eW){return eV(_.p(eW));};}(a.id))(eT.status),(eU=eT.influyente,eU==null?"":eU.$0),(function(eV){return function(eW){return eV(_.p$1(eW));};}(a.id))(eT.tipo),eH(eT.idPadreO),(function(eV){return function(eW){return eV(bi.PadLeft(a.String(eW),9));};}(a.id))(eT.nivel),(function(eV){return function(eW){return eV(bi.PadLeft(bz.toSafe(eW),9));};}(a.id))(eE(eT)),(function(eV){return function(eW){return eV(bi.PadLeft(bz.toSafe(eW),9));};}(a.id))(eF(eT)),(function(eV){return function(eW){return eV(bi.PadLeft(bz.toSafe(eW),9));};}(a.id))(eG(eT.comision)),bc["String.Right"]((function(eV){return function(eW){return eV(U.p$4(eW));};}(a.id))(eT.diaPago),2),bA.toYYYYMMDD("-",eT.fechaRegistro),(function(eV){return function(eW){return eV(bz.toSafe(eW));};}(a.id))(eT.id.get_Id()));}function eJ(eT){return[eT.nombre,eT.status,eT.influyente,eT.tipo,eT.referido,eT.nivel,eT.referidos,eT.descendientes,eT.comision,eT.diaPago,eT.desde,eT.Id];}function eK(eT,eU,eV){return function(eW){var eX;eX=eW[0];return[eX===eT?1:eX<eT?eX+1:eX,eT===eX&&eT===1?!eW[1]:eW[1],eW[2]];};}function eL(eT){ej.Set(bw.New((function(eU){return eK(eU[0],eU[1],eU[2]);}(eT))(ej.Get().nombre),(function(eU){return eK(eU[0],eU[1],eU[2]);}(eT))(ej.Get().status),(function(eU){return eK(eU[0],eU[1],eU[2]);}(eT))(ej.Get().influyente),(function(eU){return eK(eU[0],eU[1],eU[2]);}(eT))(ej.Get().tipo),(function(eU){return eK(eU[0],eU[1],eU[2]);}(eT))(ej.Get().referido),(function(eU){return eK(eU[0],eU[1],eU[2]);}(eT))(ej.Get().nivel),(function(eU){return eK(eU[0],eU[1],eU[2]);}(eT))(ej.Get().referidos),(function(eU){return eK(eU[0],eU[1],eU[2]);}(eT))(ej.Get().descendientes),(function(eU){return eK(eU[0],eU[1],eU[2]);}(eT))(ej.Get().comision),(function(eU){return eK(eU[0],eU[1],eU[2]);}(eT))(ej.Get().diaPago),(function(eU){return eK(eU[0],eU[1],eU[2]);}(eT))(ej.Get().desde),(function(eU){return eK(eU[0],eU[1],eU[2]);}(eT))(ej.Get().Id)));}function eM(eT,eU){return ei.Set(Q.map(function(eV){return F.Equals(eV.id,eT)?eU(eV):eV;},ei.Get()));}function eN(eT,eU){return eM(eT,function(eV){return K.New(eV.id,eV.idPadreO,eV.idForAuthorize,eV.influyente,eV.datosPersonales,eV.contactos,eV.identificacion,eV.isInternal,by.tryParse(eU),eV.diaPago,eV.tipo,eV.fechaRegistro,eV.fechaStatus,eV.nReferidos,eV.nRefActivos,eV.nDescendientes,eV.nDescActivos,eV.comision,eV.nivel);});}function eO(eT,eU){return eM(eT,function(eV){return K.New(eV.id,eV.idPadreO,eV.idForAuthorize,bi.Trim(eU)===""?null:{$:1,$0:bi.Trim(eU)},eV.datosPersonales,eV.contactos,eV.identificacion,eV.isInternal,eV.status,eV.diaPago,eV.tipo,eV.fechaRegistro,eV.fechaStatus,eV.nReferidos,eV.nRefActivos,eV.nDescendientes,eV.nDescActivos,eV.comision,eV.nivel);});}function eP(eT,eU){var eV;eV=eU===""?null:{$:1,$0:new Y({$:0,$0:eU})};return eM(eT,function(eW){return K.New(eW.id,eV,eW.idForAuthorize,eW.influyente,eW.datosPersonales,eW.contactos,eW.identificacion,eW.isInternal,eW.status,eW.diaPago,eW.tipo,eW.fechaRegistro,eW.fechaStatus,eW.nReferidos,eW.nRefActivos,eW.nDescendientes,eW.nDescActivos,eW.comision,eW.nivel);});}function eQ(eT){return bb.tryFind(function(eU){return F.Equals(eU.id,eT);},l.modeloV().Get().aliados);}function eR(){var eT;function eU(eV){a.alert(eV);}bq.iterA(function(eV){return eU(bv.summarized(eV));},a.ignore,(eT=bp.asyncResultM(),eT.Run(eT.Delay(function(){return eT.Combine$1(eT.For(ei.Get(),function(eV){var eW,eX;eW=eQ(eV.id);return eW!=null&&eW.$==1?(eX=eW.$0,!F.Equals(eV.status,eX.status)||!F.Equals(eV.idPadreO,eX.idPadreO)||!F.Equals(eV.influyente,eX.influyente)?eT.Bind$4(X.ejecutarDataEventoNuevo({$:8,$0:[eV.id,eV.status,eV.idPadreO,eV.influyente]}),function(eY){return eT.Bind$2(new bv({$:3,$0:(function(eZ){return function(e0){return eZ(U.p$2(e0));};}(a.id))(eY)}),function(){return eT.Return();});}):eT.Zero()):eT.Zero();}),eT.Delay(function(){bs.refrescarData(true);return eT.Zero();}));}))));}function eS(eT,eU){var eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4;return(eV=(eW=W.BindView(bx.crearOptions,bx.statuses().get_View()),(eX=new cy.New(o.Map(function(e5){return e5.influyente;},eU),(eY=new Y({$:0,$0:eT}),function(e5){return eO(eY,e5);})),(eZ=new cy.New(o.Map(function(e5){return e5.status;},eU),(e0=new Y({$:0,$0:eT}),function(e5){return eN(e0,e5);})),(e1=new cy.New(o.Map(function(e5){return e5.referido;},eU),(e2=new Y({$:0,$0:eT}),function(e5){return eP(e2,e5);})),R.Make().WithHole({$:2,$0:"nombre",$1:o.Map(function(e5){return e5.nombre;},eU)}).WithHole({$:2,$0:"tipo",$1:o.Map(function(e5){return e5.tipo;},eU)}).WithHole({$:8,$0:"referido",$1:e1})).WithHole({$:8,$0:"status",$1:eZ})).WithHole({$:8,$0:"influyente",$1:eX})).WithHole({$:0,$0:"statuses",$1:eW})).WithHole({$:2,$0:"nivel",$1:o.Map(function(e5){return e5.nivel;},eU)}).WithHole({$:2,$0:"referidos",$1:o.Map(function(e5){return e5.referidos;},eU)}).WithHole({$:2,$0:"descendientes",$1:o.Map(function(e5){return e5.descendientes;},eU)}).WithHole({$:2,$0:"comision",$1:o.Map(function(e5){return e5.comision;},eU)}).WithHole({$:2,$0:"diapago",$1:o.Map(function(e5){return e5.diaPago;},eU)}).WithHole({$:2,$0:"desde",$1:o.Map(function(e5){return e5.desde;},eU)}).WithHole({$:2,$0:"id",$1:o.Map(function(e5){return e5.Id;},eU)}),(e3=S.CompleteHoles(eV.k,eV.h,[["influyente",0],["status",0],["referido",0]]),(e4=new P.New(e3[1],T.filaconsolidado(e3[0])),(eV.i=e4,e4)))).get_Doc();}ei=h.Create$1([]);o.Sink(function(eT){ei.Set(eT);},o.Map(function(eT){return eT.aliados;},l.modeloV().get_View()));ej=h.Create$1(bw.New([2,true,function(eT){return eT.nombre.toUpperCase();}],[3,true,function(eT){return eT.status.toUpperCase();}],[4,false,function(eT){return eT.influyente.toUpperCase();}],[5,true,function(eT){return eT.tipo.toUpperCase();}],[6,true,function(eT){return eT.referido.toUpperCase();}],[7,true,function(eT){return eT.nivel.toUpperCase();}],[8,true,function(eT){return eT.referidos.toUpperCase();}],[1,false,function(eT){return eT.descendientes.toUpperCase();}],[9,true,function(eT){return eT.comision.toUpperCase();}],[10,true,function(eT){return eT.diaPago.toUpperCase();}],[11,true,function(eT){return eT.desde.toUpperCase();}],[12,true,function(eT){return eT.Id.toUpperCase();}]));ek=h.Create$1("");el=W.BindView(function(eT){return bx.crearOptions2(bb.map(function(eU){return[L.nombre2(eU.datosPersonales),eU.id.get_Id()];},eT.aliados));},l.modeloV().get_View());return(em=(en=W.ConvertSeqBy(function(eT){return eT.Id;},function(eT){return function(eU){return eS(eT,eU);};},o.Map3(function(eT,eU,eV){var eW,eX,eY;function eZ(e2,e3,e4){return e4;}function e0(e2,e3,e4,e5){return bd.op_AmpGreater(function(e6,e7){return(e2(e6))(e7);},function(e6,e7){return(e3(e6))(e7);},e4,e5);}function e1(e2,e3,e4){return(e3?ea.Curried3(bd.asc):ea.Curried3(bd.desc))(e4);}eW=bi.Trim(eV).toUpperCase();eX=Q.map(function(e2){return eZ(e2[0],e2[1],e2[2]);},eJ(eU));eY=Q.reduce(function(e2,e3){return ea.Curried(e0,2,[e2,e3]);},Q.map(function(e2){return e1(e2[0],e2[1],e2[2]);},Q.sortBy(function(e2){return a.id(e2[0],e2[1],e2[2]);},eJ(eU))));return bb.sortWith(function(e2,e3){return(eY(e2))(e3);},bb.filter(function(e2){return eW===""||bb.exists(function(e3){return e3(e2).indexOf(eW)!=-1;},eX);},bb.map(eI,eT)));},o.Map(function(eT){return eT.aliados;},l.modeloV().get_View()),ej.get_View(),ek.get_View())),(eo=(ep=(eq=(er=(es=(et=(eu=(ev=(ew=(ex=(ey=(ez=(eA=(eB=R.Make(),eB.WithHole(S.EventQ2(eB.k,"salvar",function(){return eB.i;},function(){eR();}))),eA.WithHole(S.EventQ2(eA.k,"cancelar",function(){return eA.i;},function(){ei.Set(l.modeloV().Get().aliados);}))).WithHole({$:2,$0:"changed",$1:o.Map2(function(eT,eU){return F.Equals(eT.aliados,eU)?"":"mui-btn--primary";},l.modeloV().get_View(),ei.get_View())}).WithHole({$:8,$0:"filtro",$1:ek}).WithHole({$:0,$0:"referidores",$1:el}),ez.WithHole(S.EventQ2(ez.k,"sort_nombre",function(){return ez.i;},function(){eL(ej.Get().nombre);}))),ey.WithHole(S.EventQ2(ey.k,"sort_status",function(){return ey.i;},function(){eL(ej.Get().status);}))),ex.WithHole(S.EventQ2(ex.k,"sort_influyente",function(){return ex.i;},function(){eL(ej.Get().influyente);}))),ew.WithHole(S.EventQ2(ew.k,"sort_tipo",function(){return ew.i;},function(){eL(ej.Get().tipo);}))),ev.WithHole(S.EventQ2(ev.k,"sort_referido",function(){return ev.i;},function(){eL(ej.Get().referido);}))),eu.WithHole(S.EventQ2(eu.k,"sort_nivel",function(){return eu.i;},function(){eL(ej.Get().nivel);}))),et.WithHole(S.EventQ2(et.k,"sort_referidos",function(){return et.i;},function(){eL(ej.Get().referidos);}))),es.WithHole(S.EventQ2(es.k,"sort_descendientes",function(){return es.i;},function(){eL(ej.Get().descendientes);}))),er.WithHole(S.EventQ2(er.k,"sort_comision",function(){return er.i;},function(){eL(ej.Get().comision);}))),eq.WithHole(S.EventQ2(eq.k,"sort_diapago",function(){return eq.i;},function(){eL(ej.Get().diaPago);}))),ep.WithHole(S.EventQ2(ep.k,"sort_desde",function(){return ep.i;},function(){eL(ej.Get().desde);}))),eo.WithHole(S.EventQ2(eo.k,"sort_id",function(){return eo.i;},function(){eL(ej.Get().Id);}))).WithHole({$:0,$0:"tbody",$1:en})),(eC=S.CompleteHoles(em.k,em.h,[["filtro",0]]),(eD=new P.New(eC[1],T.consolidado(eC[0])),(em.i=eD,eD)))).get_Doc();};y.comisiones=function(){var ei,ej,ek,el,em,en,eo,ep,eq,er,es,et;function eu(ey,ez){return ez===""?ey:ez;}function ev(){var ey;cB.Start((ey=null,cB.Delay(function(){return cB.Bind(o.GetAsync(ei),function(ez){a.saveAs(new cD([bi.concat("\r\n",bb.map(function(eA){var eB,eC;eB=eA[0];eC=eA[1];return(((((((ea.Curried(function(eD,eE,eF,eG,eH,eI,eJ){return eD(bz.toSafe(eE)+","+bz.toSafe(eF)+","+bz.toSafe(eG)+","+bz.toSafe(eH)+","+bz.prettyPrint(eI)+","+bz.prettyPrint(eJ));},7))(a.id))("22"))(eu("----------",eC.numero.get_Id())))(eu("----------",eC.routing.get_Id())))((function(eD){return function(eE){return eD(a.String(eE)+".00");};}(a.id))(eB.comision)))("----------"))(eC.titular===""?L.nombre2(eB.datosPersonales):eC.titular);},ez))],{type:"text/plain;charset=utf-8"}),"pagos.csv");return cB.Zero();});})),null);}function ew(ey,ez){return ey.id;}function ex(ey,ez){var eA,eB,eC,eD,eE;eA=o.Map(function(eF){return eF[0];},ez);eB=o.Map(function(eF){return eF[1];},ez);return(eC=R.Make().WithHole({$:1,$0:"codigo",$1:"22"}).WithHole({$:2,$0:"cuenta",$1:o.Map(function(eF){return eu("----------",eF.numero.get_Id());},eB)}).WithHole({$:2,$0:"aba",$1:o.Map(function(eF){return eu("----------",eF.routing.get_Id());},eB)}).WithHole({$:2,$0:"monto",$1:o.Map(function(eF){return(function(eG){return function(eH){return eG(a.String(eH)+".00");};}(a.id))(eF.comision);},eA)}).WithHole({$:1,$0:"identificacion",$1:"---------"}).WithHole({$:2,$0:"nombre",$1:o.Map2(function(eF,eG){return eu(L.nombre2(eF.datosPersonales),eG.titular);},eA,eB)}),(eD=S.CompleteHoles(eC.k,eC.h,[]),(eE=new P.New(eD[1],T.filapago(eD[0])),(eC.i=eE,eE)))).get_Doc();}ei=o.MapAsync(function(ey){var ez,eA,eB;function eC(eD){return cB.Return(eD);}return cB.Bind((ez=bp.asyncResultM(),ez.Run(ez.Delay(function(){var eD;eD=bb.filter(function(eE){return eE.comision>0;},ey);return ez.Bind$4(X.obtenerFormasDePagoPara(Q.ofSeq(eD)),function(eE){function eF(eH,eI){return F.Equals(eH.id,eI[0].id)?{$:1,$0:[eH,eI[1]]}:null;}function eG(eH,eI){var eJ,eK;return[eH,(eJ=bb.tryPick(function(eL){var eM;eM=eL.cuentaPago;return eM.$==0?{$:1,$0:eM.$0}:null;},eI),(eK=J.ctaVacio(),eJ==null?eK:eJ.$0))];}return ez.Return(bb.choose(function(eH){return eF(eH[0],eH[1]);},bb.zip(eD,bb.map(function(eH){return eG(eH[0],eH[1]);},eE))));});}))),(eA=(eB=[],function(eD){return bG.defaultValue(eB,eD);}),function(eD){return eC(eA(eD));}));},o.Map(function(ey){return ey.aliados;},l.modeloV().get_View()));return(ej=(ek=bB.ofArray([(el=R.Make().WithHole({$:2,$0:"codigo",$1:o.Map(function(ey){return(function(ez){return function(eA){return ez(a.String(eA));};}(a.id))(bb.length(ey));},ei)}).WithHole({$:1,$0:"cuenta",$1:""}).WithHole({$:1,$0:"aba",$1:""}).WithHole({$:2,$0:"monto",$1:o.Map(function(ey){function ez(eA,eB){return eA.comision;}return(function(eA){return function(eB){return eA(a.String(eB)+".00");};}(a.id))(bb.sumBy(function(eA){return ez(eA[0],eA[1]);},ey));},ei)}).WithHole({$:1,$0:"identificacion",$1:""}).WithHole({$:1,$0:"nombre",$1:""}),(em=S.CompleteHoles(el.k,el.h,[]),(en=new P.New(em[1],T.filapago(em[0])),(el.i=en,en)))).get_Doc(),(eo=R.Make().WithHole({$:1,$0:"codigo",$1:""}).WithHole({$:1,$0:"cuenta",$1:""}).WithHole({$:1,$0:"aba",$1:""}).WithHole({$:1,$0:"monto",$1:"--------------------"}).WithHole({$:1,$0:"identificacion",$1:""}).WithHole({$:1,$0:"nombre",$1:""}),(ep=S.CompleteHoles(eo.k,eo.h,[]),(eq=new P.New(ep[1],T.filapago(ep[0])),(eo.i=eq,eq)))).get_Doc(),W.ConvertSeqBy(function(ey){return ew(ey[0],ey[1]);},function(ey){return function(ez){return ex(ey,ez);};},ei)]),(er=R.Make(),er.WithHole(S.EventQ2(er.k,"exportar",function(){return er.i;},function(){ev();}))).WithHole({$:0,$0:"tbody",$1:W.Concat(ek)})),(es=S.CompleteHoles(ej.k,ej.h,[]),(et=new P.New(es[1],T.tablapagos(es[0])),(ej.i=et,et)))).get_Doc();};z.listaDocs=function(){var ei,ej,ek,el,em;function en(eo,ep){var eq,er,es,et;return(eq=(er=o.Map(function(eu){return eu.id.get_Id();},l.aliadoW()),R.Make().WithHole({$:2,$0:"nombre",$1:ep}).WithHole({$:2,$0:"idaliado",$1:er})),(es=S.CompleteHoles(eq.k,eq.h,[]),(et=new P.New(es[1],T.filadocs(es[0])),(eq.i=et,et)))).get_Doc();}z.refrescarListaDocs();return(ei=(ej=(ek=W.ConvertSeqBy(a.id,function(eo){return function(ep){return en(eo,ep);};},z.docsV().get_View()),R.Make().WithHole({$:0,$0:"tbody",$1:ek})),ej.WithHole(S.EventQ2(ej.k,"subir",function(){return ej.i;},function(eo){var ep;ep=o.TryGet(l.aliadoW());ep==null?void 0:z.subir(eo.Event,ep.$0.id.get_Id());}))),(el=S.CompleteHoles(ei.k,ei.h,[]),(em=new P.New(el[1],T.subirdocumentos(el[0])),(ei.i=em,em)))).get_Doc();};z.refrescarListaDocs=function(){bq.iterpA(function(ei){z.docsV().Set(ei);},X.obtenerListaDocs());};z.docsV=function(){_2.$cctor();return _2.docsV;};z.subir=function(ei,ej){var ek,el,em,en,eo,ep,eq,er,es,et;ei.preventDefault();eo=a.jQuery("#SubirDocumentos");ep=new a.FormData();eq=eo.serializeArray();for(er=0,es=eq.length-1;er<=es;er++){et=Q.get(eq,er);ep.append(et.name,et.value);}el=eo.children("input[type=file]").first().get(0).files.item(0);em=el.name;ep.append("file",el);ec.ajax((en={},en.type="POST",en.url="/api/subir/"+ej+"/"+em,en.data=ep,en.contentType=false,en.processData=false,en.success=z.uploaded(),en));};z.uploaded=function(){_2.$cctor();return _2.uploaded;};A.formaAutorizacion=function(){var ei,ej,ek,el,em,en,eo,ep;function eq(er){return(new a.Date(er)).getFullYear()*10000+((new a.Date(er)).getMonth()+1)*100+(new a.Date(er)).getDate();}ei=h.Create$1("");ej=o.Map(function(er){return L.nombre2(er.datosPersonales);},l.aliadoW());ek=(el=(em=(en=W.EmbedView(A.cuentaAutorizar().get_View()),R.Make().WithHole({$:2,$0:"afiliado",$1:ej}).WithHole({$:2,$0:"montoafiliacion",$1:o.Map(function(er){return(function(es){return function(et){return es("$"+a.String(et)+".00");};}(a.id))(er.premisas.montoAfiliacion);},l.modeloV().get_View())}).WithHole({$:2,$0:"dia",$1:o.Map(function(er){return a.String(L.dia(er.diaPago));},l.aliadoW())}).WithHole({$:0,$0:"cuentadebitar",$1:en})).WithHole({$:2,$0:"firmarclass",$1:o.Map(function(er){return er===""?"mui-btn--primary":"";},ei.get_View())}),em.WithHole(S.EventQ2(em.k,"firmar",function(){return em.i;},function(){function er(es){a.alert(es);}if(ei.Get()!=="")a.alert(ei.Get());else{bq.iterA(function(es){return er(bv.summarized(es));},function(es){a.alert(es);},X.actualizarSubscripcion(A.pid()));}}))),(eo=S.CompleteHoles(el.k,el.h,[["titular",0],["fecha",0]]),(ep=new P.New(eo[1],T.autorizacion(eo[0])),(el.i=ep,ep))));o.Sink(function(er){ei.Set(er);},o.Apply(o.Map2(function(er,es){return function(et){var eu,ev;return bi.concat(", ",bb.map(function(ew){return ew[1];},bb.filter(function(ew){return ew[0];},bB.ofArray([[bi.Trim(er).toLowerCase()!==es.toLowerCase(),"Nombre del titular debe coincidir"],[!F.Equals((eu=(bI.parseDateO())(et),eu==null?null:{$:1,$0:eq(eu.$0)}),{$:1,$0:eq((ev=ed.now(),c9.DatePortion(ev)))}),"Introduzca fecha de hoy"]]))));};},ek.Hole("titular").get_View(),ej),ek.Hole("fecha").get_View()));return ek.get_Doc();};A.cuentaAutorizar=function(){_2.$cctor();return _2.cuentaAutorizar;};A.pid=function(){_2.$cctor();return _2.pid;};A.set_pid=function(ei){_2.$cctor();_2.pid=ei;};E.GetFields=function(ei){var ej,ek;ej=[];for(var el in ei)ej.push([el,ei[el]]);return ej;};E.GetFieldValues=function(ei){var ej,ek;ej=[];for(var el in ei)ej.push(ei[el]);return ej;};F.Equals=function(ei,ej){var ek,el,em,en;if(ei===ej)return true;else{ek=typeof ei;if(ek=="object"){if(ei===null||ei===void 0||ej===null||ej===void 0)return false;else if("Equals"in ei)return ei.Equals(ej);else if(ei instanceof a.Array&&ej instanceof a.Array)return F.arrayEquals(ei,ej);else if(ei instanceof ed&&ej instanceof ed)return F.dateEquals(ei,ej);else{el=[true];for(var eo in ei)if(function(ep){el[0]=!ei.hasOwnProperty(ep)||ej.hasOwnProperty(ep)&&F.Equals(ei[ep],ej[ep]);return!el[0];}(eo))break;if(el[0]){for(var ep in ej)if(function(eq){el[0]=!ej.hasOwnProperty(eq)||ei.hasOwnProperty(eq);return!el[0];}(ep))break;}return el[0];}}else return ek=="function"&&("$Func"in ei?ei.$Func===ej.$Func&&ei.$Target===ej.$Target:"$Invokes"in ei&&"$Invokes"in ej&&F.arrayEquals(ei.$Invokes,ej.$Invokes));}};F.arrayEquals=function(ei,ej){var ek,el;if(Q.length(ei)===Q.length(ej)){ek=true;el=0;while(ek&&el<Q.length(ei)){!F.Equals(Q.get(ei,el),Q.get(ej,el))?ek=false:void 0;el=el+1;}return ek;}else return false;};F.dateEquals=function(ei,ej){return ei.getTime()===ej.getTime();};F.Compare=function(ei,ej){var ek,el,em,en,eo,ep;if(ei===ej)return 0;else{el=typeof ei;switch(el=="function"?1:el=="boolean"?2:el=="number"?2:el=="string"?2:el=="object"?3:0){case 0:return typeof ej=="undefined"?0:-1;case 1:return n.FailWith("Cannot compare function values.");case 2:return ei<ej?-1:1;case 3:if(ei===null)em=-1;else if(ej===null)em=1;else if("CompareTo"in ei)em=ei.CompareTo(ej);else if("CompareTo0"in ei)em=ei.CompareTo0(ej);else if(ei instanceof a.Array&&ej instanceof a.Array)em=F.compareArrays(ei,ej);else if(ei instanceof ed&&ej instanceof ed)em=F.compareDates(ei,ej);else{en=[0];for(var eq in ei)if(function(er){return!ei.hasOwnProperty(er)?false:!ej.hasOwnProperty(er)?(en[0]=1,true):(en[0]=F.Compare(ei[er],ej[er]),en[0]!==0);}(eq))break;if(en[0]===0){for(var er in ej)if(function(es){return!ej.hasOwnProperty(es)?false:!ei.hasOwnProperty(es)&&(en[0]=-1,true);}(er))break;}em=en[0];}return em;}}};F.compareArrays=function(ei,ej){var ek,el;if(Q.length(ei)<Q.length(ej))return -1;else if(Q.length(ei)>Q.length(ej))return 1;else{ek=0;el=0;while(ek===0&&el<Q.length(ei)){ek=F.Compare(Q.get(ei,el),Q.get(ej,el));el=el+1;}return ek;}};F.compareDates=function(ei,ej){return F.Compare(ei.getTime(),ej.getTime());};F.Hash=function(ei){var ej;ej=typeof ei;return ej=="function"?0:ej=="boolean"?ei?1:0:ej=="number"?ei:ej=="string"?F.hashString(ei):ej=="object"?ei==null?0:ei instanceof a.Array?F.hashArray(ei):F.hashObject(ei):0;};F.hashString=function(ei){var ej,ek,el;if(ei===null)return 0;else{ej=5381;for(ek=0,el=ei.length-1;ek<=el;ek++)ej=F.hashMix(ej,ei[ek].charCodeAt());return ej;}};F.hashArray=function(ei){var ej,ek,el;ej=-34948909;for(ek=0,el=Q.length(ei)-1;ek<=el;ek++)ej=F.hashMix(ej,F.Hash(Q.get(ei,ek)));return ej;};F.hashObject=function(ei){var ej,ek;if("GetHashCode"in ei)return ei.GetHashCode();else{ej=[0];for(var el in ei)if(function(em){ej[0]=F.hashMix(F.hashMix(ej[0],F.hashString(em)),F.Hash(ei[em]));return false;}(el))break;return ej[0];}};F.hashMix=function(ei,ej){return(ei<<5)+ei+ej;};G.newLyt=function(ei,ej){return bP.New(ei,h.Create$1(ej));};G.addLayout=function(ei){o.Sink(function(ej){var ek;ek=G.createEntries(ei.lytName,ej);j.addPlugIn(k.New(ei.lytName,Q.ofSeq(bb.delay(function(){return bb.append([j.newVar("Layout",ei.lytDefinition)],bb.delay(function(){return G.getVarEntries(ek);}));})),[],Q.ofSeq(bb.delay(function(){return bb.append(G.getDocEntries(ek),bb.delay(function(){var el;return bb.append([j.newDocF("InputFile",{$:4,$0:(el=ei.lytName,ea.Curried(G.inputFile,4,[el])),$1:"attrs",$2:"Label",$3:"Action",$4:"[Doc]"})],bb.delay(function(){var em;return bb.append([j.newDocF("InputLabel",{$:3,$0:(em=ei.lytName,ea.Curried(G.inputLabel,3,[em])),$1:"attrs",$2:"Label",$3:"Var"})],bb.delay(function(){return[j.newDocF("none",{$:1,$0:G.none,$1:"x"})];}));}));}));})),[],[]));j.mainDocV().Set(j.mainDocV().Get());},ei.lytDefinition.get_View());};G.createEntries=function(ei,ej){return G.processLines(function(ek){return G.createEntryO(ei,ek);},b4.splitByChar("\n",ej));};G.getVarEntries=function(ei){function ej(ek){return ek[1];}return bb.map(function(ek){return bb.last(ej(ek));},bb.groupBy(function(ek){return ek.varName;},bb.choose(function(ek){return ek.$==0?{$:1,$0:ek.$0}:null;},ei)));};G.getDocEntries=function(ei){function ej(ek){return ek[1];}return bb.map(function(ek){return bb.last(ej(ek));},bb.groupBy(function(ek){return ek.docName;},bb.choose(function(ek){return ek.$==2?{$:1,$0:ek.$0}:null;},ei)));};G.inputFile=function(ei,ej,ek,el,em){var en,eo,ep,eq;en=(eo=(ep=((G.splitName())(ei))(el),j.tryGetAct(ep[0],ep[1])),eo==null?null:{$:1,$0:(eq=eo.$0,W.Element("div",G.getAttrs(ei,ej,true),[W.Element("div",[cS.Create("class","input-group")],[W.Element("span",[cS.Create("class","input-group-btn")],[W.Element("label",[cS.Create("class","btn")],[G.getText(ei,ek,true),W.Element("input",[cS.Create("class","form-control"),cS.Create("type","file"),cE.Style("display","none"),cS.HandlerImpl("click",function(er){return function(){er.value="";};}),cS.HandlerImpl("change",function(er){return function(){return j.callFunction(er,null,eq.actFunction);};})],[])])]),em!==""?G.singleDoc(ei,bB.ofArray([[em,false]])):W.get_Empty()])]))});return en==null?G.errDoc((function(er){return function(es){return er("Action not found "+bz.toSafe(es));};}(a.id))(el)):en.$0;};G.inputLabel=function(ei,ej,ek,el){var em,en,eo;em=(en=(eo=((G.splitName())(ei))(el),j.tryGetVar(eo[0],eo[1])),en==null?null:{$:1,$0:W.Element("div",G.getAttrs(ei,ej,true),[W.Element("div",[cS.Create("class","input-group")],[W.Element("span",[cS.Create("class","input-group-addon")],[G.getText(ei,ek,true)]),W.Input([cS.Create("class","form-control")],en.$0.varVar)])])});return em==null?G.errDoc((function(ep){return function(eq){return ep("Var not found "+bz.toSafe(eq));};}(a.id))(el)):em.$0;};G.none=function(ei){return W.Element("span",[],[]);};G.turnToView=function(ei){return W.EmbedView(o.Map(ei,j.mainDocV().get_View()));};G.splitName=function(){bQ.$cctor();return bQ.splitName;};G.getDocFinal=function(ei,ej){var ek;ek=G.getDocF(ei,ej);return ek[1].$==0?ek[0]:G.errDoc((((ea.Curried3(function(el,em,en){return el("Too many parameters "+cJ.p(em)+" "+bz.printList(function(eo){return"("+bz.prettyPrint(eo[0])+", "+bz.prettyPrint(eo[1])+")";},en));}))(a.id))(ej))(ei));};G.errDoc=function(ei){return W.Element("div",[],[W.TextNode(ei)]);};G.processLines=function(ei,ej){function ek(el){var em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez;em=bb.tryHead(el);return em!=null&&em.$==1?(en=em.$0,(eo=G.splitTokens(en),eo.$==1&&(eq=(er=eo.$0,G.Identifier(er[0],er[1])),eq!=null&&eq.$==1&&(eo.$1.$==1&&((es=eo.$1.$0,G.Vertical(es[0],es[1])).$==2&&(eo.$1.$1.$==0&&(ep=eq.$0,true)))))?(et=G.getExtraLines(function(eA){return bi.StartsWith(bi.Trim(eA),"|");},el),ek((c_.createLayoutDefinitions(ep,c_.extractNodes(et[0])))[1].concat(et[1]))):eo.$==0?ek(b5.array(el,{$:1,$0:1},null)):(eu=G.getExtraLines(function(eA){return bi.StartsWith(bi.Trim(eA),":");},el),(ev=eu[1],(ew=eu[0],Q.length(ew)>0?((function(eA){return function(eB){return eA("l = ;"+bz.toSafe(eB)+";");};}(function(eA){ee.log(eA);}))(en),ex=G.createLines(bb.nth(0,bi.SplitChars(en,[" "],1)),1,[],[],1,ew),ey=ex[0],ez=ex[1],ek(Q.ofSeq(bb.delay(function(){return bb.append([en+" "+bi.concat(" ",ey)],bb.delay(function(){return bb.append(ez,bb.delay(function(){return ev;}));}));})))):Q.ofSeq(bb.delay(function(){var eA;return bb.append((eA=ei(en),eA!=null&&eA.$==1?[eA.$0]:[]),bb.delay(function(){return ek(ev);}));}))))))):[];}return ek(ej);};G.createEntryO=function(ei,ej){var ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4,e5,e6,e7,e8,e9,e_,e$,fa,fb,fc,fd,fe,ff,fg,fh,fi,fj,fk,fl;try{ek=G.splitTokens(ej);return ek.$==1&&(em=(en=ek.$0,G.Identifier(en[0],en[1])),em!=null&&em.$==1&&(ek.$1.$==1&&((eo=ek.$1.$0,G.Vertical(eo[0],eo[1])).$==0&&(ek.$1.$1.$==1&&(ep=(eq=ek.$1.$1.$0,G.Measures$1(eq[0],eq[1])),ep!=null&&ep.$==1&&(el=[ek.$1.$1.$1,ep.$0,em.$0],true))))))?(er=el[2],G.entryDoc(er,(G.createSplitterM())([ei,er,true,el[1],el[0]]))):ek.$==1&&(et=(eu=ek.$0,G.Identifier(eu[0],eu[1])),et!=null&&et.$==1&&(ek.$1.$==1&&((ev=ek.$1.$0,G.Vertical(ev[0],ev[1])).$==1&&(ek.$1.$1.$==1&&(ew=(ex=ek.$1.$1.$0,G.Measures$1(ex[0],ex[1])),ew!=null&&ew.$==1&&(es=[ek.$1.$1.$1,ew.$0,et.$0],true))))))?(ey=es[2],G.entryDoc(ey,(G.createSplitterM())([ei,ey,false,es[1],es[0]]))):ek.$==1&&(eA=(eB=ek.$0,G.Identifier(eB[0],eB[1])),eA!=null&&eA.$==1&&(ek.$1.$==1&&((eC=ek.$1.$0,G.Var(eC[0],eC[1])).$==2&&(ek.$1.$1.$==1&&(eD=(eE=ek.$1.$1.$0,G.Identifier(eE[0],eE[1])),eD!=null&&eD.$==1&&(ek.$1.$1.$1.$==1&&(ek.$1.$1.$1.$1.$==1&&(ek.$1.$1.$1.$1.$1.$==0&&(ez=[eD.$0,ek.$1.$1.$1.$0,eA.$0,ek.$1.$1.$1.$1.$0],true)))))))))?(eF=ez[2],G.entryDoc(eF,(G.createButtonM())([ei,eF,ez[0],ez[1],ez[3]]))):ek.$==1&&(eH=(eI=ek.$0,G.Identifier(eI[0],eI[1])),eH!=null&&eH.$==1&&(ek.$1.$==1&&((eJ=ek.$1.$0,G.Var(eJ[0],eJ[1])).$==3&&(ek.$1.$1.$==1&&(eK=(eL=ek.$1.$1.$0,G.Identifier(eL[0],eL[1])),eK!=null&&eK.$==1&&(ek.$1.$1.$1.$==1&&(ek.$1.$1.$1.$1.$==0&&(eG=[ek.$1.$1.$1.$0,eH.$0,eK.$0],true))))))))?(eM=eG[1],G.entryDoc(eM,(G.createInputM())([ei,eM,eG[2],eG[0]]))):ek.$==1&&(eO=(eP=ek.$0,G.Identifier(eP[0],eP[1])),eO!=null&&eO.$==1&&(ek.$1.$==1&&((eQ=ek.$1.$0,G.Var(eQ[0],eQ[1])).$==4&&(ek.$1.$1.$==1&&(eR=(eS=ek.$1.$1.$0,G.Identifier(eS[0],eS[1])),eR!=null&&eR.$==1&&(ek.$1.$1.$1.$==1&&(ek.$1.$1.$1.$1.$==0&&(eN=[ek.$1.$1.$1.$0,eO.$0,eR.$0],true))))))))?(eT=eN[1],G.entryDoc(eT,(G.createTextAreaM())([ei,eT,eN[2],eN[0]]))):ek.$==1&&(eV=(eW=ek.$0,G.Identifier(eW[0],eW[1])),eV!=null&&eV.$==1&&(ek.$1.$==1&&((eX=ek.$1.$0,G.Var(eX[0],eX[1])).$==0&&(ek.$1.$1.$==1&&(ek.$1.$1.$1.$==0&&(eU=[eV.$0,ek.$1.$1.$0],true))))))?(eY=eU[0],G.entryVar(eY,(G.createVarM())([ei,eY,eU[1][0]]))):ek.$==1&&(e0=(e1=ek.$0,G.Identifier(e1[0],e1[1])),e0!=null&&e0.$==1&&(ek.$1.$==1&&((e2=ek.$1.$0,G.Var(e2[0],e2[1])).$==1&&(ek.$1.$1.$==1&&(eZ=[ek.$1.$1.$0,e0.$0,ek.$1.$1.$1],true)))))?(e3=eZ[1],G.entryDoc(e3,(G.createDocM())([ei,e3,eZ[0][0],eZ[2]]))):ek.$==1&&(e5=(e6=ek.$0,G.Identifier(e6[0],e6[1])),e5!=null&&e5.$==1&&(ek.$1.$==1&&((e7=ek.$1.$0,G.Vertical(e7[0],e7[1])).$==4&&(ek.$1.$1.$==1&&(ek.$1.$1.$1.$==1&&(e4=[ek.$1.$1.$1.$0,ek.$1.$1.$1.$1,e5.$0,ek.$1.$1.$0],true))))))?(e8=e4[2],G.entryDoc(e8,(G.createTemplateM())([ei,e8,e4[3],e4[0],e4[1]]))):ek.$==1&&(e_=(e$=ek.$0,G.Identifier(e$[0],e$[1])),e_!=null&&e_.$==1&&(ek.$1.$==1&&((fa=ek.$1.$0,G.Concat(fa[0],fa[1])).$==0&&(e9=[ek.$1.$1,e_.$0],true))))?(fb=e9[1],G.entryDoc(fb,(G.createConcatM())([ei,fb,e9[0]]))):ek.$==1&&(fd=(fe=ek.$0,G.Identifier(fe[0],fe[1])),fd!=null&&fd.$==1&&(ek.$1.$==1&&((ff=ek.$1.$0,G.Vertical(ff[0],ff[1])).$==3&&(ek.$1.$1.$==1&&(ek.$1.$1.$1.$==1&&(ek.$1.$1.$1.$1.$==1&&(fc=[ek.$1.$1.$1.$1.$0,ek.$1.$1.$0,ek.$1.$1.$1.$1.$1,fd.$0,ek.$1.$1.$1.$0],true)))))))?null:ek.$==1&&(fh=(fi=ek.$0,G.Identifier(fi[0],fi[1])),fh!=null&&fh.$==1&&(ek.$1.$==1&&(fj=(fk=ek.$1.$0,G.Vertical(fk[0],fk[1])),fj.$==5&&(ek.$1.$1.$==1&&(fg=[ek.$1.$1.$0,ek.$1.$1.$1,fj.$0,fh.$0],true)))))?(fl=fg[3],G.entryDoc(fl,(G.createElementM())([ei,fl,fg[2],fg[0],fg[1]]))):null;}catch(fm){((function(fn){return function(fo){return fn(bz.prettyPrint(fo));};}(function(fn){ee.log(fn);}))(fm));return null;}};G.getAttrs=function(ei,ej,ek){var el;el=[ej,ek];return bB.ofSeq(bb.delay(function(){return bb.append(bb.choose(function(em){var en,eo,ep,eq,er,es;return!F.Equals(em,null)&&em.length===2&&(eo=Q.get(em,1),bi.Trim(Q.get(em,0))!==""&&bi.Trim(eo)!=="")?(ep=Q.get(em,1),(eq=Q.get(em,0),{$:1,$0:(er=G.getTextData(ei,bi.Trim(ep)),er.$==1?cE.Dynamic(bi.Trim(eq),er.$0):er.$==2?(es=er.$0,cE.Handler(bi.Trim(eq),function(et){return function(eu){return j.callFunction(et,eu,es.actFunction);};})):cS.Create(bi.Trim(eq),bi.Trim(er.$0)))})):null;},bb.map(function(em){return b4.splitByChar("=",em);},b4.splitByChar(";",el[0]))),bb.delay(function(){return bb.choose(function(em){var en,eo,ep,eq,er;return!F.Equals(em,null)&&em.length===2&&(eo=Q.get(em,1),bi.Trim(Q.get(em,0))!==""&&bi.Trim(eo)!=="")?(ep=Q.get(em,1),(eq=Q.get(em,0),{$:1,$0:(er=G.getTextData(ei,bi.Trim(ep)),er.$==1?cE.DynamicStyle(bi.Trim(eq),er.$0):er.$==2?cE.Style(bi.Trim(eq),(function(es){return function(et){return es("${"+bz.toSafe(et)+"}");};}(a.id))(er.$0.actName)):cE.Style(bi.Trim(eq),bi.Trim(er.$0)))})):null;},bb.map(function(em){return b4.splitByChar(":",em);},b4.splitByChar(";",el[0])));}));}));};G.getText=function(ei,ej,ek){var el,em,en,eo,ep,eq,er,es,et;el=G.Identifier(ej,ek);return el!=null&&el.$==1?(em=el.$0,(en=((G.splitName())(ei))(em),(eo=en[0],(ep=en[1],(eq=(er=j.tryGetViw(eo,ep),er==null?null:{$:1,$0:W.TextView(er.$0.viwView)}),eq==null?(es=(et=j.tryGetVar(eo,ep),et==null?null:{$:1,$0:W.TextView(et.$0.varVar.get_View())}),es==null?W.TextNode(em):es.$0):eq.$0))))):W.TextNode(ej);};G.singleDoc=function(ei,ej){return W.EmbedView(o.Map(function(ek){var el;return ek.$==1&&(ek.$1.$==0&&(el=ek.$0,true))?el:G.errDoc((function(em){return function(en){return em("expected exactly 1 element "+bz.printList(function(eo){return"("+bz.prettyPrint(eo[0])+", "+bz.prettyPrint(eo[1])+")";},en));};}(a.id))(ej));},o.Map(function(){return G.getDocs(ei,ej);},j.mainDocV().get_View())));};G.createSplitter=function(ei,ej,ek,el,em){var en;en=G.pairOfDocs(ei,em);return el.$==1?G.variableSplitter(ek,el.$0,el.$1,el.$2,en[0],en[1]):G.fixedSplitter(ek,el.$0,el.$1,en[0],en[1]);};G.createButton=function(ei,ej,ek,el,em){return G.turnToView(function(){var en,eo,ep,eq,er;function es(et,eu){return j.callFunction(null,null,et.actFunction);}en=(eo=(ep=(eq=((G.splitName())(ei))(ek),j.tryGetAct(eq[0],eq[1])),ep==null?null:{$:1,$0:(er=ep.$0,function(et){return es(er,et);})}),eo==null?a.ignore:eo.$0);return W.Button(em[0],G.getAttrs(ei,el[0],el[1]),en);});};G.createInput=function(ei,ej,ek,el){return G.turnToView(function(){var em,en,eo,ep,eq;em=(en=(eo=((G.splitName())(ei))(ek),j.tryGetVoV(eo[0],eo[1])),(ep=(eq=G.getAttrs(ei,el[0],el[1]),function(er){return W.Input(eq,er);}),en==null?null:{$:1,$0:ep(en.$0)}));return em==null?G.errDoc((function(er){return function(es){return er("Missing var: "+bz.toSafe(es));};}(a.id))(ek)):em.$0;});};G.createTextArea=function(ei,ej,ek,el){return G.turnToView(function(){var em,en,eo,ep,eq;em=(en=(eo=((G.splitName())(ei))(ek),j.tryGetVoV(eo[0],eo[1])),(ep=(eq=G.getAttrs(ei,el[0],el[1]),function(er){return W.InputArea(eq,er);}),en==null?null:{$:1,$0:ep(en.$0)}));return em==null?G.errDoc((function(er){return function(es){return er("Missing var: "+bz.toSafe(es));};}(a.id))(ek)):em.$0;});};G.createElement=function(ei,ej,ek,el,em){var en;en=[G.turnToView(function(){return W.Concat(G.getDocs(ei,em));})];return W.Element(ek,G.getAttrs(ei,el[0],el[1]),en);};G.createDoc=function(ei,ej,ek,el){return G.turnToView(function(){var em,en,eo;em=(en=(eo=((G.splitName())(ei))(ek),j.tryGetDoc(eo[0],eo[1])),en==null?null:{$:1,$0:G.getDocFinal(el,en.$0)});return em==null?G.errDoc((function(ep){return function(eq){return ep("Missing doc: "+bz.toSafe(eq));};}(a.id))(ek)):em.$0;});};G.createTemplate=function(ei,ej,ek,el,em){return G.turnToView(function(){var en,eo,ep,eq,er,es;ep=G.getAttrs(ei,el[0],el[1]);cV.LoadLocalTemplates("local");function et(ev,ew){var ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI;ex=G.Identifier(ew[0],ew[1]);return ex!=null&&ex.$==1?(ey=ex.$0,ez=ev[0],eA=(eB=(eC=(eD=((G.splitName())(ei))(ey),j.tryGetDoc(eD[0],eD[1])),eC==null?null:{$:1,$0:{$:0,$0:ez.toLowerCase(),$1:(G.getDocF(cg.Empty,eC.$0))[0]}}),eB==null?(eE=(eF=((G.splitName())(ei))(ey),j.tryGetVar(eF[0],eF[1])),eE==null?null:{$:1,$0:{$:8,$0:ez.toLowerCase(),$1:eE.$0.varVar}}):eB),eA==null?{$:0,$0:ez.toLowerCase(),$1:G.errDoc((function(eJ){return function(eK){return eJ("Missing element: "+bz.toSafe(eK));};}(a.id))(ey))}:eA.$0):(eG=ev[0],eH=G.getTextData(ei,ew[0]),eH.$==1?{$:2,$0:eG.toLowerCase(),$1:eH.$0}:eH.$==2?(eI=eH.$0,{$:4,$0:eG.toLowerCase(),$1:function(eJ){return function(eK){return j.callFunction(eJ,eK,eI.actFunction);};}}):{$:1,$0:eG.toLowerCase(),$1:eH.$0});}function eu(ev,ew){return ev%2===0;}try{eo={$:1,$0:(eq=(er=bb.map(function(ev){return et(ev[0],ev[1]);},bb.map(function(ev){return ev[1];},bb.filter(function(ev){return eu(ev[0],ev[1]);},bb.indexed(bb.pairwise(em))))),(bb.isEmpty(ep)?a.id:(es=[{$:3,$0:"attrs",$1:cS.Concat(ep)}],function(ev){return bb.append(es,ev);}))(er)),cV.NamedTemplate("local",{$:1,$0:ek[0].toLowerCase()},eq))};}catch(ev){eo=null;}return eo==null?G.errDoc((function(ew){return function(ex){return ew("Missing template: "+bz.toSafe(ex));};}(a.id))(ek[0])):eo.$0;});};G.createConcat=function(ei,ej,ek){return G.turnToView(function(){return W.Concat(G.getDocs(ei,ek));});};G.createVar=function(ei,ej,ek){return h.Create$1(ek);};G.addNewLayout=function(ei,ej){var ek,el;G.addLayout((ek=(el=!F.Equals(ej,null)?ej:"\r\n            split horizontal 0-50-100 AppFramework.AppFwkClient Hello\r\n            Hello h1 \"color:blue; class=btn-primary\" \"How are you today?\" Ask\r\n            Ask Doc InputLabel \"placeholder=Type you answer here...\" \"Answer:\" AppFramework.mainDocV  \r\n            ",(b4.unindentStr())(el)),G.newLyt(!F.Equals(ej,null)?ei:"Lyt_"+bi.Replace(a.String(bu.NewGuid()),"-",""),ek)));};G.getDocF=function(ei,ej){var ek,el;el=ej.docDoc;switch(el.$==1?ei.$==1?(ek=[el.$0,ei.$0[0],ei.$1],1):6:el.$==2?ei.$==1?ei.$1.$==1?(ek=[el.$0,ei.$0[0],ei.$1.$0[0],ei.$1.$1],2):6:6:el.$==3?ei.$==1?ei.$1.$==1?ei.$1.$1.$==1?(ek=[el.$0,ei.$0[0],ei.$1.$0[0],ei.$1.$1.$0[0],ei.$1.$1.$1],3):6:6:6:el.$==4?ei.$==1?ei.$1.$==1?ei.$1.$1.$==1?ei.$1.$1.$1.$==1?(ek=[el.$0,ei.$0[0],ei.$1.$0[0],ei.$1.$1.$0[0],ei.$1.$1.$1.$0[0],ei.$1.$1.$1.$1],4):6:6:6:6:el.$==5?ei.$==1?ei.$1.$==1?ei.$1.$1.$==1?ei.$1.$1.$1.$==1?ei.$1.$1.$1.$1.$==1?(ek=[el.$0,ei.$0[0],ei.$1.$0[0],ei.$1.$1.$0[0],ei.$1.$1.$1.$0[0],ei.$1.$1.$1.$1.$0[0],ei.$1.$1.$1.$1.$1],5):6:6:6:6:6:(ek=[el.$0,ei],0)){case 0:return[ek[0].f(),ek[1]];case 1:return[ek[0](ek[1]),ek[2]];case 2:return[(ek[0](ek[1]))(ek[2]),ek[3]];case 3:return[((ek[0](ek[1]))(ek[2]))(ek[3]),ek[4]];case 4:return[(((ek[0](ek[1]))(ek[2]))(ek[3]))(ek[4]),ek[5]];case 5:return[((((ek[0](ek[1]))(ek[2]))(ek[3]))(ek[4]))(ek[5]),ek[6]];case 6:return[W.Element("div",[],[W.TextNode((((ea.Curried3(function(em,en,eo){return em("Parameters do not coincide with definition "+cJ.p(en)+" - "+bz.printList(function(ep){return"("+bz.prettyPrint(ep[0])+", "+bz.prettyPrint(ep[1])+")";},eo));}))(a.id))(ej))(ei))]),cg.Empty];}};G.splitTokens=function(ei){return bB.ofSeq(bb.collect(a.id,bb.mapi(function(ej,ek){var el;return ej%2===1?[[ek,true]]:(el=bi.Trim(ek),el===""?[]:Q.map(function(em){return[em,false];},bi.SplitChars(el,[" "],1)));},b4.splitByChar("\"",ei))));};G.Identifier=function(ei,ej){var ek,el,em;return(el=i.REGEX$1("^[$a-zA-Z_][0-9a-zA-Z_\\.\\-$]*$","",ei),el!=null&&el.$==1&&((em=el.$0,!F.Equals(em,null)&&em.length===1)&&(ej?false:(ek=Q.get(el.$0,0),true))))?{$:1,$0:ek}:null;};G.Vertical=function(ei,ej){var ek,el,em,en,eo,ep;return(ej?false:ei==="vertical")?{$:0,$0:null}:(ej?false:ei==="horizontal")?{$:1,$0:null}:(ej?false:ei==="layout")?{$:2,$0:null}:(ej?false:ei==="grid")?{$:3,$0:null}:(ej?false:ei==="template")?{$:4,$0:null}:(ep=G.Identifier(ei,ej),ep!=null&&ep.$==1?{$:5,$0:ep.$0}:{$:6,$0:null});};G.getExtraLines=function(ei,ej){var ek,el,em,en;ek=(el=(em=bb.tryFindIndex(function(eo){return bi.Trim(eo)!==""&&!ei(eo);},bb.skip(1,ej)),em==null?null:{$:1,$0:1+em.$0}),(en=Q.length(ej),el==null?en:el.$0));return[b5.array(ej,{$:1,$0:1},{$:1,$0:ek-1}),b5.array(ej,{$:1,$0:ek},null)];};G.createLines=function(ei,ej,ek,el,em,en){var eo,ep,eq,er,es,et,eu,ev,ew,ex;eo=bi.replicate(ej,":");ep=":"+eo;eq=bb.tryHead(en);return eq!=null&&eq.$==1?(er=b4.StartsWith(eo,bi.Trim(eq.$0)),er!=null&&er.$==1?(es=er.$0,(et=G.getExtraLines(function(ey){return bi.StartsWith(bi.Trim(ey),ep);},en),(eu=(((ea.Curried3(function(ey,ez,eA){return ey(bz.toSafe(ez)+"_"+a.String(eA));}))(a.id))(ei))(em),(ev=G.createLines(eu,ej+1,[],[],1,et[0]),(ew=ev[1],(ex=ev[0],G.createLines(ei,ej,Q.ofSeq(bb.delay(function(){return bb.append(ek,bb.delay(function(){return[eu];}));})),Q.ofSeq(bb.delay(function(){return bb.append(el,bb.delay(function(){return bb.append([eu+" "+es+" "+bi.concat(" ",ex)],bb.delay(function(){return ew;}));}));})),em+1,et[1]))))))):[ek,el]):[ek,el];};G.Measures$1=function(ei,ej){var ek,el,em,en,eo,ep,eq,er,es,et;ek=[ei,ej];return ek[1]?null:(el=b4.splitByChar("-",ek[0]),!F.Equals(el,null)&&el.length===1&&(en=(bI.Double())(Q.get(el,0)),en!=null&&en.$==1&&(em=en.$0,true))?{$:1,$0:new dp({$:0,$0:em,$1:true})}:!F.Equals(el,null)&&el.length===2&&(Q.get(el,0)===""&&(ep=(bI.Double())(Q.get(el,1)),ep!=null&&ep.$==1&&(eo=ep.$0,true)))?{$:1,$0:new dp({$:0,$0:eo,$1:false})}:!F.Equals(el,null)&&el.length===3&&(er=(bI.Double())(Q.get(el,0)),er!=null&&er.$==1&&(es=(bI.Double())(Q.get(el,1)),es!=null&&es.$==1&&(et=(bI.Double())(Q.get(el,2)),et!=null&&et.$==1&&(eq=[et.$0,er.$0,es.$0],true))))?{$:1,$0:new dp({$:1,$0:eq[1],$1:eq[2],$2:eq[0]})}:null);};G.entryDoc=function(ei,ej){return{$:1,$0:{$:2,$0:j.newDoc(ei,q.Create(function(){return ej;}))}};};G.createSplitterM=function(){bQ.$cctor();return bQ.createSplitterM;};G.Var=function(ei,ej){var ek,el,em,en,eo,ep;return(ej?false:ei==="Var")?{$:0,$0:null}:(ej?false:ei==="Doc")?{$:1,$0:null}:(ej?false:ei==="button")?{$:2,$0:null}:(ej?false:ei==="input")?{$:3,$0:null}:(ej?false:ei==="textarea")?{$:4,$0:null}:(ej?false:ei==="select")?{$:5,$0:null}:{$:6,$0:null};};G.createButtonM=function(){bQ.$cctor();return bQ.createButtonM;};G.createInputM=function(){bQ.$cctor();return bQ.createInputM;};G.createTextAreaM=function(){bQ.$cctor();return bQ.createTextAreaM;};G.entryVar=function(ei,ej){return{$:1,$0:{$:0,$0:j.newVar(ei,ej)}};};G.createVarM=function(){bQ.$cctor();return bQ.createVarM;};G.createDocM=function(){bQ.$cctor();return bQ.createDocM;};G.createTemplateM=function(){bQ.$cctor();return bQ.createTemplateM;};G.Concat=function(ei,ej){var ek;return(ej?false:ei==="concat")?{$:0,$0:null}:{$:1,$0:null};};G.createConcatM=function(){bQ.$cctor();return bQ.createConcatM;};G.createElementM=function(){bQ.$cctor();return bQ.createElementM;};G.getTextData=function(ei,ej){var ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew;ek=(el=b4.delimitedO("@{","}",ej),el==null?null:{$:1,$0:(em=el.$0,(en=em[0],(eo=em[1],(ep=em[2],(eq=((G.splitName())(ei))(eo),(er=eq[0],(es=eq[1],(et=(eu=j.tryGetWoW(er,es),eu==null?null:{$:1,$0:function(ex){var ey,ez;ez=G.getTextData(ei,ep);switch(en===""?ez.$==1?(ey=ez.$0,2):ez.$==2?(ey=ez.$0,3):ez.$0===""?0:(ey=ez.$0,1):ez.$==1?(ey=ez.$0,2):ez.$==2?(ey=ez.$0,3):(ey=ez.$0,1)){case 0:return{$:1,$0:ex};case 1:return{$:1,$0:o.Map(function(eA){return en+eA+ey;},ex)};case 2:return{$:1,$0:o.Map2(function(eA,eB){return en+eA+eB;},ex,ey)};case 3:return{$:2,$0:ey};}}(eu.$0)}),et==null?(ev=(ew=j.tryGetAct(er,es),ew==null?null:{$:1,$0:{$:2,$0:ew.$0}}),ev==null?{$:0,$0:((((ea.Curried(function(ex,ey,ez,eA){return ex(bz.toSafe(ey)+" ${Missing "+bz.toSafe(ez)+"}"+bz.toSafe(eA));},4))(a.id))(en))(eo))(ep)}:ev.$0):et.$0))))))))});return ek==null?{$:0,$0:ej}:ek.$0;};G.getDocs=function(ei,ej){var ek;return ej.$==0?cg.Empty:(ek=G.getOneDoc(ei,ej),new cg({$:1,$0:ek[0],$1:G.getDocs(ei,ek[1])}));};G.pairOfDocs=function(ei,ej){var ek;ek=o.Map(function(el){var em;return el.$==1&&(el.$1.$==1&&(el.$1.$1.$==0&&(em=[el.$0,el.$1.$0],true)))?[em[0],em[1]]:[G.errDoc((function(en){return function(eo){return en("splitter expects exactly 2 elements "+bz.printList(function(ep){return"("+bz.prettyPrint(ep[0])+", "+bz.prettyPrint(ep[1])+")";},eo));};}(a.id))(ej)),G.errDoc("part 2")];},o.Map(function(){return G.getDocs(ei,ej);},j.mainDocV().get_View()));return[W.EmbedView(o.Map(function(el){return el[0];},ek)),W.EmbedView(o.Map(function(el){return el[1];},ek))];};G.variableSplitter=function(ei,ej,ek,el,em,en){return W.Element("wcomp-splitter",bB.ofSeq(bb.delay(function(){return bb.append(ei?[cS.Create("vertical","")]:[],bb.delay(function(){return bb.append([cS.Create("min",a.String(ej))],bb.delay(function(){return bb.append([cS.Create("value",a.String(ek))],bb.delay(function(){return[cS.Create("max",a.String(el))];}));}));}));})),bB.ofArray([em,en]));};G.fixedSplitter=function(ei,ej,ek,el,em){var en,eo,ep,eq,er,es,et;en=(((ek?ea.Curried3(function(eu,ev,ew){return eu(ev.toFixed(6)+"px calc(100% - "+ew.toFixed(6)+"px)");}):ea.Curried3(function(eu,ev,ew){return eu("calc(100% - "+ev.toFixed(6)+"px) "+ew.toFixed(6)+"px");}))(a.id))(ej))(ej);return ei?(eo=R.Make().WithHole({$:1,$0:"partsizes",$1:en}).WithHole({$:0,$0:"first",$1:el}).WithHole({$:0,$0:"second",$1:em}),(ep=S.CompleteHoles(eo.k,eo.h,[]),(eq=new P.New(ep[1],cI.fixedsplitterver(ep[0])),(eo.i=eq,eq)))).get_Doc():(er=R.Make().WithHole({$:1,$0:"partsizes",$1:en}).WithHole({$:0,$0:"first",$1:el}).WithHole({$:0,$0:"second",$1:em}),(es=S.CompleteHoles(er.k,er.h,[]),(et=new P.New(es[1],cI.fixedsplitterhor(es[0])),(er.i=et,et)))).get_Doc();};G.getOneDoc=function(ei,ej){var ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey;return ej.$==1&&(el=(em=ej.$0,G.Identifier(em[0],em[1])),el!=null&&el.$==1&&(ek=[el.$0,ej.$1],true))?(en=ek[0],(eo=ek[1],(ep=((G.splitName())(ei))(en),(eq=ep[0],(er=ep[1],(es=(et=j.tryGetDoc(eq,er),et==null?null:{$:1,$0:G.getDocF(eo,et.$0)}),es==null?(eu=(ev=j.tryGetWoW(eq,er),ev==null?null:{$:1,$0:[W.TextView(ev.$0),eo]}),eu==null?[G.errDoc((ew=(function(ez){return function(eA){return ez("Missing doc: "+bz.toSafe(eA));};}(a.id))(en),(bc.print(ew),ew))),eo]:eu.$0):es.$0)))))):ej.$==0?[W.get_Empty(),cg.Empty]:(ex=ej.$1,(ey=G.getTextData(ei,ej.$0[0]),ey.$==1?[W.TextView(ey.$0),ex]:ey.$==2?[G.errDoc((function(ez){return function(eA){return ez("Unexpected action: "+bz.toSafe(eA));};}(a.id))(ey.$0.actName)),ex]:[W.TextNode(ey.$0),ex]));};H.ofObj=function(ei){return ei==null?null:{$:1,$0:ei};};K.New=function(ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA){return{id:ei,idPadreO:ej,idForAuthorize:ek,influyente:el,datosPersonales:em,contactos:en,identificacion:eo,isInternal:ep,status:eq,diaPago:er,tipo:es,fechaRegistro:et,fechaStatus:eu,nReferidos:ev,nRefActivos:ew,nDescendientes:ex,nDescActivos:ey,comision:ez,nivel:eA};};L.empty=function(){bW.$cctor();return bW.empty;};L.nombre2=function(ei){var ej,ek;return(ej=(ek=ei.titulo,ek==null?null:{$:1,$0:" "+ek.$0}),ej==null?"":ej.$0)+bi.Trim(ei.nombre1+" "+ei.nombre2)+" "+bi.Trim(ei.apellido1+" "+ei.apellido2);};L.nombre=function(ei){var ej,ek;return(ej=(ek=ei.titulo,ek==null?null:{$:1,$0:" "+ek.$0}),ej==null?"":ej.$0)+(ei.apellido1===""?"":bi.Trim(ei.apellido1+" "+ei.apellido2)+", ")+ei.nombre1+" "+ei.nombre2;};L.busqueda=function(ei){var ej,ek;function el(er,es){return[er,Q.ofSeq(bb.map(function(et){return et[1];},es))];}function em(er){var es,et;es=(et=null,[ek.TryGetValue(er,{get:function(){return et;},set:function(eu){et=eu;}}),et]);return es[0]?{$:1,$0:es[1]}:null;}function en(er){var es,et;es=(et=null,[ej.TryGetValue({$:1,$0:er},{get:function(){return et;},set:function(eu){et=eu;}}),et]);return es[0]?es[1]:[];}function eo(er){var es,et;es=(et=er==null?null:em(er.$0),et==null?null:{$:1,$0:1+eo(et.$0.idPadreO)});return es==null?0:es.$0;}function ep(er){return Q.choose(em,en(er.id));}function eq(er){return Q.ofSeq(bb.delay(function(){return bb.collect(function(es){return bb.append([es],bb.delay(function(){return eq(es);}));},ep(er));}));}ej=new cc.New(bb.map(function(er){return el(er[0],er[1]);},bb.groupBy(function(er){return er[0];},bb.map(function(er){return[er.idPadreO,er.id];},ei))));ek=new cc.New(bb.map(function(er){return[er.id,er];},ei));return be.New(en,eo,function(er){try{return ek.get_Item(er);}catch(es){return(function(et){return function(eu){return et("buscarAliado failed: "+_.p$9(eu));};}(n.FailWith))(er);}},em,ep,eq);};L.comision=function(ei,ej){var ek;ek=L.premisas(ei,ej);return[ej.nRefActivos*ek[0],ej.nDescActivos*ek[1]];};L.premisas=function(ei,ej){var ek;ek=ej.tipo.$==0?[ei.comisionReferidosMaster,ei.comisionDescendientesMaster]:[ei.comisionReferidosRegular,ei.comisionDescendientesRegular];return ej.status.$==2?[ek[0],ek[1]]:[0,0];};L.dia=function(ei){return ei.$==1?5:ei.$==2?10:ei.$==3?15:ei.$==4?20:ei.$==5?25:1;};P=O.TemplateInstance=ea.Class({get_Doc:function(){return this.doc;},Hole:function(ei){return this.allVars.get_Item(ei);}},f,P);P.New=ea.Ctor(function(ei,ej){f.New.call(this);this.doc=ej;this.allVars=ei.$==0?ei.$0:n.FailWith("Should not happen");},P);Q.get=function(ei,ej){Q.checkBounds(ei,ej);return ei[ej];};Q.length=function(ei){return ei.dims===2?ei.length*ei.length:ei.length;};Q.checkBounds=function(ei,ej){if(ej<0||ej>=ei.length)n.FailWith("Index was outside the bounds of the array.");};Q.set=function(ei,ej,ek){Q.checkBounds(ei,ej);ei[ej]=ek;};R=O.ProviderBuilder=ea.Class({WithHole:function(ei){this.h.push(ei);return this;}},null,R);R.Make=function(){var ei;return R.New(null,(ei=bu.NewGuid(),a.String(ei)),[]);};R.New=function(ei,ej,ek){return new R({i:ei,k:ej,h:ek});};S.CompleteHoles=function(ei,ej,ek){var em,en,eo,ep,eq,er;function el(es,et){var eu,ev,ew,ex;return en.Contains(es)?null:(eu=et===0?(ev=h.Create$1(""),[{$:8,$0:es,$1:ev},ev]):et===1?(ew=h.Create$1(0),[{$:13,$0:es,$1:ew},ew]):et===2?(ex=h.Create$1(false),[{$:9,$0:es,$1:ex},ex]):n.FailWith("Invalid value type"),(em.set_Item(es,eu[1]),{$:1,$0:eu[0]}));}em=new bY.New$5();en=new bZ.New$3();eo=cd.Get(ej);try{while(eo.MoveNext()){ep=eo.Current();(ep.$==8?(eq=[ep.$0,b0.Box(ep.$1)],true):ep.$==11?(eq=[ep.$0,b0.Box(ep.$1)],true):ep.$==10?(eq=[ep.$0,b0.Box(ep.$1)],true):ep.$==13?(eq=[ep.$0,b0.Box(ep.$1)],true):ep.$==12?(eq=[ep.$0,b0.Box(ep.$1)],true):ep.$==9&&(eq=[ep.$0,b0.Box(ep.$1)],true))?(er=eq[0],en.Add(er),em.set_Item(er,eq[1])):void 0;}}finally{if(typeof eo=="object"&&"Dispose"in eo)eo.Dispose();}return[bb.append(ej,Q.choose(function(es){return el(es[0],es[1]);},ek)),{$:0,$0:em}];};S.EventQ2=function(ei,ej,ek,el){return{$:5,$0:ej,$1:true,$2:function(em){return function(en){return el({Vars:ek(),Target:em,Event:en});};}};};T.opcionesadministrador=function(ei){cV.LoadLocalTemplates("index");return ei?cV.NamedTemplate("index",{$:1,$0:"opcionesadministrador"},ei):void 0;};T.filaaliado=function(ei){cV.LoadLocalTemplates("index");return ei?cV.NamedTemplate("index",{$:1,$0:"filaaliado"},ei):void 0;};T.tablaaliados=function(ei){cV.LoadLocalTemplates("index");return ei?cV.NamedTemplate("index",{$:1,$0:"tablaaliados"},ei):void 0;};T.aliado=function(ei){cV.LoadLocalTemplates("index");return ei?cV.NamedTemplate("index",{$:1,$0:"aliado"},ei):void 0;};T.calculo=function(ei){cV.LoadLocalTemplates("index");return ei?cV.NamedTemplate("index",{$:1,$0:"calculo"},ei):void 0;};U.p$2=function(ei){return ei.$==2?"Mensaje "+bz.prettyPrint(ei.$0):ei.$==1?"NuevoRegistro "+bz.prettyPrint(ei.$0):"ROk";};T.formaregistro=function(ei){cV.LoadLocalTemplates("index");return ei?cV.NamedTemplate("index",{$:1,$0:"formaregistro"},ei):void 0;};T.filaconsolidado=function(ei){cV.LoadLocalTemplates("index");return ei?cV.NamedTemplate("index",{$:1,$0:"filaconsolidado"},ei):void 0;};T.consolidado=function(ei){cV.LoadLocalTemplates("index");return ei?cV.NamedTemplate("index",{$:1,$0:"consolidado"},ei):void 0;};U.p$4=function(ei){return ei.$==5?"Dia25":ei.$==4?"Dia20":ei.$==3?"Dia15":ei.$==2?"Dia10":ei.$==1?"Dia05":"Dia01";};T.filapago=function(ei){cV.LoadLocalTemplates("index");return ei?cV.NamedTemplate("index",{$:1,$0:"filapago"},ei):void 0;};T.tablapagos=function(ei){cV.LoadLocalTemplates("index");return ei?cV.NamedTemplate("index",{$:1,$0:"tablapagos"},ei):void 0;};T.filadocs=function(ei){cV.LoadLocalTemplates("index");return ei?cV.NamedTemplate("index",{$:1,$0:"filadocs"},ei):void 0;};T.subirdocumentos=function(ei){cV.LoadLocalTemplates("index");return ei?cV.NamedTemplate("index",{$:1,$0:"subirdocumentos"},ei):void 0;};T.autorizacion=function(ei){cV.LoadLocalTemplates("index");return ei?cV.NamedTemplate("index",{$:1,$0:"autorizacion"},ei):void 0;};V.r=function(){return cY.JSUnion(void 0,[[null,[[null,[]]],[]],[null,[[null,["NoUser"]]],[]],[null,[[null,["PreRegister"]]],[]],[null,[[null,["Content"]]],[cY.rString()]],[null,[[null,["Pdf"]]],[cY.rWildcard()]],[null,[[null,["Video"]]],[cY.rWildcard()]]]);};T.datospersonales=function(ei){cV.LoadLocalTemplates("index");return ei?cV.NamedTemplate("index",{$:1,$0:"datospersonales"},ei):void 0;};U.p$1=function(ei){return ei.$==2?"Empresa":ei.$==1?"Femenino":"Masculino";};T.correo=function(ei){cV.LoadLocalTemplates("index");return ei?cV.NamedTemplate("index",{$:1,$0:"correo"},ei):void 0;};T.telefono=function(ei){cV.LoadLocalTemplates("index");return ei?cV.NamedTemplate("index",{$:1,$0:"telefono"},ei):void 0;};T.direccion=function(ei){cV.LoadLocalTemplates("index");return ei?cV.NamedTemplate("index",{$:1,$0:"direccion"},ei):void 0;};T.formadatospersonales=function(ei){cV.LoadLocalTemplates("index");return ei?cV.NamedTemplate("index",{$:1,$0:"formadatospersonales"},ei):void 0;};T.formacontactos=function(ei){cV.LoadLocalTemplates("index");return ei?cV.NamedTemplate("index",{$:1,$0:"formacontactos"},ei):void 0;};T.formacuentas=function(ei){cV.LoadLocalTemplates("index");return ei?cV.NamedTemplate("index",{$:1,$0:"formacuentas"},ei):void 0;};U.p$3=function(ei){return"IdPayment "+bz.prettyPrint(ei.$0);};T.cuentabancaria=function(ei){cV.LoadLocalTemplates("index");return ei?cV.NamedTemplate("index",{$:1,$0:"cuentabancaria"},ei):void 0;};T.tarjetacredito=function(ei){cV.LoadLocalTemplates("index");return ei?cV.NamedTemplate("index",{$:1,$0:"tarjetacredito"},ei):void 0;};U.p=function(ei){return ei.$==3?"ResetPassword":ei.$==2?"EditProfile":ei.$==1?"SignUp":"SignIn";};W=g.Doc=ea.Class({},f,W);W.get_Empty=function(){return W.Mk(null,o.Const());};W.Concat=function(ei){var ej;ej=cz.ofSeqNonCopying(ei);return cz.TreeReduce(W.get_Empty(),W.Append,ej);};W.BindView=function(ei,ej){return W.EmbedView(o.Map(ei,ej));};W.Mk=function(ei,ej){return new W.New(ei,ej);};W.ConvertSeqBy=function(ei,ej,ek){return W.Flatten(o.MapSeqCachedViewBy(ei,function(el,em){return(ej(el))(em);},ek));};W.EmbedView=function(ei){var ej;ej=c5.CreateEmbedNode();return W.Mk({$:2,$0:ej},o.Map(a.ignore,o.Bind(function(ek){c5.UpdateEmbedNode(ej,ek.docNode);return ek.updates;},ei)));};W.Append=function(ei,ej){return W.Mk({$:0,$0:ei.docNode,$1:ej.docNode},o.Map2Unit(ei.updates,ej.updates));};W.TextNode=function(ei){return W.Mk({$:5,$0:da.CreateText(ei)},o.Const());};W.Flatten=function(ei){return W.EmbedView(o.Map(W.Concat,ei));};W.ConvertBy=function(ei,ej,ek){return W.Flatten(o.MapSeqCachedBy(ei,ej,ek));};W.Button=function(ei,ej,ek){var el;el=cS.Concat(ej);return dx.New(W.Clickable("button",ek),el,W.TextNode(ei));};W.Input=function(ei,ej){return W.InputInternal("input",function(){return bb.append(ei,[cE.Value(ej)]);});};W.Element=function(ei,ej,ek){var el,em;el=cS.Concat(ej);em=W.Concat(ek);return dx.New(da.CreateElement(ei),el,em);};W.RunInPlace=function(ei,ej,ek){var el;el=c5.CreateRunState(ej,ek.docNode);o.Sink(dB.get_UseAnimations()||dC.BatchUpdatesEnabled()?dD.StartProcessor(c5.PerformAnimatedUpdate(ei,el,ek.docNode)):function(){c5.PerformSyncUpdate(ei,el,ek.docNode);},ek.updates);};W.Clickable=function(ei,ej){var ek;ek=da.CreateElement(ei);ek.addEventListener("click",function(el){el.preventDefault();return ej();},false);return ek;};W.TextView=function(ei){var ej;ej=c5.CreateTextNode();return W.Mk({$:4,$0:ej},o.Map(function(ek){c5.UpdateTextNode(ej,ek);},ei));};W.InputInternal=function(ei,ej){var ek;ek=da.CreateElement(ei);return dx.New(ek,cS.Concat(ej(ek)),W.get_Empty());};W.Run=function(ei,ej){c5.LinkElement(ei,ej.docNode);W.RunInPlace(false,ei,ej);};W.InputArea=function(ei,ej){return W.InputInternal("textarea",function(){return bb.append(ei,[cE.Value(ej)]);});};W.New=ea.Ctor(function(ei,ej){f.New.call(this);this.docNode=ei;this.updates=ej;},W);X.llamadas=function(){_2.$cctor();return _2.llamadas;};X.ejecutarDataEventoNuevo=function(ei){var ej,ek,el;function em(eq){return ef.stringify((ba.j$4())(eq));}function en(eq){return ef.stringify((ba.j$1())(eq));}function eo(eq){return($.j$4())(ef.parse(eq));}function ep(eq){return($.j$1())(ef.parse(eq));}ej=(ek="ejecutarDataEventoNuevo",[function(eq){var er,es,et;function eu(ex){return bL.invoke(ek,eq,ex);}function ev(ex){return bG.bind(ep,ex);}function ew(ex){return cB.Return(ex);}er=function(ex){return eu(em(ex));};es=(et=function(ex){return ew(ev(ex));},function(ex){return cB.Bind(ex,et);});return function(ex){return es(er(ex));};},function(eq){bL.registroRpcs().Add(ek,function(er){return function(es){var et;function eu(ev){return cB.Return(ev);}return cB.Bind((et=bp.asyncResultM(),et.Run(et.Delay(function(){var ev;ev=eo(es);return et.Bind$4((eq(er))(ev),function(ew){return et.Return(ew);});}))),function(ev){return eu(en(ev));});};});}])[0](m.get_LoggedId());el=bp.asyncResultM();return el.Run(el.Delay(function(){var eq;eq=X.llamadas().Get()+1;X.llamadas().Set(eq);return el.TryFinally(el.Delay(function(){return el.ReturnFrom$4(ej(ei));}),function(){var er;er=X.llamadas().Get()-1;X.llamadas().Set(er);});}));};X.obtenerFormasDePagoPara=function(ei){var ej,ek,el;function em(eq){return ef.stringify(((_do.EncodeArray(ba.j$22))())(eq));}function en(eq){return ef.stringify((ba.j$46())(eq));}function eo(eq){return((_do.DecodeArray($.j$22))())(ef.parse(eq));}function ep(eq){return($.j$46())(ef.parse(eq));}ej=(ek="obtenerFormasDePagoPara",[function(eq){var er,es,et;function eu(ex){return bL.invoke(ek,eq,ex);}function ev(ex){return bG.bind(ep,ex);}function ew(ex){return cB.Return(ex);}er=function(ex){return eu(em(ex));};es=(et=function(ex){return ew(ev(ex));},function(ex){return cB.Bind(ex,et);});return function(ex){return es(er(ex));};},function(eq){bL.registroRpcs().Add(ek,function(er){return function(es){var et;function eu(ev){return cB.Return(ev);}return cB.Bind((et=bp.asyncResultM(),et.Run(et.Delay(function(){var ev;ev=eo(es);return et.Bind$4((eq(er))(ev),function(ew){return et.Return(ew);});}))),function(ev){return eu(en(ev));});};});}])[0](m.get_LoggedId());el=bp.asyncResultM();return el.Run(el.Delay(function(){var eq;eq=X.llamadas().Get()+1;X.llamadas().Set(eq);return el.TryFinally(el.Delay(function(){return el.ReturnFrom$4(ej(ei));}),function(){var er;er=X.llamadas().Get()-1;X.llamadas().Set(er);});}));};X.actualizarSubscripcion=function(ei){var ej,ek,el;ej=(ek=new Y({$:0,$0:m.get_LoggedId()}),function(em){return(new bN.New()).Async("ProzperServer:FsRoot.Prozper+Rpc.actualizarSubscripcion:808715793",[ek,em]);});el=bp.asyncResultM();return el.Run(el.Delay(function(){var em;em=X.llamadas().Get()+1;X.llamadas().Set(em);return el.TryFinally(el.Delay(function(){return el.ReturnFrom$4(ej(ei));}),function(){var en;en=X.llamadas().Get()-1;X.llamadas().Set(en);});}));};X.enviarCorreosInvitacion=function(ei,ej,ek){var el,em,en,eo;function ep(et){return ef.stringify(((_do.EncodeTuple([_do.Id(),ba.j$7,_do.EncodeArray(_do.Id())]))())(et));}function eq(et){return ef.stringify((ba.j$30())(et));}function er(et){return((_do.DecodeTuple([_do.Id(),$.j$7,_do.DecodeArray(_do.Id())]))())(ef.parse(et));}function es(et){return($.j$30())(ef.parse(et));}el=(em="enviarCorreosInvitacion",[function(et){var eu,ev,ew;function ex(eA){return bL.invoke(em,et,eA);}function ey(eA){return bG.bind(es,eA);}function ez(eA){return cB.Return(eA);}eu=function(eA){return ex(ep(eA));};ev=(ew=function(eA){return ez(ey(eA));},function(eA){return cB.Bind(eA,ew);});return function(eA){return ev(eu(eA));};},function(et){bL.registroRpcs().Add(em,function(eu){return function(ev){var ew;function ex(ey){return cB.Return(ey);}return cB.Bind((ew=bp.asyncResultM(),ew.Run(ew.Delay(function(){var ey;ey=er(ev);return ew.Bind$4((et(eu))(ey),function(ez){return ew.Return(ez);});}))),function(ey){return ex(eq(ey));});};});}])[0](m.get_LoggedId());en=[ei,ej,ek];eo=bp.asyncResultM();return eo.Run(eo.Delay(function(){var et;et=X.llamadas().Get()+1;X.llamadas().Set(et);return eo.TryFinally(eo.Delay(function(){return eo.ReturnFrom$4(el(en));}),function(){var eu;eu=X.llamadas().Get()-1;X.llamadas().Set(eu);});}));};X.obtenerUnions=function(){var ei;function ej(){return(new bN.New()).Async("ProzperServer:FsRoot.Prozper+Rpc.obtenerUnions:1790054391",[]);}ei=bp.asyncResultM();return ei.Run(ei.Delay(function(){var ek;ek=X.llamadas().Get()+1;X.llamadas().Set(ek);return ei.TryFinally(ei.Delay(function(){return ei.ReturnFrom$4(ej(void 0));}),function(){var el;el=X.llamadas().Get()-1;X.llamadas().Set(el);});}));};X.iterA=function(ei){function ej(ek){a.alert(ek);}bq.iterA(function(ek){return ej(bv.summarized(ek));},a.ignore,ei);};X.agregarUsuarioSiEsNuevo=function(ei){var ej,ek,el;function em(eq){return ef.stringify(((_do.EncodeArray(_do.EncodeTuple([_do.Id(),_do.Id()])))())(eq));}function en(eq){return ef.stringify((ba.j$30())(eq));}function eo(eq){return((_do.DecodeArray(_do.DecodeTuple([_do.Id(),_do.Id()])))())(ef.parse(eq));}function ep(eq){return($.j$30())(ef.parse(eq));}ej=(ek="agregarUsuarioSiEsNuevo",[function(eq){var er,es,et;function eu(ex){return bL.invoke(ek,eq,ex);}function ev(ex){return bG.bind(ep,ex);}function ew(ex){return cB.Return(ex);}er=function(ex){return eu(em(ex));};es=(et=function(ex){return ew(ev(ex));},function(ex){return cB.Bind(ex,et);});return function(ex){return es(er(ex));};},function(eq){bL.registroRpcs().Add(ek,function(er){return function(es){var et;function eu(ev){return cB.Return(ev);}return cB.Bind((et=bp.asyncResultM(),et.Run(et.Delay(function(){var ev;ev=eo(es);return et.Bind$4((eq(er))(ev),function(ew){return et.Return(ew);});}))),function(ev){return eu(en(ev));});};});}])[0](m.get_LoggedId());el=bp.asyncResultM();return el.Run(el.Delay(function(){var eq;eq=X.llamadas().Get()+1;X.llamadas().Set(eq);return el.TryFinally(el.Delay(function(){return el.ReturnFrom$4(ej(ei));}),function(){var er;er=X.llamadas().Get()-1;X.llamadas().Set(er);});}));};X.obtenerEstadoParaUsuario=function(ei){var ej,ek;function el(em){return(new bN.New()).Async("ProzperServer:FsRoot.Prozper+Rpc.obtenerEstadoParaUsuario:-1569835008",[em]);}ej=new Y({$:0,$0:m.get_LoggedId()});ek=bp.asyncResultM();return ek.Run(ek.Delay(function(){var em;em=X.llamadas().Get()+1;X.llamadas().Set(em);return ek.TryFinally(ek.Delay(function(){return ek.ReturnFrom$4(el(ej));}),function(){var en;en=X.llamadas().Get()-1;X.llamadas().Set(en);});}));};X.borrarFormaPago=function(ei){var ej,ek,el;function em(eq){return ef.stringify((ba.j$34())(eq));}function en(eq){return ef.stringify((ba.j$45())(eq));}function eo(eq){return($.j$34())(ef.parse(eq));}function ep(eq){return($.j$45())(ef.parse(eq));}ej=(ek="borrarFormaPago",[function(eq){var er,es,et;function eu(ex){return bL.invoke(ek,eq,ex);}function ev(ex){return bG.bind(ep,ex);}function ew(ex){return cB.Return(ex);}er=function(ex){return eu(em(ex));};es=(et=function(ex){return ew(ev(ex));},function(ex){return cB.Bind(ex,et);});return function(ex){return es(er(ex));};},function(eq){bL.registroRpcs().Add(ek,function(er){return function(es){var et;function eu(ev){return cB.Return(ev);}return cB.Bind((et=bp.asyncResultM(),et.Run(et.Delay(function(){var ev;ev=eo(es);return et.Bind$4((eq(er))(ev),function(ew){return et.Return(ew);});}))),function(ev){return eu(en(ev));});};});}])[0](m.get_LoggedId());el=bp.asyncResultM();return el.Run(el.Delay(function(){var eq;eq=X.llamadas().Get()+1;X.llamadas().Set(eq);return el.TryFinally(el.Delay(function(){return el.ReturnFrom$4(ej(ei));}),function(){var er;er=X.llamadas().Get()-1;X.llamadas().Set(er);});}));};X.registrarTarjeta=function(ei){var ej,ek,el;function em(eq){return ef.stringify((ba.j$36())(eq));}function en(eq){return ef.stringify((ba.j$45())(eq));}function eo(eq){return($.j$36())(ef.parse(eq));}function ep(eq){return($.j$45())(ef.parse(eq));}ej=(ek="registrarTarjeta",[function(eq){var er,es,et;function eu(ex){return bL.invoke(ek,eq,ex);}function ev(ex){return bG.bind(ep,ex);}function ew(ex){return cB.Return(ex);}er=function(ex){return eu(em(ex));};es=(et=function(ex){return ew(ev(ex));},function(ex){return cB.Bind(ex,et);});return function(ex){return es(er(ex));};},function(eq){bL.registroRpcs().Add(ek,function(er){return function(es){var et;function eu(ev){return cB.Return(ev);}return cB.Bind((et=bp.asyncResultM(),et.Run(et.Delay(function(){var ev;ev=eo(es);return et.Bind$4((eq(er))(ev),function(ew){return et.Return(ew);});}))),function(ev){return eu(en(ev));});};});}])[0](m.get_LoggedId());el=bp.asyncResultM();return el.Run(el.Delay(function(){var eq;eq=X.llamadas().Get()+1;X.llamadas().Set(eq);return el.TryFinally(el.Delay(function(){return el.ReturnFrom$4(ej(ei));}),function(){var er;er=X.llamadas().Get()-1;X.llamadas().Set(er);});}));};X.registrarCuenta=function(ei){var ej,ek,el;function em(eq){return ef.stringify((ba.j$41())(eq));}function en(eq){return ef.stringify((ba.j$45())(eq));}function eo(eq){return($.j$41())(ef.parse(eq));}function ep(eq){return($.j$45())(ef.parse(eq));}ej=(ek="registrarCuenta",[function(eq){var er,es,et;function eu(ex){return bL.invoke(ek,eq,ex);}function ev(ex){return bG.bind(ep,ex);}function ew(ex){return cB.Return(ex);}er=function(ex){return eu(em(ex));};es=(et=function(ex){return ew(ev(ex));},function(ex){return cB.Bind(ex,et);});return function(ex){return es(er(ex));};},function(eq){bL.registroRpcs().Add(ek,function(er){return function(es){var et;function eu(ev){return cB.Return(ev);}return cB.Bind((et=bp.asyncResultM(),et.Run(et.Delay(function(){var ev;ev=eo(es);return et.Bind$4((eq(er))(ev),function(ew){return et.Return(ew);});}))),function(ev){return eu(en(ev));});};});}])[0](m.get_LoggedId());el=bp.asyncResultM();return el.Run(el.Delay(function(){var eq;eq=X.llamadas().Get()+1;X.llamadas().Set(eq);return el.TryFinally(el.Delay(function(){return el.ReturnFrom$4(ej(ei));}),function(){var er;er=X.llamadas().Get()-1;X.llamadas().Set(er);});}));};X.validarFormaPago=function(ei){var ej,ek,el;function em(eq){return ef.stringify((ba.j$34())(eq));}function en(eq){return ef.stringify((ba.j$45())(eq));}function eo(eq){return($.j$34())(ef.parse(eq));}function ep(eq){return($.j$45())(ef.parse(eq));}ej=(ek="validarFormaPago",[function(eq){var er,es,et;function eu(ex){return bL.invoke(ek,eq,ex);}function ev(ex){return bG.bind(ep,ex);}function ew(ex){return cB.Return(ex);}er=function(ex){return eu(em(ex));};es=(et=function(ex){return ew(ev(ex));},function(ex){return cB.Bind(ex,et);});return function(ex){return es(er(ex));};},function(eq){bL.registroRpcs().Add(ek,function(er){return function(es){var et;function eu(ev){return cB.Return(ev);}return cB.Bind((et=bp.asyncResultM(),et.Run(et.Delay(function(){var ev;ev=eo(es);return et.Bind$4((eq(er))(ev),function(ew){return et.Return(ew);});}))),function(ev){return eu(en(ev));});};});}])[0](m.get_LoggedId());el=bp.asyncResultM();return el.Run(el.Delay(function(){var eq;eq=X.llamadas().Get()+1;X.llamadas().Set(eq);return el.TryFinally(el.Delay(function(){return el.ReturnFrom$4(ej(ei));}),function(){var er;er=X.llamadas().Get()-1;X.llamadas().Set(er);});}));};X.obtenerListaDocs=function(){var ei,ej,ek;function el(ep){return ef.stringify(((_do.Id())())(ep));}function em(ep){return ef.stringify((ba.j$47())(ep));}function en(ep){return((_do.Id())())(ef.parse(ep));}function eo(ep){return($.j$47())(ef.parse(ep));}ei=(ej="obtenerListaDocs",[function(ep){var eq,er,es;function et(ew){return bL.invoke(ej,ep,ew);}function eu(ew){return bG.bind(eo,ew);}function ev(ew){return cB.Return(ew);}eq=function(ew){return et(el(ew));};er=(es=function(ew){return ev(eu(ew));},function(ew){return cB.Bind(ew,es);});return function(ew){return er(eq(ew));};},function(ep){bL.registroRpcs().Add(ej,function(eq){return function(er){var es;function et(eu){return cB.Return(eu);}return cB.Bind((es=bp.asyncResultM(),es.Run(es.Delay(function(){var eu;eu=en(er);return es.Bind$4((ep(eq))(eu),function(ev){return es.Return(ev);});}))),function(eu){return et(em(eu));});};});}])[0](m.get_LoggedId());ek=bp.asyncResultM();return ek.Run(ek.Delay(function(){var ep;ep=X.llamadas().Get()+1;X.llamadas().Set(ep);return ek.TryFinally(ek.Delay(function(){return ek.ReturnFrom$4(ei(void 0));}),function(){var eq;eq=X.llamadas().Get()-1;X.llamadas().Set(eq);});}));};X.obtenerFormasDePago=function(){var ei,ej,ek;function el(ep){return ef.stringify(((_do.Id())())(ep));}function em(ep){return ef.stringify((ba.j$31())(ep));}function en(ep){return((_do.Id())())(ef.parse(ep));}function eo(ep){return($.j$31())(ef.parse(ep));}ei=(ej="obtenerFormasDePago",[function(ep){var eq,er,es;function et(ew){return bL.invoke(ej,ep,ew);}function eu(ew){return bG.bind(eo,ew);}function ev(ew){return cB.Return(ew);}eq=function(ew){return et(el(ew));};er=(es=function(ew){return ev(eu(ew));},function(ew){return cB.Bind(ew,es);});return function(ew){return er(eq(ew));};},function(ep){bL.registroRpcs().Add(ej,function(eq){return function(er){var es;function et(eu){return cB.Return(eu);}return cB.Bind((es=bp.asyncResultM(),es.Run(es.Delay(function(){var eu;eu=en(er);return es.Bind$4((ep(eq))(eu),function(ev){return es.Return(ev);});}))),function(eu){return et(em(eu));});};});}])[0](m.get_LoggedId());ek=bp.asyncResultM();return ek.Run(ek.Delay(function(){var ep;ep=X.llamadas().Get()+1;X.llamadas().Set(ep);return ek.TryFinally(ek.Delay(function(){return ek.ReturnFrom$4(ei(void 0));}),function(){var eq;eq=X.llamadas().Get()-1;X.llamadas().Set(eq);});}));};Y=J.IdAliado=ea.Class({get_Id:function(){return this.$0;}},null,Y);Z.New=function(ei,ej,ek,el,em,en){return{idAliado:ei,aliados:ej,anoActual:ek,periodoActual:el,premisas:em,nevento:en};};_0=g.ConcreteVar=ea.Class({get_View:function(){return this.view;},Set:function(ei){if(this.isConst)(function(ej){return ej("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal");}(function(ej){ee.log(ej);}));else{_1.Obsolete(this.snap);this.current=ei;this.snap=_1.New({$:2,$0:ei,$1:[]});}},Get:function(){return this.current;},Update:function(ei){this.Set(ei(this.Get()));},UpdateMaybe:function(ei){var ej;ej=ei(this.Get());ej!=null&&ej.$==1?this.Set(ej.$0):void 0;}},p,_0);_0.New=ea.Ctor(function(ei,ej,ek){var el;el=this;p.New.call(this);this.isConst=ei;this.current=ek;this.snap=ej;this.view=function(){return el.snap;};this.id=b3.Int();},_0);_1.Map=function(ei,ej){var ek,el;ek=ej.s;return ek!=null&&ek.$==0?_1.New({$:0,$0:ei(ek.$0)}):(el=_1.New({$:3,$0:[],$1:[]}),(_1.When(ej,function(em){_1.MarkDone(el,ej,ei(em));},el),el));};_1.WhenRun=function(ei,ej,ek){var el;el=ei.s;el==null?ek():el!=null&&el.$==2?(el.$1.push(ek),ej(el.$0)):el!=null&&el.$==3?(el.$0.push(ej),el.$1.push(ek)):ej(el.$0);};_1.WhenObsoleteRun=function(ei,ej){var ek;ek=ei.s;ek==null?ej():ek!=null&&ek.$==2?ek.$1.push(ej):ek!=null&&ek.$==3?ek.$1.push(ej):void 0;};_1.When=function(ei,ej,ek){var el;el=ei.s;el==null?_1.Obsolete(ek):el!=null&&el.$==2?(_1.EnqueueSafe(el.$1,ek),ej(el.$0)):el!=null&&el.$==3?(el.$0.push(ej),_1.EnqueueSafe(el.$1,ek)):ej(el.$0);};_1.MarkDone=function(ei,ej,ek){var el;if(el=ej.s,el!=null&&el.$==0)_1.MarkForever(ei,ek);else _1.MarkReady(ei,ek);};_1.Map2=function(ei,ej,ek){var el,em,en;function eo(ep){var eq,er,es;if(!(eq=en.s,eq!=null&&eq.$==0||eq!=null&&eq.$==2)){er=_1.ValueAndForever(ej);es=_1.ValueAndForever(ek);er!=null&&er.$==1?es!=null&&es.$==1?er.$0[1]&&es.$0[1]?_1.MarkForever(en,ei(er.$0[0],es.$0[0])):_1.MarkReady(en,ei(er.$0[0],es.$0[0])):void 0:void 0;}}el=ej.s;em=ek.s;return el!=null&&el.$==0?em!=null&&em.$==0?_1.New({$:0,$0:ei(el.$0,em.$0)}):_1.Map2Opt1(ei,el.$0,ek):em!=null&&em.$==0?_1.Map2Opt2(ei,em.$0,ej):(en=_1.New({$:3,$0:[],$1:[]}),(_1.When(ej,eo,en),_1.When(ek,eo,en),en));};_1.Map3=function(ei,ej,ek,el){var em,en,eo,ep;function eq(er){var es,et,eu,ev;if(!(es=ep.s,es!=null&&es.$==0||es!=null&&es.$==2)){et=_1.ValueAndForever(ej);eu=_1.ValueAndForever(ek);ev=_1.ValueAndForever(el);et!=null&&et.$==1?eu!=null&&eu.$==1?ev!=null&&ev.$==1?et.$0[1]&&eu.$0[1]&&ev.$0[1]?_1.MarkForever(ep,ei(et.$0[0],eu.$0[0],ev.$0[0])):_1.MarkReady(ep,ei(et.$0[0],eu.$0[0],ev.$0[0])):void 0:void 0:void 0;}}em=ej.s;en=ek.s;eo=el.s;return em!=null&&em.$==0?en!=null&&en.$==0?eo!=null&&eo.$==0?_1.New({$:0,$0:ei(em.$0,en.$0,eo.$0)}):_1.Map3Opt1(ei,em.$0,en.$0,el):eo!=null&&eo.$==0?_1.Map3Opt2(ei,em.$0,eo.$0,ek):_1.Map3Opt3(ei,em.$0,ek,el):en!=null&&en.$==0?eo!=null&&eo.$==0?_1.Map3Opt4(ei,en.$0,eo.$0,ej):_1.Map3Opt5(ei,en.$0,ej,el):eo!=null&&eo.$==0?_1.Map3Opt6(ei,eo.$0,ej,ek):(ep=_1.New({$:3,$0:[],$1:[]}),(_1.When(ej,eq,ep),_1.When(ek,eq,ep),_1.When(el,eq,ep),ep));};_1.MapAsync=function(ei,ej){var ek;ek=_1.New({$:3,$0:[],$1:[]});_1.When(ej,function(el){b2.StartTo(ei(el),function(em){_1.MarkDone(ek,ej,em);});},ek);return ek;};_1.TryGet=function(ei){var ej,ek;ej=ei.s;return(ej!=null&&ej.$==0?(ek=ej.$0,true):ej!=null&&ej.$==2&&(ek=ej.$0,true))?{$:1,$0:ek}:null;};_1.EnqueueSafe=function(ei,ej){var ek,el,em,en;ei.push(ej);if(ei.length%20===0){ek=ei.slice(0);dM.Clear(ei);for(el=0,em=Q.length(ek)-1;el<=em;el++){en=Q.get(ek,el);typeof en=="object"?function(eo){if(eo.s)ei.push(eo);}(en):function(eo){ei.push(eo);}(en);}}else void 0;};_1.MarkForever=function(ei,ej){var ek,el,em,en;ek=ei.s;if(ek!=null&&ek.$==3){ei.s={$:0,$0:ej};el=ek.$0;for(em=0,en=Q.length(el)-1;em<=en;em++)(Q.get(el,em))(ej);}else void 0;};_1.MarkReady=function(ei,ej){var ek,el,em,en;ek=ei.s;if(ek!=null&&ek.$==3){ei.s={$:2,$0:ej,$1:ek.$1};el=ek.$0;for(em=0,en=Q.length(el)-1;em<=en;em++)(Q.get(el,em))(ej);}else void 0;};_1.Map2Opt1=function(ei,ej,ek){return _1.Map(function(el){return ei(ej,el);},ek);};_1.Map2Opt2=function(ei,ej,ek){return _1.Map(function(el){return ei(el,ej);},ek);};_1.ValueAndForever=function(ei){var ej;ej=ei.s;return ej!=null&&ej.$==0?{$:1,$0:[ej.$0,true]}:ej!=null&&ej.$==2?{$:1,$0:[ej.$0,false]}:null;};_1.Map3Opt1=function(ei,ej,ek,el){return _1.Map(function(em){return ei(ej,ek,em);},el);};_1.Map3Opt2=function(ei,ej,ek,el){return _1.Map(function(em){return ei(ej,em,ek);},el);};_1.Map3Opt3=function(ei,ej,ek,el){return _1.Map2(function(em,en){return ei(ej,em,en);},ek,el);};_1.Map3Opt4=function(ei,ej,ek,el){return _1.Map(function(em){return ei(em,ej,ek);},el);};_1.Map3Opt5=function(ei,ej,ek,el){return _1.Map2(function(em,en){return ei(em,ej,en);},ek,el);};_1.Map3Opt6=function(ei,ej,ek,el){return _1.Map2(function(em,en){return ei(em,en,ej);},ek,el);};_1.Map2Unit=function(ei,ej){var ek,el,em;function en(){var eo,ep,eq;if(!(eo=em.s,eo!=null&&eo.$==0||eo!=null&&eo.$==2)){ep=_1.ValueAndForever(ei);eq=_1.ValueAndForever(ej);ep!=null&&ep.$==1?eq!=null&&eq.$==1?ep.$0[1]&&eq.$0[1]?_1.MarkForever(em,null):_1.MarkReady(em,null):void 0:void 0;}}ek=ei.s;el=ej.s;return ek!=null&&ek.$==0?el!=null&&el.$==0?_1.New({$:0,$0:null}):ej:el!=null&&el.$==0?ei:(em=_1.New({$:3,$0:[],$1:[]}),(_1.When(ei,en,em),_1.When(ej,en,em),em));};_1.Join=function(ei){var ej;ej=_1.New({$:3,$0:[],$1:[]});_1.When(ei,function(ek){var el;el=ek();_1.When(el,function(em){var en,eo;if((en=el.s,en!=null&&en.$==0)&&(eo=ei.s,eo!=null&&eo.$==0))_1.MarkForever(ej,em);else _1.MarkReady(ej,em);},ej);},ej);return ej;};_1.Sequence=function(ei){var ej,ek,el;function em(en){var eo;if(el[0]===0){eo=Q.map(function(ep){var eq;eq=ep.s;return eq!=null&&eq.$==0?eq.$0:eq!=null&&eq.$==2?eq.$0:n.FailWith("value not found by View.Sequence");},ej);Q.forall(function(ep){var eq;eq=ep.s;return eq!=null&&eq.$==0;},ej)?_1.MarkForever(ek,eo):_1.MarkReady(ek,eo);}else el[0]--;}ej=Q.ofSeq(ei);return ej.length==0?_1.New({$:0,$0:[]}):(ek=_1.New({$:3,$0:[],$1:[]}),(el=[Q.length(ej)-1],(Q.iter(function(en){_1.When(en,em,ek);},ej),ek)));};_1.Copy=function(ei){var ej,ek,el;ej=ei.s;return ej==null?ei:ej!=null&&ej.$==2?(ek=_1.New({$:2,$0:ej.$0,$1:[]}),(_1.WhenObsolete(ei,ek),ek)):ej!=null&&ej.$==3?(el=_1.New({$:3,$0:[],$1:[]}),(_1.When(ei,function(em){_1.MarkDone(el,ei,em);},el),el)):ei;};_1.WhenObsolete=function(ei,ej){var ek;ek=ei.s;ek==null?_1.Obsolete(ej):ek!=null&&ek.$==2?_1.EnqueueSafe(ek.$1,ej):ek!=null&&ek.$==3?_1.EnqueueSafe(ek.$1,ej):void 0;};_2.$cctor=function(){var ei,ej,ek,el,em,en,eo,ep,eq,er,es;_2.$cctor=a.ignore;function et(eA){return bi.concat("\n",eA);}function eu(eA){return b4.splitByChar$1("\n",eA);}function ev(eA){var eB,eC;return b5.array(eA,{$:1,$0:0},{$:1,$0:(eB=0,(eC=Q.length(eA)-2,F.Compare(eB,eC)===1?eB:eC))});}function ew(eA){return bi.concat("\n",eA);}function ex(eA,eB,eC,eD,eE){bK.callback(eA,eB,eC,eD,eE);}function ey(eA){return eA==="ProzperLyt.mainContent"?b9.DefaultEP:{$:3,$0:eA};}function ez(eA){if(!F.Equals(l.endPointV().Get(),eA))l.endPointV().Set(eA);}_2.unindentStr=function(eA){return et(b4.unindent$1(eA));};_2.skipLastLine=(ei=function(eA){return ev(eu(eA));},function(eA){return ew(ei(eA));});_2.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";_2.rexEmail="(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@[*[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+]*";_2.policies=bB.ofArray([b7.SignIn,b7.SignUp,b7.EditProfile,b7.ResetPassword]);_2.rootdir="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperClient\\website";_2.TemplatesFileName="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperClient\\website"+"\\index.html";_2.LoginFileName="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperClient\\website"+"\\Login.html";((function(eA){return function(eB){return eA(bz.toSafe(eB));};}(function(eA){ee.log(eA);}))("D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperClient\\website\\index.html"));_2.storage=self.localStorage;_2.applicationId=bK.storeValue("applicationId","70ad4f9b-9a2b-409e-9c1e-d04dbb2e7cf2");_2.tenantName=bK.storeValue("tenantName","prozper");_2.ref=bK.storeValue("ref","");_2.extraQueryParms=bK.storeValue("extraQueryParms","mkt=es-us");_2.refreshBefore=bK.storeValue("refreshBefore","0");_2.createOnStart=bK.storeValue("createOnStart","1");_2.forceLogin=bK.storeValue("forceLogin","1");_2.signInPolicy=bK.storeValue("signInPolicy","B2C_1_SignIn");_2.signUpPolicy=bK.storeValue("signUpPolicy","B2C_1_Registrarse");_2.editProfilePolicy=bK.storeValue("editProfilePolicy","B2C_1_EditarPerfil");_2.resetPasswordPolicy=bK.storeValue("resetPasswordPolicy","B2C_1_PasswordReset");_2.policyType=bK.storeValue("policyType","SignIn");ej=bK.storage().getItem("preambleState");ej==="InPreamble"||(ej===""||ej===null)?void bK.storeValue("preambleState","GoToSignIn"):null;_2.authority=bK.getAuthority(bK.tenantName(),bK.signInPolicy());_2.userO=h.Create$1(null);_2.agent=(el=bK.applicationId(),(em=bK.authority(),(en=b8.Options(null,null,null,null,null,null,null,null,null,{$:1,$0:false},null,{$:1,$0:false}),new self.Msal.UserAgentApplication(el,em,function(eA){return ex(eA[0],eA[1],eA[2],eA[3],eA[4]);},en))));_2.localStorage=self.localStorage;_2.modeloV=h.Create$1(Z.New(new Y({$:0,$0:":"}),[],(eo=ed.now(),(new ed(eo)).getFullYear()),(ep=ed.now(),(new ed(ep)).getMonth()+1),J.premisasCalculo(),-2));_2.formasPagoAliadoV=h.Create$1([]);_2.invitacionesV=h.Create$1("");_2.emailsInvitarW=o.Map(function(eA){var eB;return bi.concat("\n",bb.sort(bb.distinct((eB=i.REGEX$1(i.rexEmail(),"gi",eA),eB!=null&&eB.$==1?eB.$0:[]))));},l.invitacionesV().get_View());_2.invitacionesDisabledW=o.Map(function(eA){return eA===""?"disabled":"";},l.emailsInvitarW());_2.selAliadoIdOV=h.Create$1(null);_2.refAliadoIdOV=h.Create$1(null);_2.endPointV=b_.InstallHash(b9.DefaultEP,V.r());o.Sink(function(eA){if(eA.$==1);else if(eA.$==2);else if(eA.$==4)a.showPDF(eA.$0);else if(eA.$==5)a.playVideo();else bK.checkUser();},l.endPointV().get_View());_2.contentVar=new cy.New(o.Map2(function(eA,eB){var eC,eD;return eB.$==0&&!F.Equals(bK.userO().Get(),null)?"ProzperLyt.mainContent":eB.$==3&&(!F.Equals(bK.userO().Get(),null)&&(eD=eB.$0,true))?eD:eB.$==2?"ProzperLyt.cntPreRegister":eB.$==4?"ProzperLyt.cntPDF":eB.$==5?"ProzperLyt.cntVideo":"ProzperLyt.cntFormaNoUser";},bK.userO().get_View(),l.endPointV().get_View()),function(eA){return ez(ey(eA));});_2.aliadoW=(eq=o.get_Do(),o.Bind(function(eA){var eB,eC;eB=eA.idAliado;eC=bb.tryFind(function(eD){return F.Equals(eD.id,eB);},eA.aliados);return o.Const(eC!=null&&eC.$==1?eC.$0:L.empty());},l.modeloV().get_View()));_2.llamadas=h.Create$1(0);bM.set_EndPoint(bL.serverEndPoint().f()+"rpc/rpc");_2.shouldRefresh=true;o.Sink(function(){bs.refrescarData(true);},bK.userO().get_View());cB.StartImmediateAsTask((er=null,cB.Delay(function(){return cB.While(function(){return true;},cB.Delay(function(){return cB.Bind(cB.Sleep(5*60*1000),function(){return cB.Return(null);});}));})),null);try{self.document.addEventListener("visibilityChange",function(){return null;},false);}catch(eA){null;}_2.paises=h.Create$1([]);_2.estados=h.Create$1([]);_2.tiposDir=h.Create$1([]);_2.tiposTel=h.Create$1([]);_2.generos=h.Create$1([]);_2.tiposCta=h.Create$1([]);_2.tiposTar=h.Create$1([]);_2.statuses=h.Create$1([]);_2.aniosV=h.Create$1([]);_2.mesesV=h.Create$1([]);X.iterA((es=bp.asyncResultM(),es.Run(es.Delay(function(){return es.Bind$4(X.obtenerUnions(),function(eB){bx.paises().Set(eB[0]);bx.estados().Set(eB[1]);bx.tiposDir().Set(eB[2]);bx.tiposTel().Set(eB[3]);bx.generos().Set(eB[4]);bx.tiposCta().Set(eB[5]);bx.tiposTar().Set(eB[6]);bx.statuses().Set(eB[7]);bx.aniosV().Set(eB[9]);bx.mesesV().Set(eB[8]);return es.Zero();});}))));_2.ftel=[function(eB){return eB.$==2?{$:1,$0:eB.$0}:null;},function(eB){return{$:2,$0:eB};}];_2.fcor=[function(eB){return eB.$==1?{$:1,$0:eB.$0}:null;},function(eB){return{$:1,$0:eB};}];_2.fdir=[function(eB){return eB.$==0?{$:1,$0:eB.$0}:null;},function(eB){return{$:0,$0:eB};}];_2.cuentaAutorizar=h.Create$1(W.TextNode("No hay cuenta seleccionada"));_2.pid=new ca({$:0,$0:""});_2.ftar=[function(eB){var eC;eC=eB.cuentaPago;return eC.$==1?{$:1,$0:[eC.$0,w.msg(eB),eB.authorizeIdR.$==0]}:null;},function(eB){return function(eC){return bF.New(eB.nombre,bc.Error(""),{$:1,$0:eC});};}];_2.fcta=[function(eB){var eC;eC=eB.cuentaPago;return eC.$==0?{$:1,$0:[eC.$0,w.msg(eB),eB.authorizeIdR.$==0]}:null;},function(eB){return function(eC){return bF.New(eB.nombre,bc.Error(""),{$:0,$0:eC});};}];_2.docsV=h.Create$1([]);_2.uploaded=function(eB,eC){z.refrescarListaDocs();return a.alert(eC);};_2.layoutName="ProzperLyt";_2.appName="Prozper";_2.influencerV=h.Create$1("");_2.influencerClassW=o.MapAsync(function(eB){var eC;eC=null;return cB.Delay(function(){return cB.Bind((new bN.New()).Async("ProzperServer:FsRoot.Prozper+Rpc.obtenerIdInfluyente:42009634",[eB]),function(eD){return bo.OkM(eD).$==0?cB.Return("mui-btn--primary"):cB.Return("");});});},d.influencerV().get_View());};_3=g.ListModel=ea.Class({Append:function(ei){var ej,ek,el,em;ej=this;ek=this["var"].Get();el=this.key(ei);em=Q.tryFindIndex(function(en){return F.Equals(ej.key(en),el);},ek);em!=null&&em.$==1?this["var"].Set(this.storage.SSetAt(em.$0,ei,ek)):this["var"].Set(this.storage.SAppend(ei,ek));this.ObsoleteKey(el);},TryFindByKey:function(ei){var ej;ej=this;return Q.tryFind(function(ek){return F.Equals(ej.key(ek),ei);},this["var"].Get());},ObsoleteKey:function(ei){var ej,ek;ej=(ek=null,[this.it.TryGetValue(ei,{get:function(){return ek;},set:function(el){ek=el;}}),ek]);ej[0]?(_1.Obsolete(ej[1]),this.it.Remove(ei)):void 0;},MapLens:function(ei){var ej;ej=this;return o.MapSeqCachedViewBy(ej.key,function(ek,el){return ei(ek,ej["LensInto'"](a.id,function(em,en){return en;},ek,el));},this["var"].get_View());},"LensInto'":function(ei,ej,ek,el){var em,en,eo;em=this;en=b3.Id();eo=new p({Get:function(){return ei(em.FindByKey(ek));},Set:function(ep){return em.UpdateBy(function(eq){return{$:1,$0:ej(eq,ep)};},ek);},SetFinal:function(ep){return this.Set(ep);},Update:function(ep){return em.UpdateBy(function(eq){return{$:1,$0:ej(eq,ep(ei(eq)))};},ek);},UpdateMaybe:function(ep){return em.UpdateBy(function(eq){var er;er=ep(ei(eq));return er==null?null:{$:1,$0:ej(eq,er.$0)};},ek);},get_View:function(){return el;},get_Id:function(){return en;}});p.New.call(eo);return eo;},FindByKey:function(ei){var ej;ej=this;return Q.find(function(ek){return F.Equals(ej.key(ek),ei);},this["var"].Get());},UpdateBy:function(ei,ej){var ek,el,em,en,eo;ek=this;el=this["var"].Get();em=Q.tryFindIndex(function(ep){return F.Equals(ek.key(ep),ej);},el);em!=null&&em.$==1?(en=em.$0,eo=ei(Q.get(el,en)),eo!=null&&eo.$==1?(this["var"].Set(this.storage.SSetAt(en,eo.$0,el)),this.ObsoleteKey(ej)):void 0):void 0;},GetEnumerator:function(){return cd.Get(this["var"].Get());},GetEnumerator0:function(){return cd.Get0(this["var"].Get());}},f,_3);_3.New$1=ea.Ctor(function(ei){_3.New$2.call(this,ei,[]);},_3);_3.New$2=ea.Ctor(function(ei,ej){var ek;ek=Q.ofSeq(ej);_3.New$3.call(this,ei,h.Create$1(ek),ds.InMemory(ek));},_3);_3.New$3=ea.Ctor(function(ei,ej,ek){f.New.call(this);this.key=ei;this["var"]=ej;this.storage=ek;this.v=o.Map(function(el){return el.slice();},this["var"].get_View());this.it=new bY.New$5();},_3);_4.New=function(ei,ej){return{varName:ei,varVar:ej};};_5.New=function(ei,ej){return{viwName:ei,viwView:ej};};_6.New=function(ei,ej){return{docName:ei,docDoc:ej};};_7.NewFromSeq=function(ei){var ej,ek,el;ej={};ek=cd.Get(ei);try{while(ek.MoveNext()){el=ek.Current();ej[el[0]]=el[1];}}finally{if(typeof ek=="object"&&"Dispose"in ek)ek.Dispose();}return ej;};_9.New=function(ei,ej,ek){return{c:ei,v:ej,f:ek};};_.p$1=function(ei){return ei.$==1?"Regular":"Master";};_.p=function(ei){return ei.$==4?"Cancelado":ei.$==3?"Inactivo":ei.$==2?"Activo":ei.$==1?"DatosBancariosIngresados":"CuentaCreada";};_.p$9=function(ei){return"IdAliado "+bz.prettyPrint(ei.$0);};_.p$2=function(ei){return ei.$==3?"OtroP "+bz.prettyPrint(ei.$0):ei.$==2?"Argentina":ei.$==1?"Venezuela":"USA";};_.p$5=function(ei){return ei.$==2?"Otra "+bz.prettyPrint(ei.$0):ei.$==1?"Corriente":"Ahorro";};_.p$3=function(ei){return ei.$==2?"OtroS "+bz.prettyPrint(ei.$0):ei.$==1?"Florida":"Texas";};$.j$1=function(){return $._v$1?$._v$1:$._v$1=(_do.DecodeUnion(void 0,"$",[[0,[["$0","Item1",$.j$2,1],["$1","Item2",$.j$3,0]]]]))();};$.j$4=function(){return $._v$4?$._v$4:$._v$4=(_do.DecodeUnion(void 0,"$",[[0,[["$0","Item",_do.DecodeArray($.j$22),0]]],[1,[[null,null,$.j$22]]],[2,[["$0","Item",_do.DecodeTuple([$.j$7,_do.DecodeArray(_do.Id())]),0]]],[3,[["$0","Item",_do.DecodeTuple([$.j$7,$.j$20,$.j$6,_do.DecodeArray($.j$9)]),0]]],[4,[["$0","Item",_do.DecodeTuple([$.j$7,$.j$20]),0]]],[5,[["$0","Item",_do.DecodeTuple([$.j$7,_do.DecodeArray($.j$9)]),0]]],[6,[["$0","Item",_do.DecodeTuple([$.j$7,_do.Id()]),0]]],[7,[["$0","Item",_do.DecodeTuple([$.j$7,_do.Id()]),0]]],[8,[["$0","Item",_do.DecodeTuple([$.j$7,$.j$8,$.j$6,$.j$5]),0]]]]))();};ba.j$1=function(){return ba._v$1?ba._v$1:ba._v$1=(_do.EncodeUnion(void 0,"$",[[0,[["$0","Item1",ba.j$2,1],["$1","Item2",ba.j$3,0]]]]))();};ba.j$4=function(){return ba._v$4?ba._v$4:ba._v$4=(_do.EncodeUnion(void 0,"$",[[0,[["$0","Item",_do.EncodeArray(ba.j$22),0]]],[1,[[null,null,ba.j$22]]],[2,[["$0","Item",_do.EncodeTuple([ba.j$7,_do.EncodeArray(_do.Id())]),0]]],[3,[["$0","Item",_do.EncodeTuple([ba.j$7,ba.j$20,ba.j$6,_do.EncodeArray(ba.j$9)]),0]]],[4,[["$0","Item",_do.EncodeTuple([ba.j$7,ba.j$20]),0]]],[5,[["$0","Item",_do.EncodeTuple([ba.j$7,_do.EncodeArray(ba.j$9)]),0]]],[6,[["$0","Item",_do.EncodeTuple([ba.j$7,_do.Id()]),0]]],[7,[["$0","Item",_do.EncodeTuple([ba.j$7,_do.Id()]),0]]],[8,[["$0","Item",_do.EncodeTuple([ba.j$7,ba.j$8,ba.j$6,ba.j$5]),0]]]]))();};$.j$46=function(){return $._v$46?$._v$46:$._v$46=(_do.DecodeUnion(void 0,"$",[[0,[["$0","Item1",_do.DecodeArray(_do.DecodeTuple([$.j$22,_do.DecodeArray($.j$32)])),1],["$1","Item2",$.j$3,0]]]]))();};$.j$22=function(){return $._v$22?$._v$22:$._v$22=(_do.DecodeRecord(void 0,[["id",$.j$7,0],["idPadreO",$.j$7,1],["idForAuthorize",$.j$23,1],["influyente",_do.Id(),1],["datosPersonales",$.j$20,0],["contactos",_do.DecodeArray($.j$9),0],["identificacion",_do.DecodeArray($.j$24),0],["isInternal",_do.Id(),0],["status",$.j$8,0],["diaPago",$.j$28,0],["tipo",$.j$29,0],["fechaRegistro",_do.DecodeDateTime(),0],["fechaStatus",_do.DecodeDateTime(),0],["nReferidos",_do.Id(),0],["nRefActivos",_do.Id(),0],["nDescendientes",_do.Id(),0],["nDescActivos",_do.Id(),0],["comision",_do.Id(),0],["nivel",_do.Id(),0]]))();};ba.j$46=function(){return ba._v$46?ba._v$46:ba._v$46=(_do.EncodeUnion(void 0,"$",[[0,[["$0","Item1",_do.EncodeArray(_do.EncodeTuple([ba.j$22,_do.EncodeArray(ba.j$32)])),1],["$1","Item2",ba.j$3,0]]]]))();};ba.j$22=function(){return ba._v$22?ba._v$22:ba._v$22=(_do.EncodeRecord(void 0,[["id",ba.j$7,0],["idPadreO",ba.j$7,1],["idForAuthorize",ba.j$23,1],["influyente",_do.Id(),1],["datosPersonales",ba.j$20,0],["contactos",_do.EncodeArray(ba.j$9),0],["identificacion",_do.EncodeArray(ba.j$24),0],["isInternal",_do.Id(),0],["status",ba.j$8,0],["diaPago",ba.j$28,0],["tipo",ba.j$29,0],["fechaRegistro",_do.EncodeDateTime(),0],["fechaStatus",_do.EncodeDateTime(),0],["nReferidos",_do.Id(),0],["nRefActivos",_do.Id(),0],["nDescendientes",_do.Id(),0],["nDescActivos",_do.Id(),0],["comision",_do.Id(),0],["nivel",_do.Id(),0]]))();};$.j$30=function(){return $._v$30?$._v$30:$._v$30=(_do.DecodeUnion(void 0,"$",[[0,[["$0","Item1",_do.Id(),1],["$1","Item2",$.j$3,0]]]]))();};$.j$7=function(){return $._v$7?$._v$7:$._v$7=(_do.DecodeUnion(Y,"$",[[0,[["$0","Item",_do.Id(),0]]]]))();};ba.j$30=function(){return ba._v$30?ba._v$30:ba._v$30=(_do.EncodeUnion(void 0,"$",[[0,[["$0","Item1",_do.Id(),1],["$1","Item2",ba.j$3,0]]]]))();};ba.j$7=function(){return ba._v$7?ba._v$7:ba._v$7=(_do.EncodeUnion(Y,"$",[[0,[["$0","Item",_do.Id(),0]]]]))();};_.p$8=function(ei){return ei.$==3?"Voip":ei.$==2?"Habitacion":ei.$==1?"Oficina":"Movil";};_.p$7=function(ei){return ei.$==3?"Otro "+bz.prettyPrint(ei.$0):ei.$==2?"ServicioPostal":ei.$==1?"Oficina":"Habitacion";};_.p$4=function(ei){return ei.$==3?"Otra "+bz.prettyPrint(ei.$0):ei.$==2?"Amex":ei.$==1?"MasterCard":"Visa";};$.j$2=function(){return $._v$2?$._v$2:$._v$2=(_do.DecodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",_do.Id(),0]]],[2,[["$0","Item",_do.Id(),0]]]]))();};$.j$3=function(){return $._v$3?$._v$3:$._v$3=(_do.DecodeUnion(bv,"$",[[0,[]],[1,[["$0","Item",_do.Id(),0]]],[2,[["$0","Item",_do.Id(),0]]],[3,[["$0","Item",_do.Id(),0]]],[4,[["$0","Item",_do.Id(),0]]],[5,[["$0","Item1",_do.Id(),0],["$1","Item2",_do.Id(),0]]],[6,[["$0","Item",_do.DecodeArray($.j$3),0]]]]))();};$.j$20=function(){return $._v$20?$._v$20:$._v$20=(_do.DecodeRecord(void 0,[["titulo",_do.Id(),1],["nombre1",_do.Id(),0],["nombre2",_do.Id(),0],["apellido1",_do.Id(),0],["apellido2",_do.Id(),0],["nacionalidad",$.j$18,0],["genero",$.j$21,0],["fechaNacimiento",_do.DecodeDateTime(),0]]))();};$.j$6=function(){return $._v$6?$._v$6:$._v$6=(_do.DecodeUnion(void 0,"$",[null,[1,[["$0","Value",$.j$7,0]]]]))();};$.j$9=function(){return $._v$9?$._v$9:$._v$9=(_do.DecodeUnion(void 0,"$",[[0,[[null,null,$.j$13]]],[1,[[null,null,$.j$12]]],[2,[[null,null,$.j$10]]],[3,[["$0","Item",_do.Id(),0]]],[4,[["$0","Item",_do.Id(),0]]],[5,[["$0","Item",_do.Id(),0]]]]))();};$.j$8=function(){return $._v$8?$._v$8:$._v$8=(_do.DecodeUnion(by,"$",[[0,[]],[1,[]],[2,[]],[3,[]],[4,[]]]))();};$.j$5=function(){return $._v$5?$._v$5:$._v$5=(_do.DecodeUnion(void 0,"$",[null,[1,[["$0","Value",_do.Id(),0]]]]))();};ba.j$2=function(){return ba._v$2?ba._v$2:ba._v$2=(_do.EncodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",_do.Id(),0]]],[2,[["$0","Item",_do.Id(),0]]]]))();};ba.j$3=function(){return ba._v$3?ba._v$3:ba._v$3=(_do.EncodeUnion(bv,"$",[[0,[]],[1,[["$0","Item",_do.Id(),0]]],[2,[["$0","Item",_do.Id(),0]]],[3,[["$0","Item",_do.Id(),0]]],[4,[["$0","Item",_do.Id(),0]]],[5,[["$0","Item1",_do.Id(),0],["$1","Item2",_do.Id(),0]]],[6,[["$0","Item",_do.EncodeArray(ba.j$3),0]]]]))();};ba.j$20=function(){return ba._v$20?ba._v$20:ba._v$20=(_do.EncodeRecord(void 0,[["titulo",_do.Id(),1],["nombre1",_do.Id(),0],["nombre2",_do.Id(),0],["apellido1",_do.Id(),0],["apellido2",_do.Id(),0],["nacionalidad",ba.j$18,0],["genero",ba.j$21,0],["fechaNacimiento",_do.EncodeDateTime(),0]]))();};ba.j$6=function(){return ba._v$6?ba._v$6:ba._v$6=(_do.EncodeUnion(void 0,"$",[null,[1,[["$0","Value",ba.j$7,0]]]]))();};ba.j$9=function(){return ba._v$9?ba._v$9:ba._v$9=(_do.EncodeUnion(void 0,"$",[[0,[[null,null,ba.j$13]]],[1,[[null,null,ba.j$12]]],[2,[[null,null,ba.j$10]]],[3,[["$0","Item",_do.Id(),0]]],[4,[["$0","Item",_do.Id(),0]]],[5,[["$0","Item",_do.Id(),0]]]]))();};ba.j$8=function(){return ba._v$8?ba._v$8:ba._v$8=(_do.EncodeUnion(by,"$",[[0,[]],[1,[]],[2,[]],[3,[]],[4,[]]]))();};ba.j$5=function(){return ba._v$5?ba._v$5:ba._v$5=(_do.EncodeUnion(void 0,"$",[null,[1,[["$0","Value",_do.Id(),0]]]]))();};$.j$45=function(){return $._v$45?$._v$45:$._v$45=(_do.DecodeUnion(void 0,"$",[[0,[["$0","Item1",_do.Id(),1],["$1","Item2",$.j$3,0]]]]))();};$.j$34=function(){return $._v$34?$._v$34:$._v$34=(_do.DecodeUnion(ca,"$",[[0,[["$0","Item",_do.Id(),0]]]]))();};ba.j$45=function(){return ba._v$45?ba._v$45:ba._v$45=(_do.EncodeUnion(void 0,"$",[[0,[["$0","Item1",_do.Id(),1],["$1","Item2",ba.j$3,0]]]]))();};ba.j$34=function(){return ba._v$34?ba._v$34:ba._v$34=(_do.EncodeUnion(ca,"$",[[0,[["$0","Item",_do.Id(),0]]]]))();};$.j$36=function(){return $._v$36?$._v$36:$._v$36=(_do.DecodeRecord(void 0,[["titular",_do.Id(),0],["tipoTarjeta",$.j$37,0],["numero",$.j$38,0],["expiracion",$.j$39,0]]))();};ba.j$36=function(){return ba._v$36?ba._v$36:ba._v$36=(_do.EncodeRecord(void 0,[["titular",_do.Id(),0],["tipoTarjeta",ba.j$37,0],["numero",ba.j$38,0],["expiracion",ba.j$39,0]]))();};$.j$41=function(){return $._v$41?$._v$41:$._v$41=(_do.DecodeRecord(void 0,[["titular",_do.Id(),0],["banco",_do.Id(),0],["tipo",$.j$42,0],["numero",$.j$43,0],["routing",$.j$44,0]]))();};ba.j$41=function(){return ba._v$41?ba._v$41:ba._v$41=(_do.EncodeRecord(void 0,[["titular",_do.Id(),0],["banco",_do.Id(),0],["tipo",ba.j$42,0],["numero",ba.j$43,0],["routing",ba.j$44,0]]))();};$.j$32=function(){return $._v$32?$._v$32:$._v$32=(_do.DecodeRecord(void 0,[["nombre",_do.Id(),0],["authorizeIdR",$.j$33,0],["cuentaPago",$.j$35,0]]))();};$.j$23=function(){return $._v$23?$._v$23:$._v$23=(_do.DecodeUnion(bR,"$",[[0,[["$0","Item",_do.Id(),0]]]]))();};$.j$24=function(){return $._v$24?$._v$24:$._v$24=(_do.DecodeRecord(void 0,[["emisor",$.j$25,0],["documento",$.j$27,0],["emision",_do.DecodeDateTime(),0],["vence",_do.DecodeDateTime(),0]]))();};$.j$28=function(){return $._v$28?$._v$28:$._v$28=(_do.DecodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]],[3,[]],[4,[]],[5,[]]]))();};$.j$29=function(){return $._v$29?$._v$29:$._v$29=(_do.DecodeUnion(bU,"$",[[0,[]],[1,[]]]))();};ba.j$32=function(){return ba._v$32?ba._v$32:ba._v$32=(_do.EncodeRecord(void 0,[["nombre",_do.Id(),0],["authorizeIdR",ba.j$33,0],["cuentaPago",ba.j$35,0]]))();};ba.j$23=function(){return ba._v$23?ba._v$23:ba._v$23=(_do.EncodeUnion(bR,"$",[[0,[["$0","Item",_do.Id(),0]]]]))();};ba.j$24=function(){return ba._v$24?ba._v$24:ba._v$24=(_do.EncodeRecord(void 0,[["emisor",ba.j$25,0],["documento",ba.j$27,0],["emision",_do.EncodeDateTime(),0],["vence",_do.EncodeDateTime(),0]]))();};ba.j$28=function(){return ba._v$28?ba._v$28:ba._v$28=(_do.EncodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]],[3,[]],[4,[]],[5,[]]]))();};ba.j$29=function(){return ba._v$29?ba._v$29:ba._v$29=(_do.EncodeUnion(bU,"$",[[0,[]],[1,[]]]))();};$.j$47=function(){return $._v$47?$._v$47:$._v$47=(_do.DecodeUnion(void 0,"$",[[0,[["$0","Item1",_do.DecodeArray(_do.Id()),1],["$1","Item2",$.j$3,0]]]]))();};ba.j$47=function(){return ba._v$47?ba._v$47:ba._v$47=(_do.EncodeUnion(void 0,"$",[[0,[["$0","Item1",_do.EncodeArray(_do.Id()),1],["$1","Item2",ba.j$3,0]]]]))();};$.j$18=function(){return $._v$18?$._v$18:$._v$18=(_do.DecodeUnion(ci,"$",[[0,[]],[1,[]],[2,[]],[3,[["$0","Item",_do.Id(),0]]]]))();};$.j$21=function(){return $._v$21?$._v$21:$._v$21=(_do.DecodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]]]))();};$.j$13=function(){return $._v$13?$._v$13:$._v$13=(_do.DecodeRecord(void 0,[["authorizeIdR",$.j$14,0],["tipoDireccion",$.j$16,0],["linea1",_do.Id(),0],["linea2",_do.Id(),0],["ciudad",_do.Id(),0],["estado",$.j$17,0],["pais",$.j$18,0],["zonaPostal",$.j$19,0]]))();};$.j$12=function(){return $._v$12?$._v$12:$._v$12=(_do.DecodeRecord(bj,[["email",_do.Id(),0],["enviado",_do.DecodeDateTime(),1],["recibido",_do.DecodeDateTime(),1]]))();};$.j$10=function(){return $._v$10?$._v$10:$._v$10=(_do.DecodeRecord(void 0,[["tipoTelefono",$.j$11,0],["codigoPais",_do.Id(),0],["codigoArea",_do.Id(),0],["numero",_do.Id(),0],["extension",_do.Id(),0],["mensajes",_do.Id(),0]]))();};ba.j$18=function(){return ba._v$18?ba._v$18:ba._v$18=(_do.EncodeUnion(ci,"$",[[0,[]],[1,[]],[2,[]],[3,[["$0","Item",_do.Id(),0]]]]))();};ba.j$21=function(){return ba._v$21?ba._v$21:ba._v$21=(_do.EncodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]]]))();};ba.j$13=function(){return ba._v$13?ba._v$13:ba._v$13=(_do.EncodeRecord(void 0,[["authorizeIdR",ba.j$14,0],["tipoDireccion",ba.j$16,0],["linea1",_do.Id(),0],["linea2",_do.Id(),0],["ciudad",_do.Id(),0],["estado",ba.j$17,0],["pais",ba.j$18,0],["zonaPostal",ba.j$19,0]]))();};ba.j$12=function(){return ba._v$12?ba._v$12:ba._v$12=(_do.EncodeRecord(bj,[["email",_do.Id(),0],["enviado",_do.EncodeDateTime(),1],["recibido",_do.EncodeDateTime(),1]]))();};ba.j$10=function(){return ba._v$10?ba._v$10:ba._v$10=(_do.EncodeRecord(void 0,[["tipoTelefono",ba.j$11,0],["codigoPais",_do.Id(),0],["codigoArea",_do.Id(),0],["numero",_do.Id(),0],["extension",_do.Id(),0],["mensajes",_do.Id(),0]]))();};$.j$31=function(){return $._v$31?$._v$31:$._v$31=(_do.DecodeUnion(void 0,"$",[[0,[["$0","Item1",_do.DecodeArray($.j$32),1],["$1","Item2",$.j$3,0]]]]))();};ba.j$31=function(){return ba._v$31?ba._v$31:ba._v$31=(_do.EncodeUnion(void 0,"$",[[0,[["$0","Item1",_do.EncodeArray(ba.j$32),1],["$1","Item2",ba.j$3,0]]]]))();};$.j$37=function(){return $._v$37?$._v$37:$._v$37=(_do.DecodeUnion(cQ,"$",[[0,[]],[1,[]],[2,[]],[3,[["$0","Item",_do.Id(),0]]]]))();};$.j$38=function(){return $._v$38?$._v$38:$._v$38=(_do.DecodeUnion(cs,"$",[[0,[["$0","Item",_do.Id(),0]]]]))();};$.j$39=function(){return $._v$39?$._v$39:$._v$39=(_do.DecodeRecord(cP,[["anio",_do.Id(),0],["mes",_do.Id(),0]]))();};ba.j$37=function(){return ba._v$37?ba._v$37:ba._v$37=(_do.EncodeUnion(cQ,"$",[[0,[]],[1,[]],[2,[]],[3,[["$0","Item",_do.Id(),0]]]]))();};ba.j$38=function(){return ba._v$38?ba._v$38:ba._v$38=(_do.EncodeUnion(cs,"$",[[0,[["$0","Item",_do.Id(),0]]]]))();};ba.j$39=function(){return ba._v$39?ba._v$39:ba._v$39=(_do.EncodeRecord(cP,[["anio",_do.Id(),0],["mes",_do.Id(),0]]))();};$.j$42=function(){return $._v$42?$._v$42:$._v$42=(_do.DecodeUnion(cA,"$",[[0,[]],[1,[]],[2,[["$0","Item",_do.Id(),0]]]]))();};$.j$43=function(){return $._v$43?$._v$43:$._v$43=(_do.DecodeUnion(bE,"$",[[0,[["$0","Item",_do.Id(),0]]]]))();};$.j$44=function(){return $._v$44?$._v$44:$._v$44=(_do.DecodeUnion(bD,"$",[[0,[["$0","Item",_do.Id(),0]]]]))();};ba.j$42=function(){return ba._v$42?ba._v$42:ba._v$42=(_do.EncodeUnion(cA,"$",[[0,[]],[1,[]],[2,[["$0","Item",_do.Id(),0]]]]))();};ba.j$43=function(){return ba._v$43?ba._v$43:ba._v$43=(_do.EncodeUnion(bE,"$",[[0,[["$0","Item",_do.Id(),0]]]]))();};ba.j$44=function(){return ba._v$44?ba._v$44:ba._v$44=(_do.EncodeUnion(bD,"$",[[0,[["$0","Item",_do.Id(),0]]]]))();};$.j$33=function(){return $._v$33?$._v$33:$._v$33=(_do.DecodeUnion(void 0,"$",[[0,[["$0","ResultValue",$.j$34,0]]],[1,[["$0","ErrorValue",_do.Id(),0]]]]))();};$.j$35=function(){return $._v$35?$._v$35:$._v$35=(_do.DecodeUnion(void 0,"$",[[0,[[null,null,$.j$41]]],[1,[[null,null,$.j$36]]],[2,[["$0","Item",_do.Id(),0]]]]))();};$.j$25=function(){return $._v$25?$._v$25:$._v$25=(_do.DecodeUnion(void 0,"$",[[0,[["$0","Item",$.j$18,0]]],[1,[["$0","Item",$.j$26,0]]]]))();};$.j$27=function(){return $._v$27?$._v$27:$._v$27=(_do.DecodeUnion(void 0,"$",[[0,[["$0","Item",_do.Id(),0]]],[1,[["$0","Item",_do.Id(),0]]],[2,[["$0","Item",_do.Id(),0]]]]))();};ba.j$33=function(){return ba._v$33?ba._v$33:ba._v$33=(_do.EncodeUnion(void 0,"$",[[0,[["$0","ResultValue",ba.j$34,0]]],[1,[["$0","ErrorValue",_do.Id(),0]]]]))();};ba.j$35=function(){return ba._v$35?ba._v$35:ba._v$35=(_do.EncodeUnion(void 0,"$",[[0,[[null,null,ba.j$41]]],[1,[[null,null,ba.j$36]]],[2,[["$0","Item",_do.Id(),0]]]]))();};ba.j$25=function(){return ba._v$25?ba._v$25:ba._v$25=(_do.EncodeUnion(void 0,"$",[[0,[["$0","Item",ba.j$18,0]]],[1,[["$0","Item",ba.j$26,0]]]]))();};ba.j$27=function(){return ba._v$27?ba._v$27:ba._v$27=(_do.EncodeUnion(void 0,"$",[[0,[["$0","Item",_do.Id(),0]]],[1,[["$0","Item",_do.Id(),0]]],[2,[["$0","Item",_do.Id(),0]]]]))();};$.j$14=function(){return $._v$14?$._v$14:$._v$14=(_do.DecodeUnion(void 0,"$",[[0,[["$0","ResultValue",$.j$15,0]]],[1,[["$0","ErrorValue",_do.Id(),0]]]]))();};$.j$16=function(){return $._v$16?$._v$16:$._v$16=(_do.DecodeUnion(cm,"$",[[0,[]],[1,[]],[2,[]],[3,[["$0","Item",_do.Id(),0]]]]))();};$.j$17=function(){return $._v$17?$._v$17:$._v$17=(_do.DecodeUnion(cn,"$",[[0,[]],[1,[]],[2,[["$0","Item",_do.Id(),0]]]]))();};$.j$19=function(){return $._v$19?$._v$19:$._v$19=(_do.DecodeUnion(co,"$",[[0,[["$0","Item",_do.Id(),0]]]]))();};$.j$11=function(){return $._v$11?$._v$11:$._v$11=(_do.DecodeUnion(ck,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};ba.j$14=function(){return ba._v$14?ba._v$14:ba._v$14=(_do.EncodeUnion(void 0,"$",[[0,[["$0","ResultValue",ba.j$15,0]]],[1,[["$0","ErrorValue",_do.Id(),0]]]]))();};ba.j$16=function(){return ba._v$16?ba._v$16:ba._v$16=(_do.EncodeUnion(cm,"$",[[0,[]],[1,[]],[2,[]],[3,[["$0","Item",_do.Id(),0]]]]))();};ba.j$17=function(){return ba._v$17?ba._v$17:ba._v$17=(_do.EncodeUnion(cn,"$",[[0,[]],[1,[]],[2,[["$0","Item",_do.Id(),0]]]]))();};ba.j$19=function(){return ba._v$19?ba._v$19:ba._v$19=(_do.EncodeUnion(co,"$",[[0,[["$0","Item",_do.Id(),0]]]]))();};ba.j$11=function(){return ba._v$11?ba._v$11:ba._v$11=(_do.EncodeUnion(ck,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};$.j$26=function(){return $._v$26?$._v$26:$._v$26=(_do.DecodeUnion(void 0,"$",[[0,[["$0","Item",$.j$17,0]]]]))();};ba.j$26=function(){return ba._v$26?ba._v$26:ba._v$26=(_do.EncodeUnion(void 0,"$",[[0,[["$0","Item",ba.j$17,0]]]]))();};$.j$15=function(){return $._v$15?$._v$15:$._v$15=(_do.DecodeUnion(c4,"$",[[0,[["$0","Item",_do.Id(),0]]]]))();};ba.j$15=function(){return ba._v$15?ba._v$15:ba._v$15=(_do.EncodeUnion(c4,"$",[[0,[["$0","Item",_do.Id(),0]]]]))();};bb.sortWith=function(ei,ej){return bb.delay(function(){var ek;ek=Q.ofSeq(ej);Q.sortInPlaceWith(ei,ek);return ek;});};bb.filter=function(ei,ej){return{GetEnumerator:function(){var ek;ek=cd.Get(ej);return new ce.New(null,null,function(el){var em,en,eo;em=ek.MoveNext();en=ek.Current();eo=false;while(em)if(ei(en)){el.c=en;eo=true;em=false;}else if(ek.MoveNext())en=ek.Current();else em=false;return eo;},function(){ek.Dispose();});}};};bb.isEmpty=function(ei){var ej;ej=cd.Get(ei);try{return!ej.MoveNext();}finally{if(typeof ej=="object"&&"Dispose"in ej)ej.Dispose();}};bb.map=function(ei,ej){return{GetEnumerator:function(){var ek;ek=cd.Get(ej);return new ce.New(null,null,function(el){return ek.MoveNext()&&(el.c=ei(ek.Current()),true);},function(){ek.Dispose();});}};};bb.delay=function(ei){return{GetEnumerator:function(){return cd.Get(ei());}};};bb.append=function(ei,ej){return{GetEnumerator:function(){var ek,el;ek=cd.Get(ei);el=[true];return new ce.New(ek,null,function(em){var en;return em.s.MoveNext()?(em.c=em.s.Current(),true):(en=em.s,!F.Equals(en,null)?en.Dispose():void 0,em.s=null,el[0]&&(el[0]=false,em.s=cd.Get(ej),em.s.MoveNext()?(em.c=em.s.Current(),true):(em.s.Dispose(),em.s=null,false)));},function(em){var en;en=em.s;!F.Equals(en,null)?en.Dispose():void 0;});}};};bb.collect=function(ei,ej){return bb.concat(bb.map(ei,ej));};bb.min=function(ei){var ej,ek,el;ej=cd.Get(ei);try{if(!ej.MoveNext())bb.seqEmpty();ek=ej.Current();while(ej.MoveNext()){el=ej.Current();F.Compare(el,ek)===-1?ek=el:void 0;}return ek;}finally{if(typeof ej=="object"&&"Dispose"in ej)ej.Dispose();}};bb.tryPick=function(ei,ej){var ek,el;ek=cd.Get(ej);try{el=null;while(F.Equals(el,null)&&ek.MoveNext())el=ei(ek.Current());return el;}finally{if(typeof ek=="object"&&"Dispose"in ek)ek.Dispose();}};bb.tryFind=function(ei,ej){var ek,el,em;ek=cd.Get(ej);try{el=null;while(el==null&&ek.MoveNext()){em=ek.Current();ei(em)?el={$:1,$0:em}:void 0;}return el;}finally{if(typeof ek=="object"&&"Dispose"in ek)ek.Dispose();}};bb.exists=function(ei,ej){var ek,el;ek=cd.Get(ej);try{el=false;while(!el&&ek.MoveNext())el=ei(ek.Current());return el;}finally{if(typeof ek=="object"&&"Dispose"in ek)ek.Dispose();}};bb.sumBy=function(ei,ej){return bb.fold(function(ek,el){return ek+ei(el);},0,ej);};bb.length=function(ei){var ej,ek;ej=0;ek=cd.Get(ei);try{while(ek.MoveNext())ej=ej+1;return ej;}finally{if(typeof ek=="object"&&"Dispose"in ek)ek.Dispose();}};bb.zip=function(ei,ej){return bb.map2(function(ek,el){return[ek,el];},ei,ej);};bb.choose=function(ei,ej){return bb.collect(function(ek){var el;el=ei(ek);return el==null?cg.Empty:bB.ofArray([el.$0]);},ej);};bb.distinct=function(ei){return bb.distinctBy(a.id,ei);};bb.sort=function(ei){return bb.sortBy(a.id,ei);};bb.groupBy=function(ei,ej){return bb.delay(function(){return Q.groupBy(ei,Q.ofSeq(ej));});};bb.concat=function(ei){return{GetEnumerator:function(){var ej;ej=cd.Get(ei);return new ce.New(null,null,function(ek){var el;while(true){el=ek.s;if(F.Equals(el,null)){if(ej.MoveNext()){ek.s=cd.Get(ej.Current());ek=ek;}else{ej.Dispose();return false;}}else if(el.MoveNext()){ek.c=el.Current();return true;}else{ek.Dispose();ek.s=null;ek=ek;}}},function(ek){var el;el=ek.s;!F.Equals(el,null)?el.Dispose():void 0;!F.Equals(ej,null)?ej.Dispose():void 0;});}};};bb.seqEmpty=function(){return n.FailWith("The input sequence was empty.");};bb.indexed=function(ei){return bb.mapi(function(ej,ek){return[ej,ek];},ei);};bb.fold=function(ei,ej,ek){var el,em;el=ej;em=cd.Get(ek);try{while(em.MoveNext())el=ei(el,em.Current());return el;}finally{if(typeof em=="object"&&"Dispose"in em)em.Dispose();}};bb.map2=function(ei,ej,ek){return{GetEnumerator:function(){var el,em;el=cd.Get(ej);em=cd.Get(ek);return new ce.New(null,null,function(en){return el.MoveNext()&&em.MoveNext()&&(en.c=ei(el.Current(),em.Current()),true);},function(){el.Dispose();em.Dispose();});}};};bb.tryFindIndex=function(ei,ej){var ek,el,em;ek=cd.Get(ej);try{el=true;em=0;while(el&&ek.MoveNext())if(ei(ek.Current()))el=false;else em=em+1;return el?null:{$:1,$0:em};}finally{if(typeof ek=="object"&&"Dispose"in ek)ek.Dispose();}};bb.distinctBy=function(ei,ej){return{GetEnumerator:function(){var ek,el;ek=cd.Get(ej);el=new bZ.New$3();return new ce.New(null,null,function(em){var en,eo;if(ek.MoveNext()){en=ek.Current();eo=el.Add(ei(en));while(!eo&&ek.MoveNext()){en=ek.Current();eo=el.Add(ei(en));}return eo&&(em.c=en,true);}else return false;},function(){ek.Dispose();});}};};bb.sortBy=function(ei,ej){return bb.delay(function(){var ek;ek=Q.ofSeq(ej);Q.sortInPlaceBy(ei,ek);return ek;});};bb.mapi=function(ei,ej){return bb.map2(ei,bb.initInfinite(a.id),ej);};bb.pairwise=function(ei){return bb.map(function(ej){return[Q.get(ej,0),Q.get(ej,1)];},bb.windowed(2,ei));};bb.forall2=function(ei,ej,ek){return!bb.exists2(function(el,em){return!ei(el,em);},ej,ek);};bb.iteri=function(ei,ej){var ek,el;ek=0;el=cd.Get(ej);try{while(el.MoveNext()){ei(ek,el.Current());ek=ek+1;}}finally{if(typeof el=="object"&&"Dispose"in el)el.Dispose();}};bb.initInfinite=function(ei){return{GetEnumerator:function(){return new ce.New(0,null,function(ej){ej.c=ei(ej.s);ej.s=ej.s+1;return true;},void 0);}};};bb.skip=function(ei,ej){return{GetEnumerator:function(){var ek;ek=cd.Get(ej);return new ce.New(true,null,function(el){var em,en;if(el.s){for(em=1,en=ei;em<=en;em++)if(!ek.MoveNext())bb.insufficient();el.s=false;}else null;return ek.MoveNext()&&(el.c=ek.Current(),true);},function(){ek.Dispose();});}};};bb.nth=function(ei,ej){var ek,el;if(ei<0)n.FailWith("negative index requested");ek=-1;el=cd.Get(ej);try{while(ek<ei){!el.MoveNext()?bb.insufficient():void 0;ek=ek+1;}return el.Current();}finally{if(typeof el=="object"&&"Dispose"in el)el.Dispose();}};bb.init=function(ei,ej){return bb.take(ei,bb.initInfinite(ej));};bb.windowed=function(ei,ej){ei<=0?n.FailWith("The input must be positive."):void 0;return bb.delay(function(){return bb.enumUsing(cd.Get(ej),function(ek){var el;el=[];return bb.append(bb.enumWhile(function(){return el.length<ei&&ek.MoveNext();},bb.delay(function(){el.push(ek.Current());return[];})),bb.delay(function(){return el.length===ei?bb.append([el.slice(0)],bb.delay(function(){return bb.enumWhile(function(){return ek.MoveNext();},bb.delay(function(){el.shift();el.push(ek.Current());return[el.slice(0)];}));})):[];}));});});};bb.head=function(ei){var ej;ej=cd.Get(ei);try{return ej.MoveNext()?ej.Current():bb.insufficient();}finally{if(typeof ej=="object"&&"Dispose"in ej)ej.Dispose();}};bb.exists2=function(ei,ej,ek){var el,em,en,eo;el=cd.Get(ej);try{en=cd.Get(ek);try{eo=false;while(!eo&&el.MoveNext()&&en.MoveNext())eo=ei(el.Current(),en.Current());em=eo;}finally{if(typeof en=="object"&&"Dispose"in en)en.Dispose();}return em;}finally{if(typeof el=="object"&&"Dispose"in el)el.Dispose();}};bb.compareWith=function(ei,ej,ek){var el,em,en,eo,ep;el=cd.Get(ej);try{en=cd.Get(ek);try{eo=0;ep=true;while(ep&&eo===0)if(el.MoveNext())eo=en.MoveNext()?ei(el.Current(),en.Current()):1;else if(en.MoveNext())eo=-1;else ep=false;em=eo;}finally{if(typeof en=="object"&&"Dispose"in en)en.Dispose();}return em;}finally{if(typeof el=="object"&&"Dispose"in el)el.Dispose();}};bb.iter=function(ei,ej){var ek;ek=cd.Get(ej);try{while(ek.MoveNext())ei(ek.Current());}finally{if(typeof ek=="object"&&"Dispose"in ek)ek.Dispose();}};bb.take=function(ei,ej){ei<0?bb.nonNegative():void 0;return{GetEnumerator:function(){var ek;ek=[cd.Get(ej)];return new ce.New(0,null,function(el){var em;el.s=el.s+1;return el.s>ei?false:(em=ek[0],F.Equals(em,null)?bb.insufficient():em.MoveNext()?(el.c=em.Current(),el.s===ei?(em.Dispose(),ek[0]=null):void 0,true):(em.Dispose(),ek[0]=null,bb.insufficient()));},function(){var el;el=ek[0];!F.Equals(el,null)?el.Dispose():void 0;});}};};bb.unfold=function(ei,ej){return{GetEnumerator:function(){return new ce.New(ej,null,function(ek){var el;el=ei(ek.s);return el==null?false:(ek.c=el.$0[0],ek.s=el.$0[1],true);},void 0);}};};bb.max=function(ei){var ej,ek,el;ej=cd.Get(ei);try{if(!ej.MoveNext())bb.seqEmpty();ek=ej.Current();while(ej.MoveNext()){el=ej.Current();F.Compare(el,ek)===1?ek=el:void 0;}return ek;}finally{if(typeof ej=="object"&&"Dispose"in ej)ej.Dispose();}};bb.forall=function(ei,ej){return!bb.exists(function(ek){return!ei(ek);},ej);};bd.op_AmpGreater=function(ei,ej,ek,el){var em;em=ei(ek,el);return em===0?ej(ek,el):em;};bd.asc=function(ei,ej,ek){return F.Compare(ei(ej),ei(ek));};bd.desc=function(ei,ej,ek){return F.Compare(ei(ek),ei(ej));};be.New=function(ei,ej,ek,el,em,en){return{hijosDe:ei,nivelDe:ej,aliado:ek,aliadoO:el,hijos:em,descendientes:en};};bg=bf.FSharpSet=ea.Class({Contains:function(ei){return cf.Contains(ei,this.tree);},Remove:function(ei){return new bg.New$1(cf.Remove(ei,this.tree));},Add:function(ei){return new bg.New$1(cf.Add(ei,this.tree));},Equals:function(ei){return this.get_Count()===ei.get_Count()&&bb.forall2(F.Equals,this,ei);},GetEnumerator$1:function(){return cd.Get(cf.Enumerate(false,this.tree));},get_Count:function(){var ei;ei=this.tree;return ei==null?0:ei.Count;},GetHashCode:function(){return -1741749453+F.Hash(Q.ofSeq(this));},GetEnumerator:function(){return this.GetEnumerator$1();},CompareTo0:function(ei){return bb.compareWith(F.Compare,this,ei);},GetEnumerator0:function(){return this.GetEnumerator$1();}},f,bg);bg.op_Subtraction=function(ei,ej){return bh.Filter(function(ek){return!ej.Contains(ek);},ei);};bg.New=ea.Ctor(function(ei){bg.New$1.call(this,cf.OfSeq(ei));},bg);bg.New$1=ea.Ctor(function(ei){f.New.call(this);this.tree=ei;},bg);bh.Filter=function(ei,ej){var ek;return new bg.New$1((ek=Q.ofSeq(bb.filter(ei,ej)),cf.Build(ek,0,ek.length-1)));};bi.PadLeft=function(ei,ej){return bi.PadLeftWith(ei,ej," ");};bi.concat=function(ei,ej){return Q.ofSeq(ej).join(ei);};bi.PadLeftWith=function(ei,ej,ek){return ej>ei.length?a.Array(ej-ei.length+1).join(ek)+ei:ei;};bi.Trim=function(ei){return ei.replace(new a.RegExp("^\\s+"),"").replace(new a.RegExp("\\s+$"),"");};bi.Substring=function(ei,ej,ek){return ei.substr(ej,ek);};bi.Replace=function(ei,ej,ek){function el(em){var en,eo,ep;en=em.indexOf(ej);return en!==-1?(eo=bi.ReplaceOnce(em,ej,ek),(ep=en+ek.length,bi.Substring(eo,0,en+ek.length)+el(eo.substring(ep)))):em;}return el(ei);};bi.SplitChars=function(ei,ej,ek){return bi.Split(ei,new a.RegExp("["+bi.RegexEscape(ej.join(""))+"]"),ek);};bi.ReplaceOnce=function(ei,ej,ek){return ei.replace(ej,ek);};bi.Split=function(ei,ej,ek){return ek===1?Q.filter(function(el){return el!=="";},bi.SplitWith(ei,ej)):bi.SplitWith(ei,ej);};bi.RegexEscape=function(ei){return ei.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};bi.StartsWith=function(ei,ej){return ei.substring(0,ej.length)==ej;};bi.SplitWith=function(ei,ej){return ei.split(ej);};bi.replicate=function(ei,ej){return Q.create(ei,ej).join("");};bi.IsNullOrEmpty=function(ei){return ei==null||ei=="";};bi.ReplaceChar=function(ei,ej,ek){return bi.Replace(ei,ej,ek);};bi.SplitStrings=function(ei,ej,ek){return bi.Split(ei,new a.RegExp(bi.concat("|",Q.map(bi.RegexEscape,ej))),ek);};bi.forall=function(ei,ej){return bb.forall(ei,bi.protect(ej));};bi.protect=function(ei){return ei===null?"":ei;};bi.Join=function(ei,ej){return ej.join(ei);};bj=J.CorreoElectronico=ea.Class({toString:function(){return this.email;}},null,bj);bj.New=function(ei,ej,ek){return new bj({email:ei,enviado:ej,recibido:ek});};bk.formaDoc=function(ei){var ej,ek,el,em,en,eo;ej=(ek=(el=W.EmbedView(o.Map(bx.crearOptions,bx.generos().get_View())),R.Make().WithHole({$:0,$0:"generos",$1:el})),(em=S.CompleteHoles(ek.k,ek.h,[["nombres",0],["apellidos",0],["fechanacimiento",0],["genero",0]]),(en=new P.New(em[1],T.datospersonales(em[0])),(ek.i=en,en))));o.Sink(function(ep){var eq;if(ep!=null&&ep.$==1){eq=ep.$0;ej.Hole("nombres").Set(bi.Trim(eq.nombre1+" "+eq.nombre2));ej.Hole("apellidos").Set(bi.Trim(eq.apellido1+" "+eq.apellido2));ej.Hole("fechanacimiento").Set(bA.toYYYYMMDD("-",eq.fechaNacimiento));ej.Hole("genero").Set((function(er){return function(es){return er(U.p$1(es));};}(a.id))(eq.genero));}},ei.get_View());eo=o.Apply(o.Apply(o.Map2(function(ep,eq){return function(er){return function(es){return bb.map(function(et){return et[1];},bb.filter(function(et){return et[0];},bB.ofArray([[bi.Trim(ep)==="","Nombres"],[bi.Trim(eq)==="","Apellidos"],[bi.Trim(er)==="","Fecha de Nacimiento"],[bi.Trim(es)==="","Genero"]])));};};},ej.Hole("nombres").get_View(),ej.Hole("apellidos").get_View()),ej.Hole("fechanacimiento").get_View()),ej.Hole("genero").get_View());o.Sink(function(ep){if(!F.Equals(ei.Get(),ep))ei.Set(ep);},o.Apply(o.Apply(o.Apply(o.Apply(o.Apply(o.Map2(function(ep,eq){return ea.Curried(function(er,es,et,eu,ev){return!bb.isEmpty(ep)?null:bx.alertIfNone("Genero",ch.tryParse(eq),function(ew){return bx.alertIfNone("Fecha incorrecta",(bI.parseDateO2())(er),function(ex){return{$:1,$0:bS.New(null,Q.get(bi.SplitChars(bi.Trim(es),[" "],0),0),bi.concat(" ",b5.array(bi.SplitChars(bi.Trim(et),[" "],0),{$:1,$0:1},null)),Q.get(bi.SplitChars(bi.Trim(eu),[" "],0),0),bi.concat(" ",b5.array(bi.SplitChars(bi.Trim(ev),[" "],0),{$:1,$0:1},null)),new ci({$:3,$0:""}),ew,ex)};});});},5);},eo,ej.Hole("genero").get_View()),ej.Hole("fechanacimiento").get_View()),ej.Hole("nombres").get_View()),ej.Hole("nombres").get_View()),ej.Hole("apellidos").get_View()),ej.Hole("apellidos").get_View()));return[eo,ej.get_Doc()];};bl.formaDoc=function(ei){var ej,ek,el,em,en,eo,ep;ej=h.Create$1("");ek=(el=R.Make().WithHole({$:2,$0:"mensaje",$1:ej.get_View()}),(em=S.CompleteHoles(el.k,el.h,[["correo",0],["confirmarcorreo",0]]),(en=new P.New(em[1],T.correo(em[0])),(el.i=en,en))));eo=ei.Get();eo!=null&&eo.$==1?ek.Hole("confirmarcorreo").Set(a.String(eo.$0)):void 0;o.Sink(function(eq){ej.Set(eq);},o.Apply(o.Apply(o.Map2(function(eq,er){return function(es){return function(et){return bi.Trim(eq)===""||bi.Trim(er)===""||bi.Trim(es)===bi.Trim(et)?"":"Correos no son iguales";};};},ek.Hole("correo").get_View(),ek.Hole("confirmarcorreo").get_View()),ek.Hole("correo").get_View()),ek.Hole("confirmarcorreo").get_View()));o.Sink(function(eq){if(eq!=null&&eq.$==1)ek.Hole("correo").Set(eq.$0.email);},ei.get_View());ep=o.Apply(o.Apply(o.Map2(function(eq,er){return function(es){return function(et){return bb.map(function(eu){return eu[1];},bb.filter(function(eu){return eu[0];},bB.ofArray([[bi.Trim(eq)==="","Correo"],[bi.Trim(er)==="","ConfirmarCorreo"],[es!=="",et]])));};};},ek.Hole("correo").get_View(),ek.Hole("confirmarcorreo").get_View()),ej.get_View()),ej.get_View());o.Sink(function(eq){if(!F.Equals(ei.Get(),eq))ei.Set(eq);},o.Map2(function(eq,er){var es,et,eu,ev;return!bb.isEmpty(eq)?null:(es=(et=ei.Get(),(eu={$:1,$0:J.correoVacio()},et==null?eu:et)),es==null?null:{$:1,$0:(ev=es.$0,bj.New(er,ev.enviado,ev.recibido))});},ep,ek.Hole("correo").get_View()));return[ep,ek.get_Doc()];};bm.formaDoc=function(ei){var ej,ek,el,em,en,eo;ej=(ek=(el=W.EmbedView(o.Map(bx.crearOptions,bx.tiposTel().get_View())),R.Make().WithHole({$:0,$0:"tipos",$1:el})),(em=S.CompleteHoles(ek.k,ek.h,[["tipotelefono",0],["codigopais",0],["codigoarea",0],["telefono",0],["extension",0]]),(en=new P.New(em[1],T.telefono(em[0])),(ek.i=en,en))));o.Sink(function(ep){var eq;if(ep!=null&&ep.$==1){eq=ep.$0;ej.Hole("codigoarea").Set(eq.codigoArea);ej.Hole("codigopais").Set(eq.codigoPais);ej.Hole("telefono").Set(eq.numero);ej.Hole("extension").Set(eq.extension);ej.Hole("tipotelefono").Set((function(er){return function(es){return er(a.String(es));};}(a.id))(eq.tipoTelefono));}},ei.get_View());eo=o.Apply(o.Map2(function(ep,eq){return function(er){return bb.map(function(es){return es[1];},bb.filter(function(es){return es[0];},bB.ofArray([[bi.Trim(ep)==="","CodigoPais"],[bi.Trim(eq)==="","Telefono"],[bi.Trim(er)==="","TipoTelefono"]])));};},ej.Hole("codigopais").get_View(),ej.Hole("telefono").get_View()),ej.Hole("tipotelefono").get_View());o.Sink(function(ep){if(!F.Equals(ei.Get(),ep))ei.Set(ep);},o.Apply(o.Apply(o.Apply(o.Apply(o.Map2(function(ep,eq){return ea.Curried(function(er,es,et,eu){return!bb.isEmpty(ep)?null:bx.alertIfNone("TipoTelefono",(ck.get_tryParse())(bi.Trim(eq)),function(ev){var ew;return{$:1,$0:(ew=bi.Trim(er),cj.New(ev,bi.Trim(es),ew,bi.Trim(et),bi.Trim(eu),false))};});},4);},eo,ej.Hole("tipotelefono").get_View()),ej.Hole("codigoarea").get_View()),ej.Hole("codigopais").get_View()),ej.Hole("telefono").get_View()),ej.Hole("extension").get_View()));return[eo,ej.get_Doc()];};bn.formaDoc=function(ei){var ej,ek,el,em,en,eo,ep,eq;ej=(ek=(el=W.EmbedView(o.Map(bx.crearOptions,bx.tiposDir().get_View())),(em=W.EmbedView(o.Map(bx.crearOptions,bx.estados().get_View())),(en=W.EmbedView(o.Map(bx.crearOptions,bx.paises().get_View())),R.Make().WithHole({$:0,$0:"paises",$1:en})).WithHole({$:0,$0:"estados",$1:em})).WithHole({$:0,$0:"tipos",$1:el})),(eo=S.CompleteHoles(ek.k,ek.h,[["tipodireccion",0],["direccion1",0],["direccion2",0],["ciudad",0],["estado",0],["codigopostal",0],["pais",0]]),(ep=new P.New(eo[1],T.direccion(eo[0])),(ek.i=ep,ep))));o.Sink(function(er){var es;if(er!=null&&er.$==1){es=er.$0;ej.Hole("direccion1").Set(es.linea1);ej.Hole("direccion2").Set(es.linea2);ej.Hole("ciudad").Set(es.ciudad);ej.Hole("estado").Set((function(et){return function(eu){return et(a.String(eu));};}(a.id))(es.estado));ej.Hole("pais").Set((function(et){return function(eu){return et(a.String(eu));};}(a.id))(es.pais));ej.Hole("codigopostal").Set((function(et){return function(eu){return et(a.String(eu));};}(a.id))(es.zonaPostal));ej.Hole("tipodireccion").Set((function(et){return function(eu){return et(a.String(eu));};}(a.id))(es.tipoDireccion));}},ei.get_View());eq=o.Apply(o.Apply(o.Apply(o.Apply(o.Map2(function(er,es){return ea.Curried(function(et,eu,ev,ew){return bb.map(function(ex){return ex[1];},bb.filter(function(ex){return ex[0];},bB.ofArray([[bi.Trim(er)==="","Direccion1"],[bi.Trim(es)==="","Ciudad"],[bi.Trim(et)==="","Estado"],[bi.Trim(eu)==="","Pais"],[bi.Trim(ev)==="","CodigoPostal"],[bi.Trim(ew)==="","TipoDireccion"]])));},4);},ej.Hole("direccion1").get_View(),ej.Hole("ciudad").get_View()),ej.Hole("estado").get_View()),ej.Hole("pais").get_View()),ej.Hole("codigopostal").get_View()),ej.Hole("tipodireccion").get_View());o.Sink(function(er){if(!F.Equals(ei.Get(),er))ei.Set(er);},o.Apply(o.Apply(o.Apply(o.Apply(o.Apply(o.Apply(o.Apply(o.Map2(function(er,es){return ea.Curried(function(et,eu,ev,ew,ex,ey,ez){return!bb.isEmpty(er)?null:bx.alertIfNone("TipoDireccion",cm.tryParse(bi.Trim(es)),function(eA){return bx.alertIfNone("Estado",cn.tryParse(bi.Trim(et)),function(eB){return bx.alertIfNone("Pais",ci.tryParse(bi.Trim(eu)),function(eC){return bx.alertIfNone("CodigoPostal",co.tryParse(bi.Trim(ev)),function(eD){var eE;return{$:1,$0:cl.New((eE=ez==null?null:{$:1,$0:ez.$0.authorizeIdR},eE==null?bc.Error(""):eE.$0),eA,bi.Trim(ew),bi.Trim(ex),bi.Trim(ey),eB,eC,eD)};});});});});},7);},eq,ej.Hole("tipodireccion").get_View()),ej.Hole("estado").get_View()),ej.Hole("pais").get_View()),ej.Hole("codigopostal").get_View()),ej.Hole("direccion1").get_View()),ej.Hole("direccion2").get_View()),ej.Hole("ciudad").get_View()),ei.get_View()));return[eq,ej.get_Doc()];};bp.asyncResultM=function(){bW.$cctor();return bW.asyncResultM;};bp["AsyncResultMBuilder.Bind"]=function(ei,ej,ek){function el(em){return cB.Return(em);}return bq.bind(ek,cB.Bind(ej,function(em){return el(bo.OkM$1(em));}));};br=bq.AsyncResultMBuilder=ea.Class({Run:function(ei){return bq.bind(ei,bq.rtn());},Delay:a.id,Bind$4:function(ei,ej){return bq.bind(ej,ei);},Zero:function(){return bq.rtn();},Combine$1:function(ei,ej){return bq.bind(ej,ei);},For:function(ei,ej){var ek;ek=this;return this.Using(cd.Get(ei),function(el){return ek.While(function(){return el.MoveNext();},ek.Delay(function(){return ej(el.Current());}));});},Bind$2:function(ei,ej){return bq.bindM(ej,ei);},Return:function(ei){return bq.rtn(ei);},Bind$1:function(ei,ej){return bq.bindR(ej,ei);},Using:function(ei,ej){return cB.Using(ei,ej);},While:function(ei,ej){return bq.whileLoop(ei,ej);},TryFinally:function(ei,ej){var ek;ek=null;return cB.Delay(function(){return cB.TryFinally(cB.Delay(function(){return ei();}),function(){ej();});});},ReturnFrom$4:a.id},f,br);br.New=ea.Ctor(function(){f.New.call(this);},br);bs.refrescarData=function(ei){var ej,ek,el;ei?bs.set_shouldRefresh(true):void 0;ej=bK.userO().Get();ej!=null&&ej.$==1?(ek=ej.$0,X.iterA((el=bp.asyncResultM(),el.Run(el.Delay(function(){return el.Combine$1(bK.referidoPor()!==""?el.Bind$4(X.agregarUsuarioSiEsNuevo(bK.claims(ek)),function(){return el.Return();}):el.Zero(),el.Delay(function(){return!self.document.hidden?bs.shouldRefresh()?el.Bind$4(X.obtenerEstadoParaUsuario(),function(em){bs.set_shouldRefresh(false);return!F.Equals(l.modeloV().Get(),em)?(l.modeloV().Set(em),el.Zero()):el.Zero();}):el.Zero():el.Zero();}));}))))):l.modeloV().Set(J.modeloVacio());};bs.set_shouldRefresh=function(ei){_2.$cctor();_2.shouldRefresh=ei;};bs.shouldRefresh=function(){_2.$cctor();return _2.shouldRefresh;};bu.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new a.RegExp("[xy]","g"),function(ei){var ej,ek;ej=eb.random()*16|0;ek=ei=="x"?ej:ej&3|8;return ek.toString(16);});};bu.TryParse=function(ei,ej){try{ej.set(bu.Parse(ei));return true;}catch(ek){return false;}};bu.Parse=function(ei){var ej,ek,el;try{return bu.ParseExact(ei,"D");}catch(em){try{ej=bu.ParseExact(ei,"B");}catch(en){try{ek=bu.ParseExact(ei,"P");}catch(eo){try{el=bu.ParseExact(ei,"N");}catch(ep){el=bu.ParseExact(ei,"X");}ek=el;}ej=ek;}return ej;}};bu.ParseExact=function(ei,ej){var ek,el,em,eo,ep,eq,er,es,et,eu,ev,ew,ex;function en(ey){var ez,eA,eB,eC;for(ez=0,eA=35;ez<=eA;ez++){ez===8||(ez===13||(ez===18||ez===23))?ey[ez]!=="-"?bu.ShapeError():void 0:(eC=ey[ez],!("0"<=eC&&eC<="9"||"a"<=eC&&eC<="f")?bu.ShapeError():void 0);}return ey;}eo=ej.toUpperCase();if(eo==="N"){ep=bi.Trim(ei).toLowerCase();if(ep.length!==32)bu.ShapeError();for(eq=0,er=31;eq<=er;eq++){es=ep[eq];!("0"<=es&&es<="9"||"a"<=es&&es<="f")?bu.ShapeError():void 0;}return bi.Substring(ep,0,8)+"-"+bi.Substring(ep,8,4)+"-"+bi.Substring(ep,12,4)+"-"+bi.Substring(ep,16,4)+"-"+ep.substring(20);}else if(eo==="D"){ek=bi.Trim(ei).toLowerCase();ek.length!==36?bu.ShapeError():void 0;return en(ek);}else if(eo==="B"){el=bi.Trim(ei).toLowerCase();el.length!==38||el[0]!=="{"||el[17]!=="}"?bu.ShapeError():void 0;return en(bi.Substring(el,1,36));}else if(eo==="P"){em=bi.Trim(ei).toLowerCase();em.length!==38||em[0]!=="("||em[17]!==")"?bu.ShapeError():void 0;return en(bi.Substring(em,1,36));}else if(eo==="X"){et=bi.Trim(ei).toLowerCase();if(et.length!==68)bu.ShapeError();for(eu=0,ev=67;eu<=ev;eu++){switch(eu){case 26:case 0:if(et[eu]!=="{")bu.ShapeError();break;case 62:case 57:case 52:case 47:case 42:case 37:case 32:case 27:case 19:case 12:case 1:if(et[eu]!=="0")bu.ShapeError();break;case 63:case 58:case 53:case 48:case 43:case 38:case 33:case 28:case 20:case 13:case 2:if(et[eu]!=="x")bu.ShapeError();break;case 61:case 56:case 51:case 46:case 41:case 36:case 31:case 25:case 18:case 11:if(et[eu]!==",")bu.ShapeError();break;case 67:case 66:if(et[eu]!=="{")bu.ShapeError();break;default:ex=et[eu];!("0"<=ex&&ex<="9"||"a"<=ex&&ex<="f")?bu.ShapeError():void 0;break;}}return bi.Substring(et,3,8)+"-"+bi.Substring(et,14,4)+"-"+bi.Substring(et,21,4)+"-"+bi.Substring(et,29,2)+bi.Substring(et,34,2)+"-"+bi.Substring(et,39,2)+bi.Substring(et,44,2)+bi.Substring(et,49,2)+bi.Substring(et,54,2)+bi.Substring(et,59,2)+bi.Substring(et,64,2);}else return bu.FormatError();};bu.ShapeError=function(){throw new d0.New$1("Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");};bu.FormatError=function(){throw new d0.New$1("Format String can be only \"D\", \"d\", \"N\", \"n\", \"P\", \"p\", \"B\", \"b\", \"X\" or \"x\".");};bq.iterA=function(ei,ej,ek){function el(en){bG.iter(ei,ej,en);}function em(en){return cB.Return(en);}cB.Start(cB.Bind(ek,function(en){return em(el(en));}),null);};bq.rtn=function(ei){return cB.Return(bo.OkM$1(ei));};bq.bind=function(ei,ej){var ek;ek=null;return cB.Delay(function(){return cB.TryWith(cB.Delay(function(){return cB.Bind(ej,function(el){var em,en;function eo(eq){return bG.addMsg(en,eq);}function ep(eq){return cB.Return(eq);}em=bo.OkM(el);return em.$==1?cB.Return(bo.ErrorM(em.$0)):(en=em.$0[1],cB.Bind(ei(em.$0[0]),function(eq){return ep(eo(eq));}));});}),function(el){return cB.Return(bo.ErrorM(new bv({$:5,$0:el.message,$1:el.stack})));});});};bq.bindM=function(ei,ej){return bq.bind(ei,bq.rtnM(ej));};bq.iterpA=function(ei,ej){function ek(el){bc.print(el);}bq.iterA(function(el){return ek(bv.summarized(el));},ei,ej);};bq.bindR=function(ei,ej){return bq.bind(ei,bq.rtnR(ej));};bq.whileLoop=function(ei,ej){return ei()?bq.bind(function(){return bq.whileLoop(ei,ej);},ej()):bq.rtn();};bq.rtnM=function(ei){return cB.Return(bG.rtnM(ei));};bq.rtnR=function(ei){return cB.Return(ei);};bv.summarized=function(ei){return bv.summarizedF(function(){return[1,0,0];},ei);};bv.summarizedF=function(ei,ej){return bi.concat("\n",bb.filter(function(ek){return""!==ek;},bB.ofArray([a.String(ej),bv.summaryF(ei,ej)])));};bv.summaryF=function(ei,ej){var ek,el;el=bv.countF(ei,ej);switch(el[0]===0?el[1]===0?0:el[1]===1?el[2]===0?0:(ek=el[1],2):(ek=el[1],2):el[0]===1?el[1]===0?el[2]===0?0:(ek=el[0],1):(ek=[el[0],el[1]],3):el[1]===0?(ek=el[0],1):(ek=[el[0],el[1]],3)){case 0:return"";case 1:return(function(em){return function(en){return em("Errors   : "+a.String(en)+"\n");};}(a.id))(ek);case 2:return(function(em){return function(en){return em("Warnings : "+a.String(en)+"\n");};}(a.id))(ek);case 3:return(((ea.Curried3(function(em,en,eo){return em("Errors   : "+a.String(en)+", Warnings: "+a.String(eo)+"\n");}))(a.id))(ek[0]))(ek[1]);}};bv.addMsg=function(ei,ej){return ei.$==0?ej:ei.$==6?ej.$==0?ei:ej.$==6?new bv({$:6,$0:ei.$0.concat(ej.$0)}):new bv({$:6,$0:ei.$0.concat([ej])}):ej.$==0?ei:ej.$==6?new bv({$:6,$0:[ei].concat(ej.$0)}):new bv({$:6,$0:[ei,ej]});};bv.countF=function(ei,ej){function ek(el,em,en){return function(eo){return[el+eo[0],em+eo[1],en+eo[2]];};}return ej.$==0?[0,0,0]:ej.$==3?[0,0,1]:ej.$==2?[0,1,0]:ej.$==4?ei(ej.$0):ej.$==6?bb.fold(function(el,em){return(function(en){return ek(en[0],en[1],en[2]);}(el))(em);},[0,0,0],bb.map(function(el){return bv.countF(ei,el);},bv.exclnoMsg(ej.$0))):[1,0,0];};bv.exclnoMsg=function(ei){function ej(ek){return!ek;}return bb.filter(function(ek){return ej(bv.noMsg(ek));},ei);};bv.noMsg=function(ei){return ei.$==0;};bw.New=function(ei,ej,ek,el,em,en,eo,ep,eq,er,es,et){return{nombre:ei,status:ej,influyente:ek,tipo:el,referido:em,nivel:en,referidos:eo,descendientes:ep,comision:eq,diaPago:er,desde:es,Id:et};};Q.map=function(ei,ej){var ek,el,em;ek=new a.Array(ej.length);for(el=0,em=ej.length-1;el<=em;el++)ek[el]=ei(ej[el]);return ek;};Q.sortBy=function(ei,ej){return Q.map(function(ek){return ek[0];},Q.mapi(function(ek,el){return[el,[ei(el),ek]];},ej).sort(function(ek,el){return F.Compare(ek[1],el[1]);}));};Q.reduce=function(ei,ej){var ek,el,em;Q.nonEmpty(ej);ek=ej[0];for(el=1,em=ej.length-1;el<=em;el++)ek=ei(ek,ej[el]);return ek;};Q.filter=function(ei,ej){var ek,el,em;ek=[];for(el=0,em=ej.length-1;el<=em;el++)if(ei(ej[el]))ek.push(ej[el]);return ek;};Q.choose=function(ei,ej){var ek,el,em,en;ek=[];for(el=0,em=ej.length-1;el<=em;el++){en=ei(ej[el]);en==null?void 0:ek.push(en.$0);}return ek;};Q.ofSeq=function(ei){var ej,ek;if(ei instanceof a.Array)return ei.slice();else if(ei instanceof cg)return Q.ofList(ei);else{ej=[];ek=cd.Get(ei);try{while(ek.MoveNext())ej.push(ek.Current());return ej;}finally{if(typeof ek=="object"&&"Dispose"in ek)ek.Dispose();}}};Q.sortInPlaceWith=function(ei,ej){ej.sort(ei);};Q.mapi=function(ei,ej){var ek,el,em;ek=new a.Array(ej.length);for(el=0,em=ej.length-1;el<=em;el++)ek[el]=ei(el,ej[el]);return ek;};Q.nonEmpty=function(ei){if(ei.length===0)n.FailWith("The input array was empty.");};Q.tryFindIndex=function(ei,ej){var ek,el;ek=null;el=0;while(el<ej.length&&ek==null){ei(ej[el])?ek={$:1,$0:el}:void 0;el=el+1;}return ek;};Q.ofList=function(ei){var ej,ek;ek=[];ej=ei;while(!(ej.$==0)){ek.push(bB.head(ej));ej=bB.tail(ej);}return ek;};Q.sortInPlace=function(ei){Q.mapInPlace(function(ej){return ej[0];},Q.mapiInPlace(function(ej,ek){return[ek,ej];},ei).sort(F.Compare));};Q.tryFind=function(ei,ej){var ek,el;ek=null;el=0;while(el<ej.length&&ek==null){ei(ej[el])?ek={$:1,$0:ej[el]}:void 0;el=el+1;}return ek;};Q.sortInPlaceBy=function(ei,ej){Q.mapInPlace(function(ek){return ek[0];},Q.mapiInPlace(function(ek,el){return[el,[ei(el),ek]];},ej).sort(function(ek,el){return F.Compare(ek[1],el[1]);}));};Q.map2=function(ei,ej,ek){var el,em,en;Q.checkLength(ej,ek);el=new a.Array(ek.length);for(em=0,en=ek.length-1;em<=en;em++)el[em]=ei(ej[em],ek[em]);return el;};Q.forall=function(ei,ej){var ek,el,em,en;ek=true;el=0;en=Q.length(ej);while(ek&&el<en)if(ei(ej[el]))el=el+1;else ek=false;return ek;};Q.init=function(ei,ej){var ek,el,em;ei<0?n.FailWith("Negative size given."):null;ek=new a.Array(ei);for(el=0,em=ei-1;el<=em;el++)ek[el]=ej(el);return ek;};Q.pick=function(ei,ej){var ek;ek=Q.tryPick(ei,ej);return ek==null?n.FailWith("KeyNotFoundException"):ek.$0;};Q.tryPick=function(ei,ej){var ek,el,em;ek=null;el=0;while(el<ej.length&&ek==null){em=ei(ej[el]);em!=null&&em.$==1?ek=em:void 0;el=el+1;}return ek;};Q.concat=function(ei){return a.Array.prototype.concat.apply([],Q.ofSeq(ei));};Q.checkLength=function(ei,ej){if(ei.length!==ej.length)n.FailWith("The arrays have different lengths.");};Q.exists=function(ei,ej){var ek,el,em,en;ek=false;el=0;en=Q.length(ej);while(!ek&&el<en)if(ei(ej[el]))ek=true;else el=el+1;return ek;};Q.create=function(ei,ej){var ek,el,em;ek=new a.Array(ei);for(el=0,em=ei-1;el<=em;el++)ek[el]=ej;return ek;};Q.foldBack=function(ei,ej,ek){var el,em,en,eo,ep;el=ek;en=ej.length;for(eo=1,ep=en;eo<=ep;eo++)el=ei(ej[en-eo],el);return el;};Q.iter=function(ei,ej){var ek,el;for(ek=0,el=ej.length-1;ek<=el;ek++)ei(ej[ek]);};Q.findIndex=function(ei,ej){var ek;ek=Q.tryFindIndex(ei,ej);return ek==null?n.FailWith("KeyNotFoundException"):ek.$0;};Q.find=function(ei,ej){var ek;ek=Q.tryFind(ei,ej);return ek==null?n.FailWith("KeyNotFoundException"):ek.$0;};bx.statuses=function(){_2.$cctor();return _2.statuses;};bx.crearOptions=function(ei){return W.Concat(bb.map(bx.crearOption,ei));};bx.crearOptions2=function(ei){return W.Concat(bb.map(function(ej){return bx.crearOption2(ej[0],ej[1]);},ei));};bx.paises=function(){_2.$cctor();return _2.paises;};bx.estados=function(){_2.$cctor();return _2.estados;};bx.tiposDir=function(){_2.$cctor();return _2.tiposDir;};bx.tiposTel=function(){_2.$cctor();return _2.tiposTel;};bx.generos=function(){_2.$cctor();return _2.generos;};bx.tiposCta=function(){_2.$cctor();return _2.tiposCta;};bx.tiposTar=function(){_2.$cctor();return _2.tiposTar;};bx.aniosV=function(){_2.$cctor();return _2.aniosV;};bx.mesesV=function(){_2.$cctor();return _2.mesesV;};bx.alertIfNone=function(ei,ej,ek){return ej!=null&&ej.$==1?ek(ej.$0):(a.alert("Error not caught: "+ei),null);};bx.removeButton=function(ei,ej){return W.Element("form",[cS.Create("class","mui-panel")],[ej,W.Button("borrar",[cS.Create("title","borrar")],ei)]);};bx.fst3=a.id;bx.crearOption=function(ei){return W.Element("option",[],[W.TextNode(ei)]);};bx.crearOption2=function(ei,ej){return W.Element("option",[cS.Create("value",ej)],[W.TextNode(ei)]);};bx.thr3=function(ei,ej,ek){return ek;};bx.snd3=function(ei,ej,ek){return ej;};bv=bc.ResultMessage=ea.Class({toString:function(){return this.$==1?(function(ei){return function(ej){return ei("Error    : "+bz.toSafe(ej));};}(a.id))(this.$0):this.$==2?(function(ei){return function(ej){return ei("Warning  : "+bz.toSafe(ej));};}(a.id))(this.$0):this.$==3?this.$0:this.$==4?(function(ei){return function(ej){return ei(a.String(ej));};}(a.id))(this.$0):this.$==5?(((ea.Curried3(function(ei,ej,ek){return ei("Exception: "+bz.toSafe(ej)+", "+bz.toSafe(ek));}))(a.id))(this.$0))(this.$1):this.$==6?bi.concat("\n",bb.map(a.String,bb.filter(function(ei){return ei.$!=0;},this.$0))):"";}},null,bv);bv.NoMsg=new bv({$:0});by=J.StatusAliado=ea.Class({toString:function(){return(function(ei){return function(ej){return ei(_.p(ej));};}(a.id))(this);}},null,by);by.tryParse=function(ei){var ej;ej=bi.Trim(ei).toUpperCase();return ej==="CUENTACREADA"?by.CuentaCreada:ej==="DATOSBANCARIOSINGRESADOS"?by.DatosBancariosIngresados:ej==="ACTIVO"?by.Activo:ej==="CANCELADO"?by.Cancelado:by.Inactivo;};by.CuentaCreada=new by({$:0});by.DatosBancariosIngresados=new by({$:1});by.Activo=new by({$:2});by.Cancelado=new by({$:4});by.Inactivo=new by({$:3});bz.toSafe=function(ei){return ei==null?"":ei;};bz.prettyPrint=function(ei){var ej,ek;function el(em,en){return em+" = "+bz.prettyPrint(en);}return ei===null?"null":(ej=typeof ei,ej=="string"?"\""+ei+"\"":ej=="object"?ei instanceof a.Array?"[|"+bi.concat("; ",Q.map(bz.prettyPrint,ei))+"|]":(ek=a.String(ei),ek==="[object Object]"?"{"+bi.concat("; ",Q.map(function(em){return el(em[0],em[1]);},E.GetFields(ei)))+"}":ek):a.String(ei));};bz.padNumLeft=function(ei,ej){var ek;ek=Q.get(ei,0);return ek===" "||ek==="+"||ek==="-"?ek+bi.PadLeftWith(ei.substr(1),ej-1,"0"):bi.PadLeftWith(ei,ej,"0");};bz.printList=function(ei,ej){return"["+bi.concat("; ",bb.map(ei,ej))+"]";};bc["String.Right"]=function(ei,ej){var ek,el;return bc["String.Substring2"](ei,(ek=0,(el=ei.length-ej,F.Compare(ek,el)===1?ek:el)),ei.length);};bc.print=function(ei){if(typeof ei=="string")((function(ej){return function(ek){return ej(bz.toSafe(ek));};}(function(ej){ee.log(ej);}))(ei));else((function(ej){return function(ek){return ej(bz.prettyPrint(ek));};}(function(ej){ee.log(ej);}))(ei));};bc.Error=function(ei){return{$:1,$0:ei};};bc["String.Substring2"]=function(ei,ej,ek){var el,em;while(true){if(ek<=0)return"";else if(ej<0){el=ej;ej=0;ek=ek+el;}else return ej>=ei.length?"":bi.Substring(ei,ej,(em=ei.length-ej,F.Compare(ek,em)===-1?ek:em));}};bc["String.Left"]=function(ei,ej){return ej<0?bc["String.Substring2"](ei,0,ei.length+ej):bc["String.Substring2"](ei,0,ej);};bc.delayed=function(ei,ej){var ek;ek=[null];return function(el){var em,en;em=ek[0];em==null?void 0:em.$0.Cancel$1();ek[0]={$:1,$0:new dm.New()};cB.Start((en=null,cB.Delay(function(){return cB.Bind(cB.Sleep(ei),function(){ej(el);return cB.Zero();});})),{$:1,$0:ek[0].$0});};};bA.toYYYYMMDD=function(ei,ej){return((((((ea.Curried(function(ek,el,em,en,eo,ep){return ek(a.String(el)+bz.toSafe(em)+bz.padNumLeft(a.String(en),2)+bz.toSafe(eo)+bz.padNumLeft(a.String(ep),2));},6))(a.id))((new ed(ej)).getFullYear()))(ei))((new ed(ej)).getMonth()+1))(ei))((new ed(ej)).getDate());};bB.ofArray=function(ei){var ej,ek,el;ej=cg.Empty;for(ek=Q.length(ei)-1,el=0;ek>=el;ek--)ej=new cg({$:1,$0:Q.get(ei,ek),$1:ej});return ej;};bB.ofSeq=function(ei){var ej,ek,el,em,en,eo;if(ei instanceof cg)return ei;else if(ei instanceof a.Array)return bB.ofArray(ei);else{ej=cd.Get(ei);try{el=ej.MoveNext();if(!el)ek=cg.Empty;else{en=new cg({$:1});em=en;while(el){em.$0=ej.Current();ej.MoveNext()?em=(eo=new cg({$:1}),em.$1=eo,eo):el=false;}em.$1=cg.Empty;ek=en;}return ek;}finally{if(typeof ej=="object"&&"Dispose"in ej)ej.Dispose();}}};bB.rev=function(ei){var ej,ek;ej=cg.Empty;ek=ei;while(ek.$==1){ej=new cg({$:1,$0:ek.$0,$1:ej});ek=ek.$1;}return ej;};bB.head=function(ei){return ei.$==1?ei.$0:bB.listEmpty();};bB.tail=function(ei){return ei.$==1?ei.$1:bB.listEmpty();};bB.listEmpty=function(){return n.FailWith("The input list was empty.");};bB.iter=function(ei,ej){var ek;ek=ej;while(ek.$==1){ei(bB.head(ek));ek=bB.tail(ek);}};bC.New=function(ei,ej,ek,el,em){return{titular:ei,banco:ej,tipo:ek,numero:el,routing:em};};bD=J.RoutingNumber=ea.Class({get_Id:function(){return this.$0;}},null,bD);bE=J.NumeroCuenta=ea.Class({get_Id:function(){return this.$0;}},null,bE);bF.New=function(ei,ej,ek){return{nombre:ei,authorizeIdR:ej,cuentaPago:ek};};J.ctaVacio=function(){bW.$cctor();return bW.ctaVacio;};J.premisasCalculo=function(){bW.$cctor();return bW.premisasCalculo;};J.correoVacio=function(){bW.$cctor();return bW.correoVacio;};J.modeloVacio=function(){bW.$cctor();return bW.modeloVacio;};J.telVacio=function(){bW.$cctor();return bW.telVacio;};J.dirVacio=function(){bW.$cctor();return bW.dirVacio;};J.tarVacio=function(){bW.$cctor();return bW.tarVacio;};bG.defaultValue=function(ei,ej){return cC.defaultValue(ei,bG.toResult(ej));};bG.iter=function(ei,ej,ek){var el;el=bG.mapP(ej,ek);el.$0==null?ei(el.$1):void 0;};bG.ofResult=function(ei){return bG.rtnr(ei);};bG.toResult=function(ei){return ei.$0==null?bc.Error(ei.$1):{$:0,$0:ei.$0.$0};};bG.addMsg=function(ei,ej){return bG.mapMessage(function(ek){return bv.addMsg(ei,ek);},ej);};bG.mapP=function(ei,ej){return bG.bindP(function(ek){return bG.rtn(ei(ek));},ej);};bG.rtnr=function(ei){return cC.defaultWith(bo.ErrorM,cw.Map(bo.OkM$1,ei));};bG.mapMessage=function(ei,ej){return{$:0,$0:ej.$0,$1:ei(ej.$1)};};bG.bindP=function(ei,ej){var ek;if(ej.$0==null)return{$:0,$0:null,$1:ej.$1};else{ek=ej.$1;try{return bG.mapMessage(function(el){return bv.addMsg(ek,el);},ei(ej.$0.$0));}catch(el){return bo.ErrorM(new bv({$:5,$0:el.message,$1:el.stack}));}}};bG.rtn=function(ei){return bo.OkM$1(ei);};bG.rtnM=function(ei){return bo.OkMWithMsg(null,ei);};bG.bind=function(ei,ej){var ek;return ej.$0==null?{$:0,$0:null,$1:ej.$1}:(ek=ej.$1,bG.mapMessage(function(el){return bv.addMsg(ek,el);},ei(ej.$0.$0)));};bH.New=function(ei,ej,ek,el,em,en,eo,ep){return{comisionReferidosRegular:ei,comisionReferidosMaster:ej,comisionDescendientesMaster:ek,comisionDescendientesRegular:el,montoAfiliacion:em,numeroReferidosMaster:en,diaCorte1:eo,diaCorte2:ep};};bI.parseDateO=function(){bQ.$cctor();return bQ.parseDateO;};bI.parseDateO2=function(){bQ.$cctor();return bQ.parseDateO2;};bI.tryParseWith=function(ei){function ej(ek,el){return ek?{$:1,$0:el}:null;}return function(ek){return ej.apply(null,ei(ek));};};bI.parseIntO=function(){bQ.$cctor();return bQ.parseIntO;};bI.parseInt64O=function(){bQ.$cctor();return bQ.parseInt64O;};bI.parseSingleO=function(){bQ.$cctor();return bQ.parseSingleO;};bI.parseDoubleO=function(){bQ.$cctor();return bQ.parseDoubleO;};bI.parseGuidO=function(){bQ.$cctor();return bQ.parseGuidO;};bI.Double=function(){bQ.$cctor();return bQ["|Double|_|"];};bI.Int=function(){bQ.$cctor();return bQ["|Int|_|"];};bJ.New=function(ei,ej,ek){return{actName:ei,actFunction:ej,actEnabled:ek};};bK.logout=function(){bK.executePolicy(true,b7.SignIn);};bK.userO=function(){_2.$cctor();return _2.userO;};bK.storeValue=function(ei,ej){bK.storage().setItem(ei,ej);return ej;};bK.storage=function(){_2.$cctor();return _2.storage;};bK.getAuthority=function(ei,ej){return((((ea.Curried(function(ek,el,em,en){return ek("https://"+bz.toSafe(el)+".b2clogin.com/tfp/"+bz.toSafe(em)+".onmicrosoft.com/"+bz.toSafe(en));},4))(a.id))(ei))(ei))(ej);};bK.tenantName=function(){_2.$cctor();return _2.tenantName;};bK.signInPolicy=function(){_2.$cctor();return _2.signInPolicy;};bK.applicationId=function(){_2.$cctor();return _2.applicationId;};bK.authority=function(){_2.$cctor();return _2.authority;};bK.callback=function(ei,ej,ek,el,em){((function(en){return function(eo){return en("callback: "+("("+bz.prettyPrint(eo[0])+", "+bz.prettyPrint(eo[1])+", "+bz.prettyPrint(eo[2])+", "+bz.prettyPrint(eo[3])+", "+bz.prettyPrint(eo[4])+")"));};}(function(en){ee.log(en);}))([ei,ek,el,ej,em]));};bK.checkUser=function(){var ei;cB.Start((ei=null,cB.Delay(function(){return cB.Bind(cB.Sleep(100),function(){return cB.While(function(){return true;},cB.Delay(function(){var ej,ek;ej=(ek=bK.agent().getUser(),F.Equals(ek,null)?null:{$:1,$0:ek});return cB.Combine(bK.getId(ej)!==bK.getId(bK.userO().Get())?(bK.userO().Set(ej),cB.Zero()):cB.Zero(),cB.Delay(function(){return cB.Combine(F.Equals(bK.userO().Get(),null)?(bK.executePolicy(false,b7.SignIn),cB.Zero()):cB.Zero(),cB.Delay(function(){return cB.Bind(cB.Sleep(9000),function(){return cB.Return(null);});}));}));}));});})),null);};bK.referidoPor=function(){return bK.localStorage().getItem("referidoPor");};bK.claims=function(ei){var ej;ej=[["oid",ei.idToken.oid],["city",ei.idToken.city],["country",ei.idToken.country],["extension_DateOfBirth",ei.idToken.extension_DateOfBirth],["given_name",ei.idToken.given_name],["postalCode",ei.idToken.postalCode],["state",ei.idToken.state],["streetAddress",ei.idToken.streetAddress],["family_name",ei.idToken.family_name],["emails",Q.get(ei.idToken.emails,0)],["referidoPor",bK.referidoPor()]];bK.localStorage().setItem("referidoPor","");return ej;};bK.executePolicy=function(ei,ej){bK.storeValue("forceLogin",ei?"1":"0");bK.storeValue("goInsideLink",self.location.href);bK.storeValue("policyType",a.String(ej));self.location.replace("blob/Msal.html");};bK.agent=function(){_2.$cctor();return _2.agent;};bK.getId=function(ei){var ej;ej=ei==null?null:{$:1,$0:ei.$0.idToken.oid};return ej==null?"":ej.$0;};bK.localStorage=function(){_2.$cctor();return _2.localStorage;};bL.serverEndPoint=function(){bW.$cctor();return bW.serverEndPoint;};bL.invoke=function(ei,ej,ek){var el;el=bp.asyncResultM();return el.Run(el.Delay(function(){return bp["AsyncResultMBuilder.Bind"](el,cB.Return(null),function(){var em,en,eo;em=new a.Headers();em.append("Content-Type","application/json");em.append("IdAliado",ej);en=(eo={},eo.mode="cors",eo.credentials="include",eo.method="POST",eo.headers=em,eo.body=!ek?"null":ek,eo);return bp["AsyncResultMBuilder.Bind"](el,dZ.AsAsync(self.fetch(bL.serverEndPoint().f()+ei,en)),function(ep){return bp["AsyncResultMBuilder.Bind"](el,dZ.AsAsync(ep.text()),function(eq){((function(er){return function(es){return er("invoke resp = "+bz.prettyPrint(es));};}(function(er){ee.log(er);}))(eq));return el.Return(eq);});});});}));};bL.registroRpcs=function(){bW.$cctor();return bW.registroRpcs;};bN=bM.AjaxRemotingProvider=ea.Class({AsyncBase:function(ei,ej){var ek,el;ek=this;el=null;return cB.Delay(function(){var em,en;em=bM.makeHeaders(ei);en=bM.makePayload(ej);return cB.Bind(cB.GetCT(),function(eo){return cB.FromContinuations(function(ep,eq,er){var es,et,eu;function ev(ew){return es[0]?(es[0]=false,er(new dF.New(eo))):null;}es=[true];et=cB.Register(eo,function(){ev();});eu=ek.get_EndPoint();return bM.AjaxProvider().Async(eu,em,en,function(ew){if(es[0]){es[0]=false;et.Dispose();ep(dk.Activate(ef.parse(ew)));}},function(ew){if(es[0]){es[0]=false;et.Dispose();eq(ew);}});});});});},get_EndPoint:function(){return bM.EndPoint();},Async:function(ei,ej){return this.AsyncBase(ei,ej);}},f,bN);bN.New=ea.Ctor(function(){f.New.call(this);},bN);bo.OkM=function(ei){return ei.$0==null?{$:1,$0:ei.$1}:{$:0,$0:[ei.$0.$0,ei.$1]};};bo.OkM$1=function(ei){return{$:0,$0:{$:1,$0:ei},$1:bv.NoMsg};};bo.ErrorM=function(ei){return{$:0,$0:null,$1:ei};};bo.OkMWithMsg=function(ei,ej){return{$:0,$0:{$:1,$0:ei},$1:ej};};bP.New=function(ei,ej){return{lytName:ei,lytDefinition:ej};};bQ.$cctor=function(){var ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN;bQ.$cctor=a.ignore;function eO(fj){return bi.concat("\n",fj);}function eP(fj){return b4.splitByChar("\n",fj);}function eQ(fj){var fk,fl;return b5.array(fj,{$:1,$0:0},{$:1,$0:(fk=0,(fl=Q.length(fj)-2,F.Compare(fk,fl)===1?fk:fl))});}function eR(fj){return bi.concat("\n",fj);}function eS(fj){return fj+"T00:00:00";}function eT(fj){var fk;function fl(fn){return j.plugIns().TryFindByKey(fn);}function fm(fn){var fo;fo=j.defaultPlugIn();return fn==null?fo:fn.$0;}fk=function(fn){return fn==null?null:fl(fn.$0);};return function(fn){return fm(fk(fn));};}function eU(fj){var fk;fk=null;return em.TryGetValue(fj,{get:function(){return fk;},set:function(fl){fk=fl;}})?{$:1,$0:fk}:null;}function eV(fj,fk){em.set_Item(fj,fk);return fk;}function eW(fj,fk){var fl;fl=eU(fj);return fl==null?eV(fj,fk(fj)):fl.$0;}function eX(fj){var fk;fk=null;return ep.TryGetValue(fj,{get:function(){return fk;},set:function(fl){fk=fl;}})?{$:1,$0:fk}:null;}function eY(fj,fk){ep.set_Item(fj,fk);return fk;}function eZ(fj,fk){var fl;fl=eX(fj);return fl==null?eY(fj,fk(fj)):fl.$0;}function e0(fj){var fk;fk=null;return es.TryGetValue(fj,{get:function(){return fk;},set:function(fl){fk=fl;}})?{$:1,$0:fk}:null;}function e1(fj,fk){es.set_Item(fj,fk);return fk;}function e2(fj,fk){var fl;fl=e0(fj);return fl==null?e1(fj,fk(fj)):fl.$0;}function e3(fj){var fk;fk=null;return ev.TryGetValue(fj,{get:function(){return fk;},set:function(fl){fk=fl;}})?{$:1,$0:fk}:null;}function e4(fj,fk){ev.set_Item(fj,fk);return fk;}function e5(fj,fk){var fl;fl=e3(fj);return fl==null?e4(fj,fk(fj)):fl.$0;}function e6(fj){var fk;fk=null;return ey.TryGetValue(fj,{get:function(){return fk;},set:function(fl){fk=fl;}})?{$:1,$0:fk}:null;}function e7(fj,fk){ey.set_Item(fj,fk);return fk;}function e8(fj,fk){var fl;fl=e6(fj);return fl==null?e7(fj,fk(fj)):fl.$0;}function e9(fj){var fk;fk=null;return eB.TryGetValue(fj,{get:function(){return fk;},set:function(fl){fk=fl;}})?{$:1,$0:fk}:null;}function e_(fj,fk){eB.set_Item(fj,fk);return fk;}function e$(fj,fk){var fl;fl=e9(fj);return fl==null?e_(fj,fk(fj)):fl.$0;}function fa(fj){var fk;fk=null;return eE.TryGetValue(fj,{get:function(){return fk;},set:function(fl){fk=fl;}})?{$:1,$0:fk}:null;}function fb(fj,fk){eE.set_Item(fj,fk);return fk;}function fc(fj,fk){var fl;fl=fa(fj);return fl==null?fb(fj,fk(fj)):fl.$0;}function fd(fj){var fk;fk=null;return eH.TryGetValue(fj,{get:function(){return fk;},set:function(fl){fk=fl;}})?{$:1,$0:fk}:null;}function fe(fj,fk){eH.set_Item(fj,fk);return fk;}function ff(fj,fk){var fl;fl=fd(fj);return fl==null?fe(fj,fk(fj)):fl.$0;}function fg(fj){var fk;fk=null;return eK.TryGetValue(fj,{get:function(){return fk;},set:function(fl){fk=fl;}})?{$:1,$0:fk}:null;}function fh(fj,fk){eK.set_Item(fj,fk);return fk;}function fi(fj,fk){var fl;fl=fg(fj);return fl==null?fh(fj,fk(fj)):fl.$0;}bQ.unindentStr=function(fj){return eO(b4.unindent(fj));};bQ.skipLastLine=(ei=function(fj){return eQ(eP(fj));},function(fj){return eR(ei(fj));});bQ.parseDateO2=(ej=bI.tryParseWith(function(fj){var fk,fl;fk=0;return[(fl=c9.TryParse(fj),fl!=null&&fl.$==1&&(fk=fl.$0,true)),fk];}),function(fj){return ej(eS(fj));});bQ.parseDateO=bI.tryParseWith(function(fj){var fk,fl;fk=0;return[(fl=c9.TryParse(fj),fl!=null&&fl.$==1&&(fk=fl.$0,true)),fk];});bQ.parseIntO=bI.tryParseWith(function(fj){var fk;fk=0;return[bV.TryParseInt32(fj,{get:function(){return fk;},set:function(fl){fk=fl;}}),fk];});bQ.parseInt64O=bI.tryParseWith(function(fj){var fk;fk=0;return[bV.TryParseInt64(fj,{get:function(){return fk;},set:function(fl){fk=fl;}}),fk];});bQ.parseSingleO=bI.tryParseWith(function(fj){var fk,fl;fk=0;return[(fl=a.Number(fj),a.isNaN(fl)?false:(fk=fl,true)),fk];});bQ.parseDoubleO=bI.tryParseWith(function(fj){var fk,fl;fk=0;return[(fl=a.Number(fj),a.isNaN(fl)?false:(fk=fl,true)),fk];});bQ.parseGuidO=bI.tryParseWith(function(fj){var fk;fk=null;return[bu.TryParse(fj,{get:function(){return fk;},set:function(fl){fk=fl;}}),fk];});bQ["|Date|_|"]=bI.parseDateO();bQ["|Int|_|"]=bI.parseIntO();bQ["|Int64|_|"]=bI.parseInt64O();bQ["|Single|_|"]=bI.parseSingleO();bQ["|Double|_|"]=bI.parseDoubleO();bQ["|Guid|_|"]=bI.parseGuidO();bQ.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";bQ.rexEmail="(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@[*[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+]*";bQ.observers=cg.Empty;bQ.css="\r\n                .tab-panel {\r\n                 overflow  : hidden   ;\r\n                 display   : flex     ;\r\n                 flex-flow : column   ;\r\n                 background: lightgray;\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                }\r\n                .tab-content {\r\n                 flex      : 1 1     ;\r\n                 overflow  : auto    ;\r\n                 position  : relative;\r\n                }\r\n                .tab-children {\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                 position  : absolute;\r\n                 display   : grid    ;\r\n                }\r\n                .tab-strip {\r\n                 padding   : 0pt     ;\r\n                 flex      : 0 0     ;\r\n                }\r\n                .tab {\r\n                 border     : 0.2pt solid transparent;\r\n                 padding    : 0pt 4pt;\r\n                 display    : inline-block;\r\n                 font-family: sans-serif;\r\n                 font-weight: 200;\r\n                 font-size  : small;\r\n                 color      : #666;\r\n                 cursor     : pointer;\r\n                }\r\n                .top>.tab {\r\n                 border-radius: 2pt 2pt 0pt 0pt;\r\n                 border-bottom-width: 0pt;\r\n                 vertical-align: bottom;\r\n                }\r\n                .bottom>.tab {\r\n                 border-top-width: 0pt;\r\n                 border-radius: 0pt 0pt 2pt 2pt;\r\n                 vertical-align: top;\r\n                }\r\n                .horizontal>.tab:not(:first-child) {\r\n                 border-left-width: 0pt;\r\n                }\r\n                .tab.hovering {\r\n                 background: red;\r\n                }\r\n                .tab.selected {\r\n                 background: white;\r\n                 border-left-width: 0.2pt;\r\n                 color: black;\r\n                 font-weight: 500;\r\n                 border-color: black;\r\n                }\r\n                .horizontal>.tab.selected {\r\n                 border-left-width: 0.2pt;\r\n                }\r\n                ::slotted(*              ) { \r\n                 width : 100%;\r\n                 height: 100%;\r\n                }\r\n                        ";bQ.init=q.Create(function(){var fj;fj=new cH.New();cF.defineWebComponent("wcomp-tabstrip",cH.Constructor,self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New);});bQ.layoutHorizontal=ea.Curried(function(fj,fk,fl,fm,fn){return W.get_Empty();},5);bQ.layoutVertical=ea.Curried(function(fj,fk,fl,fm,fn){return W.get_Empty();},5);bQ.plugIns=new _3.New$1(function(fj){return fj.plgName;});bQ.mainDocV=h.Create$1("AppFramework.AppFwkClient");bQ.TemplateFileName="..\\website\\AppFramework.html";bQ.defaultPlugIn=k.New("",[],[],[],[],[]);bQ.selectionPlugInO=h.Create$1({$:1,$0:"AppFramework"});bQ.currentPlugInW=(ek=j.selectionPlugInO().get_View(),o.Map2(function(fj,fk){return(eT(fj))(fk);},j.plugIns().v,ek));bQ.currentPlugInV=new cy.New(j.currentPlugInW(),function(fj){j.plugIns().Append(fj);});bQ.AppFwkClient=q.Create(function(){var fj,fk,fl,fm,fn,fo,fp,fq,fr;return(fj=(fk=j.renderQueries(),(fl=j.renderActions(),(fm=j.renderDocs(),(fn=j.renderViews(),(fo=j.renderVars(),(fp=j.renderPlugIns(),R.Make().WithHole({$:0,$0:"plugins",$1:fp})).WithHole({$:2,$0:"pluginname",$1:o.Map(function(fs){return fs.plgName;},j.currentPlugInW())}).WithHole({$:0,$0:"vars",$1:fo})).WithHole({$:0,$0:"views",$1:fn})).WithHole({$:0,$0:"docs",$1:fm})).WithHole({$:0,$0:"actions",$1:fl})).WithHole({$:0,$0:"queries",$1:fk})),(fq=S.CompleteHoles(fj.k,fj.h,[]),(fr=new P.New(fq[1],cI.appfwkclient(fq[0])),(fj.i=fr,fr)))).get_Doc();});bQ.actHello=j.newAct("Hello",function(){self.alert("Hello!");});bQ.qryDocs=j.newQry("getDocNames",function(){return Q.ofSeq(bb.collect(function(fj){return bb.map(function(fk){return fj.plgName+"."+fk.docName;},fj.plgDocs);},(j.plugIns())["var"].Get()));});j.plugIns().Append(k.New("AppFramework",[j.newVar("mainDocV",j.mainDocV())],[],[j.newDoc("AppFwkClient",j.AppFwkClient())],[j.actHello()],[j.qryDocs()]));bQ.getMainDoc=q.Create(function(){cL.init(ea.Curried(j.horizontal,5),ea.Curried(j.vertical,5));cG.init().f();return j.mainDoc();});bQ.splitName=j.splitName;bQ.createSplitterM=(el=(em=new bY.New$5(),[[eU,function(fj){return function(fk){return eW(fj,fk);};}],function(){em.Clear();}]),(en=el[0][1],[function(fj){return(en(fj))(function(fk){return G.createSplitter(fk[0],fk[1],fk[2],fk[3],fk[4]);});},el[1]]))[0];bQ.createButtonM=(eo=(ep=new bY.New$5(),[[eX,function(fj){return function(fk){return eZ(fj,fk);};}],function(){ep.Clear();}]),(eq=eo[0][1],[function(fj){return(eq(fj))(function(fk){return G.createButton(fk[0],fk[1],fk[2],fk[3],fk[4]);});},eo[1]]))[0];bQ.createInputM=(er=(es=new bY.New$5(),[[e0,function(fj){return function(fk){return e2(fj,fk);};}],function(){es.Clear();}]),(et=er[0][1],[function(fj){return(et(fj))(function(fk){return G.createInput(fk[0],fk[1],fk[2],fk[3]);});},er[1]]))[0];bQ.createTextAreaM=(eu=(ev=new bY.New$5(),[[e3,function(fj){return function(fk){return e5(fj,fk);};}],function(){ev.Clear();}]),(ew=eu[0][1],[function(fj){return(ew(fj))(function(fk){return G.createTextArea(fk[0],fk[1],fk[2],fk[3]);});},eu[1]]))[0];bQ.createElementM=(ex=(ey=new bY.New$5(),[[e6,function(fj){return function(fk){return e8(fj,fk);};}],function(){ey.Clear();}]),(ez=ex[0][1],[function(fj){return(ez(fj))(function(fk){return G.createElement(fk[0],fk[1],fk[2],fk[3],fk[4]);});},ex[1]]))[0];bQ.createDocM=(eA=(eB=new bY.New$5(),[[e9,function(fj){return function(fk){return e$(fj,fk);};}],function(){eB.Clear();}]),(eC=eA[0][1],[function(fj){return(eC(fj))(function(fk){return G.createDoc(fk[0],fk[1],fk[2],fk[3]);});},eA[1]]))[0];bQ.createTemplateM=(eD=(eE=new bY.New$5(),[[fa,function(fj){return function(fk){return fc(fj,fk);};}],function(){eE.Clear();}]),(eF=eD[0][1],[function(fj){return(eF(fj))(function(fk){return G.createTemplate(fk[0],fk[1],fk[2],fk[3],fk[4]);});},eD[1]]))[0];bQ.createConcatM=(eG=(eH=new bY.New$5(),[[fd,function(fj){return function(fk){return ff(fj,fk);};}],function(){eH.Clear();}]),(eI=eG[0][1],[function(fj){return(eI(fj))(function(fk){return G.createConcat(fk[0],fk[1],fk[2]);});},eG[1]]))[0];bQ.createVarM=(eJ=(eK=new bY.New$5(),[[fg,function(fj){return function(fk){return fi(fj,fk);};}],function(){eK.Clear();}]),(eL=eJ[0][1],[function(fj){return(eL(fj))(function(fk){return G.createVar(fk[0],fk[1],fk[2]);});},eJ[1]]))[0];eM=j.tryGetPlugIn("AppFramework");eM==null?void 0:(eN=eM.$0,j.addPlugIn(k.New(eN.plgName,eN.plgVars,eN.plgViews,eN.plgDocs,eN.plgActions.concat([j.newActF("AddLayout",{$:2,$0:function(fj){return function(fk){return G.addNewLayout(fj,fk);};},$1:"[Name]",$2:"[Layout]"})]),eN.plgQueries)));};bR=J.IdForAuthorize=ea.Class({},null,bR);bS.New=function(ei,ej,ek,el,em,en,eo,ep){return{titulo:ei,nombre1:ej,nombre2:ek,apellido1:el,apellido2:em,nacionalidad:en,genero:eo,fechaNacimiento:ep};};bT.Dia01={$:0};bU=J.TipoAliado=ea.Class({toString:function(){return(function(ei){return function(ej){return ei(_.p$1(ej));};}(a.id))(this);}},null,bU);bU.Regular=new bU({$:1});bV.TryParseInt32=function(ei,ej){return bV.TryParse(ei,-2147483648,2147483647,ej);};bW.$cctor=function(){var ei,ej,ek,el,em;bW.$cctor=a.ignore;function en(es){return bi.concat("\n",es);}function eo(es){return b4.splitByChar("\n",es);}function ep(es){var et,eu;return b5.array(es,{$:1,$0:0},{$:1,$0:(et=0,(eu=Q.length(es)-2,F.Compare(et,eu)===1?et:eu))});}function eq(es){return bi.concat("\n",es);}function er(es){return es+"T00:00:00";}bW.rtn=function(es){return[es];};bW.result=new cM.New();bW.result$1=cC.result();bW.resultM=new cN.New();bW.asyncResultM=new br.New();bW.unindentStr=function(es){return en(b4.unindent(es));};bW.skipLastLine=(ei=function(es){return ep(eo(es));},function(es){return eq(ei(es));});bW.parseDateO2=(ej=bI.tryParseWith(function(es){var et,eu;et=0;return[(eu=c9.TryParse(es),eu!=null&&eu.$==1&&(et=eu.$0,true)),et];}),function(es){return ej(er(es));});bW.parseDateO=bI.tryParseWith(function(es){var et,eu;et=0;return[(eu=c9.TryParse(es),eu!=null&&eu.$==1&&(et=eu.$0,true)),et];});bW.parseIntO=bI.tryParseWith(function(es){var et;et=0;return[bV.TryParseInt32(es,{get:function(){return et;},set:function(eu){et=eu;}}),et];});bW.parseInt64O=bI.tryParseWith(function(es){var et;et=0;return[bV.TryParseInt64(es,{get:function(){return et;},set:function(eu){et=eu;}}),et];});bW.parseSingleO=bI.tryParseWith(function(es){var et,eu;et=0;return[(eu=a.Number(es),a.isNaN(eu)?false:(et=eu,true)),et];});bW.parseDoubleO=bI.tryParseWith(function(es){var et,eu;et=0;return[(eu=a.Number(es),a.isNaN(eu)?false:(et=eu,true)),et];});bW.parseGuidO=bI.tryParseWith(function(es){var et;et=null;return[bu.TryParse(es,{get:function(){return et;},set:function(eu){et=eu;}}),et];});bW["|Date|_|"]=bI.parseDateO();bW["|Int|_|"]=bI.parseIntO();bW["|Int64|_|"]=bI.parseInt64O();bW["|Single|_|"]=bI.parseSingleO();bW["|Double|_|"]=bI.parseDoubleO();bW["|Guid|_|"]=bI.parseGuidO();bW.serString=[cO.toJsonString,function(es){return es.tryString();}];bW.serFloat=[function(es){return(function(et){return function(eu){return et(bz.prettyPrint(eu));};}(a.id))(es);},function(es){return es.tryFloat();}];bW.serInt=[function(es){return(function(et){return function(eu){return et(bz.prettyPrint(eu));};}(a.id))(es);},function(es){var et;et=es.tryInt();return et==null?null:{$:1,$0:n.toInt(et.$0)};}];bW.serInt64=[function(es){return function(et){return es(a.String(et));};}(a.id),function(es){return es.tryInt();}];bW.serBool=[function(es){return(function(et){return function(eu){return et(bz.prettyPrint(eu));};}(a.id))(es);},function(es){return es.tryBool();}];bW.premisasCalculo=bH.New(15,25,25,0,75,31,26,28);bW.telVacio=cj.New(ck.Movil,"","","","",false);bW.dirVacio=cl.New(bc.Error(""),cm.Habitacion,"","","",new cn({$:2,$0:""}),new ci({$:3,$0:""}),new co({$:0,$0:""}));bW.tarVacio=ct.New("",cQ.Visa,new cs({$:0,$0:""}),cP.New(2000,1));bW.ctaVacio=bC.New("","",cA.Ahorro,new bE({$:0,$0:""}),new bD({$:0,$0:""}));bW.modeloVacio=Z.New(new Y({$:0,$0:""}),[],(ek=ed.now(),(new ed(ek)).getFullYear()),(el=ed.now(),(new ed(el)).getMonth()+1),J.premisasCalculo(),0);bW.correoVacio=bj.New("",null,null);bW.empty=(em=bS.New(null,"","","","",ci.USA,ch.Masculino,(new ed(2000,1-1,1)).getTime()),K.New(new Y({$:0,$0:""}),null,null,null,em,[],[],false,by.Inactivo,bT.Dia01,bU.Regular,(new ed(2000,1-1,1)).getTime(),(new ed(2000,1-1,1)).getTime(),0,0,0,0,0,0));bW.serverEndPoint=q.Create(function(){return self.location.protocol==="http:"?"http://localhost:7071/api/":(function(es){return function(et){return es("https://"+bz.toSafe(et)+"/api/");};}(a.id))(self.location.host);});bW.registroRpcs=new bY.New$5();};bX=bf.List=ea.Class({GetEnumerator:function(){return cd.Get(this);},GetEnumerator0:function(){return cd.Get0(this);}},null,bX);bY=bf.Dictionary=ea.Class({set_Item:function(ei,ej){this.set(ei,ej);},get_Item:function(ei){return this.get(ei);},set:function(ei,ej){var ek,el,em,en;ek=this;el=this.hash(ei);em=this.data[el];em==null?(this.count=this.count+1,this.data[el]=new a.Array({K:ei,V:ej})):(en=Q.tryFindIndex(function(eo){return ek.equals.apply(null,[(n.KeyValue(eo))[0],ei]);},em),en==null?(this.count=this.count+1,em.push({K:ei,V:ej})):em[en.$0]={K:ei,V:ej});},get:function(ei){var ej,ek;ej=this;ek=this.data[this.hash(ei)];return ek==null?cR.notPresent():Q.pick(function(el){var em;em=n.KeyValue(el);return ej.equals.apply(null,[em[0],ei])?{$:1,$0:em[1]}:null;},ek);},TryGetValue:function(ei,ej){var ek,el,em;ek=this;el=this.data[this.hash(ei)];return el==null?false:(em=Q.tryPick(function(en){var eo;eo=n.KeyValue(en);return ek.equals.apply(null,[eo[0],ei])?{$:1,$0:eo[1]}:null;},el),em!=null&&em.$==1&&(ej.set(em.$0),true));},Remove:function(ei){return this.remove(ei);},ContainsKey:function(ei){var ej,ek;ej=this;ek=this.data[this.hash(ei)];return ek==null?false:Q.exists(function(el){return ej.equals.apply(null,[(n.KeyValue(el))[0],ei]);},ek);},Add:function(ei,ej){this.add(ei,ej);},get_Keys:function(){return new dP.New(this);},remove:function(ei){var ej,ek,el,em;ej=this;ek=this.hash(ei);el=this.data[ek];return el==null?false:(em=Q.filter(function(en){return!ej.equals.apply(null,[(n.KeyValue(en))[0],ei]);},el),Q.length(em)<el.length&&(this.count=this.count-1,this.data[ek]=em,true));},add:function(ei,ej){var ek,el,em;ek=this;el=this.hash(ei);em=this.data[el];em==null?(this.count=this.count+1,this.data[el]=new a.Array({K:ei,V:ej})):(Q.exists(function(en){return ek.equals.apply(null,[(n.KeyValue(en))[0],ei]);},em)?cR.alreadyAdded():void 0,this.count=this.count+1,em.push({K:ei,V:ej}));},Clear:function(){this.data=[];this.count=0;},GetEnumerator:function(){return cd.Get0(this);},GetEnumerator0:function(){return cd.Get0(Q.concat(E.GetFieldValues(this.data)));}},f,bY);bY.New$5=ea.Ctor(function(){bY.New$6.call(this,[],F.Equals,F.Hash);},bY);bY.New$6=ea.Ctor(function(ei,ej,ek){var el,em;f.New.call(this);this.equals=ej;this.hash=ek;this.count=0;this.data=[];el=cd.Get(ei);try{while(el.MoveNext()){em=el.Current();this.set(em.K,em.V);}}finally{if(typeof el=="object"&&"Dispose"in el)el.Dispose();}},bY);bZ=bf.HashSet=ea.Class({Add:function(ei){return this.add(ei);},Contains:function(ei){var ej;ej=this.data[this.hash(ei)];return ej==null?false:this.arrContains(ei,ej);},add:function(ei){var ej,ek;ej=this.hash(ei);ek=this.data[ej];return ek==null?(this.data[ej]=[ei],this.count=this.count+1,true):this.arrContains(ei,ek)?false:(ek.push(ei),this.count=this.count+1,true);},arrContains:function(ei,ej){var ek,el,em,en;ek=true;el=0;en=ej.length;while(ek&&el<en)if(this.equals.apply(null,[ej[el],ei]))ek=false;else el=el+1;return!ek;},ExceptWith:function(ei){var ej;ej=cd.Get(ei);try{while(ej.MoveNext())this.Remove(ej.Current());}finally{if(typeof ej=="object"&&"Dispose"in ej)ej.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(ei){var ej,ek,el,em;ej=0;ek=dG.concat(this.data);for(el=0,em=ek.length-1;el<=em;el++)Q.set(ei,el,ek[el]);},IntersectWith:function(ei){var ej,ek,el,em,en;ej=new bZ.New$4(ei,this.equals,this.hash);ek=dG.concat(this.data);for(el=0,em=ek.length-1;el<=em;el++){en=ek[el];!ej.Contains(en)?this.Remove(en):void 0;}},Remove:function(ei){var ej;ej=this.data[this.hash(ei)];return ej==null?false:this.arrRemove(ei,ej)&&(this.count=this.count-1,true);},arrRemove:function(ei,ej){var ek,el,em,en;ek=true;el=0;en=ej.length;while(ek&&el<en)if(this.equals.apply(null,[ej[el],ei])){ej.splice.apply(ej,[el,1]);ek=false;}else el=el+1;return!ek;},GetEnumerator:function(){return cd.Get(dG.concat(this.data));},GetEnumerator0:function(){return cd.Get(dG.concat(this.data));}},f,bZ);bZ.New$3=ea.Ctor(function(){bZ.New$4.call(this,[],F.Equals,F.Hash);},bZ);bZ.New$4=ea.Ctor(function(ei,ej,ek){var el;f.New.call(this);this.equals=ej;this.hash=ek;this.data=[];this.count=0;el=cd.Get(ei);try{while(el.MoveNext())this.add(el.Current());}finally{if(typeof el=="object"&&"Dispose"in el)el.Dispose();}},bZ);bZ.New$2=ea.Ctor(function(ei){bZ.New$4.call(this,ei,F.Equals,F.Hash);},bZ);b0.Box=a.id;b2.StartTo=function(ei,ej){cB.StartWithContinuations(ei,ej,function(ek){b2.OnError(ek);},a.ignore,null);};b2.OnError=function(ei){return ee.log("WebSharper UI: Uncaught asynchronous exception",ei);};bV.TryParseInt64=function(ei,ej){return bV.TryParse(ei,-9223372036854775808,9223372036854775807,ej);};b3.Int=function(){b3.set_counter(b3.counter()+1);return b3.counter();};b3.set_counter=function(ei){de.$cctor();de.counter=ei;};b3.counter=function(){de.$cctor();return de.counter;};b3.Id=function(){b3.set_counter(b3.counter()+1);return"uid"+a.String(b3.counter());};b4.unindent$1=function(ei){var ej,ek,el,em;ej=bi.SplitChars(ei,["\n"],0);ek=(el=bb.tryFindIndex(function(en){return" "!==en;},(em=bb.tryFind(function(en){return bi.Trim(en)!=="";},ej),em==null?"":em.$0)),el==null?0:el.$0);return bb.filter(function(en){return!bi.StartsWith(en,"# 1 ");},bb.map(function(en){return en.length<=ek?"":en.substring(ek);},ej));};b4.splitByChar$1=function(ei,ej){return bi.SplitChars(ej,[ei],0);};b5.array=function(ei,ej,ek){return ej==null?ek!=null&&ek.$==1?ei.slice(0,ek.$0+1):[]:ek==null?ei.slice(ej.$0):ei.slice(ej.$0,ek.$0+1);};b5.string=function(ei,ej,ek){return ej==null?ek!=null&&ek.$==1?ei.slice(0,ek.$0+1):"":ek==null?ei.slice(ej.$0):ei.slice(ej.$0,ek.$0+1);};b7=b6.Policy=ea.Class({toString:function(){return bi.ReplaceChar(bc["String.get_toUnderscore$1"]((function(ei){return function(ej){return ei(U.p(ej));};}(a.id))(this)),"_"," ");}},null,b7);b7.SignIn=new b7({$:0});b7.SignUp=new b7({$:1});b7.EditProfile=new b7({$:2});b7.ResetPassword=new b7({$:3});b8.Options=function(ei,ej,ek,el,em,en,eo,ep,eq,er,es,et){return cW.newPojoOpt([b6.op_EqualsEqualsGreater("cacheLocation",ei),b6.op_EqualsEqualsGreater("isAngular",ej),b6.op_EqualsEqualsGreater("loadFrameTimeout",ek),b6.op_EqualsEqualsGreater("logger",el),b6.op_EqualsEqualsGreater("navigateToLoginRequestUrl",em),b6.op_EqualsEqualsGreater("postLogoutRedirectUri",en),b6.op_EqualsEqualsGreater("protectedResourceMap",eo),b6.op_EqualsEqualsGreater("redirectUri",ep),b6.op_EqualsEqualsGreater("state",eq),b6.op_EqualsEqualsGreater("storeAuthStateInCookie",er),b6.op_EqualsEqualsGreater("unprotectedResources",es),b6.op_EqualsEqualsGreater("validateAuthority",et)]);};i.REGEX$1=function(ei,ej,ek){var el;return ek===null?null:(el=(new a.String(ek)).match(new a.RegExp(ei,ej)),F.Equals(el,null)?null:!F.Equals(el,null)&&el.length===0?null:{$:1,$0:el});};i.rexEmail=function(){bQ.$cctor();return bQ.rexEmail;};b9.DefaultEP={$:0};b_.InstallHash=function(ei,ej){var ek;ek=h.Create$1(b_.getCurrentHash(function(el){return cZ.Parse(ej,c0.FromHash(el,{$:1,$0:true}));},ei));b_.InstallHashInto(ek,ei,ej);return ek;};b_.InstallHashInto=function(ei,ej,ek){function el(eo){return cZ.Parse(ek,c0.FromHash(eo,{$:1,$0:true}));}function em(){return b_.getCurrentHash(el,ej);}function en(eo){if(!F.Equals(ei.Get(),eo))ei.Set(eo);}self.addEventListener("popstate",function(){return en(em());},false);self.addEventListener("hashchange",function(){return en(em());},false);self.document.body.addEventListener("click",function(eo){var ep,eq,er;ep=(eq=b_.findLinkHref(eo.target),eq==null?null:(er=eq.$0,bi.StartsWith(er,"#")?el(er):null));return ep==null?null:(en(ep.$0),eo.preventDefault());},false);o.Sink(function(eo){var ep;if(!F.Equals(eo,em())){ep=cZ.HashLink(ek,eo);self.history.pushState(null,null,ep);}},ei.get_View());};b_.getCurrentHash=function(ei,ej){var ek,el;ek=self.location.hash;el=ei(ek);return el==null?((function(em){return function(en){return em("Failed to parse route: "+bz.toSafe(en));};}(function(em){ee.log(em);}))(ek),ej):el.$0;};b_.findLinkHref=function(ei){while(true)if(ei.tagName==="A")return H.ofObj(ei.getAttribute("href"));else if(ei===self.document.body)return null;else ei=ei.parentNode;};b$.B={$:0};bM.set_EndPoint=function(ei){c1.$cctor();c1.EndPoint=ei;};bM.AjaxProvider=function(){c1.$cctor();return c1.AjaxProvider;};bM.makePayload=function(ei){return ef.stringify(ei);};bM.makeHeaders=function(ei){return{"content-type":"application/json","x-websharper-rpc":ei};};bM.EndPoint=function(){c1.$cctor();return c1.EndPoint;};bM.ajax=function(ei,ej,ek,el,em,en,eo){var ep,eq,er;ep=new a.XMLHttpRequest();eq=a.document.cookie.replace(new a.RegExp("(?:(?:^|.*;)\\s*csrftoken\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1");ep.open("POST",ej,ei);if(ei==true)ep.withCredentials=true;for(var et in ek)ep.setRequestHeader(et,ek[et]);if(eq)ep.setRequestHeader("x-csrftoken",eq);function es(){var eu;if(ep.status==200)em(ep.responseText);else if(eo&&ep.status==403&&ep.responseText=="CSRF")eo();else{eu="Response status is not 200: ";en(new dE(eu+ep.status));}}if("onload"in ep)ep.onload=ep.onerror=ep.onabort=es;else ep.onreadystatechange=function(){if(ep.readyState==4)es();};ep.send(el);};ca=J.IdPayment=ea.Class({},null,ca);cb.New=function(ei,ej){return{qryName:ei,qryFunction:ej};};_1.Obsolete=function(ei){var ej,ek,el,em,en;ek=ei.s;if(ek==null||(ek!=null&&ek.$==2?(ej=ek.$1,false):ek!=null&&ek.$==3?(ej=ek.$1,false):true))void 0;else{ei.s=null;for(el=0,em=Q.length(ej)-1;el<=em;el++){en=Q.get(ej,el);typeof en=="object"?function(eo){_1.Obsolete(eo);}(en):en();}}};_1.New=function(ei){return{s:ei};};cc=bf.FSharpMap=ea.Class({TryGetValue:function(ei,ej){var ek;ek=this.TryFind(ei);return ek!=null&&ek.$==1&&(ej.set(ek.$0),true);},get_Item:function(ei){var ej;ej=this.TryFind(ei);return ej==null?n.FailWith("The given key was not present in the dictionary."):ej.$0;},TryFind:function(ei){var ej;ej=cf.TryFind(dj.New(ei,void 0),this.tree);return ej==null?null:{$:1,$0:ej.$0.Value};},Equals:function(ei){return this.get_Count()===ei.get_Count()&&bb.forall2(F.Equals,this,ei);},GetEnumerator$1:function(){return cd.Get(bb.map(function(ei){return{K:ei.Key,V:ei.Value};},cf.Enumerate(false,this.tree)));},get_Count:function(){var ei;ei=this.tree;return ei==null?0:ei.Count;},GetHashCode:function(){return F.Hash(Q.ofSeq(this));},Add:function(ei,ej){return new cc.New$1(cf.Add(dj.New(ei,ej),this.tree));},get_IsEmpty:function(){return this.tree==null;},get_Tree:function(){return this.tree;},GetEnumerator:function(){return this.GetEnumerator$1();},CompareTo0:function(ei){return bb.compareWith(F.Compare,this,ei);},GetEnumerator0:function(){return this.GetEnumerator$1();}},f,cc);cc.New=ea.Ctor(function(ei){cc.New$1.call(this,c2.fromSeq(ei));},cc);cc.New$1=ea.Ctor(function(ei){f.New.call(this);this.tree=ei;},cc);cd.Get=function(ei){return ei instanceof a.Array?cd.ArrayEnumerator(ei):F.Equals(typeof ei,"string")?cd.StringEnumerator(ei):ei.GetEnumerator();};cd.ArrayEnumerator=function(ei){return new ce.New(0,null,function(ej){var ek;ek=ej.s;return ek<Q.length(ei)&&(ej.c=Q.get(ei,ek),ej.s=ek+1,true);},void 0);};cd.StringEnumerator=function(ei){return new ce.New(0,null,function(ej){var ek;ek=ej.s;return ek<ei.length&&(ej.c=ei[ek],ej.s=ek+1,true);},void 0);};cd.Get0=function(ei){return ei instanceof a.Array?cd.ArrayEnumerator(ei):F.Equals(typeof ei,"string")?cd.StringEnumerator(ei):"GetEnumerator0"in ei?ei.GetEnumerator0():ei.GetEnumerator();};ce=cd.T=ea.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},f,ce);ce.New=ea.Ctor(function(ei,ej,ek,el){f.New.call(this);this.s=ei;this.c=ej;this.n=ek;this.d=el;},ce);cf.OfSeq=function(ei){var ej;ej=Q.ofSeq(bb.distinct(ei));Q.sortInPlace(ej);return cf.Build(ej,0,ej.length-1);};cf.Contains=function(ei,ej){return!((cf.Lookup(ei,ej))[0]==null);};cf.Remove=function(ei,ej){var ek,el,em,en;ek=cf.Lookup(ei,ej);el=ek[0];em=ek[1];return el==null?ej:el.Right==null?cf.Rebuild(em,el.Left):el.Left==null?cf.Rebuild(em,el.Right):cf.Rebuild(em,(en=Q.ofSeq(bb.append(cf.Enumerate(false,el.Left),cf.Enumerate(false,el.Right))),cf.Build(en,0,en.length-1)));};cf.Add=function(ei,ej){return cf.Put(function(ek,el){return el;},ei,ej);};cf.TryFind=function(ei,ej){var ek;ek=(cf.Lookup(ei,ej))[0];return ek==null?null:{$:1,$0:ek.Node};};cf.Build=function(ei,ej,ek){var el,em,en;return ek-ej+1<=0?null:(el=(ej+ek)/2>>0,(em=cf.Build(ei,ej,el-1),(en=cf.Build(ei,el+1,ek),cf.Branch(Q.get(ei,el),em,en))));};cf.Lookup=function(ei,ej){var ek,el,em,en;ek=[];el=ej;em=true;while(em)if(el==null)em=false;else{en=F.Compare(ei,el.Node);en===0?em=false:en===1?(ek.unshift([true,el.Node,el.Left]),el=el.Right):(ek.unshift([false,el.Node,el.Right]),el=el.Left);}return[el,ek];};cf.Rebuild=function(ei,ej){var ek,em,en,eo,ep,eq,er,es,et,eu;function el(ev){return ev==null?0:ev.Height;}ek=ej;for(em=0,en=Q.length(ei)-1;em<=en;em++){ek=(eo=Q.get(ei,em),eo[0]?(ep=eo[1],(eq=eo[2],el(ek)>el(eq)+1?el(ek.Left)===el(ek.Right)+1?(er=ek.Left,cf.Branch(er.Node,cf.Branch(ep,eq,er.Left),cf.Branch(ek.Node,er.Right,ek.Right))):cf.Branch(ek.Node,cf.Branch(ep,eq,ek.Left),ek.Right):cf.Branch(ep,eq,ek))):(es=eo[1],(et=eo[2],el(ek)>el(et)+1?el(ek.Right)===el(ek.Left)+1?(eu=ek.Right,cf.Branch(eu.Node,cf.Branch(ek.Node,ek.Left,eu.Left),cf.Branch(es,eu.Right,et))):cf.Branch(ek.Node,ek.Left,cf.Branch(es,ek.Right,et)):cf.Branch(es,ek,et))));}return ek;};cf.Put=function(ei,ej,ek){var el,em;el=cf.Lookup(ej,ek);em=el[0];return em==null?cf.Rebuild(el[1],cf.Branch(ej,null,null)):cf.Rebuild(el[1],cf.Branch(ei(em.Node,ej),em.Left,em.Right));};cf.Branch=function(ei,ej,ek){var el,em;return c3.New(ei,ej,ek,1+(el=ej==null?0:ej.Height,(em=ek==null?0:ek.Height,F.Compare(el,em)===1?el:em)),1+(ej==null?0:ej.Count)+(ek==null?0:ek.Count));};cf.Enumerate=function(ei,ej){function ek(el,em){var en;while(true)if(el==null)return em.$==1?{$:1,$0:[em.$0[0],[em.$0[1],em.$1]]}:null;else if(ei){en=el;el=en.Right;em=new cg({$:1,$0:[en.Node,en.Left],$1:em});}else{en=el;el=en.Left;em=new cg({$:1,$0:[en.Node,en.Right],$1:em});}}return bb.unfold(function(el){return ek(el[0],el[1]);},[ej,cg.Empty]);};bb.tryHead=function(ei){var ej;ej=cd.Get(ei);try{return ej.MoveNext()?{$:1,$0:ej.Current()}:null;}finally{if(typeof ej=="object"&&"Dispose"in ej)ej.Dispose();}};Q.groupBy=function(ei,ej){var ek,el,em,en,eo,ep;ek=new bY.New$5();el=[];for(em=0,en=Q.length(ej)-1;em<=en;em++){eo=ej[em];ep=ei(eo);ek.ContainsKey(ep)?ek.get_Item(ep).push(eo):(el.push(ep),ek.Add(ep,[eo]));}Q.mapInPlace(function(eq){return[eq,ek.get_Item(eq)];},el);return el;};bb.tryItem=function(ei,ej){var ek,el,em;if(ei<0)return null;else{ek=0;el=cd.Get(ej);try{em=true;while(em&&ek<=ei)if(el.MoveNext())ek=ek+1;else em=false;return em?{$:1,$0:el.Current()}:null;}finally{if(typeof el=="object"&&"Dispose"in el)el.Dispose();}}};bb.last=function(ei){var ej,ek;ej=cd.Get(ei);try{if(!ej.MoveNext())ek=bb.insufficient();else{while(ej.MoveNext());ek=ej.Current();}return ek;}finally{if(typeof ej=="object"&&"Dispose"in ej)ej.Dispose();}};Q.mapInPlace=function(ei,ej){var ek,el;for(ek=0,el=ej.length-1;ek<=el;ek++)ej[ek]=ei(ej[ek]);};Q.mapiInPlace=function(ei,ej){var ek,el;for(ek=0,el=ej.length-1;ek<=el;ek++)ej[ek]=ei(ek,ej[ek]);return ej;};bb.insufficient=function(){return n.FailWith("The input sequence has an insufficient number of elements.");};bb.nonNegative=function(){return n.FailWith("The input must be non-negative.");};cg=bB.T=ea.Class({GetEnumerator:function(){return new ce.New(this,null,function(ei){var ej;ej=ei.s;return ej.$==0?false:(ei.c=ej.$0,ei.s=ej.$1,true);},void 0);},GetEnumerator0:function(){return cd.Get(this);}},null,cg);cg.Empty=new cg({$:0});o=g.View=ea.Class({get_V:function(){return n.FailWith("View<'T>.V can only be called in an argument to a V-enabled function or if 'T = Doc.");}},null,o);ch.tryParse=function(ei){var ej;ej=bi.Trim(ei);return ej==="Masculino"?{$:1,$0:ch.Masculino}:ej==="Femenino"?{$:1,$0:ch.Femenino}:ej==="Empresa"?{$:1,$0:ch.Empresa}:null;};ch.Masculino={$:0};ch.Femenino={$:1};ch.Empresa={$:2};ci=J.Pais=ea.Class({toString:function(){return this.$==3?this.$0:(function(ei){return function(ej){return ei(_.p$2(ej));};}(a.id))(this);}},null,ci);ci.tryParse=function(ei){var ej,ek;ek=bi.Trim(ei).toUpperCase();switch(ek){case"":return null;case"USA":case"AMERICA":case"E.E.U.U.":case"US":case"UNITED STATES OF AMERICA":case"UNITED STATES":case"EEUU":return{$:1,$0:ci.USA};case"VENEZUELA":return{$:1,$0:ci.Venezuela};case"ARGENTINA":return{$:1,$0:ci.Argentina};default:return{$:1,$0:new ci({$:3,$0:bi.Trim(ei)})};}};ci.USA=new ci({$:0});ci.Venezuela=new ci({$:1});ci.Argentina=new ci({$:2});cj.New=function(ei,ej,ek,el,em,en){return{tipoTelefono:ei,codigoPais:ej,codigoArea:ek,numero:el,extension:em,mensajes:en};};ck=J.TipoTelefono=ea.Class({toString:function(){return(function(ei){return function(ej){return ei(_.p$8(ej));};}(a.id))(this);}},null,ck);ck.get_tryParse=function(){return function(ei){return ei==="Movil"?{$:1,$0:ck.Movil}:ei==="Oficina"?{$:1,$0:ck.Oficina}:ei==="Habitacion"?{$:1,$0:ck.Habitacion}:null;};};ck.Movil=new ck({$:0});ck.Oficina=new ck({$:1});ck.Habitacion=new ck({$:2});cl.New=function(ei,ej,ek,el,em,en,eo,ep){return{authorizeIdR:ei,tipoDireccion:ej,linea1:ek,linea2:el,ciudad:em,estado:en,pais:eo,zonaPostal:ep};};cm=J.TipoDireccion=ea.Class({toString:function(){return this.$==3?this.$0:(function(ei){return function(ej){return ei(_.p$7(ej));};}(a.id))(this);}},null,cm);cm.tryParse=function(ei){var ej;ej=bi.Trim(ei);return ej===""?null:ej==="Habitacion"?{$:1,$0:cm.Habitacion}:ej==="Oficina"?{$:1,$0:cm.Oficina}:ej==="ServicioPostal"?{$:1,$0:cm.ServicioPostal}:{$:1,$0:new cm({$:3,$0:ej})};};cm.Habitacion=new cm({$:0});cm.Oficina=new cm({$:1});cm.ServicioPostal=new cm({$:2});cn=J.Estado=ea.Class({toString:function(){return this.$==2?this.$0:(function(ei){return function(ej){return ei(_.p$3(ej));};}(a.id))(this);}},null,cn);cn.tryParse=function(ei){var ej,ek;ek=bi.Trim(ei).toUpperCase();switch(ek){case"":return null;case"TEXAS":case"TX":return{$:1,$0:cn.Texas};case"FLORIDA":case"FL":return{$:1,$0:cn.Florida};default:return{$:1,$0:new cn({$:2,$0:bi.Trim(ei)})};}};cn.Texas=new cn({$:0});cn.Florida=new cn({$:1});co=J.ZonaPostal=ea.Class({toString:function(){return this.$0;}},null,co);co.tryParse=function(ei){return bi.Trim(ei)!==""?{$:1,$0:new co({$:0,$0:bi.Trim(ei)})}:null;};cp.replace=function(ei,ej,ek){return Q.ofSeq(bb.delay(function(){return bb.append(ei>0?b5.array(ek,null,{$:1,$0:ei-1}):[],bb.delay(function(){return bb.append([ej],bb.delay(function(){return ei<Q.length(ek)?b5.array(ek,{$:1,$0:ei+1},null):[];}));}));}));};cp.remove=function(ei,ej){return Q.ofSeq(bb.delay(function(){return bb.append(ei>0?b5.array(ej,null,{$:1,$0:ei-1}):[],bb.delay(function(){return ei<Q.length(ej)?b5.array(ej,{$:1,$0:ei+1},null):[];}));}));};cr=cq.attr=ea.Class({},f,cr);cs=J.NumeroTarjeta=ea.Class({get_Id:function(){return this.$0;}},null,cs);ct.New=function(ei,ej,ek,el){return{titular:ei,tipoTarjeta:ej,numero:ek,expiracion:el};};cu.formaDocO=function(ei){var ej;return cu.formaDoc(h.Lens(ei,(ej=[J.ctaVacio(),"",false],function(ek){return ek==null?ej:ek.$0;}),function(ek,el){return{$:1,$0:el};}));};cu.formaDoc=function(ei){var ej,ek,el,em,en,eo,ep,eq,er,es,et,eu;function ev(ew,ex,ey){ek.Hole("titular").Set(ew.titular);ek.Hole("banco").Set(ew.banco);ek.Hole("tipocuenta").Set((function(ez){return function(eA){return ez(a.String(eA));};}(a.id))(ew.tipo));ek.Hole("numero").Set(ew.numero.$0);ek.Hole("routing").Set(ew.routing.$0);}ej=o.Map(function(ew){return bx.thr3(ew[0],ew[1],ew[2]);},ei.get_View());ek=(el=(em=cE.DynamicPred("disabled",ej,o.Const("")),(en=cE.DynamicPred("disabled",ej,o.Const("")),(eo=cE.DynamicPred("disabled",ej,o.Const("")),(ep=cE.DynamicPred("disabled",ej,o.Const("")),(eq=cE.DynamicPred("disabled",ej,o.Const("")),(er=W.EmbedView(o.Map(bx.crearOptions,bx.tiposCta().get_View())),R.Make().WithHole({$:0,$0:"tiposcuenta",$1:er})).WithHole({$:2,$0:"mensaje",$1:o.Map(function(ew){return bx.snd3(ew[0],ew[1],ew[2]);},ei.get_View())}).WithHole({$:3,$0:"disabled1",$1:eq})).WithHole({$:3,$0:"disabled2",$1:ep})).WithHole({$:3,$0:"disabled3",$1:eo})).WithHole({$:3,$0:"disabled4",$1:en})).WithHole({$:3,$0:"disabled5",$1:em})),(es=S.CompleteHoles(el.k,el.h,[["tipocuenta",0],["titular",0],["numero",0],["banco",0],["routing",0]]),(et=new P.New(es[1],T.cuentabancaria(es[0])),(el.i=et,et))));o.Sink(function(ew){return ev(ew[0],ew[1],ew[2]);},ei.get_View());eu=o.Apply(o.Apply(o.Map2(function(ew,ex){return function(ey){return function(ez){return bb.map(function(eA){return eA[1];},bb.filter(function(eA){return eA[0];},bB.ofArray([[bi.Trim(ew)==="","Titular"],[bi.Trim(ex)==="","Banco"],[bi.Trim(ey)==="","Numero de Cuenta"],[bi.Trim(ez)==="","ABA/Routing Number"]])));};};},ek.Hole("titular").get_View(),ek.Hole("banco").get_View()),ek.Hole("numero").get_View()),ek.Hole("routing").get_View());o.Sink(function(ew){var ex,ey;if(ew!=null&&ew.$==1){ex=ew.$0;!F.Equals((ey=ei.Get(),bx.fst3(ey[0],ey[1],ey[2])),ex)?ei.Set([ex,"",false]):void 0;}},o.Apply(o.Apply(o.Apply(o.Apply(o.Map2(function(ew,ex){return ea.Curried(function(ey,ez,eA,eB){return!bb.isEmpty(ew)?null:bx.alertIfNone("TipoCuenta",cA.tryParse(bi.Trim(ex)),function(eC){var eD;return{$:1,$0:(eD=bi.Trim(ey),bC.New(bi.Trim(ez),eD,eC,new bE({$:0,$0:bi.Trim(eA)}),new bD({$:0,$0:bi.Trim(eB)})))};});},4);},eu,ek.Hole("tipocuenta").get_View()),ek.Hole("banco").get_View()),ek.Hole("titular").get_View()),ek.Hole("numero").get_View()),ek.Hole("routing").get_View()));return[eu,ek.get_Doc()];};cv.formaDocO=function(ei){var ej;return cv.formaDoc(h.Lens(ei,(ej=[J.tarVacio(),"",false],function(ek){return ek==null?ej:ek.$0;}),function(ek,el){return{$:1,$0:el};}));};cv.formaDoc=function(ei){var ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew;function ex(ey,ez,eA){var eB;ek.Hole("titular").Set(ey.titular);ek.Hole("tipotarjeta").Set((function(eC){return function(eD){return eC(a.String(eD));};}(a.id))(ey.tipoTarjeta));ek.Hole("numero").Set(ey.numero.$0);ek.Hole("aniovenc").Set((function(eC){return function(eD){return eC(bz.padNumLeft(a.String(eD),4));};}(a.id))(ey.expiracion.anio));ek.Hole("mesvenc").Set((eB=ey.expiracion.mes,eB===1?"Enero":eB===2?"Febrero":eB===3?"Marzo":eB===4?"Abril":eB===5?"Mayo":eB===6?"Junio":eB===7?"Julio":eB===8?"Agosto":eB===9?"Septiembre":eB===10?"Octubre":eB===11?"Noviembre":eB===12?"Diciembre":"XX"));}ej=o.Map(function(ey){return bx.thr3(ey[0],ey[1],ey[2]);},ei.get_View());ek=(el=(em=cE.DynamicPred("disabled",ej,o.Const("")),(en=cE.DynamicPred("disabled",ej,o.Const("")),(eo=cE.DynamicPred("disabled",ej,o.Const("")),(ep=cE.DynamicPred("disabled",ej,o.Const("")),(eq=cE.DynamicPred("disabled",ej,o.Const("")),(er=W.EmbedView(o.Map(function(ey){return bx.crearOptions(bb.map(a.String,ey));},bx.mesesV().get_View())),(es=W.EmbedView(o.Map(function(ey){return bx.crearOptions(bb.map(a.String,ey));},bx.aniosV().get_View())),(et=W.EmbedView(o.Map(bx.crearOptions,bx.tiposTar().get_View())),R.Make().WithHole({$:0,$0:"tipostarjeta",$1:et})).WithHole({$:2,$0:"mensaje",$1:o.Map(function(ey){return bx.snd3(ey[0],ey[1],ey[2]);},ei.get_View())}).WithHole({$:0,$0:"anios",$1:es})).WithHole({$:0,$0:"meses",$1:er})).WithHole({$:3,$0:"disabled1",$1:eq})).WithHole({$:3,$0:"disabled2",$1:ep})).WithHole({$:3,$0:"disabled3",$1:eo})).WithHole({$:3,$0:"disabled4",$1:en})).WithHole({$:3,$0:"disabled5",$1:em})),(eu=S.CompleteHoles(el.k,el.h,[["tipotarjeta",0],["titular",0],["numero",0],["aniovenc",0],["mesvenc",0]]),(ev=new P.New(eu[1],T.tarjetacredito(eu[0])),(el.i=ev,ev))));o.Sink(function(ey){return ex(ey[0],ey[1],ey[2]);},ei.get_View());ew=o.Apply(o.Apply(o.Apply(o.Map2(function(ey,ez){return ea.Curried3(function(eA,eB,eC){return bb.map(function(eD){return eD[1];},bb.filter(function(eD){return eD[0];},bB.ofArray([[bi.Trim(ey)==="","Titular"],[bi.Trim(ez)==="","TipoTarjeta"],[bi.Trim(eA)==="","Numero"],[bi.Trim(eB)==="","Ano de Vencimiento"],[bi.Trim(eC)==="","Mes de Vencimiento"]])));});},ek.Hole("titular").get_View(),ek.Hole("tipotarjeta").get_View()),ek.Hole("numero").get_View()),ek.Hole("aniovenc").get_View()),ek.Hole("mesvenc").get_View());o.Sink(function(ey){var ez,eA;if(ey!=null&&ey.$==1){ez=ey.$0;!F.Equals((eA=ei.Get(),bx.fst3(eA[0],eA[1],eA[2])),ez)?ei.Set([ez,"",false]):void 0;}},o.Apply(o.Apply(o.Apply(o.Apply(o.Map2(function(ey,ez){return ea.Curried(function(eA,eB,eC,eD){return!bb.isEmpty(ey)?null:bx.alertIfNone("Tipo Tarjeta",cQ.tryParse(bi.Trim(ez)),function(eE){var eF,eG,eH;return{$:1,$0:ct.New(bi.Trim(eA),eE,new cs({$:0,$0:bi.Trim(eB)}),cP.New((eF=(eG=bi.Trim(eC),(bI.parseIntO())(eG)),eF==null?0:eF.$0),(eH=bi.Trim(eD),eH==="Febrero"?2:eH==="Marzo"?3:eH==="Abril"?4:eH==="Mayo"?5:eH==="Junio"?6:eH==="Julio"?7:eH==="Agosto"?8:eH==="Septiembre"?9:eH==="Octubre"?10:eH==="Noviembre"?11:eH==="Diciembre"?12:1)))};});},4);},ew,ek.Hole("tipotarjeta").get_View()),ek.Hole("titular").get_View()),ek.Hole("numero").get_View()),ek.Hole("aniovenc").get_View()),ek.Hole("mesvenc").get_View()));return[ew,ek.get_Doc()];};cw.MapError=function(ei,ej){return ej.$==1?{$:1,$0:ei(ej.$0)}:{$:0,$0:ej.$0};};cw.Map=function(ei,ej){return ej.$==1?{$:1,$0:ej.$0}:{$:0,$0:ei(ej.$0)};};cy=g.FromView=ea.Class({get_View:function(){return this.view;},Set:function(ei){this.set(ei);},Get:function(){return this.current;},Update:function(ei){var ej;o.Get((ej=this.set,function(ek){return ej(ei(ek));}),this.view);},UpdateMaybe:function(ei){var ej;ej=this;o.Get(function(ek){var el;el=ei(ek);el!=null&&el.$==1?ej.set(el.$0):void 0;},this.view);}},p,cy);cy.New=ea.Ctor(function(ei,ej){var ek,el;ek=this;p.New.call(this);this.set=ej;this.id=b3.Int();this.current=(el=o.TryGet(ei),el==null?null:el.$0);this.view=o.Map(function(em){ek.current=em;return em;},ei);},cy);cz.ofSeqNonCopying=function(ei){var ej,ek;if(ei instanceof a.Array)return ei;else if(ei instanceof cg)return Q.ofList(ei);else if(ei===null)return[];else{ej=[];ek=cd.Get(ei);try{while(ek.MoveNext())ej.push(ek.Current());return ej;}finally{if(typeof ek=="object"&&"Dispose"in ek)ek.Dispose();}}};cz.TreeReduce=function(ei,ej,ek){var el;function em(en,eo){var ep,eq;return eo<=0?ei:eo===1&&(en>=0&&en<el)?Q.get(ek,en):(eq=eo/2>>0,ej(em(en,eq),em(en+eq,eo-eq)));}el=Q.length(ek);return em(0,el);};cz.mapInPlace=function(ei,ej){var ek,el;for(ek=0,el=ej.length-1;ek<=el;ek++)ej[ek]=ei(ej[ek]);return ej;};cz.MapTreeReduce=function(ei,ej,ek,el){var em;function en(eo,ep){var eq,er;return ep<=0?ej:ep===1&&(eo>=0&&eo<em)?ei(Q.get(el,eo)):(er=ep/2>>0,ek(en(eo,er),en(eo+er,ep-er)));}em=Q.length(el);return en(0,em);};cA=J.TipoCuenta=ea.Class({toString:function(){return this.$==2?this.$0:(function(ei){return function(ej){return ei(_.p$5(ej));};}(a.id))(this);}},null,cA);cA.Ahorro=new cA({$:0});cA.tryParse=function(ei){var ej,ek;ek=bi.Trim(ei).toUpperCase();switch(ek){case"":return null;case"AHORRO":case"SAVINGS":return{$:1,$0:cA.Ahorro};case"CORRIENTE":case"CHECKING":return{$:1,$0:cA.Corriente};default:return{$:1,$0:new cA({$:2,$0:bi.Trim(ei)})};}};cA.Corriente=new cA({$:1});cB.Delay=function(ei){return function(ej){try{(ei(null))(ej);}catch(ek){ej.k({$:1,$0:ek});}};};cB.Bind=function(ei,ej){return cB.checkCancel(function(ek){ei(c6.New(function(el){var em;if(el.$==0){em=el.$0;cB.scheduler().Fork(function(){try{(ej(em))(ek);}catch(en){ek.k({$:1,$0:en});}});}else cB.scheduler().Fork(function(){ek.k(el);});},ek.ct));});};cB.Zero=function(){c7.$cctor();return c7.Zero;};cB.Start=function(ei,ej){var ek,el;ek=(el=(cB.defCTS())[0],ej==null?el:ej.$0);cB.scheduler().Fork(function(){if(!ek.c)ei(c6.New(function(em){if(em.$==1)cB.UncaughtAsyncError(em.$0);},ek));});};cB.While=function(ei,ej){return ei()?cB.Bind(ej,function(){return cB.While(ei,ej);}):cB.Return();};cB.Sleep=function(ei){return function(ej){var ek,el;ek=void 0;el=void 0;ek=a.setTimeout(function(){el.Dispose();cB.scheduler().Fork(function(){ej.k({$:0,$0:null});});},ei);el=cB.Register(ej.ct,function(){a.clearTimeout(ek);cB.scheduler().Fork(function(){cB.cancel(ej);});});};};cB.Return=function(ei){return function(ej){ej.k({$:0,$0:ei});};};cB.StartImmediateAsTask=function(ei,ej){var ek;ek=new di.New();cB.StartWithContinuations(ei,function(el){ek.SetResult(el);},function(el){ek.SetException$1(el);},function(){ek.SetCanceled();},ej);return ek.get_Task();};cB.checkCancel=function(ei){return function(ej){if(ej.ct.c)cB.cancel(ej);else ei(ej);};};cB.FromContinuations=function(ei){return function(ej){var ek;function el(em){if(ek[0])n.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{ek[0]=true;cB.scheduler().Fork(em);}}ek=[false];ei(function(em){el(function(){ej.k({$:0,$0:em});});},function(em){el(function(){ej.k({$:1,$0:em});});},function(em){el(function(){ej.k({$:2,$0:em});});});};};cB.defCTS=function(){c7.$cctor();return c7.defCTS;};cB.UncaughtAsyncError=function(ei){ee.log("WebSharper: Uncaught asynchronous exception",ei);};cB.Combine=function(ei,ej){return cB.Bind(ei,function(){return ej;});};cB.Register=function(ei,ej){var ek;return ei===cB.noneCT()?{Dispose:function(){return null;}}:(ek=ei.r.push(ej)-1,{Dispose:function(){return Q.set(ei.r,ek,a.ignore);}});};cB.cancel=function(ei){ei.k({$:2,$0:new dF.New(ei.ct)});};cB.StartWithContinuations=function(ei,ej,ek,el,em){var en,eo;en=(eo=(cB.defCTS())[0],em==null?eo:em.$0);!en.c?ei(c6.New(function(ep){if(ep.$==1)ek(ep.$0);else if(ep.$==2)el(ep.$0);else ej(ep.$0);},en)):void 0;};cB.TryWith=function(ei,ej){return function(ek){ei(c6.New(function(el){if(el.$==0)ek.k({$:0,$0:el.$0});else if(el.$==1)try{(ej(el.$0))(ek);}catch(em){ek.k(el);}else ek.k(el);},ek.ct));};};cB.Using=function(ei,ej){return cB.TryFinally(ej(ei),function(){ei.Dispose();});};cB.scheduler=function(){c7.$cctor();return c7.scheduler;};cB.noneCT=function(){c7.$cctor();return c7.noneCT;};cB.TryFinally=function(ei,ej){return function(ek){ei(c6.New(function(el){try{ej();ek.k(el);}catch(em){ek.k({$:1,$0:em});}},ek.ct));};};cB.GetCT=function(){c7.$cctor();return c7.GetCT;};cC.defaultValue=function(ei,ej){return ej.$==1?ei:ej.$0;};cC.result=function(){bW.$cctor();return bW.result;};cC.defaultWith=function(ei,ej){return ej.$==1?ei(ej.$0):ej.$0;};b4.splitByChar=function(ei,ej){return bi.SplitChars(ej,[ei],0);};b4.unindent=function(ei){var ej,ek,el,em;ej=bi.SplitChars(ei,["\n"],0);ek=(el=bb.tryFindIndex(function(en){return" "!==en;},(em=bb.tryFind(function(en){return bi.Trim(en)!=="";},ej),em==null?"":em.$0)),el==null?0:el.$0);return bb.filter(function(en){return!bi.StartsWith(en,"# 1 ");},bb.map(function(en){return en.length<=ek?"":en.substring(ek);},ej));};b4.unindentStr=function(){bQ.$cctor();return bQ.unindentStr;};b4.StartsWith=function(ei,ej){return bi.StartsWith(ej,ei)?{$:1,$0:b5.string(ej,{$:1,$0:ei.length},null)}:null;};b4.delimitedO=function(ei,ej,ek){var el,em,en,eo,ep;el=b4.splitInTwoO(ei,ek);return el==null?null:(em=el.$0,(en=em[0],(eo=b4.splitInTwoO(ej,em[1]),eo==null?null:{$:1,$0:(ep=eo.$0,[en,ep[0],ep[1]])})));};b4.splitInTwoO=function(ei,ej){var ek;ek=ej.indexOf(ei);return ek===-1?null:{$:1,$0:[bc["String.Left"](ej,ek),ej.substring(ek+ei.length)]};};cE.Style=function(ei,ej){return c$.Static(function(ek){da.SetStyle(ek,ei,ej);});};cE.Dynamic=function(ei,ej){return c$.Dynamic(ej,function(ek){return function(el){return da.SetAttr(ek,ei,el);};});};cE.Handler=function(ei,ej){return c$.Static(function(ek){ek.addEventListener(ei,function(el){return(ej(ek))(el);},false);});};cE.DynamicStyle=function(ei,ej){return c$.Dynamic(ej,function(ek){return function(el){return da.SetStyle(ek,ei,el);};});};cE.Value=function(ei){function ej(ek){return{$:1,$0:ek};}return cE.CustomValue(ei,a.id,function(ek){return ej(a.id(ek));});};cE.DynamicPred=function(ei,ej,ek){function el(em,en){return en[0]?da.SetAttr(em,ei,en[1]):da.RemoveAttr(em,ei);}return c$.Dynamic(o.Map2(function(em,en){return[em,en];},ej,ek),function(em){return function(en){return el(em,en);};});};cE.CustomValue=function(ei,ej,ek){return cE.CustomVar(ei,function(el,em){el.value=ej(em);},function(el){return ek(el.value);});};cE.OnAfterRender=function(ei){return new cS({$:4,$0:ei});};cE.Checked=function(ei){function ej(ek,el){return!F.Equals(ei.Get(),ek.checked)?ei.Set(ek.checked):null;}return cS.Concat([cE.DynamicProp("checked",ei.get_View()),cE.Handler("change",function(ek){return function(el){return ej(ek,el);};})]);};cE.IntValue=function(ei){return cE.CustomVar(ei,function(ej,ek){var el;el=ek.get_Input();return ej.value!==el?void(ej.value=el):null;},function(ej){var ek,el,em;ek=ej.value;return{$:1,$0:d2.isBlank(ek)?(ej.checkValidity?ej.checkValidity():true)?new cT({$:2,$0:ek}):new cT({$:1,$0:ek}):(el=(em=0,[bV.TryParseInt32(ek,{get:function(){return em;},set:function(en){em=en;}}),em]),el[0]?new cT({$:0,$0:el[1],$1:ek}):new cT({$:1,$0:ek}))};});};cE.IntValueUnchecked=function(ei){return cE.CustomValue(ei,a.String,function(ej){var ek;return d2.isBlank(ej)?{$:1,$0:0}:(ek=+ej,ek!==ek>>0?null:{$:1,$0:ek});});};cE.FloatValue=function(ei){return cE.CustomVar(ei,function(ej,ek){var el;el=ek.get_Input();return ej.value!==el?void(ej.value=el):null;},function(ej){var ek,el;ek=ej.value;return{$:1,$0:d2.isBlank(ek)?(ej.checkValidity?ej.checkValidity():true)?new cT({$:2,$0:ek}):new cT({$:1,$0:ek}):(el=+ek,a.isNaN(el)?new cT({$:1,$0:ek}):new cT({$:0,$0:el,$1:ek}))};});};cE.FloatValueUnchecked=function(ei){return cE.CustomValue(ei,a.String,function(ej){var ek;return d2.isBlank(ej)?{$:1,$0:0}:(ek=+ej,a.isNaN(ek)?null:{$:1,$0:ek});});};cE.CustomVar=function(ei,ej,ek){function el(en,eo){return ei.UpdateMaybe(function(ep){var eq,er;eq=ek(en);return eq!=null&&eq.$==1&&(!F.Equals(eq.$0,ep)&&(er=[eq,eq.$0],true))?er[0]:null;});}function em(en,eo){var ep,eq;ep=ek(en);return ep!=null&&ep.$==1&&(F.Equals(ep.$0,eo)&&(eq=ep.$0,true))?null:ej(en,eo);}return cS.Concat([cE.Handler("change",function(en){return function(eo){return el(en,eo);};}),cE.Handler("input",function(en){return function(eo){return el(en,eo);};}),cE.Handler("keypress",function(en){return function(eo){return el(en,eo);};}),cE.DynamicCustom(function(en){return function(eo){return em(en,eo);};},ei.get_View())]);};cE.DynamicProp=function(ei,ej){return c$.Dynamic(ej,function(ek){return function(el){ek[ei]=el;};});};cE.DynamicCustom=function(ei,ej){return c$.Dynamic(ej,ei);};cH=cG.WcTabStripT=ea.Class({connectedCallback:function(){var ei,ej,ek,el;function em(){var en,eo,ep;eo=!ej.hasAttribute("bottom");ep=bB.ofSeq(bb.delay(function(){return bb.collect(function(eq){var er;er=ej.childNodes[eq-1];return F.Equals(er.nodeType,C.ELEMENT_NODE)?[[er.hasAttribute("tabname")?er.getAttribute("tabname"):(function(es){return function(et){return es("Tab "+a.String(et));};}(a.id))(eq),er]]:[];},n.range(1,ej.childNodes.length));}));while(el.childNodes.length>0)el.removeChild(el.lastChild);en=cG.tabStrip(ei.selected,eo,true,ep,W.Element("slot",cg.Empty,cg.Empty));cV.LoadLocalTemplates("");W.Run(el,en);}ei=this;!this.added?(ej=this,ek=ej.attachShadow({mode:"open"}),el=self.document.createElement("div"),ek.appendChild(el),em(),ej.addEventListener("DOMSubtreeModified",bc.delayed(50,em)),this.added=true):void 0;}},f,cH);cH.Constructor=function(){var ei,ej;ei=(ej=eg.construct(self.HTMLElement,[],this.__proto__.constructor),ej);self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New.call(ei);return ei;};cH.New=ea.Ctor(function(){f.New.call(this);this.added=false;this.selected=h.Create$1(1);(function(ei){return ei("WcTabStripT initializer");}(function(ei){ee.log(ei);}));},cH);cF.defineWebComponent=function(ei,ej,ek){try{ee.log("defineWebComponent: "+ei);cx.setPrototypeOf(ek.prototype,self.HTMLElement.prototype);cx.setPrototypeOf(ek,self.HTMLElement);cx.setPrototypeOf(ej.prototype,ek.prototype);self.customElements.define(ei,ej);}catch(el){(function(em){return em("Failed to define WebComponent. Not supported.");}(function(em){ee.log(em);}));}};cI.appfwkclient=function(ei){cI.fixedsplitterhor();cI.fixedsplitterver();cV.LoadLocalTemplates("appframework");return ei?cV.NamedTemplate("appframework",{$:1,$0:"appfwkclient"},ei):void 0;};cJ.p=function(ei){return"{"+("docName = "+bz.prettyPrint(ei.docName))+"; "+("docDoc = "+cK.p(ei.docDoc))+"}";};cI.tile=function(ei){cV.LoadLocalTemplates("appframework");return ei?cV.NamedTemplate("appframework",{$:1,$0:"tile"},ei):void 0;};cI.namevalueinput=function(ei){cV.LoadLocalTemplates("appframework");return ei?cV.NamedTemplate("appframework",{$:1,$0:"namevalueinput"},ei):void 0;};cI.namevalue=function(ei){cV.LoadLocalTemplates("appframework");return ei?cV.NamedTemplate("appframework",{$:1,$0:"namevalue"},ei):void 0;};cI.action=function(ei){cV.LoadLocalTemplates("appframework");return ei?cV.NamedTemplate("appframework",{$:1,$0:"action"},ei):void 0;};cI.actiondisabled=function(ei){cV.LoadLocalTemplates("appframework");return ei?cV.NamedTemplate("appframework",{$:1,$0:"actiondisabled"},ei):void 0;};cI.fixedsplitterhor=function(ei){cV.LoadLocalTemplates("appframework");return ei?cV.NamedTemplate("appframework",{$:1,$0:"fixedsplitterhor"},ei):void 0;};cI.fixedsplitterver=function(ei){cV.LoadLocalTemplates("appframework");return ei?cV.NamedTemplate("appframework",{$:1,$0:"fixedsplitterver"},ei):void 0;};cI.wcompsplitterhor=function(ei){cV.LoadLocalTemplates("appframework");return ei?cV.NamedTemplate("appframework",{$:1,$0:"wcompsplitterhor"},ei):void 0;};cI.wcompsplitterver=function(ei){cV.LoadLocalTemplates("appframework");return ei?cV.NamedTemplate("appframework",{$:1,$0:"wcompsplitterver"},ei):void 0;};cI.appframework=function(ei){cV.LoadLocalTemplates("appframework");return ei?cV.NamedTemplate("appframework",{$:1,$0:"appframework"},ei):void 0;};cK.p=function(ei){return ei.$==5?"FunDoc5 (<fun>, "+bz.prettyPrint(ei.$1)+", "+bz.prettyPrint(ei.$2)+", "+bz.prettyPrint(ei.$3)+", "+bz.prettyPrint(ei.$4)+", "+bz.prettyPrint(ei.$5)+")":ei.$==4?"FunDoc4 (<fun>, "+bz.prettyPrint(ei.$1)+", "+bz.prettyPrint(ei.$2)+", "+bz.prettyPrint(ei.$3)+", "+bz.prettyPrint(ei.$4)+")":ei.$==3?"FunDoc3 (<fun>, "+bz.prettyPrint(ei.$1)+", "+bz.prettyPrint(ei.$2)+", "+bz.prettyPrint(ei.$3)+")":ei.$==2?"FunDoc2 (<fun>, "+bz.prettyPrint(ei.$1)+", "+bz.prettyPrint(ei.$2)+")":ei.$==1?"FunDoc1 (<fun>, "+bz.prettyPrint(ei.$1)+")":"LazyDoc "+bz.prettyPrint(ei.$0);};cL.init=function(ei,ej){var ek;ek=new db.New();cL.set_layoutHorizontal(ei);cL.set_layoutVertical(ej);cF.defineWebComponent("wcomp-splitter",db.Constructor,self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New);};cL.set_layoutHorizontal=function(ei){bQ.$cctor();bQ.layoutHorizontal=ei;};cL.set_layoutVertical=function(ei){bQ.$cctor();bQ.layoutVertical=ei;};cL.layoutVertical=function(){bQ.$cctor();return bQ.layoutVertical;};cL.layoutHorizontal=function(){bQ.$cctor();return bQ.layoutHorizontal;};cG.init=function(){bQ.$cctor();return bQ.init;};cG.tabStrip=function(ei,ej,ek,el,em){var en;en=W.Element("div",[cS.Create("class",(((ea.Curried3(function(eo,ep,eq){return eo("tab-strip "+bz.toSafe(ep)+" "+bz.toSafe(eq));}))(a.id))(ej?"top":"bottom"))(ek?"horizontal":"vertical"))],bB.ofSeq(bb.delay(function(){return bb.collect(function(eo){var ep;ep=eo[0];return[dr.New$1().Content(W.Element("div",[cE.Dynamic("class",o.Map(function(eq){return"tab"+(eq===ep+1?" selected":"");},ei.get_View())),cS.Create("draggable","true"),cS.HandlerImpl("click",function(){return function(){return ei.Set(ep+1);};})],[W.TextNode(eo[1][0])]))];},bb.indexed(el));})));return W.Element("div",[cS.Create("class","tab-panel")],bB.ofSeq(bb.delay(function(){return bb.append(ej?[en]:[],bb.delay(function(){return bb.append([W.Element("div",[cS.Create("class","tab-content")],[em])],bb.delay(function(){return bb.append(!ej?[en]:[],bb.delay(function(){return bb.append([W.Element("style",cg.Empty,bB.ofArray([W.TextNode(cG.css())]))],bb.delay(function(){return[W.Element("style",cg.Empty,bB.ofArray([W.TextView(o.Map(function(eo){return function(ep){return eo("\r\n                                              ::slotted(*              ) { display: none }\r\n                                              ::slotted(*:nth-child("+a.String(ep)+")) { display: grid }\r\n                                           ");};}(a.id),ei.get_View()))]))];}));}));}));}));})));};cG.css=function(){bQ.$cctor();return bQ.css;};cM=cC.Builder=ea.Class({},f,cM);cM.New=ea.Ctor(function(){f.New.call(this);},cM);cN=bG.Builder=ea.Class({},f,cN);cN.New=ea.Ctor(function(){f.New.call(this);},cN);b4.unindent=function(ei){var ej,ek,el,em;ej=bi.SplitChars(ei,["\n"],0);ek=(el=bb.tryFindIndex(function(en){return" "!==en;},(em=bb.tryFind(function(en){return bi.Trim(en)!=="";},ej),em==null?"":em.$0)),el==null?0:el.$0);return bb.filter(function(en){return!bi.StartsWith(en,"# 1 ");},bb.map(function(en){return en.length<=ek?"":en.substring(ek);},ej));};b4.splitByChar=function(ei,ej){return bi.SplitChars(ej,[ei],0);};bI.tryParseWith=function(ei){function ej(ek,el){return ek?{$:1,$0:el}:null;}return function(ek){return ej.apply(null,ei(ek));};};bI.parseDateO=function(){bW.$cctor();return bW.parseDateO;};bI.parseIntO=function(){bW.$cctor();return bW.parseIntO;};bI.parseInt64O=function(){bW.$cctor();return bW.parseInt64O;};bI.parseSingleO=function(){bW.$cctor();return bW.parseSingleO;};bI.parseDoubleO=function(){bW.$cctor();return bW.parseDoubleO;};bI.parseGuidO=function(){bW.$cctor();return bW.parseGuidO;};cO.toJsonString=function(ei){return Q.ofSeq(bb.delay(function(){return bb.append(["\""],bb.delay(function(){return bb.append(!bi.IsNullOrEmpty(ei)?bb.collect(function(ej){var ek,el;ek=ei[ej];el=ek.charCodeAt();return el>=0&&el<=7||el===11||el>=14&&el<=31?(function(em){return function(en){return em("\\u"+bz.padNumLeft(en.toString(16),4));};}(a.id))(el):ek==="\u0008"?"\\b":ek==="\u0009"?"\\t":ek==="\n"?"\\n":ek==="\u000c"?"\\f":ek==="\r"?"\\r":ek==="\""?"\\\"":ek==="\\"?"\\\\":[ek];},n.range(0,ei.length-1)):[],bb.delay(function(){return["\""];}));}));})).join("");};bc.Error=function(ei){return{$:1,$0:ei};};bc.print=function(ei){if(typeof ei=="string")((function(ej){return function(ek){return ej(bz.toSafe(ek));};}(function(ej){ee.log(ej);}))(ei));else((function(ej){return function(ek){return ej(bz.prettyPrint(ek));};}(function(ej){ee.log(ej);}))(ei));};cP=J.Expiracion=ea.Class({},null,cP);cP.New=function(ei,ej){return new cP({anio:ei,mes:ej});};cQ=J.TipoTarjeta=ea.Class({toString:function(){return this.$==3?this.$0:(function(ei){return function(ej){return ei(_.p$4(ej));};}(a.id))(this);}},null,cQ);cQ.Visa=new cQ({$:0});cQ.tryParse=function(ei){var ej,ek;ek=bi.Trim(ei).toUpperCase();switch(ek){case"":return null;case"VISA":return{$:1,$0:cQ.Visa};case"MASTERCARD":return{$:1,$0:cQ.MasterCard};case"AMERICAN EXPRESS":case"AMEX":return{$:1,$0:cQ.Amex};default:return{$:1,$0:new cQ({$:3,$0:bi.Trim(ei)})};}};cQ.MasterCard=new cQ({$:1});cQ.Amex=new cQ({$:2});cR.notPresent=function(){return n.FailWith("The given key was not present in the dictionary.");};cR.alreadyAdded=function(){return n.FailWith("An item with the same key has already been added.");};cS=g.AttrProxy=ea.Class({},null,cS);cS.Create=function(ei,ej){return c$.Static(function(ek){da.SetAttr(ek,ei,ej);});};cS.HandlerImpl=function(ei,ej){return c$.Static(function(ek){ek.addEventListener(ei,function(el){return(ej(ek))(el);},false);});};cS.Concat=function(ei){var ej;ej=cz.ofSeqNonCopying(ei);return cz.TreeReduce(c$.EmptyAttr(),cS.Append,ej);};cS.Append=function(ei,ej){return c$.AppendTree(ei,ej);};cS.Handler=function(ei,ej){return cS.HandlerImpl(ei,ej);};cT=g.CheckedInput=ea.Class({get_Input:function(){return this.$==1?this.$0:this.$==2?this.$0:this.$1;}},null,cT);cV.LoadLocalTemplates=function(ei){!cV.LocalTemplatesLoaded()?(cV.set_LocalTemplatesLoaded(true),cV.LoadNestedTemplates(self.document.body,"")):void 0;cV.LoadedTemplates().set_Item(ei,cV.LoadedTemplateFile(""));};cV.NamedTemplate=function(ei,ej,ek){var el,em;el=(em=null,[cV.LoadedTemplateFile(ei).TryGetValue(ej==null?"":ej.$0,{get:function(){return em;},set:function(en){em=en;}}),em]);return el[0]?cV.ChildrenTemplate(el[1].cloneNode(true),ek):(ee.warn("Local template doesn't exist",ej),W.get_Empty());};cV.RunFullDocTemplate=function(ei){var ej,ek;cV.LoadLocalTemplates("");cV.PrepareTemplateStrict("",null,da.ChildrenArray(self.document.body),{$:1,$0:self.document.body},null);ej=cV.ChildrenTemplate(self.document.body,ei);ek=self.document.body;(function(el){W.RunInPlace(true,ek,el);}(ej));return ej;};cV.LocalTemplatesLoaded=function(){dw.$cctor();return dw.LocalTemplatesLoaded;};cV.set_LocalTemplatesLoaded=function(ei){dw.$cctor();dw.LocalTemplatesLoaded=ei;};cV.LoadNestedTemplates=function(ei,ej){var el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey;function ek(ez){var eA,eB;if(!el.ContainsKey(ez)){eA=(eB=null,[em.TryGetValue(ez,{get:function(){return eB;},set:function(eC){eB=eC;}}),eB]);eA[0]?(ey.Add(ez),em.Remove(ez),cV.PrepareTemplateStrict(ej,{$:1,$0:ez},eA[1][0],{$:1,$0:eA[1][1]},{$:1,$0:ek})):ee.warn(ey.Contains(ez)?"Encountered loop when instantiating "+ez:"Local template does not exist: "+ez);}}el=cV.LoadedTemplateFile(ej);em=new bY.New$5();en=ei.querySelectorAll("[ws-template]");for(eo=0,ep=en.length-1;eo<=ep;eo++){eq=en[eo];er=eq.getAttribute("ws-template").toLowerCase();eq.removeAttribute("ws-template");em.set_Item(er,[[eq],cV.FakeRootSingle(eq)]);}es=ei.querySelectorAll("[ws-children-template]");for(et=0,eu=es.length-1;et<=eu;et++){ev=es[et];ew=ev.getAttribute("ws-children-template").toLowerCase();ev.removeAttribute("ws-children-template");em.set_Item(ew,(ex=da.ChildrenArray(ev),[ex,cV.FakeRoot(ex)]));}ey=new bZ.New$3();while(em.count>0)ek(bb.head(em.get_Keys()));};cV.LoadedTemplates=function(){dw.$cctor();return dw.LoadedTemplates;};cV.LoadedTemplateFile=function(ei){var ej,ek,el;ej=(ek=null,[cV.LoadedTemplates().TryGetValue(ei,{get:function(){return ek;},set:function(em){ek=em;}}),ek]);return ej[0]?ej[1]:(el=new bY.New$5(),(cV.LoadedTemplates().set_Item(ei,el),el));};cV.ChildrenTemplate=function(ei,ej){var ek,el,em,en,eo;ek=cV.InlineTemplate(ei,ej);el=ek[1];em=ek[0];en=em.Els;return!F.Equals(en,null)&&en.length===1&&(Q.get(en,0)instanceof C&&(F.Equals(Q.get(en,0).nodeType,C.ELEMENT_NODE)&&(eo=Q.get(en,0),true)))?dx.TreeNode(em,el):W.Mk({$:6,$0:em},el);};cV.PrepareTemplateStrict=function(ei,ej,ek,el,em){var en,eo;function ep(eu,ev){var ew,ex,ey,ez,eA,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW;function eB(eX){}while(true)switch(eu){case 0:if(ev!==null){ew=ev.nextSibling;if(F.Equals(ev.nodeType,C.TEXT_NODE))dA.convertTextNode(ev);else if(F.Equals(ev.nodeType,C.ELEMENT_NODE))er(ev);ev=ew;}else return null;break;case 1:eC=b5.string(ev.nodeName,{$:1,$0:3},null).toLowerCase();eD=(ex=eC.indexOf("."),ex===-1?[ei,eC]:[b5.string(eC,null,{$:1,$0:ex-1}),b5.string(eC,{$:1,$0:ex+1},null)]);eE=eD[1];eF=eD[0];if(eF!==""&&!cV.LoadedTemplates().ContainsKey(eF))return dA.failNotLoaded(eE);else{if(eF===""&&em!=null)em.$0(eE);eG=cV.LoadedTemplates().get_Item(eF);if(!eG.ContainsKey(eE))return dA.failNotLoaded(eE);else{eH=eG.get_Item(eE);eI=eH.cloneNode(true);eJ=new bZ.New$3();eK=new bY.New$5();eL=ev.attributes;for(eM=0,eN=eL.length-1;eM<=eN;eM++){eO=eL.item(eM).name.toLowerCase();eK.set_Item(eO,(eP=eL.item(eM).nodeValue,eP===""?eO:eP.toLowerCase()));!eJ.Add(eO)?ee.warn("Hole mapped twice",eO):void 0;}for(eQ=0,eR=ev.childNodes.length-1;eQ<=eR;eQ++){eS=ev.childNodes[eQ];F.Equals(eS.nodeType,C.ELEMENT_NODE)?!eJ.Add(eS.nodeName.toLowerCase())?ee.warn("Hole filled twice",eE):void 0:void 0;}eT=ev.childNodes.length===1&&F.Equals(ev.firstChild.nodeType,C.TEXT_NODE);if(eT){ez=dA.fillTextHole(eI,ev.firstChild.textContent,eE);((function(eX){return function(eY){if(eY!=null)eX(eY.$0);};}((eA=function(eX){return function(eY){return eX.Add(eY);};}(eJ),function(eX){return eB(eA(eX));})))(ez));}dA.removeHolesExcept(eI,eJ);if(!eT){for(eU=0,eV=ev.childNodes.length-1;eU<=eV;eU++){eW=ev.childNodes[eU];F.Equals(eW.nodeType,C.ELEMENT_NODE)?eW.hasAttributes()?dA.fillInstanceAttrs(eI,eW):eq(eI,eW):void 0;}}dA.mapHoles(eI,eK);dA.fill(eI,ev.parentNode,ev);ev.parentNode.removeChild(ev);return;}}break;}}function eq(eu,ev){var ew,ey,ez;function ex(eA,eB){var eC,eD,eE;if(ey==="title"&&ev.hasChildNodes()){eC=ec.parseHTML(ev.textContent);ev.removeChild(ev.firstChild);for(eD=0,eE=eC.length-1;eD<=eE;eD++)ev.appendChild(Q.get(eC,eD));}else null;er(ev);return dA.fill(ev,eA,eB);}ey=ev.nodeName.toLowerCase();da.IterSelector(eu,"[ws-attr-holes]",function(eA){var eB,eC,eD,eE,eF;eB=bi.SplitChars(eA.getAttribute("ws-attr-holes"),[" "],1);for(eC=0,eD=eB.length-1;eC<=eD;eC++){eE=Q.get(eB,eC);eA.setAttribute(eE,(eF=new a.RegExp("\\${"+ey+"}","ig"),eA.getAttribute(eE).replace(eF,ev.textContent)));}});ez=eu.querySelector("[ws-hole="+ey+"]");if(F.Equals(ez,null)){ew=eu.querySelector("[ws-replace="+ey+"]");return F.Equals(ew,null)?null:(ex(ew.parentNode,ew),void ew.parentNode.removeChild(ew));}else{while(ez.hasChildNodes())ez.removeChild(ez.lastChild);ez.removeAttribute("ws-hole");return ex(ez,null);}}function er(eu){if(bi.StartsWith(eu.nodeName.toLowerCase(),"ws-"))et(eu);else{dA.convertAttrs(eu);es(eu.firstChild);}}function es(eu){return ep(0,eu);}function et(eu){return ep(1,eu);}en=el==null?cV.FakeRoot(ek):el.$0;eo=(ej==null?"":ej.$0).toLowerCase();cV.LoadedTemplateFile(ei).set_Item(eo,en);Q.length(ek)>0?(function(eu){var ev,ew,ex,ey;while(true){ev=eu.querySelector("[ws-template]");if(F.Equals(ev,null)){ew=eu.querySelector("[ws-children-template]");if(F.Equals(ew,null))return null;else{ex=ew.getAttribute("ws-children-template");ew.removeAttribute("ws-children-template");cV.PrepareTemplateStrict(ei,{$:1,$0:ex},da.ChildrenArray(ew),null,null);eu=eu;}}else{ey=ev.getAttribute("ws-template");(cV.PrepareSingleTemplate(ei,{$:1,$0:ey},ev))(null);eu=eu;}}}(en),es(Q.get(ek,0))):void 0;};cV.FakeRootSingle=function(ei){var ej,ek,el;ei.removeAttribute("ws-template");ej=ei.getAttribute("ws-replace");ej===null?void 0:(ei.removeAttribute("ws-replace"),ek=ei.parentNode,F.Equals(ek,null)?void 0:(el=self.document.createElement(ei.tagName),el.setAttribute("ws-replace",ej),ek.replaceChild(el,ei)));return cV.FakeRoot([ei]);};cV.FakeRoot=function(ei){var ej,ek,el;ej=self.document.createElement("div");for(ek=0,el=ei.length-1;ek<=el;ek++)ej.appendChild(Q.get(ei,ek));return ej;};cV.InlineTemplate=function(ei,ej){var ek,el,em,en,eq,er,es,et,eu,ev,ew;function eo(ex,ey){var ez,eA,eB;ez=c$.Insert(ex,ey);er.push(c$.Updates(ez));es.push([ex,ez]);eA=ea.GetOptional(ez.OnAfterRender);return eA==null?null:(eB=eA.$0,void et.push(function(){eB(ex);}));}function ep(ex){var ey,ez;ey=(ez=null,[eu.TryGetValue(ex,{get:function(){return ez;},set:function(eA){ez=eA;}}),ez]);return ey[0]?ey[1].$==0?{$:1,$0:ey[1].$1}:ey[1].$==1?{$:1,$0:W.TextNode(ey[1].$1)}:ey[1].$==2?{$:1,$0:W.TextView(ey[1].$1)}:ey[1].$==8?{$:1,$0:W.TextView(ey[1].$1.get_View())}:ey[1].$==9?{$:1,$0:W.TextView(o.Map(a.String,ey[1].$1.get_View()))}:ey[1].$==10?{$:1,$0:W.TextView(o.Map(function(eA){return eA.get_Input();},ey[1].$1.get_View()))}:ey[1].$==11?{$:1,$0:W.TextView(o.Map(a.String,ey[1].$1.get_View()))}:ey[1].$==12?{$:1,$0:W.TextView(o.Map(function(eA){return eA.get_Input();},ey[1].$1.get_View()))}:ey[1].$==13?{$:1,$0:W.TextView(o.Map(a.String,ey[1].$1.get_View()))}:(ee.warn("Content hole filled with attribute data",ex),null):null;}eq=[];er=[];es=[];et=[];eu=new bY.New$5();ev=cd.Get(ej);try{while(ev.MoveNext()){ew=ev.Current();eu.set_Item(ew.$0,ew);}}finally{if(typeof ev=="object"&&"Dispose"in ev)ev.Dispose();}ek=da.ChildrenArray(ei);da.IterSelector(ei,"[ws-hole]",function(ex){var ey,ez,eA;eA=ex.getAttribute("ws-hole");ex.removeAttribute("ws-hole");while(ex.hasChildNodes())ex.removeChild(ex.lastChild);ey=ep(eA);ey!=null&&ey.$==1?(ez=ey.$0,c5.LinkElement(ex,ez.docNode),eq.push(dc.New(c$.Empty(ex),ez.docNode,null,ex,b3.Int(),null)),er.push(ez.updates)):void 0;});da.IterSelector(ei,"[ws-replace]",function(ex){var ey,ez,eA,eB,eC,eD;ey=ep(ex.getAttribute("ws-replace"));ey!=null&&ey.$==1?(ez=ey.$0,eA=ex.parentNode,eB=self.document.createTextNode(""),eA.replaceChild(eB,ex),eC=c5.InsertBeforeDelim(eB,ez.docNode),eD=Q.tryFindIndex(function(eE){return ex===eE;},ek),eD==null?void 0:Q.set(ek,eD.$0,ez.docNode),eq.push(dc.New(c$.Empty(eA),ez.docNode,{$:1,$0:[eC,eB]},eA,b3.Int(),null)),er.push(ez.updates)):void 0;});da.IterSelector(ei,"[ws-attr]",function(ex){var ey,ez,eA;ey=ex.getAttribute("ws-attr");ex.removeAttribute("ws-attr");ez=(eA=null,[eu.TryGetValue(ey,{get:function(){return eA;},set:function(eB){eA=eB;}}),eA]);ez[0]?ez[1].$==3?eo(ex,ez[1].$1):ee.warn("Attribute hole filled with non-attribute data",ey):void 0;});da.IterSelector(ei,"[ws-on]",function(ex){eo(ex,cS.Concat(Q.choose(function(ey){var ez,eA,eB;ez=bi.SplitChars(ey,[":"],1);eA=(eB=null,[eu.TryGetValue(Q.get(ez,1),{get:function(){return eB;},set:function(eC){eB=eC;}}),eB]);return eA[0]?eA[1].$==4?{$:1,$0:cE.Handler(Q.get(ez,0),eA[1].$1)}:eA[1].$==5?{$:1,$0:cS.Handler(Q.get(ez,0),eA[1].$2)}:(ee.warn("Event hole on"+Q.get(ez,0)+" filled with non-event data",Q.get(ez,1)),null):null;},bi.SplitChars(ex.getAttribute("ws-on"),[" "],1))));ex.removeAttribute("ws-on");});da.IterSelector(ei,"[ws-onafterrender]",function(ex){var ey,ez,eA;ey=ex.getAttribute("ws-onafterrender");ez=(eA=null,[eu.TryGetValue(ey,{get:function(){return eA;},set:function(eB){eA=eB;}}),eA]);ez[0]?ez[1].$==6?(ex.removeAttribute("ws-onafterrender"),eo(ex,cE.OnAfterRender(ez[1].$1))):ez[1].$==7?(ex.removeAttribute("ws-onafterrender"),eo(ex,cE.OnAfterRender(ez[1].$1))):ee.warn("onafterrender hole filled with non-onafterrender data",ey):void 0;});da.IterSelector(ei,"[ws-var]",function(ex){var ey,ez,eA;ey=ex.getAttribute("ws-var");ex.removeAttribute("ws-var");ez=(eA=null,[eu.TryGetValue(ey,{get:function(){return eA;},set:function(eB){eA=eB;}}),eA]);ez[0]?ez[1].$==8?eo(ex,cE.Value(ez[1].$1)):ez[1].$==9?eo(ex,cE.Checked(ez[1].$1)):ez[1].$==10?eo(ex,cE.IntValue(ez[1].$1)):ez[1].$==11?eo(ex,cE.IntValueUnchecked(ez[1].$1)):ez[1].$==12?eo(ex,cE.FloatValue(ez[1].$1)):ez[1].$==13?eo(ex,cE.FloatValueUnchecked(ez[1].$1)):ee.warn("Var hole filled with non-Var data",ey):void 0;});da.IterSelector(ei,"[ws-attr-holes]",function(ex){var ey,ez,eA,eB;ey=new a.RegExp(cV.TextHoleRE(),"g");ez=bi.SplitChars(ex.getAttribute("ws-attr-holes"),[" "],1);ex.removeAttribute("ws-attr-holes");for(eA=0,eB=ez.length-1;eA<=eB;eA++)(function(){var eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO;eL=Q.get(ez,eA);eM=ex.getAttribute(eL);eC=null;eD=0;eN=[];while(eC=ey.exec(eM),eC!==null){eO=b5.string(eM,{$:1,$0:eD},{$:1,$0:ey.lastIndex-Q.get(eC,0).length-1});eD=ey.lastIndex;eN.push([eO,Q.get(eC,1)]);}eF=b5.string(eM,{$:1,$0:eD},null);ey.lastIndex=0;eG=Q.foldBack(function(eP,eQ){return(function(eR){var eS,eT;eS=eR[0];eT=eR[1];return function(eU){var eV,eW,eX,eY,eZ;eV=eU[0];eW=eU[1];eX=(eY=(eZ=null,[eu.TryGetValue(eT,{get:function(){return eZ;},set:function(e0){eZ=e0;}}),eZ]),eY[0]?eY[1].$==1?{$:0,$0:eY[1].$1}:eY[1].$==2?{$:1,$0:eY[1].$1}:eY[1].$==8?{$:1,$0:eY[1].$1.get_View()}:eY[1].$==9?{$:1,$0:o.Map(a.String,eY[1].$1.get_View())}:eY[1].$==10?{$:1,$0:o.Map(function(e0){return e0.get_Input();},eY[1].$1.get_View())}:eY[1].$==11?{$:1,$0:o.Map(a.String,eY[1].$1.get_View())}:eY[1].$==12?{$:1,$0:o.Map(function(e0){return e0.get_Input();},eY[1].$1.get_View())}:eY[1].$==13?{$:1,$0:o.Map(a.String,eY[1].$1.get_View())}:(ee.warn("Attribute value hole filled with non-text data",eT),{$:0,$0:""}):{$:0,$0:""});return eX.$==1?[eS,new cg({$:1,$0:eV===""?eX.$0:o.Map(function(e0){return e0+eV;},eX.$0),$1:eW})]:[eS+eX.$0+eV,eW];};}(eP))(eQ);},eN,[eF,cg.Empty]);return eo(ex,eG[1].$==1?eG[1].$1.$==1?eG[1].$1.$1.$==1?eG[1].$1.$1.$1.$==0?(eH=eG[0],cE.Dynamic(eL,o.Map3(function(eP,eQ,eR){return eH+eP+eQ+eR;},eG[1].$0,eG[1].$1.$0,eG[1].$1.$1.$0))):(eI=eG[0],cE.Dynamic(eL,o.Map(function(eP){return eI+bi.concat("",eP);},o.Sequence(eG[1])))):(eJ=eG[0],cE.Dynamic(eL,o.Map2(function(eP,eQ){return eJ+eP+eQ;},eG[1].$0,eG[1].$1.$0))):eG[0]===""?cE.Dynamic(eL,eG[1].$0):(eK=eG[0],cE.Dynamic(eL,o.Map(function(eP){return eK+eP;},eG[1].$0))):cS.Create(eL,eG[0]));}());});return[ea.DeleteEmptyFields({Els:ek,Dirty:true,Holes:eq,Attrs:es,Render:(el=et.length==0?null:{$:1,$0:function(ex){Q.iter(function(ey){ey(ex);},et);}},el?el.$0:void 0),El:(em=!F.Equals(ek,null)&&ek.length===1&&(Q.get(ek,0)instanceof C&&(Q.get(ek,0)instanceof a.Element&&(en=Q.get(ek,0),true)))?{$:1,$0:en}:null,em?em.$0:void 0)},["Render","El"]),cz.TreeReduce(o.Const(),o.Map2Unit,er)];};cV.PrepareSingleTemplate=function(ei,ej,ek){var el,em,en;el=cV.FakeRootSingle(ek);em=[ek];en={$:1,$0:el};return function(eo){cV.PrepareTemplateStrict(ei,ej,em,en,eo);};};cV.TextHoleRE=function(){dw.$cctor();return dw.TextHoleRE;};cW.newPojoOpt=function(ei){function ej(ek,el){return el==null?null:{$:1,$0:[ek,el.$0]};}return cW.newPojo(bb.choose(function(ek){return ej(ek[0],ek[1]);},ei));};cW.newPojo=function(ei){var ej,ek;function el(en,eo){return function(ep){return cW.addProp(en,eo,ep);};}function em(en){}ej={};bb.iter((ek=function(en){return(function(eo){return el(eo[0],eo[1]);}(en))(ej);},function(en){return em(ek(en));}),ei);return ej;};cW.addProp=function(ei,ej,ek){ek[ei]=ej;return ek;};b6.op_EqualsEqualsGreater=function(ei,ej){return[ei,ej==null?null:{$:1,$0:ej.$0}];};cY.JSUnion=function(ei,ej){var ek;function el(ep){var eq;function er(es){return es!=null&&es.$==1&&F.Equals(ep,es.$0);}eq=bb.tryFindIndex(function(es){return er(es[0]);},ej);return eq!=null&&eq.$==1?eq.$0:ep.$;}function em(ep,eq){return Q.init(Q.length((Q.get(ej,ep))[2]),function(er){return eq["$"+a.String(er)];});}function en(ep,eq){var er,es,et;er=ei==null?{}:new ei();es=Q.get(ej,ep);return(et=es[0],et!=null&&et.$==1)?es[0].$0:(er.$=ep,bb.iteri(function(eu,ev){er["$"+a.String(eu)]=ev;},eq),er);}function eo(ep,eq){var er;function es(et,eu){return[ep,et,eu,er];}er=eq[2];return bb.map(function(et){return es(et[0],et[1]);},eq[1]);}ek=bb.collect(function(ep){return eo(ep[0],ep[1]);},bb.indexed(ej));return df.New$1(function(ep){function eq(er,es,et,eu){var ev,ew,ex;function ey(ez,eA,eB){var eC;function eD(eE,eF){return ey(eC,eE,new cg({$:1,$0:eF,$1:eB}));}return ez.$==1?(eC=ez.$1,bb.collect(function(eE){return eD(eE[0],eE[1]);},ez.$0.Parse(eA))):[[eA,en(er,Q.ofList(bB.rev(eB)))]];}return cY.isCorrectMethod(es,ep.Method)?(ev=dg.startsWith(bB.ofArray(et),ep.Segments),ev==null?[]:(ew=ev.$0,(ex=bB.ofArray(eu),ex.$==0?[[c0.New(ew,ep.QueryArgs,ep.FormData,ep.Method,ep.Body),en(er,[])]]:ey(ex,c0.New(ew,ep.QueryArgs,ep.FormData,ep.Method,ep.Body),cg.Empty)))):[];}return bb.collect(function(er){return eq(er[0],er[1],er[2],er[3]);},ek);},function(ep){var eq,er,es,et,eu,ev;function ew(ex,ey){return ey.Write(ex);}eq=el(ep);er=Q.get(ej,eq);es=er[2];et=Q.get(er[1],0);eu=[c0.Segment(bB.ofArray(et[1]),et[0])];return!F.Equals(es,null)&&es.length===0?{$:1,$0:eu}:(ev=(((ea.Curried3(Q.map2))(ew))(em(eq,ep)))(es),Q.forall(function(ex){return ex!=null;},ev)?{$:1,$0:bb.append(eu,bb.collect(function(ex){return ex.$0;},ev))}:null);});};cY.isCorrectMethod=function(ei,ej){return ej!=null&&ej.$==1?ei!=null&&ei.$==1?F.Equals(ej.$0,ei.$0):true:!(ei!=null&&ei.$==1);};cY.rString=function(){dH.$cctor();return dH.rString;};cY.rWildcard=function(){dH.$cctor();return dH.rWildcard;};cZ.Parse=function(ei,ej){function ek(el,em){return el.Segments.$==0?{$:1,$0:em}:null;}return bb.tryPick(function(el){return ek(el[0],el[1]);},ei.Parse(ej));};cZ.HashLink=function(ei,ej){return"#"+cZ.Link(ei,ej);};cZ.Link=function(ei,ej){var ek;ek=cZ.Write(ei,ej);return ek==null?"":ek.$0.ToLink();};cZ.Write=function(ei,ej){var ek;ek=ei.Write(ej);return ek==null?null:{$:1,$0:c0.Combine(ek.$0)};};c0=cX.Route=ea.Class({ToLink:function(){return d5.WriteLink(this.Segments,this.QueryArgs);}},null,c0);c0.FromHash=function(ei,ej){var ek,el;ek=ei.indexOf("#");return ek===-1?c0.get_Empty():(el=ei.substring(ek+1),ej!=null&&ej.$0?el===""||el==="/"?c0.get_Empty():bi.StartsWith(el,"/")?c0.FromUrl(el.substring(1),{$:1,$0:true}):c0.Segment$2(el):c0.FromUrl(ei.substring(ek),{$:1,$0:false}));};c0.Segment=function(ei,ej){var ek;ek=c0.get_Empty();return c0.New(ei,ek.QueryArgs,ek.FormData,ej,ek.Body);};c0.get_Empty=function(){return c0.New(cg.Empty,new cc.New([]),new cc.New([]),null,q.CreateFromValue(null));};c0.FromUrl=function(ei,ej){var ek,el,em;ek=(el=ei.indexOf("?"),el===-1?[ei,new cc.New([])]:[bi.Substring(ei,0,el),c0.ParseQuery(ei.substring(el+1))]);em=c0.get_Empty();return c0.New(bB.ofArray(bi.SplitChars(ek[0],["/"],ej!=null&&ej.$0?0:1)),ek[1],em.FormData,em.Method,em.Body);};c0.Segment$2=function(ei){var ej;ej=c0.get_Empty();return c0.New(bB.ofArray([ei]),ej.QueryArgs,ej.FormData,ej.Method,ej.Body);};c0.ParseQuery=function(ei){return dI.OfArray(Q.ofSeq(Q.choose(function(ej){var ek,el;ek=bi.SplitChars(ej,["="],0);return!F.Equals(ek,null)&&ek.length===2?(el=Q.get(ek,1),{$:1,$0:[Q.get(ek,0),el]}):((function(em){return function(en){return em("wrong format for query argument: "+bz.toSafe(en));};}(function(em){ee.log(em);}))(ej),null);},bi.SplitChars(ei,["&"],0))));};c0.Combine=function(ei){var ej,ek,el,em,en,eo,ep,eq,er,es;ep=Q.ofSeq(ei);eq=Q.length(ep);if(eq===0)return c0.get_Empty();else if(eq===1)return Q.get(ep,0);else{ej=null;ek=null;er=[];el=new cc.New([]);em=new cc.New([]);en=0;es=Q.length(ep);while(en<es)(function(){var et,eu,ev;et=Q.get(ep,en);eu=et.Method;eu!=null&&eu.$==1?ej=eu:void 0;ev=et.Body.f();ev===null?void 0:ek=ev;el=dI.FoldBack(function(ew,ex,ey){return ey.Add(ew,ex);},el,et.QueryArgs);em=dI.FoldBack(function(ew,ex,ey){return ey.Add(ew,ex);},em,et.FormData);bB.iter(function(ew){er.push(ew);},et.Segments);en=en+1;}());return c0.New(bB.ofSeq(er),el,em,ej,q.CreateFromValue(ek));}};c0.New=function(ei,ej,ek,el,em){return new c0({Segments:ei,QueryArgs:ej,FormData:ek,Method:el,Body:em});};c1.$cctor=function(){c1.$cctor=a.ignore;c1.EndPoint="?";c1.AjaxProvider=new dh.New();};c2.fromSeq=function(ei){var ej;ej=Q.ofSeq(bb.delay(function(){return bb.collect(function(ek){return[dj.New(ek[0],ek[1])];},bb.distinctBy(function(ek){return ek[0];},ei));}));Q.sortInPlace(ej);return cf.Build(ej,0,ej.length-1);};c3.New=function(ei,ej,ek,el,em){return{Node:ei,Left:ej,Right:ek,Height:el,Count:em};};c4=J.IdAddress=ea.Class({},null,c4);c5.CreateEmbedNode=function(){return{Current:null,Dirty:false};};c5.UpdateEmbedNode=function(ei,ej){ei.Current=ej;ei.Dirty=true;};c5.CreateRunState=function(ei,ej){return dS.New(dT.get_Empty(),c5.CreateElemNode(ei,c$.EmptyAttr(),ej));};c5.PerformAnimatedUpdate=function(ei,ej,ek){var el;return dB.get_UseAnimations()?(el=null,cB.Delay(function(){var em,en,eo;em=dT.FindAll(ek);en=c5.ComputeChangeAnim(ej,em);eo=c5.ComputeEnterAnim(ej,em);return cB.Bind(dB.Play(dB.Append(en,c5.ComputeExitAnim(ej,em))),function(){return cB.Bind(c5.SyncElemNodesNextFrame(ei,ej),function(){return cB.Bind(dB.Play(eo),function(){ej.PreviousNodes=em;return cB.Return(null);});});});})):c5.SyncElemNodesNextFrame(ei,ej);};c5.PerformSyncUpdate=function(ei,ej,ek){var el;el=dT.FindAll(ek);c5.SyncElemNode(ei,ej.Top);ej.PreviousNodes=el;};c5.CreateTextNode=function(){return{Text:da.CreateText(""),Dirty:false,Value:""};};c5.UpdateTextNode=function(ei,ej){ei.Value=ej;ei.Dirty=true;};c5.LinkElement=function(ei,ej){c5.InsertDoc(ei,ej,null);};c5.InsertBeforeDelim=function(ei,ej){var ek,el;ek=ei.parentNode;el=self.document.createTextNode("");ek.insertBefore(el,ei);c5.LinkPrevElement(ei,ej);return el;};c5.CreateElemNode=function(ei,ej,ek){var el;c5.LinkElement(ei,ek);el=c$.Insert(ei,ej);return dc.New(el,ek,null,ei,b3.Int(),ea.GetOptional(el.OnAfterRender));};c5.SyncElemNodesNextFrame=function(ei,ej){function ek(el){a.requestAnimationFrame(function(){c5.SyncElemNode(ei,ej.Top);el();});}return dC.BatchUpdatesEnabled()?cB.FromContinuations(function(el,em,en){return ek.apply(null,[el,em,en]);}):(c5.SyncElemNode(ei,ej.Top),cB.Return(null));};c5.ComputeExitAnim=function(ei,ej){return dB.Concat(Q.map(function(ek){return c$.GetExitAnim(ek.Attr);},dT.ToArray(dT.Except(ej,dT.Filter(function(ek){return c$.HasExitAnim(ek.Attr);},ei.PreviousNodes)))));};c5.ComputeEnterAnim=function(ei,ej){return dB.Concat(Q.map(function(ek){return c$.GetEnterAnim(ek.Attr);},dT.ToArray(dT.Except(ei.PreviousNodes,dT.Filter(function(ek){return c$.HasEnterAnim(ek.Attr);},ej)))));};c5.ComputeChangeAnim=function(ei,ej){var ek;function el(em){return c$.HasChangeAnim(em.Attr);}ek=function(em){return dT.Filter(el,em);};return dB.Concat(Q.map(function(em){return c$.GetChangeAnim(em.Attr);},dT.ToArray(dT.Intersect(ek(ei.PreviousNodes),ek(ej)))));};c5.SyncElemNode=function(ei,ej){!ei?c5.SyncElement(ej):void 0;c5.Sync(ej.Children);c5.AfterRender(ej);};c5.InsertDoc=function(ei,ej,ek){var el;return ej!=null&&ej.$==1?c5.InsertNode(ei,ej.$0.El,ek):ej!=null&&ej.$==2?(el=ej.$0,(el.Dirty=false,c5.InsertDoc(ei,el.Current,ek))):ej==null?ek:ej!=null&&ej.$==4?c5.InsertNode(ei,ej.$0.Text,ek):ej!=null&&ej.$==5?c5.InsertNode(ei,ej.$0,ek):ej!=null&&ej.$==6?Q.foldBack(function(em,en){return em==null||em.constructor===cx?c5.InsertDoc(ei,em,en):c5.InsertNode(ei,em,en);},ej.$0.Els,ek):c5.InsertDoc(ei,ej.$0,c5.InsertDoc(ei,ej.$1,ek));};c5.LinkPrevElement=function(ei,ej){c5.InsertDoc(ei.parentNode,ej,ei);};c5.SyncElement=function(ei){function ej(ek){function el(em){var en,eo;return em!=null&&em.$==0?el(em.$0)||el(em.$1):em!=null&&em.$==2?(en=em.$0,en.Dirty||el(en.Current)):em!=null&&em.$==6&&(eo=em.$0,eo.Dirty||Q.exists(ej,eo.Holes));}return el(ek.Children);}c$.Sync(ei.El,ei.Attr);ej(ei)?c5.DoSyncElement(ei):void 0;};c5.Sync=function(ei){var ej,ek;if(ei!=null&&ei.$==1)c5.SyncElemNode(false,ei.$0);else if(ei!=null&&ei.$==2)c5.Sync(ei.$0.Current);else if(ei==null);else if(ei!=null&&ei.$==5);else if(ei!=null&&ei.$==4){ej=ei.$0;ej.Dirty?(ej.Text.nodeValue=ej.Value,ej.Dirty=false):void 0;}else if(ei!=null&&ei.$==6){ek=ei.$0;Q.iter(function(el){c5.SyncElemNode(false,el);},ek.Holes);Q.iter(function(el){c$.Sync(el[0],el[1]);},ek.Attrs);c5.AfterRender(ek);}else{c5.Sync(ei.$0);c5.Sync(ei.$1);}};c5.AfterRender=function(ei){var ej;ej=ea.GetOptional(ei.Render);ej!=null&&ej.$==1?(ej.$0(ei.El),ea.SetOptional(ei,"Render",null)):void 0;};c5.InsertNode=function(ei,ej,ek){da.InsertAt(ei,ek,ej);return ej;};c5.DoSyncElement=function(ei){var ej,ek,el;function em(en,eo){var ep,eq;return en!=null&&en.$==1?en.$0.El:en!=null&&en.$==2?(ep=en.$0,ep.Dirty?(ep.Dirty=false,c5.InsertDoc(ej,ep.Current,eo)):em(ep.Current,eo)):en==null?eo:en!=null&&en.$==4?en.$0.Text:en!=null&&en.$==5?en.$0:en!=null&&en.$==6?(eq=en.$0,(eq.Dirty?eq.Dirty=false:void 0,Q.foldBack(function(er,es){return er==null||er.constructor===cx?em(er,es):er;},eq.Els,eo))):em(en.$0,em(en.$1,eo));}ej=ei.El;d9.Iter((ek=ei.El,function(en){da.RemoveNode(ek,en);}),d9.Except(d9.DocChildren(ei),d9.Children(ei.El,ea.GetOptional(ei.Delimiters))));em(ei.Children,(el=ea.GetOptional(ei.Delimiters),el!=null&&el.$==1?el.$0[1]:null));};c6.New=function(ei,ej){return{k:ei,ct:ej};};c7.$cctor=function(){c7.$cctor=a.ignore;c7.noneCT=c8.New(false,[]);c7.scheduler=new dl.New();c7.defCTS=[new dm.New()];c7.Zero=cB.Return();c7.GetCT=function(ei){ei.k({$:0,$0:ei.ct});};};c8.New=function(ei,ej){return{c:ei,r:ej};};c9.DatePortion=function(ei){var ej;ej=new ed(ei);return(new ed(ej.getFullYear(),ej.getMonth(),ej.getDate())).getTime();};c9.TryParse=function(ei){var ej;ej=ed.parse(ei);return a.isNaN(ej)?null:{$:1,$0:ej};};c_.extractNodes=function(ei){var ej,ek;function el(em,en,eo,ep){var eq,er,es,et,eu,ev;eq=c_.extractNodes(eo);er=c_.extractNodes(ep);return(eq.$==0?(et=eq.$0,!F.Equals(et,null)&&et.length===0)?(es=er,true):er.$==0?(eu=er.$0,!F.Equals(eu,null)&&eu.length===0)?(es=eq,true):(es=[eq,er],false):(es=[eq,er],false):er.$==0?(ev=er.$0,!F.Equals(ev,null)&&ev.length===0)?(es=eq,true):(es=[eq,er],false):(es=[eq,er],false))?es:{$:1,$0:{$:0,$0:em,$1:en,$2:es[0],$3:es[1]}};}ej=c_.horizontalSplit(ei);return ej!=null&&ej.$==1?el(false,ej.$0[2],ej.$0[0],ej.$0[1]):(ek=c_.verticalSplit(ei),ek!=null&&ek.$==1?el(true,ek.$0[2],ek.$0[0],ek.$0[1]):{$:0,$0:c_.cleanSpaces(ei)});};c_.createLayoutDefinitions=function(ei,ej){var ek,el,em,en,eo,ep,eq,er,es,et;return ej.$==1?(ek=ej.$0.$0,(el=ej.$0.$1,(em=c_.createLayoutDefinitions(ei+"_1",ej.$0.$2),(en=em[0],(eo=em[1],(ep=c_.createLayoutDefinitions(ei+"_2",ej.$0.$3),(eq=ep[0],(er=ep[1],[ei,Q.ofSeq(bb.delay(function(){return bb.append([bi.concat(" ",bB.ofArray([ei,ek?"vertical":"horizontal",a.String(el),en,eq]))],bb.delay(function(){return bb.append(eo,bb.delay(function(){return er;}));}));}))])))))))):(es=ej.$0,!F.Equals(es,null)&&es.length===0)?["___",[]]:(et=ej.$0,!F.Equals(et,null)&&et.length===1)?[Q.get(ej.$0,0),[]]:[ei,[ei+" div \"\" "+bi.concat(" ",ej.$0)]];};c_.horizontalSplit=function(ei){var ej,ek,el,em,en;function eo(ep,eq){var er,es,et,eu;er=i.REGEX$1("^ *--+([ ^v0-9]*)-* *$","",eq);return er!=null&&er.$==1?{$:1,$0:[[ep,(es=(et=bb.tryItem(1,er.$0),et==null?null:c_.extractMeasuresO(bi.Replace(bi.Replace(et.$0,"^",""),"v","-"))),(eu=new dp({$:1,$0:5,$1:50,$2:95}),es==null?eu:es.$0))],eq.indexOf("-")]}:null;}ej=(ek=bb.tryHead(bb.sortBy(function(ep){return ep[1];},bb.choose(function(ep){return eo(ep[0],ep[1]);},bb.indexed(ei)))),ek==null?null:{$:1,$0:ek.$0[0]});return ej==null?null:{$:1,$0:(el=ej.$0,(em=el[0],(en=el[1],[b5.array(ei,null,{$:1,$0:em-1}),b5.array(ei,{$:1,$0:em+1},null),en])))};};c_.verticalSplit=function(ei){var ej,ek,el,em,en,eo,ep,eq,er,es;function et(ew,ex){var ey,ez,eA;return(ez=i.REGEX$1("^ *\\|+ *$","",ex),ez!=null&&ez.$==1&&(eA=ez.$0,!F.Equals(eA,null)&&eA.length===1))?{$:1,$0:[ew,ex.indexOf("|")]}:null;}function eu(ew){return F.Equals(null,ew);}function ev(ew){return F.Equals(null,ew);}ej=c_.transpose(ei);ek=(el=(em=bb.tryHead(bb.sortBy(function(ew){return ew[1];},bb.choose(function(ew){return et(ew[0],ew[1]);},bb.indexed(ej)))),em==null?null:{$:1,$0:em.$0[0]}),el==null?null:{$:1,$0:(en=el.$0,[c_.transpose(b5.array(ej,null,{$:1,$0:en-1})),c_.transpose(b5.array(ej,{$:1,$0:en+1},null))])});return ek==null?null:{$:1,$0:(eo=ek.$0,(ep=eo[0],(eq=eo[1],[Q.filter(function(ew){return eu(c_.extractMeasuresO(ew));},ep),Q.filter(function(ew){return ev(c_.extractMeasuresO(ew));},eq),(er=bb.tryHead(bb.delay(function(){return bb.append(bb.choose(c_.extractMeasuresO,ep),bb.delay(function(){return bb.map(function(ew){return ew.$==0?ew.$1?new dp({$:0,$0:ew.$0,$1:false}):ew:ew;},bb.choose(c_.extractMeasuresO,eq));}));})),(es=new dp({$:1,$0:5,$1:50,$2:95}),er==null?es:er.$0))])))};};c_.cleanSpaces=function(ei){return Q.filter(function(ej){var ek;return!(ek=(bI.Int())(ej),ek!=null&&ek.$==1);},bi.SplitStrings(bi.concat(" ",ei),[" "],1));};c_.extractMeasuresO=function(ei){var ej,ek,el,em,en,eo,ep;ej=bi.SplitChars(ei,[" "],1);return!F.Equals(ej,null)&&ej.length===1&&(el=(bI.Int())(Q.get(ej,0)),el!=null&&el.$==1&&(ek=el.$0,true))?{$:1,$0:new dp({$:0,$0:eb.abs(ek),$1:ek>=0})}:!F.Equals(ej,null)&&ej.length===3&&(en=(bI.Int())(Q.get(ej,0)),en!=null&&en.$==1&&(eo=(bI.Int())(Q.get(ej,1)),eo!=null&&eo.$==1&&(ep=(bI.Int())(Q.get(ej,2)),ep!=null&&ep.$==1&&(em=[ep.$0,en.$0,eo.$0],true))))?{$:1,$0:new dp({$:1,$0:em[1],$1:em[2],$2:em[0]})}:null;};c_.transpose=function(ei){var ej;ej=bb.max(bb.map(function(ek){return ek.length;},ei));return Q.ofSeq(bb.delay(function(){return bb.map(function(ek){return Q.ofSeq(bb.delay(function(){return bb.map(function(el){return el.length>ek?el[ek]:" ";},ei);})).join("");},n.range(0,ej-1));}));};c$.Static=function(ei){return new cS({$:3,$0:ei});};c$.Dynamic=function(ei,ej){return new cS({$:1,$0:new dN.New(ei,ej)});};c$.AppendTree=function(ei,ej){var ek;return ei===null?ej:ej===null?ei:(ek=new cS({$:2,$0:ei,$1:ej}),(c$.SetFlags(ek,c$.Flags(ei)|c$.Flags(ej)),ek));};c$.EmptyAttr=function(){d1.$cctor();return d1.EmptyAttr;};c$.Insert=function(ei,ej){var ek,el,em;function en(eo){if(!(eo===null))if(eo!=null&&eo.$==1)ek.push(eo.$0);else if(eo!=null&&eo.$==2){en(eo.$0);en(eo.$1);}else if(eo!=null&&eo.$==3)eo.$0(ei);else if(eo!=null&&eo.$==4)el.push(eo.$0);}ek=[];el=[];en(ej);em=ek.slice(0);return dz.New(ei,c$.Flags(ej),em,el.length===0?null:{$:1,$0:function(eo){bb.iter(function(ep){ep(eo);},el);}});};c$.Updates=function(ei){return cz.MapTreeReduce(function(ej){return ej.NChanged();},o.Const(),o.Map2Unit,ei.DynNodes);};c$.Empty=function(ei){return dz.New(ei,0,[],null);};c$.SetFlags=function(ei,ej){ei.flags=ej;};c$.Flags=function(ei){return ei!==null&&ei.hasOwnProperty("flags")?ei.flags:0;};c$.HasExitAnim=function(ei){var ej;ej=2;return(ei.DynFlags&ej)===ej;};c$.GetExitAnim=function(ei){return c$.GetAnim(ei,function(ej,ek){return ej.NGetExitAnim(ek);});};c$.HasEnterAnim=function(ei){var ej;ej=1;return(ei.DynFlags&ej)===ej;};c$.GetEnterAnim=function(ei){return c$.GetAnim(ei,function(ej,ek){return ej.NGetEnterAnim(ek);});};c$.HasChangeAnim=function(ei){var ej;ej=4;return(ei.DynFlags&ej)===ej;};c$.GetChangeAnim=function(ei){return c$.GetAnim(ei,function(ej,ek){return ej.NGetChangeAnim(ek);});};c$.GetAnim=function(ei,ej){return dB.Concat(Q.map(function(ek){return ej(ek,ei.DynElem);},ei.DynNodes));};c$.Sync=function(ei,ej){Q.iter(function(ek){ek.NSync(ei);},ej.DynNodes);};da.SetStyle=function(ei,ej,ek){da.SetProperty(ei.style,ej,ek);};da.ChildrenArray=function(ei){var ej,ek,el;ej=[];for(ek=0,el=ei.childNodes.length-1;ek<=el;ek++)ej.push(ei.childNodes[ek]);return ej;};da.CreateText=function(ei){return da.Doc().createTextNode(ei);};da.SetAttr=function(ei,ej,ek){ei.setAttribute(ej,ek);};da.SetProperty=function(ei,ej,ek){return ei.setProperty(ej,ek);};da.CreateElement=function(ei){return da.Doc().createElement(ei);};da.IterSelector=function(ei,ej,ek){var el,em,en;el=ei.querySelectorAll(ej);for(em=0,en=el.length-1;em<=en;em++)ek(el[em]);};da.Doc=function(){dY.$cctor();return dY.Doc;};da.RemoveAttr=function(ei,ej){ei.removeAttribute(ej);};da.RemoveClass=function(ei,ej){var ek;da.setClass(ei,(ek=da.clsRE(ej),da.getClass(ei).replace(ek,function(el,em,en){return em===""||en===""?"":" ";})));};da.AddClass=function(ei,ej){var ek;ek=da.getClass(ei);ek===""?da.setClass(ei,ej):!da.clsRE(ej).test(ek)?da.setClass(ei,ek+" "+ej):void 0;};da.setClass=function(ei,ej){if(ei instanceof a.SVGElement)ei.setAttribute("class",ej);else ei.className=ej;};da.getClass=function(ei){return ei instanceof a.SVGElement?ei.getAttribute("class"):ei.className;};da.clsRE=function(ei){return new a.RegExp("(\\s+|^)"+ei+"(?:\\s+"+ei+")*(\\s+|$)","g");};da.InsertAt=function(ei,ej,ek){var el;if(!(ek.parentNode===ei&&ej===(el=ek.nextSibling,F.Equals(el,null)?null:el)))ei.insertBefore(ek,ej);};da.RemoveNode=function(ei,ej){if(ej.parentNode===ei)ei.removeChild(ej);};bV.TryParse=function(ei,ej,ek,el){var em,en;em=+ei;en=em===em-em%1&&em>=ej&&em<=ek;en?el.set(em):void 0;return en;};bV.TryParseBool=function(ei,ej){var ek;ek=ei.toLowerCase();return ek==="true"?(ej.set(true),true):ek==="false"&&(ej.set(false),true);};db=cL.WcSplitterT=ea.Class({connectedCallback:function(){var ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex;function ey(eG){var eH,eI,eJ,eK;eH=ep?["padding-left","padding-right","grid-column-gap"]:["padding-top","padding-bottom","grid-row-gap"];eI=a.parseFloat("0"+ec(eG.parentElement.parentElement).css(eH[0]));eJ=a.parseFloat("0"+ec(eG.parentElement.parentElement).css(eH[1]));es.Set(a.parseFloat("0"+ec(eG.parentElement.parentElement).css(eH[2])));er[0]=eI+eJ;eK=ei.getBoundingClientRect();return ep?eo?[eK.width,eK.height]:[-eK.width,eK.height]:eo?[eK.height,eK.width]:[-eK.height,eK.width];}function ez(eG){return ep?eG.clientX:eG.clientY;}function eA(eG){var eH,eI;eH=(ez(eG)-ev[0])*100/eq[0][0]+eu[0];en.Set((eI=F.Compare(el,eH)===1?el:eH,F.Compare(em,eI)===-1?em:eI));}function eB(){if(et[0]){et[0]=false;self.removeEventListener("mousemove",eA,false);self.removeEventListener("mouseup",eB,false);}}function eC(eG){var eH,eI;if(!et[0]){et[0]=true;eu[0]=en.Get();ev[0]=ez(eG);eq[0]=(eH=(eI=ew[0],eI==null?null:{$:1,$0:ey(eI.$0)}),eH==null?[100,500]:eH.$0);self.addEventListener("mousemove",eA,false);self.addEventListener("mouseup",eB,false);eG.preventDefault();}}function eD(eG,eH,eI,eJ){return[(eG-eH-eI)*eJ/100,(eG-eH-eI)*(100-eJ)/100];}function eE(eG,eH){return(((((ea.Curried(function(eI,eJ,eK,eL,eM){return eI(" "+eJ.toFixed(2)+"px "+eK.toFixed(2)+"px ; "+bz.toSafe(eL)+" : "+eM.toFixed(2)+"px; ");},5))(a.id))(eG))(eH))(ep?"height":"width"))(eq[0][1]);}function eF(){var eG;eG=ew[0];eG==null?void 0:eq[0]=ey(eG.$0);en.Set(en.Get());}if(!this.added){ei=this;ej=ei.attachShadow({mode:"open"});ek=self.document.createElement("div");el=ei.hasAttribute("min")?a.parseFloat(ei.getAttribute("min")):4;em=ei.hasAttribute("max")?a.parseFloat(ei.getAttribute("max")):96;en=h.Create$1(ei.hasAttribute("value")?a.parseFloat(ei.getAttribute("value")):50);eo=!ei.hasAttribute("second");ep=ei.hasAttribute("vertical");eq=[[0,0]];er=[0];es=h.Create$1(0);et=[false];eu=[0];ev=[0];ew=[null];ex=(((((ep?cL.layoutVertical():cL.layoutHorizontal())(o.Map(function(eG){var eH;eH=eD(eq[0][0],es.Get(),er[0],eG);return eE.apply(null,eH);},en.get_View())))(function(){dv.addResizeObserver(eF,ei);eF();}))(function(eG){ew[0]={$:1,$0:eG};eF();}))(function(eG){eC(eG);}))(o.Map(function(eG){return function(eH){return eG(bz.prettyPrint(eH)+"px");};}(a.id),es.get_View()));cV.LoadLocalTemplates("");W.Run(ek,ex);ej.appendChild(ek.firstChild);this.added=true;}}},f,db);db.Constructor=function(){var ei,ej;ei=(ej=eg.construct(self.HTMLElement,[],this.__proto__.constructor),ej);self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New.call(ei);return ei;};db.New=ea.Ctor(function(){f.New.call(this);this.added=false;(function(ei){return ei("WcSplitterT initializer");}(function(ei){ee.log(ei);}));},db);dc=g.DocElemNode=ea.Class({Equals:function(ei){return this.ElKey===ei.ElKey;},GetHashCode:function(){return this.ElKey;}},null,dc);dc.New=function(ei,ej,ek,el,em,en){var eo;return new dc((eo={Attr:ei,Children:ej,El:el,ElKey:em},(ea.SetOptional(eo,"Delimiters",ek),ea.SetOptional(eo,"Render",en),eo)));};de.$cctor=function(){de.$cctor=a.ignore;de.counter=0;};df.New$1=function(ei,ej){return{Parse:ei,Write:ej};};dg.startsWith=function(ei,ej){var ek;switch(ei.$==1?ej.$==1?F.Equals(ei.$0,ej.$0)?(ek=[ej.$0,ej.$1,ei.$0,ei.$1],1):2:2:0){case 0:return{$:1,$0:ej};case 1:return dg.startsWith(ek[3],ek[1]);case 2:return null;}};dh=bM.XhrProvider=ea.Class({Async:function(ei,ej,ek,el,em){bM.ajax(true,ei,ej,ek,el,em,function(){bM.ajax(true,ei,ej,ek,el,em,void 0);});}},f,dh);dh.New=ea.Ctor(function(){f.New.call(this);},dh);di=e.TaskCompletionSource=ea.Class({SetResult:function(ei){this.task.get_IsCompleted()?n.FailWith("Task already completed."):void 0;this.task.status=5;this.task.result=ei;this.task.RunContinuations();},SetException$1:function(ei){this.task.get_IsCompleted()?n.FailWith("Task already completed."):void 0;this.task.status=7;this.task.exc=new dL.New$3([ei]);this.task.RunContinuations();},SetCanceled:function(){this.task.get_IsCompleted()?n.FailWith("Task already completed."):void 0;this.task.status=6;this.task.RunContinuations();},get_Task:function(){return this.task;}},f,di);di.New=ea.Ctor(function(){f.New.call(this);this.task=new dK.New$4(null,cB.noneCT(),1,null,void 0);},di);dj=bf.Pair=ea.Class({Equals:function(ei){return F.Equals(this.Key,ei.Key);},GetHashCode:function(){return F.Hash(this.Key);},CompareTo0:function(ei){return F.Compare(this.Key,ei.Key);}},null,dj);dj.New=function(ei,ej){return new dj({Key:ei,Value:ej});};dk.Activate=function(ei){var ej,el,em,en,eo,ep,eq;function ek(er){var es,et,eu,ev,ew;if(F.Equals(er,null))return er;else if(typeof er=="object"){if(er instanceof a.Array)return dk.shallowMap(ek,er);else{es=dk.shallowMap(ek,er.$V);et=er.$T;if(et===void 0)return es;else{eu=Q.get(el,et);if(eu===1)return bB.ofArray(es);else if(eu===2)return self.WebSharper.Decimal.CreateDecimalBits(es);else{ev=new(Q.get(el,et))();for(var ex in es)if(function(ey){ev[ey]=es[ey];return false;}(ex))break;return ev;}}}}else return er;}el=ei?ei.$TYPES:void 0;if(el===void 0)ej=ei;else{for(em=0,en=Q.length(el)-1;em<=en;em++){eq=Q.get(el,em);switch(!F.Equals(eq,null)&&eq.length===3?Q.get(eq,0)==="WebSharper"?Q.get(eq,1)==="List"?Q.get(eq,2)==="T"?0:(ep=eq,2):(ep=eq,2):(ep=eq,2):!F.Equals(eq,null)&&eq.length===2?Q.get(eq,0)==="WebSharper"?Q.get(eq,1)==="Decimal"?1:(ep=eq,2):(ep=eq,2):(ep=eq,2)){case 0:eo=1;break;case 1:eo=2;break;case 2:eo=dk.lookup(ep);break;}Q.set(el,em,eo);}ej=ei.$DATA;}return ek(ej);};dk.shallowMap=function(ei,ej){var ek,el;if(ej instanceof a.Array)return Q.map(ei,ej);else if(typeof ej=="object"){ek={};for(var em in ej)if(function(en){ek[en]=ei(ej[en]);return false;}(em))break;return ek;}else return ej;};dk.lookup=function(ei){var ej,ek,el,em,en;el=Q.length(ei);ej=self;ek=0;while(ek<el){em=Q.get(ei,ek);en=ej[em];!F.Equals(typeof en,void 0)?(ej=en,ek=ek+1):n.FailWith("Invalid server reply. Failed to find type: "+em);}return ej;};dl=cB.Scheduler=ea.Class({Fork:function(ei){var ej;ej=this;this.robin.push(ei);this.idle?(this.idle=false,a.setTimeout(function(){ej.tick();},0)):void 0;},tick:function(){var ei,ej,ek;ej=this;ek=ed.now();ei=true;while(ei)if(this.robin.length===0){this.idle=true;ei=false;}else{(this.robin.shift())();ed.now()-ek>40?(a.setTimeout(function(){ej.tick();},0),ei=false):void 0;}}},f,dl);dl.New=ea.Ctor(function(){f.New.call(this);this.idle=true;this.robin=[];},dl);dm=e.CancellationTokenSource=ea.Class({Cancel$1:function(){var ei;if(!this.c){this.c=true;ei=Q.choose(function(ej){try{ej();return null;}catch(ek){return{$:1,$0:ek};}},this.r);if(Q.length(ei)>0)throw new dL.New$3(ei);else void 0;}}},f,dm);dm.New=ea.Ctor(function(){f.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},dm);_do.DecodeArray=function(ei){return _do.EncodeArray(ei);};_do.EncodeArray=ea.Curried3(function(ei,ej,ek){return Q.map(ei(),ek);});_do.DecodeTuple=function(ei){return _do.EncodeTuple(ei);};_do.Id=ea.Curried3(function(ei,ej,ek){return ek;});_do.EncodeTuple=ea.Curried3(function(ei,ej,ek){return Q.map2(function(el,em){return(el(null))(em);},ei,ek);});_do.DecodeUnion=function(ei,ej,ek){return function(){return function(el){var em,en,eq,er,es;function eo(et,eu){return et===en;}function ep(et,eu,ev,ew){var ex;if(et===null){ex=(ev(null))(el);eu?delete ex[ej]:void 0;eq.$0=ex;}else if(ew===0)eq[et]=(ev(null))(el[eu]);else if(ew===1)eq[et]=el.hasOwnProperty(eu)?{$:1,$0:(ev(null))(el[eu])}:null;else n.FailWith("Invalid field option kind");}if(typeof el==="object"&&el!=null){eq=ei===void 0?{}:new ei();if(F.Equals(typeof ej,"string"))em=(en=el[ej],Q.findIndex(function(et){return eo(et[0],et[1]);},ek));else{er=[void 0];for(var et in ej)if(function(eu){return el.hasOwnProperty(eu)&&(er[0]=ej[eu],true);}(et))break;em=er[0];}eq.$=em;Q.iter(function(eu){return ep(eu[0],eu[1],eu[2],eu[3]);},(Q.get(ek,em))[1]);return eq;}else return el;};};};_do.EncodeUnion=function(ei,ej,ek){return function(){return function(el){var em,en;function eo(ep,eq,er,es){var et,eu,ev;if(ep===null){et=(er(null))(el.$0);for(var ew in et)if(function(ex){em[ex]=et[ex];return false;}(ew))break;}else if(es===0)em[eq]=(er(null))(el[ep]);else if(es===1){ev=el[ep];ev==null?void 0:em[eq]=(er(null))(ev.$0);}else n.FailWith("Invalid field option kind");}return typeof el==="object"&&el!=null?(em={},(en=Q.get(ek,el.$),(F.Equals(typeof ej,"string")?em[ej]=en[0]:void 0,Q.iter(function(ep){return eo(ep[0],ep[1],ep[2],ep[3]);},en[1]),em))):el;};};};_do.DecodeRecord=function(ei,ej){return function(){return function(ek){var el;function em(en,eo,ep){if(ep===0){if(ek.hasOwnProperty(en))el[en]=(eo(null))(ek[en]);else n.FailWith("Missing mandatory field: "+en);}else if(ep===1)el[en]=ek.hasOwnProperty(en)?{$:1,$0:(eo(null))(ek[en])}:null;else if(ep===2){if(ek.hasOwnProperty(en))el[en]=(eo(null))(ek[en]);}else if(ep===3){if(ek[en]===void 0)el[en]=(eo(null))(ek[en]);}else n.FailWith("Invalid field option kind");}el=ei===void 0?{}:new ei();Q.iter(function(en){return em(en[0],en[1],en[2]);},ej);return el;};};};_do.DecodeDateTime=ea.Curried3(function(ei,ej,ek){return ek.hasOwnProperty("d")?(new ed(ek.d)).getTime():(new ed(ek)).getTime();});_do.EncodeRecord=function(ei,ej){return function(){return function(ek){var el;function em(en,eo,ep){var eq;if(ep===0)el[en]=(eo(null))(ek[en]);else if(ep===1){eq=ek[en];eq==null?void 0:el[en]=(eo(null))(eq.$0);}else if(ep===2){if(ek.hasOwnProperty(en))el[en]=(eo(null))(ek[en]);}else if(ep===3){if(ek[en]===void 0)el[en]=(eo(null))(ek[en]);}else n.FailWith("Invalid field option kind");}el={};Q.iter(function(en){return em(en[0],en[1],en[2]);},ej);return el;};};};_do.EncodeDateTime=ea.Curried3(function(ei,ej,ek){return(new ed(ek)).toISOString();});dp=G.Measures=ea.Class({toString:function(){return this.$==1?((((ea.Curried(function(ei,ej,ek,el){return ei(a.String(ej)+"-"+a.String(ek)+"-"+a.String(el));},4))(a.id))(n.toInt(this.$0)))(n.toInt(this.$1)))(n.toInt(this.$2)):a.String(n.toInt(this.$1?this.$0:-this.$0));}},null,dp);dr=dq.Hoverable=ea.Class({Content:function(ei){return ei.on("mouseenter",function(){return da.AddClass(ei.elt,"hovering");}).on("mouseleave",function(){return da.RemoveClass(ei.elt,"hovering");});}},null,dr);dr.New$1=function(){return dr.New(h.Create$1(false));};dr.New=function(ei){return new dr({hover:ei});};ds.InMemory=function(ei){return new dO.New(ei);};dv.addResizeObserver=function(ei,ej){var ek,el,em,en;try{ek=!(!a.ResizeObserver);}catch(eo){ek=false;}if(ek){el=new a.ResizeObserver(ei);dv.set_observers(new cg({$:1,$0:el,$1:dv.observers()}));el.observe(ej);}else{em=dv.dimsChanged(ej);cB.Start((en=null,cB.Delay(function(){return cB.While(function(){return ej.isConnected;},cB.Delay(function(){return cB.Bind(cB.Sleep(110),function(){return em()?(ei(),cB.Zero()):cB.Zero();});}));})),null);}};dv.set_observers=function(ei){bQ.$cctor();bQ.observers=ei;};dv.observers=function(){bQ.$cctor();return bQ.observers;};dv.dimsChanged=function(ei){var ej;ej=[ei.getBoundingClientRect()];return function(){var ek;ek=ei.getBoundingClientRect();return F.Equals(dv.domRect2Tuple(ej[0]),dv.domRect2Tuple(ek))?false:(ej[0]=ek,true);};};dv.domRect2Tuple=function(ei){return[ei.top,ei.left,ei.width,ei.height];};dw.$cctor=function(){dw.$cctor=a.ignore;dw.LoadedTemplates=new bY.New$5();dw.LocalTemplatesLoaded=false;dw.TextHoleRE="\\${([^}]+)}";};dx=g.Elt=ea.Class({on:function(ei,ej){var ek;ek=this;this.elt.addEventListener(ei,function(el){return ej(ek.elt,el);},false);return this;}},W,dx);dx.TreeNode=function(ei,ej){var ek,el;function em(en){return en[1];}ek=dQ.Create(ej);return new dx.New$1({$:6,$0:ei},o.Map2Unit((el=Q.map(function(en){return c$.Updates(em(en));},ei.Attrs),cz.TreeReduce(o.Const(),o.Map2Unit,el)),ek.v),Q.get(ei.Els,0),ek);};dx.New=function(ei,ej,ek){var el,em;el=c5.CreateElemNode(ei,ej,ek.docNode);em=dQ.Create(ek.updates);return new dx.New$1({$:1,$0:el},o.Map2Unit(c$.Updates(el.Attr),em.v),ei,em);};dx.New$1=ea.Ctor(function(ei,ej,ek,el){W.New.call(this,ei,ej);this.docNode$1=ei;this.updates$1=ej;this.elt=ek;this.rvUpdates=el;},dx);dz.New=function(ei,ej,ek,el){var em;em={DynElem:ei,DynFlags:ej,DynNodes:ek};ea.SetOptional(em,"OnAfterRender",el);return em;};dA.convertTextNode=function(ei){var ej,ek,el,em,en,eo;ej=null;ek=0;em=ei.textContent;en=new a.RegExp(cV.TextHoleRE(),"g");while(ej=en.exec(em),ej!==null){ei.parentNode.insertBefore(self.document.createTextNode(b5.string(em,{$:1,$0:ek},{$:1,$0:en.lastIndex-Q.get(ej,0).length-1})),ei);ek=en.lastIndex;eo=self.document.createElement("span");eo.setAttribute("ws-replace",Q.get(ej,1).toLowerCase());ei.parentNode.insertBefore(eo,ei);}en.lastIndex=0;ei.textContent=b5.string(em,{$:1,$0:ek},null);};dA.failNotLoaded=function(ei){ee.warn("Instantiating non-loaded template",ei);};dA.fillTextHole=function(ei,ej,ek){var el;el=ei.querySelector("[ws-replace]");return F.Equals(el,null)?(ee.warn("Filling non-existent text hole",ek),null):(el.parentNode.replaceChild(new a.Text(ej),el),{$:1,$0:el.getAttribute("ws-replace")});};dA.removeHolesExcept=function(ei,ej){function ek(el){da.IterSelector(ei,"["+el+"]",function(em){if(!ej.Contains(em.getAttribute(el)))em.removeAttribute(el);});}ek("ws-attr");ek("ws-onafterrender");ek("ws-var");da.IterSelector(ei,"[ws-hole]",function(el){if(!ej.Contains(el.getAttribute("ws-hole"))){el.removeAttribute("ws-hole");while(el.hasChildNodes())el.removeChild(el.lastChild);}});da.IterSelector(ei,"[ws-replace]",function(el){if(!ej.Contains(el.getAttribute("ws-replace")))el.parentNode.removeChild(el);});da.IterSelector(ei,"[ws-on]",function(el){el.setAttribute("ws-on",bi.concat(" ",Q.filter(function(em){return ej.Contains(Q.get(bi.SplitChars(em,[":"],1),1));},bi.SplitChars(el.getAttribute("ws-on"),[" "],1))));});da.IterSelector(ei,"[ws-attr-holes]",function(el){var em,en,eo,ep,eq;em=bi.SplitChars(el.getAttribute("ws-attr-holes"),[" "],1);for(en=0,eo=em.length-1;en<=eo;en++){ep=Q.get(em,en);el.setAttribute(ep,(eq=new a.RegExp(cV.TextHoleRE(),"g"),el.getAttribute(ep).replace(eq,function(er,es){return ej.Contains(es)?er:"";})));}});};dA.fillInstanceAttrs=function(ei,ej){var ek,el,em,en,eo;dA.convertAttrs(ej);ek=ej.nodeName.toLowerCase();el=ei.querySelector("[ws-attr="+ek+"]");if(F.Equals(el,null))ee.warn("Filling non-existent attr hole",ek);else{el.removeAttribute("ws-attr");for(em=0,en=ej.attributes.length-1;em<=en;em++){eo=ej.attributes.item(em);eo.name==="class"&&el.hasAttribute("class")?el.setAttribute("class",el.getAttribute("class")+" "+eo.nodeValue):el.setAttribute(eo.name,eo.nodeValue);}}};dA.mapHoles=function(ei,ej){function ek(el){da.IterSelector(ei,"["+el+"]",function(em){var en,eo;en=(eo=null,[ej.TryGetValue(em.getAttribute(el).toLowerCase(),{get:function(){return eo;},set:function(ep){eo=ep;}}),eo]);en[0]?em.setAttribute(el,en[1]):void 0;});}ek("ws-hole");ek("ws-replace");ek("ws-attr");ek("ws-onafterrender");ek("ws-var");da.IterSelector(ei,"[ws-on]",function(el){el.setAttribute("ws-on",bi.concat(" ",Q.map(function(em){var en,eo,ep;en=bi.SplitChars(em,[":"],1);eo=(ep=null,[ej.TryGetValue(Q.get(en,1),{get:function(){return ep;},set:function(eq){ep=eq;}}),ep]);return eo[0]?Q.get(en,0)+":"+eo[1]:em;},bi.SplitChars(el.getAttribute("ws-on"),[" "],1))));});da.IterSelector(ei,"[ws-attr-holes]",function(el){var em,en,eo;em=bi.SplitChars(el.getAttribute("ws-attr-holes"),[" "],1);for(en=0,eo=em.length-1;en<=eo;en++)(function(){var ep;function eq(er,es){var et;et=n.KeyValue(es);return er.replace(new a.RegExp("\\${"+et[0]+"}","ig"),"${"+et[1]+"}");}ep=Q.get(em,en);return el.setAttribute(ep,(((ea.Curried3(bb.fold))(eq))(el.getAttribute(ep)))(ej));}());});};dA.fill=function(ei,ej,ek){while(true)if(ei.hasChildNodes())ek=ej.insertBefore(ei.lastChild,ek);else return null;};dA.convertAttrs=function(ei){var ek,el,em,en,eo,ep,eq,er;function ej(es){var et;et=ei.getAttribute(es);et===null?void 0:ei.setAttribute(es,et.toLowerCase());}ek=ei.attributes;el=[];em=[];en=[];for(eo=0,ep=ek.length-1;eo<=ep;eo++){eq=ek.item(eo);bi.StartsWith(eq.nodeName,"ws-on")&&eq.nodeName!=="ws-onafterrender"&&eq.nodeName!=="ws-on"?(el.push(eq.nodeName),em.push(b5.string(eq.nodeName,{$:1,$0:"ws-on".length},null)+":"+eq.nodeValue.toLowerCase())):!bi.StartsWith(eq.nodeName,"ws-")&&(new a.RegExp(cV.TextHoleRE())).test(eq.nodeValue)?(eq.nodeValue=(er=new a.RegExp(cV.TextHoleRE(),"g"),eq.nodeValue.replace(er,function(es,et){return"${"+et.toLowerCase()+"}";})),en.push(eq.nodeName)):void 0;}!(em.length==0)?ei.setAttribute("ws-on",bi.concat(" ",em)):void 0;!(en.length==0)?ei.setAttribute("ws-attr-holes",bi.concat(" ",en)):void 0;ej("ws-hole");ej("ws-replace");ej("ws-attr");ej("ws-onafterrender");ej("ws-var");Q.iter(function(es){ei.removeAttribute(es);},el);};dB.get_UseAnimations=function(){return dU.UseAnimations();};dB.Play=function(ei){var ej;ej=null;return cB.Delay(function(){return cB.Bind(dB.Run(a.ignore,dU.Actions(ei)),function(){dU.Finalize(ei);return cB.Return(null);});});};dB.Append=function(ei,ej){return{$:0,$0:d4.Append(ei.$0,ej.$0)};};dB.Run=function(ei,ej){var ek;function el(em){function en(eo,ep){var eq;eq=ep-eo;ej.Compute(eq);ei();return eq<=ek?void a.requestAnimationFrame(function(er){en(eo,er);}):em();}a.requestAnimationFrame(function(eo){en(eo,eo);});}ek=ej.Duration;return ek===0?cB.Zero():cB.FromContinuations(function(em,en,eo){return el.apply(null,[em,en,eo]);});};dB.Concat=function(ei){return{$:0,$0:d4.Concat(bb.map(dU.List,ei))};};dB.get_Empty=function(){return{$:0,$0:d4.Empty()};};dC.BatchUpdatesEnabled=function(){dV.$cctor();return dV.BatchUpdatesEnabled;};dD.StartProcessor=function(ei){var ej;function ek(){var el;el=null;return cB.Delay(function(){return cB.Bind(ei,function(){var em;em=ej[0];return em===1?(ej[0]=0,cB.Zero()):em===2?(ej[0]=1,ek()):cB.Zero();});});}ej=[0];return function(){var el;el=ej[0];el===0?(ej[0]=1,cB.Start(ek(),null)):el===1?ej[0]=2:void 0;};};dF=e.OperationCanceledException=ea.Class({},dE,dF);dF.New=ea.Ctor(function(ei){dF.New$1.call(this,"The operation was canceled.",null,ei);},dF);dF.New$1=ea.Ctor(function(ei,ej,ek){this.message=ei;this.inner=ej;cx.setPrototypeOf(this,dF.prototype);this.ct=ek;},dF);dG.concat=function(ei){var ej,ek;ej=[];for(var el in ei)ej.push.apply(ej,ei[el]);return ej;};bc["String.get_toUnderscore$1"]=function(ei,ej){return Q.ofSeq(bb.collect(a.id,bb.mapi(function(ek,el){return ek>0&&dW.IsUpper(el)?bB.ofArray(["_",el]):bB.ofArray([el]);},ei))).join("");};dH.$cctor=function(){dH.$cctor=a.ignore;function ei(ej){var ek,el;ek=(el=0,[bV.TryParseInt32(ej,{get:function(){return el;},set:function(em){el=em;}}),el]);return ek[0]?{$:1,$0:ek[1]}:null;}dH.Empty=df.New$1(function(){return[];},function(){return null;});dH.rRoot=df.New(function(ej){return[ej];},[]);dH.rString=df.New$1(function(ej){var ek,el;ek=ej.Segments;return ek.$==1?(el=dX.read(ek.$0),el!=null&&el.$==1?[[c0.New(ek.$1,ej.QueryArgs,ej.FormData,ej.Method,ej.Body),el.$0]]:[]):[];},function(ej){return{$:1,$0:[c0.Segment$2(ej==null?"null":dX.write(ej))]};});dH.rChar=df.New$1(function(ej){var ek,el,em;ek=ej.Segments;return ek.$==1?(el=dX.read(ek.$0),el!=null&&el.$==1&&(el.$0.length===1&&(em=el.$0,true))?[[c0.New(ek.$1,ej.QueryArgs,ej.FormData,ej.Method,ej.Body),dW.Parse(em)]]:[]):[];},function(ej){return{$:1,$0:[c0.Segment$2(ej)]};});dH.rGuid=df.New$1(function(ej){var ek,el;ek=ej.Segments;return ek.$==1?(el=null,bu.TryParse(ek.$0,{get:function(){return el;},set:function(em){el=em;}})?[[c0.New(ek.$1,ej.QueryArgs,ej.FormData,ej.Method,ej.Body),el]]:[]):[];},function(ej){return{$:1,$0:[c0.Segment$2(a.String(ej))]};});dH.rInt=df.New$1(function(ej){var ek,el;ek=ej.Segments;return ek.$==1?(el=0,bV.TryParseInt32(ek.$0,{get:function(){return el;},set:function(em){el=em;}})?[[c0.New(ek.$1,ej.QueryArgs,ej.FormData,ej.Method,ej.Body),el]]:[]):[];},function(ej){return{$:1,$0:[c0.Segment$2(a.String(ej))]};});dH.rDouble=df.New$1(function(ej){var ek,el,em;ek=ej.Segments;return ek.$==1?(el=0,(em=a.Number(ek.$0),a.isNaN(em)?false:(el=em,true))?[[c0.New(ek.$1,ej.QueryArgs,ej.FormData,ej.Method,ej.Body),el]]:[]):[];},function(ej){return{$:1,$0:[c0.Segment$2(a.String(ej))]};});dH.rSByte=df.New$1(function(ej){var ek,el;ek=ej.Segments;return ek.$==1?(el=0,bV.TryParseSByte(ek.$0,{get:function(){return el;},set:function(em){el=em;}})?[[c0.New(ek.$1,ej.QueryArgs,ej.FormData,ej.Method,ej.Body),el]]:[]):[];},function(ej){return{$:1,$0:[c0.Segment$2(a.String(ej))]};});dH.rByte=df.New$1(function(ej){var ek,el;ek=ej.Segments;return ek.$==1?(el=0,bV.TryParseByte(ek.$0,{get:function(){return el;},set:function(em){el=em;}})?[[c0.New(ek.$1,ej.QueryArgs,ej.FormData,ej.Method,ej.Body),el]]:[]):[];},function(ej){return{$:1,$0:[c0.Segment$2(a.String(ej))]};});dH.rInt16=df.New$1(function(ej){var ek,el;ek=ej.Segments;return ek.$==1?(el=0,bV.TryParseInt16(ek.$0,{get:function(){return el;},set:function(em){el=em;}})?[[c0.New(ek.$1,ej.QueryArgs,ej.FormData,ej.Method,ej.Body),el]]:[]):[];},function(ej){return{$:1,$0:[c0.Segment$2(a.String(ej))]};});dH.rUInt16=df.New$1(function(ej){var ek,el;ek=ej.Segments;return ek.$==1?(el=0,bV.TryParseUInt16(ek.$0,{get:function(){return el;},set:function(em){el=em;}})?[[c0.New(ek.$1,ej.QueryArgs,ej.FormData,ej.Method,ej.Body),el]]:[]):[];},function(ej){return{$:1,$0:[c0.Segment$2(a.String(ej))]};});dH.rUInt=df.New$1(function(ej){var ek,el;ek=ej.Segments;return ek.$==1?(el=0,bV.TryParseUInt32(ek.$0,{get:function(){return el;},set:function(em){el=em;}})?[[c0.New(ek.$1,ej.QueryArgs,ej.FormData,ej.Method,ej.Body),el]]:[]):[];},function(ej){return{$:1,$0:[c0.Segment$2(a.String(ej))]};});dH.rInt64=df.New$1(function(ej){var ek,el;ek=ej.Segments;return ek.$==1?(el=0,bV.TryParseInt64(ek.$0,{get:function(){return el;},set:function(em){el=em;}})?[[c0.New(ek.$1,ej.QueryArgs,ej.FormData,ej.Method,ej.Body),el]]:[]):[];},function(ej){return{$:1,$0:[c0.Segment$2(a.String(ej))]};});dH.rUInt64=df.New$1(function(ej){var ek,el;ek=ej.Segments;return ek.$==1?(el=0,bV.TryParseUInt64(ek.$0,{get:function(){return el;},set:function(em){el=em;}})?[[c0.New(ek.$1,ej.QueryArgs,ej.FormData,ej.Method,ej.Body),el]]:[]):[];},function(ej){return{$:1,$0:[c0.Segment$2(a.String(ej))]};});dH.rSingle=df.New$1(function(ej){var ek,el,em;ek=ej.Segments;return ek.$==1?(el=0,(em=a.Number(ek.$0),a.isNaN(em)?false:(el=em,true))?[[c0.New(ek.$1,ej.QueryArgs,ej.FormData,ej.Method,ej.Body),el]]:[]):[];},function(ej){return{$:1,$0:[c0.Segment$2(a.String(ej))]};});dH.rBool=df.New$1(function(ej){var ek,el,em;ek=ej.Segments;return ek.$==1?(el=(em=null,[bV.TryParseBool(ek.$0,{get:function(){return em;},set:function(en){em=en;}}),em]),el[0]?[[c0.New(ek.$1,ej.QueryArgs,ej.FormData,ej.Method,ej.Body),el[1]]]:[]):[];},function(ej){return{$:1,$0:[c0.Segment$2(ej?"True":"False")]};});dH.rWildcard=df.New$1(function(ej){return[[c0.New(cg.Empty,ej.QueryArgs,ej.FormData,ej.Method,ej.Body),bi.concat("/",ej.Segments)]];},function(ej){return{$:1,$0:[c0.Segment$2(ej)]};});dH.rDateTime=df.New$1(function(ej){var ek,el,em,en,eo,ep,eq,er,es;ek=ej.Segments;return ek.$==1?(el=ek.$0,el.length===19&&el[4]==="-"&&el[7]==="-"&&el[10]==="-"&&el[13]==="."&&el[16]==="."?(em=ei(b5.string(el,{$:1,$0:0},{$:1,$0:3})),(en=ei(b5.string(el,{$:1,$0:5},{$:1,$0:6})),(eo=ei(b5.string(el,{$:1,$0:8},{$:1,$0:9})),(ep=ei(b5.string(el,{$:1,$0:11},{$:1,$0:12})),(eq=ei(b5.string(el,{$:1,$0:14},{$:1,$0:15})),(er=ei(b5.string(el,{$:1,$0:17},{$:1,$0:18})),em!=null&&em.$==1&&(en!=null&&en.$==1&&(eo!=null&&eo.$==1&&(ep!=null&&ep.$==1&&(eq!=null&&eq.$==1&&(er!=null&&er.$==1&&(es=[eo.$0,ep.$0,en.$0,eq.$0,er.$0,em.$0],true))))))?[[c0.New(ek.$1,ej.QueryArgs,ej.FormData,ej.Method,ej.Body),(new ed(es[5],es[2]-1,es[0],es[1],es[3],es[4])).getTime()]]:[])))))):[]):[];},function(ej){var ek,el;function em(en){var eo;eo=a.String(en);return eo.length===1?"0"+eo:eo;}return{$:1,$0:[c0.Segment$2((ek=a.String((new ed(ej)).getFullYear()),(el=ek.length,el===1?"000"+ek:el===2?"00"+ek:el===3?"0"+ek:ek))+"-"+em((new ed(ej)).getMonth()+1)+"-"+em((new ed(ej)).getDate())+"-"+em((new ed(ej)).getHours())+"."+em((new ed(ej)).getMinutes())+"."+em((new ed(ej)).getSeconds()))]};});};dI.OfArray=function(ei){return new cc.New$1(cf.OfSeq(bb.map(function(ej){return dj.New(ej[0],ej[1]);},ei)));};dI.FoldBack=function(ei,ej,ek){return bb.fold(function(el,em){return ei(em.Key,em.Value,el);},ek,cf.Enumerate(true,ej.get_Tree()));};dI.ToSeq=function(ei){return bb.map(function(ej){return[ej.Key,ej.Value];},cf.Enumerate(false,ei.get_Tree()));};dJ=e.Task=ea.Class({get_IsCompleted:function(){return this.status===5||this.status===7||this.status===6;},RunContinuations:function(){var ei,ej,ek;ei=this.continuations;for(ej=0,ek=ei.length-1;ej<=ek;ej++)Q.get(ei,ej).StartContinuation();},StartContinuation:function(){var ei;ei=this;this.status===1?(this.status=2,cB.scheduler().Fork(function(){if(ei.status===2){ei.status=3;try{ei.Execute();ei.status=5;}catch(ej){ei.exc=new dL.New$3([ej]);ei.status=7;}ei.RunContinuations();}})):void 0;},Execute:function(){this.action();}},f,dJ);dJ.New$4=ea.Ctor(function(ei,ej,ek,el){f.New.call(this);this.action=ei;this.token=ej;this.status=ek;this.continuations=[];this.exc=el;},dJ);dK=e.Task1=ea.Class({Execute:function(){this.result=this.func();}},dJ,dK);dK.New$4=ea.Ctor(function(ei,ej,ek,el,em){dJ.New$4.call(this,null,ej,ek,el);this.func=ei;this.result=em;},dK);dL=e.AggregateException=ea.Class({},dE,dL);dL.New$3=ea.Ctor(function(ei){dL.New$4.call(this,"One or more errors occurred.",ei);},dL);dL.New$4=ea.Ctor(function(ei,ej){this.message=ei;cx.setPrototypeOf(this,dL.prototype);this.innerExceptions=ej;},dL);dM.Clear=function(ei){ei.splice(0,Q.length(ei));};dN=g.DynamicAttrNode=ea.Class({NChanged:function(){return this.updates;},NGetExitAnim:function(ei){return dB.get_Empty();},NGetEnterAnim:function(ei){return dB.get_Empty();},NGetChangeAnim:function(ei){return dB.get_Empty();},NSync:function(ei){if(this.dirty){(this.push(ei))(this.value);this.dirty=false;}}},f,dN);dN.New=ea.Ctor(function(ei,ej){var ek;ek=this;f.New.call(this);this.push=ej;this.value=void 0;this.dirty=false;this.updates=o.Map(function(el){ek.value=el;ek.dirty=true;},ei);},dN);dO=ds.ArrayStorage=ea.Class({SSetAt:function(ei,ej,ek){Q.set(ek,ei,ej);return ek;},SAppend:function(ei,ej){ej.push(ei);return ej;}},f,dO);dO.New=ea.Ctor(function(ei){f.New.call(this);this.init=ei;},dO);bb.enumUsing=function(ei,ej){return{GetEnumerator:function(){var ek;try{ek=cd.Get(ej(ei));}catch(el){ei.Dispose();throw el;}return new ce.New(null,null,function(em){return ek.MoveNext()&&(em.c=ek.Current(),true);},function(){ek.Dispose();ei.Dispose();});}};};bb.enumWhile=function(ei,ej){return{GetEnumerator:function(){return new ce.New(null,null,function(ek){var el;while(true){el=ek.s;if(F.Equals(el,null)){if(ei()){ek.s=cd.Get(ej);ek=ek;}else return false;}else if(el.MoveNext()){ek.c=el.Current();return true;}else{el.Dispose();ek.s=null;ek=ek;}}},function(ek){var el;el=ek.s;!F.Equals(el,null)?el.Dispose():void 0;});}};};dP=bf.KeyCollection=ea.Class({GetEnumerator$1:function(){return cd.Get(bb.map(function(ei){return ei.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},f,dP);dP.New=ea.Ctor(function(ei){f.New.call(this);this.d=ei;},dP);dQ=g.Updates=ea.Class({},null,dQ);dQ.Create=function(ei){var ej;ej=null;ej=dQ.New(ei,null,function(){var ek;ek=ej.s;return ek===null?(ek=_1.Copy(ej.c()),ej.s=ek,_1.WhenObsoleteRun(ek,function(){ej.s=null;}),ek):ek;});return ej;};dQ.New=function(ei,ej,ek){return new dQ({c:ei,s:ej,v:ek});};dS.New=function(ei,ej){return{PreviousNodes:ei,Top:ej};};dT.get_Empty=function(){return{$:0,$0:new bZ.New$3()};};dT.FindAll=function(ei){var ej;function ek(em){if(em!=null&&em.$==0){ek(em.$0);ek(em.$1);}else if(em!=null&&em.$==1)el(em.$0);else if(em!=null&&em.$==2)ek(em.$0.Current);else if(em!=null&&em.$==6)Q.iter(el,em.$0.Holes);}function el(em){ej.push(em);ek(em.Children);}ej=[];ek(ei);return{$:0,$0:new bZ.New$2(ej)};};dT.Filter=function(ei,ej){return{$:0,$0:d7.Filter(ei,ej.$0)};};dT.Except=function(ei,ej){return{$:0,$0:d7.Except(ei.$0,ej.$0)};};dT.ToArray=function(ei){return d7.ToArray(ei.$0);};dT.Intersect=function(ei,ej){return{$:0,$0:d7.Intersect(ei.$0,ej.$0)};};dU.UseAnimations=function(){d3.$cctor();return d3.UseAnimations;};dU.Actions=function(ei){return dU.ConcatActions(Q.choose(function(ej){return ej.$==1?{$:1,$0:ej.$0}:null;},d4.ToArray(ei.$0)));};dU.Finalize=function(ei){Q.iter(function(ej){if(ej.$==0)ej.$0();},d4.ToArray(ei.$0));};dU.ConcatActions=function(ei){var ej,ek,el,em;ej=cz.ofSeqNonCopying(ei);ek=Q.length(ej);return ek===0?dU.Const():ek===1?Q.get(ej,0):(el=bb.max(bb.map(function(en){return en.Duration;},ej)),(em=Q.map(function(en){return dU.Prolong(el,en);},ej),dU.Def(el,function(en){Q.iter(function(eo){eo.Compute(en);},em);})));};dU.List=function(ei){return ei.$0;};dU.Const=function(ei){return dU.Def(0,function(){return ei;});};dU.Def=function(ei,ej){return{Compute:ej,Duration:ei};};dU.Prolong=function(ei,ej){var ek,el,em;ek=ej.Compute;el=ej.Duration;em=q.Create(function(){return ej.Compute(ej.Duration);});return{Compute:function(en){return en>=el?em.f():ek(en);},Duration:ei};};dV.$cctor=function(){dV.$cctor=a.ignore;dV.BatchUpdatesEnabled=true;};dW.IsUpper=function(ei){return ei>="A"&&ei<="Z";};dW.Parse=function(ei){return ei.length===1?ei:n.FailWith("String must be exactly one character long.");};dW.IsWhiteSpace=function(ei){return ei.match(new a.RegExp("\\s"))!==null;};df.New=function(ei,ej){return{Parse:ei,Segment:ej};};dX.read=function(ei){var ej;ej=[];return function(ek){var el;while(true){el=dX.readEscapedFromChars(ek);if(el[0]===-2)return null;else if(el[0]===-1)return{$:1,$0:(function(em){return function(en){return bi.concat(em,en);};}(""))(ej)};else{ej.push(eh.fromCharCode(el[0]));ek=el[1];}}}(bB.ofSeq(bb.map(function(ek){return ek.charCodeAt();},ei)));};dX.write=function(ei){return bi.concat("",bb.mapi(function(ej,ek){return dX.writeEscapedAsString(ej+1===ei.length,ek);},ei));};dX.readEscapedFromChars=function(ei){var ej,ek,el,em,en,eo,ep,eq;function er(){var et,eu;return ej.$==1?(et=ej.$1,(eu=ej.$0,(ej=et,eu))):-1;}function es(et){return et>="0".charCodeAt()&&et<="9".charCodeAt()?et-"0".charCodeAt():et>="a".charCodeAt()&&et<="f".charCodeAt()?et-"a".charCodeAt()+10:et>="A".charCodeAt()&&et<="F".charCodeAt()?et-"A".charCodeAt()+10:-2;}ej=ei;return[(ek=er(),ek==="~".charCodeAt()?(el=er(),el==="u".charCodeAt()?(em=er(),(en=er(),(eo=er(),(ep=er(),em>=0&&en>=0&&eo>=0&&ep>=0?dX.op_PlusPlus(dX.op_PlusPlus(dX.op_PlusPlus(es(em),es(en)),es(eo)),es(ep)):-2)))):(eq=er(),el>=0&&eq>=0?dX.op_PlusPlus(es(el),es(eq)):-2)):ek),ej];};dX.writeEscapedAsString=function(ei,ej){var ek;ek=ej.charCodeAt();return dX.isUnreserved(ei,ej)?ej:ek<256?"~"+bi.PadLeftWith(ek.toString(16),2,"0"):"~u"+bi.PadLeftWith(ek.toString(16),4,"0");};dX.op_PlusPlus=function(ei,ej){return(ei<<4)+ej;};dX.isUnreserved=function(ei,ej){return ej==="-"||(ej==="."?!ei:ej==="_"||(ej>="A"&&ej<="Z"||(ej>="a"&&ej<="z"||ej>="0"&&ej<="9")));};bV.TryParseSByte=function(ei,ej){return bV.TryParse(ei,-128,127,ej);};bV.TryParseByte=function(ei,ej){return bV.TryParse(ei,0,255,ej);};bV.TryParseInt16=function(ei,ej){return bV.TryParse(ei,-32768,32767,ej);};bV.TryParseUInt16=function(ei,ej){return bV.TryParse(ei,0,65535,ej);};bV.TryParseUInt32=function(ei,ej){return bV.TryParse(ei,0,4294967295,ej);};bV.TryParseUInt64=function(ei,ej){return bV.TryParse(ei,0,18446744073709551615,ej);};dY.$cctor=function(){dY.$cctor=a.ignore;dY.Doc=self.document;};dZ.AsAsync=function(ei){return cB.FromContinuations(function(ej,ek){ei.then(ej,function(el){return ek(dZ.unwrapExn(el));});});};dZ.unwrapExn=function(ei){return ei instanceof dE?ei:new d8.New(ei);};d0=e.FormatException=ea.Class({},dE,d0);d0.New$1=ea.Ctor(function(ei){this.message=ei;cx.setPrototypeOf(this,d0.prototype);},d0);d1.$cctor=function(){d1.$cctor=a.ignore;d1.EmptyAttr=null;};d2.isBlank=function(ei){return bi.forall(dW.IsWhiteSpace,ei);};d3.$cctor=function(){d3.$cctor=a.ignore;d3.CubicInOut=d6.Custom(function(ei){var ej;ej=ei*ei;return 3*ej-2*(ej*ei);});d3.UseAnimations=true;};d4.Append=function(ei,ej){return ei.$==0?ej:ej.$==0?ei:{$:2,$0:ei,$1:ej};};d4.ToArray=function(ei){var ej;function ek(el){if(el.$==1)ej.push(el.$0);else if(el.$==2){ek(el.$0);ek(el.$1);}else if(el.$==3)Q.iter(function(em){ej.push(em);},el.$0);}ej=[];ek(ei);return ej.slice(0);};d4.Concat=function(ei){var ej;ej=cz.ofSeqNonCopying(ei);return cz.TreeReduce(d4.Empty(),d4.Append,ej);};d4.Empty=function(){d_.$cctor();return d_.Empty;};d5.WriteLink=function(ei,ej){var ek;ek=ej.get_IsEmpty()?"":"?"+d5.WriteQuery(ej);return"/"+d5.Concat(ei)+ek;};d5.Concat=function(ei){var ej,ek;ej=[];ek=true;bB.iter(function(el){if(!bi.IsNullOrEmpty(el)){ek?ek=false:ej.push("/");ej.push(el);}},ei);return bi.Join("",Q.ofSeq(ej));};d5.WriteQuery=function(ei){function ej(ek,el){return ek+"="+el;}return bi.concat("&",bb.map(function(ek){return ej(ek[0],ek[1]);},dI.ToSeq(ei)));};d6=g.Easing=ea.Class({},f,d6);d6.Custom=function(ei){return new d6.New(ei);};d6.New=ea.Ctor(function(ei){f.New.call(this);this.transformTime=ei;},d6);d7.Filter=function(ei,ej){return new bZ.New$2(Q.filter(ei,d7.ToArray(ej)));};d7.Except=function(ei,ej){var ek;ek=new bZ.New$2(d7.ToArray(ej));ek.ExceptWith(d7.ToArray(ei));return ek;};d7.ToArray=function(ei){var ej;ej=Q.create(ei.get_Count(),void 0);ei.CopyTo(ej);return ej;};d7.Intersect=function(ei,ej){var ek;ek=new bZ.New$2(d7.ToArray(ei));ek.IntersectWith(d7.ToArray(ej));return ek;};d8=D.NonStandardPromiseRejectionException=ea.Class({},dE,d8);d8.New=ea.Ctor(function(ei){this.message="Promise rejected";cx.setPrototypeOf(this,d8.prototype);this.reason=ei;},d8);d9.Children=function(ei,ej){var ek,el,em;if(ej!=null&&ej.$==1){em=[];ek=ej.$0[0].nextSibling;while(ek!==ej.$0[1]){em.push(ek);ek=ek.nextSibling;}return{$:0,$0:em};}else return{$:0,$0:Q.init(ei.childNodes.length,(el=ei.childNodes,function(en){return el[en];}))};};d9.Except=function(ei,ej){var ek;ek=ei.$0;return{$:0,$0:Q.filter(function(el){return Q.forall(function(em){return!(el===em);},ek);},ej.$0)};};d9.Iter=function(ei,ej){Q.iter(ei,ej.$0);};d9.DocChildren=function(ei){var ej;function ek(el){if(el!=null&&el.$==2)ek(el.$0.Current);else if(el!=null&&el.$==1)ej.push(el.$0.El);else if(el==null);else if(el!=null&&el.$==5)ej.push(el.$0);else if(el!=null&&el.$==4)ej.push(el.$0.Text);else if(el!=null&&el.$==6)Q.iter(function(em){if(em==null||em.constructor===cx)ek(em);else ej.push(em);},el.$0.Els);else{ek(el.$0);ek(el.$1);}}ej=[];ek(ei.Children);return{$:0,$0:cz.ofSeqNonCopying(ej)};};d_.$cctor=function(){d_.$cctor=a.ignore;d_.Empty={$:0};};ea.OnLoad(function(){d.mainProgram();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
//# sourceMappingURL=testing.min.map
