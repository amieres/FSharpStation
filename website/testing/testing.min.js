function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
var JSON;JSON||(JSON={}),function(){"use strict";function i(n){return n<10?"0"+n:n}function f(n){return o.lastIndex=0,o.test(n)?'"'+n.replace(o,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function r(i,e){var s,l,h,a,v=n,c,o=e[i];o&&typeof o=="object"&&typeof o.toJSON=="function"&&(o=o.toJSON(i));typeof t=="function"&&(o=t.call(e,i,o));switch(typeof o){case"string":return f(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(n+=u,c=[],Object.prototype.toString.apply(o)==="[object Array]"){for(a=o.length,s=0;s<a;s+=1)c[s]=r(s,o)||"null";return h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+v+"]":"["+c.join(",")+"]",n=v,h}if(t&&typeof t=="object")for(a=t.length,s=0;s<a;s+=1)typeof t[s]=="string"&&(l=t[s],h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));else for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));return h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+v+"}":"{"+c.join(",")+"}",n=v,h}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,u,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(n="",u="",typeof e=="number")for(o=0;o<e;o+=1)u+=" ";else typeof e=="string"&&(u=e);if(t=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return r("",{"":i})});typeof JSON.parse!="function"&&(JSON.parse=function(n,t){function r(n,i){var f,e,u=n[i];if(u&&typeof u=="object")for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&(e=r(u,f),e!==undefined?u[f]=e:delete u[f]);return t.call(n,i,u)}var i;if(n=String(n),e.lastIndex=0,e.test(n)&&(n=n.replace(e,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?r({"":i},""):i;throw new SyntaxError("JSON.parse");})}();
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7;a=self;b=a.FsRoot=a.FsRoot||{};c=b.ProzperClient=b.ProzperClient||{};d=c.MainProgram=c.MainProgram||{};e=a.WebSharper=a.WebSharper||{};f=e.Obj=e.Obj||{};g=e.UI=e.UI||{};h=g.Var$1=g.Var$1||{};i=g.View=g.View||{};j=b.Prozper=b.Prozper||{};k=j.TypesV0=j.TypesV0||{};l=k.IdAliado=k.IdAliado||{};m=k.Aliado=k.Aliado||{};n=c.ModeloUI=c.ModeloUI||{};o=n.Aliado=n.Aliado||{};p=b.LibraryJS=b.LibraryJS||{};q=p.AppFramework=p.AppFramework||{};r=q.PlugIn=q.PlugIn||{};s=e.Lazy=e.Lazy||{};t=n.RenderAliados=n.RenderAliados||{};u=n.RenderAliado=n.RenderAliado||{};v=n.FormaRegistro=n.FormaRegistro||{};w=n.FormaDatos=n.FormaDatos||{};x=n.FormaContactos=n.FormaContactos||{};y=n.FormaFormasPago=n.FormaFormasPago||{};z=n.ReporteConsolidado=n.ReporteConsolidado||{};A=n.TablaPagos=n.TablaPagos||{};B=e.Operators=e.Operators||{};C=a.EventTarget;D=a.Node;E=e.JavaScript=e.JavaScript||{};F=E.JS=E.JS||{};G=e.Unchecked=e.Unchecked||{};H=p.LayoutEngineModule=p.LayoutEngineModule||{};I=e.Option=e.Option||{};J=g.Var=g.Var||{};K=e.Arrays=e.Arrays||{};L=g.Templating=g.Templating||{};M=L.Runtime=L.Runtime||{};N=M.Server=M.Server||{};O=N.ProviderBuilder=N.ProviderBuilder||{};P=n.Rpc=n.Rpc||{};Q=N.Handler=N.Handler||{};R=N.TemplateInstance=N.TemplateInstance||{};S=j.Aliado=j.Aliado||{};T=a.testing_Templates=a.testing_Templates||{};U=a.testing_GeneratedPrintf=a.testing_GeneratedPrintf||{};V=a.testing_Router=a.testing_Router||{};W=g.Doc=g.Doc||{};X=k.Modelo=k.Modelo||{};Y=g.ConcreteVar=g.ConcreteVar||{};Z=g.Snap=g.Snap||{};_0=a.StartupCode$testing$testing=a.StartupCode$testing$testing||{};_1=k.DatosPersonales=k.DatosPersonales||{};_2=k.StatusAliado=k.StatusAliado||{};_3=k.DiaPago=k.DiaPago||{};_4=k.TipoAliado=k.TipoAliado||{};_5=e.Numeric=e.Numeric||{};_6=g.ListModel=g.ListModel||{};_7=q.PlugInVar=q.PlugInVar||{};_8=q.PlugInView=q.PlugInView||{};_9=q.PlugInDoc=q.PlugInDoc||{};_=E.Pervasives=E.Pervasives||{};$=e.LazyExtensionsProxy=e.LazyExtensionsProxy||{};ba=$.LazyRecord=$.LazyRecord||{};bb=a.ProzperServer_GeneratedPrintf=a.ProzperServer_GeneratedPrintf||{};bc=a.ProzperServer_JsonDecoder=a.ProzperServer_JsonDecoder||{};bd=a.ProzperServer_JsonEncoder=a.ProzperServer_JsonEncoder||{};be=e.Seq=e.Seq||{};bf=b.Library=b.Library||{};bg=bf.SortWith=bf.SortWith||{};bh=S.Buscar=S.Buscar||{};bi=e.Collections=e.Collections||{};bj=bi.FSharpSet=bi.FSharpSet||{};bk=bi.Set=bi.Set||{};bl=e.Strings=e.Strings||{};bm=k.CorreoElectronico=k.CorreoElectronico||{};bn=n.DatosPersonales=n.DatosPersonales||{};bo=n.CorreoElectronico=n.CorreoElectronico||{};bp=n.Telefono=n.Telefono||{};bq=n.Direccion=n.Direccion||{};br=bf.Monads=bf.Monads||{};bs=br.AsyncResultMAutoOpen=br.AsyncResultMAutoOpen||{};bt=br.AsyncResultM=br.AsyncResultM||{};bu=bt.AsyncResultMBuilder=bt.AsyncResultMBuilder||{};bv=n.Refresh=n.Refresh||{};bw=a.System=a.System||{};bx=bw.Guid=bw.Guid||{};by=bf.ResultMessage=bf.ResultMessage||{};bz=c.Msal=c.Msal||{};bA=z.Fila=z.Fila||{};bB=n.VariousUI=n.VariousUI||{};bC=e.Utils=e.Utils||{};bD=p.Date=p.Date||{};bE=k.CuentaBancaria=k.CuentaBancaria||{};bF=k.RoutingNumber=k.RoutingNumber||{};bG=k.NumeroCuenta=k.NumeroCuenta||{};bH=k.FormaPago=k.FormaPago||{};bI=br.ResultM=br.ResultM||{};bJ=q.PlugInAction=q.PlugInAction||{};bK=a.WindowOrWorkerGlobalScope;bL=p.LayoutEngine=p.LayoutEngine||{};bM=a.StartupCode$LayoutEngine$LayoutEngine=a.StartupCode$LayoutEngine$LayoutEngine||{};bN=bi.List=bi.List||{};bO=bi.Dictionary=bi.Dictionary||{};bP=bi.HashSet=bi.HashSet||{};bQ=M.Client=M.Client||{};bR=g.Abbrev=g.Abbrev||{};bS=bR.Async=bR.Async||{};bT=a.StartupCode$ProzperServer$ProzperServer=a.StartupCode$ProzperServer$ProzperServer||{};bU=k.PremisasCalculo=k.PremisasCalculo||{};bV=bR.Fresh=bR.Fresh||{};bW=bf.String=bf.String||{};bX=e.Slice=e.Slice||{};bY=e.List=e.List||{};bZ=p.Msal=p.Msal||{};b0=bZ.Policy=bZ.Policy||{};b1=bZ.UserAgentApplication=bZ.UserAgentApplication||{};b2=n.EndPoint=n.EndPoint||{};b3=g.Router=g.Router||{};b4=g.ViewBuilder=g.ViewBuilder||{};b5=k.Pais=k.Pais||{};b6=k.Genero=k.Genero||{};b7=k.Direccion=k.Direccion||{};b8=k.Telefono=k.Telefono||{};b9=q.PlugInQuery=q.PlugInQuery||{};b_=bi.FSharpMap=bi.FSharpMap||{};b$=e.Enumerator=e.Enumerator||{};ca=b$.T=b$.T||{};cb=bi.BalancedTree=bi.BalancedTree||{};cc=bY.T=bY.T||{};cd=bf.ParseO=bf.ParseO||{};ce=k.TipoTelefono=k.TipoTelefono||{};cf=k.TipoDireccion=k.TipoDireccion||{};cg=k.Estado=k.Estado||{};ch=k.ZonaPostal=k.ZonaPostal||{};ci=j.Rpc=j.Rpc||{};cj=bf.Array=bf.Array||{};ck=g.HtmlModule=g.HtmlModule||{};cl=ck.attr=ck.attr||{};cm=k.NumeroTarjeta=k.NumeroTarjeta||{};cn=k.TarjetaCredito=k.TarjetaCredito||{};co=n.CuentaBancaria=n.CuentaBancaria||{};cp=n.TarjetaCredito=n.TarjetaCredito||{};cq=e.Result=e.Result||{};cr=a.Object;cs=g.FromView=g.FromView||{};ct=k.TipoCuenta=k.TipoCuenta||{};cu=e.Concurrency=e.Concurrency||{};cv=k.IdPayment=k.IdPayment||{};cw=br.Result=br.Result||{};cx=g.AttrModule=g.AttrModule||{};cy=p.WebComponent=p.WebComponent||{};cz=cy.WcTabStrip=cy.WcTabStrip||{};cA=cz.WcTabStripT=cz.WcTabStripT||{};cB=a.LayoutEngine_Templates=a.LayoutEngine_Templates||{};cC=a.GeneratedPrintf=a.GeneratedPrintf||{};cD=a.LayoutEngine_GeneratedPrintf=a.LayoutEngine_GeneratedPrintf||{};cE=cy.WcSplitter=cy.WcSplitter||{};cF=g.AttrProxy=g.AttrProxy||{};cG=g.CheckedInput=g.CheckedInput||{};cH=bi.DictionaryUtil=bi.DictionaryUtil||{};cI=g.Client=g.Client||{};cJ=cI.Templates=cI.Templates||{};cK=cw.Builder=cw.Builder||{};cL=bI.Builder=bI.Builder||{};cM=bf.Serializer=bf.Serializer||{};cN=k.Expiracion=k.Expiracion||{};cO=k.TipoTarjeta=k.TipoTarjeta||{};cP=p.Pojo=p.Pojo||{};cQ=e.Sitelets=e.Sitelets||{};cR=cQ.RouterOperators=cQ.RouterOperators||{};cS=cQ.RouterModule=cQ.RouterModule||{};cT=cQ.Route=cQ.Route||{};cU=k.IdAddress=k.IdAddress||{};cV=bi.MapUtil=bi.MapUtil||{};cW=cb.Tree=cb.Tree||{};cX=g.Array=g.Array||{};cY=g.Docs=g.Docs||{};cZ=cu.AsyncBody=cu.AsyncBody||{};c0=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};c1=cu.CT=cu.CT||{};c2=H.Layout=H.Layout||{};c3=g.Attrs=g.Attrs||{};c4=g.DomUtility=g.DomUtility||{};c5=e.DateUtil=e.DateUtil||{};c6=cE.WcSplitterT=cE.WcSplitterT||{};c7=g.DocElemNode=g.DocElemNode||{};c8=a.CharacterData;c9=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};c_=cQ.Router=cQ.Router||{};c$=cQ.List=cQ.List||{};da=bi.Pair=bi.Pair||{};db=cu.Scheduler=cu.Scheduler||{};dc=e.CancellationTokenSource=e.CancellationTokenSource||{};dd=e.ClientSideJson=e.ClientSideJson||{};de=dd.Provider=dd.Provider||{};df=H.Measures=H.Measures||{};dg=p.Hoverable=p.Hoverable||{};dh=dg.Hoverable=dg.Hoverable||{};di=g.Storage=g.Storage||{};dj=a.Event;dk=a.UIEvent;dl=p.ResizeObserver=p.ResizeObserver||{};dm=cJ.Prepare=cJ.Prepare||{};dn=g.Elt=g.Elt||{};_do=g.An=g.An||{};dp=cI.Settings=cI.Settings||{};dq=bR.Mailbox=bR.Mailbox||{};dr=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};ds=cI.Attrs=cI.Attrs||{};dt=ds.Dyn=ds.Dyn||{};du=bi.HashSetUtil=bi.HashSetUtil||{};dv=a.StartupCode$WebSharper_Sitelets$Router=a.StartupCode$WebSharper_Sitelets$Router||{};dw=bi.Map=bi.Map||{};dx=a.Error;dy=e.OperationCanceledException=e.OperationCanceledException||{};dz=e.Queue=e.Queue||{};dA=g.DynamicAttrNode=g.DynamicAttrNode||{};dB=e.AggregateException=e.AggregateException||{};dC=di.ArrayStorage=di.ArrayStorage||{};dD=g.Updates=g.Updates||{};dE=cI.Docs=cI.Docs||{};dF=dE.RunState=dE.RunState||{};dG=dE.NodeSet=dE.NodeSet||{};dH=g.Anims=g.Anims||{};dI=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};dJ=bi.KeyCollection=bi.KeyCollection||{};dK=e.Char=e.Char||{};dL=cQ.StringEncoding=cQ.StringEncoding||{};dM=E.Promise=E.Promise||{};dN=e.FormatException=e.FormatException||{};dO=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};dP=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};dQ=g.String=g.String||{};dR=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};dS=g.AppendList=g.AppendList||{};dT=cQ.PathUtil=cQ.PathUtil||{};dU=g.Easing=g.Easing||{};dV=bR.HashSet=bR.HashSet||{};dW=E.NonStandardPromiseRejectionException=E.NonStandardPromiseRejectionException||{};dX=dE.DomNodes=dE.DomNodes||{};dY=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};dZ=a.IntelliFactory;d0=dZ&&dZ.Runtime;d1=a.Math;d2=a.console;d3=a.JSON;d4=a.Date;d5=a.Reflect;d6=a.jQuery;d7=a.String;d.mainProgram=function(){var d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo;d8=h.Create$1(d.appName());d9=i.Map(function(ep){return d.mesToString(ep.periodoActual);},n.modeloV().get_View());d_=i.Map(function(ep){return a.String(ep.anoActual);},n.modeloV().get_View());d$=i.Map(function(ep){return S.nombre2(ep.datosPersonales);},n.aliadoW());ea=i.Map(function(ep){return ep.id.get_Id();},n.aliadoW());eb=i.Map(function(ep){return a.String(ep.status);},n.aliadoW());ec=i.Map(function(ep){return a.String(ep.comision);},n.aliadoW());ed=i.Map(function(ep){return a.String(ep.nReferidos);},n.aliadoW());q.addPlugIn(r.New(d.appName(),[q.newVar("title",d8),q.newVar("contentVar",n.contentVar()),q.newVar("invitaciones",n.invitacionesV())],[q.newViw("mesActual",d9),q.newViw("anoActual",d_),q.newViw("aliado",d$),q.newViw("idAliado",ea),q.newViw("status",eb),q.newViw("comision",ec),q.newViw("datos",ed),q.newViw("emailsInvitar",n.emailsInvitarW()),q.newViw("invitacionesDisabled",n.invitacionesDisabledW())],[q.newDoc("Aliados",s.Create(t.aliados)),q.newDoc("Aliado",s.Create(u.aliado)),q.newDoc("Calculo",s.Create(u.calculo)),q.newDoc("FormaRegistro",s.Create(v.formaDoc)),q.newDoc("FormaDatos",s.Create(w.formaDoc)),q.newDoc("FormaContactos",s.Create(x.formaDoc)),q.newDoc("FormaFormasPago",s.Create(y.formaDoc)),q.newDoc("contentDoc",s.Create(d.getContentDoc)),q.newDoc("ReporteConsolidado",s.Create(z.consolidado)),q.newDoc("TablaPagos",s.Create(A.comisiones))],[q.newAct("Logout",function(){d.logout();}),q.newAct("LogIn",function(){d.login();}),q.newAct("enviarInvitaciones",function(){d.enviarCorreosInvitacion();})],[]));H.addLayout((ee=(ef=self.document.getElementById("GlobalLayout"),G.Equals(ef,null)?"\r\n                        menuEditor layout\r\n                        |          main\r\n        \r\n                        main div \"\"\r\n                        :                 template  header     \"id=header\"           brand  brandV   logout \"@{Prozper.Logout}\" afiliado \"@{Prozper.aliado}\"\r\n                        :                 Doc       Prozper.contentDoc\r\n                        :                 template  sidedrawer \"id=sidedrawer\"       brand  brandV   idaliado \"@{Prozper.idAliado}\" \r\n                        :                 template  footer     \"id=footer\"           brand  brandV   madeby \"CIPHER Bsc\" madebylink \"www.cipherbsc.com\"\r\n         \r\n                        mainContent          template  content    \"id=content-wrapper\"  content aliados                  fecha \"@{Prozper.mesActual} @{Prozper.anoActual}\" idaliado \"@{Prozper.aliado}\"\r\n                        cntFormaRegistro     template  content    \"id=content-wrapper\"  content Prozper.FormaRegistro    titulo \"Referido por: @{Prozper.aliado}\"  \r\n                        cntFormaDatos        template  content    \"id=content-wrapper\"  content Prozper.FormaDatos       titulo \" \"\r\n                        cntFormaContactos    template  content    \"id=content-wrapper\"  content Prozper.FormaContactos   titulo \" \" \r\n                        cntFormaFormasPago   template  content    \"id=content-wrapper\"  content Prozper.FormaFormasPago  titulo \" \" \r\n                        cntFormaCuentas      template  content    \"id=content-wrapper\"  content ProzperLyt.FormaCuentas  titulo \" \"  \r\n                        cntFormaDocumentos   template  content    \"id=content-wrapper\"  content Prozper.FormaDocumentos  titulo \" \"  \r\n                        cntFormaNoUser       template  content    \"id=content-wrapper\"  content botonLogin               titulo \" \"  \r\n                        cntFormaInvitaciones template  content    \"id=content-wrapper\"  content invitaciones             titulo \" \"  \r\n        \r\n                        aliados          div       \"class=row\"\r\n                        :                div       \"class=mui-col-md-6\"\r\n                        ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" Prozper.Aliados\r\n                        :                div       \"class=mui-col-md-6\"\r\n                        ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" Aliado Comisiones\r\n                        brandV           Var       \"Prozper\"\r\n        \r\n                        botonLogin       div       \"class=row\"\r\n                        :                div       \"class=mui-col-md-6\"\r\n                        ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" \r\n                        :::              button    Prozper.LogIn \"class=mui-btn mui-btn--primary\" \"Ingresar al Sistema\"\r\n        \r\n                        invitaciones     div       \"class=row\"\r\n                        :                div       \"class=mui-col-md-6 mui-col-md-offset-1\"\r\n                        ::               div       \"class=mui-panel mui--z5 scrollbar; max-height:550px ; overflow:auto\" \r\n                        :::              h1        \"\" \"Enviar Invitaciones\"\r\n                        :::              textarea  Prozper.invitaciones  \"width:100% ; height:30rem; placeholder=Copie aqui las direcciones de correo electronico\" \r\n                        :                div       \"white-space: pre-wrap\" \"@{Prozper.emailsInvitar}\"\r\n                        :                button    Prozper.enviarInvitaciones \"class=mui-btn mui-btn--raised mui-btn--primary;@{Prozper.invitacionesDisabled}\" \"Enviar\"\r\n        \r\n                        Aliado           div       \"class=mui-col-md-8\"\r\n                        :                Doc Prozper.Aliado\r\n        \r\n                        Comisiones       template    tablacomisiones \"class=mui-col-md-3\"  tbody filasComisiones\r\n                        filasComisiones  concat      \"\"\r\n                        :                template    filacomision    \"\"  periodo \"Ene 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Feb 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Mar 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Abr 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"May 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Jun 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Jul 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Ago 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Sep 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Oct 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Nov 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Dec 2018\" comision \"$1,000\"\r\n                \r\n                        menuEditorx      horizontal  65          menuLogo                  editorMessages\r\n                        double           horizontal  0-50-100    AppFramework.AppFwkClient menuEditor\r\n                        menuLogo         vertical    350         logo                      menu\r\n                        logo             span       \"margin:0;   color:gray; font-size: 55px; font-weight:530\" \"StackOverflow\"\r\n                        editorMessages   horizontal  10-83-100   editorButtons             messages\r\n                        messages         vertical    0-50-100    messagesLeft              messagesRight\r\n                        editorButtons    vertical    150 buttons snippetsSnippet \r\n                        snippetsSnippet  vertical    0-20-100    snippets                  editorProperties\r\n                        snippets         horizontal  20          \"@{FSharpStation.CurrentPath}\" tblDimensions2\r\n                        editorProperties vertical    0-100-100   snippet                   properties\r\n                        properties       div        \"\"           FSharpStation.Properties\r\n                        snippet          horizontal  35          Name                      FSharpStation.editor\r\n                        menu             span       \"display: grid; grid-template-columns: 30% 20% 20% 10%; grid-gap: 25px; margin:5px; grid-template-rows:50px\" inpServer btnLoad btnSaveAs\r\n                         \r\n                        severalTabs      wcomp-tabstrip  \"\" \r\n                        :                div \"tabname=Dimensions\" \r\n                        ::               div \"\" btnAddDimension RuleEditor.Dimensions\r\n                        :                div \"tabname=Cubes\"\r\n                        :                div \"tabname=Global Definitions\" RuleEditor.globalDefs\r\n                \r\n                        btnSaveAs        button RuleEditor.SaveAs         \"class=btn @{RuleEditor.SaveNeeded}\" \"Save as...    \"\r\n                        btnAddDimension  button RuleEditor.AddDimension      \"\"                  \"new dim...\"\r\n                        btnDeleteSnippet button FSharpStation.RemoveSnippet  \"\"                  \"Delete Snippet\"\r\n                        btnIndentIn      button FSharpStation.IndentIn       \"\"                  \"Indent In  >> \"\r\n                        btnIndentOut     button FSharpStation.IndentOut      \"\"                  \"Indent Out << \"\r\n                        btnRunFS         button FSharpStation.RunFS          \"\"                  \"Run F#        \"\r\n                        btnAbortFsi      button FSharpStation.AbortFsi       \"\"                  \"Abort Fsi     \"\r\n                \r\n                        messagesLeft     wcomp-tabstrip                      \"\"                  Output FsCode\r\n                        messagesRight    wcomp-tabstrip                      \"\"                  Parser\r\n                \r\n                        buttons          div \"overflow: hidden; display: grid; grid-template-columns: 100%; grid-template-rows: repeat(15, calc(100% / 15)); bxackground-color: #eee; box-sizing: border-box; padding : 5px; grid-gap: 5px; margin-right: 21px\"\r\n                        :                button RuleEditor.AddCalculation    \"\"                 \"Add Calculation\"\r\n                        :                button RuleEditor.AddTotal          \"\"                 \"Add Total\"\r\n                        :                Doc       none x\r\n                        :                button RuleEditor.IndentIn          \"\"                  \"Indent In  >> \"\r\n                        :                button RuleEditor.IndentOut         \"\"                  \"Indent Out << \"\r\n                \r\n                        Output           textarea  RuleEditor.Output         \"tabname=Output ; placeholder=Output messages ; spellcheck=false\" \r\n                        FsCode           textarea  RuleEditor.CodeFS         \"tabname=F# Code; placeholder=F# Code         ; spellcheck=false\" \r\n                        Parser           textarea  RuleEditor.Parser         \"tabname=Parser ; placeholder=Parser messages; dblclick=@{FSharpStation.JumpTo} ; spellcheck=false\" \r\n                        Name             Doc       InputLabel                \"\"     \"Name:\"        FSharpStation.SnippetName\r\n                        inpServer        Doc       InputLabel                \"\"     \"Server:\"      RuleEditor.Server\r\n                        btnLoad          Doc       InputFile                 \"\"     \"Load File...\" RuleEditor.LoadFile  FileName\r\n                        btnImport        Doc       InputFile                 \"\"     \"Import...\"    FSharpStation.Import    \"\"\r\n                        FileName         div                                 \"class=form-control\"  RuleEditor.fileName\r\n        \r\n                   ":ef.textContent),H.newLyt(d.layoutName(),ee)));eg=(eh=null,(ei=d.layoutName(),eh==null?ei:eh.$0));q.mainDocV().Set(eg);ej=W.BindView(function(ep){var eq,er,es;return G.Equals(ep.id,S.empty().id)?(eq=O.Make(),(er=Q.CompleteHoles(eq.k,eq.h,[]),(es=new R.New(er[1],T.opcionesadministrador(er[0])),(eq.i=es,es)))).get_Doc():W.get_Empty();},n.aliadoW());ek=(el=(em=d.getDocView(d.layoutName(),"headerCenter"),(en=d.getContentDoc(),O.Make().WithHole({$:0,$0:"maincontent",$1:en})).WithHole({$:0,$0:"headercenter",$1:em})).WithHole({$:2,$0:"idaliado",$1:ea}),el.WithHole(Q.EventQ2(el.k,"logout",function(){return el.i;},function(){d.logout();}))).WithHole({$:0,$0:"extramenu",$1:ej}).WithHole({$:2,$0:"cortina",$1:i.Map(function(ep){return ep>0?"mui-overlay":"not-mui-overlay";},P.llamadas().get_View())});eo=Q.CompleteHoles(ek.k,ek.h,[]);ek.i=new R.New(eo[1],cJ.RunFullDocTemplate(eo[0]));i.Sink(function(ep){self.document.title=ep;},d8.get_View());};d.appName=function(){_0.$cctor();return _0.appName;};d.getContentDoc=function(){var d8,d9;function d_(d$,ea){var eb;eb=ea!=null&&ea.$==1?d$:d.layoutName()+".cntFormaNoUser";return d.getDoc(d.appName(),eb);}return W.EmbedView((d8=n.contentVar().get_View(),(d9=bz.userO().get_View(),(((d0.Curried3(i.Map2))(d_))(d8))(d9))));};d.logout=function(){bz.logout();};d.login=function(){bz.logout();};d.enviarCorreosInvitacion=function(){var d8;bt.iterA(function(d9){bf.print(d9);},a.ignore,(d8=bs.asyncResultM(),d8.Run(d8.Delay(function(){return bs["AsyncResultMBuilder.Bind"](d8,i.GetAsync(n.emailsInvitarW()),function(d9){return bs["AsyncResultMBuilder.Bind"](d8,i.GetAsync(i.Map(function(d_){return d_.id.get_Id();},n.aliadoW())),function(d_){var d$;d$=K.filter(function(ea){return bl.Trim(ea)!=="";},bl.SplitChars(d9,["\n"],0));return d8.Bind$4(P.enviarCorreosInvitacion("Invitacion a Prozper",new l({$:0,$0:d_}),d$),function(){var ea;ea=K.length(d$);return ea===0?(a.alert("Ningun correo valido ha sido encontrado"),d8.Zero()):ea===1?(a.alert("Invitacion ha sido enviada"),d8.Zero()):(a.alert("Invitaciones han sido enviadas"),d8.Zero());});});});}))));};d.layoutName=function(){_0.$cctor();return _0.layoutName;};d.getDocView=function(d8,d9){return H.turnToView(function(){return d.getDoc(d8,d9);});};d.mesToString=function(d8){return d8===1?"Ene":d8===2?"Feb":d8===3?"Mar":d8===4?"Abr":d8===5?"May":d8===6?"Jun":d8===7?"Jul":d8===8?"Ago":d8===9?"Sep":d8===10?"Oct":d8===11?"Nov":d8===12?"Dic":"---";};d.getDoc=function(d8,d9){var d_,d$,ea;d_=(d$=(ea=((H.splitName())(d8))(d9),q.tryGetDoc(ea[0],ea[1])),d$==null?null:{$:1,$0:H.getDocFinal(cc.Empty,d$.$0)});return d_==null?H.errDoc((function(eb){return function(ec){return eb("Doc not found "+bC.toSafe(ec));};}(a.id))(d9)):d_.$0;};f=e.Obj=d0.Class({Equals:function(d8){return this===d8;},GetHashCode:function(){return -1;}},null,f);f.New=d0.Ctor(function(){},f);h=g.Var$1=d0.Class({},f,h);h.Create$1=function(d8){return new Y.New(false,Z.New({$:2,$0:d8,$1:[]}),d8);};h.Lens=function(d8,d9,d_){var d$,ea,eb;d$=bV.Id();ea=i.Map(d9,d8.get_View());eb=new J({Get:function(){return d9(d8.Get());},Set:function(ec){return d8.Update(function(ed){return d_(ed,ec);});},SetFinal:function(ec){return this.Set(ec);},Update:function(ec){return d8.Update(function(ed){return d_(ed,ec(d9(ed)));});},UpdateMaybe:function(ec){return d8.UpdateMaybe(function(ed){var ee;ee=ec(d9(ed));return ee==null?null:{$:1,$0:d_(ed,ee.$0)};});},get_View:function(){return ea;},get_Id:function(){return d$;}});J.New.call(eb);return eb;};h.Set=function(d8,d9){d8.Set(d9);};i.Map=function(d8,d9){return i.CreateLazy(function(){return Z.Map(d8,d9());});};i.Sink=function(d8,d9){function d_(){Z.WhenRun(d9(),d8,function(){cu.scheduler().Fork(d_);});}cu.scheduler().Fork(d_);};i.CreateLazy=function(d8){var d9;d9={c:null,o:d8};return function(){var d_,d$;d_=d9.c;return d_===null?(d_=d9.o(),d9.c=d_,(d$=d_.s,d$!=null&&d$.$==0)?d9.o=null:Z.WhenObsoleteRun(d_,function(){d9.c=null;}),d_):d_;};};i.Map2=function(d8,d9,d_){return i.CreateLazy(function(){return Z.Map2(d8,d9(),d_());});};i.Apply=function(d8,d9){return i.Map2(function(d_,d$){return d_(d$);},d8,d9);};i.Map3=function(d8,d9,d_,d$){return i.CreateLazy(function(){return Z.Map3(d8,d9(),d_(),d$());});};i.MapAsync=function(d8,d9){return i.CreateLazy(function(){return Z.MapAsync(d8,d9());});};i.GetAsync=function(d8){return cu.FromContinuations(function(d9){return i.Get(d9,d8);});};i.Const=function(d8){var d9;d9=Z.New({$:0,$0:d8});return function(){return d9;};};i.get_Do=function(){return b4.B;};i.TryGet=function(d8){return Z.TryGet(d8());};i.Get=function(d8,d9){var d_;function d$(){Z.WhenRun(d9(),function(ea){if(!d_[0]){d_[0]=true;d8(ea);}},function(){if(!d_[0])d$();});}d_=[false];d$();};i.Bind=function(d8,d9){return i.Join(i.Map(d8,d9));};i.MapSeqCachedViewBy=function(d8,d9,d_){var d$;d$=[new bO.New$5()];return i.Map(function(ea){var eb,ec,ed;eb=d$[0];ec=new bO.New$5();ed=cX.mapInPlace(function(ee){var ef,eg,eh;ef=d8(ee);eg=eb.ContainsKey(ef)?(eh=eb.get_Item(ef),(h.Set(eh.r,ee),eh)):i.ConvertSeqNode(function(ei){return d9(ef,ei);},ee);ec.set_Item(ef,eg);return eg.e;},K.ofSeq(ea));d$[0]=ec;return ed;},d_);};i.Join=function(d8){return i.CreateLazy(function(){return Z.Join(d8());});};i.ConvertSeqNode=function(d8,d9){var d_,d$;d_=h.Create$1(d9);d$=d_.get_View();return{e:d8(d$),r:d_,w:d$};};i.MapSeqCachedBy=function(d8,d9,d_){var d$;d$=[new bO.New$5()];return i.Map(function(ea){var eb,ec,ed;eb=d$[0];ec=new bO.New$5();ed=cX.mapInPlace(function(ee){var ef,eg;ef=d8(ee);eg=eb.ContainsKey(ef)?eb.get_Item(ef):d9(ee);ec.set_Item(ef,eg);return eg;},K.ofSeq(ea));d$[0]=ec;return ed;},d_);};i.Map2Unit=function(d8,d9){return i.CreateLazy(function(){return Z.Map2Unit(d8(),d9());});};i.Sequence=function(d8){return i.CreateLazy(function(){return Z.Sequence(be.map(function(d9){return d9();},d8));});};l=k.IdAliado=d0.Class({get_Id:function(){return this.$0;}},null,l);m.New=function(d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em){return{id:d8,idPadreO:d9,datosPersonales:d_,contactos:d$,identificacion:ea,isInternal:eb,status:ec,diaPago:ed,tipo:ee,fechaRegistro:ef,fechaStatus:eg,nReferidos:eh,nRefActivos:ei,nDescendientes:ej,nDescActivos:ek,comision:el,nivel:em};};n.aliadoW=function(){_0.$cctor();return _0.aliadoW;};n.contentVar=function(){_0.$cctor();return _0.contentVar;};n.invitacionesV=function(){_0.$cctor();return _0.invitacionesV;};n.emailsInvitarW=function(){_0.$cctor();return _0.emailsInvitarW;};n.invitacionesDisabledW=function(){_0.$cctor();return _0.invitacionesDisabledW;};n.modeloV=function(){_0.$cctor();return _0.modeloV;};n.selAliadoIdOV=function(){_0.$cctor();return _0.selAliadoIdOV;};n.money=function(d8){return"$"+n.separate(a.String(d8),cc.Empty);};n.selAliadoIdDoc=function(d8){var d9;return W.BindView(a.id,(d9=i.get_Do(),i.Bind(function(d_){return i.Bind(function(d$){var ea,eb;ea=d$==null?null:(eb=d$.$0,be.tryFind(function(ec){return G.Equals(ec.id,eb);},d_.aliados));return i.Const(ea!=null&&ea.$==1?d8(i.Const(ea.$0)):W.get_Empty());},n.selAliadoIdOV().get_View());},n.modeloV().get_View())));};n.aliadoIdDoc=function(d8){var d9;return W.BindView(a.id,(d9=i.get_Do(),i.Bind(function(d_){var d$,ea;d$=d_.idAliado;ea=be.tryFind(function(eb){return G.Equals(eb.id,d$);},d_.aliados);return i.Const(ea!=null&&ea.$==1?d8(i.Const(ea.$0)):W.get_Empty());},n.modeloV().get_View())));};n.endPointV=function(){_0.$cctor();return _0.endPointV;};n.separate=function(d8,d9){var d_;while(true)if(d8==="")return(function(d$){return function(ea){return bl.concat(d$,ea);};}(","))(d9);else{d_=d8;d8=bf["String.Left"](d_,-3);d9=new cc({$:1,$0:bf["String.Right"](d_,3),$1:d9});}};o.get_LoggedId=function(){var d8,d9;d8=(d9=bz.userO().Get(),d9==null?null:{$:1,$0:d9.$0.idToken.oid});return d8==null?"":d8.$0;};n.formasPagoAliadoV=function(){_0.$cctor();return _0.formasPagoAliadoV;};q.addPlugIn=function(d8){q.plugIns().Append(d8);q.mainDocV().Set(q.mainDocV().Get());};q.newVar=function(d8,d9){return _7.New(d8,d9);};q.newViw=function(d8,d9){return _8.New(d8,d9);};q.newDoc=function(d8,d9){return _9.New(d8,{$:0,$0:d9});};q.newAct=function(d8,d9){return bJ.New(d8,{$:0,$0:d9},i.Const(true));};q.mainDocV=function(){bM.$cctor();return bM.mainDocV;};q.plugIns=function(){bM.$cctor();return bM.plugIns;};q.newDocF=function(d8,d9){return _9.New(d8,d9);};q.tryGetDoc=function(d8,d9){var d_;d_=q.tryGetPlugIn(d8);return d_==null?null:K.tryFind(function(d$){return d$.docName===d9;},d_.$0.plgDocs);};q.tryGetAct=function(d8,d9){var d_;d_=q.tryGetPlugIn(d8);return d_==null?null:K.tryFind(function(d$){return d$.actName===d9;},d_.$0.plgActions);};q.callFunction=function(d8,d9,d_){if(d_.$==1)d_.$0(d8);else if(d_.$==2)(d_.$0(d8))(d9);else d_.$0();};q.tryGetVar=function(d8,d9){var d_;d_=q.tryGetPlugIn(d8);return d_==null?null:K.tryFind(function(d$){return d$.varName===d9;},d_.$0.plgVars);};q.selectionPlugInO=function(){bM.$cctor();return bM.selectionPlugInO;};q.defaultPlugIn=function(){bM.$cctor();return bM.defaultPlugIn;};q.currentPlugInW=function(){bM.$cctor();return bM.currentPlugInW;};q.renderPlugIns=function(){return W.Flatten(q.plugIns().MapLens(function(d8){var d9,d_,d$,ea;return(d9=(d_=O.Make().WithHole({$:1,$0:"name",$1:d8}),d_.WithHole(Q.EventQ2(d_.k,"select",function(){return d_.i;},function(){q.selectionPlugInO().Set({$:1,$0:d8});}))).WithHole({$:2,$0:"selected",$1:i.Map(function(eb){return G.Equals(eb,{$:1,$0:d8})?"selected":"";},q.selectionPlugInO().get_View())}),(d$=Q.CompleteHoles(d9.k,d9.h,[]),(ea=new R.New(d$[1],cB.tile(d$[0])),(d9.i=ea,ea)))).get_Doc();}));};q.renderVars=function(){function d8(d_,d$){return[d_.plgName,d$.varName];}function d9(d_,d$){var ea,eb,ec;return(ea=O.Make().WithHole({$:1,$0:"name",$1:d$.varName}).WithHole({$:8,$0:"value",$1:d$.varVar}),(eb=Q.CompleteHoles(ea.k,ea.h,[["value",0]]),(ec=new R.New(eb[1],cB.namevalueinput(eb[0])),(ea.i=ec,ec)))).get_Doc();}return W.ConvertBy(function(d_){return d8(d_[0],d_[1]);},function(d_){return d9(d_[0],d_[1]);},i.Map(function(d_){return be.map(function(d$){return[d_,d$];},d_.plgVars);},q.currentPlugInW()));};q.renderViews=function(){function d8(d_,d$){return[d_.plgName,d$.viwName];}function d9(d_,d$){var ea,eb,ec;return(ea=O.Make().WithHole({$:1,$0:"name",$1:d$.viwName}).WithHole({$:2,$0:"value",$1:d$.viwView}),(eb=Q.CompleteHoles(ea.k,ea.h,[]),(ec=new R.New(eb[1],cB.namevalue(eb[0])),(ea.i=ec,ec)))).get_Doc();}return W.ConvertBy(function(d_){return d8(d_[0],d_[1]);},function(d_){return d9(d_[0],d_[1]);},i.Map(function(d_){return be.map(function(d$){return[d_,d$];},d_.plgViews);},q.currentPlugInW()));};q.renderDocs=function(){function d8(d_,d$){return[d_.plgName,d$.docName];}function d9(d_,d$){var ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek;return(ea=(eb=(ec=d$.docName+(ed=d$.docDoc,ed.$==1?(ee=bl.concat(", ",bY.ofArray([ed.$1])),(function(el){return function(em){return el("("+bC.toSafe(em)+")");};}(a.id))(ee)):ed.$==2?(ef=bl.concat(", ",bY.ofArray([ed.$1,ed.$2])),(function(el){return function(em){return el("("+bC.toSafe(em)+")");};}(a.id))(ef)):ed.$==3?(eg=bl.concat(", ",bY.ofArray([ed.$1,ed.$2,ed.$3])),(function(el){return function(em){return el("("+bC.toSafe(em)+")");};}(a.id))(eg)):ed.$==4?(eh=bl.concat(", ",bY.ofArray([ed.$1,ed.$2,ed.$3,ed.$4])),(function(el){return function(em){return el("("+bC.toSafe(em)+")");};}(a.id))(eh)):ed.$==5?(ei=bl.concat(", ",bY.ofArray([ed.$1,ed.$2,ed.$3,ed.$4,ed.$5])),(function(el){return function(em){return el("("+bC.toSafe(em)+")");};}(a.id))(ei)):""),O.Make().WithHole({$:1,$0:"name",$1:ec})),eb.WithHole(Q.EventQ2(eb.k,"select",function(){return eb.i;},function(){i.Get(function(el){q.mainDocV().Set(el.plgName+"."+d$.docName);},q.currentPlugInW());}))),(ej=Q.CompleteHoles(ea.k,ea.h,[]),(ek=new R.New(ej[1],cB.tile(ej[0])),(ea.i=ek,ek)))).get_Doc();}return W.ConvertBy(function(d_){return d8(d_[0],d_[1]);},function(d_){return d9(d_[0],d_[1]);},i.Map(function(d_){return be.map(function(d$){return[d_,d$];},d_.plgDocs);},q.currentPlugInW()));};q.renderActions=function(){function d8(d_,d$){return[d_.plgName,d$.actName];}function d9(d_,d$){var ea,eb,ec,ed;ea=(eb=d$.actFunction,eb.$==1?(ec=bl.concat(", ",bY.ofArray([eb.$1])),(function(ee){return function(ef){return ee("("+bC.toSafe(ef)+")");};}(a.id))(ec)):eb.$==2?(ed=bl.concat(", ",bY.ofArray([eb.$1,eb.$2])),(function(ee){return function(ef){return ee("("+bC.toSafe(ef)+")");};}(a.id))(ed)):"");return W.EmbedView(i.Map(function(ee){var ef,eg,eh,ei,ej,ek,el,em;return ee?(ef=(eg=O.Make().WithHole({$:1,$0:"name",$1:d$.actName+ea}),eg.WithHole(Q.EventQ2(eg.k,"click",function(){return eg.i;},function(en){q.callFunction(en,null,d$.actFunction);}))),(eh=Q.CompleteHoles(ef.k,ef.h,[]),(ei=new R.New(eh[1],cB.action(eh[0])),(ef.i=ei,ei)))).get_Doc():(ej=(ek=O.Make().WithHole({$:1,$0:"name",$1:d$.actName}),ek.WithHole(Q.EventQ2(ek.k,"click",function(){return ek.i;},function(en){q.callFunction(en,null,d$.actFunction);}))),(el=Q.CompleteHoles(ej.k,ej.h,[]),(em=new R.New(el[1],cB.actiondisabled(el[0])),(ej.i=em,em)))).get_Doc();},d$.actEnabled));}return W.ConvertBy(function(d_){return d8(d_[0],d_[1]);},function(d_){return d9(d_[0],d_[1]);},i.Map(function(d_){return be.map(function(d$){return[d_,d$];},d_.plgActions);},q.currentPlugInW()));};q.renderQueries=function(){function d8(d_,d$){return[d_.plgName,d$.qryName];}function d9(d_,d$){var ea,eb,ec,ed;return(ea=(eb=O.Make().WithHole({$:1,$0:"name",$1:d$.qryName}),eb.WithHole(Q.EventQ2(eb.k,"select",function(){return eb.i;},function(){a.alert(d$.qryFunction(null));}))),(ec=Q.CompleteHoles(ea.k,ea.h,[]),(ed=new R.New(ec[1],cB.tile(ec[0])),(ea.i=ed,ed)))).get_Doc();}return W.ConvertBy(function(d_){return d8(d_[0],d_[1]);},function(d_){return d9(d_[0],d_[1]);},i.Map(function(d_){return be.map(function(d$){return[d_,d$];},d_.plgQueries);},q.currentPlugInW()));};q.newQry=function(d8,d9){return b9.New(d8,d9);};q.AppFwkClient=function(){bM.$cctor();return bM.AppFwkClient;};q.actHello=function(){bM.$cctor();return bM.actHello;};q.qryDocs=function(){bM.$cctor();return bM.qryDocs;};q.horizontal=function(d8,d9,d_,d$,ea){var eb,ec,ed,ee;return(eb=(ec=O.Make().WithHole({$:2,$0:"partsizes",$1:d8}).WithHole({$:7,$0:"afterrender",$1:d9}).WithHole({$:7,$0:"afterrendersp",$1:d_}),ec.WithHole(Q.EventQ2(ec.k,"mousedown",function(){return ec.i;},function(ef){d$(ef.Event);}))).WithHole({$:2,$0:"gap",$1:ea}),(ed=Q.CompleteHoles(eb.k,eb.h,[]),(ee=new R.New(ed[1],cB.wcompsplitterhor(ed[0])),(eb.i=ee,ee)))).get_Doc();};q.vertical=function(d8,d9,d_,d$,ea){var eb,ec,ed,ee;return(eb=(ec=O.Make().WithHole({$:2,$0:"partsizes",$1:d8}).WithHole({$:7,$0:"afterrender",$1:d9}).WithHole({$:7,$0:"afterrendersp",$1:d_}),ec.WithHole(Q.EventQ2(ec.k,"mousedown",function(){return ec.i;},function(ef){d$(ef.Event);}))).WithHole({$:2,$0:"gap",$1:ea}),(ed=Q.CompleteHoles(eb.k,eb.h,[]),(ee=new R.New(ed[1],cB.wcompsplitterver(ed[0])),(eb.i=ee,ee)))).get_Doc();};q.mainDoc=function(){var d8,d9,d_,d$,ea,eb;return(d8=(d9=q.getMainClientDoc(),(d_=(d$=q.mainDocV().get_View(),O.Make().WithHole({$:2,$0:"maindoc",$1:d$})),d_.WithHole(Q.EventQ2(d_.k,"goclient",function(){return d_.i;},function(){q.mainDocV().Set("AppFramework.AppFwkClient");}))).WithHole({$:0,$0:"mainclient",$1:d9})),(ea=Q.CompleteHoles(d8.k,d8.h,[]),(eb=new R.New(ea[1],cB.appframework(ea[0])),(d8.i=eb,eb)))).get_Doc();};q.splitName=function(d8){function d9(d$){return bW.splitByChar(".",d$);}function d_(d$){return K.length(d$)===1?[d8,K.get(d$,0)]:[K.get(d$,0),K.get(d$,1)];}return function(d$){return d_(d9(d$));};};q.tryGetPlugIn=function(d8){return q.plugIns().TryFindByKey(d8);};q.newActF=function(d8,d9){return bJ.New(d8,d9,i.Const(true));};q.tryGetViw=function(d8,d9){var d_;d_=q.tryGetPlugIn(d8);return d_==null?null:K.tryFind(function(d$){return d$.viwName===d9;},d_.$0.plgViews);};q.getMainClientDoc=function(){var d8;return W.EmbedView((d8=q.plugIns().v,i.Map2(function(d9,d_){var d$,ea;d$=be.tryPick(function(eb){var ec;ec=be.tryFind(function(ed){return eb.plgName===d9||eb.plgName+"."+ed.docName===d9;},eb.plgDocs);return ec==null?null:{$:1,$0:q.getLazyDoc(ec.$0)};},d_);ea=q.AppFwkClient().f();return d$==null?ea:d$.$0;},q.mainDocV().get_View(),d8)));};q.tryGetVoV=function(d8,d9){var d_,d$,ea;d_=(d$=q.tryGetVar(d8,d9),d$==null?null:{$:1,$0:{$:1,$0:d$.$0.varVar}});return d_==null?(ea=q.tryGetViw(d8,d9),ea==null?null:{$:1,$0:new cs.New(ea.$0.viwView,a.ignore)}):d_.$0;};q.tryGetWoW=function(d8,d9){var d_,d$,ea;d_=(d$=q.tryGetViw(d8,d9),d$==null?null:{$:1,$0:{$:1,$0:d$.$0.viwView}});return d_==null?(ea=q.tryGetVar(d8,d9),ea==null?null:{$:1,$0:ea.$0.varVar.get_View()}):d_.$0;};q.getLazyDoc=function(d8){var d9;d9=d8.docDoc;return d9.$==0?d9.$0.f():W.Element("div",[],[W.TextNode((function(d_){return function(d$){return d_("Doc with parameters not allowed here: "+cC.p(d$));};}(a.id))(d8))]);};r.New=function(d8,d9,d_,d$,ea,eb){return{plgName:d8,plgVars:d9,plgViews:d_,plgDocs:d$,plgActions:ea,plgQueries:eb};};s.Create=function(d8){return ba.New(false,d8,s.forceLazy);};s.forceLazy=function(){var d8;d8=this.v();this.c=true;this.v=d8;this.f=s.cachedLazy;return d8;};s.cachedLazy=function(){return this.v;};s.CreateFromValue=function(d8){return ba.New(true,d8,s.cachedLazy);};t.aliados=function(){var d8,d9,d_,d$,ea,eb,ec;function ed(em){var en,eo;en=(eo=d9.Get(),eo==null?null:{$:1,$0:eo.$0(em)});return en==null?[]:en.$0;}function ee(em){return em.nReferidos===0?"-":(((d0.Curried3(function(en,eo,ep){return en(a.String(eo)+"/"+a.String(ep));}))(a.id))(em.nRefActivos))(em.nReferidos);}function ef(em){return em.nDescendientes===0?"-":(((d0.Curried3(function(en,eo,ep){return en(a.String(eo)+"/"+a.String(ep));}))(a.id))(em.nDescActivos))(em.nDescendientes);}function eg(em){return em===0?"-":n.money(em);}function eh(em){return i.Map(function(en){return be.isEmpty(ed(em))?"":G.Equals(en==null?null:{$:1,$0:en.$0.Contains(em)},{$:1,$0:true})?"Expandido":"Colapsado";},d8.get_View());}function ei(em){var en,eo,ep;d8.Set({$:1,$0:((G.Equals((en=d8.Get(),en==null?null:{$:1,$0:en.$0.Contains(em)}),{$:1,$0:true})?function(eq){return function(er){return er.Remove(eq);};}:function(eq){return function(er){return er.Add(eq);};})(em))((eo=d8.Get(),(ep=new bj.New$1(null),eo==null?ep:eo.$0)))});}function ej(em){n.selAliadoIdOV().Set({$:1,$0:em});}function ek(em){var en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eG,eH;function eA(eI){return eI.comision;}function eB(eI){return eI.status;}function eC(eI){return[eI.nRefActivos,eI.nReferidos];}function eD(eI){return[eI.nDescActivos,eI.nDescendientes];}function eE(eI){return S.nombre(eI.datosPersonales);}function eF(eI){return be.delay(function(){return be.append([eI],be.delay(function(){var eJ,eK;return(eJ=(eK=d8.Get(),eK==null?null:{$:1,$0:eK.$0.Contains(eI.id)}),eJ==null?false:eJ.$0)?be.collect(eF,eH.hijos(eI)):[];}));});}eG=(en=(eo=(ep=(eq=(er=(d0.Curried3(bg.desc))(eA),es=(d0.Curried3(bg.asc))(eB),d0.Curried(bg.op_AmpGreater,2,[function(eI,eJ){return(er(eI))(eJ);},function(eI,eJ){return(es(eI))(eJ);}])),et=(d0.Curried3(bg.desc))(eC),d0.Curried(bg.op_AmpGreater,2,[function(eI,eJ){return(eq(eI))(eJ);},function(eI,eJ){return(et(eI))(eJ);}])),eu=(d0.Curried3(bg.desc))(eD),d0.Curried(bg.op_AmpGreater,2,[function(eI,eJ){return(ep(eI))(eJ);},function(eI,eJ){return(eu(eI))(eJ);}])),ev=(d0.Curried3(bg.asc))(eE),d0.Curried(bg.op_AmpGreater,2,[function(eI,eJ){return(eo(eI))(eJ);},function(eI,eJ){return(ev(eI))(eJ);}])),be.sortWith(function(eI,eJ){return(en(eI))(eJ);},em));eH=S.busqueda(eG);d9.Set({$:1,$0:eH.hijosDe});try{ex=be.min(be.map(function(eI){return eI.nivel;},eG));}catch(eI){ex=1;}ey=be.filter(function(eJ){return eJ.nivel===ex;},eG);be.isEmpty(ey)?d8.Set(null):d8.Get()==null?(d8.Set({$:1,$0:new bj.New(be.map(function(eJ){return eJ.id;},ey))}),ez=be.tryHead(be.map(function(eJ){return eJ.id;},ey)),ez==null?void 0:ej(ez.$0)):void 0;return be.delay(function(){return be.collect(eF,ey);});}function el(em,en){var eo,ep,eq,er,es,et;return(eo=(ep=(eq=(er=eh(em),O.Make().WithHole({$:2,$0:"nombre",$1:i.Map(function(eu){return S.nombre(eu.datosPersonales);},en)}).WithHole({$:2,$0:"status",$1:i.Map(function(eu){return(function(ev){return function(ew){return ev(bb.p(ew));};}(a.id))(eu.status);},en)}).WithHole({$:2,$0:"tipo",$1:i.Map(function(eu){return(function(ev){return function(ew){return ev(bb.p$1(ew));};}(a.id))(eu.tipo);},en)}).WithHole({$:2,$0:"nivel",$1:i.Map(function(eu){return a.String(eu.nivel);},en)}).WithHole({$:2,$0:"referidos",$1:i.Map(ee,en)}).WithHole({$:2,$0:"descendientes",$1:i.Map(ef,en)}).WithHole({$:2,$0:"comision",$1:i.Map(function(eu){return eg(eu.comision);},en)}).WithHole({$:2,$0:"expandido",$1:er})),eq.WithHole(Q.EventQ2(eq.k,"expandir",function(){return eq.i;},function(){ei(em);}))).WithHole({$:2,$0:"seleccionado",$1:i.Map(function(eu){return G.Equals({$:1,$0:em},eu)?"seleccionado":"";},n.selAliadoIdOV().get_View())}),ep.WithHole(Q.EventQ2(ep.k,"seleccionar",function(){return ep.i;},function(){ej(em);}))),(es=Q.CompleteHoles(eo.k,eo.h,[]),(et=new R.New(es[1],T.filaaliado(es[0])),(eo.i=et,et)))).get_Doc();}d8=h.Create$1(null);d9=h.Create$1(null);return(d_=(d$=W.ConvertSeqBy(function(em){return em.id;},function(em){return function(en){return el(em,en);};},(ea=i.Map(function(em){return em.aliados;},n.modeloV().get_View()),i.Map2(function(em,en){return ek(en);},d8.get_View(),ea))),O.Make().WithHole({$:0,$0:"tbody",$1:d$})),(eb=Q.CompleteHoles(d_.k,d_.h,[]),(ec=new R.New(eb[1],T.tablaaliados(eb[0])),(d_.i=ec,ec)))).get_Doc();};u.aliado=function(){function d8(d9){var d_;d_=be.tryPick(function(d$){return d$.$==1?{$:1,$0:d$.$0.email}:null;},d9.contactos);return d_==null?"correo no encontrado!":d_.$0;}return n.selAliadoIdDoc(function(d9){var d_,d$,ea,eb;return(d_=(d$=u.calculo(),O.Make().WithHole({$:2,$0:"nombre",$1:i.Map(function(ec){return S.nombre2(ec.datosPersonales);},d9)}).WithHole({$:2,$0:"status",$1:i.Map(function(ec){return(function(ed){return function(ee){return ed(bb.p(ee));};}(a.id))(ec.status);},d9)}).WithHole({$:2,$0:"tipo",$1:i.Map(function(ec){return(function(ed){return function(ee){return ed(bb.p$1(ee));};}(a.id))(ec.tipo);},d9)}).WithHole({$:2,$0:"contacto",$1:i.Map(d8,d9)}).WithHole({$:0,$0:"calculo",$1:d$})),(ea=Q.CompleteHoles(d_.k,d_.h,[]),(eb=new R.New(ea[1],T.aliado(ea[0])),(d_.i=eb,eb)))).get_Doc();});};u.calculo=function(){var d8,d9;d8=i.Map(function(d_){return d_.premisas;},n.modeloV().get_View());d9=i.Map(function(d_){return d_.aliados;},n.modeloV().get_View());i.Map2(function(d_,d$){return be.tryFind(function(ea){return G.Equals(ea.id,d_);},d$);},i.Map(function(d_){return d_.idAliado;},n.modeloV().get_View()),d9);return n.selAliadoIdDoc(function(d_){var d$,ea,eb,ec,ed;d$=i.Map2(S.comision,d8,d_);ea=i.Map2(S.premisas,d8,d_);return(eb=O.Make().WithHole({$:2,$0:"referidos",$1:i.Map(function(ee){return(function(ef){return function(eg){return ef(a.String(eg));};}(a.id))(ee.nReferidos);},d_)}).WithHole({$:2,$0:"refactivos",$1:i.Map(function(ee){return(function(ef){return function(eg){return ef(a.String(eg));};}(a.id))(ee.nRefActivos);},d_)}).WithHole({$:2,$0:"comreferido",$1:i.Map(function(ee){return(function(ef){return function(eg){return ef(a.String(eg));};}(a.id))(ee.nRefActivos);},d_)}).WithHole({$:2,$0:"descendientes",$1:i.Map(function(ee){return(function(ef){return function(eg){return ef(a.String(eg));};}(a.id))(ee.nDescendientes);},d_)}).WithHole({$:2,$0:"desactivos",$1:i.Map(function(ee){return(function(ef){return function(eg){return ef(a.String(eg));};}(a.id))(ee.nDescActivos);},d_)}).WithHole({$:2,$0:"comision",$1:i.Map(function(ee){return n.money(ee[0]+ee[1]);},d$)}).WithHole({$:2,$0:"comreferido",$1:i.Map(function(ee){return n.money(ee[0]);},d$)}).WithHole({$:2,$0:"comdescendiente",$1:i.Map(function(ee){return n.money(ee[1]);},d$)}).WithHole({$:2,$0:"porreferido",$1:i.Map(function(ee){return n.money(ee[0]);},ea)}).WithHole({$:2,$0:"pordescendiente",$1:i.Map(function(ee){return n.money(ee[1]);},ea)}),(ec=Q.CompleteHoles(eb.k,eb.h,[]),(ed=new R.New(ec[1],T.calculo(ec[0])),(eb.i=ed,ed)))).get_Doc();});};v.formaDoc=function(){var d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek;d8=h.Create$1("");d9=h.Create$1(false);d_=h.Create$1(null);d$=h.Create$1(null);ea=h.Create$1(null);eb=h.Create$1(null);ec=bn.formaDoc(d_);ed=bo.formaDoc(d$);ee=bp.formaDoc(ea);ef=bq.formaDoc(eb);eg=(eh=(ei=O.Make().WithHole({$:2,$0:"mensajes",$1:i.Map2(function(el,em){return el?em:"";},d9.get_View(),d8.get_View())}).WithHole({$:0,$0:"datospersonales",$1:ec[1]}).WithHole({$:0,$0:"correo",$1:ed[1]}).WithHole({$:0,$0:"telefono",$1:ee[1]}).WithHole({$:0,$0:"direccion",$1:ef[1]}),ei.WithHole(Q.EventQ2(ei.k,"registrarse",function(){return ei.i;},function(){var el,em,en,eo,ep,eq,er,es,et,eu,ev;function ew(ex){a.alert(ex);}d9.Set(true);el=d8.Get();bl.Trim(el)!==""?a.alert(el):(em=d_.Get(),en=d$.Get(),eo=ea.Get(),ep=eb.Get(),em!=null&&em.$==1&&(en!=null&&en.$==1&&(eo!=null&&eo.$==1&&(ep!=null&&ep.$==1&&(eq=[en.$0,em.$0,ep.$0,eo.$0],true))))?(er=eq[0],es=eq[1],et=eq[2],eu=eq[3],bt.iterA(function(ex){return ew(by.summarized(ex));},a.ignore,(ev=bs.asyncResultM(),ev.Run(ev.Delay(function(){var ex;return ev.Bind$4(P.ejecutarDataEventoNuevo({$:3,$0:[new l({$:0,$0:bl.Substring(bl.Replace((ex=bx.NewGuid(),a.String(ex)),"-",""),0,20)}),es,{$:1,$0:n.modeloV().Get().idAliado},[{$:1,$0:er},{$:2,$0:eu},{$:0,$0:et}]]}),function(ey){bv.refrescarData(true);a.alert((function(ez){return function(eA){return ez(U.p$2(eA));};}(a.id))(ey));return ev.Zero();});}))))):a.alert("Error not caught FormaRegistro"));}))),(ej=Q.CompleteHoles(eh.k,eh.h,[]),(ek=new R.New(ej[1],T.formaregistro(ej[0])),(eh.i=ek,ek))));i.Sink(function(el){d8.Set(el);},i.Apply(i.Apply(i.Map2(function(el,em){return function(en){return function(eo){var ep;ep=bl.concat(", ",be.delay(function(){return be.append(el,be.delay(function(){return be.append(em,be.delay(function(){return be.append(en,be.delay(function(){return eo;}));}));}));}));return ep!==""?"Campos requeridos: "+ep:"";};};},ec[0],ed[0]),ee[0]),ef[0]));return eg.get_Doc();};w.formaDoc=function(){return n.aliadoIdDoc(w.formaAliado);};w.formaAliado=function(d8){var d9,d_,d$,ea,eb,ec,ed,ee,ef;function eg(ei){return{$:1,$0:ei};}function eh(ei){d$.Set(ei);}d9=h.Create$1("");d_=h.Create$1(false);d$=h.Create$1(null);i.Sink(function(ei){return eh(eg(ei));},i.Map(function(ei){return ei.datosPersonales;},d8));ea=bn.formaDoc(d$);eb=(ec=(ed=O.Make().WithHole({$:2,$0:"mensajes",$1:i.Map2(function(ei,ej){return ei?ej:"";},d_.get_View(),d9.get_View())}).WithHole({$:2,$0:"changed",$1:i.Map2(function(ei,ej){return G.Equals({$:1,$0:ei.datosPersonales},ej)?"":"mui-btn--primary";},d8,d$.get_View())}).WithHole({$:0,$0:"datospersonales",$1:ea[1]}),ed.WithHole(Q.EventQ2(ed.k,"salvar",function(){return ed.i;},function(){var ei,ej,ek,el,em,en,eo;function ep(eq){a.alert(eq);}d_.Set(true);ei=d9.Get();bl.Trim(ei)!==""?a.alert(ei):(ej=d$.Get(),ek=i.TryGet(d8),ej!=null&&ej.$==1&&(ek!=null&&ek.$==1&&(el=[ek.$0,ej.$0],true))?(em=el[0],en=el[1],bt.iterA(function(eq){return ep(by.summarized(eq));},a.ignore,(eo=bs.asyncResultM(),eo.Run(eo.Delay(function(){return eo.Bind$4(P.ejecutarDataEventoNuevo({$:4,$0:[em.id,en]}),function(eq){bv.refrescarData(true);a.alert((function(er){return function(es){return er(U.p$2(es));};}(a.id))(eq));return eo.Zero();});}))))):a.alert("Error not caught FormaDatos"));}))),(ee=Q.CompleteHoles(ec.k,ec.h,[]),(ef=new R.New(ee[1],T.formadatospersonales(ee[0])),(ec.i=ef,ef))));i.Sink(function(ei){d9.Set(ei);},i.Map(function(ei){var ej;ej=bl.concat(", ",be.delay(function(){return ei;}));return ej!==""?"Campos requeridos: "+ej:"";},ea[0]));return eb.get_Doc();};x.formaDoc=function(){return n.aliadoIdDoc(x.formaContactos);};x.formaContactos=function(d8){var d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq;function er(es,et){return function(eu){return new cs.New(i.Map(function(ev){var ew;ew=be.tryItem(eu,ev);return ew==null?null:es(ew.$0);},d$.get_View()),function(ev){if(ev!=null&&ev.$==1)d$.Set(cj.replace(eu,et(ev.$0),d$.Get()));});};}d9=h.Create$1("");d_=h.Create$1(false);d$=h.Create$1([]);i.Sink(function(es){d$.Set(es);},i.Map(function(es){return es.contactos;},d8));ea=i.Map(be.indexed,d$.get_View());eb=[function(es){return es.$==2?{$:1,$0:es.$0}:null;},function(es){return{$:2,$0:es};}];ec=[function(es){return es.$==1?{$:1,$0:es.$0}:null;},function(es){return{$:1,$0:es};}];ed=[function(es){return es.$==0?{$:1,$0:es.$0}:null;},function(es){return{$:0,$0:es};}];ee=i.Map(function(es){function et(eu,ev){return eb[0](ev)==null?null:{$:1,$0:eu};}return be.choose(function(eu){return et(eu[0],eu[1]);},es);},ea);ef=i.Map(function(es){function et(eu,ev){return ec[0](ev)==null?null:{$:1,$0:eu};}return be.choose(function(eu){return et(eu[0],eu[1]);},es);},ea);eg=i.Map(function(es){function et(eu,ev){return ed[0](ev)==null?null:{$:1,$0:eu};}return be.choose(function(eu){return et(eu[0],eu[1]);},es);},ea);eh=W.ConvertBy(a.id,function(es){return bB.removeButton(function(){d$.Set(cj.remove(es,d$.Get()));},(bp.formaDoc((function(et){return er(et[0],et[1]);}(eb))(es)))[1]);},ee);ei=W.ConvertBy(a.id,function(es){return bB.removeButton(function(){d$.Set(cj.remove(es,d$.Get()));},(bo.formaDoc((function(et){return er(et[0],et[1]);}(ec))(es)))[1]);},ef);ej=W.ConvertBy(a.id,function(es){return bB.removeButton(function(){d$.Set(cj.remove(es,d$.Get()));},(bq.formaDoc((function(et){return er(et[0],et[1]);}(ed))(es)))[1]);},eg);return(ek=(el=(em=(en=(eo=O.Make().WithHole({$:2,$0:"mensajes",$1:i.Map2(function(es,et){return es?et:"";},d_.get_View(),d9.get_View())}).WithHole({$:2,$0:"changed",$1:i.Map2(function(es,et){return G.Equals(es.contactos,et)?"":"mui-btn--primary";},d8,d$.get_View())}).WithHole({$:0,$0:"telefonos",$1:eh}).WithHole({$:0,$0:"correos",$1:ei}).WithHole({$:0,$0:"direcciones",$1:ej}),eo.WithHole(Q.EventQ2(eo.k,"mastelefono",function(){return eo.i;},function(){d$.Set(d$.Get().concat([{$:2,$0:k.telVacio()}]));}))),en.WithHole(Q.EventQ2(en.k,"mascorreo",function(){return en.i;},function(){d$.Set(d$.Get().concat([{$:1,$0:k.correoVacio()}]));}))),em.WithHole(Q.EventQ2(em.k,"masdireccion",function(){return em.i;},function(){d$.Set(d$.Get().concat([{$:0,$0:k.dirVacio()}]));}))),el.WithHole(Q.EventQ2(el.k,"salvar",function(){return el.i;},function(){var es,et,eu,ev;function ew(ex){a.alert(ex);}d_.Set(true);es=d9.Get();bl.Trim(es)!==""?a.alert(es):(et=i.TryGet(d8),et!=null&&et.$==1?(eu=et.$0,bt.iterA(function(ex){return ew(by.summarized(ex));},a.ignore,(ev=bs.asyncResultM(),ev.Run(ev.Delay(function(){return ev.Bind$4(P.ejecutarDataEventoNuevo({$:5,$0:[eu.id,d$.Get()]}),function(ex){bv.refrescarData(true);a.alert((function(ey){return function(ez){return ey(U.p$2(ez));};}(a.id))(ex));return ev.Zero();});}))))):a.alert("Error not caught FormaDatos"));}))),(ep=Q.CompleteHoles(ek.k,ek.h,[]),(eq=new R.New(ep[1],T.formacontactos(ep[0])),(ek.i=eq,eq)))).get_Doc();};y.formaDoc=function(){return n.aliadoIdDoc(y.formaFormasPago);};y.formaFormasPago=function(d8){var d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek;function el(eq,er){return function(es){return new cs.New(i.Map(function(et){var eu;eu=be.tryItem(es,et);return eu==null?null:eq(eu.$0);},d$.get_View()),function(et){var eu;if(et!=null&&et.$==1){eu=et.$0;d$.Set(cj.replace(es,(er(K.get(d$.Get(),es)))(bB.fst3(eu[0],eu[1],eu[2])),d$.Get()));}});};}function em(eq){var er;function es(et){a.alert(et);}bt.iterA(function(et){return es(by.summarized(et));},function(et){a.alert(et);},(er=bs.asyncResultM(),er.Run(er.Delay(function(){return er.Bind$1(bI.ofResult(cq.MapError(function(et){return new by({$:1,$0:et});},eq.authorizeIdR)),function(et){return er.Bind$4(P.validarFormaPago(et),function(eu){return er.Return(eu);});});}))));}function en(eq,er){return bB.removeButton(function(){d$.Set(cj.remove(eq,d$.Get()));},W.Concat(bY.ofSeq(be.delay(function(){return be.append([er],be.delay(function(){return[W.Button("validar",[cF.Create("title","validar forma de pago"),cx.Dynamic("style",i.Map(function(es){return K.get(es,eq).authorizeIdR.$==0?"":"display:None";},d$.get_View()))],function(){em(K.get(d$.Get(),eq));})];}));}))));}function eo(eq){return bH.New("",bf.Error(""),eq);}function ep(eq){return new bj.New(be.choose(function(er){var es;es=er.authorizeIdR;return es.$==0?{$:1,$0:es.$0}:null;},eq));}d9=h.Create$1("");d_=h.Create$1(false);d$=h.Create$1([]);i.Sink(function(eq){d$.Set(eq);},n.formasPagoAliadoV().get_View());y.refrescarFormasPago();ea=i.Map(be.indexed,d$.get_View());eb=i.Map(function(eq){function er(es,et){return(y.ftar())[0](et)==null?null:{$:1,$0:es};}return be.choose(function(es){return er(es[0],es[1]);},eq);},ea);ec=i.Map(function(eq){function er(es,et){return(y.fcta())[0](et)==null?null:{$:1,$0:es};}return be.choose(function(es){return er(es[0],es[1]);},eq);},ea);ed=W.ConvertBy(a.id,function(eq){return en(eq,(cp.formaDocO((function(er){return el(er[0],er[1]);}(y.ftar()))(eq)))[1]);},eb);ee=W.ConvertBy(a.id,function(eq){return en(eq,(co.formaDocO((function(er){return el(er[0],er[1]);}(y.fcta()))(eq)))[1]);},ec);return(ef=(eg=(eh=(ei=O.Make().WithHole({$:2,$0:"mensajes",$1:i.Map2(function(eq,er){return eq?er:"";},d_.get_View(),d9.get_View())}).WithHole({$:0,$0:"tarjetas",$1:ed}).WithHole({$:0,$0:"cuentas",$1:ee}),ei.WithHole(Q.EventQ2(ei.k,"mastarjeta",function(){return ei.i;},function(){d$.Set(d$.Get().concat([eo({$:1,$0:k.tarVacio()})]));}))),eh.WithHole(Q.EventQ2(eh.k,"mascuenta",function(){return eh.i;},function(){d$.Set(d$.Get().concat([eo({$:0,$0:k.ctaVacio()})]));}))).WithHole({$:2,$0:"changed",$1:i.Map2(function(eq,er){return G.Equals(eq,er)?"":"mui-btn--primary";},n.formasPagoAliadoV().get_View(),d$.get_View())}),eg.WithHole(Q.EventQ2(eg.k,"salvar",function(){return eg.i;},function(){var eq,er,es;function et(eu){a.alert(eu);}d_.Set(true);eq=d9.Get();bl.Trim(eq)!==""?a.alert(eq):(er=i.TryGet(d8),er!=null&&er.$==1?bt.iterA(function(eu){return et(by.summarized(eu));},a.ignore,(es=bs.asyncResultM(),es.Run(es.Delay(function(){return es.Combine$1(es.For(bj.op_Subtraction(ep(n.formasPagoAliadoV().Get()),ep(d$.Get())),function(eu){return es.Bind$4(P.borrarFormaPago(eu),function(ev){return es.Bind$2(new by({$:3,$0:ev}),function(){return es.Return();});});}),es.Delay(function(){return es.Combine$1(es.For(d$.Get(),function(eu){var ev,ew,ex,ey;ev=(ew=eu.cuentaPago,ew.$==1&&(!(ew.$0.numero.get_Id().indexOf("X")!=-1)&&(ex=ew.$0,true))?{$:1,$0:P.registrarTarjeta(ex)}:ew.$==0&&(!(ew.$0.numero.get_Id().indexOf("X")!=-1)&&(ey=ew.$0,true))?{$:1,$0:P.registrarCuenta(ey)}:null);return ev!=null&&ev.$==1?es.Bind$4(ev.$0,function(ez){return es.Bind$2(new by({$:3,$0:ez}),function(){return es.Return();});}):es.Zero();}),es.Delay(function(){y.refrescarFormasPago();return es.Zero();}));}));})))):a.alert("Error not caught FormaDatos"));}))),(ej=Q.CompleteHoles(ef.k,ef.h,[]),(ek=new R.New(ej[1],T.formacuentas(ej[0])),(ef.i=ek,ek)))).get_Doc();};y.msg=function(d8){var d9;d9=d8.authorizeIdR;return d9.$==0?(function(d_){return function(d$){return d_("Cuenta verificada: "+U.p$3(d$));};}(a.id))(d9.$0):d9.$0===""?"La cuenta aun no ha sido verificada":d9.$0;};y.refrescarFormasPago=function(){bt.iterpA(function(d8){n.formasPagoAliadoV().Set(d8);},P.obtenerFormasDePago());};y.fcta=function(){_0.$cctor();return _0.fcta;};y.ftar=function(){_0.$cctor();return _0.ftar;};z.consolidado=function(){var d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er;function es(eG){return eG.nReferidos===0?"-":(((d0.Curried3(function(eH,eI,eJ){return eH(a.String(eI)+"/"+a.String(eJ));}))(a.id))(eG.nRefActivos))(eG.nReferidos);}function et(eG){return eG.nDescendientes===0?"-":(((d0.Curried3(function(eH,eI,eJ){return eH(a.String(eI)+"/"+a.String(eJ));}))(a.id))(eG.nDescActivos))(eG.nDescendientes);}function eu(eG){return eG===0?"-":n.money(eG);}function ev(eG){var eH,eI,eJ;eH=(eI=eG==null?null:(eJ=eG.$0,be.tryFind(function(eK){return G.Equals(eK.id,eJ);},n.modeloV().Get().aliados)),eI==null?null:{$:1,$0:S.nombre(eI.$0.datosPersonales)});return eH==null?"-":eH.$0;}function ew(eG){return bA.New(S.nombre(eG.datosPersonales),(function(eH){return function(eI){return eH(bb.p(eI));};}(a.id))(eG.status),(function(eH){return function(eI){return eH(bb.p$1(eI));};}(a.id))(eG.tipo),ev(eG.idPadreO),(function(eH){return function(eI){return eH(bl.PadRight(a.String(eI),9));};}(a.id))(eG.nivel),(function(eH){return function(eI){return eH(bl.PadRight(bC.toSafe(eI),9));};}(a.id))(es(eG)),(function(eH){return function(eI){return eH(bl.PadRight(bC.toSafe(eI),9));};}(a.id))(et(eG)),(function(eH){return function(eI){return eH(bl.PadRight(bC.toSafe(eI),9));};}(a.id))(eu(eG.comision)),bf["String.Right"]((function(eH){return function(eI){return eH(U.p$4(eI));};}(a.id))(eG.diaPago),2),bD.toYYYYMMDD("-",eG.fechaRegistro),(function(eH){return function(eI){return eH(bC.toSafe(eI));};}(a.id))(eG.id.get_Id()));}function ex(eG){return[eG.nombre,eG.status,eG.tipo,eG.referido,eG.nivel,eG.referidos,eG.descendientes,eG.comision,eG.diaPago,eG.desde,eG.Id];}function ey(eG,eH,eI){return function(eJ){var eK;eK=eJ[0];return[eG===eK?1:eK<eG?eK+1:eK,eG===1?!eH:eH,eJ[2]];};}function ez(eG){d9.Set(bA.New((function(eH){return ey(eH[0],eH[1],eH[2]);}(eG))(d9.Get().nombre),(function(eH){return ey(eH[0],eH[1],eH[2]);}(eG))(d9.Get().status),(function(eH){return ey(eH[0],eH[1],eH[2]);}(eG))(d9.Get().tipo),(function(eH){return ey(eH[0],eH[1],eH[2]);}(eG))(d9.Get().referido),(function(eH){return ey(eH[0],eH[1],eH[2]);}(eG))(d9.Get().nivel),(function(eH){return ey(eH[0],eH[1],eH[2]);}(eG))(d9.Get().referidos),(function(eH){return ey(eH[0],eH[1],eH[2]);}(eG))(d9.Get().descendientes),(function(eH){return ey(eH[0],eH[1],eH[2]);}(eG))(d9.Get().comision),(function(eH){return ey(eH[0],eH[1],eH[2]);}(eG))(d9.Get().diaPago),(function(eH){return ey(eH[0],eH[1],eH[2]);}(eG))(d9.Get().desde),(function(eH){return ey(eH[0],eH[1],eH[2]);}(eG))(d9.Get().Id)));}function eA(eG,eH){return d8.Set(K.map(function(eI){return G.Equals(eI.id,eG)?eH(eI):eI;},d8.Get()));}function eB(eG,eH){return eA(eG,function(eI){return m.New(eI.id,eI.idPadreO,eI.datosPersonales,eI.contactos,eI.identificacion,eI.isInternal,_2.tryParse(eH),eI.diaPago,eI.tipo,eI.fechaRegistro,eI.fechaStatus,eI.nReferidos,eI.nRefActivos,eI.nDescendientes,eI.nDescActivos,eI.comision,eI.nivel);});}function eC(eG,eH){var eI;eI=eH===""?null:{$:1,$0:new l({$:0,$0:eH})};return eA(eG,function(eJ){return m.New(eJ.id,eI,eJ.datosPersonales,eJ.contactos,eJ.identificacion,eJ.isInternal,eJ.status,eJ.diaPago,eJ.tipo,eJ.fechaRegistro,eJ.fechaStatus,eJ.nReferidos,eJ.nRefActivos,eJ.nDescendientes,eJ.nDescActivos,eJ.comision,eJ.nivel);});}function eD(eG){return be.tryFind(function(eH){return G.Equals(eH.id,eG);},n.modeloV().Get().aliados);}function eE(){var eG;function eH(eI){a.alert(eI);}bt.iterA(function(eI){return eH(by.summarized(eI));},a.ignore,(eG=bs.asyncResultM(),eG.Run(eG.Delay(function(){return eG.Combine$1(eG.For(d8.Get(),function(eI){var eJ,eK;eJ=eD(eI.id);return eJ!=null&&eJ.$==1?(eK=eJ.$0,!G.Equals(eI.status,eK.status)||!G.Equals(eI.idPadreO,eK.idPadreO)?eG.Bind$4(P.ejecutarDataEventoNuevo({$:8,$0:[eI.id,eI.status,eI.idPadreO]}),function(eL){return eG.Bind$2(new by({$:3,$0:(function(eM){return function(eN){return eM(U.p$2(eN));};}(a.id))(eL)}),function(){return eG.Return();});}):eG.Zero()):eG.Zero();}),eG.Delay(function(){bv.refrescarData(true);return eG.Zero();}));}))));}function eF(eG,eH){var eI,eJ,eK,eL,eM,eN,eO;return(eI=(eJ=new cs.New(i.Map(function(eP){return eP.referido;},eH),(eK=new l({$:0,$0:eG}),function(eP){return eC(eK,eP);})),(eL=new cs.New(i.Map(function(eP){return eP.status;},eH),(eM=new l({$:0,$0:eG}),function(eP){return eB(eM,eP);})),O.Make().WithHole({$:2,$0:"nombre",$1:i.Map(function(eP){return eP.nombre;},eH)}).WithHole({$:2,$0:"tipo",$1:i.Map(function(eP){return eP.tipo;},eH)}).WithHole({$:8,$0:"status",$1:eL})).WithHole({$:8,$0:"referido",$1:eJ})).WithHole({$:2,$0:"nivel",$1:i.Map(function(eP){return eP.nivel;},eH)}).WithHole({$:2,$0:"referidos",$1:i.Map(function(eP){return eP.referidos;},eH)}).WithHole({$:2,$0:"descendientes",$1:i.Map(function(eP){return eP.descendientes;},eH)}).WithHole({$:2,$0:"comision",$1:i.Map(function(eP){return eP.comision;},eH)}).WithHole({$:2,$0:"diapago",$1:i.Map(function(eP){return eP.diaPago;},eH)}).WithHole({$:2,$0:"desde",$1:i.Map(function(eP){return eP.desde;},eH)}).WithHole({$:2,$0:"id",$1:i.Map(function(eP){return eP.Id;},eH)}),(eN=Q.CompleteHoles(eI.k,eI.h,[["status",0],["referido",0]]),(eO=new R.New(eN[1],T.filaconsolidado(eN[0])),(eI.i=eO,eO)))).get_Doc();}d8=h.Create$1([]);i.Sink(function(eG){d8.Set(eG);},i.Map(function(eG){return eG.aliados;},n.modeloV().get_View()));d9=h.Create$1(bA.New([2,true,function(eG){return eG.nombre.toUpperCase();}],[3,true,function(eG){return eG.status.toUpperCase();}],[4,true,function(eG){return eG.tipo.toUpperCase();}],[5,true,function(eG){return eG.referido.toUpperCase();}],[6,true,function(eG){return eG.nivel.toUpperCase();}],[7,true,function(eG){return eG.referidos.toUpperCase();}],[8,false,function(eG){return eG.descendientes.toUpperCase();}],[1,true,function(eG){return eG.comision.toUpperCase();}],[9,true,function(eG){return eG.diaPago.toUpperCase();}],[10,true,function(eG){return eG.desde.toUpperCase();}],[11,true,function(eG){return eG.Id.toUpperCase();}]));d_=h.Create$1("");d$=W.BindView(function(eG){return bB.crearOptions2(be.map(function(eH){return[S.nombre2(eH.datosPersonales),eH.id.get_Id()];},eG.aliados));},n.modeloV().get_View());return(ea=(eb=W.ConvertSeqBy(function(eG){return eG.Id;},function(eG){return function(eH){return eF(eG,eH);};},i.Map3(function(eG,eH,eI){var eJ,eK,eL;function eM(eP,eQ,eR){return eR;}function eN(eP,eQ,eR,eS){return bg.op_AmpGreater(function(eT,eU){return(eP(eT))(eU);},function(eT,eU){return(eQ(eT))(eU);},eR,eS);}function eO(eP,eQ,eR){return(eQ?d0.Curried3(bg.asc):d0.Curried3(bg.desc))(eR);}eJ=bl.Trim(eI).toUpperCase();eK=K.map(function(eP){return eM(eP[0],eP[1],eP[2]);},ex(eH));eL=K.reduce(function(eP,eQ){return d0.Curried(eN,2,[eP,eQ]);},K.map(function(eP){return eO(eP[0],eP[1],eP[2]);},K.sortBy(function(eP){return a.id(eP[0],eP[1],eP[2]);},ex(eH))));return be.sortWith(function(eP,eQ){return(eL(eP))(eQ);},be.filter(function(eP){return eJ===""||be.exists(function(eQ){return eQ(eP).indexOf(eJ)!=-1;},eK);},be.map(ew,eG)));},i.Map(function(eG){return eG.aliados;},n.modeloV().get_View()),d9.get_View(),d_.get_View())),(ec=(ed=(ee=(ef=(eg=(eh=(ei=(ej=(ek=(el=(em=(en=W.BindView(bB.crearOptions,bB.statuses().get_View()),(eo=(ep=O.Make(),ep.WithHole(Q.EventQ2(ep.k,"salvar",function(){return ep.i;},function(){eE();}))),eo.WithHole(Q.EventQ2(eo.k,"cancelar",function(){return eo.i;},function(){d8.Set(n.modeloV().Get().aliados);}))).WithHole({$:2,$0:"changed",$1:i.Map2(function(eG,eH){return G.Equals(eG.aliados,eH)?"":"mui-btn--primary";},n.modeloV().get_View(),d8.get_View())}).WithHole({$:8,$0:"filtro",$1:d_}).WithHole({$:0,$0:"statuses",$1:en})).WithHole({$:0,$0:"referidores",$1:d$}),em.WithHole(Q.EventQ2(em.k,"sort_nombre",function(){return em.i;},function(){ez(d9.Get().nombre);}))),el.WithHole(Q.EventQ2(el.k,"sort_status",function(){return el.i;},function(){ez(d9.Get().status);}))),ek.WithHole(Q.EventQ2(ek.k,"sort_tipo",function(){return ek.i;},function(){ez(d9.Get().tipo);}))),ej.WithHole(Q.EventQ2(ej.k,"sort_referido",function(){return ej.i;},function(){ez(d9.Get().referido);}))),ei.WithHole(Q.EventQ2(ei.k,"sort_nivel",function(){return ei.i;},function(){ez(d9.Get().nivel);}))),eh.WithHole(Q.EventQ2(eh.k,"sort_referidos",function(){return eh.i;},function(){ez(d9.Get().referidos);}))),eg.WithHole(Q.EventQ2(eg.k,"sort_descendientes",function(){return eg.i;},function(){ez(d9.Get().descendientes);}))),ef.WithHole(Q.EventQ2(ef.k,"sort_comision",function(){return ef.i;},function(){ez(d9.Get().comision);}))),ee.WithHole(Q.EventQ2(ee.k,"sort_diapago",function(){return ee.i;},function(){ez(d9.Get().diaPago);}))),ed.WithHole(Q.EventQ2(ed.k,"sort_desde",function(){return ed.i;},function(){ez(d9.Get().desde);}))),ec.WithHole(Q.EventQ2(ec.k,"sort_id",function(){return ec.i;},function(){ez(d9.Get().Id);}))).WithHole({$:0,$0:"tbody",$1:eb})),(eq=Q.CompleteHoles(ea.k,ea.h,[["filtro",0]]),(er=new R.New(eq[1],T.consolidado(eq[0])),(ea.i=er,er)))).get_Doc();};A.comisiones=function(){var d8,d9,d_,d$,ea,eb;function ec(eg,eh){return eh===""?eg:eh;}function ed(){var eg;cu.Start((eg=null,cu.Delay(function(){return cu.Bind(i.GetAsync(d8),function(eh){a.saveAs(new a.Blob([bl.concat("\r\n",be.map(function(ei){var ej,ek;ej=ei[0];ek=ei[1];return(((((((d0.Curried(function(el,em,en,eo,ep,eq,er){return el(bC.toSafe(em)+","+bC.toSafe(en)+","+bC.toSafe(eo)+","+bC.toSafe(ep)+","+bC.prettyPrint(eq)+","+bC.prettyPrint(er));},7))(a.id))("22"))(ec("----------",ek.numero.get_Id())))(ec("----------",ek.routing.get_Id())))((function(el){return function(em){return el(a.String(em)+".00");};}(a.id))(ej.comision)))("----------"))(ek.titular===""?S.nombre2(ej.datosPersonales):ek.titular);},eh))],{type:"text/plain;charset=utf-8"}),"pagos.csv");return cu.Zero();});})),null);}function ee(eg,eh){return eg.id;}function ef(eg,eh){var ei,ej,ek,el,em;ei=i.Map(function(en){return en[0];},eh);ej=i.Map(function(en){return en[1];},eh);return(ek=O.Make().WithHole({$:1,$0:"codigo",$1:"22"}).WithHole({$:2,$0:"cuenta",$1:i.Map(function(en){return ec("----------",en.numero.get_Id());},ej)}).WithHole({$:2,$0:"aba",$1:i.Map(function(en){return ec("----------",en.routing.get_Id());},ej)}).WithHole({$:2,$0:"monto",$1:i.Map(function(en){return(function(eo){return function(ep){return eo(a.String(ep)+".00");};}(a.id))(en.comision);},ei)}).WithHole({$:1,$0:"identificacion",$1:"---------"}).WithHole({$:2,$0:"nombre",$1:i.Map2(function(en,eo){return ec(S.nombre2(en.datosPersonales),eo.titular);},ei,ej)}),(el=Q.CompleteHoles(ek.k,ek.h,[]),(em=new R.New(el[1],T.filapago(el[0])),(ek.i=em,em)))).get_Doc();}d8=i.MapAsync(function(eg){var eh,ei,ej;function ek(el){return cu.Return(el);}return cu.Bind((eh=bs.asyncResultM(),eh.Run(eh.Delay(function(){var el;el=be.filter(function(em){return em.comision>0;},eg);return eh.Bind$4(P.obtenerFormasDePagoPara(K.ofSeq(be.map(function(em){return em.id;},el))),function(em){function en(ep,eq){return G.Equals(ep.id,eq[0])?{$:1,$0:[ep,eq[1]]}:null;}function eo(ep,eq){var er,es;return[ep,(er=be.tryPick(function(et){var eu;eu=et.cuentaPago;return eu.$==0?{$:1,$0:eu.$0}:null;},eq),(es=k.ctaVacio(),er==null?es:er.$0))];}return eh.Return(be.choose(function(ep){return en(ep[0],ep[1]);},be.zip(el,be.map(function(ep){return eo(ep[0],ep[1]);},em))));});}))),(ei=(ej=[],function(el){return bI.defaultValue(ej,el);}),function(el){return ek(ei(el));}));},i.Map(function(eg){return eg.aliados;},n.modeloV().get_View()));return(d9=(d_=W.ConvertSeqBy(function(eg){return ee(eg[0],eg[1]);},function(eg){return function(eh){return ef(eg,eh);};},d8),(d$=O.Make(),d$.WithHole(Q.EventQ2(d$.k,"exportar",function(){return d$.i;},function(){ed();}))).WithHole({$:0,$0:"tbody",$1:d_})),(ea=Q.CompleteHoles(d9.k,d9.h,[]),(eb=new R.New(ea[1],T.tablapagos(ea[0])),(d9.i=eb,eb)))).get_Doc();};B.FailWith=function(d8){throw new dx(d8);};B.toInt=function(d8){var d9;d9=B.toUInt(d8);return d9>=2147483648?d9-4294967296:d9;};B.range=function(d8,d9){var d_;d_=1+d9-d8;return d_<=0?[]:be.init(d_,function(d$){return d$+d8;});};B.KeyValue=function(d8){return[d8.K,d8.V];};B.toUInt=function(d8){return(d8<0?d1.ceil(d8):d1.floor(d8))>>>0;};F.GetFields=function(d8){var d9,d_;d9=[];for(var d$ in d8)d9.push([d$,d8[d$]]);return d9;};F.GetFieldValues=function(d8){var d9,d_;d9=[];for(var d$ in d8)d9.push(d8[d$]);return d9;};G.Equals=function(d8,d9){var d_,d$,ea,eb;if(d8===d9)return true;else{d_=typeof d8;if(d_=="object"){if(d8===null||d8===void 0||d9===null||d9===void 0)return false;else if("Equals"in d8)return d8.Equals(d9);else if(d8 instanceof a.Array&&d9 instanceof a.Array)return G.arrayEquals(d8,d9);else if(d8 instanceof a.Date&&d9 instanceof a.Date)return G.dateEquals(d8,d9);else{d$=[true];for(var ec in d8)if(function(ed){d$[0]=!d8.hasOwnProperty(ed)||d9.hasOwnProperty(ed)&&G.Equals(d8[ed],d9[ed]);return!d$[0];}(ec))break;if(d$[0]){for(var ed in d9)if(function(ee){d$[0]=!d9.hasOwnProperty(ee)||d8.hasOwnProperty(ee);return!d$[0];}(ed))break;}return d$[0];}}else return d_=="function"&&("$Func"in d8?d8.$Func===d9.$Func&&d8.$Target===d9.$Target:"$Invokes"in d8&&"$Invokes"in d9&&G.arrayEquals(d8.$Invokes,d9.$Invokes));}};G.arrayEquals=function(d8,d9){var d_,d$;if(K.length(d8)===K.length(d9)){d_=true;d$=0;while(d_&&d$<K.length(d8)){!G.Equals(K.get(d8,d$),K.get(d9,d$))?d_=false:void 0;d$=d$+1;}return d_;}else return false;};G.dateEquals=function(d8,d9){return d8.getTime()===d9.getTime();};G.Compare=function(d8,d9){var d_,d$,ea,eb,ec,ed;if(d8===d9)return 0;else{d$=typeof d8;switch(d$=="function"?1:d$=="boolean"?2:d$=="number"?2:d$=="string"?2:d$=="object"?3:0){case 0:return typeof d9=="undefined"?0:-1;case 1:return B.FailWith("Cannot compare function values.");case 2:return d8<d9?-1:1;case 3:if(d8===null)ea=-1;else if(d9===null)ea=1;else if("CompareTo"in d8)ea=d8.CompareTo(d9);else if("CompareTo0"in d8)ea=d8.CompareTo0(d9);else if(d8 instanceof a.Array&&d9 instanceof a.Array)ea=G.compareArrays(d8,d9);else if(d8 instanceof a.Date&&d9 instanceof a.Date)ea=G.compareDates(d8,d9);else{eb=[0];for(var ee in d8)if(function(ef){return!d8.hasOwnProperty(ef)?false:!d9.hasOwnProperty(ef)?(eb[0]=1,true):(eb[0]=G.Compare(d8[ef],d9[ef]),eb[0]!==0);}(ee))break;if(eb[0]===0){for(var ef in d9)if(function(eg){return!d9.hasOwnProperty(eg)?false:!d8.hasOwnProperty(eg)&&(eb[0]=-1,true);}(ef))break;}ea=eb[0];}return ea;}}};G.compareArrays=function(d8,d9){var d_,d$;if(K.length(d8)<K.length(d9))return -1;else if(K.length(d8)>K.length(d9))return 1;else{d_=0;d$=0;while(d_===0&&d$<K.length(d8)){d_=G.Compare(K.get(d8,d$),K.get(d9,d$));d$=d$+1;}return d_;}};G.compareDates=function(d8,d9){return G.Compare(d8.getTime(),d9.getTime());};G.Hash=function(d8){var d9;d9=typeof d8;return d9=="function"?0:d9=="boolean"?d8?1:0:d9=="number"?d8:d9=="string"?G.hashString(d8):d9=="object"?d8==null?0:d8 instanceof a.Array?G.hashArray(d8):G.hashObject(d8):0;};G.hashString=function(d8){var d9,d_,d$;if(d8===null)return 0;else{d9=5381;for(d_=0,d$=d8.length-1;d_<=d$;d_++)d9=G.hashMix(d9,d8[d_].charCodeAt());return d9;}};G.hashArray=function(d8){var d9,d_,d$;d9=-34948909;for(d_=0,d$=K.length(d8)-1;d_<=d$;d_++)d9=G.hashMix(d9,G.Hash(K.get(d8,d_)));return d9;};G.hashObject=function(d8){var d9,d_;if("GetHashCode"in d8)return d8.GetHashCode();else{d9=[0];for(var d$ in d8)if(function(ea){d9[0]=G.hashMix(G.hashMix(d9[0],G.hashString(ea)),G.Hash(d8[ea]));return false;}(d$))break;return d9[0];}};G.hashMix=function(d8,d9){return(d8<<5)+d8+d9;};H.newLyt=function(d8,d9){return bL.New(d8,h.Create$1(d9));};H.addLayout=function(d8){i.Sink(function(d9){var d_;d_=H.createEntries(d8.lytName,d9);q.addPlugIn(r.New(d8.lytName,K.ofSeq(be.delay(function(){return be.append([q.newVar("Layout",d8.lytDefinition)],be.delay(function(){return H.getVarEntries(d_);}));})),[],K.ofSeq(be.delay(function(){return be.append(H.getDocEntries(d_),be.delay(function(){var d$;return be.append([q.newDocF("InputFile",{$:4,$0:(d$=d8.lytName,d0.Curried(H.inputFile,4,[d$])),$1:"attrs",$2:"Label",$3:"Action",$4:"[Doc]"})],be.delay(function(){var ea;return be.append([q.newDocF("InputLabel",{$:3,$0:(ea=d8.lytName,d0.Curried(H.inputLabel,3,[ea])),$1:"attrs",$2:"Label",$3:"Var"})],be.delay(function(){return[q.newDocF("none",{$:1,$0:H.none,$1:"x"})];}));}));}));})),[],[]));q.mainDocV().Set(q.mainDocV().Get());},d8.lytDefinition.get_View());};H.createEntries=function(d8,d9){return H.processLines(function(d_){return H.createEntryO(d8,d_);},bW.splitByChar("\n",d9));};H.getVarEntries=function(d8){function d9(d_){return d_[1];}return be.map(function(d_){return be.last(d9(d_));},be.groupBy(function(d_){return d_.varName;},be.choose(function(d_){return d_.$==0?{$:1,$0:d_.$0}:null;},d8)));};H.getDocEntries=function(d8){function d9(d_){return d_[1];}return be.map(function(d_){return be.last(d9(d_));},be.groupBy(function(d_){return d_.docName;},be.choose(function(d_){return d_.$==2?{$:1,$0:d_.$0}:null;},d8)));};H.inputFile=function(d8,d9,d_,d$,ea){var eb,ec,ed,ee;eb=(ec=(ed=((H.splitName())(d8))(d$),q.tryGetAct(ed[0],ed[1])),ec==null?null:{$:1,$0:(ee=ec.$0,W.Element("div",H.getAttrs(d8,d9,true),[W.Element("div",[cF.Create("class","input-group")],[W.Element("span",[cF.Create("class","input-group-btn")],[W.Element("label",[cF.Create("class","btn")],[H.getText(d8,d_,true),W.Element("input",[cF.Create("class","form-control"),cF.Create("type","file"),cx.Style("display","none"),cF.HandlerImpl("click",function(ef){return function(){ef.value="";};}),cF.HandlerImpl("change",function(ef){return function(){return q.callFunction(ef,null,ee.actFunction);};})],[])])]),ea!==""?H.singleDoc(d8,bY.ofArray([[ea,false]])):W.get_Empty()])]))});return eb==null?H.errDoc((function(ef){return function(eg){return ef("Action not found "+bC.toSafe(eg));};}(a.id))(d$)):eb.$0;};H.inputLabel=function(d8,d9,d_,d$){var ea,eb,ec;ea=(eb=(ec=((H.splitName())(d8))(d$),q.tryGetVar(ec[0],ec[1])),eb==null?null:{$:1,$0:W.Element("div",H.getAttrs(d8,d9,true),[W.Element("div",[cF.Create("class","input-group")],[W.Element("span",[cF.Create("class","input-group-addon")],[H.getText(d8,d_,true)]),W.Input([cF.Create("class","form-control")],eb.$0.varVar)])])});return ea==null?H.errDoc((function(ed){return function(ee){return ed("Var not found "+bC.toSafe(ee));};}(a.id))(d$)):ea.$0;};H.none=function(d8){return W.Element("span",[],[]);};H.turnToView=function(d8){return W.EmbedView(i.Map(d8,q.mainDocV().get_View()));};H.splitName=function(){bM.$cctor();return bM.splitName;};H.getDocFinal=function(d8,d9){var d_;d_=H.getDocF(d8,d9);return d_[1].$==0?d_[0]:H.errDoc((((d0.Curried3(function(d$,ea,eb){return d$("Too many parameters "+cC.p(ea)+" "+bC.printList(function(ec){return"("+bC.prettyPrint(ec[0])+", "+bC.prettyPrint(ec[1])+")";},eb));}))(a.id))(d9))(d8));};H.errDoc=function(d8){return W.Element("div",[],[W.TextNode(d8)]);};H.processLines=function(d8,d9){function d_(d$){var ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en;ea=be.tryHead(d$);return ea!=null&&ea.$==1?(eb=ea.$0,(ec=H.splitTokens(eb),ec.$==1&&(ee=(ef=ec.$0,H.Identifier(ef[0],ef[1])),ee!=null&&ee.$==1&&(ec.$1.$==1&&((eg=ec.$1.$0,H.Vertical(eg[0],eg[1])).$==2&&(ec.$1.$1.$==0&&(ed=ee.$0,true)))))?(eh=H.getExtraLines(function(eo){return bl.StartsWith(bl.Trim(eo),"|");},d$),d_((c2.createLayoutDefinitions(ed,c2.extractNodes(eh[0])))[1].concat(eh[1]))):ec.$==0?d_(bX.array(d$,{$:1,$0:1},null)):(ei=H.getExtraLines(function(eo){return bl.StartsWith(bl.Trim(eo),":");},d$),(ej=ei[1],(ek=ei[0],K.length(ek)>0?((function(eo){return function(ep){return eo("l = ;"+bC.toSafe(ep)+";");};}(function(eo){d2.log(eo);}))(eb),el=H.createLines(be.nth(0,bl.SplitChars(eb,[" "],1)),1,[],[],1,ek),em=el[0],en=el[1],d_(K.ofSeq(be.delay(function(){return be.append([eb+" "+bl.concat(" ",em)],be.delay(function(){return be.append(en,be.delay(function(){return ej;}));}));})))):K.ofSeq(be.delay(function(){var eo;return be.append((eo=d8(eb),eo!=null&&eo.$==1?[eo.$0]:[]),be.delay(function(){return d_(ej);}));}))))))):[];}return d_(d9);};H.createEntryO=function(d8,d9){var d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4,e5,e6,e7,e8,e9,e_,e$;try{d_=H.splitTokens(d9);return d_.$==1&&(ea=(eb=d_.$0,H.Identifier(eb[0],eb[1])),ea!=null&&ea.$==1&&(d_.$1.$==1&&((ec=d_.$1.$0,H.Vertical(ec[0],ec[1])).$==0&&(d_.$1.$1.$==1&&(ed=(ee=d_.$1.$1.$0,H.Measures$1(ee[0],ee[1])),ed!=null&&ed.$==1&&(d$=[d_.$1.$1.$1,ed.$0,ea.$0],true))))))?(ef=d$[2],H.entryDoc(ef,(H.createSplitterM())([d8,ef,true,d$[1],d$[0]]))):d_.$==1&&(eh=(ei=d_.$0,H.Identifier(ei[0],ei[1])),eh!=null&&eh.$==1&&(d_.$1.$==1&&((ej=d_.$1.$0,H.Vertical(ej[0],ej[1])).$==1&&(d_.$1.$1.$==1&&(ek=(el=d_.$1.$1.$0,H.Measures$1(el[0],el[1])),ek!=null&&ek.$==1&&(eg=[d_.$1.$1.$1,ek.$0,eh.$0],true))))))?(em=eg[2],H.entryDoc(em,(H.createSplitterM())([d8,em,false,eg[1],eg[0]]))):d_.$==1&&(eo=(ep=d_.$0,H.Identifier(ep[0],ep[1])),eo!=null&&eo.$==1&&(d_.$1.$==1&&((eq=d_.$1.$0,H.Var(eq[0],eq[1])).$==2&&(d_.$1.$1.$==1&&(er=(es=d_.$1.$1.$0,H.Identifier(es[0],es[1])),er!=null&&er.$==1&&(d_.$1.$1.$1.$==1&&(d_.$1.$1.$1.$1.$==1&&(d_.$1.$1.$1.$1.$1.$==0&&(en=[er.$0,d_.$1.$1.$1.$0,eo.$0,d_.$1.$1.$1.$1.$0],true)))))))))?(et=en[2],H.entryDoc(et,(H.createButtonM())([d8,et,en[0],en[1],en[3]]))):d_.$==1&&(ev=(ew=d_.$0,H.Identifier(ew[0],ew[1])),ev!=null&&ev.$==1&&(d_.$1.$==1&&((ex=d_.$1.$0,H.Var(ex[0],ex[1])).$==3&&(d_.$1.$1.$==1&&(ey=(ez=d_.$1.$1.$0,H.Identifier(ez[0],ez[1])),ey!=null&&ey.$==1&&(d_.$1.$1.$1.$==1&&(d_.$1.$1.$1.$1.$==0&&(eu=[d_.$1.$1.$1.$0,ev.$0,ey.$0],true))))))))?(eA=eu[1],H.entryDoc(eA,(H.createInputM())([d8,eA,eu[2],eu[0]]))):d_.$==1&&(eC=(eD=d_.$0,H.Identifier(eD[0],eD[1])),eC!=null&&eC.$==1&&(d_.$1.$==1&&((eE=d_.$1.$0,H.Var(eE[0],eE[1])).$==4&&(d_.$1.$1.$==1&&(eF=(eG=d_.$1.$1.$0,H.Identifier(eG[0],eG[1])),eF!=null&&eF.$==1&&(d_.$1.$1.$1.$==1&&(d_.$1.$1.$1.$1.$==0&&(eB=[d_.$1.$1.$1.$0,eC.$0,eF.$0],true))))))))?(eH=eB[1],H.entryDoc(eH,(H.createTextAreaM())([d8,eH,eB[2],eB[0]]))):d_.$==1&&(eJ=(eK=d_.$0,H.Identifier(eK[0],eK[1])),eJ!=null&&eJ.$==1&&(d_.$1.$==1&&((eL=d_.$1.$0,H.Var(eL[0],eL[1])).$==0&&(d_.$1.$1.$==1&&(d_.$1.$1.$1.$==0&&(eI=[eJ.$0,d_.$1.$1.$0],true))))))?(eM=eI[0],H.entryVar(eM,(H.createVarM())([d8,eM,eI[1][0]]))):d_.$==1&&(eO=(eP=d_.$0,H.Identifier(eP[0],eP[1])),eO!=null&&eO.$==1&&(d_.$1.$==1&&((eQ=d_.$1.$0,H.Var(eQ[0],eQ[1])).$==1&&(d_.$1.$1.$==1&&(eN=[d_.$1.$1.$0,eO.$0,d_.$1.$1.$1],true)))))?(eR=eN[1],H.entryDoc(eR,(H.createDocM())([d8,eR,eN[0][0],eN[2]]))):d_.$==1&&(eT=(eU=d_.$0,H.Identifier(eU[0],eU[1])),eT!=null&&eT.$==1&&(d_.$1.$==1&&((eV=d_.$1.$0,H.Vertical(eV[0],eV[1])).$==4&&(d_.$1.$1.$==1&&(d_.$1.$1.$1.$==1&&(eS=[d_.$1.$1.$1.$0,d_.$1.$1.$1.$1,eT.$0,d_.$1.$1.$0],true))))))?(eW=eS[2],H.entryDoc(eW,(H.createTemplateM())([d8,eW,eS[3],eS[0],eS[1]]))):d_.$==1&&(eY=(eZ=d_.$0,H.Identifier(eZ[0],eZ[1])),eY!=null&&eY.$==1&&(d_.$1.$==1&&((e0=d_.$1.$0,H.Concat(e0[0],e0[1])).$==0&&(eX=[d_.$1.$1,eY.$0],true))))?(e1=eX[1],H.entryDoc(e1,(H.createConcatM())([d8,e1,eX[0]]))):d_.$==1&&(e3=(e4=d_.$0,H.Identifier(e4[0],e4[1])),e3!=null&&e3.$==1&&(d_.$1.$==1&&((e5=d_.$1.$0,H.Vertical(e5[0],e5[1])).$==3&&(d_.$1.$1.$==1&&(d_.$1.$1.$1.$==1&&(d_.$1.$1.$1.$1.$==1&&(e2=[d_.$1.$1.$1.$1.$0,d_.$1.$1.$0,d_.$1.$1.$1.$1.$1,e3.$0,d_.$1.$1.$1.$0],true)))))))?null:d_.$==1&&(e7=(e8=d_.$0,H.Identifier(e8[0],e8[1])),e7!=null&&e7.$==1&&(d_.$1.$==1&&(e9=(e_=d_.$1.$0,H.Vertical(e_[0],e_[1])),e9.$==5&&(d_.$1.$1.$==1&&(e6=[d_.$1.$1.$0,d_.$1.$1.$1,e9.$0,e7.$0],true)))))?(e$=e6[3],H.entryDoc(e$,(H.createElementM())([d8,e$,e6[2],e6[0],e6[1]]))):null;}catch(fa){((function(fb){return function(fc){return fb(bC.prettyPrint(fc));};}(function(fb){d2.log(fb);}))(fa));return null;}};H.getAttrs=function(d8,d9,d_){var d$;d$=[d9,d_];return bY.ofSeq(be.delay(function(){return be.append(be.choose(function(ea){var eb,ec,ed,ee,ef,eg;return!G.Equals(ea,null)&&ea.length===2&&(ec=K.get(ea,1),bl.Trim(K.get(ea,0))!==""&&bl.Trim(ec)!=="")?(ed=K.get(ea,1),(ee=K.get(ea,0),{$:1,$0:(ef=H.getTextData(d8,bl.Trim(ed)),ef.$==1?cx.Dynamic(bl.Trim(ee),ef.$0):ef.$==2?(eg=ef.$0,cx.Handler(bl.Trim(ee),function(eh){return function(ei){return q.callFunction(eh,ei,eg.actFunction);};})):cF.Create(bl.Trim(ee),bl.Trim(ef.$0)))})):null;},be.map(function(ea){return bW.splitByChar("=",ea);},bW.splitByChar(";",d$[0]))),be.delay(function(){return be.choose(function(ea){var eb,ec,ed,ee,ef;return!G.Equals(ea,null)&&ea.length===2&&(ec=K.get(ea,1),bl.Trim(K.get(ea,0))!==""&&bl.Trim(ec)!=="")?(ed=K.get(ea,1),(ee=K.get(ea,0),{$:1,$0:(ef=H.getTextData(d8,bl.Trim(ed)),ef.$==1?cx.DynamicStyle(bl.Trim(ee),ef.$0):ef.$==2?cx.Style(bl.Trim(ee),(function(eg){return function(eh){return eg("${"+bC.toSafe(eh)+"}");};}(a.id))(ef.$0.actName)):cx.Style(bl.Trim(ee),bl.Trim(ef.$0)))})):null;},be.map(function(ea){return bW.splitByChar(":",ea);},bW.splitByChar(";",d$[0])));}));}));};H.getText=function(d8,d9,d_){var d$,ea,eb,ec,ed,ee,ef,eg,eh;d$=H.Identifier(d9,d_);return d$!=null&&d$.$==1?(ea=d$.$0,(eb=((H.splitName())(d8))(ea),(ec=eb[0],(ed=eb[1],(ee=(ef=q.tryGetViw(ec,ed),ef==null?null:{$:1,$0:W.TextView(ef.$0.viwView)}),ee==null?(eg=(eh=q.tryGetVar(ec,ed),eh==null?null:{$:1,$0:W.TextView(eh.$0.varVar.get_View())}),eg==null?W.TextNode(ea):eg.$0):ee.$0))))):W.TextNode(d9);};H.singleDoc=function(d8,d9){return W.EmbedView(i.Map(function(d_){var d$;return d_.$==1&&(d_.$1.$==0&&(d$=d_.$0,true))?d$:H.errDoc((function(ea){return function(eb){return ea("expected exactly 1 element "+bC.printList(function(ec){return"("+bC.prettyPrint(ec[0])+", "+bC.prettyPrint(ec[1])+")";},eb));};}(a.id))(d9));},i.Map(function(){return H.getDocs(d8,d9);},q.mainDocV().get_View())));};H.createSplitter=function(d8,d9,d_,d$,ea){var eb;eb=H.pairOfDocs(d8,ea);return d$.$==1?H.variableSplitter(d_,d$.$0,d$.$1,d$.$2,eb[0],eb[1]):H.fixedSplitter(d_,d$.$0,d$.$1,eb[0],eb[1]);};H.createButton=function(d8,d9,d_,d$,ea){return H.turnToView(function(){var eb,ec,ed,ee,ef;function eg(eh,ei){return q.callFunction(null,null,eh.actFunction);}eb=(ec=(ed=(ee=((H.splitName())(d8))(d_),q.tryGetAct(ee[0],ee[1])),ed==null?null:{$:1,$0:(ef=ed.$0,function(eh){return eg(ef,eh);})}),ec==null?a.ignore:ec.$0);return W.Button(ea[0],H.getAttrs(d8,d$[0],d$[1]),eb);});};H.createInput=function(d8,d9,d_,d$){return H.turnToView(function(){var ea,eb,ec,ed,ee;ea=(eb=(ec=((H.splitName())(d8))(d_),q.tryGetVoV(ec[0],ec[1])),(ed=(ee=H.getAttrs(d8,d$[0],d$[1]),function(ef){return W.Input(ee,ef);}),eb==null?null:{$:1,$0:ed(eb.$0)}));return ea==null?H.errDoc((function(ef){return function(eg){return ef("Missing var: "+bC.toSafe(eg));};}(a.id))(d_)):ea.$0;});};H.createTextArea=function(d8,d9,d_,d$){return H.turnToView(function(){var ea,eb,ec,ed,ee;ea=(eb=(ec=((H.splitName())(d8))(d_),q.tryGetVoV(ec[0],ec[1])),(ed=(ee=H.getAttrs(d8,d$[0],d$[1]),function(ef){return W.InputArea(ee,ef);}),eb==null?null:{$:1,$0:ed(eb.$0)}));return ea==null?H.errDoc((function(ef){return function(eg){return ef("Missing var: "+bC.toSafe(eg));};}(a.id))(d_)):ea.$0;});};H.createElement=function(d8,d9,d_,d$,ea){var eb;eb=[H.turnToView(function(){return W.Concat(H.getDocs(d8,ea));})];return W.Element(d_,H.getAttrs(d8,d$[0],d$[1]),eb);};H.createDoc=function(d8,d9,d_,d$){return H.turnToView(function(){var ea,eb,ec;ea=(eb=(ec=((H.splitName())(d8))(d_),q.tryGetDoc(ec[0],ec[1])),eb==null?null:{$:1,$0:H.getDocFinal(d$,eb.$0)});return ea==null?H.errDoc((function(ed){return function(ee){return ed("Missing doc: "+bC.toSafe(ee));};}(a.id))(d_)):ea.$0;});};H.createTemplate=function(d8,d9,d_,d$,ea){return H.turnToView(function(){var eb,ec,ed,ee,ef,eg;ed=H.getAttrs(d8,d$[0],d$[1]);cJ.LoadLocalTemplates("local");function eh(ej,ek){var el,em,en,eo,ep,eq,er,es,et,eu,ev,ew;el=H.Identifier(ek[0],ek[1]);return el!=null&&el.$==1?(em=el.$0,en=ej[0],eo=(ep=(eq=(er=((H.splitName())(d8))(em),q.tryGetDoc(er[0],er[1])),eq==null?null:{$:1,$0:{$:0,$0:en,$1:(H.getDocF(cc.Empty,eq.$0))[0]}}),ep==null?(es=(et=((H.splitName())(d8))(em),q.tryGetVar(et[0],et[1])),es==null?null:{$:1,$0:{$:8,$0:en,$1:es.$0.varVar}}):ep),eo==null?{$:0,$0:en,$1:H.errDoc((function(ex){return function(ey){return ex("Missing element: "+bC.toSafe(ey));};}(a.id))(em))}:eo.$0):(eu=ej[0],ev=H.getTextData(d8,ek[0]),ev.$==1?{$:2,$0:eu,$1:ev.$0}:ev.$==2?(ew=ev.$0,{$:4,$0:eu,$1:function(ex){return function(ey){return q.callFunction(ex,ey,ew.actFunction);};}}):{$:1,$0:eu,$1:ev.$0});}function ei(ej,ek){return ej%2===0;}try{ec={$:1,$0:(ee=(ef=be.map(function(ej){return eh(ej[0],ej[1]);},be.map(function(ej){return ej[1];},be.filter(function(ej){return ei(ej[0],ej[1]);},be.indexed(be.pairwise(ea))))),(be.isEmpty(ed)?a.id:(eg=[{$:3,$0:"attrs",$1:cF.Concat(ed)}],function(ej){return be.append(eg,ej);}))(ef)),cJ.NamedTemplate("local",{$:1,$0:d_[0]},ee))};}catch(ej){ec=null;}return ec==null?H.errDoc((function(ek){return function(el){return ek("Missing template: "+bC.toSafe(el));};}(a.id))(d_[0])):ec.$0;});};H.createConcat=function(d8,d9,d_){return H.turnToView(function(){return W.Concat(H.getDocs(d8,d_));});};H.createVar=function(d8,d9,d_){return h.Create$1(d_);};H.addNewLayout=function(d8,d9){var d_,d$;H.addLayout((d_=(d$=!G.Equals(d9,null)?d9:"\r\n            split horizontal 0-50-100 AppFramework.AppFwkClient Hello\r\n            Hello h1 \"color:blue; class=btn-primary\" \"How are you today?\" Ask\r\n            Ask Doc InputLabel \"placeholder=Type you answer here...\" \"Answer:\" AppFramework.mainDocV  \r\n            ",(bW.unindentStr())(d$)),H.newLyt(!G.Equals(d9,null)?d8:"Lyt_"+bl.Replace(a.String(bx.NewGuid()),"-",""),d_)));};H.getDocF=function(d8,d9){var d_,d$;d$=d9.docDoc;switch(d$.$==1?d8.$==1?(d_=[d$.$0,d8.$0[0],d8.$1],1):6:d$.$==2?d8.$==1?d8.$1.$==1?(d_=[d$.$0,d8.$0[0],d8.$1.$0[0],d8.$1.$1],2):6:6:d$.$==3?d8.$==1?d8.$1.$==1?d8.$1.$1.$==1?(d_=[d$.$0,d8.$0[0],d8.$1.$0[0],d8.$1.$1.$0[0],d8.$1.$1.$1],3):6:6:6:d$.$==4?d8.$==1?d8.$1.$==1?d8.$1.$1.$==1?d8.$1.$1.$1.$==1?(d_=[d$.$0,d8.$0[0],d8.$1.$0[0],d8.$1.$1.$0[0],d8.$1.$1.$1.$0[0],d8.$1.$1.$1.$1],4):6:6:6:6:d$.$==5?d8.$==1?d8.$1.$==1?d8.$1.$1.$==1?d8.$1.$1.$1.$==1?d8.$1.$1.$1.$1.$==1?(d_=[d$.$0,d8.$0[0],d8.$1.$0[0],d8.$1.$1.$0[0],d8.$1.$1.$1.$0[0],d8.$1.$1.$1.$1.$0[0],d8.$1.$1.$1.$1.$1],5):6:6:6:6:6:(d_=[d$.$0,d8],0)){case 0:return[d_[0].f(),d_[1]];case 1:return[d_[0](d_[1]),d_[2]];case 2:return[(d_[0](d_[1]))(d_[2]),d_[3]];case 3:return[((d_[0](d_[1]))(d_[2]))(d_[3]),d_[4]];case 4:return[(((d_[0](d_[1]))(d_[2]))(d_[3]))(d_[4]),d_[5]];case 5:return[((((d_[0](d_[1]))(d_[2]))(d_[3]))(d_[4]))(d_[5]),d_[6]];case 6:return[W.Element("div",[],[W.TextNode((((d0.Curried3(function(ea,eb,ec){return ea("Parameters do not coincide with definition "+cC.p(eb)+" - "+bC.printList(function(ed){return"("+bC.prettyPrint(ed[0])+", "+bC.prettyPrint(ed[1])+")";},ec));}))(a.id))(d9))(d8))]),cc.Empty];}};H.splitTokens=function(d8){return bY.ofSeq(be.collect(a.id,be.mapi(function(d9,d_){var d$;return d9%2===1?[[d_,true]]:(d$=bl.Trim(d_),d$===""?[]:K.map(function(ea){return[ea,false];},bl.SplitChars(d$,[" "],1)));},bW.splitByChar("\"",d8))));};H.Identifier=function(d8,d9){var d_,d$,ea;return(d$=p.REGEX$1("^[$a-zA-Z_][0-9a-zA-Z_\\.\\-$]*$","",d8),d$!=null&&d$.$==1&&((ea=d$.$0,!G.Equals(ea,null)&&ea.length===1)&&(d9?false:(d_=K.get(d$.$0,0),true))))?{$:1,$0:d_}:null;};H.Vertical=function(d8,d9){var d_,d$,ea,eb,ec,ed;return(d9?false:d8==="vertical")?{$:0,$0:null}:(d9?false:d8==="horizontal")?{$:1,$0:null}:(d9?false:d8==="layout")?{$:2,$0:null}:(d9?false:d8==="grid")?{$:3,$0:null}:(d9?false:d8==="template")?{$:4,$0:null}:(ed=H.Identifier(d8,d9),ed!=null&&ed.$==1?{$:5,$0:ed.$0}:{$:6,$0:null});};H.getExtraLines=function(d8,d9){var d_,d$,ea,eb;d_=(d$=(ea=be.tryFindIndex(function(ec){return bl.Trim(ec)!==""&&!d8(ec);},be.skip(1,d9)),ea==null?null:{$:1,$0:1+ea.$0}),(eb=K.length(d9),d$==null?eb:d$.$0));return[bX.array(d9,{$:1,$0:1},{$:1,$0:d_-1}),bX.array(d9,{$:1,$0:d_},null)];};H.createLines=function(d8,d9,d_,d$,ea,eb){var ec,ed,ee,ef,eg,eh,ei,ej,ek,el;ec=bl.replicate(d9,":");ed=":"+ec;ee=be.tryHead(eb);return ee!=null&&ee.$==1?(ef=bW.StartsWith(ec,bl.Trim(ee.$0)),ef!=null&&ef.$==1?(eg=ef.$0,(eh=H.getExtraLines(function(em){return bl.StartsWith(bl.Trim(em),ed);},eb),(ei=(((d0.Curried3(function(em,en,eo){return em(bC.toSafe(en)+"_"+a.String(eo));}))(a.id))(d8))(ea),(ej=H.createLines(ei,d9+1,[],[],1,eh[0]),(ek=ej[1],(el=ej[0],H.createLines(d8,d9,K.ofSeq(be.delay(function(){return be.append(d_,be.delay(function(){return[ei];}));})),K.ofSeq(be.delay(function(){return be.append(d$,be.delay(function(){return be.append([ei+" "+eg+" "+bl.concat(" ",el)],be.delay(function(){return ek;}));}));})),ea+1,eh[1]))))))):[d_,d$]):[d_,d$];};H.Measures$1=function(d8,d9){var d_,d$,ea,eb,ec,ed,ee,ef,eg,eh;d_=[d8,d9];return d_[1]?null:(d$=bW.splitByChar("-",d_[0]),!G.Equals(d$,null)&&d$.length===1&&(eb=(cd.Double())(K.get(d$,0)),eb!=null&&eb.$==1&&(ea=eb.$0,true))?{$:1,$0:new df({$:0,$0:ea,$1:true})}:!G.Equals(d$,null)&&d$.length===2&&(K.get(d$,0)===""&&(ed=(cd.Double())(K.get(d$,1)),ed!=null&&ed.$==1&&(ec=ed.$0,true)))?{$:1,$0:new df({$:0,$0:ec,$1:false})}:!G.Equals(d$,null)&&d$.length===3&&(ef=(cd.Double())(K.get(d$,0)),ef!=null&&ef.$==1&&(eg=(cd.Double())(K.get(d$,1)),eg!=null&&eg.$==1&&(eh=(cd.Double())(K.get(d$,2)),eh!=null&&eh.$==1&&(ee=[eh.$0,ef.$0,eg.$0],true))))?{$:1,$0:new df({$:1,$0:ee[1],$1:ee[2],$2:ee[0]})}:null);};H.entryDoc=function(d8,d9){return{$:1,$0:{$:2,$0:q.newDoc(d8,s.Create(function(){return d9;}))}};};H.createSplitterM=function(){bM.$cctor();return bM.createSplitterM;};H.Var=function(d8,d9){var d_,d$,ea,eb,ec,ed;return(d9?false:d8==="Var")?{$:0,$0:null}:(d9?false:d8==="Doc")?{$:1,$0:null}:(d9?false:d8==="button")?{$:2,$0:null}:(d9?false:d8==="input")?{$:3,$0:null}:(d9?false:d8==="textarea")?{$:4,$0:null}:(d9?false:d8==="select")?{$:5,$0:null}:{$:6,$0:null};};H.createButtonM=function(){bM.$cctor();return bM.createButtonM;};H.createInputM=function(){bM.$cctor();return bM.createInputM;};H.createTextAreaM=function(){bM.$cctor();return bM.createTextAreaM;};H.entryVar=function(d8,d9){return{$:1,$0:{$:0,$0:q.newVar(d8,d9)}};};H.createVarM=function(){bM.$cctor();return bM.createVarM;};H.createDocM=function(){bM.$cctor();return bM.createDocM;};H.createTemplateM=function(){bM.$cctor();return bM.createTemplateM;};H.Concat=function(d8,d9){var d_;return(d9?false:d8==="concat")?{$:0,$0:null}:{$:1,$0:null};};H.createConcatM=function(){bM.$cctor();return bM.createConcatM;};H.createElementM=function(){bM.$cctor();return bM.createElementM;};H.getTextData=function(d8,d9){var d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek;d_=(d$=bW.delimitedO("@{","}",d9),d$==null?null:{$:1,$0:(ea=d$.$0,(eb=ea[0],(ec=ea[1],(ed=ea[2],(ee=((H.splitName())(d8))(ec),(ef=ee[0],(eg=ee[1],(eh=(ei=q.tryGetWoW(ef,eg),ei==null?null:{$:1,$0:function(el){var em,en;en=H.getTextData(d8,ed);switch(eb===""?en.$==1?(em=en.$0,2):en.$==2?(em=en.$0,3):en.$0===""?0:(em=en.$0,1):en.$==1?(em=en.$0,2):en.$==2?(em=en.$0,3):(em=en.$0,1)){case 0:return{$:1,$0:el};case 1:return{$:1,$0:i.Map(function(eo){return eb+eo+em;},el)};case 2:return{$:1,$0:i.Map2(function(eo,ep){return eb+eo+ep;},el,em)};case 3:return{$:2,$0:em};}}(ei.$0)}),eh==null?(ej=(ek=q.tryGetAct(ef,eg),ek==null?null:{$:1,$0:{$:2,$0:ek.$0}}),ej==null?{$:0,$0:((((d0.Curried(function(el,em,en,eo){return el(bC.toSafe(em)+" ${Missing "+bC.toSafe(en)+"}"+bC.toSafe(eo));},4))(a.id))(eb))(ec))(ed)}:ej.$0):eh.$0))))))))});return d_==null?{$:0,$0:d9}:d_.$0;};H.getDocs=function(d8,d9){var d_;return d9.$==0?cc.Empty:(d_=H.getOneDoc(d8,d9),new cc({$:1,$0:d_[0],$1:H.getDocs(d8,d_[1])}));};H.pairOfDocs=function(d8,d9){var d_;d_=i.Map(function(d$){var ea;return d$.$==1&&(d$.$1.$==1&&(d$.$1.$1.$==0&&(ea=[d$.$0,d$.$1.$0],true)))?[ea[0],ea[1]]:[H.errDoc((function(eb){return function(ec){return eb("splitter expects exactly 2 elements "+bC.printList(function(ed){return"("+bC.prettyPrint(ed[0])+", "+bC.prettyPrint(ed[1])+")";},ec));};}(a.id))(d9)),H.errDoc("part 2")];},i.Map(function(){return H.getDocs(d8,d9);},q.mainDocV().get_View()));return[W.EmbedView(i.Map(function(d$){return d$[0];},d_)),W.EmbedView(i.Map(function(d$){return d$[1];},d_))];};H.variableSplitter=function(d8,d9,d_,d$,ea,eb){return W.Element("wcomp-splitter",bY.ofSeq(be.delay(function(){return be.append(d8?[cF.Create("vertical","")]:[],be.delay(function(){return be.append([cF.Create("min",a.String(d9))],be.delay(function(){return be.append([cF.Create("value",a.String(d_))],be.delay(function(){return[cF.Create("max",a.String(d$))];}));}));}));})),bY.ofArray([ea,eb]));};H.fixedSplitter=function(d8,d9,d_,d$,ea){var eb,ec,ed,ee,ef,eg,eh;eb=(((d_?d0.Curried3(function(ei,ej,ek){return ei(ej.toFixed(6)+"px calc(100% - "+ek.toFixed(6)+"px)");}):d0.Curried3(function(ei,ej,ek){return ei("calc(100% - "+ej.toFixed(6)+"px) "+ek.toFixed(6)+"px");}))(a.id))(d9))(d9);return d8?(ec=O.Make().WithHole({$:1,$0:"partsizes",$1:eb}).WithHole({$:0,$0:"first",$1:d$}).WithHole({$:0,$0:"second",$1:ea}),(ed=Q.CompleteHoles(ec.k,ec.h,[]),(ee=new R.New(ed[1],cB.fixedsplitterver(ed[0])),(ec.i=ee,ee)))).get_Doc():(ef=O.Make().WithHole({$:1,$0:"partsizes",$1:eb}).WithHole({$:0,$0:"first",$1:d$}).WithHole({$:0,$0:"second",$1:ea}),(eg=Q.CompleteHoles(ef.k,ef.h,[]),(eh=new R.New(eg[1],cB.fixedsplitterhor(eg[0])),(ef.i=eh,eh)))).get_Doc();};H.getOneDoc=function(d8,d9){var d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em;return d9.$==1&&(d$=(ea=d9.$0,H.Identifier(ea[0],ea[1])),d$!=null&&d$.$==1&&(d_=[d$.$0,d9.$1],true))?(eb=d_[0],(ec=d_[1],(ed=((H.splitName())(d8))(eb),(ee=ed[0],(ef=ed[1],(eg=(eh=q.tryGetDoc(ee,ef),eh==null?null:{$:1,$0:H.getDocF(ec,eh.$0)}),eg==null?(ei=(ej=q.tryGetWoW(ee,ef),ej==null?null:{$:1,$0:[W.TextView(ej.$0),ec]}),ei==null?[H.errDoc((ek=(function(en){return function(eo){return en("Missing doc: "+bC.toSafe(eo));};}(a.id))(eb),(bf.print(ek),ek))),ec]:ei.$0):eg.$0)))))):d9.$==0?[W.get_Empty(),cc.Empty]:(el=d9.$1,(em=H.getTextData(d8,d9.$0[0]),em.$==1?[W.TextView(em.$0),el]:em.$==2?[H.errDoc((function(en){return function(eo){return en("Unexpected action: "+bC.toSafe(eo));};}(a.id))(em.$0.actName)),el]:[W.TextNode(em.$0),el]));};I.ofObj=function(d8){return d8==null?null:{$:1,$0:d8};};J=g.Var=d0.Class({},f,J);J.New=d0.Ctor(function(){f.New.call(this);},J);K.get=function(d8,d9){K.checkBounds(d8,d9);return d8[d9];};K.length=function(d8){return d8.dims===2?d8.length*d8.length:d8.length;};K.checkBounds=function(d8,d9){if(d9<0||d9>=d8.length)B.FailWith("Index was outside the bounds of the array.");};K.set=function(d8,d9,d_){K.checkBounds(d8,d9);d8[d9]=d_;};O=N.ProviderBuilder=d0.Class({WithHole:function(d8){this.h.push(d8);return this;}},null,O);O.Make=function(){var d8;return O.New(null,(d8=bx.NewGuid(),a.String(d8)),[]);};O.New=function(d8,d9,d_){return new O({i:d8,k:d9,h:d_});};P.llamadas=function(){_0.$cctor();return _0.llamadas;};P.ejecutarDataEventoNuevo=function(d8){var d9,d_;function d$(ea,eb){var ec;function ed(eh){return d3.stringify((bd.j$4())(eh));}function ee(eh){return d3.stringify((bd.j$1())(eh));}function ef(eh){return(bc.j$4())(d3.parse(eh));}function eg(eh){return(bc.j$1())(d3.parse(eh));}return((ec="ejecutarDataEventoNuevo",[function(eh){var ei,ej,ek;function el(eo){return ci.invoke(ec,eh,eo);}function em(eo){return bI.bind(eg,eo);}function en(eo){return cu.Return(eo);}ei=function(eo){return el(ed(eo));};ej=(ek=function(eo){return en(em(eo));},function(eo){return cu.Bind(eo,ek);});return function(eo){return ej(ei(eo));};},function(eh){ci.registroRpcs().Add(ec,function(ei){return function(ej){var ek;function el(em){return cu.Return(em);}return cu.Bind((ek=bs.asyncResultM(),ek.Run(ek.Delay(function(){var em;em=ef(ej);return ek.Bind$4((eh(ei))(em),function(en){return ek.Return(en);});}))),function(em){return el(ee(em));});};});}])[0](ea))(eb);}d9=o.get_LoggedId();d_=bs.asyncResultM();return d_.Run(d_.Delay(function(){function ea(ec){P.setLlamadas(P.llamadas().Get()-1);return ec;}function eb(ec){return cu.Return(ec);}P.setLlamadas(P.llamadas().Get()+1);return d_.Bind$4(cu.Bind(d$(d9,d8),function(ec){return eb(ea(ec));}),function(ec){return d_.Return(ec);});}));};P.obtenerFormasDePagoPara=function(d8){var d9,d_;function d$(ea,eb){var ec;function ed(eh){return d3.stringify(((de.EncodeArray(bd.j$6))())(eh));}function ee(eh){return d3.stringify((bd.j$48())(eh));}function ef(eh){return((de.DecodeArray(bc.j$6))())(d3.parse(eh));}function eg(eh){return(bc.j$48())(d3.parse(eh));}return((ec="obtenerFormasDePagoPara",[function(eh){var ei,ej,ek;function el(eo){return ci.invoke(ec,eh,eo);}function em(eo){return bI.bind(eg,eo);}function en(eo){return cu.Return(eo);}ei=function(eo){return el(ed(eo));};ej=(ek=function(eo){return en(em(eo));},function(eo){return cu.Bind(eo,ek);});return function(eo){return ej(ei(eo));};},function(eh){ci.registroRpcs().Add(ec,function(ei){return function(ej){var ek;function el(em){return cu.Return(em);}return cu.Bind((ek=bs.asyncResultM(),ek.Run(ek.Delay(function(){var em;em=ef(ej);return ek.Bind$4((eh(ei))(em),function(en){return ek.Return(en);});}))),function(em){return el(ee(em));});};});}])[0](ea))(eb);}d9=o.get_LoggedId();d_=bs.asyncResultM();return d_.Run(d_.Delay(function(){function ea(ec){P.setLlamadas(P.llamadas().Get()-1);return ec;}function eb(ec){return cu.Return(ec);}P.setLlamadas(P.llamadas().Get()+1);return d_.Bind$4(cu.Bind(d$(d9,d8),function(ec){return eb(ea(ec));}),function(ec){return d_.Return(ec);});}));};P.enviarCorreosInvitacion=function(d8,d9,d_){var d$,ea,eb;function ec(ed,ee){var ef;function eg(ek){return d3.stringify(((de.EncodeTuple([de.Id(),bd.j$6,de.EncodeArray(de.Id())]))())(ek));}function eh(ek){return d3.stringify((bd.j$32())(ek));}function ei(ek){return((de.DecodeTuple([de.Id(),bc.j$6,de.DecodeArray(de.Id())]))())(d3.parse(ek));}function ej(ek){return(bc.j$32())(d3.parse(ek));}return((ef="enviarCorreosInvitacion",[function(ek){var el,em,en;function eo(er){return ci.invoke(ef,ek,er);}function ep(er){return bI.bind(ej,er);}function eq(er){return cu.Return(er);}el=function(er){return eo(eg(er));};em=(en=function(er){return eq(ep(er));},function(er){return cu.Bind(er,en);});return function(er){return em(el(er));};},function(ek){ci.registroRpcs().Add(ef,function(el){return function(em){var en;function eo(ep){return cu.Return(ep);}return cu.Bind((en=bs.asyncResultM(),en.Run(en.Delay(function(){var ep;ep=ei(em);return en.Bind$4((ek(el))(ep),function(eq){return en.Return(eq);});}))),function(ep){return eo(eh(ep));});};});}])[0](ed))(ee);}d$=o.get_LoggedId();ea=[d8,d9,d_];eb=bs.asyncResultM();return eb.Run(eb.Delay(function(){function ed(ef){P.setLlamadas(P.llamadas().Get()-1);return ef;}function ee(ef){return cu.Return(ef);}P.setLlamadas(P.llamadas().Get()+1);return eb.Bind$4(cu.Bind(ec(d$,ea),function(ef){return ee(ed(ef));}),function(ef){return eb.Return(ef);});}));};P.obtenerUnions=function(){var d8,d9;function d_(d$,ea){var eb;function ec(eg){return d3.stringify(((de.Id())())(eg));}function ed(eg){return d3.stringify((bd.j$31())(eg));}function ee(eg){return((de.Id())())(d3.parse(eg));}function ef(eg){return(bc.j$31())(d3.parse(eg));}return((eb="obtenerUnions",[function(eg){var eh,ei,ej;function ek(en){return ci.invoke(eb,eg,en);}function el(en){return bI.bind(ef,en);}function em(en){return cu.Return(en);}eh=function(en){return ek(ec(en));};ei=(ej=function(en){return em(el(en));},function(en){return cu.Bind(en,ej);});return function(en){return ei(eh(en));};},function(eg){ci.registroRpcs().Add(eb,function(eh){return function(ei){var ej;function ek(el){return cu.Return(el);}return cu.Bind((ej=bs.asyncResultM(),ej.Run(ej.Delay(function(){var el;el=ee(ei);return ej.Bind$4((eg(eh))(el),function(em){return ej.Return(em);});}))),function(el){return ek(ed(el));});};});}])[0](d$))(ea);}d8=o.get_LoggedId();d9=bs.asyncResultM();return d9.Run(d9.Delay(function(){function d$(eb){P.setLlamadas(P.llamadas().Get()-1);return eb;}function ea(eb){return cu.Return(eb);}P.setLlamadas(P.llamadas().Get()+1);return d9.Bind$4(cu.Bind(d_(d8,void 0),function(eb){return ea(d$(eb));}),function(eb){return d9.Return(eb);});}));};P.iterA=function(d8){function d9(d_){a.alert(d_);}bt.iterA(function(d_){return d9(by.summarized(d_));},a.ignore,d8);};P.agregarUsuarioSiEsNuevo=function(d8){var d9,d_;function d$(ea,eb){var ec;function ed(eh){return d3.stringify(((de.EncodeArray(de.EncodeTuple([de.Id(),de.Id()])))())(eh));}function ee(eh){return d3.stringify((bd.j$32())(eh));}function ef(eh){return((de.DecodeArray(de.DecodeTuple([de.Id(),de.Id()])))())(d3.parse(eh));}function eg(eh){return(bc.j$32())(d3.parse(eh));}return((ec="agregarUsuarioSiEsNuevo",[function(eh){var ei,ej,ek;function el(eo){return ci.invoke(ec,eh,eo);}function em(eo){return bI.bind(eg,eo);}function en(eo){return cu.Return(eo);}ei=function(eo){return el(ed(eo));};ej=(ek=function(eo){return en(em(eo));},function(eo){return cu.Bind(eo,ek);});return function(eo){return ej(ei(eo));};},function(eh){ci.registroRpcs().Add(ec,function(ei){return function(ej){var ek;function el(em){return cu.Return(em);}return cu.Bind((ek=bs.asyncResultM(),ek.Run(ek.Delay(function(){var em;em=ef(ej);return ek.Bind$4((eh(ei))(em),function(en){return ek.Return(en);});}))),function(em){return el(ee(em));});};});}])[0](ea))(eb);}d9=o.get_LoggedId();d_=bs.asyncResultM();return d_.Run(d_.Delay(function(){function ea(ec){P.setLlamadas(P.llamadas().Get()-1);return ec;}function eb(ec){return cu.Return(ec);}P.setLlamadas(P.llamadas().Get()+1);return d_.Bind$4(cu.Bind(d$(d9,d8),function(ec){return eb(ea(ec));}),function(ec){return d_.Return(ec);});}));};P.obtenerEstadoParaUsuario=function(){var d8,d9;function d_(d$,ea){var eb;function ec(eg){return d3.stringify(((de.Id())())(eg));}function ed(eg){return d3.stringify((bd.j$28())(eg));}function ee(eg){return((de.Id())())(d3.parse(eg));}function ef(eg){return(bc.j$28())(d3.parse(eg));}return((eb="obtenerEstadoParaUsuario",[function(eg){var eh,ei,ej;function ek(en){return ci.invoke(eb,eg,en);}function el(en){return bI.bind(ef,en);}function em(en){return cu.Return(en);}eh=function(en){return ek(ec(en));};ei=(ej=function(en){return em(el(en));},function(en){return cu.Bind(en,ej);});return function(en){return ei(eh(en));};},function(eg){ci.registroRpcs().Add(eb,function(eh){return function(ei){var ej;function ek(el){return cu.Return(el);}return cu.Bind((ej=bs.asyncResultM(),ej.Run(ej.Delay(function(){var el;el=ee(ei);return ej.Bind$4((eg(eh))(el),function(em){return ej.Return(em);});}))),function(el){return ek(ed(el));});};});}])[0](d$))(ea);}d8=o.get_LoggedId();d9=bs.asyncResultM();return d9.Run(d9.Delay(function(){function d$(eb){P.setLlamadas(P.llamadas().Get()-1);return eb;}function ea(eb){return cu.Return(eb);}P.setLlamadas(P.llamadas().Get()+1);return d9.Bind$4(cu.Bind(d_(d8,void 0),function(eb){return ea(d$(eb));}),function(eb){return d9.Return(eb);});}));};P.borrarFormaPago=function(d8){var d9,d_;function d$(ea,eb){var ec;function ed(eh){return d3.stringify((bd.j$36())(eh));}function ee(eh){return d3.stringify((bd.j$47())(eh));}function ef(eh){return(bc.j$36())(d3.parse(eh));}function eg(eh){return(bc.j$47())(d3.parse(eh));}return((ec="borrarFormaPago",[function(eh){var ei,ej,ek;function el(eo){return ci.invoke(ec,eh,eo);}function em(eo){return bI.bind(eg,eo);}function en(eo){return cu.Return(eo);}ei=function(eo){return el(ed(eo));};ej=(ek=function(eo){return en(em(eo));},function(eo){return cu.Bind(eo,ek);});return function(eo){return ej(ei(eo));};},function(eh){ci.registroRpcs().Add(ec,function(ei){return function(ej){var ek;function el(em){return cu.Return(em);}return cu.Bind((ek=bs.asyncResultM(),ek.Run(ek.Delay(function(){var em;em=ef(ej);return ek.Bind$4((eh(ei))(em),function(en){return ek.Return(en);});}))),function(em){return el(ee(em));});};});}])[0](ea))(eb);}d9=o.get_LoggedId();d_=bs.asyncResultM();return d_.Run(d_.Delay(function(){function ea(ec){P.setLlamadas(P.llamadas().Get()-1);return ec;}function eb(ec){return cu.Return(ec);}P.setLlamadas(P.llamadas().Get()+1);return d_.Bind$4(cu.Bind(d$(d9,d8),function(ec){return eb(ea(ec));}),function(ec){return d_.Return(ec);});}));};P.registrarTarjeta=function(d8){var d9,d_;function d$(ea,eb){var ec;function ed(eh){return d3.stringify((bd.j$38())(eh));}function ee(eh){return d3.stringify((bd.j$47())(eh));}function ef(eh){return(bc.j$38())(d3.parse(eh));}function eg(eh){return(bc.j$47())(d3.parse(eh));}return((ec="registrarTarjeta",[function(eh){var ei,ej,ek;function el(eo){return ci.invoke(ec,eh,eo);}function em(eo){return bI.bind(eg,eo);}function en(eo){return cu.Return(eo);}ei=function(eo){return el(ed(eo));};ej=(ek=function(eo){return en(em(eo));},function(eo){return cu.Bind(eo,ek);});return function(eo){return ej(ei(eo));};},function(eh){ci.registroRpcs().Add(ec,function(ei){return function(ej){var ek;function el(em){return cu.Return(em);}return cu.Bind((ek=bs.asyncResultM(),ek.Run(ek.Delay(function(){var em;em=ef(ej);return ek.Bind$4((eh(ei))(em),function(en){return ek.Return(en);});}))),function(em){return el(ee(em));});};});}])[0](ea))(eb);}d9=o.get_LoggedId();d_=bs.asyncResultM();return d_.Run(d_.Delay(function(){function ea(ec){P.setLlamadas(P.llamadas().Get()-1);return ec;}function eb(ec){return cu.Return(ec);}P.setLlamadas(P.llamadas().Get()+1);return d_.Bind$4(cu.Bind(d$(d9,d8),function(ec){return eb(ea(ec));}),function(ec){return d_.Return(ec);});}));};P.registrarCuenta=function(d8){var d9,d_;function d$(ea,eb){var ec;function ed(eh){return d3.stringify((bd.j$43())(eh));}function ee(eh){return d3.stringify((bd.j$47())(eh));}function ef(eh){return(bc.j$43())(d3.parse(eh));}function eg(eh){return(bc.j$47())(d3.parse(eh));}return((ec="registrarCuenta",[function(eh){var ei,ej,ek;function el(eo){return ci.invoke(ec,eh,eo);}function em(eo){return bI.bind(eg,eo);}function en(eo){return cu.Return(eo);}ei=function(eo){return el(ed(eo));};ej=(ek=function(eo){return en(em(eo));},function(eo){return cu.Bind(eo,ek);});return function(eo){return ej(ei(eo));};},function(eh){ci.registroRpcs().Add(ec,function(ei){return function(ej){var ek;function el(em){return cu.Return(em);}return cu.Bind((ek=bs.asyncResultM(),ek.Run(ek.Delay(function(){var em;em=ef(ej);return ek.Bind$4((eh(ei))(em),function(en){return ek.Return(en);});}))),function(em){return el(ee(em));});};});}])[0](ea))(eb);}d9=o.get_LoggedId();d_=bs.asyncResultM();return d_.Run(d_.Delay(function(){function ea(ec){P.setLlamadas(P.llamadas().Get()-1);return ec;}function eb(ec){return cu.Return(ec);}P.setLlamadas(P.llamadas().Get()+1);return d_.Bind$4(cu.Bind(d$(d9,d8),function(ec){return eb(ea(ec));}),function(ec){return d_.Return(ec);});}));};P.validarFormaPago=function(d8){var d9,d_;function d$(ea,eb){var ec;function ed(eh){return d3.stringify((bd.j$36())(eh));}function ee(eh){return d3.stringify((bd.j$47())(eh));}function ef(eh){return(bc.j$36())(d3.parse(eh));}function eg(eh){return(bc.j$47())(d3.parse(eh));}return((ec="validarFormaPago",[function(eh){var ei,ej,ek;function el(eo){return ci.invoke(ec,eh,eo);}function em(eo){return bI.bind(eg,eo);}function en(eo){return cu.Return(eo);}ei=function(eo){return el(ed(eo));};ej=(ek=function(eo){return en(em(eo));},function(eo){return cu.Bind(eo,ek);});return function(eo){return ej(ei(eo));};},function(eh){ci.registroRpcs().Add(ec,function(ei){return function(ej){var ek;function el(em){return cu.Return(em);}return cu.Bind((ek=bs.asyncResultM(),ek.Run(ek.Delay(function(){var em;em=ef(ej);return ek.Bind$4((eh(ei))(em),function(en){return ek.Return(en);});}))),function(em){return el(ee(em));});};});}])[0](ea))(eb);}d9=o.get_LoggedId();d_=bs.asyncResultM();return d_.Run(d_.Delay(function(){function ea(ec){P.setLlamadas(P.llamadas().Get()-1);return ec;}function eb(ec){return cu.Return(ec);}P.setLlamadas(P.llamadas().Get()+1);return d_.Bind$4(cu.Bind(d$(d9,d8),function(ec){return eb(ea(ec));}),function(ec){return d_.Return(ec);});}));};P.setLlamadas=function(d8){P.llamadas().Set(d8);};P.obtenerFormasDePago=function(){var d8,d9;function d_(d$,ea){var eb;function ec(eg){return d3.stringify(((de.Id())())(eg));}function ed(eg){return d3.stringify((bd.j$33())(eg));}function ee(eg){return((de.Id())())(d3.parse(eg));}function ef(eg){return(bc.j$33())(d3.parse(eg));}return((eb="obtenerFormasDePago",[function(eg){var eh,ei,ej;function ek(en){return ci.invoke(eb,eg,en);}function el(en){return bI.bind(ef,en);}function em(en){return cu.Return(en);}eh=function(en){return ek(ec(en));};ei=(ej=function(en){return em(el(en));},function(en){return cu.Bind(en,ej);});return function(en){return ei(eh(en));};},function(eg){ci.registroRpcs().Add(eb,function(eh){return function(ei){var ej;function ek(el){return cu.Return(el);}return cu.Bind((ej=bs.asyncResultM(),ej.Run(ej.Delay(function(){var el;el=ee(ei);return ej.Bind$4((eg(eh))(el),function(em){return ej.Return(em);});}))),function(el){return ek(ed(el));});};});}])[0](d$))(ea);}d8=o.get_LoggedId();d9=bs.asyncResultM();return d9.Run(d9.Delay(function(){function d$(eb){P.setLlamadas(P.llamadas().Get()-1);return eb;}function ea(eb){return cu.Return(eb);}P.setLlamadas(P.llamadas().Get()+1);return d9.Bind$4(cu.Bind(d_(d8,void 0),function(eb){return ea(d$(eb));}),function(eb){return d9.Return(eb);});}));};Q.EventQ2=function(d8,d9,d_,d$){return{$:5,$0:d9,$1:true,$2:function(ea){return function(eb){return d$({Vars:d_(),Target:ea,Event:eb});};}};};Q.CompleteHoles=function(d8,d9,d_){var ea,eb,ec,ed,ee,ef;function d$(eg,eh){var ei,ej,ek,el;return eb.Contains(eg)?null:(ei=eh===0?(ej=h.Create$1(""),[{$:8,$0:eg,$1:ej},ej]):eh===1?(ek=h.Create$1(0),[{$:13,$0:eg,$1:ek},ek]):eh===2?(el=h.Create$1(false),[{$:9,$0:eg,$1:el},el]):B.FailWith("Invalid value type"),(ea.set_Item(eg,ei[1]),{$:1,$0:ei[0]}));}ea=new bO.New$5();eb=new bP.New$3();ec=b$.Get(d9);try{while(ec.MoveNext()){ed=ec.Current();(ed.$==8?(ee=[ed.$0,bQ.Box(ed.$1)],true):ed.$==11?(ee=[ed.$0,bQ.Box(ed.$1)],true):ed.$==10?(ee=[ed.$0,bQ.Box(ed.$1)],true):ed.$==13?(ee=[ed.$0,bQ.Box(ed.$1)],true):ed.$==12?(ee=[ed.$0,bQ.Box(ed.$1)],true):ed.$==9&&(ee=[ed.$0,bQ.Box(ed.$1)],true))?(ef=ee[0],eb.Add(ef),ea.set_Item(ef,ee[1])):void 0;}}finally{if(typeof ec=="object"&&"Dispose"in ec)ec.Dispose();}return[be.append(d9,K.choose(function(eg){return d$(eg[0],eg[1]);},d_)),{$:0,$0:ea}];};R=N.TemplateInstance=d0.Class({get_Doc:function(){return this.doc;},Hole:function(d8){return this.allVars.get_Item(d8);}},f,R);R.New=d0.Ctor(function(d8,d9){f.New.call(this);this.doc=d9;this.allVars=d8.$==0?d8.$0:B.FailWith("Should not happen");},R);S.empty=function(){bT.$cctor();return bT.empty;};S.nombre2=function(d8){var d9,d_;return(d9=(d_=d8.titulo,d_==null?null:{$:1,$0:" "+d_.$0}),d9==null?"":d9.$0)+bl.Trim(d8.nombre1+" "+d8.nombre2)+" "+bl.Trim(d8.apellido1+" "+d8.apellido2);};S.nombre=function(d8){var d9,d_;return(d9=(d_=d8.titulo,d_==null?null:{$:1,$0:" "+d_.$0}),d9==null?"":d9.$0)+(d8.apellido1===""?"":bl.Trim(d8.apellido1+" "+d8.apellido2)+", ")+d8.nombre1+" "+d8.nombre2;};S.busqueda=function(d8){var d9,d_;function d$(ef,eg){return[ef,K.ofSeq(be.map(function(eh){return eh[1];},eg))];}function ea(ef){var eg,eh;eg=(eh=null,[d_.TryGetValue(ef,{get:function(){return eh;},set:function(ei){eh=ei;}}),eh]);return eg[0]?{$:1,$0:eg[1]}:null;}function eb(ef){var eg,eh;eg=(eh=null,[d9.TryGetValue({$:1,$0:ef},{get:function(){return eh;},set:function(ei){eh=ei;}}),eh]);return eg[0]?eg[1]:[];}function ec(ef){var eg,eh;eg=(eh=ef==null?null:ea(ef.$0),eh==null?null:{$:1,$0:1+ec(eh.$0.idPadreO)});return eg==null?0:eg.$0;}function ed(ef){return K.choose(ea,eb(ef.id));}function ee(ef){return K.ofSeq(be.delay(function(){return be.collect(function(eg){return be.append([eg],be.delay(function(){return ee(eg);}));},ed(ef));}));}d9=new b_.New(be.map(function(ef){return d$(ef[0],ef[1]);},be.groupBy(function(ef){return ef[0];},be.map(function(ef){return[ef.idPadreO,ef.id];},d8))));d_=new b_.New(be.map(function(ef){return[ef.id,ef];},d8));return bh.New(eb,ec,function(ef){try{return d_.get_Item(ef);}catch(eg){return(function(eh){return function(ei){return eh("buscarAliado failed: "+bb.p$9(ei));};}(B.FailWith))(ef);}},ea,ed,ee);};S.comision=function(d8,d9){var d_;d_=S.premisas(d8,d9);return[d9.nRefActivos*d_[0],d9.nDescActivos*d_[1]];};S.premisas=function(d8,d9){var d_;d_=d9.tipo.$==0?[d8.comisionReferidosMaster,d8.comisionDescendientesMaster]:[d8.comisionReferidosRegular,d8.comisionDescendientesRegular];return d9.status.$==2?[d_[0],d_[1]]:[0,0];};T.opcionesadministrador=function(d8){cJ.LoadLocalTemplates("index");return d8?cJ.NamedTemplate("index",{$:1,$0:"opcionesadministrador"},d8):void 0;};T.filaaliado=function(d8){cJ.LoadLocalTemplates("index");return d8?cJ.NamedTemplate("index",{$:1,$0:"filaaliado"},d8):void 0;};T.tablaaliados=function(d8){cJ.LoadLocalTemplates("index");return d8?cJ.NamedTemplate("index",{$:1,$0:"tablaaliados"},d8):void 0;};T.aliado=function(d8){cJ.LoadLocalTemplates("index");return d8?cJ.NamedTemplate("index",{$:1,$0:"aliado"},d8):void 0;};T.calculo=function(d8){cJ.LoadLocalTemplates("index");return d8?cJ.NamedTemplate("index",{$:1,$0:"calculo"},d8):void 0;};U.p$2=function(d8){return d8.$==2?"Mensaje "+bC.prettyPrint(d8.$0):d8.$==1?"NuevoRegistro "+bC.prettyPrint(d8.$0):"ROk";};T.formaregistro=function(d8){cJ.LoadLocalTemplates("index");return d8?cJ.NamedTemplate("index",{$:1,$0:"formaregistro"},d8):void 0;};T.filaconsolidado=function(d8){cJ.LoadLocalTemplates("index");return d8?cJ.NamedTemplate("index",{$:1,$0:"filaconsolidado"},d8):void 0;};T.consolidado=function(d8){cJ.LoadLocalTemplates("index");return d8?cJ.NamedTemplate("index",{$:1,$0:"consolidado"},d8):void 0;};U.p$4=function(d8){return d8.$==5?"Dia25":d8.$==4?"Dia20":d8.$==3?"Dia15":d8.$==2?"Dia10":d8.$==1?"Dia05":"Dia01";};T.filapago=function(d8){cJ.LoadLocalTemplates("index");return d8?cJ.NamedTemplate("index",{$:1,$0:"filapago"},d8):void 0;};T.tablapagos=function(d8){cJ.LoadLocalTemplates("index");return d8?cJ.NamedTemplate("index",{$:1,$0:"tablapagos"},d8):void 0;};V.r=function(){return cR.JSUnion(void 0,[[null,[[null,[]]],[]],[null,[[null,["Content"]]],[cR.rString()]]]);};T.datospersonales=function(d8){cJ.LoadLocalTemplates("index");return d8?cJ.NamedTemplate("index",{$:1,$0:"datospersonales"},d8):void 0;};U.p$1=function(d8){return d8.$==2?"Empresa":d8.$==1?"Femenino":"Masculino";};T.correo=function(d8){cJ.LoadLocalTemplates("index");return d8?cJ.NamedTemplate("index",{$:1,$0:"correo"},d8):void 0;};T.telefono=function(d8){cJ.LoadLocalTemplates("index");return d8?cJ.NamedTemplate("index",{$:1,$0:"telefono"},d8):void 0;};T.direccion=function(d8){cJ.LoadLocalTemplates("index");return d8?cJ.NamedTemplate("index",{$:1,$0:"direccion"},d8):void 0;};T.formadatospersonales=function(d8){cJ.LoadLocalTemplates("index");return d8?cJ.NamedTemplate("index",{$:1,$0:"formadatospersonales"},d8):void 0;};T.formacontactos=function(d8){cJ.LoadLocalTemplates("index");return d8?cJ.NamedTemplate("index",{$:1,$0:"formacontactos"},d8):void 0;};T.formacuentas=function(d8){cJ.LoadLocalTemplates("index");return d8?cJ.NamedTemplate("index",{$:1,$0:"formacuentas"},d8):void 0;};U.p$3=function(d8){return"IdPayment "+bC.prettyPrint(d8.$0);};T.cuentabancaria=function(d8){cJ.LoadLocalTemplates("index");return d8?cJ.NamedTemplate("index",{$:1,$0:"cuentabancaria"},d8):void 0;};T.tarjetacredito=function(d8){cJ.LoadLocalTemplates("index");return d8?cJ.NamedTemplate("index",{$:1,$0:"tarjetacredito"},d8):void 0;};U.p=function(d8){return d8.$==3?"ResetPassword":d8.$==2?"EditProfile":d8.$==1?"SignUp":"SignIn";};W=g.Doc=d0.Class({},f,W);W.get_Empty=function(){return W.Mk(null,i.Const());};W.BindView=function(d8,d9){return W.EmbedView(i.Map(d8,d9));};W.Mk=function(d8,d9){return new W.New(d8,d9);};W.ConvertSeqBy=function(d8,d9,d_){return W.Flatten(i.MapSeqCachedViewBy(d8,function(d$,ea){return(d9(d$))(ea);},d_));};W.Concat=function(d8){var d9;d9=cX.ofSeqNonCopying(d8);return cX.TreeReduce(W.get_Empty(),W.Append,d9);};W.EmbedView=function(d8){var d9;d9=cY.CreateEmbedNode();return W.Mk({$:2,$0:d9},i.Map(a.ignore,i.Bind(function(d_){cY.UpdateEmbedNode(d9,d_.docNode);return d_.updates;},d8)));};W.Flatten=function(d8){return W.EmbedView(i.Map(W.Concat,d8));};W.ConvertBy=function(d8,d9,d_){return W.Flatten(i.MapSeqCachedBy(d8,d9,d_));};W.Button=function(d8,d9,d_){var d$;d$=cF.Concat(d9);return dn.New(W.Clickable("button",d_),d$,W.TextNode(d8));};W.Append=function(d8,d9){return W.Mk({$:0,$0:d8.docNode,$1:d9.docNode},i.Map2Unit(d8.updates,d9.updates));};W.Input=function(d8,d9){return W.InputInternal("input",function(){return be.append(d8,[cx.Value(d9)]);});};W.Element=function(d8,d9,d_){var d$,ea;d$=cF.Concat(d9);ea=W.Concat(d_);return dn.New(c4.CreateElement(d8),d$,ea);};W.RunInPlace=function(d8,d9,d_){var d$;d$=cY.CreateRunState(d9,d_.docNode);i.Sink(_do.get_UseAnimations()||dp.BatchUpdatesEnabled()?dq.StartProcessor(cY.PerformAnimatedUpdate(d8,d$,d_.docNode)):function(){cY.PerformSyncUpdate(d8,d$,d_.docNode);},d_.updates);};W.TextNode=function(d8){return W.Mk({$:5,$0:c4.CreateText(d8)},i.Const());};W.Clickable=function(d8,d9){var d_;d_=c4.CreateElement(d8);d_.addEventListener("click",function(d$){d$.preventDefault();return d9();},false);return d_;};W.TextView=function(d8){var d9;d9=cY.CreateTextNode();return W.Mk({$:4,$0:d9},i.Map(function(d_){cY.UpdateTextNode(d9,d_);},d8));};W.InputInternal=function(d8,d9){var d_;d_=c4.CreateElement(d8);return dn.New(d_,cF.Concat(d9(d_)),W.get_Empty());};W.Run=function(d8,d9){cY.LinkElement(d8,d9.docNode);W.RunInPlace(false,d8,d9);};W.InputArea=function(d8,d9){return W.InputInternal("textarea",function(){return be.append(d8,[cx.Value(d9)]);});};W.New=d0.Ctor(function(d8,d9){f.New.call(this);this.docNode=d8;this.updates=d9;},W);X.New=function(d8,d9,d_,d$,ea,eb){return{idAliado:d8,aliados:d9,anoActual:d_,periodoActual:d$,premisas:ea,nevento:eb};};Y=g.ConcreteVar=d0.Class({Set:function(d8){if(this.isConst)(function(d9){return d9("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal");}(function(d9){d2.log(d9);}));else{Z.Obsolete(this.snap);this.current=d8;this.snap=Z.New({$:2,$0:d8,$1:[]});}},get_View:function(){return this.view;},Get:function(){return this.current;},Update:function(d8){this.Set(d8(this.Get()));},UpdateMaybe:function(d8){var d9;d9=d8(this.Get());d9!=null&&d9.$==1?this.Set(d9.$0):void 0;}},J,Y);Y.New=d0.Ctor(function(d8,d9,d_){var d$;d$=this;J.New.call(this);this.isConst=d8;this.current=d_;this.snap=d9;this.view=function(){return d$.snap;};this.id=bV.Int();},Y);Z.Map=function(d8,d9){var d_,d$;d_=d9.s;return d_!=null&&d_.$==0?Z.New({$:0,$0:d8(d_.$0)}):(d$=Z.New({$:3,$0:[],$1:[]}),(Z.When(d9,function(ea){Z.MarkDone(d$,d9,d8(ea));},d$),d$));};Z.WhenRun=function(d8,d9,d_){var d$;d$=d8.s;d$==null?d_():d$!=null&&d$.$==2?(d$.$1.push(d_),d9(d$.$0)):d$!=null&&d$.$==3?(d$.$0.push(d9),d$.$1.push(d_)):d9(d$.$0);};Z.WhenObsoleteRun=function(d8,d9){var d_;d_=d8.s;d_==null?d9():d_!=null&&d_.$==2?d_.$1.push(d9):d_!=null&&d_.$==3?d_.$1.push(d9):void 0;};Z.When=function(d8,d9,d_){var d$;d$=d8.s;d$==null?Z.Obsolete(d_):d$!=null&&d$.$==2?(Z.EnqueueSafe(d$.$1,d_),d9(d$.$0)):d$!=null&&d$.$==3?(d$.$0.push(d9),Z.EnqueueSafe(d$.$1,d_)):d9(d$.$0);};Z.MarkDone=function(d8,d9,d_){var d$;if(d$=d9.s,d$!=null&&d$.$==0)Z.MarkForever(d8,d_);else Z.MarkReady(d8,d_);};Z.Map2=function(d8,d9,d_){var d$,ea,eb;function ec(ed){var ee,ef,eg;if(!(ee=eb.s,ee!=null&&ee.$==0||ee!=null&&ee.$==2)){ef=Z.ValueAndForever(d9);eg=Z.ValueAndForever(d_);ef!=null&&ef.$==1?eg!=null&&eg.$==1?ef.$0[1]&&eg.$0[1]?Z.MarkForever(eb,d8(ef.$0[0],eg.$0[0])):Z.MarkReady(eb,d8(ef.$0[0],eg.$0[0])):void 0:void 0;}}d$=d9.s;ea=d_.s;return d$!=null&&d$.$==0?ea!=null&&ea.$==0?Z.New({$:0,$0:d8(d$.$0,ea.$0)}):Z.Map2Opt1(d8,d$.$0,d_):ea!=null&&ea.$==0?Z.Map2Opt2(d8,ea.$0,d9):(eb=Z.New({$:3,$0:[],$1:[]}),(Z.When(d9,ec,eb),Z.When(d_,ec,eb),eb));};Z.Map3=function(d8,d9,d_,d$){var ea,eb,ec,ed;function ee(ef){var eg,eh,ei,ej;if(!(eg=ed.s,eg!=null&&eg.$==0||eg!=null&&eg.$==2)){eh=Z.ValueAndForever(d9);ei=Z.ValueAndForever(d_);ej=Z.ValueAndForever(d$);eh!=null&&eh.$==1?ei!=null&&ei.$==1?ej!=null&&ej.$==1?eh.$0[1]&&ei.$0[1]&&ej.$0[1]?Z.MarkForever(ed,d8(eh.$0[0],ei.$0[0],ej.$0[0])):Z.MarkReady(ed,d8(eh.$0[0],ei.$0[0],ej.$0[0])):void 0:void 0:void 0;}}ea=d9.s;eb=d_.s;ec=d$.s;return ea!=null&&ea.$==0?eb!=null&&eb.$==0?ec!=null&&ec.$==0?Z.New({$:0,$0:d8(ea.$0,eb.$0,ec.$0)}):Z.Map3Opt1(d8,ea.$0,eb.$0,d$):ec!=null&&ec.$==0?Z.Map3Opt2(d8,ea.$0,ec.$0,d_):Z.Map3Opt3(d8,ea.$0,d_,d$):eb!=null&&eb.$==0?ec!=null&&ec.$==0?Z.Map3Opt4(d8,eb.$0,ec.$0,d9):Z.Map3Opt5(d8,eb.$0,d9,d$):ec!=null&&ec.$==0?Z.Map3Opt6(d8,ec.$0,d9,d_):(ed=Z.New({$:3,$0:[],$1:[]}),(Z.When(d9,ee,ed),Z.When(d_,ee,ed),Z.When(d$,ee,ed),ed));};Z.MapAsync=function(d8,d9){var d_;d_=Z.New({$:3,$0:[],$1:[]});Z.When(d9,function(d$){bS.StartTo(d8(d$),function(ea){Z.MarkDone(d_,d9,ea);});},d_);return d_;};Z.EnqueueSafe=function(d8,d9){var d_,d$,ea,eb;d8.push(d9);if(d8.length%20===0){d_=d8.slice(0);dz.Clear(d8);for(d$=0,ea=K.length(d_)-1;d$<=ea;d$++){eb=K.get(d_,d$);typeof eb=="object"?function(ec){if(ec.s)d8.push(ec);}(eb):function(ec){d8.push(ec);}(eb);}}else void 0;};Z.MarkForever=function(d8,d9){var d_,d$,ea,eb;d_=d8.s;if(d_!=null&&d_.$==3){d8.s={$:0,$0:d9};d$=d_.$0;for(ea=0,eb=K.length(d$)-1;ea<=eb;ea++)(K.get(d$,ea))(d9);}else void 0;};Z.MarkReady=function(d8,d9){var d_,d$,ea,eb;d_=d8.s;if(d_!=null&&d_.$==3){d8.s={$:2,$0:d9,$1:d_.$1};d$=d_.$0;for(ea=0,eb=K.length(d$)-1;ea<=eb;ea++)(K.get(d$,ea))(d9);}else void 0;};Z.Map2Opt1=function(d8,d9,d_){return Z.Map(function(d$){return d8(d9,d$);},d_);};Z.Map2Opt2=function(d8,d9,d_){return Z.Map(function(d$){return d8(d$,d9);},d_);};Z.ValueAndForever=function(d8){var d9;d9=d8.s;return d9!=null&&d9.$==0?{$:1,$0:[d9.$0,true]}:d9!=null&&d9.$==2?{$:1,$0:[d9.$0,false]}:null;};Z.TryGet=function(d8){var d9,d_;d9=d8.s;return(d9!=null&&d9.$==0?(d_=d9.$0,true):d9!=null&&d9.$==2&&(d_=d9.$0,true))?{$:1,$0:d_}:null;};Z.Map3Opt1=function(d8,d9,d_,d$){return Z.Map(function(ea){return d8(d9,d_,ea);},d$);};Z.Map3Opt2=function(d8,d9,d_,d$){return Z.Map(function(ea){return d8(d9,ea,d_);},d$);};Z.Map3Opt3=function(d8,d9,d_,d$){return Z.Map2(function(ea,eb){return d8(d9,ea,eb);},d_,d$);};Z.Map3Opt4=function(d8,d9,d_,d$){return Z.Map(function(ea){return d8(ea,d9,d_);},d$);};Z.Map3Opt5=function(d8,d9,d_,d$){return Z.Map2(function(ea,eb){return d8(ea,d9,eb);},d_,d$);};Z.Map3Opt6=function(d8,d9,d_,d$){return Z.Map2(function(ea,eb){return d8(ea,eb,d9);},d_,d$);};Z.Join=function(d8){var d9;d9=Z.New({$:3,$0:[],$1:[]});Z.When(d8,function(d_){var d$;d$=d_();Z.When(d$,function(ea){var eb,ec;if((eb=d$.s,eb!=null&&eb.$==0)&&(ec=d8.s,ec!=null&&ec.$==0))Z.MarkForever(d9,ea);else Z.MarkReady(d9,ea);},d9);},d9);return d9;};Z.Map2Unit=function(d8,d9){var d_,d$,ea;function eb(){var ec,ed,ee;if(!(ec=ea.s,ec!=null&&ec.$==0||ec!=null&&ec.$==2)){ed=Z.ValueAndForever(d8);ee=Z.ValueAndForever(d9);ed!=null&&ed.$==1?ee!=null&&ee.$==1?ed.$0[1]&&ee.$0[1]?Z.MarkForever(ea,null):Z.MarkReady(ea,null):void 0:void 0;}}d_=d8.s;d$=d9.s;return d_!=null&&d_.$==0?d$!=null&&d$.$==0?Z.New({$:0,$0:null}):d9:d$!=null&&d$.$==0?d8:(ea=Z.New({$:3,$0:[],$1:[]}),(Z.When(d8,eb,ea),Z.When(d9,eb,ea),ea));};Z.Sequence=function(d8){var d9,d_,d$;function ea(eb){var ec;if(d$[0]===0){ec=K.map(function(ed){var ee;ee=ed.s;return ee!=null&&ee.$==0?ee.$0:ee!=null&&ee.$==2?ee.$0:B.FailWith("value not found by View.Sequence");},d9);K.forall(function(ed){var ee;ee=ed.s;return ee!=null&&ee.$==0;},d9)?Z.MarkForever(d_,ec):Z.MarkReady(d_,ec);}else d$[0]--;}d9=K.ofSeq(d8);return d9.length==0?Z.New({$:0,$0:[]}):(d_=Z.New({$:3,$0:[],$1:[]}),(d$=[K.length(d9)-1],(K.iter(function(eb){Z.When(eb,ea,d_);},d9),d_)));};Z.Copy=function(d8){var d9,d_,d$;d9=d8.s;return d9==null?d8:d9!=null&&d9.$==2?(d_=Z.New({$:2,$0:d9.$0,$1:[]}),(Z.WhenObsolete(d8,d_),d_)):d9!=null&&d9.$==3?(d$=Z.New({$:3,$0:[],$1:[]}),(Z.When(d8,function(ea){Z.MarkDone(d$,d8,ea);},d$),d$)):d8;};Z.WhenObsolete=function(d8,d9){var d_;d_=d8.s;d_==null?Z.Obsolete(d9):d_!=null&&d_.$==2?Z.EnqueueSafe(d_.$1,d9):d_!=null&&d_.$==3?Z.EnqueueSafe(d_.$1,d9):void 0;};_0.$cctor=function(){var d8,d9,d_,d$,ea,eb,ec,ed,ee;_0.$cctor=a.ignore;function ef(ek){return bl.concat("\n",ek);}function eg(ek){return bW.splitByChar$1("\n",ek);}function eh(ek){var el,em;return bX.array(ek,{$:1,$0:0},{$:1,$0:(el=0,(em=K.length(ek)-2,G.Compare(el,em)===1?el:em))});}function ei(ek){return bl.concat("\n",ek);}function ej(ek,el,em,en,eo){bz.callback(ek,el,em,en,eo);}_0.unindentStr=function(ek){return ef(bW.unindent$1(ek));};_0.skipLastLine=(d8=function(ek){return eh(eg(ek));},function(ek){return ei(d8(ek));});_0.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";_0.rexEmail="(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@[*[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+]*";_0.policies=bY.ofArray([b0.SignIn,b0.SignUp,b0.EditProfile,b0.ResetPassword]);_0.rootdir="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperClient\\website";_0.TemplatesFileName="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperClient\\website"+"\\index.html";_0.LoginFileName="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperClient\\website"+"\\Login.html";((function(ek){return function(el){return ek(bC.toSafe(el));};}(function(ek){d2.log(ek);}))("D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperClient\\website\\index.html"));_0.storage=self.localStorage;_0.applicationId=bz.storeValue("applicationId","70ad4f9b-9a2b-409e-9c1e-d04dbb2e7cf2");_0.tenantName=bz.storeValue("tenantName","prozper");_0.ref=bz.storeValue("ref","");_0.extraQueryParms=bz.storeValue("extraQueryParms","mkt=es-us");_0.refreshBefore=bz.storeValue("refreshBefore","0");_0.createOnStart=bz.storeValue("createOnStart","1");_0.forceLogin=bz.storeValue("forceLogin","1");_0.signInPolicy=bz.storeValue("signInPolicy","B2C_1_SignIn");_0.signUpPolicy=bz.storeValue("signUpPolicy","B2C_1_Registrarse");_0.editProfilePolicy=bz.storeValue("editProfilePolicy","B2C_1_EditarPerfil");_0.resetPasswordPolicy=bz.storeValue("resetPasswordPolicy","B2C_1_PasswordReset");_0.policyType=bz.storeValue("policyType","SignIn");_0.authority=bz.getAuthority(bz.tenantName(),bz.signInPolicy());_0.userO=h.Create$1(null);_0.agent=(d9=bz.applicationId(),(d_=bz.authority(),(d$=b1.Options(null,null,null,null,null,null,null,null,null,{$:1,$0:false},null,{$:1,$0:false}),new self.Msal.UserAgentApplication(d9,d_,function(ek){return ej(ek[0],ek[1],ek[2],ek[3],ek[4]);},d$))));_0.localStorage=self.localStorage;bz.checkUser();_0.modeloV=h.Create$1(X.New(new l({$:0,$0:":"}),[],(ea=d4.now(),(new d4(ea)).getFullYear()),(eb=d4.now(),(new d4(eb)).getMonth()+1),k.premisasCalculo(),-2));_0.formasPagoAliadoV=h.Create$1([]);_0.invitacionesV=h.Create$1("");_0.emailsInvitarW=i.Map(function(ek){var el;return bl.concat("\n",be.sort(be.distinct((el=p.REGEX$1(p.rexEmail(),"gi",ek),el!=null&&el.$==1?el.$0:[]))));},n.invitacionesV().get_View());_0.invitacionesDisabledW=i.Map(function(ek){return ek===""?"disabled":"";},n.emailsInvitarW());_0.selAliadoIdOV=h.Create$1(null);_0.refAliadoIdOV=h.Create$1(null);_0.endPointV=b3.InstallHash(b2.DefaultEP,V.r());_0.contentVar=h.Lens(n.endPointV(),function(ek){return ek.$==1?ek.$0:"ProzperLyt.mainContent";},function(ek,el){return el==="ProzperLyt.mainContent"?b2.DefaultEP:{$:1,$0:el};});_0.aliadoW=(ec=i.get_Do(),i.Bind(function(ek){var el,em;el=ek.idAliado;em=be.tryFind(function(en){return G.Equals(en.id,el);},ek.aliados);return i.Const(em!=null&&em.$==1?em.$0:S.empty());},n.modeloV().get_View()));_0.llamadas=h.Create$1(0);_0.shouldRefresh=true;i.Sink(function(){bv.refrescarData(true);},bz.userO().get_View());cu.Start((ed=null,cu.Delay(function(){return cu.While(function(){return true;},cu.Delay(function(){return cu.Bind(cu.Sleep(5*60*1000),function(){bv.refrescarData(true);return cu.Zero();});}));})),null);try{self.document.addEventListener("visibilityChange",function(){return bv.refrescarData(false);},false);}catch(ek){null;}_0.paises=h.Create$1([]);_0.estados=h.Create$1([]);_0.tiposDir=h.Create$1([]);_0.tiposTel=h.Create$1([]);_0.generos=h.Create$1([]);_0.tiposCta=h.Create$1([]);_0.tiposTar=h.Create$1([]);_0.statuses=h.Create$1([]);_0.aniosV=h.Create$1([]);_0.mesesV=h.Create$1([]);P.iterA((ee=bs.asyncResultM(),ee.Run(ee.Delay(function(){return ee.Bind$4(P.obtenerUnions(),function(el){bB.paises().Set(el[0]);bB.estados().Set(el[1]);bB.tiposDir().Set(el[2]);bB.tiposTel().Set(el[3]);bB.generos().Set(el[4]);bB.tiposCta().Set(el[5]);bB.tiposTar().Set(el[6]);bB.statuses().Set(el[7]);bB.aniosV().Set(el[9]);bB.mesesV().Set(el[8]);return ee.Zero();});}))));_0.ftel=[function(el){return el.$==2?{$:1,$0:el.$0}:null;},function(el){return{$:2,$0:el};}];_0.fcor=[function(el){return el.$==1?{$:1,$0:el.$0}:null;},function(el){return{$:1,$0:el};}];_0.fdir=[function(el){return el.$==0?{$:1,$0:el.$0}:null;},function(el){return{$:0,$0:el};}];_0.ftar=[function(el){var em;em=el.cuentaPago;return em.$==1?{$:1,$0:[em.$0,y.msg(el),el.authorizeIdR.$==0]}:null;},function(el){return function(em){return bH.New(el.nombre,bf.Error(""),{$:1,$0:em});};}];_0.fcta=[function(el){var em;em=el.cuentaPago;return em.$==0?{$:1,$0:[em.$0,y.msg(el),el.authorizeIdR.$==0]}:null;},function(el){return function(em){return bH.New(el.nombre,bf.Error(""),{$:0,$0:em});};}];_0.layoutName="ProzperLyt";_0.appName="Prozper";};_1.New=function(d8,d9,d_,d$,ea,eb,ec,ed){return{titulo:d8,nombre1:d9,nombre2:d_,apellido1:d$,apellido2:ea,nacionalidad:eb,genero:ec,fechaNacimiento:ed};};_2=k.StatusAliado=d0.Class({toString:function(){return(function(d8){return function(d9){return d8(bb.p(d9));};}(a.id))(this);}},null,_2);_2.tryParse=function(d8){var d9;d9=bl.Trim(d8).toUpperCase();return d9==="CUENTACREADA"?_2.CuentaCreada:d9==="DATOSBANCARIOSINGRESADOS"?_2.DatosBancariosIngresados:d9==="ACTIVO"?_2.Activo:d9==="CANCELADO"?_2.Cancelado:_2.Inactivo;};_2.CuentaCreada=new _2({$:0});_2.DatosBancariosIngresados=new _2({$:1});_2.Activo=new _2({$:2});_2.Cancelado=new _2({$:4});_2.Inactivo=new _2({$:3});_3.Dia01={$:0};_4=k.TipoAliado=d0.Class({toString:function(){return(function(d8){return function(d9){return d8(bb.p$1(d9));};}(a.id))(this);}},null,_4);_4.Regular=new _4({$:1});_5.TryParseInt32=function(d8,d9){return _5.TryParse(d8,-2147483648,2147483647,d9);};_6=g.ListModel=d0.Class({Append:function(d8){var d9,d_,d$,ea;d9=this;d_=this["var"].Get();d$=this.key(d8);ea=K.tryFindIndex(function(eb){return G.Equals(d9.key(eb),d$);},d_);ea!=null&&ea.$==1?this["var"].Set(this.storage.SSetAt(ea.$0,d8,d_)):this["var"].Set(this.storage.SAppend(d8,d_));this.ObsoleteKey(d$);},TryFindByKey:function(d8){var d9;d9=this;return K.tryFind(function(d_){return G.Equals(d9.key(d_),d8);},this["var"].Get());},ObsoleteKey:function(d8){var d9,d_;d9=(d_=null,[this.it.TryGetValue(d8,{get:function(){return d_;},set:function(d$){d_=d$;}}),d_]);d9[0]?(Z.Obsolete(d9[1]),this.it.Remove(d8)):void 0;},MapLens:function(d8){var d9;d9=this;return i.MapSeqCachedViewBy(d9.key,function(d_,d$){return d8(d_,d9["LensInto'"](a.id,function(ea,eb){return eb;},d_,d$));},this["var"].get_View());},"LensInto'":function(d8,d9,d_,d$){var ea,eb,ec;ea=this;eb=bV.Id();ec=new J({Get:function(){return d8(ea.FindByKey(d_));},Set:function(ed){return ea.UpdateBy(function(ee){return{$:1,$0:d9(ee,ed)};},d_);},SetFinal:function(ed){return this.Set(ed);},Update:function(ed){return ea.UpdateBy(function(ee){return{$:1,$0:d9(ee,ed(d8(ee)))};},d_);},UpdateMaybe:function(ed){return ea.UpdateBy(function(ee){var ef;ef=ed(d8(ee));return ef==null?null:{$:1,$0:d9(ee,ef.$0)};},d_);},get_View:function(){return d$;},get_Id:function(){return eb;}});J.New.call(ec);return ec;},FindByKey:function(d8){var d9;d9=this;return K.find(function(d_){return G.Equals(d9.key(d_),d8);},this["var"].Get());},UpdateBy:function(d8,d9){var d_,d$,ea,eb,ec;d_=this;d$=this["var"].Get();ea=K.tryFindIndex(function(ed){return G.Equals(d_.key(ed),d9);},d$);ea!=null&&ea.$==1?(eb=ea.$0,ec=d8(K.get(d$,eb)),ec!=null&&ec.$==1?(this["var"].Set(this.storage.SSetAt(eb,ec.$0,d$)),this.ObsoleteKey(d9)):void 0):void 0;},GetEnumerator:function(){return b$.Get(this["var"].Get());},GetEnumerator0:function(){return b$.Get0(this["var"].Get());}},f,_6);_6.New$1=d0.Ctor(function(d8){_6.New$2.call(this,d8,[]);},_6);_6.New$2=d0.Ctor(function(d8,d9){var d_;d_=K.ofSeq(d9);_6.New$3.call(this,d8,h.Create$1(d_),di.InMemory(d_));},_6);_6.New$3=d0.Ctor(function(d8,d9,d_){f.New.call(this);this.key=d8;this["var"]=d9;this.storage=d_;this.v=i.Map(function(d$){return d$.slice();},this["var"].get_View());this.it=new bO.New$5();},_6);_7.New=function(d8,d9){return{varName:d8,varVar:d9};};_8.New=function(d8,d9){return{viwName:d8,viwView:d9};};_9.New=function(d8,d9){return{docName:d8,docDoc:d9};};_.NewFromSeq=function(d8){var d9,d_,d$;d9={};d_=b$.Get(d8);try{while(d_.MoveNext()){d$=d_.Current();d9[d$[0]]=d$[1];}}finally{if(typeof d_=="object"&&"Dispose"in d_)d_.Dispose();}return d9;};ba.New=function(d8,d9,d_){return{c:d8,v:d9,f:d_};};bb.p$1=function(d8){return d8.$==1?"Regular":"Master";};bb.p=function(d8){return d8.$==4?"Cancelado":d8.$==3?"Inactivo":d8.$==2?"Activo":d8.$==1?"DatosBancariosIngresados":"CuentaCreada";};bb.p$9=function(d8){return"IdAliado "+bC.prettyPrint(d8.$0);};bb.p$2=function(d8){return d8.$==3?"OtroP "+bC.prettyPrint(d8.$0):d8.$==2?"Argentina":d8.$==1?"Venezuela":"USA";};bb.p$5=function(d8){return d8.$==2?"Otra "+bC.prettyPrint(d8.$0):d8.$==1?"Corriente":"Ahorro";};bb.p$3=function(d8){return d8.$==2?"OtroS "+bC.prettyPrint(d8.$0):d8.$==1?"Florida":"Texas";};bc.j$1=function(){return bc._v$1?bc._v$1:bc._v$1=(de.DecodeUnion(void 0,"$",[[0,[["$0","Item1",bc.j$2,1],["$1","Item2",bc.j$3,0]]]]))();};bc.j$4=function(){return bc._v$4?bc._v$4:bc._v$4=(de.DecodeUnion(void 0,"$",[[0,[["$0","Item",de.DecodeArray(bc.j$21),0]]],[1,[[null,null,bc.j$21]]],[2,[["$0","Item",de.DecodeTuple([bc.j$6,de.DecodeArray(de.Id())]),0]]],[3,[["$0","Item",de.DecodeTuple([bc.j$6,bc.j$19,bc.j$5,de.DecodeArray(bc.j$8)]),0]]],[4,[["$0","Item",de.DecodeTuple([bc.j$6,bc.j$19]),0]]],[5,[["$0","Item",de.DecodeTuple([bc.j$6,de.DecodeArray(bc.j$8)]),0]]],[6,[["$0","Item",de.DecodeTuple([bc.j$6,de.Id()]),0]]],[7,[["$0","Item",de.DecodeTuple([bc.j$6,de.Id()]),0]]],[8,[["$0","Item",de.DecodeTuple([bc.j$6,bc.j$7,bc.j$5]),0]]]]))();};bd.j$1=function(){return bd._v$1?bd._v$1:bd._v$1=(de.EncodeUnion(void 0,"$",[[0,[["$0","Item1",bd.j$2,1],["$1","Item2",bd.j$3,0]]]]))();};bd.j$4=function(){return bd._v$4?bd._v$4:bd._v$4=(de.EncodeUnion(void 0,"$",[[0,[["$0","Item",de.EncodeArray(bd.j$21),0]]],[1,[[null,null,bd.j$21]]],[2,[["$0","Item",de.EncodeTuple([bd.j$6,de.EncodeArray(de.Id())]),0]]],[3,[["$0","Item",de.EncodeTuple([bd.j$6,bd.j$19,bd.j$5,de.EncodeArray(bd.j$8)]),0]]],[4,[["$0","Item",de.EncodeTuple([bd.j$6,bd.j$19]),0]]],[5,[["$0","Item",de.EncodeTuple([bd.j$6,de.EncodeArray(bd.j$8)]),0]]],[6,[["$0","Item",de.EncodeTuple([bd.j$6,de.Id()]),0]]],[7,[["$0","Item",de.EncodeTuple([bd.j$6,de.Id()]),0]]],[8,[["$0","Item",de.EncodeTuple([bd.j$6,bd.j$7,bd.j$5]),0]]]]))();};bc.j$48=function(){return bc._v$48?bc._v$48:bc._v$48=(de.DecodeUnion(void 0,"$",[[0,[["$0","Item1",de.DecodeArray(de.DecodeTuple([bc.j$6,de.DecodeArray(bc.j$34)])),1],["$1","Item2",bc.j$3,0]]]]))();};bc.j$6=function(){return bc._v$6?bc._v$6:bc._v$6=(de.DecodeUnion(l,"$",[[0,[["$0","Item",de.Id(),0]]]]))();};bd.j$48=function(){return bd._v$48?bd._v$48:bd._v$48=(de.EncodeUnion(void 0,"$",[[0,[["$0","Item1",de.EncodeArray(de.EncodeTuple([bd.j$6,de.EncodeArray(bd.j$34)])),1],["$1","Item2",bd.j$3,0]]]]))();};bd.j$6=function(){return bd._v$6?bd._v$6:bd._v$6=(de.EncodeUnion(l,"$",[[0,[["$0","Item",de.Id(),0]]]]))();};bc.j$32=function(){return bc._v$32?bc._v$32:bc._v$32=(de.DecodeUnion(void 0,"$",[[0,[["$0","Item1",de.Id(),1],["$1","Item2",bc.j$3,0]]]]))();};bd.j$32=function(){return bd._v$32?bd._v$32:bd._v$32=(de.EncodeUnion(void 0,"$",[[0,[["$0","Item1",de.Id(),1],["$1","Item2",bd.j$3,0]]]]))();};bb.p$7=function(d8){return d8.$==3?"Otro "+bC.prettyPrint(d8.$0):d8.$==2?"ServicioPostal":d8.$==1?"Oficina":"Habitacion";};bb.p$8=function(d8){return d8.$==3?"Voip":d8.$==2?"Habitacion":d8.$==1?"Oficina":"Movil";};bb.p$4=function(d8){return d8.$==3?"Otra "+bC.prettyPrint(d8.$0):d8.$==2?"Amex":d8.$==1?"MasterCard":"Visa";};bc.j$31=function(){return bc._v$31?bc._v$31:bc._v$31=(de.DecodeUnion(void 0,"$",[[0,[["$0","Item1",de.DecodeTuple([de.DecodeArray(de.Id()),de.DecodeArray(de.Id()),de.DecodeArray(de.Id()),de.DecodeArray(de.Id()),de.DecodeArray(de.Id()),de.DecodeArray(de.Id()),de.DecodeArray(de.Id()),de.DecodeArray(de.Id()),de.DecodeArray(de.Id()),de.DecodeArray(de.Id())]),1],["$1","Item2",bc.j$3,0]]]]))();};bd.j$31=function(){return bd._v$31?bd._v$31:bd._v$31=(de.EncodeUnion(void 0,"$",[[0,[["$0","Item1",de.EncodeTuple([de.EncodeArray(de.Id()),de.EncodeArray(de.Id()),de.EncodeArray(de.Id()),de.EncodeArray(de.Id()),de.EncodeArray(de.Id()),de.EncodeArray(de.Id()),de.EncodeArray(de.Id()),de.EncodeArray(de.Id()),de.EncodeArray(de.Id()),de.EncodeArray(de.Id())]),1],["$1","Item2",bd.j$3,0]]]]))();};bc.j$2=function(){return bc._v$2?bc._v$2:bc._v$2=(de.DecodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",de.Id(),0]]],[2,[["$0","Item",de.Id(),0]]]]))();};bc.j$3=function(){return bc._v$3?bc._v$3:bc._v$3=(de.DecodeUnion(by,"$",[[0,[]],[1,[["$0","Item",de.Id(),0]]],[2,[["$0","Item",de.Id(),0]]],[3,[["$0","Item",de.Id(),0]]],[4,[["$0","Item",de.Id(),0]]],[5,[["$0","Item1",de.Id(),0],["$1","Item2",de.Id(),0]]],[6,[["$0","Item",de.DecodeArray(bc.j$3),0]]]]))();};bc.j$21=function(){return bc._v$21?bc._v$21:bc._v$21=(de.DecodeRecord(void 0,[["id",bc.j$6,0],["idPadreO",bc.j$6,1],["datosPersonales",bc.j$19,0],["contactos",de.DecodeArray(bc.j$8),0],["identificacion",de.DecodeArray(bc.j$22),0],["isInternal",de.Id(),0],["status",bc.j$7,0],["diaPago",bc.j$26,0],["tipo",bc.j$27,0],["fechaRegistro",de.DecodeDateTime(),0],["fechaStatus",de.DecodeDateTime(),0],["nReferidos",de.Id(),0],["nRefActivos",de.Id(),0],["nDescendientes",de.Id(),0],["nDescActivos",de.Id(),0],["comision",de.Id(),0],["nivel",de.Id(),0]]))();};bc.j$19=function(){return bc._v$19?bc._v$19:bc._v$19=(de.DecodeRecord(void 0,[["titulo",de.Id(),1],["nombre1",de.Id(),0],["nombre2",de.Id(),0],["apellido1",de.Id(),0],["apellido2",de.Id(),0],["nacionalidad",bc.j$17,0],["genero",bc.j$20,0],["fechaNacimiento",de.DecodeDateTime(),0]]))();};bc.j$5=function(){return bc._v$5?bc._v$5:bc._v$5=(de.DecodeUnion(void 0,"$",[null,[1,[["$0","Value",bc.j$6,0]]]]))();};bc.j$8=function(){return bc._v$8?bc._v$8:bc._v$8=(de.DecodeUnion(void 0,"$",[[0,[[null,null,bc.j$12]]],[1,[[null,null,bc.j$11]]],[2,[[null,null,bc.j$9]]],[3,[["$0","Item",de.Id(),0]]],[4,[["$0","Item",de.Id(),0]]],[5,[["$0","Item",de.Id(),0]]]]))();};bc.j$7=function(){return bc._v$7?bc._v$7:bc._v$7=(de.DecodeUnion(_2,"$",[[0,[]],[1,[]],[2,[]],[3,[]],[4,[]]]))();};bd.j$2=function(){return bd._v$2?bd._v$2:bd._v$2=(de.EncodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",de.Id(),0]]],[2,[["$0","Item",de.Id(),0]]]]))();};bd.j$3=function(){return bd._v$3?bd._v$3:bd._v$3=(de.EncodeUnion(by,"$",[[0,[]],[1,[["$0","Item",de.Id(),0]]],[2,[["$0","Item",de.Id(),0]]],[3,[["$0","Item",de.Id(),0]]],[4,[["$0","Item",de.Id(),0]]],[5,[["$0","Item1",de.Id(),0],["$1","Item2",de.Id(),0]]],[6,[["$0","Item",de.EncodeArray(bd.j$3),0]]]]))();};bd.j$21=function(){return bd._v$21?bd._v$21:bd._v$21=(de.EncodeRecord(void 0,[["id",bd.j$6,0],["idPadreO",bd.j$6,1],["datosPersonales",bd.j$19,0],["contactos",de.EncodeArray(bd.j$8),0],["identificacion",de.EncodeArray(bd.j$22),0],["isInternal",de.Id(),0],["status",bd.j$7,0],["diaPago",bd.j$26,0],["tipo",bd.j$27,0],["fechaRegistro",de.EncodeDateTime(),0],["fechaStatus",de.EncodeDateTime(),0],["nReferidos",de.Id(),0],["nRefActivos",de.Id(),0],["nDescendientes",de.Id(),0],["nDescActivos",de.Id(),0],["comision",de.Id(),0],["nivel",de.Id(),0]]))();};bd.j$19=function(){return bd._v$19?bd._v$19:bd._v$19=(de.EncodeRecord(void 0,[["titulo",de.Id(),1],["nombre1",de.Id(),0],["nombre2",de.Id(),0],["apellido1",de.Id(),0],["apellido2",de.Id(),0],["nacionalidad",bd.j$17,0],["genero",bd.j$20,0],["fechaNacimiento",de.EncodeDateTime(),0]]))();};bd.j$5=function(){return bd._v$5?bd._v$5:bd._v$5=(de.EncodeUnion(void 0,"$",[null,[1,[["$0","Value",bd.j$6,0]]]]))();};bd.j$8=function(){return bd._v$8?bd._v$8:bd._v$8=(de.EncodeUnion(void 0,"$",[[0,[[null,null,bd.j$12]]],[1,[[null,null,bd.j$11]]],[2,[[null,null,bd.j$9]]],[3,[["$0","Item",de.Id(),0]]],[4,[["$0","Item",de.Id(),0]]],[5,[["$0","Item",de.Id(),0]]]]))();};bd.j$7=function(){return bd._v$7?bd._v$7:bd._v$7=(de.EncodeUnion(_2,"$",[[0,[]],[1,[]],[2,[]],[3,[]],[4,[]]]))();};bc.j$28=function(){return bc._v$28?bc._v$28:bc._v$28=(de.DecodeUnion(void 0,"$",[[0,[["$0","Item1",bc.j$29,1],["$1","Item2",bc.j$3,0]]]]))();};bd.j$28=function(){return bd._v$28?bd._v$28:bd._v$28=(de.EncodeUnion(void 0,"$",[[0,[["$0","Item1",bd.j$29,1],["$1","Item2",bd.j$3,0]]]]))();};bc.j$47=function(){return bc._v$47?bc._v$47:bc._v$47=(de.DecodeUnion(void 0,"$",[[0,[["$0","Item1",de.Id(),1],["$1","Item2",bc.j$3,0]]]]))();};bc.j$36=function(){return bc._v$36?bc._v$36:bc._v$36=(de.DecodeUnion(cv,"$",[[0,[["$0","Item",de.Id(),0]]]]))();};bd.j$47=function(){return bd._v$47?bd._v$47:bd._v$47=(de.EncodeUnion(void 0,"$",[[0,[["$0","Item1",de.Id(),1],["$1","Item2",bd.j$3,0]]]]))();};bd.j$36=function(){return bd._v$36?bd._v$36:bd._v$36=(de.EncodeUnion(cv,"$",[[0,[["$0","Item",de.Id(),0]]]]))();};bc.j$38=function(){return bc._v$38?bc._v$38:bc._v$38=(de.DecodeRecord(void 0,[["titular",de.Id(),0],["tipoTarjeta",bc.j$39,0],["numero",bc.j$40,0],["expiracion",bc.j$41,0]]))();};bd.j$38=function(){return bd._v$38?bd._v$38:bd._v$38=(de.EncodeRecord(void 0,[["titular",de.Id(),0],["tipoTarjeta",bd.j$39,0],["numero",bd.j$40,0],["expiracion",bd.j$41,0]]))();};bc.j$43=function(){return bc._v$43?bc._v$43:bc._v$43=(de.DecodeRecord(void 0,[["titular",de.Id(),0],["banco",de.Id(),0],["tipo",bc.j$44,0],["numero",bc.j$45,0],["routing",bc.j$46,0]]))();};bd.j$43=function(){return bd._v$43?bd._v$43:bd._v$43=(de.EncodeRecord(void 0,[["titular",de.Id(),0],["banco",de.Id(),0],["tipo",bd.j$44,0],["numero",bd.j$45,0],["routing",bd.j$46,0]]))();};bc.j$34=function(){return bc._v$34?bc._v$34:bc._v$34=(de.DecodeRecord(void 0,[["nombre",de.Id(),0],["authorizeIdR",bc.j$35,0],["cuentaPago",bc.j$37,0]]))();};bd.j$34=function(){return bd._v$34?bd._v$34:bd._v$34=(de.EncodeRecord(void 0,[["nombre",de.Id(),0],["authorizeIdR",bd.j$35,0],["cuentaPago",bd.j$37,0]]))();};bc.j$22=function(){return bc._v$22?bc._v$22:bc._v$22=(de.DecodeRecord(void 0,[["emisor",bc.j$23,0],["documento",bc.j$25,0],["emision",de.DecodeDateTime(),0],["vence",de.DecodeDateTime(),0]]))();};bc.j$26=function(){return bc._v$26?bc._v$26:bc._v$26=(de.DecodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]],[3,[]],[4,[]],[5,[]]]))();};bc.j$27=function(){return bc._v$27?bc._v$27:bc._v$27=(de.DecodeUnion(_4,"$",[[0,[]],[1,[]]]))();};bc.j$17=function(){return bc._v$17?bc._v$17:bc._v$17=(de.DecodeUnion(b5,"$",[[0,[]],[1,[]],[2,[]],[3,[["$0","Item",de.Id(),0]]]]))();};bc.j$20=function(){return bc._v$20?bc._v$20:bc._v$20=(de.DecodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]]]))();};bc.j$12=function(){return bc._v$12?bc._v$12:bc._v$12=(de.DecodeRecord(void 0,[["authorizeIdR",bc.j$13,0],["tipoDireccion",bc.j$15,0],["linea1",de.Id(),0],["linea2",de.Id(),0],["ciudad",de.Id(),0],["estado",bc.j$16,0],["pais",bc.j$17,0],["zonaPostal",bc.j$18,0]]))();};bc.j$11=function(){return bc._v$11?bc._v$11:bc._v$11=(de.DecodeRecord(bm,[["email",de.Id(),0],["enviado",de.DecodeDateTime(),1],["recibido",de.DecodeDateTime(),1]]))();};bc.j$9=function(){return bc._v$9?bc._v$9:bc._v$9=(de.DecodeRecord(void 0,[["tipoTelefono",bc.j$10,0],["codigoPais",de.Id(),0],["codigoArea",de.Id(),0],["numero",de.Id(),0],["extension",de.Id(),0],["mensajes",de.Id(),0]]))();};bd.j$22=function(){return bd._v$22?bd._v$22:bd._v$22=(de.EncodeRecord(void 0,[["emisor",bd.j$23,0],["documento",bd.j$25,0],["emision",de.EncodeDateTime(),0],["vence",de.EncodeDateTime(),0]]))();};bd.j$26=function(){return bd._v$26?bd._v$26:bd._v$26=(de.EncodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]],[3,[]],[4,[]],[5,[]]]))();};bd.j$27=function(){return bd._v$27?bd._v$27:bd._v$27=(de.EncodeUnion(_4,"$",[[0,[]],[1,[]]]))();};bd.j$17=function(){return bd._v$17?bd._v$17:bd._v$17=(de.EncodeUnion(b5,"$",[[0,[]],[1,[]],[2,[]],[3,[["$0","Item",de.Id(),0]]]]))();};bd.j$20=function(){return bd._v$20?bd._v$20:bd._v$20=(de.EncodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]]]))();};bd.j$12=function(){return bd._v$12?bd._v$12:bd._v$12=(de.EncodeRecord(void 0,[["authorizeIdR",bd.j$13,0],["tipoDireccion",bd.j$15,0],["linea1",de.Id(),0],["linea2",de.Id(),0],["ciudad",de.Id(),0],["estado",bd.j$16,0],["pais",bd.j$17,0],["zonaPostal",bd.j$18,0]]))();};bd.j$11=function(){return bd._v$11?bd._v$11:bd._v$11=(de.EncodeRecord(bm,[["email",de.Id(),0],["enviado",de.EncodeDateTime(),1],["recibido",de.EncodeDateTime(),1]]))();};bd.j$9=function(){return bd._v$9?bd._v$9:bd._v$9=(de.EncodeRecord(void 0,[["tipoTelefono",bd.j$10,0],["codigoPais",de.Id(),0],["codigoArea",de.Id(),0],["numero",de.Id(),0],["extension",de.Id(),0],["mensajes",de.Id(),0]]))();};bc.j$29=function(){return bc._v$29?bc._v$29:bc._v$29=(de.DecodeRecord(void 0,[["idAliado",bc.j$6,0],["aliados",de.DecodeArray(bc.j$21),0],["anoActual",de.Id(),0],["periodoActual",de.Id(),0],["premisas",de.Id(),0],["nevento",de.Id(),0]]))();};bd.j$29=function(){return bd._v$29?bd._v$29:bd._v$29=(de.EncodeRecord(void 0,[["idAliado",bd.j$6,0],["aliados",de.EncodeArray(bd.j$21),0],["anoActual",de.Id(),0],["periodoActual",de.Id(),0],["premisas",de.Id(),0],["nevento",de.Id(),0]]))();};bc.j$33=function(){return bc._v$33?bc._v$33:bc._v$33=(de.DecodeUnion(void 0,"$",[[0,[["$0","Item1",de.DecodeArray(bc.j$34),1],["$1","Item2",bc.j$3,0]]]]))();};bd.j$33=function(){return bd._v$33?bd._v$33:bd._v$33=(de.EncodeUnion(void 0,"$",[[0,[["$0","Item1",de.EncodeArray(bd.j$34),1],["$1","Item2",bd.j$3,0]]]]))();};bc.j$39=function(){return bc._v$39?bc._v$39:bc._v$39=(de.DecodeUnion(cO,"$",[[0,[]],[1,[]],[2,[]],[3,[["$0","Item",de.Id(),0]]]]))();};bc.j$40=function(){return bc._v$40?bc._v$40:bc._v$40=(de.DecodeUnion(cm,"$",[[0,[["$0","Item",de.Id(),0]]]]))();};bc.j$41=function(){return bc._v$41?bc._v$41:bc._v$41=(de.DecodeRecord(cN,[["anio",de.Id(),0],["mes",de.Id(),0]]))();};bd.j$39=function(){return bd._v$39?bd._v$39:bd._v$39=(de.EncodeUnion(cO,"$",[[0,[]],[1,[]],[2,[]],[3,[["$0","Item",de.Id(),0]]]]))();};bd.j$40=function(){return bd._v$40?bd._v$40:bd._v$40=(de.EncodeUnion(cm,"$",[[0,[["$0","Item",de.Id(),0]]]]))();};bd.j$41=function(){return bd._v$41?bd._v$41:bd._v$41=(de.EncodeRecord(cN,[["anio",de.Id(),0],["mes",de.Id(),0]]))();};bc.j$44=function(){return bc._v$44?bc._v$44:bc._v$44=(de.DecodeUnion(ct,"$",[[0,[]],[1,[]],[2,[["$0","Item",de.Id(),0]]]]))();};bc.j$45=function(){return bc._v$45?bc._v$45:bc._v$45=(de.DecodeUnion(bG,"$",[[0,[["$0","Item",de.Id(),0]]]]))();};bc.j$46=function(){return bc._v$46?bc._v$46:bc._v$46=(de.DecodeUnion(bF,"$",[[0,[["$0","Item",de.Id(),0]]]]))();};bd.j$44=function(){return bd._v$44?bd._v$44:bd._v$44=(de.EncodeUnion(ct,"$",[[0,[]],[1,[]],[2,[["$0","Item",de.Id(),0]]]]))();};bd.j$45=function(){return bd._v$45?bd._v$45:bd._v$45=(de.EncodeUnion(bG,"$",[[0,[["$0","Item",de.Id(),0]]]]))();};bd.j$46=function(){return bd._v$46?bd._v$46:bd._v$46=(de.EncodeUnion(bF,"$",[[0,[["$0","Item",de.Id(),0]]]]))();};bc.j$35=function(){return bc._v$35?bc._v$35:bc._v$35=(de.DecodeUnion(void 0,"$",[[0,[["$0","ResultValue",bc.j$36,0]]],[1,[["$0","ErrorValue",de.Id(),0]]]]))();};bc.j$37=function(){return bc._v$37?bc._v$37:bc._v$37=(de.DecodeUnion(void 0,"$",[[0,[[null,null,bc.j$43]]],[1,[[null,null,bc.j$38]]],[2,[["$0","Item",de.Id(),0]]]]))();};bd.j$35=function(){return bd._v$35?bd._v$35:bd._v$35=(de.EncodeUnion(void 0,"$",[[0,[["$0","ResultValue",bd.j$36,0]]],[1,[["$0","ErrorValue",de.Id(),0]]]]))();};bd.j$37=function(){return bd._v$37?bd._v$37:bd._v$37=(de.EncodeUnion(void 0,"$",[[0,[[null,null,bd.j$43]]],[1,[[null,null,bd.j$38]]],[2,[["$0","Item",de.Id(),0]]]]))();};bc.j$23=function(){return bc._v$23?bc._v$23:bc._v$23=(de.DecodeUnion(void 0,"$",[[0,[["$0","Item",bc.j$17,0]]],[1,[["$0","Item",bc.j$24,0]]]]))();};bc.j$25=function(){return bc._v$25?bc._v$25:bc._v$25=(de.DecodeUnion(void 0,"$",[[0,[["$0","Item",de.Id(),0]]],[1,[["$0","Item",de.Id(),0]]],[2,[["$0","Item",de.Id(),0]]]]))();};bc.j$13=function(){return bc._v$13?bc._v$13:bc._v$13=(de.DecodeUnion(void 0,"$",[[0,[["$0","ResultValue",bc.j$14,0]]],[1,[["$0","ErrorValue",de.Id(),0]]]]))();};bc.j$15=function(){return bc._v$15?bc._v$15:bc._v$15=(de.DecodeUnion(cf,"$",[[0,[]],[1,[]],[2,[]],[3,[["$0","Item",de.Id(),0]]]]))();};bc.j$16=function(){return bc._v$16?bc._v$16:bc._v$16=(de.DecodeUnion(cg,"$",[[0,[]],[1,[]],[2,[["$0","Item",de.Id(),0]]]]))();};bc.j$18=function(){return bc._v$18?bc._v$18:bc._v$18=(de.DecodeUnion(ch,"$",[[0,[["$0","Item",de.Id(),0]]]]))();};bc.j$10=function(){return bc._v$10?bc._v$10:bc._v$10=(de.DecodeUnion(ce,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};bd.j$23=function(){return bd._v$23?bd._v$23:bd._v$23=(de.EncodeUnion(void 0,"$",[[0,[["$0","Item",bd.j$17,0]]],[1,[["$0","Item",bd.j$24,0]]]]))();};bd.j$25=function(){return bd._v$25?bd._v$25:bd._v$25=(de.EncodeUnion(void 0,"$",[[0,[["$0","Item",de.Id(),0]]],[1,[["$0","Item",de.Id(),0]]],[2,[["$0","Item",de.Id(),0]]]]))();};bd.j$13=function(){return bd._v$13?bd._v$13:bd._v$13=(de.EncodeUnion(void 0,"$",[[0,[["$0","ResultValue",bd.j$14,0]]],[1,[["$0","ErrorValue",de.Id(),0]]]]))();};bd.j$15=function(){return bd._v$15?bd._v$15:bd._v$15=(de.EncodeUnion(cf,"$",[[0,[]],[1,[]],[2,[]],[3,[["$0","Item",de.Id(),0]]]]))();};bd.j$16=function(){return bd._v$16?bd._v$16:bd._v$16=(de.EncodeUnion(cg,"$",[[0,[]],[1,[]],[2,[["$0","Item",de.Id(),0]]]]))();};bd.j$18=function(){return bd._v$18?bd._v$18:bd._v$18=(de.EncodeUnion(ch,"$",[[0,[["$0","Item",de.Id(),0]]]]))();};bd.j$10=function(){return bd._v$10?bd._v$10:bd._v$10=(de.EncodeUnion(ce,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};bc.j$24=function(){return bc._v$24?bc._v$24:bc._v$24=(de.DecodeUnion(void 0,"$",[[0,[["$0","Item",bc.j$16,0]]]]))();};bc.j$14=function(){return bc._v$14?bc._v$14:bc._v$14=(de.DecodeUnion(cU,"$",[[0,[["$0","Item",de.Id(),0]]]]))();};bd.j$24=function(){return bd._v$24?bd._v$24:bd._v$24=(de.EncodeUnion(void 0,"$",[[0,[["$0","Item",bd.j$16,0]]]]))();};bd.j$14=function(){return bd._v$14?bd._v$14:bd._v$14=(de.EncodeUnion(cU,"$",[[0,[["$0","Item",de.Id(),0]]]]))();};be.sortWith=function(d8,d9){return be.delay(function(){var d_;d_=K.ofSeq(d9);K.sortInPlaceWith(d8,d_);return d_;});};be.filter=function(d8,d9){return{GetEnumerator:function(){var d_;d_=b$.Get(d9);return new ca.New(null,null,function(d$){var ea,eb,ec;ea=d_.MoveNext();eb=d_.Current();ec=false;while(ea)if(d8(eb)){d$.c=eb;ec=true;ea=false;}else if(d_.MoveNext())eb=d_.Current();else ea=false;return ec;},function(){d_.Dispose();});}};};be.isEmpty=function(d8){var d9;d9=b$.Get(d8);try{return!d9.MoveNext();}finally{if(typeof d9=="object"&&"Dispose"in d9)d9.Dispose();}};be.map=function(d8,d9){return{GetEnumerator:function(){var d_;d_=b$.Get(d9);return new ca.New(null,null,function(d$){return d_.MoveNext()&&(d$.c=d8(d_.Current()),true);},function(){d_.Dispose();});}};};be.delay=function(d8){return{GetEnumerator:function(){return b$.Get(d8());}};};be.append=function(d8,d9){return{GetEnumerator:function(){var d_,d$;d_=b$.Get(d8);d$=[true];return new ca.New(d_,null,function(ea){var eb;return ea.s.MoveNext()?(ea.c=ea.s.Current(),true):(eb=ea.s,!G.Equals(eb,null)?eb.Dispose():void 0,ea.s=null,d$[0]&&(d$[0]=false,ea.s=b$.Get(d9),ea.s.MoveNext()?(ea.c=ea.s.Current(),true):(ea.s.Dispose(),ea.s=null,false)));},function(ea){var eb;eb=ea.s;!G.Equals(eb,null)?eb.Dispose():void 0;});}};};be.collect=function(d8,d9){return be.concat(be.map(d8,d9));};be.min=function(d8){var d9,d_,d$;d9=b$.Get(d8);try{if(!d9.MoveNext())be.seqEmpty();d_=d9.Current();while(d9.MoveNext()){d$=d9.Current();G.Compare(d$,d_)===-1?d_=d$:void 0;}return d_;}finally{if(typeof d9=="object"&&"Dispose"in d9)d9.Dispose();}};be.tryPick=function(d8,d9){var d_,d$;d_=b$.Get(d9);try{d$=null;while(G.Equals(d$,null)&&d_.MoveNext())d$=d8(d_.Current());return d$;}finally{if(typeof d_=="object"&&"Dispose"in d_)d_.Dispose();}};be.tryFind=function(d8,d9){var d_,d$,ea;d_=b$.Get(d9);try{d$=null;while(d$==null&&d_.MoveNext()){ea=d_.Current();d8(ea)?d$={$:1,$0:ea}:void 0;}return d$;}finally{if(typeof d_=="object"&&"Dispose"in d_)d_.Dispose();}};be.exists=function(d8,d9){var d_,d$;d_=b$.Get(d9);try{d$=false;while(!d$&&d_.MoveNext())d$=d8(d_.Current());return d$;}finally{if(typeof d_=="object"&&"Dispose"in d_)d_.Dispose();}};be.zip=function(d8,d9){return be.map2(function(d_,d$){return[d_,d$];},d8,d9);};be.choose=function(d8,d9){return be.collect(function(d_){var d$;d$=d8(d_);return d$==null?cc.Empty:bY.ofArray([d$.$0]);},d9);};be.distinct=function(d8){return be.distinctBy(a.id,d8);};be.sort=function(d8){return be.sortBy(a.id,d8);};be.groupBy=function(d8,d9){return be.delay(function(){return K.groupBy(d8,K.ofSeq(d9));});};be.concat=function(d8){return{GetEnumerator:function(){var d9;d9=b$.Get(d8);return new ca.New(null,null,function(d_){var d$;while(true){d$=d_.s;if(G.Equals(d$,null)){if(d9.MoveNext()){d_.s=b$.Get(d9.Current());d_=d_;}else{d9.Dispose();return false;}}else if(d$.MoveNext()){d_.c=d$.Current();return true;}else{d_.Dispose();d_.s=null;d_=d_;}}},function(d_){var d$;d$=d_.s;!G.Equals(d$,null)?d$.Dispose():void 0;!G.Equals(d9,null)?d9.Dispose():void 0;});}};};be.seqEmpty=function(){return B.FailWith("The input sequence was empty.");};be.indexed=function(d8){return be.mapi(function(d9,d_){return[d9,d_];},d8);};be.map2=function(d8,d9,d_){return{GetEnumerator:function(){var d$,ea;d$=b$.Get(d9);ea=b$.Get(d_);return new ca.New(null,null,function(eb){return d$.MoveNext()&&ea.MoveNext()&&(eb.c=d8(d$.Current(),ea.Current()),true);},function(){d$.Dispose();ea.Dispose();});}};};be.tryFindIndex=function(d8,d9){var d_,d$,ea;d_=b$.Get(d9);try{d$=true;ea=0;while(d$&&d_.MoveNext())if(d8(d_.Current()))d$=false;else ea=ea+1;return d$?null:{$:1,$0:ea};}finally{if(typeof d_=="object"&&"Dispose"in d_)d_.Dispose();}};be.distinctBy=function(d8,d9){return{GetEnumerator:function(){var d_,d$;d_=b$.Get(d9);d$=new bP.New$3();return new ca.New(null,null,function(ea){var eb,ec;if(d_.MoveNext()){eb=d_.Current();ec=d$.Add(d8(eb));while(!ec&&d_.MoveNext()){eb=d_.Current();ec=d$.Add(d8(eb));}return ec&&(ea.c=eb,true);}else return false;},function(){d_.Dispose();});}};};be.sortBy=function(d8,d9){return be.delay(function(){var d_;d_=K.ofSeq(d9);K.sortInPlaceBy(d8,d_);return d_;});};be.mapi=function(d8,d9){return be.map2(d8,be.initInfinite(a.id),d9);};be.pairwise=function(d8){return be.map(function(d9){return[K.get(d9,0),K.get(d9,1)];},be.windowed(2,d8));};be.forall2=function(d8,d9,d_){return!be.exists2(function(d$,ea){return!d8(d$,ea);},d9,d_);};be.iteri=function(d8,d9){var d_,d$;d_=0;d$=b$.Get(d9);try{while(d$.MoveNext()){d8(d_,d$.Current());d_=d_+1;}}finally{if(typeof d$=="object"&&"Dispose"in d$)d$.Dispose();}};be.initInfinite=function(d8){return{GetEnumerator:function(){return new ca.New(0,null,function(d9){d9.c=d8(d9.s);d9.s=d9.s+1;return true;},void 0);}};};be.skip=function(d8,d9){return{GetEnumerator:function(){var d_;d_=b$.Get(d9);return new ca.New(true,null,function(d$){var ea,eb;if(d$.s){for(ea=1,eb=d8;ea<=eb;ea++)if(!d_.MoveNext())be.insufficient();d$.s=false;}else null;return d_.MoveNext()&&(d$.c=d_.Current(),true);},function(){d_.Dispose();});}};};be.nth=function(d8,d9){var d_,d$;if(d8<0)B.FailWith("negative index requested");d_=-1;d$=b$.Get(d9);try{while(d_<d8){!d$.MoveNext()?be.insufficient():void 0;d_=d_+1;}return d$.Current();}finally{if(typeof d$=="object"&&"Dispose"in d$)d$.Dispose();}};be.init=function(d8,d9){return be.take(d8,be.initInfinite(d9));};be.windowed=function(d8,d9){d8<=0?B.FailWith("The input must be positive."):void 0;return be.delay(function(){return be.enumUsing(b$.Get(d9),function(d_){var d$;d$=[];return be.append(be.enumWhile(function(){return d$.length<d8&&d_.MoveNext();},be.delay(function(){d$.push(d_.Current());return[];})),be.delay(function(){return d$.length===d8?be.append([d$.slice(0)],be.delay(function(){return be.enumWhile(function(){return d_.MoveNext();},be.delay(function(){d$.shift();d$.push(d_.Current());return[d$.slice(0)];}));})):[];}));});});};be.head=function(d8){var d9;d9=b$.Get(d8);try{return d9.MoveNext()?d9.Current():be.insufficient();}finally{if(typeof d9=="object"&&"Dispose"in d9)d9.Dispose();}};be.exists2=function(d8,d9,d_){var d$,ea,eb,ec;d$=b$.Get(d9);try{eb=b$.Get(d_);try{ec=false;while(!ec&&d$.MoveNext()&&eb.MoveNext())ec=d8(d$.Current(),eb.Current());ea=ec;}finally{if(typeof eb=="object"&&"Dispose"in eb)eb.Dispose();}return ea;}finally{if(typeof d$=="object"&&"Dispose"in d$)d$.Dispose();}};be.compareWith=function(d8,d9,d_){var d$,ea,eb,ec,ed;d$=b$.Get(d9);try{eb=b$.Get(d_);try{ec=0;ed=true;while(ed&&ec===0)if(d$.MoveNext())ec=eb.MoveNext()?d8(d$.Current(),eb.Current()):1;else if(eb.MoveNext())ec=-1;else ed=false;ea=ec;}finally{if(typeof eb=="object"&&"Dispose"in eb)eb.Dispose();}return ea;}finally{if(typeof d$=="object"&&"Dispose"in d$)d$.Dispose();}};be.iter=function(d8,d9){var d_;d_=b$.Get(d9);try{while(d_.MoveNext())d8(d_.Current());}finally{if(typeof d_=="object"&&"Dispose"in d_)d_.Dispose();}};be.fold=function(d8,d9,d_){var d$,ea;d$=d9;ea=b$.Get(d_);try{while(ea.MoveNext())d$=d8(d$,ea.Current());return d$;}finally{if(typeof ea=="object"&&"Dispose"in ea)ea.Dispose();}};be.take=function(d8,d9){d8<0?be.nonNegative():void 0;return{GetEnumerator:function(){var d_;d_=[b$.Get(d9)];return new ca.New(0,null,function(d$){var ea;d$.s=d$.s+1;return d$.s>d8?false:(ea=d_[0],G.Equals(ea,null)?be.insufficient():ea.MoveNext()?(d$.c=ea.Current(),d$.s===d8?(ea.Dispose(),d_[0]=null):void 0,true):(ea.Dispose(),d_[0]=null,be.insufficient()));},function(){var d$;d$=d_[0];!G.Equals(d$,null)?d$.Dispose():void 0;});}};};be.unfold=function(d8,d9){return{GetEnumerator:function(){return new ca.New(d9,null,function(d_){var d$;d$=d8(d_.s);return d$==null?false:(d_.c=d$.$0[0],d_.s=d$.$0[1],true);},void 0);}};};be.max=function(d8){var d9,d_,d$;d9=b$.Get(d8);try{if(!d9.MoveNext())be.seqEmpty();d_=d9.Current();while(d9.MoveNext()){d$=d9.Current();G.Compare(d$,d_)===1?d_=d$:void 0;}return d_;}finally{if(typeof d9=="object"&&"Dispose"in d9)d9.Dispose();}};be.forall=function(d8,d9){return!be.exists(function(d_){return!d8(d_);},d9);};bg.op_AmpGreater=function(d8,d9,d_,d$){var ea;ea=d8(d_,d$);return ea===0?d9(d_,d$):ea;};bg.asc=function(d8,d9,d_){return G.Compare(d8(d9),d8(d_));};bg.desc=function(d8,d9,d_){return G.Compare(d8(d_),d8(d9));};bh.New=function(d8,d9,d_,d$,ea,eb){return{hijosDe:d8,nivelDe:d9,aliado:d_,aliadoO:d$,hijos:ea,descendientes:eb};};bj=bi.FSharpSet=d0.Class({Contains:function(d8){return cb.Contains(d8,this.tree);},Remove:function(d8){return new bj.New$1(cb.Remove(d8,this.tree));},Add:function(d8){return new bj.New$1(cb.Add(d8,this.tree));},Equals:function(d8){return this.get_Count()===d8.get_Count()&&be.forall2(G.Equals,this,d8);},GetEnumerator$1:function(){return b$.Get(cb.Enumerate(false,this.tree));},get_Count:function(){var d8;d8=this.tree;return d8==null?0:d8.Count;},GetHashCode:function(){return -1741749453+G.Hash(K.ofSeq(this));},GetEnumerator:function(){return this.GetEnumerator$1();},CompareTo0:function(d8){return be.compareWith(G.Compare,this,d8);},GetEnumerator0:function(){return this.GetEnumerator$1();}},f,bj);bj.op_Subtraction=function(d8,d9){return bk.Filter(function(d_){return!d9.Contains(d_);},d8);};bj.New=d0.Ctor(function(d8){bj.New$1.call(this,cb.OfSeq(d8));},bj);bj.New$1=d0.Ctor(function(d8){f.New.call(this);this.tree=d8;},bj);bk.Filter=function(d8,d9){var d_;return new bj.New$1((d_=K.ofSeq(be.filter(d8,d9)),cb.Build(d_,0,d_.length-1)));};bl.PadLeft=function(d8,d9){return bl.PadLeftWith(d8,d9," ");};bl.concat=function(d8,d9){return K.ofSeq(d9).join(d8);};bl.PadRight=function(d8,d9){return bl.PadRightWith(d8,d9," ");};bl.PadLeftWith=function(d8,d9,d_){return d9>d8.length?a.Array(d9-d8.length+1).join(d_)+d8:d8;};bl.Trim=function(d8){return d8.replace(new a.RegExp("^\\s+"),"").replace(new a.RegExp("\\s+$"),"");};bl.Substring=function(d8,d9,d_){return d8.substr(d9,d_);};bl.Replace=function(d8,d9,d_){function d$(ea){var eb,ec,ed;eb=ea.indexOf(d9);return eb!==-1?(ec=bl.ReplaceOnce(ea,d9,d_),(ed=eb+d_.length,bl.Substring(ec,0,eb+d_.length)+d$(ec.substring(ed)))):ea;}return d$(d8);};bl.PadRightWith=function(d8,d9,d_){return d9>d8.length?d8+a.Array(d9-d8.length+1).join(d_):d8;};bl.SplitChars=function(d8,d9,d_){return bl.Split(d8,new a.RegExp("["+bl.RegexEscape(d9.join(""))+"]"),d_);};bl.ReplaceOnce=function(d8,d9,d_){return d8.replace(d9,d_);};bl.Split=function(d8,d9,d_){return d_===1?K.filter(function(d$){return d$!=="";},bl.SplitWith(d8,d9)):bl.SplitWith(d8,d9);};bl.RegexEscape=function(d8){return d8.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};bl.StartsWith=function(d8,d9){return d8.substring(0,d9.length)==d9;};bl.SplitWith=function(d8,d9){return d8.split(d9);};bl.replicate=function(d8,d9){return K.create(d8,d9).join("");};bl.IsNullOrEmpty=function(d8){return d8==null||d8=="";};bl.ReplaceChar=function(d8,d9,d_){return bl.Replace(d8,d9,d_);};bl.SplitStrings=function(d8,d9,d_){return bl.Split(d8,new a.RegExp(bl.concat("|",K.map(bl.RegexEscape,d9))),d_);};bl.forall=function(d8,d9){return be.forall(d8,bl.protect(d9));};bl.protect=function(d8){return d8===null?"":d8;};bl.Join=function(d8,d9){return d9.join(d8);};bm=k.CorreoElectronico=d0.Class({toString:function(){return this.email;}},null,bm);bm.New=function(d8,d9,d_){return new bm({email:d8,enviado:d9,recibido:d_});};bn.formaDoc=function(d8){var d9,d_,d$,ea,eb,ec;d9=(d_=(d$=W.EmbedView(i.Map(bB.crearOptions,bB.generos().get_View())),O.Make().WithHole({$:0,$0:"generos",$1:d$})),(ea=Q.CompleteHoles(d_.k,d_.h,[["nombres",0],["apellidos",0],["fechanacimiento",0],["genero",0]]),(eb=new R.New(ea[1],T.datospersonales(ea[0])),(d_.i=eb,eb))));i.Sink(function(ed){var ee;if(ed!=null&&ed.$==1){ee=ed.$0;d9.Hole("nombres").Set(bl.Trim(ee.nombre1+" "+ee.nombre2));d9.Hole("apellidos").Set(bl.Trim(ee.apellido1+" "+ee.apellido2));d9.Hole("fechanacimiento").Set(bD.toYYYYMMDD("-",ee.fechaNacimiento));d9.Hole("genero").Set((function(ef){return function(eg){return ef(U.p$1(eg));};}(a.id))(ee.genero));}},d8.get_View());ec=i.Apply(i.Apply(i.Map2(function(ed,ee){return function(ef){return function(eg){return be.map(function(eh){return eh[1];},be.filter(function(eh){return eh[0];},bY.ofArray([[bl.Trim(ed)==="","Nombres"],[bl.Trim(ee)==="","Apellidos"],[bl.Trim(ef)==="","Fecha de Nacimiento"],[bl.Trim(eg)==="","Genero"]])));};};},d9.Hole("nombres").get_View(),d9.Hole("apellidos").get_View()),d9.Hole("fechanacimiento").get_View()),d9.Hole("genero").get_View());i.Sink(function(ed){if(!G.Equals(d8.Get(),ed))d8.Set(ed);},i.Apply(i.Apply(i.Apply(i.Apply(i.Apply(i.Map2(function(ed,ee){return d0.Curried(function(ef,eg,eh,ei,ej){return!be.isEmpty(ed)?null:bB.alertIfNone("Genero",b6.tryParse(ee),function(ek){return bB.alertIfNone("Fecha incorrecta",(cd.parseDateO2())(ef),function(el){return{$:1,$0:_1.New(null,K.get(bl.SplitChars(bl.Trim(eg),[" "],0),0),bl.concat(" ",bX.array(bl.SplitChars(bl.Trim(eh),[" "],0),{$:1,$0:1},null)),K.get(bl.SplitChars(bl.Trim(ei),[" "],0),0),bl.concat(" ",bX.array(bl.SplitChars(bl.Trim(ej),[" "],0),{$:1,$0:1},null)),new b5({$:3,$0:""}),ek,el)};});});},5);},ec,d9.Hole("genero").get_View()),d9.Hole("fechanacimiento").get_View()),d9.Hole("nombres").get_View()),d9.Hole("nombres").get_View()),d9.Hole("apellidos").get_View()),d9.Hole("apellidos").get_View()));return[ec,d9.get_Doc()];};bo.formaDoc=function(d8){var d9,d_,d$,ea,eb,ec,ed;d9=h.Create$1("");d_=(d$=O.Make().WithHole({$:2,$0:"mensaje",$1:d9.get_View()}),(ea=Q.CompleteHoles(d$.k,d$.h,[["correo",0],["confirmarcorreo",0]]),(eb=new R.New(ea[1],T.correo(ea[0])),(d$.i=eb,eb))));ec=d8.Get();ec!=null&&ec.$==1?d_.Hole("confirmarcorreo").Set(a.String(ec.$0)):void 0;i.Sink(function(ee){d9.Set(ee);},i.Apply(i.Apply(i.Map2(function(ee,ef){return function(eg){return function(eh){return bl.Trim(ee)===""||bl.Trim(ef)===""||bl.Trim(eg)===bl.Trim(eh)?"":"Correos no son iguales";};};},d_.Hole("correo").get_View(),d_.Hole("confirmarcorreo").get_View()),d_.Hole("correo").get_View()),d_.Hole("confirmarcorreo").get_View()));i.Sink(function(ee){if(ee!=null&&ee.$==1)d_.Hole("correo").Set(ee.$0.email);},d8.get_View());ed=i.Apply(i.Apply(i.Map2(function(ee,ef){return function(eg){return function(eh){return be.map(function(ei){return ei[1];},be.filter(function(ei){return ei[0];},bY.ofArray([[bl.Trim(ee)==="","Correo"],[bl.Trim(ef)==="","ConfirmarCorreo"],[eg!=="",eh]])));};};},d_.Hole("correo").get_View(),d_.Hole("confirmarcorreo").get_View()),d9.get_View()),d9.get_View());i.Sink(function(ee){if(!G.Equals(d8.Get(),ee))d8.Set(ee);},i.Map2(function(ee,ef){var eg,eh,ei,ej;return!be.isEmpty(ee)?null:(eg=(eh=d8.Get(),(ei={$:1,$0:k.correoVacio()},eh==null?ei:eh)),eg==null?null:{$:1,$0:(ej=eg.$0,bm.New(ef,ej.enviado,ej.recibido))});},ed,d_.Hole("correo").get_View()));return[ed,d_.get_Doc()];};bp.formaDoc=function(d8){var d9,d_,d$,ea,eb,ec;d9=(d_=(d$=W.EmbedView(i.Map(bB.crearOptions,bB.tiposTel().get_View())),O.Make().WithHole({$:0,$0:"tipos",$1:d$})),(ea=Q.CompleteHoles(d_.k,d_.h,[["tipotelefono",0],["codigopais",0],["codigoarea",0],["telefono",0],["extension",0]]),(eb=new R.New(ea[1],T.telefono(ea[0])),(d_.i=eb,eb))));i.Sink(function(ed){var ee;if(ed!=null&&ed.$==1){ee=ed.$0;d9.Hole("codigoarea").Set(ee.codigoArea);d9.Hole("codigopais").Set(ee.codigoPais);d9.Hole("telefono").Set(ee.numero);d9.Hole("extension").Set(ee.extension);d9.Hole("tipotelefono").Set((function(ef){return function(eg){return ef(a.String(eg));};}(a.id))(ee.tipoTelefono));}},d8.get_View());ec=i.Apply(i.Map2(function(ed,ee){return function(ef){return be.map(function(eg){return eg[1];},be.filter(function(eg){return eg[0];},bY.ofArray([[bl.Trim(ed)==="","CodigoPais"],[bl.Trim(ee)==="","Telefono"],[bl.Trim(ef)==="","TipoTelefono"]])));};},d9.Hole("codigopais").get_View(),d9.Hole("telefono").get_View()),d9.Hole("tipotelefono").get_View());i.Sink(function(ed){if(!G.Equals(d8.Get(),ed))d8.Set(ed);},i.Apply(i.Apply(i.Apply(i.Apply(i.Map2(function(ed,ee){return d0.Curried(function(ef,eg,eh,ei){return!be.isEmpty(ed)?null:bB.alertIfNone("TipoTelefono",(ce.get_tryParse())(bl.Trim(ee)),function(ej){var ek;return{$:1,$0:(ek=bl.Trim(ef),b8.New(ej,bl.Trim(eg),ek,bl.Trim(eh),bl.Trim(ei),false))};});},4);},ec,d9.Hole("tipotelefono").get_View()),d9.Hole("codigoarea").get_View()),d9.Hole("codigopais").get_View()),d9.Hole("telefono").get_View()),d9.Hole("extension").get_View()));return[ec,d9.get_Doc()];};bq.formaDoc=function(d8){var d9,d_,d$,ea,eb,ec,ed,ee;d9=(d_=(d$=W.EmbedView(i.Map(bB.crearOptions,bB.tiposDir().get_View())),(ea=W.EmbedView(i.Map(bB.crearOptions,bB.estados().get_View())),(eb=W.EmbedView(i.Map(bB.crearOptions,bB.paises().get_View())),O.Make().WithHole({$:0,$0:"paises",$1:eb})).WithHole({$:0,$0:"estados",$1:ea})).WithHole({$:0,$0:"tipos",$1:d$})),(ec=Q.CompleteHoles(d_.k,d_.h,[["tipodireccion",0],["direccion1",0],["direccion2",0],["ciudad",0],["estado",0],["codigopostal",0],["pais",0]]),(ed=new R.New(ec[1],T.direccion(ec[0])),(d_.i=ed,ed))));i.Sink(function(ef){var eg;if(ef!=null&&ef.$==1){eg=ef.$0;d9.Hole("direccion1").Set(eg.linea1);d9.Hole("direccion2").Set(eg.linea2);d9.Hole("ciudad").Set(eg.ciudad);d9.Hole("estado").Set((function(eh){return function(ei){return eh(a.String(ei));};}(a.id))(eg.estado));d9.Hole("pais").Set((function(eh){return function(ei){return eh(a.String(ei));};}(a.id))(eg.pais));d9.Hole("codigopostal").Set((function(eh){return function(ei){return eh(a.String(ei));};}(a.id))(eg.zonaPostal));d9.Hole("tipodireccion").Set((function(eh){return function(ei){return eh(a.String(ei));};}(a.id))(eg.tipoDireccion));}},d8.get_View());ee=i.Apply(i.Apply(i.Apply(i.Apply(i.Map2(function(ef,eg){return d0.Curried(function(eh,ei,ej,ek){return be.map(function(el){return el[1];},be.filter(function(el){return el[0];},bY.ofArray([[bl.Trim(ef)==="","Direccion1"],[bl.Trim(eg)==="","Ciudad"],[bl.Trim(eh)==="","Estado"],[bl.Trim(ei)==="","Pais"],[bl.Trim(ej)==="","CodigoPostal"],[bl.Trim(ek)==="","TipoDireccion"]])));},4);},d9.Hole("direccion1").get_View(),d9.Hole("ciudad").get_View()),d9.Hole("estado").get_View()),d9.Hole("pais").get_View()),d9.Hole("codigopostal").get_View()),d9.Hole("tipodireccion").get_View());i.Sink(function(ef){if(!G.Equals(d8.Get(),ef))d8.Set(ef);},i.Apply(i.Apply(i.Apply(i.Apply(i.Apply(i.Apply(i.Apply(i.Map2(function(ef,eg){return d0.Curried(function(eh,ei,ej,ek,el,em,en){return!be.isEmpty(ef)?null:bB.alertIfNone("TipoDireccion",cf.tryParse(bl.Trim(eg)),function(eo){return bB.alertIfNone("Estado",cg.tryParse(bl.Trim(eh)),function(ep){return bB.alertIfNone("Pais",b5.tryParse(bl.Trim(ei)),function(eq){return bB.alertIfNone("CodigoPostal",ch.tryParse(bl.Trim(ej)),function(er){var es;return{$:1,$0:b7.New((es=en==null?null:{$:1,$0:en.$0.authorizeIdR},es==null?bf.Error(""):es.$0),eo,bl.Trim(ek),bl.Trim(el),bl.Trim(em),ep,eq,er)};});});});});},7);},ee,d9.Hole("tipodireccion").get_View()),d9.Hole("estado").get_View()),d9.Hole("pais").get_View()),d9.Hole("codigopostal").get_View()),d9.Hole("direccion1").get_View()),d9.Hole("direccion2").get_View()),d9.Hole("ciudad").get_View()),d8.get_View()));return[ee,d9.get_Doc()];};bs.asyncResultM=function(){bT.$cctor();return bT.asyncResultM;};bs["AsyncResultMBuilder.Bind"]=function(d8,d9,d_){function d$(ea){return cu.Return(ea);}return bt.bind(d_,cu.Bind(d9,function(ea){return d$(br.OkM$1(ea));}));};bu=bt.AsyncResultMBuilder=d0.Class({Run:function(d8){return bt.bind(d8,bt.rtn());},Delay:a.id,Bind$4:function(d8,d9){return bt.bind(d9,d8);},Zero:function(){return bt.rtn();},Combine$1:function(d8,d9){return bt.bind(d9,d8);},For:function(d8,d9){var d_;d_=this;return this.Using(b$.Get(d8),function(d$){return d_.While(function(){return d$.MoveNext();},d_.Delay(function(){return d9(d$.Current());}));});},Bind$2:function(d8,d9){return bt.bindM(d9,d8);},Return:function(d8){return bt.rtn(d8);},Bind$1:function(d8,d9){return bt.bindR(d9,d8);},Using:function(d8,d9){return cu.Using(d8,d9);},While:function(d8,d9){return bt.whileLoop(d8,d9);}},f,bu);bu.New=d0.Ctor(function(){f.New.call(this);},bu);bv.refrescarData=function(d8){var d9,d_,d$;d8?bv.set_shouldRefresh(true):void 0;d9=bz.userO().Get();d9!=null&&d9.$==1?(d_=d9.$0,P.iterA((d$=bs.asyncResultM(),d$.Run(d$.Delay(function(){return d$.Combine$1(bz.referidoPor()!==""?d$.Bind$4(P.agregarUsuarioSiEsNuevo(bz.claims(d_)),function(){return d$.Return();}):d$.Zero(),d$.Delay(function(){return!self.document.hidden?bv.shouldRefresh()?d$.Bind$4(P.obtenerEstadoParaUsuario(),function(ea){bv.set_shouldRefresh(false);return!G.Equals(n.modeloV().Get(),ea)?(n.modeloV().Set(ea),d$.Zero()):d$.Zero();}):d$.Zero():d$.Zero();}));}))))):n.modeloV().Set(k.modeloVacio());};bv.set_shouldRefresh=function(d8){_0.$cctor();_0.shouldRefresh=d8;};bv.shouldRefresh=function(){_0.$cctor();return _0.shouldRefresh;};bx.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new a.RegExp("[xy]","g"),function(d8){var d9,d_;d9=d1.random()*16|0;d_=d8=="x"?d9:d9&3|8;return d_.toString(16);});};bx.TryParse=function(d8,d9){try{d9.set(bx.Parse(d8));return true;}catch(d_){return false;}};bx.Parse=function(d8){var d9,d_,d$;try{return bx.ParseExact(d8,"D");}catch(ea){try{d9=bx.ParseExact(d8,"B");}catch(eb){try{d_=bx.ParseExact(d8,"P");}catch(ec){try{d$=bx.ParseExact(d8,"N");}catch(ed){d$=bx.ParseExact(d8,"X");}d_=d$;}d9=d_;}return d9;}};bx.ParseExact=function(d8,d9){var d_,d$,ea,ec,ed,ee,ef,eg,eh,ei,ej,ek,el;function eb(em){var en,eo,ep,eq;for(en=0,eo=35;en<=eo;en++){en===8||(en===13||(en===18||en===23))?em[en]!=="-"?bx.ShapeError():void 0:(eq=em[en],!("0"<=eq&&eq<="9"||"a"<=eq&&eq<="f")?bx.ShapeError():void 0);}return em;}ec=d9.toUpperCase();if(ec==="N"){ed=bl.Trim(d8).toLowerCase();if(ed.length!==32)bx.ShapeError();for(ee=0,ef=31;ee<=ef;ee++){eg=ed[ee];!("0"<=eg&&eg<="9"||"a"<=eg&&eg<="f")?bx.ShapeError():void 0;}return bl.Substring(ed,0,8)+"-"+bl.Substring(ed,8,4)+"-"+bl.Substring(ed,12,4)+"-"+bl.Substring(ed,16,4)+"-"+ed.substring(20);}else if(ec==="D"){d_=bl.Trim(d8).toLowerCase();d_.length!==36?bx.ShapeError():void 0;return eb(d_);}else if(ec==="B"){d$=bl.Trim(d8).toLowerCase();d$.length!==38||d$[0]!=="{"||d$[17]!=="}"?bx.ShapeError():void 0;return eb(bl.Substring(d$,1,36));}else if(ec==="P"){ea=bl.Trim(d8).toLowerCase();ea.length!==38||ea[0]!=="("||ea[17]!==")"?bx.ShapeError():void 0;return eb(bl.Substring(ea,1,36));}else if(ec==="X"){eh=bl.Trim(d8).toLowerCase();if(eh.length!==68)bx.ShapeError();for(ei=0,ej=67;ei<=ej;ei++){switch(ei){case 26:case 0:if(eh[ei]!=="{")bx.ShapeError();break;case 62:case 57:case 52:case 47:case 42:case 37:case 32:case 27:case 19:case 12:case 1:if(eh[ei]!=="0")bx.ShapeError();break;case 63:case 58:case 53:case 48:case 43:case 38:case 33:case 28:case 20:case 13:case 2:if(eh[ei]!=="x")bx.ShapeError();break;case 61:case 56:case 51:case 46:case 41:case 36:case 31:case 25:case 18:case 11:if(eh[ei]!==",")bx.ShapeError();break;case 67:case 66:if(eh[ei]!=="{")bx.ShapeError();break;default:el=eh[ei];!("0"<=el&&el<="9"||"a"<=el&&el<="f")?bx.ShapeError():void 0;break;}}return bl.Substring(eh,3,8)+"-"+bl.Substring(eh,14,4)+"-"+bl.Substring(eh,21,4)+"-"+bl.Substring(eh,29,2)+bl.Substring(eh,34,2)+"-"+bl.Substring(eh,39,2)+bl.Substring(eh,44,2)+bl.Substring(eh,49,2)+bl.Substring(eh,54,2)+bl.Substring(eh,59,2)+bl.Substring(eh,64,2);}else return bx.FormatError();};bx.ShapeError=function(){throw new dN.New$1("Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");};bx.FormatError=function(){throw new dN.New$1("Format String can be only \"D\", \"d\", \"N\", \"n\", \"P\", \"p\", \"B\", \"b\", \"X\" or \"x\".");};bt.iterA=function(d8,d9,d_){function d$(eb){bI.iter(d8,d9,eb);}function ea(eb){return cu.Return(eb);}cu.Start(cu.Bind(d_,function(eb){return ea(d$(eb));}),null);};bt.rtn=function(d8){return cu.Return(br.OkM$1(d8));};bt.bind=function(d8,d9){var d_;d_=null;return cu.Delay(function(){return cu.TryWith(cu.Delay(function(){return cu.Bind(d9,function(d$){var ea,eb;function ec(ee){return bI.addMsg(eb,ee);}function ed(ee){return cu.Return(ee);}ea=br.OkM(d$);return ea.$==1?cu.Return(br.ErrorM(ea.$0)):(eb=ea.$0[1],cu.Bind(d8(ea.$0[0]),function(ee){return ed(ec(ee));}));});}),function(d$){return cu.Return(br.ErrorM(new by({$:5,$0:d$.message,$1:d$.stack})));});});};bt.bindM=function(d8,d9){return bt.bind(d8,bt.rtnM(d9));};bt.iterpA=function(d8,d9){function d_(d$){bf.print(d$);}bt.iterA(function(d$){return d_(by.summarized(d$));},d8,d9);};bt.bindR=function(d8,d9){return bt.bind(d8,bt.rtnR(d9));};bt.whileLoop=function(d8,d9){return d8()?bt.bind(function(){return bt.whileLoop(d8,d9);},d9()):bt.rtn();};bt.rtnM=function(d8){return cu.Return(bI.rtnM(d8));};bt.rtnR=function(d8){return cu.Return(d8);};by.summarized=function(d8){return by.summarizedF(function(){return[1,0,0];},d8);};by.summarizedF=function(d8,d9){return bl.concat("\n",be.filter(function(d_){return""!==d_;},bY.ofArray([a.String(d9),by.summaryF(d8,d9)])));};by.summaryF=function(d8,d9){var d_,d$;d$=by.countF(d8,d9);switch(d$[0]===0?d$[1]===0?0:d$[1]===1?d$[2]===0?0:(d_=d$[1],2):(d_=d$[1],2):d$[0]===1?d$[1]===0?d$[2]===0?0:(d_=d$[0],1):(d_=[d$[0],d$[1]],3):d$[1]===0?(d_=d$[0],1):(d_=[d$[0],d$[1]],3)){case 0:return"";case 1:return(function(ea){return function(eb){return ea("Errors   : "+a.String(eb)+"\n");};}(a.id))(d_);case 2:return(function(ea){return function(eb){return ea("Warnings : "+a.String(eb)+"\n");};}(a.id))(d_);case 3:return(((d0.Curried3(function(ea,eb,ec){return ea("Errors   : "+a.String(eb)+", Warnings: "+a.String(ec)+"\n");}))(a.id))(d_[0]))(d_[1]);}};by.addMsg=function(d8,d9){return d8.$==0?d9:d8.$==6?d9.$==0?d8:d9.$==6?new by({$:6,$0:d8.$0.concat(d9.$0)}):new by({$:6,$0:d8.$0.concat([d9])}):d9.$==0?d8:d9.$==6?new by({$:6,$0:[d8].concat(d9.$0)}):new by({$:6,$0:[d8,d9]});};by.countF=function(d8,d9){function d_(d$,ea,eb){return function(ec){return[d$+ec[0],ea+ec[1],eb+ec[2]];};}return d9.$==0?[0,0,0]:d9.$==3?[0,0,1]:d9.$==2?[0,1,0]:d9.$==4?d8(d9.$0):d9.$==6?be.fold(function(d$,ea){return(function(eb){return d_(eb[0],eb[1],eb[2]);}(d$))(ea);},[0,0,0],be.map(function(d$){return by.countF(d8,d$);},by.exclnoMsg(d9.$0))):[1,0,0];};by.exclnoMsg=function(d8){function d9(d_){return!d_;}return be.filter(function(d_){return d9(by.noMsg(d_));},d8);};by.noMsg=function(d8){return d8.$==0;};bz.userO=function(){_0.$cctor();return _0.userO;};bz.logout=function(){bz.executePolicy(true,b0.SignIn);};bz.storeValue=function(d8,d9){bz.storage().setItem(d8,d9);return d9;};bz.getAuthority=function(d8,d9){return((((d0.Curried(function(d_,d$,ea,eb){return d_("https://"+bC.toSafe(d$)+".b2clogin.com/tfp/"+bC.toSafe(ea)+".onmicrosoft.com/"+bC.toSafe(eb));},4))(a.id))(d8))(d8))(d9);};bz.tenantName=function(){_0.$cctor();return _0.tenantName;};bz.signInPolicy=function(){_0.$cctor();return _0.signInPolicy;};bz.applicationId=function(){_0.$cctor();return _0.applicationId;};bz.authority=function(){_0.$cctor();return _0.authority;};bz.callback=function(d8,d9,d_,d$,ea){((function(eb){return function(ec){return eb("callback: "+("("+bC.prettyPrint(ec[0])+", "+bC.prettyPrint(ec[1])+", "+bC.prettyPrint(ec[2])+", "+bC.prettyPrint(ec[3])+", "+bC.prettyPrint(ec[4])+")"));};}(function(eb){d2.log(eb);}))([d8,d_,d$,d9,ea]));};bz.checkUser=function(){var d8;cu.Start((d8=null,cu.Delay(function(){return cu.Bind(cu.Sleep(100),function(){return cu.While(function(){return true;},cu.Delay(function(){var d9,d_;d9=(d_=bz.agent().getUser(),G.Equals(d_,null)?null:{$:1,$0:d_});return cu.Combine(bz.getId(d9)!==bz.getId(bz.userO().Get())?(bz.userO().Set(d9),cu.Zero()):cu.Zero(),cu.Delay(function(){return cu.Combine(G.Equals(bz.userO().Get(),null)?(bz.executePolicy(false,b0.SignIn),cu.Zero()):cu.Zero(),cu.Delay(function(){return cu.Bind(cu.Sleep(9000),function(){return cu.Return(null);});}));}));}));});})),null);};bz.referidoPor=function(){return bz.localStorage().getItem("referidoPor");};bz.claims=function(d8){var d9;d9=[["oid",d8.idToken.oid],["city",d8.idToken.city],["country",d8.idToken.country],["extension_DateOfBirth",d8.idToken.extension_DateOfBirth],["given_name",d8.idToken.given_name],["postalCode",d8.idToken.postalCode],["state",d8.idToken.state],["streetAddress",d8.idToken.streetAddress],["family_name",d8.idToken.family_name],["emails",K.get(d8.idToken.emails,0)],["referidoPor",bz.referidoPor()]];bz.localStorage().setItem("referidoPor","");return d9;};bz.executePolicy=function(d8,d9){bz.storeValue("forceLogin",d8?"1":"0");bz.storeValue("goInsideLink",self.location.href);bz.storeValue("policyType",a.String(d9));self.location.replace("blob/Msal.html");};bz.storage=function(){_0.$cctor();return _0.storage;};bz.agent=function(){_0.$cctor();return _0.agent;};bz.getId=function(d8){var d9;d9=d8==null?null:{$:1,$0:d8.$0.idToken.oid};return d9==null?"":d9.$0;};bz.localStorage=function(){_0.$cctor();return _0.localStorage;};bA.New=function(d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg){return{nombre:d8,status:d9,tipo:d_,referido:d$,nivel:ea,referidos:eb,descendientes:ec,comision:ed,diaPago:ee,desde:ef,Id:eg};};K.map=function(d8,d9){var d_,d$,ea;d_=new a.Array(d9.length);for(d$=0,ea=d9.length-1;d$<=ea;d$++)d_[d$]=d8(d9[d$]);return d_;};K.sortBy=function(d8,d9){return K.map(function(d_){return d_[0];},K.mapi(function(d_,d$){return[d$,[d8(d$),d_]];},d9).sort(function(d_,d$){return G.Compare(d_[1],d$[1]);}));};K.reduce=function(d8,d9){var d_,d$,ea;K.nonEmpty(d9);d_=d9[0];for(d$=1,ea=d9.length-1;d$<=ea;d$++)d_=d8(d_,d9[d$]);return d_;};K.filter=function(d8,d9){var d_,d$,ea;d_=[];for(d$=0,ea=d9.length-1;d$<=ea;d$++)if(d8(d9[d$]))d_.push(d9[d$]);return d_;};K.choose=function(d8,d9){var d_,d$,ea,eb;d_=[];for(d$=0,ea=d9.length-1;d$<=ea;d$++){eb=d8(d9[d$]);eb==null?void 0:d_.push(eb.$0);}return d_;};K.ofSeq=function(d8){var d9,d_;if(d8 instanceof a.Array)return d8.slice();else if(d8 instanceof cc)return K.ofList(d8);else{d9=[];d_=b$.Get(d8);try{while(d_.MoveNext())d9.push(d_.Current());return d9;}finally{if(typeof d_=="object"&&"Dispose"in d_)d_.Dispose();}}};K.sortInPlaceWith=function(d8,d9){d9.sort(d8);};K.mapi=function(d8,d9){var d_,d$,ea;d_=new a.Array(d9.length);for(d$=0,ea=d9.length-1;d$<=ea;d$++)d_[d$]=d8(d$,d9[d$]);return d_;};K.nonEmpty=function(d8){if(d8.length===0)B.FailWith("The input array was empty.");};K.tryFindIndex=function(d8,d9){var d_,d$;d_=null;d$=0;while(d$<d9.length&&d_==null){d8(d9[d$])?d_={$:1,$0:d$}:void 0;d$=d$+1;}return d_;};K.ofList=function(d8){var d9,d_;d_=[];d9=d8;while(!(d9.$==0)){d_.push(bY.head(d9));d9=bY.tail(d9);}return d_;};K.sortInPlace=function(d8){K.mapInPlace(function(d9){return d9[0];},K.mapiInPlace(function(d9,d_){return[d_,d9];},d8).sort(G.Compare));};K.tryFind=function(d8,d9){var d_,d$;d_=null;d$=0;while(d$<d9.length&&d_==null){d8(d9[d$])?d_={$:1,$0:d9[d$]}:void 0;d$=d$+1;}return d_;};K.sortInPlaceBy=function(d8,d9){K.mapInPlace(function(d_){return d_[0];},K.mapiInPlace(function(d_,d$){return[d$,[d8(d$),d_]];},d9).sort(function(d_,d$){return G.Compare(d_[1],d$[1]);}));};K.map2=function(d8,d9,d_){var d$,ea,eb;K.checkLength(d9,d_);d$=new a.Array(d_.length);for(ea=0,eb=d_.length-1;ea<=eb;ea++)d$[ea]=d8(d9[ea],d_[ea]);return d$;};K.forall=function(d8,d9){var d_,d$,ea,eb;d_=true;d$=0;eb=K.length(d9);while(d_&&d$<eb)if(d8(d9[d$]))d$=d$+1;else d_=false;return d_;};K.init=function(d8,d9){var d_,d$,ea;d8<0?B.FailWith("Negative size given."):null;d_=new a.Array(d8);for(d$=0,ea=d8-1;d$<=ea;d$++)d_[d$]=d9(d$);return d_;};K.tryPick=function(d8,d9){var d_,d$,ea;d_=null;d$=0;while(d$<d9.length&&d_==null){ea=d8(d9[d$]);ea!=null&&ea.$==1?d_=ea:void 0;d$=d$+1;}return d_;};K.concat=function(d8){return a.Array.prototype.concat.apply([],K.ofSeq(d8));};K.checkLength=function(d8,d9){if(d8.length!==d9.length)B.FailWith("The arrays have different lengths.");};K.exists=function(d8,d9){var d_,d$,ea,eb;d_=false;d$=0;eb=K.length(d9);while(!d_&&d$<eb)if(d8(d9[d$]))d_=true;else d$=d$+1;return d_;};K.pick=function(d8,d9){var d_;d_=K.tryPick(d8,d9);return d_==null?B.FailWith("KeyNotFoundException"):d_.$0;};K.create=function(d8,d9){var d_,d$,ea;d_=new a.Array(d8);for(d$=0,ea=d8-1;d$<=ea;d$++)d_[d$]=d9;return d_;};K.iter=function(d8,d9){var d_,d$;for(d_=0,d$=d9.length-1;d_<=d$;d_++)d8(d9[d_]);};K.foldBack=function(d8,d9,d_){var d$,ea,eb,ec,ed;d$=d_;eb=d9.length;for(ec=1,ed=eb;ec<=ed;ec++)d$=d8(d9[eb-ec],d$);return d$;};K.findIndex=function(d8,d9){var d_;d_=K.tryFindIndex(d8,d9);return d_==null?B.FailWith("KeyNotFoundException"):d_.$0;};K.find=function(d8,d9){var d_;d_=K.tryFind(d8,d9);return d_==null?B.FailWith("KeyNotFoundException"):d_.$0;};bB.statuses=function(){_0.$cctor();return _0.statuses;};bB.crearOptions=function(d8){return W.Concat(be.map(bB.crearOption,d8));};bB.crearOptions2=function(d8){return W.Concat(be.map(function(d9){return bB.crearOption2(d9[0],d9[1]);},d8));};bB.paises=function(){_0.$cctor();return _0.paises;};bB.estados=function(){_0.$cctor();return _0.estados;};bB.tiposDir=function(){_0.$cctor();return _0.tiposDir;};bB.tiposTel=function(){_0.$cctor();return _0.tiposTel;};bB.generos=function(){_0.$cctor();return _0.generos;};bB.tiposCta=function(){_0.$cctor();return _0.tiposCta;};bB.tiposTar=function(){_0.$cctor();return _0.tiposTar;};bB.aniosV=function(){_0.$cctor();return _0.aniosV;};bB.mesesV=function(){_0.$cctor();return _0.mesesV;};bB.alertIfNone=function(d8,d9,d_){return d9!=null&&d9.$==1?d_(d9.$0):(a.alert("Error not caught: "+d8),null);};bB.removeButton=function(d8,d9){return W.Element("form",[cF.Create("class","mui-panel")],[d9,W.Button("borrar",[cF.Create("title","borrar")],d8)]);};bB.fst3=a.id;bB.crearOption=function(d8){return W.Element("option",[],[W.TextNode(d8)]);};bB.crearOption2=function(d8,d9){return W.Element("option",[cF.Create("value",d9)],[W.TextNode(d8)]);};bB.thr3=function(d8,d9,d_){return d_;};bB.snd3=function(d8,d9,d_){return d9;};by=bf.ResultMessage=d0.Class({toString:function(){return this.$==1?(function(d8){return function(d9){return d8("Error    : "+bC.toSafe(d9));};}(a.id))(this.$0):this.$==2?(function(d8){return function(d9){return d8("Warning  : "+bC.toSafe(d9));};}(a.id))(this.$0):this.$==3?this.$0:this.$==4?(function(d8){return function(d9){return d8(a.String(d9));};}(a.id))(this.$0):this.$==5?(((d0.Curried3(function(d8,d9,d_){return d8("Exception: "+bC.toSafe(d9)+", "+bC.toSafe(d_));}))(a.id))(this.$0))(this.$1):this.$==6?bl.concat("\n",be.map(a.String,be.filter(function(d8){return d8.$!=0;},this.$0))):"";}},null,by);by.NoMsg=new by({$:0});bC.toSafe=function(d8){return d8==null?"":d8;};bC.prettyPrint=function(d8){var d9,d_;function d$(ea,eb){return ea+" = "+bC.prettyPrint(eb);}return d8===null?"null":(d9=typeof d8,d9=="string"?"\""+d8+"\"":d9=="object"?d8 instanceof a.Array?"[|"+bl.concat("; ",K.map(bC.prettyPrint,d8))+"|]":(d_=a.String(d8),d_==="[object Object]"?"{"+bl.concat("; ",K.map(function(ea){return d$(ea[0],ea[1]);},F.GetFields(d8)))+"}":d_):a.String(d8));};bC.padNumLeft=function(d8,d9){var d_;d_=K.get(d8,0);return d_===" "||d_==="+"||d_==="-"?d_+bl.PadLeftWith(d8.substr(1),d9-1,"0"):bl.PadLeftWith(d8,d9,"0");};bC.printList=function(d8,d9){return"["+bl.concat("; ",be.map(d8,d9))+"]";};bf["String.Right"]=function(d8,d9){var d_,d$;return bf["String.Substring2"](d8,(d_=0,(d$=d8.length-d9,G.Compare(d_,d$)===1?d_:d$)),d8.length);};bf.print=function(d8){if(typeof d8=="string")((function(d9){return function(d_){return d9(bC.toSafe(d_));};}(function(d9){d2.log(d9);}))(d8));else((function(d9){return function(d_){return d9(bC.prettyPrint(d_));};}(function(d9){d2.log(d9);}))(d8));};bf.Error=function(d8){return{$:1,$0:d8};};bf["String.Substring2"]=function(d8,d9,d_){var d$,ea;while(true){if(d_<=0)return"";else if(d9<0){d$=d9;d9=0;d_=d_+d$;}else return d9>=d8.length?"":bl.Substring(d8,d9,(ea=d8.length-d9,G.Compare(d_,ea)===-1?d_:ea));}};bf["String.Left"]=function(d8,d9){return d9<0?bf["String.Substring2"](d8,0,d8.length+d9):bf["String.Substring2"](d8,0,d9);};bf.delayed=function(d8,d9){var d_;d_=[null];return function(d$){var ea,eb;ea=d_[0];ea==null?void 0:ea.$0.Cancel$1();d_[0]={$:1,$0:new dc.New()};cu.Start((eb=null,cu.Delay(function(){return cu.Bind(cu.Sleep(d8),function(){d9(d$);return cu.Zero();});})),{$:1,$0:d_[0].$0});};};bD.toYYYYMMDD=function(d8,d9){return((((((d0.Curried(function(d_,d$,ea,eb,ec,ed){return d_(a.String(d$)+bC.toSafe(ea)+bC.padNumLeft(a.String(eb),2)+bC.toSafe(ec)+bC.padNumLeft(a.String(ed),2));},6))(a.id))((new d4(d9)).getFullYear()))(d8))((new d4(d9)).getMonth()+1))(d8))((new d4(d9)).getDate());};bE.New=function(d8,d9,d_,d$,ea){return{titular:d8,banco:d9,tipo:d_,numero:d$,routing:ea};};bF=k.RoutingNumber=d0.Class({get_Id:function(){return this.$0;}},null,bF);bG=k.NumeroCuenta=d0.Class({get_Id:function(){return this.$0;}},null,bG);bH.New=function(d8,d9,d_){return{nombre:d8,authorizeIdR:d9,cuentaPago:d_};};k.ctaVacio=function(){bT.$cctor();return bT.ctaVacio;};k.premisasCalculo=function(){bT.$cctor();return bT.premisasCalculo;};k.correoVacio=function(){bT.$cctor();return bT.correoVacio;};k.modeloVacio=function(){bT.$cctor();return bT.modeloVacio;};k.telVacio=function(){bT.$cctor();return bT.telVacio;};k.dirVacio=function(){bT.$cctor();return bT.dirVacio;};k.tarVacio=function(){bT.$cctor();return bT.tarVacio;};bI.defaultValue=function(d8,d9){return cw.defaultValue(d8,bI.toResult(d9));};bI.iter=function(d8,d9,d_){var d$;d$=bI.mapP(d9,d_);d$.$0==null?d8(d$.$1):void 0;};bI.ofResult=function(d8){return bI.rtnr(d8);};bI.toResult=function(d8){return d8.$0==null?bf.Error(d8.$1):{$:0,$0:d8.$0.$0};};bI.addMsg=function(d8,d9){return bI.mapMessage(function(d_){return by.addMsg(d8,d_);},d9);};bI.mapP=function(d8,d9){return bI.bindP(function(d_){return bI.rtn(d8(d_));},d9);};bI.rtnr=function(d8){return cw.defaultWith(br.ErrorM,cq.Map(br.OkM$1,d8));};bI.mapMessage=function(d8,d9){return{$:0,$0:d9.$0,$1:d8(d9.$1)};};bI.bindP=function(d8,d9){var d_;if(d9.$0==null)return{$:0,$0:null,$1:d9.$1};else{d_=d9.$1;try{return bI.mapMessage(function(d$){return by.addMsg(d_,d$);},d8(d9.$0.$0));}catch(d$){return br.ErrorM(new by({$:5,$0:d$.message,$1:d$.stack}));}}};bI.rtn=function(d8){return br.OkM$1(d8);};bI.rtnM=function(d8){return br.OkMWithMsg(null,d8);};bI.bind=function(d8,d9){var d_;return d9.$0==null?{$:0,$0:null,$1:d9.$1}:(d_=d9.$1,bI.mapMessage(function(d$){return by.addMsg(d_,d$);},d8(d9.$0.$0)));};bJ.New=function(d8,d9,d_){return{actName:d8,actFunction:d9,actEnabled:d_};};bL.New=function(d8,d9){return{lytName:d8,lytDefinition:d9};};bM.$cctor=function(){var d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB;bM.$cctor=a.ignore;function eC(e9){return bl.concat("\n",e9);}function eD(e9){return bW.splitByChar("\n",e9);}function eE(e9){var e_,e$;return bX.array(e9,{$:1,$0:0},{$:1,$0:(e_=0,(e$=K.length(e9)-2,G.Compare(e_,e$)===1?e_:e$))});}function eF(e9){return bl.concat("\n",e9);}function eG(e9){return e9+"T00:00:00";}function eH(e9){var e_;function e$(fb){return q.plugIns().TryFindByKey(fb);}function fa(fb){var fc;fc=q.defaultPlugIn();return fb==null?fc:fb.$0;}e_=function(fb){return fb==null?null:e$(fb.$0);};return function(fb){return fa(e_(fb));};}function eI(e9){var e_;e_=null;return ea.TryGetValue(e9,{get:function(){return e_;},set:function(e$){e_=e$;}})?{$:1,$0:e_}:null;}function eJ(e9,e_){ea.set_Item(e9,e_);return e_;}function eK(e9,e_){var e$;e$=eI(e9);return e$==null?eJ(e9,e_(e9)):e$.$0;}function eL(e9){var e_;e_=null;return ed.TryGetValue(e9,{get:function(){return e_;},set:function(e$){e_=e$;}})?{$:1,$0:e_}:null;}function eM(e9,e_){ed.set_Item(e9,e_);return e_;}function eN(e9,e_){var e$;e$=eL(e9);return e$==null?eM(e9,e_(e9)):e$.$0;}function eO(e9){var e_;e_=null;return eg.TryGetValue(e9,{get:function(){return e_;},set:function(e$){e_=e$;}})?{$:1,$0:e_}:null;}function eP(e9,e_){eg.set_Item(e9,e_);return e_;}function eQ(e9,e_){var e$;e$=eO(e9);return e$==null?eP(e9,e_(e9)):e$.$0;}function eR(e9){var e_;e_=null;return ej.TryGetValue(e9,{get:function(){return e_;},set:function(e$){e_=e$;}})?{$:1,$0:e_}:null;}function eS(e9,e_){ej.set_Item(e9,e_);return e_;}function eT(e9,e_){var e$;e$=eR(e9);return e$==null?eS(e9,e_(e9)):e$.$0;}function eU(e9){var e_;e_=null;return em.TryGetValue(e9,{get:function(){return e_;},set:function(e$){e_=e$;}})?{$:1,$0:e_}:null;}function eV(e9,e_){em.set_Item(e9,e_);return e_;}function eW(e9,e_){var e$;e$=eU(e9);return e$==null?eV(e9,e_(e9)):e$.$0;}function eX(e9){var e_;e_=null;return ep.TryGetValue(e9,{get:function(){return e_;},set:function(e$){e_=e$;}})?{$:1,$0:e_}:null;}function eY(e9,e_){ep.set_Item(e9,e_);return e_;}function eZ(e9,e_){var e$;e$=eX(e9);return e$==null?eY(e9,e_(e9)):e$.$0;}function e0(e9){var e_;e_=null;return es.TryGetValue(e9,{get:function(){return e_;},set:function(e$){e_=e$;}})?{$:1,$0:e_}:null;}function e1(e9,e_){es.set_Item(e9,e_);return e_;}function e2(e9,e_){var e$;e$=e0(e9);return e$==null?e1(e9,e_(e9)):e$.$0;}function e3(e9){var e_;e_=null;return ev.TryGetValue(e9,{get:function(){return e_;},set:function(e$){e_=e$;}})?{$:1,$0:e_}:null;}function e4(e9,e_){ev.set_Item(e9,e_);return e_;}function e5(e9,e_){var e$;e$=e3(e9);return e$==null?e4(e9,e_(e9)):e$.$0;}function e6(e9){var e_;e_=null;return ey.TryGetValue(e9,{get:function(){return e_;},set:function(e$){e_=e$;}})?{$:1,$0:e_}:null;}function e7(e9,e_){ey.set_Item(e9,e_);return e_;}function e8(e9,e_){var e$;e$=e6(e9);return e$==null?e7(e9,e_(e9)):e$.$0;}bM.unindentStr=function(e9){return eC(bW.unindent(e9));};bM.skipLastLine=(d8=function(e9){return eE(eD(e9));},function(e9){return eF(d8(e9));});bM.parseDateO2=(d9=cd.tryParseWith(function(e9){var e_,e$;e_=0;return[(e$=c5.TryParse(e9),e$!=null&&e$.$==1&&(e_=e$.$0,true)),e_];}),function(e9){return d9(eG(e9));});bM.parseDateO=cd.tryParseWith(function(e9){var e_,e$;e_=0;return[(e$=c5.TryParse(e9),e$!=null&&e$.$==1&&(e_=e$.$0,true)),e_];});bM.parseIntO=cd.tryParseWith(function(e9){var e_;e_=0;return[_5.TryParseInt32(e9,{get:function(){return e_;},set:function(e$){e_=e$;}}),e_];});bM.parseInt64O=cd.tryParseWith(function(e9){var e_;e_=0;return[_5.TryParseInt64(e9,{get:function(){return e_;},set:function(e$){e_=e$;}}),e_];});bM.parseSingleO=cd.tryParseWith(function(e9){var e_,e$;e_=0;return[(e$=a.Number(e9),a.isNaN(e$)?false:(e_=e$,true)),e_];});bM.parseDoubleO=cd.tryParseWith(function(e9){var e_,e$;e_=0;return[(e$=a.Number(e9),a.isNaN(e$)?false:(e_=e$,true)),e_];});bM.parseGuidO=cd.tryParseWith(function(e9){var e_;e_=null;return[bx.TryParse(e9,{get:function(){return e_;},set:function(e$){e_=e$;}}),e_];});bM["|Date|_|"]=cd.parseDateO();bM["|Int|_|"]=cd.parseIntO();bM["|Int64|_|"]=cd.parseInt64O();bM["|Single|_|"]=cd.parseSingleO();bM["|Double|_|"]=cd.parseDoubleO();bM["|Guid|_|"]=cd.parseGuidO();bM.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";bM.observers=cc.Empty;bM.css="\r\n                .tab-panel {\r\n                 overflow  : hidden   ;\r\n                 display   : flex     ;\r\n                 flex-flow : column   ;\r\n                 background: lightgray;\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                }\r\n                .tab-content {\r\n                 flex      : 1 1     ;\r\n                 overflow  : auto    ;\r\n                 position  : relative;\r\n                }\r\n                .tab-children {\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                 position  : absolute;\r\n                 display   : grid    ;\r\n                }\r\n                .tab-strip {\r\n                 padding   : 0pt     ;\r\n                 flex      : 0 0     ;\r\n                }\r\n                .tab {\r\n                 border     : 0.2pt solid transparent;\r\n                 padding    : 0pt 4pt;\r\n                 display    : inline-block;\r\n                 font-family: sans-serif;\r\n                 font-weight: 200;\r\n                 font-size  : small;\r\n                 color      : #666;\r\n                 cursor     : pointer;\r\n                }\r\n                .top>.tab {\r\n                 border-radius: 2pt 2pt 0pt 0pt;\r\n                 border-bottom-width: 0pt;\r\n                 vertical-align: bottom;\r\n                }\r\n                .bottom>.tab {\r\n                 border-top-width: 0pt;\r\n                 border-radius: 0pt 0pt 2pt 2pt;\r\n                 vertical-align: top;\r\n                }\r\n                .horizontal>.tab:not(:first-child) {\r\n                 border-left-width: 0pt;\r\n                }\r\n                .tab.hovering {\r\n                 background: red;\r\n                }\r\n                .tab.selected {\r\n                 background: white;\r\n                 border-left-width: 0.2pt;\r\n                 color: black;\r\n                 font-weight: 500;\r\n                 border-color: black;\r\n                }\r\n                .horizontal>.tab.selected {\r\n                 border-left-width: 0.2pt;\r\n                }\r\n                ::slotted(*              ) { \r\n                 width : 100%;\r\n                 height: 100%;\r\n                }\r\n                        ";bM.init=s.Create(function(){var e9;e9=new cA.New();cy.defineWebComponent("wcomp-tabstrip",cA.Constructor,self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New);});bM.layoutHorizontal=d0.Curried(function(e9,e_,e$,fa,fb){return W.get_Empty();},5);bM.layoutVertical=d0.Curried(function(e9,e_,e$,fa,fb){return W.get_Empty();},5);bM.plugIns=new _6.New$1(function(e9){return e9.plgName;});bM.mainDocV=h.Create$1("AppFramework.AppFwkClient");bM.TemplateFileName="..\\website\\AppFramework.html";bM.defaultPlugIn=r.New("",[],[],[],[],[]);bM.selectionPlugInO=h.Create$1({$:1,$0:"AppFramework"});bM.currentPlugInW=(d_=q.selectionPlugInO().get_View(),i.Map2(function(e9,e_){return(eH(e9))(e_);},q.plugIns().v,d_));bM.currentPlugInV=new cs.New(q.currentPlugInW(),function(e9){q.plugIns().Append(e9);});bM.AppFwkClient=s.Create(function(){var e9,e_,e$,fa,fb,fc,fd,fe,ff;return(e9=(e_=q.renderQueries(),(e$=q.renderActions(),(fa=q.renderDocs(),(fb=q.renderViews(),(fc=q.renderVars(),(fd=q.renderPlugIns(),O.Make().WithHole({$:0,$0:"plugins",$1:fd})).WithHole({$:2,$0:"pluginname",$1:i.Map(function(fg){return fg.plgName;},q.currentPlugInW())}).WithHole({$:0,$0:"vars",$1:fc})).WithHole({$:0,$0:"views",$1:fb})).WithHole({$:0,$0:"docs",$1:fa})).WithHole({$:0,$0:"actions",$1:e$})).WithHole({$:0,$0:"queries",$1:e_})),(fe=Q.CompleteHoles(e9.k,e9.h,[]),(ff=new R.New(fe[1],cB.appfwkclient(fe[0])),(e9.i=ff,ff)))).get_Doc();});bM.actHello=q.newAct("Hello",function(){self.alert("Hello!");});bM.qryDocs=q.newQry("getDocNames",function(){return K.ofSeq(be.collect(function(e9){return be.map(function(e_){return e9.plgName+"."+e_.docName;},e9.plgDocs);},(q.plugIns())["var"].Get()));});q.plugIns().Append(r.New("AppFramework",[q.newVar("mainDocV",q.mainDocV())],[],[q.newDoc("AppFwkClient",q.AppFwkClient())],[q.actHello()],[q.qryDocs()]));bM.getMainDoc=s.Create(function(){cE.init(d0.Curried(q.horizontal,5),d0.Curried(q.vertical,5));cz.init().f();return q.mainDoc();});bM.splitName=q.splitName;bM.createSplitterM=(d$=(ea=new bO.New$5(),[[eI,function(e9){return function(e_){return eK(e9,e_);};}],function(){ea.Clear();}]),(eb=d$[0][1],[function(e9){return(eb(e9))(function(e_){return H.createSplitter(e_[0],e_[1],e_[2],e_[3],e_[4]);});},d$[1]]))[0];bM.createButtonM=(ec=(ed=new bO.New$5(),[[eL,function(e9){return function(e_){return eN(e9,e_);};}],function(){ed.Clear();}]),(ee=ec[0][1],[function(e9){return(ee(e9))(function(e_){return H.createButton(e_[0],e_[1],e_[2],e_[3],e_[4]);});},ec[1]]))[0];bM.createInputM=(ef=(eg=new bO.New$5(),[[eO,function(e9){return function(e_){return eQ(e9,e_);};}],function(){eg.Clear();}]),(eh=ef[0][1],[function(e9){return(eh(e9))(function(e_){return H.createInput(e_[0],e_[1],e_[2],e_[3]);});},ef[1]]))[0];bM.createTextAreaM=(ei=(ej=new bO.New$5(),[[eR,function(e9){return function(e_){return eT(e9,e_);};}],function(){ej.Clear();}]),(ek=ei[0][1],[function(e9){return(ek(e9))(function(e_){return H.createTextArea(e_[0],e_[1],e_[2],e_[3]);});},ei[1]]))[0];bM.createElementM=(el=(em=new bO.New$5(),[[eU,function(e9){return function(e_){return eW(e9,e_);};}],function(){em.Clear();}]),(en=el[0][1],[function(e9){return(en(e9))(function(e_){return H.createElement(e_[0],e_[1],e_[2],e_[3],e_[4]);});},el[1]]))[0];bM.createDocM=(eo=(ep=new bO.New$5(),[[eX,function(e9){return function(e_){return eZ(e9,e_);};}],function(){ep.Clear();}]),(eq=eo[0][1],[function(e9){return(eq(e9))(function(e_){return H.createDoc(e_[0],e_[1],e_[2],e_[3]);});},eo[1]]))[0];bM.createTemplateM=(er=(es=new bO.New$5(),[[e0,function(e9){return function(e_){return e2(e9,e_);};}],function(){es.Clear();}]),(et=er[0][1],[function(e9){return(et(e9))(function(e_){return H.createTemplate(e_[0],e_[1],e_[2],e_[3],e_[4]);});},er[1]]))[0];bM.createConcatM=(eu=(ev=new bO.New$5(),[[e3,function(e9){return function(e_){return e5(e9,e_);};}],function(){ev.Clear();}]),(ew=eu[0][1],[function(e9){return(ew(e9))(function(e_){return H.createConcat(e_[0],e_[1],e_[2]);});},eu[1]]))[0];bM.createVarM=(ex=(ey=new bO.New$5(),[[e6,function(e9){return function(e_){return e8(e9,e_);};}],function(){ey.Clear();}]),(ez=ex[0][1],[function(e9){return(ez(e9))(function(e_){return H.createVar(e_[0],e_[1],e_[2]);});},ex[1]]))[0];eA=q.tryGetPlugIn("AppFramework");eA==null?void 0:(eB=eA.$0,q.addPlugIn(r.New(eB.plgName,eB.plgVars,eB.plgViews,eB.plgDocs,eB.plgActions.concat([q.newActF("AddLayout",{$:2,$0:function(e9){return function(e_){return H.addNewLayout(e9,e_);};},$1:"[Name]",$2:"[Layout]"})]),eB.plgQueries)));};bN=bi.List=d0.Class({GetEnumerator:function(){return b$.Get(this);},GetEnumerator0:function(){return b$.Get0(this);}},null,bN);bO=bi.Dictionary=d0.Class({set_Item:function(d8,d9){this.set(d8,d9);},set:function(d8,d9){var d_,d$,ea,eb;d_=this;d$=this.hash(d8);ea=this.data[d$];ea==null?(this.count=this.count+1,this.data[d$]=new a.Array({K:d8,V:d9})):(eb=K.tryFindIndex(function(ec){return d_.equals.apply(null,[(B.KeyValue(ec))[0],d8]);},ea),eb==null?(this.count=this.count+1,ea.push({K:d8,V:d9})):ea[eb.$0]={K:d8,V:d9});},get_Item:function(d8){return this.get(d8);},TryGetValue:function(d8,d9){var d_,d$,ea;d_=this;d$=this.data[this.hash(d8)];return d$==null?false:(ea=K.tryPick(function(eb){var ec;ec=B.KeyValue(eb);return d_.equals.apply(null,[ec[0],d8])?{$:1,$0:ec[1]}:null;},d$),ea!=null&&ea.$==1&&(d9.set(ea.$0),true));},Remove:function(d8){return this.remove(d8);},ContainsKey:function(d8){var d9,d_;d9=this;d_=this.data[this.hash(d8)];return d_==null?false:K.exists(function(d$){return d9.equals.apply(null,[(B.KeyValue(d$))[0],d8]);},d_);},Add:function(d8,d9){this.add(d8,d9);},get:function(d8){var d9,d_;d9=this;d_=this.data[this.hash(d8)];return d_==null?cH.notPresent():K.pick(function(d$){var ea;ea=B.KeyValue(d$);return d9.equals.apply(null,[ea[0],d8])?{$:1,$0:ea[1]}:null;},d_);},get_Keys:function(){return new dJ.New(this);},remove:function(d8){var d9,d_,d$,ea;d9=this;d_=this.hash(d8);d$=this.data[d_];return d$==null?false:(ea=K.filter(function(eb){return!d9.equals.apply(null,[(B.KeyValue(eb))[0],d8]);},d$),K.length(ea)<d$.length&&(this.count=this.count-1,this.data[d_]=ea,true));},add:function(d8,d9){var d_,d$,ea;d_=this;d$=this.hash(d8);ea=this.data[d$];ea==null?(this.count=this.count+1,this.data[d$]=new a.Array({K:d8,V:d9})):(K.exists(function(eb){return d_.equals.apply(null,[(B.KeyValue(eb))[0],d8]);},ea)?cH.alreadyAdded():void 0,this.count=this.count+1,ea.push({K:d8,V:d9}));},Clear:function(){this.data=[];this.count=0;},GetEnumerator:function(){return b$.Get0(this);},GetEnumerator0:function(){return b$.Get0(K.concat(F.GetFieldValues(this.data)));}},f,bO);bO.New$5=d0.Ctor(function(){bO.New$6.call(this,[],G.Equals,G.Hash);},bO);bO.New$6=d0.Ctor(function(d8,d9,d_){var d$,ea;f.New.call(this);this.equals=d9;this.hash=d_;this.count=0;this.data=[];d$=b$.Get(d8);try{while(d$.MoveNext()){ea=d$.Current();this.set(ea.K,ea.V);}}finally{if(typeof d$=="object"&&"Dispose"in d$)d$.Dispose();}},bO);bP=bi.HashSet=d0.Class({Add:function(d8){return this.add(d8);},Contains:function(d8){var d9;d9=this.data[this.hash(d8)];return d9==null?false:this.arrContains(d8,d9);},add:function(d8){var d9,d_;d9=this.hash(d8);d_=this.data[d9];return d_==null?(this.data[d9]=[d8],this.count=this.count+1,true):this.arrContains(d8,d_)?false:(d_.push(d8),this.count=this.count+1,true);},arrContains:function(d8,d9){var d_,d$,ea,eb;d_=true;d$=0;eb=d9.length;while(d_&&d$<eb)if(this.equals.apply(null,[d9[d$],d8]))d_=false;else d$=d$+1;return!d_;},ExceptWith:function(d8){var d9;d9=b$.Get(d8);try{while(d9.MoveNext())this.Remove(d9.Current());}finally{if(typeof d9=="object"&&"Dispose"in d9)d9.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(d8){var d9,d_,d$,ea;d9=0;d_=du.concat(this.data);for(d$=0,ea=d_.length-1;d$<=ea;d$++)K.set(d8,d$,d_[d$]);},IntersectWith:function(d8){var d9,d_,d$,ea,eb;d9=new bP.New$4(d8,this.equals,this.hash);d_=du.concat(this.data);for(d$=0,ea=d_.length-1;d$<=ea;d$++){eb=d_[d$];!d9.Contains(eb)?this.Remove(eb):void 0;}},Remove:function(d8){var d9;d9=this.data[this.hash(d8)];return d9==null?false:this.arrRemove(d8,d9)&&(this.count=this.count-1,true);},arrRemove:function(d8,d9){var d_,d$,ea,eb;d_=true;d$=0;eb=d9.length;while(d_&&d$<eb)if(this.equals.apply(null,[d9[d$],d8])){d9.splice.apply(d9,[d$,1]);d_=false;}else d$=d$+1;return!d_;},GetEnumerator:function(){return b$.Get(du.concat(this.data));},GetEnumerator0:function(){return b$.Get(du.concat(this.data));}},f,bP);bP.New$3=d0.Ctor(function(){bP.New$4.call(this,[],G.Equals,G.Hash);},bP);bP.New$4=d0.Ctor(function(d8,d9,d_){var d$;f.New.call(this);this.equals=d9;this.hash=d_;this.data=[];this.count=0;d$=b$.Get(d8);try{while(d$.MoveNext())this.add(d$.Current());}finally{if(typeof d$=="object"&&"Dispose"in d$)d$.Dispose();}},bP);bP.New$2=d0.Ctor(function(d8){bP.New$4.call(this,d8,G.Equals,G.Hash);},bP);bQ.Box=a.id;bS.StartTo=function(d8,d9){cu.StartWithContinuations(d8,d9,function(d_){bS.OnError(d_);},a.ignore,null);};bS.OnError=function(d8){return d2.log("WebSharper UI: Uncaught asynchronous exception",d8);};bT.$cctor=function(){var d8,d9,d_,d$,ea;bT.$cctor=a.ignore;function eb(eg){return bl.concat("\n",eg);}function ec(eg){return bW.splitByChar("\n",eg);}function ed(eg){var eh,ei;return bX.array(eg,{$:1,$0:0},{$:1,$0:(eh=0,(ei=K.length(eg)-2,G.Compare(eh,ei)===1?eh:ei))});}function ee(eg){return bl.concat("\n",eg);}function ef(eg){return eg+"T00:00:00";}bT.rtn=function(eg){return[eg];};bT.result=new cK.New();bT.result$1=cw.result();bT.resultM=new cL.New();bT.asyncResultM=new bu.New();bT.unindentStr=function(eg){return eb(bW.unindent(eg));};bT.skipLastLine=(d8=function(eg){return ed(ec(eg));},function(eg){return ee(d8(eg));});bT.parseDateO2=(d9=cd.tryParseWith(function(eg){var eh,ei;eh=0;return[(ei=c5.TryParse(eg),ei!=null&&ei.$==1&&(eh=ei.$0,true)),eh];}),function(eg){return d9(ef(eg));});bT.parseDateO=cd.tryParseWith(function(eg){var eh,ei;eh=0;return[(ei=c5.TryParse(eg),ei!=null&&ei.$==1&&(eh=ei.$0,true)),eh];});bT.parseIntO=cd.tryParseWith(function(eg){var eh;eh=0;return[_5.TryParseInt32(eg,{get:function(){return eh;},set:function(ei){eh=ei;}}),eh];});bT.parseInt64O=cd.tryParseWith(function(eg){var eh;eh=0;return[_5.TryParseInt64(eg,{get:function(){return eh;},set:function(ei){eh=ei;}}),eh];});bT.parseSingleO=cd.tryParseWith(function(eg){var eh,ei;eh=0;return[(ei=a.Number(eg),a.isNaN(ei)?false:(eh=ei,true)),eh];});bT.parseDoubleO=cd.tryParseWith(function(eg){var eh,ei;eh=0;return[(ei=a.Number(eg),a.isNaN(ei)?false:(eh=ei,true)),eh];});bT.parseGuidO=cd.tryParseWith(function(eg){var eh;eh=null;return[bx.TryParse(eg,{get:function(){return eh;},set:function(ei){eh=ei;}}),eh];});bT["|Date|_|"]=cd.parseDateO();bT["|Int|_|"]=cd.parseIntO();bT["|Int64|_|"]=cd.parseInt64O();bT["|Single|_|"]=cd.parseSingleO();bT["|Double|_|"]=cd.parseDoubleO();bT["|Guid|_|"]=cd.parseGuidO();bT.serString=[cM.toJsonString,function(eg){return eg.tryString();}];bT.serFloat=[function(eg){return(function(eh){return function(ei){return eh(bC.prettyPrint(ei));};}(a.id))(eg);},function(eg){return eg.tryFloat();}];bT.serInt=[function(eg){return(function(eh){return function(ei){return eh(bC.prettyPrint(ei));};}(a.id))(eg);},function(eg){var eh;eh=eg.tryInt();return eh==null?null:{$:1,$0:B.toInt(eh.$0)};}];bT.serInt64=[function(eg){return function(eh){return eg(a.String(eh));};}(a.id),function(eg){return eg.tryInt();}];bT.serBool=[function(eg){return(function(eh){return function(ei){return eh(bC.prettyPrint(ei));};}(a.id))(eg);},function(eg){return eg.tryBool();}];bT.premisasCalculo=bU.New(15,25,25,0,75,31,26,28);bT.telVacio=b8.New(ce.Movil,"","","","",false);bT.dirVacio=b7.New(bf.Error(""),cf.Habitacion,"","","",new cg({$:2,$0:""}),new b5({$:3,$0:""}),new ch({$:0,$0:""}));bT.tarVacio=cn.New("",cO.Visa,new cm({$:0,$0:""}),cN.New(2000,1));bT.ctaVacio=bE.New("","",ct.Ahorro,new bG({$:0,$0:""}),new bF({$:0,$0:""}));bT.modeloVacio=X.New(new l({$:0,$0:""}),[],(d_=d4.now(),(new d4(d_)).getFullYear()),(d$=d4.now(),(new d4(d$)).getMonth()+1),k.premisasCalculo(),0);bT.correoVacio=bm.New("",null,null);bT.empty=(ea=_1.New(null,"","","","",b5.USA,b6.Masculino,(new d4(2000,1-1,1)).getTime()),m.New(new l({$:0,$0:""}),null,ea,[],[],false,_2.Inactivo,_3.Dia01,_4.Regular,(new d4(2000,1-1,1)).getTime(),(new d4(2000,1-1,1)).getTime(),0,0,0,0,0,0));bT.registroRpcs=new bO.New$5();};bU.New=function(d8,d9,d_,d$,ea,eb,ec,ed){return{comisionReferidosRegular:d8,comisionReferidosMaster:d9,comisionDescendientesMaster:d_,comisionDescendientesRegular:d$,montoAfiliacion:ea,numeroReferidosMaster:eb,diaCorte1:ec,diaCorte2:ed};};_5.TryParseInt64=function(d8,d9){return _5.TryParse(d8,-9223372036854775808,9223372036854775807,d9);};bV.Int=function(){bV.set_counter(bV.counter()+1);return bV.counter();};bV.set_counter=function(d8){c9.$cctor();c9.counter=d8;};bV.counter=function(){c9.$cctor();return c9.counter;};bV.Id=function(){bV.set_counter(bV.counter()+1);return"uid"+a.String(bV.counter());};bW.unindent$1=function(d8){var d9,d_,d$,ea;d9=bl.SplitChars(d8,["\n"],0);d_=(d$=be.tryFindIndex(function(eb){return" "!==eb;},(ea=be.tryFind(function(eb){return bl.Trim(eb)!=="";},d9),ea==null?"":ea.$0)),d$==null?0:d$.$0);return be.filter(function(eb){return!bl.StartsWith(eb,"# 1 ");},be.map(function(eb){return eb.length<=d_?"":eb.substring(d_);},d9));};bW.splitByChar$1=function(d8,d9){return bl.SplitChars(d9,[d8],0);};bX.array=function(d8,d9,d_){return d9==null?d_!=null&&d_.$==1?d8.slice(0,d_.$0+1):[]:d_==null?d8.slice(d9.$0):d8.slice(d9.$0,d_.$0+1);};bX.string=function(d8,d9,d_){return d9==null?d_!=null&&d_.$==1?d8.slice(0,d_.$0+1):"":d_==null?d8.slice(d9.$0):d8.slice(d9.$0,d_.$0+1);};bY.ofArray=function(d8){var d9,d_,d$;d9=cc.Empty;for(d_=K.length(d8)-1,d$=0;d_>=d$;d_--)d9=new cc({$:1,$0:K.get(d8,d_),$1:d9});return d9;};bY.ofSeq=function(d8){var d9,d_,d$,ea,eb,ec;if(d8 instanceof cc)return d8;else if(d8 instanceof a.Array)return bY.ofArray(d8);else{d9=b$.Get(d8);try{d$=d9.MoveNext();if(!d$)d_=cc.Empty;else{eb=new cc({$:1});ea=eb;while(d$){ea.$0=d9.Current();d9.MoveNext()?ea=(ec=new cc({$:1}),ea.$1=ec,ec):d$=false;}ea.$1=cc.Empty;d_=eb;}return d_;}finally{if(typeof d9=="object"&&"Dispose"in d9)d9.Dispose();}}};bY.rev=function(d8){var d9,d_;d9=cc.Empty;d_=d8;while(d_.$==1){d9=new cc({$:1,$0:d_.$0,$1:d9});d_=d_.$1;}return d9;};bY.head=function(d8){return d8.$==1?d8.$0:bY.listEmpty();};bY.tail=function(d8){return d8.$==1?d8.$1:bY.listEmpty();};bY.listEmpty=function(){return B.FailWith("The input list was empty.");};bY.iter=function(d8,d9){var d_;d_=d9;while(d_.$==1){d8(bY.head(d_));d_=bY.tail(d_);}};b0=bZ.Policy=d0.Class({toString:function(){return bl.ReplaceChar(bf["String.get_toUnderscore$1"]((function(d8){return function(d9){return d8(U.p(d9));};}(a.id))(this)),"_"," ");}},null,b0);b0.SignIn=new b0({$:0});b0.SignUp=new b0({$:1});b0.EditProfile=new b0({$:2});b0.ResetPassword=new b0({$:3});b1.Options=function(d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh){return cP.newPojoOpt([bZ.op_EqualsEqualsGreater("cacheLocation",d8),bZ.op_EqualsEqualsGreater("isAngular",d9),bZ.op_EqualsEqualsGreater("loadFrameTimeout",d_),bZ.op_EqualsEqualsGreater("logger",d$),bZ.op_EqualsEqualsGreater("navigateToLoginRequestUrl",ea),bZ.op_EqualsEqualsGreater("postLogoutRedirectUri",eb),bZ.op_EqualsEqualsGreater("protectedResourceMap",ec),bZ.op_EqualsEqualsGreater("redirectUri",ed),bZ.op_EqualsEqualsGreater("state",ee),bZ.op_EqualsEqualsGreater("storeAuthStateInCookie",ef),bZ.op_EqualsEqualsGreater("unprotectedResources",eg),bZ.op_EqualsEqualsGreater("validateAuthority",eh)]);};p.REGEX$1=function(d8,d9,d_){var d$;return d_===null?null:(d$=(new a.String(d_)).match(new a.RegExp(d8,d9)),G.Equals(d$,null)?null:!G.Equals(d$,null)&&d$.length===0?null:{$:1,$0:d$});};p.rexEmail=function(){_0.$cctor();return _0.rexEmail;};b2.DefaultEP={$:0};b3.InstallHash=function(d8,d9){var d_;d_=h.Create$1(b3.getCurrentHash(function(d$){return cS.Parse(d9,cT.FromHash(d$,{$:1,$0:true}));},d8));b3.InstallHashInto(d_,d8,d9);return d_;};b3.InstallHashInto=function(d8,d9,d_){function d$(ec){return cS.Parse(d_,cT.FromHash(ec,{$:1,$0:true}));}function ea(){return b3.getCurrentHash(d$,d9);}function eb(ec){if(!G.Equals(d8.Get(),ec))d8.Set(ec);}self.addEventListener("popstate",function(){return eb(ea());},false);self.addEventListener("hashchange",function(){return eb(ea());},false);self.document.body.addEventListener("click",function(ec){var ed,ee,ef;ed=(ee=b3.findLinkHref(ec.target),ee==null?null:(ef=ee.$0,bl.StartsWith(ef,"#")?d$(ef):null));return ed==null?null:(eb(ed.$0),ec.preventDefault());},false);i.Sink(function(ec){var ed;if(!G.Equals(ec,ea())){ed=cS.HashLink(d_,ec);self.history.pushState(null,null,ed);}},d8.get_View());};b3.getCurrentHash=function(d8,d9){var d_,d$;d_=self.location.hash;d$=d8(d_);return d$==null?((function(ea){return function(eb){return ea("Failed to parse route: "+bC.toSafe(eb));};}(function(ea){d2.log(ea);}))(d_),d9):d$.$0;};b3.findLinkHref=function(d8){while(true)if(d8.tagName==="A")return I.ofObj(d8.getAttribute("href"));else if(d8===self.document.body)return null;else d8=d8.parentNode;};b4.B={$:0};Z.Obsolete=function(d8){var d9,d_,d$,ea,eb;d_=d8.s;if(d_==null||(d_!=null&&d_.$==2?(d9=d_.$1,false):d_!=null&&d_.$==3?(d9=d_.$1,false):true))void 0;else{d8.s=null;for(d$=0,ea=K.length(d9)-1;d$<=ea;d$++){eb=K.get(d9,d$);typeof eb=="object"?function(ec){Z.Obsolete(ec);}(eb):eb();}}};Z.New=function(d8){return{s:d8};};b5=k.Pais=d0.Class({toString:function(){return this.$==3?this.$0:(function(d8){return function(d9){return d8(bb.p$2(d9));};}(a.id))(this);}},null,b5);b5.tryParse=function(d8){var d9,d_;d_=bl.Trim(d8).toUpperCase();switch(d_){case"":return null;case"USA":case"AMERICA":case"E.E.U.U.":case"US":case"UNITED STATES OF AMERICA":case"UNITED STATES":case"EEUU":return{$:1,$0:b5.USA};case"VENEZUELA":return{$:1,$0:b5.Venezuela};case"ARGENTINA":return{$:1,$0:b5.Argentina};default:return{$:1,$0:new b5({$:3,$0:bl.Trim(d8)})};}};b5.USA=new b5({$:0});b5.Venezuela=new b5({$:1});b5.Argentina=new b5({$:2});b6.tryParse=function(d8){var d9;d9=bl.Trim(d8);return d9==="Masculino"?{$:1,$0:b6.Masculino}:d9==="Femenino"?{$:1,$0:b6.Femenino}:d9==="Empresa"?{$:1,$0:b6.Empresa}:null;};b6.Masculino={$:0};b6.Femenino={$:1};b6.Empresa={$:2};b7.New=function(d8,d9,d_,d$,ea,eb,ec,ed){return{authorizeIdR:d8,tipoDireccion:d9,linea1:d_,linea2:d$,ciudad:ea,estado:eb,pais:ec,zonaPostal:ed};};b8.New=function(d8,d9,d_,d$,ea,eb){return{tipoTelefono:d8,codigoPais:d9,codigoArea:d_,numero:d$,extension:ea,mensajes:eb};};b9.New=function(d8,d9){return{qryName:d8,qryFunction:d9};};b_=bi.FSharpMap=d0.Class({TryGetValue:function(d8,d9){var d_;d_=this.TryFind(d8);return d_!=null&&d_.$==1&&(d9.set(d_.$0),true);},get_Item:function(d8){var d9;d9=this.TryFind(d8);return d9==null?B.FailWith("The given key was not present in the dictionary."):d9.$0;},TryFind:function(d8){var d9;d9=cb.TryFind(da.New(d8,void 0),this.tree);return d9==null?null:{$:1,$0:d9.$0.Value};},Equals:function(d8){return this.get_Count()===d8.get_Count()&&be.forall2(G.Equals,this,d8);},GetEnumerator$1:function(){return b$.Get(be.map(function(d8){return{K:d8.Key,V:d8.Value};},cb.Enumerate(false,this.tree)));},get_Count:function(){var d8;d8=this.tree;return d8==null?0:d8.Count;},GetHashCode:function(){return G.Hash(K.ofSeq(this));},Add:function(d8,d9){return new b_.New$1(cb.Add(da.New(d8,d9),this.tree));},get_IsEmpty:function(){return this.tree==null;},get_Tree:function(){return this.tree;},GetEnumerator:function(){return this.GetEnumerator$1();},CompareTo0:function(d8){return be.compareWith(G.Compare,this,d8);},GetEnumerator0:function(){return this.GetEnumerator$1();}},f,b_);b_.New=d0.Ctor(function(d8){b_.New$1.call(this,cV.fromSeq(d8));},b_);b_.New$1=d0.Ctor(function(d8){f.New.call(this);this.tree=d8;},b_);b$.Get=function(d8){return d8 instanceof a.Array?b$.ArrayEnumerator(d8):G.Equals(typeof d8,"string")?b$.StringEnumerator(d8):d8.GetEnumerator();};b$.ArrayEnumerator=function(d8){return new ca.New(0,null,function(d9){var d_;d_=d9.s;return d_<K.length(d8)&&(d9.c=K.get(d8,d_),d9.s=d_+1,true);},void 0);};b$.StringEnumerator=function(d8){return new ca.New(0,null,function(d9){var d_;d_=d9.s;return d_<d8.length&&(d9.c=d8[d_],d9.s=d_+1,true);},void 0);};b$.Get0=function(d8){return d8 instanceof a.Array?b$.ArrayEnumerator(d8):G.Equals(typeof d8,"string")?b$.StringEnumerator(d8):"GetEnumerator0"in d8?d8.GetEnumerator0():d8.GetEnumerator();};ca=b$.T=d0.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},f,ca);ca.New=d0.Ctor(function(d8,d9,d_,d$){f.New.call(this);this.s=d8;this.c=d9;this.n=d_;this.d=d$;},ca);cb.OfSeq=function(d8){var d9;d9=K.ofSeq(be.distinct(d8));K.sortInPlace(d9);return cb.Build(d9,0,d9.length-1);};cb.Contains=function(d8,d9){return!((cb.Lookup(d8,d9))[0]==null);};cb.Remove=function(d8,d9){var d_,d$,ea,eb;d_=cb.Lookup(d8,d9);d$=d_[0];ea=d_[1];return d$==null?d9:d$.Right==null?cb.Rebuild(ea,d$.Left):d$.Left==null?cb.Rebuild(ea,d$.Right):cb.Rebuild(ea,(eb=K.ofSeq(be.append(cb.Enumerate(false,d$.Left),cb.Enumerate(false,d$.Right))),cb.Build(eb,0,eb.length-1)));};cb.Add=function(d8,d9){return cb.Put(function(d_,d$){return d$;},d8,d9);};cb.TryFind=function(d8,d9){var d_;d_=(cb.Lookup(d8,d9))[0];return d_==null?null:{$:1,$0:d_.Node};};cb.Build=function(d8,d9,d_){var d$,ea,eb;return d_-d9+1<=0?null:(d$=(d9+d_)/2>>0,(ea=cb.Build(d8,d9,d$-1),(eb=cb.Build(d8,d$+1,d_),cb.Branch(K.get(d8,d$),ea,eb))));};cb.Lookup=function(d8,d9){var d_,d$,ea,eb;d_=[];d$=d9;ea=true;while(ea)if(d$==null)ea=false;else{eb=G.Compare(d8,d$.Node);eb===0?ea=false:eb===1?(d_.unshift([true,d$.Node,d$.Left]),d$=d$.Right):(d_.unshift([false,d$.Node,d$.Right]),d$=d$.Left);}return[d$,d_];};cb.Rebuild=function(d8,d9){var d_,ea,eb,ec,ed,ee,ef,eg,eh,ei;function d$(ej){return ej==null?0:ej.Height;}d_=d9;for(ea=0,eb=K.length(d8)-1;ea<=eb;ea++){d_=(ec=K.get(d8,ea),ec[0]?(ed=ec[1],(ee=ec[2],d$(d_)>d$(ee)+1?d$(d_.Left)===d$(d_.Right)+1?(ef=d_.Left,cb.Branch(ef.Node,cb.Branch(ed,ee,ef.Left),cb.Branch(d_.Node,ef.Right,d_.Right))):cb.Branch(d_.Node,cb.Branch(ed,ee,d_.Left),d_.Right):cb.Branch(ed,ee,d_))):(eg=ec[1],(eh=ec[2],d$(d_)>d$(eh)+1?d$(d_.Right)===d$(d_.Left)+1?(ei=d_.Right,cb.Branch(ei.Node,cb.Branch(d_.Node,d_.Left,ei.Left),cb.Branch(eg,ei.Right,eh))):cb.Branch(d_.Node,d_.Left,cb.Branch(eg,d_.Right,eh)):cb.Branch(eg,d_,eh))));}return d_;};cb.Put=function(d8,d9,d_){var d$,ea;d$=cb.Lookup(d9,d_);ea=d$[0];return ea==null?cb.Rebuild(d$[1],cb.Branch(d9,null,null)):cb.Rebuild(d$[1],cb.Branch(d8(ea.Node,d9),ea.Left,ea.Right));};cb.Branch=function(d8,d9,d_){var d$,ea;return cW.New(d8,d9,d_,1+(d$=d9==null?0:d9.Height,(ea=d_==null?0:d_.Height,G.Compare(d$,ea)===1?d$:ea)),1+(d9==null?0:d9.Count)+(d_==null?0:d_.Count));};cb.Enumerate=function(d8,d9){function d_(d$,ea){var eb;while(true)if(d$==null)return ea.$==1?{$:1,$0:[ea.$0[0],[ea.$0[1],ea.$1]]}:null;else if(d8){eb=d$;d$=eb.Right;ea=new cc({$:1,$0:[eb.Node,eb.Left],$1:ea});}else{eb=d$;d$=eb.Left;ea=new cc({$:1,$0:[eb.Node,eb.Right],$1:ea});}}return be.unfold(function(d$){return d_(d$[0],d$[1]);},[d9,cc.Empty]);};be.tryHead=function(d8){var d9;d9=b$.Get(d8);try{return d9.MoveNext()?{$:1,$0:d9.Current()}:null;}finally{if(typeof d9=="object"&&"Dispose"in d9)d9.Dispose();}};K.groupBy=function(d8,d9){var d_,d$,ea,eb,ec,ed;d_=new bO.New$5();d$=[];for(ea=0,eb=K.length(d9)-1;ea<=eb;ea++){ec=d9[ea];ed=d8(ec);d_.ContainsKey(ed)?d_.get_Item(ed).push(ec):(d$.push(ed),d_.Add(ed,[ec]));}K.mapInPlace(function(ee){return[ee,d_.get_Item(ee)];},d$);return d$;};be.tryItem=function(d8,d9){var d_,d$,ea;if(d8<0)return null;else{d_=0;d$=b$.Get(d9);try{ea=true;while(ea&&d_<=d8)if(d$.MoveNext())d_=d_+1;else ea=false;return ea?{$:1,$0:d$.Current()}:null;}finally{if(typeof d$=="object"&&"Dispose"in d$)d$.Dispose();}}};be.last=function(d8){var d9,d_;d9=b$.Get(d8);try{if(!d9.MoveNext())d_=be.insufficient();else{while(d9.MoveNext());d_=d9.Current();}return d_;}finally{if(typeof d9=="object"&&"Dispose"in d9)d9.Dispose();}};K.mapInPlace=function(d8,d9){var d_,d$;for(d_=0,d$=d9.length-1;d_<=d$;d_++)d9[d_]=d8(d9[d_]);};K.mapiInPlace=function(d8,d9){var d_,d$;for(d_=0,d$=d9.length-1;d_<=d$;d_++)d9[d_]=d8(d_,d9[d_]);return d9;};be.insufficient=function(){return B.FailWith("The input sequence has an insufficient number of elements.");};be.nonNegative=function(){return B.FailWith("The input must be non-negative.");};cc=bY.T=d0.Class({GetEnumerator:function(){return new ca.New(this,null,function(d8){var d9;d9=d8.s;return d9.$==0?false:(d8.c=d9.$0,d8.s=d9.$1,true);},void 0);},GetEnumerator0:function(){return b$.Get(this);}},null,cc);cc.Empty=new cc({$:0});i=g.View=d0.Class({get_V:function(){return B.FailWith("View<'T>.V can only be called in an argument to a V-enabled function or if 'T = Doc.");}},null,i);cd.parseDateO2=function(){bM.$cctor();return bM.parseDateO2;};cd.tryParseWith=function(d8){function d9(d_,d$){return d_?{$:1,$0:d$}:null;}return function(d_){return d9.apply(null,d8(d_));};};cd.parseDateO=function(){bM.$cctor();return bM.parseDateO;};cd.parseIntO=function(){bM.$cctor();return bM.parseIntO;};cd.parseInt64O=function(){bM.$cctor();return bM.parseInt64O;};cd.parseSingleO=function(){bM.$cctor();return bM.parseSingleO;};cd.parseDoubleO=function(){bM.$cctor();return bM.parseDoubleO;};cd.parseGuidO=function(){bM.$cctor();return bM.parseGuidO;};cd.Double=function(){bM.$cctor();return bM["|Double|_|"];};cd.Int=function(){bM.$cctor();return bM["|Int|_|"];};ce=k.TipoTelefono=d0.Class({toString:function(){return(function(d8){return function(d9){return d8(bb.p$8(d9));};}(a.id))(this);}},null,ce);ce.get_tryParse=function(){return function(d8){return d8==="Movil"?{$:1,$0:ce.Movil}:d8==="Oficina"?{$:1,$0:ce.Oficina}:d8==="Habitacion"?{$:1,$0:ce.Habitacion}:null;};};ce.Movil=new ce({$:0});ce.Oficina=new ce({$:1});ce.Habitacion=new ce({$:2});cf=k.TipoDireccion=d0.Class({toString:function(){return this.$==3?this.$0:(function(d8){return function(d9){return d8(bb.p$7(d9));};}(a.id))(this);}},null,cf);cf.tryParse=function(d8){var d9;d9=bl.Trim(d8);return d9===""?null:d9==="Habitacion"?{$:1,$0:cf.Habitacion}:d9==="Oficina"?{$:1,$0:cf.Oficina}:d9==="ServicioPostal"?{$:1,$0:cf.ServicioPostal}:{$:1,$0:new cf({$:3,$0:d9})};};cf.Habitacion=new cf({$:0});cf.Oficina=new cf({$:1});cf.ServicioPostal=new cf({$:2});cg=k.Estado=d0.Class({toString:function(){return this.$==2?this.$0:(function(d8){return function(d9){return d8(bb.p$3(d9));};}(a.id))(this);}},null,cg);cg.tryParse=function(d8){var d9,d_;d_=bl.Trim(d8).toUpperCase();switch(d_){case"":return null;case"TEXAS":case"TX":return{$:1,$0:cg.Texas};case"FLORIDA":case"FL":return{$:1,$0:cg.Florida};default:return{$:1,$0:new cg({$:2,$0:bl.Trim(d8)})};}};cg.Texas=new cg({$:0});cg.Florida=new cg({$:1});ch=k.ZonaPostal=d0.Class({toString:function(){return this.$0;}},null,ch);ch.tryParse=function(d8){return bl.Trim(d8)!==""?{$:1,$0:new ch({$:0,$0:bl.Trim(d8)})}:null;};ci.invoke=function(d8,d9,d_){var d$;d$=bs.asyncResultM();return d$.Run(d$.Delay(function(){return bs["AsyncResultMBuilder.Bind"](d$,cu.Return(null),function(){var ea,eb,ec;ea=new a.Headers();ea.append("Content-Type","application/json");ea.append("IdAliado",d9);eb=(ec={},ec.mode="cors",ec.credentials="include",ec.method="POST",ec.headers=ea,ec.body=!d_?"null":d_,ec);return bs["AsyncResultMBuilder.Bind"](d$,dM.AsAsync(self.fetch((self.location.protocol==="http:"?"http://localhost:7071/api/":"https://prozper.azurewebsites.net/api/")+d8,eb)),function(ed){return bs["AsyncResultMBuilder.Bind"](d$,dM.AsAsync(ed.text()),function(ee){((function(ef){return function(eg){return ef("invoke resp = "+bC.prettyPrint(eg));};}(function(ef){d2.log(ef);}))(ee));return d$.Return(ee);});});});}));};ci.registroRpcs=function(){bT.$cctor();return bT.registroRpcs;};cj.replace=function(d8,d9,d_){return K.ofSeq(be.delay(function(){return be.append(d8>0?bX.array(d_,null,{$:1,$0:d8-1}):[],be.delay(function(){return be.append([d9],be.delay(function(){return d8<K.length(d_)?bX.array(d_,{$:1,$0:d8+1},null):[];}));}));}));};cj.remove=function(d8,d9){return K.ofSeq(be.delay(function(){return be.append(d8>0?bX.array(d9,null,{$:1,$0:d8-1}):[],be.delay(function(){return d8<K.length(d9)?bX.array(d9,{$:1,$0:d8+1},null):[];}));}));};cl=ck.attr=d0.Class({},f,cl);cm=k.NumeroTarjeta=d0.Class({get_Id:function(){return this.$0;}},null,cm);cn.New=function(d8,d9,d_,d$){return{titular:d8,tipoTarjeta:d9,numero:d_,expiracion:d$};};co.formaDocO=function(d8){var d9;return co.formaDoc(h.Lens(d8,(d9=[k.ctaVacio(),"",false],function(d_){return d_==null?d9:d_.$0;}),function(d_,d$){return{$:1,$0:d$};}));};co.formaDoc=function(d8){var d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei;function ej(ek,el,em){d_.Hole("titular").Set(ek.titular);d_.Hole("banco").Set(ek.banco);d_.Hole("tipocuenta").Set((function(en){return function(eo){return en(a.String(eo));};}(a.id))(ek.tipo));d_.Hole("numero").Set(ek.numero.$0);d_.Hole("routing").Set(ek.routing.$0);}d9=i.Map(function(ek){return bB.thr3(ek[0],ek[1],ek[2]);},d8.get_View());d_=(d$=(ea=cx.DynamicPred("disabled",d9,i.Const("")),(eb=cx.DynamicPred("disabled",d9,i.Const("")),(ec=cx.DynamicPred("disabled",d9,i.Const("")),(ed=cx.DynamicPred("disabled",d9,i.Const("")),(ee=cx.DynamicPred("disabled",d9,i.Const("")),(ef=W.EmbedView(i.Map(bB.crearOptions,bB.tiposCta().get_View())),O.Make().WithHole({$:0,$0:"tiposcuenta",$1:ef})).WithHole({$:2,$0:"mensaje",$1:i.Map(function(ek){return bB.snd3(ek[0],ek[1],ek[2]);},d8.get_View())}).WithHole({$:3,$0:"disabled1",$1:ee})).WithHole({$:3,$0:"disabled2",$1:ed})).WithHole({$:3,$0:"disabled3",$1:ec})).WithHole({$:3,$0:"disabled4",$1:eb})).WithHole({$:3,$0:"disabled5",$1:ea})),(eg=Q.CompleteHoles(d$.k,d$.h,[["tipocuenta",0],["titular",0],["numero",0],["banco",0],["routing",0]]),(eh=new R.New(eg[1],T.cuentabancaria(eg[0])),(d$.i=eh,eh))));i.Sink(function(ek){return ej(ek[0],ek[1],ek[2]);},d8.get_View());ei=i.Apply(i.Apply(i.Map2(function(ek,el){return function(em){return function(en){return be.map(function(eo){return eo[1];},be.filter(function(eo){return eo[0];},bY.ofArray([[bl.Trim(ek)==="","Titular"],[bl.Trim(el)==="","Banco"],[bl.Trim(em)==="","Numero de Cuenta"],[bl.Trim(en)==="","ABA/Routing Number"]])));};};},d_.Hole("titular").get_View(),d_.Hole("banco").get_View()),d_.Hole("numero").get_View()),d_.Hole("routing").get_View());i.Sink(function(ek){var el,em;if(ek!=null&&ek.$==1){el=ek.$0;!G.Equals((em=d8.Get(),bB.fst3(em[0],em[1],em[2])),el)?d8.Set([el,"",false]):void 0;}},i.Apply(i.Apply(i.Apply(i.Apply(i.Map2(function(ek,el){return d0.Curried(function(em,en,eo,ep){return!be.isEmpty(ek)?null:bB.alertIfNone("TipoCuenta",ct.tryParse(bl.Trim(el)),function(eq){var er;return{$:1,$0:(er=bl.Trim(em),bE.New(bl.Trim(en),er,eq,new bG({$:0,$0:bl.Trim(eo)}),new bF({$:0,$0:bl.Trim(ep)})))};});},4);},ei,d_.Hole("tipocuenta").get_View()),d_.Hole("banco").get_View()),d_.Hole("titular").get_View()),d_.Hole("numero").get_View()),d_.Hole("routing").get_View()));return[ei,d_.get_Doc()];};cp.formaDocO=function(d8){var d9;return cp.formaDoc(h.Lens(d8,(d9=[k.tarVacio(),"",false],function(d_){return d_==null?d9:d_.$0;}),function(d_,d$){return{$:1,$0:d$};}));};cp.formaDoc=function(d8){var d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek;function el(em,en,eo){var ep;d_.Hole("titular").Set(em.titular);d_.Hole("tipotarjeta").Set((function(eq){return function(er){return eq(a.String(er));};}(a.id))(em.tipoTarjeta));d_.Hole("numero").Set(em.numero.$0);d_.Hole("aniovenc").Set((function(eq){return function(er){return eq(bC.padNumLeft(a.String(er),4));};}(a.id))(em.expiracion.anio));d_.Hole("mesvenc").Set((ep=em.expiracion.mes,ep===1?"Enero":ep===2?"Febrero":ep===3?"Marzo":ep===4?"Abril":ep===5?"Mayo":ep===6?"Junio":ep===7?"Julio":ep===8?"Agosto":ep===9?"Septiembre":ep===10?"Octubre":ep===11?"Noviembre":ep===12?"Diciembre":"XX"));}d9=i.Map(function(em){return bB.thr3(em[0],em[1],em[2]);},d8.get_View());d_=(d$=(ea=cx.DynamicPred("disabled",d9,i.Const("")),(eb=cx.DynamicPred("disabled",d9,i.Const("")),(ec=cx.DynamicPred("disabled",d9,i.Const("")),(ed=cx.DynamicPred("disabled",d9,i.Const("")),(ee=cx.DynamicPred("disabled",d9,i.Const("")),(ef=W.EmbedView(i.Map(function(em){return bB.crearOptions(be.map(a.String,em));},bB.mesesV().get_View())),(eg=W.EmbedView(i.Map(function(em){return bB.crearOptions(be.map(a.String,em));},bB.aniosV().get_View())),(eh=W.EmbedView(i.Map(bB.crearOptions,bB.tiposTar().get_View())),O.Make().WithHole({$:0,$0:"tipostarjeta",$1:eh})).WithHole({$:2,$0:"mensaje",$1:i.Map(function(em){return bB.snd3(em[0],em[1],em[2]);},d8.get_View())}).WithHole({$:0,$0:"anios",$1:eg})).WithHole({$:0,$0:"meses",$1:ef})).WithHole({$:3,$0:"disabled1",$1:ee})).WithHole({$:3,$0:"disabled2",$1:ed})).WithHole({$:3,$0:"disabled3",$1:ec})).WithHole({$:3,$0:"disabled4",$1:eb})).WithHole({$:3,$0:"disabled5",$1:ea})),(ei=Q.CompleteHoles(d$.k,d$.h,[["tipotarjeta",0],["titular",0],["numero",0],["aniovenc",0],["mesvenc",0]]),(ej=new R.New(ei[1],T.tarjetacredito(ei[0])),(d$.i=ej,ej))));i.Sink(function(em){return el(em[0],em[1],em[2]);},d8.get_View());ek=i.Apply(i.Apply(i.Apply(i.Map2(function(em,en){return d0.Curried3(function(eo,ep,eq){return be.map(function(er){return er[1];},be.filter(function(er){return er[0];},bY.ofArray([[bl.Trim(em)==="","Titular"],[bl.Trim(en)==="","TipoTarjeta"],[bl.Trim(eo)==="","Numero"],[bl.Trim(ep)==="","Ano de Vencimiento"],[bl.Trim(eq)==="","Mes de Vencimiento"]])));});},d_.Hole("titular").get_View(),d_.Hole("tipotarjeta").get_View()),d_.Hole("numero").get_View()),d_.Hole("aniovenc").get_View()),d_.Hole("mesvenc").get_View());i.Sink(function(em){var en,eo;if(em!=null&&em.$==1){en=em.$0;!G.Equals((eo=d8.Get(),bB.fst3(eo[0],eo[1],eo[2])),en)?d8.Set([en,"",false]):void 0;}},i.Apply(i.Apply(i.Apply(i.Apply(i.Map2(function(em,en){return d0.Curried(function(eo,ep,eq,er){return!be.isEmpty(em)?null:bB.alertIfNone("Tipo Tarjeta",cO.tryParse(bl.Trim(en)),function(es){var et,eu,ev;return{$:1,$0:cn.New(bl.Trim(eo),es,new cm({$:0,$0:bl.Trim(ep)}),cN.New((et=(eu=bl.Trim(eq),(cd.parseIntO())(eu)),et==null?0:et.$0),(ev=bl.Trim(er),ev==="Febrero"?2:ev==="Marzo"?3:ev==="Abril"?4:ev==="Mayo"?5:ev==="Junio"?6:ev==="Julio"?7:ev==="Agosto"?8:ev==="Septiembre"?9:ev==="Octubre"?10:ev==="Noviembre"?11:ev==="Diciembre"?12:1)))};});},4);},ek,d_.Hole("tipotarjeta").get_View()),d_.Hole("titular").get_View()),d_.Hole("numero").get_View()),d_.Hole("aniovenc").get_View()),d_.Hole("mesvenc").get_View()));return[ek,d_.get_Doc()];};cq.MapError=function(d8,d9){return d9.$==1?{$:1,$0:d8(d9.$0)}:{$:0,$0:d9.$0};};cq.Map=function(d8,d9){return d9.$==1?{$:1,$0:d9.$0}:{$:0,$0:d8(d9.$0)};};cs=g.FromView=d0.Class({Set:function(d8){this.set(d8);},get_View:function(){return this.view;},Get:function(){return this.current;},Update:function(d8){var d9;i.Get((d9=this.set,function(d_){return d9(d8(d_));}),this.view);},UpdateMaybe:function(d8){var d9;d9=this;i.Get(function(d_){var d$;d$=d8(d_);d$!=null&&d$.$==1?d9.set(d$.$0):void 0;},this.view);}},J,cs);cs.New=d0.Ctor(function(d8,d9){var d_,d$;d_=this;J.New.call(this);this.set=d9;this.id=bV.Int();this.current=(d$=i.TryGet(d8),d$==null?null:d$.$0);this.view=i.Map(function(ea){d_.current=ea;return ea;},d8);},cs);ct=k.TipoCuenta=d0.Class({toString:function(){return this.$==2?this.$0:(function(d8){return function(d9){return d8(bb.p$5(d9));};}(a.id))(this);}},null,ct);ct.Ahorro=new ct({$:0});ct.tryParse=function(d8){var d9,d_;d_=bl.Trim(d8).toUpperCase();switch(d_){case"":return null;case"AHORRO":case"SAVINGS":return{$:1,$0:ct.Ahorro};case"CORRIENTE":case"CHECKING":return{$:1,$0:ct.Corriente};default:return{$:1,$0:new ct({$:2,$0:bl.Trim(d8)})};}};ct.Corriente=new ct({$:1});cu.Delay=function(d8){return function(d9){try{(d8(null))(d9);}catch(d_){d9.k({$:1,$0:d_});}};};cu.Bind=function(d8,d9){return cu.checkCancel(function(d_){d8(cZ.New(function(d$){var ea;if(d$.$==0){ea=d$.$0;cu.scheduler().Fork(function(){try{(d9(ea))(d_);}catch(eb){d_.k({$:1,$0:eb});}});}else cu.scheduler().Fork(function(){d_.k(d$);});},d_.ct));});};cu.Zero=function(){c0.$cctor();return c0.Zero;};cu.Start=function(d8,d9){var d_,d$;d_=(d$=(cu.defCTS())[0],d9==null?d$:d9.$0);cu.scheduler().Fork(function(){if(!d_.c)d8(cZ.New(function(ea){if(ea.$==1)cu.UncaughtAsyncError(ea.$0);},d_));});};cu.While=function(d8,d9){return d8()?cu.Bind(d9,function(){return cu.While(d8,d9);}):cu.Return();};cu.Sleep=function(d8){return function(d9){var d_,d$;d_=void 0;d$=void 0;d_=a.setTimeout(function(){d$.Dispose();cu.scheduler().Fork(function(){d9.k({$:0,$0:null});});},d8);d$=cu.Register(d9.ct,function(){a.clearTimeout(d_);cu.scheduler().Fork(function(){cu.cancel(d9);});});};};cu.checkCancel=function(d8){return function(d9){if(d9.ct.c)cu.cancel(d9);else d8(d9);};};cu.FromContinuations=function(d8){return function(d9){var d_;function d$(ea){if(d_[0])B.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{d_[0]=true;cu.scheduler().Fork(ea);}}d_=[false];d8(function(ea){d$(function(){d9.k({$:0,$0:ea});});},function(ea){d$(function(){d9.k({$:1,$0:ea});});},function(ea){d$(function(){d9.k({$:2,$0:ea});});});};};cu.defCTS=function(){c0.$cctor();return c0.defCTS;};cu.UncaughtAsyncError=function(d8){d2.log("WebSharper: Uncaught asynchronous exception",d8);};cu.Combine=function(d8,d9){return cu.Bind(d8,function(){return d9;});};cu.Return=function(d8){return function(d9){d9.k({$:0,$0:d8});};};cu.Register=function(d8,d9){var d_;return d8===cu.noneCT()?{Dispose:function(){return null;}}:(d_=d8.r.push(d9)-1,{Dispose:function(){return K.set(d8.r,d_,a.ignore);}});};cu.cancel=function(d8){d8.k({$:2,$0:new dy.New(d8.ct)});};cu.TryWith=function(d8,d9){return function(d_){d8(cZ.New(function(d$){if(d$.$==0)d_.k({$:0,$0:d$.$0});else if(d$.$==1)try{(d9(d$.$0))(d_);}catch(ea){d_.k(d$);}else d_.k(d$);},d_.ct));};};cu.Using=function(d8,d9){return cu.TryFinally(d9(d8),function(){d8.Dispose();});};cu.scheduler=function(){c0.$cctor();return c0.scheduler;};cu.noneCT=function(){c0.$cctor();return c0.noneCT;};cu.TryFinally=function(d8,d9){return function(d_){d8(cZ.New(function(d$){try{d9();d_.k(d$);}catch(ea){d_.k({$:1,$0:ea});}},d_.ct));};};cu.StartWithContinuations=function(d8,d9,d_,d$,ea){var eb,ec;eb=(ec=(cu.defCTS())[0],ea==null?ec:ea.$0);!eb.c?d8(cZ.New(function(ed){if(ed.$==1)d_(ed.$0);else if(ed.$==2)d$(ed.$0);else d9(ed.$0);},eb)):void 0;};cv=k.IdPayment=d0.Class({},null,cv);cw.defaultValue=function(d8,d9){return d9.$==1?d8:d9.$0;};cw.result=function(){bT.$cctor();return bT.result;};cw.defaultWith=function(d8,d9){return d9.$==1?d8(d9.$0):d9.$0;};br.OkM$1=function(d8){return{$:0,$0:{$:1,$0:d8},$1:by.NoMsg};};br.OkM=function(d8){return d8.$0==null?{$:1,$0:d8.$1}:{$:0,$0:[d8.$0.$0,d8.$1]};};br.ErrorM=function(d8){return{$:0,$0:null,$1:d8};};br.OkMWithMsg=function(d8,d9){return{$:0,$0:{$:1,$0:d8},$1:d9};};bW.splitByChar=function(d8,d9){return bl.SplitChars(d9,[d8],0);};bW.unindent=function(d8){var d9,d_,d$,ea;d9=bl.SplitChars(d8,["\n"],0);d_=(d$=be.tryFindIndex(function(eb){return" "!==eb;},(ea=be.tryFind(function(eb){return bl.Trim(eb)!=="";},d9),ea==null?"":ea.$0)),d$==null?0:d$.$0);return be.filter(function(eb){return!bl.StartsWith(eb,"# 1 ");},be.map(function(eb){return eb.length<=d_?"":eb.substring(d_);},d9));};bW.unindentStr=function(){bM.$cctor();return bM.unindentStr;};bW.StartsWith=function(d8,d9){return bl.StartsWith(d9,d8)?{$:1,$0:bX.string(d9,{$:1,$0:d8.length},null)}:null;};bW.delimitedO=function(d8,d9,d_){var d$,ea,eb,ec,ed;d$=bW.splitInTwoO(d8,d_);return d$==null?null:(ea=d$.$0,(eb=ea[0],(ec=bW.splitInTwoO(d9,ea[1]),ec==null?null:{$:1,$0:(ed=ec.$0,[eb,ed[0],ed[1]])})));};bW.splitInTwoO=function(d8,d9){var d_;d_=d9.indexOf(d8);return d_===-1?null:{$:1,$0:[bf["String.Left"](d9,d_),d9.substring(d_+d8.length)]};};cx.Style=function(d8,d9){return c3.Static(function(d_){c4.SetStyle(d_,d8,d9);});};cx.Dynamic=function(d8,d9){return c3.Dynamic(d9,function(d_){return function(d$){return c4.SetAttr(d_,d8,d$);};});};cx.Handler=function(d8,d9){return c3.Static(function(d_){d_.addEventListener(d8,function(d$){return(d9(d_))(d$);},false);});};cx.DynamicStyle=function(d8,d9){return c3.Dynamic(d9,function(d_){return function(d$){return c4.SetStyle(d_,d8,d$);};});};cx.Value=function(d8){function d9(d_){return{$:1,$0:d_};}return cx.CustomValue(d8,a.id,function(d_){return d9(a.id(d_));});};cx.DynamicPred=function(d8,d9,d_){function d$(ea,eb){return eb[0]?c4.SetAttr(ea,d8,eb[1]):c4.RemoveAttr(ea,d8);}return c3.Dynamic(i.Map2(function(ea,eb){return[ea,eb];},d9,d_),function(ea){return function(eb){return d$(ea,eb);};});};cx.CustomValue=function(d8,d9,d_){return cx.CustomVar(d8,function(d$,ea){d$.value=d9(ea);},function(d$){return d_(d$.value);});};cx.OnAfterRender=function(d8){return new cF({$:4,$0:d8});};cx.Checked=function(d8){function d9(d_,d$){return!G.Equals(d8.Get(),d_.checked)?d8.Set(d_.checked):null;}return cF.Concat([cx.DynamicProp("checked",d8.get_View()),cx.Handler("change",function(d_){return function(d$){return d9(d_,d$);};})]);};cx.IntValue=function(d8){return cx.CustomVar(d8,function(d9,d_){var d$;d$=d_.get_Input();return d9.value!==d$?void(d9.value=d$):null;},function(d9){var d_,d$,ea;d_=d9.value;return{$:1,$0:dQ.isBlank(d_)?(d9.checkValidity?d9.checkValidity():true)?new cG({$:2,$0:d_}):new cG({$:1,$0:d_}):(d$=(ea=0,[_5.TryParseInt32(d_,{get:function(){return ea;},set:function(eb){ea=eb;}}),ea]),d$[0]?new cG({$:0,$0:d$[1],$1:d_}):new cG({$:1,$0:d_}))};});};cx.IntValueUnchecked=function(d8){return cx.CustomValue(d8,a.String,function(d9){var d_;return dQ.isBlank(d9)?{$:1,$0:0}:(d_=+d9,d_!==d_>>0?null:{$:1,$0:d_});});};cx.FloatValue=function(d8){return cx.CustomVar(d8,function(d9,d_){var d$;d$=d_.get_Input();return d9.value!==d$?void(d9.value=d$):null;},function(d9){var d_,d$;d_=d9.value;return{$:1,$0:dQ.isBlank(d_)?(d9.checkValidity?d9.checkValidity():true)?new cG({$:2,$0:d_}):new cG({$:1,$0:d_}):(d$=+d_,a.isNaN(d$)?new cG({$:1,$0:d_}):new cG({$:0,$0:d$,$1:d_}))};});};cx.FloatValueUnchecked=function(d8){return cx.CustomValue(d8,a.String,function(d9){var d_;return dQ.isBlank(d9)?{$:1,$0:0}:(d_=+d9,a.isNaN(d_)?null:{$:1,$0:d_});});};cx.CustomVar=function(d8,d9,d_){function d$(eb,ec){return d8.UpdateMaybe(function(ed){var ee,ef;ee=d_(eb);return ee!=null&&ee.$==1&&(!G.Equals(ee.$0,ed)&&(ef=[ee,ee.$0],true))?ef[0]:null;});}function ea(eb,ec){var ed,ee;ed=d_(eb);return ed!=null&&ed.$==1&&(G.Equals(ed.$0,ec)&&(ee=ed.$0,true))?null:d9(eb,ec);}return cF.Concat([cx.Handler("change",function(eb){return function(ec){return d$(eb,ec);};}),cx.Handler("input",function(eb){return function(ec){return d$(eb,ec);};}),cx.Handler("keypress",function(eb){return function(ec){return d$(eb,ec);};}),cx.DynamicCustom(function(eb){return function(ec){return ea(eb,ec);};},d8.get_View())]);};cx.DynamicProp=function(d8,d9){return c3.Dynamic(d9,function(d_){return function(d$){d_[d8]=d$;};});};cx.DynamicCustom=function(d8,d9){return c3.Dynamic(d9,d8);};cA=cz.WcTabStripT=d0.Class({connectedCallback:function(){var d8,d9,d_,d$;function ea(){var eb,ec,ed;ec=!d9.hasAttribute("bottom");ed=bY.ofSeq(be.delay(function(){return be.collect(function(ee){var ef;ef=d9.childNodes[ee-1];return G.Equals(ef.nodeType,D.ELEMENT_NODE)?[[ef.hasAttribute("tabname")?ef.getAttribute("tabname"):(function(eg){return function(eh){return eg("Tab "+a.String(eh));};}(a.id))(ee),ef]]:[];},B.range(1,d9.childNodes.length));}));while(d$.childNodes.length>0)d$.removeChild(d$.lastChild);eb=cz.tabStrip(d8.selected,ec,true,ed,W.Element("slot",cc.Empty,cc.Empty));cJ.LoadLocalTemplates("");W.Run(d$,eb);}d8=this;!this.added?(d9=this,d_=d9.attachShadow({mode:"open"}),d$=self.document.createElement("div"),d_.appendChild(d$),ea(),d9.addEventListener("DOMSubtreeModified",bf.delayed(50,ea)),this.added=true):void 0;}},f,cA);cA.Constructor=function(){var d8,d9;d8=(d9=d5.construct(self.HTMLElement,[],this.__proto__.constructor),d9);self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New.call(d8);return d8;};cA.New=d0.Ctor(function(){f.New.call(this);this.added=false;this.selected=h.Create$1(1);(function(d8){return d8("WcTabStripT initializer");}(function(d8){d2.log(d8);}));},cA);cy.defineWebComponent=function(d8,d9,d_){try{d2.log("defineWebComponent: "+d8);cr.setPrototypeOf(d_.prototype,self.HTMLElement.prototype);cr.setPrototypeOf(d_,self.HTMLElement);cr.setPrototypeOf(d9.prototype,d_.prototype);self.customElements.define(d8,d9);}catch(d$){(function(ea){return ea("Failed to define WebComponent. Not supported.");}(function(ea){d2.log(ea);}));}};cB.appfwkclient=function(d8){cB.fixedsplitterhor();cB.fixedsplitterver();cJ.LoadLocalTemplates("appframework");return d8?cJ.NamedTemplate("appframework",{$:1,$0:"appfwkclient"},d8):void 0;};cC.p=function(d8){return"{"+("docName = "+bC.prettyPrint(d8.docName))+"; "+("docDoc = "+cD.p(d8.docDoc))+"}";};cB.tile=function(d8){cJ.LoadLocalTemplates("appframework");return d8?cJ.NamedTemplate("appframework",{$:1,$0:"tile"},d8):void 0;};cB.namevalueinput=function(d8){cJ.LoadLocalTemplates("appframework");return d8?cJ.NamedTemplate("appframework",{$:1,$0:"namevalueinput"},d8):void 0;};cB.namevalue=function(d8){cJ.LoadLocalTemplates("appframework");return d8?cJ.NamedTemplate("appframework",{$:1,$0:"namevalue"},d8):void 0;};cB.action=function(d8){cJ.LoadLocalTemplates("appframework");return d8?cJ.NamedTemplate("appframework",{$:1,$0:"action"},d8):void 0;};cB.actiondisabled=function(d8){cJ.LoadLocalTemplates("appframework");return d8?cJ.NamedTemplate("appframework",{$:1,$0:"actiondisabled"},d8):void 0;};cB.fixedsplitterhor=function(d8){cJ.LoadLocalTemplates("appframework");return d8?cJ.NamedTemplate("appframework",{$:1,$0:"fixedsplitterhor"},d8):void 0;};cB.fixedsplitterver=function(d8){cJ.LoadLocalTemplates("appframework");return d8?cJ.NamedTemplate("appframework",{$:1,$0:"fixedsplitterver"},d8):void 0;};cB.wcompsplitterhor=function(d8){cJ.LoadLocalTemplates("appframework");return d8?cJ.NamedTemplate("appframework",{$:1,$0:"wcompsplitterhor"},d8):void 0;};cB.wcompsplitterver=function(d8){cJ.LoadLocalTemplates("appframework");return d8?cJ.NamedTemplate("appframework",{$:1,$0:"wcompsplitterver"},d8):void 0;};cB.appframework=function(d8){cJ.LoadLocalTemplates("appframework");return d8?cJ.NamedTemplate("appframework",{$:1,$0:"appframework"},d8):void 0;};cD.p=function(d8){return d8.$==5?"FunDoc5 (<fun>, "+bC.prettyPrint(d8.$1)+", "+bC.prettyPrint(d8.$2)+", "+bC.prettyPrint(d8.$3)+", "+bC.prettyPrint(d8.$4)+", "+bC.prettyPrint(d8.$5)+")":d8.$==4?"FunDoc4 (<fun>, "+bC.prettyPrint(d8.$1)+", "+bC.prettyPrint(d8.$2)+", "+bC.prettyPrint(d8.$3)+", "+bC.prettyPrint(d8.$4)+")":d8.$==3?"FunDoc3 (<fun>, "+bC.prettyPrint(d8.$1)+", "+bC.prettyPrint(d8.$2)+", "+bC.prettyPrint(d8.$3)+")":d8.$==2?"FunDoc2 (<fun>, "+bC.prettyPrint(d8.$1)+", "+bC.prettyPrint(d8.$2)+")":d8.$==1?"FunDoc1 (<fun>, "+bC.prettyPrint(d8.$1)+")":"LazyDoc "+bC.prettyPrint(d8.$0);};cE.init=function(d8,d9){var d_;d_=new c6.New();cE.set_layoutHorizontal(d8);cE.set_layoutVertical(d9);cy.defineWebComponent("wcomp-splitter",c6.Constructor,self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New);};cE.set_layoutHorizontal=function(d8){bM.$cctor();bM.layoutHorizontal=d8;};cE.set_layoutVertical=function(d8){bM.$cctor();bM.layoutVertical=d8;};cE.layoutVertical=function(){bM.$cctor();return bM.layoutVertical;};cE.layoutHorizontal=function(){bM.$cctor();return bM.layoutHorizontal;};cz.init=function(){bM.$cctor();return bM.init;};cz.tabStrip=function(d8,d9,d_,d$,ea){var eb;eb=W.Element("div",[cF.Create("class",(((d0.Curried3(function(ec,ed,ee){return ec("tab-strip "+bC.toSafe(ed)+" "+bC.toSafe(ee));}))(a.id))(d9?"top":"bottom"))(d_?"horizontal":"vertical"))],bY.ofSeq(be.delay(function(){return be.collect(function(ec){var ed;ed=ec[0];return[dh.New$1().Content(W.Element("div",[cx.Dynamic("class",i.Map(function(ee){return"tab"+(ee===ed+1?" selected":"");},d8.get_View())),cF.Create("draggable","true"),cF.HandlerImpl("click",function(){return function(){return d8.Set(ed+1);};})],[W.TextNode(ec[1][0])]))];},be.indexed(d$));})));return W.Element("div",[cF.Create("class","tab-panel")],bY.ofSeq(be.delay(function(){return be.append(d9?[eb]:[],be.delay(function(){return be.append([W.Element("div",[cF.Create("class","tab-content")],[ea])],be.delay(function(){return be.append(!d9?[eb]:[],be.delay(function(){return be.append([W.Element("style",cc.Empty,bY.ofArray([W.TextNode(cz.css())]))],be.delay(function(){return[W.Element("style",cc.Empty,bY.ofArray([W.TextView(i.Map(function(ec){return function(ed){return ec("\r\n                                              ::slotted(*              ) { display: none }\r\n                                              ::slotted(*:nth-child("+a.String(ed)+")) { display: grid }\r\n                                           ");};}(a.id),d8.get_View()))]))];}));}));}));}));})));};cz.css=function(){bM.$cctor();return bM.css;};cF=g.AttrProxy=d0.Class({},null,cF);cF.Create=function(d8,d9){return c3.Static(function(d_){c4.SetAttr(d_,d8,d9);});};cF.HandlerImpl=function(d8,d9){return c3.Static(function(d_){d_.addEventListener(d8,function(d$){return(d9(d_))(d$);},false);});};cF.Concat=function(d8){var d9;d9=cX.ofSeqNonCopying(d8);return cX.TreeReduce(c3.EmptyAttr(),cF.Append,d9);};cF.Append=function(d8,d9){return c3.AppendTree(d8,d9);};cF.Handler=function(d8,d9){return cF.HandlerImpl(d8,d9);};cG=g.CheckedInput=d0.Class({get_Input:function(){return this.$==1?this.$0:this.$==2?this.$0:this.$1;}},null,cG);cH.notPresent=function(){return B.FailWith("The given key was not present in the dictionary.");};cH.alreadyAdded=function(){return B.FailWith("An item with the same key has already been added.");};cJ.RunFullDocTemplate=function(d8){var d9,d_;cJ.LoadLocalTemplates("");cJ.PrepareTemplateStrict("",null,c4.ChildrenArray(self.document.body),{$:1,$0:self.document.body},null);d9=cJ.ChildrenTemplate(self.document.body,d8);d_=self.document.body;(function(d$){W.RunInPlace(true,d_,d$);}(d9));return d9;};cJ.LoadLocalTemplates=function(d8){!cJ.LocalTemplatesLoaded()?(cJ.set_LocalTemplatesLoaded(true),cJ.LoadNestedTemplates(self.document.body,"")):void 0;cJ.LoadedTemplates().set_Item(d8,cJ.LoadedTemplateFile(""));};cJ.NamedTemplate=function(d8,d9,d_){var d$,ea;d$=(ea=null,[cJ.LoadedTemplateFile(d8).TryGetValue(d9==null?"":d9.$0,{get:function(){return ea;},set:function(eb){ea=eb;}}),ea]);return d$[0]?cJ.ChildrenTemplate(d$[1].cloneNode(true),d_):(d2.warn("Local template doesn't exist",d9),W.get_Empty());};cJ.PrepareTemplateStrict=function(d8,d9,d_,d$,ea){var eb,ec;function ed(ei,ej){var ek,el,em,en,eo,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK;function ep(eL){}while(true)switch(ei){case 0:if(ej!==null){ek=ej.nextSibling;if(G.Equals(ej.nodeType,D.TEXT_NODE))dm.convertTextNode(ej);else if(G.Equals(ej.nodeType,D.ELEMENT_NODE))ef(ej);ej=ek;}else return null;break;case 1:eq=bX.string(ej.nodeName,{$:1,$0:3},null).toLowerCase();er=(el=eq.indexOf("."),el===-1?[d8,eq]:[bX.string(eq,null,{$:1,$0:el-1}),bX.string(eq,{$:1,$0:el+1},null)]);es=er[1];et=er[0];if(et!==""&&!cJ.LoadedTemplates().ContainsKey(et))return dm.failNotLoaded(es);else{if(et===""&&ea!=null)ea.$0(es);eu=cJ.LoadedTemplates().get_Item(et);if(!eu.ContainsKey(es))return dm.failNotLoaded(es);else{ev=eu.get_Item(es);ew=ev.cloneNode(true);ex=new bP.New$3();ey=new bO.New$5();ez=ej.attributes;for(eA=0,eB=ez.length-1;eA<=eB;eA++){eC=ez.item(eA).name.toLowerCase();ey.set_Item(eC,(eD=ez.item(eA).nodeValue,eD===""?eC:eD.toLowerCase()));!ex.Add(eC)?d2.warn("Hole mapped twice",eC):void 0;}for(eE=0,eF=ej.childNodes.length-1;eE<=eF;eE++){eG=ej.childNodes[eE];G.Equals(eG.nodeType,D.ELEMENT_NODE)?!ex.Add(eG.nodeName.toLowerCase())?d2.warn("Hole filled twice",es):void 0:void 0;}eH=ej.childNodes.length===1&&G.Equals(ej.firstChild.nodeType,D.TEXT_NODE);if(eH){en=dm.fillTextHole(ew,ej.firstChild.textContent,es);((function(eL){return function(eM){if(eM!=null)eL(eM.$0);};}((eo=function(eL){return function(eM){return eL.Add(eM);};}(ex),function(eL){return ep(eo(eL));})))(en));}dm.removeHolesExcept(ew,ex);if(!eH){for(eI=0,eJ=ej.childNodes.length-1;eI<=eJ;eI++){eK=ej.childNodes[eI];G.Equals(eK.nodeType,D.ELEMENT_NODE)?eK.hasAttributes()?dm.fillInstanceAttrs(ew,eK):ee(ew,eK):void 0;}}dm.mapHoles(ew,ey);dm.fill(ew,ej.parentNode,ej);ej.parentNode.removeChild(ej);return;}}break;}}function ee(ei,ej){var ek,em,en;function el(eo,ep){var eq,er,es;if(em==="title"&&ej.hasChildNodes()){eq=d6.parseHTML(ej.textContent);ej.removeChild(ej.firstChild);for(er=0,es=eq.length-1;er<=es;er++)ej.appendChild(K.get(eq,er));}else null;ef(ej);return dm.fill(ej,eo,ep);}em=ej.nodeName.toLowerCase();c4.IterSelector(ei,"[ws-attr-holes]",function(eo){var ep,eq,er,es,et;ep=bl.SplitChars(eo.getAttribute("ws-attr-holes"),[" "],1);for(eq=0,er=ep.length-1;eq<=er;eq++){es=K.get(ep,eq);eo.setAttribute(es,(et=new a.RegExp("\\${"+em+"}","ig"),eo.getAttribute(es).replace(et,ej.textContent)));}});en=ei.querySelector("[ws-hole="+em+"]");if(G.Equals(en,null)){ek=ei.querySelector("[ws-replace="+em+"]");return G.Equals(ek,null)?null:(el(ek.parentNode,ek),void ek.parentNode.removeChild(ek));}else{while(en.hasChildNodes())en.removeChild(en.lastChild);en.removeAttribute("ws-hole");return el(en,null);}}function ef(ei){if(bl.StartsWith(ei.nodeName.toLowerCase(),"ws-"))eh(ei);else{dm.convertAttrs(ei);eg(ei.firstChild);}}function eg(ei){return ed(0,ei);}function eh(ei){return ed(1,ei);}eb=d$==null?cJ.FakeRoot(d_):d$.$0;ec=(d9==null?"":d9.$0).toLowerCase();cJ.LoadedTemplateFile(d8).set_Item(ec,eb);K.length(d_)>0?(function(ei){var ej,ek,el,em;while(true){ej=ei.querySelector("[ws-template]");if(G.Equals(ej,null)){ek=ei.querySelector("[ws-children-template]");if(G.Equals(ek,null))return null;else{el=ek.getAttribute("ws-children-template");ek.removeAttribute("ws-children-template");cJ.PrepareTemplateStrict(d8,{$:1,$0:el},c4.ChildrenArray(ek),null,null);ei=ei;}}else{em=ej.getAttribute("ws-template");(cJ.PrepareSingleTemplate(d8,{$:1,$0:em},ej))(null);ei=ei;}}}(eb),eg(K.get(d_,0))):void 0;};cJ.ChildrenTemplate=function(d8,d9){var d_,d$,ea,eb,ec;d_=cJ.InlineTemplate(d8,d9);d$=d_[1];ea=d_[0];eb=ea.Els;return!G.Equals(eb,null)&&eb.length===1&&(K.get(eb,0)instanceof D&&(G.Equals(K.get(eb,0).nodeType,D.ELEMENT_NODE)&&(ec=K.get(eb,0),true)))?dn.TreeNode(ea,d$):W.Mk({$:6,$0:ea},d$);};cJ.LocalTemplatesLoaded=function(){dr.$cctor();return dr.LocalTemplatesLoaded;};cJ.set_LocalTemplatesLoaded=function(d8){dr.$cctor();dr.LocalTemplatesLoaded=d8;};cJ.LoadNestedTemplates=function(d8,d9){var d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em;function d_(en){var eo,ep;if(!d$.ContainsKey(en)){eo=(ep=null,[ea.TryGetValue(en,{get:function(){return ep;},set:function(eq){ep=eq;}}),ep]);eo[0]?(em.Add(en),ea.Remove(en),cJ.PrepareTemplateStrict(d9,{$:1,$0:en},eo[1][0],{$:1,$0:eo[1][1]},{$:1,$0:d_})):d2.warn(em.Contains(en)?"Encountered loop when instantiating "+en:"Local template does not exist: "+en);}}d$=cJ.LoadedTemplateFile(d9);ea=new bO.New$5();eb=d8.querySelectorAll("[ws-template]");for(ec=0,ed=eb.length-1;ec<=ed;ec++){ee=eb[ec];ef=ee.getAttribute("ws-template").toLowerCase();ee.removeAttribute("ws-template");ea.set_Item(ef,[[ee],cJ.FakeRootSingle(ee)]);}eg=d8.querySelectorAll("[ws-children-template]");for(eh=0,ei=eg.length-1;eh<=ei;eh++){ej=eg[eh];ek=ej.getAttribute("ws-children-template").toLowerCase();ej.removeAttribute("ws-children-template");ea.set_Item(ek,(el=c4.ChildrenArray(ej),[el,cJ.FakeRoot(el)]));}em=new bP.New$3();while(ea.count>0)d_(be.head(ea.get_Keys()));};cJ.LoadedTemplates=function(){dr.$cctor();return dr.LoadedTemplates;};cJ.LoadedTemplateFile=function(d8){var d9,d_,d$;d9=(d_=null,[cJ.LoadedTemplates().TryGetValue(d8,{get:function(){return d_;},set:function(ea){d_=ea;}}),d_]);return d9[0]?d9[1]:(d$=new bO.New$5(),(cJ.LoadedTemplates().set_Item(d8,d$),d$));};cJ.FakeRoot=function(d8){var d9,d_,d$;d9=self.document.createElement("div");for(d_=0,d$=d8.length-1;d_<=d$;d_++)d9.appendChild(K.get(d8,d_));return d9;};cJ.PrepareSingleTemplate=function(d8,d9,d_){var d$,ea,eb;d$=cJ.FakeRootSingle(d_);ea=[d_];eb={$:1,$0:d$};return function(ec){cJ.PrepareTemplateStrict(d8,d9,ea,eb,ec);};};cJ.InlineTemplate=function(d8,d9){var d_,d$,ea,eb,ee,ef,eg,eh,ei,ej,ek;function ec(el,em){var en,eo,ep;en=c3.Insert(el,em);ef.push(c3.Updates(en));eg.push([el,en]);eo=d0.GetOptional(en.OnAfterRender);return eo==null?null:(ep=eo.$0,void eh.push(function(){ep(el);}));}function ed(el){var em,en;em=(en=null,[ei.TryGetValue(el,{get:function(){return en;},set:function(eo){en=eo;}}),en]);return em[0]?em[1].$==0?{$:1,$0:em[1].$1}:em[1].$==1?{$:1,$0:W.TextNode(em[1].$1)}:em[1].$==2?{$:1,$0:W.TextView(em[1].$1)}:em[1].$==8?{$:1,$0:W.TextView(em[1].$1.get_View())}:em[1].$==9?{$:1,$0:W.TextView(i.Map(a.String,em[1].$1.get_View()))}:em[1].$==10?{$:1,$0:W.TextView(i.Map(function(eo){return eo.get_Input();},em[1].$1.get_View()))}:em[1].$==11?{$:1,$0:W.TextView(i.Map(a.String,em[1].$1.get_View()))}:em[1].$==12?{$:1,$0:W.TextView(i.Map(function(eo){return eo.get_Input();},em[1].$1.get_View()))}:em[1].$==13?{$:1,$0:W.TextView(i.Map(a.String,em[1].$1.get_View()))}:(d2.warn("Content hole filled with attribute data",el),null):null;}ee=[];ef=[];eg=[];eh=[];ei=new bO.New$5();ej=b$.Get(d9);try{while(ej.MoveNext()){ek=ej.Current();ei.set_Item(ek.$0,ek);}}finally{if(typeof ej=="object"&&"Dispose"in ej)ej.Dispose();}d_=c4.ChildrenArray(d8);c4.IterSelector(d8,"[ws-hole]",function(el){var em,en,eo;eo=el.getAttribute("ws-hole");el.removeAttribute("ws-hole");while(el.hasChildNodes())el.removeChild(el.lastChild);em=ed(eo);em!=null&&em.$==1?(en=em.$0,cY.LinkElement(el,en.docNode),ee.push(c7.New(c3.Empty(el),en.docNode,null,el,bV.Int(),null)),ef.push(en.updates)):void 0;});c4.IterSelector(d8,"[ws-replace]",function(el){var em,en,eo,ep,eq,er;em=ed(el.getAttribute("ws-replace"));em!=null&&em.$==1?(en=em.$0,eo=el.parentNode,ep=self.document.createTextNode(""),eo.replaceChild(ep,el),eq=cY.InsertBeforeDelim(ep,en.docNode),er=K.tryFindIndex(function(es){return el===es;},d_),er==null?void 0:K.set(d_,er.$0,en.docNode),ee.push(c7.New(c3.Empty(eo),en.docNode,{$:1,$0:[eq,ep]},eo,bV.Int(),null)),ef.push(en.updates)):void 0;});c4.IterSelector(d8,"[ws-attr]",function(el){var em,en,eo;em=el.getAttribute("ws-attr");el.removeAttribute("ws-attr");en=(eo=null,[ei.TryGetValue(em,{get:function(){return eo;},set:function(ep){eo=ep;}}),eo]);en[0]?en[1].$==3?ec(el,en[1].$1):d2.warn("Attribute hole filled with non-attribute data",em):void 0;});c4.IterSelector(d8,"[ws-on]",function(el){ec(el,cF.Concat(K.choose(function(em){var en,eo,ep;en=bl.SplitChars(em,[":"],1);eo=(ep=null,[ei.TryGetValue(K.get(en,1),{get:function(){return ep;},set:function(eq){ep=eq;}}),ep]);return eo[0]?eo[1].$==4?{$:1,$0:cx.Handler(K.get(en,0),eo[1].$1)}:eo[1].$==5?{$:1,$0:cF.Handler(K.get(en,0),eo[1].$2)}:(d2.warn("Event hole on"+K.get(en,0)+" filled with non-event data",K.get(en,1)),null):null;},bl.SplitChars(el.getAttribute("ws-on"),[" "],1))));el.removeAttribute("ws-on");});c4.IterSelector(d8,"[ws-onafterrender]",function(el){var em,en,eo;em=el.getAttribute("ws-onafterrender");en=(eo=null,[ei.TryGetValue(em,{get:function(){return eo;},set:function(ep){eo=ep;}}),eo]);en[0]?en[1].$==6?(el.removeAttribute("ws-onafterrender"),ec(el,cx.OnAfterRender(en[1].$1))):en[1].$==7?(el.removeAttribute("ws-onafterrender"),ec(el,cx.OnAfterRender(en[1].$1))):d2.warn("onafterrender hole filled with non-onafterrender data",em):void 0;});c4.IterSelector(d8,"[ws-var]",function(el){var em,en,eo;em=el.getAttribute("ws-var");el.removeAttribute("ws-var");en=(eo=null,[ei.TryGetValue(em,{get:function(){return eo;},set:function(ep){eo=ep;}}),eo]);en[0]?en[1].$==8?ec(el,cx.Value(en[1].$1)):en[1].$==9?ec(el,cx.Checked(en[1].$1)):en[1].$==10?ec(el,cx.IntValue(en[1].$1)):en[1].$==11?ec(el,cx.IntValueUnchecked(en[1].$1)):en[1].$==12?ec(el,cx.FloatValue(en[1].$1)):en[1].$==13?ec(el,cx.FloatValueUnchecked(en[1].$1)):d2.warn("Var hole filled with non-Var data",em):void 0;});c4.IterSelector(d8,"[ws-attr-holes]",function(el){var em,en,eo,ep;em=new a.RegExp(cJ.TextHoleRE(),"g");en=bl.SplitChars(el.getAttribute("ws-attr-holes"),[" "],1);el.removeAttribute("ws-attr-holes");for(eo=0,ep=en.length-1;eo<=ep;eo++)(function(){var eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC;ez=K.get(en,eo);eA=el.getAttribute(ez);eq=null;er=0;eB=[];while(eq=em.exec(eA),eq!==null){eC=bX.string(eA,{$:1,$0:er},{$:1,$0:em.lastIndex-K.get(eq,0).length-1});er=em.lastIndex;eB.push([eC,K.get(eq,1)]);}et=bX.string(eA,{$:1,$0:er},null);em.lastIndex=0;eu=K.foldBack(function(eD,eE){return(function(eF){var eG,eH;eG=eF[0];eH=eF[1];return function(eI){var eJ,eK,eL,eM,eN;eJ=eI[0];eK=eI[1];eL=(eM=(eN=null,[ei.TryGetValue(eH,{get:function(){return eN;},set:function(eO){eN=eO;}}),eN]),eM[0]?eM[1].$==1?{$:0,$0:eM[1].$1}:eM[1].$==2?{$:1,$0:eM[1].$1}:eM[1].$==8?{$:1,$0:eM[1].$1.get_View()}:eM[1].$==9?{$:1,$0:i.Map(a.String,eM[1].$1.get_View())}:eM[1].$==10?{$:1,$0:i.Map(function(eO){return eO.get_Input();},eM[1].$1.get_View())}:eM[1].$==11?{$:1,$0:i.Map(a.String,eM[1].$1.get_View())}:eM[1].$==12?{$:1,$0:i.Map(function(eO){return eO.get_Input();},eM[1].$1.get_View())}:eM[1].$==13?{$:1,$0:i.Map(a.String,eM[1].$1.get_View())}:(d2.warn("Attribute value hole filled with non-text data",eH),{$:0,$0:""}):{$:0,$0:""});return eL.$==1?[eG,new cc({$:1,$0:eJ===""?eL.$0:i.Map(function(eO){return eO+eJ;},eL.$0),$1:eK})]:[eG+eL.$0+eJ,eK];};}(eD))(eE);},eB,[et,cc.Empty]);return ec(el,eu[1].$==1?eu[1].$1.$==1?eu[1].$1.$1.$==1?eu[1].$1.$1.$1.$==0?(ev=eu[0],cx.Dynamic(ez,i.Map3(function(eD,eE,eF){return ev+eD+eE+eF;},eu[1].$0,eu[1].$1.$0,eu[1].$1.$1.$0))):(ew=eu[0],cx.Dynamic(ez,i.Map(function(eD){return ew+bl.concat("",eD);},i.Sequence(eu[1])))):(ex=eu[0],cx.Dynamic(ez,i.Map2(function(eD,eE){return ex+eD+eE;},eu[1].$0,eu[1].$1.$0))):eu[0]===""?cx.Dynamic(ez,eu[1].$0):(ey=eu[0],cx.Dynamic(ez,i.Map(function(eD){return ey+eD;},eu[1].$0))):cF.Create(ez,eu[0]));}());});return[d0.DeleteEmptyFields({Els:d_,Dirty:true,Holes:ee,Attrs:eg,Render:(d$=eh.length==0?null:{$:1,$0:function(el){K.iter(function(em){em(el);},eh);}},d$?d$.$0:void 0),El:(ea=!G.Equals(d_,null)&&d_.length===1&&(K.get(d_,0)instanceof D&&(K.get(d_,0)instanceof a.Element&&(eb=K.get(d_,0),true)))?{$:1,$0:eb}:null,ea?ea.$0:void 0)},["Render","El"]),cX.TreeReduce(i.Const(),i.Map2Unit,ef)];};cJ.FakeRootSingle=function(d8){var d9,d_,d$;d8.removeAttribute("ws-template");d9=d8.getAttribute("ws-replace");d9===null?void 0:(d8.removeAttribute("ws-replace"),d_=d8.parentNode,G.Equals(d_,null)?void 0:(d$=self.document.createElement(d8.tagName),d$.setAttribute("ws-replace",d9),d_.replaceChild(d$,d8)));return cJ.FakeRoot([d8]);};cJ.TextHoleRE=function(){dr.$cctor();return dr.TextHoleRE;};cK=cw.Builder=d0.Class({},f,cK);cK.New=d0.Ctor(function(){f.New.call(this);},cK);cL=bI.Builder=d0.Class({},f,cL);cL.New=d0.Ctor(function(){f.New.call(this);},cL);bW.unindent=function(d8){var d9,d_,d$,ea;d9=bl.SplitChars(d8,["\n"],0);d_=(d$=be.tryFindIndex(function(eb){return" "!==eb;},(ea=be.tryFind(function(eb){return bl.Trim(eb)!=="";},d9),ea==null?"":ea.$0)),d$==null?0:d$.$0);return be.filter(function(eb){return!bl.StartsWith(eb,"# 1 ");},be.map(function(eb){return eb.length<=d_?"":eb.substring(d_);},d9));};bW.splitByChar=function(d8,d9){return bl.SplitChars(d9,[d8],0);};cd.tryParseWith=function(d8){function d9(d_,d$){return d_?{$:1,$0:d$}:null;}return function(d_){return d9.apply(null,d8(d_));};};cd.parseDateO=function(){bT.$cctor();return bT.parseDateO;};cd.parseIntO=function(){bT.$cctor();return bT.parseIntO;};cd.parseInt64O=function(){bT.$cctor();return bT.parseInt64O;};cd.parseSingleO=function(){bT.$cctor();return bT.parseSingleO;};cd.parseDoubleO=function(){bT.$cctor();return bT.parseDoubleO;};cd.parseGuidO=function(){bT.$cctor();return bT.parseGuidO;};cM.toJsonString=function(d8){return K.ofSeq(be.delay(function(){return be.append(["\""],be.delay(function(){return be.append(!bl.IsNullOrEmpty(d8)?be.collect(function(d9){var d_,d$;d_=d8[d9];d$=d_.charCodeAt();return d$>=0&&d$<=7||d$===11||d$>=14&&d$<=31?(function(ea){return function(eb){return ea("\\u"+bC.padNumLeft(eb.toString(16),4));};}(a.id))(d$):d_==="\u0008"?"\\b":d_==="\u0009"?"\\t":d_==="\n"?"\\n":d_==="\u000c"?"\\f":d_==="\r"?"\\r":d_==="\""?"\\\"":d_==="\\"?"\\\\":[d_];},B.range(0,d8.length-1)):[],be.delay(function(){return["\""];}));}));})).join("");};bf.Error=function(d8){return{$:1,$0:d8};};bf.print=function(d8){if(typeof d8=="string")((function(d9){return function(d_){return d9(bC.toSafe(d_));};}(function(d9){d2.log(d9);}))(d8));else((function(d9){return function(d_){return d9(bC.prettyPrint(d_));};}(function(d9){d2.log(d9);}))(d8));};cN=k.Expiracion=d0.Class({},null,cN);cN.New=function(d8,d9){return new cN({anio:d8,mes:d9});};cO=k.TipoTarjeta=d0.Class({toString:function(){return this.$==3?this.$0:(function(d8){return function(d9){return d8(bb.p$4(d9));};}(a.id))(this);}},null,cO);cO.Visa=new cO({$:0});cO.tryParse=function(d8){var d9,d_;d_=bl.Trim(d8).toUpperCase();switch(d_){case"":return null;case"VISA":return{$:1,$0:cO.Visa};case"MASTERCARD":return{$:1,$0:cO.MasterCard};case"AMERICAN EXPRESS":case"AMEX":return{$:1,$0:cO.Amex};default:return{$:1,$0:new cO({$:3,$0:bl.Trim(d8)})};}};cO.MasterCard=new cO({$:1});cO.Amex=new cO({$:2});cP.newPojoOpt=function(d8){function d9(d_,d$){return d$==null?null:{$:1,$0:[d_,d$.$0]};}return cP.newPojo(be.choose(function(d_){return d9(d_[0],d_[1]);},d8));};cP.newPojo=function(d8){var d9,d_;function d$(eb,ec){return function(ed){return cP.addProp(eb,ec,ed);};}function ea(eb){}d9={};be.iter((d_=function(eb){return(function(ec){return d$(ec[0],ec[1]);}(eb))(d9);},function(eb){return ea(d_(eb));}),d8);return d9;};cP.addProp=function(d8,d9,d_){d_[d8]=d9;return d_;};bZ.op_EqualsEqualsGreater=function(d8,d9){return[d8,d9==null?null:{$:1,$0:d9.$0}];};cR.JSUnion=function(d8,d9){var d_;function d$(ed){var ee;function ef(eg){return eg!=null&&eg.$==1&&G.Equals(ed,eg.$0);}ee=be.tryFindIndex(function(eg){return ef(eg[0]);},d9);return ee!=null&&ee.$==1?ee.$0:ed.$;}function ea(ed,ee){return K.init(K.length((K.get(d9,ed))[2]),function(ef){return ee["$"+a.String(ef)];});}function eb(ed,ee){var ef,eg,eh;ef=d8==null?{}:new d8();eg=K.get(d9,ed);return(eh=eg[0],eh!=null&&eh.$==1)?eg[0].$0:(ef.$=ed,be.iteri(function(ei,ej){ef["$"+a.String(ei)]=ej;},ee),ef);}function ec(ed,ee){var ef;function eg(eh,ei){return[ed,eh,ei,ef];}ef=ee[2];return be.map(function(eh){return eg(eh[0],eh[1]);},ee[1]);}d_=be.collect(function(ed){return ec(ed[0],ed[1]);},be.indexed(d9));return c_.New$1(function(ed){function ee(ef,eg,eh,ei){var ej,ek,el;function em(en,eo,ep){var eq;function er(es,et){return em(eq,es,new cc({$:1,$0:et,$1:ep}));}return en.$==1?(eq=en.$1,be.collect(function(es){return er(es[0],es[1]);},en.$0.Parse(eo))):[[eo,eb(ef,K.ofList(bY.rev(ep)))]];}return cR.isCorrectMethod(eg,ed.Method)?(ej=c$.startsWith(bY.ofArray(eh),ed.Segments),ej==null?[]:(ek=ej.$0,(el=bY.ofArray(ei),el.$==0?[[cT.New(ek,ed.QueryArgs,ed.FormData,ed.Method,ed.Body),eb(ef,[])]]:em(el,cT.New(ek,ed.QueryArgs,ed.FormData,ed.Method,ed.Body),cc.Empty)))):[];}return be.collect(function(ef){return ee(ef[0],ef[1],ef[2],ef[3]);},d_);},function(ed){var ee,ef,eg,eh,ei,ej;function ek(el,em){return em.Write(el);}ee=d$(ed);ef=K.get(d9,ee);eg=ef[2];eh=K.get(ef[1],0);ei=[cT.Segment(bY.ofArray(eh[1]),eh[0])];return!G.Equals(eg,null)&&eg.length===0?{$:1,$0:ei}:(ej=(((d0.Curried3(K.map2))(ek))(ea(ee,ed)))(eg),K.forall(function(el){return el!=null;},ej)?{$:1,$0:be.append(ei,be.collect(function(el){return el.$0;},ej))}:null);});};cR.isCorrectMethod=function(d8,d9){return d9!=null&&d9.$==1?d8!=null&&d8.$==1?G.Equals(d9.$0,d8.$0):true:!(d8!=null&&d8.$==1);};cR.rString=function(){dv.$cctor();return dv.rString;};cS.Parse=function(d8,d9){function d_(d$,ea){return d$.Segments.$==0?{$:1,$0:ea}:null;}return be.tryPick(function(d$){return d_(d$[0],d$[1]);},d8.Parse(d9));};cS.HashLink=function(d8,d9){return"#"+cS.Link(d8,d9);};cS.Link=function(d8,d9){var d_;d_=cS.Write(d8,d9);return d_==null?"":d_.$0.ToLink();};cS.Write=function(d8,d9){var d_;d_=d8.Write(d9);return d_==null?null:{$:1,$0:cT.Combine(d_.$0)};};cT=cQ.Route=d0.Class({ToLink:function(){return dT.WriteLink(this.Segments,this.QueryArgs);}},null,cT);cT.FromHash=function(d8,d9){var d_,d$;d_=d8.indexOf("#");return d_===-1?cT.get_Empty():(d$=d8.substring(d_+1),d9!=null&&d9.$0?d$===""||d$==="/"?cT.get_Empty():bl.StartsWith(d$,"/")?cT.FromUrl(d$.substring(1),{$:1,$0:true}):cT.Segment$2(d$):cT.FromUrl(d8.substring(d_),{$:1,$0:false}));};cT.Segment=function(d8,d9){var d_;d_=cT.get_Empty();return cT.New(d8,d_.QueryArgs,d_.FormData,d9,d_.Body);};cT.get_Empty=function(){return cT.New(cc.Empty,new b_.New([]),new b_.New([]),null,s.CreateFromValue(null));};cT.FromUrl=function(d8,d9){var d_,d$,ea;d_=(d$=d8.indexOf("?"),d$===-1?[d8,new b_.New([])]:[bl.Substring(d8,0,d$),cT.ParseQuery(d8.substring(d$+1))]);ea=cT.get_Empty();return cT.New(bY.ofArray(bl.SplitChars(d_[0],["/"],d9!=null&&d9.$0?0:1)),d_[1],ea.FormData,ea.Method,ea.Body);};cT.Segment$2=function(d8){var d9;d9=cT.get_Empty();return cT.New(bY.ofArray([d8]),d9.QueryArgs,d9.FormData,d9.Method,d9.Body);};cT.ParseQuery=function(d8){return dw.OfArray(K.ofSeq(K.choose(function(d9){var d_,d$;d_=bl.SplitChars(d9,["="],0);return!G.Equals(d_,null)&&d_.length===2?(d$=K.get(d_,1),{$:1,$0:[K.get(d_,0),d$]}):((function(ea){return function(eb){return ea("wrong format for query argument: "+bC.toSafe(eb));};}(function(ea){d2.log(ea);}))(d9),null);},bl.SplitChars(d8,["&"],0))));};cT.Combine=function(d8){var d9,d_,d$,ea,eb,ec,ed,ee,ef,eg;ed=K.ofSeq(d8);ee=K.length(ed);if(ee===0)return cT.get_Empty();else if(ee===1)return K.get(ed,0);else{d9=null;d_=null;ef=[];d$=new b_.New([]);ea=new b_.New([]);eb=0;eg=K.length(ed);while(eb<eg)(function(){var eh,ei,ej;eh=K.get(ed,eb);ei=eh.Method;ei!=null&&ei.$==1?d9=ei:void 0;ej=eh.Body.f();ej===null?void 0:d_=ej;d$=dw.FoldBack(function(ek,el,em){return em.Add(ek,el);},d$,eh.QueryArgs);ea=dw.FoldBack(function(ek,el,em){return em.Add(ek,el);},ea,eh.FormData);bY.iter(function(ek){ef.push(ek);},eh.Segments);eb=eb+1;}());return cT.New(bY.ofSeq(ef),d$,ea,d9,s.CreateFromValue(d_));}};cT.New=function(d8,d9,d_,d$,ea){return new cT({Segments:d8,QueryArgs:d9,FormData:d_,Method:d$,Body:ea});};cU=k.IdAddress=d0.Class({},null,cU);cV.fromSeq=function(d8){var d9;d9=K.ofSeq(be.delay(function(){return be.collect(function(d_){return[da.New(d_[0],d_[1])];},be.distinctBy(function(d_){return d_[0];},d8));}));K.sortInPlace(d9);return cb.Build(d9,0,d9.length-1);};cW.New=function(d8,d9,d_,d$,ea){return{Node:d8,Left:d9,Right:d_,Height:d$,Count:ea};};cX.ofSeqNonCopying=function(d8){var d9,d_;if(d8 instanceof a.Array)return d8;else if(d8 instanceof cc)return K.ofList(d8);else if(d8===null)return[];else{d9=[];d_=b$.Get(d8);try{while(d_.MoveNext())d9.push(d_.Current());return d9;}finally{if(typeof d_=="object"&&"Dispose"in d_)d_.Dispose();}}};cX.TreeReduce=function(d8,d9,d_){var d$;function ea(eb,ec){var ed,ee;return ec<=0?d8:ec===1&&(eb>=0&&eb<d$)?K.get(d_,eb):(ee=ec/2>>0,d9(ea(eb,ee),ea(eb+ee,ec-ee)));}d$=K.length(d_);return ea(0,d$);};cX.mapInPlace=function(d8,d9){var d_,d$;for(d_=0,d$=d9.length-1;d_<=d$;d_++)d9[d_]=d8(d9[d_]);return d9;};cX.MapTreeReduce=function(d8,d9,d_,d$){var ea;function eb(ec,ed){var ee,ef;return ed<=0?d9:ed===1&&(ec>=0&&ec<ea)?d8(K.get(d$,ec)):(ef=ed/2>>0,d_(eb(ec,ef),eb(ec+ef,ed-ef)));}ea=K.length(d$);return eb(0,ea);};cY.CreateEmbedNode=function(){return{Current:null,Dirty:false};};cY.UpdateEmbedNode=function(d8,d9){d8.Current=d9;d8.Dirty=true;};cY.CreateRunState=function(d8,d9){return dF.New(dG.get_Empty(),cY.CreateElemNode(d8,c3.EmptyAttr(),d9));};cY.PerformAnimatedUpdate=function(d8,d9,d_){var d$;return _do.get_UseAnimations()?(d$=null,cu.Delay(function(){var ea,eb,ec;ea=dG.FindAll(d_);eb=cY.ComputeChangeAnim(d9,ea);ec=cY.ComputeEnterAnim(d9,ea);return cu.Bind(_do.Play(_do.Append(eb,cY.ComputeExitAnim(d9,ea))),function(){return cu.Bind(cY.SyncElemNodesNextFrame(d8,d9),function(){return cu.Bind(_do.Play(ec),function(){d9.PreviousNodes=ea;return cu.Return(null);});});});})):cY.SyncElemNodesNextFrame(d8,d9);};cY.PerformSyncUpdate=function(d8,d9,d_){var d$;d$=dG.FindAll(d_);cY.SyncElemNode(d8,d9.Top);d9.PreviousNodes=d$;};cY.CreateTextNode=function(){return{Text:c4.CreateText(""),Dirty:false,Value:""};};cY.UpdateTextNode=function(d8,d9){d8.Value=d9;d8.Dirty=true;};cY.LinkElement=function(d8,d9){cY.InsertDoc(d8,d9,null);};cY.InsertBeforeDelim=function(d8,d9){var d_,d$;d_=d8.parentNode;d$=self.document.createTextNode("");d_.insertBefore(d$,d8);cY.LinkPrevElement(d8,d9);return d$;};cY.CreateElemNode=function(d8,d9,d_){var d$;cY.LinkElement(d8,d_);d$=c3.Insert(d8,d9);return c7.New(d$,d_,null,d8,bV.Int(),d0.GetOptional(d$.OnAfterRender));};cY.SyncElemNodesNextFrame=function(d8,d9){function d_(d$){a.requestAnimationFrame(function(){cY.SyncElemNode(d8,d9.Top);d$();});}return dp.BatchUpdatesEnabled()?cu.FromContinuations(function(d$,ea,eb){return d_.apply(null,[d$,ea,eb]);}):(cY.SyncElemNode(d8,d9.Top),cu.Return(null));};cY.ComputeExitAnim=function(d8,d9){return _do.Concat(K.map(function(d_){return c3.GetExitAnim(d_.Attr);},dG.ToArray(dG.Except(d9,dG.Filter(function(d_){return c3.HasExitAnim(d_.Attr);},d8.PreviousNodes)))));};cY.ComputeEnterAnim=function(d8,d9){return _do.Concat(K.map(function(d_){return c3.GetEnterAnim(d_.Attr);},dG.ToArray(dG.Except(d8.PreviousNodes,dG.Filter(function(d_){return c3.HasEnterAnim(d_.Attr);},d9)))));};cY.ComputeChangeAnim=function(d8,d9){var d_;function d$(ea){return c3.HasChangeAnim(ea.Attr);}d_=function(ea){return dG.Filter(d$,ea);};return _do.Concat(K.map(function(ea){return c3.GetChangeAnim(ea.Attr);},dG.ToArray(dG.Intersect(d_(d8.PreviousNodes),d_(d9)))));};cY.SyncElemNode=function(d8,d9){!d8?cY.SyncElement(d9):void 0;cY.Sync(d9.Children);cY.AfterRender(d9);};cY.InsertDoc=function(d8,d9,d_){var d$;return d9!=null&&d9.$==1?cY.InsertNode(d8,d9.$0.El,d_):d9!=null&&d9.$==2?(d$=d9.$0,(d$.Dirty=false,cY.InsertDoc(d8,d$.Current,d_))):d9==null?d_:d9!=null&&d9.$==4?cY.InsertNode(d8,d9.$0.Text,d_):d9!=null&&d9.$==5?cY.InsertNode(d8,d9.$0,d_):d9!=null&&d9.$==6?K.foldBack(function(ea,eb){return ea==null||ea.constructor===cr?cY.InsertDoc(d8,ea,eb):cY.InsertNode(d8,ea,eb);},d9.$0.Els,d_):cY.InsertDoc(d8,d9.$0,cY.InsertDoc(d8,d9.$1,d_));};cY.LinkPrevElement=function(d8,d9){cY.InsertDoc(d8.parentNode,d9,d8);};cY.SyncElement=function(d8){function d9(d_){function d$(ea){var eb,ec;return ea!=null&&ea.$==0?d$(ea.$0)||d$(ea.$1):ea!=null&&ea.$==2?(eb=ea.$0,eb.Dirty||d$(eb.Current)):ea!=null&&ea.$==6&&(ec=ea.$0,ec.Dirty||K.exists(d9,ec.Holes));}return d$(d_.Children);}c3.Sync(d8.El,d8.Attr);d9(d8)?cY.DoSyncElement(d8):void 0;};cY.Sync=function(d8){var d9,d_;if(d8!=null&&d8.$==1)cY.SyncElemNode(false,d8.$0);else if(d8!=null&&d8.$==2)cY.Sync(d8.$0.Current);else if(d8==null);else if(d8!=null&&d8.$==5);else if(d8!=null&&d8.$==4){d9=d8.$0;d9.Dirty?(d9.Text.nodeValue=d9.Value,d9.Dirty=false):void 0;}else if(d8!=null&&d8.$==6){d_=d8.$0;K.iter(function(d$){cY.SyncElemNode(false,d$);},d_.Holes);K.iter(function(d$){c3.Sync(d$[0],d$[1]);},d_.Attrs);cY.AfterRender(d_);}else{cY.Sync(d8.$0);cY.Sync(d8.$1);}};cY.AfterRender=function(d8){var d9;d9=d0.GetOptional(d8.Render);d9!=null&&d9.$==1?(d9.$0(d8.El),d0.SetOptional(d8,"Render",null)):void 0;};cY.InsertNode=function(d8,d9,d_){c4.InsertAt(d8,d_,d9);return d9;};cY.DoSyncElement=function(d8){var d9,d_,d$;function ea(eb,ec){var ed,ee;return eb!=null&&eb.$==1?eb.$0.El:eb!=null&&eb.$==2?(ed=eb.$0,ed.Dirty?(ed.Dirty=false,cY.InsertDoc(d9,ed.Current,ec)):ea(ed.Current,ec)):eb==null?ec:eb!=null&&eb.$==4?eb.$0.Text:eb!=null&&eb.$==5?eb.$0:eb!=null&&eb.$==6?(ee=eb.$0,(ee.Dirty?ee.Dirty=false:void 0,K.foldBack(function(ef,eg){return ef==null||ef.constructor===cr?ea(ef,eg):ef;},ee.Els,ec))):ea(eb.$0,ea(eb.$1,ec));}d9=d8.El;dX.Iter((d_=d8.El,function(eb){c4.RemoveNode(d_,eb);}),dX.Except(dX.DocChildren(d8),dX.Children(d8.El,d0.GetOptional(d8.Delimiters))));ea(d8.Children,(d$=d0.GetOptional(d8.Delimiters),d$!=null&&d$.$==1?d$.$0[1]:null));};cZ.New=function(d8,d9){return{k:d8,ct:d9};};c0.$cctor=function(){c0.$cctor=a.ignore;c0.noneCT=c1.New(false,[]);c0.scheduler=new db.New();c0.defCTS=[new dc.New()];c0.Zero=cu.Return();c0.GetCT=function(d8){d8.k({$:0,$0:d8.ct});};};c1.New=function(d8,d9){return{c:d8,r:d9};};c2.extractNodes=function(d8){var d9,d_;function d$(ea,eb,ec,ed){var ee,ef,eg,eh,ei,ej;ee=c2.extractNodes(ec);ef=c2.extractNodes(ed);return(ee.$==0?(eh=ee.$0,!G.Equals(eh,null)&&eh.length===0)?(eg=ef,true):ef.$==0?(ei=ef.$0,!G.Equals(ei,null)&&ei.length===0)?(eg=ee,true):(eg=[ee,ef],false):(eg=[ee,ef],false):ef.$==0?(ej=ef.$0,!G.Equals(ej,null)&&ej.length===0)?(eg=ee,true):(eg=[ee,ef],false):(eg=[ee,ef],false))?eg:{$:1,$0:{$:0,$0:ea,$1:eb,$2:eg[0],$3:eg[1]}};}d9=c2.horizontalSplit(d8);return d9!=null&&d9.$==1?d$(false,d9.$0[2],d9.$0[0],d9.$0[1]):(d_=c2.verticalSplit(d8),d_!=null&&d_.$==1?d$(true,d_.$0[2],d_.$0[0],d_.$0[1]):{$:0,$0:c2.cleanSpaces(d8)});};c2.createLayoutDefinitions=function(d8,d9){var d_,d$,ea,eb,ec,ed,ee,ef,eg,eh;return d9.$==1?(d_=d9.$0.$0,(d$=d9.$0.$1,(ea=c2.createLayoutDefinitions(d8+"_1",d9.$0.$2),(eb=ea[0],(ec=ea[1],(ed=c2.createLayoutDefinitions(d8+"_2",d9.$0.$3),(ee=ed[0],(ef=ed[1],[d8,K.ofSeq(be.delay(function(){return be.append([bl.concat(" ",bY.ofArray([d8,d_?"vertical":"horizontal",a.String(d$),eb,ee]))],be.delay(function(){return be.append(ec,be.delay(function(){return ef;}));}));}))])))))))):(eg=d9.$0,!G.Equals(eg,null)&&eg.length===0)?["___",[]]:(eh=d9.$0,!G.Equals(eh,null)&&eh.length===1)?[K.get(d9.$0,0),[]]:[d8,[d8+" div \"\" "+bl.concat(" ",d9.$0)]];};c2.horizontalSplit=function(d8){var d9,d_,d$,ea,eb;function ec(ed,ee){var ef,eg,eh,ei;ef=p.REGEX$1("^ *--+([ ^v0-9]*)-* *$","",ee);return ef!=null&&ef.$==1?{$:1,$0:[[ed,(eg=(eh=be.tryItem(1,ef.$0),eh==null?null:c2.extractMeasuresO(bl.Replace(bl.Replace(eh.$0,"^",""),"v","-"))),(ei=new df({$:1,$0:5,$1:50,$2:95}),eg==null?ei:eg.$0))],ee.indexOf("-")]}:null;}d9=(d_=be.tryHead(be.sortBy(function(ed){return ed[1];},be.choose(function(ed){return ec(ed[0],ed[1]);},be.indexed(d8)))),d_==null?null:{$:1,$0:d_.$0[0]});return d9==null?null:{$:1,$0:(d$=d9.$0,(ea=d$[0],(eb=d$[1],[bX.array(d8,null,{$:1,$0:ea-1}),bX.array(d8,{$:1,$0:ea+1},null),eb])))};};c2.verticalSplit=function(d8){var d9,d_,d$,ea,eb,ec,ed,ee,ef,eg;function eh(ek,el){var em,en,eo;return(en=p.REGEX$1("^ *\\|+ *$","",el),en!=null&&en.$==1&&(eo=en.$0,!G.Equals(eo,null)&&eo.length===1))?{$:1,$0:[ek,el.indexOf("|")]}:null;}function ei(ek){return G.Equals(null,ek);}function ej(ek){return G.Equals(null,ek);}d9=c2.transpose(d8);d_=(d$=(ea=be.tryHead(be.sortBy(function(ek){return ek[1];},be.choose(function(ek){return eh(ek[0],ek[1]);},be.indexed(d9)))),ea==null?null:{$:1,$0:ea.$0[0]}),d$==null?null:{$:1,$0:(eb=d$.$0,[c2.transpose(bX.array(d9,null,{$:1,$0:eb-1})),c2.transpose(bX.array(d9,{$:1,$0:eb+1},null))])});return d_==null?null:{$:1,$0:(ec=d_.$0,(ed=ec[0],(ee=ec[1],[K.filter(function(ek){return ei(c2.extractMeasuresO(ek));},ed),K.filter(function(ek){return ej(c2.extractMeasuresO(ek));},ee),(ef=be.tryHead(be.delay(function(){return be.append(be.choose(c2.extractMeasuresO,ed),be.delay(function(){return be.map(function(ek){return ek.$==0?ek.$1?new df({$:0,$0:ek.$0,$1:false}):ek:ek;},be.choose(c2.extractMeasuresO,ee));}));})),(eg=new df({$:1,$0:5,$1:50,$2:95}),ef==null?eg:ef.$0))])))};};c2.cleanSpaces=function(d8){return K.filter(function(d9){var d_;return!(d_=(cd.Int())(d9),d_!=null&&d_.$==1);},bl.SplitStrings(bl.concat(" ",d8),[" "],1));};c2.extractMeasuresO=function(d8){var d9,d_,d$,ea,eb,ec,ed;d9=bl.SplitChars(d8,[" "],1);return!G.Equals(d9,null)&&d9.length===1&&(d$=(cd.Int())(K.get(d9,0)),d$!=null&&d$.$==1&&(d_=d$.$0,true))?{$:1,$0:new df({$:0,$0:d1.abs(d_),$1:d_>=0})}:!G.Equals(d9,null)&&d9.length===3&&(eb=(cd.Int())(K.get(d9,0)),eb!=null&&eb.$==1&&(ec=(cd.Int())(K.get(d9,1)),ec!=null&&ec.$==1&&(ed=(cd.Int())(K.get(d9,2)),ed!=null&&ed.$==1&&(ea=[ed.$0,eb.$0,ec.$0],true))))?{$:1,$0:new df({$:1,$0:ea[1],$1:ea[2],$2:ea[0]})}:null;};c2.transpose=function(d8){var d9;d9=be.max(be.map(function(d_){return d_.length;},d8));return K.ofSeq(be.delay(function(){return be.map(function(d_){return K.ofSeq(be.delay(function(){return be.map(function(d$){return d$.length>d_?d$[d_]:" ";},d8);})).join("");},B.range(0,d9-1));}));};c3.Static=function(d8){return new cF({$:3,$0:d8});};c3.Dynamic=function(d8,d9){return new cF({$:1,$0:new dA.New(d8,d9)});};c3.AppendTree=function(d8,d9){var d_;return d8===null?d9:d9===null?d8:(d_=new cF({$:2,$0:d8,$1:d9}),(c3.SetFlags(d_,c3.Flags(d8)|c3.Flags(d9)),d_));};c3.EmptyAttr=function(){dP.$cctor();return dP.EmptyAttr;};c3.Insert=function(d8,d9){var d_,d$,ea;function eb(ec){if(!(ec===null))if(ec!=null&&ec.$==1)d_.push(ec.$0);else if(ec!=null&&ec.$==2){eb(ec.$0);eb(ec.$1);}else if(ec!=null&&ec.$==3)ec.$0(d8);else if(ec!=null&&ec.$==4)d$.push(ec.$0);}d_=[];d$=[];eb(d9);ea=d_.slice(0);return dt.New(d8,c3.Flags(d9),ea,d$.length===0?null:{$:1,$0:function(ec){be.iter(function(ed){ed(ec);},d$);}});};c3.Updates=function(d8){return cX.MapTreeReduce(function(d9){return d9.NChanged();},i.Const(),i.Map2Unit,d8.DynNodes);};c3.Empty=function(d8){return dt.New(d8,0,[],null);};c3.SetFlags=function(d8,d9){d8.flags=d9;};c3.Flags=function(d8){return d8!==null&&d8.hasOwnProperty("flags")?d8.flags:0;};c3.HasExitAnim=function(d8){var d9;d9=2;return(d8.DynFlags&d9)===d9;};c3.GetExitAnim=function(d8){return c3.GetAnim(d8,function(d9,d_){return d9.NGetExitAnim(d_);});};c3.HasEnterAnim=function(d8){var d9;d9=1;return(d8.DynFlags&d9)===d9;};c3.GetEnterAnim=function(d8){return c3.GetAnim(d8,function(d9,d_){return d9.NGetEnterAnim(d_);});};c3.HasChangeAnim=function(d8){var d9;d9=4;return(d8.DynFlags&d9)===d9;};c3.GetChangeAnim=function(d8){return c3.GetAnim(d8,function(d9,d_){return d9.NGetChangeAnim(d_);});};c3.GetAnim=function(d8,d9){return _do.Concat(K.map(function(d_){return d9(d_,d8.DynElem);},d8.DynNodes));};c3.Sync=function(d8,d9){K.iter(function(d_){d_.NSync(d8);},d9.DynNodes);};c4.SetStyle=function(d8,d9,d_){c4.SetProperty(d8.style,d9,d_);};c4.ChildrenArray=function(d8){var d9,d_,d$;d9=[];for(d_=0,d$=d8.childNodes.length-1;d_<=d$;d_++)d9.push(d8.childNodes[d_]);return d9;};c4.SetAttr=function(d8,d9,d_){d8.setAttribute(d9,d_);};c4.SetProperty=function(d8,d9,d_){return d8.setProperty(d9,d_);};c4.CreateElement=function(d8){return c4.Doc().createElement(d8);};c4.IterSelector=function(d8,d9,d_){var d$,ea,eb;d$=d8.querySelectorAll(d9);for(ea=0,eb=d$.length-1;ea<=eb;ea++)d_(d$[ea]);};c4.CreateText=function(d8){return c4.Doc().createTextNode(d8);};c4.Doc=function(){dO.$cctor();return dO.Doc;};c4.RemoveAttr=function(d8,d9){d8.removeAttribute(d9);};c4.RemoveClass=function(d8,d9){var d_;c4.setClass(d8,(d_=c4.clsRE(d9),c4.getClass(d8).replace(d_,function(d$,ea,eb){return ea===""||eb===""?"":" ";})));};c4.AddClass=function(d8,d9){var d_;d_=c4.getClass(d8);d_===""?c4.setClass(d8,d9):!c4.clsRE(d9).test(d_)?c4.setClass(d8,d_+" "+d9):void 0;};c4.setClass=function(d8,d9){if(d8 instanceof a.SVGElement)d8.setAttribute("class",d9);else d8.className=d9;};c4.getClass=function(d8){return d8 instanceof a.SVGElement?d8.getAttribute("class"):d8.className;};c4.clsRE=function(d8){return new a.RegExp("(\\s+|^)"+d8+"(?:\\s+"+d8+")*(\\s+|$)","g");};c4.InsertAt=function(d8,d9,d_){var d$;if(!(d_.parentNode===d8&&d9===(d$=d_.nextSibling,G.Equals(d$,null)?null:d$)))d8.insertBefore(d_,d9);};c4.RemoveNode=function(d8,d9){if(d9.parentNode===d8)d8.removeChild(d9);};c5.TryParse=function(d8){var d9;d9=d4.parse(d8);return a.isNaN(d9)?null:{$:1,$0:d9};};_5.TryParse=function(d8,d9,d_,d$){var ea,eb;ea=+d8;eb=ea===ea-ea%1&&ea>=d9&&ea<=d_;eb?d$.set(ea):void 0;return eb;};_5.TryParseBool=function(d8,d9){var d_;d_=d8.toLowerCase();return d_==="true"?(d9.set(true),true):d_==="false"&&(d9.set(false),true);};c6=cE.WcSplitterT=d0.Class({connectedCallback:function(){var d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el;function em(eu){var ev,ew,ex,ey;ev=ed?["padding-left","padding-right","grid-column-gap"]:["padding-top","padding-bottom","grid-row-gap"];ew=a.parseFloat("0"+d6(eu.parentElement.parentElement).css(ev[0]));ex=a.parseFloat("0"+d6(eu.parentElement.parentElement).css(ev[1]));eg.Set(a.parseFloat("0"+d6(eu.parentElement.parentElement).css(ev[2])));ef[0]=ew+ex;ey=d8.getBoundingClientRect();return ed?ec?[ey.width,ey.height]:[-ey.width,ey.height]:ec?[ey.height,ey.width]:[-ey.height,ey.width];}function en(eu){return ed?eu.clientX:eu.clientY;}function eo(eu){var ev,ew;ev=(en(eu)-ej[0])*100/ee[0][0]+ei[0];eb.Set((ew=G.Compare(d$,ev)===1?d$:ev,G.Compare(ea,ew)===-1?ea:ew));}function ep(){if(eh[0]){eh[0]=false;self.removeEventListener("mousemove",eo,false);self.removeEventListener("mouseup",ep,false);}}function eq(eu){var ev,ew;if(!eh[0]){eh[0]=true;ei[0]=eb.Get();ej[0]=en(eu);ee[0]=(ev=(ew=ek[0],ew==null?null:{$:1,$0:em(ew.$0)}),ev==null?[100,500]:ev.$0);self.addEventListener("mousemove",eo,false);self.addEventListener("mouseup",ep,false);eu.preventDefault();}}function er(eu,ev,ew,ex){return[(eu-ev-ew)*ex/100,(eu-ev-ew)*(100-ex)/100];}function es(eu,ev){return(((((d0.Curried(function(ew,ex,ey,ez,eA){return ew(" "+ex.toFixed(2)+"px "+ey.toFixed(2)+"px ; "+bC.toSafe(ez)+" : "+eA.toFixed(2)+"px; ");},5))(a.id))(eu))(ev))(ed?"height":"width"))(ee[0][1]);}function et(){var eu;eu=ek[0];eu==null?void 0:ee[0]=em(eu.$0);eb.Set(eb.Get());}if(!this.added){d8=this;d9=d8.attachShadow({mode:"open"});d_=self.document.createElement("div");d$=d8.hasAttribute("min")?a.parseFloat(d8.getAttribute("min")):4;ea=d8.hasAttribute("max")?a.parseFloat(d8.getAttribute("max")):96;eb=h.Create$1(d8.hasAttribute("value")?a.parseFloat(d8.getAttribute("value")):50);ec=!d8.hasAttribute("second");ed=d8.hasAttribute("vertical");ee=[[0,0]];ef=[0];eg=h.Create$1(0);eh=[false];ei=[0];ej=[0];ek=[null];el=(((((ed?cE.layoutVertical():cE.layoutHorizontal())(i.Map(function(eu){var ev;ev=er(ee[0][0],eg.Get(),ef[0],eu);return es.apply(null,ev);},eb.get_View())))(function(){dl.addResizeObserver(et,d8);et();}))(function(eu){ek[0]={$:1,$0:eu};et();}))(function(eu){eq(eu);}))(i.Map(function(eu){return function(ev){return eu(bC.prettyPrint(ev)+"px");};}(a.id),eg.get_View()));cJ.LoadLocalTemplates("");W.Run(d_,el);d9.appendChild(d_.firstChild);this.added=true;}}},f,c6);c6.Constructor=function(){var d8,d9;d8=(d9=d5.construct(self.HTMLElement,[],this.__proto__.constructor),d9);self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New.call(d8);return d8;};c6.New=d0.Ctor(function(){f.New.call(this);this.added=false;(function(d8){return d8("WcSplitterT initializer");}(function(d8){d2.log(d8);}));},c6);c7=g.DocElemNode=d0.Class({Equals:function(d8){return this.ElKey===d8.ElKey;},GetHashCode:function(){return this.ElKey;}},null,c7);c7.New=function(d8,d9,d_,d$,ea,eb){var ec;return new c7((ec={Attr:d8,Children:d9,El:d$,ElKey:ea},(d0.SetOptional(ec,"Delimiters",d_),d0.SetOptional(ec,"Render",eb),ec)));};c9.$cctor=function(){c9.$cctor=a.ignore;c9.counter=0;};c_.New$1=function(d8,d9){return{Parse:d8,Write:d9};};c$.startsWith=function(d8,d9){var d_;switch(d8.$==1?d9.$==1?G.Equals(d8.$0,d9.$0)?(d_=[d9.$0,d9.$1,d8.$0,d8.$1],1):2:2:0){case 0:return{$:1,$0:d9};case 1:return c$.startsWith(d_[3],d_[1]);case 2:return null;}};da=bi.Pair=d0.Class({Equals:function(d8){return G.Equals(this.Key,d8.Key);},GetHashCode:function(){return G.Hash(this.Key);},CompareTo0:function(d8){return G.Compare(this.Key,d8.Key);}},null,da);da.New=function(d8,d9){return new da({Key:d8,Value:d9});};db=cu.Scheduler=d0.Class({Fork:function(d8){var d9;d9=this;this.robin.push(d8);this.idle?(this.idle=false,a.setTimeout(function(){d9.tick();},0)):void 0;},tick:function(){var d8,d9,d_;d9=this;d_=d4.now();d8=true;while(d8)if(this.robin.length===0){this.idle=true;d8=false;}else{(this.robin.shift())();d4.now()-d_>40?(a.setTimeout(function(){d9.tick();},0),d8=false):void 0;}}},f,db);db.New=d0.Ctor(function(){f.New.call(this);this.idle=true;this.robin=[];},db);dc=e.CancellationTokenSource=d0.Class({Cancel$1:function(){var d8;if(!this.c){this.c=true;d8=K.choose(function(d9){try{d9();return null;}catch(d_){return{$:1,$0:d_};}},this.r);if(K.length(d8)>0)throw new dB.New$3(d8);else void 0;}}},f,dc);dc.New=d0.Ctor(function(){f.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},dc);de.DecodeArray=function(d8){return de.EncodeArray(d8);};de.EncodeArray=d0.Curried3(function(d8,d9,d_){return K.map(d8(),d_);});de.DecodeTuple=function(d8){return de.EncodeTuple(d8);};de.Id=d0.Curried3(function(d8,d9,d_){return d_;});de.EncodeTuple=d0.Curried3(function(d8,d9,d_){return K.map2(function(d$,ea){return(d$(null))(ea);},d8,d_);});de.DecodeUnion=function(d8,d9,d_){return function(){return function(d$){var ea,eb,ee,ef,eg;function ec(eh,ei){return eh===eb;}function ed(eh,ei,ej,ek){var el;if(eh===null){el=(ej(null))(d$);ei?delete el[d9]:void 0;ee.$0=el;}else if(ek===0)ee[eh]=(ej(null))(d$[ei]);else if(ek===1)ee[eh]=d$.hasOwnProperty(ei)?{$:1,$0:(ej(null))(d$[ei])}:null;else B.FailWith("Invalid field option kind");}if(typeof d$==="object"&&d$!=null){ee=d8===void 0?{}:new d8();if(G.Equals(typeof d9,"string"))ea=(eb=d$[d9],K.findIndex(function(eh){return ec(eh[0],eh[1]);},d_));else{ef=[void 0];for(var eh in d9)if(function(ei){return d$.hasOwnProperty(ei)&&(ef[0]=d9[ei],true);}(eh))break;ea=ef[0];}ee.$=ea;K.iter(function(ei){return ed(ei[0],ei[1],ei[2],ei[3]);},(K.get(d_,ea))[1]);return ee;}else return d$;};};};de.EncodeUnion=function(d8,d9,d_){return function(){return function(d$){var ea,eb;function ec(ed,ee,ef,eg){var eh,ei,ej;if(ed===null){eh=(ef(null))(d$.$0);for(var ek in eh)if(function(el){ea[el]=eh[el];return false;}(ek))break;}else if(eg===0)ea[ee]=(ef(null))(d$[ed]);else if(eg===1){ej=d$[ed];ej==null?void 0:ea[ee]=(ef(null))(ej.$0);}else B.FailWith("Invalid field option kind");}return typeof d$==="object"&&d$!=null?(ea={},(eb=K.get(d_,d$.$),(G.Equals(typeof d9,"string")?ea[d9]=eb[0]:void 0,K.iter(function(ed){return ec(ed[0],ed[1],ed[2],ed[3]);},eb[1]),ea))):d$;};};};de.DecodeRecord=function(d8,d9){return function(){return function(d_){var d$;function ea(eb,ec,ed){if(ed===0){if(d_.hasOwnProperty(eb))d$[eb]=(ec(null))(d_[eb]);else B.FailWith("Missing mandatory field: "+eb);}else if(ed===1)d$[eb]=d_.hasOwnProperty(eb)?{$:1,$0:(ec(null))(d_[eb])}:null;else if(ed===2){if(d_.hasOwnProperty(eb))d$[eb]=(ec(null))(d_[eb]);}else if(ed===3){if(d_[eb]===void 0)d$[eb]=(ec(null))(d_[eb]);}else B.FailWith("Invalid field option kind");}d$=d8===void 0?{}:new d8();K.iter(function(eb){return ea(eb[0],eb[1],eb[2]);},d9);return d$;};};};de.DecodeDateTime=d0.Curried3(function(d8,d9,d_){return d_.hasOwnProperty("d")?(new d4(d_.d)).getTime():(new d4(d_)).getTime();});de.EncodeRecord=function(d8,d9){return function(){return function(d_){var d$;function ea(eb,ec,ed){var ee;if(ed===0)d$[eb]=(ec(null))(d_[eb]);else if(ed===1){ee=d_[eb];ee==null?void 0:d$[eb]=(ec(null))(ee.$0);}else if(ed===2){if(d_.hasOwnProperty(eb))d$[eb]=(ec(null))(d_[eb]);}else if(ed===3){if(d_[eb]===void 0)d$[eb]=(ec(null))(d_[eb]);}else B.FailWith("Invalid field option kind");}d$={};K.iter(function(eb){return ea(eb[0],eb[1],eb[2]);},d9);return d$;};};};de.EncodeDateTime=d0.Curried3(function(d8,d9,d_){return(new d4(d_)).toISOString();});df=H.Measures=d0.Class({toString:function(){return this.$==1?((((d0.Curried(function(d8,d9,d_,d$){return d8(a.String(d9)+"-"+a.String(d_)+"-"+a.String(d$));},4))(a.id))(B.toInt(this.$0)))(B.toInt(this.$1)))(B.toInt(this.$2)):a.String(B.toInt(this.$1?this.$0:-this.$0));}},null,df);dh=dg.Hoverable=d0.Class({Content:function(d8){return d8.on("mouseenter",function(){return c4.AddClass(d8.elt,"hovering");}).on("mouseleave",function(){return c4.RemoveClass(d8.elt,"hovering");});}},null,dh);dh.New$1=function(){return dh.New(h.Create$1(false));};dh.New=function(d8){return new dh({hover:d8});};di.InMemory=function(d8){return new dC.New(d8);};dl.addResizeObserver=function(d8,d9){var d_,d$,ea,eb;try{d_=!(!a.ResizeObserver);}catch(ec){d_=false;}if(d_){d$=new a.ResizeObserver(d8);dl.set_observers(new cc({$:1,$0:d$,$1:dl.observers()}));d$.observe(d9);}else{ea=dl.dimsChanged(d9);cu.Start((eb=null,cu.Delay(function(){return cu.While(function(){return d9.isConnected;},cu.Delay(function(){return cu.Bind(cu.Sleep(110),function(){return ea()?(d8(),cu.Zero()):cu.Zero();});}));})),null);}};dl.set_observers=function(d8){bM.$cctor();bM.observers=d8;};dl.observers=function(){bM.$cctor();return bM.observers;};dl.dimsChanged=function(d8){var d9;d9=[d8.getBoundingClientRect()];return function(){var d_;d_=d8.getBoundingClientRect();return G.Equals(dl.domRect2Tuple(d9[0]),dl.domRect2Tuple(d_))?false:(d9[0]=d_,true);};};dl.domRect2Tuple=function(d8){return[d8.top,d8.left,d8.width,d8.height];};dm.convertTextNode=function(d8){var d9,d_,d$,ea,eb,ec;d9=null;d_=0;ea=d8.textContent;eb=new a.RegExp(cJ.TextHoleRE(),"g");while(d9=eb.exec(ea),d9!==null){d8.parentNode.insertBefore(self.document.createTextNode(bX.string(ea,{$:1,$0:d_},{$:1,$0:eb.lastIndex-K.get(d9,0).length-1})),d8);d_=eb.lastIndex;ec=self.document.createElement("span");ec.setAttribute("ws-replace",K.get(d9,1).toLowerCase());d8.parentNode.insertBefore(ec,d8);}eb.lastIndex=0;d8.textContent=bX.string(ea,{$:1,$0:d_},null);};dm.failNotLoaded=function(d8){d2.warn("Instantiating non-loaded template",d8);};dm.fillTextHole=function(d8,d9,d_){var d$;d$=d8.querySelector("[ws-replace]");return G.Equals(d$,null)?(d2.warn("Filling non-existent text hole",d_),null):(d$.parentNode.replaceChild(new a.Text(d9),d$),{$:1,$0:d$.getAttribute("ws-replace")});};dm.removeHolesExcept=function(d8,d9){function d_(d$){c4.IterSelector(d8,"["+d$+"]",function(ea){if(!d9.Contains(ea.getAttribute(d$)))ea.removeAttribute(d$);});}d_("ws-attr");d_("ws-onafterrender");d_("ws-var");c4.IterSelector(d8,"[ws-hole]",function(d$){if(!d9.Contains(d$.getAttribute("ws-hole"))){d$.removeAttribute("ws-hole");while(d$.hasChildNodes())d$.removeChild(d$.lastChild);}});c4.IterSelector(d8,"[ws-replace]",function(d$){if(!d9.Contains(d$.getAttribute("ws-replace")))d$.parentNode.removeChild(d$);});c4.IterSelector(d8,"[ws-on]",function(d$){d$.setAttribute("ws-on",bl.concat(" ",K.filter(function(ea){return d9.Contains(K.get(bl.SplitChars(ea,[":"],1),1));},bl.SplitChars(d$.getAttribute("ws-on"),[" "],1))));});c4.IterSelector(d8,"[ws-attr-holes]",function(d$){var ea,eb,ec,ed,ee;ea=bl.SplitChars(d$.getAttribute("ws-attr-holes"),[" "],1);for(eb=0,ec=ea.length-1;eb<=ec;eb++){ed=K.get(ea,eb);d$.setAttribute(ed,(ee=new a.RegExp(cJ.TextHoleRE(),"g"),d$.getAttribute(ed).replace(ee,function(ef,eg){return d9.Contains(eg)?ef:"";})));}});};dm.fillInstanceAttrs=function(d8,d9){var d_,d$,ea,eb,ec;dm.convertAttrs(d9);d_=d9.nodeName.toLowerCase();d$=d8.querySelector("[ws-attr="+d_+"]");if(G.Equals(d$,null))d2.warn("Filling non-existent attr hole",d_);else{d$.removeAttribute("ws-attr");for(ea=0,eb=d9.attributes.length-1;ea<=eb;ea++){ec=d9.attributes.item(ea);ec.name==="class"&&d$.hasAttribute("class")?d$.setAttribute("class",d$.getAttribute("class")+" "+ec.nodeValue):d$.setAttribute(ec.name,ec.nodeValue);}}};dm.mapHoles=function(d8,d9){function d_(d$){c4.IterSelector(d8,"["+d$+"]",function(ea){var eb,ec;eb=(ec=null,[d9.TryGetValue(ea.getAttribute(d$).toLowerCase(),{get:function(){return ec;},set:function(ed){ec=ed;}}),ec]);eb[0]?ea.setAttribute(d$,eb[1]):void 0;});}d_("ws-hole");d_("ws-replace");d_("ws-attr");d_("ws-onafterrender");d_("ws-var");c4.IterSelector(d8,"[ws-on]",function(d$){d$.setAttribute("ws-on",bl.concat(" ",K.map(function(ea){var eb,ec,ed;eb=bl.SplitChars(ea,[":"],1);ec=(ed=null,[d9.TryGetValue(K.get(eb,1),{get:function(){return ed;},set:function(ee){ed=ee;}}),ed]);return ec[0]?K.get(eb,0)+":"+ec[1]:ea;},bl.SplitChars(d$.getAttribute("ws-on"),[" "],1))));});c4.IterSelector(d8,"[ws-attr-holes]",function(d$){var ea,eb,ec;ea=bl.SplitChars(d$.getAttribute("ws-attr-holes"),[" "],1);for(eb=0,ec=ea.length-1;eb<=ec;eb++)(function(){var ed;function ee(ef,eg){var eh;eh=B.KeyValue(eg);return ef.replace(new a.RegExp("\\${"+eh[0]+"}","ig"),"${"+eh[1]+"}");}ed=K.get(ea,eb);return d$.setAttribute(ed,(((d0.Curried3(be.fold))(ee))(d$.getAttribute(ed)))(d9));}());});};dm.fill=function(d8,d9,d_){while(true)if(d8.hasChildNodes())d_=d9.insertBefore(d8.lastChild,d_);else return null;};dm.convertAttrs=function(d8){var d_,d$,ea,eb,ec,ed,ee,ef;function d9(eg){var eh;eh=d8.getAttribute(eg);eh===null?void 0:d8.setAttribute(eg,eh.toLowerCase());}d_=d8.attributes;d$=[];ea=[];eb=[];for(ec=0,ed=d_.length-1;ec<=ed;ec++){ee=d_.item(ec);bl.StartsWith(ee.nodeName,"ws-on")&&ee.nodeName!=="ws-onafterrender"&&ee.nodeName!=="ws-on"?(d$.push(ee.nodeName),ea.push(bX.string(ee.nodeName,{$:1,$0:"ws-on".length},null)+":"+ee.nodeValue.toLowerCase())):!bl.StartsWith(ee.nodeName,"ws-")&&(new a.RegExp(cJ.TextHoleRE())).test(ee.nodeValue)?(ee.nodeValue=(ef=new a.RegExp(cJ.TextHoleRE(),"g"),ee.nodeValue.replace(ef,function(eg,eh){return"${"+eh.toLowerCase()+"}";})),eb.push(ee.nodeName)):void 0;}!(ea.length==0)?d8.setAttribute("ws-on",bl.concat(" ",ea)):void 0;!(eb.length==0)?d8.setAttribute("ws-attr-holes",bl.concat(" ",eb)):void 0;d9("ws-hole");d9("ws-replace");d9("ws-attr");d9("ws-onafterrender");d9("ws-var");K.iter(function(eg){d8.removeAttribute(eg);},d$);};dn=g.Elt=d0.Class({on:function(d8,d9){var d_;d_=this;this.elt.addEventListener(d8,function(d$){return d9(d_.elt,d$);},false);return this;}},W,dn);dn.TreeNode=function(d8,d9){var d_,d$;function ea(eb){return eb[1];}d_=dD.Create(d9);return new dn.New$1({$:6,$0:d8},i.Map2Unit((d$=K.map(function(eb){return c3.Updates(ea(eb));},d8.Attrs),cX.TreeReduce(i.Const(),i.Map2Unit,d$)),d_.v),K.get(d8.Els,0),d_);};dn.New=function(d8,d9,d_){var d$,ea;d$=cY.CreateElemNode(d8,d9,d_.docNode);ea=dD.Create(d_.updates);return new dn.New$1({$:1,$0:d$},i.Map2Unit(c3.Updates(d$.Attr),ea.v),d8,ea);};dn.New$1=d0.Ctor(function(d8,d9,d_,d$){W.New.call(this,d8,d9);this.docNode$1=d8;this.updates$1=d9;this.elt=d_;this.rvUpdates=d$;},dn);_do.get_UseAnimations=function(){return dH.UseAnimations();};_do.Play=function(d8){var d9;d9=null;return cu.Delay(function(){return cu.Bind(_do.Run(a.ignore,dH.Actions(d8)),function(){dH.Finalize(d8);return cu.Return(null);});});};_do.Append=function(d8,d9){return{$:0,$0:dS.Append(d8.$0,d9.$0)};};_do.Run=function(d8,d9){var d_;function d$(ea){function eb(ec,ed){var ee;ee=ed-ec;d9.Compute(ee);d8();return ee<=d_?void a.requestAnimationFrame(function(ef){eb(ec,ef);}):ea();}a.requestAnimationFrame(function(ec){eb(ec,ec);});}d_=d9.Duration;return d_===0?cu.Zero():cu.FromContinuations(function(ea,eb,ec){return d$.apply(null,[ea,eb,ec]);});};_do.Concat=function(d8){return{$:0,$0:dS.Concat(be.map(dH.List,d8))};};_do.get_Empty=function(){return{$:0,$0:dS.Empty()};};dp.BatchUpdatesEnabled=function(){dI.$cctor();return dI.BatchUpdatesEnabled;};dq.StartProcessor=function(d8){var d9;function d_(){var d$;d$=null;return cu.Delay(function(){return cu.Bind(d8,function(){var ea;ea=d9[0];return ea===1?(d9[0]=0,cu.Zero()):ea===2?(d9[0]=1,d_()):cu.Zero();});});}d9=[0];return function(){var d$;d$=d9[0];d$===0?(d9[0]=1,cu.Start(d_(),null)):d$===1?d9[0]=2:void 0;};};dr.$cctor=function(){dr.$cctor=a.ignore;dr.LoadedTemplates=new bO.New$5();dr.LocalTemplatesLoaded=false;dr.TextHoleRE="\\${([^}]+)}";};dt.New=function(d8,d9,d_,d$){var ea;ea={DynElem:d8,DynFlags:d9,DynNodes:d_};d0.SetOptional(ea,"OnAfterRender",d$);return ea;};du.concat=function(d8){var d9,d_;d9=[];for(var d$ in d8)d9.push.apply(d9,d8[d$]);return d9;};bf["String.get_toUnderscore$1"]=function(d8,d9){return K.ofSeq(be.collect(a.id,be.mapi(function(d_,d$){return d_>0&&dK.IsUpper(d$)?bY.ofArray(["_",d$]):bY.ofArray([d$]);},d8))).join("");};dv.$cctor=function(){dv.$cctor=a.ignore;function d8(d9){var d_,d$;d_=(d$=0,[_5.TryParseInt32(d9,{get:function(){return d$;},set:function(ea){d$=ea;}}),d$]);return d_[0]?{$:1,$0:d_[1]}:null;}dv.Empty=c_.New$1(function(){return[];},function(){return null;});dv.rRoot=c_.New(function(d9){return[d9];},[]);dv.rString=c_.New$1(function(d9){var d_,d$;d_=d9.Segments;return d_.$==1?(d$=dL.read(d_.$0),d$!=null&&d$.$==1?[[cT.New(d_.$1,d9.QueryArgs,d9.FormData,d9.Method,d9.Body),d$.$0]]:[]):[];},function(d9){return{$:1,$0:[cT.Segment$2(d9==null?"null":dL.write(d9))]};});dv.rChar=c_.New$1(function(d9){var d_,d$,ea;d_=d9.Segments;return d_.$==1?(d$=dL.read(d_.$0),d$!=null&&d$.$==1&&(d$.$0.length===1&&(ea=d$.$0,true))?[[cT.New(d_.$1,d9.QueryArgs,d9.FormData,d9.Method,d9.Body),dK.Parse(ea)]]:[]):[];},function(d9){return{$:1,$0:[cT.Segment$2(d9)]};});dv.rGuid=c_.New$1(function(d9){var d_,d$;d_=d9.Segments;return d_.$==1?(d$=null,bx.TryParse(d_.$0,{get:function(){return d$;},set:function(ea){d$=ea;}})?[[cT.New(d_.$1,d9.QueryArgs,d9.FormData,d9.Method,d9.Body),d$]]:[]):[];},function(d9){return{$:1,$0:[cT.Segment$2(a.String(d9))]};});dv.rInt=c_.New$1(function(d9){var d_,d$;d_=d9.Segments;return d_.$==1?(d$=0,_5.TryParseInt32(d_.$0,{get:function(){return d$;},set:function(ea){d$=ea;}})?[[cT.New(d_.$1,d9.QueryArgs,d9.FormData,d9.Method,d9.Body),d$]]:[]):[];},function(d9){return{$:1,$0:[cT.Segment$2(a.String(d9))]};});dv.rDouble=c_.New$1(function(d9){var d_,d$,ea;d_=d9.Segments;return d_.$==1?(d$=0,(ea=a.Number(d_.$0),a.isNaN(ea)?false:(d$=ea,true))?[[cT.New(d_.$1,d9.QueryArgs,d9.FormData,d9.Method,d9.Body),d$]]:[]):[];},function(d9){return{$:1,$0:[cT.Segment$2(a.String(d9))]};});dv.rSByte=c_.New$1(function(d9){var d_,d$;d_=d9.Segments;return d_.$==1?(d$=0,_5.TryParseSByte(d_.$0,{get:function(){return d$;},set:function(ea){d$=ea;}})?[[cT.New(d_.$1,d9.QueryArgs,d9.FormData,d9.Method,d9.Body),d$]]:[]):[];},function(d9){return{$:1,$0:[cT.Segment$2(a.String(d9))]};});dv.rByte=c_.New$1(function(d9){var d_,d$;d_=d9.Segments;return d_.$==1?(d$=0,_5.TryParseByte(d_.$0,{get:function(){return d$;},set:function(ea){d$=ea;}})?[[cT.New(d_.$1,d9.QueryArgs,d9.FormData,d9.Method,d9.Body),d$]]:[]):[];},function(d9){return{$:1,$0:[cT.Segment$2(a.String(d9))]};});dv.rInt16=c_.New$1(function(d9){var d_,d$;d_=d9.Segments;return d_.$==1?(d$=0,_5.TryParseInt16(d_.$0,{get:function(){return d$;},set:function(ea){d$=ea;}})?[[cT.New(d_.$1,d9.QueryArgs,d9.FormData,d9.Method,d9.Body),d$]]:[]):[];},function(d9){return{$:1,$0:[cT.Segment$2(a.String(d9))]};});dv.rUInt16=c_.New$1(function(d9){var d_,d$;d_=d9.Segments;return d_.$==1?(d$=0,_5.TryParseUInt16(d_.$0,{get:function(){return d$;},set:function(ea){d$=ea;}})?[[cT.New(d_.$1,d9.QueryArgs,d9.FormData,d9.Method,d9.Body),d$]]:[]):[];},function(d9){return{$:1,$0:[cT.Segment$2(a.String(d9))]};});dv.rUInt=c_.New$1(function(d9){var d_,d$;d_=d9.Segments;return d_.$==1?(d$=0,_5.TryParseUInt32(d_.$0,{get:function(){return d$;},set:function(ea){d$=ea;}})?[[cT.New(d_.$1,d9.QueryArgs,d9.FormData,d9.Method,d9.Body),d$]]:[]):[];},function(d9){return{$:1,$0:[cT.Segment$2(a.String(d9))]};});dv.rInt64=c_.New$1(function(d9){var d_,d$;d_=d9.Segments;return d_.$==1?(d$=0,_5.TryParseInt64(d_.$0,{get:function(){return d$;},set:function(ea){d$=ea;}})?[[cT.New(d_.$1,d9.QueryArgs,d9.FormData,d9.Method,d9.Body),d$]]:[]):[];},function(d9){return{$:1,$0:[cT.Segment$2(a.String(d9))]};});dv.rUInt64=c_.New$1(function(d9){var d_,d$;d_=d9.Segments;return d_.$==1?(d$=0,_5.TryParseUInt64(d_.$0,{get:function(){return d$;},set:function(ea){d$=ea;}})?[[cT.New(d_.$1,d9.QueryArgs,d9.FormData,d9.Method,d9.Body),d$]]:[]):[];},function(d9){return{$:1,$0:[cT.Segment$2(a.String(d9))]};});dv.rSingle=c_.New$1(function(d9){var d_,d$,ea;d_=d9.Segments;return d_.$==1?(d$=0,(ea=a.Number(d_.$0),a.isNaN(ea)?false:(d$=ea,true))?[[cT.New(d_.$1,d9.QueryArgs,d9.FormData,d9.Method,d9.Body),d$]]:[]):[];},function(d9){return{$:1,$0:[cT.Segment$2(a.String(d9))]};});dv.rBool=c_.New$1(function(d9){var d_,d$,ea;d_=d9.Segments;return d_.$==1?(d$=(ea=null,[_5.TryParseBool(d_.$0,{get:function(){return ea;},set:function(eb){ea=eb;}}),ea]),d$[0]?[[cT.New(d_.$1,d9.QueryArgs,d9.FormData,d9.Method,d9.Body),d$[1]]]:[]):[];},function(d9){return{$:1,$0:[cT.Segment$2(d9?"True":"False")]};});dv.rWildcard=c_.New$1(function(d9){return[[cT.New(cc.Empty,d9.QueryArgs,d9.FormData,d9.Method,d9.Body),bl.concat("/",d9.Segments)]];},function(d9){return{$:1,$0:[cT.Segment$2(d9)]};});dv.rDateTime=c_.New$1(function(d9){var d_,d$,ea,eb,ec,ed,ee,ef,eg;d_=d9.Segments;return d_.$==1?(d$=d_.$0,d$.length===19&&d$[4]==="-"&&d$[7]==="-"&&d$[10]==="-"&&d$[13]==="."&&d$[16]==="."?(ea=d8(bX.string(d$,{$:1,$0:0},{$:1,$0:3})),(eb=d8(bX.string(d$,{$:1,$0:5},{$:1,$0:6})),(ec=d8(bX.string(d$,{$:1,$0:8},{$:1,$0:9})),(ed=d8(bX.string(d$,{$:1,$0:11},{$:1,$0:12})),(ee=d8(bX.string(d$,{$:1,$0:14},{$:1,$0:15})),(ef=d8(bX.string(d$,{$:1,$0:17},{$:1,$0:18})),ea!=null&&ea.$==1&&(eb!=null&&eb.$==1&&(ec!=null&&ec.$==1&&(ed!=null&&ed.$==1&&(ee!=null&&ee.$==1&&(ef!=null&&ef.$==1&&(eg=[ec.$0,ed.$0,eb.$0,ee.$0,ef.$0,ea.$0],true))))))?[[cT.New(d_.$1,d9.QueryArgs,d9.FormData,d9.Method,d9.Body),(new d4(eg[5],eg[2]-1,eg[0],eg[1],eg[3],eg[4])).getTime()]]:[])))))):[]):[];},function(d9){var d_,d$;function ea(eb){var ec;ec=a.String(eb);return ec.length===1?"0"+ec:ec;}return{$:1,$0:[cT.Segment$2((d_=a.String((new d4(d9)).getFullYear()),(d$=d_.length,d$===1?"000"+d_:d$===2?"00"+d_:d$===3?"0"+d_:d_))+"-"+ea((new d4(d9)).getMonth()+1)+"-"+ea((new d4(d9)).getDate())+"-"+ea((new d4(d9)).getHours())+"."+ea((new d4(d9)).getMinutes())+"."+ea((new d4(d9)).getSeconds()))]};});};dw.OfArray=function(d8){return new b_.New$1(cb.OfSeq(be.map(function(d9){return da.New(d9[0],d9[1]);},d8)));};dw.FoldBack=function(d8,d9,d_){return be.fold(function(d$,ea){return d8(ea.Key,ea.Value,d$);},d_,cb.Enumerate(true,d9.get_Tree()));};dw.ToSeq=function(d8){return be.map(function(d9){return[d9.Key,d9.Value];},cb.Enumerate(false,d8.get_Tree()));};dy=e.OperationCanceledException=d0.Class({},dx,dy);dy.New=d0.Ctor(function(d8){dy.New$1.call(this,"The operation was canceled.",null,d8);},dy);dy.New$1=d0.Ctor(function(d8,d9,d_){this.message=d8;this.inner=d9;cr.setPrototypeOf(this,dy.prototype);this.ct=d_;},dy);dz.Clear=function(d8){d8.splice(0,K.length(d8));};dA=g.DynamicAttrNode=d0.Class({NChanged:function(){return this.updates;},NGetExitAnim:function(d8){return _do.get_Empty();},NGetEnterAnim:function(d8){return _do.get_Empty();},NGetChangeAnim:function(d8){return _do.get_Empty();},NSync:function(d8){if(this.dirty){(this.push(d8))(this.value);this.dirty=false;}}},f,dA);dA.New=d0.Ctor(function(d8,d9){var d_;d_=this;f.New.call(this);this.push=d9;this.value=void 0;this.dirty=false;this.updates=i.Map(function(d$){d_.value=d$;d_.dirty=true;},d8);},dA);dB=e.AggregateException=d0.Class({},dx,dB);dB.New$3=d0.Ctor(function(d8){dB.New$4.call(this,"One or more errors occurred.",d8);},dB);dB.New$4=d0.Ctor(function(d8,d9){this.message=d8;cr.setPrototypeOf(this,dB.prototype);this.innerExceptions=d9;},dB);dC=di.ArrayStorage=d0.Class({SSetAt:function(d8,d9,d_){K.set(d_,d8,d9);return d_;},SAppend:function(d8,d9){d9.push(d8);return d9;}},f,dC);dC.New=d0.Ctor(function(d8){f.New.call(this);this.init=d8;},dC);be.enumUsing=function(d8,d9){return{GetEnumerator:function(){var d_;try{d_=b$.Get(d9(d8));}catch(d$){d8.Dispose();throw d$;}return new ca.New(null,null,function(ea){return d_.MoveNext()&&(ea.c=d_.Current(),true);},function(){d_.Dispose();d8.Dispose();});}};};be.enumWhile=function(d8,d9){return{GetEnumerator:function(){return new ca.New(null,null,function(d_){var d$;while(true){d$=d_.s;if(G.Equals(d$,null)){if(d8()){d_.s=b$.Get(d9);d_=d_;}else return false;}else if(d$.MoveNext()){d_.c=d$.Current();return true;}else{d$.Dispose();d_.s=null;d_=d_;}}},function(d_){var d$;d$=d_.s;!G.Equals(d$,null)?d$.Dispose():void 0;});}};};dD=g.Updates=d0.Class({},null,dD);dD.Create=function(d8){var d9;d9=null;d9=dD.New(d8,null,function(){var d_;d_=d9.s;return d_===null?(d_=Z.Copy(d9.c()),d9.s=d_,Z.WhenObsoleteRun(d_,function(){d9.s=null;}),d_):d_;});return d9;};dD.New=function(d8,d9,d_){return new dD({c:d8,s:d9,v:d_});};dF.New=function(d8,d9){return{PreviousNodes:d8,Top:d9};};dG.get_Empty=function(){return{$:0,$0:new bP.New$3()};};dG.FindAll=function(d8){var d9;function d_(ea){if(ea!=null&&ea.$==0){d_(ea.$0);d_(ea.$1);}else if(ea!=null&&ea.$==1)d$(ea.$0);else if(ea!=null&&ea.$==2)d_(ea.$0.Current);else if(ea!=null&&ea.$==6)K.iter(d$,ea.$0.Holes);}function d$(ea){d9.push(ea);d_(ea.Children);}d9=[];d_(d8);return{$:0,$0:new bP.New$2(d9)};};dG.Filter=function(d8,d9){return{$:0,$0:dV.Filter(d8,d9.$0)};};dG.Except=function(d8,d9){return{$:0,$0:dV.Except(d8.$0,d9.$0)};};dG.ToArray=function(d8){return dV.ToArray(d8.$0);};dG.Intersect=function(d8,d9){return{$:0,$0:dV.Intersect(d8.$0,d9.$0)};};dH.UseAnimations=function(){dR.$cctor();return dR.UseAnimations;};dH.Actions=function(d8){return dH.ConcatActions(K.choose(function(d9){return d9.$==1?{$:1,$0:d9.$0}:null;},dS.ToArray(d8.$0)));};dH.Finalize=function(d8){K.iter(function(d9){if(d9.$==0)d9.$0();},dS.ToArray(d8.$0));};dH.ConcatActions=function(d8){var d9,d_,d$,ea;d9=cX.ofSeqNonCopying(d8);d_=K.length(d9);return d_===0?dH.Const():d_===1?K.get(d9,0):(d$=be.max(be.map(function(eb){return eb.Duration;},d9)),(ea=K.map(function(eb){return dH.Prolong(d$,eb);},d9),dH.Def(d$,function(eb){K.iter(function(ec){ec.Compute(eb);},ea);})));};dH.List=function(d8){return d8.$0;};dH.Const=function(d8){return dH.Def(0,function(){return d8;});};dH.Def=function(d8,d9){return{Compute:d9,Duration:d8};};dH.Prolong=function(d8,d9){var d_,d$,ea;d_=d9.Compute;d$=d9.Duration;ea=s.Create(function(){return d9.Compute(d9.Duration);});return{Compute:function(eb){return eb>=d$?ea.f():d_(eb);},Duration:d8};};dI.$cctor=function(){dI.$cctor=a.ignore;dI.BatchUpdatesEnabled=true;};dJ=bi.KeyCollection=d0.Class({GetEnumerator$1:function(){return b$.Get(be.map(function(d8){return d8.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},f,dJ);dJ.New=d0.Ctor(function(d8){f.New.call(this);this.d=d8;},dJ);dK.IsUpper=function(d8){return d8>="A"&&d8<="Z";};dK.Parse=function(d8){return d8.length===1?d8:B.FailWith("String must be exactly one character long.");};dK.IsWhiteSpace=function(d8){return d8.match(new a.RegExp("\\s"))!==null;};c_.New=function(d8,d9){return{Parse:d8,Segment:d9};};dL.read=function(d8){var d9;d9=[];return function(d_){var d$;while(true){d$=dL.readEscapedFromChars(d_);if(d$[0]===-2)return null;else if(d$[0]===-1)return{$:1,$0:(function(ea){return function(eb){return bl.concat(ea,eb);};}(""))(d9)};else{d9.push(d7.fromCharCode(d$[0]));d_=d$[1];}}}(bY.ofSeq(be.map(function(d_){return d_.charCodeAt();},d8)));};dL.write=function(d8){return bl.concat("",be.mapi(function(d9,d_){return dL.writeEscapedAsString(d9+1===d8.length,d_);},d8));};dL.readEscapedFromChars=function(d8){var d9,d_,d$,ea,eb,ec,ed,ee;function ef(){var eh,ei;return d9.$==1?(eh=d9.$1,(ei=d9.$0,(d9=eh,ei))):-1;}function eg(eh){return eh>="0".charCodeAt()&&eh<="9".charCodeAt()?eh-"0".charCodeAt():eh>="a".charCodeAt()&&eh<="f".charCodeAt()?eh-"a".charCodeAt()+10:eh>="A".charCodeAt()&&eh<="F".charCodeAt()?eh-"A".charCodeAt()+10:-2;}d9=d8;return[(d_=ef(),d_==="~".charCodeAt()?(d$=ef(),d$==="u".charCodeAt()?(ea=ef(),(eb=ef(),(ec=ef(),(ed=ef(),ea>=0&&eb>=0&&ec>=0&&ed>=0?dL.op_PlusPlus(dL.op_PlusPlus(dL.op_PlusPlus(eg(ea),eg(eb)),eg(ec)),eg(ed)):-2)))):(ee=ef(),d$>=0&&ee>=0?dL.op_PlusPlus(eg(d$),eg(ee)):-2)):d_),d9];};dL.writeEscapedAsString=function(d8,d9){var d_;d_=d9.charCodeAt();return dL.isUnreserved(d8,d9)?d9:d_<256?"~"+bl.PadLeftWith(d_.toString(16),2,"0"):"~u"+bl.PadLeftWith(d_.toString(16),4,"0");};dL.op_PlusPlus=function(d8,d9){return(d8<<4)+d9;};dL.isUnreserved=function(d8,d9){return d9==="-"||(d9==="."?!d8:d9==="_"||(d9>="A"&&d9<="Z"||(d9>="a"&&d9<="z"||d9>="0"&&d9<="9")));};_5.TryParseSByte=function(d8,d9){return _5.TryParse(d8,-128,127,d9);};_5.TryParseByte=function(d8,d9){return _5.TryParse(d8,0,255,d9);};_5.TryParseInt16=function(d8,d9){return _5.TryParse(d8,-32768,32767,d9);};_5.TryParseUInt16=function(d8,d9){return _5.TryParse(d8,0,65535,d9);};_5.TryParseUInt32=function(d8,d9){return _5.TryParse(d8,0,4294967295,d9);};_5.TryParseUInt64=function(d8,d9){return _5.TryParse(d8,0,18446744073709551615,d9);};dM.AsAsync=function(d8){return cu.FromContinuations(function(d9,d_){d8.then(d9,function(d$){return d_(dM.unwrapExn(d$));});});};dM.unwrapExn=function(d8){return d8 instanceof dx?d8:new dW.New(d8);};dN=e.FormatException=d0.Class({},dx,dN);dN.New$1=d0.Ctor(function(d8){this.message=d8;cr.setPrototypeOf(this,dN.prototype);},dN);dO.$cctor=function(){dO.$cctor=a.ignore;dO.Doc=self.document;};dP.$cctor=function(){dP.$cctor=a.ignore;dP.EmptyAttr=null;};dQ.isBlank=function(d8){return bl.forall(dK.IsWhiteSpace,d8);};dR.$cctor=function(){dR.$cctor=a.ignore;dR.CubicInOut=dU.Custom(function(d8){var d9;d9=d8*d8;return 3*d9-2*(d9*d8);});dR.UseAnimations=true;};dS.Append=function(d8,d9){return d8.$==0?d9:d9.$==0?d8:{$:2,$0:d8,$1:d9};};dS.ToArray=function(d8){var d9;function d_(d$){if(d$.$==1)d9.push(d$.$0);else if(d$.$==2){d_(d$.$0);d_(d$.$1);}else if(d$.$==3)K.iter(function(ea){d9.push(ea);},d$.$0);}d9=[];d_(d8);return d9.slice(0);};dS.Concat=function(d8){var d9;d9=cX.ofSeqNonCopying(d8);return cX.TreeReduce(dS.Empty(),dS.Append,d9);};dS.Empty=function(){dY.$cctor();return dY.Empty;};dT.WriteLink=function(d8,d9){var d_;d_=d9.get_IsEmpty()?"":"?"+dT.WriteQuery(d9);return"/"+dT.Concat(d8)+d_;};dT.Concat=function(d8){var d9,d_;d9=[];d_=true;bY.iter(function(d$){if(!bl.IsNullOrEmpty(d$)){d_?d_=false:d9.push("/");d9.push(d$);}},d8);return bl.Join("",K.ofSeq(d9));};dT.WriteQuery=function(d8){function d9(d_,d$){return d_+"="+d$;}return bl.concat("&",be.map(function(d_){return d9(d_[0],d_[1]);},dw.ToSeq(d8)));};dU=g.Easing=d0.Class({},f,dU);dU.Custom=function(d8){return new dU.New(d8);};dU.New=d0.Ctor(function(d8){f.New.call(this);this.transformTime=d8;},dU);dV.Filter=function(d8,d9){return new bP.New$2(K.filter(d8,dV.ToArray(d9)));};dV.Except=function(d8,d9){var d_;d_=new bP.New$2(dV.ToArray(d9));d_.ExceptWith(dV.ToArray(d8));return d_;};dV.ToArray=function(d8){var d9;d9=K.create(d8.get_Count(),void 0);d8.CopyTo(d9);return d9;};dV.Intersect=function(d8,d9){var d_;d_=new bP.New$2(dV.ToArray(d8));d_.IntersectWith(dV.ToArray(d9));return d_;};dW=E.NonStandardPromiseRejectionException=d0.Class({},dx,dW);dW.New=d0.Ctor(function(d8){this.message="Promise rejected";cr.setPrototypeOf(this,dW.prototype);this.reason=d8;},dW);dX.Children=function(d8,d9){var d_,d$,ea;if(d9!=null&&d9.$==1){ea=[];d_=d9.$0[0].nextSibling;while(d_!==d9.$0[1]){ea.push(d_);d_=d_.nextSibling;}return{$:0,$0:ea};}else return{$:0,$0:K.init(d8.childNodes.length,(d$=d8.childNodes,function(eb){return d$[eb];}))};};dX.Except=function(d8,d9){var d_;d_=d8.$0;return{$:0,$0:K.filter(function(d$){return K.forall(function(ea){return!(d$===ea);},d_);},d9.$0)};};dX.Iter=function(d8,d9){K.iter(d8,d9.$0);};dX.DocChildren=function(d8){var d9;function d_(d$){if(d$!=null&&d$.$==2)d_(d$.$0.Current);else if(d$!=null&&d$.$==1)d9.push(d$.$0.El);else if(d$==null);else if(d$!=null&&d$.$==5)d9.push(d$.$0);else if(d$!=null&&d$.$==4)d9.push(d$.$0.Text);else if(d$!=null&&d$.$==6)K.iter(function(ea){if(ea==null||ea.constructor===cr)d_(ea);else d9.push(ea);},d$.$0.Els);else{d_(d$.$0);d_(d$.$1);}}d9=[];d_(d8.Children);return{$:0,$0:cX.ofSeqNonCopying(d9)};};dY.$cctor=function(){dY.$cctor=a.ignore;dY.Empty={$:0};};d0.OnLoad(function(){d.mainProgram();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
//# sourceMappingURL=testing.min.map
