function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
var JSON;JSON||(JSON={}),function(){"use strict";function i(n){return n<10?"0"+n:n}function f(n){return o.lastIndex=0,o.test(n)?'"'+n.replace(o,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function r(i,e){var s,l,h,a,v=n,c,o=e[i];o&&typeof o=="object"&&typeof o.toJSON=="function"&&(o=o.toJSON(i));typeof t=="function"&&(o=t.call(e,i,o));switch(typeof o){case"string":return f(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(n+=u,c=[],Object.prototype.toString.apply(o)==="[object Array]"){for(a=o.length,s=0;s<a;s+=1)c[s]=r(s,o)||"null";return h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+v+"]":"["+c.join(",")+"]",n=v,h}if(t&&typeof t=="object")for(a=t.length,s=0;s<a;s+=1)typeof t[s]=="string"&&(l=t[s],h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));else for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));return h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+v+"}":"{"+c.join(",")+"}",n=v,h}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,u,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(n="",u="",typeof e=="number")for(o=0;o<e;o+=1)u+=" ";else typeof e=="string"&&(u=e);if(t=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return r("",{"":i})});typeof JSON.parse!="function"&&(JSON.parse=function(n,t){function r(n,i){var f,e,u=n[i];if(u&&typeof u=="object")for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&(e=r(u,f),e!==undefined?u[f]=e:delete u[f]);return t.call(n,i,u)}var i;if(n=String(n),e.lastIndex=0,e.test(n)&&(n=n.replace(e,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?r({"":i},""):i;throw new SyntaxError("JSON.parse");})}();
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW;a=self;b=a.FsRoot=a.FsRoot||{};c=b.StackOverflow=b.StackOverflow||{};d=c.MainProgram=c.MainProgram||{};e=a.WebSharper=a.WebSharper||{};f=e.Obj=e.Obj||{};g=e.UI=e.UI||{};h=g.Var$1=g.Var$1||{};i=b.LibraryJS=b.LibraryJS||{};j=i.AppFramework=i.AppFramework||{};k=j.PlugIn=j.PlugIn||{};l=c.ModeloUI=c.ModeloUI||{};m=e.Lazy=e.Lazy||{};n=l.RenderAliados=l.RenderAliados||{};o=l.RenderAliado=l.RenderAliado||{};p=l.FormaRegistro=l.FormaRegistro||{};q=l.FormaDatos=l.FormaDatos||{};r=l.FormaContactos=l.FormaContactos||{};s=l.FormaFormasPago=l.FormaFormasPago||{};t=e.Operators=e.Operators||{};u=a.EventTarget;v=a.Node;w=e.JavaScript=e.JavaScript||{};x=w.JS=w.JS||{};y=e.Unchecked=e.Unchecked||{};z=i.LayoutEngineModule=i.LayoutEngineModule||{};A=e.Option=e.Option||{};B=g.Var=g.Var||{};C=e.Arrays=e.Arrays||{};D=g.Templating=g.Templating||{};E=D.Runtime=D.Runtime||{};F=E.Server=E.Server||{};G=F.ProviderBuilder=F.ProviderBuilder||{};H=F.Handler=F.Handler||{};I=F.TemplateInstance=F.TemplateInstance||{};J=g.View=g.View||{};K=c.TypesV1=c.TypesV1||{};L=K.Aliado=K.Aliado||{};M=c.Aliado=c.Aliado||{};N=K.Modelo=K.Modelo||{};O=g.ConcreteVar=g.ConcreteVar||{};P=g.Snap=g.Snap||{};Q=g.ListModel=g.ListModel||{};R=j.PlugInVar=j.PlugInVar||{};S=a.StartupCode$testing$testing=a.StartupCode$testing$testing||{};T=j.PlugInView=j.PlugInView||{};U=j.PlugInDoc=j.PlugInDoc||{};V=w.Pervasives=w.Pervasives||{};W=e.LazyExtensionsProxy=e.LazyExtensionsProxy||{};X=W.LazyRecord=W.LazyRecord||{};Y=a.testing_GeneratedPrintf=a.testing_GeneratedPrintf||{};Z=a.testing_Templates=a.testing_Templates||{};_0=a.testing_Router=a.testing_Router||{};_1=a.testing_JsonDecoder=a.testing_JsonDecoder||{};_2=e.Seq=e.Seq||{};_3=b.Library=b.Library||{};_4=_3.SortWith=_3.SortWith||{};_5=M.Buscar=M.Buscar||{};_6=e.Collections=e.Collections||{};_7=_6.FSharpSet=_6.FSharpSet||{};_8=_3.Monads=_3.Monads||{};_9=_8.Option=_8.Option||{};_=e.Strings=e.Strings||{};$=K.CorreoElectronico=K.CorreoElectronico||{};ba=l.DatosPersonales=l.DatosPersonales||{};bb=l.CorreoElectronico=l.CorreoElectronico||{};bc=l.Telefono=l.Telefono||{};bd=l.Direccion=l.Direccion||{};be=_8.AsyncResultMAutoOpen=_8.AsyncResultMAutoOpen||{};bf=_8.AsyncResultM=_8.AsyncResultM||{};bg=bf.AsyncResultMBuilder=bf.AsyncResultMBuilder||{};bh=c.Rpc=c.Rpc||{};bi=a.System=a.System||{};bj=bi.Guid=bi.Guid||{};bk=c.TypesV0=c.TypesV0||{};bl=bk.IdAliado=bk.IdAliado||{};bm=_3.ResultMessage=_3.ResultMessage||{};bn=e.List=e.List||{};bo=bn.T=bn.T||{};bp=e.Utils=e.Utils||{};bq=j.PlugInAction=j.PlugInAction||{};br=a.WindowOrWorkerGlobalScope;bs=i.LayoutEngine=i.LayoutEngine||{};bt=a.StartupCode$LayoutEngine$LayoutEngine=a.StartupCode$LayoutEngine$LayoutEngine||{};bu=_6.List=_6.List||{};bv=_6.Dictionary=_6.Dictionary||{};bw=_6.HashSet=_6.HashSet||{};bx=E.Client=E.Client||{};by=bk.IdAuthorize=bk.IdAuthorize||{};bz=bk.DatosPersonales=bk.DatosPersonales||{};bA=bk.FormaPago=bk.FormaPago||{};bB=bk.StatusAliado=bk.StatusAliado||{};bC=bk.TipoAliado=bk.TipoAliado||{};bD=e.Numeric=e.Numeric||{};bE=bk.PremisasCalculo=bk.PremisasCalculo||{};bF=g.Abbrev=g.Abbrev||{};bG=bF.Fresh=bF.Fresh||{};bH=j.PlugInQuery=j.PlugInQuery||{};bI=_8.Result=_8.Result||{};bJ=bI.Builder=bI.Builder||{};bK=_8.Eff=_8.Eff||{};bL=bK.EffBuilder=bK.EffBuilder||{};bM=_8.ResultM=_8.ResultM||{};bN=bM.Builder=bM.Builder||{};bO=_3.String=_3.String||{};bP=e.Slice=e.Slice||{};bQ=_3.ParseO=_3.ParseO||{};bR=bk.Telefono=bk.Telefono||{};bS=bk.TipoTelefono=bk.TipoTelefono||{};bT=bk.Direccion=bk.Direccion||{};bU=bk.TipoDireccion=bk.TipoDireccion||{};bV=bk.Estado=bk.Estado||{};bW=bk.Pais=bk.Pais||{};bX=bk.ZonaPostal=bk.ZonaPostal||{};bY=bk.TarjetaCredito=bk.TarjetaCredito||{};bZ=bk.Expiracion=bk.Expiracion||{};b0=bk.NumeroTarjeta=bk.NumeroTarjeta||{};b1=bk.TipoTarjeta=bk.TipoTarjeta||{};b2=bk.CuentaBancaria=bk.CuentaBancaria||{};b3=bk.RoutingNumber=bk.RoutingNumber||{};b4=bk.TipoCuenta=bk.TipoCuenta||{};b5=bk.NumeroCuenta=bk.NumeroCuenta||{};b6=bk.Genero=bk.Genero||{};b7=l.EndPoint=l.EndPoint||{};b8=g.Router=g.Router||{};b9=g.ViewBuilder=g.ViewBuilder||{};b_=l.VariousUI=l.VariousUI||{};b$=g.Doc=g.Doc||{};ca=_6.FSharpMap=_6.FSharpMap||{};cb=e.Enumerator=e.Enumerator||{};cc=cb.T=cb.T||{};cd=_6.BalancedTree=_6.BalancedTree||{};ce=i.Date=i.Date||{};cf=c.Respuesta=c.Respuesta||{};cg=_3.Array=_3.Array||{};ch=l.CuentaBancaria=l.CuentaBancaria||{};ci=l.TarjetaCredito=l.TarjetaCredito||{};cj=a.GeneratedPrintf=a.GeneratedPrintf||{};ck=a.LayoutEngine_Templates=a.LayoutEngine_Templates||{};cl=a.LayoutEngine_GeneratedPrintf=a.LayoutEngine_GeneratedPrintf||{};cm=g.HtmlModule=g.HtmlModule||{};cn=cm.attr=cm.attr||{};co=g.AttrModule=g.AttrModule||{};cp=i.WebComponent=i.WebComponent||{};cq=cp.WcTabStrip=cp.WcTabStrip||{};cr=cq.WcTabStripT=cq.WcTabStripT||{};cs=cp.WcSplitter=cp.WcSplitter||{};ct=c.EstadoActual=c.EstadoActual||{};cu=a.Object;cv=_6.DictionaryUtil=_6.DictionaryUtil||{};cw=g.AttrProxy=g.AttrProxy||{};cx=g.CheckedInput=g.CheckedInput||{};cy=g.Client=g.Client||{};cz=cy.Templates=cy.Templates||{};cA=bk.IdPayment=bk.IdPayment||{};cB=bk.ConceptoPago=bk.ConceptoPago||{};cC=e.DateUtil=e.DateUtil||{};cD=e.Sitelets=e.Sitelets||{};cE=cD.RouterOperators=cD.RouterOperators||{};cF=cD.RouterModule=cD.RouterModule||{};cG=cD.Route=cD.Route||{};cH=e.Concurrency=e.Concurrency||{};cI=_6.MapUtil=_6.MapUtil||{};cJ=cd.Tree=cd.Tree||{};cK=bk.IdAddress=bk.IdAddress||{};cL=g.FromView=g.FromView||{};cM=g.Docs=g.Docs||{};cN=z.Layout=z.Layout||{};cO=g.Attrs=g.Attrs||{};cP=g.DomUtility=g.DomUtility||{};cQ=cs.WcSplitterT=cs.WcSplitterT||{};cR=w.Promise=w.Promise||{};cS=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};cT=cD.Router=cD.Router||{};cU=cD.List=cD.List||{};cV=cH.AsyncBody=cH.AsyncBody||{};cW=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};cX=cH.CT=cH.CT||{};cY=g.Array=g.Array||{};cZ=_6.Pair=_6.Pair||{};c0=z.Measures=z.Measures||{};c1=i.Hoverable=i.Hoverable||{};c2=c1.Hoverable=c1.Hoverable||{};c3=e.CancellationTokenSource=e.CancellationTokenSource||{};c4=g.Storage=g.Storage||{};c5=a.Event;c6=a.UIEvent;c7=i.ResizeObserver=i.ResizeObserver||{};c8=e.ClientSideJson=e.ClientSideJson||{};c9=c8.Provider=c8.Provider||{};c_=g.DocElemNode=g.DocElemNode||{};c$=a.CharacterData;da=cz.Prepare=cz.Prepare||{};db=g.Elt=g.Elt||{};dc=g.An=g.An||{};dd=cy.Settings=cy.Settings||{};de=bF.Mailbox=bF.Mailbox||{};df=_6.HashSetUtil=_6.HashSetUtil||{};dg=a.StartupCode$WebSharper_Sitelets$Router=a.StartupCode$WebSharper_Sitelets$Router||{};dh=_6.Map=_6.Map||{};di=cH.Scheduler=cH.Scheduler||{};dj=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};dk=g.DynamicAttrNode=g.DynamicAttrNode||{};dl=a.Error;dm=e.AggregateException=e.AggregateException||{};dn=c4.ArrayStorage=c4.ArrayStorage||{};_do=w.NonStandardPromiseRejectionException=w.NonStandardPromiseRejectionException||{};dp=cy.Attrs=cy.Attrs||{};dq=dp.Dyn=dp.Dyn||{};dr=g.Updates=g.Updates||{};ds=cy.Docs=cy.Docs||{};dt=ds.RunState=ds.RunState||{};du=ds.NodeSet=ds.NodeSet||{};dv=g.Anims=g.Anims||{};dw=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};dx=e.Queue=e.Queue||{};dy=e.FormatException=e.FormatException||{};dz=cD.StringEncoding=cD.StringEncoding||{};dA=e.Char=e.Char||{};dB=e.OperationCanceledException=e.OperationCanceledException||{};dC=_6.KeyCollection=_6.KeyCollection||{};dD=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};dE=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};dF=e.Result=e.Result||{};dG=g.String=g.String||{};dH=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};dI=g.AppendList=g.AppendList||{};dJ=cD.PathUtil=cD.PathUtil||{};dK=g.Easing=g.Easing||{};dL=bF.HashSet=bF.HashSet||{};dM=ds.DomNodes=ds.DomNodes||{};dN=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};dO=a.IntelliFactory;dP=dO&&dO.Runtime;dQ=a.Math;dR=a.console;dS=a.Date;dT=a.Reflect;dU=a.JSON;dV=a.jQuery;dW=a.String;d.mainProgram=function(){var dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$;dX=h.Create$1("Prozper");dY=J.Map(function(ea){return d.mesToString(ea.periodoActual);},l.modeloV().get_View());dZ=J.Map(function(ea){return a.String(ea.anoActual);},l.modeloV().get_View());d0=J.Map(function(ea){return M.nombre2(ea.datosPersonales);},l.aliadoW());d1=J.Map(function(ea){return a.String(ea.status);},l.aliadoW());d2=J.Map(function(ea){return a.String(ea.comision);},l.aliadoW());d3=J.Map(function(ea){return a.String(ea.nReferidos);},l.aliadoW());j.addPlugIn(k.New("Prozper",[j.newVar("title",dX),j.newVar("contentVar",l.contentVar())],[j.newViw("mesActual",dY),j.newViw("anoActual",dZ),j.newViw("aliado",d0),j.newViw("status",d1),j.newViw("comision",d2),j.newViw("datos",d3)],[j.newDoc("Aliados",m.Create(n.aliados)),j.newDoc("Aliado",m.Create(o.aliado)),j.newDoc("Calculo",m.Create(o.calculo)),j.newDoc("FormaRegistro",m.Create(p.formaDoc)),j.newDoc("FormaDatos",m.Create(q.formaDoc)),j.newDoc("FormaContactos",m.Create(r.formaDoc)),j.newDoc("FormaFormasPago",m.Create(s.formaDoc)),j.newDoc("contentDoc",m.Create(d.getContentDoc))],[j.newAct("Logout",function(){d.logout();})],[]));z.addLayout((d4=(d5=self.document.getElementById("GlobalLayout"),y.Equals(d5,null)?"\r\n                    menuEditor       horizontal  65       menuLogo                  editorMessages\r\n                    double           horizontal  0-50-100 AppFramework.AppFwkClient menuEditor\r\n                    menuLogo         vertical    350      logo                      menu\r\n                    logo             span       \"margin:0; color:gray; font-size: 55px; font-weight:530\" \"F# Station\"\r\n                    editorMessages   horizontal 10-83-100 editorButtons             messages\r\n                    messages         vertical   0-50-100  messagesLeft              messagesRight\r\n                    editorButtons    vertical -200 snippetsSnippet buttons\r\n                    buttons div      \"overflow: hidden; display: grid; grid-template-columns: 100%; grid-template-rows: repeat(15, calc(100% / 15)); bxackground-color: #eee; box-sizing: border-box; padding : 5px; grid-gap: 5px; margin-right: 21px\" btnSaveAs none x btnAddSnippet btnDeleteSnippet btnIndentIn btnIndentOut none x btnRunFS none x btnAbortFsi\r\n                    snippetsSnippet  vertical   0-20-100  snippets                  editorProperties\r\n                    snippets         horizontal 20        \"${FSharpStation.CurrentPath}\" FSharpStation.Snippets\r\n                    editorProperties vertical   0-100-100 snippet                   properties\r\n                    properties       div        \"\"        FSharpStation.Properties\r\n                    snippet          horizontal 35        Name                      FSharpStation.editor\r\n                    menu             span  \"\" btnLoad btnImport\r\n        \r\n                    btnSaveAs        button FSharpStation.SaveAs         \"class=btn ${FSharpStation.SaveNeeded}\" \"Save as...    \"\r\n                    btnAddDimension  button RuleEditor.AddDimension      \"\"                  \"Add Dimension \"\r\n                    btnDeleteSnippet button FSharpStation.RemoveSnippet  \"\"                  \"Delete Snippet\"\r\n                    btnIndentIn      button FSharpStation.IndentIn       \"\"                  \"Indent In  >> \"\r\n                    btnIndentOut     button FSharpStation.IndentOut      \"\"                  \"Indent Out << \"\r\n                    btnRunFS         button FSharpStation.RunFS          \"\"                  \"Run F#        \"\r\n                    btnAbortFsi      button FSharpStation.AbortFsi       \"\"                  \"Abort Fsi     \"\r\n        \r\n                    messagesLeft     wcomp-tabstrip                      \"\"                  Output FsCode\r\n                    messagesRight    wcomp-tabstrip                      \"\"                  Parser\r\n        \r\n                    Output           textarea  FSharpStation.Output      \"tabname=Output ; placeholder=Output messages ; spellcheck=false\" \r\n                    FsCode           textarea  FSharpStation.FsCode      \"tabname=F# Code; placeholder=F# Code         ; spellcheck=false\" \r\n                    Parser           textarea  FSharpStation.Parser      \"tabname=Parser ; placeholder=Parser messages; dblclick=${FSharpStation.JumpTo} ; spellcheck=false\" \r\n                    Name             Doc       InputLabel                \"\"     \"Name:\"        FSharpStation.SnippetName\r\n                    btnLoad          Doc       InputFile                 \"\"     \"Load File...\" FSharpStation.LoadFile  FileName\r\n                    btnImport        Doc       InputFile                 \"\"     \"Import...\"    FSharpStation.Import    \"\"\r\n                    FileName         div                                 \"class=form-control\"  FSharpStation.fileName\r\n                   ":d5.textContent),z.newLyt(d.layoutName(),d4)));d6=(d7=null,(d8=d.layoutName(),d7==null?d8:d7.$0));j.mainDocV().Set(d6);l.refrescarData();d9=(d_=j.getMainDoc().f(),G.Make().WithHole({$:0,$0:"maincontent",$1:d_}));d$=H.CompleteHoles(d9.k,d9.h,[]);d9.i=new I.New(d$[1],cz.RunFullDocTemplate(d$[0]));J.Sink(function(ea){self.document.title=ea;},dX.get_View());};d.getContentDoc=function(){return b$.EmbedView(J.Map(function(dX){var dY,dZ,d0;dY=(dZ=(d0=((z.splitName())("Prozper"))(dX),j.tryGetDoc(d0[0],d0[1])),dZ==null?null:{$:1,$0:z.getDocFinal(bo.Empty,dZ.$0)});return dY==null?z.errDoc((function(d1){return function(d2){return d1("Doc not found "+bp.toSafe(d2));};}(a.id))(dX)):dY.$0;},l.contentVar().get_View()));};d.logout=function(){var dX;bh.iterA((dX=be.asyncResultM(),dX.Run(dX.Delay(function(){return dX.Bind$4(bh.logoutUser(),function(){self.location.replace("/");return dX.Zero();});}))));};d.layoutName=function(){S.$cctor();return S.layoutName;};d.mesToString=function(dX){return dX===1?"Ene":dX===2?"Feb":dX===3?"Mar":dX===4?"Abr":dX===5?"May":dX===6?"Jun":dX===7?"Jul":dX===8?"Ago":dX===9?"Sep":dX===10?"Oct":dX===11?"Nov":dX===12?"Dic":"---";};f=e.Obj=dP.Class({Equals:function(dX){return this===dX;},GetHashCode:function(){return -1;}},null,f);f.New=dP.Ctor(function(){},f);h=g.Var$1=dP.Class({},f,h);h.Create$1=function(dX){return new O.New(false,P.New({$:2,$0:dX,$1:[]}),dX);};h.Lens=function(dX,dY,dZ){var d0,d1,d2;d0=bG.Id();d1=J.Map(dY,dX.get_View());d2=new B({Get:function(){return dY(dX.Get());},Set:function(d3){return dX.Update(function(d4){return dZ(d4,d3);});},SetFinal:function(d3){return this.Set(d3);},Update:function(d3){return dX.Update(function(d4){return dZ(d4,d3(dY(d4)));});},UpdateMaybe:function(d3){return dX.UpdateMaybe(function(d4){var d5;d5=d3(dY(d4));return d5==null?null:{$:1,$0:dZ(d4,d5.$0)};});},get_View:function(){return d1;},get_Id:function(){return d0;}});B.New.call(d2);return d2;};h.Set=function(dX,dY){dX.Set(dY);};j.addPlugIn=function(dX){j.plugIns().Append(dX);j.mainDocV().Set(j.mainDocV().Get());};j.newVar=function(dX,dY){return R.New(dX,dY);};j.newViw=function(dX,dY){return T.New(dX,dY);};j.newDoc=function(dX,dY){return U.New(dX,{$:0,$0:dY});};j.newAct=function(dX,dY){return bq.New(dX,{$:0,$0:dY},J.Const(true));};j.mainDocV=function(){bt.$cctor();return bt.mainDocV;};j.getMainDoc=function(){bt.$cctor();return bt.getMainDoc;};j.plugIns=function(){bt.$cctor();return bt.plugIns;};j.tryGetDoc=function(dX,dY){var dZ;dZ=j.tryGetPlugIn(dX);return dZ==null?null:C.tryFind(function(d0){return d0.docName===dY;},dZ.$0.plgDocs);};j.newDocF=function(dX,dY){return U.New(dX,dY);};j.tryGetPlugIn=function(dX){return j.plugIns().TryFindByKey(dX);};j.tryGetAct=function(dX,dY){var dZ;dZ=j.tryGetPlugIn(dX);return dZ==null?null:C.tryFind(function(d0){return d0.actName===dY;},dZ.$0.plgActions);};j.callFunction=function(dX,dY,dZ){if(dZ.$==1)dZ.$0(dX);else if(dZ.$==2)(dZ.$0(dX))(dY);else dZ.$0();};j.tryGetVar=function(dX,dY){var dZ;dZ=j.tryGetPlugIn(dX);return dZ==null?null:C.tryFind(function(d0){return d0.varName===dY;},dZ.$0.plgVars);};j.selectionPlugInO=function(){bt.$cctor();return bt.selectionPlugInO;};j.defaultPlugIn=function(){bt.$cctor();return bt.defaultPlugIn;};j.currentPlugInW=function(){bt.$cctor();return bt.currentPlugInW;};j.renderPlugIns=function(){return b$.Flatten(j.plugIns().MapLens(function(dX){var dY,dZ,d0,d1;return(dY=(dZ=G.Make().WithHole({$:1,$0:"name",$1:dX}),dZ.WithHole(H.EventQ2(dZ.k,"select",function(){return dZ.i;},function(){j.selectionPlugInO().Set({$:1,$0:dX});}))).WithHole({$:2,$0:"selected",$1:J.Map(function(d2){return y.Equals(d2,{$:1,$0:dX})?"selected":"";},j.selectionPlugInO().get_View())}),(d0=H.CompleteHoles(dY.k,dY.h,[]),(d1=new I.New(d0[1],ck.tile(d0[0])),(dY.i=d1,d1)))).get_Doc();}));};j.renderVars=function(){function dX(dZ,d0){return[dZ.plgName,d0.varName];}function dY(dZ,d0){var d1,d2,d3;return(d1=G.Make().WithHole({$:1,$0:"name",$1:d0.varName}).WithHole({$:8,$0:"value",$1:d0.varVar}),(d2=H.CompleteHoles(d1.k,d1.h,[["value",0]]),(d3=new I.New(d2[1],ck.namevalueinput(d2[0])),(d1.i=d3,d3)))).get_Doc();}return b$.ConvertBy(function(dZ){return dX(dZ[0],dZ[1]);},function(dZ){return dY(dZ[0],dZ[1]);},J.Map(function(dZ){return _2.map(function(d0){return[dZ,d0];},dZ.plgVars);},j.currentPlugInW()));};j.renderViews=function(){function dX(dZ,d0){return[dZ.plgName,d0.viwName];}function dY(dZ,d0){var d1,d2,d3;return(d1=G.Make().WithHole({$:1,$0:"name",$1:d0.viwName}).WithHole({$:2,$0:"value",$1:d0.viwView}),(d2=H.CompleteHoles(d1.k,d1.h,[]),(d3=new I.New(d2[1],ck.namevalue(d2[0])),(d1.i=d3,d3)))).get_Doc();}return b$.ConvertBy(function(dZ){return dX(dZ[0],dZ[1]);},function(dZ){return dY(dZ[0],dZ[1]);},J.Map(function(dZ){return _2.map(function(d0){return[dZ,d0];},dZ.plgViews);},j.currentPlugInW()));};j.renderDocs=function(){function dX(dZ,d0){return[dZ.plgName,d0.docName];}function dY(dZ,d0){var d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$;return(d1=(d2=(d3=d0.docName+(d4=d0.docDoc,d4.$==1?(d5=_.concat(", ",bn.ofArray([d4.$1])),(function(ea){return function(eb){return ea("("+bp.toSafe(eb)+")");};}(a.id))(d5)):d4.$==2?(d6=_.concat(", ",bn.ofArray([d4.$1,d4.$2])),(function(ea){return function(eb){return ea("("+bp.toSafe(eb)+")");};}(a.id))(d6)):d4.$==3?(d7=_.concat(", ",bn.ofArray([d4.$1,d4.$2,d4.$3])),(function(ea){return function(eb){return ea("("+bp.toSafe(eb)+")");};}(a.id))(d7)):d4.$==4?(d8=_.concat(", ",bn.ofArray([d4.$1,d4.$2,d4.$3,d4.$4])),(function(ea){return function(eb){return ea("("+bp.toSafe(eb)+")");};}(a.id))(d8)):d4.$==5?(d9=_.concat(", ",bn.ofArray([d4.$1,d4.$2,d4.$3,d4.$4,d4.$5])),(function(ea){return function(eb){return ea("("+bp.toSafe(eb)+")");};}(a.id))(d9)):""),G.Make().WithHole({$:1,$0:"name",$1:d3})),d2.WithHole(H.EventQ2(d2.k,"select",function(){return d2.i;},function(){J.Get(function(ea){j.mainDocV().Set(ea.plgName+"."+d0.docName);},j.currentPlugInW());}))),(d_=H.CompleteHoles(d1.k,d1.h,[]),(d$=new I.New(d_[1],ck.tile(d_[0])),(d1.i=d$,d$)))).get_Doc();}return b$.ConvertBy(function(dZ){return dX(dZ[0],dZ[1]);},function(dZ){return dY(dZ[0],dZ[1]);},J.Map(function(dZ){return _2.map(function(d0){return[dZ,d0];},dZ.plgDocs);},j.currentPlugInW()));};j.renderActions=function(){function dX(dZ,d0){return[dZ.plgName,d0.actName];}function dY(dZ,d0){var d1,d2,d3,d4;d1=(d2=d0.actFunction,d2.$==1?(d3=_.concat(", ",bn.ofArray([d2.$1])),(function(d5){return function(d6){return d5("("+bp.toSafe(d6)+")");};}(a.id))(d3)):d2.$==2?(d4=_.concat(", ",bn.ofArray([d2.$1,d2.$2])),(function(d5){return function(d6){return d5("("+bp.toSafe(d6)+")");};}(a.id))(d4)):"");return b$.EmbedView(J.Map(function(d5){var d6,d7,d8,d9,d_,d$,ea,eb;return d5?(d6=(d7=G.Make().WithHole({$:1,$0:"name",$1:d0.actName+d1}),d7.WithHole(H.EventQ2(d7.k,"click",function(){return d7.i;},function(ec){j.callFunction(ec,null,d0.actFunction);}))),(d8=H.CompleteHoles(d6.k,d6.h,[]),(d9=new I.New(d8[1],ck.action(d8[0])),(d6.i=d9,d9)))).get_Doc():(d_=(d$=G.Make().WithHole({$:1,$0:"name",$1:d0.actName}),d$.WithHole(H.EventQ2(d$.k,"click",function(){return d$.i;},function(ec){j.callFunction(ec,null,d0.actFunction);}))),(ea=H.CompleteHoles(d_.k,d_.h,[]),(eb=new I.New(ea[1],ck.actiondisabled(ea[0])),(d_.i=eb,eb)))).get_Doc();},d0.actEnabled));}return b$.ConvertBy(function(dZ){return dX(dZ[0],dZ[1]);},function(dZ){return dY(dZ[0],dZ[1]);},J.Map(function(dZ){return _2.map(function(d0){return[dZ,d0];},dZ.plgActions);},j.currentPlugInW()));};j.renderQueries=function(){function dX(dZ,d0){return[dZ.plgName,d0.qryName];}function dY(dZ,d0){var d1,d2,d3,d4;return(d1=(d2=G.Make().WithHole({$:1,$0:"name",$1:d0.qryName}),d2.WithHole(H.EventQ2(d2.k,"select",function(){return d2.i;},function(){a.alert(d0.qryFunction(null));}))),(d3=H.CompleteHoles(d1.k,d1.h,[]),(d4=new I.New(d3[1],ck.tile(d3[0])),(d1.i=d4,d4)))).get_Doc();}return b$.ConvertBy(function(dZ){return dX(dZ[0],dZ[1]);},function(dZ){return dY(dZ[0],dZ[1]);},J.Map(function(dZ){return _2.map(function(d0){return[dZ,d0];},dZ.plgQueries);},j.currentPlugInW()));};j.newQry=function(dX,dY){return bH.New(dX,dY);};j.AppFwkClient=function(){bt.$cctor();return bt.AppFwkClient;};j.actHello=function(){bt.$cctor();return bt.actHello;};j.qryDocs=function(){bt.$cctor();return bt.qryDocs;};j.horizontal=function(dX,dY,dZ,d0,d1){var d2,d3,d4,d5;return(d2=(d3=G.Make().WithHole({$:2,$0:"partsizes",$1:dX}).WithHole({$:7,$0:"afterrender",$1:dY}).WithHole({$:7,$0:"afterrendersp",$1:dZ}),d3.WithHole(H.EventQ2(d3.k,"mousedown",function(){return d3.i;},function(d6){d0(d6.Event);}))).WithHole({$:2,$0:"gap",$1:d1}),(d4=H.CompleteHoles(d2.k,d2.h,[]),(d5=new I.New(d4[1],ck.wcompsplitterhor(d4[0])),(d2.i=d5,d5)))).get_Doc();};j.vertical=function(dX,dY,dZ,d0,d1){var d2,d3,d4,d5;return(d2=(d3=G.Make().WithHole({$:2,$0:"partsizes",$1:dX}).WithHole({$:7,$0:"afterrender",$1:dY}).WithHole({$:7,$0:"afterrendersp",$1:dZ}),d3.WithHole(H.EventQ2(d3.k,"mousedown",function(){return d3.i;},function(d6){d0(d6.Event);}))).WithHole({$:2,$0:"gap",$1:d1}),(d4=H.CompleteHoles(d2.k,d2.h,[]),(d5=new I.New(d4[1],ck.wcompsplitterver(d4[0])),(d2.i=d5,d5)))).get_Doc();};j.mainDoc=function(){var dX,dY,dZ,d0,d1,d2;return(dX=(dY=j.getMainClientDoc(),(dZ=(d0=j.mainDocV().get_View(),G.Make().WithHole({$:2,$0:"maindoc",$1:d0})),dZ.WithHole(H.EventQ2(dZ.k,"goclient",function(){return dZ.i;},function(){j.mainDocV().Set("AppFramework.AppFwkClient");}))).WithHole({$:0,$0:"mainclient",$1:dY})),(d1=H.CompleteHoles(dX.k,dX.h,[]),(d2=new I.New(d1[1],ck.appframework(d1[0])),(dX.i=d2,d2)))).get_Doc();};j.splitName=function(dX){function dY(d0){return bO.splitByChar(".",d0);}function dZ(d0){return C.length(d0)===1?[dX,C.get(d0,0)]:[C.get(d0,0),C.get(d0,1)];}return function(d0){return dZ(dY(d0));};};j.newActF=function(dX,dY){return bq.New(dX,dY,J.Const(true));};j.tryGetViw=function(dX,dY){var dZ;dZ=j.tryGetPlugIn(dX);return dZ==null?null:C.tryFind(function(d0){return d0.viwName===dY;},dZ.$0.plgViews);};j.getMainClientDoc=function(){var dX;return b$.EmbedView((dX=j.plugIns().v,J.Map2(function(dY,dZ){var d0,d1;d0=_2.tryPick(function(d2){var d3;d3=_2.tryFind(function(d4){return d2.plgName===dY||d2.plgName+"."+d4.docName===dY;},d2.plgDocs);return d3==null?null:{$:1,$0:j.getLazyDoc(d3.$0)};},dZ);d1=j.AppFwkClient().f();return d0==null?d1:d0.$0;},j.mainDocV().get_View(),dX)));};j.tryGetVoV=function(dX,dY){var dZ,d0,d1;dZ=(d0=j.tryGetVar(dX,dY),d0==null?null:{$:1,$0:{$:1,$0:d0.$0.varVar}});return dZ==null?(d1=j.tryGetViw(dX,dY),d1==null?null:{$:1,$0:new cL.New(d1.$0.viwView,a.ignore)}):dZ.$0;};j.tryGetWoW=function(dX,dY){var dZ,d0,d1;dZ=(d0=j.tryGetViw(dX,dY),d0==null?null:{$:1,$0:{$:1,$0:d0.$0.viwView}});return dZ==null?(d1=j.tryGetVar(dX,dY),d1==null?null:{$:1,$0:d1.$0.varVar.get_View()}):dZ.$0;};j.getLazyDoc=function(dX){var dY;dY=dX.docDoc;return dY.$==0?dY.$0.f():b$.Element("div",[],[b$.TextNode((function(dZ){return function(d0){return dZ("Doc with parameters not allowed here: "+cj.p(d0));};}(a.id))(dX))]);};k.New=function(dX,dY,dZ,d0,d1,d2){return{plgName:dX,plgVars:dY,plgViews:dZ,plgDocs:d0,plgActions:d1,plgQueries:d2};};l.contentVar=function(){S.$cctor();return S.contentVar;};l.refrescarData=function(){var dX;bh.iterA((dX=be.asyncResultM(),dX.Run(dX.Delay(function(){return dX.Bind$4(bh.leerDataModelo(l.refAliadoIdOV().Get()),function(dY){l.modeloV().Set(dY);return dX.Zero();});}))));};l.aliadoW=function(){S.$cctor();return S.aliadoW;};l.modeloV=function(){S.$cctor();return S.modeloV;};l.selAliadoIdOV=function(){S.$cctor();return S.selAliadoIdOV;};l.money=function(dX){return"$"+l.separate(a.String(dX),bo.Empty);};l.selAliadoIdDoc=function(dX){var dY;return b$.BindView(a.id,(dY=J.get_Do(),J.Bind(function(dZ){return J.Bind(function(d0){var d1,d2;d1=d0==null?null:(d2=d0.$0,_2.tryFind(function(d3){return y.Equals(d3.id,d2);},dZ.aliados));return J.Const(d1!=null&&d1.$==1?dX(J.Const(d1.$0)):b$.get_Empty());},l.selAliadoIdOV().get_View());},l.modeloV().get_View())));};l.aliadoIdDoc=function(dX){var dY;return b$.BindView(a.id,(dY=J.get_Do(),J.Bind(function(dZ){var d0,d1;d0=dZ.idAliado;d1=_2.tryFind(function(d2){return y.Equals(d2.id,d0);},dZ.aliados);return J.Const(d1!=null&&d1.$==1?dX(J.Const(d1.$0)):b$.get_Empty());},l.modeloV().get_View())));};l.refAliadoIdOV=function(){S.$cctor();return S.refAliadoIdOV;};l.endPointV=function(){S.$cctor();return S.endPointV;};l.separate=function(dX,dY){var dZ;while(true)if(dX==="")return(function(d0){return function(d1){return _.concat(d0,d1);};}(","))(dY);else{dZ=dX;dX=_3["String.Left$1"](dZ,-3);dY=new bo({$:1,$0:_3["String.Right$1"](dZ,3),$1:dY});}};m.Create=function(dX){return X.New(false,dX,m.forceLazy);};m.forceLazy=function(){var dX;dX=this.v();this.c=true;this.v=dX;this.f=m.cachedLazy;return dX;};m.cachedLazy=function(){return this.v;};m.CreateFromValue=function(dX){return X.New(true,dX,m.cachedLazy);};n.aliados=function(){var dX,dY,dZ,d0,d1,d2,d3;function d4(eb){var ec,ed;ec=(ed=dY.Get(),ed==null?null:{$:1,$0:ed.$0(eb)});return ec==null?[]:ec.$0;}function d5(eb){return eb.nReferidos===0?"-":(((dP.Curried3(function(ec,ed,ee){return ec(a.String(ed)+"/"+a.String(ee));}))(a.id))(eb.nRefActivos))(eb.nReferidos);}function d6(eb){return eb.nDescendientes===0?"-":(((dP.Curried3(function(ec,ed,ee){return ec(a.String(ed)+"/"+a.String(ee));}))(a.id))(eb.nDescActivos))(eb.nDescendientes);}function d7(eb){return eb===0?"-":l.money(eb);}function d8(eb){return J.Map(function(ec){return _2.isEmpty(d4(eb))?"":y.Equals(ec==null?null:{$:1,$0:ec.$0.Contains(eb)},{$:1,$0:true})?"Expandido":"Colapsado";},dX.get_View());}function d9(eb){var ec,ed,ee;dX.Set({$:1,$0:((y.Equals((ec=dX.Get(),ec==null?null:{$:1,$0:ec.$0.Contains(eb)}),{$:1,$0:true})?function(ef){return function(eg){return eg.Remove(ef);};}:function(ef){return function(eg){return eg.Add(ef);};})(eb))((ed=dX.Get(),(ee=new _7.New$1(null),ed==null?ee:ed.$0)))});}function d_(eb){l.selAliadoIdOV().Set({$:1,$0:eb});}function d$(eb){var ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ev,ew;function ep(ex){return ex.comision;}function eq(ex){return ex.status;}function er(ex){return[ex.nRefActivos,ex.nReferidos];}function es(ex){return[ex.nDescActivos,ex.nDescendientes];}function et(ex){return M.nombre(ex.datosPersonales);}function eu(ex){return _2.delay(function(){return _2.append([ex],_2.delay(function(){var ey,ez;return(ey=(ez=dX.Get(),ez==null?null:{$:1,$0:ez.$0.Contains(ex.id)}),ey==null?false:ey.$0)?_2.collect(eu,ew.hijos(ex)):[];}));});}ev=(ec=(ed=(ee=(ef=(eg=(dP.Curried3(_4.desc))(ep),eh=(dP.Curried3(_4.asc))(eq),dP.Curried(_4.op_AmpGreater,2,[function(ex,ey){return(eg(ex))(ey);},function(ex,ey){return(eh(ex))(ey);}])),ei=(dP.Curried3(_4.desc))(er),dP.Curried(_4.op_AmpGreater,2,[function(ex,ey){return(ef(ex))(ey);},function(ex,ey){return(ei(ex))(ey);}])),ej=(dP.Curried3(_4.desc))(es),dP.Curried(_4.op_AmpGreater,2,[function(ex,ey){return(ee(ex))(ey);},function(ex,ey){return(ej(ex))(ey);}])),ek=(dP.Curried3(_4.asc))(et),dP.Curried(_4.op_AmpGreater,2,[function(ex,ey){return(ed(ex))(ey);},function(ex,ey){return(ek(ex))(ey);}])),_2.sortWith(function(ex,ey){return(ec(ex))(ey);},eb));ew=M.busqueda(ev);dY.Set({$:1,$0:ew.hijosDe});try{em=_2.min(_2.map(function(ex){return ex.nivel;},ev));}catch(ex){em=1;}en=_2.filter(function(ey){return ey.nivel===em;},ev);_2.isEmpty(en)?dX.Set(null):dX.Get()==null?(dX.Set({$:1,$0:new _7.New(_2.map(function(ey){return ey.id;},en))}),eo=_2.tryHead(_2.map(function(ey){return ey.id;},en)),(_9.iter(d_))(eo)):void 0;return _2.delay(function(){return _2.collect(eu,en);});}function ea(eb,ec){var ed,ee,ef,eg,eh,ei;return(ed=(ee=(ef=(eg=d8(eb),G.Make().WithHole({$:2,$0:"nombre",$1:J.Map(function(ej){return M.nombre(ej.datosPersonales);},ec)}).WithHole({$:2,$0:"status",$1:J.Map(function(ej){return(function(ek){return function(el){return ek(Y.p(el));};}(a.id))(ej.status);},ec)}).WithHole({$:2,$0:"tipo",$1:J.Map(function(ej){return(function(ek){return function(el){return ek(Y.p$1(el));};}(a.id))(ej.tipo);},ec)}).WithHole({$:2,$0:"nivel",$1:J.Map(function(ej){return a.String(ej.nivel);},ec)}).WithHole({$:2,$0:"referidos",$1:J.Map(d5,ec)}).WithHole({$:2,$0:"descendientes",$1:J.Map(d6,ec)}).WithHole({$:2,$0:"comision",$1:J.Map(function(ej){return d7(ej.comision);},ec)}).WithHole({$:2,$0:"expandido",$1:eg})),ef.WithHole(H.EventQ2(ef.k,"expandir",function(){return ef.i;},function(){d9(eb);}))).WithHole({$:2,$0:"seleccionado",$1:J.Map(function(ej){return y.Equals({$:1,$0:eb},ej)?"seleccionado":"";},l.selAliadoIdOV().get_View())}),ee.WithHole(H.EventQ2(ee.k,"seleccionar",function(){return ee.i;},function(){d_(eb);}))),(eh=H.CompleteHoles(ed.k,ed.h,[]),(ei=new I.New(eh[1],Z.filaaliado(eh[0])),(ed.i=ei,ei)))).get_Doc();}dX=h.Create$1(null);dY=h.Create$1(null);return(dZ=(d0=b$.ConvertSeqBy(function(eb){return eb.id;},function(eb){return function(ec){return ea(eb,ec);};},(d1=J.Map(function(eb){return eb.aliados;},l.modeloV().get_View()),J.Map2(function(eb,ec){return d$(ec);},dX.get_View(),d1))),G.Make().WithHole({$:0,$0:"tbody",$1:d0})),(d2=H.CompleteHoles(dZ.k,dZ.h,[]),(d3=new I.New(d2[1],Z.tablaaliados(d2[0])),(dZ.i=d3,d3)))).get_Doc();};o.aliado=function(){function dX(dY){var dZ;dZ=_2.tryPick(function(d0){return d0.$==1?{$:1,$0:d0.$0.email}:null;},dY.contactos);return dZ==null?"correo no encontrado!":dZ.$0;}return l.selAliadoIdDoc(function(dY){var dZ,d0,d1,d2;return(dZ=(d0=o.calculo(),G.Make().WithHole({$:2,$0:"nombre",$1:J.Map(function(d3){return M.nombre2(d3.datosPersonales);},dY)}).WithHole({$:2,$0:"status",$1:J.Map(function(d3){return(function(d4){return function(d5){return d4(Y.p(d5));};}(a.id))(d3.status);},dY)}).WithHole({$:2,$0:"tipo",$1:J.Map(function(d3){return(function(d4){return function(d5){return d4(Y.p$1(d5));};}(a.id))(d3.tipo);},dY)}).WithHole({$:2,$0:"contacto",$1:J.Map(dX,dY)}).WithHole({$:0,$0:"calculo",$1:d0})),(d1=H.CompleteHoles(dZ.k,dZ.h,[]),(d2=new I.New(d1[1],Z.aliado(d1[0])),(dZ.i=d2,d2)))).get_Doc();});};o.calculo=function(){var dX,dY;dX=J.Map(function(dZ){return dZ.premisas;},l.modeloV().get_View());dY=J.Map(function(dZ){return dZ.aliados;},l.modeloV().get_View());J.Map2(function(dZ,d0){return _2.tryFind(function(d1){return y.Equals(d1.id,dZ);},d0);},J.Map(function(dZ){return dZ.idAliado;},l.modeloV().get_View()),dY);return l.selAliadoIdDoc(function(dZ){var d0,d1,d2,d3,d4;d0=J.Map2(M.comision,dX,dZ);d1=J.Map2(M.premisas,dX,dZ);return(d2=G.Make().WithHole({$:2,$0:"referidos",$1:J.Map(function(d5){return(function(d6){return function(d7){return d6(a.String(d7));};}(a.id))(d5.nReferidos);},dZ)}).WithHole({$:2,$0:"refactivos",$1:J.Map(function(d5){return(function(d6){return function(d7){return d6(a.String(d7));};}(a.id))(d5.nRefActivos);},dZ)}).WithHole({$:2,$0:"comreferido",$1:J.Map(function(d5){return(function(d6){return function(d7){return d6(a.String(d7));};}(a.id))(d5.nRefActivos);},dZ)}).WithHole({$:2,$0:"descendientes",$1:J.Map(function(d5){return(function(d6){return function(d7){return d6(a.String(d7));};}(a.id))(d5.nDescendientes);},dZ)}).WithHole({$:2,$0:"desactivos",$1:J.Map(function(d5){return(function(d6){return function(d7){return d6(a.String(d7));};}(a.id))(d5.nDescActivos);},dZ)}).WithHole({$:2,$0:"comision",$1:J.Map(function(d5){return l.money(d5[0]+d5[1]);},d0)}).WithHole({$:2,$0:"comreferido",$1:J.Map(function(d5){return l.money(d5[0]);},d0)}).WithHole({$:2,$0:"comdescendiente",$1:J.Map(function(d5){return l.money(d5[1]);},d0)}).WithHole({$:2,$0:"porreferido",$1:J.Map(function(d5){return l.money(d5[0]);},d1)}).WithHole({$:2,$0:"pordescendiente",$1:J.Map(function(d5){return l.money(d5[1]);},d1)}),(d3=H.CompleteHoles(d2.k,d2.h,[]),(d4=new I.New(d3[1],Z.calculo(d3[0])),(d2.i=d4,d4)))).get_Doc();});};p.formaDoc=function(){var dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$;dX=h.Create$1("");dY=h.Create$1(false);dZ=h.Create$1(null);d0=h.Create$1(null);d1=h.Create$1(null);d2=h.Create$1(null);d3=ba.formaDoc(dZ);d4=bb.formaDoc(d0);d5=bc.formaDoc(d1);d6=bd.formaDoc(d2);d7=(d8=(d9=G.Make().WithHole({$:2,$0:"mensajes",$1:J.Map2(function(ea,eb){return ea?eb:"";},dY.get_View(),dX.get_View())}).WithHole({$:0,$0:"datospersonales",$1:d3[1]}).WithHole({$:0,$0:"correo",$1:d4[1]}).WithHole({$:0,$0:"telefono",$1:d5[1]}).WithHole({$:0,$0:"direccion",$1:d6[1]}),d9.WithHole(H.EventQ2(d9.k,"registrarse",function(){return d9.i;},function(){var ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek;function el(em){a.alert(em);}dY.Set(true);ea=dX.Get();_.Trim(ea)!==""?a.alert(ea):(eb=dZ.Get(),ec=d0.Get(),ed=d1.Get(),ee=d2.Get(),eb!=null&&eb.$==1&&(ec!=null&&ec.$==1&&(ed!=null&&ed.$==1&&(ee!=null&&ee.$==1&&(ef=[ec.$0,eb.$0,ee.$0,ed.$0],true))))?(eg=ef[0],eh=ef[1],ei=ef[2],ej=ef[3],bf.iterA(function(em){return el(bm.summarized(em));},a.ignore,(ek=be.asyncResultM(),ek.Run(ek.Delay(function(){var em;return ek.Bind$4(bh.ejecutarEvento({$:3,$0:[new bl({$:0,$0:_.Substring(_.Replace((em=bj.NewGuid(),a.String(em)),"-",""),0,20)}),eh,{$:1,$0:l.modeloV().Get().idAliado},[{$:1,$0:eg},{$:2,$0:ej},{$:0,$0:ei}]]}),function(en){l.refrescarData();a.alert((function(eo){return function(ep){return eo(Y.p$11(ep));};}(a.id))(en));return ek.Zero();});}))))):a.alert("Error not caught FormaRegistro"));}))),(d_=H.CompleteHoles(d8.k,d8.h,[]),(d$=new I.New(d_[1],Z.formaregistro(d_[0])),(d8.i=d$,d$))));J.Sink(function(ea){dX.Set(ea);},J.Apply(J.Apply(J.Map2(function(ea,eb){return function(ec){return function(ed){var ee;ee=_.concat(", ",_2.delay(function(){return _2.append(ea,_2.delay(function(){return _2.append(eb,_2.delay(function(){return _2.append(ec,_2.delay(function(){return ed;}));}));}));}));return ee!==""?"Campos requeridos: "+ee:"";};};},d3[0],d4[0]),d5[0]),d6[0]));return d7.get_Doc();};q.formaDoc=function(){return l.aliadoIdDoc(q.formaAliado);};q.formaAliado=function(dX){var dY,dZ,d0,d1,d2,d3,d4,d5,d6;function d7(d9){return{$:1,$0:d9};}function d8(d9){d0.Set(d9);}dY=h.Create$1("");dZ=h.Create$1(false);d0=h.Create$1(null);J.Sink(function(d9){return d8(d7(d9));},J.Map(function(d9){return d9.datosPersonales;},dX));d1=ba.formaDoc(d0);d2=(d3=(d4=G.Make().WithHole({$:2,$0:"mensajes",$1:J.Map2(function(d9,d_){return d9?d_:"";},dZ.get_View(),dY.get_View())}).WithHole({$:2,$0:"changed",$1:J.Map2(function(d9,d_){return y.Equals({$:1,$0:d9.datosPersonales},d_)?"":"mui-btn--primary";},dX,d0.get_View())}).WithHole({$:0,$0:"datospersonales",$1:d1[1]}),d4.WithHole(H.EventQ2(d4.k,"salvar",function(){return d4.i;},function(){var d9,d_,d$,ea,eb,ec,ed;function ee(ef){a.alert(ef);}dZ.Set(true);d9=dY.Get();_.Trim(d9)!==""?a.alert(d9):(d_=d0.Get(),d$=J.TryGet(dX),d_!=null&&d_.$==1&&(d$!=null&&d$.$==1&&(ea=[d$.$0,d_.$0],true))?(eb=ea[0],ec=ea[1],bf.iterA(function(ef){return ee(bm.summarized(ef));},a.ignore,(ed=be.asyncResultM(),ed.Run(ed.Delay(function(){return ed.Bind$4(bh.ejecutarEvento({$:4,$0:[eb.id,ec]}),function(ef){l.refrescarData();a.alert((function(eg){return function(eh){return eg(Y.p$11(eh));};}(a.id))(ef));return ed.Zero();});}))))):a.alert("Error not caught FormaDatos"));}))),(d5=H.CompleteHoles(d3.k,d3.h,[]),(d6=new I.New(d5[1],Z.formadatospersonales(d5[0])),(d3.i=d6,d6))));J.Sink(function(d9){dY.Set(d9);},J.Map(function(d9){var d_;d_=_.concat(", ",_2.delay(function(){return d9;}));return d_!==""?"Campos requeridos: "+d_:"";},d1[0]));return d2.get_Doc();};r.formaDoc=function(){return l.aliadoIdDoc(r.formaContactos);};r.formaContactos=function(dX){var dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef;function eg(eh,ei){return function(ej){return new cL.New(J.Map(function(ek){var el;el=_2.tryItem(ej,ek);return el==null?null:eh(el.$0);},d0.get_View()),function(ek){if(ek!=null&&ek.$==1)d0.Set(cg.replace(ej,ei(ek.$0),d0.Get()));});};}dY=h.Create$1("");dZ=h.Create$1(false);d0=h.Create$1([]);J.Sink(function(eh){d0.Set(eh);},J.Map(function(eh){return eh.contactos;},dX));d1=J.Map(_2.indexed,d0.get_View());d2=[function(eh){return eh.$==2?{$:1,$0:eh.$0}:null;},function(eh){return{$:2,$0:eh};}];d3=[function(eh){return eh.$==1?{$:1,$0:eh.$0}:null;},function(eh){return{$:1,$0:eh};}];d4=[function(eh){return eh.$==0?{$:1,$0:eh.$0}:null;},function(eh){return{$:0,$0:eh};}];d5=J.Map(function(eh){function ei(ej,ek){return d2[0](ek)==null?null:{$:1,$0:ej};}return _2.choose(function(ej){return ei(ej[0],ej[1]);},eh);},d1);d6=J.Map(function(eh){function ei(ej,ek){return d3[0](ek)==null?null:{$:1,$0:ej};}return _2.choose(function(ej){return ei(ej[0],ej[1]);},eh);},d1);d7=J.Map(function(eh){function ei(ej,ek){return d4[0](ek)==null?null:{$:1,$0:ej};}return _2.choose(function(ej){return ei(ej[0],ej[1]);},eh);},d1);d8=b$.ConvertBy(a.id,function(eh){return b_.removeButton(function(){d0.Set(cg.remove(eh,d0.Get()));},(bc.formaDoc((function(ei){return eg(ei[0],ei[1]);}(d2))(eh)))[1]);},d5);d9=b$.ConvertBy(a.id,function(eh){return b_.removeButton(function(){d0.Set(cg.remove(eh,d0.Get()));},(bb.formaDoc((function(ei){return eg(ei[0],ei[1]);}(d3))(eh)))[1]);},d6);d_=b$.ConvertBy(a.id,function(eh){return b_.removeButton(function(){d0.Set(cg.remove(eh,d0.Get()));},(bd.formaDoc((function(ei){return eg(ei[0],ei[1]);}(d4))(eh)))[1]);},d7);return(d$=(ea=(eb=(ec=(ed=G.Make().WithHole({$:2,$0:"mensajes",$1:J.Map2(function(eh,ei){return eh?ei:"";},dZ.get_View(),dY.get_View())}).WithHole({$:2,$0:"changed",$1:J.Map2(function(eh,ei){return y.Equals(eh.contactos,ei)?"":"mui-btn--primary";},dX,d0.get_View())}).WithHole({$:0,$0:"telefonos",$1:d8}).WithHole({$:0,$0:"correos",$1:d9}).WithHole({$:0,$0:"direcciones",$1:d_}),ed.WithHole(H.EventQ2(ed.k,"mastelefono",function(){return ed.i;},function(){d0.Set(d0.Get().concat([{$:2,$0:bk.telVacio()}]));}))),ec.WithHole(H.EventQ2(ec.k,"mascorreo",function(){return ec.i;},function(){d0.Set(d0.Get().concat([{$:1,$0:K.correoVacio()}]));}))),eb.WithHole(H.EventQ2(eb.k,"masdireccion",function(){return eb.i;},function(){d0.Set(d0.Get().concat([{$:0,$0:bk.dirVacio()}]));}))),ea.WithHole(H.EventQ2(ea.k,"salvar",function(){return ea.i;},function(){var eh,ei,ej,ek;function el(em){a.alert(em);}dZ.Set(true);eh=dY.Get();_.Trim(eh)!==""?a.alert(eh):(ei=J.TryGet(dX),ei!=null&&ei.$==1?(ej=ei.$0,bf.iterA(function(em){return el(bm.summarized(em));},a.ignore,(ek=be.asyncResultM(),ek.Run(ek.Delay(function(){return ek.Bind$4(bh.ejecutarEvento({$:5,$0:[ej.id,d0.Get()]}),function(em){l.refrescarData();a.alert((function(en){return function(eo){return en(Y.p$11(eo));};}(a.id))(em));return ek.Zero();});}))))):a.alert("Error not caught FormaDatos"));}))),(ee=H.CompleteHoles(d$.k,d$.h,[]),(ef=new I.New(ee[1],Z.formacontactos(ee[0])),(d$.i=ef,ef)))).get_Doc();};s.formaDoc=function(){return l.aliadoIdDoc(s.formaFormasPago);};s.formaFormasPago=function(dX){var dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$;function ea(ec,ed){return function(ee){return new cL.New(J.Map(function(ef){var eg;eg=_2.tryItem(ee,ef);return eg==null?null:ec(eg.$0);},d0.get_View()),function(ef){if(ef!=null&&ef.$==1)d0.Set(cg.replace(ee,(ed(C.get(d0.Get(),ee)))(ef.$0[0]),d0.Get()));});};}function eb(ec){return bA.New("",_3.Error(""),ec);}dY=h.Create$1("");dZ=h.Create$1(false);d0=h.Create$1([]);J.Sink(function(ec){d0.Set(ec);},J.Map(function(ec){return ec.formasPago;},dX));d1=J.Map(_2.indexed,d0.get_View());d2=J.Map(function(ec){function ed(ee,ef){return(s.ftar())[0](ef)==null?null:{$:1,$0:ee};}return _2.choose(function(ee){return ed(ee[0],ee[1]);},ec);},d1);d3=J.Map(function(ec){function ed(ee,ef){return(s.fcta())[0](ef)==null?null:{$:1,$0:ee};}return _2.choose(function(ee){return ed(ee[0],ee[1]);},ec);},d1);d4=b$.ConvertBy(a.id,function(ec){return b_.removeButton(function(){d0.Set(cg.remove(ec,d0.Get()));},(ci.formaDocO((function(ed){return ea(ed[0],ed[1]);}(s.ftar()))(ec)))[1]);},d2);d5=b$.ConvertBy(a.id,function(ec){return b_.removeButton(function(){d0.Set(cg.remove(ec,d0.Get()));},(ch.formaDocO((function(ed){return ea(ed[0],ed[1]);}(s.fcta()))(ec)))[1]);},d3);return(d6=(d7=(d8=(d9=G.Make().WithHole({$:2,$0:"mensajes",$1:J.Map2(function(ec,ed){return ec?ed:"";},dZ.get_View(),dY.get_View())}).WithHole({$:2,$0:"changed",$1:J.Map2(function(ec,ed){return y.Equals(ec.formasPago,ed)?"":"mui-btn--primary";},dX,d0.get_View())}).WithHole({$:0,$0:"tarjetas",$1:d4}).WithHole({$:0,$0:"cuentas",$1:d5}),d9.WithHole(H.EventQ2(d9.k,"mastarjeta",function(){return d9.i;},function(){d0.Set(d0.Get().concat([eb({$:1,$0:bk.tarVacio()})]));}))),d8.WithHole(H.EventQ2(d8.k,"mascuenta",function(){return d8.i;},function(){d0.Set(d0.Get().concat([eb({$:0,$0:bk.ctaVacio()})]));}))),d7.WithHole(H.EventQ2(d7.k,"salvar",function(){return d7.i;},function(){var ec,ed,ee,ef;function eg(eh){a.alert(eh);}dZ.Set(true);ec=dY.Get();_.Trim(ec)!==""?a.alert(ec):(ed=J.TryGet(dX),ed!=null&&ed.$==1?(ee=ed.$0,bf.iterA(function(eh){return eg(bm.summarized(eh));},a.ignore,(ef=be.asyncResultM(),ef.Run(ef.Delay(function(){return ef.Bind$4(bh.ejecutarEvento({$:6,$0:[ee.id,d0.Get()]}),function(eh){l.refrescarData();a.alert((function(ei){return function(ej){return ei(Y.p$11(ej));};}(a.id))(eh));return ef.Zero();});}))))):a.alert("Error not caught FormaDatos"));}))),(d_=H.CompleteHoles(d6.k,d6.h,[]),(d$=new I.New(d_[1],Z.formacuentas(d_[0])),(d6.i=d$,d$)))).get_Doc();};s.msg=function(dX){var dY;dY=dX.authorizeIdR;return dY.$==0?"":dY.$0;};s.fcta=function(){S.$cctor();return S.fcta;};s.ftar=function(){S.$cctor();return S.ftar;};t.FailWith=function(dX){throw new dl(dX);};t.range=function(dX,dY){var dZ;dZ=1+dY-dX;return dZ<=0?[]:_2.init(dZ,function(d0){return d0+dX;});};t.KeyValue=function(dX){return[dX.K,dX.V];};t.toInt=function(dX){var dY;dY=t.toUInt(dX);return dY>=2147483648?dY-4294967296:dY;};t.toUInt=function(dX){return(dX<0?dQ.ceil(dX):dQ.floor(dX))>>>0;};x.GetFields=function(dX){var dY,dZ;dY=[];for(var d0 in dX)dY.push([d0,dX[d0]]);return dY;};x.GetFieldValues=function(dX){var dY,dZ;dY=[];for(var d0 in dX)dY.push(dX[d0]);return dY;};y.Equals=function(dX,dY){var dZ,d0,d1,d2;if(dX===dY)return true;else{dZ=typeof dX;if(dZ=="object"){if(dX===null||dX===void 0||dY===null||dY===void 0)return false;else if("Equals"in dX)return dX.Equals(dY);else if(dX instanceof a.Array&&dY instanceof a.Array)return y.arrayEquals(dX,dY);else if(dX instanceof a.Date&&dY instanceof a.Date)return y.dateEquals(dX,dY);else{d0=[true];for(var d3 in dX)if(function(d4){d0[0]=!dX.hasOwnProperty(d4)||dY.hasOwnProperty(d4)&&y.Equals(dX[d4],dY[d4]);return!d0[0];}(d3))break;if(d0[0]){for(var d4 in dY)if(function(d5){d0[0]=!dY.hasOwnProperty(d5)||dX.hasOwnProperty(d5);return!d0[0];}(d4))break;}return d0[0];}}else return dZ=="function"&&("$Func"in dX?dX.$Func===dY.$Func&&dX.$Target===dY.$Target:"$Invokes"in dX&&"$Invokes"in dY&&y.arrayEquals(dX.$Invokes,dY.$Invokes));}};y.arrayEquals=function(dX,dY){var dZ,d0;if(C.length(dX)===C.length(dY)){dZ=true;d0=0;while(dZ&&d0<C.length(dX)){!y.Equals(C.get(dX,d0),C.get(dY,d0))?dZ=false:void 0;d0=d0+1;}return dZ;}else return false;};y.dateEquals=function(dX,dY){return dX.getTime()===dY.getTime();};y.Compare=function(dX,dY){var dZ,d0,d1,d2,d3,d4;if(dX===dY)return 0;else{d0=typeof dX;switch(d0=="function"?1:d0=="boolean"?2:d0=="number"?2:d0=="string"?2:d0=="object"?3:0){case 0:return typeof dY=="undefined"?0:-1;case 1:return t.FailWith("Cannot compare function values.");case 2:return dX<dY?-1:1;case 3:if(dX===null)d1=-1;else if(dY===null)d1=1;else if("CompareTo"in dX)d1=dX.CompareTo(dY);else if("CompareTo0"in dX)d1=dX.CompareTo0(dY);else if(dX instanceof a.Array&&dY instanceof a.Array)d1=y.compareArrays(dX,dY);else if(dX instanceof a.Date&&dY instanceof a.Date)d1=y.compareDates(dX,dY);else{d2=[0];for(var d5 in dX)if(function(d6){return!dX.hasOwnProperty(d6)?false:!dY.hasOwnProperty(d6)?(d2[0]=1,true):(d2[0]=y.Compare(dX[d6],dY[d6]),d2[0]!==0);}(d5))break;if(d2[0]===0){for(var d6 in dY)if(function(d7){return!dY.hasOwnProperty(d7)?false:!dX.hasOwnProperty(d7)&&(d2[0]=-1,true);}(d6))break;}d1=d2[0];}return d1;}}};y.compareArrays=function(dX,dY){var dZ,d0;if(C.length(dX)<C.length(dY))return -1;else if(C.length(dX)>C.length(dY))return 1;else{dZ=0;d0=0;while(dZ===0&&d0<C.length(dX)){dZ=y.Compare(C.get(dX,d0),C.get(dY,d0));d0=d0+1;}return dZ;}};y.compareDates=function(dX,dY){return y.Compare(dX.getTime(),dY.getTime());};y.Hash=function(dX){var dY;dY=typeof dX;return dY=="function"?0:dY=="boolean"?dX?1:0:dY=="number"?dX:dY=="string"?y.hashString(dX):dY=="object"?dX==null?0:dX instanceof a.Array?y.hashArray(dX):y.hashObject(dX):0;};y.hashString=function(dX){var dY,dZ,d0;if(dX===null)return 0;else{dY=5381;for(dZ=0,d0=dX.length-1;dZ<=d0;dZ++)dY=y.hashMix(dY,dX[dZ].charCodeAt());return dY;}};y.hashArray=function(dX){var dY,dZ,d0;dY=-34948909;for(dZ=0,d0=C.length(dX)-1;dZ<=d0;dZ++)dY=y.hashMix(dY,y.Hash(C.get(dX,dZ)));return dY;};y.hashObject=function(dX){var dY,dZ;if("GetHashCode"in dX)return dX.GetHashCode();else{dY=[0];for(var d0 in dX)if(function(d1){dY[0]=y.hashMix(y.hashMix(dY[0],y.hashString(d1)),y.Hash(dX[d1]));return false;}(d0))break;return dY[0];}};y.hashMix=function(dX,dY){return(dX<<5)+dX+dY;};z.newLyt=function(dX,dY){return bs.New(dX,h.Create$1(dY));};z.addLayout=function(dX){J.Sink(function(dY){var dZ;dZ=z.createEntries(dX.lytName,dY);j.addPlugIn(k.New(dX.lytName,C.ofSeq(_2.delay(function(){return _2.append([j.newVar("Layout",dX.lytDefinition)],_2.delay(function(){return z.getVarEntries(dZ);}));})),[],C.ofSeq(_2.delay(function(){return _2.append(z.getDocEntries(dZ),_2.delay(function(){var d0;return _2.append([j.newDocF("InputFile",{$:4,$0:(d0=dX.lytName,dP.Curried(z.inputFile,4,[d0])),$1:"attrs",$2:"Label",$3:"Action",$4:"[Doc]"})],_2.delay(function(){var d1;return _2.append([j.newDocF("InputLabel",{$:3,$0:(d1=dX.lytName,dP.Curried(z.inputLabel,3,[d1])),$1:"attrs",$2:"Label",$3:"Var"})],_2.delay(function(){return[j.newDocF("none",{$:1,$0:z.none,$1:"x"})];}));}));}));})),[],[]));j.mainDocV().Set(j.mainDocV().Get());},dX.lytDefinition.get_View());};z.splitName=function(){bt.$cctor();return bt.splitName;};z.getDocFinal=function(dX,dY){var dZ;dZ=z.getDocF(dX,dY);return dZ[1].$==0?dZ[0]:z.errDoc((((dP.Curried3(function(d0,d1,d2){return d0("Too many parameters "+cj.p(d1)+" "+bp.printList(function(d3){return"("+bp.prettyPrint(d3[0])+", "+bp.prettyPrint(d3[1])+")";},d2));}))(a.id))(dY))(dX));};z.errDoc=function(dX){return b$.Element("div",[],[b$.TextNode(dX)]);};z.createEntries=function(dX,dY){return z.processLines(function(dZ){return z.createEntryO(dX,dZ);},bO.splitByChar("\n",dY));};z.getVarEntries=function(dX){function dY(dZ){return dZ[1];}return _2.map(function(dZ){return _2.last(dY(dZ));},_2.groupBy(function(dZ){return dZ.varName;},_2.choose(function(dZ){return dZ.$==0?{$:1,$0:dZ.$0}:null;},dX)));};z.getDocEntries=function(dX){function dY(dZ){return dZ[1];}return _2.map(function(dZ){return _2.last(dY(dZ));},_2.groupBy(function(dZ){return dZ.docName;},_2.choose(function(dZ){return dZ.$==2?{$:1,$0:dZ.$0}:null;},dX)));};z.inputFile=function(dX,dY,dZ,d0,d1){var d2,d3,d4,d5;d2=(d3=(d4=((z.splitName())(dX))(d0),j.tryGetAct(d4[0],d4[1])),d3==null?null:{$:1,$0:(d5=d3.$0,b$.Element("div",z.getAttrs(dX,dY,true),[b$.Element("div",[cw.Create("class","input-group")],[b$.Element("span",[cw.Create("class","input-group-btn")],[b$.Element("label",[cw.Create("class","btn")],[z.getText(dX,dZ,true),b$.Element("input",[cw.Create("class","form-control"),cw.Create("type","file"),co.Style("display","none"),cw.HandlerImpl("click",function(d6){return function(){d6.value="";};}),cw.HandlerImpl("change",function(d6){return function(){return j.callFunction(d6,null,d5.actFunction);};})],[])])]),d1!==""?z.singleDoc(dX,bn.ofArray([[d1,false]])):b$.get_Empty()])]))});return d2==null?z.errDoc((function(d6){return function(d7){return d6("Action not found "+bp.toSafe(d7));};}(a.id))(d0)):d2.$0;};z.inputLabel=function(dX,dY,dZ,d0){var d1,d2,d3;d1=(d2=(d3=((z.splitName())(dX))(d0),j.tryGetVar(d3[0],d3[1])),d2==null?null:{$:1,$0:b$.Element("div",z.getAttrs(dX,dY,true),[b$.Element("div",[cw.Create("class","input-group")],[b$.Element("span",[cw.Create("class","input-group-addon")],[z.getText(dX,dZ,true)]),b$.Input([cw.Create("class","form-control")],d2.$0.varVar)])])});return d1==null?z.errDoc((function(d4){return function(d5){return d4("Var not found "+bp.toSafe(d5));};}(a.id))(d0)):d1.$0;};z.none=function(dX){return b$.Element("span",[],[]);};z.getDocF=function(dX,dY){var dZ,d0;d0=dY.docDoc;switch(d0.$==1?dX.$==1?(dZ=[d0.$0,dX.$0[0],dX.$1],1):6:d0.$==2?dX.$==1?dX.$1.$==1?(dZ=[d0.$0,dX.$0[0],dX.$1.$0[0],dX.$1.$1],2):6:6:d0.$==3?dX.$==1?dX.$1.$==1?dX.$1.$1.$==1?(dZ=[d0.$0,dX.$0[0],dX.$1.$0[0],dX.$1.$1.$0[0],dX.$1.$1.$1],3):6:6:6:d0.$==4?dX.$==1?dX.$1.$==1?dX.$1.$1.$==1?dX.$1.$1.$1.$==1?(dZ=[d0.$0,dX.$0[0],dX.$1.$0[0],dX.$1.$1.$0[0],dX.$1.$1.$1.$0[0],dX.$1.$1.$1.$1],4):6:6:6:6:d0.$==5?dX.$==1?dX.$1.$==1?dX.$1.$1.$==1?dX.$1.$1.$1.$==1?dX.$1.$1.$1.$1.$==1?(dZ=[d0.$0,dX.$0[0],dX.$1.$0[0],dX.$1.$1.$0[0],dX.$1.$1.$1.$0[0],dX.$1.$1.$1.$1.$0[0],dX.$1.$1.$1.$1.$1],5):6:6:6:6:6:(dZ=[d0.$0,dX],0)){case 0:return[dZ[0].f(),dZ[1]];case 1:return[dZ[0](dZ[1]),dZ[2]];case 2:return[(dZ[0](dZ[1]))(dZ[2]),dZ[3]];case 3:return[((dZ[0](dZ[1]))(dZ[2]))(dZ[3]),dZ[4]];case 4:return[(((dZ[0](dZ[1]))(dZ[2]))(dZ[3]))(dZ[4]),dZ[5]];case 5:return[((((dZ[0](dZ[1]))(dZ[2]))(dZ[3]))(dZ[4]))(dZ[5]),dZ[6]];case 6:return[b$.Element("div",[],[b$.TextNode((((dP.Curried3(function(d1,d2,d3){return d1("Parameters do not coincide with definition "+cj.p(d2)+" - "+bp.printList(function(d4){return"("+bp.prettyPrint(d4[0])+", "+bp.prettyPrint(d4[1])+")";},d3));}))(a.id))(dY))(dX))]),bo.Empty];}};z.processLines=function(dX,dY){function dZ(d0){var d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec;d1=_2.tryHead(d0);return d1!=null&&d1.$==1?(d2=d1.$0,(d3=z.splitTokens(d2),d3.$==1&&(d5=(d6=d3.$0,z.Identifier(d6[0],d6[1])),d5!=null&&d5.$==1&&(d3.$1.$==1&&((d7=d3.$1.$0,z.Vertical(d7[0],d7[1])).$==2&&(d3.$1.$1.$==0&&(d4=d5.$0,true)))))?(d8=z.getExtraLines(function(ed){return _.StartsWith(_.Trim(ed),"|");},d0),dZ((cN.createLayoutDefinitions(d4,cN.extractNodes(d8[0])))[1].concat(d8[1]))):d3.$==0?dZ(bP.array(d0,{$:1,$0:1},null)):(d9=z.getExtraLines(function(ed){return _.StartsWith(_.Trim(ed),":");},d0),(d_=d9[1],(d$=d9[0],C.length(d$)>0?((function(ed){return function(ee){return ed("l = ;"+bp.toSafe(ee)+";");};}(function(ed){dR.log(ed);}))(d2),ea=z.createLines(_2.nth(0,_.SplitChars(d2,[" "],1)),1,[],[],1,d$),eb=ea[0],ec=ea[1],dZ(C.ofSeq(_2.delay(function(){return _2.append([d2+" "+_.concat(" ",eb)],_2.delay(function(){return _2.append(ec,_2.delay(function(){return d_;}));}));})))):C.ofSeq(_2.delay(function(){var ed;return _2.append((ed=dX(d2),ed!=null&&ed.$==1?[ed.$0]:[]),_2.delay(function(){return dZ(d_);}));}))))))):[];}return dZ(dY);};z.createEntryO=function(dX,dY){var dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0;try{dZ=z.splitTokens(dY);return dZ.$==1&&(d1=(d2=dZ.$0,z.Identifier(d2[0],d2[1])),d1!=null&&d1.$==1&&(dZ.$1.$==1&&((d3=dZ.$1.$0,z.Vertical(d3[0],d3[1])).$==0&&(dZ.$1.$1.$==1&&(d4=(d5=dZ.$1.$1.$0,z.Measures$1(d5[0],d5[1])),d4!=null&&d4.$==1&&(d0=[dZ.$1.$1.$1,d4.$0,d1.$0],true))))))?(d6=d0[2],z.entryDoc(d6,(z.createSplitterM())([dX,d6,true,d0[1],d0[0]]))):dZ.$==1&&(d8=(d9=dZ.$0,z.Identifier(d9[0],d9[1])),d8!=null&&d8.$==1&&(dZ.$1.$==1&&((d_=dZ.$1.$0,z.Vertical(d_[0],d_[1])).$==1&&(dZ.$1.$1.$==1&&(d$=(ea=dZ.$1.$1.$0,z.Measures$1(ea[0],ea[1])),d$!=null&&d$.$==1&&(d7=[dZ.$1.$1.$1,d$.$0,d8.$0],true))))))?(eb=d7[2],z.entryDoc(eb,(z.createSplitterM())([dX,eb,false,d7[1],d7[0]]))):dZ.$==1&&(ed=(ee=dZ.$0,z.Identifier(ee[0],ee[1])),ed!=null&&ed.$==1&&(dZ.$1.$==1&&((ef=dZ.$1.$0,z.Var(ef[0],ef[1])).$==2&&(dZ.$1.$1.$==1&&(eg=(eh=dZ.$1.$1.$0,z.Identifier(eh[0],eh[1])),eg!=null&&eg.$==1&&(dZ.$1.$1.$1.$==1&&(dZ.$1.$1.$1.$1.$==1&&(dZ.$1.$1.$1.$1.$1.$==0&&(ec=[eg.$0,dZ.$1.$1.$1.$0,ed.$0,dZ.$1.$1.$1.$1.$0],true)))))))))?(ei=ec[2],z.entryDoc(ei,(z.createButtonM())([dX,ei,ec[0],ec[1],ec[3]]))):dZ.$==1&&(ek=(el=dZ.$0,z.Identifier(el[0],el[1])),ek!=null&&ek.$==1&&(dZ.$1.$==1&&((em=dZ.$1.$0,z.Var(em[0],em[1])).$==3&&(dZ.$1.$1.$==1&&(en=(eo=dZ.$1.$1.$0,z.Identifier(eo[0],eo[1])),en!=null&&en.$==1&&(dZ.$1.$1.$1.$==1&&(dZ.$1.$1.$1.$1.$==0&&(ej=[dZ.$1.$1.$1.$0,ek.$0,en.$0],true))))))))?(ep=ej[1],z.entryDoc(ep,(z.createInputM())([dX,ep,ej[2],ej[0]]))):dZ.$==1&&(er=(es=dZ.$0,z.Identifier(es[0],es[1])),er!=null&&er.$==1&&(dZ.$1.$==1&&((et=dZ.$1.$0,z.Var(et[0],et[1])).$==4&&(dZ.$1.$1.$==1&&(eu=(ev=dZ.$1.$1.$0,z.Identifier(ev[0],ev[1])),eu!=null&&eu.$==1&&(dZ.$1.$1.$1.$==1&&(dZ.$1.$1.$1.$1.$==0&&(eq=[dZ.$1.$1.$1.$0,er.$0,eu.$0],true))))))))?(ew=eq[1],z.entryDoc(ew,(z.createTextAreaM())([dX,ew,eq[2],eq[0]]))):dZ.$==1&&(ey=(ez=dZ.$0,z.Identifier(ez[0],ez[1])),ey!=null&&ey.$==1&&(dZ.$1.$==1&&((eA=dZ.$1.$0,z.Var(eA[0],eA[1])).$==0&&(dZ.$1.$1.$==1&&(dZ.$1.$1.$1.$==0&&(ex=[ey.$0,dZ.$1.$1.$0],true))))))?(eB=ex[0],z.entryVar(eB,(z.createVarM())([dX,eB,ex[1][0]]))):dZ.$==1&&(eD=(eE=dZ.$0,z.Identifier(eE[0],eE[1])),eD!=null&&eD.$==1&&(dZ.$1.$==1&&((eF=dZ.$1.$0,z.Var(eF[0],eF[1])).$==1&&(dZ.$1.$1.$==1&&(eC=[dZ.$1.$1.$0,eD.$0,dZ.$1.$1.$1],true)))))?(eG=eC[1],z.entryDoc(eG,(z.createDocM())([dX,eG,eC[0][0],eC[2]]))):dZ.$==1&&(eI=(eJ=dZ.$0,z.Identifier(eJ[0],eJ[1])),eI!=null&&eI.$==1&&(dZ.$1.$==1&&((eK=dZ.$1.$0,z.Vertical(eK[0],eK[1])).$==4&&(dZ.$1.$1.$==1&&(dZ.$1.$1.$1.$==1&&(eH=[dZ.$1.$1.$1.$0,dZ.$1.$1.$1.$1,eI.$0,dZ.$1.$1.$0],true))))))?(eL=eH[2],z.entryDoc(eL,(z.createTemplateM())([dX,eL,eH[3],eH[0],eH[1]]))):dZ.$==1&&(eN=(eO=dZ.$0,z.Identifier(eO[0],eO[1])),eN!=null&&eN.$==1&&(dZ.$1.$==1&&((eP=dZ.$1.$0,z.Concat(eP[0],eP[1])).$==0&&(eM=[dZ.$1.$1,eN.$0],true))))?(eQ=eM[1],z.entryDoc(eQ,(z.createConcatM())([dX,eQ,eM[0]]))):dZ.$==1&&(eS=(eT=dZ.$0,z.Identifier(eT[0],eT[1])),eS!=null&&eS.$==1&&(dZ.$1.$==1&&((eU=dZ.$1.$0,z.Vertical(eU[0],eU[1])).$==3&&(dZ.$1.$1.$==1&&(dZ.$1.$1.$1.$==1&&(dZ.$1.$1.$1.$1.$==1&&(eR=[dZ.$1.$1.$1.$1.$0,dZ.$1.$1.$0,dZ.$1.$1.$1.$1.$1,eS.$0,dZ.$1.$1.$1.$0],true)))))))?null:dZ.$==1&&(eW=(eX=dZ.$0,z.Identifier(eX[0],eX[1])),eW!=null&&eW.$==1&&(dZ.$1.$==1&&(eY=(eZ=dZ.$1.$0,z.Vertical(eZ[0],eZ[1])),eY.$==5&&(dZ.$1.$1.$==1&&(eV=[dZ.$1.$1.$0,dZ.$1.$1.$1,eY.$0,eW.$0],true)))))?(e0=eV[3],z.entryDoc(e0,(z.createElementM())([dX,e0,eV[2],eV[0],eV[1]]))):null;}catch(e1){((function(e2){return function(e3){return e2(bp.prettyPrint(e3));};}(function(e2){dR.log(e2);}))(e1));return null;}};z.getAttrs=function(dX,dY,dZ){var d0;d0=[dY,dZ];return bn.ofSeq(_2.delay(function(){return _2.append(_2.choose(function(d1){var d2,d3,d4,d5,d6,d7;return!y.Equals(d1,null)&&d1.length===2&&(d3=C.get(d1,1),_.Trim(C.get(d1,0))!==""&&_.Trim(d3)!=="")?(d4=C.get(d1,1),(d5=C.get(d1,0),{$:1,$0:(d6=z.getTextData(dX,_.Trim(d4)),d6.$==1?co.Dynamic(_.Trim(d5),d6.$0):d6.$==2?(d7=d6.$0,co.Handler(_.Trim(d5),function(d8){return function(d9){return j.callFunction(d8,d9,d7.actFunction);};})):cw.Create(_.Trim(d5),_.Trim(d6.$0)))})):null;},_2.map(function(d1){return bO.splitByChar("=",d1);},bO.splitByChar(";",d0[0]))),_2.delay(function(){return _2.choose(function(d1){var d2,d3,d4,d5,d6;return!y.Equals(d1,null)&&d1.length===2&&(d3=C.get(d1,1),_.Trim(C.get(d1,0))!==""&&_.Trim(d3)!=="")?(d4=C.get(d1,1),(d5=C.get(d1,0),{$:1,$0:(d6=z.getTextData(dX,_.Trim(d4)),d6.$==1?co.DynamicStyle(_.Trim(d5),d6.$0):d6.$==2?co.Style(_.Trim(d5),(function(d7){return function(d8){return d7("${"+bp.toSafe(d8)+"}");};}(a.id))(d6.$0.actName)):co.Style(_.Trim(d5),_.Trim(d6.$0)))})):null;},_2.map(function(d1){return bO.splitByChar(":",d1);},bO.splitByChar(";",d0[0])));}));}));};z.getText=function(dX,dY,dZ){var d0,d1,d2,d3,d4,d5,d6,d7,d8;d0=z.Identifier(dY,dZ);return d0!=null&&d0.$==1?(d1=d0.$0,(d2=((z.splitName())(dX))(d1),(d3=d2[0],(d4=d2[1],(d5=(d6=j.tryGetViw(d3,d4),d6==null?null:{$:1,$0:b$.TextView(d6.$0.viwView)}),d5==null?(d7=(d8=j.tryGetVar(d3,d4),d8==null?null:{$:1,$0:b$.TextView(d8.$0.varVar.get_View())}),d7==null?b$.TextNode(d1):d7.$0):d5.$0))))):b$.TextNode(dY);};z.singleDoc=function(dX,dY){return b$.EmbedView(J.Map(function(dZ){var d0;return dZ.$==1&&(dZ.$1.$==0&&(d0=dZ.$0,true))?d0:z.errDoc((function(d1){return function(d2){return d1("expected exactly 1 element "+bp.printList(function(d3){return"("+bp.prettyPrint(d3[0])+", "+bp.prettyPrint(d3[1])+")";},d2));};}(a.id))(dY));},J.Map(function(){return z.getDocs(dX,dY);},j.mainDocV().get_View())));};z.createSplitter=function(dX,dY,dZ,d0,d1){var d2;d2=z.pairOfDocs(dX,d1);return d0.$==1?z.variableSplitter(dZ,d0.$0,d0.$1,d0.$2,d2[0],d2[1]):z.fixedSplitter(dZ,d0.$0,d0.$1,d2[0],d2[1]);};z.createButton=function(dX,dY,dZ,d0,d1){return z.turnToView(function(){var d2,d3,d4,d5,d6;function d7(d8,d9){return j.callFunction(null,null,d8.actFunction);}d2=(d3=(d4=(d5=((z.splitName())(dX))(dZ),j.tryGetAct(d5[0],d5[1])),d4==null?null:{$:1,$0:(d6=d4.$0,function(d8){return d7(d6,d8);})}),d3==null?a.ignore:d3.$0);return b$.Button(d1[0],z.getAttrs(dX,d0[0],d0[1]),d2);});};z.createInput=function(dX,dY,dZ,d0){return z.turnToView(function(){var d1,d2,d3,d4,d5;d1=(d2=(d3=((z.splitName())(dX))(dZ),j.tryGetVoV(d3[0],d3[1])),(d4=(d5=z.getAttrs(dX,d0[0],d0[1]),function(d6){return b$.Input(d5,d6);}),d2==null?null:{$:1,$0:d4(d2.$0)}));return d1==null?z.errDoc((function(d6){return function(d7){return d6("Missing var: "+bp.toSafe(d7));};}(a.id))(dZ)):d1.$0;});};z.createTextArea=function(dX,dY,dZ,d0){return z.turnToView(function(){var d1,d2,d3,d4,d5;d1=(d2=(d3=((z.splitName())(dX))(dZ),j.tryGetVoV(d3[0],d3[1])),(d4=(d5=z.getAttrs(dX,d0[0],d0[1]),function(d6){return b$.InputArea(d5,d6);}),d2==null?null:{$:1,$0:d4(d2.$0)}));return d1==null?z.errDoc((function(d6){return function(d7){return d6("Missing var: "+bp.toSafe(d7));};}(a.id))(dZ)):d1.$0;});};z.createElement=function(dX,dY,dZ,d0,d1){var d2;d2=[z.turnToView(function(){return b$.Concat(z.getDocs(dX,d1));})];return b$.Element(dZ,z.getAttrs(dX,d0[0],d0[1]),d2);};z.createDoc=function(dX,dY,dZ,d0){return z.turnToView(function(){var d1,d2,d3;d1=((z.splitName())(dX))(dZ);d2=(d3=j.tryGetDoc(d1[0],d1[1]),d3==null?null:{$:1,$0:z.getDocFinal(d0,d3.$0)});return d2==null?z.errDoc((function(d4){return function(d5){return d4("Missing doc: "+bp.toSafe(d5));};}(a.id))(dZ)):d2.$0;});};z.createTemplate=function(dX,dY,dZ,d0,d1){return z.turnToView(function(){var d2,d3,d4,d5,d6,d7;d4=z.getAttrs(dX,d0[0],d0[1]);cz.LoadLocalTemplates("local");function d8(d_,d$){var ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el;ea=z.Identifier(d$[0],d$[1]);return ea!=null&&ea.$==1?(eb=ea.$0,ec=d_[0],ed=(ee=(ef=(eg=((z.splitName())(dX))(eb),j.tryGetDoc(eg[0],eg[1])),ef==null?null:{$:1,$0:{$:0,$0:ec,$1:(z.getDocF(bo.Empty,ef.$0))[0]}}),ee==null?(eh=(ei=((z.splitName())(dX))(eb),j.tryGetVar(ei[0],ei[1])),eh==null?null:{$:1,$0:{$:8,$0:ec,$1:eh.$0.varVar}}):ee),ed==null?{$:0,$0:ec,$1:z.errDoc((function(em){return function(en){return em("Missing element: "+bp.toSafe(en));};}(a.id))(eb))}:ed.$0):(ej=d_[0],ek=z.getTextData(dX,d$[0]),ek.$==1?{$:2,$0:ej,$1:ek.$0}:ek.$==2?(el=ek.$0,{$:4,$0:ej,$1:function(em){return function(en){return j.callFunction(em,en,el.actFunction);};}}):{$:1,$0:ej,$1:ek.$0});}function d9(d_,d$){return d_%2===0;}try{d3={$:1,$0:(d5=(d6=_2.map(function(d_){return d8(d_[0],d_[1]);},_2.map(function(d_){return d_[1];},_2.filter(function(d_){return d9(d_[0],d_[1]);},_2.indexed(_2.pairwise(d1))))),(_2.isEmpty(d4)?a.id:(d7=[{$:3,$0:"attrs",$1:cw.Concat(d4)}],function(d_){return _2.append(d7,d_);}))(d6)),cz.NamedTemplate("local",{$:1,$0:dZ[0]},d5))};}catch(d_){d3=null;}return d3==null?z.errDoc((function(d$){return function(ea){return d$("Missing template: "+bp.toSafe(ea));};}(a.id))(dZ[0])):d3.$0;});};z.createConcat=function(dX,dY,dZ){return z.turnToView(function(){return b$.Concat(z.getDocs(dX,dZ));});};z.createVar=function(dX,dY,dZ){return h.Create$1(dZ);};z.addNewLayout=function(dX,dY){var dZ,d0;z.addLayout((dZ=(d0=!y.Equals(dY,null)?dY:"\r\n            split horizontal 0-50-100 AppFramework.AppFwkClient Hello\r\n            Hello h1 \"color:blue; class=btn-primary\" \"How are you today?\" Ask\r\n            Ask Doc InputLabel \"placeholder=Type you answer here...\" \"Answer:\" AppFramework.mainDocV  \r\n            ",(bO.unindentStr())(d0)),z.newLyt(!y.Equals(dY,null)?dX:"Lyt_"+_.Replace(a.String(bj.NewGuid()),"-",""),dZ)));};z.splitTokens=function(dX){return bn.ofSeq(_2.collect(a.id,_2.mapi(function(dY,dZ){var d0;return dY%2===1?[[dZ,true]]:(d0=_.Trim(dZ),d0===""?[]:C.map(function(d1){return[d1,false];},_.SplitChars(d0,[" "],1)));},bO.splitByChar("\"",dX))));};z.Identifier=function(dX,dY){var dZ,d0,d1;return(d0=i.REGEX$1("^[$a-zA-Z_][0-9a-zA-Z_\\.\\-$]*$","",dX),d0!=null&&d0.$==1&&((d1=d0.$0,!y.Equals(d1,null)&&d1.length===1)&&(dY?false:(dZ=C.get(d0.$0,0),true))))?{$:1,$0:dZ}:null;};z.Vertical=function(dX,dY){var dZ,d0,d1,d2,d3,d4;return(dY?false:dX==="vertical")?{$:0,$0:null}:(dY?false:dX==="horizontal")?{$:1,$0:null}:(dY?false:dX==="layout")?{$:2,$0:null}:(dY?false:dX==="grid")?{$:3,$0:null}:(dY?false:dX==="template")?{$:4,$0:null}:(d4=z.Identifier(dX,dY),d4!=null&&d4.$==1?{$:5,$0:d4.$0}:{$:6,$0:null});};z.getExtraLines=function(dX,dY){var dZ,d0,d1,d2;dZ=(d0=(d1=_2.tryFindIndex(function(d3){return _.Trim(d3)!==""&&!dX(d3);},_2.skip(1,dY)),d1==null?null:{$:1,$0:1+d1.$0}),(d2=C.length(dY),d0==null?d2:d0.$0));return[bP.array(dY,{$:1,$0:1},{$:1,$0:dZ-1}),bP.array(dY,{$:1,$0:dZ},null)];};z.createLines=function(dX,dY,dZ,d0,d1,d2){var d3,d4,d5,d6,d7,d8,d9,d_,d$,ea;d3=_.replicate(dY,":");d4=":"+d3;d5=_2.tryHead(d2);return d5!=null&&d5.$==1?(d6=bO.StartsWith(d3,_.Trim(d5.$0)),d6!=null&&d6.$==1?(d7=d6.$0,(d8=z.getExtraLines(function(eb){return _.StartsWith(_.Trim(eb),d4);},d2),(d9=(((dP.Curried3(function(eb,ec,ed){return eb(bp.toSafe(ec)+"_"+a.String(ed));}))(a.id))(dX))(d1),(d_=z.createLines(d9,dY+1,[],[],1,d8[0]),(d$=d_[1],(ea=d_[0],z.createLines(dX,dY,C.ofSeq(_2.delay(function(){return _2.append(dZ,_2.delay(function(){return[d9];}));})),C.ofSeq(_2.delay(function(){return _2.append(d0,_2.delay(function(){return _2.append([d9+" "+d7+" "+_.concat(" ",ea)],_2.delay(function(){return d$;}));}));})),d1+1,d8[1]))))))):[dZ,d0]):[dZ,d0];};z.Measures$1=function(dX,dY){var dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8;dZ=[dX,dY];return dZ[1]?null:(d0=bO.splitByChar("-",dZ[0]),!y.Equals(d0,null)&&d0.length===1&&(d2=(bQ.Double())(C.get(d0,0)),d2!=null&&d2.$==1&&(d1=d2.$0,true))?{$:1,$0:new c0({$:0,$0:d1,$1:true})}:!y.Equals(d0,null)&&d0.length===2&&(C.get(d0,0)===""&&(d4=(bQ.Double())(C.get(d0,1)),d4!=null&&d4.$==1&&(d3=d4.$0,true)))?{$:1,$0:new c0({$:0,$0:d3,$1:false})}:!y.Equals(d0,null)&&d0.length===3&&(d6=(bQ.Double())(C.get(d0,0)),d6!=null&&d6.$==1&&(d7=(bQ.Double())(C.get(d0,1)),d7!=null&&d7.$==1&&(d8=(bQ.Double())(C.get(d0,2)),d8!=null&&d8.$==1&&(d5=[d8.$0,d6.$0,d7.$0],true))))?{$:1,$0:new c0({$:1,$0:d5[1],$1:d5[2],$2:d5[0]})}:null);};z.entryDoc=function(dX,dY){return{$:1,$0:{$:2,$0:j.newDoc(dX,m.Create(function(){return dY;}))}};};z.createSplitterM=function(){bt.$cctor();return bt.createSplitterM;};z.Var=function(dX,dY){var dZ,d0,d1,d2,d3,d4;return(dY?false:dX==="Var")?{$:0,$0:null}:(dY?false:dX==="Doc")?{$:1,$0:null}:(dY?false:dX==="button")?{$:2,$0:null}:(dY?false:dX==="input")?{$:3,$0:null}:(dY?false:dX==="textarea")?{$:4,$0:null}:(dY?false:dX==="select")?{$:5,$0:null}:{$:6,$0:null};};z.createButtonM=function(){bt.$cctor();return bt.createButtonM;};z.createInputM=function(){bt.$cctor();return bt.createInputM;};z.createTextAreaM=function(){bt.$cctor();return bt.createTextAreaM;};z.entryVar=function(dX,dY){return{$:1,$0:{$:0,$0:j.newVar(dX,dY)}};};z.createVarM=function(){bt.$cctor();return bt.createVarM;};z.createDocM=function(){bt.$cctor();return bt.createDocM;};z.createTemplateM=function(){bt.$cctor();return bt.createTemplateM;};z.Concat=function(dX,dY){var dZ;return(dY?false:dX==="concat")?{$:0,$0:null}:{$:1,$0:null};};z.createConcatM=function(){bt.$cctor();return bt.createConcatM;};z.createElementM=function(){bt.$cctor();return bt.createElementM;};z.getTextData=function(dX,dY){var dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$;dZ=(d0=bO.delimitedO("@{","}",dY),d0==null?null:{$:1,$0:(d1=d0.$0,(d2=d1[0],(d3=d1[1],(d4=d1[2],(d5=((z.splitName())(dX))(d3),(d6=d5[0],(d7=d5[1],(d8=(d9=j.tryGetWoW(d6,d7),d9==null?null:{$:1,$0:function(ea){var eb,ec;ec=z.getTextData(dX,d4);switch(d2===""?ec.$==1?(eb=ec.$0,2):ec.$==2?(eb=ec.$0,3):ec.$0===""?0:(eb=ec.$0,1):ec.$==1?(eb=ec.$0,2):ec.$==2?(eb=ec.$0,3):(eb=ec.$0,1)){case 0:return{$:1,$0:ea};case 1:return{$:1,$0:J.Map(function(ed){return d2+ed+eb;},ea)};case 2:return{$:1,$0:J.Map2(function(ed,ee){return d2+ed+ee;},ea,eb)};case 3:return{$:2,$0:eb};}}(d9.$0)}),d8==null?(d_=(d$=j.tryGetAct(d6,d7),d$==null?null:{$:1,$0:{$:2,$0:d$.$0}}),d_==null?{$:0,$0:((((dP.Curried(function(ea,eb,ec,ed){return ea(bp.toSafe(eb)+" ${Missing "+bp.toSafe(ec)+"}"+bp.toSafe(ed));},4))(a.id))(d2))(d3))(d4)}:d_.$0):d8.$0))))))))});return dZ==null?{$:0,$0:dY}:dZ.$0;};z.getDocs=function(dX,dY){var dZ;return dY.$==0?bo.Empty:(dZ=z.getOneDoc(dX,dY),new bo({$:1,$0:dZ[0],$1:z.getDocs(dX,dZ[1])}));};z.pairOfDocs=function(dX,dY){var dZ;dZ=J.Map(function(d0){var d1;return d0.$==1&&(d0.$1.$==1&&(d0.$1.$1.$==0&&(d1=[d0.$0,d0.$1.$0],true)))?[d1[0],d1[1]]:[z.errDoc((function(d2){return function(d3){return d2("splitter expects exactly 2 elements "+bp.printList(function(d4){return"("+bp.prettyPrint(d4[0])+", "+bp.prettyPrint(d4[1])+")";},d3));};}(a.id))(dY)),z.errDoc("part 2")];},J.Map(function(){return z.getDocs(dX,dY);},j.mainDocV().get_View()));return[b$.EmbedView(J.Map(function(d0){return d0[0];},dZ)),b$.EmbedView(J.Map(function(d0){return d0[1];},dZ))];};z.variableSplitter=function(dX,dY,dZ,d0,d1,d2){return b$.Element("wcomp-splitter",bn.ofSeq(_2.delay(function(){return _2.append(dX?[cw.Create("vertical","")]:[],_2.delay(function(){return _2.append([cw.Create("min",a.String(dY))],_2.delay(function(){return _2.append([cw.Create("value",a.String(dZ))],_2.delay(function(){return[cw.Create("max",a.String(d0))];}));}));}));})),bn.ofArray([d1,d2]));};z.fixedSplitter=function(dX,dY,dZ,d0,d1){var d2,d3,d4,d5,d6,d7,d8;d2=(((dZ?dP.Curried3(function(d9,d_,d$){return d9(d_.toFixed(6)+"px calc(100% - "+d$.toFixed(6)+"px)");}):dP.Curried3(function(d9,d_,d$){return d9("calc(100% - "+d_.toFixed(6)+"px) "+d$.toFixed(6)+"px");}))(a.id))(dY))(dY);return dX?(d3=G.Make().WithHole({$:1,$0:"partsizes",$1:d2}).WithHole({$:0,$0:"first",$1:d0}).WithHole({$:0,$0:"second",$1:d1}),(d4=H.CompleteHoles(d3.k,d3.h,[]),(d5=new I.New(d4[1],ck.fixedsplitterver(d4[0])),(d3.i=d5,d5)))).get_Doc():(d6=G.Make().WithHole({$:1,$0:"partsizes",$1:d2}).WithHole({$:0,$0:"first",$1:d0}).WithHole({$:0,$0:"second",$1:d1}),(d7=H.CompleteHoles(d6.k,d6.h,[]),(d8=new I.New(d7[1],ck.fixedsplitterhor(d7[0])),(d6.i=d8,d8)))).get_Doc();};z.turnToView=function(dX){return b$.EmbedView(J.Map(dX,j.mainDocV().get_View()));};z.getOneDoc=function(dX,dY){var dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb;return dY.$==1&&(d0=(d1=dY.$0,z.Identifier(d1[0],d1[1])),d0!=null&&d0.$==1&&(dZ=[d0.$0,dY.$1],true))?(d2=dZ[0],(d3=dZ[1],(d4=((z.splitName())(dX))(d2),(d5=d4[0],(d6=d4[1],(d7=(d8=j.tryGetDoc(d5,d6),d8==null?null:{$:1,$0:z.getDocF(d3,d8.$0)}),d7==null?(d9=(d_=j.tryGetWoW(d5,d6),d_==null?null:{$:1,$0:[b$.TextView(d_.$0),d3]}),d9==null?[z.errDoc((d$=(function(ec){return function(ed){return ec("Missing doc: "+bp.toSafe(ed));};}(a.id))(d2),(_3.print(d$),d$))),d3]:d9.$0):d7.$0)))))):dY.$==0?[b$.get_Empty(),bo.Empty]:(ea=dY.$1,(eb=z.getTextData(dX,dY.$0[0]),eb.$==1?[b$.TextView(eb.$0),ea]:eb.$==2?[z.errDoc((function(ec){return function(ed){return ec("Unexpected action: "+bp.toSafe(ed));};}(a.id))(eb.$0.actName)),ea]:[b$.TextNode(eb.$0),ea]));};A.ofObj=function(dX){return dX==null?null:{$:1,$0:dX};};B=g.Var=dP.Class({},f,B);B.New=dP.Ctor(function(){f.New.call(this);},B);C.get=function(dX,dY){C.checkBounds(dX,dY);return dX[dY];};C.length=function(dX){return dX.dims===2?dX.length*dX.length:dX.length;};C.checkBounds=function(dX,dY){if(dY<0||dY>=dX.length)t.FailWith("Index was outside the bounds of the array.");};C.set=function(dX,dY,dZ){C.checkBounds(dX,dY);dX[dY]=dZ;};G=F.ProviderBuilder=dP.Class({WithHole:function(dX){this.h.push(dX);return this;}},null,G);G.Make=function(){var dX;return G.New(null,(dX=bj.NewGuid(),a.String(dX)),[]);};G.New=function(dX,dY,dZ){return new G({i:dX,k:dY,h:dZ});};H.CompleteHoles=function(dX,dY,dZ){var d1,d2,d3,d4,d5,d6;function d0(d7,d8){var d9,d_,d$,ea;return d2.Contains(d7)?null:(d9=d8===0?(d_=h.Create$1(""),[{$:8,$0:d7,$1:d_},d_]):d8===1?(d$=h.Create$1(0),[{$:13,$0:d7,$1:d$},d$]):d8===2?(ea=h.Create$1(false),[{$:9,$0:d7,$1:ea},ea]):t.FailWith("Invalid value type"),(d1.set_Item(d7,d9[1]),{$:1,$0:d9[0]}));}d1=new bv.New$5();d2=new bw.New$3();d3=cb.Get(dY);try{while(d3.MoveNext()){d4=d3.Current();(d4.$==8?(d5=[d4.$0,bx.Box(d4.$1)],true):d4.$==11?(d5=[d4.$0,bx.Box(d4.$1)],true):d4.$==10?(d5=[d4.$0,bx.Box(d4.$1)],true):d4.$==13?(d5=[d4.$0,bx.Box(d4.$1)],true):d4.$==12?(d5=[d4.$0,bx.Box(d4.$1)],true):d4.$==9&&(d5=[d4.$0,bx.Box(d4.$1)],true))?(d6=d5[0],d2.Add(d6),d1.set_Item(d6,d5[1])):void 0;}}finally{if(typeof d3=="object"&&"Dispose"in d3)d3.Dispose();}return[_2.append(dY,C.choose(function(d7){return d0(d7[0],d7[1]);},dZ)),{$:0,$0:d1}];};H.EventQ2=function(dX,dY,dZ,d0){return{$:5,$0:dY,$1:true,$2:function(d1){return function(d2){return d0({Vars:dZ(),Target:d1,Event:d2});};}};};I=F.TemplateInstance=dP.Class({get_Doc:function(){return this.doc;},Hole:function(dX){return this.allVars.get_Item(dX);}},f,I);I.New=dP.Ctor(function(dX,dY){f.New.call(this);this.doc=dY;this.allVars=dX.$==0?dX.$0:t.FailWith("Should not happen");},I);J.Sink=function(dX,dY){function dZ(){P.WhenRun(dY(),dX,function(){cH.scheduler().Fork(dZ);});}cH.scheduler().Fork(dZ);};J.Map=function(dX,dY){return J.CreateLazy(function(){return P.Map(dX,dY());});};J.Map2=function(dX,dY,dZ){return J.CreateLazy(function(){return P.Map2(dX,dY(),dZ());});};J.Apply=function(dX,dY){return J.Map2(function(dZ,d0){return dZ(d0);},dX,dY);};J.Const=function(dX){var dY;dY=P.New({$:0,$0:dX});return function(){return dY;};};J.CreateLazy=function(dX){var dY;dY={c:null,o:dX};return function(){var dZ,d0;dZ=dY.c;return dZ===null?(dZ=dY.o(),dY.c=dZ,(d0=dZ.s,d0!=null&&d0.$==0)?dY.o=null:P.WhenObsoleteRun(dZ,function(){dY.c=null;}),dZ):dZ;};};J.get_Do=function(){return b9.B;};J.TryGet=function(dX){return P.TryGet(dX());};J.Bind=function(dX,dY){return J.Join(J.Map(dX,dY));};J.MapSeqCachedViewBy=function(dX,dY,dZ){var d0;d0=[new bv.New$5()];return J.Map(function(d1){var d2,d3,d4;d2=d0[0];d3=new bv.New$5();d4=cY.mapInPlace(function(d5){var d6,d7,d8;d6=dX(d5);d7=d2.ContainsKey(d6)?(d8=d2.get_Item(d6),(h.Set(d8.r,d5),d8)):J.ConvertSeqNode(function(d9){return dY(d6,d9);},d5);d3.set_Item(d6,d7);return d7.e;},C.ofSeq(d1));d0[0]=d3;return d4;},dZ);};J.Get=function(dX,dY){var dZ;function d0(){P.WhenRun(dY(),function(d1){if(!dZ[0]){dZ[0]=true;dX(d1);}},function(){if(!dZ[0])d0();});}dZ=[false];d0();};J.Join=function(dX){return J.CreateLazy(function(){return P.Join(dX());});};J.ConvertSeqNode=function(dX,dY){var dZ,d0;dZ=h.Create$1(dY);d0=dZ.get_View();return{e:dX(d0),r:dZ,w:d0};};J.MapSeqCachedBy=function(dX,dY,dZ){var d0;d0=[new bv.New$5()];return J.Map(function(d1){var d2,d3,d4;d2=d0[0];d3=new bv.New$5();d4=cY.mapInPlace(function(d5){var d6,d7;d6=dX(d5);d7=d2.ContainsKey(d6)?d2.get_Item(d6):dY(d5);d3.set_Item(d6,d7);return d7;},C.ofSeq(d1));d0[0]=d3;return d4;},dZ);};J.Map2Unit=function(dX,dY){return J.CreateLazy(function(){return P.Map2Unit(dX(),dY());});};J.Map3=function(dX,dY,dZ,d0){return J.CreateLazy(function(){return P.Map3(dX,dY(),dZ(),d0());});};J.Sequence=function(dX){return J.CreateLazy(function(){return P.Sequence(_2.map(function(dY){return dY();},dX));});};L.New=function(dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee){return{id:dX,authorizeIdR:dY,idPadreO:dZ,datosPersonales:d0,contactos:d1,identificacion:d2,formasPago:d3,transacciones:d4,mensajes:d5,isInternal:d6,status:d7,tipo:d8,fechaRegistro:d9,fechaStatus:d_,nReferidos:d$,nRefActivos:ea,nDescendientes:eb,nDescActivos:ec,comision:ed,nivel:ee};};M.nombre2=function(dX){var dY,dZ;return(dY=(dZ=dX.titulo,dZ==null?null:{$:1,$0:" "+dZ.$0}),dY==null?"":dY.$0)+_.Trim(dX.nombre1+" "+dX.nombre2)+" "+_.Trim(dX.apellido1+" "+dX.apellido2);};M.nombre=function(dX){var dY,dZ;return(dY=(dZ=dX.titulo,dZ==null?null:{$:1,$0:" "+dZ.$0}),dY==null?"":dY.$0)+(dX.apellido1===""?"":_.Trim(dX.apellido1+" "+dX.apellido2)+", ")+dX.nombre1+" "+dX.nombre2;};M.busqueda=function(dX){var dY,dZ;function d0(d6,d7){return[d6,C.ofSeq(_2.map(function(d8){return d8[1];},d7))];}function d1(d6){var d7,d8;d7=(d8=null,[dZ.TryGetValue(d6,{get:function(){return d8;},set:function(d9){d8=d9;}}),d8]);return d7[0]?{$:1,$0:d7[1]}:null;}function d2(d6){var d7,d8;d7=(d8=null,[dY.TryGetValue({$:1,$0:d6},{get:function(){return d8;},set:function(d9){d8=d9;}}),d8]);return d7[0]?d7[1]:[];}function d3(d6){var d7,d8;d7=(d8=d6==null?null:d1(d6.$0),d8==null?null:{$:1,$0:1+d3(d8.$0.idPadreO)});return d7==null?0:d7.$0;}function d4(d6){return C.choose(d1,d2(d6.id));}function d5(d6){return C.ofSeq(_2.delay(function(){return _2.collect(function(d7){return _2.append([d7],_2.delay(function(){return d5(d7);}));},d4(d6));}));}dY=new ca.New(_2.map(function(d6){return d0(d6[0],d6[1]);},_2.groupBy(function(d6){return d6[0];},_2.map(function(d6){return[d6.idPadreO,d6.id];},dX))));dZ=new ca.New(_2.map(function(d6){return[d6.id,d6];},dX));return _5.New(d2,d3,function(d6){try{return dZ.get_Item(d6);}catch(d7){return(function(d8){return function(d9){return d8("buscarAliado failed: "+Y.p$9(d9));};}(t.FailWith))(d6);}},d1,d4,d5);};M.comision=function(dX,dY){var dZ;dZ=M.premisas(dX,dY);return[dY.nRefActivos*dZ[0],dY.nDescActivos*dZ[1]];};M.premisas=function(dX,dY){var dZ;dZ=dY.tipo.$==0?[dX.comisionReferidosMaster,dX.comisionDescendientesMaster]:[dX.comisionReferidosRegular,dX.comisionDescendientesRegular];return dY.status.$==2?[dZ[0],dZ[1]]:[0,0];};M.empty=function(){S.$cctor();return S.empty;};M.actualizarAliados=function(dX){var dY,dZ,d0,d1,d6,d7;function d2(d8){var d9,d_,d$,ea,eb,ec;d9=d6.aliado(d8);d_=_2.cache(_2.map(dY,d6.hijosDe(d9.id)));d$=_2.length(d_);ea=_2.length(_2.filter(function(ed){return ed.status.$===2&&ed.tipo.$===1;},d_));eb=L.New(d9.id,d9.authorizeIdR,d9.idPadreO,d9.datosPersonales,d9.contactos,d9.identificacion,d9.formasPago,d9.transacciones,d9.mensajes,d9.isInternal,d9.status,ea>=d7.numeroReferidosMaster?bC.Master:bC.Regular,d9.fechaRegistro,0,d$,ea,_2.sumBy(function(ed){return ed.nDescendientes+ed.nReferidos;},d_),_2.sumBy(function(ed){return ed.nDescActivos+ed.nRefActivos;},d_),d9.comision,1+d6.nivelDe(d9.idPadreO));ec=M.comision(d7,eb);return L.New(eb.id,eb.authorizeIdR,eb.idPadreO,eb.datosPersonales,eb.contactos,eb.identificacion,eb.formasPago,eb.transacciones,eb.mensajes,eb.isInternal,eb.status,eb.tipo,eb.fechaRegistro,eb.fechaStatus,eb.nReferidos,eb.nRefActivos,eb.nDescendientes,eb.nDescActivos,ec[0]+ec[1],eb.nivel);}function d3(d8){var d9;d9=null;return d0.TryGetValue(d8,{get:function(){return d9;},set:function(d_){d9=d_;}})?{$:1,$0:d9}:null;}function d4(d8,d9){d0.set_Item(d8,d9);return d9;}function d5(d8,d9){var d_;d_=d3(d8);return d_==null?d4(d8,d9(d8)):d_.$0;}d6=M.busqueda(dX.aliados);d7=dX.premisas;dY=(dZ=(d0=new bv.New$5(),[[d3,function(d8){return function(d9){return d5(d8,d9);};}],function(){d0.Clear();}]),(d1=dZ[0][1],[function(d8){return(d1(d8))(d2);},dZ[1]]))[0];return C.ofSeq(_2.map(dY,_2.map(function(d8){return d8.id;},dX.aliados)));};N.New=function(dX,dY,dZ,d0,d1,d2){return{idAliado:dX,aliados:dY,anoActual:dZ,periodoActual:d0,premisas:d1,nevento:d2};};O=g.ConcreteVar=dP.Class({Set:function(dX){if(this.isConst)(function(dY){return dY("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal");}(function(dY){dR.log(dY);}));else{P.Obsolete(this.snap);this.current=dX;this.snap=P.New({$:2,$0:dX,$1:[]});}},get_View:function(){return this.view;},Get:function(){return this.current;},Update:function(dX){this.Set(dX(this.Get()));},UpdateMaybe:function(dX){var dY;dY=dX(this.Get());dY!=null&&dY.$==1?this.Set(dY.$0):void 0;}},B,O);O.New=dP.Ctor(function(dX,dY,dZ){var d0;d0=this;B.New.call(this);this.isConst=dX;this.current=dZ;this.snap=dY;this.view=function(){return d0.snap;};this.id=bG.Int();},O);P.WhenRun=function(dX,dY,dZ){var d0;d0=dX.s;d0==null?dZ():d0!=null&&d0.$==2?(d0.$1.push(dZ),dY(d0.$0)):d0!=null&&d0.$==3?(d0.$0.push(dY),d0.$1.push(dZ)):dY(d0.$0);};P.Map=function(dX,dY){var dZ,d0;dZ=dY.s;return dZ!=null&&dZ.$==0?P.New({$:0,$0:dX(dZ.$0)}):(d0=P.New({$:3,$0:[],$1:[]}),(P.When(dY,function(d1){P.MarkDone(d0,dY,dX(d1));},d0),d0));};P.Map2=function(dX,dY,dZ){var d0,d1,d2;function d3(d4){var d5,d6,d7;if(!(d5=d2.s,d5!=null&&d5.$==0||d5!=null&&d5.$==2)){d6=P.ValueAndForever(dY);d7=P.ValueAndForever(dZ);d6!=null&&d6.$==1?d7!=null&&d7.$==1?d6.$0[1]&&d7.$0[1]?P.MarkForever(d2,dX(d6.$0[0],d7.$0[0])):P.MarkReady(d2,dX(d6.$0[0],d7.$0[0])):void 0:void 0;}}d0=dY.s;d1=dZ.s;return d0!=null&&d0.$==0?d1!=null&&d1.$==0?P.New({$:0,$0:dX(d0.$0,d1.$0)}):P.Map2Opt1(dX,d0.$0,dZ):d1!=null&&d1.$==0?P.Map2Opt2(dX,d1.$0,dY):(d2=P.New({$:3,$0:[],$1:[]}),(P.When(dY,d3,d2),P.When(dZ,d3,d2),d2));};P.WhenObsoleteRun=function(dX,dY){var dZ;dZ=dX.s;dZ==null?dY():dZ!=null&&dZ.$==2?dZ.$1.push(dY):dZ!=null&&dZ.$==3?dZ.$1.push(dY):void 0;};P.When=function(dX,dY,dZ){var d0;d0=dX.s;d0==null?P.Obsolete(dZ):d0!=null&&d0.$==2?(P.EnqueueSafe(d0.$1,dZ),dY(d0.$0)):d0!=null&&d0.$==3?(d0.$0.push(dY),P.EnqueueSafe(d0.$1,dZ)):dY(d0.$0);};P.MarkDone=function(dX,dY,dZ){var d0;if(d0=dY.s,d0!=null&&d0.$==0)P.MarkForever(dX,dZ);else P.MarkReady(dX,dZ);};P.Map2Opt1=function(dX,dY,dZ){return P.Map(function(d0){return dX(dY,d0);},dZ);};P.Map2Opt2=function(dX,dY,dZ){return P.Map(function(d0){return dX(d0,dY);},dZ);};P.ValueAndForever=function(dX){var dY;dY=dX.s;return dY!=null&&dY.$==0?{$:1,$0:[dY.$0,true]}:dY!=null&&dY.$==2?{$:1,$0:[dY.$0,false]}:null;};P.MarkForever=function(dX,dY){var dZ,d0,d1,d2;dZ=dX.s;if(dZ!=null&&dZ.$==3){dX.s={$:0,$0:dY};d0=dZ.$0;for(d1=0,d2=C.length(d0)-1;d1<=d2;d1++)(C.get(d0,d1))(dY);}else void 0;};P.MarkReady=function(dX,dY){var dZ,d0,d1,d2;dZ=dX.s;if(dZ!=null&&dZ.$==3){dX.s={$:2,$0:dY,$1:dZ.$1};d0=dZ.$0;for(d1=0,d2=C.length(d0)-1;d1<=d2;d1++)(C.get(d0,d1))(dY);}else void 0;};P.TryGet=function(dX){var dY,dZ;dY=dX.s;return(dY!=null&&dY.$==0?(dZ=dY.$0,true):dY!=null&&dY.$==2&&(dZ=dY.$0,true))?{$:1,$0:dZ}:null;};P.EnqueueSafe=function(dX,dY){var dZ,d0,d1,d2;dX.push(dY);if(dX.length%20===0){dZ=dX.slice(0);dx.Clear(dX);for(d0=0,d1=C.length(dZ)-1;d0<=d1;d0++){d2=C.get(dZ,d0);typeof d2=="object"?function(d3){if(d3.s)dX.push(d3);}(d2):function(d3){dX.push(d3);}(d2);}}else void 0;};P.Join=function(dX){var dY;dY=P.New({$:3,$0:[],$1:[]});P.When(dX,function(dZ){var d0;d0=dZ();P.When(d0,function(d1){var d2,d3;if((d2=d0.s,d2!=null&&d2.$==0)&&(d3=dX.s,d3!=null&&d3.$==0))P.MarkForever(dY,d1);else P.MarkReady(dY,d1);},dY);},dY);return dY;};P.Map2Unit=function(dX,dY){var dZ,d0,d1;function d2(){var d3,d4,d5;if(!(d3=d1.s,d3!=null&&d3.$==0||d3!=null&&d3.$==2)){d4=P.ValueAndForever(dX);d5=P.ValueAndForever(dY);d4!=null&&d4.$==1?d5!=null&&d5.$==1?d4.$0[1]&&d5.$0[1]?P.MarkForever(d1,null):P.MarkReady(d1,null):void 0:void 0;}}dZ=dX.s;d0=dY.s;return dZ!=null&&dZ.$==0?d0!=null&&d0.$==0?P.New({$:0,$0:null}):dY:d0!=null&&d0.$==0?dX:(d1=P.New({$:3,$0:[],$1:[]}),(P.When(dX,d2,d1),P.When(dY,d2,d1),d1));};P.Map3=function(dX,dY,dZ,d0){var d1,d2,d3,d4;function d5(d6){var d7,d8,d9,d_;if(!(d7=d4.s,d7!=null&&d7.$==0||d7!=null&&d7.$==2)){d8=P.ValueAndForever(dY);d9=P.ValueAndForever(dZ);d_=P.ValueAndForever(d0);d8!=null&&d8.$==1?d9!=null&&d9.$==1?d_!=null&&d_.$==1?d8.$0[1]&&d9.$0[1]&&d_.$0[1]?P.MarkForever(d4,dX(d8.$0[0],d9.$0[0],d_.$0[0])):P.MarkReady(d4,dX(d8.$0[0],d9.$0[0],d_.$0[0])):void 0:void 0:void 0;}}d1=dY.s;d2=dZ.s;d3=d0.s;return d1!=null&&d1.$==0?d2!=null&&d2.$==0?d3!=null&&d3.$==0?P.New({$:0,$0:dX(d1.$0,d2.$0,d3.$0)}):P.Map3Opt1(dX,d1.$0,d2.$0,d0):d3!=null&&d3.$==0?P.Map3Opt2(dX,d1.$0,d3.$0,dZ):P.Map3Opt3(dX,d1.$0,dZ,d0):d2!=null&&d2.$==0?d3!=null&&d3.$==0?P.Map3Opt4(dX,d2.$0,d3.$0,dY):P.Map3Opt5(dX,d2.$0,dY,d0):d3!=null&&d3.$==0?P.Map3Opt6(dX,d3.$0,dY,dZ):(d4=P.New({$:3,$0:[],$1:[]}),(P.When(dY,d5,d4),P.When(dZ,d5,d4),P.When(d0,d5,d4),d4));};P.Sequence=function(dX){var dY,dZ,d0;function d1(d2){var d3;if(d0[0]===0){d3=C.map(function(d4){var d5;d5=d4.s;return d5!=null&&d5.$==0?d5.$0:d5!=null&&d5.$==2?d5.$0:t.FailWith("value not found by View.Sequence");},dY);C.forall(function(d4){var d5;d5=d4.s;return d5!=null&&d5.$==0;},dY)?P.MarkForever(dZ,d3):P.MarkReady(dZ,d3);}else d0[0]--;}dY=C.ofSeq(dX);return dY.length==0?P.New({$:0,$0:[]}):(dZ=P.New({$:3,$0:[],$1:[]}),(d0=[C.length(dY)-1],(C.iter(function(d2){P.When(d2,d1,dZ);},dY),dZ)));};P.Copy=function(dX){var dY,dZ,d0;dY=dX.s;return dY==null?dX:dY!=null&&dY.$==2?(dZ=P.New({$:2,$0:dY.$0,$1:[]}),(P.WhenObsolete(dX,dZ),dZ)):dY!=null&&dY.$==3?(d0=P.New({$:3,$0:[],$1:[]}),(P.When(dX,function(d1){P.MarkDone(d0,dX,d1);},d0),d0)):dX;};P.Map3Opt1=function(dX,dY,dZ,d0){return P.Map(function(d1){return dX(dY,dZ,d1);},d0);};P.Map3Opt2=function(dX,dY,dZ,d0){return P.Map(function(d1){return dX(dY,d1,dZ);},d0);};P.Map3Opt3=function(dX,dY,dZ,d0){return P.Map2(function(d1,d2){return dX(dY,d1,d2);},dZ,d0);};P.Map3Opt4=function(dX,dY,dZ,d0){return P.Map(function(d1){return dX(d1,dY,dZ);},d0);};P.Map3Opt5=function(dX,dY,dZ,d0){return P.Map2(function(d1,d2){return dX(d1,dY,d2);},dZ,d0);};P.Map3Opt6=function(dX,dY,dZ,d0){return P.Map2(function(d1,d2){return dX(d1,d2,dY);},dZ,d0);};P.WhenObsolete=function(dX,dY){var dZ;dZ=dX.s;dZ==null?P.Obsolete(dY):dZ!=null&&dZ.$==2?P.EnqueueSafe(dZ.$1,dY):dZ!=null&&dZ.$==3?P.EnqueueSafe(dZ.$1,dY):void 0;};Q=g.ListModel=dP.Class({Append:function(dX){var dY,dZ,d0,d1;dY=this;dZ=this["var"].Get();d0=this.key(dX);d1=C.tryFindIndex(function(d2){return y.Equals(dY.key(d2),d0);},dZ);d1!=null&&d1.$==1?this["var"].Set(this.storage.SSetAt(d1.$0,dX,dZ)):this["var"].Set(this.storage.SAppend(dX,dZ));this.ObsoleteKey(d0);},TryFindByKey:function(dX){var dY;dY=this;return C.tryFind(function(dZ){return y.Equals(dY.key(dZ),dX);},this["var"].Get());},ObsoleteKey:function(dX){var dY,dZ;dY=(dZ=null,[this.it.TryGetValue(dX,{get:function(){return dZ;},set:function(d0){dZ=d0;}}),dZ]);dY[0]?(P.Obsolete(dY[1]),this.it.Remove(dX)):void 0;},MapLens:function(dX){var dY;dY=this;return J.MapSeqCachedViewBy(dY.key,function(dZ,d0){return dX(dZ,dY["LensInto'"](a.id,function(d1,d2){return d2;},dZ,d0));},this["var"].get_View());},"LensInto'":function(dX,dY,dZ,d0){var d1,d2,d3;d1=this;d2=bG.Id();d3=new B({Get:function(){return dX(d1.FindByKey(dZ));},Set:function(d4){return d1.UpdateBy(function(d5){return{$:1,$0:dY(d5,d4)};},dZ);},SetFinal:function(d4){return this.Set(d4);},Update:function(d4){return d1.UpdateBy(function(d5){return{$:1,$0:dY(d5,d4(dX(d5)))};},dZ);},UpdateMaybe:function(d4){return d1.UpdateBy(function(d5){var d6;d6=d4(dX(d5));return d6==null?null:{$:1,$0:dY(d5,d6.$0)};},dZ);},get_View:function(){return d0;},get_Id:function(){return d2;}});B.New.call(d3);return d3;},FindByKey:function(dX){var dY;dY=this;return C.find(function(dZ){return y.Equals(dY.key(dZ),dX);},this["var"].Get());},UpdateBy:function(dX,dY){var dZ,d0,d1,d2,d3;dZ=this;d0=this["var"].Get();d1=C.tryFindIndex(function(d4){return y.Equals(dZ.key(d4),dY);},d0);d1!=null&&d1.$==1?(d2=d1.$0,d3=dX(C.get(d0,d2)),d3!=null&&d3.$==1?(this["var"].Set(this.storage.SSetAt(d2,d3.$0,d0)),this.ObsoleteKey(dY)):void 0):void 0;},GetEnumerator:function(){return cb.Get(this["var"].Get());},GetEnumerator0:function(){return cb.Get0(this["var"].Get());}},f,Q);Q.New$1=dP.Ctor(function(dX){Q.New$2.call(this,dX,[]);},Q);Q.New$2=dP.Ctor(function(dX,dY){var dZ;dZ=C.ofSeq(dY);Q.New$3.call(this,dX,h.Create$1(dZ),c4.InMemory(dZ));},Q);Q.New$3=dP.Ctor(function(dX,dY,dZ){f.New.call(this);this.key=dX;this["var"]=dY;this.storage=dZ;this.v=J.Map(function(d0){return d0.slice();},this["var"].get_View());this.it=new bv.New$5();},Q);R.New=function(dX,dY){return{varName:dX,varVar:dY};};S.$cctor=function(){var dX,dY,dZ,d0,d1,d2,d3;S.$cctor=a.ignore;function d4(d9){return _.concat("\n",d9);}function d5(d9){return bO.splitByChar$1("\n",d9);}function d6(d9){var d_,d$;return bP.array(d9,{$:1,$0:0},{$:1,$0:(d_=0,(d$=C.length(d9)-2,y.Compare(d_,d$)===1?d_:d$))});}function d7(d9){return _.concat("\n",d9);}function d8(d9){return d9+"T00:00:00";}S.rtn=function(d9){return[d9];};S.result=new bJ.New();S.result$1=bI.result();S.eff=new bL.New();S.resultM=new bN.New();S.asyncResultM=new bg.New();S.unindentStr=function(d9){return d4(bO.unindent$1(d9));};S.skipLastLine=(dX=function(d9){return d6(d5(d9));},function(d9){return d7(dX(d9));});S.parseDateO2=(dY=bQ.tryParseWith$1(function(d9){var d_,d$;d_=0;return[(d$=cC.TryParse(d9),d$!=null&&d$.$==1&&(d_=d$.$0,true)),d_];}),function(d9){return dY(d8(d9));});S.parseDateO=bQ.tryParseWith$1(function(d9){var d_,d$;d_=0;return[(d$=cC.TryParse(d9),d$!=null&&d$.$==1&&(d_=d$.$0,true)),d_];});S.parseIntO=bQ.tryParseWith$1(function(d9){var d_;d_=0;return[bD.TryParseInt32(d9,{get:function(){return d_;},set:function(d$){d_=d$;}}),d_];});S.parseSingleO=bQ.tryParseWith$1(function(d9){var d_,d$;d_=0;return[(d$=a.Number(d9),a.isNaN(d$)?false:(d_=d$,true)),d_];});S.parseDoubleO=bQ.tryParseWith$1(function(d9){var d_,d$;d_=0;return[(d$=a.Number(d9),a.isNaN(d$)?false:(d_=d$,true)),d_];});S.parseGuidO=bQ.tryParseWith$1(function(d9){var d_;d_=null;return[bj.TryParse(d9,{get:function(){return d_;},set:function(d$){d_=d$;}}),d_];});S["|Date|_|"]=bQ.parseDateO$1();S["|Int|_|"]=bQ.parseIntO$1();S["|Single|_|"]=bQ.parseSingleO$1();S["|Double|_|"]=bQ.parseDoubleO$1();S["|Guid|_|"]=bQ.parseGuidO$1();S.rootdir="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\StackOverflow\\website";S.TemplatesFileName="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\StackOverflow\\website"+"\\Templates.html";S.LoginFileName="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\StackOverflow\\website"+"\\Login.html";((function(d9){return function(d_){return d9(bp.toSafe(d_));};}(function(d9){dR.log(d9);}))("D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\StackOverflow\\website\\Templates.html"));S.premisasCalculo=bE.New(15,25,25,0,75,31,15,22);S.telVacio=bR.New(bS.Movil,"","","","",false);S.dirVacio=bT.New(_3.Error$1(""),bU.Habitacion,"","","",new bV({$:2,$0:""}),new bW({$:3,$0:""}),new bX({$:0,$0:""}));S.tarVacio=bY.New("",b1.Visa,new b0({$:0,$0:""}),new bZ({$:0,$0:""}));S.ctaVacio=b2.New("","",b4.Ahorro,new b5({$:0,$0:""}),new b3({$:0,$0:""}));S.correoVacio=$.New("",null,null);S.empty=(dZ=bz.New(null,"","","","",bW.USA,b6.Masculino,(new a.Date(2000,1-1,1)).getTime()),L.New(new bl({$:0,$0:""}),_3.Error$1(""),null,dZ,[],[],[],[],[],false,bB.Inactivo,bC.Regular,(new a.Date(2000,1-1,1)).getTime(),(new a.Date(2000,1-1,1)).getTime(),0,0,0,0,0,0));S.modeloV=h.Create$1(N.New(new bl({$:0,$0:":"}),[],(d0=dS.now(),(new dS(d0)).getFullYear()),(d1=dS.now(),(new dS(d1)).getMonth()+1),bk.premisasCalculo(),-2));S.selAliadoIdOV=h.Create$1(null);S.refAliadoIdOV=h.Create$1(null);S.endPointV=b8.InstallHash(b7.DefaultEP,_0.r());S.contentVar=h.Lens(l.endPointV(),function(d9){return d9.$==1?d9.$0:"ProzperLyt.mainContent";},function(d9,d_){return d_==="ProzperLyt.mainContent"?b7.DefaultEP:{$:1,$0:d_};});S.aliadoW=(d2=J.get_Do(),J.Bind(function(d9){var d_,d$;d_=d9.idAliado;d$=_2.tryFind(function(ea){return y.Equals(ea.id,d_);},d9.aliados);return J.Const(d$!=null&&d$.$==1?d$.$0:M.empty());},l.modeloV().get_View()));S.paises=h.Create$1([]);S.estados=h.Create$1([]);S.tiposDir=h.Create$1([]);S.tiposTel=h.Create$1([]);S.generos=h.Create$1([]);S.tiposCta=h.Create$1([]);S.tiposTar=h.Create$1([]);cH.Start((d3=null,cH.Delay(function(){return cH.Bind(bh.obtenerUnions(),function(d9){b_.paises().Set(d9[0]);b_.estados().Set(d9[1]);b_.tiposDir().Set(d9[2]);b_.tiposTel().Set(d9[3]);b_.generos().Set(d9[4]);b_.tiposCta().Set(d9[5]);b_.tiposTar().Set(d9[6]);return cH.Zero();});})),null);S.ftel=[function(d9){return d9.$==2?{$:1,$0:d9.$0}:null;},function(d9){return{$:2,$0:d9};}];S.fcor=[function(d9){return d9.$==1?{$:1,$0:d9.$0}:null;},function(d9){return{$:1,$0:d9};}];S.fdir=[function(d9){return d9.$==0?{$:1,$0:d9.$0}:null;},function(d9){return{$:0,$0:d9};}];S.ftar=[function(d9){var d_;d_=d9.cuentaPago;return d_.$==1?{$:1,$0:[d_.$0,s.msg(d9)]}:null;},function(d9){return function(d_){return bA.New(d9.nombre,_3.Error(""),{$:1,$0:d_});};}];S.fcta=[function(d9){var d_;d_=d9.cuentaPago;return d_.$==0?{$:1,$0:[d_.$0,s.msg(d9)]}:null;},function(d9){return function(d_){return bA.New(d9.nombre,_3.Error(""),{$:0,$0:d_});};}];S.layoutName="ProzperLyt";};T.New=function(dX,dY){return{viwName:dX,viwView:dY};};U.New=function(dX,dY){return{docName:dX,docDoc:dY};};V.NewFromSeq=function(dX){var dY,dZ,d0;dY={};dZ=cb.Get(dX);try{while(dZ.MoveNext()){d0=dZ.Current();dY[d0[0]]=d0[1];}}finally{if(typeof dZ=="object"&&"Dispose"in dZ)dZ.Dispose();}return dY;};X.New=function(dX,dY,dZ){return{c:dX,v:dY,f:dZ};};Y.p$1=function(dX){return dX.$==1?"Regular":"Master";};Y.p=function(dX){return dX.$==3?"Inactivo":dX.$==2?"Activo":dX.$==1?"DatosBancariosIngresados":"CuentaCreada";};Z.filaaliado=function(dX){cz.LoadLocalTemplates("templates");return dX?cz.NamedTemplate("templates",{$:1,$0:"filaaliado"},dX):void 0;};Z.tablaaliados=function(dX){cz.LoadLocalTemplates("templates");return dX?cz.NamedTemplate("templates",{$:1,$0:"tablaaliados"},dX):void 0;};Z.aliado=function(dX){cz.LoadLocalTemplates("templates");return dX?cz.NamedTemplate("templates",{$:1,$0:"aliado"},dX):void 0;};Z.calculo=function(dX){cz.LoadLocalTemplates("templates");return dX?cz.NamedTemplate("templates",{$:1,$0:"calculo"},dX):void 0;};Y.p$11=function(dX){return dX.$==2?"Mensaje "+bp.prettyPrint(dX.$0):dX.$==1?"NuevoRegistro "+bp.prettyPrint(dX.$0):"ROk";};Z.formaregistro=function(dX){cz.LoadLocalTemplates("templates");return dX?cz.NamedTemplate("templates",{$:1,$0:"formaregistro"},dX):void 0;};_0.r=function(){return cE.JSUnion(void 0,[[null,[[null,[]]],[]],[null,[[null,["Content"]]],[cE.rString()]]]);};Y.p$9=function(dX){return"IdAliado "+bp.prettyPrint(dX.$0);};Z.datospersonales=function(dX){cz.LoadLocalTemplates("templates");return dX?cz.NamedTemplate("templates",{$:1,$0:"datospersonales"},dX):void 0;};Y.p$10=function(dX){return dX.$==2?"Empresa":dX.$==1?"Femenino":"Masculino";};Z.correo=function(dX){cz.LoadLocalTemplates("templates");return dX?cz.NamedTemplate("templates",{$:1,$0:"correo"},dX):void 0;};Z.telefono=function(dX){cz.LoadLocalTemplates("templates");return dX?cz.NamedTemplate("templates",{$:1,$0:"telefono"},dX):void 0;};Z.direccion=function(dX){cz.LoadLocalTemplates("templates");return dX?cz.NamedTemplate("templates",{$:1,$0:"direccion"},dX):void 0;};Z.formadatospersonales=function(dX){cz.LoadLocalTemplates("templates");return dX?cz.NamedTemplate("templates",{$:1,$0:"formadatospersonales"},dX):void 0;};Z.formacontactos=function(dX){cz.LoadLocalTemplates("templates");return dX?cz.NamedTemplate("templates",{$:1,$0:"formacontactos"},dX):void 0;};Z.formacuentas=function(dX){cz.LoadLocalTemplates("templates");return dX?cz.NamedTemplate("templates",{$:1,$0:"formacuentas"},dX):void 0;};_1.j=function(){return _1._v?_1._v:_1._v=(c9.DecodeRecord(void 0,[["idAliado",_1.j$1,0],["aliados",c9.DecodeArray(_1.j$2),0],["anoActual",c9.Id(),0],["periodoActual",c9.Id(),0],["premisas",c9.Id(),0],["nevento",c9.Id(),0]]))();};Y.p$3=function(dX){return dX.$==2?"OtroS "+bp.prettyPrint(dX.$0):dX.$==1?"Florida":"Texas";};Y.p$2=function(dX){return dX.$==3?"OtroP "+bp.prettyPrint(dX.$0):dX.$==2?"Argentina":dX.$==1?"Venezuela":"USA";};Y.p$6=function(dX){return dX.$==2?"Otro "+bp.prettyPrint(dX.$0):dX.$==1?"PagoComision":"PagoAfiliacion";};Z.cuentabancaria=function(dX){cz.LoadLocalTemplates("templates");return dX?cz.NamedTemplate("templates",{$:1,$0:"cuentabancaria"},dX):void 0;};Z.tarjetacredito=function(dX){cz.LoadLocalTemplates("templates");return dX?cz.NamedTemplate("templates",{$:1,$0:"tarjetacredito"},dX):void 0;};_1.j$1=function(){return _1._v$1?_1._v$1:_1._v$1=(c9.DecodeUnion(bl,"$",[[0,[["$0","Item",c9.Id(),0]]]]))();};_1.j$2=function(){return _1._v$2?_1._v$2:_1._v$2=(c9.DecodeRecord(void 0,[["id",_1.j$1,0],["authorizeIdR",_1.j$3,0],["idPadreO",_1.j$1,1],["datosPersonales",_1.j$5,0],["contactos",c9.DecodeArray(_1.j$8),0],["identificacion",c9.DecodeArray(_1.j$18),0],["formasPago",c9.DecodeArray(_1.j$22),0],["transacciones",c9.DecodeArray(_1.j$34),0],["mensajes",c9.DecodeArray(_1.j$36),0],["isInternal",c9.Id(),0],["status",_1.j$39,0],["tipo",_1.j$40,0],["fechaRegistro",c9.DecodeDateTime(),0],["fechaStatus",c9.DecodeDateTime(),0],["nReferidos",c9.Id(),0],["nRefActivos",c9.Id(),0],["nDescendientes",c9.Id(),0],["nDescActivos",c9.Id(),0],["comision",c9.Id(),0],["nivel",c9.Id(),0]]))();};Y.p$8=function(dX){return dX.$==3?"Voip":dX.$==2?"Habitacion":dX.$==1?"Oficina":"Movil";};Y.p$7=function(dX){return dX.$==3?"Otro "+bp.prettyPrint(dX.$0):dX.$==2?"ServicioPostal":dX.$==1?"Oficina":"Habitacion";};Y.p$4=function(dX){return dX.$==3?"Otra "+bp.prettyPrint(dX.$0):dX.$==2?"Amex":dX.$==1?"MasterCard":"Visa";};Y.p$5=function(dX){return dX.$==2?"Otra "+bp.prettyPrint(dX.$0):dX.$==1?"Corriente":"Ahorro";};_1.j$3=function(){return _1._v$3?_1._v$3:_1._v$3=(c9.DecodeUnion(void 0,"$",[[0,[["$0","ResultValue",_1.j$4,0]]],[1,[["$0","ErrorValue",c9.Id(),0]]]]))();};_1.j$5=function(){return _1._v$5?_1._v$5:_1._v$5=(c9.DecodeRecord(void 0,[["titulo",c9.Id(),1],["nombre1",c9.Id(),0],["nombre2",c9.Id(),0],["apellido1",c9.Id(),0],["apellido2",c9.Id(),0],["nacionalidad",_1.j$6,0],["genero",_1.j$7,0],["fechaNacimiento",c9.DecodeDateTime(),0]]))();};_1.j$8=function(){return _1._v$8?_1._v$8:_1._v$8=(c9.DecodeUnion(void 0,"$",[[0,[[null,null,_1.j$12]]],[1,[[null,null,_1.j$11]]],[2,[[null,null,_1.j$9]]],[3,[["$0","Item",c9.Id(),0]]],[4,[["$0","Item",c9.Id(),0]]],[5,[["$0","Item",c9.Id(),0]]]]))();};_1.j$18=function(){return _1._v$18?_1._v$18:_1._v$18=(c9.DecodeRecord(void 0,[["emisor",_1.j$19,0],["documento",_1.j$21,0],["emision",c9.DecodeDateTime(),0],["vence",c9.DecodeDateTime(),0]]))();};_1.j$22=function(){return _1._v$22?_1._v$22:_1._v$22=(c9.DecodeRecord(void 0,[["nombre",c9.Id(),0],["authorizeIdR",_1.j$23,0],["cuentaPago",_1.j$25,0]]))();};_1.j$34=function(){return _1._v$34?_1._v$34:_1._v$34=(c9.DecodeRecord(void 0,[["fechaPago",c9.DecodeDateTime(),0],["ano",c9.Id(),0],["periodo",c9.Id(),0],["monto",c9.Id(),0],["idAliado",_1.j$1,0],["concepto",_1.j$35,0],["transaccion",c9.Id(),0]]))();};_1.j$36=function(){return _1._v$36?_1._v$36:_1._v$36=(c9.DecodeRecord(void 0,[["tipo",_1.j$37,0],["leido",c9.DecodeDateTime(),1],["fecha",c9.DecodeDateTime(),0],["texto",c9.Id(),0],["remitente",_1.j$38,0]]))();};_1.j$39=function(){return _1._v$39?_1._v$39:_1._v$39=(c9.DecodeUnion(bB,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};_1.j$40=function(){return _1._v$40?_1._v$40:_1._v$40=(c9.DecodeUnion(bC,"$",[[0,[]],[1,[]]]))();};_1.j$4=function(){return _1._v$4?_1._v$4:_1._v$4=(c9.DecodeUnion(by,"$",[[0,[["$0","Item",c9.Id(),0]]]]))();};_1.j$6=function(){return _1._v$6?_1._v$6:_1._v$6=(c9.DecodeUnion(bW,"$",[[0,[]],[1,[]],[2,[]],[3,[["$0","Item",c9.Id(),0]]]]))();};_1.j$7=function(){return _1._v$7?_1._v$7:_1._v$7=(c9.DecodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]]]))();};_1.j$12=function(){return _1._v$12?_1._v$12:_1._v$12=(c9.DecodeRecord(void 0,[["authorizeIdR",_1.j$13,0],["tipoDireccion",_1.j$15,0],["linea1",c9.Id(),0],["linea2",c9.Id(),0],["ciudad",c9.Id(),0],["estado",_1.j$16,0],["pais",_1.j$6,0],["zonaPostal",_1.j$17,0]]))();};_1.j$11=function(){return _1._v$11?_1._v$11:_1._v$11=(c9.DecodeRecord($,[["email",c9.Id(),0],["enviado",c9.DecodeDateTime(),1],["recibido",c9.DecodeDateTime(),1]]))();};_1.j$9=function(){return _1._v$9?_1._v$9:_1._v$9=(c9.DecodeRecord(void 0,[["tipoTelefono",_1.j$10,0],["codigoPais",c9.Id(),0],["codigoArea",c9.Id(),0],["numero",c9.Id(),0],["extension",c9.Id(),0],["mensajes",c9.Id(),0]]))();};_1.j$19=function(){return _1._v$19?_1._v$19:_1._v$19=(c9.DecodeUnion(void 0,"$",[[0,[["$0","Item",_1.j$6,0]]],[1,[["$0","Item",_1.j$20,0]]]]))();};_1.j$21=function(){return _1._v$21?_1._v$21:_1._v$21=(c9.DecodeUnion(void 0,"$",[[0,[["$0","Item",c9.Id(),0]]],[1,[["$0","Item",c9.Id(),0]]],[2,[["$0","Item",c9.Id(),0]]]]))();};_1.j$23=function(){return _1._v$23?_1._v$23:_1._v$23=(c9.DecodeUnion(void 0,"$",[[0,[["$0","ResultValue",_1.j$24,0]]],[1,[["$0","ErrorValue",c9.Id(),0]]]]))();};_1.j$25=function(){return _1._v$25?_1._v$25:_1._v$25=(c9.DecodeUnion(void 0,"$",[[0,[[null,null,_1.j$30]]],[1,[[null,null,_1.j$26]]],[2,[["$0","Item",c9.Id(),0]]]]))();};_1.j$35=function(){return _1._v$35?_1._v$35:_1._v$35=(c9.DecodeUnion(cB,"$",[[0,[]],[1,[]],[2,[["$0","Item",c9.Id(),0]]]]))();};_1.j$37=function(){return _1._v$37?_1._v$37:_1._v$37=(c9.DecodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]]]))();};_1.j$38=function(){return _1._v$38?_1._v$38:_1._v$38=(c9.DecodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",_1.j$1,0]]],[2,[["$0","Item",c9.Id(),0]]]]))();};_1.j$13=function(){return _1._v$13?_1._v$13:_1._v$13=(c9.DecodeUnion(void 0,"$",[[0,[["$0","ResultValue",_1.j$14,0]]],[1,[["$0","ErrorValue",c9.Id(),0]]]]))();};_1.j$15=function(){return _1._v$15?_1._v$15:_1._v$15=(c9.DecodeUnion(bU,"$",[[0,[]],[1,[]],[2,[]],[3,[["$0","Item",c9.Id(),0]]]]))();};_1.j$16=function(){return _1._v$16?_1._v$16:_1._v$16=(c9.DecodeUnion(bV,"$",[[0,[]],[1,[]],[2,[["$0","Item",c9.Id(),0]]]]))();};_1.j$17=function(){return _1._v$17?_1._v$17:_1._v$17=(c9.DecodeUnion(bX,"$",[[0,[["$0","Item",c9.Id(),0]]]]))();};_1.j$10=function(){return _1._v$10?_1._v$10:_1._v$10=(c9.DecodeUnion(bS,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};_1.j$20=function(){return _1._v$20?_1._v$20:_1._v$20=(c9.DecodeUnion(void 0,"$",[[0,[["$0","Item",_1.j$16,0]]]]))();};_1.j$24=function(){return _1._v$24?_1._v$24:_1._v$24=(c9.DecodeUnion(cA,"$",[[0,[["$0","Item",c9.Id(),0]]]]))();};_1.j$30=function(){return _1._v$30?_1._v$30:_1._v$30=(c9.DecodeRecord(void 0,[["titular",c9.Id(),0],["banco",c9.Id(),0],["tipo",_1.j$31,0],["numero",_1.j$32,0],["routing",_1.j$33,0]]))();};_1.j$26=function(){return _1._v$26?_1._v$26:_1._v$26=(c9.DecodeRecord(void 0,[["titular",c9.Id(),0],["tipoTarjeta",_1.j$27,0],["numero",_1.j$28,0],["expiracion",_1.j$29,0]]))();};_1.j$14=function(){return _1._v$14?_1._v$14:_1._v$14=(c9.DecodeUnion(cK,"$",[[0,[["$0","Item",c9.Id(),0]]]]))();};_1.j$31=function(){return _1._v$31?_1._v$31:_1._v$31=(c9.DecodeUnion(b4,"$",[[0,[]],[1,[]],[2,[["$0","Item",c9.Id(),0]]]]))();};_1.j$32=function(){return _1._v$32?_1._v$32:_1._v$32=(c9.DecodeUnion(b5,"$",[[0,[["$0","Item",c9.Id(),0]]]]))();};_1.j$33=function(){return _1._v$33?_1._v$33:_1._v$33=(c9.DecodeUnion(b3,"$",[[0,[["$0","Item",c9.Id(),0]]]]))();};_1.j$27=function(){return _1._v$27?_1._v$27:_1._v$27=(c9.DecodeUnion(b1,"$",[[0,[]],[1,[]],[2,[]],[3,[["$0","Item",c9.Id(),0]]]]))();};_1.j$28=function(){return _1._v$28?_1._v$28:_1._v$28=(c9.DecodeUnion(b0,"$",[[0,[["$0","Item",c9.Id(),0]]]]))();};_1.j$29=function(){return _1._v$29?_1._v$29:_1._v$29=(c9.DecodeUnion(bZ,"$",[[0,[["$0","Item",c9.Id(),0]]]]))();};_2.sortWith=function(dX,dY){return _2.delay(function(){var dZ;dZ=C.ofSeq(dY);C.sortInPlaceWith(dX,dZ);return dZ;});};_2.filter=function(dX,dY){return{GetEnumerator:function(){var dZ;dZ=cb.Get(dY);return new cc.New(null,null,function(d0){var d1,d2,d3;d1=dZ.MoveNext();d2=dZ.Current();d3=false;while(d1)if(dX(d2)){d0.c=d2;d3=true;d1=false;}else if(dZ.MoveNext())d2=dZ.Current();else d1=false;return d3;},function(){dZ.Dispose();});}};};_2.isEmpty=function(dX){var dY;dY=cb.Get(dX);try{return!dY.MoveNext();}finally{if(typeof dY=="object"&&"Dispose"in dY)dY.Dispose();}};_2.map=function(dX,dY){return{GetEnumerator:function(){var dZ;dZ=cb.Get(dY);return new cc.New(null,null,function(d0){return dZ.MoveNext()&&(d0.c=dX(dZ.Current()),true);},function(){dZ.Dispose();});}};};_2.delay=function(dX){return{GetEnumerator:function(){return cb.Get(dX());}};};_2.append=function(dX,dY){return{GetEnumerator:function(){var dZ,d0;dZ=cb.Get(dX);d0=[true];return new cc.New(dZ,null,function(d1){var d2;return d1.s.MoveNext()?(d1.c=d1.s.Current(),true):(d2=d1.s,!y.Equals(d2,null)?d2.Dispose():void 0,d1.s=null,d0[0]&&(d0[0]=false,d1.s=cb.Get(dY),d1.s.MoveNext()?(d1.c=d1.s.Current(),true):(d1.s.Dispose(),d1.s=null,false)));},function(d1){var d2;d2=d1.s;!y.Equals(d2,null)?d2.Dispose():void 0;});}};};_2.collect=function(dX,dY){return _2.concat(_2.map(dX,dY));};_2.min=function(dX){var dY,dZ,d0;dY=cb.Get(dX);try{if(!dY.MoveNext())_2.seqEmpty();dZ=dY.Current();while(dY.MoveNext()){d0=dY.Current();y.Compare(d0,dZ)===-1?dZ=d0:void 0;}return dZ;}finally{if(typeof dY=="object"&&"Dispose"in dY)dY.Dispose();}};_2.tryPick=function(dX,dY){var dZ,d0;dZ=cb.Get(dY);try{d0=null;while(y.Equals(d0,null)&&dZ.MoveNext())d0=dX(dZ.Current());return d0;}finally{if(typeof dZ=="object"&&"Dispose"in dZ)dZ.Dispose();}};_2.tryFind=function(dX,dY){var dZ,d0,d1;dZ=cb.Get(dY);try{d0=null;while(d0==null&&dZ.MoveNext()){d1=dZ.Current();dX(d1)?d0={$:1,$0:d1}:void 0;}return d0;}finally{if(typeof dZ=="object"&&"Dispose"in dZ)dZ.Dispose();}};_2.groupBy=function(dX,dY){return _2.delay(function(){return C.groupBy(dX,C.ofSeq(dY));});};_2.concat=function(dX){return{GetEnumerator:function(){var dY;dY=cb.Get(dX);return new cc.New(null,null,function(dZ){var d0;while(true){d0=dZ.s;if(y.Equals(d0,null)){if(dY.MoveNext()){dZ.s=cb.Get(dY.Current());dZ=dZ;}else{dY.Dispose();return false;}}else if(d0.MoveNext()){dZ.c=d0.Current();return true;}else{dZ.Dispose();dZ.s=null;dZ=dZ;}}},function(dZ){var d0;d0=dZ.s;!y.Equals(d0,null)?d0.Dispose():void 0;!y.Equals(dY,null)?dY.Dispose():void 0;});}};};_2.seqEmpty=function(){return t.FailWith("The input sequence was empty.");};_2.indexed=function(dX){return _2.mapi(function(dY,dZ){return[dY,dZ];},dX);};_2.choose=function(dX,dY){return _2.collect(function(dZ){var d0;d0=dX(dZ);return d0==null?bo.Empty:bn.ofArray([d0.$0]);},dY);};_2.find=function(dX,dY){var dZ;dZ=_2.tryFind(dX,dY);return dZ==null?t.FailWith("KeyNotFoundException"):dZ.$0;};_2.tryFindIndex=function(dX,dY){var dZ,d0,d1;dZ=cb.Get(dY);try{d0=true;d1=0;while(d0&&dZ.MoveNext())if(dX(dZ.Current()))d0=false;else d1=d1+1;return d0?null:{$:1,$0:d1};}finally{if(typeof dZ=="object"&&"Dispose"in dZ)dZ.Dispose();}};_2.distinct=function(dX){return _2.distinctBy(a.id,dX);};_2.mapi=function(dX,dY){return _2.map2(dX,_2.initInfinite(a.id),dY);};_2.pairwise=function(dX){return _2.map(function(dY){return[C.get(dY,0),C.get(dY,1)];},_2.windowed(2,dX));};_2.cache=function(dX){var dY,dZ;dY=[];dZ=[cb.Get(dX)];return{GetEnumerator:function(){return new cc.New(0,null,function(d0){var d1;return d0.s<dY.length?(d0.c=dY[d0.s],d0.s=d0.s+1,true):(d1=dZ[0],y.Equals(d1,null)?false:d1.MoveNext()?(d0.s=d0.s+1,d0.c=d1.Current(),dY.push(d0.c),true):(d1.Dispose(),dZ[0]=null,false));},void 0);}};};_2.length=function(dX){var dY,dZ;dY=0;dZ=cb.Get(dX);try{while(dZ.MoveNext())dY=dY+1;return dY;}finally{if(typeof dZ=="object"&&"Dispose"in dZ)dZ.Dispose();}};_2.sumBy=function(dX,dY){return _2.fold(function(dZ,d0){return dZ+dX(d0);},0,dY);};_2.forall2=function(dX,dY,dZ){return!_2.exists2(function(d0,d1){return!dX(d0,d1);},dY,dZ);};_2.iteri=function(dX,dY){var dZ,d0;dZ=0;d0=cb.Get(dY);try{while(d0.MoveNext()){dX(dZ,d0.Current());dZ=dZ+1;}}finally{if(typeof d0=="object"&&"Dispose"in d0)d0.Dispose();}};_2.distinctBy=function(dX,dY){return{GetEnumerator:function(){var dZ,d0;dZ=cb.Get(dY);d0=new bw.New$3();return new cc.New(null,null,function(d1){var d2,d3;if(dZ.MoveNext()){d2=dZ.Current();d3=d0.Add(dX(d2));while(!d3&&dZ.MoveNext()){d2=dZ.Current();d3=d0.Add(dX(d2));}return d3&&(d1.c=d2,true);}else return false;},function(){dZ.Dispose();});}};};_2.map2=function(dX,dY,dZ){return{GetEnumerator:function(){var d0,d1;d0=cb.Get(dY);d1=cb.Get(dZ);return new cc.New(null,null,function(d2){return d0.MoveNext()&&d1.MoveNext()&&(d2.c=dX(d0.Current(),d1.Current()),true);},function(){d0.Dispose();d1.Dispose();});}};};_2.initInfinite=function(dX){return{GetEnumerator:function(){return new cc.New(0,null,function(dY){dY.c=dX(dY.s);dY.s=dY.s+1;return true;},void 0);}};};_2.skip=function(dX,dY){return{GetEnumerator:function(){var dZ;dZ=cb.Get(dY);return new cc.New(true,null,function(d0){var d1,d2;if(d0.s){for(d1=1,d2=dX;d1<=d2;d1++)if(!dZ.MoveNext())_2.insufficient();d0.s=false;}else null;return dZ.MoveNext()&&(d0.c=dZ.Current(),true);},function(){dZ.Dispose();});}};};_2.nth=function(dX,dY){var dZ,d0;if(dX<0)t.FailWith("negative index requested");dZ=-1;d0=cb.Get(dY);try{while(dZ<dX){!d0.MoveNext()?_2.insufficient():void 0;dZ=dZ+1;}return d0.Current();}finally{if(typeof d0=="object"&&"Dispose"in d0)d0.Dispose();}};_2.init=function(dX,dY){return _2.take(dX,_2.initInfinite(dY));};_2.windowed=function(dX,dY){dX<=0?t.FailWith("The input must be positive."):void 0;return _2.delay(function(){return _2.enumUsing(cb.Get(dY),function(dZ){var d0;d0=[];return _2.append(_2.enumWhile(function(){return d0.length<dX&&dZ.MoveNext();},_2.delay(function(){d0.push(dZ.Current());return[];})),_2.delay(function(){return d0.length===dX?_2.append([d0.slice(0)],_2.delay(function(){return _2.enumWhile(function(){return dZ.MoveNext();},_2.delay(function(){d0.shift();d0.push(dZ.Current());return[d0.slice(0)];}));})):[];}));});});};_2.fold=function(dX,dY,dZ){var d0,d1;d0=dY;d1=cb.Get(dZ);try{while(d1.MoveNext())d0=dX(d0,d1.Current());return d0;}finally{if(typeof d1=="object"&&"Dispose"in d1)d1.Dispose();}};_2.exists2=function(dX,dY,dZ){var d0,d1,d2,d3;d0=cb.Get(dY);try{d2=cb.Get(dZ);try{d3=false;while(!d3&&d0.MoveNext()&&d2.MoveNext())d3=dX(d0.Current(),d2.Current());d1=d3;}finally{if(typeof d2=="object"&&"Dispose"in d2)d2.Dispose();}return d1;}finally{if(typeof d0=="object"&&"Dispose"in d0)d0.Dispose();}};_2.compareWith=function(dX,dY,dZ){var d0,d1,d2,d3,d4;d0=cb.Get(dY);try{d2=cb.Get(dZ);try{d3=0;d4=true;while(d4&&d3===0)if(d0.MoveNext())d3=d2.MoveNext()?dX(d0.Current(),d2.Current()):1;else if(d2.MoveNext())d3=-1;else d4=false;d1=d3;}finally{if(typeof d2=="object"&&"Dispose"in d2)d2.Dispose();}return d1;}finally{if(typeof d0=="object"&&"Dispose"in d0)d0.Dispose();}};_2.head=function(dX){var dY;dY=cb.Get(dX);try{return dY.MoveNext()?dY.Current():_2.insufficient();}finally{if(typeof dY=="object"&&"Dispose"in dY)dY.Dispose();}};_2.sortBy=function(dX,dY){return _2.delay(function(){var dZ;dZ=C.ofSeq(dY);C.sortInPlaceBy(dX,dZ);return dZ;});};_2.take=function(dX,dY){dX<0?_2.nonNegative():void 0;return{GetEnumerator:function(){var dZ;dZ=[cb.Get(dY)];return new cc.New(0,null,function(d0){var d1;d0.s=d0.s+1;return d0.s>dX?false:(d1=dZ[0],y.Equals(d1,null)?_2.insufficient():d1.MoveNext()?(d0.c=d1.Current(),d0.s===dX?(d1.Dispose(),dZ[0]=null):void 0,true):(d1.Dispose(),dZ[0]=null,_2.insufficient()));},function(){var d0;d0=dZ[0];!y.Equals(d0,null)?d0.Dispose():void 0;});}};};_2.unfold=function(dX,dY){return{GetEnumerator:function(){return new cc.New(dY,null,function(dZ){var d0;d0=dX(dZ.s);return d0==null?false:(dZ.c=d0.$0[0],dZ.s=d0.$0[1],true);},void 0);}};};_2.max=function(dX){var dY,dZ,d0;dY=cb.Get(dX);try{if(!dY.MoveNext())_2.seqEmpty();dZ=dY.Current();while(dY.MoveNext()){d0=dY.Current();y.Compare(d0,dZ)===1?dZ=d0:void 0;}return dZ;}finally{if(typeof dY=="object"&&"Dispose"in dY)dY.Dispose();}};_2.iter=function(dX,dY){var dZ;dZ=cb.Get(dY);try{while(dZ.MoveNext())dX(dZ.Current());}finally{if(typeof dZ=="object"&&"Dispose"in dZ)dZ.Dispose();}};_2.forall=function(dX,dY){return!_2.exists(function(dZ){return!dX(dZ);},dY);};_2.exists=function(dX,dY){var dZ,d0;dZ=cb.Get(dY);try{d0=false;while(!d0&&dZ.MoveNext())d0=dX(dZ.Current());return d0;}finally{if(typeof dZ=="object"&&"Dispose"in dZ)dZ.Dispose();}};_4.op_AmpGreater=function(dX,dY,dZ,d0){var d1;d1=dX(dZ,d0);return d1===0?dY(dZ,d0):d1;};_4.asc=function(dX,dY,dZ){return y.Compare(dX(dY),dX(dZ));};_4.desc=function(dX,dY,dZ){return y.Compare(dX(dZ),dX(dY));};_5.New=function(dX,dY,dZ,d0,d1,d2){return{hijosDe:dX,nivelDe:dY,aliado:dZ,aliadoO:d0,hijos:d1,descendientes:d2};};_7=_6.FSharpSet=dP.Class({Contains:function(dX){return cd.Contains(dX,this.tree);},Remove:function(dX){return new _7.New$1(cd.Remove(dX,this.tree));},Add:function(dX){return new _7.New$1(cd.Add(dX,this.tree));},Equals:function(dX){return this.get_Count()===dX.get_Count()&&_2.forall2(y.Equals,this,dX);},GetEnumerator$1:function(){return cb.Get(cd.Enumerate(false,this.tree));},get_Count:function(){var dX;dX=this.tree;return dX==null?0:dX.Count;},GetHashCode:function(){return -1741749453+y.Hash(C.ofSeq(this));},GetEnumerator:function(){return this.GetEnumerator$1();},CompareTo0:function(dX){return _2.compareWith(y.Compare,this,dX);},GetEnumerator0:function(){return this.GetEnumerator$1();}},f,_7);_7.New=dP.Ctor(function(dX){_7.New$1.call(this,cd.OfSeq(dX));},_7);_7.New$1=dP.Ctor(function(dX){f.New.call(this);this.tree=dX;},_7);_9.iter=function(dX){function dY(d0){return d0==null?null:{$:1,$0:dX(d0.$0)};}function dZ(d0){if(d0==null);}return function(d0){return dZ(dY(d0));};};_.PadLeft=function(dX,dY){return _.PadLeftWith(dX,dY," ");};_.concat=function(dX,dY){return C.ofSeq(dY).join(dX);};_.PadLeftWith=function(dX,dY,dZ){return dY>dX.length?a.Array(dY-dX.length+1).join(dZ)+dX:dX;};_.Trim=function(dX){return dX.replace(new a.RegExp("^\\s+"),"").replace(new a.RegExp("\\s+$"),"");};_.Substring=function(dX,dY,dZ){return dX.substr(dY,dZ);};_.Replace=function(dX,dY,dZ){function d0(d1){var d2,d3,d4;d2=d1.indexOf(dY);return d2!==-1?(d3=_.ReplaceOnce(d1,dY,dZ),(d4=d2+dZ.length,_.Substring(d3,0,d2+dZ.length)+d0(d3.substring(d4)))):d1;}return d0(dX);};_.SplitChars=function(dX,dY,dZ){return _.Split(dX,new a.RegExp("["+_.RegexEscape(dY.join(""))+"]"),dZ);};_.ReplaceOnce=function(dX,dY,dZ){return dX.replace(dY,dZ);};_.StartsWith=function(dX,dY){return dX.substring(0,dY.length)==dY;};_.Split=function(dX,dY,dZ){return dZ===1?C.filter(function(d0){return d0!=="";},_.SplitWith(dX,dY)):_.SplitWith(dX,dY);};_.RegexEscape=function(dX){return dX.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};_.replicate=function(dX,dY){return C.create(dX,dY).join("");};_.SplitWith=function(dX,dY){return dX.split(dY);};_.SplitStrings=function(dX,dY,dZ){return _.Split(dX,new a.RegExp(_.concat("|",C.map(_.RegexEscape,dY))),dZ);};_.forall=function(dX,dY){return _2.forall(dX,_.protect(dY));};_.protect=function(dX){return dX===null?"":dX;};_.IsNullOrEmpty=function(dX){return dX==null||dX=="";};_.Join=function(dX,dY){return dY.join(dX);};$=K.CorreoElectronico=dP.Class({toString:function(){return this.email;}},null,$);$.New=function(dX,dY,dZ){return new $({email:dX,enviado:dY,recibido:dZ});};ba.formaDoc=function(dX){var dY,dZ,d0,d1,d2,d3;dY=(dZ=(d0=b$.EmbedView(J.Map(b_.crearOptions,b_.generos().get_View())),G.Make().WithHole({$:0,$0:"generos",$1:d0})),(d1=H.CompleteHoles(dZ.k,dZ.h,[["nombres",0],["apellidos",0],["fechanacimiento",0],["genero",0]]),(d2=new I.New(d1[1],Z.datospersonales(d1[0])),(dZ.i=d2,d2))));J.Sink(function(d4){var d5;if(d4!=null&&d4.$==1){d5=d4.$0;dY.Hole("nombres").Set(_.Trim(d5.nombre1+" "+d5.nombre2));dY.Hole("apellidos").Set(_.Trim(d5.apellido1+" "+d5.apellido2));dY.Hole("fechanacimiento").Set(ce.toYYYYMMDD("-",d5.fechaNacimiento));dY.Hole("genero").Set((function(d6){return function(d7){return d6(Y.p$10(d7));};}(a.id))(d5.genero));}},dX.get_View());d3=J.Apply(J.Apply(J.Map2(function(d4,d5){return function(d6){return function(d7){return _2.map(function(d8){return d8[1];},_2.filter(function(d8){return d8[0];},bn.ofArray([[_.Trim(d4)==="","Nombres"],[_.Trim(d5)==="","Apellidos"],[_.Trim(d6)==="","Fecha de Nacimiento"],[_.Trim(d7)==="","Genero"]])));};};},dY.Hole("nombres").get_View(),dY.Hole("apellidos").get_View()),dY.Hole("fechanacimiento").get_View()),dY.Hole("genero").get_View());J.Sink(function(d4){if(!y.Equals(dX.Get(),d4))dX.Set(d4);},J.Apply(J.Apply(J.Apply(J.Apply(J.Apply(J.Map2(function(d4,d5){return dP.Curried(function(d6,d7,d8,d9,d_){return!_2.isEmpty(d4)?null:b_.alertIfNone("Genero",b6.tryParse(d5),function(d$){return b_.alertIfNone("Fecha incorrecta",(bQ.parseDateO2())(d6),function(ea){return{$:1,$0:bz.New(null,C.get(_.SplitChars(_.Trim(d7),[" "],0),0),_.concat(" ",bP.array(_.SplitChars(_.Trim(d8),[" "],0),{$:1,$0:1},null)),C.get(_.SplitChars(_.Trim(d9),[" "],0),0),_.concat(" ",bP.array(_.SplitChars(_.Trim(d_),[" "],0),{$:1,$0:1},null)),new bW({$:3,$0:""}),d$,ea)};});});},5);},d3,dY.Hole("genero").get_View()),dY.Hole("fechanacimiento").get_View()),dY.Hole("nombres").get_View()),dY.Hole("nombres").get_View()),dY.Hole("apellidos").get_View()),dY.Hole("apellidos").get_View()));return[d3,dY.get_Doc()];};bb.formaDoc=function(dX){var dY,dZ,d0,d1,d2,d3,d4;dY=h.Create$1("");dZ=(d0=G.Make().WithHole({$:2,$0:"mensaje",$1:dY.get_View()}),(d1=H.CompleteHoles(d0.k,d0.h,[["correo",0],["confirmarcorreo",0]]),(d2=new I.New(d1[1],Z.correo(d1[0])),(d0.i=d2,d2))));d3=dX.Get();d3!=null&&d3.$==1?dZ.Hole("confirmarcorreo").Set(a.String(d3.$0)):void 0;J.Sink(function(d5){dY.Set(d5);},J.Apply(J.Apply(J.Map2(function(d5,d6){return function(d7){return function(d8){return _.Trim(d5)===""||_.Trim(d6)===""||_.Trim(d7)===_.Trim(d8)?"":"Correos no son iguales";};};},dZ.Hole("correo").get_View(),dZ.Hole("confirmarcorreo").get_View()),dZ.Hole("correo").get_View()),dZ.Hole("confirmarcorreo").get_View()));J.Sink(function(d5){if(d5!=null&&d5.$==1)dZ.Hole("correo").Set(d5.$0.email);},dX.get_View());d4=J.Apply(J.Apply(J.Map2(function(d5,d6){return function(d7){return function(d8){return _2.map(function(d9){return d9[1];},_2.filter(function(d9){return d9[0];},bn.ofArray([[_.Trim(d5)==="","Correo"],[_.Trim(d6)==="","ConfirmarCorreo"],[d7!=="",d8]])));};};},dZ.Hole("correo").get_View(),dZ.Hole("confirmarcorreo").get_View()),dY.get_View()),dY.get_View());J.Sink(function(d5){if(!y.Equals(dX.Get(),d5))dX.Set(d5);},J.Map2(function(d5,d6){var d7,d8,d9,d_;return!_2.isEmpty(d5)?null:(d7=(d8=dX.Get(),(d9={$:1,$0:K.correoVacio()},d8==null?d9:d8)),d7==null?null:{$:1,$0:(d_=d7.$0,$.New(d6,d_.enviado,d_.recibido))});},d4,dZ.Hole("correo").get_View()));return[d4,dZ.get_Doc()];};bc.formaDoc=function(dX){var dY,dZ,d0,d1,d2,d3;dY=(dZ=(d0=b$.EmbedView(J.Map(b_.crearOptions,b_.tiposTel().get_View())),G.Make().WithHole({$:0,$0:"tipos",$1:d0})),(d1=H.CompleteHoles(dZ.k,dZ.h,[["tipotelefono",0],["codigopais",0],["codigoarea",0],["telefono",0],["extension",0]]),(d2=new I.New(d1[1],Z.telefono(d1[0])),(dZ.i=d2,d2))));J.Sink(function(d4){var d5;if(d4!=null&&d4.$==1){d5=d4.$0;dY.Hole("codigoarea").Set(d5.codigoArea);dY.Hole("codigopais").Set(d5.codigoPais);dY.Hole("telefono").Set(d5.numero);dY.Hole("extension").Set(d5.extension);dY.Hole("tipotelefono").Set((function(d6){return function(d7){return d6(a.String(d7));};}(a.id))(d5.tipoTelefono));}},dX.get_View());d3=J.Apply(J.Map2(function(d4,d5){return function(d6){return _2.map(function(d7){return d7[1];},_2.filter(function(d7){return d7[0];},bn.ofArray([[_.Trim(d4)==="","CodigoPais"],[_.Trim(d5)==="","Telefono"],[_.Trim(d6)==="","TipoTelefono"]])));};},dY.Hole("codigopais").get_View(),dY.Hole("telefono").get_View()),dY.Hole("tipotelefono").get_View());J.Sink(function(d4){if(!y.Equals(dX.Get(),d4))dX.Set(d4);},J.Apply(J.Apply(J.Apply(J.Apply(J.Map2(function(d4,d5){return dP.Curried(function(d6,d7,d8,d9){return!_2.isEmpty(d4)?null:b_.alertIfNone("TipoTelefono",(bS.get_tryParse())(_.Trim(d5)),function(d_){var d$;return{$:1,$0:(d$=_.Trim(d6),bR.New(d_,_.Trim(d7),d$,_.Trim(d8),_.Trim(d9),false))};});},4);},d3,dY.Hole("tipotelefono").get_View()),dY.Hole("codigoarea").get_View()),dY.Hole("codigopais").get_View()),dY.Hole("telefono").get_View()),dY.Hole("extension").get_View()));return[d3,dY.get_Doc()];};bd.formaDoc=function(dX){var dY,dZ,d0,d1,d2,d3,d4,d5;dY=(dZ=(d0=b$.EmbedView(J.Map(b_.crearOptions,b_.tiposDir().get_View())),(d1=b$.EmbedView(J.Map(b_.crearOptions,b_.estados().get_View())),(d2=b$.EmbedView(J.Map(b_.crearOptions,b_.paises().get_View())),G.Make().WithHole({$:0,$0:"paises",$1:d2})).WithHole({$:0,$0:"estados",$1:d1})).WithHole({$:0,$0:"tipos",$1:d0})),(d3=H.CompleteHoles(dZ.k,dZ.h,[["tipodireccion",0],["direccion1",0],["direccion2",0],["ciudad",0],["estado",0],["codigopostal",0],["pais",0]]),(d4=new I.New(d3[1],Z.direccion(d3[0])),(dZ.i=d4,d4))));J.Sink(function(d6){var d7;if(d6!=null&&d6.$==1){d7=d6.$0;dY.Hole("direccion1").Set(d7.linea1);dY.Hole("direccion2").Set(d7.linea2);dY.Hole("ciudad").Set(d7.ciudad);dY.Hole("estado").Set((function(d8){return function(d9){return d8(a.String(d9));};}(a.id))(d7.estado));dY.Hole("pais").Set((function(d8){return function(d9){return d8(a.String(d9));};}(a.id))(d7.pais));dY.Hole("codigopostal").Set((function(d8){return function(d9){return d8(a.String(d9));};}(a.id))(d7.zonaPostal));dY.Hole("tipodireccion").Set((function(d8){return function(d9){return d8(a.String(d9));};}(a.id))(d7.tipoDireccion));}},dX.get_View());d5=J.Apply(J.Apply(J.Apply(J.Apply(J.Map2(function(d6,d7){return dP.Curried(function(d8,d9,d_,d$){return _2.map(function(ea){return ea[1];},_2.filter(function(ea){return ea[0];},bn.ofArray([[_.Trim(d6)==="","Direccion1"],[_.Trim(d7)==="","Ciudad"],[_.Trim(d8)==="","Estado"],[_.Trim(d9)==="","Pais"],[_.Trim(d_)==="","CodigoPostal"],[_.Trim(d$)==="","TipoDireccion"]])));},4);},dY.Hole("direccion1").get_View(),dY.Hole("ciudad").get_View()),dY.Hole("estado").get_View()),dY.Hole("pais").get_View()),dY.Hole("codigopostal").get_View()),dY.Hole("tipodireccion").get_View());J.Sink(function(d6){if(!y.Equals(dX.Get(),d6))dX.Set(d6);},J.Apply(J.Apply(J.Apply(J.Apply(J.Apply(J.Apply(J.Apply(J.Map2(function(d6,d7){return dP.Curried(function(d8,d9,d_,d$,ea,eb,ec){return!_2.isEmpty(d6)?null:b_.alertIfNone("TipoDireccion",bU.tryParse(_.Trim(d7)),function(ed){return b_.alertIfNone("Estado",bV.tryParse(_.Trim(d8)),function(ee){return b_.alertIfNone("Pais",bW.tryParse(_.Trim(d9)),function(ef){return b_.alertIfNone("CodigoPostal",bX.tryParse(_.Trim(d_)),function(eg){var eh;return{$:1,$0:bT.New((eh=ec==null?null:{$:1,$0:ec.$0.authorizeIdR},eh==null?_3.Error(""):eh.$0),ed,_.Trim(d$),_.Trim(ea),_.Trim(eb),ee,ef,eg)};});});});});},7);},d5,dY.Hole("tipodireccion").get_View()),dY.Hole("estado").get_View()),dY.Hole("pais").get_View()),dY.Hole("codigopostal").get_View()),dY.Hole("direccion1").get_View()),dY.Hole("direccion2").get_View()),dY.Hole("ciudad").get_View()),dX.get_View()));return[d5,dY.get_Doc()];};be.asyncResultM=function(){S.$cctor();return S.asyncResultM;};be["AsyncResultMBuilder.Bind"]=function(dX,dY,dZ){function d0(d1){return cH.Return(d1);}return bf.bind(dZ,cH.Bind(dY,function(d1){return d0(_8.OkM$1(d1));}));};bg=bf.AsyncResultMBuilder=dP.Class({Run:function(dX){return bf.bind(dX,bf.rtn());},Delay:a.id,Bind$4:function(dX,dY){return bf.bind(dY,dX);},Zero:function(){return bf.rtn();},Return:function(dX){return bf.rtn(dX);},Bind$3:function(dX,dY){return bf.bindr(dY,dX);}},f,bg);bg.New=dP.Ctor(function(){f.New.call(this);},bg);bh.ejecutarEvento=function(dX){return bf.rtn(cf.ROk);};bh.logoutUser=function(){return bf.rtn();};bh.iterA=function(dX){function dY(dZ){a.alert(dZ);}bf.iterA(function(dZ){return dY(bm.summarized(dZ));},a.ignore,dX);};bh.leerDataModelo=function(dX){var dY;dY=be.asyncResultM();return dY.Run(dY.Delay(function(){var dZ,d0,d1;dZ={$:1,$0:"admin"};return dZ!=null&&dZ.$==1?(d0=dZ.$0,be["AsyncResultMBuilder.Bind"](dY,ct.estado(),function(d2){var d3,d4,d5;d3=M.actualizarAliados(d2);d4=M.busqueda(d3);return d0==="admin"?dY.Return(N.New(d2.idAliado,d3,d2.anoActual,d2.periodoActual,d2.premisas,d2.nevento)):(d5=_2.find(function(d6){return y.Equals(d6.id,new bl({$:0,$0:d0}));},d3),dY.Return(N.New(d5.id,[d5].concat((d5.tipo.$===0?d4.descendientes:d4.hijos)(d5)),d2.anoActual,d2.periodoActual,d2.premisas,d2.nevento)));})):dX!=null&&dX.$==1?(d1=dX.$0,be["AsyncResultMBuilder.Bind"](dY,ct.estado(),function(d2){var d3,d4,d5,d6,d7,d8;d3=(d4=_2.tryFind(function(d9){return y.Equals(d9.id,d1);},d2.aliados),(d5=(d6=new bl({$:0,$0:"Prozper"}),(d7=(d8=M.empty().datosPersonales,bz.New(d8.titulo,"Prozper",d8.nombre2,d8.apellido1,d8.apellido2,d8.nacionalidad,d8.genero,d8.fechaNacimiento)),L.New(d6,M.empty().authorizeIdR,M.empty().idPadreO,d7,M.empty().contactos,M.empty().identificacion,M.empty().formasPago,M.empty().transacciones,M.empty().mensajes,M.empty().isInternal,M.empty().status,M.empty().tipo,M.empty().fechaRegistro,M.empty().fechaStatus,M.empty().nReferidos,M.empty().nRefActivos,M.empty().nDescendientes,M.empty().nDescActivos,M.empty().comision,M.empty().nivel))),d4==null?d5:d4.$0));return be["AsyncResultMBuilder.Bind"](dY,ct.estado(),function(d9){return dY.Return(N.New(d3.id,[L.New(d3.id,M.empty().authorizeIdR,M.empty().idPadreO,d3.datosPersonales,M.empty().contactos,M.empty().identificacion,M.empty().formasPago,M.empty().transacciones,M.empty().mensajes,M.empty().isInternal,M.empty().status,M.empty().tipo,M.empty().fechaRegistro,M.empty().fechaStatus,M.empty().nReferidos,M.empty().nRefActivos,M.empty().nDescendientes,M.empty().nDescActivos,M.empty().comision,M.empty().nivel)],d9.anoActual,d9.periodoActual,d9.premisas,d9.nevento));});})):dY.Bind$3(_3.Error$1(new bm({$:1,$0:"User not logged in."})),function(){return be["AsyncResultMBuilder.Bind"](dY,ct.estado(),function(d2){return dY.Return(N.New(d2.idAliado,[],d2.anoActual,d2.periodoActual,d2.premisas,d2.nevento));});});}));};bh.obtenerUnions=function(){var dX;dX=null;return cH.Delay(function(){return cH.Return([[],[],[],[],[],[],[]]);});};bj.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new a.RegExp("[xy]","g"),function(dX){var dY,dZ;dY=dQ.random()*16|0;dZ=dX=="x"?dY:dY&3|8;return dZ.toString(16);});};bj.TryParse=function(dX,dY){try{dY.set(bj.Parse(dX));return true;}catch(dZ){return false;}};bj.Parse=function(dX){var dY,dZ,d0;try{return bj.ParseExact(dX,"D");}catch(d1){try{dY=bj.ParseExact(dX,"B");}catch(d2){try{dZ=bj.ParseExact(dX,"P");}catch(d3){try{d0=bj.ParseExact(dX,"N");}catch(d4){d0=bj.ParseExact(dX,"X");}dZ=d0;}dY=dZ;}return dY;}};bj.ParseExact=function(dX,dY){var dZ,d0,d1,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea;function d2(eb){var ec,ed,ee,ef;for(ec=0,ed=35;ec<=ed;ec++){ec===8||(ec===13||(ec===18||ec===23))?eb[ec]!=="-"?bj.ShapeError():void 0:(ef=eb[ec],!("0"<=ef&&ef<="9"||"a"<=ef&&ef<="f")?bj.ShapeError():void 0);}return eb;}d3=dY.toUpperCase();if(d3==="N"){d4=_.Trim(dX).toLowerCase();if(d4.length!==32)bj.ShapeError();for(d5=0,d6=31;d5<=d6;d5++){d7=d4[d5];!("0"<=d7&&d7<="9"||"a"<=d7&&d7<="f")?bj.ShapeError():void 0;}return _.Substring(d4,0,8)+"-"+_.Substring(d4,8,4)+"-"+_.Substring(d4,12,4)+"-"+_.Substring(d4,16,4)+"-"+d4.substring(20);}else if(d3==="D"){dZ=_.Trim(dX).toLowerCase();dZ.length!==36?bj.ShapeError():void 0;return d2(dZ);}else if(d3==="B"){d0=_.Trim(dX).toLowerCase();d0.length!==38||d0[0]!=="{"||d0[17]!=="}"?bj.ShapeError():void 0;return d2(_.Substring(d0,1,36));}else if(d3==="P"){d1=_.Trim(dX).toLowerCase();d1.length!==38||d1[0]!=="("||d1[17]!==")"?bj.ShapeError():void 0;return d2(_.Substring(d1,1,36));}else if(d3==="X"){d8=_.Trim(dX).toLowerCase();if(d8.length!==68)bj.ShapeError();for(d9=0,d_=67;d9<=d_;d9++){switch(d9){case 26:case 0:if(d8[d9]!=="{")bj.ShapeError();break;case 62:case 57:case 52:case 47:case 42:case 37:case 32:case 27:case 19:case 12:case 1:if(d8[d9]!=="0")bj.ShapeError();break;case 63:case 58:case 53:case 48:case 43:case 38:case 33:case 28:case 20:case 13:case 2:if(d8[d9]!=="x")bj.ShapeError();break;case 61:case 56:case 51:case 46:case 41:case 36:case 31:case 25:case 18:case 11:if(d8[d9]!==",")bj.ShapeError();break;case 67:case 66:if(d8[d9]!=="{")bj.ShapeError();break;default:ea=d8[d9];!("0"<=ea&&ea<="9"||"a"<=ea&&ea<="f")?bj.ShapeError():void 0;break;}}return _.Substring(d8,3,8)+"-"+_.Substring(d8,14,4)+"-"+_.Substring(d8,21,4)+"-"+_.Substring(d8,29,2)+_.Substring(d8,34,2)+"-"+_.Substring(d8,39,2)+_.Substring(d8,44,2)+_.Substring(d8,49,2)+_.Substring(d8,54,2)+_.Substring(d8,59,2)+_.Substring(d8,64,2);}else return bj.FormatError();};bj.ShapeError=function(){throw new dy.New$1("Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");};bj.FormatError=function(){throw new dy.New$1("Format String can be only \"D\", \"d\", \"N\", \"n\", \"P\", \"p\", \"B\", \"b\", \"X\" or \"x\".");};bl=bk.IdAliado=dP.Class({},null,bl);bf.iterA=function(dX,dY,dZ){function d0(d2){bM.iter(dX,dY,d2);}function d1(d2){return cH.Return(d2);}cH.Start(cH.Bind(dZ,function(d2){return d1(d0(d2));}),null);};bf.rtn=function(dX){return cH.Return(_8.OkM$1(dX));};bf.bind=function(dX,dY){var dZ;dZ=null;return cH.Delay(function(){return cH.TryWith(cH.Delay(function(){return cH.Bind(dY,function(d0){var d1,d2;function d3(d5){return bM.addMsg(d2,d5);}function d4(d5){return cH.Return(d5);}d1=_8.OkM(d0);return d1.$==1?cH.Return(_8.ErrorM(d1.$0)):(d2=d1.$0[1],cH.Bind(dX(d1.$0[0]),function(d5){return d4(d3(d5));}));});}),function(d0){return cH.Return(_8.ErrorM(new bm({$:5,$0:d0.message,$1:d0.stack})));});});};bf.bindr=function(dX,dY){return bf.bind(dX,bf.rtnr(dY));};bf.rtnr=function(dX){return cH.Return(bM.rtnr(dX));};bm.summarized=function(dX){return bm.summarizedF(function(){return[1,0,0];},dX);};bm.summarizedF=function(dX,dY){return _.concat("\n",_2.filter(function(dZ){return""!==dZ;},bn.ofArray([a.String(dY),bm.summaryF(dX,dY)])));};bm.summaryF=function(dX,dY){var dZ,d0;d0=bm.countF(dX,dY);switch(d0[0]===0?d0[1]===0?0:d0[1]===1?d0[2]===0?0:(dZ=d0[1],2):(dZ=d0[1],2):d0[0]===1?d0[1]===0?d0[2]===0?0:(dZ=d0[0],1):(dZ=[d0[0],d0[1]],3):d0[1]===0?(dZ=d0[0],1):(dZ=[d0[0],d0[1]],3)){case 0:return"";case 1:return(function(d1){return function(d2){return d1("Errors   : "+a.String(d2)+"\n");};}(a.id))(dZ);case 2:return(function(d1){return function(d2){return d1("Warnings : "+a.String(d2)+"\n");};}(a.id))(dZ);case 3:return(((dP.Curried3(function(d1,d2,d3){return d1("Errors   : "+a.String(d2)+", Warnings: "+a.String(d3)+"\n");}))(a.id))(dZ[0]))(dZ[1]);}};bm.addMsg=function(dX,dY){return dX.$==0?dY:dX.$==6?dY.$==0?dX:dY.$==6?new bm({$:6,$0:dX.$0.concat(dY.$0)}):new bm({$:6,$0:dX.$0.concat([dY])}):dY.$==0?dX:dY.$==6?new bm({$:6,$0:[dX].concat(dY.$0)}):new bm({$:6,$0:[dX,dY]});};bm.countF=function(dX,dY){function dZ(d0,d1,d2){return function(d3){return[d0+d3[0],d1+d3[1],d2+d3[2]];};}return dY.$==0?[0,0,0]:dY.$==3?[0,0,1]:dY.$==2?[0,1,0]:dY.$==4?dX(dY.$0):dY.$==6?_2.fold(function(d0,d1){return(function(d2){return dZ(d2[0],d2[1],d2[2]);}(d0))(d1);},[0,0,0],_2.map(function(d0){return bm.countF(dX,d0);},bm.exclnoMsg(dY.$0))):[1,0,0];};bm.exclnoMsg=function(dX){function dY(dZ){return!dZ;}return _2.filter(function(dZ){return dY(bm.noMsg(dZ));},dX);};bm.noMsg=function(dX){return dX.$==0;};bo=bn.T=dP.Class({GetEnumerator:function(){return new cc.New(this,null,function(dX){var dY;dY=dX.s;return dY.$==0?false:(dX.c=dY.$0,dX.s=dY.$1,true);},void 0);},GetEnumerator0:function(){return cb.Get(this);}},null,bo);bo.Empty=new bo({$:0});bp.toSafe=function(dX){return dX==null?"":dX;};bp.prettyPrint=function(dX){var dY,dZ;function d0(d1,d2){return d1+" = "+bp.prettyPrint(d2);}return dX===null?"null":(dY=typeof dX,dY=="string"?"\""+dX+"\"":dY=="object"?dX instanceof a.Array?"[|"+_.concat("; ",C.map(bp.prettyPrint,dX))+"|]":(dZ=a.String(dX),dZ==="[object Object]"?"{"+_.concat("; ",C.map(function(d1){return d0(d1[0],d1[1]);},x.GetFields(dX)))+"}":dZ):a.String(dX));};bp.printList=function(dX,dY){return"["+_.concat("; ",_2.map(dX,dY))+"]";};bp.padNumLeft=function(dX,dY){var dZ;dZ=C.get(dX,0);return dZ===" "||dZ==="+"||dZ==="-"?dZ+_.PadLeftWith(dX.substr(1),dY-1,"0"):_.PadLeftWith(dX,dY,"0");};bq.New=function(dX,dY,dZ){return{actName:dX,actFunction:dY,actEnabled:dZ};};bs.New=function(dX,dY){return{lytName:dX,lytDefinition:dY};};bt.$cctor=function(){var dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep;bt.$cctor=a.ignore;function eq(eW){return _.concat("\n",eW);}function er(eW){return bO.splitByChar("\n",eW);}function es(eW){var eX,eY;return bP.array(eW,{$:1,$0:0},{$:1,$0:(eX=0,(eY=C.length(eW)-2,y.Compare(eX,eY)===1?eX:eY))});}function et(eW){return _.concat("\n",eW);}function eu(eW){var eX;function eY(e0){return j.plugIns().TryFindByKey(e0);}function eZ(e0){var e1;e1=j.defaultPlugIn();return e0==null?e1:e0.$0;}eX=function(e0){return e0==null?null:eY(e0.$0);};return function(e0){return eZ(eX(e0));};}function ev(eW){var eX;eX=null;return d0.TryGetValue(eW,{get:function(){return eX;},set:function(eY){eX=eY;}})?{$:1,$0:eX}:null;}function ew(eW,eX){d0.set_Item(eW,eX);return eX;}function ex(eW,eX){var eY;eY=ev(eW);return eY==null?ew(eW,eX(eW)):eY.$0;}function ey(eW){var eX;eX=null;return d3.TryGetValue(eW,{get:function(){return eX;},set:function(eY){eX=eY;}})?{$:1,$0:eX}:null;}function ez(eW,eX){d3.set_Item(eW,eX);return eX;}function eA(eW,eX){var eY;eY=ey(eW);return eY==null?ez(eW,eX(eW)):eY.$0;}function eB(eW){var eX;eX=null;return d6.TryGetValue(eW,{get:function(){return eX;},set:function(eY){eX=eY;}})?{$:1,$0:eX}:null;}function eC(eW,eX){d6.set_Item(eW,eX);return eX;}function eD(eW,eX){var eY;eY=eB(eW);return eY==null?eC(eW,eX(eW)):eY.$0;}function eE(eW){var eX;eX=null;return d9.TryGetValue(eW,{get:function(){return eX;},set:function(eY){eX=eY;}})?{$:1,$0:eX}:null;}function eF(eW,eX){d9.set_Item(eW,eX);return eX;}function eG(eW,eX){var eY;eY=eE(eW);return eY==null?eF(eW,eX(eW)):eY.$0;}function eH(eW){var eX;eX=null;return ea.TryGetValue(eW,{get:function(){return eX;},set:function(eY){eX=eY;}})?{$:1,$0:eX}:null;}function eI(eW,eX){ea.set_Item(eW,eX);return eX;}function eJ(eW,eX){var eY;eY=eH(eW);return eY==null?eI(eW,eX(eW)):eY.$0;}function eK(eW){var eX;eX=null;return ed.TryGetValue(eW,{get:function(){return eX;},set:function(eY){eX=eY;}})?{$:1,$0:eX}:null;}function eL(eW,eX){ed.set_Item(eW,eX);return eX;}function eM(eW,eX){var eY;eY=eK(eW);return eY==null?eL(eW,eX(eW)):eY.$0;}function eN(eW){var eX;eX=null;return eg.TryGetValue(eW,{get:function(){return eX;},set:function(eY){eX=eY;}})?{$:1,$0:eX}:null;}function eO(eW,eX){eg.set_Item(eW,eX);return eX;}function eP(eW,eX){var eY;eY=eN(eW);return eY==null?eO(eW,eX(eW)):eY.$0;}function eQ(eW){var eX;eX=null;return ej.TryGetValue(eW,{get:function(){return eX;},set:function(eY){eX=eY;}})?{$:1,$0:eX}:null;}function eR(eW,eX){ej.set_Item(eW,eX);return eX;}function eS(eW,eX){var eY;eY=eQ(eW);return eY==null?eR(eW,eX(eW)):eY.$0;}function eT(eW){var eX;eX=null;return em.TryGetValue(eW,{get:function(){return eX;},set:function(eY){eX=eY;}})?{$:1,$0:eX}:null;}function eU(eW,eX){em.set_Item(eW,eX);return eX;}function eV(eW,eX){var eY;eY=eT(eW);return eY==null?eU(eW,eX(eW)):eY.$0;}bt.unindentStr=function(eW){return eq(bO.unindent(eW));};bt.skipLastLine=(dX=function(eW){return es(er(eW));},function(eW){return et(dX(eW));});bt.parseDateO=bQ.tryParseWith(function(eW){var eX,eY;eX=0;return[(eY=cC.TryParse(eW),eY!=null&&eY.$==1&&(eX=eY.$0,true)),eX];});bt.parseIntO=bQ.tryParseWith(function(eW){var eX;eX=0;return[bD.TryParseInt32(eW,{get:function(){return eX;},set:function(eY){eX=eY;}}),eX];});bt.parseSingleO=bQ.tryParseWith(function(eW){var eX,eY;eX=0;return[(eY=a.Number(eW),a.isNaN(eY)?false:(eX=eY,true)),eX];});bt.parseDoubleO=bQ.tryParseWith(function(eW){var eX,eY;eX=0;return[(eY=a.Number(eW),a.isNaN(eY)?false:(eX=eY,true)),eX];});bt.parseGuidO=bQ.tryParseWith(function(eW){var eX;eX=null;return[bj.TryParse(eW,{get:function(){return eX;},set:function(eY){eX=eY;}}),eX];});bt["|Date|_|"]=bQ.parseDateO();bt["|Int|_|"]=bQ.parseIntO();bt["|Single|_|"]=bQ.parseSingleO();bt["|Double|_|"]=bQ.parseDoubleO();bt["|Guid|_|"]=bQ.parseGuidO();bt.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";bt.observers=bo.Empty;bt.css="\r\n                .tab-panel {\r\n                 overflow  : hidden   ;\r\n                 display   : flex     ;\r\n                 flex-flow : column   ;\r\n                 background: lightgray;\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                }\r\n                .tab-content {\r\n                 flex      : 1 1     ;\r\n                 overflow  : auto    ;\r\n                 position  : relative;\r\n                }\r\n                .tab-children {\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                 position  : absolute;\r\n                 display   : grid    ;\r\n                }\r\n                .tab-strip {\r\n                 padding   : 0pt     ;\r\n                 flex      : 0 0     ;\r\n                }\r\n                .tab {\r\n                 border     : 0.2pt solid transparent;\r\n                 padding    : 0pt 4pt;\r\n                 display    : inline-block;\r\n                 font-family: sans-serif;\r\n                 font-weight: 200;\r\n                 font-size  : small;\r\n                 color      : #666;\r\n                 cursor     : pointer;\r\n                }\r\n                .top>.tab {\r\n                 border-radius: 2pt 2pt 0pt 0pt;\r\n                 border-bottom-width: 0pt;\r\n                 vertical-align: bottom;\r\n                }\r\n                .bottom>.tab {\r\n                 border-top-width: 0pt;\r\n                 border-radius: 0pt 0pt 2pt 2pt;\r\n                 vertical-align: top;\r\n                }\r\n                .horizontal>.tab:not(:first-child) {\r\n                 border-left-width: 0pt;\r\n                }\r\n                .tab.hovering {\r\n                 background: red;\r\n                }\r\n                .tab.selected {\r\n                 background: white;\r\n                 border-left-width: 0.2pt;\r\n                 color: black;\r\n                 font-weight: 500;\r\n                 border-color: black;\r\n                }\r\n                .horizontal>.tab.selected {\r\n                 border-left-width: 0.2pt;\r\n                }\r\n                ::slotted(*              ) { \r\n                 width : 100%;\r\n                 height: 100%;\r\n                }\r\n                        ";bt.init=m.Create(function(){var eW;eW=new cr.New();cp.defineWebComponent("wcomp-tabstrip",cr.Constructor,self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New);});bt.layoutHorizontal=dP.Curried(function(eW,eX,eY,eZ,e0){return b$.get_Empty();},5);bt.layoutVertical=dP.Curried(function(eW,eX,eY,eZ,e0){return b$.get_Empty();},5);bt.plugIns=new Q.New$1(function(eW){return eW.plgName;});bt.mainDocV=h.Create$1("AppFramework.AppFwkClient");bt.TemplateFileName="..\\website\\AppFramework.html";bt.defaultPlugIn=k.New("",[],[],[],[],[]);bt.selectionPlugInO=h.Create$1({$:1,$0:"AppFramework"});bt.currentPlugInW=(dY=j.selectionPlugInO().get_View(),J.Map2(function(eW,eX){return(eu(eW))(eX);},j.plugIns().v,dY));bt.currentPlugInV=new cL.New(j.currentPlugInW(),function(eW){j.plugIns().Append(eW);});bt.AppFwkClient=m.Create(function(){var eW,eX,eY,eZ,e0,e1,e2,e3,e4;return(eW=(eX=j.renderQueries(),(eY=j.renderActions(),(eZ=j.renderDocs(),(e0=j.renderViews(),(e1=j.renderVars(),(e2=j.renderPlugIns(),G.Make().WithHole({$:0,$0:"plugins",$1:e2})).WithHole({$:2,$0:"pluginname",$1:J.Map(function(e5){return e5.plgName;},j.currentPlugInW())}).WithHole({$:0,$0:"vars",$1:e1})).WithHole({$:0,$0:"views",$1:e0})).WithHole({$:0,$0:"docs",$1:eZ})).WithHole({$:0,$0:"actions",$1:eY})).WithHole({$:0,$0:"queries",$1:eX})),(e3=H.CompleteHoles(eW.k,eW.h,[]),(e4=new I.New(e3[1],ck.appfwkclient(e3[0])),(eW.i=e4,e4)))).get_Doc();});bt.actHello=j.newAct("Hello",function(){self.alert("Hello!");});bt.qryDocs=j.newQry("getDocNames",function(){return C.ofSeq(_2.collect(function(eW){return _2.map(function(eX){return eW.plgName+"."+eX.docName;},eW.plgDocs);},(j.plugIns())["var"].Get()));});j.plugIns().Append(k.New("AppFramework",[j.newVar("mainDocV",j.mainDocV())],[],[j.newDoc("AppFwkClient",j.AppFwkClient())],[j.actHello()],[j.qryDocs()]));bt.getMainDoc=m.Create(function(){cs.init(dP.Curried(j.horizontal,5),dP.Curried(j.vertical,5));cq.init().f();return j.mainDoc();});bt.splitName=j.splitName;bt.createSplitterM=(dZ=(d0=new bv.New$5(),[[ev,function(eW){return function(eX){return ex(eW,eX);};}],function(){d0.Clear();}]),(d1=dZ[0][1],[function(eW){return(d1(eW))(function(eX){return z.createSplitter(eX[0],eX[1],eX[2],eX[3],eX[4]);});},dZ[1]]))[0];bt.createButtonM=(d2=(d3=new bv.New$5(),[[ey,function(eW){return function(eX){return eA(eW,eX);};}],function(){d3.Clear();}]),(d4=d2[0][1],[function(eW){return(d4(eW))(function(eX){return z.createButton(eX[0],eX[1],eX[2],eX[3],eX[4]);});},d2[1]]))[0];bt.createInputM=(d5=(d6=new bv.New$5(),[[eB,function(eW){return function(eX){return eD(eW,eX);};}],function(){d6.Clear();}]),(d7=d5[0][1],[function(eW){return(d7(eW))(function(eX){return z.createInput(eX[0],eX[1],eX[2],eX[3]);});},d5[1]]))[0];bt.createTextAreaM=(d8=(d9=new bv.New$5(),[[eE,function(eW){return function(eX){return eG(eW,eX);};}],function(){d9.Clear();}]),(d_=d8[0][1],[function(eW){return(d_(eW))(function(eX){return z.createTextArea(eX[0],eX[1],eX[2],eX[3]);});},d8[1]]))[0];bt.createElementM=(d$=(ea=new bv.New$5(),[[eH,function(eW){return function(eX){return eJ(eW,eX);};}],function(){ea.Clear();}]),(eb=d$[0][1],[function(eW){return(eb(eW))(function(eX){return z.createElement(eX[0],eX[1],eX[2],eX[3],eX[4]);});},d$[1]]))[0];bt.createDocM=(ec=(ed=new bv.New$5(),[[eK,function(eW){return function(eX){return eM(eW,eX);};}],function(){ed.Clear();}]),(ee=ec[0][1],[function(eW){return(ee(eW))(function(eX){return z.createDoc(eX[0],eX[1],eX[2],eX[3]);});},ec[1]]))[0];bt.createTemplateM=(ef=(eg=new bv.New$5(),[[eN,function(eW){return function(eX){return eP(eW,eX);};}],function(){eg.Clear();}]),(eh=ef[0][1],[function(eW){return(eh(eW))(function(eX){return z.createTemplate(eX[0],eX[1],eX[2],eX[3],eX[4]);});},ef[1]]))[0];bt.createConcatM=(ei=(ej=new bv.New$5(),[[eQ,function(eW){return function(eX){return eS(eW,eX);};}],function(){ej.Clear();}]),(ek=ei[0][1],[function(eW){return(ek(eW))(function(eX){return z.createConcat(eX[0],eX[1],eX[2]);});},ei[1]]))[0];bt.createVarM=(el=(em=new bv.New$5(),[[eT,function(eW){return function(eX){return eV(eW,eX);};}],function(){em.Clear();}]),(en=el[0][1],[function(eW){return(en(eW))(function(eX){return z.createVar(eX[0],eX[1],eX[2]);});},el[1]]))[0];eo=j.tryGetPlugIn("AppFramework");eo==null?void 0:(ep=eo.$0,j.addPlugIn(k.New(ep.plgName,ep.plgVars,ep.plgViews,ep.plgDocs,ep.plgActions.concat([j.newActF("AddLayout",{$:2,$0:function(eW){return function(eX){return z.addNewLayout(eW,eX);};},$1:"[Name]",$2:"[Layout]"})]),ep.plgQueries)));};bu=_6.List=dP.Class({GetEnumerator:function(){return cb.Get(this);},GetEnumerator0:function(){return cb.Get0(this);}},null,bu);bv=_6.Dictionary=dP.Class({set_Item:function(dX,dY){this.set(dX,dY);},set:function(dX,dY){var dZ,d0,d1,d2;dZ=this;d0=this.hash(dX);d1=this.data[d0];d1==null?(this.count=this.count+1,this.data[d0]=new a.Array({K:dX,V:dY})):(d2=C.tryFindIndex(function(d3){return dZ.equals.apply(null,[(t.KeyValue(d3))[0],dX]);},d1),d2==null?(this.count=this.count+1,d1.push({K:dX,V:dY})):d1[d2.$0]={K:dX,V:dY});},get_Item:function(dX){return this.get(dX);},TryGetValue:function(dX,dY){var dZ,d0,d1;dZ=this;d0=this.data[this.hash(dX)];return d0==null?false:(d1=C.tryPick(function(d2){var d3;d3=t.KeyValue(d2);return dZ.equals.apply(null,[d3[0],dX])?{$:1,$0:d3[1]}:null;},d0),d1!=null&&d1.$==1&&(dY.set(d1.$0),true));},Remove:function(dX){return this.remove(dX);},ContainsKey:function(dX){var dY,dZ;dY=this;dZ=this.data[this.hash(dX)];return dZ==null?false:C.exists(function(d0){return dY.equals.apply(null,[(t.KeyValue(d0))[0],dX]);},dZ);},Add:function(dX,dY){this.add(dX,dY);},get:function(dX){var dY,dZ;dY=this;dZ=this.data[this.hash(dX)];return dZ==null?cv.notPresent():C.pick(function(d0){var d1;d1=t.KeyValue(d0);return dY.equals.apply(null,[d1[0],dX])?{$:1,$0:d1[1]}:null;},dZ);},remove:function(dX){var dY,dZ,d0,d1;dY=this;dZ=this.hash(dX);d0=this.data[dZ];return d0==null?false:(d1=C.filter(function(d2){return!dY.equals.apply(null,[(t.KeyValue(d2))[0],dX]);},d0),C.length(d1)<d0.length&&(this.count=this.count-1,this.data[dZ]=d1,true));},get_Keys:function(){return new dC.New(this);},add:function(dX,dY){var dZ,d0,d1;dZ=this;d0=this.hash(dX);d1=this.data[d0];d1==null?(this.count=this.count+1,this.data[d0]=new a.Array({K:dX,V:dY})):(C.exists(function(d2){return dZ.equals.apply(null,[(t.KeyValue(d2))[0],dX]);},d1)?cv.alreadyAdded():void 0,this.count=this.count+1,d1.push({K:dX,V:dY}));},Clear:function(){this.data=[];this.count=0;},GetEnumerator:function(){return cb.Get0(this);},GetEnumerator0:function(){return cb.Get0(C.concat(x.GetFieldValues(this.data)));}},f,bv);bv.New$5=dP.Ctor(function(){bv.New$6.call(this,[],y.Equals,y.Hash);},bv);bv.New$6=dP.Ctor(function(dX,dY,dZ){var d0,d1;f.New.call(this);this.equals=dY;this.hash=dZ;this.count=0;this.data=[];d0=cb.Get(dX);try{while(d0.MoveNext()){d1=d0.Current();this.set(d1.K,d1.V);}}finally{if(typeof d0=="object"&&"Dispose"in d0)d0.Dispose();}},bv);bw=_6.HashSet=dP.Class({Add:function(dX){return this.add(dX);},Contains:function(dX){var dY;dY=this.data[this.hash(dX)];return dY==null?false:this.arrContains(dX,dY);},add:function(dX){var dY,dZ;dY=this.hash(dX);dZ=this.data[dY];return dZ==null?(this.data[dY]=[dX],this.count=this.count+1,true):this.arrContains(dX,dZ)?false:(dZ.push(dX),this.count=this.count+1,true);},arrContains:function(dX,dY){var dZ,d0,d1,d2;dZ=true;d0=0;d2=dY.length;while(dZ&&d0<d2)if(this.equals.apply(null,[dY[d0],dX]))dZ=false;else d0=d0+1;return!dZ;},ExceptWith:function(dX){var dY;dY=cb.Get(dX);try{while(dY.MoveNext())this.Remove(dY.Current());}finally{if(typeof dY=="object"&&"Dispose"in dY)dY.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(dX){var dY,dZ,d0,d1;dY=0;dZ=df.concat(this.data);for(d0=0,d1=dZ.length-1;d0<=d1;d0++)C.set(dX,d0,dZ[d0]);},IntersectWith:function(dX){var dY,dZ,d0,d1,d2;dY=new bw.New$4(dX,this.equals,this.hash);dZ=df.concat(this.data);for(d0=0,d1=dZ.length-1;d0<=d1;d0++){d2=dZ[d0];!dY.Contains(d2)?this.Remove(d2):void 0;}},Remove:function(dX){var dY;dY=this.data[this.hash(dX)];return dY==null?false:this.arrRemove(dX,dY)&&(this.count=this.count-1,true);},arrRemove:function(dX,dY){var dZ,d0,d1,d2;dZ=true;d0=0;d2=dY.length;while(dZ&&d0<d2)if(this.equals.apply(null,[dY[d0],dX])){dY.splice.apply(dY,[d0,1]);dZ=false;}else d0=d0+1;return!dZ;},GetEnumerator:function(){return cb.Get(df.concat(this.data));},GetEnumerator0:function(){return cb.Get(df.concat(this.data));}},f,bw);bw.New$3=dP.Ctor(function(){bw.New$4.call(this,[],y.Equals,y.Hash);},bw);bw.New$4=dP.Ctor(function(dX,dY,dZ){var d0;f.New.call(this);this.equals=dY;this.hash=dZ;this.data=[];this.count=0;d0=cb.Get(dX);try{while(d0.MoveNext())this.add(d0.Current());}finally{if(typeof d0=="object"&&"Dispose"in d0)d0.Dispose();}},bw);bw.New$2=dP.Ctor(function(dX){bw.New$4.call(this,dX,y.Equals,y.Hash);},bw);bx.Box=a.id;C.choose=function(dX,dY){var dZ,d0,d1,d2;dZ=[];for(d0=0,d1=dY.length-1;d0<=d1;d0++){d2=dX(dY[d0]);d2==null?void 0:dZ.push(d2.$0);}return dZ;};C.ofSeq=function(dX){var dY,dZ;if(dX instanceof a.Array)return dX.slice();else if(dX instanceof bo)return C.ofList(dX);else{dY=[];dZ=cb.Get(dX);try{while(dZ.MoveNext())dY.push(dZ.Current());return dY;}finally{if(typeof dZ=="object"&&"Dispose"in dZ)dZ.Dispose();}}};C.sortInPlaceWith=function(dX,dY){dY.sort(dX);};C.tryFind=function(dX,dY){var dZ,d0;dZ=null;d0=0;while(d0<dY.length&&dZ==null){dX(dY[d0])?dZ={$:1,$0:dY[d0]}:void 0;d0=d0+1;}return dZ;};C.tryFindIndex=function(dX,dY){var dZ,d0;dZ=null;d0=0;while(d0<dY.length&&dZ==null){dX(dY[d0])?dZ={$:1,$0:d0}:void 0;d0=d0+1;}return dZ;};C.ofList=function(dX){var dY,dZ;dZ=[];dY=dX;while(!(dY.$==0)){dZ.push(bn.head(dY));dY=bn.tail(dY);}return dZ;};C.sortInPlace=function(dX){C.mapInPlace(function(dY){return dY[0];},C.mapiInPlace(function(dY,dZ){return[dZ,dY];},dX).sort(y.Compare));};C.map=function(dX,dY){var dZ,d0,d1;dZ=new a.Array(dY.length);for(d0=0,d1=dY.length-1;d0<=d1;d0++)dZ[d0]=dX(dY[d0]);return dZ;};C.map2=function(dX,dY,dZ){var d0,d1,d2;C.checkLength(dY,dZ);d0=new a.Array(dZ.length);for(d1=0,d2=dZ.length-1;d1<=d2;d1++)d0[d1]=dX(dY[d1],dZ[d1]);return d0;};C.forall=function(dX,dY){var dZ,d0,d1,d2;dZ=true;d0=0;d2=C.length(dY);while(dZ&&d0<d2)if(dX(dY[d0]))d0=d0+1;else dZ=false;return dZ;};C.init=function(dX,dY){var dZ,d0,d1;dX<0?t.FailWith("Negative size given."):null;dZ=new a.Array(dX);for(d0=0,d1=dX-1;d0<=d1;d0++)dZ[d0]=dY(d0);return dZ;};C.concat=function(dX){return a.Array.prototype.concat.apply([],C.ofSeq(dX));};C.tryPick=function(dX,dY){var dZ,d0,d1;dZ=null;d0=0;while(d0<dY.length&&dZ==null){d1=dX(dY[d0]);d1!=null&&d1.$==1?dZ=d1:void 0;d0=d0+1;}return dZ;};C.checkLength=function(dX,dY){if(dX.length!==dY.length)t.FailWith("The arrays have different lengths.");};C.exists=function(dX,dY){var dZ,d0,d1,d2;dZ=false;d0=0;d2=C.length(dY);while(!dZ&&d0<d2)if(dX(dY[d0]))dZ=true;else d0=d0+1;return dZ;};C.pick=function(dX,dY){var dZ;dZ=C.tryPick(dX,dY);return dZ==null?t.FailWith("KeyNotFoundException"):dZ.$0;};C.filter=function(dX,dY){var dZ,d0,d1;dZ=[];for(d0=0,d1=dY.length-1;d0<=d1;d0++)if(dX(dY[d0]))dZ.push(dY[d0]);return dZ;};C.create=function(dX,dY){var dZ,d0,d1;dZ=new a.Array(dX);for(d0=0,d1=dX-1;d0<=d1;d0++)dZ[d0]=dY;return dZ;};C.iter=function(dX,dY){var dZ,d0;for(dZ=0,d0=dY.length-1;dZ<=d0;dZ++)dX(dY[dZ]);};C.foldBack=function(dX,dY,dZ){var d0,d1,d2,d3,d4;d0=dZ;d2=dY.length;for(d3=1,d4=d2;d3<=d4;d3++)d0=dX(dY[d2-d3],d0);return d0;};C.sortInPlaceBy=function(dX,dY){C.mapInPlace(function(dZ){return dZ[0];},C.mapiInPlace(function(dZ,d0){return[d0,[dX(d0),dZ]];},dY).sort(function(dZ,d0){return y.Compare(dZ[1],d0[1]);}));};C.findIndex=function(dX,dY){var dZ;dZ=C.tryFindIndex(dX,dY);return dZ==null?t.FailWith("KeyNotFoundException"):dZ.$0;};C.find=function(dX,dY){var dZ;dZ=C.tryFind(dX,dY);return dZ==null?t.FailWith("KeyNotFoundException"):dZ.$0;};by=bk.IdAuthorize=dP.Class({},null,by);bz.New=function(dX,dY,dZ,d0,d1,d2,d3,d4){return{titulo:dX,nombre1:dY,nombre2:dZ,apellido1:d0,apellido2:d1,nacionalidad:d2,genero:d3,fechaNacimiento:d4};};bA.New=function(dX,dY,dZ){return{nombre:dX,authorizeIdR:dY,cuentaPago:dZ};};bB=bk.StatusAliado=dP.Class({toString:function(){return(function(dX){return function(dY){return dX(Y.p(dY));};}(a.id))(this);}},null,bB);bB.Inactivo=new bB({$:3});bC=bk.TipoAliado=dP.Class({toString:function(){return(function(dX){return function(dY){return dX(Y.p$1(dY));};}(a.id))(this);}},null,bC);bC.Regular=new bC({$:1});bC.Master=new bC({$:0});bD.TryParseInt32=function(dX,dY){return bD.TryParse(dX,-2147483648,2147483647,dY);};bE.New=function(dX,dY,dZ,d0,d1,d2,d3,d4){return{comisionReferidosRegular:dX,comisionReferidosMaster:dY,comisionDescendientesMaster:dZ,comisionDescendientesRegular:d0,montoAfiliacion:d1,numeroReferidosMaster:d2,diaCorte1:d3,diaCorte2:d4};};bD.TryParseInt64=function(dX,dY){return bD.TryParse(dX,-9223372036854775808,9223372036854775807,dY);};bG.Int=function(){bG.set_counter(bG.counter()+1);return bG.counter();};bG.set_counter=function(dX){cS.$cctor();cS.counter=dX;};bG.counter=function(){cS.$cctor();return cS.counter;};bG.Id=function(){bG.set_counter(bG.counter()+1);return"uid"+a.String(bG.counter());};bH.New=function(dX,dY){return{qryName:dX,qryFunction:dY};};bJ=bI.Builder=dP.Class({},f,bJ);bJ.New=dP.Ctor(function(){f.New.call(this);},bJ);bI.result=function(){S.$cctor();return S.result;};bI.defaultWith=function(dX,dY){return dY.$==1?dX(dY.$0):dY.$0;};bL=bK.EffBuilder=dP.Class({},f,bL);bL.New=dP.Ctor(function(){f.New.call(this);},bL);bN=bM.Builder=dP.Class({},f,bN);bN.New=dP.Ctor(function(){f.New.call(this);},bN);bO.unindent$1=function(dX){var dY,dZ,d0,d1;dY=_.SplitChars(dX,["\n"],0);dZ=(d0=_2.tryFindIndex(function(d2){return" "!==d2;},(d1=_2.tryFind(function(d2){return _.Trim(d2)!=="";},dY),d1==null?"":d1.$0)),d0==null?0:d0.$0);return _2.filter(function(d2){return!_.StartsWith(d2,"# 1 ");},_2.map(function(d2){return d2.length<=dZ?"":d2.substring(dZ);},dY));};bO.splitByChar$1=function(dX,dY){return _.SplitChars(dY,[dX],0);};bP.array=function(dX,dY,dZ){return dY==null?dZ!=null&&dZ.$==1?dX.slice(0,dZ.$0+1):[]:dZ==null?dX.slice(dY.$0):dX.slice(dY.$0,dZ.$0+1);};bP.string=function(dX,dY,dZ){return dY==null?dZ!=null&&dZ.$==1?dX.slice(0,dZ.$0+1):"":dZ==null?dX.slice(dY.$0):dX.slice(dY.$0,dZ.$0+1);};bQ.tryParseWith$1=function(dX){function dY(dZ,d0){return dZ?{$:1,$0:d0}:null;}return function(dZ){return dY.apply(null,dX(dZ));};};bQ.parseDateO$1=function(){S.$cctor();return S.parseDateO;};bQ.parseIntO$1=function(){S.$cctor();return S.parseIntO;};bQ.parseSingleO$1=function(){S.$cctor();return S.parseSingleO;};bQ.parseDoubleO$1=function(){S.$cctor();return S.parseDoubleO;};bQ.parseGuidO$1=function(){S.$cctor();return S.parseGuidO;};bQ.parseDateO2=function(){S.$cctor();return S.parseDateO2;};bR.New=function(dX,dY,dZ,d0,d1,d2){return{tipoTelefono:dX,codigoPais:dY,codigoArea:dZ,numero:d0,extension:d1,mensajes:d2};};bS=bk.TipoTelefono=dP.Class({toString:function(){return(function(dX){return function(dY){return dX(Y.p$8(dY));};}(a.id))(this);}},null,bS);bS.Movil=new bS({$:0});bS.get_tryParse=function(){return function(dX){return dX==="Movil"?{$:1,$0:bS.Movil}:dX==="Oficina"?{$:1,$0:bS.Oficina}:dX==="Habitacion"?{$:1,$0:bS.Habitacion}:null;};};bS.Oficina=new bS({$:1});bS.Habitacion=new bS({$:2});bT.New=function(dX,dY,dZ,d0,d1,d2,d3,d4){return{authorizeIdR:dX,tipoDireccion:dY,linea1:dZ,linea2:d0,ciudad:d1,estado:d2,pais:d3,zonaPostal:d4};};_3.Error$1=function(dX){return{$:1,$0:dX};};_3["String.Left$1"]=function(dX,dY){return dY<0?_3["String.Substring2$1"](dX,0,dX.length+dY):_3["String.Substring2$1"](dX,0,dY);};_3["String.Right$1"]=function(dX,dY){var dZ,d0;return _3["String.Substring2$1"](dX,(dZ=0,(d0=dX.length-dY,y.Compare(dZ,d0)===1?dZ:d0)),dX.length);};_3["String.Substring2$1"]=function(dX,dY,dZ){var d0,d1;while(true){if(dZ<=0)return"";else if(dY<0){d0=dY;dY=0;dZ=dZ+d0;}else return dY>=dX.length?"":_.Substring(dX,dY,(d1=dX.length-dY,y.Compare(dZ,d1)===-1?dZ:d1));}};bU=bk.TipoDireccion=dP.Class({toString:function(){return this.$==3?this.$0:(function(dX){return function(dY){return dX(Y.p$7(dY));};}(a.id))(this);}},null,bU);bU.Habitacion=new bU({$:0});bU.tryParse=function(dX){var dY;dY=_.Trim(dX);return dY===""?null:dY==="Habitacion"?{$:1,$0:bU.Habitacion}:dY==="Oficina"?{$:1,$0:bU.Oficina}:dY==="ServicioPostal"?{$:1,$0:bU.ServicioPostal}:{$:1,$0:new bU({$:3,$0:dY})};};bU.Oficina=new bU({$:1});bU.ServicioPostal=new bU({$:2});bV=bk.Estado=dP.Class({toString:function(){return this.$==2?this.$0:(function(dX){return function(dY){return dX(Y.p$3(dY));};}(a.id))(this);}},null,bV);bV.tryParse=function(dX){var dY,dZ;dZ=_.Trim(dX).toUpperCase();switch(dZ){case"":return null;case"TEXAS":case"TX":return{$:1,$0:bV.Texas};case"FLORIDA":case"FL":return{$:1,$0:bV.Florida};default:return{$:1,$0:new bV({$:2,$0:_.Trim(dX)})};}};bV.Texas=new bV({$:0});bV.Florida=new bV({$:1});bW=bk.Pais=dP.Class({toString:function(){return this.$==3?this.$0:(function(dX){return function(dY){return dX(Y.p$2(dY));};}(a.id))(this);}},null,bW);bW.USA=new bW({$:0});bW.tryParse=function(dX){var dY,dZ;dZ=_.Trim(dX).toUpperCase();switch(dZ){case"":return null;case"USA":case"AMERICA":case"E.E.U.U.":case"US":case"UNITED STATES OF AMERICA":case"UNITED STATES":case"EEUU":return{$:1,$0:bW.USA};case"VENEZUELA":return{$:1,$0:bW.Venezuela};case"ARGENTINA":return{$:1,$0:bW.Argentina};default:return{$:1,$0:new bW({$:3,$0:_.Trim(dX)})};}};bW.Venezuela=new bW({$:1});bW.Argentina=new bW({$:2});bX=bk.ZonaPostal=dP.Class({toString:function(){return this.$0;}},null,bX);bX.tryParse=function(dX){return _.Trim(dX)!==""?{$:1,$0:new bX({$:0,$0:_.Trim(dX)})}:null;};bY.New=function(dX,dY,dZ,d0){return{titular:dX,tipoTarjeta:dY,numero:dZ,expiracion:d0};};bZ=bk.Expiracion=dP.Class({},null,bZ);b0=bk.NumeroTarjeta=dP.Class({},null,b0);b1=bk.TipoTarjeta=dP.Class({toString:function(){return this.$==3?this.$0:(function(dX){return function(dY){return dX(Y.p$4(dY));};}(a.id))(this);}},null,b1);b1.Visa=new b1({$:0});b1.tryParse=function(dX){var dY,dZ;dZ=_.Trim(dX).toUpperCase();switch(dZ){case"":return null;case"VISA":return{$:1,$0:b1.Visa};case"MASTERCARD":return{$:1,$0:b1.MasterCard};case"AMERICAN EXPRESS":case"AMEX":return{$:1,$0:b1.Amex};default:return{$:1,$0:new b1({$:3,$0:_.Trim(dX)})};}};b1.MasterCard=new b1({$:1});b1.Amex=new b1({$:2});b2.New=function(dX,dY,dZ,d0,d1){return{titular:dX,banco:dY,tipo:dZ,numero:d0,routing:d1};};b3=bk.RoutingNumber=dP.Class({},null,b3);b4=bk.TipoCuenta=dP.Class({toString:function(){return this.$==2?this.$0:(function(dX){return function(dY){return dX(Y.p$5(dY));};}(a.id))(this);}},null,b4);b4.Ahorro=new b4({$:0});b4.tryParse=function(dX){var dY,dZ;dZ=_.Trim(dX).toUpperCase();switch(dZ){case"":return null;case"AHORRO":case"SAVINGS":return{$:1,$0:b4.Ahorro};case"CORRIENTE":case"CHECKING":return{$:1,$0:b4.Corriente};default:return{$:1,$0:new b4({$:2,$0:_.Trim(dX)})};}};b4.Corriente=new b4({$:1});b5=bk.NumeroCuenta=dP.Class({},null,b5);b6.Masculino={$:0};b6.tryParse=function(dX){var dY;dY=_.Trim(dX);return dY==="Masculino"?{$:1,$0:b6.Masculino}:dY==="Femenino"?{$:1,$0:b6.Femenino}:dY==="Empresa"?{$:1,$0:b6.Empresa}:null;};b6.Femenino={$:1};b6.Empresa={$:2};bk.premisasCalculo=function(){S.$cctor();return S.premisasCalculo;};bk.telVacio=function(){S.$cctor();return S.telVacio;};bk.dirVacio=function(){S.$cctor();return S.dirVacio;};bk.tarVacio=function(){S.$cctor();return S.tarVacio;};bk.ctaVacio=function(){S.$cctor();return S.ctaVacio;};b7.DefaultEP={$:0};b8.InstallHash=function(dX,dY){var dZ;dZ=h.Create$1(b8.getCurrentHash(function(d0){return cF.Parse(dY,cG.FromHash(d0,{$:1,$0:true}));},dX));b8.InstallHashInto(dZ,dX,dY);return dZ;};b8.InstallHashInto=function(dX,dY,dZ){function d0(d3){return cF.Parse(dZ,cG.FromHash(d3,{$:1,$0:true}));}function d1(){return b8.getCurrentHash(d0,dY);}function d2(d3){if(!y.Equals(dX.Get(),d3))dX.Set(d3);}self.addEventListener("popstate",function(){return d2(d1());},false);self.addEventListener("hashchange",function(){return d2(d1());},false);self.document.body.addEventListener("click",function(d3){var d4,d5,d6;d4=(d5=b8.findLinkHref(d3.target),d5==null?null:(d6=d5.$0,_.StartsWith(d6,"#")?d0(d6):null));return d4==null?null:(d2(d4.$0),d3.preventDefault());},false);J.Sink(function(d3){var d4;if(!y.Equals(d3,d1())){d4=cF.HashLink(dZ,d3);self.history.pushState(null,null,d4);}},dX.get_View());};b8.getCurrentHash=function(dX,dY){var dZ,d0;dZ=self.location.hash;d0=dX(dZ);return d0==null?((function(d1){return function(d2){return d1("Failed to parse route: "+bp.toSafe(d2));};}(function(d1){dR.log(d1);}))(dZ),dY):d0.$0;};b8.findLinkHref=function(dX){while(true)if(dX.tagName==="A")return A.ofObj(dX.getAttribute("href"));else if(dX===self.document.body)return null;else dX=dX.parentNode;};b9.B={$:0};b_.paises=function(){S.$cctor();return S.paises;};b_.estados=function(){S.$cctor();return S.estados;};b_.tiposDir=function(){S.$cctor();return S.tiposDir;};b_.tiposTel=function(){S.$cctor();return S.tiposTel;};b_.generos=function(){S.$cctor();return S.generos;};b_.tiposCta=function(){S.$cctor();return S.tiposCta;};b_.tiposTar=function(){S.$cctor();return S.tiposTar;};b_.crearOptions=function(dX){return b$.Concat(_2.map(b_.crearOption,dX));};b_.alertIfNone=function(dX,dY,dZ){return dY!=null&&dY.$==1?dZ(dY.$0):(a.alert("Error not caught: "+dX),null);};b_.removeButton=function(dX,dY){return b$.Element("form",[],[dY,b$.Button("-",[cw.Create("title","borrar")],dX)]);};b_.crearOption=function(dX){return b$.Element("option",[],[b$.TextNode(dX)]);};_3.Error=function(dX){return{$:1,$0:dX};};_3.delayed=function(dX,dY){var dZ;dZ=[null];return function(d0){var d1,d2;d1=dZ[0];d1==null?void 0:d1.$0.Cancel$1();dZ[0]={$:1,$0:new c3.New()};cH.Start((d2=null,cH.Delay(function(){return cH.Bind(cH.Sleep(dX),function(){dY(d0);return cH.Zero();});})),{$:1,$0:dZ[0].$0});};};_3.print=function(dX){if(typeof dX=="string")((function(dY){return function(dZ){return dY(bp.toSafe(dZ));};}(function(dY){dR.log(dY);}))(dX));else((function(dY){return function(dZ){return dY(bp.prettyPrint(dZ));};}(function(dY){dR.log(dY);}))(dX));};_3["String.Left"]=function(dX,dY){return dY<0?_3["String.Substring2"](dX,0,dX.length+dY):_3["String.Substring2"](dX,0,dY);};_3["String.Substring2"]=function(dX,dY,dZ){var d0,d1;while(true){if(dZ<=0)return"";else if(dY<0){d0=dY;dY=0;dZ=dZ+d0;}else return dY>=dX.length?"":_.Substring(dX,dY,(d1=dX.length-dY,y.Compare(dZ,d1)===-1?dZ:d1));}};b$=g.Doc=dP.Class({},f,b$);b$.ConvertSeqBy=function(dX,dY,dZ){return b$.Flatten(J.MapSeqCachedViewBy(dX,function(d0,d1){return(dY(d0))(d1);},dZ));};b$.get_Empty=function(){return b$.Mk(null,J.Const());};b$.EmbedView=function(dX){var dY;dY=cM.CreateEmbedNode();return b$.Mk({$:2,$0:dY},J.Map(a.ignore,J.Bind(function(dZ){cM.UpdateEmbedNode(dY,dZ.docNode);return dZ.updates;},dX)));};b$.Flatten=function(dX){return b$.EmbedView(J.Map(b$.Concat,dX));};b$.Mk=function(dX,dY){return new b$.New(dX,dY);};b$.BindView=function(dX,dY){return b$.EmbedView(J.Map(dX,dY));};b$.Concat=function(dX){var dY;dY=cY.ofSeqNonCopying(dX);return cY.TreeReduce(b$.get_Empty(),b$.Append,dY);};b$.ConvertBy=function(dX,dY,dZ){return b$.Flatten(J.MapSeqCachedBy(dX,dY,dZ));};b$.TextNode=function(dX){return b$.Mk({$:5,$0:cP.CreateText(dX)},J.Const());};b$.Input=function(dX,dY){return b$.InputInternal("input",function(){return _2.append(dX,[co.Value(dY)]);});};b$.Element=function(dX,dY,dZ){var d0,d1;d0=cw.Concat(dY);d1=b$.Concat(dZ);return db.New(cP.CreateElement(dX),d0,d1);};b$.RunInPlace=function(dX,dY,dZ){var d0;d0=cM.CreateRunState(dY,dZ.docNode);J.Sink(dc.get_UseAnimations()||dd.BatchUpdatesEnabled()?de.StartProcessor(cM.PerformAnimatedUpdate(dX,d0,dZ.docNode)):function(){cM.PerformSyncUpdate(dX,d0,dZ.docNode);},dZ.updates);};b$.Append=function(dX,dY){return b$.Mk({$:0,$0:dX.docNode,$1:dY.docNode},J.Map2Unit(dX.updates,dY.updates));};b$.Button=function(dX,dY,dZ){var d0;d0=cw.Concat(dY);return db.New(b$.Clickable("button",dZ),d0,b$.TextNode(dX));};b$.TextView=function(dX){var dY;dY=cM.CreateTextNode();return b$.Mk({$:4,$0:dY},J.Map(function(dZ){cM.UpdateTextNode(dY,dZ);},dX));};b$.InputInternal=function(dX,dY){var dZ;dZ=cP.CreateElement(dX);return db.New(dZ,cw.Concat(dY(dZ)),b$.get_Empty());};b$.Run=function(dX,dY){cM.LinkElement(dX,dY.docNode);b$.RunInPlace(false,dX,dY);};b$.InputArea=function(dX,dY){return b$.InputInternal("textarea",function(){return _2.append(dX,[co.Value(dY)]);});};b$.Clickable=function(dX,dY){var dZ;dZ=cP.CreateElement(dX);dZ.addEventListener("click",function(d0){d0.preventDefault();return dY();},false);return dZ;};b$.New=dP.Ctor(function(dX,dY){f.New.call(this);this.docNode=dX;this.updates=dY;},b$);ca=_6.FSharpMap=dP.Class({TryGetValue:function(dX,dY){var dZ;dZ=this.TryFind(dX);return dZ!=null&&dZ.$==1&&(dY.set(dZ.$0),true);},get_Item:function(dX){var dY;dY=this.TryFind(dX);return dY==null?t.FailWith("The given key was not present in the dictionary."):dY.$0;},TryFind:function(dX){var dY;dY=cd.TryFind(cZ.New(dX,void 0),this.tree);return dY==null?null:{$:1,$0:dY.$0.Value};},Equals:function(dX){return this.get_Count()===dX.get_Count()&&_2.forall2(y.Equals,this,dX);},GetEnumerator$1:function(){return cb.Get(_2.map(function(dX){return{K:dX.Key,V:dX.Value};},cd.Enumerate(false,this.tree)));},get_Count:function(){var dX;dX=this.tree;return dX==null?0:dX.Count;},GetHashCode:function(){return y.Hash(C.ofSeq(this));},Add:function(dX,dY){return new ca.New$1(cd.Add(cZ.New(dX,dY),this.tree));},get_IsEmpty:function(){return this.tree==null;},get_Tree:function(){return this.tree;},GetEnumerator:function(){return this.GetEnumerator$1();},CompareTo0:function(dX){return _2.compareWith(y.Compare,this,dX);},GetEnumerator0:function(){return this.GetEnumerator$1();}},f,ca);ca.New=dP.Ctor(function(dX){ca.New$1.call(this,cI.fromSeq(dX));},ca);ca.New$1=dP.Ctor(function(dX){f.New.call(this);this.tree=dX;},ca);cb.Get=function(dX){return dX instanceof a.Array?cb.ArrayEnumerator(dX):y.Equals(typeof dX,"string")?cb.StringEnumerator(dX):dX.GetEnumerator();};cb.ArrayEnumerator=function(dX){return new cc.New(0,null,function(dY){var dZ;dZ=dY.s;return dZ<C.length(dX)&&(dY.c=C.get(dX,dZ),dY.s=dZ+1,true);},void 0);};cb.StringEnumerator=function(dX){return new cc.New(0,null,function(dY){var dZ;dZ=dY.s;return dZ<dX.length&&(dY.c=dX[dZ],dY.s=dZ+1,true);},void 0);};cb.Get0=function(dX){return dX instanceof a.Array?cb.ArrayEnumerator(dX):y.Equals(typeof dX,"string")?cb.StringEnumerator(dX):"GetEnumerator0"in dX?dX.GetEnumerator0():dX.GetEnumerator();};cc=cb.T=dP.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},f,cc);cc.New=dP.Ctor(function(dX,dY,dZ,d0){f.New.call(this);this.s=dX;this.c=dY;this.n=dZ;this.d=d0;},cc);cd.OfSeq=function(dX){var dY;dY=C.ofSeq(_2.distinct(dX));C.sortInPlace(dY);return cd.Build(dY,0,dY.length-1);};cd.Contains=function(dX,dY){return!((cd.Lookup(dX,dY))[0]==null);};cd.Remove=function(dX,dY){var dZ,d0,d1,d2;dZ=cd.Lookup(dX,dY);d0=dZ[0];d1=dZ[1];return d0==null?dY:d0.Right==null?cd.Rebuild(d1,d0.Left):d0.Left==null?cd.Rebuild(d1,d0.Right):cd.Rebuild(d1,(d2=C.ofSeq(_2.append(cd.Enumerate(false,d0.Left),cd.Enumerate(false,d0.Right))),cd.Build(d2,0,d2.length-1)));};cd.Add=function(dX,dY){return cd.Put(function(dZ,d0){return d0;},dX,dY);};cd.TryFind=function(dX,dY){var dZ;dZ=(cd.Lookup(dX,dY))[0];return dZ==null?null:{$:1,$0:dZ.Node};};cd.Build=function(dX,dY,dZ){var d0,d1,d2;return dZ-dY+1<=0?null:(d0=(dY+dZ)/2>>0,(d1=cd.Build(dX,dY,d0-1),(d2=cd.Build(dX,d0+1,dZ),cd.Branch(C.get(dX,d0),d1,d2))));};cd.Lookup=function(dX,dY){var dZ,d0,d1,d2;dZ=[];d0=dY;d1=true;while(d1)if(d0==null)d1=false;else{d2=y.Compare(dX,d0.Node);d2===0?d1=false:d2===1?(dZ.unshift([true,d0.Node,d0.Left]),d0=d0.Right):(dZ.unshift([false,d0.Node,d0.Right]),d0=d0.Left);}return[d0,dZ];};cd.Rebuild=function(dX,dY){var dZ,d1,d2,d3,d4,d5,d6,d7,d8,d9;function d0(d_){return d_==null?0:d_.Height;}dZ=dY;for(d1=0,d2=C.length(dX)-1;d1<=d2;d1++){dZ=(d3=C.get(dX,d1),d3[0]?(d4=d3[1],(d5=d3[2],d0(dZ)>d0(d5)+1?d0(dZ.Left)===d0(dZ.Right)+1?(d6=dZ.Left,cd.Branch(d6.Node,cd.Branch(d4,d5,d6.Left),cd.Branch(dZ.Node,d6.Right,dZ.Right))):cd.Branch(dZ.Node,cd.Branch(d4,d5,dZ.Left),dZ.Right):cd.Branch(d4,d5,dZ))):(d7=d3[1],(d8=d3[2],d0(dZ)>d0(d8)+1?d0(dZ.Right)===d0(dZ.Left)+1?(d9=dZ.Right,cd.Branch(d9.Node,cd.Branch(dZ.Node,dZ.Left,d9.Left),cd.Branch(d7,d9.Right,d8))):cd.Branch(dZ.Node,dZ.Left,cd.Branch(d7,dZ.Right,d8)):cd.Branch(d7,dZ,d8))));}return dZ;};cd.Put=function(dX,dY,dZ){var d0,d1;d0=cd.Lookup(dY,dZ);d1=d0[0];return d1==null?cd.Rebuild(d0[1],cd.Branch(dY,null,null)):cd.Rebuild(d0[1],cd.Branch(dX(d1.Node,dY),d1.Left,d1.Right));};cd.Branch=function(dX,dY,dZ){var d0,d1;return cJ.New(dX,dY,dZ,1+(d0=dY==null?0:dY.Height,(d1=dZ==null?0:dZ.Height,y.Compare(d0,d1)===1?d0:d1)),1+(dY==null?0:dY.Count)+(dZ==null?0:dZ.Count));};cd.Enumerate=function(dX,dY){function dZ(d0,d1){var d2;while(true)if(d0==null)return d1.$==1?{$:1,$0:[d1.$0[0],[d1.$0[1],d1.$1]]}:null;else if(dX){d2=d0;d0=d2.Right;d1=new bo({$:1,$0:[d2.Node,d2.Left],$1:d1});}else{d2=d0;d0=d2.Left;d1=new bo({$:1,$0:[d2.Node,d2.Right],$1:d1});}}return _2.unfold(function(d0){return dZ(d0[0],d0[1]);},[dY,bo.Empty]);};_2.tryHead=function(dX){var dY;dY=cb.Get(dX);try{return dY.MoveNext()?{$:1,$0:dY.Current()}:null;}finally{if(typeof dY=="object"&&"Dispose"in dY)dY.Dispose();}};C.groupBy=function(dX,dY){var dZ,d0,d1,d2,d3,d4;dZ=new bv.New$5();d0=[];for(d1=0,d2=C.length(dY)-1;d1<=d2;d1++){d3=dY[d1];d4=dX(d3);dZ.ContainsKey(d4)?dZ.get_Item(d4).push(d3):(d0.push(d4),dZ.Add(d4,[d3]));}C.mapInPlace(function(d5){return[d5,dZ.get_Item(d5)];},d0);return d0;};_2.tryItem=function(dX,dY){var dZ,d0,d1;if(dX<0)return null;else{dZ=0;d0=cb.Get(dY);try{d1=true;while(d1&&dZ<=dX)if(d0.MoveNext())dZ=dZ+1;else d1=false;return d1?{$:1,$0:d0.Current()}:null;}finally{if(typeof d0=="object"&&"Dispose"in d0)d0.Dispose();}}};_2.last=function(dX){var dY,dZ;dY=cb.Get(dX);try{if(!dY.MoveNext())dZ=_2.insufficient();else{while(dY.MoveNext());dZ=dY.Current();}return dZ;}finally{if(typeof dY=="object"&&"Dispose"in dY)dY.Dispose();}};C.mapInPlace=function(dX,dY){var dZ,d0;for(dZ=0,d0=dY.length-1;dZ<=d0;dZ++)dY[dZ]=dX(dY[dZ]);};C.mapiInPlace=function(dX,dY){var dZ,d0;for(dZ=0,d0=dY.length-1;dZ<=d0;dZ++)dY[dZ]=dX(dZ,dY[dZ]);return dY;};_2.insufficient=function(){return t.FailWith("The input sequence has an insufficient number of elements.");};_2.nonNegative=function(){return t.FailWith("The input must be non-negative.");};J=g.View=dP.Class({get_V:function(){return t.FailWith("View<'T>.V can only be called in an argument to a V-enabled function or if 'T = Doc.");}},null,J);ce.toYYYYMMDD=function(dX,dY){return((((((dP.Curried(function(dZ,d0,d1,d2,d3,d4){return dZ(a.String(d0)+bp.toSafe(d1)+bp.padNumLeft(a.String(d2),2)+bp.toSafe(d3)+bp.padNumLeft(a.String(d4),2));},6))(a.id))((new dS(dY)).getFullYear()))(dX))((new dS(dY)).getMonth()+1))(dX))((new dS(dY)).getDate());};bn.ofArray=function(dX){var dY,dZ,d0;dY=bo.Empty;for(dZ=C.length(dX)-1,d0=0;dZ>=d0;dZ--)dY=new bo({$:1,$0:C.get(dX,dZ),$1:dY});return dY;};bn.rev=function(dX){var dY,dZ;dY=bo.Empty;dZ=dX;while(dZ.$==1){dY=new bo({$:1,$0:dZ.$0,$1:dY});dZ=dZ.$1;}return dY;};bn.ofSeq=function(dX){var dY,dZ,d0,d1,d2,d3;if(dX instanceof bo)return dX;else if(dX instanceof a.Array)return bn.ofArray(dX);else{dY=cb.Get(dX);try{d0=dY.MoveNext();if(!d0)dZ=bo.Empty;else{d2=new bo({$:1});d1=d2;while(d0){d1.$0=dY.Current();dY.MoveNext()?d1=(d3=new bo({$:1}),d1.$1=d3,d3):d0=false;}d1.$1=bo.Empty;dZ=d2;}return dZ;}finally{if(typeof dY=="object"&&"Dispose"in dY)dY.Dispose();}}};bn.head=function(dX){return dX.$==1?dX.$0:bn.listEmpty();};bn.tail=function(dX){return dX.$==1?dX.$1:bn.listEmpty();};bn.listEmpty=function(){return t.FailWith("The input list was empty.");};bn.iter=function(dX,dY){var dZ;dZ=dY;while(dZ.$==1){dX(bn.head(dZ));dZ=bn.tail(dZ);}};K.correoVacio=function(){S.$cctor();return S.correoVacio;};cf.ROk={$:0};bM.iter=function(dX,dY,dZ){var d0;d0=bM.mapP(dY,dZ);d0.$0==null?dX(d0.$1):void 0;};bM.addMsg=function(dX,dY){return bM.mapMessage(function(dZ){return bm.addMsg(dX,dZ);},dY);};bM.mapP=function(dX,dY){return bM.bindP(function(dZ){return bM.rtn(dX(dZ));},dY);};bM.mapMessage=function(dX,dY){return{$:0,$0:dY.$0,$1:dX(dY.$1)};};bM.bindP=function(dX,dY){var dZ;if(dY.$0==null)return{$:0,$0:null,$1:dY.$1};else{dZ=dY.$1;try{return bM.mapMessage(function(d0){return bm.addMsg(dZ,d0);},dX(dY.$0.$0));}catch(d0){return _8.ErrorM(new bm({$:5,$0:d0.message,$1:d0.stack}));}}};bM.rtn=function(dX){return _8.OkM$1(dX);};bM.rtnr=function(dX){return bI.defaultWith(_8.ErrorM,dF.Map(_8.OkM$1,dX));};cg.replace=function(dX,dY,dZ){return C.ofSeq(_2.delay(function(){return _2.append(dX>0?bP.array(dZ,null,{$:1,$0:dX-1}):[],_2.delay(function(){return _2.append([dY],_2.delay(function(){return dX<C.length(dZ)?bP.array(dZ,{$:1,$0:dX+1},null):[];}));}));}));};cg.remove=function(dX,dY){return C.ofSeq(_2.delay(function(){return _2.append(dX>0?bP.array(dY,null,{$:1,$0:dX-1}):[],_2.delay(function(){return dX<C.length(dY)?bP.array(dY,{$:1,$0:dX+1},null):[];}));}));};ch.formaDocO=function(dX){var dY;return ch.formaDoc(h.Lens(dX,(dY=[bk.ctaVacio(),""],function(dZ){return dZ==null?dY:dZ.$0;}),function(dZ,d0){return{$:1,$0:d0};}));};ch.formaDoc=function(dX){var dY,dZ,d0,d1,d2,d3;function d4(d5,d6){dY.Hole("titular").Set(d5.titular);dY.Hole("banco").Set(d5.banco);dY.Hole("tipocuenta").Set((function(d7){return function(d8){return d7(a.String(d8));};}(a.id))(d5.tipo));dY.Hole("numero").Set(d5.numero.$0);dY.Hole("routing").Set(d5.routing.$0);}dY=(dZ=(d0=b$.EmbedView(J.Map(b_.crearOptions,b_.tiposCta().get_View())),G.Make().WithHole({$:0,$0:"tiposcuenta",$1:d0})).WithHole({$:2,$0:"mensaje",$1:J.Map(function(d5){return d5[1];},dX.get_View())}),(d1=H.CompleteHoles(dZ.k,dZ.h,[["tipocuenta",0],["titular",0],["banco",0],["numero",0],["routing",0]]),(d2=new I.New(d1[1],Z.cuentabancaria(d1[0])),(dZ.i=d2,d2))));J.Sink(function(d5){return d4(d5[0],d5[1]);},dX.get_View());d3=J.Apply(J.Apply(J.Map2(function(d5,d6){return function(d7){return function(d8){return _2.map(function(d9){return d9[1];},_2.filter(function(d9){return d9[0];},bn.ofArray([[_.Trim(d5)==="","Titular"],[_.Trim(d6)==="","Banco"],[_.Trim(d7)==="","Numero de Cuenta"],[_.Trim(d8)==="","ABA/Routing Number"]])));};};},dY.Hole("titular").get_View(),dY.Hole("banco").get_View()),dY.Hole("numero").get_View()),dY.Hole("routing").get_View());J.Sink(function(d5){var d6;if(d5!=null&&d5.$==1){d6=d5.$0;!y.Equals((dX.Get())[0],d6)?dX.Set([d6,""]):void 0;}},J.Apply(J.Apply(J.Apply(J.Apply(J.Map2(function(d5,d6){return dP.Curried(function(d7,d8,d9,d_){return!_2.isEmpty(d5)?null:b_.alertIfNone("TipoCuenta",b4.tryParse(_.Trim(d6)),function(d$){var ea;return{$:1,$0:(ea=_.Trim(d7),b2.New(_.Trim(d8),ea,d$,new b5({$:0,$0:_.Trim(d9)}),new b3({$:0,$0:_.Trim(d_)})))};});},4);},d3,dY.Hole("tipocuenta").get_View()),dY.Hole("banco").get_View()),dY.Hole("titular").get_View()),dY.Hole("numero").get_View()),dY.Hole("routing").get_View()));return[d3,dY.get_Doc()];};ci.formaDocO=function(dX){var dY;return ci.formaDoc(h.Lens(dX,(dY=[bk.tarVacio(),""],function(dZ){return dZ==null?dY:dZ.$0;}),function(dZ,d0){return{$:1,$0:d0};}));};ci.formaDoc=function(dX){var dY,dZ,d0,d1,d2,d3;function d4(d5,d6){dY.Hole("titular").Set(d5.titular);dY.Hole("tipotarjeta").Set((function(d7){return function(d8){return d7(a.String(d8));};}(a.id))(d5.tipoTarjeta));dY.Hole("numero").Set(d5.numero.$0);dY.Hole("expiracion").Set(d5.expiracion.$0);}dY=(dZ=(d0=b$.EmbedView(J.Map(b_.crearOptions,b_.tiposTar().get_View())),G.Make().WithHole({$:0,$0:"tipostarjeta",$1:d0})).WithHole({$:2,$0:"mensaje",$1:J.Map(function(d5){return d5[1];},dX.get_View())}),(d1=H.CompleteHoles(dZ.k,dZ.h,[["tipotarjeta",0],["titular",0],["numero",0],["expiracion",0]]),(d2=new I.New(d1[1],Z.tarjetacredito(d1[0])),(dZ.i=d2,d2))));J.Sink(function(d5){return d4(d5[0],d5[1]);},dX.get_View());d3=J.Apply(J.Apply(J.Map2(function(d5,d6){return function(d7){return function(d8){return _2.map(function(d9){return d9[1];},_2.filter(function(d9){return d9[0];},bn.ofArray([[_.Trim(d5)==="","Titular"],[_.Trim(d6)==="","TipoTarjeta"],[_.Trim(d7)==="","Numero"],[_.Trim(d8)==="","Expiracion"]])));};};},dY.Hole("titular").get_View(),dY.Hole("tipotarjeta").get_View()),dY.Hole("numero").get_View()),dY.Hole("expiracion").get_View());J.Sink(function(d5){var d6;if(d5!=null&&d5.$==1){d6=d5.$0;!y.Equals((dX.Get())[0],d6)?dX.Set([d6,""]):void 0;}},J.Apply(J.Apply(J.Apply(J.Map2(function(d5,d6){return dP.Curried3(function(d7,d8,d9){return!_2.isEmpty(d5)?null:b_.alertIfNone("Tipo Tarjeta",b1.tryParse(_.Trim(d6)),function(d_){return{$:1,$0:bY.New(_.Trim(d7),d_,new b0({$:0,$0:_.Trim(d8)}),new bZ({$:0,$0:_.Trim(d9)}))};});});},d3,dY.Hole("tipotarjeta").get_View()),dY.Hole("titular").get_View()),dY.Hole("numero").get_View()),dY.Hole("expiracion").get_View()));return[d3,dY.get_Doc()];};cj.p=function(dX){return"{"+("docName = "+bp.prettyPrint(dX.docName))+"; "+("docDoc = "+cl.p(dX.docDoc))+"}";};ck.appfwkclient=function(dX){ck.fixedsplitterhor();ck.fixedsplitterver();cz.LoadLocalTemplates("appframework");return dX?cz.NamedTemplate("appframework",{$:1,$0:"appfwkclient"},dX):void 0;};cl.p=function(dX){return dX.$==5?"FunDoc5 (<fun>, "+bp.prettyPrint(dX.$1)+", "+bp.prettyPrint(dX.$2)+", "+bp.prettyPrint(dX.$3)+", "+bp.prettyPrint(dX.$4)+", "+bp.prettyPrint(dX.$5)+")":dX.$==4?"FunDoc4 (<fun>, "+bp.prettyPrint(dX.$1)+", "+bp.prettyPrint(dX.$2)+", "+bp.prettyPrint(dX.$3)+", "+bp.prettyPrint(dX.$4)+")":dX.$==3?"FunDoc3 (<fun>, "+bp.prettyPrint(dX.$1)+", "+bp.prettyPrint(dX.$2)+", "+bp.prettyPrint(dX.$3)+")":dX.$==2?"FunDoc2 (<fun>, "+bp.prettyPrint(dX.$1)+", "+bp.prettyPrint(dX.$2)+")":dX.$==1?"FunDoc1 (<fun>, "+bp.prettyPrint(dX.$1)+")":"LazyDoc "+bp.prettyPrint(dX.$0);};ck.tile=function(dX){cz.LoadLocalTemplates("appframework");return dX?cz.NamedTemplate("appframework",{$:1,$0:"tile"},dX):void 0;};ck.namevalueinput=function(dX){cz.LoadLocalTemplates("appframework");return dX?cz.NamedTemplate("appframework",{$:1,$0:"namevalueinput"},dX):void 0;};ck.namevalue=function(dX){cz.LoadLocalTemplates("appframework");return dX?cz.NamedTemplate("appframework",{$:1,$0:"namevalue"},dX):void 0;};ck.action=function(dX){cz.LoadLocalTemplates("appframework");return dX?cz.NamedTemplate("appframework",{$:1,$0:"action"},dX):void 0;};ck.actiondisabled=function(dX){cz.LoadLocalTemplates("appframework");return dX?cz.NamedTemplate("appframework",{$:1,$0:"actiondisabled"},dX):void 0;};ck.fixedsplitterhor=function(dX){cz.LoadLocalTemplates("appframework");return dX?cz.NamedTemplate("appframework",{$:1,$0:"fixedsplitterhor"},dX):void 0;};ck.fixedsplitterver=function(dX){cz.LoadLocalTemplates("appframework");return dX?cz.NamedTemplate("appframework",{$:1,$0:"fixedsplitterver"},dX):void 0;};ck.wcompsplitterhor=function(dX){cz.LoadLocalTemplates("appframework");return dX?cz.NamedTemplate("appframework",{$:1,$0:"wcompsplitterhor"},dX):void 0;};ck.wcompsplitterver=function(dX){cz.LoadLocalTemplates("appframework");return dX?cz.NamedTemplate("appframework",{$:1,$0:"wcompsplitterver"},dX):void 0;};ck.appframework=function(dX){cz.LoadLocalTemplates("appframework");return dX?cz.NamedTemplate("appframework",{$:1,$0:"appframework"},dX):void 0;};bO.splitByChar=function(dX,dY){return _.SplitChars(dY,[dX],0);};bO.unindent=function(dX){var dY,dZ,d0,d1;dY=_.SplitChars(dX,["\n"],0);dZ=(d0=_2.tryFindIndex(function(d2){return" "!==d2;},(d1=_2.tryFind(function(d2){return _.Trim(d2)!=="";},dY),d1==null?"":d1.$0)),d0==null?0:d0.$0);return _2.filter(function(d2){return!_.StartsWith(d2,"# 1 ");},_2.map(function(d2){return d2.length<=dZ?"":d2.substring(dZ);},dY));};bO.unindentStr=function(){bt.$cctor();return bt.unindentStr;};bO.StartsWith=function(dX,dY){return _.StartsWith(dY,dX)?{$:1,$0:bP.string(dY,{$:1,$0:dX.length},null)}:null;};bO.delimitedO=function(dX,dY,dZ){var d0,d1,d2,d3,d4;d0=bO.splitInTwoO(dX,dZ);return d0==null?null:(d1=d0.$0,(d2=d1[0],(d3=bO.splitInTwoO(dY,d1[1]),d3==null?null:{$:1,$0:(d4=d3.$0,[d2,d4[0],d4[1]])})));};bO.splitInTwoO=function(dX,dY){var dZ;dZ=dY.indexOf(dX);return dZ===-1?null:{$:1,$0:[_3["String.Left"](dY,dZ),dY.substring(dZ+dX.length)]};};cn=cm.attr=dP.Class({},f,cn);co.Style=function(dX,dY){return cO.Static(function(dZ){cP.SetStyle(dZ,dX,dY);});};co.Dynamic=function(dX,dY){return cO.Dynamic(dY,function(dZ){return function(d0){return cP.SetAttr(dZ,dX,d0);};});};co.Handler=function(dX,dY){return cO.Static(function(dZ){dZ.addEventListener(dX,function(d0){return(dY(dZ))(d0);},false);});};co.DynamicStyle=function(dX,dY){return cO.Dynamic(dY,function(dZ){return function(d0){return cP.SetStyle(dZ,dX,d0);};});};co.Value=function(dX){function dY(dZ){return{$:1,$0:dZ};}return co.CustomValue(dX,a.id,function(dZ){return dY(a.id(dZ));});};co.CustomValue=function(dX,dY,dZ){return co.CustomVar(dX,function(d0,d1){d0.value=dY(d1);},function(d0){return dZ(d0.value);});};co.OnAfterRender=function(dX){return new cw({$:4,$0:dX});};co.Checked=function(dX){function dY(dZ,d0){return!y.Equals(dX.Get(),dZ.checked)?dX.Set(dZ.checked):null;}return cw.Concat([co.DynamicProp("checked",dX.get_View()),co.Handler("change",function(dZ){return function(d0){return dY(dZ,d0);};})]);};co.IntValue=function(dX){return co.CustomVar(dX,function(dY,dZ){var d0;d0=dZ.get_Input();return dY.value!==d0?void(dY.value=d0):null;},function(dY){var dZ,d0,d1;dZ=dY.value;return{$:1,$0:dG.isBlank(dZ)?(dY.checkValidity?dY.checkValidity():true)?new cx({$:2,$0:dZ}):new cx({$:1,$0:dZ}):(d0=(d1=0,[bD.TryParseInt32(dZ,{get:function(){return d1;},set:function(d2){d1=d2;}}),d1]),d0[0]?new cx({$:0,$0:d0[1],$1:dZ}):new cx({$:1,$0:dZ}))};});};co.IntValueUnchecked=function(dX){return co.CustomValue(dX,a.String,function(dY){var dZ;return dG.isBlank(dY)?{$:1,$0:0}:(dZ=+dY,dZ!==dZ>>0?null:{$:1,$0:dZ});});};co.FloatValue=function(dX){return co.CustomVar(dX,function(dY,dZ){var d0;d0=dZ.get_Input();return dY.value!==d0?void(dY.value=d0):null;},function(dY){var dZ,d0;dZ=dY.value;return{$:1,$0:dG.isBlank(dZ)?(dY.checkValidity?dY.checkValidity():true)?new cx({$:2,$0:dZ}):new cx({$:1,$0:dZ}):(d0=+dZ,a.isNaN(d0)?new cx({$:1,$0:dZ}):new cx({$:0,$0:d0,$1:dZ}))};});};co.FloatValueUnchecked=function(dX){return co.CustomValue(dX,a.String,function(dY){var dZ;return dG.isBlank(dY)?{$:1,$0:0}:(dZ=+dY,a.isNaN(dZ)?null:{$:1,$0:dZ});});};co.CustomVar=function(dX,dY,dZ){function d0(d2,d3){return dX.UpdateMaybe(function(d4){var d5,d6;d5=dZ(d2);return d5!=null&&d5.$==1&&(!y.Equals(d5.$0,d4)&&(d6=[d5,d5.$0],true))?d6[0]:null;});}function d1(d2,d3){var d4,d5;d4=dZ(d2);return d4!=null&&d4.$==1&&(y.Equals(d4.$0,d3)&&(d5=d4.$0,true))?null:dY(d2,d3);}return cw.Concat([co.Handler("change",function(d2){return function(d3){return d0(d2,d3);};}),co.Handler("input",function(d2){return function(d3){return d0(d2,d3);};}),co.Handler("keypress",function(d2){return function(d3){return d0(d2,d3);};}),co.DynamicCustom(function(d2){return function(d3){return d1(d2,d3);};},dX.get_View())]);};co.DynamicProp=function(dX,dY){return cO.Dynamic(dY,function(dZ){return function(d0){dZ[dX]=d0;};});};co.DynamicCustom=function(dX,dY){return cO.Dynamic(dY,dX);};bQ.tryParseWith=function(dX){function dY(dZ,d0){return dZ?{$:1,$0:d0}:null;}return function(dZ){return dY.apply(null,dX(dZ));};};bQ.parseDateO=function(){bt.$cctor();return bt.parseDateO;};bQ.parseIntO=function(){bt.$cctor();return bt.parseIntO;};bQ.parseSingleO=function(){bt.$cctor();return bt.parseSingleO;};bQ.parseDoubleO=function(){bt.$cctor();return bt.parseDoubleO;};bQ.parseGuidO=function(){bt.$cctor();return bt.parseGuidO;};bQ.Double=function(){bt.$cctor();return bt["|Double|_|"];};bQ.Int=function(){bt.$cctor();return bt["|Int|_|"];};cr=cq.WcTabStripT=dP.Class({connectedCallback:function(){var dX,dY,dZ,d0;function d1(){var d2,d3,d4;d3=!dY.hasAttribute("bottom");d4=bn.ofSeq(_2.delay(function(){return _2.collect(function(d5){var d6;d6=dY.childNodes[d5-1];return y.Equals(d6.nodeType,v.ELEMENT_NODE)?[[d6.hasAttribute("tabname")?d6.getAttribute("tabname"):(function(d7){return function(d8){return d7("Tab "+a.String(d8));};}(a.id))(d5),d6]]:[];},t.range(1,dY.childNodes.length));}));while(d0.childNodes.length>0)d0.removeChild(d0.lastChild);d2=cq.tabStrip(dX.selected,d3,true,d4,b$.Element("slot",bo.Empty,bo.Empty));cz.LoadLocalTemplates("");b$.Run(d0,d2);}dX=this;!this.added?(dY=this,dZ=dY.attachShadow({mode:"open"}),d0=self.document.createElement("div"),dZ.appendChild(d0),d1(),dY.addEventListener("DOMSubtreeModified",_3.delayed(50,d1)),this.added=true):void 0;}},f,cr);cr.Constructor=function(){var dX,dY;dX=(dY=dT.construct(self.HTMLElement,[],this.__proto__.constructor),dY);self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New.call(dX);return dX;};cr.New=dP.Ctor(function(){f.New.call(this);this.added=false;this.selected=h.Create$1(1);(function(dX){return dX("WcTabStripT initializer");}(function(dX){dR.log(dX);}));},cr);cp.defineWebComponent=function(dX,dY,dZ){try{dR.log("defineWebComponent: "+dX);cu.setPrototypeOf(dZ.prototype,self.HTMLElement.prototype);cu.setPrototypeOf(dZ,self.HTMLElement);cu.setPrototypeOf(dY.prototype,dZ.prototype);self.customElements.define(dX,dY);}catch(d0){(function(d1){return d1("Failed to define WebComponent. Not supported.");}(function(d1){dR.log(d1);}));}};cs.init=function(dX,dY){var dZ;dZ=new cQ.New();cs.set_layoutHorizontal(dX);cs.set_layoutVertical(dY);cp.defineWebComponent("wcomp-splitter",cQ.Constructor,self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New);};cs.set_layoutHorizontal=function(dX){bt.$cctor();bt.layoutHorizontal=dX;};cs.set_layoutVertical=function(dX){bt.$cctor();bt.layoutVertical=dX;};cs.layoutVertical=function(){bt.$cctor();return bt.layoutVertical;};cs.layoutHorizontal=function(){bt.$cctor();return bt.layoutHorizontal;};cq.init=function(){bt.$cctor();return bt.init;};cq.tabStrip=function(dX,dY,dZ,d0,d1){var d2;d2=b$.Element("div",[cw.Create("class",(((dP.Curried3(function(d3,d4,d5){return d3("tab-strip "+bp.toSafe(d4)+" "+bp.toSafe(d5));}))(a.id))(dY?"top":"bottom"))(dZ?"horizontal":"vertical"))],bn.ofSeq(_2.delay(function(){return _2.collect(function(d3){var d4;d4=d3[0];return[c2.New$1().Content(b$.Element("div",[co.Dynamic("class",J.Map(function(d5){return"tab"+(d5===d4+1?" selected":"");},dX.get_View())),cw.Create("draggable","true"),cw.HandlerImpl("click",function(){return function(){return dX.Set(d4+1);};})],[b$.TextNode(d3[1][0])]))];},_2.indexed(d0));})));return b$.Element("div",[cw.Create("class","tab-panel")],bn.ofSeq(_2.delay(function(){return _2.append(dY?[d2]:[],_2.delay(function(){return _2.append([b$.Element("div",[cw.Create("class","tab-content")],[d1])],_2.delay(function(){return _2.append(!dY?[d2]:[],_2.delay(function(){return _2.append([b$.Element("style",bo.Empty,bn.ofArray([b$.TextNode(cq.css())]))],_2.delay(function(){return[b$.Element("style",bo.Empty,bn.ofArray([b$.TextView(J.Map(function(d3){return function(d4){return d3("\r\n                                              ::slotted(*              ) { display: none }\r\n                                              ::slotted(*:nth-child("+a.String(d4)+")) { display: grid }\r\n                                           ");};}(a.id),dX.get_View()))]))];}));}));}));}));})));};cq.css=function(){bt.$cctor();return bt.css;};ct.estado=function(){var dX;dX=null;return cH.Delay(function(){return cH.Bind(cR.AsAsync(self.fetch("http://localhost:7071/api/hello")),function(dY){return cH.Bind(cR.AsAsync(dY.text()),function(dZ){return cH.Return((_1.j())(dU.parse(dZ)));});});});};bm=_3.ResultMessage=dP.Class({toString:function(){return this.$==1?(function(dX){return function(dY){return dX("Error    : "+bp.toSafe(dY));};}(a.id))(this.$0):this.$==2?(function(dX){return function(dY){return dX("Warning  : "+bp.toSafe(dY));};}(a.id))(this.$0):this.$==3?this.$0:this.$==4?(function(dX){return function(dY){return dX(a.String(dY));};}(a.id))(this.$0):this.$==5?(((dP.Curried3(function(dX,dY,dZ){return dX("Exception: "+bp.toSafe(dY)+", "+bp.toSafe(dZ));}))(a.id))(this.$0))(this.$1):this.$==6?_.concat("\n",_2.map(a.String,_2.filter(function(dX){return dX.$!=0;},this.$0))):"";}},null,bm);bm.NoMsg=new bm({$:0});cv.notPresent=function(){return t.FailWith("The given key was not present in the dictionary.");};cv.alreadyAdded=function(){return t.FailWith("An item with the same key has already been added.");};cw=g.AttrProxy=dP.Class({},null,cw);cw.Create=function(dX,dY){return cO.Static(function(dZ){cP.SetAttr(dZ,dX,dY);});};cw.HandlerImpl=function(dX,dY){return cO.Static(function(dZ){dZ.addEventListener(dX,function(d0){return(dY(dZ))(d0);},false);});};cw.Concat=function(dX){var dY;dY=cY.ofSeqNonCopying(dX);return cY.TreeReduce(cO.EmptyAttr(),cw.Append,dY);};cw.Append=function(dX,dY){return cO.AppendTree(dX,dY);};cw.Handler=function(dX,dY){return cw.HandlerImpl(dX,dY);};cx=g.CheckedInput=dP.Class({get_Input:function(){return this.$==1?this.$0:this.$==2?this.$0:this.$1;}},null,cx);cz.RunFullDocTemplate=function(dX){var dY,dZ;cz.LoadLocalTemplates("");cz.PrepareTemplateStrict("",null,cP.ChildrenArray(self.document.body),{$:1,$0:self.document.body},null);dY=cz.ChildrenTemplate(self.document.body,dX);dZ=self.document.body;(function(d0){b$.RunInPlace(true,dZ,d0);}(dY));return dY;};cz.LoadLocalTemplates=function(dX){!cz.LocalTemplatesLoaded()?(cz.set_LocalTemplatesLoaded(true),cz.LoadNestedTemplates(self.document.body,"")):void 0;cz.LoadedTemplates().set_Item(dX,cz.LoadedTemplateFile(""));};cz.NamedTemplate=function(dX,dY,dZ){var d0,d1;d0=(d1=null,[cz.LoadedTemplateFile(dX).TryGetValue(dY==null?"":dY.$0,{get:function(){return d1;},set:function(d2){d1=d2;}}),d1]);return d0[0]?cz.ChildrenTemplate(d0[1].cloneNode(true),dZ):(dR.warn("Local template doesn't exist",dY),b$.get_Empty());};cz.PrepareTemplateStrict=function(dX,dY,dZ,d0,d1){var d2,d3;function d4(d9,d_){var d$,ea,eb,ec,ed,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez;function ee(eA){}while(true)switch(d9){case 0:if(d_!==null){d$=d_.nextSibling;if(y.Equals(d_.nodeType,v.TEXT_NODE))da.convertTextNode(d_);else if(y.Equals(d_.nodeType,v.ELEMENT_NODE))d6(d_);d_=d$;}else return null;break;case 1:ef=bP.string(d_.nodeName,{$:1,$0:3},null).toLowerCase();eg=(ea=ef.indexOf("."),ea===-1?[dX,ef]:[bP.string(ef,null,{$:1,$0:ea-1}),bP.string(ef,{$:1,$0:ea+1},null)]);eh=eg[1];ei=eg[0];if(ei!==""&&!cz.LoadedTemplates().ContainsKey(ei))return da.failNotLoaded(eh);else{if(ei===""&&d1!=null)d1.$0(eh);ej=cz.LoadedTemplates().get_Item(ei);if(!ej.ContainsKey(eh))return da.failNotLoaded(eh);else{ek=ej.get_Item(eh);el=ek.cloneNode(true);em=new bw.New$3();en=new bv.New$5();eo=d_.attributes;for(ep=0,eq=eo.length-1;ep<=eq;ep++){er=eo.item(ep).name.toLowerCase();en.set_Item(er,(es=eo.item(ep).nodeValue,es===""?er:es.toLowerCase()));!em.Add(er)?dR.warn("Hole mapped twice",er):void 0;}for(et=0,eu=d_.childNodes.length-1;et<=eu;et++){ev=d_.childNodes[et];y.Equals(ev.nodeType,v.ELEMENT_NODE)?!em.Add(ev.nodeName.toLowerCase())?dR.warn("Hole filled twice",eh):void 0:void 0;}ew=d_.childNodes.length===1&&y.Equals(d_.firstChild.nodeType,v.TEXT_NODE);if(ew){ec=da.fillTextHole(el,d_.firstChild.textContent,eh);((function(eA){return function(eB){if(eB!=null)eA(eB.$0);};}((ed=function(eA){return function(eB){return eA.Add(eB);};}(em),function(eA){return ee(ed(eA));})))(ec));}da.removeHolesExcept(el,em);if(!ew){for(ex=0,ey=d_.childNodes.length-1;ex<=ey;ex++){ez=d_.childNodes[ex];y.Equals(ez.nodeType,v.ELEMENT_NODE)?ez.hasAttributes()?da.fillInstanceAttrs(el,ez):d5(el,ez):void 0;}}da.mapHoles(el,en);da.fill(el,d_.parentNode,d_);d_.parentNode.removeChild(d_);return;}}break;}}function d5(d9,d_){var d$,eb,ec;function ea(ed,ee){var ef,eg,eh;if(eb==="title"&&d_.hasChildNodes()){ef=dV.parseHTML(d_.textContent);d_.removeChild(d_.firstChild);for(eg=0,eh=ef.length-1;eg<=eh;eg++)d_.appendChild(C.get(ef,eg));}else null;d6(d_);return da.fill(d_,ed,ee);}eb=d_.nodeName.toLowerCase();cP.IterSelector(d9,"[ws-attr-holes]",function(ed){var ee,ef,eg,eh,ei;ee=_.SplitChars(ed.getAttribute("ws-attr-holes"),[" "],1);for(ef=0,eg=ee.length-1;ef<=eg;ef++){eh=C.get(ee,ef);ed.setAttribute(eh,(ei=new a.RegExp("\\${"+eb+"}","ig"),ed.getAttribute(eh).replace(ei,d_.textContent)));}});ec=d9.querySelector("[ws-hole="+eb+"]");if(y.Equals(ec,null)){d$=d9.querySelector("[ws-replace="+eb+"]");return y.Equals(d$,null)?null:(ea(d$.parentNode,d$),void d$.parentNode.removeChild(d$));}else{while(ec.hasChildNodes())ec.removeChild(ec.lastChild);ec.removeAttribute("ws-hole");return ea(ec,null);}}function d6(d9){if(_.StartsWith(d9.nodeName.toLowerCase(),"ws-"))d8(d9);else{da.convertAttrs(d9);d7(d9.firstChild);}}function d7(d9){return d4(0,d9);}function d8(d9){return d4(1,d9);}d2=d0==null?cz.FakeRoot(dZ):d0.$0;d3=(dY==null?"":dY.$0).toLowerCase();cz.LoadedTemplateFile(dX).set_Item(d3,d2);C.length(dZ)>0?(function(d9){var d_,d$,ea,eb;while(true){d_=d9.querySelector("[ws-template]");if(y.Equals(d_,null)){d$=d9.querySelector("[ws-children-template]");if(y.Equals(d$,null))return null;else{ea=d$.getAttribute("ws-children-template");d$.removeAttribute("ws-children-template");cz.PrepareTemplateStrict(dX,{$:1,$0:ea},cP.ChildrenArray(d$),null,null);d9=d9;}}else{eb=d_.getAttribute("ws-template");(cz.PrepareSingleTemplate(dX,{$:1,$0:eb},d_))(null);d9=d9;}}}(d2),d7(C.get(dZ,0))):void 0;};cz.ChildrenTemplate=function(dX,dY){var dZ,d0,d1,d2,d3;dZ=cz.InlineTemplate(dX,dY);d0=dZ[1];d1=dZ[0];d2=d1.Els;return!y.Equals(d2,null)&&d2.length===1&&(C.get(d2,0)instanceof v&&(y.Equals(C.get(d2,0).nodeType,v.ELEMENT_NODE)&&(d3=C.get(d2,0),true)))?db.TreeNode(d1,d0):b$.Mk({$:6,$0:d1},d0);};cz.LocalTemplatesLoaded=function(){dj.$cctor();return dj.LocalTemplatesLoaded;};cz.set_LocalTemplatesLoaded=function(dX){dj.$cctor();dj.LocalTemplatesLoaded=dX;};cz.LoadNestedTemplates=function(dX,dY){var d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb;function dZ(ec){var ed,ee;if(!d0.ContainsKey(ec)){ed=(ee=null,[d1.TryGetValue(ec,{get:function(){return ee;},set:function(ef){ee=ef;}}),ee]);ed[0]?(eb.Add(ec),d1.Remove(ec),cz.PrepareTemplateStrict(dY,{$:1,$0:ec},ed[1][0],{$:1,$0:ed[1][1]},{$:1,$0:dZ})):dR.warn(eb.Contains(ec)?"Encountered loop when instantiating "+ec:"Local template does not exist: "+ec);}}d0=cz.LoadedTemplateFile(dY);d1=new bv.New$5();d2=dX.querySelectorAll("[ws-template]");for(d3=0,d4=d2.length-1;d3<=d4;d3++){d5=d2[d3];d6=d5.getAttribute("ws-template").toLowerCase();d5.removeAttribute("ws-template");d1.set_Item(d6,[[d5],cz.FakeRootSingle(d5)]);}d7=dX.querySelectorAll("[ws-children-template]");for(d8=0,d9=d7.length-1;d8<=d9;d8++){d_=d7[d8];d$=d_.getAttribute("ws-children-template").toLowerCase();d_.removeAttribute("ws-children-template");d1.set_Item(d$,(ea=cP.ChildrenArray(d_),[ea,cz.FakeRoot(ea)]));}eb=new bw.New$3();while(d1.count>0)dZ(_2.head(d1.get_Keys()));};cz.LoadedTemplates=function(){dj.$cctor();return dj.LoadedTemplates;};cz.LoadedTemplateFile=function(dX){var dY,dZ,d0;dY=(dZ=null,[cz.LoadedTemplates().TryGetValue(dX,{get:function(){return dZ;},set:function(d1){dZ=d1;}}),dZ]);return dY[0]?dY[1]:(d0=new bv.New$5(),(cz.LoadedTemplates().set_Item(dX,d0),d0));};cz.FakeRoot=function(dX){var dY,dZ,d0;dY=self.document.createElement("div");for(dZ=0,d0=dX.length-1;dZ<=d0;dZ++)dY.appendChild(C.get(dX,dZ));return dY;};cz.PrepareSingleTemplate=function(dX,dY,dZ){var d0,d1,d2;d0=cz.FakeRootSingle(dZ);d1=[dZ];d2={$:1,$0:d0};return function(d3){cz.PrepareTemplateStrict(dX,dY,d1,d2,d3);};};cz.InlineTemplate=function(dX,dY){var dZ,d0,d1,d2,d5,d6,d7,d8,d9,d_,d$;function d3(ea,eb){var ec,ed,ee;ec=cO.Insert(ea,eb);d6.push(cO.Updates(ec));d7.push([ea,ec]);ed=dP.GetOptional(ec.OnAfterRender);return ed==null?null:(ee=ed.$0,void d8.push(function(){ee(ea);}));}function d4(ea){var eb,ec;eb=(ec=null,[d9.TryGetValue(ea,{get:function(){return ec;},set:function(ed){ec=ed;}}),ec]);return eb[0]?eb[1].$==0?{$:1,$0:eb[1].$1}:eb[1].$==1?{$:1,$0:b$.TextNode(eb[1].$1)}:eb[1].$==2?{$:1,$0:b$.TextView(eb[1].$1)}:eb[1].$==8?{$:1,$0:b$.TextView(eb[1].$1.get_View())}:eb[1].$==9?{$:1,$0:b$.TextView(J.Map(a.String,eb[1].$1.get_View()))}:eb[1].$==10?{$:1,$0:b$.TextView(J.Map(function(ed){return ed.get_Input();},eb[1].$1.get_View()))}:eb[1].$==11?{$:1,$0:b$.TextView(J.Map(a.String,eb[1].$1.get_View()))}:eb[1].$==12?{$:1,$0:b$.TextView(J.Map(function(ed){return ed.get_Input();},eb[1].$1.get_View()))}:eb[1].$==13?{$:1,$0:b$.TextView(J.Map(a.String,eb[1].$1.get_View()))}:(dR.warn("Content hole filled with attribute data",ea),null):null;}d5=[];d6=[];d7=[];d8=[];d9=new bv.New$5();d_=cb.Get(dY);try{while(d_.MoveNext()){d$=d_.Current();d9.set_Item(d$.$0,d$);}}finally{if(typeof d_=="object"&&"Dispose"in d_)d_.Dispose();}dZ=cP.ChildrenArray(dX);cP.IterSelector(dX,"[ws-hole]",function(ea){var eb,ec,ed;ed=ea.getAttribute("ws-hole");ea.removeAttribute("ws-hole");while(ea.hasChildNodes())ea.removeChild(ea.lastChild);eb=d4(ed);eb!=null&&eb.$==1?(ec=eb.$0,cM.LinkElement(ea,ec.docNode),d5.push(c_.New(cO.Empty(ea),ec.docNode,null,ea,bG.Int(),null)),d6.push(ec.updates)):void 0;});cP.IterSelector(dX,"[ws-replace]",function(ea){var eb,ec,ed,ee,ef,eg;eb=d4(ea.getAttribute("ws-replace"));eb!=null&&eb.$==1?(ec=eb.$0,ed=ea.parentNode,ee=self.document.createTextNode(""),ed.replaceChild(ee,ea),ef=cM.InsertBeforeDelim(ee,ec.docNode),eg=C.tryFindIndex(function(eh){return ea===eh;},dZ),eg==null?void 0:C.set(dZ,eg.$0,ec.docNode),d5.push(c_.New(cO.Empty(ed),ec.docNode,{$:1,$0:[ef,ee]},ed,bG.Int(),null)),d6.push(ec.updates)):void 0;});cP.IterSelector(dX,"[ws-attr]",function(ea){var eb,ec,ed;eb=ea.getAttribute("ws-attr");ea.removeAttribute("ws-attr");ec=(ed=null,[d9.TryGetValue(eb,{get:function(){return ed;},set:function(ee){ed=ee;}}),ed]);ec[0]?ec[1].$==3?d3(ea,ec[1].$1):dR.warn("Attribute hole filled with non-attribute data",eb):void 0;});cP.IterSelector(dX,"[ws-on]",function(ea){d3(ea,cw.Concat(C.choose(function(eb){var ec,ed,ee;ec=_.SplitChars(eb,[":"],1);ed=(ee=null,[d9.TryGetValue(C.get(ec,1),{get:function(){return ee;},set:function(ef){ee=ef;}}),ee]);return ed[0]?ed[1].$==4?{$:1,$0:co.Handler(C.get(ec,0),ed[1].$1)}:ed[1].$==5?{$:1,$0:cw.Handler(C.get(ec,0),ed[1].$2)}:(dR.warn("Event hole on"+C.get(ec,0)+" filled with non-event data",C.get(ec,1)),null):null;},_.SplitChars(ea.getAttribute("ws-on"),[" "],1))));ea.removeAttribute("ws-on");});cP.IterSelector(dX,"[ws-onafterrender]",function(ea){var eb,ec,ed;eb=ea.getAttribute("ws-onafterrender");ec=(ed=null,[d9.TryGetValue(eb,{get:function(){return ed;},set:function(ee){ed=ee;}}),ed]);ec[0]?ec[1].$==6?(ea.removeAttribute("ws-onafterrender"),d3(ea,co.OnAfterRender(ec[1].$1))):ec[1].$==7?(ea.removeAttribute("ws-onafterrender"),d3(ea,co.OnAfterRender(ec[1].$1))):dR.warn("onafterrender hole filled with non-onafterrender data",eb):void 0;});cP.IterSelector(dX,"[ws-var]",function(ea){var eb,ec,ed;eb=ea.getAttribute("ws-var");ea.removeAttribute("ws-var");ec=(ed=null,[d9.TryGetValue(eb,{get:function(){return ed;},set:function(ee){ed=ee;}}),ed]);ec[0]?ec[1].$==8?d3(ea,co.Value(ec[1].$1)):ec[1].$==9?d3(ea,co.Checked(ec[1].$1)):ec[1].$==10?d3(ea,co.IntValue(ec[1].$1)):ec[1].$==11?d3(ea,co.IntValueUnchecked(ec[1].$1)):ec[1].$==12?d3(ea,co.FloatValue(ec[1].$1)):ec[1].$==13?d3(ea,co.FloatValueUnchecked(ec[1].$1)):dR.warn("Var hole filled with non-Var data",eb):void 0;});cP.IterSelector(dX,"[ws-attr-holes]",function(ea){var eb,ec,ed,ee;eb=new a.RegExp(cz.TextHoleRE(),"g");ec=_.SplitChars(ea.getAttribute("ws-attr-holes"),[" "],1);ea.removeAttribute("ws-attr-holes");for(ed=0,ee=ec.length-1;ed<=ee;ed++)(function(){var ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er;eo=C.get(ec,ed);ep=ea.getAttribute(eo);ef=null;eg=0;eq=[];while(ef=eb.exec(ep),ef!==null){er=bP.string(ep,{$:1,$0:eg},{$:1,$0:eb.lastIndex-C.get(ef,0).length-1});eg=eb.lastIndex;eq.push([er,C.get(ef,1)]);}ei=bP.string(ep,{$:1,$0:eg},null);eb.lastIndex=0;ej=C.foldBack(function(es,et){return(function(eu){var ev,ew;ev=eu[0];ew=eu[1];return function(ex){var ey,ez,eA,eB,eC;ey=ex[0];ez=ex[1];eA=(eB=(eC=null,[d9.TryGetValue(ew,{get:function(){return eC;},set:function(eD){eC=eD;}}),eC]),eB[0]?eB[1].$==1?{$:0,$0:eB[1].$1}:eB[1].$==2?{$:1,$0:eB[1].$1}:eB[1].$==8?{$:1,$0:eB[1].$1.get_View()}:eB[1].$==9?{$:1,$0:J.Map(a.String,eB[1].$1.get_View())}:eB[1].$==10?{$:1,$0:J.Map(function(eD){return eD.get_Input();},eB[1].$1.get_View())}:eB[1].$==11?{$:1,$0:J.Map(a.String,eB[1].$1.get_View())}:eB[1].$==12?{$:1,$0:J.Map(function(eD){return eD.get_Input();},eB[1].$1.get_View())}:eB[1].$==13?{$:1,$0:J.Map(a.String,eB[1].$1.get_View())}:(dR.warn("Attribute value hole filled with non-text data",ew),{$:0,$0:""}):{$:0,$0:""});return eA.$==1?[ev,new bo({$:1,$0:ey===""?eA.$0:J.Map(function(eD){return eD+ey;},eA.$0),$1:ez})]:[ev+eA.$0+ey,ez];};}(es))(et);},eq,[ei,bo.Empty]);return d3(ea,ej[1].$==1?ej[1].$1.$==1?ej[1].$1.$1.$==1?ej[1].$1.$1.$1.$==0?(ek=ej[0],co.Dynamic(eo,J.Map3(function(es,et,eu){return ek+es+et+eu;},ej[1].$0,ej[1].$1.$0,ej[1].$1.$1.$0))):(el=ej[0],co.Dynamic(eo,J.Map(function(es){return el+_.concat("",es);},J.Sequence(ej[1])))):(em=ej[0],co.Dynamic(eo,J.Map2(function(es,et){return em+es+et;},ej[1].$0,ej[1].$1.$0))):ej[0]===""?co.Dynamic(eo,ej[1].$0):(en=ej[0],co.Dynamic(eo,J.Map(function(es){return en+es;},ej[1].$0))):cw.Create(eo,ej[0]));}());});return[dP.DeleteEmptyFields({Els:dZ,Dirty:true,Holes:d5,Attrs:d7,Render:(d0=d8.length==0?null:{$:1,$0:function(ea){C.iter(function(eb){eb(ea);},d8);}},d0?d0.$0:void 0),El:(d1=!y.Equals(dZ,null)&&dZ.length===1&&(C.get(dZ,0)instanceof v&&(C.get(dZ,0)instanceof a.Element&&(d2=C.get(dZ,0),true)))?{$:1,$0:d2}:null,d1?d1.$0:void 0)},["Render","El"]),cY.TreeReduce(J.Const(),J.Map2Unit,d6)];};cz.FakeRootSingle=function(dX){var dY,dZ,d0;dX.removeAttribute("ws-template");dY=dX.getAttribute("ws-replace");dY===null?void 0:(dX.removeAttribute("ws-replace"),dZ=dX.parentNode,y.Equals(dZ,null)?void 0:(d0=self.document.createElement(dX.tagName),d0.setAttribute("ws-replace",dY),dZ.replaceChild(d0,dX)));return cz.FakeRoot([dX]);};cz.TextHoleRE=function(){dj.$cctor();return dj.TextHoleRE;};P.Obsolete=function(dX){var dY,dZ,d0,d1,d2;dZ=dX.s;if(dZ==null||(dZ!=null&&dZ.$==2?(dY=dZ.$1,false):dZ!=null&&dZ.$==3?(dY=dZ.$1,false):true))void 0;else{dX.s=null;for(d0=0,d1=C.length(dY)-1;d0<=d1;d0++){d2=C.get(dY,d0);typeof d2=="object"?function(d3){P.Obsolete(d3);}(d2):d2();}}};P.New=function(dX){return{s:dX};};cA=bk.IdPayment=dP.Class({},null,cA);cB=bk.ConceptoPago=dP.Class({toString:function(){return this.$==2?this.$0:(function(dX){return function(dY){return dX(Y.p$6(dY));};}(a.id))(this);}},null,cB);cC.TryParse=function(dX){var dY;dY=dS.parse(dX);return a.isNaN(dY)?null:{$:1,$0:dY};};bD.TryParse=function(dX,dY,dZ,d0){var d1,d2;d1=+dX;d2=d1===d1-d1%1&&d1>=dY&&d1<=dZ;d2?d0.set(d1):void 0;return d2;};bD.TryParseBool=function(dX,dY){var dZ;dZ=dX.toLowerCase();return dZ==="true"?(dY.set(true),true):dZ==="false"&&(dY.set(false),true);};cE.JSUnion=function(dX,dY){var dZ;function d0(d4){var d5;function d6(d7){return d7!=null&&d7.$==1&&y.Equals(d4,d7.$0);}d5=_2.tryFindIndex(function(d7){return d6(d7[0]);},dY);return d5!=null&&d5.$==1?d5.$0:d4.$;}function d1(d4,d5){return C.init(C.length((C.get(dY,d4))[2]),function(d6){return d5["$"+a.String(d6)];});}function d2(d4,d5){var d6,d7,d8;d6=dX==null?{}:new dX();d7=C.get(dY,d4);return(d8=d7[0],d8!=null&&d8.$==1)?d7[0].$0:(d6.$=d4,_2.iteri(function(d9,d_){d6["$"+a.String(d9)]=d_;},d5),d6);}function d3(d4,d5){var d6;function d7(d8,d9){return[d4,d8,d9,d6];}d6=d5[2];return _2.map(function(d8){return d7(d8[0],d8[1]);},d5[1]);}dZ=_2.collect(function(d4){return d3(d4[0],d4[1]);},_2.indexed(dY));return cT.New$1(function(d4){function d5(d6,d7,d8,d9){var d_,d$,ea;function eb(ec,ed,ee){var ef;function eg(eh,ei){return eb(ef,eh,new bo({$:1,$0:ei,$1:ee}));}return ec.$==1?(ef=ec.$1,_2.collect(function(eh){return eg(eh[0],eh[1]);},ec.$0.Parse(ed))):[[ed,d2(d6,C.ofList(bn.rev(ee)))]];}return cE.isCorrectMethod(d7,d4.Method)?(d_=cU.startsWith(bn.ofArray(d8),d4.Segments),d_==null?[]:(d$=d_.$0,(ea=bn.ofArray(d9),ea.$==0?[[cG.New(d$,d4.QueryArgs,d4.FormData,d4.Method,d4.Body),d2(d6,[])]]:eb(ea,cG.New(d$,d4.QueryArgs,d4.FormData,d4.Method,d4.Body),bo.Empty)))):[];}return _2.collect(function(d6){return d5(d6[0],d6[1],d6[2],d6[3]);},dZ);},function(d4){var d5,d6,d7,d8,d9,d_;function d$(ea,eb){return eb.Write(ea);}d5=d0(d4);d6=C.get(dY,d5);d7=d6[2];d8=C.get(d6[1],0);d9=[cG.Segment(bn.ofArray(d8[1]),d8[0])];return!y.Equals(d7,null)&&d7.length===0?{$:1,$0:d9}:(d_=(((dP.Curried3(C.map2))(d$))(d1(d5,d4)))(d7),C.forall(function(ea){return ea!=null;},d_)?{$:1,$0:_2.append(d9,_2.collect(function(ea){return ea.$0;},d_))}:null);});};cE.isCorrectMethod=function(dX,dY){return dY!=null&&dY.$==1?dX!=null&&dX.$==1?y.Equals(dY.$0,dX.$0):true:!(dX!=null&&dX.$==1);};cE.rString=function(){dg.$cctor();return dg.rString;};cF.Parse=function(dX,dY){function dZ(d0,d1){return d0.Segments.$==0?{$:1,$0:d1}:null;}return _2.tryPick(function(d0){return dZ(d0[0],d0[1]);},dX.Parse(dY));};cF.HashLink=function(dX,dY){return"#"+cF.Link(dX,dY);};cF.Link=function(dX,dY){var dZ;dZ=cF.Write(dX,dY);return dZ==null?"":dZ.$0.ToLink();};cF.Write=function(dX,dY){var dZ;dZ=dX.Write(dY);return dZ==null?null:{$:1,$0:cG.Combine(dZ.$0)};};cG=cD.Route=dP.Class({ToLink:function(){return dJ.WriteLink(this.Segments,this.QueryArgs);}},null,cG);cG.FromHash=function(dX,dY){var dZ,d0;dZ=dX.indexOf("#");return dZ===-1?cG.get_Empty():(d0=dX.substring(dZ+1),dY!=null&&dY.$0?d0===""||d0==="/"?cG.get_Empty():_.StartsWith(d0,"/")?cG.FromUrl(d0.substring(1),{$:1,$0:true}):cG.Segment$2(d0):cG.FromUrl(dX.substring(dZ),{$:1,$0:false}));};cG.Segment=function(dX,dY){var dZ;dZ=cG.get_Empty();return cG.New(dX,dZ.QueryArgs,dZ.FormData,dY,dZ.Body);};cG.get_Empty=function(){return cG.New(bo.Empty,new ca.New([]),new ca.New([]),null,m.CreateFromValue(null));};cG.FromUrl=function(dX,dY){var dZ,d0,d1;dZ=(d0=dX.indexOf("?"),d0===-1?[dX,new ca.New([])]:[_.Substring(dX,0,d0),cG.ParseQuery(dX.substring(d0+1))]);d1=cG.get_Empty();return cG.New(bn.ofArray(_.SplitChars(dZ[0],["/"],dY!=null&&dY.$0?0:1)),dZ[1],d1.FormData,d1.Method,d1.Body);};cG.Segment$2=function(dX){var dY;dY=cG.get_Empty();return cG.New(bn.ofArray([dX]),dY.QueryArgs,dY.FormData,dY.Method,dY.Body);};cG.ParseQuery=function(dX){return dh.OfArray(C.ofSeq(C.choose(function(dY){var dZ,d0;dZ=_.SplitChars(dY,["="],0);return!y.Equals(dZ,null)&&dZ.length===2?(d0=C.get(dZ,1),{$:1,$0:[C.get(dZ,0),d0]}):((function(d1){return function(d2){return d1("wrong format for query argument: "+bp.toSafe(d2));};}(function(d1){dR.log(d1);}))(dY),null);},_.SplitChars(dX,["&"],0))));};cG.Combine=function(dX){var dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7;d4=C.ofSeq(dX);d5=C.length(d4);if(d5===0)return cG.get_Empty();else if(d5===1)return C.get(d4,0);else{dY=null;dZ=null;d6=[];d0=new ca.New([]);d1=new ca.New([]);d2=0;d7=C.length(d4);while(d2<d7)(function(){var d8,d9,d_;d8=C.get(d4,d2);d9=d8.Method;d9!=null&&d9.$==1?dY=d9:void 0;d_=d8.Body.f();d_===null?void 0:dZ=d_;d0=dh.FoldBack(function(d$,ea,eb){return eb.Add(d$,ea);},d0,d8.QueryArgs);d1=dh.FoldBack(function(d$,ea,eb){return eb.Add(d$,ea);},d1,d8.FormData);bn.iter(function(d$){d6.push(d$);},d8.Segments);d2=d2+1;}());return cG.New(bn.ofSeq(d6),d0,d1,dY,m.CreateFromValue(dZ));}};cG.New=function(dX,dY,dZ,d0,d1){return new cG({Segments:dX,QueryArgs:dY,FormData:dZ,Method:d0,Body:d1});};cH.Delay=function(dX){return function(dY){try{(dX(null))(dY);}catch(dZ){dY.k({$:1,$0:dZ});}};};cH.Bind=function(dX,dY){return cH.checkCancel(function(dZ){dX(cV.New(function(d0){var d1;if(d0.$==0){d1=d0.$0;cH.scheduler().Fork(function(){try{(dY(d1))(dZ);}catch(d2){dZ.k({$:1,$0:d2});}});}else cH.scheduler().Fork(function(){dZ.k(d0);});},dZ.ct));});};cH.Zero=function(){cW.$cctor();return cW.Zero;};cH.Start=function(dX,dY){var dZ,d0;dZ=(d0=(cH.defCTS())[0],dY==null?d0:dY.$0);cH.scheduler().Fork(function(){if(!dZ.c)dX(cV.New(function(d1){if(d1.$==1)cH.UncaughtAsyncError(d1.$0);},dZ));});};cH.checkCancel=function(dX){return function(dY){if(dY.ct.c)cH.cancel(dY);else dX(dY);};};cH.Return=function(dX){return function(dY){dY.k({$:0,$0:dX});};};cH.defCTS=function(){cW.$cctor();return cW.defCTS;};cH.UncaughtAsyncError=function(dX){dR.log("WebSharper: Uncaught asynchronous exception",dX);};cH.TryWith=function(dX,dY){return function(dZ){dX(cV.New(function(d0){if(d0.$==0)dZ.k({$:0,$0:d0.$0});else if(d0.$==1)try{(dY(d0.$0))(dZ);}catch(d1){dZ.k(d0);}else dZ.k(d0);},dZ.ct));};};cH.cancel=function(dX){dX.k({$:2,$0:new dB.New(dX.ct)});};cH.scheduler=function(){cW.$cctor();return cW.scheduler;};cH.Sleep=function(dX){return function(dY){var dZ,d0;dZ=void 0;d0=void 0;dZ=a.setTimeout(function(){d0.Dispose();cH.scheduler().Fork(function(){dY.k({$:0,$0:null});});},dX);d0=cH.Register(dY.ct,function(){a.clearTimeout(dZ);cH.scheduler().Fork(function(){cH.cancel(dY);});});};};cH.FromContinuations=function(dX){return function(dY){var dZ;function d0(d1){if(dZ[0])t.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{dZ[0]=true;cH.scheduler().Fork(d1);}}dZ=[false];dX(function(d1){d0(function(){dY.k({$:0,$0:d1});});},function(d1){d0(function(){dY.k({$:1,$0:d1});});},function(d1){d0(function(){dY.k({$:2,$0:d1});});});};};cH.Register=function(dX,dY){var dZ;return dX===cH.noneCT()?{Dispose:function(){return null;}}:(dZ=dX.r.push(dY)-1,{Dispose:function(){return C.set(dX.r,dZ,a.ignore);}});};cH.While=function(dX,dY){return dX()?cH.Bind(dY,function(){return cH.While(dX,dY);}):cH.Return();};cH.noneCT=function(){cW.$cctor();return cW.noneCT;};cI.fromSeq=function(dX){var dY;dY=C.ofSeq(_2.delay(function(){return _2.collect(function(dZ){return[cZ.New(dZ[0],dZ[1])];},_2.distinctBy(function(dZ){return dZ[0];},dX));}));C.sortInPlace(dY);return cd.Build(dY,0,dY.length-1);};cJ.New=function(dX,dY,dZ,d0,d1){return{Node:dX,Left:dY,Right:dZ,Height:d0,Count:d1};};cK=bk.IdAddress=dP.Class({},null,cK);_8.OkM$1=function(dX){return{$:0,$0:{$:1,$0:dX},$1:bm.NoMsg};};_8.OkM=function(dX){return dX.$0==null?{$:1,$0:dX.$1}:{$:0,$0:[dX.$0.$0,dX.$1]};};_8.ErrorM=function(dX){return{$:0,$0:null,$1:dX};};cL=g.FromView=dP.Class({Set:function(dX){this.set(dX);},get_View:function(){return this.view;},Get:function(){return this.current;},Update:function(dX){var dY;J.Get((dY=this.set,function(dZ){return dY(dX(dZ));}),this.view);},UpdateMaybe:function(dX){var dY;dY=this;J.Get(function(dZ){var d0;d0=dX(dZ);d0!=null&&d0.$==1?dY.set(d0.$0):void 0;},this.view);}},B,cL);cL.New=dP.Ctor(function(dX,dY){var dZ,d0;dZ=this;B.New.call(this);this.set=dY;this.id=bG.Int();this.current=(d0=J.TryGet(dX),d0==null?null:d0.$0);this.view=J.Map(function(d1){dZ.current=d1;return d1;},dX);},cL);cM.CreateEmbedNode=function(){return{Current:null,Dirty:false};};cM.UpdateEmbedNode=function(dX,dY){dX.Current=dY;dX.Dirty=true;};cM.CreateRunState=function(dX,dY){return dt.New(du.get_Empty(),cM.CreateElemNode(dX,cO.EmptyAttr(),dY));};cM.PerformAnimatedUpdate=function(dX,dY,dZ){var d0;return dc.get_UseAnimations()?(d0=null,cH.Delay(function(){var d1,d2,d3;d1=du.FindAll(dZ);d2=cM.ComputeChangeAnim(dY,d1);d3=cM.ComputeEnterAnim(dY,d1);return cH.Bind(dc.Play(dc.Append(d2,cM.ComputeExitAnim(dY,d1))),function(){return cH.Bind(cM.SyncElemNodesNextFrame(dX,dY),function(){return cH.Bind(dc.Play(d3),function(){dY.PreviousNodes=d1;return cH.Return(null);});});});})):cM.SyncElemNodesNextFrame(dX,dY);};cM.PerformSyncUpdate=function(dX,dY,dZ){var d0;d0=du.FindAll(dZ);cM.SyncElemNode(dX,dY.Top);dY.PreviousNodes=d0;};cM.CreateTextNode=function(){return{Text:cP.CreateText(""),Dirty:false,Value:""};};cM.UpdateTextNode=function(dX,dY){dX.Value=dY;dX.Dirty=true;};cM.LinkElement=function(dX,dY){cM.InsertDoc(dX,dY,null);};cM.InsertBeforeDelim=function(dX,dY){var dZ,d0;dZ=dX.parentNode;d0=self.document.createTextNode("");dZ.insertBefore(d0,dX);cM.LinkPrevElement(dX,dY);return d0;};cM.CreateElemNode=function(dX,dY,dZ){var d0;cM.LinkElement(dX,dZ);d0=cO.Insert(dX,dY);return c_.New(d0,dZ,null,dX,bG.Int(),dP.GetOptional(d0.OnAfterRender));};cM.SyncElemNodesNextFrame=function(dX,dY){function dZ(d0){a.requestAnimationFrame(function(){cM.SyncElemNode(dX,dY.Top);d0();});}return dd.BatchUpdatesEnabled()?cH.FromContinuations(function(d0,d1,d2){return dZ.apply(null,[d0,d1,d2]);}):(cM.SyncElemNode(dX,dY.Top),cH.Return(null));};cM.ComputeExitAnim=function(dX,dY){return dc.Concat(C.map(function(dZ){return cO.GetExitAnim(dZ.Attr);},du.ToArray(du.Except(dY,du.Filter(function(dZ){return cO.HasExitAnim(dZ.Attr);},dX.PreviousNodes)))));};cM.ComputeEnterAnim=function(dX,dY){return dc.Concat(C.map(function(dZ){return cO.GetEnterAnim(dZ.Attr);},du.ToArray(du.Except(dX.PreviousNodes,du.Filter(function(dZ){return cO.HasEnterAnim(dZ.Attr);},dY)))));};cM.ComputeChangeAnim=function(dX,dY){var dZ;function d0(d1){return cO.HasChangeAnim(d1.Attr);}dZ=function(d1){return du.Filter(d0,d1);};return dc.Concat(C.map(function(d1){return cO.GetChangeAnim(d1.Attr);},du.ToArray(du.Intersect(dZ(dX.PreviousNodes),dZ(dY)))));};cM.SyncElemNode=function(dX,dY){!dX?cM.SyncElement(dY):void 0;cM.Sync(dY.Children);cM.AfterRender(dY);};cM.InsertDoc=function(dX,dY,dZ){var d0;return dY!=null&&dY.$==1?cM.InsertNode(dX,dY.$0.El,dZ):dY!=null&&dY.$==2?(d0=dY.$0,(d0.Dirty=false,cM.InsertDoc(dX,d0.Current,dZ))):dY==null?dZ:dY!=null&&dY.$==4?cM.InsertNode(dX,dY.$0.Text,dZ):dY!=null&&dY.$==5?cM.InsertNode(dX,dY.$0,dZ):dY!=null&&dY.$==6?C.foldBack(function(d1,d2){return d1==null||d1.constructor===cu?cM.InsertDoc(dX,d1,d2):cM.InsertNode(dX,d1,d2);},dY.$0.Els,dZ):cM.InsertDoc(dX,dY.$0,cM.InsertDoc(dX,dY.$1,dZ));};cM.LinkPrevElement=function(dX,dY){cM.InsertDoc(dX.parentNode,dY,dX);};cM.SyncElement=function(dX){function dY(dZ){function d0(d1){var d2,d3;return d1!=null&&d1.$==0?d0(d1.$0)||d0(d1.$1):d1!=null&&d1.$==2?(d2=d1.$0,d2.Dirty||d0(d2.Current)):d1!=null&&d1.$==6&&(d3=d1.$0,d3.Dirty||C.exists(dY,d3.Holes));}return d0(dZ.Children);}cO.Sync(dX.El,dX.Attr);dY(dX)?cM.DoSyncElement(dX):void 0;};cM.Sync=function(dX){var dY,dZ;if(dX!=null&&dX.$==1)cM.SyncElemNode(false,dX.$0);else if(dX!=null&&dX.$==2)cM.Sync(dX.$0.Current);else if(dX==null);else if(dX!=null&&dX.$==5);else if(dX!=null&&dX.$==4){dY=dX.$0;dY.Dirty?(dY.Text.nodeValue=dY.Value,dY.Dirty=false):void 0;}else if(dX!=null&&dX.$==6){dZ=dX.$0;C.iter(function(d0){cM.SyncElemNode(false,d0);},dZ.Holes);C.iter(function(d0){cO.Sync(d0[0],d0[1]);},dZ.Attrs);cM.AfterRender(dZ);}else{cM.Sync(dX.$0);cM.Sync(dX.$1);}};cM.AfterRender=function(dX){var dY;dY=dP.GetOptional(dX.Render);dY!=null&&dY.$==1?(dY.$0(dX.El),dP.SetOptional(dX,"Render",null)):void 0;};cM.InsertNode=function(dX,dY,dZ){cP.InsertAt(dX,dZ,dY);return dY;};cM.DoSyncElement=function(dX){var dY,dZ,d0;function d1(d2,d3){var d4,d5;return d2!=null&&d2.$==1?d2.$0.El:d2!=null&&d2.$==2?(d4=d2.$0,d4.Dirty?(d4.Dirty=false,cM.InsertDoc(dY,d4.Current,d3)):d1(d4.Current,d3)):d2==null?d3:d2!=null&&d2.$==4?d2.$0.Text:d2!=null&&d2.$==5?d2.$0:d2!=null&&d2.$==6?(d5=d2.$0,(d5.Dirty?d5.Dirty=false:void 0,C.foldBack(function(d6,d7){return d6==null||d6.constructor===cu?d1(d6,d7):d6;},d5.Els,d3))):d1(d2.$0,d1(d2.$1,d3));}dY=dX.El;dM.Iter((dZ=dX.El,function(d2){cP.RemoveNode(dZ,d2);}),dM.Except(dM.DocChildren(dX),dM.Children(dX.El,dP.GetOptional(dX.Delimiters))));d1(dX.Children,(d0=dP.GetOptional(dX.Delimiters),d0!=null&&d0.$==1?d0.$0[1]:null));};cN.extractNodes=function(dX){var dY,dZ;function d0(d1,d2,d3,d4){var d5,d6,d7,d8,d9,d_;d5=cN.extractNodes(d3);d6=cN.extractNodes(d4);return(d5.$==0?(d8=d5.$0,!y.Equals(d8,null)&&d8.length===0)?(d7=d6,true):d6.$==0?(d9=d6.$0,!y.Equals(d9,null)&&d9.length===0)?(d7=d5,true):(d7=[d5,d6],false):(d7=[d5,d6],false):d6.$==0?(d_=d6.$0,!y.Equals(d_,null)&&d_.length===0)?(d7=d5,true):(d7=[d5,d6],false):(d7=[d5,d6],false))?d7:{$:1,$0:{$:0,$0:d1,$1:d2,$2:d7[0],$3:d7[1]}};}dY=cN.horizontalSplit(dX);return dY!=null&&dY.$==1?d0(false,dY.$0[2],dY.$0[0],dY.$0[1]):(dZ=cN.verticalSplit(dX),dZ!=null&&dZ.$==1?d0(true,dZ.$0[2],dZ.$0[0],dZ.$0[1]):{$:0,$0:cN.cleanSpaces(dX)});};cN.createLayoutDefinitions=function(dX,dY){var dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8;return dY.$==1?(dZ=dY.$0.$0,(d0=dY.$0.$1,(d1=cN.createLayoutDefinitions(dX+"_1",dY.$0.$2),(d2=d1[0],(d3=d1[1],(d4=cN.createLayoutDefinitions(dX+"_2",dY.$0.$3),(d5=d4[0],(d6=d4[1],[dX,C.ofSeq(_2.delay(function(){return _2.append([_.concat(" ",bn.ofArray([dX,dZ?"vertical":"horizontal",a.String(d0),d2,d5]))],_2.delay(function(){return _2.append(d3,_2.delay(function(){return d6;}));}));}))])))))))):(d7=dY.$0,!y.Equals(d7,null)&&d7.length===0)?["___",[]]:(d8=dY.$0,!y.Equals(d8,null)&&d8.length===1)?[C.get(dY.$0,0),[]]:[dX,[dX+" div \"\" "+_.concat(" ",dY.$0)]];};cN.horizontalSplit=function(dX){var dY,dZ,d0,d1,d2;function d3(d4,d5){var d6,d7,d8,d9;d6=i.REGEX$1("^ *--+([ ^v0-9]*)-* *$","",d5);return d6!=null&&d6.$==1?{$:1,$0:[[d4,(d7=(d8=_2.tryItem(1,d6.$0),d8==null?null:cN.extractMeasuresO(_.Replace(_.Replace(d8.$0,"^",""),"v","-"))),(d9=new c0({$:1,$0:5,$1:50,$2:95}),d7==null?d9:d7.$0))],d5.indexOf("-")]}:null;}dY=(dZ=_2.tryHead(_2.sortBy(function(d4){return d4[1];},_2.choose(function(d4){return d3(d4[0],d4[1]);},_2.indexed(dX)))),dZ==null?null:{$:1,$0:dZ.$0[0]});return dY==null?null:{$:1,$0:(d0=dY.$0,(d1=d0[0],(d2=d0[1],[bP.array(dX,null,{$:1,$0:d1-1}),bP.array(dX,{$:1,$0:d1+1},null),d2])))};};cN.verticalSplit=function(dX){var dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7;function d8(d$,ea){var eb,ec,ed;return(ec=i.REGEX$1("^ *\\|+ *$","",ea),ec!=null&&ec.$==1&&(ed=ec.$0,!y.Equals(ed,null)&&ed.length===1))?{$:1,$0:[d$,ea.indexOf("|")]}:null;}function d9(d$){return y.Equals(null,d$);}function d_(d$){return y.Equals(null,d$);}dY=cN.transpose(dX);dZ=(d0=(d1=_2.tryHead(_2.sortBy(function(d$){return d$[1];},_2.choose(function(d$){return d8(d$[0],d$[1]);},_2.indexed(dY)))),d1==null?null:{$:1,$0:d1.$0[0]}),d0==null?null:{$:1,$0:(d2=d0.$0,[cN.transpose(bP.array(dY,null,{$:1,$0:d2-1})),cN.transpose(bP.array(dY,{$:1,$0:d2+1},null))])});return dZ==null?null:{$:1,$0:(d3=dZ.$0,(d4=d3[0],(d5=d3[1],[C.filter(function(d$){return d9(cN.extractMeasuresO(d$));},d4),C.filter(function(d$){return d_(cN.extractMeasuresO(d$));},d5),(d6=_2.tryHead(_2.delay(function(){return _2.append(_2.choose(cN.extractMeasuresO,d4),_2.delay(function(){return _2.map(function(d$){return d$.$==0?d$.$1?new c0({$:0,$0:d$.$0,$1:false}):d$:d$;},_2.choose(cN.extractMeasuresO,d5));}));})),(d7=new c0({$:1,$0:5,$1:50,$2:95}),d6==null?d7:d6.$0))])))};};cN.cleanSpaces=function(dX){return C.filter(function(dY){var dZ;return!(dZ=(bQ.Int())(dY),dZ!=null&&dZ.$==1);},_.SplitStrings(_.concat(" ",dX),[" "],1));};cN.extractMeasuresO=function(dX){var dY,dZ,d0,d1,d2,d3,d4;dY=_.SplitChars(dX,[" "],1);return!y.Equals(dY,null)&&dY.length===1&&(d0=(bQ.Int())(C.get(dY,0)),d0!=null&&d0.$==1&&(dZ=d0.$0,true))?{$:1,$0:new c0({$:0,$0:dQ.abs(dZ),$1:dZ>=0})}:!y.Equals(dY,null)&&dY.length===3&&(d2=(bQ.Int())(C.get(dY,0)),d2!=null&&d2.$==1&&(d3=(bQ.Int())(C.get(dY,1)),d3!=null&&d3.$==1&&(d4=(bQ.Int())(C.get(dY,2)),d4!=null&&d4.$==1&&(d1=[d4.$0,d2.$0,d3.$0],true))))?{$:1,$0:new c0({$:1,$0:d1[1],$1:d1[2],$2:d1[0]})}:null;};cN.transpose=function(dX){var dY;dY=_2.max(_2.map(function(dZ){return dZ.length;},dX));return C.ofSeq(_2.delay(function(){return _2.map(function(dZ){return C.ofSeq(_2.delay(function(){return _2.map(function(d0){return d0.length>dZ?d0[dZ]:" ";},dX);})).join("");},t.range(0,dY-1));}));};cO.Static=function(dX){return new cw({$:3,$0:dX});};cO.Dynamic=function(dX,dY){return new cw({$:1,$0:new dk.New(dX,dY)});};cO.AppendTree=function(dX,dY){var dZ;return dX===null?dY:dY===null?dX:(dZ=new cw({$:2,$0:dX,$1:dY}),(cO.SetFlags(dZ,cO.Flags(dX)|cO.Flags(dY)),dZ));};cO.EmptyAttr=function(){dE.$cctor();return dE.EmptyAttr;};cO.Insert=function(dX,dY){var dZ,d0,d1;function d2(d3){if(!(d3===null))if(d3!=null&&d3.$==1)dZ.push(d3.$0);else if(d3!=null&&d3.$==2){d2(d3.$0);d2(d3.$1);}else if(d3!=null&&d3.$==3)d3.$0(dX);else if(d3!=null&&d3.$==4)d0.push(d3.$0);}dZ=[];d0=[];d2(dY);d1=dZ.slice(0);return dq.New(dX,cO.Flags(dY),d1,d0.length===0?null:{$:1,$0:function(d3){_2.iter(function(d4){d4(d3);},d0);}});};cO.Updates=function(dX){return cY.MapTreeReduce(function(dY){return dY.NChanged();},J.Const(),J.Map2Unit,dX.DynNodes);};cO.Empty=function(dX){return dq.New(dX,0,[],null);};cO.SetFlags=function(dX,dY){dX.flags=dY;};cO.Flags=function(dX){return dX!==null&&dX.hasOwnProperty("flags")?dX.flags:0;};cO.HasExitAnim=function(dX){var dY;dY=2;return(dX.DynFlags&dY)===dY;};cO.GetExitAnim=function(dX){return cO.GetAnim(dX,function(dY,dZ){return dY.NGetExitAnim(dZ);});};cO.HasEnterAnim=function(dX){var dY;dY=1;return(dX.DynFlags&dY)===dY;};cO.GetEnterAnim=function(dX){return cO.GetAnim(dX,function(dY,dZ){return dY.NGetEnterAnim(dZ);});};cO.HasChangeAnim=function(dX){var dY;dY=4;return(dX.DynFlags&dY)===dY;};cO.GetChangeAnim=function(dX){return cO.GetAnim(dX,function(dY,dZ){return dY.NGetChangeAnim(dZ);});};cO.GetAnim=function(dX,dY){return dc.Concat(C.map(function(dZ){return dY(dZ,dX.DynElem);},dX.DynNodes));};cO.Sync=function(dX,dY){C.iter(function(dZ){dZ.NSync(dX);},dY.DynNodes);};cP.SetStyle=function(dX,dY,dZ){cP.SetProperty(dX.style,dY,dZ);};cP.ChildrenArray=function(dX){var dY,dZ,d0;dY=[];for(dZ=0,d0=dX.childNodes.length-1;dZ<=d0;dZ++)dY.push(dX.childNodes[dZ]);return dY;};cP.CreateText=function(dX){return cP.Doc().createTextNode(dX);};cP.SetAttr=function(dX,dY,dZ){dX.setAttribute(dY,dZ);};cP.SetProperty=function(dX,dY,dZ){return dX.setProperty(dY,dZ);};cP.CreateElement=function(dX){return cP.Doc().createElement(dX);};cP.IterSelector=function(dX,dY,dZ){var d0,d1,d2;d0=dX.querySelectorAll(dY);for(d1=0,d2=d0.length-1;d1<=d2;d1++)dZ(d0[d1]);};cP.Doc=function(){dD.$cctor();return dD.Doc;};cP.RemoveClass=function(dX,dY){var dZ;cP.setClass(dX,(dZ=cP.clsRE(dY),cP.getClass(dX).replace(dZ,function(d0,d1,d2){return d1===""||d2===""?"":" ";})));};cP.AddClass=function(dX,dY){var dZ;dZ=cP.getClass(dX);dZ===""?cP.setClass(dX,dY):!cP.clsRE(dY).test(dZ)?cP.setClass(dX,dZ+" "+dY):void 0;};cP.setClass=function(dX,dY){if(dX instanceof a.SVGElement)dX.setAttribute("class",dY);else dX.className=dY;};cP.getClass=function(dX){return dX instanceof a.SVGElement?dX.getAttribute("class"):dX.className;};cP.clsRE=function(dX){return new a.RegExp("(\\s+|^)"+dX+"(?:\\s+"+dX+")*(\\s+|$)","g");};cP.InsertAt=function(dX,dY,dZ){var d0;if(!(dZ.parentNode===dX&&dY===(d0=dZ.nextSibling,y.Equals(d0,null)?null:d0)))dX.insertBefore(dZ,dY);};cP.RemoveNode=function(dX,dY){if(dY.parentNode===dX)dX.removeChild(dY);};cQ=cs.WcSplitterT=dP.Class({connectedCallback:function(){var dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea;function eb(ej){var ek,el,em,en;ek=d4?["padding-left","padding-right","grid-column-gap"]:["padding-top","padding-bottom","grid-row-gap"];el=a.parseFloat("0"+dV(ej.parentElement.parentElement).css(ek[0]));em=a.parseFloat("0"+dV(ej.parentElement.parentElement).css(ek[1]));d7.Set(a.parseFloat("0"+dV(ej.parentElement.parentElement).css(ek[2])));d6[0]=el+em;en=dX.getBoundingClientRect();return d4?d3?[en.width,en.height]:[-en.width,en.height]:d3?[en.height,en.width]:[-en.height,en.width];}function ec(ej){return d4?ej.clientX:ej.clientY;}function ed(ej){var ek,el;ek=(ec(ej)-d_[0])*100/d5[0][0]+d9[0];d2.Set((el=y.Compare(d0,ek)===1?d0:ek,y.Compare(d1,el)===-1?d1:el));}function ee(){if(d8[0]){d8[0]=false;self.removeEventListener("mousemove",ed,false);self.removeEventListener("mouseup",ee,false);}}function ef(ej){var ek,el;if(!d8[0]){d8[0]=true;d9[0]=d2.Get();d_[0]=ec(ej);d5[0]=(ek=(el=d$[0],el==null?null:{$:1,$0:eb(el.$0)}),ek==null?[100,500]:ek.$0);self.addEventListener("mousemove",ed,false);self.addEventListener("mouseup",ee,false);ej.preventDefault();}}function eg(ej,ek,el,em){return[(ej-ek-el)*em/100,(ej-ek-el)*(100-em)/100];}function eh(ej,ek){return(((((dP.Curried(function(el,em,en,eo,ep){return el(" "+em.toFixed(2)+"px "+en.toFixed(2)+"px ; "+bp.toSafe(eo)+" : "+ep.toFixed(2)+"px; ");},5))(a.id))(ej))(ek))(d4?"height":"width"))(d5[0][1]);}function ei(){var ej;ej=d$[0];ej==null?void 0:d5[0]=eb(ej.$0);d2.Set(d2.Get());}if(!this.added){dX=this;dY=dX.attachShadow({mode:"open"});dZ=self.document.createElement("div");d0=dX.hasAttribute("min")?a.parseFloat(dX.getAttribute("min")):4;d1=dX.hasAttribute("max")?a.parseFloat(dX.getAttribute("max")):96;d2=h.Create$1(dX.hasAttribute("value")?a.parseFloat(dX.getAttribute("value")):50);d3=!dX.hasAttribute("second");d4=dX.hasAttribute("vertical");d5=[[0,0]];d6=[0];d7=h.Create$1(0);d8=[false];d9=[0];d_=[0];d$=[null];ea=(((((d4?cs.layoutVertical():cs.layoutHorizontal())(J.Map(function(ej){var ek;ek=eg(d5[0][0],d7.Get(),d6[0],ej);return eh.apply(null,ek);},d2.get_View())))(function(){c7.addResizeObserver(ei,dX);ei();}))(function(ej){d$[0]={$:1,$0:ej};ei();}))(function(ej){ef(ej);}))(J.Map(function(ej){return function(ek){return ej(bp.prettyPrint(ek)+"px");};}(a.id),d7.get_View()));cz.LoadLocalTemplates("");b$.Run(dZ,ea);dY.appendChild(dZ.firstChild);this.added=true;}}},f,cQ);cQ.Constructor=function(){var dX,dY;dX=(dY=dT.construct(self.HTMLElement,[],this.__proto__.constructor),dY);self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New.call(dX);return dX;};cQ.New=dP.Ctor(function(){f.New.call(this);this.added=false;(function(dX){return dX("WcSplitterT initializer");}(function(dX){dR.log(dX);}));},cQ);cR.AsAsync=function(dX){return cH.FromContinuations(function(dY,dZ){dX.then(dY,function(d0){return dZ(cR.unwrapExn(d0));});});};cR.unwrapExn=function(dX){return dX instanceof dl?dX:new _do.New(dX);};cS.$cctor=function(){cS.$cctor=a.ignore;cS.counter=0;};cT.New$1=function(dX,dY){return{Parse:dX,Write:dY};};cU.startsWith=function(dX,dY){var dZ;switch(dX.$==1?dY.$==1?y.Equals(dX.$0,dY.$0)?(dZ=[dY.$0,dY.$1,dX.$0,dX.$1],1):2:2:0){case 0:return{$:1,$0:dY};case 1:return cU.startsWith(dZ[3],dZ[1]);case 2:return null;}};cV.New=function(dX,dY){return{k:dX,ct:dY};};cW.$cctor=function(){cW.$cctor=a.ignore;cW.noneCT=cX.New(false,[]);cW.scheduler=new di.New();cW.defCTS=[new c3.New()];cW.Zero=cH.Return();cW.GetCT=function(dX){dX.k({$:0,$0:dX.ct});};};cX.New=function(dX,dY){return{c:dX,r:dY};};cY.mapInPlace=function(dX,dY){var dZ,d0;for(dZ=0,d0=dY.length-1;dZ<=d0;dZ++)dY[dZ]=dX(dY[dZ]);return dY;};cY.ofSeqNonCopying=function(dX){var dY,dZ;if(dX instanceof a.Array)return dX;else if(dX instanceof bo)return C.ofList(dX);else if(dX===null)return[];else{dY=[];dZ=cb.Get(dX);try{while(dZ.MoveNext())dY.push(dZ.Current());return dY;}finally{if(typeof dZ=="object"&&"Dispose"in dZ)dZ.Dispose();}}};cY.TreeReduce=function(dX,dY,dZ){var d0;function d1(d2,d3){var d4,d5;return d3<=0?dX:d3===1&&(d2>=0&&d2<d0)?C.get(dZ,d2):(d5=d3/2>>0,dY(d1(d2,d5),d1(d2+d5,d3-d5)));}d0=C.length(dZ);return d1(0,d0);};cY.MapTreeReduce=function(dX,dY,dZ,d0){var d1;function d2(d3,d4){var d5,d6;return d4<=0?dY:d4===1&&(d3>=0&&d3<d1)?dX(C.get(d0,d3)):(d6=d4/2>>0,dZ(d2(d3,d6),d2(d3+d6,d4-d6)));}d1=C.length(d0);return d2(0,d1);};cZ=_6.Pair=dP.Class({Equals:function(dX){return y.Equals(this.Key,dX.Key);},GetHashCode:function(){return y.Hash(this.Key);},CompareTo0:function(dX){return y.Compare(this.Key,dX.Key);}},null,cZ);cZ.New=function(dX,dY){return new cZ({Key:dX,Value:dY});};i.REGEX$1=function(dX,dY,dZ){var d0;return dZ===null?null:(d0=(new a.String(dZ)).match(new a.RegExp(dX,dY)),y.Equals(d0,null)?null:!y.Equals(d0,null)&&d0.length===0?null:{$:1,$0:d0});};c0=z.Measures=dP.Class({toString:function(){return this.$==1?((((dP.Curried(function(dX,dY,dZ,d0){return dX(a.String(dY)+"-"+a.String(dZ)+"-"+a.String(d0));},4))(a.id))(t.toInt(this.$0)))(t.toInt(this.$1)))(t.toInt(this.$2)):a.String(t.toInt(this.$1?this.$0:-this.$0));}},null,c0);c2=c1.Hoverable=dP.Class({Content:function(dX){return dX.on("mouseenter",function(){return cP.AddClass(dX.elt,"hovering");}).on("mouseleave",function(){return cP.RemoveClass(dX.elt,"hovering");});}},null,c2);c2.New$1=function(){return c2.New(h.Create$1(false));};c2.New=function(dX){return new c2({hover:dX});};c3=e.CancellationTokenSource=dP.Class({Cancel$1:function(){var dX;if(!this.c){this.c=true;dX=C.choose(function(dY){try{dY();return null;}catch(dZ){return{$:1,$0:dZ};}},this.r);if(C.length(dX)>0)throw new dm.New$3(dX);else void 0;}}},f,c3);c3.New=dP.Ctor(function(){f.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},c3);c4.InMemory=function(dX){return new dn.New(dX);};c7.addResizeObserver=function(dX,dY){var dZ,d0,d1,d2;try{dZ=!(!a.ResizeObserver);}catch(d3){dZ=false;}if(dZ){d0=new a.ResizeObserver(dX);c7.set_observers(new bo({$:1,$0:d0,$1:c7.observers()}));d0.observe(dY);}else{d1=c7.dimsChanged(dY);cH.Start((d2=null,cH.Delay(function(){return cH.While(function(){return dY.isConnected;},cH.Delay(function(){return cH.Bind(cH.Sleep(110),function(){return d1()?(dX(),cH.Zero()):cH.Zero();});}));})),null);}};c7.set_observers=function(dX){bt.$cctor();bt.observers=dX;};c7.observers=function(){bt.$cctor();return bt.observers;};c7.dimsChanged=function(dX){var dY;dY=[dX.getBoundingClientRect()];return function(){var dZ;dZ=dX.getBoundingClientRect();return y.Equals(c7.domRect2Tuple(dY[0]),c7.domRect2Tuple(dZ))?false:(dY[0]=dZ,true);};};c7.domRect2Tuple=function(dX){return[dX.top,dX.left,dX.width,dX.height];};c9.DecodeRecord=function(dX,dY){return function(){return function(dZ){var d0;function d1(d2,d3,d4){if(d4===0){if(dZ.hasOwnProperty(d2))d0[d2]=(d3(null))(dZ[d2]);else t.FailWith("Missing mandatory field: "+d2);}else if(d4===1)d0[d2]=dZ.hasOwnProperty(d2)?{$:1,$0:(d3(null))(dZ[d2])}:null;else if(d4===2){if(dZ.hasOwnProperty(d2))d0[d2]=(d3(null))(dZ[d2]);}else if(d4===3){if(dZ[d2]===void 0)d0[d2]=(d3(null))(dZ[d2]);}else t.FailWith("Invalid field option kind");}d0=dX===void 0?{}:new dX();C.iter(function(d2){return d1(d2[0],d2[1],d2[2]);},dY);return d0;};};};c9.DecodeArray=function(dX){return c9.EncodeArray(dX);};c9.Id=dP.Curried3(function(dX,dY,dZ){return dZ;});c9.DecodeUnion=function(dX,dY,dZ){return function(){return function(d0){var d1,d2,d5,d6,d7;function d3(d8,d9){return d8===d2;}function d4(d8,d9,d_,d$){var ea;if(d8===null){ea=(d_(null))(d0);d9?delete ea[dY]:void 0;d5.$0=ea;}else if(d$===0)d5[d8]=(d_(null))(d0[d9]);else if(d$===1)d5[d8]=d0.hasOwnProperty(d9)?{$:1,$0:(d_(null))(d0[d9])}:null;else t.FailWith("Invalid field option kind");}if(typeof d0==="object"&&d0!=null){d5=dX===void 0?{}:new dX();if(y.Equals(typeof dY,"string"))d1=(d2=d0[dY],C.findIndex(function(d8){return d3(d8[0],d8[1]);},dZ));else{d6=[void 0];for(var d8 in dY)if(function(d9){return d0.hasOwnProperty(d9)&&(d6[0]=dY[d9],true);}(d8))break;d1=d6[0];}d5.$=d1;C.iter(function(d9){return d4(d9[0],d9[1],d9[2],d9[3]);},(C.get(dZ,d1))[1]);return d5;}else return d0;};};};c9.EncodeArray=dP.Curried3(function(dX,dY,dZ){return C.map(dX(),dZ);});c9.DecodeDateTime=dP.Curried3(function(dX,dY,dZ){return dZ.hasOwnProperty("d")?(new dS(dZ.d)).getTime():(new dS(dZ)).getTime();});c_=g.DocElemNode=dP.Class({Equals:function(dX){return this.ElKey===dX.ElKey;},GetHashCode:function(){return this.ElKey;}},null,c_);c_.New=function(dX,dY,dZ,d0,d1,d2){var d3;return new c_((d3={Attr:dX,Children:dY,El:d0,ElKey:d1},(dP.SetOptional(d3,"Delimiters",dZ),dP.SetOptional(d3,"Render",d2),d3)));};da.convertTextNode=function(dX){var dY,dZ,d0,d1,d2,d3;dY=null;dZ=0;d1=dX.textContent;d2=new a.RegExp(cz.TextHoleRE(),"g");while(dY=d2.exec(d1),dY!==null){dX.parentNode.insertBefore(self.document.createTextNode(bP.string(d1,{$:1,$0:dZ},{$:1,$0:d2.lastIndex-C.get(dY,0).length-1})),dX);dZ=d2.lastIndex;d3=self.document.createElement("span");d3.setAttribute("ws-replace",C.get(dY,1).toLowerCase());dX.parentNode.insertBefore(d3,dX);}d2.lastIndex=0;dX.textContent=bP.string(d1,{$:1,$0:dZ},null);};da.failNotLoaded=function(dX){dR.warn("Instantiating non-loaded template",dX);};da.fillTextHole=function(dX,dY,dZ){var d0;d0=dX.querySelector("[ws-replace]");return y.Equals(d0,null)?(dR.warn("Filling non-existent text hole",dZ),null):(d0.parentNode.replaceChild(new a.Text(dY),d0),{$:1,$0:d0.getAttribute("ws-replace")});};da.removeHolesExcept=function(dX,dY){function dZ(d0){cP.IterSelector(dX,"["+d0+"]",function(d1){if(!dY.Contains(d1.getAttribute(d0)))d1.removeAttribute(d0);});}dZ("ws-attr");dZ("ws-onafterrender");dZ("ws-var");cP.IterSelector(dX,"[ws-hole]",function(d0){if(!dY.Contains(d0.getAttribute("ws-hole"))){d0.removeAttribute("ws-hole");while(d0.hasChildNodes())d0.removeChild(d0.lastChild);}});cP.IterSelector(dX,"[ws-replace]",function(d0){if(!dY.Contains(d0.getAttribute("ws-replace")))d0.parentNode.removeChild(d0);});cP.IterSelector(dX,"[ws-on]",function(d0){d0.setAttribute("ws-on",_.concat(" ",C.filter(function(d1){return dY.Contains(C.get(_.SplitChars(d1,[":"],1),1));},_.SplitChars(d0.getAttribute("ws-on"),[" "],1))));});cP.IterSelector(dX,"[ws-attr-holes]",function(d0){var d1,d2,d3,d4,d5;d1=_.SplitChars(d0.getAttribute("ws-attr-holes"),[" "],1);for(d2=0,d3=d1.length-1;d2<=d3;d2++){d4=C.get(d1,d2);d0.setAttribute(d4,(d5=new a.RegExp(cz.TextHoleRE(),"g"),d0.getAttribute(d4).replace(d5,function(d6,d7){return dY.Contains(d7)?d6:"";})));}});};da.fillInstanceAttrs=function(dX,dY){var dZ,d0,d1,d2,d3;da.convertAttrs(dY);dZ=dY.nodeName.toLowerCase();d0=dX.querySelector("[ws-attr="+dZ+"]");if(y.Equals(d0,null))dR.warn("Filling non-existent attr hole",dZ);else{d0.removeAttribute("ws-attr");for(d1=0,d2=dY.attributes.length-1;d1<=d2;d1++){d3=dY.attributes.item(d1);d3.name==="class"&&d0.hasAttribute("class")?d0.setAttribute("class",d0.getAttribute("class")+" "+d3.nodeValue):d0.setAttribute(d3.name,d3.nodeValue);}}};da.mapHoles=function(dX,dY){function dZ(d0){cP.IterSelector(dX,"["+d0+"]",function(d1){var d2,d3;d2=(d3=null,[dY.TryGetValue(d1.getAttribute(d0).toLowerCase(),{get:function(){return d3;},set:function(d4){d3=d4;}}),d3]);d2[0]?d1.setAttribute(d0,d2[1]):void 0;});}dZ("ws-hole");dZ("ws-replace");dZ("ws-attr");dZ("ws-onafterrender");dZ("ws-var");cP.IterSelector(dX,"[ws-on]",function(d0){d0.setAttribute("ws-on",_.concat(" ",C.map(function(d1){var d2,d3,d4;d2=_.SplitChars(d1,[":"],1);d3=(d4=null,[dY.TryGetValue(C.get(d2,1),{get:function(){return d4;},set:function(d5){d4=d5;}}),d4]);return d3[0]?C.get(d2,0)+":"+d3[1]:d1;},_.SplitChars(d0.getAttribute("ws-on"),[" "],1))));});cP.IterSelector(dX,"[ws-attr-holes]",function(d0){var d1,d2,d3;d1=_.SplitChars(d0.getAttribute("ws-attr-holes"),[" "],1);for(d2=0,d3=d1.length-1;d2<=d3;d2++)(function(){var d4;function d5(d6,d7){var d8;d8=t.KeyValue(d7);return d6.replace(new a.RegExp("\\${"+d8[0]+"}","ig"),"${"+d8[1]+"}");}d4=C.get(d1,d2);return d0.setAttribute(d4,(((dP.Curried3(_2.fold))(d5))(d0.getAttribute(d4)))(dY));}());});};da.fill=function(dX,dY,dZ){while(true)if(dX.hasChildNodes())dZ=dY.insertBefore(dX.lastChild,dZ);else return null;};da.convertAttrs=function(dX){var dZ,d0,d1,d2,d3,d4,d5,d6;function dY(d7){var d8;d8=dX.getAttribute(d7);d8===null?void 0:dX.setAttribute(d7,d8.toLowerCase());}dZ=dX.attributes;d0=[];d1=[];d2=[];for(d3=0,d4=dZ.length-1;d3<=d4;d3++){d5=dZ.item(d3);_.StartsWith(d5.nodeName,"ws-on")&&d5.nodeName!=="ws-onafterrender"&&d5.nodeName!=="ws-on"?(d0.push(d5.nodeName),d1.push(bP.string(d5.nodeName,{$:1,$0:"ws-on".length},null)+":"+d5.nodeValue.toLowerCase())):!_.StartsWith(d5.nodeName,"ws-")&&(new a.RegExp(cz.TextHoleRE())).test(d5.nodeValue)?(d5.nodeValue=(d6=new a.RegExp(cz.TextHoleRE(),"g"),d5.nodeValue.replace(d6,function(d7,d8){return"${"+d8.toLowerCase()+"}";})),d2.push(d5.nodeName)):void 0;}!(d1.length==0)?dX.setAttribute("ws-on",_.concat(" ",d1)):void 0;!(d2.length==0)?dX.setAttribute("ws-attr-holes",_.concat(" ",d2)):void 0;dY("ws-hole");dY("ws-replace");dY("ws-attr");dY("ws-onafterrender");dY("ws-var");C.iter(function(d7){dX.removeAttribute(d7);},d0);};db=g.Elt=dP.Class({on:function(dX,dY){var dZ;dZ=this;this.elt.addEventListener(dX,function(d0){return dY(dZ.elt,d0);},false);return this;}},b$,db);db.TreeNode=function(dX,dY){var dZ,d0;function d1(d2){return d2[1];}dZ=dr.Create(dY);return new db.New$1({$:6,$0:dX},J.Map2Unit((d0=C.map(function(d2){return cO.Updates(d1(d2));},dX.Attrs),cY.TreeReduce(J.Const(),J.Map2Unit,d0)),dZ.v),C.get(dX.Els,0),dZ);};db.New=function(dX,dY,dZ){var d0,d1;d0=cM.CreateElemNode(dX,dY,dZ.docNode);d1=dr.Create(dZ.updates);return new db.New$1({$:1,$0:d0},J.Map2Unit(cO.Updates(d0.Attr),d1.v),dX,d1);};db.New$1=dP.Ctor(function(dX,dY,dZ,d0){b$.New.call(this,dX,dY);this.docNode$1=dX;this.updates$1=dY;this.elt=dZ;this.rvUpdates=d0;},db);dc.get_UseAnimations=function(){return dv.UseAnimations();};dc.Play=function(dX){var dY;dY=null;return cH.Delay(function(){return cH.Bind(dc.Run(a.ignore,dv.Actions(dX)),function(){dv.Finalize(dX);return cH.Return(null);});});};dc.Append=function(dX,dY){return{$:0,$0:dI.Append(dX.$0,dY.$0)};};dc.Run=function(dX,dY){var dZ;function d0(d1){function d2(d3,d4){var d5;d5=d4-d3;dY.Compute(d5);dX();return d5<=dZ?void a.requestAnimationFrame(function(d6){d2(d3,d6);}):d1();}a.requestAnimationFrame(function(d3){d2(d3,d3);});}dZ=dY.Duration;return dZ===0?cH.Zero():cH.FromContinuations(function(d1,d2,d3){return d0.apply(null,[d1,d2,d3]);});};dc.Concat=function(dX){return{$:0,$0:dI.Concat(_2.map(dv.List,dX))};};dc.get_Empty=function(){return{$:0,$0:dI.Empty()};};dd.BatchUpdatesEnabled=function(){dw.$cctor();return dw.BatchUpdatesEnabled;};de.StartProcessor=function(dX){var dY;function dZ(){var d0;d0=null;return cH.Delay(function(){return cH.Bind(dX,function(){var d1;d1=dY[0];return d1===1?(dY[0]=0,cH.Zero()):d1===2?(dY[0]=1,dZ()):cH.Zero();});});}dY=[0];return function(){var d0;d0=dY[0];d0===0?(dY[0]=1,cH.Start(dZ(),null)):d0===1?dY[0]=2:void 0;};};df.concat=function(dX){var dY,dZ;dY=[];for(var d0 in dX)dY.push.apply(dY,dX[d0]);return dY;};dg.$cctor=function(){dg.$cctor=a.ignore;function dX(dY){var dZ,d0;dZ=(d0=0,[bD.TryParseInt32(dY,{get:function(){return d0;},set:function(d1){d0=d1;}}),d0]);return dZ[0]?{$:1,$0:dZ[1]}:null;}dg.Empty=cT.New$1(function(){return[];},function(){return null;});dg.rRoot=cT.New(function(dY){return[dY];},[]);dg.rString=cT.New$1(function(dY){var dZ,d0;dZ=dY.Segments;return dZ.$==1?(d0=dz.read(dZ.$0),d0!=null&&d0.$==1?[[cG.New(dZ.$1,dY.QueryArgs,dY.FormData,dY.Method,dY.Body),d0.$0]]:[]):[];},function(dY){return{$:1,$0:[cG.Segment$2(dY==null?"null":dz.write(dY))]};});dg.rChar=cT.New$1(function(dY){var dZ,d0,d1;dZ=dY.Segments;return dZ.$==1?(d0=dz.read(dZ.$0),d0!=null&&d0.$==1&&(d0.$0.length===1&&(d1=d0.$0,true))?[[cG.New(dZ.$1,dY.QueryArgs,dY.FormData,dY.Method,dY.Body),dA.Parse(d1)]]:[]):[];},function(dY){return{$:1,$0:[cG.Segment$2(dY)]};});dg.rGuid=cT.New$1(function(dY){var dZ,d0;dZ=dY.Segments;return dZ.$==1?(d0=null,bj.TryParse(dZ.$0,{get:function(){return d0;},set:function(d1){d0=d1;}})?[[cG.New(dZ.$1,dY.QueryArgs,dY.FormData,dY.Method,dY.Body),d0]]:[]):[];},function(dY){return{$:1,$0:[cG.Segment$2(a.String(dY))]};});dg.rInt=cT.New$1(function(dY){var dZ,d0;dZ=dY.Segments;return dZ.$==1?(d0=0,bD.TryParseInt32(dZ.$0,{get:function(){return d0;},set:function(d1){d0=d1;}})?[[cG.New(dZ.$1,dY.QueryArgs,dY.FormData,dY.Method,dY.Body),d0]]:[]):[];},function(dY){return{$:1,$0:[cG.Segment$2(a.String(dY))]};});dg.rDouble=cT.New$1(function(dY){var dZ,d0,d1;dZ=dY.Segments;return dZ.$==1?(d0=0,(d1=a.Number(dZ.$0),a.isNaN(d1)?false:(d0=d1,true))?[[cG.New(dZ.$1,dY.QueryArgs,dY.FormData,dY.Method,dY.Body),d0]]:[]):[];},function(dY){return{$:1,$0:[cG.Segment$2(a.String(dY))]};});dg.rSByte=cT.New$1(function(dY){var dZ,d0;dZ=dY.Segments;return dZ.$==1?(d0=0,bD.TryParseSByte(dZ.$0,{get:function(){return d0;},set:function(d1){d0=d1;}})?[[cG.New(dZ.$1,dY.QueryArgs,dY.FormData,dY.Method,dY.Body),d0]]:[]):[];},function(dY){return{$:1,$0:[cG.Segment$2(a.String(dY))]};});dg.rByte=cT.New$1(function(dY){var dZ,d0;dZ=dY.Segments;return dZ.$==1?(d0=0,bD.TryParseByte(dZ.$0,{get:function(){return d0;},set:function(d1){d0=d1;}})?[[cG.New(dZ.$1,dY.QueryArgs,dY.FormData,dY.Method,dY.Body),d0]]:[]):[];},function(dY){return{$:1,$0:[cG.Segment$2(a.String(dY))]};});dg.rInt16=cT.New$1(function(dY){var dZ,d0;dZ=dY.Segments;return dZ.$==1?(d0=0,bD.TryParseInt16(dZ.$0,{get:function(){return d0;},set:function(d1){d0=d1;}})?[[cG.New(dZ.$1,dY.QueryArgs,dY.FormData,dY.Method,dY.Body),d0]]:[]):[];},function(dY){return{$:1,$0:[cG.Segment$2(a.String(dY))]};});dg.rUInt16=cT.New$1(function(dY){var dZ,d0;dZ=dY.Segments;return dZ.$==1?(d0=0,bD.TryParseUInt16(dZ.$0,{get:function(){return d0;},set:function(d1){d0=d1;}})?[[cG.New(dZ.$1,dY.QueryArgs,dY.FormData,dY.Method,dY.Body),d0]]:[]):[];},function(dY){return{$:1,$0:[cG.Segment$2(a.String(dY))]};});dg.rUInt=cT.New$1(function(dY){var dZ,d0;dZ=dY.Segments;return dZ.$==1?(d0=0,bD.TryParseUInt32(dZ.$0,{get:function(){return d0;},set:function(d1){d0=d1;}})?[[cG.New(dZ.$1,dY.QueryArgs,dY.FormData,dY.Method,dY.Body),d0]]:[]):[];},function(dY){return{$:1,$0:[cG.Segment$2(a.String(dY))]};});dg.rInt64=cT.New$1(function(dY){var dZ,d0;dZ=dY.Segments;return dZ.$==1?(d0=0,bD.TryParseInt64(dZ.$0,{get:function(){return d0;},set:function(d1){d0=d1;}})?[[cG.New(dZ.$1,dY.QueryArgs,dY.FormData,dY.Method,dY.Body),d0]]:[]):[];},function(dY){return{$:1,$0:[cG.Segment$2(a.String(dY))]};});dg.rUInt64=cT.New$1(function(dY){var dZ,d0;dZ=dY.Segments;return dZ.$==1?(d0=0,bD.TryParseUInt64(dZ.$0,{get:function(){return d0;},set:function(d1){d0=d1;}})?[[cG.New(dZ.$1,dY.QueryArgs,dY.FormData,dY.Method,dY.Body),d0]]:[]):[];},function(dY){return{$:1,$0:[cG.Segment$2(a.String(dY))]};});dg.rSingle=cT.New$1(function(dY){var dZ,d0,d1;dZ=dY.Segments;return dZ.$==1?(d0=0,(d1=a.Number(dZ.$0),a.isNaN(d1)?false:(d0=d1,true))?[[cG.New(dZ.$1,dY.QueryArgs,dY.FormData,dY.Method,dY.Body),d0]]:[]):[];},function(dY){return{$:1,$0:[cG.Segment$2(a.String(dY))]};});dg.rBool=cT.New$1(function(dY){var dZ,d0,d1;dZ=dY.Segments;return dZ.$==1?(d0=(d1=null,[bD.TryParseBool(dZ.$0,{get:function(){return d1;},set:function(d2){d1=d2;}}),d1]),d0[0]?[[cG.New(dZ.$1,dY.QueryArgs,dY.FormData,dY.Method,dY.Body),d0[1]]]:[]):[];},function(dY){return{$:1,$0:[cG.Segment$2(dY?"True":"False")]};});dg.rWildcard=cT.New$1(function(dY){return[[cG.New(bo.Empty,dY.QueryArgs,dY.FormData,dY.Method,dY.Body),_.concat("/",dY.Segments)]];},function(dY){return{$:1,$0:[cG.Segment$2(dY)]};});dg.rDateTime=cT.New$1(function(dY){var dZ,d0,d1,d2,d3,d4,d5,d6,d7;dZ=dY.Segments;return dZ.$==1?(d0=dZ.$0,d0.length===19&&d0[4]==="-"&&d0[7]==="-"&&d0[10]==="-"&&d0[13]==="."&&d0[16]==="."?(d1=dX(bP.string(d0,{$:1,$0:0},{$:1,$0:3})),(d2=dX(bP.string(d0,{$:1,$0:5},{$:1,$0:6})),(d3=dX(bP.string(d0,{$:1,$0:8},{$:1,$0:9})),(d4=dX(bP.string(d0,{$:1,$0:11},{$:1,$0:12})),(d5=dX(bP.string(d0,{$:1,$0:14},{$:1,$0:15})),(d6=dX(bP.string(d0,{$:1,$0:17},{$:1,$0:18})),d1!=null&&d1.$==1&&(d2!=null&&d2.$==1&&(d3!=null&&d3.$==1&&(d4!=null&&d4.$==1&&(d5!=null&&d5.$==1&&(d6!=null&&d6.$==1&&(d7=[d3.$0,d4.$0,d2.$0,d5.$0,d6.$0,d1.$0],true))))))?[[cG.New(dZ.$1,dY.QueryArgs,dY.FormData,dY.Method,dY.Body),(new dS(d7[5],d7[2]-1,d7[0],d7[1],d7[3],d7[4])).getTime()]]:[])))))):[]):[];},function(dY){var dZ,d0;function d1(d2){var d3;d3=a.String(d2);return d3.length===1?"0"+d3:d3;}return{$:1,$0:[cG.Segment$2((dZ=a.String((new dS(dY)).getFullYear()),(d0=dZ.length,d0===1?"000"+dZ:d0===2?"00"+dZ:d0===3?"0"+dZ:dZ))+"-"+d1((new dS(dY)).getMonth()+1)+"-"+d1((new dS(dY)).getDate())+"-"+d1((new dS(dY)).getHours())+"."+d1((new dS(dY)).getMinutes())+"."+d1((new dS(dY)).getSeconds()))]};});};dh.OfArray=function(dX){return new ca.New$1(cd.OfSeq(_2.map(function(dY){return cZ.New(dY[0],dY[1]);},dX)));};dh.FoldBack=function(dX,dY,dZ){return _2.fold(function(d0,d1){return dX(d1.Key,d1.Value,d0);},dZ,cd.Enumerate(true,dY.get_Tree()));};dh.ToSeq=function(dX){return _2.map(function(dY){return[dY.Key,dY.Value];},cd.Enumerate(false,dX.get_Tree()));};di=cH.Scheduler=dP.Class({Fork:function(dX){var dY;dY=this;this.robin.push(dX);this.idle?(this.idle=false,a.setTimeout(function(){dY.tick();},0)):void 0;},tick:function(){var dX,dY,dZ;dY=this;dZ=dS.now();dX=true;while(dX)if(this.robin.length===0){this.idle=true;dX=false;}else{(this.robin.shift())();dS.now()-dZ>40?(a.setTimeout(function(){dY.tick();},0),dX=false):void 0;}}},f,di);di.New=dP.Ctor(function(){f.New.call(this);this.idle=true;this.robin=[];},di);dj.$cctor=function(){dj.$cctor=a.ignore;dj.LoadedTemplates=new bv.New$5();dj.LocalTemplatesLoaded=false;dj.TextHoleRE="\\${([^}]+)}";};dk=g.DynamicAttrNode=dP.Class({NChanged:function(){return this.updates;},NGetExitAnim:function(dX){return dc.get_Empty();},NGetEnterAnim:function(dX){return dc.get_Empty();},NGetChangeAnim:function(dX){return dc.get_Empty();},NSync:function(dX){if(this.dirty){(this.push(dX))(this.value);this.dirty=false;}}},f,dk);dk.New=dP.Ctor(function(dX,dY){var dZ;dZ=this;f.New.call(this);this.push=dY;this.value=void 0;this.dirty=false;this.updates=J.Map(function(d0){dZ.value=d0;dZ.dirty=true;},dX);},dk);dm=e.AggregateException=dP.Class({},dl,dm);dm.New$3=dP.Ctor(function(dX){dm.New$4.call(this,"One or more errors occurred.",dX);},dm);dm.New$4=dP.Ctor(function(dX,dY){this.message=dX;cu.setPrototypeOf(this,dm.prototype);this.innerExceptions=dY;},dm);dn=c4.ArrayStorage=dP.Class({SSetAt:function(dX,dY,dZ){C.set(dZ,dX,dY);return dZ;},SAppend:function(dX,dY){dY.push(dX);return dY;}},f,dn);dn.New=dP.Ctor(function(dX){f.New.call(this);this.init=dX;},dn);_2.enumUsing=function(dX,dY){return{GetEnumerator:function(){var dZ;try{dZ=cb.Get(dY(dX));}catch(d0){dX.Dispose();throw d0;}return new cc.New(null,null,function(d1){return dZ.MoveNext()&&(d1.c=dZ.Current(),true);},function(){dZ.Dispose();dX.Dispose();});}};};_2.enumWhile=function(dX,dY){return{GetEnumerator:function(){return new cc.New(null,null,function(dZ){var d0;while(true){d0=dZ.s;if(y.Equals(d0,null)){if(dX()){dZ.s=cb.Get(dY);dZ=dZ;}else return false;}else if(d0.MoveNext()){dZ.c=d0.Current();return true;}else{d0.Dispose();dZ.s=null;dZ=dZ;}}},function(dZ){var d0;d0=dZ.s;!y.Equals(d0,null)?d0.Dispose():void 0;});}};};_do=w.NonStandardPromiseRejectionException=dP.Class({},dl,_do);_do.New=dP.Ctor(function(dX){this.message="Promise rejected";cu.setPrototypeOf(this,_do.prototype);this.reason=dX;},_do);dq.New=function(dX,dY,dZ,d0){var d1;d1={DynElem:dX,DynFlags:dY,DynNodes:dZ};dP.SetOptional(d1,"OnAfterRender",d0);return d1;};dr=g.Updates=dP.Class({},null,dr);dr.Create=function(dX){var dY;dY=null;dY=dr.New(dX,null,function(){var dZ;dZ=dY.s;return dZ===null?(dZ=P.Copy(dY.c()),dY.s=dZ,P.WhenObsoleteRun(dZ,function(){dY.s=null;}),dZ):dZ;});return dY;};dr.New=function(dX,dY,dZ){return new dr({c:dX,s:dY,v:dZ});};dt.New=function(dX,dY){return{PreviousNodes:dX,Top:dY};};du.get_Empty=function(){return{$:0,$0:new bw.New$3()};};du.FindAll=function(dX){var dY;function dZ(d1){if(d1!=null&&d1.$==0){dZ(d1.$0);dZ(d1.$1);}else if(d1!=null&&d1.$==1)d0(d1.$0);else if(d1!=null&&d1.$==2)dZ(d1.$0.Current);else if(d1!=null&&d1.$==6)C.iter(d0,d1.$0.Holes);}function d0(d1){dY.push(d1);dZ(d1.Children);}dY=[];dZ(dX);return{$:0,$0:new bw.New$2(dY)};};du.Filter=function(dX,dY){return{$:0,$0:dL.Filter(dX,dY.$0)};};du.Except=function(dX,dY){return{$:0,$0:dL.Except(dX.$0,dY.$0)};};du.ToArray=function(dX){return dL.ToArray(dX.$0);};du.Intersect=function(dX,dY){return{$:0,$0:dL.Intersect(dX.$0,dY.$0)};};dv.UseAnimations=function(){dH.$cctor();return dH.UseAnimations;};dv.Actions=function(dX){return dv.ConcatActions(C.choose(function(dY){return dY.$==1?{$:1,$0:dY.$0}:null;},dI.ToArray(dX.$0)));};dv.Finalize=function(dX){C.iter(function(dY){if(dY.$==0)dY.$0();},dI.ToArray(dX.$0));};dv.ConcatActions=function(dX){var dY,dZ,d0,d1;dY=cY.ofSeqNonCopying(dX);dZ=C.length(dY);return dZ===0?dv.Const():dZ===1?C.get(dY,0):(d0=_2.max(_2.map(function(d2){return d2.Duration;},dY)),(d1=C.map(function(d2){return dv.Prolong(d0,d2);},dY),dv.Def(d0,function(d2){C.iter(function(d3){d3.Compute(d2);},d1);})));};dv.List=function(dX){return dX.$0;};dv.Const=function(dX){return dv.Def(0,function(){return dX;});};dv.Def=function(dX,dY){return{Compute:dY,Duration:dX};};dv.Prolong=function(dX,dY){var dZ,d0,d1;dZ=dY.Compute;d0=dY.Duration;d1=m.Create(function(){return dY.Compute(dY.Duration);});return{Compute:function(d2){return d2>=d0?d1.f():dZ(d2);},Duration:dX};};dw.$cctor=function(){dw.$cctor=a.ignore;dw.BatchUpdatesEnabled=true;};dx.Clear=function(dX){dX.splice(0,C.length(dX));};dy=e.FormatException=dP.Class({},dl,dy);dy.New$1=dP.Ctor(function(dX){this.message=dX;cu.setPrototypeOf(this,dy.prototype);},dy);cT.New=function(dX,dY){return{Parse:dX,Segment:dY};};dz.read=function(dX){var dY;dY=[];return function(dZ){var d0;while(true){d0=dz.readEscapedFromChars(dZ);if(d0[0]===-2)return null;else if(d0[0]===-1)return{$:1,$0:(function(d1){return function(d2){return _.concat(d1,d2);};}(""))(dY)};else{dY.push(dW.fromCharCode(d0[0]));dZ=d0[1];}}}(bn.ofSeq(_2.map(function(dZ){return dZ.charCodeAt();},dX)));};dz.write=function(dX){return _.concat("",_2.mapi(function(dY,dZ){return dz.writeEscapedAsString(dY+1===dX.length,dZ);},dX));};dz.readEscapedFromChars=function(dX){var dY,dZ,d0,d1,d2,d3,d4,d5;function d6(){var d8,d9;return dY.$==1?(d8=dY.$1,(d9=dY.$0,(dY=d8,d9))):-1;}function d7(d8){return d8>="0".charCodeAt()&&d8<="9".charCodeAt()?d8-"0".charCodeAt():d8>="a".charCodeAt()&&d8<="f".charCodeAt()?d8-"a".charCodeAt()+10:d8>="A".charCodeAt()&&d8<="F".charCodeAt()?d8-"A".charCodeAt()+10:-2;}dY=dX;return[(dZ=d6(),dZ==="~".charCodeAt()?(d0=d6(),d0==="u".charCodeAt()?(d1=d6(),(d2=d6(),(d3=d6(),(d4=d6(),d1>=0&&d2>=0&&d3>=0&&d4>=0?dz.op_PlusPlus(dz.op_PlusPlus(dz.op_PlusPlus(d7(d1),d7(d2)),d7(d3)),d7(d4)):-2)))):(d5=d6(),d0>=0&&d5>=0?dz.op_PlusPlus(d7(d0),d7(d5)):-2)):dZ),dY];};dz.writeEscapedAsString=function(dX,dY){var dZ;dZ=dY.charCodeAt();return dz.isUnreserved(dX,dY)?dY:dZ<256?"~"+_.PadLeftWith(dZ.toString(16),2,"0"):"~u"+_.PadLeftWith(dZ.toString(16),4,"0");};dz.op_PlusPlus=function(dX,dY){return(dX<<4)+dY;};dz.isUnreserved=function(dX,dY){return dY==="-"||(dY==="."?!dX:dY==="_"||(dY>="A"&&dY<="Z"||(dY>="a"&&dY<="z"||dY>="0"&&dY<="9")));};dA.Parse=function(dX){return dX.length===1?dX:t.FailWith("String must be exactly one character long.");};dA.IsWhiteSpace=function(dX){return dX.match(new a.RegExp("\\s"))!==null;};bD.TryParseSByte=function(dX,dY){return bD.TryParse(dX,-128,127,dY);};bD.TryParseByte=function(dX,dY){return bD.TryParse(dX,0,255,dY);};bD.TryParseInt16=function(dX,dY){return bD.TryParse(dX,-32768,32767,dY);};bD.TryParseUInt16=function(dX,dY){return bD.TryParse(dX,0,65535,dY);};bD.TryParseUInt32=function(dX,dY){return bD.TryParse(dX,0,4294967295,dY);};bD.TryParseUInt64=function(dX,dY){return bD.TryParse(dX,0,18446744073709551615,dY);};dB=e.OperationCanceledException=dP.Class({},dl,dB);dB.New=dP.Ctor(function(dX){dB.New$1.call(this,"The operation was canceled.",null,dX);},dB);dB.New$1=dP.Ctor(function(dX,dY,dZ){this.message=dX;this.inner=dY;cu.setPrototypeOf(this,dB.prototype);this.ct=dZ;},dB);dC=_6.KeyCollection=dP.Class({GetEnumerator$1:function(){return cb.Get(_2.map(function(dX){return dX.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},f,dC);dC.New=dP.Ctor(function(dX){f.New.call(this);this.d=dX;},dC);dD.$cctor=function(){dD.$cctor=a.ignore;dD.Doc=self.document;};dE.$cctor=function(){dE.$cctor=a.ignore;dE.EmptyAttr=null;};dF.Map=function(dX,dY){return dY.$==1?{$:1,$0:dY.$0}:{$:0,$0:dX(dY.$0)};};dG.isBlank=function(dX){return _.forall(dA.IsWhiteSpace,dX);};dH.$cctor=function(){dH.$cctor=a.ignore;dH.CubicInOut=dK.Custom(function(dX){var dY;dY=dX*dX;return 3*dY-2*(dY*dX);});dH.UseAnimations=true;};dI.Append=function(dX,dY){return dX.$==0?dY:dY.$==0?dX:{$:2,$0:dX,$1:dY};};dI.ToArray=function(dX){var dY;function dZ(d0){if(d0.$==1)dY.push(d0.$0);else if(d0.$==2){dZ(d0.$0);dZ(d0.$1);}else if(d0.$==3)C.iter(function(d1){dY.push(d1);},d0.$0);}dY=[];dZ(dX);return dY.slice(0);};dI.Concat=function(dX){var dY;dY=cY.ofSeqNonCopying(dX);return cY.TreeReduce(dI.Empty(),dI.Append,dY);};dI.Empty=function(){dN.$cctor();return dN.Empty;};dJ.WriteLink=function(dX,dY){var dZ;dZ=dY.get_IsEmpty()?"":"?"+dJ.WriteQuery(dY);return"/"+dJ.Concat(dX)+dZ;};dJ.Concat=function(dX){var dY,dZ;dY=[];dZ=true;bn.iter(function(d0){if(!_.IsNullOrEmpty(d0)){dZ?dZ=false:dY.push("/");dY.push(d0);}},dX);return _.Join("",C.ofSeq(dY));};dJ.WriteQuery=function(dX){function dY(dZ,d0){return dZ+"="+d0;}return _.concat("&",_2.map(function(dZ){return dY(dZ[0],dZ[1]);},dh.ToSeq(dX)));};dK=g.Easing=dP.Class({},f,dK);dK.Custom=function(dX){return new dK.New(dX);};dK.New=dP.Ctor(function(dX){f.New.call(this);this.transformTime=dX;},dK);dL.Filter=function(dX,dY){return new bw.New$2(C.filter(dX,dL.ToArray(dY)));};dL.Except=function(dX,dY){var dZ;dZ=new bw.New$2(dL.ToArray(dY));dZ.ExceptWith(dL.ToArray(dX));return dZ;};dL.ToArray=function(dX){var dY;dY=C.create(dX.get_Count(),void 0);dX.CopyTo(dY);return dY;};dL.Intersect=function(dX,dY){var dZ;dZ=new bw.New$2(dL.ToArray(dX));dZ.IntersectWith(dL.ToArray(dY));return dZ;};dM.Children=function(dX,dY){var dZ,d0,d1;if(dY!=null&&dY.$==1){d1=[];dZ=dY.$0[0].nextSibling;while(dZ!==dY.$0[1]){d1.push(dZ);dZ=dZ.nextSibling;}return{$:0,$0:d1};}else return{$:0,$0:C.init(dX.childNodes.length,(d0=dX.childNodes,function(d2){return d0[d2];}))};};dM.Except=function(dX,dY){var dZ;dZ=dX.$0;return{$:0,$0:C.filter(function(d0){return C.forall(function(d1){return!(d0===d1);},dZ);},dY.$0)};};dM.Iter=function(dX,dY){C.iter(dX,dY.$0);};dM.DocChildren=function(dX){var dY;function dZ(d0){if(d0!=null&&d0.$==2)dZ(d0.$0.Current);else if(d0!=null&&d0.$==1)dY.push(d0.$0.El);else if(d0==null);else if(d0!=null&&d0.$==5)dY.push(d0.$0);else if(d0!=null&&d0.$==4)dY.push(d0.$0.Text);else if(d0!=null&&d0.$==6)C.iter(function(d1){if(d1==null||d1.constructor===cu)dZ(d1);else dY.push(d1);},d0.$0.Els);else{dZ(d0.$0);dZ(d0.$1);}}dY=[];dZ(dX.Children);return{$:0,$0:cY.ofSeqNonCopying(dY)};};dN.$cctor=function(){dN.$cctor=a.ignore;dN.Empty={$:0};};dP.OnLoad(function(){d.mainProgram();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
//# sourceMappingURL=testing.min.map
