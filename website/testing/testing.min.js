function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
var JSON;JSON||(JSON={}),function(){"use strict";function i(n){return n<10?"0"+n:n}function f(n){return o.lastIndex=0,o.test(n)?'"'+n.replace(o,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function r(i,e){var s,l,h,a,v=n,c,o=e[i];o&&typeof o=="object"&&typeof o.toJSON=="function"&&(o=o.toJSON(i));typeof t=="function"&&(o=t.call(e,i,o));switch(typeof o){case"string":return f(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(n+=u,c=[],Object.prototype.toString.apply(o)==="[object Array]"){for(a=o.length,s=0;s<a;s+=1)c[s]=r(s,o)||"null";return h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+v+"]":"["+c.join(",")+"]",n=v,h}if(t&&typeof t=="object")for(a=t.length,s=0;s<a;s+=1)typeof t[s]=="string"&&(l=t[s],h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));else for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));return h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+v+"}":"{"+c.join(",")+"}",n=v,h}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,u,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(n="",u="",typeof e=="number")for(o=0;o<e;o+=1)u+=" ";else typeof e=="string"&&(u=e);if(t=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return r("",{"":i})});typeof JSON.parse!="function"&&(JSON.parse=function(n,t){function r(n,i){var f,e,u=n[i];if(u&&typeof u=="object")for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&(e=r(u,f),e!==undefined?u[f]=e:delete u[f]);return t.call(n,i,u)}var i;if(n=String(n),e.lastIndex=0,e.test(n)&&(n=n.replace(e,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?r({"":i},""):i;throw new SyntaxError("JSON.parse");})}();
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx;a=self;b=a.FsRoot=a.FsRoot||{};c=b.LibraryJS=b.LibraryJS||{};d=c.Monaco=c.Monaco||{};e=d.Position=d.Position||{};f=d.Range=d.Range||{};g=d.Location=d.Location||{};h=d.MarkDownString=d.MarkDownString||{};i=d.MarkerData=d.MarkerData||{};j=d.CompletionItem=d.CompletionItem||{};k=d.Hover=d.Hover||{};l=a.WebSharper=a.WebSharper||{};m=l.Obj=l.Obj||{};n=d.Editor=d.Editor||{};o=d.MonacoConfig=d.MonacoConfig||{};p=c.MonacoGenAdapter=c.MonacoGenAdapter||{};q=p.MonacoRT=p.MonacoRT||{};r=p.CompletionItemProvider=p.CompletionItemProvider||{};s=p.HoverProvider=p.HoverProvider||{};t=p.DefinitionProvider=p.DefinitionProvider||{};u=b.TestingJS=b.TestingJS||{};v=u.StartAppFramework=u.StartAppFramework||{};w=u.Util=u.Util||{};x=u.AF=u.AF||{};y=x.PlugInBuilder=x.PlugInBuilder||{};z=x.ListModelData=x.ListModelData||{};A=u.LayoutEngine=u.LayoutEngine||{};B=u.ListModel=u.ListModel||{};C=u.LM=u.LM||{};D=u.LMX=u.LMX||{};E=u.SnippetTemplates=u.SnippetTemplates||{};F=u.DragDrop=u.DragDrop||{};G=F.DragInfo=F.DragInfo||{};H=u.SnippetsUI=u.SnippetsUI||{};I=H.SnippetHierData=H.SnippetHierData||{};J=H.SaveLoad=H.SaveLoad||{};K=l.Numeric=l.Numeric||{};L=l.UI=l.UI||{};M=L.Var=L.Var||{};N=L.View=L.View||{};O=l.Operators=l.Operators||{};P=l.Unchecked=l.Unchecked||{};Q=a.StartupCode$testing$testing=a.StartupCode$testing$testing||{};R=a.EventTarget;S=c.ResizeObserver=c.ResizeObserver||{};T=b.Library=b.Library||{};U=T.Monads=T.Monads||{};V=U.Option=U.Option||{};W=c.GenEditor=c.GenEditor||{};X=L.Var$1=L.Var$1||{};Y=l.Option=l.Option||{};Z=W.Position=W.Position||{};_0=U.AsyncResultMAutoOpen=U.AsyncResultMAutoOpen||{};_1=U.AsyncResultM=U.AsyncResultM||{};_2=_1.AsyncResultMBuilder=_1.AsyncResultMBuilder||{};_3=l.Arrays=l.Arrays||{};_4=c.PromiseM=c.PromiseM||{};_5=W.GenEditor=W.GenEditor||{};_6=l.Seq=l.Seq||{};_7=W.GenEditorHook=W.GenEditorHook||{};_8=L.HtmlModule=L.HtmlModule||{};_9=_8.attr=_8.attr||{};_=T.ParseO=T.ParseO||{};$=l.Utils=l.Utils||{};ba=T.GuidId=T.GuidId||{};bb=c.AppFramework=c.AppFramework||{};bc=bb.PlugIn=bb.PlugIn||{};bd=L.ListModel=L.ListModel||{};be=l.Lazy=l.Lazy||{};bf=c.LayoutEngineModule=c.LayoutEngineModule||{};bg=bb.PlugInVar=bb.PlugInVar||{};bh=bb.PlugInView=bb.PlugInView||{};bi=bb.PlugInDoc=bb.PlugInDoc||{};bj=bb.PlugInAction=bb.PlugInAction||{};bk=bb.PlugInQuery=bb.PlugInQuery||{};bl=L.Doc=L.Doc||{};bm=c.View=c.View||{};bn=c.LayoutEngine=c.LayoutEngine||{};bo=L.ViewBuilder=L.ViewBuilder||{};bp=l.List=l.List||{};bq=bp.T=bp.T||{};br=a.System=a.System||{};bs=br.Guid=br.Guid||{};bt=l.Collections=l.Collections||{};bu=bt.Dictionary=bt.Dictionary||{};bv=l.Slice=l.Slice||{};bw=bt.Set=bt.Set||{};bx=T.Snippet=T.Snippet||{};by=L.Templating=L.Templating||{};bz=by.Runtime=by.Runtime||{};bA=bz.Server=bz.Server||{};bB=bA.TemplateInstance=bA.TemplateInstance||{};bC=bA.ProviderBuilder=bA.ProviderBuilder||{};bD=bA.Handler=bA.Handler||{};bE=a.testing_Templates=a.testing_Templates||{};bF=a.FileReader;bG=l.JavaScript=l.JavaScript||{};bH=bG.Pervasives=bG.Pervasives||{};bI=c.Serializer=c.Serializer||{};bJ=T.SnippetSerialize=T.SnippetSerialize||{};bK=bJ.Model=bJ.Model||{};bL=bG.JS=bG.JS||{};bM=T.UoM=T.UoM||{};bN=bM.UoM=bM.UoM||{};bO=U.Depend=U.Depend||{};bP=c.AppFrameworkTemplate=c.AppFrameworkTemplate||{};bQ=L.Snap=L.Snap||{};bR=U.Result=U.Result||{};bS=bR.Builder=bR.Builder||{};bT=bR.BuilderP=bR.BuilderP||{};bU=bO.DependBuilder=bO.DependBuilder||{};bV=U.ResultM=U.ResultM||{};bW=bV.Builder=bV.Builder||{};bX=T.Serializer=T.Serializer||{};bY=bX.JsonIntermediate=bX.JsonIntermediate||{};bZ=T.SnippetModule=T.SnippetModule||{};b0=a.Node;b1=a.WindowOrWorkerGlobalScope;b2=l.Concurrency=l.Concurrency||{};b3=L.AttrProxy=L.AttrProxy||{};b4=L.ConcreteVar=L.ConcreteVar||{};b5=L.Abbrev=L.Abbrev||{};b6=b5.Fresh=b5.Fresh||{};b7=a.Object;b8=T.ResultMessage=T.ResultMessage||{};b9=l.Enumerator=l.Enumerator||{};b_=b9.T=b9.T||{};b$=L.AttrModule=L.AttrModule||{};ca=L.FromView=L.FromView||{};cb=a.StartupCode$LayoutEngine$LayoutEngine=a.StartupCode$LayoutEngine$LayoutEngine||{};cc=l.Strings=l.Strings||{};cd=l.LazyExtensionsProxy=l.LazyExtensionsProxy||{};ce=cd.LazyRecord=cd.LazyRecord||{};cf=bt.List=bt.List||{};cg=L.Array=L.Array||{};ch=c.ListModel=c.ListModel||{};ci=L.Storage=L.Storage||{};cj=bt.DictionaryUtil=bt.DictionaryUtil||{};ck=bt.FSharpSet=bt.FSharpSet||{};cl=bt.HashSet=bt.HashSet||{};cm=bz.Client=bz.Client||{};cn=bM.Unsafe=bM.Unsafe||{};co=l.DateUtil=l.DateUtil||{};cp=bt.BalancedTree=bt.BalancedTree||{};cq=L.Client=L.Client||{};cr=cq.Templates=cq.Templates||{};cs=b5.Async=b5.Async||{};ct=b2.AsyncBody=b2.AsyncBody||{};cu=L.Attrs=L.Attrs||{};cv=L.DomUtility=L.DomUtility||{};cw=T.String=T.String||{};cx=c.WebComponent=c.WebComponent||{};cy=cx.WcTabStrip=cx.WcTabStrip||{};cz=cy.WcTabStripT=cy.WcTabStripT||{};cA=a.LayoutEngine_Templates=a.LayoutEngine_Templates||{};cB=a.GeneratedPrintf=a.GeneratedPrintf||{};cC=a.LayoutEngine_GeneratedPrintf=a.LayoutEngine_GeneratedPrintf||{};cD=cx.WcSplitter=cx.WcSplitter||{};cE=L.DocElemNode=L.DocElemNode||{};cF=a.CharacterData;cG=ci.ArrayStorage=ci.ArrayStorage||{};cH=cp.Tree=cp.Tree||{};cI=L.CheckedInput=L.CheckedInput||{};cJ=b2.CT=b2.CT||{};cK=b2.Scheduler=b2.Scheduler||{};cL=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};cM=L.Docs=L.Docs||{};cN=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};cO=L.DynamicAttrNode=L.DynamicAttrNode||{};cP=L.Elt=L.Elt||{};cQ=cD.WcSplitterT=cD.WcSplitterT||{};cR=cq.Attrs=cq.Attrs||{};cS=cR.Dyn=cR.Dyn||{};cT=bf.Layout=bf.Layout||{};cU=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};cV=a.Error;cW=l.OperationCanceledException=l.OperationCanceledException||{};cX=l.CancellationTokenSource=l.CancellationTokenSource||{};cY=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};cZ=L.Updates=L.Updates||{};c0=c.Hoverable=c.Hoverable||{};c1=c0.Hoverable=c0.Hoverable||{};c2=a.Event;c3=a.UIEvent;c4=bf.Measures=bf.Measures||{};c5=bt.HashSetUtil=bt.HashSetUtil||{};c6=l.FormatException=l.FormatException||{};c7=cr.Prepare=cr.Prepare||{};c8=bt.KeyCollection=bt.KeyCollection||{};c9=L.An=L.An||{};c_=cq.Settings=cq.Settings||{};c$=b5.Mailbox=b5.Mailbox||{};da=l.Queue=l.Queue||{};db=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};dc=l.AggregateException=l.AggregateException||{};dd=cq.Docs=cq.Docs||{};de=dd.RunState=dd.RunState||{};df=dd.NodeSet=dd.NodeSet||{};dg=L.Anims=L.Anims||{};dh=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};di=L.String=L.String||{};dj=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};dk=L.AppendList=L.AppendList||{};dl=l.Char=l.Char||{};dm=L.Easing=L.Easing||{};dn=b5.HashSet=b5.HashSet||{};_do=dd.DomNodes=dd.DomNodes||{};dp=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};dq=a.IntelliFactory;dr=dq&&dq.Runtime;ds=a.console;dt=a.Date;du=a.Math;dv=a.jQuery;dw=a.JSON;dx=a.Reflect;d.newVar=function(dy){return o.New(dy,a.ignore,null,null,N.Const(false),null,null);};d.loader=function(){Q.$cctor();return Q.loader;};d.render=function(dy){var dz;return bl.Async((dz=null,b2.Delay(function(){return b2.Bind(d.loader(),function(){return b2.Return(bl.Element("div",[b3.OnAfterRenderImpl(function(dA){var dB,dC;dB=(dC=dA.parentElement,self.monaco.editor.create(dC,dy.options,dy.overrides));S.addResizeObserver$1(function(){dB.layout();},dA.parentElement);dA.parentNode.removeChild(dA);dy.editorO={$:1,$0:dB};(V.iter(function(dD){dD(dB);}))(dy.onRender);W.bindVarEditor(function(dD){dB.onDidChangeModelContent(dD);},function(){return dB.getValue();},function(dD){dB.setValue(dD);},dy.onChange,dy["var"]);})],[]));});})));};d.setVar=function(dy,dz){return o.New(dy,dz.onChange,dz.onRender,dz.editorO,dz.disabled,dz.options,dz.overrides);};d.onChange=function(dy,dz){return o.New(dz["var"],dy,dz.onRender,dz.editorO,dz.disabled,dz.options,dz.overrides);};d.onRender=function(dy,dz){return o.New(dz["var"],dz.onChange,{$:1,$0:dy},dz.editorO,dz.disabled,dz.options,dz.overrides);};d.disabled=function(dy,dz){return o.New(dz["var"],dz.onChange,dz.onRender,dz.editorO,dy,dz.options,dz.overrides);};d["var"]=function(dy){return dy["var"];};d.newText=function(dy){return d.newVar(X.Create$1(dy));};d.newVarO=function(dy){var dz;dz=d.newVar(X.Lens(dy,function(dA){return dA==null?"":dA.$0;},function(dA,dB){return dA==null?null:{$:1,$0:dB};}));return d.disabled(N.Map(function(dA){return dA==null;},dy.get_View()),dz);};e.New=function(dy,dz){return{column:dy,lineNumber:dz};};f.New=function(dy,dz,dA,dB){return{startColumn:dy,endColumn:dz,startLineNumber:dA,endLineNumber:dB};};g.New=function(dy,dz){return{range:dy,uri:dz};};h.New=function(dy,dz){return{value:dy,isTrusted:dz};};i.New=function(dy,dz,dA,dB,dC,dD){return{startColumn:dy,endColumn:dz,startLineNumber:dA,endLineNumber:dB,severity:dC,message:dD};};j.New=function(dy,dz,dA){return{kind:dy,label:dz,detail:dA};};k.New=function(dy,dz){return{contents:dy,range:dz};};m=l.Obj=dr.Class({Equals:function(dy){return this===dy;},GetHashCode:function(){return -1;}},null,m);m.New=dr.Ctor(function(){},m);n=d.Editor=dr.Class({},m,n);n.New=dr.Ctor(function(){m.New.call(this);},n);o.New=function(dy,dz,dA,dB,dC,dD,dE){return{"var":dy,onChange:dz,onRender:dA,editorO:dB,disabled:dC,options:dD,overrides:dE};};p.iterEditor=function(dy,dz){var dA;dA=dy.editorO;dA!=null&&dA.$==1?dz(dA.$0):void 0;};p.mapEditor=function(dy,dz){var dA;dA=dy.editorO;return dA!=null&&dA.$==1?{$:1,$0:dz(dA.$0)}:null;};p.bindEditor=function(dy,dz){var dA;dA=dy.editorO;return dA!=null&&dA.$==1?dz(dA.$0):null;};p.posGen2Ed=function(dy){return e.New(dy.col,dy.line);};p.posEd2Gen=function(dy){return Z.New(dy.lineNumber,dy.column);};p.indexFromPos=function(dy,dz){var dA;dA=p.mapEditor(dy,function(dB){return dB.getModel().getOffsetAt(p.posGen2Ed(dz));});return dA==null?-1:dA.$0;};p.posFromIndex=function(dy,dz){var dA;dA=p.mapEditor(dy,function(dB){return p.posEd2Gen(dB.getModel().getPositionAt(dz));});return dA==null?Z.New(1,1):dA.$0;};p.convertGlyphChar=function(dy){return dy==="C"?6:dy==="E"?12:dy==="S"?11:dy==="I"?7:dy==="N"?8:dy==="M"?1:dy==="P"?9:dy==="F"?4:dy==="T"?6:dy==="K"?13:0;};p.generateDoc=function(dy,dz,dA){var dB;return bl.Async((dB=null,b2.Delay(function(){return b2.Bind(d.loader(),function(){return b2.Return(bl.Element("div",[b3.OnAfterRenderImpl(function(dC){var dD,dE;dD=(dE=dC.parentElement,self.monaco.editor.create(dE,dy.options,dy.overrides));S.addResizeObserver$1(function(){dD.layout();},dC.parentElement);dC.parentNode.removeChild(dC);dy.editorO={$:1,$0:dD};dA(dD);dD.onDidChangeModelContent(dy.onChange);(V.iter(function(dF){var dG;dG=new s.New(dF(dz));self.monaco.languages.registerHoverProvider("fsharp",dG);}))(dz.toolTip);(V.iter(function(dF){var dG;dG=new t.New(dF(dz));self.monaco.languages.registerDefinitionProvider("fsharp",dG);}))(dz.declaration);(V.iter(function(dF){var dG;dG=new r.New(dF(dz));self.monaco.languages.registerCompletionItemProvider("fsharp",dG);}))(dz.autoCompletion);})],[]));});})));};p.getUri=function(dy){var dz;dz=p.mapEditor(dy,function(dA){return a.String(dA.getModel().uri);});return dz==null?"":dz.$0;};p.setUri=function(dy,dz){p.iterEditor(dy,function(dA){dA.getModel().uri=self.monaco.Uri.parse(dz);});};p.getValue=function(dy){var dz;dz=p.mapEditor(dy,function(dA){return dA.getValue();});return dz==null?"":dz.$0;};p.setValue=function(dy,dz){p.iterEditor(dy,function(dA){dA.setValue(dz);});};p.getWordAt=function(dy,dz){return p.bindEditor(dy,function(dA){var dB;dB=dA.getModel().getWordAtPosition(e.New(dz.col,dz.line));return!dB?null:{$:1,$0:[dB.word,Z.New(dz.line,dB.startColumn)]};});};p.getSelect=function(dy){var dz;dz=p.mapEditor(dy,function(dA){var dB;dB=dA.getSelection();return dA.getModel().getValueInRange(dB);});return dz==null?"":dz.$0;};p.showAnnotations=function(dy,dz){p.iterEditor(dy,function(dA){var dB,dC;dB=_3.ofSeq(_6.map(function(dD){var dE;return i.New(dD.startP.col,dD.endP.col,dD.startP.line,dD.endP.line,(dE=dD.severity,dE.$==0?8:dE.$==1?4:dE.$==3?1:2),dD.message);},dz));dC=dA.getModel();self.monaco.editor.setModelMarkers(dC,"annotations",dB);});};p.newHook=function(dy){function dz(dA,dB){return p.generateDoc(dy,dA,dB);}return _7.New(function(dA){return function(dB){return dz(dA,dB);};},function(){return p.getValue(dy);},function(dA){p.setValue(dy,dA);},a.ignore,function(dA){p.showAnnotations(dy,dA);},function(dA){return p.posFromIndex(dy,dA);},function(dA){return p.indexFromPos(dy,dA);},function(dA){return p.getWordAt(dy,dA);},function(){return p.getSelect(dy);},function(){return p.getUri(dy);},function(dA){p.setUri(dy,dA);},function(dA){dy.onChange=dA;});};p.newRT=function(dy,dz){return q.New(null,a.ignore,dy,dz);};p.newVar=function(dy,dz,dA){return W.newVar(p.newHook(p.newRT(dy,dz)),dA);};q.New=function(dy,dz,dA,dB){return{editorO:dy,onChange:dz,options:dA,overrides:dB};};r=p.CompletionItemProvider=dr.Class({provideCompletionItems:function(dy,dz,dA,dB){var dC,dD;dC=this;return _4.ofAsyncResultM((dD=_0.asyncResultM(),dD.Run(dD.Delay(function(){return _0["AsyncResultMBuilder.Bind"](dD,dC.autoComplete(Z.New(dz.lineNumber,dz.column)),function(dE){return dD.Return(_3.map(function(dF){return j.New(p.convertGlyphChar(dF.kind),dF.label,dF.detail);},dE));});}))));},resolveCompletionItem:function(dy,dz){return j.New(dy.kind,dy.label,"more details");}},m,r);r.New=dr.Ctor(function(dy){m.New.call(this);this.autoComplete=dy;},r);s=p.HoverProvider=dr.Class({provideHover:function(dy,dz,dA){var dB,dC;dB=this;return _4.ofAsyncResultM((dC=_0.asyncResultM(),dC.Run(dC.Delay(function(){return _0["AsyncResultMBuilder.Bind"](dC,dB.toolTip(Z.New(dz.lineNumber,dz.column)),function(dD){return dD!=null&&dD.$==1?dC.Return(k.New([h.New(dD.$0,true)],null)):dC.Return(null);});}))));}},m,s);s.New=dr.Ctor(function(dy){m.New.call(this);this.toolTip=dy;},s);t=p.DefinitionProvider=dr.Class({provideDefinition:function(dy,dz,dA){var dB,dC;dB=this;return _4.ofAsyncResultM((dC=_0.asyncResultM(),dC.Run(dC.Delay(function(){return _0["AsyncResultMBuilder.Bind"](dC,dB.declaration(Z.New(dz.lineNumber,dz.column)),function(dD){var dE;return dD!=null&&dD.$==1?(dE=dD.$0[0],dC.Return(g.New(f.New(dE.col,dE.col,dE.line,dE.line),self.monaco.Uri.parse(dD.$0[1])))):dC.Return(null);});}))));}},m,t);t.New=dr.Ctor(function(dy){m.New.call(this);this.declaration=dy;},t);v.htmlD=function(){Q.$cctor();return Q.htmlD;};v.startWithHtmlD=function(){Q.$cctor();return Q.startWithHtmlD;};w.disabled=function(dy){return b$.DynamicPred("disabled",dy,N.Const(""));};w.inputLabel=function(dy,dz,dA,dB){return bl.Element("div",dy,[bl.Element("div",[b3.Create("class","input-group")],[bl.Element("span",[b3.Create("class","input-group-addon")],[bl.TextNode(dA)]),bl.Input([b3.Create("class","form-control"),w.disabled(dz)],dB)])]);};w.areaLabel=function(dy,dz,dA,dB){return bl.Element("div",dy,[bl.Element("div",[b3.Create("class","input-group")],[bl.Element("span",[b3.Create("class","input-group-addon")],[bl.TextNode(dA)]),bl.InputArea([b3.Create("class","form-control"),w.disabled(dz)],X.Lens(dB,a.id,function(dC,dD){return dD;}))])]);};w.elemsUI=function(dy,dz){return bl.Element("div",[],[dy,bl.Button("New",[],dz)]);};w.lensFloat2Str=function(dy){var dz;function dA(dB){if(dB!=null&&dB.$==1)if(dB.$0!==dy.Get())dy.Set(dB.$0);}return new ca.New(N.Map(function(dB){return(function(dC){return function(dD){return dC($.prettyPrint(dD));};}(a.id))(dB);},dy.get_View()),(dz=_.parseDoubleO(),function(dB){return dA(dz(dB));}));};w.textLine=function(dy){return bl.Element("div",[],[bl.TextView(dy)]);};w.lensStrO=function(dy){return new ca.New(N.Map(function(dz){return dz!=null&&dz.$==1?dz.$0:"";},dy.get_View()),function(dz){if(dz==="")dy.Set(null);else dy.Set({$:1,$0:dz});});};w.mapVarO=function(dy,dz,dA){return new ca.New(N.Map(function(dB){return dB==null?null:{$:1,$0:dy(dB.$0)};},dA.get_View()),function(dB){var dC;function dD(dF){return{$:1,$0:dF};}function dE(dF){dA.Set(dF);}if(dB!=null&&dB.$==1){dC=dz(dB.$0);(V.iter(function(dF){return dE(dD(dF));}))(dC);}else dA.Set(null);});};w.selectorLens=function(dy,dz){function dA(dB){return w.mapVarO(dy,dz,dB);}return function(dB){return w.lensStrO(dA(dB));};};w.selectorLensInt=function(dy){return(w.selectorLens(a.String,_.parseIntO()))(dy);};w.selectorLensGuid=function(dy){return(w.selectorLens(a.String,_.parseGuidO()))(dy);};w.selectorLensGuidId=function(dy){var dz,dA;function dB(dC){return new ba({$:0,$0:dC});}return(w.selectorLens(function(dC){var dD;dD=dC.get_Id();return a.String(dD);},(dz=_.parseGuidO(),(dA=function(dC){return dC==null?null:{$:1,$0:dB(dC.$0)};},function(dC){return dA(dz(dC));}))))(dy);};w.unselectorV=function(){Q.$cctor();return Q.unselectorV;};w.simpleButton=function(dy,dz){function dA(dB){}return bl.Button(dy,[],function(dB){return dA(dz(dB));});};w.newButton=function(dy){return w.simpleButton("New",dy);};w.orderedList=function(dy){return bl.Element("ol",[],[dy]);};x.plugin=function(){Q.$cctor();return Q.plugin;};x.addPlugIn2=function(dy){var dz;bb.addPlugIn(dy);dz=_6.tryHead(dy.plgDocs);dz!=null&&dz.$==1?bb.mainDocV().Set(dy.plgName+"."+dz.$0.docName):void 0;};x.concatMainDocs=function(dy){return bl.Concat(_6.choose(function(dz){return dz.docDoc.$==0?{$:1,$0:dz.docDoc.$0.f()}:null;},_6.choose(function(dz){return _6.tryHead(dz.plgDocs);},dy)));};y=x.PlugInBuilder=dr.Class({Zero:function(){var dy;dy=bb.defaultPlugIn();return bc.New("Main",dy.plgVars,dy.plgViews,dy.plgDocs,dy.plgActions,dy.plgQueries);},Yield:function(){return this.Zero();},For:function(dy,dz){var dA;dA=b9.Get(dy);while(dA.MoveNext())dz(dA.Current());},Name:function(dy,dz){return bc.New(dz,dy.plgVars,dy.plgViews,dy.plgDocs,dy.plgActions,dy.plgQueries);},AddVar:function(dy,dz,dA){dy.plgVars.Append(bb.newVar(dz,dA));return dy;},AddDoc:function(dy,dz,dA){dy.plgDocs.Append(bb.newDoc(dz,dA));return dy;},AddDocF:function(dy,dz,dA){dy.plgDocs.Append(bb.newDoc(dz,be.Create(function(){return bf.turnToView(dA);})));return dy;},AddAct:function(dy,dz,dA){dy.plgActions.Append(bb.newAct(dz,dA));return dy;},AddActO:function(dy,dz,dA){dA==null?void 0:dy.plgActions.Append(bb.newAct(dz,dA.$0));return dy;},AddViw:function(dy,dz,dA){dy.plgViews.Append(bb.newViw(dz,dA));},Merge:function(dy,dz,dA){dy.plgVars.AppendMany(_6.map(function(dB){return bg.New(dz+dB.varName,dB.varVar);},dA.plgVars));dy.plgViews.AppendMany(_6.map(function(dB){return bh.New(dz+dB.viwName,dB.viwView);},dA.plgViews));dy.plgDocs.AppendMany(_6.map(function(dB){return bi.New(dz+dB.docName,dB.docDoc);},dA.plgDocs));dy.plgActions.AppendMany(_6.map(function(dB){return bj.New(dz+dB.actName,dB.actFunction,dB.actEnabled);},dA.plgActions));dy.plgQueries.AppendMany(_6.map(function(dB){return bk.New(dz+dB.qryName,dB.qryFunction);},dA.plgQueries));return dy;}},m,y);y.New=dr.Ctor(function(){m.New.call(this);},y);z=x.ListModelData=dr.Class({PlugIn:function(dy){var dz,dA,dB;function dC(dD){}dz=this;dA=x.plugin();return dA.AddAct(dA.AddAct(dA.AddVar(dA.AddDoc(dA.Yield(),"list",be.Create(function(){return dz.doc;})),"sel",dy(this.selV)),"add",(dB=this.add,function(dD){return dC(dB(dD));})),"del",this.delCur);},get_CurrentW:function(){var dy,dz,dA,dB,dC,dD;return N.Map((dy=function(dE){return dE==null?null:a.id(dE.$0);},(dz=(dA=this.def,function(dE){return dE==null?dA:dE.$0;}),function(dE){return dz(dy(dE));})),N.Bind((dB=(dC=(dD=this.elems,function(dE){return dD.TryFindByKeyAsView(dE);}),function(dE){return dE==null?null:{$:1,$0:dC(dE.$0)};}),function(dE){return bm.insertWO(dB(dE));}),this.selV.get_View()));},get_CurrentV:function(){var dy;dy=this;return new ca.New(this.get_CurrentW(),function(dz){var dA;dA=dy.selV.Get();dA!=null&&dA.$==1?dy.elems.ContainsKey(dA.$0)?dy.elems.Append(dz):void 0:void 0;});}},null,z);z.New=function(dy,dz,dA,dB,dC,dD){return new z({elems:dy,doc:dz,selV:dA,add:dB,delCur:dC,def:dD});};A.addLayout0=function(dy){bf.addLayout(dy);bb.mainDocV().Set(dy.lytName);};B.MapLens=function(dy,dz,dA){function dB(dD,dE){return dz(dD,dA.Lens(dD));}function dC(dD,dE){return _3.filter(dE,dD);}return dy!=null&&dy.$==1?N.MapSeqCachedViewBy(dA.key,dB,(((dr.Curried3(N.Map2))(dC))(dA["var"].get_View()))(dy.$0)):N.MapSeqCachedViewBy(dA.key,dB,dA["var"].get_View());};C.getDocFor=function(dy,dz,dA,dB,dC){var dD,dE,dF,dG,dH,dI;function dJ(dM){var dN;return dM!=null&&dM.$==1&&(dy.ContainsKey(dM.$0)&&(dN=dM.$0,true))?{$:1,$0:dN}:null;}function dK(dM){if(!P.Equals(dE.Get(),dM))dE.Set(dM);}function dL(dM,dN){dF.Set(null);return dy.RemoveByKey(dM);}dD=dy.key;dE=X.Create$1(null);dF=new ca.New((dG=N.get_Do(),N.Bind(function(dM){var dN;return dM!=null&&dM.$==1?(dN=dM.$0,N.Bind(function(dO){return!dO?N.Const(null):N.Const({$:1,$0:dN});},dy.ContainsKeyAsView(dN))):N.Const(null);},dE.get_View())),function(dM){return dK(dJ(dM));});dH=z.New(dy,bl.get_Empty(),dF,function(){var dM;dM=dA();dy.Append(dM);dF.Set({$:1,$0:dD(dM)});return dM;},function(){var dM;dM=dF.Get();(V.iter(function(dN){dL(dN,null);}))(dM);},dz);dI=dC(dH);return z.New(dH.elems,bl.Convert(a.id,B.MapLens(dB,function(dM,dN){return(dI(N.Const({$:1,$0:dM})))(dN);},dy)),dH.selV,dH.add,dH.delCur,dH.def);};C.getDoc=function(dy,dz,dA,dB,dC){return C.getDocFor(bd.Create(dy,bq.Empty),dz,dA,dB,dC);};C.addElements=function(dy,dz){dy.elems.AppendMany(dz);};D.addNewO=function(dy,dz,dA){var dB;dB=dz;return function(){var dC;dC=[dB,dy()];dB=dA(dB);return dC;};};D.elemUI2=function(dy,dz,dA,dB){function dC(dD,dE){return[dD,dE];}return dy(dz,dA,X.Lens(dB,function(dD){return dD[1];},function(dD,dE){return(function(dF){var dG;dG=dF[0];return function(dH){return dC(dG,dH);};}(dD))(dE);}));};D.getDocInt=function(dy,dz,dA){function dB(dC,dD,dE){return D.elemUI2(dA,dC,dD,dE);}return C.getDoc(function(dC){return dC[0];},[-1,dy],D.addNewO(dz,0,function(dC){return 1+dC;}),null,dr.Curried3(dB));};D.getDocGuid=function(dy,dz,dA){function dB(dC,dD,dE){return D.elemUI2(dA,dC,dD,dE);}return C.getDoc(function(dC){return dC[0];},["00000000-0000-0000-0000-000000000000",dy],D.addNewO(dz,bs.NewGuid(),function(){return bs.NewGuid();}),null,dr.Curried3(dB));};D.getDocGuidId=function(dy,dz,dA){var dB;function dC(dD,dE,dF){return D.elemUI2(dA,dD,dE,dF);}dB=D.addNewO(dz,new ba({$:0,$0:bs.NewGuid()}),function(){return new ba({$:0,$0:bs.NewGuid()});});return C.getDoc(function(dD){return dD[0];},[new ba({$:0,$0:"00000000-0000-0000-0000-000000000000"}),dy],dB,null,dr.Curried3(dC));};D.addElements=function(dy,dz){_6.iter(function(dA){dy.elems.Append([(dy.add())[0],dA]);},dz);};E.html=function(){Q.$cctor();return Q.html$1;};F.set_drag=function(dy){Q.$cctor();Q.drag=dy;};F.drag=function(){Q.$cctor();return Q.drag;};F.setDragNone=function(){F.set_drag(G.DragNone);};F.setDragNode=function(dy){F.set_drag({$:1,$0:dy});};F.getDragNIdO=function(dy){var dz;return F.drag().$==1&&(!P.Equals(F.drag().$0,dy)&&(dz=F.drag().$0,true))?{$:1,$0:dz}:null;};G.DragNone={$:0};H.TemplateFileName=function(){Q.$cctor();return Q.TemplateFileName;};H.snippetsLM=function(){Q.$cctor();return Q.snippetsLM;};H.collapsedV=function(){Q.$cctor();return Q.collapsedV;};H.codeSnippetIdV=function(){Q.$cctor();return Q.codeSnippetIdV;};H.searchFor=function(){Q.$cctor();return Q.searchFor;};H.allPredecessors=function(){Q.$cctor();return Q.allPredecessors;};H.indPredIds=function(){Q.$cctor();return Q.indPredIds;};H.allCodePredsW=function(){Q.$cctor();return Q.allCodePredsW;};H.allCodePredIdsW=function(){Q.$cctor();return Q.allCodePredIdsW;};H.shdDef=function(){Q.$cctor();return Q.shdDef;};H.processHier=function(dy,dz){var dA,dB,dC,dD,dE;dC=new bu.New$5();dA=[];dB=0;dD=_6.indexed(dy);dE=b9.Get(dD);try{while(dE.MoveNext())(function(){var dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ;function dR(dS,dT){return P.Equals(dT,dK);}dF=dE.Current();dG=dF[1][0];dH=dF[1][1];dI=dF[0];dJ=dH!=null&&dH.$==1?(dK=dH.$0,(dL=_6.tryFind(function(dS){return dR(dS[0],dS[1]);},_6.indexed(dA)),dL!=null&&dL.$==1?(dM=dL.$0[0],[dM+1,bv.array(dA,{$:1,$0:0},{$:1,$0:dM}),null]):[0,[],{$:1,$0:(function(dS){return function(dT){return dS("Parent not found in path "+$.prettyPrint(dT));};}(a.id))(dK)}])):[0,[],null];dN=dJ[1];dO=dJ[0];dC.Add(dG,I.New(dO,dI,(dP=(dQ=_6.tryItem(dI+1,dy),dQ==null?null:{$:1,$0:P.Equals({$:1,$0:dG},dQ.$0[1])}),dP==null?false:dP.$0),dB>=dO,dN,dJ[2]));dA=dN.concat([dG]);return dB>=dO?void(dB=dz.Contains(dG)?dO:dO+1):null;}());}finally{if(typeof dE=="object"&&"Dispose"in dE)dE.Dispose();}return dC;};H.snpIdParentsW=function(){Q.$cctor();return Q.snpIdParentsW;};H.processHierW=function(){Q.$cctor();return Q.processHierW;};H.docWrap=function(dy,dz){return(dy([]))([dz]);};H.moveNode=function(dy,dz){N.Get(function(dA){var dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN;dB=(dC=null,dA.TryGetValue(dy,{get:function(){return dC;},set:function(dO){dC=dO;}})?{$:1,$0:dC}:null);dD=(dE=null,dA.TryGetValue(dz,{get:function(){return dE;},set:function(dO){dE=dO;}})?{$:1,$0:dE}:null);dF=H.snippetsLM().TryFindByKey(dy);dG=H.snippetsLM().TryFindByKey(dz);dB!=null&&dB.$==1?dD!=null&&dD.$==1?dF!=null&&dF.$==1?dG!=null&&dG.$==1?(dH=dB.$0,dI=dF.$0,dJ=dD.$0,_6.contains(dy,dJ.path)?void 0:(dK=_3.ofSeq((H.snippetsLM())["var"].Get()),dL=function(dO){var dP,dQ,dR;while(true){dQ=_3.tryItem(dO+1,dK);if(dQ!=null&&dQ.$==1){dR=(dP=null,dA.TryGetValue(dQ.$0.snpId,{get:function(){return dP;},set:function(dS){dP=dS;}})?{$:1,$0:dP}:null);if(dR!=null&&dR.$==1){if(_6.contains(dy,dR.$0.path))dO=dO+1;else return dO;}else return dO;}else return dO;}}(dH.pos),dM=bx.New(dI.snpId,dI.snpName,dI.snpContent,dG.$0.snpParentIdO,dI.snpPredIds,dI.snpProperties,dI.snpModified),dN=_3.concat(dH.pos<dJ.pos?[bv.array(dK,{$:1,$0:0},{$:1,$0:dH.pos-1}),bv.array(dK,{$:1,$0:dL+1},{$:1,$0:dJ.pos-1}),[dM],bv.array(dK,{$:1,$0:dH.pos+1},{$:1,$0:dL}),bv.array(dK,{$:1,$0:dJ.pos},null)]:[bv.array(dK,{$:1,$0:0},{$:1,$0:dJ.pos-1}),[dM],bv.array(dK,{$:1,$0:dH.pos+1},{$:1,$0:dL}),bv.array(dK,{$:1,$0:dJ.pos},{$:1,$0:dH.pos-1}),bv.array(dK,{$:1,$0:dL+1},null)]),H.snippetsLM().Set(dN))):void 0:void 0:void 0:void 0;},H.processHierW());};H.calcUI=function(dy,dz,dA){var dB,dC,dD;dB=N.Map(function(dE){return(H.indPredIds())(dE);},(dC=N.Apply(N.Map2(function(dE,dF){return function(dG){return[dE.snpId,dF.snpParentIdO,dG.snpPredIds];};},dA.get_CurrentV().get_View(),dA.get_CurrentV().get_View()),dA.get_CurrentV().get_View()),(dD=[X.Create$1(null)],(N.Sink(function(dE){if(!P.Equals(dD[0].Get(),dE))dD[0].Set(dE);},dC),dD[0].get_View()))));return function(dE){return function(dF){var dG,dH,dI,dJ,dK,dL,dM,dN,dO;N.Map(function(dP){return dP==null;},dE);dG=N.Map2(function(dP,dQ){var dR,dS,dT;dR=(dS=dQ.snpId,function(dU){var dV;dV=null;return dU.TryGetValue(dS,{get:function(){return dV;},set:function(dW){dV=dW;}})?{$:1,$0:dV}:null;}(dP));dT=H.shdDef();return dR==null?dT:dR.$0;},H.processHierW(),dF.get_View());return H.docWrap(dy,(dH=(dI=(dJ=(dK=(dL=(dM=bC.Make().WithHole({$:2,$0:"name",$1:N.Map2(function(dP,dQ){return(dP.errorO==null?a.id:function(dR){return function(dS){return dR("!"+$.toSafe(dS));};}(a.id))(dQ.snpName);},dG,dF.get_View())}).WithHole({$:2,$0:"selected",$1:N.Map2(function(dP,dQ){return P.Equals(dP,dQ)?"selected":"";},dA.selV.get_View(),dE)}).WithHole({$:2,$0:"predecessor",$1:N.Apply(N.Apply(N.Apply(N.Map2(function(dP,dQ){return dr.Curried3(function(dR,dS,dT){var dU;return dP!=null&&dP.$==1?(dU=dP.$0,(_6.contains(dU,dQ.snpPredIds)?"direct-predecessor":_6.contains(dU,dR)?"indirect-predecessor":_6.contains(dU,dS)?"included-predecessor":"")+(P.Equals(dT,dP)?" codeSnippet":"")):"";});},dE,dA.get_CurrentV().get_View()),dB),H.allCodePredIdsW()),H.codeSnippetIdV().get_View())}),dM.WithHole(bD.EventQ2(dM.k,"select",function(){return dM.i;},function(){var dP;N.Get((dP=dA.selV,function(dQ){dP.Set(dQ);}),dE);}))).WithHole({$:2,$0:"indent",$1:N.Map(function(dP){return a.String(1.5*dP.level);},dG)}).WithHole({$:2,$0:"parent",$1:N.Apply(N.Map2(function(dP,dQ){return function(dR){return dP.hasChildren?dQ.Contains(dR.snpId)?"collapsed":"expanded":"";};},dG,H.collapsedV().get_View()),dF.get_View())}),dL.WithHole(bD.EventQ2(dL.k,"togglecollapse",function(){return dL.i;},function(){N.Get(function(dP){var dQ;if(dP.hasChildren){dQ=((H.collapsedV().Get().Contains(dF.Get().snpId)?function(dR){return function(dS){return dS.Remove(dR);};}:function(dR){return function(dS){return dS.Add(dR);};})(dF.Get().snpId))(H.collapsedV().Get());H.collapsedV().Set(dQ);}},dG);}))),dK.WithHole(bD.EventQ2(dK.k,"drag",function(){return dK.i;},function(dP){N.Get(function(dQ){if(dQ!=null&&dQ.$==1){F.setDragNode(dQ.$0);dP.Event.stopPropagation();}},dE);}))),dJ.WithHole(bD.EventQ2(dJ.k,"dragover",function(){return dJ.i;},function(dP){N.Get(function(dQ){if(dQ!=null&&dQ.$==1)if(F.getDragNIdO(dQ.$0)!=null)dP.Event.preventDefault();},dE);}))),dI.WithHole(bD.EventQ2(dI.k,"drop",function(){return dI.i;},function(dP){dP.Event.preventDefault();N.Get(function(dQ){var dR,dS;if(dQ!=null&&dQ.$==1){dR=dQ.$0;dS=F.getDragNIdO(dR);(V.iter(function(dT){H.moveNode(dT,dR);}))(dS);}},dE);}))),(dN=bD.CompleteHoles(dH.k,dH.h,[]),(dO=new bB.New(dN[1],bE.snippet(dN[0])),(dH.i=dO,dO)))).get_Doc());};};};H.search=function(){Q.$cctor();return Q.search;};H.wrapNothing=function(dy){return bl.Concat;};H.snippetList=function(){Q.$cctor();return Q.snippetList;};H.currentSnippetV=function(){Q.$cctor();return Q.currentSnippetV;};H.currentSnippetNameV=function(){Q.$cctor();return Q.currentSnippetNameV;};H.currentSnippetContentV=function(){Q.$cctor();return Q.currentSnippetContentV;};H.curSnp=function(){Q.$cctor();return Q.curSnp;};H.selectorLensGuidId=function(dy){var dz;function dA(dB){return dB==null?null:{$:1,$0:bN.Tag$4(dB.$0)};}return(w.selectorLens(a.String,(dz=_.parseGuidO(),function(dB){return dA(dz(dB));})))(dy);};H.monacoNew=function(dy){return W.onRender(function(dz){var dA;dA=dz.editorO;(V.iter(function(dB){var dC;dC=dB.getModel();self.monaco.editor.setModelLanguage(dC,"fsharp");}))(dA);self.monaco.editor.setTheme("vs-dark");},p.newVar(function(){return{};},function(){return{};},dy));};H.monaco=function(){Q.$cctor();return Q.monaco;};H.addSnippet=function(){N.Get(function(dy){var dz,dA,dB,dC,dD,dE,dF;dz=_3.ofSeq((H.snippetsLM())["var"].Get());dA=H.snippetList().add();dB=H.currentSnippetV().Get().snpId;dC=(dD=null,dy.TryGetValue(dB,{get:function(){return dD;},set:function(dG){dD=dG;}})?{$:1,$0:dD}:null);dC!=null&&dC.$==1?(dE=function(dG){var dH,dI,dJ;while(true){dI=_3.tryItem(dG+1,dz);if(dI!=null&&dI.$==1){dJ=(dH=null,dy.TryGetValue(dI.$0.snpId,{get:function(){return dH;},set:function(dK){dH=dK;}})?{$:1,$0:dH}:null);if(dJ!=null&&dJ.$==1){if(_6.contains(dB,dJ.$0.path))dG=dG+1;else return dG;}else return dG;}else return dG;}}(dC.$0.pos),dF=_3.concat([bv.array(dz,{$:1,$0:0},{$:1,$0:dE}),[bx.New(dA.snpId,dA.snpName,dA.snpContent,H.currentSnippetV().Get().snpParentIdO,dA.snpPredIds,dA.snpProperties,dA.snpModified)],bv.array(dz,{$:1,$0:dE+1},null)]),H.snippetsLM().Set(dF)):void 0;},H.processHierW());};H.deleteSnippet=function(){N.Get(function(dy){var dz,dA,dB,dC,dD,dE,dF;dz=H.currentSnippetV().Get().snpId;dA=H.currentSnippetV().Get().snpParentIdO;dB=(dC=null,dy.TryGetValue(dz,{get:function(){return dC;},set:function(dG){dC=dG;}})?{$:1,$0:dC}:null);dB!=null&&dB.$==1?(dD=dB.$0,dE=_3.ofSeq((H.snippetsLM())["var"].Get()),function(dG){var dH,dI,dJ,dK;while(true){dI=_3.tryItem(dG,dE);if(dI!=null&&dI.$==1){dJ=dI.$0;if(P.Equals(dJ.snpParentIdO,{$:1,$0:dz})){_3.set(dE,dG,bx.New(dJ.snpId,dJ.snpName,dJ.snpContent,dA,dJ.snpPredIds,dJ.snpProperties,dJ.snpModified));dG=dG+1;}else{dK=(dH=null,dy.TryGetValue(dJ.snpId,{get:function(){return dH;},set:function(dL){dH=dL;}})?{$:1,$0:dH}:null);if(dK!=null&&dK.$==1){if(_6.contains(dz,dK.$0.path))dG=dG+1;else return null;}else return null;}}else return null;}}(dD.pos+1),dF=_3.concat([bv.array(dE,{$:1,$0:0},{$:1,$0:dD.pos-1}),bv.array(dE,{$:1,$0:dD.pos+1},null)]),H.snippetsLM().Set(dF)):void 0;},H.processHierW());};H.indentIn=function(){N.Get(function(dy){var dz,dA;dz=(dA=H.currentSnippetV().Get().snpId,function(dB){var dC;dC=null;return dB.TryGetValue(dA,{get:function(){return dC;},set:function(dD){dC=dD;}})?{$:1,$0:dC}:null;}(dy));(V.iter(function(dB){var dC,dD;dC=H.currentSnippetV().Get().snpParentIdO;dD=function(dE){var dF;while(true)if(dE===0)return null;else{dF=_6.nth(dE-1,(H.snippetsLM())["var"].Get());if(P.Equals({$:1,$0:dF.snpId},dC))return null;else if(P.Equals(dF.snpParentIdO,dC))return{$:1,$0:dF.snpId};else dE=dE-1;}}(dB.pos);(V.iter(function(dE){X.Lens(H.currentSnippetV(),function(dF){return dF.snpParentIdO;},function(dF,dG){return bx.New(dF.snpId,dF.snpName,dF.snpContent,dG,dF.snpPredIds,dF.snpProperties,dF.snpModified);}).Set({$:1,$0:dE});}))(dD);}))(dz);},H.processHierW());};H.indentOut=function(){N.Get(function(dy){var dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK;dz=H.currentSnippetV().Get().snpId;dA=(dB=null,dy.TryGetValue(dz,{get:function(){return dB;},set:function(dL){dB=dL;}})?{$:1,$0:dB}:null);dC=H.currentSnippetV().Get().snpParentIdO;dA!=null&&dA.$==1?dC!=null&&dC.$==1?(dD=dA.$0,dE=dC.$0,dF=_6.tryItem(_3.length(dD.path)-2,dD.path),!P.Equals({$:1,$0:dE},dF)?(X.Lens(H.currentSnippetV(),function(dL){return dL.snpParentIdO;},function(dL,dM){return bx.New(dL.snpId,dL.snpName,dL.snpContent,dM,dL.snpPredIds,dL.snpProperties,dL.snpModified);}).Set(dF),dG=_3.ofSeq((H.snippetsLM())["var"].Get()),dH=function(dL,dM){var dN,dO,dP,dQ;while(true){dO=_3.tryItem(dM+1,dG);if(dO!=null&&dO.$==1){dP=(dN=null,dy.TryGetValue(dO.$0.snpId,{get:function(){return dN;},set:function(dR){dN=dR;}})?{$:1,$0:dN}:null);if(dP!=null&&dP.$==1){dQ=dP.$0;if(_6.contains(dz,dQ.path)){dL=dM+1;dM=dM+1;}else if(_6.contains(dE,dQ.path))dM=dM+1;else return{$:1,$0:[dL,dM]};}else return null;}else return null;}}(dD.pos,dD.pos),dH!=null&&dH.$==1?(dI=dH.$0[1],dJ=dH.$0[0],dK=_3.concat([bv.array(dG,{$:1,$0:0},{$:1,$0:dD.pos-1}),bv.array(dG,{$:1,$0:dJ+1},{$:1,$0:dI}),bv.array(dG,{$:1,$0:dD.pos},{$:1,$0:dJ}),bv.array(dG,{$:1,$0:dI+1},null)]),H.snippetsLM().Set(dK)):void 0):void 0):void 0:void 0;},H.processHierW());};H.main=function(){var dy;dy=v.startWithHtmlD();(bO.resolver(bp.ofArray([["AppFrameworkTemplate.html",bP.html()+E.html()]]),dy))();};I.New=function(dy,dz,dA,dB,dC,dD){return{level:dy,pos:dz,hasChildren:dA,visible:dB,path:dC,errorO:dD};};J.loadTextFile=function(dy){var dz,dA;dz=dy.files;dz.length>0?(dA=new bF(),dA.onload=function(dB){var dC,dD;try{dC=(dD=dB.target.result,(bI.deserializeWithDefs((bJ.serModel())[0],(bJ.serModel())[1]))(dD));return(V.iter(function(dE){H.snippetsLM().Set(dE.snippets);H.collapsedV().Set(dE.collapsed);}))(dC);}catch(dE){a.alert(a.String(dE));return(function(dF){return function(dG){return dF($.prettyPrint(dG));};}(function(dF){ds.log(dF);}))(dE);}},dA.readAsText(dz.item(0))):void 0;};J.saveAs=function(){var dy;a.saveAs(new a.Blob([(dy=bJ.getModel((H.snippetsLM())["var"].Get(),dt.now(),H.collapsedV().Get()),(bJ.serModel())[0](dy))],{type:"text/plain;charset=utf-8"}),"noname.snippets");};K.TryParseInt32=function(dy,dz){return K.TryParse(dy,-2147483648,2147483647,dz);};M=L.Var=dr.Class({},m,M);M.New=dr.Ctor(function(){m.New.call(this);},M);N=L.View=dr.Class({},null,N);O.toInt=function(dy){var dz;dz=O.toUInt(dy);return dz>=2147483648?dz-4294967296:dz;};O.FailWith=function(dy){throw new cV(dy);};O.range=function(dy,dz){var dA;dA=1+dz-dy;return dA<=0?[]:_6.init(dA,function(dB){return dB+dy;});};O.toUInt=function(dy){return(dy<0?du.ceil(dy):du.floor(dy))>>>0;};O.KeyValue=function(dy){return[dy.K,dy.V];};N.Const=function(dy){var dz;dz=bQ.New({$:0,$0:dy});return function(){return dz;};};N.Map=function(dy,dz){return N.CreateLazy(function(){return bQ.Map(dy,dz());});};N.Bind=function(dy,dz){return N.Join(N.Map(dy,dz));};N.Map2=function(dy,dz,dA){return N.CreateLazy(function(){return bQ.Map2(dy,dz(),dA());});};N.MapSeqCachedViewBy=function(dy,dz,dA){var dB;dB=[new bu.New$5()];return N.Map(function(dC){var dD,dE,dF;dD=dB[0];dE=new bu.New$5();dF=cg.mapInPlace(function(dG){var dH,dI,dJ;dH=dy(dG);dI=dD.ContainsKey(dH)?(dJ=dD.get_Item(dH),(X.Set(dJ.r,dG),dJ)):N.ConvertSeqNode(function(dK){return dz(dH,dK);},dG);dE.set_Item(dH,dI);return dI.e;},_3.ofSeq(dC));dB[0]=dE;return dF;},dA);};N.get_Do=function(){return bo.B;};N.Get=function(dy,dz){var dA;function dB(){bQ.WhenRun(dz(),function(dC){if(!dA[0]){dA[0]=true;dy(dC);}},function(){if(!dA[0])dB();});}dA=[false];dB();};N.Apply=function(dy,dz){return N.Map2(function(dA,dB){return dA(dB);},dy,dz);};N.Sink=function(dy,dz){function dA(){bQ.WhenRun(dz(),dy,function(){b2.scheduler().Fork(dA);});}b2.scheduler().Fork(dA);};N.CreateLazy=function(dy){var dz;dz={c:null,o:dy};return function(){var dA,dB;dA=dz.c;return dA===null?(dA=dz.o(),dz.c=dA,(dB=dA.s,dB!=null&&dB.$==0)?dz.o=null:bQ.WhenObsoleteRun(dA,function(){dz.c=null;}),dA):dA;};};N.Join=function(dy){return N.CreateLazy(function(){return bQ.Join(dy());});};N.ConvertSeqNode=function(dy,dz){var dA,dB;dA=X.Create$1(dz);dB=dA.get_View();return{e:dy(dB),r:dA,w:dB};};N.MapAsync=function(dy,dz){return N.CreateLazy(function(){return bQ.MapAsync(dy,dz());});};N.TryGet=function(dy){return bQ.TryGet(dy());};N.Map2Unit=function(dy,dz){return N.CreateLazy(function(){return bQ.Map2Unit(dy(),dz());});};N.MapSeqCached=function(dy,dz){return N.MapSeqCachedBy(a.id,dy,dz);};N.MapSeqCachedBy=function(dy,dz,dA){var dB;dB=[new bu.New$5()];return N.Map(function(dC){var dD,dE,dF;dD=dB[0];dE=new bu.New$5();dF=cg.mapInPlace(function(dG){var dH,dI;dH=dy(dG);dI=dD.ContainsKey(dH)?dD.get_Item(dH):dz(dG);dE.set_Item(dH,dI);return dI;},_3.ofSeq(dC));dB[0]=dE;return dF;},dA);};N.Map3=function(dy,dz,dA,dB){return N.CreateLazy(function(){return bQ.Map3(dy,dz(),dA(),dB());});};N.Sequence=function(dy){return N.CreateLazy(function(){return bQ.Sequence(_6.map(function(dz){return dz();},dy));});};P.Equals=function(dy,dz){var dA,dB,dC,dD;if(dy===dz)return true;else{dA=typeof dy;if(dA=="object"){if(dy===null||dy===void 0||dz===null||dz===void 0)return false;else if("Equals"in dy)return dy.Equals(dz);else if(dy instanceof a.Array&&dz instanceof a.Array)return P.arrayEquals(dy,dz);else if(dy instanceof dt&&dz instanceof dt)return P.dateEquals(dy,dz);else{dB=[true];for(var dE in dy)if(function(dF){dB[0]=!dy.hasOwnProperty(dF)||dz.hasOwnProperty(dF)&&P.Equals(dy[dF],dz[dF]);return!dB[0];}(dE))break;if(dB[0]){for(var dF in dz)if(function(dG){dB[0]=!dz.hasOwnProperty(dG)||dy.hasOwnProperty(dG);return!dB[0];}(dF))break;}return dB[0];}}else return dA=="function"&&("$Func"in dy?dy.$Func===dz.$Func&&dy.$Target===dz.$Target:"$Invokes"in dy&&"$Invokes"in dz&&P.arrayEquals(dy.$Invokes,dz.$Invokes));}};P.arrayEquals=function(dy,dz){var dA,dB;if(_3.length(dy)===_3.length(dz)){dA=true;dB=0;while(dA&&dB<_3.length(dy)){!P.Equals(_3.get(dy,dB),_3.get(dz,dB))?dA=false:void 0;dB=dB+1;}return dA;}else return false;};P.dateEquals=function(dy,dz){return dy.getTime()===dz.getTime();};P.Hash=function(dy){var dz;dz=typeof dy;return dz=="function"?0:dz=="boolean"?dy?1:0:dz=="number"?dy:dz=="string"?P.hashString(dy):dz=="object"?dy==null?0:dy instanceof a.Array?P.hashArray(dy):P.hashObject(dy):0;};P.Compare=function(dy,dz){var dA,dB,dC,dD,dE,dF;if(dy===dz)return 0;else{dB=typeof dy;switch(dB=="function"?1:dB=="boolean"?2:dB=="number"?2:dB=="string"?2:dB=="object"?3:0){case 0:return typeof dz=="undefined"?0:-1;case 1:return O.FailWith("Cannot compare function values.");case 2:return dy<dz?-1:1;case 3:if(dy===null)dC=-1;else if(dz===null)dC=1;else if("CompareTo"in dy)dC=dy.CompareTo(dz);else if("CompareTo0"in dy)dC=dy.CompareTo0(dz);else if(dy instanceof a.Array&&dz instanceof a.Array)dC=P.compareArrays(dy,dz);else if(dy instanceof dt&&dz instanceof dt)dC=P.compareDates(dy,dz);else{dD=[0];for(var dG in dy)if(function(dH){return!dy.hasOwnProperty(dH)?false:!dz.hasOwnProperty(dH)?(dD[0]=1,true):(dD[0]=P.Compare(dy[dH],dz[dH]),dD[0]!==0);}(dG))break;if(dD[0]===0){for(var dH in dz)if(function(dI){return!dz.hasOwnProperty(dI)?false:!dy.hasOwnProperty(dI)&&(dD[0]=-1,true);}(dH))break;}dC=dD[0];}return dC;}}};P.hashString=function(dy){var dz,dA,dB;if(dy===null)return 0;else{dz=5381;for(dA=0,dB=dy.length-1;dA<=dB;dA++)dz=P.hashMix(dz,dy[dA].charCodeAt());return dz;}};P.hashArray=function(dy){var dz,dA,dB;dz=-34948909;for(dA=0,dB=_3.length(dy)-1;dA<=dB;dA++)dz=P.hashMix(dz,P.Hash(_3.get(dy,dA)));return dz;};P.hashObject=function(dy){var dz,dA;if("GetHashCode"in dy)return dy.GetHashCode();else{dz=[0];for(var dB in dy)if(function(dC){dz[0]=P.hashMix(P.hashMix(dz[0],P.hashString(dC)),P.Hash(dy[dC]));return false;}(dB))break;return dz[0];}};P.compareArrays=function(dy,dz){var dA,dB;if(_3.length(dy)<_3.length(dz))return -1;else if(_3.length(dy)>_3.length(dz))return 1;else{dA=0;dB=0;while(dA===0&&dB<_3.length(dy)){dA=P.Compare(_3.get(dy,dB),_3.get(dz,dB));dB=dB+1;}return dA;}};P.compareDates=function(dy,dz){return P.Compare(dy.getTime(),dz.getTime());};P.hashMix=function(dy,dz){return(dy<<5)+dy+dz;};Q.$cctor=function(){var dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1,d2,d3,d4;Q.$cctor=a.ignore;function d5(d8){return d8+"T00:00:00";}function d6(d8){return H.snippetsLM().TryFindByKey(d8);}function d7(d8){return H.snippetsLM().TryFindByKey(d8);}Q.rtn=function(d8){return[d8];};Q.result=new bS.New();Q.result$1=bR.result();Q.resultP=new bT.New();Q.depend=new bU.New();Q.resultM=new bW.New();Q.asyncResultM=new _2.New();Q.parseDateO2=(dy=_.tryParseWith$1(function(d8){var d9,d_;d9=0;return[(d_=co.TryParse(d8),d_!=null&&d_.$==1&&(d9=d_.$0,true)),d9];}),function(d8){return dy(d5(d8));});Q.parseDateO=_.tryParseWith$1(function(d8){var d9,d_;d9=0;return[(d_=co.TryParse(d8),d_!=null&&d_.$==1&&(d9=d_.$0,true)),d9];});Q.parseIntO=_.tryParseWith$1(function(d8){var d9;d9=0;return[K.TryParseInt32(d8,{get:function(){return d9;},set:function(d_){d9=d_;}}),d9];});Q.parseInt64O=_.tryParseWith$1(function(d8){var d9;d9=0;return[K.TryParseInt64(d8,{get:function(){return d9;},set:function(d_){d9=d_;}}),d9];});Q.parseSingleO=_.tryParseWith$1(function(d8){var d9,d_;d9=0;return[(d_=a.Number(d8),a.isNaN(d_)?false:(d9=d_,true)),d9];});Q.parseDoubleO=_.tryParseWith$1(function(d8){var d9,d_;d9=0;return[(d_=a.Number(d8),a.isNaN(d_)?false:(d9=d_,true)),d9];});Q.parseGuidO=_.tryParseWith$1(function(d8){var d9;d9=null;return[bs.TryParse(d8,{get:function(){return d9;},set:function(d_){d9=d_;}}),d9];});Q["|Date|_|"]=_.parseDateO$1();Q["|Int|_|"]=_.parseIntO$1();Q["|Int64|_|"]=_.parseInt64O$1();Q["|Single|_|"]=_.parseSingleO$1();Q["|Double|_|"]=_.parseDoubleO$1();Q["|Guid|_|"]=_.parseGuidO$1();Q.serString=[bX.toJsonString,function(d8){return d8.tryString();}];Q.serFloat=[function(d8){return(function(d9){return function(d_){return d9($.prettyPrint(d_));};}(a.id))(d8);},function(d8){return d8.tryFloat();}];Q.serInt=[function(d8){return(function(d9){return function(d_){return d9($.prettyPrint(d_));};}(a.id))(d8);},function(d8){var d9;d9=d8.tryInt();return d9==null?null:{$:1,$0:O.toInt(d9.$0)};}];Q.serInt64=[a.String,function(d8){return d8.tryInt();}];Q.serBool=[function(d8){return(function(d9){return function(d_){return d9($.prettyPrint(d_));};}(a.id))(d8);},function(d8){return d8.tryBool();}];Q.serDate=[function(d8){return a.String(a.id(d8));},function(d8){var d9;d9=d8.tryInt();return d9==null?null:{$:1,$0:d9.$0};}];Q.serTypedRegisters=new bu.New$5();Q.serGuid=(dz=bX.serString(),bX.mapO(a.String,_.parseGuidO$1(),dz[0],dz[1]));Q.defaultSnippet=bx.New(bN.Tag$4("00000000-0000-0000-0000-000000000000"),"","",null,new ck.New$1(null),[],(new dt(0)).getTime());Q.serSnippetId=(dA="SnippetId",[function(d8){var d9;d9=a.String(bN.Untag$4(d8));return(((dr.Curried3(function(d_,d$,ea){return d_("{"+$.prettyPrint(d$)+" :"+$.prettyPrint(ea)+"}");}))(a.id))(dA))(d9);},function(d8){var d9,d_,d$,ea;d9=(d_=(d$=d8.tryField(dA),d$==null?null:d$.$0.tryString()),(ea=_.parseGuidO$1(),d_==null?null:ea(d_.$0)));return d9==null?null:{$:1,$0:bN.Tag$4(d9.$0)};}]);Q.serSnippet=(dB=[(dC=bJ.serSnippetId(),bX.serField("snpId",function(d8){return d8.snpId;},function(d8,d9){return bx.New(d8,d9.snpName,d9.snpContent,d9.snpParentIdO,d9.snpPredIds,d9.snpProperties,d9.snpModified);},dC[0],dC[1])),(dD=bX.serString(),bX.serField("snpName",function(d8){return d8.snpName;},function(d8,d9){return bx.New(d9.snpId,d8,d9.snpContent,d9.snpParentIdO,d9.snpPredIds,d9.snpProperties,d9.snpModified);},dD[0],dD[1])),(dE=bX.serString(),bX.serField("snpContent",function(d8){return d8.snpContent;},function(d8,d9){return bx.New(d9.snpId,d9.snpName,d8,d9.snpParentIdO,d9.snpPredIds,d9.snpProperties,d9.snpModified);},dE[0],dE[1])),(dF=(dG=bJ.serSnippetId(),bX.serOpt(dG[0],dG[1])),bX.serField("snpParentIdO",function(d8){return d8.snpParentIdO;},function(d8,d9){return bx.New(d9.snpId,d9.snpName,d9.snpContent,d8,d9.snpPredIds,d9.snpProperties,d9.snpModified);},dF[0],dF[1])),(dH=(dI=bJ.serSnippetId(),bX.serSet(dI[0],dI[1])),bX.serField("snpPredIds",function(d8){return d8.snpPredIds;},function(d8,d9){return bx.New(d9.snpId,d9.snpName,d9.snpContent,d9.snpParentIdO,d8,d9.snpProperties,d9.snpModified);},dH[0],dH[1])),(dJ=(dK=bX.serDup(bX.serString(),bX.serString()),bX.serArr(dK[0],dK[1])),bX.serField("snpProperties",function(d8){return d8.snpProperties;},function(d8,d9){return bx.New(d9.snpId,d9.snpName,d9.snpContent,d9.snpParentIdO,d9.snpPredIds,d8,d9.snpModified);},dJ[0],dJ[1])),(dL=bX.serInt(),bX.serFieldO("snpGeneration",function(){return null;},function(d8,d9){return d8!=null&&d8.$==1?bx.New(d9.snpId,d9.snpName,d9.snpContent,d9.snpParentIdO,d9.snpPredIds,d9.snpProperties,(new dt(0)).getTime()+d8.$0*3600000):d9;},dL[0],dL[1])),(dM=bX.serDate(),bX.serField("snpModified",function(d8){return d8.snpModified;},function(d8,d9){return bx.New(d9.snpId,d9.snpName,d9.snpContent,d9.snpParentIdO,d9.snpPredIds,d9.snpProperties,d8);},dM[0],dM[1]))],(dN=bZ.New("","",null),[function(d8){var d9;function d_(d$,ea,eb){var ec,ed;ec=ea(d8);ed=((dr.Curried3(function(ee,ef,eg){return ee($.prettyPrint(ef)+": "+$.toSafe(eg));}))(a.id))(d$);return ec==null?null:{$:1,$0:ed(ec.$0)};}d9=cc.concat(", ",_6.choose(function(d$){return d_(d$[0],d$[1],d$[2]);},dB));return(function(d$){return function(ea){return d$("{"+$.toSafe(ea)+"}");};}(a.id))(d9);},function(d8){return{$:1,$0:_6.fold(function(d9,d_){var d$;d$=d8.tryField(d_[0]);return(d_[2](d9))(d$);},dN,dB)};}]));Q.serModel=(dO=[(dP=(dQ=bJ.serSnippet(),bX.serArr(dQ[0],dQ[1])),bX.serField("snippets",function(d8){return d8.snippets;},function(d8,d9){return bK.New(d8,d9.modified,d9.collapsed);},dP[0],dP[1])),(dR=bX.serInt(),bX.serFieldO("generation",function(){return null;},function(d8,d9){return d8!=null&&d8.$==1?bK.New(d9.snippets,(new dt(0)).getTime()+d8.$0*3600000,d9.collapsed):d9;},dR[0],dR[1])),(dS=bX.serDate(),bX.serField("modified",function(d8){return d8.modified;},function(d8,d9){return bK.New(d9.snippets,d8,d9.collapsed);},dS[0],dS[1])),(dT=(dU=bJ.serSnippetId(),bX.serSet(dU[0],dU[1])),bX.serField("collapsed",function(d8){return d8.collapsed;},function(d8,d9){return bK.New(d9.snippets,d9.modified,d8);},dT[0],dT[1]))],(dV=bK.New([],(new dt(0)).getTime(),new ck.New$1(null)),[function(d8){var d9;function d_(d$,ea,eb){var ec,ed;ec=ea(d8);ed=((dr.Curried3(function(ee,ef,eg){return ee($.prettyPrint(ef)+": "+$.toSafe(eg));}))(a.id))(d$);return ec==null?null:{$:1,$0:ed(ec.$0)};}d9=cc.concat(", ",_6.choose(function(d$){return d_(d$[0],d$[1],d$[2]);},dO));return(function(d$){return function(ea){return d$("{"+$.toSafe(ea)+"}");};}(a.id))(d9);},function(d8){return{$:1,$0:_6.fold(function(d9,d_){var d$;d$=d8.tryField(d_[0]);return(d_[2](d9))(d$);},dV,dO)};}]));Q.observers=bq.Empty;Q.loader=(dW=null,b2.Delay(function(){self.require.config({paths:{vs:"/EPFileX/monaco/package/min/vs"}});return b2.Bind(b2.FromContinuations(function(d8,d9){return self.require(["vs/editor/editor.main"],d8,d9);}),function(){return b2.Return(null);});}));Q.html="\r\n            <div style=\"display:none\" >\r\n                <div links>\r\n                    <link href=\"http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" type=\"text/css\" rel=\"stylesheet\">\r\n                    <script src=\"http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\"  type=\"text/javascript\"></script>\r\n                </div>\r\n                <div ws-template=\"AppFramework\" style=\"height: calc(100vh - 4px); width: calc(100vw - 4px) \" class=\"relative\" >\r\n                    <div ws-hole=\"MainClient\"></div>\r\n                    <div class=\"AppFrameworkGo\"><button ws-onclick=\"GoClient\">${MainDoc}</button></div>\r\n                </div>\r\n                <style>\r\n                    .AppFrameworkGo {\r\n                        max-width: 2px;\r\n                        max-height: 2px;\r\n                        z-index: 4000;\r\n                        overflow: hidden;\r\n                        position: fixed;\r\n                        top: 0px;\r\n                        left: 0px;\r\n                    }\r\n                </style>\r\n                <div ws-template=\"FixedSplitterVer\" \r\n                    style=\"display: grid; \r\n                           grid-gap: 0px; \r\n                           box-sizing: border-box; \r\n                           height: 100%;\r\n                           width : 100%;\r\n                           grid-template-areas: 'one two'; \r\n                           grid-template-rows   :100%; \r\n                           overflow: hidden; \r\n                           grid-template-columns: ${PartSizes}\"  >\r\n                   <div ws-hole=\"First\"  style=\"grid-area: one; \" class=\"relative\" ></div>\r\n                   <div ws-hole=\"Second\" style=\"grid-area: two; \" class=\"relative\" ></div>\r\n                </div>               \r\n                <div ws-template=\"FixedSplitterHor\" \r\n               style=\"display: grid; \r\n                      grid-gap: 0px; \r\n                      box-sizing: border-box; \r\n                      height: 100%;\r\n                      width : 100%;\r\n                      grid-template-areas: 'one' 'two'; \r\n                      grid-template-columns:100%; \r\n                      overflow: hidden; \r\n                      grid-template-rows   : ${PartSizes}\"  >\r\n              <div ws-hole=\"First\"  style=\"grid-area: one; \" class=\"relative\" ></div>\r\n              <div ws-hole=\"Second\" style=\"grid-area: two; \" class=\"relative\" ></div>\r\n                </div>               \r\n                <div ws-template=\"WCompSplitterHor\" \r\n                     ws-onafterrender=\"AfterRender\"\r\n                     style=\"display: grid;\r\n                            grid-gap: 5px; \r\n                            box-sizing: border-box; \r\n                            grid-template-areas: 'one' 'two'; \r\n                            grid-template-columns:100%; \r\n                            overflow: hidden; \r\n                            grid-template-rows   : ${PartSizes}\" \r\n                     >\r\n                     <slot></slot>\r\n                    <slot name=\"splitter\">  <div style=\"grid-row:2; grid-column:1 / 1 ; cursor: row-resize; z-index: 3; background-color: #eef ; height: ${Gap}; margin-top :-${Gap}\" ws-onmousedown=\"MouseDown\" ws-onafterrender=\"AfterRenderSp\" ></div> </slot>\r\n                    <style>\r\n                        ::slotted(*) {\r\n                            display: grid;\r\n                            height : 100%;\r\n                            width  : 100%;\r\n                            overflow: hidden;\r\n                        }\r\n                        ::slotted(*:nth-child(2)) {\r\n                            grid-area: two;\r\n                        }\r\n                        ::slotted(*[slot=\"splitter\"]) {\r\n                            grid-row:2; grid-column:1 / 1 ; \r\n                            cursor: row-resize; \r\n                            z-index: 3; \r\n                            background-color: #eef ; \r\n                            height: ${Gap}; \r\n                            margin-top :-${Gap}\r\n                        }\r\n                    </style>\r\n                </div>        \r\n                <div ws-template=\"WCompSplitterVer\" \r\n                     ws-onafterrender=\"AfterRender\"\r\n                     style=\"display: grid; \r\n                            grid-gap: 5px; \r\n                            box-sizing: border-box; \r\n                            grid-template-areas: 'one two'; \r\n                            grid-template-rows   :100%; \r\n                            overflow: hidden; \r\n                            grid-template-columns: ${PartSizes}\"  >\r\n                    <slot></slot>\r\n                    <slot name=\"splitter\"> <div style=\"grid-column:2; grid-row:1 / 1 ; cursor: col-resize; z-index: 3; background-color: #eef ; width: ${Gap}; margin-left :-${Gap}\" ws-onmousedown=\"MouseDown\" ws-onafterrender=\"AfterRenderSp\" ></div> </slot>\r\n                    <style>\r\n                        ::slotted(*) {\r\n                            display: grid;\r\n                            height : 100%;\r\n                            width  : 100%;\r\n                            overflow: hidden;\r\n                        }\r\n                        ::slotted(*:nth-child(2)) {\r\n                            grid-area: two;\r\n                        }\r\n                        ::slotted(*[slot=\"splitter\"]) {\r\n                            grid-column:2; grid-row:1 / 1\r\n                            cursor: column-resize; \r\n                            z-index: 3; \r\n                            background-color: #eef ; \r\n                            width: ${Gap}; \r\n                            margin-left:-${Gap}\r\n                        }\r\n                    </style>\r\n                </div>\r\n                <div ws-template=\"AppFwkClient\" >\r\n                    <ws-FixedSplitterHor>\r\n                        <PartSizes>55px calc(100% - 55px)</PartSizes>\r\n                        <First>\r\n                            <span style=\"display: grid;\r\n                                  grid-template-columns: 30% 20% 20% 10%;\r\n                                  grid-gap: 25px;\r\n                                \">\r\n                                <div class=\"mainTitle\">AppFramework</div>\r\n                            </span>\r\n                        </First>\r\n                        <Second>\r\n                                <ws-FixedSplitterVer>\r\n                                    <PartSizes>calc(100% - 150px) 150px</PartSizes>\r\n                                    <First>\r\n                                        <wcomp-splitter vertical value=\"18\" max=\"100\">\r\n                                            <div><div ws-hole=\"PlugIns\" style=\"overflow:auto\" >\r\n                                                <div ws-template=\"Tile\">\r\n                                                    <div draggable=\"true\" class=\"code-editor-list-tile ${Predecessor} ${Selected}\" \r\n                                                    ws-ondrag=\"Drag\"\r\n                                                    ws-ondragover=\"DragOver\"\r\n                                                    ws-ondrop=\"Drop\"\r\n                                                   >\r\n                                                   <span class=\"node ${Parent} ${ErrorMsg}\" title=\"expand\" ws-onclick=\"ToggleCollapse\"></span>\r\n                                                   <div  class=\"code-editor-list-text\" style=\"text-indent:${Indent}em; white-space: pre\" ws-onclick=\"Select\" ws-onafterrender=\"AfterRender\" >${Name}</div>\r\n                                                   <span class=\"predecessor\" title=\"toggle predecessor\" ws-onclick=\"TogglePred\">X</span>\r\n                                               </div>\r\n                                       \r\n                                                </div>\r\n                                            </div></div>\r\n                                            <wcomp-splitter vertical value=\"100\" min=\"30\" max=\"100\">\r\n                                                <ws-FixedSplitterHor>\r\n                                                    <PartSizes>32px calc(100% - 32px)</PartSizes>\r\n                                                    <First>\r\n                                                        <div>\r\n                                                            <div class=\"input-group\">\r\n                                                                <span class=\"input-group-addon\">name:</span>\r\n                                                                <span class=\"input-group-addon\">${PlugInName}</span>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </First>\r\n                                                    <Second>\r\n                                                        <div style=\"overflow:auto\">\r\n                                                            <div>\r\n                                                                <div>Docs:</div>\r\n                                                                <div ws-hole=\"Docs\" style=\"overflow:auto\" ></div>\r\n                                                            </div>\r\n                                                            <div>\r\n                                                                <div>Vars:</div>\r\n                                                                <div ws-hole=\"Vars\" style=\"overflow:auto\" >\r\n                                                                        <div ws-template=\"NameValueInput\" class=\"input-group\">\r\n                                                                        <span class=\"input-group-addon\">${Name}:</span>\r\n                                                                        <textarea class=\"form-control\" id=\"\" placeholder=\"Value...\" ws-var=\"Value\" spellcheck=\"false\">\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <div>\r\n                                                                <div>Views:</div>\r\n                                                                <div ws-hole=\"Views\" style=\"overflow:auto\" >\r\n                                                                    <div ws-template=\"NameValue\" class=\"input-group\">\r\n                                                                        <span class=\"input-group-addon\">${Name}:</span>\r\n                                                                        <span class=\"input-group-addon\">${Value}</span>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <div>\r\n                                                                <div>Queries:</div>\r\n                                                                <div ws-hole=\"Queries\" style=\"overflow:auto\" ></div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </Second>\r\n                                                </ws-FixedSplitterHor>\r\n                                                <wcomp-tabstrip >\r\n                                                    <div tabname=\"Properties\">\r\n                                                        <div>\r\n                                                            <table style=\"border-spacing:0px\">\r\n                                                                <thead>\r\n                                                                    <th style=\"width: 30%  \">Name</th>\r\n                                                                    <th style=\"width: 70% \">Value</th>\r\n                                                                </thead>\r\n                                                                <tbody ws-hole=\"Properties\" ws-children-template=\"Property\">\r\n                                                                    <tr ws-onclick=\"Select\" style=\"margin-bottom: 2px\" class=\"level  \">\r\n                                                                        <td class=\"level-item\">\r\n                                                                            <div>\r\n                                                                                <input ws-var=\"Name\" type=\"text\" class=\"form-control\" id=\"\" placeholder=\"Property...\">\r\n                                                                            </div>\r\n                                                                        </td>\r\n                                                                        <td class=\"level-item\">\r\n                                                                            <div>\r\n                                                                                <textarea ws-var=\"Value\" class=\"form-control\" id=\"\" placeholder=\"Value...\"></textarea>\r\n                                                                            </div>\r\n                                                                        </td>\r\n                                                                        <td class=\"level-item\">\r\n                                                                            <div style=\" cursor: pointer \" title=\"remove\">\r\n                                                                                <button ws-onclick=\"Remove\" class=\"delete is-small\">x</button>\r\n                                                                            </div>\r\n                                                                        </td>\r\n                                                                    </tr>\r\n                                                                </tbody>\r\n                                                            </table>\r\n                                                            <button ws-onclick=\"AddProperty\" class=\"add is-small\">add ...</button>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </wcomp-tabstrip>\r\n                                            </wcomp-splitter>\r\n                                        </wcomp-splitter>\r\n                                    </First>\r\n                                    <Second>\r\n                                        <div style=\"\r\n                                            overflow: hidden;\r\n                                            display: grid;\r\n                                            grid-template-columns: 100%;\r\n                                            grid-template-rows: repeat(15, calc(100% / 15));\r\n                                            bxackground-color: #eee;\r\n                                            box-sizing: border-box;\r\n                                            padding : 5px;\r\n                                            grid-gap: 5px;\r\n                                            margin-right: 21px;\r\n                                       \"  class=\"absolute\" ws-hole=\"Actions\" >\r\n                                            <button ws-template=\"Action\"         ws-onclick=\"Click\" class=\"btn\" type=\"button\" id=\"\"          >${Name}</button>\r\n                                            <button ws-template=\"ActionDisabled\" ws-onclick=\"Click\" class=\"btn\" type=\"button\" id=\"\" disabled >${Name}</button>\r\n                                        </div>\r\n                                    </Second>\r\n                                </ws-FixedSplitterVer>\r\n                        </Second>\r\n                    </ws-FixedSplitterHor>\r\n                </div>\r\n                <style style=\"display: none\">\r\n                        .Hidden     { display   : none         }\r\n                        table th,table td { padding:0 5px 0 5px; text-overflow: ellipsis }\r\n                        td input.form-control { \r\n                            padding    : 0px; \r\n                            font-family: monospace;\r\n                            font-size  :   small;\r\n                            margin-top :   0px;\r\n                            margin-left: -2px;\r\n                            width      : 100%\r\n                        }\r\n                        td select {\r\n                            font-size : smaller;\r\n                            max-width : 8ch;\r\n                        }\r\n                        xtextarea {\r\n                           resize : none;\r\n                        }\r\n                        .tab-content {\r\n                            overflow: hidden\r\n                        }\r\n                        .tab-children {\r\n                            position:relative;\r\n                        }\r\n                        .tab-children>div>* {\r\n                            position:absolute;\r\n                            height: 100%;\r\n                            width:  100%;\r\n                            display: grid;\r\n                        }\r\n                        .relative {\r\n                            position:relative;\r\n                        }\r\n                        .relative>* {\r\n                            position:absolute;\r\n                            height: 100%;\r\n                            width:  100%;\r\n                            display: grid;\r\n                        }\r\n                        table.table-striped    tbody tr:nth-child(even) { background: #EEE  }\r\n                        table.table-striped    tbody tr:nth-child(odd ) { background: #FFF  }\r\n                        table.table-striped    tbody input              { background: transparent; border: none}\r\n                        table.table-striped    tbody select             { background: transparent; border: none}\r\n                        table.table-nonstriped tbody tr:nth-child(even) { background: inherit }\r\n                        table.table-nonstriped tbody tr:nth-child(odd ) { background: inherit }\r\n                        table.table            tbody tr.hover           { border    : solid thin transparent; } \r\n                        table.table            tbody tr.hover:hover     { border    : solid thin blue     ; } \r\n                        table.table            tbody th:hover           { background: gray; cursor: pointer }\r\n                        table.table            tbody tr.hover:hover>td  { border-top: solid thin blue     ; \r\n                                                                   border-bottom: solid thin blue     ; } \r\n                        table.table            tbody tr.selected { background   : #b9eeff             ; }\r\n                        table.table            tbody tr.formula.selected { background: #20f7f7             ; }\r\n                        thead { color: gray }\r\n                        h3 { \r\n                            color: gray;\r\n                            line-height: 1em;\r\n                        }\r\n                        button       { border: solid thin transparent ; border-radius: 3px; }\r\n                        button:hover { border: solid thin blue }\r\n                        .indenter { position  : absolute; \r\n                                    top:0px; bottom:0px; left:0px; \r\n                                    background: white; color:white;\r\n                                    border-right: gray thin dotted;\r\n                                    }\r\n                        body {\r\n                            color      : #333;\r\n                            font-size  : small;\r\n                            font-family: monospace;\r\n                            line-height: 1.2;\r\n                        }\r\n                        .mainTitle {  \r\n                            font-size: 48px;\r\n                            font-weight: 500;\r\n                            color: gray;\r\n                            margin-top: -12px;\r\n                        }\r\n                        .CodeMirror {\r\n                            height: 100%;\r\n                        }\r\n                        \r\n                      \r\n                        body { margin: 0px }     \r\n                             \r\n                        div textarea {\r\n                            font-family     : monospace;\r\n                        }\r\n                        .code-editor-list-tile {\r\n                            white-space     : nowrap; \r\n                            border-style    : solid none none;\r\n                            border-color    : white;\r\n                            border-width    : 1px;\r\n                            background-color: #D8D8D8;\r\n                            display         : flex;\r\n                        }\r\n                        .code-editor-list-text{\r\n                            padding         : 1px 10px 1px 5px;\r\n                            overflow        : hidden;\r\n                            text-overflow   : ellipsis;\r\n                            white-space     : nowrap;\r\n                            flex            : 1;\r\n                        }\r\n                        \r\n                        .code-editor-list-tile span.node.ErrorMsg {\r\n                            background-color: red\r\n                        }\r\n                        .code-editor-list-tile span.node.expanded::before {\r\n                            content: \"-\"\r\n                        }\r\n                        .code-editor-list-tile span.node.collapsed::before {\r\n                            content: \"+\"\r\n                        }\r\n                        .code-editor-list-tile.direct-predecessor {\r\n                            font-weight     : bold;\r\n                            color           : blue;\r\n                        }\r\n                        .code-editor-list-tile.indirect-predecessor {\r\n                            color           : blue;\r\n                        }\r\n                        .code-editor-list-tile.included-predecessor {\r\n                            color           : chocolate;\r\n                        }\r\n                        .code-editor-list-tile.selected {\r\n                            background-color: #77F;\r\n                            color           : white;\r\n                        }\r\n                        .code-editor-list-tile.codeSnippet {\r\n                            text-decoration: underline\r\n                        }\r\n                        .code-editor-list-tile:hover {\r\n                            background      : lightgray;\r\n                        }\r\n                        .code-editor-list-tile.selected:hover {\r\n                            background      : blue;\r\n                        }\r\n                        .code-editor-list-tile>.predecessor {\r\n                            font-weight     : bold;\r\n                            border-style    : inset;\r\n                            border-width    : 1px;\r\n                            text-align      : center;\r\n                            color           : transparent;\r\n                        }\r\n                        .code-editor-list-tile.direct-predecessor>.predecessor {\r\n                            color           : blue;\r\n                        }\r\n                        \r\n                        .CodeMirror { height: 100%; }\r\n                        \r\n                        .node {\r\n                            background-color: white; \r\n                            width           : 2ch; \r\n                            color           : #A03; \r\n                            font-weight     : bold; \r\n                            text-align      : center;\r\n                            font-family     : arial;\r\n                        }\r\n                        .Warning { text-decoration: underline lightblue } \r\n                        .Error   { text-decoration: underline red       } \r\n                        \r\n                    </style>\r\n            </div>\r\n            ";Q.htmlD=bO.dependByName("AppFrameworkTemplate.html",bP.html(),a.id);Q.startWithHtmlD=(dX=bO.depend(),dX.Delay(function(){return dX.Bind(v.htmlD(),function(d8){return dX.Return(function(){var d9,d_,d$;d9=self.document.createElement("div");self.document.body.appendChild(d9);d9.outerHTML=d8;d_=bb.getMainDoc().f();d$=self.document.body;cr.LoadLocalTemplates("");bl.RunAppend(d$,d_);});});}));Q.unselectorV=new ca.New(N.Const(null),a.ignore);Q.plugin=new y.New();Q.html$1="\r\n                <div ws-template=\"Snippet\" >\r\n                    <div draggable=\"true\" class=\"code-editor-list-tile ${Predecessor} ${Selected}\" \r\n                         ws-ondrag=\"Drag\"\r\n                         ws-ondragover=\"DragOver\"\r\n                         ws-ondrop=\"Drop\"\r\n                        >\r\n                        <span class=\"node ${Parent} ${ErrorMsg}\" title=\"expand\" ws-onclick=\"ToggleCollapse\"></span>\r\n                        <div  class=\"code-editor-list-text\" style=\"text-indent:${Indent}em; white-space: pre\" ws-onclick=\"Select\" ws-onafterrender=\"AfterRender\" >${Name}</div>\r\n                        <span class=\"predecessor\" title=\"toggle predecessor\" ws-onclick=\"TogglePred\">X</span>\r\n                    </div>\r\n                </div>\r\n                <style>\r\n                    .Hidden     { display   : none         }\r\n                    table th,table td { padding:0 5px 0 5px; text-overflow: ellipsis }\r\n                    td input.form-control { \r\n                        padding    : 0px; \r\n                        font-family: monospace;\r\n                        font-size  :   small;\r\n                        margin-top :   0px;\r\n                        margin-left: -2px;\r\n                        width      : 100%\r\n                    }\r\n                    td select {\r\n                        font-size : smaller;\r\n                        max-width : 8ch;\r\n                    }\r\n                    textarea {\r\n                       resize : none;\r\n                    }\r\n                    .tab-content {\r\n                        overflow: hidden\r\n                    }\r\n                    .tab-children {\r\n                        position:relative;\r\n                    }\r\n                    .tab-children>div>* {\r\n                        position:absolute;\r\n                        height: 100%;\r\n                        width:  100%;\r\n                        display: grid;\r\n                    }\r\n                    .relative {\r\n                        position:relative;\r\n                    }\r\n                    .relative>* {\r\n                        position:absolute;\r\n                        height: 100%;\r\n                        width:  100%;\r\n                        display: grid;\r\n                    }\r\n                    table.table-striped    tbody tr:nth-child(even) { background: #EEE  }\r\n                    table.table-striped    tbody tr:nth-child(odd ) { background: #FFF  }\r\n                    table.table-striped    tbody input              { background: transparent; border: none}\r\n                    table.table-striped    tbody select             { background: transparent; border: none}\r\n                    table.table-nonstriped tbody tr:nth-child(even) { background: inherit }\r\n                    table.table-nonstriped tbody tr:nth-child(odd ) { background: inherit }\r\n                    table.table            tbody tr.hover           { border    : solid thin transparent; } \r\n                    table.table            tbody tr.hover:hover     { border    : solid thin blue     ; } \r\n                    table.table            tbody th:hover           { background: gray; cursor: pointer }\r\n                    table.table            tbody tr.hover:hover>td  { border-top: solid thin blue     ; \r\n                                                               border-bottom: solid thin blue     ; } \r\n                    table.table            tbody tr.selected { background   : #b9eeff             ; }\r\n                    table.table            tbody tr.formula.selected { background: #20f7f7             ; }\r\n                    thead { color: gray }\r\n                    h3 { \r\n                        color: gray;\r\n                        line-height: 1em;\r\n                    }\r\n                    button       { border: solid thin transparent ; border-radius: 3px; }\r\n                    button:hover { border: solid thin blue }\r\n                    .indenter { position  : absolute; \r\n                                top:0px; bottom:0px; left:0px; \r\n                                background: white; color:white;\r\n                                border-right: gray thin dotted;\r\n                                }\r\n                    body {\r\n                        color      : #333;\r\n                        font-size  : small;\r\n                        font-family: monospace;\r\n                        line-height: 1.2;\r\n                    }\r\n                    .mainTitle {  \r\n                        font-size: 48px;\r\n                        font-weight: 500;\r\n                        color: gray;\r\n                        margin-top: -12px;\r\n                    }\r\n                    .CodeMirror {\r\n                        height: 100%;\r\n                    }\r\n                    \r\n                  \r\n                    body { margin: 0px }     \r\n                         \r\n                    div textarea {\r\n                        font-family     : monospace;\r\n                    }\r\n                    .code-editor-list-tile {\r\n                        white-space     : nowrap; \r\n                        border-style    : solid none none;\r\n                        border-color    : white;\r\n                        border-width    : 1px;\r\n                        background-color: #D8D8D8;\r\n                        display         : flex;\r\n                    }\r\n                    .code-editor-list-text{\r\n                        padding         : 1px 10px 1px 5px;\r\n                        overflow        : hidden;\r\n                        text-overflow   : ellipsis;\r\n                        white-space     : nowrap;\r\n                        flex            : 1;\r\n                    }\r\n                    \r\n                    .code-editor-list-tile span.node.ErrorMsg {\r\n                        background-color: red\r\n                    }\r\n                    .code-editor-list-tile span.node.expanded::before {\r\n                        content: \"-\"\r\n                    }\r\n                    .code-editor-list-tile span.node.collapsed::before {\r\n                        content: \"+\"\r\n                    }\r\n                    .code-editor-list-tile.direct-predecessor {\r\n                        font-weight     : bold;\r\n                        color           : blue;\r\n                    }\r\n                    .code-editor-list-tile.indirect-predecessor {\r\n                        color           : blue;\r\n                    }\r\n                    .code-editor-list-tile.included-predecessor {\r\n                        color           : chocolate;\r\n                    }\r\n                    .code-editor-list-tile.selected {\r\n                        background-color: #77F;\r\n                        color           : white;\r\n                    }\r\n                    .code-editor-list-tile.codeSnippet {\r\n                        text-decoration : underline;\r\n                        font-weight     : bold;\r\n                    }\r\n                    .code-editor-list-tile:hover {\r\n                        background      : lightgray;\r\n                    }\r\n                    .code-editor-list-tile.selected:hover {\r\n                        background      : blue;\r\n                    }\r\n                    .code-editor-list-tile>.predecessor {\r\n                        font-weight     : bold;\r\n                        border-style    : inset;\r\n                        border-width    : 1px;\r\n                        text-align      : center;\r\n                        color           : transparent;\r\n                    }\r\n                    .code-editor-list-tile.direct-predecessor>.predecessor {\r\n                        color           : blue;\r\n                    }\r\n                    \r\n                    .CodeMirror { height: 100%; }\r\n                    \r\n                    .node {\r\n                        background-color: white; \r\n                        width           : 2ch; \r\n                        color           : #A03; \r\n                        font-weight     : bold; \r\n                        text-align      : center;\r\n                        font-family     : arial;\r\n                    }\r\n                    .Warning { text-decoration: underline lightblue } \r\n                    .Error   { text-decoration: underline red       } \r\n                    \r\n                </style>\r\n            ";Q.drag=G.DragNone;Q.TemplateFileName="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\website\\Templates.html";Q.snippetsLM=bd.Create(function(d8){return d8.snpId;},bq.Empty);Q.collapsedV=X.Create$1(new ck.New$1(null));Q.codeSnippetIdV=X.Create$1(null);Q.searchFor=X.Create$1("");Q.allPredecessors=function(d8){return bZ.allPredecessors(d6,d8);};Q.indPredIds=function(d8){return bZ.indirectPredecessorIds(d7,d8[0],d8[1],d8[2]);};Q.allCodePredsW=N.Map(function(d8){var d9,d_;return d8!=null&&d8.$==1?(d9=d8.$0,(d_=H.snippetsLM().TryFindByKey(d9),d_!=null&&d_.$==1?(H.allPredecessors())(d_.$0):new ck.New$1(null))):new ck.New$1(null);},H.codeSnippetIdV().get_View());Q.allCodePredIdsW=N.Map(function(d8){return _6.map(function(d9){return d9.snpId;},d8);},H.allCodePredsW());Q.shdDef=I.New(0,0,false,true,[],null);Q.snpIdParentsW=(dY=N.Map(function(d8){return _3.ofSeq(_6.map(function(d9){return[d9.snpId,d9.snpParentIdO];},d8));},H.snippetsLM().v),(dZ=[X.Create$1(null)],(N.Sink(function(d8){if(!P.Equals(dZ[0].Get(),d8))dZ[0].Set(d8);},dY),dZ[0].get_View())));Q.processHierW=(d0=N.get_Do(),N.Bind(function(d8){return N.Bind(function(d9){return N.Const(H.processHier(d8,d9));},H.collapsedV().get_View());},H.snpIdParentsW()));Q.search=(d1=N.get_Do(),N.Bind(function(d8){function d9(d_){var d$,ea,eb;d$=(ea=(eb=d_.snpId,function(ec){var ed;ed=null;return ec.TryGetValue(eb,{get:function(){return ed;},set:function(ee){ed=ee;}})?{$:1,$0:ed}:null;}(d8)),ea==null?null:{$:1,$0:ea.$0.visible});return d$==null||d$.$0;}return N.Bind(function(d_){return d_===""?N.Const(d9):N.Bind(function(d$){return N.Bind(function(ea){return d_==="."?N.Const(function(eb){return(P.Equals(ea,{$:1,$0:eb.snpId})||_6.contains(eb.snpId,d$))&&d9(eb);}):N.Const(function(eb){return eb.snpName.indexOf(d_)!=-1||eb.snpContent.indexOf(d_)!=-1;});},H.codeSnippetIdV().get_View());},H.allCodePredIdsW());},H.searchFor().get_View());},H.processHierW()));Q.snippetList=C.getDocFor(H.snippetsLM(),bZ.defaultSnippet(),function(){return bZ.New("","",null);},{$:1,$0:H.search()},function(d8){return H.calcUI(H.wrapNothing,true,d8);});N.Sink(function(d8){var d9;if(d8!=null&&d8.$==1){d9=d8.$0;N.Get(function(d_){if(!P.Equals(H.codeSnippetIdV().Get(),{$:1,$0:d9}))if(!_6.contains(d9,d_))H.codeSnippetIdV().Set({$:1,$0:d9});},H.allCodePredIdsW());}},H.snippetList().selV.get_View());Q.currentSnippetV=X.Lens(H.snippetList().get_CurrentV(),a.id,function(d8,d9){return d9;});Q.currentSnippetNameV=X.Lens(H.currentSnippetV(),function(d8){return d8.snpName;},function(d8,d9){return bx.New(d8.snpId,d9,d8.snpContent,d8.snpParentIdO,d8.snpPredIds,d8.snpProperties,d8.snpModified);});Q.currentSnippetContentV=X.Lens(H.currentSnippetV(),function(d8){return d8.snpContent;},function(d8,d9){return bx.New(d8.snpId,d8.snpName,d9,d8.snpParentIdO,d8.snpPredIds,d8.snpProperties,d8.snpModified);});Q.curSnp=(d2=x.plugin(),d2.AddVar(d2.AddVar(d2.Yield(),"name",H.currentSnippetNameV()),"content",H.currentSnippetContentV()));Q.monaco=(d3=H.monacoNew(X.Lens(H.currentSnippetV(),function(d8){return d8.snpContent;},function(d8,d9){return bx.New(d8.snpId,d8.snpName,d9,d8.snpParentIdO,d8.snpPredIds,d8.snpProperties,d8.snpModified);})),_5.New(d3["var"],d3.disabled,N.Const([]),d3.onChange,d3.onRender,null,null,null,d3.editorO,d3.editorHook));x.addPlugIn2((d4=x.plugin(),d4.AddAct(d4.AddAct(d4.AddAct(d4.AddAct(d4.AddAct(d4.AddAct(d4.Merge(d4.Merge(d4.AddDoc(d4.AddVar(d4.Name(d4.Yield(),"Snippets"),"searchFor",H.searchFor()),"editor",be.Create(function(){return bl.Element("div",[],[W.generateDoc(H.monaco())]);})),"snippets_",H.snippetList().PlugIn(H.selectorLensGuidId)),"curSnp_",H.curSnp()),"LoadSnippets",function(){J.loadTextFile(self.document.getElementById("LoadSnippets").firstElementChild.firstElementChild.firstElementChild.firstElementChild);}),"SaveSnippets",function(){J.saveAs();}),"IndentIn",function(){H.indentIn();}),"IndentOut",function(){H.indentOut();}),"AddSnippet",function(){H.addSnippet();}),"DeleteSnippet",function(){H.deleteSnippet();})));A.addLayout0(bf.newLyt("lytTarget","\r\n            main horizontal 10-50-70 part1 part2\r\n            \r\n            part1 div \"\" \r\n            : h1 \"\" \"Demo123 \" message\r\n            :: div \"\" \"Message:\"\r\n            :: textarea message \"height:200px;width:500px\"\r\n            \r\n            part2 div \"\" lytTarget.Layout\r\n            \r\n            message Var \"Hello\"     \r\n                "));A.addLayout0(bf.newLyt("SnippetsLyt","\r\n                    split horizontal 0-50-100 AppFramework.AppFwkClient main\r\n                    main vertical 0-25-100 list snippet\r\n                    SearchFor   Doc InputLabel \"\" \"Search\" Snippets.searchFor\r\n                    File        Doc InputFile  \"id=LoadSnippets\" \"Open File\" Snippets.LoadSnippets \"\"\r\n                    list div \"display: flex;flex-direction: column\" File\r\n                    : button \"click=@{Snippets.AddSnippet}\"    \"Add New Snippet\"\r\n                    : button \"click=@{Snippets.DeleteSnippet}\" \"Delete Snippet\"\r\n                    : button \"click=@{Snippets.IndentIn}\"      \"Indent in\"\r\n                    : button \"click=@{Snippets.IndentOut}\"     \"Indent out\"\r\n                    : div    \"\" SearchFor \r\n                    : div \"overflow:auto;width:100%;max-width:100%\" Snippets.snippets_list\r\n                    snippet div \"display: flex;flex-direction: column\"\r\n                    : div    \"\" Snippets.snippets_sel\r\n                    : Doc    InputLabel \"\" \"Name:\" Snippets.curSnp_name\r\n                    : div \"height:100%;class=relative\" Snippets.editor                \r\n                "));A.addLayout0(bf.newLyt("lytDemo","\r\n            SetTarget Action AppFramework.SetVar     \"lytTarget.Layout\"         \"@{target}\" \r\n            SetMain2  Action AppFramework.SetVar     \"AppFramework.mainDocV\"    \"lytDemo.main2\"\r\n            SetMain   Action AppFramework.SetVar     \"AppFramework.mainDocV\"    \"lytDemo.main\"\r\n            \r\n            main2 vertical 0-50-100 Left2 lytTarget.main            \r\n            Left2 vertical 0-25-100 list snippet\r\n            gotoMain  button \"click=@{SetMain};width:16px\" \"<<\"\r\n            \r\n            main vertical 0-50-100 Left lytTarget.main\r\n            Left div \"display:flex;flex-direction:column\" gotoMain2 snippet\r\n            gotoMain2 button \"click=@{SetMain2};width:16px\" \">>\"\r\n            \r\n            list div \"display: flex;flex-direction: column\" gotoMain File\r\n            : div    \"margin:5px\" SearchFor \r\n            : Concat buttons\r\n            : div \"overflow:auto;width:100%;max-width:calc(100% - 10px)\" Snippets.snippets_list\r\n            : ul \"margin:3px\"\r\n            :: button \"click=@{Snippets.AddSnippet}   ;title=Add New Snippet\" \"+\"\r\n            :: button \"margin-left:20px;click=@{Snippets.DeleteSnippet};title=Delete  Snippet\" \"x\"\r\n            \r\n            snippet div \"display: flex;flex-direction: column;flex:1\" Trigger\r\n            : button \"click=@{SetTarget}\" \"Apply\"\r\n            : div    \"click=@{SetTarget}\" Snippets.snippets_sel\r\n            : Doc    InputLabel \"\" \"Name:\" Snippets.curSnp_name\r\n            : div \"height:100%;class=relative;flex:1\" Snippets.editor            \r\n            \r\n            buttons ul \"\"\r\n            : div \"margin:3px\"\r\n            :: button \"click=@{Snippets.IndentOut};title=indent out\"     \"<--\"\r\n            :: button \"click=@{Snippets.IndentIn};title=indent in\"       \"--> \"\r\n            \r\n            SearchFor   Doc InputLabel \"\" \"Search\" Snippets.searchFor\r\n            \r\n            File span \"class=input-group;margin:5px;id=LoadSnippets\"\r\n            : div \"class=input-group-btn\"\r\n            :: label \"class=btn btn-info\" \"Load File\"\r\n            ::: div \"\"\r\n            :::: input \"class=form-control;type=file;display: none;change=@{Snippets.LoadSnippets}\" \r\n            :: label \"class=btn btn-primary;click=@{Snippets.SaveSnippets}\" \"Save File\"\r\n            \r\n            Trigger   Doc    AppFramework.TrigAction Snippets.snippets_sel lytDemo.SetTarget\r\n            target    View \"n => n.includes('main ')?n:'main Contact \"\" \"\"'\" Snippets.curSnp_content\r\n                "));};S.addResizeObserver$1=function(dy,dz){var dA,dB,dC,dD;try{dA=!(!a.ResizeObserver);}catch(dE){dA=false;}if(dA){dB=new a.ResizeObserver(dy);S.set_observers$1(new bq({$:1,$0:dB,$1:S.observers$1()}));dB.observe(dz);}else{dC=S.dimsChanged$1(dz);b2.Start((dD=null,b2.Delay(function(){return b2.While(function(){return dz.isConnected;},b2.Delay(function(){return b2.Bind(b2.Sleep(110),function(){return dC()?(dy(),b2.Zero()):b2.Zero();});}));})),null);}};S.set_observers$1=function(dy){Q.$cctor();Q.observers=dy;};S.observers$1=function(){Q.$cctor();return Q.observers;};S.dimsChanged$1=function(dy){var dz;dz=[dy.getBoundingClientRect()];return function(){var dA;dA=dy.getBoundingClientRect();return P.Equals(S.domRect2Tuple$1(dz[0]),S.domRect2Tuple$1(dA))?false:(dz[0]=dA,true);};};S.domRect2Tuple$1=function(dy){return[dy.top,dy.left,dy.width,dy.height];};V.iter=function(dy){function dz(dB){return dB==null?null:{$:1,$0:dy(dB.$0)};}function dA(dB){if(dB==null);}return function(dB){return dA(dz(dB));};};W.bindVarEditor=function(dy,dz,dA,dB,dC){var dD,dE;dD=[0];dE=[0];dy(function(){var dF;dF=dz();!P.Equals(dC.Get(),dF)?(dD[0]=dD[0]+1,dC.Set(dF),dB(dF)):void 0;});N.Sink(function(){if(dD[0]>dE[0])dE[0]=dD[0];else if(!P.Equals(dz(),dC.Get()))dA(dC.Get());},dC.get_View());};W.newVar=function(dy,dz){return _5.New(dz,N.Const(false),N.Const([]),null,a.ignore,null,null,null,null,dy);};W.onRender=function(dy,dz){return _5.New(dz["var"],dz.disabled,dz.annotations,dz.onChange,dy,dz.autoCompletion,dz.toolTip,dz.declaration,dz.editorO,dz.editorHook);};W.generateDoc=function(dy){var dz,dA,dB;dz=(dA=(dB=dy.onChange,dB==null?null:{$:1,$0:dB.$0(dy)}),dA==null?a.ignore:dA.$0);return(dy.editorHook.generateDoc(dy))(function(dC){dy.editorO={$:1,$0:dC};W.bindVarEditor(dy.editorHook.hookOnChange,dy.editorHook.getValue,dy.editorHook.setValue,dz,dy["var"]);N.Sink(dy.editorHook.showAnnotations,dy.annotations);N.Sink(dy.editorHook.setDisabled,dy.disabled);dy.onRender(dy);});};X=L.Var$1=dr.Class({},m,X);X.Create$1=function(dy){return new b4.New(false,bQ.New({$:2,$0:dy,$1:[]}),dy);};X.Lens=function(dy,dz,dA){var dB,dC,dD;dB=b6.Id();dC=N.Map(dz,dy.get_View());dD=new M({Get:function(){return dz(dy.Get());},Set:function(dE){return dy.Update(function(dF){return dA(dF,dE);});},SetFinal:function(dE){return this.Set(dE);},Update:function(dE){return dy.Update(function(dF){return dA(dF,dE(dz(dF)));});},UpdateMaybe:function(dE){return dy.UpdateMaybe(function(dF){var dG;dG=dE(dz(dF));return dG==null?null:{$:1,$0:dA(dF,dG.$0)};});},get_View:function(){return dC;},get_Id:function(){return dB;}});M.New.call(dD);return dD;};X.Set=function(dy,dz){dy.Set(dz);};Y.toArray=function(dy){return dy==null?[]:[dy.$0];};Z.New=function(dy,dz){return{line:dy,col:dz};};_0.asyncResultM=function(){Q.$cctor();return Q.asyncResultM;};_0["AsyncResultMBuilder.Bind"]=function(dy,dz,dA){function dB(dC){return b2.Return(dC);}return _1.bind(dA,b2.Bind(dz,function(dC){return dB(U.OkM$1(dC));}));};_2=_1.AsyncResultMBuilder=dr.Class({Run:function(dy){return _1.bind(dy,_1.rtn());},Delay:a.id,Return:function(dy){return _1.rtn(dy);}},m,_2);_2.New=dr.Ctor(function(){m.New.call(this);},_2);_3.map=function(dy,dz){var dA,dB,dC;dA=new a.Array(dz.length);for(dB=0,dC=dz.length-1;dB<=dC;dB++)dA[dB]=dy(dz[dB]);return dA;};_3.splitAt=function(dy,dz){return[_3.take(dy,dz),_3.skip(dy,dz)];};_3.findIndex=function(dy,dz){var dA;dA=_3.tryFindIndex(dy,dz);return dA==null?O.FailWith("KeyNotFoundException"):dA.$0;};_3.concat=function(dy){return a.Array.prototype.concat.apply([],_3.ofSeq(dy));};_3.tryItem=function(dy,dz){return dz.length<=dy||dy<0?null:{$:1,$0:dz[dy]};};_3.ofSeq=function(dy){var dz,dA;if(dy instanceof a.Array)return dy.slice();else if(dy instanceof bq)return _3.ofList(dy);else{dz=[];dA=b9.Get(dy);try{while(dA.MoveNext())dz.push(dA.Current());return dz;}finally{if(typeof dA=="object"&&"Dispose"in dA)dA.Dispose();}}};_3.tryFindIndex=function(dy,dz){var dA,dB;dA=null;dB=0;while(dB<dz.length&&dA==null){dy(dz[dB])?dA={$:1,$0:dB}:void 0;dB=dB+1;}return dA;};_3.exists=function(dy,dz){var dA,dB,dC,dD;dA=false;dB=0;dD=_3.length(dz);while(!dA&&dB<dD)if(dy(dz[dB]))dA=true;else dB=dB+1;return dA;};_3.filter=function(dy,dz){var dA,dB,dC;dA=[];for(dB=0,dC=dz.length-1;dB<=dC;dB++)if(dy(dz[dB]))dA.push(dz[dB]);return dA;};_3.take=function(dy,dz){return dy<0?_6.nonNegative():dy>dz.length?_6.insufficient():dz.slice(0,dy);};_3.skip=function(dy,dz){return dy<0?_6.nonNegative():dy>dz.length?_6.insufficient():dz.slice(dy);};_3.tryFind=function(dy,dz){var dA,dB;dA=null;dB=0;while(dB<dz.length&&dA==null){dy(dz[dB])?dA={$:1,$0:dz[dB]}:void 0;dB=dB+1;}return dA;};_3.choose=function(dy,dz){var dA,dB,dC,dD;dA=[];for(dB=0,dC=dz.length-1;dB<=dC;dB++){dD=dy(dz[dB]);dD==null?void 0:dA.push(dD.$0);}return dA;};_3.ofList=function(dy){var dz,dA;dA=[];dz=dy;while(!(dz.$==0)){dA.push(bp.head(dz));dz=bp.tail(dz);}return dA;};_3.tryPick=function(dy,dz){var dA,dB,dC;dA=null;dB=0;while(dB<dz.length&&dA==null){dC=dy(dz[dB]);dC!=null&&dC.$==1?dA=dC:void 0;dB=dB+1;}return dA;};_3.pick=function(dy,dz){var dA;dA=_3.tryPick(dy,dz);return dA==null?O.FailWith("KeyNotFoundException"):dA.$0;};_3.sortInPlace=function(dy){_3.mapInPlace(function(dz){return dz[0];},_3.mapiInPlace(function(dz,dA){return[dA,dz];},dy).sort(P.Compare));};_3.foldBack=function(dy,dz,dA){var dB,dC,dD,dE,dF;dB=dA;dD=dz.length;for(dE=1,dF=dD;dE<=dF;dE++)dB=dy(dz[dD-dE],dB);return dB;};_3.find=function(dy,dz){var dA;dA=_3.tryFind(dy,dz);return dA==null?O.FailWith("KeyNotFoundException"):dA.$0;};_3.create=function(dy,dz){var dA,dB,dC;dA=new a.Array(dy);for(dB=0,dC=dy-1;dB<=dC;dB++)dA[dB]=dz;return dA;};_3.iter=function(dy,dz){var dA,dB;for(dA=0,dB=dz.length-1;dA<=dB;dA++)dy(dz[dA]);};_3.sortInPlaceBy=function(dy,dz){_3.mapInPlace(function(dA){return dA[0];},_3.mapiInPlace(function(dA,dB){return[dB,[dy(dB),dA]];},dz).sort(function(dA,dB){return P.Compare(dA[1],dB[1]);}));};_3.forall=function(dy,dz){var dA,dB,dC,dD;dA=true;dB=0;dD=_3.length(dz);while(dA&&dB<dD)if(dy(dz[dB]))dB=dB+1;else dA=false;return dA;};_3.init=function(dy,dz){var dA,dB,dC;dy<0?O.FailWith("Negative size given."):null;dA=new a.Array(dy);for(dB=0,dC=dy-1;dB<=dC;dB++)dA[dB]=dz(dB);return dA;};_4.ofAsyncResultM=function(dy){return new a.Promise(function(dz,dA){b2.StartWithContinuations(dy,function(dB){var dC;dC=U.OkM(dB);dC.$==1?dA(b8.summarized(dC.$0)):dz(dC.$0[0]);},function(dB){dA(dB);},function(dB){dA(dB);},null);});};_5.New=function(dy,dz,dA,dB,dC,dD,dE,dF,dG,dH){return{"var":dy,disabled:dz,annotations:dA,onChange:dB,onRender:dC,autoCompletion:dD,toolTip:dE,declaration:dF,editorO:dG,editorHook:dH};};_6.map=function(dy,dz){return{GetEnumerator:function(){var dA;dA=b9.Get(dz);return new b_.New(null,null,function(dB){return dA.MoveNext()&&(dB.c=dy(dA.Current()),true);},function(){dA.Dispose();});}};};_6.choose=function(dy,dz){return _6.collect(function(dA){var dB;dB=dy(dA);return dB==null?bq.Empty:bp.ofArray([dB.$0]);},dz);};_6.iter=function(dy,dz){var dA;dA=b9.Get(dz);try{while(dA.MoveNext())dy(dA.Current());}finally{if(typeof dA=="object"&&"Dispose"in dA)dA.Dispose();}};_6.filter=function(dy,dz){return{GetEnumerator:function(){var dA;dA=b9.Get(dz);return new b_.New(null,null,function(dB){var dC,dD,dE;dC=dA.MoveNext();dD=dA.Current();dE=false;while(dC)if(dy(dD)){dB.c=dD;dE=true;dC=false;}else if(dA.MoveNext())dD=dA.Current();else dC=false;return dE;},function(){dA.Dispose();});}};};_6.collect=function(dy,dz){return _6.concat(_6.map(dy,dz));};_6.indexed=function(dy){return _6.mapi(function(dz,dA){return[dz,dA];},dy);};_6.tryFind=function(dy,dz){var dA,dB,dC;dA=b9.Get(dz);try{dB=null;while(dB==null&&dA.MoveNext()){dC=dA.Current();dy(dC)?dB={$:1,$0:dC}:void 0;}return dB;}finally{if(typeof dA=="object"&&"Dispose"in dA)dA.Dispose();}};_6.fold=function(dy,dz,dA){var dB,dC;dB=dz;dC=b9.Get(dA);try{while(dC.MoveNext())dB=dy(dB,dC.Current());return dB;}finally{if(typeof dC=="object"&&"Dispose"in dC)dC.Dispose();}};_6.delay=function(dy){return{GetEnumerator:function(){return b9.Get(dy());}};};_6.append=function(dy,dz){return{GetEnumerator:function(){var dA,dB;dA=b9.Get(dy);dB=[true];return new b_.New(dA,null,function(dC){var dD;return dC.s.MoveNext()?(dC.c=dC.s.Current(),true):(dD=dC.s,!P.Equals(dD,null)?dD.Dispose():void 0,dC.s=null,dB[0]&&(dB[0]=false,dC.s=b9.Get(dz),dC.s.MoveNext()?(dC.c=dC.s.Current(),true):(dC.s.Dispose(),dC.s=null,false)));},function(dC){var dD;dD=dC.s;!P.Equals(dD,null)?dD.Dispose():void 0;});}};};_6.concat=function(dy){return{GetEnumerator:function(){var dz;dz=b9.Get(dy);return new b_.New(null,null,function(dA){var dB;while(true){dB=dA.s;if(P.Equals(dB,null)){if(dz.MoveNext()){dA.s=b9.Get(dz.Current());dA=dA;}else{dz.Dispose();return false;}}else if(dB.MoveNext()){dA.c=dB.Current();return true;}else{dA.Dispose();dA.s=null;dA=dA;}}},function(dA){var dB;dB=dA.s;!P.Equals(dB,null)?dB.Dispose():void 0;!P.Equals(dz,null)?dz.Dispose():void 0;});}};};_6.mapi=function(dy,dz){return _6.map2(dy,_6.initInfinite(a.id),dz);};_6.nth=function(dy,dz){var dA,dB;if(dy<0)O.FailWith("negative index requested");dA=-1;dB=b9.Get(dz);try{while(dA<dy){!dB.MoveNext()?_6.insufficient():void 0;dA=dA+1;}return dB.Current();}finally{if(typeof dB=="object"&&"Dispose"in dB)dB.Dispose();}};_6.head=function(dy){var dz;dz=b9.Get(dy);try{return dz.MoveNext()?dz.Current():_6.insufficient();}finally{if(typeof dz=="object"&&"Dispose"in dz)dz.Dispose();}};_6.cache=function(dy){var dz,dA;dz=[];dA=[b9.Get(dy)];return{GetEnumerator:function(){return new b_.New(0,null,function(dB){var dC;return dB.s<dz.length?(dB.c=dz[dB.s],dB.s=dB.s+1,true):(dC=dA[0],P.Equals(dC,null)?false:dC.MoveNext()?(dB.s=dB.s+1,dB.c=dC.Current(),dz.push(dB.c),true):(dC.Dispose(),dA[0]=null,false));},void 0);}};};_6.groupBy=function(dy,dz){return _6.delay(function(){return _3.groupBy(dy,_3.ofSeq(dz));});};_6.map2=function(dy,dz,dA){return{GetEnumerator:function(){var dB,dC;dB=b9.Get(dz);dC=b9.Get(dA);return new b_.New(null,null,function(dD){return dB.MoveNext()&&dC.MoveNext()&&(dD.c=dy(dB.Current(),dC.Current()),true);},function(){dB.Dispose();dC.Dispose();});}};};_6.initInfinite=function(dy){return{GetEnumerator:function(){return new b_.New(0,null,function(dz){dz.c=dy(dz.s);dz.s=dz.s+1;return true;},void 0);}};};_6.init=function(dy,dz){return _6.take(dy,_6.initInfinite(dz));};_6.tryFindIndex=function(dy,dz){var dA,dB,dC;dA=b9.Get(dz);try{dB=true;dC=0;while(dB&&dA.MoveNext())if(dy(dA.Current()))dB=false;else dC=dC+1;return dB?null:{$:1,$0:dC};}finally{if(typeof dA=="object"&&"Dispose"in dA)dA.Dispose();}};_6.pairwise=function(dy){return _6.map(function(dz){return[_3.get(dz,0),_3.get(dz,1)];},_6.windowed(2,dy));};_6.isEmpty=function(dy){var dz;dz=b9.Get(dy);try{return!dz.MoveNext();}finally{if(typeof dz=="object"&&"Dispose"in dz)dz.Dispose();}};_6.distinctBy=function(dy,dz){return{GetEnumerator:function(){var dA,dB;dA=b9.Get(dz);dB=new cl.New$3();return new b_.New(null,null,function(dC){var dD,dE;if(dA.MoveNext()){dD=dA.Current();dE=dB.Add(dy(dD));while(!dE&&dA.MoveNext()){dD=dA.Current();dE=dB.Add(dy(dD));}return dE&&(dC.c=dD,true);}else return false;},function(){dA.Dispose();});}};};_6.forall2=function(dy,dz,dA){return!_6.exists2(function(dB,dC){return!dy(dB,dC);},dz,dA);};_6.take=function(dy,dz){dy<0?_6.nonNegative():void 0;return{GetEnumerator:function(){var dA;dA=[b9.Get(dz)];return new b_.New(0,null,function(dB){var dC;dB.s=dB.s+1;return dB.s>dy?false:(dC=dA[0],P.Equals(dC,null)?_6.insufficient():dC.MoveNext()?(dB.c=dC.Current(),dB.s===dy?(dC.Dispose(),dA[0]=null):void 0,true):(dC.Dispose(),dA[0]=null,_6.insufficient()));},function(){var dB;dB=dA[0];!P.Equals(dB,null)?dB.Dispose():void 0;});}};};_6.distinct=function(dy){return _6.distinctBy(a.id,dy);};_6.tryPick=function(dy,dz){var dA,dB;dA=b9.Get(dz);try{dB=null;while(P.Equals(dB,null)&&dA.MoveNext())dB=dy(dA.Current());return dB;}finally{if(typeof dA=="object"&&"Dispose"in dA)dA.Dispose();}};_6.windowed=function(dy,dz){dy<=0?O.FailWith("The input must be positive."):void 0;return _6.delay(function(){return _6.enumUsing(b9.Get(dz),function(dA){var dB;dB=[];return _6.append(_6.enumWhile(function(){return dB.length<dy&&dA.MoveNext();},_6.delay(function(){dB.push(dA.Current());return[];})),_6.delay(function(){return dB.length===dy?_6.append([dB.slice(0)],_6.delay(function(){return _6.enumWhile(function(){return dA.MoveNext();},_6.delay(function(){dB.shift();dB.push(dA.Current());return[dB.slice(0)];}));})):[];}));});});};_6.skip=function(dy,dz){return{GetEnumerator:function(){var dA;dA=b9.Get(dz);return new b_.New(true,null,function(dB){var dC,dD;if(dB.s){for(dC=1,dD=dy;dC<=dD;dC++)if(!dA.MoveNext())_6.insufficient();dB.s=false;}else null;return dA.MoveNext()&&(dB.c=dA.Current(),true);},function(){dA.Dispose();});}};};_6.exists2=function(dy,dz,dA){var dB,dC,dD,dE;dB=b9.Get(dz);try{dD=b9.Get(dA);try{dE=false;while(!dE&&dB.MoveNext()&&dD.MoveNext())dE=dy(dB.Current(),dD.Current());dC=dE;}finally{if(typeof dD=="object"&&"Dispose"in dD)dD.Dispose();}return dC;}finally{if(typeof dB=="object"&&"Dispose"in dB)dB.Dispose();}};_6.sortBy=function(dy,dz){return _6.delay(function(){var dA;dA=_3.ofSeq(dz);_3.sortInPlaceBy(dy,dA);return dA;});};_6.unfold=function(dy,dz){return{GetEnumerator:function(){return new b_.New(dz,null,function(dA){var dB;dB=dy(dA.s);return dB==null?false:(dA.c=dB.$0[0],dA.s=dB.$0[1],true);},void 0);}};};_6.compareWith=function(dy,dz,dA){var dB,dC,dD,dE,dF;dB=b9.Get(dz);try{dD=b9.Get(dA);try{dE=0;dF=true;while(dF&&dE===0)if(dB.MoveNext())dE=dD.MoveNext()?dy(dB.Current(),dD.Current()):1;else if(dD.MoveNext())dE=-1;else dF=false;dC=dE;}finally{if(typeof dD=="object"&&"Dispose"in dD)dD.Dispose();}return dC;}finally{if(typeof dB=="object"&&"Dispose"in dB)dB.Dispose();}};_6.max=function(dy){var dz,dA,dB;dz=b9.Get(dy);try{if(!dz.MoveNext())_6.seqEmpty();dA=dz.Current();while(dz.MoveNext()){dB=dz.Current();P.Compare(dB,dA)===1?dA=dB:void 0;}return dA;}finally{if(typeof dz=="object"&&"Dispose"in dz)dz.Dispose();}};_6.seqEmpty=function(){return O.FailWith("The input sequence was empty.");};_6.forall=function(dy,dz){return!_6.exists(function(dA){return!dy(dA);},dz);};_6.exists=function(dy,dz){var dA,dB;dA=b9.Get(dz);try{dB=false;while(!dB&&dA.MoveNext())dB=dy(dA.Current());return dB;}finally{if(typeof dA=="object"&&"Dispose"in dA)dA.Dispose();}};_7.New=function(dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ){return{generateDoc:dy,getValue:dz,setValue:dA,setDisabled:dB,showAnnotations:dC,posFromIndex:dD,indexFromPos:dE,getWordAt:dF,getSelectionText:dG,getUri:dH,setUri:dI,hookOnChange:dJ};};_9=_8.attr=dr.Class({},m,_9);_.parseDoubleO=function(){cb.$cctor();return cb.parseDoubleO;};_.parseIntO=function(){cb.$cctor();return cb.parseIntO;};_.parseGuidO=function(){cb.$cctor();return cb.parseGuidO;};_.tryParseWith=function(dy){function dz(dA,dB){return dA?{$:1,$0:dB}:null;}return function(dA){return dz.apply(null,dy(dA));};};_.parseDateO=function(){cb.$cctor();return cb.parseDateO;};_.parseInt64O=function(){cb.$cctor();return cb.parseInt64O;};_.parseSingleO=function(){cb.$cctor();return cb.parseSingleO;};_.Double=function(){cb.$cctor();return cb["|Double|_|"];};_.Int=function(){cb.$cctor();return cb["|Int|_|"];};$.prettyPrint=function(dy){var dz,dA;function dB(dC,dD){return dC+" = "+$.prettyPrint(dD);}return dy===null?"null":(dz=typeof dy,dz=="string"?"\""+dy+"\"":dz=="object"?dy instanceof a.Array?"[|"+cc.concat("; ",_3.map($.prettyPrint,dy))+"|]":(dA=a.String(dy),dA==="[object Object]"?"{"+cc.concat("; ",_3.map(function(dC){return dB(dC[0],dC[1]);},bL.GetFields(dy)))+"}":dA):a.String(dy));};$.toSafe=function(dy){return dy==null?"":dy;};$.padNumLeft=function(dy,dz){var dA;dA=_3.get(dy,0);return dA===" "||dA==="+"||dA==="-"?dA+cc.PadLeftWith(dy.substr(1),dz-1,"0"):cc.PadLeftWith(dy,dz,"0");};$.printList=function(dy,dz){return"["+cc.concat("; ",_6.map(dy,dz))+"]";};ba=T.GuidId=dr.Class({get_Id:function(){return this.$0;}},null,ba);bb.defaultPlugIn=function(){return bc.New("",new bd.New$1(function(dy){return dy.varName;}),new bd.New$1(function(dy){return dy.viwName;}),new bd.New$1(function(dy){return dy.docName;}),new bd.New$1(function(dy){return dy.actName;}),new bd.New$1(function(dy){return dy.qryName;}));};bb.newVar=function(dy,dz){return bg.New(dy,dz);};bb.newDoc=function(dy,dz){return bi.New(dy,{$:0,$0:dz});};bb.newAct=function(dy,dz){return bj.New(dy,{$:0,$0:dz},N.Const(true));};bb.newViw=function(dy,dz){return bh.New(dy,dz);};bb.addPlugIn=function(dy){bb.plugIns().Append(dy);};bb.mainDocV=function(){cb.$cctor();return cb.mainDocV;};bb.getMainDoc=function(){cb.$cctor();return cb.getMainDoc;};bb.plugIns=function(){cb.$cctor();return cb.plugIns;};bb.tryGetPlugIn=function(dy){return bb.plugIns().TryFindByKey(dy);};bb.newDocF=function(dy,dz){return bi.New(dy,dz);};bb.selectionPlugInO=function(){cb.$cctor();return cb.selectionPlugInO;};bb.currentPlugInW=function(){cb.$cctor();return cb.currentPlugInW;};bb.renderPlugIns=function(){return bl.Flatten(bb.plugIns().MapLens(function(dy){var dz,dA,dB,dC;return(dz=(dA=bC.Make().WithHole({$:1,$0:"name",$1:dy}),dA.WithHole(bD.EventQ2(dA.k,"select",function(){return dA.i;},function(){bb.selectionPlugInO().Set({$:1,$0:dy});}))).WithHole({$:2,$0:"selected",$1:N.Map(function(dD){return P.Equals(dD,{$:1,$0:dy})?"selected":"";},bb.selectionPlugInO().get_View())}),(dB=bD.CompleteHoles(dz.k,dz.h,[]),(dC=new bB.New(dB[1],cA.tile(dB[0])),(dz.i=dC,dC)))).get_Doc();}));};bb.renderVars=function(){function dy(dA,dB){return[dA.plgName,dB.varName];}function dz(dA,dB){var dC,dD,dE;return(dC=bC.Make().WithHole({$:1,$0:"name",$1:dB.varName}).WithHole({$:8,$0:"value",$1:dB.varVar}),(dD=bD.CompleteHoles(dC.k,dC.h,[["value",0]]),(dE=new bB.New(dD[1],cA.namevalueinput(dD[0])),(dC.i=dE,dE)))).get_Doc();}return bl.ConvertBy(function(dA){return dy(dA[0],dA[1]);},function(dA){return dz(dA[0],dA[1]);},N.Map(function(dA){return _6.map(function(dB){return[dA,dB];},dA.plgVars);},bb.currentPlugInW()));};bb.renderViews=function(){function dy(dA,dB){return[dA.plgName,dB.viwName];}function dz(dA,dB){var dC,dD,dE;return(dC=bC.Make().WithHole({$:1,$0:"name",$1:dB.viwName}).WithHole({$:2,$0:"value",$1:dB.viwView}),(dD=bD.CompleteHoles(dC.k,dC.h,[]),(dE=new bB.New(dD[1],cA.namevalue(dD[0])),(dC.i=dE,dE)))).get_Doc();}return bl.ConvertBy(function(dA){return dy(dA[0],dA[1]);},function(dA){return dz(dA[0],dA[1]);},N.Map(function(dA){return _6.map(function(dB){return[dA,dB];},dA.plgViews);},bb.currentPlugInW()));};bb.renderDocs=function(){function dy(dA,dB){return[dA.plgName,dB.docName];}function dz(dA,dB){var dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM;return(dC=(dD=(dE=dB.docName+(dF=dB.docDoc,dF.$==1?(dG=cc.concat(", ",bp.ofArray([dF.$1])),(function(dN){return function(dO){return dN("("+$.toSafe(dO)+")");};}(a.id))(dG)):dF.$==2?(dH=cc.concat(", ",bp.ofArray([dF.$1,dF.$2])),(function(dN){return function(dO){return dN("("+$.toSafe(dO)+")");};}(a.id))(dH)):dF.$==3?(dI=cc.concat(", ",bp.ofArray([dF.$1,dF.$2,dF.$3])),(function(dN){return function(dO){return dN("("+$.toSafe(dO)+")");};}(a.id))(dI)):dF.$==4?(dJ=cc.concat(", ",bp.ofArray([dF.$1,dF.$2,dF.$3,dF.$4])),(function(dN){return function(dO){return dN("("+$.toSafe(dO)+")");};}(a.id))(dJ)):dF.$==5?(dK=cc.concat(", ",bp.ofArray([dF.$1,dF.$2,dF.$3,dF.$4,dF.$5])),(function(dN){return function(dO){return dN("("+$.toSafe(dO)+")");};}(a.id))(dK)):""),bC.Make().WithHole({$:1,$0:"name",$1:dE})),dD.WithHole(bD.EventQ2(dD.k,"select",function(){return dD.i;},function(){N.Get(function(dN){bb.mainDocV().Set(dN.plgName+"."+dB.docName);},bb.currentPlugInW());}))),(dL=bD.CompleteHoles(dC.k,dC.h,[]),(dM=new bB.New(dL[1],cA.tile(dL[0])),(dC.i=dM,dM)))).get_Doc();}return bl.ConvertBy(function(dA){return dy(dA[0],dA[1]);},function(dA){return dz(dA[0],dA[1]);},N.Map(function(dA){return _6.map(function(dB){return[dA,dB];},dA.plgDocs);},bb.currentPlugInW()));};bb.renderActions=function(){function dy(dA,dB){return[dA.plgName,dB.actName];}function dz(dA,dB){var dC,dD,dE,dF;dC=(dD=dB.actFunction,dD.$==1?(dE=cc.concat(", ",bp.ofArray([dD.$1])),(function(dG){return function(dH){return dG("("+$.toSafe(dH)+")");};}(a.id))(dE)):dD.$==2?(dF=cc.concat(", ",bp.ofArray([dD.$1,dD.$2])),(function(dG){return function(dH){return dG("("+$.toSafe(dH)+")");};}(a.id))(dF)):"");return bl.EmbedView(N.Map(function(dG){var dH,dI,dJ,dK,dL,dM,dN,dO;return dG?(dH=(dI=bC.Make().WithHole({$:1,$0:"name",$1:dB.actName+dC}),dI.WithHole(bD.EventQ2(dI.k,"click",function(){return dI.i;},function(dP){bb.callFunction(dP,null,dB.actFunction);}))),(dJ=bD.CompleteHoles(dH.k,dH.h,[]),(dK=new bB.New(dJ[1],cA.action(dJ[0])),(dH.i=dK,dK)))).get_Doc():(dL=(dM=bC.Make().WithHole({$:1,$0:"name",$1:dB.actName}),dM.WithHole(bD.EventQ2(dM.k,"click",function(){return dM.i;},function(dP){bb.callFunction(dP,null,dB.actFunction);}))),(dN=bD.CompleteHoles(dL.k,dL.h,[]),(dO=new bB.New(dN[1],cA.actiondisabled(dN[0])),(dL.i=dO,dO)))).get_Doc();},dB.actEnabled));}return bl.ConvertBy(function(dA){return dy(dA[0],dA[1]);},function(dA){return dz(dA[0],dA[1]);},N.Map(function(dA){return _6.map(function(dB){return[dA,dB];},dA.plgActions);},bb.currentPlugInW()));};bb.renderQueries=function(){function dy(dA,dB){return[dA.plgName,dB.qryName];}function dz(dA,dB){var dC,dD,dE,dF;return(dC=(dD=bC.Make().WithHole({$:1,$0:"name",$1:dB.qryName}),dD.WithHole(bD.EventQ2(dD.k,"select",function(){return dD.i;},function(){a.alert(dB.qryFunction(null));}))),(dE=bD.CompleteHoles(dC.k,dC.h,[]),(dF=new bB.New(dE[1],cA.tile(dE[0])),(dC.i=dF,dF)))).get_Doc();}return bl.ConvertBy(function(dA){return dy(dA[0],dA[1]);},function(dA){return dz(dA[0],dA[1]);},N.Map(function(dA){return _6.map(function(dB){return[dA,dB];},dA.plgQueries);},bb.currentPlugInW()));};bb.newActF=function(dy,dz){return bj.New(dy,dz,N.Const(true));};bb.setVar=function(dy,dz){var dA,dB;dA=(dB=(bb.splitName("AppFramework"))(dy),bb.tryGetVar(dB[0],dB[1]));dA==null?void 0:dA.$0.varVar.Set(dz);};bb.trigAct=function(dy,dz){var dA,dB,dC;return bl.TextView(N.Map(function(dD){var dE,dF;return dD==null?"":(dE=(dF=(bb.splitName("AppFramework"))(dz),bb.tryGetAct(dF[0],dF[1])),dE==null?void 0:bb.callFunction(null,null,dE.$0.actFunction),"");},(dA=(dB=(bb.splitName("AppFramework"))(dy),bb.tryGetWoWW(dB[0],dB[1])),(dC=[X.Create$1(null)],(N.Sink(function(dD){if(!P.Equals(dC[0].Get(),dD))dC[0].Set(dD);},dA),dC[0].get_View())))));};bb.newQry=function(dy,dz){return bk.New(dy,dz);};bb.AppFwkClient=function(){cb.$cctor();return cb.AppFwkClient;};bb.docTrigAct=function(){cb.$cctor();return cb.docTrigAct;};bb.actHello=function(){cb.$cctor();return cb.actHello;};bb.actSetVar=function(){cb.$cctor();return cb.actSetVar;};bb.qryDocs=function(){cb.$cctor();return cb.qryDocs;};bb.horizontal=function(dy,dz,dA,dB,dC){var dD,dE,dF,dG;return(dD=(dE=bC.Make().WithHole({$:2,$0:"partsizes",$1:dy}).WithHole({$:7,$0:"afterrender",$1:dz}).WithHole({$:7,$0:"afterrendersp",$1:dA}),dE.WithHole(bD.EventQ2(dE.k,"mousedown",function(){return dE.i;},function(dH){dB(dH.Event);}))).WithHole({$:2,$0:"gap",$1:dC}),(dF=bD.CompleteHoles(dD.k,dD.h,[]),(dG=new bB.New(dF[1],cA.wcompsplitterhor(dF[0])),(dD.i=dG,dG)))).get_Doc();};bb.vertical=function(dy,dz,dA,dB,dC){var dD,dE,dF,dG;return(dD=(dE=bC.Make().WithHole({$:2,$0:"partsizes",$1:dy}).WithHole({$:7,$0:"afterrender",$1:dz}).WithHole({$:7,$0:"afterrendersp",$1:dA}),dE.WithHole(bD.EventQ2(dE.k,"mousedown",function(){return dE.i;},function(dH){dB(dH.Event);}))).WithHole({$:2,$0:"gap",$1:dC}),(dF=bD.CompleteHoles(dD.k,dD.h,[]),(dG=new bB.New(dF[1],cA.wcompsplitterver(dF[0])),(dD.i=dG,dG)))).get_Doc();};bb.mainDoc=function(){var dy,dz,dA,dB,dC,dD;return(dy=(dz=bb.getMainClientDoc(),(dA=(dB=bb.mainDocV().get_View(),bC.Make().WithHole({$:2,$0:"maindoc",$1:dB})),dA.WithHole(bD.EventQ2(dA.k,"goclient",function(){return dA.i;},function(){bb.mainDocV().Set("AppFramework.AppFwkClient");}))).WithHole({$:0,$0:"mainclient",$1:dz})),(dC=bD.CompleteHoles(dy.k,dy.h,[]),(dD=new bB.New(dC[1],cA.appframework(dC[0])),(dy.i=dD,dD)))).get_Doc();};bb.splitName=function(dy){function dz(dB){return cw.splitByChar(".",dB);}function dA(dB){return _3.length(dB)===1?[dy,_3.get(dB,0)]:[_3.get(dB,0),_3.get(dB,1)];}return function(dB){return dA(dz(dB));};};bb.tryGetAct=function(dy,dz){var dA;dA=bb.tryGetPlugIn(dy);return dA==null?null:dA.$0.plgActions.TryFindByKey(dz);};bb.callFunction=function(dy,dz,dA){if(dA.$==1)dA.$0(dy);else if(dA.$==2)(dA.$0(dy))(dz);else dA.$0();};bb.tryGetVar=function(dy,dz){var dA;dA=bb.tryGetPlugIn(dy);return dA==null?null:dA.$0.plgVars.TryFindByKey(dz);};bb.tryGetWoWW=function(dy,dz){return N.Bind(function(dA){return dA==null?N.Bind(function(dB){return dB==null?N.Const(null):N.Map(function(dC){return{$:1,$0:dC};},dB.$0.varVar.get_View());},bb.tryGetVarW(dy,dz)):N.Map(function(dB){return{$:1,$0:dB};},dA.$0.viwView);},bb.tryGetViwW(dy,dz));};bb.getMainClientDoc=function(){var dy;return bl.EmbedView((dy=bb.plugIns().v,N.Map2(function(dz,dA){var dB,dC;dB=_6.tryPick(function(dD){var dE;dE=_6.tryFind(function(dF){return dD.plgName===dz||dD.plgName+"."+dF.docName===dz;},dD.plgDocs);return dE==null?null:{$:1,$0:bb.getLazyDoc(dE.$0)};},dA);dC=bb.AppFwkClient().f();return dB==null?dC:dB.$0;},bb.mainDocV().get_View(),dy)));};bb.tryGetVoVW=function(dy,dz){return N.Bind(function(dA){return dA==null?N.Map(function(dB){return dB==null?null:{$:1,$0:new ca.New(dB.$0.viwView,a.ignore)};},bb.tryGetViwW(dy,dz)):N.Const({$:1,$0:dA.$0.varVar});},bb.tryGetVarW(dy,dz));};bb.tryGetDoc=function(dy,dz){var dA;dA=bb.tryGetPlugIn(dy);return dA==null?null:dA.$0.plgDocs.TryFindByKey(dz);};bb.tryGetViw=function(dy,dz){var dA;dA=bb.tryGetPlugIn(dy);return dA==null?null:dA.$0.plgViews.TryFindByKey(dz);};bb.tryGetViwW=function(dy,dz){return N.Bind(function(dA){return dA!=null&&dA.$==1?dA.$0.plgViews.TryFindByKeyAsView(dz):N.Const(null);},bb.tryGetPlugInW(dy));};bb.tryGetVarW=function(dy,dz){return N.Bind(function(dA){return dA!=null&&dA.$==1?dA.$0.plgVars.TryFindByKeyAsView(dz):N.Const(null);},bb.tryGetPlugInW(dy));};bb.getLazyDoc=function(dy){var dz;dz=dy.docDoc;return dz.$==0?dz.$0.f():bl.Element("div",[],[bl.TextNode((function(dA){return function(dB){return dA("Doc with parameters not allowed here: "+cB.p(dB));};}(a.id))(dy))]);};bb.tryGetActW=function(dy,dz){return N.Bind(function(dA){return dA!=null&&dA.$==1?dA.$0.plgActions.TryFindByKeyAsView(dz):N.Const(null);},bb.tryGetPlugInW(dy));};bb.tryGetPlugInW=function(dy){return bb.plugIns().TryFindByKeyAsView(dy);};bb.tryGetDocW=function(dy,dz){return N.Bind(function(dA){return dA!=null&&dA.$==1?dA.$0.plgDocs.TryFindByKeyAsView(dz):N.Const(null);},bb.tryGetPlugInW(dy));};bc.New=function(dy,dz,dA,dB,dC,dD){return{plgName:dy,plgVars:dz,plgViews:dA,plgDocs:dB,plgActions:dC,plgQueries:dD};};bd=L.ListModel=dr.Class({AppendMany:function(dy){var dz,dA;function dB(dC,dD){var dE,dF;dE=dz.key(dD);dz.ObsoleteKey(dE);dF=_3.tryFindIndex(function(dG){return P.Equals(dz.key(dG),dE);},dC);return dF==null?(dA.push(dD),dC):dz.storage.SSetAt(dF.$0,dD,dC);}dz=this;dA=[];this["var"].Set(this.storage.SAppendMany(dA,(((dr.Curried3(_6.fold))(dB))(this["var"].Get()))(dy)));},TryFindByKeyAsView:function(dy){var dz;dz=this;return function(){var dA,dB,dC;dA=(dB=null,[dz.it.TryGetValue(dy,{get:function(){return dB;},set:function(dD){dB=dD;}}),dB]);return dA[0]?dA[1]:(dC=bQ.New({$:2,$0:dz.TryFindByKey(dy),$1:[]}),(dz.it.Add(dy,dC),dC));};},ContainsKey:function(dy){var dz;dz=this;return _3.exists(function(dA){return P.Equals(dz.key(dA),dy);},this["var"].Get());},Lens:function(dy){return this.LensInto(a.id,function(dz,dA){return dA;},dy);},RemoveByKey:function(dy){var dz;dz=this;this["var"].Set(this.storage.SRemoveIf(function(dA){return P.Equals(dz.key(dA),dy);},this["var"].Get()));this.ObsoleteKey(dy);},ContainsKeyAsView:function(dy){var dz;function dA(dB){return P.Equals(dz.key(dB),dy);}dz=this;return N.Map(function(dB){return _3.exists(dA,dB);},this["var"].get_View());},TryFindByKey:function(dy){var dz;dz=this;return _3.tryFind(function(dA){return P.Equals(dz.key(dA),dy);},this["var"].Get());},Set:function(dy){this["var"].Set(this.storage.SSet(dy));this.ObsoleteAll();},Append:function(dy){var dz,dA,dB,dC;dz=this;dA=this["var"].Get();dB=this.key(dy);dC=_3.tryFindIndex(function(dD){return P.Equals(dz.key(dD),dB);},dA);dC!=null&&dC.$==1?this["var"].Set(this.storage.SSetAt(dC.$0,dy,dA)):this["var"].Set(this.storage.SAppend(dy,dA));this.ObsoleteKey(dB);},ObsoleteKey:function(dy){var dz,dA;dz=(dA=null,[this.it.TryGetValue(dy,{get:function(){return dA;},set:function(dB){dA=dB;}}),dA]);dz[0]?(bQ.Obsolete(dz[1]),this.it.Remove(dy)):void 0;},LensInto:function(dy,dz,dA){return this["LensInto'"](dy,dz,dA,N.Map(dy,this.FindByKeyAsView(dA)));},ObsoleteAll:function(){_6.iter(function(dy){bQ.Obsolete(dy.V);},this.it);this.it.Clear();},"LensInto'":function(dy,dz,dA,dB){var dC,dD,dE;dC=this;dD=b6.Id();dE=new M({Get:function(){return dy(dC.FindByKey(dA));},Set:function(dF){return dC.UpdateBy(function(dG){return{$:1,$0:dz(dG,dF)};},dA);},SetFinal:function(dF){return this.Set(dF);},Update:function(dF){return dC.UpdateBy(function(dG){return{$:1,$0:dz(dG,dF(dy(dG)))};},dA);},UpdateMaybe:function(dF){return dC.UpdateBy(function(dG){var dH;dH=dF(dy(dG));return dH==null?null:{$:1,$0:dz(dG,dH.$0)};},dA);},get_View:function(){return dB;},get_Id:function(){return dD;}});M.New.call(dE);return dE;},FindByKeyAsView:function(dy){return N.Map(function(dz){return dz.$0;},this.TryFindByKeyAsView(dy));},FindByKey:function(dy){var dz;dz=this;return _3.find(function(dA){return P.Equals(dz.key(dA),dy);},this["var"].Get());},UpdateBy:function(dy,dz){var dA,dB,dC,dD,dE;dA=this;dB=this["var"].Get();dC=_3.tryFindIndex(function(dF){return P.Equals(dA.key(dF),dz);},dB);dC!=null&&dC.$==1?(dD=dC.$0,dE=dy(_3.get(dB,dD)),dE!=null&&dE.$==1?(this["var"].Set(this.storage.SSetAt(dD,dE.$0,dB)),this.ObsoleteKey(dz)):void 0):void 0;},MapLens:function(dy){var dz;dz=this;return N.MapSeqCachedViewBy(dz.key,function(dA,dB){return dy(dA,dz["LensInto'"](a.id,function(dC,dD){return dD;},dA,dB));},this["var"].get_View());},GetEnumerator:function(){return b9.Get(this["var"].Get());},GetEnumerator0:function(){return b9.Get0(this["var"].Get());}},m,bd);bd.New$1=dr.Ctor(function(dy){bd.New$2.call(this,dy,[]);},bd);bd.New$2=dr.Ctor(function(dy,dz){var dA;dA=_3.ofSeq(dz);bd.New$3.call(this,dy,X.Create$1(dA),ci.InMemory(dA));},bd);bd.New=dr.Ctor(function(dy,dz){bd.New$3.call(this,dy,X.Create$1(_3.ofSeq(_6.distinctBy(dy,dz.SInit()))),dz);},bd);bd.New$3=dr.Ctor(function(dy,dz,dA){m.New.call(this);this.key=dy;this["var"]=dz;this.storage=dA;this.v=N.Map(function(dB){return dB.slice();},this["var"].get_View());this.it=new bu.New$5();},bd);be.Create=function(dy){return ce.New(false,dy,be.forceLazy);};be.forceLazy=function(){var dy;dy=this.v();this.c=true;this.v=dy;this.f=be.cachedLazy;return dy;};be.cachedLazy=function(){return this.v;};bf.turnToView=function(dy){return bl.EmbedView(N.Map(dy,bf.currentViewTriggger()));};bf.addLayout=function(dy){N.Sink(function(dz){var dA,dB,dC,dD,dE;bf.set_currentViewTriggger(N.Map2(function(dF,dG){return dF+dG;},dy.lytDefinition.get_View(),bb.mainDocV().get_View()));dA=bf.createEntries(dy.lytName,dz);dB=(dC=bb.tryGetPlugIn(dy.lytName),dC==null?(dD=(dE=bb.defaultPlugIn(),bc.New(dy.lytName,dE.plgVars,dE.plgViews,dE.plgDocs,dE.plgActions,dE.plgQueries)),(bb.addPlugIn(dD),dD)):dC.$0);ch.refreshLM(dB.plgVars,_3.ofSeq(_6.delay(function(){return _6.append([bb.newVar("Layout",dy.lytDefinition)],_6.delay(function(){return bf.getVarEntries(dA);}));})));ch.refreshLM(dB.plgViews,_3.ofSeq(_6.delay(function(){return bf.getViewEntries(dA);})));ch.refreshLM(dB.plgDocs,_3.ofSeq(_6.delay(function(){return _6.append(bf.getDocEntries(dA),_6.delay(function(){var dF;return _6.append([bb.newDocF("InputFile",{$:4,$0:(dF=dy.lytName,dr.Curried(bf.inputFile,4,[dF])),$1:"attrs",$2:"Label",$3:"Action",$4:"[Doc]"})],_6.delay(function(){var dG;return _6.append([bb.newDocF("InputLabel",{$:3,$0:(dG=dy.lytName,dr.Curried(bf.inputLabel,3,[dG])),$1:"attrs",$2:"Label",$3:"Var"})],_6.delay(function(){var dH;return _6.append([bb.newDocF("HtmlDoc",{$:1,$0:(dH=dy.lytName,function(dI){return bf.htmlDoc(dH,dI);}),$1:"html"})],_6.delay(function(){return[bb.newDocF("none",{$:1,$0:bf.none,$1:"x"})];}));}));}));}));})));ch.refreshLM(dB.plgActions,_3.ofSeq(_6.delay(function(){return bf.getActionEntries(dA);})));ch.refreshLM(dB.plgQueries,_3.ofSeq(_6.delay(function(){return bf.getQueryEntries(dA);})));},dy.lytDefinition.get_View());};bf.newLyt=function(dy,dz){return bn.New(dy,X.Create$1(dz));};bf.currentViewTriggger=function(){cb.$cctor();return cb.currentViewTriggger;};bf.set_currentViewTriggger=function(dy){cb.$cctor();cb.currentViewTriggger=dy;};bf.createEntries=function(dy,dz){return bf.processLines(function(dA){return bf.createEntryO(dy,dA);},cc.SplitChars(dz,["\n","\r"],1));};bf.getVarEntries=function(dy){function dz(dA){return dA[1];}return _6.map(function(dA){return _6.last(dz(dA));},_6.groupBy(function(dA){return dA.varName;},_6.choose(function(dA){return dA.$==0?{$:1,$0:dA.$0}:null;},dy)));};bf.getViewEntries=function(dy){function dz(dA){return dA[1];}return _6.map(function(dA){return _6.last(dz(dA));},_6.groupBy(function(dA){return dA.viwName;},_6.choose(function(dA){return dA.$==1?{$:1,$0:dA.$0}:null;},dy)));};bf.getDocEntries=function(dy){function dz(dA){return dA[1];}return _6.map(function(dA){return _6.last(dz(dA));},_6.groupBy(function(dA){return dA.docName;},_6.choose(function(dA){return dA.$==2?{$:1,$0:dA.$0}:null;},dy)));};bf.inputFile=function(dy,dz,dA,dB,dC){var dD,dE,dF,dG;dD=(dE=(dF=((bf.splitName())(dy))(dB),bb.tryGetAct(dF[0],dF[1])),dE==null?null:{$:1,$0:(dG=dE.$0,bl.Element("div",bf.getAttrs(dy,{$:0,$0:dz}),[bl.Element("div",[b3.Create("class","input-group")],[bl.Element("span",[b3.Create("class","input-group-btn")],[bl.Element("label",[b3.Create("class","btn")],[bf.getText(dy,{$:0,$0:dA}),bl.Element("input",[b3.Create("class","form-control"),b3.Create("type","file"),b$.Style("display","none"),b3.HandlerImpl("click",function(dH){return function(){dH.value="";};}),b3.HandlerImpl("change",function(dH){return function(){return bb.callFunction(dH,null,dG.actFunction);};})],[])])]),dC!==""?bf.singleDoc(dy,bp.ofArray([{$:1,$0:dC}])):bl.get_Empty()])]))});return dD==null?bf.errDoc((function(dH){return function(dI){return dH("Action not found "+$.toSafe(dI));};}(a.id))(dB)):dD.$0;};bf.inputLabel=function(dy,dz,dA,dB){var dC,dD,dE;dC=(dD=(dE=((bf.splitName())(dy))(dB),bb.tryGetVar(dE[0],dE[1])),dD==null?null:{$:1,$0:bl.Element("div",bf.getAttrs(dy,{$:0,$0:dz}),[bl.Element("div",[b3.Create("class","input-group")],[bl.Element("span",[b3.Create("class","input-group-addon")],[bf.getText(dy,{$:0,$0:dA})]),bl.Input([b3.Create("class","form-control")],dD.$0.varVar)])])});return dC==null?bf.errDoc((function(dF){return function(dG){return dF("Var not found "+$.toSafe(dG));};}(a.id))(dB)):dC.$0;};bf.htmlDoc=function(dy,dz){return bl.BindView(function(dA){return dA.$==1?bf.errDoc((function(dB){return function(dC){return dB("HtmlDoc: unexpected action "+cB.p$1(dC));};}(a.id))(dA.$0)):bl.Verbatim(dA.$0);},bf.getTextData(dy,dz));};bf.none=function(dy){return bl.Element("span",[],[]);};bf.getActionEntries=function(dy){function dz(dA){return dA[1];}return _6.map(function(dA){return _6.last(dz(dA));},_6.groupBy(function(dA){return dA.actName;},_6.choose(function(dA){return dA.$==3?{$:1,$0:dA.$0}:null;},dy)));};bf.getQueryEntries=function(dy){function dz(dA){return dA[1];}return _6.map(function(dA){return _6.last(dz(dA));},_6.groupBy(function(dA){return dA.qryName;},_6.choose(function(dA){return dA.$==4?{$:1,$0:dA.$0}:null;},dy)));};bf.createSplitter=function(dy,dz,dA,dB,dC){var dD;dD=bf.pairOfDocs(dy,dC);return dB.$==1?bf.variableSplitter(dA,dB.$0,dB.$1,dB.$2,dD[0],dD[1]):bf.fixedSplitter(dA,dB.$0,dB.$1,dD[0],dD[1]);};bf.createButton=function(dy,dz,dA,dB,dC){var dD;dD=bf.S(dC);return bf.turnToView(function(){var dE,dF,dG,dH,dI;function dJ(dK,dL){return bb.callFunction(null,null,dK.actFunction);}dE=(dF=(dG=(dH=((bf.splitName())(dy))(dA),bb.tryGetAct(dH[0],dH[1])),dG==null?null:{$:1,$0:(dI=dG.$0,function(dK){return dJ(dI,dK);})}),dF==null?a.ignore:dF.$0);return bl.Button(dD,bf.getAttrs(dy,dB),dE);});};bf.createInput=function(dy,dz,dA,dB){return bf.turnToView(function(){var dC;return bl.BindView(function(dD){return dD==null?bf.errDoc((function(dE){return function(dF){return dE("Missing var: "+$.toSafe(dF));};}(a.id))(dA)):bl.Input(bf.getAttrs(dy,dB),dD.$0);},(dC=((bf.splitName())(dy))(dA),bb.tryGetVoVW(dC[0],dC[1])));});};bf.createTextArea=function(dy,dz,dA,dB){return bf.turnToView(function(){var dC;return bl.BindView(function(dD){return dD==null?bf.errDoc((function(dE){return function(dF){return dE("Missing var: "+$.toSafe(dF));};}(a.id))(dA)):bl.InputArea(bf.getAttrs(dy,dB),dD.$0);},(dC=((bf.splitName())(dy))(dA),bb.tryGetVoVW(dC[0],dC[1])));});};bf.createElement=function(dy,dz,dA,dB,dC){return bf.turnToView(function(){var dD;dD=[bl.Concat(bf.getAllDocs(dy,dC))];return bl.Element(dA,bf.getAttrs(dy,dB),dD);});};bf.createDoc=function(dy,dz,dA,dB){return bf.turnToView(function(){var dC,dD,dE;dC=(dD=(dE=((bf.splitName())(dy))(dA),bb.tryGetDoc(dE[0],dE[1])),dD==null?null:{$:1,$0:bf.getDocFinal(dB,dD.$0)});return dC==null?bf.errDoc((function(dF){return function(dG){return dF("Missing doc: "+$.toSafe(dG));};}(a.id))(dA)):dC.$0;});};bf.createTemplate=function(dy,dz,dA,dB,dC){return bf.turnToView(function(){var dD,dE,dF,dG,dH,dI;dF=bf.getAttrs(dy,dB);cr.LoadLocalTemplates("local");function dJ(dL,dM){var dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX;dN=bf.S(dL);dO=bf.Identifier(dM);return dO!=null&&dO.$==1?(dP=dO.$0,dQ=(dR=(dS=(dT=((bf.splitName())(dy))(dP),bb.tryGetDoc(dT[0],dT[1])),dS==null?null:{$:1,$0:{$:0,$0:dN.toLowerCase(),$1:(bf.getDocF(bq.Empty,dS.$0))[0]}}),dR==null?(dU=(dV=((bf.splitName())(dy))(dP),bb.tryGetVar(dV[0],dV[1])),dU==null?null:{$:1,$0:{$:8,$0:dN.toLowerCase(),$1:dU.$0.varVar}}):dR),dQ==null?{$:0,$0:dN.toLowerCase(),$1:bf.errDoc((function(dY){return function(dZ){return dY("Missing element: "+$.toSafe(dZ));};}(a.id))(dP))}:dQ.$0):(dW=bf.S(dL),dX=bf.S(dM),{$:0,$0:dW.toLowerCase(),$1:bf.errDoc((function(dY){return function(dZ){return dY("Not implemented: "+$.toSafe(dZ));};}(a.id))(dX))});}function dK(dL,dM){return dL%2===0;}try{dE={$:1,$0:(dG=(dH=_6.map(function(dL){return dJ(dL[0],dL[1]);},_6.map(function(dL){return dL[1];},_6.filter(function(dL){return dK(dL[0],dL[1]);},_6.indexed(_6.pairwise(dC))))),(_6.isEmpty(dF)?a.id:(dI=[{$:3,$0:"attrs",$1:b3.Concat(dF)}],function(dL){return _6.append(dI,dL);}))(dH)),cr.NamedTemplate("local",{$:1,$0:dA.toLowerCase()},dG))};}catch(dL){dE=null;}return dE==null?bf.errDoc((function(dM){return function(dN){return dM("Missing template: "+$.toSafe(dN));};}(a.id))(dA)):dE.$0;});};bf.createConcat=function(dy,dz,dA){return bf.turnToView(function(){return bl.Concat(bf.getAllDocs(dy,dA));});};bf.createVar=function(dy,dz,dA){return X.Create$1(dA);};bf.createView=function(dy,dz,dA){return N.Bind(function(){var dB;function dC(dD){return dD.$==1?(function(dE){return function(dF){return dE(cB.p$1(dF));};}(a.id))(dD.$0):dD.$0;}try{return N.Map(function(dD){try{return!P.Equals(dD,null)&&dD.length===0?"No JS function specified":!P.Equals(dD,null)&&dD.length===1?a.String(a["eval"](_3.get(dD,0))):a.String(a["eval"](_3.get(dD,0)).apply(null,bv.array(dD,{$:1,$0:1},null)));}catch(dE){return dE.message;}},N.Map((dB=function(dD){return _6.map(dC,dD);},function(dD){return _3.ofSeq(dB(dD));}),bm.traverseSeq(function(dD){return bf.getTextToken(dy,dD);},dA)));}catch(dD){return N.Const(dD.message);}},bf.currentViewTriggger());};bf.createAction=function(dy,dz,dA,dB){var dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP;dG=(dD=((bf.splitName())(dy))(dA),bb.tryGetAct(dD[0],dD[1]));if(dG==null)dC=null;else{dH=dG.$0;if(dB.$===0)dE=dH.actFunction;else{dI=dH.actFunction;switch(dI.$==1?dB.$==1?dB.$1.$==0?(dF=[dI.$0,dB.$0],0):3:3:dI.$==2?dB.$==1?dB.$1.$==0?(dF=[dI.$0,dI.$2,dB.$0],2):dB.$1.$1.$==0?(dF=[dI.$0,dB.$0,dB.$1.$0],1):3:3:3){case 0:dE=(dJ=dF[0],(dK=dF[1],{$:0,$0:function(){bf.getParamText(dy,dK,dJ);}}));break;case 1:dE=(dL=dF[0],(dM=dF[1],(dN=dF[2],{$:0,$0:function(){bf.getParamText(dy,dM,function(dQ){bf.getParamText(dy,dN,dL(dQ));});}})));break;case 2:dE=(dO=dF[0],(dP=dF[2],{$:1,$0:function(dQ){bf.getParamText(dy,dP,function(dR){(dO(dR))(dQ);});},$1:dF[1]}));break;case 3:dE={$:0,$0:function(){((((dr.Curried(function(dQ,dR,dS,dT){return dQ("Parameters do not coincide for Action "+$.toSafe(dR)+" "+$.printList(function(dU){return cC.p$3(dU);},dS)+" "+cB.p$1(dT));},4))(function(dQ){ds.log(dQ);}))(dA))(dB))(dH);}};break;}}dC={$:1,$0:dE};}return dC==null?{$:0,$0:function(){((function(dQ){return function(dR){return dQ("Action Not Found "+$.toSafe(dR));};}(function(dQ){ds.log(dQ);}))(dA));}}:dC.$0;};bf.addNewLayout=function(dy,dz){var dA,dB;bf.addLayout((dA=(dB=!P.Equals(dz,null)?dz:"\r\n            split horizontal 0-50-100 AppFramework.AppFwkClient Hello\r\n            Hello h1 \"color:blue; class=btn-primary\" \"How are you today?\" Ask\r\n            Ask Doc InputLabel \"placeholder=Type you answer here...\" \"Answer:\" AppFramework.mainDocV  \r\n            ",(cw.unindentStr())(dB)),bf.newLyt(!P.Equals(dz,null)?dy:"Lyt_"+cc.Replace(a.String(bs.NewGuid()),"-",""),dA)));};bf.processLines=function(dy,dz){function dA(dB){var dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN;dC=_6.tryHead(dB);return dC!=null&&dC.$==1?(dD=dC.$0,(dE=bf.splitTokens(dD),dE.$==1&&(dG=bf.Identifier(dE.$0),dG!=null&&dG.$==1&&(dE.$1.$==1&&(bf.Vertical(dE.$1.$0).$==2&&(dE.$1.$1.$==0&&(dF=dG.$0,true)))))?(dH=bf.getExtraLines(function(dO){return cc.StartsWith(cc.Trim(dO),"|");},dB),dA((cT.createLayoutDefinitions(dF,cT.extractNodes(dH[0])))[1].concat(dH[1]))):dE.$==0?dA(bv.array(dB,{$:1,$0:1},null)):(dI=bf.getExtraLines(function(dO){return cc.StartsWith(cc.Trim(dO),":");},dB),(dJ=dI[1],(dK=dI[0],_3.length(dK)>0?(dL=bf.createLines(_6.nth(0,cc.SplitChars(dD,[" "],1)),1,[],[],1,dK),(dM=dL[0],(dN=dL[1],dA(_3.ofSeq(_6.delay(function(){return _6.append([dD+" "+cc.concat(" ",dM)],_6.delay(function(){return _6.append(dN,_6.delay(function(){return dJ;}));}));})))))):_3.ofSeq(_6.delay(function(){var dO;return _6.append((dO=dy(dD),dO!=null&&dO.$==1?[dO.$0]:[]),_6.delay(function(){return dA(dJ);}));}))))))):[];}return dA(dz);};bf.createEntryO=function(dy,dz){var dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh;try{dA=bf.splitTokens(dz);return dA.$==1&&(dC=bf.Identifier(dA.$0),dC!=null&&dC.$==1&&(dA.$1.$==1&&(bf.Vertical(dA.$1.$0).$==0&&(dA.$1.$1.$==1&&(dD=bf.Measures$1(dA.$1.$1.$0),dD!=null&&dD.$==1&&(dB=[dA.$1.$1.$1,dD.$0,dC.$0],true))))))?(dE=dB[2],bf.entryDoc(dE,(bf.createSplitterM())([dy,dE,true,dB[1],dB[0]]))):dA.$==1&&(dG=bf.Identifier(dA.$0),dG!=null&&dG.$==1&&(dA.$1.$==1&&(bf.Vertical(dA.$1.$0).$==1&&(dA.$1.$1.$==1&&(dH=bf.Measures$1(dA.$1.$1.$0),dH!=null&&dH.$==1&&(dF=[dA.$1.$1.$1,dH.$0,dG.$0],true))))))?(dI=dF[2],bf.entryDoc(dI,(bf.createSplitterM())([dy,dI,false,dF[1],dF[0]]))):dA.$==1&&(dK=bf.Identifier(dA.$0),dK!=null&&dK.$==1&&(dA.$1.$==1&&(bf.Button(dA.$1.$0).$==0&&(dA.$1.$1.$==1&&(dL=bf.Identifier(dA.$1.$1.$0),dL!=null&&dL.$==1&&(dA.$1.$1.$1.$==1&&(dA.$1.$1.$1.$1.$==1&&(dA.$1.$1.$1.$1.$1.$==0&&(dJ=[dL.$0,dA.$1.$1.$1.$0,dK.$0,dA.$1.$1.$1.$1.$0],true)))))))))?(dM=dJ[2],bf.entryDoc(dM,(bf.createButtonM())([dy,dM,dJ[0],dJ[1],dJ[3]]))):dA.$==1&&(dO=bf.Identifier(dA.$0),dO!=null&&dO.$==1&&(dA.$1.$==1&&(bf.Button(dA.$1.$0).$==1&&(dA.$1.$1.$==1&&(dP=bf.Identifier(dA.$1.$1.$0),dP!=null&&dP.$==1&&(dA.$1.$1.$1.$==1&&(dA.$1.$1.$1.$1.$==0&&(dN=[dA.$1.$1.$1.$0,dO.$0,dP.$0],true))))))))?(dQ=dN[1],bf.entryDoc(dQ,(bf.createInputM())([dy,dQ,dN[2],dN[0]]))):dA.$==1&&(dS=bf.Identifier(dA.$0),dS!=null&&dS.$==1&&(dA.$1.$==1&&(bf.Button(dA.$1.$0).$==2&&(dA.$1.$1.$==1&&(dT=bf.Identifier(dA.$1.$1.$0),dT!=null&&dT.$==1&&(dA.$1.$1.$1.$==1&&(dA.$1.$1.$1.$1.$==0&&(dR=[dA.$1.$1.$1.$0,dS.$0,dT.$0],true))))))))?(dU=dR[1],bf.entryDoc(dU,(bf.createTextAreaM())([dy,dU,dR[2],dR[0]]))):dA.$==1&&(dW=bf.Identifier(dA.$0),dW!=null&&dW.$==1&&(dA.$1.$==1&&(bf.Var(dA.$1.$0).$==0&&(dA.$1.$1.$==1&&(dA.$1.$1.$1.$==0&&(dV=[dW.$0,bf.S(dA.$1.$1.$0)],true))))))?(dX=dV[0],bf.entryVar(dX,(bf.createVarM())([dy,dX,dV[1]]))):dA.$==1&&(dZ=bf.Identifier(dA.$0),dZ!=null&&dZ.$==1&&(dA.$1.$==1&&(bf.Var(dA.$1.$0).$==1&&(dA.$1.$1.$==1&&(dY=[bf.S(dA.$1.$1.$0),dZ.$0,dA.$1.$1.$1],true)))))?(d0=dY[1],bf.entryDoc(d0,(bf.createDocM())([dy,d0,dY[0],dY[2]]))):dA.$==1&&(d2=bf.Identifier(dA.$0),d2!=null&&d2.$==1&&(dA.$1.$==1&&(bf.Var(dA.$1.$0).$==2&&(d1=[d2.$0,dA.$1.$1],true))))?(d3=d1[0],bf.entryView(d3,(bf.createViewM())([dy,d3,d1[1]]))):dA.$==1&&(d5=bf.Identifier(dA.$0),d5!=null&&d5.$==1&&(dA.$1.$==1&&(bf.Vertical(dA.$1.$0).$==4&&(dA.$1.$1.$==1&&(dA.$1.$1.$1.$==1&&(d4=[dA.$1.$1.$1.$0,dA.$1.$1.$1.$1,d5.$0,bf.S(dA.$1.$1.$0)],true))))))?(d6=d4[2],bf.entryDoc(d6,(bf.createTemplateM())([dy,d6,d4[3],d4[0],d4[1]]))):dA.$==1&&(d8=bf.Identifier(dA.$0),d8!=null&&d8.$==1&&(dA.$1.$==1&&(bf.Var(dA.$1.$0).$==3&&(d7=[dA.$1.$1,d8.$0],true))))?(d9=d7[1],bf.entryDoc(d9,(bf.createConcatM())([dy,d9,d7[0]]))):dA.$==1&&(d$=bf.Identifier(dA.$0),d$!=null&&d$.$==1&&(dA.$1.$==1&&(bf.Var(dA.$1.$0).$==4&&(dA.$1.$1.$==1&&(ea=bf.Identifier(dA.$1.$1.$0),ea!=null&&ea.$==1&&(d_=[ea.$0,d$.$0,dA.$1.$1.$1],true))))))?(eb=d_[1],bf.entryAct(eb,(bf.createActionM())([dy,eb,d_[0],d_[2]]))):dA.$==1&&(ed=bf.Identifier(dA.$0),ed!=null&&ed.$==1&&(dA.$1.$==1&&(bf.Vertical(dA.$1.$0).$==3&&(dA.$1.$1.$==1&&(dA.$1.$1.$1.$==1&&(dA.$1.$1.$1.$1.$==1&&(ec=[dA.$1.$1.$1.$1.$0,dA.$1.$1.$0,dA.$1.$1.$1.$1.$1,ed.$0,dA.$1.$1.$1.$0],true)))))))?null:dA.$==1&&(ef=bf.Identifier(dA.$0),ef!=null&&ef.$==1&&(dA.$1.$==1&&(eg=bf.Vertical(dA.$1.$0),eg.$==5&&(dA.$1.$1.$==1&&(ee=[dA.$1.$1.$0,dA.$1.$1.$1,eg.$0,ef.$0],true)))))?(eh=ee[3],bf.entryDoc(eh,(bf.createElementM())([dy,eh,ee[2],ee[0],ee[1]]))):null;}catch(ei){((function(ej){return function(ek){return ej($.prettyPrint(ek));};}(function(ej){ds.log(ej);}))(ei));return null;}};bf.splitName=function(){cb.$cctor();return cb.splitName;};bf.getAttrs=function(dy,dz){var dA;dA=bf.S(dz);return bp.ofSeq(_6.delay(function(){return _6.append(_6.choose(function(dB){var dC,dD,dE,dF;function dG(dH,dI){var dJ;return dI.$==1?(dJ=dI.$0,dH.addEventListener(cc.Trim(dF),function(dK){return bb.callFunction(dH,dK,dJ.actFunction);},false)):dH.setAttribute(cc.Trim(dF),cc.Trim(dI.$0));}return!P.Equals(dB,null)&&dB.length===2&&(dD=_3.get(dB,1),cc.Trim(_3.get(dB,0))!==""&&cc.Trim(dD)!=="")?(dE=_3.get(dB,1),(dF=_3.get(dB,0),{$:1,$0:b$.DynamicCustom(function(dH){return function(dI){return dG(dH,dI);};},bf.getTextData(dy,cc.Trim(dE)))})):null;},_6.map(function(dB){return cw.splitByChar("=",dB);},cw.splitByChar(";",dA))),_6.delay(function(){return _6.choose(function(dB){var dC,dD,dE,dF,dG;return!P.Equals(dB,null)&&dB.length===2&&(dD=_3.get(dB,1),cc.Trim(_3.get(dB,0))!==""&&cc.Trim(dD)!=="")?(dE=_3.get(dB,1),(dF=_3.get(dB,0),{$:1,$0:(dG=N.Map(function(dH){return dH.$==1?(function(dI){return function(dJ){return dI("@{"+$.toSafe(dJ)+"}");};}(a.id))(dH.$0.actName):cc.Trim(dH.$0);},bf.getTextData(dy,cc.Trim(dE))),b$.DynamicStyle(cc.Trim(dF),dG))})):null;},_6.map(function(dB){return cw.splitByChar(":",dB);},cw.splitByChar(";",dA)));}));}));};bf.getText=function(dy,dz){var dA,dB,dC,dD,dE,dF,dG,dH,dI;dA=bf.Identifier(dz);return dA!=null&&dA.$==1?(dB=dA.$0,(dC=((bf.splitName())(dy))(dB),(dD=dC[0],(dE=dC[1],(dF=(dG=bb.tryGetViw(dD,dE),dG==null?null:{$:1,$0:bl.TextView(dG.$0.viwView)}),dF==null?(dH=(dI=bb.tryGetVar(dD,dE),dI==null?null:{$:1,$0:bl.TextView(dI.$0.varVar.get_View())}),dH==null?bl.TextNode(dB):dH.$0):dF.$0))))):bl.TextNode(bf.S(dz));};bf.singleDoc=function(dy,dz){return bl.EmbedView(N.Map(function(dA){var dB;return dA.$==1&&(dA.$1.$==0&&(dB=dA.$0,true))?dB:bf.errDoc((function(dC){return function(dD){return dC("expected exactly 1 element "+$.printList(function(dE){return cC.p$3(dE);},dD));};}(a.id))(dz));},N.Map(function(){return bf.getAllDocs(dy,dz);},bf.currentViewTriggger())));};bf.errDoc=function(dy){return bl.Element("div",[],[bl.TextNode(dy)]);};bf.getTextData=function(dy,dz){var dA,dB,dC,dD;dA=(dB=cw.delimitedO("@{","}",dz),dB==null?null:{$:1,$0:(dC=dB.$0,(dD=dC[0],bf.getOneTextData(dy,dC[1],dD,dC[2])))});return dA==null?N.Const({$:0,$0:dz}):dA.$0;};bf.pairOfDocs=function(dy,dz){var dA;dA=N.Map(function(dB){var dC;return dB.$==1&&(dB.$1.$==1&&(dB.$1.$1.$==0&&(dC=[dB.$0,dB.$1.$0],true)))?[dC[0],dC[1]]:[bf.errDoc((function(dD){return function(dE){return dD("splitter expects exactly 2 elements "+$.printList(function(dF){return cC.p$3(dF);},dE));};}(a.id))(dz)),bf.errDoc("part 2")];},N.Map(function(){return bf.getAllDocs(dy,dz);},bf.currentViewTriggger()));return[bl.EmbedView(N.Map(function(dB){return dB[0];},dA)),bl.EmbedView(N.Map(function(dB){return dB[1];},dA))];};bf.variableSplitter=function(dy,dz,dA,dB,dC,dD){return bl.Element("wcomp-splitter",bp.ofSeq(_6.delay(function(){return _6.append(dy?[b3.Create("vertical","")]:[],_6.delay(function(){return _6.append([b3.Create("min",a.String(dz))],_6.delay(function(){return _6.append([b3.Create("value",a.String(dA))],_6.delay(function(){return[b3.Create("max",a.String(dB))];}));}));}));})),bp.ofArray([dC,dD]));};bf.fixedSplitter=function(dy,dz,dA,dB,dC){var dD,dE,dF,dG,dH,dI,dJ;dD=(((dA?dr.Curried3(function(dK,dL,dM){return dK(dL.toFixed(6)+"px calc(100% - "+dM.toFixed(6)+"px)");}):dr.Curried3(function(dK,dL,dM){return dK("calc(100% - "+dL.toFixed(6)+"px) "+dM.toFixed(6)+"px");}))(a.id))(dz))(dz);return dy?(dE=bC.Make().WithHole({$:1,$0:"partsizes",$1:dD}).WithHole({$:0,$0:"first",$1:dB}).WithHole({$:0,$0:"second",$1:dC}),(dF=bD.CompleteHoles(dE.k,dE.h,[]),(dG=new bB.New(dF[1],cA.fixedsplitterver(dF[0])),(dE.i=dG,dG)))).get_Doc():(dH=bC.Make().WithHole({$:1,$0:"partsizes",$1:dD}).WithHole({$:0,$0:"first",$1:dB}).WithHole({$:0,$0:"second",$1:dC}),(dI=bD.CompleteHoles(dH.k,dH.h,[]),(dJ=new bB.New(dI[1],cA.fixedsplitterhor(dI[0])),(dH.i=dJ,dJ)))).get_Doc();};bf.S=function(dy){return dy.$==1?dy.$0:dy.$0;};bf.getAllDocs=function(dy,dz){return dz.$==1?new bq({$:1,$0:bf.getADoc(dy,dz.$0),$1:bf.getAllDocs(dy,dz.$1)}):bq.Empty;};bf.getDocFinal=function(dy,dz){var dA;dA=bf.getDocF(dy,dz);return dA[1].$==0?dA[0]:bf.errDoc((((dr.Curried3(function(dB,dC,dD){return dB("Too many parameters "+cB.p(dC)+" "+$.printList(function(dE){return cC.p$3(dE);},dD));}))(a.id))(dz))(dy));};bf.Identifier=function(dy){var dz,dA,dB;return dy.$==1&&(dA=c.REGEX$1("^[$a-zA-Z_][0-9a-zA-Z_\\.\\-$]*$","",dy.$0),dA!=null&&dA.$==1&&((dB=dA.$0,!P.Equals(dB,null)&&dB.length===1)&&(dz=_3.get(dA.$0,0),true)))?{$:1,$0:dz}:null;};bf.getDocF=function(dy,dz){var dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL;dB=dz.docDoc;switch(dB.$==1?dy.$==1?(dA=[dB.$0,bf.S(dy.$0),dy.$1],1):6:dB.$==2?dy.$==1?(dC=bf.S(dy.$0),dy.$1.$==1?(dA=[dB.$0,dC,bf.S(dy.$1.$0),dy.$1.$1],2):6):6:dB.$==3?dy.$==1?(dD=bf.S(dy.$0),dy.$1.$==1?(dE=bf.S(dy.$1.$0),dy.$1.$1.$==1?(dA=[dB.$0,dD,dE,bf.S(dy.$1.$1.$0),dy.$1.$1.$1],3):6):6):6:dB.$==4?dy.$==1?(dF=bf.S(dy.$0),dy.$1.$==1?(dG=bf.S(dy.$1.$0),dy.$1.$1.$==1?(dH=bf.S(dy.$1.$1.$0),dy.$1.$1.$1.$==1?(dA=[dB.$0,dF,dG,dH,bf.S(dy.$1.$1.$1.$0),dy.$1.$1.$1.$1],4):6):6):6):6:dB.$==5?dy.$==1?(dI=bf.S(dy.$0),dy.$1.$==1?(dJ=bf.S(dy.$1.$0),dy.$1.$1.$==1?(dK=bf.S(dy.$1.$1.$0),dy.$1.$1.$1.$==1?(dL=bf.S(dy.$1.$1.$1.$0),dy.$1.$1.$1.$1.$==1?(dA=[dB.$0,dI,dJ,dK,dL,bf.S(dy.$1.$1.$1.$1.$0),dy.$1.$1.$1.$1.$1],5):6):6):6):6):6:(dA=[dB.$0,dy],0)){case 0:return[dA[0].f(),dA[1]];case 1:return[dA[0](dA[1]),dA[2]];case 2:return[(dA[0](dA[1]))(dA[2]),dA[3]];case 3:return[((dA[0](dA[1]))(dA[2]))(dA[3]),dA[4]];case 4:return[(((dA[0](dA[1]))(dA[2]))(dA[3]))(dA[4]),dA[5]];case 5:return[((((dA[0](dA[1]))(dA[2]))(dA[3]))(dA[4]))(dA[5]),dA[6]];case 6:return[bl.Element("div",[],[bl.TextNode((((dr.Curried3(function(dM,dN,dO){return dM("Parameters do not coincide with definition "+cB.p(dN)+" - "+$.printList(function(dP){return cC.p$3(dP);},dO));}))(a.id))(dz))(dy))]),bq.Empty];}};bf.getTextToken=function(dy,dz){return dz.$==0?bf.getTextData(dy,dz.$0):bf.getOneTextData(dy,dz.$0,"","");};bf.getParamText=function(dy,dz,dA){N.Get(function(dB){if(dB.$==1)dA(dB.$0);else dA(dB.$0);},bf.getTextToken(dy,dz));};bf.splitTokens=function(dy){return bf.doubleQuote(bp.ofSeq(_6.collect(a.id,_6.mapi(function(dz,dA){var dB;return dz%2===1?[{$:0,$0:dA}]:dA===""?[{$:0,$0:"\""}]:(dB=cc.Trim(dA),dB===""?[]:_3.map(function(dC){return{$:1,$0:dC};},cc.SplitChars(dB,[" "],1)));},cw.splitByChar("\"",dy)))));};bf.Vertical=function(dy){var dz,dA,dB,dC,dD,dE;return dy.$==1&&(dy.$0==="vertical"&&(dz=dy.$0,true))?{$:0,$0:null}:dy.$==1&&(dy.$0==="horizontal"&&(dA=dy.$0,true))?{$:1,$0:null}:dy.$==1&&(dy.$0==="layout"&&(dB=dy.$0,true))?{$:2,$0:null}:dy.$==1&&(dy.$0==="grid"&&(dC=dy.$0,true))?{$:3,$0:null}:dy.$==1&&(dy.$0==="template"&&(dD=dy.$0,true))?{$:4,$0:null}:(dE=bf.Identifier(dy),dE!=null&&dE.$==1?{$:5,$0:dE.$0}:{$:6,$0:null});};bf.getExtraLines=function(dy,dz){var dA,dB,dC,dD;dA=(dB=(dC=_6.tryFindIndex(function(dE){return cc.Trim(dE)!==""&&!dy(dE);},_6.skip(1,dz)),dC==null?null:{$:1,$0:1+dC.$0}),(dD=_3.length(dz),dB==null?dD:dB.$0));return[bv.array(dz,{$:1,$0:1},{$:1,$0:dA-1}),bv.array(dz,{$:1,$0:dA},null)];};bf.createLines=function(dy,dz,dA,dB,dC,dD){var dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN;dE=cc.replicate(dz,":");dF=":"+dE;dG=_6.tryHead(dD);return dG!=null&&dG.$==1?(dH=cw.StartsWith(dE,cc.Trim(dG.$0)),dH!=null&&dH.$==1?(dI=dH.$0,(dJ=bf.getExtraLines(function(dO){return cc.StartsWith(cc.Trim(dO),dF);},dD),(dK=(((dr.Curried3(function(dO,dP,dQ){return dO($.toSafe(dP)+"_"+a.String(dQ));}))(a.id))(dy))(dC),(dL=bf.createLines(dK,dz+1,[],[],1,dJ[0]),(dM=dL[1],(dN=dL[0],bf.createLines(dy,dz,_3.ofSeq(_6.delay(function(){return _6.append(dA,_6.delay(function(){return[dK];}));})),_3.ofSeq(_6.delay(function(){return _6.append(dB,_6.delay(function(){return _6.append([dK+" "+dI+" "+cc.concat(" ",dN)],_6.delay(function(){return dM;}));}));})),dC+1,dJ[1]))))))):[dA,dB]):[dA,dB];};bf.Measures$1=function(dy){var dz,dA,dB,dC,dD,dE,dF,dG,dH;return dy.$==1?(dz=cw.splitByChar("-",dy.$0),!P.Equals(dz,null)&&dz.length===1&&(dB=(_.Double())(_3.get(dz,0)),dB!=null&&dB.$==1&&(dA=dB.$0,true))?{$:1,$0:new c4({$:0,$0:dA,$1:true})}:!P.Equals(dz,null)&&dz.length===2&&(_3.get(dz,0)===""&&(dD=(_.Double())(_3.get(dz,1)),dD!=null&&dD.$==1&&(dC=dD.$0,true)))?{$:1,$0:new c4({$:0,$0:dC,$1:false})}:!P.Equals(dz,null)&&dz.length===3&&(dF=(_.Double())(_3.get(dz,0)),dF!=null&&dF.$==1&&(dG=(_.Double())(_3.get(dz,1)),dG!=null&&dG.$==1&&(dH=(_.Double())(_3.get(dz,2)),dH!=null&&dH.$==1&&(dE=[dH.$0,dF.$0,dG.$0],true))))?{$:1,$0:new c4({$:1,$0:dE[1],$1:dE[2],$2:dE[0]})}:null):null;};bf.entryDoc=function(dy,dz){return{$:1,$0:{$:2,$0:bb.newDoc(dy,be.Create(function(){return dz;}))}};};bf.createSplitterM=function(){cb.$cctor();return cb.createSplitterM;};bf.Button=function(dy){var dz,dA,dB,dC;return dy.$==1&&(dy.$0==="Button"&&(dz=dy.$0,true))?{$:0,$0:null}:dy.$==1&&(dy.$0==="input"&&(dA=dy.$0,true))?{$:1,$0:null}:dy.$==1&&(dy.$0==="textarea"&&(dB=dy.$0,true))?{$:2,$0:null}:dy.$==1&&(dy.$0==="select"&&(dC=dy.$0,true))?{$:3,$0:null}:{$:4,$0:null};};bf.createButtonM=function(){cb.$cctor();return cb.createButtonM;};bf.createInputM=function(){cb.$cctor();return cb.createInputM;};bf.createTextAreaM=function(){cb.$cctor();return cb.createTextAreaM;};bf.Var=function(dy){var dz,dA,dB,dC,dD;return dy.$==1&&(dy.$0==="Var"&&(dz=dy.$0,true))?{$:0,$0:null}:dy.$==1&&(dy.$0==="Doc"&&(dA=dy.$0,true))?{$:1,$0:null}:dy.$==1&&(dy.$0==="View"&&(dB=dy.$0,true))?{$:2,$0:null}:dy.$==1&&(dy.$0==="Concat"&&(dC=dy.$0,true))?{$:3,$0:null}:dy.$==1&&(dy.$0==="Action"&&(dD=dy.$0,true))?{$:4,$0:null}:{$:5,$0:null};};bf.entryVar=function(dy,dz){return{$:1,$0:{$:0,$0:bb.newVar(dy,dz)}};};bf.createVarM=function(){cb.$cctor();return cb.createVarM;};bf.createDocM=function(){cb.$cctor();return cb.createDocM;};bf.entryView=function(dy,dz){return{$:1,$0:{$:1,$0:bb.newViw(dy,dz)}};};bf.createViewM=function(){cb.$cctor();return cb.createViewM;};bf.createTemplateM=function(){cb.$cctor();return cb.createTemplateM;};bf.createConcatM=function(){cb.$cctor();return cb.createConcatM;};bf.entryAct=function(dy,dz){return{$:1,$0:{$:3,$0:bb.newActF(dy,dz)}};};bf.createActionM=function(){cb.$cctor();return cb.createActionM;};bf.createElementM=function(){cb.$cctor();return cb.createElementM;};bf.getOneTextData=function(dy,dz,dA,dB){var dC,dD,dE;dC=((bf.splitName())(dy))(dz);dD=dC[0];dE=dC[1];return N.Bind(function(dF){return dF==null?N.Bind(function(dG){var dH;return dG==null?N.Const({$:0,$0:((((dr.Curried(function(dI,dJ,dK,dL){return dI($.toSafe(dJ)+" @{Missing "+$.toSafe(dK)+"}"+$.toSafe(dL));},4))(a.id))(dA))(dz))(dB)}):(dH=dG.$0,N.Bind(function(dI){return dI.$==1?N.Const({$:0,$0:(function(dJ){return function(dK){return dJ("Unexpected Action @{"+$.toSafe(dK)+"}");};}(a.id))(dI.$0.actName)}):N.Const({$:0,$0:dA+dH+dI.$0});},bf.getTextData(dy,dB)));},bb.tryGetWoWW(dD,dE)):N.Const({$:1,$0:dF.$0});},bb.tryGetActW(dD,dE));};bf.getADoc=function(dy,dz){var dA,dB,dC,dD,dE;dA=bf.Identifier(dz);return dA!=null&&dA.$==1?(dB=dA.$0,(dC=((bf.splitName())(dy))(dB),(dD=dC[0],(dE=dC[1],bl.BindView(function(dF){return dF==null?bl.BindView(function(dG){var dH;return dG==null?bf.errDoc((dH=(function(dI){return function(dJ){return dI("Missing doc: "+$.toSafe(dJ));};}(a.id))(dB),(T.print(dH),dH))):bl.TextNode(dG.$0);},bb.tryGetWoWW(dD,dE)):(bf.getDocF(bq.Empty,dF.$0))[0];},bb.tryGetDocW(dD,dE)))))):bl.TextView(N.Map(function(dF){return dF.$==1?(function(dG){return function(dH){return dG("Unexpected action: "+$.toSafe(dH));};}(a.id))(dF.$0.actName):dF.$0;},bf.getTextData(dy,bf.S(dz))));};bf.doubleQuote=function(dy){var dz;switch(dy.$==1?dy.$0.$==0?dy.$1.$==1?dy.$1.$0.$==0?dy.$1.$0.$0==="\""?dy.$1.$1.$==0?(dz=dy.$0.$0,2):dy.$1.$1.$0.$==0?(dz=[dy.$1.$1.$1,dy.$0.$0,dy.$1.$1.$0.$0],1):(dz=[dy.$0,dy.$1],3):(dz=[dy.$0,dy.$1],3):(dz=[dy.$0,dy.$1],3):(dz=[dy.$0,dy.$1],3):(dz=[dy.$0,dy.$1],3):0){case 0:return bq.Empty;case 1:return bf.doubleQuote(new bq({$:1,$0:{$:0,$0:dz[1]+"\""+dz[2]},$1:dz[0]}));case 2:return bp.ofArray([{$:0,$0:dz}]);case 3:return new bq({$:1,$0:dz[0],$1:bf.doubleQuote(dz[1])});}};bg.New=function(dy,dz){return{varName:dy,varVar:dz};};bh.New=function(dy,dz){return{viwName:dy,viwView:dz};};bi.New=function(dy,dz){return{docName:dy,docDoc:dz};};bj.New=function(dy,dz,dA){return{actName:dy,actFunction:dz,actEnabled:dA};};bk.New=function(dy,dz){return{qryName:dy,qryFunction:dz};};bl=L.Doc=dr.Class({},m,bl);bl.Concat=function(dy){var dz;dz=cg.ofSeqNonCopying(dy);return cg.TreeReduce(bl.get_Empty(),bl.Append,dz);};bl.get_Empty=function(){return bl.Mk(null,N.Const());};bl.Async=function(dy){return bl.EmbedView(N.MapAsync(a.id,N.Const(dy)));};bl.TextNode=function(dy){return bl.Mk({$:5,$0:cv.CreateText(dy)},N.Const());};bl.Input=function(dy,dz){return bl.InputInternal("input",function(){return _6.append(dy,[b$.Value(dz)]);});};bl.InputArea=function(dy,dz){return bl.InputInternal("textarea",function(){return _6.append(dy,[b$.Value(dz)]);});};bl.Button=function(dy,dz,dA){var dB;dB=b3.Concat(dz);return cP.New(bl.Clickable("button",dA),dB,bl.TextNode(dy));};bl.Append=function(dy,dz){return bl.Mk({$:0,$0:dy.docNode,$1:dz.docNode},N.Map2Unit(dy.updates,dz.updates));};bl.Mk=function(dy,dz){return new bl.New(dy,dz);};bl.Convert=function(dy,dz){return bl.Flatten(N.MapSeqCached(dy,dz));};bl.RunAppend=function(dy,dz){var dA;dA=self.document.createTextNode("");dy.appendChild(dA);bl.RunBefore(dA,dz);};bl.Element=function(dy,dz,dA){var dB,dC;dB=b3.Concat(dz);dC=bl.Concat(dA);return cP.New(cv.CreateElement(dy),dB,dC);};bl.EmbedView=function(dy){var dz;dz=cM.CreateEmbedNode();return bl.Mk({$:2,$0:dz},N.Map(a.ignore,N.Bind(function(dA){cM.UpdateEmbedNode(dz,dA.docNode);return dA.updates;},dy)));};bl.InputInternal=function(dy,dz){var dA;dA=cv.CreateElement(dy);return cP.New(dA,b3.Concat(dz(dA)),bl.get_Empty());};bl.Clickable=function(dy,dz){var dA;dA=cv.CreateElement(dy);dA.addEventListener("click",function(dB){dB.preventDefault();return dz();},false);return dA;};bl.TextView=function(dy){var dz;dz=cM.CreateTextNode();return bl.Mk({$:4,$0:dz},N.Map(function(dA){cM.UpdateTextNode(dz,dA);},dy));};bl.Verbatim=function(dy){var dz;return bl.Mk(cg.MapTreeReduce(function(dA){return P.Equals(dA.nodeType,b0.TEXT_NODE)?{$:5,$0:dA}:{$:1,$0:cM.CreateElemNode(dA,cu.EmptyAttr(),null)};},null,function(dA,dB){return{$:0,$0:dA,$1:dB};},(dz=dv.parseHTML(dy),P.Equals(dz,null)?[]:dz)),N.Const());};bl.Flatten=function(dy){return bl.EmbedView(N.Map(bl.Concat,dy));};bl.RunBefore=function(dy,dz){var dA;dA=self.document.createTextNode("");dy.parentNode.insertBefore(dA,dy);bl.RunBetween(dA,dy,dz);};bl.BindView=function(dy,dz){return bl.EmbedView(N.Map(dy,dz));};bl.RunBetween=function(dy,dz,dA){var dB;cM.LinkPrevElement(dz,dA.docNode);dB=cM.CreateDelimitedRunState(dy,dz,dA.docNode);N.Sink(c9.get_UseAnimations()||c_.BatchUpdatesEnabled()?c$.StartProcessor(cM.PerformAnimatedUpdate(false,dB,dA.docNode)):function(){cM.PerformSyncUpdate(false,dB,dA.docNode);},dA.updates);};bl.Run=function(dy,dz){cM.LinkElement(dy,dz.docNode);bl.RunInPlace(false,dy,dz);};bl.ConvertBy=function(dy,dz,dA){return bl.Flatten(N.MapSeqCachedBy(dy,dz,dA));};bl.RunInPlace=function(dy,dz,dA){var dB;dB=cM.CreateRunState(dz,dA.docNode);N.Sink(c9.get_UseAnimations()||c_.BatchUpdatesEnabled()?c$.StartProcessor(cM.PerformAnimatedUpdate(dy,dB,dA.docNode)):function(){cM.PerformSyncUpdate(dy,dB,dA.docNode);},dA.updates);};bl.New=dr.Ctor(function(dy,dz){m.New.call(this);this.docNode=dy;this.updates=dz;},bl);bm.insertWO=function(dy){return dy==null?N.Const(null):N.Map(function(dz){return{$:1,$0:dz};},dy.$0);};bm.traverseSeq=function(dy,dz){return bm.map(a.id,_3.foldBack(function(dA,dB){return bm.op_GreaterGreaterEquals(dy(dA),function(dC){return bm.op_GreaterGreaterEquals(dB,function(dD){return bm.rtn(new bq({$:1,$0:dC,$1:dD}));});});},_3.ofSeq(dz),bm.rtn(bq.Empty)));};bm.rtn=function(dy){return N.Const(dy);};bm.map=function(dy,dz){return N.Map(dy,dz);};bm.op_GreaterGreaterEquals=function(dy,dz){return bm.bind(dz,dy);};bm.bind=function(dy,dz){return N.Bind(dy,dz);};bn.New=function(dy,dz){return{lytName:dy,lytDefinition:dz};};bo.B={$:0};bd.Create=function(dy,dz){return bd.CreateWithStorage(dy,ci.InMemory(_3.ofSeq(dz)));};bd.CreateWithStorage=function(dy,dz){return new bd.New(dy,dz);};bq=bp.T=dr.Class({GetEnumerator:function(){return new b_.New(this,null,function(dy){var dz;dz=dy.s;return dz.$==0?false:(dy.c=dz.$0,dy.s=dz.$1,true);},void 0);},GetEnumerator0:function(){return b9.Get(this);}},null,bq);bq.Empty=new bq({$:0});bs.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new a.RegExp("[xy]","g"),function(dy){var dz,dA;dz=du.random()*16|0;dA=dy=="x"?dz:dz&3|8;return dA.toString(16);});};bs.TryParse=function(dy,dz){try{dz.set(bs.Parse(dy));return true;}catch(dA){return false;}};bs.Parse=function(dy){var dz,dA,dB;try{return bs.ParseExact(dy,"D");}catch(dC){try{dz=bs.ParseExact(dy,"B");}catch(dD){try{dA=bs.ParseExact(dy,"P");}catch(dE){try{dB=bs.ParseExact(dy,"N");}catch(dF){dB=bs.ParseExact(dy,"X");}dA=dB;}dz=dA;}return dz;}};bs.ParseExact=function(dy,dz){var dA,dB,dC,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN;function dD(dO){var dP,dQ,dR,dS;for(dP=0,dQ=35;dP<=dQ;dP++){dP===8||(dP===13||(dP===18||dP===23))?dO[dP]!=="-"?bs.ShapeError():void 0:(dS=dO[dP],!("0"<=dS&&dS<="9"||"a"<=dS&&dS<="f")?bs.ShapeError():void 0);}return dO;}dE=dz.toUpperCase();if(dE==="N"){dF=cc.Trim(dy).toLowerCase();if(dF.length!==32)bs.ShapeError();for(dG=0,dH=31;dG<=dH;dG++){dI=dF[dG];!("0"<=dI&&dI<="9"||"a"<=dI&&dI<="f")?bs.ShapeError():void 0;}return cc.Substring(dF,0,8)+"-"+cc.Substring(dF,8,4)+"-"+cc.Substring(dF,12,4)+"-"+cc.Substring(dF,16,4)+"-"+dF.substring(20);}else if(dE==="D"){dA=cc.Trim(dy).toLowerCase();dA.length!==36?bs.ShapeError():void 0;return dD(dA);}else if(dE==="B"){dB=cc.Trim(dy).toLowerCase();dB.length!==38||dB[0]!=="{"||dB[17]!=="}"?bs.ShapeError():void 0;return dD(cc.Substring(dB,1,36));}else if(dE==="P"){dC=cc.Trim(dy).toLowerCase();dC.length!==38||dC[0]!=="("||dC[17]!==")"?bs.ShapeError():void 0;return dD(cc.Substring(dC,1,36));}else if(dE==="X"){dJ=cc.Trim(dy).toLowerCase();if(dJ.length!==68)bs.ShapeError();for(dK=0,dL=67;dK<=dL;dK++){switch(dK){case 26:case 0:if(dJ[dK]!=="{")bs.ShapeError();break;case 62:case 57:case 52:case 47:case 42:case 37:case 32:case 27:case 19:case 12:case 1:if(dJ[dK]!=="0")bs.ShapeError();break;case 63:case 58:case 53:case 48:case 43:case 38:case 33:case 28:case 20:case 13:case 2:if(dJ[dK]!=="x")bs.ShapeError();break;case 61:case 56:case 51:case 46:case 41:case 36:case 31:case 25:case 18:case 11:if(dJ[dK]!==",")bs.ShapeError();break;case 67:case 66:if(dJ[dK]!=="{")bs.ShapeError();break;default:dN=dJ[dK];!("0"<=dN&&dN<="9"||"a"<=dN&&dN<="f")?bs.ShapeError():void 0;break;}}return cc.Substring(dJ,3,8)+"-"+cc.Substring(dJ,14,4)+"-"+cc.Substring(dJ,21,4)+"-"+cc.Substring(dJ,29,2)+cc.Substring(dJ,34,2)+"-"+cc.Substring(dJ,39,2)+cc.Substring(dJ,44,2)+cc.Substring(dJ,49,2)+cc.Substring(dJ,54,2)+cc.Substring(dJ,59,2)+cc.Substring(dJ,64,2);}else return bs.FormatError();};bs.ShapeError=function(){throw new c6.New$1("Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");};bs.FormatError=function(){throw new c6.New$1("Format String can be only \"D\", \"d\", \"N\", \"n\", \"P\", \"p\", \"B\", \"b\", \"X\" or \"x\".");};bp.ofArray=function(dy){var dz,dA,dB;dz=bq.Empty;for(dA=_3.length(dy)-1,dB=0;dA>=dB;dA--)dz=new bq({$:1,$0:_3.get(dy,dA),$1:dz});return dz;};bp.head=function(dy){return dy.$==1?dy.$0:bp.listEmpty();};bp.tail=function(dy){return dy.$==1?dy.$1:bp.listEmpty();};bp.ofSeq=function(dy){var dz,dA,dB,dC,dD,dE;if(dy instanceof bq)return dy;else if(dy instanceof a.Array)return bp.ofArray(dy);else{dz=b9.Get(dy);try{dB=dz.MoveNext();if(!dB)dA=bq.Empty;else{dD=new bq({$:1});dC=dD;while(dB){dC.$0=dz.Current();dz.MoveNext()?dC=(dE=new bq({$:1}),dC.$1=dE,dE):dB=false;}dC.$1=bq.Empty;dA=dD;}return dA;}finally{if(typeof dz=="object"&&"Dispose"in dz)dz.Dispose();}}};bp.listEmpty=function(){return O.FailWith("The input list was empty.");};bu=bt.Dictionary=dr.Class({Add:function(dy,dz){this.add(dy,dz);},TryGetValue:function(dy,dz){var dA,dB,dC;dA=this;dB=this.data[this.hash(dy)];return dB==null?false:(dC=_3.tryPick(function(dD){var dE;dE=O.KeyValue(dD);return dA.equals.apply(null,[dE[0],dy])?{$:1,$0:dE[1]}:null;},dB),dC!=null&&dC.$==1&&(dz.set(dC.$0),true));},ContainsKey:function(dy){var dz,dA;dz=this;dA=this.data[this.hash(dy)];return dA==null?false:_3.exists(function(dB){return dz.equals.apply(null,[(O.KeyValue(dB))[0],dy]);},dA);},get_Item:function(dy){return this.get(dy);},set_Item:function(dy,dz){this.set(dy,dz);},add:function(dy,dz){var dA,dB,dC;dA=this;dB=this.hash(dy);dC=this.data[dB];dC==null?(this.count=this.count+1,this.data[dB]=new a.Array({K:dy,V:dz})):(_3.exists(function(dD){return dA.equals.apply(null,[(O.KeyValue(dD))[0],dy]);},dC)?cj.alreadyAdded():void 0,this.count=this.count+1,dC.push({K:dy,V:dz}));},Remove:function(dy){return this.remove(dy);},get:function(dy){var dz,dA;dz=this;dA=this.data[this.hash(dy)];return dA==null?cj.notPresent():_3.pick(function(dB){var dC;dC=O.KeyValue(dB);return dz.equals.apply(null,[dC[0],dy])?{$:1,$0:dC[1]}:null;},dA);},set:function(dy,dz){var dA,dB,dC,dD;dA=this;dB=this.hash(dy);dC=this.data[dB];dC==null?(this.count=this.count+1,this.data[dB]=new a.Array({K:dy,V:dz})):(dD=_3.tryFindIndex(function(dE){return dA.equals.apply(null,[(O.KeyValue(dE))[0],dy]);},dC),dD==null?(this.count=this.count+1,dC.push({K:dy,V:dz})):dC[dD.$0]={K:dy,V:dz});},Clear:function(){this.data=[];this.count=0;},remove:function(dy){var dz,dA,dB,dC;dz=this;dA=this.hash(dy);dB=this.data[dA];return dB==null?false:(dC=_3.filter(function(dD){return!dz.equals.apply(null,[(O.KeyValue(dD))[0],dy]);},dB),_3.length(dC)<dB.length&&(this.count=this.count-1,this.data[dA]=dC,true));},get_Keys:function(){return new c8.New(this);},GetEnumerator:function(){return b9.Get0(this);},GetEnumerator0:function(){return b9.Get0(_3.concat(bL.GetFieldValues(this.data)));}},m,bu);bu.New$5=dr.Ctor(function(){bu.New$6.call(this,[],P.Equals,P.Hash);},bu);bu.New$6=dr.Ctor(function(dy,dz,dA){var dB,dC;m.New.call(this);this.equals=dz;this.hash=dA;this.count=0;this.data=[];dB=b9.Get(dy);try{while(dB.MoveNext()){dC=dB.Current();this.set(dC.K,dC.V);}}finally{if(typeof dB=="object"&&"Dispose"in dB)dB.Dispose();}},bu);bv.array=function(dy,dz,dA){return dz==null?dA!=null&&dA.$==1?dy.slice(0,dA.$0+1):[]:dA==null?dy.slice(dz.$0):dy.slice(dz.$0,dA.$0+1);};bv.string=function(dy,dz,dA){return dz==null?dA!=null&&dA.$==1?dy.slice(0,dA.$0+1):"":dA==null?dy.slice(dz.$0):dy.slice(dz.$0,dA.$0+1);};bw.Filter=function(dy,dz){var dA;return new ck.New$1((dA=_3.ofSeq(_6.filter(dy,dz)),cp.Build(dA,0,dA.length-1)));};_3.set=function(dy,dz,dA){_3.checkBounds(dy,dz);dy[dz]=dA;};_3.get=function(dy,dz){_3.checkBounds(dy,dz);return dy[dz];};_3.checkBounds=function(dy,dz){if(dz<0||dz>=dy.length)O.FailWith("Index was outside the bounds of the array.");};_3.length=function(dy){return dy.dims===2?dy.length*dy.length:dy.length;};bx.New=function(dy,dz,dA,dB,dC,dD,dE){return{snpId:dy,snpName:dz,snpContent:dA,snpParentIdO:dB,snpPredIds:dC,snpProperties:dD,snpModified:dE};};bB=bA.TemplateInstance=dr.Class({get_Doc:function(){return this.doc;}},m,bB);bB.New=dr.Ctor(function(dy,dz){m.New.call(this);this.doc=dz;this.allVars=dy.$==0?dy.$0:O.FailWith("Should not happen");},bB);bC=bA.ProviderBuilder=dr.Class({WithHole:function(dy){this.h.push(dy);return this;}},null,bC);bC.Make=function(){var dy;return bC.New(null,(dy=bs.NewGuid(),a.String(dy)),[]);};bC.New=function(dy,dz,dA){return new bC({i:dy,k:dz,h:dA});};bD.EventQ2=function(dy,dz,dA,dB){return{$:5,$0:dz,$1:true,$2:function(dC){return function(dD){return dB({Vars:dA(),Target:dC,Event:dD});};}};};bD.CompleteHoles=function(dy,dz,dA){var dC,dD,dE,dF,dG,dH;function dB(dI,dJ){var dK,dL,dM,dN;return dD.Contains(dI)?null:(dK=dJ===0?(dL=X.Create$1(""),[{$:8,$0:dI,$1:dL},dL]):dJ===1?(dM=X.Create$1(0),[{$:13,$0:dI,$1:dM},dM]):dJ===2?(dN=X.Create$1(false),[{$:9,$0:dI,$1:dN},dN]):O.FailWith("Invalid value type"),(dC.set_Item(dI,dK[1]),{$:1,$0:dK[0]}));}dC=new bu.New$5();dD=new cl.New$3();dE=b9.Get(dz);try{while(dE.MoveNext()){dF=dE.Current();(dF.$==8?(dG=[dF.$0,cm.Box(dF.$1)],true):dF.$==11?(dG=[dF.$0,cm.Box(dF.$1)],true):dF.$==10?(dG=[dF.$0,cm.Box(dF.$1)],true):dF.$==13?(dG=[dF.$0,cm.Box(dF.$1)],true):dF.$==12?(dG=[dF.$0,cm.Box(dF.$1)],true):dF.$==9&&(dG=[dF.$0,cm.Box(dF.$1)],true))?(dH=dG[0],dD.Add(dH),dC.set_Item(dH,dG[1])):void 0;}}finally{if(typeof dE=="object"&&"Dispose"in dE)dE.Dispose();}return[_6.append(dz,_3.choose(function(dI){return dB(dI[0],dI[1]);},dA)),{$:0,$0:dC}];};bE.snippet=function(dy){cr.LoadLocalTemplates("templates");return dy?cr.NamedTemplate("templates",{$:1,$0:"snippet"},dy):void 0;};bH.NewFromSeq=function(dy){var dz,dA,dB;dz={};dA=b9.Get(dy);try{while(dA.MoveNext()){dB=dA.Current();dz[dB[0]]=dB[1];}}finally{if(typeof dA=="object"&&"Dispose"in dA)dA.Dispose();}return dz;};bI.deserializeWithDefs=function(dy,dz){return bI.deserialize(function(){return{$:1,$0:0};},function(){return{$:1,$0:0};},function(){return{$:1,$0:""};},function(){return{$:1,$0:false};},function(){return{$:1,$0:[]};},dy,dz);};bI.deserialize=function(dy,dz,dA,dB,dC,dD,dE){var dF,dG;function dH(dJ){return dw.parse(dJ);}function dI(dJ){return bI.getJsonIntermediate(dy,dz,dA,dB,dC,dJ);}dF=function(dJ){return dI(dH(dJ));};dG=[dD,dE][1];return function(dJ){return dG(dF(dJ));};};bI.getJsonIntermediate=function(dy,dz,dA,dB,dC,dD){function dE(dF){return bI.getJsonIntermediate(dy,dz,dA,dB,dC,dF);}return bY.New(function(){var dF;dF=!dD?null:typeof dD=="number"?{$:1,$0:dD}:null;return dF==null?dy():dF;},function(){var dF;dF=!dD?null:typeof dD=="number"?{$:1,$0:dD}:null;return dF==null?dz():dF;},function(){var dF;dF=!dD?null:typeof dD=="string"?{$:1,$0:dD}:null;return dF==null?dA():dF;},function(){var dF;dF=!dD?null:typeof dD=="boolean"?{$:1,$0:dD}:null;return dF==null?dB():dF;},function(){var dF;dF=!dD?null:dD instanceof a.Array?{$:1,$0:_3.map(dE,dD)}:null;return dF==null?dC(dE):dF;},function(dF){var dG;return!dD?null:(dG=dD[dF],P.Equals(dG,null)?{$:1,$0:dE(null)}:!dG?null:{$:1,$0:dE(dG)});},function(){return P.Equals(typeof dD,"object")&&!P.Equals(dD,null);},function(){return P.Equals(dD,null);},function(){return(function(dF){return function(dG){return dF($.prettyPrint(dG));};}(a.id))(dD);});};bJ.serModel=function(){Q.$cctor();return Q.serModel;};bJ.getModel=function(dy,dz,dA){return bK.New(_3.ofSeq(dy),dz,dA);};bJ.serSnippetId=function(){Q.$cctor();return Q.serSnippetId;};bJ.serSnippet=function(){Q.$cctor();return Q.serSnippet;};bK.New=function(dy,dz,dA){return{snippets:dy,modified:dz,collapsed:dA};};bL.GetFields=function(dy){var dz,dA;dz=[];for(var dB in dy)dz.push([dB,dy[dB]]);return dz;};bL.GetFieldValues=function(dy){var dz,dA;dz=[];for(var dB in dy)dz.push(dy[dB]);return dz;};bN.Tag$4=function(dy){return cn.cast(dy);};bN.Untag$4=function(dy){return cn.cast(dy);};bO.resolver=function(dy,dz){function dA(dB){var dC,dD,dE,dF,dG;function dH(dJ){return dJ[0];}function dI(dJ){return dE===dJ;}return dB.$==1?dB.$0:(dC=dB.$0,dC!=null&&dC.$==1)?(dD=dB.$1,(dE=dB.$0.$0[0],dA((dF=(dG=_6.tryFind(function(dJ){return dI(dH(dJ));},dy),dG==null?null:{$:1,$0:dD(dG.$0[1])}),dF==null?dD(dB.$0.$0[1]):dF.$0)))):dA(dB.$1(void 0));}return dA(dz);};bO.dependByName=function(dy,dz,dA){return{$:0,$0:{$:1,$0:[dy,dz]},$1:function(dB){return{$:1,$0:dA(dB)};}};};bO.depend=function(){Q.$cctor();return Q.depend;};bO.bind=function(dy,dz){function dA(dB){var dC,dD;return dB.$==1?(dC=dB.$0,{$:0,$0:null,$1:function(){return dy(dC);}}):(dD=dB.$1,{$:0,$0:dB.$0,$1:function(dE){return dA(dD(dE));}});}return dA(dz);};bO.rtn=function(dy){return{$:1,$0:dy};};bP.html=function(){Q.$cctor();return Q.html;};bQ.Map=function(dy,dz){var dA,dB;dA=dz.s;return dA!=null&&dA.$==0?bQ.New({$:0,$0:dy(dA.$0)}):(dB=bQ.New({$:3,$0:[],$1:[]}),(bQ.When(dz,function(dC){bQ.MarkDone(dB,dz,dy(dC));},dB),dB));};bQ.Map2=function(dy,dz,dA){var dB,dC,dD;function dE(dF){var dG,dH,dI;if(!(dG=dD.s,dG!=null&&dG.$==0||dG!=null&&dG.$==2)){dH=bQ.ValueAndForever(dz);dI=bQ.ValueAndForever(dA);dH!=null&&dH.$==1?dI!=null&&dI.$==1?dH.$0[1]&&dI.$0[1]?bQ.MarkForever(dD,dy(dH.$0[0],dI.$0[0])):bQ.MarkReady(dD,dy(dH.$0[0],dI.$0[0])):void 0:void 0;}}dB=dz.s;dC=dA.s;return dB!=null&&dB.$==0?dC!=null&&dC.$==0?bQ.New({$:0,$0:dy(dB.$0,dC.$0)}):bQ.Map2Opt1(dy,dB.$0,dA):dC!=null&&dC.$==0?bQ.Map2Opt2(dy,dC.$0,dz):(dD=bQ.New({$:3,$0:[],$1:[]}),(bQ.When(dz,dE,dD),bQ.When(dA,dE,dD),dD));};bQ.WhenRun=function(dy,dz,dA){var dB;dB=dy.s;dB==null?dA():dB!=null&&dB.$==2?(dB.$1.push(dA),dz(dB.$0)):dB!=null&&dB.$==3?(dB.$0.push(dz),dB.$1.push(dA)):dz(dB.$0);};bQ.WhenObsoleteRun=function(dy,dz){var dA;dA=dy.s;dA==null?dz():dA!=null&&dA.$==2?dA.$1.push(dz):dA!=null&&dA.$==3?dA.$1.push(dz):void 0;};bQ.When=function(dy,dz,dA){var dB;dB=dy.s;dB==null?bQ.Obsolete(dA):dB!=null&&dB.$==2?(bQ.EnqueueSafe(dB.$1,dA),dz(dB.$0)):dB!=null&&dB.$==3?(dB.$0.push(dz),bQ.EnqueueSafe(dB.$1,dA)):dz(dB.$0);};bQ.MarkDone=function(dy,dz,dA){var dB;if(dB=dz.s,dB!=null&&dB.$==0)bQ.MarkForever(dy,dA);else bQ.MarkReady(dy,dA);};bQ.Join=function(dy){var dz;dz=bQ.New({$:3,$0:[],$1:[]});bQ.When(dy,function(dA){var dB;dB=dA();bQ.When(dB,function(dC){var dD,dE;if((dD=dB.s,dD!=null&&dD.$==0)&&(dE=dy.s,dE!=null&&dE.$==0))bQ.MarkForever(dz,dC);else bQ.MarkReady(dz,dC);},dz);},dz);return dz;};bQ.Map2Opt1=function(dy,dz,dA){return bQ.Map(function(dB){return dy(dz,dB);},dA);};bQ.Map2Opt2=function(dy,dz,dA){return bQ.Map(function(dB){return dy(dB,dz);},dA);};bQ.ValueAndForever=function(dy){var dz;dz=dy.s;return dz!=null&&dz.$==0?{$:1,$0:[dz.$0,true]}:dz!=null&&dz.$==2?{$:1,$0:[dz.$0,false]}:null;};bQ.MarkForever=function(dy,dz){var dA,dB,dC,dD;dA=dy.s;if(dA!=null&&dA.$==3){dy.s={$:0,$0:dz};dB=dA.$0;for(dC=0,dD=_3.length(dB)-1;dC<=dD;dC++)(_3.get(dB,dC))(dz);}else void 0;};bQ.MarkReady=function(dy,dz){var dA,dB,dC,dD;dA=dy.s;if(dA!=null&&dA.$==3){dy.s={$:2,$0:dz,$1:dA.$1};dB=dA.$0;for(dC=0,dD=_3.length(dB)-1;dC<=dD;dC++)(_3.get(dB,dC))(dz);}else void 0;};bQ.MapAsync=function(dy,dz){var dA;dA=bQ.New({$:3,$0:[],$1:[]});bQ.When(dz,function(dB){cs.StartTo(dy(dB),function(dC){bQ.MarkDone(dA,dz,dC);});},dA);return dA;};bQ.EnqueueSafe=function(dy,dz){var dA,dB,dC,dD;dy.push(dz);if(dy.length%20===0){dA=dy.slice(0);da.Clear(dy);for(dB=0,dC=_3.length(dA)-1;dB<=dC;dB++){dD=_3.get(dA,dB);typeof dD=="object"?function(dE){if(dE.s)dy.push(dE);}(dD):function(dE){dy.push(dE);}(dD);}}else void 0;};bQ.TryGet=function(dy){var dz,dA;dz=dy.s;return(dz!=null&&dz.$==0?(dA=dz.$0,true):dz!=null&&dz.$==2&&(dA=dz.$0,true))?{$:1,$0:dA}:null;};bQ.Map2Unit=function(dy,dz){var dA,dB,dC;function dD(){var dE,dF,dG;if(!(dE=dC.s,dE!=null&&dE.$==0||dE!=null&&dE.$==2)){dF=bQ.ValueAndForever(dy);dG=bQ.ValueAndForever(dz);dF!=null&&dF.$==1?dG!=null&&dG.$==1?dF.$0[1]&&dG.$0[1]?bQ.MarkForever(dC,null):bQ.MarkReady(dC,null):void 0:void 0;}}dA=dy.s;dB=dz.s;return dA!=null&&dA.$==0?dB!=null&&dB.$==0?bQ.New({$:0,$0:null}):dz:dB!=null&&dB.$==0?dy:(dC=bQ.New({$:3,$0:[],$1:[]}),(bQ.When(dy,dD,dC),bQ.When(dz,dD,dC),dC));};bQ.Copy=function(dy){var dz,dA,dB;dz=dy.s;return dz==null?dy:dz!=null&&dz.$==2?(dA=bQ.New({$:2,$0:dz.$0,$1:[]}),(bQ.WhenObsolete(dy,dA),dA)):dz!=null&&dz.$==3?(dB=bQ.New({$:3,$0:[],$1:[]}),(bQ.When(dy,function(dC){bQ.MarkDone(dB,dy,dC);},dB),dB)):dy;};bQ.WhenObsolete=function(dy,dz){var dA;dA=dy.s;dA==null?bQ.Obsolete(dz):dA!=null&&dA.$==2?bQ.EnqueueSafe(dA.$1,dz):dA!=null&&dA.$==3?bQ.EnqueueSafe(dA.$1,dz):void 0;};bQ.Map3=function(dy,dz,dA,dB){var dC,dD,dE,dF;function dG(dH){var dI,dJ,dK,dL;if(!(dI=dF.s,dI!=null&&dI.$==0||dI!=null&&dI.$==2)){dJ=bQ.ValueAndForever(dz);dK=bQ.ValueAndForever(dA);dL=bQ.ValueAndForever(dB);dJ!=null&&dJ.$==1?dK!=null&&dK.$==1?dL!=null&&dL.$==1?dJ.$0[1]&&dK.$0[1]&&dL.$0[1]?bQ.MarkForever(dF,dy(dJ.$0[0],dK.$0[0],dL.$0[0])):bQ.MarkReady(dF,dy(dJ.$0[0],dK.$0[0],dL.$0[0])):void 0:void 0:void 0;}}dC=dz.s;dD=dA.s;dE=dB.s;return dC!=null&&dC.$==0?dD!=null&&dD.$==0?dE!=null&&dE.$==0?bQ.New({$:0,$0:dy(dC.$0,dD.$0,dE.$0)}):bQ.Map3Opt1(dy,dC.$0,dD.$0,dB):dE!=null&&dE.$==0?bQ.Map3Opt2(dy,dC.$0,dE.$0,dA):bQ.Map3Opt3(dy,dC.$0,dA,dB):dD!=null&&dD.$==0?dE!=null&&dE.$==0?bQ.Map3Opt4(dy,dD.$0,dE.$0,dz):bQ.Map3Opt5(dy,dD.$0,dz,dB):dE!=null&&dE.$==0?bQ.Map3Opt6(dy,dE.$0,dz,dA):(dF=bQ.New({$:3,$0:[],$1:[]}),(bQ.When(dz,dG,dF),bQ.When(dA,dG,dF),bQ.When(dB,dG,dF),dF));};bQ.Sequence=function(dy){var dz,dA,dB;function dC(dD){var dE;if(dB[0]===0){dE=_3.map(function(dF){var dG;dG=dF.s;return dG!=null&&dG.$==0?dG.$0:dG!=null&&dG.$==2?dG.$0:O.FailWith("value not found by View.Sequence");},dz);_3.forall(function(dF){var dG;dG=dF.s;return dG!=null&&dG.$==0;},dz)?bQ.MarkForever(dA,dE):bQ.MarkReady(dA,dE);}else dB[0]--;}dz=_3.ofSeq(dy);return dz.length==0?bQ.New({$:0,$0:[]}):(dA=bQ.New({$:3,$0:[],$1:[]}),(dB=[_3.length(dz)-1],(_3.iter(function(dD){bQ.When(dD,dC,dA);},dz),dA)));};bQ.Map3Opt1=function(dy,dz,dA,dB){return bQ.Map(function(dC){return dy(dz,dA,dC);},dB);};bQ.Map3Opt2=function(dy,dz,dA,dB){return bQ.Map(function(dC){return dy(dz,dC,dA);},dB);};bQ.Map3Opt3=function(dy,dz,dA,dB){return bQ.Map2(function(dC,dD){return dy(dz,dC,dD);},dA,dB);};bQ.Map3Opt4=function(dy,dz,dA,dB){return bQ.Map(function(dC){return dy(dC,dz,dA);},dB);};bQ.Map3Opt5=function(dy,dz,dA,dB){return bQ.Map2(function(dC,dD){return dy(dC,dz,dD);},dA,dB);};bQ.Map3Opt6=function(dy,dz,dA,dB){return bQ.Map2(function(dC,dD){return dy(dC,dD,dz);},dA,dB);};bS=bR.Builder=dr.Class({},m,bS);bS.New=dr.Ctor(function(){m.New.call(this);},bS);bR.result=function(){Q.$cctor();return Q.result;};bT=bR.BuilderP=dr.Class({},m,bT);bT.New=dr.Ctor(function(){m.New.call(this);},bT);bU=bO.DependBuilder=dr.Class({Delay:function(dy){return dy();},Bind:function(dy,dz){return bO.bind(dz,dy);},Return:function(dy){return bO.rtn(dy);}},m,bU);bU.New=dr.Ctor(function(){m.New.call(this);},bU);bW=bV.Builder=dr.Class({},m,bW);bW.New=dr.Ctor(function(){m.New.call(this);},bW);_.tryParseWith$1=function(dy){function dz(dA,dB){return dA?{$:1,$0:dB}:null;}return function(dA){return dz.apply(null,dy(dA));};};_.parseDateO$1=function(){Q.$cctor();return Q.parseDateO;};_.parseIntO$1=function(){Q.$cctor();return Q.parseIntO;};_.parseInt64O$1=function(){Q.$cctor();return Q.parseInt64O;};_.parseSingleO$1=function(){Q.$cctor();return Q.parseSingleO;};_.parseDoubleO$1=function(){Q.$cctor();return Q.parseDoubleO;};_.parseGuidO$1=function(){Q.$cctor();return Q.parseGuidO;};K.TryParseInt64=function(dy,dz){return K.TryParse(dy,-9223372036854775808,9223372036854775807,dz);};bX.toJsonString=function(dy){return _3.ofSeq(_6.delay(function(){return _6.append(["\""],_6.delay(function(){return _6.append(!cc.IsNullOrEmpty(dy)?_6.collect(function(dz){var dA,dB;dA=dy[dz];dB=dA.charCodeAt();return dB>=0&&dB<=7||dB===11||dB>=14&&dB<=31?(function(dC){return function(dD){return dC("\\u"+$.padNumLeft(dD.toString(16),4));};}(a.id))(dB):dA==="\u0008"?"\\b":dA==="\u0009"?"\\t":dA==="\n"?"\\n":dA==="\u000c"?"\\f":dA==="\r"?"\\r":dA==="\""?"\\\"":dA==="\\"?"\\\\":[dA];},O.range(0,dy.length-1)):[],_6.delay(function(){return["\""];}));}));})).join("");};bX.serString=function(){Q.$cctor();return Q.serString;};bX.mapO=function(dy,dz,dA,dB){function dC(dD){return dD==null?null:dz(dD.$0);}return[function(dD){return dA(dy(dD));},function(dD){return dC(dB(dD));}];};bX.serField=function(dy,dz,dA,dB,dC){var dD;function dE(dF){return{$:1,$0:dF};}return[dy,(dD=function(dF){return dB(dz(dF));},function(dF){return dE(dD(dF));}),function(dF){var dG,dH,dI;function dJ(dL){return dA(dL,dF);}function dK(dL){return dL==null?dF:dL.$0;}dG=(dH=(dI=function(dL){return dL==null?null:{$:1,$0:dJ(dL.$0)};},function(dL){return dI(dC(dL));}),function(dL){return dL==null?null:dH(dL.$0);});return function(dL){return dK(dG(dL));};}];};bX.serOpt=function(dy,dz){var dA,dB,dC;function dD(dE){return dE==null?"null":dE.$0;}dA=[dy,dz];return[(dB=(dC=dA[0],function(dE){return dE==null?null:{$:1,$0:dC(dE.$0)};}),function(dE){return dD(dB(dE));}),function(dE){return{$:1,$0:dE.isNull()?null:dA[1](dE)};}];};bX.serSet=function(dy,dz){var dA,dB,dC;dA=[dy,dz];return[(dB=(dC=dA[0],function(dD){return new ck.New$1(cp.OfSeq(_6.map(dC,dD)));}),function(dD){return bX.sprintA(dB(dD));}),function(dD){var dE,dF,dG,dH;dE=(dF=dD.tryArray(),(dG=(dH=dA[1],function(dI){return _3.choose(dH,dI);}),dF==null?null:{$:1,$0:dG(dF.$0)}));return dE==null?null:{$:1,$0:new ck.New(dE.$0)};}];};bX.serDup=function(dy,dz){return[function(dA){return(((dr.Curried3(function(dB,dC,dD){return dB("["+$.toSafe(dC)+", "+$.toSafe(dD)+"]");}))(a.id))(dy[0](dA[0])))(dz[0](dA[1]));},function(dA){var dB,dC,dD,dE,dF,dG;dB=dA.tryArray();return dB!=null&&dB.$==1&&((dD=dB.$0,!P.Equals(dD,null)&&dD.length===2)&&(dC=[_3.get(dB.$0,0),_3.get(dB.$0,1)],true))?(dE=dy[1](dC[0]),(dF=dz[1](dC[1]),dE!=null&&dE.$==1&&(dF!=null&&dF.$==1&&(dG=[dE.$0,dF.$0],true))?{$:1,$0:[dG[0],dG[1]]}:null)):null;}];};bX.serArr=function(dy,dz){var dA,dB,dC;dA=[dy,dz];return[(dB=(dC=dA[0],function(dD){return _3.map(dC,dD);}),function(dD){return bX.sprintA(dB(dD));}),function(dD){var dE,dF,dG;dE=dD.tryArray();dF=(dG=dA[1],function(dH){return _3.choose(dG,dH);});return dE==null?null:{$:1,$0:dF(dE.$0)};}];};bX.serInt=function(){Q.$cctor();return Q.serInt;};bX.serFieldO=function(dy,dz,dA,dB,dC){function dD(dE){return dE==null?null:{$:1,$0:dB(dE.$0)};}return[dy,function(dE){return dD(dz(dE));},function(dE){var dF,dG;function dH(dJ){return dA(dJ,dE);}function dI(dJ){return dJ==null?dE:dJ.$0;}dF=(dG=function(dJ){return dH(dC(dJ));},function(dJ){return dJ==null?null:{$:1,$0:dG(dJ.$0)};});return function(dJ){return dI(dF(dJ));};}];};bX.serDate=function(){Q.$cctor();return Q.serDate;};bX.sprintA=function(dy){var dz;dz=cc.concat(", ",dy);return(function(dA){return function(dB){return dA("["+$.toSafe(dB)+"]");};}(a.id))(dz);};bY.New=function(dy,dz,dA,dB,dC,dD,dE,dF,dG){return{tryFloat:dy,tryInt:dz,tryString:dA,tryBool:dB,tryArray:dC,tryField:dD,isObject:dE,isNull:dF,toString:dG};};bZ.New=function(dy,dz,dA){return bx.New(bN.Tag$4(bs.NewGuid()),dy,dz,dA,new ck.New$1(null),[],bZ.getNextModified());};bZ.allPredecessors=function(dy,dz){var dA;dA=new ck.New(Y.toArray(dz.snpParentIdO));return function(dB,dC,dD){var dE,dF,dG,dH,dI,dJ,dK,dL;while(true)if(dD.get_IsEmpty())return dB;else{dE=_6.head(dD);dF=dD.Remove(dE);dG=dC.Add(dE);dH=dy(dE);if(dH!=null&&dH.$==1){dI=dH.$0;dJ=ck.op_Addition(new ck.New(Y.toArray(dI.snpParentIdO)),new ck.New(dI.snpPredIds));dK=dB.Add(dI);dL=ck.op_Addition(dF,ck.op_Subtraction(dJ,dG));dB=dK;dC=dG;dD=dL;}else{dC=dG;dD=dF;}}}(new ck.New$1(null),(new ck.New$1(null)).Add(dz.snpId),ck.op_Addition(dA,new ck.New(dz.snpPredIds)));};bZ.indirectPredecessorIds=function(dy,dz,dA,dB){var dC;dC=new ck.New(Y.toArray(dA));return function(dD,dE,dF){var dG,dH,dI,dJ,dK,dL,dM,dN;while(true)if(dF.get_IsEmpty())return dD;else{dG=_6.head(dF);dH=dF.Remove(dG);dI=dE.Add(dG);dJ=dy(dG);if(dJ!=null&&dJ.$==1){dK=dJ.$0;dL=ck.op_Addition(new ck.New(Y.toArray(dK.snpParentIdO)),new ck.New(dK.snpPredIds));dM=ck.op_Addition(dD,dL);dN=ck.op_Addition(dH,ck.op_Subtraction(dL,dI));dD=dM;dE=dI;dF=dN;}else{dE=dI;dF=dH;}}}(dC,(new ck.New$1(null)).Add(dz),ck.op_Addition(dC,dB));};bZ.defaultSnippet=function(){Q.$cctor();return Q.defaultSnippet;};bZ.getNextModified=function(){return dt.now();};b2.Delay=function(dy){return function(dz){try{(dy(null))(dz);}catch(dA){dz.k({$:1,$0:dA});}};};b2.Bind=function(dy,dz){return b2.checkCancel(function(dA){dy(ct.New(function(dB){var dC;if(dB.$==0){dC=dB.$0;b2.scheduler().Fork(function(){try{(dz(dC))(dA);}catch(dD){dA.k({$:1,$0:dD});}});}else b2.scheduler().Fork(function(){dA.k(dB);});},dA.ct));});};b2.Return=function(dy){return function(dz){dz.k({$:0,$0:dy});};};b2.FromContinuations=function(dy){return function(dz){var dA;function dB(dC){if(dA[0])O.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{dA[0]=true;b2.scheduler().Fork(dC);}}dA=[false];dy(function(dC){dB(function(){dz.k({$:0,$0:dC});});},function(dC){dB(function(){dz.k({$:1,$0:dC});});},function(dC){dB(function(){dz.k({$:2,$0:dC});});});};};b2.checkCancel=function(dy){return function(dz){if(dz.ct.c)b2.cancel(dz);else dy(dz);};};b2.While=function(dy,dz){return dy()?b2.Bind(dz,function(){return b2.While(dy,dz);}):b2.Return();};b2.Sleep=function(dy){return function(dz){var dA,dB;dA=void 0;dB=void 0;dA=a.setTimeout(function(){dB.Dispose();b2.scheduler().Fork(function(){dz.k({$:0,$0:null});});},dy);dB=b2.Register(dz.ct,function(){a.clearTimeout(dA);b2.scheduler().Fork(function(){b2.cancel(dz);});});};};b2.Zero=function(){cL.$cctor();return cL.Zero;};b2.Start=function(dy,dz){var dA,dB;dA=(dB=(b2.defCTS())[0],dz==null?dB:dz.$0);b2.scheduler().Fork(function(){if(!dA.c)dy(ct.New(function(dC){if(dC.$==1)b2.UncaughtAsyncError(dC.$0);},dA));});};b2.StartWithContinuations=function(dy,dz,dA,dB,dC){var dD,dE;dD=(dE=(b2.defCTS())[0],dC==null?dE:dC.$0);!dD.c?dy(ct.New(function(dF){if(dF.$==1)dA(dF.$0);else if(dF.$==2)dB(dF.$0);else dz(dF.$0);},dD)):void 0;};b2.cancel=function(dy){dy.k({$:2,$0:new cW.New(dy.ct)});};b2.scheduler=function(){cL.$cctor();return cL.scheduler;};b2.Register=function(dy,dz){var dA;return dy===b2.noneCT()?{Dispose:function(){return null;}}:(dA=dy.r.push(dz)-1,{Dispose:function(){return _3.set(dy.r,dA,a.ignore);}});};b2.defCTS=function(){cL.$cctor();return cL.defCTS;};b2.UncaughtAsyncError=function(dy){ds.log("WebSharper: Uncaught asynchronous exception",dy);};b2.TryWith=function(dy,dz){return function(dA){dy(ct.New(function(dB){if(dB.$==0)dA.k({$:0,$0:dB.$0});else if(dB.$==1)try{(dz(dB.$0))(dA);}catch(dC){dA.k(dB);}else dA.k(dB);},dA.ct));};};b2.noneCT=function(){cL.$cctor();return cL.noneCT;};b3=L.AttrProxy=dr.Class({},null,b3);b3.OnAfterRenderImpl=function(dy){return new b3({$:4,$0:dy});};b3.Create=function(dy,dz){return cu.Static(function(dA){cv.SetAttr(dA,dy,dz);});};b3.Concat=function(dy){var dz;dz=cg.ofSeqNonCopying(dy);return cg.TreeReduce(cu.EmptyAttr(),b3.Append,dz);};b3.Append=function(dy,dz){return cu.AppendTree(dy,dz);};b3.HandlerImpl=function(dy,dz){return cu.Static(function(dA){dA.addEventListener(dy,function(dB){return(dz(dA))(dB);},false);});};b3.Handler=function(dy,dz){return b3.HandlerImpl(dy,dz);};b4=L.ConcreteVar=dr.Class({get_View:function(){return this.view;},Set:function(dy){if(this.isConst)(function(dz){return dz("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal");}(function(dz){ds.log(dz);}));else{bQ.Obsolete(this.snap);this.current=dy;this.snap=bQ.New({$:2,$0:dy,$1:[]});}},Get:function(){return this.current;},Update:function(dy){this.Set(dy(this.Get()));},UpdateMaybe:function(dy){var dz;dz=dy(this.Get());dz!=null&&dz.$==1?this.Set(dz.$0):void 0;}},M,b4);b4.New=dr.Ctor(function(dy,dz,dA){var dB;dB=this;M.New.call(this);this.isConst=dy;this.current=dA;this.snap=dz;this.view=function(){return dB.snap;};this.id=b6.Int();},b4);b6.Id=function(){b6.set_counter(b6.counter()+1);return"uid"+a.String(b6.counter());};b6.Int=function(){b6.set_counter(b6.counter()+1);return b6.counter();};b6.set_counter=function(dy){cN.$cctor();cN.counter=dy;};b6.counter=function(){cN.$cctor();return cN.counter;};_1.rtn=function(dy){return b2.Return(U.OkM$1(dy));};_1.bind=function(dy,dz){var dA;dA=null;return b2.Delay(function(){return b2.TryWith(b2.Delay(function(){return b2.Bind(dz,function(dB){var dC,dD;function dE(dG){return bV.addMsg(dD,dG);}function dF(dG){return b2.Return(dG);}dC=U.OkM(dB);return dC.$==1?b2.Return(U.ErrorM(dC.$0)):(dD=dC.$0[1],b2.Bind(dy(dC.$0[0]),function(dG){return dF(dE(dG));}));});}),function(dB){return b2.Return(U.ErrorM(new b8({$:5,$0:dB.message,$1:dB.stack})));});});};U.OkM$1=function(dy){return{$:0,$0:{$:1,$0:dy},$1:b8.NoMsg};};U.OkM=function(dy){return dy.$0==null?{$:1,$0:dy.$1}:{$:0,$0:[dy.$0.$0,dy.$1]};};U.ErrorM=function(dy){return{$:0,$0:null,$1:dy};};b8.summarized=function(dy){return b8.summarizedF(function(){return[1,0,0];},dy);};b8.summarizedF=function(dy,dz){return cc.concat("\n",_6.filter(function(dA){return""!==dA;},bp.ofArray([a.String(dz),b8.summaryF(dy,dz)])));};b8.addMsg=function(dy,dz){return dy.$==0?dz:dy.$==6?dz.$==0?dy:dz.$==6?new b8({$:6,$0:dy.$0.concat(dz.$0)}):new b8({$:6,$0:dy.$0.concat([dz])}):dz.$==0?dy:dz.$==6?new b8({$:6,$0:[dy].concat(dz.$0)}):new b8({$:6,$0:[dy,dz]});};b8.summaryF=function(dy,dz){var dA,dB;dB=b8.countF(dy,dz);switch(dB[0]===0?dB[1]===0?0:dB[1]===1?dB[2]===0?0:(dA=dB[1],2):(dA=dB[1],2):dB[0]===1?dB[1]===0?dB[2]===0?0:(dA=dB[0],1):(dA=[dB[0],dB[1]],3):dB[1]===0?(dA=dB[0],1):(dA=[dB[0],dB[1]],3)){case 0:return"";case 1:return(function(dC){return function(dD){return dC("Errors   : "+a.String(dD)+"\n");};}(a.id))(dA);case 2:return(function(dC){return function(dD){return dC("Warnings : "+a.String(dD)+"\n");};}(a.id))(dA);case 3:return(((dr.Curried3(function(dC,dD,dE){return dC("Errors   : "+a.String(dD)+", Warnings: "+a.String(dE)+"\n");}))(a.id))(dA[0]))(dA[1]);}};b8.countF=function(dy,dz){function dA(dB,dC,dD){return function(dE){return[dB+dE[0],dC+dE[1],dD+dE[2]];};}return dz.$==0?[0,0,0]:dz.$==3?[0,0,1]:dz.$==2?[0,1,0]:dz.$==4?dy(dz.$0):dz.$==6?_6.fold(function(dB,dC){return(function(dD){return dA(dD[0],dD[1],dD[2]);}(dB))(dC);},[0,0,0],_6.map(function(dB){return b8.countF(dy,dB);},b8.exclnoMsg(dz.$0))):[1,0,0];};b8.exclnoMsg=function(dy){function dz(dA){return!dA;}return _6.filter(function(dA){return dz(b8.noMsg(dA));},dy);};b8.noMsg=function(dy){return dy.$==0;};b9.Get=function(dy){return dy instanceof a.Array?b9.ArrayEnumerator(dy):P.Equals(typeof dy,"string")?b9.StringEnumerator(dy):dy.GetEnumerator();};b9.ArrayEnumerator=function(dy){return new b_.New(0,null,function(dz){var dA;dA=dz.s;return dA<_3.length(dy)&&(dz.c=_3.get(dy,dA),dz.s=dA+1,true);},void 0);};b9.StringEnumerator=function(dy){return new b_.New(0,null,function(dz){var dA;dA=dz.s;return dA<dy.length&&(dz.c=dy[dA],dz.s=dA+1,true);},void 0);};b9.Get0=function(dy){return dy instanceof a.Array?b9.ArrayEnumerator(dy):P.Equals(typeof dy,"string")?b9.StringEnumerator(dy):"GetEnumerator0"in dy?dy.GetEnumerator0():dy.GetEnumerator();};b_=b9.T=dr.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},m,b_);b_.New=dr.Ctor(function(dy,dz,dA,dB){m.New.call(this);this.s=dy;this.c=dz;this.n=dA;this.d=dB;},b_);b$.DynamicPred=function(dy,dz,dA){function dB(dC,dD){return dD[0]?cv.SetAttr(dC,dy,dD[1]):cv.RemoveAttr(dC,dy);}return cu.Dynamic(N.Map2(function(dC,dD){return[dC,dD];},dz,dA),function(dC){return function(dD){return dB(dC,dD);};});};b$.Value=function(dy){function dz(dA){return{$:1,$0:dA};}return b$.CustomValue(dy,a.id,function(dA){return dz(a.id(dA));});};b$.Style=function(dy,dz){return cu.Static(function(dA){cv.SetStyle(dA,dy,dz);});};b$.CustomValue=function(dy,dz,dA){return b$.CustomVar(dy,function(dB,dC){dB.value=dz(dC);},function(dB){return dA(dB.value);});};b$.DynamicCustom=function(dy,dz){return cu.Dynamic(dz,dy);};b$.DynamicStyle=function(dy,dz){return cu.Dynamic(dz,function(dA){return function(dB){return cv.SetStyle(dA,dy,dB);};});};b$.CustomVar=function(dy,dz,dA){function dB(dD,dE){return dy.UpdateMaybe(function(dF){var dG,dH;dG=dA(dD);return dG!=null&&dG.$==1&&(!P.Equals(dG.$0,dF)&&(dH=[dG,dG.$0],true))?dH[0]:null;});}function dC(dD,dE){var dF,dG;dF=dA(dD);return dF!=null&&dF.$==1&&(P.Equals(dF.$0,dE)&&(dG=dF.$0,true))?null:dz(dD,dE);}return b3.Concat([b$.Handler("change",function(dD){return function(dE){return dB(dD,dE);};}),b$.Handler("input",function(dD){return function(dE){return dB(dD,dE);};}),b$.Handler("keypress",function(dD){return function(dE){return dB(dD,dE);};}),b$.DynamicCustom(function(dD){return function(dE){return dC(dD,dE);};},dy.get_View())]);};b$.Handler=function(dy,dz){return cu.Static(function(dA){dA.addEventListener(dy,function(dB){return(dz(dA))(dB);},false);});};b$.Dynamic=function(dy,dz){return cu.Dynamic(dz,function(dA){return function(dB){return cv.SetAttr(dA,dy,dB);};});};b$.OnAfterRender=function(dy){return new b3({$:4,$0:dy});};b$.Checked=function(dy){function dz(dA,dB){return!P.Equals(dy.Get(),dA.checked)?dy.Set(dA.checked):null;}return b3.Concat([b$.DynamicProp("checked",dy.get_View()),b$.Handler("change",function(dA){return function(dB){return dz(dA,dB);};})]);};b$.IntValue=function(dy){return b$.CustomVar(dy,function(dz,dA){var dB;dB=dA.get_Input();return dz.value!==dB?void(dz.value=dB):null;},function(dz){var dA,dB,dC;dA=dz.value;return{$:1,$0:di.isBlank(dA)?(dz.checkValidity?dz.checkValidity():true)?new cI({$:2,$0:dA}):new cI({$:1,$0:dA}):(dB=(dC=0,[K.TryParseInt32(dA,{get:function(){return dC;},set:function(dD){dC=dD;}}),dC]),dB[0]?new cI({$:0,$0:dB[1],$1:dA}):new cI({$:1,$0:dA}))};});};b$.IntValueUnchecked=function(dy){return b$.CustomValue(dy,a.String,function(dz){var dA;return di.isBlank(dz)?{$:1,$0:0}:(dA=+dz,dA!==dA>>0?null:{$:1,$0:dA});});};b$.FloatValue=function(dy){return b$.CustomVar(dy,function(dz,dA){var dB;dB=dA.get_Input();return dz.value!==dB?void(dz.value=dB):null;},function(dz){var dA,dB;dA=dz.value;return{$:1,$0:di.isBlank(dA)?(dz.checkValidity?dz.checkValidity():true)?new cI({$:2,$0:dA}):new cI({$:1,$0:dA}):(dB=+dA,a.isNaN(dB)?new cI({$:1,$0:dA}):new cI({$:0,$0:dB,$1:dA}))};});};b$.FloatValueUnchecked=function(dy){return b$.CustomValue(dy,a.String,function(dz){var dA;return di.isBlank(dz)?{$:1,$0:0}:(dA=+dz,a.isNaN(dA)?null:{$:1,$0:dA});});};b$.DynamicProp=function(dy,dz){return cu.Dynamic(dz,function(dA){return function(dB){dA[dy]=dB;};});};ca=L.FromView=dr.Class({get_View:function(){return this.view;},Set:function(dy){this.set(dy);},Get:function(){return this.current;},Update:function(dy){var dz;N.Get((dz=this.set,function(dA){return dz(dy(dA));}),this.view);},UpdateMaybe:function(dy){var dz;dz=this;N.Get(function(dA){var dB;dB=dy(dA);dB!=null&&dB.$==1?dz.set(dB.$0):void 0;},this.view);}},M,ca);ca.New=dr.Ctor(function(dy,dz){var dA,dB;dA=this;M.New.call(this);this.set=dz;this.id=b6.Int();this.current=(dB=N.TryGet(dy),dB==null?null:dB.$0);this.view=N.Map(function(dC){dA.current=dC;return dC;},dy);},ca);cb.$cctor=function(){var dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_;cb.$cctor=a.ignore;function d$(eM){return cc.concat("\n",eM);}function ea(eM){return cw.splitByChar("\n",eM);}function eb(eM){var eN,eO;return bv.array(eM,{$:1,$0:0},{$:1,$0:(eN=0,(eO=_3.length(eM)-2,P.Compare(eN,eO)===1?eN:eO))});}function ec(eM){return cc.concat("\n",eM);}function ed(eM){return eM+"T00:00:00";}function ee(eM){var eN;function eO(eQ){return bb.plugIns().TryFindByKey(eQ);}function eP(eQ){return eQ==null?bb.defaultPlugIn():eQ.$0;}eN=function(eQ){return eQ==null?null:eO(eQ.$0);};return function(eQ){return eP(eN(eQ));};}function ef(eM){var eN;eN=null;return dE.TryGetValue(eM,{get:function(){return eN;},set:function(eO){eN=eO;}})?{$:1,$0:eN}:null;}function eg(eM,eN){dE.set_Item(eM,eN);return eN;}function eh(eM,eN){var eO;eO=ef(eM);return eO==null?eg(eM,eN(eM)):eO.$0;}function ei(eM){var eN;eN=null;return dH.TryGetValue(eM,{get:function(){return eN;},set:function(eO){eN=eO;}})?{$:1,$0:eN}:null;}function ej(eM,eN){dH.set_Item(eM,eN);return eN;}function ek(eM,eN){var eO;eO=ei(eM);return eO==null?ej(eM,eN(eM)):eO.$0;}function el(eM){var eN;eN=null;return dK.TryGetValue(eM,{get:function(){return eN;},set:function(eO){eN=eO;}})?{$:1,$0:eN}:null;}function em(eM,eN){dK.set_Item(eM,eN);return eN;}function en(eM,eN){var eO;eO=el(eM);return eO==null?em(eM,eN(eM)):eO.$0;}function eo(eM){var eN;eN=null;return dN.TryGetValue(eM,{get:function(){return eN;},set:function(eO){eN=eO;}})?{$:1,$0:eN}:null;}function ep(eM,eN){dN.set_Item(eM,eN);return eN;}function eq(eM,eN){var eO;eO=eo(eM);return eO==null?ep(eM,eN(eM)):eO.$0;}function er(eM){var eN;eN=null;return dQ.TryGetValue(eM,{get:function(){return eN;},set:function(eO){eN=eO;}})?{$:1,$0:eN}:null;}function es(eM,eN){dQ.set_Item(eM,eN);return eN;}function et(eM,eN){var eO;eO=er(eM);return eO==null?es(eM,eN(eM)):eO.$0;}function eu(eM){var eN;eN=null;return dT.TryGetValue(eM,{get:function(){return eN;},set:function(eO){eN=eO;}})?{$:1,$0:eN}:null;}function ev(eM,eN){dT.set_Item(eM,eN);return eN;}function ew(eM,eN){var eO;eO=eu(eM);return eO==null?ev(eM,eN(eM)):eO.$0;}function ex(eM){var eN;eN=null;return dW.TryGetValue(eM,{get:function(){return eN;},set:function(eO){eN=eO;}})?{$:1,$0:eN}:null;}function ey(eM,eN){dW.set_Item(eM,eN);return eN;}function ez(eM,eN){var eO;eO=ex(eM);return eO==null?ey(eM,eN(eM)):eO.$0;}function eA(eM){var eN;eN=null;return dZ.TryGetValue(eM,{get:function(){return eN;},set:function(eO){eN=eO;}})?{$:1,$0:eN}:null;}function eB(eM,eN){dZ.set_Item(eM,eN);return eN;}function eC(eM,eN){var eO;eO=eA(eM);return eO==null?eB(eM,eN(eM)):eO.$0;}function eD(eM){var eN;eN=null;return d2.TryGetValue(eM,{get:function(){return eN;},set:function(eO){eN=eO;}})?{$:1,$0:eN}:null;}function eE(eM,eN){d2.set_Item(eM,eN);return eN;}function eF(eM,eN){var eO;eO=eD(eM);return eO==null?eE(eM,eN(eM)):eO.$0;}function eG(eM){var eN;eN=null;return d5.TryGetValue(eM,{get:function(){return eN;},set:function(eO){eN=eO;}})?{$:1,$0:eN}:null;}function eH(eM,eN){d5.set_Item(eM,eN);return eN;}function eI(eM,eN){var eO;eO=eG(eM);return eO==null?eH(eM,eN(eM)):eO.$0;}function eJ(eM){var eN;eN=null;return d8.TryGetValue(eM,{get:function(){return eN;},set:function(eO){eN=eO;}})?{$:1,$0:eN}:null;}function eK(eM,eN){d8.set_Item(eM,eN);return eN;}function eL(eM,eN){var eO;eO=eJ(eM);return eO==null?eK(eM,eN(eM)):eO.$0;}cb.unindentStr=function(eM){return d$(cw.unindent(eM));};cb.skipLastLine=(dy=function(eM){return eb(ea(eM));},function(eM){return ec(dy(eM));});cb.parseDateO2=(dz=_.tryParseWith(function(eM){var eN,eO;eN=0;return[(eO=co.TryParse(eM),eO!=null&&eO.$==1&&(eN=eO.$0,true)),eN];}),function(eM){return dz(ed(eM));});cb.parseDateO=_.tryParseWith(function(eM){var eN,eO;eN=0;return[(eO=co.TryParse(eM),eO!=null&&eO.$==1&&(eN=eO.$0,true)),eN];});cb.parseIntO=_.tryParseWith(function(eM){var eN;eN=0;return[K.TryParseInt32(eM,{get:function(){return eN;},set:function(eO){eN=eO;}}),eN];});cb.parseInt64O=_.tryParseWith(function(eM){var eN;eN=0;return[K.TryParseInt64(eM,{get:function(){return eN;},set:function(eO){eN=eO;}}),eN];});cb.parseSingleO=_.tryParseWith(function(eM){var eN,eO;eN=0;return[(eO=a.Number(eM),a.isNaN(eO)?false:(eN=eO,true)),eN];});cb.parseDoubleO=_.tryParseWith(function(eM){var eN,eO;eN=0;return[(eO=a.Number(eM),a.isNaN(eO)?false:(eN=eO,true)),eN];});cb.parseGuidO=_.tryParseWith(function(eM){var eN;eN=null;return[bs.TryParse(eM,{get:function(){return eN;},set:function(eO){eN=eO;}}),eN];});cb["|Date|_|"]=_.parseDateO();cb["|Int|_|"]=_.parseIntO();cb["|Int64|_|"]=_.parseInt64O();cb["|Single|_|"]=_.parseSingleO();cb["|Double|_|"]=_.parseDoubleO();cb["|Guid|_|"]=_.parseGuidO();cb.counter=1;cb.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";cb.rexEmail="(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@[*[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+]*";cb.observers=bq.Empty;cb.css="\r\n                .tab-panel {\r\n                 overflow  : hidden   ;\r\n                 display   : flex     ;\r\n                 flex-flow : column   ;\r\n                 background: lightgray;\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                }\r\n                .tab-content {\r\n                 flex      : 1 1     ;\r\n                 overflow  : auto    ;\r\n                 position  : relative;\r\n                }\r\n                .tab-children {\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                 position  : absolute;\r\n                 display   : grid    ;\r\n                }\r\n                .tab-strip {\r\n                 padding   : 0pt     ;\r\n                 flex      : 0 0     ;\r\n                }\r\n                .tab {\r\n                 border     : 0.2pt solid transparent;\r\n                 padding    : 0pt 4pt;\r\n                 display    : inline-block;\r\n                 font-family: sans-serif;\r\n                 font-weight: 200;\r\n                 font-size  : small;\r\n                 color      : #666;\r\n                 cursor     : pointer;\r\n                }\r\n                .top>.tab {\r\n                 border-radius: 2pt 2pt 0pt 0pt;\r\n                 border-bottom-width: 0pt;\r\n                 vertical-align: bottom;\r\n                }\r\n                .bottom>.tab {\r\n                 border-top-width: 0pt;\r\n                 border-radius: 0pt 0pt 2pt 2pt;\r\n                 vertical-align: top;\r\n                }\r\n                .horizontal>.tab:not(:first-child) {\r\n                 border-left-width: 0pt;\r\n                }\r\n                .tab.hovering {\r\n                 background: red;\r\n                }\r\n                .tab.selected {\r\n                 background: white;\r\n                 border-left-width: 0.2pt;\r\n                 color: black;\r\n                 font-weight: 500;\r\n                 border-color: black;\r\n                }\r\n                .horizontal>.tab.selected {\r\n                 border-left-width: 0.2pt;\r\n                }\r\n                ::slotted(*              ) { \r\n                 width : 100%;\r\n                 height: 100%;\r\n                }\r\n                        ";cb.init=be.Create(function(){var eM;eM=new cz.New();cx.defineWebComponent("wcomp-tabstrip",cz.Constructor,self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New);});cb.layoutHorizontal=dr.Curried(function(eM,eN,eO,eP,eQ){return bl.get_Empty();},5);cb.layoutVertical=dr.Curried(function(eM,eN,eO,eP,eQ){return bl.get_Empty();},5);cb.plugIns=new bd.New$1(function(eM){return eM.plgName;});cb.mainDocV=X.Create$1("AppFramework.AppFwkClient");cb.TemplateFileName="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\LayoutEngine\\website\\AppFramework.html";cb.selectionPlugInO=X.Create$1({$:1,$0:"AppFramework"});cb.currentPlugInW=(dA=bb.selectionPlugInO().get_View(),N.Map2(function(eM,eN){return(ee(eM))(eN);},bb.plugIns().v,dA));cb.currentPlugInV=new ca.New(bb.currentPlugInW(),function(eM){bb.plugIns().Append(eM);});cb.AppFwkClient=be.Create(function(){var eM,eN,eO,eP,eQ,eR,eS,eT,eU;return(eM=(eN=bb.renderQueries(),(eO=bb.renderActions(),(eP=bb.renderDocs(),(eQ=bb.renderViews(),(eR=bb.renderVars(),(eS=bb.renderPlugIns(),bC.Make().WithHole({$:0,$0:"plugins",$1:eS})).WithHole({$:2,$0:"pluginname",$1:N.Map(function(eV){return eV.plgName;},bb.currentPlugInW())}).WithHole({$:0,$0:"vars",$1:eR})).WithHole({$:0,$0:"views",$1:eQ})).WithHole({$:0,$0:"docs",$1:eP})).WithHole({$:0,$0:"actions",$1:eO})).WithHole({$:0,$0:"queries",$1:eN})),(eT=bD.CompleteHoles(eM.k,eM.h,[]),(eU=new bB.New(eT[1],cA.appfwkclient(eT[0])),(eM.i=eU,eU)))).get_Doc();});cb.actHello=bb.newAct("Hello",function(){self.alert("Hello!");});cb.actSetVar=bb.newActF("SetVar",{$:2,$0:function(eM){return function(eN){return bb.setVar(eM,eN);};},$1:"Var",$2:"Value"});cb.docTrigAct=bb.newDocF("TrigAction",{$:2,$0:function(eM){return function(eN){return bb.trigAct(eM,eN);};},$1:"Trigger",$2:"Action"});cb.qryDocs=bb.newQry("getDocNames",function(){return _3.ofSeq(_6.collect(function(eM){return _6.map(function(eN){return eM.plgName+"."+eN.docName;},eM.plgDocs);},(bb.plugIns())["var"].Get()));});dB=(dC=bb.defaultPlugIn(),bc.New("AppFramework",dC.plgVars,dC.plgViews,dC.plgDocs,dC.plgActions,dC.plgQueries));dB.plgVars.Append(bb.newVar("mainDocV",bb.mainDocV()));dB.plgDocs.Append(bb.newDoc("AppFwkClient",bb.AppFwkClient()));dB.plgDocs.Append(bb.docTrigAct());dB.plgActions.Append(bb.actHello());dB.plgActions.Append(bb.actSetVar());dB.plgQueries.Append(bb.qryDocs());bb.plugIns().Append(dB);cb.getMainDoc=be.Create(function(){cD.init(dr.Curried(bb.horizontal,5),dr.Curried(bb.vertical,5));cy.init().f();return bb.mainDoc();});cb.splitName=bb.splitName;cb.currentViewTriggger=bb.mainDocV().get_View();cb.createSplitterM=(dD=(dE=new bu.New$5(),[[ef,function(eM){return function(eN){return eh(eM,eN);};}],function(){dE.Clear();}]),(dF=dD[0][1],[function(eM){return(dF(eM))(function(eN){return bf.createSplitter(eN[0],eN[1],eN[2],eN[3],eN[4]);});},dD[1]]))[0];cb.createButtonM=(dG=(dH=new bu.New$5(),[[ei,function(eM){return function(eN){return ek(eM,eN);};}],function(){dH.Clear();}]),(dI=dG[0][1],[function(eM){return(dI(eM))(function(eN){return bf.createButton(eN[0],eN[1],eN[2],eN[3],eN[4]);});},dG[1]]))[0];cb.createInputM=(dJ=(dK=new bu.New$5(),[[el,function(eM){return function(eN){return en(eM,eN);};}],function(){dK.Clear();}]),(dL=dJ[0][1],[function(eM){return(dL(eM))(function(eN){return bf.createInput(eN[0],eN[1],eN[2],eN[3]);});},dJ[1]]))[0];cb.createTextAreaM=(dM=(dN=new bu.New$5(),[[eo,function(eM){return function(eN){return eq(eM,eN);};}],function(){dN.Clear();}]),(dO=dM[0][1],[function(eM){return(dO(eM))(function(eN){return bf.createTextArea(eN[0],eN[1],eN[2],eN[3]);});},dM[1]]))[0];cb.createElementM=(dP=(dQ=new bu.New$5(),[[er,function(eM){return function(eN){return et(eM,eN);};}],function(){dQ.Clear();}]),(dR=dP[0][1],[function(eM){return(dR(eM))(function(eN){return bf.createElement(eN[0],eN[1],eN[2],eN[3],eN[4]);});},dP[1]]))[0];cb.createDocM=(dS=(dT=new bu.New$5(),[[eu,function(eM){return function(eN){return ew(eM,eN);};}],function(){dT.Clear();}]),(dU=dS[0][1],[function(eM){return(dU(eM))(function(eN){return bf.createDoc(eN[0],eN[1],eN[2],eN[3]);});},dS[1]]))[0];cb.createTemplateM=(dV=(dW=new bu.New$5(),[[ex,function(eM){return function(eN){return ez(eM,eN);};}],function(){dW.Clear();}]),(dX=dV[0][1],[function(eM){return(dX(eM))(function(eN){return bf.createTemplate(eN[0],eN[1],eN[2],eN[3],eN[4]);});},dV[1]]))[0];cb.createConcatM=(dY=(dZ=new bu.New$5(),[[eA,function(eM){return function(eN){return eC(eM,eN);};}],function(){dZ.Clear();}]),(d0=dY[0][1],[function(eM){return(d0(eM))(function(eN){return bf.createConcat(eN[0],eN[1],eN[2]);});},dY[1]]))[0];cb.createVarM=(d1=(d2=new bu.New$5(),[[eD,function(eM){return function(eN){return eF(eM,eN);};}],function(){d2.Clear();}]),(d3=d1[0][1],[function(eM){return(d3(eM))(function(eN){return bf.createVar(eN[0],eN[1],eN[2]);});},d1[1]]))[0];cb.createViewM=(d4=(d5=new bu.New$5(),[[eG,function(eM){return function(eN){return eI(eM,eN);};}],function(){d5.Clear();}]),(d6=d4[0][1],[function(eM){return(d6(eM))(function(eN){return bf.createView(eN[0],eN[1],eN[2]);});},d4[1]]))[0];cb.createActionM=(d7=(d8=new bu.New$5(),[[eJ,function(eM){return function(eN){return eL(eM,eN);};}],function(){d8.Clear();}]),(d9=d7[0][1],[function(eM){return(d9(eM))(function(eN){return bf.createAction(eN[0],eN[1],eN[2],eN[3]);});},d7[1]]))[0];d_=bb.tryGetPlugIn("AppFramework");d_==null?void 0:d_.$0.plgActions.Append(bb.newActF("AddLayout",{$:2,$0:function(eM){return function(eN){return bf.addNewLayout(eM,eN);};},$1:"[Name]",$2:"[Layout]"}));};cc.concat=function(dy,dz){return _3.ofSeq(dz).join(dy);};cc.IsNullOrEmpty=function(dy){return dy==null||dy=="";};cc.SplitChars=function(dy,dz,dA){return cc.Split(dy,new a.RegExp("["+cc.RegexEscape(dz.join(""))+"]"),dA);};cc.PadLeftWith=function(dy,dz,dA){return dz>dy.length?a.Array(dz-dy.length+1).join(dA)+dy:dy;};cc.Trim=function(dy){return dy.replace(new a.RegExp("^\\s+"),"").replace(new a.RegExp("\\s+$"),"");};cc.StartsWith=function(dy,dz){return dy.substring(0,dz.length)==dz;};cc.Replace=function(dy,dz,dA){function dB(dC){var dD,dE,dF;dD=dC.indexOf(dz);return dD!==-1?(dE=cc.ReplaceOnce(dC,dz,dA),(dF=dD+dA.length,cc.Substring(dE,0,dD+dA.length)+dB(dE.substring(dF)))):dC;}return dB(dy);};cc.Split=function(dy,dz,dA){return dA===1?_3.filter(function(dB){return dB!=="";},cc.SplitWith(dy,dz)):cc.SplitWith(dy,dz);};cc.RegexEscape=function(dy){return dy.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};cc.replicate=function(dy,dz){return _3.create(dy,dz).join("");};cc.Substring=function(dy,dz,dA){return dy.substr(dz,dA);};cc.ReplaceOnce=function(dy,dz,dA){return dy.replace(dz,dA);};cc.SplitWith=function(dy,dz){return dy.split(dz);};cc.SplitStrings=function(dy,dz,dA){return cc.Split(dy,new a.RegExp(cc.concat("|",_3.map(cc.RegexEscape,dz))),dA);};cc.forall=function(dy,dz){return _6.forall(dy,cc.protect(dz));};cc.protect=function(dy){return dy===null?"":dy;};ce.New=function(dy,dz,dA){return{c:dy,v:dz,f:dA};};cf=bt.List=dr.Class({GetEnumerator:function(){return b9.Get(this);},GetEnumerator0:function(){return b9.Get0(this);}},null,cf);_6.tryHead=function(dy){var dz;dz=b9.Get(dy);try{return dz.MoveNext()?{$:1,$0:dz.Current()}:null;}finally{if(typeof dz=="object"&&"Dispose"in dz)dz.Dispose();}};_6.tryItem=function(dy,dz){var dA,dB,dC;if(dy<0)return null;else{dA=0;dB=b9.Get(dz);try{dC=true;while(dC&&dA<=dy)if(dB.MoveNext())dA=dA+1;else dC=false;return dC?{$:1,$0:dB.Current()}:null;}finally{if(typeof dB=="object"&&"Dispose"in dB)dB.Dispose();}}};_6.contains=function(dy,dz){var dA,dB;dA=b9.Get(dz);try{dB=false;while(!dB&&dA.MoveNext())dB=P.Equals(dA.Current(),dy);return dB;}finally{if(typeof dA=="object"&&"Dispose"in dA)dA.Dispose();}};_6.nonNegative=function(){return O.FailWith("The input must be non-negative.");};_6.insufficient=function(){return O.FailWith("The input sequence has an insufficient number of elements.");};_3.groupBy=function(dy,dz){var dA,dB,dC,dD,dE,dF;dA=new bu.New$5();dB=[];for(dC=0,dD=_3.length(dz)-1;dC<=dD;dC++){dE=dz[dC];dF=dy(dE);dA.ContainsKey(dF)?dA.get_Item(dF).push(dE):(dB.push(dF),dA.Add(dF,[dE]));}_3.mapInPlace(function(dG){return[dG,dA.get_Item(dG)];},dB);return dB;};_6.last=function(dy){var dz,dA;dz=b9.Get(dy);try{if(!dz.MoveNext())dA=_6.insufficient();else{while(dz.MoveNext());dA=dz.Current();}return dA;}finally{if(typeof dz=="object"&&"Dispose"in dz)dz.Dispose();}};_3.mapInPlace=function(dy,dz){var dA,dB;for(dA=0,dB=dz.length-1;dA<=dB;dA++)dz[dA]=dy(dz[dA]);};_3.mapiInPlace=function(dy,dz){var dA,dB;for(dA=0,dB=dz.length-1;dA<=dB;dA++)dz[dA]=dy(dA,dz[dA]);return dz;};cg.ofSeqNonCopying=function(dy){var dz,dA;if(dy instanceof a.Array)return dy;else if(dy instanceof bq)return _3.ofList(dy);else if(dy===null)return[];else{dz=[];dA=b9.Get(dy);try{while(dA.MoveNext())dz.push(dA.Current());return dz;}finally{if(typeof dA=="object"&&"Dispose"in dA)dA.Dispose();}}};cg.TreeReduce=function(dy,dz,dA){var dB;function dC(dD,dE){var dF,dG;return dE<=0?dy:dE===1&&(dD>=0&&dD<dB)?_3.get(dA,dD):(dG=dE/2>>0,dz(dC(dD,dG),dC(dD+dG,dE-dG)));}dB=_3.length(dA);return dC(0,dB);};cg.mapInPlace=function(dy,dz){var dA,dB;for(dA=0,dB=dz.length-1;dA<=dB;dA++)dz[dA]=dy(dz[dA]);return dz;};cg.MapTreeReduce=function(dy,dz,dA,dB){var dC;function dD(dE,dF){var dG,dH;return dF<=0?dz:dF===1&&(dE>=0&&dE<dC)?dy(_3.get(dB,dE)):(dH=dF/2>>0,dA(dD(dE,dH),dD(dE+dH,dF-dH)));}dC=_3.length(dB);return dD(0,dC);};bQ.Obsolete=function(dy){var dz,dA,dB,dC,dD;dA=dy.s;if(dA==null||(dA!=null&&dA.$==2?(dz=dA.$1,false):dA!=null&&dA.$==3?(dz=dA.$1,false):true))void 0;else{dy.s=null;for(dB=0,dC=_3.length(dz)-1;dB<=dC;dB++){dD=_3.get(dz,dB);typeof dD=="object"?function(dE){bQ.Obsolete(dE);}(dD):dD();}}};bQ.New=function(dy){return{s:dy};};ch.refreshLM=function(dy,dz){var dA;dy.AppendMany(dz);dA=new ck.New(_6.map(dy.key,dz));_6.iter(function(dB){if(!dA.Contains(dy.key(dB)))dy.RemoveByKey(dy.key(dB));},_6.cache(dy));};ci.InMemory=function(dy){return new cG.New(dy);};cj.alreadyAdded=function(){return O.FailWith("An item with the same key has already been added.");};cj.notPresent=function(){return O.FailWith("The given key was not present in the dictionary.");};ck=bt.FSharpSet=dr.Class({Contains:function(dy){return cp.Contains(dy,this.tree);},Remove:function(dy){return new ck.New$1(cp.Remove(dy,this.tree));},Add:function(dy){return new ck.New$1(cp.Add(dy,this.tree));},GetEnumerator$1:function(){return b9.Get(cp.Enumerate(false,this.tree));},Equals:function(dy){return this.get_Count()===dy.get_Count()&&_6.forall2(P.Equals,this,dy);},get_IsEmpty:function(){return this.tree==null;},get_Count:function(){var dy;dy=this.tree;return dy==null?0:dy.Count;},GetHashCode:function(){return -1741749453+P.Hash(_3.ofSeq(this));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();},CompareTo0:function(dy){return _6.compareWith(P.Compare,this,dy);}},m,ck);ck.op_Addition=function(dy,dz){return new ck.New$1(cp.OfSeq(_6.append(dy,dz)));};ck.op_Subtraction=function(dy,dz){return bw.Filter(function(dA){return!dz.Contains(dA);},dy);};ck.New=dr.Ctor(function(dy){ck.New$1.call(this,cp.OfSeq(dy));},ck);ck.New$1=dr.Ctor(function(dy){m.New.call(this);this.tree=dy;},ck);cl=bt.HashSet=dr.Class({Add:function(dy){return this.add(dy);},Contains:function(dy){var dz;dz=this.data[this.hash(dy)];return dz==null?false:this.arrContains(dy,dz);},add:function(dy){var dz,dA;dz=this.hash(dy);dA=this.data[dz];return dA==null?(this.data[dz]=[dy],this.count=this.count+1,true):this.arrContains(dy,dA)?false:(dA.push(dy),this.count=this.count+1,true);},arrContains:function(dy,dz){var dA,dB,dC,dD;dA=true;dB=0;dD=dz.length;while(dA&&dB<dD)if(this.equals.apply(null,[dz[dB],dy]))dA=false;else dB=dB+1;return!dA;},ExceptWith:function(dy){var dz;dz=b9.Get(dy);try{while(dz.MoveNext())this.Remove(dz.Current());}finally{if(typeof dz=="object"&&"Dispose"in dz)dz.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(dy){var dz,dA,dB,dC;dz=0;dA=c5.concat(this.data);for(dB=0,dC=dA.length-1;dB<=dC;dB++)_3.set(dy,dB,dA[dB]);},IntersectWith:function(dy){var dz,dA,dB,dC,dD;dz=new cl.New$4(dy,this.equals,this.hash);dA=c5.concat(this.data);for(dB=0,dC=dA.length-1;dB<=dC;dB++){dD=dA[dB];!dz.Contains(dD)?this.Remove(dD):void 0;}},Remove:function(dy){var dz;dz=this.data[this.hash(dy)];return dz==null?false:this.arrRemove(dy,dz)&&(this.count=this.count-1,true);},arrRemove:function(dy,dz){var dA,dB,dC,dD;dA=true;dB=0;dD=dz.length;while(dA&&dB<dD)if(this.equals.apply(null,[dz[dB],dy])){dz.splice.apply(dz,[dB,1]);dA=false;}else dB=dB+1;return!dA;},GetEnumerator:function(){return b9.Get(c5.concat(this.data));},GetEnumerator0:function(){return b9.Get(c5.concat(this.data));}},m,cl);cl.New$3=dr.Ctor(function(){cl.New$4.call(this,[],P.Equals,P.Hash);},cl);cl.New$4=dr.Ctor(function(dy,dz,dA){var dB;m.New.call(this);this.equals=dz;this.hash=dA;this.data=[];this.count=0;dB=b9.Get(dy);try{while(dB.MoveNext())this.add(dB.Current());}finally{if(typeof dB=="object"&&"Dispose"in dB)dB.Dispose();}},cl);cl.New$2=dr.Ctor(function(dy){cl.New$4.call(this,dy,P.Equals,P.Hash);},cl);cm.Box=a.id;cn.cast=a.id;co.TryParse=function(dy){var dz;dz=dt.parse(dy);return a.isNaN(dz)?null:{$:1,$0:dz};};K.TryParse=function(dy,dz,dA,dB){var dC,dD;dC=+dy;dD=dC===dC-dC%1&&dC>=dz&&dC<=dA;dD?dB.set(dC):void 0;return dD;};cp.Contains=function(dy,dz){return!((cp.Lookup(dy,dz))[0]==null);};cp.Remove=function(dy,dz){var dA,dB,dC,dD;dA=cp.Lookup(dy,dz);dB=dA[0];dC=dA[1];return dB==null?dz:dB.Right==null?cp.Rebuild(dC,dB.Left):dB.Left==null?cp.Rebuild(dC,dB.Right):cp.Rebuild(dC,(dD=_3.ofSeq(_6.append(cp.Enumerate(false,dB.Left),cp.Enumerate(false,dB.Right))),cp.Build(dD,0,dD.length-1)));};cp.Add=function(dy,dz){return cp.Put(function(dA,dB){return dB;},dy,dz);};cp.OfSeq=function(dy){var dz;dz=_3.ofSeq(_6.distinct(dy));_3.sortInPlace(dz);return cp.Build(dz,0,dz.length-1);};cp.Lookup=function(dy,dz){var dA,dB,dC,dD;dA=[];dB=dz;dC=true;while(dC)if(dB==null)dC=false;else{dD=P.Compare(dy,dB.Node);dD===0?dC=false:dD===1?(dA.unshift([true,dB.Node,dB.Left]),dB=dB.Right):(dA.unshift([false,dB.Node,dB.Right]),dB=dB.Left);}return[dB,dA];};cp.Rebuild=function(dy,dz){var dA,dC,dD,dE,dF,dG,dH,dI,dJ,dK;function dB(dL){return dL==null?0:dL.Height;}dA=dz;for(dC=0,dD=_3.length(dy)-1;dC<=dD;dC++){dA=(dE=_3.get(dy,dC),dE[0]?(dF=dE[1],(dG=dE[2],dB(dA)>dB(dG)+1?dB(dA.Left)===dB(dA.Right)+1?(dH=dA.Left,cp.Branch(dH.Node,cp.Branch(dF,dG,dH.Left),cp.Branch(dA.Node,dH.Right,dA.Right))):cp.Branch(dA.Node,cp.Branch(dF,dG,dA.Left),dA.Right):cp.Branch(dF,dG,dA))):(dI=dE[1],(dJ=dE[2],dB(dA)>dB(dJ)+1?dB(dA.Right)===dB(dA.Left)+1?(dK=dA.Right,cp.Branch(dK.Node,cp.Branch(dA.Node,dA.Left,dK.Left),cp.Branch(dI,dK.Right,dJ))):cp.Branch(dA.Node,dA.Left,cp.Branch(dI,dA.Right,dJ)):cp.Branch(dI,dA,dJ))));}return dA;};cp.Put=function(dy,dz,dA){var dB,dC;dB=cp.Lookup(dz,dA);dC=dB[0];return dC==null?cp.Rebuild(dB[1],cp.Branch(dz,null,null)):cp.Rebuild(dB[1],cp.Branch(dy(dC.Node,dz),dC.Left,dC.Right));};cp.Branch=function(dy,dz,dA){var dB,dC;return cH.New(dy,dz,dA,1+(dB=dz==null?0:dz.Height,(dC=dA==null?0:dA.Height,P.Compare(dB,dC)===1?dB:dC)),1+(dz==null?0:dz.Count)+(dA==null?0:dA.Count));};cp.Enumerate=function(dy,dz){function dA(dB,dC){var dD;while(true)if(dB==null)return dC.$==1?{$:1,$0:[dC.$0[0],[dC.$0[1],dC.$1]]}:null;else if(dy){dD=dB;dB=dD.Right;dC=new bq({$:1,$0:[dD.Node,dD.Left],$1:dC});}else{dD=dB;dB=dD.Left;dC=new bq({$:1,$0:[dD.Node,dD.Right],$1:dC});}}return _6.unfold(function(dB){return dA(dB[0],dB[1]);},[dz,bq.Empty]);};cp.Build=function(dy,dz,dA){var dB,dC,dD;return dA-dz+1<=0?null:(dB=(dz+dA)/2>>0,(dC=cp.Build(dy,dz,dB-1),(dD=cp.Build(dy,dB+1,dA),cp.Branch(_3.get(dy,dB),dC,dD))));};cr.LoadLocalTemplates=function(dy){!cr.LocalTemplatesLoaded()?(cr.set_LocalTemplatesLoaded(true),cr.LoadNestedTemplates(self.document.body,"")):void 0;cr.LoadedTemplates().set_Item(dy,cr.LoadedTemplateFile(""));};cr.NamedTemplate=function(dy,dz,dA){var dB,dC;dB=(dC=null,[cr.LoadedTemplateFile(dy).TryGetValue(dz==null?"":dz.$0,{get:function(){return dC;},set:function(dD){dC=dD;}}),dC]);return dB[0]?cr.ChildrenTemplate(dB[1].cloneNode(true),dA):(ds.warn("Local template doesn't exist",dz),bl.get_Empty());};cr.LocalTemplatesLoaded=function(){cU.$cctor();return cU.LocalTemplatesLoaded;};cr.set_LocalTemplatesLoaded=function(dy){cU.$cctor();cU.LocalTemplatesLoaded=dy;};cr.LoadNestedTemplates=function(dy,dz){var dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO;function dA(dP){var dQ,dR;if(!dB.ContainsKey(dP)){dQ=(dR=null,[dC.TryGetValue(dP,{get:function(){return dR;},set:function(dS){dR=dS;}}),dR]);dQ[0]?(dO.Add(dP),dC.Remove(dP),cr.PrepareTemplateStrict(dz,{$:1,$0:dP},dQ[1][0],{$:1,$0:dQ[1][1]},{$:1,$0:dA})):ds.warn(dO.Contains(dP)?"Encountered loop when instantiating "+dP:"Local template does not exist: "+dP);}}dB=cr.LoadedTemplateFile(dz);dC=new bu.New$5();dD=dy.querySelectorAll("[ws-template]");for(dE=0,dF=dD.length-1;dE<=dF;dE++){dG=dD[dE];dH=dG.getAttribute("ws-template").toLowerCase();dG.removeAttribute("ws-template");dC.set_Item(dH,[[dG],cr.FakeRootSingle(dG)]);}dI=dy.querySelectorAll("[ws-children-template]");for(dJ=0,dK=dI.length-1;dJ<=dK;dJ++){dL=dI[dJ];dM=dL.getAttribute("ws-children-template").toLowerCase();dL.removeAttribute("ws-children-template");dC.set_Item(dM,(dN=cv.ChildrenArray(dL),[dN,cr.FakeRoot(dN)]));}dO=new cl.New$3();while(dC.count>0)dA(_6.head(dC.get_Keys()));};cr.LoadedTemplates=function(){cU.$cctor();return cU.LoadedTemplates;};cr.LoadedTemplateFile=function(dy){var dz,dA,dB;dz=(dA=null,[cr.LoadedTemplates().TryGetValue(dy,{get:function(){return dA;},set:function(dC){dA=dC;}}),dA]);return dz[0]?dz[1]:(dB=new bu.New$5(),(cr.LoadedTemplates().set_Item(dy,dB),dB));};cr.ChildrenTemplate=function(dy,dz){var dA,dB,dC,dD,dE;dA=cr.InlineTemplate(dy,dz);dB=dA[1];dC=dA[0];dD=dC.Els;return!P.Equals(dD,null)&&dD.length===1&&(_3.get(dD,0)instanceof b0&&(P.Equals(_3.get(dD,0).nodeType,b0.ELEMENT_NODE)&&(dE=_3.get(dD,0),true)))?cP.TreeNode(dC,dB):bl.Mk({$:6,$0:dC},dB);};cr.FakeRootSingle=function(dy){var dz,dA,dB;dy.removeAttribute("ws-template");dz=dy.getAttribute("ws-replace");dz===null?void 0:(dy.removeAttribute("ws-replace"),dA=dy.parentNode,P.Equals(dA,null)?void 0:(dB=self.document.createElement(dy.tagName),dB.setAttribute("ws-replace",dz),dA.replaceChild(dB,dy)));return cr.FakeRoot([dy]);};cr.FakeRoot=function(dy){var dz,dA,dB;dz=self.document.createElement("div");for(dA=0,dB=dy.length-1;dA<=dB;dA++)dz.appendChild(_3.get(dy,dA));return dz;};cr.PrepareTemplateStrict=function(dy,dz,dA,dB,dC){var dD,dE;function dF(dK,dL){var dM,dN,dO,dP,dQ,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea;function dR(eb){}while(true)switch(dK){case 0:if(dL!==null){dM=dL.nextSibling;if(P.Equals(dL.nodeType,b0.TEXT_NODE))c7.convertTextNode(dL);else if(P.Equals(dL.nodeType,b0.ELEMENT_NODE))dH(dL);dL=dM;}else return null;break;case 1:dS=bv.string(dL.nodeName,{$:1,$0:3},null).toLowerCase();dT=(dN=dS.indexOf("."),dN===-1?[dy,dS]:[bv.string(dS,null,{$:1,$0:dN-1}),bv.string(dS,{$:1,$0:dN+1},null)]);dU=dT[1];dV=dT[0];if(dV!==""&&!cr.LoadedTemplates().ContainsKey(dV))return c7.failNotLoaded(dU);else{if(dV===""&&dC!=null)dC.$0(dU);dW=cr.LoadedTemplates().get_Item(dV);if(!dW.ContainsKey(dU))return c7.failNotLoaded(dU);else{dX=dW.get_Item(dU);dY=dX.cloneNode(true);dZ=new cl.New$3();d0=new bu.New$5();d1=dL.attributes;for(d2=0,d3=d1.length-1;d2<=d3;d2++){d4=d1.item(d2).name.toLowerCase();d0.set_Item(d4,(d5=d1.item(d2).nodeValue,d5===""?d4:d5.toLowerCase()));!dZ.Add(d4)?ds.warn("Hole mapped twice",d4):void 0;}for(d6=0,d7=dL.childNodes.length-1;d6<=d7;d6++){d8=dL.childNodes[d6];P.Equals(d8.nodeType,b0.ELEMENT_NODE)?!dZ.Add(d8.nodeName.toLowerCase())?ds.warn("Hole filled twice",dU):void 0:void 0;}d9=dL.childNodes.length===1&&P.Equals(dL.firstChild.nodeType,b0.TEXT_NODE);if(d9){dP=c7.fillTextHole(dY,dL.firstChild.textContent,dU);((function(eb){return function(ec){if(ec!=null)eb(ec.$0);};}((dQ=function(eb){return function(ec){return eb.Add(ec);};}(dZ),function(eb){return dR(dQ(eb));})))(dP));}c7.removeHolesExcept(dY,dZ);if(!d9){for(d_=0,d$=dL.childNodes.length-1;d_<=d$;d_++){ea=dL.childNodes[d_];P.Equals(ea.nodeType,b0.ELEMENT_NODE)?ea.hasAttributes()?c7.fillInstanceAttrs(dY,ea):dG(dY,ea):void 0;}}c7.mapHoles(dY,d0);c7.fill(dY,dL.parentNode,dL);dL.parentNode.removeChild(dL);return;}}break;}}function dG(dK,dL){var dM,dO,dP;function dN(dQ,dR){var dS,dT,dU;if(dO==="title"&&dL.hasChildNodes()){dS=dv.parseHTML(dL.textContent);dL.removeChild(dL.firstChild);for(dT=0,dU=dS.length-1;dT<=dU;dT++)dL.appendChild(_3.get(dS,dT));}else null;dH(dL);return c7.fill(dL,dQ,dR);}dO=dL.nodeName.toLowerCase();cv.IterSelector(dK,"[ws-attr-holes]",function(dQ){var dR,dS,dT,dU,dV;dR=cc.SplitChars(dQ.getAttribute("ws-attr-holes"),[" "],1);for(dS=0,dT=dR.length-1;dS<=dT;dS++){dU=_3.get(dR,dS);dQ.setAttribute(dU,(dV=new a.RegExp("\\${"+dO+"}","ig"),dQ.getAttribute(dU).replace(dV,dL.textContent)));}});dP=dK.querySelector("[ws-hole="+dO+"]");if(P.Equals(dP,null)){dM=dK.querySelector("[ws-replace="+dO+"]");return P.Equals(dM,null)?null:(dN(dM.parentNode,dM),void dM.parentNode.removeChild(dM));}else{while(dP.hasChildNodes())dP.removeChild(dP.lastChild);dP.removeAttribute("ws-hole");return dN(dP,null);}}function dH(dK){if(cc.StartsWith(dK.nodeName.toLowerCase(),"ws-"))dJ(dK);else{c7.convertAttrs(dK);dI(dK.firstChild);}}function dI(dK){return dF(0,dK);}function dJ(dK){return dF(1,dK);}dD=dB==null?cr.FakeRoot(dA):dB.$0;dE=(dz==null?"":dz.$0).toLowerCase();cr.LoadedTemplateFile(dy).set_Item(dE,dD);_3.length(dA)>0?(function(dK){var dL,dM,dN,dO;while(true){dL=dK.querySelector("[ws-template]");if(P.Equals(dL,null)){dM=dK.querySelector("[ws-children-template]");if(P.Equals(dM,null))return null;else{dN=dM.getAttribute("ws-children-template");dM.removeAttribute("ws-children-template");cr.PrepareTemplateStrict(dy,{$:1,$0:dN},cv.ChildrenArray(dM),null,null);dK=dK;}}else{dO=dL.getAttribute("ws-template");(cr.PrepareSingleTemplate(dy,{$:1,$0:dO},dL))(null);dK=dK;}}}(dD),dI(_3.get(dA,0))):void 0;};cr.InlineTemplate=function(dy,dz){var dA,dB,dC,dD,dG,dH,dI,dJ,dK,dL,dM;function dE(dN,dO){var dP,dQ,dR;dP=cu.Insert(dN,dO);dH.push(cu.Updates(dP));dI.push([dN,dP]);dQ=dr.GetOptional(dP.OnAfterRender);return dQ==null?null:(dR=dQ.$0,void dJ.push(function(){dR(dN);}));}function dF(dN){var dO,dP;dO=(dP=null,[dK.TryGetValue(dN,{get:function(){return dP;},set:function(dQ){dP=dQ;}}),dP]);return dO[0]?dO[1].$==0?{$:1,$0:dO[1].$1}:dO[1].$==1?{$:1,$0:bl.TextNode(dO[1].$1)}:dO[1].$==2?{$:1,$0:bl.TextView(dO[1].$1)}:dO[1].$==8?{$:1,$0:bl.TextView(dO[1].$1.get_View())}:dO[1].$==9?{$:1,$0:bl.TextView(N.Map(a.String,dO[1].$1.get_View()))}:dO[1].$==10?{$:1,$0:bl.TextView(N.Map(function(dQ){return dQ.get_Input();},dO[1].$1.get_View()))}:dO[1].$==11?{$:1,$0:bl.TextView(N.Map(a.String,dO[1].$1.get_View()))}:dO[1].$==12?{$:1,$0:bl.TextView(N.Map(function(dQ){return dQ.get_Input();},dO[1].$1.get_View()))}:dO[1].$==13?{$:1,$0:bl.TextView(N.Map(a.String,dO[1].$1.get_View()))}:(ds.warn("Content hole filled with attribute data",dN),null):null;}dG=[];dH=[];dI=[];dJ=[];dK=new bu.New$5();dL=b9.Get(dz);try{while(dL.MoveNext()){dM=dL.Current();dK.set_Item(dM.$0,dM);}}finally{if(typeof dL=="object"&&"Dispose"in dL)dL.Dispose();}dA=cv.ChildrenArray(dy);cv.IterSelector(dy,"[ws-hole]",function(dN){var dO,dP,dQ;dQ=dN.getAttribute("ws-hole");dN.removeAttribute("ws-hole");while(dN.hasChildNodes())dN.removeChild(dN.lastChild);dO=dF(dQ);dO!=null&&dO.$==1?(dP=dO.$0,cM.LinkElement(dN,dP.docNode),dG.push(cE.New(cu.Empty(dN),dP.docNode,null,dN,b6.Int(),null)),dH.push(dP.updates)):void 0;});cv.IterSelector(dy,"[ws-replace]",function(dN){var dO,dP,dQ,dR,dS,dT;dO=dF(dN.getAttribute("ws-replace"));dO!=null&&dO.$==1?(dP=dO.$0,dQ=dN.parentNode,dR=self.document.createTextNode(""),dQ.replaceChild(dR,dN),dS=cM.InsertBeforeDelim(dR,dP.docNode),dT=_3.tryFindIndex(function(dU){return dN===dU;},dA),dT==null?void 0:_3.set(dA,dT.$0,dP.docNode),dG.push(cE.New(cu.Empty(dQ),dP.docNode,{$:1,$0:[dS,dR]},dQ,b6.Int(),null)),dH.push(dP.updates)):void 0;});cv.IterSelector(dy,"[ws-attr]",function(dN){var dO,dP,dQ;dO=dN.getAttribute("ws-attr");dN.removeAttribute("ws-attr");dP=(dQ=null,[dK.TryGetValue(dO,{get:function(){return dQ;},set:function(dR){dQ=dR;}}),dQ]);dP[0]?dP[1].$==3?dE(dN,dP[1].$1):ds.warn("Attribute hole filled with non-attribute data",dO):void 0;});cv.IterSelector(dy,"[ws-on]",function(dN){dE(dN,b3.Concat(_3.choose(function(dO){var dP,dQ,dR;dP=cc.SplitChars(dO,[":"],1);dQ=(dR=null,[dK.TryGetValue(_3.get(dP,1),{get:function(){return dR;},set:function(dS){dR=dS;}}),dR]);return dQ[0]?dQ[1].$==4?{$:1,$0:b$.Handler(_3.get(dP,0),dQ[1].$1)}:dQ[1].$==5?{$:1,$0:b3.Handler(_3.get(dP,0),dQ[1].$2)}:(ds.warn("Event hole on"+_3.get(dP,0)+" filled with non-event data",_3.get(dP,1)),null):null;},cc.SplitChars(dN.getAttribute("ws-on"),[" "],1))));dN.removeAttribute("ws-on");});cv.IterSelector(dy,"[ws-onafterrender]",function(dN){var dO,dP,dQ;dO=dN.getAttribute("ws-onafterrender");dP=(dQ=null,[dK.TryGetValue(dO,{get:function(){return dQ;},set:function(dR){dQ=dR;}}),dQ]);dP[0]?dP[1].$==6?(dN.removeAttribute("ws-onafterrender"),dE(dN,b$.OnAfterRender(dP[1].$1))):dP[1].$==7?(dN.removeAttribute("ws-onafterrender"),dE(dN,b$.OnAfterRender(dP[1].$1))):ds.warn("onafterrender hole filled with non-onafterrender data",dO):void 0;});cv.IterSelector(dy,"[ws-var]",function(dN){var dO,dP,dQ;dO=dN.getAttribute("ws-var");dN.removeAttribute("ws-var");dP=(dQ=null,[dK.TryGetValue(dO,{get:function(){return dQ;},set:function(dR){dQ=dR;}}),dQ]);dP[0]?dP[1].$==8?dE(dN,b$.Value(dP[1].$1)):dP[1].$==9?dE(dN,b$.Checked(dP[1].$1)):dP[1].$==10?dE(dN,b$.IntValue(dP[1].$1)):dP[1].$==11?dE(dN,b$.IntValueUnchecked(dP[1].$1)):dP[1].$==12?dE(dN,b$.FloatValue(dP[1].$1)):dP[1].$==13?dE(dN,b$.FloatValueUnchecked(dP[1].$1)):ds.warn("Var hole filled with non-Var data",dO):void 0;});cv.IterSelector(dy,"[ws-attr-holes]",function(dN){var dO,dP,dQ,dR;dO=new a.RegExp(cr.TextHoleRE(),"g");dP=cc.SplitChars(dN.getAttribute("ws-attr-holes"),[" "],1);dN.removeAttribute("ws-attr-holes");for(dQ=0,dR=dP.length-1;dQ<=dR;dQ++)(function(){var dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1,d2,d3,d4;d1=_3.get(dP,dQ);d2=dN.getAttribute(d1);dS=null;dT=0;d3=[];while(dS=dO.exec(d2),dS!==null){d4=bv.string(d2,{$:1,$0:dT},{$:1,$0:dO.lastIndex-_3.get(dS,0).length-1});dT=dO.lastIndex;d3.push([d4,_3.get(dS,1)]);}dV=bv.string(d2,{$:1,$0:dT},null);dO.lastIndex=0;dW=_3.foldBack(function(d5,d6){return(function(d7){var d8,d9;d8=d7[0];d9=d7[1];return function(d_){var d$,ea,eb,ec,ed;d$=d_[0];ea=d_[1];eb=(ec=(ed=null,[dK.TryGetValue(d9,{get:function(){return ed;},set:function(ee){ed=ee;}}),ed]),ec[0]?ec[1].$==1?{$:0,$0:ec[1].$1}:ec[1].$==2?{$:1,$0:ec[1].$1}:ec[1].$==8?{$:1,$0:ec[1].$1.get_View()}:ec[1].$==9?{$:1,$0:N.Map(a.String,ec[1].$1.get_View())}:ec[1].$==10?{$:1,$0:N.Map(function(ee){return ee.get_Input();},ec[1].$1.get_View())}:ec[1].$==11?{$:1,$0:N.Map(a.String,ec[1].$1.get_View())}:ec[1].$==12?{$:1,$0:N.Map(function(ee){return ee.get_Input();},ec[1].$1.get_View())}:ec[1].$==13?{$:1,$0:N.Map(a.String,ec[1].$1.get_View())}:(ds.warn("Attribute value hole filled with non-text data",d9),{$:0,$0:""}):{$:0,$0:""});return eb.$==1?[d8,new bq({$:1,$0:d$===""?eb.$0:N.Map(function(ee){return ee+d$;},eb.$0),$1:ea})]:[d8+eb.$0+d$,ea];};}(d5))(d6);},d3,[dV,bq.Empty]);return dE(dN,dW[1].$==1?dW[1].$1.$==1?dW[1].$1.$1.$==1?dW[1].$1.$1.$1.$==0?(dX=dW[0],b$.Dynamic(d1,N.Map3(function(d5,d6,d7){return dX+d5+d6+d7;},dW[1].$0,dW[1].$1.$0,dW[1].$1.$1.$0))):(dY=dW[0],b$.Dynamic(d1,N.Map(function(d5){return dY+cc.concat("",d5);},N.Sequence(dW[1])))):(dZ=dW[0],b$.Dynamic(d1,N.Map2(function(d5,d6){return dZ+d5+d6;},dW[1].$0,dW[1].$1.$0))):dW[0]===""?b$.Dynamic(d1,dW[1].$0):(d0=dW[0],b$.Dynamic(d1,N.Map(function(d5){return d0+d5;},dW[1].$0))):b3.Create(d1,dW[0]));}());});return[dr.DeleteEmptyFields({Els:dA,Dirty:true,Holes:dG,Attrs:dI,Render:(dB=dJ.length==0?null:{$:1,$0:function(dN){_3.iter(function(dO){dO(dN);},dJ);}},dB?dB.$0:void 0),El:(dC=!P.Equals(dA,null)&&dA.length===1&&(_3.get(dA,0)instanceof b0&&(_3.get(dA,0)instanceof a.Element&&(dD=_3.get(dA,0),true)))?{$:1,$0:dD}:null,dC?dC.$0:void 0)},["Render","El"]),cg.TreeReduce(N.Const(),N.Map2Unit,dH)];};cr.PrepareSingleTemplate=function(dy,dz,dA){var dB,dC,dD;dB=cr.FakeRootSingle(dA);dC=[dA];dD={$:1,$0:dB};return function(dE){cr.PrepareTemplateStrict(dy,dz,dC,dD,dE);};};cr.TextHoleRE=function(){cU.$cctor();return cU.TextHoleRE;};cs.StartTo=function(dy,dz){b2.StartWithContinuations(dy,dz,function(dA){cs.OnError(dA);},a.ignore,null);};cs.OnError=function(dy){return ds.log("WebSharper UI: Uncaught asynchronous exception",dy);};ct.New=function(dy,dz){return{k:dy,ct:dz};};bV.addMsg=function(dy,dz){return bV.mapMessage(function(dA){return b8.addMsg(dy,dA);},dz);};bV.mapMessage=function(dy,dz){return{$:0,$0:dz.$0,$1:dy(dz.$1)};};b8=T.ResultMessage=dr.Class({toString:function(){return this.$==1?(function(dy){return function(dz){return dy("Error    : "+$.toSafe(dz));};}(a.id))(this.$0):this.$==2?(function(dy){return function(dz){return dy("Warning  : "+$.toSafe(dz));};}(a.id))(this.$0):this.$==3?this.$0:this.$==4?(function(dy){return function(dz){return dy(a.String(dz));};}(a.id))(this.$0):this.$==5?(((dr.Curried3(function(dy,dz,dA){return dy("Exception: "+$.toSafe(dz)+", "+$.toSafe(dA));}))(a.id))(this.$0))(this.$1):this.$==6?cc.concat("\n",_6.map(a.String,_6.filter(function(dy){return dy.$!=0;},this.$0))):"";}},null,b8);b8.NoMsg=new b8({$:0});cu.Dynamic=function(dy,dz){return new b3({$:1,$0:new cO.New(dy,dz)});};cu.Static=function(dy){return new b3({$:3,$0:dy});};cu.Updates=function(dy){return cg.MapTreeReduce(function(dz){return dz.NChanged();},N.Const(),N.Map2Unit,dy.DynNodes);};cu.AppendTree=function(dy,dz){var dA;return dy===null?dz:dz===null?dy:(dA=new b3({$:2,$0:dy,$1:dz}),(cu.SetFlags(dA,cu.Flags(dy)|cu.Flags(dz)),dA));};cu.EmptyAttr=function(){db.$cctor();return db.EmptyAttr;};cu.Insert=function(dy,dz){var dA,dB,dC;function dD(dE){if(!(dE===null))if(dE!=null&&dE.$==1)dA.push(dE.$0);else if(dE!=null&&dE.$==2){dD(dE.$0);dD(dE.$1);}else if(dE!=null&&dE.$==3)dE.$0(dy);else if(dE!=null&&dE.$==4)dB.push(dE.$0);}dA=[];dB=[];dD(dz);dC=dA.slice(0);return cS.New(dy,cu.Flags(dz),dC,dB.length===0?null:{$:1,$0:function(dE){_6.iter(function(dF){dF(dE);},dB);}});};cu.SetFlags=function(dy,dz){dy.flags=dz;};cu.Flags=function(dy){return dy!==null&&dy.hasOwnProperty("flags")?dy.flags:0;};cu.Empty=function(dy){return cS.New(dy,0,[],null);};cu.HasExitAnim=function(dy){var dz;dz=2;return(dy.DynFlags&dz)===dz;};cu.GetExitAnim=function(dy){return cu.GetAnim(dy,function(dz,dA){return dz.NGetExitAnim(dA);});};cu.HasEnterAnim=function(dy){var dz;dz=1;return(dy.DynFlags&dz)===dz;};cu.GetEnterAnim=function(dy){return cu.GetAnim(dy,function(dz,dA){return dz.NGetEnterAnim(dA);});};cu.HasChangeAnim=function(dy){var dz;dz=4;return(dy.DynFlags&dz)===dz;};cu.GetChangeAnim=function(dy){return cu.GetAnim(dy,function(dz,dA){return dz.NGetChangeAnim(dA);});};cu.GetAnim=function(dy,dz){return c9.Concat(_3.map(function(dA){return dz(dA,dy.DynElem);},dy.DynNodes));};cu.Sync=function(dy,dz){_3.iter(function(dA){dA.NSync(dy);},dz.DynNodes);};cv.SetAttr=function(dy,dz,dA){dy.setAttribute(dz,dA);};cv.RemoveAttr=function(dy,dz){dy.removeAttribute(dz);};cv.CreateText=function(dy){return cv.Doc().createTextNode(dy);};cv.CreateElement=function(dy){return cv.Doc().createElement(dy);};cv.Doc=function(){cY.$cctor();return cY.Doc;};cv.SetStyle=function(dy,dz,dA){cv.SetProperty(dy.style,dz,dA);};cv.ChildrenArray=function(dy){var dz,dA,dB;dz=[];for(dA=0,dB=dy.childNodes.length-1;dA<=dB;dA++)dz.push(dy.childNodes[dA]);return dz;};cv.SetProperty=function(dy,dz,dA){return dy.setProperty(dz,dA);};cv.IterSelector=function(dy,dz,dA){var dB,dC,dD;dB=dy.querySelectorAll(dz);for(dC=0,dD=dB.length-1;dC<=dD;dC++)dA(dB[dC]);};cv.RemoveClass=function(dy,dz){var dA;cv.setClass(dy,(dA=cv.clsRE(dz),cv.getClass(dy).replace(dA,function(dB,dC,dD){return dC===""||dD===""?"":" ";})));};cv.AddClass=function(dy,dz){var dA;dA=cv.getClass(dy);dA===""?cv.setClass(dy,dz):!cv.clsRE(dz).test(dA)?cv.setClass(dy,dA+" "+dz):void 0;};cv.InsertAt=function(dy,dz,dA){var dB;if(!(dA.parentNode===dy&&dz===(dB=dA.nextSibling,P.Equals(dB,null)?null:dB)))dy.insertBefore(dA,dz);};cv.setClass=function(dy,dz){if(dy instanceof a.SVGElement)dy.setAttribute("class",dz);else dy.className=dz;};cv.getClass=function(dy){return dy instanceof a.SVGElement?dy.getAttribute("class"):dy.className;};cv.clsRE=function(dy){return new a.RegExp("(\\s+|^)"+dy+"(?:\\s+"+dy+")*(\\s+|$)","g");};cv.RemoveNode=function(dy,dz){if(dz.parentNode===dy)dy.removeChild(dz);};cw.unindent=function(dy){var dz,dA,dB,dC;dz=cc.SplitChars(dy,["\n"],0);dA=(dB=_6.tryFindIndex(function(dD){return" "!==dD;},(dC=_6.tryFind(function(dD){return cc.Trim(dD)!=="";},dz),dC==null?"":dC.$0)),dB==null?0:dB.$0);return _6.filter(function(dD){return!cc.StartsWith(dD,"# 1 ");},_6.map(function(dD){return dD.length<=dA?"":dD.substring(dA);},dz));};cw.splitByChar=function(dy,dz){return cc.SplitChars(dz,[dy],0);};cw.unindentStr=function(){cb.$cctor();return cb.unindentStr;};cw.delimitedO=function(dy,dz,dA){var dB,dC,dD,dE,dF;dB=cw.splitInTwoO(dy,dA);return dB==null?null:(dC=dB.$0,(dD=dC[0],(dE=cw.splitInTwoO(dz,dC[1]),dE==null?null:{$:1,$0:(dF=dE.$0,[dD,dF[0],dF[1]])})));};cw.StartsWith=function(dy,dz){return cc.StartsWith(dz,dy)?{$:1,$0:bv.string(dz,{$:1,$0:dy.length},null)}:null;};cw.splitInTwoO=function(dy,dz){var dA;dA=dz.indexOf(dy);return dA===-1?null:{$:1,$0:[T["String.Left"](dz,dA),dz.substring(dA+dy.length)]};};cz=cy.WcTabStripT=dr.Class({connectedCallback:function(){var dy,dz,dA,dB;function dC(){var dD,dE,dF;dE=!dz.hasAttribute("bottom");dF=bp.ofSeq(_6.delay(function(){return _6.collect(function(dG){var dH;dH=dz.childNodes[dG-1];return P.Equals(dH.nodeType,b0.ELEMENT_NODE)?[[dH.hasAttribute("tabname")?dH.getAttribute("tabname"):(function(dI){return function(dJ){return dI("Tab "+a.String(dJ));};}(a.id))(dG),dH]]:[];},O.range(1,dz.childNodes.length));}));while(dB.childNodes.length>0)dB.removeChild(dB.lastChild);dD=cy.tabStrip(dy.selected,dE,true,dF,bl.Element("slot",bq.Empty,bq.Empty));cr.LoadLocalTemplates("");bl.Run(dB,dD);}dy=this;!this.added?(dz=this,dA=dz.attachShadow({mode:"open"}),dB=self.document.createElement("div"),dA.appendChild(dB),dC(),dz.addEventListener("DOMSubtreeModified",T.delayed(50,dC)),this.added=true):void 0;}},m,cz);cz.Constructor=function(){var dy,dz;dy=(dz=dx.construct(self.HTMLElement,[],this.__proto__.constructor),dz);self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New.call(dy);return dy;};cz.New=dr.Ctor(function(){m.New.call(this);this.added=false;this.selected=X.Create$1(1);(function(dy){return dy("WcTabStripT initializer");}(function(dy){ds.log(dy);}));},cz);cx.defineWebComponent=function(dy,dz,dA){try{ds.log("defineWebComponent: "+dy);b7.setPrototypeOf(dA.prototype,self.HTMLElement.prototype);b7.setPrototypeOf(dA,self.HTMLElement);b7.setPrototypeOf(dz.prototype,dA.prototype);self.customElements.define(dy,dz);}catch(dB){(function(dC){return dC("Failed to define WebComponent. Not supported.");}(function(dC){ds.log(dC);}));}};cA.appfwkclient=function(dy){cA.fixedsplitterhor();cA.fixedsplitterver();cr.LoadLocalTemplates("appframework");return dy?cr.NamedTemplate("appframework",{$:1,$0:"appfwkclient"},dy):void 0;};cB.p$1=function(dy){return"{"+("actName = "+$.prettyPrint(dy.actName))+"; "+("actFunction = "+cC.p$1(dy.actFunction))+"; "+("actEnabled = "+cC.p$2(dy.actEnabled))+"}";};cA.tile=function(dy){cr.LoadLocalTemplates("appframework");return dy?cr.NamedTemplate("appframework",{$:1,$0:"tile"},dy):void 0;};cA.namevalueinput=function(dy){cr.LoadLocalTemplates("appframework");return dy?cr.NamedTemplate("appframework",{$:1,$0:"namevalueinput"},dy):void 0;};cA.namevalue=function(dy){cr.LoadLocalTemplates("appframework");return dy?cr.NamedTemplate("appframework",{$:1,$0:"namevalue"},dy):void 0;};cA.action=function(dy){cr.LoadLocalTemplates("appframework");return dy?cr.NamedTemplate("appframework",{$:1,$0:"action"},dy):void 0;};cA.actiondisabled=function(dy){cr.LoadLocalTemplates("appframework");return dy?cr.NamedTemplate("appframework",{$:1,$0:"actiondisabled"},dy):void 0;};cA.fixedsplitterhor=function(dy){cr.LoadLocalTemplates("appframework");return dy?cr.NamedTemplate("appframework",{$:1,$0:"fixedsplitterhor"},dy):void 0;};cA.fixedsplitterver=function(dy){cr.LoadLocalTemplates("appframework");return dy?cr.NamedTemplate("appframework",{$:1,$0:"fixedsplitterver"},dy):void 0;};cA.wcompsplitterhor=function(dy){cr.LoadLocalTemplates("appframework");return dy?cr.NamedTemplate("appframework",{$:1,$0:"wcompsplitterhor"},dy):void 0;};cA.wcompsplitterver=function(dy){cr.LoadLocalTemplates("appframework");return dy?cr.NamedTemplate("appframework",{$:1,$0:"wcompsplitterver"},dy):void 0;};cA.appframework=function(dy){cr.LoadLocalTemplates("appframework");return dy?cr.NamedTemplate("appframework",{$:1,$0:"appframework"},dy):void 0;};cC.p$3=function(dy){return dy.$==1?"UnQuoted "+$.prettyPrint(dy.$0):"Quoted "+$.prettyPrint(dy.$0);};cC.p$1=function(dy){return dy.$==2?"FunAct2 (<fun>, "+$.prettyPrint(dy.$1)+", "+$.prettyPrint(dy.$2)+")":dy.$==1?"FunAct1 (<fun>, "+$.prettyPrint(dy.$1)+")":"FunAct0 <fun>";};cC.p$2=function(dy){return"View <fun>";};cB.p=function(dy){return"{"+("docName = "+$.prettyPrint(dy.docName))+"; "+("docDoc = "+cC.p(dy.docDoc))+"}";};cC.p=function(dy){return dy.$==5?"FunDoc5 (<fun>, "+$.prettyPrint(dy.$1)+", "+$.prettyPrint(dy.$2)+", "+$.prettyPrint(dy.$3)+", "+$.prettyPrint(dy.$4)+", "+$.prettyPrint(dy.$5)+")":dy.$==4?"FunDoc4 (<fun>, "+$.prettyPrint(dy.$1)+", "+$.prettyPrint(dy.$2)+", "+$.prettyPrint(dy.$3)+", "+$.prettyPrint(dy.$4)+")":dy.$==3?"FunDoc3 (<fun>, "+$.prettyPrint(dy.$1)+", "+$.prettyPrint(dy.$2)+", "+$.prettyPrint(dy.$3)+")":dy.$==2?"FunDoc2 (<fun>, "+$.prettyPrint(dy.$1)+", "+$.prettyPrint(dy.$2)+")":dy.$==1?"FunDoc1 (<fun>, "+$.prettyPrint(dy.$1)+")":"LazyDoc "+$.prettyPrint(dy.$0);};cD.init=function(dy,dz){var dA;dA=new cQ.New();cD.set_layoutHorizontal(dy);cD.set_layoutVertical(dz);cx.defineWebComponent("wcomp-splitter",cQ.Constructor,self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New);};cD.set_layoutHorizontal=function(dy){cb.$cctor();cb.layoutHorizontal=dy;};cD.set_layoutVertical=function(dy){cb.$cctor();cb.layoutVertical=dy;};cD.layoutVertical=function(){cb.$cctor();return cb.layoutVertical;};cD.layoutHorizontal=function(){cb.$cctor();return cb.layoutHorizontal;};cy.init=function(){cb.$cctor();return cb.init;};cy.tabStrip=function(dy,dz,dA,dB,dC){var dD;dD=bl.Element("div",[b3.Create("class",(((dr.Curried3(function(dE,dF,dG){return dE("tab-strip "+$.toSafe(dF)+" "+$.toSafe(dG));}))(a.id))(dz?"top":"bottom"))(dA?"horizontal":"vertical"))],bp.ofSeq(_6.delay(function(){return _6.collect(function(dE){var dF;dF=dE[0];return[c1.New$1().Content(bl.Element("div",[b$.Dynamic("class",N.Map(function(dG){return"tab"+(dG===dF+1?" selected":"");},dy.get_View())),b3.Create("draggable","true"),b3.HandlerImpl("click",function(){return function(){return dy.Set(dF+1);};})],[bl.TextNode(dE[1][0])]))];},_6.indexed(dB));})));return bl.Element("div",[b3.Create("class","tab-panel")],bp.ofSeq(_6.delay(function(){return _6.append(dz?[dD]:[],_6.delay(function(){return _6.append([bl.Element("div",[b3.Create("class","tab-content")],[dC])],_6.delay(function(){return _6.append(!dz?[dD]:[],_6.delay(function(){return _6.append([bl.Element("style",bq.Empty,bp.ofArray([bl.TextNode(cy.css())]))],_6.delay(function(){return[bl.Element("style",bq.Empty,bp.ofArray([bl.TextView(N.Map(function(dE){return function(dF){return dE("\r\n                                              ::slotted(*              ) { display: none }\r\n                                              ::slotted(*:nth-child("+a.String(dF)+")) { display: grid }\r\n                                           ");};}(a.id),dy.get_View()))]))];}));}));}));}));})));};cy.css=function(){cb.$cctor();return cb.css;};cE=L.DocElemNode=dr.Class({Equals:function(dy){return this.ElKey===dy.ElKey;},GetHashCode:function(){return this.ElKey;}},null,cE);cE.New=function(dy,dz,dA,dB,dC,dD){var dE;return new cE((dE={Attr:dy,Children:dz,El:dB,ElKey:dC},(dr.SetOptional(dE,"Delimiters",dA),dr.SetOptional(dE,"Render",dD),dE)));};cG=ci.ArrayStorage=dr.Class({SAppendMany:function(dy,dz){var dA;dA=cg.ofSeqNonCopying(dy);dz.push.apply(dz,dA);return dz;},SSetAt:function(dy,dz,dA){_3.set(dA,dy,dz);return dA;},SRemoveIf:function(dy,dz){return _3.filter(function(dA){return!dy(dA);},dz);},SSet:function(dy){return _3.ofSeq(dy);},SAppend:function(dy,dz){dz.push(dy);return dz;},SInit:function(){return this.init;}},m,cG);cG.New=dr.Ctor(function(dy){m.New.call(this);this.init=dy;},cG);cH.New=function(dy,dz,dA,dB,dC){return{Node:dy,Left:dz,Right:dA,Height:dB,Count:dC};};cI=L.CheckedInput=dr.Class({get_Input:function(){return this.$==1?this.$0:this.$==2?this.$0:this.$1;}},null,cI);cJ.New=function(dy,dz){return{c:dy,r:dz};};cK=b2.Scheduler=dr.Class({Fork:function(dy){var dz;dz=this;this.robin.push(dy);this.idle?(this.idle=false,a.setTimeout(function(){dz.tick();},0)):void 0;},tick:function(){var dy,dz,dA;dz=this;dA=dt.now();dy=true;while(dy)if(this.robin.length===0){this.idle=true;dy=false;}else{(this.robin.shift())();dt.now()-dA>40?(a.setTimeout(function(){dz.tick();},0),dy=false):void 0;}}},m,cK);cK.New=dr.Ctor(function(){m.New.call(this);this.idle=true;this.robin=[];},cK);cL.$cctor=function(){cL.$cctor=a.ignore;cL.noneCT=cJ.New(false,[]);cL.scheduler=new cK.New();cL.defCTS=[new cX.New()];cL.Zero=b2.Return();cL.GetCT=function(dy){dy.k({$:0,$0:dy.ct});};};cM.CreateEmbedNode=function(){return{Current:null,Dirty:false};};cM.UpdateEmbedNode=function(dy,dz){dy.Current=dz;dy.Dirty=true;};cM.CreateTextNode=function(){return{Text:cv.CreateText(""),Dirty:false,Value:""};};cM.UpdateTextNode=function(dy,dz){dy.Value=dz;dy.Dirty=true;};cM.CreateElemNode=function(dy,dz,dA){var dB;cM.LinkElement(dy,dA);dB=cu.Insert(dy,dz);return cE.New(dB,dA,null,dy,b6.Int(),dr.GetOptional(dB.OnAfterRender));};cM.LinkElement=function(dy,dz){cM.InsertDoc(dy,dz,null);};cM.LinkPrevElement=function(dy,dz){cM.InsertDoc(dy.parentNode,dz,dy);};cM.CreateDelimitedRunState=function(dy,dz,dA){return de.New(df.get_Empty(),cM.CreateDelimitedElemNode(dy,dz,cu.EmptyAttr(),dA));};cM.PerformAnimatedUpdate=function(dy,dz,dA){var dB;return c9.get_UseAnimations()?(dB=null,b2.Delay(function(){var dC,dD,dE;dC=df.FindAll(dA);dD=cM.ComputeChangeAnim(dz,dC);dE=cM.ComputeEnterAnim(dz,dC);return b2.Bind(c9.Play(c9.Append(dD,cM.ComputeExitAnim(dz,dC))),function(){return b2.Bind(cM.SyncElemNodesNextFrame(dy,dz),function(){return b2.Bind(c9.Play(dE),function(){dz.PreviousNodes=dC;return b2.Return(null);});});});})):cM.SyncElemNodesNextFrame(dy,dz);};cM.PerformSyncUpdate=function(dy,dz,dA){var dB;dB=df.FindAll(dA);cM.SyncElemNode(dy,dz.Top);dz.PreviousNodes=dB;};cM.InsertDoc=function(dy,dz,dA){var dB;return dz!=null&&dz.$==1?cM.InsertNode(dy,dz.$0.El,dA):dz!=null&&dz.$==2?(dB=dz.$0,(dB.Dirty=false,cM.InsertDoc(dy,dB.Current,dA))):dz==null?dA:dz!=null&&dz.$==4?cM.InsertNode(dy,dz.$0.Text,dA):dz!=null&&dz.$==5?cM.InsertNode(dy,dz.$0,dA):dz!=null&&dz.$==6?_3.foldBack(function(dC,dD){return dC==null||dC.constructor===b7?cM.InsertDoc(dy,dC,dD):cM.InsertNode(dy,dC,dD);},dz.$0.Els,dA):cM.InsertDoc(dy,dz.$0,cM.InsertDoc(dy,dz.$1,dA));};cM.InsertBeforeDelim=function(dy,dz){var dA,dB;dA=dy.parentNode;dB=self.document.createTextNode("");dA.insertBefore(dB,dy);cM.LinkPrevElement(dy,dz);return dB;};cM.CreateDelimitedElemNode=function(dy,dz,dA,dB){var dC,dD;dC=dy.parentNode;cM.LinkPrevElement(dz,dB);dD=cu.Insert(dC,dA);return cE.New(dD,dB,{$:1,$0:[dy,dz]},dC,b6.Int(),dr.GetOptional(dD.OnAfterRender));};cM.SyncElemNodesNextFrame=function(dy,dz){function dA(dB){a.requestAnimationFrame(function(){cM.SyncElemNode(dy,dz.Top);dB();});}return c_.BatchUpdatesEnabled()?b2.FromContinuations(function(dB,dC,dD){return dA.apply(null,[dB,dC,dD]);}):(cM.SyncElemNode(dy,dz.Top),b2.Return(null));};cM.ComputeExitAnim=function(dy,dz){return c9.Concat(_3.map(function(dA){return cu.GetExitAnim(dA.Attr);},df.ToArray(df.Except(dz,df.Filter(function(dA){return cu.HasExitAnim(dA.Attr);},dy.PreviousNodes)))));};cM.ComputeEnterAnim=function(dy,dz){return c9.Concat(_3.map(function(dA){return cu.GetEnterAnim(dA.Attr);},df.ToArray(df.Except(dy.PreviousNodes,df.Filter(function(dA){return cu.HasEnterAnim(dA.Attr);},dz)))));};cM.ComputeChangeAnim=function(dy,dz){var dA;function dB(dC){return cu.HasChangeAnim(dC.Attr);}dA=function(dC){return df.Filter(dB,dC);};return c9.Concat(_3.map(function(dC){return cu.GetChangeAnim(dC.Attr);},df.ToArray(df.Intersect(dA(dy.PreviousNodes),dA(dz)))));};cM.SyncElemNode=function(dy,dz){!dy?cM.SyncElement(dz):void 0;cM.Sync(dz.Children);cM.AfterRender(dz);};cM.CreateRunState=function(dy,dz){return de.New(df.get_Empty(),cM.CreateElemNode(dy,cu.EmptyAttr(),dz));};cM.InsertNode=function(dy,dz,dA){cv.InsertAt(dy,dA,dz);return dz;};cM.SyncElement=function(dy){function dz(dA){function dB(dC){var dD,dE;return dC!=null&&dC.$==0?dB(dC.$0)||dB(dC.$1):dC!=null&&dC.$==2?(dD=dC.$0,dD.Dirty||dB(dD.Current)):dC!=null&&dC.$==6&&(dE=dC.$0,dE.Dirty||_3.exists(dz,dE.Holes));}return dB(dA.Children);}cu.Sync(dy.El,dy.Attr);dz(dy)?cM.DoSyncElement(dy):void 0;};cM.Sync=function(dy){var dz,dA;if(dy!=null&&dy.$==1)cM.SyncElemNode(false,dy.$0);else if(dy!=null&&dy.$==2)cM.Sync(dy.$0.Current);else if(dy==null);else if(dy!=null&&dy.$==5);else if(dy!=null&&dy.$==4){dz=dy.$0;dz.Dirty?(dz.Text.nodeValue=dz.Value,dz.Dirty=false):void 0;}else if(dy!=null&&dy.$==6){dA=dy.$0;_3.iter(function(dB){cM.SyncElemNode(false,dB);},dA.Holes);_3.iter(function(dB){cu.Sync(dB[0],dB[1]);},dA.Attrs);cM.AfterRender(dA);}else{cM.Sync(dy.$0);cM.Sync(dy.$1);}};cM.AfterRender=function(dy){var dz;dz=dr.GetOptional(dy.Render);dz!=null&&dz.$==1?(dz.$0(dy.El),dr.SetOptional(dy,"Render",null)):void 0;};cM.DoSyncElement=function(dy){var dz,dA,dB;function dC(dD,dE){var dF,dG;return dD!=null&&dD.$==1?dD.$0.El:dD!=null&&dD.$==2?(dF=dD.$0,dF.Dirty?(dF.Dirty=false,cM.InsertDoc(dz,dF.Current,dE)):dC(dF.Current,dE)):dD==null?dE:dD!=null&&dD.$==4?dD.$0.Text:dD!=null&&dD.$==5?dD.$0:dD!=null&&dD.$==6?(dG=dD.$0,(dG.Dirty?dG.Dirty=false:void 0,_3.foldBack(function(dH,dI){return dH==null||dH.constructor===b7?dC(dH,dI):dH;},dG.Els,dE))):dC(dD.$0,dC(dD.$1,dE));}dz=dy.El;_do.Iter((dA=dy.El,function(dD){cv.RemoveNode(dA,dD);}),_do.Except(_do.DocChildren(dy),_do.Children(dy.El,dr.GetOptional(dy.Delimiters))));dC(dy.Children,(dB=dr.GetOptional(dy.Delimiters),dB!=null&&dB.$==1?dB.$0[1]:null));};cN.$cctor=function(){cN.$cctor=a.ignore;cN.counter=0;};cO=L.DynamicAttrNode=dr.Class({NChanged:function(){return this.updates;},NGetExitAnim:function(dy){return c9.get_Empty();},NGetEnterAnim:function(dy){return c9.get_Empty();},NGetChangeAnim:function(dy){return c9.get_Empty();},NSync:function(dy){if(this.dirty){(this.push(dy))(this.value);this.dirty=false;}}},m,cO);cO.New=dr.Ctor(function(dy,dz){var dA;dA=this;m.New.call(this);this.push=dz;this.value=void 0;this.dirty=false;this.updates=N.Map(function(dB){dA.value=dB;dA.dirty=true;},dy);},cO);cP=L.Elt=dr.Class({on:function(dy,dz){var dA;dA=this;this.elt.addEventListener(dy,function(dB){return dz(dA.elt,dB);},false);return this;}},bl,cP);cP.New=function(dy,dz,dA){var dB,dC;dB=cM.CreateElemNode(dy,dz,dA.docNode);dC=cZ.Create(dA.updates);return new cP.New$1({$:1,$0:dB},N.Map2Unit(cu.Updates(dB.Attr),dC.v),dy,dC);};cP.TreeNode=function(dy,dz){var dA,dB;function dC(dD){return dD[1];}dA=cZ.Create(dz);return new cP.New$1({$:6,$0:dy},N.Map2Unit((dB=_3.map(function(dD){return cu.Updates(dC(dD));},dy.Attrs),cg.TreeReduce(N.Const(),N.Map2Unit,dB)),dA.v),_3.get(dy.Els,0),dA);};cP.New$1=dr.Ctor(function(dy,dz,dA,dB){bl.New.call(this,dy,dz);this.docNode$1=dy;this.updates$1=dz;this.elt=dA;this.rvUpdates=dB;},cP);T.delayed=function(dy,dz){var dA;dA=[null];return function(dB){var dC,dD;dC=dA[0];dC==null?void 0:dC.$0.Cancel$1();dA[0]={$:1,$0:new cX.New()};b2.Start((dD=null,b2.Delay(function(){return b2.Bind(b2.Sleep(dy),function(){dz(dB);return b2.Zero();});})),{$:1,$0:dA[0].$0});};};T.print=function(dy){if(typeof dy=="string")((function(dz){return function(dA){return dz($.toSafe(dA));};}(function(dz){ds.log(dz);}))(dy));else((function(dz){return function(dA){return dz($.prettyPrint(dA));};}(function(dz){ds.log(dz);}))(dy));};T["String.Left"]=function(dy,dz){return dz<0?T["String.Substring2"](dy,0,dy.length+dz):T["String.Substring2"](dy,0,dz);};T["String.Substring2"]=function(dy,dz,dA){var dB,dC;while(true){if(dA<=0)return"";else if(dz>=dy.length)return"";else if(dz<0){dB=dz;dz=0;dA=dA+dB;}else return cc.Substring(dy,dz,(dC=dy.length-dz,P.Compare(dA,dC)===-1?dA:dC));}};cQ=cD.WcSplitterT=dr.Class({connectedCallback:function(){var dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN;function dO(dW){var dX,dY,dZ,d0;dX=dF?["padding-left","padding-right","grid-column-gap"]:["padding-top","padding-bottom","grid-row-gap"];dY=a.parseFloat("0"+dv(dW.parentElement.parentElement).css(dX[0]));dZ=a.parseFloat("0"+dv(dW.parentElement.parentElement).css(dX[1]));dI.Set(a.parseFloat("0"+dv(dW.parentElement.parentElement).css(dX[2])));dH[0]=dY+dZ;d0=dy.getBoundingClientRect();return dF?dE?[d0.width,d0.height]:[-d0.width,d0.height]:dE?[d0.height,d0.width]:[-d0.height,d0.width];}function dP(dW){return dF?dW.clientX:dW.clientY;}function dQ(dW){var dX,dY;dX=(dP(dW)-dL[0])*100/dG[0][0]+dK[0];dD.Set((dY=P.Compare(dB,dX)===1?dB:dX,P.Compare(dC,dY)===-1?dC:dY));}function dR(){if(dJ[0]){dJ[0]=false;self.removeEventListener("mousemove",dQ,false);self.removeEventListener("mouseup",dR,false);}}function dS(dW){var dX,dY;if(!dJ[0]){dJ[0]=true;dK[0]=dD.Get();dL[0]=dP(dW);dG[0]=(dX=(dY=dM[0],dY==null?null:{$:1,$0:dO(dY.$0)}),dX==null?[100,500]:dX.$0);self.addEventListener("mousemove",dQ,false);self.addEventListener("mouseup",dR,false);dW.preventDefault();}}function dT(dW,dX,dY,dZ){return[(dW-dX-dY)*dZ/100,(dW-dX-dY)*(100-dZ)/100];}function dU(dW,dX){return(((((dr.Curried(function(dY,dZ,d0,d1,d2){return dY(" "+dZ.toFixed(2)+"px "+d0.toFixed(2)+"px ; "+$.toSafe(d1)+" : "+d2.toFixed(2)+"px; ");},5))(a.id))(dW))(dX))(dF?"height":"width"))(dG[0][1]);}function dV(){var dW;dW=dM[0];dW==null?void 0:dG[0]=dO(dW.$0);dD.Set(dD.Get());}if(!this.added){dy=this;dz=dy.attachShadow({mode:"open"});dA=self.document.createElement("div");dB=dy.hasAttribute("min")?a.parseFloat(dy.getAttribute("min")):4;dC=dy.hasAttribute("max")?a.parseFloat(dy.getAttribute("max")):96;dD=X.Create$1(dy.hasAttribute("value")?a.parseFloat(dy.getAttribute("value")):50);dE=!dy.hasAttribute("second");dF=dy.hasAttribute("vertical");dG=[[0,0]];dH=[0];dI=X.Create$1(0);dJ=[false];dK=[0];dL=[0];dM=[null];dN=(((((dF?cD.layoutVertical():cD.layoutHorizontal())(N.Map(function(dW){var dX;dX=dT(dG[0][0],dI.Get(),dH[0],dW);return dU.apply(null,dX);},dD.get_View())))(function(){S.addResizeObserver(dV,dy);dV();}))(function(dW){dM[0]={$:1,$0:dW};dV();}))(function(dW){dS(dW);}))(N.Map(function(dW){return function(dX){return dW($.prettyPrint(dX)+"px");};}(a.id),dI.get_View()));cr.LoadLocalTemplates("");bl.Run(dA,dN);dz.appendChild(dA.firstChild);this.added=true;}}},m,cQ);cQ.Constructor=function(){var dy,dz;dy=(dz=dx.construct(self.HTMLElement,[],this.__proto__.constructor),dz);self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New.call(dy);return dy;};cQ.New=dr.Ctor(function(){m.New.call(this);this.added=false;(function(dy){return dy("WcSplitterT initializer");}(function(dy){ds.log(dy);}));},cQ);cS.New=function(dy,dz,dA,dB){var dC;dC={DynElem:dy,DynFlags:dz,DynNodes:dA};dr.SetOptional(dC,"OnAfterRender",dB);return dC;};cT.extractNodes=function(dy){var dz,dA;function dB(dC,dD,dE,dF){var dG,dH,dI,dJ,dK,dL;dG=cT.extractNodes(dE);dH=cT.extractNodes(dF);return(dG.$==0?(dJ=dG.$0,!P.Equals(dJ,null)&&dJ.length===0)?(dI=dH,true):dH.$==0?(dK=dH.$0,!P.Equals(dK,null)&&dK.length===0)?(dI=dG,true):(dI=[dG,dH],false):(dI=[dG,dH],false):dH.$==0?(dL=dH.$0,!P.Equals(dL,null)&&dL.length===0)?(dI=dG,true):(dI=[dG,dH],false):(dI=[dG,dH],false))?dI:{$:1,$0:{$:0,$0:dC,$1:dD,$2:dI[0],$3:dI[1]}};}dz=cT.horizontalSplit(dy);return dz!=null&&dz.$==1?dB(false,dz.$0[2],dz.$0[0],dz.$0[1]):(dA=cT.verticalSplit(dy),dA!=null&&dA.$==1?dB(true,dA.$0[2],dA.$0[0],dA.$0[1]):{$:0,$0:cT.cleanSpaces(dy)});};cT.createLayoutDefinitions=function(dy,dz){var dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ;return dz.$==1?(dA=dz.$0.$0,(dB=dz.$0.$1,(dC=cT.createLayoutDefinitions(dy+"_1",dz.$0.$2),(dD=dC[0],(dE=dC[1],(dF=cT.createLayoutDefinitions(dy+"_2",dz.$0.$3),(dG=dF[0],(dH=dF[1],[dy,_3.ofSeq(_6.delay(function(){return _6.append([cc.concat(" ",bp.ofArray([dy,dA?"vertical":"horizontal",a.String(dB),dD,dG]))],_6.delay(function(){return _6.append(dE,_6.delay(function(){return dH;}));}));}))])))))))):(dI=dz.$0,!P.Equals(dI,null)&&dI.length===0)?["___",[]]:(dJ=dz.$0,!P.Equals(dJ,null)&&dJ.length===1)?[_3.get(dz.$0,0),[]]:[dy,[dy+" div \"\" "+cc.concat(" ",dz.$0)]];};cT.horizontalSplit=function(dy){var dz,dA,dB,dC,dD;function dE(dF,dG){var dH,dI,dJ,dK;dH=c.REGEX$1("^ *--+([ ^v0-9]*)-* *$","",dG);return dH!=null&&dH.$==1?{$:1,$0:[[dF,(dI=(dJ=_6.tryItem(1,dH.$0),dJ==null?null:cT.extractMeasuresO(cc.Replace(cc.Replace(dJ.$0,"^",""),"v","-"))),(dK=new c4({$:1,$0:5,$1:50,$2:95}),dI==null?dK:dI.$0))],dG.indexOf("-")]}:null;}dz=(dA=_6.tryHead(_6.sortBy(function(dF){return dF[1];},_6.choose(function(dF){return dE(dF[0],dF[1]);},_6.indexed(dy)))),dA==null?null:{$:1,$0:dA.$0[0]});return dz==null?null:{$:1,$0:(dB=dz.$0,(dC=dB[0],(dD=dB[1],[bv.array(dy,null,{$:1,$0:dC-1}),bv.array(dy,{$:1,$0:dC+1},null),dD])))};};cT.verticalSplit=function(dy){var dz,dA,dB,dC,dD,dE,dF,dG,dH,dI;function dJ(dM,dN){var dO,dP,dQ;return(dP=c.REGEX$1("^ *\\|+ *$","",dN),dP!=null&&dP.$==1&&(dQ=dP.$0,!P.Equals(dQ,null)&&dQ.length===1))?{$:1,$0:[dM,dN.indexOf("|")]}:null;}function dK(dM){return P.Equals(null,dM);}function dL(dM){return P.Equals(null,dM);}dz=cT.transpose(dy);dA=(dB=(dC=_6.tryHead(_6.sortBy(function(dM){return dM[1];},_6.choose(function(dM){return dJ(dM[0],dM[1]);},_6.indexed(dz)))),dC==null?null:{$:1,$0:dC.$0[0]}),dB==null?null:{$:1,$0:(dD=dB.$0,[cT.transpose(bv.array(dz,null,{$:1,$0:dD-1})),cT.transpose(bv.array(dz,{$:1,$0:dD+1},null))])});return dA==null?null:{$:1,$0:(dE=dA.$0,(dF=dE[0],(dG=dE[1],[_3.filter(function(dM){return dK(cT.extractMeasuresO(dM));},dF),_3.filter(function(dM){return dL(cT.extractMeasuresO(dM));},dG),(dH=_6.tryHead(_6.delay(function(){return _6.append(_6.choose(cT.extractMeasuresO,dF),_6.delay(function(){return _6.map(function(dM){return dM.$==0?dM.$1?new c4({$:0,$0:dM.$0,$1:false}):dM:dM;},_6.choose(cT.extractMeasuresO,dG));}));})),(dI=new c4({$:1,$0:5,$1:50,$2:95}),dH==null?dI:dH.$0))])))};};cT.cleanSpaces=function(dy){return _3.filter(function(dz){var dA;return!(dA=(_.Int())(dz),dA!=null&&dA.$==1);},cc.SplitStrings(cc.concat(" ",dy),[" "],1));};cT.extractMeasuresO=function(dy){var dz,dA,dB,dC,dD,dE,dF;dz=cc.SplitChars(dy,[" "],1);return!P.Equals(dz,null)&&dz.length===1&&(dB=(_.Int())(_3.get(dz,0)),dB!=null&&dB.$==1&&(dA=dB.$0,true))?{$:1,$0:new c4({$:0,$0:du.abs(dA),$1:dA>=0})}:!P.Equals(dz,null)&&dz.length===3&&(dD=(_.Int())(_3.get(dz,0)),dD!=null&&dD.$==1&&(dE=(_.Int())(_3.get(dz,1)),dE!=null&&dE.$==1&&(dF=(_.Int())(_3.get(dz,2)),dF!=null&&dF.$==1&&(dC=[dF.$0,dD.$0,dE.$0],true))))?{$:1,$0:new c4({$:1,$0:dC[1],$1:dC[2],$2:dC[0]})}:null;};cT.transpose=function(dy){var dz;dz=_6.max(_6.map(function(dA){return dA.length;},dy));return _3.ofSeq(_6.delay(function(){return _6.map(function(dA){return _3.ofSeq(_6.delay(function(){return _6.map(function(dB){return dB.length>dA?dB[dA]:" ";},dy);})).join("");},O.range(0,dz-1));}));};cU.$cctor=function(){cU.$cctor=a.ignore;cU.LoadedTemplates=new bu.New$5();cU.LocalTemplatesLoaded=false;cU.TextHoleRE="\\${([^}]+)}";};cW=l.OperationCanceledException=dr.Class({},cV,cW);cW.New=dr.Ctor(function(dy){cW.New$1.call(this,"The operation was canceled.",null,dy);},cW);cW.New$1=dr.Ctor(function(dy,dz,dA){this.message=dy;this.inner=dz;b7.setPrototypeOf(this,cW.prototype);this.ct=dA;},cW);cX=l.CancellationTokenSource=dr.Class({Cancel$1:function(){var dy;if(!this.c){this.c=true;dy=_3.choose(function(dz){try{dz();return null;}catch(dA){return{$:1,$0:dA};}},this.r);if(_3.length(dy)>0)throw new dc.New$3(dy);else void 0;}}},m,cX);cX.New=dr.Ctor(function(){m.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},cX);cY.$cctor=function(){cY.$cctor=a.ignore;cY.Doc=self.document;};cZ=L.Updates=dr.Class({},null,cZ);cZ.Create=function(dy){var dz;dz=null;dz=cZ.New(dy,null,function(){var dA;dA=dz.s;return dA===null?(dA=bQ.Copy(dz.c()),dz.s=dA,bQ.WhenObsoleteRun(dA,function(){dz.s=null;}),dA):dA;});return dz;};cZ.New=function(dy,dz,dA){return new cZ({c:dy,s:dz,v:dA});};c1=c0.Hoverable=dr.Class({Content:function(dy){return dy.on("mouseenter",function(){return cv.AddClass(dy.elt,"hovering");}).on("mouseleave",function(){return cv.RemoveClass(dy.elt,"hovering");});}},null,c1);c1.New$1=function(){return c1.New(X.Create$1(false));};c1.New=function(dy){return new c1({hover:dy});};S.addResizeObserver=function(dy,dz){var dA,dB,dC,dD;try{dA=!(!a.ResizeObserver);}catch(dE){dA=false;}if(dA){dB=new a.ResizeObserver(dy);S.set_observers(new bq({$:1,$0:dB,$1:S.observers()}));dB.observe(dz);}else{dC=S.dimsChanged(dz);b2.Start((dD=null,b2.Delay(function(){return b2.While(function(){return dz.isConnected;},b2.Delay(function(){return b2.Bind(b2.Sleep(110),function(){return dC()?(dy(),b2.Zero()):b2.Zero();});}));})),null);}};S.set_observers=function(dy){cb.$cctor();cb.observers=dy;};S.observers=function(){cb.$cctor();return cb.observers;};S.dimsChanged=function(dy){var dz;dz=[dy.getBoundingClientRect()];return function(){var dA;dA=dy.getBoundingClientRect();return P.Equals(S.domRect2Tuple(dz[0]),S.domRect2Tuple(dA))?false:(dz[0]=dA,true);};};S.domRect2Tuple=function(dy){return[dy.top,dy.left,dy.width,dy.height];};c.REGEX$1=function(dy,dz,dA){var dB;return dA===null?null:(dB=(new a.String(dA)).match(new a.RegExp(dy,dz)),P.Equals(dB,null)?null:!P.Equals(dB,null)&&dB.length===0?null:{$:1,$0:dB});};c4=bf.Measures=dr.Class({toString:function(){return this.$==1?((((dr.Curried(function(dy,dz,dA,dB){return dy(a.String(dz)+"-"+a.String(dA)+"-"+a.String(dB));},4))(a.id))(O.toInt(this.$0)))(O.toInt(this.$1)))(O.toInt(this.$2)):a.String(O.toInt(this.$1?this.$0:-this.$0));}},null,c4);c5.concat=function(dy){var dz,dA;dz=[];for(var dB in dy)dz.push.apply(dz,dy[dB]);return dz;};c6=l.FormatException=dr.Class({},cV,c6);c6.New$1=dr.Ctor(function(dy){this.message=dy;b7.setPrototypeOf(this,c6.prototype);},c6);c7.convertTextNode=function(dy){var dz,dA,dB,dC,dD,dE;dz=null;dA=0;dC=dy.textContent;dD=new a.RegExp(cr.TextHoleRE(),"g");while(dz=dD.exec(dC),dz!==null){dy.parentNode.insertBefore(self.document.createTextNode(bv.string(dC,{$:1,$0:dA},{$:1,$0:dD.lastIndex-_3.get(dz,0).length-1})),dy);dA=dD.lastIndex;dE=self.document.createElement("span");dE.setAttribute("ws-replace",_3.get(dz,1).toLowerCase());dy.parentNode.insertBefore(dE,dy);}dD.lastIndex=0;dy.textContent=bv.string(dC,{$:1,$0:dA},null);};c7.failNotLoaded=function(dy){ds.warn("Instantiating non-loaded template",dy);};c7.fillTextHole=function(dy,dz,dA){var dB;dB=dy.querySelector("[ws-replace]");return P.Equals(dB,null)?(ds.warn("Filling non-existent text hole",dA),null):(dB.parentNode.replaceChild(new a.Text(dz),dB),{$:1,$0:dB.getAttribute("ws-replace")});};c7.removeHolesExcept=function(dy,dz){function dA(dB){cv.IterSelector(dy,"["+dB+"]",function(dC){if(!dz.Contains(dC.getAttribute(dB)))dC.removeAttribute(dB);});}dA("ws-attr");dA("ws-onafterrender");dA("ws-var");cv.IterSelector(dy,"[ws-hole]",function(dB){if(!dz.Contains(dB.getAttribute("ws-hole"))){dB.removeAttribute("ws-hole");while(dB.hasChildNodes())dB.removeChild(dB.lastChild);}});cv.IterSelector(dy,"[ws-replace]",function(dB){if(!dz.Contains(dB.getAttribute("ws-replace")))dB.parentNode.removeChild(dB);});cv.IterSelector(dy,"[ws-on]",function(dB){dB.setAttribute("ws-on",cc.concat(" ",_3.filter(function(dC){return dz.Contains(_3.get(cc.SplitChars(dC,[":"],1),1));},cc.SplitChars(dB.getAttribute("ws-on"),[" "],1))));});cv.IterSelector(dy,"[ws-attr-holes]",function(dB){var dC,dD,dE,dF,dG;dC=cc.SplitChars(dB.getAttribute("ws-attr-holes"),[" "],1);for(dD=0,dE=dC.length-1;dD<=dE;dD++){dF=_3.get(dC,dD);dB.setAttribute(dF,(dG=new a.RegExp(cr.TextHoleRE(),"g"),dB.getAttribute(dF).replace(dG,function(dH,dI){return dz.Contains(dI)?dH:"";})));}});};c7.fillInstanceAttrs=function(dy,dz){var dA,dB,dC,dD,dE;c7.convertAttrs(dz);dA=dz.nodeName.toLowerCase();dB=dy.querySelector("[ws-attr="+dA+"]");if(P.Equals(dB,null))ds.warn("Filling non-existent attr hole",dA);else{dB.removeAttribute("ws-attr");for(dC=0,dD=dz.attributes.length-1;dC<=dD;dC++){dE=dz.attributes.item(dC);dE.name==="class"&&dB.hasAttribute("class")?dB.setAttribute("class",dB.getAttribute("class")+" "+dE.nodeValue):dB.setAttribute(dE.name,dE.nodeValue);}}};c7.mapHoles=function(dy,dz){function dA(dB){cv.IterSelector(dy,"["+dB+"]",function(dC){var dD,dE;dD=(dE=null,[dz.TryGetValue(dC.getAttribute(dB).toLowerCase(),{get:function(){return dE;},set:function(dF){dE=dF;}}),dE]);dD[0]?dC.setAttribute(dB,dD[1]):void 0;});}dA("ws-hole");dA("ws-replace");dA("ws-attr");dA("ws-onafterrender");dA("ws-var");cv.IterSelector(dy,"[ws-on]",function(dB){dB.setAttribute("ws-on",cc.concat(" ",_3.map(function(dC){var dD,dE,dF;dD=cc.SplitChars(dC,[":"],1);dE=(dF=null,[dz.TryGetValue(_3.get(dD,1),{get:function(){return dF;},set:function(dG){dF=dG;}}),dF]);return dE[0]?_3.get(dD,0)+":"+dE[1]:dC;},cc.SplitChars(dB.getAttribute("ws-on"),[" "],1))));});cv.IterSelector(dy,"[ws-attr-holes]",function(dB){var dC,dD,dE;dC=cc.SplitChars(dB.getAttribute("ws-attr-holes"),[" "],1);for(dD=0,dE=dC.length-1;dD<=dE;dD++)(function(){var dF;function dG(dH,dI){var dJ;dJ=O.KeyValue(dI);return dH.replace(new a.RegExp("\\${"+dJ[0]+"}","ig"),"${"+dJ[1]+"}");}dF=_3.get(dC,dD);return dB.setAttribute(dF,(((dr.Curried3(_6.fold))(dG))(dB.getAttribute(dF)))(dz));}());});};c7.fill=function(dy,dz,dA){while(true)if(dy.hasChildNodes())dA=dz.insertBefore(dy.lastChild,dA);else return null;};c7.convertAttrs=function(dy){var dA,dB,dC,dD,dE,dF,dG,dH;function dz(dI){var dJ;dJ=dy.getAttribute(dI);dJ===null?void 0:dy.setAttribute(dI,dJ.toLowerCase());}dA=dy.attributes;dB=[];dC=[];dD=[];for(dE=0,dF=dA.length-1;dE<=dF;dE++){dG=dA.item(dE);cc.StartsWith(dG.nodeName,"ws-on")&&dG.nodeName!=="ws-onafterrender"&&dG.nodeName!=="ws-on"?(dB.push(dG.nodeName),dC.push(bv.string(dG.nodeName,{$:1,$0:"ws-on".length},null)+":"+dG.nodeValue.toLowerCase())):!cc.StartsWith(dG.nodeName,"ws-")&&(new a.RegExp(cr.TextHoleRE())).test(dG.nodeValue)?(dG.nodeValue=(dH=new a.RegExp(cr.TextHoleRE(),"g"),dG.nodeValue.replace(dH,function(dI,dJ){return"${"+dJ.toLowerCase()+"}";})),dD.push(dG.nodeName)):void 0;}!(dC.length==0)?dy.setAttribute("ws-on",cc.concat(" ",dC)):void 0;!(dD.length==0)?dy.setAttribute("ws-attr-holes",cc.concat(" ",dD)):void 0;dz("ws-hole");dz("ws-replace");dz("ws-attr");dz("ws-onafterrender");dz("ws-var");_3.iter(function(dI){dy.removeAttribute(dI);},dB);};c8=bt.KeyCollection=dr.Class({GetEnumerator$1:function(){return b9.Get(_6.map(function(dy){return dy.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},m,c8);c8.New=dr.Ctor(function(dy){m.New.call(this);this.d=dy;},c8);c9.get_UseAnimations=function(){return dg.UseAnimations();};c9.Play=function(dy){var dz;dz=null;return b2.Delay(function(){return b2.Bind(c9.Run(a.ignore,dg.Actions(dy)),function(){dg.Finalize(dy);return b2.Return(null);});});};c9.Append=function(dy,dz){return{$:0,$0:dk.Append(dy.$0,dz.$0)};};c9.Run=function(dy,dz){var dA;function dB(dC){function dD(dE,dF){var dG;dG=dF-dE;dz.Compute(dG);dy();return dG<=dA?void a.requestAnimationFrame(function(dH){dD(dE,dH);}):dC();}a.requestAnimationFrame(function(dE){dD(dE,dE);});}dA=dz.Duration;return dA===0?b2.Zero():b2.FromContinuations(function(dC,dD,dE){return dB.apply(null,[dC,dD,dE]);});};c9.Concat=function(dy){return{$:0,$0:dk.Concat(_6.map(dg.List,dy))};};c9.get_Empty=function(){return{$:0,$0:dk.Empty()};};c_.BatchUpdatesEnabled=function(){dh.$cctor();return dh.BatchUpdatesEnabled;};c$.StartProcessor=function(dy){var dz;function dA(){var dB;dB=null;return b2.Delay(function(){return b2.Bind(dy,function(){var dC;dC=dz[0];return dC===1?(dz[0]=0,b2.Zero()):dC===2?(dz[0]=1,dA()):b2.Zero();});});}dz=[0];return function(){var dB;dB=dz[0];dB===0?(dz[0]=1,b2.Start(dA(),null)):dB===1?dz[0]=2:void 0;};};da.Clear=function(dy){dy.splice(0,_3.length(dy));};db.$cctor=function(){db.$cctor=a.ignore;db.EmptyAttr=null;};dc=l.AggregateException=dr.Class({},cV,dc);dc.New$3=dr.Ctor(function(dy){dc.New$4.call(this,"One or more errors occurred.",dy);},dc);dc.New$4=dr.Ctor(function(dy,dz){this.message=dy;b7.setPrototypeOf(this,dc.prototype);this.innerExceptions=dz;},dc);_6.enumUsing=function(dy,dz){return{GetEnumerator:function(){var dA;try{dA=b9.Get(dz(dy));}catch(dB){dy.Dispose();throw dB;}return new b_.New(null,null,function(dC){return dA.MoveNext()&&(dC.c=dA.Current(),true);},function(){dA.Dispose();dy.Dispose();});}};};_6.enumWhile=function(dy,dz){return{GetEnumerator:function(){return new b_.New(null,null,function(dA){var dB;while(true){dB=dA.s;if(P.Equals(dB,null)){if(dy()){dA.s=b9.Get(dz);dA=dA;}else return false;}else if(dB.MoveNext()){dA.c=dB.Current();return true;}else{dB.Dispose();dA.s=null;dA=dA;}}},function(dA){var dB;dB=dA.s;!P.Equals(dB,null)?dB.Dispose():void 0;});}};};de.New=function(dy,dz){return{PreviousNodes:dy,Top:dz};};df.get_Empty=function(){return{$:0,$0:new cl.New$3()};};df.FindAll=function(dy){var dz;function dA(dC){if(dC!=null&&dC.$==0){dA(dC.$0);dA(dC.$1);}else if(dC!=null&&dC.$==1)dB(dC.$0);else if(dC!=null&&dC.$==2)dA(dC.$0.Current);else if(dC!=null&&dC.$==6)_3.iter(dB,dC.$0.Holes);}function dB(dC){dz.push(dC);dA(dC.Children);}dz=[];dA(dy);return{$:0,$0:new cl.New$2(dz)};};df.Filter=function(dy,dz){return{$:0,$0:dn.Filter(dy,dz.$0)};};df.Except=function(dy,dz){return{$:0,$0:dn.Except(dy.$0,dz.$0)};};df.ToArray=function(dy){return dn.ToArray(dy.$0);};df.Intersect=function(dy,dz){return{$:0,$0:dn.Intersect(dy.$0,dz.$0)};};dg.UseAnimations=function(){dj.$cctor();return dj.UseAnimations;};dg.Actions=function(dy){return dg.ConcatActions(_3.choose(function(dz){return dz.$==1?{$:1,$0:dz.$0}:null;},dk.ToArray(dy.$0)));};dg.Finalize=function(dy){_3.iter(function(dz){if(dz.$==0)dz.$0();},dk.ToArray(dy.$0));};dg.ConcatActions=function(dy){var dz,dA,dB,dC;dz=cg.ofSeqNonCopying(dy);dA=_3.length(dz);return dA===0?dg.Const():dA===1?_3.get(dz,0):(dB=_6.max(_6.map(function(dD){return dD.Duration;},dz)),(dC=_3.map(function(dD){return dg.Prolong(dB,dD);},dz),dg.Def(dB,function(dD){_3.iter(function(dE){dE.Compute(dD);},dC);})));};dg.List=function(dy){return dy.$0;};dg.Const=function(dy){return dg.Def(0,function(){return dy;});};dg.Def=function(dy,dz){return{Compute:dz,Duration:dy};};dg.Prolong=function(dy,dz){var dA,dB,dC;dA=dz.Compute;dB=dz.Duration;dC=be.Create(function(){return dz.Compute(dz.Duration);});return{Compute:function(dD){return dD>=dB?dC.f():dA(dD);},Duration:dy};};dh.$cctor=function(){dh.$cctor=a.ignore;dh.BatchUpdatesEnabled=true;};di.isBlank=function(dy){return cc.forall(dl.IsWhiteSpace,dy);};dj.$cctor=function(){dj.$cctor=a.ignore;dj.CubicInOut=dm.Custom(function(dy){var dz;dz=dy*dy;return 3*dz-2*(dz*dy);});dj.UseAnimations=true;};dk.Append=function(dy,dz){return dy.$==0?dz:dz.$==0?dy:{$:2,$0:dy,$1:dz};};dk.ToArray=function(dy){var dz;function dA(dB){if(dB.$==1)dz.push(dB.$0);else if(dB.$==2){dA(dB.$0);dA(dB.$1);}else if(dB.$==3)_3.iter(function(dC){dz.push(dC);},dB.$0);}dz=[];dA(dy);return dz.slice(0);};dk.Concat=function(dy){var dz;dz=cg.ofSeqNonCopying(dy);return cg.TreeReduce(dk.Empty(),dk.Append,dz);};dk.Empty=function(){dp.$cctor();return dp.Empty;};dl.IsWhiteSpace=function(dy){return dy.match(new a.RegExp("\\s"))!==null;};dm=L.Easing=dr.Class({},m,dm);dm.Custom=function(dy){return new dm.New(dy);};dm.New=dr.Ctor(function(dy){m.New.call(this);this.transformTime=dy;},dm);dn.Filter=function(dy,dz){return new cl.New$2(_3.filter(dy,dn.ToArray(dz)));};dn.Except=function(dy,dz){var dA;dA=new cl.New$2(dn.ToArray(dz));dA.ExceptWith(dn.ToArray(dy));return dA;};dn.ToArray=function(dy){var dz;dz=_3.create(dy.get_Count(),void 0);dy.CopyTo(dz);return dz;};dn.Intersect=function(dy,dz){var dA;dA=new cl.New$2(dn.ToArray(dy));dA.IntersectWith(dn.ToArray(dz));return dA;};_do.Children=function(dy,dz){var dA,dB,dC;if(dz!=null&&dz.$==1){dC=[];dA=dz.$0[0].nextSibling;while(dA!==dz.$0[1]){dC.push(dA);dA=dA.nextSibling;}return{$:0,$0:dC};}else return{$:0,$0:_3.init(dy.childNodes.length,(dB=dy.childNodes,function(dD){return dB[dD];}))};};_do.Except=function(dy,dz){var dA;dA=dy.$0;return{$:0,$0:_3.filter(function(dB){return _3.forall(function(dC){return!(dB===dC);},dA);},dz.$0)};};_do.Iter=function(dy,dz){_3.iter(dy,dz.$0);};_do.DocChildren=function(dy){var dz;function dA(dB){if(dB!=null&&dB.$==2)dA(dB.$0.Current);else if(dB!=null&&dB.$==1)dz.push(dB.$0.El);else if(dB==null);else if(dB!=null&&dB.$==5)dz.push(dB.$0);else if(dB!=null&&dB.$==4)dz.push(dB.$0.Text);else if(dB!=null&&dB.$==6)_3.iter(function(dC){if(dC==null||dC.constructor===b7)dA(dC);else dz.push(dC);},dB.$0.Els);else{dA(dB.$0);dA(dB.$1);}}dz=[];dA(dy.Children);return{$:0,$0:cg.ofSeqNonCopying(dz)};};dp.$cctor=function(){dp.$cctor=a.ignore;dp.Empty={$:0};};dr.OnLoad(function(){H.main();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
//# sourceMappingURL=testing.min.map
