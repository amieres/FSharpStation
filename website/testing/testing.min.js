function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
var JSON;JSON||(JSON={}),function(){"use strict";function i(n){return n<10?"0"+n:n}function f(n){return o.lastIndex=0,o.test(n)?'"'+n.replace(o,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function r(i,e){var s,l,h,a,v=n,c,o=e[i];o&&typeof o=="object"&&typeof o.toJSON=="function"&&(o=o.toJSON(i));typeof t=="function"&&(o=t.call(e,i,o));switch(typeof o){case"string":return f(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(n+=u,c=[],Object.prototype.toString.apply(o)==="[object Array]"){for(a=o.length,s=0;s<a;s+=1)c[s]=r(s,o)||"null";return h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+v+"]":"["+c.join(",")+"]",n=v,h}if(t&&typeof t=="object")for(a=t.length,s=0;s<a;s+=1)typeof t[s]=="string"&&(l=t[s],h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));else for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));return h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+v+"}":"{"+c.join(",")+"}",n=v,h}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,u,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(n="",u="",typeof e=="number")for(o=0;o<e;o+=1)u+=" ";else typeof e=="string"&&(u=e);if(t=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return r("",{"":i})});typeof JSON.parse!="function"&&(JSON.parse=function(n,t){function r(n,i){var f,e,u=n[i];if(u&&typeof u=="object")for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&(e=r(u,f),e!==undefined?u[f]=e:delete u[f]);return t.call(n,i,u)}var i;if(n=String(n),e.lastIndex=0,e.test(n)&&(n=n.replace(e,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?r({"":i},""):i;throw new SyntaxError("JSON.parse");})}();
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb;a=self;b=a.FsRoot=a.FsRoot||{};c=b.ProzperServer=b.ProzperServer||{};d=c.ClientSide=c.ClientSide||{};e=d.MainProgram=d.MainProgram||{};f=a.WebSharper=a.WebSharper||{};g=f.Obj=f.Obj||{};h=f.UI=f.UI||{};i=h.Var$1=h.Var$1||{};j=b.LibraryJS=b.LibraryJS||{};k=j.AppFramework=j.AppFramework||{};l=k.PlugIn=k.PlugIn||{};m=d.ModeloUI=d.ModeloUI||{};n=m.Aliado=m.Aliado||{};o=f.Operators=f.Operators||{};p=h.View=h.View||{};q=h.Var=h.Var||{};r=f.Lazy=f.Lazy||{};s=m.RenderAliados=m.RenderAliados||{};t=m.RenderAliado=m.RenderAliado||{};u=m.FormaRegistro=m.FormaRegistro||{};v=m.FormaDatos=m.FormaDatos||{};w=m.FormaContactos=m.FormaContactos||{};x=m.FormaFormasPago=m.FormaFormasPago||{};y=m.ReporteConsolidado=m.ReporteConsolidado||{};z=m.TablaPagos=m.TablaPagos||{};A=m.ListaDocs=m.ListaDocs||{};B=m.FormaAutorizacion=m.FormaAutorizacion||{};C=a.EventTarget;D=a.Node;E=f.JavaScript=f.JavaScript||{};F=E.JS=E.JS||{};G=f.Unchecked=f.Unchecked||{};H=j.LayoutEngineModule=j.LayoutEngineModule||{};I=f.Option=f.Option||{};J=c.TypesV0=c.TypesV0||{};K=J.Aliado=J.Aliado||{};L=c.Aliado=c.Aliado||{};M=h.Templating=h.Templating||{};N=M.Runtime=M.Runtime||{};O=N.Server=N.Server||{};P=O.TemplateInstance=O.TemplateInstance||{};Q=f.Arrays=f.Arrays||{};R=O.ProviderBuilder=O.ProviderBuilder||{};S=O.Handler=O.Handler||{};T=a.testing_Templates=a.testing_Templates||{};U=a.testing_GeneratedPrintf=a.testing_GeneratedPrintf||{};V=a.testing_Router=a.testing_Router||{};W=h.Doc=h.Doc||{};X=m.Rpc=m.Rpc||{};Y=J.IdAliado=J.IdAliado||{};Z=J.Modelo=J.Modelo||{};_0=h.ConcreteVar=h.ConcreteVar||{};_1=h.Snap=h.Snap||{};_2=a.StartupCode$testing$testing=a.StartupCode$testing$testing||{};_3=h.ListModel=h.ListModel||{};_4=k.PlugInVar=k.PlugInVar||{};_5=k.PlugInView=k.PlugInView||{};_6=k.PlugInDoc=k.PlugInDoc||{};_7=E.Pervasives=E.Pervasives||{};_8=f.LazyExtensionsProxy=f.LazyExtensionsProxy||{};_9=_8.LazyRecord=_8.LazyRecord||{};_=f.Seq=f.Seq||{};$=b.Library=b.Library||{};ba=$.SortWith=$.SortWith||{};bb=L.Buscar=L.Buscar||{};bc=f.Collections=f.Collections||{};bd=bc.FSharpSet=bc.FSharpSet||{};be=bc.Set=bc.Set||{};bf=f.Strings=f.Strings||{};bg=J.CorreoElectronico=J.CorreoElectronico||{};bh=m.DatosPersonales=m.DatosPersonales||{};bi=m.CorreoElectronico=m.CorreoElectronico||{};bj=m.Telefono=m.Telefono||{};bk=m.Direccion=m.Direccion||{};bl=$.Monads=$.Monads||{};bm=bl.AsyncResultBuilder=bl.AsyncResultBuilder||{};bn=m.Refresh=m.Refresh||{};bo=a.System=a.System||{};bp=bo.Guid=bo.Guid||{};bq=y.Fila=y.Fila||{};br=m.VariousUI=m.VariousUI||{};bs=J.StatusAliado=J.StatusAliado||{};bt=f.Utils=f.Utils||{};bu=j.Date=j.Date||{};bv=f.List=f.List||{};bw=J.CuentaBancaria=J.CuentaBancaria||{};bx=J.RoutingNumber=J.RoutingNumber||{};by=J.NumeroCuenta=J.NumeroCuenta||{};bz=J.FormaPago=J.FormaPago||{};bA=bl.Result=bl.Result||{};bB=J.PremisasCalculo=J.PremisasCalculo||{};bC=bl.AsyncResult=bl.AsyncResult||{};bD=$.ParseO=$.ParseO||{};bE=k.PlugInAction=k.PlugInAction||{};bF=d.Msal=d.Msal||{};bG=bl.Extensions=bl.Extensions||{};bH=a.WindowOrWorkerGlobalScope;bI=j.LayoutEngine=j.LayoutEngine||{};bJ=a.StartupCode$LayoutEngine$LayoutEngine=a.StartupCode$LayoutEngine$LayoutEngine||{};bK=J.IdForAuthorize=J.IdForAuthorize||{};bL=J.DatosPersonales=J.DatosPersonales||{};bM=J.DiaPago=J.DiaPago||{};bN=J.TipoAliado=J.TipoAliado||{};bO=f.Numeric=f.Numeric||{};bP=bc.List=bc.List||{};bQ=bc.Dictionary=bc.Dictionary||{};bR=bc.HashSet=bc.HashSet||{};bS=N.Client=N.Client||{};bT=h.Abbrev=h.Abbrev||{};bU=bT.Async=bT.Async||{};bV=bT.Fresh=bT.Fresh||{};bW=bA.Builder=bA.Builder||{};bX=bA.BuilderP=bA.BuilderP||{};bY=bl.Eff=bl.Eff||{};bZ=bY.EffBuilder=bY.EffBuilder||{};b0=bl.AsyncResultBuilderP=bl.AsyncResultBuilderP||{};b1=$.String=$.String||{};b2=f.Slice=f.Slice||{};b3=$.Serializer=$.Serializer||{};b4=j.Msal=j.Msal||{};b5=b4.Policy=b4.Policy||{};b6=J.Telefono=J.Telefono||{};b7=J.TipoTelefono=J.TipoTelefono||{};b8=J.Direccion=J.Direccion||{};b9=J.TipoDireccion=J.TipoDireccion||{};b_=J.Estado=J.Estado||{};b$=J.Pais=J.Pais||{};ca=J.ZonaPostal=J.ZonaPostal||{};cb=J.TarjetaCredito=J.TarjetaCredito||{};cc=J.Expiracion=J.Expiracion||{};cd=J.NumeroTarjeta=J.NumeroTarjeta||{};ce=J.TipoTarjeta=J.TipoTarjeta||{};cf=J.TipoCuenta=J.TipoCuenta||{};cg=J.Genero=J.Genero||{};ch=f.Remoting=f.Remoting||{};ci=b4.UserAgentApplication=b4.UserAgentApplication||{};cj=m.EndPoint=m.EndPoint||{};ck=h.Router=h.Router||{};cl=h.ViewBuilder=h.ViewBuilder||{};cm=c.Remoting=c.Remoting||{};cn=c.Rpc=c.Rpc||{};co=J.IdPayment=J.IdPayment||{};cp=k.PlugInQuery=k.PlugInQuery||{};cq=bc.FSharpMap=bc.FSharpMap||{};cr=f.Enumerator=f.Enumerator||{};cs=cr.T=cr.T||{};ct=bc.BalancedTree=bc.BalancedTree||{};cu=bv.T=bv.T||{};cv=ch.AjaxRemotingProvider=ch.AjaxRemotingProvider||{};cw=$.Array=$.Array||{};cx=h.HtmlModule=h.HtmlModule||{};cy=cx.attr=cx.attr||{};cz=m.CuentaBancaria=m.CuentaBancaria||{};cA=m.TarjetaCredito=m.TarjetaCredito||{};cB=a.Object;cC=h.FromView=h.FromView||{};cD=h.Array=h.Array||{};cE=f.Concurrency=f.Concurrency||{};cF=a.Blob;cG=h.AttrModule=h.AttrModule||{};cH=a.GeneratedPrintf=a.GeneratedPrintf||{};cI=a.LayoutEngine_Templates=a.LayoutEngine_Templates||{};cJ=a.LayoutEngine_GeneratedPrintf=a.LayoutEngine_GeneratedPrintf||{};cK=j.WebComponent=j.WebComponent||{};cL=cK.WcTabStrip=cK.WcTabStrip||{};cM=cL.WcTabStripT=cL.WcTabStripT||{};cN=cK.WcSplitter=cK.WcSplitter||{};cO=bc.DictionaryUtil=bc.DictionaryUtil||{};cP=h.AttrProxy=h.AttrProxy||{};cQ=h.CheckedInput=h.CheckedInput||{};cR=h.Client=h.Client||{};cS=cR.Templates=cR.Templates||{};cT=f.DateUtil=f.DateUtil||{};cU=a.StartupCode$WebSharper_Main$Remoting=a.StartupCode$WebSharper_Main$Remoting||{};cV=j.Pojo=j.Pojo||{};cW=f.Sitelets=f.Sitelets||{};cX=cW.RouterOperators=cW.RouterOperators||{};cY=cW.RouterModule=cW.RouterModule||{};cZ=cW.Route=cW.Route||{};c0=cm.CustomXhrProvider=cm.CustomXhrProvider||{};c1=E.Promise=E.Promise||{};c2=bc.MapUtil=bc.MapUtil||{};c3=ct.Tree=ct.Tree||{};c4=J.IdAddress=J.IdAddress||{};c5=h.Docs=h.Docs||{};c6=cE.AsyncBody=cE.AsyncBody||{};c7=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};c8=cE.CT=cE.CT||{};c9=H.Layout=H.Layout||{};c_=h.Attrs=h.Attrs||{};c$=h.DomUtility=h.DomUtility||{};da=cN.WcSplitterT=cN.WcSplitterT||{};db=h.DocElemNode=h.DocElemNode||{};dc=a.CharacterData;dd=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};de=ch.XhrProvider=ch.XhrProvider||{};df=cW.Router=cW.Router||{};dg=cW.List=cW.List||{};dh=bc.Pair=bc.Pair||{};di=f.Result=f.Result||{};dj=cE.Scheduler=cE.Scheduler||{};dk=f.CancellationTokenSource=f.CancellationTokenSource||{};dl=H.Measures=H.Measures||{};dm=j.Hoverable=j.Hoverable||{};dn=dm.Hoverable=dm.Hoverable||{};_do=h.Storage=h.Storage||{};dp=a.Event;dq=a.UIEvent;dr=j.ResizeObserver=j.ResizeObserver||{};ds=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};dt=h.Elt=h.Elt||{};du=cR.Attrs=cR.Attrs||{};dv=du.Dyn=du.Dyn||{};dw=cS.Prepare=cS.Prepare||{};dx=h.An=h.An||{};dy=cR.Settings=cR.Settings||{};dz=bT.Mailbox=bT.Mailbox||{};dA=bc.HashSetUtil=bc.HashSetUtil||{};dB=a.StartupCode$WebSharper_Sitelets$Router=a.StartupCode$WebSharper_Sitelets$Router||{};dC=bc.Map=bc.Map||{};dD=a.Error;dE=E.NonStandardPromiseRejectionException=E.NonStandardPromiseRejectionException||{};dF=f.OperationCanceledException=f.OperationCanceledException||{};dG=f.Queue=f.Queue||{};dH=h.DynamicAttrNode=h.DynamicAttrNode||{};dI=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};dJ=f.AggregateException=f.AggregateException||{};dK=_do.ArrayStorage=_do.ArrayStorage||{};dL=bc.KeyCollection=bc.KeyCollection||{};dM=h.Updates=h.Updates||{};dN=cR.Docs=cR.Docs||{};dO=dN.RunState=dN.RunState||{};dP=dN.NodeSet=dN.NodeSet||{};dQ=h.Anims=h.Anims||{};dR=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};dS=f.Char=f.Char||{};dT=f.Json=f.Json||{};dU=f.FormatException=f.FormatException||{};dV=cW.StringEncoding=cW.StringEncoding||{};dW=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};dX=h.String=h.String||{};dY=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};dZ=h.AppendList=h.AppendList||{};d0=cW.PathUtil=cW.PathUtil||{};d1=h.Easing=h.Easing||{};d2=bT.HashSet=bT.HashSet||{};d3=dN.DomNodes=dN.DomNodes||{};d4=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};d5=a.IntelliFactory;d6=d5&&d5.Runtime;d7=a.Math;d8=a.jQuery;d9=a.Date;d_=a.console;d$=a.JSON;ea=a.Reflect;eb=a.String;e.mainProgram=function(){var ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu;ec=i.Create$1(e.appName());ed=p.Map(function(ev){return e.mesToString(ev.periodoActual);},m.modeloV().get_View());ee=p.Map(function(ev){return a.String(ev.anoActual);},m.modeloV().get_View());ef=p.Map(function(ev){return L.nombre2(ev.datosPersonales);},m.aliadoW());eg=p.Map(function(ev){return ev.id.get_Id();},m.aliadoW());eh=p.Map(function(ev){return a.String(ev.status);},m.aliadoW());ei=p.Map(function(ev){return a.String(ev.comision);},m.aliadoW());ej=p.Map(function(ev){return a.String(ev.nReferidos);},m.aliadoW());k.addPlugIn(l.New(e.appName(),[k.newVar("title",ec),k.newVar("contentVar",m.contentVar()),k.newVar("invitaciones",m.invitacionesV()),k.newVar("influencer",e.influencerV())],[k.newViw("mesActual",ed),k.newViw("anoActual",ee),k.newViw("aliado",ef),k.newViw("idAliado",eg),k.newViw("status",eh),k.newViw("comision",ei),k.newViw("datos",ej),k.newViw("emailsInvitar",m.emailsInvitarW()),k.newViw("invitacionesDisabled",m.invitacionesDisabledW()),k.newViw("VideoW",p.Map(function(ev){return ev.$==5?ev.$0:"";},m.endPointV().get_View())),k.newViw("influencerClassW",e.influencerClassW())],[k.newDoc("Aliados",r.Create(s.aliados)),k.newDoc("Aliado",r.Create(t.aliado)),k.newDoc("Calculo",r.Create(t.calculo)),k.newDoc("FormaRegistro",r.Create(u.formaDoc)),k.newDoc("FormaDatos",r.Create(v.formaDoc)),k.newDoc("FormaContactos",r.Create(w.formaDoc)),k.newDoc("FormaFormasPago",r.Create(x.formaDoc)),k.newDoc("contentDoc",r.Create(e.getContentDoc)),k.newDoc("ReporteConsolidado",r.Create(y.consolidado)),k.newDoc("TablaPagos",r.Create(z.comisiones)),k.newDoc("ListaDocs",r.Create(A.listaDocs)),k.newDoc("FormaAutorizacion",r.Create(B.formaAutorizacion))],[k.newAct("Logout",function(){e.logout();}),k.newAct("LogIn",function(){e.login();}),k.newAct("enviarInvitaciones",function(){e.enviarCorreosInvitacion();}),k.newAct("gotoInfluencer",function(){e.gotoInfluencer();})],[]));H.addLayout((ek=(el=self.document.getElementById("GlobalLayout"),G.Equals(el,null)?"\r\n                            menuEditor layout\r\n                            |          main\r\n            \r\n                            main div \"\"\r\n                            :                 template  header     \"id=header\"           brand  brandV   logout \"@{Prozper.Logout}\" afiliado \"@{Prozper.aliado}\"\r\n                            :                 Doc       Prozper.contentDoc\r\n                            :                 template  sidedrawer \"id=sidedrawer\"       brand  brandV   idaliado \"@{Prozper.idAliado}\" \r\n                            :                 template  footer     \"id=footer\"           brand  brandV   madeby \"CIPHER Bsc\" madebylink \"www.cipherbsc.com\"\r\n             \r\n                            mainContent          template  content    \"id=content-wrapper\"  content aliados                  fecha \"@{Prozper.mesActual} @{Prozper.anoActual}\" idaliado \"@{Prozper.aliado}\"\r\n                            cntFormaRegistro     template  content    \"id=content-wrapper\"  content Prozper.FormaRegistro    titulo \"Referido por: @{Prozper.aliado}\"  \r\n                            cntFormaDatos        template  content    \"id=content-wrapper\"  content Prozper.FormaDatos       titulo \" \"\r\n                            cntFormaContactos    template  content    \"id=content-wrapper\"  content Prozper.FormaContactos   titulo \" \" \r\n                            cntFormaFormasPago   template  content    \"id=content-wrapper\"  content Prozper.FormaFormasPago  titulo \" \" \r\n                            cntFormaCuentas      template  content    \"id=content-wrapper\"  content ProzperLyt.FormaCuentas  titulo \" \"  \r\n                            cntFormaDocumentos   template  content    \"id=content-wrapper\"  content Prozper.FormaDocumentos  titulo \" \"  \r\n                            cntFormaNoUser       template  content    \"id=content-wrapper\"  content botonLogin               titulo \" \"  \r\n                            cntFormaInvitaciones template  content    \"id=content-wrapper\"  content invitaciones             titulo \" \"  \r\n            \r\n                            aliados          div       \"class=row\"\r\n                            :                div       \"class=mui-col-md-6\"\r\n                            ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" Prozper.Aliados\r\n                            :                div       \"class=mui-col-md-6\"\r\n                            ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" Aliado Comisiones\r\n                            brandV           Var       \"Prozper\"\r\n            \r\n                            botonLogin       div       \"class=row\"\r\n                            :                div       \"class=mui-col-md-6\"\r\n                            ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" \r\n                            :::              button    Prozper.LogIn \"class=mui-btn mui-btn--primary\" \"Ingresar al Sistema\"\r\n            \r\n                            invitaciones     div       \"class=row\"\r\n                            :                div       \"class=mui-col-md-6 mui-col-md-offset-1\"\r\n                            ::               div       \"class=mui-panel mui--z5 scrollbar; max-height:550px ; overflow:auto\" \r\n                            :::              h1        \"\" \"Enviar Invitaciones\"\r\n                            :::              textarea  Prozper.invitaciones  \"width:100% ; height:30rem; placeholder=Copie aqui las direcciones de correo electronico\" \r\n                            :                div       \"white-space: pre-wrap\" \"@{Prozper.emailsInvitar}\"\r\n                            :                button    Prozper.enviarInvitaciones \"class=mui-btn mui-btn--raised mui-btn--primary;@{Prozper.invitacionesDisabled}\" \"Enviar\"\r\n            \r\n                            Aliado           div       \"class=mui-col-md-8\"\r\n                            :                Doc Prozper.Aliado\r\n            \r\n                            Comisiones       template    tablacomisiones \"class=mui-col-md-3\"  tbody filasComisiones\r\n                            filasComisiones  concat      \"\"\r\n                            :                template    filacomision    \"\"  periodo \"Ene 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Feb 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Mar 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Abr 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"May 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Jun 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Jul 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Ago 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Sep 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Oct 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Nov 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Dec 2018\" comision \"$1,000\"\r\n                    \r\n                            menuEditorx      horizontal  65          menuLogo                  editorMessages\r\n                            double           horizontal  0-50-100    AppFramework.AppFwkClient menuEditor\r\n                            menuLogo         vertical    350         logo                      menu\r\n                            logo             span       \"margin:0;   color:gray; font-size: 55px; font-weight:530\" \"StackOverflow\"\r\n                            editorMessages   horizontal  10-83-100   editorButtons             messages\r\n                            messages         vertical    0-50-100    messagesLeft              messagesRight\r\n                            editorButtons    vertical    150 buttons snippetsSnippet \r\n                            snippetsSnippet  vertical    0-20-100    snippets                  editorProperties\r\n                            snippets         horizontal  20          \"@{FSharpStation.CurrentPath}\" tblDimensions2\r\n                            editorProperties vertical    0-100-100   snippet                   properties\r\n                            properties       div        \"\"           FSharpStation.Properties\r\n                            snippet          horizontal  35          Name                      FSharpStation.editor\r\n                            menu             span       \"display: grid; grid-template-columns: 30% 20% 20% 10%; grid-gap: 25px; margin:5px; grid-template-rows:50px\" inpServer btnLoad btnSaveAs\r\n                             \r\n                            severalTabs      wcomp-tabstrip  \"\" \r\n                            :                div \"tabname=Dimensions\" \r\n                            ::               div \"\" btnAddDimension RuleEditor.Dimensions\r\n                            :                div \"tabname=Cubes\"\r\n                            :                div \"tabname=Global Definitions\" RuleEditor.globalDefs\r\n                    \r\n                            btnSaveAs        button RuleEditor.SaveAs         \"class=btn @{RuleEditor.SaveNeeded}\" \"Save as...    \"\r\n                            btnAddDimension  button RuleEditor.AddDimension      \"\"                  \"new dim...\"\r\n                            btnDeleteSnippet button FSharpStation.RemoveSnippet  \"\"                  \"Delete Snippet\"\r\n                            btnIndentIn      button FSharpStation.IndentIn       \"\"                  \"Indent In  >> \"\r\n                            btnIndentOut     button FSharpStation.IndentOut      \"\"                  \"Indent Out << \"\r\n                            btnRunFS         button FSharpStation.RunFS          \"\"                  \"Run F#        \"\r\n                            btnAbortFsi      button FSharpStation.AbortFsi       \"\"                  \"Abort Fsi     \"\r\n                    \r\n                            messagesLeft     wcomp-tabstrip                      \"\"                  Output FsCode\r\n                            messagesRight    wcomp-tabstrip                      \"\"                  Parser\r\n                    \r\n                            buttons          div \"overflow: hidden; display: grid; grid-template-columns: 100%; grid-template-rows: repeat(15, calc(100% / 15)); bxackground-color: #eee; box-sizing: border-box; padding : 5px; grid-gap: 5px; margin-right: 21px\"\r\n                            :                button RuleEditor.AddCalculation    \"\"                 \"Add Calculation\"\r\n                            :                button RuleEditor.AddTotal          \"\"                 \"Add Total\"\r\n                            :                Doc       none x\r\n                            :                button RuleEditor.IndentIn          \"\"                  \"Indent In  >> \"\r\n                            :                button RuleEditor.IndentOut         \"\"                  \"Indent Out << \"\r\n                    \r\n                            Output           textarea  RuleEditor.Output         \"tabname=Output ; placeholder=Output messages ; spellcheck=false\" \r\n                            FsCode           textarea  RuleEditor.CodeFS         \"tabname=F# Code; placeholder=F# Code         ; spellcheck=false\" \r\n                            Parser           textarea  RuleEditor.Parser         \"tabname=Parser ; placeholder=Parser messages; dblclick=@{FSharpStation.JumpTo} ; spellcheck=false\" \r\n                            Name             Doc       InputLabel                \"\"     \"Name:\"        FSharpStation.SnippetName\r\n                            inpServer        Doc       InputLabel                \"\"     \"Server:\"      RuleEditor.Server\r\n                            btnLoad          Doc       InputFile                 \"\"     \"Load File...\" RuleEditor.LoadFile  FileName\r\n                            btnImport        Doc       InputFile                 \"\"     \"Import...\"    FSharpStation.Import    \"\"\r\n                            FileName         div                                 \"class=form-control\"  RuleEditor.fileName\r\n            \r\n                       ":el.textContent),H.newLyt(e.layoutName(),ek)));em=(en=null,(eo=e.layoutName(),en==null?eo:en.$0));k.mainDocV().Set(em);W.BindView(function(ev){var ew,ex,ey;return G.Equals(ev.id,L.empty().id)?(ew=R.Make(),(ex=S.CompleteHoles(ew.k,ew.h,[]),(ey=new P.New(ex[1],T.opcionesadministrador(ex[0])),(ew.i=ey,ey)))).get_Doc():W.get_Empty();},m.aliadoW());ep=(eq=(er=e.getDocView(e.layoutName(),"headerCenter"),(es=e.getMenuDoc(),(et=e.getContentDoc(),R.Make().WithHole({$:0,$0:"maincontent",$1:et})).WithHole({$:0,$0:"menu",$1:es})).WithHole({$:0,$0:"headercenter",$1:er})),eq.WithHole(S.EventQ2(eq.k,"logout",function(){return eq.i;},function(){e.logout();}))).WithHole({$:2,$0:"cortina",$1:p.Map(function(ev){return ev>0?"mui-overlay":"not-mui-overlay";},X.llamadas().get_View())});eu=S.CompleteHoles(ep.k,ep.h,[]);ep.i=new P.New(eu[1],cS.RunFullDocTemplate(eu[0]));p.Sink(function(ev){self.document.title=ev;},ec.get_View());};e.appName=function(){_2.$cctor();return _2.appName;};e.influencerV=function(){_2.$cctor();return _2.influencerV;};e.influencerClassW=function(){_2.$cctor();return _2.influencerClassW;};e.getContentDoc=function(){return W.EmbedView(p.Map(function(ec){return e.getDoc(e.appName(),ec);},m.contentVar().get_View()));};e.logout=function(){bF.logout();};e.login=function(){bF.logout();};e.enviarCorreosInvitacion=function(){var ec;X.iterA((ec=bl.asyncResult(),ec.Run(ec.Delay(function(){return bG["AsyncResultBuilder.Bind"](ec,p.GetAsync(m.emailsInvitarW()),function(ed){return bG["AsyncResultBuilder.Bind"](ec,p.GetAsync(p.Map(function(ee){return ee.id.get_Id();},m.aliadoW())),function(){var ee;ee=Q.filter(function(ef){return bf.Trim(ef)!=="";},bf.SplitChars(ed,["\n"],0));return ec.Bind$1(X.enviarCorreosInvitacion("Invitacion a Prozper",ee),function(){var ef;ef=Q.length(ee);return ef===0?(a.alert("Ningun correo valido ha sido encontrado"),ec.Zero()):ef===1?(a.alert("Invitacion ha sido enviada"),ec.Zero()):(a.alert("Invitaciones han sido enviadas"),ec.Zero());});});});}))));};e.gotoInfluencer=function(){var ec;cE.Start((ec=null,cE.Delay(function(){return cE.Bind(X.obtenerIdInfluyente(e.influencerV().Get()),function(ed){return ed.$==0?(self.location.href="/Register/"+e.influencerV().Get(),cE.Zero()):(self.alert("Código inválido:"+e.influencerV().Get()),cE.Zero());});})),null);};e.layoutName=function(){_2.$cctor();return _2.layoutName;};e.getMenuDoc=function(){return W.EmbedView(p.Map2(function(ec,ed){var ee;ee=ec!=null&&ec.$==1?G.Equals(ed.id,L.empty().id)?"ProzperLyt.mnuAdministrador":"ProzperLyt.mnuUsuario":"ProzperLyt.mnuNoUsuario";return e.getDoc(e.appName(),ee);},bF.userO().get_View(),m.aliadoW()));};e.getDocView=function(ec,ed){return H.turnToView(function(){return e.getDoc(ec,ed);});};e.mesToString=function(ec){return ec===1?"Ene":ec===2?"Feb":ec===3?"Mar":ec===4?"Abr":ec===5?"May":ec===6?"Jun":ec===7?"Jul":ec===8?"Ago":ec===9?"Sep":ec===10?"Oct":ec===11?"Nov":ec===12?"Dic":"---";};e.getDoc=function(ec,ed){var ee,ef,eg;ee=(ef=(eg=((H.splitName())(ec))(ed),k.tryGetDoc(eg[0],eg[1])),ef==null?null:{$:1,$0:H.getDocFinal(cu.Empty,ef.$0)});return ee==null?H.errDoc((function(eh){return function(ei){return eh("Doc not found "+bt.toSafe(ei));};}(a.id))(ed)):ee.$0;};g=f.Obj=d6.Class({Equals:function(ec){return this===ec;},GetHashCode:function(){return -1;}},null,g);g.New=d6.Ctor(function(){},g);i=h.Var$1=d6.Class({},g,i);i.Create$1=function(ec){return new _0.New(false,_1.New({$:2,$0:ec,$1:[]}),ec);};i.Lens=function(ec,ed,ee){var ef,eg,eh;ef=bV.Id();eg=p.Map(ed,ec.get_View());eh=new q({Get:function(){return ed(ec.Get());},Set:function(ei){return ec.Update(function(ej){return ee(ej,ei);});},SetFinal:function(ei){return this.Set(ei);},Update:function(ei){return ec.Update(function(ej){return ee(ej,ei(ed(ej)));});},UpdateMaybe:function(ei){return ec.UpdateMaybe(function(ej){var ek;ek=ei(ed(ej));return ek==null?null:{$:1,$0:ee(ej,ek.$0)};});},get_View:function(){return eg;},get_Id:function(){return ef;}});q.New.call(eh);return eh;};i.Set=function(ec,ed){ec.Set(ed);};k.addPlugIn=function(ec){k.plugIns().Append(ec);k.mainDocV().Set(k.mainDocV().Get());};k.newVar=function(ec,ed){return _4.New(ec,ed);};k.newViw=function(ec,ed){return _5.New(ec,ed);};k.newDoc=function(ec,ed){return _6.New(ec,{$:0,$0:ed});};k.newAct=function(ec,ed){return bE.New(ec,{$:0,$0:ed},p.Const(true));};k.mainDocV=function(){bJ.$cctor();return bJ.mainDocV;};k.plugIns=function(){bJ.$cctor();return bJ.plugIns;};k.newDocF=function(ec,ed){return _6.New(ec,ed);};k.tryGetDoc=function(ec,ed){var ee;ee=k.tryGetPlugIn(ec);return ee==null?null:Q.tryFind(function(ef){return ef.docName===ed;},ee.$0.plgDocs);};k.tryGetAct=function(ec,ed){var ee;ee=k.tryGetPlugIn(ec);return ee==null?null:Q.tryFind(function(ef){return ef.actName===ed;},ee.$0.plgActions);};k.callFunction=function(ec,ed,ee){if(ee.$==1)ee.$0(ec);else if(ee.$==2)(ee.$0(ec))(ed);else ee.$0();};k.tryGetVar=function(ec,ed){var ee;ee=k.tryGetPlugIn(ec);return ee==null?null:Q.tryFind(function(ef){return ef.varName===ed;},ee.$0.plgVars);};k.selectionPlugInO=function(){bJ.$cctor();return bJ.selectionPlugInO;};k.defaultPlugIn=function(){bJ.$cctor();return bJ.defaultPlugIn;};k.currentPlugInW=function(){bJ.$cctor();return bJ.currentPlugInW;};k.renderPlugIns=function(){return W.Flatten(k.plugIns().MapLens(function(ec){var ed,ee,ef,eg;return(ed=(ee=R.Make().WithHole({$:1,$0:"name",$1:ec}),ee.WithHole(S.EventQ2(ee.k,"select",function(){return ee.i;},function(){k.selectionPlugInO().Set({$:1,$0:ec});}))).WithHole({$:2,$0:"selected",$1:p.Map(function(eh){return G.Equals(eh,{$:1,$0:ec})?"selected":"";},k.selectionPlugInO().get_View())}),(ef=S.CompleteHoles(ed.k,ed.h,[]),(eg=new P.New(ef[1],cI.tile(ef[0])),(ed.i=eg,eg)))).get_Doc();}));};k.renderVars=function(){function ec(ee,ef){return[ee.plgName,ef.varName];}function ed(ee,ef){var eg,eh,ei;return(eg=R.Make().WithHole({$:1,$0:"name",$1:ef.varName}).WithHole({$:8,$0:"value",$1:ef.varVar}),(eh=S.CompleteHoles(eg.k,eg.h,[["value",0]]),(ei=new P.New(eh[1],cI.namevalueinput(eh[0])),(eg.i=ei,ei)))).get_Doc();}return W.ConvertBy(function(ee){return ec(ee[0],ee[1]);},function(ee){return ed(ee[0],ee[1]);},p.Map(function(ee){return _.map(function(ef){return[ee,ef];},ee.plgVars);},k.currentPlugInW()));};k.renderViews=function(){function ec(ee,ef){return[ee.plgName,ef.viwName];}function ed(ee,ef){var eg,eh,ei;return(eg=R.Make().WithHole({$:1,$0:"name",$1:ef.viwName}).WithHole({$:2,$0:"value",$1:ef.viwView}),(eh=S.CompleteHoles(eg.k,eg.h,[]),(ei=new P.New(eh[1],cI.namevalue(eh[0])),(eg.i=ei,ei)))).get_Doc();}return W.ConvertBy(function(ee){return ec(ee[0],ee[1]);},function(ee){return ed(ee[0],ee[1]);},p.Map(function(ee){return _.map(function(ef){return[ee,ef];},ee.plgViews);},k.currentPlugInW()));};k.renderDocs=function(){function ec(ee,ef){return[ee.plgName,ef.docName];}function ed(ee,ef){var eg,eh,ei,ej,ek,el,em,en,eo,ep,eq;return(eg=(eh=(ei=ef.docName+(ej=ef.docDoc,ej.$==1?(ek=bf.concat(", ",bv.ofArray([ej.$1])),(function(er){return function(es){return er("("+bt.toSafe(es)+")");};}(a.id))(ek)):ej.$==2?(el=bf.concat(", ",bv.ofArray([ej.$1,ej.$2])),(function(er){return function(es){return er("("+bt.toSafe(es)+")");};}(a.id))(el)):ej.$==3?(em=bf.concat(", ",bv.ofArray([ej.$1,ej.$2,ej.$3])),(function(er){return function(es){return er("("+bt.toSafe(es)+")");};}(a.id))(em)):ej.$==4?(en=bf.concat(", ",bv.ofArray([ej.$1,ej.$2,ej.$3,ej.$4])),(function(er){return function(es){return er("("+bt.toSafe(es)+")");};}(a.id))(en)):ej.$==5?(eo=bf.concat(", ",bv.ofArray([ej.$1,ej.$2,ej.$3,ej.$4,ej.$5])),(function(er){return function(es){return er("("+bt.toSafe(es)+")");};}(a.id))(eo)):""),R.Make().WithHole({$:1,$0:"name",$1:ei})),eh.WithHole(S.EventQ2(eh.k,"select",function(){return eh.i;},function(){p.Get(function(er){k.mainDocV().Set(er.plgName+"."+ef.docName);},k.currentPlugInW());}))),(ep=S.CompleteHoles(eg.k,eg.h,[]),(eq=new P.New(ep[1],cI.tile(ep[0])),(eg.i=eq,eq)))).get_Doc();}return W.ConvertBy(function(ee){return ec(ee[0],ee[1]);},function(ee){return ed(ee[0],ee[1]);},p.Map(function(ee){return _.map(function(ef){return[ee,ef];},ee.plgDocs);},k.currentPlugInW()));};k.renderActions=function(){function ec(ee,ef){return[ee.plgName,ef.actName];}function ed(ee,ef){var eg,eh,ei,ej;eg=(eh=ef.actFunction,eh.$==1?(ei=bf.concat(", ",bv.ofArray([eh.$1])),(function(ek){return function(el){return ek("("+bt.toSafe(el)+")");};}(a.id))(ei)):eh.$==2?(ej=bf.concat(", ",bv.ofArray([eh.$1,eh.$2])),(function(ek){return function(el){return ek("("+bt.toSafe(el)+")");};}(a.id))(ej)):"");return W.EmbedView(p.Map(function(ek){var el,em,en,eo,ep,eq,er,es;return ek?(el=(em=R.Make().WithHole({$:1,$0:"name",$1:ef.actName+eg}),em.WithHole(S.EventQ2(em.k,"click",function(){return em.i;},function(et){k.callFunction(et,null,ef.actFunction);}))),(en=S.CompleteHoles(el.k,el.h,[]),(eo=new P.New(en[1],cI.action(en[0])),(el.i=eo,eo)))).get_Doc():(ep=(eq=R.Make().WithHole({$:1,$0:"name",$1:ef.actName}),eq.WithHole(S.EventQ2(eq.k,"click",function(){return eq.i;},function(et){k.callFunction(et,null,ef.actFunction);}))),(er=S.CompleteHoles(ep.k,ep.h,[]),(es=new P.New(er[1],cI.actiondisabled(er[0])),(ep.i=es,es)))).get_Doc();},ef.actEnabled));}return W.ConvertBy(function(ee){return ec(ee[0],ee[1]);},function(ee){return ed(ee[0],ee[1]);},p.Map(function(ee){return _.map(function(ef){return[ee,ef];},ee.plgActions);},k.currentPlugInW()));};k.renderQueries=function(){function ec(ee,ef){return[ee.plgName,ef.qryName];}function ed(ee,ef){var eg,eh,ei,ej;return(eg=(eh=R.Make().WithHole({$:1,$0:"name",$1:ef.qryName}),eh.WithHole(S.EventQ2(eh.k,"select",function(){return eh.i;},function(){a.alert(ef.qryFunction(null));}))),(ei=S.CompleteHoles(eg.k,eg.h,[]),(ej=new P.New(ei[1],cI.tile(ei[0])),(eg.i=ej,ej)))).get_Doc();}return W.ConvertBy(function(ee){return ec(ee[0],ee[1]);},function(ee){return ed(ee[0],ee[1]);},p.Map(function(ee){return _.map(function(ef){return[ee,ef];},ee.plgQueries);},k.currentPlugInW()));};k.newQry=function(ec,ed){return cp.New(ec,ed);};k.AppFwkClient=function(){bJ.$cctor();return bJ.AppFwkClient;};k.actHello=function(){bJ.$cctor();return bJ.actHello;};k.qryDocs=function(){bJ.$cctor();return bJ.qryDocs;};k.horizontal=function(ec,ed,ee,ef,eg){var eh,ei,ej,ek;return(eh=(ei=R.Make().WithHole({$:2,$0:"partsizes",$1:ec}).WithHole({$:7,$0:"afterrender",$1:ed}).WithHole({$:7,$0:"afterrendersp",$1:ee}),ei.WithHole(S.EventQ2(ei.k,"mousedown",function(){return ei.i;},function(el){ef(el.Event);}))).WithHole({$:2,$0:"gap",$1:eg}),(ej=S.CompleteHoles(eh.k,eh.h,[]),(ek=new P.New(ej[1],cI.wcompsplitterhor(ej[0])),(eh.i=ek,ek)))).get_Doc();};k.vertical=function(ec,ed,ee,ef,eg){var eh,ei,ej,ek;return(eh=(ei=R.Make().WithHole({$:2,$0:"partsizes",$1:ec}).WithHole({$:7,$0:"afterrender",$1:ed}).WithHole({$:7,$0:"afterrendersp",$1:ee}),ei.WithHole(S.EventQ2(ei.k,"mousedown",function(){return ei.i;},function(el){ef(el.Event);}))).WithHole({$:2,$0:"gap",$1:eg}),(ej=S.CompleteHoles(eh.k,eh.h,[]),(ek=new P.New(ej[1],cI.wcompsplitterver(ej[0])),(eh.i=ek,ek)))).get_Doc();};k.mainDoc=function(){var ec,ed,ee,ef,eg,eh;return(ec=(ed=k.getMainClientDoc(),(ee=(ef=k.mainDocV().get_View(),R.Make().WithHole({$:2,$0:"maindoc",$1:ef})),ee.WithHole(S.EventQ2(ee.k,"goclient",function(){return ee.i;},function(){k.mainDocV().Set("AppFramework.AppFwkClient");}))).WithHole({$:0,$0:"mainclient",$1:ed})),(eg=S.CompleteHoles(ec.k,ec.h,[]),(eh=new P.New(eg[1],cI.appframework(eg[0])),(ec.i=eh,eh)))).get_Doc();};k.splitName=function(ec){function ed(ef){return b1.splitByChar(".",ef);}function ee(ef){return Q.length(ef)===1?[ec,Q.get(ef,0)]:[Q.get(ef,0),Q.get(ef,1)];}return function(ef){return ee(ed(ef));};};k.tryGetPlugIn=function(ec){return k.plugIns().TryFindByKey(ec);};k.newActF=function(ec,ed){return bE.New(ec,ed,p.Const(true));};k.tryGetViw=function(ec,ed){var ee;ee=k.tryGetPlugIn(ec);return ee==null?null:Q.tryFind(function(ef){return ef.viwName===ed;},ee.$0.plgViews);};k.tryGetWoW=function(ec,ed){var ee,ef,eg;ee=(ef=k.tryGetViw(ec,ed),ef==null?null:{$:1,$0:{$:1,$0:ef.$0.viwView}});return ee==null?(eg=k.tryGetVar(ec,ed),eg==null?null:{$:1,$0:eg.$0.varVar.get_View()}):ee.$0;};k.getMainClientDoc=function(){var ec;return W.EmbedView((ec=k.plugIns().v,p.Map2(function(ed,ee){var ef,eg;ef=_.tryPick(function(eh){var ei;ei=_.tryFind(function(ej){return eh.plgName===ed||eh.plgName+"."+ej.docName===ed;},eh.plgDocs);return ei==null?null:{$:1,$0:k.getLazyDoc(ei.$0)};},ee);eg=k.AppFwkClient().f();return ef==null?eg:ef.$0;},k.mainDocV().get_View(),ec)));};k.tryGetVoV=function(ec,ed){var ee,ef,eg;ee=(ef=k.tryGetVar(ec,ed),ef==null?null:{$:1,$0:{$:1,$0:ef.$0.varVar}});return ee==null?(eg=k.tryGetViw(ec,ed),eg==null?null:{$:1,$0:new cC.New(eg.$0.viwView,a.ignore)}):ee.$0;};k.getLazyDoc=function(ec){var ed;ed=ec.docDoc;return ed.$==0?ed.$0.f():W.Element("div",[],[W.TextNode((function(ee){return function(ef){return ee("Doc with parameters not allowed here: "+cH.p(ef));};}(a.id))(ec))]);};l.New=function(ec,ed,ee,ef,eg,eh){return{plgName:ec,plgVars:ed,plgViews:ee,plgDocs:ef,plgActions:eg,plgQueries:eh};};m.contentVar=function(){_2.$cctor();return _2.contentVar;};m.invitacionesV=function(){_2.$cctor();return _2.invitacionesV;};m.emailsInvitarW=function(){_2.$cctor();return _2.emailsInvitarW;};m.invitacionesDisabledW=function(){_2.$cctor();return _2.invitacionesDisabledW;};m.endPointV=function(){_2.$cctor();return _2.endPointV;};m.aliadoW=function(){_2.$cctor();return _2.aliadoW;};m.modeloV=function(){_2.$cctor();return _2.modeloV;};m.selAliadoIdOV=function(){_2.$cctor();return _2.selAliadoIdOV;};m.money=function(ec){return"$"+m.separate(a.String(ec),cu.Empty);};m.selAliadoIdDoc=function(ec){var ed;return W.BindView(a.id,(ed=p.get_Do(),p.Bind(function(ee){return p.Bind(function(ef){var eg,eh;eg=ef==null?null:(eh=ef.$0,_.tryFind(function(ei){return G.Equals(ei.id,eh);},ee.aliados));return p.Const(eg!=null&&eg.$==1?ec(p.Const(eg.$0)):W.get_Empty());},m.selAliadoIdOV().get_View());},m.modeloV().get_View())));};m.aliadoIdDoc=function(ec){var ed;return W.BindView(a.id,(ed=p.get_Do(),p.Bind(function(ee){var ef,eg;ef=ee.idAliado;eg=_.tryFind(function(eh){return G.Equals(eh.id,ef);},ee.aliados);return p.Const(eg!=null&&eg.$==1?ec(p.Const(eg.$0)):W.get_Empty());},m.modeloV().get_View())));};m.separate=function(ec,ed){var ee;while(true)if(ec==="")return(function(ef){return function(eg){return bf.concat(ef,eg);};}(","))(ed);else{ee=ec;ec=$["String.Left$1"](ee,-3);ed=new cu({$:1,$0:$["String.Right$1"](ee,3),$1:ed});}};n.get_LoggedId=function(){var ec,ed;return new Y({$:0,$0:(ec=(ed=bF.userO().Get(),ed==null?null:{$:1,$0:ed.$0.idToken.oid}),ec==null?"":ec.$0)});};m.formasPagoAliadoV=function(){_2.$cctor();return _2.formasPagoAliadoV;};o.FailWith=function(ec){throw new dD(ec);};o.toInt=function(ec){var ed;ed=o.toUInt(ec);return ed>=2147483648?ed-4294967296:ed;};o.range=function(ec,ed){var ee;ee=1+ed-ec;return ee<=0?[]:_.init(ee,function(ef){return ef+ec;});};o.toUInt=function(ec){return(ec<0?d7.ceil(ec):d7.floor(ec))>>>0;};o.KeyValue=function(ec){return[ec.K,ec.V];};p.Map=function(ec,ed){return p.CreateLazy(function(){return _1.Map(ec,ed());});};p.Sink=function(ec,ed){function ee(){_1.WhenRun(ed(),ec,function(){cE.scheduler().Fork(ee);});}cE.scheduler().Fork(ee);};p.CreateLazy=function(ec){var ed;ed={c:null,o:ec};return function(){var ee,ef;ee=ed.c;return ee===null?(ee=ed.o(),ed.c=ee,(ef=ee.s,ef!=null&&ef.$==0)?ed.o=null:_1.WhenObsoleteRun(ee,function(){ed.c=null;}),ee):ee;};};p.Map2=function(ec,ed,ee){return p.CreateLazy(function(){return _1.Map2(ec,ed(),ee());});};p.Apply=function(ec,ed){return p.Map2(function(ee,ef){return ee(ef);},ec,ed);};p.Map3=function(ec,ed,ee,ef){return p.CreateLazy(function(){return _1.Map3(ec,ed(),ee(),ef());});};p.MapAsync=function(ec,ed){return p.CreateLazy(function(){return _1.MapAsync(ec,ed());});};p.GetAsync=function(ec){return cE.FromContinuations(function(ed){return p.Get(ed,ec);});};p.TryGet=function(ec){return _1.TryGet(ec());};p.Const=function(ec){var ed;ed=_1.New({$:0,$0:ec});return function(){return ed;};};p.get_Do=function(){return cl.B;};p.Get=function(ec,ed){var ee;function ef(){_1.WhenRun(ed(),function(eg){if(!ee[0]){ee[0]=true;ec(eg);}},function(){if(!ee[0])ef();});}ee=[false];ef();};p.Bind=function(ec,ed){return p.Join(p.Map(ec,ed));};p.MapSeqCachedViewBy=function(ec,ed,ee){var ef;ef=[new bQ.New$5()];return p.Map(function(eg){var eh,ei,ej;eh=ef[0];ei=new bQ.New$5();ej=cD.mapInPlace(function(ek){var el,em,en;el=ec(ek);em=eh.ContainsKey(el)?(en=eh.get_Item(el),(i.Set(en.r,ek),en)):p.ConvertSeqNode(function(eo){return ed(el,eo);},ek);ei.set_Item(el,em);return em.e;},Q.ofSeq(eg));ef[0]=ei;return ej;},ee);};p.Map2Unit=function(ec,ed){return p.CreateLazy(function(){return _1.Map2Unit(ec(),ed());});};p.Join=function(ec){return p.CreateLazy(function(){return _1.Join(ec());});};p.ConvertSeqNode=function(ec,ed){var ee,ef;ee=i.Create$1(ed);ef=ee.get_View();return{e:ec(ef),r:ee,w:ef};};p.MapSeqCachedBy=function(ec,ed,ee){var ef;ef=[new bQ.New$5()];return p.Map(function(eg){var eh,ei,ej;eh=ef[0];ei=new bQ.New$5();ej=cD.mapInPlace(function(ek){var el,em;el=ec(ek);em=eh.ContainsKey(el)?eh.get_Item(el):ed(ek);ei.set_Item(el,em);return em;},Q.ofSeq(eg));ef[0]=ei;return ej;},ee);};p.Sequence=function(ec){return p.CreateLazy(function(){return _1.Sequence(_.map(function(ed){return ed();},ec));});};q=h.Var=d6.Class({},g,q);q.New=d6.Ctor(function(){g.New.call(this);},q);r.Create=function(ec){return _9.New(false,ec,r.forceLazy);};r.forceLazy=function(){var ec;ec=this.v();this.c=true;this.v=ec;this.f=r.cachedLazy;return ec;};r.cachedLazy=function(){return this.v;};r.CreateFromValue=function(ec){return _9.New(true,ec,r.cachedLazy);};s.aliados=function(){var ec,ed,ee,ef,eg,eh,ei;function ej(es){var et,eu;et=(eu=ed.Get(),eu==null?null:{$:1,$0:eu.$0(es)});return et==null?[]:et.$0;}function ek(es){return es.nReferidos===0?"-":(((d6.Curried3(function(et,eu,ev){return et(a.String(eu)+"/"+a.String(ev));}))(a.id))(es.nRefActivos))(es.nReferidos);}function el(es){return es.nDescendientes===0?"-":(((d6.Curried3(function(et,eu,ev){return et(a.String(eu)+"/"+a.String(ev));}))(a.id))(es.nDescActivos))(es.nDescendientes);}function em(es){return es===0?"-":m.money(es);}function en(es){return p.Map(function(et){return _.isEmpty(ej(es))?"":G.Equals(et==null?null:{$:1,$0:et.$0.Contains(es)},{$:1,$0:true})?"Expandido":"Colapsado";},ec.get_View());}function eo(es){var et,eu,ev;ec.Set({$:1,$0:((G.Equals((et=ec.Get(),et==null?null:{$:1,$0:et.$0.Contains(es)}),{$:1,$0:true})?function(ew){return function(ex){return ex.Remove(ew);};}:function(ew){return function(ex){return ex.Add(ew);};})(es))((eu=ec.Get(),(ev=new bd.New$1(null),eu==null?ev:eu.$0)))});}function ep(es){m.selAliadoIdOV().Set({$:1,$0:es});}function eq(es){var et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eM,eN;function eG(eO){return eO.comision;}function eH(eO){return eO.status;}function eI(eO){return[eO.nRefActivos,eO.nReferidos];}function eJ(eO){return[eO.nDescActivos,eO.nDescendientes];}function eK(eO){return L.nombre(eO.datosPersonales);}function eL(eO){return _.delay(function(){return _.append([eO],_.delay(function(){var eP,eQ;return(eP=(eQ=ec.Get(),eQ==null?null:{$:1,$0:eQ.$0.Contains(eO.id)}),eP==null?false:eP.$0)?_.collect(eL,eN.hijos(eO)):[];}));});}eM=(et=(eu=(ev=(ew=(ex=(d6.Curried3(ba.desc))(eG),ey=(d6.Curried3(ba.asc))(eH),d6.Curried(ba.op_AmpGreater,2,[function(eO,eP){return(ex(eO))(eP);},function(eO,eP){return(ey(eO))(eP);}])),ez=(d6.Curried3(ba.desc))(eI),d6.Curried(ba.op_AmpGreater,2,[function(eO,eP){return(ew(eO))(eP);},function(eO,eP){return(ez(eO))(eP);}])),eA=(d6.Curried3(ba.desc))(eJ),d6.Curried(ba.op_AmpGreater,2,[function(eO,eP){return(ev(eO))(eP);},function(eO,eP){return(eA(eO))(eP);}])),eB=(d6.Curried3(ba.asc))(eK),d6.Curried(ba.op_AmpGreater,2,[function(eO,eP){return(eu(eO))(eP);},function(eO,eP){return(eB(eO))(eP);}])),_.sortWith(function(eO,eP){return(et(eO))(eP);},es));eN=L.busqueda(eM);ed.Set({$:1,$0:eN.hijosDe});try{eD=_.min(_.map(function(eO){return eO.nivel;},eM));}catch(eO){eD=1;}eE=_.filter(function(eP){return eP.nivel===eD;},eM);_.isEmpty(eE)?ec.Set(null):ec.Get()==null?(ec.Set({$:1,$0:new bd.New(_.map(function(eP){return eP.id;},eE))}),eF=_.tryHead(_.map(function(eP){return eP.id;},eE)),eF==null?void 0:ep(eF.$0)):void 0;return _.delay(function(){return _.collect(eL,eE);});}function er(es,et){var eu,ev,ew,ex,ey,ez;return(eu=(ev=(ew=(ex=en(es),R.Make().WithHole({$:2,$0:"nombre",$1:p.Map(function(eA){return L.nombre(eA.datosPersonales);},et)}).WithHole({$:2,$0:"status",$1:p.Map(function(eA){return(function(eB){return function(eC){return eB(U.p$1(eC));};}(a.id))(eA.status);},et)}).WithHole({$:2,$0:"tipo",$1:p.Map(function(eA){return(function(eB){return function(eC){return eB(U.p$2(eC));};}(a.id))(eA.tipo);},et)}).WithHole({$:2,$0:"nivel",$1:p.Map(function(eA){return a.String(eA.nivel);},et)}).WithHole({$:2,$0:"referidos",$1:p.Map(ek,et)}).WithHole({$:2,$0:"descendientes",$1:p.Map(el,et)}).WithHole({$:2,$0:"comision",$1:p.Map(function(eA){return em(eA.comision);},et)}).WithHole({$:2,$0:"expandido",$1:ex})),ew.WithHole(S.EventQ2(ew.k,"expandir",function(){return ew.i;},function(){eo(es);}))).WithHole({$:2,$0:"seleccionado",$1:p.Map(function(eA){return G.Equals({$:1,$0:es},eA)?"seleccionado":"";},m.selAliadoIdOV().get_View())}),ev.WithHole(S.EventQ2(ev.k,"seleccionar",function(){return ev.i;},function(){ep(es);}))),(ey=S.CompleteHoles(eu.k,eu.h,[]),(ez=new P.New(ey[1],T.filaaliado(ey[0])),(eu.i=ez,ez)))).get_Doc();}ec=i.Create$1(null);ed=i.Create$1(null);return(ee=(ef=W.ConvertSeqBy(function(es){return es.id;},function(es){return function(et){return er(es,et);};},(eg=p.Map(function(es){return es.aliados;},m.modeloV().get_View()),p.Map2(function(es,et){return eq(et);},ec.get_View(),eg))),R.Make().WithHole({$:0,$0:"tbody",$1:ef})),(eh=S.CompleteHoles(ee.k,ee.h,[]),(ei=new P.New(eh[1],T.tablaaliados(eh[0])),(ee.i=ei,ei)))).get_Doc();};t.aliado=function(){function ec(ed){var ee;ee=_.tryPick(function(ef){return ef.$==1?{$:1,$0:ef.$0.email}:null;},ed.contactos);return ee==null?"correo no encontrado!":ee.$0;}return m.selAliadoIdDoc(function(ed){var ee,ef,eg,eh;return(ee=(ef=t.calculo(),R.Make().WithHole({$:2,$0:"nombre",$1:p.Map(function(ei){return L.nombre2(ei.datosPersonales);},ed)}).WithHole({$:2,$0:"status",$1:p.Map(function(ei){return(function(ej){return function(ek){return ej(U.p$1(ek));};}(a.id))(ei.status);},ed)}).WithHole({$:2,$0:"tipo",$1:p.Map(function(ei){return(function(ej){return function(ek){return ej(U.p$2(ek));};}(a.id))(ei.tipo);},ed)}).WithHole({$:2,$0:"contacto",$1:p.Map(ec,ed)}).WithHole({$:0,$0:"calculo",$1:ef})),(eg=S.CompleteHoles(ee.k,ee.h,[]),(eh=new P.New(eg[1],T.aliado(eg[0])),(ee.i=eh,eh)))).get_Doc();});};t.calculo=function(){var ec,ed;ec=p.Map(function(ee){return ee.premisas;},m.modeloV().get_View());ed=p.Map(function(ee){return ee.aliados;},m.modeloV().get_View());p.Map2(function(ee,ef){return _.tryFind(function(eg){return G.Equals(eg.id,ee);},ef);},p.Map(function(ee){return ee.idAliado;},m.modeloV().get_View()),ed);return m.selAliadoIdDoc(function(ee){var ef,eg,eh,ei,ej;ef=p.Map2(L.comision,ec,ee);eg=p.Map2(L.premisas,ec,ee);return(eh=R.Make().WithHole({$:2,$0:"referidos",$1:p.Map(function(ek){return(function(el){return function(em){return el(a.String(em));};}(a.id))(ek.nReferidos);},ee)}).WithHole({$:2,$0:"refactivos",$1:p.Map(function(ek){return(function(el){return function(em){return el(a.String(em));};}(a.id))(ek.nRefActivos);},ee)}).WithHole({$:2,$0:"comreferido",$1:p.Map(function(ek){return(function(el){return function(em){return el(a.String(em));};}(a.id))(ek.nRefActivos);},ee)}).WithHole({$:2,$0:"descendientes",$1:p.Map(function(ek){return(function(el){return function(em){return el(a.String(em));};}(a.id))(ek.nDescendientes);},ee)}).WithHole({$:2,$0:"desactivos",$1:p.Map(function(ek){return(function(el){return function(em){return el(a.String(em));};}(a.id))(ek.nDescActivos);},ee)}).WithHole({$:2,$0:"comision",$1:p.Map(function(ek){return m.money(ek[0]+ek[1]);},ef)}).WithHole({$:2,$0:"comreferido",$1:p.Map(function(ek){return m.money(ek[0]);},ef)}).WithHole({$:2,$0:"comdescendiente",$1:p.Map(function(ek){return m.money(ek[1]);},ef)}).WithHole({$:2,$0:"porreferido",$1:p.Map(function(ek){return m.money(ek[0]);},eg)}).WithHole({$:2,$0:"pordescendiente",$1:p.Map(function(ek){return m.money(ek[1]);},eg)}),(ei=S.CompleteHoles(eh.k,eh.h,[]),(ej=new P.New(ei[1],T.calculo(ei[0])),(eh.i=ej,ej)))).get_Doc();});};u.formaDoc=function(){var ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq;ec=i.Create$1("");ed=i.Create$1(false);ee=i.Create$1(null);ef=i.Create$1(null);eg=i.Create$1(null);eh=i.Create$1(null);ei=bh.formaDoc(ee);ej=bi.formaDoc(ef);ek=bj.formaDoc(eg);el=bk.formaDoc(eh);em=(en=(eo=R.Make().WithHole({$:2,$0:"mensajes",$1:p.Map2(function(er,es){return er?es:"";},ed.get_View(),ec.get_View())}).WithHole({$:0,$0:"datospersonales",$1:ei[1]}).WithHole({$:0,$0:"correo",$1:ej[1]}).WithHole({$:0,$0:"telefono",$1:ek[1]}).WithHole({$:0,$0:"direccion",$1:el[1]}),eo.WithHole(S.EventQ2(eo.k,"registrarse",function(){return eo.i;},function(){var er,es,et,eu,ev,ew,ex,ey,ez,eA,eB;ed.Set(true);er=ec.Get();bf.Trim(er)!==""?a.alert(er):(es=ee.Get(),et=ef.Get(),eu=eg.Get(),ev=eh.Get(),es!=null&&es.$==1&&(et!=null&&et.$==1&&(eu!=null&&eu.$==1&&(ev!=null&&ev.$==1&&(ew=[et.$0,es.$0,ev.$0,eu.$0],true))))?(ex=ew[0],ey=ew[1],ez=ew[2],eA=ew[3],X.iterA((eB=bl.asyncResult(),eB.Run(eB.Delay(function(){var eC;return eB.Bind$1(X.ejecutarDataEventoNuevo({$:3,$0:[new Y({$:0,$0:bf.Substring(bf.Replace((eC=bp.NewGuid(),a.String(eC)),"-",""),0,20)}),ey,{$:1,$0:m.modeloV().Get().idAliado},[{$:1,$0:ex},{$:2,$0:eA},{$:0,$0:ez}]]}),function(eD){bn.refrescarData(true);a.alert((function(eE){return function(eF){return eE(U.p$12(eF));};}(a.id))(eD));return eB.Zero();});}))))):a.alert("Error not caught FormaRegistro"));}))),(ep=S.CompleteHoles(en.k,en.h,[]),(eq=new P.New(ep[1],T.formaregistro(ep[0])),(en.i=eq,eq))));p.Sink(function(er){ec.Set(er);},p.Apply(p.Apply(p.Map2(function(er,es){return function(et){return function(eu){var ev;ev=bf.concat(", ",_.delay(function(){return _.append(er,_.delay(function(){return _.append(es,_.delay(function(){return _.append(et,_.delay(function(){return eu;}));}));}));}));return ev!==""?"Campos requeridos: "+ev:"";};};},ei[0],ej[0]),ek[0]),el[0]));return em.get_Doc();};v.formaDoc=function(){return m.aliadoIdDoc(v.formaAliado);};v.formaAliado=function(ec){var ed,ee,ef,eg,eh,ei,ej,ek,el;function em(eo){return{$:1,$0:eo};}function en(eo){ef.Set(eo);}ed=i.Create$1("");ee=i.Create$1(false);ef=i.Create$1(null);p.Sink(function(eo){return en(em(eo));},p.Map(function(eo){return eo.datosPersonales;},ec));eg=bh.formaDoc(ef);eh=(ei=(ej=R.Make().WithHole({$:2,$0:"mensajes",$1:p.Map2(function(eo,ep){return eo?ep:"";},ee.get_View(),ed.get_View())}).WithHole({$:2,$0:"changed",$1:p.Map2(function(eo,ep){return G.Equals({$:1,$0:eo.datosPersonales},ep)?"":"mui-btn--primary";},ec,ef.get_View())}).WithHole({$:0,$0:"datospersonales",$1:eg[1]}),ej.WithHole(S.EventQ2(ej.k,"salvar",function(){return ej.i;},function(){var eo,ep,eq,er,es,et,eu;ee.Set(true);eo=ed.Get();bf.Trim(eo)!==""?a.alert(eo):(ep=ef.Get(),eq=p.TryGet(ec),ep!=null&&ep.$==1&&(eq!=null&&eq.$==1&&(er=[eq.$0,ep.$0],true))?(es=er[0],et=er[1],X.iterA((eu=bl.asyncResult(),eu.Run(eu.Delay(function(){return eu.Bind$1(X.ejecutarDataEventoNuevo({$:4,$0:[es.id,et]}),function(ev){bn.refrescarData(true);a.alert((function(ew){return function(ex){return ew(U.p$12(ex));};}(a.id))(ev));return eu.Zero();});}))))):a.alert("Error not caught FormaDatos"));}))),(ek=S.CompleteHoles(ei.k,ei.h,[]),(el=new P.New(ek[1],T.formadatospersonales(ek[0])),(ei.i=el,el))));p.Sink(function(eo){ed.Set(eo);},p.Map(function(eo){var ep;ep=bf.concat(", ",_.delay(function(){return eo;}));return ep!==""?"Campos requeridos: "+ep:"";},eg[0]));return eh.get_Doc();};w.formaDoc=function(){return m.aliadoIdDoc(w.formaContactos);};w.formaContactos=function(ec){var ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew;function ex(ey,ez){return function(eA){return new cC.New(p.Map(function(eB){var eC;eC=_.tryItem(eA,eB);return eC==null?null:ey(eC.$0);},ef.get_View()),function(eB){if(eB!=null&&eB.$==1)ef.Set(cw.replace(eA,ez(eB.$0),ef.Get()));});};}ed=i.Create$1("");ee=i.Create$1(false);ef=i.Create$1([]);p.Sink(function(ey){ef.Set(ey);},p.Map(function(ey){return ey.contactos;},ec));eg=p.Map(_.indexed,ef.get_View());eh=[function(ey){return ey.$==2?{$:1,$0:ey.$0}:null;},function(ey){return{$:2,$0:ey};}];ei=[function(ey){return ey.$==1?{$:1,$0:ey.$0}:null;},function(ey){return{$:1,$0:ey};}];ej=[function(ey){return ey.$==0?{$:1,$0:ey.$0}:null;},function(ey){return{$:0,$0:ey};}];ek=p.Map(function(ey){function ez(eA,eB){return eh[0](eB)==null?null:{$:1,$0:eA};}return _.choose(function(eA){return ez(eA[0],eA[1]);},ey);},eg);el=p.Map(function(ey){function ez(eA,eB){return ei[0](eB)==null?null:{$:1,$0:eA};}return _.choose(function(eA){return ez(eA[0],eA[1]);},ey);},eg);em=p.Map(function(ey){function ez(eA,eB){return ej[0](eB)==null?null:{$:1,$0:eA};}return _.choose(function(eA){return ez(eA[0],eA[1]);},ey);},eg);en=W.ConvertBy(a.id,function(ey){return br.removeButton(function(){ef.Set(cw.remove(ey,ef.Get()));},(bj.formaDoc((function(ez){return ex(ez[0],ez[1]);}(eh))(ey)))[1]);},ek);eo=W.ConvertBy(a.id,function(ey){return br.removeButton(function(){ef.Set(cw.remove(ey,ef.Get()));},(bi.formaDoc((function(ez){return ex(ez[0],ez[1]);}(ei))(ey)))[1]);},el);ep=W.ConvertBy(a.id,function(ey){return br.removeButton(function(){ef.Set(cw.remove(ey,ef.Get()));},(bk.formaDoc((function(ez){return ex(ez[0],ez[1]);}(ej))(ey)))[1]);},em);return(eq=(er=(es=(et=(eu=R.Make().WithHole({$:2,$0:"mensajes",$1:p.Map2(function(ey,ez){return ey?ez:"";},ee.get_View(),ed.get_View())}).WithHole({$:2,$0:"changed",$1:p.Map2(function(ey,ez){return G.Equals(ey.contactos,ez)?"":"mui-btn--primary";},ec,ef.get_View())}).WithHole({$:0,$0:"telefonos",$1:en}).WithHole({$:0,$0:"correos",$1:eo}).WithHole({$:0,$0:"direcciones",$1:ep}),eu.WithHole(S.EventQ2(eu.k,"mastelefono",function(){return eu.i;},function(){ef.Set(ef.Get().concat([{$:2,$0:J.telVacio()}]));}))),et.WithHole(S.EventQ2(et.k,"mascorreo",function(){return et.i;},function(){ef.Set(ef.Get().concat([{$:1,$0:J.correoVacio()}]));}))),es.WithHole(S.EventQ2(es.k,"masdireccion",function(){return es.i;},function(){ef.Set(ef.Get().concat([{$:0,$0:J.dirVacio()}]));}))),er.WithHole(S.EventQ2(er.k,"salvar",function(){return er.i;},function(){var ey,ez,eA,eB;ee.Set(true);ey=ed.Get();bf.Trim(ey)!==""?a.alert(ey):(ez=p.TryGet(ec),ez!=null&&ez.$==1?(eA=ez.$0,X.iterA((eB=bl.asyncResult(),eB.Run(eB.Delay(function(){return eB.Bind$1(X.ejecutarDataEventoNuevo({$:5,$0:[eA.id,ef.Get()]}),function(eC){bn.refrescarData(true);a.alert((function(eD){return function(eE){return eD(U.p$12(eE));};}(a.id))(eC));return eB.Zero();});}))))):a.alert("Error not caught FormaDatos"));}))),(ev=S.CompleteHoles(eq.k,eq.h,[]),(ew=new P.New(ev[1],T.formacontactos(ev[0])),(eq.i=ew,ew)))).get_Doc();};x.formaDoc=function(){return m.aliadoIdDoc(x.formaFormasPago);};x.formaFormasPago=function(ec){var ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq;function er(ew,ex){return function(ey){return new cC.New(p.Map(function(ez){var eA;eA=_.tryItem(ey,ez);return eA==null?null:ew(eA.$0);},ef.get_View()),function(ez){var eA;if(ez!=null&&ez.$==1){eA=ez.$0;ef.Set(cw.replace(ey,(ex(Q.get(ef.Get(),ey)))(br.fst3(eA[0],eA[1],eA[2])),ef.Get()));}});};}function es(ew){var ex;X.iterA((ex=bl.asyncResult(),ex.Run(ex.Delay(function(){return ex.Bind(ew.authorizeIdR,function(ey){return ex.Bind$1(X.validarFormaPago(ey),function(ez){a.alert(ez);return ex.Zero();});});}))));}function et(ew,ex){return br.removeButton(function(){ef.Set(cw.remove(ew,ef.Get()));},W.Concat(bv.ofSeq(_.delay(function(){return _.append([W.Button("AUTORIZAR DEBITO",[cP.Create("title","Autorizar pago recurrente"),cG.Dynamic("style",p.Map(function(ey){return Q.get(ey,ew).authorizeIdR.$==0?"":"display:None";},ef.get_View()))],function(){var ey,ez,eA,eB;ez=Q.get(ef.Get(),ew).authorizeIdR;eA=Q.get(ef.Get(),ew).cuentaPago;switch(ez.$==0?eA.$==0?(ey=[ez.$0,eA.$0.titular],1):eA.$==1?(ey=[ez.$0,eA.$0.titular],1):2:(ey=ez.$0,0)){case 0:a.alert("Pago no está verificado en Authorize: "+ey);break;case 1:eB=ex();B.cuentaAutorizar().Set(eB);B.titular().Set(ey[1]);B.set_pid(ey[0]);m.endPointV().Set({$:3,$0:"ProzperLyt.cntAutorizacion"});break;case 2:a.alert("Autorizacion no esta implementada");break;}})],_.delay(function(){return _.append([W.Element("br",[],[])],_.delay(function(){return _.append([ex()],_.delay(function(){return[W.Button("validar",[cP.Create("title","validar forma de pago"),cG.Dynamic("style",p.Map(function(ey){return Q.get(ey,ew).authorizeIdR.$==0?"":"display:None";},ef.get_View()))],function(){es(Q.get(ef.Get(),ew));})];}));}));}));}))));}function eu(ew){return bz.New("",$.Error$1(""),ew);}function ev(ew){return new bd.New(_.choose(function(ex){var ey;ey=ex.authorizeIdR;return ey.$==0?{$:1,$0:ey.$0}:null;},ew));}ed=i.Create$1("");ee=i.Create$1(false);ef=i.Create$1([]);p.Sink(function(ew){ef.Set(ew);},m.formasPagoAliadoV().get_View());x.refrescarFormasPago();eg=p.Map(_.indexed,ef.get_View());eh=p.Map(function(ew){function ex(ey,ez){return(x.ftar())[0](ez)==null?null:{$:1,$0:ey};}return _.choose(function(ey){return ex(ey[0],ey[1]);},ew);},eg);ei=p.Map(function(ew){function ex(ey,ez){return(x.fcta())[0](ez)==null?null:{$:1,$0:ey};}return _.choose(function(ey){return ex(ey[0],ey[1]);},ew);},eg);ej=W.ConvertBy(a.id,function(ew){var ex;return et(ew,(ex=(function(ey){return er(ey[0],ey[1]);}(x.ftar()))(ew),function(){return(cA.formaDocO(ex))[1];}));},eh);ek=W.ConvertBy(a.id,function(ew){var ex;return et(ew,(ex=(function(ey){return er(ey[0],ey[1]);}(x.fcta()))(ew),function(){return(cz.formaDocO(ex))[1];}));},ei);return(el=(em=(en=(eo=R.Make().WithHole({$:2,$0:"mensajes",$1:p.Map2(function(ew,ex){return ew?ex:"";},ee.get_View(),ed.get_View())}).WithHole({$:0,$0:"tarjetas",$1:ej}).WithHole({$:0,$0:"cuentas",$1:ek}),eo.WithHole(S.EventQ2(eo.k,"mastarjeta",function(){return eo.i;},function(){ef.Set(ef.Get().concat([eu({$:1,$0:J.tarVacio()})]));}))),en.WithHole(S.EventQ2(en.k,"mascuenta",function(){return en.i;},function(){ef.Set(ef.Get().concat([eu({$:0,$0:J.ctaVacio()})]));}))).WithHole({$:2,$0:"changed",$1:p.Map2(function(ew,ex){return G.Equals(ew,ex)?"":"mui-btn--primary";},m.formasPagoAliadoV().get_View(),ef.get_View())}),em.WithHole(S.EventQ2(em.k,"salvar",function(){return em.i;},function(){var ew,ex,ey;ee.Set(true);ew=ed.Get();bf.Trim(ew)!==""?a.alert(ew):(ex=p.TryGet(ec),ex!=null&&ex.$==1?X.iterA((ey=bl.asyncResult(),ey.Run(ey.Delay(function(){return ey.Combine$1(ey.For(bd.op_Subtraction(ev(m.formasPagoAliadoV().Get()),ev(ef.Get())),function(ez){return ey.Bind$1(X.borrarFormaPago(ez),function(){return ey.Zero();});}),ey.Delay(function(){return ey.Combine$1(ey.For(ef.Get(),function(ez){var eA,eB,eC,eD;eA=(eB=ez.cuentaPago,eB.$==1&&(!(eB.$0.numero.get_Id().indexOf("X")!=-1)&&(eC=eB.$0,true))?{$:1,$0:X.registrarTarjeta(eC)}:eB.$==0&&(!(eB.$0.numero.get_Id().indexOf("X")!=-1)&&(eD=eB.$0,true))?{$:1,$0:X.registrarCuenta(eD)}:null);return eA!=null&&eA.$==1?ey.Bind$1(eA.$0,function(){return ey.Zero();}):ey.Zero();}),ey.Delay(function(){x.refrescarFormasPago();return ey.Zero();}));}));})))):a.alert("Error not caught FormaDatos"));}))),(ep=S.CompleteHoles(el.k,el.h,[]),(eq=new P.New(ep[1],T.formacuentas(ep[0])),(el.i=eq,eq)))).get_Doc();};x.msg=function(ec){var ed;ed=ec.authorizeIdR;return ed.$==0?(function(ee){return function(ef){return ee("Cuenta verificada: "+U.p$13(ef));};}(a.id))(ed.$0):ed.$0===""?"La cuenta aun no ha sido verificada":ed.$0;};x.refrescarFormasPago=function(){X.iterA(bC.map(function(ec){m.formasPagoAliadoV().Set(ec);},X.obtenerFormasDePago()));};x.fcta=function(){_2.$cctor();return _2.fcta;};x.ftar=function(){_2.$cctor();return _2.ftar;};y.consolidado=function(){var ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex;function ey(eN){return eN.nReferidos===0?"-":(((d6.Curried3(function(eO,eP,eQ){return eO(a.String(eP)+"/"+a.String(eQ));}))(a.id))(eN.nRefActivos))(eN.nReferidos);}function ez(eN){return eN.nDescendientes===0?"-":(((d6.Curried3(function(eO,eP,eQ){return eO(a.String(eP)+"/"+a.String(eQ));}))(a.id))(eN.nDescActivos))(eN.nDescendientes);}function eA(eN){return eN===0?"-":m.money(eN);}function eB(eN){var eO,eP,eQ;eO=(eP=eN==null?null:(eQ=eN.$0,_.tryFind(function(eR){return G.Equals(eR.id,eQ);},m.modeloV().Get().aliados)),eP==null?null:{$:1,$0:L.nombre(eP.$0.datosPersonales)});return eO==null?"-":eO.$0;}function eC(eN){var eO;return bq.New(L.nombre(eN.datosPersonales),(function(eP){return function(eQ){return eP(U.p$1(eQ));};}(a.id))(eN.status),(eO=eN.influyente,eO==null?"":eO.$0),(function(eP){return function(eQ){return eP(U.p$2(eQ));};}(a.id))(eN.tipo),eB(eN.idPadreO),(function(eP){return function(eQ){return eP(bf.PadLeft(a.String(eQ),9));};}(a.id))(eN.nivel),(function(eP){return function(eQ){return eP(bf.PadLeft(bt.toSafe(eQ),9));};}(a.id))(ey(eN)),(function(eP){return function(eQ){return eP(bf.PadLeft(bt.toSafe(eQ),9));};}(a.id))(ez(eN)),(function(eP){return function(eQ){return eP(bf.PadLeft(bt.toSafe(eQ),9));};}(a.id))(eA(eN.comision)),$["String.Right$1"]((function(eP){return function(eQ){return eP(U.p$14(eQ));};}(a.id))(eN.diaPago),2),bu.toYYYYMMDD("-",eN.fechaRegistro),(function(eP){return function(eQ){return eP(bt.toSafe(eQ));};}(a.id))(eN.id.get_Id()));}function eD(eN){return[eN.nombre,eN.status,eN.influyente,eN.tipo,eN.referido,eN.nivel,eN.referidos,eN.descendientes,eN.comision,eN.diaPago,eN.desde,eN.Id];}function eE(eN,eO,eP){return function(eQ){var eR;eR=eQ[0];return[eR===eN?1:eR<eN?eR+1:eR,eN===eR&&eN===1?!eQ[1]:eQ[1],eQ[2]];};}function eF(eN){ed.Set(bq.New((function(eO){return eE(eO[0],eO[1],eO[2]);}(eN))(ed.Get().nombre),(function(eO){return eE(eO[0],eO[1],eO[2]);}(eN))(ed.Get().status),(function(eO){return eE(eO[0],eO[1],eO[2]);}(eN))(ed.Get().influyente),(function(eO){return eE(eO[0],eO[1],eO[2]);}(eN))(ed.Get().tipo),(function(eO){return eE(eO[0],eO[1],eO[2]);}(eN))(ed.Get().referido),(function(eO){return eE(eO[0],eO[1],eO[2]);}(eN))(ed.Get().nivel),(function(eO){return eE(eO[0],eO[1],eO[2]);}(eN))(ed.Get().referidos),(function(eO){return eE(eO[0],eO[1],eO[2]);}(eN))(ed.Get().descendientes),(function(eO){return eE(eO[0],eO[1],eO[2]);}(eN))(ed.Get().comision),(function(eO){return eE(eO[0],eO[1],eO[2]);}(eN))(ed.Get().diaPago),(function(eO){return eE(eO[0],eO[1],eO[2]);}(eN))(ed.Get().desde),(function(eO){return eE(eO[0],eO[1],eO[2]);}(eN))(ed.Get().Id)));}function eG(eN,eO){return ec.Set(Q.map(function(eP){return G.Equals(eP.id,eN)?eO(eP):eP;},ec.Get()));}function eH(eN,eO){return eG(eN,function(eP){return K.New(eP.id,eP.idPadreO,eP.idForAuthorize,eP.influyente,eP.datosPersonales,eP.contactos,eP.identificacion,eP.isInternal,bs.tryParse(eO),eP.diaPago,eP.tipo,eP.fechaRegistro,eP.fechaStatus,eP.nReferidos,eP.nRefActivos,eP.nDescendientes,eP.nDescActivos,eP.comision,eP.nivel);});}function eI(eN,eO){return eG(eN,function(eP){return K.New(eP.id,eP.idPadreO,eP.idForAuthorize,bf.Trim(eO)===""?null:{$:1,$0:bf.Trim(eO)},eP.datosPersonales,eP.contactos,eP.identificacion,eP.isInternal,eP.status,eP.diaPago,eP.tipo,eP.fechaRegistro,eP.fechaStatus,eP.nReferidos,eP.nRefActivos,eP.nDescendientes,eP.nDescActivos,eP.comision,eP.nivel);});}function eJ(eN,eO){var eP;eP=eO===""?null:{$:1,$0:new Y({$:0,$0:eO})};return eG(eN,function(eQ){return K.New(eQ.id,eP,eQ.idForAuthorize,eQ.influyente,eQ.datosPersonales,eQ.contactos,eQ.identificacion,eQ.isInternal,eQ.status,eQ.diaPago,eQ.tipo,eQ.fechaRegistro,eQ.fechaStatus,eQ.nReferidos,eQ.nRefActivos,eQ.nDescendientes,eQ.nDescActivos,eQ.comision,eQ.nivel);});}function eK(eN){return _.tryFind(function(eO){return G.Equals(eO.id,eN);},m.modeloV().Get().aliados);}function eL(){var eN;X.iterA((eN=bl.asyncResult(),eN.Run(eN.Delay(function(){return eN.Combine$1(eN.For(ec.Get(),function(eO){var eP,eQ;eP=eK(eO.id);return eP!=null&&eP.$==1?(eQ=eP.$0,!G.Equals(eO.status,eQ.status)||!G.Equals(eO.idPadreO,eQ.idPadreO)||!G.Equals(eO.influyente,eQ.influyente)?eN.Bind$1(X.ejecutarDataEventoNuevo({$:8,$0:[eO.id,eO.status,eO.idPadreO,eO.influyente]}),function(){return eN.Zero();}):eN.Zero()):eN.Zero();}),eN.Delay(function(){bn.refrescarData(true);return eN.Zero();}));}))));}function eM(eN,eO){var eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY;return(eP=(eQ=W.BindView(br.crearOptions,br.statuses().get_View()),(eR=new cC.New(p.Map(function(eZ){return eZ.influyente;},eO),(eS=new Y({$:0,$0:eN}),function(eZ){return eI(eS,eZ);})),(eT=new cC.New(p.Map(function(eZ){return eZ.status;},eO),(eU=new Y({$:0,$0:eN}),function(eZ){return eH(eU,eZ);})),(eV=new cC.New(p.Map(function(eZ){return eZ.referido;},eO),(eW=new Y({$:0,$0:eN}),function(eZ){return eJ(eW,eZ);})),R.Make().WithHole({$:2,$0:"nombre",$1:p.Map(function(eZ){return eZ.nombre;},eO)}).WithHole({$:2,$0:"tipo",$1:p.Map(function(eZ){return eZ.tipo;},eO)}).WithHole({$:8,$0:"referido",$1:eV})).WithHole({$:8,$0:"status",$1:eT})).WithHole({$:8,$0:"influyente",$1:eR})).WithHole({$:0,$0:"statuses",$1:eQ})).WithHole({$:2,$0:"nivel",$1:p.Map(function(eZ){return eZ.nivel;},eO)}).WithHole({$:2,$0:"referidos",$1:p.Map(function(eZ){return eZ.referidos;},eO)}).WithHole({$:2,$0:"descendientes",$1:p.Map(function(eZ){return eZ.descendientes;},eO)}).WithHole({$:2,$0:"comision",$1:p.Map(function(eZ){return eZ.comision;},eO)}).WithHole({$:2,$0:"diapago",$1:p.Map(function(eZ){return eZ.diaPago;},eO)}).WithHole({$:2,$0:"desde",$1:p.Map(function(eZ){return eZ.desde;},eO)}).WithHole({$:2,$0:"id",$1:p.Map(function(eZ){return eZ.Id;},eO)}),(eX=S.CompleteHoles(eP.k,eP.h,[["influyente",0],["status",0],["referido",0]]),(eY=new P.New(eX[1],T.filaconsolidado(eX[0])),(eP.i=eY,eY)))).get_Doc();}ec=i.Create$1([]);p.Sink(function(eN){ec.Set(eN);},p.Map(function(eN){return eN.aliados;},m.modeloV().get_View()));ed=i.Create$1(bq.New([2,true,function(eN){return eN.nombre.toUpperCase();}],[3,true,function(eN){return eN.status.toUpperCase();}],[4,false,function(eN){return eN.influyente.toUpperCase();}],[5,true,function(eN){return eN.tipo.toUpperCase();}],[6,true,function(eN){return eN.referido.toUpperCase();}],[7,true,function(eN){return eN.nivel.toUpperCase();}],[8,true,function(eN){return eN.referidos.toUpperCase();}],[1,false,function(eN){return eN.descendientes.toUpperCase();}],[9,true,function(eN){return eN.comision.toUpperCase();}],[10,true,function(eN){return eN.diaPago.toUpperCase();}],[11,true,function(eN){return eN.desde.toUpperCase();}],[12,true,function(eN){return eN.Id.toUpperCase();}]));ee=i.Create$1("");ef=W.BindView(function(eN){return br.crearOptions2(_.map(function(eO){return[L.nombre2(eO.datosPersonales),eO.id.get_Id()];},eN.aliados));},m.modeloV().get_View());return(eg=(eh=W.ConvertSeqBy(function(eN){return eN.Id;},function(eN){return function(eO){return eM(eN,eO);};},p.Map3(function(eN,eO,eP){var eQ,eR,eS;function eT(eW,eX,eY){return eY;}function eU(eW,eX,eY,eZ){return ba.op_AmpGreater(function(e0,e1){return(eW(e0))(e1);},function(e0,e1){return(eX(e0))(e1);},eY,eZ);}function eV(eW,eX,eY){return(eX?d6.Curried3(ba.asc):d6.Curried3(ba.desc))(eY);}eQ=bf.Trim(eP).toUpperCase();eR=Q.map(function(eW){return eT(eW[0],eW[1],eW[2]);},eD(eO));eS=Q.reduce(function(eW,eX){return d6.Curried(eU,2,[eW,eX]);},Q.map(function(eW){return eV(eW[0],eW[1],eW[2]);},Q.sortBy(function(eW){return a.id(eW[0],eW[1],eW[2]);},eD(eO))));return _.sortWith(function(eW,eX){return(eS(eW))(eX);},_.filter(function(eW){return eQ===""||_.exists(function(eX){return eX(eW).indexOf(eQ)!=-1;},eR);},_.map(eC,eN)));},p.Map(function(eN){return eN.aliados;},m.modeloV().get_View()),ed.get_View(),ee.get_View())),(ei=(ej=(ek=(el=(em=(en=(eo=(ep=(eq=(er=(es=(et=(eu=(ev=R.Make(),ev.WithHole(S.EventQ2(ev.k,"salvar",function(){return ev.i;},function(){eL();}))),eu.WithHole(S.EventQ2(eu.k,"cancelar",function(){return eu.i;},function(){ec.Set(m.modeloV().Get().aliados);}))).WithHole({$:2,$0:"changed",$1:p.Map2(function(eN,eO){return G.Equals(eN.aliados,eO)?"":"mui-btn--primary";},m.modeloV().get_View(),ec.get_View())}).WithHole({$:8,$0:"filtro",$1:ee}).WithHole({$:0,$0:"referidores",$1:ef}),et.WithHole(S.EventQ2(et.k,"sort_nombre",function(){return et.i;},function(){eF(ed.Get().nombre);}))),es.WithHole(S.EventQ2(es.k,"sort_status",function(){return es.i;},function(){eF(ed.Get().status);}))),er.WithHole(S.EventQ2(er.k,"sort_influyente",function(){return er.i;},function(){eF(ed.Get().influyente);}))),eq.WithHole(S.EventQ2(eq.k,"sort_tipo",function(){return eq.i;},function(){eF(ed.Get().tipo);}))),ep.WithHole(S.EventQ2(ep.k,"sort_referido",function(){return ep.i;},function(){eF(ed.Get().referido);}))),eo.WithHole(S.EventQ2(eo.k,"sort_nivel",function(){return eo.i;},function(){eF(ed.Get().nivel);}))),en.WithHole(S.EventQ2(en.k,"sort_referidos",function(){return en.i;},function(){eF(ed.Get().referidos);}))),em.WithHole(S.EventQ2(em.k,"sort_descendientes",function(){return em.i;},function(){eF(ed.Get().descendientes);}))),el.WithHole(S.EventQ2(el.k,"sort_comision",function(){return el.i;},function(){eF(ed.Get().comision);}))),ek.WithHole(S.EventQ2(ek.k,"sort_diapago",function(){return ek.i;},function(){eF(ed.Get().diaPago);}))),ej.WithHole(S.EventQ2(ej.k,"sort_desde",function(){return ej.i;},function(){eF(ed.Get().desde);}))),ei.WithHole(S.EventQ2(ei.k,"sort_id",function(){return ei.i;},function(){eF(ed.Get().Id);}))).WithHole({$:0,$0:"tbody",$1:eh})),(ew=S.CompleteHoles(eg.k,eg.h,[["filtro",0]]),(ex=new P.New(ew[1],T.consolidado(ew[0])),(eg.i=ex,ex)))).get_Doc();};z.comisiones=function(){var ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en;function eo(es,et){return et===""?es:et;}function ep(){var es;cE.Start((es=null,cE.Delay(function(){return cE.Bind(p.GetAsync(ec),function(et){a.saveAs(new cF([bf.concat("\r\n",_.map(function(eu){var ev,ew;ev=eu[0];ew=eu[1];return(((((((d6.Curried(function(ex,ey,ez,eA,eB,eC,eD){return ex(bt.toSafe(ey)+","+bt.toSafe(ez)+","+bt.toSafe(eA)+","+bt.toSafe(eB)+","+bt.prettyPrint(eC)+","+bt.prettyPrint(eD));},7))(a.id))("22"))(eo("----------",ew.numero.get_Id())))(eo("----------",ew.routing.get_Id())))((function(ex){return function(ey){return ex(a.String(ey)+".00");};}(a.id))(ev.comision)))("----------"))(ew.titular===""?L.nombre2(ev.datosPersonales):ew.titular);},et))],{type:"text/plain;charset=utf-8"}),"pagos.csv");return cE.Zero();});})),null);}function eq(es,et){return es.id;}function er(es,et){var eu,ev,ew,ex,ey;eu=p.Map(function(ez){return ez[0];},et);ev=p.Map(function(ez){return ez[1];},et);return(ew=R.Make().WithHole({$:1,$0:"codigo",$1:"22"}).WithHole({$:2,$0:"cuenta",$1:p.Map(function(ez){return eo("----------",ez.numero.get_Id());},ev)}).WithHole({$:2,$0:"aba",$1:p.Map(function(ez){return eo("----------",ez.routing.get_Id());},ev)}).WithHole({$:2,$0:"monto",$1:p.Map(function(ez){return(function(eA){return function(eB){return eA(a.String(eB)+".00");};}(a.id))(ez.comision);},eu)}).WithHole({$:1,$0:"identificacion",$1:"---------"}).WithHole({$:2,$0:"nombre",$1:p.Map2(function(ez,eA){return eo(L.nombre2(ez.datosPersonales),eA.titular);},eu,ev)}),(ex=S.CompleteHoles(ew.k,ew.h,[]),(ey=new P.New(ex[1],T.filapago(ex[0])),(ew.i=ey,ey)))).get_Doc();}ec=p.MapAsync(function(es){var et,eu,ev;function ew(ex){return cE.Return(ex);}return cE.Bind((et=bl.asyncResult(),et.Run(et.Delay(function(){var ex;ex=_.filter(function(ey){return ey.comision>0;},es);return et.Bind$1(X.obtenerFormasDePagoPara(Q.ofSeq(_.map(function(ey){return ey.id;},ex))),function(ey){function ez(eB,eC){return G.Equals(eB.id,eC[0])?{$:1,$0:[eB,eC[1]]}:null;}function eA(eB,eC){var eD,eE;return[eB,(eD=_.tryPick(function(eF){var eG;eG=eF.cuentaPago;return eG.$==0?{$:1,$0:eG.$0}:null;},eC),(eE=J.ctaVacio(),eD==null?eE:eD.$0))];}return et.Return(_.choose(function(eB){return ez(eB[0],eB[1]);},_.zip(ex,_.map(function(eB){return eA(eB[0],eB[1]);},ey))));});}))),(eu=(ev=[],function(ex){return bA.defaultValue(ev,ex);}),function(ex){return ew(eu(ex));}));},p.Map(function(es){return es.aliados;},m.modeloV().get_View()));return(ed=(ee=bv.ofArray([(ef=R.Make().WithHole({$:2,$0:"codigo",$1:p.Map(function(es){return(function(et){return function(eu){return et(a.String(eu));};}(a.id))(_.length(es));},ec)}).WithHole({$:1,$0:"cuenta",$1:""}).WithHole({$:1,$0:"aba",$1:""}).WithHole({$:2,$0:"monto",$1:p.Map(function(es){function et(eu,ev){return eu.comision;}return(function(eu){return function(ev){return eu(a.String(ev)+".00");};}(a.id))(_.sumBy(function(eu){return et(eu[0],eu[1]);},es));},ec)}).WithHole({$:1,$0:"identificacion",$1:""}).WithHole({$:1,$0:"nombre",$1:""}),(eg=S.CompleteHoles(ef.k,ef.h,[]),(eh=new P.New(eg[1],T.filapago(eg[0])),(ef.i=eh,eh)))).get_Doc(),(ei=R.Make().WithHole({$:1,$0:"codigo",$1:""}).WithHole({$:1,$0:"cuenta",$1:""}).WithHole({$:1,$0:"aba",$1:""}).WithHole({$:1,$0:"monto",$1:"--------------------"}).WithHole({$:1,$0:"identificacion",$1:""}).WithHole({$:1,$0:"nombre",$1:""}),(ej=S.CompleteHoles(ei.k,ei.h,[]),(ek=new P.New(ej[1],T.filapago(ej[0])),(ei.i=ek,ek)))).get_Doc(),W.ConvertSeqBy(function(es){return eq(es[0],es[1]);},function(es){return function(et){return er(es,et);};},ec)]),(el=R.Make(),el.WithHole(S.EventQ2(el.k,"exportar",function(){return el.i;},function(){ep();}))).WithHole({$:0,$0:"tbody",$1:W.Concat(ee)})),(em=S.CompleteHoles(ed.k,ed.h,[]),(en=new P.New(em[1],T.tablapagos(em[0])),(ed.i=en,en)))).get_Doc();};A.listaDocs=function(){var ec,ed,ee,ef,eg;function eh(ei,ej){var ek,el,em,en;return(ek=(el=p.Map(function(eo){return eo.id.get_Id();},m.aliadoW()),R.Make().WithHole({$:2,$0:"nombre",$1:ej}).WithHole({$:2,$0:"idaliado",$1:el})),(em=S.CompleteHoles(ek.k,ek.h,[]),(en=new P.New(em[1],T.filadocs(em[0])),(ek.i=en,en)))).get_Doc();}A.refrescarListaDocs();return(ec=(ed=(ee=W.ConvertSeqBy(a.id,function(ei){return function(ej){return eh(ei,ej);};},A.docsV().get_View()),R.Make().WithHole({$:0,$0:"tbody",$1:ee})),ed.WithHole(S.EventQ2(ed.k,"subir",function(){return ed.i;},function(ei){var ej;ej=p.TryGet(m.aliadoW());ej==null?void 0:A.subir(ei.Event,ej.$0.id.get_Id());}))),(ef=S.CompleteHoles(ec.k,ec.h,[]),(eg=new P.New(ef[1],T.subirdocumentos(ef[0])),(ec.i=eg,eg)))).get_Doc();};A.refrescarListaDocs=function(){X.iterA(bC.map(function(ec){A.docsV().Set(ec);},X.obtenerListaDocs()));};A.docsV=function(){_2.$cctor();return _2.docsV;};A.subir=function(ec,ed){var ee,ef,eg,eh,ei,ej,ek,el,em,en;ec.preventDefault();ei=a.jQuery("#SubirDocumentos");ej=new a.FormData();ek=ei.serializeArray();for(el=0,em=ek.length-1;el<=em;el++){en=Q.get(ek,el);ej.append(en.name,en.value);}ef=ei.children("input[type=file]").first().get(0).files.item(0);eg=ef.name;ej.append("file",ef);d8.ajax((eh={},eh.type="POST",eh.url="/api/subir/"+ed+"/"+eg,eh.data=ej,eh.contentType=false,eh.processData=false,eh.success=A.uploaded(),eh));};A.uploaded=function(){_2.$cctor();return _2.uploaded;};B.formaAutorizacion=function(){var ec,ed,ee,ef,eg,eh,ei,ej;function ek(el){return(new a.Date(el)).getFullYear()*10000+((new a.Date(el)).getMonth()+1)*100+(new a.Date(el)).getDate();}ec=i.Create$1("");ed=i.Create$1(false);ee=(ef=(eg=(eh=W.EmbedView(B.cuentaAutorizar().get_View()),R.Make().WithHole({$:2,$0:"afiliado",$1:B.titular().get_View()}).WithHole({$:2,$0:"montoafiliacion",$1:p.Map(function(el){return(function(em){return function(en){return em("$"+a.String(en)+".00");};}(a.id))(el.premisas.montoAfiliacion);},m.modeloV().get_View())}).WithHole({$:2,$0:"dia",$1:p.Map(function(el){return a.String(L.dia(el.diaPago));},m.aliadoW())}).WithHole({$:0,$0:"cuentadebitar",$1:eh})).WithHole({$:2,$0:"firmarclass",$1:p.Map(function(el){return el===""?"mui-btn--primary":"";},ec.get_View())}).WithHole({$:2,$0:"mensaje",$1:ec.get_View()}).WithHole({$:9,$0:"acepto",$1:i.Lens(ed,a.id,function(el,em){return em;})}),eg.WithHole(S.EventQ2(eg.k,"firmar",function(){return eg.i;},function(){var el,em;function en(eo){a.alert(eo);}if(ec.Get()!=="")a.alert(ec.Get());else{X.iterA((el=X.actualizarSubscripcion(B.pid()),bC.map((em=function(eo){return function(ep){return eo("Subscripción #"+bt.toSafe(ep)+" creada.");};}(a.id),function(eo){return en(em(eo));}),el)));}}))),(ei=S.CompleteHoles(ef.k,ef.h,[["titular",0],["fecha",0],["acepto",2]]),(ej=new P.New(ei[1],T.autorizacion(ei[0])),(ef.i=ej,ej))));p.Sink(function(el){ec.Set(el);},p.Apply(p.Apply(p.Map2(function(el,em){return function(en){return function(eo){var ep,eq;return bf.concat(", ",_.map(function(er){return er[1];},_.filter(function(er){return er[0];},bv.ofArray([[bf.Trim(el)!==em.toUpperCase(),"Nombre del titular en MAYUSCULAS debe coincidir"],[!G.Equals((ep=(bD.parseDateO$1())(en),ep==null?null:{$:1,$0:ek(ep.$0)}),{$:1,$0:ek((eq=d9.now(),cT.DatePortion(eq)))}),"Introduzca fecha de hoy"],[!eo,"Acepte los terminos indicados"]]))));};};},ee.Hole("titular").get_View(),B.titular().get_View()),ee.Hole("fecha").get_View()),ee.Hole("acepto").get_View()));return ee.get_Doc();};B.titular=function(){_2.$cctor();return _2.titular;};B.cuentaAutorizar=function(){_2.$cctor();return _2.cuentaAutorizar;};B.pid=function(){_2.$cctor();return _2.pid;};B.set_pid=function(ec){_2.$cctor();_2.pid=ec;};F.GetFields=function(ec){var ed,ee;ed=[];for(var ef in ec)ed.push([ef,ec[ef]]);return ed;};F.GetFieldValues=function(ec){var ed,ee;ed=[];for(var ef in ec)ed.push(ec[ef]);return ed;};G.Equals=function(ec,ed){var ee,ef,eg,eh;if(ec===ed)return true;else{ee=typeof ec;if(ee=="object"){if(ec===null||ec===void 0||ed===null||ed===void 0)return false;else if("Equals"in ec)return ec.Equals(ed);else if(ec instanceof a.Array&&ed instanceof a.Array)return G.arrayEquals(ec,ed);else if(ec instanceof d9&&ed instanceof d9)return G.dateEquals(ec,ed);else{ef=[true];for(var ei in ec)if(function(ej){ef[0]=!ec.hasOwnProperty(ej)||ed.hasOwnProperty(ej)&&G.Equals(ec[ej],ed[ej]);return!ef[0];}(ei))break;if(ef[0]){for(var ej in ed)if(function(ek){ef[0]=!ed.hasOwnProperty(ek)||ec.hasOwnProperty(ek);return!ef[0];}(ej))break;}return ef[0];}}else return ee=="function"&&("$Func"in ec?ec.$Func===ed.$Func&&ec.$Target===ed.$Target:"$Invokes"in ec&&"$Invokes"in ed&&G.arrayEquals(ec.$Invokes,ed.$Invokes));}};G.arrayEquals=function(ec,ed){var ee,ef;if(Q.length(ec)===Q.length(ed)){ee=true;ef=0;while(ee&&ef<Q.length(ec)){!G.Equals(Q.get(ec,ef),Q.get(ed,ef))?ee=false:void 0;ef=ef+1;}return ee;}else return false;};G.dateEquals=function(ec,ed){return ec.getTime()===ed.getTime();};G.Compare=function(ec,ed){var ee,ef,eg,eh,ei,ej;if(ec===ed)return 0;else{ef=typeof ec;switch(ef=="function"?1:ef=="boolean"?2:ef=="number"?2:ef=="string"?2:ef=="object"?3:0){case 0:return typeof ed=="undefined"?0:-1;case 1:return o.FailWith("Cannot compare function values.");case 2:return ec<ed?-1:1;case 3:if(ec===null)eg=-1;else if(ed===null)eg=1;else if("CompareTo"in ec)eg=ec.CompareTo(ed);else if("CompareTo0"in ec)eg=ec.CompareTo0(ed);else if(ec instanceof a.Array&&ed instanceof a.Array)eg=G.compareArrays(ec,ed);else if(ec instanceof d9&&ed instanceof d9)eg=G.compareDates(ec,ed);else{eh=[0];for(var ek in ec)if(function(el){return!ec.hasOwnProperty(el)?false:!ed.hasOwnProperty(el)?(eh[0]=1,true):(eh[0]=G.Compare(ec[el],ed[el]),eh[0]!==0);}(ek))break;if(eh[0]===0){for(var el in ed)if(function(em){return!ed.hasOwnProperty(em)?false:!ec.hasOwnProperty(em)&&(eh[0]=-1,true);}(el))break;}eg=eh[0];}return eg;}}};G.compareArrays=function(ec,ed){var ee,ef;if(Q.length(ec)<Q.length(ed))return -1;else if(Q.length(ec)>Q.length(ed))return 1;else{ee=0;ef=0;while(ee===0&&ef<Q.length(ec)){ee=G.Compare(Q.get(ec,ef),Q.get(ed,ef));ef=ef+1;}return ee;}};G.compareDates=function(ec,ed){return G.Compare(ec.getTime(),ed.getTime());};G.Hash=function(ec){var ed;ed=typeof ec;return ed=="function"?0:ed=="boolean"?ec?1:0:ed=="number"?ec:ed=="string"?G.hashString(ec):ed=="object"?ec==null?0:ec instanceof a.Array?G.hashArray(ec):G.hashObject(ec):0;};G.hashString=function(ec){var ed,ee,ef;if(ec===null)return 0;else{ed=5381;for(ee=0,ef=ec.length-1;ee<=ef;ee++)ed=G.hashMix(ed,ec[ee].charCodeAt());return ed;}};G.hashArray=function(ec){var ed,ee,ef;ed=-34948909;for(ee=0,ef=Q.length(ec)-1;ee<=ef;ee++)ed=G.hashMix(ed,G.Hash(Q.get(ec,ee)));return ed;};G.hashObject=function(ec){var ed,ee;if("GetHashCode"in ec)return ec.GetHashCode();else{ed=[0];for(var ef in ec)if(function(eg){ed[0]=G.hashMix(G.hashMix(ed[0],G.hashString(eg)),G.Hash(ec[eg]));return false;}(ef))break;return ed[0];}};G.hashMix=function(ec,ed){return(ec<<5)+ec+ed;};H.newLyt=function(ec,ed){return bI.New(ec,i.Create$1(ed));};H.addLayout=function(ec){p.Sink(function(ed){var ee;ee=H.createEntries(ec.lytName,ed);k.addPlugIn(l.New(ec.lytName,Q.ofSeq(_.delay(function(){return _.append([k.newVar("Layout",ec.lytDefinition)],_.delay(function(){return H.getVarEntries(ee);}));})),[],Q.ofSeq(_.delay(function(){return _.append(H.getDocEntries(ee),_.delay(function(){var ef;return _.append([k.newDocF("InputFile",{$:4,$0:(ef=ec.lytName,d6.Curried(H.inputFile,4,[ef])),$1:"attrs",$2:"Label",$3:"Action",$4:"[Doc]"})],_.delay(function(){var eg;return _.append([k.newDocF("InputLabel",{$:3,$0:(eg=ec.lytName,d6.Curried(H.inputLabel,3,[eg])),$1:"attrs",$2:"Label",$3:"Var"})],_.delay(function(){var eh;return _.append([k.newDocF("HtmlDoc",{$:1,$0:(eh=ec.lytName,function(ei){return H.htmlDoc(eh,ei);}),$1:"html"})],_.delay(function(){return[k.newDocF("none",{$:1,$0:H.none,$1:"x"})];}));}));}));}));})),[],[]));k.mainDocV().Set(k.mainDocV().Get());},ec.lytDefinition.get_View());};H.createEntries=function(ec,ed){return H.processLines(function(ee){return H.createEntryO(ec,ee);},b1.splitByChar("\n",ed));};H.getVarEntries=function(ec){function ed(ee){return ee[1];}return _.map(function(ee){return _.last(ed(ee));},_.groupBy(function(ee){return ee.varName;},_.choose(function(ee){return ee.$==0?{$:1,$0:ee.$0}:null;},ec)));};H.getDocEntries=function(ec){function ed(ee){return ee[1];}return _.map(function(ee){return _.last(ed(ee));},_.groupBy(function(ee){return ee.docName;},_.choose(function(ee){return ee.$==2?{$:1,$0:ee.$0}:null;},ec)));};H.inputFile=function(ec,ed,ee,ef,eg){var eh,ei,ej,ek;eh=(ei=(ej=((H.splitName())(ec))(ef),k.tryGetAct(ej[0],ej[1])),ei==null?null:{$:1,$0:(ek=ei.$0,W.Element("div",H.getAttrs(ec,ed,true),[W.Element("div",[cP.Create("class","input-group")],[W.Element("span",[cP.Create("class","input-group-btn")],[W.Element("label",[cP.Create("class","btn")],[H.getText(ec,ee,true),W.Element("input",[cP.Create("class","form-control"),cP.Create("type","file"),cG.Style("display","none"),cP.HandlerImpl("click",function(el){return function(){el.value="";};}),cP.HandlerImpl("change",function(el){return function(){return k.callFunction(el,null,ek.actFunction);};})],[])])]),eg!==""?H.singleDoc(ec,bv.ofArray([[eg,false]])):W.get_Empty()])]))});return eh==null?H.errDoc((function(el){return function(em){return el("Action not found "+bt.toSafe(em));};}(a.id))(ef)):eh.$0;};H.inputLabel=function(ec,ed,ee,ef){var eg,eh,ei;eg=(eh=(ei=((H.splitName())(ec))(ef),k.tryGetVar(ei[0],ei[1])),eh==null?null:{$:1,$0:W.Element("div",H.getAttrs(ec,ed,true),[W.Element("div",[cP.Create("class","input-group")],[W.Element("span",[cP.Create("class","input-group-addon")],[H.getText(ec,ee,true)]),W.Input([cP.Create("class","form-control")],eh.$0.varVar)])])});return eg==null?H.errDoc((function(ej){return function(ek){return ej("Var not found "+bt.toSafe(ek));};}(a.id))(ef)):eg.$0;};H.htmlDoc=function(ec,ed){var ee;ee=H.getTextData(ec,ed);return ee.$==1?W.BindView(W.Verbatim,ee.$0):ee.$==2?H.errDoc((function(ef){return function(eg){return ef("HtmlDoc: unexpected action "+cH.p$1(eg));};}(a.id))(ee.$0)):W.Verbatim(ee.$0);};H.none=function(ec){return W.Element("span",[],[]);};H.turnToView=function(ec){return W.EmbedView(p.Map(ec,k.mainDocV().get_View()));};H.splitName=function(){bJ.$cctor();return bJ.splitName;};H.getDocFinal=function(ec,ed){var ee;ee=H.getDocF(ec,ed);return ee[1].$==0?ee[0]:H.errDoc((((d6.Curried3(function(ef,eg,eh){return ef("Too many parameters "+cH.p(eg)+" "+bt.printList(function(ei){return"("+bt.prettyPrint(ei[0])+", "+bt.prettyPrint(ei[1])+")";},eh));}))(a.id))(ed))(ec));};H.errDoc=function(ec){return W.Element("div",[],[W.TextNode(ec)]);};H.processLines=function(ec,ed){function ee(ef){var eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et;eg=_.tryHead(ef);return eg!=null&&eg.$==1?(eh=eg.$0,(ei=H.splitTokens(eh),ei.$==1&&(ek=(el=ei.$0,H.Identifier(el[0],el[1])),ek!=null&&ek.$==1&&(ei.$1.$==1&&((em=ei.$1.$0,H.Vertical(em[0],em[1])).$==2&&(ei.$1.$1.$==0&&(ej=ek.$0,true)))))?(en=H.getExtraLines(function(eu){return bf.StartsWith(bf.Trim(eu),"|");},ef),ee((c9.createLayoutDefinitions(ej,c9.extractNodes(en[0])))[1].concat(en[1]))):ei.$==0?ee(b2.array(ef,{$:1,$0:1},null)):(eo=H.getExtraLines(function(eu){return bf.StartsWith(bf.Trim(eu),":");},ef),(ep=eo[1],(eq=eo[0],Q.length(eq)>0?((function(eu){return function(ev){return eu("l = ;"+bt.toSafe(ev)+";");};}(function(eu){d_.log(eu);}))(eh),er=H.createLines(_.nth(0,bf.SplitChars(eh,[" "],1)),1,[],[],1,eq),es=er[0],et=er[1],ee(Q.ofSeq(_.delay(function(){return _.append([eh+" "+bf.concat(" ",es)],_.delay(function(){return _.append(et,_.delay(function(){return ep;}));}));})))):Q.ofSeq(_.delay(function(){var eu;return _.append((eu=ec(eh),eu!=null&&eu.$==1?[eu.$0]:[]),_.delay(function(){return ee(ep);}));}))))))):[];}return ee(ed);};H.createEntryO=function(ec,ed){var ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4,e5,e6,e7,e8,e9,e_,e$,fa,fb,fc,fd,fe,ff;try{ee=H.splitTokens(ed);return ee.$==1&&(eg=(eh=ee.$0,H.Identifier(eh[0],eh[1])),eg!=null&&eg.$==1&&(ee.$1.$==1&&((ei=ee.$1.$0,H.Vertical(ei[0],ei[1])).$==0&&(ee.$1.$1.$==1&&(ej=(ek=ee.$1.$1.$0,H.Measures$1(ek[0],ek[1])),ej!=null&&ej.$==1&&(ef=[ee.$1.$1.$1,ej.$0,eg.$0],true))))))?(el=ef[2],H.entryDoc(el,(H.createSplitterM())([ec,el,true,ef[1],ef[0]]))):ee.$==1&&(en=(eo=ee.$0,H.Identifier(eo[0],eo[1])),en!=null&&en.$==1&&(ee.$1.$==1&&((ep=ee.$1.$0,H.Vertical(ep[0],ep[1])).$==1&&(ee.$1.$1.$==1&&(eq=(er=ee.$1.$1.$0,H.Measures$1(er[0],er[1])),eq!=null&&eq.$==1&&(em=[ee.$1.$1.$1,eq.$0,en.$0],true))))))?(es=em[2],H.entryDoc(es,(H.createSplitterM())([ec,es,false,em[1],em[0]]))):ee.$==1&&(eu=(ev=ee.$0,H.Identifier(ev[0],ev[1])),eu!=null&&eu.$==1&&(ee.$1.$==1&&((ew=ee.$1.$0,H.Var(ew[0],ew[1])).$==2&&(ee.$1.$1.$==1&&(ex=(ey=ee.$1.$1.$0,H.Identifier(ey[0],ey[1])),ex!=null&&ex.$==1&&(ee.$1.$1.$1.$==1&&(ee.$1.$1.$1.$1.$==1&&(ee.$1.$1.$1.$1.$1.$==0&&(et=[ex.$0,ee.$1.$1.$1.$0,eu.$0,ee.$1.$1.$1.$1.$0],true)))))))))?(ez=et[2],H.entryDoc(ez,(H.createButtonM())([ec,ez,et[0],et[1],et[3]]))):ee.$==1&&(eB=(eC=ee.$0,H.Identifier(eC[0],eC[1])),eB!=null&&eB.$==1&&(ee.$1.$==1&&((eD=ee.$1.$0,H.Var(eD[0],eD[1])).$==3&&(ee.$1.$1.$==1&&(eE=(eF=ee.$1.$1.$0,H.Identifier(eF[0],eF[1])),eE!=null&&eE.$==1&&(ee.$1.$1.$1.$==1&&(ee.$1.$1.$1.$1.$==0&&(eA=[ee.$1.$1.$1.$0,eB.$0,eE.$0],true))))))))?(eG=eA[1],H.entryDoc(eG,(H.createInputM())([ec,eG,eA[2],eA[0]]))):ee.$==1&&(eI=(eJ=ee.$0,H.Identifier(eJ[0],eJ[1])),eI!=null&&eI.$==1&&(ee.$1.$==1&&((eK=ee.$1.$0,H.Var(eK[0],eK[1])).$==4&&(ee.$1.$1.$==1&&(eL=(eM=ee.$1.$1.$0,H.Identifier(eM[0],eM[1])),eL!=null&&eL.$==1&&(ee.$1.$1.$1.$==1&&(ee.$1.$1.$1.$1.$==0&&(eH=[ee.$1.$1.$1.$0,eI.$0,eL.$0],true))))))))?(eN=eH[1],H.entryDoc(eN,(H.createTextAreaM())([ec,eN,eH[2],eH[0]]))):ee.$==1&&(eP=(eQ=ee.$0,H.Identifier(eQ[0],eQ[1])),eP!=null&&eP.$==1&&(ee.$1.$==1&&((eR=ee.$1.$0,H.Var(eR[0],eR[1])).$==0&&(ee.$1.$1.$==1&&(ee.$1.$1.$1.$==0&&(eO=[eP.$0,ee.$1.$1.$0],true))))))?(eS=eO[0],H.entryVar(eS,(H.createVarM())([ec,eS,eO[1][0]]))):ee.$==1&&(eU=(eV=ee.$0,H.Identifier(eV[0],eV[1])),eU!=null&&eU.$==1&&(ee.$1.$==1&&((eW=ee.$1.$0,H.Var(eW[0],eW[1])).$==1&&(ee.$1.$1.$==1&&(eT=[ee.$1.$1.$0,eU.$0,ee.$1.$1.$1],true)))))?(eX=eT[1],H.entryDoc(eX,(H.createDocM())([ec,eX,eT[0][0],eT[2]]))):ee.$==1&&(eZ=(e0=ee.$0,H.Identifier(e0[0],e0[1])),eZ!=null&&eZ.$==1&&(ee.$1.$==1&&((e1=ee.$1.$0,H.Vertical(e1[0],e1[1])).$==4&&(ee.$1.$1.$==1&&(ee.$1.$1.$1.$==1&&(eY=[ee.$1.$1.$1.$0,ee.$1.$1.$1.$1,eZ.$0,ee.$1.$1.$0],true))))))?(e2=eY[2],H.entryDoc(e2,(H.createTemplateM())([ec,e2,eY[3],eY[0],eY[1]]))):ee.$==1&&(e4=(e5=ee.$0,H.Identifier(e5[0],e5[1])),e4!=null&&e4.$==1&&(ee.$1.$==1&&((e6=ee.$1.$0,H.Concat(e6[0],e6[1])).$==0&&(e3=[ee.$1.$1,e4.$0],true))))?(e7=e3[1],H.entryDoc(e7,(H.createConcatM())([ec,e7,e3[0]]))):ee.$==1&&(e9=(e_=ee.$0,H.Identifier(e_[0],e_[1])),e9!=null&&e9.$==1&&(ee.$1.$==1&&((e$=ee.$1.$0,H.Vertical(e$[0],e$[1])).$==3&&(ee.$1.$1.$==1&&(ee.$1.$1.$1.$==1&&(ee.$1.$1.$1.$1.$==1&&(e8=[ee.$1.$1.$1.$1.$0,ee.$1.$1.$0,ee.$1.$1.$1.$1.$1,e9.$0,ee.$1.$1.$1.$0],true)))))))?null:ee.$==1&&(fb=(fc=ee.$0,H.Identifier(fc[0],fc[1])),fb!=null&&fb.$==1&&(ee.$1.$==1&&(fd=(fe=ee.$1.$0,H.Vertical(fe[0],fe[1])),fd.$==5&&(ee.$1.$1.$==1&&(fa=[ee.$1.$1.$0,ee.$1.$1.$1,fd.$0,fb.$0],true)))))?(ff=fa[3],H.entryDoc(ff,(H.createElementM())([ec,ff,fa[2],fa[0],fa[1]]))):null;}catch(fg){((function(fh){return function(fi){return fh(bt.prettyPrint(fi));};}(function(fh){d_.log(fh);}))(fg));return null;}};H.getAttrs=function(ec,ed,ee){var ef;ef=[ed,ee];return bv.ofSeq(_.delay(function(){return _.append(_.choose(function(eg){var eh,ei,ej,ek,el,em;return!G.Equals(eg,null)&&eg.length===2&&(ei=Q.get(eg,1),bf.Trim(Q.get(eg,0))!==""&&bf.Trim(ei)!=="")?(ej=Q.get(eg,1),(ek=Q.get(eg,0),{$:1,$0:(el=H.getTextData(ec,bf.Trim(ej)),el.$==1?cG.Dynamic(bf.Trim(ek),el.$0):el.$==2?(em=el.$0,cG.Handler(bf.Trim(ek),function(en){return function(eo){return k.callFunction(en,eo,em.actFunction);};})):cP.Create(bf.Trim(ek),bf.Trim(el.$0)))})):null;},_.map(function(eg){return b1.splitByChar("=",eg);},b1.splitByChar(";",ef[0]))),_.delay(function(){return _.choose(function(eg){var eh,ei,ej,ek,el;return!G.Equals(eg,null)&&eg.length===2&&(ei=Q.get(eg,1),bf.Trim(Q.get(eg,0))!==""&&bf.Trim(ei)!=="")?(ej=Q.get(eg,1),(ek=Q.get(eg,0),{$:1,$0:(el=H.getTextData(ec,bf.Trim(ej)),el.$==1?cG.DynamicStyle(bf.Trim(ek),el.$0):el.$==2?cG.Style(bf.Trim(ek),(function(em){return function(en){return em("${"+bt.toSafe(en)+"}");};}(a.id))(el.$0.actName)):cG.Style(bf.Trim(ek),bf.Trim(el.$0)))})):null;},_.map(function(eg){return b1.splitByChar(":",eg);},b1.splitByChar(";",ef[0])));}));}));};H.getText=function(ec,ed,ee){var ef,eg,eh,ei,ej,ek,el,em,en;ef=H.Identifier(ed,ee);return ef!=null&&ef.$==1?(eg=ef.$0,(eh=((H.splitName())(ec))(eg),(ei=eh[0],(ej=eh[1],(ek=(el=k.tryGetViw(ei,ej),el==null?null:{$:1,$0:W.TextView(el.$0.viwView)}),ek==null?(em=(en=k.tryGetVar(ei,ej),en==null?null:{$:1,$0:W.TextView(en.$0.varVar.get_View())}),em==null?W.TextNode(eg):em.$0):ek.$0))))):W.TextNode(ed);};H.singleDoc=function(ec,ed){return W.EmbedView(p.Map(function(ee){var ef;return ee.$==1&&(ee.$1.$==0&&(ef=ee.$0,true))?ef:H.errDoc((function(eg){return function(eh){return eg("expected exactly 1 element "+bt.printList(function(ei){return"("+bt.prettyPrint(ei[0])+", "+bt.prettyPrint(ei[1])+")";},eh));};}(a.id))(ed));},p.Map(function(){return H.getDocs(ec,ed);},k.mainDocV().get_View())));};H.getTextData=function(ec,ed){var ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq;ee=(ef=b1.delimitedO("@{","}",ed),ef==null?null:{$:1,$0:(eg=ef.$0,(eh=eg[0],(ei=eg[1],(ej=eg[2],(ek=((H.splitName())(ec))(ei),(el=ek[0],(em=ek[1],(en=(eo=k.tryGetWoW(el,em),eo==null?null:{$:1,$0:function(er){var es,et;et=H.getTextData(ec,ej);switch(eh===""?et.$==1?(es=et.$0,2):et.$==2?(es=et.$0,3):et.$0===""?0:(es=et.$0,1):et.$==1?(es=et.$0,2):et.$==2?(es=et.$0,3):(es=et.$0,1)){case 0:return{$:1,$0:er};case 1:return{$:1,$0:p.Map(function(eu){return eh+eu+es;},er)};case 2:return{$:1,$0:p.Map2(function(eu,ev){return eh+eu+ev;},er,es)};case 3:return{$:2,$0:es};}}(eo.$0)}),en==null?(ep=(eq=k.tryGetAct(el,em),eq==null?null:{$:1,$0:{$:2,$0:eq.$0}}),ep==null?{$:0,$0:((((d6.Curried(function(er,es,et,eu){return er(bt.toSafe(es)+" ${Missing "+bt.toSafe(et)+"}"+bt.toSafe(eu));},4))(a.id))(eh))(ei))(ej)}:ep.$0):en.$0))))))))});return ee==null?{$:0,$0:ed}:ee.$0;};H.createSplitter=function(ec,ed,ee,ef,eg){var eh;eh=H.pairOfDocs(ec,eg);return ef.$==1?H.variableSplitter(ee,ef.$0,ef.$1,ef.$2,eh[0],eh[1]):H.fixedSplitter(ee,ef.$0,ef.$1,eh[0],eh[1]);};H.createButton=function(ec,ed,ee,ef,eg){return H.turnToView(function(){var eh,ei,ej,ek,el;function em(en,eo){return k.callFunction(null,null,en.actFunction);}eh=(ei=(ej=(ek=((H.splitName())(ec))(ee),k.tryGetAct(ek[0],ek[1])),ej==null?null:{$:1,$0:(el=ej.$0,function(en){return em(el,en);})}),ei==null?a.ignore:ei.$0);return W.Button(eg[0],H.getAttrs(ec,ef[0],ef[1]),eh);});};H.createInput=function(ec,ed,ee,ef){return H.turnToView(function(){var eg,eh,ei,ej,ek;eg=(eh=(ei=((H.splitName())(ec))(ee),k.tryGetVoV(ei[0],ei[1])),(ej=(ek=H.getAttrs(ec,ef[0],ef[1]),function(el){return W.Input(ek,el);}),eh==null?null:{$:1,$0:ej(eh.$0)}));return eg==null?H.errDoc((function(el){return function(em){return el("Missing var: "+bt.toSafe(em));};}(a.id))(ee)):eg.$0;});};H.createTextArea=function(ec,ed,ee,ef){return H.turnToView(function(){var eg,eh,ei,ej,ek;eg=(eh=(ei=((H.splitName())(ec))(ee),k.tryGetVoV(ei[0],ei[1])),(ej=(ek=H.getAttrs(ec,ef[0],ef[1]),function(el){return W.InputArea(ek,el);}),eh==null?null:{$:1,$0:ej(eh.$0)}));return eg==null?H.errDoc((function(el){return function(em){return el("Missing var: "+bt.toSafe(em));};}(a.id))(ee)):eg.$0;});};H.createElement=function(ec,ed,ee,ef,eg){var eh;eh=[H.turnToView(function(){return W.Concat(H.getDocs(ec,eg));})];return W.Element(ee,H.getAttrs(ec,ef[0],ef[1]),eh);};H.createDoc=function(ec,ed,ee,ef){return H.turnToView(function(){var eg,eh,ei;eg=(eh=(ei=((H.splitName())(ec))(ee),k.tryGetDoc(ei[0],ei[1])),eh==null?null:{$:1,$0:H.getDocFinal(ef,eh.$0)});return eg==null?H.errDoc((function(ej){return function(ek){return ej("Missing doc: "+bt.toSafe(ek));};}(a.id))(ee)):eg.$0;});};H.createTemplate=function(ec,ed,ee,ef,eg){return H.turnToView(function(){var eh,ei,ej,ek,el,em;ej=H.getAttrs(ec,ef[0],ef[1]);cS.LoadLocalTemplates("local");function en(ep,eq){var er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC;er=H.Identifier(eq[0],eq[1]);return er!=null&&er.$==1?(es=er.$0,et=ep[0],eu=(ev=(ew=(ex=((H.splitName())(ec))(es),k.tryGetDoc(ex[0],ex[1])),ew==null?null:{$:1,$0:{$:0,$0:et.toLowerCase(),$1:(H.getDocF(cu.Empty,ew.$0))[0]}}),ev==null?(ey=(ez=((H.splitName())(ec))(es),k.tryGetVar(ez[0],ez[1])),ey==null?null:{$:1,$0:{$:8,$0:et.toLowerCase(),$1:ey.$0.varVar}}):ev),eu==null?{$:0,$0:et.toLowerCase(),$1:H.errDoc((function(eD){return function(eE){return eD("Missing element: "+bt.toSafe(eE));};}(a.id))(es))}:eu.$0):(eA=ep[0],eB=H.getTextData(ec,eq[0]),eB.$==1?{$:2,$0:eA.toLowerCase(),$1:eB.$0}:eB.$==2?(eC=eB.$0,{$:4,$0:eA.toLowerCase(),$1:function(eD){return function(eE){return k.callFunction(eD,eE,eC.actFunction);};}}):{$:1,$0:eA.toLowerCase(),$1:eB.$0});}function eo(ep,eq){return ep%2===0;}try{ei={$:1,$0:(ek=(el=_.map(function(ep){return en(ep[0],ep[1]);},_.map(function(ep){return ep[1];},_.filter(function(ep){return eo(ep[0],ep[1]);},_.indexed(_.pairwise(eg))))),(_.isEmpty(ej)?a.id:(em=[{$:3,$0:"attrs",$1:cP.Concat(ej)}],function(ep){return _.append(em,ep);}))(el)),cS.NamedTemplate("local",{$:1,$0:ee[0].toLowerCase()},ek))};}catch(ep){ei=null;}return ei==null?H.errDoc((function(eq){return function(er){return eq("Missing template: "+bt.toSafe(er));};}(a.id))(ee[0])):ei.$0;});};H.createConcat=function(ec,ed,ee){return H.turnToView(function(){return W.Concat(H.getDocs(ec,ee));});};H.createVar=function(ec,ed,ee){return i.Create$1(ee);};H.addNewLayout=function(ec,ed){var ee,ef;H.addLayout((ee=(ef=!G.Equals(ed,null)?ed:"\r\n            split horizontal 0-50-100 AppFramework.AppFwkClient Hello\r\n            Hello h1 \"color:blue; class=btn-primary\" \"How are you today?\" Ask\r\n            Ask Doc InputLabel \"placeholder=Type you answer here...\" \"Answer:\" AppFramework.mainDocV  \r\n            ",(b1.unindentStr())(ef)),H.newLyt(!G.Equals(ed,null)?ec:"Lyt_"+bf.Replace(a.String(bp.NewGuid()),"-",""),ee)));};H.getDocF=function(ec,ed){var ee,ef;ef=ed.docDoc;switch(ef.$==1?ec.$==1?(ee=[ef.$0,ec.$0[0],ec.$1],1):6:ef.$==2?ec.$==1?ec.$1.$==1?(ee=[ef.$0,ec.$0[0],ec.$1.$0[0],ec.$1.$1],2):6:6:ef.$==3?ec.$==1?ec.$1.$==1?ec.$1.$1.$==1?(ee=[ef.$0,ec.$0[0],ec.$1.$0[0],ec.$1.$1.$0[0],ec.$1.$1.$1],3):6:6:6:ef.$==4?ec.$==1?ec.$1.$==1?ec.$1.$1.$==1?ec.$1.$1.$1.$==1?(ee=[ef.$0,ec.$0[0],ec.$1.$0[0],ec.$1.$1.$0[0],ec.$1.$1.$1.$0[0],ec.$1.$1.$1.$1],4):6:6:6:6:ef.$==5?ec.$==1?ec.$1.$==1?ec.$1.$1.$==1?ec.$1.$1.$1.$==1?ec.$1.$1.$1.$1.$==1?(ee=[ef.$0,ec.$0[0],ec.$1.$0[0],ec.$1.$1.$0[0],ec.$1.$1.$1.$0[0],ec.$1.$1.$1.$1.$0[0],ec.$1.$1.$1.$1.$1],5):6:6:6:6:6:(ee=[ef.$0,ec],0)){case 0:return[ee[0].f(),ee[1]];case 1:return[ee[0](ee[1]),ee[2]];case 2:return[(ee[0](ee[1]))(ee[2]),ee[3]];case 3:return[((ee[0](ee[1]))(ee[2]))(ee[3]),ee[4]];case 4:return[(((ee[0](ee[1]))(ee[2]))(ee[3]))(ee[4]),ee[5]];case 5:return[((((ee[0](ee[1]))(ee[2]))(ee[3]))(ee[4]))(ee[5]),ee[6]];case 6:return[W.Element("div",[],[W.TextNode((((d6.Curried3(function(eg,eh,ei){return eg("Parameters do not coincide with definition "+cH.p(eh)+" - "+bt.printList(function(ej){return"("+bt.prettyPrint(ej[0])+", "+bt.prettyPrint(ej[1])+")";},ei));}))(a.id))(ed))(ec))]),cu.Empty];}};H.splitTokens=function(ec){return bv.ofSeq(_.collect(a.id,_.mapi(function(ed,ee){var ef;return ed%2===1?[[ee,true]]:(ef=bf.Trim(ee),ef===""?[]:Q.map(function(eg){return[eg,false];},bf.SplitChars(ef,[" "],1)));},b1.splitByChar("\"",ec))));};H.Identifier=function(ec,ed){var ee,ef,eg;return(ef=j.REGEX$1("^[$a-zA-Z_][0-9a-zA-Z_\\.\\-$]*$","",ec),ef!=null&&ef.$==1&&((eg=ef.$0,!G.Equals(eg,null)&&eg.length===1)&&(ed?false:(ee=Q.get(ef.$0,0),true))))?{$:1,$0:ee}:null;};H.Vertical=function(ec,ed){var ee,ef,eg,eh,ei,ej;return(ed?false:ec==="vertical")?{$:0,$0:null}:(ed?false:ec==="horizontal")?{$:1,$0:null}:(ed?false:ec==="layout")?{$:2,$0:null}:(ed?false:ec==="grid")?{$:3,$0:null}:(ed?false:ec==="template")?{$:4,$0:null}:(ej=H.Identifier(ec,ed),ej!=null&&ej.$==1?{$:5,$0:ej.$0}:{$:6,$0:null});};H.getExtraLines=function(ec,ed){var ee,ef,eg,eh;ee=(ef=(eg=_.tryFindIndex(function(ei){return bf.Trim(ei)!==""&&!ec(ei);},_.skip(1,ed)),eg==null?null:{$:1,$0:1+eg.$0}),(eh=Q.length(ed),ef==null?eh:ef.$0));return[b2.array(ed,{$:1,$0:1},{$:1,$0:ee-1}),b2.array(ed,{$:1,$0:ee},null)];};H.createLines=function(ec,ed,ee,ef,eg,eh){var ei,ej,ek,el,em,en,eo,ep,eq,er;ei=bf.replicate(ed,":");ej=":"+ei;ek=_.tryHead(eh);return ek!=null&&ek.$==1?(el=b1.StartsWith(ei,bf.Trim(ek.$0)),el!=null&&el.$==1?(em=el.$0,(en=H.getExtraLines(function(es){return bf.StartsWith(bf.Trim(es),ej);},eh),(eo=(((d6.Curried3(function(es,et,eu){return es(bt.toSafe(et)+"_"+a.String(eu));}))(a.id))(ec))(eg),(ep=H.createLines(eo,ed+1,[],[],1,en[0]),(eq=ep[1],(er=ep[0],H.createLines(ec,ed,Q.ofSeq(_.delay(function(){return _.append(ee,_.delay(function(){return[eo];}));})),Q.ofSeq(_.delay(function(){return _.append(ef,_.delay(function(){return _.append([eo+" "+em+" "+bf.concat(" ",er)],_.delay(function(){return eq;}));}));})),eg+1,en[1]))))))):[ee,ef]):[ee,ef];};H.Measures$1=function(ec,ed){var ee,ef,eg,eh,ei,ej,ek,el,em,en;ee=[ec,ed];return ee[1]?null:(ef=b1.splitByChar("-",ee[0]),!G.Equals(ef,null)&&ef.length===1&&(eh=(bD.Double())(Q.get(ef,0)),eh!=null&&eh.$==1&&(eg=eh.$0,true))?{$:1,$0:new dl({$:0,$0:eg,$1:true})}:!G.Equals(ef,null)&&ef.length===2&&(Q.get(ef,0)===""&&(ej=(bD.Double())(Q.get(ef,1)),ej!=null&&ej.$==1&&(ei=ej.$0,true)))?{$:1,$0:new dl({$:0,$0:ei,$1:false})}:!G.Equals(ef,null)&&ef.length===3&&(el=(bD.Double())(Q.get(ef,0)),el!=null&&el.$==1&&(em=(bD.Double())(Q.get(ef,1)),em!=null&&em.$==1&&(en=(bD.Double())(Q.get(ef,2)),en!=null&&en.$==1&&(ek=[en.$0,el.$0,em.$0],true))))?{$:1,$0:new dl({$:1,$0:ek[1],$1:ek[2],$2:ek[0]})}:null);};H.entryDoc=function(ec,ed){return{$:1,$0:{$:2,$0:k.newDoc(ec,r.Create(function(){return ed;}))}};};H.createSplitterM=function(){bJ.$cctor();return bJ.createSplitterM;};H.Var=function(ec,ed){var ee,ef,eg,eh,ei,ej;return(ed?false:ec==="Var")?{$:0,$0:null}:(ed?false:ec==="Doc")?{$:1,$0:null}:(ed?false:ec==="button")?{$:2,$0:null}:(ed?false:ec==="input")?{$:3,$0:null}:(ed?false:ec==="textarea")?{$:4,$0:null}:(ed?false:ec==="select")?{$:5,$0:null}:{$:6,$0:null};};H.createButtonM=function(){bJ.$cctor();return bJ.createButtonM;};H.createInputM=function(){bJ.$cctor();return bJ.createInputM;};H.createTextAreaM=function(){bJ.$cctor();return bJ.createTextAreaM;};H.entryVar=function(ec,ed){return{$:1,$0:{$:0,$0:k.newVar(ec,ed)}};};H.createVarM=function(){bJ.$cctor();return bJ.createVarM;};H.createDocM=function(){bJ.$cctor();return bJ.createDocM;};H.createTemplateM=function(){bJ.$cctor();return bJ.createTemplateM;};H.Concat=function(ec,ed){var ee;return(ed?false:ec==="concat")?{$:0,$0:null}:{$:1,$0:null};};H.createConcatM=function(){bJ.$cctor();return bJ.createConcatM;};H.createElementM=function(){bJ.$cctor();return bJ.createElementM;};H.getDocs=function(ec,ed){var ee;return ed.$==0?cu.Empty:(ee=H.getOneDoc(ec,ed),new cu({$:1,$0:ee[0],$1:H.getDocs(ec,ee[1])}));};H.pairOfDocs=function(ec,ed){var ee;ee=p.Map(function(ef){var eg;return ef.$==1&&(ef.$1.$==1&&(ef.$1.$1.$==0&&(eg=[ef.$0,ef.$1.$0],true)))?[eg[0],eg[1]]:[H.errDoc((function(eh){return function(ei){return eh("splitter expects exactly 2 elements "+bt.printList(function(ej){return"("+bt.prettyPrint(ej[0])+", "+bt.prettyPrint(ej[1])+")";},ei));};}(a.id))(ed)),H.errDoc("part 2")];},p.Map(function(){return H.getDocs(ec,ed);},k.mainDocV().get_View()));return[W.EmbedView(p.Map(function(ef){return ef[0];},ee)),W.EmbedView(p.Map(function(ef){return ef[1];},ee))];};H.variableSplitter=function(ec,ed,ee,ef,eg,eh){return W.Element("wcomp-splitter",bv.ofSeq(_.delay(function(){return _.append(ec?[cP.Create("vertical","")]:[],_.delay(function(){return _.append([cP.Create("min",a.String(ed))],_.delay(function(){return _.append([cP.Create("value",a.String(ee))],_.delay(function(){return[cP.Create("max",a.String(ef))];}));}));}));})),bv.ofArray([eg,eh]));};H.fixedSplitter=function(ec,ed,ee,ef,eg){var eh,ei,ej,ek,el,em,en;eh=(((ee?d6.Curried3(function(eo,ep,eq){return eo(ep.toFixed(6)+"px calc(100% - "+eq.toFixed(6)+"px)");}):d6.Curried3(function(eo,ep,eq){return eo("calc(100% - "+ep.toFixed(6)+"px) "+eq.toFixed(6)+"px");}))(a.id))(ed))(ed);return ec?(ei=R.Make().WithHole({$:1,$0:"partsizes",$1:eh}).WithHole({$:0,$0:"first",$1:ef}).WithHole({$:0,$0:"second",$1:eg}),(ej=S.CompleteHoles(ei.k,ei.h,[]),(ek=new P.New(ej[1],cI.fixedsplitterver(ej[0])),(ei.i=ek,ek)))).get_Doc():(el=R.Make().WithHole({$:1,$0:"partsizes",$1:eh}).WithHole({$:0,$0:"first",$1:ef}).WithHole({$:0,$0:"second",$1:eg}),(em=S.CompleteHoles(el.k,el.h,[]),(en=new P.New(em[1],cI.fixedsplitterhor(em[0])),(el.i=en,en)))).get_Doc();};H.getOneDoc=function(ec,ed){var ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es;return ed.$==1&&(ef=(eg=ed.$0,H.Identifier(eg[0],eg[1])),ef!=null&&ef.$==1&&(ee=[ef.$0,ed.$1],true))?(eh=ee[0],(ei=ee[1],(ej=((H.splitName())(ec))(eh),(ek=ej[0],(el=ej[1],(em=(en=k.tryGetDoc(ek,el),en==null?null:{$:1,$0:H.getDocF(ei,en.$0)}),em==null?(eo=(ep=k.tryGetWoW(ek,el),ep==null?null:{$:1,$0:[W.TextView(ep.$0),ei]}),eo==null?[H.errDoc((eq=(function(et){return function(eu){return et("Missing doc: "+bt.toSafe(eu));};}(a.id))(eh),($.print(eq),eq))),ei]:eo.$0):em.$0)))))):ed.$==0?[W.get_Empty(),cu.Empty]:(er=ed.$1,(es=H.getTextData(ec,ed.$0[0]),es.$==1?[W.TextView(es.$0),er]:es.$==2?[H.errDoc((function(et){return function(eu){return et("Unexpected action: "+bt.toSafe(eu));};}(a.id))(es.$0.actName)),er]:[W.TextNode(es.$0),er]));};I.ofObj=function(ec){return ec==null?null:{$:1,$0:ec};};K.New=function(ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu){return{id:ec,idPadreO:ed,idForAuthorize:ee,influyente:ef,datosPersonales:eg,contactos:eh,identificacion:ei,isInternal:ej,status:ek,diaPago:el,tipo:em,fechaRegistro:en,fechaStatus:eo,nReferidos:ep,nRefActivos:eq,nDescendientes:er,nDescActivos:es,comision:et,nivel:eu};};L.empty=function(){_2.$cctor();return _2.empty;};L.nombre2=function(ec){var ed,ee;return(ed=(ee=ec.titulo,ee==null?null:{$:1,$0:" "+ee.$0}),ed==null?"":ed.$0)+bf.Trim(ec.nombre1+" "+ec.nombre2)+" "+bf.Trim(ec.apellido1+" "+ec.apellido2);};L.nombre=function(ec){var ed,ee;return(ed=(ee=ec.titulo,ee==null?null:{$:1,$0:" "+ee.$0}),ed==null?"":ed.$0)+(ec.apellido1===""?"":bf.Trim(ec.apellido1+" "+ec.apellido2)+", ")+ec.nombre1+" "+ec.nombre2;};L.busqueda=function(ec){var ed,ee;function ef(el,em){return[el,Q.ofSeq(_.map(function(en){return en[1];},em))];}function eg(el){var em,en;em=(en=null,[ee.TryGetValue(el,{get:function(){return en;},set:function(eo){en=eo;}}),en]);return em[0]?{$:1,$0:em[1]}:null;}function eh(el){var em,en;em=(en=null,[ed.TryGetValue({$:1,$0:el},{get:function(){return en;},set:function(eo){en=eo;}}),en]);return em[0]?em[1]:[];}function ei(el){var em,en;em=(en=el==null?null:eg(el.$0),en==null?null:{$:1,$0:1+ei(en.$0.idPadreO)});return em==null?0:em.$0;}function ej(el){return Q.choose(eg,eh(el.id));}function ek(el){return Q.ofSeq(_.delay(function(){return _.collect(function(em){return _.append([em],_.delay(function(){return ek(em);}));},ej(el));}));}ed=new cq.New(_.map(function(el){return ef(el[0],el[1]);},_.groupBy(function(el){return el[0];},_.map(function(el){return[el.idPadreO,el.id];},ec))));ee=new cq.New(_.map(function(el){return[el.id,el];},ec));return bb.New(eh,ei,function(el){try{return ee.get_Item(el);}catch(em){return(function(en){return function(eo){return en("buscarAliado failed: "+U.p$10(eo));};}(o.FailWith))(el);}},eg,ej,ek);};L.comision=function(ec,ed){var ee;ee=L.premisas(ec,ed);return[ed.nRefActivos*ee[0],ed.nDescActivos*ee[1]];};L.premisas=function(ec,ed){var ee;ee=ed.tipo.$==0?[ec.comisionReferidosMaster,ec.comisionDescendientesMaster]:[ec.comisionReferidosRegular,ec.comisionDescendientesRegular];return ed.status.$==2?[ee[0],ee[1]]:[0,0];};L.dia=function(ec){return ec.$==1?5:ec.$==2?10:ec.$==3?15:ec.$==4?20:ec.$==5?25:1;};P=O.TemplateInstance=d6.Class({get_Doc:function(){return this.doc;},Hole:function(ec){return this.allVars.get_Item(ec);}},g,P);P.New=d6.Ctor(function(ec,ed){g.New.call(this);this.doc=ed;this.allVars=ec.$==0?ec.$0:o.FailWith("Should not happen");},P);Q.get=function(ec,ed){Q.checkBounds(ec,ed);return ec[ed];};Q.length=function(ec){return ec.dims===2?ec.length*ec.length:ec.length;};Q.checkBounds=function(ec,ed){if(ed<0||ed>=ec.length)o.FailWith("Index was outside the bounds of the array.");};Q.set=function(ec,ed,ee){Q.checkBounds(ec,ed);ec[ed]=ee;};R=O.ProviderBuilder=d6.Class({WithHole:function(ec){this.h.push(ec);return this;}},null,R);R.Make=function(){var ec;return R.New(null,(ec=bp.NewGuid(),a.String(ec)),[]);};R.New=function(ec,ed,ee){return new R({i:ec,k:ed,h:ee});};S.CompleteHoles=function(ec,ed,ee){var eg,eh,ei,ej,ek,el;function ef(em,en){var eo,ep,eq,er;return eh.Contains(em)?null:(eo=en===0?(ep=i.Create$1(""),[{$:8,$0:em,$1:ep},ep]):en===1?(eq=i.Create$1(0),[{$:13,$0:em,$1:eq},eq]):en===2?(er=i.Create$1(false),[{$:9,$0:em,$1:er},er]):o.FailWith("Invalid value type"),(eg.set_Item(em,eo[1]),{$:1,$0:eo[0]}));}eg=new bQ.New$5();eh=new bR.New$3();ei=cr.Get(ed);try{while(ei.MoveNext()){ej=ei.Current();(ej.$==8?(ek=[ej.$0,bS.Box(ej.$1)],true):ej.$==11?(ek=[ej.$0,bS.Box(ej.$1)],true):ej.$==10?(ek=[ej.$0,bS.Box(ej.$1)],true):ej.$==13?(ek=[ej.$0,bS.Box(ej.$1)],true):ej.$==12?(ek=[ej.$0,bS.Box(ej.$1)],true):ej.$==9&&(ek=[ej.$0,bS.Box(ej.$1)],true))?(el=ek[0],eh.Add(el),eg.set_Item(el,ek[1])):void 0;}}finally{if(typeof ei=="object"&&"Dispose"in ei)ei.Dispose();}return[_.append(ed,Q.choose(function(em){return ef(em[0],em[1]);},ee)),{$:0,$0:eg}];};S.EventQ2=function(ec,ed,ee,ef){return{$:5,$0:ed,$1:true,$2:function(eg){return function(eh){return ef({Vars:ee(),Target:eg,Event:eh});};}};};T.opcionesadministrador=function(ec){cS.LoadLocalTemplates("index");return ec?cS.NamedTemplate("index",{$:1,$0:"opcionesadministrador"},ec):void 0;};U.p$2=function(ec){return ec.$==1?"Regular":"Master";};U.p$1=function(ec){return ec.$==4?"Cancelado":ec.$==3?"Inactivo":ec.$==2?"Activo":ec.$==1?"DatosBancariosIngresados":"CuentaCreada";};T.filaaliado=function(ec){cS.LoadLocalTemplates("index");return ec?cS.NamedTemplate("index",{$:1,$0:"filaaliado"},ec):void 0;};T.tablaaliados=function(ec){cS.LoadLocalTemplates("index");return ec?cS.NamedTemplate("index",{$:1,$0:"tablaaliados"},ec):void 0;};T.aliado=function(ec){cS.LoadLocalTemplates("index");return ec?cS.NamedTemplate("index",{$:1,$0:"aliado"},ec):void 0;};T.calculo=function(ec){cS.LoadLocalTemplates("index");return ec?cS.NamedTemplate("index",{$:1,$0:"calculo"},ec):void 0;};U.p$12=function(ec){return ec.$==2?"Mensaje "+bt.prettyPrint(ec.$0):ec.$==1?"NuevoRegistro "+bt.prettyPrint(ec.$0):"ROk";};T.formaregistro=function(ec){cS.LoadLocalTemplates("index");return ec?cS.NamedTemplate("index",{$:1,$0:"formaregistro"},ec):void 0;};T.filaconsolidado=function(ec){cS.LoadLocalTemplates("index");return ec?cS.NamedTemplate("index",{$:1,$0:"filaconsolidado"},ec):void 0;};T.consolidado=function(ec){cS.LoadLocalTemplates("index");return ec?cS.NamedTemplate("index",{$:1,$0:"consolidado"},ec):void 0;};U.p$14=function(ec){return ec.$==5?"Dia25":ec.$==4?"Dia20":ec.$==3?"Dia15":ec.$==2?"Dia10":ec.$==1?"Dia05":"Dia01";};T.filapago=function(ec){cS.LoadLocalTemplates("index");return ec?cS.NamedTemplate("index",{$:1,$0:"filapago"},ec):void 0;};T.tablapagos=function(ec){cS.LoadLocalTemplates("index");return ec?cS.NamedTemplate("index",{$:1,$0:"tablapagos"},ec):void 0;};T.filadocs=function(ec){cS.LoadLocalTemplates("index");return ec?cS.NamedTemplate("index",{$:1,$0:"filadocs"},ec):void 0;};T.subirdocumentos=function(ec){cS.LoadLocalTemplates("index");return ec?cS.NamedTemplate("index",{$:1,$0:"subirdocumentos"},ec):void 0;};T.autorizacion=function(ec){cS.LoadLocalTemplates("index");return ec?cS.NamedTemplate("index",{$:1,$0:"autorizacion"},ec):void 0;};V.r=function(){return cX.JSUnion(void 0,[[null,[[null,[]]],[]],[null,[[null,["NoUser"]]],[]],[null,[[null,["PreRegister"]]],[]],[null,[[null,["Content"]]],[cX.rString()]],[null,[[null,["Pdf"]]],[cX.rWildcard()]],[null,[[null,["Video"]]],[cX.rWildcard()]]]);};U.p$10=function(ec){return"IdAliado "+bt.prettyPrint(ec.$0);};T.datospersonales=function(ec){cS.LoadLocalTemplates("index");return ec?cS.NamedTemplate("index",{$:1,$0:"datospersonales"},ec):void 0;};U.p$11=function(ec){return ec.$==2?"Empresa":ec.$==1?"Femenino":"Masculino";};T.correo=function(ec){cS.LoadLocalTemplates("index");return ec?cS.NamedTemplate("index",{$:1,$0:"correo"},ec):void 0;};T.telefono=function(ec){cS.LoadLocalTemplates("index");return ec?cS.NamedTemplate("index",{$:1,$0:"telefono"},ec):void 0;};T.direccion=function(ec){cS.LoadLocalTemplates("index");return ec?cS.NamedTemplate("index",{$:1,$0:"direccion"},ec):void 0;};T.formadatospersonales=function(ec){cS.LoadLocalTemplates("index");return ec?cS.NamedTemplate("index",{$:1,$0:"formadatospersonales"},ec):void 0;};T.formacontactos=function(ec){cS.LoadLocalTemplates("index");return ec?cS.NamedTemplate("index",{$:1,$0:"formacontactos"},ec):void 0;};T.formacuentas=function(ec){cS.LoadLocalTemplates("index");return ec?cS.NamedTemplate("index",{$:1,$0:"formacuentas"},ec):void 0;};U.p$13=function(ec){return"IdPayment "+bt.prettyPrint(ec.$0);};U.p$4=function(ec){return ec.$==2?"OtroS "+bt.prettyPrint(ec.$0):ec.$==1?"Florida":"Texas";};U.p$3=function(ec){return ec.$==3?"OtroP "+bt.prettyPrint(ec.$0):ec.$==2?"Argentina":ec.$==1?"Venezuela":"USA";};U.p$6=function(ec){return ec.$==2?"Otra "+bt.prettyPrint(ec.$0):ec.$==1?"Corriente":"Ahorro";};T.cuentabancaria=function(ec){cS.LoadLocalTemplates("index");return ec?cS.NamedTemplate("index",{$:1,$0:"cuentabancaria"},ec):void 0;};T.tarjetacredito=function(ec){cS.LoadLocalTemplates("index");return ec?cS.NamedTemplate("index",{$:1,$0:"tarjetacredito"},ec):void 0;};U.p=function(ec){return ec.$==3?"ResetPassword":ec.$==2?"EditProfile":ec.$==1?"SignUp":"SignIn";};U.p$9=function(ec){return ec.$==3?"Voip":ec.$==2?"Habitacion":ec.$==1?"Oficina":"Movil";};U.p$8=function(ec){return ec.$==3?"Otro "+bt.prettyPrint(ec.$0):ec.$==2?"ServicioPostal":ec.$==1?"Oficina":"Habitacion";};U.p$5=function(ec){return ec.$==3?"Otra "+bt.prettyPrint(ec.$0):ec.$==2?"Amex":ec.$==1?"MasterCard":"Visa";};W=h.Doc=d6.Class({},g,W);W.get_Empty=function(){return W.Mk(null,p.Const());};W.Concat=function(ec){var ed;ed=cD.ofSeqNonCopying(ec);return cD.TreeReduce(W.get_Empty(),W.Append,ed);};W.BindView=function(ec,ed){return W.EmbedView(p.Map(ec,ed));};W.Mk=function(ec,ed){return new W.New(ec,ed);};W.ConvertSeqBy=function(ec,ed,ee){return W.Flatten(p.MapSeqCachedViewBy(ec,function(ef,eg){return(ed(ef))(eg);},ee));};W.EmbedView=function(ec){var ed;ed=c5.CreateEmbedNode();return W.Mk({$:2,$0:ed},p.Map(a.ignore,p.Bind(function(ee){c5.UpdateEmbedNode(ed,ee.docNode);return ee.updates;},ec)));};W.Append=function(ec,ed){return W.Mk({$:0,$0:ec.docNode,$1:ed.docNode},p.Map2Unit(ec.updates,ed.updates));};W.Verbatim=function(ec){var ed;return W.Mk(cD.MapTreeReduce(function(ee){return G.Equals(ee.nodeType,D.TEXT_NODE)?{$:5,$0:ee}:{$:1,$0:c5.CreateElemNode(ee,c_.EmptyAttr(),null)};},null,function(ee,ef){return{$:0,$0:ee,$1:ef};},(ed=d8.parseHTML(ec),G.Equals(ed,null)?[]:ed)),p.Const());};W.TextNode=function(ec){return W.Mk({$:5,$0:c$.CreateText(ec)},p.Const());};W.Flatten=function(ec){return W.EmbedView(p.Map(W.Concat,ec));};W.ConvertBy=function(ec,ed,ee){return W.Flatten(p.MapSeqCachedBy(ec,ed,ee));};W.Button=function(ec,ed,ee){var ef;ef=cP.Concat(ed);return dt.New(W.Clickable("button",ee),ef,W.TextNode(ec));};W.Input=function(ec,ed){return W.InputInternal("input",function(){return _.append(ec,[cG.Value(ed)]);});};W.Element=function(ec,ed,ee){var ef,eg;ef=cP.Concat(ed);eg=W.Concat(ee);return dt.New(c$.CreateElement(ec),ef,eg);};W.RunInPlace=function(ec,ed,ee){var ef;ef=c5.CreateRunState(ed,ee.docNode);p.Sink(dx.get_UseAnimations()||dy.BatchUpdatesEnabled()?dz.StartProcessor(c5.PerformAnimatedUpdate(ec,ef,ee.docNode)):function(){c5.PerformSyncUpdate(ec,ef,ee.docNode);},ee.updates);};W.Clickable=function(ec,ed){var ee;ee=c$.CreateElement(ec);ee.addEventListener("click",function(ef){ef.preventDefault();return ed();},false);return ee;};W.TextView=function(ec){var ed;ed=c5.CreateTextNode();return W.Mk({$:4,$0:ed},p.Map(function(ee){c5.UpdateTextNode(ed,ee);},ec));};W.InputInternal=function(ec,ed){var ee;ee=c$.CreateElement(ec);return dt.New(ee,cP.Concat(ed(ee)),W.get_Empty());};W.Run=function(ec,ed){c5.LinkElement(ec,ed.docNode);W.RunInPlace(false,ec,ed);};W.InputArea=function(ec,ed){return W.InputInternal("textarea",function(){return _.append(ec,[cG.Value(ed)]);});};W.New=d6.Ctor(function(ec,ed){g.New.call(this);this.docNode=ec;this.updates=ed;},W);X.llamadas=function(){_2.$cctor();return _2.llamadas;};X.ejecutarDataEventoNuevo=function(ec){var ed,ee,ef;ed=(ee=n.get_LoggedId(),function(eg){return(new cv.New()).Async("testing:FsRoot.ProzperServer+Rpc.ejecutarDataEventoNuevo:-788646142",[ee,eg]);});ef=bl.asyncResult();return ef.Run(ef.Delay(function(){var eg;eg=X.llamadas().Get()+1;X.llamadas().Set(eg);return ef.TryFinally(ef.Delay(function(){return ef.ReturnFrom$1(ed(ec));}),function(){var eh;eh=X.llamadas().Get()-1;X.llamadas().Set(eh);});}));};X.iterA=function(ec){bC.iterA(function(ed){a.alert(ed);},a.ignore,ec);};X.obtenerFormasDePagoPara=function(ec){var ed;function ee(ef){return(new cv.New()).Async("testing:FsRoot.ProzperServer+Rpc.obtenerFormasDePagoPara:1756328748",[ef]);}ed=bl.asyncResult();return ed.Run(ed.Delay(function(){var ef;ef=X.llamadas().Get()+1;X.llamadas().Set(ef);return ed.TryFinally(ed.Delay(function(){return ed.ReturnFrom$1(ee(ec));}),function(){var eg;eg=X.llamadas().Get()-1;X.llamadas().Set(eg);});}));};X.actualizarSubscripcion=function(ec){var ed,ee,ef;ed=(ee=n.get_LoggedId(),function(eg){return(new cv.New()).Async("testing:FsRoot.ProzperServer+Rpc.actualizarSubscripcion:-1961605227",[ee,eg]);});ef=bl.asyncResult();return ef.Run(ef.Delay(function(){var eg;eg=X.llamadas().Get()+1;X.llamadas().Set(eg);return ef.TryFinally(ef.Delay(function(){return ef.ReturnFrom$1(ed(ec));}),function(){var eh;eh=X.llamadas().Get()-1;X.llamadas().Set(eh);});}));};X.enviarCorreosInvitacion=function(ec,ed){var ee,ef,eg,eh;ee=(ef=n.get_LoggedId(),function(ei){return(new cv.New()).Async("testing:FsRoot.ProzperServer+Rpc.enviarCorreosInvitacion:328865132",[ef,ei[0],ei[1]]);});eg=[ec,ed];eh=bl.asyncResult();return eh.Run(eh.Delay(function(){var ei;ei=X.llamadas().Get()+1;X.llamadas().Set(ei);return eh.TryFinally(eh.Delay(function(){return eh.ReturnFrom$1(ee(eg));}),function(){var ej;ej=X.llamadas().Get()-1;X.llamadas().Set(ej);});}));};X.obtenerIdInfluyente=function(ec){var ed;function ee(ef){return(new cv.New()).Async("testing:FsRoot.ProzperServer+Rpc.obtenerIdInfluyente:231616815",[ef]);}ed=bl.asyncResult();return ed.Run(ed.Delay(function(){var ef;ef=X.llamadas().Get()+1;X.llamadas().Set(ef);return ed.TryFinally(ed.Delay(function(){return ed.ReturnFrom$1(ee(ec));}),function(){var eg;eg=X.llamadas().Get()-1;X.llamadas().Set(eg);});}));};X.obtenerUnions=function(){var ec;function ed(){return(new cv.New()).Async("testing:FsRoot.ProzperServer+Rpc.obtenerUnions:1877296388",[]);}ec=bl.asyncResult();return ec.Run(ec.Delay(function(){var ee;ee=X.llamadas().Get()+1;X.llamadas().Set(ee);return ec.TryFinally(ec.Delay(function(){return ec.ReturnFrom$1(ed(void 0));}),function(){var ef;ef=X.llamadas().Get()-1;X.llamadas().Set(ef);});}));};X.agregarUsuarioSiEsNuevo=function(ec){var ed,ee,ef;ed=(ee=n.get_LoggedId(),function(eg){return(new cv.New()).Async("testing:FsRoot.ProzperServer+Rpc.agregarUsuarioSiEsNuevo:1504370581",[ee,eg]);});ef=bl.asyncResult();return ef.Run(ef.Delay(function(){var eg;eg=X.llamadas().Get()+1;X.llamadas().Set(eg);return ef.TryFinally(ef.Delay(function(){return ef.ReturnFrom$1(ed(ec));}),function(){var eh;eh=X.llamadas().Get()-1;X.llamadas().Set(eh);});}));};X.obtenerEstadoParaUsuario=function(ec){var ed,ee;function ef(eg){return(new cv.New()).Async("testing:FsRoot.ProzperServer+Rpc.obtenerEstadoParaUsuario:604212109",[eg]);}ed=n.get_LoggedId();ee=bl.asyncResult();return ee.Run(ee.Delay(function(){var eg;eg=X.llamadas().Get()+1;X.llamadas().Set(eg);return ee.TryFinally(ee.Delay(function(){return ee.ReturnFrom$1(ef(ed));}),function(){var eh;eh=X.llamadas().Get()-1;X.llamadas().Set(eh);});}));};X.borrarFormaPago=function(ec){var ed,ee,ef;ed=(ee=n.get_LoggedId(),function(eg){return(new cv.New()).Async("testing:FsRoot.ProzperServer+Rpc.borrarFormaPago:-1961605227",[ee,eg]);});ef=bl.asyncResult();return ef.Run(ef.Delay(function(){var eg;eg=X.llamadas().Get()+1;X.llamadas().Set(eg);return ef.TryFinally(ef.Delay(function(){return ef.ReturnFrom$1(ed(ec));}),function(){var eh;eh=X.llamadas().Get()-1;X.llamadas().Set(eh);});}));};X.registrarTarjeta=function(ec){var ed,ee,ef;ed=(ee=n.get_LoggedId(),function(eg){return(new cv.New()).Async("testing:FsRoot.ProzperServer+Rpc.registrarTarjeta:-1713050734",[ee,eg]);});ef=bl.asyncResult();return ef.Run(ef.Delay(function(){var eg;eg=X.llamadas().Get()+1;X.llamadas().Set(eg);return ef.TryFinally(ef.Delay(function(){return ef.ReturnFrom$1(ed(ec));}),function(){var eh;eh=X.llamadas().Get()-1;X.llamadas().Set(eh);});}));};X.registrarCuenta=function(ec){var ed,ee,ef;ed=(ee=n.get_LoggedId(),function(eg){return(new cv.New()).Async("testing:FsRoot.ProzperServer+Rpc.registrarCuenta:-2087597067",[ee,eg]);});ef=bl.asyncResult();return ef.Run(ef.Delay(function(){var eg;eg=X.llamadas().Get()+1;X.llamadas().Set(eg);return ef.TryFinally(ef.Delay(function(){return ef.ReturnFrom$1(ed(ec));}),function(){var eh;eh=X.llamadas().Get()-1;X.llamadas().Set(eh);});}));};X.validarFormaPago=function(ec){var ed,ee,ef;ed=(ee=n.get_LoggedId(),function(eg){return(new cv.New()).Async("testing:FsRoot.ProzperServer+Rpc.validarFormaPago:-1961605227",[ee,eg]);});ef=bl.asyncResult();return ef.Run(ef.Delay(function(){var eg;eg=X.llamadas().Get()+1;X.llamadas().Set(eg);return ef.TryFinally(ef.Delay(function(){return ef.ReturnFrom$1(ed(ec));}),function(){var eh;eh=X.llamadas().Get()-1;X.llamadas().Set(eh);});}));};X.obtenerListaDocs=function(){var ec;function ed(){return(new cv.New()).Async("testing:FsRoot.ProzperServer+Rpc.obtenerListaDocs:736140527",[n.get_LoggedId()]);}ec=bl.asyncResult();return ec.Run(ec.Delay(function(){var ee;ee=X.llamadas().Get()+1;X.llamadas().Set(ee);return ec.TryFinally(ec.Delay(function(){return ec.ReturnFrom$1(ed(void 0));}),function(){var ef;ef=X.llamadas().Get()-1;X.llamadas().Set(ef);});}));};X.obtenerFormasDePago=function(){var ec;function ed(){return(new cv.New()).Async("testing:FsRoot.ProzperServer+Rpc.obtenerFormasDePagoId:-600551380",[n.get_LoggedId()]);}ec=bl.asyncResult();return ec.Run(ec.Delay(function(){var ee;ee=X.llamadas().Get()+1;X.llamadas().Set(ee);return ec.TryFinally(ec.Delay(function(){return ec.ReturnFrom$1(ed(void 0));}),function(){var ef;ef=X.llamadas().Get()-1;X.llamadas().Set(ef);});}));};Y=J.IdAliado=d6.Class({get_Id:function(){return this.$0;}},null,Y);Z.New=function(ec,ed,ee,ef,eg,eh){return{idAliado:ec,aliados:ed,anoActual:ee,periodoActual:ef,premisas:eg,nevento:eh};};_0=h.ConcreteVar=d6.Class({get_View:function(){return this.view;},Set:function(ec){if(this.isConst)(function(ed){return ed("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal");}(function(ed){d_.log(ed);}));else{_1.Obsolete(this.snap);this.current=ec;this.snap=_1.New({$:2,$0:ec,$1:[]});}},Get:function(){return this.current;},Update:function(ec){this.Set(ec(this.Get()));},UpdateMaybe:function(ec){var ed;ed=ec(this.Get());ed!=null&&ed.$==1?this.Set(ed.$0):void 0;}},q,_0);_0.New=d6.Ctor(function(ec,ed,ee){var ef;ef=this;q.New.call(this);this.isConst=ec;this.current=ee;this.snap=ed;this.view=function(){return ef.snap;};this.id=bV.Int();},_0);_1.Map=function(ec,ed){var ee,ef;ee=ed.s;return ee!=null&&ee.$==0?_1.New({$:0,$0:ec(ee.$0)}):(ef=_1.New({$:3,$0:[],$1:[]}),(_1.When(ed,function(eg){_1.MarkDone(ef,ed,ec(eg));},ef),ef));};_1.WhenRun=function(ec,ed,ee){var ef;ef=ec.s;ef==null?ee():ef!=null&&ef.$==2?(ef.$1.push(ee),ed(ef.$0)):ef!=null&&ef.$==3?(ef.$0.push(ed),ef.$1.push(ee)):ed(ef.$0);};_1.WhenObsoleteRun=function(ec,ed){var ee;ee=ec.s;ee==null?ed():ee!=null&&ee.$==2?ee.$1.push(ed):ee!=null&&ee.$==3?ee.$1.push(ed):void 0;};_1.When=function(ec,ed,ee){var ef;ef=ec.s;ef==null?_1.Obsolete(ee):ef!=null&&ef.$==2?(_1.EnqueueSafe(ef.$1,ee),ed(ef.$0)):ef!=null&&ef.$==3?(ef.$0.push(ed),_1.EnqueueSafe(ef.$1,ee)):ed(ef.$0);};_1.MarkDone=function(ec,ed,ee){var ef;if(ef=ed.s,ef!=null&&ef.$==0)_1.MarkForever(ec,ee);else _1.MarkReady(ec,ee);};_1.Map2=function(ec,ed,ee){var ef,eg,eh;function ei(ej){var ek,el,em;if(!(ek=eh.s,ek!=null&&ek.$==0||ek!=null&&ek.$==2)){el=_1.ValueAndForever(ed);em=_1.ValueAndForever(ee);el!=null&&el.$==1?em!=null&&em.$==1?el.$0[1]&&em.$0[1]?_1.MarkForever(eh,ec(el.$0[0],em.$0[0])):_1.MarkReady(eh,ec(el.$0[0],em.$0[0])):void 0:void 0;}}ef=ed.s;eg=ee.s;return ef!=null&&ef.$==0?eg!=null&&eg.$==0?_1.New({$:0,$0:ec(ef.$0,eg.$0)}):_1.Map2Opt1(ec,ef.$0,ee):eg!=null&&eg.$==0?_1.Map2Opt2(ec,eg.$0,ed):(eh=_1.New({$:3,$0:[],$1:[]}),(_1.When(ed,ei,eh),_1.When(ee,ei,eh),eh));};_1.Map3=function(ec,ed,ee,ef){var eg,eh,ei,ej;function ek(el){var em,en,eo,ep;if(!(em=ej.s,em!=null&&em.$==0||em!=null&&em.$==2)){en=_1.ValueAndForever(ed);eo=_1.ValueAndForever(ee);ep=_1.ValueAndForever(ef);en!=null&&en.$==1?eo!=null&&eo.$==1?ep!=null&&ep.$==1?en.$0[1]&&eo.$0[1]&&ep.$0[1]?_1.MarkForever(ej,ec(en.$0[0],eo.$0[0],ep.$0[0])):_1.MarkReady(ej,ec(en.$0[0],eo.$0[0],ep.$0[0])):void 0:void 0:void 0;}}eg=ed.s;eh=ee.s;ei=ef.s;return eg!=null&&eg.$==0?eh!=null&&eh.$==0?ei!=null&&ei.$==0?_1.New({$:0,$0:ec(eg.$0,eh.$0,ei.$0)}):_1.Map3Opt1(ec,eg.$0,eh.$0,ef):ei!=null&&ei.$==0?_1.Map3Opt2(ec,eg.$0,ei.$0,ee):_1.Map3Opt3(ec,eg.$0,ee,ef):eh!=null&&eh.$==0?ei!=null&&ei.$==0?_1.Map3Opt4(ec,eh.$0,ei.$0,ed):_1.Map3Opt5(ec,eh.$0,ed,ef):ei!=null&&ei.$==0?_1.Map3Opt6(ec,ei.$0,ed,ee):(ej=_1.New({$:3,$0:[],$1:[]}),(_1.When(ed,ek,ej),_1.When(ee,ek,ej),_1.When(ef,ek,ej),ej));};_1.MapAsync=function(ec,ed){var ee;ee=_1.New({$:3,$0:[],$1:[]});_1.When(ed,function(ef){bU.StartTo(ec(ef),function(eg){_1.MarkDone(ee,ed,eg);});},ee);return ee;};_1.TryGet=function(ec){var ed,ee;ed=ec.s;return(ed!=null&&ed.$==0?(ee=ed.$0,true):ed!=null&&ed.$==2&&(ee=ed.$0,true))?{$:1,$0:ee}:null;};_1.EnqueueSafe=function(ec,ed){var ee,ef,eg,eh;ec.push(ed);if(ec.length%20===0){ee=ec.slice(0);dG.Clear(ec);for(ef=0,eg=Q.length(ee)-1;ef<=eg;ef++){eh=Q.get(ee,ef);typeof eh=="object"?function(ei){if(ei.s)ec.push(ei);}(eh):function(ei){ec.push(ei);}(eh);}}else void 0;};_1.MarkForever=function(ec,ed){var ee,ef,eg,eh;ee=ec.s;if(ee!=null&&ee.$==3){ec.s={$:0,$0:ed};ef=ee.$0;for(eg=0,eh=Q.length(ef)-1;eg<=eh;eg++)(Q.get(ef,eg))(ed);}else void 0;};_1.MarkReady=function(ec,ed){var ee,ef,eg,eh;ee=ec.s;if(ee!=null&&ee.$==3){ec.s={$:2,$0:ed,$1:ee.$1};ef=ee.$0;for(eg=0,eh=Q.length(ef)-1;eg<=eh;eg++)(Q.get(ef,eg))(ed);}else void 0;};_1.Map2Opt1=function(ec,ed,ee){return _1.Map(function(ef){return ec(ed,ef);},ee);};_1.Map2Opt2=function(ec,ed,ee){return _1.Map(function(ef){return ec(ef,ed);},ee);};_1.ValueAndForever=function(ec){var ed;ed=ec.s;return ed!=null&&ed.$==0?{$:1,$0:[ed.$0,true]}:ed!=null&&ed.$==2?{$:1,$0:[ed.$0,false]}:null;};_1.Map3Opt1=function(ec,ed,ee,ef){return _1.Map(function(eg){return ec(ed,ee,eg);},ef);};_1.Map3Opt2=function(ec,ed,ee,ef){return _1.Map(function(eg){return ec(ed,eg,ee);},ef);};_1.Map3Opt3=function(ec,ed,ee,ef){return _1.Map2(function(eg,eh){return ec(ed,eg,eh);},ee,ef);};_1.Map3Opt4=function(ec,ed,ee,ef){return _1.Map(function(eg){return ec(eg,ed,ee);},ef);};_1.Map3Opt5=function(ec,ed,ee,ef){return _1.Map2(function(eg,eh){return ec(eg,ed,eh);},ee,ef);};_1.Map3Opt6=function(ec,ed,ee,ef){return _1.Map2(function(eg,eh){return ec(eg,eh,ed);},ee,ef);};_1.Map2Unit=function(ec,ed){var ee,ef,eg;function eh(){var ei,ej,ek;if(!(ei=eg.s,ei!=null&&ei.$==0||ei!=null&&ei.$==2)){ej=_1.ValueAndForever(ec);ek=_1.ValueAndForever(ed);ej!=null&&ej.$==1?ek!=null&&ek.$==1?ej.$0[1]&&ek.$0[1]?_1.MarkForever(eg,null):_1.MarkReady(eg,null):void 0:void 0;}}ee=ec.s;ef=ed.s;return ee!=null&&ee.$==0?ef!=null&&ef.$==0?_1.New({$:0,$0:null}):ed:ef!=null&&ef.$==0?ec:(eg=_1.New({$:3,$0:[],$1:[]}),(_1.When(ec,eh,eg),_1.When(ed,eh,eg),eg));};_1.Join=function(ec){var ed;ed=_1.New({$:3,$0:[],$1:[]});_1.When(ec,function(ee){var ef;ef=ee();_1.When(ef,function(eg){var eh,ei;if((eh=ef.s,eh!=null&&eh.$==0)&&(ei=ec.s,ei!=null&&ei.$==0))_1.MarkForever(ed,eg);else _1.MarkReady(ed,eg);},ed);},ed);return ed;};_1.Sequence=function(ec){var ed,ee,ef;function eg(eh){var ei;if(ef[0]===0){ei=Q.map(function(ej){var ek;ek=ej.s;return ek!=null&&ek.$==0?ek.$0:ek!=null&&ek.$==2?ek.$0:o.FailWith("value not found by View.Sequence");},ed);Q.forall(function(ej){var ek;ek=ej.s;return ek!=null&&ek.$==0;},ed)?_1.MarkForever(ee,ei):_1.MarkReady(ee,ei);}else ef[0]--;}ed=Q.ofSeq(ec);return ed.length==0?_1.New({$:0,$0:[]}):(ee=_1.New({$:3,$0:[],$1:[]}),(ef=[Q.length(ed)-1],(Q.iter(function(eh){_1.When(eh,eg,ee);},ed),ee)));};_1.Copy=function(ec){var ed,ee,ef;ed=ec.s;return ed==null?ec:ed!=null&&ed.$==2?(ee=_1.New({$:2,$0:ed.$0,$1:[]}),(_1.WhenObsolete(ec,ee),ee)):ed!=null&&ed.$==3?(ef=_1.New({$:3,$0:[],$1:[]}),(_1.When(ec,function(eg){_1.MarkDone(ef,ec,eg);},ef),ef)):ec;};_1.WhenObsolete=function(ec,ed){var ee;ee=ec.s;ee==null?_1.Obsolete(ed):ee!=null&&ee.$==2?_1.EnqueueSafe(ee.$1,ed):ee!=null&&ee.$==3?_1.EnqueueSafe(ee.$1,ed):void 0;};_2.$cctor=function(){var ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq;_2.$cctor=a.ignore;function er(ez){return bf.concat("\n",ez);}function es(ez){return b1.splitByChar$1("\n",ez);}function et(ez){var eA,eB;return b2.array(ez,{$:1,$0:0},{$:1,$0:(eA=0,(eB=Q.length(ez)-2,G.Compare(eA,eB)===1?eA:eB))});}function eu(ez){return bf.concat("\n",ez);}function ev(ez){return ez+"T00:00:00";}function ew(ez,eA,eB,eC,eD){bF.callback(ez,eA,eB,eC,eD);}function ex(ez){return ez==="ProzperLyt.mainContent"?cj.DefaultEP:{$:3,$0:ez};}function ey(ez){if(!G.Equals(m.endPointV().Get(),ez))m.endPointV().Set(ez);}_2.rtn=function(ez){return[ez];};_2.result=new bW.New();_2.result$1=bA.result();_2.resultP=new bX.New();_2.eff=new bZ.New();_2.asyncResult=new bm.New();_2.asyncResultP=new b0.New();_2.unindentStr=function(ez){return er(b1.unindent$1(ez));};_2.skipLastLine=(ec=function(ez){return et(es(ez));},function(ez){return eu(ec(ez));});_2.parseDateO2=(ed=bD.tryParseWith$1(function(ez){var eA,eB;eA=0;return[(eB=cT.TryParse(ez),eB!=null&&eB.$==1&&(eA=eB.$0,true)),eA];}),function(ez){return ed(ev(ez));});_2.parseDateO=bD.tryParseWith$1(function(ez){var eA,eB;eA=0;return[(eB=cT.TryParse(ez),eB!=null&&eB.$==1&&(eA=eB.$0,true)),eA];});_2.parseIntO=bD.tryParseWith$1(function(ez){var eA;eA=0;return[bO.TryParseInt32(ez,{get:function(){return eA;},set:function(eB){eA=eB;}}),eA];});_2.parseInt64O=bD.tryParseWith$1(function(ez){var eA;eA=0;return[bO.TryParseInt64(ez,{get:function(){return eA;},set:function(eB){eA=eB;}}),eA];});_2.parseSingleO=bD.tryParseWith$1(function(ez){var eA,eB;eA=0;return[(eB=a.Number(ez),a.isNaN(eB)?false:(eA=eB,true)),eA];});_2.parseDoubleO=bD.tryParseWith$1(function(ez){var eA,eB;eA=0;return[(eB=a.Number(ez),a.isNaN(eB)?false:(eA=eB,true)),eA];});_2.parseGuidO=bD.tryParseWith$1(function(ez){var eA;eA=null;return[bp.TryParse(ez,{get:function(){return eA;},set:function(eB){eA=eB;}}),eA];});_2["|Date|_|"]=bD.parseDateO$1();_2["|Int|_|"]=bD.parseIntO$1();_2["|Int64|_|"]=bD.parseInt64O$1();_2["|Single|_|"]=bD.parseSingleO$1();_2["|Double|_|"]=bD.parseDoubleO$1();_2["|Guid|_|"]=bD.parseGuidO$1();_2.serString=[b3.toJsonString,function(ez){return ez.tryString();}];_2.serFloat=[function(ez){return(function(eA){return function(eB){return eA(bt.prettyPrint(eB));};}(a.id))(ez);},function(ez){return ez.tryFloat();}];_2.serInt=[function(ez){return(function(eA){return function(eB){return eA(bt.prettyPrint(eB));};}(a.id))(ez);},function(ez){var eA;eA=ez.tryInt();return eA==null?null:{$:1,$0:o.toInt(eA.$0)};}];_2.serInt64=[function(ez){return function(eA){return ez(a.String(eA));};}(a.id),function(ez){return ez.tryInt();}];_2.serBool=[function(ez){return(function(eA){return function(eB){return eA(bt.prettyPrint(eB));};}(a.id))(ez);},function(ez){return ez.tryBool();}];_2.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";_2.rexEmail="(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@[*[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+]*";_2.policies=bv.ofArray([b5.SignIn,b5.SignUp,b5.EditProfile,b5.ResetPassword]);_2.premisasCalculo=bB.New(15,25,25,0,75,31,26,28);_2.telVacio=b6.New(b7.Movil,"","","","",false);_2.dirVacio=b8.New($.Error$1(""),b9.Habitacion,"","","",new b_({$:2,$0:""}),new b$({$:3,$0:""}),new ca({$:0,$0:""}));_2.tarVacio=cb.New("",ce.Visa,new cd({$:0,$0:""}),cc.New(2000,1));_2.ctaVacio=bw.New("","",cf.Ahorro,new by({$:0,$0:""}),new bx({$:0,$0:""}));_2.modeloVacio=Z.New(new Y({$:0,$0:""}),[],(ee=d9.now(),(new d9(ee)).getFullYear()),(ef=d9.now(),(new d9(ef)).getMonth()+1),J.premisasCalculo(),0);_2.correoVacio=bg.New("",null,null);_2.empty=(eg=bL.New(null,"","","","",b$.USA,cg.Masculino,(new d9(2000,1-1,1)).getTime()),K.New(new Y({$:0,$0:""}),null,null,null,eg,[],[],false,bs.Inactivo,bM.Dia01,bN.Regular,(new d9(2000,1-1,1)).getTime(),(new d9(2000,1-1,1)).getTime(),0,0,0,0,0,0));_2.serverEndPoint=r.Create(function(){return self.location.protocol==="http:"?"http://localhost:7071/api/":(function(ez){return function(eA){return ez("https://"+bt.toSafe(eA)+"/api/");};}(a.id))(self.location.host);});_2.originalProvider=ch.AjaxProvider();_2.getTokenOA=function(){var ez;ez=null;return cE.Delay(function(){return cE.Return(null);});};_2.rootdir="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperServer\\website";_2.TemplatesFileName="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperServer\\website"+"\\index.html";_2.LoginFileName="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperServer\\website"+"\\Login.html";((function(ez){return function(eA){return ez(bt.toSafe(eA));};}(function(ez){d_.log(ez);}))("D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperServer\\website\\index.html"));_2.storage=self.localStorage;_2.appId=bf.StartsWith(self.location.host,"prozper0")?"76703639-1d21-4bc3-bd46-c764f5ea78ee":"70ad4f9b-9a2b-409e-9c1e-d04dbb2e7cf2";_2.applicationId=bF.storeValue("applicationId",bF.appId());_2.tenantName=bF.storeValue("tenantName","prozper");_2.ref=bF.storeValue("ref","");_2.extraQueryParms=bF.storeValue("extraQueryParms","mkt=es-us");_2.refreshBefore=bF.storeValue("refreshBefore","0");_2.createOnStart=bF.storeValue("createOnStart","1");_2.forceLogin=bF.storeValue("forceLogin","1");_2.signInPolicy=bF.storeValue("signInPolicy","B2C_1_SignIn");_2.signUpPolicy=bF.storeValue("signUpPolicy","B2C_1_Registrarse");_2.editProfilePolicy=bF.storeValue("editProfilePolicy","B2C_1_EditarPerfil");_2.resetPasswordPolicy=bF.storeValue("resetPasswordPolicy","B2C_1_PasswordReset");_2.policyType=bF.storeValue("policyType","SignIn");eh=bF.storage().getItem("preambleState");eh==="InPreamble"||(eh===""||eh===null)?void bF.storeValue("preambleState","GoToSignIn"):null;_2.authority=bF.getAuthority(bF.tenantName(),bF.signInPolicy());_2.userO=i.Create$1(null);_2.agent=(ej=bF.applicationId(),(ek=bF.authority(),(el=ci.Options(null,null,null,null,null,null,null,null,null,{$:1,$0:false},null,{$:1,$0:false}),new self.Msal.UserAgentApplication(ej,ek,function(ez){return ew(ez[0],ez[1],ez[2],ez[3],ez[4]);},el))));_2.localStorage=self.localStorage;_2.modeloV=i.Create$1(Z.New(new Y({$:0,$0:":"}),[],(em=d9.now(),(new d9(em)).getFullYear()),(en=d9.now(),(new d9(en)).getMonth()+1),J.premisasCalculo(),-2));_2.formasPagoAliadoV=i.Create$1([]);_2.invitacionesV=i.Create$1("");_2.emailsInvitarW=p.Map(function(ez){var eA;return bf.concat("\n",_.sort(_.distinct((eA=j.REGEX$2(j.rexEmail$1(),"gi",ez),eA!=null&&eA.$==1?eA.$0:[]))));},m.invitacionesV().get_View());_2.invitacionesDisabledW=p.Map(function(ez){return ez===""?"disabled":"";},m.emailsInvitarW());_2.selAliadoIdOV=i.Create$1(null);_2.refAliadoIdOV=i.Create$1(null);_2.endPointV=ck.InstallHash(cj.DefaultEP,V.r());p.Sink(function(ez){if(ez.$==1);else if(ez.$==2);else if(ez.$==4)a.showPDF(ez.$0);else if(ez.$==5)a.playVideo();else bF.checkUser();},m.endPointV().get_View());_2.contentVar=new cC.New(p.Map2(function(ez,eA){var eB,eC;return eA.$==0&&!G.Equals(bF.userO().Get(),null)?"ProzperLyt.mainContent":eA.$==3&&(!G.Equals(bF.userO().Get(),null)&&(eC=eA.$0,true))?eC:eA.$==2?"ProzperLyt.cntPreRegister":eA.$==4?"ProzperLyt.cntPDF":eA.$==5?"ProzperLyt.cntVideo":"ProzperLyt.cntFormaNoUser";},bF.userO().get_View(),m.endPointV().get_View()),function(ez){return ey(ex(ez));});_2.aliadoW=(eo=p.get_Do(),p.Bind(function(ez){var eA,eB;eA=ez.idAliado;eB=_.tryFind(function(eC){return G.Equals(eC.id,eA);},ez.aliados);return p.Const(eB!=null&&eB.$==1?eB.$0:L.empty());},m.modeloV().get_View()));cm.installBearer(bF.getTokenO);_2.llamadas=i.Create$1(0);ch.set_EndPoint(cn.serverEndPoint().f()+"rpc/rpc");_2.shouldRefresh=true;p.Sink(function(){bn.refrescarData(true);},bF.userO().get_View());cE.Start((ep=null,cE.Delay(function(){return cE.While(function(){return true;},cE.Delay(function(){return cE.Bind(cE.Sleep(5*60*1000),function(){return cE.Return(null);});}));})),null);try{self.document.addEventListener("visibilityChange",function(){return null;},false);}catch(ez){null;}_2.paises=i.Create$1([]);_2.estados=i.Create$1([]);_2.tiposDir=i.Create$1([]);_2.tiposTel=i.Create$1([]);_2.generos=i.Create$1([]);_2.tiposCta=i.Create$1([]);_2.tiposTar=i.Create$1([]);_2.statuses=i.Create$1([]);_2.aniosV=i.Create$1([]);_2.mesesV=i.Create$1([]);X.iterA((eq=bl.asyncResult(),eq.Run(eq.Delay(function(){return eq.Bind$1(X.obtenerUnions(),function(eA){br.paises().Set(eA[0]);br.estados().Set(eA[1]);br.tiposDir().Set(eA[2]);br.tiposTel().Set(eA[3]);br.generos().Set(eA[4]);br.tiposCta().Set(eA[5]);br.tiposTar().Set(eA[6]);br.statuses().Set(eA[7]);br.aniosV().Set(eA[9]);br.mesesV().Set(eA[8]);return eq.Zero();});}))));_2.ftel=[function(eA){return eA.$==2?{$:1,$0:eA.$0}:null;},function(eA){return{$:2,$0:eA};}];_2.fcor=[function(eA){return eA.$==1?{$:1,$0:eA.$0}:null;},function(eA){return{$:1,$0:eA};}];_2.fdir=[function(eA){return eA.$==0?{$:1,$0:eA.$0}:null;},function(eA){return{$:0,$0:eA};}];_2.cuentaAutorizar=i.Create$1(W.TextNode("No hay cuenta seleccionada"));_2.titular=i.Create$1("");_2.pid=new co({$:0,$0:""});_2.ftar=[function(eA){var eB;eB=eA.cuentaPago;return eB.$==1?{$:1,$0:[eB.$0,x.msg(eA),eA.authorizeIdR.$==0]}:null;},function(eA){return function(eB){return bz.New(eA.nombre,$.Error$1(""),{$:1,$0:eB});};}];_2.fcta=[function(eA){var eB;eB=eA.cuentaPago;return eB.$==0?{$:1,$0:[eB.$0,x.msg(eA),eA.authorizeIdR.$==0]}:null;},function(eA){return function(eB){return bz.New(eA.nombre,$.Error$1(""),{$:0,$0:eB});};}];_2.docsV=i.Create$1([]);_2.uploaded=function(eA,eB){A.refrescarListaDocs();return a.alert(eB);};_2.layoutName="ProzperLyt";_2.appName="Prozper";_2.influencerV=i.Create$1("");_2.influencerClassW=p.MapAsync(function(eA){var eB;eB=null;return cE.Delay(function(){return cE.Bind(X.obtenerIdInfluyente(eA),function(eC){return eC.$==0?cE.Return("mui-btn--primary"):cE.Return("");});});},e.influencerV().get_View());};_3=h.ListModel=d6.Class({Append:function(ec){var ed,ee,ef,eg;ed=this;ee=this["var"].Get();ef=this.key(ec);eg=Q.tryFindIndex(function(eh){return G.Equals(ed.key(eh),ef);},ee);eg!=null&&eg.$==1?this["var"].Set(this.storage.SSetAt(eg.$0,ec,ee)):this["var"].Set(this.storage.SAppend(ec,ee));this.ObsoleteKey(ef);},TryFindByKey:function(ec){var ed;ed=this;return Q.tryFind(function(ee){return G.Equals(ed.key(ee),ec);},this["var"].Get());},ObsoleteKey:function(ec){var ed,ee;ed=(ee=null,[this.it.TryGetValue(ec,{get:function(){return ee;},set:function(ef){ee=ef;}}),ee]);ed[0]?(_1.Obsolete(ed[1]),this.it.Remove(ec)):void 0;},MapLens:function(ec){var ed;ed=this;return p.MapSeqCachedViewBy(ed.key,function(ee,ef){return ec(ee,ed["LensInto'"](a.id,function(eg,eh){return eh;},ee,ef));},this["var"].get_View());},"LensInto'":function(ec,ed,ee,ef){var eg,eh,ei;eg=this;eh=bV.Id();ei=new q({Get:function(){return ec(eg.FindByKey(ee));},Set:function(ej){return eg.UpdateBy(function(ek){return{$:1,$0:ed(ek,ej)};},ee);},SetFinal:function(ej){return this.Set(ej);},Update:function(ej){return eg.UpdateBy(function(ek){return{$:1,$0:ed(ek,ej(ec(ek)))};},ee);},UpdateMaybe:function(ej){return eg.UpdateBy(function(ek){var el;el=ej(ec(ek));return el==null?null:{$:1,$0:ed(ek,el.$0)};},ee);},get_View:function(){return ef;},get_Id:function(){return eh;}});q.New.call(ei);return ei;},FindByKey:function(ec){var ed;ed=this;return Q.find(function(ee){return G.Equals(ed.key(ee),ec);},this["var"].Get());},UpdateBy:function(ec,ed){var ee,ef,eg,eh,ei;ee=this;ef=this["var"].Get();eg=Q.tryFindIndex(function(ej){return G.Equals(ee.key(ej),ed);},ef);eg!=null&&eg.$==1?(eh=eg.$0,ei=ec(Q.get(ef,eh)),ei!=null&&ei.$==1?(this["var"].Set(this.storage.SSetAt(eh,ei.$0,ef)),this.ObsoleteKey(ed)):void 0):void 0;},GetEnumerator:function(){return cr.Get(this["var"].Get());},GetEnumerator0:function(){return cr.Get0(this["var"].Get());}},g,_3);_3.New$1=d6.Ctor(function(ec){_3.New$2.call(this,ec,[]);},_3);_3.New$2=d6.Ctor(function(ec,ed){var ee;ee=Q.ofSeq(ed);_3.New$3.call(this,ec,i.Create$1(ee),_do.InMemory(ee));},_3);_3.New$3=d6.Ctor(function(ec,ed,ee){g.New.call(this);this.key=ec;this["var"]=ed;this.storage=ee;this.v=p.Map(function(ef){return ef.slice();},this["var"].get_View());this.it=new bQ.New$5();},_3);_4.New=function(ec,ed){return{varName:ec,varVar:ed};};_5.New=function(ec,ed){return{viwName:ec,viwView:ed};};_6.New=function(ec,ed){return{docName:ec,docDoc:ed};};_7.NewFromSeq=function(ec){var ed,ee,ef;ed={};ee=cr.Get(ec);try{while(ee.MoveNext()){ef=ee.Current();ed[ef[0]]=ef[1];}}finally{if(typeof ee=="object"&&"Dispose"in ee)ee.Dispose();}return ed;};_9.New=function(ec,ed,ee){return{c:ec,v:ed,f:ee};};_.sortWith=function(ec,ed){return _.delay(function(){var ee;ee=Q.ofSeq(ed);Q.sortInPlaceWith(ec,ee);return ee;});};_.filter=function(ec,ed){return{GetEnumerator:function(){var ee;ee=cr.Get(ed);return new cs.New(null,null,function(ef){var eg,eh,ei;eg=ee.MoveNext();eh=ee.Current();ei=false;while(eg)if(ec(eh)){ef.c=eh;ei=true;eg=false;}else if(ee.MoveNext())eh=ee.Current();else eg=false;return ei;},function(){ee.Dispose();});}};};_.isEmpty=function(ec){var ed;ed=cr.Get(ec);try{return!ed.MoveNext();}finally{if(typeof ed=="object"&&"Dispose"in ed)ed.Dispose();}};_.map=function(ec,ed){return{GetEnumerator:function(){var ee;ee=cr.Get(ed);return new cs.New(null,null,function(ef){return ee.MoveNext()&&(ef.c=ec(ee.Current()),true);},function(){ee.Dispose();});}};};_.delay=function(ec){return{GetEnumerator:function(){return cr.Get(ec());}};};_.append=function(ec,ed){return{GetEnumerator:function(){var ee,ef;ee=cr.Get(ec);ef=[true];return new cs.New(ee,null,function(eg){var eh;return eg.s.MoveNext()?(eg.c=eg.s.Current(),true):(eh=eg.s,!G.Equals(eh,null)?eh.Dispose():void 0,eg.s=null,ef[0]&&(ef[0]=false,eg.s=cr.Get(ed),eg.s.MoveNext()?(eg.c=eg.s.Current(),true):(eg.s.Dispose(),eg.s=null,false)));},function(eg){var eh;eh=eg.s;!G.Equals(eh,null)?eh.Dispose():void 0;});}};};_.collect=function(ec,ed){return _.concat(_.map(ec,ed));};_.min=function(ec){var ed,ee,ef;ed=cr.Get(ec);try{if(!ed.MoveNext())_.seqEmpty();ee=ed.Current();while(ed.MoveNext()){ef=ed.Current();G.Compare(ef,ee)===-1?ee=ef:void 0;}return ee;}finally{if(typeof ed=="object"&&"Dispose"in ed)ed.Dispose();}};_.tryPick=function(ec,ed){var ee,ef;ee=cr.Get(ed);try{ef=null;while(G.Equals(ef,null)&&ee.MoveNext())ef=ec(ee.Current());return ef;}finally{if(typeof ee=="object"&&"Dispose"in ee)ee.Dispose();}};_.tryFind=function(ec,ed){var ee,ef,eg;ee=cr.Get(ed);try{ef=null;while(ef==null&&ee.MoveNext()){eg=ee.Current();ec(eg)?ef={$:1,$0:eg}:void 0;}return ef;}finally{if(typeof ee=="object"&&"Dispose"in ee)ee.Dispose();}};_.exists=function(ec,ed){var ee,ef;ee=cr.Get(ed);try{ef=false;while(!ef&&ee.MoveNext())ef=ec(ee.Current());return ef;}finally{if(typeof ee=="object"&&"Dispose"in ee)ee.Dispose();}};_.sumBy=function(ec,ed){return _.fold(function(ee,ef){return ee+ec(ef);},0,ed);};_.length=function(ec){var ed,ee;ed=0;ee=cr.Get(ec);try{while(ee.MoveNext())ed=ed+1;return ed;}finally{if(typeof ee=="object"&&"Dispose"in ee)ee.Dispose();}};_.zip=function(ec,ed){return _.map2(function(ee,ef){return[ee,ef];},ec,ed);};_.choose=function(ec,ed){return _.collect(function(ee){var ef;ef=ec(ee);return ef==null?cu.Empty:bv.ofArray([ef.$0]);},ed);};_.distinct=function(ec){return _.distinctBy(a.id,ec);};_.sort=function(ec){return _.sortBy(a.id,ec);};_.groupBy=function(ec,ed){return _.delay(function(){return Q.groupBy(ec,Q.ofSeq(ed));});};_.concat=function(ec){return{GetEnumerator:function(){var ed;ed=cr.Get(ec);return new cs.New(null,null,function(ee){var ef;while(true){ef=ee.s;if(G.Equals(ef,null)){if(ed.MoveNext()){ee.s=cr.Get(ed.Current());ee=ee;}else{ed.Dispose();return false;}}else if(ef.MoveNext()){ee.c=ef.Current();return true;}else{ee.Dispose();ee.s=null;ee=ee;}}},function(ee){var ef;ef=ee.s;!G.Equals(ef,null)?ef.Dispose():void 0;!G.Equals(ed,null)?ed.Dispose():void 0;});}};};_.seqEmpty=function(){return o.FailWith("The input sequence was empty.");};_.indexed=function(ec){return _.mapi(function(ed,ee){return[ed,ee];},ec);};_.fold=function(ec,ed,ee){var ef,eg;ef=ed;eg=cr.Get(ee);try{while(eg.MoveNext())ef=ec(ef,eg.Current());return ef;}finally{if(typeof eg=="object"&&"Dispose"in eg)eg.Dispose();}};_.map2=function(ec,ed,ee){return{GetEnumerator:function(){var ef,eg;ef=cr.Get(ed);eg=cr.Get(ee);return new cs.New(null,null,function(eh){return ef.MoveNext()&&eg.MoveNext()&&(eh.c=ec(ef.Current(),eg.Current()),true);},function(){ef.Dispose();eg.Dispose();});}};};_.tryFindIndex=function(ec,ed){var ee,ef,eg;ee=cr.Get(ed);try{ef=true;eg=0;while(ef&&ee.MoveNext())if(ec(ee.Current()))ef=false;else eg=eg+1;return ef?null:{$:1,$0:eg};}finally{if(typeof ee=="object"&&"Dispose"in ee)ee.Dispose();}};_.distinctBy=function(ec,ed){return{GetEnumerator:function(){var ee,ef;ee=cr.Get(ed);ef=new bR.New$3();return new cs.New(null,null,function(eg){var eh,ei;if(ee.MoveNext()){eh=ee.Current();ei=ef.Add(ec(eh));while(!ei&&ee.MoveNext()){eh=ee.Current();ei=ef.Add(ec(eh));}return ei&&(eg.c=eh,true);}else return false;},function(){ee.Dispose();});}};};_.sortBy=function(ec,ed){return _.delay(function(){var ee;ee=Q.ofSeq(ed);Q.sortInPlaceBy(ec,ee);return ee;});};_.mapi=function(ec,ed){return _.map2(ec,_.initInfinite(a.id),ed);};_.pairwise=function(ec){return _.map(function(ed){return[Q.get(ed,0),Q.get(ed,1)];},_.windowed(2,ec));};_.forall2=function(ec,ed,ee){return!_.exists2(function(ef,eg){return!ec(ef,eg);},ed,ee);};_.init=function(ec,ed){return _.take(ec,_.initInfinite(ed));};_.iteri=function(ec,ed){var ee,ef;ee=0;ef=cr.Get(ed);try{while(ef.MoveNext()){ec(ee,ef.Current());ee=ee+1;}}finally{if(typeof ef=="object"&&"Dispose"in ef)ef.Dispose();}};_.initInfinite=function(ec){return{GetEnumerator:function(){return new cs.New(0,null,function(ed){ed.c=ec(ed.s);ed.s=ed.s+1;return true;},void 0);}};};_.skip=function(ec,ed){return{GetEnumerator:function(){var ee;ee=cr.Get(ed);return new cs.New(true,null,function(ef){var eg,eh;if(ef.s){for(eg=1,eh=ec;eg<=eh;eg++)if(!ee.MoveNext())_.insufficient();ef.s=false;}else null;return ee.MoveNext()&&(ef.c=ee.Current(),true);},function(){ee.Dispose();});}};};_.nth=function(ec,ed){var ee,ef;if(ec<0)o.FailWith("negative index requested");ee=-1;ef=cr.Get(ed);try{while(ee<ec){!ef.MoveNext()?_.insufficient():void 0;ee=ee+1;}return ef.Current();}finally{if(typeof ef=="object"&&"Dispose"in ef)ef.Dispose();}};_.windowed=function(ec,ed){ec<=0?o.FailWith("The input must be positive."):void 0;return _.delay(function(){return _.enumUsing(cr.Get(ed),function(ee){var ef;ef=[];return _.append(_.enumWhile(function(){return ef.length<ec&&ee.MoveNext();},_.delay(function(){ef.push(ee.Current());return[];})),_.delay(function(){return ef.length===ec?_.append([ef.slice(0)],_.delay(function(){return _.enumWhile(function(){return ee.MoveNext();},_.delay(function(){ef.shift();ef.push(ee.Current());return[ef.slice(0)];}));})):[];}));});});};_.head=function(ec){var ed;ed=cr.Get(ec);try{return ed.MoveNext()?ed.Current():_.insufficient();}finally{if(typeof ed=="object"&&"Dispose"in ed)ed.Dispose();}};_.exists2=function(ec,ed,ee){var ef,eg,eh,ei;ef=cr.Get(ed);try{eh=cr.Get(ee);try{ei=false;while(!ei&&ef.MoveNext()&&eh.MoveNext())ei=ec(ef.Current(),eh.Current());eg=ei;}finally{if(typeof eh=="object"&&"Dispose"in eh)eh.Dispose();}return eg;}finally{if(typeof ef=="object"&&"Dispose"in ef)ef.Dispose();}};_.compareWith=function(ec,ed,ee){var ef,eg,eh,ei,ej;ef=cr.Get(ed);try{eh=cr.Get(ee);try{ei=0;ej=true;while(ej&&ei===0)if(ef.MoveNext())ei=eh.MoveNext()?ec(ef.Current(),eh.Current()):1;else if(eh.MoveNext())ei=-1;else ej=false;eg=ei;}finally{if(typeof eh=="object"&&"Dispose"in eh)eh.Dispose();}return eg;}finally{if(typeof ef=="object"&&"Dispose"in ef)ef.Dispose();}};_.take=function(ec,ed){ec<0?_.nonNegative():void 0;return{GetEnumerator:function(){var ee;ee=[cr.Get(ed)];return new cs.New(0,null,function(ef){var eg;ef.s=ef.s+1;return ef.s>ec?false:(eg=ee[0],G.Equals(eg,null)?_.insufficient():eg.MoveNext()?(ef.c=eg.Current(),ef.s===ec?(eg.Dispose(),ee[0]=null):void 0,true):(eg.Dispose(),ee[0]=null,_.insufficient()));},function(){var ef;ef=ee[0];!G.Equals(ef,null)?ef.Dispose():void 0;});}};};_.iter=function(ec,ed){var ee;ee=cr.Get(ed);try{while(ee.MoveNext())ec(ee.Current());}finally{if(typeof ee=="object"&&"Dispose"in ee)ee.Dispose();}};_.unfold=function(ec,ed){return{GetEnumerator:function(){return new cs.New(ed,null,function(ee){var ef;ef=ec(ee.s);return ef==null?false:(ee.c=ef.$0[0],ee.s=ef.$0[1],true);},void 0);}};};_.max=function(ec){var ed,ee,ef;ed=cr.Get(ec);try{if(!ed.MoveNext())_.seqEmpty();ee=ed.Current();while(ed.MoveNext()){ef=ed.Current();G.Compare(ef,ee)===1?ee=ef:void 0;}return ee;}finally{if(typeof ed=="object"&&"Dispose"in ed)ed.Dispose();}};_.forall=function(ec,ed){return!_.exists(function(ee){return!ec(ee);},ed);};ba.op_AmpGreater=function(ec,ed,ee,ef){var eg;eg=ec(ee,ef);return eg===0?ed(ee,ef):eg;};ba.asc=function(ec,ed,ee){return G.Compare(ec(ed),ec(ee));};ba.desc=function(ec,ed,ee){return G.Compare(ec(ee),ec(ed));};bb.New=function(ec,ed,ee,ef,eg,eh){return{hijosDe:ec,nivelDe:ed,aliado:ee,aliadoO:ef,hijos:eg,descendientes:eh};};bd=bc.FSharpSet=d6.Class({Contains:function(ec){return ct.Contains(ec,this.tree);},Remove:function(ec){return new bd.New$1(ct.Remove(ec,this.tree));},Add:function(ec){return new bd.New$1(ct.Add(ec,this.tree));},Equals:function(ec){return this.get_Count()===ec.get_Count()&&_.forall2(G.Equals,this,ec);},GetEnumerator$1:function(){return cr.Get(ct.Enumerate(false,this.tree));},get_Count:function(){var ec;ec=this.tree;return ec==null?0:ec.Count;},GetHashCode:function(){return -1741749453+G.Hash(Q.ofSeq(this));},GetEnumerator:function(){return this.GetEnumerator$1();},CompareTo0:function(ec){return _.compareWith(G.Compare,this,ec);},GetEnumerator0:function(){return this.GetEnumerator$1();}},g,bd);bd.op_Subtraction=function(ec,ed){return be.Filter(function(ee){return!ed.Contains(ee);},ec);};bd.New=d6.Ctor(function(ec){bd.New$1.call(this,ct.OfSeq(ec));},bd);bd.New$1=d6.Ctor(function(ec){g.New.call(this);this.tree=ec;},bd);be.Filter=function(ec,ed){var ee;return new bd.New$1((ee=Q.ofSeq(_.filter(ec,ed)),ct.Build(ee,0,ee.length-1)));};bf.PadLeft=function(ec,ed){return bf.PadLeftWith(ec,ed," ");};bf.concat=function(ec,ed){return Q.ofSeq(ed).join(ec);};bf.PadLeftWith=function(ec,ed,ee){return ed>ec.length?a.Array(ed-ec.length+1).join(ee)+ec:ec;};bf.Trim=function(ec){return ec.replace(new a.RegExp("^\\s+"),"").replace(new a.RegExp("\\s+$"),"");};bf.Substring=function(ec,ed,ee){return ec.substr(ed,ee);};bf.Replace=function(ec,ed,ee){function ef(eg){var eh,ei,ej;eh=eg.indexOf(ed);return eh!==-1?(ei=bf.ReplaceOnce(eg,ed,ee),(ej=eh+ee.length,bf.Substring(ei,0,eh+ee.length)+ef(ei.substring(ej)))):eg;}return ef(ec);};bf.SplitChars=function(ec,ed,ee){return bf.Split(ec,new a.RegExp("["+bf.RegexEscape(ed.join(""))+"]"),ee);};bf.StartsWith=function(ec,ed){return ec.substring(0,ed.length)==ed;};bf.ReplaceOnce=function(ec,ed,ee){return ec.replace(ed,ee);};bf.Split=function(ec,ed,ee){return ee===1?Q.filter(function(ef){return ef!=="";},bf.SplitWith(ec,ed)):bf.SplitWith(ec,ed);};bf.RegexEscape=function(ec){return ec.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};bf.IsNullOrEmpty=function(ec){return ec==null||ec=="";};bf.SplitWith=function(ec,ed){return ec.split(ed);};bf.replicate=function(ec,ed){return Q.create(ec,ed).join("");};bf.ReplaceChar=function(ec,ed,ee){return bf.Replace(ec,ed,ee);};bf.SplitStrings=function(ec,ed,ee){return bf.Split(ec,new a.RegExp(bf.concat("|",Q.map(bf.RegexEscape,ed))),ee);};bf.forall=function(ec,ed){return _.forall(ec,bf.protect(ed));};bf.protect=function(ec){return ec===null?"":ec;};bf.Join=function(ec,ed){return ed.join(ec);};bg=J.CorreoElectronico=d6.Class({toString:function(){return this.email;}},null,bg);bg.New=function(ec,ed,ee){return new bg({email:ec,enviado:ed,recibido:ee});};bh.formaDoc=function(ec){var ed,ee,ef,eg,eh,ei;ed=(ee=(ef=W.EmbedView(p.Map(br.crearOptions,br.generos().get_View())),R.Make().WithHole({$:0,$0:"generos",$1:ef})),(eg=S.CompleteHoles(ee.k,ee.h,[["nombres",0],["apellidos",0],["fechanacimiento",0],["genero",0]]),(eh=new P.New(eg[1],T.datospersonales(eg[0])),(ee.i=eh,eh))));p.Sink(function(ej){var ek;if(ej!=null&&ej.$==1){ek=ej.$0;ed.Hole("nombres").Set(bf.Trim(ek.nombre1+" "+ek.nombre2));ed.Hole("apellidos").Set(bf.Trim(ek.apellido1+" "+ek.apellido2));ed.Hole("fechanacimiento").Set(bu.toYYYYMMDD("-",ek.fechaNacimiento));ed.Hole("genero").Set((function(el){return function(em){return el(U.p$11(em));};}(a.id))(ek.genero));}},ec.get_View());ei=p.Apply(p.Apply(p.Map2(function(ej,ek){return function(el){return function(em){return _.map(function(en){return en[1];},_.filter(function(en){return en[0];},bv.ofArray([[bf.Trim(ej)==="","Nombres"],[bf.Trim(ek)==="","Apellidos"],[bf.Trim(el)==="","Fecha de Nacimiento"],[bf.Trim(em)==="","Genero"]])));};};},ed.Hole("nombres").get_View(),ed.Hole("apellidos").get_View()),ed.Hole("fechanacimiento").get_View()),ed.Hole("genero").get_View());p.Sink(function(ej){if(!G.Equals(ec.Get(),ej))ec.Set(ej);},p.Apply(p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(ej,ek){return d6.Curried(function(el,em,en,eo,ep){return!_.isEmpty(ej)?null:br.alertIfNone("Genero",cg.tryParse(ek),function(eq){return br.alertIfNone("Fecha incorrecta",(bD.parseDateO2$1())(el),function(er){return{$:1,$0:bL.New(null,Q.get(bf.SplitChars(bf.Trim(em),[" "],0),0),bf.concat(" ",b2.array(bf.SplitChars(bf.Trim(en),[" "],0),{$:1,$0:1},null)),Q.get(bf.SplitChars(bf.Trim(eo),[" "],0),0),bf.concat(" ",b2.array(bf.SplitChars(bf.Trim(ep),[" "],0),{$:1,$0:1},null)),new b$({$:3,$0:""}),eq,er)};});});},5);},ei,ed.Hole("genero").get_View()),ed.Hole("fechanacimiento").get_View()),ed.Hole("nombres").get_View()),ed.Hole("nombres").get_View()),ed.Hole("apellidos").get_View()),ed.Hole("apellidos").get_View()));return[ei,ed.get_Doc()];};bi.formaDoc=function(ec){var ed,ee,ef,eg,eh,ei,ej;ed=i.Create$1("");ee=(ef=R.Make().WithHole({$:2,$0:"mensaje",$1:ed.get_View()}),(eg=S.CompleteHoles(ef.k,ef.h,[["correo",0],["confirmarcorreo",0]]),(eh=new P.New(eg[1],T.correo(eg[0])),(ef.i=eh,eh))));ei=ec.Get();ei!=null&&ei.$==1?ee.Hole("confirmarcorreo").Set(a.String(ei.$0)):void 0;p.Sink(function(ek){ed.Set(ek);},p.Apply(p.Apply(p.Map2(function(ek,el){return function(em){return function(en){return bf.Trim(ek)===""||bf.Trim(el)===""||bf.Trim(em)===bf.Trim(en)?"":"Correos no son iguales";};};},ee.Hole("correo").get_View(),ee.Hole("confirmarcorreo").get_View()),ee.Hole("correo").get_View()),ee.Hole("confirmarcorreo").get_View()));p.Sink(function(ek){if(ek!=null&&ek.$==1)ee.Hole("correo").Set(ek.$0.email);},ec.get_View());ej=p.Apply(p.Apply(p.Map2(function(ek,el){return function(em){return function(en){return _.map(function(eo){return eo[1];},_.filter(function(eo){return eo[0];},bv.ofArray([[bf.Trim(ek)==="","Correo"],[bf.Trim(el)==="","ConfirmarCorreo"],[em!=="",en]])));};};},ee.Hole("correo").get_View(),ee.Hole("confirmarcorreo").get_View()),ed.get_View()),ed.get_View());p.Sink(function(ek){if(!G.Equals(ec.Get(),ek))ec.Set(ek);},p.Map2(function(ek,el){var em,en,eo,ep;return!_.isEmpty(ek)?null:(em=(en=ec.Get(),(eo={$:1,$0:J.correoVacio()},en==null?eo:en)),em==null?null:{$:1,$0:(ep=em.$0,bg.New(el,ep.enviado,ep.recibido))});},ej,ee.Hole("correo").get_View()));return[ej,ee.get_Doc()];};bj.formaDoc=function(ec){var ed,ee,ef,eg,eh,ei;ed=(ee=(ef=W.EmbedView(p.Map(br.crearOptions,br.tiposTel().get_View())),R.Make().WithHole({$:0,$0:"tipos",$1:ef})),(eg=S.CompleteHoles(ee.k,ee.h,[["tipotelefono",0],["codigopais",0],["codigoarea",0],["telefono",0],["extension",0]]),(eh=new P.New(eg[1],T.telefono(eg[0])),(ee.i=eh,eh))));p.Sink(function(ej){var ek;if(ej!=null&&ej.$==1){ek=ej.$0;ed.Hole("codigoarea").Set(ek.codigoArea);ed.Hole("codigopais").Set(ek.codigoPais);ed.Hole("telefono").Set(ek.numero);ed.Hole("extension").Set(ek.extension);ed.Hole("tipotelefono").Set((function(el){return function(em){return el(a.String(em));};}(a.id))(ek.tipoTelefono));}},ec.get_View());ei=p.Apply(p.Map2(function(ej,ek){return function(el){return _.map(function(em){return em[1];},_.filter(function(em){return em[0];},bv.ofArray([[bf.Trim(ej)==="","CodigoPais"],[bf.Trim(ek)==="","Telefono"],[bf.Trim(el)==="","TipoTelefono"]])));};},ed.Hole("codigopais").get_View(),ed.Hole("telefono").get_View()),ed.Hole("tipotelefono").get_View());p.Sink(function(ej){if(!G.Equals(ec.Get(),ej))ec.Set(ej);},p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(ej,ek){return d6.Curried(function(el,em,en,eo){return!_.isEmpty(ej)?null:br.alertIfNone("TipoTelefono",(b7.get_tryParse())(bf.Trim(ek)),function(ep){var eq;return{$:1,$0:(eq=bf.Trim(el),b6.New(ep,bf.Trim(em),eq,bf.Trim(en),bf.Trim(eo),false))};});},4);},ei,ed.Hole("tipotelefono").get_View()),ed.Hole("codigoarea").get_View()),ed.Hole("codigopais").get_View()),ed.Hole("telefono").get_View()),ed.Hole("extension").get_View()));return[ei,ed.get_Doc()];};bk.formaDoc=function(ec){var ed,ee,ef,eg,eh,ei,ej,ek;ed=(ee=(ef=W.EmbedView(p.Map(br.crearOptions,br.tiposDir().get_View())),(eg=W.EmbedView(p.Map(br.crearOptions,br.estados().get_View())),(eh=W.EmbedView(p.Map(br.crearOptions,br.paises().get_View())),R.Make().WithHole({$:0,$0:"paises",$1:eh})).WithHole({$:0,$0:"estados",$1:eg})).WithHole({$:0,$0:"tipos",$1:ef})),(ei=S.CompleteHoles(ee.k,ee.h,[["tipodireccion",0],["direccion1",0],["direccion2",0],["ciudad",0],["estado",0],["codigopostal",0],["pais",0]]),(ej=new P.New(ei[1],T.direccion(ei[0])),(ee.i=ej,ej))));p.Sink(function(el){var em;if(el!=null&&el.$==1){em=el.$0;ed.Hole("direccion1").Set(em.linea1);ed.Hole("direccion2").Set(em.linea2);ed.Hole("ciudad").Set(em.ciudad);ed.Hole("estado").Set((function(en){return function(eo){return en(a.String(eo));};}(a.id))(em.estado));ed.Hole("pais").Set((function(en){return function(eo){return en(a.String(eo));};}(a.id))(em.pais));ed.Hole("codigopostal").Set((function(en){return function(eo){return en(a.String(eo));};}(a.id))(em.zonaPostal));ed.Hole("tipodireccion").Set((function(en){return function(eo){return en(a.String(eo));};}(a.id))(em.tipoDireccion));}},ec.get_View());ek=p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(el,em){return d6.Curried(function(en,eo,ep,eq){return _.map(function(er){return er[1];},_.filter(function(er){return er[0];},bv.ofArray([[bf.Trim(el)==="","Direccion1"],[bf.Trim(em)==="","Ciudad"],[bf.Trim(en)==="","Estado"],[bf.Trim(eo)==="","Pais"],[bf.Trim(ep)==="","CodigoPostal"],[bf.Trim(eq)==="","TipoDireccion"]])));},4);},ed.Hole("direccion1").get_View(),ed.Hole("ciudad").get_View()),ed.Hole("estado").get_View()),ed.Hole("pais").get_View()),ed.Hole("codigopostal").get_View()),ed.Hole("tipodireccion").get_View());p.Sink(function(el){if(!G.Equals(ec.Get(),el))ec.Set(el);},p.Apply(p.Apply(p.Apply(p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(el,em){return d6.Curried(function(en,eo,ep,eq,er,es,et){return!_.isEmpty(el)?null:br.alertIfNone("TipoDireccion",b9.tryParse(bf.Trim(em)),function(eu){return br.alertIfNone("Estado",b_.tryParse(bf.Trim(en)),function(ev){return br.alertIfNone("Pais",b$.tryParse(bf.Trim(eo)),function(ew){return br.alertIfNone("CodigoPostal",ca.tryParse(bf.Trim(ep)),function(ex){var ey;return{$:1,$0:b8.New((ey=et==null?null:{$:1,$0:et.$0.authorizeIdR},ey==null?$.Error$1(""):ey.$0),eu,bf.Trim(eq),bf.Trim(er),bf.Trim(es),ev,ew,ex)};});});});});},7);},ek,ed.Hole("tipodireccion").get_View()),ed.Hole("estado").get_View()),ed.Hole("pais").get_View()),ed.Hole("codigopostal").get_View()),ed.Hole("direccion1").get_View()),ed.Hole("direccion2").get_View()),ed.Hole("ciudad").get_View()),ec.get_View()));return[ek,ed.get_Doc()];};bl.asyncResult=function(){_2.$cctor();return _2.asyncResult;};bm=bl.AsyncResultBuilder=d6.Class({Run:function(ec){return bC.bind(ec,bC.rtn());},Delay:a.id,Bind$1:function(ec,ed){return bC.bind(ed,ec);},Zero:function(){return bC.rtn();},Combine$1:function(ec,ed){return bC.bind(ed,ec);},For:function(ec,ed){var ee;ee=this;return this.Using(cr.Get(ec),function(ef){return ee.While(function(){return ef.MoveNext();},ee.Delay(function(){return ed(ef.Current());}));});},Return:function(ec){return bC.rtn(ec);},Bind:function(ec,ed){return bC.bind(ed,bC.rtnR(ec));},Using:function(ec,ed){return cE.Using(ec,ed);},While:function(ec,ed){return bC.whileLoop(ec,ed);},TryFinally:function(ec,ed){var ee;ee=null;return cE.Delay(function(){return cE.TryFinally(cE.Delay(function(){return ec();}),function(){ed();});});},ReturnFrom$1:a.id},g,bm);bm.New=d6.Ctor(function(){g.New.call(this);},bm);bn.refrescarData=function(ec){var ed,ee,ef;ec?bn.set_shouldRefresh(true):void 0;ed=bF.userO().Get();ed!=null&&ed.$==1?(ee=ed.$0,X.iterA((ef=bl.asyncResult(),ef.Run(ef.Delay(function(){return ef.Combine$1(bF.referidoPor()!==""?ef.Bind$1(X.agregarUsuarioSiEsNuevo(bF.claims(ee)),function(){return ef.Return();}):ef.Zero(),ef.Delay(function(){return!self.document.hidden?bn.shouldRefresh()?ef.Bind$1(X.obtenerEstadoParaUsuario(),function(eg){bn.set_shouldRefresh(false);return!G.Equals(m.modeloV().Get(),eg)?(m.modeloV().Set(eg),ef.Zero()):ef.Zero();}):ef.Zero():ef.Zero();}));}))))):m.modeloV().Set(J.modeloVacio());};bn.set_shouldRefresh=function(ec){_2.$cctor();_2.shouldRefresh=ec;};bn.shouldRefresh=function(){_2.$cctor();return _2.shouldRefresh;};bp.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new a.RegExp("[xy]","g"),function(ec){var ed,ee;ed=d7.random()*16|0;ee=ec=="x"?ed:ed&3|8;return ee.toString(16);});};bp.TryParse=function(ec,ed){try{ed.set(bp.Parse(ec));return true;}catch(ee){return false;}};bp.Parse=function(ec){var ed,ee,ef;try{return bp.ParseExact(ec,"D");}catch(eg){try{ed=bp.ParseExact(ec,"B");}catch(eh){try{ee=bp.ParseExact(ec,"P");}catch(ei){try{ef=bp.ParseExact(ec,"N");}catch(ej){ef=bp.ParseExact(ec,"X");}ee=ef;}ed=ee;}return ed;}};bp.ParseExact=function(ec,ed){var ee,ef,eg,ei,ej,ek,el,em,en,eo,ep,eq,er;function eh(es){var et,eu,ev,ew;for(et=0,eu=35;et<=eu;et++){et===8||(et===13||(et===18||et===23))?es[et]!=="-"?bp.ShapeError():void 0:(ew=es[et],!("0"<=ew&&ew<="9"||"a"<=ew&&ew<="f")?bp.ShapeError():void 0);}return es;}ei=ed.toUpperCase();if(ei==="N"){ej=bf.Trim(ec).toLowerCase();if(ej.length!==32)bp.ShapeError();for(ek=0,el=31;ek<=el;ek++){em=ej[ek];!("0"<=em&&em<="9"||"a"<=em&&em<="f")?bp.ShapeError():void 0;}return bf.Substring(ej,0,8)+"-"+bf.Substring(ej,8,4)+"-"+bf.Substring(ej,12,4)+"-"+bf.Substring(ej,16,4)+"-"+ej.substring(20);}else if(ei==="D"){ee=bf.Trim(ec).toLowerCase();ee.length!==36?bp.ShapeError():void 0;return eh(ee);}else if(ei==="B"){ef=bf.Trim(ec).toLowerCase();ef.length!==38||ef[0]!=="{"||ef[17]!=="}"?bp.ShapeError():void 0;return eh(bf.Substring(ef,1,36));}else if(ei==="P"){eg=bf.Trim(ec).toLowerCase();eg.length!==38||eg[0]!=="("||eg[17]!==")"?bp.ShapeError():void 0;return eh(bf.Substring(eg,1,36));}else if(ei==="X"){en=bf.Trim(ec).toLowerCase();if(en.length!==68)bp.ShapeError();for(eo=0,ep=67;eo<=ep;eo++){switch(eo){case 26:case 0:if(en[eo]!=="{")bp.ShapeError();break;case 62:case 57:case 52:case 47:case 42:case 37:case 32:case 27:case 19:case 12:case 1:if(en[eo]!=="0")bp.ShapeError();break;case 63:case 58:case 53:case 48:case 43:case 38:case 33:case 28:case 20:case 13:case 2:if(en[eo]!=="x")bp.ShapeError();break;case 61:case 56:case 51:case 46:case 41:case 36:case 31:case 25:case 18:case 11:if(en[eo]!==",")bp.ShapeError();break;case 67:case 66:if(en[eo]!=="{")bp.ShapeError();break;default:er=en[eo];!("0"<=er&&er<="9"||"a"<=er&&er<="f")?bp.ShapeError():void 0;break;}}return bf.Substring(en,3,8)+"-"+bf.Substring(en,14,4)+"-"+bf.Substring(en,21,4)+"-"+bf.Substring(en,29,2)+bf.Substring(en,34,2)+"-"+bf.Substring(en,39,2)+bf.Substring(en,44,2)+bf.Substring(en,49,2)+bf.Substring(en,54,2)+bf.Substring(en,59,2)+bf.Substring(en,64,2);}else return bp.FormatError();};bp.ShapeError=function(){throw new dU.New$1("Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");};bp.FormatError=function(){throw new dU.New$1("Format String can be only \"D\", \"d\", \"N\", \"n\", \"P\", \"p\", \"B\", \"b\", \"X\" or \"x\".");};bq.New=function(ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en){return{nombre:ec,status:ed,influyente:ee,tipo:ef,referido:eg,nivel:eh,referidos:ei,descendientes:ej,comision:ek,diaPago:el,desde:em,Id:en};};Q.map=function(ec,ed){var ee,ef,eg;ee=new a.Array(ed.length);for(ef=0,eg=ed.length-1;ef<=eg;ef++)ee[ef]=ec(ed[ef]);return ee;};Q.sortBy=function(ec,ed){return Q.map(function(ee){return ee[0];},Q.mapi(function(ee,ef){return[ef,[ec(ef),ee]];},ed).sort(function(ee,ef){return G.Compare(ee[1],ef[1]);}));};Q.reduce=function(ec,ed){var ee,ef,eg;Q.nonEmpty(ed);ee=ed[0];for(ef=1,eg=ed.length-1;ef<=eg;ef++)ee=ec(ee,ed[ef]);return ee;};Q.filter=function(ec,ed){var ee,ef,eg;ee=[];for(ef=0,eg=ed.length-1;ef<=eg;ef++)if(ec(ed[ef]))ee.push(ed[ef]);return ee;};Q.choose=function(ec,ed){var ee,ef,eg,eh;ee=[];for(ef=0,eg=ed.length-1;ef<=eg;ef++){eh=ec(ed[ef]);eh==null?void 0:ee.push(eh.$0);}return ee;};Q.ofSeq=function(ec){var ed,ee;if(ec instanceof a.Array)return ec.slice();else if(ec instanceof cu)return Q.ofList(ec);else{ed=[];ee=cr.Get(ec);try{while(ee.MoveNext())ed.push(ee.Current());return ed;}finally{if(typeof ee=="object"&&"Dispose"in ee)ee.Dispose();}}};Q.sortInPlaceWith=function(ec,ed){ed.sort(ec);};Q.mapi=function(ec,ed){var ee,ef,eg;ee=new a.Array(ed.length);for(ef=0,eg=ed.length-1;ef<=eg;ef++)ee[ef]=ec(ef,ed[ef]);return ee;};Q.nonEmpty=function(ec){if(ec.length===0)o.FailWith("The input array was empty.");};Q.tryFindIndex=function(ec,ed){var ee,ef;ee=null;ef=0;while(ef<ed.length&&ee==null){ec(ed[ef])?ee={$:1,$0:ef}:void 0;ef=ef+1;}return ee;};Q.ofList=function(ec){var ed,ee;ee=[];ed=ec;while(!(ed.$==0)){ee.push(bv.head(ed));ed=bv.tail(ed);}return ee;};Q.sortInPlace=function(ec){Q.mapInPlace(function(ed){return ed[0];},Q.mapiInPlace(function(ed,ee){return[ee,ed];},ec).sort(G.Compare));};Q.tryFind=function(ec,ed){var ee,ef;ee=null;ef=0;while(ef<ed.length&&ee==null){ec(ed[ef])?ee={$:1,$0:ed[ef]}:void 0;ef=ef+1;}return ee;};Q.sortInPlaceBy=function(ec,ed){Q.mapInPlace(function(ee){return ee[0];},Q.mapiInPlace(function(ee,ef){return[ef,[ec(ef),ee]];},ed).sort(function(ee,ef){return G.Compare(ee[1],ef[1]);}));};Q.map2=function(ec,ed,ee){var ef,eg,eh;Q.checkLength(ed,ee);ef=new a.Array(ee.length);for(eg=0,eh=ee.length-1;eg<=eh;eg++)ef[eg]=ec(ed[eg],ee[eg]);return ef;};Q.forall=function(ec,ed){var ee,ef,eg,eh;ee=true;ef=0;eh=Q.length(ed);while(ee&&ef<eh)if(ec(ed[ef]))ef=ef+1;else ee=false;return ee;};Q.init=function(ec,ed){var ee,ef,eg;ec<0?o.FailWith("Negative size given."):null;ee=new a.Array(ec);for(ef=0,eg=ec-1;ef<=eg;ef++)ee[ef]=ed(ef);return ee;};Q.pick=function(ec,ed){var ee;ee=Q.tryPick(ec,ed);return ee==null?o.FailWith("KeyNotFoundException"):ee.$0;};Q.tryPick=function(ec,ed){var ee,ef,eg;ee=null;ef=0;while(ef<ed.length&&ee==null){eg=ec(ed[ef]);eg!=null&&eg.$==1?ee=eg:void 0;ef=ef+1;}return ee;};Q.concat=function(ec){return a.Array.prototype.concat.apply([],Q.ofSeq(ec));};Q.checkLength=function(ec,ed){if(ec.length!==ed.length)o.FailWith("The arrays have different lengths.");};Q.exists=function(ec,ed){var ee,ef,eg,eh;ee=false;ef=0;eh=Q.length(ed);while(!ee&&ef<eh)if(ec(ed[ef]))ee=true;else ef=ef+1;return ee;};Q.create=function(ec,ed){var ee,ef,eg;ee=new a.Array(ec);for(ef=0,eg=ec-1;ef<=eg;ef++)ee[ef]=ed;return ee;};Q.foldBack=function(ec,ed,ee){var ef,eg,eh,ei,ej;ef=ee;eh=ed.length;for(ei=1,ej=eh;ei<=ej;ei++)ef=ec(ed[eh-ei],ef);return ef;};Q.iter=function(ec,ed){var ee,ef;for(ee=0,ef=ed.length-1;ee<=ef;ee++)ec(ed[ee]);};Q.find=function(ec,ed){var ee;ee=Q.tryFind(ec,ed);return ee==null?o.FailWith("KeyNotFoundException"):ee.$0;};br.statuses=function(){_2.$cctor();return _2.statuses;};br.crearOptions=function(ec){return W.Concat(_.map(br.crearOption,ec));};br.crearOptions2=function(ec){return W.Concat(_.map(function(ed){return br.crearOption2(ed[0],ed[1]);},ec));};br.paises=function(){_2.$cctor();return _2.paises;};br.estados=function(){_2.$cctor();return _2.estados;};br.tiposDir=function(){_2.$cctor();return _2.tiposDir;};br.tiposTel=function(){_2.$cctor();return _2.tiposTel;};br.generos=function(){_2.$cctor();return _2.generos;};br.tiposCta=function(){_2.$cctor();return _2.tiposCta;};br.tiposTar=function(){_2.$cctor();return _2.tiposTar;};br.aniosV=function(){_2.$cctor();return _2.aniosV;};br.mesesV=function(){_2.$cctor();return _2.mesesV;};br.alertIfNone=function(ec,ed,ee){return ed!=null&&ed.$==1?ee(ed.$0):(a.alert("Error not caught: "+ec),null);};br.removeButton=function(ec,ed){return W.Element("form",[cP.Create("class","mui-panel")],[ed,W.Button("borrar",[cP.Create("title","borrar")],ec)]);};br.fst3=a.id;br.crearOption=function(ec){return W.Element("option",[],[W.TextNode(ec)]);};br.crearOption2=function(ec,ed){return W.Element("option",[cP.Create("value",ed)],[W.TextNode(ec)]);};br.thr3=function(ec,ed,ee){return ee;};br.snd3=function(ec,ed,ee){return ed;};bs=J.StatusAliado=d6.Class({toString:function(){return(function(ec){return function(ed){return ec(U.p$1(ed));};}(a.id))(this);}},null,bs);bs.tryParse=function(ec){var ed;ed=bf.Trim(ec).toUpperCase();return ed==="CUENTACREADA"?bs.CuentaCreada:ed==="DATOSBANCARIOSINGRESADOS"?bs.DatosBancariosIngresados:ed==="ACTIVO"?bs.Activo:ed==="CANCELADO"?bs.Cancelado:bs.Inactivo;};bs.Inactivo=new bs({$:3});bs.CuentaCreada=new bs({$:0});bs.DatosBancariosIngresados=new bs({$:1});bs.Activo=new bs({$:2});bs.Cancelado=new bs({$:4});bt.toSafe=function(ec){return ec==null?"":ec;};bt.prettyPrint=function(ec){var ed,ee;function ef(eg,eh){return eg+" = "+bt.prettyPrint(eh);}return ec===null?"null":(ed=typeof ec,ed=="string"?"\""+ec+"\"":ed=="object"?ec instanceof a.Array?"[|"+bf.concat("; ",Q.map(bt.prettyPrint,ec))+"|]":(ee=a.String(ec),ee==="[object Object]"?"{"+bf.concat("; ",Q.map(function(eg){return ef(eg[0],eg[1]);},F.GetFields(ec)))+"}":ee):a.String(ec));};bt.padNumLeft=function(ec,ed){var ee;ee=Q.get(ec,0);return ee===" "||ee==="+"||ee==="-"?ee+bf.PadLeftWith(ec.substr(1),ed-1,"0"):bf.PadLeftWith(ec,ed,"0");};bt.printList=function(ec,ed){return"["+bf.concat("; ",_.map(ec,ed))+"]";};$["String.Right$1"]=function(ec,ed){var ee,ef;return $["String.Substring2$1"](ec,(ee=0,(ef=ec.length-ed,G.Compare(ee,ef)===1?ee:ef)),ec.length);};$.Error$1=function(ec){return{$:1,$0:ec};};$["String.Substring2$1"]=function(ec,ed,ee){var ef,eg;while(true){if(ee<=0)return"";else if(ed<0){ef=ed;ed=0;ee=ee+ef;}else return ed>=ec.length?"":bf.Substring(ec,ed,(eg=ec.length-ed,G.Compare(ee,eg)===-1?ee:eg));}};$["String.Left$1"]=function(ec,ed){return ed<0?$["String.Substring2$1"](ec,0,ec.length+ed):$["String.Substring2$1"](ec,0,ed);};$["String.get_toUnderscore$1"]=function(ec,ed){return Q.ofSeq(_.collect(a.id,_.mapi(function(ee,ef){return ee>0&&dS.IsUpper(ef)?bv.ofArray(["_",ef]):bv.ofArray([ef]);},ec))).join("");};bu.toYYYYMMDD=function(ec,ed){return((((((d6.Curried(function(ee,ef,eg,eh,ei,ej){return ee(a.String(ef)+bt.toSafe(eg)+bt.padNumLeft(a.String(eh),2)+bt.toSafe(ei)+bt.padNumLeft(a.String(ej),2));},6))(a.id))((new d9(ed)).getFullYear()))(ec))((new d9(ed)).getMonth()+1))(ec))((new d9(ed)).getDate());};bv.ofArray=function(ec){var ed,ee,ef;ed=cu.Empty;for(ee=Q.length(ec)-1,ef=0;ee>=ef;ee--)ed=new cu({$:1,$0:Q.get(ec,ee),$1:ed});return ed;};bv.ofSeq=function(ec){var ed,ee,ef,eg,eh,ei;if(ec instanceof cu)return ec;else if(ec instanceof a.Array)return bv.ofArray(ec);else{ed=cr.Get(ec);try{ef=ed.MoveNext();if(!ef)ee=cu.Empty;else{eh=new cu({$:1});eg=eh;while(ef){eg.$0=ed.Current();ed.MoveNext()?eg=(ei=new cu({$:1}),eg.$1=ei,ei):ef=false;}eg.$1=cu.Empty;ee=eh;}return ee;}finally{if(typeof ed=="object"&&"Dispose"in ed)ed.Dispose();}}};bv.rev=function(ec){var ed,ee;ed=cu.Empty;ee=ec;while(ee.$==1){ed=new cu({$:1,$0:ee.$0,$1:ed});ee=ee.$1;}return ed;};bv.head=function(ec){return ec.$==1?ec.$0:bv.listEmpty();};bv.tail=function(ec){return ec.$==1?ec.$1:bv.listEmpty();};bv.listEmpty=function(){return o.FailWith("The input list was empty.");};bv.iter=function(ec,ed){var ee;ee=ed;while(ee.$==1){ec(bv.head(ee));ee=bv.tail(ee);}};bw.New=function(ec,ed,ee,ef,eg){return{titular:ec,banco:ed,tipo:ee,numero:ef,routing:eg};};bx=J.RoutingNumber=d6.Class({get_Id:function(){return this.$0;}},null,bx);by=J.NumeroCuenta=d6.Class({get_Id:function(){return this.$0;}},null,by);bz.New=function(ec,ed,ee){return{nombre:ec,authorizeIdR:ed,cuentaPago:ee};};J.ctaVacio=function(){_2.$cctor();return _2.ctaVacio;};J.premisasCalculo=function(){_2.$cctor();return _2.premisasCalculo;};J.correoVacio=function(){_2.$cctor();return _2.correoVacio;};J.modeloVacio=function(){_2.$cctor();return _2.modeloVacio;};J.telVacio=function(){_2.$cctor();return _2.telVacio;};J.dirVacio=function(){_2.$cctor();return _2.dirVacio;};J.tarVacio=function(){_2.$cctor();return _2.tarVacio;};bA.defaultValue=function(ec,ed){return ed.$==1?ec:ed.$0;};bA.result=function(){_2.$cctor();return _2.result;};bA.iter=function(ec,ed,ee){bA.defaultWith(ec,di.Map(ed,ee));};bA.defaultWith=function(ec,ed){return ed.$==1?ec(ed.$0):ed.$0;};bB.New=function(ec,ed,ee,ef,eg,eh,ei,ej){return{comisionReferidosRegular:ec,comisionReferidosMaster:ed,comisionDescendientesMaster:ee,comisionDescendientesRegular:ef,montoAfiliacion:eg,numeroReferidosMaster:eh,diaCorte1:ei,diaCorte2:ej};};bC.map=function(ec,ed){return bC.bind(function(ee){return bC.rtn(ec(ee));},ed);};bC.rtn=function(ec){return cE.Return({$:0,$0:ec});};bC.bind=function(ec,ed){var ee;ee=null;return cE.Delay(function(){return cE.Bind(ed,function(ef){return ef.$==1?cE.Return($.Error$1(ef.$0)):ec(ef.$0);});});};bC.iterA=function(ec,ed,ee){function ef(eh){bA.iter(ec,ed,eh);}function eg(eh){return cE.Return(eh);}cE.Start(cE.Bind(ee,function(eh){return eg(ef(eh));}),null);};bC.rtnR=function(ec){return cE.Return(ec);};bC.whileLoop=function(ec,ed){return ec()?bC.bind(function(){return bC.whileLoop(ec,ed);},ed()):bC.rtn();};bD.parseDateO$1=function(){_2.$cctor();return _2.parseDateO;};bD.tryParseWith$1=function(ec){function ed(ee,ef){return ee?{$:1,$0:ef}:null;}return function(ee){return ed.apply(null,ec(ee));};};bD.parseIntO$1=function(){_2.$cctor();return _2.parseIntO;};bD.parseInt64O$1=function(){_2.$cctor();return _2.parseInt64O;};bD.parseSingleO$1=function(){_2.$cctor();return _2.parseSingleO;};bD.parseDoubleO$1=function(){_2.$cctor();return _2.parseDoubleO;};bD.parseGuidO$1=function(){_2.$cctor();return _2.parseGuidO;};bD.parseDateO2$1=function(){_2.$cctor();return _2.parseDateO2;};bE.New=function(ec,ed,ee){return{actName:ec,actFunction:ed,actEnabled:ee};};bF.logout=function(){bF.executePolicy(true,b5.SignIn);};bF.userO=function(){_2.$cctor();return _2.userO;};bF.storeValue=function(ec,ed){bF.storage().setItem(ec,ed);return ed;};bF.appId=function(){_2.$cctor();return _2.appId;};bF.storage=function(){_2.$cctor();return _2.storage;};bF.getAuthority=function(ec,ed){return((((d6.Curried(function(ee,ef,eg,eh){return ee("https://"+bt.toSafe(ef)+".b2clogin.com/tfp/"+bt.toSafe(eg)+".onmicrosoft.com/"+bt.toSafe(eh));},4))(a.id))(ec))(ec))(ed);};bF.tenantName=function(){_2.$cctor();return _2.tenantName;};bF.signInPolicy=function(){_2.$cctor();return _2.signInPolicy;};bF.applicationId=function(){_2.$cctor();return _2.applicationId;};bF.authority=function(){_2.$cctor();return _2.authority;};bF.callback=function(ec,ed,ee,ef,eg){((function(eh){return function(ei){return eh("callback: "+("("+bt.prettyPrint(ei[0])+", "+bt.prettyPrint(ei[1])+", "+bt.prettyPrint(ei[2])+", "+bt.prettyPrint(ei[3])+", "+bt.prettyPrint(ei[4])+")"));};}(function(eh){d_.log(eh);}))([ec,ee,ef,ed,eg]));};bF.checkUser=function(){var ec;cE.Start((ec=null,cE.Delay(function(){return cE.Bind(cE.Sleep(100),function(){return cE.While(function(){return true;},cE.Delay(function(){var ed,ee;ed=(ee=bF.agent().getUser(),G.Equals(ee,null)?null:{$:1,$0:ee});return cE.Combine(bF.getId(ed)!==bF.getId(bF.userO().Get())?(bF.userO().Set(ed),cE.Zero()):cE.Zero(),cE.Delay(function(){return cE.Combine(G.Equals(bF.userO().Get(),null)?(bF.executePolicy(false,b5.SignIn),cE.Zero()):cE.Zero(),cE.Delay(function(){return cE.Bind(cE.Sleep(9000),function(){return cE.Return(null);});}));}));}));});})),null);};bF.getTokenO=function(){var ec;ec=null;return cE.Delay(function(){var ed;ed=bF.userO().Get();return ed==null?cE.Return(null):cE.Bind(c1.AsAsync(bF.agent().acquireTokenPopup([(((d6.Curried3(function(ee,ef,eg){return ee("https://"+bt.toSafe(ef)+".onmicrosoft.com/"+bt.toSafe(eg)+"/user_impersonation");}))(a.id))(bF.tenantName()))(bF.appId())],bF.authority(),ed.$0,null)),function(ee){return cE.Return({$:1,$0:ee});});});};bF.referidoPor=function(){return bF.localStorage().getItem("referidoPor");};bF.claims=function(ec){var ed;ed=[["oid",ec.idToken.oid],["city",ec.idToken.city],["country",ec.idToken.country],["extension_DateOfBirth",ec.idToken.extension_DateOfBirth],["given_name",ec.idToken.given_name],["postalCode",ec.idToken.postalCode],["state",ec.idToken.state],["streetAddress",ec.idToken.streetAddress],["family_name",ec.idToken.family_name],["emails",Q.get(ec.idToken.emails,0)],["referidoPor",bF.referidoPor()]];bF.localStorage().setItem("referidoPor","");return ed;};bF.executePolicy=function(ec,ed){bF.storeValue("forceLogin",ec?"1":"0");bF.storeValue("goInsideLink",self.location.href);bF.storeValue("policyType",a.String(ed));self.location.replace("blob/Msal.html");};bF.agent=function(){_2.$cctor();return _2.agent;};bF.getId=function(ec){var ed;ed=ec==null?null:{$:1,$0:ec.$0.idToken.oid};return ed==null?"":ed.$0;};bF.localStorage=function(){_2.$cctor();return _2.localStorage;};bG["AsyncResultBuilder.Bind"]=function(ec,ed,ee){function ef(eh){return{$:0,$0:eh};}function eg(eh){return cE.Return(eh);}return bC.bind(ee,cE.Bind(ed,function(eh){return eg(ef(eh));}));};bI.New=function(ec,ed){return{lytName:ec,lytDefinition:ed};};bJ.$cctor=function(){var ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH;bJ.$cctor=a.ignore;function eI(fd){return bf.concat("\n",fd);}function eJ(fd){return b1.splitByChar("\n",fd);}function eK(fd){var fe,ff;return b2.array(fd,{$:1,$0:0},{$:1,$0:(fe=0,(ff=Q.length(fd)-2,G.Compare(fe,ff)===1?fe:ff))});}function eL(fd){return bf.concat("\n",fd);}function eM(fd){return fd+"T00:00:00";}function eN(fd){var fe;function ff(fh){return k.plugIns().TryFindByKey(fh);}function fg(fh){var fi;fi=k.defaultPlugIn();return fh==null?fi:fh.$0;}fe=function(fh){return fh==null?null:ff(fh.$0);};return function(fh){return fg(fe(fh));};}function eO(fd){var fe;fe=null;return eg.TryGetValue(fd,{get:function(){return fe;},set:function(ff){fe=ff;}})?{$:1,$0:fe}:null;}function eP(fd,fe){eg.set_Item(fd,fe);return fe;}function eQ(fd,fe){var ff;ff=eO(fd);return ff==null?eP(fd,fe(fd)):ff.$0;}function eR(fd){var fe;fe=null;return ej.TryGetValue(fd,{get:function(){return fe;},set:function(ff){fe=ff;}})?{$:1,$0:fe}:null;}function eS(fd,fe){ej.set_Item(fd,fe);return fe;}function eT(fd,fe){var ff;ff=eR(fd);return ff==null?eS(fd,fe(fd)):ff.$0;}function eU(fd){var fe;fe=null;return em.TryGetValue(fd,{get:function(){return fe;},set:function(ff){fe=ff;}})?{$:1,$0:fe}:null;}function eV(fd,fe){em.set_Item(fd,fe);return fe;}function eW(fd,fe){var ff;ff=eU(fd);return ff==null?eV(fd,fe(fd)):ff.$0;}function eX(fd){var fe;fe=null;return ep.TryGetValue(fd,{get:function(){return fe;},set:function(ff){fe=ff;}})?{$:1,$0:fe}:null;}function eY(fd,fe){ep.set_Item(fd,fe);return fe;}function eZ(fd,fe){var ff;ff=eX(fd);return ff==null?eY(fd,fe(fd)):ff.$0;}function e0(fd){var fe;fe=null;return es.TryGetValue(fd,{get:function(){return fe;},set:function(ff){fe=ff;}})?{$:1,$0:fe}:null;}function e1(fd,fe){es.set_Item(fd,fe);return fe;}function e2(fd,fe){var ff;ff=e0(fd);return ff==null?e1(fd,fe(fd)):ff.$0;}function e3(fd){var fe;fe=null;return ev.TryGetValue(fd,{get:function(){return fe;},set:function(ff){fe=ff;}})?{$:1,$0:fe}:null;}function e4(fd,fe){ev.set_Item(fd,fe);return fe;}function e5(fd,fe){var ff;ff=e3(fd);return ff==null?e4(fd,fe(fd)):ff.$0;}function e6(fd){var fe;fe=null;return ey.TryGetValue(fd,{get:function(){return fe;},set:function(ff){fe=ff;}})?{$:1,$0:fe}:null;}function e7(fd,fe){ey.set_Item(fd,fe);return fe;}function e8(fd,fe){var ff;ff=e6(fd);return ff==null?e7(fd,fe(fd)):ff.$0;}function e9(fd){var fe;fe=null;return eB.TryGetValue(fd,{get:function(){return fe;},set:function(ff){fe=ff;}})?{$:1,$0:fe}:null;}function e_(fd,fe){eB.set_Item(fd,fe);return fe;}function e$(fd,fe){var ff;ff=e9(fd);return ff==null?e_(fd,fe(fd)):ff.$0;}function fa(fd){var fe;fe=null;return eE.TryGetValue(fd,{get:function(){return fe;},set:function(ff){fe=ff;}})?{$:1,$0:fe}:null;}function fb(fd,fe){eE.set_Item(fd,fe);return fe;}function fc(fd,fe){var ff;ff=fa(fd);return ff==null?fb(fd,fe(fd)):ff.$0;}bJ.unindentStr=function(fd){return eI(b1.unindent(fd));};bJ.skipLastLine=(ec=function(fd){return eK(eJ(fd));},function(fd){return eL(ec(fd));});bJ.parseDateO2=(ed=bD.tryParseWith(function(fd){var fe,ff;fe=0;return[(ff=cT.TryParse(fd),ff!=null&&ff.$==1&&(fe=ff.$0,true)),fe];}),function(fd){return ed(eM(fd));});bJ.parseDateO=bD.tryParseWith(function(fd){var fe,ff;fe=0;return[(ff=cT.TryParse(fd),ff!=null&&ff.$==1&&(fe=ff.$0,true)),fe];});bJ.parseIntO=bD.tryParseWith(function(fd){var fe;fe=0;return[bO.TryParseInt32(fd,{get:function(){return fe;},set:function(ff){fe=ff;}}),fe];});bJ.parseInt64O=bD.tryParseWith(function(fd){var fe;fe=0;return[bO.TryParseInt64(fd,{get:function(){return fe;},set:function(ff){fe=ff;}}),fe];});bJ.parseSingleO=bD.tryParseWith(function(fd){var fe,ff;fe=0;return[(ff=a.Number(fd),a.isNaN(ff)?false:(fe=ff,true)),fe];});bJ.parseDoubleO=bD.tryParseWith(function(fd){var fe,ff;fe=0;return[(ff=a.Number(fd),a.isNaN(ff)?false:(fe=ff,true)),fe];});bJ.parseGuidO=bD.tryParseWith(function(fd){var fe;fe=null;return[bp.TryParse(fd,{get:function(){return fe;},set:function(ff){fe=ff;}}),fe];});bJ["|Date|_|"]=bD.parseDateO();bJ["|Int|_|"]=bD.parseIntO();bJ["|Int64|_|"]=bD.parseInt64O();bJ["|Single|_|"]=bD.parseSingleO();bJ["|Double|_|"]=bD.parseDoubleO();bJ["|Guid|_|"]=bD.parseGuidO();bJ.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";bJ.rexEmail="(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@[*[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+]*";bJ.observers=cu.Empty;bJ.css="\r\n                .tab-panel {\r\n                 overflow  : hidden   ;\r\n                 display   : flex     ;\r\n                 flex-flow : column   ;\r\n                 background: lightgray;\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                }\r\n                .tab-content {\r\n                 flex      : 1 1     ;\r\n                 overflow  : auto    ;\r\n                 position  : relative;\r\n                }\r\n                .tab-children {\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                 position  : absolute;\r\n                 display   : grid    ;\r\n                }\r\n                .tab-strip {\r\n                 padding   : 0pt     ;\r\n                 flex      : 0 0     ;\r\n                }\r\n                .tab {\r\n                 border     : 0.2pt solid transparent;\r\n                 padding    : 0pt 4pt;\r\n                 display    : inline-block;\r\n                 font-family: sans-serif;\r\n                 font-weight: 200;\r\n                 font-size  : small;\r\n                 color      : #666;\r\n                 cursor     : pointer;\r\n                }\r\n                .top>.tab {\r\n                 border-radius: 2pt 2pt 0pt 0pt;\r\n                 border-bottom-width: 0pt;\r\n                 vertical-align: bottom;\r\n                }\r\n                .bottom>.tab {\r\n                 border-top-width: 0pt;\r\n                 border-radius: 0pt 0pt 2pt 2pt;\r\n                 vertical-align: top;\r\n                }\r\n                .horizontal>.tab:not(:first-child) {\r\n                 border-left-width: 0pt;\r\n                }\r\n                .tab.hovering {\r\n                 background: red;\r\n                }\r\n                .tab.selected {\r\n                 background: white;\r\n                 border-left-width: 0.2pt;\r\n                 color: black;\r\n                 font-weight: 500;\r\n                 border-color: black;\r\n                }\r\n                .horizontal>.tab.selected {\r\n                 border-left-width: 0.2pt;\r\n                }\r\n                ::slotted(*              ) { \r\n                 width : 100%;\r\n                 height: 100%;\r\n                }\r\n                        ";bJ.init=r.Create(function(){var fd;fd=new cM.New();cK.defineWebComponent("wcomp-tabstrip",cM.Constructor,self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New);});bJ.layoutHorizontal=d6.Curried(function(fd,fe,ff,fg,fh){return W.get_Empty();},5);bJ.layoutVertical=d6.Curried(function(fd,fe,ff,fg,fh){return W.get_Empty();},5);bJ.plugIns=new _3.New$1(function(fd){return fd.plgName;});bJ.mainDocV=i.Create$1("AppFramework.AppFwkClient");bJ.TemplateFileName="..\\website\\AppFramework.html";bJ.defaultPlugIn=l.New("",[],[],[],[],[]);bJ.selectionPlugInO=i.Create$1({$:1,$0:"AppFramework"});bJ.currentPlugInW=(ee=k.selectionPlugInO().get_View(),p.Map2(function(fd,fe){return(eN(fd))(fe);},k.plugIns().v,ee));bJ.currentPlugInV=new cC.New(k.currentPlugInW(),function(fd){k.plugIns().Append(fd);});bJ.AppFwkClient=r.Create(function(){var fd,fe,ff,fg,fh,fi,fj,fk,fl;return(fd=(fe=k.renderQueries(),(ff=k.renderActions(),(fg=k.renderDocs(),(fh=k.renderViews(),(fi=k.renderVars(),(fj=k.renderPlugIns(),R.Make().WithHole({$:0,$0:"plugins",$1:fj})).WithHole({$:2,$0:"pluginname",$1:p.Map(function(fm){return fm.plgName;},k.currentPlugInW())}).WithHole({$:0,$0:"vars",$1:fi})).WithHole({$:0,$0:"views",$1:fh})).WithHole({$:0,$0:"docs",$1:fg})).WithHole({$:0,$0:"actions",$1:ff})).WithHole({$:0,$0:"queries",$1:fe})),(fk=S.CompleteHoles(fd.k,fd.h,[]),(fl=new P.New(fk[1],cI.appfwkclient(fk[0])),(fd.i=fl,fl)))).get_Doc();});bJ.actHello=k.newAct("Hello",function(){self.alert("Hello!");});bJ.qryDocs=k.newQry("getDocNames",function(){return Q.ofSeq(_.collect(function(fd){return _.map(function(fe){return fd.plgName+"."+fe.docName;},fd.plgDocs);},(k.plugIns())["var"].Get()));});k.plugIns().Append(l.New("AppFramework",[k.newVar("mainDocV",k.mainDocV())],[],[k.newDoc("AppFwkClient",k.AppFwkClient())],[k.actHello()],[k.qryDocs()]));bJ.getMainDoc=r.Create(function(){cN.init(d6.Curried(k.horizontal,5),d6.Curried(k.vertical,5));cL.init().f();return k.mainDoc();});bJ.splitName=k.splitName;bJ.createSplitterM=(ef=(eg=new bQ.New$5(),[[eO,function(fd){return function(fe){return eQ(fd,fe);};}],function(){eg.Clear();}]),(eh=ef[0][1],[function(fd){return(eh(fd))(function(fe){return H.createSplitter(fe[0],fe[1],fe[2],fe[3],fe[4]);});},ef[1]]))[0];bJ.createButtonM=(ei=(ej=new bQ.New$5(),[[eR,function(fd){return function(fe){return eT(fd,fe);};}],function(){ej.Clear();}]),(ek=ei[0][1],[function(fd){return(ek(fd))(function(fe){return H.createButton(fe[0],fe[1],fe[2],fe[3],fe[4]);});},ei[1]]))[0];bJ.createInputM=(el=(em=new bQ.New$5(),[[eU,function(fd){return function(fe){return eW(fd,fe);};}],function(){em.Clear();}]),(en=el[0][1],[function(fd){return(en(fd))(function(fe){return H.createInput(fe[0],fe[1],fe[2],fe[3]);});},el[1]]))[0];bJ.createTextAreaM=(eo=(ep=new bQ.New$5(),[[eX,function(fd){return function(fe){return eZ(fd,fe);};}],function(){ep.Clear();}]),(eq=eo[0][1],[function(fd){return(eq(fd))(function(fe){return H.createTextArea(fe[0],fe[1],fe[2],fe[3]);});},eo[1]]))[0];bJ.createElementM=(er=(es=new bQ.New$5(),[[e0,function(fd){return function(fe){return e2(fd,fe);};}],function(){es.Clear();}]),(et=er[0][1],[function(fd){return(et(fd))(function(fe){return H.createElement(fe[0],fe[1],fe[2],fe[3],fe[4]);});},er[1]]))[0];bJ.createDocM=(eu=(ev=new bQ.New$5(),[[e3,function(fd){return function(fe){return e5(fd,fe);};}],function(){ev.Clear();}]),(ew=eu[0][1],[function(fd){return(ew(fd))(function(fe){return H.createDoc(fe[0],fe[1],fe[2],fe[3]);});},eu[1]]))[0];bJ.createTemplateM=(ex=(ey=new bQ.New$5(),[[e6,function(fd){return function(fe){return e8(fd,fe);};}],function(){ey.Clear();}]),(ez=ex[0][1],[function(fd){return(ez(fd))(function(fe){return H.createTemplate(fe[0],fe[1],fe[2],fe[3],fe[4]);});},ex[1]]))[0];bJ.createConcatM=(eA=(eB=new bQ.New$5(),[[e9,function(fd){return function(fe){return e$(fd,fe);};}],function(){eB.Clear();}]),(eC=eA[0][1],[function(fd){return(eC(fd))(function(fe){return H.createConcat(fe[0],fe[1],fe[2]);});},eA[1]]))[0];bJ.createVarM=(eD=(eE=new bQ.New$5(),[[fa,function(fd){return function(fe){return fc(fd,fe);};}],function(){eE.Clear();}]),(eF=eD[0][1],[function(fd){return(eF(fd))(function(fe){return H.createVar(fe[0],fe[1],fe[2]);});},eD[1]]))[0];eG=k.tryGetPlugIn("AppFramework");eG==null?void 0:(eH=eG.$0,k.addPlugIn(l.New(eH.plgName,eH.plgVars,eH.plgViews,eH.plgDocs,eH.plgActions.concat([k.newActF("AddLayout",{$:2,$0:function(fd){return function(fe){return H.addNewLayout(fd,fe);};},$1:"[Name]",$2:"[Layout]"})]),eH.plgQueries)));};bK=J.IdForAuthorize=d6.Class({},null,bK);bL.New=function(ec,ed,ee,ef,eg,eh,ei,ej){return{titulo:ec,nombre1:ed,nombre2:ee,apellido1:ef,apellido2:eg,nacionalidad:eh,genero:ei,fechaNacimiento:ej};};bM.Dia01={$:0};bN=J.TipoAliado=d6.Class({toString:function(){return(function(ec){return function(ed){return ec(U.p$2(ed));};}(a.id))(this);}},null,bN);bN.Regular=new bN({$:1});bO.TryParseInt32=function(ec,ed){return bO.TryParse(ec,-2147483648,2147483647,ed);};bP=bc.List=d6.Class({GetEnumerator:function(){return cr.Get(this);},GetEnumerator0:function(){return cr.Get0(this);}},null,bP);bQ=bc.Dictionary=d6.Class({set_Item:function(ec,ed){this.set(ec,ed);},get_Item:function(ec){return this.get(ec);},set:function(ec,ed){var ee,ef,eg,eh;ee=this;ef=this.hash(ec);eg=this.data[ef];eg==null?(this.count=this.count+1,this.data[ef]=new a.Array({K:ec,V:ed})):(eh=Q.tryFindIndex(function(ei){return ee.equals.apply(null,[(o.KeyValue(ei))[0],ec]);},eg),eh==null?(this.count=this.count+1,eg.push({K:ec,V:ed})):eg[eh.$0]={K:ec,V:ed});},get:function(ec){var ed,ee;ed=this;ee=this.data[this.hash(ec)];return ee==null?cO.notPresent():Q.pick(function(ef){var eg;eg=o.KeyValue(ef);return ed.equals.apply(null,[eg[0],ec])?{$:1,$0:eg[1]}:null;},ee);},TryGetValue:function(ec,ed){var ee,ef,eg;ee=this;ef=this.data[this.hash(ec)];return ef==null?false:(eg=Q.tryPick(function(eh){var ei;ei=o.KeyValue(eh);return ee.equals.apply(null,[ei[0],ec])?{$:1,$0:ei[1]}:null;},ef),eg!=null&&eg.$==1&&(ed.set(eg.$0),true));},Remove:function(ec){return this.remove(ec);},ContainsKey:function(ec){var ed,ee;ed=this;ee=this.data[this.hash(ec)];return ee==null?false:Q.exists(function(ef){return ed.equals.apply(null,[(o.KeyValue(ef))[0],ec]);},ee);},Add:function(ec,ed){this.add(ec,ed);},get_Keys:function(){return new dL.New(this);},remove:function(ec){var ed,ee,ef,eg;ed=this;ee=this.hash(ec);ef=this.data[ee];return ef==null?false:(eg=Q.filter(function(eh){return!ed.equals.apply(null,[(o.KeyValue(eh))[0],ec]);},ef),Q.length(eg)<ef.length&&(this.count=this.count-1,this.data[ee]=eg,true));},add:function(ec,ed){var ee,ef,eg;ee=this;ef=this.hash(ec);eg=this.data[ef];eg==null?(this.count=this.count+1,this.data[ef]=new a.Array({K:ec,V:ed})):(Q.exists(function(eh){return ee.equals.apply(null,[(o.KeyValue(eh))[0],ec]);},eg)?cO.alreadyAdded():void 0,this.count=this.count+1,eg.push({K:ec,V:ed}));},Clear:function(){this.data=[];this.count=0;},GetEnumerator:function(){return cr.Get0(this);},GetEnumerator0:function(){return cr.Get0(Q.concat(F.GetFieldValues(this.data)));}},g,bQ);bQ.New$5=d6.Ctor(function(){bQ.New$6.call(this,[],G.Equals,G.Hash);},bQ);bQ.New$6=d6.Ctor(function(ec,ed,ee){var ef,eg;g.New.call(this);this.equals=ed;this.hash=ee;this.count=0;this.data=[];ef=cr.Get(ec);try{while(ef.MoveNext()){eg=ef.Current();this.set(eg.K,eg.V);}}finally{if(typeof ef=="object"&&"Dispose"in ef)ef.Dispose();}},bQ);bR=bc.HashSet=d6.Class({Add:function(ec){return this.add(ec);},Contains:function(ec){var ed;ed=this.data[this.hash(ec)];return ed==null?false:this.arrContains(ec,ed);},add:function(ec){var ed,ee;ed=this.hash(ec);ee=this.data[ed];return ee==null?(this.data[ed]=[ec],this.count=this.count+1,true):this.arrContains(ec,ee)?false:(ee.push(ec),this.count=this.count+1,true);},arrContains:function(ec,ed){var ee,ef,eg,eh;ee=true;ef=0;eh=ed.length;while(ee&&ef<eh)if(this.equals.apply(null,[ed[ef],ec]))ee=false;else ef=ef+1;return!ee;},ExceptWith:function(ec){var ed;ed=cr.Get(ec);try{while(ed.MoveNext())this.Remove(ed.Current());}finally{if(typeof ed=="object"&&"Dispose"in ed)ed.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(ec){var ed,ee,ef,eg;ed=0;ee=dA.concat(this.data);for(ef=0,eg=ee.length-1;ef<=eg;ef++)Q.set(ec,ef,ee[ef]);},IntersectWith:function(ec){var ed,ee,ef,eg,eh;ed=new bR.New$4(ec,this.equals,this.hash);ee=dA.concat(this.data);for(ef=0,eg=ee.length-1;ef<=eg;ef++){eh=ee[ef];!ed.Contains(eh)?this.Remove(eh):void 0;}},Remove:function(ec){var ed;ed=this.data[this.hash(ec)];return ed==null?false:this.arrRemove(ec,ed)&&(this.count=this.count-1,true);},arrRemove:function(ec,ed){var ee,ef,eg,eh;ee=true;ef=0;eh=ed.length;while(ee&&ef<eh)if(this.equals.apply(null,[ed[ef],ec])){ed.splice.apply(ed,[ef,1]);ee=false;}else ef=ef+1;return!ee;},GetEnumerator:function(){return cr.Get(dA.concat(this.data));},GetEnumerator0:function(){return cr.Get(dA.concat(this.data));}},g,bR);bR.New$3=d6.Ctor(function(){bR.New$4.call(this,[],G.Equals,G.Hash);},bR);bR.New$4=d6.Ctor(function(ec,ed,ee){var ef;g.New.call(this);this.equals=ed;this.hash=ee;this.data=[];this.count=0;ef=cr.Get(ec);try{while(ef.MoveNext())this.add(ef.Current());}finally{if(typeof ef=="object"&&"Dispose"in ef)ef.Dispose();}},bR);bR.New$2=d6.Ctor(function(ec){bR.New$4.call(this,ec,G.Equals,G.Hash);},bR);bS.Box=a.id;bU.StartTo=function(ec,ed){cE.StartWithContinuations(ec,ed,function(ee){bU.OnError(ee);},a.ignore,null);};bU.OnError=function(ec){return d_.log("WebSharper UI: Uncaught asynchronous exception",ec);};bO.TryParseInt64=function(ec,ed){return bO.TryParse(ec,-9223372036854775808,9223372036854775807,ed);};bV.Int=function(){bV.set_counter(bV.counter()+1);return bV.counter();};bV.Id=function(){bV.set_counter(bV.counter()+1);return"uid"+a.String(bV.counter());};bV.set_counter=function(ec){dd.$cctor();dd.counter=ec;};bV.counter=function(){dd.$cctor();return dd.counter;};bW=bA.Builder=d6.Class({},g,bW);bW.New=d6.Ctor(function(){g.New.call(this);},bW);bX=bA.BuilderP=d6.Class({},g,bX);bX.New=d6.Ctor(function(){g.New.call(this);},bX);bZ=bY.EffBuilder=d6.Class({},g,bZ);bZ.New=d6.Ctor(function(){g.New.call(this);},bZ);b0=bl.AsyncResultBuilderP=d6.Class({},g,b0);b0.New=d6.Ctor(function(){g.New.call(this);},b0);b1.unindent$1=function(ec){var ed,ee,ef,eg;ed=bf.SplitChars(ec,["\n"],0);ee=(ef=_.tryFindIndex(function(eh){return" "!==eh;},(eg=_.tryFind(function(eh){return bf.Trim(eh)!=="";},ed),eg==null?"":eg.$0)),ef==null?0:ef.$0);return _.filter(function(eh){return!bf.StartsWith(eh,"# 1 ");},_.map(function(eh){return eh.length<=ee?"":eh.substring(ee);},ed));};b1.splitByChar$1=function(ec,ed){return bf.SplitChars(ed,[ec],0);};b2.array=function(ec,ed,ee){return ed==null?ee!=null&&ee.$==1?ec.slice(0,ee.$0+1):[]:ee==null?ec.slice(ed.$0):ec.slice(ed.$0,ee.$0+1);};b2.string=function(ec,ed,ee){return ed==null?ee!=null&&ee.$==1?ec.slice(0,ee.$0+1):"":ee==null?ec.slice(ed.$0):ec.slice(ed.$0,ee.$0+1);};b3.toJsonString=function(ec){return Q.ofSeq(_.delay(function(){return _.append(["\""],_.delay(function(){return _.append(!bf.IsNullOrEmpty(ec)?_.collect(function(ed){var ee,ef;ee=ec[ed];ef=ee.charCodeAt();return ef>=0&&ef<=7||ef===11||ef>=14&&ef<=31?(function(eg){return function(eh){return eg("\\u"+bt.padNumLeft(eh.toString(16),4));};}(a.id))(ef):ee==="\u0008"?"\\b":ee==="\u0009"?"\\t":ee==="\n"?"\\n":ee==="\u000c"?"\\f":ee==="\r"?"\\r":ee==="\""?"\\\"":ee==="\\"?"\\\\":[ee];},o.range(0,ec.length-1)):[],_.delay(function(){return["\""];}));}));})).join("");};b5=b4.Policy=d6.Class({toString:function(){return bf.ReplaceChar($["String.get_toUnderscore$1"]((function(ec){return function(ed){return ec(U.p(ed));};}(a.id))(this)),"_"," ");}},null,b5);b5.SignIn=new b5({$:0});b5.SignUp=new b5({$:1});b5.EditProfile=new b5({$:2});b5.ResetPassword=new b5({$:3});b6.New=function(ec,ed,ee,ef,eg,eh){return{tipoTelefono:ec,codigoPais:ed,codigoArea:ee,numero:ef,extension:eg,mensajes:eh};};b7=J.TipoTelefono=d6.Class({toString:function(){return(function(ec){return function(ed){return ec(U.p$9(ed));};}(a.id))(this);}},null,b7);b7.Movil=new b7({$:0});b7.get_tryParse=function(){return function(ec){return ec==="Movil"?{$:1,$0:b7.Movil}:ec==="Oficina"?{$:1,$0:b7.Oficina}:ec==="Habitacion"?{$:1,$0:b7.Habitacion}:null;};};b7.Oficina=new b7({$:1});b7.Habitacion=new b7({$:2});b8.New=function(ec,ed,ee,ef,eg,eh,ei,ej){return{authorizeIdR:ec,tipoDireccion:ed,linea1:ee,linea2:ef,ciudad:eg,estado:eh,pais:ei,zonaPostal:ej};};b9=J.TipoDireccion=d6.Class({toString:function(){return this.$==3?this.$0:(function(ec){return function(ed){return ec(U.p$8(ed));};}(a.id))(this);}},null,b9);b9.Habitacion=new b9({$:0});b9.tryParse=function(ec){var ed;ed=bf.Trim(ec);return ed===""?null:ed==="Habitacion"?{$:1,$0:b9.Habitacion}:ed==="Oficina"?{$:1,$0:b9.Oficina}:ed==="ServicioPostal"?{$:1,$0:b9.ServicioPostal}:{$:1,$0:new b9({$:3,$0:ed})};};b9.Oficina=new b9({$:1});b9.ServicioPostal=new b9({$:2});b_=J.Estado=d6.Class({toString:function(){return this.$==2?this.$0:(function(ec){return function(ed){return ec(U.p$4(ed));};}(a.id))(this);}},null,b_);b_.tryParse=function(ec){var ed,ee;ee=bf.Trim(ec).toUpperCase();switch(ee){case"":return null;case"TEXAS":case"TX":return{$:1,$0:b_.Texas};case"FLORIDA":case"FL":return{$:1,$0:b_.Florida};default:return{$:1,$0:new b_({$:2,$0:bf.Trim(ec)})};}};b_.Texas=new b_({$:0});b_.Florida=new b_({$:1});b$=J.Pais=d6.Class({toString:function(){return this.$==3?this.$0:(function(ec){return function(ed){return ec(U.p$3(ed));};}(a.id))(this);}},null,b$);b$.USA=new b$({$:0});b$.tryParse=function(ec){var ed,ee;ee=bf.Trim(ec).toUpperCase();switch(ee){case"":return null;case"USA":case"AMERICA":case"E.E.U.U.":case"US":case"UNITED STATES OF AMERICA":case"UNITED STATES":case"EEUU":return{$:1,$0:b$.USA};case"VENEZUELA":return{$:1,$0:b$.Venezuela};case"ARGENTINA":return{$:1,$0:b$.Argentina};default:return{$:1,$0:new b$({$:3,$0:bf.Trim(ec)})};}};b$.Venezuela=new b$({$:1});b$.Argentina=new b$({$:2});ca=J.ZonaPostal=d6.Class({toString:function(){return this.$0;}},null,ca);ca.tryParse=function(ec){return bf.Trim(ec)!==""?{$:1,$0:new ca({$:0,$0:bf.Trim(ec)})}:null;};cb.New=function(ec,ed,ee,ef){return{titular:ec,tipoTarjeta:ed,numero:ee,expiracion:ef};};cc=J.Expiracion=d6.Class({},null,cc);cc.New=function(ec,ed){return new cc({anio:ec,mes:ed});};cd=J.NumeroTarjeta=d6.Class({get_Id:function(){return this.$0;}},null,cd);ce=J.TipoTarjeta=d6.Class({toString:function(){return this.$==3?this.$0:(function(ec){return function(ed){return ec(U.p$5(ed));};}(a.id))(this);}},null,ce);ce.Visa=new ce({$:0});ce.tryParse=function(ec){var ed,ee;ee=bf.Trim(ec).toUpperCase();switch(ee){case"":return null;case"VISA":return{$:1,$0:ce.Visa};case"MASTERCARD":return{$:1,$0:ce.MasterCard};case"AMERICAN EXPRESS":case"AMEX":return{$:1,$0:ce.Amex};default:return{$:1,$0:new ce({$:3,$0:bf.Trim(ec)})};}};ce.MasterCard=new ce({$:1});ce.Amex=new ce({$:2});cf=J.TipoCuenta=d6.Class({toString:function(){return this.$==2?this.$0:(function(ec){return function(ed){return ec(U.p$6(ed));};}(a.id))(this);}},null,cf);cf.Ahorro=new cf({$:0});cf.tryParse=function(ec){var ed,ee;ee=bf.Trim(ec).toUpperCase();switch(ee){case"":return null;case"AHORRO":case"SAVINGS":return{$:1,$0:cf.Ahorro};case"CORRIENTE":case"CHECKING":return{$:1,$0:cf.Corriente};default:return{$:1,$0:new cf({$:2,$0:bf.Trim(ec)})};}};cf.Corriente=new cf({$:1});cg.Masculino={$:0};cg.tryParse=function(ec){var ed;ed=bf.Trim(ec);return ed==="Masculino"?{$:1,$0:cg.Masculino}:ed==="Femenino"?{$:1,$0:cg.Femenino}:ed==="Empresa"?{$:1,$0:cg.Empresa}:null;};cg.Femenino={$:1};cg.Empresa={$:2};ch.AjaxProvider=function(){cU.$cctor();return cU.AjaxProvider;};ch.set_EndPoint=function(ec){cU.$cctor();cU.EndPoint=ec;};ch.set_AjaxProvider=function(ec){cU.$cctor();cU.AjaxProvider=ec;};ch.makePayload=function(ec){return d$.stringify(ec);};ch.makeHeaders=function(ec){return{"content-type":"application/json","x-websharper-rpc":ec};};ch.EndPoint=function(){cU.$cctor();return cU.EndPoint;};ch.ajax=function(ec,ed,ee,ef,eg,eh,ei){var ej,ek,el;ej=new a.XMLHttpRequest();ek=a.document.cookie.replace(new a.RegExp("(?:(?:^|.*;)\\s*csrftoken\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1");ej.open("POST",ed,ec);if(ec==true)ej.withCredentials=true;for(var en in ee)ej.setRequestHeader(en,ee[en]);if(ek)ej.setRequestHeader("x-csrftoken",ek);function em(){var eo;if(ej.status==200)eg(ej.responseText);else if(ei&&ej.status==403&&ej.responseText=="CSRF")ei();else{eo="Response status is not 200: ";eh(new dD(eo+ej.status));}}if("onload"in ej)ej.onload=ej.onerror=ej.onabort=em;else ej.onreadystatechange=function(){if(ej.readyState==4)em();};ej.send(ef);};ci.Options=function(ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en){return cV.newPojoOpt([b4.op_EqualsEqualsGreater("cacheLocation",ec),b4.op_EqualsEqualsGreater("isAngular",ed),b4.op_EqualsEqualsGreater("loadFrameTimeout",ee),b4.op_EqualsEqualsGreater("logger",ef),b4.op_EqualsEqualsGreater("navigateToLoginRequestUrl",eg),b4.op_EqualsEqualsGreater("postLogoutRedirectUri",eh),b4.op_EqualsEqualsGreater("protectedResourceMap",ei),b4.op_EqualsEqualsGreater("redirectUri",ej),b4.op_EqualsEqualsGreater("state",ek),b4.op_EqualsEqualsGreater("storeAuthStateInCookie",el),b4.op_EqualsEqualsGreater("unprotectedResources",em),b4.op_EqualsEqualsGreater("validateAuthority",en)]);};j.REGEX$2=function(ec,ed,ee){var ef;return ee===null?null:(ef=(new a.String(ee)).match(new a.RegExp(ec,ed)),G.Equals(ef,null)?null:!G.Equals(ef,null)&&ef.length===0?null:{$:1,$0:ef});};j.rexEmail$1=function(){_2.$cctor();return _2.rexEmail;};cj.DefaultEP={$:0};ck.InstallHash=function(ec,ed){var ee;ee=i.Create$1(ck.getCurrentHash(function(ef){return cY.Parse(ed,cZ.FromHash(ef,{$:1,$0:true}));},ec));ck.InstallHashInto(ee,ec,ed);return ee;};ck.InstallHashInto=function(ec,ed,ee){function ef(ei){return cY.Parse(ee,cZ.FromHash(ei,{$:1,$0:true}));}function eg(){return ck.getCurrentHash(ef,ed);}function eh(ei){if(!G.Equals(ec.Get(),ei))ec.Set(ei);}self.addEventListener("popstate",function(){return eh(eg());},false);self.addEventListener("hashchange",function(){return eh(eg());},false);self.document.body.addEventListener("click",function(ei){var ej,ek,el;ej=(ek=ck.findLinkHref(ei.target),ek==null?null:(el=ek.$0,bf.StartsWith(el,"#")?ef(el):null));return ej==null?null:(eh(ej.$0),ei.preventDefault());},false);p.Sink(function(ei){var ej;if(!G.Equals(ei,eg())){ej=cY.HashLink(ee,ei);self.history.pushState(null,null,ej);}},ec.get_View());};ck.getCurrentHash=function(ec,ed){var ee,ef;ee=self.location.hash;ef=ec(ee);return ef==null?((function(eg){return function(eh){return eg("Failed to parse route: "+bt.toSafe(eh));};}(function(eg){d_.log(eg);}))(ee),ed):ef.$0;};ck.findLinkHref=function(ec){while(true)if(ec.tagName==="A")return I.ofObj(ec.getAttribute("href"));else if(ec===self.document.body)return null;else ec=ec.parentNode;};cl.B={$:0};cm.installBearer=function(ec){cm.set_getTokenOA(ec);ch.set_AjaxProvider(new c0.New());};cm.set_getTokenOA=function(ec){_2.$cctor();_2.getTokenOA=ec;};cm.getTokenOA=function(){_2.$cctor();return _2.getTokenOA;};cm.originalProvider=function(){_2.$cctor();return _2.originalProvider;};cn.serverEndPoint=function(){_2.$cctor();return _2.serverEndPoint;};co=J.IdPayment=d6.Class({},null,co);cp.New=function(ec,ed){return{qryName:ec,qryFunction:ed};};_1.Obsolete=function(ec){var ed,ee,ef,eg,eh;ee=ec.s;if(ee==null||(ee!=null&&ee.$==2?(ed=ee.$1,false):ee!=null&&ee.$==3?(ed=ee.$1,false):true))void 0;else{ec.s=null;for(ef=0,eg=Q.length(ed)-1;ef<=eg;ef++){eh=Q.get(ed,ef);typeof eh=="object"?function(ei){_1.Obsolete(ei);}(eh):eh();}}};_1.New=function(ec){return{s:ec};};cq=bc.FSharpMap=d6.Class({TryGetValue:function(ec,ed){var ee;ee=this.TryFind(ec);return ee!=null&&ee.$==1&&(ed.set(ee.$0),true);},get_Item:function(ec){var ed;ed=this.TryFind(ec);return ed==null?o.FailWith("The given key was not present in the dictionary."):ed.$0;},TryFind:function(ec){var ed;ed=ct.TryFind(dh.New(ec,void 0),this.tree);return ed==null?null:{$:1,$0:ed.$0.Value};},Equals:function(ec){return this.get_Count()===ec.get_Count()&&_.forall2(G.Equals,this,ec);},GetEnumerator$1:function(){return cr.Get(_.map(function(ec){return{K:ec.Key,V:ec.Value};},ct.Enumerate(false,this.tree)));},get_Count:function(){var ec;ec=this.tree;return ec==null?0:ec.Count;},GetHashCode:function(){return G.Hash(Q.ofSeq(this));},Add:function(ec,ed){return new cq.New$1(ct.Add(dh.New(ec,ed),this.tree));},get_IsEmpty:function(){return this.tree==null;},get_Tree:function(){return this.tree;},GetEnumerator:function(){return this.GetEnumerator$1();},CompareTo0:function(ec){return _.compareWith(G.Compare,this,ec);},GetEnumerator0:function(){return this.GetEnumerator$1();}},g,cq);cq.New=d6.Ctor(function(ec){cq.New$1.call(this,c2.fromSeq(ec));},cq);cq.New$1=d6.Ctor(function(ec){g.New.call(this);this.tree=ec;},cq);cr.Get=function(ec){return ec instanceof a.Array?cr.ArrayEnumerator(ec):G.Equals(typeof ec,"string")?cr.StringEnumerator(ec):ec.GetEnumerator();};cr.ArrayEnumerator=function(ec){return new cs.New(0,null,function(ed){var ee;ee=ed.s;return ee<Q.length(ec)&&(ed.c=Q.get(ec,ee),ed.s=ee+1,true);},void 0);};cr.StringEnumerator=function(ec){return new cs.New(0,null,function(ed){var ee;ee=ed.s;return ee<ec.length&&(ed.c=ec[ee],ed.s=ee+1,true);},void 0);};cr.Get0=function(ec){return ec instanceof a.Array?cr.ArrayEnumerator(ec):G.Equals(typeof ec,"string")?cr.StringEnumerator(ec):"GetEnumerator0"in ec?ec.GetEnumerator0():ec.GetEnumerator();};cs=cr.T=d6.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},g,cs);cs.New=d6.Ctor(function(ec,ed,ee,ef){g.New.call(this);this.s=ec;this.c=ed;this.n=ee;this.d=ef;},cs);ct.OfSeq=function(ec){var ed;ed=Q.ofSeq(_.distinct(ec));Q.sortInPlace(ed);return ct.Build(ed,0,ed.length-1);};ct.Contains=function(ec,ed){return!((ct.Lookup(ec,ed))[0]==null);};ct.Remove=function(ec,ed){var ee,ef,eg,eh;ee=ct.Lookup(ec,ed);ef=ee[0];eg=ee[1];return ef==null?ed:ef.Right==null?ct.Rebuild(eg,ef.Left):ef.Left==null?ct.Rebuild(eg,ef.Right):ct.Rebuild(eg,(eh=Q.ofSeq(_.append(ct.Enumerate(false,ef.Left),ct.Enumerate(false,ef.Right))),ct.Build(eh,0,eh.length-1)));};ct.Add=function(ec,ed){return ct.Put(function(ee,ef){return ef;},ec,ed);};ct.TryFind=function(ec,ed){var ee;ee=(ct.Lookup(ec,ed))[0];return ee==null?null:{$:1,$0:ee.Node};};ct.Build=function(ec,ed,ee){var ef,eg,eh;return ee-ed+1<=0?null:(ef=(ed+ee)/2>>0,(eg=ct.Build(ec,ed,ef-1),(eh=ct.Build(ec,ef+1,ee),ct.Branch(Q.get(ec,ef),eg,eh))));};ct.Lookup=function(ec,ed){var ee,ef,eg,eh;ee=[];ef=ed;eg=true;while(eg)if(ef==null)eg=false;else{eh=G.Compare(ec,ef.Node);eh===0?eg=false:eh===1?(ee.unshift([true,ef.Node,ef.Left]),ef=ef.Right):(ee.unshift([false,ef.Node,ef.Right]),ef=ef.Left);}return[ef,ee];};ct.Rebuild=function(ec,ed){var ee,eg,eh,ei,ej,ek,el,em,en,eo;function ef(ep){return ep==null?0:ep.Height;}ee=ed;for(eg=0,eh=Q.length(ec)-1;eg<=eh;eg++){ee=(ei=Q.get(ec,eg),ei[0]?(ej=ei[1],(ek=ei[2],ef(ee)>ef(ek)+1?ef(ee.Left)===ef(ee.Right)+1?(el=ee.Left,ct.Branch(el.Node,ct.Branch(ej,ek,el.Left),ct.Branch(ee.Node,el.Right,ee.Right))):ct.Branch(ee.Node,ct.Branch(ej,ek,ee.Left),ee.Right):ct.Branch(ej,ek,ee))):(em=ei[1],(en=ei[2],ef(ee)>ef(en)+1?ef(ee.Right)===ef(ee.Left)+1?(eo=ee.Right,ct.Branch(eo.Node,ct.Branch(ee.Node,ee.Left,eo.Left),ct.Branch(em,eo.Right,en))):ct.Branch(ee.Node,ee.Left,ct.Branch(em,ee.Right,en)):ct.Branch(em,ee,en))));}return ee;};ct.Put=function(ec,ed,ee){var ef,eg;ef=ct.Lookup(ed,ee);eg=ef[0];return eg==null?ct.Rebuild(ef[1],ct.Branch(ed,null,null)):ct.Rebuild(ef[1],ct.Branch(ec(eg.Node,ed),eg.Left,eg.Right));};ct.Branch=function(ec,ed,ee){var ef,eg;return c3.New(ec,ed,ee,1+(ef=ed==null?0:ed.Height,(eg=ee==null?0:ee.Height,G.Compare(ef,eg)===1?ef:eg)),1+(ed==null?0:ed.Count)+(ee==null?0:ee.Count));};ct.Enumerate=function(ec,ed){function ee(ef,eg){var eh;while(true)if(ef==null)return eg.$==1?{$:1,$0:[eg.$0[0],[eg.$0[1],eg.$1]]}:null;else if(ec){eh=ef;ef=eh.Right;eg=new cu({$:1,$0:[eh.Node,eh.Left],$1:eg});}else{eh=ef;ef=eh.Left;eg=new cu({$:1,$0:[eh.Node,eh.Right],$1:eg});}}return _.unfold(function(ef){return ee(ef[0],ef[1]);},[ed,cu.Empty]);};_.tryHead=function(ec){var ed;ed=cr.Get(ec);try{return ed.MoveNext()?{$:1,$0:ed.Current()}:null;}finally{if(typeof ed=="object"&&"Dispose"in ed)ed.Dispose();}};Q.groupBy=function(ec,ed){var ee,ef,eg,eh,ei,ej;ee=new bQ.New$5();ef=[];for(eg=0,eh=Q.length(ed)-1;eg<=eh;eg++){ei=ed[eg];ej=ec(ei);ee.ContainsKey(ej)?ee.get_Item(ej).push(ei):(ef.push(ej),ee.Add(ej,[ei]));}Q.mapInPlace(function(ek){return[ek,ee.get_Item(ek)];},ef);return ef;};_.tryItem=function(ec,ed){var ee,ef,eg;if(ec<0)return null;else{ee=0;ef=cr.Get(ed);try{eg=true;while(eg&&ee<=ec)if(ef.MoveNext())ee=ee+1;else eg=false;return eg?{$:1,$0:ef.Current()}:null;}finally{if(typeof ef=="object"&&"Dispose"in ef)ef.Dispose();}}};_.last=function(ec){var ed,ee;ed=cr.Get(ec);try{if(!ed.MoveNext())ee=_.insufficient();else{while(ed.MoveNext());ee=ed.Current();}return ee;}finally{if(typeof ed=="object"&&"Dispose"in ed)ed.Dispose();}};Q.mapInPlace=function(ec,ed){var ee,ef;for(ee=0,ef=ed.length-1;ee<=ef;ee++)ed[ee]=ec(ed[ee]);};Q.mapiInPlace=function(ec,ed){var ee,ef;for(ee=0,ef=ed.length-1;ee<=ef;ee++)ed[ee]=ec(ee,ed[ee]);return ed;};_.insufficient=function(){return o.FailWith("The input sequence has an insufficient number of elements.");};_.nonNegative=function(){return o.FailWith("The input must be non-negative.");};cu=bv.T=d6.Class({GetEnumerator:function(){return new cs.New(this,null,function(ec){var ed;ed=ec.s;return ed.$==0?false:(ec.c=ed.$0,ec.s=ed.$1,true);},void 0);},GetEnumerator0:function(){return cr.Get(this);}},null,cu);cu.Empty=new cu({$:0});p=h.View=d6.Class({get_V:function(){return o.FailWith("View<'T>.V can only be called in an argument to a V-enabled function or if 'T = Doc.");}},null,p);cv=ch.AjaxRemotingProvider=d6.Class({AsyncBase:function(ec,ed){var ee,ef;ee=this;ef=null;return cE.Delay(function(){var eg,eh;eg=ch.makeHeaders(ec);eh=ch.makePayload(ed);return cE.Bind(cE.GetCT(),function(ei){return cE.FromContinuations(function(ej,ek,el){var em,en,eo;function ep(eq){return em[0]?(em[0]=false,el(new dF.New(ei))):null;}em=[true];en=cE.Register(ei,function(){ep();});eo=ee.get_EndPoint();return ch.AjaxProvider().Async(eo,eg,eh,function(eq){if(em[0]){em[0]=false;en.Dispose();ej(dT.Activate(d$.parse(eq)));}},function(eq){if(em[0]){em[0]=false;en.Dispose();ek(eq);}});});});});},get_EndPoint:function(){return ch.EndPoint();},Async:function(ec,ed){return this.AsyncBase(ec,ed);}},g,cv);cv.New=d6.Ctor(function(){g.New.call(this);},cv);cw.replace=function(ec,ed,ee){return Q.ofSeq(_.delay(function(){return _.append(ec>0?b2.array(ee,null,{$:1,$0:ec-1}):[],_.delay(function(){return _.append([ed],_.delay(function(){return ec<Q.length(ee)?b2.array(ee,{$:1,$0:ec+1},null):[];}));}));}));};cw.remove=function(ec,ed){return Q.ofSeq(_.delay(function(){return _.append(ec>0?b2.array(ed,null,{$:1,$0:ec-1}):[],_.delay(function(){return ec<Q.length(ed)?b2.array(ed,{$:1,$0:ec+1},null):[];}));}));};cy=cx.attr=d6.Class({},g,cy);cz.formaDocO=function(ec){var ed;return cz.formaDoc(i.Lens(ec,(ed=[J.ctaVacio(),"",false],function(ee){return ee==null?ed:ee.$0;}),function(ee,ef){return{$:1,$0:ef};}));};cz.formaDoc=function(ec){var ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo;function ep(eq,er,es){ee.Hole("titular").Set(eq.titular);ee.Hole("banco").Set(eq.banco);ee.Hole("tipocuenta").Set((function(et){return function(eu){return et(a.String(eu));};}(a.id))(eq.tipo));ee.Hole("numero").Set(eq.numero.$0);ee.Hole("routing").Set(eq.routing.$0);}ed=p.Map(function(eq){return br.thr3(eq[0],eq[1],eq[2]);},ec.get_View());ee=(ef=(eg=cG.DynamicPred("disabled",ed,p.Const("")),(eh=cG.DynamicPred("disabled",ed,p.Const("")),(ei=cG.DynamicPred("disabled",ed,p.Const("")),(ej=cG.DynamicPred("disabled",ed,p.Const("")),(ek=cG.DynamicPred("disabled",ed,p.Const("")),(el=W.EmbedView(p.Map(br.crearOptions,br.tiposCta().get_View())),R.Make().WithHole({$:0,$0:"tiposcuenta",$1:el})).WithHole({$:2,$0:"mensaje",$1:p.Map(function(eq){return br.snd3(eq[0],eq[1],eq[2]);},ec.get_View())}).WithHole({$:3,$0:"disabled1",$1:ek})).WithHole({$:3,$0:"disabled2",$1:ej})).WithHole({$:3,$0:"disabled3",$1:ei})).WithHole({$:3,$0:"disabled4",$1:eh})).WithHole({$:3,$0:"disabled5",$1:eg})),(em=S.CompleteHoles(ef.k,ef.h,[["tipocuenta",0],["titular",0],["numero",0],["banco",0],["routing",0]]),(en=new P.New(em[1],T.cuentabancaria(em[0])),(ef.i=en,en))));p.Sink(function(eq){return ep(eq[0],eq[1],eq[2]);},ec.get_View());eo=p.Apply(p.Apply(p.Map2(function(eq,er){return function(es){return function(et){return _.map(function(eu){return eu[1];},_.filter(function(eu){return eu[0];},bv.ofArray([[bf.Trim(eq)==="","Titular"],[bf.Trim(er)==="","Banco"],[bf.Trim(es)==="","Numero de Cuenta"],[bf.Trim(et)==="","ABA/Routing Number"]])));};};},ee.Hole("titular").get_View(),ee.Hole("banco").get_View()),ee.Hole("numero").get_View()),ee.Hole("routing").get_View());p.Sink(function(eq){var er,es;if(eq!=null&&eq.$==1){er=eq.$0;!G.Equals((es=ec.Get(),br.fst3(es[0],es[1],es[2])),er)?ec.Set([er,"",false]):void 0;}},p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(eq,er){return d6.Curried(function(es,et,eu,ev){return!_.isEmpty(eq)?null:br.alertIfNone("TipoCuenta",cf.tryParse(bf.Trim(er)),function(ew){var ex;return{$:1,$0:(ex=bf.Trim(es),bw.New(bf.Trim(et),ex,ew,new by({$:0,$0:bf.Trim(eu)}),new bx({$:0,$0:bf.Trim(ev)})))};});},4);},eo,ee.Hole("tipocuenta").get_View()),ee.Hole("banco").get_View()),ee.Hole("titular").get_View()),ee.Hole("numero").get_View()),ee.Hole("routing").get_View()));return[eo,ee.get_Doc()];};cA.formaDocO=function(ec){var ed;return cA.formaDoc(i.Lens(ec,(ed=[J.tarVacio(),"",false],function(ee){return ee==null?ed:ee.$0;}),function(ee,ef){return{$:1,$0:ef};}));};cA.formaDoc=function(ec){var ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq;function er(es,et,eu){var ev;ee.Hole("titular").Set(es.titular);ee.Hole("tipotarjeta").Set((function(ew){return function(ex){return ew(a.String(ex));};}(a.id))(es.tipoTarjeta));ee.Hole("numero").Set(es.numero.$0);ee.Hole("aniovenc").Set((function(ew){return function(ex){return ew(bt.padNumLeft(a.String(ex),4));};}(a.id))(es.expiracion.anio));ee.Hole("mesvenc").Set((ev=es.expiracion.mes,ev===1?"Enero":ev===2?"Febrero":ev===3?"Marzo":ev===4?"Abril":ev===5?"Mayo":ev===6?"Junio":ev===7?"Julio":ev===8?"Agosto":ev===9?"Septiembre":ev===10?"Octubre":ev===11?"Noviembre":ev===12?"Diciembre":"XX"));}ed=p.Map(function(es){return br.thr3(es[0],es[1],es[2]);},ec.get_View());ee=(ef=(eg=cG.DynamicPred("disabled",ed,p.Const("")),(eh=cG.DynamicPred("disabled",ed,p.Const("")),(ei=cG.DynamicPred("disabled",ed,p.Const("")),(ej=cG.DynamicPred("disabled",ed,p.Const("")),(ek=cG.DynamicPred("disabled",ed,p.Const("")),(el=W.EmbedView(p.Map(function(es){return br.crearOptions(_.map(a.String,es));},br.mesesV().get_View())),(em=W.EmbedView(p.Map(function(es){return br.crearOptions(_.map(a.String,es));},br.aniosV().get_View())),(en=W.EmbedView(p.Map(br.crearOptions,br.tiposTar().get_View())),R.Make().WithHole({$:0,$0:"tipostarjeta",$1:en})).WithHole({$:2,$0:"mensaje",$1:p.Map(function(es){return br.snd3(es[0],es[1],es[2]);},ec.get_View())}).WithHole({$:0,$0:"anios",$1:em})).WithHole({$:0,$0:"meses",$1:el})).WithHole({$:3,$0:"disabled1",$1:ek})).WithHole({$:3,$0:"disabled2",$1:ej})).WithHole({$:3,$0:"disabled3",$1:ei})).WithHole({$:3,$0:"disabled4",$1:eh})).WithHole({$:3,$0:"disabled5",$1:eg})),(eo=S.CompleteHoles(ef.k,ef.h,[["tipotarjeta",0],["titular",0],["numero",0],["aniovenc",0],["mesvenc",0]]),(ep=new P.New(eo[1],T.tarjetacredito(eo[0])),(ef.i=ep,ep))));p.Sink(function(es){return er(es[0],es[1],es[2]);},ec.get_View());eq=p.Apply(p.Apply(p.Apply(p.Map2(function(es,et){return d6.Curried3(function(eu,ev,ew){return _.map(function(ex){return ex[1];},_.filter(function(ex){return ex[0];},bv.ofArray([[bf.Trim(es)==="","Titular"],[bf.Trim(et)==="","TipoTarjeta"],[bf.Trim(eu)==="","Numero"],[bf.Trim(ev)==="","Ano de Vencimiento"],[bf.Trim(ew)==="","Mes de Vencimiento"]])));});},ee.Hole("titular").get_View(),ee.Hole("tipotarjeta").get_View()),ee.Hole("numero").get_View()),ee.Hole("aniovenc").get_View()),ee.Hole("mesvenc").get_View());p.Sink(function(es){var et,eu;if(es!=null&&es.$==1){et=es.$0;!G.Equals((eu=ec.Get(),br.fst3(eu[0],eu[1],eu[2])),et)?ec.Set([et,"",false]):void 0;}},p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(es,et){return d6.Curried(function(eu,ev,ew,ex){return!_.isEmpty(es)?null:br.alertIfNone("Tipo Tarjeta",ce.tryParse(bf.Trim(et)),function(ey){var ez,eA,eB;return{$:1,$0:cb.New(bf.Trim(eu),ey,new cd({$:0,$0:bf.Trim(ev)}),cc.New((ez=(eA=bf.Trim(ew),(bD.parseIntO$1())(eA)),ez==null?0:ez.$0),(eB=bf.Trim(ex),eB==="Febrero"?2:eB==="Marzo"?3:eB==="Abril"?4:eB==="Mayo"?5:eB==="Junio"?6:eB==="Julio"?7:eB==="Agosto"?8:eB==="Septiembre"?9:eB==="Octubre"?10:eB==="Noviembre"?11:eB==="Diciembre"?12:1)))};});},4);},eq,ee.Hole("tipotarjeta").get_View()),ee.Hole("titular").get_View()),ee.Hole("numero").get_View()),ee.Hole("aniovenc").get_View()),ee.Hole("mesvenc").get_View()));return[eq,ee.get_Doc()];};cC=h.FromView=d6.Class({get_View:function(){return this.view;},Set:function(ec){this.set(ec);},Get:function(){return this.current;},Update:function(ec){var ed;p.Get((ed=this.set,function(ee){return ed(ec(ee));}),this.view);},UpdateMaybe:function(ec){var ed;ed=this;p.Get(function(ee){var ef;ef=ec(ee);ef!=null&&ef.$==1?ed.set(ef.$0):void 0;},this.view);}},q,cC);cC.New=d6.Ctor(function(ec,ed){var ee,ef;ee=this;q.New.call(this);this.set=ed;this.id=bV.Int();this.current=(ef=p.TryGet(ec),ef==null?null:ef.$0);this.view=p.Map(function(eg){ee.current=eg;return eg;},ec);},cC);cD.ofSeqNonCopying=function(ec){var ed,ee;if(ec instanceof a.Array)return ec;else if(ec instanceof cu)return Q.ofList(ec);else if(ec===null)return[];else{ed=[];ee=cr.Get(ec);try{while(ee.MoveNext())ed.push(ee.Current());return ed;}finally{if(typeof ee=="object"&&"Dispose"in ee)ee.Dispose();}}};cD.TreeReduce=function(ec,ed,ee){var ef;function eg(eh,ei){var ej,ek;return ei<=0?ec:ei===1&&(eh>=0&&eh<ef)?Q.get(ee,eh):(ek=ei/2>>0,ed(eg(eh,ek),eg(eh+ek,ei-ek)));}ef=Q.length(ee);return eg(0,ef);};cD.MapTreeReduce=function(ec,ed,ee,ef){var eg;function eh(ei,ej){var ek,el;return ej<=0?ed:ej===1&&(ei>=0&&ei<eg)?ec(Q.get(ef,ei)):(el=ej/2>>0,ee(eh(ei,el),eh(ei+el,ej-el)));}eg=Q.length(ef);return eh(0,eg);};cD.mapInPlace=function(ec,ed){var ee,ef;for(ee=0,ef=ed.length-1;ee<=ef;ee++)ed[ee]=ec(ed[ee]);return ed;};cE.Delay=function(ec){return function(ed){try{(ec(null))(ed);}catch(ee){ed.k({$:1,$0:ee});}};};cE.Bind=function(ec,ed){return cE.checkCancel(function(ee){ec(c6.New(function(ef){var eg;if(ef.$==0){eg=ef.$0;cE.scheduler().Fork(function(){try{(ed(eg))(ee);}catch(eh){ee.k({$:1,$0:eh});}});}else cE.scheduler().Fork(function(){ee.k(ef);});},ee.ct));});};cE.Zero=function(){c7.$cctor();return c7.Zero;};cE.Start=function(ec,ed){var ee,ef;ee=(ef=(cE.defCTS())[0],ed==null?ef:ed.$0);cE.scheduler().Fork(function(){if(!ee.c)ec(c6.New(function(eg){if(eg.$==1)cE.UncaughtAsyncError(eg.$0);},ee));});};cE.Return=function(ec){return function(ed){ed.k({$:0,$0:ec});};};cE.While=function(ec,ed){return ec()?cE.Bind(ed,function(){return cE.While(ec,ed);}):cE.Return();};cE.Sleep=function(ec){return function(ed){var ee,ef;ee=void 0;ef=void 0;ee=a.setTimeout(function(){ef.Dispose();cE.scheduler().Fork(function(){ed.k({$:0,$0:null});});},ec);ef=cE.Register(ed.ct,function(){a.clearTimeout(ee);cE.scheduler().Fork(function(){cE.cancel(ed);});});};};cE.checkCancel=function(ec){return function(ed){if(ed.ct.c)cE.cancel(ed);else ec(ed);};};cE.FromContinuations=function(ec){return function(ed){var ee;function ef(eg){if(ee[0])o.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{ee[0]=true;cE.scheduler().Fork(eg);}}ee=[false];ec(function(eg){ef(function(){ed.k({$:0,$0:eg});});},function(eg){ef(function(){ed.k({$:1,$0:eg});});},function(eg){ef(function(){ed.k({$:2,$0:eg});});});};};cE.defCTS=function(){c7.$cctor();return c7.defCTS;};cE.UncaughtAsyncError=function(ec){d_.log("WebSharper: Uncaught asynchronous exception",ec);};cE.Combine=function(ec,ed){return cE.Bind(ec,function(){return ed;});};cE.Register=function(ec,ed){var ee;return ec===cE.noneCT()?{Dispose:function(){return null;}}:(ee=ec.r.push(ed)-1,{Dispose:function(){return Q.set(ec.r,ee,a.ignore);}});};cE.cancel=function(ec){ec.k({$:2,$0:new dF.New(ec.ct)});};cE.Using=function(ec,ed){return cE.TryFinally(ed(ec),function(){ec.Dispose();});};cE.scheduler=function(){c7.$cctor();return c7.scheduler;};cE.noneCT=function(){c7.$cctor();return c7.noneCT;};cE.TryFinally=function(ec,ed){return function(ee){ec(c6.New(function(ef){try{ed();ee.k(ef);}catch(eg){ee.k({$:1,$0:eg});}},ee.ct));};};cE.StartWithContinuations=function(ec,ed,ee,ef,eg){var eh,ei;eh=(ei=(cE.defCTS())[0],eg==null?ei:eg.$0);!eh.c?ec(c6.New(function(ej){if(ej.$==1)ee(ej.$0);else if(ej.$==2)ef(ej.$0);else ed(ej.$0);},eh)):void 0;};cE.GetCT=function(){c7.$cctor();return c7.GetCT;};b1.splitByChar=function(ec,ed){return bf.SplitChars(ed,[ec],0);};b1.unindent=function(ec){var ed,ee,ef,eg;ed=bf.SplitChars(ec,["\n"],0);ee=(ef=_.tryFindIndex(function(eh){return" "!==eh;},(eg=_.tryFind(function(eh){return bf.Trim(eh)!=="";},ed),eg==null?"":eg.$0)),ef==null?0:ef.$0);return _.filter(function(eh){return!bf.StartsWith(eh,"# 1 ");},_.map(function(eh){return eh.length<=ee?"":eh.substring(ee);},ed));};b1.delimitedO=function(ec,ed,ee){var ef,eg,eh,ei,ej;ef=b1.splitInTwoO(ec,ee);return ef==null?null:(eg=ef.$0,(eh=eg[0],(ei=b1.splitInTwoO(ed,eg[1]),ei==null?null:{$:1,$0:(ej=ei.$0,[eh,ej[0],ej[1]])})));};b1.unindentStr=function(){bJ.$cctor();return bJ.unindentStr;};b1.StartsWith=function(ec,ed){return bf.StartsWith(ed,ec)?{$:1,$0:b2.string(ed,{$:1,$0:ec.length},null)}:null;};b1.splitInTwoO=function(ec,ed){var ee;ee=ed.indexOf(ec);return ee===-1?null:{$:1,$0:[$["String.Left"](ed,ee),ed.substring(ee+ec.length)]};};cG.Style=function(ec,ed){return c_.Static(function(ee){c$.SetStyle(ee,ec,ed);});};cG.Dynamic=function(ec,ed){return c_.Dynamic(ed,function(ee){return function(ef){return c$.SetAttr(ee,ec,ef);};});};cG.Handler=function(ec,ed){return c_.Static(function(ee){ee.addEventListener(ec,function(ef){return(ed(ee))(ef);},false);});};cG.DynamicStyle=function(ec,ed){return c_.Dynamic(ed,function(ee){return function(ef){return c$.SetStyle(ee,ec,ef);};});};cG.Value=function(ec){function ed(ee){return{$:1,$0:ee};}return cG.CustomValue(ec,a.id,function(ee){return ed(a.id(ee));});};cG.DynamicPred=function(ec,ed,ee){function ef(eg,eh){return eh[0]?c$.SetAttr(eg,ec,eh[1]):c$.RemoveAttr(eg,ec);}return c_.Dynamic(p.Map2(function(eg,eh){return[eg,eh];},ed,ee),function(eg){return function(eh){return ef(eg,eh);};});};cG.CustomValue=function(ec,ed,ee){return cG.CustomVar(ec,function(ef,eg){ef.value=ed(eg);},function(ef){return ee(ef.value);});};cG.OnAfterRender=function(ec){return new cP({$:4,$0:ec});};cG.Checked=function(ec){function ed(ee,ef){return!G.Equals(ec.Get(),ee.checked)?ec.Set(ee.checked):null;}return cP.Concat([cG.DynamicProp("checked",ec.get_View()),cG.Handler("change",function(ee){return function(ef){return ed(ee,ef);};})]);};cG.IntValue=function(ec){return cG.CustomVar(ec,function(ed,ee){var ef;ef=ee.get_Input();return ed.value!==ef?void(ed.value=ef):null;},function(ed){var ee,ef,eg;ee=ed.value;return{$:1,$0:dX.isBlank(ee)?(ed.checkValidity?ed.checkValidity():true)?new cQ({$:2,$0:ee}):new cQ({$:1,$0:ee}):(ef=(eg=0,[bO.TryParseInt32(ee,{get:function(){return eg;},set:function(eh){eg=eh;}}),eg]),ef[0]?new cQ({$:0,$0:ef[1],$1:ee}):new cQ({$:1,$0:ee}))};});};cG.IntValueUnchecked=function(ec){return cG.CustomValue(ec,a.String,function(ed){var ee;return dX.isBlank(ed)?{$:1,$0:0}:(ee=+ed,ee!==ee>>0?null:{$:1,$0:ee});});};cG.FloatValue=function(ec){return cG.CustomVar(ec,function(ed,ee){var ef;ef=ee.get_Input();return ed.value!==ef?void(ed.value=ef):null;},function(ed){var ee,ef;ee=ed.value;return{$:1,$0:dX.isBlank(ee)?(ed.checkValidity?ed.checkValidity():true)?new cQ({$:2,$0:ee}):new cQ({$:1,$0:ee}):(ef=+ee,a.isNaN(ef)?new cQ({$:1,$0:ee}):new cQ({$:0,$0:ef,$1:ee}))};});};cG.FloatValueUnchecked=function(ec){return cG.CustomValue(ec,a.String,function(ed){var ee;return dX.isBlank(ed)?{$:1,$0:0}:(ee=+ed,a.isNaN(ee)?null:{$:1,$0:ee});});};cG.CustomVar=function(ec,ed,ee){function ef(eh,ei){return ec.UpdateMaybe(function(ej){var ek,el;ek=ee(eh);return ek!=null&&ek.$==1&&(!G.Equals(ek.$0,ej)&&(el=[ek,ek.$0],true))?el[0]:null;});}function eg(eh,ei){var ej,ek;ej=ee(eh);return ej!=null&&ej.$==1&&(G.Equals(ej.$0,ei)&&(ek=ej.$0,true))?null:ed(eh,ei);}return cP.Concat([cG.Handler("change",function(eh){return function(ei){return ef(eh,ei);};}),cG.Handler("input",function(eh){return function(ei){return ef(eh,ei);};}),cG.Handler("keypress",function(eh){return function(ei){return ef(eh,ei);};}),cG.DynamicCustom(function(eh){return function(ei){return eg(eh,ei);};},ec.get_View())]);};cG.DynamicProp=function(ec,ed){return c_.Dynamic(ed,function(ee){return function(ef){ee[ec]=ef;};});};cG.DynamicCustom=function(ec,ed){return c_.Dynamic(ed,ec);};cH.p$1=function(ec){return"{"+("actName = "+bt.prettyPrint(ec.actName))+"; "+("actFunction = "+cJ.p$1(ec.actFunction))+"; "+("actEnabled = "+cJ.p$2(ec.actEnabled))+"}";};cI.appfwkclient=function(ec){cI.fixedsplitterhor();cI.fixedsplitterver();cS.LoadLocalTemplates("appframework");return ec?cS.NamedTemplate("appframework",{$:1,$0:"appfwkclient"},ec):void 0;};cH.p=function(ec){return"{"+("docName = "+bt.prettyPrint(ec.docName))+"; "+("docDoc = "+cJ.p(ec.docDoc))+"}";};cJ.p$1=function(ec){return ec.$==2?"FunAct2 (<fun>, "+bt.prettyPrint(ec.$1)+", "+bt.prettyPrint(ec.$2)+")":ec.$==1?"FunAct1 (<fun>, "+bt.prettyPrint(ec.$1)+")":"FunAct0 <fun>";};cJ.p$2=function(ec){return"View <fun>";};cI.tile=function(ec){cS.LoadLocalTemplates("appframework");return ec?cS.NamedTemplate("appframework",{$:1,$0:"tile"},ec):void 0;};cI.namevalueinput=function(ec){cS.LoadLocalTemplates("appframework");return ec?cS.NamedTemplate("appframework",{$:1,$0:"namevalueinput"},ec):void 0;};cI.namevalue=function(ec){cS.LoadLocalTemplates("appframework");return ec?cS.NamedTemplate("appframework",{$:1,$0:"namevalue"},ec):void 0;};cI.action=function(ec){cS.LoadLocalTemplates("appframework");return ec?cS.NamedTemplate("appframework",{$:1,$0:"action"},ec):void 0;};cI.actiondisabled=function(ec){cS.LoadLocalTemplates("appframework");return ec?cS.NamedTemplate("appframework",{$:1,$0:"actiondisabled"},ec):void 0;};cI.fixedsplitterhor=function(ec){cS.LoadLocalTemplates("appframework");return ec?cS.NamedTemplate("appframework",{$:1,$0:"fixedsplitterhor"},ec):void 0;};cI.fixedsplitterver=function(ec){cS.LoadLocalTemplates("appframework");return ec?cS.NamedTemplate("appframework",{$:1,$0:"fixedsplitterver"},ec):void 0;};cI.wcompsplitterhor=function(ec){cS.LoadLocalTemplates("appframework");return ec?cS.NamedTemplate("appframework",{$:1,$0:"wcompsplitterhor"},ec):void 0;};cI.wcompsplitterver=function(ec){cS.LoadLocalTemplates("appframework");return ec?cS.NamedTemplate("appframework",{$:1,$0:"wcompsplitterver"},ec):void 0;};cI.appframework=function(ec){cS.LoadLocalTemplates("appframework");return ec?cS.NamedTemplate("appframework",{$:1,$0:"appframework"},ec):void 0;};cJ.p=function(ec){return ec.$==5?"FunDoc5 (<fun>, "+bt.prettyPrint(ec.$1)+", "+bt.prettyPrint(ec.$2)+", "+bt.prettyPrint(ec.$3)+", "+bt.prettyPrint(ec.$4)+", "+bt.prettyPrint(ec.$5)+")":ec.$==4?"FunDoc4 (<fun>, "+bt.prettyPrint(ec.$1)+", "+bt.prettyPrint(ec.$2)+", "+bt.prettyPrint(ec.$3)+", "+bt.prettyPrint(ec.$4)+")":ec.$==3?"FunDoc3 (<fun>, "+bt.prettyPrint(ec.$1)+", "+bt.prettyPrint(ec.$2)+", "+bt.prettyPrint(ec.$3)+")":ec.$==2?"FunDoc2 (<fun>, "+bt.prettyPrint(ec.$1)+", "+bt.prettyPrint(ec.$2)+")":ec.$==1?"FunDoc1 (<fun>, "+bt.prettyPrint(ec.$1)+")":"LazyDoc "+bt.prettyPrint(ec.$0);};bD.tryParseWith=function(ec){function ed(ee,ef){return ee?{$:1,$0:ef}:null;}return function(ee){return ed.apply(null,ec(ee));};};bD.parseDateO=function(){bJ.$cctor();return bJ.parseDateO;};bD.parseIntO=function(){bJ.$cctor();return bJ.parseIntO;};bD.parseInt64O=function(){bJ.$cctor();return bJ.parseInt64O;};bD.parseSingleO=function(){bJ.$cctor();return bJ.parseSingleO;};bD.parseDoubleO=function(){bJ.$cctor();return bJ.parseDoubleO;};bD.parseGuidO=function(){bJ.$cctor();return bJ.parseGuidO;};bD.Double=function(){bJ.$cctor();return bJ["|Double|_|"];};bD.Int=function(){bJ.$cctor();return bJ["|Int|_|"];};cM=cL.WcTabStripT=d6.Class({connectedCallback:function(){var ec,ed,ee,ef;function eg(){var eh,ei,ej;ei=!ed.hasAttribute("bottom");ej=bv.ofSeq(_.delay(function(){return _.collect(function(ek){var el;el=ed.childNodes[ek-1];return G.Equals(el.nodeType,D.ELEMENT_NODE)?[[el.hasAttribute("tabname")?el.getAttribute("tabname"):(function(em){return function(en){return em("Tab "+a.String(en));};}(a.id))(ek),el]]:[];},o.range(1,ed.childNodes.length));}));while(ef.childNodes.length>0)ef.removeChild(ef.lastChild);eh=cL.tabStrip(ec.selected,ei,true,ej,W.Element("slot",cu.Empty,cu.Empty));cS.LoadLocalTemplates("");W.Run(ef,eh);}ec=this;!this.added?(ed=this,ee=ed.attachShadow({mode:"open"}),ef=self.document.createElement("div"),ee.appendChild(ef),eg(),ed.addEventListener("DOMSubtreeModified",$.delayed(50,eg)),this.added=true):void 0;}},g,cM);cM.Constructor=function(){var ec,ed;ec=(ed=ea.construct(self.HTMLElement,[],this.__proto__.constructor),ed);self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New.call(ec);return ec;};cM.New=d6.Ctor(function(){g.New.call(this);this.added=false;this.selected=i.Create$1(1);(function(ec){return ec("WcTabStripT initializer");}(function(ec){d_.log(ec);}));},cM);cK.defineWebComponent=function(ec,ed,ee){try{d_.log("defineWebComponent: "+ec);cB.setPrototypeOf(ee.prototype,self.HTMLElement.prototype);cB.setPrototypeOf(ee,self.HTMLElement);cB.setPrototypeOf(ed.prototype,ee.prototype);self.customElements.define(ec,ed);}catch(ef){(function(eg){return eg("Failed to define WebComponent. Not supported.");}(function(eg){d_.log(eg);}));}};cN.init=function(ec,ed){var ee;ee=new da.New();cN.set_layoutHorizontal(ec);cN.set_layoutVertical(ed);cK.defineWebComponent("wcomp-splitter",da.Constructor,self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New);};cN.set_layoutHorizontal=function(ec){bJ.$cctor();bJ.layoutHorizontal=ec;};cN.set_layoutVertical=function(ec){bJ.$cctor();bJ.layoutVertical=ec;};cN.layoutVertical=function(){bJ.$cctor();return bJ.layoutVertical;};cN.layoutHorizontal=function(){bJ.$cctor();return bJ.layoutHorizontal;};cL.init=function(){bJ.$cctor();return bJ.init;};cL.tabStrip=function(ec,ed,ee,ef,eg){var eh;eh=W.Element("div",[cP.Create("class",(((d6.Curried3(function(ei,ej,ek){return ei("tab-strip "+bt.toSafe(ej)+" "+bt.toSafe(ek));}))(a.id))(ed?"top":"bottom"))(ee?"horizontal":"vertical"))],bv.ofSeq(_.delay(function(){return _.collect(function(ei){var ej;ej=ei[0];return[dn.New$1().Content(W.Element("div",[cG.Dynamic("class",p.Map(function(ek){return"tab"+(ek===ej+1?" selected":"");},ec.get_View())),cP.Create("draggable","true"),cP.HandlerImpl("click",function(){return function(){return ec.Set(ej+1);};})],[W.TextNode(ei[1][0])]))];},_.indexed(ef));})));return W.Element("div",[cP.Create("class","tab-panel")],bv.ofSeq(_.delay(function(){return _.append(ed?[eh]:[],_.delay(function(){return _.append([W.Element("div",[cP.Create("class","tab-content")],[eg])],_.delay(function(){return _.append(!ed?[eh]:[],_.delay(function(){return _.append([W.Element("style",cu.Empty,bv.ofArray([W.TextNode(cL.css())]))],_.delay(function(){return[W.Element("style",cu.Empty,bv.ofArray([W.TextView(p.Map(function(ei){return function(ej){return ei("\r\n                                              ::slotted(*              ) { display: none }\r\n                                              ::slotted(*:nth-child("+a.String(ej)+")) { display: grid }\r\n                                           ");};}(a.id),ec.get_View()))]))];}));}));}));}));})));};cL.css=function(){bJ.$cctor();return bJ.css;};cO.notPresent=function(){return o.FailWith("The given key was not present in the dictionary.");};cO.alreadyAdded=function(){return o.FailWith("An item with the same key has already been added.");};cP=h.AttrProxy=d6.Class({},null,cP);cP.Create=function(ec,ed){return c_.Static(function(ee){c$.SetAttr(ee,ec,ed);});};cP.HandlerImpl=function(ec,ed){return c_.Static(function(ee){ee.addEventListener(ec,function(ef){return(ed(ee))(ef);},false);});};cP.Concat=function(ec){var ed;ed=cD.ofSeqNonCopying(ec);return cD.TreeReduce(c_.EmptyAttr(),cP.Append,ed);};cP.Append=function(ec,ed){return c_.AppendTree(ec,ed);};cP.Handler=function(ec,ed){return cP.HandlerImpl(ec,ed);};cQ=h.CheckedInput=d6.Class({get_Input:function(){return this.$==1?this.$0:this.$==2?this.$0:this.$1;}},null,cQ);cS.LoadLocalTemplates=function(ec){!cS.LocalTemplatesLoaded()?(cS.set_LocalTemplatesLoaded(true),cS.LoadNestedTemplates(self.document.body,"")):void 0;cS.LoadedTemplates().set_Item(ec,cS.LoadedTemplateFile(""));};cS.NamedTemplate=function(ec,ed,ee){var ef,eg;ef=(eg=null,[cS.LoadedTemplateFile(ec).TryGetValue(ed==null?"":ed.$0,{get:function(){return eg;},set:function(eh){eg=eh;}}),eg]);return ef[0]?cS.ChildrenTemplate(ef[1].cloneNode(true),ee):(d_.warn("Local template doesn't exist",ed),W.get_Empty());};cS.RunFullDocTemplate=function(ec){var ed,ee;cS.LoadLocalTemplates("");cS.PrepareTemplateStrict("",null,c$.ChildrenArray(self.document.body),{$:1,$0:self.document.body},null);ed=cS.ChildrenTemplate(self.document.body,ec);ee=self.document.body;(function(ef){W.RunInPlace(true,ee,ef);}(ed));return ed;};cS.LocalTemplatesLoaded=function(){ds.$cctor();return ds.LocalTemplatesLoaded;};cS.set_LocalTemplatesLoaded=function(ec){ds.$cctor();ds.LocalTemplatesLoaded=ec;};cS.LoadNestedTemplates=function(ec,ed){var ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es;function ee(et){var eu,ev;if(!ef.ContainsKey(et)){eu=(ev=null,[eg.TryGetValue(et,{get:function(){return ev;},set:function(ew){ev=ew;}}),ev]);eu[0]?(es.Add(et),eg.Remove(et),cS.PrepareTemplateStrict(ed,{$:1,$0:et},eu[1][0],{$:1,$0:eu[1][1]},{$:1,$0:ee})):d_.warn(es.Contains(et)?"Encountered loop when instantiating "+et:"Local template does not exist: "+et);}}ef=cS.LoadedTemplateFile(ed);eg=new bQ.New$5();eh=ec.querySelectorAll("[ws-template]");for(ei=0,ej=eh.length-1;ei<=ej;ei++){ek=eh[ei];el=ek.getAttribute("ws-template").toLowerCase();ek.removeAttribute("ws-template");eg.set_Item(el,[[ek],cS.FakeRootSingle(ek)]);}em=ec.querySelectorAll("[ws-children-template]");for(en=0,eo=em.length-1;en<=eo;en++){ep=em[en];eq=ep.getAttribute("ws-children-template").toLowerCase();ep.removeAttribute("ws-children-template");eg.set_Item(eq,(er=c$.ChildrenArray(ep),[er,cS.FakeRoot(er)]));}es=new bR.New$3();while(eg.count>0)ee(_.head(eg.get_Keys()));};cS.LoadedTemplates=function(){ds.$cctor();return ds.LoadedTemplates;};cS.LoadedTemplateFile=function(ec){var ed,ee,ef;ed=(ee=null,[cS.LoadedTemplates().TryGetValue(ec,{get:function(){return ee;},set:function(eg){ee=eg;}}),ee]);return ed[0]?ed[1]:(ef=new bQ.New$5(),(cS.LoadedTemplates().set_Item(ec,ef),ef));};cS.ChildrenTemplate=function(ec,ed){var ee,ef,eg,eh,ei;ee=cS.InlineTemplate(ec,ed);ef=ee[1];eg=ee[0];eh=eg.Els;return!G.Equals(eh,null)&&eh.length===1&&(Q.get(eh,0)instanceof D&&(G.Equals(Q.get(eh,0).nodeType,D.ELEMENT_NODE)&&(ei=Q.get(eh,0),true)))?dt.TreeNode(eg,ef):W.Mk({$:6,$0:eg},ef);};cS.PrepareTemplateStrict=function(ec,ed,ee,ef,eg){var eh,ei;function ej(eo,ep){var eq,er,es,et,eu,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ;function ev(eR){}while(true)switch(eo){case 0:if(ep!==null){eq=ep.nextSibling;if(G.Equals(ep.nodeType,D.TEXT_NODE))dw.convertTextNode(ep);else if(G.Equals(ep.nodeType,D.ELEMENT_NODE))el(ep);ep=eq;}else return null;break;case 1:ew=b2.string(ep.nodeName,{$:1,$0:3},null).toLowerCase();ex=(er=ew.indexOf("."),er===-1?[ec,ew]:[b2.string(ew,null,{$:1,$0:er-1}),b2.string(ew,{$:1,$0:er+1},null)]);ey=ex[1];ez=ex[0];if(ez!==""&&!cS.LoadedTemplates().ContainsKey(ez))return dw.failNotLoaded(ey);else{if(ez===""&&eg!=null)eg.$0(ey);eA=cS.LoadedTemplates().get_Item(ez);if(!eA.ContainsKey(ey))return dw.failNotLoaded(ey);else{eB=eA.get_Item(ey);eC=eB.cloneNode(true);eD=new bR.New$3();eE=new bQ.New$5();eF=ep.attributes;for(eG=0,eH=eF.length-1;eG<=eH;eG++){eI=eF.item(eG).name.toLowerCase();eE.set_Item(eI,(eJ=eF.item(eG).nodeValue,eJ===""?eI:eJ.toLowerCase()));!eD.Add(eI)?d_.warn("Hole mapped twice",eI):void 0;}for(eK=0,eL=ep.childNodes.length-1;eK<=eL;eK++){eM=ep.childNodes[eK];G.Equals(eM.nodeType,D.ELEMENT_NODE)?!eD.Add(eM.nodeName.toLowerCase())?d_.warn("Hole filled twice",ey):void 0:void 0;}eN=ep.childNodes.length===1&&G.Equals(ep.firstChild.nodeType,D.TEXT_NODE);if(eN){et=dw.fillTextHole(eC,ep.firstChild.textContent,ey);((function(eR){return function(eS){if(eS!=null)eR(eS.$0);};}((eu=function(eR){return function(eS){return eR.Add(eS);};}(eD),function(eR){return ev(eu(eR));})))(et));}dw.removeHolesExcept(eC,eD);if(!eN){for(eO=0,eP=ep.childNodes.length-1;eO<=eP;eO++){eQ=ep.childNodes[eO];G.Equals(eQ.nodeType,D.ELEMENT_NODE)?eQ.hasAttributes()?dw.fillInstanceAttrs(eC,eQ):ek(eC,eQ):void 0;}}dw.mapHoles(eC,eE);dw.fill(eC,ep.parentNode,ep);ep.parentNode.removeChild(ep);return;}}break;}}function ek(eo,ep){var eq,es,et;function er(eu,ev){var ew,ex,ey;if(es==="title"&&ep.hasChildNodes()){ew=d8.parseHTML(ep.textContent);ep.removeChild(ep.firstChild);for(ex=0,ey=ew.length-1;ex<=ey;ex++)ep.appendChild(Q.get(ew,ex));}else null;el(ep);return dw.fill(ep,eu,ev);}es=ep.nodeName.toLowerCase();c$.IterSelector(eo,"[ws-attr-holes]",function(eu){var ev,ew,ex,ey,ez;ev=bf.SplitChars(eu.getAttribute("ws-attr-holes"),[" "],1);for(ew=0,ex=ev.length-1;ew<=ex;ew++){ey=Q.get(ev,ew);eu.setAttribute(ey,(ez=new a.RegExp("\\${"+es+"}","ig"),eu.getAttribute(ey).replace(ez,ep.textContent)));}});et=eo.querySelector("[ws-hole="+es+"]");if(G.Equals(et,null)){eq=eo.querySelector("[ws-replace="+es+"]");return G.Equals(eq,null)?null:(er(eq.parentNode,eq),void eq.parentNode.removeChild(eq));}else{while(et.hasChildNodes())et.removeChild(et.lastChild);et.removeAttribute("ws-hole");return er(et,null);}}function el(eo){if(bf.StartsWith(eo.nodeName.toLowerCase(),"ws-"))en(eo);else{dw.convertAttrs(eo);em(eo.firstChild);}}function em(eo){return ej(0,eo);}function en(eo){return ej(1,eo);}eh=ef==null?cS.FakeRoot(ee):ef.$0;ei=(ed==null?"":ed.$0).toLowerCase();cS.LoadedTemplateFile(ec).set_Item(ei,eh);Q.length(ee)>0?(function(eo){var ep,eq,er,es;while(true){ep=eo.querySelector("[ws-template]");if(G.Equals(ep,null)){eq=eo.querySelector("[ws-children-template]");if(G.Equals(eq,null))return null;else{er=eq.getAttribute("ws-children-template");eq.removeAttribute("ws-children-template");cS.PrepareTemplateStrict(ec,{$:1,$0:er},c$.ChildrenArray(eq),null,null);eo=eo;}}else{es=ep.getAttribute("ws-template");(cS.PrepareSingleTemplate(ec,{$:1,$0:es},ep))(null);eo=eo;}}}(eh),em(Q.get(ee,0))):void 0;};cS.FakeRootSingle=function(ec){var ed,ee,ef;ec.removeAttribute("ws-template");ed=ec.getAttribute("ws-replace");ed===null?void 0:(ec.removeAttribute("ws-replace"),ee=ec.parentNode,G.Equals(ee,null)?void 0:(ef=self.document.createElement(ec.tagName),ef.setAttribute("ws-replace",ed),ee.replaceChild(ef,ec)));return cS.FakeRoot([ec]);};cS.FakeRoot=function(ec){var ed,ee,ef;ed=self.document.createElement("div");for(ee=0,ef=ec.length-1;ee<=ef;ee++)ed.appendChild(Q.get(ec,ee));return ed;};cS.InlineTemplate=function(ec,ed){var ee,ef,eg,eh,ek,el,em,en,eo,ep,eq;function ei(er,es){var et,eu,ev;et=c_.Insert(er,es);el.push(c_.Updates(et));em.push([er,et]);eu=d6.GetOptional(et.OnAfterRender);return eu==null?null:(ev=eu.$0,void en.push(function(){ev(er);}));}function ej(er){var es,et;es=(et=null,[eo.TryGetValue(er,{get:function(){return et;},set:function(eu){et=eu;}}),et]);return es[0]?es[1].$==0?{$:1,$0:es[1].$1}:es[1].$==1?{$:1,$0:W.TextNode(es[1].$1)}:es[1].$==2?{$:1,$0:W.TextView(es[1].$1)}:es[1].$==8?{$:1,$0:W.TextView(es[1].$1.get_View())}:es[1].$==9?{$:1,$0:W.TextView(p.Map(a.String,es[1].$1.get_View()))}:es[1].$==10?{$:1,$0:W.TextView(p.Map(function(eu){return eu.get_Input();},es[1].$1.get_View()))}:es[1].$==11?{$:1,$0:W.TextView(p.Map(a.String,es[1].$1.get_View()))}:es[1].$==12?{$:1,$0:W.TextView(p.Map(function(eu){return eu.get_Input();},es[1].$1.get_View()))}:es[1].$==13?{$:1,$0:W.TextView(p.Map(a.String,es[1].$1.get_View()))}:(d_.warn("Content hole filled with attribute data",er),null):null;}ek=[];el=[];em=[];en=[];eo=new bQ.New$5();ep=cr.Get(ed);try{while(ep.MoveNext()){eq=ep.Current();eo.set_Item(eq.$0,eq);}}finally{if(typeof ep=="object"&&"Dispose"in ep)ep.Dispose();}ee=c$.ChildrenArray(ec);c$.IterSelector(ec,"[ws-hole]",function(er){var es,et,eu;eu=er.getAttribute("ws-hole");er.removeAttribute("ws-hole");while(er.hasChildNodes())er.removeChild(er.lastChild);es=ej(eu);es!=null&&es.$==1?(et=es.$0,c5.LinkElement(er,et.docNode),ek.push(db.New(c_.Empty(er),et.docNode,null,er,bV.Int(),null)),el.push(et.updates)):void 0;});c$.IterSelector(ec,"[ws-replace]",function(er){var es,et,eu,ev,ew,ex;es=ej(er.getAttribute("ws-replace"));es!=null&&es.$==1?(et=es.$0,eu=er.parentNode,ev=self.document.createTextNode(""),eu.replaceChild(ev,er),ew=c5.InsertBeforeDelim(ev,et.docNode),ex=Q.tryFindIndex(function(ey){return er===ey;},ee),ex==null?void 0:Q.set(ee,ex.$0,et.docNode),ek.push(db.New(c_.Empty(eu),et.docNode,{$:1,$0:[ew,ev]},eu,bV.Int(),null)),el.push(et.updates)):void 0;});c$.IterSelector(ec,"[ws-attr]",function(er){var es,et,eu;es=er.getAttribute("ws-attr");er.removeAttribute("ws-attr");et=(eu=null,[eo.TryGetValue(es,{get:function(){return eu;},set:function(ev){eu=ev;}}),eu]);et[0]?et[1].$==3?ei(er,et[1].$1):d_.warn("Attribute hole filled with non-attribute data",es):void 0;});c$.IterSelector(ec,"[ws-on]",function(er){ei(er,cP.Concat(Q.choose(function(es){var et,eu,ev;et=bf.SplitChars(es,[":"],1);eu=(ev=null,[eo.TryGetValue(Q.get(et,1),{get:function(){return ev;},set:function(ew){ev=ew;}}),ev]);return eu[0]?eu[1].$==4?{$:1,$0:cG.Handler(Q.get(et,0),eu[1].$1)}:eu[1].$==5?{$:1,$0:cP.Handler(Q.get(et,0),eu[1].$2)}:(d_.warn("Event hole on"+Q.get(et,0)+" filled with non-event data",Q.get(et,1)),null):null;},bf.SplitChars(er.getAttribute("ws-on"),[" "],1))));er.removeAttribute("ws-on");});c$.IterSelector(ec,"[ws-onafterrender]",function(er){var es,et,eu;es=er.getAttribute("ws-onafterrender");et=(eu=null,[eo.TryGetValue(es,{get:function(){return eu;},set:function(ev){eu=ev;}}),eu]);et[0]?et[1].$==6?(er.removeAttribute("ws-onafterrender"),ei(er,cG.OnAfterRender(et[1].$1))):et[1].$==7?(er.removeAttribute("ws-onafterrender"),ei(er,cG.OnAfterRender(et[1].$1))):d_.warn("onafterrender hole filled with non-onafterrender data",es):void 0;});c$.IterSelector(ec,"[ws-var]",function(er){var es,et,eu;es=er.getAttribute("ws-var");er.removeAttribute("ws-var");et=(eu=null,[eo.TryGetValue(es,{get:function(){return eu;},set:function(ev){eu=ev;}}),eu]);et[0]?et[1].$==8?ei(er,cG.Value(et[1].$1)):et[1].$==9?ei(er,cG.Checked(et[1].$1)):et[1].$==10?ei(er,cG.IntValue(et[1].$1)):et[1].$==11?ei(er,cG.IntValueUnchecked(et[1].$1)):et[1].$==12?ei(er,cG.FloatValue(et[1].$1)):et[1].$==13?ei(er,cG.FloatValueUnchecked(et[1].$1)):d_.warn("Var hole filled with non-Var data",es):void 0;});c$.IterSelector(ec,"[ws-attr-holes]",function(er){var es,et,eu,ev;es=new a.RegExp(cS.TextHoleRE(),"g");et=bf.SplitChars(er.getAttribute("ws-attr-holes"),[" "],1);er.removeAttribute("ws-attr-holes");for(eu=0,ev=et.length-1;eu<=ev;eu++)(function(){var ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI;eF=Q.get(et,eu);eG=er.getAttribute(eF);ew=null;ex=0;eH=[];while(ew=es.exec(eG),ew!==null){eI=b2.string(eG,{$:1,$0:ex},{$:1,$0:es.lastIndex-Q.get(ew,0).length-1});ex=es.lastIndex;eH.push([eI,Q.get(ew,1)]);}ez=b2.string(eG,{$:1,$0:ex},null);es.lastIndex=0;eA=Q.foldBack(function(eJ,eK){return(function(eL){var eM,eN;eM=eL[0];eN=eL[1];return function(eO){var eP,eQ,eR,eS,eT;eP=eO[0];eQ=eO[1];eR=(eS=(eT=null,[eo.TryGetValue(eN,{get:function(){return eT;},set:function(eU){eT=eU;}}),eT]),eS[0]?eS[1].$==1?{$:0,$0:eS[1].$1}:eS[1].$==2?{$:1,$0:eS[1].$1}:eS[1].$==8?{$:1,$0:eS[1].$1.get_View()}:eS[1].$==9?{$:1,$0:p.Map(a.String,eS[1].$1.get_View())}:eS[1].$==10?{$:1,$0:p.Map(function(eU){return eU.get_Input();},eS[1].$1.get_View())}:eS[1].$==11?{$:1,$0:p.Map(a.String,eS[1].$1.get_View())}:eS[1].$==12?{$:1,$0:p.Map(function(eU){return eU.get_Input();},eS[1].$1.get_View())}:eS[1].$==13?{$:1,$0:p.Map(a.String,eS[1].$1.get_View())}:(d_.warn("Attribute value hole filled with non-text data",eN),{$:0,$0:""}):{$:0,$0:""});return eR.$==1?[eM,new cu({$:1,$0:eP===""?eR.$0:p.Map(function(eU){return eU+eP;},eR.$0),$1:eQ})]:[eM+eR.$0+eP,eQ];};}(eJ))(eK);},eH,[ez,cu.Empty]);return ei(er,eA[1].$==1?eA[1].$1.$==1?eA[1].$1.$1.$==1?eA[1].$1.$1.$1.$==0?(eB=eA[0],cG.Dynamic(eF,p.Map3(function(eJ,eK,eL){return eB+eJ+eK+eL;},eA[1].$0,eA[1].$1.$0,eA[1].$1.$1.$0))):(eC=eA[0],cG.Dynamic(eF,p.Map(function(eJ){return eC+bf.concat("",eJ);},p.Sequence(eA[1])))):(eD=eA[0],cG.Dynamic(eF,p.Map2(function(eJ,eK){return eD+eJ+eK;},eA[1].$0,eA[1].$1.$0))):eA[0]===""?cG.Dynamic(eF,eA[1].$0):(eE=eA[0],cG.Dynamic(eF,p.Map(function(eJ){return eE+eJ;},eA[1].$0))):cP.Create(eF,eA[0]));}());});return[d6.DeleteEmptyFields({Els:ee,Dirty:true,Holes:ek,Attrs:em,Render:(ef=en.length==0?null:{$:1,$0:function(er){Q.iter(function(es){es(er);},en);}},ef?ef.$0:void 0),El:(eg=!G.Equals(ee,null)&&ee.length===1&&(Q.get(ee,0)instanceof D&&(Q.get(ee,0)instanceof a.Element&&(eh=Q.get(ee,0),true)))?{$:1,$0:eh}:null,eg?eg.$0:void 0)},["Render","El"]),cD.TreeReduce(p.Const(),p.Map2Unit,el)];};cS.PrepareSingleTemplate=function(ec,ed,ee){var ef,eg,eh;ef=cS.FakeRootSingle(ee);eg=[ee];eh={$:1,$0:ef};return function(ei){cS.PrepareTemplateStrict(ec,ed,eg,eh,ei);};};cS.TextHoleRE=function(){ds.$cctor();return ds.TextHoleRE;};cT.TryParse=function(ec){var ed;ed=d9.parse(ec);return a.isNaN(ed)?null:{$:1,$0:ed};};cT.DatePortion=function(ec){var ed;ed=new d9(ec);return(new d9(ed.getFullYear(),ed.getMonth(),ed.getDate())).getTime();};bO.TryParse=function(ec,ed,ee,ef){var eg,eh;eg=+ec;eh=eg===eg-eg%1&&eg>=ed&&eg<=ee;eh?ef.set(eg):void 0;return eh;};bO.TryParseBool=function(ec,ed){var ee;ee=ec.toLowerCase();return ee==="true"?(ed.set(true),true):ee==="false"&&(ed.set(false),true);};cU.$cctor=function(){cU.$cctor=a.ignore;cU.EndPoint="?";cU.AjaxProvider=new de.New();};cV.newPojoOpt=function(ec){function ed(ee,ef){return ef==null?null:{$:1,$0:[ee,ef.$0]};}return cV.newPojo(_.choose(function(ee){return ed(ee[0],ee[1]);},ec));};cV.newPojo=function(ec){var ed,ee;function ef(eh,ei){return function(ej){return cV.addProp(eh,ei,ej);};}function eg(eh){}ed={};_.iter((ee=function(eh){return(function(ei){return ef(ei[0],ei[1]);}(eh))(ed);},function(eh){return eg(ee(eh));}),ec);return ed;};cV.addProp=function(ec,ed,ee){ee[ec]=ed;return ee;};b4.op_EqualsEqualsGreater=function(ec,ed){return[ec,ed==null?null:{$:1,$0:ed.$0}];};cX.JSUnion=function(ec,ed){var ee;function ef(ej){var ek;function el(em){return em!=null&&em.$==1&&G.Equals(ej,em.$0);}ek=_.tryFindIndex(function(em){return el(em[0]);},ed);return ek!=null&&ek.$==1?ek.$0:ej.$;}function eg(ej,ek){return Q.init(Q.length((Q.get(ed,ej))[2]),function(el){return ek["$"+a.String(el)];});}function eh(ej,ek){var el,em,en;el=ec==null?{}:new ec();em=Q.get(ed,ej);return(en=em[0],en!=null&&en.$==1)?em[0].$0:(el.$=ej,_.iteri(function(eo,ep){el["$"+a.String(eo)]=ep;},ek),el);}function ei(ej,ek){var el;function em(en,eo){return[ej,en,eo,el];}el=ek[2];return _.map(function(en){return em(en[0],en[1]);},ek[1]);}ee=_.collect(function(ej){return ei(ej[0],ej[1]);},_.indexed(ed));return df.New$1(function(ej){function ek(el,em,en,eo){var ep,eq,er;function es(et,eu,ev){var ew;function ex(ey,ez){return es(ew,ey,new cu({$:1,$0:ez,$1:ev}));}return et.$==1?(ew=et.$1,_.collect(function(ey){return ex(ey[0],ey[1]);},et.$0.Parse(eu))):[[eu,eh(el,Q.ofList(bv.rev(ev)))]];}return cX.isCorrectMethod(em,ej.Method)?(ep=dg.startsWith(bv.ofArray(en),ej.Segments),ep==null?[]:(eq=ep.$0,(er=bv.ofArray(eo),er.$==0?[[cZ.New(eq,ej.QueryArgs,ej.FormData,ej.Method,ej.Body),eh(el,[])]]:es(er,cZ.New(eq,ej.QueryArgs,ej.FormData,ej.Method,ej.Body),cu.Empty)))):[];}return _.collect(function(el){return ek(el[0],el[1],el[2],el[3]);},ee);},function(ej){var ek,el,em,en,eo,ep;function eq(er,es){return es.Write(er);}ek=ef(ej);el=Q.get(ed,ek);em=el[2];en=Q.get(el[1],0);eo=[cZ.Segment(bv.ofArray(en[1]),en[0])];return!G.Equals(em,null)&&em.length===0?{$:1,$0:eo}:(ep=(((d6.Curried3(Q.map2))(eq))(eg(ek,ej)))(em),Q.forall(function(er){return er!=null;},ep)?{$:1,$0:_.append(eo,_.collect(function(er){return er.$0;},ep))}:null);});};cX.isCorrectMethod=function(ec,ed){return ed!=null&&ed.$==1?ec!=null&&ec.$==1?G.Equals(ed.$0,ec.$0):true:!(ec!=null&&ec.$==1);};cX.rString=function(){dB.$cctor();return dB.rString;};cX.rWildcard=function(){dB.$cctor();return dB.rWildcard;};cY.Parse=function(ec,ed){function ee(ef,eg){return ef.Segments.$==0?{$:1,$0:eg}:null;}return _.tryPick(function(ef){return ee(ef[0],ef[1]);},ec.Parse(ed));};cY.HashLink=function(ec,ed){return"#"+cY.Link(ec,ed);};cY.Link=function(ec,ed){var ee;ee=cY.Write(ec,ed);return ee==null?"":ee.$0.ToLink();};cY.Write=function(ec,ed){var ee;ee=ec.Write(ed);return ee==null?null:{$:1,$0:cZ.Combine(ee.$0)};};cZ=cW.Route=d6.Class({ToLink:function(){return d0.WriteLink(this.Segments,this.QueryArgs);}},null,cZ);cZ.FromHash=function(ec,ed){var ee,ef;ee=ec.indexOf("#");return ee===-1?cZ.get_Empty():(ef=ec.substring(ee+1),ed!=null&&ed.$0?ef===""||ef==="/"?cZ.get_Empty():bf.StartsWith(ef,"/")?cZ.FromUrl(ef.substring(1),{$:1,$0:true}):cZ.Segment$2(ef):cZ.FromUrl(ec.substring(ee),{$:1,$0:false}));};cZ.Segment=function(ec,ed){var ee;ee=cZ.get_Empty();return cZ.New(ec,ee.QueryArgs,ee.FormData,ed,ee.Body);};cZ.get_Empty=function(){return cZ.New(cu.Empty,new cq.New([]),new cq.New([]),null,r.CreateFromValue(null));};cZ.FromUrl=function(ec,ed){var ee,ef,eg;ee=(ef=ec.indexOf("?"),ef===-1?[ec,new cq.New([])]:[bf.Substring(ec,0,ef),cZ.ParseQuery(ec.substring(ef+1))]);eg=cZ.get_Empty();return cZ.New(bv.ofArray(bf.SplitChars(ee[0],["/"],ed!=null&&ed.$0?0:1)),ee[1],eg.FormData,eg.Method,eg.Body);};cZ.Segment$2=function(ec){var ed;ed=cZ.get_Empty();return cZ.New(bv.ofArray([ec]),ed.QueryArgs,ed.FormData,ed.Method,ed.Body);};cZ.ParseQuery=function(ec){return dC.OfArray(Q.ofSeq(Q.choose(function(ed){var ee,ef;ee=bf.SplitChars(ed,["="],0);return!G.Equals(ee,null)&&ee.length===2?(ef=Q.get(ee,1),{$:1,$0:[Q.get(ee,0),ef]}):((function(eg){return function(eh){return eg("wrong format for query argument: "+bt.toSafe(eh));};}(function(eg){d_.log(eg);}))(ed),null);},bf.SplitChars(ec,["&"],0))));};cZ.Combine=function(ec){var ed,ee,ef,eg,eh,ei,ej,ek,el,em;ej=Q.ofSeq(ec);ek=Q.length(ej);if(ek===0)return cZ.get_Empty();else if(ek===1)return Q.get(ej,0);else{ed=null;ee=null;el=[];ef=new cq.New([]);eg=new cq.New([]);eh=0;em=Q.length(ej);while(eh<em)(function(){var en,eo,ep;en=Q.get(ej,eh);eo=en.Method;eo!=null&&eo.$==1?ed=eo:void 0;ep=en.Body.f();ep===null?void 0:ee=ep;ef=dC.FoldBack(function(eq,er,es){return es.Add(eq,er);},ef,en.QueryArgs);eg=dC.FoldBack(function(eq,er,es){return es.Add(eq,er);},eg,en.FormData);bv.iter(function(eq){el.push(eq);},en.Segments);eh=eh+1;}());return cZ.New(bv.ofSeq(el),ef,eg,ed,r.CreateFromValue(ee));}};cZ.New=function(ec,ed,ee,ef,eg){return new cZ({Segments:ec,QueryArgs:ed,FormData:ee,Method:ef,Body:eg});};c0=cm.CustomXhrProvider=d6.Class({Async:function(ec,ed,ee,ef,eg){var eh;cE.Start((eh=null,cE.Delay(function(){return cE.Bind((cm.getTokenOA())(),function(ei){ei==null?void 0:ed.Authorization=(function(ej){return function(ek){return ej("Bearer "+bt.toSafe(ek));};}(a.id))(ei.$0);cm.originalProvider().Async(ec,ed,ee,ef,eg);return cE.Zero();});})),null);}},g,c0);c0.New=d6.Ctor(function(){g.New.call(this);},c0);c1.AsAsync=function(ec){return cE.FromContinuations(function(ed,ee){ec.then(ed,function(ef){return ee(c1.unwrapExn(ef));});});};c1.unwrapExn=function(ec){return ec instanceof dD?ec:new dE.New(ec);};c2.fromSeq=function(ec){var ed;ed=Q.ofSeq(_.delay(function(){return _.collect(function(ee){return[dh.New(ee[0],ee[1])];},_.distinctBy(function(ee){return ee[0];},ec));}));Q.sortInPlace(ed);return ct.Build(ed,0,ed.length-1);};c3.New=function(ec,ed,ee,ef,eg){return{Node:ec,Left:ed,Right:ee,Height:ef,Count:eg};};c4=J.IdAddress=d6.Class({},null,c4);c5.CreateEmbedNode=function(){return{Current:null,Dirty:false};};c5.UpdateEmbedNode=function(ec,ed){ec.Current=ed;ec.Dirty=true;};c5.CreateElemNode=function(ec,ed,ee){var ef;c5.LinkElement(ec,ee);ef=c_.Insert(ec,ed);return db.New(ef,ee,null,ec,bV.Int(),d6.GetOptional(ef.OnAfterRender));};c5.LinkElement=function(ec,ed){c5.InsertDoc(ec,ed,null);};c5.CreateRunState=function(ec,ed){return dO.New(dP.get_Empty(),c5.CreateElemNode(ec,c_.EmptyAttr(),ed));};c5.PerformAnimatedUpdate=function(ec,ed,ee){var ef;return dx.get_UseAnimations()?(ef=null,cE.Delay(function(){var eg,eh,ei;eg=dP.FindAll(ee);eh=c5.ComputeChangeAnim(ed,eg);ei=c5.ComputeEnterAnim(ed,eg);return cE.Bind(dx.Play(dx.Append(eh,c5.ComputeExitAnim(ed,eg))),function(){return cE.Bind(c5.SyncElemNodesNextFrame(ec,ed),function(){return cE.Bind(dx.Play(ei),function(){ed.PreviousNodes=eg;return cE.Return(null);});});});})):c5.SyncElemNodesNextFrame(ec,ed);};c5.PerformSyncUpdate=function(ec,ed,ee){var ef;ef=dP.FindAll(ee);c5.SyncElemNode(ec,ed.Top);ed.PreviousNodes=ef;};c5.CreateTextNode=function(){return{Text:c$.CreateText(""),Dirty:false,Value:""};};c5.UpdateTextNode=function(ec,ed){ec.Value=ed;ec.Dirty=true;};c5.InsertDoc=function(ec,ed,ee){var ef;return ed!=null&&ed.$==1?c5.InsertNode(ec,ed.$0.El,ee):ed!=null&&ed.$==2?(ef=ed.$0,(ef.Dirty=false,c5.InsertDoc(ec,ef.Current,ee))):ed==null?ee:ed!=null&&ed.$==4?c5.InsertNode(ec,ed.$0.Text,ee):ed!=null&&ed.$==5?c5.InsertNode(ec,ed.$0,ee):ed!=null&&ed.$==6?Q.foldBack(function(eg,eh){return eg==null||eg.constructor===cB?c5.InsertDoc(ec,eg,eh):c5.InsertNode(ec,eg,eh);},ed.$0.Els,ee):c5.InsertDoc(ec,ed.$0,c5.InsertDoc(ec,ed.$1,ee));};c5.InsertBeforeDelim=function(ec,ed){var ee,ef;ee=ec.parentNode;ef=self.document.createTextNode("");ee.insertBefore(ef,ec);c5.LinkPrevElement(ec,ed);return ef;};c5.SyncElemNodesNextFrame=function(ec,ed){function ee(ef){a.requestAnimationFrame(function(){c5.SyncElemNode(ec,ed.Top);ef();});}return dy.BatchUpdatesEnabled()?cE.FromContinuations(function(ef,eg,eh){return ee.apply(null,[ef,eg,eh]);}):(c5.SyncElemNode(ec,ed.Top),cE.Return(null));};c5.ComputeExitAnim=function(ec,ed){return dx.Concat(Q.map(function(ee){return c_.GetExitAnim(ee.Attr);},dP.ToArray(dP.Except(ed,dP.Filter(function(ee){return c_.HasExitAnim(ee.Attr);},ec.PreviousNodes)))));};c5.ComputeEnterAnim=function(ec,ed){return dx.Concat(Q.map(function(ee){return c_.GetEnterAnim(ee.Attr);},dP.ToArray(dP.Except(ec.PreviousNodes,dP.Filter(function(ee){return c_.HasEnterAnim(ee.Attr);},ed)))));};c5.ComputeChangeAnim=function(ec,ed){var ee;function ef(eg){return c_.HasChangeAnim(eg.Attr);}ee=function(eg){return dP.Filter(ef,eg);};return dx.Concat(Q.map(function(eg){return c_.GetChangeAnim(eg.Attr);},dP.ToArray(dP.Intersect(ee(ec.PreviousNodes),ee(ed)))));};c5.SyncElemNode=function(ec,ed){!ec?c5.SyncElement(ed):void 0;c5.Sync(ed.Children);c5.AfterRender(ed);};c5.InsertNode=function(ec,ed,ee){c$.InsertAt(ec,ee,ed);return ed;};c5.LinkPrevElement=function(ec,ed){c5.InsertDoc(ec.parentNode,ed,ec);};c5.SyncElement=function(ec){function ed(ee){function ef(eg){var eh,ei;return eg!=null&&eg.$==0?ef(eg.$0)||ef(eg.$1):eg!=null&&eg.$==2?(eh=eg.$0,eh.Dirty||ef(eh.Current)):eg!=null&&eg.$==6&&(ei=eg.$0,ei.Dirty||Q.exists(ed,ei.Holes));}return ef(ee.Children);}c_.Sync(ec.El,ec.Attr);ed(ec)?c5.DoSyncElement(ec):void 0;};c5.Sync=function(ec){var ed,ee;if(ec!=null&&ec.$==1)c5.SyncElemNode(false,ec.$0);else if(ec!=null&&ec.$==2)c5.Sync(ec.$0.Current);else if(ec==null);else if(ec!=null&&ec.$==5);else if(ec!=null&&ec.$==4){ed=ec.$0;ed.Dirty?(ed.Text.nodeValue=ed.Value,ed.Dirty=false):void 0;}else if(ec!=null&&ec.$==6){ee=ec.$0;Q.iter(function(ef){c5.SyncElemNode(false,ef);},ee.Holes);Q.iter(function(ef){c_.Sync(ef[0],ef[1]);},ee.Attrs);c5.AfterRender(ee);}else{c5.Sync(ec.$0);c5.Sync(ec.$1);}};c5.AfterRender=function(ec){var ed;ed=d6.GetOptional(ec.Render);ed!=null&&ed.$==1?(ed.$0(ec.El),d6.SetOptional(ec,"Render",null)):void 0;};c5.DoSyncElement=function(ec){var ed,ee,ef;function eg(eh,ei){var ej,ek;return eh!=null&&eh.$==1?eh.$0.El:eh!=null&&eh.$==2?(ej=eh.$0,ej.Dirty?(ej.Dirty=false,c5.InsertDoc(ed,ej.Current,ei)):eg(ej.Current,ei)):eh==null?ei:eh!=null&&eh.$==4?eh.$0.Text:eh!=null&&eh.$==5?eh.$0:eh!=null&&eh.$==6?(ek=eh.$0,(ek.Dirty?ek.Dirty=false:void 0,Q.foldBack(function(el,em){return el==null||el.constructor===cB?eg(el,em):el;},ek.Els,ei))):eg(eh.$0,eg(eh.$1,ei));}ed=ec.El;d3.Iter((ee=ec.El,function(eh){c$.RemoveNode(ee,eh);}),d3.Except(d3.DocChildren(ec),d3.Children(ec.El,d6.GetOptional(ec.Delimiters))));eg(ec.Children,(ef=d6.GetOptional(ec.Delimiters),ef!=null&&ef.$==1?ef.$0[1]:null));};c6.New=function(ec,ed){return{k:ec,ct:ed};};c7.$cctor=function(){c7.$cctor=a.ignore;c7.noneCT=c8.New(false,[]);c7.scheduler=new dj.New();c7.defCTS=[new dk.New()];c7.Zero=cE.Return();c7.GetCT=function(ec){ec.k({$:0,$0:ec.ct});};};c8.New=function(ec,ed){return{c:ec,r:ed};};c9.extractNodes=function(ec){var ed,ee;function ef(eg,eh,ei,ej){var ek,el,em,en,eo,ep;ek=c9.extractNodes(ei);el=c9.extractNodes(ej);return(ek.$==0?(en=ek.$0,!G.Equals(en,null)&&en.length===0)?(em=el,true):el.$==0?(eo=el.$0,!G.Equals(eo,null)&&eo.length===0)?(em=ek,true):(em=[ek,el],false):(em=[ek,el],false):el.$==0?(ep=el.$0,!G.Equals(ep,null)&&ep.length===0)?(em=ek,true):(em=[ek,el],false):(em=[ek,el],false))?em:{$:1,$0:{$:0,$0:eg,$1:eh,$2:em[0],$3:em[1]}};}ed=c9.horizontalSplit(ec);return ed!=null&&ed.$==1?ef(false,ed.$0[2],ed.$0[0],ed.$0[1]):(ee=c9.verticalSplit(ec),ee!=null&&ee.$==1?ef(true,ee.$0[2],ee.$0[0],ee.$0[1]):{$:0,$0:c9.cleanSpaces(ec)});};c9.createLayoutDefinitions=function(ec,ed){var ee,ef,eg,eh,ei,ej,ek,el,em,en;return ed.$==1?(ee=ed.$0.$0,(ef=ed.$0.$1,(eg=c9.createLayoutDefinitions(ec+"_1",ed.$0.$2),(eh=eg[0],(ei=eg[1],(ej=c9.createLayoutDefinitions(ec+"_2",ed.$0.$3),(ek=ej[0],(el=ej[1],[ec,Q.ofSeq(_.delay(function(){return _.append([bf.concat(" ",bv.ofArray([ec,ee?"vertical":"horizontal",a.String(ef),eh,ek]))],_.delay(function(){return _.append(ei,_.delay(function(){return el;}));}));}))])))))))):(em=ed.$0,!G.Equals(em,null)&&em.length===0)?["___",[]]:(en=ed.$0,!G.Equals(en,null)&&en.length===1)?[Q.get(ed.$0,0),[]]:[ec,[ec+" div \"\" "+bf.concat(" ",ed.$0)]];};c9.horizontalSplit=function(ec){var ed,ee,ef,eg,eh;function ei(ej,ek){var el,em,en,eo;el=j.REGEX$1("^ *--+([ ^v0-9]*)-* *$","",ek);return el!=null&&el.$==1?{$:1,$0:[[ej,(em=(en=_.tryItem(1,el.$0),en==null?null:c9.extractMeasuresO(bf.Replace(bf.Replace(en.$0,"^",""),"v","-"))),(eo=new dl({$:1,$0:5,$1:50,$2:95}),em==null?eo:em.$0))],ek.indexOf("-")]}:null;}ed=(ee=_.tryHead(_.sortBy(function(ej){return ej[1];},_.choose(function(ej){return ei(ej[0],ej[1]);},_.indexed(ec)))),ee==null?null:{$:1,$0:ee.$0[0]});return ed==null?null:{$:1,$0:(ef=ed.$0,(eg=ef[0],(eh=ef[1],[b2.array(ec,null,{$:1,$0:eg-1}),b2.array(ec,{$:1,$0:eg+1},null),eh])))};};c9.verticalSplit=function(ec){var ed,ee,ef,eg,eh,ei,ej,ek,el,em;function en(eq,er){var es,et,eu;return(et=j.REGEX$1("^ *\\|+ *$","",er),et!=null&&et.$==1&&(eu=et.$0,!G.Equals(eu,null)&&eu.length===1))?{$:1,$0:[eq,er.indexOf("|")]}:null;}function eo(eq){return G.Equals(null,eq);}function ep(eq){return G.Equals(null,eq);}ed=c9.transpose(ec);ee=(ef=(eg=_.tryHead(_.sortBy(function(eq){return eq[1];},_.choose(function(eq){return en(eq[0],eq[1]);},_.indexed(ed)))),eg==null?null:{$:1,$0:eg.$0[0]}),ef==null?null:{$:1,$0:(eh=ef.$0,[c9.transpose(b2.array(ed,null,{$:1,$0:eh-1})),c9.transpose(b2.array(ed,{$:1,$0:eh+1},null))])});return ee==null?null:{$:1,$0:(ei=ee.$0,(ej=ei[0],(ek=ei[1],[Q.filter(function(eq){return eo(c9.extractMeasuresO(eq));},ej),Q.filter(function(eq){return ep(c9.extractMeasuresO(eq));},ek),(el=_.tryHead(_.delay(function(){return _.append(_.choose(c9.extractMeasuresO,ej),_.delay(function(){return _.map(function(eq){return eq.$==0?eq.$1?new dl({$:0,$0:eq.$0,$1:false}):eq:eq;},_.choose(c9.extractMeasuresO,ek));}));})),(em=new dl({$:1,$0:5,$1:50,$2:95}),el==null?em:el.$0))])))};};c9.cleanSpaces=function(ec){return Q.filter(function(ed){var ee;return!(ee=(bD.Int())(ed),ee!=null&&ee.$==1);},bf.SplitStrings(bf.concat(" ",ec),[" "],1));};c9.extractMeasuresO=function(ec){var ed,ee,ef,eg,eh,ei,ej;ed=bf.SplitChars(ec,[" "],1);return!G.Equals(ed,null)&&ed.length===1&&(ef=(bD.Int())(Q.get(ed,0)),ef!=null&&ef.$==1&&(ee=ef.$0,true))?{$:1,$0:new dl({$:0,$0:d7.abs(ee),$1:ee>=0})}:!G.Equals(ed,null)&&ed.length===3&&(eh=(bD.Int())(Q.get(ed,0)),eh!=null&&eh.$==1&&(ei=(bD.Int())(Q.get(ed,1)),ei!=null&&ei.$==1&&(ej=(bD.Int())(Q.get(ed,2)),ej!=null&&ej.$==1&&(eg=[ej.$0,eh.$0,ei.$0],true))))?{$:1,$0:new dl({$:1,$0:eg[1],$1:eg[2],$2:eg[0]})}:null;};c9.transpose=function(ec){var ed;ed=_.max(_.map(function(ee){return ee.length;},ec));return Q.ofSeq(_.delay(function(){return _.map(function(ee){return Q.ofSeq(_.delay(function(){return _.map(function(ef){return ef.length>ee?ef[ee]:" ";},ec);})).join("");},o.range(0,ed-1));}));};c_.Static=function(ec){return new cP({$:3,$0:ec});};c_.Dynamic=function(ec,ed){return new cP({$:1,$0:new dH.New(ec,ed)});};c_.Insert=function(ec,ed){var ee,ef,eg;function eh(ei){if(!(ei===null))if(ei!=null&&ei.$==1)ee.push(ei.$0);else if(ei!=null&&ei.$==2){eh(ei.$0);eh(ei.$1);}else if(ei!=null&&ei.$==3)ei.$0(ec);else if(ei!=null&&ei.$==4)ef.push(ei.$0);}ee=[];ef=[];eh(ed);eg=ee.slice(0);return dv.New(ec,c_.Flags(ed),eg,ef.length===0?null:{$:1,$0:function(ei){_.iter(function(ej){ej(ei);},ef);}});};c_.EmptyAttr=function(){dI.$cctor();return dI.EmptyAttr;};c_.Flags=function(ec){return ec!==null&&ec.hasOwnProperty("flags")?ec.flags:0;};c_.AppendTree=function(ec,ed){var ee;return ec===null?ed:ed===null?ec:(ee=new cP({$:2,$0:ec,$1:ed}),(c_.SetFlags(ee,c_.Flags(ec)|c_.Flags(ed)),ee));};c_.Updates=function(ec){return cD.MapTreeReduce(function(ed){return ed.NChanged();},p.Const(),p.Map2Unit,ec.DynNodes);};c_.Empty=function(ec){return dv.New(ec,0,[],null);};c_.SetFlags=function(ec,ed){ec.flags=ed;};c_.HasExitAnim=function(ec){var ed;ed=2;return(ec.DynFlags&ed)===ed;};c_.GetExitAnim=function(ec){return c_.GetAnim(ec,function(ed,ee){return ed.NGetExitAnim(ee);});};c_.HasEnterAnim=function(ec){var ed;ed=1;return(ec.DynFlags&ed)===ed;};c_.GetEnterAnim=function(ec){return c_.GetAnim(ec,function(ed,ee){return ed.NGetEnterAnim(ee);});};c_.HasChangeAnim=function(ec){var ed;ed=4;return(ec.DynFlags&ed)===ed;};c_.GetChangeAnim=function(ec){return c_.GetAnim(ec,function(ed,ee){return ed.NGetChangeAnim(ee);});};c_.GetAnim=function(ec,ed){return dx.Concat(Q.map(function(ee){return ed(ee,ec.DynElem);},ec.DynNodes));};c_.Sync=function(ec,ed){Q.iter(function(ee){ee.NSync(ec);},ed.DynNodes);};c$.SetStyle=function(ec,ed,ee){c$.SetProperty(ec.style,ed,ee);};c$.ChildrenArray=function(ec){var ed,ee,ef;ed=[];for(ee=0,ef=ec.childNodes.length-1;ee<=ef;ee++)ed.push(ec.childNodes[ee]);return ed;};c$.CreateText=function(ec){return c$.Doc().createTextNode(ec);};c$.SetAttr=function(ec,ed,ee){ec.setAttribute(ed,ee);};c$.SetProperty=function(ec,ed,ee){return ec.setProperty(ed,ee);};c$.CreateElement=function(ec){return c$.Doc().createElement(ec);};c$.IterSelector=function(ec,ed,ee){var ef,eg,eh;ef=ec.querySelectorAll(ed);for(eg=0,eh=ef.length-1;eg<=eh;eg++)ee(ef[eg]);};c$.Doc=function(){dW.$cctor();return dW.Doc;};c$.RemoveAttr=function(ec,ed){ec.removeAttribute(ed);};c$.InsertAt=function(ec,ed,ee){var ef;if(!(ee.parentNode===ec&&ed===(ef=ee.nextSibling,G.Equals(ef,null)?null:ef)))ec.insertBefore(ee,ed);};c$.RemoveClass=function(ec,ed){var ee;c$.setClass(ec,(ee=c$.clsRE(ed),c$.getClass(ec).replace(ee,function(ef,eg,eh){return eg===""||eh===""?"":" ";})));};c$.AddClass=function(ec,ed){var ee;ee=c$.getClass(ec);ee===""?c$.setClass(ec,ed):!c$.clsRE(ed).test(ee)?c$.setClass(ec,ee+" "+ed):void 0;};c$.setClass=function(ec,ed){if(ec instanceof a.SVGElement)ec.setAttribute("class",ed);else ec.className=ed;};c$.getClass=function(ec){return ec instanceof a.SVGElement?ec.getAttribute("class"):ec.className;};c$.clsRE=function(ec){return new a.RegExp("(\\s+|^)"+ec+"(?:\\s+"+ec+")*(\\s+|$)","g");};c$.RemoveNode=function(ec,ed){if(ed.parentNode===ec)ec.removeChild(ed);};$.delayed=function(ec,ed){var ee;ee=[null];return function(ef){var eg,eh;eg=ee[0];eg==null?void 0:eg.$0.Cancel$1();ee[0]={$:1,$0:new dk.New()};cE.Start((eh=null,cE.Delay(function(){return cE.Bind(cE.Sleep(ec),function(){ed(ef);return cE.Zero();});})),{$:1,$0:ee[0].$0});};};$.print=function(ec){if(typeof ec=="string")((function(ed){return function(ee){return ed(bt.toSafe(ee));};}(function(ed){d_.log(ed);}))(ec));else((function(ed){return function(ee){return ed(bt.prettyPrint(ee));};}(function(ed){d_.log(ed);}))(ec));};$["String.Left"]=function(ec,ed){return ed<0?$["String.Substring2"](ec,0,ec.length+ed):$["String.Substring2"](ec,0,ed);};$["String.Substring2"]=function(ec,ed,ee){var ef,eg;while(true){if(ee<=0)return"";else if(ed<0){ef=ed;ed=0;ee=ee+ef;}else return ed>=ec.length?"":bf.Substring(ec,ed,(eg=ec.length-ed,G.Compare(ee,eg)===-1?ee:eg));}};da=cN.WcSplitterT=d6.Class({connectedCallback:function(){var ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er;function es(eA){var eB,eC,eD,eE;eB=ej?["padding-left","padding-right","grid-column-gap"]:["padding-top","padding-bottom","grid-row-gap"];eC=a.parseFloat("0"+d8(eA.parentElement.parentElement).css(eB[0]));eD=a.parseFloat("0"+d8(eA.parentElement.parentElement).css(eB[1]));em.Set(a.parseFloat("0"+d8(eA.parentElement.parentElement).css(eB[2])));el[0]=eC+eD;eE=ec.getBoundingClientRect();return ej?ei?[eE.width,eE.height]:[-eE.width,eE.height]:ei?[eE.height,eE.width]:[-eE.height,eE.width];}function et(eA){return ej?eA.clientX:eA.clientY;}function eu(eA){var eB,eC;eB=(et(eA)-ep[0])*100/ek[0][0]+eo[0];eh.Set((eC=G.Compare(ef,eB)===1?ef:eB,G.Compare(eg,eC)===-1?eg:eC));}function ev(){if(en[0]){en[0]=false;self.removeEventListener("mousemove",eu,false);self.removeEventListener("mouseup",ev,false);}}function ew(eA){var eB,eC;if(!en[0]){en[0]=true;eo[0]=eh.Get();ep[0]=et(eA);ek[0]=(eB=(eC=eq[0],eC==null?null:{$:1,$0:es(eC.$0)}),eB==null?[100,500]:eB.$0);self.addEventListener("mousemove",eu,false);self.addEventListener("mouseup",ev,false);eA.preventDefault();}}function ex(eA,eB,eC,eD){return[(eA-eB-eC)*eD/100,(eA-eB-eC)*(100-eD)/100];}function ey(eA,eB){return(((((d6.Curried(function(eC,eD,eE,eF,eG){return eC(" "+eD.toFixed(2)+"px "+eE.toFixed(2)+"px ; "+bt.toSafe(eF)+" : "+eG.toFixed(2)+"px; ");},5))(a.id))(eA))(eB))(ej?"height":"width"))(ek[0][1]);}function ez(){var eA;eA=eq[0];eA==null?void 0:ek[0]=es(eA.$0);eh.Set(eh.Get());}if(!this.added){ec=this;ed=ec.attachShadow({mode:"open"});ee=self.document.createElement("div");ef=ec.hasAttribute("min")?a.parseFloat(ec.getAttribute("min")):4;eg=ec.hasAttribute("max")?a.parseFloat(ec.getAttribute("max")):96;eh=i.Create$1(ec.hasAttribute("value")?a.parseFloat(ec.getAttribute("value")):50);ei=!ec.hasAttribute("second");ej=ec.hasAttribute("vertical");ek=[[0,0]];el=[0];em=i.Create$1(0);en=[false];eo=[0];ep=[0];eq=[null];er=(((((ej?cN.layoutVertical():cN.layoutHorizontal())(p.Map(function(eA){var eB;eB=ex(ek[0][0],em.Get(),el[0],eA);return ey.apply(null,eB);},eh.get_View())))(function(){dr.addResizeObserver(ez,ec);ez();}))(function(eA){eq[0]={$:1,$0:eA};ez();}))(function(eA){ew(eA);}))(p.Map(function(eA){return function(eB){return eA(bt.prettyPrint(eB)+"px");};}(a.id),em.get_View()));cS.LoadLocalTemplates("");W.Run(ee,er);ed.appendChild(ee.firstChild);this.added=true;}}},g,da);da.Constructor=function(){var ec,ed;ec=(ed=ea.construct(self.HTMLElement,[],this.__proto__.constructor),ed);self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New.call(ec);return ec;};da.New=d6.Ctor(function(){g.New.call(this);this.added=false;(function(ec){return ec("WcSplitterT initializer");}(function(ec){d_.log(ec);}));},da);db=h.DocElemNode=d6.Class({Equals:function(ec){return this.ElKey===ec.ElKey;},GetHashCode:function(){return this.ElKey;}},null,db);db.New=function(ec,ed,ee,ef,eg,eh){var ei;return new db((ei={Attr:ec,Children:ed,El:ef,ElKey:eg},(d6.SetOptional(ei,"Delimiters",ee),d6.SetOptional(ei,"Render",eh),ei)));};dd.$cctor=function(){dd.$cctor=a.ignore;dd.counter=0;};de=ch.XhrProvider=d6.Class({Async:function(ec,ed,ee,ef,eg){ch.ajax(true,ec,ed,ee,ef,eg,function(){ch.ajax(true,ec,ed,ee,ef,eg,void 0);});}},g,de);de.New=d6.Ctor(function(){g.New.call(this);},de);df.New$1=function(ec,ed){return{Parse:ec,Write:ed};};dg.startsWith=function(ec,ed){var ee;switch(ec.$==1?ed.$==1?G.Equals(ec.$0,ed.$0)?(ee=[ed.$0,ed.$1,ec.$0,ec.$1],1):2:2:0){case 0:return{$:1,$0:ed};case 1:return dg.startsWith(ee[3],ee[1]);case 2:return null;}};dh=bc.Pair=d6.Class({Equals:function(ec){return G.Equals(this.Key,ec.Key);},GetHashCode:function(){return G.Hash(this.Key);},CompareTo0:function(ec){return G.Compare(this.Key,ec.Key);}},null,dh);dh.New=function(ec,ed){return new dh({Key:ec,Value:ed});};di.Map=function(ec,ed){return ed.$==1?{$:1,$0:ed.$0}:{$:0,$0:ec(ed.$0)};};dj=cE.Scheduler=d6.Class({Fork:function(ec){var ed;ed=this;this.robin.push(ec);this.idle?(this.idle=false,a.setTimeout(function(){ed.tick();},0)):void 0;},tick:function(){var ec,ed,ee;ed=this;ee=d9.now();ec=true;while(ec)if(this.robin.length===0){this.idle=true;ec=false;}else{(this.robin.shift())();d9.now()-ee>40?(a.setTimeout(function(){ed.tick();},0),ec=false):void 0;}}},g,dj);dj.New=d6.Ctor(function(){g.New.call(this);this.idle=true;this.robin=[];},dj);dk=f.CancellationTokenSource=d6.Class({Cancel$1:function(){var ec;if(!this.c){this.c=true;ec=Q.choose(function(ed){try{ed();return null;}catch(ee){return{$:1,$0:ee};}},this.r);if(Q.length(ec)>0)throw new dJ.New$3(ec);else void 0;}}},g,dk);dk.New=d6.Ctor(function(){g.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},dk);j.REGEX$1=function(ec,ed,ee){var ef;return ee===null?null:(ef=(new a.String(ee)).match(new a.RegExp(ec,ed)),G.Equals(ef,null)?null:!G.Equals(ef,null)&&ef.length===0?null:{$:1,$0:ef});};dl=H.Measures=d6.Class({toString:function(){return this.$==1?((((d6.Curried(function(ec,ed,ee,ef){return ec(a.String(ed)+"-"+a.String(ee)+"-"+a.String(ef));},4))(a.id))(o.toInt(this.$0)))(o.toInt(this.$1)))(o.toInt(this.$2)):a.String(o.toInt(this.$1?this.$0:-this.$0));}},null,dl);dn=dm.Hoverable=d6.Class({Content:function(ec){return ec.on("mouseenter",function(){return c$.AddClass(ec.elt,"hovering");}).on("mouseleave",function(){return c$.RemoveClass(ec.elt,"hovering");});}},null,dn);dn.New$1=function(){return dn.New(i.Create$1(false));};dn.New=function(ec){return new dn({hover:ec});};_do.InMemory=function(ec){return new dK.New(ec);};dr.addResizeObserver=function(ec,ed){var ee,ef,eg,eh;try{ee=!(!a.ResizeObserver);}catch(ei){ee=false;}if(ee){ef=new a.ResizeObserver(ec);dr.set_observers(new cu({$:1,$0:ef,$1:dr.observers()}));ef.observe(ed);}else{eg=dr.dimsChanged(ed);cE.Start((eh=null,cE.Delay(function(){return cE.While(function(){return ed.isConnected;},cE.Delay(function(){return cE.Bind(cE.Sleep(110),function(){return eg()?(ec(),cE.Zero()):cE.Zero();});}));})),null);}};dr.set_observers=function(ec){bJ.$cctor();bJ.observers=ec;};dr.observers=function(){bJ.$cctor();return bJ.observers;};dr.dimsChanged=function(ec){var ed;ed=[ec.getBoundingClientRect()];return function(){var ee;ee=ec.getBoundingClientRect();return G.Equals(dr.domRect2Tuple(ed[0]),dr.domRect2Tuple(ee))?false:(ed[0]=ee,true);};};dr.domRect2Tuple=function(ec){return[ec.top,ec.left,ec.width,ec.height];};ds.$cctor=function(){ds.$cctor=a.ignore;ds.LoadedTemplates=new bQ.New$5();ds.LocalTemplatesLoaded=false;ds.TextHoleRE="\\${([^}]+)}";};dt=h.Elt=d6.Class({on:function(ec,ed){var ee;ee=this;this.elt.addEventListener(ec,function(ef){return ed(ee.elt,ef);},false);return this;}},W,dt);dt.TreeNode=function(ec,ed){var ee,ef;function eg(eh){return eh[1];}ee=dM.Create(ed);return new dt.New$1({$:6,$0:ec},p.Map2Unit((ef=Q.map(function(eh){return c_.Updates(eg(eh));},ec.Attrs),cD.TreeReduce(p.Const(),p.Map2Unit,ef)),ee.v),Q.get(ec.Els,0),ee);};dt.New=function(ec,ed,ee){var ef,eg;ef=c5.CreateElemNode(ec,ed,ee.docNode);eg=dM.Create(ee.updates);return new dt.New$1({$:1,$0:ef},p.Map2Unit(c_.Updates(ef.Attr),eg.v),ec,eg);};dt.New$1=d6.Ctor(function(ec,ed,ee,ef){W.New.call(this,ec,ed);this.docNode$1=ec;this.updates$1=ed;this.elt=ee;this.rvUpdates=ef;},dt);dv.New=function(ec,ed,ee,ef){var eg;eg={DynElem:ec,DynFlags:ed,DynNodes:ee};d6.SetOptional(eg,"OnAfterRender",ef);return eg;};dw.convertTextNode=function(ec){var ed,ee,ef,eg,eh,ei;ed=null;ee=0;eg=ec.textContent;eh=new a.RegExp(cS.TextHoleRE(),"g");while(ed=eh.exec(eg),ed!==null){ec.parentNode.insertBefore(self.document.createTextNode(b2.string(eg,{$:1,$0:ee},{$:1,$0:eh.lastIndex-Q.get(ed,0).length-1})),ec);ee=eh.lastIndex;ei=self.document.createElement("span");ei.setAttribute("ws-replace",Q.get(ed,1).toLowerCase());ec.parentNode.insertBefore(ei,ec);}eh.lastIndex=0;ec.textContent=b2.string(eg,{$:1,$0:ee},null);};dw.failNotLoaded=function(ec){d_.warn("Instantiating non-loaded template",ec);};dw.fillTextHole=function(ec,ed,ee){var ef;ef=ec.querySelector("[ws-replace]");return G.Equals(ef,null)?(d_.warn("Filling non-existent text hole",ee),null):(ef.parentNode.replaceChild(new a.Text(ed),ef),{$:1,$0:ef.getAttribute("ws-replace")});};dw.removeHolesExcept=function(ec,ed){function ee(ef){c$.IterSelector(ec,"["+ef+"]",function(eg){if(!ed.Contains(eg.getAttribute(ef)))eg.removeAttribute(ef);});}ee("ws-attr");ee("ws-onafterrender");ee("ws-var");c$.IterSelector(ec,"[ws-hole]",function(ef){if(!ed.Contains(ef.getAttribute("ws-hole"))){ef.removeAttribute("ws-hole");while(ef.hasChildNodes())ef.removeChild(ef.lastChild);}});c$.IterSelector(ec,"[ws-replace]",function(ef){if(!ed.Contains(ef.getAttribute("ws-replace")))ef.parentNode.removeChild(ef);});c$.IterSelector(ec,"[ws-on]",function(ef){ef.setAttribute("ws-on",bf.concat(" ",Q.filter(function(eg){return ed.Contains(Q.get(bf.SplitChars(eg,[":"],1),1));},bf.SplitChars(ef.getAttribute("ws-on"),[" "],1))));});c$.IterSelector(ec,"[ws-attr-holes]",function(ef){var eg,eh,ei,ej,ek;eg=bf.SplitChars(ef.getAttribute("ws-attr-holes"),[" "],1);for(eh=0,ei=eg.length-1;eh<=ei;eh++){ej=Q.get(eg,eh);ef.setAttribute(ej,(ek=new a.RegExp(cS.TextHoleRE(),"g"),ef.getAttribute(ej).replace(ek,function(el,em){return ed.Contains(em)?el:"";})));}});};dw.fillInstanceAttrs=function(ec,ed){var ee,ef,eg,eh,ei;dw.convertAttrs(ed);ee=ed.nodeName.toLowerCase();ef=ec.querySelector("[ws-attr="+ee+"]");if(G.Equals(ef,null))d_.warn("Filling non-existent attr hole",ee);else{ef.removeAttribute("ws-attr");for(eg=0,eh=ed.attributes.length-1;eg<=eh;eg++){ei=ed.attributes.item(eg);ei.name==="class"&&ef.hasAttribute("class")?ef.setAttribute("class",ef.getAttribute("class")+" "+ei.nodeValue):ef.setAttribute(ei.name,ei.nodeValue);}}};dw.mapHoles=function(ec,ed){function ee(ef){c$.IterSelector(ec,"["+ef+"]",function(eg){var eh,ei;eh=(ei=null,[ed.TryGetValue(eg.getAttribute(ef).toLowerCase(),{get:function(){return ei;},set:function(ej){ei=ej;}}),ei]);eh[0]?eg.setAttribute(ef,eh[1]):void 0;});}ee("ws-hole");ee("ws-replace");ee("ws-attr");ee("ws-onafterrender");ee("ws-var");c$.IterSelector(ec,"[ws-on]",function(ef){ef.setAttribute("ws-on",bf.concat(" ",Q.map(function(eg){var eh,ei,ej;eh=bf.SplitChars(eg,[":"],1);ei=(ej=null,[ed.TryGetValue(Q.get(eh,1),{get:function(){return ej;},set:function(ek){ej=ek;}}),ej]);return ei[0]?Q.get(eh,0)+":"+ei[1]:eg;},bf.SplitChars(ef.getAttribute("ws-on"),[" "],1))));});c$.IterSelector(ec,"[ws-attr-holes]",function(ef){var eg,eh,ei;eg=bf.SplitChars(ef.getAttribute("ws-attr-holes"),[" "],1);for(eh=0,ei=eg.length-1;eh<=ei;eh++)(function(){var ej;function ek(el,em){var en;en=o.KeyValue(em);return el.replace(new a.RegExp("\\${"+en[0]+"}","ig"),"${"+en[1]+"}");}ej=Q.get(eg,eh);return ef.setAttribute(ej,(((d6.Curried3(_.fold))(ek))(ef.getAttribute(ej)))(ed));}());});};dw.fill=function(ec,ed,ee){while(true)if(ec.hasChildNodes())ee=ed.insertBefore(ec.lastChild,ee);else return null;};dw.convertAttrs=function(ec){var ee,ef,eg,eh,ei,ej,ek,el;function ed(em){var en;en=ec.getAttribute(em);en===null?void 0:ec.setAttribute(em,en.toLowerCase());}ee=ec.attributes;ef=[];eg=[];eh=[];for(ei=0,ej=ee.length-1;ei<=ej;ei++){ek=ee.item(ei);bf.StartsWith(ek.nodeName,"ws-on")&&ek.nodeName!=="ws-onafterrender"&&ek.nodeName!=="ws-on"?(ef.push(ek.nodeName),eg.push(b2.string(ek.nodeName,{$:1,$0:"ws-on".length},null)+":"+ek.nodeValue.toLowerCase())):!bf.StartsWith(ek.nodeName,"ws-")&&(new a.RegExp(cS.TextHoleRE())).test(ek.nodeValue)?(ek.nodeValue=(el=new a.RegExp(cS.TextHoleRE(),"g"),ek.nodeValue.replace(el,function(em,en){return"${"+en.toLowerCase()+"}";})),eh.push(ek.nodeName)):void 0;}!(eg.length==0)?ec.setAttribute("ws-on",bf.concat(" ",eg)):void 0;!(eh.length==0)?ec.setAttribute("ws-attr-holes",bf.concat(" ",eh)):void 0;ed("ws-hole");ed("ws-replace");ed("ws-attr");ed("ws-onafterrender");ed("ws-var");Q.iter(function(em){ec.removeAttribute(em);},ef);};dx.get_UseAnimations=function(){return dQ.UseAnimations();};dx.Play=function(ec){var ed;ed=null;return cE.Delay(function(){return cE.Bind(dx.Run(a.ignore,dQ.Actions(ec)),function(){dQ.Finalize(ec);return cE.Return(null);});});};dx.Append=function(ec,ed){return{$:0,$0:dZ.Append(ec.$0,ed.$0)};};dx.Run=function(ec,ed){var ee;function ef(eg){function eh(ei,ej){var ek;ek=ej-ei;ed.Compute(ek);ec();return ek<=ee?void a.requestAnimationFrame(function(el){eh(ei,el);}):eg();}a.requestAnimationFrame(function(ei){eh(ei,ei);});}ee=ed.Duration;return ee===0?cE.Zero():cE.FromContinuations(function(eg,eh,ei){return ef.apply(null,[eg,eh,ei]);});};dx.Concat=function(ec){return{$:0,$0:dZ.Concat(_.map(dQ.List,ec))};};dx.get_Empty=function(){return{$:0,$0:dZ.Empty()};};dy.BatchUpdatesEnabled=function(){dR.$cctor();return dR.BatchUpdatesEnabled;};dz.StartProcessor=function(ec){var ed;function ee(){var ef;ef=null;return cE.Delay(function(){return cE.Bind(ec,function(){var eg;eg=ed[0];return eg===1?(ed[0]=0,cE.Zero()):eg===2?(ed[0]=1,ee()):cE.Zero();});});}ed=[0];return function(){var ef;ef=ed[0];ef===0?(ed[0]=1,cE.Start(ee(),null)):ef===1?ed[0]=2:void 0;};};dA.concat=function(ec){var ed,ee;ed=[];for(var ef in ec)ed.push.apply(ed,ec[ef]);return ed;};dB.$cctor=function(){dB.$cctor=a.ignore;function ec(ed){var ee,ef;ee=(ef=0,[bO.TryParseInt32(ed,{get:function(){return ef;},set:function(eg){ef=eg;}}),ef]);return ee[0]?{$:1,$0:ee[1]}:null;}dB.Empty=df.New$1(function(){return[];},function(){return null;});dB.rRoot=df.New(function(ed){return[ed];},[]);dB.rString=df.New$1(function(ed){var ee,ef;ee=ed.Segments;return ee.$==1?(ef=dV.read(ee.$0),ef!=null&&ef.$==1?[[cZ.New(ee.$1,ed.QueryArgs,ed.FormData,ed.Method,ed.Body),ef.$0]]:[]):[];},function(ed){return{$:1,$0:[cZ.Segment$2(ed==null?"null":dV.write(ed))]};});dB.rChar=df.New$1(function(ed){var ee,ef,eg;ee=ed.Segments;return ee.$==1?(ef=dV.read(ee.$0),ef!=null&&ef.$==1&&(ef.$0.length===1&&(eg=ef.$0,true))?[[cZ.New(ee.$1,ed.QueryArgs,ed.FormData,ed.Method,ed.Body),dS.Parse(eg)]]:[]):[];},function(ed){return{$:1,$0:[cZ.Segment$2(ed)]};});dB.rGuid=df.New$1(function(ed){var ee,ef;ee=ed.Segments;return ee.$==1?(ef=null,bp.TryParse(ee.$0,{get:function(){return ef;},set:function(eg){ef=eg;}})?[[cZ.New(ee.$1,ed.QueryArgs,ed.FormData,ed.Method,ed.Body),ef]]:[]):[];},function(ed){return{$:1,$0:[cZ.Segment$2(a.String(ed))]};});dB.rInt=df.New$1(function(ed){var ee,ef;ee=ed.Segments;return ee.$==1?(ef=0,bO.TryParseInt32(ee.$0,{get:function(){return ef;},set:function(eg){ef=eg;}})?[[cZ.New(ee.$1,ed.QueryArgs,ed.FormData,ed.Method,ed.Body),ef]]:[]):[];},function(ed){return{$:1,$0:[cZ.Segment$2(a.String(ed))]};});dB.rDouble=df.New$1(function(ed){var ee,ef,eg;ee=ed.Segments;return ee.$==1?(ef=0,(eg=a.Number(ee.$0),a.isNaN(eg)?false:(ef=eg,true))?[[cZ.New(ee.$1,ed.QueryArgs,ed.FormData,ed.Method,ed.Body),ef]]:[]):[];},function(ed){return{$:1,$0:[cZ.Segment$2(a.String(ed))]};});dB.rSByte=df.New$1(function(ed){var ee,ef;ee=ed.Segments;return ee.$==1?(ef=0,bO.TryParseSByte(ee.$0,{get:function(){return ef;},set:function(eg){ef=eg;}})?[[cZ.New(ee.$1,ed.QueryArgs,ed.FormData,ed.Method,ed.Body),ef]]:[]):[];},function(ed){return{$:1,$0:[cZ.Segment$2(a.String(ed))]};});dB.rByte=df.New$1(function(ed){var ee,ef;ee=ed.Segments;return ee.$==1?(ef=0,bO.TryParseByte(ee.$0,{get:function(){return ef;},set:function(eg){ef=eg;}})?[[cZ.New(ee.$1,ed.QueryArgs,ed.FormData,ed.Method,ed.Body),ef]]:[]):[];},function(ed){return{$:1,$0:[cZ.Segment$2(a.String(ed))]};});dB.rInt16=df.New$1(function(ed){var ee,ef;ee=ed.Segments;return ee.$==1?(ef=0,bO.TryParseInt16(ee.$0,{get:function(){return ef;},set:function(eg){ef=eg;}})?[[cZ.New(ee.$1,ed.QueryArgs,ed.FormData,ed.Method,ed.Body),ef]]:[]):[];},function(ed){return{$:1,$0:[cZ.Segment$2(a.String(ed))]};});dB.rUInt16=df.New$1(function(ed){var ee,ef;ee=ed.Segments;return ee.$==1?(ef=0,bO.TryParseUInt16(ee.$0,{get:function(){return ef;},set:function(eg){ef=eg;}})?[[cZ.New(ee.$1,ed.QueryArgs,ed.FormData,ed.Method,ed.Body),ef]]:[]):[];},function(ed){return{$:1,$0:[cZ.Segment$2(a.String(ed))]};});dB.rUInt=df.New$1(function(ed){var ee,ef;ee=ed.Segments;return ee.$==1?(ef=0,bO.TryParseUInt32(ee.$0,{get:function(){return ef;},set:function(eg){ef=eg;}})?[[cZ.New(ee.$1,ed.QueryArgs,ed.FormData,ed.Method,ed.Body),ef]]:[]):[];},function(ed){return{$:1,$0:[cZ.Segment$2(a.String(ed))]};});dB.rInt64=df.New$1(function(ed){var ee,ef;ee=ed.Segments;return ee.$==1?(ef=0,bO.TryParseInt64(ee.$0,{get:function(){return ef;},set:function(eg){ef=eg;}})?[[cZ.New(ee.$1,ed.QueryArgs,ed.FormData,ed.Method,ed.Body),ef]]:[]):[];},function(ed){return{$:1,$0:[cZ.Segment$2(a.String(ed))]};});dB.rUInt64=df.New$1(function(ed){var ee,ef;ee=ed.Segments;return ee.$==1?(ef=0,bO.TryParseUInt64(ee.$0,{get:function(){return ef;},set:function(eg){ef=eg;}})?[[cZ.New(ee.$1,ed.QueryArgs,ed.FormData,ed.Method,ed.Body),ef]]:[]):[];},function(ed){return{$:1,$0:[cZ.Segment$2(a.String(ed))]};});dB.rSingle=df.New$1(function(ed){var ee,ef,eg;ee=ed.Segments;return ee.$==1?(ef=0,(eg=a.Number(ee.$0),a.isNaN(eg)?false:(ef=eg,true))?[[cZ.New(ee.$1,ed.QueryArgs,ed.FormData,ed.Method,ed.Body),ef]]:[]):[];},function(ed){return{$:1,$0:[cZ.Segment$2(a.String(ed))]};});dB.rBool=df.New$1(function(ed){var ee,ef,eg;ee=ed.Segments;return ee.$==1?(ef=(eg=null,[bO.TryParseBool(ee.$0,{get:function(){return eg;},set:function(eh){eg=eh;}}),eg]),ef[0]?[[cZ.New(ee.$1,ed.QueryArgs,ed.FormData,ed.Method,ed.Body),ef[1]]]:[]):[];},function(ed){return{$:1,$0:[cZ.Segment$2(ed?"True":"False")]};});dB.rWildcard=df.New$1(function(ed){return[[cZ.New(cu.Empty,ed.QueryArgs,ed.FormData,ed.Method,ed.Body),bf.concat("/",ed.Segments)]];},function(ed){return{$:1,$0:[cZ.Segment$2(ed)]};});dB.rDateTime=df.New$1(function(ed){var ee,ef,eg,eh,ei,ej,ek,el,em;ee=ed.Segments;return ee.$==1?(ef=ee.$0,ef.length===19&&ef[4]==="-"&&ef[7]==="-"&&ef[10]==="-"&&ef[13]==="."&&ef[16]==="."?(eg=ec(b2.string(ef,{$:1,$0:0},{$:1,$0:3})),(eh=ec(b2.string(ef,{$:1,$0:5},{$:1,$0:6})),(ei=ec(b2.string(ef,{$:1,$0:8},{$:1,$0:9})),(ej=ec(b2.string(ef,{$:1,$0:11},{$:1,$0:12})),(ek=ec(b2.string(ef,{$:1,$0:14},{$:1,$0:15})),(el=ec(b2.string(ef,{$:1,$0:17},{$:1,$0:18})),eg!=null&&eg.$==1&&(eh!=null&&eh.$==1&&(ei!=null&&ei.$==1&&(ej!=null&&ej.$==1&&(ek!=null&&ek.$==1&&(el!=null&&el.$==1&&(em=[ei.$0,ej.$0,eh.$0,ek.$0,el.$0,eg.$0],true))))))?[[cZ.New(ee.$1,ed.QueryArgs,ed.FormData,ed.Method,ed.Body),(new d9(em[5],em[2]-1,em[0],em[1],em[3],em[4])).getTime()]]:[])))))):[]):[];},function(ed){var ee,ef;function eg(eh){var ei;ei=a.String(eh);return ei.length===1?"0"+ei:ei;}return{$:1,$0:[cZ.Segment$2((ee=a.String((new d9(ed)).getFullYear()),(ef=ee.length,ef===1?"000"+ee:ef===2?"00"+ee:ef===3?"0"+ee:ee))+"-"+eg((new d9(ed)).getMonth()+1)+"-"+eg((new d9(ed)).getDate())+"-"+eg((new d9(ed)).getHours())+"."+eg((new d9(ed)).getMinutes())+"."+eg((new d9(ed)).getSeconds()))]};});};dC.OfArray=function(ec){return new cq.New$1(ct.OfSeq(_.map(function(ed){return dh.New(ed[0],ed[1]);},ec)));};dC.FoldBack=function(ec,ed,ee){return _.fold(function(ef,eg){return ec(eg.Key,eg.Value,ef);},ee,ct.Enumerate(true,ed.get_Tree()));};dC.ToSeq=function(ec){return _.map(function(ed){return[ed.Key,ed.Value];},ct.Enumerate(false,ec.get_Tree()));};dE=E.NonStandardPromiseRejectionException=d6.Class({},dD,dE);dE.New=d6.Ctor(function(ec){this.message="Promise rejected";cB.setPrototypeOf(this,dE.prototype);this.reason=ec;},dE);dF=f.OperationCanceledException=d6.Class({},dD,dF);dF.New=d6.Ctor(function(ec){dF.New$1.call(this,"The operation was canceled.",null,ec);},dF);dF.New$1=d6.Ctor(function(ec,ed,ee){this.message=ec;this.inner=ed;cB.setPrototypeOf(this,dF.prototype);this.ct=ee;},dF);dG.Clear=function(ec){ec.splice(0,Q.length(ec));};dH=h.DynamicAttrNode=d6.Class({NChanged:function(){return this.updates;},NGetExitAnim:function(ec){return dx.get_Empty();},NGetEnterAnim:function(ec){return dx.get_Empty();},NGetChangeAnim:function(ec){return dx.get_Empty();},NSync:function(ec){if(this.dirty){(this.push(ec))(this.value);this.dirty=false;}}},g,dH);dH.New=d6.Ctor(function(ec,ed){var ee;ee=this;g.New.call(this);this.push=ed;this.value=void 0;this.dirty=false;this.updates=p.Map(function(ef){ee.value=ef;ee.dirty=true;},ec);},dH);dI.$cctor=function(){dI.$cctor=a.ignore;dI.EmptyAttr=null;};dJ=f.AggregateException=d6.Class({},dD,dJ);dJ.New$3=d6.Ctor(function(ec){dJ.New$4.call(this,"One or more errors occurred.",ec);},dJ);dJ.New$4=d6.Ctor(function(ec,ed){this.message=ec;cB.setPrototypeOf(this,dJ.prototype);this.innerExceptions=ed;},dJ);dK=_do.ArrayStorage=d6.Class({SSetAt:function(ec,ed,ee){Q.set(ee,ec,ed);return ee;},SAppend:function(ec,ed){ed.push(ec);return ed;}},g,dK);dK.New=d6.Ctor(function(ec){g.New.call(this);this.init=ec;},dK);_.enumUsing=function(ec,ed){return{GetEnumerator:function(){var ee;try{ee=cr.Get(ed(ec));}catch(ef){ec.Dispose();throw ef;}return new cs.New(null,null,function(eg){return ee.MoveNext()&&(eg.c=ee.Current(),true);},function(){ee.Dispose();ec.Dispose();});}};};_.enumWhile=function(ec,ed){return{GetEnumerator:function(){return new cs.New(null,null,function(ee){var ef;while(true){ef=ee.s;if(G.Equals(ef,null)){if(ec()){ee.s=cr.Get(ed);ee=ee;}else return false;}else if(ef.MoveNext()){ee.c=ef.Current();return true;}else{ef.Dispose();ee.s=null;ee=ee;}}},function(ee){var ef;ef=ee.s;!G.Equals(ef,null)?ef.Dispose():void 0;});}};};dL=bc.KeyCollection=d6.Class({GetEnumerator$1:function(){return cr.Get(_.map(function(ec){return ec.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},g,dL);dL.New=d6.Ctor(function(ec){g.New.call(this);this.d=ec;},dL);dM=h.Updates=d6.Class({},null,dM);dM.Create=function(ec){var ed;ed=null;ed=dM.New(ec,null,function(){var ee;ee=ed.s;return ee===null?(ee=_1.Copy(ed.c()),ed.s=ee,_1.WhenObsoleteRun(ee,function(){ed.s=null;}),ee):ee;});return ed;};dM.New=function(ec,ed,ee){return new dM({c:ec,s:ed,v:ee});};dO.New=function(ec,ed){return{PreviousNodes:ec,Top:ed};};dP.get_Empty=function(){return{$:0,$0:new bR.New$3()};};dP.FindAll=function(ec){var ed;function ee(eg){if(eg!=null&&eg.$==0){ee(eg.$0);ee(eg.$1);}else if(eg!=null&&eg.$==1)ef(eg.$0);else if(eg!=null&&eg.$==2)ee(eg.$0.Current);else if(eg!=null&&eg.$==6)Q.iter(ef,eg.$0.Holes);}function ef(eg){ed.push(eg);ee(eg.Children);}ed=[];ee(ec);return{$:0,$0:new bR.New$2(ed)};};dP.Filter=function(ec,ed){return{$:0,$0:d2.Filter(ec,ed.$0)};};dP.Except=function(ec,ed){return{$:0,$0:d2.Except(ec.$0,ed.$0)};};dP.ToArray=function(ec){return d2.ToArray(ec.$0);};dP.Intersect=function(ec,ed){return{$:0,$0:d2.Intersect(ec.$0,ed.$0)};};dQ.UseAnimations=function(){dY.$cctor();return dY.UseAnimations;};dQ.Actions=function(ec){return dQ.ConcatActions(Q.choose(function(ed){return ed.$==1?{$:1,$0:ed.$0}:null;},dZ.ToArray(ec.$0)));};dQ.Finalize=function(ec){Q.iter(function(ed){if(ed.$==0)ed.$0();},dZ.ToArray(ec.$0));};dQ.ConcatActions=function(ec){var ed,ee,ef,eg;ed=cD.ofSeqNonCopying(ec);ee=Q.length(ed);return ee===0?dQ.Const():ee===1?Q.get(ed,0):(ef=_.max(_.map(function(eh){return eh.Duration;},ed)),(eg=Q.map(function(eh){return dQ.Prolong(ef,eh);},ed),dQ.Def(ef,function(eh){Q.iter(function(ei){ei.Compute(eh);},eg);})));};dQ.List=function(ec){return ec.$0;};dQ.Const=function(ec){return dQ.Def(0,function(){return ec;});};dQ.Def=function(ec,ed){return{Compute:ed,Duration:ec};};dQ.Prolong=function(ec,ed){var ee,ef,eg;ee=ed.Compute;ef=ed.Duration;eg=r.Create(function(){return ed.Compute(ed.Duration);});return{Compute:function(eh){return eh>=ef?eg.f():ee(eh);},Duration:ec};};dR.$cctor=function(){dR.$cctor=a.ignore;dR.BatchUpdatesEnabled=true;};dS.IsUpper=function(ec){return ec>="A"&&ec<="Z";};dS.Parse=function(ec){return ec.length===1?ec:o.FailWith("String must be exactly one character long.");};dS.IsWhiteSpace=function(ec){return ec.match(new a.RegExp("\\s"))!==null;};dT.Activate=function(ec){var ed,ef,eg,eh,ei,ej,ek;function ee(el){var em,en,eo,ep,eq;if(G.Equals(el,null))return el;else if(typeof el=="object"){if(el instanceof a.Array)return dT.shallowMap(ee,el);else{em=dT.shallowMap(ee,el.$V);en=el.$T;if(en===void 0)return em;else{eo=Q.get(ef,en);if(eo===1)return bv.ofArray(em);else if(eo===2)return self.WebSharper.Decimal.CreateDecimalBits(em);else{ep=new(Q.get(ef,en))();for(var er in em)if(function(es){ep[es]=em[es];return false;}(er))break;return ep;}}}}else return el;}ef=ec?ec.$TYPES:void 0;if(ef===void 0)ed=ec;else{for(eg=0,eh=Q.length(ef)-1;eg<=eh;eg++){ek=Q.get(ef,eg);switch(!G.Equals(ek,null)&&ek.length===3?Q.get(ek,0)==="WebSharper"?Q.get(ek,1)==="List"?Q.get(ek,2)==="T"?0:(ej=ek,2):(ej=ek,2):(ej=ek,2):!G.Equals(ek,null)&&ek.length===2?Q.get(ek,0)==="WebSharper"?Q.get(ek,1)==="Decimal"?1:(ej=ek,2):(ej=ek,2):(ej=ek,2)){case 0:ei=1;break;case 1:ei=2;break;case 2:ei=dT.lookup(ej);break;}Q.set(ef,eg,ei);}ed=ec.$DATA;}return ee(ed);};dT.shallowMap=function(ec,ed){var ee,ef;if(ed instanceof a.Array)return Q.map(ec,ed);else if(typeof ed=="object"){ee={};for(var eg in ed)if(function(eh){ee[eh]=ec(ed[eh]);return false;}(eg))break;return ee;}else return ed;};dT.lookup=function(ec){var ed,ee,ef,eg,eh;ef=Q.length(ec);ed=self;ee=0;while(ee<ef){eg=Q.get(ec,ee);eh=ed[eg];!G.Equals(typeof eh,void 0)?(ed=eh,ee=ee+1):o.FailWith("Invalid server reply. Failed to find type: "+eg);}return ed;};dU=f.FormatException=d6.Class({},dD,dU);dU.New$1=d6.Ctor(function(ec){this.message=ec;cB.setPrototypeOf(this,dU.prototype);},dU);df.New=function(ec,ed){return{Parse:ec,Segment:ed};};dV.read=function(ec){var ed;ed=[];return function(ee){var ef;while(true){ef=dV.readEscapedFromChars(ee);if(ef[0]===-2)return null;else if(ef[0]===-1)return{$:1,$0:(function(eg){return function(eh){return bf.concat(eg,eh);};}(""))(ed)};else{ed.push(eb.fromCharCode(ef[0]));ee=ef[1];}}}(bv.ofSeq(_.map(function(ee){return ee.charCodeAt();},ec)));};dV.write=function(ec){return bf.concat("",_.mapi(function(ed,ee){return dV.writeEscapedAsString(ed+1===ec.length,ee);},ec));};dV.readEscapedFromChars=function(ec){var ed,ee,ef,eg,eh,ei,ej,ek;function el(){var en,eo;return ed.$==1?(en=ed.$1,(eo=ed.$0,(ed=en,eo))):-1;}function em(en){return en>="0".charCodeAt()&&en<="9".charCodeAt()?en-"0".charCodeAt():en>="a".charCodeAt()&&en<="f".charCodeAt()?en-"a".charCodeAt()+10:en>="A".charCodeAt()&&en<="F".charCodeAt()?en-"A".charCodeAt()+10:-2;}ed=ec;return[(ee=el(),ee==="~".charCodeAt()?(ef=el(),ef==="u".charCodeAt()?(eg=el(),(eh=el(),(ei=el(),(ej=el(),eg>=0&&eh>=0&&ei>=0&&ej>=0?dV.op_PlusPlus(dV.op_PlusPlus(dV.op_PlusPlus(em(eg),em(eh)),em(ei)),em(ej)):-2)))):(ek=el(),ef>=0&&ek>=0?dV.op_PlusPlus(em(ef),em(ek)):-2)):ee),ed];};dV.writeEscapedAsString=function(ec,ed){var ee;ee=ed.charCodeAt();return dV.isUnreserved(ec,ed)?ed:ee<256?"~"+bf.PadLeftWith(ee.toString(16),2,"0"):"~u"+bf.PadLeftWith(ee.toString(16),4,"0");};dV.op_PlusPlus=function(ec,ed){return(ec<<4)+ed;};dV.isUnreserved=function(ec,ed){return ed==="-"||(ed==="."?!ec:ed==="_"||(ed>="A"&&ed<="Z"||(ed>="a"&&ed<="z"||ed>="0"&&ed<="9")));};bO.TryParseSByte=function(ec,ed){return bO.TryParse(ec,-128,127,ed);};bO.TryParseByte=function(ec,ed){return bO.TryParse(ec,0,255,ed);};bO.TryParseInt16=function(ec,ed){return bO.TryParse(ec,-32768,32767,ed);};bO.TryParseUInt16=function(ec,ed){return bO.TryParse(ec,0,65535,ed);};bO.TryParseUInt32=function(ec,ed){return bO.TryParse(ec,0,4294967295,ed);};bO.TryParseUInt64=function(ec,ed){return bO.TryParse(ec,0,18446744073709551615,ed);};dW.$cctor=function(){dW.$cctor=a.ignore;dW.Doc=self.document;};dX.isBlank=function(ec){return bf.forall(dS.IsWhiteSpace,ec);};dY.$cctor=function(){dY.$cctor=a.ignore;dY.CubicInOut=d1.Custom(function(ec){var ed;ed=ec*ec;return 3*ed-2*(ed*ec);});dY.UseAnimations=true;};dZ.Append=function(ec,ed){return ec.$==0?ed:ed.$==0?ec:{$:2,$0:ec,$1:ed};};dZ.ToArray=function(ec){var ed;function ee(ef){if(ef.$==1)ed.push(ef.$0);else if(ef.$==2){ee(ef.$0);ee(ef.$1);}else if(ef.$==3)Q.iter(function(eg){ed.push(eg);},ef.$0);}ed=[];ee(ec);return ed.slice(0);};dZ.Concat=function(ec){var ed;ed=cD.ofSeqNonCopying(ec);return cD.TreeReduce(dZ.Empty(),dZ.Append,ed);};dZ.Empty=function(){d4.$cctor();return d4.Empty;};d0.WriteLink=function(ec,ed){var ee;ee=ed.get_IsEmpty()?"":"?"+d0.WriteQuery(ed);return"/"+d0.Concat(ec)+ee;};d0.Concat=function(ec){var ed,ee;ed=[];ee=true;bv.iter(function(ef){if(!bf.IsNullOrEmpty(ef)){ee?ee=false:ed.push("/");ed.push(ef);}},ec);return bf.Join("",Q.ofSeq(ed));};d0.WriteQuery=function(ec){function ed(ee,ef){return ee+"="+ef;}return bf.concat("&",_.map(function(ee){return ed(ee[0],ee[1]);},dC.ToSeq(ec)));};d1=h.Easing=d6.Class({},g,d1);d1.Custom=function(ec){return new d1.New(ec);};d1.New=d6.Ctor(function(ec){g.New.call(this);this.transformTime=ec;},d1);d2.Filter=function(ec,ed){return new bR.New$2(Q.filter(ec,d2.ToArray(ed)));};d2.Except=function(ec,ed){var ee;ee=new bR.New$2(d2.ToArray(ed));ee.ExceptWith(d2.ToArray(ec));return ee;};d2.ToArray=function(ec){var ed;ed=Q.create(ec.get_Count(),void 0);ec.CopyTo(ed);return ed;};d2.Intersect=function(ec,ed){var ee;ee=new bR.New$2(d2.ToArray(ec));ee.IntersectWith(d2.ToArray(ed));return ee;};d3.Children=function(ec,ed){var ee,ef,eg;if(ed!=null&&ed.$==1){eg=[];ee=ed.$0[0].nextSibling;while(ee!==ed.$0[1]){eg.push(ee);ee=ee.nextSibling;}return{$:0,$0:eg};}else return{$:0,$0:Q.init(ec.childNodes.length,(ef=ec.childNodes,function(eh){return ef[eh];}))};};d3.Except=function(ec,ed){var ee;ee=ec.$0;return{$:0,$0:Q.filter(function(ef){return Q.forall(function(eg){return!(ef===eg);},ee);},ed.$0)};};d3.Iter=function(ec,ed){Q.iter(ec,ed.$0);};d3.DocChildren=function(ec){var ed;function ee(ef){if(ef!=null&&ef.$==2)ee(ef.$0.Current);else if(ef!=null&&ef.$==1)ed.push(ef.$0.El);else if(ef==null);else if(ef!=null&&ef.$==5)ed.push(ef.$0);else if(ef!=null&&ef.$==4)ed.push(ef.$0.Text);else if(ef!=null&&ef.$==6)Q.iter(function(eg){if(eg==null||eg.constructor===cB)ee(eg);else ed.push(eg);},ef.$0.Els);else{ee(ef.$0);ee(ef.$1);}}ed=[];ee(ec.Children);return{$:0,$0:cD.ofSeqNonCopying(ed)};};d4.$cctor=function(){d4.$cctor=a.ignore;d4.Empty={$:0};};d6.OnLoad(function(){e.mainProgram();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
//# sourceMappingURL=testing.min.map
