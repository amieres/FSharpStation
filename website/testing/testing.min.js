function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
var JSON;JSON||(JSON={}),function(){"use strict";function i(n){return n<10?"0"+n:n}function f(n){return o.lastIndex=0,o.test(n)?'"'+n.replace(o,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function r(i,e){var s,l,h,a,v=n,c,o=e[i];o&&typeof o=="object"&&typeof o.toJSON=="function"&&(o=o.toJSON(i));typeof t=="function"&&(o=t.call(e,i,o));switch(typeof o){case"string":return f(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(n+=u,c=[],Object.prototype.toString.apply(o)==="[object Array]"){for(a=o.length,s=0;s<a;s+=1)c[s]=r(s,o)||"null";return h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+v+"]":"["+c.join(",")+"]",n=v,h}if(t&&typeof t=="object")for(a=t.length,s=0;s<a;s+=1)typeof t[s]=="string"&&(l=t[s],h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));else for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));return h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+v+"}":"{"+c.join(",")+"}",n=v,h}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,u,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(n="",u="",typeof e=="number")for(o=0;o<e;o+=1)u+=" ";else typeof e=="string"&&(u=e);if(t=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return r("",{"":i})});typeof JSON.parse!="function"&&(JSON.parse=function(n,t){function r(n,i){var f,e,u=n[i];if(u&&typeof u=="object")for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&(e=r(u,f),e!==undefined?u[f]=e:delete u[f]);return t.call(n,i,u)}var i;if(n=String(n),e.lastIndex=0,e.test(n)&&(n=n.replace(e,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?r({"":i},""):i;throw new SyntaxError("JSON.parse");})}();
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1;a=self;b=a.FsRoot=a.FsRoot||{};c=b.ProzperClient=b.ProzperClient||{};d=c.MainProgram=c.MainProgram||{};e=a.WebSharper=a.WebSharper||{};f=e.Obj=e.Obj||{};g=e.UI=e.UI||{};h=g.Var$1=g.Var$1||{};i=b.LibraryJS=b.LibraryJS||{};j=i.AppFramework=i.AppFramework||{};k=j.PlugIn=j.PlugIn||{};l=c.ModeloUI=c.ModeloUI||{};m=l.Aliado=l.Aliado||{};n=e.Lazy=e.Lazy||{};o=l.RenderAliados=l.RenderAliados||{};p=l.RenderAliado=l.RenderAliado||{};q=l.FormaRegistro=l.FormaRegistro||{};r=l.FormaDatos=l.FormaDatos||{};s=l.FormaContactos=l.FormaContactos||{};t=l.FormaFormasPago=l.FormaFormasPago||{};u=e.Operators=e.Operators||{};v=a.EventTarget;w=a.Node;x=e.JavaScript=e.JavaScript||{};y=x.JS=x.JS||{};z=e.Unchecked=e.Unchecked||{};A=i.LayoutEngineModule=i.LayoutEngineModule||{};B=e.Option=e.Option||{};C=g.Var=g.Var||{};D=e.Arrays=e.Arrays||{};E=g.Templating=g.Templating||{};F=E.Runtime=E.Runtime||{};G=F.Server=F.Server||{};H=G.ProviderBuilder=G.ProviderBuilder||{};I=g.View=g.View||{};J=l.Rpc=l.Rpc||{};K=G.Handler=G.Handler||{};L=G.TemplateInstance=G.TemplateInstance||{};M=b.Prozper=b.Prozper||{};N=M.TypesV0=M.TypesV0||{};O=N.Aliado=N.Aliado||{};P=N.IdAliado=N.IdAliado||{};Q=M.Aliado=M.Aliado||{};R=N.Modelo=N.Modelo||{};S=g.ConcreteVar=g.ConcreteVar||{};T=g.Snap=g.Snap||{};U=a.StartupCode$testing$testing=a.StartupCode$testing$testing||{};V=g.ListModel=g.ListModel||{};W=j.PlugInVar=j.PlugInVar||{};X=j.PlugInView=j.PlugInView||{};Y=j.PlugInDoc=j.PlugInDoc||{};Z=x.Pervasives=x.Pervasives||{};_0=e.LazyExtensionsProxy=e.LazyExtensionsProxy||{};_1=_0.LazyRecord=_0.LazyRecord||{};_2=a.ProzperServer_GeneratedPrintf=a.ProzperServer_GeneratedPrintf||{};_3=a.ProzperServer_JsonDecoder=a.ProzperServer_JsonDecoder||{};_4=a.ProzperServer_JsonEncoder=a.ProzperServer_JsonEncoder||{};_5=a.testing_Templates=a.testing_Templates||{};_6=a.testing_GeneratedPrintf=a.testing_GeneratedPrintf||{};_7=a.testing_Router=a.testing_Router||{};_8=e.Seq=e.Seq||{};_9=b.Library=b.Library||{};_=_9.SortWith=_9.SortWith||{};$=Q.Buscar=Q.Buscar||{};ba=e.Collections=e.Collections||{};bb=ba.FSharpSet=ba.FSharpSet||{};bc=e.Strings=e.Strings||{};bd=N.CorreoElectronico=N.CorreoElectronico||{};be=l.DatosPersonales=l.DatosPersonales||{};bf=l.CorreoElectronico=l.CorreoElectronico||{};bg=l.Telefono=l.Telefono||{};bh=l.Direccion=l.Direccion||{};bi=_9.Monads=_9.Monads||{};bj=bi.AsyncResultMAutoOpen=bi.AsyncResultMAutoOpen||{};bk=bi.AsyncResultM=bi.AsyncResultM||{};bl=bk.AsyncResultMBuilder=bk.AsyncResultMBuilder||{};bm=l.Refresh=l.Refresh||{};bn=a.System=a.System||{};bo=bn.Guid=bn.Guid||{};bp=_9.ResultMessage=_9.ResultMessage||{};bq=c.Msal=c.Msal||{};br=e.List=e.List||{};bs=br.T=br.T||{};bt=e.Utils=e.Utils||{};bu=j.PlugInAction=j.PlugInAction||{};bv=a.WindowOrWorkerGlobalScope;bw=i.LayoutEngine=i.LayoutEngine||{};bx=a.StartupCode$LayoutEngine$LayoutEngine=a.StartupCode$LayoutEngine$LayoutEngine||{};by=ba.List=ba.List||{};bz=ba.Dictionary=ba.Dictionary||{};bA=ba.HashSet=ba.HashSet||{};bB=F.Client=F.Client||{};bC=N.IdAuthorize=N.IdAuthorize||{};bD=N.DatosPersonales=N.DatosPersonales||{};bE=N.StatusAliado=N.StatusAliado||{};bF=N.TipoAliado=N.TipoAliado||{};bG=e.Numeric=e.Numeric||{};bH=N.PremisasCalculo=N.PremisasCalculo||{};bI=g.Abbrev=g.Abbrev||{};bJ=bI.Fresh=bI.Fresh||{};bK=_9.String=_9.String||{};bL=e.Slice=e.Slice||{};bM=i.Msal=i.Msal||{};bN=bM.Policy=bM.Policy||{};bO=bM.UserAgentApplication=bM.UserAgentApplication||{};bP=l.EndPoint=l.EndPoint||{};bQ=g.Router=g.Router||{};bR=g.ViewBuilder=g.ViewBuilder||{};bS=l.VariousUI=l.VariousUI||{};bT=N.FormaPago=N.FormaPago||{};bU=j.PlugInQuery=j.PlugInQuery||{};bV=g.Doc=g.Doc||{};bW=ba.FSharpMap=ba.FSharpMap||{};bX=e.Enumerator=e.Enumerator||{};bY=bX.T=bX.T||{};bZ=ba.BalancedTree=ba.BalancedTree||{};b0=i.Date=i.Date||{};b1=N.Genero=N.Genero||{};b2=_9.ParseO=_9.ParseO||{};b3=N.Pais=N.Pais||{};b4=N.Telefono=N.Telefono||{};b5=N.TipoTelefono=N.TipoTelefono||{};b6=N.Direccion=N.Direccion||{};b7=N.TipoDireccion=N.TipoDireccion||{};b8=N.Estado=N.Estado||{};b9=N.ZonaPostal=N.ZonaPostal||{};b_=a.StartupCode$ProzperServer$ProzperServer=a.StartupCode$ProzperServer$ProzperServer||{};b$=M.Rpc=M.Rpc||{};ca=bi.ResultM=bi.ResultM||{};cb=_9.Array=_9.Array||{};cc=N.NumeroTarjeta=N.NumeroTarjeta||{};cd=N.TarjetaCredito=N.TarjetaCredito||{};ce=N.NumeroCuenta=N.NumeroCuenta||{};cf=N.CuentaBancaria=N.CuentaBancaria||{};cg=l.CuentaBancaria=l.CuentaBancaria||{};ch=l.TarjetaCredito=l.TarjetaCredito||{};ci=a.GeneratedPrintf=a.GeneratedPrintf||{};cj=a.LayoutEngine_Templates=a.LayoutEngine_Templates||{};ck=a.LayoutEngine_GeneratedPrintf=a.LayoutEngine_GeneratedPrintf||{};cl=a.Object;cm=g.HtmlModule=g.HtmlModule||{};cn=cm.attr=cm.attr||{};co=g.AttrModule=g.AttrModule||{};cp=i.WebComponent=i.WebComponent||{};cq=cp.WcTabStrip=cp.WcTabStrip||{};cr=cq.WcTabStripT=cq.WcTabStripT||{};cs=cp.WcSplitter=cp.WcSplitter||{};ct=g.AttrProxy=g.AttrProxy||{};cu=g.CheckedInput=g.CheckedInput||{};cv=ba.DictionaryUtil=ba.DictionaryUtil||{};cw=g.Client=g.Client||{};cx=cw.Templates=cw.Templates||{};cy=i.Pojo=i.Pojo||{};cz=e.Sitelets=e.Sitelets||{};cA=cz.RouterOperators=cz.RouterOperators||{};cB=cz.RouterModule=cz.RouterModule||{};cC=cz.Route=cz.Route||{};cD=e.Concurrency=e.Concurrency||{};cE=N.IdPayment=N.IdPayment||{};cF=ba.MapUtil=ba.MapUtil||{};cG=bZ.Tree=bZ.Tree||{};cH=N.IdAddress=N.IdAddress||{};cI=bi.Result=bi.Result||{};cJ=cI.Builder=cI.Builder||{};cK=ca.Builder=ca.Builder||{};cL=_9.Serializer=_9.Serializer||{};cM=N.Expiracion=N.Expiracion||{};cN=N.TipoTarjeta=N.TipoTarjeta||{};cO=N.RoutingNumber=N.RoutingNumber||{};cP=N.TipoCuenta=N.TipoCuenta||{};cQ=g.FromView=g.FromView||{};cR=g.Docs=g.Docs||{};cS=A.Layout=A.Layout||{};cT=g.Attrs=g.Attrs||{};cU=g.DomUtility=g.DomUtility||{};cV=e.DateUtil=e.DateUtil||{};cW=cs.WcSplitterT=cs.WcSplitterT||{};cX=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};cY=cz.Router=cz.Router||{};cZ=cz.List=cz.List||{};c0=cD.AsyncBody=cD.AsyncBody||{};c1=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};c2=cD.CT=cD.CT||{};c3=g.Array=g.Array||{};c4=ba.Pair=ba.Pair||{};c5=e.ClientSideJson=e.ClientSideJson||{};c6=c5.Provider=c5.Provider||{};c7=A.Measures=A.Measures||{};c8=i.Hoverable=i.Hoverable||{};c9=c8.Hoverable=c8.Hoverable||{};c_=e.CancellationTokenSource=e.CancellationTokenSource||{};c$=g.Storage=g.Storage||{};da=a.Event;db=a.UIEvent;dc=i.ResizeObserver=i.ResizeObserver||{};dd=g.DocElemNode=g.DocElemNode||{};de=a.CharacterData;df=cx.Prepare=cx.Prepare||{};dg=g.Elt=g.Elt||{};dh=g.An=g.An||{};di=cw.Settings=cw.Settings||{};dj=bI.Mailbox=bI.Mailbox||{};dk=ba.HashSetUtil=ba.HashSetUtil||{};dl=a.StartupCode$WebSharper_Sitelets$Router=a.StartupCode$WebSharper_Sitelets$Router||{};dm=ba.Map=ba.Map||{};dn=cD.Scheduler=cD.Scheduler||{};_do=a.Error;dp=e.OperationCanceledException=e.OperationCanceledException||{};dq=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};dr=g.DynamicAttrNode=g.DynamicAttrNode||{};ds=e.AggregateException=e.AggregateException||{};dt=c$.ArrayStorage=c$.ArrayStorage||{};du=cw.Attrs=cw.Attrs||{};dv=du.Dyn=du.Dyn||{};dw=e.Queue=e.Queue||{};dx=g.Updates=g.Updates||{};dy=cw.Docs=cw.Docs||{};dz=dy.RunState=dy.RunState||{};dA=dy.NodeSet=dy.NodeSet||{};dB=g.Anims=g.Anims||{};dC=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};dD=e.Char=e.Char||{};dE=cz.StringEncoding=cz.StringEncoding||{};dF=ba.KeyCollection=ba.KeyCollection||{};dG=x.Promise=x.Promise||{};dH=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};dI=e.FormatException=e.FormatException||{};dJ=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};dK=g.String=g.String||{};dL=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};dM=g.AppendList=g.AppendList||{};dN=cz.PathUtil=cz.PathUtil||{};dO=g.Easing=g.Easing||{};dP=bI.HashSet=bI.HashSet||{};dQ=x.NonStandardPromiseRejectionException=x.NonStandardPromiseRejectionException||{};dR=dy.DomNodes=dy.DomNodes||{};dS=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};dT=a.IntelliFactory;dU=dT&&dT.Runtime;dV=a.Math;dW=a.console;dX=a.JSON;dY=a.Date;dZ=a.Reflect;d0=a.jQuery;d1=a.String;d.mainProgram=function(){var d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef;d2=h.Create$1(d.appName());d3=I.Map(function(eg){return d.mesToString(eg.periodoActual);},l.modeloV().get_View());d4=I.Map(function(eg){return a.String(eg.anoActual);},l.modeloV().get_View());d5=I.Map(function(eg){return Q.nombre2(eg.datosPersonales);},l.aliadoW());d6=I.Map(function(eg){return eg.id.get_Id();},l.aliadoW());d7=I.Map(function(eg){return a.String(eg.status);},l.aliadoW());d8=I.Map(function(eg){return a.String(eg.comision);},l.aliadoW());d9=I.Map(function(eg){return a.String(eg.nReferidos);},l.aliadoW());j.addPlugIn(k.New(d.appName(),[j.newVar("title",d2),j.newVar("contentVar",l.contentVar()),j.newVar("invitaciones",l.invitacionesV())],[j.newViw("mesActual",d3),j.newViw("anoActual",d4),j.newViw("aliado",d5),j.newViw("idAliado",d6),j.newViw("status",d7),j.newViw("comision",d8),j.newViw("datos",d9),j.newViw("emailsInvitar",l.emailsInvitarW()),j.newViw("invitacionesDisabled",l.invitacionesDisabledW())],[j.newDoc("Aliados",n.Create(o.aliados)),j.newDoc("Aliado",n.Create(p.aliado)),j.newDoc("Calculo",n.Create(p.calculo)),j.newDoc("FormaRegistro",n.Create(q.formaDoc)),j.newDoc("FormaDatos",n.Create(r.formaDoc)),j.newDoc("FormaContactos",n.Create(s.formaDoc)),j.newDoc("FormaFormasPago",n.Create(t.formaDoc)),j.newDoc("contentDoc",n.Create(d.getContentDoc))],[j.newAct("Logout",function(){d.logout();}),j.newAct("LogIn",function(){d.login();}),j.newAct("enviarInvitaciones",function(){d.enviarCorreosInvitacion();})],[]));A.addLayout((d_=(d$=self.document.getElementById("GlobalLayout"),z.Equals(d$,null)?"\r\n                        menuEditor layout\r\n                        |          main\r\n        \r\n                        main div \"\"\r\n                        :                 template  header     \"id=header\"           brand  brandV   logout \"@{Prozper.Logout}\" afiliado \"@{Prozper.aliado}\"\r\n                        :                 Doc       Prozper.contentDoc\r\n                        :                 template  sidedrawer \"id=sidedrawer\"       brand  brandV   idaliado \"@{Prozper.idAliado}\" \r\n                        :                 template  footer     \"id=footer\"           brand  brandV   madeby \"CIPHER Bsc\" madebylink \"www.cipherbsc.com\"\r\n         \r\n                        mainContent          template  content    \"id=content-wrapper\"  content aliados                  fecha \"@{Prozper.mesActual} @{Prozper.anoActual}\" idaliado \"@{Prozper.aliado}\"\r\n                        cntFormaRegistro     template  content    \"id=content-wrapper\"  content Prozper.FormaRegistro    titulo \"Referido por: @{Prozper.aliado}\"  \r\n                        cntFormaDatos        template  content    \"id=content-wrapper\"  content Prozper.FormaDatos       titulo \" \"\r\n                        cntFormaContactos    template  content    \"id=content-wrapper\"  content Prozper.FormaContactos   titulo \" \" \r\n                        cntFormaFormasPago   template  content    \"id=content-wrapper\"  content Prozper.FormaFormasPago  titulo \" \" \r\n                        cntFormaCuentas      template  content    \"id=content-wrapper\"  content ProzperLyt.FormaCuentas  titulo \" \"  \r\n                        cntFormaDocumentos   template  content    \"id=content-wrapper\"  content Prozper.FormaDocumentos  titulo \" \"  \r\n                        cntFormaNoUser       template  content    \"id=content-wrapper\"  content botonLogin               titulo \" \"  \r\n                        cntFormaInvitaciones template  content    \"id=content-wrapper\"  content invitaciones             titulo \" \"  \r\n        \r\n                        aliados          div       \"class=row\"\r\n                        :                div       \"class=mui-col-md-6\"\r\n                        ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" Prozper.Aliados\r\n                        :                div       \"class=mui-col-md-6\"\r\n                        ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" Aliado Comisiones\r\n                        brandV           Var       \"Prozper\"\r\n        \r\n                        botonLogin       div       \"class=row\"\r\n                        :                div       \"class=mui-col-md-6\"\r\n                        ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" \r\n                        :::              button    Prozper.LogIn \"class=mui-btn mui-btn--primary\" \"Ingresar al Sistema\"\r\n        \r\n                        invitaciones     div       \"class=row\"\r\n                        :                div       \"class=mui-col-md-6 mui-col-md-offset-1\"\r\n                        ::               div       \"class=mui-panel mui--z5 scrollbar; max-height:550px ; overflow:auto\" \r\n                        :::              h1        \"\" \"Enviar Invitaciones\"\r\n                        :::              textarea  Prozper.invitaciones  \"width:100% ; height:30rem; placeholder=Copie aqui las direcciones de correo electronico\" \r\n                        :                div       \"white-space: pre-wrap\" \"@{Prozper.emailsInvitar}\"\r\n                        :                button    Prozper.enviarInvitaciones \"class=mui-btn mui-btn--raised mui-btn--primary;@{Prozper.invitacionesDisabled}\" \"Enviar\"\r\n        \r\n                        Aliado           div       \"class=mui-col-md-8\"\r\n                        :                Doc Prozper.Aliado\r\n        \r\n                        Comisiones       template    tablacomisiones \"class=mui-col-md-3\"  tbody filasComisiones\r\n                        filasComisiones  concat      \"\"\r\n                        :                template    filacomision    \"\"  periodo \"Ene 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Feb 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Mar 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Abr 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"May 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Jun 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Jul 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Ago 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Sep 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Oct 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Nov 2018\" comision \"$1,000\"\r\n                        :                template    filacomision    \"\"  periodo \"Dec 2018\" comision \"$1,000\"\r\n                \r\n                        menuEditorx      horizontal  65          menuLogo                  editorMessages\r\n                        double           horizontal  0-50-100    AppFramework.AppFwkClient menuEditor\r\n                        menuLogo         vertical    350         logo                      menu\r\n                        logo             span       \"margin:0;   color:gray; font-size: 55px; font-weight:530\" \"StackOverflow\"\r\n                        editorMessages   horizontal  10-83-100   editorButtons             messages\r\n                        messages         vertical    0-50-100    messagesLeft              messagesRight\r\n                        editorButtons    vertical    150 buttons snippetsSnippet \r\n                        snippetsSnippet  vertical    0-20-100    snippets                  editorProperties\r\n                        snippets         horizontal  20          \"@{FSharpStation.CurrentPath}\" tblDimensions2\r\n                        editorProperties vertical    0-100-100   snippet                   properties\r\n                        properties       div        \"\"           FSharpStation.Properties\r\n                        snippet          horizontal  35          Name                      FSharpStation.editor\r\n                        menu             span       \"display: grid; grid-template-columns: 30% 20% 20% 10%; grid-gap: 25px; margin:5px; grid-template-rows:50px\" inpServer btnLoad btnSaveAs\r\n                         \r\n                        severalTabs      wcomp-tabstrip  \"\" \r\n                        :                div \"tabname=Dimensions\" \r\n                        ::               div \"\" btnAddDimension RuleEditor.Dimensions\r\n                        :                div \"tabname=Cubes\"\r\n                        :                div \"tabname=Global Definitions\" RuleEditor.globalDefs\r\n                \r\n                        btnSaveAs        button RuleEditor.SaveAs         \"class=btn @{RuleEditor.SaveNeeded}\" \"Save as...    \"\r\n                        btnAddDimension  button RuleEditor.AddDimension      \"\"                  \"new dim...\"\r\n                        btnDeleteSnippet button FSharpStation.RemoveSnippet  \"\"                  \"Delete Snippet\"\r\n                        btnIndentIn      button FSharpStation.IndentIn       \"\"                  \"Indent In  >> \"\r\n                        btnIndentOut     button FSharpStation.IndentOut      \"\"                  \"Indent Out << \"\r\n                        btnRunFS         button FSharpStation.RunFS          \"\"                  \"Run F#        \"\r\n                        btnAbortFsi      button FSharpStation.AbortFsi       \"\"                  \"Abort Fsi     \"\r\n                \r\n                        messagesLeft     wcomp-tabstrip                      \"\"                  Output FsCode\r\n                        messagesRight    wcomp-tabstrip                      \"\"                  Parser\r\n                \r\n                        buttons          div \"overflow: hidden; display: grid; grid-template-columns: 100%; grid-template-rows: repeat(15, calc(100% / 15)); bxackground-color: #eee; box-sizing: border-box; padding : 5px; grid-gap: 5px; margin-right: 21px\"\r\n                        :                button RuleEditor.AddCalculation    \"\"                 \"Add Calculation\"\r\n                        :                button RuleEditor.AddTotal          \"\"                 \"Add Total\"\r\n                        :                Doc       none x\r\n                        :                button RuleEditor.IndentIn          \"\"                  \"Indent In  >> \"\r\n                        :                button RuleEditor.IndentOut         \"\"                  \"Indent Out << \"\r\n                \r\n                        Output           textarea  RuleEditor.Output         \"tabname=Output ; placeholder=Output messages ; spellcheck=false\" \r\n                        FsCode           textarea  RuleEditor.CodeFS         \"tabname=F# Code; placeholder=F# Code         ; spellcheck=false\" \r\n                        Parser           textarea  RuleEditor.Parser         \"tabname=Parser ; placeholder=Parser messages; dblclick=@{FSharpStation.JumpTo} ; spellcheck=false\" \r\n                        Name             Doc       InputLabel                \"\"     \"Name:\"        FSharpStation.SnippetName\r\n                        inpServer        Doc       InputLabel                \"\"     \"Server:\"      RuleEditor.Server\r\n                        btnLoad          Doc       InputFile                 \"\"     \"Load File...\" RuleEditor.LoadFile  FileName\r\n                        btnImport        Doc       InputFile                 \"\"     \"Import...\"    FSharpStation.Import    \"\"\r\n                        FileName         div                                 \"class=form-control\"  RuleEditor.fileName\r\n        \r\n                   ":d$.textContent),A.newLyt(d.layoutName(),d_)));ea=(eb=null,(ec=d.layoutName(),eb==null?ec:eb.$0));j.mainDocV().Set(ea);ed=(ee=j.getMainDoc().f(),H.Make().WithHole({$:0,$0:"maincontent",$1:ee})).WithHole({$:2,$0:"cortina",$1:I.Map(function(eg){return eg>0?"mui-overlay":"not-mui-overlay";},J.llamadas().get_View())});ef=K.CompleteHoles(ed.k,ed.h,[]);ed.i=new L.New(ef[1],cx.RunFullDocTemplate(ef[0]));I.Sink(function(eg){self.document.title=eg;},d2.get_View());};d.appName=function(){U.$cctor();return U.appName;};d.getContentDoc=function(){var d2,d3;function d4(d5,d6){var d7,d8,d9,d_;d7=d6!=null&&d6.$==1?d5:d.layoutName()+".cntFormaNoUser";d8=(d9=(d_=((A.splitName())(d.appName()))(d7),j.tryGetDoc(d_[0],d_[1])),d9==null?null:{$:1,$0:A.getDocFinal(bs.Empty,d9.$0)});return d8==null?A.errDoc((function(d$){return function(ea){return d$("Doc not found "+bt.toSafe(ea));};}(a.id))(d7)):d8.$0;}return bV.EmbedView((d2=l.contentVar().get_View(),(d3=bq.userO().get_View(),(((dU.Curried3(I.Map2))(d4))(d2))(d3))));};d.logout=function(){bq.logout();};d.login=function(){bq.logout();};d.enviarCorreosInvitacion=function(){var d2;bk.iterA(function(d3){_9.print(d3);},a.ignore,(d2=bj.asyncResultM(),d2.Run(d2.Delay(function(){return bj["AsyncResultMBuilder.Bind"](d2,I.GetAsync(l.emailsInvitarW()),function(d3){return bj["AsyncResultMBuilder.Bind"](d2,I.GetAsync(I.Map(function(d4){return d4.id.get_Id();},l.aliadoW())),function(d4){var d5;d5=D.filter(function(d6){return bc.Trim(d6)!=="";},bc.SplitChars(d3,["\n"],0));return d2.Bind$4(J.enviarCorreosInvitacion("Invitacion a Prozper",new P({$:0,$0:d4}),d5),function(){var d6;d6=D.length(d5);return d6===0?(a.alert("Ningun correo valido ha sido encontrado"),d2.Zero()):d6===1?(a.alert("Invitacion ha sido enviada"),d2.Zero()):(a.alert("Invitaciones han sido enviadas"),d2.Zero());});});});}))));};d.layoutName=function(){U.$cctor();return U.layoutName;};d.mesToString=function(d2){return d2===1?"Ene":d2===2?"Feb":d2===3?"Mar":d2===4?"Abr":d2===5?"May":d2===6?"Jun":d2===7?"Jul":d2===8?"Ago":d2===9?"Sep":d2===10?"Oct":d2===11?"Nov":d2===12?"Dic":"---";};f=e.Obj=dU.Class({Equals:function(d2){return this===d2;},GetHashCode:function(){return -1;}},null,f);f.New=dU.Ctor(function(){},f);h=g.Var$1=dU.Class({},f,h);h.Create$1=function(d2){return new S.New(false,T.New({$:2,$0:d2,$1:[]}),d2);};h.Lens=function(d2,d3,d4){var d5,d6,d7;d5=bJ.Id();d6=I.Map(d3,d2.get_View());d7=new C({Get:function(){return d3(d2.Get());},Set:function(d8){return d2.Update(function(d9){return d4(d9,d8);});},SetFinal:function(d8){return this.Set(d8);},Update:function(d8){return d2.Update(function(d9){return d4(d9,d8(d3(d9)));});},UpdateMaybe:function(d8){return d2.UpdateMaybe(function(d9){var d_;d_=d8(d3(d9));return d_==null?null:{$:1,$0:d4(d9,d_.$0)};});},get_View:function(){return d6;},get_Id:function(){return d5;}});C.New.call(d7);return d7;};h.Set=function(d2,d3){d2.Set(d3);};j.addPlugIn=function(d2){j.plugIns().Append(d2);j.mainDocV().Set(j.mainDocV().Get());};j.newVar=function(d2,d3){return W.New(d2,d3);};j.newViw=function(d2,d3){return X.New(d2,d3);};j.newDoc=function(d2,d3){return Y.New(d2,{$:0,$0:d3});};j.newAct=function(d2,d3){return bu.New(d2,{$:0,$0:d3},I.Const(true));};j.mainDocV=function(){bx.$cctor();return bx.mainDocV;};j.getMainDoc=function(){bx.$cctor();return bx.getMainDoc;};j.plugIns=function(){bx.$cctor();return bx.plugIns;};j.tryGetDoc=function(d2,d3){var d4;d4=j.tryGetPlugIn(d2);return d4==null?null:D.tryFind(function(d5){return d5.docName===d3;},d4.$0.plgDocs);};j.newDocF=function(d2,d3){return Y.New(d2,d3);};j.tryGetPlugIn=function(d2){return j.plugIns().TryFindByKey(d2);};j.tryGetAct=function(d2,d3){var d4;d4=j.tryGetPlugIn(d2);return d4==null?null:D.tryFind(function(d5){return d5.actName===d3;},d4.$0.plgActions);};j.callFunction=function(d2,d3,d4){if(d4.$==1)d4.$0(d2);else if(d4.$==2)(d4.$0(d2))(d3);else d4.$0();};j.tryGetVar=function(d2,d3){var d4;d4=j.tryGetPlugIn(d2);return d4==null?null:D.tryFind(function(d5){return d5.varName===d3;},d4.$0.plgVars);};j.selectionPlugInO=function(){bx.$cctor();return bx.selectionPlugInO;};j.defaultPlugIn=function(){bx.$cctor();return bx.defaultPlugIn;};j.currentPlugInW=function(){bx.$cctor();return bx.currentPlugInW;};j.renderPlugIns=function(){return bV.Flatten(j.plugIns().MapLens(function(d2){var d3,d4,d5,d6;return(d3=(d4=H.Make().WithHole({$:1,$0:"name",$1:d2}),d4.WithHole(K.EventQ2(d4.k,"select",function(){return d4.i;},function(){j.selectionPlugInO().Set({$:1,$0:d2});}))).WithHole({$:2,$0:"selected",$1:I.Map(function(d7){return z.Equals(d7,{$:1,$0:d2})?"selected":"";},j.selectionPlugInO().get_View())}),(d5=K.CompleteHoles(d3.k,d3.h,[]),(d6=new L.New(d5[1],cj.tile(d5[0])),(d3.i=d6,d6)))).get_Doc();}));};j.renderVars=function(){function d2(d4,d5){return[d4.plgName,d5.varName];}function d3(d4,d5){var d6,d7,d8;return(d6=H.Make().WithHole({$:1,$0:"name",$1:d5.varName}).WithHole({$:8,$0:"value",$1:d5.varVar}),(d7=K.CompleteHoles(d6.k,d6.h,[["value",0]]),(d8=new L.New(d7[1],cj.namevalueinput(d7[0])),(d6.i=d8,d8)))).get_Doc();}return bV.ConvertBy(function(d4){return d2(d4[0],d4[1]);},function(d4){return d3(d4[0],d4[1]);},I.Map(function(d4){return _8.map(function(d5){return[d4,d5];},d4.plgVars);},j.currentPlugInW()));};j.renderViews=function(){function d2(d4,d5){return[d4.plgName,d5.viwName];}function d3(d4,d5){var d6,d7,d8;return(d6=H.Make().WithHole({$:1,$0:"name",$1:d5.viwName}).WithHole({$:2,$0:"value",$1:d5.viwView}),(d7=K.CompleteHoles(d6.k,d6.h,[]),(d8=new L.New(d7[1],cj.namevalue(d7[0])),(d6.i=d8,d8)))).get_Doc();}return bV.ConvertBy(function(d4){return d2(d4[0],d4[1]);},function(d4){return d3(d4[0],d4[1]);},I.Map(function(d4){return _8.map(function(d5){return[d4,d5];},d4.plgViews);},j.currentPlugInW()));};j.renderDocs=function(){function d2(d4,d5){return[d4.plgName,d5.docName];}function d3(d4,d5){var d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee;return(d6=(d7=(d8=d5.docName+(d9=d5.docDoc,d9.$==1?(d_=bc.concat(", ",br.ofArray([d9.$1])),(function(ef){return function(eg){return ef("("+bt.toSafe(eg)+")");};}(a.id))(d_)):d9.$==2?(d$=bc.concat(", ",br.ofArray([d9.$1,d9.$2])),(function(ef){return function(eg){return ef("("+bt.toSafe(eg)+")");};}(a.id))(d$)):d9.$==3?(ea=bc.concat(", ",br.ofArray([d9.$1,d9.$2,d9.$3])),(function(ef){return function(eg){return ef("("+bt.toSafe(eg)+")");};}(a.id))(ea)):d9.$==4?(eb=bc.concat(", ",br.ofArray([d9.$1,d9.$2,d9.$3,d9.$4])),(function(ef){return function(eg){return ef("("+bt.toSafe(eg)+")");};}(a.id))(eb)):d9.$==5?(ec=bc.concat(", ",br.ofArray([d9.$1,d9.$2,d9.$3,d9.$4,d9.$5])),(function(ef){return function(eg){return ef("("+bt.toSafe(eg)+")");};}(a.id))(ec)):""),H.Make().WithHole({$:1,$0:"name",$1:d8})),d7.WithHole(K.EventQ2(d7.k,"select",function(){return d7.i;},function(){I.Get(function(ef){j.mainDocV().Set(ef.plgName+"."+d5.docName);},j.currentPlugInW());}))),(ed=K.CompleteHoles(d6.k,d6.h,[]),(ee=new L.New(ed[1],cj.tile(ed[0])),(d6.i=ee,ee)))).get_Doc();}return bV.ConvertBy(function(d4){return d2(d4[0],d4[1]);},function(d4){return d3(d4[0],d4[1]);},I.Map(function(d4){return _8.map(function(d5){return[d4,d5];},d4.plgDocs);},j.currentPlugInW()));};j.renderActions=function(){function d2(d4,d5){return[d4.plgName,d5.actName];}function d3(d4,d5){var d6,d7,d8,d9;d6=(d7=d5.actFunction,d7.$==1?(d8=bc.concat(", ",br.ofArray([d7.$1])),(function(d_){return function(d$){return d_("("+bt.toSafe(d$)+")");};}(a.id))(d8)):d7.$==2?(d9=bc.concat(", ",br.ofArray([d7.$1,d7.$2])),(function(d_){return function(d$){return d_("("+bt.toSafe(d$)+")");};}(a.id))(d9)):"");return bV.EmbedView(I.Map(function(d_){var d$,ea,eb,ec,ed,ee,ef,eg;return d_?(d$=(ea=H.Make().WithHole({$:1,$0:"name",$1:d5.actName+d6}),ea.WithHole(K.EventQ2(ea.k,"click",function(){return ea.i;},function(eh){j.callFunction(eh,null,d5.actFunction);}))),(eb=K.CompleteHoles(d$.k,d$.h,[]),(ec=new L.New(eb[1],cj.action(eb[0])),(d$.i=ec,ec)))).get_Doc():(ed=(ee=H.Make().WithHole({$:1,$0:"name",$1:d5.actName}),ee.WithHole(K.EventQ2(ee.k,"click",function(){return ee.i;},function(eh){j.callFunction(eh,null,d5.actFunction);}))),(ef=K.CompleteHoles(ed.k,ed.h,[]),(eg=new L.New(ef[1],cj.actiondisabled(ef[0])),(ed.i=eg,eg)))).get_Doc();},d5.actEnabled));}return bV.ConvertBy(function(d4){return d2(d4[0],d4[1]);},function(d4){return d3(d4[0],d4[1]);},I.Map(function(d4){return _8.map(function(d5){return[d4,d5];},d4.plgActions);},j.currentPlugInW()));};j.renderQueries=function(){function d2(d4,d5){return[d4.plgName,d5.qryName];}function d3(d4,d5){var d6,d7,d8,d9;return(d6=(d7=H.Make().WithHole({$:1,$0:"name",$1:d5.qryName}),d7.WithHole(K.EventQ2(d7.k,"select",function(){return d7.i;},function(){a.alert(d5.qryFunction(null));}))),(d8=K.CompleteHoles(d6.k,d6.h,[]),(d9=new L.New(d8[1],cj.tile(d8[0])),(d6.i=d9,d9)))).get_Doc();}return bV.ConvertBy(function(d4){return d2(d4[0],d4[1]);},function(d4){return d3(d4[0],d4[1]);},I.Map(function(d4){return _8.map(function(d5){return[d4,d5];},d4.plgQueries);},j.currentPlugInW()));};j.newQry=function(d2,d3){return bU.New(d2,d3);};j.AppFwkClient=function(){bx.$cctor();return bx.AppFwkClient;};j.actHello=function(){bx.$cctor();return bx.actHello;};j.qryDocs=function(){bx.$cctor();return bx.qryDocs;};j.horizontal=function(d2,d3,d4,d5,d6){var d7,d8,d9,d_;return(d7=(d8=H.Make().WithHole({$:2,$0:"partsizes",$1:d2}).WithHole({$:7,$0:"afterrender",$1:d3}).WithHole({$:7,$0:"afterrendersp",$1:d4}),d8.WithHole(K.EventQ2(d8.k,"mousedown",function(){return d8.i;},function(d$){d5(d$.Event);}))).WithHole({$:2,$0:"gap",$1:d6}),(d9=K.CompleteHoles(d7.k,d7.h,[]),(d_=new L.New(d9[1],cj.wcompsplitterhor(d9[0])),(d7.i=d_,d_)))).get_Doc();};j.vertical=function(d2,d3,d4,d5,d6){var d7,d8,d9,d_;return(d7=(d8=H.Make().WithHole({$:2,$0:"partsizes",$1:d2}).WithHole({$:7,$0:"afterrender",$1:d3}).WithHole({$:7,$0:"afterrendersp",$1:d4}),d8.WithHole(K.EventQ2(d8.k,"mousedown",function(){return d8.i;},function(d$){d5(d$.Event);}))).WithHole({$:2,$0:"gap",$1:d6}),(d9=K.CompleteHoles(d7.k,d7.h,[]),(d_=new L.New(d9[1],cj.wcompsplitterver(d9[0])),(d7.i=d_,d_)))).get_Doc();};j.mainDoc=function(){var d2,d3,d4,d5,d6,d7;return(d2=(d3=j.getMainClientDoc(),(d4=(d5=j.mainDocV().get_View(),H.Make().WithHole({$:2,$0:"maindoc",$1:d5})),d4.WithHole(K.EventQ2(d4.k,"goclient",function(){return d4.i;},function(){j.mainDocV().Set("AppFramework.AppFwkClient");}))).WithHole({$:0,$0:"mainclient",$1:d3})),(d6=K.CompleteHoles(d2.k,d2.h,[]),(d7=new L.New(d6[1],cj.appframework(d6[0])),(d2.i=d7,d7)))).get_Doc();};j.splitName=function(d2){function d3(d5){return bK.splitByChar(".",d5);}function d4(d5){return D.length(d5)===1?[d2,D.get(d5,0)]:[D.get(d5,0),D.get(d5,1)];}return function(d5){return d4(d3(d5));};};j.newActF=function(d2,d3){return bu.New(d2,d3,I.Const(true));};j.tryGetViw=function(d2,d3){var d4;d4=j.tryGetPlugIn(d2);return d4==null?null:D.tryFind(function(d5){return d5.viwName===d3;},d4.$0.plgViews);};j.getMainClientDoc=function(){var d2;return bV.EmbedView((d2=j.plugIns().v,I.Map2(function(d3,d4){var d5,d6;d5=_8.tryPick(function(d7){var d8;d8=_8.tryFind(function(d9){return d7.plgName===d3||d7.plgName+"."+d9.docName===d3;},d7.plgDocs);return d8==null?null:{$:1,$0:j.getLazyDoc(d8.$0)};},d4);d6=j.AppFwkClient().f();return d5==null?d6:d5.$0;},j.mainDocV().get_View(),d2)));};j.tryGetVoV=function(d2,d3){var d4,d5,d6;d4=(d5=j.tryGetVar(d2,d3),d5==null?null:{$:1,$0:{$:1,$0:d5.$0.varVar}});return d4==null?(d6=j.tryGetViw(d2,d3),d6==null?null:{$:1,$0:new cQ.New(d6.$0.viwView,a.ignore)}):d4.$0;};j.tryGetWoW=function(d2,d3){var d4,d5,d6;d4=(d5=j.tryGetViw(d2,d3),d5==null?null:{$:1,$0:{$:1,$0:d5.$0.viwView}});return d4==null?(d6=j.tryGetVar(d2,d3),d6==null?null:{$:1,$0:d6.$0.varVar.get_View()}):d4.$0;};j.getLazyDoc=function(d2){var d3;d3=d2.docDoc;return d3.$==0?d3.$0.f():bV.Element("div",[],[bV.TextNode((function(d4){return function(d5){return d4("Doc with parameters not allowed here: "+ci.p(d5));};}(a.id))(d2))]);};k.New=function(d2,d3,d4,d5,d6,d7){return{plgName:d2,plgVars:d3,plgViews:d4,plgDocs:d5,plgActions:d6,plgQueries:d7};};l.contentVar=function(){U.$cctor();return U.contentVar;};l.invitacionesV=function(){U.$cctor();return U.invitacionesV;};l.emailsInvitarW=function(){U.$cctor();return U.emailsInvitarW;};l.invitacionesDisabledW=function(){U.$cctor();return U.invitacionesDisabledW;};l.aliadoW=function(){U.$cctor();return U.aliadoW;};l.modeloV=function(){U.$cctor();return U.modeloV;};l.selAliadoIdOV=function(){U.$cctor();return U.selAliadoIdOV;};l.money=function(d2){return"$"+l.separate(a.String(d2),bs.Empty);};l.selAliadoIdDoc=function(d2){var d3;return bV.BindView(a.id,(d3=I.get_Do(),I.Bind(function(d4){return I.Bind(function(d5){var d6,d7;d6=d5==null?null:(d7=d5.$0,_8.tryFind(function(d8){return z.Equals(d8.id,d7);},d4.aliados));return I.Const(d6!=null&&d6.$==1?d2(I.Const(d6.$0)):bV.get_Empty());},l.selAliadoIdOV().get_View());},l.modeloV().get_View())));};l.aliadoIdDoc=function(d2){var d3;return bV.BindView(a.id,(d3=I.get_Do(),I.Bind(function(d4){var d5,d6;d5=d4.idAliado;d6=_8.tryFind(function(d7){return z.Equals(d7.id,d5);},d4.aliados);return I.Const(d6!=null&&d6.$==1?d2(I.Const(d6.$0)):bV.get_Empty());},l.modeloV().get_View())));};l.endPointV=function(){U.$cctor();return U.endPointV;};l.separate=function(d2,d3){var d4;while(true)if(d2==="")return(function(d5){return function(d6){return bc.concat(d5,d6);};}(","))(d3);else{d4=d2;d2=_9["String.Left"](d4,-3);d3=new bs({$:1,$0:_9["String.Right"](d4,3),$1:d3});}};m.get_LoggedId=function(){var d2,d3;d2=(d3=bq.userO().Get(),d3==null?null:{$:1,$0:d3.$0.idToken.oid});return d2==null?"":d2.$0;};l.formasPagoAliadoV=function(){U.$cctor();return U.formasPagoAliadoV;};n.Create=function(d2){return _1.New(false,d2,n.forceLazy);};n.forceLazy=function(){var d2;d2=this.v();this.c=true;this.v=d2;this.f=n.cachedLazy;return d2;};n.cachedLazy=function(){return this.v;};n.CreateFromValue=function(d2){return _1.New(true,d2,n.cachedLazy);};o.aliados=function(){var d2,d3,d4,d5,d6,d7,d8;function d9(eg){var eh,ei;eh=(ei=d3.Get(),ei==null?null:{$:1,$0:ei.$0(eg)});return eh==null?[]:eh.$0;}function d_(eg){return eg.nReferidos===0?"-":(((dU.Curried3(function(eh,ei,ej){return eh(a.String(ei)+"/"+a.String(ej));}))(a.id))(eg.nRefActivos))(eg.nReferidos);}function d$(eg){return eg.nDescendientes===0?"-":(((dU.Curried3(function(eh,ei,ej){return eh(a.String(ei)+"/"+a.String(ej));}))(a.id))(eg.nDescActivos))(eg.nDescendientes);}function ea(eg){return eg===0?"-":l.money(eg);}function eb(eg){return I.Map(function(eh){return _8.isEmpty(d9(eg))?"":z.Equals(eh==null?null:{$:1,$0:eh.$0.Contains(eg)},{$:1,$0:true})?"Expandido":"Colapsado";},d2.get_View());}function ec(eg){var eh,ei,ej;d2.Set({$:1,$0:((z.Equals((eh=d2.Get(),eh==null?null:{$:1,$0:eh.$0.Contains(eg)}),{$:1,$0:true})?function(ek){return function(el){return el.Remove(ek);};}:function(ek){return function(el){return el.Add(ek);};})(eg))((ei=d2.Get(),(ej=new bb.New$1(null),ei==null?ej:ei.$0)))});}function ed(eg){l.selAliadoIdOV().Set({$:1,$0:eg});}function ee(eg){var eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eA,eB;function eu(eC){return eC.comision;}function ev(eC){return eC.status;}function ew(eC){return[eC.nRefActivos,eC.nReferidos];}function ex(eC){return[eC.nDescActivos,eC.nDescendientes];}function ey(eC){return Q.nombre(eC.datosPersonales);}function ez(eC){return _8.delay(function(){return _8.append([eC],_8.delay(function(){var eD,eE;return(eD=(eE=d2.Get(),eE==null?null:{$:1,$0:eE.$0.Contains(eC.id)}),eD==null?false:eD.$0)?_8.collect(ez,eB.hijos(eC)):[];}));});}eA=(eh=(ei=(ej=(ek=(el=(dU.Curried3(_.desc))(eu),em=(dU.Curried3(_.asc))(ev),dU.Curried(_.op_AmpGreater,2,[function(eC,eD){return(el(eC))(eD);},function(eC,eD){return(em(eC))(eD);}])),en=(dU.Curried3(_.desc))(ew),dU.Curried(_.op_AmpGreater,2,[function(eC,eD){return(ek(eC))(eD);},function(eC,eD){return(en(eC))(eD);}])),eo=(dU.Curried3(_.desc))(ex),dU.Curried(_.op_AmpGreater,2,[function(eC,eD){return(ej(eC))(eD);},function(eC,eD){return(eo(eC))(eD);}])),ep=(dU.Curried3(_.asc))(ey),dU.Curried(_.op_AmpGreater,2,[function(eC,eD){return(ei(eC))(eD);},function(eC,eD){return(ep(eC))(eD);}])),_8.sortWith(function(eC,eD){return(eh(eC))(eD);},eg));eB=Q.busqueda(eA);d3.Set({$:1,$0:eB.hijosDe});try{er=_8.min(_8.map(function(eC){return eC.nivel;},eA));}catch(eC){er=1;}es=_8.filter(function(eD){return eD.nivel===er;},eA);_8.isEmpty(es)?d2.Set(null):d2.Get()==null?(d2.Set({$:1,$0:new bb.New(_8.map(function(eD){return eD.id;},es))}),et=_8.tryHead(_8.map(function(eD){return eD.id;},es)),et==null?void 0:ed(et.$0)):void 0;return _8.delay(function(){return _8.collect(ez,es);});}function ef(eg,eh){var ei,ej,ek,el,em,en;return(ei=(ej=(ek=(el=eb(eg),H.Make().WithHole({$:2,$0:"nombre",$1:I.Map(function(eo){return Q.nombre(eo.datosPersonales);},eh)}).WithHole({$:2,$0:"status",$1:I.Map(function(eo){return(function(ep){return function(eq){return ep(_2.p(eq));};}(a.id))(eo.status);},eh)}).WithHole({$:2,$0:"tipo",$1:I.Map(function(eo){return(function(ep){return function(eq){return ep(_2.p$1(eq));};}(a.id))(eo.tipo);},eh)}).WithHole({$:2,$0:"nivel",$1:I.Map(function(eo){return a.String(eo.nivel);},eh)}).WithHole({$:2,$0:"referidos",$1:I.Map(d_,eh)}).WithHole({$:2,$0:"descendientes",$1:I.Map(d$,eh)}).WithHole({$:2,$0:"comision",$1:I.Map(function(eo){return ea(eo.comision);},eh)}).WithHole({$:2,$0:"expandido",$1:el})),ek.WithHole(K.EventQ2(ek.k,"expandir",function(){return ek.i;},function(){ec(eg);}))).WithHole({$:2,$0:"seleccionado",$1:I.Map(function(eo){return z.Equals({$:1,$0:eg},eo)?"seleccionado":"";},l.selAliadoIdOV().get_View())}),ej.WithHole(K.EventQ2(ej.k,"seleccionar",function(){return ej.i;},function(){ed(eg);}))),(em=K.CompleteHoles(ei.k,ei.h,[]),(en=new L.New(em[1],_5.filaaliado(em[0])),(ei.i=en,en)))).get_Doc();}d2=h.Create$1(null);d3=h.Create$1(null);return(d4=(d5=bV.ConvertSeqBy(function(eg){return eg.id;},function(eg){return function(eh){return ef(eg,eh);};},(d6=I.Map(function(eg){return eg.aliados;},l.modeloV().get_View()),I.Map2(function(eg,eh){return ee(eh);},d2.get_View(),d6))),H.Make().WithHole({$:0,$0:"tbody",$1:d5})),(d7=K.CompleteHoles(d4.k,d4.h,[]),(d8=new L.New(d7[1],_5.tablaaliados(d7[0])),(d4.i=d8,d8)))).get_Doc();};p.aliado=function(){function d2(d3){var d4;d4=_8.tryPick(function(d5){return d5.$==1?{$:1,$0:d5.$0.email}:null;},d3.contactos);return d4==null?"correo no encontrado!":d4.$0;}return l.selAliadoIdDoc(function(d3){var d4,d5,d6,d7;return(d4=(d5=p.calculo(),H.Make().WithHole({$:2,$0:"nombre",$1:I.Map(function(d8){return Q.nombre2(d8.datosPersonales);},d3)}).WithHole({$:2,$0:"status",$1:I.Map(function(d8){return(function(d9){return function(d_){return d9(_2.p(d_));};}(a.id))(d8.status);},d3)}).WithHole({$:2,$0:"tipo",$1:I.Map(function(d8){return(function(d9){return function(d_){return d9(_2.p$1(d_));};}(a.id))(d8.tipo);},d3)}).WithHole({$:2,$0:"contacto",$1:I.Map(d2,d3)}).WithHole({$:0,$0:"calculo",$1:d5})),(d6=K.CompleteHoles(d4.k,d4.h,[]),(d7=new L.New(d6[1],_5.aliado(d6[0])),(d4.i=d7,d7)))).get_Doc();});};p.calculo=function(){var d2,d3;d2=I.Map(function(d4){return d4.premisas;},l.modeloV().get_View());d3=I.Map(function(d4){return d4.aliados;},l.modeloV().get_View());I.Map2(function(d4,d5){return _8.tryFind(function(d6){return z.Equals(d6.id,d4);},d5);},I.Map(function(d4){return d4.idAliado;},l.modeloV().get_View()),d3);return l.selAliadoIdDoc(function(d4){var d5,d6,d7,d8,d9;d5=I.Map2(Q.comision,d2,d4);d6=I.Map2(Q.premisas,d2,d4);return(d7=H.Make().WithHole({$:2,$0:"referidos",$1:I.Map(function(d_){return(function(d$){return function(ea){return d$(a.String(ea));};}(a.id))(d_.nReferidos);},d4)}).WithHole({$:2,$0:"refactivos",$1:I.Map(function(d_){return(function(d$){return function(ea){return d$(a.String(ea));};}(a.id))(d_.nRefActivos);},d4)}).WithHole({$:2,$0:"comreferido",$1:I.Map(function(d_){return(function(d$){return function(ea){return d$(a.String(ea));};}(a.id))(d_.nRefActivos);},d4)}).WithHole({$:2,$0:"descendientes",$1:I.Map(function(d_){return(function(d$){return function(ea){return d$(a.String(ea));};}(a.id))(d_.nDescendientes);},d4)}).WithHole({$:2,$0:"desactivos",$1:I.Map(function(d_){return(function(d$){return function(ea){return d$(a.String(ea));};}(a.id))(d_.nDescActivos);},d4)}).WithHole({$:2,$0:"comision",$1:I.Map(function(d_){return l.money(d_[0]+d_[1]);},d5)}).WithHole({$:2,$0:"comreferido",$1:I.Map(function(d_){return l.money(d_[0]);},d5)}).WithHole({$:2,$0:"comdescendiente",$1:I.Map(function(d_){return l.money(d_[1]);},d5)}).WithHole({$:2,$0:"porreferido",$1:I.Map(function(d_){return l.money(d_[0]);},d6)}).WithHole({$:2,$0:"pordescendiente",$1:I.Map(function(d_){return l.money(d_[1]);},d6)}),(d8=K.CompleteHoles(d7.k,d7.h,[]),(d9=new L.New(d8[1],_5.calculo(d8[0])),(d7.i=d9,d9)))).get_Doc();});};q.formaDoc=function(){var d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee;d2=h.Create$1("");d3=h.Create$1(false);d4=h.Create$1(null);d5=h.Create$1(null);d6=h.Create$1(null);d7=h.Create$1(null);d8=be.formaDoc(d4);d9=bf.formaDoc(d5);d_=bg.formaDoc(d6);d$=bh.formaDoc(d7);ea=(eb=(ec=H.Make().WithHole({$:2,$0:"mensajes",$1:I.Map2(function(ef,eg){return ef?eg:"";},d3.get_View(),d2.get_View())}).WithHole({$:0,$0:"datospersonales",$1:d8[1]}).WithHole({$:0,$0:"correo",$1:d9[1]}).WithHole({$:0,$0:"telefono",$1:d_[1]}).WithHole({$:0,$0:"direccion",$1:d$[1]}),ec.WithHole(K.EventQ2(ec.k,"registrarse",function(){return ec.i;},function(){var ef,eg,eh,ei,ej,ek,el,em,en,eo,ep;function eq(er){a.alert(er);}d3.Set(true);ef=d2.Get();bc.Trim(ef)!==""?a.alert(ef):(eg=d4.Get(),eh=d5.Get(),ei=d6.Get(),ej=d7.Get(),eg!=null&&eg.$==1&&(eh!=null&&eh.$==1&&(ei!=null&&ei.$==1&&(ej!=null&&ej.$==1&&(ek=[eh.$0,eg.$0,ej.$0,ei.$0],true))))?(el=ek[0],em=ek[1],en=ek[2],eo=ek[3],bk.iterA(function(er){return eq(bp.summarized(er));},a.ignore,(ep=bj.asyncResultM(),ep.Run(ep.Delay(function(){var er;return ep.Bind$4(J.ejecutarDataEventoNuevo({$:3,$0:[new P({$:0,$0:bc.Substring(bc.Replace((er=bo.NewGuid(),a.String(er)),"-",""),0,20)}),em,{$:1,$0:l.modeloV().Get().idAliado},[{$:1,$0:el},{$:2,$0:eo},{$:0,$0:en}]]}),function(es){bm.refrescarData(true);a.alert((function(et){return function(eu){return et(_6.p$2(eu));};}(a.id))(es));return ep.Zero();});}))))):a.alert("Error not caught FormaRegistro"));}))),(ed=K.CompleteHoles(eb.k,eb.h,[]),(ee=new L.New(ed[1],_5.formaregistro(ed[0])),(eb.i=ee,ee))));I.Sink(function(ef){d2.Set(ef);},I.Apply(I.Apply(I.Map2(function(ef,eg){return function(eh){return function(ei){var ej;ej=bc.concat(", ",_8.delay(function(){return _8.append(ef,_8.delay(function(){return _8.append(eg,_8.delay(function(){return _8.append(eh,_8.delay(function(){return ei;}));}));}));}));return ej!==""?"Campos requeridos: "+ej:"";};};},d8[0],d9[0]),d_[0]),d$[0]));return ea.get_Doc();};r.formaDoc=function(){return l.aliadoIdDoc(r.formaAliado);};r.formaAliado=function(d2){var d3,d4,d5,d6,d7,d8,d9,d_,d$;function ea(ec){return{$:1,$0:ec};}function eb(ec){d5.Set(ec);}d3=h.Create$1("");d4=h.Create$1(false);d5=h.Create$1(null);I.Sink(function(ec){return eb(ea(ec));},I.Map(function(ec){return ec.datosPersonales;},d2));d6=be.formaDoc(d5);d7=(d8=(d9=H.Make().WithHole({$:2,$0:"mensajes",$1:I.Map2(function(ec,ed){return ec?ed:"";},d4.get_View(),d3.get_View())}).WithHole({$:2,$0:"changed",$1:I.Map2(function(ec,ed){return z.Equals({$:1,$0:ec.datosPersonales},ed)?"":"mui-btn--primary";},d2,d5.get_View())}).WithHole({$:0,$0:"datospersonales",$1:d6[1]}),d9.WithHole(K.EventQ2(d9.k,"salvar",function(){return d9.i;},function(){var ec,ed,ee,ef,eg,eh,ei;function ej(ek){a.alert(ek);}d4.Set(true);ec=d3.Get();bc.Trim(ec)!==""?a.alert(ec):(ed=d5.Get(),ee=I.TryGet(d2),ed!=null&&ed.$==1&&(ee!=null&&ee.$==1&&(ef=[ee.$0,ed.$0],true))?(eg=ef[0],eh=ef[1],bk.iterA(function(ek){return ej(bp.summarized(ek));},a.ignore,(ei=bj.asyncResultM(),ei.Run(ei.Delay(function(){return ei.Bind$4(J.ejecutarDataEventoNuevo({$:4,$0:[eg.id,eh]}),function(ek){bm.refrescarData(true);a.alert((function(el){return function(em){return el(_6.p$2(em));};}(a.id))(ek));return ei.Zero();});}))))):a.alert("Error not caught FormaDatos"));}))),(d_=K.CompleteHoles(d8.k,d8.h,[]),(d$=new L.New(d_[1],_5.formadatospersonales(d_[0])),(d8.i=d$,d$))));I.Sink(function(ec){d3.Set(ec);},I.Map(function(ec){var ed;ed=bc.concat(", ",_8.delay(function(){return ec;}));return ed!==""?"Campos requeridos: "+ed:"";},d6[0]));return d7.get_Doc();};s.formaDoc=function(){return l.aliadoIdDoc(s.formaContactos);};s.formaContactos=function(d2){var d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek;function el(em,en){return function(eo){return new cQ.New(I.Map(function(ep){var eq;eq=_8.tryItem(eo,ep);return eq==null?null:em(eq.$0);},d5.get_View()),function(ep){if(ep!=null&&ep.$==1)d5.Set(cb.replace(eo,en(ep.$0),d5.Get()));});};}d3=h.Create$1("");d4=h.Create$1(false);d5=h.Create$1([]);I.Sink(function(em){d5.Set(em);},I.Map(function(em){return em.contactos;},d2));d6=I.Map(_8.indexed,d5.get_View());d7=[function(em){return em.$==2?{$:1,$0:em.$0}:null;},function(em){return{$:2,$0:em};}];d8=[function(em){return em.$==1?{$:1,$0:em.$0}:null;},function(em){return{$:1,$0:em};}];d9=[function(em){return em.$==0?{$:1,$0:em.$0}:null;},function(em){return{$:0,$0:em};}];d_=I.Map(function(em){function en(eo,ep){return d7[0](ep)==null?null:{$:1,$0:eo};}return _8.choose(function(eo){return en(eo[0],eo[1]);},em);},d6);d$=I.Map(function(em){function en(eo,ep){return d8[0](ep)==null?null:{$:1,$0:eo};}return _8.choose(function(eo){return en(eo[0],eo[1]);},em);},d6);ea=I.Map(function(em){function en(eo,ep){return d9[0](ep)==null?null:{$:1,$0:eo};}return _8.choose(function(eo){return en(eo[0],eo[1]);},em);},d6);eb=bV.ConvertBy(a.id,function(em){return bS.removeButton(function(){d5.Set(cb.remove(em,d5.Get()));},(bg.formaDoc((function(en){return el(en[0],en[1]);}(d7))(em)))[1]);},d_);ec=bV.ConvertBy(a.id,function(em){return bS.removeButton(function(){d5.Set(cb.remove(em,d5.Get()));},(bf.formaDoc((function(en){return el(en[0],en[1]);}(d8))(em)))[1]);},d$);ed=bV.ConvertBy(a.id,function(em){return bS.removeButton(function(){d5.Set(cb.remove(em,d5.Get()));},(bh.formaDoc((function(en){return el(en[0],en[1]);}(d9))(em)))[1]);},ea);return(ee=(ef=(eg=(eh=(ei=H.Make().WithHole({$:2,$0:"mensajes",$1:I.Map2(function(em,en){return em?en:"";},d4.get_View(),d3.get_View())}).WithHole({$:2,$0:"changed",$1:I.Map2(function(em,en){return z.Equals(em.contactos,en)?"":"mui-btn--primary";},d2,d5.get_View())}).WithHole({$:0,$0:"telefonos",$1:eb}).WithHole({$:0,$0:"correos",$1:ec}).WithHole({$:0,$0:"direcciones",$1:ed}),ei.WithHole(K.EventQ2(ei.k,"mastelefono",function(){return ei.i;},function(){d5.Set(d5.Get().concat([{$:2,$0:N.telVacio()}]));}))),eh.WithHole(K.EventQ2(eh.k,"mascorreo",function(){return eh.i;},function(){d5.Set(d5.Get().concat([{$:1,$0:N.correoVacio()}]));}))),eg.WithHole(K.EventQ2(eg.k,"masdireccion",function(){return eg.i;},function(){d5.Set(d5.Get().concat([{$:0,$0:N.dirVacio()}]));}))),ef.WithHole(K.EventQ2(ef.k,"salvar",function(){return ef.i;},function(){var em,en,eo,ep;function eq(er){a.alert(er);}d4.Set(true);em=d3.Get();bc.Trim(em)!==""?a.alert(em):(en=I.TryGet(d2),en!=null&&en.$==1?(eo=en.$0,bk.iterA(function(er){return eq(bp.summarized(er));},a.ignore,(ep=bj.asyncResultM(),ep.Run(ep.Delay(function(){return ep.Bind$4(J.ejecutarDataEventoNuevo({$:5,$0:[eo.id,d5.Get()]}),function(er){bm.refrescarData(true);a.alert((function(es){return function(et){return es(_6.p$2(et));};}(a.id))(er));return ep.Zero();});}))))):a.alert("Error not caught FormaDatos"));}))),(ej=K.CompleteHoles(ee.k,ee.h,[]),(ek=new L.New(ej[1],_5.formacontactos(ej[0])),(ee.i=ek,ek)))).get_Doc();};t.formaDoc=function(){return l.aliadoIdDoc(t.formaFormasPago);};t.formaFormasPago=function(d2){var d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee;function ef(eh,ei){return function(ej){return new cQ.New(I.Map(function(ek){var el;el=_8.tryItem(ej,ek);return el==null?null:eh(el.$0);},d5.get_View()),function(ek){if(ek!=null&&ek.$==1)d5.Set(cb.replace(ej,(ei(D.get(d5.Get(),ej)))(ek.$0[0]),d5.Get()));});};}function eg(eh){return bT.New("",_9.Error(""),eh);}d3=h.Create$1("");d4=h.Create$1(false);d5=h.Create$1([]);I.Sink(function(eh){d5.Set(eh);},l.formasPagoAliadoV().get_View());t.refrescarFormasPago();d6=I.Map(_8.indexed,d5.get_View());d7=I.Map(function(eh){function ei(ej,ek){return(t.ftar())[0](ek)==null?null:{$:1,$0:ej};}return _8.choose(function(ej){return ei(ej[0],ej[1]);},eh);},d6);d8=I.Map(function(eh){function ei(ej,ek){return(t.fcta())[0](ek)==null?null:{$:1,$0:ej};}return _8.choose(function(ej){return ei(ej[0],ej[1]);},eh);},d6);d9=bV.ConvertBy(a.id,function(eh){return bS.removeButton(function(){d5.Set(cb.remove(eh,d5.Get()));},(ch.formaDocO((function(ei){return ef(ei[0],ei[1]);}(t.ftar()))(eh)))[1]);},d7);d_=bV.ConvertBy(a.id,function(eh){return bS.removeButton(function(){d5.Set(cb.remove(eh,d5.Get()));},(cg.formaDocO((function(ei){return ef(ei[0],ei[1]);}(t.fcta()))(eh)))[1]);},d8);return(d$=(ea=(eb=(ec=H.Make().WithHole({$:2,$0:"mensajes",$1:I.Map2(function(eh,ei){return eh?ei:"";},d4.get_View(),d3.get_View())}).WithHole({$:0,$0:"tarjetas",$1:d9}).WithHole({$:0,$0:"cuentas",$1:d_}),ec.WithHole(K.EventQ2(ec.k,"mastarjeta",function(){return ec.i;},function(){d5.Set(d5.Get().concat([eg({$:1,$0:N.tarVacio()})]));}))),eb.WithHole(K.EventQ2(eb.k,"mascuenta",function(){return eb.i;},function(){d5.Set(d5.Get().concat([eg({$:0,$0:N.ctaVacio()})]));}))).WithHole({$:2,$0:"changed",$1:I.Map2(function(eh,ei){return z.Equals(eh,ei)?"":"mui-btn--primary";},l.formasPagoAliadoV().get_View(),d5.get_View())}),ea.WithHole(K.EventQ2(ea.k,"salvar",function(){return ea.i;},function(){var eh,ei,ej;function ek(el){a.alert(el);}d4.Set(true);eh=d3.Get();bc.Trim(eh)!==""?a.alert(eh):(ei=I.TryGet(d2),ei!=null&&ei.$==1?bk.iterA(function(el){return ek(bp.summarized(el));},a.ignore,(ej=bj.asyncResultM(),ej.Run(ej.Delay(function(){return ej.Combine$1(ej.For(d5.Get(),function(el){var em,en,eo,ep;em=(en=el.cuentaPago,en.$==1&&(!(en.$0.numero.get_Id().indexOf("X")!=-1)&&(eo=en.$0,true))?{$:1,$0:J.registrarTarjeta(eo)}:en.$==0&&(!(en.$0.numero.get_Id().indexOf("X")!=-1)&&(ep=en.$0,true))?{$:1,$0:J.registrarCuenta(ep)}:null);return em!=null&&em.$==1?ej.Bind$4(em.$0,function(eq){a.alert(a.String(eq));return ej.Zero();}):ej.Zero();}),ej.Delay(function(){t.refrescarFormasPago();return ej.Zero();}));})))):a.alert("Error not caught FormaDatos"));}))),(ed=K.CompleteHoles(d$.k,d$.h,[]),(ee=new L.New(ed[1],_5.formacuentas(ed[0])),(d$.i=ee,ee)))).get_Doc();};t.msg=function(d2){var d3;d3=d2.authorizeIdR;return d3.$==0?(function(d4){return function(d5){return d4("Cuenta verificada: "+_6.p$3(d5));};}(a.id))(d3.$0):d3.$0===""?"La cuenta aun no ha sido verificada":d3.$0;};t.refrescarFormasPago=function(){bk.iterpA(function(d2){l.formasPagoAliadoV().Set(d2);},J.obtenerFormasDePago());};t.fcta=function(){U.$cctor();return U.fcta;};t.ftar=function(){U.$cctor();return U.ftar;};u.FailWith=function(d2){throw new _do(d2);};u.toInt=function(d2){var d3;d3=u.toUInt(d2);return d3>=2147483648?d3-4294967296:d3;};u.range=function(d2,d3){var d4;d4=1+d3-d2;return d4<=0?[]:_8.init(d4,function(d5){return d5+d2;});};u.KeyValue=function(d2){return[d2.K,d2.V];};u.toUInt=function(d2){return(d2<0?dV.ceil(d2):dV.floor(d2))>>>0;};y.GetFields=function(d2){var d3,d4;d3=[];for(var d5 in d2)d3.push([d5,d2[d5]]);return d3;};y.GetFieldValues=function(d2){var d3,d4;d3=[];for(var d5 in d2)d3.push(d2[d5]);return d3;};z.Equals=function(d2,d3){var d4,d5,d6,d7;if(d2===d3)return true;else{d4=typeof d2;if(d4=="object"){if(d2===null||d2===void 0||d3===null||d3===void 0)return false;else if("Equals"in d2)return d2.Equals(d3);else if(d2 instanceof a.Array&&d3 instanceof a.Array)return z.arrayEquals(d2,d3);else if(d2 instanceof a.Date&&d3 instanceof a.Date)return z.dateEquals(d2,d3);else{d5=[true];for(var d8 in d2)if(function(d9){d5[0]=!d2.hasOwnProperty(d9)||d3.hasOwnProperty(d9)&&z.Equals(d2[d9],d3[d9]);return!d5[0];}(d8))break;if(d5[0]){for(var d9 in d3)if(function(d_){d5[0]=!d3.hasOwnProperty(d_)||d2.hasOwnProperty(d_);return!d5[0];}(d9))break;}return d5[0];}}else return d4=="function"&&("$Func"in d2?d2.$Func===d3.$Func&&d2.$Target===d3.$Target:"$Invokes"in d2&&"$Invokes"in d3&&z.arrayEquals(d2.$Invokes,d3.$Invokes));}};z.arrayEquals=function(d2,d3){var d4,d5;if(D.length(d2)===D.length(d3)){d4=true;d5=0;while(d4&&d5<D.length(d2)){!z.Equals(D.get(d2,d5),D.get(d3,d5))?d4=false:void 0;d5=d5+1;}return d4;}else return false;};z.dateEquals=function(d2,d3){return d2.getTime()===d3.getTime();};z.Compare=function(d2,d3){var d4,d5,d6,d7,d8,d9;if(d2===d3)return 0;else{d5=typeof d2;switch(d5=="function"?1:d5=="boolean"?2:d5=="number"?2:d5=="string"?2:d5=="object"?3:0){case 0:return typeof d3=="undefined"?0:-1;case 1:return u.FailWith("Cannot compare function values.");case 2:return d2<d3?-1:1;case 3:if(d2===null)d6=-1;else if(d3===null)d6=1;else if("CompareTo"in d2)d6=d2.CompareTo(d3);else if("CompareTo0"in d2)d6=d2.CompareTo0(d3);else if(d2 instanceof a.Array&&d3 instanceof a.Array)d6=z.compareArrays(d2,d3);else if(d2 instanceof a.Date&&d3 instanceof a.Date)d6=z.compareDates(d2,d3);else{d7=[0];for(var d_ in d2)if(function(d$){return!d2.hasOwnProperty(d$)?false:!d3.hasOwnProperty(d$)?(d7[0]=1,true):(d7[0]=z.Compare(d2[d$],d3[d$]),d7[0]!==0);}(d_))break;if(d7[0]===0){for(var d$ in d3)if(function(ea){return!d3.hasOwnProperty(ea)?false:!d2.hasOwnProperty(ea)&&(d7[0]=-1,true);}(d$))break;}d6=d7[0];}return d6;}}};z.compareArrays=function(d2,d3){var d4,d5;if(D.length(d2)<D.length(d3))return -1;else if(D.length(d2)>D.length(d3))return 1;else{d4=0;d5=0;while(d4===0&&d5<D.length(d2)){d4=z.Compare(D.get(d2,d5),D.get(d3,d5));d5=d5+1;}return d4;}};z.compareDates=function(d2,d3){return z.Compare(d2.getTime(),d3.getTime());};z.Hash=function(d2){var d3;d3=typeof d2;return d3=="function"?0:d3=="boolean"?d2?1:0:d3=="number"?d2:d3=="string"?z.hashString(d2):d3=="object"?d2==null?0:d2 instanceof a.Array?z.hashArray(d2):z.hashObject(d2):0;};z.hashString=function(d2){var d3,d4,d5;if(d2===null)return 0;else{d3=5381;for(d4=0,d5=d2.length-1;d4<=d5;d4++)d3=z.hashMix(d3,d2[d4].charCodeAt());return d3;}};z.hashArray=function(d2){var d3,d4,d5;d3=-34948909;for(d4=0,d5=D.length(d2)-1;d4<=d5;d4++)d3=z.hashMix(d3,z.Hash(D.get(d2,d4)));return d3;};z.hashObject=function(d2){var d3,d4;if("GetHashCode"in d2)return d2.GetHashCode();else{d3=[0];for(var d5 in d2)if(function(d6){d3[0]=z.hashMix(z.hashMix(d3[0],z.hashString(d6)),z.Hash(d2[d6]));return false;}(d5))break;return d3[0];}};z.hashMix=function(d2,d3){return(d2<<5)+d2+d3;};A.newLyt=function(d2,d3){return bw.New(d2,h.Create$1(d3));};A.addLayout=function(d2){I.Sink(function(d3){var d4;d4=A.createEntries(d2.lytName,d3);j.addPlugIn(k.New(d2.lytName,D.ofSeq(_8.delay(function(){return _8.append([j.newVar("Layout",d2.lytDefinition)],_8.delay(function(){return A.getVarEntries(d4);}));})),[],D.ofSeq(_8.delay(function(){return _8.append(A.getDocEntries(d4),_8.delay(function(){var d5;return _8.append([j.newDocF("InputFile",{$:4,$0:(d5=d2.lytName,dU.Curried(A.inputFile,4,[d5])),$1:"attrs",$2:"Label",$3:"Action",$4:"[Doc]"})],_8.delay(function(){var d6;return _8.append([j.newDocF("InputLabel",{$:3,$0:(d6=d2.lytName,dU.Curried(A.inputLabel,3,[d6])),$1:"attrs",$2:"Label",$3:"Var"})],_8.delay(function(){return[j.newDocF("none",{$:1,$0:A.none,$1:"x"})];}));}));}));})),[],[]));j.mainDocV().Set(j.mainDocV().Get());},d2.lytDefinition.get_View());};A.splitName=function(){bx.$cctor();return bx.splitName;};A.getDocFinal=function(d2,d3){var d4;d4=A.getDocF(d2,d3);return d4[1].$==0?d4[0]:A.errDoc((((dU.Curried3(function(d5,d6,d7){return d5("Too many parameters "+ci.p(d6)+" "+bt.printList(function(d8){return"("+bt.prettyPrint(d8[0])+", "+bt.prettyPrint(d8[1])+")";},d7));}))(a.id))(d3))(d2));};A.errDoc=function(d2){return bV.Element("div",[],[bV.TextNode(d2)]);};A.createEntries=function(d2,d3){return A.processLines(function(d4){return A.createEntryO(d2,d4);},bK.splitByChar("\n",d3));};A.getVarEntries=function(d2){function d3(d4){return d4[1];}return _8.map(function(d4){return _8.last(d3(d4));},_8.groupBy(function(d4){return d4.varName;},_8.choose(function(d4){return d4.$==0?{$:1,$0:d4.$0}:null;},d2)));};A.getDocEntries=function(d2){function d3(d4){return d4[1];}return _8.map(function(d4){return _8.last(d3(d4));},_8.groupBy(function(d4){return d4.docName;},_8.choose(function(d4){return d4.$==2?{$:1,$0:d4.$0}:null;},d2)));};A.inputFile=function(d2,d3,d4,d5,d6){var d7,d8,d9,d_;d7=(d8=(d9=((A.splitName())(d2))(d5),j.tryGetAct(d9[0],d9[1])),d8==null?null:{$:1,$0:(d_=d8.$0,bV.Element("div",A.getAttrs(d2,d3,true),[bV.Element("div",[ct.Create("class","input-group")],[bV.Element("span",[ct.Create("class","input-group-btn")],[bV.Element("label",[ct.Create("class","btn")],[A.getText(d2,d4,true),bV.Element("input",[ct.Create("class","form-control"),ct.Create("type","file"),co.Style("display","none"),ct.HandlerImpl("click",function(d$){return function(){d$.value="";};}),ct.HandlerImpl("change",function(d$){return function(){return j.callFunction(d$,null,d_.actFunction);};})],[])])]),d6!==""?A.singleDoc(d2,br.ofArray([[d6,false]])):bV.get_Empty()])]))});return d7==null?A.errDoc((function(d$){return function(ea){return d$("Action not found "+bt.toSafe(ea));};}(a.id))(d5)):d7.$0;};A.inputLabel=function(d2,d3,d4,d5){var d6,d7,d8;d6=(d7=(d8=((A.splitName())(d2))(d5),j.tryGetVar(d8[0],d8[1])),d7==null?null:{$:1,$0:bV.Element("div",A.getAttrs(d2,d3,true),[bV.Element("div",[ct.Create("class","input-group")],[bV.Element("span",[ct.Create("class","input-group-addon")],[A.getText(d2,d4,true)]),bV.Input([ct.Create("class","form-control")],d7.$0.varVar)])])});return d6==null?A.errDoc((function(d9){return function(d_){return d9("Var not found "+bt.toSafe(d_));};}(a.id))(d5)):d6.$0;};A.none=function(d2){return bV.Element("span",[],[]);};A.getDocF=function(d2,d3){var d4,d5;d5=d3.docDoc;switch(d5.$==1?d2.$==1?(d4=[d5.$0,d2.$0[0],d2.$1],1):6:d5.$==2?d2.$==1?d2.$1.$==1?(d4=[d5.$0,d2.$0[0],d2.$1.$0[0],d2.$1.$1],2):6:6:d5.$==3?d2.$==1?d2.$1.$==1?d2.$1.$1.$==1?(d4=[d5.$0,d2.$0[0],d2.$1.$0[0],d2.$1.$1.$0[0],d2.$1.$1.$1],3):6:6:6:d5.$==4?d2.$==1?d2.$1.$==1?d2.$1.$1.$==1?d2.$1.$1.$1.$==1?(d4=[d5.$0,d2.$0[0],d2.$1.$0[0],d2.$1.$1.$0[0],d2.$1.$1.$1.$0[0],d2.$1.$1.$1.$1],4):6:6:6:6:d5.$==5?d2.$==1?d2.$1.$==1?d2.$1.$1.$==1?d2.$1.$1.$1.$==1?d2.$1.$1.$1.$1.$==1?(d4=[d5.$0,d2.$0[0],d2.$1.$0[0],d2.$1.$1.$0[0],d2.$1.$1.$1.$0[0],d2.$1.$1.$1.$1.$0[0],d2.$1.$1.$1.$1.$1],5):6:6:6:6:6:(d4=[d5.$0,d2],0)){case 0:return[d4[0].f(),d4[1]];case 1:return[d4[0](d4[1]),d4[2]];case 2:return[(d4[0](d4[1]))(d4[2]),d4[3]];case 3:return[((d4[0](d4[1]))(d4[2]))(d4[3]),d4[4]];case 4:return[(((d4[0](d4[1]))(d4[2]))(d4[3]))(d4[4]),d4[5]];case 5:return[((((d4[0](d4[1]))(d4[2]))(d4[3]))(d4[4]))(d4[5]),d4[6]];case 6:return[bV.Element("div",[],[bV.TextNode((((dU.Curried3(function(d6,d7,d8){return d6("Parameters do not coincide with definition "+ci.p(d7)+" - "+bt.printList(function(d9){return"("+bt.prettyPrint(d9[0])+", "+bt.prettyPrint(d9[1])+")";},d8));}))(a.id))(d3))(d2))]),bs.Empty];}};A.processLines=function(d2,d3){function d4(d5){var d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh;d6=_8.tryHead(d5);return d6!=null&&d6.$==1?(d7=d6.$0,(d8=A.splitTokens(d7),d8.$==1&&(d_=(d$=d8.$0,A.Identifier(d$[0],d$[1])),d_!=null&&d_.$==1&&(d8.$1.$==1&&((ea=d8.$1.$0,A.Vertical(ea[0],ea[1])).$==2&&(d8.$1.$1.$==0&&(d9=d_.$0,true)))))?(eb=A.getExtraLines(function(ei){return bc.StartsWith(bc.Trim(ei),"|");},d5),d4((cS.createLayoutDefinitions(d9,cS.extractNodes(eb[0])))[1].concat(eb[1]))):d8.$==0?d4(bL.array(d5,{$:1,$0:1},null)):(ec=A.getExtraLines(function(ei){return bc.StartsWith(bc.Trim(ei),":");},d5),(ed=ec[1],(ee=ec[0],D.length(ee)>0?((function(ei){return function(ej){return ei("l = ;"+bt.toSafe(ej)+";");};}(function(ei){dW.log(ei);}))(d7),ef=A.createLines(_8.nth(0,bc.SplitChars(d7,[" "],1)),1,[],[],1,ee),eg=ef[0],eh=ef[1],d4(D.ofSeq(_8.delay(function(){return _8.append([d7+" "+bc.concat(" ",eg)],_8.delay(function(){return _8.append(eh,_8.delay(function(){return ed;}));}));})))):D.ofSeq(_8.delay(function(){var ei;return _8.append((ei=d2(d7),ei!=null&&ei.$==1?[ei.$0]:[]),_8.delay(function(){return d4(ed);}));}))))))):[];}return d4(d3);};A.createEntryO=function(d2,d3){var d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4,e5;try{d4=A.splitTokens(d3);return d4.$==1&&(d6=(d7=d4.$0,A.Identifier(d7[0],d7[1])),d6!=null&&d6.$==1&&(d4.$1.$==1&&((d8=d4.$1.$0,A.Vertical(d8[0],d8[1])).$==0&&(d4.$1.$1.$==1&&(d9=(d_=d4.$1.$1.$0,A.Measures$1(d_[0],d_[1])),d9!=null&&d9.$==1&&(d5=[d4.$1.$1.$1,d9.$0,d6.$0],true))))))?(d$=d5[2],A.entryDoc(d$,(A.createSplitterM())([d2,d$,true,d5[1],d5[0]]))):d4.$==1&&(eb=(ec=d4.$0,A.Identifier(ec[0],ec[1])),eb!=null&&eb.$==1&&(d4.$1.$==1&&((ed=d4.$1.$0,A.Vertical(ed[0],ed[1])).$==1&&(d4.$1.$1.$==1&&(ee=(ef=d4.$1.$1.$0,A.Measures$1(ef[0],ef[1])),ee!=null&&ee.$==1&&(ea=[d4.$1.$1.$1,ee.$0,eb.$0],true))))))?(eg=ea[2],A.entryDoc(eg,(A.createSplitterM())([d2,eg,false,ea[1],ea[0]]))):d4.$==1&&(ei=(ej=d4.$0,A.Identifier(ej[0],ej[1])),ei!=null&&ei.$==1&&(d4.$1.$==1&&((ek=d4.$1.$0,A.Var(ek[0],ek[1])).$==2&&(d4.$1.$1.$==1&&(el=(em=d4.$1.$1.$0,A.Identifier(em[0],em[1])),el!=null&&el.$==1&&(d4.$1.$1.$1.$==1&&(d4.$1.$1.$1.$1.$==1&&(d4.$1.$1.$1.$1.$1.$==0&&(eh=[el.$0,d4.$1.$1.$1.$0,ei.$0,d4.$1.$1.$1.$1.$0],true)))))))))?(en=eh[2],A.entryDoc(en,(A.createButtonM())([d2,en,eh[0],eh[1],eh[3]]))):d4.$==1&&(ep=(eq=d4.$0,A.Identifier(eq[0],eq[1])),ep!=null&&ep.$==1&&(d4.$1.$==1&&((er=d4.$1.$0,A.Var(er[0],er[1])).$==3&&(d4.$1.$1.$==1&&(es=(et=d4.$1.$1.$0,A.Identifier(et[0],et[1])),es!=null&&es.$==1&&(d4.$1.$1.$1.$==1&&(d4.$1.$1.$1.$1.$==0&&(eo=[d4.$1.$1.$1.$0,ep.$0,es.$0],true))))))))?(eu=eo[1],A.entryDoc(eu,(A.createInputM())([d2,eu,eo[2],eo[0]]))):d4.$==1&&(ew=(ex=d4.$0,A.Identifier(ex[0],ex[1])),ew!=null&&ew.$==1&&(d4.$1.$==1&&((ey=d4.$1.$0,A.Var(ey[0],ey[1])).$==4&&(d4.$1.$1.$==1&&(ez=(eA=d4.$1.$1.$0,A.Identifier(eA[0],eA[1])),ez!=null&&ez.$==1&&(d4.$1.$1.$1.$==1&&(d4.$1.$1.$1.$1.$==0&&(ev=[d4.$1.$1.$1.$0,ew.$0,ez.$0],true))))))))?(eB=ev[1],A.entryDoc(eB,(A.createTextAreaM())([d2,eB,ev[2],ev[0]]))):d4.$==1&&(eD=(eE=d4.$0,A.Identifier(eE[0],eE[1])),eD!=null&&eD.$==1&&(d4.$1.$==1&&((eF=d4.$1.$0,A.Var(eF[0],eF[1])).$==0&&(d4.$1.$1.$==1&&(d4.$1.$1.$1.$==0&&(eC=[eD.$0,d4.$1.$1.$0],true))))))?(eG=eC[0],A.entryVar(eG,(A.createVarM())([d2,eG,eC[1][0]]))):d4.$==1&&(eI=(eJ=d4.$0,A.Identifier(eJ[0],eJ[1])),eI!=null&&eI.$==1&&(d4.$1.$==1&&((eK=d4.$1.$0,A.Var(eK[0],eK[1])).$==1&&(d4.$1.$1.$==1&&(eH=[d4.$1.$1.$0,eI.$0,d4.$1.$1.$1],true)))))?(eL=eH[1],A.entryDoc(eL,(A.createDocM())([d2,eL,eH[0][0],eH[2]]))):d4.$==1&&(eN=(eO=d4.$0,A.Identifier(eO[0],eO[1])),eN!=null&&eN.$==1&&(d4.$1.$==1&&((eP=d4.$1.$0,A.Vertical(eP[0],eP[1])).$==4&&(d4.$1.$1.$==1&&(d4.$1.$1.$1.$==1&&(eM=[d4.$1.$1.$1.$0,d4.$1.$1.$1.$1,eN.$0,d4.$1.$1.$0],true))))))?(eQ=eM[2],A.entryDoc(eQ,(A.createTemplateM())([d2,eQ,eM[3],eM[0],eM[1]]))):d4.$==1&&(eS=(eT=d4.$0,A.Identifier(eT[0],eT[1])),eS!=null&&eS.$==1&&(d4.$1.$==1&&((eU=d4.$1.$0,A.Concat(eU[0],eU[1])).$==0&&(eR=[d4.$1.$1,eS.$0],true))))?(eV=eR[1],A.entryDoc(eV,(A.createConcatM())([d2,eV,eR[0]]))):d4.$==1&&(eX=(eY=d4.$0,A.Identifier(eY[0],eY[1])),eX!=null&&eX.$==1&&(d4.$1.$==1&&((eZ=d4.$1.$0,A.Vertical(eZ[0],eZ[1])).$==3&&(d4.$1.$1.$==1&&(d4.$1.$1.$1.$==1&&(d4.$1.$1.$1.$1.$==1&&(eW=[d4.$1.$1.$1.$1.$0,d4.$1.$1.$0,d4.$1.$1.$1.$1.$1,eX.$0,d4.$1.$1.$1.$0],true)))))))?null:d4.$==1&&(e1=(e2=d4.$0,A.Identifier(e2[0],e2[1])),e1!=null&&e1.$==1&&(d4.$1.$==1&&(e3=(e4=d4.$1.$0,A.Vertical(e4[0],e4[1])),e3.$==5&&(d4.$1.$1.$==1&&(e0=[d4.$1.$1.$0,d4.$1.$1.$1,e3.$0,e1.$0],true)))))?(e5=e0[3],A.entryDoc(e5,(A.createElementM())([d2,e5,e0[2],e0[0],e0[1]]))):null;}catch(e6){((function(e7){return function(e8){return e7(bt.prettyPrint(e8));};}(function(e7){dW.log(e7);}))(e6));return null;}};A.getAttrs=function(d2,d3,d4){var d5;d5=[d3,d4];return br.ofSeq(_8.delay(function(){return _8.append(_8.choose(function(d6){var d7,d8,d9,d_,d$,ea;return!z.Equals(d6,null)&&d6.length===2&&(d8=D.get(d6,1),bc.Trim(D.get(d6,0))!==""&&bc.Trim(d8)!=="")?(d9=D.get(d6,1),(d_=D.get(d6,0),{$:1,$0:(d$=A.getTextData(d2,bc.Trim(d9)),d$.$==1?co.Dynamic(bc.Trim(d_),d$.$0):d$.$==2?(ea=d$.$0,co.Handler(bc.Trim(d_),function(eb){return function(ec){return j.callFunction(eb,ec,ea.actFunction);};})):ct.Create(bc.Trim(d_),bc.Trim(d$.$0)))})):null;},_8.map(function(d6){return bK.splitByChar("=",d6);},bK.splitByChar(";",d5[0]))),_8.delay(function(){return _8.choose(function(d6){var d7,d8,d9,d_,d$;return!z.Equals(d6,null)&&d6.length===2&&(d8=D.get(d6,1),bc.Trim(D.get(d6,0))!==""&&bc.Trim(d8)!=="")?(d9=D.get(d6,1),(d_=D.get(d6,0),{$:1,$0:(d$=A.getTextData(d2,bc.Trim(d9)),d$.$==1?co.DynamicStyle(bc.Trim(d_),d$.$0):d$.$==2?co.Style(bc.Trim(d_),(function(ea){return function(eb){return ea("${"+bt.toSafe(eb)+"}");};}(a.id))(d$.$0.actName)):co.Style(bc.Trim(d_),bc.Trim(d$.$0)))})):null;},_8.map(function(d6){return bK.splitByChar(":",d6);},bK.splitByChar(";",d5[0])));}));}));};A.getText=function(d2,d3,d4){var d5,d6,d7,d8,d9,d_,d$,ea,eb;d5=A.Identifier(d3,d4);return d5!=null&&d5.$==1?(d6=d5.$0,(d7=((A.splitName())(d2))(d6),(d8=d7[0],(d9=d7[1],(d_=(d$=j.tryGetViw(d8,d9),d$==null?null:{$:1,$0:bV.TextView(d$.$0.viwView)}),d_==null?(ea=(eb=j.tryGetVar(d8,d9),eb==null?null:{$:1,$0:bV.TextView(eb.$0.varVar.get_View())}),ea==null?bV.TextNode(d6):ea.$0):d_.$0))))):bV.TextNode(d3);};A.singleDoc=function(d2,d3){return bV.EmbedView(I.Map(function(d4){var d5;return d4.$==1&&(d4.$1.$==0&&(d5=d4.$0,true))?d5:A.errDoc((function(d6){return function(d7){return d6("expected exactly 1 element "+bt.printList(function(d8){return"("+bt.prettyPrint(d8[0])+", "+bt.prettyPrint(d8[1])+")";},d7));};}(a.id))(d3));},I.Map(function(){return A.getDocs(d2,d3);},j.mainDocV().get_View())));};A.createSplitter=function(d2,d3,d4,d5,d6){var d7;d7=A.pairOfDocs(d2,d6);return d5.$==1?A.variableSplitter(d4,d5.$0,d5.$1,d5.$2,d7[0],d7[1]):A.fixedSplitter(d4,d5.$0,d5.$1,d7[0],d7[1]);};A.createButton=function(d2,d3,d4,d5,d6){return A.turnToView(function(){var d7,d8,d9,d_,d$;function ea(eb,ec){return j.callFunction(null,null,eb.actFunction);}d7=(d8=(d9=(d_=((A.splitName())(d2))(d4),j.tryGetAct(d_[0],d_[1])),d9==null?null:{$:1,$0:(d$=d9.$0,function(eb){return ea(d$,eb);})}),d8==null?a.ignore:d8.$0);return bV.Button(d6[0],A.getAttrs(d2,d5[0],d5[1]),d7);});};A.createInput=function(d2,d3,d4,d5){return A.turnToView(function(){var d6,d7,d8,d9,d_;d6=(d7=(d8=((A.splitName())(d2))(d4),j.tryGetVoV(d8[0],d8[1])),(d9=(d_=A.getAttrs(d2,d5[0],d5[1]),function(d$){return bV.Input(d_,d$);}),d7==null?null:{$:1,$0:d9(d7.$0)}));return d6==null?A.errDoc((function(d$){return function(ea){return d$("Missing var: "+bt.toSafe(ea));};}(a.id))(d4)):d6.$0;});};A.createTextArea=function(d2,d3,d4,d5){return A.turnToView(function(){var d6,d7,d8,d9,d_;d6=(d7=(d8=((A.splitName())(d2))(d4),j.tryGetVoV(d8[0],d8[1])),(d9=(d_=A.getAttrs(d2,d5[0],d5[1]),function(d$){return bV.InputArea(d_,d$);}),d7==null?null:{$:1,$0:d9(d7.$0)}));return d6==null?A.errDoc((function(d$){return function(ea){return d$("Missing var: "+bt.toSafe(ea));};}(a.id))(d4)):d6.$0;});};A.createElement=function(d2,d3,d4,d5,d6){var d7;d7=[A.turnToView(function(){return bV.Concat(A.getDocs(d2,d6));})];return bV.Element(d4,A.getAttrs(d2,d5[0],d5[1]),d7);};A.createDoc=function(d2,d3,d4,d5){return A.turnToView(function(){var d6,d7,d8;d6=(d7=(d8=((A.splitName())(d2))(d4),j.tryGetDoc(d8[0],d8[1])),d7==null?null:{$:1,$0:A.getDocFinal(d5,d7.$0)});return d6==null?A.errDoc((function(d9){return function(d_){return d9("Missing doc: "+bt.toSafe(d_));};}(a.id))(d4)):d6.$0;});};A.createTemplate=function(d2,d3,d4,d5,d6){return A.turnToView(function(){var d7,d8,d9,d_,d$,ea;d9=A.getAttrs(d2,d5[0],d5[1]);cx.LoadLocalTemplates("local");function eb(ed,ee){var ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq;ef=A.Identifier(ee[0],ee[1]);return ef!=null&&ef.$==1?(eg=ef.$0,eh=ed[0],ei=(ej=(ek=(el=((A.splitName())(d2))(eg),j.tryGetDoc(el[0],el[1])),ek==null?null:{$:1,$0:{$:0,$0:eh,$1:(A.getDocF(bs.Empty,ek.$0))[0]}}),ej==null?(em=(en=((A.splitName())(d2))(eg),j.tryGetVar(en[0],en[1])),em==null?null:{$:1,$0:{$:8,$0:eh,$1:em.$0.varVar}}):ej),ei==null?{$:0,$0:eh,$1:A.errDoc((function(er){return function(es){return er("Missing element: "+bt.toSafe(es));};}(a.id))(eg))}:ei.$0):(eo=ed[0],ep=A.getTextData(d2,ee[0]),ep.$==1?{$:2,$0:eo,$1:ep.$0}:ep.$==2?(eq=ep.$0,{$:4,$0:eo,$1:function(er){return function(es){return j.callFunction(er,es,eq.actFunction);};}}):{$:1,$0:eo,$1:ep.$0});}function ec(ed,ee){return ed%2===0;}try{d8={$:1,$0:(d_=(d$=_8.map(function(ed){return eb(ed[0],ed[1]);},_8.map(function(ed){return ed[1];},_8.filter(function(ed){return ec(ed[0],ed[1]);},_8.indexed(_8.pairwise(d6))))),(_8.isEmpty(d9)?a.id:(ea=[{$:3,$0:"attrs",$1:ct.Concat(d9)}],function(ed){return _8.append(ea,ed);}))(d$)),cx.NamedTemplate("local",{$:1,$0:d4[0]},d_))};}catch(ed){d8=null;}return d8==null?A.errDoc((function(ee){return function(ef){return ee("Missing template: "+bt.toSafe(ef));};}(a.id))(d4[0])):d8.$0;});};A.createConcat=function(d2,d3,d4){return A.turnToView(function(){return bV.Concat(A.getDocs(d2,d4));});};A.createVar=function(d2,d3,d4){return h.Create$1(d4);};A.addNewLayout=function(d2,d3){var d4,d5;A.addLayout((d4=(d5=!z.Equals(d3,null)?d3:"\r\n            split horizontal 0-50-100 AppFramework.AppFwkClient Hello\r\n            Hello h1 \"color:blue; class=btn-primary\" \"How are you today?\" Ask\r\n            Ask Doc InputLabel \"placeholder=Type you answer here...\" \"Answer:\" AppFramework.mainDocV  \r\n            ",(bK.unindentStr())(d5)),A.newLyt(!z.Equals(d3,null)?d2:"Lyt_"+bc.Replace(a.String(bo.NewGuid()),"-",""),d4)));};A.splitTokens=function(d2){return br.ofSeq(_8.collect(a.id,_8.mapi(function(d3,d4){var d5;return d3%2===1?[[d4,true]]:(d5=bc.Trim(d4),d5===""?[]:D.map(function(d6){return[d6,false];},bc.SplitChars(d5,[" "],1)));},bK.splitByChar("\"",d2))));};A.Identifier=function(d2,d3){var d4,d5,d6;return(d5=i.REGEX$1("^[$a-zA-Z_][0-9a-zA-Z_\\.\\-$]*$","",d2),d5!=null&&d5.$==1&&((d6=d5.$0,!z.Equals(d6,null)&&d6.length===1)&&(d3?false:(d4=D.get(d5.$0,0),true))))?{$:1,$0:d4}:null;};A.Vertical=function(d2,d3){var d4,d5,d6,d7,d8,d9;return(d3?false:d2==="vertical")?{$:0,$0:null}:(d3?false:d2==="horizontal")?{$:1,$0:null}:(d3?false:d2==="layout")?{$:2,$0:null}:(d3?false:d2==="grid")?{$:3,$0:null}:(d3?false:d2==="template")?{$:4,$0:null}:(d9=A.Identifier(d2,d3),d9!=null&&d9.$==1?{$:5,$0:d9.$0}:{$:6,$0:null});};A.getExtraLines=function(d2,d3){var d4,d5,d6,d7;d4=(d5=(d6=_8.tryFindIndex(function(d8){return bc.Trim(d8)!==""&&!d2(d8);},_8.skip(1,d3)),d6==null?null:{$:1,$0:1+d6.$0}),(d7=D.length(d3),d5==null?d7:d5.$0));return[bL.array(d3,{$:1,$0:1},{$:1,$0:d4-1}),bL.array(d3,{$:1,$0:d4},null)];};A.createLines=function(d2,d3,d4,d5,d6,d7){var d8,d9,d_,d$,ea,eb,ec,ed,ee,ef;d8=bc.replicate(d3,":");d9=":"+d8;d_=_8.tryHead(d7);return d_!=null&&d_.$==1?(d$=bK.StartsWith(d8,bc.Trim(d_.$0)),d$!=null&&d$.$==1?(ea=d$.$0,(eb=A.getExtraLines(function(eg){return bc.StartsWith(bc.Trim(eg),d9);},d7),(ec=(((dU.Curried3(function(eg,eh,ei){return eg(bt.toSafe(eh)+"_"+a.String(ei));}))(a.id))(d2))(d6),(ed=A.createLines(ec,d3+1,[],[],1,eb[0]),(ee=ed[1],(ef=ed[0],A.createLines(d2,d3,D.ofSeq(_8.delay(function(){return _8.append(d4,_8.delay(function(){return[ec];}));})),D.ofSeq(_8.delay(function(){return _8.append(d5,_8.delay(function(){return _8.append([ec+" "+ea+" "+bc.concat(" ",ef)],_8.delay(function(){return ee;}));}));})),d6+1,eb[1]))))))):[d4,d5]):[d4,d5];};A.Measures$1=function(d2,d3){var d4,d5,d6,d7,d8,d9,d_,d$,ea,eb;d4=[d2,d3];return d4[1]?null:(d5=bK.splitByChar("-",d4[0]),!z.Equals(d5,null)&&d5.length===1&&(d7=(b2.Double())(D.get(d5,0)),d7!=null&&d7.$==1&&(d6=d7.$0,true))?{$:1,$0:new c7({$:0,$0:d6,$1:true})}:!z.Equals(d5,null)&&d5.length===2&&(D.get(d5,0)===""&&(d9=(b2.Double())(D.get(d5,1)),d9!=null&&d9.$==1&&(d8=d9.$0,true)))?{$:1,$0:new c7({$:0,$0:d8,$1:false})}:!z.Equals(d5,null)&&d5.length===3&&(d$=(b2.Double())(D.get(d5,0)),d$!=null&&d$.$==1&&(ea=(b2.Double())(D.get(d5,1)),ea!=null&&ea.$==1&&(eb=(b2.Double())(D.get(d5,2)),eb!=null&&eb.$==1&&(d_=[eb.$0,d$.$0,ea.$0],true))))?{$:1,$0:new c7({$:1,$0:d_[1],$1:d_[2],$2:d_[0]})}:null);};A.entryDoc=function(d2,d3){return{$:1,$0:{$:2,$0:j.newDoc(d2,n.Create(function(){return d3;}))}};};A.createSplitterM=function(){bx.$cctor();return bx.createSplitterM;};A.Var=function(d2,d3){var d4,d5,d6,d7,d8,d9;return(d3?false:d2==="Var")?{$:0,$0:null}:(d3?false:d2==="Doc")?{$:1,$0:null}:(d3?false:d2==="button")?{$:2,$0:null}:(d3?false:d2==="input")?{$:3,$0:null}:(d3?false:d2==="textarea")?{$:4,$0:null}:(d3?false:d2==="select")?{$:5,$0:null}:{$:6,$0:null};};A.createButtonM=function(){bx.$cctor();return bx.createButtonM;};A.createInputM=function(){bx.$cctor();return bx.createInputM;};A.createTextAreaM=function(){bx.$cctor();return bx.createTextAreaM;};A.entryVar=function(d2,d3){return{$:1,$0:{$:0,$0:j.newVar(d2,d3)}};};A.createVarM=function(){bx.$cctor();return bx.createVarM;};A.createDocM=function(){bx.$cctor();return bx.createDocM;};A.createTemplateM=function(){bx.$cctor();return bx.createTemplateM;};A.Concat=function(d2,d3){var d4;return(d3?false:d2==="concat")?{$:0,$0:null}:{$:1,$0:null};};A.createConcatM=function(){bx.$cctor();return bx.createConcatM;};A.createElementM=function(){bx.$cctor();return bx.createElementM;};A.getTextData=function(d2,d3){var d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee;d4=(d5=bK.delimitedO("@{","}",d3),d5==null?null:{$:1,$0:(d6=d5.$0,(d7=d6[0],(d8=d6[1],(d9=d6[2],(d_=((A.splitName())(d2))(d8),(d$=d_[0],(ea=d_[1],(eb=(ec=j.tryGetWoW(d$,ea),ec==null?null:{$:1,$0:function(ef){var eg,eh;eh=A.getTextData(d2,d9);switch(d7===""?eh.$==1?(eg=eh.$0,2):eh.$==2?(eg=eh.$0,3):eh.$0===""?0:(eg=eh.$0,1):eh.$==1?(eg=eh.$0,2):eh.$==2?(eg=eh.$0,3):(eg=eh.$0,1)){case 0:return{$:1,$0:ef};case 1:return{$:1,$0:I.Map(function(ei){return d7+ei+eg;},ef)};case 2:return{$:1,$0:I.Map2(function(ei,ej){return d7+ei+ej;},ef,eg)};case 3:return{$:2,$0:eg};}}(ec.$0)}),eb==null?(ed=(ee=j.tryGetAct(d$,ea),ee==null?null:{$:1,$0:{$:2,$0:ee.$0}}),ed==null?{$:0,$0:((((dU.Curried(function(ef,eg,eh,ei){return ef(bt.toSafe(eg)+" ${Missing "+bt.toSafe(eh)+"}"+bt.toSafe(ei));},4))(a.id))(d7))(d8))(d9)}:ed.$0):eb.$0))))))))});return d4==null?{$:0,$0:d3}:d4.$0;};A.getDocs=function(d2,d3){var d4;return d3.$==0?bs.Empty:(d4=A.getOneDoc(d2,d3),new bs({$:1,$0:d4[0],$1:A.getDocs(d2,d4[1])}));};A.pairOfDocs=function(d2,d3){var d4;d4=I.Map(function(d5){var d6;return d5.$==1&&(d5.$1.$==1&&(d5.$1.$1.$==0&&(d6=[d5.$0,d5.$1.$0],true)))?[d6[0],d6[1]]:[A.errDoc((function(d7){return function(d8){return d7("splitter expects exactly 2 elements "+bt.printList(function(d9){return"("+bt.prettyPrint(d9[0])+", "+bt.prettyPrint(d9[1])+")";},d8));};}(a.id))(d3)),A.errDoc("part 2")];},I.Map(function(){return A.getDocs(d2,d3);},j.mainDocV().get_View()));return[bV.EmbedView(I.Map(function(d5){return d5[0];},d4)),bV.EmbedView(I.Map(function(d5){return d5[1];},d4))];};A.variableSplitter=function(d2,d3,d4,d5,d6,d7){return bV.Element("wcomp-splitter",br.ofSeq(_8.delay(function(){return _8.append(d2?[ct.Create("vertical","")]:[],_8.delay(function(){return _8.append([ct.Create("min",a.String(d3))],_8.delay(function(){return _8.append([ct.Create("value",a.String(d4))],_8.delay(function(){return[ct.Create("max",a.String(d5))];}));}));}));})),br.ofArray([d6,d7]));};A.fixedSplitter=function(d2,d3,d4,d5,d6){var d7,d8,d9,d_,d$,ea,eb;d7=(((d4?dU.Curried3(function(ec,ed,ee){return ec(ed.toFixed(6)+"px calc(100% - "+ee.toFixed(6)+"px)");}):dU.Curried3(function(ec,ed,ee){return ec("calc(100% - "+ed.toFixed(6)+"px) "+ee.toFixed(6)+"px");}))(a.id))(d3))(d3);return d2?(d8=H.Make().WithHole({$:1,$0:"partsizes",$1:d7}).WithHole({$:0,$0:"first",$1:d5}).WithHole({$:0,$0:"second",$1:d6}),(d9=K.CompleteHoles(d8.k,d8.h,[]),(d_=new L.New(d9[1],cj.fixedsplitterver(d9[0])),(d8.i=d_,d_)))).get_Doc():(d$=H.Make().WithHole({$:1,$0:"partsizes",$1:d7}).WithHole({$:0,$0:"first",$1:d5}).WithHole({$:0,$0:"second",$1:d6}),(ea=K.CompleteHoles(d$.k,d$.h,[]),(eb=new L.New(ea[1],cj.fixedsplitterhor(ea[0])),(d$.i=eb,eb)))).get_Doc();};A.turnToView=function(d2){return bV.EmbedView(I.Map(d2,j.mainDocV().get_View()));};A.getOneDoc=function(d2,d3){var d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg;return d3.$==1&&(d5=(d6=d3.$0,A.Identifier(d6[0],d6[1])),d5!=null&&d5.$==1&&(d4=[d5.$0,d3.$1],true))?(d7=d4[0],(d8=d4[1],(d9=((A.splitName())(d2))(d7),(d_=d9[0],(d$=d9[1],(ea=(eb=j.tryGetDoc(d_,d$),eb==null?null:{$:1,$0:A.getDocF(d8,eb.$0)}),ea==null?(ec=(ed=j.tryGetWoW(d_,d$),ed==null?null:{$:1,$0:[bV.TextView(ed.$0),d8]}),ec==null?[A.errDoc((ee=(function(eh){return function(ei){return eh("Missing doc: "+bt.toSafe(ei));};}(a.id))(d7),(_9.print(ee),ee))),d8]:ec.$0):ea.$0)))))):d3.$==0?[bV.get_Empty(),bs.Empty]:(ef=d3.$1,(eg=A.getTextData(d2,d3.$0[0]),eg.$==1?[bV.TextView(eg.$0),ef]:eg.$==2?[A.errDoc((function(eh){return function(ei){return eh("Unexpected action: "+bt.toSafe(ei));};}(a.id))(eg.$0.actName)),ef]:[bV.TextNode(eg.$0),ef]));};B.ofObj=function(d2){return d2==null?null:{$:1,$0:d2};};C=g.Var=dU.Class({},f,C);C.New=dU.Ctor(function(){f.New.call(this);},C);D.get=function(d2,d3){D.checkBounds(d2,d3);return d2[d3];};D.length=function(d2){return d2.dims===2?d2.length*d2.length:d2.length;};D.checkBounds=function(d2,d3){if(d3<0||d3>=d2.length)u.FailWith("Index was outside the bounds of the array.");};D.set=function(d2,d3,d4){D.checkBounds(d2,d3);d2[d3]=d4;};H=G.ProviderBuilder=dU.Class({WithHole:function(d2){this.h.push(d2);return this;}},null,H);H.Make=function(){var d2;return H.New(null,(d2=bo.NewGuid(),a.String(d2)),[]);};H.New=function(d2,d3,d4){return new H({i:d2,k:d3,h:d4});};I.Map=function(d2,d3){return I.CreateLazy(function(){return T.Map(d2,d3());});};I.Sink=function(d2,d3){function d4(){T.WhenRun(d3(),d2,function(){cD.scheduler().Fork(d4);});}cD.scheduler().Fork(d4);};I.Map2=function(d2,d3,d4){return I.CreateLazy(function(){return T.Map2(d2,d3(),d4());});};I.Apply=function(d2,d3){return I.Map2(function(d4,d5){return d4(d5);},d2,d3);};I.Const=function(d2){var d3;d3=T.New({$:0,$0:d2});return function(){return d3;};};I.GetAsync=function(d2){return cD.FromContinuations(function(d3){return I.Get(d3,d2);});};I.CreateLazy=function(d2){var d3;d3={c:null,o:d2};return function(){var d4,d5;d4=d3.c;return d4===null?(d4=d3.o(),d3.c=d4,(d5=d4.s,d5!=null&&d5.$==0)?d3.o=null:T.WhenObsoleteRun(d4,function(){d3.c=null;}),d4):d4;};};I.get_Do=function(){return bR.B;};I.TryGet=function(d2){return T.TryGet(d2());};I.Get=function(d2,d3){var d4;function d5(){T.WhenRun(d3(),function(d6){if(!d4[0]){d4[0]=true;d2(d6);}},function(){if(!d4[0])d5();});}d4=[false];d5();};I.Bind=function(d2,d3){return I.Join(I.Map(d2,d3));};I.MapSeqCachedViewBy=function(d2,d3,d4){var d5;d5=[new bz.New$5()];return I.Map(function(d6){var d7,d8,d9;d7=d5[0];d8=new bz.New$5();d9=c3.mapInPlace(function(d_){var d$,ea,eb;d$=d2(d_);ea=d7.ContainsKey(d$)?(eb=d7.get_Item(d$),(h.Set(eb.r,d_),eb)):I.ConvertSeqNode(function(ec){return d3(d$,ec);},d_);d8.set_Item(d$,ea);return ea.e;},D.ofSeq(d6));d5[0]=d8;return d9;},d4);};I.Join=function(d2){return I.CreateLazy(function(){return T.Join(d2());});};I.ConvertSeqNode=function(d2,d3){var d4,d5;d4=h.Create$1(d3);d5=d4.get_View();return{e:d2(d5),r:d4,w:d5};};I.MapSeqCachedBy=function(d2,d3,d4){var d5;d5=[new bz.New$5()];return I.Map(function(d6){var d7,d8,d9;d7=d5[0];d8=new bz.New$5();d9=c3.mapInPlace(function(d_){var d$,ea;d$=d2(d_);ea=d7.ContainsKey(d$)?d7.get_Item(d$):d3(d_);d8.set_Item(d$,ea);return ea;},D.ofSeq(d6));d5[0]=d8;return d9;},d4);};I.Map2Unit=function(d2,d3){return I.CreateLazy(function(){return T.Map2Unit(d2(),d3());});};I.Map3=function(d2,d3,d4,d5){return I.CreateLazy(function(){return T.Map3(d2,d3(),d4(),d5());});};I.Sequence=function(d2){return I.CreateLazy(function(){return T.Sequence(_8.map(function(d3){return d3();},d2));});};J.llamadas=function(){U.$cctor();return U.llamadas;};J.ejecutarDataEventoNuevo=function(d2){var d3,d4;function d5(d6,d7){var d8;function d9(eb){return dX.stringify((_4.j$4())(eb));}function d_(eb){return dX.stringify((_4.j$1())(eb));}function d$(eb){return(_3.j$4())(dX.parse(eb));}function ea(eb){return(_3.j$1())(dX.parse(eb));}return((d8="ejecutarDataEventoNuevo",[function(eb){var ec,ed,ee;function ef(ei){return b$.invoke(d8,eb,ei);}function eg(ei){return ca.bind(ea,ei);}function eh(ei){return cD.Return(ei);}ec=function(ei){return ef(d9(ei));};ed=(ee=function(ei){return eh(eg(ei));},function(ei){return cD.Bind(ei,ee);});return function(ei){return ed(ec(ei));};},function(eb){b$.registroRpcs().Add(d8,function(ec){return function(ed){var ee;function ef(eg){return cD.Return(eg);}return cD.Bind((ee=bj.asyncResultM(),ee.Run(ee.Delay(function(){var eg;eg=d$(ed);return ee.Bind$4((eb(ec))(eg),function(eh){return ee.Return(eh);});}))),function(eg){return ef(d_(eg));});};});}])[0](d6))(d7);}d3=m.get_LoggedId();d4=bj.asyncResultM();return d4.Run(d4.Delay(function(){function d6(d8){J.setLlamadas(J.llamadas().Get()-1);return d8;}function d7(d8){return cD.Return(d8);}J.setLlamadas(J.llamadas().Get()+1);return d4.Bind$4(cD.Bind(d5(d3,d2),function(d8){return d7(d6(d8));}),function(d8){return d4.Return(d8);});}));};J.enviarCorreosInvitacion=function(d2,d3,d4){var d5,d6,d7;function d8(d9,d_){var d$;function ea(ee){return dX.stringify(((c6.EncodeTuple([c6.Id(),_4.j$5,c6.EncodeArray(c6.Id())]))())(ee));}function eb(ee){return dX.stringify((_4.j$33())(ee));}function ec(ee){return((c6.DecodeTuple([c6.Id(),_3.j$5,c6.DecodeArray(c6.Id())]))())(dX.parse(ee));}function ed(ee){return(_3.j$33())(dX.parse(ee));}return((d$="enviarCorreosInvitacion",[function(ee){var ef,eg,eh;function ei(el){return b$.invoke(d$,ee,el);}function ej(el){return ca.bind(ed,el);}function ek(el){return cD.Return(el);}ef=function(el){return ei(ea(el));};eg=(eh=function(el){return ek(ej(el));},function(el){return cD.Bind(el,eh);});return function(el){return eg(ef(el));};},function(ee){b$.registroRpcs().Add(d$,function(ef){return function(eg){var eh;function ei(ej){return cD.Return(ej);}return cD.Bind((eh=bj.asyncResultM(),eh.Run(eh.Delay(function(){var ej;ej=ec(eg);return eh.Bind$4((ee(ef))(ej),function(ek){return eh.Return(ek);});}))),function(ej){return ei(eb(ej));});};});}])[0](d9))(d_);}d5=m.get_LoggedId();d6=[d2,d3,d4];d7=bj.asyncResultM();return d7.Run(d7.Delay(function(){function d9(d$){J.setLlamadas(J.llamadas().Get()-1);return d$;}function d_(d$){return cD.Return(d$);}J.setLlamadas(J.llamadas().Get()+1);return d7.Bind$4(cD.Bind(d8(d5,d6),function(d$){return d_(d9(d$));}),function(d$){return d7.Return(d$);});}));};J.obtenerUnions=function(){var d2,d3;function d4(d5,d6){var d7;function d8(ea){return dX.stringify(((c6.Id())())(ea));}function d9(ea){return dX.stringify((_4.j$32())(ea));}function d_(ea){return((c6.Id())())(dX.parse(ea));}function d$(ea){return(_3.j$32())(dX.parse(ea));}return((d7="obtenerUnions",[function(ea){var eb,ec,ed;function ee(eh){return b$.invoke(d7,ea,eh);}function ef(eh){return ca.bind(d$,eh);}function eg(eh){return cD.Return(eh);}eb=function(eh){return ee(d8(eh));};ec=(ed=function(eh){return eg(ef(eh));},function(eh){return cD.Bind(eh,ed);});return function(eh){return ec(eb(eh));};},function(ea){b$.registroRpcs().Add(d7,function(eb){return function(ec){var ed;function ee(ef){return cD.Return(ef);}return cD.Bind((ed=bj.asyncResultM(),ed.Run(ed.Delay(function(){var ef;ef=d_(ec);return ed.Bind$4((ea(eb))(ef),function(eg){return ed.Return(eg);});}))),function(ef){return ee(d9(ef));});};});}])[0](d5))(d6);}d2=m.get_LoggedId();d3=bj.asyncResultM();return d3.Run(d3.Delay(function(){function d5(d7){J.setLlamadas(J.llamadas().Get()-1);return d7;}function d6(d7){return cD.Return(d7);}J.setLlamadas(J.llamadas().Get()+1);return d3.Bind$4(cD.Bind(d4(d2,void 0),function(d7){return d6(d5(d7));}),function(d7){return d3.Return(d7);});}));};J.iterA=function(d2){function d3(d4){a.alert(d4);}bk.iterA(function(d4){return d3(bp.summarized(d4));},a.ignore,d2);};J.agregarUsuarioSiEsNuevo=function(d2){var d3,d4;function d5(d6,d7){var d8;function d9(eb){return dX.stringify(((c6.EncodeArray(c6.EncodeTuple([c6.Id(),c6.Id()])))())(eb));}function d_(eb){return dX.stringify((_4.j$33())(eb));}function d$(eb){return((c6.DecodeArray(c6.DecodeTuple([c6.Id(),c6.Id()])))())(dX.parse(eb));}function ea(eb){return(_3.j$33())(dX.parse(eb));}return((d8="agregarUsuarioSiEsNuevo",[function(eb){var ec,ed,ee;function ef(ei){return b$.invoke(d8,eb,ei);}function eg(ei){return ca.bind(ea,ei);}function eh(ei){return cD.Return(ei);}ec=function(ei){return ef(d9(ei));};ed=(ee=function(ei){return eh(eg(ei));},function(ei){return cD.Bind(ei,ee);});return function(ei){return ed(ec(ei));};},function(eb){b$.registroRpcs().Add(d8,function(ec){return function(ed){var ee;function ef(eg){return cD.Return(eg);}return cD.Bind((ee=bj.asyncResultM(),ee.Run(ee.Delay(function(){var eg;eg=d$(ed);return ee.Bind$4((eb(ec))(eg),function(eh){return ee.Return(eh);});}))),function(eg){return ef(d_(eg));});};});}])[0](d6))(d7);}d3=m.get_LoggedId();d4=bj.asyncResultM();return d4.Run(d4.Delay(function(){function d6(d8){J.setLlamadas(J.llamadas().Get()-1);return d8;}function d7(d8){return cD.Return(d8);}J.setLlamadas(J.llamadas().Get()+1);return d4.Bind$4(cD.Bind(d5(d3,d2),function(d8){return d7(d6(d8));}),function(d8){return d4.Return(d8);});}));};J.obtenerEstadoParaUsuario=function(){var d2,d3;function d4(d5,d6){var d7;function d8(ea){return dX.stringify(((c6.Id())())(ea));}function d9(ea){return dX.stringify((_4.j$29())(ea));}function d_(ea){return((c6.Id())())(dX.parse(ea));}function d$(ea){return(_3.j$29())(dX.parse(ea));}return((d7="obtenerEstadoParaUsuario",[function(ea){var eb,ec,ed;function ee(eh){return b$.invoke(d7,ea,eh);}function ef(eh){return ca.bind(d$,eh);}function eg(eh){return cD.Return(eh);}eb=function(eh){return ee(d8(eh));};ec=(ed=function(eh){return eg(ef(eh));},function(eh){return cD.Bind(eh,ed);});return function(eh){return ec(eb(eh));};},function(ea){b$.registroRpcs().Add(d7,function(eb){return function(ec){var ed;function ee(ef){return cD.Return(ef);}return cD.Bind((ed=bj.asyncResultM(),ed.Run(ed.Delay(function(){var ef;ef=d_(ec);return ed.Bind$4((ea(eb))(ef),function(eg){return ed.Return(eg);});}))),function(ef){return ee(d9(ef));});};});}])[0](d5))(d6);}d2=m.get_LoggedId();d3=bj.asyncResultM();return d3.Run(d3.Delay(function(){function d5(d7){J.setLlamadas(J.llamadas().Get()-1);return d7;}function d6(d7){return cD.Return(d7);}J.setLlamadas(J.llamadas().Get()+1);return d3.Bind$4(cD.Bind(d4(d2,void 0),function(d7){return d6(d5(d7));}),function(d7){return d3.Return(d7);});}));};J.registrarTarjeta=function(d2){var d3,d4;function d5(d6,d7){var d8;function d9(eb){return dX.stringify((_4.j$39())(eb));}function d_(eb){return dX.stringify((_4.j$1())(eb));}function d$(eb){return(_3.j$39())(dX.parse(eb));}function ea(eb){return(_3.j$1())(dX.parse(eb));}return((d8="registrarTarjeta",[function(eb){var ec,ed,ee;function ef(ei){return b$.invoke(d8,eb,ei);}function eg(ei){return ca.bind(ea,ei);}function eh(ei){return cD.Return(ei);}ec=function(ei){return ef(d9(ei));};ed=(ee=function(ei){return eh(eg(ei));},function(ei){return cD.Bind(ei,ee);});return function(ei){return ed(ec(ei));};},function(eb){b$.registroRpcs().Add(d8,function(ec){return function(ed){var ee;function ef(eg){return cD.Return(eg);}return cD.Bind((ee=bj.asyncResultM(),ee.Run(ee.Delay(function(){var eg;eg=d$(ed);return ee.Bind$4((eb(ec))(eg),function(eh){return ee.Return(eh);});}))),function(eg){return ef(d_(eg));});};});}])[0](d6))(d7);}d3=m.get_LoggedId();d4=bj.asyncResultM();return d4.Run(d4.Delay(function(){function d6(d8){J.setLlamadas(J.llamadas().Get()-1);return d8;}function d7(d8){return cD.Return(d8);}J.setLlamadas(J.llamadas().Get()+1);return d4.Bind$4(cD.Bind(d5(d3,d2),function(d8){return d7(d6(d8));}),function(d8){return d4.Return(d8);});}));};J.registrarCuenta=function(d2){var d3,d4;function d5(d6,d7){var d8;function d9(eb){return dX.stringify((_4.j$44())(eb));}function d_(eb){return dX.stringify((_4.j$1())(eb));}function d$(eb){return(_3.j$44())(dX.parse(eb));}function ea(eb){return(_3.j$1())(dX.parse(eb));}return((d8="registrarCuenta",[function(eb){var ec,ed,ee;function ef(ei){return b$.invoke(d8,eb,ei);}function eg(ei){return ca.bind(ea,ei);}function eh(ei){return cD.Return(ei);}ec=function(ei){return ef(d9(ei));};ed=(ee=function(ei){return eh(eg(ei));},function(ei){return cD.Bind(ei,ee);});return function(ei){return ed(ec(ei));};},function(eb){b$.registroRpcs().Add(d8,function(ec){return function(ed){var ee;function ef(eg){return cD.Return(eg);}return cD.Bind((ee=bj.asyncResultM(),ee.Run(ee.Delay(function(){var eg;eg=d$(ed);return ee.Bind$4((eb(ec))(eg),function(eh){return ee.Return(eh);});}))),function(eg){return ef(d_(eg));});};});}])[0](d6))(d7);}d3=m.get_LoggedId();d4=bj.asyncResultM();return d4.Run(d4.Delay(function(){function d6(d8){J.setLlamadas(J.llamadas().Get()-1);return d8;}function d7(d8){return cD.Return(d8);}J.setLlamadas(J.llamadas().Get()+1);return d4.Bind$4(cD.Bind(d5(d3,d2),function(d8){return d7(d6(d8));}),function(d8){return d4.Return(d8);});}));};J.setLlamadas=function(d2){J.llamadas().Set(d2);};J.obtenerFormasDePago=function(){var d2,d3;function d4(d5,d6){var d7;function d8(ea){return dX.stringify(((c6.Id())())(ea));}function d9(ea){return dX.stringify((_4.j$34())(ea));}function d_(ea){return((c6.Id())())(dX.parse(ea));}function d$(ea){return(_3.j$34())(dX.parse(ea));}return((d7="obtenerFormasDePago",[function(ea){var eb,ec,ed;function ee(eh){return b$.invoke(d7,ea,eh);}function ef(eh){return ca.bind(d$,eh);}function eg(eh){return cD.Return(eh);}eb=function(eh){return ee(d8(eh));};ec=(ed=function(eh){return eg(ef(eh));},function(eh){return cD.Bind(eh,ed);});return function(eh){return ec(eb(eh));};},function(ea){b$.registroRpcs().Add(d7,function(eb){return function(ec){var ed;function ee(ef){return cD.Return(ef);}return cD.Bind((ed=bj.asyncResultM(),ed.Run(ed.Delay(function(){var ef;ef=d_(ec);return ed.Bind$4((ea(eb))(ef),function(eg){return ed.Return(eg);});}))),function(ef){return ee(d9(ef));});};});}])[0](d5))(d6);}d2=m.get_LoggedId();d3=bj.asyncResultM();return d3.Run(d3.Delay(function(){function d5(d7){J.setLlamadas(J.llamadas().Get()-1);return d7;}function d6(d7){return cD.Return(d7);}J.setLlamadas(J.llamadas().Get()+1);return d3.Bind$4(cD.Bind(d4(d2,void 0),function(d7){return d6(d5(d7));}),function(d7){return d3.Return(d7);});}));};K.CompleteHoles=function(d2,d3,d4){var d6,d7,d8,d9,d_,d$;function d5(ea,eb){var ec,ed,ee,ef;return d7.Contains(ea)?null:(ec=eb===0?(ed=h.Create$1(""),[{$:8,$0:ea,$1:ed},ed]):eb===1?(ee=h.Create$1(0),[{$:13,$0:ea,$1:ee},ee]):eb===2?(ef=h.Create$1(false),[{$:9,$0:ea,$1:ef},ef]):u.FailWith("Invalid value type"),(d6.set_Item(ea,ec[1]),{$:1,$0:ec[0]}));}d6=new bz.New$5();d7=new bA.New$3();d8=bX.Get(d3);try{while(d8.MoveNext()){d9=d8.Current();(d9.$==8?(d_=[d9.$0,bB.Box(d9.$1)],true):d9.$==11?(d_=[d9.$0,bB.Box(d9.$1)],true):d9.$==10?(d_=[d9.$0,bB.Box(d9.$1)],true):d9.$==13?(d_=[d9.$0,bB.Box(d9.$1)],true):d9.$==12?(d_=[d9.$0,bB.Box(d9.$1)],true):d9.$==9&&(d_=[d9.$0,bB.Box(d9.$1)],true))?(d$=d_[0],d7.Add(d$),d6.set_Item(d$,d_[1])):void 0;}}finally{if(typeof d8=="object"&&"Dispose"in d8)d8.Dispose();}return[_8.append(d3,D.choose(function(ea){return d5(ea[0],ea[1]);},d4)),{$:0,$0:d6}];};K.EventQ2=function(d2,d3,d4,d5){return{$:5,$0:d3,$1:true,$2:function(d6){return function(d7){return d5({Vars:d4(),Target:d6,Event:d7});};}};};L=G.TemplateInstance=dU.Class({get_Doc:function(){return this.doc;},Hole:function(d2){return this.allVars.get_Item(d2);}},f,L);L.New=dU.Ctor(function(d2,d3){f.New.call(this);this.doc=d3;this.allVars=d2.$==0?d2.$0:u.FailWith("Should not happen");},L);O.New=function(d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg){return{id:d2,authorizeIdR:d3,idPadreO:d4,datosPersonales:d5,contactos:d6,identificacion:d7,isInternal:d8,status:d9,tipo:d_,fechaRegistro:d$,fechaStatus:ea,nReferidos:eb,nRefActivos:ec,nDescendientes:ed,nDescActivos:ee,comision:ef,nivel:eg};};P=N.IdAliado=dU.Class({get_Id:function(){return this.$0;}},null,P);Q.nombre2=function(d2){var d3,d4;return(d3=(d4=d2.titulo,d4==null?null:{$:1,$0:" "+d4.$0}),d3==null?"":d3.$0)+bc.Trim(d2.nombre1+" "+d2.nombre2)+" "+bc.Trim(d2.apellido1+" "+d2.apellido2);};Q.nombre=function(d2){var d3,d4;return(d3=(d4=d2.titulo,d4==null?null:{$:1,$0:" "+d4.$0}),d3==null?"":d3.$0)+(d2.apellido1===""?"":bc.Trim(d2.apellido1+" "+d2.apellido2)+", ")+d2.nombre1+" "+d2.nombre2;};Q.busqueda=function(d2){var d3,d4;function d5(d$,ea){return[d$,D.ofSeq(_8.map(function(eb){return eb[1];},ea))];}function d6(d$){var ea,eb;ea=(eb=null,[d4.TryGetValue(d$,{get:function(){return eb;},set:function(ec){eb=ec;}}),eb]);return ea[0]?{$:1,$0:ea[1]}:null;}function d7(d$){var ea,eb;ea=(eb=null,[d3.TryGetValue({$:1,$0:d$},{get:function(){return eb;},set:function(ec){eb=ec;}}),eb]);return ea[0]?ea[1]:[];}function d8(d$){var ea,eb;ea=(eb=d$==null?null:d6(d$.$0),eb==null?null:{$:1,$0:1+d8(eb.$0.idPadreO)});return ea==null?0:ea.$0;}function d9(d$){return D.choose(d6,d7(d$.id));}function d_(d$){return D.ofSeq(_8.delay(function(){return _8.collect(function(ea){return _8.append([ea],_8.delay(function(){return d_(ea);}));},d9(d$));}));}d3=new bW.New(_8.map(function(d$){return d5(d$[0],d$[1]);},_8.groupBy(function(d$){return d$[0];},_8.map(function(d$){return[d$.idPadreO,d$.id];},d2))));d4=new bW.New(_8.map(function(d$){return[d$.id,d$];},d2));return $.New(d7,d8,function(d$){try{return d4.get_Item(d$);}catch(ea){return(function(eb){return function(ec){return eb("buscarAliado failed: "+_2.p$9(ec));};}(u.FailWith))(d$);}},d6,d9,d_);};Q.comision=function(d2,d3){var d4;d4=Q.premisas(d2,d3);return[d3.nRefActivos*d4[0],d3.nDescActivos*d4[1]];};Q.premisas=function(d2,d3){var d4;d4=d3.tipo.$==0?[d2.comisionReferidosMaster,d2.comisionDescendientesMaster]:[d2.comisionReferidosRegular,d2.comisionDescendientesRegular];return d3.status.$==2?[d4[0],d4[1]]:[0,0];};Q.empty=function(){b_.$cctor();return b_.empty;};R.New=function(d2,d3,d4,d5,d6,d7){return{idAliado:d2,aliados:d3,anoActual:d4,periodoActual:d5,premisas:d6,nevento:d7};};S=g.ConcreteVar=dU.Class({Set:function(d2){if(this.isConst)(function(d3){return d3("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal");}(function(d3){dW.log(d3);}));else{T.Obsolete(this.snap);this.current=d2;this.snap=T.New({$:2,$0:d2,$1:[]});}},get_View:function(){return this.view;},Get:function(){return this.current;},Update:function(d2){this.Set(d2(this.Get()));},UpdateMaybe:function(d2){var d3;d3=d2(this.Get());d3!=null&&d3.$==1?this.Set(d3.$0):void 0;}},C,S);S.New=dU.Ctor(function(d2,d3,d4){var d5;d5=this;C.New.call(this);this.isConst=d2;this.current=d4;this.snap=d3;this.view=function(){return d5.snap;};this.id=bJ.Int();},S);T.Map=function(d2,d3){var d4,d5;d4=d3.s;return d4!=null&&d4.$==0?T.New({$:0,$0:d2(d4.$0)}):(d5=T.New({$:3,$0:[],$1:[]}),(T.When(d3,function(d6){T.MarkDone(d5,d3,d2(d6));},d5),d5));};T.WhenRun=function(d2,d3,d4){var d5;d5=d2.s;d5==null?d4():d5!=null&&d5.$==2?(d5.$1.push(d4),d3(d5.$0)):d5!=null&&d5.$==3?(d5.$0.push(d3),d5.$1.push(d4)):d3(d5.$0);};T.Map2=function(d2,d3,d4){var d5,d6,d7;function d8(d9){var d_,d$,ea;if(!(d_=d7.s,d_!=null&&d_.$==0||d_!=null&&d_.$==2)){d$=T.ValueAndForever(d3);ea=T.ValueAndForever(d4);d$!=null&&d$.$==1?ea!=null&&ea.$==1?d$.$0[1]&&ea.$0[1]?T.MarkForever(d7,d2(d$.$0[0],ea.$0[0])):T.MarkReady(d7,d2(d$.$0[0],ea.$0[0])):void 0:void 0;}}d5=d3.s;d6=d4.s;return d5!=null&&d5.$==0?d6!=null&&d6.$==0?T.New({$:0,$0:d2(d5.$0,d6.$0)}):T.Map2Opt1(d2,d5.$0,d4):d6!=null&&d6.$==0?T.Map2Opt2(d2,d6.$0,d3):(d7=T.New({$:3,$0:[],$1:[]}),(T.When(d3,d8,d7),T.When(d4,d8,d7),d7));};T.WhenObsoleteRun=function(d2,d3){var d4;d4=d2.s;d4==null?d3():d4!=null&&d4.$==2?d4.$1.push(d3):d4!=null&&d4.$==3?d4.$1.push(d3):void 0;};T.When=function(d2,d3,d4){var d5;d5=d2.s;d5==null?T.Obsolete(d4):d5!=null&&d5.$==2?(T.EnqueueSafe(d5.$1,d4),d3(d5.$0)):d5!=null&&d5.$==3?(d5.$0.push(d3),T.EnqueueSafe(d5.$1,d4)):d3(d5.$0);};T.MarkDone=function(d2,d3,d4){var d5;if(d5=d3.s,d5!=null&&d5.$==0)T.MarkForever(d2,d4);else T.MarkReady(d2,d4);};T.Map2Opt1=function(d2,d3,d4){return T.Map(function(d5){return d2(d3,d5);},d4);};T.Map2Opt2=function(d2,d3,d4){return T.Map(function(d5){return d2(d5,d3);},d4);};T.ValueAndForever=function(d2){var d3;d3=d2.s;return d3!=null&&d3.$==0?{$:1,$0:[d3.$0,true]}:d3!=null&&d3.$==2?{$:1,$0:[d3.$0,false]}:null;};T.MarkForever=function(d2,d3){var d4,d5,d6,d7;d4=d2.s;if(d4!=null&&d4.$==3){d2.s={$:0,$0:d3};d5=d4.$0;for(d6=0,d7=D.length(d5)-1;d6<=d7;d6++)(D.get(d5,d6))(d3);}else void 0;};T.MarkReady=function(d2,d3){var d4,d5,d6,d7;d4=d2.s;if(d4!=null&&d4.$==3){d2.s={$:2,$0:d3,$1:d4.$1};d5=d4.$0;for(d6=0,d7=D.length(d5)-1;d6<=d7;d6++)(D.get(d5,d6))(d3);}else void 0;};T.TryGet=function(d2){var d3,d4;d3=d2.s;return(d3!=null&&d3.$==0?(d4=d3.$0,true):d3!=null&&d3.$==2&&(d4=d3.$0,true))?{$:1,$0:d4}:null;};T.EnqueueSafe=function(d2,d3){var d4,d5,d6,d7;d2.push(d3);if(d2.length%20===0){d4=d2.slice(0);dw.Clear(d2);for(d5=0,d6=D.length(d4)-1;d5<=d6;d5++){d7=D.get(d4,d5);typeof d7=="object"?function(d8){if(d8.s)d2.push(d8);}(d7):function(d8){d2.push(d8);}(d7);}}else void 0;};T.Join=function(d2){var d3;d3=T.New({$:3,$0:[],$1:[]});T.When(d2,function(d4){var d5;d5=d4();T.When(d5,function(d6){var d7,d8;if((d7=d5.s,d7!=null&&d7.$==0)&&(d8=d2.s,d8!=null&&d8.$==0))T.MarkForever(d3,d6);else T.MarkReady(d3,d6);},d3);},d3);return d3;};T.Map2Unit=function(d2,d3){var d4,d5,d6;function d7(){var d8,d9,d_;if(!(d8=d6.s,d8!=null&&d8.$==0||d8!=null&&d8.$==2)){d9=T.ValueAndForever(d2);d_=T.ValueAndForever(d3);d9!=null&&d9.$==1?d_!=null&&d_.$==1?d9.$0[1]&&d_.$0[1]?T.MarkForever(d6,null):T.MarkReady(d6,null):void 0:void 0;}}d4=d2.s;d5=d3.s;return d4!=null&&d4.$==0?d5!=null&&d5.$==0?T.New({$:0,$0:null}):d3:d5!=null&&d5.$==0?d2:(d6=T.New({$:3,$0:[],$1:[]}),(T.When(d2,d7,d6),T.When(d3,d7,d6),d6));};T.Map3=function(d2,d3,d4,d5){var d6,d7,d8,d9;function d_(d$){var ea,eb,ec,ed;if(!(ea=d9.s,ea!=null&&ea.$==0||ea!=null&&ea.$==2)){eb=T.ValueAndForever(d3);ec=T.ValueAndForever(d4);ed=T.ValueAndForever(d5);eb!=null&&eb.$==1?ec!=null&&ec.$==1?ed!=null&&ed.$==1?eb.$0[1]&&ec.$0[1]&&ed.$0[1]?T.MarkForever(d9,d2(eb.$0[0],ec.$0[0],ed.$0[0])):T.MarkReady(d9,d2(eb.$0[0],ec.$0[0],ed.$0[0])):void 0:void 0:void 0;}}d6=d3.s;d7=d4.s;d8=d5.s;return d6!=null&&d6.$==0?d7!=null&&d7.$==0?d8!=null&&d8.$==0?T.New({$:0,$0:d2(d6.$0,d7.$0,d8.$0)}):T.Map3Opt1(d2,d6.$0,d7.$0,d5):d8!=null&&d8.$==0?T.Map3Opt2(d2,d6.$0,d8.$0,d4):T.Map3Opt3(d2,d6.$0,d4,d5):d7!=null&&d7.$==0?d8!=null&&d8.$==0?T.Map3Opt4(d2,d7.$0,d8.$0,d3):T.Map3Opt5(d2,d7.$0,d3,d5):d8!=null&&d8.$==0?T.Map3Opt6(d2,d8.$0,d3,d4):(d9=T.New({$:3,$0:[],$1:[]}),(T.When(d3,d_,d9),T.When(d4,d_,d9),T.When(d5,d_,d9),d9));};T.Sequence=function(d2){var d3,d4,d5;function d6(d7){var d8;if(d5[0]===0){d8=D.map(function(d9){var d_;d_=d9.s;return d_!=null&&d_.$==0?d_.$0:d_!=null&&d_.$==2?d_.$0:u.FailWith("value not found by View.Sequence");},d3);D.forall(function(d9){var d_;d_=d9.s;return d_!=null&&d_.$==0;},d3)?T.MarkForever(d4,d8):T.MarkReady(d4,d8);}else d5[0]--;}d3=D.ofSeq(d2);return d3.length==0?T.New({$:0,$0:[]}):(d4=T.New({$:3,$0:[],$1:[]}),(d5=[D.length(d3)-1],(D.iter(function(d7){T.When(d7,d6,d4);},d3),d4)));};T.Copy=function(d2){var d3,d4,d5;d3=d2.s;return d3==null?d2:d3!=null&&d3.$==2?(d4=T.New({$:2,$0:d3.$0,$1:[]}),(T.WhenObsolete(d2,d4),d4)):d3!=null&&d3.$==3?(d5=T.New({$:3,$0:[],$1:[]}),(T.When(d2,function(d6){T.MarkDone(d5,d2,d6);},d5),d5)):d2;};T.Map3Opt1=function(d2,d3,d4,d5){return T.Map(function(d6){return d2(d3,d4,d6);},d5);};T.Map3Opt2=function(d2,d3,d4,d5){return T.Map(function(d6){return d2(d3,d6,d4);},d5);};T.Map3Opt3=function(d2,d3,d4,d5){return T.Map2(function(d6,d7){return d2(d3,d6,d7);},d4,d5);};T.Map3Opt4=function(d2,d3,d4,d5){return T.Map(function(d6){return d2(d6,d3,d4);},d5);};T.Map3Opt5=function(d2,d3,d4,d5){return T.Map2(function(d6,d7){return d2(d6,d3,d7);},d4,d5);};T.Map3Opt6=function(d2,d3,d4,d5){return T.Map2(function(d6,d7){return d2(d6,d7,d3);},d4,d5);};T.WhenObsolete=function(d2,d3){var d4;d4=d2.s;d4==null?T.Obsolete(d3):d4!=null&&d4.$==2?T.EnqueueSafe(d4.$1,d3):d4!=null&&d4.$==3?T.EnqueueSafe(d4.$1,d3):void 0;};U.$cctor=function(){var d2,d3,d4,d5,d6,d7,d8,d9,d_;U.$cctor=a.ignore;function d$(ee){return bc.concat("\n",ee);}function ea(ee){return bK.splitByChar$1("\n",ee);}function eb(ee){var ef,eg;return bL.array(ee,{$:1,$0:0},{$:1,$0:(ef=0,(eg=D.length(ee)-2,z.Compare(ef,eg)===1?ef:eg))});}function ec(ee){return bc.concat("\n",ee);}function ed(ee,ef,eg,eh,ei){bq.callback(ee,ef,eg,eh,ei);}U.unindentStr=function(ee){return d$(bK.unindent$1(ee));};U.skipLastLine=(d2=function(ee){return eb(ea(ee));},function(ee){return ec(d2(ee));});U.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";U.rexEmail="(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@[*[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+]*";U.policies=br.ofArray([bN.SignIn,bN.SignUp,bN.EditProfile,bN.ResetPassword]);U.rootdir="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperClient\\website";U.TemplatesFileName="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperClient\\website"+"\\index.html";U.LoginFileName="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperClient\\website"+"\\Login.html";((function(ee){return function(ef){return ee(bt.toSafe(ef));};}(function(ee){dW.log(ee);}))("D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperClient\\website\\index.html"));U.storage=self.localStorage;U.applicationId=bq.storeValue("applicationId","70ad4f9b-9a2b-409e-9c1e-d04dbb2e7cf2");U.tenantName=bq.storeValue("tenantName","prozper");U.ref=bq.storeValue("ref","");U.extraQueryParms=bq.storeValue("extraQueryParms","mkt=es-us");U.refreshBefore=bq.storeValue("refreshBefore","0");U.createOnStart=bq.storeValue("createOnStart","1");U.forceLogin=bq.storeValue("forceLogin","1");U.signInPolicy=bq.storeValue("signInPolicy","B2C_1_SignIn");U.signUpPolicy=bq.storeValue("signUpPolicy","B2C_1_Registrarse");U.editProfilePolicy=bq.storeValue("editProfilePolicy","B2C_1_EditarPerfil");U.resetPasswordPolicy=bq.storeValue("resetPasswordPolicy","B2C_1_PasswordReset");U.policyType=bq.storeValue("policyType","SignIn");U.authority=bq.getAuthority(bq.tenantName(),bq.signInPolicy());U.userO=h.Create$1(null);U.agent=(d3=bq.applicationId(),(d4=bq.authority(),(d5=bO.Options(null,null,null,null,null,null,null,null,null,{$:1,$0:false},null,{$:1,$0:false}),new self.Msal.UserAgentApplication(d3,d4,function(ee){return ed(ee[0],ee[1],ee[2],ee[3],ee[4]);},d5))));U.localStorage=self.localStorage;bq.checkUser();U.modeloV=h.Create$1(R.New(new P({$:0,$0:":"}),[],(d6=dY.now(),(new dY(d6)).getFullYear()),(d7=dY.now(),(new dY(d7)).getMonth()+1),N.premisasCalculo(),-2));U.formasPagoAliadoV=h.Create$1([]);U.invitacionesV=h.Create$1("");U.emailsInvitarW=I.Map(function(ee){var ef;return bc.concat("\n",_8.sort(_8.distinct((ef=i.REGEX$1(i.rexEmail(),"gi",ee),ef!=null&&ef.$==1?ef.$0:[]))));},l.invitacionesV().get_View());U.invitacionesDisabledW=I.Map(function(ee){return ee===""?"disabled":"";},l.emailsInvitarW());U.selAliadoIdOV=h.Create$1(null);U.refAliadoIdOV=h.Create$1(null);U.endPointV=bQ.InstallHash(bP.DefaultEP,_7.r());U.contentVar=h.Lens(l.endPointV(),function(ee){return ee.$==1?ee.$0:"ProzperLyt.mainContent";},function(ee,ef){return ef==="ProzperLyt.mainContent"?bP.DefaultEP:{$:1,$0:ef};});U.aliadoW=(d8=I.get_Do(),I.Bind(function(ee){var ef,eg;ef=ee.idAliado;eg=_8.tryFind(function(eh){return z.Equals(eh.id,ef);},ee.aliados);return I.Const(eg!=null&&eg.$==1?eg.$0:Q.empty());},l.modeloV().get_View()));U.llamadas=h.Create$1(0);U.shouldRefresh=true;I.Sink(function(){bm.refrescarData(true);},bq.userO().get_View());cD.Start((d9=null,cD.Delay(function(){return cD.While(function(){return true;},cD.Delay(function(){return cD.Bind(cD.Sleep(5*60*1000),function(){bm.refrescarData(true);return cD.Zero();});}));})),null);try{self.document.addEventListener("visibilityChange",function(){return bm.refrescarData(false);},false);}catch(ee){null;}U.paises=h.Create$1([]);U.estados=h.Create$1([]);U.tiposDir=h.Create$1([]);U.tiposTel=h.Create$1([]);U.generos=h.Create$1([]);U.tiposCta=h.Create$1([]);U.tiposTar=h.Create$1([]);U.aniosV=h.Create$1([]);U.mesesV=h.Create$1([]);J.iterA((d_=bj.asyncResultM(),d_.Run(d_.Delay(function(){return d_.Bind$4(J.obtenerUnions(),function(ef){bS.paises().Set(ef[0]);bS.estados().Set(ef[1]);bS.tiposDir().Set(ef[2]);bS.tiposTel().Set(ef[3]);bS.generos().Set(ef[4]);bS.tiposCta().Set(ef[5]);bS.tiposTar().Set(ef[6]);bS.aniosV().Set(ef[8]);bS.mesesV().Set(ef[7]);return d_.Zero();});}))));U.ftel=[function(ef){return ef.$==2?{$:1,$0:ef.$0}:null;},function(ef){return{$:2,$0:ef};}];U.fcor=[function(ef){return ef.$==1?{$:1,$0:ef.$0}:null;},function(ef){return{$:1,$0:ef};}];U.fdir=[function(ef){return ef.$==0?{$:1,$0:ef.$0}:null;},function(ef){return{$:0,$0:ef};}];U.ftar=[function(ef){var eg;eg=ef.cuentaPago;return eg.$==1?{$:1,$0:[eg.$0,t.msg(ef)]}:null;},function(ef){return function(eg){return bT.New(ef.nombre,_9.Error(""),{$:1,$0:eg});};}];U.fcta=[function(ef){var eg;eg=ef.cuentaPago;return eg.$==0?{$:1,$0:[eg.$0,t.msg(ef)]}:null;},function(ef){return function(eg){return bT.New(ef.nombre,_9.Error(""),{$:0,$0:eg});};}];U.layoutName="ProzperLyt";U.appName="Prozper";};V=g.ListModel=dU.Class({Append:function(d2){var d3,d4,d5,d6;d3=this;d4=this["var"].Get();d5=this.key(d2);d6=D.tryFindIndex(function(d7){return z.Equals(d3.key(d7),d5);},d4);d6!=null&&d6.$==1?this["var"].Set(this.storage.SSetAt(d6.$0,d2,d4)):this["var"].Set(this.storage.SAppend(d2,d4));this.ObsoleteKey(d5);},TryFindByKey:function(d2){var d3;d3=this;return D.tryFind(function(d4){return z.Equals(d3.key(d4),d2);},this["var"].Get());},ObsoleteKey:function(d2){var d3,d4;d3=(d4=null,[this.it.TryGetValue(d2,{get:function(){return d4;},set:function(d5){d4=d5;}}),d4]);d3[0]?(T.Obsolete(d3[1]),this.it.Remove(d2)):void 0;},MapLens:function(d2){var d3;d3=this;return I.MapSeqCachedViewBy(d3.key,function(d4,d5){return d2(d4,d3["LensInto'"](a.id,function(d6,d7){return d7;},d4,d5));},this["var"].get_View());},"LensInto'":function(d2,d3,d4,d5){var d6,d7,d8;d6=this;d7=bJ.Id();d8=new C({Get:function(){return d2(d6.FindByKey(d4));},Set:function(d9){return d6.UpdateBy(function(d_){return{$:1,$0:d3(d_,d9)};},d4);},SetFinal:function(d9){return this.Set(d9);},Update:function(d9){return d6.UpdateBy(function(d_){return{$:1,$0:d3(d_,d9(d2(d_)))};},d4);},UpdateMaybe:function(d9){return d6.UpdateBy(function(d_){var d$;d$=d9(d2(d_));return d$==null?null:{$:1,$0:d3(d_,d$.$0)};},d4);},get_View:function(){return d5;},get_Id:function(){return d7;}});C.New.call(d8);return d8;},FindByKey:function(d2){var d3;d3=this;return D.find(function(d4){return z.Equals(d3.key(d4),d2);},this["var"].Get());},UpdateBy:function(d2,d3){var d4,d5,d6,d7,d8;d4=this;d5=this["var"].Get();d6=D.tryFindIndex(function(d9){return z.Equals(d4.key(d9),d3);},d5);d6!=null&&d6.$==1?(d7=d6.$0,d8=d2(D.get(d5,d7)),d8!=null&&d8.$==1?(this["var"].Set(this.storage.SSetAt(d7,d8.$0,d5)),this.ObsoleteKey(d3)):void 0):void 0;},GetEnumerator:function(){return bX.Get(this["var"].Get());},GetEnumerator0:function(){return bX.Get0(this["var"].Get());}},f,V);V.New$1=dU.Ctor(function(d2){V.New$2.call(this,d2,[]);},V);V.New$2=dU.Ctor(function(d2,d3){var d4;d4=D.ofSeq(d3);V.New$3.call(this,d2,h.Create$1(d4),c$.InMemory(d4));},V);V.New$3=dU.Ctor(function(d2,d3,d4){f.New.call(this);this.key=d2;this["var"]=d3;this.storage=d4;this.v=I.Map(function(d5){return d5.slice();},this["var"].get_View());this.it=new bz.New$5();},V);W.New=function(d2,d3){return{varName:d2,varVar:d3};};X.New=function(d2,d3){return{viwName:d2,viwView:d3};};Y.New=function(d2,d3){return{docName:d2,docDoc:d3};};Z.NewFromSeq=function(d2){var d3,d4,d5;d3={};d4=bX.Get(d2);try{while(d4.MoveNext()){d5=d4.Current();d3[d5[0]]=d5[1];}}finally{if(typeof d4=="object"&&"Dispose"in d4)d4.Dispose();}return d3;};_1.New=function(d2,d3,d4){return{c:d2,v:d3,f:d4};};_2.p$1=function(d2){return d2.$==1?"Regular":"Master";};_2.p=function(d2){return d2.$==3?"Inactivo":d2.$==2?"Activo":d2.$==1?"DatosBancariosIngresados":"CuentaCreada";};_2.p$9=function(d2){return"IdAliado "+bt.prettyPrint(d2.$0);};_2.p$2=function(d2){return d2.$==3?"OtroP "+bt.prettyPrint(d2.$0):d2.$==2?"Argentina":d2.$==1?"Venezuela":"USA";};_3.j$1=function(){return _3._v$1?_3._v$1:_3._v$1=(c6.DecodeUnion(void 0,"$",[[0,[["$0","Item1",_3.j$2,1],["$1","Item2",_3.j$3,0]]]]))();};_3.j$4=function(){return _3._v$4?_3._v$4:_3._v$4=(c6.DecodeUnion(void 0,"$",[[0,[["$0","Item",c6.DecodeArray(_3.j$20),0]]],[1,[[null,null,_3.j$20]]],[2,[["$0","Item",c6.DecodeTuple([_3.j$5,c6.DecodeArray(c6.Id())]),0]]],[3,[["$0","Item",c6.DecodeTuple([_3.j$5,_3.j$17,_3.j$19,c6.DecodeArray(_3.j$6)]),0]]],[4,[["$0","Item",c6.DecodeTuple([_3.j$5,_3.j$17]),0]]],[5,[["$0","Item",c6.DecodeTuple([_3.j$5,c6.DecodeArray(_3.j$6)]),0]]],[6,[["$0","Item",c6.DecodeTuple([_3.j$5,c6.Id()]),0]]],[7,[["$0","Item",c6.DecodeTuple([_3.j$5,c6.Id()]),0]]]]))();};_4.j$1=function(){return _4._v$1?_4._v$1:_4._v$1=(c6.EncodeUnion(void 0,"$",[[0,[["$0","Item1",_4.j$2,1],["$1","Item2",_4.j$3,0]]]]))();};_4.j$4=function(){return _4._v$4?_4._v$4:_4._v$4=(c6.EncodeUnion(void 0,"$",[[0,[["$0","Item",c6.EncodeArray(_4.j$20),0]]],[1,[[null,null,_4.j$20]]],[2,[["$0","Item",c6.EncodeTuple([_4.j$5,c6.EncodeArray(c6.Id())]),0]]],[3,[["$0","Item",c6.EncodeTuple([_4.j$5,_4.j$17,_4.j$19,c6.EncodeArray(_4.j$6)]),0]]],[4,[["$0","Item",c6.EncodeTuple([_4.j$5,_4.j$17]),0]]],[5,[["$0","Item",c6.EncodeTuple([_4.j$5,c6.EncodeArray(_4.j$6)]),0]]],[6,[["$0","Item",c6.EncodeTuple([_4.j$5,c6.Id()]),0]]],[7,[["$0","Item",c6.EncodeTuple([_4.j$5,c6.Id()]),0]]]]))();};_3.j$33=function(){return _3._v$33?_3._v$33:_3._v$33=(c6.DecodeUnion(void 0,"$",[[0,[["$0","Item1",c6.Id(),1],["$1","Item2",_3.j$3,0]]]]))();};_3.j$5=function(){return _3._v$5?_3._v$5:_3._v$5=(c6.DecodeUnion(P,"$",[[0,[["$0","Item",c6.Id(),0]]]]))();};_4.j$33=function(){return _4._v$33?_4._v$33:_4._v$33=(c6.EncodeUnion(void 0,"$",[[0,[["$0","Item1",c6.Id(),1],["$1","Item2",_4.j$3,0]]]]))();};_4.j$5=function(){return _4._v$5?_4._v$5:_4._v$5=(c6.EncodeUnion(P,"$",[[0,[["$0","Item",c6.Id(),0]]]]))();};_2.p$8=function(d2){return d2.$==3?"Voip":d2.$==2?"Habitacion":d2.$==1?"Oficina":"Movil";};_2.p$7=function(d2){return d2.$==3?"Otro "+bt.prettyPrint(d2.$0):d2.$==2?"ServicioPostal":d2.$==1?"Oficina":"Habitacion";};_2.p$3=function(d2){return d2.$==2?"OtroS "+bt.prettyPrint(d2.$0):d2.$==1?"Florida":"Texas";};_2.p$4=function(d2){return d2.$==3?"Otra "+bt.prettyPrint(d2.$0):d2.$==2?"Amex":d2.$==1?"MasterCard":"Visa";};_2.p$5=function(d2){return d2.$==2?"Otra "+bt.prettyPrint(d2.$0):d2.$==1?"Corriente":"Ahorro";};_3.j$32=function(){return _3._v$32?_3._v$32:_3._v$32=(c6.DecodeUnion(void 0,"$",[[0,[["$0","Item1",c6.DecodeTuple([c6.DecodeArray(c6.Id()),c6.DecodeArray(c6.Id()),c6.DecodeArray(c6.Id()),c6.DecodeArray(c6.Id()),c6.DecodeArray(c6.Id()),c6.DecodeArray(c6.Id()),c6.DecodeArray(c6.Id()),c6.DecodeArray(c6.Id()),c6.DecodeArray(c6.Id())]),1],["$1","Item2",_3.j$3,0]]]]))();};_4.j$32=function(){return _4._v$32?_4._v$32:_4._v$32=(c6.EncodeUnion(void 0,"$",[[0,[["$0","Item1",c6.EncodeTuple([c6.EncodeArray(c6.Id()),c6.EncodeArray(c6.Id()),c6.EncodeArray(c6.Id()),c6.EncodeArray(c6.Id()),c6.EncodeArray(c6.Id()),c6.EncodeArray(c6.Id()),c6.EncodeArray(c6.Id()),c6.EncodeArray(c6.Id()),c6.EncodeArray(c6.Id())]),1],["$1","Item2",_4.j$3,0]]]]))();};_3.j$2=function(){return _3._v$2?_3._v$2:_3._v$2=(c6.DecodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",c6.Id(),0]]],[2,[["$0","Item",c6.Id(),0]]]]))();};_3.j$3=function(){return _3._v$3?_3._v$3:_3._v$3=(c6.DecodeUnion(bp,"$",[[0,[]],[1,[["$0","Item",c6.Id(),0]]],[2,[["$0","Item",c6.Id(),0]]],[3,[["$0","Item",c6.Id(),0]]],[4,[["$0","Item",c6.Id(),0]]],[5,[["$0","Item1",c6.Id(),0],["$1","Item2",c6.Id(),0]]],[6,[["$0","Item",c6.DecodeArray(_3.j$3),0]]]]))();};_3.j$20=function(){return _3._v$20?_3._v$20:_3._v$20=(c6.DecodeRecord(void 0,[["id",_3.j$5,0],["authorizeIdR",_3.j$21,0],["idPadreO",_3.j$5,1],["datosPersonales",_3.j$17,0],["contactos",c6.DecodeArray(_3.j$6),0],["identificacion",c6.DecodeArray(_3.j$23),0],["isInternal",c6.Id(),0],["status",_3.j$27,0],["tipo",_3.j$28,0],["fechaRegistro",c6.DecodeDateTime(),0],["fechaStatus",c6.DecodeDateTime(),0],["nReferidos",c6.Id(),0],["nRefActivos",c6.Id(),0],["nDescendientes",c6.Id(),0],["nDescActivos",c6.Id(),0],["comision",c6.Id(),0],["nivel",c6.Id(),0]]))();};_3.j$17=function(){return _3._v$17?_3._v$17:_3._v$17=(c6.DecodeRecord(void 0,[["titulo",c6.Id(),1],["nombre1",c6.Id(),0],["nombre2",c6.Id(),0],["apellido1",c6.Id(),0],["apellido2",c6.Id(),0],["nacionalidad",_3.j$15,0],["genero",_3.j$18,0],["fechaNacimiento",c6.DecodeDateTime(),0]]))();};_3.j$19=function(){return _3._v$19?_3._v$19:_3._v$19=(c6.DecodeUnion(void 0,"$",[null,[1,[["$0","Value",_3.j$5,0]]]]))();};_3.j$6=function(){return _3._v$6?_3._v$6:_3._v$6=(c6.DecodeUnion(void 0,"$",[[0,[[null,null,_3.j$10]]],[1,[[null,null,_3.j$9]]],[2,[[null,null,_3.j$7]]],[3,[["$0","Item",c6.Id(),0]]],[4,[["$0","Item",c6.Id(),0]]],[5,[["$0","Item",c6.Id(),0]]]]))();};_4.j$2=function(){return _4._v$2?_4._v$2:_4._v$2=(c6.EncodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",c6.Id(),0]]],[2,[["$0","Item",c6.Id(),0]]]]))();};_4.j$3=function(){return _4._v$3?_4._v$3:_4._v$3=(c6.EncodeUnion(bp,"$",[[0,[]],[1,[["$0","Item",c6.Id(),0]]],[2,[["$0","Item",c6.Id(),0]]],[3,[["$0","Item",c6.Id(),0]]],[4,[["$0","Item",c6.Id(),0]]],[5,[["$0","Item1",c6.Id(),0],["$1","Item2",c6.Id(),0]]],[6,[["$0","Item",c6.EncodeArray(_4.j$3),0]]]]))();};_4.j$20=function(){return _4._v$20?_4._v$20:_4._v$20=(c6.EncodeRecord(void 0,[["id",_4.j$5,0],["authorizeIdR",_4.j$21,0],["idPadreO",_4.j$5,1],["datosPersonales",_4.j$17,0],["contactos",c6.EncodeArray(_4.j$6),0],["identificacion",c6.EncodeArray(_4.j$23),0],["isInternal",c6.Id(),0],["status",_4.j$27,0],["tipo",_4.j$28,0],["fechaRegistro",c6.EncodeDateTime(),0],["fechaStatus",c6.EncodeDateTime(),0],["nReferidos",c6.Id(),0],["nRefActivos",c6.Id(),0],["nDescendientes",c6.Id(),0],["nDescActivos",c6.Id(),0],["comision",c6.Id(),0],["nivel",c6.Id(),0]]))();};_4.j$17=function(){return _4._v$17?_4._v$17:_4._v$17=(c6.EncodeRecord(void 0,[["titulo",c6.Id(),1],["nombre1",c6.Id(),0],["nombre2",c6.Id(),0],["apellido1",c6.Id(),0],["apellido2",c6.Id(),0],["nacionalidad",_4.j$15,0],["genero",_4.j$18,0],["fechaNacimiento",c6.EncodeDateTime(),0]]))();};_4.j$19=function(){return _4._v$19?_4._v$19:_4._v$19=(c6.EncodeUnion(void 0,"$",[null,[1,[["$0","Value",_4.j$5,0]]]]))();};_4.j$6=function(){return _4._v$6?_4._v$6:_4._v$6=(c6.EncodeUnion(void 0,"$",[[0,[[null,null,_4.j$10]]],[1,[[null,null,_4.j$9]]],[2,[[null,null,_4.j$7]]],[3,[["$0","Item",c6.Id(),0]]],[4,[["$0","Item",c6.Id(),0]]],[5,[["$0","Item",c6.Id(),0]]]]))();};_3.j$29=function(){return _3._v$29?_3._v$29:_3._v$29=(c6.DecodeUnion(void 0,"$",[[0,[["$0","Item1",_3.j$30,1],["$1","Item2",_3.j$3,0]]]]))();};_4.j$29=function(){return _4._v$29?_4._v$29:_4._v$29=(c6.EncodeUnion(void 0,"$",[[0,[["$0","Item1",_4.j$30,1],["$1","Item2",_4.j$3,0]]]]))();};_3.j$39=function(){return _3._v$39?_3._v$39:_3._v$39=(c6.DecodeRecord(void 0,[["titular",c6.Id(),0],["tipoTarjeta",_3.j$40,0],["numero",_3.j$41,0],["expiracion",_3.j$42,0]]))();};_4.j$39=function(){return _4._v$39?_4._v$39:_4._v$39=(c6.EncodeRecord(void 0,[["titular",c6.Id(),0],["tipoTarjeta",_4.j$40,0],["numero",_4.j$41,0],["expiracion",_4.j$42,0]]))();};_3.j$44=function(){return _3._v$44?_3._v$44:_3._v$44=(c6.DecodeRecord(void 0,[["titular",c6.Id(),0],["banco",c6.Id(),0],["tipo",_3.j$45,0],["numero",_3.j$46,0],["routing",_3.j$47,0]]))();};_4.j$44=function(){return _4._v$44?_4._v$44:_4._v$44=(c6.EncodeRecord(void 0,[["titular",c6.Id(),0],["banco",c6.Id(),0],["tipo",_4.j$45,0],["numero",_4.j$46,0],["routing",_4.j$47,0]]))();};_3.j$21=function(){return _3._v$21?_3._v$21:_3._v$21=(c6.DecodeUnion(void 0,"$",[[0,[["$0","ResultValue",_3.j$22,0]]],[1,[["$0","ErrorValue",c6.Id(),0]]]]))();};_3.j$23=function(){return _3._v$23?_3._v$23:_3._v$23=(c6.DecodeRecord(void 0,[["emisor",_3.j$24,0],["documento",_3.j$26,0],["emision",c6.DecodeDateTime(),0],["vence",c6.DecodeDateTime(),0]]))();};_3.j$27=function(){return _3._v$27?_3._v$27:_3._v$27=(c6.DecodeUnion(bE,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};_3.j$28=function(){return _3._v$28?_3._v$28:_3._v$28=(c6.DecodeUnion(bF,"$",[[0,[]],[1,[]]]))();};_3.j$15=function(){return _3._v$15?_3._v$15:_3._v$15=(c6.DecodeUnion(b3,"$",[[0,[]],[1,[]],[2,[]],[3,[["$0","Item",c6.Id(),0]]]]))();};_3.j$18=function(){return _3._v$18?_3._v$18:_3._v$18=(c6.DecodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]]]))();};_3.j$10=function(){return _3._v$10?_3._v$10:_3._v$10=(c6.DecodeRecord(void 0,[["authorizeIdR",_3.j$11,0],["tipoDireccion",_3.j$13,0],["linea1",c6.Id(),0],["linea2",c6.Id(),0],["ciudad",c6.Id(),0],["estado",_3.j$14,0],["pais",_3.j$15,0],["zonaPostal",_3.j$16,0]]))();};_3.j$9=function(){return _3._v$9?_3._v$9:_3._v$9=(c6.DecodeRecord(bd,[["email",c6.Id(),0],["enviado",c6.DecodeDateTime(),1],["recibido",c6.DecodeDateTime(),1]]))();};_3.j$7=function(){return _3._v$7?_3._v$7:_3._v$7=(c6.DecodeRecord(void 0,[["tipoTelefono",_3.j$8,0],["codigoPais",c6.Id(),0],["codigoArea",c6.Id(),0],["numero",c6.Id(),0],["extension",c6.Id(),0],["mensajes",c6.Id(),0]]))();};_4.j$21=function(){return _4._v$21?_4._v$21:_4._v$21=(c6.EncodeUnion(void 0,"$",[[0,[["$0","ResultValue",_4.j$22,0]]],[1,[["$0","ErrorValue",c6.Id(),0]]]]))();};_4.j$23=function(){return _4._v$23?_4._v$23:_4._v$23=(c6.EncodeRecord(void 0,[["emisor",_4.j$24,0],["documento",_4.j$26,0],["emision",c6.EncodeDateTime(),0],["vence",c6.EncodeDateTime(),0]]))();};_4.j$27=function(){return _4._v$27?_4._v$27:_4._v$27=(c6.EncodeUnion(bE,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};_4.j$28=function(){return _4._v$28?_4._v$28:_4._v$28=(c6.EncodeUnion(bF,"$",[[0,[]],[1,[]]]))();};_4.j$15=function(){return _4._v$15?_4._v$15:_4._v$15=(c6.EncodeUnion(b3,"$",[[0,[]],[1,[]],[2,[]],[3,[["$0","Item",c6.Id(),0]]]]))();};_4.j$18=function(){return _4._v$18?_4._v$18:_4._v$18=(c6.EncodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]]]))();};_4.j$10=function(){return _4._v$10?_4._v$10:_4._v$10=(c6.EncodeRecord(void 0,[["authorizeIdR",_4.j$11,0],["tipoDireccion",_4.j$13,0],["linea1",c6.Id(),0],["linea2",c6.Id(),0],["ciudad",c6.Id(),0],["estado",_4.j$14,0],["pais",_4.j$15,0],["zonaPostal",_4.j$16,0]]))();};_4.j$9=function(){return _4._v$9?_4._v$9:_4._v$9=(c6.EncodeRecord(bd,[["email",c6.Id(),0],["enviado",c6.EncodeDateTime(),1],["recibido",c6.EncodeDateTime(),1]]))();};_4.j$7=function(){return _4._v$7?_4._v$7:_4._v$7=(c6.EncodeRecord(void 0,[["tipoTelefono",_4.j$8,0],["codigoPais",c6.Id(),0],["codigoArea",c6.Id(),0],["numero",c6.Id(),0],["extension",c6.Id(),0],["mensajes",c6.Id(),0]]))();};_3.j$30=function(){return _3._v$30?_3._v$30:_3._v$30=(c6.DecodeRecord(void 0,[["idAliado",_3.j$5,0],["aliados",c6.DecodeArray(_3.j$20),0],["anoActual",c6.Id(),0],["periodoActual",c6.Id(),0],["premisas",c6.Id(),0],["nevento",c6.Id(),0]]))();};_4.j$30=function(){return _4._v$30?_4._v$30:_4._v$30=(c6.EncodeRecord(void 0,[["idAliado",_4.j$5,0],["aliados",c6.EncodeArray(_4.j$20),0],["anoActual",c6.Id(),0],["periodoActual",c6.Id(),0],["premisas",c6.Id(),0],["nevento",c6.Id(),0]]))();};_3.j$34=function(){return _3._v$34?_3._v$34:_3._v$34=(c6.DecodeUnion(void 0,"$",[[0,[["$0","Item1",c6.DecodeArray(_3.j$35),1],["$1","Item2",_3.j$3,0]]]]))();};_4.j$34=function(){return _4._v$34?_4._v$34:_4._v$34=(c6.EncodeUnion(void 0,"$",[[0,[["$0","Item1",c6.EncodeArray(_4.j$35),1],["$1","Item2",_4.j$3,0]]]]))();};_3.j$40=function(){return _3._v$40?_3._v$40:_3._v$40=(c6.DecodeUnion(cN,"$",[[0,[]],[1,[]],[2,[]],[3,[["$0","Item",c6.Id(),0]]]]))();};_3.j$41=function(){return _3._v$41?_3._v$41:_3._v$41=(c6.DecodeUnion(cc,"$",[[0,[["$0","Item",c6.Id(),0]]]]))();};_3.j$42=function(){return _3._v$42?_3._v$42:_3._v$42=(c6.DecodeRecord(cM,[["anio",c6.Id(),0],["mes",c6.Id(),0]]))();};_4.j$40=function(){return _4._v$40?_4._v$40:_4._v$40=(c6.EncodeUnion(cN,"$",[[0,[]],[1,[]],[2,[]],[3,[["$0","Item",c6.Id(),0]]]]))();};_4.j$41=function(){return _4._v$41?_4._v$41:_4._v$41=(c6.EncodeUnion(cc,"$",[[0,[["$0","Item",c6.Id(),0]]]]))();};_4.j$42=function(){return _4._v$42?_4._v$42:_4._v$42=(c6.EncodeRecord(cM,[["anio",c6.Id(),0],["mes",c6.Id(),0]]))();};_3.j$45=function(){return _3._v$45?_3._v$45:_3._v$45=(c6.DecodeUnion(cP,"$",[[0,[]],[1,[]],[2,[["$0","Item",c6.Id(),0]]]]))();};_3.j$46=function(){return _3._v$46?_3._v$46:_3._v$46=(c6.DecodeUnion(ce,"$",[[0,[["$0","Item",c6.Id(),0]]]]))();};_3.j$47=function(){return _3._v$47?_3._v$47:_3._v$47=(c6.DecodeUnion(cO,"$",[[0,[["$0","Item",c6.Id(),0]]]]))();};_4.j$45=function(){return _4._v$45?_4._v$45:_4._v$45=(c6.EncodeUnion(cP,"$",[[0,[]],[1,[]],[2,[["$0","Item",c6.Id(),0]]]]))();};_4.j$46=function(){return _4._v$46?_4._v$46:_4._v$46=(c6.EncodeUnion(ce,"$",[[0,[["$0","Item",c6.Id(),0]]]]))();};_4.j$47=function(){return _4._v$47?_4._v$47:_4._v$47=(c6.EncodeUnion(cO,"$",[[0,[["$0","Item",c6.Id(),0]]]]))();};_3.j$22=function(){return _3._v$22?_3._v$22:_3._v$22=(c6.DecodeUnion(bC,"$",[[0,[["$0","Item",c6.Id(),0]]]]))();};_3.j$24=function(){return _3._v$24?_3._v$24:_3._v$24=(c6.DecodeUnion(void 0,"$",[[0,[["$0","Item",_3.j$15,0]]],[1,[["$0","Item",_3.j$25,0]]]]))();};_3.j$26=function(){return _3._v$26?_3._v$26:_3._v$26=(c6.DecodeUnion(void 0,"$",[[0,[["$0","Item",c6.Id(),0]]],[1,[["$0","Item",c6.Id(),0]]],[2,[["$0","Item",c6.Id(),0]]]]))();};_3.j$11=function(){return _3._v$11?_3._v$11:_3._v$11=(c6.DecodeUnion(void 0,"$",[[0,[["$0","ResultValue",_3.j$12,0]]],[1,[["$0","ErrorValue",c6.Id(),0]]]]))();};_3.j$13=function(){return _3._v$13?_3._v$13:_3._v$13=(c6.DecodeUnion(b7,"$",[[0,[]],[1,[]],[2,[]],[3,[["$0","Item",c6.Id(),0]]]]))();};_3.j$14=function(){return _3._v$14?_3._v$14:_3._v$14=(c6.DecodeUnion(b8,"$",[[0,[]],[1,[]],[2,[["$0","Item",c6.Id(),0]]]]))();};_3.j$16=function(){return _3._v$16?_3._v$16:_3._v$16=(c6.DecodeUnion(b9,"$",[[0,[["$0","Item",c6.Id(),0]]]]))();};_3.j$8=function(){return _3._v$8?_3._v$8:_3._v$8=(c6.DecodeUnion(b5,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};_4.j$22=function(){return _4._v$22?_4._v$22:_4._v$22=(c6.EncodeUnion(bC,"$",[[0,[["$0","Item",c6.Id(),0]]]]))();};_4.j$24=function(){return _4._v$24?_4._v$24:_4._v$24=(c6.EncodeUnion(void 0,"$",[[0,[["$0","Item",_4.j$15,0]]],[1,[["$0","Item",_4.j$25,0]]]]))();};_4.j$26=function(){return _4._v$26?_4._v$26:_4._v$26=(c6.EncodeUnion(void 0,"$",[[0,[["$0","Item",c6.Id(),0]]],[1,[["$0","Item",c6.Id(),0]]],[2,[["$0","Item",c6.Id(),0]]]]))();};_4.j$11=function(){return _4._v$11?_4._v$11:_4._v$11=(c6.EncodeUnion(void 0,"$",[[0,[["$0","ResultValue",_4.j$12,0]]],[1,[["$0","ErrorValue",c6.Id(),0]]]]))();};_4.j$13=function(){return _4._v$13?_4._v$13:_4._v$13=(c6.EncodeUnion(b7,"$",[[0,[]],[1,[]],[2,[]],[3,[["$0","Item",c6.Id(),0]]]]))();};_4.j$14=function(){return _4._v$14?_4._v$14:_4._v$14=(c6.EncodeUnion(b8,"$",[[0,[]],[1,[]],[2,[["$0","Item",c6.Id(),0]]]]))();};_4.j$16=function(){return _4._v$16?_4._v$16:_4._v$16=(c6.EncodeUnion(b9,"$",[[0,[["$0","Item",c6.Id(),0]]]]))();};_4.j$8=function(){return _4._v$8?_4._v$8:_4._v$8=(c6.EncodeUnion(b5,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};_3.j$35=function(){return _3._v$35?_3._v$35:_3._v$35=(c6.DecodeRecord(void 0,[["nombre",c6.Id(),0],["authorizeIdR",_3.j$36,0],["cuentaPago",_3.j$38,0]]))();};_4.j$35=function(){return _4._v$35?_4._v$35:_4._v$35=(c6.EncodeRecord(void 0,[["nombre",c6.Id(),0],["authorizeIdR",_4.j$36,0],["cuentaPago",_4.j$38,0]]))();};_3.j$25=function(){return _3._v$25?_3._v$25:_3._v$25=(c6.DecodeUnion(void 0,"$",[[0,[["$0","Item",_3.j$14,0]]]]))();};_3.j$12=function(){return _3._v$12?_3._v$12:_3._v$12=(c6.DecodeUnion(cH,"$",[[0,[["$0","Item",c6.Id(),0]]]]))();};_4.j$25=function(){return _4._v$25?_4._v$25:_4._v$25=(c6.EncodeUnion(void 0,"$",[[0,[["$0","Item",_4.j$14,0]]]]))();};_4.j$12=function(){return _4._v$12?_4._v$12:_4._v$12=(c6.EncodeUnion(cH,"$",[[0,[["$0","Item",c6.Id(),0]]]]))();};_3.j$36=function(){return _3._v$36?_3._v$36:_3._v$36=(c6.DecodeUnion(void 0,"$",[[0,[["$0","ResultValue",_3.j$37,0]]],[1,[["$0","ErrorValue",c6.Id(),0]]]]))();};_3.j$38=function(){return _3._v$38?_3._v$38:_3._v$38=(c6.DecodeUnion(void 0,"$",[[0,[[null,null,_3.j$44]]],[1,[[null,null,_3.j$39]]],[2,[["$0","Item",c6.Id(),0]]]]))();};_4.j$36=function(){return _4._v$36?_4._v$36:_4._v$36=(c6.EncodeUnion(void 0,"$",[[0,[["$0","ResultValue",_4.j$37,0]]],[1,[["$0","ErrorValue",c6.Id(),0]]]]))();};_4.j$38=function(){return _4._v$38?_4._v$38:_4._v$38=(c6.EncodeUnion(void 0,"$",[[0,[[null,null,_4.j$44]]],[1,[[null,null,_4.j$39]]],[2,[["$0","Item",c6.Id(),0]]]]))();};_3.j$37=function(){return _3._v$37?_3._v$37:_3._v$37=(c6.DecodeUnion(cE,"$",[[0,[["$0","Item",c6.Id(),0]]]]))();};_4.j$37=function(){return _4._v$37?_4._v$37:_4._v$37=(c6.EncodeUnion(cE,"$",[[0,[["$0","Item",c6.Id(),0]]]]))();};_5.filaaliado=function(d2){cx.LoadLocalTemplates("index");return d2?cx.NamedTemplate("index",{$:1,$0:"filaaliado"},d2):void 0;};_5.tablaaliados=function(d2){cx.LoadLocalTemplates("index");return d2?cx.NamedTemplate("index",{$:1,$0:"tablaaliados"},d2):void 0;};_5.aliado=function(d2){cx.LoadLocalTemplates("index");return d2?cx.NamedTemplate("index",{$:1,$0:"aliado"},d2):void 0;};_5.calculo=function(d2){cx.LoadLocalTemplates("index");return d2?cx.NamedTemplate("index",{$:1,$0:"calculo"},d2):void 0;};_6.p$2=function(d2){return d2.$==2?"Mensaje "+bt.prettyPrint(d2.$0):d2.$==1?"NuevoRegistro "+bt.prettyPrint(d2.$0):"ROk";};_5.formaregistro=function(d2){cx.LoadLocalTemplates("index");return d2?cx.NamedTemplate("index",{$:1,$0:"formaregistro"},d2):void 0;};_7.r=function(){return cA.JSUnion(void 0,[[null,[[null,[]]],[]],[null,[[null,["Content"]]],[cA.rString()]]]);};_5.datospersonales=function(d2){cx.LoadLocalTemplates("index");return d2?cx.NamedTemplate("index",{$:1,$0:"datospersonales"},d2):void 0;};_6.p$1=function(d2){return d2.$==2?"Empresa":d2.$==1?"Femenino":"Masculino";};_5.correo=function(d2){cx.LoadLocalTemplates("index");return d2?cx.NamedTemplate("index",{$:1,$0:"correo"},d2):void 0;};_5.telefono=function(d2){cx.LoadLocalTemplates("index");return d2?cx.NamedTemplate("index",{$:1,$0:"telefono"},d2):void 0;};_5.direccion=function(d2){cx.LoadLocalTemplates("index");return d2?cx.NamedTemplate("index",{$:1,$0:"direccion"},d2):void 0;};_5.formadatospersonales=function(d2){cx.LoadLocalTemplates("index");return d2?cx.NamedTemplate("index",{$:1,$0:"formadatospersonales"},d2):void 0;};_5.formacontactos=function(d2){cx.LoadLocalTemplates("index");return d2?cx.NamedTemplate("index",{$:1,$0:"formacontactos"},d2):void 0;};_5.formacuentas=function(d2){cx.LoadLocalTemplates("index");return d2?cx.NamedTemplate("index",{$:1,$0:"formacuentas"},d2):void 0;};_6.p$3=function(d2){return"IdPayment "+bt.prettyPrint(d2.$0);};_5.cuentabancaria=function(d2){cx.LoadLocalTemplates("index");return d2?cx.NamedTemplate("index",{$:1,$0:"cuentabancaria"},d2):void 0;};_5.tarjetacredito=function(d2){cx.LoadLocalTemplates("index");return d2?cx.NamedTemplate("index",{$:1,$0:"tarjetacredito"},d2):void 0;};_6.p=function(d2){return d2.$==3?"ResetPassword":d2.$==2?"EditProfile":d2.$==1?"SignUp":"SignIn";};_8.sortWith=function(d2,d3){return _8.delay(function(){var d4;d4=D.ofSeq(d3);D.sortInPlaceWith(d2,d4);return d4;});};_8.filter=function(d2,d3){return{GetEnumerator:function(){var d4;d4=bX.Get(d3);return new bY.New(null,null,function(d5){var d6,d7,d8;d6=d4.MoveNext();d7=d4.Current();d8=false;while(d6)if(d2(d7)){d5.c=d7;d8=true;d6=false;}else if(d4.MoveNext())d7=d4.Current();else d6=false;return d8;},function(){d4.Dispose();});}};};_8.isEmpty=function(d2){var d3;d3=bX.Get(d2);try{return!d3.MoveNext();}finally{if(typeof d3=="object"&&"Dispose"in d3)d3.Dispose();}};_8.map=function(d2,d3){return{GetEnumerator:function(){var d4;d4=bX.Get(d3);return new bY.New(null,null,function(d5){return d4.MoveNext()&&(d5.c=d2(d4.Current()),true);},function(){d4.Dispose();});}};};_8.delay=function(d2){return{GetEnumerator:function(){return bX.Get(d2());}};};_8.append=function(d2,d3){return{GetEnumerator:function(){var d4,d5;d4=bX.Get(d2);d5=[true];return new bY.New(d4,null,function(d6){var d7;return d6.s.MoveNext()?(d6.c=d6.s.Current(),true):(d7=d6.s,!z.Equals(d7,null)?d7.Dispose():void 0,d6.s=null,d5[0]&&(d5[0]=false,d6.s=bX.Get(d3),d6.s.MoveNext()?(d6.c=d6.s.Current(),true):(d6.s.Dispose(),d6.s=null,false)));},function(d6){var d7;d7=d6.s;!z.Equals(d7,null)?d7.Dispose():void 0;});}};};_8.collect=function(d2,d3){return _8.concat(_8.map(d2,d3));};_8.min=function(d2){var d3,d4,d5;d3=bX.Get(d2);try{if(!d3.MoveNext())_8.seqEmpty();d4=d3.Current();while(d3.MoveNext()){d5=d3.Current();z.Compare(d5,d4)===-1?d4=d5:void 0;}return d4;}finally{if(typeof d3=="object"&&"Dispose"in d3)d3.Dispose();}};_8.tryPick=function(d2,d3){var d4,d5;d4=bX.Get(d3);try{d5=null;while(z.Equals(d5,null)&&d4.MoveNext())d5=d2(d4.Current());return d5;}finally{if(typeof d4=="object"&&"Dispose"in d4)d4.Dispose();}};_8.tryFind=function(d2,d3){var d4,d5,d6;d4=bX.Get(d3);try{d5=null;while(d5==null&&d4.MoveNext()){d6=d4.Current();d2(d6)?d5={$:1,$0:d6}:void 0;}return d5;}finally{if(typeof d4=="object"&&"Dispose"in d4)d4.Dispose();}};_8.distinct=function(d2){return _8.distinctBy(a.id,d2);};_8.sort=function(d2){return _8.sortBy(a.id,d2);};_8.groupBy=function(d2,d3){return _8.delay(function(){return D.groupBy(d2,D.ofSeq(d3));});};_8.concat=function(d2){return{GetEnumerator:function(){var d3;d3=bX.Get(d2);return new bY.New(null,null,function(d4){var d5;while(true){d5=d4.s;if(z.Equals(d5,null)){if(d3.MoveNext()){d4.s=bX.Get(d3.Current());d4=d4;}else{d3.Dispose();return false;}}else if(d5.MoveNext()){d4.c=d5.Current();return true;}else{d4.Dispose();d4.s=null;d4=d4;}}},function(d4){var d5;d5=d4.s;!z.Equals(d5,null)?d5.Dispose():void 0;!z.Equals(d3,null)?d3.Dispose():void 0;});}};};_8.seqEmpty=function(){return u.FailWith("The input sequence was empty.");};_8.indexed=function(d2){return _8.mapi(function(d3,d4){return[d3,d4];},d2);};_8.choose=function(d2,d3){return _8.collect(function(d4){var d5;d5=d2(d4);return d5==null?bs.Empty:br.ofArray([d5.$0]);},d3);};_8.tryFindIndex=function(d2,d3){var d4,d5,d6;d4=bX.Get(d3);try{d5=true;d6=0;while(d5&&d4.MoveNext())if(d2(d4.Current()))d5=false;else d6=d6+1;return d5?null:{$:1,$0:d6};}finally{if(typeof d4=="object"&&"Dispose"in d4)d4.Dispose();}};_8.distinctBy=function(d2,d3){return{GetEnumerator:function(){var d4,d5;d4=bX.Get(d3);d5=new bA.New$3();return new bY.New(null,null,function(d6){var d7,d8;if(d4.MoveNext()){d7=d4.Current();d8=d5.Add(d2(d7));while(!d8&&d4.MoveNext()){d7=d4.Current();d8=d5.Add(d2(d7));}return d8&&(d6.c=d7,true);}else return false;},function(){d4.Dispose();});}};};_8.sortBy=function(d2,d3){return _8.delay(function(){var d4;d4=D.ofSeq(d3);D.sortInPlaceBy(d2,d4);return d4;});};_8.mapi=function(d2,d3){return _8.map2(d2,_8.initInfinite(a.id),d3);};_8.pairwise=function(d2){return _8.map(function(d3){return[D.get(d3,0),D.get(d3,1)];},_8.windowed(2,d2));};_8.forall2=function(d2,d3,d4){return!_8.exists2(function(d5,d6){return!d2(d5,d6);},d3,d4);};_8.iteri=function(d2,d3){var d4,d5;d4=0;d5=bX.Get(d3);try{while(d5.MoveNext()){d2(d4,d5.Current());d4=d4+1;}}finally{if(typeof d5=="object"&&"Dispose"in d5)d5.Dispose();}};_8.map2=function(d2,d3,d4){return{GetEnumerator:function(){var d5,d6;d5=bX.Get(d3);d6=bX.Get(d4);return new bY.New(null,null,function(d7){return d5.MoveNext()&&d6.MoveNext()&&(d7.c=d2(d5.Current(),d6.Current()),true);},function(){d5.Dispose();d6.Dispose();});}};};_8.initInfinite=function(d2){return{GetEnumerator:function(){return new bY.New(0,null,function(d3){d3.c=d2(d3.s);d3.s=d3.s+1;return true;},void 0);}};};_8.skip=function(d2,d3){return{GetEnumerator:function(){var d4;d4=bX.Get(d3);return new bY.New(true,null,function(d5){var d6,d7;if(d5.s){for(d6=1,d7=d2;d6<=d7;d6++)if(!d4.MoveNext())_8.insufficient();d5.s=false;}else null;return d4.MoveNext()&&(d5.c=d4.Current(),true);},function(){d4.Dispose();});}};};_8.nth=function(d2,d3){var d4,d5;if(d2<0)u.FailWith("negative index requested");d4=-1;d5=bX.Get(d3);try{while(d4<d2){!d5.MoveNext()?_8.insufficient():void 0;d4=d4+1;}return d5.Current();}finally{if(typeof d5=="object"&&"Dispose"in d5)d5.Dispose();}};_8.init=function(d2,d3){return _8.take(d2,_8.initInfinite(d3));};_8.windowed=function(d2,d3){d2<=0?u.FailWith("The input must be positive."):void 0;return _8.delay(function(){return _8.enumUsing(bX.Get(d3),function(d4){var d5;d5=[];return _8.append(_8.enumWhile(function(){return d5.length<d2&&d4.MoveNext();},_8.delay(function(){d5.push(d4.Current());return[];})),_8.delay(function(){return d5.length===d2?_8.append([d5.slice(0)],_8.delay(function(){return _8.enumWhile(function(){return d4.MoveNext();},_8.delay(function(){d5.shift();d5.push(d4.Current());return[d5.slice(0)];}));})):[];}));});});};_8.exists2=function(d2,d3,d4){var d5,d6,d7,d8;d5=bX.Get(d3);try{d7=bX.Get(d4);try{d8=false;while(!d8&&d5.MoveNext()&&d7.MoveNext())d8=d2(d5.Current(),d7.Current());d6=d8;}finally{if(typeof d7=="object"&&"Dispose"in d7)d7.Dispose();}return d6;}finally{if(typeof d5=="object"&&"Dispose"in d5)d5.Dispose();}};_8.compareWith=function(d2,d3,d4){var d5,d6,d7,d8,d9;d5=bX.Get(d3);try{d7=bX.Get(d4);try{d8=0;d9=true;while(d9&&d8===0)if(d5.MoveNext())d8=d7.MoveNext()?d2(d5.Current(),d7.Current()):1;else if(d7.MoveNext())d8=-1;else d9=false;d6=d8;}finally{if(typeof d7=="object"&&"Dispose"in d7)d7.Dispose();}return d6;}finally{if(typeof d5=="object"&&"Dispose"in d5)d5.Dispose();}};_8.iter=function(d2,d3){var d4;d4=bX.Get(d3);try{while(d4.MoveNext())d2(d4.Current());}finally{if(typeof d4=="object"&&"Dispose"in d4)d4.Dispose();}};_8.head=function(d2){var d3;d3=bX.Get(d2);try{return d3.MoveNext()?d3.Current():_8.insufficient();}finally{if(typeof d3=="object"&&"Dispose"in d3)d3.Dispose();}};_8.fold=function(d2,d3,d4){var d5,d6;d5=d3;d6=bX.Get(d4);try{while(d6.MoveNext())d5=d2(d5,d6.Current());return d5;}finally{if(typeof d6=="object"&&"Dispose"in d6)d6.Dispose();}};_8.take=function(d2,d3){d2<0?_8.nonNegative():void 0;return{GetEnumerator:function(){var d4;d4=[bX.Get(d3)];return new bY.New(0,null,function(d5){var d6;d5.s=d5.s+1;return d5.s>d2?false:(d6=d4[0],z.Equals(d6,null)?_8.insufficient():d6.MoveNext()?(d5.c=d6.Current(),d5.s===d2?(d6.Dispose(),d4[0]=null):void 0,true):(d6.Dispose(),d4[0]=null,_8.insufficient()));},function(){var d5;d5=d4[0];!z.Equals(d5,null)?d5.Dispose():void 0;});}};};_8.unfold=function(d2,d3){return{GetEnumerator:function(){return new bY.New(d3,null,function(d4){var d5;d5=d2(d4.s);return d5==null?false:(d4.c=d5.$0[0],d4.s=d5.$0[1],true);},void 0);}};};_8.max=function(d2){var d3,d4,d5;d3=bX.Get(d2);try{if(!d3.MoveNext())_8.seqEmpty();d4=d3.Current();while(d3.MoveNext()){d5=d3.Current();z.Compare(d5,d4)===1?d4=d5:void 0;}return d4;}finally{if(typeof d3=="object"&&"Dispose"in d3)d3.Dispose();}};_8.forall=function(d2,d3){return!_8.exists(function(d4){return!d2(d4);},d3);};_8.exists=function(d2,d3){var d4,d5;d4=bX.Get(d3);try{d5=false;while(!d5&&d4.MoveNext())d5=d2(d4.Current());return d5;}finally{if(typeof d4=="object"&&"Dispose"in d4)d4.Dispose();}};_.op_AmpGreater=function(d2,d3,d4,d5){var d6;d6=d2(d4,d5);return d6===0?d3(d4,d5):d6;};_.asc=function(d2,d3,d4){return z.Compare(d2(d3),d2(d4));};_.desc=function(d2,d3,d4){return z.Compare(d2(d4),d2(d3));};$.New=function(d2,d3,d4,d5,d6,d7){return{hijosDe:d2,nivelDe:d3,aliado:d4,aliadoO:d5,hijos:d6,descendientes:d7};};bb=ba.FSharpSet=dU.Class({Contains:function(d2){return bZ.Contains(d2,this.tree);},Remove:function(d2){return new bb.New$1(bZ.Remove(d2,this.tree));},Add:function(d2){return new bb.New$1(bZ.Add(d2,this.tree));},Equals:function(d2){return this.get_Count()===d2.get_Count()&&_8.forall2(z.Equals,this,d2);},GetEnumerator$1:function(){return bX.Get(bZ.Enumerate(false,this.tree));},get_Count:function(){var d2;d2=this.tree;return d2==null?0:d2.Count;},GetHashCode:function(){return -1741749453+z.Hash(D.ofSeq(this));},GetEnumerator:function(){return this.GetEnumerator$1();},CompareTo0:function(d2){return _8.compareWith(z.Compare,this,d2);},GetEnumerator0:function(){return this.GetEnumerator$1();}},f,bb);bb.New=dU.Ctor(function(d2){bb.New$1.call(this,bZ.OfSeq(d2));},bb);bb.New$1=dU.Ctor(function(d2){f.New.call(this);this.tree=d2;},bb);bc.PadLeft=function(d2,d3){return bc.PadLeftWith(d2,d3," ");};bc.concat=function(d2,d3){return D.ofSeq(d3).join(d2);};bc.PadLeftWith=function(d2,d3,d4){return d3>d2.length?a.Array(d3-d2.length+1).join(d4)+d2:d2;};bc.Trim=function(d2){return d2.replace(new a.RegExp("^\\s+"),"").replace(new a.RegExp("\\s+$"),"");};bc.Substring=function(d2,d3,d4){return d2.substr(d3,d4);};bc.Replace=function(d2,d3,d4){function d5(d6){var d7,d8,d9;d7=d6.indexOf(d3);return d7!==-1?(d8=bc.ReplaceOnce(d6,d3,d4),(d9=d7+d4.length,bc.Substring(d8,0,d7+d4.length)+d5(d8.substring(d9)))):d6;}return d5(d2);};bc.SplitChars=function(d2,d3,d4){return bc.Split(d2,new a.RegExp("["+bc.RegexEscape(d3.join(""))+"]"),d4);};bc.ReplaceOnce=function(d2,d3,d4){return d2.replace(d3,d4);};bc.Split=function(d2,d3,d4){return d4===1?D.filter(function(d5){return d5!=="";},bc.SplitWith(d2,d3)):bc.SplitWith(d2,d3);};bc.RegexEscape=function(d2){return d2.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};bc.StartsWith=function(d2,d3){return d2.substring(0,d3.length)==d3;};bc.SplitWith=function(d2,d3){return d2.split(d3);};bc.replicate=function(d2,d3){return D.create(d2,d3).join("");};bc.IsNullOrEmpty=function(d2){return d2==null||d2=="";};bc.ReplaceChar=function(d2,d3,d4){return bc.Replace(d2,d3,d4);};bc.SplitStrings=function(d2,d3,d4){return bc.Split(d2,new a.RegExp(bc.concat("|",D.map(bc.RegexEscape,d3))),d4);};bc.forall=function(d2,d3){return _8.forall(d2,bc.protect(d3));};bc.protect=function(d2){return d2===null?"":d2;};bc.Join=function(d2,d3){return d3.join(d2);};bd=N.CorreoElectronico=dU.Class({toString:function(){return this.email;}},null,bd);bd.New=function(d2,d3,d4){return new bd({email:d2,enviado:d3,recibido:d4});};be.formaDoc=function(d2){var d3,d4,d5,d6,d7,d8;d3=(d4=(d5=bV.EmbedView(I.Map(bS.crearOptions,bS.generos().get_View())),H.Make().WithHole({$:0,$0:"generos",$1:d5})),(d6=K.CompleteHoles(d4.k,d4.h,[["nombres",0],["apellidos",0],["fechanacimiento",0],["genero",0]]),(d7=new L.New(d6[1],_5.datospersonales(d6[0])),(d4.i=d7,d7))));I.Sink(function(d9){var d_;if(d9!=null&&d9.$==1){d_=d9.$0;d3.Hole("nombres").Set(bc.Trim(d_.nombre1+" "+d_.nombre2));d3.Hole("apellidos").Set(bc.Trim(d_.apellido1+" "+d_.apellido2));d3.Hole("fechanacimiento").Set(b0.toYYYYMMDD("-",d_.fechaNacimiento));d3.Hole("genero").Set((function(d$){return function(ea){return d$(_6.p$1(ea));};}(a.id))(d_.genero));}},d2.get_View());d8=I.Apply(I.Apply(I.Map2(function(d9,d_){return function(d$){return function(ea){return _8.map(function(eb){return eb[1];},_8.filter(function(eb){return eb[0];},br.ofArray([[bc.Trim(d9)==="","Nombres"],[bc.Trim(d_)==="","Apellidos"],[bc.Trim(d$)==="","Fecha de Nacimiento"],[bc.Trim(ea)==="","Genero"]])));};};},d3.Hole("nombres").get_View(),d3.Hole("apellidos").get_View()),d3.Hole("fechanacimiento").get_View()),d3.Hole("genero").get_View());I.Sink(function(d9){if(!z.Equals(d2.Get(),d9))d2.Set(d9);},I.Apply(I.Apply(I.Apply(I.Apply(I.Apply(I.Map2(function(d9,d_){return dU.Curried(function(d$,ea,eb,ec,ed){return!_8.isEmpty(d9)?null:bS.alertIfNone("Genero",b1.tryParse(d_),function(ee){return bS.alertIfNone("Fecha incorrecta",(b2.parseDateO2())(d$),function(ef){return{$:1,$0:bD.New(null,D.get(bc.SplitChars(bc.Trim(ea),[" "],0),0),bc.concat(" ",bL.array(bc.SplitChars(bc.Trim(eb),[" "],0),{$:1,$0:1},null)),D.get(bc.SplitChars(bc.Trim(ec),[" "],0),0),bc.concat(" ",bL.array(bc.SplitChars(bc.Trim(ed),[" "],0),{$:1,$0:1},null)),new b3({$:3,$0:""}),ee,ef)};});});},5);},d8,d3.Hole("genero").get_View()),d3.Hole("fechanacimiento").get_View()),d3.Hole("nombres").get_View()),d3.Hole("nombres").get_View()),d3.Hole("apellidos").get_View()),d3.Hole("apellidos").get_View()));return[d8,d3.get_Doc()];};bf.formaDoc=function(d2){var d3,d4,d5,d6,d7,d8,d9;d3=h.Create$1("");d4=(d5=H.Make().WithHole({$:2,$0:"mensaje",$1:d3.get_View()}),(d6=K.CompleteHoles(d5.k,d5.h,[["correo",0],["confirmarcorreo",0]]),(d7=new L.New(d6[1],_5.correo(d6[0])),(d5.i=d7,d7))));d8=d2.Get();d8!=null&&d8.$==1?d4.Hole("confirmarcorreo").Set(a.String(d8.$0)):void 0;I.Sink(function(d_){d3.Set(d_);},I.Apply(I.Apply(I.Map2(function(d_,d$){return function(ea){return function(eb){return bc.Trim(d_)===""||bc.Trim(d$)===""||bc.Trim(ea)===bc.Trim(eb)?"":"Correos no son iguales";};};},d4.Hole("correo").get_View(),d4.Hole("confirmarcorreo").get_View()),d4.Hole("correo").get_View()),d4.Hole("confirmarcorreo").get_View()));I.Sink(function(d_){if(d_!=null&&d_.$==1)d4.Hole("correo").Set(d_.$0.email);},d2.get_View());d9=I.Apply(I.Apply(I.Map2(function(d_,d$){return function(ea){return function(eb){return _8.map(function(ec){return ec[1];},_8.filter(function(ec){return ec[0];},br.ofArray([[bc.Trim(d_)==="","Correo"],[bc.Trim(d$)==="","ConfirmarCorreo"],[ea!=="",eb]])));};};},d4.Hole("correo").get_View(),d4.Hole("confirmarcorreo").get_View()),d3.get_View()),d3.get_View());I.Sink(function(d_){if(!z.Equals(d2.Get(),d_))d2.Set(d_);},I.Map2(function(d_,d$){var ea,eb,ec,ed;return!_8.isEmpty(d_)?null:(ea=(eb=d2.Get(),(ec={$:1,$0:N.correoVacio()},eb==null?ec:eb)),ea==null?null:{$:1,$0:(ed=ea.$0,bd.New(d$,ed.enviado,ed.recibido))});},d9,d4.Hole("correo").get_View()));return[d9,d4.get_Doc()];};bg.formaDoc=function(d2){var d3,d4,d5,d6,d7,d8;d3=(d4=(d5=bV.EmbedView(I.Map(bS.crearOptions,bS.tiposTel().get_View())),H.Make().WithHole({$:0,$0:"tipos",$1:d5})),(d6=K.CompleteHoles(d4.k,d4.h,[["tipotelefono",0],["codigopais",0],["codigoarea",0],["telefono",0],["extension",0]]),(d7=new L.New(d6[1],_5.telefono(d6[0])),(d4.i=d7,d7))));I.Sink(function(d9){var d_;if(d9!=null&&d9.$==1){d_=d9.$0;d3.Hole("codigoarea").Set(d_.codigoArea);d3.Hole("codigopais").Set(d_.codigoPais);d3.Hole("telefono").Set(d_.numero);d3.Hole("extension").Set(d_.extension);d3.Hole("tipotelefono").Set((function(d$){return function(ea){return d$(a.String(ea));};}(a.id))(d_.tipoTelefono));}},d2.get_View());d8=I.Apply(I.Map2(function(d9,d_){return function(d$){return _8.map(function(ea){return ea[1];},_8.filter(function(ea){return ea[0];},br.ofArray([[bc.Trim(d9)==="","CodigoPais"],[bc.Trim(d_)==="","Telefono"],[bc.Trim(d$)==="","TipoTelefono"]])));};},d3.Hole("codigopais").get_View(),d3.Hole("telefono").get_View()),d3.Hole("tipotelefono").get_View());I.Sink(function(d9){if(!z.Equals(d2.Get(),d9))d2.Set(d9);},I.Apply(I.Apply(I.Apply(I.Apply(I.Map2(function(d9,d_){return dU.Curried(function(d$,ea,eb,ec){return!_8.isEmpty(d9)?null:bS.alertIfNone("TipoTelefono",(b5.get_tryParse())(bc.Trim(d_)),function(ed){var ee;return{$:1,$0:(ee=bc.Trim(d$),b4.New(ed,bc.Trim(ea),ee,bc.Trim(eb),bc.Trim(ec),false))};});},4);},d8,d3.Hole("tipotelefono").get_View()),d3.Hole("codigoarea").get_View()),d3.Hole("codigopais").get_View()),d3.Hole("telefono").get_View()),d3.Hole("extension").get_View()));return[d8,d3.get_Doc()];};bh.formaDoc=function(d2){var d3,d4,d5,d6,d7,d8,d9,d_;d3=(d4=(d5=bV.EmbedView(I.Map(bS.crearOptions,bS.tiposDir().get_View())),(d6=bV.EmbedView(I.Map(bS.crearOptions,bS.estados().get_View())),(d7=bV.EmbedView(I.Map(bS.crearOptions,bS.paises().get_View())),H.Make().WithHole({$:0,$0:"paises",$1:d7})).WithHole({$:0,$0:"estados",$1:d6})).WithHole({$:0,$0:"tipos",$1:d5})),(d8=K.CompleteHoles(d4.k,d4.h,[["tipodireccion",0],["direccion1",0],["direccion2",0],["ciudad",0],["estado",0],["codigopostal",0],["pais",0]]),(d9=new L.New(d8[1],_5.direccion(d8[0])),(d4.i=d9,d9))));I.Sink(function(d$){var ea;if(d$!=null&&d$.$==1){ea=d$.$0;d3.Hole("direccion1").Set(ea.linea1);d3.Hole("direccion2").Set(ea.linea2);d3.Hole("ciudad").Set(ea.ciudad);d3.Hole("estado").Set((function(eb){return function(ec){return eb(a.String(ec));};}(a.id))(ea.estado));d3.Hole("pais").Set((function(eb){return function(ec){return eb(a.String(ec));};}(a.id))(ea.pais));d3.Hole("codigopostal").Set((function(eb){return function(ec){return eb(a.String(ec));};}(a.id))(ea.zonaPostal));d3.Hole("tipodireccion").Set((function(eb){return function(ec){return eb(a.String(ec));};}(a.id))(ea.tipoDireccion));}},d2.get_View());d_=I.Apply(I.Apply(I.Apply(I.Apply(I.Map2(function(d$,ea){return dU.Curried(function(eb,ec,ed,ee){return _8.map(function(ef){return ef[1];},_8.filter(function(ef){return ef[0];},br.ofArray([[bc.Trim(d$)==="","Direccion1"],[bc.Trim(ea)==="","Ciudad"],[bc.Trim(eb)==="","Estado"],[bc.Trim(ec)==="","Pais"],[bc.Trim(ed)==="","CodigoPostal"],[bc.Trim(ee)==="","TipoDireccion"]])));},4);},d3.Hole("direccion1").get_View(),d3.Hole("ciudad").get_View()),d3.Hole("estado").get_View()),d3.Hole("pais").get_View()),d3.Hole("codigopostal").get_View()),d3.Hole("tipodireccion").get_View());I.Sink(function(d$){if(!z.Equals(d2.Get(),d$))d2.Set(d$);},I.Apply(I.Apply(I.Apply(I.Apply(I.Apply(I.Apply(I.Apply(I.Map2(function(d$,ea){return dU.Curried(function(eb,ec,ed,ee,ef,eg,eh){return!_8.isEmpty(d$)?null:bS.alertIfNone("TipoDireccion",b7.tryParse(bc.Trim(ea)),function(ei){return bS.alertIfNone("Estado",b8.tryParse(bc.Trim(eb)),function(ej){return bS.alertIfNone("Pais",b3.tryParse(bc.Trim(ec)),function(ek){return bS.alertIfNone("CodigoPostal",b9.tryParse(bc.Trim(ed)),function(el){var em;return{$:1,$0:b6.New((em=eh==null?null:{$:1,$0:eh.$0.authorizeIdR},em==null?_9.Error(""):em.$0),ei,bc.Trim(ee),bc.Trim(ef),bc.Trim(eg),ej,ek,el)};});});});});},7);},d_,d3.Hole("tipodireccion").get_View()),d3.Hole("estado").get_View()),d3.Hole("pais").get_View()),d3.Hole("codigopostal").get_View()),d3.Hole("direccion1").get_View()),d3.Hole("direccion2").get_View()),d3.Hole("ciudad").get_View()),d2.get_View()));return[d_,d3.get_Doc()];};bj.asyncResultM=function(){b_.$cctor();return b_.asyncResultM;};bj["AsyncResultMBuilder.Bind"]=function(d2,d3,d4){function d5(d6){return cD.Return(d6);}return bk.bind(d4,cD.Bind(d3,function(d6){return d5(bi.OkM$1(d6));}));};bl=bk.AsyncResultMBuilder=dU.Class({Run:function(d2){return bk.bind(d2,bk.rtn());},Delay:a.id,Bind$4:function(d2,d3){return bk.bind(d3,d2);},Zero:function(){return bk.rtn();},Combine$1:function(d2,d3){return bk.bind(d3,d2);},Return:function(d2){return bk.rtn(d2);},For:function(d2,d3){var d4;d4=this;return this.Using(bX.Get(d2),function(d5){return d4.While(function(){return d5.MoveNext();},d4.Delay(function(){return d3(d5.Current());}));});},Using:function(d2,d3){return cD.Using(d2,d3);},While:function(d2,d3){return bk.whileLoop(d2,d3);}},f,bl);bl.New=dU.Ctor(function(){f.New.call(this);},bl);bm.refrescarData=function(d2){var d3,d4,d5;d2?bm.set_shouldRefresh(true):void 0;d3=bq.userO().Get();d3!=null&&d3.$==1?(d4=d3.$0,J.iterA((d5=bj.asyncResultM(),d5.Run(d5.Delay(function(){return d5.Combine$1(bq.referidoPor()!==""?d5.Bind$4(J.agregarUsuarioSiEsNuevo(bq.claims(d4)),function(){return d5.Return();}):d5.Zero(),d5.Delay(function(){return!self.document.hidden?bm.shouldRefresh()?d5.Bind$4(J.obtenerEstadoParaUsuario(),function(d6){bm.set_shouldRefresh(false);return!z.Equals(l.modeloV().Get(),d6)?(l.modeloV().Set(d6),d5.Zero()):d5.Zero();}):d5.Zero():d5.Zero();}));}))))):l.modeloV().Set(N.modeloVacio());};bm.set_shouldRefresh=function(d2){U.$cctor();U.shouldRefresh=d2;};bm.shouldRefresh=function(){U.$cctor();return U.shouldRefresh;};bo.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new a.RegExp("[xy]","g"),function(d2){var d3,d4;d3=dV.random()*16|0;d4=d2=="x"?d3:d3&3|8;return d4.toString(16);});};bo.TryParse=function(d2,d3){try{d3.set(bo.Parse(d2));return true;}catch(d4){return false;}};bo.Parse=function(d2){var d3,d4,d5;try{return bo.ParseExact(d2,"D");}catch(d6){try{d3=bo.ParseExact(d2,"B");}catch(d7){try{d4=bo.ParseExact(d2,"P");}catch(d8){try{d5=bo.ParseExact(d2,"N");}catch(d9){d5=bo.ParseExact(d2,"X");}d4=d5;}d3=d4;}return d3;}};bo.ParseExact=function(d2,d3){var d4,d5,d6,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef;function d7(eg){var eh,ei,ej,ek;for(eh=0,ei=35;eh<=ei;eh++){eh===8||(eh===13||(eh===18||eh===23))?eg[eh]!=="-"?bo.ShapeError():void 0:(ek=eg[eh],!("0"<=ek&&ek<="9"||"a"<=ek&&ek<="f")?bo.ShapeError():void 0);}return eg;}d8=d3.toUpperCase();if(d8==="N"){d9=bc.Trim(d2).toLowerCase();if(d9.length!==32)bo.ShapeError();for(d_=0,d$=31;d_<=d$;d_++){ea=d9[d_];!("0"<=ea&&ea<="9"||"a"<=ea&&ea<="f")?bo.ShapeError():void 0;}return bc.Substring(d9,0,8)+"-"+bc.Substring(d9,8,4)+"-"+bc.Substring(d9,12,4)+"-"+bc.Substring(d9,16,4)+"-"+d9.substring(20);}else if(d8==="D"){d4=bc.Trim(d2).toLowerCase();d4.length!==36?bo.ShapeError():void 0;return d7(d4);}else if(d8==="B"){d5=bc.Trim(d2).toLowerCase();d5.length!==38||d5[0]!=="{"||d5[17]!=="}"?bo.ShapeError():void 0;return d7(bc.Substring(d5,1,36));}else if(d8==="P"){d6=bc.Trim(d2).toLowerCase();d6.length!==38||d6[0]!=="("||d6[17]!==")"?bo.ShapeError():void 0;return d7(bc.Substring(d6,1,36));}else if(d8==="X"){eb=bc.Trim(d2).toLowerCase();if(eb.length!==68)bo.ShapeError();for(ec=0,ed=67;ec<=ed;ec++){switch(ec){case 26:case 0:if(eb[ec]!=="{")bo.ShapeError();break;case 62:case 57:case 52:case 47:case 42:case 37:case 32:case 27:case 19:case 12:case 1:if(eb[ec]!=="0")bo.ShapeError();break;case 63:case 58:case 53:case 48:case 43:case 38:case 33:case 28:case 20:case 13:case 2:if(eb[ec]!=="x")bo.ShapeError();break;case 61:case 56:case 51:case 46:case 41:case 36:case 31:case 25:case 18:case 11:if(eb[ec]!==",")bo.ShapeError();break;case 67:case 66:if(eb[ec]!=="{")bo.ShapeError();break;default:ef=eb[ec];!("0"<=ef&&ef<="9"||"a"<=ef&&ef<="f")?bo.ShapeError():void 0;break;}}return bc.Substring(eb,3,8)+"-"+bc.Substring(eb,14,4)+"-"+bc.Substring(eb,21,4)+"-"+bc.Substring(eb,29,2)+bc.Substring(eb,34,2)+"-"+bc.Substring(eb,39,2)+bc.Substring(eb,44,2)+bc.Substring(eb,49,2)+bc.Substring(eb,54,2)+bc.Substring(eb,59,2)+bc.Substring(eb,64,2);}else return bo.FormatError();};bo.ShapeError=function(){throw new dI.New$1("Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");};bo.FormatError=function(){throw new dI.New$1("Format String can be only \"D\", \"d\", \"N\", \"n\", \"P\", \"p\", \"B\", \"b\", \"X\" or \"x\".");};bk.iterA=function(d2,d3,d4){function d5(d7){ca.iter(d2,d3,d7);}function d6(d7){return cD.Return(d7);}cD.Start(cD.Bind(d4,function(d7){return d6(d5(d7));}),null);};bk.rtn=function(d2){return cD.Return(bi.OkM$1(d2));};bk.bind=function(d2,d3){var d4;d4=null;return cD.Delay(function(){return cD.TryWith(cD.Delay(function(){return cD.Bind(d3,function(d5){var d6,d7;function d8(d_){return ca.addMsg(d7,d_);}function d9(d_){return cD.Return(d_);}d6=bi.OkM(d5);return d6.$==1?cD.Return(bi.ErrorM(d6.$0)):(d7=d6.$0[1],cD.Bind(d2(d6.$0[0]),function(d_){return d9(d8(d_));}));});}),function(d5){return cD.Return(bi.ErrorM(new bp({$:5,$0:d5.message,$1:d5.stack})));});});};bk.iterpA=function(d2,d3){function d4(d5){_9.print(d5);}bk.iterA(function(d5){return d4(bp.summarized(d5));},d2,d3);};bk.whileLoop=function(d2,d3){return d2()?bk.bind(function(){return bk.whileLoop(d2,d3);},d3()):bk.rtn();};bp.summarized=function(d2){return bp.summarizedF(function(){return[1,0,0];},d2);};bp.summarizedF=function(d2,d3){return bc.concat("\n",_8.filter(function(d4){return""!==d4;},br.ofArray([a.String(d3),bp.summaryF(d2,d3)])));};bp.summaryF=function(d2,d3){var d4,d5;d5=bp.countF(d2,d3);switch(d5[0]===0?d5[1]===0?0:d5[1]===1?d5[2]===0?0:(d4=d5[1],2):(d4=d5[1],2):d5[0]===1?d5[1]===0?d5[2]===0?0:(d4=d5[0],1):(d4=[d5[0],d5[1]],3):d5[1]===0?(d4=d5[0],1):(d4=[d5[0],d5[1]],3)){case 0:return"";case 1:return(function(d6){return function(d7){return d6("Errors   : "+a.String(d7)+"\n");};}(a.id))(d4);case 2:return(function(d6){return function(d7){return d6("Warnings : "+a.String(d7)+"\n");};}(a.id))(d4);case 3:return(((dU.Curried3(function(d6,d7,d8){return d6("Errors   : "+a.String(d7)+", Warnings: "+a.String(d8)+"\n");}))(a.id))(d4[0]))(d4[1]);}};bp.addMsg=function(d2,d3){return d2.$==0?d3:d2.$==6?d3.$==0?d2:d3.$==6?new bp({$:6,$0:d2.$0.concat(d3.$0)}):new bp({$:6,$0:d2.$0.concat([d3])}):d3.$==0?d2:d3.$==6?new bp({$:6,$0:[d2].concat(d3.$0)}):new bp({$:6,$0:[d2,d3]});};bp.countF=function(d2,d3){function d4(d5,d6,d7){return function(d8){return[d5+d8[0],d6+d8[1],d7+d8[2]];};}return d3.$==0?[0,0,0]:d3.$==3?[0,0,1]:d3.$==2?[0,1,0]:d3.$==4?d2(d3.$0):d3.$==6?_8.fold(function(d5,d6){return(function(d7){return d4(d7[0],d7[1],d7[2]);}(d5))(d6);},[0,0,0],_8.map(function(d5){return bp.countF(d2,d5);},bp.exclnoMsg(d3.$0))):[1,0,0];};bp.exclnoMsg=function(d2){function d3(d4){return!d4;}return _8.filter(function(d4){return d3(bp.noMsg(d4));},d2);};bp.noMsg=function(d2){return d2.$==0;};bq.userO=function(){U.$cctor();return U.userO;};bq.logout=function(){bq.executePolicy(true,bN.SignIn);};bq.storeValue=function(d2,d3){bq.storage().setItem(d2,d3);return d3;};bq.getAuthority=function(d2,d3){return((((dU.Curried(function(d4,d5,d6,d7){return d4("https://"+bt.toSafe(d5)+".b2clogin.com/tfp/"+bt.toSafe(d6)+".onmicrosoft.com/"+bt.toSafe(d7));},4))(a.id))(d2))(d2))(d3);};bq.tenantName=function(){U.$cctor();return U.tenantName;};bq.signInPolicy=function(){U.$cctor();return U.signInPolicy;};bq.applicationId=function(){U.$cctor();return U.applicationId;};bq.authority=function(){U.$cctor();return U.authority;};bq.callback=function(d2,d3,d4,d5,d6){((function(d7){return function(d8){return d7("callback: "+("("+bt.prettyPrint(d8[0])+", "+bt.prettyPrint(d8[1])+", "+bt.prettyPrint(d8[2])+", "+bt.prettyPrint(d8[3])+", "+bt.prettyPrint(d8[4])+")"));};}(function(d7){dW.log(d7);}))([d2,d4,d5,d3,d6]));};bq.checkUser=function(){var d2;cD.Start((d2=null,cD.Delay(function(){return cD.Bind(cD.Sleep(100),function(){return cD.While(function(){return true;},cD.Delay(function(){var d3,d4;d3=(d4=bq.agent().getUser(),z.Equals(d4,null)?null:{$:1,$0:d4});return cD.Combine(bq.getId(d3)!==bq.getId(bq.userO().Get())?(bq.userO().Set(d3),cD.Zero()):cD.Zero(),cD.Delay(function(){return cD.Combine(z.Equals(bq.userO().Get(),null)?(bq.executePolicy(false,bN.SignIn),cD.Zero()):cD.Zero(),cD.Delay(function(){return cD.Bind(cD.Sleep(9000),function(){return cD.Return(null);});}));}));}));});})),null);};bq.referidoPor=function(){return bq.localStorage().getItem("referidoPor");};bq.claims=function(d2){var d3;d3=[["oid",d2.idToken.oid],["city",d2.idToken.city],["country",d2.idToken.country],["extension_DateOfBirth",d2.idToken.extension_DateOfBirth],["given_name",d2.idToken.given_name],["postalCode",d2.idToken.postalCode],["state",d2.idToken.state],["streetAddress",d2.idToken.streetAddress],["family_name",d2.idToken.family_name],["emails",D.get(d2.idToken.emails,0)],["referidoPor",bq.referidoPor()]];bq.localStorage().setItem("referidoPor","");return d3;};bq.executePolicy=function(d2,d3){bq.storeValue("forceLogin",d2?"1":"0");bq.storeValue("goInsideLink",self.location.href);bq.storeValue("policyType",a.String(d3));self.location.replace("blob/Msal.html");};bq.storage=function(){U.$cctor();return U.storage;};bq.agent=function(){U.$cctor();return U.agent;};bq.getId=function(d2){var d3;d3=d2==null?null:{$:1,$0:d2.$0.idToken.oid};return d3==null?"":d3.$0;};bq.localStorage=function(){U.$cctor();return U.localStorage;};bs=br.T=dU.Class({GetEnumerator:function(){return new bY.New(this,null,function(d2){var d3;d3=d2.s;return d3.$==0?false:(d2.c=d3.$0,d2.s=d3.$1,true);},void 0);},GetEnumerator0:function(){return bX.Get(this);}},null,bs);bs.Empty=new bs({$:0});bt.toSafe=function(d2){return d2==null?"":d2;};bt.prettyPrint=function(d2){var d3,d4;function d5(d6,d7){return d6+" = "+bt.prettyPrint(d7);}return d2===null?"null":(d3=typeof d2,d3=="string"?"\""+d2+"\"":d3=="object"?d2 instanceof a.Array?"[|"+bc.concat("; ",D.map(bt.prettyPrint,d2))+"|]":(d4=a.String(d2),d4==="[object Object]"?"{"+bc.concat("; ",D.map(function(d6){return d5(d6[0],d6[1]);},y.GetFields(d2)))+"}":d4):a.String(d2));};bt.printList=function(d2,d3){return"["+bc.concat("; ",_8.map(d2,d3))+"]";};bt.padNumLeft=function(d2,d3){var d4;d4=D.get(d2,0);return d4===" "||d4==="+"||d4==="-"?d4+bc.PadLeftWith(d2.substr(1),d3-1,"0"):bc.PadLeftWith(d2,d3,"0");};bu.New=function(d2,d3,d4){return{actName:d2,actFunction:d3,actEnabled:d4};};D.filter=function(d2,d3){var d4,d5,d6;d4=[];for(d5=0,d6=d3.length-1;d5<=d6;d5++)if(d2(d3[d5]))d4.push(d3[d5]);return d4;};D.choose=function(d2,d3){var d4,d5,d6,d7;d4=[];for(d5=0,d6=d3.length-1;d5<=d6;d5++){d7=d2(d3[d5]);d7==null?void 0:d4.push(d7.$0);}return d4;};D.ofSeq=function(d2){var d3,d4;if(d2 instanceof a.Array)return d2.slice();else if(d2 instanceof bs)return D.ofList(d2);else{d3=[];d4=bX.Get(d2);try{while(d4.MoveNext())d3.push(d4.Current());return d3;}finally{if(typeof d4=="object"&&"Dispose"in d4)d4.Dispose();}}};D.sortInPlaceWith=function(d2,d3){d3.sort(d2);};D.tryFind=function(d2,d3){var d4,d5;d4=null;d5=0;while(d5<d3.length&&d4==null){d2(d3[d5])?d4={$:1,$0:d3[d5]}:void 0;d5=d5+1;}return d4;};D.tryFindIndex=function(d2,d3){var d4,d5;d4=null;d5=0;while(d5<d3.length&&d4==null){d2(d3[d5])?d4={$:1,$0:d5}:void 0;d5=d5+1;}return d4;};D.ofList=function(d2){var d3,d4;d4=[];d3=d2;while(!(d3.$==0)){d4.push(br.head(d3));d3=br.tail(d3);}return d4;};D.sortInPlace=function(d2){D.mapInPlace(function(d3){return d3[0];},D.mapiInPlace(function(d3,d4){return[d4,d3];},d2).sort(z.Compare));};D.map=function(d2,d3){var d4,d5,d6;d4=new a.Array(d3.length);for(d5=0,d6=d3.length-1;d5<=d6;d5++)d4[d5]=d2(d3[d5]);return d4;};D.sortInPlaceBy=function(d2,d3){D.mapInPlace(function(d4){return d4[0];},D.mapiInPlace(function(d4,d5){return[d5,[d2(d5),d4]];},d3).sort(function(d4,d5){return z.Compare(d4[1],d5[1]);}));};D.map2=function(d2,d3,d4){var d5,d6,d7;D.checkLength(d3,d4);d5=new a.Array(d4.length);for(d6=0,d7=d4.length-1;d6<=d7;d6++)d5[d6]=d2(d3[d6],d4[d6]);return d5;};D.forall=function(d2,d3){var d4,d5,d6,d7;d4=true;d5=0;d7=D.length(d3);while(d4&&d5<d7)if(d2(d3[d5]))d5=d5+1;else d4=false;return d4;};D.init=function(d2,d3){var d4,d5,d6;d2<0?u.FailWith("Negative size given."):null;d4=new a.Array(d2);for(d5=0,d6=d2-1;d5<=d6;d5++)d4[d5]=d3(d5);return d4;};D.concat=function(d2){return a.Array.prototype.concat.apply([],D.ofSeq(d2));};D.checkLength=function(d2,d3){if(d2.length!==d3.length)u.FailWith("The arrays have different lengths.");};D.tryPick=function(d2,d3){var d4,d5,d6;d4=null;d5=0;while(d5<d3.length&&d4==null){d6=d2(d3[d5]);d6!=null&&d6.$==1?d4=d6:void 0;d5=d5+1;}return d4;};D.exists=function(d2,d3){var d4,d5,d6,d7;d4=false;d5=0;d7=D.length(d3);while(!d4&&d5<d7)if(d2(d3[d5]))d4=true;else d5=d5+1;return d4;};D.pick=function(d2,d3){var d4;d4=D.tryPick(d2,d3);return d4==null?u.FailWith("KeyNotFoundException"):d4.$0;};D.create=function(d2,d3){var d4,d5,d6;d4=new a.Array(d2);for(d5=0,d6=d2-1;d5<=d6;d5++)d4[d5]=d3;return d4;};D.iter=function(d2,d3){var d4,d5;for(d4=0,d5=d3.length-1;d4<=d5;d4++)d2(d3[d4]);};D.foldBack=function(d2,d3,d4){var d5,d6,d7,d8,d9;d5=d4;d7=d3.length;for(d8=1,d9=d7;d8<=d9;d8++)d5=d2(d3[d7-d8],d5);return d5;};D.findIndex=function(d2,d3){var d4;d4=D.tryFindIndex(d2,d3);return d4==null?u.FailWith("KeyNotFoundException"):d4.$0;};D.find=function(d2,d3){var d4;d4=D.tryFind(d2,d3);return d4==null?u.FailWith("KeyNotFoundException"):d4.$0;};_9.print=function(d2){if(typeof d2=="string")((function(d3){return function(d4){return d3(bt.toSafe(d4));};}(function(d3){dW.log(d3);}))(d2));else((function(d3){return function(d4){return d3(bt.prettyPrint(d4));};}(function(d3){dW.log(d3);}))(d2));};_9.Error=function(d2){return{$:1,$0:d2};};_9["String.Left"]=function(d2,d3){return d3<0?_9["String.Substring2"](d2,0,d2.length+d3):_9["String.Substring2"](d2,0,d3);};_9["String.Right"]=function(d2,d3){var d4,d5;return _9["String.Substring2"](d2,(d4=0,(d5=d2.length-d3,z.Compare(d4,d5)===1?d4:d5)),d2.length);};_9.delayed=function(d2,d3){var d4;d4=[null];return function(d5){var d6,d7;d6=d4[0];d6==null?void 0:d6.$0.Cancel$1();d4[0]={$:1,$0:new c_.New()};cD.Start((d7=null,cD.Delay(function(){return cD.Bind(cD.Sleep(d2),function(){d3(d5);return cD.Zero();});})),{$:1,$0:d4[0].$0});};};_9["String.Substring2"]=function(d2,d3,d4){var d5,d6;while(true){if(d4<=0)return"";else if(d3<0){d5=d3;d3=0;d4=d4+d5;}else return d3>=d2.length?"":bc.Substring(d2,d3,(d6=d2.length-d3,z.Compare(d4,d6)===-1?d4:d6));}};bw.New=function(d2,d3){return{lytName:d2,lytDefinition:d3};};bx.$cctor=function(){var d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev;bx.$cctor=a.ignore;function ew(e3){return bc.concat("\n",e3);}function ex(e3){return bK.splitByChar("\n",e3);}function ey(e3){var e4,e5;return bL.array(e3,{$:1,$0:0},{$:1,$0:(e4=0,(e5=D.length(e3)-2,z.Compare(e4,e5)===1?e4:e5))});}function ez(e3){return bc.concat("\n",e3);}function eA(e3){return e3+"T00:00:00";}function eB(e3){var e4;function e5(e7){return j.plugIns().TryFindByKey(e7);}function e6(e7){var e8;e8=j.defaultPlugIn();return e7==null?e8:e7.$0;}e4=function(e7){return e7==null?null:e5(e7.$0);};return function(e7){return e6(e4(e7));};}function eC(e3){var e4;e4=null;return d6.TryGetValue(e3,{get:function(){return e4;},set:function(e5){e4=e5;}})?{$:1,$0:e4}:null;}function eD(e3,e4){d6.set_Item(e3,e4);return e4;}function eE(e3,e4){var e5;e5=eC(e3);return e5==null?eD(e3,e4(e3)):e5.$0;}function eF(e3){var e4;e4=null;return d9.TryGetValue(e3,{get:function(){return e4;},set:function(e5){e4=e5;}})?{$:1,$0:e4}:null;}function eG(e3,e4){d9.set_Item(e3,e4);return e4;}function eH(e3,e4){var e5;e5=eF(e3);return e5==null?eG(e3,e4(e3)):e5.$0;}function eI(e3){var e4;e4=null;return ea.TryGetValue(e3,{get:function(){return e4;},set:function(e5){e4=e5;}})?{$:1,$0:e4}:null;}function eJ(e3,e4){ea.set_Item(e3,e4);return e4;}function eK(e3,e4){var e5;e5=eI(e3);return e5==null?eJ(e3,e4(e3)):e5.$0;}function eL(e3){var e4;e4=null;return ed.TryGetValue(e3,{get:function(){return e4;},set:function(e5){e4=e5;}})?{$:1,$0:e4}:null;}function eM(e3,e4){ed.set_Item(e3,e4);return e4;}function eN(e3,e4){var e5;e5=eL(e3);return e5==null?eM(e3,e4(e3)):e5.$0;}function eO(e3){var e4;e4=null;return eg.TryGetValue(e3,{get:function(){return e4;},set:function(e5){e4=e5;}})?{$:1,$0:e4}:null;}function eP(e3,e4){eg.set_Item(e3,e4);return e4;}function eQ(e3,e4){var e5;e5=eO(e3);return e5==null?eP(e3,e4(e3)):e5.$0;}function eR(e3){var e4;e4=null;return ej.TryGetValue(e3,{get:function(){return e4;},set:function(e5){e4=e5;}})?{$:1,$0:e4}:null;}function eS(e3,e4){ej.set_Item(e3,e4);return e4;}function eT(e3,e4){var e5;e5=eR(e3);return e5==null?eS(e3,e4(e3)):e5.$0;}function eU(e3){var e4;e4=null;return em.TryGetValue(e3,{get:function(){return e4;},set:function(e5){e4=e5;}})?{$:1,$0:e4}:null;}function eV(e3,e4){em.set_Item(e3,e4);return e4;}function eW(e3,e4){var e5;e5=eU(e3);return e5==null?eV(e3,e4(e3)):e5.$0;}function eX(e3){var e4;e4=null;return ep.TryGetValue(e3,{get:function(){return e4;},set:function(e5){e4=e5;}})?{$:1,$0:e4}:null;}function eY(e3,e4){ep.set_Item(e3,e4);return e4;}function eZ(e3,e4){var e5;e5=eX(e3);return e5==null?eY(e3,e4(e3)):e5.$0;}function e0(e3){var e4;e4=null;return es.TryGetValue(e3,{get:function(){return e4;},set:function(e5){e4=e5;}})?{$:1,$0:e4}:null;}function e1(e3,e4){es.set_Item(e3,e4);return e4;}function e2(e3,e4){var e5;e5=e0(e3);return e5==null?e1(e3,e4(e3)):e5.$0;}bx.unindentStr=function(e3){return ew(bK.unindent(e3));};bx.skipLastLine=(d2=function(e3){return ey(ex(e3));},function(e3){return ez(d2(e3));});bx.parseDateO2=(d3=b2.tryParseWith(function(e3){var e4,e5;e4=0;return[(e5=cV.TryParse(e3),e5!=null&&e5.$==1&&(e4=e5.$0,true)),e4];}),function(e3){return d3(eA(e3));});bx.parseDateO=b2.tryParseWith(function(e3){var e4,e5;e4=0;return[(e5=cV.TryParse(e3),e5!=null&&e5.$==1&&(e4=e5.$0,true)),e4];});bx.parseIntO=b2.tryParseWith(function(e3){var e4;e4=0;return[bG.TryParseInt32(e3,{get:function(){return e4;},set:function(e5){e4=e5;}}),e4];});bx.parseInt64O=b2.tryParseWith(function(e3){var e4;e4=0;return[bG.TryParseInt64(e3,{get:function(){return e4;},set:function(e5){e4=e5;}}),e4];});bx.parseSingleO=b2.tryParseWith(function(e3){var e4,e5;e4=0;return[(e5=a.Number(e3),a.isNaN(e5)?false:(e4=e5,true)),e4];});bx.parseDoubleO=b2.tryParseWith(function(e3){var e4,e5;e4=0;return[(e5=a.Number(e3),a.isNaN(e5)?false:(e4=e5,true)),e4];});bx.parseGuidO=b2.tryParseWith(function(e3){var e4;e4=null;return[bo.TryParse(e3,{get:function(){return e4;},set:function(e5){e4=e5;}}),e4];});bx["|Date|_|"]=b2.parseDateO();bx["|Int|_|"]=b2.parseIntO();bx["|Int64|_|"]=b2.parseInt64O();bx["|Single|_|"]=b2.parseSingleO();bx["|Double|_|"]=b2.parseDoubleO();bx["|Guid|_|"]=b2.parseGuidO();bx.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";bx.observers=bs.Empty;bx.css="\r\n                .tab-panel {\r\n                 overflow  : hidden   ;\r\n                 display   : flex     ;\r\n                 flex-flow : column   ;\r\n                 background: lightgray;\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                }\r\n                .tab-content {\r\n                 flex      : 1 1     ;\r\n                 overflow  : auto    ;\r\n                 position  : relative;\r\n                }\r\n                .tab-children {\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                 position  : absolute;\r\n                 display   : grid    ;\r\n                }\r\n                .tab-strip {\r\n                 padding   : 0pt     ;\r\n                 flex      : 0 0     ;\r\n                }\r\n                .tab {\r\n                 border     : 0.2pt solid transparent;\r\n                 padding    : 0pt 4pt;\r\n                 display    : inline-block;\r\n                 font-family: sans-serif;\r\n                 font-weight: 200;\r\n                 font-size  : small;\r\n                 color      : #666;\r\n                 cursor     : pointer;\r\n                }\r\n                .top>.tab {\r\n                 border-radius: 2pt 2pt 0pt 0pt;\r\n                 border-bottom-width: 0pt;\r\n                 vertical-align: bottom;\r\n                }\r\n                .bottom>.tab {\r\n                 border-top-width: 0pt;\r\n                 border-radius: 0pt 0pt 2pt 2pt;\r\n                 vertical-align: top;\r\n                }\r\n                .horizontal>.tab:not(:first-child) {\r\n                 border-left-width: 0pt;\r\n                }\r\n                .tab.hovering {\r\n                 background: red;\r\n                }\r\n                .tab.selected {\r\n                 background: white;\r\n                 border-left-width: 0.2pt;\r\n                 color: black;\r\n                 font-weight: 500;\r\n                 border-color: black;\r\n                }\r\n                .horizontal>.tab.selected {\r\n                 border-left-width: 0.2pt;\r\n                }\r\n                ::slotted(*              ) { \r\n                 width : 100%;\r\n                 height: 100%;\r\n                }\r\n                        ";bx.init=n.Create(function(){var e3;e3=new cr.New();cp.defineWebComponent("wcomp-tabstrip",cr.Constructor,self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New);});bx.layoutHorizontal=dU.Curried(function(e3,e4,e5,e6,e7){return bV.get_Empty();},5);bx.layoutVertical=dU.Curried(function(e3,e4,e5,e6,e7){return bV.get_Empty();},5);bx.plugIns=new V.New$1(function(e3){return e3.plgName;});bx.mainDocV=h.Create$1("AppFramework.AppFwkClient");bx.TemplateFileName="..\\website\\AppFramework.html";bx.defaultPlugIn=k.New("",[],[],[],[],[]);bx.selectionPlugInO=h.Create$1({$:1,$0:"AppFramework"});bx.currentPlugInW=(d4=j.selectionPlugInO().get_View(),I.Map2(function(e3,e4){return(eB(e3))(e4);},j.plugIns().v,d4));bx.currentPlugInV=new cQ.New(j.currentPlugInW(),function(e3){j.plugIns().Append(e3);});bx.AppFwkClient=n.Create(function(){var e3,e4,e5,e6,e7,e8,e9,e_,e$;return(e3=(e4=j.renderQueries(),(e5=j.renderActions(),(e6=j.renderDocs(),(e7=j.renderViews(),(e8=j.renderVars(),(e9=j.renderPlugIns(),H.Make().WithHole({$:0,$0:"plugins",$1:e9})).WithHole({$:2,$0:"pluginname",$1:I.Map(function(fa){return fa.plgName;},j.currentPlugInW())}).WithHole({$:0,$0:"vars",$1:e8})).WithHole({$:0,$0:"views",$1:e7})).WithHole({$:0,$0:"docs",$1:e6})).WithHole({$:0,$0:"actions",$1:e5})).WithHole({$:0,$0:"queries",$1:e4})),(e_=K.CompleteHoles(e3.k,e3.h,[]),(e$=new L.New(e_[1],cj.appfwkclient(e_[0])),(e3.i=e$,e$)))).get_Doc();});bx.actHello=j.newAct("Hello",function(){self.alert("Hello!");});bx.qryDocs=j.newQry("getDocNames",function(){return D.ofSeq(_8.collect(function(e3){return _8.map(function(e4){return e3.plgName+"."+e4.docName;},e3.plgDocs);},(j.plugIns())["var"].Get()));});j.plugIns().Append(k.New("AppFramework",[j.newVar("mainDocV",j.mainDocV())],[],[j.newDoc("AppFwkClient",j.AppFwkClient())],[j.actHello()],[j.qryDocs()]));bx.getMainDoc=n.Create(function(){cs.init(dU.Curried(j.horizontal,5),dU.Curried(j.vertical,5));cq.init().f();return j.mainDoc();});bx.splitName=j.splitName;bx.createSplitterM=(d5=(d6=new bz.New$5(),[[eC,function(e3){return function(e4){return eE(e3,e4);};}],function(){d6.Clear();}]),(d7=d5[0][1],[function(e3){return(d7(e3))(function(e4){return A.createSplitter(e4[0],e4[1],e4[2],e4[3],e4[4]);});},d5[1]]))[0];bx.createButtonM=(d8=(d9=new bz.New$5(),[[eF,function(e3){return function(e4){return eH(e3,e4);};}],function(){d9.Clear();}]),(d_=d8[0][1],[function(e3){return(d_(e3))(function(e4){return A.createButton(e4[0],e4[1],e4[2],e4[3],e4[4]);});},d8[1]]))[0];bx.createInputM=(d$=(ea=new bz.New$5(),[[eI,function(e3){return function(e4){return eK(e3,e4);};}],function(){ea.Clear();}]),(eb=d$[0][1],[function(e3){return(eb(e3))(function(e4){return A.createInput(e4[0],e4[1],e4[2],e4[3]);});},d$[1]]))[0];bx.createTextAreaM=(ec=(ed=new bz.New$5(),[[eL,function(e3){return function(e4){return eN(e3,e4);};}],function(){ed.Clear();}]),(ee=ec[0][1],[function(e3){return(ee(e3))(function(e4){return A.createTextArea(e4[0],e4[1],e4[2],e4[3]);});},ec[1]]))[0];bx.createElementM=(ef=(eg=new bz.New$5(),[[eO,function(e3){return function(e4){return eQ(e3,e4);};}],function(){eg.Clear();}]),(eh=ef[0][1],[function(e3){return(eh(e3))(function(e4){return A.createElement(e4[0],e4[1],e4[2],e4[3],e4[4]);});},ef[1]]))[0];bx.createDocM=(ei=(ej=new bz.New$5(),[[eR,function(e3){return function(e4){return eT(e3,e4);};}],function(){ej.Clear();}]),(ek=ei[0][1],[function(e3){return(ek(e3))(function(e4){return A.createDoc(e4[0],e4[1],e4[2],e4[3]);});},ei[1]]))[0];bx.createTemplateM=(el=(em=new bz.New$5(),[[eU,function(e3){return function(e4){return eW(e3,e4);};}],function(){em.Clear();}]),(en=el[0][1],[function(e3){return(en(e3))(function(e4){return A.createTemplate(e4[0],e4[1],e4[2],e4[3],e4[4]);});},el[1]]))[0];bx.createConcatM=(eo=(ep=new bz.New$5(),[[eX,function(e3){return function(e4){return eZ(e3,e4);};}],function(){ep.Clear();}]),(eq=eo[0][1],[function(e3){return(eq(e3))(function(e4){return A.createConcat(e4[0],e4[1],e4[2]);});},eo[1]]))[0];bx.createVarM=(er=(es=new bz.New$5(),[[e0,function(e3){return function(e4){return e2(e3,e4);};}],function(){es.Clear();}]),(et=er[0][1],[function(e3){return(et(e3))(function(e4){return A.createVar(e4[0],e4[1],e4[2]);});},er[1]]))[0];eu=j.tryGetPlugIn("AppFramework");eu==null?void 0:(ev=eu.$0,j.addPlugIn(k.New(ev.plgName,ev.plgVars,ev.plgViews,ev.plgDocs,ev.plgActions.concat([j.newActF("AddLayout",{$:2,$0:function(e3){return function(e4){return A.addNewLayout(e3,e4);};},$1:"[Name]",$2:"[Layout]"})]),ev.plgQueries)));};by=ba.List=dU.Class({GetEnumerator:function(){return bX.Get(this);},GetEnumerator0:function(){return bX.Get0(this);}},null,by);bz=ba.Dictionary=dU.Class({set_Item:function(d2,d3){this.set(d2,d3);},set:function(d2,d3){var d4,d5,d6,d7;d4=this;d5=this.hash(d2);d6=this.data[d5];d6==null?(this.count=this.count+1,this.data[d5]=new a.Array({K:d2,V:d3})):(d7=D.tryFindIndex(function(d8){return d4.equals.apply(null,[(u.KeyValue(d8))[0],d2]);},d6),d7==null?(this.count=this.count+1,d6.push({K:d2,V:d3})):d6[d7.$0]={K:d2,V:d3});},get_Item:function(d2){return this.get(d2);},TryGetValue:function(d2,d3){var d4,d5,d6;d4=this;d5=this.data[this.hash(d2)];return d5==null?false:(d6=D.tryPick(function(d7){var d8;d8=u.KeyValue(d7);return d4.equals.apply(null,[d8[0],d2])?{$:1,$0:d8[1]}:null;},d5),d6!=null&&d6.$==1&&(d3.set(d6.$0),true));},Remove:function(d2){return this.remove(d2);},ContainsKey:function(d2){var d3,d4;d3=this;d4=this.data[this.hash(d2)];return d4==null?false:D.exists(function(d5){return d3.equals.apply(null,[(u.KeyValue(d5))[0],d2]);},d4);},Add:function(d2,d3){this.add(d2,d3);},get:function(d2){var d3,d4;d3=this;d4=this.data[this.hash(d2)];return d4==null?cv.notPresent():D.pick(function(d5){var d6;d6=u.KeyValue(d5);return d3.equals.apply(null,[d6[0],d2])?{$:1,$0:d6[1]}:null;},d4);},remove:function(d2){var d3,d4,d5,d6;d3=this;d4=this.hash(d2);d5=this.data[d4];return d5==null?false:(d6=D.filter(function(d7){return!d3.equals.apply(null,[(u.KeyValue(d7))[0],d2]);},d5),D.length(d6)<d5.length&&(this.count=this.count-1,this.data[d4]=d6,true));},get_Keys:function(){return new dF.New(this);},add:function(d2,d3){var d4,d5,d6;d4=this;d5=this.hash(d2);d6=this.data[d5];d6==null?(this.count=this.count+1,this.data[d5]=new a.Array({K:d2,V:d3})):(D.exists(function(d7){return d4.equals.apply(null,[(u.KeyValue(d7))[0],d2]);},d6)?cv.alreadyAdded():void 0,this.count=this.count+1,d6.push({K:d2,V:d3}));},Clear:function(){this.data=[];this.count=0;},GetEnumerator:function(){return bX.Get0(this);},GetEnumerator0:function(){return bX.Get0(D.concat(y.GetFieldValues(this.data)));}},f,bz);bz.New$5=dU.Ctor(function(){bz.New$6.call(this,[],z.Equals,z.Hash);},bz);bz.New$6=dU.Ctor(function(d2,d3,d4){var d5,d6;f.New.call(this);this.equals=d3;this.hash=d4;this.count=0;this.data=[];d5=bX.Get(d2);try{while(d5.MoveNext()){d6=d5.Current();this.set(d6.K,d6.V);}}finally{if(typeof d5=="object"&&"Dispose"in d5)d5.Dispose();}},bz);bA=ba.HashSet=dU.Class({Add:function(d2){return this.add(d2);},Contains:function(d2){var d3;d3=this.data[this.hash(d2)];return d3==null?false:this.arrContains(d2,d3);},add:function(d2){var d3,d4;d3=this.hash(d2);d4=this.data[d3];return d4==null?(this.data[d3]=[d2],this.count=this.count+1,true):this.arrContains(d2,d4)?false:(d4.push(d2),this.count=this.count+1,true);},arrContains:function(d2,d3){var d4,d5,d6,d7;d4=true;d5=0;d7=d3.length;while(d4&&d5<d7)if(this.equals.apply(null,[d3[d5],d2]))d4=false;else d5=d5+1;return!d4;},ExceptWith:function(d2){var d3;d3=bX.Get(d2);try{while(d3.MoveNext())this.Remove(d3.Current());}finally{if(typeof d3=="object"&&"Dispose"in d3)d3.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(d2){var d3,d4,d5,d6;d3=0;d4=dk.concat(this.data);for(d5=0,d6=d4.length-1;d5<=d6;d5++)D.set(d2,d5,d4[d5]);},IntersectWith:function(d2){var d3,d4,d5,d6,d7;d3=new bA.New$4(d2,this.equals,this.hash);d4=dk.concat(this.data);for(d5=0,d6=d4.length-1;d5<=d6;d5++){d7=d4[d5];!d3.Contains(d7)?this.Remove(d7):void 0;}},Remove:function(d2){var d3;d3=this.data[this.hash(d2)];return d3==null?false:this.arrRemove(d2,d3)&&(this.count=this.count-1,true);},arrRemove:function(d2,d3){var d4,d5,d6,d7;d4=true;d5=0;d7=d3.length;while(d4&&d5<d7)if(this.equals.apply(null,[d3[d5],d2])){d3.splice.apply(d3,[d5,1]);d4=false;}else d5=d5+1;return!d4;},GetEnumerator:function(){return bX.Get(dk.concat(this.data));},GetEnumerator0:function(){return bX.Get(dk.concat(this.data));}},f,bA);bA.New$3=dU.Ctor(function(){bA.New$4.call(this,[],z.Equals,z.Hash);},bA);bA.New$4=dU.Ctor(function(d2,d3,d4){var d5;f.New.call(this);this.equals=d3;this.hash=d4;this.data=[];this.count=0;d5=bX.Get(d2);try{while(d5.MoveNext())this.add(d5.Current());}finally{if(typeof d5=="object"&&"Dispose"in d5)d5.Dispose();}},bA);bA.New$2=dU.Ctor(function(d2){bA.New$4.call(this,d2,z.Equals,z.Hash);},bA);bB.Box=a.id;bC=N.IdAuthorize=dU.Class({},null,bC);bD.New=function(d2,d3,d4,d5,d6,d7,d8,d9){return{titulo:d2,nombre1:d3,nombre2:d4,apellido1:d5,apellido2:d6,nacionalidad:d7,genero:d8,fechaNacimiento:d9};};bE=N.StatusAliado=dU.Class({toString:function(){return(function(d2){return function(d3){return d2(_2.p(d3));};}(a.id))(this);}},null,bE);bE.Inactivo=new bE({$:3});bF=N.TipoAliado=dU.Class({toString:function(){return(function(d2){return function(d3){return d2(_2.p$1(d3));};}(a.id))(this);}},null,bF);bF.Regular=new bF({$:1});bG.TryParseInt32=function(d2,d3){return bG.TryParse(d2,-2147483648,2147483647,d3);};bH.New=function(d2,d3,d4,d5,d6,d7,d8,d9){return{comisionReferidosRegular:d2,comisionReferidosMaster:d3,comisionDescendientesMaster:d4,comisionDescendientesRegular:d5,montoAfiliacion:d6,numeroReferidosMaster:d7,diaCorte1:d8,diaCorte2:d9};};bG.TryParseInt64=function(d2,d3){return bG.TryParse(d2,-9223372036854775808,9223372036854775807,d3);};bJ.Int=function(){bJ.set_counter(bJ.counter()+1);return bJ.counter();};bJ.set_counter=function(d2){cX.$cctor();cX.counter=d2;};bJ.counter=function(){cX.$cctor();return cX.counter;};bJ.Id=function(){bJ.set_counter(bJ.counter()+1);return"uid"+a.String(bJ.counter());};bK.unindent$1=function(d2){var d3,d4,d5,d6;d3=bc.SplitChars(d2,["\n"],0);d4=(d5=_8.tryFindIndex(function(d7){return" "!==d7;},(d6=_8.tryFind(function(d7){return bc.Trim(d7)!=="";},d3),d6==null?"":d6.$0)),d5==null?0:d5.$0);return _8.filter(function(d7){return!bc.StartsWith(d7,"# 1 ");},_8.map(function(d7){return d7.length<=d4?"":d7.substring(d4);},d3));};bK.splitByChar$1=function(d2,d3){return bc.SplitChars(d3,[d2],0);};bL.array=function(d2,d3,d4){return d3==null?d4!=null&&d4.$==1?d2.slice(0,d4.$0+1):[]:d4==null?d2.slice(d3.$0):d2.slice(d3.$0,d4.$0+1);};bL.string=function(d2,d3,d4){return d3==null?d4!=null&&d4.$==1?d2.slice(0,d4.$0+1):"":d4==null?d2.slice(d3.$0):d2.slice(d3.$0,d4.$0+1);};br.ofArray=function(d2){var d3,d4,d5;d3=bs.Empty;for(d4=D.length(d2)-1,d5=0;d4>=d5;d4--)d3=new bs({$:1,$0:D.get(d2,d4),$1:d3});return d3;};br.rev=function(d2){var d3,d4;d3=bs.Empty;d4=d2;while(d4.$==1){d3=new bs({$:1,$0:d4.$0,$1:d3});d4=d4.$1;}return d3;};br.ofSeq=function(d2){var d3,d4,d5,d6,d7,d8;if(d2 instanceof bs)return d2;else if(d2 instanceof a.Array)return br.ofArray(d2);else{d3=bX.Get(d2);try{d5=d3.MoveNext();if(!d5)d4=bs.Empty;else{d7=new bs({$:1});d6=d7;while(d5){d6.$0=d3.Current();d3.MoveNext()?d6=(d8=new bs({$:1}),d6.$1=d8,d8):d5=false;}d6.$1=bs.Empty;d4=d7;}return d4;}finally{if(typeof d3=="object"&&"Dispose"in d3)d3.Dispose();}}};br.head=function(d2){return d2.$==1?d2.$0:br.listEmpty();};br.tail=function(d2){return d2.$==1?d2.$1:br.listEmpty();};br.listEmpty=function(){return u.FailWith("The input list was empty.");};br.iter=function(d2,d3){var d4;d4=d3;while(d4.$==1){d2(br.head(d4));d4=br.tail(d4);}};bN=bM.Policy=dU.Class({toString:function(){return bc.ReplaceChar(_9["String.get_toUnderscore$1"]((function(d2){return function(d3){return d2(_6.p(d3));};}(a.id))(this)),"_"," ");}},null,bN);bN.SignIn=new bN({$:0});bN.SignUp=new bN({$:1});bN.EditProfile=new bN({$:2});bN.ResetPassword=new bN({$:3});bO.Options=function(d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb){return cy.newPojoOpt([bM.op_EqualsEqualsGreater("cacheLocation",d2),bM.op_EqualsEqualsGreater("isAngular",d3),bM.op_EqualsEqualsGreater("loadFrameTimeout",d4),bM.op_EqualsEqualsGreater("logger",d5),bM.op_EqualsEqualsGreater("navigateToLoginRequestUrl",d6),bM.op_EqualsEqualsGreater("postLogoutRedirectUri",d7),bM.op_EqualsEqualsGreater("protectedResourceMap",d8),bM.op_EqualsEqualsGreater("redirectUri",d9),bM.op_EqualsEqualsGreater("state",d_),bM.op_EqualsEqualsGreater("storeAuthStateInCookie",d$),bM.op_EqualsEqualsGreater("unprotectedResources",ea),bM.op_EqualsEqualsGreater("validateAuthority",eb)]);};N.premisasCalculo=function(){b_.$cctor();return b_.premisasCalculo;};N.correoVacio=function(){b_.$cctor();return b_.correoVacio;};N.modeloVacio=function(){b_.$cctor();return b_.modeloVacio;};N.telVacio=function(){b_.$cctor();return b_.telVacio;};N.dirVacio=function(){b_.$cctor();return b_.dirVacio;};N.tarVacio=function(){b_.$cctor();return b_.tarVacio;};N.ctaVacio=function(){b_.$cctor();return b_.ctaVacio;};i.REGEX$1=function(d2,d3,d4){var d5;return d4===null?null:(d5=(new a.String(d4)).match(new a.RegExp(d2,d3)),z.Equals(d5,null)?null:!z.Equals(d5,null)&&d5.length===0?null:{$:1,$0:d5});};i.rexEmail=function(){U.$cctor();return U.rexEmail;};bP.DefaultEP={$:0};bQ.InstallHash=function(d2,d3){var d4;d4=h.Create$1(bQ.getCurrentHash(function(d5){return cB.Parse(d3,cC.FromHash(d5,{$:1,$0:true}));},d2));bQ.InstallHashInto(d4,d2,d3);return d4;};bQ.InstallHashInto=function(d2,d3,d4){function d5(d8){return cB.Parse(d4,cC.FromHash(d8,{$:1,$0:true}));}function d6(){return bQ.getCurrentHash(d5,d3);}function d7(d8){if(!z.Equals(d2.Get(),d8))d2.Set(d8);}self.addEventListener("popstate",function(){return d7(d6());},false);self.addEventListener("hashchange",function(){return d7(d6());},false);self.document.body.addEventListener("click",function(d8){var d9,d_,d$;d9=(d_=bQ.findLinkHref(d8.target),d_==null?null:(d$=d_.$0,bc.StartsWith(d$,"#")?d5(d$):null));return d9==null?null:(d7(d9.$0),d8.preventDefault());},false);I.Sink(function(d8){var d9;if(!z.Equals(d8,d6())){d9=cB.HashLink(d4,d8);self.history.pushState(null,null,d9);}},d2.get_View());};bQ.getCurrentHash=function(d2,d3){var d4,d5;d4=self.location.hash;d5=d2(d4);return d5==null?((function(d6){return function(d7){return d6("Failed to parse route: "+bt.toSafe(d7));};}(function(d6){dW.log(d6);}))(d4),d3):d5.$0;};bQ.findLinkHref=function(d2){while(true)if(d2.tagName==="A")return B.ofObj(d2.getAttribute("href"));else if(d2===self.document.body)return null;else d2=d2.parentNode;};bR.B={$:0};bS.paises=function(){U.$cctor();return U.paises;};bS.estados=function(){U.$cctor();return U.estados;};bS.tiposDir=function(){U.$cctor();return U.tiposDir;};bS.tiposTel=function(){U.$cctor();return U.tiposTel;};bS.generos=function(){U.$cctor();return U.generos;};bS.tiposCta=function(){U.$cctor();return U.tiposCta;};bS.tiposTar=function(){U.$cctor();return U.tiposTar;};bS.aniosV=function(){U.$cctor();return U.aniosV;};bS.mesesV=function(){U.$cctor();return U.mesesV;};bS.crearOptions=function(d2){return bV.Concat(_8.map(bS.crearOption,d2));};bS.alertIfNone=function(d2,d3,d4){return d3!=null&&d3.$==1?d4(d3.$0):(a.alert("Error not caught: "+d2),null);};bS.removeButton=function(d2,d3){return bV.Element("form",[],[d3,bV.Button("x",[ct.Create("title","borrar")],d2)]);};bS.crearOption=function(d2){return bV.Element("option",[],[bV.TextNode(d2)]);};bT.New=function(d2,d3,d4){return{nombre:d2,authorizeIdR:d3,cuentaPago:d4};};bU.New=function(d2,d3){return{qryName:d2,qryFunction:d3};};bV=g.Doc=dU.Class({},f,bV);bV.ConvertSeqBy=function(d2,d3,d4){return bV.Flatten(I.MapSeqCachedViewBy(d2,function(d5,d6){return(d3(d5))(d6);},d4));};bV.get_Empty=function(){return bV.Mk(null,I.Const());};bV.EmbedView=function(d2){var d3;d3=cR.CreateEmbedNode();return bV.Mk({$:2,$0:d3},I.Map(a.ignore,I.Bind(function(d4){cR.UpdateEmbedNode(d3,d4.docNode);return d4.updates;},d2)));};bV.Flatten=function(d2){return bV.EmbedView(I.Map(bV.Concat,d2));};bV.Mk=function(d2,d3){return new bV.New(d2,d3);};bV.BindView=function(d2,d3){return bV.EmbedView(I.Map(d2,d3));};bV.Concat=function(d2){var d3;d3=c3.ofSeqNonCopying(d2);return c3.TreeReduce(bV.get_Empty(),bV.Append,d3);};bV.ConvertBy=function(d2,d3,d4){return bV.Flatten(I.MapSeqCachedBy(d2,d3,d4));};bV.TextNode=function(d2){return bV.Mk({$:5,$0:cU.CreateText(d2)},I.Const());};bV.Input=function(d2,d3){return bV.InputInternal("input",function(){return _8.append(d2,[co.Value(d3)]);});};bV.Element=function(d2,d3,d4){var d5,d6;d5=ct.Concat(d3);d6=bV.Concat(d4);return dg.New(cU.CreateElement(d2),d5,d6);};bV.RunInPlace=function(d2,d3,d4){var d5;d5=cR.CreateRunState(d3,d4.docNode);I.Sink(dh.get_UseAnimations()||di.BatchUpdatesEnabled()?dj.StartProcessor(cR.PerformAnimatedUpdate(d2,d5,d4.docNode)):function(){cR.PerformSyncUpdate(d2,d5,d4.docNode);},d4.updates);};bV.Append=function(d2,d3){return bV.Mk({$:0,$0:d2.docNode,$1:d3.docNode},I.Map2Unit(d2.updates,d3.updates));};bV.Button=function(d2,d3,d4){var d5;d5=ct.Concat(d3);return dg.New(bV.Clickable("button",d4),d5,bV.TextNode(d2));};bV.TextView=function(d2){var d3;d3=cR.CreateTextNode();return bV.Mk({$:4,$0:d3},I.Map(function(d4){cR.UpdateTextNode(d3,d4);},d2));};bV.InputInternal=function(d2,d3){var d4;d4=cU.CreateElement(d2);return dg.New(d4,ct.Concat(d3(d4)),bV.get_Empty());};bV.Run=function(d2,d3){cR.LinkElement(d2,d3.docNode);bV.RunInPlace(false,d2,d3);};bV.InputArea=function(d2,d3){return bV.InputInternal("textarea",function(){return _8.append(d2,[co.Value(d3)]);});};bV.Clickable=function(d2,d3){var d4;d4=cU.CreateElement(d2);d4.addEventListener("click",function(d5){d5.preventDefault();return d3();},false);return d4;};bV.New=dU.Ctor(function(d2,d3){f.New.call(this);this.docNode=d2;this.updates=d3;},bV);bW=ba.FSharpMap=dU.Class({TryGetValue:function(d2,d3){var d4;d4=this.TryFind(d2);return d4!=null&&d4.$==1&&(d3.set(d4.$0),true);},get_Item:function(d2){var d3;d3=this.TryFind(d2);return d3==null?u.FailWith("The given key was not present in the dictionary."):d3.$0;},TryFind:function(d2){var d3;d3=bZ.TryFind(c4.New(d2,void 0),this.tree);return d3==null?null:{$:1,$0:d3.$0.Value};},Equals:function(d2){return this.get_Count()===d2.get_Count()&&_8.forall2(z.Equals,this,d2);},GetEnumerator$1:function(){return bX.Get(_8.map(function(d2){return{K:d2.Key,V:d2.Value};},bZ.Enumerate(false,this.tree)));},get_Count:function(){var d2;d2=this.tree;return d2==null?0:d2.Count;},GetHashCode:function(){return z.Hash(D.ofSeq(this));},Add:function(d2,d3){return new bW.New$1(bZ.Add(c4.New(d2,d3),this.tree));},get_IsEmpty:function(){return this.tree==null;},get_Tree:function(){return this.tree;},GetEnumerator:function(){return this.GetEnumerator$1();},CompareTo0:function(d2){return _8.compareWith(z.Compare,this,d2);},GetEnumerator0:function(){return this.GetEnumerator$1();}},f,bW);bW.New=dU.Ctor(function(d2){bW.New$1.call(this,cF.fromSeq(d2));},bW);bW.New$1=dU.Ctor(function(d2){f.New.call(this);this.tree=d2;},bW);bX.Get=function(d2){return d2 instanceof a.Array?bX.ArrayEnumerator(d2):z.Equals(typeof d2,"string")?bX.StringEnumerator(d2):d2.GetEnumerator();};bX.ArrayEnumerator=function(d2){return new bY.New(0,null,function(d3){var d4;d4=d3.s;return d4<D.length(d2)&&(d3.c=D.get(d2,d4),d3.s=d4+1,true);},void 0);};bX.StringEnumerator=function(d2){return new bY.New(0,null,function(d3){var d4;d4=d3.s;return d4<d2.length&&(d3.c=d2[d4],d3.s=d4+1,true);},void 0);};bX.Get0=function(d2){return d2 instanceof a.Array?bX.ArrayEnumerator(d2):z.Equals(typeof d2,"string")?bX.StringEnumerator(d2):"GetEnumerator0"in d2?d2.GetEnumerator0():d2.GetEnumerator();};bY=bX.T=dU.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},f,bY);bY.New=dU.Ctor(function(d2,d3,d4,d5){f.New.call(this);this.s=d2;this.c=d3;this.n=d4;this.d=d5;},bY);bZ.OfSeq=function(d2){var d3;d3=D.ofSeq(_8.distinct(d2));D.sortInPlace(d3);return bZ.Build(d3,0,d3.length-1);};bZ.Contains=function(d2,d3){return!((bZ.Lookup(d2,d3))[0]==null);};bZ.Remove=function(d2,d3){var d4,d5,d6,d7;d4=bZ.Lookup(d2,d3);d5=d4[0];d6=d4[1];return d5==null?d3:d5.Right==null?bZ.Rebuild(d6,d5.Left):d5.Left==null?bZ.Rebuild(d6,d5.Right):bZ.Rebuild(d6,(d7=D.ofSeq(_8.append(bZ.Enumerate(false,d5.Left),bZ.Enumerate(false,d5.Right))),bZ.Build(d7,0,d7.length-1)));};bZ.Add=function(d2,d3){return bZ.Put(function(d4,d5){return d5;},d2,d3);};bZ.TryFind=function(d2,d3){var d4;d4=(bZ.Lookup(d2,d3))[0];return d4==null?null:{$:1,$0:d4.Node};};bZ.Build=function(d2,d3,d4){var d5,d6,d7;return d4-d3+1<=0?null:(d5=(d3+d4)/2>>0,(d6=bZ.Build(d2,d3,d5-1),(d7=bZ.Build(d2,d5+1,d4),bZ.Branch(D.get(d2,d5),d6,d7))));};bZ.Lookup=function(d2,d3){var d4,d5,d6,d7;d4=[];d5=d3;d6=true;while(d6)if(d5==null)d6=false;else{d7=z.Compare(d2,d5.Node);d7===0?d6=false:d7===1?(d4.unshift([true,d5.Node,d5.Left]),d5=d5.Right):(d4.unshift([false,d5.Node,d5.Right]),d5=d5.Left);}return[d5,d4];};bZ.Rebuild=function(d2,d3){var d4,d6,d7,d8,d9,d_,d$,ea,eb,ec;function d5(ed){return ed==null?0:ed.Height;}d4=d3;for(d6=0,d7=D.length(d2)-1;d6<=d7;d6++){d4=(d8=D.get(d2,d6),d8[0]?(d9=d8[1],(d_=d8[2],d5(d4)>d5(d_)+1?d5(d4.Left)===d5(d4.Right)+1?(d$=d4.Left,bZ.Branch(d$.Node,bZ.Branch(d9,d_,d$.Left),bZ.Branch(d4.Node,d$.Right,d4.Right))):bZ.Branch(d4.Node,bZ.Branch(d9,d_,d4.Left),d4.Right):bZ.Branch(d9,d_,d4))):(ea=d8[1],(eb=d8[2],d5(d4)>d5(eb)+1?d5(d4.Right)===d5(d4.Left)+1?(ec=d4.Right,bZ.Branch(ec.Node,bZ.Branch(d4.Node,d4.Left,ec.Left),bZ.Branch(ea,ec.Right,eb))):bZ.Branch(d4.Node,d4.Left,bZ.Branch(ea,d4.Right,eb)):bZ.Branch(ea,d4,eb))));}return d4;};bZ.Put=function(d2,d3,d4){var d5,d6;d5=bZ.Lookup(d3,d4);d6=d5[0];return d6==null?bZ.Rebuild(d5[1],bZ.Branch(d3,null,null)):bZ.Rebuild(d5[1],bZ.Branch(d2(d6.Node,d3),d6.Left,d6.Right));};bZ.Branch=function(d2,d3,d4){var d5,d6;return cG.New(d2,d3,d4,1+(d5=d3==null?0:d3.Height,(d6=d4==null?0:d4.Height,z.Compare(d5,d6)===1?d5:d6)),1+(d3==null?0:d3.Count)+(d4==null?0:d4.Count));};bZ.Enumerate=function(d2,d3){function d4(d5,d6){var d7;while(true)if(d5==null)return d6.$==1?{$:1,$0:[d6.$0[0],[d6.$0[1],d6.$1]]}:null;else if(d2){d7=d5;d5=d7.Right;d6=new bs({$:1,$0:[d7.Node,d7.Left],$1:d6});}else{d7=d5;d5=d7.Left;d6=new bs({$:1,$0:[d7.Node,d7.Right],$1:d6});}}return _8.unfold(function(d5){return d4(d5[0],d5[1]);},[d3,bs.Empty]);};_8.tryHead=function(d2){var d3;d3=bX.Get(d2);try{return d3.MoveNext()?{$:1,$0:d3.Current()}:null;}finally{if(typeof d3=="object"&&"Dispose"in d3)d3.Dispose();}};D.groupBy=function(d2,d3){var d4,d5,d6,d7,d8,d9;d4=new bz.New$5();d5=[];for(d6=0,d7=D.length(d3)-1;d6<=d7;d6++){d8=d3[d6];d9=d2(d8);d4.ContainsKey(d9)?d4.get_Item(d9).push(d8):(d5.push(d9),d4.Add(d9,[d8]));}D.mapInPlace(function(d_){return[d_,d4.get_Item(d_)];},d5);return d5;};_8.tryItem=function(d2,d3){var d4,d5,d6;if(d2<0)return null;else{d4=0;d5=bX.Get(d3);try{d6=true;while(d6&&d4<=d2)if(d5.MoveNext())d4=d4+1;else d6=false;return d6?{$:1,$0:d5.Current()}:null;}finally{if(typeof d5=="object"&&"Dispose"in d5)d5.Dispose();}}};_8.last=function(d2){var d3,d4;d3=bX.Get(d2);try{if(!d3.MoveNext())d4=_8.insufficient();else{while(d3.MoveNext());d4=d3.Current();}return d4;}finally{if(typeof d3=="object"&&"Dispose"in d3)d3.Dispose();}};D.mapInPlace=function(d2,d3){var d4,d5;for(d4=0,d5=d3.length-1;d4<=d5;d4++)d3[d4]=d2(d3[d4]);};D.mapiInPlace=function(d2,d3){var d4,d5;for(d4=0,d5=d3.length-1;d4<=d5;d4++)d3[d4]=d2(d4,d3[d4]);return d3;};_8.insufficient=function(){return u.FailWith("The input sequence has an insufficient number of elements.");};_8.nonNegative=function(){return u.FailWith("The input must be non-negative.");};I=g.View=dU.Class({get_V:function(){return u.FailWith("View<'T>.V can only be called in an argument to a V-enabled function or if 'T = Doc.");}},null,I);b0.toYYYYMMDD=function(d2,d3){return((((((dU.Curried(function(d4,d5,d6,d7,d8,d9){return d4(a.String(d5)+bt.toSafe(d6)+bt.padNumLeft(a.String(d7),2)+bt.toSafe(d8)+bt.padNumLeft(a.String(d9),2));},6))(a.id))((new dY(d3)).getFullYear()))(d2))((new dY(d3)).getMonth()+1))(d2))((new dY(d3)).getDate());};b1.tryParse=function(d2){var d3;d3=bc.Trim(d2);return d3==="Masculino"?{$:1,$0:b1.Masculino}:d3==="Femenino"?{$:1,$0:b1.Femenino}:d3==="Empresa"?{$:1,$0:b1.Empresa}:null;};b1.Masculino={$:0};b1.Femenino={$:1};b1.Empresa={$:2};b2.parseDateO2=function(){bx.$cctor();return bx.parseDateO2;};b2.tryParseWith=function(d2){function d3(d4,d5){return d4?{$:1,$0:d5}:null;}return function(d4){return d3.apply(null,d2(d4));};};b2.parseDateO=function(){bx.$cctor();return bx.parseDateO;};b2.parseIntO=function(){bx.$cctor();return bx.parseIntO;};b2.parseInt64O=function(){bx.$cctor();return bx.parseInt64O;};b2.parseSingleO=function(){bx.$cctor();return bx.parseSingleO;};b2.parseDoubleO=function(){bx.$cctor();return bx.parseDoubleO;};b2.parseGuidO=function(){bx.$cctor();return bx.parseGuidO;};b2.Double=function(){bx.$cctor();return bx["|Double|_|"];};b2.Int=function(){bx.$cctor();return bx["|Int|_|"];};b3=N.Pais=dU.Class({toString:function(){return this.$==3?this.$0:(function(d2){return function(d3){return d2(_2.p$2(d3));};}(a.id))(this);}},null,b3);b3.tryParse=function(d2){var d3,d4;d4=bc.Trim(d2).toUpperCase();switch(d4){case"":return null;case"USA":case"AMERICA":case"E.E.U.U.":case"US":case"UNITED STATES OF AMERICA":case"UNITED STATES":case"EEUU":return{$:1,$0:b3.USA};case"VENEZUELA":return{$:1,$0:b3.Venezuela};case"ARGENTINA":return{$:1,$0:b3.Argentina};default:return{$:1,$0:new b3({$:3,$0:bc.Trim(d2)})};}};b3.USA=new b3({$:0});b3.Venezuela=new b3({$:1});b3.Argentina=new b3({$:2});b4.New=function(d2,d3,d4,d5,d6,d7){return{tipoTelefono:d2,codigoPais:d3,codigoArea:d4,numero:d5,extension:d6,mensajes:d7};};b5=N.TipoTelefono=dU.Class({toString:function(){return(function(d2){return function(d3){return d2(_2.p$8(d3));};}(a.id))(this);}},null,b5);b5.get_tryParse=function(){return function(d2){return d2==="Movil"?{$:1,$0:b5.Movil}:d2==="Oficina"?{$:1,$0:b5.Oficina}:d2==="Habitacion"?{$:1,$0:b5.Habitacion}:null;};};b5.Movil=new b5({$:0});b5.Oficina=new b5({$:1});b5.Habitacion=new b5({$:2});b6.New=function(d2,d3,d4,d5,d6,d7,d8,d9){return{authorizeIdR:d2,tipoDireccion:d3,linea1:d4,linea2:d5,ciudad:d6,estado:d7,pais:d8,zonaPostal:d9};};b7=N.TipoDireccion=dU.Class({toString:function(){return this.$==3?this.$0:(function(d2){return function(d3){return d2(_2.p$7(d3));};}(a.id))(this);}},null,b7);b7.tryParse=function(d2){var d3;d3=bc.Trim(d2);return d3===""?null:d3==="Habitacion"?{$:1,$0:b7.Habitacion}:d3==="Oficina"?{$:1,$0:b7.Oficina}:d3==="ServicioPostal"?{$:1,$0:b7.ServicioPostal}:{$:1,$0:new b7({$:3,$0:d3})};};b7.Habitacion=new b7({$:0});b7.Oficina=new b7({$:1});b7.ServicioPostal=new b7({$:2});b8=N.Estado=dU.Class({toString:function(){return this.$==2?this.$0:(function(d2){return function(d3){return d2(_2.p$3(d3));};}(a.id))(this);}},null,b8);b8.tryParse=function(d2){var d3,d4;d4=bc.Trim(d2).toUpperCase();switch(d4){case"":return null;case"TEXAS":case"TX":return{$:1,$0:b8.Texas};case"FLORIDA":case"FL":return{$:1,$0:b8.Florida};default:return{$:1,$0:new b8({$:2,$0:bc.Trim(d2)})};}};b8.Texas=new b8({$:0});b8.Florida=new b8({$:1});b9=N.ZonaPostal=dU.Class({toString:function(){return this.$0;}},null,b9);b9.tryParse=function(d2){return bc.Trim(d2)!==""?{$:1,$0:new b9({$:0,$0:bc.Trim(d2)})}:null;};b_.$cctor=function(){var d2,d3,d4,d5,d6;b_.$cctor=a.ignore;function d7(ea){return bc.concat("\n",ea);}function d8(ea){return bK.splitByChar("\n",ea);}function d9(ea){var eb,ec;return bL.array(ea,{$:1,$0:0},{$:1,$0:(eb=0,(ec=D.length(ea)-2,z.Compare(eb,ec)===1?eb:ec))});}function d_(ea){return bc.concat("\n",ea);}function d$(ea){return ea+"T00:00:00";}b_.rtn=function(ea){return[ea];};b_.result=new cJ.New();b_.result$1=cI.result();b_.resultM=new cK.New();b_.asyncResultM=new bl.New();b_.unindentStr=function(ea){return d7(bK.unindent(ea));};b_.skipLastLine=(d2=function(ea){return d9(d8(ea));},function(ea){return d_(d2(ea));});b_.parseDateO2=(d3=b2.tryParseWith(function(ea){var eb,ec;eb=0;return[(ec=cV.TryParse(ea),ec!=null&&ec.$==1&&(eb=ec.$0,true)),eb];}),function(ea){return d3(d$(ea));});b_.parseDateO=b2.tryParseWith(function(ea){var eb,ec;eb=0;return[(ec=cV.TryParse(ea),ec!=null&&ec.$==1&&(eb=ec.$0,true)),eb];});b_.parseIntO=b2.tryParseWith(function(ea){var eb;eb=0;return[bG.TryParseInt32(ea,{get:function(){return eb;},set:function(ec){eb=ec;}}),eb];});b_.parseInt64O=b2.tryParseWith(function(ea){var eb;eb=0;return[bG.TryParseInt64(ea,{get:function(){return eb;},set:function(ec){eb=ec;}}),eb];});b_.parseSingleO=b2.tryParseWith(function(ea){var eb,ec;eb=0;return[(ec=a.Number(ea),a.isNaN(ec)?false:(eb=ec,true)),eb];});b_.parseDoubleO=b2.tryParseWith(function(ea){var eb,ec;eb=0;return[(ec=a.Number(ea),a.isNaN(ec)?false:(eb=ec,true)),eb];});b_.parseGuidO=b2.tryParseWith(function(ea){var eb;eb=null;return[bo.TryParse(ea,{get:function(){return eb;},set:function(ec){eb=ec;}}),eb];});b_["|Date|_|"]=b2.parseDateO();b_["|Int|_|"]=b2.parseIntO();b_["|Int64|_|"]=b2.parseInt64O();b_["|Single|_|"]=b2.parseSingleO();b_["|Double|_|"]=b2.parseDoubleO();b_["|Guid|_|"]=b2.parseGuidO();b_.serString=[cL.toJsonString,function(ea){return ea.tryString();}];b_.serFloat=[function(ea){return(function(eb){return function(ec){return eb(bt.prettyPrint(ec));};}(a.id))(ea);},function(ea){return ea.tryFloat();}];b_.serInt=[function(ea){return(function(eb){return function(ec){return eb(bt.prettyPrint(ec));};}(a.id))(ea);},function(ea){var eb;eb=ea.tryInt();return eb==null?null:{$:1,$0:u.toInt(eb.$0)};}];b_.serInt64=[function(ea){return function(eb){return ea(a.String(eb));};}(a.id),function(ea){return ea.tryInt();}];b_.serBool=[function(ea){return(function(eb){return function(ec){return eb(bt.prettyPrint(ec));};}(a.id))(ea);},function(ea){return ea.tryBool();}];b_.premisasCalculo=bH.New(15,25,25,0,75,31,15,22);b_.telVacio=b4.New(b5.Movil,"","","","",false);b_.dirVacio=b6.New(_9.Error(""),b7.Habitacion,"","","",new b8({$:2,$0:""}),new b3({$:3,$0:""}),new b9({$:0,$0:""}));b_.tarVacio=cd.New("",cN.Visa,new cc({$:0,$0:""}),cM.New(2000,1));b_.ctaVacio=cf.New("","",cP.Ahorro,new ce({$:0,$0:""}),new cO({$:0,$0:""}));b_.modeloVacio=R.New(new P({$:0,$0:""}),[],(d4=dY.now(),(new dY(d4)).getFullYear()),(d5=dY.now(),(new dY(d5)).getMonth()+1),N.premisasCalculo(),0);b_.correoVacio=bd.New("",null,null);b_.empty=(d6=bD.New(null,"","","","",b3.USA,b1.Masculino,(new dY(2000,1-1,1)).getTime()),O.New(new P({$:0,$0:""}),_9.Error(""),null,d6,[],[],false,bE.Inactivo,bF.Regular,(new dY(2000,1-1,1)).getTime(),(new dY(2000,1-1,1)).getTime(),0,0,0,0,0,0));b_.registroRpcs=new bz.New$5();};b$.invoke=function(d2,d3,d4){var d5;d5=bj.asyncResultM();return d5.Run(d5.Delay(function(){return bj["AsyncResultMBuilder.Bind"](d5,cD.Return(null),function(){var d6,d7,d8;d6=new a.Headers();d6.append("Content-Type","application/json");d6.append("IdAliado",d3);d7=(d8={},d8.mode="cors",d8.credentials="include",d8.method="POST",d8.headers=d6,d8.body=!d4?"null":d4,d8);return bj["AsyncResultMBuilder.Bind"](d5,dG.AsAsync(self.fetch((self.location.protocol==="http:"?"http://localhost:7071/api/":"https://prozper.azurewebsites.net/api/")+d2,d7)),function(d9){return bj["AsyncResultMBuilder.Bind"](d5,dG.AsAsync(d9.text()),function(d_){((function(d$){return function(ea){return d$("invoke resp = "+bt.prettyPrint(ea));};}(function(d$){dW.log(d$);}))(d_));return d5.Return(d_);});});});}));};b$.registroRpcs=function(){b_.$cctor();return b_.registroRpcs;};ca.iter=function(d2,d3,d4){var d5;d5=ca.mapP(d3,d4);d5.$0==null?d2(d5.$1):void 0;};ca.addMsg=function(d2,d3){return ca.mapMessage(function(d4){return bp.addMsg(d2,d4);},d3);};ca.mapP=function(d2,d3){return ca.bindP(function(d4){return ca.rtn(d2(d4));},d3);};ca.mapMessage=function(d2,d3){return{$:0,$0:d3.$0,$1:d2(d3.$1)};};ca.bindP=function(d2,d3){var d4;if(d3.$0==null)return{$:0,$0:null,$1:d3.$1};else{d4=d3.$1;try{return ca.mapMessage(function(d5){return bp.addMsg(d4,d5);},d2(d3.$0.$0));}catch(d5){return bi.ErrorM(new bp({$:5,$0:d5.message,$1:d5.stack}));}}};ca.rtn=function(d2){return bi.OkM$1(d2);};ca.bind=function(d2,d3){var d4;return d3.$0==null?{$:0,$0:null,$1:d3.$1}:(d4=d3.$1,ca.mapMessage(function(d5){return bp.addMsg(d4,d5);},d2(d3.$0.$0)));};cb.replace=function(d2,d3,d4){return D.ofSeq(_8.delay(function(){return _8.append(d2>0?bL.array(d4,null,{$:1,$0:d2-1}):[],_8.delay(function(){return _8.append([d3],_8.delay(function(){return d2<D.length(d4)?bL.array(d4,{$:1,$0:d2+1},null):[];}));}));}));};cb.remove=function(d2,d3){return D.ofSeq(_8.delay(function(){return _8.append(d2>0?bL.array(d3,null,{$:1,$0:d2-1}):[],_8.delay(function(){return d2<D.length(d3)?bL.array(d3,{$:1,$0:d2+1},null):[];}));}));};cc=N.NumeroTarjeta=dU.Class({get_Id:function(){return this.$0;}},null,cc);cd.New=function(d2,d3,d4,d5){return{titular:d2,tipoTarjeta:d3,numero:d4,expiracion:d5};};ce=N.NumeroCuenta=dU.Class({get_Id:function(){return this.$0;}},null,ce);cf.New=function(d2,d3,d4,d5,d6){return{titular:d2,banco:d3,tipo:d4,numero:d5,routing:d6};};cg.formaDocO=function(d2){var d3;return cg.formaDoc(h.Lens(d2,(d3=[N.ctaVacio(),""],function(d4){return d4==null?d3:d4.$0;}),function(d4,d5){return{$:1,$0:d5};}));};cg.formaDoc=function(d2){var d3,d4,d5,d6,d7,d8;function d9(d_,d$){d3.Hole("titular").Set(d_.titular);d3.Hole("banco").Set(d_.banco);d3.Hole("tipocuenta").Set((function(ea){return function(eb){return ea(a.String(eb));};}(a.id))(d_.tipo));d3.Hole("numero").Set(d_.numero.$0);d3.Hole("routing").Set(d_.routing.$0);}d3=(d4=(d5=bV.EmbedView(I.Map(bS.crearOptions,bS.tiposCta().get_View())),H.Make().WithHole({$:0,$0:"tiposcuenta",$1:d5})).WithHole({$:2,$0:"mensaje",$1:I.Map(function(d_){return d_[1];},d2.get_View())}),(d6=K.CompleteHoles(d4.k,d4.h,[["tipocuenta",0],["titular",0],["banco",0],["numero",0],["routing",0]]),(d7=new L.New(d6[1],_5.cuentabancaria(d6[0])),(d4.i=d7,d7))));I.Sink(function(d_){return d9(d_[0],d_[1]);},d2.get_View());d8=I.Apply(I.Apply(I.Map2(function(d_,d$){return function(ea){return function(eb){return _8.map(function(ec){return ec[1];},_8.filter(function(ec){return ec[0];},br.ofArray([[bc.Trim(d_)==="","Titular"],[bc.Trim(d$)==="","Banco"],[bc.Trim(ea)==="","Numero de Cuenta"],[bc.Trim(eb)==="","ABA/Routing Number"]])));};};},d3.Hole("titular").get_View(),d3.Hole("banco").get_View()),d3.Hole("numero").get_View()),d3.Hole("routing").get_View());I.Sink(function(d_){var d$;if(d_!=null&&d_.$==1){d$=d_.$0;!z.Equals((d2.Get())[0],d$)?d2.Set([d$,""]):void 0;}},I.Apply(I.Apply(I.Apply(I.Apply(I.Map2(function(d_,d$){return dU.Curried(function(ea,eb,ec,ed){return!_8.isEmpty(d_)?null:bS.alertIfNone("TipoCuenta",cP.tryParse(bc.Trim(d$)),function(ee){var ef;return{$:1,$0:(ef=bc.Trim(ea),cf.New(bc.Trim(eb),ef,ee,new ce({$:0,$0:bc.Trim(ec)}),new cO({$:0,$0:bc.Trim(ed)})))};});},4);},d8,d3.Hole("tipocuenta").get_View()),d3.Hole("banco").get_View()),d3.Hole("titular").get_View()),d3.Hole("numero").get_View()),d3.Hole("routing").get_View()));return[d8,d3.get_Doc()];};ch.formaDocO=function(d2){var d3;return ch.formaDoc(h.Lens(d2,(d3=[N.tarVacio(),""],function(d4){return d4==null?d3:d4.$0;}),function(d4,d5){return{$:1,$0:d5};}));};ch.formaDoc=function(d2){var d3,d4,d5,d6,d7,d8,d9,d_;function d$(ea,eb){d3.Hole("titular").Set(ea.titular);d3.Hole("tipotarjeta").Set((function(ec){return function(ed){return ec(a.String(ed));};}(a.id))(ea.tipoTarjeta));d3.Hole("numero").Set(ea.numero.$0);d3.Hole("aniovenc").Set((function(ec){return function(ed){return ec(bt.padNumLeft(a.String(ed),4));};}(a.id))(ea.expiracion.anio));d3.Hole("mesvenc").Set((function(ec){return function(ed){return ec(bt.prettyPrint(ed));};}(a.id))(ea.expiracion.mes));}d3=(d4=(d5=bV.EmbedView(I.Map(function(ea){return bS.crearOptions(_8.map(a.String,ea));},bS.mesesV().get_View())),(d6=bV.EmbedView(I.Map(function(ea){return bS.crearOptions(_8.map(a.String,ea));},bS.aniosV().get_View())),(d7=bV.EmbedView(I.Map(bS.crearOptions,bS.tiposTar().get_View())),H.Make().WithHole({$:0,$0:"tipostarjeta",$1:d7})).WithHole({$:2,$0:"mensaje",$1:I.Map(function(ea){return ea[1];},d2.get_View())}).WithHole({$:0,$0:"anios",$1:d6})).WithHole({$:0,$0:"meses",$1:d5})),(d8=K.CompleteHoles(d4.k,d4.h,[["tipotarjeta",0],["titular",0],["numero",0],["aniovenc",0],["mesvenc",0]]),(d9=new L.New(d8[1],_5.tarjetacredito(d8[0])),(d4.i=d9,d9))));I.Sink(function(ea){return d$(ea[0],ea[1]);},d2.get_View());d_=I.Apply(I.Apply(I.Apply(I.Map2(function(ea,eb){return dU.Curried3(function(ec,ed,ee){return _8.map(function(ef){return ef[1];},_8.filter(function(ef){return ef[0];},br.ofArray([[bc.Trim(ea)==="","Titular"],[bc.Trim(eb)==="","TipoTarjeta"],[bc.Trim(ec)==="","Numero"],[bc.Trim(ed)==="","Ano de Vencimiento"],[bc.Trim(ee)==="","Mes de Vencimiento"]])));});},d3.Hole("titular").get_View(),d3.Hole("tipotarjeta").get_View()),d3.Hole("numero").get_View()),d3.Hole("aniovenc").get_View()),d3.Hole("mesvenc").get_View());I.Sink(function(ea){var eb;if(ea!=null&&ea.$==1){eb=ea.$0;!z.Equals((d2.Get())[0],eb)?d2.Set([eb,""]):void 0;}},I.Apply(I.Apply(I.Apply(I.Apply(I.Map2(function(ea,eb){return dU.Curried(function(ec,ed,ee,ef){return!_8.isEmpty(ea)?null:bS.alertIfNone("Tipo Tarjeta",cN.tryParse(bc.Trim(eb)),function(eg){var eh,ei,ej;return{$:1,$0:cd.New(bc.Trim(ec),eg,new cc({$:0,$0:bc.Trim(ed)}),cM.New((eh=(ei=bc.Trim(ee),(b2.parseIntO())(ei)),eh==null?0:eh.$0),(ej=bc.Trim(ef),ej==="Febrero"?2:ej==="Marzo"?3:ej==="Abril"?4:ej==="Mayo"?5:ej==="Junio"?6:ej==="Julio"?7:ej==="Agosto"?8:ej==="Septiembre"?9:ej==="Octubre"?10:ej==="Noviembre"?11:ej==="Diciembre"?12:1)))};});},4);},d_,d3.Hole("tipotarjeta").get_View()),d3.Hole("titular").get_View()),d3.Hole("numero").get_View()),d3.Hole("aniovenc").get_View()),d3.Hole("mesvenc").get_View()));return[d_,d3.get_Doc()];};ci.p=function(d2){return"{"+("docName = "+bt.prettyPrint(d2.docName))+"; "+("docDoc = "+ck.p(d2.docDoc))+"}";};cj.appfwkclient=function(d2){cj.fixedsplitterhor();cj.fixedsplitterver();cx.LoadLocalTemplates("appframework");return d2?cx.NamedTemplate("appframework",{$:1,$0:"appfwkclient"},d2):void 0;};ck.p=function(d2){return d2.$==5?"FunDoc5 (<fun>, "+bt.prettyPrint(d2.$1)+", "+bt.prettyPrint(d2.$2)+", "+bt.prettyPrint(d2.$3)+", "+bt.prettyPrint(d2.$4)+", "+bt.prettyPrint(d2.$5)+")":d2.$==4?"FunDoc4 (<fun>, "+bt.prettyPrint(d2.$1)+", "+bt.prettyPrint(d2.$2)+", "+bt.prettyPrint(d2.$3)+", "+bt.prettyPrint(d2.$4)+")":d2.$==3?"FunDoc3 (<fun>, "+bt.prettyPrint(d2.$1)+", "+bt.prettyPrint(d2.$2)+", "+bt.prettyPrint(d2.$3)+")":d2.$==2?"FunDoc2 (<fun>, "+bt.prettyPrint(d2.$1)+", "+bt.prettyPrint(d2.$2)+")":d2.$==1?"FunDoc1 (<fun>, "+bt.prettyPrint(d2.$1)+")":"LazyDoc "+bt.prettyPrint(d2.$0);};cj.tile=function(d2){cx.LoadLocalTemplates("appframework");return d2?cx.NamedTemplate("appframework",{$:1,$0:"tile"},d2):void 0;};cj.namevalueinput=function(d2){cx.LoadLocalTemplates("appframework");return d2?cx.NamedTemplate("appframework",{$:1,$0:"namevalueinput"},d2):void 0;};cj.namevalue=function(d2){cx.LoadLocalTemplates("appframework");return d2?cx.NamedTemplate("appframework",{$:1,$0:"namevalue"},d2):void 0;};cj.action=function(d2){cx.LoadLocalTemplates("appframework");return d2?cx.NamedTemplate("appframework",{$:1,$0:"action"},d2):void 0;};cj.actiondisabled=function(d2){cx.LoadLocalTemplates("appframework");return d2?cx.NamedTemplate("appframework",{$:1,$0:"actiondisabled"},d2):void 0;};cj.fixedsplitterhor=function(d2){cx.LoadLocalTemplates("appframework");return d2?cx.NamedTemplate("appframework",{$:1,$0:"fixedsplitterhor"},d2):void 0;};cj.fixedsplitterver=function(d2){cx.LoadLocalTemplates("appframework");return d2?cx.NamedTemplate("appframework",{$:1,$0:"fixedsplitterver"},d2):void 0;};cj.wcompsplitterhor=function(d2){cx.LoadLocalTemplates("appframework");return d2?cx.NamedTemplate("appframework",{$:1,$0:"wcompsplitterhor"},d2):void 0;};cj.wcompsplitterver=function(d2){cx.LoadLocalTemplates("appframework");return d2?cx.NamedTemplate("appframework",{$:1,$0:"wcompsplitterver"},d2):void 0;};cj.appframework=function(d2){cx.LoadLocalTemplates("appframework");return d2?cx.NamedTemplate("appframework",{$:1,$0:"appframework"},d2):void 0;};bi.OkM$1=function(d2){return{$:0,$0:{$:1,$0:d2},$1:bp.NoMsg};};bi.OkM=function(d2){return d2.$0==null?{$:1,$0:d2.$1}:{$:0,$0:[d2.$0.$0,d2.$1]};};bi.ErrorM=function(d2){return{$:0,$0:null,$1:d2};};bK.splitByChar=function(d2,d3){return bc.SplitChars(d3,[d2],0);};bK.unindent=function(d2){var d3,d4,d5,d6;d3=bc.SplitChars(d2,["\n"],0);d4=(d5=_8.tryFindIndex(function(d7){return" "!==d7;},(d6=_8.tryFind(function(d7){return bc.Trim(d7)!=="";},d3),d6==null?"":d6.$0)),d5==null?0:d5.$0);return _8.filter(function(d7){return!bc.StartsWith(d7,"# 1 ");},_8.map(function(d7){return d7.length<=d4?"":d7.substring(d4);},d3));};bK.unindentStr=function(){bx.$cctor();return bx.unindentStr;};bK.StartsWith=function(d2,d3){return bc.StartsWith(d3,d2)?{$:1,$0:bL.string(d3,{$:1,$0:d2.length},null)}:null;};bK.delimitedO=function(d2,d3,d4){var d5,d6,d7,d8,d9;d5=bK.splitInTwoO(d2,d4);return d5==null?null:(d6=d5.$0,(d7=d6[0],(d8=bK.splitInTwoO(d3,d6[1]),d8==null?null:{$:1,$0:(d9=d8.$0,[d7,d9[0],d9[1]])})));};bK.splitInTwoO=function(d2,d3){var d4;d4=d3.indexOf(d2);return d4===-1?null:{$:1,$0:[_9["String.Left"](d3,d4),d3.substring(d4+d2.length)]};};cn=cm.attr=dU.Class({},f,cn);co.Style=function(d2,d3){return cT.Static(function(d4){cU.SetStyle(d4,d2,d3);});};co.Dynamic=function(d2,d3){return cT.Dynamic(d3,function(d4){return function(d5){return cU.SetAttr(d4,d2,d5);};});};co.Handler=function(d2,d3){return cT.Static(function(d4){d4.addEventListener(d2,function(d5){return(d3(d4))(d5);},false);});};co.DynamicStyle=function(d2,d3){return cT.Dynamic(d3,function(d4){return function(d5){return cU.SetStyle(d4,d2,d5);};});};co.Value=function(d2){function d3(d4){return{$:1,$0:d4};}return co.CustomValue(d2,a.id,function(d4){return d3(a.id(d4));});};co.CustomValue=function(d2,d3,d4){return co.CustomVar(d2,function(d5,d6){d5.value=d3(d6);},function(d5){return d4(d5.value);});};co.OnAfterRender=function(d2){return new ct({$:4,$0:d2});};co.Checked=function(d2){function d3(d4,d5){return!z.Equals(d2.Get(),d4.checked)?d2.Set(d4.checked):null;}return ct.Concat([co.DynamicProp("checked",d2.get_View()),co.Handler("change",function(d4){return function(d5){return d3(d4,d5);};})]);};co.IntValue=function(d2){return co.CustomVar(d2,function(d3,d4){var d5;d5=d4.get_Input();return d3.value!==d5?void(d3.value=d5):null;},function(d3){var d4,d5,d6;d4=d3.value;return{$:1,$0:dK.isBlank(d4)?(d3.checkValidity?d3.checkValidity():true)?new cu({$:2,$0:d4}):new cu({$:1,$0:d4}):(d5=(d6=0,[bG.TryParseInt32(d4,{get:function(){return d6;},set:function(d7){d6=d7;}}),d6]),d5[0]?new cu({$:0,$0:d5[1],$1:d4}):new cu({$:1,$0:d4}))};});};co.IntValueUnchecked=function(d2){return co.CustomValue(d2,a.String,function(d3){var d4;return dK.isBlank(d3)?{$:1,$0:0}:(d4=+d3,d4!==d4>>0?null:{$:1,$0:d4});});};co.FloatValue=function(d2){return co.CustomVar(d2,function(d3,d4){var d5;d5=d4.get_Input();return d3.value!==d5?void(d3.value=d5):null;},function(d3){var d4,d5;d4=d3.value;return{$:1,$0:dK.isBlank(d4)?(d3.checkValidity?d3.checkValidity():true)?new cu({$:2,$0:d4}):new cu({$:1,$0:d4}):(d5=+d4,a.isNaN(d5)?new cu({$:1,$0:d4}):new cu({$:0,$0:d5,$1:d4}))};});};co.FloatValueUnchecked=function(d2){return co.CustomValue(d2,a.String,function(d3){var d4;return dK.isBlank(d3)?{$:1,$0:0}:(d4=+d3,a.isNaN(d4)?null:{$:1,$0:d4});});};co.CustomVar=function(d2,d3,d4){function d5(d7,d8){return d2.UpdateMaybe(function(d9){var d_,d$;d_=d4(d7);return d_!=null&&d_.$==1&&(!z.Equals(d_.$0,d9)&&(d$=[d_,d_.$0],true))?d$[0]:null;});}function d6(d7,d8){var d9,d_;d9=d4(d7);return d9!=null&&d9.$==1&&(z.Equals(d9.$0,d8)&&(d_=d9.$0,true))?null:d3(d7,d8);}return ct.Concat([co.Handler("change",function(d7){return function(d8){return d5(d7,d8);};}),co.Handler("input",function(d7){return function(d8){return d5(d7,d8);};}),co.Handler("keypress",function(d7){return function(d8){return d5(d7,d8);};}),co.DynamicCustom(function(d7){return function(d8){return d6(d7,d8);};},d2.get_View())]);};co.DynamicProp=function(d2,d3){return cT.Dynamic(d3,function(d4){return function(d5){d4[d2]=d5;};});};co.DynamicCustom=function(d2,d3){return cT.Dynamic(d3,d2);};cr=cq.WcTabStripT=dU.Class({connectedCallback:function(){var d2,d3,d4,d5;function d6(){var d7,d8,d9;d8=!d3.hasAttribute("bottom");d9=br.ofSeq(_8.delay(function(){return _8.collect(function(d_){var d$;d$=d3.childNodes[d_-1];return z.Equals(d$.nodeType,w.ELEMENT_NODE)?[[d$.hasAttribute("tabname")?d$.getAttribute("tabname"):(function(ea){return function(eb){return ea("Tab "+a.String(eb));};}(a.id))(d_),d$]]:[];},u.range(1,d3.childNodes.length));}));while(d5.childNodes.length>0)d5.removeChild(d5.lastChild);d7=cq.tabStrip(d2.selected,d8,true,d9,bV.Element("slot",bs.Empty,bs.Empty));cx.LoadLocalTemplates("");bV.Run(d5,d7);}d2=this;!this.added?(d3=this,d4=d3.attachShadow({mode:"open"}),d5=self.document.createElement("div"),d4.appendChild(d5),d6(),d3.addEventListener("DOMSubtreeModified",_9.delayed(50,d6)),this.added=true):void 0;}},f,cr);cr.Constructor=function(){var d2,d3;d2=(d3=dZ.construct(self.HTMLElement,[],this.__proto__.constructor),d3);self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New.call(d2);return d2;};cr.New=dU.Ctor(function(){f.New.call(this);this.added=false;this.selected=h.Create$1(1);(function(d2){return d2("WcTabStripT initializer");}(function(d2){dW.log(d2);}));},cr);cp.defineWebComponent=function(d2,d3,d4){try{dW.log("defineWebComponent: "+d2);cl.setPrototypeOf(d4.prototype,self.HTMLElement.prototype);cl.setPrototypeOf(d4,self.HTMLElement);cl.setPrototypeOf(d3.prototype,d4.prototype);self.customElements.define(d2,d3);}catch(d5){(function(d6){return d6("Failed to define WebComponent. Not supported.");}(function(d6){dW.log(d6);}));}};cs.init=function(d2,d3){var d4;d4=new cW.New();cs.set_layoutHorizontal(d2);cs.set_layoutVertical(d3);cp.defineWebComponent("wcomp-splitter",cW.Constructor,self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New);};cs.set_layoutHorizontal=function(d2){bx.$cctor();bx.layoutHorizontal=d2;};cs.set_layoutVertical=function(d2){bx.$cctor();bx.layoutVertical=d2;};cs.layoutVertical=function(){bx.$cctor();return bx.layoutVertical;};cs.layoutHorizontal=function(){bx.$cctor();return bx.layoutHorizontal;};cq.init=function(){bx.$cctor();return bx.init;};cq.tabStrip=function(d2,d3,d4,d5,d6){var d7;d7=bV.Element("div",[ct.Create("class",(((dU.Curried3(function(d8,d9,d_){return d8("tab-strip "+bt.toSafe(d9)+" "+bt.toSafe(d_));}))(a.id))(d3?"top":"bottom"))(d4?"horizontal":"vertical"))],br.ofSeq(_8.delay(function(){return _8.collect(function(d8){var d9;d9=d8[0];return[c9.New$1().Content(bV.Element("div",[co.Dynamic("class",I.Map(function(d_){return"tab"+(d_===d9+1?" selected":"");},d2.get_View())),ct.Create("draggable","true"),ct.HandlerImpl("click",function(){return function(){return d2.Set(d9+1);};})],[bV.TextNode(d8[1][0])]))];},_8.indexed(d5));})));return bV.Element("div",[ct.Create("class","tab-panel")],br.ofSeq(_8.delay(function(){return _8.append(d3?[d7]:[],_8.delay(function(){return _8.append([bV.Element("div",[ct.Create("class","tab-content")],[d6])],_8.delay(function(){return _8.append(!d3?[d7]:[],_8.delay(function(){return _8.append([bV.Element("style",bs.Empty,br.ofArray([bV.TextNode(cq.css())]))],_8.delay(function(){return[bV.Element("style",bs.Empty,br.ofArray([bV.TextView(I.Map(function(d8){return function(d9){return d8("\r\n                                              ::slotted(*              ) { display: none }\r\n                                              ::slotted(*:nth-child("+a.String(d9)+")) { display: grid }\r\n                                           ");};}(a.id),d2.get_View()))]))];}));}));}));}));})));};cq.css=function(){bx.$cctor();return bx.css;};ct=g.AttrProxy=dU.Class({},null,ct);ct.Create=function(d2,d3){return cT.Static(function(d4){cU.SetAttr(d4,d2,d3);});};ct.HandlerImpl=function(d2,d3){return cT.Static(function(d4){d4.addEventListener(d2,function(d5){return(d3(d4))(d5);},false);});};ct.Concat=function(d2){var d3;d3=c3.ofSeqNonCopying(d2);return c3.TreeReduce(cT.EmptyAttr(),ct.Append,d3);};ct.Append=function(d2,d3){return cT.AppendTree(d2,d3);};ct.Handler=function(d2,d3){return ct.HandlerImpl(d2,d3);};cu=g.CheckedInput=dU.Class({get_Input:function(){return this.$==1?this.$0:this.$==2?this.$0:this.$1;}},null,cu);T.Obsolete=function(d2){var d3,d4,d5,d6,d7;d4=d2.s;if(d4==null||(d4!=null&&d4.$==2?(d3=d4.$1,false):d4!=null&&d4.$==3?(d3=d4.$1,false):true))void 0;else{d2.s=null;for(d5=0,d6=D.length(d3)-1;d5<=d6;d5++){d7=D.get(d3,d5);typeof d7=="object"?function(d8){T.Obsolete(d8);}(d7):d7();}}};T.New=function(d2){return{s:d2};};cv.notPresent=function(){return u.FailWith("The given key was not present in the dictionary.");};cv.alreadyAdded=function(){return u.FailWith("An item with the same key has already been added.");};cx.RunFullDocTemplate=function(d2){var d3,d4;cx.LoadLocalTemplates("");cx.PrepareTemplateStrict("",null,cU.ChildrenArray(self.document.body),{$:1,$0:self.document.body},null);d3=cx.ChildrenTemplate(self.document.body,d2);d4=self.document.body;(function(d5){bV.RunInPlace(true,d4,d5);}(d3));return d3;};cx.LoadLocalTemplates=function(d2){!cx.LocalTemplatesLoaded()?(cx.set_LocalTemplatesLoaded(true),cx.LoadNestedTemplates(self.document.body,"")):void 0;cx.LoadedTemplates().set_Item(d2,cx.LoadedTemplateFile(""));};cx.NamedTemplate=function(d2,d3,d4){var d5,d6;d5=(d6=null,[cx.LoadedTemplateFile(d2).TryGetValue(d3==null?"":d3.$0,{get:function(){return d6;},set:function(d7){d6=d7;}}),d6]);return d5[0]?cx.ChildrenTemplate(d5[1].cloneNode(true),d4):(dW.warn("Local template doesn't exist",d3),bV.get_Empty());};cx.PrepareTemplateStrict=function(d2,d3,d4,d5,d6){var d7,d8;function d9(ec,ed){var ee,ef,eg,eh,ei,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE;function ej(eF){}while(true)switch(ec){case 0:if(ed!==null){ee=ed.nextSibling;if(z.Equals(ed.nodeType,w.TEXT_NODE))df.convertTextNode(ed);else if(z.Equals(ed.nodeType,w.ELEMENT_NODE))d$(ed);ed=ee;}else return null;break;case 1:ek=bL.string(ed.nodeName,{$:1,$0:3},null).toLowerCase();el=(ef=ek.indexOf("."),ef===-1?[d2,ek]:[bL.string(ek,null,{$:1,$0:ef-1}),bL.string(ek,{$:1,$0:ef+1},null)]);em=el[1];en=el[0];if(en!==""&&!cx.LoadedTemplates().ContainsKey(en))return df.failNotLoaded(em);else{if(en===""&&d6!=null)d6.$0(em);eo=cx.LoadedTemplates().get_Item(en);if(!eo.ContainsKey(em))return df.failNotLoaded(em);else{ep=eo.get_Item(em);eq=ep.cloneNode(true);er=new bA.New$3();es=new bz.New$5();et=ed.attributes;for(eu=0,ev=et.length-1;eu<=ev;eu++){ew=et.item(eu).name.toLowerCase();es.set_Item(ew,(ex=et.item(eu).nodeValue,ex===""?ew:ex.toLowerCase()));!er.Add(ew)?dW.warn("Hole mapped twice",ew):void 0;}for(ey=0,ez=ed.childNodes.length-1;ey<=ez;ey++){eA=ed.childNodes[ey];z.Equals(eA.nodeType,w.ELEMENT_NODE)?!er.Add(eA.nodeName.toLowerCase())?dW.warn("Hole filled twice",em):void 0:void 0;}eB=ed.childNodes.length===1&&z.Equals(ed.firstChild.nodeType,w.TEXT_NODE);if(eB){eh=df.fillTextHole(eq,ed.firstChild.textContent,em);((function(eF){return function(eG){if(eG!=null)eF(eG.$0);};}((ei=function(eF){return function(eG){return eF.Add(eG);};}(er),function(eF){return ej(ei(eF));})))(eh));}df.removeHolesExcept(eq,er);if(!eB){for(eC=0,eD=ed.childNodes.length-1;eC<=eD;eC++){eE=ed.childNodes[eC];z.Equals(eE.nodeType,w.ELEMENT_NODE)?eE.hasAttributes()?df.fillInstanceAttrs(eq,eE):d_(eq,eE):void 0;}}df.mapHoles(eq,es);df.fill(eq,ed.parentNode,ed);ed.parentNode.removeChild(ed);return;}}break;}}function d_(ec,ed){var ee,eg,eh;function ef(ei,ej){var ek,el,em;if(eg==="title"&&ed.hasChildNodes()){ek=d0.parseHTML(ed.textContent);ed.removeChild(ed.firstChild);for(el=0,em=ek.length-1;el<=em;el++)ed.appendChild(D.get(ek,el));}else null;d$(ed);return df.fill(ed,ei,ej);}eg=ed.nodeName.toLowerCase();cU.IterSelector(ec,"[ws-attr-holes]",function(ei){var ej,ek,el,em,en;ej=bc.SplitChars(ei.getAttribute("ws-attr-holes"),[" "],1);for(ek=0,el=ej.length-1;ek<=el;ek++){em=D.get(ej,ek);ei.setAttribute(em,(en=new a.RegExp("\\${"+eg+"}","ig"),ei.getAttribute(em).replace(en,ed.textContent)));}});eh=ec.querySelector("[ws-hole="+eg+"]");if(z.Equals(eh,null)){ee=ec.querySelector("[ws-replace="+eg+"]");return z.Equals(ee,null)?null:(ef(ee.parentNode,ee),void ee.parentNode.removeChild(ee));}else{while(eh.hasChildNodes())eh.removeChild(eh.lastChild);eh.removeAttribute("ws-hole");return ef(eh,null);}}function d$(ec){if(bc.StartsWith(ec.nodeName.toLowerCase(),"ws-"))eb(ec);else{df.convertAttrs(ec);ea(ec.firstChild);}}function ea(ec){return d9(0,ec);}function eb(ec){return d9(1,ec);}d7=d5==null?cx.FakeRoot(d4):d5.$0;d8=(d3==null?"":d3.$0).toLowerCase();cx.LoadedTemplateFile(d2).set_Item(d8,d7);D.length(d4)>0?(function(ec){var ed,ee,ef,eg;while(true){ed=ec.querySelector("[ws-template]");if(z.Equals(ed,null)){ee=ec.querySelector("[ws-children-template]");if(z.Equals(ee,null))return null;else{ef=ee.getAttribute("ws-children-template");ee.removeAttribute("ws-children-template");cx.PrepareTemplateStrict(d2,{$:1,$0:ef},cU.ChildrenArray(ee),null,null);ec=ec;}}else{eg=ed.getAttribute("ws-template");(cx.PrepareSingleTemplate(d2,{$:1,$0:eg},ed))(null);ec=ec;}}}(d7),ea(D.get(d4,0))):void 0;};cx.ChildrenTemplate=function(d2,d3){var d4,d5,d6,d7,d8;d4=cx.InlineTemplate(d2,d3);d5=d4[1];d6=d4[0];d7=d6.Els;return!z.Equals(d7,null)&&d7.length===1&&(D.get(d7,0)instanceof w&&(z.Equals(D.get(d7,0).nodeType,w.ELEMENT_NODE)&&(d8=D.get(d7,0),true)))?dg.TreeNode(d6,d5):bV.Mk({$:6,$0:d6},d5);};cx.LocalTemplatesLoaded=function(){dq.$cctor();return dq.LocalTemplatesLoaded;};cx.set_LocalTemplatesLoaded=function(d2){dq.$cctor();dq.LocalTemplatesLoaded=d2;};cx.LoadNestedTemplates=function(d2,d3){var d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg;function d4(eh){var ei,ej;if(!d5.ContainsKey(eh)){ei=(ej=null,[d6.TryGetValue(eh,{get:function(){return ej;},set:function(ek){ej=ek;}}),ej]);ei[0]?(eg.Add(eh),d6.Remove(eh),cx.PrepareTemplateStrict(d3,{$:1,$0:eh},ei[1][0],{$:1,$0:ei[1][1]},{$:1,$0:d4})):dW.warn(eg.Contains(eh)?"Encountered loop when instantiating "+eh:"Local template does not exist: "+eh);}}d5=cx.LoadedTemplateFile(d3);d6=new bz.New$5();d7=d2.querySelectorAll("[ws-template]");for(d8=0,d9=d7.length-1;d8<=d9;d8++){d_=d7[d8];d$=d_.getAttribute("ws-template").toLowerCase();d_.removeAttribute("ws-template");d6.set_Item(d$,[[d_],cx.FakeRootSingle(d_)]);}ea=d2.querySelectorAll("[ws-children-template]");for(eb=0,ec=ea.length-1;eb<=ec;eb++){ed=ea[eb];ee=ed.getAttribute("ws-children-template").toLowerCase();ed.removeAttribute("ws-children-template");d6.set_Item(ee,(ef=cU.ChildrenArray(ed),[ef,cx.FakeRoot(ef)]));}eg=new bA.New$3();while(d6.count>0)d4(_8.head(d6.get_Keys()));};cx.LoadedTemplates=function(){dq.$cctor();return dq.LoadedTemplates;};cx.LoadedTemplateFile=function(d2){var d3,d4,d5;d3=(d4=null,[cx.LoadedTemplates().TryGetValue(d2,{get:function(){return d4;},set:function(d6){d4=d6;}}),d4]);return d3[0]?d3[1]:(d5=new bz.New$5(),(cx.LoadedTemplates().set_Item(d2,d5),d5));};cx.FakeRoot=function(d2){var d3,d4,d5;d3=self.document.createElement("div");for(d4=0,d5=d2.length-1;d4<=d5;d4++)d3.appendChild(D.get(d2,d4));return d3;};cx.PrepareSingleTemplate=function(d2,d3,d4){var d5,d6,d7;d5=cx.FakeRootSingle(d4);d6=[d4];d7={$:1,$0:d5};return function(d8){cx.PrepareTemplateStrict(d2,d3,d6,d7,d8);};};cx.InlineTemplate=function(d2,d3){var d4,d5,d6,d7,d_,d$,ea,eb,ec,ed,ee;function d8(ef,eg){var eh,ei,ej;eh=cT.Insert(ef,eg);d$.push(cT.Updates(eh));ea.push([ef,eh]);ei=dU.GetOptional(eh.OnAfterRender);return ei==null?null:(ej=ei.$0,void eb.push(function(){ej(ef);}));}function d9(ef){var eg,eh;eg=(eh=null,[ec.TryGetValue(ef,{get:function(){return eh;},set:function(ei){eh=ei;}}),eh]);return eg[0]?eg[1].$==0?{$:1,$0:eg[1].$1}:eg[1].$==1?{$:1,$0:bV.TextNode(eg[1].$1)}:eg[1].$==2?{$:1,$0:bV.TextView(eg[1].$1)}:eg[1].$==8?{$:1,$0:bV.TextView(eg[1].$1.get_View())}:eg[1].$==9?{$:1,$0:bV.TextView(I.Map(a.String,eg[1].$1.get_View()))}:eg[1].$==10?{$:1,$0:bV.TextView(I.Map(function(ei){return ei.get_Input();},eg[1].$1.get_View()))}:eg[1].$==11?{$:1,$0:bV.TextView(I.Map(a.String,eg[1].$1.get_View()))}:eg[1].$==12?{$:1,$0:bV.TextView(I.Map(function(ei){return ei.get_Input();},eg[1].$1.get_View()))}:eg[1].$==13?{$:1,$0:bV.TextView(I.Map(a.String,eg[1].$1.get_View()))}:(dW.warn("Content hole filled with attribute data",ef),null):null;}d_=[];d$=[];ea=[];eb=[];ec=new bz.New$5();ed=bX.Get(d3);try{while(ed.MoveNext()){ee=ed.Current();ec.set_Item(ee.$0,ee);}}finally{if(typeof ed=="object"&&"Dispose"in ed)ed.Dispose();}d4=cU.ChildrenArray(d2);cU.IterSelector(d2,"[ws-hole]",function(ef){var eg,eh,ei;ei=ef.getAttribute("ws-hole");ef.removeAttribute("ws-hole");while(ef.hasChildNodes())ef.removeChild(ef.lastChild);eg=d9(ei);eg!=null&&eg.$==1?(eh=eg.$0,cR.LinkElement(ef,eh.docNode),d_.push(dd.New(cT.Empty(ef),eh.docNode,null,ef,bJ.Int(),null)),d$.push(eh.updates)):void 0;});cU.IterSelector(d2,"[ws-replace]",function(ef){var eg,eh,ei,ej,ek,el;eg=d9(ef.getAttribute("ws-replace"));eg!=null&&eg.$==1?(eh=eg.$0,ei=ef.parentNode,ej=self.document.createTextNode(""),ei.replaceChild(ej,ef),ek=cR.InsertBeforeDelim(ej,eh.docNode),el=D.tryFindIndex(function(em){return ef===em;},d4),el==null?void 0:D.set(d4,el.$0,eh.docNode),d_.push(dd.New(cT.Empty(ei),eh.docNode,{$:1,$0:[ek,ej]},ei,bJ.Int(),null)),d$.push(eh.updates)):void 0;});cU.IterSelector(d2,"[ws-attr]",function(ef){var eg,eh,ei;eg=ef.getAttribute("ws-attr");ef.removeAttribute("ws-attr");eh=(ei=null,[ec.TryGetValue(eg,{get:function(){return ei;},set:function(ej){ei=ej;}}),ei]);eh[0]?eh[1].$==3?d8(ef,eh[1].$1):dW.warn("Attribute hole filled with non-attribute data",eg):void 0;});cU.IterSelector(d2,"[ws-on]",function(ef){d8(ef,ct.Concat(D.choose(function(eg){var eh,ei,ej;eh=bc.SplitChars(eg,[":"],1);ei=(ej=null,[ec.TryGetValue(D.get(eh,1),{get:function(){return ej;},set:function(ek){ej=ek;}}),ej]);return ei[0]?ei[1].$==4?{$:1,$0:co.Handler(D.get(eh,0),ei[1].$1)}:ei[1].$==5?{$:1,$0:ct.Handler(D.get(eh,0),ei[1].$2)}:(dW.warn("Event hole on"+D.get(eh,0)+" filled with non-event data",D.get(eh,1)),null):null;},bc.SplitChars(ef.getAttribute("ws-on"),[" "],1))));ef.removeAttribute("ws-on");});cU.IterSelector(d2,"[ws-onafterrender]",function(ef){var eg,eh,ei;eg=ef.getAttribute("ws-onafterrender");eh=(ei=null,[ec.TryGetValue(eg,{get:function(){return ei;},set:function(ej){ei=ej;}}),ei]);eh[0]?eh[1].$==6?(ef.removeAttribute("ws-onafterrender"),d8(ef,co.OnAfterRender(eh[1].$1))):eh[1].$==7?(ef.removeAttribute("ws-onafterrender"),d8(ef,co.OnAfterRender(eh[1].$1))):dW.warn("onafterrender hole filled with non-onafterrender data",eg):void 0;});cU.IterSelector(d2,"[ws-var]",function(ef){var eg,eh,ei;eg=ef.getAttribute("ws-var");ef.removeAttribute("ws-var");eh=(ei=null,[ec.TryGetValue(eg,{get:function(){return ei;},set:function(ej){ei=ej;}}),ei]);eh[0]?eh[1].$==8?d8(ef,co.Value(eh[1].$1)):eh[1].$==9?d8(ef,co.Checked(eh[1].$1)):eh[1].$==10?d8(ef,co.IntValue(eh[1].$1)):eh[1].$==11?d8(ef,co.IntValueUnchecked(eh[1].$1)):eh[1].$==12?d8(ef,co.FloatValue(eh[1].$1)):eh[1].$==13?d8(ef,co.FloatValueUnchecked(eh[1].$1)):dW.warn("Var hole filled with non-Var data",eg):void 0;});cU.IterSelector(d2,"[ws-attr-holes]",function(ef){var eg,eh,ei,ej;eg=new a.RegExp(cx.TextHoleRE(),"g");eh=bc.SplitChars(ef.getAttribute("ws-attr-holes"),[" "],1);ef.removeAttribute("ws-attr-holes");for(ei=0,ej=eh.length-1;ei<=ej;ei++)(function(){var ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew;et=D.get(eh,ei);eu=ef.getAttribute(et);ek=null;el=0;ev=[];while(ek=eg.exec(eu),ek!==null){ew=bL.string(eu,{$:1,$0:el},{$:1,$0:eg.lastIndex-D.get(ek,0).length-1});el=eg.lastIndex;ev.push([ew,D.get(ek,1)]);}en=bL.string(eu,{$:1,$0:el},null);eg.lastIndex=0;eo=D.foldBack(function(ex,ey){return(function(ez){var eA,eB;eA=ez[0];eB=ez[1];return function(eC){var eD,eE,eF,eG,eH;eD=eC[0];eE=eC[1];eF=(eG=(eH=null,[ec.TryGetValue(eB,{get:function(){return eH;},set:function(eI){eH=eI;}}),eH]),eG[0]?eG[1].$==1?{$:0,$0:eG[1].$1}:eG[1].$==2?{$:1,$0:eG[1].$1}:eG[1].$==8?{$:1,$0:eG[1].$1.get_View()}:eG[1].$==9?{$:1,$0:I.Map(a.String,eG[1].$1.get_View())}:eG[1].$==10?{$:1,$0:I.Map(function(eI){return eI.get_Input();},eG[1].$1.get_View())}:eG[1].$==11?{$:1,$0:I.Map(a.String,eG[1].$1.get_View())}:eG[1].$==12?{$:1,$0:I.Map(function(eI){return eI.get_Input();},eG[1].$1.get_View())}:eG[1].$==13?{$:1,$0:I.Map(a.String,eG[1].$1.get_View())}:(dW.warn("Attribute value hole filled with non-text data",eB),{$:0,$0:""}):{$:0,$0:""});return eF.$==1?[eA,new bs({$:1,$0:eD===""?eF.$0:I.Map(function(eI){return eI+eD;},eF.$0),$1:eE})]:[eA+eF.$0+eD,eE];};}(ex))(ey);},ev,[en,bs.Empty]);return d8(ef,eo[1].$==1?eo[1].$1.$==1?eo[1].$1.$1.$==1?eo[1].$1.$1.$1.$==0?(ep=eo[0],co.Dynamic(et,I.Map3(function(ex,ey,ez){return ep+ex+ey+ez;},eo[1].$0,eo[1].$1.$0,eo[1].$1.$1.$0))):(eq=eo[0],co.Dynamic(et,I.Map(function(ex){return eq+bc.concat("",ex);},I.Sequence(eo[1])))):(er=eo[0],co.Dynamic(et,I.Map2(function(ex,ey){return er+ex+ey;},eo[1].$0,eo[1].$1.$0))):eo[0]===""?co.Dynamic(et,eo[1].$0):(es=eo[0],co.Dynamic(et,I.Map(function(ex){return es+ex;},eo[1].$0))):ct.Create(et,eo[0]));}());});return[dU.DeleteEmptyFields({Els:d4,Dirty:true,Holes:d_,Attrs:ea,Render:(d5=eb.length==0?null:{$:1,$0:function(ef){D.iter(function(eg){eg(ef);},eb);}},d5?d5.$0:void 0),El:(d6=!z.Equals(d4,null)&&d4.length===1&&(D.get(d4,0)instanceof w&&(D.get(d4,0)instanceof a.Element&&(d7=D.get(d4,0),true)))?{$:1,$0:d7}:null,d6?d6.$0:void 0)},["Render","El"]),c3.TreeReduce(I.Const(),I.Map2Unit,d$)];};cx.FakeRootSingle=function(d2){var d3,d4,d5;d2.removeAttribute("ws-template");d3=d2.getAttribute("ws-replace");d3===null?void 0:(d2.removeAttribute("ws-replace"),d4=d2.parentNode,z.Equals(d4,null)?void 0:(d5=self.document.createElement(d2.tagName),d5.setAttribute("ws-replace",d3),d4.replaceChild(d5,d2)));return cx.FakeRoot([d2]);};cx.TextHoleRE=function(){dq.$cctor();return dq.TextHoleRE;};cy.newPojoOpt=function(d2){function d3(d4,d5){return d5==null?null:{$:1,$0:[d4,d5.$0]};}return cy.newPojo(_8.choose(function(d4){return d3(d4[0],d4[1]);},d2));};cy.newPojo=function(d2){var d3,d4;function d5(d7,d8){return function(d9){return cy.addProp(d7,d8,d9);};}function d6(d7){}d3={};_8.iter((d4=function(d7){return(function(d8){return d5(d8[0],d8[1]);}(d7))(d3);},function(d7){return d6(d4(d7));}),d2);return d3;};cy.addProp=function(d2,d3,d4){d4[d2]=d3;return d4;};bM.op_EqualsEqualsGreater=function(d2,d3){return[d2,d3==null?null:{$:1,$0:d3.$0}];};cA.JSUnion=function(d2,d3){var d4;function d5(d9){var d_;function d$(ea){return ea!=null&&ea.$==1&&z.Equals(d9,ea.$0);}d_=_8.tryFindIndex(function(ea){return d$(ea[0]);},d3);return d_!=null&&d_.$==1?d_.$0:d9.$;}function d6(d9,d_){return D.init(D.length((D.get(d3,d9))[2]),function(d$){return d_["$"+a.String(d$)];});}function d7(d9,d_){var d$,ea,eb;d$=d2==null?{}:new d2();ea=D.get(d3,d9);return(eb=ea[0],eb!=null&&eb.$==1)?ea[0].$0:(d$.$=d9,_8.iteri(function(ec,ed){d$["$"+a.String(ec)]=ed;},d_),d$);}function d8(d9,d_){var d$;function ea(eb,ec){return[d9,eb,ec,d$];}d$=d_[2];return _8.map(function(eb){return ea(eb[0],eb[1]);},d_[1]);}d4=_8.collect(function(d9){return d8(d9[0],d9[1]);},_8.indexed(d3));return cY.New$1(function(d9){function d_(d$,ea,eb,ec){var ed,ee,ef;function eg(eh,ei,ej){var ek;function el(em,en){return eg(ek,em,new bs({$:1,$0:en,$1:ej}));}return eh.$==1?(ek=eh.$1,_8.collect(function(em){return el(em[0],em[1]);},eh.$0.Parse(ei))):[[ei,d7(d$,D.ofList(br.rev(ej)))]];}return cA.isCorrectMethod(ea,d9.Method)?(ed=cZ.startsWith(br.ofArray(eb),d9.Segments),ed==null?[]:(ee=ed.$0,(ef=br.ofArray(ec),ef.$==0?[[cC.New(ee,d9.QueryArgs,d9.FormData,d9.Method,d9.Body),d7(d$,[])]]:eg(ef,cC.New(ee,d9.QueryArgs,d9.FormData,d9.Method,d9.Body),bs.Empty)))):[];}return _8.collect(function(d$){return d_(d$[0],d$[1],d$[2],d$[3]);},d4);},function(d9){var d_,d$,ea,eb,ec,ed;function ee(ef,eg){return eg.Write(ef);}d_=d5(d9);d$=D.get(d3,d_);ea=d$[2];eb=D.get(d$[1],0);ec=[cC.Segment(br.ofArray(eb[1]),eb[0])];return!z.Equals(ea,null)&&ea.length===0?{$:1,$0:ec}:(ed=(((dU.Curried3(D.map2))(ee))(d6(d_,d9)))(ea),D.forall(function(ef){return ef!=null;},ed)?{$:1,$0:_8.append(ec,_8.collect(function(ef){return ef.$0;},ed))}:null);});};cA.isCorrectMethod=function(d2,d3){return d3!=null&&d3.$==1?d2!=null&&d2.$==1?z.Equals(d3.$0,d2.$0):true:!(d2!=null&&d2.$==1);};cA.rString=function(){dl.$cctor();return dl.rString;};cB.Parse=function(d2,d3){function d4(d5,d6){return d5.Segments.$==0?{$:1,$0:d6}:null;}return _8.tryPick(function(d5){return d4(d5[0],d5[1]);},d2.Parse(d3));};cB.HashLink=function(d2,d3){return"#"+cB.Link(d2,d3);};cB.Link=function(d2,d3){var d4;d4=cB.Write(d2,d3);return d4==null?"":d4.$0.ToLink();};cB.Write=function(d2,d3){var d4;d4=d2.Write(d3);return d4==null?null:{$:1,$0:cC.Combine(d4.$0)};};cC=cz.Route=dU.Class({ToLink:function(){return dN.WriteLink(this.Segments,this.QueryArgs);}},null,cC);cC.FromHash=function(d2,d3){var d4,d5;d4=d2.indexOf("#");return d4===-1?cC.get_Empty():(d5=d2.substring(d4+1),d3!=null&&d3.$0?d5===""||d5==="/"?cC.get_Empty():bc.StartsWith(d5,"/")?cC.FromUrl(d5.substring(1),{$:1,$0:true}):cC.Segment$2(d5):cC.FromUrl(d2.substring(d4),{$:1,$0:false}));};cC.Segment=function(d2,d3){var d4;d4=cC.get_Empty();return cC.New(d2,d4.QueryArgs,d4.FormData,d3,d4.Body);};cC.get_Empty=function(){return cC.New(bs.Empty,new bW.New([]),new bW.New([]),null,n.CreateFromValue(null));};cC.FromUrl=function(d2,d3){var d4,d5,d6;d4=(d5=d2.indexOf("?"),d5===-1?[d2,new bW.New([])]:[bc.Substring(d2,0,d5),cC.ParseQuery(d2.substring(d5+1))]);d6=cC.get_Empty();return cC.New(br.ofArray(bc.SplitChars(d4[0],["/"],d3!=null&&d3.$0?0:1)),d4[1],d6.FormData,d6.Method,d6.Body);};cC.Segment$2=function(d2){var d3;d3=cC.get_Empty();return cC.New(br.ofArray([d2]),d3.QueryArgs,d3.FormData,d3.Method,d3.Body);};cC.ParseQuery=function(d2){return dm.OfArray(D.ofSeq(D.choose(function(d3){var d4,d5;d4=bc.SplitChars(d3,["="],0);return!z.Equals(d4,null)&&d4.length===2?(d5=D.get(d4,1),{$:1,$0:[D.get(d4,0),d5]}):((function(d6){return function(d7){return d6("wrong format for query argument: "+bt.toSafe(d7));};}(function(d6){dW.log(d6);}))(d3),null);},bc.SplitChars(d2,["&"],0))));};cC.Combine=function(d2){var d3,d4,d5,d6,d7,d8,d9,d_,d$,ea;d9=D.ofSeq(d2);d_=D.length(d9);if(d_===0)return cC.get_Empty();else if(d_===1)return D.get(d9,0);else{d3=null;d4=null;d$=[];d5=new bW.New([]);d6=new bW.New([]);d7=0;ea=D.length(d9);while(d7<ea)(function(){var eb,ec,ed;eb=D.get(d9,d7);ec=eb.Method;ec!=null&&ec.$==1?d3=ec:void 0;ed=eb.Body.f();ed===null?void 0:d4=ed;d5=dm.FoldBack(function(ee,ef,eg){return eg.Add(ee,ef);},d5,eb.QueryArgs);d6=dm.FoldBack(function(ee,ef,eg){return eg.Add(ee,ef);},d6,eb.FormData);br.iter(function(ee){d$.push(ee);},eb.Segments);d7=d7+1;}());return cC.New(br.ofSeq(d$),d5,d6,d3,n.CreateFromValue(d4));}};cC.New=function(d2,d3,d4,d5,d6){return new cC({Segments:d2,QueryArgs:d3,FormData:d4,Method:d5,Body:d6});};cD.Delay=function(d2){return function(d3){try{(d2(null))(d3);}catch(d4){d3.k({$:1,$0:d4});}};};cD.While=function(d2,d3){return d2()?cD.Bind(d3,function(){return cD.While(d2,d3);}):cD.Return();};cD.Bind=function(d2,d3){return cD.checkCancel(function(d4){d2(c0.New(function(d5){var d6;if(d5.$==0){d6=d5.$0;cD.scheduler().Fork(function(){try{(d3(d6))(d4);}catch(d7){d4.k({$:1,$0:d7});}});}else cD.scheduler().Fork(function(){d4.k(d5);});},d4.ct));});};cD.Sleep=function(d2){return function(d3){var d4,d5;d4=void 0;d5=void 0;d4=a.setTimeout(function(){d5.Dispose();cD.scheduler().Fork(function(){d3.k({$:0,$0:null});});},d2);d5=cD.Register(d3.ct,function(){a.clearTimeout(d4);cD.scheduler().Fork(function(){cD.cancel(d3);});});};};cD.Zero=function(){c1.$cctor();return c1.Zero;};cD.Start=function(d2,d3){var d4,d5;d4=(d5=(cD.defCTS())[0],d3==null?d5:d3.$0);cD.scheduler().Fork(function(){if(!d4.c)d2(c0.New(function(d6){if(d6.$==1)cD.UncaughtAsyncError(d6.$0);},d4));});};cD.FromContinuations=function(d2){return function(d3){var d4;function d5(d6){if(d4[0])u.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{d4[0]=true;cD.scheduler().Fork(d6);}}d4=[false];d2(function(d6){d5(function(){d3.k({$:0,$0:d6});});},function(d6){d5(function(){d3.k({$:1,$0:d6});});},function(d6){d5(function(){d3.k({$:2,$0:d6});});});};};cD.Combine=function(d2,d3){return cD.Bind(d2,function(){return d3;});};cD.Return=function(d2){return function(d3){d3.k({$:0,$0:d2});};};cD.checkCancel=function(d2){return function(d3){if(d3.ct.c)cD.cancel(d3);else d2(d3);};};cD.Register=function(d2,d3){var d4;return d2===cD.noneCT()?{Dispose:function(){return null;}}:(d4=d2.r.push(d3)-1,{Dispose:function(){return D.set(d2.r,d4,a.ignore);}});};cD.cancel=function(d2){d2.k({$:2,$0:new dp.New(d2.ct)});};cD.defCTS=function(){c1.$cctor();return c1.defCTS;};cD.UncaughtAsyncError=function(d2){dW.log("WebSharper: Uncaught asynchronous exception",d2);};cD.TryWith=function(d2,d3){return function(d4){d2(c0.New(function(d5){if(d5.$==0)d4.k({$:0,$0:d5.$0});else if(d5.$==1)try{(d3(d5.$0))(d4);}catch(d6){d4.k(d5);}else d4.k(d5);},d4.ct));};};cD.scheduler=function(){c1.$cctor();return c1.scheduler;};cD.noneCT=function(){c1.$cctor();return c1.noneCT;};cD.Using=function(d2,d3){return cD.TryFinally(d3(d2),function(){d2.Dispose();});};cD.TryFinally=function(d2,d3){return function(d4){d2(c0.New(function(d5){try{d3();d4.k(d5);}catch(d6){d4.k({$:1,$0:d6});}},d4.ct));};};cE=N.IdPayment=dU.Class({},null,cE);cF.fromSeq=function(d2){var d3;d3=D.ofSeq(_8.delay(function(){return _8.collect(function(d4){return[c4.New(d4[0],d4[1])];},_8.distinctBy(function(d4){return d4[0];},d2));}));D.sortInPlace(d3);return bZ.Build(d3,0,d3.length-1);};cG.New=function(d2,d3,d4,d5,d6){return{Node:d2,Left:d3,Right:d4,Height:d5,Count:d6};};cH=N.IdAddress=dU.Class({},null,cH);cJ=cI.Builder=dU.Class({},f,cJ);cJ.New=dU.Ctor(function(){f.New.call(this);},cJ);cI.result=function(){b_.$cctor();return b_.result;};cK=ca.Builder=dU.Class({},f,cK);cK.New=dU.Ctor(function(){f.New.call(this);},cK);bK.unindent=function(d2){var d3,d4,d5,d6;d3=bc.SplitChars(d2,["\n"],0);d4=(d5=_8.tryFindIndex(function(d7){return" "!==d7;},(d6=_8.tryFind(function(d7){return bc.Trim(d7)!=="";},d3),d6==null?"":d6.$0)),d5==null?0:d5.$0);return _8.filter(function(d7){return!bc.StartsWith(d7,"# 1 ");},_8.map(function(d7){return d7.length<=d4?"":d7.substring(d4);},d3));};bK.splitByChar=function(d2,d3){return bc.SplitChars(d3,[d2],0);};b2.tryParseWith=function(d2){function d3(d4,d5){return d4?{$:1,$0:d5}:null;}return function(d4){return d3.apply(null,d2(d4));};};b2.parseDateO=function(){b_.$cctor();return b_.parseDateO;};b2.parseIntO=function(){b_.$cctor();return b_.parseIntO;};b2.parseInt64O=function(){b_.$cctor();return b_.parseInt64O;};b2.parseSingleO=function(){b_.$cctor();return b_.parseSingleO;};b2.parseDoubleO=function(){b_.$cctor();return b_.parseDoubleO;};b2.parseGuidO=function(){b_.$cctor();return b_.parseGuidO;};cL.toJsonString=function(d2){return D.ofSeq(_8.delay(function(){return _8.append(["\""],_8.delay(function(){return _8.append(!bc.IsNullOrEmpty(d2)?_8.collect(function(d3){var d4,d5;d4=d2[d3];d5=d4.charCodeAt();return d5>=0&&d5<=7||d5===11||d5>=14&&d5<=31?(function(d6){return function(d7){return d6("\\u"+bt.padNumLeft(d7.toString(16),4));};}(a.id))(d5):d4==="\u0008"?"\\b":d4==="\u0009"?"\\t":d4==="\n"?"\\n":d4==="\u000c"?"\\f":d4==="\r"?"\\r":d4==="\""?"\\\"":d4==="\\"?"\\\\":[d4];},u.range(0,d2.length-1)):[],_8.delay(function(){return["\""];}));}));})).join("");};_9.Error=function(d2){return{$:1,$0:d2};};_9.print=function(d2){if(typeof d2=="string")((function(d3){return function(d4){return d3(bt.toSafe(d4));};}(function(d3){dW.log(d3);}))(d2));else((function(d3){return function(d4){return d3(bt.prettyPrint(d4));};}(function(d3){dW.log(d3);}))(d2));};cM=N.Expiracion=dU.Class({},null,cM);cM.New=function(d2,d3){return new cM({anio:d2,mes:d3});};cN=N.TipoTarjeta=dU.Class({toString:function(){return this.$==3?this.$0:(function(d2){return function(d3){return d2(_2.p$4(d3));};}(a.id))(this);}},null,cN);cN.Visa=new cN({$:0});cN.tryParse=function(d2){var d3,d4;d4=bc.Trim(d2).toUpperCase();switch(d4){case"":return null;case"VISA":return{$:1,$0:cN.Visa};case"MASTERCARD":return{$:1,$0:cN.MasterCard};case"AMERICAN EXPRESS":case"AMEX":return{$:1,$0:cN.Amex};default:return{$:1,$0:new cN({$:3,$0:bc.Trim(d2)})};}};cN.MasterCard=new cN({$:1});cN.Amex=new cN({$:2});cO=N.RoutingNumber=dU.Class({},null,cO);cP=N.TipoCuenta=dU.Class({toString:function(){return this.$==2?this.$0:(function(d2){return function(d3){return d2(_2.p$5(d3));};}(a.id))(this);}},null,cP);cP.Ahorro=new cP({$:0});cP.tryParse=function(d2){var d3,d4;d4=bc.Trim(d2).toUpperCase();switch(d4){case"":return null;case"AHORRO":case"SAVINGS":return{$:1,$0:cP.Ahorro};case"CORRIENTE":case"CHECKING":return{$:1,$0:cP.Corriente};default:return{$:1,$0:new cP({$:2,$0:bc.Trim(d2)})};}};cP.Corriente=new cP({$:1});bp=_9.ResultMessage=dU.Class({toString:function(){return this.$==1?(function(d2){return function(d3){return d2("Error    : "+bt.toSafe(d3));};}(a.id))(this.$0):this.$==2?(function(d2){return function(d3){return d2("Warning  : "+bt.toSafe(d3));};}(a.id))(this.$0):this.$==3?this.$0:this.$==4?(function(d2){return function(d3){return d2(a.String(d3));};}(a.id))(this.$0):this.$==5?(((dU.Curried3(function(d2,d3,d4){return d2("Exception: "+bt.toSafe(d3)+", "+bt.toSafe(d4));}))(a.id))(this.$0))(this.$1):this.$==6?bc.concat("\n",_8.map(a.String,_8.filter(function(d2){return d2.$!=0;},this.$0))):"";}},null,bp);bp.NoMsg=new bp({$:0});cQ=g.FromView=dU.Class({Set:function(d2){this.set(d2);},get_View:function(){return this.view;},Get:function(){return this.current;},Update:function(d2){var d3;I.Get((d3=this.set,function(d4){return d3(d2(d4));}),this.view);},UpdateMaybe:function(d2){var d3;d3=this;I.Get(function(d4){var d5;d5=d2(d4);d5!=null&&d5.$==1?d3.set(d5.$0):void 0;},this.view);}},C,cQ);cQ.New=dU.Ctor(function(d2,d3){var d4,d5;d4=this;C.New.call(this);this.set=d3;this.id=bJ.Int();this.current=(d5=I.TryGet(d2),d5==null?null:d5.$0);this.view=I.Map(function(d6){d4.current=d6;return d6;},d2);},cQ);cR.CreateEmbedNode=function(){return{Current:null,Dirty:false};};cR.UpdateEmbedNode=function(d2,d3){d2.Current=d3;d2.Dirty=true;};cR.CreateRunState=function(d2,d3){return dz.New(dA.get_Empty(),cR.CreateElemNode(d2,cT.EmptyAttr(),d3));};cR.PerformAnimatedUpdate=function(d2,d3,d4){var d5;return dh.get_UseAnimations()?(d5=null,cD.Delay(function(){var d6,d7,d8;d6=dA.FindAll(d4);d7=cR.ComputeChangeAnim(d3,d6);d8=cR.ComputeEnterAnim(d3,d6);return cD.Bind(dh.Play(dh.Append(d7,cR.ComputeExitAnim(d3,d6))),function(){return cD.Bind(cR.SyncElemNodesNextFrame(d2,d3),function(){return cD.Bind(dh.Play(d8),function(){d3.PreviousNodes=d6;return cD.Return(null);});});});})):cR.SyncElemNodesNextFrame(d2,d3);};cR.PerformSyncUpdate=function(d2,d3,d4){var d5;d5=dA.FindAll(d4);cR.SyncElemNode(d2,d3.Top);d3.PreviousNodes=d5;};cR.CreateTextNode=function(){return{Text:cU.CreateText(""),Dirty:false,Value:""};};cR.UpdateTextNode=function(d2,d3){d2.Value=d3;d2.Dirty=true;};cR.LinkElement=function(d2,d3){cR.InsertDoc(d2,d3,null);};cR.InsertBeforeDelim=function(d2,d3){var d4,d5;d4=d2.parentNode;d5=self.document.createTextNode("");d4.insertBefore(d5,d2);cR.LinkPrevElement(d2,d3);return d5;};cR.CreateElemNode=function(d2,d3,d4){var d5;cR.LinkElement(d2,d4);d5=cT.Insert(d2,d3);return dd.New(d5,d4,null,d2,bJ.Int(),dU.GetOptional(d5.OnAfterRender));};cR.SyncElemNodesNextFrame=function(d2,d3){function d4(d5){a.requestAnimationFrame(function(){cR.SyncElemNode(d2,d3.Top);d5();});}return di.BatchUpdatesEnabled()?cD.FromContinuations(function(d5,d6,d7){return d4.apply(null,[d5,d6,d7]);}):(cR.SyncElemNode(d2,d3.Top),cD.Return(null));};cR.ComputeExitAnim=function(d2,d3){return dh.Concat(D.map(function(d4){return cT.GetExitAnim(d4.Attr);},dA.ToArray(dA.Except(d3,dA.Filter(function(d4){return cT.HasExitAnim(d4.Attr);},d2.PreviousNodes)))));};cR.ComputeEnterAnim=function(d2,d3){return dh.Concat(D.map(function(d4){return cT.GetEnterAnim(d4.Attr);},dA.ToArray(dA.Except(d2.PreviousNodes,dA.Filter(function(d4){return cT.HasEnterAnim(d4.Attr);},d3)))));};cR.ComputeChangeAnim=function(d2,d3){var d4;function d5(d6){return cT.HasChangeAnim(d6.Attr);}d4=function(d6){return dA.Filter(d5,d6);};return dh.Concat(D.map(function(d6){return cT.GetChangeAnim(d6.Attr);},dA.ToArray(dA.Intersect(d4(d2.PreviousNodes),d4(d3)))));};cR.SyncElemNode=function(d2,d3){!d2?cR.SyncElement(d3):void 0;cR.Sync(d3.Children);cR.AfterRender(d3);};cR.InsertDoc=function(d2,d3,d4){var d5;return d3!=null&&d3.$==1?cR.InsertNode(d2,d3.$0.El,d4):d3!=null&&d3.$==2?(d5=d3.$0,(d5.Dirty=false,cR.InsertDoc(d2,d5.Current,d4))):d3==null?d4:d3!=null&&d3.$==4?cR.InsertNode(d2,d3.$0.Text,d4):d3!=null&&d3.$==5?cR.InsertNode(d2,d3.$0,d4):d3!=null&&d3.$==6?D.foldBack(function(d6,d7){return d6==null||d6.constructor===cl?cR.InsertDoc(d2,d6,d7):cR.InsertNode(d2,d6,d7);},d3.$0.Els,d4):cR.InsertDoc(d2,d3.$0,cR.InsertDoc(d2,d3.$1,d4));};cR.LinkPrevElement=function(d2,d3){cR.InsertDoc(d2.parentNode,d3,d2);};cR.SyncElement=function(d2){function d3(d4){function d5(d6){var d7,d8;return d6!=null&&d6.$==0?d5(d6.$0)||d5(d6.$1):d6!=null&&d6.$==2?(d7=d6.$0,d7.Dirty||d5(d7.Current)):d6!=null&&d6.$==6&&(d8=d6.$0,d8.Dirty||D.exists(d3,d8.Holes));}return d5(d4.Children);}cT.Sync(d2.El,d2.Attr);d3(d2)?cR.DoSyncElement(d2):void 0;};cR.Sync=function(d2){var d3,d4;if(d2!=null&&d2.$==1)cR.SyncElemNode(false,d2.$0);else if(d2!=null&&d2.$==2)cR.Sync(d2.$0.Current);else if(d2==null);else if(d2!=null&&d2.$==5);else if(d2!=null&&d2.$==4){d3=d2.$0;d3.Dirty?(d3.Text.nodeValue=d3.Value,d3.Dirty=false):void 0;}else if(d2!=null&&d2.$==6){d4=d2.$0;D.iter(function(d5){cR.SyncElemNode(false,d5);},d4.Holes);D.iter(function(d5){cT.Sync(d5[0],d5[1]);},d4.Attrs);cR.AfterRender(d4);}else{cR.Sync(d2.$0);cR.Sync(d2.$1);}};cR.AfterRender=function(d2){var d3;d3=dU.GetOptional(d2.Render);d3!=null&&d3.$==1?(d3.$0(d2.El),dU.SetOptional(d2,"Render",null)):void 0;};cR.InsertNode=function(d2,d3,d4){cU.InsertAt(d2,d4,d3);return d3;};cR.DoSyncElement=function(d2){var d3,d4,d5;function d6(d7,d8){var d9,d_;return d7!=null&&d7.$==1?d7.$0.El:d7!=null&&d7.$==2?(d9=d7.$0,d9.Dirty?(d9.Dirty=false,cR.InsertDoc(d3,d9.Current,d8)):d6(d9.Current,d8)):d7==null?d8:d7!=null&&d7.$==4?d7.$0.Text:d7!=null&&d7.$==5?d7.$0:d7!=null&&d7.$==6?(d_=d7.$0,(d_.Dirty?d_.Dirty=false:void 0,D.foldBack(function(d$,ea){return d$==null||d$.constructor===cl?d6(d$,ea):d$;},d_.Els,d8))):d6(d7.$0,d6(d7.$1,d8));}d3=d2.El;dR.Iter((d4=d2.El,function(d7){cU.RemoveNode(d4,d7);}),dR.Except(dR.DocChildren(d2),dR.Children(d2.El,dU.GetOptional(d2.Delimiters))));d6(d2.Children,(d5=dU.GetOptional(d2.Delimiters),d5!=null&&d5.$==1?d5.$0[1]:null));};cS.extractNodes=function(d2){var d3,d4;function d5(d6,d7,d8,d9){var d_,d$,ea,eb,ec,ed;d_=cS.extractNodes(d8);d$=cS.extractNodes(d9);return(d_.$==0?(eb=d_.$0,!z.Equals(eb,null)&&eb.length===0)?(ea=d$,true):d$.$==0?(ec=d$.$0,!z.Equals(ec,null)&&ec.length===0)?(ea=d_,true):(ea=[d_,d$],false):(ea=[d_,d$],false):d$.$==0?(ed=d$.$0,!z.Equals(ed,null)&&ed.length===0)?(ea=d_,true):(ea=[d_,d$],false):(ea=[d_,d$],false))?ea:{$:1,$0:{$:0,$0:d6,$1:d7,$2:ea[0],$3:ea[1]}};}d3=cS.horizontalSplit(d2);return d3!=null&&d3.$==1?d5(false,d3.$0[2],d3.$0[0],d3.$0[1]):(d4=cS.verticalSplit(d2),d4!=null&&d4.$==1?d5(true,d4.$0[2],d4.$0[0],d4.$0[1]):{$:0,$0:cS.cleanSpaces(d2)});};cS.createLayoutDefinitions=function(d2,d3){var d4,d5,d6,d7,d8,d9,d_,d$,ea,eb;return d3.$==1?(d4=d3.$0.$0,(d5=d3.$0.$1,(d6=cS.createLayoutDefinitions(d2+"_1",d3.$0.$2),(d7=d6[0],(d8=d6[1],(d9=cS.createLayoutDefinitions(d2+"_2",d3.$0.$3),(d_=d9[0],(d$=d9[1],[d2,D.ofSeq(_8.delay(function(){return _8.append([bc.concat(" ",br.ofArray([d2,d4?"vertical":"horizontal",a.String(d5),d7,d_]))],_8.delay(function(){return _8.append(d8,_8.delay(function(){return d$;}));}));}))])))))))):(ea=d3.$0,!z.Equals(ea,null)&&ea.length===0)?["___",[]]:(eb=d3.$0,!z.Equals(eb,null)&&eb.length===1)?[D.get(d3.$0,0),[]]:[d2,[d2+" div \"\" "+bc.concat(" ",d3.$0)]];};cS.horizontalSplit=function(d2){var d3,d4,d5,d6,d7;function d8(d9,d_){var d$,ea,eb,ec;d$=i.REGEX$1("^ *--+([ ^v0-9]*)-* *$","",d_);return d$!=null&&d$.$==1?{$:1,$0:[[d9,(ea=(eb=_8.tryItem(1,d$.$0),eb==null?null:cS.extractMeasuresO(bc.Replace(bc.Replace(eb.$0,"^",""),"v","-"))),(ec=new c7({$:1,$0:5,$1:50,$2:95}),ea==null?ec:ea.$0))],d_.indexOf("-")]}:null;}d3=(d4=_8.tryHead(_8.sortBy(function(d9){return d9[1];},_8.choose(function(d9){return d8(d9[0],d9[1]);},_8.indexed(d2)))),d4==null?null:{$:1,$0:d4.$0[0]});return d3==null?null:{$:1,$0:(d5=d3.$0,(d6=d5[0],(d7=d5[1],[bL.array(d2,null,{$:1,$0:d6-1}),bL.array(d2,{$:1,$0:d6+1},null),d7])))};};cS.verticalSplit=function(d2){var d3,d4,d5,d6,d7,d8,d9,d_,d$,ea;function eb(ee,ef){var eg,eh,ei;return(eh=i.REGEX$1("^ *\\|+ *$","",ef),eh!=null&&eh.$==1&&(ei=eh.$0,!z.Equals(ei,null)&&ei.length===1))?{$:1,$0:[ee,ef.indexOf("|")]}:null;}function ec(ee){return z.Equals(null,ee);}function ed(ee){return z.Equals(null,ee);}d3=cS.transpose(d2);d4=(d5=(d6=_8.tryHead(_8.sortBy(function(ee){return ee[1];},_8.choose(function(ee){return eb(ee[0],ee[1]);},_8.indexed(d3)))),d6==null?null:{$:1,$0:d6.$0[0]}),d5==null?null:{$:1,$0:(d7=d5.$0,[cS.transpose(bL.array(d3,null,{$:1,$0:d7-1})),cS.transpose(bL.array(d3,{$:1,$0:d7+1},null))])});return d4==null?null:{$:1,$0:(d8=d4.$0,(d9=d8[0],(d_=d8[1],[D.filter(function(ee){return ec(cS.extractMeasuresO(ee));},d9),D.filter(function(ee){return ed(cS.extractMeasuresO(ee));},d_),(d$=_8.tryHead(_8.delay(function(){return _8.append(_8.choose(cS.extractMeasuresO,d9),_8.delay(function(){return _8.map(function(ee){return ee.$==0?ee.$1?new c7({$:0,$0:ee.$0,$1:false}):ee:ee;},_8.choose(cS.extractMeasuresO,d_));}));})),(ea=new c7({$:1,$0:5,$1:50,$2:95}),d$==null?ea:d$.$0))])))};};cS.cleanSpaces=function(d2){return D.filter(function(d3){var d4;return!(d4=(b2.Int())(d3),d4!=null&&d4.$==1);},bc.SplitStrings(bc.concat(" ",d2),[" "],1));};cS.extractMeasuresO=function(d2){var d3,d4,d5,d6,d7,d8,d9;d3=bc.SplitChars(d2,[" "],1);return!z.Equals(d3,null)&&d3.length===1&&(d5=(b2.Int())(D.get(d3,0)),d5!=null&&d5.$==1&&(d4=d5.$0,true))?{$:1,$0:new c7({$:0,$0:dV.abs(d4),$1:d4>=0})}:!z.Equals(d3,null)&&d3.length===3&&(d7=(b2.Int())(D.get(d3,0)),d7!=null&&d7.$==1&&(d8=(b2.Int())(D.get(d3,1)),d8!=null&&d8.$==1&&(d9=(b2.Int())(D.get(d3,2)),d9!=null&&d9.$==1&&(d6=[d9.$0,d7.$0,d8.$0],true))))?{$:1,$0:new c7({$:1,$0:d6[1],$1:d6[2],$2:d6[0]})}:null;};cS.transpose=function(d2){var d3;d3=_8.max(_8.map(function(d4){return d4.length;},d2));return D.ofSeq(_8.delay(function(){return _8.map(function(d4){return D.ofSeq(_8.delay(function(){return _8.map(function(d5){return d5.length>d4?d5[d4]:" ";},d2);})).join("");},u.range(0,d3-1));}));};cT.Static=function(d2){return new ct({$:3,$0:d2});};cT.Dynamic=function(d2,d3){return new ct({$:1,$0:new dr.New(d2,d3)});};cT.AppendTree=function(d2,d3){var d4;return d2===null?d3:d3===null?d2:(d4=new ct({$:2,$0:d2,$1:d3}),(cT.SetFlags(d4,cT.Flags(d2)|cT.Flags(d3)),d4));};cT.EmptyAttr=function(){dJ.$cctor();return dJ.EmptyAttr;};cT.Insert=function(d2,d3){var d4,d5,d6;function d7(d8){if(!(d8===null))if(d8!=null&&d8.$==1)d4.push(d8.$0);else if(d8!=null&&d8.$==2){d7(d8.$0);d7(d8.$1);}else if(d8!=null&&d8.$==3)d8.$0(d2);else if(d8!=null&&d8.$==4)d5.push(d8.$0);}d4=[];d5=[];d7(d3);d6=d4.slice(0);return dv.New(d2,cT.Flags(d3),d6,d5.length===0?null:{$:1,$0:function(d8){_8.iter(function(d9){d9(d8);},d5);}});};cT.Updates=function(d2){return c3.MapTreeReduce(function(d3){return d3.NChanged();},I.Const(),I.Map2Unit,d2.DynNodes);};cT.Empty=function(d2){return dv.New(d2,0,[],null);};cT.SetFlags=function(d2,d3){d2.flags=d3;};cT.Flags=function(d2){return d2!==null&&d2.hasOwnProperty("flags")?d2.flags:0;};cT.HasExitAnim=function(d2){var d3;d3=2;return(d2.DynFlags&d3)===d3;};cT.GetExitAnim=function(d2){return cT.GetAnim(d2,function(d3,d4){return d3.NGetExitAnim(d4);});};cT.HasEnterAnim=function(d2){var d3;d3=1;return(d2.DynFlags&d3)===d3;};cT.GetEnterAnim=function(d2){return cT.GetAnim(d2,function(d3,d4){return d3.NGetEnterAnim(d4);});};cT.HasChangeAnim=function(d2){var d3;d3=4;return(d2.DynFlags&d3)===d3;};cT.GetChangeAnim=function(d2){return cT.GetAnim(d2,function(d3,d4){return d3.NGetChangeAnim(d4);});};cT.GetAnim=function(d2,d3){return dh.Concat(D.map(function(d4){return d3(d4,d2.DynElem);},d2.DynNodes));};cT.Sync=function(d2,d3){D.iter(function(d4){d4.NSync(d2);},d3.DynNodes);};cU.SetStyle=function(d2,d3,d4){cU.SetProperty(d2.style,d3,d4);};cU.ChildrenArray=function(d2){var d3,d4,d5;d3=[];for(d4=0,d5=d2.childNodes.length-1;d4<=d5;d4++)d3.push(d2.childNodes[d4]);return d3;};cU.CreateText=function(d2){return cU.Doc().createTextNode(d2);};cU.SetAttr=function(d2,d3,d4){d2.setAttribute(d3,d4);};cU.SetProperty=function(d2,d3,d4){return d2.setProperty(d3,d4);};cU.CreateElement=function(d2){return cU.Doc().createElement(d2);};cU.IterSelector=function(d2,d3,d4){var d5,d6,d7;d5=d2.querySelectorAll(d3);for(d6=0,d7=d5.length-1;d6<=d7;d6++)d4(d5[d6]);};cU.Doc=function(){dH.$cctor();return dH.Doc;};cU.RemoveClass=function(d2,d3){var d4;cU.setClass(d2,(d4=cU.clsRE(d3),cU.getClass(d2).replace(d4,function(d5,d6,d7){return d6===""||d7===""?"":" ";})));};cU.AddClass=function(d2,d3){var d4;d4=cU.getClass(d2);d4===""?cU.setClass(d2,d3):!cU.clsRE(d3).test(d4)?cU.setClass(d2,d4+" "+d3):void 0;};cU.setClass=function(d2,d3){if(d2 instanceof a.SVGElement)d2.setAttribute("class",d3);else d2.className=d3;};cU.getClass=function(d2){return d2 instanceof a.SVGElement?d2.getAttribute("class"):d2.className;};cU.clsRE=function(d2){return new a.RegExp("(\\s+|^)"+d2+"(?:\\s+"+d2+")*(\\s+|$)","g");};cU.InsertAt=function(d2,d3,d4){var d5;if(!(d4.parentNode===d2&&d3===(d5=d4.nextSibling,z.Equals(d5,null)?null:d5)))d2.insertBefore(d4,d3);};cU.RemoveNode=function(d2,d3){if(d3.parentNode===d2)d2.removeChild(d3);};cV.TryParse=function(d2){var d3;d3=dY.parse(d2);return a.isNaN(d3)?null:{$:1,$0:d3};};bG.TryParse=function(d2,d3,d4,d5){var d6,d7;d6=+d2;d7=d6===d6-d6%1&&d6>=d3&&d6<=d4;d7?d5.set(d6):void 0;return d7;};bG.TryParseBool=function(d2,d3){var d4;d4=d2.toLowerCase();return d4==="true"?(d3.set(true),true):d4==="false"&&(d3.set(false),true);};cW=cs.WcSplitterT=dU.Class({connectedCallback:function(){var d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef;function eg(eo){var ep,eq,er,es;ep=d9?["padding-left","padding-right","grid-column-gap"]:["padding-top","padding-bottom","grid-row-gap"];eq=a.parseFloat("0"+d0(eo.parentElement.parentElement).css(ep[0]));er=a.parseFloat("0"+d0(eo.parentElement.parentElement).css(ep[1]));ea.Set(a.parseFloat("0"+d0(eo.parentElement.parentElement).css(ep[2])));d$[0]=eq+er;es=d2.getBoundingClientRect();return d9?d8?[es.width,es.height]:[-es.width,es.height]:d8?[es.height,es.width]:[-es.height,es.width];}function eh(eo){return d9?eo.clientX:eo.clientY;}function ei(eo){var ep,eq;ep=(eh(eo)-ed[0])*100/d_[0][0]+ec[0];d7.Set((eq=z.Compare(d5,ep)===1?d5:ep,z.Compare(d6,eq)===-1?d6:eq));}function ej(){if(eb[0]){eb[0]=false;self.removeEventListener("mousemove",ei,false);self.removeEventListener("mouseup",ej,false);}}function ek(eo){var ep,eq;if(!eb[0]){eb[0]=true;ec[0]=d7.Get();ed[0]=eh(eo);d_[0]=(ep=(eq=ee[0],eq==null?null:{$:1,$0:eg(eq.$0)}),ep==null?[100,500]:ep.$0);self.addEventListener("mousemove",ei,false);self.addEventListener("mouseup",ej,false);eo.preventDefault();}}function el(eo,ep,eq,er){return[(eo-ep-eq)*er/100,(eo-ep-eq)*(100-er)/100];}function em(eo,ep){return(((((dU.Curried(function(eq,er,es,et,eu){return eq(" "+er.toFixed(2)+"px "+es.toFixed(2)+"px ; "+bt.toSafe(et)+" : "+eu.toFixed(2)+"px; ");},5))(a.id))(eo))(ep))(d9?"height":"width"))(d_[0][1]);}function en(){var eo;eo=ee[0];eo==null?void 0:d_[0]=eg(eo.$0);d7.Set(d7.Get());}if(!this.added){d2=this;d3=d2.attachShadow({mode:"open"});d4=self.document.createElement("div");d5=d2.hasAttribute("min")?a.parseFloat(d2.getAttribute("min")):4;d6=d2.hasAttribute("max")?a.parseFloat(d2.getAttribute("max")):96;d7=h.Create$1(d2.hasAttribute("value")?a.parseFloat(d2.getAttribute("value")):50);d8=!d2.hasAttribute("second");d9=d2.hasAttribute("vertical");d_=[[0,0]];d$=[0];ea=h.Create$1(0);eb=[false];ec=[0];ed=[0];ee=[null];ef=(((((d9?cs.layoutVertical():cs.layoutHorizontal())(I.Map(function(eo){var ep;ep=el(d_[0][0],ea.Get(),d$[0],eo);return em.apply(null,ep);},d7.get_View())))(function(){dc.addResizeObserver(en,d2);en();}))(function(eo){ee[0]={$:1,$0:eo};en();}))(function(eo){ek(eo);}))(I.Map(function(eo){return function(ep){return eo(bt.prettyPrint(ep)+"px");};}(a.id),ea.get_View()));cx.LoadLocalTemplates("");bV.Run(d4,ef);d3.appendChild(d4.firstChild);this.added=true;}}},f,cW);cW.Constructor=function(){var d2,d3;d2=(d3=dZ.construct(self.HTMLElement,[],this.__proto__.constructor),d3);self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New.call(d2);return d2;};cW.New=dU.Ctor(function(){f.New.call(this);this.added=false;(function(d2){return d2("WcSplitterT initializer");}(function(d2){dW.log(d2);}));},cW);cX.$cctor=function(){cX.$cctor=a.ignore;cX.counter=0;};cY.New$1=function(d2,d3){return{Parse:d2,Write:d3};};cZ.startsWith=function(d2,d3){var d4;switch(d2.$==1?d3.$==1?z.Equals(d2.$0,d3.$0)?(d4=[d3.$0,d3.$1,d2.$0,d2.$1],1):2:2:0){case 0:return{$:1,$0:d3};case 1:return cZ.startsWith(d4[3],d4[1]);case 2:return null;}};c0.New=function(d2,d3){return{k:d2,ct:d3};};c1.$cctor=function(){c1.$cctor=a.ignore;c1.noneCT=c2.New(false,[]);c1.scheduler=new dn.New();c1.defCTS=[new c_.New()];c1.Zero=cD.Return();c1.GetCT=function(d2){d2.k({$:0,$0:d2.ct});};};c2.New=function(d2,d3){return{c:d2,r:d3};};c3.mapInPlace=function(d2,d3){var d4,d5;for(d4=0,d5=d3.length-1;d4<=d5;d4++)d3[d4]=d2(d3[d4]);return d3;};c3.ofSeqNonCopying=function(d2){var d3,d4;if(d2 instanceof a.Array)return d2;else if(d2 instanceof bs)return D.ofList(d2);else if(d2===null)return[];else{d3=[];d4=bX.Get(d2);try{while(d4.MoveNext())d3.push(d4.Current());return d3;}finally{if(typeof d4=="object"&&"Dispose"in d4)d4.Dispose();}}};c3.TreeReduce=function(d2,d3,d4){var d5;function d6(d7,d8){var d9,d_;return d8<=0?d2:d8===1&&(d7>=0&&d7<d5)?D.get(d4,d7):(d_=d8/2>>0,d3(d6(d7,d_),d6(d7+d_,d8-d_)));}d5=D.length(d4);return d6(0,d5);};c3.MapTreeReduce=function(d2,d3,d4,d5){var d6;function d7(d8,d9){var d_,d$;return d9<=0?d3:d9===1&&(d8>=0&&d8<d6)?d2(D.get(d5,d8)):(d$=d9/2>>0,d4(d7(d8,d$),d7(d8+d$,d9-d$)));}d6=D.length(d5);return d7(0,d6);};c4=ba.Pair=dU.Class({Equals:function(d2){return z.Equals(this.Key,d2.Key);},GetHashCode:function(){return z.Hash(this.Key);},CompareTo0:function(d2){return z.Compare(this.Key,d2.Key);}},null,c4);c4.New=function(d2,d3){return new c4({Key:d2,Value:d3});};c6.DecodeTuple=function(d2){return c6.EncodeTuple(d2);};c6.Id=dU.Curried3(function(d2,d3,d4){return d4;});c6.DecodeArray=function(d2){return c6.EncodeArray(d2);};c6.EncodeTuple=dU.Curried3(function(d2,d3,d4){return D.map2(function(d5,d6){return(d5(null))(d6);},d2,d4);});c6.EncodeArray=dU.Curried3(function(d2,d3,d4){return D.map(d2(),d4);});c6.DecodeUnion=function(d2,d3,d4){return function(){return function(d5){var d6,d7,d_,d$,ea;function d8(eb,ec){return eb===d7;}function d9(eb,ec,ed,ee){var ef;if(eb===null){ef=(ed(null))(d5);ec?delete ef[d3]:void 0;d_.$0=ef;}else if(ee===0)d_[eb]=(ed(null))(d5[ec]);else if(ee===1)d_[eb]=d5.hasOwnProperty(ec)?{$:1,$0:(ed(null))(d5[ec])}:null;else u.FailWith("Invalid field option kind");}if(typeof d5==="object"&&d5!=null){d_=d2===void 0?{}:new d2();if(z.Equals(typeof d3,"string"))d6=(d7=d5[d3],D.findIndex(function(eb){return d8(eb[0],eb[1]);},d4));else{d$=[void 0];for(var eb in d3)if(function(ec){return d5.hasOwnProperty(ec)&&(d$[0]=d3[ec],true);}(eb))break;d6=d$[0];}d_.$=d6;D.iter(function(ec){return d9(ec[0],ec[1],ec[2],ec[3]);},(D.get(d4,d6))[1]);return d_;}else return d5;};};};c6.EncodeUnion=function(d2,d3,d4){return function(){return function(d5){var d6,d7;function d8(d9,d_,d$,ea){var eb,ec,ed;if(d9===null){eb=(d$(null))(d5.$0);for(var ee in eb)if(function(ef){d6[ef]=eb[ef];return false;}(ee))break;}else if(ea===0)d6[d_]=(d$(null))(d5[d9]);else if(ea===1){ed=d5[d9];ed==null?void 0:d6[d_]=(d$(null))(ed.$0);}else u.FailWith("Invalid field option kind");}return typeof d5==="object"&&d5!=null?(d6={},(d7=D.get(d4,d5.$),(z.Equals(typeof d3,"string")?d6[d3]=d7[0]:void 0,D.iter(function(d9){return d8(d9[0],d9[1],d9[2],d9[3]);},d7[1]),d6))):d5;};};};c6.DecodeRecord=function(d2,d3){return function(){return function(d4){var d5;function d6(d7,d8,d9){if(d9===0){if(d4.hasOwnProperty(d7))d5[d7]=(d8(null))(d4[d7]);else u.FailWith("Missing mandatory field: "+d7);}else if(d9===1)d5[d7]=d4.hasOwnProperty(d7)?{$:1,$0:(d8(null))(d4[d7])}:null;else if(d9===2){if(d4.hasOwnProperty(d7))d5[d7]=(d8(null))(d4[d7]);}else if(d9===3){if(d4[d7]===void 0)d5[d7]=(d8(null))(d4[d7]);}else u.FailWith("Invalid field option kind");}d5=d2===void 0?{}:new d2();D.iter(function(d7){return d6(d7[0],d7[1],d7[2]);},d3);return d5;};};};c6.DecodeDateTime=dU.Curried3(function(d2,d3,d4){return d4.hasOwnProperty("d")?(new dY(d4.d)).getTime():(new dY(d4)).getTime();});c6.EncodeRecord=function(d2,d3){return function(){return function(d4){var d5;function d6(d7,d8,d9){var d_;if(d9===0)d5[d7]=(d8(null))(d4[d7]);else if(d9===1){d_=d4[d7];d_==null?void 0:d5[d7]=(d8(null))(d_.$0);}else if(d9===2){if(d4.hasOwnProperty(d7))d5[d7]=(d8(null))(d4[d7]);}else if(d9===3){if(d4[d7]===void 0)d5[d7]=(d8(null))(d4[d7]);}else u.FailWith("Invalid field option kind");}d5={};D.iter(function(d7){return d6(d7[0],d7[1],d7[2]);},d3);return d5;};};};c6.EncodeDateTime=dU.Curried3(function(d2,d3,d4){return(new dY(d4)).toISOString();});c7=A.Measures=dU.Class({toString:function(){return this.$==1?((((dU.Curried(function(d2,d3,d4,d5){return d2(a.String(d3)+"-"+a.String(d4)+"-"+a.String(d5));},4))(a.id))(u.toInt(this.$0)))(u.toInt(this.$1)))(u.toInt(this.$2)):a.String(u.toInt(this.$1?this.$0:-this.$0));}},null,c7);c9=c8.Hoverable=dU.Class({Content:function(d2){return d2.on("mouseenter",function(){return cU.AddClass(d2.elt,"hovering");}).on("mouseleave",function(){return cU.RemoveClass(d2.elt,"hovering");});}},null,c9);c9.New$1=function(){return c9.New(h.Create$1(false));};c9.New=function(d2){return new c9({hover:d2});};c_=e.CancellationTokenSource=dU.Class({Cancel$1:function(){var d2;if(!this.c){this.c=true;d2=D.choose(function(d3){try{d3();return null;}catch(d4){return{$:1,$0:d4};}},this.r);if(D.length(d2)>0)throw new ds.New$3(d2);else void 0;}}},f,c_);c_.New=dU.Ctor(function(){f.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},c_);c$.InMemory=function(d2){return new dt.New(d2);};dc.addResizeObserver=function(d2,d3){var d4,d5,d6,d7;try{d4=!(!a.ResizeObserver);}catch(d8){d4=false;}if(d4){d5=new a.ResizeObserver(d2);dc.set_observers(new bs({$:1,$0:d5,$1:dc.observers()}));d5.observe(d3);}else{d6=dc.dimsChanged(d3);cD.Start((d7=null,cD.Delay(function(){return cD.While(function(){return d3.isConnected;},cD.Delay(function(){return cD.Bind(cD.Sleep(110),function(){return d6()?(d2(),cD.Zero()):cD.Zero();});}));})),null);}};dc.set_observers=function(d2){bx.$cctor();bx.observers=d2;};dc.observers=function(){bx.$cctor();return bx.observers;};dc.dimsChanged=function(d2){var d3;d3=[d2.getBoundingClientRect()];return function(){var d4;d4=d2.getBoundingClientRect();return z.Equals(dc.domRect2Tuple(d3[0]),dc.domRect2Tuple(d4))?false:(d3[0]=d4,true);};};dc.domRect2Tuple=function(d2){return[d2.top,d2.left,d2.width,d2.height];};dd=g.DocElemNode=dU.Class({Equals:function(d2){return this.ElKey===d2.ElKey;},GetHashCode:function(){return this.ElKey;}},null,dd);dd.New=function(d2,d3,d4,d5,d6,d7){var d8;return new dd((d8={Attr:d2,Children:d3,El:d5,ElKey:d6},(dU.SetOptional(d8,"Delimiters",d4),dU.SetOptional(d8,"Render",d7),d8)));};df.convertTextNode=function(d2){var d3,d4,d5,d6,d7,d8;d3=null;d4=0;d6=d2.textContent;d7=new a.RegExp(cx.TextHoleRE(),"g");while(d3=d7.exec(d6),d3!==null){d2.parentNode.insertBefore(self.document.createTextNode(bL.string(d6,{$:1,$0:d4},{$:1,$0:d7.lastIndex-D.get(d3,0).length-1})),d2);d4=d7.lastIndex;d8=self.document.createElement("span");d8.setAttribute("ws-replace",D.get(d3,1).toLowerCase());d2.parentNode.insertBefore(d8,d2);}d7.lastIndex=0;d2.textContent=bL.string(d6,{$:1,$0:d4},null);};df.failNotLoaded=function(d2){dW.warn("Instantiating non-loaded template",d2);};df.fillTextHole=function(d2,d3,d4){var d5;d5=d2.querySelector("[ws-replace]");return z.Equals(d5,null)?(dW.warn("Filling non-existent text hole",d4),null):(d5.parentNode.replaceChild(new a.Text(d3),d5),{$:1,$0:d5.getAttribute("ws-replace")});};df.removeHolesExcept=function(d2,d3){function d4(d5){cU.IterSelector(d2,"["+d5+"]",function(d6){if(!d3.Contains(d6.getAttribute(d5)))d6.removeAttribute(d5);});}d4("ws-attr");d4("ws-onafterrender");d4("ws-var");cU.IterSelector(d2,"[ws-hole]",function(d5){if(!d3.Contains(d5.getAttribute("ws-hole"))){d5.removeAttribute("ws-hole");while(d5.hasChildNodes())d5.removeChild(d5.lastChild);}});cU.IterSelector(d2,"[ws-replace]",function(d5){if(!d3.Contains(d5.getAttribute("ws-replace")))d5.parentNode.removeChild(d5);});cU.IterSelector(d2,"[ws-on]",function(d5){d5.setAttribute("ws-on",bc.concat(" ",D.filter(function(d6){return d3.Contains(D.get(bc.SplitChars(d6,[":"],1),1));},bc.SplitChars(d5.getAttribute("ws-on"),[" "],1))));});cU.IterSelector(d2,"[ws-attr-holes]",function(d5){var d6,d7,d8,d9,d_;d6=bc.SplitChars(d5.getAttribute("ws-attr-holes"),[" "],1);for(d7=0,d8=d6.length-1;d7<=d8;d7++){d9=D.get(d6,d7);d5.setAttribute(d9,(d_=new a.RegExp(cx.TextHoleRE(),"g"),d5.getAttribute(d9).replace(d_,function(d$,ea){return d3.Contains(ea)?d$:"";})));}});};df.fillInstanceAttrs=function(d2,d3){var d4,d5,d6,d7,d8;df.convertAttrs(d3);d4=d3.nodeName.toLowerCase();d5=d2.querySelector("[ws-attr="+d4+"]");if(z.Equals(d5,null))dW.warn("Filling non-existent attr hole",d4);else{d5.removeAttribute("ws-attr");for(d6=0,d7=d3.attributes.length-1;d6<=d7;d6++){d8=d3.attributes.item(d6);d8.name==="class"&&d5.hasAttribute("class")?d5.setAttribute("class",d5.getAttribute("class")+" "+d8.nodeValue):d5.setAttribute(d8.name,d8.nodeValue);}}};df.mapHoles=function(d2,d3){function d4(d5){cU.IterSelector(d2,"["+d5+"]",function(d6){var d7,d8;d7=(d8=null,[d3.TryGetValue(d6.getAttribute(d5).toLowerCase(),{get:function(){return d8;},set:function(d9){d8=d9;}}),d8]);d7[0]?d6.setAttribute(d5,d7[1]):void 0;});}d4("ws-hole");d4("ws-replace");d4("ws-attr");d4("ws-onafterrender");d4("ws-var");cU.IterSelector(d2,"[ws-on]",function(d5){d5.setAttribute("ws-on",bc.concat(" ",D.map(function(d6){var d7,d8,d9;d7=bc.SplitChars(d6,[":"],1);d8=(d9=null,[d3.TryGetValue(D.get(d7,1),{get:function(){return d9;},set:function(d_){d9=d_;}}),d9]);return d8[0]?D.get(d7,0)+":"+d8[1]:d6;},bc.SplitChars(d5.getAttribute("ws-on"),[" "],1))));});cU.IterSelector(d2,"[ws-attr-holes]",function(d5){var d6,d7,d8;d6=bc.SplitChars(d5.getAttribute("ws-attr-holes"),[" "],1);for(d7=0,d8=d6.length-1;d7<=d8;d7++)(function(){var d9;function d_(d$,ea){var eb;eb=u.KeyValue(ea);return d$.replace(new a.RegExp("\\${"+eb[0]+"}","ig"),"${"+eb[1]+"}");}d9=D.get(d6,d7);return d5.setAttribute(d9,(((dU.Curried3(_8.fold))(d_))(d5.getAttribute(d9)))(d3));}());});};df.fill=function(d2,d3,d4){while(true)if(d2.hasChildNodes())d4=d3.insertBefore(d2.lastChild,d4);else return null;};df.convertAttrs=function(d2){var d4,d5,d6,d7,d8,d9,d_,d$;function d3(ea){var eb;eb=d2.getAttribute(ea);eb===null?void 0:d2.setAttribute(ea,eb.toLowerCase());}d4=d2.attributes;d5=[];d6=[];d7=[];for(d8=0,d9=d4.length-1;d8<=d9;d8++){d_=d4.item(d8);bc.StartsWith(d_.nodeName,"ws-on")&&d_.nodeName!=="ws-onafterrender"&&d_.nodeName!=="ws-on"?(d5.push(d_.nodeName),d6.push(bL.string(d_.nodeName,{$:1,$0:"ws-on".length},null)+":"+d_.nodeValue.toLowerCase())):!bc.StartsWith(d_.nodeName,"ws-")&&(new a.RegExp(cx.TextHoleRE())).test(d_.nodeValue)?(d_.nodeValue=(d$=new a.RegExp(cx.TextHoleRE(),"g"),d_.nodeValue.replace(d$,function(ea,eb){return"${"+eb.toLowerCase()+"}";})),d7.push(d_.nodeName)):void 0;}!(d6.length==0)?d2.setAttribute("ws-on",bc.concat(" ",d6)):void 0;!(d7.length==0)?d2.setAttribute("ws-attr-holes",bc.concat(" ",d7)):void 0;d3("ws-hole");d3("ws-replace");d3("ws-attr");d3("ws-onafterrender");d3("ws-var");D.iter(function(ea){d2.removeAttribute(ea);},d5);};dg=g.Elt=dU.Class({on:function(d2,d3){var d4;d4=this;this.elt.addEventListener(d2,function(d5){return d3(d4.elt,d5);},false);return this;}},bV,dg);dg.TreeNode=function(d2,d3){var d4,d5;function d6(d7){return d7[1];}d4=dx.Create(d3);return new dg.New$1({$:6,$0:d2},I.Map2Unit((d5=D.map(function(d7){return cT.Updates(d6(d7));},d2.Attrs),c3.TreeReduce(I.Const(),I.Map2Unit,d5)),d4.v),D.get(d2.Els,0),d4);};dg.New=function(d2,d3,d4){var d5,d6;d5=cR.CreateElemNode(d2,d3,d4.docNode);d6=dx.Create(d4.updates);return new dg.New$1({$:1,$0:d5},I.Map2Unit(cT.Updates(d5.Attr),d6.v),d2,d6);};dg.New$1=dU.Ctor(function(d2,d3,d4,d5){bV.New.call(this,d2,d3);this.docNode$1=d2;this.updates$1=d3;this.elt=d4;this.rvUpdates=d5;},dg);dh.get_UseAnimations=function(){return dB.UseAnimations();};dh.Play=function(d2){var d3;d3=null;return cD.Delay(function(){return cD.Bind(dh.Run(a.ignore,dB.Actions(d2)),function(){dB.Finalize(d2);return cD.Return(null);});});};dh.Append=function(d2,d3){return{$:0,$0:dM.Append(d2.$0,d3.$0)};};dh.Run=function(d2,d3){var d4;function d5(d6){function d7(d8,d9){var d_;d_=d9-d8;d3.Compute(d_);d2();return d_<=d4?void a.requestAnimationFrame(function(d$){d7(d8,d$);}):d6();}a.requestAnimationFrame(function(d8){d7(d8,d8);});}d4=d3.Duration;return d4===0?cD.Zero():cD.FromContinuations(function(d6,d7,d8){return d5.apply(null,[d6,d7,d8]);});};dh.Concat=function(d2){return{$:0,$0:dM.Concat(_8.map(dB.List,d2))};};dh.get_Empty=function(){return{$:0,$0:dM.Empty()};};di.BatchUpdatesEnabled=function(){dC.$cctor();return dC.BatchUpdatesEnabled;};dj.StartProcessor=function(d2){var d3;function d4(){var d5;d5=null;return cD.Delay(function(){return cD.Bind(d2,function(){var d6;d6=d3[0];return d6===1?(d3[0]=0,cD.Zero()):d6===2?(d3[0]=1,d4()):cD.Zero();});});}d3=[0];return function(){var d5;d5=d3[0];d5===0?(d3[0]=1,cD.Start(d4(),null)):d5===1?d3[0]=2:void 0;};};dk.concat=function(d2){var d3,d4;d3=[];for(var d5 in d2)d3.push.apply(d3,d2[d5]);return d3;};_9["String.get_toUnderscore$1"]=function(d2,d3){return D.ofSeq(_8.collect(a.id,_8.mapi(function(d4,d5){return d4>0&&dD.IsUpper(d5)?br.ofArray(["_",d5]):br.ofArray([d5]);},d2))).join("");};dl.$cctor=function(){dl.$cctor=a.ignore;function d2(d3){var d4,d5;d4=(d5=0,[bG.TryParseInt32(d3,{get:function(){return d5;},set:function(d6){d5=d6;}}),d5]);return d4[0]?{$:1,$0:d4[1]}:null;}dl.Empty=cY.New$1(function(){return[];},function(){return null;});dl.rRoot=cY.New(function(d3){return[d3];},[]);dl.rString=cY.New$1(function(d3){var d4,d5;d4=d3.Segments;return d4.$==1?(d5=dE.read(d4.$0),d5!=null&&d5.$==1?[[cC.New(d4.$1,d3.QueryArgs,d3.FormData,d3.Method,d3.Body),d5.$0]]:[]):[];},function(d3){return{$:1,$0:[cC.Segment$2(d3==null?"null":dE.write(d3))]};});dl.rChar=cY.New$1(function(d3){var d4,d5,d6;d4=d3.Segments;return d4.$==1?(d5=dE.read(d4.$0),d5!=null&&d5.$==1&&(d5.$0.length===1&&(d6=d5.$0,true))?[[cC.New(d4.$1,d3.QueryArgs,d3.FormData,d3.Method,d3.Body),dD.Parse(d6)]]:[]):[];},function(d3){return{$:1,$0:[cC.Segment$2(d3)]};});dl.rGuid=cY.New$1(function(d3){var d4,d5;d4=d3.Segments;return d4.$==1?(d5=null,bo.TryParse(d4.$0,{get:function(){return d5;},set:function(d6){d5=d6;}})?[[cC.New(d4.$1,d3.QueryArgs,d3.FormData,d3.Method,d3.Body),d5]]:[]):[];},function(d3){return{$:1,$0:[cC.Segment$2(a.String(d3))]};});dl.rInt=cY.New$1(function(d3){var d4,d5;d4=d3.Segments;return d4.$==1?(d5=0,bG.TryParseInt32(d4.$0,{get:function(){return d5;},set:function(d6){d5=d6;}})?[[cC.New(d4.$1,d3.QueryArgs,d3.FormData,d3.Method,d3.Body),d5]]:[]):[];},function(d3){return{$:1,$0:[cC.Segment$2(a.String(d3))]};});dl.rDouble=cY.New$1(function(d3){var d4,d5,d6;d4=d3.Segments;return d4.$==1?(d5=0,(d6=a.Number(d4.$0),a.isNaN(d6)?false:(d5=d6,true))?[[cC.New(d4.$1,d3.QueryArgs,d3.FormData,d3.Method,d3.Body),d5]]:[]):[];},function(d3){return{$:1,$0:[cC.Segment$2(a.String(d3))]};});dl.rSByte=cY.New$1(function(d3){var d4,d5;d4=d3.Segments;return d4.$==1?(d5=0,bG.TryParseSByte(d4.$0,{get:function(){return d5;},set:function(d6){d5=d6;}})?[[cC.New(d4.$1,d3.QueryArgs,d3.FormData,d3.Method,d3.Body),d5]]:[]):[];},function(d3){return{$:1,$0:[cC.Segment$2(a.String(d3))]};});dl.rByte=cY.New$1(function(d3){var d4,d5;d4=d3.Segments;return d4.$==1?(d5=0,bG.TryParseByte(d4.$0,{get:function(){return d5;},set:function(d6){d5=d6;}})?[[cC.New(d4.$1,d3.QueryArgs,d3.FormData,d3.Method,d3.Body),d5]]:[]):[];},function(d3){return{$:1,$0:[cC.Segment$2(a.String(d3))]};});dl.rInt16=cY.New$1(function(d3){var d4,d5;d4=d3.Segments;return d4.$==1?(d5=0,bG.TryParseInt16(d4.$0,{get:function(){return d5;},set:function(d6){d5=d6;}})?[[cC.New(d4.$1,d3.QueryArgs,d3.FormData,d3.Method,d3.Body),d5]]:[]):[];},function(d3){return{$:1,$0:[cC.Segment$2(a.String(d3))]};});dl.rUInt16=cY.New$1(function(d3){var d4,d5;d4=d3.Segments;return d4.$==1?(d5=0,bG.TryParseUInt16(d4.$0,{get:function(){return d5;},set:function(d6){d5=d6;}})?[[cC.New(d4.$1,d3.QueryArgs,d3.FormData,d3.Method,d3.Body),d5]]:[]):[];},function(d3){return{$:1,$0:[cC.Segment$2(a.String(d3))]};});dl.rUInt=cY.New$1(function(d3){var d4,d5;d4=d3.Segments;return d4.$==1?(d5=0,bG.TryParseUInt32(d4.$0,{get:function(){return d5;},set:function(d6){d5=d6;}})?[[cC.New(d4.$1,d3.QueryArgs,d3.FormData,d3.Method,d3.Body),d5]]:[]):[];},function(d3){return{$:1,$0:[cC.Segment$2(a.String(d3))]};});dl.rInt64=cY.New$1(function(d3){var d4,d5;d4=d3.Segments;return d4.$==1?(d5=0,bG.TryParseInt64(d4.$0,{get:function(){return d5;},set:function(d6){d5=d6;}})?[[cC.New(d4.$1,d3.QueryArgs,d3.FormData,d3.Method,d3.Body),d5]]:[]):[];},function(d3){return{$:1,$0:[cC.Segment$2(a.String(d3))]};});dl.rUInt64=cY.New$1(function(d3){var d4,d5;d4=d3.Segments;return d4.$==1?(d5=0,bG.TryParseUInt64(d4.$0,{get:function(){return d5;},set:function(d6){d5=d6;}})?[[cC.New(d4.$1,d3.QueryArgs,d3.FormData,d3.Method,d3.Body),d5]]:[]):[];},function(d3){return{$:1,$0:[cC.Segment$2(a.String(d3))]};});dl.rSingle=cY.New$1(function(d3){var d4,d5,d6;d4=d3.Segments;return d4.$==1?(d5=0,(d6=a.Number(d4.$0),a.isNaN(d6)?false:(d5=d6,true))?[[cC.New(d4.$1,d3.QueryArgs,d3.FormData,d3.Method,d3.Body),d5]]:[]):[];},function(d3){return{$:1,$0:[cC.Segment$2(a.String(d3))]};});dl.rBool=cY.New$1(function(d3){var d4,d5,d6;d4=d3.Segments;return d4.$==1?(d5=(d6=null,[bG.TryParseBool(d4.$0,{get:function(){return d6;},set:function(d7){d6=d7;}}),d6]),d5[0]?[[cC.New(d4.$1,d3.QueryArgs,d3.FormData,d3.Method,d3.Body),d5[1]]]:[]):[];},function(d3){return{$:1,$0:[cC.Segment$2(d3?"True":"False")]};});dl.rWildcard=cY.New$1(function(d3){return[[cC.New(bs.Empty,d3.QueryArgs,d3.FormData,d3.Method,d3.Body),bc.concat("/",d3.Segments)]];},function(d3){return{$:1,$0:[cC.Segment$2(d3)]};});dl.rDateTime=cY.New$1(function(d3){var d4,d5,d6,d7,d8,d9,d_,d$,ea;d4=d3.Segments;return d4.$==1?(d5=d4.$0,d5.length===19&&d5[4]==="-"&&d5[7]==="-"&&d5[10]==="-"&&d5[13]==="."&&d5[16]==="."?(d6=d2(bL.string(d5,{$:1,$0:0},{$:1,$0:3})),(d7=d2(bL.string(d5,{$:1,$0:5},{$:1,$0:6})),(d8=d2(bL.string(d5,{$:1,$0:8},{$:1,$0:9})),(d9=d2(bL.string(d5,{$:1,$0:11},{$:1,$0:12})),(d_=d2(bL.string(d5,{$:1,$0:14},{$:1,$0:15})),(d$=d2(bL.string(d5,{$:1,$0:17},{$:1,$0:18})),d6!=null&&d6.$==1&&(d7!=null&&d7.$==1&&(d8!=null&&d8.$==1&&(d9!=null&&d9.$==1&&(d_!=null&&d_.$==1&&(d$!=null&&d$.$==1&&(ea=[d8.$0,d9.$0,d7.$0,d_.$0,d$.$0,d6.$0],true))))))?[[cC.New(d4.$1,d3.QueryArgs,d3.FormData,d3.Method,d3.Body),(new dY(ea[5],ea[2]-1,ea[0],ea[1],ea[3],ea[4])).getTime()]]:[])))))):[]):[];},function(d3){var d4,d5;function d6(d7){var d8;d8=a.String(d7);return d8.length===1?"0"+d8:d8;}return{$:1,$0:[cC.Segment$2((d4=a.String((new dY(d3)).getFullYear()),(d5=d4.length,d5===1?"000"+d4:d5===2?"00"+d4:d5===3?"0"+d4:d4))+"-"+d6((new dY(d3)).getMonth()+1)+"-"+d6((new dY(d3)).getDate())+"-"+d6((new dY(d3)).getHours())+"."+d6((new dY(d3)).getMinutes())+"."+d6((new dY(d3)).getSeconds()))]};});};dm.OfArray=function(d2){return new bW.New$1(bZ.OfSeq(_8.map(function(d3){return c4.New(d3[0],d3[1]);},d2)));};dm.FoldBack=function(d2,d3,d4){return _8.fold(function(d5,d6){return d2(d6.Key,d6.Value,d5);},d4,bZ.Enumerate(true,d3.get_Tree()));};dm.ToSeq=function(d2){return _8.map(function(d3){return[d3.Key,d3.Value];},bZ.Enumerate(false,d2.get_Tree()));};dn=cD.Scheduler=dU.Class({Fork:function(d2){var d3;d3=this;this.robin.push(d2);this.idle?(this.idle=false,a.setTimeout(function(){d3.tick();},0)):void 0;},tick:function(){var d2,d3,d4;d3=this;d4=dY.now();d2=true;while(d2)if(this.robin.length===0){this.idle=true;d2=false;}else{(this.robin.shift())();dY.now()-d4>40?(a.setTimeout(function(){d3.tick();},0),d2=false):void 0;}}},f,dn);dn.New=dU.Ctor(function(){f.New.call(this);this.idle=true;this.robin=[];},dn);dp=e.OperationCanceledException=dU.Class({},_do,dp);dp.New=dU.Ctor(function(d2){dp.New$1.call(this,"The operation was canceled.",null,d2);},dp);dp.New$1=dU.Ctor(function(d2,d3,d4){this.message=d2;this.inner=d3;cl.setPrototypeOf(this,dp.prototype);this.ct=d4;},dp);dq.$cctor=function(){dq.$cctor=a.ignore;dq.LoadedTemplates=new bz.New$5();dq.LocalTemplatesLoaded=false;dq.TextHoleRE="\\${([^}]+)}";};dr=g.DynamicAttrNode=dU.Class({NChanged:function(){return this.updates;},NGetExitAnim:function(d2){return dh.get_Empty();},NGetEnterAnim:function(d2){return dh.get_Empty();},NGetChangeAnim:function(d2){return dh.get_Empty();},NSync:function(d2){if(this.dirty){(this.push(d2))(this.value);this.dirty=false;}}},f,dr);dr.New=dU.Ctor(function(d2,d3){var d4;d4=this;f.New.call(this);this.push=d3;this.value=void 0;this.dirty=false;this.updates=I.Map(function(d5){d4.value=d5;d4.dirty=true;},d2);},dr);ds=e.AggregateException=dU.Class({},_do,ds);ds.New$3=dU.Ctor(function(d2){ds.New$4.call(this,"One or more errors occurred.",d2);},ds);ds.New$4=dU.Ctor(function(d2,d3){this.message=d2;cl.setPrototypeOf(this,ds.prototype);this.innerExceptions=d3;},ds);dt=c$.ArrayStorage=dU.Class({SSetAt:function(d2,d3,d4){D.set(d4,d2,d3);return d4;},SAppend:function(d2,d3){d3.push(d2);return d3;}},f,dt);dt.New=dU.Ctor(function(d2){f.New.call(this);this.init=d2;},dt);_8.enumUsing=function(d2,d3){return{GetEnumerator:function(){var d4;try{d4=bX.Get(d3(d2));}catch(d5){d2.Dispose();throw d5;}return new bY.New(null,null,function(d6){return d4.MoveNext()&&(d6.c=d4.Current(),true);},function(){d4.Dispose();d2.Dispose();});}};};_8.enumWhile=function(d2,d3){return{GetEnumerator:function(){return new bY.New(null,null,function(d4){var d5;while(true){d5=d4.s;if(z.Equals(d5,null)){if(d2()){d4.s=bX.Get(d3);d4=d4;}else return false;}else if(d5.MoveNext()){d4.c=d5.Current();return true;}else{d5.Dispose();d4.s=null;d4=d4;}}},function(d4){var d5;d5=d4.s;!z.Equals(d5,null)?d5.Dispose():void 0;});}};};dv.New=function(d2,d3,d4,d5){var d6;d6={DynElem:d2,DynFlags:d3,DynNodes:d4};dU.SetOptional(d6,"OnAfterRender",d5);return d6;};dw.Clear=function(d2){d2.splice(0,D.length(d2));};dx=g.Updates=dU.Class({},null,dx);dx.Create=function(d2){var d3;d3=null;d3=dx.New(d2,null,function(){var d4;d4=d3.s;return d4===null?(d4=T.Copy(d3.c()),d3.s=d4,T.WhenObsoleteRun(d4,function(){d3.s=null;}),d4):d4;});return d3;};dx.New=function(d2,d3,d4){return new dx({c:d2,s:d3,v:d4});};dz.New=function(d2,d3){return{PreviousNodes:d2,Top:d3};};dA.get_Empty=function(){return{$:0,$0:new bA.New$3()};};dA.FindAll=function(d2){var d3;function d4(d6){if(d6!=null&&d6.$==0){d4(d6.$0);d4(d6.$1);}else if(d6!=null&&d6.$==1)d5(d6.$0);else if(d6!=null&&d6.$==2)d4(d6.$0.Current);else if(d6!=null&&d6.$==6)D.iter(d5,d6.$0.Holes);}function d5(d6){d3.push(d6);d4(d6.Children);}d3=[];d4(d2);return{$:0,$0:new bA.New$2(d3)};};dA.Filter=function(d2,d3){return{$:0,$0:dP.Filter(d2,d3.$0)};};dA.Except=function(d2,d3){return{$:0,$0:dP.Except(d2.$0,d3.$0)};};dA.ToArray=function(d2){return dP.ToArray(d2.$0);};dA.Intersect=function(d2,d3){return{$:0,$0:dP.Intersect(d2.$0,d3.$0)};};dB.UseAnimations=function(){dL.$cctor();return dL.UseAnimations;};dB.Actions=function(d2){return dB.ConcatActions(D.choose(function(d3){return d3.$==1?{$:1,$0:d3.$0}:null;},dM.ToArray(d2.$0)));};dB.Finalize=function(d2){D.iter(function(d3){if(d3.$==0)d3.$0();},dM.ToArray(d2.$0));};dB.ConcatActions=function(d2){var d3,d4,d5,d6;d3=c3.ofSeqNonCopying(d2);d4=D.length(d3);return d4===0?dB.Const():d4===1?D.get(d3,0):(d5=_8.max(_8.map(function(d7){return d7.Duration;},d3)),(d6=D.map(function(d7){return dB.Prolong(d5,d7);},d3),dB.Def(d5,function(d7){D.iter(function(d8){d8.Compute(d7);},d6);})));};dB.List=function(d2){return d2.$0;};dB.Const=function(d2){return dB.Def(0,function(){return d2;});};dB.Def=function(d2,d3){return{Compute:d3,Duration:d2};};dB.Prolong=function(d2,d3){var d4,d5,d6;d4=d3.Compute;d5=d3.Duration;d6=n.Create(function(){return d3.Compute(d3.Duration);});return{Compute:function(d7){return d7>=d5?d6.f():d4(d7);},Duration:d2};};dC.$cctor=function(){dC.$cctor=a.ignore;dC.BatchUpdatesEnabled=true;};dD.IsUpper=function(d2){return d2>="A"&&d2<="Z";};dD.Parse=function(d2){return d2.length===1?d2:u.FailWith("String must be exactly one character long.");};dD.IsWhiteSpace=function(d2){return d2.match(new a.RegExp("\\s"))!==null;};cY.New=function(d2,d3){return{Parse:d2,Segment:d3};};dE.read=function(d2){var d3;d3=[];return function(d4){var d5;while(true){d5=dE.readEscapedFromChars(d4);if(d5[0]===-2)return null;else if(d5[0]===-1)return{$:1,$0:(function(d6){return function(d7){return bc.concat(d6,d7);};}(""))(d3)};else{d3.push(d1.fromCharCode(d5[0]));d4=d5[1];}}}(br.ofSeq(_8.map(function(d4){return d4.charCodeAt();},d2)));};dE.write=function(d2){return bc.concat("",_8.mapi(function(d3,d4){return dE.writeEscapedAsString(d3+1===d2.length,d4);},d2));};dE.readEscapedFromChars=function(d2){var d3,d4,d5,d6,d7,d8,d9,d_;function d$(){var eb,ec;return d3.$==1?(eb=d3.$1,(ec=d3.$0,(d3=eb,ec))):-1;}function ea(eb){return eb>="0".charCodeAt()&&eb<="9".charCodeAt()?eb-"0".charCodeAt():eb>="a".charCodeAt()&&eb<="f".charCodeAt()?eb-"a".charCodeAt()+10:eb>="A".charCodeAt()&&eb<="F".charCodeAt()?eb-"A".charCodeAt()+10:-2;}d3=d2;return[(d4=d$(),d4==="~".charCodeAt()?(d5=d$(),d5==="u".charCodeAt()?(d6=d$(),(d7=d$(),(d8=d$(),(d9=d$(),d6>=0&&d7>=0&&d8>=0&&d9>=0?dE.op_PlusPlus(dE.op_PlusPlus(dE.op_PlusPlus(ea(d6),ea(d7)),ea(d8)),ea(d9)):-2)))):(d_=d$(),d5>=0&&d_>=0?dE.op_PlusPlus(ea(d5),ea(d_)):-2)):d4),d3];};dE.writeEscapedAsString=function(d2,d3){var d4;d4=d3.charCodeAt();return dE.isUnreserved(d2,d3)?d3:d4<256?"~"+bc.PadLeftWith(d4.toString(16),2,"0"):"~u"+bc.PadLeftWith(d4.toString(16),4,"0");};dE.op_PlusPlus=function(d2,d3){return(d2<<4)+d3;};dE.isUnreserved=function(d2,d3){return d3==="-"||(d3==="."?!d2:d3==="_"||(d3>="A"&&d3<="Z"||(d3>="a"&&d3<="z"||d3>="0"&&d3<="9")));};bG.TryParseSByte=function(d2,d3){return bG.TryParse(d2,-128,127,d3);};bG.TryParseByte=function(d2,d3){return bG.TryParse(d2,0,255,d3);};bG.TryParseInt16=function(d2,d3){return bG.TryParse(d2,-32768,32767,d3);};bG.TryParseUInt16=function(d2,d3){return bG.TryParse(d2,0,65535,d3);};bG.TryParseUInt32=function(d2,d3){return bG.TryParse(d2,0,4294967295,d3);};bG.TryParseUInt64=function(d2,d3){return bG.TryParse(d2,0,18446744073709551615,d3);};dF=ba.KeyCollection=dU.Class({GetEnumerator$1:function(){return bX.Get(_8.map(function(d2){return d2.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},f,dF);dF.New=dU.Ctor(function(d2){f.New.call(this);this.d=d2;},dF);dG.AsAsync=function(d2){return cD.FromContinuations(function(d3,d4){d2.then(d3,function(d5){return d4(dG.unwrapExn(d5));});});};dG.unwrapExn=function(d2){return d2 instanceof _do?d2:new dQ.New(d2);};dH.$cctor=function(){dH.$cctor=a.ignore;dH.Doc=self.document;};dI=e.FormatException=dU.Class({},_do,dI);dI.New$1=dU.Ctor(function(d2){this.message=d2;cl.setPrototypeOf(this,dI.prototype);},dI);dJ.$cctor=function(){dJ.$cctor=a.ignore;dJ.EmptyAttr=null;};dK.isBlank=function(d2){return bc.forall(dD.IsWhiteSpace,d2);};dL.$cctor=function(){dL.$cctor=a.ignore;dL.CubicInOut=dO.Custom(function(d2){var d3;d3=d2*d2;return 3*d3-2*(d3*d2);});dL.UseAnimations=true;};dM.Append=function(d2,d3){return d2.$==0?d3:d3.$==0?d2:{$:2,$0:d2,$1:d3};};dM.ToArray=function(d2){var d3;function d4(d5){if(d5.$==1)d3.push(d5.$0);else if(d5.$==2){d4(d5.$0);d4(d5.$1);}else if(d5.$==3)D.iter(function(d6){d3.push(d6);},d5.$0);}d3=[];d4(d2);return d3.slice(0);};dM.Concat=function(d2){var d3;d3=c3.ofSeqNonCopying(d2);return c3.TreeReduce(dM.Empty(),dM.Append,d3);};dM.Empty=function(){dS.$cctor();return dS.Empty;};dN.WriteLink=function(d2,d3){var d4;d4=d3.get_IsEmpty()?"":"?"+dN.WriteQuery(d3);return"/"+dN.Concat(d2)+d4;};dN.Concat=function(d2){var d3,d4;d3=[];d4=true;br.iter(function(d5){if(!bc.IsNullOrEmpty(d5)){d4?d4=false:d3.push("/");d3.push(d5);}},d2);return bc.Join("",D.ofSeq(d3));};dN.WriteQuery=function(d2){function d3(d4,d5){return d4+"="+d5;}return bc.concat("&",_8.map(function(d4){return d3(d4[0],d4[1]);},dm.ToSeq(d2)));};dO=g.Easing=dU.Class({},f,dO);dO.Custom=function(d2){return new dO.New(d2);};dO.New=dU.Ctor(function(d2){f.New.call(this);this.transformTime=d2;},dO);dP.Filter=function(d2,d3){return new bA.New$2(D.filter(d2,dP.ToArray(d3)));};dP.Except=function(d2,d3){var d4;d4=new bA.New$2(dP.ToArray(d3));d4.ExceptWith(dP.ToArray(d2));return d4;};dP.ToArray=function(d2){var d3;d3=D.create(d2.get_Count(),void 0);d2.CopyTo(d3);return d3;};dP.Intersect=function(d2,d3){var d4;d4=new bA.New$2(dP.ToArray(d2));d4.IntersectWith(dP.ToArray(d3));return d4;};dQ=x.NonStandardPromiseRejectionException=dU.Class({},_do,dQ);dQ.New=dU.Ctor(function(d2){this.message="Promise rejected";cl.setPrototypeOf(this,dQ.prototype);this.reason=d2;},dQ);dR.Children=function(d2,d3){var d4,d5,d6;if(d3!=null&&d3.$==1){d6=[];d4=d3.$0[0].nextSibling;while(d4!==d3.$0[1]){d6.push(d4);d4=d4.nextSibling;}return{$:0,$0:d6};}else return{$:0,$0:D.init(d2.childNodes.length,(d5=d2.childNodes,function(d7){return d5[d7];}))};};dR.Except=function(d2,d3){var d4;d4=d2.$0;return{$:0,$0:D.filter(function(d5){return D.forall(function(d6){return!(d5===d6);},d4);},d3.$0)};};dR.Iter=function(d2,d3){D.iter(d2,d3.$0);};dR.DocChildren=function(d2){var d3;function d4(d5){if(d5!=null&&d5.$==2)d4(d5.$0.Current);else if(d5!=null&&d5.$==1)d3.push(d5.$0.El);else if(d5==null);else if(d5!=null&&d5.$==5)d3.push(d5.$0);else if(d5!=null&&d5.$==4)d3.push(d5.$0.Text);else if(d5!=null&&d5.$==6)D.iter(function(d6){if(d6==null||d6.constructor===cl)d4(d6);else d3.push(d6);},d5.$0.Els);else{d4(d5.$0);d4(d5.$1);}}d3=[];d4(d2.Children);return{$:0,$0:c3.ofSeqNonCopying(d3)};};dS.$cctor=function(){dS.$cctor=a.ignore;dS.Empty={$:0};};dU.OnLoad(function(){d.mainProgram();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
//# sourceMappingURL=testing.min.map
