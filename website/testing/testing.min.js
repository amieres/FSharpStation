function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
var JSON;JSON||(JSON={}),function(){"use strict";function i(n){return n<10?"0"+n:n}function f(n){return o.lastIndex=0,o.test(n)?'"'+n.replace(o,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function r(i,e){var s,l,h,a,v=n,c,o=e[i];o&&typeof o=="object"&&typeof o.toJSON=="function"&&(o=o.toJSON(i));typeof t=="function"&&(o=t.call(e,i,o));switch(typeof o){case"string":return f(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(n+=u,c=[],Object.prototype.toString.apply(o)==="[object Array]"){for(a=o.length,s=0;s<a;s+=1)c[s]=r(s,o)||"null";return h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+v+"]":"["+c.join(",")+"]",n=v,h}if(t&&typeof t=="object")for(a=t.length,s=0;s<a;s+=1)typeof t[s]=="string"&&(l=t[s],h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));else for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));return h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+v+"}":"{"+c.join(",")+"}",n=v,h}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,u,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(n="",u="",typeof e=="number")for(o=0;o<e;o+=1)u+=" ";else typeof e=="string"&&(u=e);if(t=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return r("",{"":i})});typeof JSON.parse!="function"&&(JSON.parse=function(n,t){function r(n,i){var f,e,u=n[i];if(u&&typeof u=="object")for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&(e=r(u,f),e!==undefined?u[f]=e:delete u[f]);return t.call(n,i,u)}var i;if(n=String(n),e.lastIndex=0,e.test(n)&&(n=n.replace(e,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?r({"":i},""):i;throw new SyntaxError("JSON.parse");})}();
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9;a=self;b=a.FsRoot=a.FsRoot||{};c=b.TestingJS=b.TestingJS||{};d=a.WebSharper=a.WebSharper||{};e=d.Operators=d.Operators||{};f=b.LibraryJS=b.LibraryJS||{};g=f.WsTranslatorLoader=f.WsTranslatorLoader||{};h=g.UI=g.UI||{};i=a.EventTarget;j=a.Node;k=d.JavaScript=d.JavaScript||{};l=k.JS=k.JS||{};m=d.UI=d.UI||{};n=m.View=m.View||{};o=a.WsTranslatorLoader_GeneratedPrintf=a.WsTranslatorLoader_GeneratedPrintf||{};p=a.GeneratedPrintf=a.GeneratedPrintf||{};q=d.Obj=d.Obj||{};r=m.Var=m.Var||{};s=g.WasmLoad=g.WasmLoad||{};t=g.WWorker=g.WWorker||{};u=d.Remoting=d.Remoting||{};v=u.AjaxRemotingProvider=u.AjaxRemotingProvider||{};w=d.Utils=d.Utils||{};x=m.HtmlModule=m.HtmlModule||{};y=x.attr=x.attr||{};z=m.Client=m.Client||{};A=z.Templates=z.Templates||{};B=m.Doc=m.Doc||{};C=k.Pervasives=k.Pervasives||{};D=a.WindowOrWorkerGlobalScope;E=m.Snap=m.Snap||{};F=a.StartupCode$WsTranslatorLoader$WsTranslatorLoader=a.StartupCode$WsTranslatorLoader$WsTranslatorLoader||{};G=g.WasmStatus=g.WasmStatus||{};H=b.WsTranslator=b.WsTranslator||{};I=H.Dependency=H.Dependency||{};J=g.Remoting=g.Remoting||{};K=J.IMessagingO=J.IMessagingO||{};L=d.Seq=d.Seq||{};M=d.Arrays=d.Arrays||{};N=d.List=d.List||{};O=N.T=N.T||{};P=d.Unchecked=d.Unchecked||{};Q=d.Strings=d.Strings||{};R=m.AttrProxy=m.AttrProxy||{};S=d.Collections=d.Collections||{};T=S.Dictionary=S.Dictionary||{};U=m.Docs=m.Docs||{};V=m.DomUtility=m.DomUtility||{};W=b.Library=b.Library||{};X=W.String=W.String||{};Y=d.Slice=d.Slice||{};Z=W.ParseO=W.ParseO||{};_0=d.Numeric=d.Numeric||{};_1=a.System=a.System||{};_2=_1.Guid=_1.Guid||{};_3=m.Var$1=m.Var$1||{};_4=a.Event;_5=J.ReturnQueue=J.ReturnQueue||{};_6=J.CustomXhrProvider=J.CustomXhrProvider||{};_7=d.Concurrency=d.Concurrency||{};_8=s.Require=s.Require||{};_9=f.Pojo=f.Pojo||{};_=a.XMLHttpRequestEventTarget;$=a.ArrayBufferView;ba=m.AttrModule=m.AttrModule||{};bb=a.Object;bc=d.Enumerator=d.Enumerator||{};bd=bc.T=bc.T||{};be=m.Array=m.Array||{};bf=m.Attrs=m.Attrs||{};bg=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};bh=S.HashSet=S.HashSet||{};bi=m.An=m.An||{};bj=z.Settings=z.Settings||{};bk=m.Abbrev=m.Abbrev||{};bl=bk.Mailbox=bk.Mailbox||{};bm=d.DateUtil=d.DateUtil||{};bn=m.ConcreteVar=m.ConcreteVar||{};bo=a.StartupCode$WebSharper_Main$Remoting=a.StartupCode$WebSharper_Main$Remoting||{};bp=S.DictionaryUtil=S.DictionaryUtil||{};bq=m.Elt=m.Elt||{};br=_7.AsyncBody=_7.AsyncBody||{};bs=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};bt=_7.CT=_7.CT||{};bu=A.Prepare=A.Prepare||{};bv=S.KeyCollection=S.KeyCollection||{};bw=m.DocElemNode=m.DocElemNode||{};bx=a.CharacterData;by=z.Docs=z.Docs||{};bz=by.RunState=by.RunState||{};bA=by.NodeSet=by.NodeSet||{};bB=m.Anims=m.Anims||{};bC=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};bD=a.Error;bE=d.OperationCanceledException=d.OperationCanceledException||{};bF=d.Json=d.Json||{};bG=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};bH=bk.Fresh=bk.Fresh||{};bI=u.XhrProvider=u.XhrProvider||{};bJ=m.Updates=m.Updates||{};bK=_7.Scheduler=_7.Scheduler||{};bL=d.CancellationTokenSource=d.CancellationTokenSource||{};bM=a.StartupCode$WsTranslator$WsTranslator=a.StartupCode$WsTranslator$WsTranslator||{};bN=z.Attrs=z.Attrs||{};bO=bN.Dyn=bN.Dyn||{};bP=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};bQ=m.AppendList=m.AppendList||{};bR=d.Queue=d.Queue||{};bS=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};bT=m.DynamicAttrNode=m.DynamicAttrNode||{};bU=m.Easing=m.Easing||{};bV=bk.HashSet=bk.HashSet||{};bW=S.HashSetUtil=S.HashSetUtil||{};bX=d.FormatException=d.FormatException||{};bY=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};bZ=by.DomNodes=by.DomNodes||{};b0=d.Lazy=d.Lazy||{};b1=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};b2=d.LazyExtensionsProxy=d.LazyExtensionsProxy||{};b3=b2.LazyRecord=b2.LazyRecord||{};b4=a.IntelliFactory;b5=b4&&b4.Runtime;b6=a.JSON;b7=a.console;b8=a.jQuery;b9=a.Date;c.main=function(){var b_,b$;b_=h.mainDoc();b$=self.document.body;A.LoadLocalTemplates("");B.Run(b$,b_);};e.FailWith=function(b_){throw new bD(b_);};e.KeyValue=function(b_){return[b_.K,b_.V];};h.mainDoc=function(){var b_,b$;return B.Element("div",[],[B.Element("h1",[],[B.TextNode("HELLO WASM!")]),B.Element("h2",[],[B.TextView(n.Map(function(ca){return(function(cb){return function(cc){return cb(o.p(cc));};}(a.id))(ca);},g.wasmStatusV().get_View()))]),B.Element("span",[],[B.Button("Load as Worker",[],function(){s.loadWasmInWorker(h.debugV().Get(),h.optsV().Get());}),B.Button("Load in Main thread",[],function(){s.loadInThisThread(h.debugV().Get(),h.optsV().Get());}),B.Button("Terminate Worker",[],function(){t.terminate();}),B.TextNode(" Debug:"),B.CheckBox([],h.debugV())]),B.Element("div",[],[B.InputArea([],h.codeV()),B.InputArea([],h.optsV())]),B.Element("span",[],[B.Button("Check",[],function(){h.callWasmA(function(ca){return h.parseAndCheckProject(ca[0],ca[1],ca[2]);},h.getParms());}),B.Button("Translate",[],function(){h.clean();g.printfn(function(ca){return ca("Initiating translation:");});h.callWasmA(function(ca){return h.translateToJs(ca[0],ca[1],ca[2]);},h.getParms());}),B.Button("Dir",[],function(){h.callWasmA(function(ca){return(new v.New()).Async("WsTranslator:FsRoot.WsTranslator+Rpc.dirRpc:-1181784350",[ca]);},"/");}),B.Button("Clean",[],function(){h.clean();})]),h.showMessages("Fsc Messages",function(ca){return function(cb){return ca(w.prettyPrint(cb));};}(a.id),h.fsErrsV().get_View()),h.showMessages("Ws  Errors",(b_=function(ca){return function(cb){return ca("("+o.p$1(cb[0])+", "+o.p$2(cb[1])+")");};}(a.id),function(ca){return b_([ca[0],ca[1]]);}),h.wsErrsV().get_View()),h.showMessages("Ws  Warnings",(b$=function(ca){return function(cb){return ca("("+o.p$1(cb[0])+", "+o.p$3(cb[1])+")");};}(a.id),function(ca){return b$([ca[0],ca[1]]);}),h.wsWrnsV().get_View()),B.Element("div",[R.Create("style","font-family: monospace; white-space:pre")],[B.TextView(h.detailsV().get_View())])]);};h.debugV=function(){F.$cctor();return F.debugV;};h.optsV=function(){F.$cctor();return F.optsV;};h.codeV=function(){F.$cctor();return F.codeV;};h.callWasmA=function(b_,b$){var ca;_7.Start((ca=null,_7.Delay(function(){return _7.Combine(g.wasmStatusV().Get().$===0?(s.loadWasmInWorker(h.debugV().Get(),h.optsV().Get()),_7.Zero()):_7.Zero(),_7.Delay(function(){return _7.Bind(_7.Sleep(50),function(){return _7.Combine(_7.While(function(){var cb;cb=g.wasmStatusV().Get();return cb.$==2?false:cb.$!=4;},_7.Delay(function(){g.printfn(function(cb){return cb("Waiting for WASM to load...");});return _7.Bind(_7.Sleep(2000),function(){return _7.Return(null);});})),_7.Delay(function(){return _7.TryWith(_7.Delay(function(){return _7.Bind(b_(b$),function(){return _7.Return(null);});}),function(cb){(g.printfn(function(cc){return function(cd){return cc(w.prettyPrint(cd));};}))(cb);return _7.Zero();});}));});}));})),null);};h.parseAndCheckProject=function(b_,b$,ca){var cb;cb=null;return _7.Delay(function(){return _7.Bind((new v.New()).Async("WsTranslator:FsRoot.WsTranslator+Rpc.parseAndCheckProjectRpc:-1474163089",[b_,b$,ca]),function(cc){var cd;h.fsErrsV().Set(M.ofSeq(cc[0]));h.wsErrsV().Set([]);h.wsWrnsV().Set([]);cd=(function(ce){return function(cf){return ce("("+w.prettyPrint(cf[0])+", "+w.printArray(w.prettyPrint,cf[1])+")");};}(a.id))([cc[2],cc[1]]);h.detailsV().Set(cd);return _7.Zero();});});};h.getParms=function(){return["WasmTest",M.filter(function(b_){return Q.Trim(b_)!=="";},Q.SplitChars("fsc.exe\n"+h.optsV().Get(),["\n"],0)),h.codeV().Get()];};h.clean=function(){h.detailsV().Set("");};h.translateToJs=function(b_,b$,ca){var cb;cb=null;return _7.Delay(function(){return _7.Bind((new v.New()).Async("WsTranslator:FsRoot.WsTranslator+Rpc.translateFsToJsRpc:-435757094",[b_,b$,ca]),function(cc){var cd,ce;cd=cc[1];h.fsErrsV().Set(cc[0]);return cd==null?(h.clean(),h.wsErrsV().Set([]),h.wsWrnsV().Set([]),_7.Zero()):(ce=cd.$0[0],(h.detailsV().Set(ce==null?"No translation":ce.$0),h.wsErrsV().Set(M.ofSeq(cd.$0[1])),h.wsWrnsV().Set(M.ofSeq(cd.$0[2])),_7.Zero()));});});};h.showMessages=function(b_,b$,ca){return B.BindView(function(cb){return M.length(cb)===0?B.get_Empty():B.Element("div",[],[B.TextNode(b_),B.Element("ol",[],[B.Concat(L.map(function(cc){return B.Element("li",[],[B.TextNode(b$(cc))]);},cb))])]);},ca);};h.fsErrsV=function(){F.$cctor();return F.fsErrsV;};h.wsErrsV=function(){F.$cctor();return F.wsErrsV;};h.wsWrnsV=function(){F.$cctor();return F.wsWrnsV;};h.detailsV=function(){F.$cctor();return F.detailsV;};l.GetFields=function(b_){var b$,ca;b$=[];for(var cb in b_)b$.push([cb,b_[cb]]);return b$;};l.GetFieldValues=function(b_){var b$,ca;b$=[];for(var cb in b_)b$.push(b_[cb]);return b$;};n.Map=function(b_,b$){return n.CreateLazy(function(){return E.Map(b_,b$());});};n.CreateLazy=function(b_){var b$;b$={c:null,o:b_};return function(){var ca,cb;ca=b$.c;return ca===null?(ca=b$.o(),b$.c=ca,(cb=ca.s,cb!=null&&cb.$==0)?b$.o=null:E.WhenObsoleteRun(ca,function(){b$.c=null;}),ca):ca;};};n.Const=function(b_){var b$;b$=E.New({$:0,$0:b_});return function(){return b$;};};n.Sink=function(b_,b$){function ca(){E.WhenRun(b$(),b_,function(){_7.scheduler().Fork(ca);});}_7.scheduler().Fork(ca);};n.Map2Unit=function(b_,b$){return n.CreateLazy(function(){return E.Map2Unit(b_(),b$());});};n.Bind=function(b_,b$){return n.Join(n.Map(b_,b$));};n.Join=function(b_){return n.CreateLazy(function(){return E.Join(b_());});};o.p=function(b_){return b_.$==4?"WasmWorkerLoaded":b_.$==3?"WasmWorkerLoading":b_.$==2?"WasmLoaded":b_.$==1?"WasmLoading":"WasmNotLoaded";};o.p$1=function(b_){return b_==null?"null":"Some "+p.p(b_.$0);};o.p$2=function(b_){return b_.$==6?"FieldNotFound ("+w.prettyPrint(b_.$0)+", "+w.prettyPrint(b_.$1)+")":b_.$==5?"ConstructorNotFound ("+w.prettyPrint(b_.$0)+", "+w.prettyPrint(b_.$1)+", "+w.printList(w.prettyPrint,b_.$2)+")":b_.$==4?"MethodNameNotFound ("+w.prettyPrint(b_.$0)+", "+w.prettyPrint(b_.$1)+", "+w.printList(w.prettyPrint,b_.$2)+")":b_.$==3?"MethodNotFound ("+w.prettyPrint(b_.$0)+", "+w.prettyPrint(b_.$1)+", "+w.printList(w.prettyPrint,b_.$2)+")":b_.$==2?"TypeNotFound "+w.prettyPrint(b_.$0):b_.$==1?"NameConflict ("+w.prettyPrint(b_.$0)+", "+w.prettyPrint(b_.$1)+")":"SourceError "+w.prettyPrint(b_.$0);};o.p$3=function(b_){return b_.$==1?"PublicProxy "+w.prettyPrint(b_.$0):"SourceWarning "+w.prettyPrint(b_.$0);};p.p=function(b_){return"{"+("FileName = "+w.prettyPrint(b_.FileName))+"; "+("Start = "+("("+w.prettyPrint(b_.Start[0])+", "+w.prettyPrint(b_.Start[1])+")"))+"; "+("End = "+("("+w.prettyPrint(b_.End[0])+", "+w.prettyPrint(b_.End[1])+")"))+"}";};q=d.Obj=b5.Class({Equals:function(b_){return this===b_;},GetHashCode:function(){return -1;}},null,q);q.New=b5.Ctor(function(){},q);r=m.Var=b5.Class({},q,r);r.New=b5.Ctor(function(){q.New.call(this);},r);g.wasmStatusV=function(){F.$cctor();return F.wasmStatusV;};g.printfn=function(b_){return b_(J.messaging().get_D().wprintfn);};s.loadWasmInWorker=function(b_,b$){var ca;if(!self.document)g.printfn(function(cb){return cb("Already in a worker cannot load Wasm in another worker");});else if(g.wasmStatusV().Get().$!==0)(g.printfn(function(cb){return function(cc){return cb("Wasm is already "+o.p(cc));};}))(g.wasmStatusV().Get());else{g.wasmStatusV().Set(G.WasmLoading);g.printfn(function(cb){return cb("Initiating WebWorker");});self.IntelliFactory.Runtime.ScriptPath=function(cb,cc){return"/WASM/publish/"+cc;};ca=new a.Worker(b5.ScriptPath("WsTranslatorLoader","WsTranslatorLoader.worker.js"));ca.postMessage({$:2,$0:b_,$1:b$});ca.onmessage=t.fromWorker;t.set_workerO({$:1,$0:ca});J.messaging().set_D(K.New(function(cb){return function(cc){return ca.postMessage({$:0,$0:cb,$1:cc});};},function(cb){J.returnValue0(cb[0],cb[1]);},function(cb){J.returnExn0(cb[0],cb[1]);},J.messaging().get_D().wprintfn));J.installProvider();}};s.loadInThisThread=function(b_,b$){var ca,cb,cc;cb=!self.document;cc=g.wasmStatusV().Get();switch(cb?cc.$==3?1:cc.$==1?2:cc.$==2?4:cc.$==0?6:0:cc.$==1?1:cc.$==3?3:cc.$==4?5:cc.$==0?6:0){case 0:null;break;case 1:g.printfn(function(cd){return cd("WASM is loading");});break;case 2:g.printfn(function(cd){return cd("WASM is loading in the main thread");});break;case 3:g.printfn(function(cd){return cd("WASM is loading in a WebWorker");});break;case 4:g.printfn(function(cd){return cd("WASM is loaded in the main thread");});break;case 5:g.printfn(function(cd){return cd("WASM is loaded in a WebWorker");});break;case 6:_7.Start(_7.FromContinuations(function(cd){var ce;function cf(){s.bindWasm();g.printfn(function(ch){return ch("WASM Initialized!");});g.wasmStatusV().Set(!self.document?G.WasmWorkerLoaded:G.WasmLoaded);cd();}function cg(){var ch,ci,cj,ck,cl,cm,cn;ch=(ci=self.Module.cwrap("mono_wasm_setenv","void",["string","string"]),function(co){ci(co[0],co[1]);});b_?(ch(["MONO_LOG_LEVEL","debug"]),ch(["MONO_LOG_MASK","all"])):void 0;cj=self.config;ck=cj.vfs_prefix;cl=cj.deploy_prefix;cm=cj.enable_debugging;cn=cj.file_list;self.MONO.mono_load_runtime_and_bcl(ck,cl,cm,cn,cf);}return _7.Start((ce=null,_7.Delay(function(){g.printfn(function(ch){return ch("Loading WASM. Hold on, this will take a while...");});g.wasmStatusV().Set(!self.document?G.WasmWorkerLoading:G.WasmLoading);return _7.Bind(_7.Sleep(50),function(){return _7.Combine(!(!self.document)?(J.installProvider(),_7.Zero()):_7.Zero(),_7.Delay(function(){return _7.Bind(s.requireJsA([s.rootPath()+"mono-config.js"]),function(){var ch,ci;self.Module=self.Module||{};self.Module.onRuntimeInitialized=cg;ch=g.printfn(function(cj){return function(ck){return cj(w.toSafe(ck));};});self.Module.print=ch;ci=g.printfn(function(cj){return function(ck){return cj(w.toSafe(ck));};});self.Module.printErr=ci;self.Module.preRun=[function(){s.preloadFiles(s.filesToPreload(b$));}];return _7.Bind(s.requireJsA([s.rootPath()+"dotnet.js"]),function(){return _7.Zero();});});}));});})),null);}),null);break;}};s.requireJsA=function(b_){return _7.FromContinuations(function(b$){return a.requirejs(M.ofSeq(b_),b$);});};s.rootPath=function(){F.$cctor();return F.rootPath;};s.filesToPreload=function(b_){return N.ofSeq(L.delay(function(){return L.append(H.dlls(),L.delay(function(){return M.choose(function(b$){var ca;ca=X.StartsWith("-r:",b$);return ca!=null&&ca.$==1?{$:1,$0:ca.$0}:null;},Q.SplitChars(b_,["\n"],0));}));}));};s.preloadFiles=function(b_){var b$,ca,cb,cc,cd,ce;self.Browser=_9.newPojo([["init",a.ignore],["asyncLoad",function(cf,cg,ch){var ci;ci=new self.XMLHttpRequest();ci.open("GET",cf,true);ci.responseType="arraybuffer";ci.onload=function(){return ci.status===200||ci.status===0&&!P.Equals(ci.response,null)?cg(new a.Uint8Array(ci.response)):ch();};ci.onerror=function(){return ch();};return ci.send(null);}]]);self.Module=self.Module||{};self.Module.preloadPlugins=[];b$=L.cache(L.distinct(L.map(function(cf){return[Q.concat("/",Y.array(cf,null,{$:1,$0:M.length(cf)-2})),L.last(cf)];},L.map(function(cf){return M.map(Q.Trim,cf);},L.map(function(cf){return Q.SplitChars(Q.Replace(cf,"\\","/"),["/"],0);},b_)))));L.iter(function(cf){try{self.FS.mkdir(cf);}catch(cg){null;}},L.distinct(L.map(function(cf){return cf[0];},b$)));ca=bc.Get(b$);try{while(ca.MoveNext()){cb=ca.Current();cc=cb[1];cd=cb[0];ce=Q.Replace(s.rootPath()+cd+"/"+cc,"//","/");(g.printfn(function(cf){return function(cg){return cf("Preloading "+w.toSafe(cg));};}))(ce);self.FS.createPreloadedFile(cd,cc,ce,1,a.$op21);}}finally{if(typeof ca=="object"&&"Dispose"in ca)ca.Dispose();}};s.bindWasm=function(){L.iter(function(b_){s.bindStaticMethod(b_[0],b_[1],b_[2]);},N.ofArray([["WsTranslator","FsRoot.WsTranslator","runRpc"]]));};s.bindStaticMethod=function(b_,b$,ca){var cb;self[((((b5.Curried(function(cc,cd,ce,cf){return cc("WASM_"+w.toSafe(cd)+"_"+w.toSafe(ce)+"_"+w.toSafe(cf));},4))(a.id))(b_))(Q.Replace(b$,".","_")))(ca)]=(cb=((((b5.Curried(function(cc,cd,ce,cf){return cc("["+w.toSafe(cd)+"]"+w.toSafe(ce)+":"+w.toSafe(cf));},4))(a.id))(b_))(b$))(ca),self.Module.mono_bind_static_method(cb));};t.terminate=function(){var b_;if(b_=t.workerO(),b_!=null&&b_.$==1){t.workerO().$0.terminate();t.set_workerO(null);g.printfn(function(b$){return b$("Worker terminated!");});g.wasmStatusV().Set(G.WasmNotLoaded);}else g.printfn(function(b$){return b$("Worker is not present");});};t.fromWorker=function(b_){var b$,ca;b$=b_.data;b$.$==1?J.returnExn0(b$.$0,b$.$1):b$.$==2?(g.printfn(function(cb){return function(cc){return cb(w.toSafe(cc));};}))(b$.$0):b$.$==3?(ca=b$.$0,!P.Equals(g.wasmStatusV().Get(),ca)?g.wasmStatusV().Set(ca):void 0):J.returnValue0(b$.$0,b$.$1);};t.set_workerO=function(b_){F.$cctor();F.workerO=b_;};t.workerO=function(){F.$cctor();return F.workerO;};v=u.AjaxRemotingProvider=b5.Class({AsyncBase:function(b_,b$){var ca,cb;ca=this;cb=null;return _7.Delay(function(){var cc,cd;cc=u.makeHeaders(b_);cd=u.makePayload(b$);return _7.Bind(_7.GetCT(),function(ce){return _7.FromContinuations(function(cf,cg,ch){var ci,cj,ck;function cl(cm){return ci[0]?(ci[0]=false,ch(new bE.New(ce))):null;}ci=[true];cj=_7.Register(ce,function(){cl();});ck=ca.get_EndPoint();return u.AjaxProvider().Async(ck,cc,cd,function(cm){if(ci[0]){ci[0]=false;cj.Dispose();cf(bF.Activate(b6.parse(cm)));}},function(cm){if(ci[0]){ci[0]=false;cj.Dispose();cg(cm);}});});});});},get_EndPoint:function(){return u.EndPoint();},Async:function(b_,b$){return this.AsyncBase(b_,b$);}},q,v);v.New=b5.Ctor(function(){q.New.call(this);},v);w.prettyPrint=function(b_){var b$,ca;function cb(cc,cd){return cc+" = "+w.prettyPrint(cd);}return b_===null?"null":(b$=typeof b_,b$=="string"?"\""+b_+"\"":b$=="object"?b_ instanceof a.Array?"[|"+Q.concat("; ",M.map(w.prettyPrint,b_))+"|]":(ca=a.String(b_),ca==="[object Object]"?"{"+Q.concat("; ",M.map(function(cc){return cb(cc[0],cc[1]);},l.GetFields(b_)))+"}":ca):a.String(b_));};w.toSafe=function(b_){return b_==null?"":b_;};w.printArray=function(b_,b$){return b$===null?"null":"[|"+Q.concat("; ",M.map(b_,b$))+"|]";};w.printList=function(b_,b$){return"["+Q.concat("; ",L.map(b_,b$))+"]";};y=x.attr=b5.Class({},q,y);A.LoadLocalTemplates=function(b_){!A.LocalTemplatesLoaded()?(A.set_LocalTemplatesLoaded(true),A.LoadNestedTemplates(self.document.body,"")):void 0;A.LoadedTemplates().set_Item(b_,A.LoadedTemplateFile(""));};A.LocalTemplatesLoaded=function(){bg.$cctor();return bg.LocalTemplatesLoaded;};A.set_LocalTemplatesLoaded=function(b_){bg.$cctor();bg.LocalTemplatesLoaded=b_;};A.LoadNestedTemplates=function(b_,b$){var cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co;function ca(cp){var cq,cr;if(!cb.ContainsKey(cp)){cq=(cr=null,[cc.TryGetValue(cp,{get:function(){return cr;},set:function(cs){cr=cs;}}),cr]);cq[0]?(co.Add(cp),cc.Remove(cp),A.PrepareTemplateStrict(b$,{$:1,$0:cp},cq[1][0],{$:1,$0:cq[1][1]},{$:1,$0:ca})):b7.warn(co.Contains(cp)?"Encountered loop when instantiating "+cp:"Local template does not exist: "+cp);}}cb=A.LoadedTemplateFile(b$);cc=new T.New$5();cd=b_.querySelectorAll("[ws-template]");for(ce=0,cf=cd.length-1;ce<=cf;ce++){cg=cd[ce];ch=cg.getAttribute("ws-template").toLowerCase();cg.removeAttribute("ws-template");cc.set_Item(ch,[[cg],A.FakeRootSingle(cg)]);}ci=b_.querySelectorAll("[ws-children-template]");for(cj=0,ck=ci.length-1;cj<=ck;cj++){cl=ci[cj];cm=cl.getAttribute("ws-children-template").toLowerCase();cl.removeAttribute("ws-children-template");cc.set_Item(cm,(cn=V.ChildrenArray(cl),[cn,A.FakeRoot(cn)]));}co=new bh.New$3();while(cc.count>0)ca(L.head(cc.get_Keys()));};A.LoadedTemplates=function(){bg.$cctor();return bg.LoadedTemplates;};A.LoadedTemplateFile=function(b_){var b$,ca,cb;b$=(ca=null,[A.LoadedTemplates().TryGetValue(b_,{get:function(){return ca;},set:function(cc){ca=cc;}}),ca]);return b$[0]?b$[1]:(cb=new T.New$5(),(A.LoadedTemplates().set_Item(b_,cb),cb));};A.FakeRootSingle=function(b_){var b$,ca,cb;b_.removeAttribute("ws-template");b$=b_.getAttribute("ws-replace");b$===null?void 0:(b_.removeAttribute("ws-replace"),ca=b_.parentNode,P.Equals(ca,null)?void 0:(cb=self.document.createElement(b_.tagName),cb.setAttribute("ws-replace",b$),ca.replaceChild(cb,b_)));return A.FakeRoot([b_]);};A.FakeRoot=function(b_){var b$,ca,cb;b$=self.document.createElement("div");for(ca=0,cb=b_.length-1;ca<=cb;ca++)b$.appendChild(M.get(b_,ca));return b$;};A.PrepareTemplateStrict=function(b_,b$,ca,cb,cc){var cd,ce;function cf(ck,cl){var cm,cn,co,cp,cq,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM;function cr(cN){}while(true)switch(ck){case 0:if(cl!==null){cm=cl.nextSibling;if(P.Equals(cl.nodeType,j.TEXT_NODE))bu.convertTextNode(cl);else if(P.Equals(cl.nodeType,j.ELEMENT_NODE))ch(cl);cl=cm;}else return null;break;case 1:cs=Y.string(cl.nodeName,{$:1,$0:3},null).toLowerCase();ct=(cn=cs.indexOf("."),cn===-1?[b_,cs]:[Y.string(cs,null,{$:1,$0:cn-1}),Y.string(cs,{$:1,$0:cn+1},null)]);cu=ct[1];cv=ct[0];if(cv!==""&&!A.LoadedTemplates().ContainsKey(cv))return bu.failNotLoaded(cu);else{if(cv===""&&cc!=null)cc.$0(cu);cw=A.LoadedTemplates().get_Item(cv);if(!cw.ContainsKey(cu))return bu.failNotLoaded(cu);else{cx=cw.get_Item(cu);cy=cx.cloneNode(true);cz=new bh.New$3();cA=new T.New$5();cB=cl.attributes;for(cC=0,cD=cB.length-1;cC<=cD;cC++){cE=cB.item(cC).name.toLowerCase();cA.set_Item(cE,(cF=cB.item(cC).nodeValue,cF===""?cE:cF.toLowerCase()));!cz.Add(cE)?b7.warn("Hole mapped twice",cE):void 0;}for(cG=0,cH=cl.childNodes.length-1;cG<=cH;cG++){cI=cl.childNodes[cG];P.Equals(cI.nodeType,j.ELEMENT_NODE)?!cz.Add(cI.nodeName.toLowerCase())?b7.warn("Hole filled twice",cu):void 0:void 0;}cJ=cl.childNodes.length===1&&P.Equals(cl.firstChild.nodeType,j.TEXT_NODE);if(cJ){cp=bu.fillTextHole(cy,cl.firstChild.textContent,cu);((function(cN){return function(cO){if(cO!=null)cN(cO.$0);};}((cq=function(cN){return function(cO){return cN.Add(cO);};}(cz),function(cN){return cr(cq(cN));})))(cp));}bu.removeHolesExcept(cy,cz);if(!cJ){for(cK=0,cL=cl.childNodes.length-1;cK<=cL;cK++){cM=cl.childNodes[cK];P.Equals(cM.nodeType,j.ELEMENT_NODE)?cM.hasAttributes()?bu.fillInstanceAttrs(cy,cM):cg(cy,cM):void 0;}}bu.mapHoles(cy,cA);bu.fill(cy,cl.parentNode,cl);cl.parentNode.removeChild(cl);return;}}break;}}function cg(ck,cl){var cm,co,cp;function cn(cq,cr){var cs,ct,cu;if(co==="title"&&cl.hasChildNodes()){cs=b8.parseHTML(cl.textContent);cl.removeChild(cl.firstChild);for(ct=0,cu=cs.length-1;ct<=cu;ct++)cl.appendChild(M.get(cs,ct));}else null;ch(cl);return bu.fill(cl,cq,cr);}co=cl.nodeName.toLowerCase();V.IterSelector(ck,"[ws-attr-holes]",function(cq){var cr,cs,ct,cu,cv;cr=Q.SplitChars(cq.getAttribute("ws-attr-holes"),[" "],1);for(cs=0,ct=cr.length-1;cs<=ct;cs++){cu=M.get(cr,cs);cq.setAttribute(cu,(cv=new a.RegExp("\\${"+co+"}","ig"),cq.getAttribute(cu).replace(cv,cl.textContent)));}});cp=ck.querySelector("[ws-hole="+co+"]");if(P.Equals(cp,null)){cm=ck.querySelector("[ws-replace="+co+"]");return P.Equals(cm,null)?null:(cn(cm.parentNode,cm),void cm.parentNode.removeChild(cm));}else{while(cp.hasChildNodes())cp.removeChild(cp.lastChild);cp.removeAttribute("ws-hole");return cn(cp,null);}}function ch(ck){if(Q.StartsWith(ck.nodeName.toLowerCase(),"ws-"))cj(ck);else{bu.convertAttrs(ck);ci(ck.firstChild);}}function ci(ck){return cf(0,ck);}function cj(ck){return cf(1,ck);}cd=cb==null?A.FakeRoot(ca):cb.$0;ce=(b$==null?"":b$.$0).toLowerCase();A.LoadedTemplateFile(b_).set_Item(ce,cd);M.length(ca)>0?(function(ck){var cl,cm,cn,co;while(true){cl=ck.querySelector("[ws-template]");if(P.Equals(cl,null)){cm=ck.querySelector("[ws-children-template]");if(P.Equals(cm,null))return null;else{cn=cm.getAttribute("ws-children-template");cm.removeAttribute("ws-children-template");A.PrepareTemplateStrict(b_,{$:1,$0:cn},V.ChildrenArray(cm),null,null);ck=ck;}}else{co=cl.getAttribute("ws-template");(A.PrepareSingleTemplate(b_,{$:1,$0:co},cl))(null);ck=ck;}}}(cd),ci(M.get(ca,0))):void 0;};A.PrepareSingleTemplate=function(b_,b$,ca){var cb,cc,cd;cb=A.FakeRootSingle(ca);cc=[ca];cd={$:1,$0:cb};return function(ce){A.PrepareTemplateStrict(b_,b$,cc,cd,ce);};};A.TextHoleRE=function(){bg.$cctor();return bg.TextHoleRE;};B=m.Doc=b5.Class({},q,B);B.Run=function(b_,b$){U.LinkElement(b_,b$.docNode);B.RunInPlace(false,b_,b$);};B.TextNode=function(b_){return B.Mk({$:5,$0:V.CreateText(b_)},n.Const());};B.Button=function(b_,b$,ca){var cb;cb=R.Concat(b$);return bq.New(B.Clickable("button",ca),cb,B.TextNode(b_));};B.CheckBox=function(b_,b$){return B.InputInternal("input",function(){return L.append(b_,[R.Create("type","checkbox"),ba.Checked(b$)]);});};B.InputArea=function(b_,b$){return B.InputInternal("textarea",function(){return L.append(b_,[ba.Value(b$)]);});};B.get_Empty=function(){return B.Mk(null,n.Const());};B.Concat=function(b_){var b$;b$=be.ofSeqNonCopying(b_);return be.TreeReduce(B.get_Empty(),B.Append,b$);};B.TextView=function(b_){var b$;b$=U.CreateTextNode();return B.Mk({$:4,$0:b$},n.Map(function(ca){U.UpdateTextNode(b$,ca);},b_));};B.RunInPlace=function(b_,b$,ca){var cb;cb=U.CreateRunState(b$,ca.docNode);n.Sink(bi.get_UseAnimations()||bj.BatchUpdatesEnabled()?bl.StartProcessor(U.PerformAnimatedUpdate(b_,cb,ca.docNode)):function(){U.PerformSyncUpdate(b_,cb,ca.docNode);},ca.updates);};B.Element=function(b_,b$,ca){var cb,cc;cb=R.Concat(b$);cc=B.Concat(ca);return bq.New(V.CreateElement(b_),cb,cc);};B.Mk=function(b_,b$){return new B.New(b_,b$);};B.Clickable=function(b_,b$){var ca;ca=V.CreateElement(b_);ca.addEventListener("click",function(cb){cb.preventDefault();return b$();},false);return ca;};B.InputInternal=function(b_,b$){var ca;ca=V.CreateElement(b_);return bq.New(ca,R.Concat(b$(ca)),B.get_Empty());};B.BindView=function(b_,b$){return B.EmbedView(n.Map(b_,b$));};B.Append=function(b_,b$){return B.Mk({$:0,$0:b_.docNode,$1:b$.docNode},n.Map2Unit(b_.updates,b$.updates));};B.EmbedView=function(b_){var b$;b$=U.CreateEmbedNode();return B.Mk({$:2,$0:b$},n.Map(a.ignore,n.Bind(function(ca){U.UpdateEmbedNode(b$,ca.docNode);return ca.updates;},b_)));};B.New=b5.Ctor(function(b_,b$){q.New.call(this);this.docNode=b_;this.updates=b$;},B);C.NewFromSeq=function(b_){var b$,ca,cb;b$={};ca=bc.Get(b_);try{while(ca.MoveNext()){cb=ca.Current();b$[cb[0]]=cb[1];}}finally{if(typeof ca=="object"&&"Dispose"in ca)ca.Dispose();}return b$;};E.Map=function(b_,b$){var ca,cb;ca=b$.s;return ca!=null&&ca.$==0?E.New({$:0,$0:b_(ca.$0)}):(cb=E.New({$:3,$0:[],$1:[]}),(E.When(b$,function(cc){E.MarkDone(cb,b$,b_(cc));},cb),cb));};E.WhenObsoleteRun=function(b_,b$){var ca;ca=b_.s;ca==null?b$():ca!=null&&ca.$==2?ca.$1.push(b$):ca!=null&&ca.$==3?ca.$1.push(b$):void 0;};E.When=function(b_,b$,ca){var cb;cb=b_.s;cb==null?E.Obsolete(ca):cb!=null&&cb.$==2?(E.EnqueueSafe(cb.$1,ca),b$(cb.$0)):cb!=null&&cb.$==3?(cb.$0.push(b$),E.EnqueueSafe(cb.$1,ca)):b$(cb.$0);};E.MarkDone=function(b_,b$,ca){var cb;if(cb=b$.s,cb!=null&&cb.$==0)E.MarkForever(b_,ca);else E.MarkReady(b_,ca);};E.EnqueueSafe=function(b_,b$){var ca,cb,cc,cd;b_.push(b$);if(b_.length%20===0){ca=b_.slice(0);bR.Clear(b_);for(cb=0,cc=M.length(ca)-1;cb<=cc;cb++){cd=M.get(ca,cb);typeof cd=="object"?function(ce){if(ce.s)b_.push(ce);}(cd):function(ce){b_.push(ce);}(cd);}}else void 0;};E.MarkForever=function(b_,b$){var ca,cb,cc,cd;ca=b_.s;if(ca!=null&&ca.$==3){b_.s={$:0,$0:b$};cb=ca.$0;for(cc=0,cd=M.length(cb)-1;cc<=cd;cc++)(M.get(cb,cc))(b$);}else void 0;};E.MarkReady=function(b_,b$){var ca,cb,cc,cd;ca=b_.s;if(ca!=null&&ca.$==3){b_.s={$:2,$0:b$,$1:ca.$1};cb=ca.$0;for(cc=0,cd=M.length(cb)-1;cc<=cd;cc++)(M.get(cb,cc))(b$);}else void 0;};E.WhenRun=function(b_,b$,ca){var cb;cb=b_.s;cb==null?ca():cb!=null&&cb.$==2?(cb.$1.push(ca),b$(cb.$0)):cb!=null&&cb.$==3?(cb.$0.push(b$),cb.$1.push(ca)):b$(cb.$0);};E.Map2Unit=function(b_,b$){var ca,cb,cc;function cd(){var ce,cf,cg;if(!(ce=cc.s,ce!=null&&ce.$==0||ce!=null&&ce.$==2)){cf=E.ValueAndForever(b_);cg=E.ValueAndForever(b$);cf!=null&&cf.$==1?cg!=null&&cg.$==1?cf.$0[1]&&cg.$0[1]?E.MarkForever(cc,null):E.MarkReady(cc,null):void 0:void 0;}}ca=b_.s;cb=b$.s;return ca!=null&&ca.$==0?cb!=null&&cb.$==0?E.New({$:0,$0:null}):b$:cb!=null&&cb.$==0?b_:(cc=E.New({$:3,$0:[],$1:[]}),(E.When(b_,cd,cc),E.When(b$,cd,cc),cc));};E.Copy=function(b_){var b$,ca,cb;b$=b_.s;return b$==null?b_:b$!=null&&b$.$==2?(ca=E.New({$:2,$0:b$.$0,$1:[]}),(E.WhenObsolete(b_,ca),ca)):b$!=null&&b$.$==3?(cb=E.New({$:3,$0:[],$1:[]}),(E.When(b_,function(cc){E.MarkDone(cb,b_,cc);},cb),cb)):b_;};E.ValueAndForever=function(b_){var b$;b$=b_.s;return b$!=null&&b$.$==0?{$:1,$0:[b$.$0,true]}:b$!=null&&b$.$==2?{$:1,$0:[b$.$0,false]}:null;};E.WhenObsolete=function(b_,b$){var ca;ca=b_.s;ca==null?E.Obsolete(b$):ca!=null&&ca.$==2?E.EnqueueSafe(ca.$1,b$):ca!=null&&ca.$==3?E.EnqueueSafe(ca.$1,b$):void 0;};E.Join=function(b_){var b$;b$=E.New({$:3,$0:[],$1:[]});E.When(b_,function(ca){var cb;cb=ca();E.When(cb,function(cc){var cd,ce;if((cd=cb.s,cd!=null&&cd.$==0)&&(ce=b_.s,ce!=null&&ce.$==0))E.MarkForever(b$,cc);else E.MarkReady(b$,cc);},b$);},b$);return b$;};F.$cctor=function(){var b_,b$,ca;F.$cctor=a.ignore;function cb(cg){return Q.concat("\n",cg);}function cc(cg){return X.splitByChar("\n",cg);}function cd(cg){var ch,ci;return Y.array(cg,{$:1,$0:0},{$:1,$0:(ch=0,(ci=M.length(cg)-2,P.Compare(ch,ci)===1?ch:ci))});}function ce(cg){return Q.concat("\n",cg);}function cf(cg){return cg+"T00:00:00";}F.unindentStr=function(cg){return cb(X.unindent(cg));};F.skipLastLine=(b_=function(cg){return cd(cc(cg));},function(cg){return ce(b_(cg));});F.parseDateO2=(b$=Z.tryParseWith(function(cg){var ch,ci;ch=0;return[(ci=bm.TryParse(cg),ci!=null&&ci.$==1&&(ch=ci.$0,true)),ch];}),function(cg){return b$(cf(cg));});F.parseDateO=Z.tryParseWith(function(cg){var ch,ci;ch=0;return[(ci=bm.TryParse(cg),ci!=null&&ci.$==1&&(ch=ci.$0,true)),ch];});F.parseIntO=Z.tryParseWith(function(cg){var ch;ch=0;return[_0.TryParseInt32(cg,{get:function(){return ch;},set:function(ci){ch=ci;}}),ch];});F.parseInt64O=Z.tryParseWith(function(cg){var ch;ch=0;return[_0.TryParseInt64(cg,{get:function(){return ch;},set:function(ci){ch=ci;}}),ch];});F.parseSingleO=Z.tryParseWith(function(cg){var ch,ci;ch=0;return[(ci=a.Number(cg),a.isNaN(ci)?false:(ch=ci,true)),ch];});F.parseDoubleO=Z.tryParseWith(function(cg){var ch,ci;ch=0;return[(ci=a.Number(cg),a.isNaN(ci)?false:(ch=ci,true)),ch];});F.parseGuidO=Z.tryParseWith(function(cg){var ch;ch=null;return[_2.TryParse(cg,{get:function(){return ch;},set:function(ci){ch=ci;}}),ch];});F["|Date|_|"]=Z.parseDateO();F["|Int|_|"]=Z.parseIntO();F["|Int64|_|"]=Z.parseInt64O();F["|Single|_|"]=Z.parseSingleO();F["|Double|_|"]=Z.parseDoubleO();F["|Guid|_|"]=Z.parseGuidO();F.wasmStatusV=_3.Create$1(G.WasmNotLoaded);F.originalProvider=u.AjaxProvider();F.queues=new T.New$5();F.messaging=new I.New(K.New(function(cg){return function(ch){return self.WASM_WsTranslator_FsRoot_WsTranslator_runRpc(cg,ch);};},function(cg){J.returnValue0(cg[0],cg[1]);},function(cg){J.returnExn0(cg[0],cg[1]);},function(cg){return function(ch){return cg("EARLY PRINTING!: "+w.toSafe(ch));};}(function(cg){b7.log(cg);})));F.rv=function(cg){J.returnValue(cg[0],cg[1]);};F.re=function(cg){J.returnExn(cg[0],cg[1]);};F.workerO=null;F.rootPath="/WASM/publish/";F.detailsV=_3.Create$1("");F.fsErrsV=_3.Create$1([]);F.wsErrsV=_3.Create$1([]);F.wsWrnsV=_3.Create$1([]);F.debugV=_3.Create$1(false);F.codeV=_3.Create$1("\r\n            open WebSharper\r\n            open WebSharper.UI\r\n            open WebSharper.UI.Html\r\n            \r\n            let name = Var.Create \"World\"\r\n            \r\n            [< Inline \"'Hello inline '\" >]\r\n            let bDoc() = \"Hello\"\r\n            \r\n            let cDoc() = text name.V\r\n            \r\n            let aDoc() = \r\n                div [] [\r\n                    text <| bDoc()\r\n                    cDoc()\r\n                ]\r\n            \r\n                    ");F.optsV=_3.Create$1(Q.concat("\n",L.map(Q.Trim,Q.SplitChars("\r\n                                            /tmp/source.fsx\r\n                                            -o:source.exe\r\n                                            --simpleresolution\r\n                                            --nowarn:3186\r\n                                            --optimize-\r\n                                            --noframework\r\n                                            --fullpaths\r\n                                            --warn:3\r\n                                            --target:exe\r\n                                            -r:/dlls/WebSharper.Core.dll\r\n                                            -r:/dlls/WebSharper.Main.dll\r\n                                            -r:/dlls/WebSharper.UI.dll\r\n                                            -r:/dlls/WebSharper.Sitelets.dll\r\n                                            -r:/managed/FSharp.Core.dll\r\n                                            -r:/managed/mscorlib.dll\r\n                                            -r:/managed/netstandard.dll\r\n                                            -r:/managed/System.dll\r\n                                            -r:/managed/System.Core.dll\r\n                                            -r:/managed/System.IO.dll\r\n                                            -r:/managed/System.Runtime.dll\r\n                                            -r:/managed/System.Net.Http.dll\r\n                                            -r:/managed/System.Threading.dll\r\n                                            -r:/managed/System.Numerics.dll\r\n                                            -r:/managed/System.Runtime.Numerics.dll\r\n                                        ",["\n"],0))));!(!self.document)?J.messaging().set_D((ca=J.messaging().get_D(),K.New(ca.runRpc,ca.returnValue,ca.returnExn,function(cg){var ch;b7.log(cg);ch=h.detailsV().Get();h.detailsV().Set(ch+(ch===""?"":"\n")+cg);}))):void 0;};G.WasmLoading={$:1};G.WasmWorkerLoading={$:3};G.WasmWorkerLoaded={$:4};G.WasmLoaded={$:2};G.WasmNotLoaded={$:0};I=H.Dependency=b5.Class({set_D:function(b_){this.D=b_;},get_D:function(){return this.D;}},q,I);I.New=b5.Ctor(function(b_){q.New.call(this);this.D=b_;},I);J.messaging=function(){F.$cctor();return F.messaging;};J.returnValue0=function(b_,b$){var ca,cb,cc;ca=_5.tryGet(b_);ca==null?void 0:(cb=ca.$0,cc=cb[0],cb[1],cc(b$));};J.returnExn0=function(b_,b$){J.returnExnExn(b_,new bD(b$));};J.installProvider=function(){u.set_AjaxProvider(new _6.New());};J.returnValue=function(b_,b$){J.messaging().get_D().returnValue([b_,b$]);};J.returnExn=function(b_,b$){J.messaging().get_D().returnExn([b_,b$]);};J.returnExnExn=function(b_,b$){var ca,cb;ca=_5.tryGet(b_);ca==null?void 0:(cb=ca.$0,cb[0],cb[1](b$));};J.getHeaderRpc=function(b_){return b_["x-websharper-rpc"];};J.callRunRpc=function(b_,b$){(J.messaging().get_D().runRpc(b_))(b$);};K.New=function(b_,b$,ca,cb){return{runRpc:b_,returnValue:b$,returnExn:ca,wprintfn:cb};};L.map=function(b_,b$){return{GetEnumerator:function(){var ca;ca=bc.Get(b$);return new bd.New(null,null,function(cb){return ca.MoveNext()&&(cb.c=b_(ca.Current()),true);},function(){ca.Dispose();});}};};L.delay=function(b_){return{GetEnumerator:function(){return bc.Get(b_());}};};L.append=function(b_,b$){return{GetEnumerator:function(){var ca,cb;ca=bc.Get(b_);cb=[true];return new bd.New(ca,null,function(cc){var cd;return cc.s.MoveNext()?(cc.c=cc.s.Current(),true):(cd=cc.s,!P.Equals(cd,null)?cd.Dispose():void 0,cc.s=null,cb[0]&&(cb[0]=false,cc.s=bc.Get(b$),cc.s.MoveNext()?(cc.c=cc.s.Current(),true):(cc.s.Dispose(),cc.s=null,false)));},function(cc){var cd;cd=cc.s;!P.Equals(cd,null)?cd.Dispose():void 0;});}};};L.distinct=function(b_){return L.distinctBy(a.id,b_);};L.cache=function(b_){var b$,ca;b$=[];ca=[bc.Get(b_)];return{GetEnumerator:function(){return new bd.New(0,null,function(cb){var cc;return cb.s<b$.length?(cb.c=b$[cb.s],cb.s=cb.s+1,true):(cc=ca[0],P.Equals(cc,null)?false:cc.MoveNext()?(cb.s=cb.s+1,cb.c=cc.Current(),b$.push(cb.c),true):(cc.Dispose(),ca[0]=null,false));},void 0);}};};L.iter=function(b_,b$){var ca;ca=bc.Get(b$);try{while(ca.MoveNext())b_(ca.Current());}finally{if(typeof ca=="object"&&"Dispose"in ca)ca.Dispose();}};L.head=function(b_){var b$;b$=bc.Get(b_);try{return b$.MoveNext()?b$.Current():L.insufficient();}finally{if(typeof b$=="object"&&"Dispose"in b$)b$.Dispose();}};L.tryFind=function(b_,b$){var ca,cb,cc;ca=bc.Get(b$);try{cb=null;while(cb==null&&ca.MoveNext()){cc=ca.Current();b_(cc)?cb={$:1,$0:cc}:void 0;}return cb;}finally{if(typeof ca=="object"&&"Dispose"in ca)ca.Dispose();}};L.tryFindIndex=function(b_,b$){var ca,cb,cc;ca=bc.Get(b$);try{cb=true;cc=0;while(cb&&ca.MoveNext())if(b_(ca.Current()))cb=false;else cc=cc+1;return cb?null:{$:1,$0:cc};}finally{if(typeof ca=="object"&&"Dispose"in ca)ca.Dispose();}};L.filter=function(b_,b$){return{GetEnumerator:function(){var ca;ca=bc.Get(b$);return new bd.New(null,null,function(cb){var cc,cd,ce;cc=ca.MoveNext();cd=ca.Current();ce=false;while(cc)if(b_(cd)){cb.c=cd;ce=true;cc=false;}else if(ca.MoveNext())cd=ca.Current();else cc=false;return ce;},function(){ca.Dispose();});}};};L.collect=function(b_,b$){return L.concat(L.map(b_,b$));};L.distinctBy=function(b_,b$){return{GetEnumerator:function(){var ca,cb;ca=bc.Get(b$);cb=new bh.New$3();return new bd.New(null,null,function(cc){var cd,ce;if(ca.MoveNext()){cd=ca.Current();ce=cb.Add(b_(cd));while(!ce&&ca.MoveNext()){cd=ca.Current();ce=cb.Add(b_(cd));}return ce&&(cc.c=cd,true);}else return false;},function(){ca.Dispose();});}};};L.concat=function(b_){return{GetEnumerator:function(){var b$;b$=bc.Get(b_);return new bd.New(null,null,function(ca){var cb;while(true){cb=ca.s;if(P.Equals(cb,null)){if(b$.MoveNext()){ca.s=bc.Get(b$.Current());ca=ca;}else{b$.Dispose();return false;}}else if(cb.MoveNext()){ca.c=cb.Current();return true;}else{ca.Dispose();ca.s=null;ca=ca;}}},function(ca){var cb;cb=ca.s;!P.Equals(cb,null)?cb.Dispose():void 0;!P.Equals(b$,null)?b$.Dispose():void 0;});}};};L.fold=function(b_,b$,ca){var cb,cc;cb=b$;cc=bc.Get(ca);try{while(cc.MoveNext())cb=b_(cb,cc.Current());return cb;}finally{if(typeof cc=="object"&&"Dispose"in cc)cc.Dispose();}};L.max=function(b_){var b$,ca,cb;b$=bc.Get(b_);try{if(!b$.MoveNext())L.seqEmpty();ca=b$.Current();while(b$.MoveNext()){cb=b$.Current();P.Compare(cb,ca)===1?ca=cb:void 0;}return ca;}finally{if(typeof b$=="object"&&"Dispose"in b$)b$.Dispose();}};L.seqEmpty=function(){return e.FailWith("The input sequence was empty.");};M.filter=function(b_,b$){var ca,cb,cc;ca=[];for(cb=0,cc=b$.length-1;cb<=cc;cb++)if(b_(b$[cb]))ca.push(b$[cb]);return ca;};M.map=function(b_,b$){var ca,cb,cc;ca=new a.Array(b$.length);for(cb=0,cc=b$.length-1;cb<=cc;cb++)ca[cb]=b_(b$[cb]);return ca;};M.choose=function(b_,b$){var ca,cb,cc,cd;ca=[];for(cb=0,cc=b$.length-1;cb<=cc;cb++){cd=b_(b$[cb]);cd==null?void 0:ca.push(cd.$0);}return ca;};M.ofSeq=function(b_){var b$,ca;if(b_ instanceof a.Array)return b_.slice();else if(b_ instanceof O)return M.ofList(b_);else{b$=[];ca=bc.Get(b_);try{while(ca.MoveNext())b$.push(ca.Current());return b$;}finally{if(typeof ca=="object"&&"Dispose"in ca)ca.Dispose();}}};M.ofList=function(b_){var b$,ca;ca=[];b$=b_;while(!(b$.$==0)){ca.push(N.head(b$));b$=N.tail(b$);}return ca;};M.exists=function(b_,b$){var ca,cb,cc,cd;ca=false;cb=0;cd=M.length(b$);while(!ca&&cb<cd)if(b_(b$[cb]))ca=true;else cb=cb+1;return ca;};M.tryPick=function(b_,b$){var ca,cb,cc;ca=null;cb=0;while(cb<b$.length&&ca==null){cc=b_(b$[cb]);cc!=null&&cc.$==1?ca=cc:void 0;cb=cb+1;}return ca;};M.tryFindIndex=function(b_,b$){var ca,cb;ca=null;cb=0;while(cb<b$.length&&ca==null){b_(b$[cb])?ca={$:1,$0:cb}:void 0;cb=cb+1;}return ca;};M.foldBack=function(b_,b$,ca){var cb,cc,cd,ce,cf;cb=ca;cd=b$.length;for(ce=1,cf=cd;ce<=cf;ce++)cb=b_(b$[cd-ce],cb);return cb;};M.iter=function(b_,b$){var ca,cb;for(ca=0,cb=b$.length-1;ca<=cb;ca++)b_(b$[ca]);};M.concat=function(b_){return a.Array.prototype.concat.apply([],M.ofSeq(b_));};M.pick=function(b_,b$){var ca;ca=M.tryPick(b_,b$);return ca==null?e.FailWith("KeyNotFoundException"):ca.$0;};M.create=function(b_,b$){var ca,cb,cc;ca=new a.Array(b_);for(cb=0,cc=b_-1;cb<=cc;cb++)ca[cb]=b$;return ca;};M.init=function(b_,b$){var ca,cb,cc;b_<0?e.FailWith("Negative size given."):null;ca=new a.Array(b_);for(cb=0,cc=b_-1;cb<=cc;cb++)ca[cb]=b$(cb);return ca;};M.forall=function(b_,b$){var ca,cb,cc,cd;ca=true;cb=0;cd=M.length(b$);while(ca&&cb<cd)if(b_(b$[cb]))cb=cb+1;else ca=false;return ca;};O=N.T=b5.Class({GetEnumerator:function(){return new bd.New(this,null,function(b_){var b$;b$=b_.s;return b$.$==0?false:(b_.c=b$.$0,b_.s=b$.$1,true);},void 0);},GetEnumerator0:function(){return bc.Get(this);}},null,O);O.Empty=new O({$:0});P.Equals=function(b_,b$){var ca,cb,cc,cd;if(b_===b$)return true;else{ca=typeof b_;if(ca=="object"){if(b_===null||b_===void 0||b$===null||b$===void 0)return false;else if("Equals"in b_)return b_.Equals(b$);else if(b_ instanceof a.Array&&b$ instanceof a.Array)return P.arrayEquals(b_,b$);else if(b_ instanceof a.Date&&b$ instanceof a.Date)return P.dateEquals(b_,b$);else{cb=[true];for(var ce in b_)if(function(cf){cb[0]=!b_.hasOwnProperty(cf)||b$.hasOwnProperty(cf)&&P.Equals(b_[cf],b$[cf]);return!cb[0];}(ce))break;if(cb[0]){for(var cf in b$)if(function(cg){cb[0]=!b$.hasOwnProperty(cg)||b_.hasOwnProperty(cg);return!cb[0];}(cf))break;}return cb[0];}}else return ca=="function"&&("$Func"in b_?b_.$Func===b$.$Func&&b_.$Target===b$.$Target:"$Invokes"in b_&&"$Invokes"in b$&&P.arrayEquals(b_.$Invokes,b$.$Invokes));}};P.Compare=function(b_,b$){var ca,cb,cc,cd,ce,cf;if(b_===b$)return 0;else{cb=typeof b_;switch(cb=="function"?1:cb=="boolean"?2:cb=="number"?2:cb=="string"?2:cb=="object"?3:0){case 0:return typeof b$=="undefined"?0:-1;case 1:return e.FailWith("Cannot compare function values.");case 2:return b_<b$?-1:1;case 3:if(b_===null)cc=-1;else if(b$===null)cc=1;else if("CompareTo"in b_)cc=b_.CompareTo(b$);else if("CompareTo0"in b_)cc=b_.CompareTo0(b$);else if(b_ instanceof a.Array&&b$ instanceof a.Array)cc=P.compareArrays(b_,b$);else if(b_ instanceof a.Date&&b$ instanceof a.Date)cc=P.compareDates(b_,b$);else{cd=[0];for(var cg in b_)if(function(ch){return!b_.hasOwnProperty(ch)?false:!b$.hasOwnProperty(ch)?(cd[0]=1,true):(cd[0]=P.Compare(b_[ch],b$[ch]),cd[0]!==0);}(cg))break;if(cd[0]===0){for(var ch in b$)if(function(ci){return!b$.hasOwnProperty(ci)?false:!b_.hasOwnProperty(ci)&&(cd[0]=-1,true);}(ch))break;}cc=cd[0];}return cc;}}};P.arrayEquals=function(b_,b$){var ca,cb;if(M.length(b_)===M.length(b$)){ca=true;cb=0;while(ca&&cb<M.length(b_)){!P.Equals(M.get(b_,cb),M.get(b$,cb))?ca=false:void 0;cb=cb+1;}return ca;}else return false;};P.dateEquals=function(b_,b$){return b_.getTime()===b$.getTime();};P.compareArrays=function(b_,b$){var ca,cb;if(M.length(b_)<M.length(b$))return -1;else if(M.length(b_)>M.length(b$))return 1;else{ca=0;cb=0;while(ca===0&&cb<M.length(b_)){ca=P.Compare(M.get(b_,cb),M.get(b$,cb));cb=cb+1;}return ca;}};P.compareDates=function(b_,b$){return P.Compare(b_.getTime(),b$.getTime());};P.Hash=function(b_){var b$;b$=typeof b_;return b$=="function"?0:b$=="boolean"?b_?1:0:b$=="number"?b_:b$=="string"?P.hashString(b_):b$=="object"?b_==null?0:b_ instanceof a.Array?P.hashArray(b_):P.hashObject(b_):0;};P.hashString=function(b_){var b$,ca,cb;if(b_===null)return 0;else{b$=5381;for(ca=0,cb=b_.length-1;ca<=cb;ca++)b$=P.hashMix(b$,b_[ca].charCodeAt());return b$;}};P.hashArray=function(b_){var b$,ca,cb;b$=-34948909;for(ca=0,cb=M.length(b_)-1;ca<=cb;ca++)b$=P.hashMix(b$,P.Hash(M.get(b_,ca)));return b$;};P.hashObject=function(b_){var b$,ca;if("GetHashCode"in b_)return b_.GetHashCode();else{b$=[0];for(var cb in b_)if(function(cc){b$[0]=P.hashMix(P.hashMix(b$[0],P.hashString(cc)),P.Hash(b_[cc]));return false;}(cb))break;return b$[0];}};P.hashMix=function(b_,b$){return(b_<<5)+b_+b$;};M.length=function(b_){return b_.dims===2?b_.length*b_.length:b_.length;};M.get=function(b_,b$){M.checkBounds(b_,b$);return b_[b$];};M.set=function(b_,b$,ca){M.checkBounds(b_,b$);b_[b$]=ca;};M.checkBounds=function(b_,b$){if(b$<0||b$>=b_.length)e.FailWith("Index was outside the bounds of the array.");};Q.concat=function(b_,b$){return M.ofSeq(b$).join(b_);};Q.SplitChars=function(b_,b$,ca){return Q.Split(b_,new a.RegExp("["+Q.RegexEscape(b$.join(""))+"]"),ca);};Q.Trim=function(b_){return b_.replace(new a.RegExp("^\\s+"),"").replace(new a.RegExp("\\s+$"),"");};Q.Replace=function(b_,b$,ca){function cb(cc){var cd,ce,cf;cd=cc.indexOf(b$);return cd!==-1?(ce=Q.ReplaceOnce(cc,b$,ca),(cf=cd+ca.length,Q.Substring(ce,0,cd+ca.length)+cb(ce.substring(cf)))):cc;}return cb(b_);};Q.Split=function(b_,b$,ca){return ca===1?M.filter(function(cb){return cb!=="";},Q.SplitWith(b_,b$)):Q.SplitWith(b_,b$);};Q.RegexEscape=function(b_){return b_.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};Q.StartsWith=function(b_,b$){return b_.substring(0,b$.length)==b$;};Q.ReplaceOnce=function(b_,b$,ca){return b_.replace(b$,ca);};Q.SplitWith=function(b_,b$){return b_.split(b$);};Q.Substring=function(b_,b$,ca){return b_.substr(b$,ca);};R=m.AttrProxy=b5.Class({},null,R);R.Create=function(b_,b$){return bf.Static(function(ca){V.SetAttr(ca,b_,b$);});};R.Concat=function(b_){var b$;b$=be.ofSeqNonCopying(b_);return be.TreeReduce(bf.EmptyAttr(),R.Append,b$);};R.Append=function(b_,b$){return bf.AppendTree(b_,b$);};T=S.Dictionary=b5.Class({set_Item:function(b_,b$){this.set(b_,b$);},ContainsKey:function(b_){var b$,ca;b$=this;ca=this.data[this.hash(b_)];return ca==null?false:M.exists(function(cb){return b$.equals.apply(null,[(e.KeyValue(cb))[0],b_]);},ca);},TryGetValue:function(b_,b$){var ca,cb,cc;ca=this;cb=this.data[this.hash(b_)];return cb==null?false:(cc=M.tryPick(function(cd){var ce;ce=e.KeyValue(cd);return ca.equals.apply(null,[ce[0],b_])?{$:1,$0:ce[1]}:null;},cb),cc!=null&&cc.$==1&&(b$.set(cc.$0),true));},Remove:function(b_){return this.remove(b_);},get_Keys:function(){return new bv.New(this);},set:function(b_,b$){var ca,cb,cc,cd;ca=this;cb=this.hash(b_);cc=this.data[cb];cc==null?(this.count=this.count+1,this.data[cb]=new a.Array({K:b_,V:b$})):(cd=M.tryFindIndex(function(ce){return ca.equals.apply(null,[(e.KeyValue(ce))[0],b_]);},cc),cd==null?(this.count=this.count+1,cc.push({K:b_,V:b$})):cc[cd.$0]={K:b_,V:b$});},Add:function(b_,b$){this.add(b_,b$);},remove:function(b_){var b$,ca,cb,cc;b$=this;ca=this.hash(b_);cb=this.data[ca];return cb==null?false:(cc=M.filter(function(cd){return!b$.equals.apply(null,[(e.KeyValue(cd))[0],b_]);},cb),M.length(cc)<cb.length&&(this.count=this.count-1,this.data[ca]=cc,true));},get_Item:function(b_){return this.get(b_);},add:function(b_,b$){var ca,cb,cc;ca=this;cb=this.hash(b_);cc=this.data[cb];cc==null?(this.count=this.count+1,this.data[cb]=new a.Array({K:b_,V:b$})):(M.exists(function(cd){return ca.equals.apply(null,[(e.KeyValue(cd))[0],b_]);},cc)?bp.alreadyAdded():void 0,this.count=this.count+1,cc.push({K:b_,V:b$}));},get:function(b_){var b$,ca;b$=this;ca=this.data[this.hash(b_)];return ca==null?bp.notPresent():M.pick(function(cb){var cc;cc=e.KeyValue(cb);return b$.equals.apply(null,[cc[0],b_])?{$:1,$0:cc[1]}:null;},ca);},GetEnumerator:function(){return bc.Get0(this);},GetEnumerator0:function(){return bc.Get0(M.concat(l.GetFieldValues(this.data)));}},q,T);T.New$5=b5.Ctor(function(){T.New$6.call(this,[],P.Equals,P.Hash);},T);T.New$6=b5.Ctor(function(b_,b$,ca){var cb,cc;q.New.call(this);this.equals=b$;this.hash=ca;this.count=0;this.data=[];cb=bc.Get(b_);try{while(cb.MoveNext()){cc=cb.Current();this.set(cc.K,cc.V);}}finally{if(typeof cb=="object"&&"Dispose"in cb)cb.Dispose();}},T);U.LinkElement=function(b_,b$){U.InsertDoc(b_,b$,null);};U.CreateTextNode=function(){return{Text:V.CreateText(""),Dirty:false,Value:""};};U.UpdateTextNode=function(b_,b$){b_.Value=b$;b_.Dirty=true;};U.InsertDoc=function(b_,b$,ca){var cb;return b$!=null&&b$.$==1?U.InsertNode(b_,b$.$0.El,ca):b$!=null&&b$.$==2?(cb=b$.$0,(cb.Dirty=false,U.InsertDoc(b_,cb.Current,ca))):b$==null?ca:b$!=null&&b$.$==4?U.InsertNode(b_,b$.$0.Text,ca):b$!=null&&b$.$==5?U.InsertNode(b_,b$.$0,ca):b$!=null&&b$.$==6?M.foldBack(function(cc,cd){return cc==null||cc.constructor===bb?U.InsertDoc(b_,cc,cd):U.InsertNode(b_,cc,cd);},b$.$0.Els,ca):U.InsertDoc(b_,b$.$0,U.InsertDoc(b_,b$.$1,ca));};U.CreateRunState=function(b_,b$){return bz.New(bA.get_Empty(),U.CreateElemNode(b_,bf.EmptyAttr(),b$));};U.PerformAnimatedUpdate=function(b_,b$,ca){var cb;return bi.get_UseAnimations()?(cb=null,_7.Delay(function(){var cc,cd,ce;cc=bA.FindAll(ca);cd=U.ComputeChangeAnim(b$,cc);ce=U.ComputeEnterAnim(b$,cc);return _7.Bind(bi.Play(bi.Append(cd,U.ComputeExitAnim(b$,cc))),function(){return _7.Bind(U.SyncElemNodesNextFrame(b_,b$),function(){return _7.Bind(bi.Play(ce),function(){b$.PreviousNodes=cc;return _7.Return(null);});});});})):U.SyncElemNodesNextFrame(b_,b$);};U.PerformSyncUpdate=function(b_,b$,ca){var cb;cb=bA.FindAll(ca);U.SyncElemNode(b_,b$.Top);b$.PreviousNodes=cb;};U.InsertNode=function(b_,b$,ca){V.InsertAt(b_,ca,b$);return b$;};U.CreateElemNode=function(b_,b$,ca){var cb;U.LinkElement(b_,ca);cb=bf.Insert(b_,b$);return bw.New(cb,ca,null,b_,bH.Int(),b5.GetOptional(cb.OnAfterRender));};U.SyncElemNodesNextFrame=function(b_,b$){function ca(cb){a.requestAnimationFrame(function(){U.SyncElemNode(b_,b$.Top);cb();});}return bj.BatchUpdatesEnabled()?_7.FromContinuations(function(cb,cc,cd){return ca.apply(null,[cb,cc,cd]);}):(U.SyncElemNode(b_,b$.Top),_7.Return(null));};U.ComputeExitAnim=function(b_,b$){return bi.Concat(M.map(function(ca){return bf.GetExitAnim(ca.Attr);},bA.ToArray(bA.Except(b$,bA.Filter(function(ca){return bf.HasExitAnim(ca.Attr);},b_.PreviousNodes)))));};U.ComputeEnterAnim=function(b_,b$){return bi.Concat(M.map(function(ca){return bf.GetEnterAnim(ca.Attr);},bA.ToArray(bA.Except(b_.PreviousNodes,bA.Filter(function(ca){return bf.HasEnterAnim(ca.Attr);},b$)))));};U.ComputeChangeAnim=function(b_,b$){var ca;function cb(cc){return bf.HasChangeAnim(cc.Attr);}ca=function(cc){return bA.Filter(cb,cc);};return bi.Concat(M.map(function(cc){return bf.GetChangeAnim(cc.Attr);},bA.ToArray(bA.Intersect(ca(b_.PreviousNodes),ca(b$)))));};U.SyncElemNode=function(b_,b$){!b_?U.SyncElement(b$):void 0;U.Sync(b$.Children);U.AfterRender(b$);};U.CreateEmbedNode=function(){return{Current:null,Dirty:false};};U.UpdateEmbedNode=function(b_,b$){b_.Current=b$;b_.Dirty=true;};U.SyncElement=function(b_){function b$(ca){function cb(cc){var cd,ce;return cc!=null&&cc.$==0?cb(cc.$0)||cb(cc.$1):cc!=null&&cc.$==2?(cd=cc.$0,cd.Dirty||cb(cd.Current)):cc!=null&&cc.$==6&&(ce=cc.$0,ce.Dirty||M.exists(b$,ce.Holes));}return cb(ca.Children);}bf.Sync(b_.El,b_.Attr);b$(b_)?U.DoSyncElement(b_):void 0;};U.Sync=function(b_){var b$,ca;if(b_!=null&&b_.$==1)U.SyncElemNode(false,b_.$0);else if(b_!=null&&b_.$==2)U.Sync(b_.$0.Current);else if(b_==null);else if(b_!=null&&b_.$==5);else if(b_!=null&&b_.$==4){b$=b_.$0;b$.Dirty?(b$.Text.nodeValue=b$.Value,b$.Dirty=false):void 0;}else if(b_!=null&&b_.$==6){ca=b_.$0;M.iter(function(cb){U.SyncElemNode(false,cb);},ca.Holes);M.iter(function(cb){bf.Sync(cb[0],cb[1]);},ca.Attrs);U.AfterRender(ca);}else{U.Sync(b_.$0);U.Sync(b_.$1);}};U.AfterRender=function(b_){var b$;b$=b5.GetOptional(b_.Render);b$!=null&&b$.$==1?(b$.$0(b_.El),b5.SetOptional(b_,"Render",null)):void 0;};U.DoSyncElement=function(b_){var b$,ca,cb;function cc(cd,ce){var cf,cg;return cd!=null&&cd.$==1?cd.$0.El:cd!=null&&cd.$==2?(cf=cd.$0,cf.Dirty?(cf.Dirty=false,U.InsertDoc(b$,cf.Current,ce)):cc(cf.Current,ce)):cd==null?ce:cd!=null&&cd.$==4?cd.$0.Text:cd!=null&&cd.$==5?cd.$0:cd!=null&&cd.$==6?(cg=cd.$0,(cg.Dirty?cg.Dirty=false:void 0,M.foldBack(function(ch,ci){return ch==null||ch.constructor===bb?cc(ch,ci):ch;},cg.Els,ce))):cc(cd.$0,cc(cd.$1,ce));}b$=b_.El;bZ.Iter((ca=b_.El,function(cd){V.RemoveNode(ca,cd);}),bZ.Except(bZ.DocChildren(b_),bZ.Children(b_.El,b5.GetOptional(b_.Delimiters))));cc(b_.Children,(cb=b5.GetOptional(b_.Delimiters),cb!=null&&cb.$==1?cb.$0[1]:null));};V.CreateText=function(b_){return V.Doc().createTextNode(b_);};V.SetAttr=function(b_,b$,ca){b_.setAttribute(b$,ca);};V.ChildrenArray=function(b_){var b$,ca,cb;b$=[];for(ca=0,cb=b_.childNodes.length-1;ca<=cb;ca++)b$.push(b_.childNodes[ca]);return b$;};V.CreateElement=function(b_){return V.Doc().createElement(b_);};V.Doc=function(){bG.$cctor();return bG.Doc;};V.IterSelector=function(b_,b$,ca){var cb,cc,cd;cb=b_.querySelectorAll(b$);for(cc=0,cd=cb.length-1;cc<=cd;cc++)ca(cb[cc]);};V.InsertAt=function(b_,b$,ca){var cb;if(!(ca.parentNode===b_&&b$===(cb=ca.nextSibling,P.Equals(cb,null)?null:cb)))b_.insertBefore(ca,b$);};V.RemoveNode=function(b_,b$){if(b$.parentNode===b_)b_.removeChild(b$);};E.Obsolete=function(b_){var b$,ca,cb,cc,cd;ca=b_.s;if(ca==null||(ca!=null&&ca.$==2?(b$=ca.$1,false):ca!=null&&ca.$==3?(b$=ca.$1,false):true))void 0;else{b_.s=null;for(cb=0,cc=M.length(b$)-1;cb<=cc;cb++){cd=M.get(b$,cb);typeof cd=="object"?function(ce){E.Obsolete(ce);}(cd):cd();}}};E.New=function(b_){return{s:b_};};X.unindent=function(b_){var b$,ca,cb,cc;b$=Q.SplitChars(b_,["\n"],0);ca=(cb=L.tryFindIndex(function(cd){return" "!==cd;},(cc=L.tryFind(function(cd){return Q.Trim(cd)!=="";},b$),cc==null?"":cc.$0)),cb==null?0:cb.$0);return L.filter(function(cd){return!Q.StartsWith(cd,"# 1 ");},L.map(function(cd){return cd.length<=ca?"":cd.substring(ca);},b$));};X.splitByChar=function(b_,b$){return Q.SplitChars(b$,[b_],0);};X.StartsWith=function(b_,b$){return Q.StartsWith(b$,b_)?{$:1,$0:Y.string(b$,{$:1,$0:b_.length},null)}:null;};Y.array=function(b_,b$,ca){return b$==null?ca!=null&&ca.$==1?b_.slice(0,ca.$0+1):[]:ca==null?b_.slice(b$.$0):b_.slice(b$.$0,ca.$0+1);};Y.string=function(b_,b$,ca){return b$==null?ca!=null&&ca.$==1?b_.slice(0,ca.$0+1):"":ca==null?b_.slice(b$.$0):b_.slice(b$.$0,ca.$0+1);};Z.tryParseWith=function(b_){function b$(ca,cb){return ca?{$:1,$0:cb}:null;}return function(ca){return b$.apply(null,b_(ca));};};Z.parseDateO=function(){F.$cctor();return F.parseDateO;};Z.parseIntO=function(){F.$cctor();return F.parseIntO;};Z.parseInt64O=function(){F.$cctor();return F.parseInt64O;};Z.parseSingleO=function(){F.$cctor();return F.parseSingleO;};Z.parseDoubleO=function(){F.$cctor();return F.parseDoubleO;};Z.parseGuidO=function(){F.$cctor();return F.parseGuidO;};_0.TryParseInt32=function(b_,b$){return _0.TryParse(b_,-2147483648,2147483647,b$);};_0.TryParseInt64=function(b_,b$){return _0.TryParse(b_,-9223372036854775808,9223372036854775807,b$);};_2.TryParse=function(b_,b$){try{b$.set(_2.Parse(b_));return true;}catch(ca){return false;}};_2.Parse=function(b_){var b$,ca,cb;try{return _2.ParseExact(b_,"D");}catch(cc){try{b$=_2.ParseExact(b_,"B");}catch(cd){try{ca=_2.ParseExact(b_,"P");}catch(ce){try{cb=_2.ParseExact(b_,"N");}catch(cf){cb=_2.ParseExact(b_,"X");}ca=cb;}b$=ca;}return b$;}};_2.ParseExact=function(b_,b$){var ca,cb,cc,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn;function cd(co){var cp,cq,cr,cs;for(cp=0,cq=35;cp<=cq;cp++){cp===8||(cp===13||(cp===18||cp===23))?co[cp]!=="-"?_2.ShapeError():void 0:(cs=co[cp],!("0"<=cs&&cs<="9"||"a"<=cs&&cs<="f")?_2.ShapeError():void 0);}return co;}ce=b$.toUpperCase();if(ce==="N"){cf=Q.Trim(b_).toLowerCase();if(cf.length!==32)_2.ShapeError();for(cg=0,ch=31;cg<=ch;cg++){ci=cf[cg];!("0"<=ci&&ci<="9"||"a"<=ci&&ci<="f")?_2.ShapeError():void 0;}return Q.Substring(cf,0,8)+"-"+Q.Substring(cf,8,4)+"-"+Q.Substring(cf,12,4)+"-"+Q.Substring(cf,16,4)+"-"+cf.substring(20);}else if(ce==="D"){ca=Q.Trim(b_).toLowerCase();ca.length!==36?_2.ShapeError():void 0;return cd(ca);}else if(ce==="B"){cb=Q.Trim(b_).toLowerCase();cb.length!==38||cb[0]!=="{"||cb[17]!=="}"?_2.ShapeError():void 0;return cd(Q.Substring(cb,1,36));}else if(ce==="P"){cc=Q.Trim(b_).toLowerCase();cc.length!==38||cc[0]!=="("||cc[17]!==")"?_2.ShapeError():void 0;return cd(Q.Substring(cc,1,36));}else if(ce==="X"){cj=Q.Trim(b_).toLowerCase();if(cj.length!==68)_2.ShapeError();for(ck=0,cl=67;ck<=cl;ck++){switch(ck){case 26:case 0:if(cj[ck]!=="{")_2.ShapeError();break;case 62:case 57:case 52:case 47:case 42:case 37:case 32:case 27:case 19:case 12:case 1:if(cj[ck]!=="0")_2.ShapeError();break;case 63:case 58:case 53:case 48:case 43:case 38:case 33:case 28:case 20:case 13:case 2:if(cj[ck]!=="x")_2.ShapeError();break;case 61:case 56:case 51:case 46:case 41:case 36:case 31:case 25:case 18:case 11:if(cj[ck]!==",")_2.ShapeError();break;case 67:case 66:if(cj[ck]!=="{")_2.ShapeError();break;default:cn=cj[ck];!("0"<=cn&&cn<="9"||"a"<=cn&&cn<="f")?_2.ShapeError():void 0;break;}}return Q.Substring(cj,3,8)+"-"+Q.Substring(cj,14,4)+"-"+Q.Substring(cj,21,4)+"-"+Q.Substring(cj,29,2)+Q.Substring(cj,34,2)+"-"+Q.Substring(cj,39,2)+Q.Substring(cj,44,2)+Q.Substring(cj,49,2)+Q.Substring(cj,54,2)+Q.Substring(cj,59,2)+Q.Substring(cj,64,2);}else return _2.FormatError();};_2.ShapeError=function(){throw new bX.New$1("Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");};_2.FormatError=function(){throw new bX.New$1("Format String can be only \"D\", \"d\", \"N\", \"n\", \"P\", \"p\", \"B\", \"b\", \"X\" or \"x\".");};_3=m.Var$1=b5.Class({},q,_3);_3.Create$1=function(b_){return new bn.New(false,E.New({$:2,$0:b_,$1:[]}),b_);};u.AjaxProvider=function(){bo.$cctor();return bo.AjaxProvider;};u.set_AjaxProvider=function(b_){bo.$cctor();bo.AjaxProvider=b_;};u.makePayload=function(b_){return b6.stringify(b_);};u.makeHeaders=function(b_){return{"content-type":"application/json","x-websharper-rpc":b_};};u.EndPoint=function(){bo.$cctor();return bo.EndPoint;};u.ajax=function(b_,b$,ca,cb,cc,cd,ce){var cf,cg,ch;cf=new a.XMLHttpRequest();cg=a.document.cookie.replace(new a.RegExp("(?:(?:^|.*;)\\s*csrftoken\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1");cf.open("POST",b$,b_);if(b_==true)cf.withCredentials=true;for(var cj in ca)cf.setRequestHeader(cj,ca[cj]);if(cg)cf.setRequestHeader("x-csrftoken",cg);function ci(){var ck;if(cf.status==200)cc(cf.responseText);else if(ce&&cf.status==403&&cf.responseText=="CSRF")ce();else{ck="Response status is not 200: ";cd(new bD(ck+cf.status));}}if("onload"in cf)cf.onload=cf.onerror=cf.onabort=ci;else cf.onreadystatechange=function(){if(cf.readyState==4)ci();};cf.send(cb);};_5.tryGet=function(b_){var b$,ca,cb,cc;b$=_5.tryGetS(b_);return b$==null?null:(ca=b$.$0,(cb=L.tryHead(ca),cb!=null&&cb.$==1?(cc=Y.array(ca,{$:1,$0:1},null),(_5.queues().Remove(b_),_5.queues().Add(b_,cc),{$:1,$0:cb.$0})):null));};_5.tryGetS=function(b_){return(Z.tryParseWith(function(b$){var ca;ca=null;return[_5.queues().TryGetValue(b$,{get:function(){return ca;},set:function(cb){ca=cb;}}),ca];}))(b_);};_5.queues=function(){F.$cctor();return F.queues;};_5.add=function(b_,b$){var ca,cb;ca=(cb=_5.tryGetS(b_),cb==null?[b$]:(_5.queues().Remove(b_),cb.$0.concat([b$])));_5.queues().Add(b_,ca);};_6=J.CustomXhrProvider=b5.Class({Async:function(b_,b$,ca,cb,cc){var cd;_7.Start((cd=null,_7.Delay(function(){var ce;ce=J.getHeaderRpc(b$);_5.add(ce,[cb,cc]);return _7.TryWith(_7.Delay(function(){J.callRunRpc(ce,ca);return _7.Zero();}),function(cf){J.returnExnExn(ce,cf);return _7.Zero();});})),null);}},q,_6);_6.New=b5.Ctor(function(){q.New.call(this);},_6);_7.FromContinuations=function(b_){return function(b$){var ca;function cb(cc){if(ca[0])e.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{ca[0]=true;_7.scheduler().Fork(cc);}}ca=[false];b_(function(cc){cb(function(){b$.k({$:0,$0:cc});});},function(cc){cb(function(){b$.k({$:1,$0:cc});});},function(cc){cb(function(){b$.k({$:2,$0:cc});});});};};_7.Delay=function(b_){return function(b$){try{(b_(null))(b$);}catch(ca){b$.k({$:1,$0:ca});}};};_7.Bind=function(b_,b$){return _7.checkCancel(function(ca){b_(br.New(function(cb){var cc;if(cb.$==0){cc=cb.$0;_7.scheduler().Fork(function(){try{(b$(cc))(ca);}catch(cd){ca.k({$:1,$0:cd});}});}else _7.scheduler().Fork(function(){ca.k(cb);});},ca.ct));});};_7.Sleep=function(b_){return function(b$){var ca,cb;ca=void 0;cb=void 0;ca=a.setTimeout(function(){cb.Dispose();_7.scheduler().Fork(function(){b$.k({$:0,$0:null});});},b_);cb=_7.Register(b$.ct,function(){a.clearTimeout(ca);_7.scheduler().Fork(function(){_7.cancel(b$);});});};};_7.Combine=function(b_,b$){return _7.Bind(b_,function(){return b$;});};_7.Zero=function(){bs.$cctor();return bs.Zero;};_7.Start=function(b_,b$){var ca,cb;ca=(cb=(_7.defCTS())[0],b$==null?cb:b$.$0);_7.scheduler().Fork(function(){if(!ca.c)b_(br.New(function(cc){if(cc.$==1)_7.UncaughtAsyncError(cc.$0);},ca));});};_7.While=function(b_,b$){return b_()?_7.Bind(b$,function(){return _7.While(b_,b$);}):_7.Return();};_7.Return=function(b_){return function(b$){b$.k({$:0,$0:b_});};};_7.TryWith=function(b_,b$){return function(ca){b_(br.New(function(cb){if(cb.$==0)ca.k({$:0,$0:cb.$0});else if(cb.$==1)try{(b$(cb.$0))(ca);}catch(cc){ca.k(cb);}else ca.k(cb);},ca.ct));};};_7.checkCancel=function(b_){return function(b$){if(b$.ct.c)_7.cancel(b$);else b_(b$);};};_7.Register=function(b_,b$){var ca;return b_===_7.noneCT()?{Dispose:function(){return null;}}:(ca=b_.r.push(b$)-1,{Dispose:function(){return M.set(b_.r,ca,a.ignore);}});};_7.cancel=function(b_){b_.k({$:2,$0:new bE.New(b_.ct)});};_7.defCTS=function(){bs.$cctor();return bs.defCTS;};_7.UncaughtAsyncError=function(b_){b7.log("WebSharper: Uncaught asynchronous exception",b_);};_7.scheduler=function(){bs.$cctor();return bs.scheduler;};_7.noneCT=function(){bs.$cctor();return bs.noneCT;};_7.GetCT=function(){bs.$cctor();return bs.GetCT;};_8=s.Require=b5.Class({},q,_8);H.dlls=function(){return M.ofSeq(N.ofSeq(L.delay(function(){return L.collect(function(b_){return L.append([b_.$0],L.delay(function(){return[H.fromDll2Meta(b_).$0];}));},H.justDlls());})));};H.fromDll2Meta=function(b_){return{$:0,$0:Q.Replace(b_.$0,".dll",".meta")};};H.justDlls=function(){bM.$cctor();return bM.justDlls;};_9.newPojo=function(b_){var b$,ca;function cb(cd,ce){return function(cf){return _9.addProp(cd,ce,cf);};}function cc(cd){}b$={};L.iter((ca=function(cd){return(function(ce){return cb(ce[0],ce[1]);}(cd))(b$);},function(cd){return cc(ca(cd));}),b_);return b$;};_9.addProp=function(b_,b$,ca){ca[b_]=b$;return ca;};N.ofArray=function(b_){var b$,ca,cb;b$=O.Empty;for(ca=M.length(b_)-1,cb=0;ca>=cb;ca--)b$=new O({$:1,$0:M.get(b_,ca),$1:b$});return b$;};N.ofSeq=function(b_){var b$,ca,cb,cc,cd,ce;if(b_ instanceof O)return b_;else if(b_ instanceof a.Array)return N.ofArray(b_);else{b$=bc.Get(b_);try{cb=b$.MoveNext();if(!cb)ca=O.Empty;else{cd=new O({$:1});cc=cd;while(cb){cc.$0=b$.Current();b$.MoveNext()?cc=(ce=new O({$:1}),cc.$1=ce,ce):cb=false;}cc.$1=O.Empty;ca=cd;}return ca;}finally{if(typeof b$=="object"&&"Dispose"in b$)b$.Dispose();}}};N.head=function(b_){return b_.$==1?b_.$0:N.listEmpty();};N.tail=function(b_){return b_.$==1?b_.$1:N.listEmpty();};N.listEmpty=function(){return e.FailWith("The input list was empty.");};ba.Checked=function(b_){function b$(ca,cb){return!P.Equals(b_.Get(),ca.checked)?b_.Set(ca.checked):null;}return R.Concat([ba.DynamicProp("checked",b_.get_View()),ba.Handler("change",function(ca){return function(cb){return b$(ca,cb);};})]);};ba.Value=function(b_){function b$(ca){return{$:1,$0:ca};}return ba.CustomValue(b_,a.id,function(ca){return b$(a.id(ca));});};ba.DynamicProp=function(b_,b$){return bf.Dynamic(b$,function(ca){return function(cb){ca[b_]=cb;};});};ba.Handler=function(b_,b$){return bf.Static(function(ca){ca.addEventListener(b_,function(cb){return(b$(ca))(cb);},false);});};ba.CustomValue=function(b_,b$,ca){return ba.CustomVar(b_,function(cb,cc){cb.value=b$(cc);},function(cb){return ca(cb.value);});};ba.CustomVar=function(b_,b$,ca){function cb(cd,ce){return b_.UpdateMaybe(function(cf){var cg,ch;cg=ca(cd);return cg!=null&&cg.$==1&&(!P.Equals(cg.$0,cf)&&(ch=[cg,cg.$0],true))?ch[0]:null;});}function cc(cd,ce){var cf,cg;cf=ca(cd);return cf!=null&&cf.$==1&&(P.Equals(cf.$0,ce)&&(cg=cf.$0,true))?null:b$(cd,ce);}return R.Concat([ba.Handler("change",function(cd){return function(ce){return cb(cd,ce);};}),ba.Handler("input",function(cd){return function(ce){return cb(cd,ce);};}),ba.Handler("keypress",function(cd){return function(ce){return cb(cd,ce);};}),ba.DynamicCustom(function(cd){return function(ce){return cc(cd,ce);};},b_.get_View())]);};ba.DynamicCustom=function(b_,b$){return bf.Dynamic(b$,b_);};bc.Get=function(b_){return b_ instanceof a.Array?bc.ArrayEnumerator(b_):P.Equals(typeof b_,"string")?bc.StringEnumerator(b_):b_.GetEnumerator();};bc.ArrayEnumerator=function(b_){return new bd.New(0,null,function(b$){var ca;ca=b$.s;return ca<M.length(b_)&&(b$.c=M.get(b_,ca),b$.s=ca+1,true);},void 0);};bc.StringEnumerator=function(b_){return new bd.New(0,null,function(b$){var ca;ca=b$.s;return ca<b_.length&&(b$.c=b_[ca],b$.s=ca+1,true);},void 0);};bc.Get0=function(b_){return b_ instanceof a.Array?bc.ArrayEnumerator(b_):P.Equals(typeof b_,"string")?bc.StringEnumerator(b_):"GetEnumerator0"in b_?b_.GetEnumerator0():b_.GetEnumerator();};bd=bc.T=b5.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},q,bd);bd.New=b5.Ctor(function(b_,b$,ca,cb){q.New.call(this);this.s=b_;this.c=b$;this.n=ca;this.d=cb;},bd);be.ofSeqNonCopying=function(b_){var b$,ca;if(b_ instanceof a.Array)return b_;else if(b_ instanceof O)return M.ofList(b_);else if(b_===null)return[];else{b$=[];ca=bc.Get(b_);try{while(ca.MoveNext())b$.push(ca.Current());return b$;}finally{if(typeof ca=="object"&&"Dispose"in ca)ca.Dispose();}}};be.TreeReduce=function(b_,b$,ca){var cb;function cc(cd,ce){var cf,cg;return ce<=0?b_:ce===1&&(cd>=0&&cd<cb)?M.get(ca,cd):(cg=ce/2>>0,b$(cc(cd,cg),cc(cd+cg,ce-cg)));}cb=M.length(ca);return cc(0,cb);};be.MapTreeReduce=function(b_,b$,ca,cb){var cc;function cd(ce,cf){var cg,ch;return cf<=0?b$:cf===1&&(ce>=0&&ce<cc)?b_(M.get(cb,ce)):(ch=cf/2>>0,ca(cd(ce,ch),cd(ce+ch,cf-ch)));}cc=M.length(cb);return cd(0,cc);};bf.Static=function(b_){return new R({$:3,$0:b_});};bf.Updates=function(b_){return be.MapTreeReduce(function(b$){return b$.NChanged();},n.Const(),n.Map2Unit,b_.DynNodes);};bf.AppendTree=function(b_,b$){var ca;return b_===null?b$:b$===null?b_:(ca=new R({$:2,$0:b_,$1:b$}),(bf.SetFlags(ca,bf.Flags(b_)|bf.Flags(b$)),ca));};bf.EmptyAttr=function(){bS.$cctor();return bS.EmptyAttr;};bf.Dynamic=function(b_,b$){return new R({$:1,$0:new bT.New(b_,b$)});};bf.Insert=function(b_,b$){var ca,cb,cc;function cd(ce){if(!(ce===null))if(ce!=null&&ce.$==1)ca.push(ce.$0);else if(ce!=null&&ce.$==2){cd(ce.$0);cd(ce.$1);}else if(ce!=null&&ce.$==3)ce.$0(b_);else if(ce!=null&&ce.$==4)cb.push(ce.$0);}ca=[];cb=[];cd(b$);cc=ca.slice(0);return bO.New(b_,bf.Flags(b$),cc,cb.length===0?null:{$:1,$0:function(ce){L.iter(function(cf){cf(ce);},cb);}});};bf.HasExitAnim=function(b_){var b$;b$=2;return(b_.DynFlags&b$)===b$;};bf.GetExitAnim=function(b_){return bf.GetAnim(b_,function(b$,ca){return b$.NGetExitAnim(ca);});};bf.HasEnterAnim=function(b_){var b$;b$=1;return(b_.DynFlags&b$)===b$;};bf.GetEnterAnim=function(b_){return bf.GetAnim(b_,function(b$,ca){return b$.NGetEnterAnim(ca);});};bf.HasChangeAnim=function(b_){var b$;b$=4;return(b_.DynFlags&b$)===b$;};bf.GetChangeAnim=function(b_){return bf.GetAnim(b_,function(b$,ca){return b$.NGetChangeAnim(ca);});};bf.SetFlags=function(b_,b$){b_.flags=b$;};bf.Flags=function(b_){return b_!==null&&b_.hasOwnProperty("flags")?b_.flags:0;};bf.GetAnim=function(b_,b$){return bi.Concat(M.map(function(ca){return b$(ca,b_.DynElem);},b_.DynNodes));};bf.Sync=function(b_,b$){M.iter(function(ca){ca.NSync(b_);},b$.DynNodes);};bg.$cctor=function(){bg.$cctor=a.ignore;bg.LoadedTemplates=new T.New$5();bg.LocalTemplatesLoaded=false;bg.TextHoleRE="\\${([^}]+)}";};bh=S.HashSet=b5.Class({Add:function(b_){return this.add(b_);},Contains:function(b_){var b$;b$=this.data[this.hash(b_)];return b$==null?false:this.arrContains(b_,b$);},add:function(b_){var b$,ca;b$=this.hash(b_);ca=this.data[b$];return ca==null?(this.data[b$]=[b_],this.count=this.count+1,true):this.arrContains(b_,ca)?false:(ca.push(b_),this.count=this.count+1,true);},arrContains:function(b_,b$){var ca,cb,cc,cd;ca=true;cb=0;cd=b$.length;while(ca&&cb<cd)if(this.equals.apply(null,[b$[cb],b_]))ca=false;else cb=cb+1;return!ca;},ExceptWith:function(b_){var b$;b$=bc.Get(b_);try{while(b$.MoveNext())this.Remove(b$.Current());}finally{if(typeof b$=="object"&&"Dispose"in b$)b$.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(b_){var b$,ca,cb,cc;b$=0;ca=bW.concat(this.data);for(cb=0,cc=ca.length-1;cb<=cc;cb++)M.set(b_,cb,ca[cb]);},IntersectWith:function(b_){var b$,ca,cb,cc,cd;b$=new bh.New$4(b_,this.equals,this.hash);ca=bW.concat(this.data);for(cb=0,cc=ca.length-1;cb<=cc;cb++){cd=ca[cb];!b$.Contains(cd)?this.Remove(cd):void 0;}},Remove:function(b_){var b$;b$=this.data[this.hash(b_)];return b$==null?false:this.arrRemove(b_,b$)&&(this.count=this.count-1,true);},arrRemove:function(b_,b$){var ca,cb,cc,cd;ca=true;cb=0;cd=b$.length;while(ca&&cb<cd)if(this.equals.apply(null,[b$[cb],b_])){b$.splice.apply(b$,[cb,1]);ca=false;}else cb=cb+1;return!ca;},GetEnumerator:function(){return bc.Get(bW.concat(this.data));},GetEnumerator0:function(){return bc.Get(bW.concat(this.data));}},q,bh);bh.New$3=b5.Ctor(function(){bh.New$4.call(this,[],P.Equals,P.Hash);},bh);bh.New$4=b5.Ctor(function(b_,b$,ca){var cb;q.New.call(this);this.equals=b$;this.hash=ca;this.data=[];this.count=0;cb=bc.Get(b_);try{while(cb.MoveNext())this.add(cb.Current());}finally{if(typeof cb=="object"&&"Dispose"in cb)cb.Dispose();}},bh);bh.New$2=b5.Ctor(function(b_){bh.New$4.call(this,b_,P.Equals,P.Hash);},bh);n=m.View=b5.Class({},null,n);bi.get_UseAnimations=function(){return bB.UseAnimations();};bi.Play=function(b_){var b$;b$=null;return _7.Delay(function(){return _7.Bind(bi.Run(a.ignore,bB.Actions(b_)),function(){bB.Finalize(b_);return _7.Return(null);});});};bi.Append=function(b_,b$){return{$:0,$0:bQ.Append(b_.$0,b$.$0)};};bi.Run=function(b_,b$){var ca;function cb(cc){function cd(ce,cf){var cg;cg=cf-ce;b$.Compute(cg);b_();return cg<=ca?void a.requestAnimationFrame(function(ch){cd(ce,ch);}):cc();}a.requestAnimationFrame(function(ce){cd(ce,ce);});}ca=b$.Duration;return ca===0?_7.Zero():_7.FromContinuations(function(cc,cd,ce){return cb.apply(null,[cc,cd,ce]);});};bi.Concat=function(b_){return{$:0,$0:bQ.Concat(L.map(bB.List,b_))};};bi.get_Empty=function(){return{$:0,$0:bQ.Empty()};};bj.BatchUpdatesEnabled=function(){bC.$cctor();return bC.BatchUpdatesEnabled;};bl.StartProcessor=function(b_){var b$;function ca(){var cb;cb=null;return _7.Delay(function(){return _7.Bind(b_,function(){var cc;cc=b$[0];return cc===1?(b$[0]=0,_7.Zero()):cc===2?(b$[0]=1,ca()):_7.Zero();});});}b$=[0];return function(){var cb;cb=b$[0];cb===0?(b$[0]=1,_7.Start(ca(),null)):cb===1?b$[0]=2:void 0;};};bm.TryParse=function(b_){var b$;b$=b9.parse(b_);return a.isNaN(b$)?null:{$:1,$0:b$};};_0.TryParse=function(b_,b$,ca,cb){var cc,cd;cc=+b_;cd=cc===cc-cc%1&&cc>=b$&&cc<=ca;cd?cb.set(cc):void 0;return cd;};bn=m.ConcreteVar=b5.Class({get_View:function(){return this.view;},Set:function(b_){if(this.isConst)(function(b$){return b$("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal");}(function(b$){b7.log(b$);}));else{E.Obsolete(this.snap);this.current=b_;this.snap=E.New({$:2,$0:b_,$1:[]});}},Get:function(){return this.current;},UpdateMaybe:function(b_){var b$;b$=b_(this.Get());b$!=null&&b$.$==1?this.Set(b$.$0):void 0;}},r,bn);bn.New=b5.Ctor(function(b_,b$,ca){var cb;cb=this;r.New.call(this);this.isConst=b_;this.current=ca;this.snap=b$;this.view=function(){return cb.snap;};this.id=bH.Int();},bn);bo.$cctor=function(){bo.$cctor=a.ignore;bo.EndPoint="?";bo.AjaxProvider=new bI.New();};bp.alreadyAdded=function(){return e.FailWith("An item with the same key has already been added.");};bp.notPresent=function(){return e.FailWith("The given key was not present in the dictionary.");};bq=m.Elt=b5.Class({},B,bq);bq.New=function(b_,b$,ca){var cb,cc;cb=U.CreateElemNode(b_,b$,ca.docNode);cc=bJ.Create(ca.updates);return new bq.New$1({$:1,$0:cb},n.Map2Unit(bf.Updates(cb.Attr),cc.v),b_,cc);};bq.New$1=b5.Ctor(function(b_,b$,ca,cb){B.New.call(this,b_,b$);this.docNode$1=b_;this.updates$1=b$;this.elt=ca;this.rvUpdates=cb;},bq);br.New=function(b_,b$){return{k:b_,ct:b$};};bs.$cctor=function(){bs.$cctor=a.ignore;bs.noneCT=bt.New(false,[]);bs.scheduler=new bK.New();bs.defCTS=[new bL.New()];bs.Zero=_7.Return();bs.GetCT=function(b_){b_.k({$:0,$0:b_.ct});};};L.last=function(b_){var b$,ca;b$=bc.Get(b_);try{if(!b$.MoveNext())ca=L.insufficient();else{while(b$.MoveNext());ca=b$.Current();}return ca;}finally{if(typeof b$=="object"&&"Dispose"in b$)b$.Dispose();}};L.insufficient=function(){return e.FailWith("The input sequence has an insufficient number of elements.");};L.tryHead=function(b_){var b$;b$=bc.Get(b_);try{return b$.MoveNext()?{$:1,$0:b$.Current()}:null;}finally{if(typeof b$=="object"&&"Dispose"in b$)b$.Dispose();}};bt.New=function(b_,b$){return{c:b_,r:b$};};bu.convertTextNode=function(b_){var b$,ca,cb,cc,cd,ce;b$=null;ca=0;cc=b_.textContent;cd=new a.RegExp(A.TextHoleRE(),"g");while(b$=cd.exec(cc),b$!==null){b_.parentNode.insertBefore(self.document.createTextNode(Y.string(cc,{$:1,$0:ca},{$:1,$0:cd.lastIndex-M.get(b$,0).length-1})),b_);ca=cd.lastIndex;ce=self.document.createElement("span");ce.setAttribute("ws-replace",M.get(b$,1).toLowerCase());b_.parentNode.insertBefore(ce,b_);}cd.lastIndex=0;b_.textContent=Y.string(cc,{$:1,$0:ca},null);};bu.failNotLoaded=function(b_){b7.warn("Instantiating non-loaded template",b_);};bu.fillTextHole=function(b_,b$,ca){var cb;cb=b_.querySelector("[ws-replace]");return P.Equals(cb,null)?(b7.warn("Filling non-existent text hole",ca),null):(cb.parentNode.replaceChild(new a.Text(b$),cb),{$:1,$0:cb.getAttribute("ws-replace")});};bu.removeHolesExcept=function(b_,b$){function ca(cb){V.IterSelector(b_,"["+cb+"]",function(cc){if(!b$.Contains(cc.getAttribute(cb)))cc.removeAttribute(cb);});}ca("ws-attr");ca("ws-onafterrender");ca("ws-var");V.IterSelector(b_,"[ws-hole]",function(cb){if(!b$.Contains(cb.getAttribute("ws-hole"))){cb.removeAttribute("ws-hole");while(cb.hasChildNodes())cb.removeChild(cb.lastChild);}});V.IterSelector(b_,"[ws-replace]",function(cb){if(!b$.Contains(cb.getAttribute("ws-replace")))cb.parentNode.removeChild(cb);});V.IterSelector(b_,"[ws-on]",function(cb){cb.setAttribute("ws-on",Q.concat(" ",M.filter(function(cc){return b$.Contains(M.get(Q.SplitChars(cc,[":"],1),1));},Q.SplitChars(cb.getAttribute("ws-on"),[" "],1))));});V.IterSelector(b_,"[ws-attr-holes]",function(cb){var cc,cd,ce,cf,cg;cc=Q.SplitChars(cb.getAttribute("ws-attr-holes"),[" "],1);for(cd=0,ce=cc.length-1;cd<=ce;cd++){cf=M.get(cc,cd);cb.setAttribute(cf,(cg=new a.RegExp(A.TextHoleRE(),"g"),cb.getAttribute(cf).replace(cg,function(ch,ci){return b$.Contains(ci)?ch:"";})));}});};bu.fillInstanceAttrs=function(b_,b$){var ca,cb,cc,cd,ce;bu.convertAttrs(b$);ca=b$.nodeName.toLowerCase();cb=b_.querySelector("[ws-attr="+ca+"]");if(P.Equals(cb,null))b7.warn("Filling non-existent attr hole",ca);else{cb.removeAttribute("ws-attr");for(cc=0,cd=b$.attributes.length-1;cc<=cd;cc++){ce=b$.attributes.item(cc);ce.name==="class"&&cb.hasAttribute("class")?cb.setAttribute("class",cb.getAttribute("class")+" "+ce.nodeValue):cb.setAttribute(ce.name,ce.nodeValue);}}};bu.mapHoles=function(b_,b$){function ca(cb){V.IterSelector(b_,"["+cb+"]",function(cc){var cd,ce;cd=(ce=null,[b$.TryGetValue(cc.getAttribute(cb).toLowerCase(),{get:function(){return ce;},set:function(cf){ce=cf;}}),ce]);cd[0]?cc.setAttribute(cb,cd[1]):void 0;});}ca("ws-hole");ca("ws-replace");ca("ws-attr");ca("ws-onafterrender");ca("ws-var");V.IterSelector(b_,"[ws-on]",function(cb){cb.setAttribute("ws-on",Q.concat(" ",M.map(function(cc){var cd,ce,cf;cd=Q.SplitChars(cc,[":"],1);ce=(cf=null,[b$.TryGetValue(M.get(cd,1),{get:function(){return cf;},set:function(cg){cf=cg;}}),cf]);return ce[0]?M.get(cd,0)+":"+ce[1]:cc;},Q.SplitChars(cb.getAttribute("ws-on"),[" "],1))));});V.IterSelector(b_,"[ws-attr-holes]",function(cb){var cc,cd,ce;cc=Q.SplitChars(cb.getAttribute("ws-attr-holes"),[" "],1);for(cd=0,ce=cc.length-1;cd<=ce;cd++)(function(){var cf;function cg(ch,ci){var cj;cj=e.KeyValue(ci);return ch.replace(new a.RegExp("\\${"+cj[0]+"}","ig"),"${"+cj[1]+"}");}cf=M.get(cc,cd);return cb.setAttribute(cf,(((b5.Curried3(L.fold))(cg))(cb.getAttribute(cf)))(b$));}());});};bu.fill=function(b_,b$,ca){while(true)if(b_.hasChildNodes())ca=b$.insertBefore(b_.lastChild,ca);else return null;};bu.convertAttrs=function(b_){var ca,cb,cc,cd,ce,cf,cg,ch;function b$(ci){var cj;cj=b_.getAttribute(ci);cj===null?void 0:b_.setAttribute(ci,cj.toLowerCase());}ca=b_.attributes;cb=[];cc=[];cd=[];for(ce=0,cf=ca.length-1;ce<=cf;ce++){cg=ca.item(ce);Q.StartsWith(cg.nodeName,"ws-on")&&cg.nodeName!=="ws-onafterrender"&&cg.nodeName!=="ws-on"?(cb.push(cg.nodeName),cc.push(Y.string(cg.nodeName,{$:1,$0:"ws-on".length},null)+":"+cg.nodeValue.toLowerCase())):!Q.StartsWith(cg.nodeName,"ws-")&&(new a.RegExp(A.TextHoleRE())).test(cg.nodeValue)?(cg.nodeValue=(ch=new a.RegExp(A.TextHoleRE(),"g"),cg.nodeValue.replace(ch,function(ci,cj){return"${"+cj.toLowerCase()+"}";})),cd.push(cg.nodeName)):void 0;}!(cc.length==0)?b_.setAttribute("ws-on",Q.concat(" ",cc)):void 0;!(cd.length==0)?b_.setAttribute("ws-attr-holes",Q.concat(" ",cd)):void 0;b$("ws-hole");b$("ws-replace");b$("ws-attr");b$("ws-onafterrender");b$("ws-var");M.iter(function(ci){b_.removeAttribute(ci);},cb);};bv=S.KeyCollection=b5.Class({GetEnumerator$1:function(){return bc.Get(L.map(function(b_){return b_.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},q,bv);bv.New=b5.Ctor(function(b_){q.New.call(this);this.d=b_;},bv);bw=m.DocElemNode=b5.Class({Equals:function(b_){return this.ElKey===b_.ElKey;},GetHashCode:function(){return this.ElKey;}},null,bw);bw.New=function(b_,b$,ca,cb,cc,cd){var ce;return new bw((ce={Attr:b_,Children:b$,El:cb,ElKey:cc},(b5.SetOptional(ce,"Delimiters",ca),b5.SetOptional(ce,"Render",cd),ce)));};bz.New=function(b_,b$){return{PreviousNodes:b_,Top:b$};};bA.get_Empty=function(){return{$:0,$0:new bh.New$3()};};bA.FindAll=function(b_){var b$;function ca(cc){if(cc!=null&&cc.$==0){ca(cc.$0);ca(cc.$1);}else if(cc!=null&&cc.$==1)cb(cc.$0);else if(cc!=null&&cc.$==2)ca(cc.$0.Current);else if(cc!=null&&cc.$==6)M.iter(cb,cc.$0.Holes);}function cb(cc){b$.push(cc);ca(cc.Children);}b$=[];ca(b_);return{$:0,$0:new bh.New$2(b$)};};bA.Filter=function(b_,b$){return{$:0,$0:bV.Filter(b_,b$.$0)};};bA.Except=function(b_,b$){return{$:0,$0:bV.Except(b_.$0,b$.$0)};};bA.ToArray=function(b_){return bV.ToArray(b_.$0);};bA.Intersect=function(b_,b$){return{$:0,$0:bV.Intersect(b_.$0,b$.$0)};};bB.UseAnimations=function(){bP.$cctor();return bP.UseAnimations;};bB.Actions=function(b_){return bB.ConcatActions(M.choose(function(b$){return b$.$==1?{$:1,$0:b$.$0}:null;},bQ.ToArray(b_.$0)));};bB.Finalize=function(b_){M.iter(function(b$){if(b$.$==0)b$.$0();},bQ.ToArray(b_.$0));};bB.ConcatActions=function(b_){var b$,ca,cb,cc;b$=be.ofSeqNonCopying(b_);ca=M.length(b$);return ca===0?bB.Const():ca===1?M.get(b$,0):(cb=L.max(L.map(function(cd){return cd.Duration;},b$)),(cc=M.map(function(cd){return bB.Prolong(cb,cd);},b$),bB.Def(cb,function(cd){M.iter(function(ce){ce.Compute(cd);},cc);})));};bB.List=function(b_){return b_.$0;};bB.Const=function(b_){return bB.Def(0,function(){return b_;});};bB.Def=function(b_,b$){return{Compute:b$,Duration:b_};};bB.Prolong=function(b_,b$){var ca,cb,cc;ca=b$.Compute;cb=b$.Duration;cc=b0.Create(function(){return b$.Compute(b$.Duration);});return{Compute:function(cd){return cd>=cb?cc.f():ca(cd);},Duration:b_};};bC.$cctor=function(){bC.$cctor=a.ignore;bC.BatchUpdatesEnabled=true;};bE=d.OperationCanceledException=b5.Class({},bD,bE);bE.New=b5.Ctor(function(b_){bE.New$1.call(this,"The operation was canceled.",null,b_);},bE);bE.New$1=b5.Ctor(function(b_,b$,ca){this.message=b_;this.inner=b$;bb.setPrototypeOf(this,bE.prototype);this.ct=ca;},bE);bF.Activate=function(b_){var b$,cb,cc,cd,ce,cf,cg;function ca(ch){var ci,cj,ck,cl,cm;if(P.Equals(ch,null))return ch;else if(typeof ch=="object"){if(ch instanceof a.Array)return bF.shallowMap(ca,ch);else{ci=bF.shallowMap(ca,ch.$V);cj=ch.$T;if(cj===void 0)return ci;else{ck=M.get(cb,cj);if(ck===1)return N.ofArray(ci);else if(ck===2)return self.WebSharper.Decimal.CreateDecimalBits(ci);else{cl=new(M.get(cb,cj))();for(var cn in ci)if(function(co){cl[co]=ci[co];return false;}(cn))break;return cl;}}}}else return ch;}cb=b_?b_.$TYPES:void 0;if(cb===void 0)b$=b_;else{for(cc=0,cd=M.length(cb)-1;cc<=cd;cc++){cg=M.get(cb,cc);switch(!P.Equals(cg,null)&&cg.length===3?M.get(cg,0)==="WebSharper"?M.get(cg,1)==="List"?M.get(cg,2)==="T"?0:(cf=cg,2):(cf=cg,2):(cf=cg,2):!P.Equals(cg,null)&&cg.length===2?M.get(cg,0)==="WebSharper"?M.get(cg,1)==="Decimal"?1:(cf=cg,2):(cf=cg,2):(cf=cg,2)){case 0:ce=1;break;case 1:ce=2;break;case 2:ce=bF.lookup(cf);break;}M.set(cb,cc,ce);}b$=b_.$DATA;}return ca(b$);};bF.shallowMap=function(b_,b$){var ca,cb;if(b$ instanceof a.Array)return M.map(b_,b$);else if(typeof b$=="object"){ca={};for(var cc in b$)if(function(cd){ca[cd]=b_(b$[cd]);return false;}(cc))break;return ca;}else return b$;};bF.lookup=function(b_){var b$,ca,cb,cc,cd;cb=M.length(b_);b$=self;ca=0;while(ca<cb){cc=M.get(b_,ca);cd=b$[cc];!P.Equals(typeof cd,void 0)?(b$=cd,ca=ca+1):e.FailWith("Invalid server reply. Failed to find type: "+cc);}return b$;};bG.$cctor=function(){bG.$cctor=a.ignore;bG.Doc=self.document;};bH.Int=function(){bH.set_counter(bH.counter()+1);return bH.counter();};bH.set_counter=function(b_){bY.$cctor();bY.counter=b_;};bH.counter=function(){bY.$cctor();return bY.counter;};bI=u.XhrProvider=b5.Class({Async:function(b_,b$,ca,cb,cc){u.ajax(true,b_,b$,ca,cb,cc,function(){u.ajax(true,b_,b$,ca,cb,cc,void 0);});}},q,bI);bI.New=b5.Ctor(function(){q.New.call(this);},bI);bJ=m.Updates=b5.Class({},null,bJ);bJ.Create=function(b_){var b$;b$=null;b$=bJ.New(b_,null,function(){var ca;ca=b$.s;return ca===null?(ca=E.Copy(b$.c()),b$.s=ca,E.WhenObsoleteRun(ca,function(){b$.s=null;}),ca):ca;});return b$;};bJ.New=function(b_,b$,ca){return new bJ({c:b_,s:b$,v:ca});};bK=_7.Scheduler=b5.Class({Fork:function(b_){var b$;b$=this;this.robin.push(b_);this.idle?(this.idle=false,a.setTimeout(function(){b$.tick();},0)):void 0;},tick:function(){var b_,b$,ca;b$=this;ca=b9.now();b_=true;while(b_)if(this.robin.length===0){this.idle=true;b_=false;}else{(this.robin.shift())();b9.now()-ca>40?(a.setTimeout(function(){b$.tick();},0),b_=false):void 0;}}},q,bK);bK.New=b5.Ctor(function(){q.New.call(this);this.idle=true;this.robin=[];},bK);bL=d.CancellationTokenSource=b5.Class({},q,bL);bL.New=b5.Ctor(function(){q.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},bL);bM.$cctor=function(){bM.$cctor=a.ignore;bM.justDlls=[{$:0,$0:"/dlls/WebSharper.Main.dll"},{$:0,$0:"/dlls/WebSharper.Collections.dll"},{$:0,$0:"/dlls/WebSharper.Control.dll"},{$:0,$0:"/dlls/WebSharper.Web.dll"},{$:0,$0:"/dlls/WebSharper.Sitelets.dll"},{$:0,$0:"/dlls/WebSharper.UI.dll"},{$:0,$0:"/dlls/WebSharper.UI.Templating.Runtime.dll"},{$:0,$0:"/dlls/WebSharper.Data.dll"}];};bO.New=function(b_,b$,ca,cb){var cc;cc={DynElem:b_,DynFlags:b$,DynNodes:ca};b5.SetOptional(cc,"OnAfterRender",cb);return cc;};bP.$cctor=function(){bP.$cctor=a.ignore;bP.CubicInOut=bU.Custom(function(b_){var b$;b$=b_*b_;return 3*b$-2*(b$*b_);});bP.UseAnimations=true;};bQ.Append=function(b_,b$){return b_.$==0?b$:b$.$==0?b_:{$:2,$0:b_,$1:b$};};bQ.ToArray=function(b_){var b$;function ca(cb){if(cb.$==1)b$.push(cb.$0);else if(cb.$==2){ca(cb.$0);ca(cb.$1);}else if(cb.$==3)M.iter(function(cc){b$.push(cc);},cb.$0);}b$=[];ca(b_);return b$.slice(0);};bQ.Concat=function(b_){var b$;b$=be.ofSeqNonCopying(b_);return be.TreeReduce(bQ.Empty(),bQ.Append,b$);};bQ.Empty=function(){b1.$cctor();return b1.Empty;};bR.Clear=function(b_){b_.splice(0,M.length(b_));};bS.$cctor=function(){bS.$cctor=a.ignore;bS.EmptyAttr=null;};bT=m.DynamicAttrNode=b5.Class({NChanged:function(){return this.updates;},NGetExitAnim:function(b_){return bi.get_Empty();},NGetEnterAnim:function(b_){return bi.get_Empty();},NGetChangeAnim:function(b_){return bi.get_Empty();},NSync:function(b_){if(this.dirty){(this.push(b_))(this.value);this.dirty=false;}}},q,bT);bT.New=b5.Ctor(function(b_,b$){var ca;ca=this;q.New.call(this);this.push=b$;this.value=void 0;this.dirty=false;this.updates=n.Map(function(cb){ca.value=cb;ca.dirty=true;},b_);},bT);bU=m.Easing=b5.Class({},q,bU);bU.Custom=function(b_){return new bU.New(b_);};bU.New=b5.Ctor(function(b_){q.New.call(this);this.transformTime=b_;},bU);bV.Filter=function(b_,b$){return new bh.New$2(M.filter(b_,bV.ToArray(b$)));};bV.Except=function(b_,b$){var ca;ca=new bh.New$2(bV.ToArray(b$));ca.ExceptWith(bV.ToArray(b_));return ca;};bV.ToArray=function(b_){var b$;b$=M.create(b_.get_Count(),void 0);b_.CopyTo(b$);return b$;};bV.Intersect=function(b_,b$){var ca;ca=new bh.New$2(bV.ToArray(b_));ca.IntersectWith(bV.ToArray(b$));return ca;};bW.concat=function(b_){var b$,ca;b$=[];for(var cb in b_)b$.push.apply(b$,b_[cb]);return b$;};bX=d.FormatException=b5.Class({},bD,bX);bX.New$1=b5.Ctor(function(b_){this.message=b_;bb.setPrototypeOf(this,bX.prototype);},bX);bY.$cctor=function(){bY.$cctor=a.ignore;bY.counter=0;};bZ.Children=function(b_,b$){var ca,cb,cc;if(b$!=null&&b$.$==1){cc=[];ca=b$.$0[0].nextSibling;while(ca!==b$.$0[1]){cc.push(ca);ca=ca.nextSibling;}return{$:0,$0:cc};}else return{$:0,$0:M.init(b_.childNodes.length,(cb=b_.childNodes,function(cd){return cb[cd];}))};};bZ.Except=function(b_,b$){var ca;ca=b_.$0;return{$:0,$0:M.filter(function(cb){return M.forall(function(cc){return!(cb===cc);},ca);},b$.$0)};};bZ.Iter=function(b_,b$){M.iter(b_,b$.$0);};bZ.DocChildren=function(b_){var b$;function ca(cb){if(cb!=null&&cb.$==2)ca(cb.$0.Current);else if(cb!=null&&cb.$==1)b$.push(cb.$0.El);else if(cb==null);else if(cb!=null&&cb.$==5)b$.push(cb.$0);else if(cb!=null&&cb.$==4)b$.push(cb.$0.Text);else if(cb!=null&&cb.$==6)M.iter(function(cc){if(cc==null||cc.constructor===bb)ca(cc);else b$.push(cc);},cb.$0.Els);else{ca(cb.$0);ca(cb.$1);}}b$=[];ca(b_.Children);return{$:0,$0:be.ofSeqNonCopying(b$)};};b0.Create=function(b_){return b3.New(false,b_,b0.forceLazy);};b0.forceLazy=function(){var b_;b_=this.v();this.c=true;this.v=b_;this.f=b0.cachedLazy;return b_;};b0.cachedLazy=function(){return this.v;};b1.$cctor=function(){b1.$cctor=a.ignore;b1.Empty={$:0};};b3.New=function(b_,b$,ca){return{c:b_,v:b$,f:ca};};b5.OnLoad(function(){c.main();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
//# sourceMappingURL=testing.min.map
