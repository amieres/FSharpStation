function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
var JSON;JSON||(JSON={}),function(){"use strict";function i(n){return n<10?"0"+n:n}function f(n){return o.lastIndex=0,o.test(n)?'"'+n.replace(o,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function r(i,e){var s,l,h,a,v=n,c,o=e[i];o&&typeof o=="object"&&typeof o.toJSON=="function"&&(o=o.toJSON(i));typeof t=="function"&&(o=t.call(e,i,o));switch(typeof o){case"string":return f(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(n+=u,c=[],Object.prototype.toString.apply(o)==="[object Array]"){for(a=o.length,s=0;s<a;s+=1)c[s]=r(s,o)||"null";return h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+v+"]":"["+c.join(",")+"]",n=v,h}if(t&&typeof t=="object")for(a=t.length,s=0;s<a;s+=1)typeof t[s]=="string"&&(l=t[s],h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));else for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));return h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+v+"}":"{"+c.join(",")+"}",n=v,h}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,u,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(n="",u="",typeof e=="number")for(o=0;o<e;o+=1)u+=" ";else typeof e=="string"&&(u=e);if(t=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return r("",{"":i})});typeof JSON.parse!="function"&&(JSON.parse=function(n,t){function r(n,i){var f,e,u=n[i];if(u&&typeof u=="object")for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&(e=r(u,f),e!==undefined?u[f]=e:delete u[f]);return t.call(n,i,u)}var i;if(n=String(n),e.lastIndex=0,e.test(n)&&(n=n.replace(e,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?r({"":i},""):i;throw new SyntaxError("JSON.parse");})}();
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX;a=self;b=a.FsRoot=a.FsRoot||{};c=b.TestingJS=b.TestingJS||{};d=c.Serializer=c.Serializer||{};e=d.Model=d.Model||{};f=a.StartupCode$testing$testing=a.StartupCode$testing$testing||{};g=b.Library=b.Library||{};h=g.Snippet=g.Snippet||{};i=a.WebSharper=a.WebSharper||{};j=i.Numeric=i.Numeric||{};k=i.Obj=i.Obj||{};l=i.Collections=i.Collections||{};m=l.FSharpSet=l.FSharpSet||{};n=g.SnippetId=g.SnippetId||{};o=i.Operators=i.Operators||{};p=i.Seq=i.Seq||{};q=g.Serializer=g.Serializer||{};r=b.LibraryJS=b.LibraryJS||{};s=r.Serializer=r.Serializer||{};t=i.Utils=i.Utils||{};u=a.EventTarget;v=a.Node;w=i.JavaScript=i.JavaScript||{};x=w.JS=w.JS||{};y=g.Monads=g.Monads||{};z=y.Result=y.Result||{};A=z.Builder=z.Builder||{};B=y.FusionM=y.FusionM||{};C=B.Builder=B.Builder||{};D=C.Builder=C.Builder||{};E=g.String=g.String||{};F=i.Strings=i.Strings||{};G=i.Slice=i.Slice||{};H=g.ParseO=g.ParseO||{};I=i.Unchecked=i.Unchecked||{};J=a.System=a.System||{};K=J.Guid=J.Guid||{};L=q.JsonIntermediate=q.JsonIntermediate||{};M=g.SnippetModule=g.SnippetModule||{};N=i.Arrays=i.Arrays||{};O=i.List=i.List||{};P=a.testing_GeneratedPrintf=a.testing_GeneratedPrintf||{};Q=l.BalancedTree=l.BalancedTree||{};R=Q.Tree=Q.Tree||{};S=w.Pervasives=w.Pervasives||{};T=i.Enumerator=i.Enumerator||{};U=T.T=T.T||{};V=i.UI=i.UI||{};W=V.Doc=V.Doc||{};X=V.Client=V.Client||{};Y=X.Templates=X.Templates||{};Z=a.WindowOrWorkerGlobalScope;_0=i.DateUtil=i.DateUtil||{};_1=O.T=O.T||{};_2=a.Object;_3=V.View=V.View||{};_4=V.DomUtility=V.DomUtility||{};_5=l.Dictionary=l.Dictionary||{};_6=V.Docs=V.Docs||{};_7=V.AttrProxy=V.AttrProxy||{};_8=V.Snap=V.Snap||{};_9=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};_=l.HashSet=l.HashSet||{};$=V.An=V.An||{};ba=X.Settings=X.Settings||{};bb=V.Abbrev=V.Abbrev||{};bc=bb.Mailbox=bb.Mailbox||{};bd=a.Error;be=i.FormatException=i.FormatException||{};bf=V.Elt=V.Elt||{};bg=V.Array=V.Array||{};bh=V.DocElemNode=V.DocElemNode||{};bi=a.CharacterData;bj=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};bk=l.DictionaryUtil=l.DictionaryUtil||{};bl=Y.Prepare=Y.Prepare||{};bm=l.KeyCollection=l.KeyCollection||{};bn=X.Docs=X.Docs||{};bo=bn.RunState=bn.RunState||{};bp=bn.NodeSet=bn.NodeSet||{};bq=V.Anims=V.Anims||{};br=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};bs=V.Updates=V.Updates||{};bt=V.Attrs=V.Attrs||{};bu=X.Attrs=X.Attrs||{};bv=bu.Dyn=bu.Dyn||{};bw=bb.Fresh=bb.Fresh||{};bx=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};by=i.Concurrency=i.Concurrency||{};bz=V.AppendList=V.AppendList||{};bA=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};bB=V.Easing=V.Easing||{};bC=by.AsyncBody=by.AsyncBody||{};bD=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};bE=by.CT=by.CT||{};bF=bb.HashSet=bb.HashSet||{};bG=l.HashSetUtil=l.HashSetUtil||{};bH=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};bI=by.Scheduler=by.Scheduler||{};bJ=i.CancellationTokenSource=i.CancellationTokenSource||{};bK=bn.DomNodes=bn.DomNodes||{};bL=i.OperationCanceledException=i.OperationCanceledException||{};bM=i.Lazy=i.Lazy||{};bN=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};bO=i.LazyExtensionsProxy=i.LazyExtensionsProxy||{};bP=bO.LazyRecord=bO.LazyRecord||{};bQ=i.Queue=i.Queue||{};bR=a.console;bS=a.IntelliFactory;bT=bS&&bS.Runtime;bU=a.JSON;bV=a.Math;bW=a.jQuery;bX=a.Date;d.snippet0=function(){f.$cctor();return f.snippet0;};d.snippet1=function(){f.$cctor();return f.snippet1;};d.snippet2=function(){f.$cctor();return f.snippet2;};d.snps=function(){f.$cctor();return f.snps;};d.serSnippetId=function(){f.$cctor();return f.serSnippetId;};d.serSnippet=function(){f.$cctor();return f.serSnippet;};d.getModel=function(bY,bZ,b0){return e.New(N.ofSeq(bY),bZ,b0);};d.serModel=function(){f.$cctor();return f.serModel;};d.model=function(){f.$cctor();return f.model;};d.roundTrip=function(bY,bZ,b0,b1){var b2,b3;b2=[bZ,b0];b3=q.serialize(b2[0],b2[1],b1);return(bY(b2))(b3);};d.json=function(){var bY;bY=d.model();return q.serialize((d.serModel())[0],(d.serModel())[1],bY);};d.jsonBad=function(){return F.Replace(d.json(),"\"snpGeneration\": 2","\"snpGeneration\":\"2\"");};d.ofJsonDefs=function(){var bY;bY=d.jsonBad();return(s.deserializeWithDefs((d.serModel())[0],(d.serModel())[1]))(bY);};d.ofJsonFail=function(){var bY;bY=d.jsonBad();return(s.deserializeWithFail((d.serModel())[0],(d.serModel())[1]))(bY);};d.dupOptFloatOptString1=function(){f.$cctor();return f.dupOptFloatOptString1;};d.dupFloatOptString2=function(){f.$cctor();return f.dupFloatOptString2;};d.testCases=function(){f.$cctor();return f.testCases;};d.main=function(){var bY,bZ,b0;function b1(b2,b3){var b4;try{b4={$:0,$0:b3()};}catch(b5){b4=((function(b6){return function(b7){return b6(t.prettyPrint(b7));};}(function(b6){bR.log(b6);}))(b5),g.Error(b5));}return[b2,b4];}bY=p.map(function(b2){return b1(b2[0],b2[1]);},d.testCases());bZ=W.Element("div",[],[W.Element("h1",[],[W.TextNode("Serializer")]),W.Element("h3",[],[W.TextNode("Test Cases")]),W.Element("h4",[],[W.TextNode((((bT.Curried3(function(b2,b3,b4){return b2("Passed: "+a.String(b3)+"/"+a.String(b4));}))(a.id))(p.sumBy(function(b2){var b3;b3=b2[1];return b3.$==0?b3.$0?1:0:0;},bY)))(p.length(bY)))]),W.Element("table",[],O.ofSeq(p.delay(function(){return p.mapi(function(b2,b3){var b4;b4=b3[1];return W.Element("tr",[],[W.Element("td",[],[W.TextNode((function(b5){return function(b6){return b5(a.String(b6)+".- ");};}(a.id))(b2+1))]),W.Element("td",[],[W.TextNode(b3[0])]),W.Element("td",[],[W.TextNode(":")]),W.Element("td",[],[W.TextNode(b4.$==1?b4.$0.message:a.String(b4.$0))])]);},bY);})))]);b0=self.document.body;Y.LoadLocalTemplates("");W.Run(b0,bZ);};e.New=function(bY,bZ,b0){return{snippets:bY,generation:bZ,collapsed:b0};};f.$cctor=function(){var bZ,b3,b4,b5,b6,b7,b8,b9,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy;f.$cctor=a.ignore;f.rtn=function(cz){return[cz];};f.result=new A.New();f.result$1=z.result();f.fusion=new D.New();function bY(cz){return F.concat("\n",cz);}f.unindentStr=function(cz){return bY(E.unindent(cz));};function b0(cz){return E.splitByChar("\n",cz);}function b1(cz){var cA,cB;return G.array(cz,{$:1,$0:0},{$:1,$0:(cA=0,(cB=N.length(cz)-2,I.Compare(cA,cB)===1?cA:cB))});}function b2(cz){return F.concat("\n",cz);}f.skipLastLine=(bZ=function(cz){return b1(b0(cz));},function(cz){return b2(bZ(cz));});f.parseDateO=H.tryParseWith(function(cz){var cA,cB;cA=0;return[(cB=_0.TryParse(cz),cB!=null&&cB.$==1&&(cA=cB.$0,true)),cA];});f.parseIntO=H.tryParseWith(function(cz){var cA;cA=0;return[j.TryParseInt32(cz,{get:function(){return cA;},set:function(cB){cA=cB;}}),cA];});f.parseSingleO=H.tryParseWith(function(cz){var cA,cB;cA=0;return[(cB=a.Number(cz),a.isNaN(cB)?false:(cA=cB,true)),cA];});f.parseDoubleO=H.tryParseWith(function(cz){var cA,cB;cA=0;return[(cB=a.Number(cz),a.isNaN(cB)?false:(cA=cB,true)),cA];});f.parseGuidO=H.tryParseWith(function(cz){var cA;cA=null;return[K.TryParse(cz,{get:function(){return cA;},set:function(cB){cA=cB;}}),cA];});f["|Date|_|"]=H.parseDateO();f["|Int|_|"]=H.parseIntO();f["|Single|_|"]=H.parseSingleO();f["|Double|_|"]=H.parseDoubleO();f["|Guid|_|"]=H.parseGuidO();f.serString=[q.toJsonString,function(cz){return cz.tryString();}];f.serFloat=[function(cz){return(function(cA){return function(cB){return cA(t.prettyPrint(cB));};}(a.id))(cz);},function(cz){return cz.tryFloat();}];f.serInt=[function(cz){return(function(cA){return function(cB){return cA(t.prettyPrint(cB));};}(a.id))(cz);},function(cz){return cz.tryInt();}];f.serBool=[function(cz){return(function(cA){return function(cB){return cA(t.prettyPrint(cB));};}(a.id))(cz);},function(cz){return cz.tryBool();}];b4=(b3=1,[function(){b3=b3+1;return b3;},function(cz){b3=cz;}]);f.setGeneration=b4[1];f.getNextGeneration=b4[0];f.defaultSnippet=h.New(new n({$:0,$0:"00000000-0000-0000-0000-000000000000"}),"","",null,new m.New$1(null),[],0);f.tieFighter="|"+"-"+"|";f.snippet0=(b5=M.New("test0","module Hello =",null),h.New(new n({$:0,$0:K.Parse("10000000-0000-0000-0000-000000000001")}),b5.snpName,b5.snpContent,b5.snpParentIdO,b5.snpPredIds,b5.snpProperties,b5.snpGeneration));f.snippet1=(b6=M.New("test1","let hello world = sprintf \"Hello, %s!\" ",{$:1,$0:d.snippet0().snpId}),h.New(new n({$:0,$0:K.Parse("20000000-0000-0000-0000-000000000002")}),b6.snpName,b6.snpContent,b6.snpParentIdO,b6.snpPredIds,b6.snpProperties,b6.snpGeneration));f.snippet2=(b7=M.New("test2","Hello.hello \"World\" ",null),h.New(new n({$:0,$0:K.Parse("30000000-0000-0000-0000-000000000003")}),b7.snpName,b7.snpContent,b7.snpParentIdO,new m.New(O.ofArray([d.snippet1().snpId])),b7.snpProperties,b7.snpGeneration));f.snps=O.ofArray([d.snippet0(),d.snippet1(),d.snippet2()]);function b_(cz){return cz.$0;}function b$(cz){return new n({$:0,$0:cz});}f.serSnippetId=(b8=N.head(F.SplitChars((function(cz){return function(cA){return cz(P.p(cA));};}(a.id))(b$("00000000-0000-0000-0000-000000000000")),[" "],0)),(b9=(function(cz){return function(cA){return cz(t.prettyPrint(cA));};}(a.id))(b8),[function(cz){var cA;cA=a.String(b_(cz));return(((bT.Curried3(function(cB,cC,cD){return cB("{"+F.PadLeft(t.toSafe(cC),10)+" :"+t.prettyPrint(cD)+"}");}))(a.id))(b9))(cA);},function(cz){var cA,cB,cC,cD;cA=(cB=(cC=cz.tryField(b8),cC==null?null:cC.$0.tryString()),(cD=H.parseGuidO(),cB==null?null:cD(cB.$0)));return cA==null?null:{$:1,$0:b$(cA.$0)};}]));f.serSnippet=(ca=[(cb=d.serSnippetId(),q.serField("snpId",function(cz){return cz.snpId;},function(cz,cA){return h.New(cz,cA.snpName,cA.snpContent,cA.snpParentIdO,cA.snpPredIds,cA.snpProperties,cA.snpGeneration);},cb[0],cb[1])),(cc=q.serString(),q.serField("snpName",function(cz){return cz.snpName;},function(cz,cA){return h.New(cA.snpId,cz,cA.snpContent,cA.snpParentIdO,cA.snpPredIds,cA.snpProperties,cA.snpGeneration);},cc[0],cc[1])),(cd=q.serString(),q.serField("snpContent",function(cz){return cz.snpContent;},function(cz,cA){return h.New(cA.snpId,cA.snpName,cz,cA.snpParentIdO,cA.snpPredIds,cA.snpProperties,cA.snpGeneration);},cd[0],cd[1])),(ce=(cf=d.serSnippetId(),q.serOpt(cf[0],cf[1])),q.serField("snpParentIdO",function(cz){return cz.snpParentIdO;},function(cz,cA){return h.New(cA.snpId,cA.snpName,cA.snpContent,cz,cA.snpPredIds,cA.snpProperties,cA.snpGeneration);},ce[0],ce[1])),(cg=(ch=d.serSnippetId(),q.serSet(ch[0],ch[1])),q.serField("snpPredIds",function(cz){return cz.snpPredIds;},function(cz,cA){return h.New(cA.snpId,cA.snpName,cA.snpContent,cA.snpParentIdO,cz,cA.snpProperties,cA.snpGeneration);},cg[0],cg[1])),(ci=(cj=q.serDup(q.serString(),q.serString()),q.serArr(cj[0],cj[1])),q.serField("snpProperties",function(cz){return cz.snpProperties;},function(cz,cA){return h.New(cA.snpId,cA.snpName,cA.snpContent,cA.snpParentIdO,cA.snpPredIds,cz,cA.snpGeneration);},ci[0],ci[1])),(ck=q.serInt(),q.serField("snpGeneration",function(cz){return cz.snpGeneration;},function(cz,cA){return h.New(cA.snpId,cA.snpName,cA.snpContent,cA.snpParentIdO,cA.snpPredIds,cA.snpProperties,cz);},ck[0],ck[1]))],(cl=null,(cl==null?o.FailWith("Initial record is null"):void 0,[function(cz){var cA;function cB(cC,cD,cE){return(((bT.Curried3(function(cF,cG,cH){return cF(t.prettyPrint(cG)+": "+t.toSafe(cH));}))(a.id))(cC))(cD(cz));}cA=F.concat(", ",p.map(function(cC){return cB(cC[0],cC[1],cC[2]);},ca));return(function(cC){return function(cD){return cC("{"+t.toSafe(cD)+"}");};}(a.id))(cA);},function(cz){return{$:1,$0:p.fold(function(cA,cB){var cC,cD,cE;cC=(cD=cz.tryField(cB[0]),(cE=cB[2](cA),cD==null?null:cE(cD.$0)));return cC==null?cA:cC.$0;},cl,ca)};}])));f.serModel=(cm=[(cn=(co=d.serSnippet(),q.serArr(co[0],co[1])),q.serField("snippets",function(cz){return cz.snippets;},function(cz,cA){return e.New(cz,cA.generation,cA.collapsed);},cn[0],cn[1])),(cp=q.serInt(),q.serField("generation",function(cz){return cz.generation;},function(cz,cA){return e.New(cA.snippets,cz,cA.collapsed);},cp[0],cp[1])),(cq=(cr=d.serSnippetId(),q.serSet(cr[0],cr[1])),q.serField("collapsed",function(cz){return cz.collapsed;},function(cz,cA){return e.New(cA.snippets,cA.generation,cz);},cq[0],cq[1]))],(cs=e.New([],0,new m.New$1(null)),(cs==null?o.FailWith("Initial record is null"):void 0,[function(cz){var cA;function cB(cC,cD,cE){return(((bT.Curried3(function(cF,cG,cH){return cF(t.prettyPrint(cG)+": "+t.toSafe(cH));}))(a.id))(cC))(cD(cz));}cA=F.concat(", ",p.map(function(cC){return cB(cC[0],cC[1],cC[2]);},cm));return(function(cC){return function(cD){return cC("{"+t.toSafe(cD)+"}");};}(a.id))(cA);},function(cz){return{$:1,$0:p.fold(function(cA,cB){var cC,cD,cE;cC=(cD=cz.tryField(cB[0]),(cE=cB[2](cA),cD==null?null:cE(cD.$0)));return cC==null?cA:cC.$0;},cs,cm)};}])));f.model=d.getModel(d.snps(),33,new m.New(O.ofArray([d.snippet1().snpId,d.snippet2().snpId])));f.dupOptFloatOptString1=(ct=q.serDup(q.serOpt((q.serFloat())[0],(q.serFloat())[1]),q.serOpt((q.serString())[0],(q.serString())[1])),(cu=ct[0],(cv=ct[1],function(cz){return d.roundTrip(function(cA){return s.tryDeserialize(cA[0],cA[1]);},cu,cv,cz);})));f.dupFloatOptString2=(cw=q.serDup(q.serInt(),q.serOpt((q.serString())[0],(q.serString())[1])),(cx=cw[0],(cy=cw[1],function(cz){return d.roundTrip(function(cA){return s.deserializeWithDefs(cA[0],cA[1]);},cx,cy,cz);})));f.testCases=O.ofArray([["roundTripTry",function(){return I.Equals(d.roundTrip(function(cz){return s.tryDeserialize(cz[0],cz[1]);},(d.serModel())[0],(d.serModel())[1],d.model()),{$:1,$0:d.model()});}],["roundTripDefs",function(){return I.Equals(d.roundTrip(function(cz){return s.deserializeWithDefs(cz[0],cz[1]);},(d.serModel())[0],(d.serModel())[1],d.model()),{$:1,$0:d.model()});}],["roundTripFail",function(){return I.Equals(d.roundTrip(function(cz){return s.deserializeWithFail(cz[0],cz[1]);},(d.serModel())[0],(d.serModel())[1],d.model()),{$:1,$0:d.model()});}],["(float opt, str opt)1",function(){return I.Equals((d.dupOptFloatOptString1())([{$:1,$0:67.4},null]),{$:1,$0:[{$:1,$0:67.4},null]});}],["(int      , str opt)2",function(){return I.Equals((d.dupFloatOptString2())([67,{$:1,$0:"67"}]),{$:1,$0:[67,{$:1,$0:"67"}]});}],["jsonAndBackDefs",function(){return I.Equals(d.ofJsonDefs(),{$:1,$0:e.New(N.map(function(cz){return h.New(cz.snpId,cz.snpName,cz.snpContent,cz.snpParentIdO,cz.snpPredIds,cz.snpProperties,cz.snpGeneration===2?0:cz.snpGeneration);},d.model().snippets),d.model().generation,d.model().collapsed)});}],["jsonAndBackFail",function(){function cz(cA){}try{(function(cA){return cz(d.ofJsonFail(cA));}());return false;}catch(cA){return true;}}]]);};h.New=function(bY,bZ,b0,b1,b2,b3,b4){return{snpId:bY,snpName:bZ,snpContent:b0,snpParentIdO:b1,snpPredIds:b2,snpProperties:b3,snpGeneration:b4};};j.TryParseInt32=function(bY,bZ){return j.TryParse(bY,-2147483648,2147483647,bZ);};k=i.Obj=bT.Class({Equals:function(bY){return this===bY;},GetHashCode:function(){return -1;}},null,k);k.New=bT.Ctor(function(){},k);m=l.FSharpSet=bT.Class({Equals:function(bY){return this.get_Count()===bY.get_Count()&&p.forall2(I.Equals,this,bY);},get_Count:function(){var bY;bY=this.tree;return bY==null?0:bY.Count;},GetEnumerator$1:function(){return T.Get(Q.Enumerate(false,this.tree));},GetHashCode:function(){return -1741749453+I.Hash(N.ofSeq(this));},CompareTo0:function(bY){return p.compareWith(I.Compare,this,bY);},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},k,m);m.New=bT.Ctor(function(bY){m.New$1.call(this,Q.OfSeq(bY));},m);m.New$1=bT.Ctor(function(bY){k.New.call(this);this.tree=bY;},m);n=g.SnippetId=bT.Class({},null,n);o.FailWith=function(bY){throw new bd(bY);};o.range=function(bY,bZ){var b0;b0=1+bZ-bY;return b0<=0?[]:p.init(b0,function(b1){return b1+bY;});};o.KeyValue=function(bY){return[bY.K,bY.V];};p.map=function(bY,bZ){return{GetEnumerator:function(){var b0;b0=T.Get(bZ);return new U.New(null,null,function(b1){return b0.MoveNext()&&(b1.c=bY(b0.Current()),true);},function(){b0.Dispose();});}};};p.sumBy=function(bY,bZ){return p.fold(function(b0,b1){return b0+bY(b1);},0,bZ);};p.length=function(bY){var bZ,b0;bZ=0;b0=T.Get(bY);try{while(b0.MoveNext())bZ=bZ+1;return bZ;}finally{if(typeof b0=="object"&&"Dispose"in b0)b0.Dispose();}};p.delay=function(bY){return{GetEnumerator:function(){return T.Get(bY());}};};p.mapi=function(bY,bZ){return p.map2(bY,p.initInfinite(a.id),bZ);};p.fold=function(bY,bZ,b0){var b1,b2;b1=bZ;b2=T.Get(b0);try{while(b2.MoveNext())b1=bY(b1,b2.Current());return b1;}finally{if(typeof b2=="object"&&"Dispose"in b2)b2.Dispose();}};p.map2=function(bY,bZ,b0){return{GetEnumerator:function(){var b1,b2;b1=T.Get(bZ);b2=T.Get(b0);return new U.New(null,null,function(b3){return b1.MoveNext()&&b2.MoveNext()&&(b3.c=bY(b1.Current(),b2.Current()),true);},function(){b1.Dispose();b2.Dispose();});}};};p.initInfinite=function(bY){return{GetEnumerator:function(){return new U.New(0,null,function(bZ){bZ.c=bY(bZ.s);bZ.s=bZ.s+1;return true;},void 0);}};};p.tryFind=function(bY,bZ){var b0,b1,b2;b0=T.Get(bZ);try{b1=null;while(b1==null&&b0.MoveNext()){b2=b0.Current();bY(b2)?b1={$:1,$0:b2}:void 0;}return b1;}finally{if(typeof b0=="object"&&"Dispose"in b0)b0.Dispose();}};p.tryFindIndex=function(bY,bZ){var b0,b1,b2;b0=T.Get(bZ);try{b1=true;b2=0;while(b1&&b0.MoveNext())if(bY(b0.Current()))b1=false;else b2=b2+1;return b1?null:{$:1,$0:b2};}finally{if(typeof b0=="object"&&"Dispose"in b0)b0.Dispose();}};p.filter=function(bY,bZ){return{GetEnumerator:function(){var b0;b0=T.Get(bZ);return new U.New(null,null,function(b1){var b2,b3,b4;b2=b0.MoveNext();b3=b0.Current();b4=false;while(b2)if(bY(b3)){b1.c=b3;b4=true;b2=false;}else if(b0.MoveNext())b3=b0.Current();else b2=false;return b4;},function(){b0.Dispose();});}};};p.append=function(bY,bZ){return{GetEnumerator:function(){var b0,b1;b0=T.Get(bY);b1=[true];return new U.New(b0,null,function(b2){var b3;return b2.s.MoveNext()?(b2.c=b2.s.Current(),true):(b3=b2.s,!I.Equals(b3,null)?b3.Dispose():void 0,b2.s=null,b1[0]&&(b1[0]=false,b2.s=T.Get(bZ),b2.s.MoveNext()?(b2.c=b2.s.Current(),true):(b2.s.Dispose(),b2.s=null,false)));},function(b2){var b3;b3=b2.s;!I.Equals(b3,null)?b3.Dispose():void 0;});}};};p.collect=function(bY,bZ){return p.concat(p.map(bY,bZ));};p.concat=function(bY){return{GetEnumerator:function(){var bZ;bZ=T.Get(bY);return new U.New(null,null,function(b0){var b1;while(true){b1=b0.s;if(I.Equals(b1,null)){if(bZ.MoveNext()){b0.s=T.Get(bZ.Current());b0=b0;}else{bZ.Dispose();return false;}}else if(b1.MoveNext()){b0.c=b1.Current();return true;}else{b0.Dispose();b0.s=null;b0=b0;}}},function(b0){var b1;b1=b0.s;!I.Equals(b1,null)?b1.Dispose():void 0;!I.Equals(bZ,null)?bZ.Dispose():void 0;});}};};p.init=function(bY,bZ){return p.take(bY,p.initInfinite(bZ));};p.distinct=function(bY){return p.distinctBy(a.id,bY);};p.head=function(bY){var bZ;bZ=T.Get(bY);try{return bZ.MoveNext()?bZ.Current():p.insufficient();}finally{if(typeof bZ=="object"&&"Dispose"in bZ)bZ.Dispose();}};p.take=function(bY,bZ){bY<0?p.nonNegative():void 0;return{GetEnumerator:function(){var b0;b0=[T.Get(bZ)];return new U.New(0,null,function(b1){var b2;b1.s=b1.s+1;return b1.s>bY?false:(b2=b0[0],I.Equals(b2,null)?p.insufficient():b2.MoveNext()?(b1.c=b2.Current(),b1.s===bY?(b2.Dispose(),b0[0]=null):void 0,true):(b2.Dispose(),b0[0]=null,p.insufficient()));},function(){var b1;b1=b0[0];!I.Equals(b1,null)?b1.Dispose():void 0;});}};};p.distinctBy=function(bY,bZ){return{GetEnumerator:function(){var b0,b1;b0=T.Get(bZ);b1=new _.New$3();return new U.New(null,null,function(b2){var b3,b4;if(b0.MoveNext()){b3=b0.Current();b4=b1.Add(bY(b3));while(!b4&&b0.MoveNext()){b3=b0.Current();b4=b1.Add(bY(b3));}return b4&&(b2.c=b3,true);}else return false;},function(){b0.Dispose();});}};};p.compareWith=function(bY,bZ,b0){var b1,b2,b3,b4,b5;b1=T.Get(bZ);try{b3=T.Get(b0);try{b4=0;b5=true;while(b5&&b4===0)if(b1.MoveNext())b4=b3.MoveNext()?bY(b1.Current(),b3.Current()):1;else if(b3.MoveNext())b4=-1;else b5=false;b2=b4;}finally{if(typeof b3=="object"&&"Dispose"in b3)b3.Dispose();}return b2;}finally{if(typeof b1=="object"&&"Dispose"in b1)b1.Dispose();}};p.forall2=function(bY,bZ,b0){return!p.exists2(function(b1,b2){return!bY(b1,b2);},bZ,b0);};p.exists2=function(bY,bZ,b0){var b1,b2,b3,b4;b1=T.Get(bZ);try{b3=T.Get(b0);try{b4=false;while(!b4&&b1.MoveNext()&&b3.MoveNext())b4=bY(b1.Current(),b3.Current());b2=b4;}finally{if(typeof b3=="object"&&"Dispose"in b3)b3.Dispose();}return b2;}finally{if(typeof b1=="object"&&"Dispose"in b1)b1.Dispose();}};p.iter=function(bY,bZ){var b0;b0=T.Get(bZ);try{while(b0.MoveNext())bY(b0.Current());}finally{if(typeof b0=="object"&&"Dispose"in b0)b0.Dispose();}};p.max=function(bY){var bZ,b0,b1;bZ=T.Get(bY);try{if(!bZ.MoveNext())p.seqEmpty();b0=bZ.Current();while(bZ.MoveNext()){b1=bZ.Current();I.Compare(b1,b0)===1?b0=b1:void 0;}return b0;}finally{if(typeof bZ=="object"&&"Dispose"in bZ)bZ.Dispose();}};p.seqEmpty=function(){return o.FailWith("The input sequence was empty.");};p.unfold=function(bY,bZ){return{GetEnumerator:function(){return new U.New(bZ,null,function(b0){var b1;b1=bY(b0.s);return b1==null?false:(b0.c=b1.$0[0],b0.s=b1.$0[1],true);},void 0);}};};q.serialize=function(bY,bZ,b0){return[bY,bZ][0](b0);};q.toJsonString=function(bY){return N.ofSeq(p.delay(function(){return p.append(["\""],p.delay(function(){return p.append(!F.IsNullOrEmpty(bY)?p.collect(function(bZ){var b0,b1;b0=bY[bZ];b1=b0.charCodeAt();return b1>=0&&b1<=7||b1===11||b1>=14&&b1<=31?(function(b2){return function(b3){return b2("\\u"+t.padNumLeft(b3.toString(16),4));};}(a.id))(b1):b0==="\u0008"?"\\b":b0==="\u0009"?"\\t":b0==="\n"?"\\n":b0==="\u000c"?"\\f":b0==="\r"?"\\r":b0==="\""?"\\\"":b0==="\\"?"\\\\":[b0];},o.range(0,bY.length-1)):[],p.delay(function(){return["\""];}));}));})).join("");};q.serField=function(bY,bZ,b0,b1,b2){return[bY,function(b3){return b1(bZ(b3));},function(b3){return function(b4){var b5;b5=b2(b4);return b5==null?null:{$:1,$0:b0(b5.$0,b3)};};}];};q.serString=function(){f.$cctor();return f.serString;};q.serOpt=function(bY,bZ){var b0,b1,b2;function b3(b4){return b4==null?"null":b4.$0;}b0=[bY,bZ];return[(b1=(b2=b0[0],function(b4){return b4==null?null:{$:1,$0:b2(b4.$0)};}),function(b4){return b3(b1(b4));}),function(b4){return{$:1,$0:b4.isNull()?null:b0[1](b4)};}];};q.serSet=function(bY,bZ){var b0,b1,b2;b0=[bY,bZ];return[(b1=(b2=b0[0],function(b3){return new m.New$1(Q.OfSeq(p.map(b2,b3)));}),function(b3){return q.sprintA(b1(b3));}),function(b3){var b4,b5,b6,b7;b4=(b5=b3.tryArray(),(b6=(b7=b0[1],function(b8){return N.choose(b7,b8);}),b5==null?null:{$:1,$0:b6(b5.$0)}));return b4==null?null:{$:1,$0:new m.New(b4.$0)};}];};q.serDup=function(bY,bZ){return[function(b0){return(((bT.Curried3(function(b1,b2,b3){return b1("["+t.toSafe(b2)+", "+t.toSafe(b3)+"]");}))(a.id))(bY[0](b0[0])))(bZ[0](b0[1]));},function(b0){var b1,b2,b3,b4,b5,b6;b1=b0.tryArray();return b1!=null&&b1.$==1&&((b3=b1.$0,!I.Equals(b3,null)&&b3.length===2)&&(b2=[N.get(b1.$0,0),N.get(b1.$0,1)],true))?(b4=bY[1](b2[0]),(b5=bZ[1](b2[1]),b4!=null&&b4.$==1&&(b5!=null&&b5.$==1&&(b6=[b4.$0,b5.$0],true))?{$:1,$0:[b6[0],b6[1]]}:null)):null;}];};q.serArr=function(bY,bZ){var b0,b1,b2;b0=[bY,bZ];return[(b1=(b2=b0[0],function(b3){return N.map(b2,b3);}),function(b3){return q.sprintA(b1(b3));}),function(b3){var b4,b5,b6;b4=b3.tryArray();b5=(b6=b0[1],function(b7){return N.choose(b6,b7);});return b4==null?null:{$:1,$0:b5(b4.$0)};}];};q.serInt=function(){f.$cctor();return f.serInt;};q.serFloat=function(){f.$cctor();return f.serFloat;};q.sprintA=function(bY){var bZ;bZ=F.concat(", ",bY);return(function(b0){return function(b1){return b0("["+t.toSafe(b1)+"]");};}(a.id))(bZ);};s.deserializeWithDefs=function(bY,bZ){return s.deserialize(function(){return{$:1,$0:0};},function(){return{$:1,$0:0};},function(){return{$:1,$0:""};},function(){return{$:1,$0:false};},function(){return{$:1,$0:[]};},bY,bZ);};s.deserializeWithFail=function(bY,bZ){return s.deserialize(function(){return o.FailWith("Error expecting float");},function(){return o.FailWith("Error expecting int");},function(){return o.FailWith("Error expecting string");},function(){return o.FailWith("Error expecting bool");},function(){return o.FailWith("Error expecting array");},bY,bZ);};s.tryDeserialize=function(bY,bZ){return s.deserialize(function(){return null;},function(){return null;},function(){return null;},function(){return null;},function(){return null;},bY,bZ);};s.deserialize=function(bY,bZ,b0,b1,b2,b3,b4){var b5,b6;function b7(b9){return bU.parse(b9);}function b8(b9){return s.getJsonIntermediate(bY,bZ,b0,b1,b2,b9);}b5=function(b9){return b8(b7(b9));};b6=[b3,b4][1];return function(b9){return b6(b5(b9));};};s.getJsonIntermediate=function(bY,bZ,b0,b1,b2,b3){function b4(b5){return s.getJsonIntermediate(bY,bZ,b0,b1,b2,b5);}return L.New(function(){var b5;b5=!b3?null:typeof b3=="number"?{$:1,$0:b3}:null;return b5==null?bY():b5;},function(){var b5;b5=!b3?null:typeof b3=="number"?{$:1,$0:b3}:null;return b5==null?bZ():b5;},function(){var b5;b5=!b3?null:typeof b3=="string"?{$:1,$0:b3}:null;return b5==null?b0():b5;},function(){var b5;b5=!b3?null:typeof b3=="boolean"?{$:1,$0:b3}:null;return b5==null?b1():b5;},function(){var b5;b5=!b3?null:b3 instanceof a.Array?{$:1,$0:N.map(b4,b3)}:null;return b5==null?b2(b4):b5;},function(b5){var b6;return!b3?null:(b6=b3[b5],I.Equals(b6,null)?{$:1,$0:b4(null)}:!b6?null:{$:1,$0:b4(b6)});},function(){return I.Equals(typeof b3,"object")&&!I.Equals(b3,null);},function(){return I.Equals(b3,null);});};t.prettyPrint=function(bY){var bZ,b0;function b1(b2,b3){return b2+" = "+t.prettyPrint(b3);}return bY===null?"null":(bZ=typeof bY,bZ=="string"?"\""+bY+"\"":bZ=="object"?bY instanceof a.Array?"[|"+F.concat("; ",N.map(t.prettyPrint,bY))+"|]":(b0=a.String(bY),b0==="[object Object]"?"{"+F.concat("; ",N.map(function(b2){return b1(b2[0],b2[1]);},x.GetFields(bY)))+"}":b0):a.String(bY));};t.padNumLeft=function(bY,bZ){var b0;b0=N.get(bY,0);return b0===" "||b0==="+"||b0==="-"?b0+F.PadLeftWith(bY.substr(1),bZ-1,"0"):F.PadLeftWith(bY,bZ,"0");};t.toSafe=function(bY){return bY==null?"":bY;};g.Error=function(bY){return{$:1,$0:bY};};x.GetFields=function(bY){var bZ,b0;bZ=[];for(var b1 in bY)bZ.push([b1,bY[b1]]);return bZ;};x.GetFieldValues=function(bY){var bZ,b0;bZ=[];for(var b1 in bY)bZ.push(bY[b1]);return bZ;};A=z.Builder=bT.Class({},k,A);A.New=bT.Ctor(function(){k.New.call(this);},A);z.result=function(){f.$cctor();return f.result;};D=C.Builder=bT.Class({},k,D);D.New=bT.Ctor(function(){k.New.call(this);},D);E.unindent=function(bY){var bZ,b0,b1,b2;bZ=F.SplitChars(bY,["\n"],0);b0=(b1=p.tryFindIndex(function(b3){return" "!==b3;},(b2=p.tryFind(function(b3){return F.Trim(b3)!=="";},bZ),b2==null?"":b2.$0)),b1==null?0:b1.$0);return p.filter(function(b3){return!F.StartsWith(b3,"# 1 ");},p.map(function(b3){return b3.length<=b0?"":b3.substring(b0);},bZ));};E.splitByChar=function(bY,bZ){return F.SplitChars(bZ,[bY],0);};F.concat=function(bY,bZ){return N.ofSeq(bZ).join(bY);};F.Replace=function(bY,bZ,b0){function b1(b2){var b3,b4,b5;b3=b2.indexOf(bZ);return b3!==-1?(b4=F.ReplaceOnce(b2,bZ,b0),(b5=b3+b0.length,F.Substring(b4,0,b3+b0.length)+b1(b4.substring(b5)))):b2;}return b1(bY);};F.PadLeft=function(bY,bZ){return F.PadLeftWith(bY,bZ," ");};F.ReplaceOnce=function(bY,bZ,b0){return bY.replace(bZ,b0);};F.SplitChars=function(bY,bZ,b0){return F.Split(bY,new a.RegExp("["+F.RegexEscape(bZ.join(""))+"]"),b0);};F.Trim=function(bY){return bY.replace(new a.RegExp("^\\s+"),"").replace(new a.RegExp("\\s+$"),"");};F.StartsWith=function(bY,bZ){return bY.substring(0,bZ.length)==bZ;};F.IsNullOrEmpty=function(bY){return bY==null||bY=="";};F.PadLeftWith=function(bY,bZ,b0){return bZ>bY.length?a.Array(bZ-bY.length+1).join(b0)+bY:bY;};F.Substring=function(bY,bZ,b0){return bY.substr(bZ,b0);};F.Split=function(bY,bZ,b0){return b0===1?N.filter(function(b1){return b1!=="";},F.SplitWith(bY,bZ)):F.SplitWith(bY,bZ);};F.RegexEscape=function(bY){return bY.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};F.SplitWith=function(bY,bZ){return bY.split(bZ);};G.array=function(bY,bZ,b0){return bZ==null?b0!=null&&b0.$==1?bY.slice(0,b0.$0+1):[]:b0==null?bY.slice(bZ.$0):bY.slice(bZ.$0,b0.$0+1);};G.string=function(bY,bZ,b0){return bZ==null?b0!=null&&b0.$==1?bY.slice(0,b0.$0+1):"":b0==null?bY.slice(bZ.$0):bY.slice(bZ.$0,b0.$0+1);};H.tryParseWith=function(bY){function bZ(b0,b1){return b0?{$:1,$0:b1}:null;}return function(b0){return bZ.apply(null,bY(b0));};};H.parseDateO=function(){f.$cctor();return f.parseDateO;};H.parseIntO=function(){f.$cctor();return f.parseIntO;};H.parseSingleO=function(){f.$cctor();return f.parseSingleO;};H.parseDoubleO=function(){f.$cctor();return f.parseDoubleO;};H.parseGuidO=function(){f.$cctor();return f.parseGuidO;};I.Equals=function(bY,bZ){var b0,b1,b2,b3;if(bY===bZ)return true;else{b0=typeof bY;if(b0=="object"){if(bY===null||bY===void 0||bZ===null||bZ===void 0)return false;else if("Equals"in bY)return bY.Equals(bZ);else if(bY instanceof a.Array&&bZ instanceof a.Array)return I.arrayEquals(bY,bZ);else if(bY instanceof a.Date&&bZ instanceof a.Date)return I.dateEquals(bY,bZ);else{b1=[true];for(var b4 in bY)if(function(b5){b1[0]=!bY.hasOwnProperty(b5)||bZ.hasOwnProperty(b5)&&I.Equals(bY[b5],bZ[b5]);return!b1[0];}(b4))break;if(b1[0]){for(var b5 in bZ)if(function(b6){b1[0]=!bZ.hasOwnProperty(b6)||bY.hasOwnProperty(b6);return!b1[0];}(b5))break;}return b1[0];}}else return b0=="function"&&("$Func"in bY?bY.$Func===bZ.$Func&&bY.$Target===bZ.$Target:"$Invokes"in bY&&"$Invokes"in bZ&&I.arrayEquals(bY.$Invokes,bZ.$Invokes));}};I.Compare=function(bY,bZ){var b0,b1,b2,b3,b4,b5;if(bY===bZ)return 0;else{b1=typeof bY;switch(b1=="function"?1:b1=="boolean"?2:b1=="number"?2:b1=="string"?2:b1=="object"?3:0){case 0:return typeof bZ=="undefined"?0:-1;case 1:return o.FailWith("Cannot compare function values.");case 2:return bY<bZ?-1:1;case 3:if(bY===null)b2=-1;else if(bZ===null)b2=1;else if("CompareTo"in bY)b2=bY.CompareTo(bZ);else if("CompareTo0"in bY)b2=bY.CompareTo0(bZ);else if(bY instanceof a.Array&&bZ instanceof a.Array)b2=I.compareArrays(bY,bZ);else if(bY instanceof a.Date&&bZ instanceof a.Date)b2=I.compareDates(bY,bZ);else{b3=[0];for(var b6 in bY)if(function(b7){return!bY.hasOwnProperty(b7)?false:!bZ.hasOwnProperty(b7)?(b3[0]=1,true):(b3[0]=I.Compare(bY[b7],bZ[b7]),b3[0]!==0);}(b6))break;if(b3[0]===0){for(var b7 in bZ)if(function(b8){return!bZ.hasOwnProperty(b8)?false:!bY.hasOwnProperty(b8)&&(b3[0]=-1,true);}(b7))break;}b2=b3[0];}return b2;}}};I.arrayEquals=function(bY,bZ){var b0,b1;if(N.length(bY)===N.length(bZ)){b0=true;b1=0;while(b0&&b1<N.length(bY)){!I.Equals(N.get(bY,b1),N.get(bZ,b1))?b0=false:void 0;b1=b1+1;}return b0;}else return false;};I.dateEquals=function(bY,bZ){return bY.getTime()===bZ.getTime();};I.compareArrays=function(bY,bZ){var b0,b1;if(N.length(bY)<N.length(bZ))return -1;else if(N.length(bY)>N.length(bZ))return 1;else{b0=0;b1=0;while(b0===0&&b1<N.length(bY)){b0=I.Compare(N.get(bY,b1),N.get(bZ,b1));b1=b1+1;}return b0;}};I.compareDates=function(bY,bZ){return I.Compare(bY.getTime(),bZ.getTime());};I.Hash=function(bY){var bZ;bZ=typeof bY;return bZ=="function"?0:bZ=="boolean"?bY?1:0:bZ=="number"?bY:bZ=="string"?I.hashString(bY):bZ=="object"?bY==null?0:bY instanceof a.Array?I.hashArray(bY):I.hashObject(bY):0;};I.hashString=function(bY){var bZ,b0,b1;if(bY===null)return 0;else{bZ=5381;for(b0=0,b1=bY.length-1;b0<=b1;b0++)bZ=I.hashMix(bZ,bY[b0].charCodeAt());return bZ;}};I.hashArray=function(bY){var bZ,b0,b1;bZ=-34948909;for(b0=0,b1=N.length(bY)-1;b0<=b1;b0++)bZ=I.hashMix(bZ,I.Hash(N.get(bY,b0)));return bZ;};I.hashObject=function(bY){var bZ,b0;if("GetHashCode"in bY)return bY.GetHashCode();else{bZ=[0];for(var b1 in bY)if(function(b2){bZ[0]=I.hashMix(I.hashMix(bZ[0],I.hashString(b2)),I.Hash(bY[b2]));return false;}(b1))break;return bZ[0];}};I.hashMix=function(bY,bZ){return(bY<<5)+bY+bZ;};K.TryParse=function(bY,bZ){try{bZ.set(K.Parse(bY));return true;}catch(b0){return false;}};K.Parse=function(bY){var bZ,b0,b1;try{return K.ParseExact(bY,"D");}catch(b2){try{bZ=K.ParseExact(bY,"B");}catch(b3){try{b0=K.ParseExact(bY,"P");}catch(b4){try{b1=K.ParseExact(bY,"N");}catch(b5){b1=K.ParseExact(bY,"X");}b0=b1;}bZ=b0;}return bZ;}};K.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new a.RegExp("[xy]","g"),function(bY){var bZ,b0;bZ=bV.random()*16|0;b0=bY=="x"?bZ:bZ&3|8;return b0.toString(16);});};K.ParseExact=function(bY,bZ){var b0,b1,b2,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb;function b3(cc){var cd,ce,cf,cg;for(cd=0,ce=35;cd<=ce;cd++){cd===8||(cd===13||(cd===18||cd===23))?cc[cd]!=="-"?K.ShapeError():void 0:(cg=cc[cd],!("0"<=cg&&cg<="9"||"a"<=cg&&cg<="f")?K.ShapeError():void 0);}return cc;}b4=bZ.toUpperCase();if(b4==="N"){b5=F.Trim(bY).toLowerCase();if(b5.length!==32)K.ShapeError();for(b6=0,b7=31;b6<=b7;b6++){b8=b5[b6];!("0"<=b8&&b8<="9"||"a"<=b8&&b8<="f")?K.ShapeError():void 0;}return F.Substring(b5,0,8)+"-"+F.Substring(b5,8,4)+"-"+F.Substring(b5,12,4)+"-"+F.Substring(b5,16,4)+"-"+b5.substring(20);}else if(b4==="D"){b0=F.Trim(bY).toLowerCase();b0.length!==36?K.ShapeError():void 0;return b3(b0);}else if(b4==="B"){b1=F.Trim(bY).toLowerCase();b1.length!==38||b1[0]!=="{"||b1[17]!=="}"?K.ShapeError():void 0;return b3(F.Substring(b1,1,36));}else if(b4==="P"){b2=F.Trim(bY).toLowerCase();b2.length!==38||b2[0]!=="("||b2[17]!==")"?K.ShapeError():void 0;return b3(F.Substring(b2,1,36));}else if(b4==="X"){b9=F.Trim(bY).toLowerCase();if(b9.length!==68)K.ShapeError();for(b_=0,b$=67;b_<=b$;b_++){switch(b_){case 26:case 0:if(b9[b_]!=="{")K.ShapeError();break;case 62:case 57:case 52:case 47:case 42:case 37:case 32:case 27:case 19:case 12:case 1:if(b9[b_]!=="0")K.ShapeError();break;case 63:case 58:case 53:case 48:case 43:case 38:case 33:case 28:case 20:case 13:case 2:if(b9[b_]!=="x")K.ShapeError();break;case 61:case 56:case 51:case 46:case 41:case 36:case 31:case 25:case 18:case 11:if(b9[b_]!==",")K.ShapeError();break;case 67:case 66:if(b9[b_]!=="{")K.ShapeError();break;default:cb=b9[b_];!("0"<=cb&&cb<="9"||"a"<=cb&&cb<="f")?K.ShapeError():void 0;break;}}return F.Substring(b9,3,8)+"-"+F.Substring(b9,14,4)+"-"+F.Substring(b9,21,4)+"-"+F.Substring(b9,29,2)+F.Substring(b9,34,2)+"-"+F.Substring(b9,39,2)+F.Substring(b9,44,2)+F.Substring(b9,49,2)+F.Substring(b9,54,2)+F.Substring(b9,59,2)+F.Substring(b9,64,2);}else return K.FormatError();};K.ShapeError=function(){throw new be.New$1("Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");};K.FormatError=function(){throw new be.New$1("Format String can be only \"D\", \"d\", \"N\", \"n\", \"P\", \"p\", \"B\", \"b\", \"X\" or \"x\".");};L.New=function(bY,bZ,b0,b1,b2,b3,b4,b5){return{tryFloat:bY,tryInt:bZ,tryString:b0,tryBool:b1,tryArray:b2,tryField:b3,isObject:b4,isNull:b5};};M.New=function(bY,bZ,b0){return h.New(new n({$:0,$0:K.NewGuid()}),bY,bZ,b0,new m.New$1(null),[],(M.getNextGeneration())());};M.getNextGeneration=function(){f.$cctor();return f.getNextGeneration;};N.map=function(bY,bZ){var b0,b1,b2;b0=new a.Array(bZ.length);for(b1=0,b2=bZ.length-1;b1<=b2;b1++)b0[b1]=bY(bZ[b1]);return b0;};N.ofSeq=function(bY){var bZ,b0;if(bY instanceof a.Array)return bY.slice();else if(bY instanceof _1)return N.ofList(bY);else{bZ=[];b0=T.Get(bY);try{while(b0.MoveNext())bZ.push(b0.Current());return bZ;}finally{if(typeof b0=="object"&&"Dispose"in b0)b0.Dispose();}}};N.head=function(bY){N.nonEmpty(bY);return bY[0];};N.choose=function(bY,bZ){var b0,b1,b2,b3;b0=[];for(b1=0,b2=bZ.length-1;b1<=b2;b1++){b3=bY(bZ[b1]);b3==null?void 0:b0.push(b3.$0);}return b0;};N.ofList=function(bY){var bZ,b0;b0=[];bZ=bY;while(!(bZ.$==0)){b0.push(O.head(bZ));bZ=O.tail(bZ);}return b0;};N.sortInPlace=function(bY){N.mapInPlace(function(bZ){return bZ[0];},N.mapiInPlace(function(bZ,b0){return[b0,bZ];},bY).sort(I.Compare));};N.nonEmpty=function(bY){if(bY.length===0)o.FailWith("The input array was empty.");};N.exists=function(bY,bZ){var b0,b1,b2,b3;b0=false;b1=0;b3=N.length(bZ);while(!b0&&b1<b3)if(bY(bZ[b1]))b0=true;else b1=b1+1;return b0;};N.tryPick=function(bY,bZ){var b0,b1,b2;b0=null;b1=0;while(b1<bZ.length&&b0==null){b2=bY(bZ[b1]);b2!=null&&b2.$==1?b0=b2:void 0;b1=b1+1;}return b0;};N.tryFindIndex=function(bY,bZ){var b0,b1;b0=null;b1=0;while(b1<bZ.length&&b0==null){bY(bZ[b1])?b0={$:1,$0:b1}:void 0;b1=b1+1;}return b0;};N.foldBack=function(bY,bZ,b0){var b1,b2,b3,b4,b5;b1=b0;b3=bZ.length;for(b4=1,b5=b3;b4<=b5;b4++)b1=bY(bZ[b3-b4],b1);return b1;};N.filter=function(bY,bZ){var b0,b1,b2;b0=[];for(b1=0,b2=bZ.length-1;b1<=b2;b1++)if(bY(bZ[b1]))b0.push(bZ[b1]);return b0;};N.iter=function(bY,bZ){var b0,b1;for(b0=0,b1=bZ.length-1;b0<=b1;b0++)bY(bZ[b0]);};N.pick=function(bY,bZ){var b0;b0=N.tryPick(bY,bZ);return b0==null?o.FailWith("KeyNotFoundException"):b0.$0;};N.concat=function(bY){return a.Array.prototype.concat.apply([],N.ofSeq(bY));};N.create=function(bY,bZ){var b0,b1,b2;b0=new a.Array(bY);for(b1=0,b2=bY-1;b1<=b2;b1++)b0[b1]=bZ;return b0;};N.init=function(bY,bZ){var b0,b1,b2;bY<0?o.FailWith("Negative size given."):null;b0=new a.Array(bY);for(b1=0,b2=bY-1;b1<=b2;b1++)b0[b1]=bZ(b1);return b0;};N.forall=function(bY,bZ){var b0,b1,b2,b3;b0=true;b1=0;b3=N.length(bZ);while(b0&&b1<b3)if(bY(bZ[b1]))b1=b1+1;else b0=false;return b0;};O.ofArray=function(bY){var bZ,b0,b1;bZ=_1.Empty;for(b0=N.length(bY)-1,b1=0;b0>=b1;b0--)bZ=new _1({$:1,$0:N.get(bY,b0),$1:bZ});return bZ;};O.ofSeq=function(bY){var bZ,b0,b1,b2,b3,b4;if(bY instanceof _1)return bY;else if(bY instanceof a.Array)return O.ofArray(bY);else{bZ=T.Get(bY);try{b1=bZ.MoveNext();if(!b1)b0=_1.Empty;else{b3=new _1({$:1});b2=b3;while(b1){b2.$0=bZ.Current();bZ.MoveNext()?b2=(b4=new _1({$:1}),b2.$1=b4,b4):b1=false;}b2.$1=_1.Empty;b0=b3;}return b0;}finally{if(typeof bZ=="object"&&"Dispose"in bZ)bZ.Dispose();}}};O.head=function(bY){return bY.$==1?bY.$0:O.listEmpty();};O.tail=function(bY){return bY.$==1?bY.$1:O.listEmpty();};O.listEmpty=function(){return o.FailWith("The input list was empty.");};P.p=function(bY){return"SnippetId "+t.prettyPrint(bY.$0);};R.New=function(bY,bZ,b0,b1,b2){return{Node:bY,Left:bZ,Right:b0,Height:b1,Count:b2};};S.NewFromSeq=function(bY){var bZ,b0,b1;bZ={};b0=T.Get(bY);try{while(b0.MoveNext()){b1=b0.Current();bZ[b1[0]]=b1[1];}}finally{if(typeof b0=="object"&&"Dispose"in b0)b0.Dispose();}return bZ;};T.Get=function(bY){return bY instanceof a.Array?T.ArrayEnumerator(bY):I.Equals(typeof bY,"string")?T.StringEnumerator(bY):bY.GetEnumerator();};T.ArrayEnumerator=function(bY){return new U.New(0,null,function(bZ){var b0;b0=bZ.s;return b0<N.length(bY)&&(bZ.c=N.get(bY,b0),bZ.s=b0+1,true);},void 0);};T.StringEnumerator=function(bY){return new U.New(0,null,function(bZ){var b0;b0=bZ.s;return b0<bY.length&&(bZ.c=bY[b0],bZ.s=b0+1,true);},void 0);};T.Get0=function(bY){return bY instanceof a.Array?T.ArrayEnumerator(bY):I.Equals(typeof bY,"string")?T.StringEnumerator(bY):"GetEnumerator0"in bY?bY.GetEnumerator0():bY.GetEnumerator();};U=T.T=bT.Class({Dispose:function(){if(this.d)this.d(this);},MoveNext:function(){return this.n(this);},Current:function(){return this.c;}},k,U);U.New=bT.Ctor(function(bY,bZ,b0,b1){k.New.call(this);this.s=bY;this.c=bZ;this.n=b0;this.d=b1;},U);N.length=function(bY){return bY.dims===2?bY.length*bY.length:bY.length;};N.get=function(bY,bZ){N.checkBounds(bY,bZ);return bY[bZ];};N.checkBounds=function(bY,bZ){if(bZ<0||bZ>=bY.length)o.FailWith("Index was outside the bounds of the array.");};N.set=function(bY,bZ,b0){N.checkBounds(bY,bZ);bY[bZ]=b0;};W=V.Doc=bT.Class({},k,W);W.TextNode=function(bY){return W.Mk({$:5,$0:_4.CreateText(bY)},_3.Const());};W.Run=function(bY,bZ){_6.LinkElement(bY,bZ.docNode);W.RunInPlace(false,bY,bZ);};W.Element=function(bY,bZ,b0){var b1,b2;b1=_7.Concat(bZ);b2=W.Concat(b0);return bf.New(_4.CreateElement(bY),b1,b2);};W.Mk=function(bY,bZ){return new W.New(bY,bZ);};W.RunInPlace=function(bY,bZ,b0){var b1;b1=_6.CreateRunState(bZ,b0.docNode);_3.Sink($.get_UseAnimations()||ba.BatchUpdatesEnabled()?bc.StartProcessor(_6.PerformAnimatedUpdate(bY,b1,b0.docNode)):function(){_6.PerformSyncUpdate(bY,b1,b0.docNode);},b0.updates);};W.Concat=function(bY){var bZ;bZ=bg.ofSeqNonCopying(bY);return bg.TreeReduce(W.get_Empty(),W.Append,bZ);};W.Append=function(bY,bZ){return W.Mk({$:0,$0:bY.docNode,$1:bZ.docNode},_3.Map2Unit(bY.updates,bZ.updates));};W.get_Empty=function(){return W.Mk(null,_3.Const());};W.New=bT.Ctor(function(bY,bZ){k.New.call(this);this.docNode=bY;this.updates=bZ;},W);Y.LoadLocalTemplates=function(bY){!Y.LocalTemplatesLoaded()?(Y.set_LocalTemplatesLoaded(true),Y.LoadNestedTemplates(self.document.body,"")):void 0;Y.LoadedTemplates().set_Item(bY,Y.LoadedTemplateFile(""));};Y.LocalTemplatesLoaded=function(){_9.$cctor();return _9.LocalTemplatesLoaded;};Y.set_LocalTemplatesLoaded=function(bY){_9.$cctor();_9.LocalTemplatesLoaded=bY;};Y.LoadNestedTemplates=function(bY,bZ){var b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc;function b0(cd){var ce,cf;if(!b1.ContainsKey(cd)){ce=(cf=null,[b2.TryGetValue(cd,{get:function(){return cf;},set:function(cg){cf=cg;}}),cf]);ce[0]?(cc.Add(cd),b2.Remove(cd),Y.PrepareTemplateStrict(bZ,{$:1,$0:cd},ce[1][0],{$:1,$0:ce[1][1]},{$:1,$0:b0})):bR.warn(cc.Contains(cd)?"Encountered loop when instantiating "+cd:"Local template does not exist: "+cd);}}b1=Y.LoadedTemplateFile(bZ);b2=new _5.New$5();b3=bY.querySelectorAll("[ws-template]");for(b4=0,b5=b3.length-1;b4<=b5;b4++){b6=b3[b4];b7=b6.getAttribute("ws-template").toLowerCase();b6.removeAttribute("ws-template");b2.set_Item(b7,[[b6],Y.FakeRootSingle(b6)]);}b8=bY.querySelectorAll("[ws-children-template]");for(b9=0,b_=b8.length-1;b9<=b_;b9++){b$=b8[b9];ca=b$.getAttribute("ws-children-template").toLowerCase();b$.removeAttribute("ws-children-template");b2.set_Item(ca,(cb=_4.ChildrenArray(b$),[cb,Y.FakeRoot(cb)]));}cc=new _.New$3();while(b2.count>0)b0(p.head(b2.get_Keys()));};Y.LoadedTemplates=function(){_9.$cctor();return _9.LoadedTemplates;};Y.LoadedTemplateFile=function(bY){var bZ,b0,b1;bZ=(b0=null,[Y.LoadedTemplates().TryGetValue(bY,{get:function(){return b0;},set:function(b2){b0=b2;}}),b0]);return bZ[0]?bZ[1]:(b1=new _5.New$5(),(Y.LoadedTemplates().set_Item(bY,b1),b1));};Y.FakeRootSingle=function(bY){var bZ,b0,b1;bY.removeAttribute("ws-template");bZ=bY.getAttribute("ws-replace");bZ===null?void 0:(bY.removeAttribute("ws-replace"),b0=bY.parentNode,I.Equals(b0,null)?void 0:(b1=self.document.createElement(bY.tagName),b1.setAttribute("ws-replace",bZ),b0.replaceChild(b1,bY)));return Y.FakeRoot([bY]);};Y.FakeRoot=function(bY){var bZ,b0,b1;bZ=self.document.createElement("div");for(b0=0,b1=bY.length-1;b0<=b1;b0++)bZ.appendChild(N.get(bY,b0));return bZ;};Y.PrepareTemplateStrict=function(bY,bZ,b0,b1,b2){var b3,b4;function b5(b_,b$){var ca,cb,cc,cd,ce,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA;function cf(cB){}while(true)switch(b_){case 0:if(b$!==null){ca=b$.nextSibling;if(I.Equals(b$.nodeType,v.TEXT_NODE))bl.convertTextNode(b$);else if(I.Equals(b$.nodeType,v.ELEMENT_NODE))b7(b$);b$=ca;}else return null;break;case 1:cg=G.string(b$.nodeName,{$:1,$0:3},null).toLowerCase();ch=(cb=cg.indexOf("."),cb===-1?[bY,cg]:[G.string(cg,null,{$:1,$0:cb-1}),G.string(cg,{$:1,$0:cb+1},null)]);ci=ch[1];cj=ch[0];if(cj!==""&&!Y.LoadedTemplates().ContainsKey(cj))return bl.failNotLoaded(ci);else{if(cj===""&&b2!=null)b2.$0(ci);ck=Y.LoadedTemplates().get_Item(cj);if(!ck.ContainsKey(ci))return bl.failNotLoaded(ci);else{cl=ck.get_Item(ci);cm=cl.cloneNode(true);cn=new _.New$3();co=new _5.New$5();cp=b$.attributes;for(cq=0,cr=cp.length-1;cq<=cr;cq++){cs=cp.item(cq).name.toLowerCase();co.set_Item(cs,(ct=cp.item(cq).nodeValue,ct===""?cs:ct.toLowerCase()));!cn.Add(cs)?bR.warn("Hole mapped twice",cs):void 0;}for(cu=0,cv=b$.childNodes.length-1;cu<=cv;cu++){cw=b$.childNodes[cu];I.Equals(cw.nodeType,v.ELEMENT_NODE)?!cn.Add(cw.nodeName.toLowerCase())?bR.warn("Hole filled twice",ci):void 0:void 0;}cx=b$.childNodes.length===1&&I.Equals(b$.firstChild.nodeType,v.TEXT_NODE);if(cx){cd=bl.fillTextHole(cm,b$.firstChild.textContent,ci);((function(cB){return function(cC){if(cC!=null)cB(cC.$0);};}((ce=function(cB){return function(cC){return cB.Add(cC);};}(cn),function(cB){return cf(ce(cB));})))(cd));}bl.removeHolesExcept(cm,cn);if(!cx){for(cy=0,cz=b$.childNodes.length-1;cy<=cz;cy++){cA=b$.childNodes[cy];I.Equals(cA.nodeType,v.ELEMENT_NODE)?cA.hasAttributes()?bl.fillInstanceAttrs(cm,cA):b6(cm,cA):void 0;}}bl.mapHoles(cm,co);bl.fill(cm,b$.parentNode,b$);b$.parentNode.removeChild(b$);return;}}break;}}function b6(b_,b$){var ca,cc,cd;function cb(ce,cf){var cg,ch,ci;if(cc==="title"&&b$.hasChildNodes()){cg=bW.parseHTML(b$.textContent);b$.removeChild(b$.firstChild);for(ch=0,ci=cg.length-1;ch<=ci;ch++)b$.appendChild(N.get(cg,ch));}else null;b7(b$);return bl.fill(b$,ce,cf);}cc=b$.nodeName.toLowerCase();_4.IterSelector(b_,"[ws-attr-holes]",function(ce){var cf,cg,ch,ci,cj;cf=F.SplitChars(ce.getAttribute("ws-attr-holes"),[" "],1);for(cg=0,ch=cf.length-1;cg<=ch;cg++){ci=N.get(cf,cg);ce.setAttribute(ci,(cj=new a.RegExp("\\${"+cc+"}","ig"),ce.getAttribute(ci).replace(cj,b$.textContent)));}});cd=b_.querySelector("[ws-hole="+cc+"]");if(I.Equals(cd,null)){ca=b_.querySelector("[ws-replace="+cc+"]");return I.Equals(ca,null)?null:(cb(ca.parentNode,ca),void ca.parentNode.removeChild(ca));}else{while(cd.hasChildNodes())cd.removeChild(cd.lastChild);cd.removeAttribute("ws-hole");return cb(cd,null);}}function b7(b_){if(F.StartsWith(b_.nodeName.toLowerCase(),"ws-"))b9(b_);else{bl.convertAttrs(b_);b8(b_.firstChild);}}function b8(b_){return b5(0,b_);}function b9(b_){return b5(1,b_);}b3=b1==null?Y.FakeRoot(b0):b1.$0;b4=(bZ==null?"":bZ.$0).toLowerCase();Y.LoadedTemplateFile(bY).set_Item(b4,b3);N.length(b0)>0?(function(b_){var b$,ca,cb,cc;while(true){b$=b_.querySelector("[ws-template]");if(I.Equals(b$,null)){ca=b_.querySelector("[ws-children-template]");if(I.Equals(ca,null))return null;else{cb=ca.getAttribute("ws-children-template");ca.removeAttribute("ws-children-template");Y.PrepareTemplateStrict(bY,{$:1,$0:cb},_4.ChildrenArray(ca),null,null);b_=b_;}}else{cc=b$.getAttribute("ws-template");(Y.PrepareSingleTemplate(bY,{$:1,$0:cc},b$))(null);b_=b_;}}}(b3),b8(N.get(b0,0))):void 0;};Y.PrepareSingleTemplate=function(bY,bZ,b0){var b1,b2,b3;b1=Y.FakeRootSingle(b0);b2=[b0];b3={$:1,$0:b1};return function(b4){Y.PrepareTemplateStrict(bY,bZ,b2,b3,b4);};};Y.TextHoleRE=function(){_9.$cctor();return _9.TextHoleRE;};_0.TryParse=function(bY){var bZ;bZ=bX.parse(bY);return a.isNaN(bZ)?null:{$:1,$0:bZ};};j.TryParse=function(bY,bZ,b0,b1){var b2,b3;b2=+bY;b3=b2===b2-b2%1&&b2>=bZ&&b2<=b0;b3?b1.set(b2):void 0;return b3;};Q.OfSeq=function(bY){var bZ;bZ=N.ofSeq(p.distinct(bY));N.sortInPlace(bZ);return Q.Build(bZ,0,bZ.length-1);};Q.Build=function(bY,bZ,b0){var b1,b2,b3;return b0-bZ+1<=0?null:(b1=(bZ+b0)/2>>0,(b2=Q.Build(bY,bZ,b1-1),(b3=Q.Build(bY,b1+1,b0),Q.Branch(N.get(bY,b1),b2,b3))));};Q.Branch=function(bY,bZ,b0){var b1,b2;return R.New(bY,bZ,b0,1+(b1=bZ==null?0:bZ.Height,(b2=b0==null?0:b0.Height,I.Compare(b1,b2)===1?b1:b2)),1+(bZ==null?0:bZ.Count)+(b0==null?0:b0.Count));};Q.Enumerate=function(bY,bZ){function b0(b1,b2){var b3;while(true)if(b1==null)return b2.$==1?{$:1,$0:[b2.$0[0],[b2.$0[1],b2.$1]]}:null;else if(bY){b3=b1;b1=b3.Right;b2=new _1({$:1,$0:[b3.Node,b3.Left],$1:b2});}else{b3=b1;b1=b3.Left;b2=new _1({$:1,$0:[b3.Node,b3.Right],$1:b2});}}return p.unfold(function(b1){return b0(b1[0],b1[1]);},[bZ,_1.Empty]);};_1=O.T=bT.Class({GetEnumerator:function(){return new U.New(this,null,function(bY){var bZ;bZ=bY.s;return bZ.$==0?false:(bY.c=bZ.$0,bY.s=bZ.$1,true);},void 0);},GetEnumerator0:function(){return T.Get(this);}},null,_1);_1.Empty=new _1({$:0});_3.Const=function(bY){var bZ;bZ=_8.New({$:0,$0:bY});return function(){return bZ;};};_3.Sink=function(bY,bZ){function b0(){_8.WhenRun(bZ(),bY,function(){by.scheduler().Fork(b0);});}by.scheduler().Fork(b0);};_3.Map2Unit=function(bY,bZ){return _3.CreateLazy(function(){return _8.Map2Unit(bY(),bZ());});};_3.CreateLazy=function(bY){var bZ;bZ={c:null,o:bY};return function(){var b0,b1;b0=bZ.c;return b0===null?(b0=bZ.o(),bZ.c=b0,(b1=b0.s,b1!=null&&b1.$==0)?bZ.o=null:_8.WhenObsoleteRun(b0,function(){bZ.c=null;}),b0):b0;};};_4.CreateText=function(bY){return _4.Doc().createTextNode(bY);};_4.CreateElement=function(bY){return _4.Doc().createElement(bY);};_4.Doc=function(){bj.$cctor();return bj.Doc;};_4.ChildrenArray=function(bY){var bZ,b0,b1;bZ=[];for(b0=0,b1=bY.childNodes.length-1;b0<=b1;b0++)bZ.push(bY.childNodes[b0]);return bZ;};_4.IterSelector=function(bY,bZ,b0){var b1,b2,b3;b1=bY.querySelectorAll(bZ);for(b2=0,b3=b1.length-1;b2<=b3;b2++)b0(b1[b2]);};_4.InsertAt=function(bY,bZ,b0){var b1;if(!(b0.parentNode===bY&&bZ===(b1=b0.nextSibling,I.Equals(b1,null)?null:b1)))bY.insertBefore(b0,bZ);};_4.RemoveNode=function(bY,bZ){if(bZ.parentNode===bY)bY.removeChild(bZ);};_5=l.Dictionary=bT.Class({set_Item:function(bY,bZ){this.set(bY,bZ);},ContainsKey:function(bY){var bZ,b0;bZ=this;b0=this.data[this.hash(bY)];return b0==null?false:N.exists(function(b1){return bZ.equals.apply(null,[(o.KeyValue(b1))[0],bY]);},b0);},TryGetValue:function(bY,bZ){var b0,b1,b2;b0=this;b1=this.data[this.hash(bY)];return b1==null?false:(b2=N.tryPick(function(b3){var b4;b4=o.KeyValue(b3);return b0.equals.apply(null,[b4[0],bY])?{$:1,$0:b4[1]}:null;},b1),b2!=null&&b2.$==1&&(bZ.set(b2.$0),true));},Remove:function(bY){return this.remove(bY);},get_Keys:function(){return new bm.New(this);},set:function(bY,bZ){var b0,b1,b2,b3;b0=this;b1=this.hash(bY);b2=this.data[b1];b2==null?(this.count=this.count+1,this.data[b1]=new a.Array({K:bY,V:bZ})):(b3=N.tryFindIndex(function(b4){return b0.equals.apply(null,[(o.KeyValue(b4))[0],bY]);},b2),b3==null?(this.count=this.count+1,b2.push({K:bY,V:bZ})):b2[b3.$0]={K:bY,V:bZ});},remove:function(bY){var bZ,b0,b1,b2;bZ=this;b0=this.hash(bY);b1=this.data[b0];return b1==null?false:(b2=N.filter(function(b3){return!bZ.equals.apply(null,[(o.KeyValue(b3))[0],bY]);},b1),N.length(b2)<b1.length&&(this.count=this.count-1,this.data[b0]=b2,true));},get_Item:function(bY){return this.get(bY);},get:function(bY){var bZ,b0;bZ=this;b0=this.data[this.hash(bY)];return b0==null?bk.notPresent():N.pick(function(b1){var b2;b2=o.KeyValue(b1);return bZ.equals.apply(null,[b2[0],bY])?{$:1,$0:b2[1]}:null;},b0);},GetEnumerator:function(){return T.Get0(this);},GetEnumerator0:function(){return T.Get0(N.concat(x.GetFieldValues(this.data)));}},k,_5);_5.New$5=bT.Ctor(function(){_5.New$6.call(this,[],I.Equals,I.Hash);},_5);_5.New$6=bT.Ctor(function(bY,bZ,b0){var b1,b2;k.New.call(this);this.equals=bZ;this.hash=b0;this.count=0;this.data=[];b1=T.Get(bY);try{while(b1.MoveNext()){b2=b1.Current();this.set(b2.K,b2.V);}}finally{if(typeof b1=="object"&&"Dispose"in b1)b1.Dispose();}},_5);_6.LinkElement=function(bY,bZ){_6.InsertDoc(bY,bZ,null);};_6.InsertDoc=function(bY,bZ,b0){var b1;return bZ!=null&&bZ.$==1?_6.InsertNode(bY,bZ.$0.El,b0):bZ!=null&&bZ.$==2?(b1=bZ.$0,(b1.Dirty=false,_6.InsertDoc(bY,b1.Current,b0))):bZ==null?b0:bZ!=null&&bZ.$==4?_6.InsertNode(bY,bZ.$0.Text,b0):bZ!=null&&bZ.$==5?_6.InsertNode(bY,bZ.$0,b0):bZ!=null&&bZ.$==6?N.foldBack(function(b2,b3){return b2==null||b2.constructor===_2?_6.InsertDoc(bY,b2,b3):_6.InsertNode(bY,b2,b3);},bZ.$0.Els,b0):_6.InsertDoc(bY,bZ.$0,_6.InsertDoc(bY,bZ.$1,b0));};_6.CreateRunState=function(bY,bZ){return bo.New(bp.get_Empty(),_6.CreateElemNode(bY,bt.EmptyAttr(),bZ));};_6.PerformAnimatedUpdate=function(bY,bZ,b0){var b1;return $.get_UseAnimations()?(b1=null,by.Delay(function(){var b2,b3,b4;b2=bp.FindAll(b0);b3=_6.ComputeChangeAnim(bZ,b2);b4=_6.ComputeEnterAnim(bZ,b2);return by.Bind($.Play($.Append(b3,_6.ComputeExitAnim(bZ,b2))),function(){return by.Bind(_6.SyncElemNodesNextFrame(bY,bZ),function(){return by.Bind($.Play(b4),function(){bZ.PreviousNodes=b2;return by.Return(null);});});});})):_6.SyncElemNodesNextFrame(bY,bZ);};_6.PerformSyncUpdate=function(bY,bZ,b0){var b1;b1=bp.FindAll(b0);_6.SyncElemNode(bY,bZ.Top);bZ.PreviousNodes=b1;};_6.InsertNode=function(bY,bZ,b0){_4.InsertAt(bY,b0,bZ);return bZ;};_6.CreateElemNode=function(bY,bZ,b0){var b1;_6.LinkElement(bY,b0);b1=bt.Insert(bY,bZ);return bh.New(b1,b0,null,bY,bw.Int(),bT.GetOptional(b1.OnAfterRender));};_6.SyncElemNodesNextFrame=function(bY,bZ){function b0(b1){a.requestAnimationFrame(function(){_6.SyncElemNode(bY,bZ.Top);b1();});}return ba.BatchUpdatesEnabled()?by.FromContinuations(function(b1,b2,b3){return b0.apply(null,[b1,b2,b3]);}):(_6.SyncElemNode(bY,bZ.Top),by.Return(null));};_6.ComputeExitAnim=function(bY,bZ){return $.Concat(N.map(function(b0){return bt.GetExitAnim(b0.Attr);},bp.ToArray(bp.Except(bZ,bp.Filter(function(b0){return bt.HasExitAnim(b0.Attr);},bY.PreviousNodes)))));};_6.ComputeEnterAnim=function(bY,bZ){return $.Concat(N.map(function(b0){return bt.GetEnterAnim(b0.Attr);},bp.ToArray(bp.Except(bY.PreviousNodes,bp.Filter(function(b0){return bt.HasEnterAnim(b0.Attr);},bZ)))));};_6.ComputeChangeAnim=function(bY,bZ){var b0;function b1(b2){return bt.HasChangeAnim(b2.Attr);}b0=function(b2){return bp.Filter(b1,b2);};return $.Concat(N.map(function(b2){return bt.GetChangeAnim(b2.Attr);},bp.ToArray(bp.Intersect(b0(bY.PreviousNodes),b0(bZ)))));};_6.SyncElemNode=function(bY,bZ){!bY?_6.SyncElement(bZ):void 0;_6.Sync(bZ.Children);_6.AfterRender(bZ);};_6.SyncElement=function(bY){function bZ(b0){function b1(b2){var b3,b4;return b2!=null&&b2.$==0?b1(b2.$0)||b1(b2.$1):b2!=null&&b2.$==2?(b3=b2.$0,b3.Dirty||b1(b3.Current)):b2!=null&&b2.$==6&&(b4=b2.$0,b4.Dirty||N.exists(bZ,b4.Holes));}return b1(b0.Children);}bt.Sync(bY.El,bY.Attr);bZ(bY)?_6.DoSyncElement(bY):void 0;};_6.Sync=function(bY){var bZ,b0;if(bY!=null&&bY.$==1)_6.SyncElemNode(false,bY.$0);else if(bY!=null&&bY.$==2)_6.Sync(bY.$0.Current);else if(bY==null);else if(bY!=null&&bY.$==5);else if(bY!=null&&bY.$==4){bZ=bY.$0;bZ.Dirty?(bZ.Text.nodeValue=bZ.Value,bZ.Dirty=false):void 0;}else if(bY!=null&&bY.$==6){b0=bY.$0;N.iter(function(b1){_6.SyncElemNode(false,b1);},b0.Holes);N.iter(function(b1){bt.Sync(b1[0],b1[1]);},b0.Attrs);_6.AfterRender(b0);}else{_6.Sync(bY.$0);_6.Sync(bY.$1);}};_6.AfterRender=function(bY){var bZ;bZ=bT.GetOptional(bY.Render);bZ!=null&&bZ.$==1?(bZ.$0(bY.El),bT.SetOptional(bY,"Render",null)):void 0;};_6.DoSyncElement=function(bY){var bZ,b0,b1;function b2(b3,b4){var b5,b6;return b3!=null&&b3.$==1?b3.$0.El:b3!=null&&b3.$==2?(b5=b3.$0,b5.Dirty?(b5.Dirty=false,_6.InsertDoc(bZ,b5.Current,b4)):b2(b5.Current,b4)):b3==null?b4:b3!=null&&b3.$==4?b3.$0.Text:b3!=null&&b3.$==5?b3.$0:b3!=null&&b3.$==6?(b6=b3.$0,(b6.Dirty?b6.Dirty=false:void 0,N.foldBack(function(b7,b8){return b7==null||b7.constructor===_2?b2(b7,b8):b7;},b6.Els,b4))):b2(b3.$0,b2(b3.$1,b4));}bZ=bY.El;bK.Iter((b0=bY.El,function(b3){_4.RemoveNode(b0,b3);}),bK.Except(bK.DocChildren(bY),bK.Children(bY.El,bT.GetOptional(bY.Delimiters))));b2(bY.Children,(b1=bT.GetOptional(bY.Delimiters),b1!=null&&b1.$==1?b1.$0[1]:null));};_7=V.AttrProxy=bT.Class({},null,_7);_7.Concat=function(bY){var bZ;bZ=bg.ofSeqNonCopying(bY);return bg.TreeReduce(bt.EmptyAttr(),_7.Append,bZ);};_7.Append=function(bY,bZ){return bt.AppendTree(bY,bZ);};_3=V.View=bT.Class({},null,_3);_8.WhenRun=function(bY,bZ,b0){var b1;b1=bY.s;b1==null?b0():b1!=null&&b1.$==2?(b1.$1.push(b0),bZ(b1.$0)):b1!=null&&b1.$==3?(b1.$0.push(bZ),b1.$1.push(b0)):bZ(b1.$0);};_8.Copy=function(bY){var bZ,b0,b1;bZ=bY.s;return bZ==null?bY:bZ!=null&&bZ.$==2?(b0=_8.New({$:2,$0:bZ.$0,$1:[]}),(_8.WhenObsolete(bY,b0),b0)):bZ!=null&&bZ.$==3?(b1=_8.New({$:3,$0:[],$1:[]}),(_8.When(bY,function(b2){_8.MarkDone(b1,bY,b2);},b1),b1)):bY;};_8.WhenObsoleteRun=function(bY,bZ){var b0;b0=bY.s;b0==null?bZ():b0!=null&&b0.$==2?b0.$1.push(bZ):b0!=null&&b0.$==3?b0.$1.push(bZ):void 0;};_8.Map2Unit=function(bY,bZ){var b0,b1,b2;function b3(){var b4,b5,b6;if(!(b4=b2.s,b4!=null&&b4.$==0||b4!=null&&b4.$==2)){b5=_8.ValueAndForever(bY);b6=_8.ValueAndForever(bZ);b5!=null&&b5.$==1?b6!=null&&b6.$==1?b5.$0[1]&&b6.$0[1]?_8.MarkForever(b2,null):_8.MarkReady(b2,null):void 0:void 0;}}b0=bY.s;b1=bZ.s;return b0!=null&&b0.$==0?b1!=null&&b1.$==0?_8.New({$:0,$0:null}):bZ:b1!=null&&b1.$==0?bY:(b2=_8.New({$:3,$0:[],$1:[]}),(_8.When(bY,b3,b2),_8.When(bZ,b3,b2),b2));};_8.WhenObsolete=function(bY,bZ){var b0;b0=bY.s;b0==null?_8.Obsolete(bZ):b0!=null&&b0.$==2?_8.EnqueueSafe(b0.$1,bZ):b0!=null&&b0.$==3?_8.EnqueueSafe(b0.$1,bZ):void 0;};_8.When=function(bY,bZ,b0){var b1;b1=bY.s;b1==null?_8.Obsolete(b0):b1!=null&&b1.$==2?(_8.EnqueueSafe(b1.$1,b0),bZ(b1.$0)):b1!=null&&b1.$==3?(b1.$0.push(bZ),_8.EnqueueSafe(b1.$1,b0)):bZ(b1.$0);};_8.MarkDone=function(bY,bZ,b0){var b1;if(b1=bZ.s,b1!=null&&b1.$==0)_8.MarkForever(bY,b0);else _8.MarkReady(bY,b0);};_8.ValueAndForever=function(bY){var bZ;bZ=bY.s;return bZ!=null&&bZ.$==0?{$:1,$0:[bZ.$0,true]}:bZ!=null&&bZ.$==2?{$:1,$0:[bZ.$0,false]}:null;};_8.MarkForever=function(bY,bZ){var b0,b1,b2,b3;b0=bY.s;if(b0!=null&&b0.$==3){bY.s={$:0,$0:bZ};b1=b0.$0;for(b2=0,b3=N.length(b1)-1;b2<=b3;b2++)(N.get(b1,b2))(bZ);}else void 0;};_8.MarkReady=function(bY,bZ){var b0,b1,b2,b3;b0=bY.s;if(b0!=null&&b0.$==3){bY.s={$:2,$0:bZ,$1:b0.$1};b1=b0.$0;for(b2=0,b3=N.length(b1)-1;b2<=b3;b2++)(N.get(b1,b2))(bZ);}else void 0;};_8.EnqueueSafe=function(bY,bZ){var b0,b1,b2,b3;bY.push(bZ);if(bY.length%20===0){b0=bY.slice(0);bQ.Clear(bY);for(b1=0,b2=N.length(b0)-1;b1<=b2;b1++){b3=N.get(b0,b1);typeof b3=="object"?function(b4){if(b4.s)bY.push(b4);}(b3):function(b4){bY.push(b4);}(b3);}}else void 0;};_9.$cctor=function(){_9.$cctor=a.ignore;_9.LoadedTemplates=new _5.New$5();_9.LocalTemplatesLoaded=false;_9.TextHoleRE="\\${([^}]+)}";};_=l.HashSet=bT.Class({Add:function(bY){return this.add(bY);},Contains:function(bY){var bZ;bZ=this.data[this.hash(bY)];return bZ==null?false:this.arrContains(bY,bZ);},add:function(bY){var bZ,b0;bZ=this.hash(bY);b0=this.data[bZ];return b0==null?(this.data[bZ]=[bY],this.count=this.count+1,true):this.arrContains(bY,b0)?false:(b0.push(bY),this.count=this.count+1,true);},arrContains:function(bY,bZ){var b0,b1,b2,b3;b0=true;b1=0;b3=bZ.length;while(b0&&b1<b3)if(this.equals.apply(null,[bZ[b1],bY]))b0=false;else b1=b1+1;return!b0;},ExceptWith:function(bY){var bZ;bZ=T.Get(bY);try{while(bZ.MoveNext())this.Remove(bZ.Current());}finally{if(typeof bZ=="object"&&"Dispose"in bZ)bZ.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(bY){var bZ,b0,b1,b2;bZ=0;b0=bG.concat(this.data);for(b1=0,b2=b0.length-1;b1<=b2;b1++)N.set(bY,b1,b0[b1]);},IntersectWith:function(bY){var bZ,b0,b1,b2,b3;bZ=new _.New$4(bY,this.equals,this.hash);b0=bG.concat(this.data);for(b1=0,b2=b0.length-1;b1<=b2;b1++){b3=b0[b1];!bZ.Contains(b3)?this.Remove(b3):void 0;}},Remove:function(bY){var bZ;bZ=this.data[this.hash(bY)];return bZ==null?false:this.arrRemove(bY,bZ)&&(this.count=this.count-1,true);},arrRemove:function(bY,bZ){var b0,b1,b2,b3;b0=true;b1=0;b3=bZ.length;while(b0&&b1<b3)if(this.equals.apply(null,[bZ[b1],bY])){bZ.splice.apply(bZ,[b1,1]);b0=false;}else b1=b1+1;return!b0;},GetEnumerator:function(){return T.Get(bG.concat(this.data));},GetEnumerator0:function(){return T.Get(bG.concat(this.data));}},k,_);_.New$3=bT.Ctor(function(){_.New$4.call(this,[],I.Equals,I.Hash);},_);_.New$4=bT.Ctor(function(bY,bZ,b0){var b1;k.New.call(this);this.equals=bZ;this.hash=b0;this.data=[];this.count=0;b1=T.Get(bY);try{while(b1.MoveNext())this.add(b1.Current());}finally{if(typeof b1=="object"&&"Dispose"in b1)b1.Dispose();}},_);_.New$2=bT.Ctor(function(bY){_.New$4.call(this,bY,I.Equals,I.Hash);},_);$.get_UseAnimations=function(){return bq.UseAnimations();};$.Play=function(bY){var bZ;bZ=null;return by.Delay(function(){return by.Bind($.Run(a.ignore,bq.Actions(bY)),function(){bq.Finalize(bY);return by.Return(null);});});};$.Append=function(bY,bZ){return{$:0,$0:bz.Append(bY.$0,bZ.$0)};};$.Run=function(bY,bZ){var b0;function b1(b2){function b3(b4,b5){var b6;b6=b5-b4;bZ.Compute(b6);bY();return b6<=b0?void a.requestAnimationFrame(function(b7){b3(b4,b7);}):b2();}a.requestAnimationFrame(function(b4){b3(b4,b4);});}b0=bZ.Duration;return b0===0?by.Zero():by.FromContinuations(function(b2,b3,b4){return b1.apply(null,[b2,b3,b4]);});};$.Concat=function(bY){return{$:0,$0:bz.Concat(p.map(bq.List,bY))};};ba.BatchUpdatesEnabled=function(){br.$cctor();return br.BatchUpdatesEnabled;};bc.StartProcessor=function(bY){var bZ;function b0(){var b1;b1=null;return by.Delay(function(){return by.Bind(bY,function(){var b2;b2=bZ[0];return b2===1?(bZ[0]=0,by.Zero()):b2===2?(bZ[0]=1,b0()):by.Zero();});});}bZ=[0];return function(){var b1;b1=bZ[0];b1===0?(bZ[0]=1,by.Start(b0(),null)):b1===1?bZ[0]=2:void 0;};};be=i.FormatException=bT.Class({},bd,be);be.New$1=bT.Ctor(function(bY){this.message=bY;_2.setPrototypeOf(this,be.prototype);},be);N.mapiInPlace=function(bY,bZ){var b0,b1;for(b0=0,b1=bZ.length-1;b0<=b1;b0++)bZ[b0]=bY(b0,bZ[b0]);return bZ;};N.mapInPlace=function(bY,bZ){var b0,b1;for(b0=0,b1=bZ.length-1;b0<=b1;b0++)bZ[b0]=bY(bZ[b0]);};p.insufficient=function(){return o.FailWith("The input sequence has an insufficient number of elements.");};p.nonNegative=function(){return o.FailWith("The input must be non-negative.");};bf=V.Elt=bT.Class({},W,bf);bf.New=function(bY,bZ,b0){var b1,b2;b1=_6.CreateElemNode(bY,bZ,b0.docNode);b2=bs.Create(b0.updates);return new bf.New$1({$:1,$0:b1},_3.Map2Unit(bt.Updates(b1.Attr),b2.v),bY,b2);};bf.New$1=bT.Ctor(function(bY,bZ,b0,b1){W.New.call(this,bY,bZ);this.docNode$1=bY;this.updates$1=bZ;this.elt=b0;this.rvUpdates=b1;},bf);bg.ofSeqNonCopying=function(bY){var bZ,b0;if(bY instanceof a.Array)return bY;else if(bY instanceof _1)return N.ofList(bY);else if(bY===null)return[];else{bZ=[];b0=T.Get(bY);try{while(b0.MoveNext())bZ.push(b0.Current());return bZ;}finally{if(typeof b0=="object"&&"Dispose"in b0)b0.Dispose();}}};bg.TreeReduce=function(bY,bZ,b0){var b1;function b2(b3,b4){var b5,b6;return b4<=0?bY:b4===1&&(b3>=0&&b3<b1)?N.get(b0,b3):(b6=b4/2>>0,bZ(b2(b3,b6),b2(b3+b6,b4-b6)));}b1=N.length(b0);return b2(0,b1);};bg.MapTreeReduce=function(bY,bZ,b0,b1){var b2;function b3(b4,b5){var b6,b7;return b5<=0?bZ:b5===1&&(b4>=0&&b4<b2)?bY(N.get(b1,b4)):(b7=b5/2>>0,b0(b3(b4,b7),b3(b4+b7,b5-b7)));}b2=N.length(b1);return b3(0,b2);};bh=V.DocElemNode=bT.Class({Equals:function(bY){return this.ElKey===bY.ElKey;},GetHashCode:function(){return this.ElKey;}},null,bh);bh.New=function(bY,bZ,b0,b1,b2,b3){var b4;return new bh((b4={Attr:bY,Children:bZ,El:b1,ElKey:b2},(bT.SetOptional(b4,"Delimiters",b0),bT.SetOptional(b4,"Render",b3),b4)));};bj.$cctor=function(){bj.$cctor=a.ignore;bj.Doc=self.document;};bk.notPresent=function(){return o.FailWith("The given key was not present in the dictionary.");};bl.convertTextNode=function(bY){var bZ,b0,b1,b2,b3,b4;bZ=null;b0=0;b2=bY.textContent;b3=new a.RegExp(Y.TextHoleRE(),"g");while(bZ=b3.exec(b2),bZ!==null){bY.parentNode.insertBefore(self.document.createTextNode(G.string(b2,{$:1,$0:b0},{$:1,$0:b3.lastIndex-N.get(bZ,0).length-1})),bY);b0=b3.lastIndex;b4=self.document.createElement("span");b4.setAttribute("ws-replace",N.get(bZ,1).toLowerCase());bY.parentNode.insertBefore(b4,bY);}b3.lastIndex=0;bY.textContent=G.string(b2,{$:1,$0:b0},null);};bl.failNotLoaded=function(bY){bR.warn("Instantiating non-loaded template",bY);};bl.fillTextHole=function(bY,bZ,b0){var b1;b1=bY.querySelector("[ws-replace]");return I.Equals(b1,null)?(bR.warn("Filling non-existent text hole",b0),null):(b1.parentNode.replaceChild(new a.Text(bZ),b1),{$:1,$0:b1.getAttribute("ws-replace")});};bl.removeHolesExcept=function(bY,bZ){function b0(b1){_4.IterSelector(bY,"["+b1+"]",function(b2){if(!bZ.Contains(b2.getAttribute(b1)))b2.removeAttribute(b1);});}b0("ws-attr");b0("ws-onafterrender");b0("ws-var");_4.IterSelector(bY,"[ws-hole]",function(b1){if(!bZ.Contains(b1.getAttribute("ws-hole"))){b1.removeAttribute("ws-hole");while(b1.hasChildNodes())b1.removeChild(b1.lastChild);}});_4.IterSelector(bY,"[ws-replace]",function(b1){if(!bZ.Contains(b1.getAttribute("ws-replace")))b1.parentNode.removeChild(b1);});_4.IterSelector(bY,"[ws-on]",function(b1){b1.setAttribute("ws-on",F.concat(" ",N.filter(function(b2){return bZ.Contains(N.get(F.SplitChars(b2,[":"],1),1));},F.SplitChars(b1.getAttribute("ws-on"),[" "],1))));});_4.IterSelector(bY,"[ws-attr-holes]",function(b1){var b2,b3,b4,b5,b6;b2=F.SplitChars(b1.getAttribute("ws-attr-holes"),[" "],1);for(b3=0,b4=b2.length-1;b3<=b4;b3++){b5=N.get(b2,b3);b1.setAttribute(b5,(b6=new a.RegExp(Y.TextHoleRE(),"g"),b1.getAttribute(b5).replace(b6,function(b7,b8){return bZ.Contains(b8)?b7:"";})));}});};bl.fillInstanceAttrs=function(bY,bZ){var b0,b1,b2,b3,b4;bl.convertAttrs(bZ);b0=bZ.nodeName.toLowerCase();b1=bY.querySelector("[ws-attr="+b0+"]");if(I.Equals(b1,null))bR.warn("Filling non-existent attr hole",b0);else{b1.removeAttribute("ws-attr");for(b2=0,b3=bZ.attributes.length-1;b2<=b3;b2++){b4=bZ.attributes.item(b2);b4.name==="class"&&b1.hasAttribute("class")?b1.setAttribute("class",b1.getAttribute("class")+" "+b4.nodeValue):b1.setAttribute(b4.name,b4.nodeValue);}}};bl.mapHoles=function(bY,bZ){function b0(b1){_4.IterSelector(bY,"["+b1+"]",function(b2){var b3,b4;b3=(b4=null,[bZ.TryGetValue(b2.getAttribute(b1).toLowerCase(),{get:function(){return b4;},set:function(b5){b4=b5;}}),b4]);b3[0]?b2.setAttribute(b1,b3[1]):void 0;});}b0("ws-hole");b0("ws-replace");b0("ws-attr");b0("ws-onafterrender");b0("ws-var");_4.IterSelector(bY,"[ws-on]",function(b1){b1.setAttribute("ws-on",F.concat(" ",N.map(function(b2){var b3,b4,b5;b3=F.SplitChars(b2,[":"],1);b4=(b5=null,[bZ.TryGetValue(N.get(b3,1),{get:function(){return b5;},set:function(b6){b5=b6;}}),b5]);return b4[0]?N.get(b3,0)+":"+b4[1]:b2;},F.SplitChars(b1.getAttribute("ws-on"),[" "],1))));});_4.IterSelector(bY,"[ws-attr-holes]",function(b1){var b2,b3,b4;b2=F.SplitChars(b1.getAttribute("ws-attr-holes"),[" "],1);for(b3=0,b4=b2.length-1;b3<=b4;b3++)(function(){var b5;function b6(b7,b8){var b9;b9=o.KeyValue(b8);return b7.replace(new a.RegExp("\\${"+b9[0]+"}","ig"),"${"+b9[1]+"}");}b5=N.get(b2,b3);return b1.setAttribute(b5,(((bT.Curried3(p.fold))(b6))(b1.getAttribute(b5)))(bZ));}());});};bl.fill=function(bY,bZ,b0){while(true)if(bY.hasChildNodes())b0=bZ.insertBefore(bY.lastChild,b0);else return null;};bl.convertAttrs=function(bY){var b0,b1,b2,b3,b4,b5,b6,b7;function bZ(b8){var b9;b9=bY.getAttribute(b8);b9===null?void 0:bY.setAttribute(b8,b9.toLowerCase());}b0=bY.attributes;b1=[];b2=[];b3=[];for(b4=0,b5=b0.length-1;b4<=b5;b4++){b6=b0.item(b4);F.StartsWith(b6.nodeName,"ws-on")&&b6.nodeName!=="ws-onafterrender"&&b6.nodeName!=="ws-on"?(b1.push(b6.nodeName),b2.push(G.string(b6.nodeName,{$:1,$0:"ws-on".length},null)+":"+b6.nodeValue.toLowerCase())):!F.StartsWith(b6.nodeName,"ws-")&&(new a.RegExp(Y.TextHoleRE())).test(b6.nodeValue)?(b6.nodeValue=(b7=new a.RegExp(Y.TextHoleRE(),"g"),b6.nodeValue.replace(b7,function(b8,b9){return"${"+b9.toLowerCase()+"}";})),b3.push(b6.nodeName)):void 0;}!(b2.length==0)?bY.setAttribute("ws-on",F.concat(" ",b2)):void 0;!(b3.length==0)?bY.setAttribute("ws-attr-holes",F.concat(" ",b3)):void 0;bZ("ws-hole");bZ("ws-replace");bZ("ws-attr");bZ("ws-onafterrender");bZ("ws-var");N.iter(function(b8){bY.removeAttribute(b8);},b1);};bm=l.KeyCollection=bT.Class({GetEnumerator$1:function(){return T.Get(p.map(function(bY){return bY.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},k,bm);bm.New=bT.Ctor(function(bY){k.New.call(this);this.d=bY;},bm);bo.New=function(bY,bZ){return{PreviousNodes:bY,Top:bZ};};bp.get_Empty=function(){return{$:0,$0:new _.New$3()};};bp.FindAll=function(bY){var bZ;function b0(b2){if(b2!=null&&b2.$==0){b0(b2.$0);b0(b2.$1);}else if(b2!=null&&b2.$==1)b1(b2.$0);else if(b2!=null&&b2.$==2)b0(b2.$0.Current);else if(b2!=null&&b2.$==6)N.iter(b1,b2.$0.Holes);}function b1(b2){bZ.push(b2);b0(b2.Children);}bZ=[];b0(bY);return{$:0,$0:new _.New$2(bZ)};};bp.Filter=function(bY,bZ){return{$:0,$0:bF.Filter(bY,bZ.$0)};};bp.Except=function(bY,bZ){return{$:0,$0:bF.Except(bY.$0,bZ.$0)};};bp.ToArray=function(bY){return bF.ToArray(bY.$0);};bp.Intersect=function(bY,bZ){return{$:0,$0:bF.Intersect(bY.$0,bZ.$0)};};bq.UseAnimations=function(){bx.$cctor();return bx.UseAnimations;};bq.Actions=function(bY){return bq.ConcatActions(N.choose(function(bZ){return bZ.$==1?{$:1,$0:bZ.$0}:null;},bz.ToArray(bY.$0)));};bq.Finalize=function(bY){N.iter(function(bZ){if(bZ.$==0)bZ.$0();},bz.ToArray(bY.$0));};bq.ConcatActions=function(bY){var bZ,b0,b1,b2;bZ=bg.ofSeqNonCopying(bY);b0=N.length(bZ);return b0===0?bq.Const():b0===1?N.get(bZ,0):(b1=p.max(p.map(function(b3){return b3.Duration;},bZ)),(b2=N.map(function(b3){return bq.Prolong(b1,b3);},bZ),bq.Def(b1,function(b3){N.iter(function(b4){b4.Compute(b3);},b2);})));};bq.List=function(bY){return bY.$0;};bq.Const=function(bY){return bq.Def(0,function(){return bY;});};bq.Def=function(bY,bZ){return{Compute:bZ,Duration:bY};};bq.Prolong=function(bY,bZ){var b0,b1,b2;b0=bZ.Compute;b1=bZ.Duration;b2=bM.Create(function(){return bZ.Compute(bZ.Duration);});return{Compute:function(b3){return b3>=b1?b2.f():b0(b3);},Duration:bY};};br.$cctor=function(){br.$cctor=a.ignore;br.BatchUpdatesEnabled=true;};bs=V.Updates=bT.Class({},null,bs);bs.Create=function(bY){var bZ;bZ=null;bZ=bs.New(bY,null,function(){var b0;b0=bZ.s;return b0===null?(b0=_8.Copy(bZ.c()),bZ.s=b0,_8.WhenObsoleteRun(b0,function(){bZ.s=null;}),b0):b0;});return bZ;};bs.New=function(bY,bZ,b0){return new bs({c:bY,s:bZ,v:b0});};bt.Updates=function(bY){return bg.MapTreeReduce(function(bZ){return bZ.NChanged();},_3.Const(),_3.Map2Unit,bY.DynNodes);};bt.AppendTree=function(bY,bZ){var b0;return bY===null?bZ:bZ===null?bY:(b0=new _7({$:2,$0:bY,$1:bZ}),(bt.SetFlags(b0,bt.Flags(bY)|bt.Flags(bZ)),b0));};bt.EmptyAttr=function(){bA.$cctor();return bA.EmptyAttr;};bt.Insert=function(bY,bZ){var b0,b1,b2;function b3(b4){if(!(b4===null))if(b4!=null&&b4.$==1)b0.push(b4.$0);else if(b4!=null&&b4.$==2){b3(b4.$0);b3(b4.$1);}else if(b4!=null&&b4.$==3)b4.$0(bY);else if(b4!=null&&b4.$==4)b1.push(b4.$0);}b0=[];b1=[];b3(bZ);b2=b0.slice(0);return bv.New(bY,bt.Flags(bZ),b2,b1.length===0?null:{$:1,$0:function(b4){p.iter(function(b5){b5(b4);},b1);}});};bt.HasExitAnim=function(bY){var bZ;bZ=2;return(bY.DynFlags&bZ)===bZ;};bt.GetExitAnim=function(bY){return bt.GetAnim(bY,function(bZ,b0){return bZ.NGetExitAnim(b0);});};bt.HasEnterAnim=function(bY){var bZ;bZ=1;return(bY.DynFlags&bZ)===bZ;};bt.GetEnterAnim=function(bY){return bt.GetAnim(bY,function(bZ,b0){return bZ.NGetEnterAnim(b0);});};bt.HasChangeAnim=function(bY){var bZ;bZ=4;return(bY.DynFlags&bZ)===bZ;};bt.GetChangeAnim=function(bY){return bt.GetAnim(bY,function(bZ,b0){return bZ.NGetChangeAnim(b0);});};bt.SetFlags=function(bY,bZ){bY.flags=bZ;};bt.Flags=function(bY){return bY!==null&&bY.hasOwnProperty("flags")?bY.flags:0;};bt.GetAnim=function(bY,bZ){return $.Concat(N.map(function(b0){return bZ(b0,bY.DynElem);},bY.DynNodes));};bt.Sync=function(bY,bZ){N.iter(function(b0){b0.NSync(bY);},bZ.DynNodes);};bv.New=function(bY,bZ,b0,b1){var b2;b2={DynElem:bY,DynFlags:bZ,DynNodes:b0};bT.SetOptional(b2,"OnAfterRender",b1);return b2;};_8.Obsolete=function(bY){var bZ,b0,b1,b2,b3;b0=bY.s;if(b0==null||(b0!=null&&b0.$==2?(bZ=b0.$1,false):b0!=null&&b0.$==3?(bZ=b0.$1,false):true))void 0;else{bY.s=null;for(b1=0,b2=N.length(bZ)-1;b1<=b2;b1++){b3=N.get(bZ,b1);typeof b3=="object"?function(b4){_8.Obsolete(b4);}(b3):b3();}}};_8.New=function(bY){return{s:bY};};bw.Int=function(){bw.set_counter(bw.counter()+1);return bw.counter();};bw.set_counter=function(bY){bH.$cctor();bH.counter=bY;};bw.counter=function(){bH.$cctor();return bH.counter;};bx.$cctor=function(){bx.$cctor=a.ignore;bx.CubicInOut=bB.Custom(function(bY){var bZ;bZ=bY*bY;return 3*bZ-2*(bZ*bY);});bx.UseAnimations=true;};by.Delay=function(bY){return function(bZ){try{(bY(null))(bZ);}catch(b0){bZ.k({$:1,$0:b0});}};};by.Bind=function(bY,bZ){return by.checkCancel(function(b0){bY(bC.New(function(b1){var b2;if(b1.$==0){b2=b1.$0;by.scheduler().Fork(function(){try{(bZ(b2))(b0);}catch(b3){b0.k({$:1,$0:b3});}});}else by.scheduler().Fork(function(){b0.k(b1);});},b0.ct));});};by.Zero=function(){bD.$cctor();return bD.Zero;};by.Start=function(bY,bZ){var b0,b1;b0=(b1=(by.defCTS())[0],bZ==null?b1:bZ.$0);by.scheduler().Fork(function(){if(!b0.c)bY(bC.New(function(b2){if(b2.$==1)by.UncaughtAsyncError(b2.$0);},b0));});};by.Return=function(bY){return function(bZ){bZ.k({$:0,$0:bY});};};by.checkCancel=function(bY){return function(bZ){if(bZ.ct.c)by.cancel(bZ);else bY(bZ);};};by.defCTS=function(){bD.$cctor();return bD.defCTS;};by.UncaughtAsyncError=function(bY){bR.log("WebSharper: Uncaught asynchronous exception",bY);};by.FromContinuations=function(bY){return function(bZ){var b0;function b1(b2){if(b0[0])o.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{b0[0]=true;by.scheduler().Fork(b2);}}b0=[false];bY(function(b2){b1(function(){bZ.k({$:0,$0:b2});});},function(b2){b1(function(){bZ.k({$:1,$0:b2});});},function(b2){b1(function(){bZ.k({$:2,$0:b2});});});};};by.cancel=function(bY){bY.k({$:2,$0:new bL.New(bY.ct)});};by.scheduler=function(){bD.$cctor();return bD.scheduler;};bz.Append=function(bY,bZ){return bY.$==0?bZ:bZ.$==0?bY:{$:2,$0:bY,$1:bZ};};bz.ToArray=function(bY){var bZ;function b0(b1){if(b1.$==1)bZ.push(b1.$0);else if(b1.$==2){b0(b1.$0);b0(b1.$1);}else if(b1.$==3)N.iter(function(b2){bZ.push(b2);},b1.$0);}bZ=[];b0(bY);return bZ.slice(0);};bz.Concat=function(bY){var bZ;bZ=bg.ofSeqNonCopying(bY);return bg.TreeReduce(bz.Empty(),bz.Append,bZ);};bz.Empty=function(){bN.$cctor();return bN.Empty;};bA.$cctor=function(){bA.$cctor=a.ignore;bA.EmptyAttr=null;};bB=V.Easing=bT.Class({},k,bB);bB.Custom=function(bY){return new bB.New(bY);};bB.New=bT.Ctor(function(bY){k.New.call(this);this.transformTime=bY;},bB);bC.New=function(bY,bZ){return{k:bY,ct:bZ};};bD.$cctor=function(){bD.$cctor=a.ignore;bD.noneCT=bE.New(false,[]);bD.scheduler=new bI.New();bD.defCTS=[new bJ.New()];bD.Zero=by.Return();bD.GetCT=function(bY){bY.k({$:0,$0:bY.ct});};};bE.New=function(bY,bZ){return{c:bY,r:bZ};};bF.Filter=function(bY,bZ){return new _.New$2(N.filter(bY,bF.ToArray(bZ)));};bF.Except=function(bY,bZ){var b0;b0=new _.New$2(bF.ToArray(bZ));b0.ExceptWith(bF.ToArray(bY));return b0;};bF.ToArray=function(bY){var bZ;bZ=N.create(bY.get_Count(),void 0);bY.CopyTo(bZ);return bZ;};bF.Intersect=function(bY,bZ){var b0;b0=new _.New$2(bF.ToArray(bY));b0.IntersectWith(bF.ToArray(bZ));return b0;};bG.concat=function(bY){var bZ,b0;bZ=[];for(var b1 in bY)bZ.push.apply(bZ,bY[b1]);return bZ;};bH.$cctor=function(){bH.$cctor=a.ignore;bH.counter=0;};bI=by.Scheduler=bT.Class({Fork:function(bY){var bZ;bZ=this;this.robin.push(bY);this.idle?(this.idle=false,a.setTimeout(function(){bZ.tick();},0)):void 0;},tick:function(){var bY,bZ,b0;bZ=this;b0=bX.now();bY=true;while(bY)if(this.robin.length===0){this.idle=true;bY=false;}else{(this.robin.shift())();bX.now()-b0>40?(a.setTimeout(function(){bZ.tick();},0),bY=false):void 0;}}},k,bI);bI.New=bT.Ctor(function(){k.New.call(this);this.idle=true;this.robin=[];},bI);bJ=i.CancellationTokenSource=bT.Class({},k,bJ);bJ.New=bT.Ctor(function(){k.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},bJ);bK.Children=function(bY,bZ){var b0,b1,b2;if(bZ!=null&&bZ.$==1){b2=[];b0=bZ.$0[0].nextSibling;while(b0!==bZ.$0[1]){b2.push(b0);b0=b0.nextSibling;}return{$:0,$0:b2};}else return{$:0,$0:N.init(bY.childNodes.length,(b1=bY.childNodes,function(b3){return b1[b3];}))};};bK.Except=function(bY,bZ){var b0;b0=bY.$0;return{$:0,$0:N.filter(function(b1){return N.forall(function(b2){return!(b1===b2);},b0);},bZ.$0)};};bK.Iter=function(bY,bZ){N.iter(bY,bZ.$0);};bK.DocChildren=function(bY){var bZ;function b0(b1){if(b1!=null&&b1.$==2)b0(b1.$0.Current);else if(b1!=null&&b1.$==1)bZ.push(b1.$0.El);else if(b1==null);else if(b1!=null&&b1.$==5)bZ.push(b1.$0);else if(b1!=null&&b1.$==4)bZ.push(b1.$0.Text);else if(b1!=null&&b1.$==6)N.iter(function(b2){if(b2==null||b2.constructor===_2)b0(b2);else bZ.push(b2);},b1.$0.Els);else{b0(b1.$0);b0(b1.$1);}}bZ=[];b0(bY.Children);return{$:0,$0:bg.ofSeqNonCopying(bZ)};};bL=i.OperationCanceledException=bT.Class({},bd,bL);bL.New=bT.Ctor(function(bY){bL.New$1.call(this,"The operation was canceled.",null,bY);},bL);bL.New$1=bT.Ctor(function(bY,bZ,b0){this.message=bY;this.inner=bZ;_2.setPrototypeOf(this,bL.prototype);this.ct=b0;},bL);bM.Create=function(bY){return bP.New(false,bY,bM.forceLazy);};bM.forceLazy=function(){var bY;bY=this.v();this.c=true;this.v=bY;this.f=bM.cachedLazy;return bY;};bM.cachedLazy=function(){return this.v;};bN.$cctor=function(){bN.$cctor=a.ignore;bN.Empty={$:0};};bP.New=function(bY,bZ,b0){return{c:bY,v:bZ,f:b0};};bQ.Clear=function(bY){bY.splice(0,N.length(bY));};bT.OnLoad(function(){d.main();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
//# sourceMappingURL=testing.min.map
