function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS;a=self;b=a.FsRootDll=a.FsRootDll||{};c=b.TestingJS=b.TestingJS||{};d=c.SnippetTemplates=c.SnippetTemplates||{};e=c.AppFrameworkUI=c.AppFrameworkUI||{};f=a.StartupCode$testing$testing=a.StartupCode$testing$testing||{};g=a.WebSharper=a.WebSharper||{};h=g.Operators=g.Operators||{};i=b.LibraryJS=b.LibraryJS||{};j=i.StartAppFramework=i.StartAppFramework||{};k=b.Library=b.Library||{};l=k.Monads=k.Monads||{};m=l.Depend=l.Depend||{};n=g.List=g.List||{};o=i.AppFrameworkTemplate=i.AppFrameworkTemplate||{};p=a.StartupCode$LayoutEngine$LayoutEngine=a.StartupCode$LayoutEngine$LayoutEngine||{};q=g.Seq=g.Seq||{};r=n.T=n.T||{};s=g.Arrays=g.Arrays||{};t=g.Obj=g.Obj||{};u=l.State=l.State||{};v=u.CEBuilder=u.CEBuilder||{};w=l.Result=l.Result||{};x=w.Builder=w.Builder||{};y=m.DependBuilder=m.DependBuilder||{};z=k.String=k.String||{};A=g.Strings=g.Strings||{};B=g.Slice=g.Slice||{};C=k.ParseO=k.ParseO||{};D=g.Unchecked=g.Unchecked||{};E=g.Numeric=g.Numeric||{};F=a.System=a.System||{};G=F.Guid=F.Guid||{};H=g.Lazy=g.Lazy||{};I=i.WebComponent=i.WebComponent||{};J=I.WcTabStrip=I.WcTabStrip||{};K=J.WcTabStripT=J.WcTabStripT||{};L=g.UI=g.UI||{};M=L.Doc=L.Doc||{};N=L.ListModel=L.ListModel||{};O=i.AppFramework=i.AppFramework||{};P=O.PlugIn=O.PlugIn||{};Q=L.Var$1=L.Var$1||{};R=O.PlugInName=O.PlugInName||{};S=L.Var=L.Var||{};T=L.View=L.View||{};U=L.Templating=L.Templating||{};V=U.Runtime=U.Runtime||{};W=V.Server=V.Server||{};X=W.TemplateInstance=W.TemplateInstance||{};Y=W.ProviderBuilder=W.ProviderBuilder||{};Z=W.Handler=W.Handler||{};_0=a.LayoutEngine_Templates=a.LayoutEngine_Templates||{};_1=a.LayoutEngine_GeneratedPrintf=a.LayoutEngine_GeneratedPrintf||{};_2=a.GeneratedPrintf=a.GeneratedPrintf||{};_3=O.PlugInBuilder=O.PlugInBuilder||{};_4=O.Val=O.Val||{};_5=O.Extract0=O.Extract0||{};_6=g.Utils=g.Utils||{};_7=m.Operators=m.Operators||{};_8=O.AAttr=O.AAttr||{};_9=g.JavaScript=g.JavaScript||{};_=_9.Pervasives=_9.Pervasives||{};$=O.PlugInAction=O.PlugInAction||{};ba=a.EventTarget;bb=a.Node;bc=L.AttrProxy=L.AttrProxy||{};bd=L.AttrModule=L.AttrModule||{};be=g.Collections=g.Collections||{};bf=be.FSharpSet=be.FSharpSet||{};bg=L.HtmlModule=L.HtmlModule||{};bh=bg.attr=bg.attr||{};bi=i.View=i.View||{};bj=a.WindowOrWorkerGlobalScope;bk=_9.JS=_9.JS||{};bl=O.PlgElemName=O.PlgElemName||{};bm=O.PlugInDoc=O.PlugInDoc||{};bn=I.WcSplitter=I.WcSplitter||{};bo=i.LayoutEngineModule=i.LayoutEngineModule||{};bp=i.NewLY=i.NewLY||{};bq=O.P=O.P||{};br=O.PlugInVar=O.PlugInVar||{};bs=O.PlugInView=O.PlugInView||{};bt=g.Enumerator=g.Enumerator||{};bu=g.DateUtil=g.DateUtil||{};bv=g.LazyExtensionsProxy=g.LazyExtensionsProxy||{};bw=bv.LazyRecord=bv.LazyRecord||{};bx=O.PlugInQuery=O.PlugInQuery||{};by=L.ConcreteVar=L.ConcreteVar||{};bz=L.Snap=L.Snap||{};bA=L.FromView=L.FromView||{};bB=be.List=be.List||{};bC=be.Dictionary=be.Dictionary||{};bD=be.HashSet=be.HashSet||{};bE=V.Client=V.Client||{};bF=L.Array=L.Array||{};bG=a.Object;bH=bt.T=bt.T||{};bI=L.Attrs=L.Attrs||{};bJ=be.BalancedTree=be.BalancedTree||{};bK=be.Set=be.Set||{};bL=L.Docs=L.Docs||{};bM=bn.WcSplitterT=bn.WcSplitterT||{};bN=L.Client=L.Client||{};bO=bN.Templates=bN.Templates||{};bP=O.Fun=O.Fun||{};bQ=L.Abbrev=L.Abbrev||{};bR=bQ.Fresh=bQ.Fresh||{};bS=bp.P=bp.P||{};bT=L.DomUtility=L.DomUtility||{};bU=i.Hoverable=i.Hoverable||{};bV=bU.Hoverable=bU.Hoverable||{};bW=g.CancellationTokenSource=g.CancellationTokenSource||{};bX=L.Storage=L.Storage||{};bY=L.CheckedInput=L.CheckedInput||{};bZ=be.DictionaryUtil=be.DictionaryUtil||{};b0=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};b1=L.DynamicAttrNode=L.DynamicAttrNode||{};b2=bJ.Tree=bJ.Tree||{};b3=L.DocElemNode=L.DocElemNode||{};b4=a.Event;b5=a.UIEvent;b6=i.ResizeObserver=i.ResizeObserver||{};b7=i.LayoutEngine=i.LayoutEngine||{};b8=L.Elt=L.Elt||{};b9=a.Error;b_=g.AggregateException=g.AggregateException||{};b$=g.Concurrency=g.Concurrency||{};ca=a.CharacterData;cb=bX.ArrayStorage=bX.ArrayStorage||{};cc=bN.Attrs=bN.Attrs||{};cd=cc.Dyn=cc.Dyn||{};ce=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};cf=i.ListModel=i.ListModel||{};cg=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};ch=g.FormatException=g.FormatException||{};ci=L.Updates=L.Updates||{};cj=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};ck=L.An=L.An||{};cl=bN.Settings=bN.Settings||{};cm=bQ.Mailbox=bQ.Mailbox||{};cn=b$.CT=b$.CT||{};co=b$.AsyncBody=b$.AsyncBody||{};cp=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};cq=bO.Prepare=bO.Prepare||{};cr=be.KeyCollection=be.KeyCollection||{};cs=be.HashSetUtil=be.HashSetUtil||{};ct=bN.Docs=bN.Docs||{};cu=ct.RunState=ct.RunState||{};cv=ct.NodeSet=ct.NodeSet||{};cw=L.Anims=L.Anims||{};cx=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};cy=b$.Scheduler=b$.Scheduler||{};cz=g.OperationCanceledException=g.OperationCanceledException||{};cA=g.Queue=g.Queue||{};cB=bo.Layout=bo.Layout||{};cC=bo.Measures=bo.Measures||{};cD=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};cE=L.AppendList=L.AppendList||{};cF=L.String=L.String||{};cG=g.MatchFailureException=g.MatchFailureException||{};cH=L.Easing=L.Easing||{};cI=bQ.HashSet=bQ.HashSet||{};cJ=g.Char=g.Char||{};cK=ct.DomNodes=ct.DomNodes||{};cL=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};cM=a.Math;cN=a.IntelliFactory;cO=cN&&cN.Runtime;cP=a.Date;cQ=a.Reflect;cR=a.console;cS=a.jQuery;d.html=function(){f.$cctor();return f.html$1;};e.main=function(){var cT;cT=j.startWithHtmlD();(m.resolver(n.ofArray([["AppFrameworkTemplate.html",o.html$1()+d.html()]]),cT))();};f.$cctor=function(){f.$cctor=a.ignore;f.html="\r\n            <div style=\"display:none\" >\r\n                <div links>\r\n                    <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" type=\"text/css\" rel=\"stylesheet\">\r\n                    <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\"  type=\"text/javascript\"></script>\r\n                </div>\r\n                <div ws-template=\"AppFramework\" style=\"height: calc(100vh - 4px); width: calc(100vw - 4px) \" class=\"relative\" >\r\n                    <div ws-hole=\"MainClient\"></div>\r\n                    <div class=\"AppFrameworkGo\"><button ws-onclick=\"GoClient\">${MainDoc}</button></div>\r\n                </div>\r\n                <style>\r\n                    .AppFrameworkGo {\r\n                        max-width: 2px;\r\n                        max-height: 2px;\r\n                        z-index: 4000;\r\n                        overflow: hidden;\r\n                        position: fixed;\r\n                        top: 0px;\r\n                        left: 0px;\r\n                    }\r\n                </style>\r\n                <div ws-template=\"FixedSplitterVer\" \r\n                    style=\"display: grid; \r\n                           grid-gap: 0px; \r\n                           box-sizing: border-box; \r\n                           height: 100%;\r\n                           width : 100%;\r\n                           grid-template-areas: 'one two'; \r\n                           grid-template-rows   :100%; \r\n                           overflow: hidden; \r\n                           grid-template-columns: ${PartSizes}\"  >\r\n                   <div ws-hole=\"First\"  style=\"grid-area: one; \" class=\"relative\" ></div>\r\n                   <div ws-hole=\"Second\" style=\"grid-area: two; \" class=\"relative\" ></div>\r\n                </div>               \r\n                <div ws-template=\"FixedSplitterHor\" \r\n               style=\"display: grid; \r\n                      grid-gap: 0px; \r\n                      box-sizing: border-box; \r\n                      height: 100%;\r\n                      width : 100%;\r\n                      grid-template-areas: 'one' 'two'; \r\n                      grid-template-columns:100%; \r\n                      overflow: hidden; \r\n                      grid-template-rows   : ${PartSizes}\"  >\r\n              <div ws-hole=\"First\"  style=\"grid-area: one; \" class=\"relative\" ></div>\r\n              <div ws-hole=\"Second\" style=\"grid-area: two; \" class=\"relative\" ></div>\r\n                </div>               \r\n                <div ws-template=\"WCompSplitterHor\" \r\n                     ws-onafterrender=\"AfterRender\"\r\n                     style=\"display: grid;\r\n                            grid-gap: 5px; \r\n                            box-sizing: border-box; \r\n                            grid-template-areas: 'one' 'two'; \r\n                            grid-template-columns:100%; \r\n                            overflow: hidden; \r\n                            grid-template-rows   : ${PartSizes}\" \r\n                     >\r\n                     <slot></slot>\r\n                    <slot name=\"splitter\">  <div style=\"grid-row:2; grid-column:1 / 1 ; cursor: row-resize; z-index: 3; background-color: #eef ; height: ${Gap}; margin-top :-${Gap}\" ws-onmousedown=\"MouseDown\" ws-onafterrender=\"AfterRenderSp\" ></div> </slot>\r\n                    <style>\r\n                        ::slotted(*) {\r\n                            display: grid;\r\n                            height : 100%;\r\n                            width  : 100%;\r\n                            overflow: hidden;\r\n                        }\r\n                        ::slotted(*:nth-child(2)) {\r\n                            grid-area: two;\r\n                        }\r\n                        ::slotted(*[slot=\"splitter\"]) {\r\n                            grid-row:2; grid-column:1 / 1 ; \r\n                            cursor: row-resize; \r\n                            z-index: 3; \r\n                            background-color: #eef ; \r\n                            height: ${Gap}; \r\n                            margin-top :-${Gap}\r\n                        }\r\n                    </style>\r\n                </div>        \r\n                <div ws-template=\"WCompSplitterVer\" \r\n                     ws-onafterrender=\"AfterRender\"\r\n                     style=\"display: grid; \r\n                            grid-gap: 5px; \r\n                            box-sizing: border-box; \r\n                            grid-template-areas: 'one two'; \r\n                            grid-template-rows   :100%; \r\n                            overflow: hidden; \r\n                            grid-template-columns: ${PartSizes}\"  >\r\n                    <slot></slot>\r\n                    <slot name=\"splitter\"> <div style=\"grid-column:2; grid-row:1 / 1 ; cursor: col-resize; z-index: 3; background-color: #eef ; width: ${Gap}; margin-left :-${Gap}\" ws-onmousedown=\"MouseDown\" ws-onafterrender=\"AfterRenderSp\" ></div> </slot>\r\n                    <style>\r\n                        ::slotted(*) {\r\n                            display: grid;\r\n                            height : 100%;\r\n                            width  : 100%;\r\n                            overflow: hidden;\r\n                        }\r\n                        ::slotted(*:nth-child(2)) {\r\n                            grid-area: two;\r\n                        }\r\n                        ::slotted(*[slot=\"splitter\"]) {\r\n                            grid-column:2; grid-row:1 / 1\r\n                            cursor: column-resize; \r\n                            z-index: 3; \r\n                            background-color: #eef ; \r\n                            width: ${Gap}; \r\n                            margin-left:-${Gap}\r\n                        }\r\n                    </style>\r\n                </div>\r\n                <div ws-template=\"AppFwkClient\" >\r\n                    <ws-FixedSplitterHor>\r\n                        <PartSizes>55px calc(100% - 55px)</PartSizes>\r\n                        <First>\r\n                            <span style=\"display: grid;\r\n                                  grid-template-columns: 30% 20% 20% 10%;\r\n                                  grid-gap: 25px;\r\n                                \">\r\n                                <div class=\"mainTitle\">AppFramework</div>\r\n                            </span>\r\n                        </First>\r\n                        <Second>\r\n                                <ws-FixedSplitterVer>\r\n                                    <PartSizes>calc(100% - 150px) 150px</PartSizes>\r\n                                    <First>\r\n                                        <wcomp-splitter vertical value=\"18\" max=\"100\">\r\n                                            <div><div ws-hole=\"PlugIns\" style=\"overflow:auto\" >\r\n                                                <div ws-template=\"Tile\">\r\n                                                    <div draggable=\"true\" class=\"code-editor-list-tile ${Predecessor} ${Selected}\" \r\n                                                    ws-ondrag=\"Drag\"\r\n                                                    ws-ondragover=\"DragOver\"\r\n                                                    ws-ondrop=\"Drop\"\r\n                                                   >\r\n                                                   <span class=\"node ${Parent} ${ErrorMsg}\" title=\"expand\" ws-onclick=\"ToggleCollapse\"></span>\r\n                                                   <div  class=\"code-editor-list-text\" style=\"text-indent:${Indent}em; white-space: pre\" ws-onclick=\"Select\" ws-onafterrender=\"AfterRender\" >${Name}</div>\r\n                                                   <span class=\"predecessor\" title=\"toggle predecessor\" ws-onclick=\"TogglePred\">X</span>\r\n                                               </div>\r\n                                       \r\n                                                </div>\r\n                                            </div></div>\r\n                                            <wcomp-splitter vertical value=\"100\" min=\"30\" max=\"100\">\r\n                                                <ws-FixedSplitterHor>\r\n                                                    <PartSizes>32px calc(100% - 32px)</PartSizes>\r\n                                                    <First>\r\n                                                        <div>\r\n                                                            <div class=\"input-group\">\r\n                                                                <span class=\"input-group-addon\">name:</span>\r\n                                                                <span class=\"input-group-addon\">${PlugInName}</span>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </First>\r\n                                                    <Second>\r\n                                                        <div style=\"overflow:auto\">\r\n                                                            <div>\r\n                                                                <div>Docs:</div>\r\n                                                                <div ws-hole=\"Docs\" style=\"overflow:auto\" ></div>\r\n                                                            </div>\r\n                                                            <div>\r\n                                                                <div>Views:</div>\r\n                                                                <div ws-hole=\"Views\" style=\"overflow:auto\" >\r\n                                                                    <div ws-template=\"NameValue\" class=\"input-group\">\r\n                                                                        <span class=\"input-group-addon\">${Name}:</span>\r\n                                                                        <span class=\"input-group-addon\">${Value}</span>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <div>\r\n                                                                <div>Queries:</div>\r\n                                                                <div ws-hole=\"Queries\" style=\"overflow:auto\" ></div>\r\n                                                            </div>\r\n                                                            <div>\r\n                                                                <div>Vars:</div>\r\n                                                                <div ws-hole=\"Vars\" style=\"overflow:auto\" >\r\n                                                                    <div ws-template=\"NameValueInput\" class=\"input-group\">\r\n                                                                        <span class=\"input-group-addon\">${Name}:</span>\r\n                                                                        <textarea class=\"form-control\" id=\"\" placeholder=\"Value...\" ws-var=\"Value\" spellcheck=\"false\">\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </Second>\r\n                                                </ws-FixedSplitterHor>\r\n                                                <wcomp-tabstrip >\r\n                                                    <div tabname=\"Properties\">\r\n                                                        <div>\r\n                                                            <table style=\"border-spacing:0px\">\r\n                                                                <thead>\r\n                                                                    <th style=\"width: 30%  \">Name</th>\r\n                                                                    <th style=\"width: 70% \">Value</th>\r\n                                                                </thead>\r\n                                                                <tbody ws-hole=\"Properties\" ws-children-template=\"Property\">\r\n                                                                    <tr ws-onclick=\"Select\" style=\"margin-bottom: 2px\" class=\"level  \">\r\n                                                                        <td class=\"level-item\">\r\n                                                                            <div>\r\n                                                                                <input ws-var=\"Name\" type=\"text\" class=\"form-control\" id=\"\" placeholder=\"Property...\">\r\n                                                                            </div>\r\n                                                                        </td>\r\n                                                                        <td class=\"level-item\">\r\n                                                                            <div>\r\n                                                                                <textarea ws-var=\"Value\" class=\"form-control\" id=\"\" placeholder=\"Value...\"></textarea>\r\n                                                                            </div>\r\n                                                                        </td>\r\n                                                                        <td class=\"level-item\">\r\n                                                                            <div style=\" cursor: pointer \" title=\"remove\">\r\n                                                                                <button ws-onclick=\"Remove\" class=\"delete is-small\">x</button>\r\n                                                                            </div>\r\n                                                                        </td>\r\n                                                                    </tr>\r\n                                                                </tbody>\r\n                                                            </table>\r\n                                                            <button ws-onclick=\"AddProperty\" class=\"add is-small\">add ...</button>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </wcomp-tabstrip>\r\n                                            </wcomp-splitter>\r\n                                        </wcomp-splitter>\r\n                                    </First>\r\n                                    <Second>\r\n                                        <div style=\"\r\n                                            overflow: hidden;\r\n                                            display: grid;\r\n                                            grid-template-columns: 100%;\r\n                                            grid-template-rows: repeat(15, calc(100% / 15));\r\n                                            bxackground-color: #eee;\r\n                                            box-sizing: border-box;\r\n                                            padding : 5px;\r\n                                            grid-gap: 5px;\r\n                                            margin-right: 21px;\r\n                                       \"  class=\"absolute\" ws-hole=\"Actions\" >\r\n                                            <button ws-template=\"Action\"         ws-onclick=\"Click\" class=\"btn\" type=\"button\" id=\"\"          >${Name}</button>\r\n                                            <button ws-template=\"ActionDisabled\" ws-onclick=\"Click\" class=\"btn\" type=\"button\" id=\"\" disabled >${Name}</button>\r\n                                        </div>\r\n                                    </Second>\r\n                                </ws-FixedSplitterVer>\r\n                        </Second>\r\n                    </ws-FixedSplitterHor>\r\n                </div>\r\n                <style style=\"display: none\">\r\n                        .Hidden     { display   : none         }\r\n                        table th,table td { padding:0 5px 0 5px; text-overflow: ellipsis }\r\n                        td input.form-control { \r\n                            padding    : 0px; \r\n                            font-family: monospace;\r\n                            font-size  :   small;\r\n                            margin-top :   0px;\r\n                            margin-left: -2px;\r\n                            width      : 100%\r\n                        }\r\n                        td select {\r\n                            font-size : smaller;\r\n                            max-width : 8ch;\r\n                        }\r\n                        textarea {\r\n                           resize : vertical;\r\n                        }\r\n                        .tab-content {\r\n                            overflow: hidden\r\n                        }\r\n                        .tab-children {\r\n                            position:relative;\r\n                        }\r\n                        .tab-children>div>* {\r\n                            position:absolute;\r\n                            height: 100%;\r\n                            width:  100%;\r\n                            display: grid;\r\n                        }\r\n                        .relative {\r\n                            position:relative;\r\n                        }\r\n                        .relative>* {\r\n                            position:absolute;\r\n                            height: 100%;\r\n                            width:  100%;\r\n                            display: grid;\r\n                        }\r\n                        table.table-striped    tbody tr:nth-child(even) { background: #EEE  }\r\n                        table.table-striped    tbody tr:nth-child(odd ) { background: #FFF  }\r\n                        table.table-striped    tbody input              { background: transparent; border: none}\r\n                        table.table-striped    tbody select             { background: transparent; border: none}\r\n                        table.table-nonstriped tbody tr:nth-child(even) { background: inherit }\r\n                        table.table-nonstriped tbody tr:nth-child(odd ) { background: inherit }\r\n                        table.table            tbody tr.hover           { border    : solid thin transparent; } \r\n                        table.table            tbody tr.hover:hover     { border    : solid thin blue     ; } \r\n                        table.table            tbody th:hover           { background: gray; cursor: pointer }\r\n                        table.table            tbody tr.hover:hover>td  { border-top: solid thin blue     ; \r\n                                                                   border-bottom: solid thin blue     ; } \r\n                        table.table            tbody tr.selected { background   : #b9eeff             ; }\r\n                        table.table            tbody tr.formula.selected { background: #20f7f7             ; }\r\n                        thead { color: gray }\r\n                        h3 { \r\n                            color: gray;\r\n                            line-height: 1em;\r\n                        }\r\n                        button       { border: solid thin transparent ; border-radius: 3px; }\r\n                        button:hover { border: solid thin blue }\r\n                        .indenter { position  : absolute; \r\n                                    top:0px; bottom:0px; left:0px; \r\n                                    background: white; color:white;\r\n                                    border-right: gray thin dotted;\r\n                                    }\r\n                        body {\r\n                            color      : #333;\r\n                            font-size  : small;\r\n                            font-family: monospace;\r\n                            line-height: 1.2;\r\n                        }\r\n                        .mainTitle {  \r\n                            font-size: 48px;\r\n                            font-weight: 500;\r\n                            color: gray;\r\n                            margin-top: -12px;\r\n                        }\r\n                        .CodeMirror {\r\n                            height: 100%;\r\n                        }\r\n                        \r\n                      \r\n                        body { margin: 0px }     \r\n                             \r\n                        div textarea {\r\n                            font-family     : monospace;\r\n                        }\r\n                        .code-editor-list-tile {\r\n                            white-space     : nowrap; \r\n                            border-style    : solid none none;\r\n                            border-color    : white;\r\n                            border-width    : 1px;\r\n                            background-color: #D8D8D8;\r\n                            display         : flex;\r\n                        }\r\n                        .code-editor-list-text{\r\n                            padding         : 1px 10px 1px 5px;\r\n                            overflow        : hidden;\r\n                            text-overflow   : ellipsis;\r\n                            white-space     : nowrap;\r\n                            flex            : 1;\r\n                        }\r\n                        \r\n                        .code-editor-list-tile span.node.ErrorMsg {\r\n                            background-color: red\r\n                        }\r\n                        .code-editor-list-tile span.node.expanded::before {\r\n                            content: \"-\"\r\n                        }\r\n                        .code-editor-list-tile span.node.collapsed::before {\r\n                            content: \"+\"\r\n                        }\r\n                        .code-editor-list-tile.direct-predecessor {\r\n                            font-weight     : bold;\r\n                            color           : blue;\r\n                        }\r\n                        .code-editor-list-tile.indirect-predecessor {\r\n                            color           : blue;\r\n                        }\r\n                        .code-editor-list-tile.included-predecessor {\r\n                            color           : chocolate;\r\n                        }\r\n                        .code-editor-list-tile.selected {\r\n                            background-color: #77F;\r\n                            color           : white;\r\n                        }\r\n                        .code-editor-list-tile.codeSnippet {\r\n                            text-decoration: underline\r\n                        }\r\n                        .code-editor-list-tile:hover {\r\n                            background      : lightgray;\r\n                        }\r\n                        .code-editor-list-tile.selected:hover {\r\n                            background      : blue;\r\n                        }\r\n                        .code-editor-list-tile>.predecessor {\r\n                            font-weight     : bold;\r\n                            border-style    : inset;\r\n                            border-width    : 1px;\r\n                            text-align      : center;\r\n                            color           : transparent;\r\n                        }\r\n                        .code-editor-list-tile.direct-predecessor>.predecessor {\r\n                            color           : blue;\r\n                        }\r\n                        \r\n                        .CodeMirror { height: 100%; }\r\n                        \r\n                        .node {\r\n                            background-color: white; \r\n                            width           : 2ch; \r\n                            color           : #A03; \r\n                            font-weight     : bold; \r\n                            text-align      : center;\r\n                            font-family     : arial;\r\n                        }\r\n                        .Warning { text-decoration: underline lightblue } \r\n                        .Error   { text-decoration: underline red       } \r\n                        \r\n                    </style>\r\n            </div>\r\n            ";f.html$1="\r\n                <div ws-template=\"Snippet\" >\r\n                    <div draggable=\"true\" class=\"code-editor-list-tile ${Predecessor} ${Selected}\" \r\n                         ws-ondrag=\"Drag\"\r\n                         ws-ondragover=\"DragOver\"\r\n                         ws-ondrop=\"Drop\"\r\n                        >\r\n                        <span class=\"node ${Parent} ${ErrorMsg}\" title=\"expand\" ws-onclick=\"ToggleCollapse\"></span>\r\n                        <div  class=\"code-editor-list-text\" style=\"text-indent:${Indent}em; white-space: pre\" ws-onclick=\"Select\" ws-onafterrender=\"AfterRender\" >${Name}</div>\r\n                        <span class=\"predecessor\" title=\"toggle predecessor\" ws-onclick=\"TogglePred\">X</span>\r\n                    </div>\r\n                </div>\r\n                <style>\r\n                    .Hidden     { display   : none         }\r\n                    table th,table td { padding:0 5px 0 5px; text-overflow: ellipsis }\r\n                    td input.form-control { \r\n                        padding    : 0px; \r\n                        font-family: monospace;\r\n                        font-size  :   small;\r\n                        margin-top :   0px;\r\n                        margin-left: -2px;\r\n                        width      : 100%\r\n                    }\r\n                    td select {\r\n                        font-size : smaller;\r\n                        max-width : 8ch;\r\n                    }\r\n                    textarea {\r\n                       resize : none;\r\n                    }\r\n                    .tab-content {\r\n                        overflow: hidden\r\n                    }\r\n                    .tab-children {\r\n                        position:relative;\r\n                    }\r\n                    .tab-children>div>* {\r\n                        position:absolute;\r\n                        height: 100%;\r\n                        width:  100%;\r\n                        display: grid;\r\n                    }\r\n                    .relative {\r\n                        position:relative;\r\n                    }\r\n                    .relative>* {\r\n                        position:absolute;\r\n                        height: 100%;\r\n                        width:  100%;\r\n                        display: grid;\r\n                    }\r\n                    table.table-striped    tbody tr:nth-child(even) { background: #EEE  }\r\n                    table.table-striped    tbody tr:nth-child(odd ) { background: #FFF  }\r\n                    table.table-striped    tbody input              { background: transparent; border: none}\r\n                    table.table-striped    tbody select             { background: transparent; border: none}\r\n                    table.table-nonstriped tbody tr:nth-child(even) { background: inherit }\r\n                    table.table-nonstriped tbody tr:nth-child(odd ) { background: inherit }\r\n                    table.table            tbody tr.hover           { border    : solid thin transparent; } \r\n                    table.table            tbody tr.hover:hover     { border    : solid thin blue     ; } \r\n                    table.table            tbody th:hover           { background: gray; cursor: pointer }\r\n                    table.table            tbody tr.hover:hover>td  { border-top: solid thin blue     ; \r\n                                                               border-bottom: solid thin blue     ; } \r\n                    table.table            tbody tr.selected { background   : #b9eeff             ; }\r\n                    table.table            tbody tr.formula.selected { background: #20f7f7             ; }\r\n                    thead { color: gray }\r\n                    h3 { \r\n                        color: gray;\r\n                        line-height: 1em;\r\n                    }\r\n                    button       { border: solid thin transparent ; border-radius: 3px; }\r\n                    button:hover { border: solid thin blue }\r\n                    .indenter { position  : absolute; \r\n                                top:0px; bottom:0px; left:0px; \r\n                                background: white; color:white;\r\n                                border-right: gray thin dotted;\r\n                                }\r\n                    body {\r\n                        color      : #333;\r\n                        font-size  : small;\r\n                        font-family: monospace;\r\n                        line-height: 1.2;\r\n                    }\r\n                    .mainTitle {  \r\n                        font-size: 48px;\r\n                        font-weight: 500;\r\n                        color: gray;\r\n                        margin-top: -12px;\r\n                    }\r\n                    .CodeMirror {\r\n                        height: 100%;\r\n                    }\r\n                    \r\n                  \r\n                    body { margin: 0px }     \r\n                         \r\n                    div textarea {\r\n                        font-family     : monospace;\r\n                    }\r\n                    .code-editor-list-tile {\r\n                        white-space     : nowrap; \r\n                        border-style    : solid none none;\r\n                        border-color    : white;\r\n                        border-width    : 1px;\r\n                        background-color: #D8D8D8;\r\n                        display         : flex;\r\n                    }\r\n                    .code-editor-list-text{\r\n                        padding         : 1px 10px 1px 5px;\r\n                        overflow        : hidden;\r\n                        text-overflow   : ellipsis;\r\n                        white-space     : nowrap;\r\n                        flex            : 1;\r\n                    }\r\n                    \r\n                    .code-editor-list-tile span.node.ErrorMsg {\r\n                        background-color: red\r\n                    }\r\n                    .code-editor-list-tile span.node.expanded::before {\r\n                        content: \"-\"\r\n                    }\r\n                    .code-editor-list-tile span.node.collapsed::before {\r\n                        content: \"+\"\r\n                    }\r\n                    .code-editor-list-tile.direct-predecessor {\r\n                        font-weight     : bold;\r\n                        color           : blue;\r\n                    }\r\n                    .code-editor-list-tile.indirect-predecessor {\r\n                        color           : blue;\r\n                    }\r\n                    .code-editor-list-tile.included-predecessor {\r\n                        color           : chocolate;\r\n                    }\r\n                    .code-editor-list-tile.selected {\r\n                        background-color: #77F;\r\n                        color           : white;\r\n                    }\r\n                    .code-editor-list-tile.codeSnippet {\r\n                        text-decoration : underline;\r\n                        font-weight     : bold;\r\n                    }\r\n                    .code-editor-list-tile:hover {\r\n                        background      : lightgray;\r\n                    }\r\n                    .code-editor-list-tile.selected:hover {\r\n                        background      : blue;\r\n                    }\r\n                    .code-editor-list-tile>.predecessor {\r\n                        font-weight     : bold;\r\n                        border-style    : inset;\r\n                        border-width    : 1px;\r\n                        text-align      : center;\r\n                        color           : transparent;\r\n                    }\r\n                    .code-editor-list-tile.direct-predecessor>.predecessor {\r\n                        color           : blue;\r\n                    }\r\n                    \r\n                    .CodeMirror { height: 100%; }\r\n                    \r\n                    .node {\r\n                        background-color: white; \r\n                        width           : 2ch; \r\n                        color           : #A03; \r\n                        font-weight     : bold; \r\n                        text-align      : center;\r\n                        font-family     : arial;\r\n                    }\r\n                    .Warning { text-decoration: underline lightblue } \r\n                    .Error   { text-decoration: underline red       } \r\n                    \r\n                </style>\r\n            ";};h.range=function(cT,cU){var cV;cV=1+cU-cT;return cV<=0?[]:q.init(cV,function(cW){return cW+cT;});};h.toInt=function(cT){var cU;cU=h.toUInt(cT);return cU>=2147483648?cU-4294967296:cU;};h.FailWith=function(cT){throw new b9(cT);};h.toUInt=function(cT){return(cT<0?cM.ceil(cT):cM.floor(cT))>>>0;};h.KeyValue=function(cT){return[cT.K,cT.V];};j.startWithHtmlD=function(){p.$cctor();return p.startWithHtmlD;};j.htmlD=function(){p.$cctor();return p.htmlD;};m.resolver=function(cT,cU){function cV(cW){var cX,cY,cZ,c0,c1;function c2(c4){return c4[0];}function c3(c4){return cZ===c4;}return cW.$==1?cW.$0:(cX=cW.$0,cX!=null&&cX.$==1)?(cY=cW.$1,(cZ=cW.$0.$0[0],cV((c0=(c1=q.tryFind(function(c4){return c3(c2(c4));},cT),c1==null?null:{$:1,$0:cY(c1.$0[1])}),c0==null?cY(cW.$0.$0[1]):c0.$0)))):cV(cW.$1(void 0));}return cV(cU);};m.rtn=function(cT){return{$:1,$0:cT};};m.depend=function(){p.$cctor();return p.depend;};m.dependByName=function(cT,cU,cV){return{$:0,$0:{$:1,$0:[cT,cU]},$1:function(cW){return{$:1,$0:cV(cW)};}};};m.bind=function(cT,cU){function cV(cW){var cX,cY;return cW.$==1?(cX=cW.$0,{$:0,$0:null,$1:function(){return cT(cX);}}):(cY=cW.$1,{$:0,$0:cW.$0,$1:function(cZ){return cV(cY(cZ));}});}return cV(cU);};m.map=function(cT){var cU;cU=function(cV){return m.rtn(cT(cV));};return function(cV){return m.bind(cU,cV);};};n.ofArray=function(cT){var cU,cV,cW;cU=r.Empty;for(cV=s.length(cT)-1,cW=0;cV>=cW;cV--)cU=new r({$:1,$0:s.get(cT,cV),$1:cU});return cU;};n.map=function(cT,cU){var cV,cW,cX,cY,cZ;if(cU.$==0)return cU;else{cY=new r({$:1});cV=cY;cW=cU;cX=true;while(cX){cV.$0=cT(cW.$0);cW=cW.$1;cW.$==0?cX=false:cV=(cZ=new r({$:1}),cV.$1=cZ,cZ);}cV.$1=r.Empty;return cY;}};n.foldBack=function(cT,cU,cV){return s.foldBack(cT,s.ofList(cU),cV);};n.ofSeq=function(cT){var cU,cV,cW,cX,cY,cZ;if(cT instanceof r)return cT;else if(cT instanceof a.Array)return n.ofArray(cT);else{cU=bt.Get(cT);try{cW=cU.MoveNext();if(!cW)cV=r.Empty;else{cY=new r({$:1});cX=cY;while(cW){cX.$0=cU.Current();cU.MoveNext()?cX=(cZ=new r({$:1}),cX.$1=cZ,cZ):cW=false;}cX.$1=r.Empty;cV=cY;}return cV;}finally{if(typeof cU=="object"&&"Dispose"in cU)cU.Dispose();}}};n.head=function(cT){return cT.$==1?cT.$0:n.listEmpty();};n.tail=function(cT){return cT.$==1?cT.$1:n.listEmpty();};n.listEmpty=function(){return h.FailWith("The input list was empty.");};o.html$1=function(){f.$cctor();return f.html;};p.$cctor=function(){var cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO;p.$cctor=a.ignore;function eP(f0){return A.concat("\n",f0);}function eQ(f0){return z.splitByChar("\n",f0);}function eR(f0){var f1,f2;return B.array(f0,{$:1,$0:0},{$:1,$0:(f1=0,(f2=s.length(f0)-2,D.Compare(f1,f2)===1?f1:f2))});}function eS(f0){return A.concat("\n",f0);}function eT(f0){return f0+"T00:00:00";}function eU(f0){var f1;function f2(f4){return O.plugIns().TryFindByKey(f4);}function f3(f4){return f4==null?O.defaultPlugIn():f4.$0;}f1=function(f4){return f4==null?null:f2(f4.$0);};return function(f4){return f3(f1(f4));};}function eV(f0,f1){return function(f2){return function(f3){function f4(f5){return M.Element("div",f0(f2),[M.Element("div",[bc.Create("class","input-group")],[M.Element("span",[bc.Create("class","input-group-addon")],[f1(f3)]),M.Input([bc.Create("class","form-control")],f5)])]);}return function(f5){return O.docWithVar(f4,f5);};};};}function eW(f0,f1){var f2,f3;f2=(f3=f0(f1),function(f4){return M.Input(f3,f4);});return function(f4){return O.docWithVar(f2,f4);};}function eX(f0,f1){var f2,f3;f2=(f3=f0(f1),function(f4){return M.InputArea(f3,f4);});return function(f4){return O.docWithVar(f2,f4);};}function eY(f0){var f1;f1=null;return c_.TryGetValue(f0,{get:function(){return f1;},set:function(f2){f1=f2;}})?{$:1,$0:f1}:null;}function eZ(f0,f1){c_.set_Item(f0,f1);return f1;}function e0(f0,f1){var f2;f2=eY(f0);return f2==null?eZ(f0,f1(f0)):f2.$0;}function e1(f0){var f1;f1=null;return db.TryGetValue(f0,{get:function(){return f1;},set:function(f2){f1=f2;}})?{$:1,$0:f1}:null;}function e2(f0,f1){db.set_Item(f0,f1);return f1;}function e3(f0,f1){var f2;f2=e1(f0);return f2==null?e2(f0,f1(f0)):f2.$0;}function e4(f0){var f1;f1=null;return de.TryGetValue(f0,{get:function(){return f1;},set:function(f2){f1=f2;}})?{$:1,$0:f1}:null;}function e5(f0,f1){de.set_Item(f0,f1);return f1;}function e6(f0,f1){var f2;f2=e4(f0);return f2==null?e5(f0,f1(f0)):f2.$0;}function e7(f0){var f1;f1=null;return dh.TryGetValue(f0,{get:function(){return f1;},set:function(f2){f1=f2;}})?{$:1,$0:f1}:null;}function e8(f0,f1){dh.set_Item(f0,f1);return f1;}function e9(f0,f1){var f2;f2=e7(f0);return f2==null?e8(f0,f1(f0)):f2.$0;}function e_(f0){var f1;f1=null;return dk.TryGetValue(f0,{get:function(){return f1;},set:function(f2){f1=f2;}})?{$:1,$0:f1}:null;}function e$(f0,f1){dk.set_Item(f0,f1);return f1;}function fa(f0,f1){var f2;f2=e_(f0);return f2==null?e$(f0,f1(f0)):f2.$0;}function fb(f0){var f1;f1=null;return dn.TryGetValue(f0,{get:function(){return f1;},set:function(f2){f1=f2;}})?{$:1,$0:f1}:null;}function fc(f0,f1){dn.set_Item(f0,f1);return f1;}function fd(f0,f1){var f2;f2=fb(f0);return f2==null?fc(f0,f1(f0)):f2.$0;}function fe(f0){var f1;f1=null;return dq.TryGetValue(f0,{get:function(){return f1;},set:function(f2){f1=f2;}})?{$:1,$0:f1}:null;}function ff(f0,f1){dq.set_Item(f0,f1);return f1;}function fg(f0,f1){var f2;f2=fe(f0);return f2==null?ff(f0,f1(f0)):f2.$0;}function fh(f0){var f1;f1=null;return dt.TryGetValue(f0,{get:function(){return f1;},set:function(f2){f1=f2;}})?{$:1,$0:f1}:null;}function fi(f0,f1){dt.set_Item(f0,f1);return f1;}function fj(f0,f1){var f2;f2=fh(f0);return f2==null?fi(f0,f1(f0)):f2.$0;}function fk(f0){var f1;f1=null;return dw.TryGetValue(f0,{get:function(){return f1;},set:function(f2){f1=f2;}})?{$:1,$0:f1}:null;}function fl(f0,f1){dw.set_Item(f0,f1);return f1;}function fm(f0,f1){var f2;f2=fk(f0);return f2==null?fl(f0,f1(f0)):f2.$0;}function fn(f0){var f1;f1=null;return dz.TryGetValue(f0,{get:function(){return f1;},set:function(f2){f1=f2;}})?{$:1,$0:f1}:null;}function fo(f0,f1){dz.set_Item(f0,f1);return f1;}function fp(f0,f1){var f2;f2=fn(f0);return f2==null?fo(f0,f1(f0)):f2.$0;}function fq(f0){var f1;f1=null;return dC.TryGetValue(f0,{get:function(){return f1;},set:function(f2){f1=f2;}})?{$:1,$0:f1}:null;}function fr(f0,f1){dC.set_Item(f0,f1);return f1;}function fs(f0,f1){var f2;f2=fq(f0);return f2==null?fr(f0,f1(f0)):f2.$0;}function ft(f0){var f1;f1=null;return ej.TryGetValue(f0,{get:function(){return f1;},set:function(f2){f1=f2;}})?{$:1,$0:f1}:null;}function fu(f0,f1){ej.set_Item(f0,f1);return f1;}function fv(f0,f1){var f2;f2=ft(f0);return f2==null?fu(f0,f1(f0)):f2.$0;}function fw(f0){var f1;f1=null;return em.TryGetValue(f0,{get:function(){return f1;},set:function(f2){f1=f2;}})?{$:1,$0:f1}:null;}function fx(f0,f1){em.set_Item(f0,f1);return f1;}function fy(f0,f1){var f2;f2=fw(f0);return f2==null?fx(f0,f1(f0)):f2.$0;}function fz(f0){var f1;f1=null;return ep.TryGetValue(f0,{get:function(){return f1;},set:function(f2){f1=f2;}})?{$:1,$0:f1}:null;}function fA(f0,f1){ep.set_Item(f0,f1);return f1;}function fB(f0,f1){var f2;f2=fz(f0);return f2==null?fA(f0,f1(f0)):f2.$0;}function fC(f0){var f1;f1=null;return es.TryGetValue(f0,{get:function(){return f1;},set:function(f2){f1=f2;}})?{$:1,$0:f1}:null;}function fD(f0,f1){es.set_Item(f0,f1);return f1;}function fE(f0,f1){var f2;f2=fC(f0);return f2==null?fD(f0,f1(f0)):f2.$0;}function fF(f0){var f1;f1=null;return ev.TryGetValue(f0,{get:function(){return f1;},set:function(f2){f1=f2;}})?{$:1,$0:f1}:null;}function fG(f0,f1){ev.set_Item(f0,f1);return f1;}function fH(f0,f1){var f2;f2=fF(f0);return f2==null?fG(f0,f1(f0)):f2.$0;}function fI(f0){var f1;f1=null;return ey.TryGetValue(f0,{get:function(){return f1;},set:function(f2){f1=f2;}})?{$:1,$0:f1}:null;}function fJ(f0,f1){ey.set_Item(f0,f1);return f1;}function fK(f0,f1){var f2;f2=fI(f0);return f2==null?fJ(f0,f1(f0)):f2.$0;}function fL(f0){var f1;f1=null;return eB.TryGetValue(f0,{get:function(){return f1;},set:function(f2){f1=f2;}})?{$:1,$0:f1}:null;}function fM(f0,f1){eB.set_Item(f0,f1);return f1;}function fN(f0,f1){var f2;f2=fL(f0);return f2==null?fM(f0,f1(f0)):f2.$0;}function fO(f0){var f1;f1=null;return eE.TryGetValue(f0,{get:function(){return f1;},set:function(f2){f1=f2;}})?{$:1,$0:f1}:null;}function fP(f0,f1){eE.set_Item(f0,f1);return f1;}function fQ(f0,f1){var f2;f2=fO(f0);return f2==null?fP(f0,f1(f0)):f2.$0;}function fR(f0){var f1;f1=null;return eH.TryGetValue(f0,{get:function(){return f1;},set:function(f2){f1=f2;}})?{$:1,$0:f1}:null;}function fS(f0,f1){eH.set_Item(f0,f1);return f1;}function fT(f0,f1){var f2;f2=fR(f0);return f2==null?fS(f0,f1(f0)):f2.$0;}function fU(f0){var f1;f1=null;return eK.TryGetValue(f0,{get:function(){return f1;},set:function(f2){f1=f2;}})?{$:1,$0:f1}:null;}function fV(f0,f1){eK.set_Item(f0,f1);return f1;}function fW(f0,f1){var f2;f2=fU(f0);return f2==null?fV(f0,f1(f0)):f2.$0;}function fX(f0){var f1;f1=null;return eN.TryGetValue(f0,{get:function(){return f1;},set:function(f2){f1=f2;}})?{$:1,$0:f1}:null;}function fY(f0,f1){eN.set_Item(f0,f1);return f1;}function fZ(f0,f1){var f2;f2=fX(f0);return f2==null?fY(f0,f1(f0)):f2.$0;}p.state=new v.New();p.result=new x.New();p.result$1=w.result();p.depend=new y.New();p.rtn=m.rtn;p.depend$1=m.depend();p.unindentStr=function(f0){return eP(z.unindent(f0));};p.skipLastLine=(cT=function(f0){return eR(eQ(f0));},function(f0){return eS(cT(f0));});p.parseDateO2=(cU=C.tryParseWith(function(f0){var f1,f2;f1=0;return[(f2=bu.TryParse(f0),f2!=null&&f2.$==1&&(f1=f2.$0,true)),f1];}),function(f0){return cU(eT(f0));});p.parseDateO=C.tryParseWith(function(f0){var f1,f2;f1=0;return[(f2=bu.TryParse(f0),f2!=null&&f2.$==1&&(f1=f2.$0,true)),f1];});p.parseIntO=C.tryParseWith(function(f0){var f1;f1=0;return[E.TryParseInt32(f0,{get:function(){return f1;},set:function(f2){f1=f2;}}),f1];});p.parseInt64O=C.tryParseWith(function(f0){var f1;f1=0;return[E.TryParseInt64(f0,{get:function(){return f1;},set:function(f2){f1=f2;}}),f1];});p.parseSingleO=C.tryParseWith(function(f0){var f1,f2;f1=0;return[(f2=a.Number(f0),a.isNaN(f2)?false:(f1=f2,true)),f1];});p.parseDoubleO=C.tryParseWith(function(f0){var f1,f2;f1=0;return[(f2=a.Number(f0),a.isNaN(f2)?false:(f1=f2,true)),f1];});p.parseGuidO=C.tryParseWith(function(f0){var f1;f1=null;return[G.TryParse(f0,{get:function(){return f1;},set:function(f2){f1=f2;}}),f1];});p["|Date|_|"]=C.parseDateO();p["|Int|_|"]=C.parseIntO();p["|Int64|_|"]=C.parseInt64O();p["|Single|_|"]=C.parseSingleO();p["|Double|_|"]=C.parseDoubleO();p["|Guid|_|"]=C.parseGuidO();p.counter=1;p.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";p.rexEmail="(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@[*[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+]*";p.observers=r.Empty;p.css="\r\n                .tab-panel {\r\n                 overflow  : hidden   ;\r\n                 display   : flex     ;\r\n                 flex-flow : column   ;\r\n                 background: lightgray;\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                }\r\n                .tab-content {\r\n                 flex      : 1 1     ;\r\n                 overflow  : auto    ;\r\n                 position  : relative;\r\n                }\r\n                .tab-children {\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                 position  : absolute;\r\n                 display   : grid    ;\r\n                }\r\n                .tab-strip {\r\n                 padding   : 0pt     ;\r\n                 flex      : 0 0     ;\r\n                }\r\n                .tab {\r\n                 border     : 0.2pt solid transparent;\r\n                 padding    : 0pt 4pt;\r\n                 display    : inline-block;\r\n                 font-family: sans-serif;\r\n                 font-weight: 200;\r\n                 font-size  : small;\r\n                 color      : #666;\r\n                 cursor     : pointer;\r\n                }\r\n                .top>.tab {\r\n                 border-radius: 2pt 2pt 0pt 0pt;\r\n                 border-bottom-width: 0pt;\r\n                 vertical-align: bottom;\r\n                }\r\n                .bottom>.tab {\r\n                 border-top-width: 0pt;\r\n                 border-radius: 0pt 0pt 2pt 2pt;\r\n                 vertical-align: top;\r\n                }\r\n                .horizontal>.tab:not(:first-child) {\r\n                 border-left-width: 0pt;\r\n                }\r\n                .tab.hovering {\r\n                 background: red;\r\n                }\r\n                .tab.selected {\r\n                 background: white;\r\n                 border-left-width: 0.2pt;\r\n                 color: black;\r\n                 font-weight: 500;\r\n                 border-color: black;\r\n                }\r\n                .horizontal>.tab.selected {\r\n                 border-left-width: 0.2pt;\r\n                }\r\n                ::slotted(*              ) { \r\n                 width : 100%;\r\n                 height: 100%;\r\n                }\r\n                        ";p.init=H.Create(function(){var f0;f0=new K.New();I.defineWebComponent("wcomp-tabstrip",K.Constructor,self.FsRootDll.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New);});p.layoutHorizontal=cO.Curried(function(f0,f1,f2,f3,f4){return M.get_Empty();},5);p.layoutVertical=cO.Curried(function(f0,f1,f2,f3,f4){return M.get_Empty();},5);p.html="\r\n            <div style=\"display:none\" >\r\n                <div links>\r\n                    <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" type=\"text/css\" rel=\"stylesheet\">\r\n                    <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\"  type=\"text/javascript\"></script>\r\n                </div>\r\n                <div ws-template=\"AppFramework\" style=\"height: calc(100vh - 4px); width: calc(100vw - 4px) \" class=\"relative\" >\r\n                    <div ws-hole=\"MainClient\"></div>\r\n                    <div class=\"AppFrameworkGo\"><button ws-onclick=\"GoClient\">${MainDoc}</button></div>\r\n                </div>\r\n                <style>\r\n                    .AppFrameworkGo {\r\n                        max-width: 2px;\r\n                        max-height: 2px;\r\n                        z-index: 4000;\r\n                        overflow: hidden;\r\n                        position: fixed;\r\n                        top: 0px;\r\n                        left: 0px;\r\n                    }\r\n                </style>\r\n                <div ws-template=\"FixedSplitterVer\" \r\n                    style=\"display: grid; \r\n                           grid-gap: 0px; \r\n                           box-sizing: border-box; \r\n                           height: 100%;\r\n                           width : 100%;\r\n                           grid-template-areas: 'one two'; \r\n                           grid-template-rows   :100%; \r\n                           overflow: hidden; \r\n                           grid-template-columns: ${PartSizes}\"  >\r\n                   <div ws-hole=\"First\"  style=\"grid-area: one; \" class=\"relative\" ></div>\r\n                   <div ws-hole=\"Second\" style=\"grid-area: two; \" class=\"relative\" ></div>\r\n                </div>               \r\n                <div ws-template=\"FixedSplitterHor\" \r\n               style=\"display: grid; \r\n                      grid-gap: 0px; \r\n                      box-sizing: border-box; \r\n                      height: 100%;\r\n                      width : 100%;\r\n                      grid-template-areas: 'one' 'two'; \r\n                      grid-template-columns:100%; \r\n                      overflow: hidden; \r\n                      grid-template-rows   : ${PartSizes}\"  >\r\n              <div ws-hole=\"First\"  style=\"grid-area: one; \" class=\"relative\" ></div>\r\n              <div ws-hole=\"Second\" style=\"grid-area: two; \" class=\"relative\" ></div>\r\n                </div>               \r\n                <div ws-template=\"WCompSplitterHor\" \r\n                     ws-onafterrender=\"AfterRender\"\r\n                     style=\"display: grid;\r\n                            grid-gap: 5px; \r\n                            box-sizing: border-box; \r\n                            grid-template-areas: 'one' 'two'; \r\n                            grid-template-columns:100%; \r\n                            overflow: hidden; \r\n                            grid-template-rows   : ${PartSizes}\" \r\n                     >\r\n                     <slot></slot>\r\n                    <slot name=\"splitter\">  <div style=\"grid-row:2; grid-column:1 / 1 ; cursor: row-resize; z-index: 3; background-color: #eef ; height: ${Gap}; margin-top :-${Gap}\" ws-onmousedown=\"MouseDown\" ws-onafterrender=\"AfterRenderSp\" ></div> </slot>\r\n                    <style>\r\n                        ::slotted(*) {\r\n                            display: grid;\r\n                            height : 100%;\r\n                            width  : 100%;\r\n                            overflow: hidden;\r\n                        }\r\n                        ::slotted(*:nth-child(2)) {\r\n                            grid-area: two;\r\n                        }\r\n                        ::slotted(*[slot=\"splitter\"]) {\r\n                            grid-row:2; grid-column:1 / 1 ; \r\n                            cursor: row-resize; \r\n                            z-index: 3; \r\n                            background-color: #eef ; \r\n                            height: ${Gap}; \r\n                            margin-top :-${Gap}\r\n                        }\r\n                    </style>\r\n                </div>        \r\n                <div ws-template=\"WCompSplitterVer\" \r\n                     ws-onafterrender=\"AfterRender\"\r\n                     style=\"display: grid; \r\n                            grid-gap: 5px; \r\n                            box-sizing: border-box; \r\n                            grid-template-areas: 'one two'; \r\n                            grid-template-rows   :100%; \r\n                            overflow: hidden; \r\n                            grid-template-columns: ${PartSizes}\"  >\r\n                    <slot></slot>\r\n                    <slot name=\"splitter\"> <div style=\"grid-column:2; grid-row:1 / 1 ; cursor: col-resize; z-index: 3; background-color: #eef ; width: ${Gap}; margin-left :-${Gap}\" ws-onmousedown=\"MouseDown\" ws-onafterrender=\"AfterRenderSp\" ></div> </slot>\r\n                    <style>\r\n                        ::slotted(*) {\r\n                            display: grid;\r\n                            height : 100%;\r\n                            width  : 100%;\r\n                            overflow: hidden;\r\n                        }\r\n                        ::slotted(*:nth-child(2)) {\r\n                            grid-area: two;\r\n                        }\r\n                        ::slotted(*[slot=\"splitter\"]) {\r\n                            grid-column:2; grid-row:1 / 1\r\n                            cursor: column-resize; \r\n                            z-index: 3; \r\n                            background-color: #eef ; \r\n                            width: ${Gap}; \r\n                            margin-left:-${Gap}\r\n                        }\r\n                    </style>\r\n                </div>\r\n                <div ws-template=\"AppFwkClient\" >\r\n                    <ws-FixedSplitterHor>\r\n                        <PartSizes>55px calc(100% - 55px)</PartSizes>\r\n                        <First>\r\n                            <span style=\"display: grid;\r\n                                  grid-template-columns: 30% 20% 20% 10%;\r\n                                  grid-gap: 25px;\r\n                                \">\r\n                                <div class=\"mainTitle\">AppFramework</div>\r\n                            </span>\r\n                        </First>\r\n                        <Second>\r\n                                <ws-FixedSplitterVer>\r\n                                    <PartSizes>calc(100% - 150px) 150px</PartSizes>\r\n                                    <First>\r\n                                        <wcomp-splitter vertical value=\"18\" max=\"100\">\r\n                                            <div><div ws-hole=\"PlugIns\" style=\"overflow:auto\" >\r\n                                                <div ws-template=\"Tile\">\r\n                                                    <div draggable=\"true\" class=\"code-editor-list-tile ${Predecessor} ${Selected}\" \r\n                                                    ws-ondrag=\"Drag\"\r\n                                                    ws-ondragover=\"DragOver\"\r\n                                                    ws-ondrop=\"Drop\"\r\n                                                   >\r\n                                                   <span class=\"node ${Parent} ${ErrorMsg}\" title=\"expand\" ws-onclick=\"ToggleCollapse\"></span>\r\n                                                   <div  class=\"code-editor-list-text\" style=\"text-indent:${Indent}em; white-space: pre\" ws-onclick=\"Select\" ws-onafterrender=\"AfterRender\" >${Name}</div>\r\n                                                   <span class=\"predecessor\" title=\"toggle predecessor\" ws-onclick=\"TogglePred\">X</span>\r\n                                               </div>\r\n                                       \r\n                                                </div>\r\n                                            </div></div>\r\n                                            <wcomp-splitter vertical value=\"100\" min=\"30\" max=\"100\">\r\n                                                <ws-FixedSplitterHor>\r\n                                                    <PartSizes>32px calc(100% - 32px)</PartSizes>\r\n                                                    <First>\r\n                                                        <div>\r\n                                                            <div class=\"input-group\">\r\n                                                                <span class=\"input-group-addon\">name:</span>\r\n                                                                <span class=\"input-group-addon\">${PlugInName}</span>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </First>\r\n                                                    <Second>\r\n                                                        <div style=\"overflow:auto\">\r\n                                                            <div>\r\n                                                                <div>Docs:</div>\r\n                                                                <div ws-hole=\"Docs\" style=\"overflow:auto\" ></div>\r\n                                                            </div>\r\n                                                            <div>\r\n                                                                <div>Views:</div>\r\n                                                                <div ws-hole=\"Views\" style=\"overflow:auto\" >\r\n                                                                    <div ws-template=\"NameValue\" class=\"input-group\">\r\n                                                                        <span class=\"input-group-addon\">${Name}:</span>\r\n                                                                        <span class=\"input-group-addon\">${Value}</span>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <div>\r\n                                                                <div>Queries:</div>\r\n                                                                <div ws-hole=\"Queries\" style=\"overflow:auto\" ></div>\r\n                                                            </div>\r\n                                                            <div>\r\n                                                                <div>Vars:</div>\r\n                                                                <div ws-hole=\"Vars\" style=\"overflow:auto\" >\r\n                                                                    <div ws-template=\"NameValueInput\" class=\"input-group\">\r\n                                                                        <span class=\"input-group-addon\">${Name}:</span>\r\n                                                                        <textarea class=\"form-control\" id=\"\" placeholder=\"Value...\" ws-var=\"Value\" spellcheck=\"false\">\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </Second>\r\n                                                </ws-FixedSplitterHor>\r\n                                                <wcomp-tabstrip >\r\n                                                    <div tabname=\"Properties\">\r\n                                                        <div>\r\n                                                            <table style=\"border-spacing:0px\">\r\n                                                                <thead>\r\n                                                                    <th style=\"width: 30%  \">Name</th>\r\n                                                                    <th style=\"width: 70% \">Value</th>\r\n                                                                </thead>\r\n                                                                <tbody ws-hole=\"Properties\" ws-children-template=\"Property\">\r\n                                                                    <tr ws-onclick=\"Select\" style=\"margin-bottom: 2px\" class=\"level  \">\r\n                                                                        <td class=\"level-item\">\r\n                                                                            <div>\r\n                                                                                <input ws-var=\"Name\" type=\"text\" class=\"form-control\" id=\"\" placeholder=\"Property...\">\r\n                                                                            </div>\r\n                                                                        </td>\r\n                                                                        <td class=\"level-item\">\r\n                                                                            <div>\r\n                                                                                <textarea ws-var=\"Value\" class=\"form-control\" id=\"\" placeholder=\"Value...\"></textarea>\r\n                                                                            </div>\r\n                                                                        </td>\r\n                                                                        <td class=\"level-item\">\r\n                                                                            <div style=\" cursor: pointer \" title=\"remove\">\r\n                                                                                <button ws-onclick=\"Remove\" class=\"delete is-small\">x</button>\r\n                                                                            </div>\r\n                                                                        </td>\r\n                                                                    </tr>\r\n                                                                </tbody>\r\n                                                            </table>\r\n                                                            <button ws-onclick=\"AddProperty\" class=\"add is-small\">add ...</button>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </wcomp-tabstrip>\r\n                                            </wcomp-splitter>\r\n                                        </wcomp-splitter>\r\n                                    </First>\r\n                                    <Second>\r\n                                        <div style=\"\r\n                                            overflow: hidden;\r\n                                            display: grid;\r\n                                            grid-template-columns: 100%;\r\n                                            grid-template-rows: repeat(15, calc(100% / 15));\r\n                                            bxackground-color: #eee;\r\n                                            box-sizing: border-box;\r\n                                            padding : 5px;\r\n                                            grid-gap: 5px;\r\n                                            margin-right: 21px;\r\n                                       \"  class=\"absolute\" ws-hole=\"Actions\" >\r\n                                            <button ws-template=\"Action\"         ws-onclick=\"Click\" class=\"btn\" type=\"button\" id=\"\"          >${Name}</button>\r\n                                            <button ws-template=\"ActionDisabled\" ws-onclick=\"Click\" class=\"btn\" type=\"button\" id=\"\" disabled >${Name}</button>\r\n                                        </div>\r\n                                    </Second>\r\n                                </ws-FixedSplitterVer>\r\n                        </Second>\r\n                    </ws-FixedSplitterHor>\r\n                </div>\r\n                <style style=\"display: none\">\r\n                        .Hidden     { display   : none         }\r\n                        table th,table td { padding:0 5px 0 5px; text-overflow: ellipsis }\r\n                        td input.form-control { \r\n                            padding    : 0px; \r\n                            font-family: monospace;\r\n                            font-size  :   small;\r\n                            margin-top :   0px;\r\n                            margin-left: -2px;\r\n                            width      : 100%\r\n                        }\r\n                        td select {\r\n                            font-size : smaller;\r\n                            max-width : 8ch;\r\n                        }\r\n                        textarea {\r\n                           resize : vertical;\r\n                        }\r\n                        .tab-content {\r\n                            overflow: hidden\r\n                        }\r\n                        .tab-children {\r\n                            position:relative;\r\n                        }\r\n                        .tab-children>div>* {\r\n                            position:absolute;\r\n                            height: 100%;\r\n                            width:  100%;\r\n                            display: grid;\r\n                        }\r\n                        .relative {\r\n                            position:relative;\r\n                        }\r\n                        .relative>* {\r\n                            position:absolute;\r\n                            height: 100%;\r\n                            width:  100%;\r\n                            display: grid;\r\n                        }\r\n                        table.table-striped    tbody tr:nth-child(even) { background: #EEE  }\r\n                        table.table-striped    tbody tr:nth-child(odd ) { background: #FFF  }\r\n                        table.table-striped    tbody input              { background: transparent; border: none}\r\n                        table.table-striped    tbody select             { background: transparent; border: none}\r\n                        table.table-nonstriped tbody tr:nth-child(even) { background: inherit }\r\n                        table.table-nonstriped tbody tr:nth-child(odd ) { background: inherit }\r\n                        table.table            tbody tr.hover           { border    : solid thin transparent; } \r\n                        table.table            tbody tr.hover:hover     { border    : solid thin blue     ; } \r\n                        table.table            tbody th:hover           { background: gray; cursor: pointer }\r\n                        table.table            tbody tr.hover:hover>td  { border-top: solid thin blue     ; \r\n                                                                   border-bottom: solid thin blue     ; } \r\n                        table.table            tbody tr.selected { background   : #b9eeff             ; }\r\n                        table.table            tbody tr.formula.selected { background: #20f7f7             ; }\r\n                        thead { color: gray }\r\n                        h3 { \r\n                            color: gray;\r\n                            line-height: 1em;\r\n                        }\r\n                        button       { border: solid thin transparent ; border-radius: 3px; }\r\n                        button:hover { border: solid thin blue }\r\n                        .indenter { position  : absolute; \r\n                                    top:0px; bottom:0px; left:0px; \r\n                                    background: white; color:white;\r\n                                    border-right: gray thin dotted;\r\n                                    }\r\n                        body {\r\n                            color      : #333;\r\n                            font-size  : small;\r\n                            font-family: monospace;\r\n                            line-height: 1.2;\r\n                        }\r\n                        .mainTitle {  \r\n                            font-size: 48px;\r\n                            font-weight: 500;\r\n                            color: gray;\r\n                            margin-top: -12px;\r\n                        }\r\n                        .CodeMirror {\r\n                            height: 100%;\r\n                        }\r\n                        \r\n                      \r\n                        body { margin: 0px }     \r\n                             \r\n                        div textarea {\r\n                            font-family     : monospace;\r\n                        }\r\n                        .code-editor-list-tile {\r\n                            white-space     : nowrap; \r\n                            border-style    : solid none none;\r\n                            border-color    : white;\r\n                            border-width    : 1px;\r\n                            background-color: #D8D8D8;\r\n                            display         : flex;\r\n                        }\r\n                        .code-editor-list-text{\r\n                            padding         : 1px 10px 1px 5px;\r\n                            overflow        : hidden;\r\n                            text-overflow   : ellipsis;\r\n                            white-space     : nowrap;\r\n                            flex            : 1;\r\n                        }\r\n                        \r\n                        .code-editor-list-tile span.node.ErrorMsg {\r\n                            background-color: red\r\n                        }\r\n                        .code-editor-list-tile span.node.expanded::before {\r\n                            content: \"-\"\r\n                        }\r\n                        .code-editor-list-tile span.node.collapsed::before {\r\n                            content: \"+\"\r\n                        }\r\n                        .code-editor-list-tile.direct-predecessor {\r\n                            font-weight     : bold;\r\n                            color           : blue;\r\n                        }\r\n                        .code-editor-list-tile.indirect-predecessor {\r\n                            color           : blue;\r\n                        }\r\n                        .code-editor-list-tile.included-predecessor {\r\n                            color           : chocolate;\r\n                        }\r\n                        .code-editor-list-tile.selected {\r\n                            background-color: #77F;\r\n                            color           : white;\r\n                        }\r\n                        .code-editor-list-tile.codeSnippet {\r\n                            text-decoration: underline\r\n                        }\r\n                        .code-editor-list-tile:hover {\r\n                            background      : lightgray;\r\n                        }\r\n                        .code-editor-list-tile.selected:hover {\r\n                            background      : blue;\r\n                        }\r\n                        .code-editor-list-tile>.predecessor {\r\n                            font-weight     : bold;\r\n                            border-style    : inset;\r\n                            border-width    : 1px;\r\n                            text-align      : center;\r\n                            color           : transparent;\r\n                        }\r\n                        .code-editor-list-tile.direct-predecessor>.predecessor {\r\n                            color           : blue;\r\n                        }\r\n                        \r\n                        .CodeMirror { height: 100%; }\r\n                        \r\n                        .node {\r\n                            background-color: white; \r\n                            width           : 2ch; \r\n                            color           : #A03; \r\n                            font-weight     : bold; \r\n                            text-align      : center;\r\n                            font-family     : arial;\r\n                        }\r\n                        .Warning { text-decoration: underline lightblue } \r\n                        .Error   { text-decoration: underline red       } \r\n                        \r\n                    </style>\r\n            </div>\r\n            ";p.plugIns=new N.New$1(function(f0){return f0.plgName;});p.mainDocV=Q.Create$1("AppFramework.AppFwkClient");p.TemplateFileName="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\LayoutEngine\\website\\AppFramework.html";p.selectionPlugInO=Q.Create$1({$:1,$0:new R({$:0,$0:"AppFramework"})});p.currentPlugInW=(cV=O.selectionPlugInO().get_View(),T.Map2(function(f0,f1){return(eU(f0))(f1);},O.plugIns().v,cV));p.currentPlugInV=new bA.New(O.currentPlugInW(),function(f0){O.plugIns().Append(f0);});p.AppFwkClient=H.Create(function(){var f0,f1,f2,f3,f4,f5,f6,f7,f8;return(f0=(f1=O.renderQueries(),(f2=O.renderActions(),(f3=O.renderDocs(),(f4=O.renderViews(),(f5=O.renderVars(),(f6=O.renderPlugIns(),Y.Make().WithHole({$:0,$0:"plugins",$1:f6})).WithHole({$:2,$0:"pluginname",$1:T.Map(function(f9){return f9.plgName.get_Id();},O.currentPlugInW())}).WithHole({$:0,$0:"vars",$1:f5})).WithHole({$:0,$0:"views",$1:f4})).WithHole({$:0,$0:"docs",$1:f3})).WithHole({$:0,$0:"actions",$1:f2})).WithHole({$:0,$0:"queries",$1:f1})),(f7=Z.CompleteHoles(f0.k,f0.h,[]),(f8=new X.New(f7[1],_0.appfwkclient(f7[0])),(f0.i=f8,f8)))).get_Doc();});p.plugin=new _3.New();p.a11V=Q.Create$1(11);p.mainX={$:0,$0:O.a11V().get_View()};p.baseView=O.mainDocV().get_View();p.op_LessMultiplyGreater=function(f0){return function(f1){return _4.apply(f0,f1);};};p.textAtt=function(f0){return function(){return f0("textAtt not implemented");};}(h.FailWith);p.getDocFromReferenceD=m.dependByName("getDocFromReference",_5.getDocFromReference,a.id);p.getTextActViewFromReferenceD=m.dependByName("getTextActViewFromReference",_5.getTextActViewFromReference,a.id);p.getDocFromTextTypesD=(cW=m.depend(),cW.Delay(function(){return cW.Bind(_5.getDocFromReferenceD(),function(f0){var f1;function f2(f3){return f3.$==1?f0(f3.$0):M.TextNode(f3.$0);}return cW.Return((f1=function(f3){return n.map(f2,f3);},function(f3){return M.Concat(f1(f3));}));});}));p.extractDocD=(cX=m.depend(),cX.Delay(function(){return cX.Bind(_5.getDocFromTextTypesD(),function(f0){return cX.Return(function(f1){return f0(_5.getTextData(f1));});});}));p.getTextValFromSeqD=(cY=m.depend(),cY.Delay(function(){return cY.Bind(_5.getTextActViewFromReferenceD(),function(f0){var f1,f2,f3;function f4(f5){var f6;return f5.$==1?(f6=f5.$0,{$:0,$0:T.Map(function(f7){return f7.$==1?(function(f8){return function(f9){return f8("@{"+_6.toSafe(f9)+"}");};}(a.id))(f6):f7.$0;},f0(f6))}):{$:1,$0:f5.$0};}return cY.Return((f1=function(f5){return _4.traverseListApp(f4,f5);},(f2=(f3={$:1,$0:function(f5){return A.concat("",f5);}},function(f5){return _4.apply(f3,f5);}),function(f5){return f2(f1(f5));})));});}));p.getTextValD=_7.op_GreaterMultiplyGreater(_5.getTextData,_5.getTextValFromSeqD());p.extractAtsD=(cZ=m.depend(),cZ.Delay(function(){return cZ.Bind(_5.getTextValD(),function(f0){return cZ.Bind(_5.getTextActViewFromReferenceD(),function(f1){return cZ.Return(function(f2){var f3,f4;function f5(gb){var gc,gd,ge,gf,gg,gh,gi;gc=A.SplitChars(gb,[":"],0);return!D.Equals(gc,null)&&gc.length===2?(gd=s.get(gc,1),{$:0,$0:s.get(gc,0),$1:gd}):(ge=s.map(A.Trim,A.SplitChars(gb,["="],0)),!D.Equals(ge,null)&&ge.length===2?(gf=s.get(ge,1),(gg=s.get(ge,0),(gh=_5.getTextData(gf),gh.$==1&&(gh.$0.$==1&&(gh.$1.$==0&&(gi=gh.$0.$0,true)))?{$:2,$0:gg,$1:gi}:{$:1,$0:gg,$1:gf}))):!D.Equals(ge,null)&&ge.length===1?{$:1,$0:s.get(ge,0),$1:""}:_8.AEmpty);}function f6(gb){return q.filter(function(gc){return""!==gc;},q.map(A.Trim,A.SplitChars(gb,[";"],0)));}function f7(gb){var gc;gc=gb.addedListeners;return!gc?[]:gc;}function f8(gb,gc,gd){var ge;function gf(gg){O.callFunction(gc,gg,ge.actFunction);}return gd.$==1?(ge=gd.$0,(gc.addEventListener(gb,gf,false),void(gc.addedListeners=f7(gc).concat([[gb,gf]])))):gc.setAttribute(gb,A.Trim(gd.$0));}function f9(gb){function gc(gd,ge){return f8(gb,gd,ge);}return function(gd){return bd.DynamicCustom(function(ge){return function(gf){return gc(ge,gf);};},gd);};}function f_(gb){var gc;return gb.$==1?O.valToAttr(gb.$0,f0(gb.$1)):gb.$==2?(gc=f1(gb.$1),(f9(gb.$0))(gc)):gb.$==3?bI.EmptyAttr():O.valToStyle(gb.$0,f0(gb.$1));}function f$(gb,gc){var gd,gg,gh,gi,gj,gk,gl,gm,gn,go,gp,gq,gr,gs,gt,gu,gv;function ge(gw){return gw[0];}function gf(gw){return new bf.New(gw);}gg=q.choose(function(gw){return gw.$==0?{$:1,$0:gw.$0+":"+gw.$1}:null;},gc);gh=s.ofSeq(q.delay(function(){return q.append(!q.isEmpty(gg)?[["style",A.concat(";",gg)]]:[],q.delay(function(){return q.choose(function(gw){return gw.$==1?{$:1,$0:[gw.$0,gw.$1]}:gw.$==2?{$:1,$0:[gw.$0,gw.$1]}:gw.$==3?null:null;},gc);}));}));gi=n.ofSeq(q.delay(function(){return q.map(function(gw){return[gb.attributes.item(gw).name,gb.attributes.item(gw).value];},n.ofSeq(h.range(0,gb.attributes.length-1)));}));gj=(gd=function(gw){return q.map(ge,gw);},function(gw){return gf(gd(gw));});gk=bf.op_Subtraction(gj(gi),gj(gh));gl=bt.Get(gk);try{while(gl.MoveNext()){gm=gl.Current();gb.attributes.removeNamedItem(gm);}}finally{if(typeof gl=="object"&&"Dispose"in gl)gl.Dispose();}gn=bf.op_Subtraction(new bf.New(gh),new bf.New(gi));go=bt.Get(gn);try{while(go.MoveNext()){gp=go.Current();gb.setAttribute(gp[0],gp[1]);}}finally{if(typeof go=="object"&&"Dispose"in go)go.Dispose();}gq=f7(gb);for(gr=0,gs=gq.length-1;gr<=gs;gr++){gt=s.get(gq,gr);gb.removeEventListener(gt[0],gt[1]);}gu=q.choose(function(gw){return gw.$==2?{$:1,$0:[gw.$0,gw.$1]}:null;},gc);gv=bt.Get(gu);try{while(gv.MoveNext())(function(){var gw,gx;gw=gv.Current();return T.Get((gx=gw[0],function(gy){return f8(gx,gb,gy);}),f1(gw[1]));}());return;}finally{if(typeof gv=="object"&&"Dispose"in gv)gv.Dispose();}}function ga(gb){return q.map(f5,gb);}f3=s.ofSeq(f6(f2));return!D.Equals(f3,null)&&f3.length===1?[(f4=f0(s.get(f3,0)),f4.$==0?bd.DynamicCustom(function(gb){return function(gc){return f$(gb,gc);};},T.Map(function(gb){return ga(f6(gb));},f4.$0)):f_(f5(f4.$0)))]:q.map(function(gb){return f_(f5(gb));},f3);});});});}));p.extractTextD=(c0=m.depend(),c0.Delay(function(){return c0.Bind(_5.getTextValD(),function(f0){return c0.Return(function(f1){return _4.toView(f0(f1));});});}));p.currentPlugInNameDef=new R({$:0,$0:"NewLYx"});p.currentPlugInNameD=m.dependByName("currentPlugInName",O.currentPlugInNameDef(),a.id);p.getDocD=(c1=m.depend(),c1.Delay(function(){return c1.Bind(O.currentPlugInNameD(),function(f0){return c1.Return(function(f1){var f2,f3,f4;f2=(O.splitName(f0))(f1);f3=f2[0];f4=f2[1];return M.BindView(function(f5){var f6;function f7(){return(function(f8){return function(f9){return f8("Reference not found @{"+_6.toSafe(f9)+"}");};}(a.id))(f1);}f6=f5==null?null:{$:1,$0:O.getLazyDoc(f5.$0)};return f6==null?M.TextView(T.Map(function(f8){return f8==null?f7():f8.$0;},O.tryGetWoWW(f3,f4))):f6.$0;},O.tryGetDocW(f3,f4));});});}));p.getTextActViewD=(c2=m.depend(),c2.Delay(function(){return c2.Bind(O.currentPlugInNameD(),function(f0){return c2.Return(function(f1){var f2,f3,f4;f2=(O.splitName(f0))(f1);f3=f2[0];f4=f2[1];return T.Bind(function(f5){function f6(){return(function(f7){return function(f8){return f7("Text Reference not found @{"+_6.toSafe(f8)+"}");};}(a.id))(f1);}return f5==null?T.Map(function(f7){return{$:0,$0:f7};},T.Map(function(f7){return f7==null?f6():f7.$0;},O.tryGetWoWW(f3,f4))):T.Const({$:1,$0:f5.$0});},O.tryGetActW(f3,f4));});});}));p.extractTextD$1=_5.extractTextD();p.extractDocD$1=_5.extractDocD();p.extractAtsD$1=_5.extractAtsD();p.extractAttD=(c3=_7.depend(),c3.Delay(function(){return c3.Bind(O.extractAtsD(),function(f0){return c3.Return(function(f1){return bc.Concat(f0(f1));});});}));p.defPlugInName=new R({$:0,$0:"AppFramework"});p.inputLabel=O.depWithExtracts(function(f0,f1,f2){return eV.apply(null,[f0,f1,f2]);});p.input=O.depWithExtracts(function(f0){return function(f1){return eW(f0,f1);};});p.textArea=O.depWithExtracts(function(f0){return function(f1){return eX(f0,f1);};});p.htmlDoc=O.depWithExtracts(function(f0,f1,f2){return function(f3){return M.BindView(M.Verbatim,f2(f3));};});p.trigAct=O.depWithExtracts(function(f0,f1,f2){return function(f3){return function(f4){var f5,f6;return M.TextView(T.Map(function(){var f7,f8;f7=(f8=O.getParmRef(f4),O.tryGetAct(f8[0],f8[1]));f7==null?void 0:O.callFunction(null,null,f7.$0.actFunction);return"";},(f5=f2(f3),(f6=[Q.Create$1(null)],(T.Sink(function(f7){if(!D.Equals(f6[0].Get(),f7))f6[0].Set(f7);},f5),f6[0].get_View())))));};};});p.select=O.depWithExtracts(function(f0,f1,f2){return cO.Curried3(function(f3,f4,f5){function f6(f7){var f8,f9;f8=T.Map(function(f_){return n.ofSeq(A.SplitChars(f_,[";"],0));},f2(f5));f9=new bA.New(T.Map2(function(f_,f$){return q.contains(A.Trim(f_),f$)?{$:1,$0:A.Trim(f_)}:null;},f7.get_View(),f8),function(f_){var f$;if(f_!=null&&f_.$==1){f$=f_.$0;T.Get(function(ga){if(q.contains(f$,ga))f7.Set(f$);},f8);}else f7.Set("");});return M.SelectDynOptional(f0(f3),f4,a.id,f8,f9);}return function(f7){return O.docWithVar(f6,f7);};});});c4=(c5=O.plugin(),c5.AddAct(c5.AddDoc(c5.AddVar(c5.Name(c5.Yield(),"AppFramework"),"mainDocV",O.mainDocV()),"AppFwkClient",O.AppFwkClient()),"Hello",function(){self.alert("Hello!");}));O.plugIns().Append(c4);c6=(c7=O.plugin(),c7.AddQry(c7.AddAct(c7.AddAct2(c7.AddDoc3(c7.AddDoc3(c7.AddDoc4(c7.AddDoc2(c7.AddDoc2(c7.AddDoc2(c7.AddDoc1(c7.Name(c7.Yield(),"AF"),"HtmlDoc",O.htmlDoc(),"Html"),"TrigAction",O.trigAct(),"Trigger","Action"),"Input",O.input(),"Attrs","Var"),"TextArea",O.textArea(),"Attrs","Var"),"Select",O.select(),"Attrs","None","Vals","Var"),"InputFile",cO.Curried3(O.inputFile),"Attrs","Label","Action"),"InputLabel",O.inputLabel(),"Attrs","Label","Var"),"SetVar",function(f0){return function(f1){return O.setVar(f0,f1);};},"Var","Value"),"Hello",function(){self.alert("Hello!");}),"getDocNames",function(){return s.ofSeq(q.collect(function(f0){return q.map(function(f1){return f0.plgName.get_Id()+"."+f1.docName.get_Id();},f0.plgDocs);},(O.plugIns())["var"].Get()));}));O.plugIns().Append(c6);p.getMainDoc=H.Create(function(){bn.init(cO.Curried(O.horizontal,5),cO.Curried(O.vertical,5));J.init().f();return O.mainDoc();});p.htmlD=m.dependByName("AppFrameworkTemplate.html",o.html(),a.id);p.startWithHtmlD=(c8=m.depend(),c8.Delay(function(){return c8.Bind(j.htmlD(),function(f0){return c8.Return(function(){var f1,f2,f3;f1=self.document.createElement("div");self.document.body.appendChild(f1);f1.outerHTML=f0;f2=O.getMainDoc().f();f3=self.document.body;bO.LoadLocalTemplates("");M.RunAppend(f3,f2);});});}));p.splitName=O.splitName;p.currentViewTriggger=O.mainDocV().get_View();p.createSplitterM=(c9=(c_=new bC.New$5(),[[eY,function(f0){return function(f1){return e0(f0,f1);};}],function(){c_.Clear();}]),(c$=c9[0][1],[function(f0){return(c$(f0))(function(f1){return bo.createSplitter(f1[0],f1[1],f1[2],f1[3],f1[4]);});},c9[1]]))[0];p.createButtonM=(da=(db=new bC.New$5(),[[e1,function(f0){return function(f1){return e3(f0,f1);};}],function(){db.Clear();}]),(dc=da[0][1],[function(f0){return(dc(f0))(function(f1){return bo.createButton(f1[0],f1[1],f1[2],f1[3],f1[4]);});},da[1]]))[0];p.createInputM=(dd=(de=new bC.New$5(),[[e4,function(f0){return function(f1){return e6(f0,f1);};}],function(){de.Clear();}]),(df=dd[0][1],[function(f0){return(df(f0))(function(f1){return bo.createInput(f1[0],f1[1],f1[2],f1[3]);});},dd[1]]))[0];p.createTextAreaM=(dg=(dh=new bC.New$5(),[[e7,function(f0){return function(f1){return e9(f0,f1);};}],function(){dh.Clear();}]),(di=dg[0][1],[function(f0){return(di(f0))(function(f1){return bo.createTextArea(f1[0],f1[1],f1[2],f1[3]);});},dg[1]]))[0];p.createElementM=(dj=(dk=new bC.New$5(),[[e_,function(f0){return function(f1){return fa(f0,f1);};}],function(){dk.Clear();}]),(dl=dj[0][1],[function(f0){return(dl(f0))(function(f1){return bo.createElement(f1[0],f1[1],f1[2],f1[3],f1[4]);});},dj[1]]))[0];p.createDocM=(dm=(dn=new bC.New$5(),[[fb,function(f0){return function(f1){return fd(f0,f1);};}],function(){dn.Clear();}]),(_do=dm[0][1],[function(f0){return(_do(f0))(function(f1){return bo.createDoc(f1[0],f1[1],f1[2],f1[3]);});},dm[1]]))[0];p.createTemplateM=(dp=(dq=new bC.New$5(),[[fe,function(f0){return function(f1){return fg(f0,f1);};}],function(){dq.Clear();}]),(dr=dp[0][1],[function(f0){return(dr(f0))(function(f1){return bo.createTemplate(f1[0],f1[1],f1[2],f1[3],f1[4]);});},dp[1]]))[0];p.createConcatM=(ds=(dt=new bC.New$5(),[[fh,function(f0){return function(f1){return fj(f0,f1);};}],function(){dt.Clear();}]),(du=ds[0][1],[function(f0){return(du(f0))(function(f1){return bo.createConcat(f1[0],f1[1],f1[2]);});},ds[1]]))[0];p.createVarM=(dv=(dw=new bC.New$5(),[[fk,function(f0){return function(f1){return fm(f0,f1);};}],function(){dw.Clear();}]),(dx=dv[0][1],[function(f0){return(dx(f0))(function(f1){return bo.createVar(f1[0],f1[1],f1[2]);});},dv[1]]))[0];p.createViewM=(dy=(dz=new bC.New$5(),[[fn,function(f0){return function(f1){return fp(f0,f1);};}],function(){dz.Clear();}]),(dA=dy[0][1],[function(f0){return(dA(f0))(function(f1){return bo.createView(f1[0],f1[1],f1[2]);});},dy[1]]))[0];p.createActionM=(dB=(dC=new bC.New$5(),[[fq,function(f0){return function(f1){return fs(f0,f1);};}],function(){dC.Clear();}]),(dD=dB[0][1],[function(f0){return(dD(f0))(function(f1){return bo.createAction(f1[0],f1[1],f1[2],f1[3]);});},dB[1]]))[0];dE=O.tryGetPlugIn(O.defPlugInName());dE==null?void 0:dE.$0.plgActions.Append(O.newActF(new bl({$:0,$0:"AddLayout"}),{$:2,$0:function(f0){return function(f1){return bo.addNewLayout(f0,f1);};},$1:"[Name]",$2:"[Layout]"}));p.aV=Q.Create$1(4);p.pa=bp.aV().get_View();p.pb=6.2;p.currentPlugInNameDef$1=new R({$:0,$0:"NewLYx"});p.currentPlugInNameD$1=m.dependByName("currentPlugInName",bp.currentPlugInNameDef(),a.id);p.name=Q.Create$1("World");p.enterName=(dF=O.op_Dereference(bp.checkName),(dG={$:0,$0:bp.name().get_View()},bq.New(_7.op_BarGreaterGreater(dF.r,function(f0){return bP.New(f0,dG);}))));p.now=(dH=O.op_Dereference(function(){var f0;f0=new a.Date(cP.now());return f0.getFullYear()+"-"+("0"+(f0.getMonth()+1)).slice(-2)+"-"+("0"+f0.getDate()).slice(-2)+" "+("0"+f0.getHours()).slice(-2)+":"+("0"+f0.getMinutes()).slice(-2)+":"+("0"+f0.getSeconds()).slice(-2)+":"+("00"+f0.getMilliseconds()).slice(-3);}),(dI={$:0,$0:bp.name().get_View()},bq.New(_7.op_BarGreaterGreater(dH.r,function(f0){return bP.New(f0,dI);}))));p.sayHello=(dJ=(dK=(dL=O.op_Dereference(M.Concat),O.bindWrap(function(f0){var f1;f1={$:1,$0:[f0("Hello @{name}!")]};return bq.New(_7.op_BarGreaterGreater(dL.r,function(f2){return bP.New(f2,f1);}));},O.extractDocD())),O.bindWrap(function(f0){return O.unwrapBindWrap(function(f1){return bP.New(f1.f,_4.addDoc(_4.textDoc(f0.f.$==0?f0.p.$==1?{$:0,$0:T.Apply(f0.f.$0,T.Const(f0.p.$0))}:{$:0,$0:T.Apply(f0.f.$0,f0.p.$0)}:f0.p.$==0?{$:0,$0:T.Apply(T.Const(f0.f.$0),f0.p.$0)}:{$:1,$0:f0.f.$0(f0.p.$0)}),f1.p));},dK);},bp.enterName().r)),(dM=(dN=O.op_Dereference(M.Concat),O.bindWrap(function(f0){var f1;f1={$:1,$0:[f0("How are you?")]};return bq.New(_7.op_BarGreaterGreater(dN.r,function(f2){return bP.New(f2,f1);}));},O.extractDocD())),(dO=(dP=O.op_Dereference(M.Concat),O.bindWrap(function(f0){var f1;f1={$:1,$0:[O.makeAViewDoc(function(){var f2;f2=f0.f.$==0?f0.p.$==1?{$:0,$0:T.Apply(f0.f.$0,T.Const(f0.p.$0))}:{$:0,$0:T.Apply(f0.f.$0,f0.p.$0)}:f0.p.$==0?{$:0,$0:T.Apply(T.Const(f0.f.$0),f0.p.$0)}:{$:1,$0:f0.f.$0(f0.p.$0)};return f2.$==0?M.BindView(a.id,f2.$0):f2.$0;})]};return bq.New(_7.op_BarGreaterGreater(dP.r,function(f2){return bP.New(f2,f1);}));},dJ.r)),O.bindWrap(function(f0){return O.unwrapBindWrap(function(f1){return bP.New(f1.f,_4.addDoc(O.makeAViewDoc(function(){var f2;f2=f0.f.$==0?f0.p.$==1?{$:0,$0:T.Apply(f0.f.$0,T.Const(f0.p.$0))}:{$:0,$0:T.Apply(f0.f.$0,f0.p.$0)}:f0.p.$==0?{$:0,$0:T.Apply(T.Const(f0.f.$0),f0.p.$0)}:{$:1,$0:f0.f.$0(f0.p.$0)};return f2.$==0?M.BindView(a.id,f2.$0):f2.$0;}),f1.p));},dO);},dM.r))));p.aString=Q.Lens(bp.aV(),a.String,function(f0,f1){return h.toInt(a.Number(f1));});p.main0=(dQ=(dR=O.op_Dereference(function(f0){return function(f1){return bp.concat(f0,f1);};}),(dS={$:0,$0:bp.aV().get_View()},bq.New(_7.op_BarGreaterGreater(dR.r,function(f0){return bP.New(f0,dS);})))),(dT={$:1,$0:3.2},bq.New(_7.op_BarGreaterGreater(dQ.r,function(f0){return bP.New(f0.f.$==0?f0.p.$==1?{$:0,$0:T.Apply(f0.f.$0,T.Const(f0.p.$0))}:{$:0,$0:T.Apply(f0.f.$0,f0.p.$0)}:f0.p.$==0?{$:0,$0:T.Apply(T.Const(f0.f.$0),f0.p.$0)}:{$:1,$0:f0.f.$0(f0.p.$0)},dT);}))));p.main1=(dU=(dV=O.op_Dereference((cO.Curried3(function(f0,f1,f2){return f0("result = "+_6.toSafe(f1)+" "+_6.toSafe(f2));}))(a.id)),O.bindWrap(function(f0){var f1;f1=f0.f.$==0?f0.p.$==1?{$:0,$0:T.Apply(f0.f.$0,T.Const(f0.p.$0))}:{$:0,$0:T.Apply(f0.f.$0,f0.p.$0)}:f0.p.$==0?{$:0,$0:T.Apply(T.Const(f0.f.$0),f0.p.$0)}:{$:1,$0:f0.f.$0(f0.p.$0)};return bq.New(_7.op_BarGreaterGreater(dV.r,function(f2){return bP.New(f2,f1);}));},bp.main0().r)),(dW={$:1,$0:"main0"},bq.New(_7.op_BarGreaterGreater(dU.r,function(f0){return bP.New(f0.f.$==0?f0.p.$==1?{$:0,$0:T.Apply(f0.f.$0,T.Const(f0.p.$0))}:{$:0,$0:T.Apply(f0.f.$0,f0.p.$0)}:f0.p.$==0?{$:0,$0:T.Apply(T.Const(f0.f.$0),f0.p.$0)}:{$:1,$0:f0.f.$0(f0.p.$0)},dW);}))));p.main=(dX=(dY=(dZ=(d0=(d1=(d2=(d3=(d4=(d5=(d6=O.op_Dereference((cO.Curried3(M.Element))("h3")),O.bindWrap(function(f0){var f1;f1={$:1,$0:f0("color:@{name}; background:red; click=@{AppFramework.Hello}")};return bq.New(_7.op_BarGreaterGreater(d6.r,function(f2){return bP.New(f2,f1);}));},O.extractAtsD())),O.bindWrap(function(f0){var f1;f1={$:1,$0:[f0("MAIN:")]};return bq.New(_7.op_BarGreaterGreater(d5.r,function(f2){return bP.New(f2.f.$==0?f2.p.$==1?{$:0,$0:T.Apply(f2.f.$0,T.Const(f2.p.$0))}:{$:0,$0:T.Apply(f2.f.$0,f2.p.$0)}:f2.p.$==0?{$:0,$0:T.Apply(T.Const(f2.f.$0),f2.p.$0)}:{$:1,$0:f2.f.$0(f2.p.$0)},f1);}));},O.extractDocD())),O.bindWrap(function(f0){return O.unwrapBindWrap(function(f1){return bP.New(f1.f,_4.addDoc(_4.textDoc(f0.f.$==0?f0.p.$==1?{$:0,$0:T.Apply(f0.f.$0,T.Const(f0.p.$0))}:{$:0,$0:T.Apply(f0.f.$0,f0.p.$0)}:f0.p.$==0?{$:0,$0:T.Apply(T.Const(f0.f.$0),f0.p.$0)}:{$:1,$0:f0.f.$0(f0.p.$0)}),f1.p));},d4);},bp.main1().r)),O.bindWrap(function(f0){return O.unwrapBindWrap(function(f1){return bP.New(f1.f,_4.addDoc(_4.textDoc(f0.f.$==0?f0.p.$==1?{$:0,$0:T.Apply(f0.f.$0,T.Const(f0.p.$0))}:{$:0,$0:T.Apply(f0.f.$0,f0.p.$0)}:f0.p.$==0?{$:0,$0:T.Apply(T.Const(f0.f.$0),f0.p.$0)}:{$:1,$0:f0.f.$0(f0.p.$0)}),f1.p));},d3);},bp.main1().r)),O.bindWrap(function(f0){return O.unwrapBindWrap(function(f1){return bP.New(f1.f,_4.addDoc(f0(":"),f1.p));},d2);},O.extractDocD())),O.bindWrap(function(f0){return O.unwrapBindWrap(function(f1){return bP.New(f1.f,_4.addDoc(O.makeAViewDoc(function(){var f2;f2=f0.f.$==0?f0.p.$==1?{$:0,$0:T.Apply(f0.f.$0,T.Const(f0.p.$0))}:{$:0,$0:T.Apply(f0.f.$0,f0.p.$0)}:f0.p.$==0?{$:0,$0:T.Apply(T.Const(f0.f.$0),f0.p.$0)}:{$:1,$0:f0.f.$0(f0.p.$0)};return f2.$==0?M.BindView(a.id,f2.$0):f2.$0;}),f1.p));},d1);},bp.sayHello().r)),O.bindWrap(function(f0){return O.unwrapBindWrap(function(f1){return bP.New(f1.f,_4.addDoc(f0(":"),f1.p));},d0);},O.extractDocD())),O.bindWrap(function(f0){return O.unwrapBindWrap(function(f1){return bP.New(f1.f,_4.addDoc(f0(" Ms >> "),f1.p));},dZ);},O.extractDocD())),O.bindWrap(function(f0){return O.unwrapBindWrap(function(f1){return bP.New(f1.f,_4.addDoc(O.makeAViewDoc(function(){var f2;f2=f0.f.$==0?f0.p.$==1?{$:0,$0:T.Apply(f0.f.$0,T.Const(f0.p.$0))}:{$:0,$0:T.Apply(f0.f.$0,f0.p.$0)}:f0.p.$==0?{$:0,$0:T.Apply(T.Const(f0.f.$0),f0.p.$0)}:{$:1,$0:f0.f.$0(f0.p.$0)};return f2.$==0?M.BindView(a.id,f2.$0):f2.$0;}),f1.p));},dY);},bp.sayHello().r)),O.bindWrap(function(f0){return O.unwrapBindWrap(function(f1){return bP.New(f1.f,_4.addDoc(f0(" <<"),f1.p));},dX);},O.extractDocD()));p.main2=O.makeAViewDoc(function(){return M.Element("h4",[bd.Dynamic("style",T.Map(function(f0){return"color:"+f0;},bp.name().get_View()))],[M.TextNode("MAIN2:"),M.TextView(bp.name().get_View())]);});p.appFwk=(d7=(d8=O.op_Dereference((cO.Curried3(M.Element))("div")),O.bindWrap(function(f0){var f1;f1={$:1,$0:f0("color:@{name}")};return bq.New(_7.op_BarGreaterGreater(d8.r,function(f2){return bP.New(f2,f1);}));},O.extractAtsD())),O.bindWrap(function(f0){var f1;f1={$:1,$0:[f0("@{AppFramework.AppFwkClient}")]};return bq.New(_7.op_BarGreaterGreater(d7.r,function(f2){return bP.New(f2.f.$==0?f2.p.$==1?{$:0,$0:T.Apply(f2.f.$0,T.Const(f2.p.$0))}:{$:0,$0:T.Apply(f2.f.$0,f2.p.$0)}:f2.p.$==0?{$:0,$0:T.Apply(T.Const(f2.f.$0),f2.p.$0)}:{$:1,$0:f2.f.$0(f2.p.$0)},f1);}));},O.extractDocD()));p.split=(d9=(d_=O.op_Dereference(cO.Curried(bo.variableSplitter,2,[false,0,50,100])),O.bindWrap(function(f0){var f1;f1={$:1,$0:O.makeAViewDoc(function(){var f2;f2=f0.f.$==0?f0.p.$==1?{$:0,$0:T.Apply(f0.f.$0,T.Const(f0.p.$0))}:{$:0,$0:T.Apply(f0.f.$0,f0.p.$0)}:f0.p.$==0?{$:0,$0:T.Apply(T.Const(f0.f.$0),f0.p.$0)}:{$:1,$0:f0.f.$0(f0.p.$0)};return f2.$==0?M.BindView(a.id,f2.$0):f2.$0;})};return bq.New(_7.op_BarGreaterGreater(d_.r,function(f2){return bP.New(f2,f1);}));},bp.appFwk().r)),O.bindWrap(function(f0){var f1;f1={$:1,$0:O.makeAViewDoc(function(){var f2;f2=f0.f.$==0?f0.p.$==1?{$:0,$0:T.Apply(f0.f.$0,T.Const(f0.p.$0))}:{$:0,$0:T.Apply(f0.f.$0,f0.p.$0)}:f0.p.$==0?{$:0,$0:T.Apply(T.Const(f0.f.$0),f0.p.$0)}:{$:1,$0:f0.f.$0(f0.p.$0)};return f2.$==0?M.BindView(a.id,f2.$0):f2.$0;})};return bq.New(_7.op_BarGreaterGreater(d9.r,function(f2){return bP.New(f2.f.$==0?f2.p.$==1?{$:0,$0:T.Apply(f2.f.$0,T.Const(f2.p.$0))}:{$:0,$0:T.Apply(f2.f.$0,f2.p.$0)}:f2.p.$==0?{$:0,$0:T.Apply(T.Const(f2.f.$0),f2.p.$0)}:{$:1,$0:f2.f.$0(f2.p.$0)},f1);}));},bp.main().r));p.split2=(d$=(ea=O.op_Dereference(cO.Curried(bo.variableSplitter,2,[false,0,50,100])),O.bindWrap(function(f0){var f1;f1={$:1,$0:O.makeAViewDoc(function(){var f2;f2=f0.f.$==0?f0.p.$==1?{$:0,$0:T.Apply(f0.f.$0,T.Const(f0.p.$0))}:{$:0,$0:T.Apply(f0.f.$0,f0.p.$0)}:f0.p.$==0?{$:0,$0:T.Apply(T.Const(f0.f.$0),f0.p.$0)}:{$:1,$0:f0.f.$0(f0.p.$0)};return f2.$==0?M.BindView(a.id,f2.$0):f2.$0;})};return bq.New(_7.op_BarGreaterGreater(ea.r,function(f2){return bP.New(f2,f1);}));},bp.appFwk().r)),(eb={$:1,$0:bp.main2()},bq.New(_7.op_BarGreaterGreater(d$.r,function(f0){return bP.New(f0.f.$==0?f0.p.$==1?{$:0,$0:T.Apply(f0.f.$0,T.Const(f0.p.$0))}:{$:0,$0:T.Apply(f0.f.$0,f0.p.$0)}:f0.p.$==0?{$:0,$0:T.Apply(T.Const(f0.f.$0),f0.p.$0)}:{$:1,$0:f0.f.$0(f0.p.$0)},eb);}))));p.pName=new R({$:0,$0:"NewLY"});O.addPlugIn((ec=O.plugin(),ec.AddDoc(ec.AddDoc(ec.AddDoc(ec.AddDoc(ec.AddDoc(ec.AddDoc(ec.AddVar(ec.AddVar(ec.Name(ec.Yield(),bp.pName().get_Id()),"name",bp.name()),"a",bp.aString()),"split",H.Create(function(){var f0;f0=bp.split();return bp.callDocPFn(bp.pName(),f0);})),"split2",H.Create(function(){var f0;f0=bp.split2();return bp.callDocPFn(bp.pName(),f0);})),"main",H.Create(function(){var f0;f0=bp.main();return bp.callDocPFn(bp.pName(),f0);})),"main2",H.Create(bp.main2)),"sayHello",H.Create(function(){var f0;f0=bp.sayHello();return bp.callDocPFn(bp.pName(),f0);})),"sayHello2",H.Create(function(){var f0;f0=bp.sayHello();return bp.callDocPFn(bp.pName(),f0);}))));p.nodeRefToDocD=(ed=m.depend(),ed.Delay(function(){return ed.Bind(_5.getDocFromTextTypesD(),function(f0){function f1(f2){var f3;return(f2.$==1?(f3=f2.$0.$0,false):f2.$==2?(f3=f2.$0.$0,false):f2.$==3?(f3=f2.$0.$0,false):true)?n.map(bp.textValToTextType,f2.$0):n.ofArray([bp.itemRefToTextType(f3)]);}return ed.Return(function(f2){return f0(f1(f2));});});}));p.varRefToVarD=(ee=m.depend(),ee.Delay(function(){return ee.Bind(bp.currentPlugInNameD(),function(f0){return ee.Return(function(f1){var f2,f3,f4,f5;f2=bp.itemRefToString(f1.$0);f3=(f4=(f5=(O.splitName(f0))(f2),O.tryGetVar(f5[0],f5[1])),f4==null?null:{$:1,$0:f4.$0.varVar});return f3==null?new bA.New(T.Const((function(f6){return function(f7){return f6("Could not find var "+_6.toSafe(f7));};}(a.id))(f2)),a.ignore):f3.$0;});});}));p.getParamD=(ef=m.depend(),ef.Delay(function(){return ef.Bind(bp.currentPlugInNameD(),function(f0){return ef.Bind(_5.getTextValFromSeqD(),function(f1){return ef.Return(function(f2){var f3,f4,f5,f6,f7,f8,f9,f_,f$,ga,gb,gc,gd,ge,gf,gg,gh,gi,gj,gk,gl,gm,gn,go;function gp(gx){return gx.docDoc;}function gq(){return(function(gx){return function(gy){return gx("missing ref Doc "+_1.p(gy));};}(a.id))(f5);}function gr(gx){return gx.varVar.get_View();}function gs(){return T.Const((function(gx){return function(gy){return gx("missing ref Var "+_1.p(gy));};}(a.id))(f_));}function gt(gx){return gx.viwView;}function gu(){return T.Const((function(gx){return function(gy){return gx("missing ref View "+_1.p(gy));};}(a.id))(ge));}function gv(gx){return gx.actFunction;}function gw(){return(function(gx){return function(gy){return gx("missing ref Action "+_1.p(gy));};}(a.id))(gk);}f3=(f4=O.splitName(f0),function(gx){return f4(bp.itemRefToString(gx));});return f2.$==1?(f5=f2.$0.$0,T.Map((f6=(f7=function(gx){var gy;gy=gp(gx);return gy;},function(gx){return gx==null?null:{$:1,$0:f7(gx.$0)};}),(f8=function(gx){return gx==null?gq():gx.$0;},function(gx){return f8(f6(gx));})),(f9=f3(f5),O.tryGetDocW(f9[0],f9[1])))):f2.$==2?(f_=f2.$0.$0,T.Bind((f$=(ga=(gb=function(gx){return T.Map(a.id,gx);},function(gx){return gb(gr(gx));}),function(gx){return gx==null?null:{$:1,$0:ga(gx.$0)};}),(gc=function(gx){return gx==null?gs():gx.$0;},function(gx){return gc(f$(gx));})),(gd=f3(f_),O.tryGetVarW(gd[0],gd[1])))):f2.$==3?(ge=f2.$0.$0,T.Bind((gf=(gg=(gh=function(gx){return T.Map(a.id,gx);},function(gx){return gh(gt(gx));}),function(gx){return gx==null?null:{$:1,$0:gg(gx.$0)};}),(gi=function(gx){return gx==null?gu():gx.$0;},function(gx){return gi(gf(gx));})),(gj=f3(ge),O.tryGetViwW(gj[0],gj[1])))):f2.$==4?(gk=f2.$0.$0,T.Map((gl=(gm=function(gx){var gy;gy=gv(gx);return gy;},function(gx){return gx==null?null:{$:1,$0:gm(gx.$0)};}),(gn=function(gx){return gx==null?gw():gx.$0;},function(gx){return gn(gl(gx));})),(go=f3(gk),O.tryGetActW(go[0],go[1])))):T.Map(a.id,_4.toView(f1(n.map(bp.textValToTextType,f2.$0))));});});});}));p.getParam2D=(eg=m.depend(),eg.Delay(function(){return eg.Bind(bp.currentPlugInNameD(),function(f0){return eg.Bind(_5.getTextValFromSeqD(),function(){return eg.Return(function(f1){var f2,f3,f4,f5;f2=(f3=bp.itemRefToAbsolute(f0.get_Id()),(f4=function(f6){return function(f7){return f6("@{"+_6.toSafe(f7)+"}");};}(a.id),function(f6){return f4(f3(f6));}));return(f1.$==3?(f5=f1.$0.$0,false):f1.$==1?(f5=f1.$0.$0,false):f1.$==2?(f5=f1.$0.$0,false):f1.$==4?(f5=f1.$0.$0,false):true)?A.concat("",q.map(function(f6){var f7;return(f6.$==1?(f7=f6.$0.$0,false):f6.$==3?(f7=f6.$0.$0,false):f6.$==4?(f7=f6.$0.$0,false):f6.$==2?(f7=f6.$0.$0,false):true)?f6.$0:f2(f7);},f1.$0)):f2(f5);});});});}));p.getParamTextD=(eh=m.depend(),eh.Delay(function(){return eh.Bind(bp.currentPlugInNameD(),function(f0){return eh.Bind(_5.getTextValFromSeqD(),function(f1){return eh.Return(function(f2){return function(f3){var f4,f5,f6,f7,f8,f9,f_,f$,ga,gb;f4=(f5=O.splitName(f0),function(gc){return f5(bp.itemRefToString(gc));});return f2.$==1?(f6=(f7=f4(f2.$0.$0),O.tryGetDoc(f7[0],f7[1])),f6==null?null:f3(f6.$0.docDoc)):f2.$==2?(f8=(f9=f4(f2.$0.$0),O.tryGetVar(f9[0],f9[1])),f8==null?null:T.Get(function(gc){return f3(a.id(gc));},f8.$0.varVar.get_View())):f2.$==3?(f_=(f$=f4(f2.$0.$0),O.tryGetViw(f$[0],f$[1])),f_==null?null:T.Get(function(gc){return f3(a.id(gc));},f_.$0.viwView)):f2.$==4?(ga=(gb=f4(f2.$0.$0),O.tryGetAct(gb[0],gb[1])),ga==null?null:f3(ga.$0.actFunction)):T.Get(function(gc){return f3(a.id(gc));},_4.toView(f1(n.map(bp.textValToTextType,f2.$0))));};});});});}));p.initVal="-<InitValue>-";p.defVarM0=(ei=(ej=new bC.New$5(),[[ft,function(f0){return function(f1){return fv(f0,f1);};}],function(){ej.Clear();}]),(ek=ei[0][1],[function(f0){return(ek(f0))(function(f1){return bp.defVar(f1[0],f1[1],f1[2]);});},ei[1]]))[0];p.defDocFM=(el=(em=new bC.New$5(),[[fw,function(f0){return function(f1){return fy(f0,f1);};}],function(){em.Clear();}]),(en=el[0][1],[function(f0){return(en(f0))(function(f1){return bp.defDocF(f1[0],f1[1],f1[2],f1[3]);});},el[1]]))[0];p.defActionM=(eo=(ep=new bC.New$5(),[[fz,function(f0){return function(f1){return fB(f0,f1);};}],function(){ep.Clear();}]),(eq=eo[0][1],[function(f0){return(eq(f0))(function(f1){return bp.defAction(f1[0],f1[1],f1[2],f1[3]);});},eo[1]]))[0];p.defButtonM=(er=(es=new bC.New$5(),[[fC,function(f0){return function(f1){return fE(f0,f1);};}],function(){es.Clear();}]),(et=er[0][1],[function(f0){return(et(f0))(function(f1){return bp.defButton(f1[0],f1[1],f1[2],f1[3],f1[4]);});},er[1]]))[0];p.defInputM=(eu=(ev=new bC.New$5(),[[fF,function(f0){return function(f1){return fH(f0,f1);};}],function(){ev.Clear();}]),(ew=eu[0][1],[function(f0){return(ew(f0))(function(f1){return bp.defInput(f1[0],f1[1],f1[2],f1[3]);});},eu[1]]))[0];p.defTextAreaM=(ex=(ey=new bC.New$5(),[[fI,function(f0){return function(f1){return fK(f0,f1);};}],function(){ey.Clear();}]),(ez=ex[0][1],[function(f0){return(ez(f0))(function(f1){return bp.defTextArea(f1[0],f1[1],f1[2],f1[3]);});},ex[1]]))[0];p.defElementM=(eA=(eB=new bC.New$5(),[[fL,function(f0){return function(f1){return fN(f0,f1);};}],function(){eB.Clear();}]),(eC=eA[0][1],[function(f0){return(eC(f0))(function(f1){return bp.defElement(f1[0],f1[1],f1[2],f1[3],f1[4]);});},eA[1]]))[0];p.defConcatM=(eD=(eE=new bC.New$5(),[[fO,function(f0){return function(f1){return fQ(f0,f1);};}],function(){eE.Clear();}]),(eF=eD[0][1],[function(f0){return(eF(f0))(function(f1){return bp.defConcat(f1[0],f1[1],f1[2]);});},eD[1]]))[0];p.defViewM=(eG=(eH=new bC.New$5(),[[fR,function(f0){return function(f1){return fT(f0,f1);};}],function(){eH.Clear();}]),(eI=eG[0][1],[function(f0){return(eI(f0))(function(f1){return bp.defView(f1[0],f1[1],f1[2]);});},eG[1]]))[0];p.defViewJSM=(eJ=(eK=new bC.New$5(),[[fU,function(f0){return function(f1){return fW(f0,f1);};}],function(){eK.Clear();}]),(eL=eJ[0][1],[function(f0){return(eL(f0))(function(f1){return bp.defViewJS(f1[0],f1[1],f1[2]);});},eJ[1]]))[0];p.defSplitterM=(eM=(eN=new bC.New$5(),[[fX,function(f0){return function(f1){return fZ(f0,f1);};}],function(){eN.Clear();}]),(eO=eM[0][1],[function(f0){return(eO(f0))(function(f1){return bp.defSplitter(f1[0],f1[1],f1[2],f1[3],f1[4],f1[5]);});},eM[1]]))[0];};q.tryFind=function(cT,cU){var cV,cW,cX;cV=bt.Get(cU);try{cW=null;while(cW==null&&cV.MoveNext()){cX=cV.Current();cT(cX)?cW={$:1,$0:cX}:void 0;}return cW;}finally{if(typeof cV=="object"&&"Dispose"in cV)cV.Dispose();}};q.map=function(cT,cU){return{GetEnumerator:function(){var cV;cV=bt.Get(cU);return new bH.New(null,null,function(cW){return cV.MoveNext()&&(cW.c=cT(cV.Current()),true);},function(){cV.Dispose();});}};};q.filter=function(cT,cU){return{GetEnumerator:function(){var cV;cV=bt.Get(cU);return new bH.New(null,null,function(cW){var cX,cY,cZ;cX=cV.MoveNext();cY=cV.Current();cZ=false;while(cX)if(cT(cY)){cW.c=cY;cZ=true;cX=false;}else if(cV.MoveNext())cY=cV.Current();else cX=false;return cZ;},function(){cV.Dispose();});}};};q.choose=function(cT,cU){return q.collect(function(cV){var cW;cW=cT(cV);return cW==null?r.Empty:n.ofArray([cW.$0]);},cU);};q.delay=function(cT){return{GetEnumerator:function(){return bt.Get(cT());}};};q.append=function(cT,cU){return{GetEnumerator:function(){var cV,cW;cV=bt.Get(cT);cW=[true];return new bH.New(cV,null,function(cX){var cY;return cX.s.MoveNext()?(cX.c=cX.s.Current(),true):(cY=cX.s,!D.Equals(cY,null)?cY.Dispose():void 0,cX.s=null,cW[0]&&(cW[0]=false,cX.s=bt.Get(cU),cX.s.MoveNext()?(cX.c=cX.s.Current(),true):(cX.s.Dispose(),cX.s=null,false)));},function(cX){var cY;cY=cX.s;!D.Equals(cY,null)?cY.Dispose():void 0;});}};};q.isEmpty=function(cT){var cU;cU=bt.Get(cT);try{return!cU.MoveNext();}finally{if(typeof cU=="object"&&"Dispose"in cU)cU.Dispose();}};q.collect=function(cT,cU){return q.concat(q.map(cT,cU));};q.tryFindIndex=function(cT,cU){var cV,cW,cX;cV=bt.Get(cU);try{cW=true;cX=0;while(cW&&cV.MoveNext())if(cT(cV.Current()))cW=false;else cX=cX+1;return cW?null:{$:1,$0:cX};}finally{if(typeof cV=="object"&&"Dispose"in cV)cV.Dispose();}};q.init=function(cT,cU){return q.take(cT,q.initInfinite(cU));};q.concat=function(cT){return{GetEnumerator:function(){var cU;cU=bt.Get(cT);return new bH.New(null,null,function(cV){var cW;while(true){cW=cV.s;if(D.Equals(cW,null)){if(cU.MoveNext()){cV.s=bt.Get(cU.Current());cV=cV;}else{cU.Dispose();return false;}}else if(cW.MoveNext()){cV.c=cW.Current();return true;}else{cV.Dispose();cV.s=null;cV=cV;}}},function(cV){var cW;cW=cV.s;!D.Equals(cW,null)?cW.Dispose():void 0;!D.Equals(cU,null)?cU.Dispose():void 0;});}};};q.pairwise=function(cT){return q.map(function(cU){return[s.get(cU,0),s.get(cU,1)];},q.windowed(2,cT));};q.indexed=function(cT){return q.mapi(function(cU,cV){return[cU,cV];},cT);};q.take=function(cT,cU){cT<0?q.nonNegative():void 0;return{GetEnumerator:function(){var cV;cV=[bt.Get(cU)];return new bH.New(0,null,function(cW){var cX;cW.s=cW.s+1;return cW.s>cT?false:(cX=cV[0],D.Equals(cX,null)?q.insufficient():cX.MoveNext()?(cW.c=cX.Current(),cW.s===cT?(cX.Dispose(),cV[0]=null):void 0,true):(cX.Dispose(),cV[0]=null,q.insufficient()));},function(){var cW;cW=cV[0];!D.Equals(cW,null)?cW.Dispose():void 0;});}};};q.initInfinite=function(cT){return{GetEnumerator:function(){return new bH.New(0,null,function(cU){cU.c=cT(cU.s);cU.s=cU.s+1;return true;},void 0);}};};q.distinct=function(cT){return q.distinctBy(a.id,cT);};q.tryPick=function(cT,cU){var cV,cW;cV=bt.Get(cU);try{cW=null;while(D.Equals(cW,null)&&cV.MoveNext())cW=cT(cV.Current());return cW;}finally{if(typeof cV=="object"&&"Dispose"in cV)cV.Dispose();}};q.windowed=function(cT,cU){cT<=0?h.FailWith("The input must be positive."):void 0;return q.delay(function(){return q.enumUsing(bt.Get(cU),function(cV){var cW;cW=[];return q.append(q.enumWhile(function(){return cW.length<cT&&cV.MoveNext();},q.delay(function(){cW.push(cV.Current());return[];})),q.delay(function(){return cW.length===cT?q.append([cW.slice(0)],q.delay(function(){return q.enumWhile(function(){return cV.MoveNext();},q.delay(function(){cW.shift();cW.push(cV.Current());return[cW.slice(0)];}));})):[];}));});});};q.mapi=function(cT,cU){return q.map2(cT,q.initInfinite(a.id),cU);};q.distinctBy=function(cT,cU){return{GetEnumerator:function(){var cV,cW;cV=bt.Get(cU);cW=new bD.New$3();return new bH.New(null,null,function(cX){var cY,cZ;if(cV.MoveNext()){cY=cV.Current();cZ=cW.Add(cT(cY));while(!cZ&&cV.MoveNext()){cY=cV.Current();cZ=cW.Add(cT(cY));}return cZ&&(cX.c=cY,true);}else return false;},function(){cV.Dispose();});}};};q.iter=function(cT,cU){var cV;cV=bt.Get(cU);try{while(cV.MoveNext())cT(cV.Current());}finally{if(typeof cV=="object"&&"Dispose"in cV)cV.Dispose();}};q.head=function(cT){var cU;cU=bt.Get(cT);try{return cU.MoveNext()?cU.Current():q.insufficient();}finally{if(typeof cU=="object"&&"Dispose"in cU)cU.Dispose();}};q.map2=function(cT,cU,cV){return{GetEnumerator:function(){var cW,cX;cW=bt.Get(cU);cX=bt.Get(cV);return new bH.New(null,null,function(cY){return cW.MoveNext()&&cX.MoveNext()&&(cY.c=cT(cW.Current(),cX.Current()),true);},function(){cW.Dispose();cX.Dispose();});}};};q.compareWith=function(cT,cU,cV){var cW,cX,cY,cZ,c0;cW=bt.Get(cU);try{cY=bt.Get(cV);try{cZ=0;c0=true;while(c0&&cZ===0)if(cW.MoveNext())cZ=cY.MoveNext()?cT(cW.Current(),cY.Current()):1;else if(cY.MoveNext())cZ=-1;else c0=false;cX=cZ;}finally{if(typeof cY=="object"&&"Dispose"in cY)cY.Dispose();}return cX;}finally{if(typeof cW=="object"&&"Dispose"in cW)cW.Dispose();}};q.forall2=function(cT,cU,cV){return!q.exists2(function(cW,cX){return!cT(cW,cX);},cU,cV);};q.cache=function(cT){var cU,cV;cU=[];cV=[bt.Get(cT)];return{GetEnumerator:function(){return new bH.New(0,null,function(cW){var cX;return cW.s<cU.length?(cW.c=cU[cW.s],cW.s=cW.s+1,true):(cX=cV[0],D.Equals(cX,null)?false:cX.MoveNext()?(cW.s=cW.s+1,cW.c=cX.Current(),cU.push(cW.c),true):(cX.Dispose(),cV[0]=null,false));},void 0);}};};q.groupBy=function(cT,cU){return q.delay(function(){return s.groupBy(cT,s.ofSeq(cU));});};q.exists2=function(cT,cU,cV){var cW,cX,cY,cZ;cW=bt.Get(cU);try{cY=bt.Get(cV);try{cZ=false;while(!cZ&&cW.MoveNext()&&cY.MoveNext())cZ=cT(cW.Current(),cY.Current());cX=cZ;}finally{if(typeof cY=="object"&&"Dispose"in cY)cY.Dispose();}return cX;}finally{if(typeof cW=="object"&&"Dispose"in cW)cW.Dispose();}};q.findIndex=function(cT,cU){var cV;cV=q.tryFindIndex(cT,cU);return cV==null?h.FailWith("KeyNotFoundException"):cV.$0;};q.fold=function(cT,cU,cV){var cW,cX;cW=cU;cX=bt.Get(cV);try{while(cX.MoveNext())cW=cT(cW,cX.Current());return cW;}finally{if(typeof cX=="object"&&"Dispose"in cX)cX.Dispose();}};q.unfold=function(cT,cU){return{GetEnumerator:function(){return new bH.New(cU,null,function(cV){var cW;cW=cT(cV.s);return cW==null?false:(cV.c=cW.$0[0],cV.s=cW.$0[1],true);},void 0);}};};q.skip=function(cT,cU){return{GetEnumerator:function(){var cV;cV=bt.Get(cU);return new bH.New(true,null,function(cW){var cX,cY;if(cW.s){for(cX=1,cY=cT;cX<=cY;cX++)if(!cV.MoveNext())q.insufficient();cW.s=false;}else null;return cV.MoveNext()&&(cW.c=cV.Current(),true);},function(){cV.Dispose();});}};};q.nth=function(cT,cU){var cV,cW;if(cT<0)h.FailWith("negative index requested");cV=-1;cW=bt.Get(cU);try{while(cV<cT){!cW.MoveNext()?q.insufficient():void 0;cV=cV+1;}return cW.Current();}finally{if(typeof cW=="object"&&"Dispose"in cW)cW.Dispose();}};q.sortBy=function(cT,cU){return q.delay(function(){var cV;cV=s.ofSeq(cU);s.sortInPlaceBy(cT,cV);return cV;});};q.max=function(cT){var cU,cV,cW;cU=bt.Get(cT);try{if(!cU.MoveNext())q.seqEmpty();cV=cU.Current();while(cU.MoveNext()){cW=cU.Current();D.Compare(cW,cV)===1?cV=cW:void 0;}return cV;}finally{if(typeof cU=="object"&&"Dispose"in cU)cU.Dispose();}};q.forall=function(cT,cU){return!q.exists(function(cV){return!cT(cV);},cU);};q.seqEmpty=function(){return h.FailWith("The input sequence was empty.");};q.exists=function(cT,cU){var cV,cW;cV=bt.Get(cU);try{cW=false;while(!cW&&cV.MoveNext())cW=cT(cV.Current());return cW;}finally{if(typeof cV=="object"&&"Dispose"in cV)cV.Dispose();}};r=n.T=cO.Class({get_Item:function(cT){return q.nth(cT,this);},GetEnumerator:function(){return new bH.New(this,null,function(cT){var cU;cU=cT.s;return cU.$==0?false:(cT.c=cU.$0,cT.s=cU.$1,true);},void 0);},GetEnumerator0:function(){return bt.Get(this);}},null,r);r.Empty=new r({$:0});s.get=function(cT,cU){s.checkBounds(cT,cU);return cT[cU];};s.length=function(cT){return cT.dims===2?cT.length*cT.length:cT.length;};s.checkBounds=function(cT,cU){if(cU<0||cU>=cT.length)h.FailWith("Index was outside the bounds of the array.");};s.set=function(cT,cU,cV){s.checkBounds(cT,cU);cT[cU]=cV;};t=g.Obj=cO.Class({Equals:function(cT){return this===cT;},GetHashCode:function(){return -1;}},null,t);t.New=cO.Ctor(function(){},t);v=u.CEBuilder=cO.Class({},t,v);v.New=cO.Ctor(function(){t.New.call(this);},v);x=w.Builder=cO.Class({},t,x);x.New=cO.Ctor(function(){t.New.call(this);},x);w.result=function(){p.$cctor();return p.result;};y=m.DependBuilder=cO.Class({Delay:function(cT){return cT();},Bind:function(cT,cU){return m.bind(cU,cT);},Return:function(cT){return m.rtn(cT);}},t,y);y.New=cO.Ctor(function(){t.New.call(this);},y);z.unindent=function(cT){var cU,cV,cW,cX;cU=A.SplitChars(cT,["\n"],0);cV=(cW=q.tryFindIndex(function(cY){return" "!==cY;},(cX=q.tryFind(function(cY){return A.Trim(cY)!=="";},cU),cX==null?"":cX.$0)),cW==null?0:cW.$0);return q.filter(function(cY){return!A.StartsWith(cY,"# 1 ");},q.map(function(cY){return cY.length<=cV?"":cY.substring(cV);},cU));};z.splitByChar=function(cT,cU){return A.SplitChars(cU,[cT],0);};z.delimitedO=function(cT,cU,cV){var cW,cX,cY,cZ,c0;cW=z.splitInTwoO(cT,cV);return cW==null?null:(cX=cW.$0,(cY=cX[0],(cZ=z.splitInTwoO(cU,cX[1]),cZ==null?null:{$:1,$0:(c0=cZ.$0,[cY,c0[0],c0[1]])})));};z.unindentStr=function(){p.$cctor();return p.unindentStr;};z.splitInTwoO=function(cT,cU){var cV;cV=cU.indexOf(cT);return cV===-1?null:{$:1,$0:[k["String.Left"](cU,cV),cU.substring(cV+cT.length)]};};z.StartsWith=function(cT,cU){return A.StartsWith(cU,cT)?{$:1,$0:B.string(cU,{$:1,$0:cT.length},null)}:null;};A.concat=function(cT,cU){return s.ofSeq(cU).join(cT);};A.SplitChars=function(cT,cU,cV){return A.Split(cT,new a.RegExp("["+A.RegexEscape(cU.join(""))+"]"),cV);};A.Trim=function(cT){return cT.replace(new a.RegExp("^\\s+"),"").replace(new a.RegExp("\\s+$"),"");};A.StartsWith=function(cT,cU){return cT.substring(0,cU.length)==cU;};A.Split=function(cT,cU,cV){return cV===1?s.filter(function(cW){return cW!=="";},A.SplitWith(cT,cU)):A.SplitWith(cT,cU);};A.RegexEscape=function(cT){return cT.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};A.Replace=function(cT,cU,cV){function cW(cX){var cY,cZ,c0;cY=cX.indexOf(cU);return cY!==-1?(cZ=A.ReplaceOnce(cX,cU,cV),(c0=cY+cV.length,A.Substring(cZ,0,cY+cV.length)+cW(cZ.substring(c0)))):cX;}return cW(cT);};A.SplitWith=function(cT,cU){return cT.split(cU);};A.ReplaceOnce=function(cT,cU,cV){return cT.replace(cU,cV);};A.Substring=function(cT,cU,cV){return cT.substr(cU,cV);};A.replicate=function(cT,cU){return s.create(cT,cU).join("");};A.forall=function(cT,cU){return q.forall(cT,A.protect(cU));};A.protect=function(cT){return cT===null?"":cT;};A.SplitStrings=function(cT,cU,cV){return A.Split(cT,new a.RegExp(A.concat("|",s.map(A.RegexEscape,cU))),cV);};B.array=function(cT,cU,cV){return cU==null?cV!=null&&cV.$==1?cT.slice(0,cV.$0+1):[]:cV==null?cT.slice(cU.$0):cT.slice(cU.$0,cV.$0+1);};B.string=function(cT,cU,cV){return cU==null?cV!=null&&cV.$==1?cT.slice(0,cV.$0+1):"":cV==null?cT.slice(cU.$0):cT.slice(cU.$0,cV.$0+1);};C.tryParseWith=function(cT){function cU(cV,cW){return cV?{$:1,$0:cW}:null;}return function(cV){return cU.apply(null,cT(cV));};};C.parseDateO=function(){p.$cctor();return p.parseDateO;};C.parseIntO=function(){p.$cctor();return p.parseIntO;};C.parseInt64O=function(){p.$cctor();return p.parseInt64O;};C.parseSingleO=function(){p.$cctor();return p.parseSingleO;};C.parseDoubleO=function(){p.$cctor();return p.parseDoubleO;};C.parseGuidO=function(){p.$cctor();return p.parseGuidO;};C.Double=function(){p.$cctor();return p["|Double|_|"];};C.Int=function(){p.$cctor();return p["|Int|_|"];};D.Equals=function(cT,cU){var cV,cW,cX,cY;if(cT===cU)return true;else{cV=typeof cT;if(cV=="object"){if(cT===null||cT===void 0||cU===null||cU===void 0)return false;else if("Equals"in cT)return cT.Equals(cU);else if(cT instanceof a.Array&&cU instanceof a.Array)return D.arrayEquals(cT,cU);else if(cT instanceof cP&&cU instanceof cP)return D.dateEquals(cT,cU);else{cW=[true];for(var cZ in cT)if(function(c0){cW[0]=!cT.hasOwnProperty(c0)||cU.hasOwnProperty(c0)&&D.Equals(cT[c0],cU[c0]);return!cW[0];}(cZ))break;if(cW[0]){for(var c0 in cU)if(function(c1){cW[0]=!cU.hasOwnProperty(c1)||cT.hasOwnProperty(c1);return!cW[0];}(c0))break;}return cW[0];}}else return cV=="function"&&("$Func"in cT?cT.$Func===cU.$Func&&cT.$Target===cU.$Target:"$Invokes"in cT&&"$Invokes"in cU&&D.arrayEquals(cT.$Invokes,cU.$Invokes));}};D.Compare=function(cT,cU){var cV,cW,cX,cY,cZ,c0;if(cT===cU)return 0;else{cW=typeof cT;switch(cW=="function"?1:cW=="boolean"?2:cW=="number"?2:cW=="string"?2:cW=="object"?3:0){case 0:return typeof cU=="undefined"?0:-1;case 1:return h.FailWith("Cannot compare function values.");case 2:return cT<cU?-1:1;case 3:if(cT===null)cX=-1;else if(cU===null)cX=1;else if("CompareTo"in cT)cX=cT.CompareTo(cU);else if("CompareTo0"in cT)cX=cT.CompareTo0(cU);else if(cT instanceof a.Array&&cU instanceof a.Array)cX=D.compareArrays(cT,cU);else if(cT instanceof cP&&cU instanceof cP)cX=D.compareDates(cT,cU);else{cY=[0];for(var c1 in cT)if(function(c2){return!cT.hasOwnProperty(c2)?false:!cU.hasOwnProperty(c2)?(cY[0]=1,true):(cY[0]=D.Compare(cT[c2],cU[c2]),cY[0]!==0);}(c1))break;if(cY[0]===0){for(var c2 in cU)if(function(c3){return!cU.hasOwnProperty(c3)?false:!cT.hasOwnProperty(c3)&&(cY[0]=-1,true);}(c2))break;}cX=cY[0];}return cX;}}};D.arrayEquals=function(cT,cU){var cV,cW;if(s.length(cT)===s.length(cU)){cV=true;cW=0;while(cV&&cW<s.length(cT)){!D.Equals(s.get(cT,cW),s.get(cU,cW))?cV=false:void 0;cW=cW+1;}return cV;}else return false;};D.dateEquals=function(cT,cU){return cT.getTime()===cU.getTime();};D.compareArrays=function(cT,cU){var cV,cW;if(s.length(cT)<s.length(cU))return -1;else if(s.length(cT)>s.length(cU))return 1;else{cV=0;cW=0;while(cV===0&&cW<s.length(cT)){cV=D.Compare(s.get(cT,cW),s.get(cU,cW));cW=cW+1;}return cV;}};D.compareDates=function(cT,cU){return D.Compare(cT.getTime(),cU.getTime());};D.Hash=function(cT){var cU;cU=typeof cT;return cU=="function"?0:cU=="boolean"?cT?1:0:cU=="number"?cT:cU=="string"?D.hashString(cT):cU=="object"?cT==null?0:cT instanceof a.Array?D.hashArray(cT):D.hashObject(cT):0;};D.hashString=function(cT){var cU,cV,cW;if(cT===null)return 0;else{cU=5381;for(cV=0,cW=cT.length-1;cV<=cW;cV++)cU=D.hashMix(cU,cT[cV].charCodeAt());return cU;}};D.hashArray=function(cT){var cU,cV,cW;cU=-34948909;for(cV=0,cW=s.length(cT)-1;cV<=cW;cV++)cU=D.hashMix(cU,D.Hash(s.get(cT,cV)));return cU;};D.hashObject=function(cT){var cU,cV;if("GetHashCode"in cT)return cT.GetHashCode();else{cU=[0];for(var cW in cT)if(function(cX){cU[0]=D.hashMix(D.hashMix(cU[0],D.hashString(cX)),D.Hash(cT[cX]));return false;}(cW))break;return cU[0];}};D.hashMix=function(cT,cU){return(cT<<5)+cT+cU;};E.TryParseInt32=function(cT,cU){return E.TryParse(cT,-2147483648,2147483647,cU);};E.TryParseInt64=function(cT,cU){return E.TryParse(cT,-9223372036854775808,9223372036854775807,cU);};G.TryParse=function(cT,cU){try{cU.set(G.Parse(cT));return true;}catch(cV){return false;}};G.Parse=function(cT){var cU,cV,cW;try{return G.ParseExact(cT,"D");}catch(cX){try{cU=G.ParseExact(cT,"B");}catch(cY){try{cV=G.ParseExact(cT,"P");}catch(cZ){try{cW=G.ParseExact(cT,"N");}catch(c0){cW=G.ParseExact(cT,"X");}cV=cW;}cU=cV;}return cU;}};G.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new a.RegExp("[xy]","g"),function(cT){var cU,cV;cU=cM.random()*16|0;cV=cT=="x"?cU:cU&3|8;return cV.toString(16);});};G.ParseExact=function(cT,cU){var cV,cW,cX,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8;function cY(c9){var c_,c$,da,db;for(c_=0,c$=35;c_<=c$;c_++){c_===8||(c_===13||(c_===18||c_===23))?c9[c_]!=="-"?G.ShapeError():void 0:(db=c9[c_],!("0"<=db&&db<="9"||"a"<=db&&db<="f")?G.ShapeError():void 0);}return c9;}cZ=cU.toUpperCase();if(cZ==="N"){c0=A.Trim(cT).toLowerCase();if(c0.length!==32)G.ShapeError();for(c1=0,c2=31;c1<=c2;c1++){c3=c0[c1];!("0"<=c3&&c3<="9"||"a"<=c3&&c3<="f")?G.ShapeError():void 0;}return A.Substring(c0,0,8)+"-"+A.Substring(c0,8,4)+"-"+A.Substring(c0,12,4)+"-"+A.Substring(c0,16,4)+"-"+c0.substring(20);}else if(cZ==="D"){cV=A.Trim(cT).toLowerCase();cV.length!==36?G.ShapeError():void 0;return cY(cV);}else if(cZ==="B"){cW=A.Trim(cT).toLowerCase();cW.length!==38||cW[0]!=="{"||cW[17]!=="}"?G.ShapeError():void 0;return cY(A.Substring(cW,1,36));}else if(cZ==="P"){cX=A.Trim(cT).toLowerCase();cX.length!==38||cX[0]!=="("||cX[17]!==")"?G.ShapeError():void 0;return cY(A.Substring(cX,1,36));}else if(cZ==="X"){c4=A.Trim(cT).toLowerCase();if(c4.length!==68)G.ShapeError();for(c5=0,c6=67;c5<=c6;c5++){switch(c5){case 26:case 0:if(c4[c5]!=="{")G.ShapeError();break;case 62:case 57:case 52:case 47:case 42:case 37:case 32:case 27:case 19:case 12:case 1:if(c4[c5]!=="0")G.ShapeError();break;case 63:case 58:case 53:case 48:case 43:case 38:case 33:case 28:case 20:case 13:case 2:if(c4[c5]!=="x")G.ShapeError();break;case 61:case 56:case 51:case 46:case 41:case 36:case 31:case 25:case 18:case 11:if(c4[c5]!==",")G.ShapeError();break;case 67:case 66:if(c4[c5]!=="{")G.ShapeError();break;default:c8=c4[c5];!("0"<=c8&&c8<="9"||"a"<=c8&&c8<="f")?G.ShapeError():void 0;break;}}return A.Substring(c4,3,8)+"-"+A.Substring(c4,14,4)+"-"+A.Substring(c4,21,4)+"-"+A.Substring(c4,29,2)+A.Substring(c4,34,2)+"-"+A.Substring(c4,39,2)+A.Substring(c4,44,2)+A.Substring(c4,49,2)+A.Substring(c4,54,2)+A.Substring(c4,59,2)+A.Substring(c4,64,2);}else return G.FormatError();};G.ShapeError=function(){throw new ch.New$1("Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");};G.FormatError=function(){throw new ch.New$1("Format String can be only \"D\", \"d\", \"N\", \"n\", \"P\", \"p\", \"B\", \"b\", \"X\" or \"x\".");};H.Create=function(cT){return bw.New(false,cT,H.forceLazy);};H.forceLazy=function(){var cT;cT=this.v();this.c=true;this.v=cT;this.f=H.cachedLazy;return cT;};H.cachedLazy=function(){return this.v;};K=J.WcTabStripT=cO.Class({connectedCallback:function(){var cT,cU,cV,cW;function cX(){var cY,cZ,c0;cZ=!cU.hasAttribute("bottom");c0=n.ofSeq(q.delay(function(){return q.collect(function(c1){var c2;c2=cU.childNodes[c1-1];return D.Equals(c2.nodeType,bb.ELEMENT_NODE)?[[c2.hasAttribute("tabname")?c2.getAttribute("tabname"):(function(c3){return function(c4){return c3("Tab "+a.String(c4));};}(a.id))(c1),c2]]:[];},h.range(1,cU.childNodes.length));}));while(cW.childNodes.length>0)cW.removeChild(cW.lastChild);cY=J.tabStrip(cT.selected,cZ,true,c0,M.Element("slot",r.Empty,r.Empty));bO.LoadLocalTemplates("");M.Run(cW,cY);}cT=this;!this.added?(cU=this,cV=cU.attachShadow({mode:"open"}),cW=self.document.createElement("div"),cV.appendChild(cW),cX(),cU.addEventListener("DOMSubtreeModified",k.delayed(50,cX)),this.added=true):void 0;}},t,K);K.Constructor=function(){var cT,cU;cT=(cU=cQ.construct(self.HTMLElement,[],this.__proto__.constructor),cU);self.FsRootDll.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New.call(cT);return cT;};K.New=cO.Ctor(function(){t.New.call(this);this.added=false;this.selected=Q.Create$1(1);(function(cT){return cT("WcTabStripT initializer");}(function(cT){cR.log(cT);}));},K);I.defineWebComponent=function(cT,cU,cV){try{cR.log("defineWebComponent: "+cT);bG.setPrototypeOf(cV.prototype,self.HTMLElement.prototype);bG.setPrototypeOf(cV,self.HTMLElement);bG.setPrototypeOf(cU.prototype,cV.prototype);self.customElements.define(cT,cU);}catch(cW){(function(cX){return cX("Failed to define WebComponent. Not supported.");}(function(cX){cR.log(cX);}));}};M=L.Doc=cO.Class({},t,M);M.get_Empty=function(){return M.Mk(null,T.Const());};M.Concat=function(cT){var cU;cU=bF.ofSeqNonCopying(cT);return bF.TreeReduce(M.get_Empty(),M.Append,cU);};M.Verbatim=function(cT){var cU;return M.Mk(bF.MapTreeReduce(function(cV){return D.Equals(cV.nodeType,bb.TEXT_NODE)?{$:5,$0:cV}:{$:1,$0:bL.CreateElemNode(cV,bI.EmptyAttr(),null)};},null,function(cV,cW){return{$:0,$0:cV,$1:cW};},(cU=cS.parseHTML(cT),D.Equals(cU,null)?[]:cU)),T.Const());};M.Element=function(cT,cU,cV){var cW,cX;cW=bc.Concat(cU);cX=M.Concat(cV);return b8.New(bT.CreateElement(cT),cW,cX);};M.Mk=function(cT,cU){return new M.New(cT,cU);};M.TextNode=function(cT){return M.Mk({$:5,$0:bT.CreateText(cT)},T.Const());};M.Append=function(cT,cU){return M.Mk({$:0,$0:cT.docNode,$1:cU.docNode},T.Map2Unit(cT.updates,cU.updates));};M.BindView=function(cT,cU){return M.EmbedView(T.Map(cT,cU));};M.TextView=function(cT){var cU;cU=bL.CreateTextNode();return M.Mk({$:4,$0:cU},T.Map(function(cV){bL.UpdateTextNode(cU,cV);},cT));};M.Input=function(cT,cU){return M.InputInternal("input",function(){return q.append(cT,[bd.Value(cU)]);});};M.InputArea=function(cT,cU){return M.InputInternal("textarea",function(){return q.append(cT,[bd.Value(cU)]);});};M.SelectDynOptional=function(cT,cU,cV,cW,cX){return M.SelectDyn(cT,function(cY){return cY!=null&&cY.$==1?cV(cY.$0):cU;},T.Map(function(cY){return new r({$:1,$0:null,$1:n.map(function(cZ){return{$:1,$0:cZ};},cY)});},cW),cX);};M.RunAppend=function(cT,cU){var cV;cV=self.document.createTextNode("");cT.appendChild(cV);M.RunBefore(cV,cU);};M.Run=function(cT,cU){bL.LinkElement(cT,cU.docNode);M.RunInPlace(false,cT,cU);};M.ConvertBy=function(cT,cU,cV){return M.Flatten(T.MapSeqCachedBy(cT,cU,cV));};M.EmbedView=function(cT){var cU;cU=bL.CreateEmbedNode();return M.Mk({$:2,$0:cU},T.Map(a.ignore,T.Bind(function(cV){bL.UpdateEmbedNode(cU,cV.docNode);return cV.updates;},cT)));};M.InputInternal=function(cT,cU){var cV;cV=bT.CreateElement(cT);return b8.New(cV,bc.Concat(cU(cV)),M.get_Empty());};M.SelectDyn=function(cT,cU,cV,cW){return M.SelectImpl(cT,cU,function(cX){function cY(cZ,c0){return M.Element("option",n.ofArray([bc.Create("value",a.String(cZ))]),n.ofArray([M.TextNode(cU(c0))]));}return M.Convert(function(cZ){return cY(cZ[0],cZ[1]);},T.Map(function(cZ){cX[0]=cZ;return q.mapi(function(c0,c1){return[c0,c1];},cZ);},cV));},cW);};M.RunBefore=function(cT,cU){var cV;cV=self.document.createTextNode("");cT.parentNode.insertBefore(cV,cT);M.RunBetween(cV,cT,cU);};M.Button=function(cT,cU,cV){var cW;cW=bc.Concat(cU);return b8.New(M.Clickable("button",cV),cW,M.TextNode(cT));};M.RunInPlace=function(cT,cU,cV){var cW;cW=bL.CreateRunState(cU,cV.docNode);T.Sink(ck.get_UseAnimations()||cl.BatchUpdatesEnabled()?cm.StartProcessor(bL.PerformAnimatedUpdate(cT,cW,cV.docNode)):function(){bL.PerformSyncUpdate(cT,cW,cV.docNode);},cV.updates);};M.Flatten=function(cT){return M.EmbedView(T.Map(M.Concat,cT));};M.SelectImpl=function(cT,cU,cV,cW){var cX,cY,cZ,c0;function c1(c6){return c6.selectedIndex;}function c2(c6,c7){c6.selectedIndex=c7;}function c3(c6){var c7;c7=c1(c6);return cX[0].get_Item(c7);}function c4(c6){return q.findIndex(function(c7){return D.Equals(c6,c7);},cX[0]);}function c5(c6,c7){return c2(c6,c4(c7));}cX=[r.Empty];cY=bT.CreateElement("select");cZ=bd.DynamicCustom(function(c6){return function(c7){return c5(c6,c7);};},cW.get_View());cY.addEventListener("change",function(){cW.UpdateMaybe(function(c6){var c7;c7=c3(cY);return D.Equals(c6,c7)?null:{$:1,$0:c7};});},false);return b8.New(cY,(c0=bc.Append(cZ,bc.Concat(cT)),bc.Append(bd.OnAfterRender(function(c6){c5(c6,cW.Get());}),c0)),cV(cX));};M.Convert=function(cT,cU){return M.Flatten(T.MapSeqCached(cT,cU));};M.RunBetween=function(cT,cU,cV){var cW;bL.LinkPrevElement(cU,cV.docNode);cW=bL.CreateDelimitedRunState(cT,cU,cV.docNode);T.Sink(ck.get_UseAnimations()||cl.BatchUpdatesEnabled()?cm.StartProcessor(bL.PerformAnimatedUpdate(false,cW,cV.docNode)):function(){bL.PerformSyncUpdate(false,cW,cV.docNode);},cV.updates);};M.Clickable=function(cT,cU){var cV;cV=bT.CreateElement(cT);cV.addEventListener("click",function(cW){cW.preventDefault();return cU();},false);return cV;};M.New=cO.Ctor(function(cT,cU){t.New.call(this);this.docNode=cT;this.updates=cU;},M);N=L.ListModel=cO.Class({TryFindByKey:function(cT){var cU;cU=this;return s.tryFind(function(cV){return D.Equals(cU.key(cV),cT);},this["var"].Get());},Append:function(cT){var cU,cV,cW,cX;cU=this;cV=this["var"].Get();cW=this.key(cT);cX=s.tryFindIndex(function(cY){return D.Equals(cU.key(cY),cW);},cV);cX!=null&&cX.$==1?this["var"].Set(this.storage.SSetAt(cX.$0,cT,cV)):this["var"].Set(this.storage.SAppend(cT,cV));this.ObsoleteKey(cW);},TryFindByKeyAsView:function(cT){var cU;cU=this;return function(){var cV,cW,cX;cV=(cW=null,[cU.it.TryGetValue(cT,{get:function(){return cW;},set:function(cY){cW=cY;}}),cW]);return cV[0]?cV[1]:(cX=bz.New({$:2,$0:cU.TryFindByKey(cT),$1:[]}),(cU.it.Add(cT,cX),cX));};},ObsoleteKey:function(cT){var cU,cV;cU=(cV=null,[this.it.TryGetValue(cT,{get:function(){return cV;},set:function(cW){cV=cW;}}),cV]);cU[0]?(bz.Obsolete(cU[1]),this.it.Remove(cT)):void 0;},MapLens:function(cT){var cU;cU=this;return T.MapSeqCachedViewBy(cU.key,function(cV,cW){return cT(cV,cU["LensInto'"](a.id,function(cX,cY){return cY;},cV,cW));},this["var"].get_View());},AppendMany:function(cT){var cU,cV;function cW(cX,cY){var cZ,c0;cZ=cU.key(cY);cU.ObsoleteKey(cZ);c0=s.tryFindIndex(function(c1){return D.Equals(cU.key(c1),cZ);},cX);return c0==null?(cV.push(cY),cX):cU.storage.SSetAt(c0.$0,cY,cX);}cU=this;cV=[];this["var"].Set(this.storage.SAppendMany(cV,(((cO.Curried3(q.fold))(cW))(this["var"].Get()))(cT)));},RemoveByKey:function(cT){var cU;cU=this;this["var"].Set(this.storage.SRemoveIf(function(cV){return D.Equals(cU.key(cV),cT);},this["var"].Get()));this.ObsoleteKey(cT);},"LensInto'":function(cT,cU,cV,cW){var cX,cY,cZ;cX=this;cY=bR.Id();cZ=new S({Get:function(){return cT(cX.FindByKey(cV));},Set:function(c0){return cX.UpdateBy(function(c1){return{$:1,$0:cU(c1,c0)};},cV);},SetFinal:function(c0){return this.Set(c0);},Update:function(c0){return cX.UpdateBy(function(c1){return{$:1,$0:cU(c1,c0(cT(c1)))};},cV);},UpdateMaybe:function(c0){return cX.UpdateBy(function(c1){var c2;c2=c0(cT(c1));return c2==null?null:{$:1,$0:cU(c1,c2.$0)};},cV);},get_View:function(){return cW;},get_Id:function(){return cY;}});S.New.call(cZ);return cZ;},FindByKey:function(cT){var cU;cU=this;return s.find(function(cV){return D.Equals(cU.key(cV),cT);},this["var"].Get());},UpdateBy:function(cT,cU){var cV,cW,cX,cY,cZ;cV=this;cW=this["var"].Get();cX=s.tryFindIndex(function(c0){return D.Equals(cV.key(c0),cU);},cW);cX!=null&&cX.$==1?(cY=cX.$0,cZ=cT(s.get(cW,cY)),cZ!=null&&cZ.$==1?(this["var"].Set(this.storage.SSetAt(cY,cZ.$0,cW)),this.ObsoleteKey(cU)):void 0):void 0;},GetEnumerator:function(){return bt.Get(this["var"].Get());},GetEnumerator0:function(){return bt.Get0(this["var"].Get());}},t,N);N.New$1=cO.Ctor(function(cT){N.New$2.call(this,cT,[]);},N);N.New$2=cO.Ctor(function(cT,cU){var cV;cV=s.ofSeq(cU);N.New$3.call(this,cT,Q.Create$1(cV),bX.InMemory(cV));},N);N.New$3=cO.Ctor(function(cT,cU,cV){t.New.call(this);this.key=cT;this["var"]=cU;this.storage=cV;this.v=T.Map(function(cW){return cW.slice();},this["var"].get_View());this.it=new bC.New$5();},N);P.New=function(cT,cU,cV,cW,cX,cY){return{plgName:cT,plgVars:cU,plgViews:cV,plgDocs:cW,plgActions:cX,plgQueries:cY};};Q=L.Var$1=cO.Class({},t,Q);Q.Create$1=function(cT){return new by.New(false,bz.New({$:2,$0:cT,$1:[]}),cT);};Q.Lens=function(cT,cU,cV){var cW,cX,cY;cW=bR.Id();cX=T.Map(cU,cT.get_View());cY=new S({Get:function(){return cU(cT.Get());},Set:function(cZ){return cT.Update(function(c0){return cV(c0,cZ);});},SetFinal:function(cZ){return this.Set(cZ);},Update:function(cZ){return cT.Update(function(c0){return cV(c0,cZ(cU(c0)));});},UpdateMaybe:function(cZ){return cT.UpdateMaybe(function(c0){var c1;c1=cZ(cU(c0));return c1==null?null:{$:1,$0:cV(c0,c1.$0)};});},get_View:function(){return cX;},get_Id:function(){return cW;}});S.New.call(cY);return cY;};Q.Set=function(cT,cU){cT.Set(cU);};R=O.PlugInName=cO.Class({get_Id:function(){return this.$0;}},null,R);S=L.Var=cO.Class({},t,S);S.New=cO.Ctor(function(){t.New.call(this);},S);O.selectionPlugInO=function(){p.$cctor();return p.selectionPlugInO;};O.plugIns=function(){p.$cctor();return p.plugIns;};O.defaultPlugIn=function(){return P.New(new R({$:0,$0:""}),new N.New$1(function(cT){return cT.varName;}),new N.New$1(function(cT){return cT.viwName;}),new N.New$1(function(cT){return cT.docName;}),new N.New$1(function(cT){return cT.actName;}),new N.New$1(function(cT){return cT.qryName;}));};O.currentPlugInW=function(){p.$cctor();return p.currentPlugInW;};O.renderPlugIns=function(){return M.Flatten(O.plugIns().MapLens(function(cT){var cU,cV,cW,cX,cY;return(cU=(cV=(cW=cT.get_Id(),Y.Make().WithHole({$:1,$0:"name",$1:cW})),cV.WithHole(Z.EventQ2(cV.k,"select",function(){return cV.i;},function(){O.selectionPlugInO().Set({$:1,$0:cT});}))).WithHole({$:2,$0:"selected",$1:T.Map(function(cZ){return D.Equals(cZ,{$:1,$0:cT})?"selected":"";},O.selectionPlugInO().get_View())}),(cX=Z.CompleteHoles(cU.k,cU.h,[]),(cY=new X.New(cX[1],_0.tile(cX[0])),(cU.i=cY,cY)))).get_Doc();}));};O.renderVars=function(){function cT(cV,cW){return[cV.plgName,cW.varName];}function cU(cV,cW){var cX,cY,cZ,c0;return(cX=(cY=cW.varName.get_Id(),Y.Make().WithHole({$:1,$0:"name",$1:cY})).WithHole({$:8,$0:"value",$1:cW.varVar}),(cZ=Z.CompleteHoles(cX.k,cX.h,[["value",0]]),(c0=new X.New(cZ[1],_0.namevalueinput(cZ[0])),(cX.i=c0,c0)))).get_Doc();}return M.ConvertBy(function(cV){return cT(cV[0],cV[1]);},function(cV){return cU(cV[0],cV[1]);},T.Map(function(cV){return q.map(function(cW){return[cV,cW];},cV.plgVars);},O.currentPlugInW()));};O.renderViews=function(){function cT(cV,cW){return[cV.plgName,cW.viwName];}function cU(cV,cW){var cX,cY,cZ,c0;return(cX=(cY=cW.viwName.get_Id(),Y.Make().WithHole({$:1,$0:"name",$1:cY})).WithHole({$:2,$0:"value",$1:cW.viwView}),(cZ=Z.CompleteHoles(cX.k,cX.h,[]),(c0=new X.New(cZ[1],_0.namevalue(cZ[0])),(cX.i=c0,c0)))).get_Doc();}return M.ConvertBy(function(cV){return cT(cV[0],cV[1]);},function(cV){return cU(cV[0],cV[1]);},T.Map(function(cV){return q.map(function(cW){return[cV,cW];},cV.plgViews);},O.currentPlugInW()));};O.renderDocs=function(){function cT(cV,cW){return[cV.plgName,cW.docName];}function cU(cV,cW){var cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8;cX=(cY=cW.docDoc,cY.$==1?(cZ=A.concat(", ",n.ofArray([cY.$1])),(function(c9){return function(c_){return c9("("+_6.toSafe(c_)+")");};}(a.id))(cZ)):cY.$==2?(c0=A.concat(", ",n.ofArray([cY.$1,cY.$2])),(function(c9){return function(c_){return c9("("+_6.toSafe(c_)+")");};}(a.id))(c0)):cY.$==3?(c1=A.concat(", ",n.ofArray([cY.$1,cY.$2,cY.$3])),(function(c9){return function(c_){return c9("("+_6.toSafe(c_)+")");};}(a.id))(c1)):cY.$==4?(c2=A.concat(", ",n.ofArray([cY.$1,cY.$2,cY.$3,cY.$4])),(function(c9){return function(c_){return c9("("+_6.toSafe(c_)+")");};}(a.id))(c2)):cY.$==5?(c3=A.concat(", ",n.ofArray([cY.$1,cY.$2,cY.$3,cY.$4,cY.$5])),(function(c9){return function(c_){return c9("("+_6.toSafe(c_)+")");};}(a.id))(c3)):"");return(c4=(c5=(c6=cW.docName.get_Id()+cX,Y.Make().WithHole({$:1,$0:"name",$1:c6})),c5.WithHole(Z.EventQ2(c5.k,"select",function(){return c5.i;},function(){T.Get(function(c9){var c_;c_=c9.plgName.get_Id()+"."+cW.docName.get_Id();O.mainDocV().Set(c_);},O.currentPlugInW());}))),(c7=Z.CompleteHoles(c4.k,c4.h,[]),(c8=new X.New(c7[1],_0.tile(c7[0])),(c4.i=c8,c8)))).get_Doc();}return M.ConvertBy(function(cV){return cT(cV[0],cV[1]);},function(cV){return cU(cV[0],cV[1]);},T.Map(function(cV){return q.map(function(cW){return[cV,cW];},cV.plgDocs);},O.currentPlugInW()));};O.renderActions=function(){function cT(cV,cW){return[cV.plgName,cW.actName];}function cU(cV,cW){var cX,cY,cZ,c0;cX=(cY=cW.actFunction,cY.$==1?(cZ=A.concat(", ",n.ofArray([cY.$1])),(function(c1){return function(c2){return c1("("+_6.toSafe(c2)+")");};}(a.id))(cZ)):cY.$==2?(c0=A.concat(", ",n.ofArray([cY.$1,cY.$2])),(function(c1){return function(c2){return c1("("+_6.toSafe(c2)+")");};}(a.id))(c0)):"");return M.EmbedView(T.Map(function(c1){var c2,c3,c4,c5,c6,c7,c8,c9,c_,c$;return c1?(c2=(c3=(c4=cW.actName.get_Id()+cX,Y.Make().WithHole({$:1,$0:"name",$1:c4})),c3.WithHole(Z.EventQ2(c3.k,"click",function(){return c3.i;},function(da){O.callFunction(da,null,cW.actFunction);}))),(c5=Z.CompleteHoles(c2.k,c2.h,[]),(c6=new X.New(c5[1],_0.action(c5[0])),(c2.i=c6,c6)))).get_Doc():(c7=(c8=(c9=cW.actName.get_Id(),Y.Make().WithHole({$:1,$0:"name",$1:c9})),c8.WithHole(Z.EventQ2(c8.k,"click",function(){return c8.i;},function(da){O.callFunction(da,null,cW.actFunction);}))),(c_=Z.CompleteHoles(c7.k,c7.h,[]),(c$=new X.New(c_[1],_0.actiondisabled(c_[0])),(c7.i=c$,c$)))).get_Doc();},cW.actEnabled));}return M.ConvertBy(function(cV){return cT(cV[0],cV[1]);},function(cV){return cU(cV[0],cV[1]);},T.Map(function(cV){return q.map(function(cW){return[cV,cW];},cV.plgActions);},O.currentPlugInW()));};O.renderQueries=function(){function cT(cV,cW){return[cV.plgName,cW.qryName];}function cU(cV,cW){var cX,cY,cZ,c0,c1;return(cX=(cY=(cZ=cW.qryName.get_Id(),Y.Make().WithHole({$:1,$0:"name",$1:cZ})),cY.WithHole(Z.EventQ2(cY.k,"select",function(){return cY.i;},function(){a.alert(cW.qryFunction(null));}))),(c0=Z.CompleteHoles(cX.k,cX.h,[]),(c1=new X.New(c0[1],_0.tile(c0[0])),(cX.i=c1,c1)))).get_Doc();}return M.ConvertBy(function(cV){return cT(cV[0],cV[1]);},function(cV){return cU(cV[0],cV[1]);},T.Map(function(cV){return q.map(function(cW){return[cV,cW];},cV.plgQueries);},O.currentPlugInW()));};O.a11V=function(){p.$cctor();return p.a11V;};O.add1=function(cT){return cT+1;};O.mainDocV=function(){p.$cctor();return p.mainDocV;};O.callFunction=function(cT,cU,cV){if(cV.$==1)cV.$0(cT);else if(cV.$==2)(cV.$0(cT))(cU);else cV.$0();};O.valToAttr=function(cT,cU){return cU.$==0?bd.Dynamic(cT,cU.$0):bc.Create(cT,cU.$0);};O.valToStyle=function(cT,cU){return cU.$==0?bd.DynamicStyle(cT,cU.$0):bd.Style(cT,cU.$0);};O.currentPlugInNameDef=function(){p.$cctor();return p.currentPlugInNameDef;};O.currentPlugInNameD=function(){p.$cctor();return p.currentPlugInNameD;};O.splitName=function(cT){function cU(cW){return z.splitByChar(".",cW);}function cV(cW){return s.length(cW)===1?[cT,new bl({$:0,$0:A.Trim(s.get(cW,0))})]:[new R({$:0,$0:A.Trim(s.get(cW,0))}),new bl({$:0,$0:A.Trim(s.get(cW,1))})];}return function(cW){return cV(cU(cW));};};O.tryGetDocW=function(cT,cU){return T.Bind(function(cV){return cV!=null&&cV.$==1?cV.$0.plgDocs.TryFindByKeyAsView(cU):T.Const(null);},O.tryGetPlugInW(cT));};O.getLazyDoc=function(cT){var cU;cU=cT.docDoc;return cU.$==0?cU.$0.f():M.Element("div",[],[M.TextNode((function(cV){return function(cW){return cV("Doc with parameters not allowed here: "+_2.p(cW));};}(a.id))(cT))]);};O.tryGetWoWW=function(cT,cU){return T.Bind(function(cV){return cV==null?T.Bind(function(cW){return cW==null?T.Const(null):T.Map(function(cX){return{$:1,$0:cX};},cW.$0.varVar.get_View());},O.tryGetVarW(cT,cU)):T.Map(function(cW){return{$:1,$0:cW};},cV.$0.viwView);},O.tryGetViwW(cT,cU));};O.tryGetActW=function(cT,cU){return T.Bind(function(cV){return cV!=null&&cV.$==1?cV.$0.plgActions.TryFindByKeyAsView(cU):T.Const(null);},O.tryGetPlugInW(cT));};O.extractAtsD=function(){p.$cctor();return p.extractAtsD$1;};O.depWithExtracts=function(cT){var cU;return O.runDef((cU=m.depend(),cU.Delay(function(){return cU.Bind(O.extractAtsD(),function(cV){return cU.Bind(O.extractDocD(),function(cW){return cU.Bind(O.extractTextD(),function(cX){return cU.Return(cT(cV,cW,cX));});});});})));};O.docWithVar=function(cT,cU){var cV,cW;function cX(cZ){return cZ==null?null:{$:1,$0:cT(cZ.$0)};}function cY(){return O.errDoc((function(cZ){return function(c0){return cZ("Var not found "+_6.toSafe(c0));};}(a.id))(cU));}return M.BindView((cV=function(cZ){return cZ==null?cY():cZ.$0;},function(cZ){return cV(cX(cZ));}),(cW=O.getParmRef(cU),O.tryGetVoVW(cW[0],cW[1])));};O.getParmRef=function(cT){var cU,cV,cW,cX,cY;cU=(cV=(cW=z.delimitedO("@{","}",cT),cW==null?null:{$:1,$0:(cX=cW.$0,(cX[0],cY=cX[1],cX[2],cY))}),cV==null?cT:cV.$0);return(O.splitName(O.defPlugInName()))(cU);};O.tryGetAct=function(cT,cU){var cV;cV=O.tryGetPlugIn(cT);return cV==null?null:cV.$0.plgActions.TryFindByKey(cU);};O.plugin=function(){p.$cctor();return p.plugin;};O.AppFwkClient=function(){p.$cctor();return p.AppFwkClient;};O.htmlDoc=function(){p.$cctor();return p.htmlDoc;};O.trigAct=function(){p.$cctor();return p.trigAct;};O.input=function(){p.$cctor();return p.input;};O.textArea=function(){p.$cctor();return p.textArea;};O.select=function(){p.$cctor();return p.select;};O.inputFile=function(cT,cU,cV){var cW,cX,cY,cZ;cW=(cX=(cY=(O.splitName(O.defPlugInName()))(cV),O.tryGetAct(cY[0],cY[1])),cX==null?null:{$:1,$0:(cZ=cX.$0,M.Element("div",O.getAttrs(O.defPlugInName(),cT),[M.Element("div",[bc.Create("class","input-group")],[M.Element("span",[bc.Create("class","input-group-btn")],[M.Element("label",[bc.Create("class","btn")],[M.TextNode(cU),M.Element("input",[bc.Create("class","form-control"),bc.Create("type","file"),bd.Style("display","none"),bc.HandlerImpl("click",function(c0){return function(){c0.value="";};}),bc.HandlerImpl("change",function(c0){return function(){return O.callFunction(c0,null,cZ.actFunction);};})],[])])])])]))});return cW==null?O.errDoc((function(c0){return function(c1){return c0("Action not found "+_6.toSafe(c1));};}(a.id))(cV)):cW.$0;};O.inputLabel=function(){p.$cctor();return p.inputLabel;};O.setVar=function(cT,cU){var cV,cW;cV=(cW=(O.splitName(O.defPlugInName()))(cT),O.tryGetVar(cW[0],cW[1]));cV==null?void 0:cV.$0.varVar.Set(cU);};O.horizontal=function(cT,cU,cV,cW,cX){var cY,cZ,c0,c1;return(cY=(cZ=Y.Make().WithHole({$:2,$0:"partsizes",$1:cT}).WithHole({$:7,$0:"afterrender",$1:cU}).WithHole({$:7,$0:"afterrendersp",$1:cV}),cZ.WithHole(Z.EventQ2(cZ.k,"mousedown",function(){return cZ.i;},function(c2){cW(c2.Event);}))).WithHole({$:2,$0:"gap",$1:cX}),(c0=Z.CompleteHoles(cY.k,cY.h,[]),(c1=new X.New(c0[1],_0.wcompsplitterhor(c0[0])),(cY.i=c1,c1)))).get_Doc();};O.vertical=function(cT,cU,cV,cW,cX){var cY,cZ,c0,c1;return(cY=(cZ=Y.Make().WithHole({$:2,$0:"partsizes",$1:cT}).WithHole({$:7,$0:"afterrender",$1:cU}).WithHole({$:7,$0:"afterrendersp",$1:cV}),cZ.WithHole(Z.EventQ2(cZ.k,"mousedown",function(){return cZ.i;},function(c2){cW(c2.Event);}))).WithHole({$:2,$0:"gap",$1:cX}),(c0=Z.CompleteHoles(cY.k,cY.h,[]),(c1=new X.New(c0[1],_0.wcompsplitterver(c0[0])),(cY.i=c1,c1)))).get_Doc();};O.mainDoc=function(){var cT,cU,cV,cW,cX,cY;return(cT=(cU=O.getMainClientDoc(),(cV=(cW=O.mainDocV().get_View(),Y.Make().WithHole({$:2,$0:"maindoc",$1:cW})),cV.WithHole(Z.EventQ2(cV.k,"goclient",function(){return cV.i;},function(){O.mainDocV().Set("AppFramework.AppFwkClient");}))).WithHole({$:0,$0:"mainclient",$1:cU})),(cX=Z.CompleteHoles(cT.k,cT.h,[]),(cY=new X.New(cX[1],_0.appframework(cX[0])),(cT.i=cY,cY)))).get_Doc();};O.getMainDoc=function(){p.$cctor();return p.getMainDoc;};O.tryGetPlugIn=function(cT){return O.plugIns().TryFindByKey(cT);};O.defPlugInName=function(){p.$cctor();return p.defPlugInName;};O.newActF=function(cT,cU){return $.New(cT,cU,T.Const(true));};O.op_Dereference=function(cT){return bq.New((_7.rtn())({$:1,$0:cT}));};O.makeAViewDoc=function(cT){return M.BindView(function(){return cT();},O.baseView());};O.addPlugIn=function(cT){O.plugIns().Append(cT);};O.tryGetVar=function(cT,cU){var cV;cV=O.tryGetPlugIn(cT);return cV==null?null:cV.$0.plgVars.TryFindByKey(cU);};O.tryGetVarW=function(cT,cU){return T.Bind(function(cV){return cV!=null&&cV.$==1?cV.$0.plgVars.TryFindByKeyAsView(cU):T.Const(null);},O.tryGetPlugInW(cT));};O.tryGetViwW=function(cT,cU){return T.Bind(function(cV){return cV!=null&&cV.$==1?cV.$0.plgViews.TryFindByKeyAsView(cU):T.Const(null);},O.tryGetPlugInW(cT));};O.tryGetDoc=function(cT,cU){var cV;cV=O.tryGetPlugIn(cT);return cV==null?null:cV.$0.plgDocs.TryFindByKey(cU);};O.tryGetViw=function(cT,cU){var cV;cV=O.tryGetPlugIn(cT);return cV==null?null:cV.$0.plgViews.TryFindByKey(cU);};O.tryGetPlugInW=function(cT){return O.plugIns().TryFindByKeyAsView(cT);};O.extractDocD=function(){p.$cctor();return p.extractDocD$1;};O.extractTextD=function(){p.$cctor();return p.extractTextD$1;};O.runDef=function(cT){return O.run(O.defPlugInName(),cT);};O.tryGetVoVW=function(cT,cU){return T.Bind(function(cV){return cV==null?T.Map(function(cW){return cW==null?null:{$:1,$0:new bA.New(cW.$0.viwView,a.ignore)};},O.tryGetViwW(cT,cU)):T.Const({$:1,$0:cV.$0.varVar});},O.tryGetVarW(cT,cU));};O.errDoc=function(cT){return M.Element("div",[],[M.TextNode(cT)]);};O.newAct=function(cT,cU){return $.New(cT,{$:0,$0:cU},T.Const(true));};O.newDoc=function(cT,cU){return bm.New(cT,{$:0,$0:cU});};O.newVar=function(cT,cU){return br.New(cT,cU);};O.newQry=function(cT,cU){return bx.New(cT,cU);};O.newDocF=function(cT,cU){return bm.New(cT,cU);};O.getAttrs=function(cT,cU){return n.ofSeq(q.delay(function(){return q.append(q.choose(function(cV){var cW,cX,cY,cZ;function c0(c1,c2){var c3;return c2.$==1?(c3=c2.$0,c1.addEventListener(A.Trim(cZ),function(c4){return O.callFunction(c1,c4,c3.actFunction);},false)):c1.setAttribute(A.Trim(cZ),A.Trim(c2.$0));}return!D.Equals(cV,null)&&cV.length===2&&(cX=s.get(cV,1),A.Trim(s.get(cV,0))!==""&&A.Trim(cX)!=="")?(cY=s.get(cV,1),(cZ=s.get(cV,0),{$:1,$0:bd.DynamicCustom(function(c1){return function(c2){return c0(c1,c2);};},O.getTextData(cT,A.Trim(cY)))})):null;},q.map(function(cV){return z.splitByChar("=",cV);},z.splitByChar(";",cU))),q.delay(function(){return q.choose(function(cV){var cW,cX,cY,cZ,c0;return!D.Equals(cV,null)&&cV.length===2&&(cX=s.get(cV,1),A.Trim(s.get(cV,0))!==""&&A.Trim(cX)!=="")?(cY=s.get(cV,1),(cZ=s.get(cV,0),{$:1,$0:(c0=T.Map(function(c1){return c1.$==1?(function(c2){return function(c3){return c2("@{"+_6.toSafe(c3)+"}");};}(a.id))(c1.$0.actName.get_Id()):A.Trim(c1.$0);},O.getTextData(cT,A.Trim(cY))),bd.DynamicStyle(A.Trim(cZ),c0))})):null;},q.map(function(cV){return z.splitByChar(":",cV);},z.splitByChar(";",cU)));}));}));};O.getMainClientDoc=function(){var cT;return M.EmbedView((cT=O.plugIns().v,T.Map2(function(cU,cV){var cW,cX;cW=q.tryPick(function(cY){var cZ;cZ=q.tryFind(function(c0){return cY.plgName.get_Id()===cU||cY.plgName.get_Id()+"."+c0.docName.get_Id()===cU;},cY.plgDocs);return cZ==null?null:{$:1,$0:O.getLazyDoc(cZ.$0)};},cV);cX=O.AppFwkClient().f();return cW==null?cX:cW.$0;},O.mainDocV().get_View(),cT)));};O.bindWrap=function(cT,cU){return bq.New(_7.op_GreaterGreaterEquals(cU,function(cV){return cT(cV).r;}));};O.unwrapBindWrap=function(cT,cU){return bq.New(_7.op_BarGreaterGreater(cU.r,cT));};O.baseView=function(){p.$cctor();return p.baseView;};O.run=function(cT,cU){var cV,cW;cV=(cW=_7.depend(),cW.Delay(function(){return cW.Bind(O.getDocD(),function(cX){return cW.Bind(O.getTextActViewD(),function(cY){return cW.Return(m.resolver(n.ofArray([["getDocFromReference",cX],["getTextActViewFromReference",cY],["currentPlugInName",cT]]),cU));});});}));return m.resolver(n.ofArray([["currentPlugInName",cT]]),cV);};O.errDocf=function(cT){return cT(O.errDoc);};O.makeAViewDocL=function(cT){return H.Create(function(){return O.makeAViewDoc(cT);});};O.getTextData=function(cT,cU){var cV,cW,cX,cY;cV=(cW=z.delimitedO("@{","}",cU),cW==null?null:{$:1,$0:(cX=cW.$0,(cY=cX[0],O.getOneTextData(cT,cX[1],cY,cX[2])))});return cV==null?T.Const({$:0,$0:cU}):cV.$0;};O.getDocD=function(){p.$cctor();return p.getDocD;};O.getTextActViewD=function(){p.$cctor();return p.getTextActViewD;};O.getOneTextData=function(cT,cU,cV,cW){var cX,cY,cZ;cX=(O.splitName(cT))(cU);cY=cX[0];cZ=cX[1];return T.Bind(function(c0){return c0==null?T.Bind(function(c1){var c2;return c1==null?T.Const({$:0,$0:((((cO.Curried(function(c3,c4,c5,c6){return c3(_6.toSafe(c4)+" @{Missing "+_6.toSafe(c5)+"}"+_6.toSafe(c6));},4))(a.id))(cV))(cU))(cW)}):(c2=c1.$0,T.Bind(function(c3){return c3.$==1?T.Const({$:0,$0:(function(c4){return function(c5){return c4("Unexpected Action @{"+_6.toSafe(c5)+"}");};}(a.id))(c3.$0.actName.get_Id())}):T.Const({$:0,$0:cV+c2+c3.$0});},O.getTextData(cT,cW)));},O.tryGetWoWW(cY,cZ)):T.Const({$:1,$0:c0.$0});},O.tryGetActW(cY,cZ));};O.newViw=function(cT,cU){return bs.New(cT,cU);};T.Map2=function(cT,cU,cV){return T.CreateLazy(function(){return bz.Map2(cT,cU(),cV());});};T.Map=function(cT,cU){return T.CreateLazy(function(){return bz.Map(cT,cU());});};T.Get=function(cT,cU){var cV;function cW(){bz.WhenRun(cU(),function(cX){if(!cV[0]){cV[0]=true;cT(cX);}},function(){if(!cV[0])cW();});}cV=[false];cW();};T.Bind=function(cT,cU){return T.Join(T.Map(cT,cU));};T.Const=function(cT){var cU;cU=bz.New({$:0,$0:cT});return function(){return cU;};};T.CreateLazy=function(cT){var cU;cU={c:null,o:cT};return function(){var cV,cW;cV=cU.c;return cV===null?(cV=cU.o(),cU.c=cV,(cW=cV.s,cW!=null&&cW.$==0)?cU.o=null:bz.WhenObsoleteRun(cV,function(){cU.c=null;}),cV):cV;};};T.Apply=function(cT,cU){return T.Map2(function(cV,cW){return cV(cW);},cT,cU);};T.Join=function(cT){return T.CreateLazy(function(){return bz.Join(cT());});};T.Sink=function(cT,cU){function cV(){bz.WhenRun(cU(),cT,function(){b$.scheduler().Fork(cV);});}b$.scheduler().Fork(cV);};T.TryGet=function(cT){return bz.TryGet(cT());};T.Map2Unit=function(cT,cU){return T.CreateLazy(function(){return bz.Map2Unit(cT(),cU());});};T.MapSeqCachedBy=function(cT,cU,cV){var cW;cW=[new bC.New$5()];return T.Map(function(cX){var cY,cZ,c0;cY=cW[0];cZ=new bC.New$5();c0=bF.mapInPlace(function(c1){var c2,c3;c2=cT(c1);c3=cY.ContainsKey(c2)?cY.get_Item(c2):cU(c1);cZ.set_Item(c2,c3);return c3;},s.ofSeq(cX));cW[0]=cZ;return c0;},cV);};T.MapSeqCached=function(cT,cU){return T.MapSeqCachedBy(a.id,cT,cU);};T.MapSeqCachedViewBy=function(cT,cU,cV){var cW;cW=[new bC.New$5()];return T.Map(function(cX){var cY,cZ,c0;cY=cW[0];cZ=new bC.New$5();c0=bF.mapInPlace(function(c1){var c2,c3,c4;c2=cT(c1);c3=cY.ContainsKey(c2)?(c4=cY.get_Item(c2),(Q.Set(c4.r,c1),c4)):T.ConvertSeqNode(function(c5){return cU(c2,c5);},c1);cZ.set_Item(c2,c3);return c3.e;},s.ofSeq(cX));cW[0]=cZ;return c0;},cV);};T.Map3=function(cT,cU,cV,cW){return T.CreateLazy(function(){return bz.Map3(cT,cU(),cV(),cW());});};T.Sequence=function(cT){return T.CreateLazy(function(){return bz.Sequence(q.map(function(cU){return cU();},cT));});};T.ConvertSeqNode=function(cT,cU){var cV,cW;cV=Q.Create$1(cU);cW=cV.get_View();return{e:cT(cW),r:cV,w:cW};};X=W.TemplateInstance=cO.Class({get_Doc:function(){return this.doc;}},t,X);X.New=cO.Ctor(function(cT,cU){t.New.call(this);this.doc=cU;this.allVars=cT.$==0?cT.$0:h.FailWith("Should not happen");},X);Y=W.ProviderBuilder=cO.Class({WithHole:function(cT){this.h.push(cT);return this;}},null,Y);Y.Make=function(){var cT;return Y.New(null,(cT=G.NewGuid(),a.String(cT)),[]);};Y.New=function(cT,cU,cV){return new Y({i:cT,k:cU,h:cV});};Z.CompleteHoles=function(cT,cU,cV){var cX,cY,cZ,c0,c1,c2;function cW(c3,c4){var c5,c6,c7,c8;return cY.Contains(c3)?null:(c5=c4===0?(c6=Q.Create$1(""),[{$:8,$0:c3,$1:c6},c6]):c4===1?(c7=Q.Create$1(0),[{$:13,$0:c3,$1:c7},c7]):c4===2?(c8=Q.Create$1(false),[{$:9,$0:c3,$1:c8},c8]):h.FailWith("Invalid value type"),(cX.set_Item(c3,c5[1]),{$:1,$0:c5[0]}));}cX=new bC.New$5();cY=new bD.New$3();cZ=bt.Get(cU);try{while(cZ.MoveNext()){c0=cZ.Current();(c0.$==8?(c1=[c0.$0,bE.Box(c0.$1)],true):c0.$==11?(c1=[c0.$0,bE.Box(c0.$1)],true):c0.$==10?(c1=[c0.$0,bE.Box(c0.$1)],true):c0.$==13?(c1=[c0.$0,bE.Box(c0.$1)],true):c0.$==12?(c1=[c0.$0,bE.Box(c0.$1)],true):c0.$==9&&(c1=[c0.$0,bE.Box(c0.$1)],true))?(c2=c1[0],cY.Add(c2),cX.set_Item(c2,c1[1])):void 0;}}finally{if(typeof cZ=="object"&&"Dispose"in cZ)cZ.Dispose();}return[q.append(cU,s.choose(function(c3){return cW(c3[0],c3[1]);},cV)),{$:0,$0:cX}];};Z.EventQ2=function(cT,cU,cV,cW){return{$:5,$0:cU,$1:true,$2:function(cX){return function(cY){return cW({Vars:cV(),Target:cX,Event:cY});};}};};_0.appfwkclient=function(cT){_0.fixedsplitterhor();_0.fixedsplitterver();bO.LoadLocalTemplates("appframework");return cT?bO.NamedTemplate("appframework",{$:1,$0:"appfwkclient"},cT):void 0;};_1.p=function(cT){return cT.$==1?"FullRef ("+_6.prettyPrint(cT.$0)+", "+_6.prettyPrint(cT.$1)+")":"LocalRef "+_6.prettyPrint(cT.$0);};_0.tile=function(cT){bO.LoadLocalTemplates("appframework");return cT?bO.NamedTemplate("appframework",{$:1,$0:"tile"},cT):void 0;};_0.namevalueinput=function(cT){bO.LoadLocalTemplates("appframework");return cT?bO.NamedTemplate("appframework",{$:1,$0:"namevalueinput"},cT):void 0;};_0.namevalue=function(cT){bO.LoadLocalTemplates("appframework");return cT?bO.NamedTemplate("appframework",{$:1,$0:"namevalue"},cT):void 0;};_0.action=function(cT){bO.LoadLocalTemplates("appframework");return cT?bO.NamedTemplate("appframework",{$:1,$0:"action"},cT):void 0;};_0.actiondisabled=function(cT){bO.LoadLocalTemplates("appframework");return cT?bO.NamedTemplate("appframework",{$:1,$0:"actiondisabled"},cT):void 0;};_0.fixedsplitterhor=function(cT){bO.LoadLocalTemplates("appframework");return cT?bO.NamedTemplate("appframework",{$:1,$0:"fixedsplitterhor"},cT):void 0;};_0.fixedsplitterver=function(cT){bO.LoadLocalTemplates("appframework");return cT?bO.NamedTemplate("appframework",{$:1,$0:"fixedsplitterver"},cT):void 0;};_2.p=function(cT){return"{"+("docName = "+_1.p$1(cT.docName))+"; "+("docDoc = "+_1.p$2(cT.docDoc))+"}";};_0.wcompsplitterhor=function(cT){bO.LoadLocalTemplates("appframework");return cT?bO.NamedTemplate("appframework",{$:1,$0:"wcompsplitterhor"},cT):void 0;};_0.wcompsplitterver=function(cT){bO.LoadLocalTemplates("appframework");return cT?bO.NamedTemplate("appframework",{$:1,$0:"wcompsplitterver"},cT):void 0;};_0.appframework=function(cT){bO.LoadLocalTemplates("appframework");return cT?bO.NamedTemplate("appframework",{$:1,$0:"appframework"},cT):void 0;};_2.p$1=function(cT){return"{"+("actName = "+_1.p$1(cT.actName))+"; "+("actFunction = "+_1.p$28(cT.actFunction))+"; "+("actEnabled = "+_1.p$29(cT.actEnabled))+"}";};_1.p$27=function(cT){return cT.$==1?"UnQuoted "+_6.prettyPrint(cT.$0):"Quoted "+_6.prettyPrint(cT.$0);};_1.p$17=function(cT){return cT.$==4?"PrActRef "+_1.p$9(cT.$0):cT.$==3?"PrViwRef "+_1.p$13(cT.$0):cT.$==2?"PrVarRef "+_1.p$12(cT.$0):cT.$==1?"PrDocRef "+_1.p$7(cT.$0):"PrTextValL "+_6.printList(function(cU){return _1.p$11(cU);},cT.$0);};_1.p$1=function(cT){return"PlgElemName "+_6.prettyPrint(cT.$0);};_1.p$2=function(cT){return cT.$==5?"FunDoc5 (<fun>, "+_6.prettyPrint(cT.$1)+", "+_6.prettyPrint(cT.$2)+", "+_6.prettyPrint(cT.$3)+", "+_6.prettyPrint(cT.$4)+", "+_6.prettyPrint(cT.$5)+")":cT.$==4?"FunDoc4 (<fun>, "+_6.prettyPrint(cT.$1)+", "+_6.prettyPrint(cT.$2)+", "+_6.prettyPrint(cT.$3)+", "+_6.prettyPrint(cT.$4)+")":cT.$==3?"FunDoc3 (<fun>, "+_6.prettyPrint(cT.$1)+", "+_6.prettyPrint(cT.$2)+", "+_6.prettyPrint(cT.$3)+")":cT.$==2?"FunDoc2 (<fun>, "+_6.prettyPrint(cT.$1)+", "+_6.prettyPrint(cT.$2)+")":cT.$==1?"FunDoc1 (<fun>, "+_6.prettyPrint(cT.$1)+")":"LazyDoc "+_6.prettyPrint(cT.$0);};_1.p$28=function(cT){return cT.$==2?"FunAct2 (<fun>, "+_6.prettyPrint(cT.$1)+", "+_6.prettyPrint(cT.$2)+")":cT.$==1?"FunAct1 (<fun>, "+_6.prettyPrint(cT.$1)+")":"FunAct0 <fun>";};_1.p$29=function(cT){return"View <fun>";};_1.p$9=function(cT){return"ActRef "+_1.p(cT.$0);};_1.p$13=function(cT){return"ViwRef "+_1.p(cT.$0);};_1.p$12=function(cT){return"VarRef "+_1.p(cT.$0);};_1.p$7=function(cT){return"DocRef "+_1.p(cT.$0);};_1.p$11=function(cT){return cT.$==4?"TvDocRef "+_1.p$7(cT.$0):cT.$==3?"TvActRef "+_1.p$9(cT.$0):cT.$==2?"TvViwRef "+_1.p$13(cT.$0):cT.$==1?"TvVarRef "+_1.p$12(cT.$0):"TvConst "+_6.prettyPrint(cT.$0);};_3=O.PlugInBuilder=cO.Class({AddAct:function(cT,cU,cV){cT.plgActions.Append(O.newAct(new bl({$:0,$0:cU}),cV));return cT;},AddDoc:function(cT,cU,cV){cT.plgDocs.Append(O.newDoc(new bl({$:0,$0:cU}),cV));return cT;},AddVar:function(cT,cU,cV){cT.plgVars.Append(O.newVar(new bl({$:0,$0:cU}),cV));return cT;},Name:function(cT,cU){return P.New(new R({$:0,$0:cU}),cT.plgVars,cT.plgViews,cT.plgDocs,cT.plgActions,cT.plgQueries);},Yield:function(){return this.Zero();},AddQry:function(cT,cU,cV){cT.plgQueries.Append(O.newQry(new bl({$:0,$0:cU}),cV));return cT;},AddAct2:function(cT,cU,cV,cW,cX){cT.plgActions.Append(O.newActF(new bl({$:0,$0:cU}),{$:2,$0:cV,$1:cW,$2:cX}));return cT;},AddDoc3:function(cT,cU,cV,cW,cX,cY){cT.plgDocs.Append(O.newDocF(new bl({$:0,$0:cU}),{$:3,$0:cV,$1:cW,$2:cX,$3:cY}));return cT;},AddDoc4:function(cT,cU,cV,cW,cX,cY,cZ){cT.plgDocs.Append(O.newDocF(new bl({$:0,$0:cU}),{$:4,$0:cV,$1:cW,$2:cX,$3:cY,$4:cZ}));return cT;},AddDoc2:function(cT,cU,cV,cW,cX){cT.plgDocs.Append(O.newDocF(new bl({$:0,$0:cU}),{$:2,$0:cV,$1:cW,$2:cX}));return cT;},AddDoc1:function(cT,cU,cV,cW){cT.plgDocs.Append(O.newDocF(new bl({$:0,$0:cU}),{$:1,$0:cV,$1:cW}));return cT;},Zero:function(){var cT;cT=O.defaultPlugIn();return P.New(new R({$:0,$0:"Main"}),cT.plgVars,cT.plgViews,cT.plgDocs,cT.plgActions,cT.plgQueries);}},t,_3);_3.New=cO.Ctor(function(){t.New.call(this);},_3);_4.apply=function(cT,cU){return cT.$==0?cU.$==1?{$:0,$0:T.Apply(cT.$0,T.Const(cU.$0))}:{$:0,$0:T.Apply(cT.$0,cU.$0)}:cU.$==0?{$:0,$0:T.Apply(T.Const(cT.$0),cU.$0)}:{$:1,$0:cT.$0(cU.$0)};};_4.traverseListApp=function(cT,cU){function cV(cW,cX){return new r({$:1,$0:cW,$1:cX});}return n.foldBack(function(cW,cX){return((_4.op_LessMultiplyGreater())(((_4.op_LessMultiplyGreater())(_4.rtn(function(cY){return function(cZ){return cV(cY,cZ);};})))(cT(cW))))(cX);},cU,_4.rtn(r.Empty));};_4.toView=function(cT){return cT.$==0?cT.$0:T.Const(cT.$0);};_4.rtn=function(cT){return{$:1,$0:cT};};_4.op_LessMultiplyGreater=function(){p.$cctor();return p.op_LessMultiplyGreater;};_4.addDoc=function(cT,cU){return cU.$==0?{$:1,$0:[M.BindView(M.Concat,cU.$0),cT]}:{$:1,$0:q.append(cU.$0,[cT])};};_4.textDoc=function(cT){return cT.$==0?M.TextView(cT.$0):M.TextNode(cT.$0);};_5.getDocFromReference=function(cT){return M.TextNode((function(cU){return function(cV){return cU("getDocFromReference not implemented: @{"+_6.toSafe(cV)+"}");};}(a.id))(cT));};_5.getTextActViewFromReference=function(cT){return T.Const({$:0,$0:(function(cU){return function(cV){return cU("getTextActViewFromReference not implemented: @{"+_6.toSafe(cV)+"}");};}(a.id))(cT)});};_5.getDocFromReferenceD=function(){p.$cctor();return p.getDocFromReferenceD;};_5.getDocFromTextTypesD=function(){p.$cctor();return p.getDocFromTextTypesD;};_5.getTextData=function(cT){var cU,cV,cW;cU=(cV=z.delimitedO("@{","}",cT),cV==null?null:{$:1,$0:(cW=cV.$0,_5.getOneTextData(cW[0],cW[1],cW[2]))});return cU==null?n.ofArray([{$:0,$0:cT}]):cU.$0;};_5.getTextActViewFromReferenceD=function(){p.$cctor();return p.getTextActViewFromReferenceD;};_5.getTextValFromSeqD=function(){p.$cctor();return p.getTextValFromSeqD;};_5.getTextValD=function(){p.$cctor();return p.getTextValD;};_5.extractTextD=function(){p.$cctor();return p.extractTextD;};_5.extractDocD=function(){p.$cctor();return p.extractDocD;};_5.extractAtsD=function(){p.$cctor();return p.extractAtsD;};_5.getOneTextData=function(cT,cU,cV){return(cT===""?a.id:function(cW){return new r({$:1,$0:{$:0,$0:cT},$1:cW});})(new r({$:1,$0:{$:1,$0:cU},$1:cV===""?r.Empty:_5.getTextData(cV)}));};_6.toSafe=function(cT){return cT==null?"":cT;};_6.printList=function(cT,cU){return"["+A.concat("; ",q.map(cT,cU))+"]";};_6.prettyPrint=function(cT){var cU,cV;function cW(cX,cY){return cX+" = "+_6.prettyPrint(cY);}return cT===null?"null":(cU=typeof cT,cU=="string"?"\""+cT+"\"":cU=="object"?cT instanceof a.Array?"[|"+A.concat("; ",s.map(_6.prettyPrint,cT))+"|]":(cV=a.String(cT),cV==="[object Object]"?"{"+A.concat("; ",s.map(function(cX){return cW(cX[0],cX[1]);},bk.GetFields(cT)))+"}":cV):a.String(cT));};_7.op_GreaterMultiplyGreater=function(cT,cU){var cV;cV=_7.depend();return cV.Delay(function(){return cV.Bind(cU,function(cW){return cV.Return(function(cX){return cW(cT(cX));});});});};_7.depend=function(){p.$cctor();return p.depend$1;};_7.rtn=function(){p.$cctor();return p.rtn;};_7.op_BarGreaterGreater=function(cT,cU){return(m.map(cU))(cT);};_7.op_GreaterGreaterEquals=function(cT,cU){return m.bind(cU,cT);};s.map=function(cT,cU){var cV,cW,cX;cV=new a.Array(cU.length);for(cW=0,cX=cU.length-1;cW<=cX;cW++)cV[cW]=cT(cU[cW]);return cV;};s.tryFind=function(cT,cU){var cV,cW;cV=null;cW=0;while(cW<cU.length&&cV==null){cT(cU[cW])?cV={$:1,$0:cU[cW]}:void 0;cW=cW+1;}return cV;};s.choose=function(cT,cU){var cV,cW,cX,cY;cV=[];for(cW=0,cX=cU.length-1;cW<=cX;cW++){cY=cT(cU[cW]);cY==null?void 0:cV.push(cY.$0);}return cV;};s.ofSeq=function(cT){var cU,cV;if(cT instanceof a.Array)return cT.slice();else if(cT instanceof r)return s.ofList(cT);else{cU=[];cV=bt.Get(cT);try{while(cV.MoveNext())cU.push(cV.Current());return cU;}finally{if(typeof cV=="object"&&"Dispose"in cV)cV.Dispose();}}};s.tryFindIndex=function(cT,cU){var cV,cW;cV=null;cW=0;while(cW<cU.length&&cV==null){cT(cU[cW])?cV={$:1,$0:cW}:void 0;cW=cW+1;}return cV;};s.ofList=function(cT){var cU,cV;cV=[];cU=cT;while(!(cU.$==0)){cV.push(n.head(cU));cU=n.tail(cU);}return cV;};s.foldBack=function(cT,cU,cV){var cW,cX,cY,cZ,c0;cW=cV;cY=cU.length;for(cZ=1,c0=cY;cZ<=c0;cZ++)cW=cT(cU[cY-cZ],cW);return cW;};s.sortInPlace=function(cT){s.mapInPlace(function(cU){return cU[0];},s.mapiInPlace(function(cU,cV){return[cV,cU];},cT).sort(D.Compare));};s.filter=function(cT,cU){var cV,cW,cX;cV=[];for(cW=0,cX=cU.length-1;cW<=cX;cW++)if(cT(cU[cW]))cV.push(cU[cW]);return cV;};s.tryPick=function(cT,cU){var cV,cW,cX;cV=null;cW=0;while(cW<cU.length&&cV==null){cX=cT(cU[cW]);cX!=null&&cX.$==1?cV=cX:void 0;cW=cW+1;}return cV;};s.exists=function(cT,cU){var cV,cW,cX,cY;cV=false;cW=0;cY=s.length(cU);while(!cV&&cW<cY)if(cT(cU[cW]))cV=true;else cW=cW+1;return cV;};s.concat=function(cT){return a.Array.prototype.concat.apply([],s.ofSeq(cT));};s.iter=function(cT,cU){var cV,cW;for(cV=0,cW=cU.length-1;cV<=cW;cV++)cT(cU[cV]);};s.pick=function(cT,cU){var cV;cV=s.tryPick(cT,cU);return cV==null?h.FailWith("KeyNotFoundException"):cV.$0;};s.find=function(cT,cU){var cV;cV=s.tryFind(cT,cU);return cV==null?h.FailWith("KeyNotFoundException"):cV.$0;};s.forall=function(cT,cU){var cV,cW,cX,cY;cV=true;cW=0;cY=s.length(cU);while(cV&&cW<cY)if(cT(cU[cW]))cW=cW+1;else cV=false;return cV;};s.create=function(cT,cU){var cV,cW,cX;cV=new a.Array(cT);for(cW=0,cX=cT-1;cW<=cX;cW++)cV[cW]=cU;return cV;};s.sortInPlaceBy=function(cT,cU){s.mapInPlace(function(cV){return cV[0];},s.mapiInPlace(function(cV,cW){return[cW,[cT(cW),cV]];},cU).sort(function(cV,cW){return D.Compare(cV[1],cW[1]);}));};s.init=function(cT,cU){var cV,cW,cX;cT<0?h.FailWith("Negative size given."):null;cV=new a.Array(cT);for(cW=0,cX=cT-1;cW<=cX;cW++)cV[cW]=cU(cW);return cV;};_8.AEmpty={$:3};_.NewFromSeq=function(cT){var cU,cV,cW;cU={};cV=bt.Get(cT);try{while(cV.MoveNext()){cW=cV.Current();cU[cW[0]]=cW[1];}}finally{if(typeof cV=="object"&&"Dispose"in cV)cV.Dispose();}return cU;};i.REGEX$1=function(cT,cU,cV){var cW;return cV===null?null:(cW=(new a.String(cV)).match(new a.RegExp(cT,cU)),D.Equals(cW,null)?null:!D.Equals(cW,null)&&cW.length===0?null:{$:1,$0:cW});};$.New=function(cT,cU,cV){return{actName:cT,actFunction:cU,actEnabled:cV};};bc=L.AttrProxy=cO.Class({},null,bc);bc.Concat=function(cT){var cU;cU=bF.ofSeqNonCopying(cT);return bF.TreeReduce(bI.EmptyAttr(),bc.Append,cU);};bc.Create=function(cT,cU){return bI.Static(function(cV){bT.SetAttr(cV,cT,cU);});};bc.Append=function(cT,cU){return bI.AppendTree(cT,cU);};bc.HandlerImpl=function(cT,cU){return bI.Static(function(cV){cV.addEventListener(cT,function(cW){return(cU(cV))(cW);},false);});};bc.Handler=function(cT,cU){return bc.HandlerImpl(cT,cU);};bd.DynamicCustom=function(cT,cU){return bI.Dynamic(cU,cT);};bd.Dynamic=function(cT,cU){return bI.Dynamic(cU,function(cV){return function(cW){return bT.SetAttr(cV,cT,cW);};});};bd.DynamicStyle=function(cT,cU){return bI.Dynamic(cU,function(cV){return function(cW){return bT.SetStyle(cV,cT,cW);};});};bd.Style=function(cT,cU){return bI.Static(function(cV){bT.SetStyle(cV,cT,cU);});};bd.Value=function(cT){function cU(cV){return{$:1,$0:cV};}return bd.CustomValue(cT,a.id,function(cV){return cU(a.id(cV));});};bd.CustomValue=function(cT,cU,cV){return bd.CustomVar(cT,function(cW,cX){cW.value=cU(cX);},function(cW){return cV(cW.value);});};bd.CustomVar=function(cT,cU,cV){function cW(cY,cZ){return cT.UpdateMaybe(function(c0){var c1,c2;c1=cV(cY);return c1!=null&&c1.$==1&&(!D.Equals(c1.$0,c0)&&(c2=[c1,c1.$0],true))?c2[0]:null;});}function cX(cY,cZ){var c0,c1;c0=cV(cY);return c0!=null&&c0.$==1&&(D.Equals(c0.$0,cZ)&&(c1=c0.$0,true))?null:cU(cY,cZ);}return bc.Concat([bd.Handler("change",function(cY){return function(cZ){return cW(cY,cZ);};}),bd.Handler("input",function(cY){return function(cZ){return cW(cY,cZ);};}),bd.Handler("keypress",function(cY){return function(cZ){return cW(cY,cZ);};}),bd.DynamicCustom(function(cY){return function(cZ){return cX(cY,cZ);};},cT.get_View())]);};bd.OnAfterRender=function(cT){return new bc({$:4,$0:cT});};bd.Handler=function(cT,cU){return bI.Static(function(cV){cV.addEventListener(cT,function(cW){return(cU(cV))(cW);},false);});};bd.Checked=function(cT){function cU(cV,cW){return!D.Equals(cT.Get(),cV.checked)?cT.Set(cV.checked):null;}return bc.Concat([bd.DynamicProp("checked",cT.get_View()),bd.Handler("change",function(cV){return function(cW){return cU(cV,cW);};})]);};bd.IntValue=function(cT){return bd.CustomVar(cT,function(cU,cV){var cW;cW=cV.get_Input();return cU.value!==cW?void(cU.value=cW):null;},function(cU){var cV,cW,cX;cV=cU.value;return{$:1,$0:cF.isBlank(cV)?(cU.checkValidity?cU.checkValidity():true)?new bY({$:2,$0:cV}):new bY({$:1,$0:cV}):(cW=(cX=0,[E.TryParseInt32(cV,{get:function(){return cX;},set:function(cY){cX=cY;}}),cX]),cW[0]?new bY({$:0,$0:cW[1],$1:cV}):new bY({$:1,$0:cV}))};});};bd.IntValueUnchecked=function(cT){return bd.CustomValue(cT,a.String,function(cU){var cV;return cF.isBlank(cU)?{$:1,$0:0}:(cV=+cU,cV!==cV>>0?null:{$:1,$0:cV});});};bd.FloatValue=function(cT){return bd.CustomVar(cT,function(cU,cV){var cW;cW=cV.get_Input();return cU.value!==cW?void(cU.value=cW):null;},function(cU){var cV,cW;cV=cU.value;return{$:1,$0:cF.isBlank(cV)?(cU.checkValidity?cU.checkValidity():true)?new bY({$:2,$0:cV}):new bY({$:1,$0:cV}):(cW=+cV,a.isNaN(cW)?new bY({$:1,$0:cV}):new bY({$:0,$0:cW,$1:cV}))};});};bd.FloatValueUnchecked=function(cT){return bd.CustomValue(cT,a.String,function(cU){var cV;return cF.isBlank(cU)?{$:1,$0:0}:(cV=+cU,a.isNaN(cV)?null:{$:1,$0:cV});});};bd.DynamicProp=function(cT,cU){return bI.Dynamic(cU,function(cV){return function(cW){cV[cT]=cW;};});};bf=be.FSharpSet=cO.Class({Contains:function(cT){return bJ.Contains(cT,this.tree);},GetEnumerator$1:function(){return bt.Get(bJ.Enumerate(false,this.tree));},Equals:function(cT){return this.get_Count()===cT.get_Count()&&q.forall2(D.Equals,this,cT);},get_Count:function(){var cT;cT=this.tree;return cT==null?0:cT.Count;},GetHashCode:function(){return -1741749453+D.Hash(s.ofSeq(this));},GetEnumerator:function(){return this.GetEnumerator$1();},CompareTo0:function(cT){return q.compareWith(D.Compare,this,cT);},GetEnumerator0:function(){return this.GetEnumerator$1();}},t,bf);bf.op_Subtraction=function(cT,cU){return bK.Filter(function(cV){return!cU.Contains(cV);},cT);};bf.New=cO.Ctor(function(cT){bf.New$1.call(this,bJ.OfSeq(cT));},bf);bf.New$1=cO.Ctor(function(cT){t.New.call(this);this.tree=cT;},bf);bh=bg.attr=cO.Class({},t,bh);bi.traverseSeq=function(cT,cU){return bi.map(a.id,s.foldBack(function(cV,cW){return bi.op_GreaterGreaterEquals(cT(cV),function(cX){return bi.op_GreaterGreaterEquals(cW,function(cY){return bi.rtn(new r({$:1,$0:cX,$1:cY}));});});},s.ofSeq(cU),bi.rtn(r.Empty)));};bi.rtn=function(cT){return T.Const(cT);};bi.map=function(cT,cU){return T.Map(cT,cU);};bi.op_GreaterGreaterEquals=function(cT,cU){return bi.bind(cU,cT);};bi.bind=function(cT,cU){return T.Bind(cT,cU);};bk.GetFields=function(cT){var cU,cV;cU=[];for(var cW in cT)cU.push([cW,cT[cW]]);return cU;};bk.GetFieldValues=function(cT){var cU,cV;cU=[];for(var cW in cT)cU.push(cT[cW]);return cU;};bl=O.PlgElemName=cO.Class({get_Id:function(){return this.$0;}},null,bl);bm.New=function(cT,cU){return{docName:cT,docDoc:cU};};bn.init=function(cT,cU){var cV;cV=new bM.New();bn.set_layoutHorizontal(cT);bn.set_layoutVertical(cU);I.defineWebComponent("wcomp-splitter",bM.Constructor,self.FsRootDll.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New);};bn.set_layoutHorizontal=function(cT){p.$cctor();p.layoutHorizontal=cT;};bn.set_layoutVertical=function(cT){p.$cctor();p.layoutVertical=cT;};bn.layoutVertical=function(){p.$cctor();return p.layoutVertical;};bn.layoutHorizontal=function(){p.$cctor();return p.layoutHorizontal;};J.init=function(){p.$cctor();return p.init;};J.tabStrip=function(cT,cU,cV,cW,cX){var cY;cY=M.Element("div",[bc.Create("class",(((cO.Curried3(function(cZ,c0,c1){return cZ("tab-strip "+_6.toSafe(c0)+" "+_6.toSafe(c1));}))(a.id))(cU?"top":"bottom"))(cV?"horizontal":"vertical"))],n.ofSeq(q.delay(function(){return q.collect(function(cZ){var c0;c0=cZ[0];return[bV.New$1().Content(M.Element("div",[bd.Dynamic("class",T.Map(function(c1){return"tab"+(c1===c0+1?" selected":"");},cT.get_View())),bc.Create("draggable","true"),bc.HandlerImpl("click",function(){return function(){return cT.Set(c0+1);};})],[M.TextNode(cZ[1][0])]))];},q.indexed(cW));})));return M.Element("div",[bc.Create("class","tab-panel")],n.ofSeq(q.delay(function(){return q.append(cU?[cY]:[],q.delay(function(){return q.append([M.Element("div",[bc.Create("class","tab-content")],[cX])],q.delay(function(){return q.append(!cU?[cY]:[],q.delay(function(){return q.append([M.Element("style",r.Empty,n.ofArray([M.TextNode(J.css())]))],q.delay(function(){return[M.Element("style",r.Empty,n.ofArray([M.TextView(T.Map(function(cZ){return function(c0){return cZ("\r\n                                              ::slotted(*              ) { display: none }\r\n                                              ::slotted(*:nth-child("+a.String(c0)+")) { display: grid }\r\n                                           ");};}(a.id),cT.get_View()))]))];}));}));}));}));})));};J.css=function(){p.$cctor();return p.css;};o.html=function(){p.$cctor();return p.html;};bo.createSplitter=function(cT,cU,cV,cW,cX){var cY;cY=bo.pairOfDocs(cT,cX);return cW.$==1?bo.variableSplitter(cV,cW.$0,cW.$1,cW.$2,cY[0],cY[1]):bo.fixedSplitter(cV,cW.$0,cW.$1,cY[0],cY[1]);};bo.createButton=function(cT,cU,cV,cW,cX){var cY;cY=bo.S(cX);return bo.turnToView(function(){var cZ,c0,c1,c2,c3;function c4(c5,c6){return O.callFunction(null,null,c5.actFunction);}cZ=(c0=(c1=(c2=((bo.splitName())(cT))(cV),O.tryGetAct(c2[0],c2[1])),c1==null?null:{$:1,$0:(c3=c1.$0,function(c5){return c4(c3,c5);})}),c0==null?a.ignore:c0.$0);return M.Button(cY,bo.getAttrs(cT,cW),cZ);});};bo.createInput=function(cT,cU,cV,cW){return bo.turnToView(function(){var cX;return M.BindView(function(cY){return cY==null?O.errDoc((function(cZ){return function(c0){return cZ("Missing var: "+_6.toSafe(c0));};}(a.id))(cV)):M.Input(bo.getAttrs(cT,cW),cY.$0);},(cX=((bo.splitName())(cT))(cV),O.tryGetVoVW(cX[0],cX[1])));});};bo.createTextArea=function(cT,cU,cV,cW){return bo.turnToView(function(){var cX;return M.BindView(function(cY){return cY==null?O.errDoc((function(cZ){return function(c0){return cZ("Missing var: "+_6.toSafe(c0));};}(a.id))(cV)):M.InputArea(bo.getAttrs(cT,cW),cY.$0);},(cX=((bo.splitName())(cT))(cV),O.tryGetVoVW(cX[0],cX[1])));});};bo.createElement=function(cT,cU,cV,cW,cX){return bo.turnToView(function(){var cY;cY=[M.Concat(bo.getAllDocs(cT,cX))];return M.Element(cV,bo.getAttrs(cT,cW),cY);});};bo.createDoc=function(cT,cU,cV,cW){return bo.turnToView(function(){var cX,cY,cZ;cX=(cY=(cZ=((bo.splitName())(cT))(cV),O.tryGetDoc(cZ[0],cZ[1])),cY==null?null:{$:1,$0:bo.getDocFinal(cW,cY.$0)});return cX==null?O.errDoc((function(c0){return function(c1){return c0("Missing doc: "+_6.toSafe(c1));};}(a.id))(cV)):cX.$0;});};bo.createTemplate=function(cT,cU,cV,cW,cX){return bo.turnToView(function(){var cY,cZ,c0,c1,c2,c3;c0=bo.getAttrs(cT,cW);bO.LoadLocalTemplates("local");function c4(c6,c7){var c8,c9,c_,c$,da,db,dc,dd,de,df,dg;c8=bo.S(c6);c9=bo.Identifier(c7);return c9!=null&&c9.$==1?(c_=c9.$0,c$=(da=(db=(dc=((bo.splitName())(cT))(c_),O.tryGetDoc(dc[0],dc[1])),db==null?null:{$:1,$0:{$:0,$0:c8.toLowerCase(),$1:(bo.getDocF(r.Empty,db.$0))[0]}}),da==null?(dd=(de=((bo.splitName())(cT))(c_),O.tryGetVar(de[0],de[1])),dd==null?null:{$:1,$0:{$:8,$0:c8.toLowerCase(),$1:dd.$0.varVar}}):da),c$==null?{$:0,$0:c8.toLowerCase(),$1:O.errDoc((function(dh){return function(di){return dh("Missing element: "+_6.toSafe(di));};}(a.id))(c_))}:c$.$0):(df=bo.S(c6),dg=bo.S(c7),{$:0,$0:df.toLowerCase(),$1:O.errDoc((function(dh){return function(di){return dh("Not implemented: "+_6.toSafe(di));};}(a.id))(dg))});}function c5(c6,c7){return c6%2===0;}try{cZ={$:1,$0:(c1=(c2=q.map(function(c6){return c4(c6[0],c6[1]);},q.map(function(c6){return c6[1];},q.filter(function(c6){return c5(c6[0],c6[1]);},q.indexed(q.pairwise(cX))))),(q.isEmpty(c0)?a.id:(c3=[{$:3,$0:"attrs",$1:bc.Concat(c0)}],function(c6){return q.append(c3,c6);}))(c2)),bO.NamedTemplate("local",{$:1,$0:cV.toLowerCase()},c1))};}catch(c6){cZ=null;}return cZ==null?O.errDoc((function(c7){return function(c8){return c7("Missing template: "+_6.toSafe(c8));};}(a.id))(cV)):cZ.$0;});};bo.createConcat=function(cT,cU,cV){return bo.turnToView(function(){return M.Concat(bo.getAllDocs(cT,cV));});};bo.createVar=function(cT,cU,cV){return Q.Create$1(cV);};bo.createView=function(cT,cU,cV){return T.Bind(function(){var cW;function cX(cY){return cY.$==1?(function(cZ){return function(c0){return cZ(_2.p$1(c0));};}(a.id))(cY.$0):cY.$0;}try{return T.Map(function(cY){try{return!D.Equals(cY,null)&&cY.length===0?"No JS function specified":!D.Equals(cY,null)&&cY.length===1?a.String(a["eval"](s.get(cY,0))):a.String(a["eval"](s.get(cY,0)).apply(null,B.array(cY,{$:1,$0:1},null)));}catch(cZ){return cZ.message;}},T.Map((cW=function(cY){return q.map(cX,cY);},function(cY){return s.ofSeq(cW(cY));}),bi.traverseSeq(function(cY){return bo.getTextToken(cT,cY);},cV)));}catch(cY){return T.Const(cY.message);}},bo.currentViewTriggger());};bo.createAction=function(cT,cU,cV,cW){var cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_;c1=(cY=((bo.splitName())(cT))(cV),O.tryGetAct(cY[0],cY[1]));if(c1==null)cX=null;else{c2=c1.$0;if(cW.$===0)cZ=c2.actFunction;else{c3=c2.actFunction;switch(c3.$==1?cW.$==1?cW.$1.$==0?(c0=[c3.$0,cW.$0],0):3:3:c3.$==2?cW.$==1?cW.$1.$==0?(c0=[c3.$0,c3.$2,cW.$0],2):cW.$1.$1.$==0?(c0=[c3.$0,cW.$0,cW.$1.$0],1):3:3:3){case 0:cZ=(c4=c0[0],(c5=c0[1],{$:0,$0:function(){bo.getParamText(cT,c5,c4);}}));break;case 1:cZ=(c6=c0[0],(c7=c0[1],(c8=c0[2],{$:0,$0:function(){bo.getParamText(cT,c7,function(c$){bo.getParamText(cT,c8,c6(c$));});}})));break;case 2:cZ=(c9=c0[0],(c_=c0[2],{$:1,$0:function(c$){bo.getParamText(cT,c_,function(da){(c9(da))(c$);});},$1:c0[1]}));break;case 3:cZ={$:0,$0:function(){((((cO.Curried(function(c$,da,db,dc){return c$("Parameters do not coincide for Action "+_6.toSafe(da)+" "+_6.printList(function(dd){return _1.p$27(dd);},db)+" "+_2.p$1(dc));},4))(function(c$){cR.log(c$);}))(cV))(cW))(c2);}};break;}}cX={$:1,$0:cZ};}return cX==null?{$:0,$0:function(){((function(c$){return function(da){return c$("Action Not Found "+_6.toSafe(da));};}(function(c$){cR.log(c$);}))(cV));}}:cX.$0;};bo.addNewLayout=function(cT,cU){var cV,cW;bo.addLayout((cV=(cW=!D.Equals(cU,null)?cU:"\r\n            split horizontal 0-50-100 AppFramework.AppFwkClient Hello\r\n            Hello h1 \"color:blue; class=btn-primary\" \"How are you today?\" Ask\r\n            Ask Doc InputLabel \"placeholder=Type you answer here...\" \"Answer:\" AppFramework.mainDocV  \r\n            ",(z.unindentStr())(cW)),bo.newLyt(!D.Equals(cU,null)?cT:new R({$:0,$0:"Lyt_"+A.Replace(a.String(G.NewGuid()),"-","")}),cV)));};bo.variableSplitter=function(cT,cU,cV,cW,cX,cY){return M.Element("wcomp-splitter",n.ofSeq(q.delay(function(){return q.append(cT?[bc.Create("vertical","")]:[],q.delay(function(){return q.append([bc.Create("min",a.String(cU))],q.delay(function(){return q.append([bc.Create("value",a.String(cV))],q.delay(function(){return[bc.Create("max",a.String(cW))];}));}));}));})),n.ofArray([cX,cY]));};bo.pairOfDocs=function(cT,cU){var cV;cV=T.Map(function(cW){var cX;return cW.$==1&&(cW.$1.$==1&&(cW.$1.$1.$==0&&(cX=[cW.$0,cW.$1.$0],true)))?[cX[0],cX[1]]:[O.errDoc((function(cY){return function(cZ){return cY("splitter expects exactly 2 elements "+_6.printList(function(c0){return _1.p$27(c0);},cZ));};}(a.id))(cU)),O.errDoc("part 2")];},T.Map(function(){return bo.getAllDocs(cT,cU);},bo.currentViewTriggger()));return[M.EmbedView(T.Map(function(cW){return cW[0];},cV)),M.EmbedView(T.Map(function(cW){return cW[1];},cV))];};bo.fixedSplitter=function(cT,cU,cV,cW,cX){var cY,cZ,c0,c1,c2,c3,c4;cY=(((cV?cO.Curried3(function(c5,c6,c7){return c5(c6.toFixed(6)+"px calc(100% - "+c7.toFixed(6)+"px)");}):cO.Curried3(function(c5,c6,c7){return c5("calc(100% - "+c6.toFixed(6)+"px) "+c7.toFixed(6)+"px");}))(a.id))(cU))(cU);return cT?(cZ=Y.Make().WithHole({$:1,$0:"partsizes",$1:cY}).WithHole({$:0,$0:"first",$1:cW}).WithHole({$:0,$0:"second",$1:cX}),(c0=Z.CompleteHoles(cZ.k,cZ.h,[]),(c1=new X.New(c0[1],_0.fixedsplitterver(c0[0])),(cZ.i=c1,c1)))).get_Doc():(c2=Y.Make().WithHole({$:1,$0:"partsizes",$1:cY}).WithHole({$:0,$0:"first",$1:cW}).WithHole({$:0,$0:"second",$1:cX}),(c3=Z.CompleteHoles(c2.k,c2.h,[]),(c4=new X.New(c3[1],_0.fixedsplitterhor(c3[0])),(c2.i=c4,c4)))).get_Doc();};bo.turnToView=function(cT){return M.EmbedView(T.Map(cT,bo.currentViewTriggger()));};bo.splitName=function(){p.$cctor();return p.splitName;};bo.getAttrs=function(cT,cU){var cV;cV=bo.S(cU);return n.ofSeq(q.delay(function(){return q.append(q.choose(function(cW){var cX,cY,cZ,c0;function c1(c2,c3){var c4;return c3.$==1?(c4=c3.$0,c2.addEventListener(A.Trim(c0),function(c5){return O.callFunction(c2,c5,c4.actFunction);},false)):c2.setAttribute(A.Trim(c0),A.Trim(c3.$0));}return!D.Equals(cW,null)&&cW.length===2&&(cY=s.get(cW,1),A.Trim(s.get(cW,0))!==""&&A.Trim(cY)!=="")?(cZ=s.get(cW,1),(c0=s.get(cW,0),{$:1,$0:bd.DynamicCustom(function(c2){return function(c3){return c1(c2,c3);};},bo.getTextData(cT,A.Trim(cZ)))})):null;},q.map(function(cW){return z.splitByChar("=",cW);},z.splitByChar(";",cV))),q.delay(function(){return q.choose(function(cW){var cX,cY,cZ,c0,c1;return!D.Equals(cW,null)&&cW.length===2&&(cY=s.get(cW,1),A.Trim(s.get(cW,0))!==""&&A.Trim(cY)!=="")?(cZ=s.get(cW,1),(c0=s.get(cW,0),{$:1,$0:(c1=T.Map(function(c2){return c2.$==1?(function(c3){return function(c4){return c3("@{"+_6.toSafe(c4)+"}");};}(a.id))(c2.$0.actName.get_Id()):A.Trim(c2.$0);},bo.getTextData(cT,A.Trim(cZ))),bd.DynamicStyle(A.Trim(c0),c1))})):null;},q.map(function(cW){return z.splitByChar(":",cW);},z.splitByChar(";",cV)));}));}));};bo.S=function(cT){return cT.$==1?cT.$0:cT.$0;};bo.getAllDocs=function(cT,cU){return cU.$==1?new r({$:1,$0:bo.getADoc(cT,cU.$0),$1:bo.getAllDocs(cT,cU.$1)}):r.Empty;};bo.getDocFinal=function(cT,cU){var cV;cV=bo.getDocF(cT,cU);return cV[1].$==0?cV[0]:O.errDoc((((cO.Curried3(function(cW,cX,cY){return cW("Too many parameters "+_2.p(cX)+" "+_6.printList(function(cZ){return _1.p$27(cZ);},cY));}))(a.id))(cU))(cT));};bo.Identifier=function(cT){var cU,cV,cW;return cT.$==1&&(cV=i.REGEX$1("^[$a-zA-Z_][0-9a-zA-Z_\\.\\-$]*$","",cT.$0),cV!=null&&cV.$==1&&((cW=cV.$0,!D.Equals(cW,null)&&cW.length===1)&&(cU=s.get(cV.$0,0),true)))?{$:1,$0:cU}:null;};bo.getDocF=function(cT,cU){var cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6;cW=cU.docDoc;switch(cW.$==1?cT.$==1?(cV=[cW.$0,bo.S(cT.$0),cT.$1],1):6:cW.$==2?cT.$==1?(cX=bo.S(cT.$0),cT.$1.$==1?(cV=[cW.$0,cX,bo.S(cT.$1.$0),cT.$1.$1],2):6):6:cW.$==3?cT.$==1?(cY=bo.S(cT.$0),cT.$1.$==1?(cZ=bo.S(cT.$1.$0),cT.$1.$1.$==1?(cV=[cW.$0,cY,cZ,bo.S(cT.$1.$1.$0),cT.$1.$1.$1],3):6):6):6:cW.$==4?cT.$==1?(c0=bo.S(cT.$0),cT.$1.$==1?(c1=bo.S(cT.$1.$0),cT.$1.$1.$==1?(c2=bo.S(cT.$1.$1.$0),cT.$1.$1.$1.$==1?(cV=[cW.$0,c0,c1,c2,bo.S(cT.$1.$1.$1.$0),cT.$1.$1.$1.$1],4):6):6):6):6:cW.$==5?cT.$==1?(c3=bo.S(cT.$0),cT.$1.$==1?(c4=bo.S(cT.$1.$0),cT.$1.$1.$==1?(c5=bo.S(cT.$1.$1.$0),cT.$1.$1.$1.$==1?(c6=bo.S(cT.$1.$1.$1.$0),cT.$1.$1.$1.$1.$==1?(cV=[cW.$0,c3,c4,c5,c6,bo.S(cT.$1.$1.$1.$1.$0),cT.$1.$1.$1.$1.$1],5):6):6):6):6):6:(cV=[cW.$0,cT],0)){case 0:return[cV[0].f(),cV[1]];case 1:return[cV[0](cV[1]),cV[2]];case 2:return[(cV[0](cV[1]))(cV[2]),cV[3]];case 3:return[((cV[0](cV[1]))(cV[2]))(cV[3]),cV[4]];case 4:return[(((cV[0](cV[1]))(cV[2]))(cV[3]))(cV[4]),cV[5]];case 5:return[((((cV[0](cV[1]))(cV[2]))(cV[3]))(cV[4]))(cV[5]),cV[6]];case 6:return[M.Element("div",[],[M.TextNode((((cO.Curried3(function(c7,c8,c9){return c7("Parameters do not coincide with definition "+_2.p(c8)+" - "+_6.printList(function(c_){return _1.p$27(c_);},c9));}))(a.id))(cU))(cT))]),r.Empty];}};bo.currentViewTriggger=function(){p.$cctor();return p.currentViewTriggger;};bo.getTextToken=function(cT,cU){return cU.$==0?bo.getTextData(cT,cU.$0):bo.getOneTextData(cT,cU.$0,"","");};bo.getParamText=function(cT,cU,cV){T.Get(function(cW){if(cW.$==1)cV(cW.$0);else cV(cW.$0);},bo.getTextToken(cT,cU));};bo.newLyt=function(cT,cU){return b7.New(cT,Q.Create$1(cU));};bo.addLayout=function(cT){T.Sink(function(cU){var cV;bo.set_currentViewTriggger(T.Map2(function(cW,cX){return cW+cX;},cT.lytDefinition.get_View(),O.mainDocV().get_View()));bo.refreshEntries(cT.lytName,(cV=(bo.createEntries(cT.lytName))(cU),q.append(n.ofArray([{$:0,$0:O.newVar(new bl({$:0,$0:"Layout"}),cT.lytDefinition)}]),cV)));},cT.lytDefinition.get_View());};bo.getTextData=function(cT,cU){var cV,cW,cX,cY;cV=(cW=z.delimitedO("@{","}",cU),cW==null?null:{$:1,$0:(cX=cW.$0,(cY=cX[0],bo.getOneTextData(cT,cX[1],cY,cX[2])))});return cV==null?T.Const({$:0,$0:cU}):cV.$0;};bo.getADoc=function(cT,cU){var cV,cW,cX,cY,cZ;cV=bo.Identifier(cU);return cV!=null&&cV.$==1?(cW=cV.$0,(cX=((bo.splitName())(cT))(cW),(cY=cX[0],(cZ=cX[1],M.BindView(function(c0){return c0==null?M.BindView(function(c1){var c2;return c1==null?O.errDoc((c2=(function(c3){return function(c4){return c3("Missing doc: "+_6.toSafe(c4));};}(a.id))(cW),(k.print(c2),c2))):M.TextNode(c1.$0);},O.tryGetWoWW(cY,cZ)):(bo.getDocF(r.Empty,c0.$0))[0];},O.tryGetDocW(cY,cZ)))))):M.TextView(T.Map(function(c0){return c0.$==1?(function(c1){return function(c2){return c1("Unexpected action: "+_6.toSafe(c2));};}(a.id))(c0.$0.actName.get_Id()):c0.$0;},bo.getTextData(cT,bo.S(cU))));};bo.getOneTextData=function(cT,cU,cV,cW){var cX,cY,cZ;cX=((bo.splitName())(cT))(cU);cY=cX[0];cZ=cX[1];return T.Bind(function(c0){return c0==null?T.Bind(function(c1){var c2;return c1==null?T.Const({$:0,$0:((((cO.Curried(function(c3,c4,c5,c6){return c3(_6.toSafe(c4)+" @{Missing "+_6.toSafe(c5)+"}"+_6.toSafe(c6));},4))(a.id))(cV))(cU))(cW)}):(c2=c1.$0,T.Bind(function(c3){return c3.$==1?T.Const({$:0,$0:(function(c4){return function(c5){return c4("Unexpected Action @{"+_6.toSafe(c5)+"}");};}(a.id))(c3.$0.actName.get_Id())}):T.Const({$:0,$0:cV+c2+c3.$0});},bo.getTextData(cT,cW)));},O.tryGetWoWW(cY,cZ)):T.Const({$:1,$0:c0.$0});},O.tryGetActW(cY,cZ));};bo.set_currentViewTriggger=function(cT){p.$cctor();p.currentViewTriggger=cT;};bo.createEntries=function(cT){function cU(cV){return bo.createEntryO(cT,cV);}return function(cV){return bo.processText(cU,cV);};};bo.refreshEntries=function(cT,cU){var cV,cW,cX,cY;cV=(cW=O.tryGetPlugIn(cT),cW==null?(cX=(cY=O.defaultPlugIn(),P.New(cT,cY.plgVars,cY.plgViews,cY.plgDocs,cY.plgActions,cY.plgQueries)),(O.addPlugIn(cX),cX)):cW.$0);cf.refreshLM(cV.plgVars,s.ofSeq(q.delay(function(){return bo.getVarEntries(cU);})));cf.refreshLM(cV.plgViews,s.ofSeq(q.delay(function(){return bo.getViewEntries(cU);})));cf.refreshLM(cV.plgActions,s.ofSeq(q.delay(function(){return bo.getActionEntries(cU);})));cf.refreshLM(cV.plgQueries,s.ofSeq(q.delay(function(){return bo.getQueryEntries(cU);})));cf.refreshLM(cV.plgDocs,s.ofSeq(q.delay(function(){return q.append(bo.getDocEntries(cU),q.delay(function(){return q.append([O.newDocF(new bl({$:0,$0:"InputFile"}),{$:4,$0:cO.Curried(bo.inputFile,4,[cT]),$1:"attrs",$2:"Label",$3:"Action",$4:"[Doc]"})],q.delay(function(){return q.append([O.newDocF(new bl({$:0,$0:"InputLabel"}),{$:3,$0:cO.Curried(bo.inputLabel,3,[cT]),$1:"attrs",$2:"Label",$3:"Var"})],q.delay(function(){return[O.newDocF(new bl({$:0,$0:"none"}),{$:1,$0:bo.none,$1:"x"})];}));}));}));})));};bo.processText=function(cT,cU){return bo.processLines(cT,A.SplitChars(cU,["\n","\r"],1));};bo.createEntryO=function(cT,cU){var cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA;try{cV=bo.splitTokens(cU);return cV.$==1&&(cX=bo.Identifier(cV.$0),cX!=null&&cX.$==1&&(cV.$1.$==1&&(bo.Vertical(cV.$1.$0).$==0&&(cV.$1.$1.$==1&&(cY=bo.Measures$1(cV.$1.$1.$0),cY!=null&&cY.$==1&&(cW=[cV.$1.$1.$1,cY.$0,cX.$0],true))))))?(cZ=cW[2],bo.entryDoc(new bl({$:0,$0:cZ}),(bo.createSplitterM())([cT,cZ,true,cW[1],cW[0]]))):cV.$==1&&(c1=bo.Identifier(cV.$0),c1!=null&&c1.$==1&&(cV.$1.$==1&&(bo.Vertical(cV.$1.$0).$==1&&(cV.$1.$1.$==1&&(c2=bo.Measures$1(cV.$1.$1.$0),c2!=null&&c2.$==1&&(c0=[cV.$1.$1.$1,c2.$0,c1.$0],true))))))?(c3=c0[2],bo.entryDoc(new bl({$:0,$0:c3}),(bo.createSplitterM())([cT,c3,false,c0[1],c0[0]]))):cV.$==1&&(c5=bo.Identifier(cV.$0),c5!=null&&c5.$==1&&(cV.$1.$==1&&(bo.PlugIn(cV.$1.$0).$==1&&(cV.$1.$1.$==1&&(c6=bo.Identifier(cV.$1.$1.$0),c6!=null&&c6.$==1&&(cV.$1.$1.$1.$==1&&(cV.$1.$1.$1.$1.$==1&&(cV.$1.$1.$1.$1.$1.$==0&&(c4=[c6.$0,cV.$1.$1.$1.$0,c5.$0,cV.$1.$1.$1.$1.$0],true)))))))))?(c7=c4[2],bo.entryDoc(new bl({$:0,$0:c7}),(bo.createButtonM())([cT,c7,c4[0],c4[1],c4[3]]))):cV.$==1&&(c9=bo.Identifier(cV.$0),c9!=null&&c9.$==1&&(cV.$1.$==1&&(bo.PlugIn(cV.$1.$0).$==2&&(cV.$1.$1.$==1&&(c_=bo.Identifier(cV.$1.$1.$0),c_!=null&&c_.$==1&&(cV.$1.$1.$1.$==1&&(cV.$1.$1.$1.$1.$==0&&(c8=[cV.$1.$1.$1.$0,c9.$0,c_.$0],true))))))))?(c$=c8[1],bo.entryDoc(new bl({$:0,$0:c$}),(bo.createInputM())([cT,c$,c8[2],c8[0]]))):cV.$==1&&(db=bo.Identifier(cV.$0),db!=null&&db.$==1&&(cV.$1.$==1&&(bo.PlugIn(cV.$1.$0).$==3&&(cV.$1.$1.$==1&&(dc=bo.Identifier(cV.$1.$1.$0),dc!=null&&dc.$==1&&(cV.$1.$1.$1.$==1&&(cV.$1.$1.$1.$1.$==0&&(da=[cV.$1.$1.$1.$0,db.$0,dc.$0],true))))))))?(dd=da[1],bo.entryDoc(new bl({$:0,$0:dd}),(bo.createTextAreaM())([cT,dd,da[2],da[0]]))):cV.$==1&&(df=bo.Identifier(cV.$0),df!=null&&df.$==1&&(cV.$1.$==1&&(bo.Var(cV.$1.$0).$==0&&(cV.$1.$1.$==1&&(cV.$1.$1.$1.$==0&&(de=[df.$0,bo.S(cV.$1.$1.$0)],true))))))?(dg=de[0],bo.entryVar(new bl({$:0,$0:dg}),(bo.createVarM())([cT,dg,de[1]]))):cV.$==1&&(di=bo.Identifier(cV.$0),di!=null&&di.$==1&&(cV.$1.$==1&&(bo.Var(cV.$1.$0).$==1&&(cV.$1.$1.$==1&&(dh=[bo.S(cV.$1.$1.$0),di.$0,cV.$1.$1.$1],true)))))?(dj=dh[1],bo.entryDoc(new bl({$:0,$0:dj}),(bo.createDocM())([cT,dj,dh[0],dh[2]]))):cV.$==1&&(dl=bo.Identifier(cV.$0),dl!=null&&dl.$==1&&(cV.$1.$==1&&(bo.Var(cV.$1.$0).$==2&&(dk=[dl.$0,cV.$1.$1],true))))?(dm=dk[0],bo.entryView(new bl({$:0,$0:dm}),(bo.createViewM())([cT,dm,dk[1]]))):cV.$==1&&(_do=bo.Identifier(cV.$0),_do!=null&&_do.$==1&&(cV.$1.$==1&&(bo.Vertical(cV.$1.$0).$==4&&(cV.$1.$1.$==1&&(cV.$1.$1.$1.$==1&&(dn=[cV.$1.$1.$1.$0,cV.$1.$1.$1.$1,_do.$0,bo.S(cV.$1.$1.$0)],true))))))?(dp=dn[2],bo.entryDoc(new bl({$:0,$0:dp}),(bo.createTemplateM())([cT,dp,dn[3],dn[0],dn[1]]))):cV.$==1&&(dr=bo.Identifier(cV.$0),dr!=null&&dr.$==1&&(cV.$1.$==1&&(bo.Var(cV.$1.$0).$==4&&(dq=[cV.$1.$1,dr.$0],true))))?(ds=dq[1],bo.entryDoc(new bl({$:0,$0:ds}),(bo.createConcatM())([cT,ds,dq[0]]))):cV.$==1&&(du=bo.Identifier(cV.$0),du!=null&&du.$==1&&(cV.$1.$==1&&(bo.Var(cV.$1.$0).$==5&&(cV.$1.$1.$==1&&(dv=bo.Identifier(cV.$1.$1.$0),dv!=null&&dv.$==1&&(dt=[dv.$0,du.$0,cV.$1.$1.$1],true))))))?(dw=dt[1],bo.entryAct(new bl({$:0,$0:dw}),(bo.createActionM())([cT,dw,dt[0],dt[2]]))):cV.$==1&&(dy=bo.Identifier(cV.$0),dy!=null&&dy.$==1&&(cV.$1.$==1&&(dz=bo.Vertical(cV.$1.$0),dz.$==5&&(cV.$1.$1.$==1&&(dx=[cV.$1.$1.$0,cV.$1.$1.$1,dz.$0,dy.$0],true)))))?(dA=dx[3],bo.entryDoc(new bl({$:0,$0:dA}),(bo.createElementM())([cT,dA,dx[2],dx[0],dx[1]]))):null;}catch(dB){return null;}};bo.getVarEntries=function(cT){function cU(cV){return cV[1];}return q.map(function(cV){return q.last(cU(cV));},q.groupBy(function(cV){return cV.varName;},q.choose(function(cV){return cV.$==0?{$:1,$0:cV.$0}:null;},cT)));};bo.getViewEntries=function(cT){function cU(cV){return cV[1];}return q.map(function(cV){return q.last(cU(cV));},q.groupBy(function(cV){return cV.viwName;},q.choose(function(cV){return cV.$==1?{$:1,$0:cV.$0}:null;},cT)));};bo.getActionEntries=function(cT){function cU(cV){return cV[1];}return q.map(function(cV){return q.last(cU(cV));},q.groupBy(function(cV){return cV.actName;},q.choose(function(cV){return cV.$==3?{$:1,$0:cV.$0}:null;},cT)));};bo.getQueryEntries=function(cT){function cU(cV){return cV[1];}return q.map(function(cV){return q.last(cU(cV));},q.groupBy(function(cV){return cV.qryName;},q.choose(function(cV){return cV.$==4?{$:1,$0:cV.$0}:null;},cT)));};bo.getDocEntries=function(cT){function cU(cV){return cV[1];}return q.map(function(cV){return q.last(cU(cV));},q.groupBy(function(cV){return cV.docName;},q.choose(function(cV){return cV.$==2?{$:1,$0:cV.$0}:null;},cT)));};bo.inputFile=function(cT,cU,cV,cW,cX){var cY,cZ,c0,c1;cY=(cZ=(c0=((bo.splitName())(cT))(cW),O.tryGetAct(c0[0],c0[1])),cZ==null?null:{$:1,$0:(c1=cZ.$0,M.Element("div",bo.getAttrs(cT,{$:0,$0:cU}),[M.Element("div",[bc.Create("class","input-group")],[M.Element("span",[bc.Create("class","input-group-btn")],[M.Element("label",[bc.Create("class","btn")],[bo.getText(cT,{$:0,$0:cV}),M.Element("input",[bc.Create("class","form-control"),bc.Create("type","file"),bd.Style("display","none"),bc.HandlerImpl("click",function(c2){return function(){c2.value="";};}),bc.HandlerImpl("change",function(c2){return function(){return O.callFunction(c2,null,c1.actFunction);};})],[])])]),cX!==""?bo.singleDoc(cT,n.ofArray([{$:1,$0:cX}])):M.get_Empty()])]))});return cY==null?O.errDoc((function(c2){return function(c3){return c2("Action not found "+_6.toSafe(c3));};}(a.id))(cW)):cY.$0;};bo.inputLabel=function(cT,cU,cV,cW){var cX,cY,cZ;cX=(cY=(cZ=((bo.splitName())(cT))(cW),O.tryGetVar(cZ[0],cZ[1])),cY==null?null:{$:1,$0:M.Element("div",bo.getAttrs(cT,{$:0,$0:cU}),[M.Element("div",[bc.Create("class","input-group")],[M.Element("span",[bc.Create("class","input-group-addon")],[bo.getText(cT,{$:0,$0:cV})]),M.Input([bc.Create("class","form-control")],cY.$0.varVar)])])});return cX==null?O.errDoc((function(c0){return function(c1){return c0("Var not found "+_6.toSafe(c1));};}(a.id))(cW)):cX.$0;};bo.none=function(cT){return M.Element("span",[],[]);};bo.processLines=function(cT,cU){function cV(cW){var cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8;cX=q.tryHead(cW);return cX!=null&&cX.$==1?(cY=cX.$0,(cZ=bo.splitTokens(cY),cZ.$==1&&(c1=bo.Identifier(cZ.$0),c1!=null&&c1.$==1&&(cZ.$1.$==1&&(bo.Vertical(cZ.$1.$0).$==2&&(cZ.$1.$1.$==0&&(c0=c1.$0,true)))))?(c2=bo.getExtraLines(function(c9){return A.StartsWith(A.Trim(c9),"|");},cW),cV((cB.createLayoutDefinitions(c0,cB.extractNodes(c2[0])))[1].concat(c2[1]))):cZ.$==0?cV(B.array(cW,{$:1,$0:1},null)):(c3=bo.getExtraLines(function(c9){return A.StartsWith(A.Trim(c9),":");},cW),(c4=c3[1],(c5=c3[0],s.length(c5)>0?(c6=bo.createLines(q.nth(0,A.SplitChars(cY,[" "],1)),1,[],[],1,c5),(c7=c6[0],(c8=c6[1],cV(s.ofSeq(q.delay(function(){return q.append(c8,q.delay(function(){return q.append([cY+" "+A.concat(" ",c7)],q.delay(function(){return c4;}));}));})))))):s.ofSeq(q.delay(function(){var c9;return q.append((c9=cT(cY),c9!=null&&c9.$==1?[c9.$0]:[]),q.delay(function(){return cV(c4);}));}))))))):[];}return cV(cU);};bo.splitTokens=function(cT){return bo.doubleQuote(n.ofSeq(q.collect(a.id,q.mapi(function(cU,cV){var cW;return cU%2===1?[{$:0,$0:cV}]:cV===""?[{$:0,$0:"\""}]:(cW=A.Trim(cV),cW===""?[]:s.map(function(cX){return{$:1,$0:cX};},A.SplitChars(cW,[" "],1)));},z.splitByChar("\"",cT)))));};bo.Measures$1=function(cT){var cU,cV,cW,cX,cY,cZ,c0,c1,c2;return cT.$==1?(cU=z.splitByChar("-",cT.$0),!D.Equals(cU,null)&&cU.length===1&&(cW=(C.Double())(s.get(cU,0)),cW!=null&&cW.$==1&&(cV=cW.$0,true))?{$:1,$0:new cC({$:0,$0:cV,$1:true})}:!D.Equals(cU,null)&&cU.length===2&&(s.get(cU,0)===""&&(cY=(C.Double())(s.get(cU,1)),cY!=null&&cY.$==1&&(cX=cY.$0,true)))?{$:1,$0:new cC({$:0,$0:cX,$1:false})}:!D.Equals(cU,null)&&cU.length===3&&(c0=(C.Double())(s.get(cU,0)),c0!=null&&c0.$==1&&(c1=(C.Double())(s.get(cU,1)),c1!=null&&c1.$==1&&(c2=(C.Double())(s.get(cU,2)),c2!=null&&c2.$==1&&(cZ=[c2.$0,c0.$0,c1.$0],true))))?{$:1,$0:new cC({$:1,$0:cZ[1],$1:cZ[2],$2:cZ[0]})}:null):null;};bo.Vertical=function(cT){var cU,cV,cW,cX,cY,cZ;return cT.$==1&&(cT.$0==="vertical"&&(cU=cT.$0,true))?{$:0,$0:null}:cT.$==1&&(cT.$0==="horizontal"&&(cV=cT.$0,true))?{$:1,$0:null}:cT.$==1&&(cT.$0==="layout"&&(cW=cT.$0,true))?{$:2,$0:null}:cT.$==1&&(cT.$0==="grid"&&(cX=cT.$0,true))?{$:3,$0:null}:cT.$==1&&(cT.$0==="template"&&(cY=cT.$0,true))?{$:4,$0:null}:(cZ=bo.Identifier(cT),cZ!=null&&cZ.$==1?{$:5,$0:cZ.$0}:{$:6,$0:null});};bo.entryDoc=function(cT,cU){return{$:1,$0:{$:2,$0:O.newDoc(cT,H.Create(function(){return cU;}))}};};bo.createSplitterM=function(){p.$cctor();return p.createSplitterM;};bo.PlugIn=function(cT){var cU,cV,cW,cX,cY;return cT.$==1&&(cT.$0==="PlugIn"&&(cU=cT.$0,true))?{$:0,$0:null}:cT.$==1&&(cT.$0==="Button"&&(cV=cT.$0,true))?{$:1,$0:null}:cT.$==1&&(cT.$0==="input"&&(cW=cT.$0,true))?{$:2,$0:null}:cT.$==1&&(cT.$0==="textarea"&&(cX=cT.$0,true))?{$:3,$0:null}:cT.$==1&&(cT.$0==="select"&&(cY=cT.$0,true))?{$:4,$0:null}:{$:5,$0:null};};bo.createButtonM=function(){p.$cctor();return p.createButtonM;};bo.createInputM=function(){p.$cctor();return p.createInputM;};bo.createTextAreaM=function(){p.$cctor();return p.createTextAreaM;};bo.Var=function(cT){var cU,cV,cW,cX,cY,cZ;return cT.$==1&&(cT.$0==="Var"&&(cU=cT.$0,true))?{$:0,$0:null}:cT.$==1&&(cT.$0==="Doc"&&(cV=cT.$0,true))?{$:1,$0:null}:cT.$==1&&(cT.$0==="View"&&(cW=cT.$0,true))?{$:2,$0:null}:cT.$==1&&(cT.$0==="ViewJS"&&(cX=cT.$0,true))?{$:3,$0:null}:cT.$==1&&(cT.$0==="Docs"&&(cY=cT.$0,true))?{$:4,$0:null}:cT.$==1&&(cT.$0==="Action"&&(cZ=cT.$0,true))?{$:5,$0:null}:{$:6,$0:null};};bo.entryVar=function(cT,cU){return{$:1,$0:{$:0,$0:O.newVar(cT,cU)}};};bo.createVarM=function(){p.$cctor();return p.createVarM;};bo.createDocM=function(){p.$cctor();return p.createDocM;};bo.entryView=function(cT,cU){return{$:1,$0:{$:1,$0:O.newViw(cT,cU)}};};bo.createViewM=function(){p.$cctor();return p.createViewM;};bo.createTemplateM=function(){p.$cctor();return p.createTemplateM;};bo.createConcatM=function(){p.$cctor();return p.createConcatM;};bo.entryAct=function(cT,cU){return{$:1,$0:{$:3,$0:O.newActF(cT,cU)}};};bo.createActionM=function(){p.$cctor();return p.createActionM;};bo.createElementM=function(){p.$cctor();return p.createElementM;};bo.getText=function(cT,cU){var cV,cW,cX,cY,cZ,c0,c1,c2,c3;cV=bo.Identifier(cU);return cV!=null&&cV.$==1?(cW=cV.$0,(cX=((bo.splitName())(cT))(cW),(cY=cX[0],(cZ=cX[1],(c0=(c1=O.tryGetViw(cY,cZ),c1==null?null:{$:1,$0:M.TextView(c1.$0.viwView)}),c0==null?(c2=(c3=O.tryGetVar(cY,cZ),c3==null?null:{$:1,$0:M.TextView(c3.$0.varVar.get_View())}),c2==null?M.TextNode(cW):c2.$0):c0.$0))))):M.TextNode(bo.S(cU));};bo.singleDoc=function(cT,cU){return M.EmbedView(T.Map(function(cV){var cW;return cV.$==1&&(cV.$1.$==0&&(cW=cV.$0,true))?cW:O.errDoc((function(cX){return function(cY){return cX("expected exactly 1 element "+_6.printList(function(cZ){return _1.p$27(cZ);},cY));};}(a.id))(cU));},T.Map(function(){return bo.getAllDocs(cT,cU);},bo.currentViewTriggger())));};bo.getExtraLines=function(cT,cU){var cV,cW,cX,cY;cV=(cW=(cX=q.tryFindIndex(function(cZ){return A.Trim(cZ)!==""&&!cT(cZ);},q.skip(1,cU)),cX==null?null:{$:1,$0:1+cX.$0}),(cY=s.length(cU),cW==null?cY:cW.$0));return[B.array(cU,{$:1,$0:1},{$:1,$0:cV-1}),B.array(cU,{$:1,$0:cV},null)];};bo.createLines=function(cT,cU,cV,cW,cX,cY){var cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8;cZ=A.replicate(cU,":");c0=":"+cZ;c1=q.tryHead(cY);return c1!=null&&c1.$==1?(c2=z.StartsWith(cZ,A.Trim(c1.$0)),c2!=null&&c2.$==1?(c3=c2.$0,(c4=bo.getExtraLines(function(c9){return A.StartsWith(A.Trim(c9),c0);},cY),(c5=(((cO.Curried3(function(c9,c_,c$){return c9("_"+_6.toSafe(c_)+"_"+a.String(c$));}))(a.id))(cT))(cX),(c6=bo.createLines(c5,cU+1,[],[],1,c4[0]),(c7=c6[1],(c8=c6[0],bo.createLines(cT,cU,s.ofSeq(q.delay(function(){return q.append(cV,q.delay(function(){return[c5];}));})),s.ofSeq(q.delay(function(){return q.append(cW,q.delay(function(){return q.append(c7,q.delay(function(){return[c5+" "+c3+" "+A.concat(" ",c8)];}));}));})),cX+1,c4[1]))))))):[cV,cW]):[cV,cW];};bo.doubleQuote=function(cT){var cU,cV,cW;switch(cT.$==1?cT.$0.$==1?A.StartsWith(cT.$0.$0,"//")?(cU=cT.$0.$0,1):2:2:0){case 0:return r.Empty;case 1:return r.Empty;case 2:switch(cT.$==1?cT.$0.$==0?cT.$1.$==1?cT.$1.$0.$==0?cT.$1.$0.$0==="\""?cT.$1.$1.$==0?(cW=cT.$0.$0,1):cT.$1.$1.$0.$==0?(cW=[cT.$1.$1.$1,cT.$0.$0,cT.$1.$1.$0.$0],0):(cW=[cT.$0,cT.$1],2):(cW=[cT.$0,cT.$1],2):(cW=[cT.$0,cT.$1],2):(cW=[cT.$0,cT.$1],2):(cW=[cT.$0,cT.$1],2):3){case 0:cV=bo.doubleQuote(new r({$:1,$0:{$:0,$0:cW[1]+"\""+cW[2]},$1:cW[0]}));break;case 1:cV=n.ofArray([{$:0,$0:cW}]);break;case 2:cV=new r({$:1,$0:cW[0],$1:bo.doubleQuote(cW[1])});break;case 3:throw new cG.New("D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\LayoutEngine\\src\\LayoutEngine.fs",2600,38);}return cV;}};bp.aV=function(){p.$cctor();return p.aV;};bp.currentPlugInNameDef=function(){p.$cctor();return p.currentPlugInNameDef$1;};bp.name=function(){p.$cctor();return p.name;};bp.checkName=function(cT){return cT===B.string("World",{$:1,$0:0},{$:1,$0:cT.length-1})||cT.length<=1?"<---- Please enter your name":"";};bp.enterName=function(){p.$cctor();return p.enterName;};bp.concat=function(cT,cU){return(((cO.Curried3(function(cV,cW,cX){return cV("Concat("+a.String(cW)+", "+cX.toFixed(6)+")");}))(a.id))(cT))(cU);};bp.main0=function(){p.$cctor();return p.main0;};bp.sayHello=function(){p.$cctor();return p.sayHello;};bp.main1=function(){p.$cctor();return p.main1;};bp.main=function(){p.$cctor();return p.main;};bp.appFwk=function(){p.$cctor();return p.appFwk;};bp.main2=function(){p.$cctor();return p.main2;};bp.pName=function(){p.$cctor();return p.pName;};bp.aString=function(){p.$cctor();return p.aString;};bp.split=function(){p.$cctor();return p.split;};bp.callDocPFn=function(cT,cU){var cV;cV=bS.run(cT,cU);return O.makeAViewDoc(function(){var cW;cW=cV.f.$==0?cV.p.$==1?{$:0,$0:T.Apply(cV.f.$0,T.Const(cV.p.$0))}:{$:0,$0:T.Apply(cV.f.$0,cV.p.$0)}:cV.p.$==0?{$:0,$0:T.Apply(T.Const(cV.f.$0),cV.p.$0)}:{$:1,$0:cV.f.$0(cV.p.$0)};return cW.$==0?M.BindView(a.id,cW.$0):cW.$0;});};bp.split2=function(){p.$cctor();return p.split2;};bp.textValToTextType=function(cT){var cU;return(cT.$==3?(cU=cT.$0.$0,false):cT.$==4?(cU=cT.$0.$0,false):cT.$==1?(cU=cT.$0.$0,false):cT.$==2?(cU=cT.$0.$0,false):true)?{$:0,$0:cT.$0}:bp.itemRefToTextType(cU);};bp.itemRefToTextType=function(cT){return cT.$==1?{$:1,$0:(((cO.Curried3(function(cU,cV,cW){return cU(_6.toSafe(cV)+"."+_6.toSafe(cW));}))(a.id))(cT.$0))(cT.$1)}:{$:1,$0:cT.$0};};bp.currentPlugInNameD=function(){p.$cctor();return p.currentPlugInNameD$1;};bp.itemRefToString=function(cT){return cT.$==1?(((cO.Curried3(function(cU,cV,cW){return cU(_6.toSafe(cV)+"."+_6.toSafe(cW));}))(a.id))(cT.$0))(cT.$1):cT.$0;};bp.itemRefToAbsolute=function(cT){function cU(cW){return cW.$==1?[cW.$0,cW.$1]:[cT,cW.$0];}function cV(cW,cX){return(((cO.Curried3(function(cY,cZ,c0){return cY(_6.toSafe(cZ)+"."+_6.toSafe(c0));}))(a.id))(cW))(cX);}return function(cW){return cV.apply(null,cU(cW));};};bp.defVar=function(cT,cU,cV){return Q.Create$1(cV);};bp.defDocF=function(cT,cU,cV,cW){var cX,cY;cX=cV.$0;return O.run(cT,(cY=m.depend(),cY.Delay(function(){return cY.Bind(bp.currentPlugInNameD(),function(cZ){return cY.Bind(bp.getParam2D(),function(c0){var c1,c2,c3,c4;function c5(c6,c7){var c8,c9;return c7.$==1?c6.$==1?(c8=c7.$0,(c9=c6.$0,{$:0,$0:H.Create(function(){return c9(c0(c8));})})):c6.$==2?c5({$:1,$0:c6.$0(c0(c7.$0)),$1:c6.$2},c7.$1):c6.$==3?c5({$:2,$0:c6.$0(c0(c7.$0)),$1:c6.$2,$2:c6.$3},c7.$1):c6.$==4?c5({$:3,$0:c6.$0(c0(c7.$0)),$1:c6.$2,$2:c6.$3,$3:c6.$4},c7.$1):c6.$==5?c5({$:4,$0:c6.$0(c0(c7.$0)),$1:c6.$2,$2:c6.$3,$3:c6.$4,$4:c6.$5},c7.$1):{$:0,$0:c6.$0}:c6;}return cY.Return((c1=(c2=(c3=(c4=bp.itemRefToString(cX),((bo.splitName())(cZ))(c4)),O.tryGetDoc(c3[0],c3[1])),c2==null?null:{$:1,$0:c5(c2.$0.docDoc,cW)}),c1==null?{$:0,$0:H.Create(function(){return O.errDoc((function(c6){return function(c7){return c6("Missing doc: "+_1.p(c7));};}(a.id))(cX));})}:c1.$0));});});})));};bp.defAction=function(cT,cU,cV,cW){var cX,cY;cX=cV.$0;return O.run(cT,(cY=m.depend(),cY.Delay(function(){return cY.Bind(bp.currentPlugInNameD(),function(cZ){return cY.Bind(bp.getParamTextD(),function(c0){var c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd;c5=bp.itemRefToString(cX);c6=(c2=(O.splitName(cZ))(c5),O.tryGetAct(c2[0],c2[1]));if(c6==null)c1=null;else{c7=c6.$0;if(cW.$===0)c3=c7.actFunction;else{c8=c7.actFunction;switch(c8.$==1?cW.$==1?cW.$1.$==0?(c4=[c8.$0,cW.$0],0):3:3:c8.$==2?cW.$==1?cW.$1.$==0?(c4=[c8.$0,c8.$2,cW.$0],2):cW.$1.$1.$==0?(c4=[c8.$0,cW.$0,cW.$1.$0],1):3:3:3){case 0:c3=(c9=c4[0],(c_=c4[1],{$:0,$0:function(){(c0(c_))(c9);}}));break;case 1:c3=(c$=c4[0],(da=c4[1],(db=c4[2],{$:0,$0:function(){(c0(da))(function(de){(c0(db))(c$(de));});}})));break;case 2:c3=(dc=c4[0],(dd=c4[2],{$:1,$0:function(de){(c0(dd))(function(df){(dc(df))(de);});},$1:c4[1]}));break;case 3:c3={$:0,$0:function(){((((cO.Curried(function(de,df,dg,dh){return de("Parameters do not coincide for Action "+_6.toSafe(df)+" "+_6.printList(function(di){return _1.p$17(di);},dg)+" "+_2.p$1(dh));},4))(function(de){cR.log(de);}))(c5))(cW))(c7);}};break;}}c1={$:1,$0:c3};}return cY.Return(c1==null?{$:0,$0:function(){((function(de){return function(df){return de("Action Not Found "+_6.toSafe(df));};}(function(de){cR.log(de);}))(c5));}}:c1.$0);});});})));};bp.defButton=function(cT,cU,cV,cW,cX){return H.Create(function(){return O.errDocf(function(cY){return cY("Button deprecated use button \"click=@{Action}\"");});});};bp.defInput=function(cT,cU,cV,cW){return H.Create(function(){return O.errDocf(function(cX){return cX("input deprecated use AF.Input");});});};bp.defTextArea=function(cT,cU,cV,cW){return H.Create(function(){return O.errDocf(function(cX){return cX("TextArea deprecated use AF.TextArea");});});};bp.defElement=function(cT,cU,cV,cW,cX){var cY;return O.run(cT,(cY=m.depend(),cY.Delay(function(){return cY.Bind(bp.nodeRefToDocD(),function(cZ){return cY.Bind(O.extractAtsD(),function(c0){return cY.Bind(bp.getParam2D(),function(c1){return cY.Return(O.makeAViewDocL(function(){return M.Element(cV,c0(c1(cW)),q.map(cZ,cX));}));});});});})));};bp.defConcat=function(cT,cU,cV){var cW;return O.run(cT,(cW=m.depend(),cW.Delay(function(){return cW.Bind(bp.nodeRefToDocD(),function(cX){return cW.Return(O.makeAViewDocL(function(){return M.Concat(q.map(cX,cV));}));});})));};bp.defView=function(cT,cU,cV){var cW;return O.run(cT,(cW=m.depend(),cW.Delay(function(){return cW.Bind(bp.currentPlugInNameD(),function(){return cW.Bind(bp.getParam2D(),function(cX){return cW.Bind(O.extractTextD(),function(cY){return cW.Return(T.Bind(function(){function cZ(c0){return A.concat("",c0);}return T.Map(function(c0){return cZ(s.ofSeq(c0));},bi.traverseSeq(function(c0){return cY(cX(c0));},cV));},O.baseView()));});});});})));};bp.defViewJS=function(cT,cU,cV){var cW;return O.run(cT,(cW=m.depend(),cW.Delay(function(){return cW.Bind(bp.currentPlugInNameD(),function(){return cW.Bind(bp.getParamD(),function(cX){return cW.Return(T.Bind(function(){try{return T.Map(function(cY){try{return!D.Equals(cY,null)&&cY.length===0?"No JS function specified":!D.Equals(cY,null)&&cY.length===1?a.String(a["eval"](s.get(cY,0))):a.String(a["eval"](s.get(cY,0)).apply(null,B.array(cY,{$:1,$0:1},null)));}catch(cZ){return cZ.message;}},T.Map(s.ofSeq,bi.traverseSeq(cX,cV)));}catch(cY){return T.Const(cY.message);}},O.baseView()));});});})));};bp.defSplitter=function(cT,cU,cV,cW,cX,cY){var cZ,c0,c1;cZ=cX.$0;c0=cY.$0;return O.run(cT,(c1=m.depend(),c1.Delay(function(){return c1.Bind(_5.getDocFromTextTypesD(),function(c2){return c1.Return(H.Create(function(){function c3(c4){return O.makeAViewDoc(function(){return c2(n.ofArray([bp.itemRefToTextType(c4)]));});}return cW.$==1?bo.variableSplitter(cV,cW.$0,cW.$1,cW.$2,c3(cZ),c3(c0)):bo.fixedSplitter(cV,cW.$0,cW.$1,c3(cZ),c3(c0));}));});})));};bp.getParam2D=function(){p.$cctor();return p.getParam2D;};bp.getParamTextD=function(){p.$cctor();return p.getParamTextD;};bp.nodeRefToDocD=function(){p.$cctor();return p.nodeRefToDocD;};bp.getParamD=function(){p.$cctor();return p.getParamD;};bq.New=function(cT){return{r:cT};};k.delayed=function(cT,cU){var cV;cV=[null];return function(cW){var cX,cY;cX=cV[0];cX==null?void 0:cX.$0.Cancel$1();cV[0]={$:1,$0:new bW.New()};b$.Start((cY=null,b$.Delay(function(){return b$.Bind(b$.Sleep(cT),function(){cU(cW);return b$.Zero();});})),{$:1,$0:cV[0].$0});};};k["String.Left"]=function(cT,cU){return cU<0?k["String.Substring2"](cT,0,cT.length+cU):k["String.Substring2"](cT,0,cU);};k.print=function(cT){if(typeof cT=="string")((function(cU){return function(cV){return cU(_6.toSafe(cV));};}(function(cU){cR.log(cU);}))(cT));else((function(cU){return function(cV){return cU(_6.prettyPrint(cV));};}(function(cU){cR.log(cU);}))(cT));};k["String.Substring2"]=function(cT,cU,cV){var cW,cX;while(true){if(cV<=0)return"";else if(cU>=cT.length)return"";else if(cU<0){cW=cU;cU=0;cV=cV+cW;}else return A.Substring(cT,cU,(cX=cT.length-cU,D.Compare(cV,cX)===-1?cV:cX));}};br.New=function(cT,cU){return{varName:cT,varVar:cU};};bs.New=function(cT,cU){return{viwName:cT,viwView:cU};};bt.Get=function(cT){return cT instanceof a.Array?bt.ArrayEnumerator(cT):D.Equals(typeof cT,"string")?bt.StringEnumerator(cT):cT.GetEnumerator();};bt.ArrayEnumerator=function(cT){return new bH.New(0,null,function(cU){var cV;cV=cU.s;return cV<s.length(cT)&&(cU.c=s.get(cT,cV),cU.s=cV+1,true);},void 0);};bt.StringEnumerator=function(cT){return new bH.New(0,null,function(cU){var cV;cV=cU.s;return cV<cT.length&&(cU.c=cT[cV],cU.s=cV+1,true);},void 0);};bt.Get0=function(cT){return cT instanceof a.Array?bt.ArrayEnumerator(cT):D.Equals(typeof cT,"string")?bt.StringEnumerator(cT):"GetEnumerator0"in cT?cT.GetEnumerator0():cT.GetEnumerator();};bu.TryParse=function(cT){var cU;cU=cP.parse(cT);return a.isNaN(cU)?null:{$:1,$0:cU};};E.TryParse=function(cT,cU,cV,cW){var cX,cY;cX=+cT;cY=cX===cX-cX%1&&cX>=cU&&cX<=cV;cY?cW.set(cX):void 0;return cY;};bw.New=function(cT,cU,cV){return{c:cT,v:cU,f:cV};};bx.New=function(cT,cU){return{qryName:cT,qryFunction:cU};};by=L.ConcreteVar=cO.Class({get_View:function(){return this.view;},Set:function(cT){if(this.isConst)(function(cU){return cU("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal");}(function(cU){cR.log(cU);}));else{bz.Obsolete(this.snap);this.current=cT;this.snap=bz.New({$:2,$0:cT,$1:[]});}},Get:function(){return this.current;},Update:function(cT){this.Set(cT(this.Get()));},UpdateMaybe:function(cT){var cU;cU=cT(this.Get());cU!=null&&cU.$==1?this.Set(cU.$0):void 0;}},S,by);by.New=cO.Ctor(function(cT,cU,cV){var cW;cW=this;S.New.call(this);this.isConst=cT;this.current=cV;this.snap=cU;this.view=function(){return cW.snap;};this.id=bR.Int();},by);bz.Map2=function(cT,cU,cV){var cW,cX,cY;function cZ(c0){var c1,c2,c3;if(!(c1=cY.s,c1!=null&&c1.$==0||c1!=null&&c1.$==2)){c2=bz.ValueAndForever(cU);c3=bz.ValueAndForever(cV);c2!=null&&c2.$==1?c3!=null&&c3.$==1?c2.$0[1]&&c3.$0[1]?bz.MarkForever(cY,cT(c2.$0[0],c3.$0[0])):bz.MarkReady(cY,cT(c2.$0[0],c3.$0[0])):void 0:void 0;}}cW=cU.s;cX=cV.s;return cW!=null&&cW.$==0?cX!=null&&cX.$==0?bz.New({$:0,$0:cT(cW.$0,cX.$0)}):bz.Map2Opt1(cT,cW.$0,cV):cX!=null&&cX.$==0?bz.Map2Opt2(cT,cX.$0,cU):(cY=bz.New({$:3,$0:[],$1:[]}),(bz.When(cU,cZ,cY),bz.When(cV,cZ,cY),cY));};bz.Map=function(cT,cU){var cV,cW;cV=cU.s;return cV!=null&&cV.$==0?bz.New({$:0,$0:cT(cV.$0)}):(cW=bz.New({$:3,$0:[],$1:[]}),(bz.When(cU,function(cX){bz.MarkDone(cW,cU,cT(cX));},cW),cW));};bz.WhenRun=function(cT,cU,cV){var cW;cW=cT.s;cW==null?cV():cW!=null&&cW.$==2?(cW.$1.push(cV),cU(cW.$0)):cW!=null&&cW.$==3?(cW.$0.push(cU),cW.$1.push(cV)):cU(cW.$0);};bz.WhenObsoleteRun=function(cT,cU){var cV;cV=cT.s;cV==null?cU():cV!=null&&cV.$==2?cV.$1.push(cU):cV!=null&&cV.$==3?cV.$1.push(cU):void 0;};bz.Map2Opt1=function(cT,cU,cV){return bz.Map(function(cW){return cT(cU,cW);},cV);};bz.Map2Opt2=function(cT,cU,cV){return bz.Map(function(cW){return cT(cW,cU);},cV);};bz.ValueAndForever=function(cT){var cU;cU=cT.s;return cU!=null&&cU.$==0?{$:1,$0:[cU.$0,true]}:cU!=null&&cU.$==2?{$:1,$0:[cU.$0,false]}:null;};bz.MarkForever=function(cT,cU){var cV,cW,cX,cY;cV=cT.s;if(cV!=null&&cV.$==3){cT.s={$:0,$0:cU};cW=cV.$0;for(cX=0,cY=s.length(cW)-1;cX<=cY;cX++)(s.get(cW,cX))(cU);}else void 0;};bz.MarkReady=function(cT,cU){var cV,cW,cX,cY;cV=cT.s;if(cV!=null&&cV.$==3){cT.s={$:2,$0:cU,$1:cV.$1};cW=cV.$0;for(cX=0,cY=s.length(cW)-1;cX<=cY;cX++)(s.get(cW,cX))(cU);}else void 0;};bz.When=function(cT,cU,cV){var cW;cW=cT.s;cW==null?bz.Obsolete(cV):cW!=null&&cW.$==2?(bz.EnqueueSafe(cW.$1,cV),cU(cW.$0)):cW!=null&&cW.$==3?(cW.$0.push(cU),bz.EnqueueSafe(cW.$1,cV)):cU(cW.$0);};bz.MarkDone=function(cT,cU,cV){var cW;if(cW=cU.s,cW!=null&&cW.$==0)bz.MarkForever(cT,cV);else bz.MarkReady(cT,cV);};bz.Join=function(cT){var cU;cU=bz.New({$:3,$0:[],$1:[]});bz.When(cT,function(cV){var cW;cW=cV();bz.When(cW,function(cX){var cY,cZ;if((cY=cW.s,cY!=null&&cY.$==0)&&(cZ=cT.s,cZ!=null&&cZ.$==0))bz.MarkForever(cU,cX);else bz.MarkReady(cU,cX);},cU);},cU);return cU;};bz.EnqueueSafe=function(cT,cU){var cV,cW,cX,cY;cT.push(cU);if(cT.length%20===0){cV=cT.slice(0);cA.Clear(cT);for(cW=0,cX=s.length(cV)-1;cW<=cX;cW++){cY=s.get(cV,cW);typeof cY=="object"?function(cZ){if(cZ.s)cT.push(cZ);}(cY):function(cZ){cT.push(cZ);}(cY);}}else void 0;};bz.TryGet=function(cT){var cU,cV;cU=cT.s;return(cU!=null&&cU.$==0?(cV=cU.$0,true):cU!=null&&cU.$==2&&(cV=cU.$0,true))?{$:1,$0:cV}:null;};bz.Map2Unit=function(cT,cU){var cV,cW,cX;function cY(){var cZ,c0,c1;if(!(cZ=cX.s,cZ!=null&&cZ.$==0||cZ!=null&&cZ.$==2)){c0=bz.ValueAndForever(cT);c1=bz.ValueAndForever(cU);c0!=null&&c0.$==1?c1!=null&&c1.$==1?c0.$0[1]&&c1.$0[1]?bz.MarkForever(cX,null):bz.MarkReady(cX,null):void 0:void 0;}}cV=cT.s;cW=cU.s;return cV!=null&&cV.$==0?cW!=null&&cW.$==0?bz.New({$:0,$0:null}):cU:cW!=null&&cW.$==0?cT:(cX=bz.New({$:3,$0:[],$1:[]}),(bz.When(cT,cY,cX),bz.When(cU,cY,cX),cX));};bz.Copy=function(cT){var cU,cV,cW;cU=cT.s;return cU==null?cT:cU!=null&&cU.$==2?(cV=bz.New({$:2,$0:cU.$0,$1:[]}),(bz.WhenObsolete(cT,cV),cV)):cU!=null&&cU.$==3?(cW=bz.New({$:3,$0:[],$1:[]}),(bz.When(cT,function(cX){bz.MarkDone(cW,cT,cX);},cW),cW)):cT;};bz.WhenObsolete=function(cT,cU){var cV;cV=cT.s;cV==null?bz.Obsolete(cU):cV!=null&&cV.$==2?bz.EnqueueSafe(cV.$1,cU):cV!=null&&cV.$==3?bz.EnqueueSafe(cV.$1,cU):void 0;};bz.Map3=function(cT,cU,cV,cW){var cX,cY,cZ,c0;function c1(c2){var c3,c4,c5,c6;if(!(c3=c0.s,c3!=null&&c3.$==0||c3!=null&&c3.$==2)){c4=bz.ValueAndForever(cU);c5=bz.ValueAndForever(cV);c6=bz.ValueAndForever(cW);c4!=null&&c4.$==1?c5!=null&&c5.$==1?c6!=null&&c6.$==1?c4.$0[1]&&c5.$0[1]&&c6.$0[1]?bz.MarkForever(c0,cT(c4.$0[0],c5.$0[0],c6.$0[0])):bz.MarkReady(c0,cT(c4.$0[0],c5.$0[0],c6.$0[0])):void 0:void 0:void 0;}}cX=cU.s;cY=cV.s;cZ=cW.s;return cX!=null&&cX.$==0?cY!=null&&cY.$==0?cZ!=null&&cZ.$==0?bz.New({$:0,$0:cT(cX.$0,cY.$0,cZ.$0)}):bz.Map3Opt1(cT,cX.$0,cY.$0,cW):cZ!=null&&cZ.$==0?bz.Map3Opt2(cT,cX.$0,cZ.$0,cV):bz.Map3Opt3(cT,cX.$0,cV,cW):cY!=null&&cY.$==0?cZ!=null&&cZ.$==0?bz.Map3Opt4(cT,cY.$0,cZ.$0,cU):bz.Map3Opt5(cT,cY.$0,cU,cW):cZ!=null&&cZ.$==0?bz.Map3Opt6(cT,cZ.$0,cU,cV):(c0=bz.New({$:3,$0:[],$1:[]}),(bz.When(cU,c1,c0),bz.When(cV,c1,c0),bz.When(cW,c1,c0),c0));};bz.Sequence=function(cT){var cU,cV,cW;function cX(cY){var cZ;if(cW[0]===0){cZ=s.map(function(c0){var c1;c1=c0.s;return c1!=null&&c1.$==0?c1.$0:c1!=null&&c1.$==2?c1.$0:h.FailWith("value not found by View.Sequence");},cU);s.forall(function(c0){var c1;c1=c0.s;return c1!=null&&c1.$==0;},cU)?bz.MarkForever(cV,cZ):bz.MarkReady(cV,cZ);}else cW[0]--;}cU=s.ofSeq(cT);return cU.length==0?bz.New({$:0,$0:[]}):(cV=bz.New({$:3,$0:[],$1:[]}),(cW=[s.length(cU)-1],(s.iter(function(cY){bz.When(cY,cX,cV);},cU),cV)));};bz.Map3Opt1=function(cT,cU,cV,cW){return bz.Map(function(cX){return cT(cU,cV,cX);},cW);};bz.Map3Opt2=function(cT,cU,cV,cW){return bz.Map(function(cX){return cT(cU,cX,cV);},cW);};bz.Map3Opt3=function(cT,cU,cV,cW){return bz.Map2(function(cX,cY){return cT(cU,cX,cY);},cV,cW);};bz.Map3Opt4=function(cT,cU,cV,cW){return bz.Map(function(cX){return cT(cX,cU,cV);},cW);};bz.Map3Opt5=function(cT,cU,cV,cW){return bz.Map2(function(cX,cY){return cT(cX,cU,cY);},cV,cW);};bz.Map3Opt6=function(cT,cU,cV,cW){return bz.Map2(function(cX,cY){return cT(cX,cY,cU);},cV,cW);};bA=L.FromView=cO.Class({get_View:function(){return this.view;},Set:function(cT){this.set(cT);},Get:function(){return this.current;},Update:function(cT){var cU;T.Get((cU=this.set,function(cV){return cU(cT(cV));}),this.view);},UpdateMaybe:function(cT){var cU;cU=this;T.Get(function(cV){var cW;cW=cT(cV);cW!=null&&cW.$==1?cU.set(cW.$0):void 0;},this.view);}},S,bA);bA.New=cO.Ctor(function(cT,cU){var cV,cW;cV=this;S.New.call(this);this.set=cU;this.id=bR.Int();this.current=(cW=T.TryGet(cT),cW==null?null:cW.$0);this.view=T.Map(function(cX){cV.current=cX;return cX;},cT);},bA);bB=be.List=cO.Class({GetEnumerator:function(){return bt.Get(this);},GetEnumerator0:function(){return bt.Get0(this);}},null,bB);bC=be.Dictionary=cO.Class({set_Item:function(cT,cU){this.set(cT,cU);},set:function(cT,cU){var cV,cW,cX,cY;cV=this;cW=this.hash(cT);cX=this.data[cW];cX==null?(this.count=this.count+1,this.data[cW]=new a.Array({K:cT,V:cU})):(cY=s.tryFindIndex(function(cZ){return cV.equals.apply(null,[(h.KeyValue(cZ))[0],cT]);},cX),cY==null?(this.count=this.count+1,cX.push({K:cT,V:cU})):cX[cY.$0]={K:cT,V:cU});},TryGetValue:function(cT,cU){var cV,cW,cX;cV=this;cW=this.data[this.hash(cT)];return cW==null?false:(cX=s.tryPick(function(cY){var cZ;cZ=h.KeyValue(cY);return cV.equals.apply(null,[cZ[0],cT])?{$:1,$0:cZ[1]}:null;},cW),cX!=null&&cX.$==1&&(cU.set(cX.$0),true));},Add:function(cT,cU){this.add(cT,cU);},Remove:function(cT){return this.remove(cT);},add:function(cT,cU){var cV,cW,cX;cV=this;cW=this.hash(cT);cX=this.data[cW];cX==null?(this.count=this.count+1,this.data[cW]=new a.Array({K:cT,V:cU})):(s.exists(function(cY){return cV.equals.apply(null,[(h.KeyValue(cY))[0],cT]);},cX)?bZ.alreadyAdded():void 0,this.count=this.count+1,cX.push({K:cT,V:cU}));},ContainsKey:function(cT){var cU,cV;cU=this;cV=this.data[this.hash(cT)];return cV==null?false:s.exists(function(cW){return cU.equals.apply(null,[(h.KeyValue(cW))[0],cT]);},cV);},get_Keys:function(){return new cr.New(this);},remove:function(cT){var cU,cV,cW,cX;cU=this;cV=this.hash(cT);cW=this.data[cV];return cW==null?false:(cX=s.filter(function(cY){return!cU.equals.apply(null,[(h.KeyValue(cY))[0],cT]);},cW),s.length(cX)<cW.length&&(this.count=this.count-1,this.data[cV]=cX,true));},get_Item:function(cT){return this.get(cT);},Clear:function(){this.data=[];this.count=0;},get:function(cT){var cU,cV;cU=this;cV=this.data[this.hash(cT)];return cV==null?bZ.notPresent():s.pick(function(cW){var cX;cX=h.KeyValue(cW);return cU.equals.apply(null,[cX[0],cT])?{$:1,$0:cX[1]}:null;},cV);},GetEnumerator:function(){return bt.Get0(this);},GetEnumerator0:function(){return bt.Get0(s.concat(bk.GetFieldValues(this.data)));}},t,bC);bC.New$5=cO.Ctor(function(){bC.New$6.call(this,[],D.Equals,D.Hash);},bC);bC.New$6=cO.Ctor(function(cT,cU,cV){var cW,cX;t.New.call(this);this.equals=cU;this.hash=cV;this.count=0;this.data=[];cW=bt.Get(cT);try{while(cW.MoveNext()){cX=cW.Current();this.set(cX.K,cX.V);}}finally{if(typeof cW=="object"&&"Dispose"in cW)cW.Dispose();}},bC);bD=be.HashSet=cO.Class({Add:function(cT){return this.add(cT);},Contains:function(cT){var cU;cU=this.data[this.hash(cT)];return cU==null?false:this.arrContains(cT,cU);},add:function(cT){var cU,cV;cU=this.hash(cT);cV=this.data[cU];return cV==null?(this.data[cU]=[cT],this.count=this.count+1,true):this.arrContains(cT,cV)?false:(cV.push(cT),this.count=this.count+1,true);},arrContains:function(cT,cU){var cV,cW,cX,cY;cV=true;cW=0;cY=cU.length;while(cV&&cW<cY)if(this.equals.apply(null,[cU[cW],cT]))cV=false;else cW=cW+1;return!cV;},ExceptWith:function(cT){var cU;cU=bt.Get(cT);try{while(cU.MoveNext())this.Remove(cU.Current());}finally{if(typeof cU=="object"&&"Dispose"in cU)cU.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(cT){var cU,cV,cW,cX;cU=0;cV=cs.concat(this.data);for(cW=0,cX=cV.length-1;cW<=cX;cW++)s.set(cT,cW,cV[cW]);},IntersectWith:function(cT){var cU,cV,cW,cX,cY;cU=new bD.New$4(cT,this.equals,this.hash);cV=cs.concat(this.data);for(cW=0,cX=cV.length-1;cW<=cX;cW++){cY=cV[cW];!cU.Contains(cY)?this.Remove(cY):void 0;}},Remove:function(cT){var cU;cU=this.data[this.hash(cT)];return cU==null?false:this.arrRemove(cT,cU)&&(this.count=this.count-1,true);},arrRemove:function(cT,cU){var cV,cW,cX,cY;cV=true;cW=0;cY=cU.length;while(cV&&cW<cY)if(this.equals.apply(null,[cU[cW],cT])){cU.splice.apply(cU,[cW,1]);cV=false;}else cW=cW+1;return!cV;},GetEnumerator:function(){return bt.Get(cs.concat(this.data));},GetEnumerator0:function(){return bt.Get(cs.concat(this.data));}},t,bD);bD.New$3=cO.Ctor(function(){bD.New$4.call(this,[],D.Equals,D.Hash);},bD);bD.New$4=cO.Ctor(function(cT,cU,cV){var cW;t.New.call(this);this.equals=cU;this.hash=cV;this.data=[];this.count=0;cW=bt.Get(cT);try{while(cW.MoveNext())this.add(cW.Current());}finally{if(typeof cW=="object"&&"Dispose"in cW)cW.Dispose();}},bD);bD.New$2=cO.Ctor(function(cT){bD.New$4.call(this,cT,D.Equals,D.Hash);},bD);bE.Box=a.id;bF.ofSeqNonCopying=function(cT){var cU,cV;if(cT instanceof a.Array)return cT;else if(cT instanceof r)return s.ofList(cT);else if(cT===null)return[];else{cU=[];cV=bt.Get(cT);try{while(cV.MoveNext())cU.push(cV.Current());return cU;}finally{if(typeof cV=="object"&&"Dispose"in cV)cV.Dispose();}}};bF.TreeReduce=function(cT,cU,cV){var cW;function cX(cY,cZ){var c0,c1;return cZ<=0?cT:cZ===1&&(cY>=0&&cY<cW)?s.get(cV,cY):(c1=cZ/2>>0,cU(cX(cY,c1),cX(cY+c1,cZ-c1)));}cW=s.length(cV);return cX(0,cW);};bF.MapTreeReduce=function(cT,cU,cV,cW){var cX;function cY(cZ,c0){var c1,c2;return c0<=0?cU:c0===1&&(cZ>=0&&cZ<cX)?cT(s.get(cW,cZ)):(c2=c0/2>>0,cV(cY(cZ,c2),cY(cZ+c2,c0-c2)));}cX=s.length(cW);return cY(0,cX);};bF.mapInPlace=function(cT,cU){var cV,cW;for(cV=0,cW=cU.length-1;cV<=cW;cV++)cU[cV]=cT(cU[cV]);return cU;};bH=bt.T=cO.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},t,bH);bH.New=cO.Ctor(function(cT,cU,cV,cW){t.New.call(this);this.s=cT;this.c=cU;this.n=cV;this.d=cW;},bH);T=L.View=cO.Class({},null,T);bI.EmptyAttr=function(){b0.$cctor();return b0.EmptyAttr;};bI.Dynamic=function(cT,cU){return new bc({$:1,$0:new b1.New(cT,cU)});};bI.Static=function(cT){return new bc({$:3,$0:cT});};bI.AppendTree=function(cT,cU){var cV;return cT===null?cU:cU===null?cT:(cV=new bc({$:2,$0:cT,$1:cU}),(bI.SetFlags(cV,bI.Flags(cT)|bI.Flags(cU)),cV));};bI.Insert=function(cT,cU){var cV,cW,cX;function cY(cZ){if(!(cZ===null))if(cZ!=null&&cZ.$==1)cV.push(cZ.$0);else if(cZ!=null&&cZ.$==2){cY(cZ.$0);cY(cZ.$1);}else if(cZ!=null&&cZ.$==3)cZ.$0(cT);else if(cZ!=null&&cZ.$==4)cW.push(cZ.$0);}cV=[];cW=[];cY(cU);cX=cV.slice(0);return cd.New(cT,bI.Flags(cU),cX,cW.length===0?null:{$:1,$0:function(cZ){q.iter(function(c0){c0(cZ);},cW);}});};bI.SetFlags=function(cT,cU){cT.flags=cU;};bI.Flags=function(cT){return cT!==null&&cT.hasOwnProperty("flags")?cT.flags:0;};bI.Updates=function(cT){return bF.MapTreeReduce(function(cU){return cU.NChanged();},T.Const(),T.Map2Unit,cT.DynNodes);};bI.Empty=function(cT){return cd.New(cT,0,[],null);};bI.HasExitAnim=function(cT){var cU;cU=2;return(cT.DynFlags&cU)===cU;};bI.GetExitAnim=function(cT){return bI.GetAnim(cT,function(cU,cV){return cU.NGetExitAnim(cV);});};bI.HasEnterAnim=function(cT){var cU;cU=1;return(cT.DynFlags&cU)===cU;};bI.GetEnterAnim=function(cT){return bI.GetAnim(cT,function(cU,cV){return cU.NGetEnterAnim(cV);});};bI.HasChangeAnim=function(cT){var cU;cU=4;return(cT.DynFlags&cU)===cU;};bI.GetChangeAnim=function(cT){return bI.GetAnim(cT,function(cU,cV){return cU.NGetChangeAnim(cV);});};bI.GetAnim=function(cT,cU){return ck.Concat(s.map(function(cV){return cU(cV,cT.DynElem);},cT.DynNodes));};bI.Sync=function(cT,cU){s.iter(function(cV){cV.NSync(cT);},cU.DynNodes);};bJ.OfSeq=function(cT){var cU;cU=s.ofSeq(q.distinct(cT));s.sortInPlace(cU);return bJ.Build(cU,0,cU.length-1);};bJ.Build=function(cT,cU,cV){var cW,cX,cY;return cV-cU+1<=0?null:(cW=(cU+cV)/2>>0,(cX=bJ.Build(cT,cU,cW-1),(cY=bJ.Build(cT,cW+1,cV),bJ.Branch(s.get(cT,cW),cX,cY))));};bJ.Contains=function(cT,cU){return!((bJ.Lookup(cT,cU))[0]==null);};bJ.Branch=function(cT,cU,cV){var cW,cX;return b2.New(cT,cU,cV,1+(cW=cU==null?0:cU.Height,(cX=cV==null?0:cV.Height,D.Compare(cW,cX)===1?cW:cX)),1+(cU==null?0:cU.Count)+(cV==null?0:cV.Count));};bJ.Lookup=function(cT,cU){var cV,cW,cX,cY;cV=[];cW=cU;cX=true;while(cX)if(cW==null)cX=false;else{cY=D.Compare(cT,cW.Node);cY===0?cX=false:cY===1?(cV.unshift([true,cW.Node,cW.Left]),cW=cW.Right):(cV.unshift([false,cW.Node,cW.Right]),cW=cW.Left);}return[cW,cV];};bJ.Enumerate=function(cT,cU){function cV(cW,cX){var cY;while(true)if(cW==null)return cX.$==1?{$:1,$0:[cX.$0[0],[cX.$0[1],cX.$1]]}:null;else if(cT){cY=cW;cW=cY.Right;cX=new r({$:1,$0:[cY.Node,cY.Left],$1:cX});}else{cY=cW;cW=cY.Left;cX=new r({$:1,$0:[cY.Node,cY.Right],$1:cX});}}return q.unfold(function(cW){return cV(cW[0],cW[1]);},[cU,r.Empty]);};bK.Filter=function(cT,cU){var cV;return new bf.New$1((cV=s.ofSeq(q.filter(cT,cU)),bJ.Build(cV,0,cV.length-1)));};bL.CreateElemNode=function(cT,cU,cV){var cW;bL.LinkElement(cT,cV);cW=bI.Insert(cT,cU);return b3.New(cW,cV,null,cT,bR.Int(),cO.GetOptional(cW.OnAfterRender));};bL.CreateTextNode=function(){return{Text:bT.CreateText(""),Dirty:false,Value:""};};bL.UpdateTextNode=function(cT,cU){cT.Value=cU;cT.Dirty=true;};bL.LinkElement=function(cT,cU){bL.InsertDoc(cT,cU,null);};bL.CreateEmbedNode=function(){return{Current:null,Dirty:false};};bL.UpdateEmbedNode=function(cT,cU){cT.Current=cU;cT.Dirty=true;};bL.InsertDoc=function(cT,cU,cV){var cW;return cU!=null&&cU.$==1?bL.InsertNode(cT,cU.$0.El,cV):cU!=null&&cU.$==2?(cW=cU.$0,(cW.Dirty=false,bL.InsertDoc(cT,cW.Current,cV))):cU==null?cV:cU!=null&&cU.$==4?bL.InsertNode(cT,cU.$0.Text,cV):cU!=null&&cU.$==5?bL.InsertNode(cT,cU.$0,cV):cU!=null&&cU.$==6?s.foldBack(function(cX,cY){return cX==null||cX.constructor===bG?bL.InsertDoc(cT,cX,cY):bL.InsertNode(cT,cX,cY);},cU.$0.Els,cV):bL.InsertDoc(cT,cU.$0,bL.InsertDoc(cT,cU.$1,cV));};bL.CreateRunState=function(cT,cU){return cu.New(cv.get_Empty(),bL.CreateElemNode(cT,bI.EmptyAttr(),cU));};bL.PerformAnimatedUpdate=function(cT,cU,cV){var cW;return ck.get_UseAnimations()?(cW=null,b$.Delay(function(){var cX,cY,cZ;cX=cv.FindAll(cV);cY=bL.ComputeChangeAnim(cU,cX);cZ=bL.ComputeEnterAnim(cU,cX);return b$.Bind(ck.Play(ck.Append(cY,bL.ComputeExitAnim(cU,cX))),function(){return b$.Bind(bL.SyncElemNodesNextFrame(cT,cU),function(){return b$.Bind(ck.Play(cZ),function(){cU.PreviousNodes=cX;return b$.Return(null);});});});})):bL.SyncElemNodesNextFrame(cT,cU);};bL.PerformSyncUpdate=function(cT,cU,cV){var cW;cW=cv.FindAll(cV);bL.SyncElemNode(cT,cU.Top);cU.PreviousNodes=cW;};bL.InsertNode=function(cT,cU,cV){bT.InsertAt(cT,cV,cU);return cU;};bL.LinkPrevElement=function(cT,cU){bL.InsertDoc(cT.parentNode,cU,cT);};bL.CreateDelimitedRunState=function(cT,cU,cV){return cu.New(cv.get_Empty(),bL.CreateDelimitedElemNode(cT,cU,bI.EmptyAttr(),cV));};bL.SyncElemNodesNextFrame=function(cT,cU){function cV(cW){a.requestAnimationFrame(function(){bL.SyncElemNode(cT,cU.Top);cW();});}return cl.BatchUpdatesEnabled()?b$.FromContinuations(function(cW,cX,cY){return cV.apply(null,[cW,cX,cY]);}):(bL.SyncElemNode(cT,cU.Top),b$.Return(null));};bL.ComputeExitAnim=function(cT,cU){return ck.Concat(s.map(function(cV){return bI.GetExitAnim(cV.Attr);},cv.ToArray(cv.Except(cU,cv.Filter(function(cV){return bI.HasExitAnim(cV.Attr);},cT.PreviousNodes)))));};bL.ComputeEnterAnim=function(cT,cU){return ck.Concat(s.map(function(cV){return bI.GetEnterAnim(cV.Attr);},cv.ToArray(cv.Except(cT.PreviousNodes,cv.Filter(function(cV){return bI.HasEnterAnim(cV.Attr);},cU)))));};bL.ComputeChangeAnim=function(cT,cU){var cV;function cW(cX){return bI.HasChangeAnim(cX.Attr);}cV=function(cX){return cv.Filter(cW,cX);};return ck.Concat(s.map(function(cX){return bI.GetChangeAnim(cX.Attr);},cv.ToArray(cv.Intersect(cV(cT.PreviousNodes),cV(cU)))));};bL.SyncElemNode=function(cT,cU){!cT?bL.SyncElement(cU):void 0;bL.Sync(cU.Children);bL.AfterRender(cU);};bL.InsertBeforeDelim=function(cT,cU){var cV,cW;cV=cT.parentNode;cW=self.document.createTextNode("");cV.insertBefore(cW,cT);bL.LinkPrevElement(cT,cU);return cW;};bL.CreateDelimitedElemNode=function(cT,cU,cV,cW){var cX,cY;cX=cT.parentNode;bL.LinkPrevElement(cU,cW);cY=bI.Insert(cX,cV);return b3.New(cY,cW,{$:1,$0:[cT,cU]},cX,bR.Int(),cO.GetOptional(cY.OnAfterRender));};bL.SyncElement=function(cT){function cU(cV){function cW(cX){var cY,cZ;return cX!=null&&cX.$==0?cW(cX.$0)||cW(cX.$1):cX!=null&&cX.$==2?(cY=cX.$0,cY.Dirty||cW(cY.Current)):cX!=null&&cX.$==6&&(cZ=cX.$0,cZ.Dirty||s.exists(cU,cZ.Holes));}return cW(cV.Children);}bI.Sync(cT.El,cT.Attr);cU(cT)?bL.DoSyncElement(cT):void 0;};bL.Sync=function(cT){var cU,cV;if(cT!=null&&cT.$==1)bL.SyncElemNode(false,cT.$0);else if(cT!=null&&cT.$==2)bL.Sync(cT.$0.Current);else if(cT==null);else if(cT!=null&&cT.$==5);else if(cT!=null&&cT.$==4){cU=cT.$0;cU.Dirty?(cU.Text.nodeValue=cU.Value,cU.Dirty=false):void 0;}else if(cT!=null&&cT.$==6){cV=cT.$0;s.iter(function(cW){bL.SyncElemNode(false,cW);},cV.Holes);s.iter(function(cW){bI.Sync(cW[0],cW[1]);},cV.Attrs);bL.AfterRender(cV);}else{bL.Sync(cT.$0);bL.Sync(cT.$1);}};bL.AfterRender=function(cT){var cU;cU=cO.GetOptional(cT.Render);cU!=null&&cU.$==1?(cU.$0(cT.El),cO.SetOptional(cT,"Render",null)):void 0;};bL.DoSyncElement=function(cT){var cU,cV,cW;function cX(cY,cZ){var c0,c1;return cY!=null&&cY.$==1?cY.$0.El:cY!=null&&cY.$==2?(c0=cY.$0,c0.Dirty?(c0.Dirty=false,bL.InsertDoc(cU,c0.Current,cZ)):cX(c0.Current,cZ)):cY==null?cZ:cY!=null&&cY.$==4?cY.$0.Text:cY!=null&&cY.$==5?cY.$0:cY!=null&&cY.$==6?(c1=cY.$0,(c1.Dirty?c1.Dirty=false:void 0,s.foldBack(function(c2,c3){return c2==null||c2.constructor===bG?cX(c2,c3):c2;},c1.Els,cZ))):cX(cY.$0,cX(cY.$1,cZ));}cU=cT.El;cK.Iter((cV=cT.El,function(cY){bT.RemoveNode(cV,cY);}),cK.Except(cK.DocChildren(cT),cK.Children(cT.El,cO.GetOptional(cT.Delimiters))));cX(cT.Children,(cW=cO.GetOptional(cT.Delimiters),cW!=null&&cW.$==1?cW.$0[1]:null));};q.contains=function(cT,cU){var cV,cW;cV=bt.Get(cU);try{cW=false;while(!cW&&cV.MoveNext())cW=D.Equals(cV.Current(),cT);return cW;}finally{if(typeof cV=="object"&&"Dispose"in cV)cV.Dispose();}};q.nonNegative=function(){return h.FailWith("The input must be non-negative.");};q.insufficient=function(){return h.FailWith("The input sequence has an insufficient number of elements.");};s.mapiInPlace=function(cT,cU){var cV,cW;for(cV=0,cW=cU.length-1;cV<=cW;cV++)cU[cV]=cT(cV,cU[cV]);return cU;};s.mapInPlace=function(cT,cU){var cV,cW;for(cV=0,cW=cU.length-1;cV<=cW;cV++)cU[cV]=cT(cU[cV]);};s.groupBy=function(cT,cU){var cV,cW,cX,cY,cZ,c0;cV=new bC.New$5();cW=[];for(cX=0,cY=s.length(cU)-1;cX<=cY;cX++){cZ=cU[cX];c0=cT(cZ);cV.ContainsKey(c0)?cV.get_Item(c0).push(cZ):(cW.push(c0),cV.Add(c0,[cZ]));}s.mapInPlace(function(c1){return[c1,cV.get_Item(c1)];},cW);return cW;};q.last=function(cT){var cU,cV;cU=bt.Get(cT);try{if(!cU.MoveNext())cV=q.insufficient();else{while(cU.MoveNext());cV=cU.Current();}return cV;}finally{if(typeof cU=="object"&&"Dispose"in cU)cU.Dispose();}};q.tryHead=function(cT){var cU;cU=bt.Get(cT);try{return cU.MoveNext()?{$:1,$0:cU.Current()}:null;}finally{if(typeof cU=="object"&&"Dispose"in cU)cU.Dispose();}};q.tryItem=function(cT,cU){var cV,cW,cX;if(cT<0)return null;else{cV=0;cW=bt.Get(cU);try{cX=true;while(cX&&cV<=cT)if(cW.MoveNext())cV=cV+1;else cX=false;return cX?{$:1,$0:cW.Current()}:null;}finally{if(typeof cW=="object"&&"Dispose"in cW)cW.Dispose();}}};bM=bn.WcSplitterT=cO.Class({connectedCallback:function(){var cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8;function c9(df){var dg,dh,di,dj;dg=c0?["padding-left","padding-right","grid-column-gap"]:["padding-top","padding-bottom","grid-row-gap"];dh=a.parseFloat("0"+cS(df.parentElement.parentElement).css(dg[0]));di=a.parseFloat("0"+cS(df.parentElement.parentElement).css(dg[1]));c3.Set(a.parseFloat("0"+cS(df.parentElement.parentElement).css(dg[2])));c2[0]=dh+di;dj=cT.getBoundingClientRect();return c0?cZ?[dj.width,dj.height]:[-dj.width,dj.height]:cZ?[dj.height,dj.width]:[-dj.height,dj.width];}function c_(df){return c0?df.clientX:df.clientY;}function c$(df){var dg,dh;dg=(c_(df)-c6[0])*100/c1[0][0]+c5[0];cY.Set((dh=D.Compare(cW,dg)===1?cW:dg,D.Compare(cX,dh)===-1?cX:dh));}function da(){if(c4[0]){c4[0]=false;self.removeEventListener("mousemove",c$,false);self.removeEventListener("mouseup",da,false);}}function db(df){var dg,dh;if(!c4[0]){c4[0]=true;c5[0]=cY.Get();c6[0]=c_(df);c1[0]=(dg=(dh=c7[0],dh==null?null:{$:1,$0:c9(dh.$0)}),dg==null?[100,500]:dg.$0);self.addEventListener("mousemove",c$,false);self.addEventListener("mouseup",da,false);df.preventDefault();}}function dc(df,dg,dh,di){return[(df-dg-dh)*di/100,(df-dg-dh)*(100-di)/100];}function dd(df,dg){return(((((cO.Curried(function(dh,di,dj,dk,dl){return dh(" "+di.toFixed(2)+"px "+dj.toFixed(2)+"px ; "+_6.toSafe(dk)+" : "+dl.toFixed(2)+"px; ");},5))(a.id))(df))(dg))(c0?"height":"width"))(c1[0][1]);}function de(){var df;df=c7[0];df==null?void 0:c1[0]=c9(df.$0);cY.Set(cY.Get());}if(!this.added){cT=this;cU=cT.attachShadow({mode:"open"});cV=self.document.createElement("div");cW=cT.hasAttribute("min")?a.parseFloat(cT.getAttribute("min")):4;cX=cT.hasAttribute("max")?a.parseFloat(cT.getAttribute("max")):96;cY=Q.Create$1(cT.hasAttribute("value")?a.parseFloat(cT.getAttribute("value")):50);cZ=!cT.hasAttribute("second");c0=cT.hasAttribute("vertical");c1=[[0,0]];c2=[0];c3=Q.Create$1(0);c4=[false];c5=[0];c6=[0];c7=[null];c8=(((((c0?bn.layoutVertical():bn.layoutHorizontal())(T.Map(function(df){var dg;dg=dc(c1[0][0],c3.Get(),c2[0],df);return dd.apply(null,dg);},cY.get_View())))(function(){b6.addResizeObserver(de,cT);de();}))(function(df){c7[0]={$:1,$0:df};de();}))(function(df){db(df);}))(T.Map(function(df){return function(dg){return df(_6.prettyPrint(dg)+"px");};}(a.id),c3.get_View()));bO.LoadLocalTemplates("");M.Run(cV,c8);cU.appendChild(cV.firstChild);this.added=true;}}},t,bM);bM.Constructor=function(){var cT,cU;cT=(cU=cQ.construct(self.HTMLElement,[],this.__proto__.constructor),cU);self.FsRootDll.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New.call(cT);return cT;};bM.New=cO.Ctor(function(){t.New.call(this);this.added=false;(function(cT){return cT("WcSplitterT initializer");}(function(cT){cR.log(cT);}));},bM);bO.LoadLocalTemplates=function(cT){!bO.LocalTemplatesLoaded()?(bO.set_LocalTemplatesLoaded(true),bO.LoadNestedTemplates(self.document.body,"")):void 0;bO.LoadedTemplates().set_Item(cT,bO.LoadedTemplateFile(""));};bO.NamedTemplate=function(cT,cU,cV){var cW,cX;cW=(cX=null,[bO.LoadedTemplateFile(cT).TryGetValue(cU==null?"":cU.$0,{get:function(){return cX;},set:function(cY){cX=cY;}}),cX]);return cW[0]?bO.ChildrenTemplate(cW[1].cloneNode(true),cV):(cR.warn("Local template doesn't exist",cU),M.get_Empty());};bO.LocalTemplatesLoaded=function(){ce.$cctor();return ce.LocalTemplatesLoaded;};bO.set_LocalTemplatesLoaded=function(cT){ce.$cctor();ce.LocalTemplatesLoaded=cT;};bO.LoadNestedTemplates=function(cT,cU){var cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9;function cV(c_){var c$,da;if(!cW.ContainsKey(c_)){c$=(da=null,[cX.TryGetValue(c_,{get:function(){return da;},set:function(db){da=db;}}),da]);c$[0]?(c9.Add(c_),cX.Remove(c_),bO.PrepareTemplateStrict(cU,{$:1,$0:c_},c$[1][0],{$:1,$0:c$[1][1]},{$:1,$0:cV})):cR.warn(c9.Contains(c_)?"Encountered loop when instantiating "+c_:"Local template does not exist: "+c_);}}cW=bO.LoadedTemplateFile(cU);cX=new bC.New$5();cY=cT.querySelectorAll("[ws-template]");for(cZ=0,c0=cY.length-1;cZ<=c0;cZ++){c1=cY[cZ];c2=c1.getAttribute("ws-template").toLowerCase();c1.removeAttribute("ws-template");cX.set_Item(c2,[[c1],bO.FakeRootSingle(c1)]);}c3=cT.querySelectorAll("[ws-children-template]");for(c4=0,c5=c3.length-1;c4<=c5;c4++){c6=c3[c4];c7=c6.getAttribute("ws-children-template").toLowerCase();c6.removeAttribute("ws-children-template");cX.set_Item(c7,(c8=bT.ChildrenArray(c6),[c8,bO.FakeRoot(c8)]));}c9=new bD.New$3();while(cX.count>0)cV(q.head(cX.get_Keys()));};bO.LoadedTemplates=function(){ce.$cctor();return ce.LoadedTemplates;};bO.LoadedTemplateFile=function(cT){var cU,cV,cW;cU=(cV=null,[bO.LoadedTemplates().TryGetValue(cT,{get:function(){return cV;},set:function(cX){cV=cX;}}),cV]);return cU[0]?cU[1]:(cW=new bC.New$5(),(bO.LoadedTemplates().set_Item(cT,cW),cW));};bO.ChildrenTemplate=function(cT,cU){var cV,cW,cX,cY,cZ;cV=bO.InlineTemplate(cT,cU);cW=cV[1];cX=cV[0];cY=cX.Els;return!D.Equals(cY,null)&&cY.length===1&&(s.get(cY,0)instanceof bb&&(D.Equals(s.get(cY,0).nodeType,bb.ELEMENT_NODE)&&(cZ=s.get(cY,0),true)))?b8.TreeNode(cX,cW):M.Mk({$:6,$0:cX},cW);};bO.FakeRootSingle=function(cT){var cU,cV,cW;cT.removeAttribute("ws-template");cU=cT.getAttribute("ws-replace");cU===null?void 0:(cT.removeAttribute("ws-replace"),cV=cT.parentNode,D.Equals(cV,null)?void 0:(cW=self.document.createElement(cT.tagName),cW.setAttribute("ws-replace",cU),cV.replaceChild(cW,cT)));return bO.FakeRoot([cT]);};bO.FakeRoot=function(cT){var cU,cV,cW;cU=self.document.createElement("div");for(cV=0,cW=cT.length-1;cV<=cW;cV++)cU.appendChild(s.get(cT,cV));return cU;};bO.PrepareTemplateStrict=function(cT,cU,cV,cW,cX){var cY,cZ;function c0(c5,c6){var c7,c8,c9,c_,c$,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv;function da(dw){}while(true)switch(c5){case 0:if(c6!==null){c7=c6.nextSibling;if(D.Equals(c6.nodeType,bb.TEXT_NODE))cq.convertTextNode(c6);else if(D.Equals(c6.nodeType,bb.ELEMENT_NODE))c2(c6);c6=c7;}else return null;break;case 1:db=B.string(c6.nodeName,{$:1,$0:3},null).toLowerCase();dc=(c8=db.indexOf("."),c8===-1?[cT,db]:[B.string(db,null,{$:1,$0:c8-1}),B.string(db,{$:1,$0:c8+1},null)]);dd=dc[1];de=dc[0];if(de!==""&&!bO.LoadedTemplates().ContainsKey(de))return cq.failNotLoaded(dd);else{if(de===""&&cX!=null)cX.$0(dd);df=bO.LoadedTemplates().get_Item(de);if(!df.ContainsKey(dd))return cq.failNotLoaded(dd);else{dg=df.get_Item(dd);dh=dg.cloneNode(true);di=new bD.New$3();dj=new bC.New$5();dk=c6.attributes;for(dl=0,dm=dk.length-1;dl<=dm;dl++){dn=dk.item(dl).name.toLowerCase();dj.set_Item(dn,(_do=dk.item(dl).nodeValue,_do===""?dn:_do.toLowerCase()));!di.Add(dn)?cR.warn("Hole mapped twice",dn):void 0;}for(dp=0,dq=c6.childNodes.length-1;dp<=dq;dp++){dr=c6.childNodes[dp];D.Equals(dr.nodeType,bb.ELEMENT_NODE)?!di.Add(dr.nodeName.toLowerCase())?cR.warn("Hole filled twice",dd):void 0:void 0;}ds=c6.childNodes.length===1&&D.Equals(c6.firstChild.nodeType,bb.TEXT_NODE);if(ds){c_=cq.fillTextHole(dh,c6.firstChild.textContent,dd);((function(dw){return function(dx){if(dx!=null)dw(dx.$0);};}((c$=function(dw){return function(dx){return dw.Add(dx);};}(di),function(dw){return da(c$(dw));})))(c_));}cq.removeHolesExcept(dh,di);if(!ds){for(dt=0,du=c6.childNodes.length-1;dt<=du;dt++){dv=c6.childNodes[dt];D.Equals(dv.nodeType,bb.ELEMENT_NODE)?dv.hasAttributes()?cq.fillInstanceAttrs(dh,dv):c1(dh,dv):void 0;}}cq.mapHoles(dh,dj);cq.fill(dh,c6.parentNode,c6);c6.parentNode.removeChild(c6);return;}}break;}}function c1(c5,c6){var c7,c9,c_;function c8(c$,da){var db,dc,dd;if(c9==="title"&&c6.hasChildNodes()){db=cS.parseHTML(c6.textContent);c6.removeChild(c6.firstChild);for(dc=0,dd=db.length-1;dc<=dd;dc++)c6.appendChild(s.get(db,dc));}else null;c2(c6);return cq.fill(c6,c$,da);}c9=c6.nodeName.toLowerCase();bT.IterSelector(c5,"[ws-attr-holes]",function(c$){var da,db,dc,dd,de;da=A.SplitChars(c$.getAttribute("ws-attr-holes"),[" "],1);for(db=0,dc=da.length-1;db<=dc;db++){dd=s.get(da,db);c$.setAttribute(dd,(de=new a.RegExp("\\${"+c9+"}","ig"),c$.getAttribute(dd).replace(de,c6.textContent)));}});c_=c5.querySelector("[ws-hole="+c9+"]");if(D.Equals(c_,null)){c7=c5.querySelector("[ws-replace="+c9+"]");return D.Equals(c7,null)?null:(c8(c7.parentNode,c7),void c7.parentNode.removeChild(c7));}else{while(c_.hasChildNodes())c_.removeChild(c_.lastChild);c_.removeAttribute("ws-hole");return c8(c_,null);}}function c2(c5){if(A.StartsWith(c5.nodeName.toLowerCase(),"ws-"))c4(c5);else{cq.convertAttrs(c5);c3(c5.firstChild);}}function c3(c5){return c0(0,c5);}function c4(c5){return c0(1,c5);}cY=cW==null?bO.FakeRoot(cV):cW.$0;cZ=(cU==null?"":cU.$0).toLowerCase();bO.LoadedTemplateFile(cT).set_Item(cZ,cY);s.length(cV)>0?(function(c5){var c6,c7,c8,c9;while(true){c6=c5.querySelector("[ws-template]");if(D.Equals(c6,null)){c7=c5.querySelector("[ws-children-template]");if(D.Equals(c7,null))return null;else{c8=c7.getAttribute("ws-children-template");c7.removeAttribute("ws-children-template");bO.PrepareTemplateStrict(cT,{$:1,$0:c8},bT.ChildrenArray(c7),null,null);c5=c5;}}else{c9=c6.getAttribute("ws-template");(bO.PrepareSingleTemplate(cT,{$:1,$0:c9},c6))(null);c5=c5;}}}(cY),c3(s.get(cV,0))):void 0;};bO.InlineTemplate=function(cT,cU){var cV,cW,cX,cY,c1,c2,c3,c4,c5,c6,c7;function cZ(c8,c9){var c_,c$,da;c_=bI.Insert(c8,c9);c2.push(bI.Updates(c_));c3.push([c8,c_]);c$=cO.GetOptional(c_.OnAfterRender);return c$==null?null:(da=c$.$0,void c4.push(function(){da(c8);}));}function c0(c8){var c9,c_;c9=(c_=null,[c5.TryGetValue(c8,{get:function(){return c_;},set:function(c$){c_=c$;}}),c_]);return c9[0]?c9[1].$==0?{$:1,$0:c9[1].$1}:c9[1].$==1?{$:1,$0:M.TextNode(c9[1].$1)}:c9[1].$==2?{$:1,$0:M.TextView(c9[1].$1)}:c9[1].$==8?{$:1,$0:M.TextView(c9[1].$1.get_View())}:c9[1].$==9?{$:1,$0:M.TextView(T.Map(a.String,c9[1].$1.get_View()))}:c9[1].$==10?{$:1,$0:M.TextView(T.Map(function(c$){return c$.get_Input();},c9[1].$1.get_View()))}:c9[1].$==11?{$:1,$0:M.TextView(T.Map(a.String,c9[1].$1.get_View()))}:c9[1].$==12?{$:1,$0:M.TextView(T.Map(function(c$){return c$.get_Input();},c9[1].$1.get_View()))}:c9[1].$==13?{$:1,$0:M.TextView(T.Map(a.String,c9[1].$1.get_View()))}:(cR.warn("Content hole filled with attribute data",c8),null):null;}c1=[];c2=[];c3=[];c4=[];c5=new bC.New$5();c6=bt.Get(cU);try{while(c6.MoveNext()){c7=c6.Current();c5.set_Item(c7.$0,c7);}}finally{if(typeof c6=="object"&&"Dispose"in c6)c6.Dispose();}cV=bT.ChildrenArray(cT);bT.IterSelector(cT,"[ws-hole]",function(c8){var c9,c_,c$;c$=c8.getAttribute("ws-hole");c8.removeAttribute("ws-hole");while(c8.hasChildNodes())c8.removeChild(c8.lastChild);c9=c0(c$);c9!=null&&c9.$==1?(c_=c9.$0,bL.LinkElement(c8,c_.docNode),c1.push(b3.New(bI.Empty(c8),c_.docNode,null,c8,bR.Int(),null)),c2.push(c_.updates)):void 0;});bT.IterSelector(cT,"[ws-replace]",function(c8){var c9,c_,c$,da,db,dc;c9=c0(c8.getAttribute("ws-replace"));c9!=null&&c9.$==1?(c_=c9.$0,c$=c8.parentNode,da=self.document.createTextNode(""),c$.replaceChild(da,c8),db=bL.InsertBeforeDelim(da,c_.docNode),dc=s.tryFindIndex(function(dd){return c8===dd;},cV),dc==null?void 0:s.set(cV,dc.$0,c_.docNode),c1.push(b3.New(bI.Empty(c$),c_.docNode,{$:1,$0:[db,da]},c$,bR.Int(),null)),c2.push(c_.updates)):void 0;});bT.IterSelector(cT,"[ws-attr]",function(c8){var c9,c_,c$;c9=c8.getAttribute("ws-attr");c8.removeAttribute("ws-attr");c_=(c$=null,[c5.TryGetValue(c9,{get:function(){return c$;},set:function(da){c$=da;}}),c$]);c_[0]?c_[1].$==3?cZ(c8,c_[1].$1):cR.warn("Attribute hole filled with non-attribute data",c9):void 0;});bT.IterSelector(cT,"[ws-on]",function(c8){cZ(c8,bc.Concat(s.choose(function(c9){var c_,c$,da;c_=A.SplitChars(c9,[":"],1);c$=(da=null,[c5.TryGetValue(s.get(c_,1),{get:function(){return da;},set:function(db){da=db;}}),da]);return c$[0]?c$[1].$==4?{$:1,$0:bd.Handler(s.get(c_,0),c$[1].$1)}:c$[1].$==5?{$:1,$0:bc.Handler(s.get(c_,0),c$[1].$2)}:(cR.warn("Event hole on"+s.get(c_,0)+" filled with non-event data",s.get(c_,1)),null):null;},A.SplitChars(c8.getAttribute("ws-on"),[" "],1))));c8.removeAttribute("ws-on");});bT.IterSelector(cT,"[ws-onafterrender]",function(c8){var c9,c_,c$;c9=c8.getAttribute("ws-onafterrender");c_=(c$=null,[c5.TryGetValue(c9,{get:function(){return c$;},set:function(da){c$=da;}}),c$]);c_[0]?c_[1].$==6?(c8.removeAttribute("ws-onafterrender"),cZ(c8,bd.OnAfterRender(c_[1].$1))):c_[1].$==7?(c8.removeAttribute("ws-onafterrender"),cZ(c8,bd.OnAfterRender(c_[1].$1))):cR.warn("onafterrender hole filled with non-onafterrender data",c9):void 0;});bT.IterSelector(cT,"[ws-var]",function(c8){var c9,c_,c$;c9=c8.getAttribute("ws-var");c8.removeAttribute("ws-var");c_=(c$=null,[c5.TryGetValue(c9,{get:function(){return c$;},set:function(da){c$=da;}}),c$]);c_[0]?c_[1].$==8?cZ(c8,bd.Value(c_[1].$1)):c_[1].$==9?cZ(c8,bd.Checked(c_[1].$1)):c_[1].$==10?cZ(c8,bd.IntValue(c_[1].$1)):c_[1].$==11?cZ(c8,bd.IntValueUnchecked(c_[1].$1)):c_[1].$==12?cZ(c8,bd.FloatValue(c_[1].$1)):c_[1].$==13?cZ(c8,bd.FloatValueUnchecked(c_[1].$1)):cR.warn("Var hole filled with non-Var data",c9):void 0;});bT.IterSelector(cT,"[ws-attr-holes]",function(c8){var c9,c_,c$,da;c9=new a.RegExp(bO.TextHoleRE(),"g");c_=A.SplitChars(c8.getAttribute("ws-attr-holes"),[" "],1);c8.removeAttribute("ws-attr-holes");for(c$=0,da=c_.length-1;c$<=da;c$++)(function(){var db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn;dk=s.get(c_,c$);dl=c8.getAttribute(dk);db=null;dc=0;dm=[];while(db=c9.exec(dl),db!==null){dn=B.string(dl,{$:1,$0:dc},{$:1,$0:c9.lastIndex-s.get(db,0).length-1});dc=c9.lastIndex;dm.push([dn,s.get(db,1)]);}de=B.string(dl,{$:1,$0:dc},null);c9.lastIndex=0;df=s.foldBack(function(_do,dp){return(function(dq){var dr,ds;dr=dq[0];ds=dq[1];return function(dt){var du,dv,dw,dx,dy;du=dt[0];dv=dt[1];dw=(dx=(dy=null,[c5.TryGetValue(ds,{get:function(){return dy;},set:function(dz){dy=dz;}}),dy]),dx[0]?dx[1].$==1?{$:0,$0:dx[1].$1}:dx[1].$==2?{$:1,$0:dx[1].$1}:dx[1].$==8?{$:1,$0:dx[1].$1.get_View()}:dx[1].$==9?{$:1,$0:T.Map(a.String,dx[1].$1.get_View())}:dx[1].$==10?{$:1,$0:T.Map(function(dz){return dz.get_Input();},dx[1].$1.get_View())}:dx[1].$==11?{$:1,$0:T.Map(a.String,dx[1].$1.get_View())}:dx[1].$==12?{$:1,$0:T.Map(function(dz){return dz.get_Input();},dx[1].$1.get_View())}:dx[1].$==13?{$:1,$0:T.Map(a.String,dx[1].$1.get_View())}:(cR.warn("Attribute value hole filled with non-text data",ds),{$:0,$0:""}):{$:0,$0:""});return dw.$==1?[dr,new r({$:1,$0:du===""?dw.$0:T.Map(function(dz){return dz+du;},dw.$0),$1:dv})]:[dr+dw.$0+du,dv];};}(_do))(dp);},dm,[de,r.Empty]);return cZ(c8,df[1].$==1?df[1].$1.$==1?df[1].$1.$1.$==1?df[1].$1.$1.$1.$==0?(dg=df[0],bd.Dynamic(dk,T.Map3(function(_do,dp,dq){return dg+_do+dp+dq;},df[1].$0,df[1].$1.$0,df[1].$1.$1.$0))):(dh=df[0],bd.Dynamic(dk,T.Map(function(_do){return dh+A.concat("",_do);},T.Sequence(df[1])))):(di=df[0],bd.Dynamic(dk,T.Map2(function(_do,dp){return di+_do+dp;},df[1].$0,df[1].$1.$0))):df[0]===""?bd.Dynamic(dk,df[1].$0):(dj=df[0],bd.Dynamic(dk,T.Map(function(_do){return dj+_do;},df[1].$0))):bc.Create(dk,df[0]));}());});return[cO.DeleteEmptyFields({Els:cV,Dirty:true,Holes:c1,Attrs:c3,Render:(cW=c4.length==0?null:{$:1,$0:function(c8){s.iter(function(c9){c9(c8);},c4);}},cW?cW.$0:void 0),El:(cX=!D.Equals(cV,null)&&cV.length===1&&(s.get(cV,0)instanceof bb&&(s.get(cV,0)instanceof a.Element&&(cY=s.get(cV,0),true)))?{$:1,$0:cY}:null,cX?cX.$0:void 0)},["Render","El"]),bF.TreeReduce(T.Const(),T.Map2Unit,c2)];};bO.PrepareSingleTemplate=function(cT,cU,cV){var cW,cX,cY;cW=bO.FakeRootSingle(cV);cX=[cV];cY={$:1,$0:cW};return function(cZ){bO.PrepareTemplateStrict(cT,cU,cX,cY,cZ);};};bO.TextHoleRE=function(){ce.$cctor();return ce.TextHoleRE;};bP.New=function(cT,cU){return{f:cT,p:cU};};bR.Id=function(){bR.set_counter(bR.counter()+1);return"uid"+a.String(bR.counter());};bR.Int=function(){bR.set_counter(bR.counter()+1);return bR.counter();};bR.set_counter=function(cT){cg.$cctor();cg.counter=cT;};bR.counter=function(){cg.$cctor();return cg.counter;};bS.run=function(cT,cU){return O.run(cT,cU.r);};bT.CreateElement=function(cT){return bT.Doc().createElement(cT);};bT.CreateText=function(cT){return bT.Doc().createTextNode(cT);};bT.SetAttr=function(cT,cU,cV){cT.setAttribute(cU,cV);};bT.SetStyle=function(cT,cU,cV){bT.SetProperty(cT.style,cU,cV);};bT.Doc=function(){cj.$cctor();return cj.Doc;};bT.SetProperty=function(cT,cU,cV){return cT.setProperty(cU,cV);};bT.ChildrenArray=function(cT){var cU,cV,cW;cU=[];for(cV=0,cW=cT.childNodes.length-1;cV<=cW;cV++)cU.push(cT.childNodes[cV]);return cU;};bT.IterSelector=function(cT,cU,cV){var cW,cX,cY;cW=cT.querySelectorAll(cU);for(cX=0,cY=cW.length-1;cX<=cY;cX++)cV(cW[cX]);};bT.RemoveClass=function(cT,cU){var cV;bT.setClass(cT,(cV=bT.clsRE(cU),bT.getClass(cT).replace(cV,function(cW,cX,cY){return cX===""||cY===""?"":" ";})));};bT.AddClass=function(cT,cU){var cV;cV=bT.getClass(cT);cV===""?bT.setClass(cT,cU):!bT.clsRE(cU).test(cV)?bT.setClass(cT,cV+" "+cU):void 0;};bT.InsertAt=function(cT,cU,cV){var cW;if(!(cV.parentNode===cT&&cU===(cW=cV.nextSibling,D.Equals(cW,null)?null:cW)))cT.insertBefore(cV,cU);};bT.setClass=function(cT,cU){if(cT instanceof a.SVGElement)cT.setAttribute("class",cU);else cT.className=cU;};bT.getClass=function(cT){return cT instanceof a.SVGElement?cT.getAttribute("class"):cT.className;};bT.clsRE=function(cT){return new a.RegExp("(\\s+|^)"+cT+"(?:\\s+"+cT+")*(\\s+|$)","g");};bT.RemoveNode=function(cT,cU){if(cU.parentNode===cT)cT.removeChild(cU);};bV=bU.Hoverable=cO.Class({Content:function(cT){return cT.on("mouseenter",function(){return bT.AddClass(cT.elt,"hovering");}).on("mouseleave",function(){return bT.RemoveClass(cT.elt,"hovering");});}},null,bV);bV.New$1=function(){return bV.New(Q.Create$1(false));};bV.New=function(cT){return new bV({hover:cT});};bW=g.CancellationTokenSource=cO.Class({Cancel$1:function(){var cT;if(!this.c){this.c=true;cT=s.choose(function(cU){try{cU();return null;}catch(cV){return{$:1,$0:cV};}},this.r);if(s.length(cT)>0)throw new b_.New$3(cT);else void 0;}}},t,bW);bW.New=cO.Ctor(function(){t.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},bW);bz.Obsolete=function(cT){var cU,cV,cW,cX,cY;cV=cT.s;if(cV==null||(cV!=null&&cV.$==2?(cU=cV.$1,false):cV!=null&&cV.$==3?(cU=cV.$1,false):true))void 0;else{cT.s=null;for(cW=0,cX=s.length(cU)-1;cW<=cX;cW++){cY=s.get(cU,cW);typeof cY=="object"?function(cZ){bz.Obsolete(cZ);}(cY):cY();}}};bz.New=function(cT){return{s:cT};};bX.InMemory=function(cT){return new cb.New(cT);};bY=L.CheckedInput=cO.Class({get_Input:function(){return this.$==1?this.$0:this.$==2?this.$0:this.$1;}},null,bY);bZ.alreadyAdded=function(){return h.FailWith("An item with the same key has already been added.");};bZ.notPresent=function(){return h.FailWith("The given key was not present in the dictionary.");};b0.$cctor=function(){b0.$cctor=a.ignore;b0.EmptyAttr=null;};b1=L.DynamicAttrNode=cO.Class({NChanged:function(){return this.updates;},NGetExitAnim:function(cT){return ck.get_Empty();},NGetEnterAnim:function(cT){return ck.get_Empty();},NGetChangeAnim:function(cT){return ck.get_Empty();},NSync:function(cT){if(this.dirty){(this.push(cT))(this.value);this.dirty=false;}}},t,b1);b1.New=cO.Ctor(function(cT,cU){var cV;cV=this;t.New.call(this);this.push=cU;this.value=void 0;this.dirty=false;this.updates=T.Map(function(cW){cV.value=cW;cV.dirty=true;},cT);},b1);b2.New=function(cT,cU,cV,cW,cX){return{Node:cT,Left:cU,Right:cV,Height:cW,Count:cX};};b3=L.DocElemNode=cO.Class({Equals:function(cT){return this.ElKey===cT.ElKey;},GetHashCode:function(){return this.ElKey;}},null,b3);b3.New=function(cT,cU,cV,cW,cX,cY){var cZ;return new b3((cZ={Attr:cT,Children:cU,El:cW,ElKey:cX},(cO.SetOptional(cZ,"Delimiters",cV),cO.SetOptional(cZ,"Render",cY),cZ)));};b6.addResizeObserver=function(cT,cU){var cV,cW,cX,cY;try{cV=!(!a.ResizeObserver);}catch(cZ){cV=false;}if(cV){cW=new a.ResizeObserver(cT);b6.set_observers(new r({$:1,$0:cW,$1:b6.observers()}));cW.observe(cU);}else{cX=b6.dimsChanged(cU);b$.Start((cY=null,b$.Delay(function(){return b$.While(function(){return cU.isConnected;},b$.Delay(function(){return b$.Bind(b$.Sleep(110),function(){return cX()?(cT(),b$.Zero()):b$.Zero();});}));})),null);}};b6.set_observers=function(cT){p.$cctor();p.observers=cT;};b6.observers=function(){p.$cctor();return p.observers;};b6.dimsChanged=function(cT){var cU;cU=[cT.getBoundingClientRect()];return function(){var cV;cV=cT.getBoundingClientRect();return D.Equals(b6.domRect2Tuple(cU[0]),b6.domRect2Tuple(cV))?false:(cU[0]=cV,true);};};b6.domRect2Tuple=function(cT){return[cT.top,cT.left,cT.width,cT.height];};b7.New=function(cT,cU){return{lytName:cT,lytDefinition:cU};};b8=L.Elt=cO.Class({on:function(cT,cU){var cV;cV=this;this.elt.addEventListener(cT,function(cW){return cU(cV.elt,cW);},false);return this;}},M,b8);b8.New=function(cT,cU,cV){var cW,cX;cW=bL.CreateElemNode(cT,cU,cV.docNode);cX=ci.Create(cV.updates);return new b8.New$1({$:1,$0:cW},T.Map2Unit(bI.Updates(cW.Attr),cX.v),cT,cX);};b8.TreeNode=function(cT,cU){var cV,cW;function cX(cY){return cY[1];}cV=ci.Create(cU);return new b8.New$1({$:6,$0:cT},T.Map2Unit((cW=s.map(function(cY){return bI.Updates(cX(cY));},cT.Attrs),bF.TreeReduce(T.Const(),T.Map2Unit,cW)),cV.v),s.get(cT.Els,0),cV);};b8.New$1=cO.Ctor(function(cT,cU,cV,cW){M.New.call(this,cT,cU);this.docNode$1=cT;this.updates$1=cU;this.elt=cV;this.rvUpdates=cW;},b8);b_=g.AggregateException=cO.Class({},b9,b_);b_.New$3=cO.Ctor(function(cT){b_.New$4.call(this,"One or more errors occurred.",cT);},b_);b_.New$4=cO.Ctor(function(cT,cU){this.message=cT;bG.setPrototypeOf(this,b_.prototype);this.innerExceptions=cU;},b_);b$.Start=function(cT,cU){var cV,cW;cV=(cW=(b$.defCTS())[0],cU==null?cW:cU.$0);b$.scheduler().Fork(function(){if(!cV.c)cT(co.New(function(cX){if(cX.$==1)b$.UncaughtAsyncError(cX.$0);},cV));});};b$.Delay=function(cT){return function(cU){try{(cT(null))(cU);}catch(cV){cU.k({$:1,$0:cV});}};};b$.Bind=function(cT,cU){return b$.checkCancel(function(cV){cT(co.New(function(cW){var cX;if(cW.$==0){cX=cW.$0;b$.scheduler().Fork(function(){try{(cU(cX))(cV);}catch(cY){cV.k({$:1,$0:cY});}});}else b$.scheduler().Fork(function(){cV.k(cW);});},cV.ct));});};b$.Sleep=function(cT){return function(cU){var cV,cW;cV=void 0;cW=void 0;cV=a.setTimeout(function(){cW.Dispose();b$.scheduler().Fork(function(){cU.k({$:0,$0:null});});},cT);cW=b$.Register(cU.ct,function(){a.clearTimeout(cV);b$.scheduler().Fork(function(){b$.cancel(cU);});});};};b$.Zero=function(){cp.$cctor();return cp.Zero;};b$.defCTS=function(){cp.$cctor();return cp.defCTS;};b$.UncaughtAsyncError=function(cT){cR.log("WebSharper: Uncaught asynchronous exception",cT);};b$.checkCancel=function(cT){return function(cU){if(cU.ct.c)b$.cancel(cU);else cT(cU);};};b$.Register=function(cT,cU){var cV;return cT===b$.noneCT()?{Dispose:function(){return null;}}:(cV=cT.r.push(cU)-1,{Dispose:function(){return s.set(cT.r,cV,a.ignore);}});};b$.cancel=function(cT){cT.k({$:2,$0:new cz.New(cT.ct)});};b$.While=function(cT,cU){return cT()?b$.Bind(cU,function(){return b$.While(cT,cU);}):b$.Return();};b$.scheduler=function(){cp.$cctor();return cp.scheduler;};b$.noneCT=function(){cp.$cctor();return cp.noneCT;};b$.Return=function(cT){return function(cU){cU.k({$:0,$0:cT});};};b$.FromContinuations=function(cT){return function(cU){var cV;function cW(cX){if(cV[0])h.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{cV[0]=true;b$.scheduler().Fork(cX);}}cV=[false];cT(function(cX){cW(function(){cU.k({$:0,$0:cX});});},function(cX){cW(function(){cU.k({$:1,$0:cX});});},function(cX){cW(function(){cU.k({$:2,$0:cX});});});};};cb=bX.ArrayStorage=cO.Class({SSetAt:function(cT,cU,cV){s.set(cV,cT,cU);return cV;},SAppend:function(cT,cU){cU.push(cT);return cU;},SAppendMany:function(cT,cU){var cV;cV=bF.ofSeqNonCopying(cT);cU.push.apply(cU,cV);return cU;},SRemoveIf:function(cT,cU){return s.filter(function(cV){return!cT(cV);},cU);}},t,cb);cb.New=cO.Ctor(function(cT){t.New.call(this);this.init=cT;},cb);cd.New=function(cT,cU,cV,cW){var cX;cX={DynElem:cT,DynFlags:cU,DynNodes:cV};cO.SetOptional(cX,"OnAfterRender",cW);return cX;};ce.$cctor=function(){ce.$cctor=a.ignore;ce.LoadedTemplates=new bC.New$5();ce.LocalTemplatesLoaded=false;ce.TextHoleRE="\\${([^}]+)}";};q.enumUsing=function(cT,cU){return{GetEnumerator:function(){var cV;try{cV=bt.Get(cU(cT));}catch(cW){cT.Dispose();throw cW;}return new bH.New(null,null,function(cX){return cV.MoveNext()&&(cX.c=cV.Current(),true);},function(){cV.Dispose();cT.Dispose();});}};};q.enumWhile=function(cT,cU){return{GetEnumerator:function(){return new bH.New(null,null,function(cV){var cW;while(true){cW=cV.s;if(D.Equals(cW,null)){if(cT()){cV.s=bt.Get(cU);cV=cV;}else return false;}else if(cW.MoveNext()){cV.c=cW.Current();return true;}else{cW.Dispose();cV.s=null;cV=cV;}}},function(cV){var cW;cW=cV.s;!D.Equals(cW,null)?cW.Dispose():void 0;});}};};cf.refreshLM=function(cT,cU){var cV;cT.AppendMany(cU);cV=new bf.New(q.map(cT.key,cU));q.iter(function(cW){if(!cV.Contains(cT.key(cW)))cT.RemoveByKey(cT.key(cW));},q.cache(cT));};cg.$cctor=function(){cg.$cctor=a.ignore;cg.counter=0;};ch=g.FormatException=cO.Class({},b9,ch);ch.New$1=cO.Ctor(function(cT){this.message=cT;bG.setPrototypeOf(this,ch.prototype);},ch);ci=L.Updates=cO.Class({},null,ci);ci.Create=function(cT){var cU;cU=null;cU=ci.New(cT,null,function(){var cV;cV=cU.s;return cV===null?(cV=bz.Copy(cU.c()),cU.s=cV,bz.WhenObsoleteRun(cV,function(){cU.s=null;}),cV):cV;});return cU;};ci.New=function(cT,cU,cV){return new ci({c:cT,s:cU,v:cV});};cj.$cctor=function(){cj.$cctor=a.ignore;cj.Doc=self.document;};ck.get_UseAnimations=function(){return cw.UseAnimations();};ck.Play=function(cT){var cU;cU=null;return b$.Delay(function(){return b$.Bind(ck.Run(a.ignore,cw.Actions(cT)),function(){cw.Finalize(cT);return b$.Return(null);});});};ck.Append=function(cT,cU){return{$:0,$0:cE.Append(cT.$0,cU.$0)};};ck.Run=function(cT,cU){var cV;function cW(cX){function cY(cZ,c0){var c1;c1=c0-cZ;cU.Compute(c1);cT();return c1<=cV?void a.requestAnimationFrame(function(c2){cY(cZ,c2);}):cX();}a.requestAnimationFrame(function(cZ){cY(cZ,cZ);});}cV=cU.Duration;return cV===0?b$.Zero():b$.FromContinuations(function(cX,cY,cZ){return cW.apply(null,[cX,cY,cZ]);});};ck.Concat=function(cT){return{$:0,$0:cE.Concat(q.map(cw.List,cT))};};ck.get_Empty=function(){return{$:0,$0:cE.Empty()};};cl.BatchUpdatesEnabled=function(){cx.$cctor();return cx.BatchUpdatesEnabled;};cm.StartProcessor=function(cT){var cU;function cV(){var cW;cW=null;return b$.Delay(function(){return b$.Bind(cT,function(){var cX;cX=cU[0];return cX===1?(cU[0]=0,b$.Zero()):cX===2?(cU[0]=1,cV()):b$.Zero();});});}cU=[0];return function(){var cW;cW=cU[0];cW===0?(cU[0]=1,b$.Start(cV(),null)):cW===1?cU[0]=2:void 0;};};cn.New=function(cT,cU){return{c:cT,r:cU};};co.New=function(cT,cU){return{k:cT,ct:cU};};cp.$cctor=function(){cp.$cctor=a.ignore;cp.noneCT=cn.New(false,[]);cp.scheduler=new cy.New();cp.defCTS=[new bW.New()];cp.Zero=b$.Return();cp.GetCT=function(cT){cT.k({$:0,$0:cT.ct});};};cq.convertTextNode=function(cT){var cU,cV,cW,cX,cY,cZ;cU=null;cV=0;cX=cT.textContent;cY=new a.RegExp(bO.TextHoleRE(),"g");while(cU=cY.exec(cX),cU!==null){cT.parentNode.insertBefore(self.document.createTextNode(B.string(cX,{$:1,$0:cV},{$:1,$0:cY.lastIndex-s.get(cU,0).length-1})),cT);cV=cY.lastIndex;cZ=self.document.createElement("span");cZ.setAttribute("ws-replace",s.get(cU,1).toLowerCase());cT.parentNode.insertBefore(cZ,cT);}cY.lastIndex=0;cT.textContent=B.string(cX,{$:1,$0:cV},null);};cq.failNotLoaded=function(cT){cR.warn("Instantiating non-loaded template",cT);};cq.fillTextHole=function(cT,cU,cV){var cW;cW=cT.querySelector("[ws-replace]");return D.Equals(cW,null)?(cR.warn("Filling non-existent text hole",cV),null):(cW.parentNode.replaceChild(new a.Text(cU),cW),{$:1,$0:cW.getAttribute("ws-replace")});};cq.removeHolesExcept=function(cT,cU){function cV(cW){bT.IterSelector(cT,"["+cW+"]",function(cX){if(!cU.Contains(cX.getAttribute(cW)))cX.removeAttribute(cW);});}cV("ws-attr");cV("ws-onafterrender");cV("ws-var");bT.IterSelector(cT,"[ws-hole]",function(cW){if(!cU.Contains(cW.getAttribute("ws-hole"))){cW.removeAttribute("ws-hole");while(cW.hasChildNodes())cW.removeChild(cW.lastChild);}});bT.IterSelector(cT,"[ws-replace]",function(cW){if(!cU.Contains(cW.getAttribute("ws-replace")))cW.parentNode.removeChild(cW);});bT.IterSelector(cT,"[ws-on]",function(cW){cW.setAttribute("ws-on",A.concat(" ",s.filter(function(cX){return cU.Contains(s.get(A.SplitChars(cX,[":"],1),1));},A.SplitChars(cW.getAttribute("ws-on"),[" "],1))));});bT.IterSelector(cT,"[ws-attr-holes]",function(cW){var cX,cY,cZ,c0,c1;cX=A.SplitChars(cW.getAttribute("ws-attr-holes"),[" "],1);for(cY=0,cZ=cX.length-1;cY<=cZ;cY++){c0=s.get(cX,cY);cW.setAttribute(c0,(c1=new a.RegExp(bO.TextHoleRE(),"g"),cW.getAttribute(c0).replace(c1,function(c2,c3){return cU.Contains(c3)?c2:"";})));}});};cq.fillInstanceAttrs=function(cT,cU){var cV,cW,cX,cY,cZ;cq.convertAttrs(cU);cV=cU.nodeName.toLowerCase();cW=cT.querySelector("[ws-attr="+cV+"]");if(D.Equals(cW,null))cR.warn("Filling non-existent attr hole",cV);else{cW.removeAttribute("ws-attr");for(cX=0,cY=cU.attributes.length-1;cX<=cY;cX++){cZ=cU.attributes.item(cX);cZ.name==="class"&&cW.hasAttribute("class")?cW.setAttribute("class",cW.getAttribute("class")+" "+cZ.nodeValue):cW.setAttribute(cZ.name,cZ.nodeValue);}}};cq.mapHoles=function(cT,cU){function cV(cW){bT.IterSelector(cT,"["+cW+"]",function(cX){var cY,cZ;cY=(cZ=null,[cU.TryGetValue(cX.getAttribute(cW).toLowerCase(),{get:function(){return cZ;},set:function(c0){cZ=c0;}}),cZ]);cY[0]?cX.setAttribute(cW,cY[1]):void 0;});}cV("ws-hole");cV("ws-replace");cV("ws-attr");cV("ws-onafterrender");cV("ws-var");bT.IterSelector(cT,"[ws-on]",function(cW){cW.setAttribute("ws-on",A.concat(" ",s.map(function(cX){var cY,cZ,c0;cY=A.SplitChars(cX,[":"],1);cZ=(c0=null,[cU.TryGetValue(s.get(cY,1),{get:function(){return c0;},set:function(c1){c0=c1;}}),c0]);return cZ[0]?s.get(cY,0)+":"+cZ[1]:cX;},A.SplitChars(cW.getAttribute("ws-on"),[" "],1))));});bT.IterSelector(cT,"[ws-attr-holes]",function(cW){var cX,cY,cZ;cX=A.SplitChars(cW.getAttribute("ws-attr-holes"),[" "],1);for(cY=0,cZ=cX.length-1;cY<=cZ;cY++)(function(){var c0;function c1(c2,c3){var c4;c4=h.KeyValue(c3);return c2.replace(new a.RegExp("\\${"+c4[0]+"}","ig"),"${"+c4[1]+"}");}c0=s.get(cX,cY);return cW.setAttribute(c0,(((cO.Curried3(q.fold))(c1))(cW.getAttribute(c0)))(cU));}());});};cq.fill=function(cT,cU,cV){while(true)if(cT.hasChildNodes())cV=cU.insertBefore(cT.lastChild,cV);else return null;};cq.convertAttrs=function(cT){var cV,cW,cX,cY,cZ,c0,c1,c2;function cU(c3){var c4;c4=cT.getAttribute(c3);c4===null?void 0:cT.setAttribute(c3,c4.toLowerCase());}cV=cT.attributes;cW=[];cX=[];cY=[];for(cZ=0,c0=cV.length-1;cZ<=c0;cZ++){c1=cV.item(cZ);A.StartsWith(c1.nodeName,"ws-on")&&c1.nodeName!=="ws-onafterrender"&&c1.nodeName!=="ws-on"?(cW.push(c1.nodeName),cX.push(B.string(c1.nodeName,{$:1,$0:"ws-on".length},null)+":"+c1.nodeValue.toLowerCase())):!A.StartsWith(c1.nodeName,"ws-")&&(new a.RegExp(bO.TextHoleRE())).test(c1.nodeValue)?(c1.nodeValue=(c2=new a.RegExp(bO.TextHoleRE(),"g"),c1.nodeValue.replace(c2,function(c3,c4){return"${"+c4.toLowerCase()+"}";})),cY.push(c1.nodeName)):void 0;}!(cX.length==0)?cT.setAttribute("ws-on",A.concat(" ",cX)):void 0;!(cY.length==0)?cT.setAttribute("ws-attr-holes",A.concat(" ",cY)):void 0;cU("ws-hole");cU("ws-replace");cU("ws-attr");cU("ws-onafterrender");cU("ws-var");s.iter(function(c3){cT.removeAttribute(c3);},cW);};cr=be.KeyCollection=cO.Class({GetEnumerator$1:function(){return bt.Get(q.map(function(cT){return cT.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},t,cr);cr.New=cO.Ctor(function(cT){t.New.call(this);this.d=cT;},cr);cs.concat=function(cT){var cU,cV;cU=[];for(var cW in cT)cU.push.apply(cU,cT[cW]);return cU;};cu.New=function(cT,cU){return{PreviousNodes:cT,Top:cU};};cv.get_Empty=function(){return{$:0,$0:new bD.New$3()};};cv.FindAll=function(cT){var cU;function cV(cX){if(cX!=null&&cX.$==0){cV(cX.$0);cV(cX.$1);}else if(cX!=null&&cX.$==1)cW(cX.$0);else if(cX!=null&&cX.$==2)cV(cX.$0.Current);else if(cX!=null&&cX.$==6)s.iter(cW,cX.$0.Holes);}function cW(cX){cU.push(cX);cV(cX.Children);}cU=[];cV(cT);return{$:0,$0:new bD.New$2(cU)};};cv.Filter=function(cT,cU){return{$:0,$0:cI.Filter(cT,cU.$0)};};cv.Except=function(cT,cU){return{$:0,$0:cI.Except(cT.$0,cU.$0)};};cv.ToArray=function(cT){return cI.ToArray(cT.$0);};cv.Intersect=function(cT,cU){return{$:0,$0:cI.Intersect(cT.$0,cU.$0)};};cw.UseAnimations=function(){cD.$cctor();return cD.UseAnimations;};cw.Actions=function(cT){return cw.ConcatActions(s.choose(function(cU){return cU.$==1?{$:1,$0:cU.$0}:null;},cE.ToArray(cT.$0)));};cw.Finalize=function(cT){s.iter(function(cU){if(cU.$==0)cU.$0();},cE.ToArray(cT.$0));};cw.ConcatActions=function(cT){var cU,cV,cW,cX;cU=bF.ofSeqNonCopying(cT);cV=s.length(cU);return cV===0?cw.Const():cV===1?s.get(cU,0):(cW=q.max(q.map(function(cY){return cY.Duration;},cU)),(cX=s.map(function(cY){return cw.Prolong(cW,cY);},cU),cw.Def(cW,function(cY){s.iter(function(cZ){cZ.Compute(cY);},cX);})));};cw.List=function(cT){return cT.$0;};cw.Const=function(cT){return cw.Def(0,function(){return cT;});};cw.Def=function(cT,cU){return{Compute:cU,Duration:cT};};cw.Prolong=function(cT,cU){var cV,cW,cX;cV=cU.Compute;cW=cU.Duration;cX=H.Create(function(){return cU.Compute(cU.Duration);});return{Compute:function(cY){return cY>=cW?cX.f():cV(cY);},Duration:cT};};cx.$cctor=function(){cx.$cctor=a.ignore;cx.BatchUpdatesEnabled=true;};cy=b$.Scheduler=cO.Class({Fork:function(cT){var cU;cU=this;this.robin.push(cT);this.idle?(this.idle=false,a.setTimeout(function(){cU.tick();},0)):void 0;},tick:function(){var cT,cU,cV;cU=this;cV=cP.now();cT=true;while(cT)if(this.robin.length===0){this.idle=true;cT=false;}else{(this.robin.shift())();cP.now()-cV>40?(a.setTimeout(function(){cU.tick();},0),cT=false):void 0;}}},t,cy);cy.New=cO.Ctor(function(){t.New.call(this);this.idle=true;this.robin=[];},cy);cz=g.OperationCanceledException=cO.Class({},b9,cz);cz.New=cO.Ctor(function(cT){cz.New$1.call(this,"The operation was canceled.",null,cT);},cz);cz.New$1=cO.Ctor(function(cT,cU,cV){this.message=cT;this.inner=cU;bG.setPrototypeOf(this,cz.prototype);this.ct=cV;},cz);cA.Clear=function(cT){cT.splice(0,s.length(cT));};cB.extractNodes=function(cT){var cU,cV;function cW(cX,cY,cZ,c0){var c1,c2,c3,c4,c5,c6;c1=cB.extractNodes(cZ);c2=cB.extractNodes(c0);return(c1.$==0?(c4=c1.$0,!D.Equals(c4,null)&&c4.length===0)?(c3=c2,true):c2.$==0?(c5=c2.$0,!D.Equals(c5,null)&&c5.length===0)?(c3=c1,true):(c3=[c1,c2],false):(c3=[c1,c2],false):c2.$==0?(c6=c2.$0,!D.Equals(c6,null)&&c6.length===0)?(c3=c1,true):(c3=[c1,c2],false):(c3=[c1,c2],false))?c3:{$:1,$0:{$:0,$0:cX,$1:cY,$2:c3[0],$3:c3[1]}};}cU=cB.horizontalSplit(cT);return cU!=null&&cU.$==1?cW(false,cU.$0[2],cU.$0[0],cU.$0[1]):(cV=cB.verticalSplit(cT),cV!=null&&cV.$==1?cW(true,cV.$0[2],cV.$0[0],cV.$0[1]):{$:0,$0:cB.cleanSpaces(cT)});};cB.createLayoutDefinitions=function(cT,cU){var cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4;return cU.$==1?(cV=cU.$0.$0,(cW=cU.$0.$1,(cX=cB.createLayoutDefinitions(cT+"_1",cU.$0.$2),(cY=cX[0],(cZ=cX[1],(c0=cB.createLayoutDefinitions(cT+"_2",cU.$0.$3),(c1=c0[0],(c2=c0[1],[cT,s.ofSeq(q.delay(function(){return q.append([A.concat(" ",n.ofArray([cT,cV?"vertical":"horizontal",a.String(cW),cY,c1]))],q.delay(function(){return q.append(cZ,q.delay(function(){return c2;}));}));}))])))))))):(c3=cU.$0,!D.Equals(c3,null)&&c3.length===0)?["___",[]]:(c4=cU.$0,!D.Equals(c4,null)&&c4.length===1)?[s.get(cU.$0,0),[]]:[cT,[cT+" div \"\" "+A.concat(" ",cU.$0)]];};cB.horizontalSplit=function(cT){var cU,cV,cW,cX,cY;function cZ(c0,c1){var c2,c3,c4,c5;c2=i.REGEX$1("^ *--+([ ^v0-9]*)-* *$","",c1);return c2!=null&&c2.$==1?{$:1,$0:[[c0,(c3=(c4=q.tryItem(1,c2.$0),c4==null?null:cB.extractMeasuresO(A.Replace(A.Replace(c4.$0,"^",""),"v","-"))),(c5=new cC({$:1,$0:5,$1:50,$2:95}),c3==null?c5:c3.$0))],c1.indexOf("-")]}:null;}cU=(cV=q.tryHead(q.sortBy(function(c0){return c0[1];},q.choose(function(c0){return cZ(c0[0],c0[1]);},q.indexed(cT)))),cV==null?null:{$:1,$0:cV.$0[0]});return cU==null?null:{$:1,$0:(cW=cU.$0,(cX=cW[0],(cY=cW[1],[B.array(cT,null,{$:1,$0:cX-1}),B.array(cT,{$:1,$0:cX+1},null),cY])))};};cB.verticalSplit=function(cT){var cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3;function c4(c7,c8){var c9,c_,c$;return(c_=i.REGEX$1("^ *\\|+ *$","",c8),c_!=null&&c_.$==1&&(c$=c_.$0,!D.Equals(c$,null)&&c$.length===1))?{$:1,$0:[c7,c8.indexOf("|")]}:null;}function c5(c7){return D.Equals(null,c7);}function c6(c7){return D.Equals(null,c7);}cU=cB.transpose(cT);cV=(cW=(cX=q.tryHead(q.sortBy(function(c7){return c7[1];},q.choose(function(c7){return c4(c7[0],c7[1]);},q.indexed(cU)))),cX==null?null:{$:1,$0:cX.$0[0]}),cW==null?null:{$:1,$0:(cY=cW.$0,[cB.transpose(B.array(cU,null,{$:1,$0:cY-1})),cB.transpose(B.array(cU,{$:1,$0:cY+1},null))])});return cV==null?null:{$:1,$0:(cZ=cV.$0,(c0=cZ[0],(c1=cZ[1],[s.filter(function(c7){return c5(cB.extractMeasuresO(c7));},c0),s.filter(function(c7){return c6(cB.extractMeasuresO(c7));},c1),(c2=q.tryHead(q.delay(function(){return q.append(q.choose(cB.extractMeasuresO,c0),q.delay(function(){return q.map(function(c7){return c7.$==0?c7.$1?new cC({$:0,$0:c7.$0,$1:false}):c7:c7;},q.choose(cB.extractMeasuresO,c1));}));})),(c3=new cC({$:1,$0:5,$1:50,$2:95}),c2==null?c3:c2.$0))])))};};cB.cleanSpaces=function(cT){return s.filter(function(cU){var cV;return!(cV=(C.Int())(cU),cV!=null&&cV.$==1);},A.SplitStrings(A.concat(" ",cT),[" "],1));};cB.extractMeasuresO=function(cT){var cU,cV,cW,cX,cY,cZ,c0;cU=A.SplitChars(cT,[" "],1);return!D.Equals(cU,null)&&cU.length===1&&(cW=(C.Int())(s.get(cU,0)),cW!=null&&cW.$==1&&(cV=cW.$0,true))?{$:1,$0:new cC({$:0,$0:cM.abs(cV),$1:cV>=0})}:!D.Equals(cU,null)&&cU.length===3&&(cY=(C.Int())(s.get(cU,0)),cY!=null&&cY.$==1&&(cZ=(C.Int())(s.get(cU,1)),cZ!=null&&cZ.$==1&&(c0=(C.Int())(s.get(cU,2)),c0!=null&&c0.$==1&&(cX=[c0.$0,cY.$0,cZ.$0],true))))?{$:1,$0:new cC({$:1,$0:cX[1],$1:cX[2],$2:cX[0]})}:null;};cB.transpose=function(cT){var cU;cU=q.max(q.map(function(cV){return cV.length;},cT));return s.ofSeq(q.delay(function(){return q.map(function(cV){return s.ofSeq(q.delay(function(){return q.map(function(cW){return cW.length>cV?cW[cV]:" ";},cT);})).join("");},h.range(0,cU-1));}));};cC=bo.Measures=cO.Class({toString:function(){return this.$==1?((((cO.Curried(function(cT,cU,cV,cW){return cT(a.String(cU)+"-"+a.String(cV)+"-"+a.String(cW));},4))(a.id))(h.toInt(this.$0)))(h.toInt(this.$1)))(h.toInt(this.$2)):a.String(h.toInt(this.$1?this.$0:-this.$0));}},null,cC);cD.$cctor=function(){cD.$cctor=a.ignore;cD.CubicInOut=cH.Custom(function(cT){var cU;cU=cT*cT;return 3*cU-2*(cU*cT);});cD.UseAnimations=true;};cE.Append=function(cT,cU){return cT.$==0?cU:cU.$==0?cT:{$:2,$0:cT,$1:cU};};cE.ToArray=function(cT){var cU;function cV(cW){if(cW.$==1)cU.push(cW.$0);else if(cW.$==2){cV(cW.$0);cV(cW.$1);}else if(cW.$==3)s.iter(function(cX){cU.push(cX);},cW.$0);}cU=[];cV(cT);return cU.slice(0);};cE.Concat=function(cT){var cU;cU=bF.ofSeqNonCopying(cT);return bF.TreeReduce(cE.Empty(),cE.Append,cU);};cE.Empty=function(){cL.$cctor();return cL.Empty;};cF.isBlank=function(cT){return A.forall(cJ.IsWhiteSpace,cT);};cG=g.MatchFailureException=cO.Class({},b9,cG);cG.New=cO.Ctor(function(cT,cU,cV){this.message=cT+" at "+a.String(cU)+":"+a.String(cV);bG.setPrototypeOf(this,cG.prototype);},cG);cH=L.Easing=cO.Class({},t,cH);cH.Custom=function(cT){return new cH.New(cT);};cH.New=cO.Ctor(function(cT){t.New.call(this);this.transformTime=cT;},cH);cI.Filter=function(cT,cU){return new bD.New$2(s.filter(cT,cI.ToArray(cU)));};cI.Except=function(cT,cU){var cV;cV=new bD.New$2(cI.ToArray(cU));cV.ExceptWith(cI.ToArray(cT));return cV;};cI.ToArray=function(cT){var cU;cU=s.create(cT.get_Count(),void 0);cT.CopyTo(cU);return cU;};cI.Intersect=function(cT,cU){var cV;cV=new bD.New$2(cI.ToArray(cT));cV.IntersectWith(cI.ToArray(cU));return cV;};cJ.IsWhiteSpace=function(cT){return cT.match(new a.RegExp("\\s"))!==null;};cK.Children=function(cT,cU){var cV,cW,cX;if(cU!=null&&cU.$==1){cX=[];cV=cU.$0[0].nextSibling;while(cV!==cU.$0[1]){cX.push(cV);cV=cV.nextSibling;}return{$:0,$0:cX};}else return{$:0,$0:s.init(cT.childNodes.length,(cW=cT.childNodes,function(cY){return cW[cY];}))};};cK.Except=function(cT,cU){var cV;cV=cT.$0;return{$:0,$0:s.filter(function(cW){return s.forall(function(cX){return!(cW===cX);},cV);},cU.$0)};};cK.Iter=function(cT,cU){s.iter(cT,cU.$0);};cK.DocChildren=function(cT){var cU;function cV(cW){if(cW!=null&&cW.$==2)cV(cW.$0.Current);else if(cW!=null&&cW.$==1)cU.push(cW.$0.El);else if(cW==null);else if(cW!=null&&cW.$==5)cU.push(cW.$0);else if(cW!=null&&cW.$==4)cU.push(cW.$0.Text);else if(cW!=null&&cW.$==6)s.iter(function(cX){if(cX==null||cX.constructor===bG)cV(cX);else cU.push(cX);},cW.$0.Els);else{cV(cW.$0);cV(cW.$1);}}cU=[];cV(cT.Children);return{$:0,$0:bF.ofSeqNonCopying(cU)};};cL.$cctor=function(){cL.$cctor=a.ignore;cL.Empty={$:0};};cO.OnLoad(function(){e.main();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
//# sourceMappingURL=testing.min.map
