(function(n){"use strict";n.IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};n.IntelliFactory.Runtime.OnLoad(function(){n.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});n.ignore=function(){};n.id=function(n){return n};n.fst=function(n){return n[0]};n.snd=function(n){return n[1]};n.trd=function(n){return n[2]};n.console||(n.console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore})})(self);
importScripts(["//cdnjs.cloudflare.com/ajax/libs/require.js/2.3.5/require.min.js"]);
(function(a){"use strict";var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn;b=a.WebSharper=a.WebSharper||{};c=b.Operators=b.Operators||{};d=b.Obj=b.Obj||{};e=b.UI=b.UI||{};f=e.Var=e.Var||{};g=a.FsRoot=a.FsRoot||{};h=g.LibraryJS=g.LibraryJS||{};i=h.WsTranslatorLoader=h.WsTranslatorLoader||{};j=e.View=e.View||{};k=a.EventTarget;l=a.WindowOrWorkerGlobalScope;m=a.WorkerGlobalScope;n=i.WWorker=i.WWorker||{};o=i.WasmLoad=i.WasmLoad||{};p=g.WsTranslator=g.WsTranslator||{};q=p.Dependency=p.Dependency||{};r=i.Remoting=i.Remoting||{};s=r.IMessagingO=r.IMessagingO||{};t=a.StartupCode$WsTranslatorLoader$WsTranslatorLoader=a.StartupCode$WsTranslatorLoader$WsTranslatorLoader||{};u=e.Snap=e.Snap||{};v=b.Concurrency=b.Concurrency||{};w=b.Arrays=b.Arrays||{};x=a.Event;y=b.Utils=b.Utils||{};z=i.WasmStatus=i.WasmStatus||{};A=b.JavaScript=b.JavaScript||{};B=A.JS=A.JS||{};C=A.Pervasives=A.Pervasives||{};D=g.Library=g.Library||{};E=D.String=D.String||{};F=b.Strings=b.Strings||{};G=b.Slice=b.Slice||{};H=D.ParseO=D.ParseO||{};I=b.Unchecked=b.Unchecked||{};J=b.Numeric=b.Numeric||{};K=a.System=a.System||{};L=K.Guid=K.Guid||{};M=e.Var$1=e.Var$1||{};N=b.Remoting=b.Remoting||{};O=b.Collections=b.Collections||{};P=O.Dictionary=O.Dictionary||{};Q=b.Seq=b.Seq||{};R=i.UI=i.UI||{};S=r.CustomXhrProvider=r.CustomXhrProvider||{};T=o.Require=o.Require||{};U=h.Pojo=h.Pojo||{};V=a.XMLHttpRequestEventTarget;W=a.ArrayBufferView;X=b.List=b.List||{};Y=b.DateUtil=b.DateUtil||{};Z=e.ConcreteVar=e.ConcreteVar||{};_0=a.StartupCode$WebSharper_Main$Remoting=a.StartupCode$WebSharper_Main$Remoting||{};_1=O.DictionaryUtil=O.DictionaryUtil||{};_2=r.ReturnQueue=r.ReturnQueue||{};_3=b.Enumerator=b.Enumerator||{};_4=_3.T=_3.T||{};_5=v.Scheduler=v.Scheduler||{};_6=v.AsyncBody=v.AsyncBody||{};_7=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};_8=a.Object;_9=v.CT=v.CT||{};_=X.T=X.T||{};$=e.Abbrev=e.Abbrev||{};ba=$.Fresh=$.Fresh||{};bb=N.XhrProvider=N.XhrProvider||{};bc=a.Error;bd=b.OperationCanceledException=b.OperationCanceledException||{};be=b.CancellationTokenSource=b.CancellationTokenSource||{};bf=a.StartupCode$WsTranslator47$WsTranslator47=a.StartupCode$WsTranslator47$WsTranslator47||{};bg=O.HashSet=O.HashSet||{};bh=b.FormatException=b.FormatException||{};bi=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};bj=O.HashSetUtil=O.HashSetUtil||{};bk=a.IntelliFactory;bl=bk&&bk.Runtime;bm=a.console;bn=a.Date;c.FailWith=function(bo){throw new bc(bo);};c.KeyValue=function(bo){return[bo.K,bo.V];};d=b.Obj=bl.Class({Equals:function(bo){return this===bo;},GetHashCode:function(){return -1;}},null,d);d.New=bl.Ctor(function(){},d);f=e.Var=bl.Class({},d,f);f.New=bl.Ctor(function(){d.New.call(this);},f);i.wasmStatusV=function(){t.$cctor();return t.wasmStatusV;};i.printfn=function(bo){return bo(r.messaging().get_D().wprintfn);};j.Sink=function(bo,bp){function bq(){u.WhenRun(bp(),bo,function(){v.scheduler().Fork(bq);});}v.scheduler().Fork(bq);};n.receiveMessage=function(bo,bp){var bq;bq=bp.data;bq.$==1?(i.printfn(function(br){return function(bs){return br(y.toSafe(bs));};}))(bq.$0):bq.$==2?bo(bq.$0,bq.$1):r.callRunRpc(bq.$0,bq.$1);};o.loadInThisThread=function(bo,bp){var bq,br,bs;br=!self.document;bs=i.wasmStatusV().Get();switch(br?bs.$==3?1:bs.$==1?2:bs.$==2?4:bs.$==0?6:0:bs.$==1?1:bs.$==3?3:bs.$==4?5:bs.$==0?6:0){case 0:null;break;case 1:i.printfn(function(bt){return bt("WASM is loading");});break;case 2:i.printfn(function(bt){return bt("WASM is loading in the main thread");});break;case 3:i.printfn(function(bt){return bt("WASM is loading in a WebWorker");});break;case 4:i.printfn(function(bt){return bt("WASM is loaded in the main thread");});break;case 5:i.printfn(function(bt){return bt("WASM is loaded in a WebWorker");});break;case 6:v.Start(v.FromContinuations(function(bt){var bu;function bv(){o.bindWasm();i.printfn(function(bx){return bx("WASM Initialized!");});i.wasmStatusV().Set(!self.document?z.WasmWorkerLoaded:z.WasmLoaded);bt();}function bw(){var bx,by,bz,bA,bB,bC,bD;bx=(by=self.Module.cwrap("mono_wasm_setenv","void",["string","string"]),function(bE){by(bE[0],bE[1]);});bo?(bx(["MONO_LOG_LEVEL","debug"]),bx(["MONO_LOG_MASK","all"])):void 0;bz=self.config;bA=bz.vfs_prefix;bB=bz.deploy_prefix;bC=bz.enable_debugging;bD=bz.file_list;self.MONO.mono_load_runtime_and_bcl(bA,bB,bC,bD,bv);}return v.Start((bu=null,v.Delay(function(){i.printfn(function(bx){return bx("Loading WASM. Hold on, this will take a while...");});i.wasmStatusV().Set(!self.document?z.WasmWorkerLoading:z.WasmLoading);return v.Bind(v.Sleep(50),function(){return v.Combine(!(!self.document)?(r.installProvider(),v.Zero()):v.Zero(),v.Delay(function(){return v.Bind(o.requireJsA([o.rootPath()+"mono-config.js"]),function(){var bx,by;self.Module=self.Module||{};self.Module.onRuntimeInitialized=bw;bx=i.printfn(function(bz){return function(bA){return bz(y.toSafe(bA));};});self.Module.print=bx;by=i.printfn(function(bz){return function(bA){return bz(y.toSafe(bA));};});self.Module.printErr=by;self.Module.preRun=[function(){o.preloadFiles(o.filesToPreload(bp));}];return v.Bind(o.requireJsA([o.rootPath()+"dotnet.js"]),function(){return v.Zero();});});}));});})),null);}),null);break;}};o.requireJsA=function(bo){return v.FromContinuations(function(bp){return a.requirejs(w.ofSeq(bo),bp);});};o.rootPath=function(){t.$cctor();return t.rootPath;};o.filesToPreload=function(bo){return X.ofSeq(Q.delay(function(){return Q.append(p.dlls(),Q.delay(function(){return w.choose(function(bp){var bq;bq=E.StartsWith("-r:",bp);return bq!=null&&bq.$==1?{$:1,$0:bq.$0}:null;},F.SplitChars(bo,["\n"],0));}));}));};o.preloadFiles=function(bo){var bp,bq,br,bs,bt,bu;self.Browser=U.newPojo([["init",a.ignore],["asyncLoad",function(bv,bw,bx){var by;by=new self.XMLHttpRequest();by.open("GET",bv,true);by.responseType="arraybuffer";by.onload=function(){return by.status===200||by.status===0&&!I.Equals(by.response,null)?bw(new a.Uint8Array(by.response)):bx();};by.onerror=function(){return bx();};return by.send(null);}]]);self.Module=self.Module||{};self.Module.preloadPlugins=[];bp=Q.cache(Q.distinct(Q.map(function(bv){return[F.concat("/",G.array(bv,null,{$:1,$0:w.length(bv)-2})),Q.last(bv)];},Q.map(function(bv){return w.map(F.Trim,bv);},Q.map(function(bv){return F.SplitChars(F.Replace(bv,"\\","/"),["/"],0);},bo)))));Q.iter(function(bv){try{self.FS.mkdir(bv);}catch(bw){null;}},Q.distinct(Q.map(function(bv){return bv[0];},bp)));bq=_3.Get(bp);try{while(bq.MoveNext()){br=bq.Current();bs=br[1];bt=br[0];bu=F.Replace(o.rootPath()+bt+"/"+bs,"//","/");(i.printfn(function(bv){return function(bw){return bv("Preloading "+y.toSafe(bw));};}))(bu);self.FS.createPreloadedFile(bt,bs,bu,1,1);}}finally{if(typeof bq=="object"&&"Dispose"in bq)bq.Dispose();}};o.bindWasm=function(){Q.iter(function(bo){o.bindStaticMethod(bo[0],bo[1],bo[2]);},X.ofArray([["WsTranslator","FsRoot.WsTranslator","runRpc"]]));};o.bindStaticMethod=function(bo,bp,bq){var br;self[((((bl.Curried(function(bs,bt,bu,bv){return bs("WASM_"+y.toSafe(bt)+"_"+y.toSafe(bu)+"_"+y.toSafe(bv));},4))(a.id))(bo))(F.Replace(bp,".","_")))(bq)]=(br=((((bl.Curried(function(bs,bt,bu,bv){return bs("["+y.toSafe(bt)+"]"+y.toSafe(bu)+":"+y.toSafe(bv));},4))(a.id))(bo))(bp))(bq),self.Module.mono_bind_static_method(br));};q=p.Dependency=bl.Class({set_D:function(bo){this.D=bo;},get_D:function(){return this.D;}},d,q);q.New=bl.Ctor(function(bo){d.New.call(this);this.D=bo;},q);r.messaging=function(){t.$cctor();return t.messaging;};r.returnValue=function(bo,bp){r.messaging().get_D().returnValue([bo,bp]);};r.returnExn=function(bo,bp){r.messaging().get_D().returnExn([bo,bp]);};r.callRunRpc=function(bo,bp){(r.messaging().get_D().runRpc(bo))(bp);};r.installProvider=function(){N.set_AjaxProvider(new S.New());};r.returnValue0=function(bo,bp){var bq,br,bs;bq=_2.tryGet(bo);bq==null?void 0:(br=bq.$0,bs=br[0],br[1],bs(bp));};r.returnExn0=function(bo,bp){r.returnExnExn(bo,new bc(bp));};r.returnExnExn=function(bo,bp){var bq,br;bq=_2.tryGet(bo);bq==null?void 0:(br=bq.$0,br[0],br[1](bp));};s.New=function(bo,bp,bq,br){return{runRpc:bo,returnValue:bp,returnExn:bq,wprintfn:br};};t.$cctor=function(){var bo,bp,bq;t.$cctor=a.ignore;function br(bw){return F.concat("\n",bw);}function bs(bw){return E.splitByChar("\n",bw);}function bt(bw){var bx,by;return G.array(bw,{$:1,$0:0},{$:1,$0:(bx=0,(by=w.length(bw)-2,I.Compare(bx,by)===1?bx:by))});}function bu(bw){return F.concat("\n",bw);}function bv(bw){return bw+"T00:00:00";}t.unindentStr=function(bw){return br(E.unindent(bw));};t.skipLastLine=(bo=function(bw){return bt(bs(bw));},function(bw){return bu(bo(bw));});t.parseDateO2=(bp=H.tryParseWith(function(bw){var bx,by;bx=0;return[(by=Y.TryParse(bw),by!=null&&by.$==1&&(bx=by.$0,true)),bx];}),function(bw){return bp(bv(bw));});t.parseDateO=H.tryParseWith(function(bw){var bx,by;bx=0;return[(by=Y.TryParse(bw),by!=null&&by.$==1&&(bx=by.$0,true)),bx];});t.parseIntO=H.tryParseWith(function(bw){var bx;bx=0;return[J.TryParseInt32(bw,{get:function(){return bx;},set:function(by){bx=by;}}),bx];});t.parseInt64O=H.tryParseWith(function(bw){var bx;bx=0;return[J.TryParseInt64(bw,{get:function(){return bx;},set:function(by){bx=by;}}),bx];});t.parseSingleO=H.tryParseWith(function(bw){var bx,by;bx=0;return[(by=a.Number(bw),a.isNaN(by)?false:(bx=by,true)),bx];});t.parseDoubleO=H.tryParseWith(function(bw){var bx,by;bx=0;return[(by=a.Number(bw),a.isNaN(by)?false:(bx=by,true)),bx];});t.parseGuidO=H.tryParseWith(function(bw){var bx;bx=null;return[L.TryParse(bw,{get:function(){return bx;},set:function(by){bx=by;}}),bx];});t["|Date|_|"]=H.parseDateO();t["|Int|_|"]=H.parseIntO();t["|Int64|_|"]=H.parseInt64O();t["|Single|_|"]=H.parseSingleO();t["|Double|_|"]=H.parseDoubleO();t["|Guid|_|"]=H.parseGuidO();t.WasmLoaderVersion="47";t.wasmStatusV=M.Create$1(z.WasmNotLoaded);t.originalProvider=N.AjaxProvider();t.queues=new P.New$5();t.messaging=new q.New(s.New(function(bw){return function(bx){return self.WASM_WsTranslator_FsRoot_WsTranslator_runRpc(bw,bx);};},function(bw){r.returnValue0(bw[0],bw[1]);},function(bw){r.returnExn0(bw[0],bw[1]);},function(bw){return function(bx){return bw("EARLY PRINTING!: "+y.toSafe(bx));};}(function(bw){bm.log(bw);})));t.rv=function(bw){r.returnValue(bw[0],bw[1]);};t.re=function(bw){r.returnExn(bw[0],bw[1]);};t.workerO=null;t.rootPath="/WASM/publish47/";t.detailsV=M.Create$1("");t.fsErrsV=M.Create$1([]);t.wsErrsV=M.Create$1([]);t.wsWrnsV=M.Create$1([]);t.debugV=M.Create$1(false);t.codeV=M.Create$1("\r\n            open WebSharper\r\n            open WebSharper.UI\r\n            open WebSharper.UI.Html\r\n            \r\n            let name = Var.Create \"World\"\r\n            \r\n            [< Inline \"'Hello inline '\" >]\r\n            let bDoc() = \"Hello\"\r\n            \r\n            let cDoc() = text name.V\r\n            \r\n            let aDoc() = \r\n                div [] [\r\n                    text <| bDoc()\r\n                    cDoc()\r\n                ]\r\n            \r\n                    ");t.optsV=M.Create$1(F.concat("\n",Q.map(F.Trim,F.SplitChars("\r\n                                            /tmp/source.fsx\r\n                                            -o:source.exe\r\n                                            --simpleresolution\r\n                                            --nowarn:3186\r\n                                            --optimize-\r\n                                            --noframework\r\n                                            --fullpaths\r\n                                            --warn:3\r\n                                            --target:exe\r\n                                            -r:/dlls/WebSharper.Core.dll\r\n                                            -r:/dlls/WebSharper.Main.dll\r\n                                            -r:/dlls/WebSharper.UI.dll\r\n                                            -r:/dlls/WebSharper.Sitelets.dll\r\n                                            -r:/managed/FSharp.Core.dll\r\n                                            -r:/managed/mscorlib.dll\r\n                                            -r:/managed/netstandard.dll\r\n                                            -r:/managed/System.dll\r\n                                            -r:/managed/System.Core.dll\r\n                                            -r:/managed/System.IO.dll\r\n                                            -r:/managed/System.Runtime.dll\r\n                                            -r:/managed/System.Net.Http.dll\r\n                                            -r:/managed/System.Threading.dll\r\n                                            -r:/managed/System.Numerics.dll\r\n                                            -r:/managed/System.Runtime.Numerics.dll\r\n                                        ",["\n"],0))));!(!self.document)?r.messaging().set_D((bq=r.messaging().get_D(),s.New(bq.runRpc,bq.returnValue,bq.returnExn,function(bw){var bx;bm.log(bw);bx=R.detailsV().Get();R.detailsV().Set(bx+(bx===""?"":"\n")+bw);}))):void 0;};u.WhenRun=function(bo,bp,bq){var br;br=bo.s;br==null?bq():br!=null&&br.$==2?(br.$1.push(bq),bp(br.$0)):br!=null&&br.$==3?(br.$0.push(bp),br.$1.push(bq)):bp(br.$0);};v.FromContinuations=function(bo){return function(bp){var bq;function br(bs){if(bq[0])c.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{bq[0]=true;v.scheduler().Fork(bs);}}bq=[false];bo(function(bs){br(function(){bp.k({$:0,$0:bs});});},function(bs){br(function(){bp.k({$:1,$0:bs});});},function(bs){br(function(){bp.k({$:2,$0:bs});});});};};v.Delay=function(bo){return function(bp){try{(bo(null))(bp);}catch(bq){bp.k({$:1,$0:bq});}};};v.Bind=function(bo,bp){return v.checkCancel(function(bq){bo(_6.New(function(br){var bs;if(br.$==0){bs=br.$0;v.scheduler().Fork(function(){try{(bp(bs))(bq);}catch(bt){bq.k({$:1,$0:bt});}});}else v.scheduler().Fork(function(){bq.k(br);});},bq.ct));});};v.Sleep=function(bo){return function(bp){var bq,br;bq=void 0;br=void 0;bq=a.setTimeout(function(){br.Dispose();v.scheduler().Fork(function(){bp.k({$:0,$0:null});});},bo);br=v.Register(bp.ct,function(){a.clearTimeout(bq);v.scheduler().Fork(function(){v.cancel(bp);});});};};v.Combine=function(bo,bp){return v.Bind(bo,function(){return bp;});};v.Zero=function(){_7.$cctor();return _7.Zero;};v.Start=function(bo,bp){var bq,br;bq=(br=(v.defCTS())[0],bp==null?br:bp.$0);v.scheduler().Fork(function(){if(!bq.c)bo(_6.New(function(bs){if(bs.$==1)v.UncaughtAsyncError(bs.$0);},bq));});};v.scheduler=function(){_7.$cctor();return _7.scheduler;};v.checkCancel=function(bo){return function(bp){if(bp.ct.c)v.cancel(bp);else bo(bp);};};v.Register=function(bo,bp){var bq;return bo===v.noneCT()?{Dispose:function(){return null;}}:(bq=bo.r.push(bp)-1,{Dispose:function(){return w.set(bo.r,bq,a.ignore);}});};v.cancel=function(bo){bo.k({$:2,$0:new bd.New(bo.ct)});};v.defCTS=function(){_7.$cctor();return _7.defCTS;};v.UncaughtAsyncError=function(bo){bm.log("WebSharper: Uncaught asynchronous exception",bo);};v.noneCT=function(){_7.$cctor();return _7.noneCT;};v.Return=function(bo){return function(bp){bp.k({$:0,$0:bo});};};w.length=function(bo){return bo.dims===2?bo.length*bo.length:bo.length;};w.get=function(bo,bp){w.checkBounds(bo,bp);return bo[bp];};w.set=function(bo,bp,bq){w.checkBounds(bo,bp);bo[bp]=bq;};w.checkBounds=function(bo,bp){if(bp<0||bp>=bo.length)c.FailWith("Index was outside the bounds of the array.");};y.toSafe=function(bo){return bo==null?"":bo;};z.WasmWorkerLoading={$:3};z.WasmLoading={$:1};z.WasmWorkerLoaded={$:4};z.WasmLoaded={$:2};z.WasmNotLoaded={$:0};B.GetFieldValues=function(bo){var bp,bq;bp=[];for(var br in bo)bp.push(bo[br]);return bp;};C.NewFromSeq=function(bo){var bp,bq,br;bp={};bq=_3.Get(bo);try{while(bq.MoveNext()){br=bq.Current();bp[br[0]]=br[1];}}finally{if(typeof bq=="object"&&"Dispose"in bq)bq.Dispose();}return bp;};E.unindent=function(bo){var bp,bq,br,bs;bp=F.SplitChars(bo,["\n"],0);bq=(br=Q.tryFindIndex(function(bt){return" "!==bt;},(bs=Q.tryFind(function(bt){return F.Trim(bt)!=="";},bp),bs==null?"":bs.$0)),br==null?0:br.$0);return Q.filter(function(bt){return!F.StartsWith(bt,"# 1 ");},Q.map(function(bt){return bt.length<=bq?"":bt.substring(bq);},bp));};E.splitByChar=function(bo,bp){return F.SplitChars(bp,[bo],0);};E.StartsWith=function(bo,bp){return F.StartsWith(bp,bo)?{$:1,$0:G.string(bp,{$:1,$0:bo.length},null)}:null;};F.concat=function(bo,bp){return w.ofSeq(bp).join(bo);};F.SplitChars=function(bo,bp,bq){return F.Split(bo,new a.RegExp("["+F.RegexEscape(bp.join(""))+"]"),bq);};F.Trim=function(bo){return bo.replace(new a.RegExp("^\\s+"),"").replace(new a.RegExp("\\s+$"),"");};F.Replace=function(bo,bp,bq){function br(bs){var bt,bu,bv;bt=bs.indexOf(bp);return bt!==-1?(bu=F.ReplaceOnce(bs,bp,bq),(bv=bt+bq.length,F.Substring(bu,0,bt+bq.length)+br(bu.substring(bv)))):bs;}return br(bo);};F.StartsWith=function(bo,bp){return bo.substring(0,bp.length)==bp;};F.Split=function(bo,bp,bq){return bq===1?w.filter(function(br){return br!=="";},F.SplitWith(bo,bp)):F.SplitWith(bo,bp);};F.RegexEscape=function(bo){return bo.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};F.ReplaceOnce=function(bo,bp,bq){return bo.replace(bp,bq);};F.SplitWith=function(bo,bp){return bo.split(bp);};F.Substring=function(bo,bp,bq){return bo.substr(bp,bq);};G.array=function(bo,bp,bq){return bp==null?bq!=null&&bq.$==1?bo.slice(0,bq.$0+1):[]:bq==null?bo.slice(bp.$0):bo.slice(bp.$0,bq.$0+1);};G.string=function(bo,bp,bq){return bp==null?bq!=null&&bq.$==1?bo.slice(0,bq.$0+1):"":bq==null?bo.slice(bp.$0):bo.slice(bp.$0,bq.$0+1);};H.tryParseWith=function(bo){function bp(bq,br){return bq?{$:1,$0:br}:null;}return function(bq){return bp.apply(null,bo(bq));};};H.parseDateO=function(){t.$cctor();return t.parseDateO;};H.parseIntO=function(){t.$cctor();return t.parseIntO;};H.parseInt64O=function(){t.$cctor();return t.parseInt64O;};H.parseSingleO=function(){t.$cctor();return t.parseSingleO;};H.parseDoubleO=function(){t.$cctor();return t.parseDoubleO;};H.parseGuidO=function(){t.$cctor();return t.parseGuidO;};I.Equals=function(bo,bp){var bq,br,bs,bt;if(bo===bp)return true;else{bq=typeof bo;if(bq=="object"){if(bo===null||bo===void 0||bp===null||bp===void 0)return false;else if("Equals"in bo)return bo.Equals(bp);else if(bo instanceof a.Array&&bp instanceof a.Array)return I.arrayEquals(bo,bp);else if(bo instanceof a.Date&&bp instanceof a.Date)return I.dateEquals(bo,bp);else{br=[true];for(var bu in bo)if(function(bv){br[0]=!bo.hasOwnProperty(bv)||bp.hasOwnProperty(bv)&&I.Equals(bo[bv],bp[bv]);return!br[0];}(bu))break;if(br[0]){for(var bv in bp)if(function(bw){br[0]=!bp.hasOwnProperty(bw)||bo.hasOwnProperty(bw);return!br[0];}(bv))break;}return br[0];}}else return bq=="function"&&("$Func"in bo?bo.$Func===bp.$Func&&bo.$Target===bp.$Target:"$Invokes"in bo&&"$Invokes"in bp&&I.arrayEquals(bo.$Invokes,bp.$Invokes));}};I.Compare=function(bo,bp){var bq,br,bs,bt,bu,bv;if(bo===bp)return 0;else{br=typeof bo;switch(br=="function"?1:br=="boolean"?2:br=="number"?2:br=="string"?2:br=="object"?3:0){case 0:return typeof bp=="undefined"?0:-1;case 1:return c.FailWith("Cannot compare function values.");case 2:return bo<bp?-1:1;case 3:if(bo===null)bs=-1;else if(bp===null)bs=1;else if("CompareTo"in bo)bs=bo.CompareTo(bp);else if("CompareTo0"in bo)bs=bo.CompareTo0(bp);else if(bo instanceof a.Array&&bp instanceof a.Array)bs=I.compareArrays(bo,bp);else if(bo instanceof a.Date&&bp instanceof a.Date)bs=I.compareDates(bo,bp);else{bt=[0];for(var bw in bo)if(function(bx){return!bo.hasOwnProperty(bx)?false:!bp.hasOwnProperty(bx)?(bt[0]=1,true):(bt[0]=I.Compare(bo[bx],bp[bx]),bt[0]!==0);}(bw))break;if(bt[0]===0){for(var bx in bp)if(function(by){return!bp.hasOwnProperty(by)?false:!bo.hasOwnProperty(by)&&(bt[0]=-1,true);}(bx))break;}bs=bt[0];}return bs;}}};I.arrayEquals=function(bo,bp){var bq,br;if(w.length(bo)===w.length(bp)){bq=true;br=0;while(bq&&br<w.length(bo)){!I.Equals(w.get(bo,br),w.get(bp,br))?bq=false:void 0;br=br+1;}return bq;}else return false;};I.dateEquals=function(bo,bp){return bo.getTime()===bp.getTime();};I.compareArrays=function(bo,bp){var bq,br;if(w.length(bo)<w.length(bp))return -1;else if(w.length(bo)>w.length(bp))return 1;else{bq=0;br=0;while(bq===0&&br<w.length(bo)){bq=I.Compare(w.get(bo,br),w.get(bp,br));br=br+1;}return bq;}};I.compareDates=function(bo,bp){return I.Compare(bo.getTime(),bp.getTime());};I.Hash=function(bo){var bp;bp=typeof bo;return bp=="function"?0:bp=="boolean"?bo?1:0:bp=="number"?bo:bp=="string"?I.hashString(bo):bp=="object"?bo==null?0:bo instanceof a.Array?I.hashArray(bo):I.hashObject(bo):0;};I.hashString=function(bo){var bp,bq,br;if(bo===null)return 0;else{bp=5381;for(bq=0,br=bo.length-1;bq<=br;bq++)bp=I.hashMix(bp,bo[bq].charCodeAt());return bp;}};I.hashArray=function(bo){var bp,bq,br;bp=-34948909;for(bq=0,br=w.length(bo)-1;bq<=br;bq++)bp=I.hashMix(bp,I.Hash(w.get(bo,bq)));return bp;};I.hashObject=function(bo){var bp,bq;if("GetHashCode"in bo)return bo.GetHashCode();else{bp=[0];for(var br in bo)if(function(bs){bp[0]=I.hashMix(I.hashMix(bp[0],I.hashString(bs)),I.Hash(bo[bs]));return false;}(br))break;return bp[0];}};I.hashMix=function(bo,bp){return(bo<<5)+bo+bp;};J.TryParseInt32=function(bo,bp){return J.TryParse(bo,-2147483648,2147483647,bp);};J.TryParseInt64=function(bo,bp){return J.TryParse(bo,-9223372036854775808,9223372036854775807,bp);};L.TryParse=function(bo,bp){try{bp.set(L.Parse(bo));return true;}catch(bq){return false;}};L.Parse=function(bo){var bp,bq,br;try{return L.ParseExact(bo,"D");}catch(bs){try{bp=L.ParseExact(bo,"B");}catch(bt){try{bq=L.ParseExact(bo,"P");}catch(bu){try{br=L.ParseExact(bo,"N");}catch(bv){br=L.ParseExact(bo,"X");}bq=br;}bp=bq;}return bp;}};L.ParseExact=function(bo,bp){var bq,br,bs,bu,bv,bw,bx,by,bz,bA,bB,bC,bD;function bt(bE){var bF,bG,bH,bI;for(bF=0,bG=35;bF<=bG;bF++){bF===8||(bF===13||(bF===18||bF===23))?bE[bF]!=="-"?L.ShapeError():void 0:(bI=bE[bF],!("0"<=bI&&bI<="9"||"a"<=bI&&bI<="f")?L.ShapeError():void 0);}return bE;}bu=bp.toUpperCase();if(bu==="N"){bv=F.Trim(bo).toLowerCase();if(bv.length!==32)L.ShapeError();for(bw=0,bx=31;bw<=bx;bw++){by=bv[bw];!("0"<=by&&by<="9"||"a"<=by&&by<="f")?L.ShapeError():void 0;}return F.Substring(bv,0,8)+"-"+F.Substring(bv,8,4)+"-"+F.Substring(bv,12,4)+"-"+F.Substring(bv,16,4)+"-"+bv.substring(20);}else if(bu==="D"){bq=F.Trim(bo).toLowerCase();bq.length!==36?L.ShapeError():void 0;return bt(bq);}else if(bu==="B"){br=F.Trim(bo).toLowerCase();br.length!==38||br[0]!=="{"||br[17]!=="}"?L.ShapeError():void 0;return bt(F.Substring(br,1,36));}else if(bu==="P"){bs=F.Trim(bo).toLowerCase();bs.length!==38||bs[0]!=="("||bs[17]!==")"?L.ShapeError():void 0;return bt(F.Substring(bs,1,36));}else if(bu==="X"){bz=F.Trim(bo).toLowerCase();if(bz.length!==68)L.ShapeError();for(bA=0,bB=67;bA<=bB;bA++){switch(bA){case 26:case 0:if(bz[bA]!=="{")L.ShapeError();break;case 62:case 57:case 52:case 47:case 42:case 37:case 32:case 27:case 19:case 12:case 1:if(bz[bA]!=="0")L.ShapeError();break;case 63:case 58:case 53:case 48:case 43:case 38:case 33:case 28:case 20:case 13:case 2:if(bz[bA]!=="x")L.ShapeError();break;case 61:case 56:case 51:case 46:case 41:case 36:case 31:case 25:case 18:case 11:if(bz[bA]!==",")L.ShapeError();break;case 67:case 66:if(bz[bA]!=="{")L.ShapeError();break;default:bD=bz[bA];!("0"<=bD&&bD<="9"||"a"<=bD&&bD<="f")?L.ShapeError():void 0;break;}}return F.Substring(bz,3,8)+"-"+F.Substring(bz,14,4)+"-"+F.Substring(bz,21,4)+"-"+F.Substring(bz,29,2)+F.Substring(bz,34,2)+"-"+F.Substring(bz,39,2)+F.Substring(bz,44,2)+F.Substring(bz,49,2)+F.Substring(bz,54,2)+F.Substring(bz,59,2)+F.Substring(bz,64,2);}else return L.FormatError();};L.ShapeError=function(){throw new bh.New$1("Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");};L.FormatError=function(){throw new bh.New$1("Format String can be only \"D\", \"d\", \"N\", \"n\", \"P\", \"p\", \"B\", \"b\", \"X\" or \"x\".");};M=e.Var$1=bl.Class({},d,M);M.Create$1=function(bo){return new Z.New(false,u.New({$:2,$0:bo,$1:[]}),bo);};N.AjaxProvider=function(){_0.$cctor();return _0.AjaxProvider;};N.set_AjaxProvider=function(bo){_0.$cctor();_0.AjaxProvider=bo;};P=O.Dictionary=bl.Class({set:function(bo,bp){var bq,br,bs,bt;bq=this;br=this.hash(bo);bs=this.data[br];bs==null?(this.count=this.count+1,this.data[br]=new a.Array({K:bo,V:bp})):(bt=w.tryFindIndex(function(bu){return bq.equals.apply(null,[(c.KeyValue(bu))[0],bo]);},bs),bt==null?(this.count=this.count+1,bs.push({K:bo,V:bp})):bs[bt.$0]={K:bo,V:bp});},Remove:function(bo){return this.remove(bo);},Add:function(bo,bp){this.add(bo,bp);},TryGetValue:function(bo,bp){var bq,br,bs;bq=this;br=this.data[this.hash(bo)];return br==null?false:(bs=w.tryPick(function(bt){var bu;bu=c.KeyValue(bt);return bq.equals.apply(null,[bu[0],bo])?{$:1,$0:bu[1]}:null;},br),bs!=null&&bs.$==1&&(bp.set(bs.$0),true));},remove:function(bo){var bp,bq,br,bs;bp=this;bq=this.hash(bo);br=this.data[bq];return br==null?false:(bs=w.filter(function(bt){return!bp.equals.apply(null,[(c.KeyValue(bt))[0],bo]);},br),w.length(bs)<br.length&&(this.count=this.count-1,this.data[bq]=bs,true));},add:function(bo,bp){var bq,br,bs;bq=this;br=this.hash(bo);bs=this.data[br];bs==null?(this.count=this.count+1,this.data[br]=new a.Array({K:bo,V:bp})):(w.exists(function(bt){return bq.equals.apply(null,[(c.KeyValue(bt))[0],bo]);},bs)?_1.alreadyAdded():void 0,this.count=this.count+1,bs.push({K:bo,V:bp}));},GetEnumerator:function(){return _3.Get0(this);},GetEnumerator0:function(){return _3.Get0(w.concat(B.GetFieldValues(this.data)));}},d,P);P.New$5=bl.Ctor(function(){P.New$6.call(this,[],I.Equals,I.Hash);},P);P.New$6=bl.Ctor(function(bo,bp,bq){var br,bs;d.New.call(this);this.equals=bp;this.hash=bq;this.count=0;this.data=[];br=_3.Get(bo);try{while(br.MoveNext()){bs=br.Current();this.set(bs.K,bs.V);}}finally{if(typeof br=="object"&&"Dispose"in br)br.Dispose();}},P);Q.map=function(bo,bp){return{GetEnumerator:function(){var bq;bq=_3.Get(bp);return new _4.New(null,null,function(br){return bq.MoveNext()&&(br.c=bo(bq.Current()),true);},function(){bq.Dispose();});}};};Q.delay=function(bo){return{GetEnumerator:function(){return _3.Get(bo());}};};Q.append=function(bo,bp){return{GetEnumerator:function(){var bq,br;bq=_3.Get(bo);br=[true];return new _4.New(bq,null,function(bs){var bt;return bs.s.MoveNext()?(bs.c=bs.s.Current(),true):(bt=bs.s,!I.Equals(bt,null)?bt.Dispose():void 0,bs.s=null,br[0]&&(br[0]=false,bs.s=_3.Get(bp),bs.s.MoveNext()?(bs.c=bs.s.Current(),true):(bs.s.Dispose(),bs.s=null,false)));},function(bs){var bt;bt=bs.s;!I.Equals(bt,null)?bt.Dispose():void 0;});}};};Q.distinct=function(bo){return Q.distinctBy(a.id,bo);};Q.cache=function(bo){var bp,bq;bp=[];bq=[_3.Get(bo)];return{GetEnumerator:function(){return new _4.New(0,null,function(br){var bs;return br.s<bp.length?(br.c=bp[br.s],br.s=br.s+1,true):(bs=bq[0],I.Equals(bs,null)?false:bs.MoveNext()?(br.s=br.s+1,br.c=bs.Current(),bp.push(br.c),true):(bs.Dispose(),bq[0]=null,false));},void 0);}};};Q.iter=function(bo,bp){var bq;bq=_3.Get(bp);try{while(bq.MoveNext())bo(bq.Current());}finally{if(typeof bq=="object"&&"Dispose"in bq)bq.Dispose();}};Q.tryFind=function(bo,bp){var bq,br,bs;bq=_3.Get(bp);try{br=null;while(br==null&&bq.MoveNext()){bs=bq.Current();bo(bs)?br={$:1,$0:bs}:void 0;}return br;}finally{if(typeof bq=="object"&&"Dispose"in bq)bq.Dispose();}};Q.tryFindIndex=function(bo,bp){var bq,br,bs;bq=_3.Get(bp);try{br=true;bs=0;while(br&&bq.MoveNext())if(bo(bq.Current()))br=false;else bs=bs+1;return br?null:{$:1,$0:bs};}finally{if(typeof bq=="object"&&"Dispose"in bq)bq.Dispose();}};Q.filter=function(bo,bp){return{GetEnumerator:function(){var bq;bq=_3.Get(bp);return new _4.New(null,null,function(br){var bs,bt,bu;bs=bq.MoveNext();bt=bq.Current();bu=false;while(bs)if(bo(bt)){br.c=bt;bu=true;bs=false;}else if(bq.MoveNext())bt=bq.Current();else bs=false;return bu;},function(){bq.Dispose();});}};};Q.collect=function(bo,bp){return Q.concat(Q.map(bo,bp));};Q.distinctBy=function(bo,bp){return{GetEnumerator:function(){var bq,br;bq=_3.Get(bp);br=new bg.New$3();return new _4.New(null,null,function(bs){var bt,bu;if(bq.MoveNext()){bt=bq.Current();bu=br.Add(bo(bt));while(!bu&&bq.MoveNext()){bt=bq.Current();bu=br.Add(bo(bt));}return bu&&(bs.c=bt,true);}else return false;},function(){bq.Dispose();});}};};Q.concat=function(bo){return{GetEnumerator:function(){var bp;function bq(br){var bs;while(true){bs=br.s;if(I.Equals(bs,null)){if(bp.MoveNext()){br.s=_3.Get(bp.Current());br=br;}else{bp.Dispose();return false;}}else if(bs.MoveNext()){br.c=bs.Current();return true;}else{br.Dispose();br.s=null;br=br;}}}bp=_3.Get(bo);return new _4.New(null,null,bq,function(br){var bs;bs=br.s;!I.Equals(bs,null)?bs.Dispose():void 0;!I.Equals(bp,null)?bp.Dispose():void 0;});}};};R.detailsV=function(){t.$cctor();return t.detailsV;};u.Obsolete=function(bo){var bp,bq,br,bs,bt;bq=bo.s;if(bq==null||(bq!=null&&bq.$==2?(bp=bq.$1,false):bq!=null&&bq.$==3?(bp=bq.$1,false):true))void 0;else{bo.s=null;for(br=0,bs=w.length(bp)-1;br<=bs;br++){bt=w.get(bp,br);typeof bt=="object"?function(bu){u.Obsolete(bu);}(bt):bt();}}};u.New=function(bo){return{s:bo};};S=r.CustomXhrProvider=bl.Class({},d,S);S.New=bl.Ctor(function(){d.New.call(this);},S);T=o.Require=bl.Class({},d,T);p.dlls=function(){return w.ofSeq(X.ofSeq(Q.delay(function(){return Q.collect(function(bo){return Q.append([bo.$0],Q.delay(function(){return[p.fromDll2Meta(bo).$0];}));},p.justDlls());})));};p.fromDll2Meta=function(bo){return{$:0,$0:F.Replace(bo.$0,".dll",".meta")};};p.justDlls=function(){bf.$cctor();return bf.justDlls;};w.choose=function(bo,bp){var bq,br,bs,bt;bq=[];for(br=0,bs=bp.length-1;br<=bs;br++){bt=bo(bp[br]);bt==null?void 0:bq.push(bt.$0);}return bq;};w.map=function(bo,bp){var bq,br,bs;bq=new a.Array(bp.length);for(br=0,bs=bp.length-1;br<=bs;br++)bq[br]=bo(bp[br]);return bq;};w.ofSeq=function(bo){var bp,bq;if(bo instanceof a.Array)return bo.slice();else if(bo instanceof _)return w.ofList(bo);else{bp=[];bq=_3.Get(bo);try{while(bq.MoveNext())bp.push(bq.Current());return bp;}finally{if(typeof bq=="object"&&"Dispose"in bq)bq.Dispose();}}};w.ofList=function(bo){var bp,bq;bq=[];bp=bo;while(!(bp.$==0)){bq.push(X.head(bp));bp=X.tail(bp);}return bq;};w.tryFindIndex=function(bo,bp){var bq,br;bq=null;br=0;while(br<bp.length&&bq==null){bo(bp[br])?bq={$:1,$0:br}:void 0;br=br+1;}return bq;};w.filter=function(bo,bp){var bq,br,bs;bq=[];for(br=0,bs=bp.length-1;br<=bs;br++)if(bo(bp[br]))bq.push(bp[br]);return bq;};w.concat=function(bo){return a.Array.prototype.concat.apply([],w.ofSeq(bo));};w.tryPick=function(bo,bp){var bq,br,bs;bq=null;br=0;while(br<bp.length&&bq==null){bs=bo(bp[br]);bs!=null&&bs.$==1?bq=bs:void 0;br=br+1;}return bq;};w.exists=function(bo,bp){var bq,br,bs,bt;bq=false;br=0;bt=w.length(bp);while(!bq&&br<bt)if(bo(bp[br]))bq=true;else br=br+1;return bq;};U.newPojo=function(bo){var bp,bq;function br(bt,bu){return function(bv){return U.addProp(bt,bu,bv);};}function bs(bt){}bp={};Q.iter((bq=function(bt){return(function(bu){return br(bu[0],bu[1]);}(bt))(bp);},function(bt){return bs(bq(bt));}),bo);return bp;};U.addProp=function(bo,bp,bq){bq[bo]=bp;return bq;};X.ofArray=function(bo){var bp,bq,br;bp=_.Empty;for(bq=w.length(bo)-1,br=0;bq>=br;bq--)bp=new _({$:1,$0:w.get(bo,bq),$1:bp});return bp;};X.ofSeq=function(bo){var bp,bq,br,bs,bt,bu;if(bo instanceof _)return bo;else if(bo instanceof a.Array)return X.ofArray(bo);else{bp=_3.Get(bo);try{br=bp.MoveNext();if(!br)bq=_.Empty;else{bt=new _({$:1});bs=bt;while(br){bs.$0=bp.Current();bp.MoveNext()?bs=(bu=new _({$:1}),bs.$1=bu,bu):br=false;}bs.$1=_.Empty;bq=bt;}return bq;}finally{if(typeof bp=="object"&&"Dispose"in bp)bp.Dispose();}}};X.head=function(bo){return bo.$==1?bo.$0:X.listEmpty();};X.tail=function(bo){return bo.$==1?bo.$1:X.listEmpty();};X.listEmpty=function(){return c.FailWith("The input list was empty.");};Y.TryParse=function(bo){var bp;bp=bn.parse(bo);return a.isNaN(bp)?null:{$:1,$0:bp};};J.TryParse=function(bo,bp,bq,br){var bs,bt;bs=+bo;bt=bs===bs-bs%1&&bs>=bp&&bs<=bq;bt?br.set(bs):void 0;return bt;};Z=e.ConcreteVar=bl.Class({get_View:function(){return this.view;},Set:function(bo){if(this.isConst)(function(bp){return bp("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal");}(function(bp){bm.log(bp);}));else{u.Obsolete(this.snap);this.current=bo;this.snap=u.New({$:2,$0:bo,$1:[]});}},Get:function(){return this.current;}},f,Z);Z.New=bl.Ctor(function(bo,bp,bq){var br;br=this;f.New.call(this);this.isConst=bo;this.current=bq;this.snap=bp;this.view=function(){return br.snap;};this.id=ba.Int();},Z);_0.$cctor=function(){_0.$cctor=a.ignore;_0.EndPoint="?";_0.AjaxProvider=new bb.New();};_1.alreadyAdded=function(){return c.FailWith("An item with the same key has already been added.");};_2.tryGet=function(bo){var bp,bq,br,bs;bp=_2.tryGetS(bo);return bp==null?null:(bq=bp.$0,(br=Q.tryHead(bq),br!=null&&br.$==1?(bs=G.array(bq,{$:1,$0:1},null),(_2.queues().Remove(bo),_2.queues().Add(bo,bs),{$:1,$0:br.$0})):null));};_2.tryGetS=function(bo){return(H.tryParseWith(function(bp){var bq;bq=null;return[_2.queues().TryGetValue(bp,{get:function(){return bq;},set:function(br){bq=br;}}),bq];}))(bo);};_2.queues=function(){t.$cctor();return t.queues;};_3.Get=function(bo){return bo instanceof a.Array?_3.ArrayEnumerator(bo):I.Equals(typeof bo,"string")?_3.StringEnumerator(bo):bo.GetEnumerator();};_3.ArrayEnumerator=function(bo){return new _4.New(0,null,function(bp){var bq;bq=bp.s;return bq<w.length(bo)&&(bp.c=w.get(bo,bq),bp.s=bq+1,true);},void 0);};_3.StringEnumerator=function(bo){return new _4.New(0,null,function(bp){var bq;bq=bp.s;return bq<bo.length&&(bp.c=bo[bq],bp.s=bq+1,true);},void 0);};_3.Get0=function(bo){return bo instanceof a.Array?_3.ArrayEnumerator(bo):I.Equals(typeof bo,"string")?_3.StringEnumerator(bo):"GetEnumerator0"in bo?bo.GetEnumerator0():bo.GetEnumerator();};_4=_3.T=bl.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},d,_4);_4.New=bl.Ctor(function(bo,bp,bq,br){d.New.call(this);this.s=bo;this.c=bp;this.n=bq;this.d=br;},_4);_5=v.Scheduler=bl.Class({Fork:function(bo){var bp;bp=this;this.robin.push(bo);this.idle?(this.idle=false,a.setTimeout(function(){bp.tick();},0)):void 0;},tick:function(){var bo,bp,bq;bp=this;bq=bn.now();bo=true;while(bo)if(this.robin.length===0){this.idle=true;bo=false;}else{(this.robin.shift())();bn.now()-bq>40?(a.setTimeout(function(){bp.tick();},0),bo=false):void 0;}}},d,_5);_5.New=bl.Ctor(function(){d.New.call(this);this.idle=true;this.robin=[];},_5);_6.New=function(bo,bp){return{k:bo,ct:bp};};_7.$cctor=function(){_7.$cctor=a.ignore;_7.noneCT=_9.New(false,[]);_7.scheduler=new _5.New();_7.defCTS=[new be.New()];_7.Zero=v.Return();_7.GetCT=function(bo){bo.k({$:0,$0:bo.ct});};};Q.last=function(bo){var bp,bq;bp=_3.Get(bo);try{if(!bp.MoveNext())bq=Q.insufficient();else{while(bp.MoveNext());bq=bp.Current();}return bq;}finally{if(typeof bp=="object"&&"Dispose"in bp)bp.Dispose();}};Q.insufficient=function(){return c.FailWith("The input sequence has an insufficient number of elements.");};Q.tryHead=function(bo){var bp;bp=_3.Get(bo);try{return bp.MoveNext()?{$:1,$0:bp.Current()}:null;}finally{if(typeof bp=="object"&&"Dispose"in bp)bp.Dispose();}};_9.New=function(bo,bp){return{c:bo,r:bp};};_=X.T=bl.Class({GetEnumerator:function(){return new _4.New(this,null,function(bo){var bp;bp=bo.s;return bp.$==0?false:(bo.c=bp.$0,bo.s=bp.$1,true);},void 0);},GetEnumerator0:function(){return _3.Get(this);}},null,_);_.Empty=new _({$:0});ba.Int=function(){ba.set_counter(ba.counter()+1);return ba.counter();};ba.set_counter=function(bo){bi.$cctor();bi.counter=bo;};ba.counter=function(){bi.$cctor();return bi.counter;};bb=N.XhrProvider=bl.Class({},d,bb);bb.New=bl.Ctor(function(){d.New.call(this);},bb);bd=b.OperationCanceledException=bl.Class({},bc,bd);bd.New=bl.Ctor(function(bo){bd.New$1.call(this,"The operation was canceled.",null,bo);},bd);bd.New$1=bl.Ctor(function(bo,bp,bq){this.message=bo;this.inner=bp;_8.setPrototypeOf(this,bd.prototype);this.ct=bq;},bd);be=b.CancellationTokenSource=bl.Class({},d,be);be.New=bl.Ctor(function(){d.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},be);bf.$cctor=function(){bf.$cctor=a.ignore;bf.justDlls=[{$:0,$0:"/dlls/WebSharper.Main.dll"},{$:0,$0:"/dlls/WebSharper.Collections.dll"},{$:0,$0:"/dlls/WebSharper.Control.dll"},{$:0,$0:"/dlls/WebSharper.Web.dll"},{$:0,$0:"/dlls/WebSharper.Sitelets.dll"},{$:0,$0:"/dlls/WebSharper.UI.dll"},{$:0,$0:"/dlls/WebSharper.UI.Templating.Runtime.dll"},{$:0,$0:"/dlls/WebSharper.Data.dll"}];};bg=O.HashSet=bl.Class({Add:function(bo){return this.add(bo);},add:function(bo){var bp,bq;bp=this.hash(bo);bq=this.data[bp];return bq==null?(this.data[bp]=[bo],this.count=this.count+1,true):this.arrContains(bo,bq)?false:(bq.push(bo),this.count=this.count+1,true);},arrContains:function(bo,bp){var bq,br,bs,bt;bq=true;br=0;bt=bp.length;while(bq&&br<bt)if(this.equals.apply(null,[bp[br],bo]))bq=false;else br=br+1;return!bq;},GetEnumerator:function(){return _3.Get(bj.concat(this.data));},GetEnumerator0:function(){return _3.Get(bj.concat(this.data));}},d,bg);bg.New$3=bl.Ctor(function(){bg.New$4.call(this,[],I.Equals,I.Hash);},bg);bg.New$4=bl.Ctor(function(bo,bp,bq){var br;d.New.call(this);this.equals=bp;this.hash=bq;this.data=[];this.count=0;br=_3.Get(bo);try{while(br.MoveNext())this.add(br.Current());}finally{if(typeof br=="object"&&"Dispose"in br)br.Dispose();}},bg);j=e.View=bl.Class({},null,j);bh=b.FormatException=bl.Class({},bc,bh);bh.New$1=bl.Ctor(function(bo){this.message=bo;_8.setPrototypeOf(this,bh.prototype);},bh);bi.$cctor=function(){bi.$cctor=a.ignore;bi.counter=0;};bj.concat=function(bo){var bp,bq;bp=[];for(var br in bo)bp.push.apply(bp,bo[br]);return bp;};j.Sink(function(bo){a.postMessage({$:3,$0:bo});},i.wasmStatusV().get_View());a.onmessage=function(bo){return n.receiveMessage(o.loadInThisThread,bo);};r.messaging().set_D(s.New(function(bo){return function(bp){return self.WASM_WsTranslator_FsRoot_WsTranslator_runRpc(bo,bp);};},function(bo){a.postMessage({$:0,$0:bo[0],$1:bo[1]});},function(bo){a.postMessage({$:1,$0:bo[0],$1:bo[1]});},function(bo){a.postMessage({$:2,$0:bo});}));}(self));


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptSkipAssemblyDir = true;
  IntelliFactory.Runtime.Start();
}
