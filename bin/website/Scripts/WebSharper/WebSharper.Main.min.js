(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq;a=window;b=a.WebSharper=a.WebSharper||{};c=b.JavaScript=b.JavaScript||{};d=c.JSModule=c.JSModule||{};e=b.Obj=b.Obj||{};f=b.Collections=b.Collections||{};g=f.EqualityComparer=f.EqualityComparer||{};h=b.MacroModule=b.MacroModule||{};i=h.EquatableEqualityComparer=h.EquatableEqualityComparer||{};j=h.BaseEqualityComparer=h.BaseEqualityComparer||{};k=f.Comparer=f.Comparer||{};l=h.ComparableComparer=h.ComparableComparer||{};m=h.BaseComparer=h.BaseComparer||{};n=c.Pervasives=c.Pervasives||{};o=b.Json=b.Json||{};p=b.Remoting=b.Remoting||{};q=p.XhrProvider=p.XhrProvider||{};r=p.AjaxRemotingProvider=p.AjaxRemotingProvider||{};s=a.StartupCode$WebSharper_Main$Remoting=a.StartupCode$WebSharper_Main$Remoting||{};t=b.Operators=b.Operators||{};u=b.Nullable=b.Nullable||{};v=b.Utils=b.Utils||{};w=b.Concurrency=b.Concurrency||{};x=w.Scheduler=w.Scheduler||{};y=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};z=b.Enumerator=b.Enumerator||{};A=z.T=z.T||{};B=b.HtmlContentExtensions=b.HtmlContentExtensions||{};C=B.SingleNode=B.SingleNode||{};D=b.Activator=b.Activator||{};E=c.Optional=c.Optional||{};F=b.Arrays=b.Arrays||{};G=b.Seq=b.Seq||{};H=b.List=b.List||{};I=b.Arrays2D=b.Arrays2D||{};J=b.CancellationTokenSource=b.CancellationTokenSource||{};K=b.Char=b.Char||{};L=b.Util=b.Util||{};M=b.DateUtil=b.DateUtil||{};N=b.DateTimeOffset=b.DateTimeOffset||{};O=b.Delegate=b.Delegate||{};P=f.DictionaryUtil=f.DictionaryUtil||{};Q=f.KeyCollection=f.KeyCollection||{};R=f.ValueCollection=f.ValueCollection||{};S=f.Dictionary=f.Dictionary||{};T=b.MatchFailureException=b.MatchFailureException||{};U=b.IndexOutOfRangeException=b.IndexOutOfRangeException||{};V=b.OperationCanceledException=b.OperationCanceledException||{};W=b.ArgumentException=b.ArgumentException||{};X=b.ArgumentOutOfRangeException=b.ArgumentOutOfRangeException||{};Y=b.InvalidOperationException=b.InvalidOperationException||{};Z=b.AggregateException=b.AggregateException||{};_0=b.TimeoutException=b.TimeoutException||{};_1=b.FormatException=b.FormatException||{};_2=b.OverflowException=b.OverflowException||{};_3=b.Guid=b.Guid||{};_4=f.HashSetUtil=f.HashSetUtil||{};_5=f.HashSet=f.HashSet||{};_6=b.Lazy=b.Lazy||{};_7=H.T=H.T||{};_8=b.Slice=b.Slice||{};_9=b.Option=b.Option||{};_=b.Queue=b.Queue||{};$=b.Random=b.Random||{};ba=b.Ref=b.Ref||{};bb=b.Result=b.Result||{};bc=b.Control=b.Control||{};bd=b.Stack=b.Stack||{};be=b.Strings=b.Strings||{};bf=b.Task=b.Task||{};bg=b.Task1=b.Task1||{};bh=b.TaskCompletionSource=b.TaskCompletionSource||{};bi=b.Unchecked=b.Unchecked||{};bj=b.Numeric=b.Numeric||{};bk=a.IntelliFactory;bl=bk&&bk.Runtime;bm=a.JSON;bn=a.String;bo=a.Date;bp=a.console;bq=a.Math;d.GetFieldValues=function(br){var bs,bt;bs=[];for(var bu in br)bs.push(br[bu]);return bs;};d.GetFieldNames=function(br){var bs,bt;bs=[];for(var bu in br)bs.push(bu);return bs;};d.GetFields=function(br){var bs,bt;bs=[];for(var bu in br)bs.push([bu,br[bu]]);return bs;};e=b.Obj=bl.Class({Equals:function(br){return this===br;},GetHashCode:function(){return -1;}},null,e);e.New=bl.Ctor(function(){},e);g=f.EqualityComparer=bl.Class({CGetHashCode0:function(br){return this.GetHashCode$1(br);},CEquals0:function(br,bs){return this.Equals$1(br,bs);},CGetHashCode:function(br){return this.GetHashCode$1(br);},CEquals:function(br,bs){return this.Equals$1(br,bs);}},e,g);g.New=bl.Ctor(function(){},g);i=h.EquatableEqualityComparer=bl.Class({GetHashCode$1:function(br){return bi.Hash(br);},Equals$1:function(br,bs){return br.EEquals(bs);}},g,i);i.New=bl.Ctor(function(){g.New.call(this);},i);j=h.BaseEqualityComparer=bl.Class({GetHashCode$1:function(br){return bi.Hash(br);},Equals$1:function(br,bs){return bi.Equals(br,bs);}},g,j);j.New=bl.Ctor(function(){g.New.call(this);},j);k=f.Comparer=bl.Class({Compare0:function(br,bs){return this.Compare$1(br,bs);},Compare:function(br,bs){return this.Compare$1(br,bs);}},e,k);k.New=bl.Ctor(function(){},k);l=h.ComparableComparer=bl.Class({Compare$1:function(br,bs){return br.CompareTo(bs);}},k,l);l.New=bl.Ctor(function(){k.New.call(this);},l);m=h.BaseComparer=bl.Class({Compare$1:function(br,bs){return bi.Compare(br,bs);}},k,m);m.New=bl.Ctor(function(){k.New.call(this);},m);n.GetJS=function(br,bs){var bt,bu;bt=br;bu=z.Get(bs);try{while(bu.MoveNext())bt=bt[bu.Current()];}finally{if("Dispose"in bu)bu.Dispose();}return bt;};n.NewFromSeq=function(br){var bs,bt,bu;bs={};bt=z.Get(br);try{while(bt.MoveNext()){bu=bt.Current();bs[bu[0]]=bu[1];}}finally{if("Dispose"in bt)bt.Dispose();}return bs;};o.Activate=function(br){var bt,bu,bv;function bs(bw){var bx,by,bz,bA,bB;if(bi.Equals(bw,null))return bw;else if(typeof bw=="object"){if(bw instanceof a.Array)return o.shallowMap(bs,bw);else{bx=o.shallowMap(bs,bw.$V);by=bw.$T;if(bi.Equals(typeof by,"undefined"))return bx;else{bz=F.get(bt,by);if(bz===window.WebSharper.List.T)return H.ofArray(bx);else{bA=new(F.get(bt,by))();for(var bC in bx)if(function(bD){bA[bD]=bx[bD];return false;}(bC))break;return bA;}}}}else return bw;}bt=br.$TYPES;for(bu=0,bv=F.length(bt)-1;bu<=bv;bu++)F.set(bt,bu,o.lookup(F.get(bt,bu)));return bs(br.$DATA);};o.shallowMap=function(br,bs){var bt,bu;if(bs instanceof a.Array)return F.map(br,bs);else if(typeof bs=="object"){bt={};for(var bv in bs)if(function(bw){bt[bw]=br(bs[bw]);return false;}(bv))break;return bt;}else return bs;};o.lookup=function(br){var bs,bt,bu,bv,bw;bu=F.length(br);bs=window;bt=0;while(bt<bu){bv=F.get(br,bt);bw=bs[bv];!bi.Equals(typeof bw,void 0)?(bs=bw,bt=bt+1):t.FailWith("Invalid server reply. Failed to find type: "+bv);}return bs;};q=p.XhrProvider=bl.Class({Sync:function(br,bs,bt){var bu;bu=[null];p.ajax(false,br,bs,bt,function(bv){bu[0]=bv;},function(bv){throw bv;},function(){p.ajax(false,br,bs,bt,function(bv){bu[0]=bv;},function(bv){throw bv;},void 0);});return bu[0];},Async:function(br,bs,bt,bu,bv){p.ajax(true,br,bs,bt,bu,bv,function(){p.ajax(true,br,bs,bt,bu,bv,void 0);});}},e,q);q.New=bl.Ctor(function(){},q);r=p.AjaxRemotingProvider=bl.Class({get_EndPoint:function(){return p.EndPoint();},AsyncBase:function(br,bs){var bt,bu;bt=this;bu=null;return w.Delay(function(){var bv,bw;bv=p.makeHeaders(br);bw=p.makePayload(bs);return w.Bind(w.GetCT(),function(bx){return w.FromContinuations(function(by,bz,bA){var bB,bC,bD;function bE(bF){return bB[0]?(bB[0]=false,bA(new V.New(bx))):null;}bB=[true];bC=w.Register(bx,function(){bE();});bD=bt.get_EndPoint();return p.AjaxProvider().Async(bD,bv,bw,function(bF){if(bB[0]){bB[0]=false;bC.Dispose();by(o.Activate(bm.parse(bF)));}},function(bF){if(bB[0]){bB[0]=false;bC.Dispose();bz(bF);}});});});});},Send:function(br,bs){w.Start(this.AsyncBase(br,bs),null);},Task:function(br,bs){return w.StartAsTask(this.AsyncBase(br,bs),null);},Async:function(br,bs){return this.AsyncBase(br,bs);},Sync:function(br,bs){var bt,bu,bv;return o.Activate(bm.parse((bt=this.get_EndPoint(),(bu=p.makeHeaders(br),(bv=p.makePayload(bs),p.AjaxProvider().Sync(bt,bu,bv))))));}},e,r);r.New=bl.Ctor(function(){},r);p.ajax=function(br,bs,bt,bu,bv,bw,bx){var by,bz,bA;by=new a.XMLHttpRequest();bz=a.document.cookie.replace(new a.RegExp("(?:(?:^|.*;)\\s*csrftoken\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1");by.open("POST",bs,br);if(br==true)by.withCredentials=true;for(var bC in bt)by.setRequestHeader(bC,bt[bC]);if(bz)by.setRequestHeader("x-csrftoken",bz);function bB(){var bD;if(by.status==200)bv(by.responseText);else if(bx&&by.status==403&&by.responseText=="CSRF")bx();else{bD="Response status is not 200: ";bw(new a.Error(bD+by.status));}}if("onload"in by)by.onload=by.onerror=by.onabort=bB;else by.onreadystatechange=function(){if(by.readyState==4)bB();};by.send(bu);};p.makePayload=function(br){return bm.stringify(br);};p.makeHeaders=function(br){return{"content-type":"application/json","x-websharper-rpc":br};};p.AjaxProvider=function(){s.$cctor();return s.AjaxProvider;};p.set_AjaxProvider=function(br){s.$cctor();s.AjaxProvider=br;};p.UseHttps=function(){try{return!be.StartsWith(a.location.href,"https://")&&(p.set_EndPoint(be.Replace(a.location.href,"http://","https://")),true);}catch(br){return false;}};p.EndPoint=function(){s.$cctor();return s.EndPoint;};p.set_EndPoint=function(br){s.$cctor();s.EndPoint=br;};s.$cctor=function(){s.$cctor=a.ignore;s.EndPoint="?";s.AjaxProvider=new q.New();};t.charRange=function(br,bs){var bt,bu;bt=br.charCodeAt();bu=1+bs.charCodeAt()-bt;return bu<=0?[]:G.init(bu,function(bv){return bn.fromCharCode(bv+bt);});};u.op=function(br,bs,bt){return br==null||bs==null?null:bt(br,bs);};u.opL=function(br,bs,bt){return br==null?null:bt(br,bs);};u.opR=function(br,bs,bt){return bs==null?null:bt(br,bs);};u.cmp=function(br,bs,bt){return br==null||bs==null?false:bt(br,bs);};u.cmpE=function(br,bs,bt){return br==null?bs==null:bs==null?false:bt(br,bs);};u.cmpL=function(br,bs,bt){return br==null?false:bt(br,bs);};u.cmpR=function(br,bs,bt){return bs==null?false:bt(br,bs);};u.conv=function(br,bs){return br==null?null:bs(br);};v.prettyPrint=function(br){var bs,bt;function bu(bv,bw){return bv+" = "+v.prettyPrint(bw);}return br===null?"null":(bs=typeof br,bs=="string"?"\""+br+"\"":bs=="object"?br instanceof a.Array?"[|"+be.concat("; ",F.map(v.prettyPrint,br))+"|]":(bt=bn(br),bt==="[object Object]"?"{"+be.concat("; ",F.map(function(bv){return bu(bv[0],bv[1]);},d.GetFields(br)))+"}":bt):bn(br));};v.printArray2D=function(br,bs){return bs===null?"null":"[["+be.concat("][",G.delay(function(){var bt;bt=bs.length?bs[0].length:0;return G.map(function(bu){return be.concat("; ",G.delay(function(){return G.map(function(bv){return br(F.get2D(bs,bu,bv));},t.range(0,bt-1));}));},t.range(0,bs.length-1));}))+"]]";};v.printArray=function(br,bs){return bs===null?"null":"[|"+be.concat("; ",F.map(br,bs))+"|]";};v.printList=function(br,bs){return"["+be.concat("; ",G.map(br,bs))+"]";};v.padNumLeft=function(br,bs){var bt;bt=F.get(br,0);return bt===" "||bt==="+"||bt==="-"?bt+be.PadLeftWith(br.substr(1),bs-1,"0"):be.PadLeftWith(br,bs,"0");};v.spaceForPos=function(br,bs){return 0<=br?" "+bs:bs;};v.plusForPos=function(br,bs){return 0<=br?"+"+bs:bs;};v.toSafe=function(br){return br==null?"":br;};x=w.Scheduler=bl.Class({tick:function(){var br,bs,bt;bs=this;bt=bo.now();br=true;while(br)if(this.robin.length===0){this.idle=true;br=false;}else{(this.robin.shift())();bo.now()-bt>40?(a.setTimeout(function(){bs.tick();},0),br=false):void 0;}},Fork:function(br){var bs;bs=this;this.robin.push(br);this.idle?(this.idle=false,a.setTimeout(function(){bs.tick();},0)):void 0;}},e,x);x.New=bl.Ctor(function(){this.idle=true;this.robin=[];},x);w.For=function(br,bs){return w.Using(z.Get(br),function(bt){return w.While(function(){return bt.MoveNext();},w.Delay(function(){return bs(bt.Current());}));});};w.While=function(br,bs){return br()?w.Bind(bs,function(){return w.While(br,bs);}):w.Return();};w.Using=function(br,bs){return w.TryFinally(bs(br),function(){br.Dispose();});};w.TryCancelled=function(br,bs){return function(bt){br({k:function(bu){if(bu.$==2){bs(bu.$0);bt.k(bu);}else bt.k(bu);},ct:bt.ct});};};w.OnCancel=function(br){return function(bs){bs.k({$:0,$0:w.Register(bs.ct,br)});};};w.StartChild=function(br,bs){return function(bt){var bu,bv,bw,bx;bu=[true];bv=[null];bw=[];bx=bs!=null&&bs.$==1?{$:1,$0:a.setTimeout(function(){var by;bu[0]=false;by={$:1,$0:new _0.New()};while(bw.length>0)(bw.shift())(by);},bs.$0)}:null;w.scheduler().Fork(function(){if(!bt.ct.c)br({k:function(by){if(bu[0]){bv[0]={$:1,$0:by};bx!=null&&bx.$==1?a.clearTimeout(bx.$0):void 0;while(bw.length>0)(bw.shift())(by);}},ct:bt.ct});});bt.k({$:0,$0:function(by){var bz;if(bu[0]){bz=bv[0];bz==null?bw.push(by.k):by.k(bz.$0);}else by.k({$:1,$0:new _0.New()});}});};};w.Parallel=function(br){var bs;bs=F.ofSeq(br);return F.length(bs)===0?w.Return([]):function(bt){var bu,bv,bw;function bx(by,bz){var bA,bB;bB=bv[0];switch(bB===0?0:bB===1?bz.$==0?1:(bA=[bB,bz],3):bz.$==0?2:(bA=[bB,bz],3)){case 0:return null;break;case 1:F.set(bw,by,bz.$0);bv[0]=0;return bt.k({$:0,$0:bw});break;case 2:F.set(bw,by,bz.$0);{bv[0]=bB-1;return;}break;case 3:bv[0]=0;return bt.k(bA[1]);break;}}bu=bs.length;bv=[bu];bw=new a.Array(bu);F.iteri(function(by,bz){return w.scheduler().Fork(function(){bz({k:function(bA){return bx(by,bA);},ct:bt.ct});});},bs);};};w.Sleep=function(br){return function(bs){var bt,bu;bt=void 0;bu=void 0;bt=a.setTimeout(function(){bu.Dispose();w.scheduler().Fork(function(){bs.k({$:0,$0:null});});},br);bu=w.Register(bs.ct,function(){a.clearTimeout(bt);w.scheduler().Fork(function(){w.cancel(bs);});});};};w.StartAsTask=function(br,bs){var bt;bt=new bh.New();w.StartWithContinuations(br,function(bu){bt.SetResult(bu);},function(bu){bt.SetException$1(bu);},function(){bt.SetCanceled();},bs);return bt.get_Task();};w.AwaitTask1=function(br){return w.FromContinuations(function(bs,bt,bu){bi.Equals(br.get_Status(),0)?br.Start():void 0;{br.ContinueWith$2(function(bv){return bv.get_IsCanceled()?bu(new V.New(w.noneCT())):bv.get_IsFaulted()?bt(bv.get_Exception()):bs(bv.get_Result());});return;}});};w.AwaitTask=function(br){return w.FromContinuations(function(bs,bt,bu){bi.Equals(br.get_Status(),0)?br.Start():void 0;{br.ContinueWith$2(function(bv){return bv.get_IsCanceled()?bu(new V.New(w.noneCT())):bv.get_IsFaulted()?bt(bv.get_Exception()):bs();});return;}});};w.AwaitEvent=function(br,bs){return function(bt){var bu,bv;bu=void 0;bv=void 0;bu=br.Subscribe(L.observer(function(bw){bu.Dispose();bv.Dispose();w.scheduler().Fork(function(){bt.k({$:0,$0:bw});});}));bv=w.Register(bt.ct,function(){if(bs!=null&&bs.$==1)bs.$0();else{bu.Dispose();w.scheduler().Fork(function(){w.cancel(bt);});}});};};w.StartImmediate=function(br,bs){var bt,bu;bt=(bu=(w.defCTS())[0],bs==null?bu:bs.$0);!bt.c?br({k:function(bv){if(bv.$==1)w.UncaughtAsyncError(bv.$0);},ct:bt}):void 0;};w.Start=function(br,bs){var bt,bu;bt=(bu=(w.defCTS())[0],bs==null?bu:bs.$0);w.scheduler().Fork(function(){if(!bt.c)br({k:function(bv){if(bv.$==1)w.UncaughtAsyncError(bv.$0);},ct:bt});});};w.UncaughtAsyncError=function(br){bp.log("WebSharper: Uncaught asynchronous exception",br);};w.StartWithContinuations=function(br,bs,bt,bu,bv){var bw,bx;bw=(bx=(w.defCTS())[0],bv==null?bx:bv.$0);!bw.c?br({k:function(by){if(by.$==1)bt(by.$0);else if(by.$==2)bu(by.$0);else bs(by.$0);},ct:bw}):void 0;};w.FromContinuations=function(br){return function(bs){var bt;function bu(bv){if(bt[0])t.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{bt[0]=true;w.scheduler().Fork(bv);}}bt=[false];br(function(bv){bu(function(){bs.k({$:0,$0:bv});});},function(bv){bu(function(){bs.k({$:1,$0:bv});});},function(bv){bu(function(){bs.k({$:2,$0:bv});});});};};w.GetCT=function(){y.$cctor();return y.GetCT;};w.Catch=function(br){return function(bs){try{br({k:function(bt){if(bt.$==0)bs.k({$:0,$0:{$:0,$0:bt.$0}});else if(bt.$==1)bs.k({$:0,$0:{$:1,$0:bt.$0}});else bs.k(bt);},ct:bs.ct});}catch(bt){bs.k({$:0,$0:{$:1,$0:bt}});}};};w.TryWith=function(br,bs){return function(bt){br({k:function(bu){if(bu.$==0)bt.k({$:0,$0:bu.$0});else if(bu.$==1)try{(bs(bu.$0))(bt);}catch(bv){bt.k(bu);}else bt.k(bu);},ct:bt.ct});};};w.TryFinally=function(br,bs){return function(bt){br({k:function(bu){try{bs();bt.k(bu);}catch(bv){bt.k({$:1,$0:bv});}},ct:bt.ct});};};w.Delay=function(br){return function(bs){try{(br(null))(bs);}catch(bt){bs.k({$:1,$0:bt});}};};w.Combine=function(br,bs){return w.Bind(br,function(){return bs;});};w.Bind=function(br,bs){return w.checkCancel(function(bt){br({k:function(bu){var bv;if(bu.$==0){bv=bu.$0;w.scheduler().Fork(function(){try{(bs(bv))(bt);}catch(bw){bt.k({$:1,$0:bw});}});}else w.scheduler().Fork(function(){bt.k(bu);});},ct:bt.ct});});};w.Zero=function(){y.$cctor();return y.Zero;};w.Return=function(br){return function(bs){bs.k({$:0,$0:br});};};w.checkCancel=function(br){return function(bs){if(bs.ct.c)w.cancel(bs);else br(bs);};};w.cancel=function(br){br.k({$:2,$0:new V.New(br.ct)});};w.defCTS=function(){y.$cctor();return y.defCTS;};w.scheduler=function(){y.$cctor();return y.scheduler;};w.Register=function(br,bs){var bt;return br===w.noneCT()?{Dispose:function(){return null;}}:(bt=br.r.push(bs)-1,{Dispose:function(){return F.set(br.r,bt,a.ignore);}});};w.noneCT=function(){y.$cctor();return y.noneCT;};y.$cctor=function(){y.$cctor=a.ignore;y.noneCT={c:false,r:[]};y.scheduler=new x.New();y.defCTS=[new J.New()];y.Zero=w.Return();y.GetCT=function(br){br.k({$:0,$0:br.ct});};};A=z.T=bl.Class({Dispose:function(){if(this.d)this.d(this);},Current:function(){return this.c;},Current0:function(){return this.c;},MoveNext:function(){return this.n(this);}},e,A);A.New=bl.Ctor(function(br,bs,bt,bu){this.s=br;this.c=bs;this.n=bt;this.d=bu;},A);z.Get0=function(br){return br instanceof a.Array?z.ArrayEnumerator(br):bi.Equals(typeof br,"string")?z.StringEnumerator(br):"GetEnumerator0"in br?br.GetEnumerator0():br.GetEnumerator();};z.Get=function(br){return br instanceof a.Array?z.ArrayEnumerator(br):bi.Equals(typeof br,"string")?z.StringEnumerator(br):br.GetEnumerator();};z.StringEnumerator=function(br){return new A.New(0,null,function(bs){var bt;bt=bs.s;return bt<br.length&&(bs.c=br[bt],bs.s=bt+1,true);},void 0);};z.ArrayEnumerator=function(br){return new A.New(0,null,function(bs){var bt;bt=bs.s;return bt<F.length(br)&&(bs.c=F.get(br,bt),bs.s=bt+1,true);},void 0);};C=B.SingleNode=bl.Class({ReplaceInDom:function(br){this.node.parentNode.replaceChild(this.node,br);}},e,C);C.New=bl.Ctor(function(br){this.node=br;},C);D.hasDocument=function(){return typeof a.document!=="undefined";};D.Activate=function(){var br;if(D.hasDocument()){br=a.document.getElementById("websharper-data");br?a.jQuery(a.document).ready(function(){function bs(bt,bu){bu.Body().ReplaceInDom(a.document.getElementById(bt));}return F.iter(function(bt){return bs(bt[0],bt[1]);},d.GetFields(o.Activate(bm.parse(br.getAttribute("content")))));}):void 0;}};E.Undefined={$:0};F.splitInto=function(br,bs){var bt,bu,bv,bw,bx,by,bz,bA,bB;if(br<=0)t.FailWith("Count must be positive");bu=F.length(bs);if(bu===0)return[];else{bv=bi.Compare(br,bu)===-1?br:bu;bw=F.create(bv,null);bx=bu/bv>>0;bt=0;for(by=0,bz=bu%bv-1;by<=bz;by++){bw[by]=F.sub(bs,bt,bx+1);bt=bt+bx+1;}for(bA=bu%bv,bB=bv-1;bA<=bB;bA++){bw[bA]=F.sub(bs,bt,bx);bt=bt+bx;}return bw;}};F.contains=function(br,bs){var bt,bu,bv,bw;bt=true;bu=0;bw=F.length(bs);while(bt&&bu<bw)if(bi.Equals(bs[bu],br))bt=false;else bu=bu+1;return!bt;};F.tryFindBack=function(br,bs){var bt,bu,bv;bt=null;bu=bs.length-1;while(bu>=0&&bt==null){bv=bs[bu];br(bv)?bt={$:1,$0:bv}:void 0;bu=bu-1;}return bt;};F.tryFindIndexBack=function(br,bs){var bt,bu;bt=null;bu=bs.length-1;while(bu>=0&&bt==null){br(F.get(bs,bu))?bt={$:1,$0:bu}:void 0;bu=bu-1;}return bt;};F.mapFold=function(br,bs,bt){var bu,bv,bw,bx,by;bv=new a.Array(bt.length);bu=bs;for(bw=0,bx=bt.length-1;bw<=bx;bw++){by=br(bu,bt[bw]);bv[bw]=by[0];bu=by[1];}return[bv,bu];};F.mapFoldBack=function(br,bs,bt){var bu,bv,bw,bx,by,bz,bA,bB;bw=new a.Array(bs.length);bu=bt;bx=bs.length;for(by=1,bz=bx;by<=bz;by++){bA=bx-by;bB=br(bs[bA],bu);bw[bA]=bB[0];bu=bB[1];}return[bw,bu];};F.mapInPlace=function(br,bs){var bt,bu;for(bt=0,bu=bs.length-1;bt<=bu;bt++)bs[bt]=br(bs[bt]);};F.mapiInPlace=function(br,bs){var bt,bu;for(bt=0,bu=bs.length-1;bt<=bu;bt++)bs[bt]=br(bt,bs[bt]);return bs;};F.sortInPlaceByDescending=function(br,bs){F.mapInPlace(function(bt){return bt[0];},F.mapiInPlace(function(bt,bu){return[bu,[br(bu),bt]];},bs).sort(function(bt,bu){return-bi.Compare(bt[1],bu[1]);}));};G.tryHead=function(br){var bs;bs=z.Get(br);try{return bs.MoveNext()?{$:1,$0:bs.Current()}:null;}finally{if("Dispose"in bs)bs.Dispose();}};G.tryItem=function(br,bs){var bt,bu,bv;if(br<0)return null;else{bt=0;bu=z.Get(bs);try{bv=true;while(bv&&bt<=br)if(bu.MoveNext())bt=bt+1;else bv=false;return bv?{$:1,$0:bu.Current()}:null;}finally{if("Dispose"in bu)bu.Dispose();}}};G.tryLast=function(br){var bs,bt;bs=z.Get(br);try{if(bs.MoveNext()){while(bs.MoveNext());bt={$:1,$0:bs.Current()};}else bt=null;return bt;}finally{if("Dispose"in bs)bs.Dispose();}};G.chunkBySize=function(br,bs){br<=0?t.FailWith("Chunk size must be positive"):void 0;return{GetEnumerator:function(){var bt;bt=z.Get(bs);return new A.New(null,null,function(bu){var bv;if(bt.MoveNext()){bv=[bt.Current()];while(F.length(bv)<br&&bt.MoveNext())bv.push(bt.Current());bu.c=bv;return true;}else return false;},function(){bt.Dispose();});}};};F.countBy=function(br,bs){var bt,bu,bv,bw,bx;bt=new S.New$5();bu=[];for(bv=0,bw=F.length(bs)-1;bv<=bw;bv++){bx=br(bs[bv]);bt.ContainsKey(bx)?bt.set_Item(bx,bt.get_Item(bx)+1):(bu.push(bx),bt.Add(bx,1));}F.mapInPlace(function(by){return[by,bt.get_Item(by)];},bu);return bu;};G.except=function(br,bs){return{GetEnumerator:function(){var bt,bu;bt=z.Get(bs);bu=new _5.New$2(br);return new A.New(null,null,function(bv){var bw,bx;if(bt.MoveNext()){bw=bt.Current();bx=bu.Add(bw);while(!bx&&bt.MoveNext()){bw=bt.Current();bx=bu.Add(bw);}return bx&&(bv.c=bw,true);}else return false;},function(){bt.Dispose();});}};};H.skip=function(br,bs){var bt,bu,bv;bt=bs;for(bu=1,bv=br;bu<=bv;bu++)if(bt.$==0)t.FailWith("Input list too short.");else bt=bt.$1;return bt;};F.groupBy=function(br,bs){var bt,bu,bv,bw,bx,by;bt=new S.New$5();bu=[];for(bv=0,bw=F.length(bs)-1;bv<=bw;bv++){bx=bs[bv];by=br(bx);bt.ContainsKey(by)?bt.get_Item(by).push(bx):(bu.push(by),bt.Add(by,[bx]));}F.mapInPlace(function(bz){return[bz,bt.get_Item(bz)];},bu);return bu;};G.insufficient=function(){return t.FailWith("The input sequence has an insufficient number of elements.");};G.last=function(br){var bs,bt;bs=z.Get(br);try{if(!bs.MoveNext())bt=G.insufficient();else{while(bs.MoveNext());bt=bs.Current();}return bt;}finally{if("Dispose"in bs)bs.Dispose();}};G.contains=function(br,bs){var bt,bu;bt=z.Get(bs);try{bu=false;while(!bu&&bt.MoveNext())bu=bi.Equals(bt.Current(),br);return bu;}finally{if("Dispose"in bt)bt.Dispose();}};H.skipWhile=function(br,bs){var bt;bt=bs;while(!(bt.$==0)&&br(H.head(bt)))bt=H.tail(bt);return bt;};G.nonNegative=function(){return t.FailWith("The input must be non-negative.");};F.checkBounds=function(br,bs){if(bs<0||bs>=br.length)t.FailWith("Index was outside the bounds of the array.");};F.checkBounds2D=function(br,bs,bt){if(bs<0||bt<0||bs>=br.length||bt>=(br.length?br[0].length:0))throw new U.New();};F.checkRange=function(br,bs,bt){if(bt<0||bs<0||br.length<bs+bt)t.FailWith("Index was outside the bounds of the array.");};F.set=function(br,bs,bt){F.checkBounds(br,bs);br[bs]=bt;};F.get=function(br,bs){F.checkBounds(br,bs);return br[bs];};F.sub=function(br,bs,bt){F.checkRange(br,bs,bt);return br.slice(bs,bs+bt);};F.setSub=function(br,bs,bt,bu){var bv,bw;for(bv=0,bw=bt-1;bv<=bw;bv++)F.set(br,bs+bv,F.get(bu,bv));};F.get2D=function(br,bs,bt){F.checkBounds2D(br,bs,bt);return br[bs][bt];};F.set2D=function(br,bs,bt,bu){F.checkBounds2D(br,bs,bt);br[bs][bt]=bu;};F.zeroCreate2D=function(br,bs){var bt;bt=F.init(br,function(){return F.create(bs,null);});bt.dims=2;return bt;};F.sub2D=function(br,bs,bt,bu,bv){var bw,bx,by,bz,bA,bB,bC;bw=bu<0?0:bu;bx=bv<0?0:bv;by=F.zeroCreate2D(bw,bx);for(bz=0,bA=bw-1;bz<=bA;bz++){for(bB=0,bC=bx-1;bB<=bC;bB++)F.set2D(by,bz,bB,F.get2D(br,bs+bz,bt+bB));}return by;};F.setSub2D=function(br,bs,bt,bu,bv,bw){var bx,by,bz,bA;for(bx=0,by=bu-1;bx<=by;bx++){for(bz=0,bA=bv-1;bz<=bA;bz++)F.set2D(br,bs+bx,bt+bz,F.get2D(bw,bx,bz));}};F.length=function(br){return br.dims===2?br.length*br.length:br.length;};b.checkThis=function(br){return bi.Equals(br,null)?t.InvalidOp("The initialization of an object or value resulted in an object or value being accessed recursively before it was fully initialized."):br;};F.reverse=function(br,bs,bt){var bu;bu=F.sub(br,bs,bt).slice().reverse();F.blit(bu,0,br,bs,F.length(bu));};F.sum=function(br){var bs,bt;bs=0;bt=0;for(;bt<br.length;bt++)bs+=br[bt];return bs;};F.sumBy=function(br,bs){var bt,bu;bt=0;bu=0;for(;bu<bs.length;bu++)bt+=br(bs[bu]);return bt;};F.allPairs=function(br,bs){var bt,bu,bv,bw,bx,by,bz;bt=br.length;bu=bs.length;bv=new a.Array(bt*bu);for(bw=0,bx=bt-1;bw<=bx;bw++){for(by=0,bz=bu-1;by<=bz;by++)bv[bw*bu+by]=[br[bw],bs[by]];}return bv;};F.average=function(br){return a.Number(F.sum(br))/br.length;};F.averageBy=function(br,bs){return a.Number(F.sumBy(br,bs))/bs.length;};F.blit=function(br,bs,bt,bu,bv){var bw,bx;F.checkRange(br,bs,bv);F.checkRange(bt,bu,bv);for(bw=0,bx=bv-1;bw<=bx;bw++)bt[bu+bw]=br[bs+bw];};F.choose=function(br,bs){var bt,bu,bv,bw;bt=[];for(bu=0,bv=bs.length-1;bu<=bv;bu++){bw=br(bs[bu]);bw==null?void 0:bt.push(bw.$0);}return bt;};F.collect=function(br,bs){return a.Array.prototype.concat.apply([],F.map(br,bs));};F.concat=function(br){return a.Array.prototype.concat.apply([],F.ofSeq(br));};F.create=function(br,bs){var bt,bu,bv;bt=new a.Array(br);for(bu=0,bv=br-1;bu<=bv;bu++)bt[bu]=bs;return bt;};F.exists=function(br,bs){var bt,bu,bv,bw;bt=false;bu=0;bw=F.length(bs);while(!bt&&bu<bw)if(br(bs[bu]))bt=true;else bu=bu+1;return bt;};F.exists2=function(br,bs,bt){var bu,bv,bw,bx;F.checkLength(bs,bt);bu=false;bv=0;bx=F.length(bs);while(!bu&&bv<bx)if(br(bs[bv],bt[bv]))bu=true;else bv=bv+1;return bu;};F.fill=function(br,bs,bt,bu){var bv,bw;F.checkRange(br,bs,bt);for(bv=bs,bw=bs+bt-1;bv<=bw;bv++)br[bv]=bu;};F.filter=function(br,bs){var bt,bu,bv;bt=[];for(bu=0,bv=bs.length-1;bu<=bv;bu++)if(br(bs[bu]))bt.push(bs[bu]);return bt;};F.find=function(br,bs){var bt;bt=F.tryFind(br,bs);return bt==null?t.FailWith("KeyNotFoundException"):bt.$0;};F.findIndex=function(br,bs){var bt;bt=F.tryFindIndex(br,bs);return bt==null?t.FailWith("KeyNotFoundException"):bt.$0;};F.fold=function(br,bs,bt){var bu,bv,bw;bu=bs;for(bv=0,bw=bt.length-1;bv<=bw;bv++)bu=br(bu,bt[bv]);return bu;};F.fold2=function(br,bs,bt,bu){var bv,bw,bx;F.checkLength(bt,bu);bv=bs;for(bw=0,bx=bt.length-1;bw<=bx;bw++)bv=br(bv,bt[bw],bu[bw]);return bv;};F.foldBack=function(br,bs,bt){var bu,bv,bw,bx,by;bu=bt;bw=bs.length;for(bx=1,by=bw;bx<=by;bx++)bu=br(bs[bw-bx],bu);return bu;};F.foldBack2=function(br,bs,bt,bu){var bv,bw,bx,by,bz;F.checkLength(bs,bt);bx=bs.length;bw=bu;for(by=1,bz=bx;by<=bz;by++)bw=br(bs[bx-by],bt[bx-by],bw);return bw;};F.forall=function(br,bs){var bt,bu,bv,bw;bt=true;bu=0;bw=F.length(bs);while(bt&&bu<bw)if(br(bs[bu]))bu=bu+1;else bt=false;return bt;};F.forall2=function(br,bs,bt){var bu,bv,bw,bx;F.checkLength(bs,bt);bu=true;bv=0;bx=F.length(bs);while(bu&&bv<bx)if(br(bs[bv],bt[bv]))bv=bv+1;else bu=false;return bu;};F.init=function(br,bs){var bt,bu,bv;br<0?t.FailWith("Negative size given."):null;bt=new a.Array(br);for(bu=0,bv=br-1;bu<=bv;bu++)bt[bu]=bs(bu);return bt;};F.iter=function(br,bs){var bt,bu;for(bt=0,bu=bs.length-1;bt<=bu;bt++)br(bs[bt]);};F.iter2=function(br,bs,bt){var bu,bv;F.checkLength(bs,bt);for(bu=0,bv=bs.length-1;bu<=bv;bu++)br(bs[bu],bt[bu]);};F.iteri=function(br,bs){var bt,bu;for(bt=0,bu=bs.length-1;bt<=bu;bt++)br(bt,bs[bt]);};F.iteri2=function(br,bs,bt){var bu,bv;F.checkLength(bs,bt);for(bu=0,bv=bs.length-1;bu<=bv;bu++)br(bu,bs[bu],bt[bu]);};F.map=function(br,bs){var bt,bu,bv;bt=new a.Array(bs.length);for(bu=0,bv=bs.length-1;bu<=bv;bu++)bt[bu]=br(bs[bu]);return bt;};F.map2=function(br,bs,bt){var bu,bv,bw;F.checkLength(bs,bt);bu=new a.Array(bt.length);for(bv=0,bw=bt.length-1;bv<=bw;bv++)bu[bv]=br(bs[bv],bt[bv]);return bu;};F.mapi=function(br,bs){var bt,bu,bv;bt=new a.Array(bs.length);for(bu=0,bv=bs.length-1;bu<=bv;bu++)bt[bu]=br(bu,bs[bu]);return bt;};F.mapi2=function(br,bs,bt){var bu,bv,bw;F.checkLength(bs,bt);bu=new a.Array(bs.length);for(bv=0,bw=bs.length-1;bv<=bw;bv++)bu[bv]=br(bv,bs[bv],bt[bv]);return bu;};F.max=function(br){return F.reduce(function(bs,bt){return bi.Compare(bs,bt)===1?bs:bt;},br);};F.maxBy=function(br,bs){return F.reduce(function(bt,bu){return bi.Compare(br(bt),br(bu))===1?bt:bu;},bs);};F.min=function(br){return F.reduce(function(bs,bt){return bi.Compare(bs,bt)===-1?bs:bt;},br);};F.minBy=function(br,bs){return F.reduce(function(bt,bu){return bi.Compare(br(bt),br(bu))===-1?bt:bu;},bs);};F.ofList=function(br){var bs,bt;bt=[];bs=br;while(!(bs.$==0)){bt.push(H.head(bs));bs=H.tail(bs);}return bt;};F.ofSeq=function(br){var bs,bt;if(br instanceof a.Array)return br.slice();else if(br instanceof _7)return F.ofList(br);else{bs=[];bt=z.Get(br);try{while(bt.MoveNext())bs.push(bt.Current());return bs;}finally{if("Dispose"in bt)bt.Dispose();}}};F.partition=function(br,bs){var bt,bu,bv,bw;bt=[];bu=[];for(bv=0,bw=bs.length-1;bv<=bw;bv++)if(br(bs[bv]))bt.push(bs[bv]);else bu.push(bs[bv]);return[bt,bu];};F.permute=function(br,bs){var bt,bu,bv;bt=new a.Array(bs.length);for(bu=0,bv=bs.length-1;bu<=bv;bu++)bt[br(bu)]=bs[bu];return bt;};F.pick=function(br,bs){var bt;bt=F.tryPick(br,bs);return bt==null?t.FailWith("KeyNotFoundException"):bt.$0;};F.reduce=function(br,bs){var bt,bu,bv;F.nonEmpty(bs);bt=bs[0];for(bu=1,bv=bs.length-1;bu<=bv;bu++)bt=br(bt,bs[bu]);return bt;};F.reduceBack=function(br,bs){var bt,bu,bv,bw,bx;F.nonEmpty(bs);bv=bs.length;bu=bs[bv-1];for(bw=2,bx=bv;bw<=bx;bw++)bu=br(bs[bv-bw],bu);return bu;};F.scan=function(br,bs,bt){var bu,bv,bw;bu=new a.Array(1+bt.length);bu[0]=bs;for(bv=0,bw=bt.length-1;bv<=bw;bv++)bu[bv+1]=br(bu[bv],bt[bv]);return bu;};F.scanBack=function(br,bs,bt){var bu,bv,bw,bx;bu=bs.length;bv=new a.Array(1+bu);bv[bu]=bt;for(bw=0,bx=bu-1;bw<=bx;bw++)bv[bu-bw-1]=br(bs[bu-bw-1],bv[bu-bw]);return bv;};F.sort=function(br){return F.map(function(bs){return bs[0];},F.mapi(function(bs,bt){return[bt,bs];},br).sort(bi.Compare));};F.sortBy=function(br,bs){return F.map(function(bt){return bt[0];},F.mapi(function(bt,bu){return[bu,[br(bu),bt]];},bs).sort(function(bt,bu){return bi.Compare(bt[1],bu[1]);}));};F.sortInPlace=function(br){F.mapInPlace(function(bs){return bs[0];},F.mapiInPlace(function(bs,bt){return[bt,bs];},br).sort(bi.Compare));};F.sortInPlaceBy=function(br,bs){F.mapInPlace(function(bt){return bt[0];},F.mapiInPlace(function(bt,bu){return[bu,[br(bu),bt]];},bs).sort(function(bt,bu){return bi.Compare(bt[1],bu[1]);}));};F.sortInPlaceWith=function(br,bs){bs.sort(br);};F.sortWith=function(br,bs){return bs.slice().sort(br);};F.sortByDescending=function(br,bs){return F.map(function(bt){return bt[0];},F.mapi(function(bt,bu){return[bu,[br(bu),bt]];},bs).sort(function(bt,bu){return-bi.Compare(bt[1],bu[1]);}));};F.sortDescending=function(br){return F.map(function(bs){return bs[0];},F.mapi(function(bs,bt){return[bt,bs];},br).sort(function(bs,bt){return-bi.Compare(bs,bt);}));};F.tryFind=function(br,bs){var bt,bu;bt=null;bu=0;while(bu<bs.length&&bt==null){br(bs[bu])?bt={$:1,$0:bs[bu]}:void 0;bu=bu+1;}return bt;};F.tryFindIndex=function(br,bs){var bt,bu;bt=null;bu=0;while(bu<bs.length&&bt==null){br(bs[bu])?bt={$:1,$0:bu}:void 0;bu=bu+1;}return bt;};F.tryHead=function(br){return br.length===0?null:{$:1,$0:br[0]};};F.tryItem=function(br,bs){return bs.length<=br||br<0?null:{$:1,$0:bs[br]};};F.tryLast=function(br){var bs;bs=br.length;return bs===0?null:{$:1,$0:br[bs-1]};};F.tryPick=function(br,bs){var bt,bu,bv;bt=null;bu=0;while(bu<bs.length&&bt==null){bv=br(bs[bu]);bv!=null&&bv.$==1?bt=bv:void 0;bu=bu+1;}return bt;};F.unzip=function(br){var bs,bt,bu,bv,bw;bs=[];bt=[];for(bu=0,bv=br.length-1;bu<=bv;bu++){bw=br[bu];bs.push(bw[0]);bt.push(bw[1]);}return[bs,bt];};F.unzip3=function(br){var bs,bt,bu,bv,bw,bx;bs=[];bt=[];bu=[];for(bv=0,bw=br.length-1;bv<=bw;bv++){bx=br[bv];bs.push(bx[0]);bt.push(bx[1]);bu.push(bx[2]);}return[bs,bt,bu];};F.zip=function(br,bs){var bt,bu,bv;F.checkLength(br,bs);bt=F.create(br.length,null);for(bu=0,bv=br.length-1;bu<=bv;bu++)bt[bu]=[br[bu],bs[bu]];return bt;};F.zip3=function(br,bs,bt){var bu,bv,bw;F.checkLength(br,bs);F.checkLength(bs,bt);bu=F.create(br.length,null);for(bv=0,bw=br.length-1;bv<=bw;bv++)bu[bv]=[br[bv],bs[bv],bt[bv]];return bu;};F.chunkBySize=function(br,bs){return F.ofSeq(G.chunkBySize(br,bs));};F.compareWith=function(br,bs,bt){return G.compareWith(br,bs,bt);};F.distinct=function(br){return F.ofSeq(G.distinct(br));};F.distinctBy=function(br,bs){return F.ofSeq(G.distinctBy(br,bs));};F.except=function(br,bs){return F.ofSeq(G.except(br,bs));};F.findBack=function(br,bs){var bt;bt=F.tryFindBack(br,bs);return bt==null?t.FailWith("KeyNotFoundException"):bt.$0;};F.findIndexBack=function(br,bs){var bt;bt=F.tryFindIndexBack(br,bs);return bt==null?t.FailWith("KeyNotFoundException"):bt.$0;};F.head=function(br){F.nonEmpty(br);return br[0];};F.last=function(br){F.nonEmpty(br);return br[br.length-1];};F.map3=function(br,bs,bt,bu){var bv,bw,bx;F.checkLength(bs,bt);F.checkLength(bs,bu);bv=new a.Array(bu.length);for(bw=0,bx=bu.length-1;bw<=bx;bw++)bv[bw]=br(bs[bw],bt[bw],bu[bw]);return bv;};F.pairwise=function(br){return F.ofSeq(G.pairwise(br));};F.replicate=function(br,bs){return F.create(br,bs);};F.indexed=function(br){return F.mapi(function(bs,bt){return[bs,bt];},br);};F.skip=function(br,bs){return br<0?G.nonNegative():br>bs.length?G.insufficient():bs.slice(br);};F.skipWhile=function(br,bs){var bt,bu;bu=bs.length;bt=0;while(bt<bu&&br(bs[bt]))bt=bt+1;return bs.slice(bt);};F.tail=function(br){return F.skip(1,br);};F.take=function(br,bs){return br<0?G.nonNegative():br>bs.length?G.insufficient():bs.slice(0,br);};F.takeWhile=function(br,bs){var bt,bu;bu=bs.length;bt=0;while(bt<bu&&br(bs[bt]))bt=bt+1;return bs.slice(0,bt);};F.exactlyOne=function(br){return br.length===1?br[0]:t.FailWith("The input does not have precisely one element.");};F.unfold=function(br,bs){return F.ofSeq(G.unfold(br,bs));};F.windowed=function(br,bs){return F.ofSeq(G.windowed(br,bs));};F.splitAt=function(br,bs){return[F.take(br,bs),F.skip(br,bs)];};F.nonEmpty=function(br){if(br.length===0)t.FailWith("The input array was empty.");};F.checkLength=function(br,bs){if(br.length!==bs.length)t.FailWith("The arrays have different lengths.");};I.init=function(br,bs,bt){var bu,bv,bw,bx,by;bu=F.zeroCreate2D(br,bs);for(bv=0,bw=br-1;bv<=bw;bv++){for(bx=0,by=bs-1;bx<=by;bx++)F.set2D(bu,bv,bx,bt(bv,bx));}return bu;};I.iter=function(br,bs){var bt,bu,bv,bw,bx,by;bt=bs.length;bu=bs.length?bs[0].length:0;for(bv=0,bw=bt-1;bv<=bw;bv++){for(bx=0,by=bu-1;bx<=by;bx++)br(F.get2D(bs,bv,bx));}};I.iteri=function(br,bs){var bt,bu,bv,bw,bx,by;bt=bs.length;bu=bs.length?bs[0].length:0;for(bv=0,bw=bt-1;bv<=bw;bv++){for(bx=0,by=bu-1;bx<=by;bx++)br(bv,bx,F.get2D(bs,bv,bx));}};I.map=function(br,bs){return I.init(bs.length,bs.length?bs[0].length:0,function(bt,bu){return br(F.get2D(bs,bt,bu));});};I.mapi=function(br,bs){return I.init(bs.length,bs.length?bs[0].length:0,function(bt,bu){return br(bt,bu,F.get2D(bs,bt,bu));});};I.copy=function(br){return I.init(br.length,br.length?br[0].length:0,function(bs,bt){return F.get2D(br,bs,bt);});};J=b.CancellationTokenSource=bl.Class({CancelAfter:function(br){var bs,bt;bs=this;!this.c?(bt=this.pending,bt==null?void 0:a.clearTimeout(bt.$0),this.pending={$:1,$0:a.setTimeout(function(){bs.Cancel$1();},br)}):void 0;},Cancel:function(br){if(!br)this.Cancel$1();else if(!this.c){this.c=true;F.iter(function(bs){bs();},this.r);}},Cancel$1:function(){var br;if(!this.c){this.c=true;br=F.choose(function(bs){try{bs();return null;}catch(bt){return{$:1,$0:bt};}},this.r);if(F.length(br)>0)throw new Z.New$3(br);else void 0;}}},e,J);J.CreateLinkedTokenSource=function(br,bs){return J.CreateLinkedTokenSource$1([br,bs]);};J.CreateLinkedTokenSource$1=function(br){var bs;bs=new J.New();F.iter(function(bt){function bu(bv){return bs.Cancel$1();}w.Register(bt,function(){bu();});},br);return bs;};J.New=bl.Ctor(function(){this.c=false;this.pending=null;this.r=[];this.init=1;},J);K.IsWhiteSpace=function(br){return br.match(new a.RegExp("\\s"))!==null;};K.Parse=function(br){return br.length===1?br:t.FailWith("String must be exactly one character long.");};K.IsUpper=function(br){return br>="A"&&br<="Z";};K.IsLower=function(br){return br>="a"&&br<="z";};K.IsLetterOrDigit=function(br){return K.IsLetter(br)||K.IsDigit(br);};K.IsLetter=function(br){return br>="A"&&br<="Z"||br>="a"&&br<="z";};K.IsDigit=function(br){return br>="0"&&br<="9";};K.IsControl=function(br){return br>="\u0000"&&br<="\u001f"||br>="\u0080"&&br<="\u009f";};K.GetNumericValue=function(br){return br>="0"&&br<="9"?br.charCodeAt()-"0".charCodeAt():-1;};L.observer=function(br){return{OnCompleted:function(){return null;},OnError:function(){return null;},OnNext:br};};M.LongTime=function(br){return(new bo(br)).toLocaleTimeString({},{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:false});};M.ShortTime=function(br){return(new bo(br)).toLocaleTimeString({},{hour:"2-digit",minute:"2-digit",hour12:false});};M.LongDate=function(br){return(new bo(br)).toLocaleDateString({},{year:"numeric",month:"long",day:"numeric",weekday:"long"});};M.Parse=function(br){var bs;bs=M.TryParse(br);return bs!=null&&bs.$==1?bs.$0:t.FailWith("Failed to parse date string.");};M.TryParse=function(br){var bs;bs=bo.parse(br);return a.isNaN(bs)?null:{$:1,$0:bs};};M.AddMonths=function(br,bs){var bt;bt=new bo(br);return(new bo(bt.getFullYear(),bt.getMonth()+bs,bt.getDate(),bt.getHours(),bt.getMinutes(),bt.getSeconds(),bt.getMilliseconds())).getTime();};M.AddYears=function(br,bs){var bt;bt=new bo(br);return(new bo(bt.getFullYear()+bs,bt.getMonth(),bt.getDate(),bt.getHours(),bt.getMinutes(),bt.getSeconds(),bt.getMilliseconds())).getTime();};M.TimePortion=function(br){var bs;bs=new bo(br);return(((24*0+bs.getHours())*60+bs.getMinutes())*60+bs.getSeconds())*1000+bs.getMilliseconds();};M.DatePortion=function(br){var bs;bs=new bo(br);return(new bo(bs.getFullYear(),bs.getMonth(),bs.getDate())).getTime();};N=b.DateTimeOffset=bl.Class({ToUniversalTime:function(){return new N.New(this.d,0);},ToLocalTime:function(){return new N.New(this.d,(new bo()).getTimezoneOffset());}},e,N);N.New=bl.Ctor(function(br,bs){this.d=br;},N);O.InvocationList=function(br){return br.$Invokes||[br];};O.RemoveAll=function(br,bs){var bt;bt=O.InvocationList(br);F.length(O.InvocationList(bs))>1?t.FailWith("TODO: Remove multicast delegates"):void 0;return bl.CreateDelegate(F.filter(function(bu){return!bi.Equals(bu,bs);},bt));};O.Remove=function(br,bs){var bt,bu,bv,bw,bx,by,bz;bv=O.InvocationList(br);if(F.length(O.InvocationList(bs))>1)t.FailWith("TODO: Remove multicast delegates");bw=[];bu=false;for(bx=F.length(bv)-1,by=0;bx>=by;bx--){bz=F.get(bv,bx);!bu&&bl.DelegateEqual(bz,bs)?bu=true:bw.unshift(bz);}return bl.CreateDelegate(bw);};O.DelegateTarget=function(br){var bs;return!br?null:"$Target"in br?br.$Target:"$Invokes"in br?(bs=br.$Invokes,(F.get(bs,F.length(bs)-1))[1]):null;};P.getHashCode=function(br,bs){return br.CGetHashCode(bs);};P.equals=function(br){return function(bs,bt){return br.CEquals(bs,bt);};};P.alreadyAdded=function(){return t.FailWith("An item with the same key has already been added.");};P.notPresent=function(){return t.FailWith("The given key was not present in the dictionary.");};Q=f.KeyCollection=bl.Class({GetEnumerator$1:function(){return z.Get(G.map(function(br){return br.K;},this.d));},get_Count:function(){return this.d.count;},GetEnumerator0:function(){return this.GetEnumerator$1();},GetEnumerator:function(){return this.GetEnumerator$1();}},e,Q);Q.New=bl.Ctor(function(br){this.d=br;},Q);R=f.ValueCollection=bl.Class({GetEnumerator$1:function(){return z.Get(G.map(function(br){return br.V;},this.d));},get_Count:function(){return this.d.count;},GetEnumerator0:function(){return this.GetEnumerator$1();},GetEnumerator:function(){return this.GetEnumerator$1();}},e,R);R.New=bl.Ctor(function(br){this.d=br;},R);S=f.Dictionary=bl.Class({remove:function(br){var bs,bt,bu,bv;bs=this;bt=this.hash(br);bu=this.data[bt];return bu&&(bv=F.filter(function(bw){return!bs.equals.apply(null,[(t.KeyValue(bw))[0],br]);},bu),F.length(bv)<bu.length&&(this.count=this.count-1,this.data[bt]=bv,true));},add:function(br,bs){var bt,bu,bv;bt=this;bu=this.hash(br);bv=this.data[bu];bv?(F.exists(function(bw){return bt.equals.apply(null,[(t.KeyValue(bw))[0],br]);},bv)?P.alreadyAdded():void 0,this.count=this.count+1,bv.push({K:br,V:bs})):(this.count=this.count+1,this.data[bu]=new a.Array({K:br,V:bs}));},set:function(br,bs){var bt,bu,bv,bw;bt=this;bu=this.hash(br);bv=this.data[bu];bv?(bw=F.tryFindIndex(function(bx){return bt.equals.apply(null,[(t.KeyValue(bx))[0],br]);},bv),bw==null?(this.count=this.count+1,bv.push({K:br,V:bs})):bv[bw.$0]={K:br,V:bs}):(this.count=this.count+1,this.data[bu]=new a.Array({K:br,V:bs}));},get:function(br){var bs,bt;bs=this;bt=this.data[this.hash(br)];return bt?F.pick(function(bu){var bv;bv=t.KeyValue(bu);return bs.equals.apply(null,[bv[0],br])?{$:1,$0:bv[1]}:null;},bt):P.notPresent();},get_Keys:function(){return new Q.New(this);},get_Values:function(){return new R.New(this);},TryGetValue:function(br,bs){var bt,bu,bv;bt=this;bu=this.data[this.hash(br)];return bu&&(bv=F.tryPick(function(bw){var bx;bx=t.KeyValue(bw);return bt.equals.apply(null,[bx[0],br])?{$:1,$0:bx[1]}:null;},bu),bv!=null&&bv.$==1&&(bs.set(bv.$0),true));},Remove:function(br){return this.remove(br);},GetEnumerator$1:function(){return z.Get0(this);},set_Item:function(br,bs){this.set(br,bs);},get_Item:function(br){return this.get(br);},ContainsKey:function(br){var bs,bt;bs=this;bt=this.data[this.hash(br)];return bt&&F.exists(function(bu){return bs.equals.apply(null,[(t.KeyValue(bu))[0],br]);},bt);},Clear:function(){this.data=[];this.count=0;},Add:function(br,bs){this.add(br,bs);},GetEnumerator:function(){return z.Get0(this);},GetEnumerator0:function(){return z.Get0(F.concat(d.GetFieldValues(this.data)));}},e,S);S.New=bl.Ctor(function(br,bs){S.New$6.call(this,br,P.equals(bs),function(bt){return P.getHashCode(bs,bt);});},S);S.New$1=bl.Ctor(function(br){S.New$6.call(this,br,bi.Equals,bi.Hash);},S);S.New$2=bl.Ctor(function(br,bs){S.New$3.call(this,bs);},S);S.New$3=bl.Ctor(function(br){S.New$6.call(this,[],P.equals(br),function(bs){return P.getHashCode(br,bs);});},S);S.New$4=bl.Ctor(function(br){S.New$5.call(this);},S);S.New$5=bl.Ctor(function(){S.New$6.call(this,[],bi.Equals,bi.Hash);},S);S.New$6=bl.Ctor(function(br,bs,bt){var bu,bv;this.equals=bs;this.hash=bt;this.count=0;this.data=[];bu=z.Get(br);try{while(bu.MoveNext()){bv=bu.Current();this.set(bv.K,bv.V);}}finally{if("Dispose"in bu)bu.Dispose();}},S);T=b.MatchFailureException=bl.Class({},null,T);T.New=bl.Ctor(function(br,bs,bt){this.message=br+" at "+bn(bs)+":"+bn(bt);},T);U=b.IndexOutOfRangeException=bl.Class({},null,U);U.New=bl.Ctor(function(){U.New$1.call(this,"Index was outside the bounds of the array.");},U);U.New$1=bl.Ctor(function(br){this.message=br;},U);V=b.OperationCanceledException=bl.Class({},null,V);V.New=bl.Ctor(function(br){V.New$1.call(this,"The operation was canceled.",null,br);},V);V.New$1=bl.Ctor(function(br,bs,bt){this.message=br;this.inner=bs;this.ct=bt;},V);W=b.ArgumentException=bl.Class({},null,W);W.New=bl.Ctor(function(br,bs){W.New$2.call(this,bs+"\nParameter name: "+br);},W);W.New$1=bl.Ctor(function(){W.New$2.call(this,"Value does not fall within the expected range.");},W);W.New$2=bl.Ctor(function(br){this.message=br;},W);X=b.ArgumentOutOfRangeException=bl.Class({},null,X);X.New=bl.Ctor(function(){X.New$1.call(this,"Specified argument was out of the range of valid values.");},X);X.New$1=bl.Ctor(function(br){this.message=br;},X);Y=b.InvalidOperationException=bl.Class({},null,Y);Y.New=bl.Ctor(function(){Y.New$1.call(this,"Operation is not valid due to the current state of the object.");},Y);Y.New$1=bl.Ctor(function(br){this.message=br;},Y);Z=b.AggregateException=bl.Class({},null,Z);Z.New=bl.Ctor(function(br,bs){Z.New$4.call(this,br,[bs]);},Z);Z.New$1=bl.Ctor(function(br,bs){Z.New$4.call(this,br,F.ofSeq(bs));},Z);Z.New$2=bl.Ctor(function(br){Z.New$4.call(this,"One or more errors occurred.",F.ofSeq(br));},Z);Z.New$3=bl.Ctor(function(br){Z.New$4.call(this,"One or more errors occurred.",br);},Z);Z.New$4=bl.Ctor(function(br,bs){this.message=br;this.innerExceptions=bs;},Z);_0=b.TimeoutException=bl.Class({},null,_0);_0.New=bl.Ctor(function(){_0.New$1.call(this,"The operation has timed out.");},_0);_0.New$1=bl.Ctor(function(br){this.message=br;},_0);_1=b.FormatException=bl.Class({},null,_1);_1.New=bl.Ctor(function(){_1.New$1.call(this,"One of the identified items was in an invalid format.");},_1);_1.New$1=bl.Ctor(function(br){this.message=br;},_1);_2=b.OverflowException=bl.Class({},null,_2);_2.New=bl.Ctor(function(){_2.New$1.call(this,"Arithmetic operation resulted in an overflow.");},_2);_2.New$1=bl.Ctor(function(br){this.message=br;},_2);F.create2D=function(br){var bs;bs=F.ofSeq(G.map(F.ofSeq,br));bs.dims=2;return bs;};_3.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new a.RegExp("[xy]","g"),function(br){var bs,bt;bs=bq.random()*16|0;bt=br=="x"?bs:bs&3|8;return bt.toString(16);});};_4.concat=function(br){var bs,bt;bs=[];for(var bu in br)bs.push.apply(bs,br[bu]);return bs;};_5=f.HashSet=bl.Class({add:function(br){var bs,bt;bs=this.hash(br);bt=this.data[bs];return bt==null?(this.data[bs]=[br],this.count=this.count+1,true):this.arrContains(br,bt)?false:(bt.push(br),this.count=this.count+1,true);},arrRemove:function(br,bs){var bt,bu,bv,bw;bt=true;bu=0;bw=bs.length;while(bt&&bu<bw)if(this.equals.apply(null,[bs[bu],br])){bs.splice.apply(bs,[bu,1]);bt=false;}else bu=bu+1;return!bt;},arrContains:function(br,bs){var bt,bu,bv,bw;bt=true;bu=0;bw=bs.length;while(bt&&bu<bw)if(this.equals.apply(null,[bs[bu],br]))bt=false;else bu=bu+1;return!bt;},UnionWith:function(br){var bs;bs=z.Get(br);try{while(bs.MoveNext())this.Add(bs.Current());}finally{if("Dispose"in bs)bs.Dispose();}},SymmetricExceptWith:function(br){var bs,bt;bs=z.Get(br);try{while(bs.MoveNext()){bt=bs.Current();this.Contains(bt)?this.Remove(bt):this.Add(bt);}}finally{if("Dispose"in bs)bs.Dispose();}},SetEquals:function(br){var bs;bs=new _5.New$4(br,this.equals,this.hash);return this.get_Count()===bs.get_Count()&&this.IsSupersetOf(bs);},RemoveWhere:function(br){var bs,bt,bu,bv,bw;bt=_4.concat(this.data);bs=0;for(bu=0,bv=bt.length-1;bu<=bv;bu++){bw=bt[bu];br(bw)?this.Remove(bw)?bs=bs+1:void 0:void 0;}return bs;},Remove:function(br){var bs;bs=this.data[this.hash(br)];return bs==null?false:this.arrRemove(br,bs)&&(this.count=this.count-1,true);},Overlaps:function(br){var bs;bs=this;return G.exists(function(bt){return bs.Contains(bt);},br);},IsSupersetOf:function(br){var bs;bs=this;return G.forall(function(bt){return bs.Contains(bt);},br);},IsSubsetOf:function(br){var bs;bs=new _5.New$4(br,this.equals,this.hash);return F.forall(function(bt){return bs.Contains(bt);},_4.concat(this.data));},IsProperSupersetOf:function(br){var bs;bs=F.ofSeq(br);return this.count>F.length(bs)&&this.IsSupersetOf(bs);},IsProperSubsetOf:function(br){var bs;bs=F.ofSeq(br);return this.count<F.length(bs)&&this.IsSubsetOf(bs);},IntersectWith:function(br){var bs,bt,bu,bv,bw;bs=new _5.New$4(br,this.equals,this.hash);bt=_4.concat(this.data);for(bu=0,bv=bt.length-1;bu<=bv;bu++){bw=bt[bu];!bs.Contains(bw)?this.Remove(bw):void 0;}},ExceptWith:function(br){var bs;bs=z.Get(br);try{while(bs.MoveNext())this.Remove(bs.Current());}finally{if("Dispose"in bs)bs.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(br){var bs,bt,bu,bv;bs=0;bt=_4.concat(this.data);for(bu=0,bv=bt.length-1;bu<=bv;bu++)F.set(br,bu,bt[bu]);},Contains:function(br){var bs;bs=this.data[this.hash(br)];return bs==null?false:this.arrContains(br,bs);},Clear:function(){this.data=[];this.count=0;},Add:function(br){return this.add(br);},GetEnumerator:function(){return z.Get(_4.concat(this.data));},GetEnumerator0:function(){return z.Get(_4.concat(this.data));}},e,_5);_5.New=bl.Ctor(function(br,bs){_5.New$4.call(this,br,P.equals(bs),function(bt){return P.getHashCode(bs,bt);});},_5);_5.New$1=bl.Ctor(function(br){_5.New$4.call(this,[],P.equals(br),function(bs){return P.getHashCode(br,bs);});},_5);_5.New$2=bl.Ctor(function(br){_5.New$4.call(this,br,bi.Equals,bi.Hash);},_5);_5.New$3=bl.Ctor(function(){_5.New$4.call(this,[],bi.Equals,bi.Hash);},_5);_5.New$4=bl.Ctor(function(br,bs,bt){var bu;this.equals=bs;this.hash=bt;this.data=[];this.count=0;bu=z.Get(br);try{while(bu.MoveNext())this.add(bu.Current());}finally{if("Dispose"in bu)bu.Dispose();}},_5);_6.Force=function(br){return br.f();};_6.CreateFromValue=function(br){return{c:true,v:br,f:_6.cachedLazy};};_6.Create=function(br){return{c:false,v:br,f:_6.forceLazy};};_6.forceLazy=function(){var br;br=this.v();this.c=true;this.v=br;this.f=_6.cachedLazy;return br;};_6.cachedLazy=function(){return this.v;};_7=H.T=bl.Class({GetSlice:function(br,bs){var bt;return br!=null&&br.$==1?bs!=null&&bs.$==1?(bt=br.$0,H.ofSeq(G.take(bs.$0-bt+1,H.skip(bt,this)))):H.skip(br.$0,this):bs!=null&&bs.$==1?H.ofSeq(G.take(bs.$0+1,this)):this;},get_Item:function(br){return G.nth(br,this);},get_Length:function(){return H.length(this);},GetEnumerator:function(){return new A.New(this,null,function(br){var bs;bs=br.s;return bs.$==0?false:(br.c=bs.$0,br.s=bs.$1,true);},void 0);},GetEnumerator0:function(){return z.Get(this);}},null,_7);_7.Empty=new _7({$:0});H.allPairs=function(br,bs){return H.ofArray(F.allPairs(F.ofList(br),F.ofList(bs)));};H.append=function(br,bs){var bt,bu,bv,bw,bx;if(br.$==0)return bs;else if(bs.$==0)return br;else{bw=new _7({$:1});bt=bw;bu=br;bv=true;while(bv){bt.$0=bu.$0;bu=bu.$1;bu.$==0?bv=false:bt=(bx=new _7({$:1}),bt.$1=bx,bx);}bt.$1=bs;return bw;}};H.choose=function(br,bs){return H.ofSeq(G.choose(br,bs));};H.collect=function(br,bs){return H.ofSeq(G.collect(br,bs));};H.concat=function(br){return H.ofSeq(G.concat(br));};H.exists=function(br,bs){var bt,bu;bt=false;bu=bs;while(!bt&&bu.$==1){bt=br(bu.$0);bu=bu.$1;}return bt;};H.exists2=function(br,bs,bt){var bu,bv,bw;bu=false;bv=bs;bw=bt;while(!bu&&bv.$==1&&bw.$==1){bu=br(bv.$0,bw.$0);bv=bv.$1;bw=bw.$1;}!bu&&(bv.$==1||bw.$==1)?H.badLengths():void 0;return bu;};H.filter=function(br,bs){return H.ofSeq(G.filter(br,bs));};H.fold2=function(br,bs,bt,bu){return F.fold2(br,bs,F.ofList(bt),F.ofList(bu));};H.foldBack=function(br,bs,bt){return F.foldBack(br,F.ofList(bs),bt);};H.foldBack2=function(br,bs,bt,bu){return F.foldBack2(br,F.ofList(bs),F.ofList(bt),bu);};H.forAll=function(br,bs){var bt,bu;bt=true;bu=bs;while(bt&&bu.$==1){bt=br(bu.$0);bu=bu.$1;}return bt;};H.forall2=function(br,bs,bt){var bu,bv,bw;bu=true;bv=bs;bw=bt;while(bu&&bv.$==1&&bw.$==1){bu=br(bv.$0,bw.$0);bv=bv.$1;bw=bw.$1;}bu&&(bv.$==1||bw.$==1)?H.badLengths():void 0;return bu;};H.head=function(br){return br.$==1?br.$0:H.listEmpty();};H.init=function(br,bs){return H.ofArray(F.init(br,bs));};H.iter=function(br,bs){var bt;bt=bs;while(bt.$==1){br(H.head(bt));bt=H.tail(bt);}};H.iter2=function(br,bs,bt){var bu,bv;bu=bs;bv=bt;while(bu.$==1){bv.$==0?H.badLengths():void 0;br(H.head(bu),H.head(bv));bu=H.tail(bu);bv=H.tail(bv);}bv.$==1?H.badLengths():void 0;};H.iteri=function(br,bs){var bt,bu;bt=bs;bu=0;while(bt.$==1){br(bu,H.head(bt));bt=H.tail(bt);bu=bu+1;}};H.iteri2=function(br,bs,bt){var bu,bv,bw;bu=bs;bv=bt;bw=0;while(bu.$==1){bv.$==0?H.badLengths():void 0;br(bw,H.head(bu),H.head(bv));bu=H.tail(bu);bv=H.tail(bv);bw=bw+1;}bv.$==1?H.badLengths():void 0;};H.length=function(br){var bs,bt;bs=br;bt=0;while(bs.$==1){bs=H.tail(bs);bt=bt+1;}return bt;};H.map=function(br,bs){var bt,bu,bv,bw,bx;if(bs.$==0)return bs;else{bw=new _7({$:1});bt=bw;bu=bs;bv=true;while(bv){bt.$0=br(bu.$0);bu=bu.$1;bu.$==0?bv=false:bt=(bx=new _7({$:1}),bt.$1=bx,bx);}bt.$1=_7.Empty;return bw;}};H.map2=function(br,bs,bt){var bu,bv,bw,bx,by,bz;bu=bs.$==1&&bt.$==1;if(!bu)return bs.$==1||bt.$==1?H.badLengths():bs;else{by=new _7({$:1});bv=by;bw=bs;bx=bt;while(bu){bv.$0=br(bw.$0,bx.$0);bw=bw.$1;bx=bx.$1;bw.$==1&&bx.$==1?bv=(bz=new _7({$:1}),bv.$1=bz,bz):bu=false;}if(bw.$==1||bx.$==1)H.badLengths();bv.$1=_7.Empty;return by;}};H.map3=function(br,bs,bt,bu){var bv,bw,bx,by,bz,bA,bB;bv=bs.$==1&&bt.$==1&&bu.$==1;if(!bv)return bs.$==1||bt.$==1||bu.$==1?H.badLengths():bs;else{bA=new _7({$:1});bw=bA;bx=bs;by=bt;bz=bu;while(bv){bw.$0=br(bx.$0,by.$0,bz.$0);bx=bx.$1;by=by.$1;bz=bz.$1;bx.$==1&&by.$==1&&bz.$==1?bw=(bB=new _7({$:1}),bw.$1=bB,bB):bv=false;}if(bx.$==1||by.$==1||bz.$==1)H.badLengths();bw.$1=_7.Empty;return bA;}};H.mapi=function(br,bs){var bt,bu,bv,bw,bx,by;if(bs.$==0)return bs;else{bx=new _7({$:1});bt=bx;bu=bs;bv=0;bw=true;while(bw){bt.$0=br(bv,bu.$0);bu=bu.$1;bu.$==0?bw=false:(bt=(by=new _7({$:1}),bt.$1=by,by),bv=bv+1);}bt.$1=_7.Empty;return bx;}};H.mapi2=function(br,bs,bt){var bu,bv,bw,bx,by,bz,bA;bu=bs.$==1&&bt.$==1;if(!bu)return bs.$==1||bt.$==1?H.badLengths():bs;else{bz=new _7({$:1});bv=bz;bw=bs;bx=bt;by=0;while(bu){bv.$0=br(by,bw.$0,bx.$0);bw=bw.$1;bx=bx.$1;bw.$==1&&bx.$==1?(bv=(bA=new _7({$:1}),bv.$1=bA,bA),by=by+1):bu=false;}if(bw.$==1||bx.$==1)H.badLengths();bv.$1=_7.Empty;return bz;}};H.max=function(br){return G.reduce(function(bs,bt){return bi.Compare(bs,bt)===1?bs:bt;},br);};H.maxBy=function(br,bs){return G.reduce(function(bt,bu){return bi.Compare(br(bt),br(bu))===1?bt:bu;},bs);};H.min=function(br){return G.reduce(function(bs,bt){return bi.Compare(bs,bt)===-1?bs:bt;},br);};H.minBy=function(br,bs){return G.reduce(function(bt,bu){return bi.Compare(br(bt),br(bu))===-1?bt:bu;},bs);};H.ofArray=function(br){var bs,bt,bu;bs=_7.Empty;for(bt=F.length(br)-1,bu=0;bt>=bu;bt--)bs=new _7({$:1,$0:F.get(br,bt),$1:bs});return bs;};H.ofSeq=function(br){var bs,bt,bu,bv,bw,bx;if(br instanceof _7)return br;else if(br instanceof a.Array)return H.ofArray(br);else{bs=z.Get(br);try{bu=bs.MoveNext();if(!bu)bt=_7.Empty;else{bw=new _7({$:1});bv=bw;while(bu){bv.$0=bs.Current();bs.MoveNext()?bv=(bx=new _7({$:1}),bv.$1=bx,bx):bu=false;}bv.$1=_7.Empty;bt=bw;}return bt;}finally{if("Dispose"in bs)bs.Dispose();}}};H.partition=function(br,bs){var bt;bt=F.partition(br,F.ofList(bs));return[H.ofArray(bt[0]),H.ofArray(bt[1])];};H.permute=function(br,bs){return H.ofArray(F.permute(br,F.ofList(bs)));};H.reduceBack=function(br,bs){return F.reduceBack(br,F.ofList(bs));};H.replicate=function(br,bs){return H.ofArray(F.create(br,bs));};H.rev=function(br){var bs,bt;bs=_7.Empty;bt=br;while(bt.$==1){bs=new _7({$:1,$0:bt.$0,$1:bs});bt=bt.$1;}return bs;};H.scan=function(br,bs,bt){return H.ofSeq(G.scan(br,bs,bt));};H.scanBack=function(br,bs,bt){return H.ofArray(F.scanBack(br,F.ofList(bs),bt));};H.sort=function(br){var bs;bs=F.ofList(br);F.sortInPlace(bs);return H.ofArray(bs);};H.sortBy=function(br,bs){return H.sortWith(function(bt,bu){return bi.Compare(br(bt),br(bu));},bs);};H.sortByDescending=function(br,bs){return H.sortWith(function(bt,bu){return-bi.Compare(br(bt),br(bu));},bs);};H.sortDescending=function(br){var bs;bs=F.ofList(br);F.sortInPlaceByDescending(a.id,bs);return H.ofArray(bs);};H.sortWith=function(br,bs){var bt;bt=F.ofList(bs);F.sortInPlaceWith(br,bt);return H.ofArray(bt);};H.tail=function(br){return br.$==1?br.$1:H.listEmpty();};H.unzip=function(br){var bs,bt,bu,bv;bs=[];bt=[];bu=z.Get(br);try{while(bu.MoveNext()){bv=bu.Current();bs.push(bv[0]);bt.push(bv[1]);}}finally{if("Dispose"in bu)bu.Dispose();}return[H.ofArray(bs.slice(0)),H.ofArray(bt.slice(0))];};H.unzip3=function(br){var bs,bt,bu,bv,bw;bs=[];bt=[];bu=[];bv=z.Get(br);try{while(bv.MoveNext()){bw=bv.Current();bs.push(bw[0]);bt.push(bw[1]);bu.push(bw[2]);}}finally{if("Dispose"in bv)bv.Dispose();}return[H.ofArray(bs.slice(0)),H.ofArray(bt.slice(0)),H.ofArray(bu.slice(0))];};H.zip=function(br,bs){return H.map2(function(bt,bu){return[bt,bu];},br,bs);};H.zip3=function(br,bs,bt){return H.map3(function(bu,bv,bw){return[bu,bv,bw];},br,bs,bt);};H.chunkBySize=function(br,bs){return H.map(H.ofArray,H.ofSeq(G.chunkBySize(br,bs)));};H.compareWith=function(br,bs,bt){return G.compareWith(br,bs,bt);};H.countBy=function(br,bs){return H.ofArray(F.countBy(br,F.ofList(bs)));};H.distinct=function(br){return H.ofSeq(G.distinct(br));};H.distinctBy=function(br,bs){return H.ofSeq(G.distinctBy(br,bs));};H.splitInto=function(br,bs){return H.map(H.ofArray,H.ofArray(F.splitInto(br,F.ofList(bs))));};H.except=function(br,bs){return H.ofSeq(G.except(br,bs));};H.tryFindBack=function(br,bs){return F.tryFindBack(br,F.ofList(bs));};H.findBack=function(br,bs){var bt;bt=H.tryFindBack(br,bs);return bt==null?t.FailWith("KeyNotFoundException"):bt.$0;};H.findIndexBack=function(br,bs){var bt;bt=F.tryFindIndexBack(br,F.ofList(bs));return bt==null?t.FailWith("KeyNotFoundException"):bt.$0;};H.groupBy=function(br,bs){var bt;function bu(bv,bw){return[bv,H.ofArray(bw)];}bt=F.groupBy(br,F.ofList(bs));F.mapInPlace(function(bv){return bu(bv[0],bv[1]);},bt);return H.ofArray(bt);};H.last=function(br){var bs,bt;br.$==0?H.listEmpty():null;bs=br;bt=bs.$1;while(bt.$==1){bs=bt;bt=bs.$1;}return bs.$0;};H.contains=function(br,bs){var bt,bu;bt=false;bu=bs;while(!bt&&bu.$==1){bt=bi.Equals(br,bu.$0);bu=bu.$1;}return bt;};H.mapFold=function(br,bs,bt){var bu;bu=F.mapFold(br,bs,F.ofList(bt));return[H.ofArray(bu[0]),bu[1]];};H.mapFoldBack=function(br,bs,bt){var bu;bu=F.mapFoldBack(br,F.ofList(bs),bt);return[H.ofArray(bu[0]),bu[1]];};H.pairwise=function(br){return H.ofSeq(G.pairwise(br));};H.indexed=function(br){return H.mapi(function(bs,bt){return[bs,bt];},br);};H.tryHead=function(br){return br.$==0?null:{$:1,$0:br.$0};};H.exactlyOne=function(br){var bs;return br.$==1&&(br.$1.$==0&&(bs=br.$0,true))?bs:t.FailWith("The input does not have precisely one element.");};H.unfold=function(br,bs){return H.ofSeq(G.unfold(br,bs));};H.windowed=function(br,bs){return H.ofSeq(G.map(H.ofArray,G.windowed(br,bs)));};H.splitAt=function(br,bs){return[H.ofSeq(G.take(br,bs)),H.skip(br,bs)];};H.listEmpty=function(){return t.FailWith("The input list was empty.");};H.badLengths=function(){return t.FailWith("The lists have different lengths.");};u.getOrValue=function(br,bs){return br==null?bs:br;};u.get=function(br){return br==null?t.FailWith("Nullable object must have a value."):br;};t.range=function(br,bs){var bt;bt=1+bs-br;return bt<=0?[]:G.init(bt,function(bu){return bu+br;});};t.step=function(br,bs,bt){var bu;bu=t.Sign(bs);return G.takeWhile(function(bv){return bu*(bt-bv)>=0;},G.initInfinite(function(bv){return br+bv*bs;}));};t.KeyValue=function(br){return[br.K,br.V];};t.Truncate=function(br){return br<0?bq.ceil(br):bq.floor(br);};t.Sign=function(br){return br===0?0:br<0?-1:1;};t.Pown=function(br,bs){function bt(bu){var bv;return bu===1?br:bu%2===0?(bv=bt(bu/2>>0),bv*bv):br*bt(bu-1);}return bt(bs);};t.InvalidArg=function(br,bs){throw new W.New(br,bs);};t.InvalidOp=function(br){throw new Y.New$1(br);};t.FailWith=function(br){throw a.Error(br);};_8.string=function(br,bs,bt){return bs==null?bt!=null&&bt.$==1?br.slice(0,bt.$0+1):"":bt==null?br.slice(bs.$0):br.slice(bs.$0,bt.$0+1);};_8.array=function(br,bs,bt){return bs==null?bt!=null&&bt.$==1?br.slice(0,bt.$0+1):[]:bt==null?br.slice(bs.$0):br.slice(bs.$0,bt.$0+1);};_8.setArray=function(br,bs,bt,bu){var bv;bv=bs!=null&&bs.$==1?bs.$0:0;F.setSub(br,bv,(bt!=null&&bt.$==1?bt.$0:br.length-1)-bv+1,bu);};_8.array2D=function(br,bs,bt,bu,bv){var bw,bx;bw=bs!=null&&bs.$==1?bs.$0:0;bx=bu!=null&&bu.$==1?bu.$0:0;return F.sub2D(br,bw,bx,(bt!=null&&bt.$==1?bt.$0:br.length-1)-bw+1,(bv!=null&&bv.$==1?bv.$0:(br.length?br[0].length:0)-1)-bx+1);};_8.array2Dfix1=function(br,bs,bt,bu){var bv,bw,bx,by,bz,bA;bv=bt!=null&&bt.$==1?bt.$0:0;bw=bu!=null&&bu.$==1?bu.$0:(br.length?br[0].length:0)-1;bx=bw-bv+1;by=new a.Array(bx);for(bz=0,bA=bx-1;bz<=bA;bz++)F.set(by,bz,F.get2D(br,bs,bv+bz));return by;};_8.array2Dfix2=function(br,bs,bt,bu){var bv,bw,bx,by,bz,bA;bv=bs!=null&&bs.$==1?bs.$0:0;bw=bt!=null&&bt.$==1?bt.$0:br.length-1;bx=bw-bv+1;by=new a.Array(bx);for(bz=0,bA=bx-1;bz<=bA;bz++)F.set(by,bz,F.get2D(br,bv+bz,bu));return by;};_8.setArray2Dfix1=function(br,bs,bt,bu,bv){var bw,bx,by,bz;bw=bt!=null&&bt.$==1?bt.$0:0;bx=bu!=null&&bu.$==1?bu.$0:(br.length?br[0].length:0)-1;for(by=0,bz=bx-bw+1-1;by<=bz;by++)F.set2D(br,bs,bw+by,F.get(bv,by));};_8.setArray2Dfix2=function(br,bs,bt,bu,bv){var bw,bx,by,bz;bw=bs!=null&&bs.$==1?bs.$0:0;bx=bt!=null&&bt.$==1?bt.$0:br.length-1;for(by=0,bz=bx-bw+1-1;by<=bz;by++)F.set2D(br,bw+by,bu,F.get(bv,by));};_8.setArray2D=function(br,bs,bt,bu,bv,bw){var bx,by;bx=bs!=null&&bs.$==1?bs.$0:0;by=bu!=null&&bu.$==1?bu.$0:0;F.setSub2D(br,bx,by,(bt!=null&&bt.$==1?bt.$0:br.length-1)-bx+1,(bv!=null&&bv.$==1?bv.$0:(br.length?br[0].length:0)-1)-by+1,bw);};_9.filter=function(br,bs){var bt;return bs!=null&&bs.$==1&&(br(bs.$0)&&(bt=bs.$0,true))?bs:null;};_9.fold=function(br,bs,bt){return bt==null?bs:br(bs,bt.$0);};_9.foldBack=function(br,bs,bt){return bs==null?bt:br(bs.$0,bt);};_9.ofNullable=function(br){return br==null?null:{$:1,$0:u.get(br)};};_9.ofObj=function(br){return br==null?null:{$:1,$0:br};};_9.toArray=function(br){return br==null?[]:[br.$0];};_9.toList=function(br){return br==null?_7.Empty:H.ofArray([br.$0]);};_9.toNullable=function(br){return br!=null&&br.$==1?br.$0:null;};_9.toObj=function(br){return br==null?null:br.$0;};_.CopyTo=function(br,bs,bt){F.blit(br,0,bs,bt,F.length(br));};_.Contains=function(br,bs){return G.exists(function(bt){return bi.Equals(bs,bt);},br);};_.Clear=function(br){br.splice(0,F.length(br));};$=b.Random=bl.Class({NextBytes:function(br){var bs,bt;for(bs=0,bt=F.length(br)-1;bs<=bt;bs++)F.set(br,bs,bq.floor(bq.random()*256));},Next:function(br,bs){return br>bs?t.FailWith("'minValue' cannot be greater than maxValue."):br+bq.floor(bq.random()*(bs-br));},Next$1:function(br){return br<0?t.FailWith("'maxValue' must be greater than zero."):bq.floor(bq.random()*br);},Next$2:function(){return bq.floor(bq.random()*2147483648);}},e,$);$.New=bl.Ctor(function(){},$);ba.New=function(br){return[br];};bb.MapError=function(br,bs){return bs.$==1?{$:1,$0:br(bs.$0)}:{$:0,$0:bs.$0};};bb.Map=function(br,bs){return bs.$==1?{$:1,$0:bs.$0}:{$:0,$0:br(bs.$0)};};bb.Bind=function(br,bs){return bs.$==1?{$:1,$0:bs.$0}:br(bs.$0);};G.enumFinally=function(br,bs){return{GetEnumerator:function(){var bt;try{bt=z.Get(br);}catch(bu){bs();throw bu;}return new A.New(null,null,function(bv){return bt.MoveNext()&&(bv.c=bt.Current(),true);},function(){bt.Dispose();bs();});}};};G.enumUsing=function(br,bs){return{GetEnumerator:function(){var bt;try{bt=z.Get(bs(br));}catch(bu){br.Dispose();throw bu;}return new A.New(null,null,function(bv){return bt.MoveNext()&&(bv.c=bt.Current(),true);},function(){bt.Dispose();br.Dispose();});}};};G.enumWhile=function(br,bs){return{GetEnumerator:function(){return new A.New(null,null,function(bt){var bu;while(true){bu=bt.s;if(bi.Equals(bu,null)){if(br()){bt.s=z.Get(bs);bt=bt;}else return false;}else if(bu.MoveNext()){bt.c=bu.Current();return true;}else{bu.Dispose();bt.s=null;bt=bt;}}},function(bt){var bu;bu=bt.s;!bi.Equals(bu,null)?bu.Dispose():void 0;});}};};bc.createEvent=function(br,bs,bt){return{AddHandler:br,RemoveHandler:bs,Subscribe:function(bu){var bv;bv=bt(function(){return function(bw){return bu.OnNext(bw);};});br(bv);return{Dispose:function(){return bs(bv);}};}};};G.allPairs=function(br,bs){var bt;bt=G.cache(bs);return G.collect(function(bu){return G.map(function(bv){return[bu,bv];},bt);},br);};G.append=function(br,bs){return{GetEnumerator:function(){var bt;bt=[true];return new A.New(z.Get(br),null,function(bu){var bv;return bu.s.MoveNext()?(bu.c=bu.s.Current(),true):(bv=bu.s,!bi.Equals(bv,null)?bv.Dispose():void 0,bu.s=null,bt[0]&&(bt[0]=false,bu.s=z.Get(bs),bu.s.MoveNext()?(bu.c=bu.s.Current(),true):(bu.s.Dispose(),bu.s=null,false)));},function(bu){var bv;bv=bu.s;!bi.Equals(bv,null)?bv.Dispose():void 0;});}};};G.average=function(br){var bs,bt;bs=G.fold(function(bu,bv){return(function(bw){var bx,by;bx=bw[0];by=bw[1];return function(bz){return[bx+1,by+bz];};}(bu))(bv);},[0,0],br);bt=bs[0];return bt===0?t.InvalidArg("source","The input sequence was empty."):bs[1]/bt;};G.averageBy=function(br,bs){var bt,bu;bt=G.fold(function(bv,bw){return(function(bx){var by,bz;by=bx[0];bz=bx[1];return function(bA){return[by+1,bz+br(bA)];};}(bv))(bw);},[0,0],bs);bu=bt[0];return bu===0?t.InvalidArg("source","The input sequence was empty."):bt[1]/bu;};G.cache=function(br){var bs,bt;bs=[];bt=[z.Get(br)];return{GetEnumerator:function(){return new A.New(0,null,function(bu){var bv;return bu.s<bs.length?(bu.c=bs[bu.s],bu.s=bu.s+1,true):(bv=bt[0],bi.Equals(bv,null)?false:bv.MoveNext()?(bu.s=bu.s+1,bu.c=bv.Current(),bs.push(bu.c),true):(bv.Dispose(),bt[0]=null,false));},void 0);}};};G.choose=function(br,bs){return G.collect(function(bt){var bu;bu=br(bt);return bu==null?_7.Empty:H.ofArray([bu.$0]);},bs);};G.collect=function(br,bs){return G.concat(G.map(br,bs));};G.compareWith=function(br,bs,bt){var bu,bv,bw,bx,by;bu=z.Get(bs);try{bw=z.Get(bt);try{bx=0;by=true;while(by&&bx===0)if(bu.MoveNext())bx=bw.MoveNext()?br(bu.Current(),bw.Current()):1;else if(bw.MoveNext())bx=-1;else by=false;bv=bx;}finally{if("Dispose"in bw)bw.Dispose();}return bv;}finally{if("Dispose"in bu)bu.Dispose();}};G.concat=function(br){return{GetEnumerator:function(){var bs;bs=z.Get(br);return new A.New(null,null,function(bt){var bu;while(true){bu=bt.s;if(bi.Equals(bu,null)){if(bs.MoveNext()){bt.s=z.Get(bs.Current());bt=bt;}else{bs.Dispose();return false;}}else if(bu.MoveNext()){bt.c=bu.Current();return true;}else{bt.Dispose();bt.s=null;bt=bt;}}},function(bt){var bu;bu=bt.s;!bi.Equals(bu,null)?bu.Dispose():void 0;!bi.Equals(bs,null)?bs.Dispose():void 0;});}};};G.countBy=function(br,bs){return G.delay(function(){return F.countBy(br,F.ofSeq(bs));});};G.delay=function(br){return{GetEnumerator:function(){return z.Get(br());}};};G.distinct=function(br){return G.distinctBy(a.id,br);};G.distinctBy=function(br,bs){return{GetEnumerator:function(){var bt,bu;bt=z.Get(bs);bu=new _5.New$3();return new A.New(null,null,function(bv){var bw,bx;if(bt.MoveNext()){bw=bt.Current();bx=bu.Add(br(bw));while(!bx&&bt.MoveNext()){bw=bt.Current();bx=bu.Add(br(bw));}return bx&&(bv.c=bw,true);}else return false;},function(){bt.Dispose();});}};};G.splitInto=function(br,bs){br<=0?t.FailWith("Count must be positive"):void 0;return G.delay(function(){return F.splitInto(br,F.ofSeq(bs));});};G.exactlyOne=function(br){var bs,bt;bs=z.Get(br);try{return bs.MoveNext()?(bt=bs.Current(),bs.MoveNext()?t.InvalidOp("Sequence contains more than one element"):bt):t.InvalidOp("Sequence contains no elements");}finally{if("Dispose"in bs)bs.Dispose();}};G.exists=function(br,bs){var bt,bu;bt=z.Get(bs);try{bu=false;while(!bu&&bt.MoveNext())bu=br(bt.Current());return bu;}finally{if("Dispose"in bt)bt.Dispose();}};G.exists2=function(br,bs,bt){var bu,bv,bw,bx;bu=z.Get(bs);try{bw=z.Get(bt);try{bx=false;while(!bx&&bu.MoveNext()&&bw.MoveNext())bx=br(bu.Current(),bw.Current());bv=bx;}finally{if("Dispose"in bw)bw.Dispose();}return bv;}finally{if("Dispose"in bu)bu.Dispose();}};G.filter=function(br,bs){return{GetEnumerator:function(){var bt;bt=z.Get(bs);return new A.New(null,null,function(bu){var bv,bw,bx;bv=bt.MoveNext();bw=bt.Current();bx=false;while(bv)if(br(bw)){bu.c=bw;bx=true;bv=false;}else if(bt.MoveNext())bw=bt.Current();else bv=false;return bx;},function(){bt.Dispose();});}};};G.find=function(br,bs){var bt;bt=G.tryFind(br,bs);return bt==null?t.FailWith("KeyNotFoundException"):bt.$0;};G.findIndex=function(br,bs){var bt;bt=G.tryFindIndex(br,bs);return bt==null?t.FailWith("KeyNotFoundException"):bt.$0;};G.fold=function(br,bs,bt){var bu,bv;bu=bs;bv=z.Get(bt);try{while(bv.MoveNext())bu=br(bu,bv.Current());return bu;}finally{if("Dispose"in bv)bv.Dispose();}};G.forall=function(br,bs){return!G.exists(function(bt){return!br(bt);},bs);};G.forall2=function(br,bs,bt){return!G.exists2(function(bu,bv){return!br(bu,bv);},bs,bt);};G.groupBy=function(br,bs){return G.delay(function(){return F.groupBy(br,F.ofSeq(bs));});};G.head=function(br){var bs;bs=z.Get(br);try{return bs.MoveNext()?bs.Current():G.insufficient();}finally{if("Dispose"in bs)bs.Dispose();}};G.init=function(br,bs){return G.take(br,G.initInfinite(bs));};G.initInfinite=function(br){return{GetEnumerator:function(){return new A.New(0,null,function(bs){bs.c=br(bs.s);bs.s=bs.s+1;return true;},void 0);}};};G.isEmpty=function(br){var bs;bs=z.Get(br);try{return!bs.MoveNext();}finally{if("Dispose"in bs)bs.Dispose();}};G.iter=function(br,bs){var bt;bt=z.Get(bs);try{while(bt.MoveNext())br(bt.Current());}finally{if("Dispose"in bt)bt.Dispose();}};G.iter2=function(br,bs,bt){var bu,bv,bw;bu=z.Get(bs);try{bw=z.Get(bt);try{while(bu.MoveNext()&&bw.MoveNext())br(bu.Current(),bw.Current());bv=void 0;}finally{if("Dispose"in bw)bw.Dispose();}bv;}finally{if("Dispose"in bu)bu.Dispose();}};G.iteri=function(br,bs){var bt,bu;bt=0;bu=z.Get(bs);try{while(bu.MoveNext()){br(bt,bu.Current());bt=bt+1;}}finally{if("Dispose"in bu)bu.Dispose();}};G.length=function(br){var bs,bt;bs=0;bt=z.Get(br);try{while(bt.MoveNext())bs=bs+1;return bs;}finally{if("Dispose"in bt)bt.Dispose();}};G.map=function(br,bs){return{GetEnumerator:function(){var bt;bt=z.Get(bs);return new A.New(null,null,function(bu){return bt.MoveNext()&&(bu.c=br(bt.Current()),true);},function(){bt.Dispose();});}};};G.mapi=function(br,bs){return G.map2(br,G.initInfinite(a.id),bs);};G.map2=function(br,bs,bt){return{GetEnumerator:function(){var bu,bv;bu=z.Get(bs);bv=z.Get(bt);return new A.New(null,null,function(bw){return bu.MoveNext()&&bv.MoveNext()&&(bw.c=br(bu.Current(),bv.Current()),true);},function(){bu.Dispose();bv.Dispose();});}};};G.maxBy=function(br,bs){return G.reduce(function(bt,bu){return bi.Compare(br(bt),br(bu))>=0?bt:bu;},bs);};G.minBy=function(br,bs){return G.reduce(function(bt,bu){return bi.Compare(br(bt),br(bu))<=0?bt:bu;},bs);};G.max=function(br){return G.reduce(function(bs,bt){return bi.Compare(bs,bt)>=0?bs:bt;},br);};G.min=function(br){return G.reduce(function(bs,bt){return bi.Compare(bs,bt)<=0?bs:bt;},br);};G.nth=function(br,bs){var bt,bu;if(br<0)t.FailWith("negative index requested");bt=-1;bu=z.Get(bs);try{while(bt<br){!bu.MoveNext()?G.insufficient():void 0;bt=bt+1;}return bu.Current();}finally{if("Dispose"in bu)bu.Dispose();}};G.pairwise=function(br){return G.map(function(bs){return[F.get(bs,0),F.get(bs,1)];},G.windowed(2,br));};G.pick=function(br,bs){var bt;bt=G.tryPick(br,bs);return bt==null?t.FailWith("KeyNotFoundException"):bt.$0;};G.readOnly=function(br){return{GetEnumerator:function(){return z.Get(br);}};};G.reduce=function(br,bs){var bt,bu;bt=z.Get(bs);try{if(!bt.MoveNext())t.FailWith("The input sequence was empty");bu=bt.Current();while(bt.MoveNext())bu=br(bu,bt.Current());return bu;}finally{if("Dispose"in bt)bt.Dispose();}};G.scan=function(br,bs,bt){return{GetEnumerator:function(){var bu;bu=z.Get(bt);return new A.New(false,null,function(bv){return bv.s?bu.MoveNext()&&(bv.c=br(bv.c,bu.Current()),true):(bv.c=bs,bv.s=true,true);},function(){bu.Dispose();});}};};G.skip=function(br,bs){return{GetEnumerator:function(){var bt;bt=z.Get(bs);return new A.New(true,null,function(bu){var bv,bw;if(bu.s){for(bv=1,bw=br;bv<=bw;bv++)if(!bt.MoveNext())G.insufficient();bu.s=false;}else null;return bt.MoveNext()&&(bu.c=bt.Current(),true);},function(){bt.Dispose();});}};};G.skipWhile=function(br,bs){return{GetEnumerator:function(){var bt;bt=z.Get(bs);return new A.New(true,null,function(bu){var bv,bw;if(bu.s){bv=true;bw=false;while(bv)if(bt.MoveNext()){if(!br(bt.Current()))bv=false;}else{bv=false;bw=true;}bu.s=false;return bw?false:(bu.c=bt.Current(),true);}else return bt.MoveNext()&&(bu.c=bt.Current(),true);},function(){bt.Dispose();});}};};G.sort=function(br){return G.sortBy(a.id,br);};G.sortBy=function(br,bs){return G.delay(function(){var bt;bt=F.ofSeq(bs);F.sortInPlaceBy(br,bt);return bt;});};G.sortByDescending=function(br,bs){return G.delay(function(){var bt;bt=F.ofSeq(bs);F.sortInPlaceByDescending(br,bt);return bt;});};G.sortDescending=function(br){return G.sortByDescending(a.id,br);};G.sum=function(br){return G.fold(function(bs,bt){return bs+bt;},0,br);};G.sumBy=function(br,bs){return G.fold(function(bt,bu){return bt+br(bu);},0,bs);};G.take=function(br,bs){br<0?G.nonNegative():void 0;return{GetEnumerator:function(){var bt;bt=[z.Get(bs)];return new A.New(0,null,function(bu){var bv;bu.s=bu.s+1;return bu.s>br?false:(bv=bt[0],bi.Equals(bv,null)?G.insufficient():bv.MoveNext()?(bu.c=bv.Current(),bu.s===br?(bv.Dispose(),bt[0]=null):void 0,true):(bv.Dispose(),bt[0]=null,G.insufficient()));},function(){var bu;bu=bt[0];!bi.Equals(bu,null)?bu.Dispose():void 0;});}};};G.takeWhile=function(br,bs){return G.delay(function(){return G.enumUsing(z.Get(bs),function(bt){return G.enumWhile(function(){return bt.MoveNext()&&br(bt.Current());},G.delay(function(){return[bt.Current()];}));});});};G.truncate=function(br,bs){return G.delay(function(){return G.enumUsing(z.Get(bs),function(bt){var bu;bu=[0];return G.enumWhile(function(){return bt.MoveNext()&&bu[0]<br;},G.delay(function(){bu[0]++;return[bt.Current()];}));});});};G.tryFind=function(br,bs){var bt,bu,bv;bt=z.Get(bs);try{bu=null;while(bu==null&&bt.MoveNext()){bv=bt.Current();br(bv)?bu={$:1,$0:bv}:void 0;}return bu;}finally{if("Dispose"in bt)bt.Dispose();}};G.findBack=function(br,bs){var bt;bt=F.tryFindBack(br,F.ofSeq(bs));return bt==null?t.FailWith("KeyNotFoundException"):bt.$0;};G.tryFindIndex=function(br,bs){var bt,bu,bv;bt=z.Get(bs);try{bu=true;bv=0;while(bu&&bt.MoveNext())if(br(bt.Current()))bu=false;else bv=bv+1;return bu?null:{$:1,$0:bv};}finally{if("Dispose"in bt)bt.Dispose();}};G.findIndexBack=function(br,bs){var bt;bt=F.tryFindIndexBack(br,F.ofSeq(bs));return bt==null?t.FailWith("KeyNotFoundException"):bt.$0;};G.tryPick=function(br,bs){var bt,bu;bt=z.Get(bs);try{bu=null;while(bi.Equals(bu,null)&&bt.MoveNext())bu=br(bt.Current());return bu;}finally{if("Dispose"in bt)bt.Dispose();}};G.unfold=function(br,bs){return{GetEnumerator:function(){return new A.New(bs,null,function(bt){var bu;bu=br(bt.s);return bu==null?false:(bt.c=bu.$0[0],bt.s=bu.$0[1],true);},void 0);}};};G.windowed=function(br,bs){br<=0?t.FailWith("The input must be positive."):void 0;return G.delay(function(){return G.enumUsing(z.Get(bs),function(bt){var bu;bu=[];return G.append(G.enumWhile(function(){return bu.length<br&&bt.MoveNext();},G.delay(function(){bu.push(bt.Current());return[];})),G.delay(function(){return bu.length===br?G.append([bu.slice(0)],G.delay(function(){return G.enumWhile(function(){return bt.MoveNext();},G.delay(function(){bu.shift();bu.push(bt.Current());return[bu.slice(0)];}));})):[];}));});});};G.zip=function(br,bs){return G.map2(function(bt,bu){return[bt,bu];},br,bs);};G.map3=function(br,bs,bt,bu){return{GetEnumerator:function(){var bv,bw,bx;bv=z.Get(bs);bw=z.Get(bt);bx=z.Get(bu);return new A.New(null,null,function(by){return bv.MoveNext()&&bw.MoveNext()&&bx.MoveNext()&&(by.c=br(bv.Current(),bw.Current(),bx.Current()),true);},function(){bv.Dispose();bw.Dispose();bx.Dispose();});}};};G.zip3=function(br,bs,bt){return G.map3(function(bu,bv,bw){return[bu,bv,bw];},br,bs,bt);};G.fold2=function(br,bs,bt,bu){return F.fold2(br,bs,F.ofSeq(bt),F.ofSeq(bu));};G.foldBack=function(br,bs,bt){return F.foldBack(br,F.ofSeq(bs),bt);};G.foldBack2=function(br,bs,bt,bu){return F.foldBack2(br,F.ofSeq(bs),F.ofSeq(bt),bu);};G.iteri2=function(br,bs,bt){var bu,bv,bw,bx;bu=0;bv=z.Get(bs);try{bx=z.Get(bt);try{while(bv.MoveNext()&&bx.MoveNext()){br(bu,bv.Current(),bx.Current());bu=bu+1;}bw=void 0;}finally{if("Dispose"in bx)bx.Dispose();}bw;}finally{if("Dispose"in bv)bv.Dispose();}};G.mapi2=function(br,bs,bt){return G.map3(function(bu,bv,bw){return((br(bu))(bv))(bw);},G.initInfinite(a.id),bs,bt);};G.mapFold=function(br,bs,bt){return F.mapFold(br,bs,F.ofSeq(bt));};G.mapFoldBack=function(br,bs,bt){return F.mapFoldBack(br,F.ofSeq(bs),bt);};G.permute=function(br,bs){return G.delay(function(){return F.permute(br,F.ofSeq(bs));});};G.reduceBack=function(br,bs){return F.reduceBack(br,F.ofSeq(bs));};G.replicate=function(br,bs){br<0?G.nonNegative():void 0;return G.delay(function(){return G.map(function(){return bs;},t.range(0,br-1));});};G.rev=function(br){return G.delay(function(){return F.ofSeq(br).slice().reverse();});};G.scanBack=function(br,bs,bt){return G.delay(function(){return F.scanBack(br,F.ofSeq(bs),bt);});};G.indexed=function(br){return G.mapi(function(bs,bt){return[bs,bt];},br);};G.sortWith=function(br,bs){return G.delay(function(){var bt;bt=F.ofSeq(bs);F.sortInPlaceWith(br,bt);return bt;});};G.tail=function(br){return G.skip(1,br);};bd.CopyTo=function(br,bs,bt){F.blit(bs,0,bs,bt,F.length(br));};bd.Contains=function(br,bs){return G.exists(function(bt){return bi.Equals(bs,bt);},br);};bd.Clear=function(br){br.splice(0,F.length(br));};be.RegexEscape=function(br){return br.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};be.SplitWith=function(br,bs){return br.split(bs);};be.Join=function(br,bs){return bs.join(br);};be.TrimEndWS=function(br){return br.replace(new a.RegExp("\\s+$"),"");};be.TrimStartWS=function(br){return br.replace(new a.RegExp("^\\s+"),"");};be.Trim=function(br){return br.replace(new a.RegExp("^\\s+"),"").replace(new a.RegExp("\\s+$"),"");};be.StartsWith=function(br,bs){return br.substring(0,bs.length)==bs;};be.Substring=function(br,bs,bt){return br.substr(bs,bt);};be.ReplaceOnce=function(br,bs,bt){return br.replace(bs,bt);};be.Remove=function(br,bs,bt){return br.substring(0,bs)+br.substring(bs+bt);};be.PadRightWith=function(br,bs,bt){return bs>br.length?br+a.Array(bs-br.length+1).join(bt):br;};be.PadLeftWith=function(br,bs,bt){return bs>br.length?a.Array(bs-br.length+1).join(bt)+br:br;};be.LastIndexOf=function(br,bs,bt){return br.lastIndexOf(bs,bt);};be.IsNullOrWhiteSpace=function(br){return br==null||(new a.RegExp("^\\s*$")).test(br);};be.IsNullOrEmpty=function(br){return br==null||br=="";};be.Insert=function(br,bs,bt){return br.substring(0,bs-1)+bt+br.substring(bs);};be.IndexOf=function(br,bs,bt){return br.indexOf(bs,bt);};be.EndsWith=function(br,bs){return br.substring(br.length-bs.length)==bs;};be.collect=function(br,bs){return F.init(bs.length,function(bt){return br(bs[bt]);}).join("");};be.concat=function(br,bs){return F.ofSeq(bs).join(br);};be.exists=function(br,bs){return G.exists(br,be.protect(bs));};be.forall=function(br,bs){return G.forall(br,be.protect(bs));};be.init=function(br,bs){return F.init(br,bs).join("");};be.iter=function(br,bs){G.iter(br,be.protect(bs));};be.iteri=function(br,bs){G.iteri(br,be.protect(bs));};be.length=function(br){return be.protect(br).length;};be.map=function(br,bs){return be.collect(br,be.protect(bs));};be.mapi=function(br,bs){return F.ofSeq(G.mapi(br,bs)).join("");};be.replicate=function(br,bs){return be.init(br,function(){return bs;});};be.protect=function(br){return br===null?"":br;};be.SFormat=function(br,bs){return br.replace(new a.RegExp("{(0|[1-9]\\d*)(?:,(-?[1-9]\\d*|0))?(?::(.*?))?}","g"),function(bt,bu,bv){var bw,bx,by;bw=bn(F.get(bs,+bu));return!bi.Equals(bv,void 0)?(bx=+bv,(by=bq.abs(bx),by>bw.length?bx>0?be.PadLeft(bw,by):be.PadRight(bw,by):bw)):bw;});};be.Filter=function(br,bs){return F.ofSeq(G.choose(function(bt){return br(bt)?{$:1,$0:bt}:null;},bs)).join("");};be.SplitStrings=function(br,bs,bt){return be.Split(br,new a.RegExp(be.concat("|",F.map(be.RegexEscape,bs))),bt);};be.SplitChars=function(br,bs,bt){return be.Split(br,new a.RegExp("["+be.RegexEscape(bs.join(""))+"]"),bt);};be.Split=function(br,bs,bt){return bt===1?F.filter(function(bu){return bu!=="";},be.SplitWith(br,bs)):be.SplitWith(br,bs);};be.TrimEnd=function(br,bs){var bt,bu;if(bi.Equals(bs,null)||bs.length==0)return be.TrimEndWS(br);else{bt=br.length-1;bu=true;while(bt>=0&&bu)(function(){var bv;bv=br[bt];return F.exists(function(bw){return bv===bw;},bs)?void(bt=bt-1):void(bu=false);}());return be.Substring(br,0,bt+1);}};be.TrimStart=function(br,bs){var bt,bu;if(bi.Equals(bs,null)||bs.length==0)return be.TrimStartWS(br);else{bt=0;bu=true;while(bt<br.length&&bu)(function(){var bv;bv=br[bt];return F.exists(function(bw){return bv===bw;},bs)?void(bt=bt+1):void(bu=false);}());return br.substring(bt);}};be.ToCharArrayRange=function(br,bs,bt){return F.init(bt,function(bu){return br[bs+bu];});};be.ToCharArray=function(br){return F.init(br.length,function(bs){return br[bs];});};be.ReplaceChar=function(br,bs,bt){return be.Replace(br,bs,bt);};be.Replace=function(br,bs,bt){function bu(bv){var bw,bx,by;bw=bv.indexOf(bs);return bw!==-1?(bx=be.ReplaceOnce(bv,bs,bt),(by=bw+bt.length,be.Substring(bx,0,bw+bt.length)+bu(bx.substring(by)))):bv;}return bu(br);};be.PadRight=function(br,bs){return be.PadRightWith(br,bs," ");};be.PadLeft=function(br,bs){return be.PadLeftWith(br,bs," ");};be.CopyTo=function(br,bs,bt,bu,bv){F.blit(be.ToCharArray(br),bs,bt,bu,bv);};be.Compare=function(br,bs){return bi.Compare(br,bs);};bf=b.Task=bl.Class({Execute:function(){this.action();},Start:function(){var br;br=this;bi.Equals(this.status,0)?(this.status=2,w.scheduler().Fork(function(){var bs;br.status=3;try{br.Execute();br.status=5;}catch(bt){bt instanceof V&&(bi.Equals(bt.ct,br.token)&&(bs=bt,true))?(bp.log("Task cancellation caught:",bs),br.exc=new Z.New$3([bs]),br.status=6):(bp.log("Task error caught:",bt),br.exc=new Z.New$3([bt]),br.status=7);}br.RunContinuations();})):t.InvalidOp("Task not in initial state");},StartContinuation:function(){var br;br=this;bi.Equals(this.status,1)?(this.status=2,w.scheduler().Fork(function(){if(bi.Equals(br.status,2)){br.status=3;try{br.Execute();br.status=5;}catch(bs){br.exc=new Z.New$3([bs]);br.status=7;}br.RunContinuations();}})):void 0;},ContinueWith:function(br,bs){var bt,bu;bt=this;bu=new bg.New(function(){return br(bt);},bs,1,null,void 0);this.get_IsCompleted()?bu.StartContinuation():this.continuations.push(bu);return bu;},ContinueWith$1:function(br,bs){var bt,bu;bt=this;bu=new bf.New$2(function(){return br(bt);},bs,1,null);this.get_IsCompleted()?bu.StartContinuation():this.continuations.push(bu);return bu;},ContinueWith$2:function(br){return this.ContinueWith$1(br,w.noneCT());},RunContinuations:function(){var br,bs,bt;br=this.continuations;for(bs=0,bt=br.length-1;bs<=bt;bs++)F.get(br,bs).StartContinuation();},OnCompleted:function(br){if(this.get_IsCompleted())br();else{bi.Equals(this.get_Status(),0)?this.Start():void 0;this.ContinueWith$2(function(){return br();});}},get_Status:function(){return this.status;},get_IsFaulted:function(){return bi.Equals(this.status,7);},get_IsCompleted:function(){return bi.Equals(this.status,5)||bi.Equals(this.status,7)||bi.Equals(this.status,6);},get_IsCanceled:function(){return bi.Equals(this.status,6);},get_Exception:function(){return this.exc;}},e,bf);bf.WhenAll=function(br){var bs,bt,bu,bv,bw,bx;bs=F.length(br);bt=[0];bu=new a.Array(bs);bv=new bh.New();for(bw=0,bx=bs-1;bw<=bx;bw++)(function(by){F.get(br,bw).ContinueWith$2(function(bz){return bz.get_IsFaulted()?void bv.TrySetException$1(bz.get_Exception()):bz.get_IsCanceled()?void bv.TrySetCanceled$1():(bt[0]++,bu[by]=bz.get_Result(),bt[0]===bs?bv.SetResult(bu):null);});}(bw));return bv.get_Task();};bf.WhenAll$1=function(br){var bs,bt,bu,bv,bw;bs=F.length(br);bt=[0];bu=new bh.New();for(bv=0,bw=bs-1;bv<=bw;bv++)F.get(br,bv).ContinueWith$2(function(bx){return bx.get_IsFaulted()?void bu.TrySetException$1(bx.get_Exception()):bx.get_IsCanceled()?void bu.TrySetCanceled$1():(bt[0]++,bt[0]===bs?void bu.TrySetResult():null);});return bu.get_Task();};bf.WhenAny=function(br){var bs,bt,bu;bs=new bh.New();for(bt=0,bu=br.length-1;bt<=bu;bt++)F.get(br,bt).ContinueWith(function(bv){bs.TrySetResult(bv);},w.noneCT());return bs.get_Task();};bf.WhenAny$1=function(br){var bs,bt,bu;bs=new bh.New();for(bt=0,bu=br.length-1;bt<=bu;bt++)F.get(br,bt).ContinueWith$2(function(bv){bs.TrySetResult(bv);});return bs.get_Task();};bf.Delay=function(br,bs){return w.StartAsTask(w.Sleep(br),{$:1,$0:bs});};bf.Delay$1=function(br){return w.StartAsTask(w.Sleep(br),null);};bf.Run=function(br,bs){var bt;bt=br();return bs.c?bf.FromCanceled(bs):(bi.Equals(bt.get_Status(),0)?bt.Start():void 0,bt);};bf.Run$1=function(br,bs){var bt;bt=new bg.New(br,bs,0,null,void 0);bt.Start();return bt;};bf.Run$2=function(br,bs){var bt;bt=br();return bs.c?bf.FromCanceled$1(bs):(bi.Equals(bt.get_Status(),0)?bt.Start():void 0,bt);};bf.Run$3=function(br,bs){var bt;bt=new bf.New$2(br,bs,0,null);bt.Start();return bt;};bf.FromResult=function(br){return new bg.New(null,w.noneCT(),5,null,br);};bf.FromException=function(br){return new bg.New(null,w.noneCT(),7,new Z.New$3([br]),null);};bf.FromException$1=function(br){return new bf.New$2(null,w.noneCT(),7,new Z.New$3([br]));};bf.FromCanceled=function(br){return new bg.New(null,br,6,null,null);};bf.FromCanceled$1=function(br){return new bf.New$2(null,br,6,null);};bf.New=bl.Ctor(function(br,bs){bf.New$2.call(this,br,bs,0,null);},bf);bf.New$1=bl.Ctor(function(br){bf.New$2.call(this,br,w.noneCT(),0,null);},bf);bf.New$2=bl.Ctor(function(br,bs,bt,bu){this.action=br;this.token=bs;this.status=bt;this.continuations=[];this.exc=bu;},bf);bg=b.Task1=bl.Class({get_Result:function(){return this.result;},Execute:function(){this.result=this.func();}},bf,bg);bg.New=bl.Ctor(function(br,bs,bt,bu,bv){bf.New$2.call(this,null,bs,bt,bu);this.func=br;this.result=bv;},bg);bh=b.TaskCompletionSource=bl.Class({TrySetResult:function(br){return!this.task.get_IsCompleted()&&(this.task.status=5,this.task.result=br,this.task.RunContinuations(),true);},TrySetException:function(br){return this.TrySetException$1(new Z.New$2(br));},TrySetException$1:function(br){return!this.task.get_IsCompleted()&&(this.task.status=7,this.task.exc=new Z.New$3([br]),this.task.RunContinuations(),true);},TrySetCanceled:function(br){return!this.task.get_IsCompleted()&&(this.task.status=6,this.task.RunContinuations(),true);},TrySetCanceled$1:function(){return!this.task.get_IsCompleted()&&(this.task.status=6,this.task.RunContinuations(),true);},SetResult:function(br){this.task.get_IsCompleted()?t.FailWith("Task already completed."):void 0;this.task.status=5;this.task.result=br;this.task.RunContinuations();},SetException:function(br){this.SetException$1(new Z.New$2(br));},SetException$1:function(br){this.task.get_IsCompleted()?t.FailWith("Task already completed."):void 0;this.task.status=7;this.task.exc=new Z.New$3([br]);this.task.RunContinuations();},SetCanceled:function(){this.task.get_IsCompleted()?t.FailWith("Task already completed."):void 0;this.task.status=6;this.task.RunContinuations();},get_Task:function(){return this.task;}},e,bh);bh.New=bl.Ctor(function(){this.task=new bg.New(null,w.noneCT(),1,null,void 0);},bh);bi.Hash=function(br){var bs;bs=typeof br;return bs=="function"?0:bs=="boolean"?br?1:0:bs=="number"?br:bs=="string"?bi.hashString(br):bs=="object"?br==null?0:br instanceof a.Array?bi.hashArray(br):bi.hashObject(br):0;};bi.hashObject=function(br){var bs,bt;if("GetHashCode"in br)return br.GetHashCode();else{bs=[0];for(var bu in br)if(function(bv){bs[0]=bi.hashMix(bi.hashMix(bs[0],bi.hashString(bv)),bi.Hash(br[bv]));return false;}(bu))break;return bs[0];}};bi.hashString=function(br){var bs,bt,bu;if(br===null)return 0;else{bs=5381;for(bt=0,bu=br.length-1;bt<=bu;bt++)bs=bi.hashMix(bs,br[bt].charCodeAt());return bs;}};bi.hashArray=function(br){var bs,bt,bu;bs=-34948909;for(bt=0,bu=F.length(br)-1;bt<=bu;bt++)bs=bi.hashMix(bs,bi.Hash(F.get(br,bt)));return bs;};bi.hashMix=function(br,bs){return(br<<5)+br+bs;};bi.Equals=function(br,bs){var bt,bu,bv,bw;if(br===bs)return true;else{bt=typeof br;if(bt=="object"){if(br===null||br===void 0||bs===null||bs===void 0)return false;else if("Equals"in br)return br.Equals(bs);else if(br instanceof a.Array&&bs instanceof a.Array)return bi.arrayEquals(br,bs);else if(br instanceof bo&&bs instanceof bo)return bi.dateEquals(br,bs);else{bu=[true];for(var bx in br)if(function(by){bu[0]=!br.hasOwnProperty(by)||bs.hasOwnProperty(by)&&bi.Equals(br[by],bs[by]);return!bu[0];}(bx))break;if(bu[0]){for(var by in bs)if(function(bz){bu[0]=!bs.hasOwnProperty(bz)||br.hasOwnProperty(bz);return!bu[0];}(by))break;}return bu[0];}}else return bt=="function"&&("$Func"in br?br.$Func===bs.$Func&&br.$Target===bs.$Target:"$Invokes"in br&&"$Invokes"in bs&&bi.arrayEquals(br.$Invokes,bs.$Invokes));}};bi.dateEquals=function(br,bs){return br.getTime()===bs.getTime();};bi.arrayEquals=function(br,bs){var bt,bu;if(F.length(br)===F.length(bs)){bt=true;bu=0;while(bt&&bu<F.length(br)){!bi.Equals(F.get(br,bu),F.get(bs,bu))?bt=false:void 0;bu=bu+1;}return bt;}else return false;};bi.Compare=function(br,bs){var bt,bu,bv,bw,bx,by;if(br===bs)return 0;else{bu=typeof br;switch(bu=="function"?1:bu=="boolean"?2:bu=="number"?2:bu=="string"?2:bu=="object"?3:0){case 0:return typeof bs=="undefined"?0:-1;break;case 1:return t.FailWith("Cannot compare function values.");break;case 2:return br<bs?-1:1;break;case 3:if(br===null)bv=-1;else if(bs===null)bv=1;else if("CompareTo"in br)bv=br.CompareTo(bs);else if("CompareTo0"in br)bv=br.CompareTo0(bs);else if(br instanceof a.Array&&bs instanceof a.Array)bv=bi.compareArrays(br,bs);else if(br instanceof bo&&bs instanceof bo)bv=bi.compareDates(br,bs);else{bw=[0];for(var bz in br)if(function(bA){return!br.hasOwnProperty(bA)?false:!bs.hasOwnProperty(bA)?(bw[0]=1,true):(bw[0]=bi.Compare(br[bA],bs[bA]),bw[0]!==0);}(bz))break;if(bw[0]===0){for(var bA in bs)if(function(bB){return!bs.hasOwnProperty(bB)?false:!br.hasOwnProperty(bB)&&(bw[0]=-1,true);}(bA))break;}bv=bw[0];}return bv;break;}}};bi.compareDates=function(br,bs){return bi.Compare(br.getTime(),bs.getTime());};bi.compareArrays=function(br,bs){var bt,bu;if(F.length(br)<F.length(bs))return -1;else if(F.length(br)>F.length(bs))return 1;else{bt=0;bu=0;while(bt===0&&bu<F.length(br)){bt=bi.Compare(F.get(br,bu),F.get(bs,bu));bu=bu+1;}return bt;}};bj.TryParse=function(br,bs,bt,bu){var bv,bw;bv=+br;bw=bv===bv-bv%1&&bv>=bs&&bv<=bt;bw?bu.set(bv):void 0;return bw;};bj.Parse=function(br,bs,bt,bu){var bv;bv=+br;if(bv!==bv-bv%1)throw new _1.New$1("Input string was not in a correct format.");else if(bv<bs||bv>bt)throw new _2.New$1(bu);else return bv;};bj.ParseByte=function(br){return bj.Parse(br,0,255,"Value was either too large or too small for an unsigned byte.");};bj.TryParseByte=function(br,bs){return bj.TryParse(br,0,255,bs);};bj.ParseSByte=function(br){return bj.Parse(br,-128,127,"Value was either too large or too small for a signed byte.");};bj.TryParseSByte=function(br,bs){return bj.TryParse(br,-128,127,bs);};bj.ParseInt16=function(br){return bj.Parse(br,-32768,32767,"Value was either too large or too small for an Int16.");};bj.TryParseInt16=function(br,bs){return bj.TryParse(br,-32768,32767,bs);};bj.ParseInt32=function(br){return bj.Parse(br,-2147483648,2147483647,"Value was either too large or too small for an Int32.");};bj.TryParseInt32=function(br,bs){return bj.TryParse(br,-2147483648,2147483647,bs);};bj.ParseUInt16=function(br){return bj.Parse(br,0,65535,"Value was either too large or too small for an UInt16.");};bj.TryParseUInt16=function(br,bs){return bj.TryParse(br,0,65535,bs);};bj.ParseUInt32=function(br){return bj.Parse(br,0,4294967295,"Value was either too large or too small for an UInt32.");};bj.TryParseUInt32=function(br,bs){return bj.TryParse(br,0,4294967295,bs);};bj.ParseInt64=function(br){return bj.Parse(br,-9223372036854775808,9223372036854775807,"Value was either too large or too small for an Int64.");};bj.TryParseInt64=function(br,bs){return bj.TryParse(br,-9223372036854775808,9223372036854775807,bs);};bj.ParseUInt64=function(br){return bj.Parse(br,0,18446744073709551615,"Value was either too large or too small for an UInt64.");};bj.TryParseUInt64=function(br,bs){return bj.TryParse(br,0,18446744073709551615,bs);};}());
