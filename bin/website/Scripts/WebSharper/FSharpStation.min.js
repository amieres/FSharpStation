(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr;a=window;b=a.FSSGlobal=a.FSSGlobal||{};c=b.Useful=b.Useful||{};d=c.Option=c.Option||{};e=c.ExceptionThrown=c.ExceptionThrown||{};f=c.ErrOptionIsNone=c.ErrOptionIsNone||{};g=c.ErrSimple=c.ErrSimple||{};h=c.Result=c.Result||{};i=h.ropBuilder=h.ropBuilder||{};j=c.Wrap=c.Wrap||{};k=j.Builder=j.Builder||{};l=c.Async=c.Async||{};m=c.ResetableMemoize=c.ResetableMemoize||{};n=c.PreproDirective=c.PreproDirective||{};o=b.FsEvaluator=b.FsEvaluator||{};p=b.FsStationShared=b.FsStationShared||{};q=p.MessagingClient=p.MessagingClient||{};r=p.CodeSnippetId=p.CodeSnippetId||{};s=p.CodeSnippet=p.CodeSnippet||{};t=p.FSMessage=p.FSMessage||{};u=p.FSSeverity=p.FSSeverity||{};v=p.FsStationClientErr=p.FsStationClientErr||{};w=p.FsStationClient=p.FsStationClient||{};x=b.FsTranslator=b.FsTranslator||{};y=b.FSAutoCompleteIntermediary=b.FSAutoCompleteIntermediary||{};z=y.CommTypes=y.CommTypes||{};A=z.ResponseError=z.ResponseError||{};B=z.Location=z.Location||{};C=z.CompletionResponse=z.CompletionResponse||{};D=z.OverloadDescription=z.OverloadDescription||{};E=z.OverloadParameter=z.OverloadParameter||{};F=z.Overload=z.Overload||{};G=z.Parameter=z.Parameter||{};H=z.SignatureData=z.SignatureData||{};I=z.MethodResponse=z.MethodResponse||{};J=z.SymbolUseRange=z.SymbolUseRange||{};K=z.SymbolUseResponse=z.SymbolUseResponse||{};L=z.HelpTextResponse=z.HelpTextResponse||{};M=z.CompilerLocationResponse=z.CompilerLocationResponse||{};N=z.FSharpErrorInfo=z.FSharpErrorInfo||{};O=z.ErrorResponse=z.ErrorResponse||{};P=z.Colorization=z.Colorization||{};Q=z.Declaration=z.Declaration||{};R=z.DeclarationResponse=z.DeclarationResponse||{};S=z.OpenNamespace=z.OpenNamespace||{};T=z.QualifySymbol=z.QualifySymbol||{};U=z.ResolveNamespaceResponse=z.ResolveNamespaceResponse||{};V=z.UnionCaseResponse=z.UnionCaseResponse||{};W=z.ACMessage=z.ACMessage||{};X=y.FSAutoCompleteIntermediaryClient=y.FSAutoCompleteIntermediaryClient||{};Y=b.HtmlNode=b.HtmlNode||{};Z=Y.Val=Y.Val||{};_0=Z.HelperType=Z.HelperType||{};_1=Y.HtmlNode=Y.HtmlNode||{};_2=b.Template=b.Template||{};_3=_2.Button=_2.Button||{};_4=_2.Input=_2.Input||{};_5=_2.Hoverable=_2.Hoverable||{};_6=_2.TextArea=_2.TextArea||{};_7=_2.CodeMirrorPos=_2.CodeMirrorPos||{};_8=_2.CodeMirrorEditor=_2.CodeMirrorEditor||{};_9=_2.CodeMirror=_2.CodeMirror||{};_=_2.Hint=_2.Hint||{};$=_2.HintResponse=_2.HintResponse||{};ba=_2.HintOptions=_2.HintOptions||{};bb=_2.LintResponse=_2.LintResponse||{};bc=_2.SplitterBar=_2.SplitterBar||{};bd=_2.SectionType=_2.SectionType||{};be=_2.Grid=_2.Grid||{};bf=_2.TabStrip=_2.TabStrip||{};bg=_2.MenuEntry=_2.MenuEntry||{};bh=_2.MenuNode=_2.MenuNode||{};bi=_2.Menu=_2.Menu||{};bj=_2.Action=_2.Action||{};bk=_2.GuiPart=_2.GuiPart||{};bl=_2.HtmlNodeFable=_2.HtmlNodeFable||{};bm=_2.LayoutDescriptionFable=_2.LayoutDescriptionFable||{};bn=_2.GuiPartSourceId=_2.GuiPartSourceId||{};bo=_2.Layout=_2.Layout||{};bp=b.RunCode=b.RunCode||{};bq=bp.RunNode=bp.RunNode||{};br=b.FSharpStation=b.FSharpStation||{};bs=br.FsGlobal=br.FsGlobal||{};bt=bs.Position=bs.Position||{};bu=bs.ErrCompiler=bs.ErrCompiler||{};bv=bs.KeyMapAutoComplete=bs.KeyMapAutoComplete||{};bw=bs.Property=bs.Property||{};bx=bs.PropValue=bs.PropValue||{};by=bs.CodeSnippet=bs.CodeSnippet||{};bz=br.FableModule=br.FableModule||{};bA=bz.Babel=bz.Babel||{};bB=bz.Fable=bz.Fable||{};bC=a.StartupCode$FSharpStation$FSharpStation=a.StartupCode$FSharpStation$FSharpStation||{};bD=a.FSharpStation_JsonDecoder=a.FSharpStation_JsonDecoder||{};bE=a.FSharpStation_JsonEncoder=a.FSharpStation_JsonEncoder||{};bF=a.FSharpStation_GeneratedPrintf=a.FSharpStation_GeneratedPrintf||{};bG=a.GeneratedPrintf=a.GeneratedPrintf||{};bH=a.IntelliFactory;bI=bH&&bH.Runtime;bJ=a.WebSharper;bK=bJ&&bJ.Utils;bL=bJ&&bJ.List;bM=bJ&&bJ.Strings;bN=bJ&&bJ.Seq;bO=bJ&&bJ.Concurrency;bP=a.console;bQ=bJ&&bJ.Collections;bR=bQ&&bQ.Dictionary;bS=bJ&&bJ.CancellationTokenSource;bT=bJ&&bJ.Arrays;bU=bJ&&bJ.Unchecked;bV=bJ&&bJ.Remoting;bW=bV&&bV.AjaxRemotingProvider;bX=a.JSON;bY=a.Date;bZ=b&&b.UsefulDotNet;b0=bZ&&bZ.Messaging;b1=bJ&&bJ.Guid;b2=bJ&&bJ.Option;b3=bJ&&bJ.UI;b4=b3&&b3.Next;b5=b4&&b4.View;b6=b4&&b4.Doc;b7=bJ&&bJ.Operators;b8=b4&&b4.AttrModule;b9=b4&&b4.AttrProxy;b_=b4&&b4.Var;b$=b4&&b4.Input;ca=b$&&b$.Mouse;cb=bQ&&bQ.FSharpSet;cc=bQ&&bQ.BalancedTree;cd=bQ&&bQ.Map;ce=bJ&&bJ.MatchFailureException;cf=bJ&&bJ.Slice;cg=bJ&&bJ.Json;ch=cg&&cg.Provider;ci=a.Object;cj=a.Fable;ck=a.Babel;cl=bQ&&bQ.HashSet;cm=bJ&&bJ.JavaScript;cn=cm&&cm.JSModule;co=a.jQuery;cp=bQ&&bQ.FSharpMap;cq=b4&&b4.ListModel;cr=bJ&&bJ.Lazy;d.modify=function(cs){var ct;function cu(cv){return cv==null?null:{$:1,$0:cs(cv.$0)};}ct=function(cv){return d.defaultValue(a.id,cv);};return function(cv){return ct(cu(cv));};};d.apply=function(cs,ct){var cu;return cs!=null&&cs.$==1&&(ct!=null&&ct.$==1&&(cu=[ct.$0,cs.$0],true))?{$:1,$0:cu[0](cu[1])}:null;};d.iterFO=function(cs,ct){if(cs!=null&&cs.$==1)if(ct!=null&&ct.$==1)ct.$0(cs.$0);};d.iterF=function(cs,ct){if(ct!=null&&ct.$==1)ct.$0(cs);};d.call=function(cs,ct){return ct!=null&&ct.$==1?{$:1,$0:ct.$0(cs)}:null;};d.defaultWith=function(cs,ct){return ct==null?cs():ct.$0;};d.defaultValue=function(cs,ct){return ct==null?cs:ct.$0;};e=c.ExceptionThrown=bI.Class({toString:function(){return this.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return false;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return(function(cs){return function(ct){return cs(bK.prettyPrint(ct));};}(a.id))(this.exn);}},bJ.Obj,e);e.New=bI.Ctor(function(cs){this.exn=cs;},e);f=c.ErrOptionIsNone=bI.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return false;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return"Option is None";}},bJ.Obj,f);f.New=bI.Ctor(function(){},f);g=c.ErrSimple=bI.Class({toString:function(){return this.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return this.warning;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return this.msg;}},bJ.Obj,g);g.New=bI.Ctor(function(cs,ct){this.msg=cs;this.warning=ct;},g);i=h.ropBuilder=bI.Class({Combine:function(cs,ct){return(h.combine(cs))(ct);},Delay:function(cs){return cs();},Zero:function(){return h.succeed();},Using:function(cs,ct){try{return ct(cs);}finally{cs.Dispose();}},Bind:function(cs,ct){return h.bind(function(cu){return h.tryCall(ct,cu);},cs);},ReturnFrom:a.id,Return:function(cs){return h.succeed(cs);}},bJ.Obj,i);i.New=bI.Ctor(function(){},i);h.countMessages=function(cs){var ct,cu,cv,cw,cx,cy,cz;if(cs.$===0)return"";else{cw=bL.filter(function(cA){return!cA.FSSGlobal_Useful_ErrMsg$get_IsWarning();},cs);cx=bL.filter(function(cA){return cA.FSSGlobal_Useful_ErrMsg$get_IsWarning();},cs);cy=cw.get_Length();cz=cx.get_Length();switch(cy===0?cz===0?0:cz===1?2:5:cy===1?cz===0?1:cz===1?3:(ct=[cy,cz],6):cz===0?4:(ct=[cy,cz],6)){case 0:cv=function(cA){return function(cB){return cA(bK.toSafe(cB));};}(a.id);break;case 1:cv=function(cA){return function(cB){return cA(bK.toSafe(cB));};}(a.id);break;case 2:cv=function(cA){return function(cB){return cA(bK.toSafe(cB));};}(a.id);break;case 3:cv=function(cA){return function(cB){return cA("1 error, 1 warning\n"+bK.toSafe(cB));};}(a.id);break;case 4:cv=((bI.Curried3(function(cA,cB,cC){return cA(a.String(cB)+" errors\n"+bK.toSafe(cC));}))(a.id))(cy);break;case 5:cv=((bI.Curried3(function(cA,cB,cC){return cA(a.String(cB)+" warnings\n"+bK.toSafe(cC));}))(a.id))(cz);break;case 6:cv=(((bI.Curried(function(cA,cB,cC,cD){return cA(a.String(cB)+" errors, "+a.String(cC)+" warnings\n"+bK.toSafe(cD));},4))(a.id))(ct[0]))(ct[1]);break;}return cv(h.getMessages(cs));}};h.getMessages=function(cs){return bM.concat("\n",bL.map(function(ct){return ct.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},cs));};h.seqCheck=function(cs){return bN.exists(function(ct){return h.Success(ct).$==1&&true;},cs)?h.failWithMsgs(bN.pick(function(ct){var cu;cu=h.Success(ct);return cu.$==1?{$:1,$0:cu.$0}:null;},cs)):h.succeed(bN.map(function(ct){return ct.$0.$0;},cs));};h.withError=function(cs,ct){var cu;cu=ct.$1;return d.defaultWith(function(){return cs(cu);},ct.$0);};h.ifError=function(cs,ct){return d.defaultValue(cs,ct.$0);};h.failIfTrue=function(cs,ct){return ct?h.fail(cs):h.succeed();};h.failIfFalse=function(cs,ct){return ct?h.succeed():h.fail(cs);};h.tryProtection=function(){return h.succeed();};h.toOption=function(cs){return cs.$0;};h.fromOption=function(cs,ct){return ct!=null&&ct.$==1?h.succeed(ct.$0):h.fail(cs);};h.fromChoice=function(cs,ct){return ct.$==1?h.fail(ct.$0):h.succeed(ct.$0);};h.result=function(){bC.$cctor();return bC.result;};h.tryCall=function(cs,ct){try{return cs(ct);}catch(cu){return h.fail(h.failException(cu));}};h.failException=function(cs){return new e.New(cs);};h.x=function(cs){return h.Success(cs).$==1?"No":"yes";};h.Success=function(cs){return cs.$0==null?{$:1,$0:cs.$1}:{$:0,$0:[cs.$0.$0,cs.$1]};};h.apply=function(cs,ct){var cu,cv,cw,cx,cy;cu=cs.$1;cv=ct.$1;cw=cs.$0;cx=ct.$0;return cw!=null&&cw.$==1&&(cx!=null&&cx.$==1&&(cy=[cw.$0,cx.$0],true))?{$:0,$0:{$:1,$0:cy[0](cy[1])},$1:bL.append(cu,cv)}:{$:0,$0:null,$1:bL.append(cu,cv)};};h.bind=function(cs,ct){var cu,cv,cw;cu=ct.$0;cv=ct.$1;return cu==null?{$:0,$0:null,$1:cv}:(cw=cs(cu.$0),{$:0,$0:cw.$0,$1:bL.append(cv,cw.$1)});};h.combine=function(cs){var ct;ct=cs.$1;return function(cu){return h.mergeMsgs(ct,cu);};};h.mergeMsgs=function(cs,ct){var cu;cu=h.mapMsgs(function(cv){return bL.append(cs,cv);},ct);return{$:0,$0:cu[0],$1:cu[1]};};h.getMsgs=function(cs){return cs.$1;};h.getOption=function(cs){return cs.$0;};h.mapMsgs=function(cs,ct){return[ct.$0,cs(ct.$1)];};h.mapMsg=function(cs,ct){return[ct.$0,bL.map(cs,ct.$1)];};h.map=function(cs,ct){var cu;return{$:0,$0:(cu=ct.$0,cu==null?null:{$:1,$0:cs(cu.$0)}),$1:ct.$1};};h.failWithMsgs=function(cs){return{$:0,$0:null,$1:cs};};h.fail=function(cs){return{$:0,$0:null,$1:bL.ofArray([cs])};};h.succeedWithMsgs=function(cs,ct){return{$:0,$0:{$:1,$0:cs},$1:ct};};h.succeedWithMsg=function(cs,ct){return{$:0,$0:{$:1,$0:cs},$1:bL.ofArray([ct])};};h.succeed=function(cs){return{$:0,$0:{$:1,$0:cs},$1:bL.T.Empty};};j.StartAsTask=function(cs,ct,cu){return bO.StartAsTask(j.getAsyncR(cs),cu);};j.Start=function(cs,ct){bO.Start(j.getAsync(cs),ct);};k=j.Builder=bI.Class({Using:function(cs,ct){return{$:2,$0:bO.Using(cs,function(cu){return j.wrapper2Async(ct,cu);})};},Combine:function(cs,ct){return j.combine(j.errOptionIsNone(),cs,ct);},Delay:function(cs){return cs();},ReturnFrom:a.id,Return:function(cs){return{$:3,$0:cs};},Zero:function(){return{$:3,$0:null};},Bind:function(cs,ct){return j.bind(ct,{$:4,$0:cs});},Bind$1:function(cs,ct){return j.bind(ct,{$:0,$0:cs});},Bind$2:function(cs,ct){return j.bind(ct,{$:1,$0:cs});},Bind$3:function(cs,ct){return j.bind(ct,cs);}},bJ.Obj,k);k.New=bI.Ctor(function(){},k);j.runSynchronouslyS=function(cs,ct){var cu;cu=j.runSynchronouslyO(cs,ct);return cu[0]==null?(function(cv){return function(cw){return cv("Failed!\n"+bK.toSafe(cw));};}(a.id))(cu[1]):(((bI.Curried3(function(cv,cw,cx){return cv(a.String(cw)+"\n"+bK.toSafe(cx));}))(a.id))(cu[0].$0))(cu[1]);};j.runSynchronouslyO=function(cs,ct){return h.mapMsgs(cs?h.countMessages:h.getMessages,bP.log("runSynchronously should not be used in Javascript"));};j.start=function(cs,ct){j.startV(function(cu){if(cu[0]==null)cs("Failed!\n"+cu[1]);else cs(cu[1]);},ct);};j.startV=function(cs,ct){var cu,cv,cw,cx;function cy(cB){return h.mapMsgs(h.getMessages,cB);}function cz(cB){return[null,cB];}function cA(cB){return[null,cB];}bO.StartWithContinuations(j.getAsyncR(ct),function(cB){return cs(cy(cB));},(cu=(cv=function(cB){return function(cC){return cB(bK.prettyPrint(cC));};}(a.id),function(cB){return cz(cv(cB));}),function(cB){return cs(cu(cB));}),(cw=(cx=function(cB){return function(cC){return cB(bK.prettyPrint(cC));};}(a.id),function(cB){return cA(cx(cB));}),function(cB){return cs(cw(cB));}),null);};j.getAsync=function(cs){var ct,cu,cv,cw,cx,cy;return cs.$==3?bO.Return(cs.$0):cs.$==4?(ct=cs.$0,(cu=null,bO.Delay(function(){var cz,cA;if(ct==null)throw a.Error(h.getMessages(bL.ofArray([j.errOptionIsNone()])));else cA=ct.$0;return bO.Return(cA);}))):cs.$==0?(cv=cs.$0,(cw=null,bO.Delay(function(){var cz,cA,cB;cB=h.Success(cv);if(cB.$==1)throw a.Error(h.getMessages(cB.$0));else cA=cB.$0[0];return bO.Return(cA);}))):cs.$==2?(cx=cs.$0,(cy=null,bO.Delay(function(){return bO.Bind(cx,function(cz){var cA,cB,cC;cC=h.Success(cz);if(cC.$==1)throw a.Error(h.getMessages(cC.$0));else cB=cC.$0[0];return bO.Return(cB);});}))):cs.$0;};j.getAsyncWithDefault=function(cs,ct){var cu;cu=null;return bO.Delay(function(){return bO.Bind(j.getAsyncR(ct),function(cv){return bO.Return(h.withError(cs,cv));});});};j.getAsyncR=function(cs){var ct,cu;return cs.$==3?bO.Return(h.succeed(cs.$0)):cs.$==4?bO.Return(h.fromOption(j.errOptionIsNone(),cs.$0)):cs.$==0?bO.Return(cs.$0):cs.$==2?cs.$0:(ct=cs.$0,(cu=null,bO.Delay(function(){return bO.Bind(ct,function(cv){return bO.Return(h.succeed(cv));});})));};j.getResult=function(cs,ct){if(ct.$==4){if(ct.$0==null)cs(h.fail(j.errOptionIsNone()));else cs(h.succeed(ct.$0.$0));}else if(ct.$==0)cs(ct.$0);else if(ct.$==1)bO.StartWithContinuations(ct.$0,function(cu){cs(h.succeed(cu));},function(cu){cs(h.fail(h.failException(cu)));},function(cu){cs(h.fail(h.failException(cu)));},null);else if(ct.$==2)bO.StartWithContinuations(ct.$0,cs,function(cu){cs(h.fail(h.failException(cu)));},function(cu){cs(h.fail(h.failException(cu)));},null);else cs(h.succeed(ct.$0));};j.wrapper=function(){bC.$cctor();return bC.wrapper;};j.combine=function(cs,ct,cu){return ct.$==4?ct.$0==null?j.addMsgs(cs,bL.ofArray([cs]),cu):cu:ct.$==0?ct.$0.$1.$==0?cu:j.addMsgs(cs,ct.$0.$1,cu):ct.$==1?cu:ct.$==2?cu:cu;};j.addMsgs=function(cs,ct,cu){var cv,cw,cx;if(ct.$===0)return cu;else switch(cu.$==4?cu.$0==null?1:(cv=cu.$0.$0,0):cu.$==0?(cv=cu.$0,2):cu.$==1?(cv=cu.$0,3):cu.$==2?(cv=cu.$0,4):(cv=cu.$0,0)){case 0:return{$:0,$0:h.succeedWithMsgs(cv,ct)};break;case 1:return{$:0,$0:h.mergeMsgs(ct,h.fail(cs))};break;case 2:return{$:0,$0:h.mergeMsgs(ct,cv)};break;case 3:return{$:2,$0:(cw=null,bO.Delay(function(){return bO.Bind(cv,function(cy){return bO.Return(h.succeedWithMsgs(cy,ct));});}))};break;case 4:return{$:2,$0:(cx=null,bO.Delay(function(){return bO.Bind(cv,function(cy){return bO.Return(h.mergeMsgs(ct,cy));});}))};break;}};j.wrapper2Async=function(cs,ct){var cu,cv,cw,cx;cv=j.tryCall(cs,ct);switch(cv.$==4?0:cv.$==0?1:cv.$==1?2:cv.$==2?3:0){case 0:return j.wb2arb(bL.T.Empty,cv);break;case 1:return j.wb2arb(cv.$0.$1,cv);break;case 2:cw=cv.$0;cx=null;return bO.Delay(function(){return bO.Bind(cw,function(cy){return bO.Return(h.succeed(cy));});});break;case 3:return cv.$0;break;}};j.map=function(cs){var ct;ct=function(cu){return j.Return(cs(cu));};return function(cu){return j.bind(ct,cu);};};j.Return=function(cs){return{$:3,$0:cs};};j.bind=function(cs,ct){var cu,cv,cw,cx,cy;switch(ct.$==4?ct.$0==null?1:(cu=ct.$0.$0,0):ct.$==0?(cv=h.Success(ct.$0),cv.$==1?(cu=cv.$0,2):cv.$0[1].$==0?(cu=cv.$0[0],0):(cu=[cv.$0[0],cv.$0[1]],3)):ct.$==1?(cu=ct.$0,4):ct.$==2?(cu=ct.$0,5):(cu=ct.$0,0)){case 0:return j.tryCall(cs,cu);break;case 1:return{$:4,$0:null};break;case 2:return{$:0,$0:h.failWithMsgs(cu)};break;case 3:cw=cu[1];return function(cz){var cA,cB,cC,cD;switch(cz.$==4?cz.$0==null?1:(cA=cz.$0.$0,0):cz.$==0?(cB=h.Success(cz.$0),cB.$==1?(cA=cB.$0,4):cB.$0[1].$==0?(cA=cB.$0[0],2):(cA=[cB.$0[0],cB.$0[1]],3)):cz.$==1?(cA=cz.$0,5):cz.$==2?(cA=cz.$0,6):(cA=cz.$0,0)){case 0:return{$:0,$0:h.succeedWithMsgs(cA,cw)};break;case 1:return{$:0,$0:h.failWithMsgs(new bL.T({$:1,$0:j.errOptionIsNone(),$1:cw}))};break;case 2:return{$:0,$0:h.succeedWithMsgs(cA,cw)};break;case 3:return{$:0,$0:h.succeedWithMsgs(cA[0],bL.append(cw,cA[1]))};break;case 4:return{$:0,$0:h.failWithMsgs(bL.append(cw,cA))};break;case 5:return{$:2,$0:(cC=null,bO.Delay(function(){return bO.Bind(cA,function(cE){return bO.Return(h.succeedWithMsgs(cE,cw));});}))};break;case 6:return{$:2,$0:(cD=null,bO.Delay(function(){return bO.Bind(cA,function(cE){return bO.Return(h.mergeMsgs(cw,cE));});}))};break;}}(j.tryCall(cs,cu[0]));break;case 4:return{$:2,$0:(cx=null,bO.Delay(function(){return bO.Bind(cu,function(cz){return j.wb2arb(bL.T.Empty,j.tryCall(cs,cz));});}))};break;case 5:return{$:2,$0:(cy=null,bO.Delay(function(){return bO.Bind(cu,function(cz){var cA,cB,cC;cA=h.Success(cz);return cA.$==1?(cB=cA.$0,cC=null,bO.Delay(function(){return bO.Return(h.failWithMsgs(cB));})):j.wb2arb(cA.$0[1],j.tryCall(cs,cA.$0[0]));});}))};break;}};j.tryCall=function(cs,ct){try{return cs(ct);}catch(cu){return{$:0,$0:h.fail(h.failException(cu))};}};j.wb2arb=function(cs,ct){var cu,cv,cw,cx,cy,cz;switch(ct.$==2?(cu=ct.$0,1):ct.$==0?(cu=ct.$0,2):ct.$==3?(cu=ct.$0,3):ct.$==4?ct.$0==null?4:(cu=ct.$0.$0,3):(cu=ct.$0,0)){case 0:cv=null;return bO.Delay(function(){return bO.Bind(cu,function(cA){return bO.Return(h.succeedWithMsgs(cA,cs));});});break;case 1:cw=null;return bO.Delay(function(){return bO.Bind(cu,function(cA){return bO.Return(h.mergeMsgs(cs,cA));});});break;case 2:cx=null;return bO.Delay(function(){return bO.Return(h.mergeMsgs(cs,cu));});break;case 3:cy=null;return bO.Delay(function(){return bO.Return(h.succeedWithMsgs(cu,cs));});break;case 4:cz=null;return bO.Delay(function(){return bO.Return(h.failWithMsgs(new bL.T({$:1,$0:j.errOptionIsNone(),$1:cs})));});break;}};j.errOptionIsNone=function(){bC.$cctor();return bC.errOptionIsNone;};l.map=function(cs,ct){var cu;cu=null;return bO.Delay(function(){return bO.Bind(ct,function(cv){return bO.Return(cs(cv));});});};m=c.ResetableMemoize=bI.Class({ClearCache:function(){this.cache.Clear();}},bJ.Obj,m);m.New=bI.Ctor(function(cs){this.f=cs;this.cache=new bR.New$5();},m);n.NoPrepo={$:11};n.PrepoEndIf={$:8};n.PrepoElse={$:7};c.asyncStartCancelling=function(){var cs;cs=null;return function(ct){var cu;cs==null?void 0:cs.$0.Cancel$1();cu=new bS.New();bO.Start(ct,{$:1,$0:cu});cs={$:1,$0:cu};};};c.separateDirectives=function(cs){var ct,cu,cv,cw;function cx(cF){return cF[1];}function cy(cF){return cF.$==0?{$:1,$0:cF.$0}:null;}function cz(cF){return cF[1];}function cA(cF){return cF.$==1?{$:1,$0:cF.$0}:null;}function cB(cF){return cF[1];}function cC(cF){return cF.$==5?{$:1,$0:cF.$0}:null;}function cD(cF){return cF[1];}function cE(cF){return cF.$==4?{$:1,$0:cF.$0}:null;}ct=bT.ofSeq(bN.distinct(bN.choose(function(cF){return cy(cx(cF));},cs)));cu=bT.ofSeq(bN.distinct(bN.choose(function(cF){return cA(cz(cF));},cs)));cv=bT.ofSeq(bN.distinct(bN.choose(function(cF){return cC(cB(cF));},cs)));cw=bT.ofSeq(bN.distinct(bN.choose(function(cF){return cE(cD(cF));},cs)));return[bT.ofSeq(bN.map(function(cF){return cF[0];},cs)),ct,cu,cv,cw];};c.separatePrepros=function(cs,ct){var cu;function cv(cy){return d.defaultValue(cy,bN.tryLast(bM.SplitStrings(bM.Trim(cy),["\""],1)));}function cw(cy){return d.defaultValue("",bN.tryHead(bM.SplitStrings(bM.Trim(cy),["#define "],1)));}function cx(cy){return"//"+cy;}cu=cs?cx:a.id;return bT.map(function(cy){var cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL;cz=true;return cz&&(bM.StartsWith(cy,"#define")&&true)?[cx(cy),{$:1,$0:cw(cy)}]:cz&&(bM.StartsWith(cy,"#r")&&true)?[cx(cy),{$:0,$0:cv(cy)}]:cz&&(bM.StartsWith(cy,"#load")&&true)?[cx(cy),{$:2,$0:cv(cy)}]:cz&&(bM.StartsWith(cy,"#nowarn")&&true)?[cx(cy),{$:4,$0:cv(cy)}]:cz&&(bM.StartsWith(cy,"# ")&&true)?[cu(cy),{$:3,$0:cv(cy)}]:cz&&(bM.StartsWith(cy,"#line")&&true)?[cu(cy),{$:3,$0:cv(cy)}]:cz&&(bM.StartsWith(cy,"#I")&&true)?[cx(cy),{$:5,$0:cv(cy)}]:cz&&(bM.StartsWith(cy,"#if")&&true)?[cy,{$:6,$0:cy}]:cz&&(bM.StartsWith(cy,"#else")&&true)?[cy,n.PrepoElse]:cz&&(bM.StartsWith(cy,"#endif")&&true)?[cy,n.PrepoEndIf]:cz&&(bM.StartsWith(cy,"#light")&&true)?[cy,{$:9,$0:false}]:cz&&(bM.StartsWith(cy,"#")&&true)?[cx(cy),{$:10,$0:cy}]:[cy,n.NoPrepo];},ct);};c.swap=function(cs,ct,cu){return cs(cu,ct);};c.REGEX=function(cs,ct,cu){var cv;if(cu===null)return null;else try{cv=(new a.String(cu)).match(new a.RegExp(cs,ct));return bU.Equals(cv,null)?null:cv&&bT.length(cv)===0?null:{$:1,$0:cv};}catch(cw){return null;}};c.extract=function(cs,ct){var cu;return bM.Substring(ct,0,(cu=ct.length,bU.Compare(cs,cu)===-1?cs:cu));};o.evaluateAR=function(cs){var ct;ct=null;return bO.Delay(function(){return bO.Bind((new bW.New()).Async("FSharpStation:FSSGlobal.FsEvaluator.evaluateAS:-1404420254",[cs]),function(cu){function cv(cw,cx){return new g.New(cw,cx);}return bO.Return({$:0,$0:cu[0],$1:bL.ofSeq(bN.map(function(cw){return cv(cw[0],cw[1]);},cu[1]))});});});};q=p.MessagingClient=bI.Class({poStrings:function(cs){return cs.$==1?cs.$0:[(function(ct){return function(cu){return ct("unexpected response: "+bK.toSafe(cu));};}(a.id))(cs.$0)];},poString:function(cs){return cs.$==1?(function(ct){return function(cu){return ct(bK.printArray(bK.prettyPrint,cu));};}(a.id))(cs.$0):cs.$0;},poMsg:function(cs,ct){var cu,cv;cu=this;cv=null;return bO.Delay(function(){return bO.Bind(cu.sendMessage(p.AddressId("WebServer:PostOffice"),bX.stringify((bE.j$6())(ct))),function(cw){return bO.Return(cs((bD.j$6())(bX.parse(cw))));});});},sendMessage:function(cs,ct){return(((p.sendRequestF())(cs))(this.fromId))(ct);},awaitMessage:function(cs){var ct,cu;ct=this;(p.AsyncStartF())((cu=null,bO.Delay(function(){return bO.While(function(){return true;},bO.Delay(function(){(((bI.Curried3(function(cv,cw,cx){return cv(bK.toSafe(cw)+" awaitRequest "+bK.toSafe(cx));}))(function(cv){bP.log(cv);}))(function(cv){return cv.getFullYear()+"-"+(cv.getMonth()+1)+"-"+cv.getDate()+" "+cv.getHours()+":"+cv.getMinutes()+":"+cv.getSeconds()+":"+cv.getMilliseconds();}(new a.Date(bY.now()))))(ct.clientId);return bO.Bind(bO.StartChild((p.awaitRequestForF())(ct.fromId),{$:1,$0:ct.tout}),function(cv){return bO.TryWith(bO.Delay(function(){return bO.Bind(cv,function(cw){return bO.Bind(cs(ct.clientId,cw.content),function(cx){return bO.Bind(((p.replyToF())(cw.messageId.$0))(cx),function(){return bO.Return(null);});});});}),function(cw){return cw instanceof bJ.TimeoutException?bO.Zero():((function(cx){return function(cy){return cx(bK.prettyPrint(cy));};}(function(cx){bP.log(cx);}))(cw),bO.Zero());});});}));})));},get_ClientId:function(){return this.clientId;},get_EndPoint:function(){return this.wsEndPoint;},POListeners:function(){var cs;cs=this;return this.poMsg(function(ct){return cs.poStrings(ct);},b0.POMessage.POListeners);},POMessage:function(cs){return this.poMsg(a.id,cs);},SendMessage:function(cs,ct){return this.sendMessage(cs,ct);},AwaitMessage:function(cs){this.awaitMessage(cs);},AwaitMessage$1:function(cs){this.awaitMessage(function(ct,cu){var cv;cv=null;return bO.Delay(function(){return bO.Return(cs(ct,cu));});});}},bJ.Obj,q);q.get_EndPoint_=function(){return"http://localhost:9010/";};q.New=bI.Ctor(function(cs,ct,cu){this.clientId=cs;this.wsEndPoint=d.defaultValue("http://localhost:9010/",cu);this.tout=d.defaultValue(100000,ct);this.fromId=p.AddressId(this.clientId);bV.set_EndPoint(this.wsEndPoint);},q);r=p.CodeSnippetId=bI.Class({get_Text:function(){return a.String(this.$0);}},null,r);r.get_New=function(){return new r({$:0,$0:b1.NewGuid()});};s=p.CodeSnippet=bI.Class({SeparateCode:function(cs){var ct,cu,cv,cw,cx,cy;function cz(cA,cB){return[bM.replicate(cu," ")+cA,cB];}ct=!cs||this.properties.ContainsKey("NoLinePre");cu=this.levelCode*2;cv=cu===0?[a.id,""]:[function(cA){return bT.map(function(cB){return cz(cB[0],cB[1]);},cA);},(function(cA){return function(cB){return cA("("+a.String(cB)+")");};}(a.id))(cu)];cw=c.separateDirectives(cv[0](c.separatePrepros(!cs,(ct?a.id:(cx=[(((bI.Curried3(function(cA,cB,cC){return cA("# 1 @\""+bK.toSafe(cB)+bK.toSafe(cC)+"\"");}))(a.id))(cv[1]))(this.get_NameSanitized())],function(cA){return cx.concat(cA);}))(bM.SplitChars(this.content,["\n"],0)))));cy=cw[0];return[[[this.get_NameSanitized(),bT.length(cy),cu]],cy,cw[1],cw[2],cw[3],cw[4]];},UniquePredecessors:function(cs){return p.predsL(cs,bL.ofArray([this.id]));},get_NameSanitized:function(){return this.id.get_Text()+" "+p.sanitize(this.get_Name())+".fsx";},get_Name:function(){return p.snippetName(this.name,this.content);}},null,s);s.CodeFsx=function(cs,ct){return(s.CodeAndStarts(cs,ct))[0];};s.CodeAndStarts=function(cs,ct){var cu;cu=s.ReducedCode(cs,ct);return s.FinishCode(cs,cu[0],cu[1],cu[2],cu[3],cu[4],cu[5]);};s.FinishCode=function(cs,ct,cu,cv,cw,cx,cy){var cz,cA;cz=bM.concat(" ",bN.map(function(cB){return"-d:"+cB;},bN.sort(cw)));cA=bL.ofSeq(bN.delay(function(){return bN.append(cz!==""?["////"+cz]:[],bN.delay(function(){return bN.append(bN.map(function(cB){return function(cC){return cB("#I @\""+bK.toSafe(cC)+"\"");};}(a.id),cx),bN.delay(function(){return bN.append(bN.map(function(cB){return function(cC){return cB("#r @\""+bK.toSafe(cC)+"\"");};}(a.id),cv),bN.delay(function(){return bN.append(cs&&!bN.isEmpty(cy)?["# 1 \"required for nowarns to work\""]:[],bN.delay(function(){return bN.map(function(cB){return function(cC){return cB("#nowarn \""+bK.toSafe(cC)+"\"");};}(a.id),cy);}));}));}));}));}));return[bM.concat("\n",bN.append(cA,cu)),bT.ofSeq((bN.mapFold(function(cB,cC){var cD;cD=cC[1];return[[cC[0],[cC[2],cB,cB+cD]],cB+cD];},cA.get_Length(),ct))[0])];};s.ReducedCode=function(cs,ct){var cu,cv;function cw(cx,cy,cz,cA,cB,cC){return function(cD){return s.AddSeps(cx,cy,cz,cA,cB,cC,cD[0],cD[1],cD[2],cD[3],cD[4],cD[5]);};}cu=bN.reduce(function(cx,cy){return(function(cz){return cw(cz[0],cz[1],cz[2],cz[3],cz[4],cz[5]);}(cx))(cy);},(cv=bN.map(function(cx){return cx.SeparateCode(cs);},ct),bN.isEmpty(cv)?[[[],[],[],[],[],[]]]:cv));return[cu[0],[bM.concat("\n",cu[1])],cu[2],cu[3],cu[4],cu[5]];};s.AddSeps=function(cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD){return[cs.concat(cy),ct.concat(cz),bT.ofSeq(bN.distinct(bN.append(cu,cA))),bT.ofSeq(bN.distinct(bN.append(cv,cB))),bT.ofSeq(bN.distinct(bN.append(cw,cC))),bT.ofSeq(bN.distinct(bN.append(cx,cD)))];};s.TryFindByKey=function(cs,ct){return bN.tryFind(function(cu){return bU.Equals(cu.id,ct);},cs);};s.New=function(cs,ct,cu,cv,cw,cx,cy,cz,cA){return new s({name:cs,content:ct,parent:cu,predecessors:cv,id:cw,expanded:cx,level:cy,levelCode:cz,properties:cA});};t.GetWholeFile={$:11};t.GetIdentification={$:0};u.FSInfor={$:2};u.FSWarning={$:1};u.FSError={$:0};v=p.FsStationClientErr=bI.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return this.$==0&&(this.$1.$==0&&true);},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return this.$==0?(((bI.Curried3(function(cs,ct,cu){return cs(bF.p(ct)+" "+bK.toSafe(cu));}))(a.id))(this.$1))(this.$0):(function(cs){return function(ct){return cs(bF.p$1(ct));};}(a.id))(this);}},null,v);w=p.FsStationClient=bI.Class({snippetResponse:function(cs){return cs.$==2?h.succeed(cs.$0):h.fail(new v({$:1,$0:a.String(cs)}));},snippetsResponse:function(cs){return cs.$==3?h.succeed(cs.$0):h.fail(new v({$:1,$0:a.String(cs)}));},stringResponse:function(cs){var ct,cu;return cs.$==1&&((cu=cs.$0,cu!=null&&cu.$==1)&&(ct=cs.$0.$0,true))?h.succeed(ct):h.fail(new v({$:1,$0:a.String(cs)}));},stringResponseR:function(cs){var ct,cu;function cv(cw,cx){return new v({$:0,$0:cw,$1:cx});}return cs.$==4&&((cu=cs.$0,cu!=null&&cu.$==1)&&(ct=[cs.$0.$0,cs.$1],true))?h.succeedWithMsgs(ct[0],bL.ofSeq(bN.map(function(cw){return cv(cw[0],cw[1]);},ct[1]))):h.fail(new v({$:1,$0:a.String(cs)}));},get_MessagingClient:function(){return this.msgClient;},get_FSStationId:function(){return this.fsIds;},RunSnippet:function(cs,ct){var cu,cv,cw,cx,cy;function cz(cA){return cu.stringResponseR(cA);}cu=this;cv={$:13,$0:bM.SplitChars(ct,["/"],0),$1:cs};cw=this;cx=this.toId;cy=j.wrapper();return cy.Delay(function(){return cy.Bind$2(cw.msgClient.SendMessage(cx,bX.stringify((bE.j())(cv))),function(cA){return cy.Bind$1(cz((bD.j())(bX.parse(cA))),function(cB){return cy.Return(cB);});});});},GenericMessage:function(cs){var ct,cu,cv,cw,cx;function cy(cz){return ct.stringResponse(cz);}ct=this;cu=this;cv=this.toId;cw={$:1,$0:cs};cx=j.wrapper();return cx.Delay(function(){return cx.Bind$2(cu.msgClient.SendMessage(cv,bX.stringify((bE.j())(cw))),function(cz){return cx.Bind$1(cy((bD.j())(bX.parse(cz))),function(cA){return cx.Return(cA);});});});},RequestWholeFile:function(){var cs,ct,cu,cv,cw;function cx(cy){return cs.stringResponse(cy);}cs=this;ct=this;cu=this.toId;cv=t.GetWholeFile;cw=j.wrapper();return cw.Delay(function(){return cw.Bind$2(ct.msgClient.SendMessage(cu,bX.stringify((bE.j())(cv))),function(cy){return cw.Bind$1(cx((bD.j())(bX.parse(cy))),function(cz){return cw.Return(cz);});});});},RequestPredsById:function(cs){var ct,cu,cv,cw,cx;function cy(cz){return ct.snippetsResponse(cz);}ct=this;cu=this;cv=this.toId;cw={$:4,$0:cs};cx=j.wrapper();return cx.Delay(function(){return cx.Bind$2(cu.msgClient.SendMessage(cv,bX.stringify((bE.j())(cw))),function(cz){return cx.Bind$1(cy((bD.j())(bX.parse(cz))),function(cA){return cx.Return(cA);});});});},RequestPreds:function(cs){var ct,cu,cv,cw,cx;function cy(cz){return ct.snippetsResponse(cz);}ct=this;cu={$:8,$0:bM.SplitChars(cs,["/"],0)};cv=this;cw=this.toId;cx=j.wrapper();return cx.Delay(function(){return cx.Bind$2(cv.msgClient.SendMessage(cw,bX.stringify((bE.j())(cu))),function(cz){return cx.Bind$1(cy((bD.j())(bX.parse(cz))),function(cA){return cx.Return(cA);});});});},RequestJSCode:function(cs){var ct,cu,cv,cw,cx;function cy(cz){return ct.stringResponseR(cz);}ct=this;cu={$:10,$0:bM.SplitChars(cs,["/"],0)};cv=this;cw=this.toId;cx=j.wrapper();return cx.Delay(function(){return cx.Bind$2(cv.msgClient.SendMessage(cw,bX.stringify((bE.j())(cu))),function(cz){return cx.Bind$1(cy((bD.j())(bX.parse(cz))),function(cA){return cx.Return(cA);});});});},RequestCode:function(cs){var ct,cu,cv,cw,cx;function cy(cz){return ct.stringResponse(cz);}ct=this;cu={$:7,$0:bM.SplitChars(cs,["/"],0)};cv=this;cw=this.toId;cx=j.wrapper();return cx.Delay(function(){return cx.Bind$2(cv.msgClient.SendMessage(cw,bX.stringify((bE.j())(cu))),function(cz){return cx.Bind$1(cy((bD.j())(bX.parse(cz))),function(cA){return cx.Return(cA);});});});},RequestSnippet:function(cs){var ct,cu,cv,cw,cx;function cy(cz){return ct.snippetResponse(cz);}ct=this;cu={$:9,$0:bM.SplitChars(cs,["/"],0)};cv=this;cw=this.toId;cx=j.wrapper();return cx.Delay(function(){return cx.Bind$2(cv.msgClient.SendMessage(cw,bX.stringify((bE.j())(cu))),function(cz){return cx.Bind$1(cy((bD.j())(bX.parse(cz))),function(cA){return cx.Return(cA);});});});},SendMessage:function(cs){var ct,cu,cv;ct=this;cu=this.toId;cv=j.wrapper();return cv.Delay(function(){return cv.Bind$2(ct.msgClient.SendMessage(cu,bX.stringify((bE.j())(cs))),function(cw){return cv.Bind$1(h.succeed((bD.j())(bX.parse(cw))),function(cx){return cv.Return(cx);});});});},SendMessage$1:function(cs,ct){var cu,cv;cu=this;cv=j.wrapper();return cv.Delay(function(){return cv.Bind$2(cu.msgClient.SendMessage(cs,bX.stringify((bE.j())(ct))),function(cw){return cv.Bind$1(h.succeed((bD.j())(bX.parse(cw))),function(cx){return cv.Return(cx);});});});}},bJ.Obj,w);w.get_FSStationId_=function(){return"FSharpStation1511231843419";};w.New=bI.Ctor(function(cs,ct,cu,cv){this.fsIds=d.defaultValue("FSharpStation1511231843419",ct);this.msgClient=new q.New(cs,cu,cv);this.toId=p.AddressId(this.fsIds);},w);p.predsL=function(cs,ct){var cu,cv;cu=ct;cv=bL.T.Empty;while(!(cu.$==0))(function(){var cw,cx;return cu.$==1?(cw=cu.$1,(cx=cu.$0,bN.contains(cx,cv)?void(cu=cw):(cu=bL.collect(a.id,bL.ofArray([cw,bL.collect(function(cy){return bL.append(b2.toList(cy.parent),cy.predecessors);},b2.toList(cs(cx)))])),void(cv=new bL.T({$:1,$0:cx,$1:cv}))))):null;}());return cv;};p.preds=function(cs,ct,cu){var cv,cw;return cu.$==1?(cv=cu.$0,(cw=bL.collect(a.id,bL.ofArray([cu.$1,bL.collect(function(cx){return bL.append(b2.toList(cx.parent),cx.predecessors);},b2.toList(cs(cv)))])),p.preds(cs,bN.contains(cv,ct)?ct:new bL.T({$:1,$0:cv,$1:ct}),cw))):ct;};p.sanitize=function(cs){var ct;ct=["\"","<",">","|","\u0000","\u0001","\u0002","\u0003","\u0004","\u0005","\u0006","\u0007","\u0008","\u0009","\n","\u000b","\u000c","\r","\u000e","\u000f","\u0010","\u0011","\u0012","\u0013","\u0014","\u0015","\u0016","\u0017","\u0018","\u0019","\u001a","\u001b","\u001c","\u001d","\u001e","\u001f",":","*","?","\\","/"];return bM.Filter(function(cu){return!bT.contains(cu,ct);},cs);};p.snippetName=function(cs,ct){return cs!==""?cs:d.defaultValue("<empty>",bN.tryHead(bN.filter(function(cu){return!(bM.StartsWith(cu,"#")||bM.StartsWith(cu,"[<")||bM.StartsWith(cu,"//"));},bN.map(bM.Trim,bM.SplitChars(ct,["\n"],1)))));};p.AsyncStartF=function(){bC.$cctor();return bC.AsyncStartF;};p.replyToF=function(){bC.$cctor();return bC.replyToF;};p.sendRequestF=function(){bC.$cctor();return bC.sendRequestF;};p.awaitRequestForF=function(){bC.$cctor();return bC.awaitRequestForF;};p.AddressId=function(cs){return{$:0,$0:cs};};p.AsyncStart=function(cs){bO.StartWithContinuations(cs,a.ignore,function(ct){a.alert(a.String(ct));},function(ct){a.alert(a.String(ct));},null);};p.selectF=a.id;x.translateAR=function(cs,ct){var cu;cu=null;return bO.Delay(function(){return bO.Bind((new bW.New()).Async("FSharpStation:FSSGlobal.FsTranslator.translateAS:608897894",[cs,ct]),function(cv){function cw(cx,cy){return new g.New(cx,cy);}return bO.Return({$:0,$0:cv[0],$1:bL.ofSeq(bN.map(function(cx){return cw(cx[0],cx[1]);},cv[1]))});});});};A.New=function(cs,ct){return{Code:cs,Message:ct};};B.New=function(cs,ct,cu){return{File:cs,Line:ct,Column:cu};};C.New=function(cs,ct,cu,cv){return{Name:cs,ReplacementText:ct,Glyph:cu,GlyphChar:cv};};D.New=function(cs,ct){return{Signature:cs,Comment:ct};};E.New=function(cs,ct,cu,cv){return{Name:cs,CanonicalTypeTextForSorting:ct,Display:cu,Description:cv};};F.New=function(cs,ct,cu,cv){return{Tip:cs,TypeText:ct,Parameters:cu,IsStaticArguments:cv};};G.New=function(cs,ct){return{Name:cs,Type:ct};};H.New=function(cs,ct){return{OutputType:cs,Parameters:ct};};I.New=function(cs,ct,cu){return{Name:cs,CurrentParameter:ct,Overloads:cu};};J.New=function(cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC){return{FileName:cs,StartLine:ct,StartColumn:cu,EndLine:cv,EndColumn:cw,IsFromDefinition:cx,IsFromAttribute:cy,IsFromComputationExpression:cz,IsFromDispatchSlotImplementation:cA,IsFromPattern:cB,IsFromType:cC};};K.New=function(cs,ct){return{Name:cs,Uses:ct};};L.New=function(cs,ct){return{Name:cs,Overloads:ct};};M.New=function(cs,ct,cu){return{Fsc:cs,Fsi:ct,MSBuild:cu};};N.New=function(cs,ct,cu,cv,cw,cx,cy){return{FileName:cs,StartLine:ct,EndLine:cu,StartColumn:cv,EndColumn:cw,Message:cx,Subcategory:cy};};O.New=function(cs,ct){return{File:cs,Errors:ct};};P.New=function(cs){return{Kind:cs};};Q.New=function(cs,ct,cu,cv,cw,cx,cy,cz){return{UniqueName:cs,Name:ct,Glyph:cu,GlyphChar:cv,IsTopLevel:cw,File:cx,EnclosingEntity:cy,IsAbstract:cz};};R.New=function(cs,ct){return{Declaration:cs,Nested:ct};};S.New=function(cs,ct,cu,cv,cw,cx){return{Namespace:cs,Name:ct,Type:cu,Line:cv,Column:cw,MultipleNames:cx};};T.New=function(cs,ct){return{Name:cs,Qualifier:ct};};U.New=function(cs,ct,cu){return{Opens:cs,Qualifies:ct,Word:cu};};V.New=function(cs){return{Text:cs};};W.ACMIdentification={$:0};X=y.FSAutoCompleteIntermediaryClient=bI.Class({info2Bool:function(cs){return cs.$==0&&(cs.$0==="true"&&true);},errors2String:function(cs){return cs.$==7?bM.concat("\n",bN.map(function(ct){return((((((((bI.Curried(function(cu,cv,cw,cx,cy,cz,cA,cB){return cu("ErrFSharp \"F# "+bK.toSafe(cv)+".fsx ("+a.String(cw)+","+a.String(cx)+") - ("+a.String(cy)+","+a.String(cz)+") "+bK.toSafe(cA)+":"+bK.toSafe(cB)+"\"");},8))(a.id))(ct.FileName))(ct.StartLine))(ct.StartColumn))(ct.EndLine))(ct.EndColumn))(ct.Subcategory))(ct.Message);},cs.$0.Errors)):(function(ct){return function(cu){return ct(bF.p$3(cu));};}(a.id))(cs);},tip2String:function(cs){return cs.$==11?bM.concat("\n",bN.collect(function(ct){return bL.ofArray([ct.Signature,ct.Comment]);},bN.collect(a.id,cs.$0))):(function(ct){return function(cu){return ct(bF.p$3(cu));};}(a.id))(cs);},comp2Strings:function(cs){var ct;ct=this;return cs.$==3?bT.map(function(cu){return[cu.Name,cu.ReplacementText,cu.Glyph,cu.GlyphChar];},cs.$0):cs.$==2?[]:cs.$==17?bT.collect(function(cu){return ct.comp2Strings(cu);},cs.$0):[[(function(cu){return function(cv){return cu(bF.p$3(cv));};}(a.id))(cs),"","ErrorMsg","E"]];},Async_map:function(cs,ct){var cu;cu=null;return bO.Delay(function(){return bO.Bind(ct,function(cv){return bO.Return(cs(cv));});});},FindDecl:function(cs,ct,cu,cv){return this.Async_map(a.id,y.sendMessage({$:7,$0:cs,$1:ct,$2:cu,$3:cv}));},FindDecl$1:function(cs,ct,cu){return this.Async_map(a.id,y.sendMessage({$:6,$0:cs,$1:ct,$2:cu}));},Complete:function(cs,ct,cu,cv,cw){var cx;cx=this;return cx.Async_map(function(cy){return cx.comp2Strings(cy);},y.sendMessage({$:9,$0:cs,$1:cu,$2:cv,$3:ct,$4:cw}));},Complete$1:function(cs,ct,cu,cv){var cw;cw=this;return cw.Async_map(function(cx){return cw.comp2Strings(cx);},y.sendMessage({$:8,$0:cs,$1:cu,$2:cv,$3:ct}));},ToolTip:function(cs,ct,cu,cv){var cw;cw=this;return cw.Async_map(function(cx){return cw.tip2String(cx);},y.sendMessage({$:3,$0:cs,$1:ct,$2:cu,$3:cv}));},ToolTip$1:function(cs,ct,cu){var cv;cv=this;return cv.Async_map(function(cw){return cv.tip2String(cw);},y.sendMessage({$:2,$0:cs,$1:ct,$2:cu}));},Parse:function(cs,ct){var cu;cu=this;return cu.Async_map(function(cv){return cu.errors2String(cv);},y.sendMessage({$:10,$0:cs,$1:ct,$2:[]}));},Parse$1:function(cs,ct,cu){var cv;cv=this;return cv.Async_map(function(cw){return cv.errors2String(cw);},y.sendMessage({$:10,$0:cs,$1:ct,$2:cu}));},MustParse:function(cs,ct){var cu;cu=this;return cu.Async_map(function(cv){return cu.info2Bool(cv);},y.sendMessage({$:11,$0:cs,$1:ct}));}},bJ.Obj,X);X.New=bI.Ctor(function(cs,ct){},X);y.sendMessage=function(cs){var ct;ct=null;return bO.Delay(function(){return bO.Bind((new bW.New()).Async("FSharpStation:FSSGlobal.FSAutoCompleteIntermediary.sendMessageRpc:1124743568",[cs]),function(cu){return bO.Return(cu);});});};Z=Y.Val=bI.Class({get_FooBar:function(){return 0;}},null,Z);_0.HelperType={$:0};_0.op_AmpGreater=function(cs,ct){return new Z({$:2,$0:ct});};_0.op_AmpGreater$1=function(cs,ct){return new Z({$:1,$0:ct});};_0.op_AmpGreater$2=function(cs,ct){return ct;};_0.op_AmpGreater$3=function(cs,ct){return ct;};_0.op_AmpGreater$4=function(cs,ct){return ct;};_0.op_AmpGreater$5=function(cs,ct){return ct;};_0.op_AmpGreater$6=function(cs,ct){return ct;};_0.op_AmpGreater$7=function(cs,ct){return ct;};_0.op_AmpGreater$8=function(cs,ct){return ct;};_0.op_AmpGreater$9=function(cs,ct){return new Z({$:0,$0:ct});};_0.op_AmpGreater$10=function(cs,ct){return new Z({$:0,$0:ct});};_0.op_AmpGreater$11=function(cs,ct){return new Z({$:0,$0:ct});};_0.op_AmpGreater$12=function(cs,ct){return new Z({$:0,$0:ct});};_0.op_AmpGreater$13=function(cs,ct){return new Z({$:0,$0:ct});};_0.op_AmpGreater$14=function(cs,ct){return new Z({$:0,$0:ct});};Z.fixitF=function(cs,ct){return cs(ct);};Z.mapCached=function(cs,ct){return new Z({$:2,$0:b5.MapCached(cs,Z.toView(ct))});};Z.sink=function(cs,ct){b5.Sink(cs,Z.toView(Z.fixit(ct)));};Z.mapAsync=function(cs,ct){return new Z({$:2,$0:b5.MapAsync(cs,Z.toView(Z.fixit(ct)))});};Z.iter4=function(cs,ct,cu,cv,cw){Z.iterV(a.ignore,Z.map4(cs,ct,cu,cv,cw));};Z.iter3=function(cs,ct,cu,cv){Z.iterV(a.ignore,Z.map3(cs,ct,cu,cv));};Z.iter2=function(cs,ct,cu){Z.iterV(a.ignore,Z.map2(cs,ct,cu));};Z.map4=function(cs,ct,cu,cv,cw){return Z.map4V(cs,Z.fixit(ct),Z.fixit(cu),Z.fixit(cv),Z.fixit(cw));};Z.map3=function(cs,ct,cu,cv){return Z.map3V(cs,Z.fixit(ct),Z.fixit(cu),Z.fixit(cv));};Z.map2=function(cs,ct,cu){return((Z.map2V(cs))(Z.fixit(ct)))(Z.fixit(cu));};Z.map=function(cs,ct){return Z.mapV(cs,Z.fixit(ct));};Z.bind=function(cs,ct){return Z.bindV(cs,Z.fixit(ct));};Z.iter=function(cs,ct){Z.iterV(cs,Z.fixit(ct));};Z.toDoc=function(cs){return b6.EmbedView(Z.toView(Z.fixit(cs)));};Z.fixit=function(cs){return Z.fixitF(Z.toVal,cs);};Z.toVal=function(cs){return typeof cs=="string"?new Z({$:0,$0:cs}):typeof cs=="number"?new Z({$:0,$0:cs}):typeof cs=="boolean"?new Z({$:0,$0:cs}):cs instanceof b6?new Z({$:0,$0:cs}):cs instanceof Z?cs:cs instanceof b4.Var?new Z({$:1,$0:cs}):"RSet"in cs?new Z({$:1,$0:cs}):typeof cs=="function"?new Z({$:2,$0:cs}):b7.FailWith((function(ct){return function(cu){return ct("Could not convert "+bK.prettyPrint(cu));};}(a.id))(cs));};Z.attrV=function(cs,ct){return ct.$==2?b8.Dynamic(cs,ct.$0):ct.$==1?b8.Dynamic(cs,ct.$0.RView()):b9.Create(cs,ct.$0);};Z.attrVO=function(cs,ct){var cu,cv;return ct.$==2?(cu=ct.$0,b8.DynamicPred(cs,b5.Map(function(cw){return cw!=null;},cu),b5.Map(function(cw){return cw==null?"":cw.$0;},cu))):ct.$==1?(cv=ct.$0,b8.DynamicPred(cs,b5.Map(function(cw){return cw!=null;},cv.RView()),b5.Map(function(cw){return cw==null?"":cw.$0;},cv.RView()))):ct.$0==null?b8.DynamicPred(cs,b5.Const(false),b5.Const("")):b9.Create(cs,ct.$0.$0);};Z.tagElt=function(cs,ct){return ct.$==2?b6.EmbedView(b5.Map(cs,ct.$0)):ct.$==1?b6.EmbedView(b5.Map(cs,ct.$0.RView())):cs(ct.$0);};Z.tagDoc=function(cs,ct){return ct.$==2?b6.EmbedView(b5.Map(cs,ct.$0)):ct.$==1?b6.EmbedView(b5.Map(cs,ct.$0.RView())):cs(ct.$0);};Z.map4V=function(cs,ct,cu,cv,cw){var cx;cx=Z.map3V(cs,ct,cu,cv);return((Z.map2V(function(cy){return function(cz){return cz(cy);};}))(cw))(cx);};Z.map3V=function(cs,ct,cu,cv){var cw;cw=((Z.map2V(cs))(ct))(cu);return((Z.map2V(function(cx){return function(cy){return cy(cx);};}))(cv))(cw);};Z.map2V=function(cs){function ct(cv,cw,cx){return(cv(cx))(cw);}function cu(cv){var cw,cx;cw=(cx=function(cy){var cz;cz=cs(cy);return function(cA){return Z.mapV(cz,cA);};},function(cy){return ct(cx,cv,cy);});return function(cy){return Z.bindV(cw,cy);};}return(bI.Curried3(ct))(cu);};Z.bindV=function(cs,ct){return ct.$==2?new Z({$:2,$0:b5.Bind(function(cu){return Z.toView(cs(cu));},ct.$0)}):ct.$==1?new Z({$:2,$0:b5.Bind(function(cu){return Z.toView(cs(cu));},ct.$0.RView())}):cs(ct.$0);};Z.toView=function(cs){return cs.$==2?cs.$0:cs.$==1?cs.$0.RView():b5.Const(cs.$0);};Z.iterV=function(cs,ct){if(ct.$==2)b5.Get(cs,ct.$0);else if(ct.$==1)cs(ct.$0.RVal());else cs(ct.$0);};Z.mapV=function(cs,ct){return ct.$==2?new Z({$:2,$0:b5.Map(cs,ct.$0)}):ct.$==1?new Z({$:2,$0:b5.Map(cs,ct.$0.RView())}):new Z({$:0,$0:cs(ct.$0)});};_1=Y.HtmlNode=bI.Class({Style:function(cs){return this.AddChildren([Y.style(cs)]);},AddClass:function(cs){return Y.addClass(cs,this);},InsertChildren:function(cs){return Y.insertChildren(cs,this);},AddChildren:function(cs){return Y.addChildren(cs,this);},get_toDoc:function(){var cs,ct,cu;return this.$==1||this.$==4&&true?b6.Empty():(ct=Y.chooseNode(this),(cu=b6.Empty(),ct==null?cu:ct.$0));}},null,_1);_1.HtmlEmpty=new _1({$:4});Y.LoadFilesAsync=function(cs){function ct(cu,cv){try{a.CIPHERSpaceLoadFiles(cs,cu);}catch(cw){cv(cw);}}return bO.FromContinuations(function(cu,cv,cw){return ct.apply(null,[cu,cv,cw]);});};Y.findRootElement=function(cs){var ct;return!function(cu){return cs.getRootNode(cu);}?a.document.body:(ct=cs.getRootNode(),!ct.body?ct.firstChild:ct.body);};Y.createIFrame=function(cs){var ct;ct=b_.Create$1(true);return Y.div([Y.style("position: relative; overflow: hidden; height: 100%; width: 100%;"),Y.iframe([Y.style("position: absolute; width:100%; height:100%;"),Y.frameborder("0"),new _1({$:7,$0:b8.OnAfterRender(cs)}),new _1({$:7,$0:b8.Handler("mouseleave",function(){return function(){return b_.Set(ct,true);};})})]),Y.div([Y.style("position: absolute;"),Y.classIf("iframe-cover",Z.map(a.id,ct)),new _1({$:7,$0:b8.Handler("mouseenter",function(){return function(){return b5.Get(function(cu){if(!cu)b_.Set(ct,false);},ca.get_MousePressed());};})})]),Y.styleH([Y.htmlText(".iframe-cover { top:0; left:0; right:0; bottom:0; background: blue; opacity: 0.04; z-index: 2; }")])]);};Y.bindHElem=function(cs,ct){return new _1({$:5,$0:Z.map(cs,Z.fixit(ct))});};Y.string2Styles=function(){bC.$cctor();return bC.string2Styles;};Y.style2pairs=function(cs){return bT.map(function(ct){return[bM.Trim(bT.get(ct,0)),bM.Trim(bT.get(ct,1))];},bT.filter(function(ct){return bT.length(ct)===2;},bT.map(function(ct){return bM.SplitChars(ct,[":"],0);},bM.SplitChars(cs,[";"],0))));};Y.xclass=function(cs){var ct,cu;return new _1({$:7,$0:(ct=Z.fixit(cs),ct.$==2?b8.DynamicClass("class_for_view_not_implemented",ct.$0,function(cv){return""!==cv;}):ct.$==1?(cu=ct.$0,b8.DynamicClass(cu.RVal(),cu.RView(),function(cv){return""!==cv;})):b8.Class(ct.$0))});};Y.classIf=function(cs,ct){return Y["class"](Z.map(function(cu){return cu?cs:"";},Z.fixit(ct)));};Y.css=function(cs){return Y.styleH([Y.htmlText(cs)]);};Y.style1=function(cs,ct){var cu;return Y.style(Z.map((cu=cs+":",function(cv){return cu+cv;}),ct));};Y.style=function(cs){return Y.htmlAttribute("style",cs);};Y.draggable=function(cs){return Y.htmlAttribute("draggable",cs);};Y.spellcheck=function(cs){return Y.htmlAttribute("spellcheck",cs);};Y.frameborder=function(cs){return Y.htmlAttribute("frameborder",cs);};Y.Id=function(cs){return Y.htmlAttribute("id",cs);};Y.title=function(cs){return Y.htmlAttribute("title",cs);};Y.width=function(cs){return Y.htmlAttribute("width",cs);};Y.type=function(cs){return Y.htmlAttribute("type",cs);};Y["class"]=function(cs){return Y.htmlAttribute("class",cs);};Y.src=function(cs){return Y.htmlAttribute("src",cs);};Y.charset=function(cs){return Y.htmlAttribute("charset",cs);};Y.rel=function(cs){return Y.htmlAttribute("rel",cs);};Y.hrefO=function(cs){return Y.htmlAttributeO("href",cs);};Y.href=function(cs){return Y.htmlAttribute("href",cs);};Y.target=function(cs){return Y.htmlAttribute("target",cs);};Y.body=function(cs){return Y.htmlElement("body",cs);};Y.iframe=function(cs){return Y.htmlElement("iframe",cs);};Y.link=function(cs){return Y.htmlElement("link",cs);};Y.fieldset=function(cs){return Y.htmlElement("fieldset",cs);};Y.styleH=function(cs){return Y.htmlElement("style",cs);};Y.script=function(cs){return Y.htmlElement("script",cs);};Y.button=function(cs){return Y.htmlElement("button",cs);};Y.label=function(cs){return Y.htmlElement("label",cs);};Y.tbody=function(cs){return Y.htmlElement("tbody",cs);};Y.td=function(cs){return Y.htmlElement("td",cs);};Y.tr=function(cs){return Y.htmlElement("tr",cs);};Y.th=function(cs){return Y.htmlElement("th",cs);};Y.thead=function(cs){return Y.htmlElement("thead",cs);};Y.table=function(cs){return Y.htmlElement("table",cs);};Y.form=function(cs){return Y.htmlElement("form",cs);};Y.span=function(cs){return Y.htmlElement("span",cs);};Y.img=function(cs){return Y.htmlElement("img",cs);};Y.div=function(cs){return Y.htmlElement("div",cs);};Y.h6=function(cs){return Y.htmlElement("h6",cs);};Y.h5=function(cs){return Y.htmlElement("h5",cs);};Y.h4=function(cs){return Y.htmlElement("h4",cs);};Y.h3=function(cs){return Y.htmlElement("h3",cs);};Y.h2=function(cs){return Y.htmlElement("h2",cs);};Y.h1=function(cs){return Y.htmlElement("h1",cs);};Y.hr=function(cs){return Y.htmlElement("hr",cs);};Y.br=function(cs){return Y.htmlElement("br",cs);};Y.li=function(cs){return Y.htmlElement("li",cs);};Y.ul=function(cs){return Y.htmlElement("ul",cs);};Y.a=function(cs){return Y.htmlElement("a",cs);};Y.textV=function(cs){return Y.tag(b6.TextNode,cs);};Y._placeholder=function(cs){return Y.atr("placeholder",cs);};Y._style=function(cs){return Y.atr("style",cs);};Y._type=function(cs){return Y.atr("type",cs);};Y._class=function(cs){return Y.atr("class",cs);};Y.tag=function(cs,ct){return Z.tagDoc(cs,Z.fixit(ct));};Y.atr=function(cs,ct){return Z.attrV(cs,Z.fixit(ct));};Y.renderDoc=function(){bC.$cctor();return bC.renderDoc;};Y.addClassIf=function(cs,ct){var cu;cu=Z.map(function(cv){return cv?cs:"";},Z.fixit(ct));return function(cv){return Y.addClass(cu,cv);};};Y.addClass=function(cs,ct){return Y.addChildren(bL.ofArray([Y.htmlAttribute("class",cs)]),ct);};Y.insertChildren=function(cs,ct){function cu(cv,cw){return[cv,bN.append(cs,cw)];}return Y.mapHtmlElement(function(cv){return function(cw){return cu(cv,cw);};},ct);};Y.addChildren=function(cs,ct){function cu(cv,cw){return[cv,bN.append(cw,cs)];}return Y.mapHtmlElement(function(cv){return function(cw){return cu(cv,cw);};},ct);};Y.someElt=function(cs){return new _1({$:6,$0:cs});};Y.htmlText=function(cs){return new _1({$:3,$0:Z.fixit(cs)});};Y.htmlAttributeO=function(cs,ct){return new _1({$:2,$0:cs,$1:Z.fixit(ct)});};Y.htmlAttribute=function(cs,ct){return new _1({$:1,$0:cs,$1:Z.fixit(ct)});};Y.htmlElement=function(cs,ct){return new _1({$:0,$0:cs,$1:ct});};Y.mapHtmlElement=function(cs,ct){var cu;return ct.$==0?(cu=(cs(ct.$0))(ct.$1),new _1({$:0,$0:cu[0],$1:cu[1]})):ct.$==5?new _1({$:5,$0:Z.map(function(cv){return Y.mapHtmlElement(cs,cv);},ct.$0)}):ct;};Y.getAttrChildren=function(cs){var ct,cu,cv;function cw(cx){var cy;return cx.$==1&&(cx.$0===cs&&(cy=[cx.$0,cx.$1],true))?{$:1,$0:cy[1]}:null;}ct=function(cx){return bN.tryPick(cw,cx);};cu=(cv=new Z({$:0,$0:""}),function(cx){return cx==null?cv:cx.$0;});return function(cx){return cu(ct(cx));};};Y.chooseNode=function(cs){var ct,cu,cv,cw;return cs.$==0?(ct=cs.$1,{$:1,$0:b6.Element(cs.$0,Y.getAttrsFromSeq(ct),bN.choose(Y.chooseNode,ct))}):cs.$==3?{$:1,$0:Z.tagDoc(b6.TextNode,cs.$0)}:cs.$==6?{$:1,$0:cs.$0}:cs.$==5?{$:1,$0:(cu=Z.toView(cs.$0),b6.BindView((cv=(cw=b6.Empty(),function(cx){return cx==null?cw:cx.$0;}),function(cx){return cv(Y.chooseNode(cx));}),cu))}:null;};Y.getAttrsFromSeq=function(cs){var ct;ct=bN.choose(Y.chooseAttr,cs);return bN.append(bL.choose(a.id,bL.ofArray([Y.groupAttr("class"," ",cs),Y.groupAttr("style","; ",cs)])),ct);};Y.groupAttr=function(cs,ct,cu){var cv,cw;function cx(cy,cz){return Y.concat(ct,cy,cz);}cv=bN.choose(function(cy){return Y.chooseThisAttr(cs,cy);},cu);return bN.isEmpty(cv)?null:{$:1,$0:Z.attrV(cs,(cw=(bI.Curried3(Z.map2))(function(cy){return function(cz){return cx(cy,cz);};}),bN.reduce(function(cy,cz){return(cw(cy))(cz);},cv)))};};Y.concat=function(cs,ct,cu){return ct+cs+cu;};Y.chooseThisAttr=function(cs,ct){var cu;return ct.$==1&&(ct.$0===cs&&(cu=[ct.$0,ct.$1],true))?{$:1,$0:cu[1]}:null;};Y.chooseAttr=function(cs){var ct,cu,cv,cw;return cs.$==1&&((cu=cs.$0,cu!=="class"&&cu!=="style")&&(ct=[cs.$0,cs.$1],true))?{$:1,$0:Z.attrV(ct[0],ct[1])}:cs.$==2&&((cw=cs.$0,cw!=="class"&&cw!=="style")&&(cv=[cs.$0,cs.$1],true))?{$:1,$0:Z.attrVO(cv[0],cv[1])}:cs.$==7?{$:1,$0:cs.$0}:null;};Y.addClassX=function(cs,ct){var cu;return bM.concat(" ",(cu=new cb.New$1(cc.OfSeq(bM.SplitChars(cs,[" "],0))),new cb.New$1(cc.OfSeq(bN.append(new cb.New$1(cc.OfSeq(bM.SplitChars(ct,[" "],0))),cu)))));};_3=_2.Button=bI.Class({OnClick:function(cs){return _3.New(this._class,this._type,this.style,this.text,cs,this.disabled,this.id);},Disabled:function(cs){return _3.New(this._class,this._type,this.style,this.text,this.onClick,Z.fixit(cs),this.id);},Text:function(cs){return _3.New(this._class,this._type,this.style,Z.fixit(cs),this.onClick,this.disabled,this.id);},Style:function(cs){return _3.New(this._class,this._type,Z.fixit(cs),this.text,this.onClick,this.disabled,this.id);},Type:function(cs){return _3.New(this._class,Z.fixit(cs),this.style,this.text,this.onClick,this.disabled,this.id);},Class:function(cs){return _3.New(Z.fixit(cs),this._type,this.style,this.text,this.onClick,this.disabled,this.id);},Id:function(cs){return _3.New(this._class,this._type,this.style,this.text,this.onClick,this.disabled,cs);},get_Render:function(){var cs,ct;return new _1({$:6,$0:(cs=Y.button([Y.type(this._type),Y["class"](this._class),Y.Id(this.id),Y.style(this.style),new _1({$:7,$0:(ct=b5.Const(""),b8.DynamicPred("disabled",Z.toView(this.disabled),ct))}),new _1({$:7,$0:b9.Handler("click",this.onClick)}),new _1({$:3,$0:this.text})]),(Y.renderDoc())(cs))});}},null,_3);_3.New$1=function(cs){return _3.New(Z.fixit("btn"),Z.fixit("button"),Z.fixit(""),Z.fixit(cs),function(){return function(){return null;};},Z.fixit(false),"");};_3.New=function(cs,ct,cu,cv,cw,cx,cy){return new _3({_class:cs,_type:ct,style:cu,text:cv,onClick:cw,disabled:cx,id:cy});};_4=_2.Input=bI.Class({get_Var:function(){return this["var"];},SetVar:function(cs){return _4.New(this._type,this._class,this.style,this.placeholder,this.id,cs,this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Suffix:function(cs){return _4.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,cs,this.content,this.prefixAdded,true);},Prefix:function(cs){return this.Prefix$1(Y.htmlText(cs));},Prefix$1:function(cs){return _4.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],cs,this.suffix,this.content,true,this.suffixAdded);},Content:function(cs){return _4.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,cs,this.prefixAdded,this.suffixAdded);},Id:function(cs){return _4.New(this._type,this._class,this.style,this.placeholder,cs,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Placeholder:function(cs){return _4.New(this._type,this._class,this.style,Z.fixit(cs),this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Style:function(cs){return _4.New(this._type,this._class,Z.fixit(cs),this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Type:function(cs){return _4.New(Z.fixit(cs),this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Class:function(cs){return _4.New(this._type,Z.fixit(cs),this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},get_Render:function(){var cs;function ct(cu){return cu.$==3?"input-group-addon":"input-group-btn";}cs=this;return Y.div(bL.ofSeq(bN.delay(function(){return bN.append(cs.prefixAdded||cs.suffixAdded?[Y["class"]("input-group")]:[],bN.delay(function(){return bN.append(cs.prefixAdded?[Y.span([Y["class"](ct(cs.prefix)),cs.prefix])]:[],bN.delay(function(){return bN.append([new _1({$:6,$0:b6.Input(bN.append(cs.content,bL.ofArray([Y._type(cs._type),Y._class(cs._class),Y._style(cs.style),b9.Create("id",cs.id),Y._placeholder(cs.placeholder)])),cs["var"])})],bN.delay(function(){return cs.suffixAdded?[Y.span([Y["class"](ct(cs.suffix)),cs.suffix])]:[];}));}));}));})));}},null,_4);_4.New$1=function(cs){return _4.New$2(b_.Create$1(cs));};_4.New$2=function(cs){var ct;ct=Z.fixit("form-control");return _4.New(Z.fixit("text"),ct,Z.fixit(""),Z.fixit("Enter text:"),"",cs,_1.HtmlEmpty,_1.HtmlEmpty,bL.T.Empty,false,false);};_4.New=function(cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC){return new _4({_type:cs,_class:ct,style:cu,placeholder:cv,id:cw,"var":cx,prefix:cy,suffix:cz,content:cA,prefixAdded:cB,suffixAdded:cC});};_5=_2.Hoverable=bI.Class({Content:function(cs){var ct;ct=this;return cs.AddChildren([Y.classIf("hovering",this.hover),new _1({$:7,$0:b8.Handler("mouseenter",function(){return function(){return ct.hover.set_RVal(true);};})}),new _1({$:7,$0:b8.Handler("mouseleave",function(){return function(){return ct.hover.set_RVal(false);};})})]);},Content$1:function(cs){var ct;ct=this;return Y.div(bN.append(cs,bL.ofArray([Y.classIf("hovering",this.hover),new _1({$:7,$0:b8.Handler("mouseenter",function(){return function(){return ct.hover.set_RVal(true);};})}),new _1({$:7,$0:b8.Handler("mouseleave",function(){return function(){return ct.hover.set_RVal(false);};})})])));}},null,_5);_5.get_Demo=function(){return _5.get_New().Content(Y.div([Y.style("flex-flow: column;")]));};_5.get_New=function(){return _5.New(b_.Create$1(false));};_5.New=function(cs){return new _5({hover:cs});};_6=_2.TextArea=bI.Class({get_Var:function(){return this["var"];},SetVar:function(cs){return _6.New(this._class,this.placeholder,this.title,this.spellcheck,this.id,cs);},Id:function(cs){return _6.New(this._class,this.placeholder,this.title,this.spellcheck,cs,this["var"]);},Spellcheck:function(cs){return _6.New(this._class,this.placeholder,this.title,cs,this.id,this["var"]);},Title:function(cs){return _6.New(this._class,this.placeholder,Z.fixit(cs),this.spellcheck,this.id,this["var"]);},Placeholder:function(cs){return _6.New(this._class,Z.fixit(cs),this.title,this.spellcheck,this.id,this["var"]);},Class:function(cs){return _6.New(Z.fixit(cs),this.placeholder,this.title,this.spellcheck,this.id,this["var"]);},get_Render:function(){return this.RenderWith(bL.T.Empty);},RenderWith:function(cs){return Y.div([Y.someElt(b6.InputArea(bL.append(bL.ofArray([Y._class(this._class),b9.Create("id",this.id),Y.atr("spellcheck",Z.map(function(ct){return ct?"true":"false";},this.spellcheck)),Y.atr("title",this.title),Y.atr("style","height: 100%;  width: 100%; box-sizing: border-box; "),Y._placeholder(this.placeholder)]),cs),this["var"]))]);}},null,_6);_6.New$1=function(cs){return _6.New$2(b_.Create$1(cs));};_6.New$2=function(cs){return _6.New(Z.fixit("form-control"),Z.fixit("Enter text:"),Z.fixit(""),Z.fixit(false),"",cs);};_6.New=function(cs,ct,cu,cv,cw,cx){return new _6({_class:cs,placeholder:ct,title:cu,spellcheck:cv,id:cw,"var":cx});};_7.New=function(cs,ct){return{line:cs,ch:ct};};_8=_2.CodeMirrorEditor=bI.Class({},bJ.Obj,_8);_8.New=bI.Ctor(function(){},_8);_9=_2.CodeMirror=bI.Class({get_Var:function(){return this["var"];},OnRender:function(cs){return _9.New(this._class,this.style,this.id,this["var"],this.onChange,{$:1,$0:cs},this.editorO);},OnChange:function(cs){return _9.New(this._class,this.style,this.id,this["var"],cs,this.onRender,this.editorO);},Style:function(cs){return _9.New(this._class,Z.fixit(cs),this.id,this["var"],this.onChange,this.onRender,this.editorO);},SetVar:function(cs){return _9.New(this._class,this.style,this.id,cs,this.onChange,this.onRender,this.editorO);},Id:function(cs){return _9.New(this._class,this.style,cs,this["var"],this.onChange,this.onRender,this.editorO);},Class:function(cs){return _9.New(Z.fixit(cs),this.style,this.id,this["var"],this.onChange,this.onRender,this.editorO);},get_Render:function(){var cs;cs=this;return Y.div([Y["class"](this._class),new _1({$:7,$0:b9.Create("id",this.id)}),Y.style("position: relative; height: 300px"),Y.style(this.style),Y.div([Y.style("height: 100%; width: 100%; position: absolute;"),new _1({$:7,$0:b8.OnAfterRender(function(ct){a.CIPHERSpaceLoadFiles(_2.codeMirrorIncludes(),function(){var cu,cv,cw,cx;cu=a.CodeMirror(ct,{theme:"rubyblue",lineNumbers:true,matchBrackets:true,gutters:["CodeMirror-lint-markers"],extraKeys:{Tab:function(cy){cy.replaceSelection("    ","end");},F11:function(cy){cy.setOption("fullScreen",!cy.getOption("fullScreen"));}}});cs.editorO={$:1,$0:cu};cv=cs.onRender;cv==null?void 0:cv.$0(cu);cw=[0];cx=[0];cu.on("changes",function(){var cy;cy=cu.getValue();cs["var"].RVal()!==cy?(cw[0]=cw[0]+1,cs["var"].set_RVal(cy),cs.onChange()):void 0;});b5.Sink(function(){if(cw[0]>cx[0])cx[0]=cw[0];else if(cu.getValue()!==cs["var"].RVal()){cu.setValue(cs["var"].RVal());cu.getDoc().clearHistory();}},cs["var"].RView());});})})]),Y.link([Y.href("/EPFileX/codemirror/content/editor.css"),Y.type("text/css"),Y.rel("stylesheet")]),Y.link([Y.href("/EPFileX/codemirror/content/codemirror.css"),Y.type("text/css"),Y.rel("stylesheet")]),Y.link([Y.href("/EPFileX/codemirror/scripts/addon/display/fullscreen.css"),Y.type("text/css"),Y.rel("stylesheet")]),Y.link([Y.href("/EPFileX/codemirror/scripts/addon/dialog/dialog.css"),Y.type("text/css"),Y.rel("stylesheet")]),Y.link([Y.href("/EPFileX/codemirror/scripts/addon/hint/show-hint.css"),Y.type("text/css"),Y.rel("stylesheet")]),Y.link([Y.href("/EPFileX/codemirror/scripts/addon/lint/lint.css"),Y.type("text/css"),Y.rel("stylesheet")]),Y.css(".CodeMirror { height: 100% }")]);}},null,_9);_9.New$1=function(cs){return _9.New$2(b_.Create$1(cs));};_9.New$2=function(cs){return _9.New(Z.fixit(""),Z.fixit(""),"",cs,a.ignore,null,null);};_9.New=function(cs,ct,cu,cv,cw,cx,cy){return new _9({_class:cs,style:ct,id:cu,"var":cv,onChange:cw,onRender:cx,editorO:cy});};_.New=function(cs,ct,cu){return{text:cs,displayText:ct,className:cu};};$.New=function(cs,ct,cu){return{list:cs,from:ct,to:cu};};ba.New=function(cs,ct,cu){return{hint:cs,completeSingle:ct,container:cu};};bb.New=function(cs,ct,cu,cv){return{message:cs,severity:ct,from:cu,to:cv};};bc=_2.SplitterBar=bI.Class({Children:function(cs){return bc.New(this.value,this.min,this.max,this.vertical,this.node,cs,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},get_After:function(){return bc.New(this.value,this.min,this.max,this.vertical,this.node,this.children,true,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},get_Before:function(){return bc.New(this.value,this.min,this.max,this.vertical,this.node,this.children,false,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Horizontal:function(){return bc.New(this.value,this.min,this.max,Z.fixit(false),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Vertical:function(){return bc.New(this.value,this.min,this.max,Z.fixit(true),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Horizontal$1:function(cs){return bc.New(this.value,this.min,this.max,Z.map(function(ct){return!ct;},Z.fixit(cs)),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Vertical$1:function(cs){return bc.New(this.value,this.min,this.max,Z.fixit(cs),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Max:function(cs){return bc.New(this.value,this.min,Z.fixit(cs),this.vertical,this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Min:function(cs){return bc.New(this.value,Z.fixit(cs),this.max,this.vertical,this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Node:function(cs){return bc.New(this.value,this.min,this.max,this.vertical,cs,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Value:function(cs){this.value.set_RVal(cs);return this;},get_Render:function(){var cs;function ct(cy){return cs.startVer?cy.clientX:cy.clientY;}function cu(){var cy;cy=cs.domElem;return cy!=null&&cy.$==1?cs.startVer?cs.after?cy.$0.parentElement.getBoundingClientRect().width:-cy.$0.parentElement.getBoundingClientRect().width:cs.after?cy.$0.parentElement.getBoundingClientRect().height:-cy.$0.parentElement.getBoundingClientRect().height:100;}function cv(cy){cs.value.set_RVal((ct(cy)-cs.start)*100/cs.size+cs.startP);}function cw(){if(cs.dragging){cs.dragging=false;a.removeEventListener("mousemove",cv,false);a.removeEventListener("mouseup",cw,false);}}function cx(cy,cz){return!cs.dragging?Z.iter(a.ignore,Z.map2(function(cA){return function(cB){cs.dragging=true;cs.startVer=cB;cs.startP=cA;cs.start=ct(cz);cs.size=cu();a.addEventListener("mousemove",cv,false);a.addEventListener("mouseup",cw,false);return cz.preventDefault();};},cs.get_GetValue(),cs.vertical)):null;}cs=this;return this.node.AddChildren([Y["class"](Z.map(function(cy){return cy?"Vertical":"Horizontal";},this.vertical)),new _1({$:7,$0:b8.Handler("mousedown",function(cy){return function(cz){return cx(cy,cz);};})}),new _1({$:7,$0:b8.OnAfterRender(function(cy){cs.domElem={$:1,$0:cy};})}),Y.css("\n                    .Splitter.Vertical   { cursor: col-resize; background-color: #eef ; width : 5px ; margin-left:-7px; }\n                    .Splitter.Horizontal { cursor: row-resize; background-color: #eef ; height: 5px ; margin-top :-7px; }\n                ")]).AddChildren(this.children);},get_GetValue:function(){function cs(cu,cv){return bU.Compare(cu,cv)===-1?cu:cv;}function ct(cu,cv){return bU.Compare(cu,cv)===1?cu:cv;}return Z.map2(function(cu){return function(cv){return cs(cu,cv);};},this.max,Z.map2(function(cu){return function(cv){return ct(cu,cv);};},this.min,this.value));},get_Var:function(){return this.value;}},null,bc);bc.New$1=function(cs){return bc.New$2(b_.Create$1(cs));};bc.New$2=function(cs){return bc.New(cs,Z.fixit(5),Z.fixit(95),Z.fixit(true),Y.div([Y["class"]("Splitter")]),bL.T.Empty,true,false,true,0,0,0,null);};bc.New=function(cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE){return new bc({value:cs,min:ct,max:cu,vertical:cv,node:cw,children:cx,after:cy,dragging:cz,startVer:cA,startP:cB,start:cC,size:cD,domElem:cE});};bd.StFixedPerc={$:2};bd.StFixedPx={$:1};bd.StVariable={$:0};be=_2.Grid=bI.Class({get_Render:function(){return Y.div(this.GridTemplate());},GridTemplate:function(){var cs;cs=this;return bL.ofSeq(bN.delay(function(){function ct(cu,cv){return cu!=null&&cu.$==1?cv.AddChildren([Y.style((function(cw){return function(cx){return cw("grid-area: "+bK.toSafe(cx)+"; dispxlay: grid");};}(a.id))(cu.$0))]):cv;}return bN.append(bN.map(function(cu){return ct(cu[0],cu[1]);},cs.content),bN.delay(function(){function cu(cv,cw){var cx;return cw.$==2?(cx=cw.$0,{$:1,$0:cx.get_Render().InsertChildren([Y.style1("grid-column",a.String(cv+(cx.after?2:1))),Y.style1("grid-row",(function(cy){return function(cz){return cy("1 / "+a.String(cz));};}(a.id))(bT.length(cs.rows)+1))])}):cw.$==1?null:null;}return bN.append(bN.choose(function(cv){return cu(cv[0],cv[1]);},bN.indexed(cs.cols)),bN.delay(function(){function cv(cw,cx){var cy;return cx.$==2?(cy=cx.$0,{$:1,$0:cy.get_Render().InsertChildren([Y.style1("grid-row",a.String(cw+(cy.after?2:1))),Y.style1("grid-column",(function(cz){return function(cA){return cz("1 / "+a.String(cA));};}(a.id))(bT.length(cs.cols)+1))])}):cx.$==1?null:null;}return bN.append(bN.choose(function(cw){return cv(cw[0],cw[1]);},bN.indexed(cs.rows)),bN.delay(function(){return bN.append(cs.styles(),bN.delay(function(){return bN.append([Y.style((((bI.Curried3(function(cw,cx,cy){return cw("display: grid; grid-gap: "+cx.toFixed(6)+"px; padding: "+cy.toFixed(6)+"px; box-sizing: border-box");}))(a.id))(cs.gap))(cs.padding))],bN.delay(function(){return[new _1({$:7,$0:b8.OnAfterRender(function(cw){function cx(cz,cA){return!bU.Equals(cz.RVal(),cA)?cz.set_RVal(cA):null;}function cy(){var cz;cz=cw.getBoundingClientRect();cx(cs.widthHeight,[cz.width,cz.height]);}cy();_2.addResizeObserver(cy,cw);})})];}));}));}));}));}));}));},styles:function(){return bL.ofArray([Y.style1("grid-template-columns",this.style(this.cols,Z.map(function(cs){return cs[0];},this.widthHeight))),Y.style1("grid-template-rows",this.style(this.rows,Z.map(function(cs){return cs[1];},this.widthHeight)))]);},style:function(cs,ct){var cu,cv,cw,cx;function cy(cB,cC){return function(cD){return cD.$==2?[Z.map2(function(cE){return function(cF){return cE+cF;};},cD.$0.get_GetValue(),cB),cC]:cD.$==1?cD.$0.$==1?[cB,Z.map2(function(cE){return function(cF){return cE+cF;};},cD.$0.$0,cC)]:[Z.map2(function(cE){return function(cF){return cE+cF;};},cD.$0.$0,cB),cC]:[cB,cC];};}function cz(cB){return Z.map2(function(cC){return function(cD){var cE,cF,cG;cE=(cF=cC*cD,(cG=0,bU.Compare(cG,cF)===1?cG:cF));return(function(cH){return function(cI){return cH(cI.toFixed(6)+"%");};}(a.id))(cE);};},cw,cB);}function cA(cB){return Z.map(function(cC){var cD,cE;cD=(cE=0,bU.Compare(cE,cC)===1?cE:cC);return(function(cF){return function(cG){return cF(cG.toFixed(6)+"px");};}(a.id))(cD);},cB);}cu=this;return bT.length(cs)===0?new Z({$:0,$0:"100%"}):(cv=bN.fold(function(cB,cC){return(function(cD){return cy(cD[0],cD[1]);}(cB))(cC);},[new Z({$:0,$0:0}),new Z({$:0,$0:0})],cs),(cw=Z.map2(function(cB){return function(cC){return(cC-cu.padding*2-cu.gap*(bT.length(cs)-1)-cB)/(cC-cu.padding*2);};},cv[1],ct),(cx=Z.map(function(cB){return 100-cB;},cv[0]),Z.map(function(cB){return bM.concat(" ",cB);},bN.foldBack(function(cB,cC){function cD(cE,cF){return new bL.T({$:1,$0:cF,$1:cE});}return Z.map2(function(cE){return function(cF){return cD(cE,cF);};},cC,cB.$==2?cz(cB.$0.get_GetValue()):cB.$==1?cB.$0.$==1?cA(cB.$0.$0):cz(cB.$0.$0):cz(cx));},cs,new Z({$:0,$0:bL.T.Empty}))))));},Children:function(cs){return this.changeSplitter(function(ct){return ct.Children(cs);});},Min:function(cs){return this.changeSplitter(function(ct){return ct.Min(cs);});},Max:function(cs){return this.changeSplitter(function(ct){return ct.Max(cs);});},get_Before:function(){return this.changeSplitter(function(cs){return cs.get_Before();});},changeSplitter:function(cs){var ct,cu;ct=this;cu=this.lastSplitter;cu==null?void 0:(function(cv,cw){var cx,cy;if(cw){cx=bT.get(ct.cols,cv);cx.$==2?bT.set(ct.cols,cv,{$:2,$0:cs(cx.$0)}):void 0;}else{cy=bT.get(ct.rows,cv);cy.$==2?bT.set(ct.rows,cv,{$:2,$0:cs(cy.$0)}):void 0;}}).apply(null,cu.$0);return this;},Gap:function(cs){return be.New(this.padding,cs,this.content,this.cols,this.rows,this.widthHeight,this.lastSplitter);},Padding:function(cs){return be.New(cs,this.gap,this.content,this.cols,this.rows,this.widthHeight,this.lastSplitter);},Content:function(cs){return be.New(this.padding,this.gap,this.content.concat([[null,cs]]),this.cols,this.rows,this.widthHeight,this.lastSplitter);},Content$1:function(cs,ct){return be.New(this.padding,this.gap,this.content.concat([[{$:1,$0:cs},ct]]),this.cols,this.rows,this.widthHeight,this.lastSplitter);},RowAuto:function(cs){return be.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:0,$0:bc.New$1(cs).Horizontal()}]),this.widthHeight,this.lastSplitter);},RowVariable:function(cs){return this.NewSplitter(cs,false);},RowVariable$1:function(cs){return be.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:2,$0:cs}]),this.widthHeight,this.lastSplitter);},RowFixed:function(cs){return be.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:1,$0:{$:0,$0:Z.fixit(cs)}}]),this.widthHeight,this.lastSplitter);},RowFixedPx:function(cs){return be.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:1,$0:{$:1,$0:Z.fixit(cs)}}]),this.widthHeight,this.lastSplitter);},ColAuto:function(cs){return be.New(this.padding,this.gap,this.content,this.cols.concat([{$:0,$0:bc.New$1(cs)}]),this.rows,this.widthHeight,this.lastSplitter);},ColVariable:function(cs){return this.NewSplitter(cs,true);},ColVariable$1:function(cs){return be.New(this.padding,this.gap,this.content,this.cols.concat([{$:2,$0:cs}]),this.rows,this.widthHeight,this.lastSplitter);},ColFixed:function(cs){return be.New(this.padding,this.gap,this.content,this.cols.concat([{$:1,$0:{$:0,$0:Z.fixit(cs)}}]),this.rows,this.widthHeight,this.lastSplitter);},ColFixedPx:function(cs){return be.New(this.padding,this.gap,this.content,this.cols.concat([{$:1,$0:{$:1,$0:Z.fixit(cs)}}]),this.rows,this.widthHeight,this.lastSplitter);},NewSplitter:function(cs,ct){var cu,cv,cw;cu=bc.New$1(cs);return ct?(cv={$:1,$0:[bT.length(this.cols),ct]},be.New(this.padding,this.gap,this.content,this.cols.concat([{$:2,$0:cu}]),this.rows,this.widthHeight,cv)):(cw={$:1,$0:[bT.length(this.rows),ct]},be.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:2,$0:cu.Horizontal()}]),this.widthHeight,cw));}},null,be);be.NewBisect=function(cs,ct,cu,cv,cw,cx){var cy,cz,cA;cy=cu?[ct.$==1?function(cB){return cB.ColFixedPx(cv);}:ct.$==2?function(cB){return cB.ColFixed(cv);}:function(cB){return cB.ColVariable(cv);},function(cB){return cB.ColAuto(50);},function(cB){return cB.Content(Y.style("grid-template-areas: 'one   two' "));}]:[ct.$==1?function(cB){return cB.RowFixedPx(cv);}:ct.$==2?function(cB){return cB.RowFixed(cv);}:function(cB){return cB.RowVariable(cv);},function(cB){return cB.RowAuto(50);},function(cB){return cB.Content(Y.style("grid-template-areas: 'one' 'two' "));}];cz=cy[0];cA=cy[1];return(cs?function(cB){return cA(cz(cB));}:function(cB){return cz(cA(cB));})(cy[2](be.get_New().Content$1("one",cw).Content$1("two",cx).Padding(0)));};be.get_New=function(){return be.New(9,9,[],[],[],b_.Create$1([1000,100]),null);};be.New=function(cs,ct,cu,cv,cw,cx,cy){return new be({padding:cs,gap:ct,content:cu,cols:cv,rows:cw,widthHeight:cx,lastSplitter:cy});};bf=_2.TabStrip=bI.Class({get_Render:function(){var cs,ct,cu,cv;cs=this;ct=Y.bindHElem(function(cw){return Y.div(bL.ofSeq(bN.delay(function(){return bN.append([Y["class"]((((bI.Curried3(function(cx,cy,cz){return cx("tab-strip "+bK.toSafe(cy)+" "+bK.toSafe(cz));}))(a.id))(cs.top?"top":"bottom"))(cs.horizontal?"horizontal":"vertical"))],bN.delay(function(){return bN.collect(function(cx){var cy;cy=cx[0];return[_5.get_New().Content(Y.div([Y.htmlText(cx[1][1][0]),Y["class"](Z.map(function(cz){return"tab"+(cz===cy?" selected":"");},cs.selected)),Y.draggable("true"),new _1({$:7,$0:b8.Handler("dragover",function(){return function(cz){return cz.preventDefault();};})}),new _1({$:7,$0:b8.Handler("drag",function(){return function(){(_2.draggedTab())[0]={$:1,$0:[cs,cy]};};})}),new _1({$:7,$0:b8.Handler("drop",function(){return function(cz){cz.preventDefault();cz.stopPropagation();return cs.reorder(cy);};})}),new _1({$:7,$0:b8.Handler("click",function(){return function(){return cs.selected.set_RVal(cy);};})})]))];},bN.indexed(cw));}));})));},this.tabs);Z.sink((cu=this.id,function(cw){_2.setSelectedPanel(cu,cw);}),this.get_Selected());cv=Y.bindHElem(function(cw){return Y.div(bL.ofSeq(bN.delay(function(){return bN.append([Y["class"]("tab-children")],bN.delay(function(){return bN.append([Y.Id(_2.uid2s(cs.id))],bN.delay(function(){function cx(cy,cz){return cz[1].AddChildren([Y.style(Z.map(function(cA){return bN.contains(cy,bN.map(function(cB){return cB[1];},cd.ToSeq(cA)))?"":"display : none";},_2.selectedPanels())),Y.Id(_2.uid2s(cy))]);}return bN.map(function(cy){return cx(cy[0],cy[1]);},cw);}));}));})));},this.tabs);return Y.div([Y["class"]("tab-panel"),this.top?ct:_1.HtmlEmpty,Y.div([cv,Y["class"]("tab-content")]),!this.top?ct:_1.HtmlEmpty,new _1({$:7,$0:b8.Handler("dragover",function(){return function(cw){return cw.preventDefault();};})}),new _1({$:7,$0:b8.Handler("drop",function(){return function(cw){cw.preventDefault();return cs.reorder(bT.length(cs.tabs.RVal()));};})}),Y.css("\n    \n    .tab-panel {\n     overflow  : hidden   ;\n     display   : flex     ;\n     flex-flow : column   ;\n     background: lightgray;\n    }\n    .tab-content {\n     flex      : 1 1     ;\n     overflow  : auto    ;\n     position  : relative;\n    }\n    .tab-children {\n     height    : 100%    ;\n     width     : 100%    ;\n     position  : absolute;\n     display   : grid    ;\n    }\n    .tab-strip {\n     padding   : 0pt     ;\n     flex      : 0 0     ;\n    }\n    .tab {\n     border     : 0.2pt solid transparent;\n     padding    : 0pt 4pt;\n     display    : inline-block;\n     font-family: sans-serif;\n     font-weight: 200;\n     font-size  : small;\n     color      : #666;\n     cursor     : pointer;\n    }\n    .top>.tab {\n     border-radius: 2pt 2pt 0pt 0pt;\n     border-bottom-width: 0pt;\n     vertical-align: bottom;\n    }\n    .bottom>.tab {\n     border-top-width: 0pt;\n     border-radius: 0pt 0pt 2pt 2pt;\n     vertical-align: top;\n    }\n    .horizontal>.tab:not(:first-child) {\n     border-left-width: 0pt;\n    }\n    .tab.hovering {\n     background: red;\n    }\n    .tab.selected {\n     background: white;\n     border-left-width: 0.2pt;\n     color: black;\n     font-weight: 500;\n     border-color: black;\n    }\n    .horizontal>.tab.selected {\n     border-left-width: 0.2pt;\n    }\n    ")]);},Select:function(cs){var ct,cu;function cv(cw,cx){return bU.Equals(cx[0],cs)?(ct.selected.set_RVal(cw),{$:1,$0:true}):null;}ct=this;cu=bN.tryPick(function(cw){return cv(cw[0],cw[1]);},bN.indexed(this.tabs.RVal()));return cu==null?false:cu.$0;},Select$1:function(cs){var ct,cu;function cv(cw,cx){return cx[1][0]===cs?(ct.selected.set_RVal(cw),{$:1,$0:true}):null;}ct=this;cu=bN.tryPick(function(cw){return cv(cw[0],cw[1]);},bN.indexed(this.tabs.RVal()));return cu==null?false:cu.$0;},Select$2:function(cs){this.selected.set_RVal(cs);},get_Selected:function(){return Z.map2(function(cs){return function(ct){var cu;cu=bN.tryItem(ct,cs);return cu==null?null:{$:1,$0:cu.$0[0]};};},this.tabs,this.selected);},get_Vertical:function(){return bf.New(this.selected,this.tabs,this.top,false,this.id);},get_Horizontal:function(){return bf.New(this.selected,this.tabs,this.top,true,this.id);},SetTop:function(cs){return bf.New(this.selected,this.tabs,cs,this.horizontal,this.id);},get_Bottom:function(){return bf.New(this.selected,this.tabs,false,this.horizontal,this.id);},get_Top:function(){return bf.New(this.selected,this.tabs,true,this.horizontal,this.id);},reorder:function(cs){var ct,cu,cv;cv=(_2.draggedTab())[0];if(cv!=null&&cv.$==1){if(!bU.Equals(cv.$0[0].id,this.id))this.moveTab(cv.$0[0],cv.$0[1],cs);else if(cv!=null&&cv.$==1){ct=cv.$0[1];{this.tabs.set_RVal(_2.reorderArray(this.tabs.RVal(),ct,cs));cu=this.selected.RVal();this.selected.set_RVal(cu===ct?cs:cu<ct&&cu<cs||cu>ct&&cu>cs?cu:cu<ct?cu+1:cu-1);}}else throw new ce.New("Compiled\\FSharpStation2\\FSharpStation.fs",3087,18);}else void 0;},moveTab:function(cs,ct,cu){var cv,cw,cx,cy;cv=this.tabs.RVal();cw=cs.tabs.RVal();cx=bT.collect(a.id,[cf.array(cv,{$:1,$0:0},{$:1,$0:cu-1}),[bT.get(cw,ct)],cf.array(cv,{$:1,$0:cu},{$:1,$0:bT.length(cv)-1})]);cy=bT.collect(a.id,[cf.array(cw,{$:1,$0:0},{$:1,$0:ct-1}),cf.array(cw,{$:1,$0:ct+1},{$:1,$0:bT.length(cw)-1})]);cs.tabs.set_RVal(cy);this.tabs.set_RVal(cx);this.selected.set_RVal(cu);cs.selected.RVal()>=bT.length(cy)?cs.selected.set_RVal(0):void 0;_2.RaiseTabMoved(cs,this);}},null,bf);bf.New$1=function(cs){return bf.New$2(b_.Create$1(bT.ofSeq(bN.map(function(ct){return[b1.NewGuid(),ct];},cs))));};bf.New$2=function(cs){return bf.New(b_.Create$1(0),cs,false,true,b1.NewGuid());};bf.New=function(cs,ct,cu,cv,cw){return new bf({selected:cs,tabs:ct,top:cu,horizontal:cv,id:cw});};bg=_2.MenuEntry=bI.Class({get_MenuNode:function(){return new bh({$:1,$0:this});},SubMenu:function(cs){return bg.New(this.text,this.ref,this.active,this.disabled,{$:1,$0:bi.New2(cs).get_DropDown()},this.toolTip,this.target,this.divider,this.onClick);},SubMenu$1:function(cs){return bg.New(this.text,this.ref,this.active,this.disabled,{$:1,$0:bi.New$1(cs).get_DropDown()},this.toolTip,this.target,this.divider,this.onClick);},Disabled:function(cs){return bg.New(this.text,this.ref,this.active,Z.fixit(cs),this.subMenu,this.toolTip,this.target,this.divider,this.onClick);},OnClick:function(cs){return bg.New(this.text,this.ref,this.active,this.disabled,this.subMenu,this.toolTip,this.target,this.divider,{$:1,$0:cs});},get_Divider:function(){return bg.New(this.text,this.ref,this.active,this.disabled,this.subMenu,this.toolTip,this.target,true,this.onClick);},Target:function(cs){return bg.New(this.text,this.ref,this.active,this.disabled,this.subMenu,this.toolTip,{$:1,$0:cs},this.divider,this.onClick);},get_Render:function(){var cs,ct,cu,cv,cw,cx,cy,cz,cA;return(this.divider?function(cB){return Y.addClass("divider",cB);}:a.id)((cs=(ct=(cu=(cv=_2.entryTxt(this.text,(cw=this.target,cw==null?"":cw.$0),this.ref),(Y.addClassIf("active",this.active))(cv)),(Y.addClassIf("disabled",this.disabled))(cu)),(cx=this.subMenu,(cx!=null&&cx.$==1?(cy=bL.ofArray([Y["class"]("dropdown"),cx.$0.get_Render()]),function(cB){return Y.addChildren(cy,cB);}):a.id)(ct))),(cz=this.onClick,(cz!=null&&cz.$==1?(cA=bL.ofArray([new _1({$:7,$0:b9.Handler("click",cz.$0)}),Y.style("cursor : pointer")]),function(cB){return Y.addChildren(cA,cB);}):a.id)(cs))));}},null,bg);bg.New$1=function(cs,ct){var cu;cu=bg.New$2(cs);return bg.New(cu.text,Z.map(function(cv){return{$:1,$0:cv};},ct),cu.active,cu.disabled,cu.subMenu,cu.toolTip,cu.target,cu.divider,cu.onClick);};bg.New$2=function(cs){return bg.New(Z.fixit(cs),new Z({$:0,$0:null}),Z.fixit(false),Z.fixit(false),null,null,null,false,null);};bg.New=function(cs,ct,cu,cv,cw,cx,cy,cz,cA){return new bg({text:cs,ref:ct,active:cu,disabled:cv,subMenu:cw,toolTip:cx,target:cy,divider:cz,onClick:cA});};bh=_2.MenuNode=bI.Class({get_Render:function(){return this.$==1?this.$0.get_Render():this.$0;}},null,bh);bi=_2.Menu=bI.Class({get_Render:function(){var cs;cs=this;return(this.dropdown?_2.dropdown:_2.nav)(bL.ofSeq(bN.delay(function(){return bN.map(function(ct){return ct.get_Render();},cs.entries);})));},get_DropDown:function(){return bi.New(this.entries,true);}},null,bi);bi.New2=function(cs){return bi.New$1(bN.map(function(ct){return new bh({$:1,$0:ct});},cs));};bi.New$1=function(cs){return bi.New(cs,false);};bi.New=function(cs,ct){return new bi({entries:cs,dropdown:ct});};bj=_2.Action=bI.Class({get_Button:function(){var cs,ct,cu;function cv(cw,cx){return null;}cs=(ct=(cu=this.onClick,cu==null?null:{$:1,$0:cu.$0(this)}),ct==null?function(cw){return function(cx){return cv(cw,cx);};}:ct.$0);return _3.New(Z.map(function(cw){return cw?"btn btn-primary":"btn";},this.highlight),Z.fixit("button"),Z.fixit(""),this.text,cs,this.disabled,"");},get_MenuEntry:function(){var cs;return bg.New(this.text,new Z({$:0,$0:null}),this.highlight,this.disabled,null,this.toolTip,null,false,(cs=this.onClick,cs==null?null:{$:1,$0:cs.$0(this)}));},Highlight:function(cs){return bj.New(this.text,Z.fixit(cs),this.disabled,this.toolTip,this.onClick,this.parms);},Disabled:function(cs){return bj.New(this.text,this.highlight,Z.fixit(cs),this.toolTip,this.onClick,this.parms);},OnClick2:function(cs){return bj.New(this.text,this.highlight,this.disabled,this.toolTip,{$:1,$0:cs},this.parms);},OnClick:function(cs){return bj.New(this.text,this.highlight,this.disabled,this.toolTip,{$:1,$0:function(){return cs;}},this.parms);},Parms:function(cs){return bj.New(this.text,this.highlight,this.disabled,this.toolTip,this.onClick,{$:1,$0:cs});},Text:function(cs){return bj.New(Z.fixit(cs),this.highlight,Z.fixit(false),this.toolTip,this.onClick,this.parms);}},null,bj);bj.New$1=function(cs){return bj.New(Z.fixit(cs),Z.fixit(false),Z.fixit(false),null,null,null);};bj.New=function(cs,ct,cu,cv,cw,cx){return new bj({text:cs,highlight:ct,disabled:cu,toolTip:cv,onClick:cw,parms:cx});};bk=_2.GuiPart=bI.Class({GetHtmlNode:function(cs,ct){var cu,cv,cw;return this.$==1?this.$0:this.$==2?this.$0.get_Button().get_Render():this.$==3?be.NewBisect(this.$0,this.$1,this.$2,this.$3,cs.GetNode(this.$4),cs.GetNode(this.$5)).Min(this.$6).Max(this.$7).get_Render():this.$==4?(cu=bf.New$1(bN.map(function(cx){return[cx,cs.GetNode(cx)];},this.$1)).SetTop(this.$0),(_2.addValue(ct,cu,cs.tabStrips),cu.get_Render())):this.$==5?(cv=this.$1,cs.parts.ContainsKey(cv)?(cw=(cs.parts.get_Item(cv))[0].RVal(),cw[1].$==2?cw[1].$0.Text(this.$0).Parms(bT.map(a.id,this.$2)).get_Button().get_Render():Y.div([Y.htmlText((function(cx){return function(cy){return cx("GuiPart "+bK.toSafe(cy)+" is not a GuiAction");};}(a.id))(cv))])):Y.div([Y.htmlText((function(cx){return function(cy){return cx("GuiAction "+bK.toSafe(cy)+" not found");};}(a.id))(cv))])):_1.HtmlEmpty;}},null,bk);bl.New=function(cs,ct,cu,cv,cw,cx){return{HtmlElementF:cs,HtmlAttributeF:ct,HtmlAttributeOF:cu,HtmlTextF:cv,HtmlEmptyF:cw,HtmlGuiPart:cx};};bm.New=function(cs,ct,cu,cv,cw){return{GuiRoot:cs,GuiTabStrip:ct,GuiSplit:cu,GuiNode:cv,GuiCall:cw};};bn.get_New=function(){return{$:0,$0:b1.NewGuid()};};bo=_2.Layout=bI.Class({SelectTab:function(cs){bN.iter(function(ct){ct.Select$1(cs);},this.tabStrips.get_Values());},SetLayoutJson:function(cs,ct){var cu,cx;function cv(cB){var cC,cD,cE,cF,cG,cH;cC=_2.PHtmlElementF(cB);return cC!=null&&cC.$==1?{$:1,$0:new _1({$:0,$0:cC.$0[0],$1:bN.choose(cv,cC.$0[1])})}:(cD=_2.PHtmlAttributeF(cB),cD!=null&&cD.$==1?{$:1,$0:new _1({$:1,$0:cD.$0[0],$1:new Z({$:0,$0:cD.$0[1]})})}:(cE=_2.PHtmlAttributeOF(cB),cE!=null&&cE.$==1?{$:1,$0:new _1({$:2,$0:cE.$0[0],$1:new Z({$:0,$0:cE.$0[1]})})}:(cF=_2.PHtmlTextF(cB),cF!=null&&cF.$==1?{$:1,$0:new _1({$:3,$0:new Z({$:0,$0:cF.$0})})}:(cG=_2.PHtmlEmptyF(cB),cG!=null&&cG.$==1)?{$:1,$0:_1.HtmlEmpty}:(cH=_2.PHtmlGuiPart(cB),cH!=null&&cH.$==1?{$:1,$0:cx.GetNode(cH.$0)}:null))));}function cw(cB){var cC,cD,cE,cF,cG,cH,cI;cC=_2.PGuiNode(cB);return cC!=null&&cC.$==1?{$:1,$0:new bk({$:1,$0:(cD=cv(cC.$0),cD==null?_1.HtmlEmpty:cD.$0)})}:(cE=_2.PGuiRoot(cB),cE!=null&&cE.$==1?{$:1,$0:new bk({$:0,$0:cE.$0})}:(cF=_2.PGuiTabStrip(cB),cF!=null&&cF.$==1?{$:1,$0:(cG=cF.$0,new bk({$:4,$0:cG[0],$1:cG[1]}))}:(cH=_2.PGuiSplit(cB),cH!=null&&cH.$==1?{$:1,$0:new bk({$:3,$0:cH.$0[0],$1:_2.toSect(cH.$0[1]),$2:cH.$0[2],$3:cH.$0[3],$4:cH.$0[4],$5:cH.$0[5],$6:cH.$0[6],$7:cH.$0[7]})}:(cI=_2.PGuiCall(cB),cI!=null&&cI.$==1?{$:1,$0:new bk({$:5,$0:cI.$0[0],$1:cI.$0[1],$2:cI.$0[2]})}:null))));}cx=this;try{function cy(cB,cC,cD){var cE;if(cx.parts.ContainsKey(cB)){cE=(cx.parts.get_Item(cB))[0];!bU.Equals((cE.RVal())[0],cC)?cE.set_RVal([cC,cD]):void 0;}else cx.AddNode(cB,cC,cD);}function cz(cB,cC){return bN.last(cC);}function cA(cB,cC){var cD;cD=cw(cC);return cD==null?null:{$:1,$0:[cB,{$:1,$0:cC},cD.$0]};}cu=bT.iter(function(cB){return cy(cB[0],cB[1],cB[2]);},bT.map(function(cB){return cz(cB[0],cB[1]);},bT.groupBy(function(cB){return a.id(cB[0],cB[1],cB[2]);},cs.concat(ct===""?[]:bT.choose(function(cB){return cA(cB[0],cB[1]);},((ch.DecodeArray(ch.DecodeTuple([ch.Id(),bD.j$7])))())(bX.parse(ct)))))));}catch(cB){cu=(function(cC){return function(cD){return cC("Error: "+bK.prettyPrint(cD));};}(function(cC){bP.log(cC);}))(cB);}},get_Render:function(){var cs;function ct(cv){return cv[0];}function cu(cv){var cw;cw=cv.RVal();return cw[1].$==0?{$:1,$0:cw[1].$0}:null;}return this.GetNode((cs=bN.tryPick(function(cv){return cu(ct(cv));},this.parts.get_Values()),cs==null?"main":cs.$0));},GetNode:function(cs){var ct;ct=null;return this.parts.TryGetValue(cs,{get:function(){return ct;},set:function(cu){ct=cu;}})?ct[1]:this.AddNode(cs,bn.get_New(),new bk({$:1,$0:Y.div([Y.htmlText((function(cu){return function(cv){return cu("GuiPart "+bK.toSafe(cv)+" not found");};}(a.id))(cs))])}));},AddNode:function(cs,ct,cu){var cv,cw,cx;function cy(cz,cA){return cA.GetHtmlNode(cv,cs);}cv=this;cw=b_.Create$1([ct,cu]);cx=new _1({$:5,$0:Z.map(function(cz){return cy(cz[0],cz[1]);},cw)});this.parts.Add(cs,[cw,cx]);return cx;}},null,bo);bo.New$1=function(cs){var ct;function cu(cv,cw,cx){ct.AddNode(cv,cw,cx);}ct=bo.New(new bR.New$5(),new bR.New$5());bN.iter(function(cv){return cu(cv[0],cv[1],cv[2]);},cs);return ct;};bo.AddGuids=function(cs){function ct(cu,cv){return[cu,bn.get_New(),cv];}return bT.ofSeq(bN.map(function(cu){return ct(cu[0],cu[1]);},cs));};bo.New=function(cs,ct){return new bo({parts:cs,tabStrips:ct});};_2.varVerSplitter=function(cs,ct,cu,cv,cw){return new bk({$:3,$0:true,$1:bd.StVariable,$2:true,$3:cs,$4:ct,$5:cu,$6:cv,$7:cw});};_2.varHorSplitter=function(cs,ct,cu,cv,cw){return new bk({$:3,$0:true,$1:bd.StVariable,$2:false,$3:cs,$4:ct,$5:cu,$6:cv,$7:cw});};_2.fixedVerSplitter=function(cs,ct,cu,cv){return new bk({$:3,$0:cs,$1:bd.StFixedPx,$2:true,$3:ct,$4:cu,$5:cv,$6:5,$7:95});};_2.fixedHorSplitter=function(cs,ct,cu,cv){return new bk({$:3,$0:cs,$1:bd.StFixedPx,$2:false,$3:ct,$4:cu,$5:cv,$6:5,$7:95});};_2.toSect=function(cs){return cs==="StVariable"?bd.StVariable:cs==="StFixedPx"?bd.StFixedPx:bd.StFixedPerc;};_2.PGuiCall=function(cs){return cs.GuiCall;};_2.PGuiNode=function(cs){return cs.GuiNode;};_2.PGuiRoot=function(cs){return cs.GuiRoot;};_2.PGuiSplit=function(cs){return cs.GuiSplit;};_2.PGuiTabStrip=function(cs){return cs.GuiTabStrip;};_2.PHtmlGuiPart=function(cs){return cs.HtmlGuiPart;};_2.PHtmlEmptyF=function(cs){return cs.HtmlEmptyF;};_2.PHtmlTextF=function(cs){return cs.HtmlTextF;};_2.PHtmlAttributeOF=function(cs){return cs.HtmlAttributeOF;};_2.PHtmlAttributeF=function(cs){return cs.HtmlAttributeF;};_2.PHtmlElementF=function(cs){return cs.HtmlElementF;};_2.addValue=function(cs,ct,cu){cu.Remove(cs);cu.Add(cs,ct);};_2.processLayoutSteps=function(cs,ct){var cu,cv;cu=(cv=bN.tryHead(cs),cv==null?null:{$:1,$0:_2.processLayoutSteps(bN.skip(1,cs),ct.Add(cv.$0[0],cv.$0[1]))});return cu==null?ct:cu.$0;};_2.Do2=function(cs,ct,cu,cv,cw){return cs(cu,ct);};_2.Do=function(cs,ct,cu,cv){return cs(ct);};_2.navbar=function(cs,ct,cu){return Y.div([Y["class"]("navbar navbar-default"),Y.div([Y["class"]("container-fluid"),Y.div([Y["class"]("navbar-header"),Y.div([Y["class"]("navbar-brand"),cs])]),Y.div([Y["class"]("navbar-collapse collapse"),ct,Y.addClass("navbar-right",cu)])])]);};_2.dropdown=function(cs){return _2.entries(cs,"dropdown-menu");};_2.nav=function(cs){return _2.entries(cs,"nav navbar-nav");};_2.entries=function(cs,ct){return Y.addClass(ct,Y.ul(cs));};_2.entryTxt=function(cs,ct,cu){return _2.menuEntry(_2.refText(cs,ct,cu));};_2.refText=function(cs,ct,cu){return Y.bindHElem(function(cv){return cv===""?_1.HtmlEmpty:_2.refA(Y.htmlText(cv),cv,cu);},cs);};_2.refA=function(cs,ct,cu){return Y.a([cs,Y.hrefO(cu),Y.target(ct)]);};_2.menuEntry=function(cs){return Y.li([cs]);};_2.RaiseTabMoved=function(cs,ct){var cu;cu=_2.TabMoved();cu==null?void 0:cu.$0([cs,ct]);};_2.TabMoved=function(){bC.$cctor();return bC.TabMoved;};_2.set_TabMoved=function(cs){bC.$cctor();bC.TabMoved=cs;};_2.setSelectedPanel=function(cs,ct){b_.Set(_2.selectedPanels(),ct==null?_2.selectedPanels().c.Remove(cs):_2.selectedPanels().c.Add(cs,ct.$0));};_2.selectedPanels=function(){bC.$cctor();return bC.selectedPanels;};_2.uid2s=function(cs){return"X"+bM.Replace(a.String(cs),"-","");};_2.draggedTab=function(){bC.$cctor();return bC.draggedTab;};_2.reorderArray=function(cs,ct,cu){return bT.collect(a.id,cu<ct?[cf.array(cs,{$:1,$0:0},{$:1,$0:cu-1}),[bT.get(cs,ct)],cf.array(cs,{$:1,$0:cu},{$:1,$0:ct-1}),cf.array(cs,{$:1,$0:ct+1},{$:1,$0:bT.length(cs)-1})]:[cf.array(cs,{$:1,$0:0},{$:1,$0:ct-1}),cf.array(cs,{$:1,$0:ct+1},{$:1,$0:cu}),[bT.get(cs,ct)],cf.array(cs,{$:1,$0:cu+1},{$:1,$0:bT.length(cs)-1})]);};_2.reorderList=function(cs,ct,cu){return cu<ct?bL.append(cs.GetSlice({$:1,$0:0},{$:1,$0:cu-1}),bL.append(bL.ofArray([cs.get_Item(ct)]),bL.append(cs.GetSlice({$:1,$0:cu},{$:1,$0:ct-1}),cs.GetSlice({$:1,$0:ct+1},{$:1,$0:cs.get_Length()-1})))):bL.append(cs.GetSlice({$:1,$0:0},{$:1,$0:ct-1}),bL.append(cs.GetSlice({$:1,$0:ct+1},{$:1,$0:cu}),bL.append(bL.ofArray([cs.get_Item(ct)]),cs.GetSlice({$:1,$0:cu+1},{$:1,$0:cs.get_Length()-1}))));};_2.addResizeObserver=function(cs,ct){var cu,cv,cw,cx;try{cu=!(!a.ResizeObserver);}catch(cy){cu=false;}if(cu){cv=new a.ResizeObserver(cs);_2.set_observers(new bL.T({$:1,$0:cv,$1:_2.observers()}));cv.observe(ct);}else{cw=_2.dimsChanged(ct);bO.Start((cx=null,bO.Delay(function(){return bO.While(function(){return ct.isConnected;},bO.Delay(function(){return bO.Bind(bO.Sleep(110),function(){return cw()?(cs(),bO.Zero()):bO.Zero();});}));})),null);}};_2.dimsChanged=function(cs){var ct;ct=cs.getBoundingClientRect();return function(){var cu;cu=cs.getBoundingClientRect();return bU.Equals(_2.domRect2Tuple(ct),_2.domRect2Tuple(cu))?false:(ct=cu,true);};};_2.domRect2Tuple=function(cs){return[cs.top,cs.left,cs.width,cs.height];};_2.observers=function(){bC.$cctor();return bC.observers;};_2.set_observers=function(cs){bC.$cctor();bC.observers=cs;};_2.setLint=function(cs,ct){cs.setOption("lint",{async:1,getAnnotations:bI.CreateFuncWithArgs(ct),container:Y.findRootElement(cs.getWrapperElement())});};_2.showHints=function(cs,ct,cu,cv){var cw;cw=ba.New(bI.CreateFuncWithArgs(ct),cu,Y.findRootElement(cs.getWrapperElement()));cw.hint.async=1;cs.showHint(cw);};_2.cmPos=function(cs,ct){return _7.New(cs,ct);};_2.codeMirrorIncludes=function(){bC.$cctor();return bC.codeMirrorIncludes;};_2.hoverable=function(cs){return _5.get_New().Content(cs);};bq=bp.RunNode=bI.Class({createBaseNode:function(){var cs;cs=a.document.createElement("div");cs.setAttribute("id",this.nodeName);a.document.body.appendChild(cs);return cs;},createNode:function(){var cs;cs=a.document.createElement("div");cs.style="height: 100%; width: 100%;";return cs;},RunHtml:function(cs){this.RunDoc((Y.renderDoc())(cs));},RunDoc:function(cs){b6.Run(this.get_RunNode(),cs);},get_AddBootstrap:function(){var cs;cs=a.document.createElement("div");cs.innerHTML="<script src='http://code.jquery.com/jquery-3.1.1.min.js' type='text/javascript' charset='UTF-8'></script>\n                <script src='http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js' type='text/javascript' charset='UTF-8'></script>\n                <link type='text/css' rel='stylesheet' href='http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css'>\n                <link type='text/css' rel='stylesheet' href='/EPFileX/css/main.css'>\n               ";this.runNode.parentElement.appendChild(cs);return this;},get_RunNode:function(){return this.runNode;}},bJ.Obj,bq);bq.New=bI.Ctor(function(cs){bq.New$1.call(this,"TestNode",cs);},bq);bq.New$1=bI.Ctor(function(cs,ct){var cu,cv,cw,cx,cy;this.nodeName=cs;cu=(cv=a.document.getElementById(this.nodeName),bU.Equals(cv,null)?this.createBaseNode():cv);this.runNode=(cw=cu.shadowRoot,bU.Equals(cw,null)?(cx=this.createNode(),(cu.attachShadow({mode:"open"}).appendChild(cx),cy=this.createNode(),cx.appendChild(cy),cy)):cw.firstChild);ct==null||ct.$0?this.runNode.innerHTML="":void 0;},bq);bp.completeJS=function(cs){return"\n          CIPHERSpaceLoadFileGlobalFileRef = null;\n          CIPHERSpaceLoadFile = function (filename, callback) {\n              if (filename.slice(-3) == \".js\" || filename.slice(-4) == \".fsx\" || filename.slice(-3) == \".fs\") { //if filename is a external JavaScript file\n                  var fileRef = null;\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\n                  if (!pre) {\n                      fileRef = document.createElement('script')\n                      fileRef.setAttribute(\"type\", \"text/javascript\")\n                      fileRef.setAttribute(\"src\", filename)\n                  }\n                  else callback();\n              }\n              else if (filename.slice(-4) == \".css\") { //if filename is an external CSS file\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\n                  if (!pre) {\n                      fileRef = document.createElement(\"link\")\n                      fileRef.setAttribute(\"rel\", \"stylesheet\")\n                      fileRef.setAttribute(\"type\", \"text/css\")\n                      fileRef.setAttribute(\"href\", filename)\n                  }\n                  else callback();\n              }\n              else if (filename.slice(-5) == \".html\") { //if filename is an external HTML file\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\n                  if (!pre) {\n                      fileRef = document.createElement(\"link\")\n                      fileRef.setAttribute(\"rel\", \"import\")\n                      fileRef.setAttribute(\"type\", \"text/html\")\n                      fileRef.setAttribute(\"href\", filename)\n                  }\n                  else callback();\n              }\n              if (!!fileRef) {\n                  CIPHERSpaceLoadFileGlobalFileRef = fileRef;\n      \u0009\u0009\u0009fileRef.onload = function () { fileRef.onload = null;  callback(); }\n                  document.getElementsByTagName(\"head\")[0].appendChild(fileRef);\n              }\n          }\n          CIPHERSpaceLoadFiles = function (files, callback) {\n              var newCallback = callback\n              if (!!CIPHERSpaceLoadFileGlobalFileRef && !!(CIPHERSpaceLoadFileGlobalFileRef.onload)) {\n                  var oldCallback = CIPHERSpaceLoadFileGlobalFileRef.onload;\n                  CIPHERSpaceLoadFileGlobalFileRef.onload = null;\n                  newCallback = function () {\n                      callback();\n                      oldCallback();\n                  }\n              }\n              var i = 0;\n              loadNext = function () {\n                  if (i < files.length) {\n                      var file = files[i];\n                      i++;\n                      CIPHERSpaceLoadFile(file, loadNext);\n                  }\n                  else newCallback();\n              };\n              loadNext();\n      \u0009}\n          CIPHERSpaceLoadFiles(['https://code.jquery.com/jquery-3.1.1.min.js'], function() {}); \n      \u0009CIPHERSpaceLoadFilesDoAfter = function (callback) {\n      \u0009\u0009var newCallback = callback\n      \u0009\u0009if (!!CIPHERSpaceLoadFileGlobalFileRef) {\n      \u0009\u0009\u0009if (!!(CIPHERSpaceLoadFileGlobalFileRef.onload)) {\n      \u0009\u0009\u0009\u0009var oldCallback = CIPHERSpaceLoadFileGlobalFileRef.onload;\n      \u0009\u0009\u0009\u0009CIPHERSpaceLoadFileGlobalFileRef.onload = null;\n      \u0009\u0009\u0009\u0009newCallback = function () {\n      \u0009\u0009\u0009\u0009\u0009oldCallback();\n      \u0009\u0009\u0009\u0009\u0009callback();\n      \u0009\u0009\u0009\u0009}\n      \u0009\u0009\u0009}\n      \u0009\u0009}\n      \u0009\u0009else CIPHERSpaceLoadFileGlobalFileRef = {};\n      \u0009\u0009CIPHERSpaceLoadFileGlobalFileRef.onload = newCallback;\n      \u0009}\n      \n      CIPHERSpaceLoadFilesDoAfter(function() { \n        if (typeof IntelliFactory !=='undefined')\n          IntelliFactory.Runtime.Start();\n        for (key in window) { \n          if (key.startsWith(\"StartupCode$\")) \n            try { window[key].$cctor(); } catch (e) {} \n        } \n      })\n      \n                       "+cs;};bt.NewBrowser={$:3};bt.Tab={$:2};bt.Right={$:1};bt.Below={$:0};bu=bs.ErrCompiler=bI.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return this.$==0&&!this.$1;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return this.$==0?(function(cs){return function(ct){return cs(bK.toSafe(ct));};}(a.id))(this.$0):(function(cs){return function(ct){return cs(bF.p$2(ct));};}(a.id))(this);}},null,bu);bu["Could not open new browser, Popup blocker may be active"]=new bu({$:2});bu["Snippet Missing"]=new bu({$:1});bv.New=function(cs,ct,cu){return{F2:cs,LeftDoubleClick:ct,"Ctrl-Space":cu};};bw=bs.Property=bI.Class({setV:function(cs){this.props.set_Item(this.key,cs);this.setDirty();},getV:function(){return this.props.get_Item(this.key);},setK:function(cs){this.props.Add(cs,this.props.get_Item(this.key));this.props.Remove(this.key);this.key=cs;this.setDirty();},getK:function(){return this.key;},Remove:function(){this.props.Remove(this.key);this.setDirty();},get_SetV:function(){var cs;cs=this;return function(ct){cs.setV(ct);};},get_GetV:function(){var cs;cs=this;return function(){return cs.getV();};},get_SetK:function(){var cs;cs=this;return function(ct){cs.setK(ct);};},get_GetK:function(){var cs;cs=this;return function(){return cs.getK();};},get_ValueVar:function(){return new bx.New(this);},get_KeyVar:function(){return this;},RView:function(){return b5.Const(this.getK());},RUpdM:function(cs){var ct;ct=cs(this.getK());ct==null?void 0:this.setK(ct.$0);},RUpd:function(cs){this.setK(cs(this.getK()));},RVal:function(){return this.getK();},RGet:function(){return this.getK();},set_RVal:function(cs){this.setK(cs);},RSet:function(cs){this.setK(cs);},RId:function(){return"?";}},bJ.Obj,bw);bw.New=bI.Ctor(function(cs,ct,cu){this.setDirty=cs;this.props=ct;this.key=cu;},bw);bx=bs.PropValue=bI.Class({RView:function(){return b5.Const(this.get());},RUpdM:function(cs){var ct;ct=cs(this.get());ct==null?void 0:this.set(ct.$0);},RUpd:function(cs){this.set(cs(this.get()));},RVal:function(){return this.get();},RGet:function(){return this.get();},set_RVal:function(cs){this.set(cs);},RSet:function(cs){this.set(cs);},RId:function(){return"?";}},bJ.Obj,bx);bx.New=bI.Ctor(function(cs){this.get=cs.get_GetV();this.set=cs.get_SetV();},bx);bs["CodeSnippet.propValue"]=function(cs,ct){var cu,cv;return cs.properties.ContainsKey(ct)?{$:1,$0:cs.properties.get_Item(ct)}:(cu=(cv=cs.parent,cv==null?null:by.FetchO(cv.$0)),cu==null?null:bs["CodeSnippet.propValue"](cu.$0,ct));};by.FetchByPathO=function(cs){function ct(cv,cw){return bN.tryHead(bN.filter(function(cx){return cx.get_Name()===cw;},cv));}function cu(cv,cw){var cx,cy,cz,cA;cx=(cy=bN.tryHead(cw),cy==null?null:ct(cv,cy.$0));return bN.length(cw)<=1?cx:cx==null?null:(cz=cx.$0,(cA=bN.tail(cw),cu(bN.filter(function(cB){return bU.Equals(cB.parent,{$:1,$0:cz.id});},(bs.codeSnippets())["var"].RVal()),cA)));}return cu(bN.filter(function(cv){return cv.parent==null;},(bs.codeSnippets())["var"].RVal()),cs);};bs["CodeSnippet.IsDescendantOf"]=function(cs,ct){function cu(cv){var cw,cx,cy;cw=cv.parent;return cw!=null&&cw.$==1&&(cx=cw.$0,bU.Equals(cx,ct)||d.defaultValue(false,(cy=by.FetchO(cx),cy==null?null:{$:1,$0:cu(cy.$0)})));}return cu(cs);};bs["CodeSnippet.GetCodeFsx"]=function(cs,ct){return(bs["CodeSnippet.GetCodeAndStarts"](cs,ct))[0];};bs["CodeSnippet.GetCodeAndStarts"]=function(cs,ct){return s.CodeAndStarts(ct,bs["CodeSnippet.Predecessors"](cs));};bs["CodeSnippet.Predecessors"]=function(cs,ct){var cu;cu=bT.ofSeq(cs.UniquePredecessors(by.FetchO));return bT.ofSeq(bN.map(bs["CodeSnippet.get_PrepareSnippet"],bN.filter(function(cv){return bT.contains(cv.id,cu);},(bs.codeSnippets())["var"].RVal())));};bs["CodeSnippet.get_PrepareSnippet"]=function(cs,ct){var cu;cu=bs["CodeSnippet.get_Levels"](cs);return s.New(cs.name,bM.Replace(bM.Replace(cs.content,"##"+"FSHARPSTATION_ID"+"##",bs.fsIds()),"##"+"FSHARPSTATION_ENDPOINT"+"##",a.location.href),cs.parent,cs.predecessors,cs.id,cs.expanded,cu[0],cu[1],cs.properties);};bs["CodeSnippet.get_Levels"]=function(cs,ct){function cu(cv,cw){return function(cx){var cy,cz,cA;return d.defaultValue([cv,cw],(cy=(cz=cx.parent,cz==null?null:by.FetchO(cz.$0)),(cA=cu(cv+1,cw+(cx.properties.ContainsKey("NoIndent")?0:1)),cy==null?null:{$:1,$0:cA(cy.$0)})));};}return(function(cv){return cu(cv[0],cv[1]);}([0,0]))(cs);};by.New=function(cs,ct,cu,cv,cw,cx){var cy,cz,cA,cB,cC;cy=s.New(ct,cx,cu,cv,r.get_New(),true,0,0,new bR.New$5());cz=bs.codeSnippets().get_Length();cz===0?bs.codeSnippets().Append(cy):cs===0?(cA=bN.append([cy],(bs.codeSnippets())["var"].RVal()),bs.codeSnippets().Set(cA)):cs<cz?(cB=(cC=bT.splitAt(cs,bT.ofSeq((bs.codeSnippets())["var"].RVal())),cC[0].concat([cy].concat(cC[1]))),bs.codeSnippets().Set(cB)):bs.codeSnippets().Append(cy);return cy;};by.New$1=function(cs,ct,cu,cv,cw){return by.New(bs.codeSnippets().get_Length(),cs,ct,cu,cv,cw);};by.New$2=function(cs){return by.New$1("",null,bL.T.Empty,bL.T.Empty,cs);};by.New$3=function(cs,ct){return by.New$1("",{$:1,$0:cs},bL.T.Empty,bL.T.Empty,ct);};by.New$4=function(cs,ct,cu){return by.New$1("",{$:1,$0:cs},ct,bL.T.Empty,cu);};by.New$5=function(cs,ct){return by.New$1("",null,cs,bL.T.Empty,ct);};by.FetchL=function(cs){return b2.toList(by.FetchO(cs));};by.FetchO=function(cs){return bs.codeSnippets().TryFindByKey(cs);};by.PickIO=function(cs){function ct(cu,cv){return bU.Equals(cv.id,cs);}return bs.tryPickI(function(cu){return ct(cu[0],cu[1]);},(bs.codeSnippets())["var"].RVal());};bs.tryPickI=function(cs,ct){return bN.tryHead(bN.filter(cs,bN.indexed(ct)));};bs.fsIds=function(){bC.$cctor();return bC.fsIds;};bs.codeSnippets=function(){bC.$cctor();return bC.codeSnippets;};bA=bz.Babel=bI.Class({},bJ.Obj,bA);bA.New=bI.Ctor(function(){},bA);bB=bz.Fable=bI.Class({},bJ.Obj,bB);bB.New=bI.Ctor(function(){},bB);bz.fableTranslate=function(cs){var ct;ct=j.wrapper();return ct.Delay(function(){var cu;bz.loadReferences().f();return ct.Bind$2((cu=null,bO.Delay(function(){return bO.While(function(){return ci.getOwnPropertyNames(a.metadata).length<bT.length(bz.references());},bO.Delay(function(){return bO.Bind(bO.Sleep(200),function(){return bO.Return(null);});}));})),function(){var cv,cw,cx,cy,cz;cv=bz.getChecker().f();cw=cj.makeCompiler([["Microsoft.FSharp.Core.ExtraTopLevelOperators.PrintFormatLine","FSSGlobal.FSharpStation.FableModule.ToConsole($0)"]]);cx="stdin.fsx";cy=bX.parse(cj.convertToJson(cj.compileAst(cw,cj.parseFSharpProject(cv,cw,cx,cs),cx)));cz=ci.create(null);cz.plugins=[a.babelPlugins.transformMacroExpressions,a.babelPlugins.removeUnneededNulls,"transform-es2015-modules-amd"];cz.presets=[];cz.filename=cx;cz.babelrc=false;return ct.Return(bM.Replace(bM.Replace(ck.transformFromAst(cy,null,cz).code,"define([","require(["),"\"use strict\";","\"use strict\"; try { exports = exports || {}; } catch (err) {}"));});});};bz.ToConsole=function(cs){bP.log(cs);return cs.cont(bz.addOutMsg());};bz.addOutMsg=function(){bC.$cctor();return bC.addOutMsg;};bz.set_addOutMsg=function(cs){bC.$cctor();bC.addOutMsg=cs;};bz.getChecker=function(){bC.$cctor();return bC.getChecker;};bz.loadReferences=function(){bC.$cctor();return bC.loadReferences;};bz.references=function(){bC.$cctor();return bC.references;};br.FSharpStationClient=function(cs){var ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee;function ef(fI,fJ,fK,fL){return fJ(fL)==null?b_.Lens(ct,function(){return fI;},function(){return"";}):fK(fL);}function eg(){b_.Set(cx,null);}function eh(fI){function fJ(fL){return fL.get_Name();}function fK(fL,fM){return s.New(fM,fL.content,fL.parent,fL.predecessors,fL.id,fL.expanded,fL.level,fL.levelCode,fL.properties);}return ef("",function(fL){return bs.codeSnippets().TryFindByKey(fL);},function(fL){return bs.codeSnippets().LensInto(fJ,fK,fL);},fI);}function ei(fI){function fJ(fL){return fL.content;}function fK(fL,fM){return s.New(fL.name,fM,fL.parent,fL.predecessors,fL.id,fL.expanded,fL.level,fL.levelCode,fL.properties);}return ef("",function(fL){return bs.codeSnippets().TryFindByKey(fL);},function(fL){return bs.codeSnippets().LensInto(fJ,fK,fL);},fI);}function ej(fI){var fJ;fJ=bs["CodeSnippet.propValue"](fI,"CSS");return fJ==null?null:{$:1,$0:a.id(fJ.$0)};}function ek(fI){return d.defaultValue("",fI);}function el(fI){var fJ;fJ=bs["CodeSnippet.propValue"](fI,"CSSLink");return fJ==null?null:{$:1,$0:a.id(fJ.$0)};}function em(fI){return d.defaultValue("",fI);}function en(fI){var fJ;fJ=bs["CodeSnippet.propValue"](fI,"Mode");return fJ==null?null:{$:1,$0:a.id(fJ.$0)};}function eo(fI){return d.defaultValue("fsharp",fI);}function ep(fI){var fJ;fJ=bs["CodeSnippet.propValue"](fI,"Theme");return fJ==null?null:{$:1,$0:a.id(fJ.$0)};}function eq(fI){return d.defaultValue("",fI);}function er(fI){var fJ;fJ=bs["CodeSnippet.propValue"](fI,"Layout");return fJ==null?null:{$:1,$0:a.id(fJ.$0)};}function es(fI){return d.defaultValue("",fI);}function et(fI){var fJ,fK,fL,fM;function fN(fQ){return"0"!==fQ;}function fO(fQ){var fR;fR=bs["CodeSnippet.propValue"](fQ,fI);return fR==null?null:{$:1,$0:fN(fR.$0)};}function fP(fQ){return d.defaultValue(false,fQ);}fJ=Z.map((fK=(fL=function(fQ){return fQ==null?null:fO(fQ.$0);},function(fQ){return fL(by.FetchO(fQ));}),function(fQ){return fP(fK(fQ));}),cu);fM=[b_.Create$1(null)];b5.Sink(function(fQ){if(!bU.Equals(fM[0].c,fQ))b_.Set(fM[0],fQ);},Z.toView(fJ));return new Z({$:1,$0:fM[0]});}function eu(){da=false;b_.Set(db,true);}function ev(){c6=null;eu();}function ew(){ev();c7.ClearCache();eg();}function ex(){c7.ClearCache();b_.Set(db,false);c6=null;}function ey(fI,fJ){var fK,fL,fM;return!fJ?null:(fK=(fL=fI.RVal(),(fM=a.String(fJ),fL===null?fM:fL===""?fM:fM===null?fL:fM===""?fL:fL+"\n"+fM)),fK!==fI.RVal()?fI.set_RVal(fK):null);}function ez(fI){ey(c$,fI);}function eA(fI){ey(c_,fI);}function eB(){var fI;fI=by.FetchO(cu.c);fI==null?void 0:b_.Set(c8,bs["CodeSnippet.GetCodeFsx"](fI.$0,true));}function eC(fI,fJ){var fK,fL,fM,fN,fO,fP,fQ,fR;function fS(fT){function fU(fV,fW){return bU.Equals(fW.id,fT);}return function(fV){return bs.tryPickI(function(fW){return fU(fW[0],fW[1]);},fV);};}fK=bT.partition(function(fT){return bU.Equals(fT.id,fJ)||bs["CodeSnippet.IsDescendantOf"](fT,fJ);},bT.ofSeq((bs.codeSnippets())["var"].RVal()));fL=fK[1];fM=fK[0];fN=(fS(fJ))(fM);fO=(fS(fI))(fL);fN!=null&&fN.$==1?fO!=null&&fO.$==1?(fP=fO.$0[0],fQ=fO.$0[1],fR=bT.collect(a.id,[cf.array(fL,{$:1,$0:0},{$:1,$0:fP-1}),fM,cf.array(fL,{$:1,$0:fP},null)]),bs.codeSnippets().Set(fR),bs.codeSnippets().UpdateBy(function(fT){return{$:1,$0:s.New(fT.name,fT.content,fQ.parent,fT.predecessors,fT.id,fT.expanded,fT.level,fT.levelCode,fT.properties)};},fN.$0[1].id)):void 0:void 0;return ew();}function eD(){var fI;fI=by.PickIO(cu.c);fI==null?void 0:(function(fJ,fK){(function(fL,fM){var fN;while(true){if(fM<0)return null;else if(fL((fN=(bs.codeSnippets())["var"].RVal(),(function(fO){return function(fP){return bN.nth(fO,fP);};}(fM))(fN))))return null;else fM=fM-1;}}(function(fL){return bU.Equals(fL.parent,fK.parent)&&(bs.codeSnippets().UpdateBy(function(fM){return{$:1,$0:s.New(fM.name,fM.content,{$:1,$0:fL.id},fM.predecessors,fM.id,fM.expanded,fM.level,fM.levelCode,fM.properties)};},fK.id),true);},fJ-1));ew();}).apply(null,fI.$0);}function eE(){var fI,fJ,fK,fL,fM;fI=by.FetchO(cu.c);fI==null?void 0:(fJ=fI.$0,fK=(fL=(fM=fJ.parent,fM==null?null:by.FetchO(fM.$0)),fL==null?null:fL.$0.parent),bs.codeSnippets().UpdateBy(function(fN){return{$:1,$0:s.New(fN.name,fN.content,fK,fN.predecessors,fN.id,fN.expanded,fN.level,fN.levelCode,fN.properties)};},fJ.id),ew());}function eF(fI){var fJ;fJ=j.wrapper();return fJ.Delay(function(){return fJ.Bind$1(h.fromOption(bu["Snippet Missing"],fI),function(fK){var fL;b_.Set(c$,"Compiling to JavaScript...");b_.Set(c9,"");fL=bs["CodeSnippet.GetCodeFsx"](fK,true);b_.Set(c8,fL);return fJ.Bind$2(x.translateAR(fL,false),function(fM){return fJ.Bind$1(fM,function(fN){var fO;fO=bp.completeJS(fN);b_.Set(c9,fO);ez("Compiled!");return fJ.Return(fO);});});});});}function eG(fI){var fJ;fJ=a.open.apply(a,[fI]);return bU.Equals(fJ,null)?h.fail(bu["Could not open new browser, Popup blocker may be active"]):h.succeed(fJ);}function eH(fI,fJ){return fI["eval"].apply(fI,[fJ]);}function eI(fI){fI.focus.apply(fI,[]);}function eJ(fI,fJ){var fK;fK=j.wrapper();return fK.Delay(function(){return fK.Bind$1(h.tryProtection(),function(){return fK.Bind$1(eG(fI),function(fL){eI(fL);return fK.Bind$2(bO.Sleep(800),function(){return fK.Return(eH(fL,fJ));});});});});}function eK(){return bO.FromContinuations(function(fI,fJ){try{return(new bq.New(null)).RunHtml(Y.createIFrame(fI));}catch(fK){return fJ(fK);}});}function eL(fI){var fJ;fJ=j.wrapper();return fJ.Delay(function(){return fJ.Bind$1(h.tryProtection(),function(){return fJ.Bind$2(eK(),function(fK){var fL;fL=fK.contentWindow;fL.document.body.style.margin="0px";return fJ.Return(eH(fL,fI));});});});}function eM(fI,fJ,fK){var fL;fL=j.wrapper();return fL.Delay(function(){return fL.Bind$3(eF(fK),function(fM){b_.Set(c$,"Running JavaScript...");return fL.Bind$3(fJ.$==3?eJ(fI,fM):eL(fM),function(fN){ez(fN);ez("Done!");return fL.Return([fJ,fN]);});});});}function eN(){return by.FetchO(cu.c);}function eO(fI){var fJ;fJ=j.wrapper();return fJ.Delay(function(){return fJ.Bind$1(h.fromOption(bu["Snippet Missing"],fI),function(fK){var fL;b_.Set(c$,"Evaluating F# code...");fL=bs["CodeSnippet.GetCodeFsx"](fK,true);b_.Set(c8,fL);return fJ.Bind$2(o.evaluateAR(fL),function(fM){return fJ.Bind$1(fM,function(fN){ez(fN);ez("Done!");return fJ.Return(fN);});});});});}function eP(fI){var fJ;fJ=j.wrapper();return fJ.Delay(function(){return fJ.Bind$1(h.fromOption(bu["Snippet Missing"],fI),function(fK){var fL;b_.Set(c$,"Running Fable...");fL=bs["CodeSnippet.GetCodeFsx"](fK,false);b_.Set(c8,fL);return fJ.Bind$3(bz.fableTranslate(fL),function(fM){b_.Set(c9,fM);a["eval"](fM);ez("Done!");return fJ.Zero();});});});}function eQ(fI){var fJ;fJ=eN();return(dd(fI))(fJ);}function eR(fI){return bT.ofSeq(bN.map(function(fJ){return[fJ.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),fJ.FSSGlobal_Useful_ErrMsg$get_IsWarning()?u.FSWarning:u.FSError];},fI));}function eS(fI){var fJ;return{$:4,$0:(fJ=fI.$0,fJ==null?null:{$:1,$0:fJ.$0[1]}),$1:bT.ofSeq(bN.map(function(fK){return[fK.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),fK.FSSGlobal_Useful_ErrMsg$get_IsWarning()?u.FSWarning:u.FSError];},fI.$1))};}function eT(fI,fJ){var fK;fK=null;return bO.Delay(function(){var fL,fM,fN,fO,fP,fQ,fR,fS;return fJ.$==2?bO.Return({$:1,$0:(fL=by.FetchO(fJ.$0),fL==null?null:{$:1,$0:fL.$0.content})}):fJ.$==3?bO.Return({$:1,$0:(fM=by.FetchO(fJ.$0),fM==null?null:{$:1,$0:bs["CodeSnippet.GetCodeFsx"](fM.$0,true)})}):fJ.$==4?bO.Return({$:3,$0:d.defaultValue([],(fN=by.FetchO(fJ.$0),fN==null?null:{$:1,$0:bs["CodeSnippet.Predecessors"](fN.$0)}))}):fJ.$==5?bO.Return({$:2,$0:by.FetchO(fJ.$0)}):fJ.$==6?bO.Return({$:1,$0:(fO=by.FetchByPathO(fJ.$0),fO==null?null:{$:1,$0:fO.$0.content})}):fJ.$==7?bO.Return({$:1,$0:(fP=by.FetchByPathO(fJ.$0),fP==null?null:{$:1,$0:bs["CodeSnippet.GetCodeFsx"](fP.$0,true)})}):fJ.$==10?(fQ=by.FetchByPathO(fJ.$0),fQ==null?bO.Return({$:4,$0:null,$1:[["Snippet not found",u.FSError]]}):bO.Bind(x.translateAR(bs["CodeSnippet.GetCodeFsx"](fQ.$0,true),false),function(fT){return bO.Return({$:4,$0:h.getOption(h.map(bp.completeJS,fT)),$1:eR(h.getMsgs(fT))});})):fJ.$==8?bO.Return({$:3,$0:d.defaultValue([],(fR=by.FetchByPathO(fJ.$0),fR==null?null:{$:1,$0:bs["CodeSnippet.Predecessors"](fR.$0)}))}):fJ.$==9?bO.Return({$:2,$0:by.FetchByPathO(fJ.$0)}):fJ.$==1?bO.Return({$:1,$0:{$:1,$0:"Message received: "+fJ.$0}}):fJ.$==0?bO.Return({$:0,$0:fI}):fJ.$==12?l.map(eS,j.getAsyncR(eM(fJ.$1,bt.NewBrowser,by.FetchO(fJ.$0)))):fJ.$==13?l.map(eS,j.getAsyncR(eM(fJ.$1,bt.NewBrowser,by.FetchByPathO(fJ.$0)))):bO.Return({$:1,$0:{$:1,$0:(fS=bT.ofSeq((bs.codeSnippets())["var"].RVal()),bX.stringify(((ch.EncodeArray(bE.j$3))())(fS)))}});});}function eU(fI,fJ){var fK;fK=null;return bO.Delay(function(){return bO.Bind(eT(fI,(bD.j$5())(bX.parse(fJ))),function(fL){return bO.Return(bX.stringify((bE.j$4())(fL)));});});}function eV(fI,fJ){return d.defaultValue(false,fJ==null?null:{$:1,$0:bL.contains(fI,fJ.$0.predecessors)});}function eW(fI,fJ){return fJ.Contains(fI);}function eX(fI,fJ){var fK,fL,fM,fN;return fJ==null?null:(fK=fJ.$0,bU.Equals(fK,fI)||eW(fK.id,new cl.New$2(fI.UniquePredecessors(by.FetchO)))?null:(fL=(bL.contains(fI.id,fK.predecessors)?(fM=(fN=fI.id,function(fO){return!bU.Equals(fN,fO);}),function(fO){return bL.filter(fM,fO);}):function(fO){return new bL.T({$:1,$0:fI.id,$1:fO});})(fK.predecessors),(bs.codeSnippets().UpdateBy(function(fO){return{$:1,$0:s.New(fO.name,fO.content,fO.parent,fL,fO.id,fO.expanded,fO.level,fO.levelCode,fO.properties)};},fK.id),ew())));}function eY(fI){bs.codeSnippets().UpdateBy(function(fJ){return{$:1,$0:s.New(fJ.name,fJ.content,fJ.parent,fJ.predecessors,fJ.id,!fJ.expanded,fJ.level,fJ.levelCode,fJ.properties)};},fI.id);eg();}function eZ(fI,fJ,fK){var fL,fM,fN,fO;return _5.get_New().Content$1([Y["class"]("code-editor-list-tile"),Y.classIf("selected",Z.map((fL=fK.id,function(fP){return bU.Equals(fL,fP);}),cu)),Y.classIf("direct-predecessor",Z.map((fM=fK.id,function(fP){return eV(fM,fP);}),cy)),Y.classIf("indirect-predecessor",Z.map((fN=fK.id,function(fP){return eW(fN,fP);}),dh)),Y.draggable("true"),new _1({$:7,$0:b8.Handler("dragover",function(){return function(fP){return fP.preventDefault();};})}),new _1({$:7,$0:b8.Handler("drag",function(){return function(){dc=fK.id;};})}),new _1({$:7,$0:b8.Handler("drop",function(){return function(fP){fP.preventDefault();return eC(fK.id,dc);};})}),Y.span([Y["class"]("node"),Y.classIf("parent",fI),Y.classIf("expanded",fJ),new _1({$:7,$0:b8.Handler("click",function(){return function(){return fI?eY(fK):null;};})}),Y.title(fI?fJ?"collapse":"expand":""),Y.htmlText(fI?fJ?"-":"+":"")]),Y.div([Y["class"]("code-editor-list-text"),Y.style1("text-indent",(fO=(bs["CodeSnippet.get_Levels"](fK))[0],(function(fP){return function(fQ){return fP(a.String(fQ)+"em");};}(a.id))(fO))),Y.style("white-space: pre"),Y.htmlText(Z.map2(function(fP){return function(fQ){return p.snippetName(fP,fQ);};},eh(fK.id),ei(fK.id))),new _1({$:7,$0:b8.Handler("click",function(){return function(){return b_.Set(cu,fK.id);};})})]),Y.span([Y["class"]("predecessor"),Y.title("toggle predecessor"),new _1({$:7,$0:b8.Handler("click",function(){return function(){return Z.iter(function(fP){return eX(fK,fP);},cy);};})}),Y.htmlText("X")])]);}function e0(fI,fJ){return!fJ?fI:fJ;}function e1(fI){return new r({$:0,$0:!fI?"00000000-0000-0000-0000-000000000000":fI.Item});}function e2(fI){return!fI?null:{$:1,$0:e1(fI)};}function e3(fI){var fJ;function fK(fM,fN){fJ.Add(fM,fN);}function fL(fM,fN){return[fM,fN];}fJ=new bR.New$5();return!fI?fJ:(bN.iter(function(fM){return fK(fM[0],fM[1]);},bT.map(function(fM){return fL(fM[0],fM[1]);},cn.GetFields(fI))),fJ);}function e4(fI){var fJ;try{fJ=bX.parse(fI);((function(fK){return function(fL){return fK(bK.prettyPrint(fL));};}(function(fK){bP.log(fK);}))(fJ.length));return bT.choose(function(fK){return!fK?null:{$:1,$0:s.New(e0("",fK.name),e0("",fK.content),e2(fK.parent),bL.ofSeq(bT.map(e1,e0([],fK.predecessors))),e1(fK.id),e0(false,fK.expanded),e0(0,fK.level),e0(0,fK.levelCode),e3(fK.properties))};},fJ);}catch(fK){return[];}}function e5(){var fI;b_.Set(cu,d.defaultWith(function(){return by.New$2("");},(fI=by.PickIO(cu.c),fI==null?null:{$:1,$0:by.New(fI.$0[0]+1,"",fI.$0[1].parent,bL.T.Empty,bL.T.Empty,"")})).id);ev();eg();}function e6(){var fI,fJ;fI=by.FetchO(cu.c);fI==null?void 0:(fJ=fI.$0,a.confirm((function(fK){return function(fL){return fK("Do you want to delete "+bK.toSafe(fL)+"?");};}(a.id))(fJ.get_Name()))?(b_.Set(cu,r.get_New()),bs.codeSnippets().Remove(fJ),ev(),eg()):void 0);}function e7(fI){return bN.last(bM.SplitChars(fI,["/","\\"],0));}function e8(fI,fJ){var fK,fL;fK=fI.files;return fK.length>0?(fL=new a.FileReader(),(fL.onload=function(fM){return fJ(fM.target.result);},fL.readAsText(fK.item(0)))):null;}function e9(fI){var fJ;try{fJ=e4(fI);bs.codeSnippets().Set(fJ);ex();eg();}catch(fK){a.alert(a.String(fK));}}function e_(fI){if(!db.c||a.confirm("Changes have not been saved, do you really want to load?"))e8(Y.findRootElement(fI).querySelector("#"+dk),e9);}function e$(){var fI,fJ;a.saveAs(new a.Blob([(fI=bT.ofSeq((bs.codeSnippets())["var"].RVal()),bX.stringify(((ch.EncodeArray(bE.j$3))())(fI)))],{type:"text/plain;charset=utf-8"}),(fJ=e7(dj.c),fJ===""?"snippets.fsjson":fJ));ex();}function fa(fI,fJ){return Y.findRootElement(fI).querySelector("#"+dk).click();}function fb(fI,fJ,fK){var fL,fM,fN,fO,fP,fQ,fR,fS;fL=c6!=null&&c6.$==1&&((fN=c6.$0[1],bU.Equals(c6.$0[0],fJ.id)&&bU.Equals(fN,fK))&&(fM=[c6.$0[1],c6.$0[0],c6.$0[2]],true))?(fI("Reparsing..."),[fM[2],bs["CodeSnippet.get_PrepareSnippet"](fJ)]):(fI("Parsing..."),fO=bs["CodeSnippet.Predecessors"](fJ),fP=s.ReducedCode(fK,cf.array(fO,{$:1,$0:0},{$:1,$0:bT.length(fO)-2})),fQ=bT.get(fO,bT.length(fO)-1),c6={$:1,$0:[fQ.id,fK,fP]},[fP,fQ]);fR=s.ReducedCode(fK,[fL[1]]);fS=(function(fT){var fU,fV,fW,fX,fY,fZ;fU=fT[0];fV=fT[1];fW=fT[2];fX=fT[3];fY=fT[4];fZ=fT[5];return function(f0){return s.AddSeps(fU,fV,fW,fX,fY,fZ,f0[0],f0[1],f0[2],f0[3],f0[4],f0[5]);};}(fL[0]))(fR);return s.FinishCode(fK,fS[0],fS[1],fS[2],fS[3],fS[4],fS[5]);}function fc(fI){var fJ;function fK(fL){if(!fI)b_.Set(c_,fL);}fJ=null;return bO.Delay(function(){var fL,fM,fN;fL=by.FetchO(cu.c);return fL!=null&&fL.$==1?(fM=fL.$0,(fN=dq+1,(dq=fN,bO.Combine(bO.While(function(){return dr;},bO.Delay(function(){return bO.Bind(bO.Sleep(1000),function(){return bO.Return(null);});})),bO.Delay(function(){return dq!==fN?bO.Zero():bO.TryFinally(bO.Delay(function(){var fO;dr=true;da=true;fO=fb(fK,fM,false);return bO.Bind(dn.Parse$1(_do,fO[0],fO[1]),function(fP){return!fI&&fN===dq&&da?(eA(fP),eA("Parsed!"),bO.Zero()):bO.Zero();});}),function(){dr=false;});}))))):bO.Zero();});}function fd(fI){var fJ;fJ=null;return bO.Delay(function(){return!da?bO.Return(true):bO.Bind(dn.MustParse(_do,fI.get_NameSanitized()),function(fK){return bO.Return(fK);});});}function fe(fI){var fJ;fJ=null;return bO.Delay(function(){return bO.Bind(dp,function(fK){var fL;return fK?bO.Zero():(fL=by.FetchO(cu.c),fL!=null&&fL.$==1?bO.Bind(fd(fL.$0),function(fM){return fM?bO.Bind(fc(fI),function(){return bO.Return(null);}):bO.Zero();}):bO.Zero());});});}function ff(fI,fJ){var fK,fL;fK=c.REGEX("([a-zA-Z_]\\w*)$","g",bM.Substring(fI,0,fJ));return fK!=null&&fK.$==1?(fL=fK.$0,fL&&bT.length(fL)===1)?bT.get(fK.$0,0):"":"";}function fg(fI,fJ){var fK,fL;fK=c.REGEX("^([a-zA-Z_]\\w*)","g",fI.substring(fJ));return fK!=null&&fK.$==1?(fL=fK.$0,fL&&bT.length(fL)===1)?bT.get(fK.$0,0):"":"";}function fh(fI){var fJ;bO.Start((fJ=null,bO.Delay(function(){return bO.Bind(dp,function(fK){var fL,fM;return fK?bO.Zero():(fL=by.FetchO(cu.c),fL!=null&&fL.$==1?(fM=fL.$0,bO.Bind(fe(false),function(){var fN,fO,fP,fQ,fR;fN=fI.getCursor();fO=fI.getLine(fN.line);fP=bM.length(ff(fO,fN.ch));fQ=bM.length(fg(fO,fN.ch));fR=fP===0&&fQ===0?2:fQ;return bO.Bind(dn.ToolTip(_do,fN.line+1,fN.ch+1,fM.get_NameSanitized()),function(fS){var fT;eA(((((fT=(bI.Curried(function(fU,fV,fW,fX,fY){return fU("InfoFSharp \""+bK.toSafe(fV)+" "+("("+bK.prettyPrint(fW[0])+", "+bK.prettyPrint(fW[1])+")")+" - "+("("+bK.prettyPrint(fX[0])+", "+bK.prettyPrint(fX[1])+")")+" "+bK.toSafe(fY)+" \"");},5))(a.id),function(fU){var fV;fV=fT(fU);return function(fW){var fX;fX=fV([fW[0],fW[1]]);return function(fY){return fX([fY[0],fY[1]]);};};})(fM.get_NameSanitized()))([fN.line+1,fN.ch-fP+1]))([fN.line+1,fN.ch+fR+1]))(bM.Replace(fS,"\"","''")));return bO.Zero();});})):bO.Zero());});})),null);}function fi(fI,fJ,fK){var fL;bO.Start((fL=null,bO.Delay(function(){return bO.Bind(dp,function(fM){var fN,fO;return fM?bO.Zero():(fN=by.FetchO(cu.c),fN!=null&&fN.$==1?(fO=fN.$0,bO.Bind(fe(true),function(){var fP,fQ,fR;fP=fI.getCursor();fQ=fI.getLine(fP.line);fR=ff(fQ,fP.ch);return bO.Bind(dn.Complete(_do,fQ,fP.line+1,fP.ch+1,fO.get_NameSanitized()),function(fS){function fT(fU,fV,fW,fX){return _.New(fV,fX+"| "+fU,fW);}fJ($.New(bT.map(function(fU){return fT(fU[0],fU[1],fU[2],fU[3]);},fS),_7.New(fP.line,fP.ch-fR.length),fP));return bO.Zero();});})):bO.Zero());});})),null);}function fj(fI,fJ,fK,fL){var fM;bO.Start((fM=null,bO.Delay(function(){var fN,fO;fN=by.FetchO(cu.c);return fN!=null&&fN.$==1?(fO=fN.$0,(function(fP){return fP("calling parseIfMustThen");}(function(fP){bP.log(fP);}),bO.Bind(fe(false),function(){var fP;function fQ(fR,fS,fT,fU,fV,fW,fX,fY,fZ){var f0;return bM.StartsWith(fR,fO.id.get_Text())||fR===p.sanitize(fO.name)?(f0=a.Number(fS)>0?a.Number(fS):0,{$:1,$0:bb.New(fZ,bM.StartsWith(fX.toUpperCase(),"ERR")?"error":bM.StartsWith(fX.toUpperCase(),"INFO")?"info":"warning",_2.cmPos(fT-1,fU-1-f0),_2.cmPos(fV-1,fW-1-f0))}):null;}fJ(bT.choose(function(fR){return fQ(fR[0],fR[1],fR[2],fR[3],fR[4],fR[5],fR[6],fR[7],fR[8]);},bT.choose(function(fR){var fS,fT,fU,fV,fW,fX,fY,fZ;return(fT=c.REGEX(dt,"",fR),fT!=null&&fT.$==1&&((fU=fT.$0,fU&&bT.length(fU)===13)&&(fS=[bT.get(fT.$0,8),bT.get(fT.$0,5),bT.get(fT.$0,7),bT.get(fT.$0,2),bT.get(fT.$0,4),bT.get(fT.$0,11),bT.get(fT.$0,1),bT.get(fT.$0,10),bT.get(fT.$0,9)],true)))?{$:1,$0:[fS[1],fS[4],a.Number(fS[2]),a.Number(fS[0]),a.Number(fS[8]),a.Number(fS[7]),fS[6],fS[3],fS[5]]}:(fW=c.REGEX(ds,"",fR),fW!=null&&fW.$==1&&((fX=fW.$0,fX&&bT.length(fX)===8)&&(fV=[bT.get(fW.$0,4),bT.get(fW.$0,2),bT.get(fW.$0,3),bT.get(fW.$0,1),bT.get(fW.$0,6),bT.get(fW.$0,5)],true)))?(fY=fV[0],(fZ=fV[2],{$:1,$0:[fV[1],fV[3],a.Number(fZ),a.Number(fY)-1,a.Number(fZ),a.Number(fY),fV[5],"fsi",fV[4]]})):null;},(fP=c.REGEX(du,"g",c_.c),fP!=null&&fP.$==1?fP.$0:[]))));return bO.Zero();}))):bO.Zero();})),null);}function fk(fI){var fJ;dv((fJ=null,bO.Delay(function(){(function(fK){return fK("before delaying");}(function(fK){bP.log(fK);}));return bO.Bind(bO.Sleep(400),function(){(function(fK){return fK("calling getAnnotations");}(function(fK){bP.log(fK);}));fj.apply(null,fI);return bO.Zero();});})));}function fl(fI){var fJ,fK,fL;fJ=(fK=fI.parent,fK==null?null:by.FetchO(fK.$0));fJ==null?void 0:(fL=fJ.$0,fl(fL),!fL.expanded?eY(fL):void 0);}function fm(fI,fJ,fK){var fL;return bO.Start((fL=null,bO.Delay(function(){var fM;b_.Set(cu,fI);fM=by.FetchO(fI);fM==null?void 0:fl(fM.$0);return bO.Bind(bO.Sleep(200),function(){var fN,fO;fN=dw.editorO;fN==null?void 0:(fO=fN.$0,fO.setCursor(fJ-1,fK-1),fO.focus());return bO.Zero();});})),null);}function fn(fI){var fJ,fK,fL;fJ=c.REGEX("([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}).+?\\((\\d+)\\,\\s*(\\d+)\\)","",fI);fJ!=null&&fJ.$==1?(fK=fJ.$0,fK&&bT.length(fK)===4)?(fL=bT.get(fJ.$0,3),fm(new r({$:0,$0:bT.get(fJ.$0,1)}),a.Number(bT.get(fJ.$0,2)),a.Number(fL))):void 0:void 0;}function fo(){var fI;bO.Start((fI=null,bO.Delay(function(){var fJ,fK,fL,fM;fJ=by.FetchO(cu.c);return fJ!=null&&fJ.$==1?(fK=dw.editorO,fK!=null&&fK.$==1?(fL=fK.$0,(fM=fL.getCursor(),(fL.getLine(fM.line),bO.Bind(dn.FindDecl(_do,fM.line+1,fM.ch+1,fJ.$0.get_NameSanitized()),function(fN){var fO;return fN.$==9?(fO=fN.$0,(fn(((((((bI.Curried(function(fP,fQ,fR,fS,fT,fU){return fP(bK.toSafe(fQ)+" ("+a.String(fR)+", "+a.String(fS)+") - ("+a.String(fT)+", "+a.String(fU)+")");},6))(a.id))(fO.File))(fO.Line))(fO.Column))(fO.Line))(fO.Column)),bO.Zero())):fN.$==1?(a.alert((function(fP){return function(fQ){return fP(bG.p(fQ));};}(a.id))(fN.$0)),bO.Zero()):(a.alert((function(fP){return function(fQ){return fP(bF.p$3(fQ));};}(a.id))(fN)),bO.Zero());})))):bO.Zero()):bO.Zero();})),null);}function fp(){var fI;fI=dw.editorO;fI==null?void 0:fI.$0.refresh();}function fq(fI){var fJ;bO.Start((fJ=null,bO.Delay(function(){return bO.Bind(bO.Sleep(fI),function(){fp();return bO.Zero();});})),null);}function fr(fI,fJ,fK,fL){var fM;return j.start(ez,(fM=fI(fJ),(j.map(a.ignore))(fM)));}function fs(fI,fJ,fK,fL){function fM(fN,fO){if(fN==null)ez("Failed!\n"+fO);else if(fN.$0[0].$==0){ez(fO);b_.Set(dD,null);}else ez(fO);}return j.startV(function(fN){return fM(fN[0],fN[1]);},fI(fJ));}function ft(fI,fJ,fK){function fL(fM){return(fI(fK))(fM);}return bI.Curried(fr,2,[fL,fJ]);}function fu(fI,fJ,fK){function fL(fM){return(fI(fK))(fM);}return bI.Curried(fs,2,[fL,fJ]);}function fv(fI,fJ){var fK,fL,fM;return fJ((fK=fI.parms,fK!=null&&fK.$==1&&((fM=fK.$0,fM&&bT.length(fM)===1)&&(fL=bT.get(fK.$0,0),true))?by.FetchByPathO(bM.SplitChars(fL,["/"],0)):eN()));}function fw(fI,fJ){return fv(fI,eO);}function fx(fI,fJ){return fv(fI,eP);}function fy(fI,fJ){return fv(fI,dd(fJ));}function fz(){return eQ(cz.c);}function fA(){var fI;fI=j.wrapper();return fI.Delay(function(){c6=null;return fI.Bind$2(fc(false),function(){return fI.Return();});});}function fB(){b_.Set(db,true);}function fC(fI,fJ){return Y.table(bL.ofSeq(bN.delay(function(){return bN.append([Y.thead([Y.th([Y.htmlText("Property"),Y.style("padding-right:10px")]),Y.th([Y.htmlText("Value")])])],bN.delay(function(){return bN.append(bN.map(function(fK){var fL;fL=new bw.New(fB,fJ,fK);return Y.tr([Y.td([Y.someElt(b6.Input([],fL.get_KeyVar()))]),Y.td([Y.someElt(b6.InputArea([Y.atr("style","height: 1.5em")],fL.get_ValueVar()))]),_2.hoverable(Y.td([Y.title("remove"),Y.style(" cursor: pointer "),Y.htmlText("x"),new _1({$:7,$0:b8.Handler("click",function(){return function(){fL.Remove();return b_.Set(d1,null);};})})]))]);},fJ.get_Keys()),bN.delay(function(){return[Y.tr([_2.hoverable(Y.td([Y.htmlText("Add..."),new _1({$:7,$0:b8.Handler("click",function(){return function(){fJ.Add("","1");fB();return b_.Set(d1,null);};})})])),Y.td([Y.htmlText("")])])];}));}));})));}function fD(fI){function fJ(fL){return fL.properties;}function fK(fL,fM){return s.New(fL.name,fL.content,fL.parent,fL.predecessors,fL.id,fL.expanded,fL.level,fL.levelCode,fM);}return ef(new bR.New$5(),function(fL){return bs.codeSnippets().TryFindByKey(fL);},function(fL){return bs.codeSnippets().LensInto(fJ,fK,fL);},fI);}function fE(fI){return new Z({$:1,$0:fI});}function fF(fI,fJ){var fK,fL;function fM(fN,fO,fP){return fL>=fO&&fL<fP?{$:1,$0:fN}:null;}fK=fI.value;fL=fI.selectionStart;return fn(bN.pick(function(fN){return fM(fN[0],fN[1],fN[2]);},(bN.mapFold(function(fN,fO){return[[fO,fN,fN+fO.length+1],fN+fO.length+1];},0,bM.SplitChars(fK,["\n"],0)))[0]));}function fG(fI){fq(1000);fq(2000);fq(3000);ec.SetLayoutJson(d8,fI);}function fH(fI){!bL.contains(fI,ed.c)?b_.Set(ed,new bL.T({$:1,$0:fI,$1:ed.c})):void 0;fq(300);}ct=b_.Create$1("");cu=b_.Create$1(r.get_New());cv="CodeEditor."+"currentCodeSnippetId";cw=a.localStorage.getItem(cv);cw!==null?cu.set_RVal((bD.j$3())(bX.parse(cw))):void 0;Z.sink(function(fI){a.localStorage.setItem(cv,bX.stringify((bE.j$1())(fI)));},cu);cx=b_.Create$1();cy=Z.map2(function(fI){return function(){return bs.codeSnippets().TryFindByKey(fI);};},cu,cx);cz=b_.Create$1(bt.Below);cA="CodeEditor."+"position";cB=a.localStorage.getItem(cA);cB!==null?cz.set_RVal((bD.j$4())(bX.parse(cB))):void 0;Z.sink(function(fI){a.localStorage.setItem(cA,bX.stringify((bE.j$2())(fI)));},cz);Z.map(function(fI){return fI.$==1&&true;},cz);cC=Z.map(function(fI){return bU.Equals(by.FetchO(fI),null);},cu);cD=(cE=Z.map((cF=(cG=function(fI){return fI==null?null:ej(fI.$0);},function(fI){return cG(by.FetchO(fI));}),function(fI){return ek(cF(fI));}),cu),(cH=[b_.Create$1(null)],(b5.Sink(function(fI){if(!bU.Equals(cH[0].c,fI))b_.Set(cH[0],fI);},Z.toView(cE)),new Z({$:1,$0:cH[0]}))));cI=(cJ=Z.map((cK=(cL=function(fI){return fI==null?null:el(fI.$0);},function(fI){return cL(by.FetchO(fI));}),function(fI){return em(cK(fI));}),cu),(cM=[b_.Create$1(null)],(b5.Sink(function(fI){if(!bU.Equals(cM[0].c,fI))b_.Set(cM[0],fI);},Z.toView(cJ)),new Z({$:1,$0:cM[0]}))));cN=(cO=Z.map((cP=(cQ=function(fI){return fI==null?null:en(fI.$0);},function(fI){return cQ(by.FetchO(fI));}),function(fI){return eo(cP(fI));}),cu),(cR=[b_.Create$1(null)],(b5.Sink(function(fI){if(!bU.Equals(cR[0].c,fI))b_.Set(cR[0],fI);},Z.toView(cO)),new Z({$:1,$0:cR[0]}))));cS=(cT=Z.map((cU=(cV=function(fI){return fI==null?null:ep(fI.$0);},function(fI){return cV(by.FetchO(fI));}),function(fI){return eq(cU(fI));}),cu),(cW=[b_.Create$1(null)],(b5.Sink(function(fI){if(!bU.Equals(cW[0].c,fI))b_.Set(cW[0],fI);},Z.toView(cT)),new Z({$:1,$0:cW[0]}))));cX=(cY=Z.map((cZ=(c0=function(fI){return fI==null?null:er(fI.$0);},function(fI){return c0(by.FetchO(fI));}),function(fI){return es(cZ(fI));}),cu),(c1=[b_.Create$1(null)],(b5.Sink(function(fI){if(!bU.Equals(c1[0].c,fI))b_.Set(c1[0],fI);},Z.toView(cY)),new Z({$:1,$0:c1[0]}))));c2=et("DisableParse");c3=Z.map2(function(fI){return function(fJ){return fI||fJ;};},c2,et("DisableFSI"));c4=Z.map2(function(fI){return function(fJ){return fI||fJ;};},c2,et("DisableFable"));c5=Z.map2(function(fI){return function(fJ){return fI||fJ;};},c2,et("DisableWebSharper"));c6=null;c7=new m.New(function(fI){return d.defaultValue(new cl.New$3(),fI==null?null:{$:1,$0:new cl.New$2(fI.$0.UniquePredecessors(by.FetchO))});});c8=b_.Create$1("");c9=b_.Create$1("");c_=b_.Create$1("");c$=b_.Create$1("");da=false;db=b_.Create$1(false);Z.sink(function(fI){a.onbeforeunload=fI?function(fJ){fJ.returnValue="Changes you made may not be saved.";}:null;},db);dc=r.get_New();bz.set_addOutMsg(ez);dd=(de=a.location.origin+"/Main.html",(bI.Curried3(eM))(de));df=new w.New(bs.fsIds(),{$:1,$0:bs.fsIds()},null,{$:1,$0:a.location.href});bO.Start((dg=null,bO.Delay(function(){return bO.Bind(bO.Sleep(1000),function(){df.get_MessagingClient().AwaitMessage(eU);return bO.Zero();});})),null);dh=Z.map(function(fI){var fJ,fK;fJ=null;return c7.cache.TryGetValue(fI,{get:function(){return fJ;},set:function(fL){fJ=fL;}})?fJ:(fK=c7.f(fI),(c7.cache.set_Item(fI,fK),fK));},cy);di=0;dj=b_.Create$1("");Z.map(function(fI){return fI==="";},dj);dk="CodeEditorFileSel";dl=_4.New$2(b_.Lens(dj,e7,a.id)).Prefix$1(Y.label([Y["class"]("btn btn-primary"),Y.htmlText("Load File..."),_4.New$2(dj).Type("file").Style("display: none").Content([b8.Handler("change",function(fI){return function(){return e_(fI);};}),b8.Handler("click",function(fI){return function(){fI.value="";};})]).Id(dk).get_Render()]));cs!==""?bO.Start((dm=null,bO.Delay(function(){return bO.Bind(bO.Sleep(3000),function(){var fI;((function(fJ){return function(fK){return fJ("loading "+bK.toSafe(fK)+"...");};}(function(fJ){bP.log(fJ);}))(cs));fI=co.getJSON(cs+"?t="+a.String(bY.now()));fI.done(function(){return e9(fI.responseText);});return bO.Zero();});})),null):void 0;dn=new X.New("FSharpStation",{$:1,$0:a.location.href});_do=bs.fsIds()+".fsx";dp=b5.GetAsync(Z.toView(c2));dq=1;dr=false;ds="\\((\\d+)\\) F# (.+).fsx\\((\\d+)\\,(\\d+)\\): (error|warning) ((.|\\b)+)";dt="(Err|Warning|Info)(FSharp|WebSharper)\\s+\"(\\((\\d+)\\) ?)?F?#? ?(.+?)(.fsx)? \\((\\d+)\\,\\s*(\\d+)\\) - \\((\\d+)\\,\\s*(\\d+)\\) ((.|\\s)+?)"+"\"";du=ds+"|"+dt;dv=c.asyncStartCancelling();dw=_9.New$2((dx=Z.toView(Z.fixit(cu)),(dy=b_.Create$1(null),(dz=[null],(dA=[0],(dB=[0],(b5.Sink(function(){var fI,fJ;fI=dz[0];fI==null?void 0:(fJ=fI.$0,dA[0]>dB[0]?dB[0]=dA[0]:!bU.Equals(fJ.RVal(),dy.c)?(dB[0]=dB[0]+1,fJ.set_RVal(dy.c)):void 0);},dy.v),b5.Sink(function(){var fI,fJ;fI=dz[0];fI==null?void 0:(fJ=fI.$0,dB[0]>dA[0]?dA[0]=dB[0]:!bU.Equals(fJ.RVal(),dy.c)?(dA[0]=dA[0]+10,b_.Set(dy,fJ.RVal())):void 0);},b5.Bind(function(fI){var fJ;fJ=ei(fI);dz[0]={$:1,$0:fJ};dB[0]=dA[0]+100;b_.Set(dy,fJ.RVal());return fJ.RView();},dx)),dy))))))).OnChange(function(){var fI;c6!=null&&c6.$==1&&(bU.Equals(c6.$0[0],cu.c)&&(fI=[c6.$0[0],c6.$0[2]],true))?eu():ev();}).OnRender(function(fI){fI.addKeyMap(bv.New(fh,fh,function(fJ){_2.showHints(fI,function(fK){return fi(fK[0],fK[1],fK[2]);},false,fJ);}));_2.setLint(fI,fk);Z.sink(function(fJ){var fK;bO.Start((fK=null,bO.Delay(function(){fI.setOption("theme",fJ);return bO.Bind(bO.Sleep(50),function(){fI.refresh();return bO.Zero();});})),null);},cS);Z.sink(function(fJ){fI.setOption("mode",fJ);},cN);}).Style("height: 100%");dC=dw.get_Render().AddChildren([new _1({$:7,$0:b8.Handler("dblclick",function(){return function(){return fh(dw.editorO.$0);};})}),Y.htmlElement("menu",[Y.type("context"),Y.Id("right-menu"),Y.htmlElement("menuitem",[Y.htmlAttribute("label","Goto Definition"),new _1({$:7,$0:b8.Handler("click",function(){return function(){return fo();};})})])]),Y.htmlAttribute("contextmenu","right-menu")]);Z.sink(function(){var fI;bO.Start((fI=null,bO.Delay(function(){var fJ,fK,fL;return!da?bO.Zero():(fJ=dw.editorO,fJ!=null&&fJ.$==1?(fK=fJ.$0,(fL=by.FetchO(cu.c),fL!=null&&fL.$==1?bO.Bind(dn.MustParse(_do,fL.$0.get_NameSanitized()),function(fM){return fM?bO.Zero():(fK.performLint(),bO.Zero());}):bO.Zero())):bO.Zero());})),null);},c_);dD=b_.Create$1();dE=bj.New$1("Load...").OnClick(function(fI){return function(fJ){return fa(fI,fJ);};});dF=bj.New$1("Save as...").OnClick(bI.Curried(_2.Do,2,[e$,null])).Highlight(db);dG=bj.New$1("Add Snippet").OnClick(bI.Curried(_2.Do,2,[e5,null]));dH=bj.New$1("Delete Snippet").OnClick(bI.Curried(_2.Do,2,[e6,null])).Disabled(cC);dI=bj.New$1("Indent In  >>").OnClick(bI.Curried(_2.Do,2,[eD,null])).Disabled(cC);dJ=bj.New$1("Indent Out <<").OnClick(bI.Curried(_2.Do,2,[eE,null])).Disabled(cC);dK=bj.New$1("Get F# Code").OnClick(bI.Curried(_2.Do,2,[eB,null])).Disabled(c2);dL=bj.New$1("Run FSI").OnClick2(function(fI){return ft(function(fJ){return function(fK){return fw(fJ,fK);};},null,fI);}).Disabled(c3);dM=bj.New$1("Run Fable").OnClick2(function(fI){return ft(function(fJ){return function(fK){return fx(fJ,fK);};},null,fI);}).Disabled(c4);dN=bj.New$1("Run WebSharper in new tab").OnClick2((dO=bt.NewBrowser,function(fI){return ft(function(fJ){return function(fK){return fy(fJ,fK);};},dO,fI);})).Disabled(c5);dP=bj.New$1("Run WebSharper in WS Result").OnClick2((dQ=bt.Below,function(fI){return fu(function(fJ){return function(fK){return fy(fJ,fK);};},dQ,fI);})).Disabled(c5);dR=bj.New$1("Run WebSharper in ...").OnClick(bI.Curried(fs,2,[fz,null])).Disabled(c5);dS=bj.New$1("Parse F#").OnClick(bI.Curried(fr,2,[fA,null])).Disabled(c2);dT=bj.New$1("Compile WebSharper").OnClick((dU=function(fI){return eF(eN(fI));},bI.Curried(fr,2,[dU,null]))).Disabled(c5);dV=bj.New$1("Find Definition").OnClick(bI.Curried(_2.Do,2,[fo,null])).Disabled(c2);dW=bj.New$1("Refresh CodeMirror").OnClick(bI.Curried(_2.Do,2,[fp,null]));dX=Y.div([dG.get_Button().get_Render(),dJ.get_Button().get_Render(),dI.get_Button().get_Render(),dl.get_Render().AddChildren([Y.style("grid-column: 4/6")]),dL.get_Button().get_Render(),dM.get_Button().get_Render(),dR.get_Button().get_Render(),dH.get_Button().get_Render(),dV.get_Button().get_Render(),Y.span([]),dF.get_Button().get_Render(),Y.span([]),dK.get_Button().get_Render(),dS.get_Button().get_Render(),Y.someElt(b6.Select([b9.Create("id","Position")],function(fI){return fI.$==1?"Right":fI.$==2?"In Tab":fI.$==3?"New Browser":"Below";},bL.ofArray([bt.NewBrowser,bt.Below]),cz)),Y.style("\n                    overflow: hidden;\n                    display: grid;\n                    grid-template-columns: repeat(8, 12.1%);\n                    bxackground-color: #eee;\n                    padding : 5px;\n                    grid-gap: 5px;\n                ")]);dY=bi.New2([bg.New$2("File").SubMenu([dE.get_MenuEntry(),dF.get_MenuEntry()]),bg.New$2("Code").SubMenu([dG.get_MenuEntry(),dH.get_MenuEntry(),bg.New$2("").get_Divider(),dI.get_MenuEntry(),dJ.get_MenuEntry(),bg.New$2("").get_Divider(),dV.get_MenuEntry(),bg.New$2("").get_Divider(),dK.get_MenuEntry(),bg.New$2("").get_Divider(),dW.get_MenuEntry()]),bg.New$2("Run").SubMenu([dL.get_MenuEntry(),dM.get_MenuEntry(),bg.New$2("").get_Divider(),dN.get_MenuEntry(),dP.get_MenuEntry(),bg.New$2("").get_Divider(),dS.get_MenuEntry(),dT.get_MenuEntry()])]);dZ=bi.New2([bg.New$2("About").SubMenu([bg.New$1("Source @ GitHub","https://github.com/amieres/FSharpStation").Target("_blank")])]);d0=_2.navbar(Y.h1([Y.htmlText("F# Station"),Y.style("font-size: 48px; margin-top: -17px")]),dY.get_Render(),dZ.get_Render());d1=b_.Create$1();d2=Y.div([new _1({$:5,$0:Z.map2(function(fI){return function(fJ){return fC(fI,fJ);};},d1,Z.bind(function(fI){return fE(fD(fI));},cu))}),Y.css(" td.hovering { background: gray; } ")]);d3="CodeEditor."+"splitterV1";d4=bc.New$1(20).Children([Y.style("grid-row: 2 / 4")]).get_Var();d5=a.localStorage.getItem(d3);d5!==null?d4.set_RVal(((ch.Id())())(bX.parse(d5))):void 0;Z.sink(function(fI){a.localStorage.setItem(d3,bX.stringify(((ch.Id())())(fI)));},d4);d6=Y.bindHElem(function(fI){return Y.div(bL.ofSeq(bN.delay(function(){return bN.append([Y.style("overflow: auto")],bN.delay(function(){return bN.append(bN.choose(a.id,(bN.mapFold(function(fJ,fK){var fL,fM,fN,fO,fP;fL=fK[1];return d.defaultValue(true,(fM=fL.parent,fM==null?null:{$:1,$0:fJ.Contains(fM.$0)}))?(fN=d.defaultValue(false,(fO=bN.tryItem(fK[0]+1,bs.codeSnippets()),fO==null?null:{$:1,$0:bU.Equals(fO.$0.parent,{$:1,$0:fL.id})})),(fP=fN&&fL.expanded,[{$:1,$0:eZ(fN,fP,fL)},fP?fJ.Add(fL.id):fJ])):[null,fJ];},new cb.New(bL.T.Empty),bN.indexed(fI)))[0]),bN.delay(function(){return bN.append([new _1({$:7,$0:b8.Handler("scroll",function(fJ){return function(){di=fJ.scrollTop;};})})],bN.delay(function(){return[new _1({$:7,$0:b8.OnAfterRender(function(fJ){fJ.scrollTop=di;})})];}));}));}));})));},(d7=bs.codeSnippets().v,b5.SnapshotOn((bs.codeSnippets())["var"].RVal(),cx.v,d7)));d8=bo.AddGuids([["actLoadFile",new bk({$:2,$0:dE})],["actSaveFile",new bk({$:2,$0:dF})],["actAddSnippet",new bk({$:2,$0:dG})],["actDeleteSnippet",new bk({$:2,$0:dH})],["actIndentSnippet",new bk({$:2,$0:dI})],["actOutdentSnippet",new bk({$:2,$0:dJ})],["actGetFsCode",new bk({$:2,$0:dK})],["actEvalCode",new bk({$:2,$0:dL})],["actRunFable",new bk({$:2,$0:dM})],["actRunWSNewTab",new bk({$:2,$0:dN})],["actRunWSHere",new bk({$:2,$0:dP})],["actRunWSIn",new bk({$:2,$0:dR})],["actParseCode",new bk({$:2,$0:dS})],["actCompileWS",new bk({$:2,$0:dT})],["actFindDefinition",new bk({$:2,$0:dV})],["Output",new bk({$:1,$0:_6.New$2(c$).Placeholder("Output:").Title("Output").RenderWith(bL.ofArray([b8.Handler("dblclick",function(fI){return function(fJ){return fF(fI,fJ);};})]))})],["Parser",new bk({$:1,$0:_6.New$2(c_).Placeholder("Parser messages:").Title("Parser").RenderWith(bL.ofArray([b8.Handler("dblclick",function(fI){return function(fJ){return fF(fI,fJ);};})]))})],["JavaScript",new bk({$:1,$0:_6.New$2(c9).Placeholder("Javascript:").Title("JavaScript code generated").get_Render()})],["F# code",new bk({$:1,$0:_6.New$2(c8).Placeholder("F# code:").Title("F# code assembled").get_Render()})],["Properties",new bk({$:1,$0:d2})],["WS Result",new bk({$:1,$0:Y.div([Y.div([Y.Id("TestNode"),Y.style("background: white; height: 100%; width: 100%; ")])])})],["title",new bk({$:1,$0:_4.New$2((d9=Z.toView(Z.fixit(cu)),(d_=b_.Create$1(null),(d$=[null],(ea=[0],(eb=[0],(b5.Sink(function(){var fI,fJ;fI=d$[0];fI==null?void 0:(fJ=fI.$0,ea[0]>eb[0]?eb[0]=ea[0]:!bU.Equals(fJ.RVal(),d_.c)?(eb[0]=eb[0]+1,fJ.set_RVal(d_.c)):void 0);},d_.v),b5.Sink(function(){var fI,fJ;fI=d$[0];fI==null?void 0:(fJ=fI.$0,eb[0]>ea[0]?ea[0]=eb[0]:!bU.Equals(fJ.RVal(),d_.c)?(ea[0]=ea[0]+10,b_.Set(d_,fJ.RVal())):void 0);},b5.Bind(function(fI){var fJ;fJ=eh(fI);d$[0]={$:1,$0:fJ};eb[0]=ea[0]+100;b_.Set(d_,fJ.RVal());return fJ.RView();},d9)),d_))))))).Prefix$1(Y.htmlText("name:")).get_Render()})],["code",new bk({$:1,$0:dC})],["snippets",new bk({$:1,$0:d6})],["buttons",new bk({$:1,$0:dX})],["menu",new bk({$:1,$0:d0})],["messagesR",new bk({$:4,$0:true,$1:["Properties"]})],["messagesB1",new bk({$:4,$0:true,$1:["Output","JavaScript","F# code"]})],["messagesB2",new bk({$:4,$0:true,$1:["Parser","WS Result"]})],["messagesB",_2.varVerSplitter(55,"messagesB1","messagesB2",0,100)],["title_code",_2.fixedHorSplitter(true,34,"title","code")],["code_props",_2.varVerSplitter(85,"title_code","messagesR",25,100)],["code_buttons",_2.fixedHorSplitter(false,80,"code_props","buttons")],["snippets_code",_2.varVerSplitter(15,"snippets","code_buttons",5,95)],["main_messages",_2.varHorSplitter(82,"snippets_code","messagesB",35,100)],["main",_2.fixedHorSplitter(true,50,"menu","main_messages")]]);ec=bo.New$1(d8);a.addLayoutJson=fG;Z.sink(fG,cX);Z.sink(function(){ec.SelectTab("Output");},c$);Z.sink(function(){ec.SelectTab("WS Result");},dD);ed=b_.Create$1(bL.ofArray(["/EPFileX/css/main.css"]));Z.sink(fH,cI);Z.sink(function(fI){if(fI!=="")fH((function(fJ){return function(fK){return fJ("/EPFileX/codemirror/content/theme/"+bK.toSafe(fK)+".css");};}(a.id))(fI));},cS);ee=Y.div([Y.style("height: 100vh; width: 100% "),ec.get_Render().Style("height: 100%; width: 100% "),Y.script([Y.src("/EPFileX/FileSaver/FileSaver.js"),Y.type("text/javascript")]),Y.script([Y.src("http://code.jquery.com/jquery-3.1.1.min.js"),Y.type("text/javascript")]),Y.script([Y.src("http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"),Y.type("text/javascript")]),Y.link([Y.href("http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"),Y.type("text/css"),Y.rel("stylesheet")]),Y.css("\n      \n        body { margin: 0px }     \n             \n        div textarea {\n            font-family     : monospace;\n        }\n        .code-editor-list-tile {\n            white-space     : nowrap; \n            border-style    : solid none none;\n            border-color    : white;\n            border-width    : 1px;\n            background-color: #D8D8D8;\n            display         : flex;\n        }\n        .code-editor-list-text{\n            padding         : 1px 10px 1px 5px;\n            overflow        : hidden;\n            text-overflow   : ellipsis;\n            white-space     : nowrap;\n            flex            : 1;\n        }\n        \n        .code-editor-list-tile.direct-predecessor {\n            font-weight     : bold;\n        }\n        .code-editor-list-tile.indirect-predecessor {\n            color           : blue;\n        }\n        .code-editor-list-tile.selected {\n            background-color: #77F;\n            color           : white;\n        }\n        .code-editor-list-tile.hovering {\n            background      : lightgray;\n        }\n        .code-editor-list-tile.hovering.selected {\n            background      : blue;\n        }\n        .code-editor-list-tile>.predecessor {\n            font-weight     : bold;\n            border-style    : inset;\n            border-width    : 1px;\n            text-align      : center;\n            color           : transparent;\n        }\n        .code-editor-list-tile.direct-predecessor>.predecessor {\n            color           : blue;\n        }\n        \n        .CodeMirror { height: 100%; }\n        \n        .node {\n            background-color: white; \n            width           : 2ch; \n            color           : #A03; \n            font-weight     : bold; \n            text-align      : center;\n            font-family     : arial;\n        }\n        .Warning { text-decoration: underline lightblue } \n        .Error   { text-decoration: underline red       } \n        .body    { margin         : 0px                 }\n        "),Y.style(" \n                color      : #333;\n                font-size  : small;\n                font-family: monospace;\n                line-height: 1.2;\n                    "),new _1({$:5,$0:Z.map(function(fI){return Y.div(bL.ofSeq(bN.delay(function(){return bN.map(function(fJ){return Y.link([Y.href(fJ),Y.type("text/css"),Y.rel("stylesheet")]);},fI);})));},ed)}),Y.css(cD)]);return(Y.renderDoc())(ee);};bC.$cctor=function(){var cs,ct,cu,cv,cw,cx,cy,cz,cA;bC.$cctor=a.ignore;function cB(cC,cD){return new _1({$:7,$0:b8.Style(cC,cD)});}bC.result=new i.New();bC.errOptionIsNone=new f.New();bC.wrapper=new k.New();ct=p.selectF(function(cC){return(new bW.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.awaitRequestFor:-439983525",[cC]);},void 0);bC.awaitRequestForF=ct;cv=p.selectF(bI.Curried3(function(cC,cD,cE){return(new bW.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.sendRequest:-426626804",[cC,cD,cE]);}),void 0);bC.sendRequestF=cv;cx=p.selectF(function(cC){return function(cD){return(new bW.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.replyTo:-1092841374",[cC,cD]);};},void 0);bC.replyToF=cx;bC.AsyncStartF=p.selectF(function(cC){p.AsyncStart(cC);},function(cC){bO.Start(cC,null);});bC.renderDoc=(cy=(cz=b6.Empty(),function(cC){return cC==null?cz:cC.$0;}),function(cC){return cy(Y.chooseNode(cC));});bC.string2Styles=(cA=function(cC){return bT.map(function(cD){return cB(cD[0],cD[1]);},cC);},function(cC){return cA(Y.style2pairs(cC));});bC.codeMirrorIncludes=["/EPFileX/codemirror/scripts/codemirror/codemirror.js","/EPFileX/codemirror/scripts/intellisense.js","/EPFileX/codemirror/scripts/codemirror/codemirror-intellisense.js","/EPFileX/codemirror/scripts/codemirror/codemirror-compiler.js","/EPFileX/codemirror/scripts/codemirror/mode/none.js","/EPFileX/codemirror/scripts/codemirror/mode/fsharp.js","/EPFileX/codemirror/scripts/codemirror/mode/css.js","/EPFileX/codemirror/scripts/codemirror/mode/javascript.js","/EPFileX/codemirror/scripts/codemirror/mode/markdown.js","/EPFileX/codemirror/scripts/addon/search/searchcursor.js","/EPFileX/codemirror/scripts/addon/search/search.js","/EPFileX/codemirror/scripts/addon/search/jump-to-line.js","/EPFileX/codemirror/scripts/addon/dialog/dialog.js","/EPFileX/codemirror/scripts/addon/edit/matchbrackets.js","/EPFileX/codemirror/scripts/addon/selection/active-line.js","/EPFileX/codemirror/scripts/addon/display/fullscreen.js","/EPFileX/codemirror/scripts/addon/hint/show-hint.js","/EPFileX/codemirror/scripts/addon/lint/lint.js"];bC.observers=bL.T.Empty;bC.draggedTab=[null];bC.selectedPanels=b_.Create$1(new cp.New([]));bC.TabMoved=null;bC.codeSnippets=cq.Create(function(cC){return cC.id;},bL.T.Empty);bC.fsIds="FSharpStation"+a.String(bY.now());bC.references=["mscorlib.dll","System.dll","System.Core.dll","System.Data.dll","System.IO.dll","System.Xml.dll","System.Numerics.dll","FSharp.Core.sigdata","FSharp.Core.dll","Fable.Core.dll","Fable.Import.Browser.dll"];bC.loadReferences=cr.Create(function(){var cC;bO.Start((cC=null,bO.Delay(function(){return bO.Bind(Y.LoadFilesAsync(["https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.2/require.min.js"]),function(){var cD;cD=ci.create(null);cD.skipDataMain=1;cD.isBrowser=1;a.require.config(cD);bN.iter(function(cE){a.getFileBlob(cE,"metadata/"+cE);},bz.references());return bO.Zero();});})),null);});bC.getChecker=cr.Create(function(){return cj.createChecker(function(cC){return a.metadata[cC];},bT.choose(function(cC){return cC.indexOf("sigdata")!=-1?null:{$:1,$0:bM.Replace(cC,".dll","")};},bz.references()));});bC.addOutMsg=function(cC){bP.log(cC);};};bD.j=function(){return bD._v?bD._v:bD._v=(ch.DecodeUnion(void 0,"$",[[0,[["$0","Item",ch.Id(),0]]],[1,[["$0","Item",ch.Id(),1]]],[2,[["$0","Item",bD.j$2,1]]],[3,[["$0","Item",ch.DecodeArray(bD.j$2),0]]],[4,[["$0","Item1",ch.Id(),1],["$1","Item2",ch.DecodeArray(ch.DecodeTuple([ch.Id(),bD.j$1])),0]]]]))();};bD.j$2=function(){return bD._v$2?bD._v$2:bD._v$2=(ch.DecodeRecord(s,[["name",ch.Id(),0],["content",ch.Id(),0],["parent",bD.j$3,1],["predecessors",ch.DecodeList(bD.j$3),0],["id",bD.j$3,0],["expanded",ch.Id(),0],["level",ch.Id(),0],["levelCode",ch.Id(),0],["properties",ch.DecodeStringDictionary(ch.Id()),0]]))();};bD.j$3=function(){return bD._v$3?bD._v$3:bD._v$3=(ch.DecodeUnion(r,"$",[[0,[["$0","Item",ch.Id(),0]]]]))();};bD.j$1=function(){return bD._v$1?bD._v$1:bD._v$1=(ch.DecodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]]]))();};bE.j=function(){return bE._v?bE._v:bE._v=(ch.EncodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",ch.Id(),0]]],[2,[["$0","Item",bE.j$1,0]]],[3,[["$0","Item",bE.j$1,0]]],[4,[["$0","Item",bE.j$1,0]]],[5,[["$0","Item",bE.j$1,0]]],[6,[["$0","Item",ch.EncodeArray(ch.Id()),0]]],[7,[["$0","Item",ch.EncodeArray(ch.Id()),0]]],[8,[["$0","Item",ch.EncodeArray(ch.Id()),0]]],[9,[["$0","Item",ch.EncodeArray(ch.Id()),0]]],[10,[["$0","Item",ch.EncodeArray(ch.Id()),0]]],[11,[]],[12,[["$0","Item1",bE.j$1,0],["$1","Item2",ch.Id(),0]]],[13,[["$0","Item1",ch.EncodeArray(ch.Id()),0],["$1","Item2",ch.Id(),0]]]]))();};bE.j$1=function(){return bE._v$1?bE._v$1:bE._v$1=(ch.EncodeUnion(r,"$",[[0,[["$0","Item",ch.Id(),0]]]]))();};bF.p$3=function(cs){return cs.$==17?"KMultiple "+bK.printArray(function(ct){return bF.p$3(ct);},cs.$0):cs.$==16?"KUnionCase "+bG.p$21(cs.$0):cs.$==15?"KNamespaces "+bG.p$18(cs.$0):cs.$==14?"KCompilerLocation "+bG.p$17(cs.$0):cs.$==13?"KSignatureData "+bG.p$15(cs.$0):cs.$==12?"KTypeSig "+bK.prettyPrint(cs.$0):cs.$==11?"KToolTip "+bK.printArray(function(ct){return bK.printArray(function(cu){return bG.p$2(cu);},ct);},cs.$0):cs.$==10?"KDeclarations "+bK.printArray(function(ct){return bG.p$13(ct);},cs.$0):cs.$==9?"KFindDecl "+bG.p$12(cs.$0):cs.$==8?"KColorizations "+bK.printList(function(ct){return bG.p$11(ct);},cs.$0):cs.$==7?"KErrors "+bG.p$9(cs.$0):cs.$==6?"KMethod "+bG.p$6(cs.$0):cs.$==5?"KHelp "+bK.prettyPrint(cs.$0):cs.$==4?"KSymbolUse "+bG.p$4(cs.$0):cs.$==3?"KCompletion "+bK.printArray(function(ct){return bG.p$3(ct);},cs.$0):cs.$==2?"KHelpText "+bG.p$1(cs.$0):cs.$==1?"KError "+bG.p(cs.$0):"KInfo "+bK.prettyPrint(cs.$0);};bG.p$21=function(cs){return"{"+("Text = "+bK.prettyPrint(cs.Text))+"}";};bG.p$18=function(cs){return"{"+("Opens = "+bK.printArray(function(ct){return bG.p$19(ct);},cs.Opens))+"; "+("Qualifies = "+bK.printArray(function(ct){return bG.p$20(ct);},cs.Qualifies))+"; "+("Word = "+bK.prettyPrint(cs.Word))+"}";};bG.p$20=function(cs){return"{"+("Name = "+bK.prettyPrint(cs.Name))+"; "+("Qualifier = "+bK.prettyPrint(cs.Qualifier))+"}";};bG.p$19=function(cs){return"{"+("Namespace = "+bK.prettyPrint(cs.Namespace))+"; "+("Name = "+bK.prettyPrint(cs.Name))+"; "+("Type = "+bK.prettyPrint(cs.Type))+"; "+("Line = "+bK.prettyPrint(cs.Line))+"; "+("Column = "+bK.prettyPrint(cs.Column))+"; "+("MultipleNames = "+bK.prettyPrint(cs.MultipleNames))+"}";};bG.p$17=function(cs){return"{"+("Fsc = "+bK.prettyPrint(cs.Fsc))+"; "+("Fsi = "+bK.prettyPrint(cs.Fsi))+"; "+("MSBuild = "+bK.prettyPrint(cs.MSBuild))+"}";};bG.p$15=function(cs){return"{"+("OutputType = "+bK.prettyPrint(cs.OutputType))+"; "+("Parameters = "+bK.printList(function(ct){return bK.printList(function(cu){return bG.p$16(cu);},ct);},cs.Parameters))+"}";};bG.p$16=function(cs){return"{"+("Name = "+bK.prettyPrint(cs.Name))+"; "+("Type = "+bK.prettyPrint(cs.Type))+"}";};bG.p$13=function(cs){return"{"+("Declaration = "+bG.p$14(cs.Declaration))+"; "+("Nested = "+bK.printArray(function(ct){return bG.p$14(ct);},cs.Nested))+"}";};bG.p$14=function(cs){return"{"+("UniqueName = "+bK.prettyPrint(cs.UniqueName))+"; "+("Name = "+bK.prettyPrint(cs.Name))+"; "+("Glyph = "+bK.prettyPrint(cs.Glyph))+"; "+("GlyphChar = "+bK.prettyPrint(cs.GlyphChar))+"; "+("IsTopLevel = "+bK.prettyPrint(cs.IsTopLevel))+"; "+("File = "+bK.prettyPrint(cs.File))+"; "+("EnclosingEntity = "+bK.prettyPrint(cs.EnclosingEntity))+"; "+("IsAbstract = "+bK.prettyPrint(cs.IsAbstract))+"}";};bG.p$12=function(cs){return"{"+("File = "+bK.prettyPrint(cs.File))+"; "+("Line = "+bK.prettyPrint(cs.Line))+"; "+("Column = "+bK.prettyPrint(cs.Column))+"}";};bG.p$11=function(cs){return"{"+("Kind = "+bK.prettyPrint(cs.Kind))+"}";};bG.p$9=function(cs){return"{"+("File = "+bK.prettyPrint(cs.File))+"; "+("Errors = "+bK.printArray(function(ct){return bG.p$10(ct);},cs.Errors))+"}";};bG.p$10=function(cs){return"{"+("FileName = "+bK.prettyPrint(cs.FileName))+"; "+("StartLine = "+bK.prettyPrint(cs.StartLine))+"; "+("EndLine = "+bK.prettyPrint(cs.EndLine))+"; "+("StartColumn = "+bK.prettyPrint(cs.StartColumn))+"; "+("EndColumn = "+bK.prettyPrint(cs.EndColumn))+"; "+("Message = "+bK.prettyPrint(cs.Message))+"; "+("Subcategory = "+bK.prettyPrint(cs.Subcategory))+"}";};bG.p$6=function(cs){return"{"+("Name = "+bK.prettyPrint(cs.Name))+"; "+("CurrentParameter = "+bK.prettyPrint(cs.CurrentParameter))+"; "+("Overloads = "+bK.printList(function(ct){return bG.p$7(ct);},cs.Overloads))+"}";};bG.p$7=function(cs){return"{"+("Tip = "+bK.printList(function(ct){return bK.printList(function(cu){return bG.p$2(cu);},ct);},cs.Tip))+"; "+("TypeText = "+bK.prettyPrint(cs.TypeText))+"; "+("Parameters = "+bK.printList(function(ct){return bG.p$8(ct);},cs.Parameters))+"; "+("IsStaticArguments = "+bK.prettyPrint(cs.IsStaticArguments))+"}";};bG.p$8=function(cs){return"{"+("Name = "+bK.prettyPrint(cs.Name))+"; "+("CanonicalTypeTextForSorting = "+bK.prettyPrint(cs.CanonicalTypeTextForSorting))+"; "+("Display = "+bK.prettyPrint(cs.Display))+"; "+("Description = "+bK.prettyPrint(cs.Description))+"}";};bG.p$4=function(cs){return"{"+("Name = "+bK.prettyPrint(cs.Name))+"; "+("Uses = "+bK.printList(function(ct){return bG.p$5(ct);},cs.Uses))+"}";};bG.p$5=function(cs){return"{"+("FileName = "+bK.prettyPrint(cs.FileName))+"; "+("StartLine = "+bK.prettyPrint(cs.StartLine))+"; "+("StartColumn = "+bK.prettyPrint(cs.StartColumn))+"; "+("EndLine = "+bK.prettyPrint(cs.EndLine))+"; "+("EndColumn = "+bK.prettyPrint(cs.EndColumn))+"; "+("IsFromDefinition = "+bK.prettyPrint(cs.IsFromDefinition))+"; "+("IsFromAttribute = "+bK.prettyPrint(cs.IsFromAttribute))+"; "+("IsFromComputationExpression = "+bK.prettyPrint(cs.IsFromComputationExpression))+"; "+("IsFromDispatchSlotImplementation = "+bK.prettyPrint(cs.IsFromDispatchSlotImplementation))+"; "+("IsFromPattern = "+bK.prettyPrint(cs.IsFromPattern))+"; "+("IsFromType = "+bK.prettyPrint(cs.IsFromType))+"}";};bG.p$3=function(cs){return"{"+("Name = "+bK.prettyPrint(cs.Name))+"; "+("ReplacementText = "+bK.prettyPrint(cs.ReplacementText))+"; "+("Glyph = "+bK.prettyPrint(cs.Glyph))+"; "+("GlyphChar = "+bK.prettyPrint(cs.GlyphChar))+"}";};bG.p$1=function(cs){return"{"+("Name = "+bK.prettyPrint(cs.Name))+"; "+("Overloads = "+bK.printList(function(ct){return bK.printList(function(cu){return bG.p$2(cu);},ct);},cs.Overloads))+"}";};bG.p$2=function(cs){return"{"+("Signature = "+bK.prettyPrint(cs.Signature))+"; "+("Comment = "+bK.prettyPrint(cs.Comment))+"}";};bG.p=function(cs){return"{"+("Code = "+bK.prettyPrint(cs.Code))+"; "+("Message = "+bK.prettyPrint(cs.Message))+"}";};bE.j$4=function(){return bE._v$4?bE._v$4:bE._v$4=(ch.EncodeUnion(void 0,"$",[[0,[["$0","Item",ch.Id(),0]]],[1,[["$0","Item",ch.Id(),1]]],[2,[["$0","Item",bE.j$3,1]]],[3,[["$0","Item",ch.EncodeArray(bE.j$3),0]]],[4,[["$0","Item1",ch.Id(),1],["$1","Item2",ch.EncodeArray(ch.EncodeTuple([ch.Id(),bE.j$5])),0]]]]))();};bE.j$5=function(){return bE._v$5?bE._v$5:bE._v$5=(ch.EncodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]]]))();};bD.j$5=function(){return bD._v$5?bD._v$5:bD._v$5=(ch.DecodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",ch.Id(),0]]],[2,[["$0","Item",bD.j$3,0]]],[3,[["$0","Item",bD.j$3,0]]],[4,[["$0","Item",bD.j$3,0]]],[5,[["$0","Item",bD.j$3,0]]],[6,[["$0","Item",ch.DecodeArray(ch.Id()),0]]],[7,[["$0","Item",ch.DecodeArray(ch.Id()),0]]],[8,[["$0","Item",ch.DecodeArray(ch.Id()),0]]],[9,[["$0","Item",ch.DecodeArray(ch.Id()),0]]],[10,[["$0","Item",ch.DecodeArray(ch.Id()),0]]],[11,[]],[12,[["$0","Item1",bD.j$3,0],["$1","Item2",ch.Id(),0]]],[13,[["$0","Item1",ch.DecodeArray(ch.Id()),0],["$1","Item2",ch.Id(),0]]]]))();};bE.j$3=function(){return bE._v$3?bE._v$3:bE._v$3=(ch.EncodeRecord(s,[["name",ch.Id(),0],["content",ch.Id(),0],["parent",bE.j$1,1],["predecessors",ch.EncodeList(bE.j$1),0],["id",bE.j$1,0],["expanded",ch.Id(),0],["level",ch.Id(),0],["levelCode",ch.Id(),0],["properties",ch.EncodeStringDictionary(ch.Id()),0]]))();};bE.j$2=function(){return bE._v$2?bE._v$2:bE._v$2=(ch.EncodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};bD.j$4=function(){return bD._v$4?bD._v$4:bD._v$4=(ch.DecodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};bD.j$6=function(){return bD._v$6?bD._v$6:bD._v$6=(ch.DecodeUnion(void 0,"$",[[0,[["$0","Item",ch.Id(),0]]],[1,[["$0","Item",ch.DecodeArray(ch.Id()),0]]]]))();};bE.j$6=function(){return bE._v$6?bE._v$6:bE._v$6=(ch.EncodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",ch.Id(),0]]],[2,[]],[3,[]],[4,[]]]))();};bD.j$7=function(){return bD._v$7?bD._v$7:bD._v$7=(ch.DecodeRecord(void 0,[["GuiRoot",ch.Id(),1],["GuiTabStrip",ch.DecodeTuple([ch.Id(),ch.DecodeArray(ch.Id())]),1],["GuiSplit",ch.DecodeTuple([ch.Id(),ch.Id(),ch.Id(),ch.Id(),ch.Id(),ch.Id(),ch.Id(),ch.Id()]),1],["GuiNode",bD.j$8,1],["GuiCall",ch.DecodeTuple([ch.Id(),ch.Id(),ch.DecodeArray(ch.Id())]),1]]))();};bD.j$8=function(){return bD._v$8?bD._v$8:bD._v$8=(ch.DecodeRecord(void 0,[["HtmlElementF",ch.DecodeTuple([ch.Id(),ch.DecodeArray(bD.j$8)]),1],["HtmlAttributeF",ch.DecodeTuple([ch.Id(),ch.Id()]),1],["HtmlAttributeOF",ch.DecodeTuple([ch.Id(),bD.j$9]),1],["HtmlTextF",ch.Id(),1],["HtmlEmptyF",ch.Id(),1],["HtmlGuiPart",ch.Id(),1]]))();};bD.j$9=function(){return bD._v$9?bD._v$9:bD._v$9=(ch.DecodeUnion(void 0,"$",[null,[1,[["$0","Value",ch.Id(),0]]]]))();};bF.p=function(cs){return cs.$==2?"FSInfor":cs.$==1?"FSWarning":"FSError";};bF.p$1=function(cs){return cs.$==1?"Snippet Not Found "+bK.prettyPrint(cs.$0):"FSMessage ("+bK.prettyPrint(cs.$0)+", "+bF.p(cs.$1)+")";};bF.p$2=function(cs){return cs.$==2?"Could not open new browser, Popup blocker may be active":cs.$==1?"Snippet Missing":"JsCompilerMsg ("+bK.prettyPrint(cs.$0)+", "+bK.prettyPrint(cs.$1)+")";};}());
