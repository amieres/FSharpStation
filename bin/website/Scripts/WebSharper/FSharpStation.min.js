(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX;a=window;b=a.FSSGlobal=a.FSSGlobal||{};c=b.Useful=b.Useful||{};d=c.Async=c.Async||{};e=c.KeyVal=c.KeyVal||{};f=c.String=c.String||{};g=c.Option=c.Option||{};h=a.WebSharper;i=h&&h.Obj;j=c.ExceptionThrown=c.ExceptionThrown||{};k=c.ErrOptionIsNone=c.ErrOptionIsNone||{};l=c.ErrSimple=c.ErrSimple||{};m=c.Result=c.Result||{};n=m.ropBuilder=m.ropBuilder||{};o=c.ResultS=c.ResultS||{};p=c.Wrap=c.Wrap||{};q=p.Builder=p.Builder||{};r=c.Mailbox=c.Mailbox||{};s=c.Dict=c.Dict||{};t=c.ResetableMemoize=c.ResetableMemoize||{};u=c.PreproDirective=c.PreproDirective||{};v=b.FsStationShared=b.FsStationShared||{};w=v.MessagingClient=v.MessagingClient||{};x=v.GenSeverity=v.GenSeverity||{};y=v.CodeSnippetId=v.CodeSnippetId||{};z=v.CodeSnippet=v.CodeSnippet||{};A=v.FSMessage=v.FSMessage||{};B=v.FSSeverity=v.FSSeverity||{};C=v.FsStationClientErr=v.FsStationClientErr||{};D=v.FsStationClient=v.FsStationClient||{};E=b.WSMessagingBroker=b.WSMessagingBroker||{};F=E.Address=E.Address||{};G=E.BrokerRequest=E.BrokerRequest||{};H=E.MessageType=E.MessageType||{};I=E.BrokerMessage=E.BrokerMessage||{};J=E.Replier=E.Replier||{};K=E.MessageGeneric=E.MessageGeneric||{};L=E.NotJs=E.NotJs||{};M=E.ErrBroker=E.ErrBroker||{};N=E.WSMessagingClient=E.WSMessagingClient||{};O=E.FsStationClientErr=E.FsStationClientErr||{};P=E.FStationMessaging=E.FStationMessaging||{};Q=b.FsEvaluator=b.FsEvaluator||{};R=Q.Evaluator=Q.Evaluator||{};S=b.FsTranslator=b.FsTranslator||{};T=b.FSAutoCompleteIntermediary=b.FSAutoCompleteIntermediary||{};U=T.CommTypes=T.CommTypes||{};V=U.ResponseError=U.ResponseError||{};W=U.Location=U.Location||{};X=U.CompletionResponse=U.CompletionResponse||{};Y=U.OverloadDescription=U.OverloadDescription||{};Z=U.OverloadParameter=U.OverloadParameter||{};_0=U.Overload=U.Overload||{};_1=U.Parameter=U.Parameter||{};_2=U.SignatureData=U.SignatureData||{};_3=U.MethodResponse=U.MethodResponse||{};_4=U.SymbolUseRange=U.SymbolUseRange||{};_5=U.SymbolUseResponse=U.SymbolUseResponse||{};_6=U.HelpTextResponse=U.HelpTextResponse||{};_7=U.CompilerLocationResponse=U.CompilerLocationResponse||{};_8=U.FSharpErrorInfo=U.FSharpErrorInfo||{};_9=U.ErrorResponse=U.ErrorResponse||{};_=U.Colorization=U.Colorization||{};$=U.Declaration=U.Declaration||{};ba=U.DeclarationResponse=U.DeclarationResponse||{};bb=U.OpenNamespace=U.OpenNamespace||{};bc=U.QualifySymbol=U.QualifySymbol||{};bd=U.ResolveNamespaceResponse=U.ResolveNamespaceResponse||{};be=U.UnionCaseResponse=U.UnionCaseResponse||{};bf=U.ACMessage=U.ACMessage||{};bg=T.FSAutoCompleteIntermediaryClient=T.FSAutoCompleteIntermediaryClient||{};bh=b.HtmlNode=b.HtmlNode||{};bi=bh.Val=bh.Val||{};bj=bi.HelperType=bi.HelperType||{};bk=bi.valBuilder=bi.valBuilder||{};bl=bh.HtmlNode=bh.HtmlNode||{};bm=b.Template=b.Template||{};bn=bm.Button=bm.Button||{};bo=bm.Input=bm.Input||{};bp=bm.Hoverable=bm.Hoverable||{};bq=bm.TextArea=bm.TextArea||{};br=bm.CodeMirrorPos=bm.CodeMirrorPos||{};bs=bm.CodeMirrorEditor=bm.CodeMirrorEditor||{};bt=bm.CodeMirror=bm.CodeMirror||{};bu=bm.Hint=bm.Hint||{};bv=bm.HintResponse=bm.HintResponse||{};bw=bm.HintOptions=bm.HintOptions||{};bx=bm.LintResponse=bm.LintResponse||{};by=bm.SplitterBar=bm.SplitterBar||{};bz=bm.SectionType=bm.SectionType||{};bA=bm.Grid=bm.Grid||{};bB=bm.TabStrip=bm.TabStrip||{};bC=bm.MenuEntry=bm.MenuEntry||{};bD=bm.MenuNode=bm.MenuNode||{};bE=bm.Menu=bm.Menu||{};bF=bm.Action=bm.Action||{};bG=bm.GuiPart=bm.GuiPart||{};bH=bm.HtmlNodeFable=bm.HtmlNodeFable||{};bI=bm.LayoutDescriptionFable=bm.LayoutDescriptionFable||{};bJ=bm.GuiPartSourceId=bm.GuiPartSourceId||{};bK=bm.Layout=bm.Layout||{};bL=b.RunCode=b.RunCode||{};bM=bL.RunNode=bL.RunNode||{};bN=b.FSharpStation=b.FSharpStation||{};bO=bN.FsGlobal=bN.FsGlobal||{};bP=bO.Position=bO.Position||{};bQ=bO.ErrCompiler=bO.ErrCompiler||{};bR=bO.KeyMapAutoComplete=bO.KeyMapAutoComplete||{};bS=bO.Property=bO.Property||{};bT=bO.PropValue=bO.PropValue||{};bU=bO.CodeSnippet=bO.CodeSnippet||{};bV=bN.FableModule=bN.FableModule||{};bW=bV.Babel=bV.Babel||{};bX=bV.Fable=bV.Fable||{};bY=a.StartupCode$FSharpStation$FSharpStation=a.StartupCode$FSharpStation$FSharpStation||{};bZ=a.FSharpStation_JsonDecoder=a.FSharpStation_JsonDecoder||{};b0=a.FSharpStation_JsonEncoder=a.FSharpStation_JsonEncoder||{};b1=a.FSharpStation_GeneratedPrintf=a.FSharpStation_GeneratedPrintf||{};b2=a.GeneratedPrintf=a.GeneratedPrintf||{};b3=h&&h.Concurrency;b4=h&&h.Seq;b5=h&&h.Unchecked;b6=h&&h.Strings;b7=a.IntelliFactory;b8=b7&&b7.Runtime;b9=h&&h.Utils;b_=h&&h.Enumerator;b$=h&&h.List;ca=a.console;cb=h&&h.Control;cc=cb&&cb.MailboxProcessor;cd=h&&h.Collections;ce=cd&&cd.Dictionary;cf=h&&h.CancellationTokenSource;cg=h&&h.Arrays;ch=a.JSON;ci=a.Date;cj=b&&b.UsefulDotNet;ck=cj&&cj.Messaging;cl=h&&h.Remoting;cm=a.System;cn=cm&&cm.Guid;co=h&&h.Option;cp=h&&h.TimeoutException;cq=h&&h.Json;cr=cq&&cq.Provider;cs=h&&h.Owin;ct=cs&&cs.WebSocket;cu=ct&&ct.Client;cv=cu&&cu.WithEncoding;cw=ct&&ct.Endpoint;cx=a.location;cy=cd&&cd.Map;cz=cd&&cd.FSharpMap;cA=h&&h.Slice;cB=cl&&cl.AjaxRemotingProvider;cC=h&&h.UI;cD=cC&&cC.Next;cE=cD&&cD.View;cF=cD&&cD.Doc;cG=h&&h.Operators;cH=cD&&cD.AttrModule;cI=cD&&cD.AttrProxy;cJ=cD&&cD.Var;cK=cD&&cD.Input;cL=cK&&cK.Mouse;cM=cd&&cd.FSharpSet;cN=cd&&cd.BalancedTree;cO=h&&h.MatchFailureException;cP=a.Object;cQ=a.Fable;cR=a.Babel;cS=cd&&cd.HashSet;cT=h&&h.JavaScript;cU=cT&&cT.JSModule;cV=h&&h.Lazy;cW=a.jQuery;cX=cD&&cD.ListModel;d.bind=function(cY,cZ){return b3.Bind(cZ,cY);};d.apply=function(cY,cZ){var c0;c0=null;return b3.Delay(function(){return b3.Bind(b3.StartChild(cY,null),function(c1){return b3.Bind(b3.StartChild(cZ,null),function(c2){return b3.Bind(c1,function(c3){return b3.Bind(c2,function(c4){return b3.Return(c3(c4));});});});});});};d.retn=function(cY){return b3.Return(cY);};d.iter=function(cY,cZ){var c0;c0=null;return b3.Delay(function(){return b3.Bind(cZ,function(c1){cY(c1);return b3.Zero();});});};d.map=function(cY,cZ){var c0;c0=null;return b3.Delay(function(){return b3.Bind(cZ,function(c1){return b3.Return(cY(c1));});});};e.tryGetValue=function(cY,cZ){return b4.tryPick(function(c0){return b5.Equals(c0.K,cY)?{$:1,$0:c0.V}:null;},cZ);};f.append=function(cY,cZ){return cY+cZ;};f.trim=function(cY){return b6.Trim(cY);};f.splitByChar=function(cY,cZ){return b6.SplitChars(cZ,[cY],0);};g.modify=function(cY){var cZ;function c0(c1){return c1==null?null:{$:1,$0:cY(c1.$0)};}cZ=function(c1){return g.defaultValue(a.id,c1);};return function(c1){return cZ(c0(c1));};};g.apply=function(cY,cZ){var c0;return cY!=null&&cY.$==1&&(cZ!=null&&cZ.$==1&&(c0=[cZ.$0,cY.$0],true))?{$:1,$0:c0[0](c0[1])}:null;};g.iterFO=function(cY,cZ){if(cY!=null&&cY.$==1)if(cZ!=null&&cZ.$==1)cZ.$0(cY.$0);};g.iterF=function(cY,cZ){if(cZ!=null&&cZ.$==1)cZ.$0(cY);};g.call=function(cY,cZ){return cZ!=null&&cZ.$==1?{$:1,$0:cZ.$0(cY)}:null;};g.defaultWith=function(cY,cZ){return cZ==null?cY():cZ.$0;};g.defaultValue=function(cY,cZ){return cZ==null?cY:cZ.$0;};j=c.ExceptionThrown=b8.Class({toString:function(){return this.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return false;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return(function(cY){return function(cZ){return cY(b9.prettyPrint(cZ));};}(a.id))(this.exn);}},i,j);j.New=b8.Ctor(function(cY){this.exn=cY;},j);k=c.ErrOptionIsNone=b8.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return false;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return"Option is None";}},i,k);k.New=b8.Ctor(function(){},k);l=c.ErrSimple=b8.Class({toString:function(){return this.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return this.warning;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return this.msg;}},i,l);l.New=b8.Ctor(function(cY,cZ){this.msg=cY;this.warning=cZ;},l);n=m.ropBuilder=b8.Class({For:function(cY,cZ){var c0;c0=this;return this.Using(b_.Get(cY),function(c1){return c0.While(function(){return c1.MoveNext();},c0.Delay(function(){return cZ(c1.Current());}));});},Using:function(cY,cZ){return this.TryFinally(function(){return cZ(cY);},function(){if(!b5.Equals(cY,null))cY.Dispose();});},TryFinally:function(cY,cZ){try{return this.ReturnFrom(cY());}finally{cZ();}},TryWith:function(cY,cZ){try{return this.ReturnFrom(cY());}catch(c0){return cZ(c0);}},While:function(cY,cZ){var c0;c0=this;return!cY()?this.Zero():this.Bind(cZ(),function(){return c0.While(cY,cZ);});},Run:function(cY){return cY();},Combine:function(cY,cZ){return(m.combine(cY))(cZ);},Delay:a.id,Zero:function(){return m.succeed();},Bind:function(cY,cZ){return m.bind(function(c0){return m.tryCall(cZ,c0);},cY);},ReturnFrom:a.id,Return:function(cY){return m.succeed(cY);}},i,n);n.New=b8.Ctor(function(){},n);m.toResultS=function(cY){return{$:0,$0:cY.$0,$1:b$.map(function(cZ){return new l.New(cZ.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),cZ.FSSGlobal_Useful_ErrMsg$get_IsWarning());},cY.$1)};};m.fromResultS=function(cY){return{$:0,$0:cY.$0,$1:b$.map(a.id,cY.$1)};};m.result2String=function(cY){return b6.concat("\n",b$.append(b$.ofArray([g.defaultValue("Failed: ",cY.$0)]),m.msgs2String(cY.$1)));};m.countMessages=function(cY){var cZ,c0,c1,c2,c3,c4,c5;if(cY.$===0)return"";else{c2=b$.filter(function(c6){return!c6.FSSGlobal_Useful_ErrMsg$get_IsWarning();},cY);c3=b$.filter(function(c6){return c6.FSSGlobal_Useful_ErrMsg$get_IsWarning();},cY);c4=c2.get_Length();c5=c3.get_Length();switch(c4===0?c5===0?0:c5===1?2:5:c4===1?c5===0?1:c5===1?3:(cZ=[c4,c5],6):c5===0?4:(cZ=[c4,c5],6)){case 0:c1=function(c6){return function(c7){return c6(b9.toSafe(c7));};}(a.id);break;case 1:c1=function(c6){return function(c7){return c6(b9.toSafe(c7));};}(a.id);break;case 2:c1=function(c6){return function(c7){return c6(b9.toSafe(c7));};}(a.id);break;case 3:c1=function(c6){return function(c7){return c6("1 error, 1 warning\n"+b9.toSafe(c7));};}(a.id);break;case 4:c1=((b8.Curried3(function(c6,c7,c8){return c6(a.String(c7)+" errors\n"+b9.toSafe(c8));}))(a.id))(c4);break;case 5:c1=((b8.Curried3(function(c6,c7,c8){return c6(a.String(c7)+" warnings\n"+b9.toSafe(c8));}))(a.id))(c5);break;case 6:c1=(((b8.Curried(function(c6,c7,c8,c9){return c6(a.String(c7)+" errors, "+a.String(c8)+" warnings\n"+b9.toSafe(c9));},4))(a.id))(cZ[0]))(cZ[1]);break;}return c1(m.getMessages(cY));}};m.getMessages=function(cY){return b6.concat("\n",m.msgs2String(cY));};m.msgs2String=function(cY){return b$.map(function(cZ){return cZ.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},cY);};m.seqCheck=function(cY){return b4.exists(function(cZ){return m.Success(cZ).$==1;},cY)?m.failWithMsgs(b4.pick(function(cZ){var c0;c0=m.Success(cZ);return c0.$==1?{$:1,$0:c0.$0}:null;},cY)):m.succeed(b4.map(function(cZ){return cZ.$0.$0;},cY));};m.withError=function(cY,cZ){var c0;c0=cZ.$1;return g.defaultWith(function(){return cY(c0);},cZ.$0);};m.ifError=function(cY,cZ){return g.defaultValue(cY,cZ.$0);};m.failIfTrue=function(cY,cZ){return cZ?m.fail(cY):m.succeed();};m.failIfFalse=function(cY,cZ){return cZ?m.succeed():m.fail(cY);};m.tryProtection=function(){return m.succeed();};m.toOptionMs=function(cY){return[cY.$0,cY.$1];};m.toOption=function(cY){return cY.$0;};m.fromOption=function(cY,cZ){return cZ!=null&&cZ.$==1?m.succeed(cZ.$0):m.fail(cY);};m.fromChoice=function(cY){return cY.$==1?m.fail(cY.$0):m.succeed(cY.$0);};m.result=function(){bY.$cctor();return bY.result;};m.tryCall=function(cY,cZ){try{return cY(cZ);}catch(c0){return m.fail(m.failException(c0));}};m.failException=function(cY){return new j.New(cY);};m.Success=function(cY){return cY.$0==null?{$:1,$0:cY.$1}:{$:0,$0:[cY.$0.$0,cY.$1]};};m.failSimpleWarning=function(cY){return m.fail(new l.New(cY,true));};m.failSimpleError=function(cY){return m.fail(new l.New(cY,false));};m.apply=function(cY,cZ){var c0,c1,c2,c3,c4;c0=cY.$1;c1=cZ.$1;c2=cY.$0;c3=cZ.$0;return c2!=null&&c2.$==1&&(c3!=null&&c3.$==1&&(c4=[c2.$0,c3.$0],true))?{$:0,$0:{$:1,$0:c4[0](c4[1])},$1:b$.append(c0,c1)}:{$:0,$0:null,$1:b$.append(c0,c1)};};m.bind=function(cY,cZ){var c0,c1,c2;c0=cZ.$0;c1=cZ.$1;return c0==null?{$:0,$0:null,$1:c1}:(c2=cY(c0.$0),{$:0,$0:c2.$0,$1:b$.append(c1,c2.$1)});};m.combine=function(cY){var cZ;cZ=cY.$1;return function(c0){return m.mergeMsgs(cZ,c0);};};m.mergeMsgs=function(cY,cZ){var c0;c0=m.mapMsgs(function(c1){return b$.append(cY,c1);},cZ);return{$:0,$0:c0[0],$1:c0[1]};};m.getMsgs=function(cY){return cY.$1;};m.getOption=function(cY){return cY.$0;};m.mapMsgs=function(cY,cZ){return[cZ.$0,cY(cZ.$1)];};m.mapMsg=function(cY,cZ){return[cZ.$0,b$.map(cY,cZ.$1)];};m.map=function(cY,cZ){var c0;return{$:0,$0:(c0=cZ.$0,c0==null?null:{$:1,$0:cY(c0.$0)}),$1:cZ.$1};};m.failWithMsgs=function(cY){return{$:0,$0:null,$1:cY};};m.fail=function(cY){return{$:0,$0:null,$1:b$.ofArray([cY])};};m.succeedWithMsgs=function(cY,cZ){return{$:0,$0:{$:1,$0:cY},$1:cZ};};m.succeedWithMsg=function(cY,cZ){return{$:0,$0:{$:1,$0:cY},$1:b$.ofArray([cZ])};};m.succeed=function(cY){return{$:0,$0:{$:1,$0:cY},$1:b$.T.Empty};};o.toResult=function(){bY.$cctor();return bY.toResult;};o.fromResult=function(){bY.$cctor();return bY.fromResult;};p.StartAsTask=function(cY,cZ,c0){return b3.StartAsTask(p.getAsyncR(cY),c0);};p.Start=function(cY,cZ){b3.Start(p.getAsync(cY),cZ);};q=p.Builder=b8.Class({For:function(cY,cZ){var c0;c0=this;return this.Using(b_.Get(cY),function(c1){return c0.While(function(){return c1.MoveNext();},c0.Delay(function(){return cZ(c1.Current());}));});},Using:function(cY,cZ){return this.TryFinally(function(){return cZ(cY);},function(){if(!b5.Equals(cY,null))cY.Dispose();});},TryFinally:function(cY,cZ){var c0;return{$:2,$0:(c0=null,b3.Delay(function(){return b3.Bind(b3.Catch(p.toAsyncResult(cY())),function(c1){var c2,c3;cZ();if(c1.$==1)throw c1.$0;else c3=c1.$0;return b3.Return(c3);});}))};},TryWith:function(cY,cZ){var c0;return{$:2,$0:(c0=null,b3.Delay(function(){return b3.Bind(b3.Catch(p.toAsyncResult(cY())),function(c1){return b3.Return(c1.$==1?cZ(c1.$0):c1.$0);});}))};},While:function(cY,cZ){return p.whileLoop(cY,cZ);},Combine:function(cY,cZ){return p.combine(p.errOptionIsNone(),cY,cZ);},Run:function(cY){return cY();},Delay:a.id,ReturnFrom:a.id,Return:function(cY){return{$:3,$0:cY};},Zero:function(){return{$:3,$0:null};},Bind:function(cY,cZ){return p.bind(cZ,{$:4,$0:cY});},Bind$1:function(cY,cZ){return p.bind(cZ,{$:0,$0:cY});},Bind$2:function(cY,cZ){return p.bind(cZ,{$:1,$0:cY});},Bind$3:function(cY,cZ){return p.bind(cZ,cY);}},i,q);q.New=b8.Ctor(function(){},q);p.runSynchronouslyS=function(cY,cZ){var c0;c0=p.runSynchronouslyO(cY,cZ);return c0[0]==null?(function(c1){return function(c2){return c1("Failed!\n"+b9.toSafe(c2));};}(a.id))(c0[1]):(((b8.Curried3(function(c1,c2,c3){return c1(a.String(c2)+"\n"+b9.toSafe(c3));}))(a.id))(c0[0].$0))(c0[1]);};p.runSynchronouslyO=function(cY,cZ){return m.mapMsgs(cY?m.countMessages:m.getMessages,ca.log("runSynchronously should not be used in Javascript"));};p.getResult=function(cY,cZ){if(cZ.$==4){if(cZ.$0==null)cY(m.fail(p.errOptionIsNone()));else cY(m.succeed(cZ.$0.$0));}else if(cZ.$==0)cY(cZ.$0);else if(cZ.$==1)b3.StartWithContinuations(cZ.$0,function(c0){cY(m.succeed(c0));},function(c0){cY(m.fail(m.failException(c0)));},function(c0){cY(m.fail(m.failException(c0)));},null);else if(cZ.$==2)b3.StartWithContinuations(cZ.$0,cY,function(c0){cY(m.fail(m.failException(c0)));},function(c0){cY(m.fail(m.failException(c0)));},null);else cY(m.succeed(cZ.$0));};p.wrapper=function(){bY.$cctor();return bY.wrapper;};p.wrap=function(){bY.$cctor();return bY.wrap;};p.whileLoop=function(cY,cZ){return cY()?p.bind(function(){return p.whileLoop(cY,cZ);},cZ()):{$:3,$0:null};};p.combine=function(cY,cZ,c0){var c1,c2,c3,c4;switch(cZ.$==4?cZ.$0==null?3:0:cZ.$==0?cZ.$0.$1.$==0?0:(c1=cZ.$0.$1,4):cZ.$==1?(c1=cZ.$0,1):cZ.$==2?(c1=cZ.$0,2):0){case 0:return c0();break;case 1:return{$:2,$0:(c2=null,b3.Delay(function(){return b3.Bind(c1,function(){return b3.Bind(p.toAsyncResult(c0()),function(c5){return b3.Return(c5);});});}))};break;case 2:return{$:2,$0:(c3=null,b3.Delay(function(){return b3.Bind(c1,function(c5){var c6,c7;c7=m.Success(c5);c7.$==0?c6=c7.$0[1]:c6=c7.$0;return b3.Bind(p.toAsyncResult(c0()),function(c8){return b3.Return(m.mergeMsgs(c6,c8));});});}))};break;case 3:c4=c0();return p.addMsgs(cY,b$.ofArray([cY]),c4);break;case 4:return p.addMsgs(cY,c1,c0());break;}};p.addMsgs=function(cY,cZ,c0){var c1,c2,c3;if(cZ.$===0)return c0;else switch(c0.$==4?c0.$0==null?1:(c1=c0.$0.$0,0):c0.$==0?(c1=c0.$0,2):c0.$==1?(c1=c0.$0,3):c0.$==2?(c1=c0.$0,4):(c1=c0.$0,0)){case 0:return{$:0,$0:m.succeedWithMsgs(c1,cZ)};break;case 1:return{$:0,$0:m.mergeMsgs(cZ,m.fail(cY))};break;case 2:return{$:0,$0:m.mergeMsgs(cZ,c1)};break;case 3:return{$:2,$0:(c2=null,b3.Delay(function(){return b3.Bind(c1,function(c4){return b3.Return(m.succeedWithMsgs(c4,cZ));});}))};break;case 4:return{$:2,$0:(c3=null,b3.Delay(function(){return b3.Bind(c1,function(c4){return b3.Return(m.mergeMsgs(cZ,c4));});}))};break;}};p.wrapper2Async=function(cY,cZ){var c0,c1,c2,c3;c1=p.tryCall(cY,cZ);switch(c1.$==4?0:c1.$==0?1:c1.$==1?2:c1.$==2?3:0){case 0:return p.wb2arb(b$.T.Empty,c1);break;case 1:return p.wb2arb(c1.$0.$1,c1);break;case 2:c2=c1.$0;c3=null;return b3.Delay(function(){return b3.Bind(c2,function(c4){return b3.Return(m.succeed(c4));});});break;case 3:return c1.$0;break;}};p.start=function(cY,cZ){p.startV(function(c0){if(c0[0]==null)cY("Failed!\n"+c0[1]);else cY(c0[1]);},cZ);};p.startV=function(cY,cZ){var c0,c1,c2,c3;function c4(c7){return m.mapMsgs(m.getMessages,c7);}function c5(c7){return[null,c7];}function c6(c7){return[null,c7];}b3.StartWithContinuations(p.getAsyncR(cZ),function(c7){return cY(c4(c7));},(c0=(c1=function(c7){return function(c8){return c7(b9.prettyPrint(c8));};}(a.id),function(c7){return c5(c1(c7));}),function(c7){return cY(c0(c7));}),(c2=(c3=function(c7){return function(c8){return c7(b9.prettyPrint(c8));};}(a.id),function(c7){return c6(c3(c7));}),function(c7){return cY(c2(c7));}),null);};p.toAsyncWithDefault=function(cY){return function(cZ){return p.getAsyncWithDefault(cY,cZ);};};p.toAsyncOptionMs=function(cY){return d.map(m.toOptionMs,p.getAsyncR(cY));};p.toAsyncOption=function(cY){return d.map(m.toOption,p.getAsyncR(cY));};p.toAsyncResult=function(cY){return p.getAsyncR(cY);};p.toAsync=function(cY){return p.getAsync(cY);};p.getAsync=function(cY){return p.getAsyncWithDefault(function(cZ){throw a.Error(m.getMessages(cZ));},cY);};p.getAsyncWithDefault=function(cY,cZ){return d.map(function(c0){return m.withError(cY,c0);},p.getAsyncR(cZ));};p.getAsyncR=function(cY){var cZ,c0;return cY.$==3?b3.Return(m.succeed(cY.$0)):cY.$==4?b3.Return(m.fromOption(p.errOptionIsNone(),cY.$0)):cY.$==0?b3.Return(cY.$0):cY.$==2?cY.$0:(cZ=cY.$0,(c0=null,b3.Delay(function(){return b3.Bind(cZ,function(c1){return b3.Return(m.succeed(c1));});})));};p.map=function(cY){var cZ;cZ=function(c0){return p.Return(cY(c0));};return function(c0){return p.bind(cZ,c0);};};p.Return=function(cY){return{$:3,$0:cY};};p.bind=function(cY,cZ){var c0,c1,c2,c3,c4;switch(cZ.$==4?cZ.$0==null?1:(c0=cZ.$0.$0,0):cZ.$==0?(c1=m.Success(cZ.$0),c1.$==1?(c0=c1.$0,2):c1.$0[1].$==0?(c0=c1.$0[0],0):(c0=[c1.$0[0],c1.$0[1]],3)):cZ.$==1?(c0=cZ.$0,4):cZ.$==2?(c0=cZ.$0,5):(c0=cZ.$0,0)){case 0:return p.tryCall(cY,c0);break;case 1:return{$:4,$0:null};break;case 2:return{$:0,$0:m.failWithMsgs(c0)};break;case 3:c2=c0[1];return function(c5){var c6,c7,c8,c9;switch(c5.$==4?c5.$0==null?1:(c6=c5.$0.$0,0):c5.$==0?(c7=m.Success(c5.$0),c7.$==1?(c6=c7.$0,4):c7.$0[1].$==0?(c6=c7.$0[0],2):(c6=[c7.$0[0],c7.$0[1]],3)):c5.$==1?(c6=c5.$0,5):c5.$==2?(c6=c5.$0,6):(c6=c5.$0,0)){case 0:return{$:0,$0:m.succeedWithMsgs(c6,c2)};break;case 1:return{$:0,$0:m.failWithMsgs(new b$.T({$:1,$0:p.errOptionIsNone(),$1:c2}))};break;case 2:return{$:0,$0:m.succeedWithMsgs(c6,c2)};break;case 3:return{$:0,$0:m.succeedWithMsgs(c6[0],b$.append(c2,c6[1]))};break;case 4:return{$:0,$0:m.failWithMsgs(b$.append(c2,c6))};break;case 5:return{$:2,$0:(c8=null,b3.Delay(function(){return b3.Bind(c6,function(c_){return b3.Return(m.succeedWithMsgs(c_,c2));});}))};break;case 6:return{$:2,$0:(c9=null,b3.Delay(function(){return b3.Bind(c6,function(c_){return b3.Return(m.mergeMsgs(c2,c_));});}))};break;}}(p.tryCall(cY,c0[0]));break;case 4:return{$:2,$0:(c3=null,b3.Delay(function(){return b3.Bind(c0,function(c5){return p.wb2arb(b$.T.Empty,p.tryCall(cY,c5));});}))};break;case 5:return{$:2,$0:(c4=null,b3.Delay(function(){return b3.Bind(c0,function(c5){var c6,c7,c8;c6=m.Success(c5);return c6.$==1?(c7=c6.$0,c8=null,b3.Delay(function(){return b3.Return(m.failWithMsgs(c7));})):p.wb2arb(c6.$0[1],p.tryCall(cY,c6.$0[0]));});}))};break;}};p.tryCall=function(cY,cZ){try{return cY(cZ);}catch(c0){return{$:0,$0:m.fail(m.failException(c0))};}};p.wb2arb=function(cY,cZ){var c0,c1,c2,c3,c4,c5;switch(cZ.$==2?(c0=cZ.$0,1):cZ.$==0?(c0=cZ.$0,2):cZ.$==3?(c0=cZ.$0,3):cZ.$==4?cZ.$0==null?4:(c0=cZ.$0.$0,3):(c0=cZ.$0,0)){case 0:c1=null;return b3.Delay(function(){return b3.Bind(c0,function(c6){return b3.Return(m.succeedWithMsgs(c6,cY));});});break;case 1:c2=null;return b3.Delay(function(){return b3.Bind(c0,function(c6){return b3.Return(m.mergeMsgs(cY,c6));});});break;case 2:c3=null;return b3.Delay(function(){return b3.Return(m.mergeMsgs(cY,c0));});break;case 3:c4=null;return b3.Delay(function(){return b3.Return(m.succeedWithMsgs(c0,cY));});break;case 4:c5=null;return b3.Delay(function(){return b3.Return(m.failWithMsgs(new b$.T({$:1,$0:p.errOptionIsNone(),$1:cY})));});break;}};p.errOptionIsNone=function(){bY.$cctor();return bY.errOptionIsNone;};r.fold=function(cY,cZ){return cc.Start(function(c0){function c1(c2){var c3;c3=null;return b3.Delay(function(){return b3.Bind(c0.Receive(null),function(c4){return b3.Bind(cY(c2,c4),function(c5){return c1(c5);});});});}return c1(cZ);},null);};r.iter=function(cY){return cc.Start(function(cZ){var c0;c0=null;return b3.Delay(function(){return b3.While(function(){return true;},b3.Delay(function(){return b3.Bind(cZ.Receive(null),function(c1){return b3.Bind(cY(c1),function(){return b3.Return(null);});});}));});},null);};s.add=function(cY,cZ,c0){if(c0.ContainsKey(cY))c0.set_Item(cY,cZ);else c0.Add(cY,cZ);};t=c.ResetableMemoize=b8.Class({ClearCache:function(){this.cache.Clear();}},i,t);t.New=b8.Ctor(function(cY){this.f=cY;this.cache=new ce.New$5();},t);u.NoPrepo={$:11};u.PrepoEndIf={$:8};u.PrepoElse={$:7};c.asyncStartCancelling=function(){var cY;cY=null;return function(cZ){var c0;cY==null?void 0:cY.$0.Cancel$1();c0=new cf.New();b3.Start(cZ,{$:1,$0:c0});cY={$:1,$0:c0};};};c.separateDirectives=function(cY){var cZ,c0,c1,c2;function c3(c$){return c$[1];}function c4(c$){return c$.$==0?{$:1,$0:c$.$0}:null;}function c5(c$){return c$[1];}function c6(c$){return c$.$==1?{$:1,$0:c$.$0}:null;}function c7(c$){return c$[1];}function c8(c$){return c$.$==5?{$:1,$0:c$.$0}:null;}function c9(c$){return c$[1];}function c_(c$){return c$.$==4?{$:1,$0:c$.$0}:null;}cZ=cg.ofSeq(b4.distinct(b4.choose(function(c$){return c4(c3(c$));},cY)));c0=cg.ofSeq(b4.distinct(b4.choose(function(c$){return c6(c5(c$));},cY)));c1=cg.ofSeq(b4.distinct(b4.choose(function(c$){return c8(c7(c$));},cY)));c2=cg.ofSeq(b4.distinct(b4.choose(function(c$){return c_(c9(c$));},cY)));return[cg.ofSeq(b4.map(function(c$){return c$[0];},cY)),cZ,c0,c1,c2];};c.separatePrepros=function(cY,cZ){var c0;function c1(c4){return g.defaultValue(c4,b4.tryLast(b6.SplitStrings(b6.Trim(c4),["\""],1)));}function c2(c4){return g.defaultValue("",b4.tryHead(b6.SplitStrings(b6.Trim(c4),["#define "],1)));}function c3(c4){return"//"+c4;}c0=cY?c3:a.id;return cg.map(function(c4){var c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df;c5=true;return c5&&b6.StartsWith(c4,"#define")?[c3(c4),{$:1,$0:c2(c4)}]:c5&&b6.StartsWith(c4,"#r")?[c3(c4),{$:0,$0:c1(c4)}]:c5&&b6.StartsWith(c4,"#load")?[c3(c4),{$:2,$0:c1(c4)}]:c5&&b6.StartsWith(c4,"#nowarn")?[c3(c4),{$:4,$0:c1(c4)}]:c5&&b6.StartsWith(c4,"# ")?[c0(c4),{$:3,$0:c1(c4)}]:c5&&b6.StartsWith(c4,"#line")?[c0(c4),{$:3,$0:c1(c4)}]:c5&&b6.StartsWith(c4,"#I")?[c3(c4),{$:5,$0:c1(c4)}]:c5&&b6.StartsWith(c4,"#if")?[c4,{$:6,$0:c4}]:c5&&b6.StartsWith(c4,"#else")?[c4,u.PrepoElse]:c5&&b6.StartsWith(c4,"#endif")?[c4,u.PrepoEndIf]:c5&&b6.StartsWith(c4,"#light")?[c4,{$:9,$0:false}]:c5&&b6.StartsWith(c4,"#")?[c3(c4),{$:10,$0:c4}]:[c4,u.NoPrepo];},cZ);};c.printoutfn=function(cY,cZ){return cZ(function(c0){return cY(c0+"\n");});};c.dprintfn=function(cY){return cY(function(cZ){((function(c0){return function(c1){return c0(b9.toSafe(c1));};}(function(c0){ca.log(c0);}))(cZ));});};c.__=function(cY,cZ,c0){return cY(c0,cZ);};c.swap=function(cY,cZ,c0){return cY(c0,cZ);};c.REGEX=function(cY,cZ,c0){var c1;if(c0===null)return null;else try{c1=(new a.String(c0)).match(new a.RegExp(cY,cZ));return b5.Equals(c1,null)?null:c1&&cg.length(c1)===0?null:{$:1,$0:c1};}catch(c2){return null;}};c.extract=function(cY,cZ){var c0;return b6.Substring(cZ,0,(c0=cZ.length,b5.Compare(cY,c0)===-1?cY:c0));};w=v.MessagingClient=b8.Class({poStrings:function(cY){return cY.$==1?cY.$0:[(function(cZ){return function(c0){return cZ("unexpected response: "+b9.toSafe(c0));};}(a.id))(cY.$0)];},poString:function(cY){return cY.$==1?(function(cZ){return function(c0){return cZ(b9.printArray(b9.prettyPrint,c0));};}(a.id))(cY.$0):cY.$0;},poMsg:function(cY,cZ){var c0,c1;c0=this;c1=null;return b3.Delay(function(){return b3.Bind(c0.sendMessage(v.AddressId("WebServer:PostOffice"),ch.stringify((b0.j$10())(cZ))),function(c2){return b3.Return(cY((bZ.j$10())(ch.parse(c2))));});});},sendMessage:function(cY,cZ){return(((v.sendRequestF())(cY))(this.fromId))(cZ);},awaitMessage:function(cY){var cZ,c0;cZ=this;(v.AsyncStartF())((c0=null,b3.Delay(function(){return b3.While(function(){return cZ.active;},b3.Delay(function(){((((b8.Curried(function(c1,c2,c3,c4){return c1(b9.toSafe(c2)+" awaitRequest "+b9.toSafe(c3)+" "+b9.toSafe(c4));},4))(function(c1){ca.log(c1);}))(function(c1){return c1.getFullYear()+"-"+(c1.getMonth()+1)+"-"+c1.getDate()+" "+c1.getHours()+":"+c1.getMinutes()+":"+c1.getSeconds()+":"+c1.getMilliseconds();}(new a.Date(ci.now()))))(cZ.clientId))(cZ.wsEndPoint);return b3.Bind(b3.StartChild((v.awaitRequestForF())(cZ.fromId),{$:1,$0:cZ.tout}),function(c1){return b3.TryWith(b3.Delay(function(){return b3.Bind(c1,function(c2){return b3.Bind(cY(v.addressIdTxt(c2.fromId),c2.content),function(c3){return b3.Bind(((v.replyToF())(c2.messageId.$0))(c3),function(){return b3.Return(null);});});});}),function(c2){return c2 instanceof h.TimeoutException?b3.Zero():((function(c3){return function(c4){return c3(b9.prettyPrint(c4));};}(function(c3){ca.log(c3);}))(c2),b3.Zero());});});}));})));},Deactivate:function(){this.active=false;},get_ClientId:function(){return this.clientId;},get_EndPoint:function(){return this.wsEndPoint;},POListeners:function(){var cY;cY=this;return this.poMsg(function(cZ){return cY.poStrings(cZ);},ck.POMessage.POListeners);},POMessage:function(cY){return this.poMsg(a.id,cY);},SendMessage:function(cY,cZ){return this.sendMessage(cY,cZ);},AwaitMessage:function(cY){this.awaitMessage(cY);},AwaitMessage$1:function(cY){this.awaitMessage(function(cZ,c0){var c1;c1=null;return b3.Delay(function(){return b3.Return(cY(cZ,c0));});});},Dispose:function(){this.active=false;}},i,w);w.get_EndPoint_=function(){return cl.EndPoint();};w.New=b8.Ctor(function(cY,cZ,c0){this.clientId=cY;this.active=true;this.wsEndPoint=g.defaultValue(cl.EndPoint(),c0);this.tout=g.defaultValue(100000,cZ);this.fromId=v.AddressId(this.clientId);cl.set_EndPoint(this.wsEndPoint);},w);x.GenInfor={$:2};x.GenWarning={$:1};x.GenError={$:0};y=v.CodeSnippetId=b8.Class({get_Text:function(){return a.String(this.$0);}},null,y);y.get_New=function(){return new y({$:0,$0:cn.NewGuid()});};z=v.CodeSnippet=b8.Class({SeparateCode:function(cY){var cZ,c0,c1,c2,c3,c4;function c5(c6,c7){return[b6.replicate(c0," ")+c6,c7];}cZ=!cY||this.properties.ContainsKey("NoLinePre");c0=this.levelCode*2;c1=c0===0?[a.id,""]:[function(c6){return cg.map(function(c7){return c5(c7[0],c7[1]);},c6);},(function(c6){return function(c7){return c6("("+a.String(c7)+")");};}(a.id))(c0)];c2=c.separateDirectives(c1[0](c.separatePrepros(!cY,(cZ?a.id:(c3=[(((b8.Curried3(function(c6,c7,c8){return c6("# 1 @\""+b9.toSafe(c7)+b9.toSafe(c8)+"\"");}))(a.id))(c1[1]))(this.get_NameSanitized())],function(c6){return c3.concat(c6);}))(b6.SplitChars(this.content,["\n"],0)))));c4=c2[0];return[[[this.get_NameSanitized(),cg.length(c4),c0]],c4,c2[1],c2[2],c2[3],c2[4]];},UniquePredecessors:function(cY){return v.predsL(cY,b$.ofArray([this.id]));},get_NameSanitized:function(){return this.id.get_Text()+" "+v.sanitize(this.get_Name())+".fsx";},get_Name:function(){return v.snippetName(this.name,this.content);}},null,z);z.CodeFsx=function(cY,cZ){return(z.CodeAndStarts(cY,cZ))[0];};z.CodeAndStarts=function(cY,cZ){var c0;c0=z.ReducedCode(cY,cZ);return z.FinishCode(cY,c0[0],c0[1],c0[2],c0[3],c0[4],c0[5]);};z.FinishCode=function(cY,cZ,c0,c1,c2,c3,c4){var c5,c6;c5=b6.concat(" ",b4.map(function(c7){return"-d:"+c7;},b4.sort(c2)));c6=b$.ofSeq(b4.delay(function(){return b4.append(c5!==""?["////"+c5]:[],b4.delay(function(){return b4.append(b4.map(function(c7){return function(c8){return c7("#I @\""+b9.toSafe(c8)+"\"");};}(a.id),c3),b4.delay(function(){return b4.append(b4.map(function(c7){return function(c8){return c7("#r @\""+b9.toSafe(c8)+"\"");};}(a.id),c1),b4.delay(function(){return b4.append(cY&&!b4.isEmpty(c4)?["# 1 \"required for nowarns to work\""]:[],b4.delay(function(){return b4.map(function(c7){return function(c8){return c7("#nowarn \""+b9.toSafe(c8)+"\"");};}(a.id),c4);}));}));}));}));}));return[b6.concat("\n",b4.append(c6,c0)),cg.ofSeq((b4.mapFold(function(c7,c8){var c9;c9=c8[1];return[[c8[0],[c8[2],c7,c7+c9]],c7+c9];},c6.get_Length(),cZ))[0])];};z.ReducedCode=function(cY,cZ){var c0,c1;function c2(c3,c4,c5,c6,c7,c8){return function(c9){return z.AddSeps(c3,c4,c5,c6,c7,c8,c9[0],c9[1],c9[2],c9[3],c9[4],c9[5]);};}c0=b4.reduce(function(c3,c4){return(function(c5){return c2(c5[0],c5[1],c5[2],c5[3],c5[4],c5[5]);}(c3))(c4);},(c1=b4.map(function(c3){return c3.SeparateCode(cY);},cZ),b4.isEmpty(c1)?[[[],[],[],[],[],[]]]:c1));return[c0[0],[b6.concat("\n",c0[1])],c0[2],c0[3],c0[4],c0[5]];};z.AddSeps=function(cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9){return[cY.concat(c4),cZ.concat(c5),cg.ofSeq(b4.distinct(b4.append(c0,c6))),cg.ofSeq(b4.distinct(b4.append(c1,c7))),cg.ofSeq(b4.distinct(b4.append(c2,c8))),cg.ofSeq(b4.distinct(b4.append(c3,c9)))];};z.TryFindByKey=function(cY,cZ){return b4.tryFind(function(c0){return b5.Equals(c0.id,cZ);},cY);};z.New=function(cY,cZ,c0,c1,c2,c3,c4,c5,c6){return new z({name:cY,content:cZ,parent:c0,predecessors:c1,id:c2,expanded:c3,level:c4,levelCode:c5,properties:c6});};A.GetWholeFile={$:11};A.GetIdentification={$:0};B.FSInfor={$:2};B.FSWarning={$:1};B.FSError={$:0};C=v.FsStationClientErr=b8.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return this.$==0&&this.$1.$==0;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return this.$==0?(((b8.Curried3(function(cY,cZ,c0){return cY(b1.p(cZ)+" "+b9.toSafe(c0));}))(a.id))(this.$1))(this.$0):(function(cY){return function(cZ){return cY(b1.p$1(cZ));};}(a.id))(this);}},null,C);D=v.FsStationClient=b8.Class({snippetResponse:function(cY){return cY.$==2?m.succeed(cY.$0):m.fail(new C({$:1,$0:a.String(cY)}));},snippetsResponse:function(cY){return cY.$==3?m.succeed(cY.$0):m.fail(new C({$:1,$0:a.String(cY)}));},stringResponse:function(cY){var cZ,c0;return cY.$==1&&((c0=cY.$0,c0!=null&&c0.$==1)&&(cZ=cY.$0.$0,true))?m.succeed(cZ):m.fail(new C({$:1,$0:a.String(cY)}));},stringResponseR:function(cY){var cZ,c0;function c1(c2,c3){return new C({$:0,$0:c2,$1:c3});}return cY.$==4&&((c0=cY.$0,c0!=null&&c0.$==1)&&(cZ=[cY.$0.$0,cY.$1],true))?m.succeedWithMsgs(cZ[0],b$.ofSeq(b4.map(function(c2){return c1(c2[0],c2[1]);},cZ[1]))):m.fail(new C({$:1,$0:a.String(cY)}));},get_MessagingClient:function(){return this.msgClient;},get_FSStationId:function(){return this.fsIds;},RunActionCall:function(cY,cZ,c0){var c1,c2,c3;function c4(c5){return c1.stringResponseR(c5);}c1=this;c2=this.msgClient.SendMessage(this.toId,ch.stringify((b0.j$4())({$:14,$0:cY,$1:cZ,$2:c0})));c3=p.wrapper();return c3.Run(c3.Delay(function(){return c3.Bind$2(c2,function(c5){return c3.Bind$1(c4((bZ.j$4())(ch.parse(c5))),function(c6){return c3.Return(c6);});});}));},RunSnippet:function(cY,cZ){var c0,c1,c2;function c3(c4){return c0.stringResponseR(c4);}c0=this;c1=this.msgClient.SendMessage(this.toId,ch.stringify((b0.j$4())({$:13,$0:b6.SplitChars(cZ,["/"],0),$1:cY})));c2=p.wrapper();return c2.Run(c2.Delay(function(){return c2.Bind$2(c1,function(c4){return c2.Bind$1(c3((bZ.j$4())(ch.parse(c4))),function(c5){return c2.Return(c5);});});}));},GenericMessage:function(cY){var cZ,c0,c1;function c2(c3){return cZ.stringResponse(c3);}cZ=this;c0=this.msgClient.SendMessage(this.toId,ch.stringify((b0.j$4())({$:1,$0:cY})));c1=p.wrapper();return c1.Run(c1.Delay(function(){return c1.Bind$2(c0,function(c3){return c1.Bind$1(c2((bZ.j$4())(ch.parse(c3))),function(c4){return c1.Return(c4);});});}));},RequestWholeFile:function(){var cY,cZ,c0;function c1(c2){return cY.stringResponse(c2);}cY=this;cZ=this.msgClient.SendMessage(this.toId,ch.stringify((b0.j$4())(A.GetWholeFile)));c0=p.wrapper();return c0.Run(c0.Delay(function(){return c0.Bind$2(cZ,function(c2){return c0.Bind$1(c1((bZ.j$4())(ch.parse(c2))),function(c3){return c0.Return(c3);});});}));},RequestPredsById:function(cY){var cZ,c0,c1;function c2(c3){return cZ.snippetsResponse(c3);}cZ=this;c0=this.msgClient.SendMessage(this.toId,ch.stringify((b0.j$4())({$:4,$0:cY})));c1=p.wrapper();return c1.Run(c1.Delay(function(){return c1.Bind$2(c0,function(c3){return c1.Bind$1(c2((bZ.j$4())(ch.parse(c3))),function(c4){return c1.Return(c4);});});}));},RequestPreds:function(cY){var cZ,c0,c1;function c2(c3){return cZ.snippetsResponse(c3);}cZ=this;c0=this.msgClient.SendMessage(this.toId,ch.stringify((b0.j$4())({$:8,$0:b6.SplitChars(cY,["/"],0)})));c1=p.wrapper();return c1.Run(c1.Delay(function(){return c1.Bind$2(c0,function(c3){return c1.Bind$1(c2((bZ.j$4())(ch.parse(c3))),function(c4){return c1.Return(c4);});});}));},RequestJSCode:function(cY){var cZ,c0,c1;function c2(c3){return cZ.stringResponseR(c3);}cZ=this;c0=this.msgClient.SendMessage(this.toId,ch.stringify((b0.j$4())({$:10,$0:b6.SplitChars(cY,["/"],0)})));c1=p.wrapper();return c1.Run(c1.Delay(function(){return c1.Bind$2(c0,function(c3){return c1.Bind$1(c2((bZ.j$4())(ch.parse(c3))),function(c4){return c1.Return(c4);});});}));},RequestCode:function(cY){var cZ,c0,c1;function c2(c3){return cZ.stringResponse(c3);}cZ=this;c0=this.msgClient.SendMessage(this.toId,ch.stringify((b0.j$4())({$:7,$0:b6.SplitChars(cY,["/"],0)})));c1=p.wrapper();return c1.Run(c1.Delay(function(){return c1.Bind$2(c0,function(c3){return c1.Bind$1(c2((bZ.j$4())(ch.parse(c3))),function(c4){return c1.Return(c4);});});}));},RequestSnippet:function(cY){var cZ,c0,c1;function c2(c3){return cZ.snippetResponse(c3);}cZ=this;c0=this.msgClient.SendMessage(this.toId,ch.stringify((b0.j$4())({$:9,$0:b6.SplitChars(cY,["/"],0)})));c1=p.wrapper();return c1.Run(c1.Delay(function(){return c1.Bind$2(c0,function(c3){return c1.Bind$1(c2((bZ.j$4())(ch.parse(c3))),function(c4){return c1.Return(c4);});});}));},SendMessage:function(cY){var cZ,c0;cZ=this.msgClient.SendMessage(this.toId,ch.stringify((b0.j$4())(cY)));c0=p.wrapper();return c0.Run(c0.Delay(function(){return c0.Bind$2(cZ,function(c1){return c0.Bind$1(m.succeed((bZ.j$4())(ch.parse(c1))),function(c2){return c0.Return(c2);});});}));},SendMessage$1:function(cY,cZ){var c0,c1;c0=this.msgClient.SendMessage(cY,ch.stringify((b0.j$4())(cZ)));c1=p.wrapper();return c1.Run(c1.Delay(function(){return c1.Bind$2(c0,function(c2){return c1.Bind$1(m.succeed((bZ.j$4())(ch.parse(c2))),function(c3){return c1.Return(c3);});});}));}},i,D);D.get_FSStationId_=function(){return"FSharpStation1518784878221";};D.New=b8.Ctor(function(cY,cZ,c0,c1){this.fsIds=g.defaultValue("FSharpStation1518784878221",cZ);this.msgClient=new w.New(cY,c0,c1);this.toId=v.AddressId(this.fsIds);},D);v.predsL=function(cY,cZ){var c0,c1;c0=cZ;c1=b$.T.Empty;while(!(c0.$==0))(function(){var c2,c3;return c0.$==1?(c2=c0.$1,(c3=c0.$0,b4.contains(c3,c1)?void(c0=c2):(c0=b$.collect(a.id,b$.ofArray([c2,b$.collect(function(c4){return b$.append(co.toList(c4.parent),c4.predecessors);},co.toList(cY(c3)))])),void(c1=new b$.T({$:1,$0:c3,$1:c1}))))):null;}());return c1;};v.preds=function(cY,cZ,c0){var c1,c2;return c0.$==1?(c1=c0.$0,(c2=b$.collect(a.id,b$.ofArray([c0.$1,b$.collect(function(c3){return b$.append(co.toList(c3.parent),c3.predecessors);},co.toList(cY(c1)))])),v.preds(cY,b4.contains(c1,cZ)?cZ:new b$.T({$:1,$0:c1,$1:cZ}),c2))):cZ;};v.sanitize=function(cY){var cZ;cZ=["\"","<",">","|","\u0000","\u0001","\u0002","\u0003","\u0004","\u0005","\u0006","\u0007","\u0008","\u0009","\n","\u000b","\u000c","\r","\u000e","\u000f","\u0010","\u0011","\u0012","\u0013","\u0014","\u0015","\u0016","\u0017","\u0018","\u0019","\u001a","\u001b","\u001c","\u001d","\u001e","\u001f",":","*","?","\\","/"];return b6.Filter(function(c0){return!cg.contains(c0,cZ);},cY);};v.snippetName=function(cY,cZ){return cY!==""?cY:g.defaultValue("<empty>",b4.tryHead(b4.filter(function(c0){return!(b6.StartsWith(c0,"#")||b6.StartsWith(c0,"[<")||b6.StartsWith(c0,"//"));},b4.map(b6.Trim,b6.SplitChars(cZ,["\n"],1)))));};v.AsyncStartF=function(){bY.$cctor();return bY.AsyncStartF;};v.replyToF=function(){bY.$cctor();return bY.replyToF;};v.sendRequestF=function(){bY.$cctor();return bY.sendRequestF;};v.awaitRequestForF=function(){bY.$cctor();return bY.awaitRequestForF;};v.addressIdTxt=function(cY){return cY.$0;};v.AddressId=function(cY){return{$:0,$0:cY};};v.AsyncStart=function(cY){b3.StartWithContinuations(cY,a.ignore,function(cZ){a.alert(a.String(cZ));},function(cZ){a.alert(a.String(cZ));},null);};v.selectF=a.id;F=E.Address=b8.Class({get_txt:function(){return this.$0;}},null,F);G.BRGetConnections={$:0};H.MsgRequestForEcho={$:5};H.MsgRequestForId={$:4};H.MsgFromBroker={$:3};H.MsgReply={$:2};H.MsgRequest={$:1};H.MsgInformation={$:0};I.BMReceiverCantReply={$:4};I.BMOnlyBrokerShouldUse={$:1};I.BMOk={$:0};J.Receiver={$:2};J.Broker={$:1};J.NoReply={$:0};K.New=function(cY,cZ,c0,c1,c2,c3,c4){return{from:cY,destination:cZ,msgType:c0,subtype:c1,id:c2,payload:c3,replier:c4};};L.NotJS={$:0};M=E.ErrBroker=b8.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return false;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return a.String(this.bm);}},i,M);M.New=b8.Ctor(function(cY){this.bm=cY;},M);N=E.WSMessagingClient=b8.Class({sendMsg:function(cY){var cZ,c0;cZ=this;c0=p.wrapper();return c0.Run(c0.Delay(function(){return cY.replier.$===0?c0.Bind$3(cZ.sendAndForget(cY),function(){return c0.Return("");}):c0.ReturnFrom(cZ.sendGetReply(cY));}));},getListeners:function(){var cY,cZ;cY=this;cZ=p.wrapper();return cZ.Run(cZ.Delay(function(){var c0,c1;return cZ.Bind$3(cY.sendGetReply((c0=E.MessageBrokerAddress(),(c1=ch.stringify((b0.j$11())(G.BRGetConnections)),K.New(new F({$:0,$0:""}),c0,H.MsgRequest,"",cn.NewGuid(),c1,J.NoReply)))),function(c2){return cZ.Return((bZ.j$11())(ch.parse(c2)).$0);});}));},sendGetReply:function(cY){var cZ,c0;cZ=this;c0=p.wrapper();return c0.Run(c0.Delay(function(){return c0.Bind$3(cZ.sendAndReply(J.Receiver,cY),function(c1){var c2;return c0.Bind$1((c2=c1.msgType,c2.$==2?m.succeed(c1.payload):c2.$==3?m.fail(new M.New((bZ.j$12())(ch.parse(c1.payload)))):m.fail(new M.New({$:5,$0:c1.msgType}))),function(c3){return c0.Return(c3);});});}));},sendAndVerify:function(cY){var cZ,c0;cZ=this;c0=p.wrapper();return c0.Run(c0.Delay(function(){return c0.Bind$3(cZ.sendAndReply(J.Broker,cY),function(c1){var c2;return c0.Bind$1(c1.msgType.$==3?(c2=(bZ.j$12())(ch.parse(c1.payload)),c2.$===0?m.succeed():m.fail(new M.New(c2))):m.fail(new M.New({$:5,$0:c1.msgType})),function(){return c0.Return();});});}));},sendAndReply:function(cY,cZ){var c0,c1;c0=this;c1=p.wrapper();return c1.Run(c1.Delay(function(){return c1.Bind$3(c0.getServer(),function(c2){return c1.Bind$2(b3.FromContinuations(function(c3,c4,c5){var c6,c7;c6=c0.waiting;c6.mailbox.AddLast({$:0,$0:cZ.id,$1:[c3,c4,c5]});c6.resume();c0.postR(c2,cY,cZ);return c0.wsTimeout>0?b3.Start((c7=null,b3.Delay(function(){return b3.Bind(b3.Sleep(c0.wsTimeout),function(){var c8;c8=c0.waiting;c8.mailbox.AddLast({$:2,$0:cZ.id,$1:function(){return new cp.New$1((((b8.Curried3(function(c9,c_,c$){return c9("Did not receive reply in "+a.String(c_)+" seconds for Message: "+b2.p$24(c$));}))(a.id))(c0.wsTimeout/1000>>0))(cZ));}});c8.resume();return b3.Zero();});})),null):null;}),function(c3){return c1.Return(c3);});});}));},sendAndForget:function(cY){var cZ,c0;cZ=this;c0=p.wrapper();return c0.Run(c0.Delay(function(){return c0.Bind$3(cZ.getServer(),function(c1){cZ.postR(c1,J.NoReply,cY);return c0.Zero();});}));},postR:function(cY,cZ,c0){cY.FSSGlobal_WSMessagingBroker_IServer$Post(E.replier(cZ,E.from(this.clientAddress,c0)));},getServer:function(){var cY,cZ;cY=this;cZ=p.wrapper();return cZ.Run(cZ.Delay(function(){c.dprintfn(function(c0){return c0("getServer");});return cZ.Combine(cZ.While(function(){return cY.serverO==null;},cZ.Delay(function(){c.dprintfn(function(c0){return c0("getServer Connecting");});return cZ.Bind$2(cY.connectToWebSocketServer(),function(){return cZ.Bind$2(b3.Sleep(200),function(){return cZ.Return();});});})),cZ.Delay(function(){return cZ.Bind(cY.serverO,function(c0){return cZ.Return(c0);});}));}));},connectToWebSocketServer:function(){var cY,cZ;cY=this;c.dprintfn(function(c0){return c0("in connectToWebSocketServer");});cZ=null;return b3.Delay(function(){return b3.Bind(((cY.connectStateful(cY.wsEndPoint))(cY.clientId))(function(c0){var c1;c1=null;return b3.Delay(function(){return b3.Return([0,function(c2){return function(c3){var c4;c4=null;return b3.Delay(function(){(c.dprintfn(function(c5){return function(c6){return c5("connectToWebSocketServer "+b1.p$20(c6));};}))(c3);return b3.Combine(c3.$==2?((c.printoutfn(cY.out,function(c5){return function(c6){return c5("WebSocket "+b9.toSafe(c6)+" connection open.");};}))(cY.clientId),cY.serverO={$:1,$0:c0},b3.Zero()):c3.$==3?((c.printoutfn(cY.out,function(c5){return function(c6){return c5("WebSocket "+b9.toSafe(c6)+" connection closed.");};}))(cY.clientId),cY.close(),b3.Zero()):c3.$==1?((c.printoutfn(cY.out,function(c5){return function(c6){return c5("WebSocket "+b9.toSafe(c6)+" connection error!");};}))(cY.clientId),b3.Zero()):(cY.processMessage(c3.$0),b3.Zero()),b3.Delay(function(){return b3.Return(c2);}));});};}]);});}),function(){c.dprintfn(function(c0){return c0("connectToWebSocketServer with server");});return b3.Zero();});});},processMessage:function(cY){var cZ,c0,c1,c2,c3,c5;c0=this;(c.dprintfn(function(c6){return function(c7){return c6(b2.p$24(c7));};}))(cY);c1=cY.msgType;function c4(c6){c0.reply(c6);}switch(c1.$==2?0:c1.$==0?1:c1.$==1?2:c1.$==5?3:c1.$==4?4:0){case 0:this.processReply(cY);break;case 1:((c.printoutfn(this.out,b8.Curried3(function(c6,c7,c8){return c6("Information from '"+b9.toSafe(c7)+"': "+b9.toSafe(c8));})))(cY.from.get_txt()))(((cr.Id())())(ch.parse(cY.payload)));break;case 2:c2=this.payloadProcessorO;c2!=null&&c2.$==1?p.Start((c3=c0.mapPayloadWrap(c2.$0,cY),(p.map(function(c6){return c4(E.makeReply(c6));}))(c3)),null):cY.replier.$===2?null:null;break;case 3:c0.reply(E.msgType(H.MsgInformation,E.mapPayload(a.id,cY)));break;case 4:c0.reply(E.msgType(H.MsgInformation,(c5=E.makeReply(cY),K.New(c5.from,c5.destination,c5.msgType,c5.subtype,c5.id,ch.stringify(((cr.Id())())(this.clientId)),c5.replier))));break;}},mapPayloadWrap:function(cY,cZ){var c0;c0=p.wrapper();return c0.Run(c0.Delay(function(){return c0.Bind$3(cY(cZ.payload),function(c1){return c0.Return(E.mapPayload(function(){return c1;},cZ));});}));},processReply:function(cY){var cZ;cZ=this.waiting;cZ.mailbox.AddLast({$:1,$0:cY.id,$1:cY});cZ.resume();},close:function(){var cY;cY=this.serverO;cY==null?void 0:(cY.$0.FSSGlobal_WSMessagingBroker_IServer$Close(),this.serverO=null);},reply:function(cY){var cZ;cZ=this.serverO;cZ==null?void 0:cZ.$0.FSSGlobal_WSMessagingBroker_IServer$Post(E.destination(cY.from,E.from(this.clientAddress,cY)));},set_Out:function(cY){this.out=cY;},SendMsg:function(cY){return this.sendMsg(cY);},get_ClientId:function(){return this.clientId;},get_EndPoint:function(){return this.wsEndPoint;},get_MBListeners:function(){return this.getListeners();},Dispose:function(){this.close();}},i,N);N.New=b8.Ctor(function(cY,cZ,c0){N.New$1.call(this,b8.Curried3(function(c1,c2,c3){return d.map(a.ignore,cv.ConnectStateful(function(c4){return ch.stringify((b0.j())(c4));},function(c4){return(bZ.j())(ch.parse(c4));},cw.CreateRemote((((b8.Curried3(function(c4,c5,c6){return c4("ws://"+b9.toSafe(c5)+"?ClientId="+b9.toSafe(c6));}))(a.id))(c1))(c2),{$:1,$0:ct.JsonEncoding.Readable}),function(c4){return c3({FSSGlobal_WSMessagingBroker_IServer$Post:function(c5){return c4.Post(c5);},FSSGlobal_WSMessagingBroker_IServer$Close:function(){return c4.get_Connection().close(0);}});}));}),cY,cZ,c0);},N);N.New$1=b8.Ctor(function(cY,cZ,c0,c1){var c2,c3;c2=this;this.connectStateful=cY;this.clientId=cZ;this.wsEndPoint=(c3=E.extractEndPoint()+"/ws",c1==null?c3:c1.$0);this.clientAddress=new F({$:0,$0:this.clientId});this.wsTimeout=c0==null?60000:c0.$0;this.out=function(c4){return function(c5){return c4(b9.toSafe(c5));};}(function(c4){ca.log(c4);});this.serverO=null;this.payloadProcessorO=null;this.waiting=E.waitingAgent(function(c4){((c.printoutfn(c2.out,b8.Curried3(function(c5,c6,c7){return c5("Reply from '"+b9.toSafe(c6)+"': "+b9.toSafe(c7));})))(c4.from.get_txt()))(c4.payload);});},N);O=E.FsStationClientErr=b8.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return this.$==0&&this.$1.$==0;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return this.$==0?(((b8.Curried3(function(cY,cZ,c0){return cY(b1.p(cZ)+" "+b9.toSafe(c0));}))(a.id))(this.$1))(this.$0):(function(cY){return function(cZ){return cY(b1.p$2(cZ));};}(a.id))(this);}},null,O);P=E.FStationMessaging=b8.Class({snippetResponse:function(cY){return cY.$==2?m.succeed(cY.$0):m.fail(new O({$:1,$0:a.String(cY)}));},snippetsResponse:function(cY){return cY.$==3?m.succeed(cY.$0):m.fail(new O({$:1,$0:a.String(cY)}));},stringResponse:function(cY){var cZ,c0;return cY.$==1&&((c0=cY.$0,c0!=null&&c0.$==1)&&(cZ=cY.$0.$0,true))?m.succeed(cZ):m.fail(new O({$:1,$0:a.String(cY)}));},stringResponseR:function(cY){var cZ,c0;function c1(c2,c3){return new O({$:0,$0:c2,$1:c3});}return cY.$==4&&((c0=cY.$0,c0!=null&&c0.$==1)&&(cZ=[cY.$0.$0,cY.$1],true))?m.succeedWithMsgs(cZ[0],b$.ofSeq(b4.map(function(c2){return c1(c2[0],c2[1]);},cZ[1]))):m.fail(new O({$:1,$0:a.String(cY)}));},toId:function(){return new F({$:0,$0:this.fsIds});},get_MessagingClient:function(){return this.msgClient;},set_FSStationId:function(cY){this.fsIds=cY;},get_FSStationId:function(){return this.fsIds;},RunActionCall:function(cY,cZ,c0){var c1,c2,c3,c4,c5;function c6(c7){return c1.stringResponseR(c7);}c1=this;c2=this.toId();c3=this;c4={$:14,$0:cY,$1:cZ,$2:c0};c5=p.wrap();return c5.Run(c5.Delay(function(){var c7,c8;((function(c9){return function(c_){return c9("FStationMessaging message: "+b1.p$4(c_));};}(function(c9){ca.log(c9);}))(c4));return c5.Bind$3((c7=c3.msgClient.sendGetReply((c8=ch.stringify((b0.j$4())(c4)),K.New(new F({$:0,$0:""}),c2,H.MsgRequest,"",cn.NewGuid(),c8,J.NoReply))),(p.map(function(c9){return(bZ.j$4())(ch.parse(c9));}))(c7)),function(c9){((function(c_){return function(c$){return c_("FStationMessaging response: "+b1.p$6(c$));};}(function(c_){ca.log(c_);}))(c9));return c5.Bind$1(c6(c9),function(c_){return c5.Return(c_);});});}));},RunSnippet:function(cY,cZ){var c0,c1,c2,c3,c4;function c5(c6){return c0.stringResponseR(c6);}c0=this;c1=this.toId();c2={$:13,$0:b6.SplitChars(cZ,["/"],0),$1:cY};c3=this;c4=p.wrap();return c4.Run(c4.Delay(function(){var c6,c7;((function(c8){return function(c9){return c8("FStationMessaging message: "+b1.p$4(c9));};}(function(c8){ca.log(c8);}))(c2));return c4.Bind$3((c6=c3.msgClient.sendGetReply((c7=ch.stringify((b0.j$4())(c2)),K.New(new F({$:0,$0:""}),c1,H.MsgRequest,"",cn.NewGuid(),c7,J.NoReply))),(p.map(function(c8){return(bZ.j$4())(ch.parse(c8));}))(c6)),function(c8){((function(c9){return function(c_){return c9("FStationMessaging response: "+b1.p$6(c_));};}(function(c9){ca.log(c9);}))(c8));return c4.Bind$1(c5(c8),function(c9){return c4.Return(c9);});});}));},GenericMessage:function(cY){var cZ,c0,c1,c2,c3;function c4(c5){return cZ.stringResponse(c5);}cZ=this;c0=this.toId();c1=this;c2={$:1,$0:cY};c3=p.wrap();return c3.Run(c3.Delay(function(){var c5,c6;((function(c7){return function(c8){return c7("FStationMessaging message: "+b1.p$4(c8));};}(function(c7){ca.log(c7);}))(c2));return c3.Bind$3((c5=c1.msgClient.sendGetReply((c6=ch.stringify((b0.j$4())(c2)),K.New(new F({$:0,$0:""}),c0,H.MsgRequest,"",cn.NewGuid(),c6,J.NoReply))),(p.map(function(c7){return(bZ.j$4())(ch.parse(c7));}))(c5)),function(c7){((function(c8){return function(c9){return c8("FStationMessaging response: "+b1.p$6(c9));};}(function(c8){ca.log(c8);}))(c7));return c3.Bind$1(c4(c7),function(c8){return c3.Return(c8);});});}));},RequestWholeFile:function(){var cY,cZ,c0,c1,c2;function c3(c4){return cY.stringResponse(c4);}cY=this;cZ=this.toId();c0=this;c1=A.GetWholeFile;c2=p.wrap();return c2.Run(c2.Delay(function(){var c4,c5;((function(c6){return function(c7){return c6("FStationMessaging message: "+b1.p$4(c7));};}(function(c6){ca.log(c6);}))(c1));return c2.Bind$3((c4=c0.msgClient.sendGetReply((c5=ch.stringify((b0.j$4())(c1)),K.New(new F({$:0,$0:""}),cZ,H.MsgRequest,"",cn.NewGuid(),c5,J.NoReply))),(p.map(function(c6){return(bZ.j$4())(ch.parse(c6));}))(c4)),function(c6){((function(c7){return function(c8){return c7("FStationMessaging response: "+b1.p$6(c8));};}(function(c7){ca.log(c7);}))(c6));return c2.Bind$1(c3(c6),function(c7){return c2.Return(c7);});});}));},RequestPredsById:function(cY){var cZ,c0,c1,c2,c3;function c4(c5){return cZ.snippetsResponse(c5);}cZ=this;c0=this.toId();c1=this;c2={$:4,$0:cY};c3=p.wrap();return c3.Run(c3.Delay(function(){var c5,c6;((function(c7){return function(c8){return c7("FStationMessaging message: "+b1.p$4(c8));};}(function(c7){ca.log(c7);}))(c2));return c3.Bind$3((c5=c1.msgClient.sendGetReply((c6=ch.stringify((b0.j$4())(c2)),K.New(new F({$:0,$0:""}),c0,H.MsgRequest,"",cn.NewGuid(),c6,J.NoReply))),(p.map(function(c7){return(bZ.j$4())(ch.parse(c7));}))(c5)),function(c7){((function(c8){return function(c9){return c8("FStationMessaging response: "+b1.p$6(c9));};}(function(c8){ca.log(c8);}))(c7));return c3.Bind$1(c4(c7),function(c8){return c3.Return(c8);});});}));},RequestPreds:function(cY){var cZ,c0,c1,c2,c3;function c4(c5){return cZ.snippetsResponse(c5);}cZ=this;c0=this.toId();c1={$:8,$0:b6.SplitChars(cY,["/"],0)};c2=this;c3=p.wrap();return c3.Run(c3.Delay(function(){var c5,c6;((function(c7){return function(c8){return c7("FStationMessaging message: "+b1.p$4(c8));};}(function(c7){ca.log(c7);}))(c1));return c3.Bind$3((c5=c2.msgClient.sendGetReply((c6=ch.stringify((b0.j$4())(c1)),K.New(new F({$:0,$0:""}),c0,H.MsgRequest,"",cn.NewGuid(),c6,J.NoReply))),(p.map(function(c7){return(bZ.j$4())(ch.parse(c7));}))(c5)),function(c7){((function(c8){return function(c9){return c8("FStationMessaging response: "+b1.p$6(c9));};}(function(c8){ca.log(c8);}))(c7));return c3.Bind$1(c4(c7),function(c8){return c3.Return(c8);});});}));},RequestJSCode:function(cY){var cZ,c0,c1,c2,c3;function c4(c5){return cZ.stringResponseR(c5);}cZ=this;c0=this.toId();c1={$:10,$0:b6.SplitChars(cY,["/"],0)};c2=this;c3=p.wrap();return c3.Run(c3.Delay(function(){var c5,c6;((function(c7){return function(c8){return c7("FStationMessaging message: "+b1.p$4(c8));};}(function(c7){ca.log(c7);}))(c1));return c3.Bind$3((c5=c2.msgClient.sendGetReply((c6=ch.stringify((b0.j$4())(c1)),K.New(new F({$:0,$0:""}),c0,H.MsgRequest,"",cn.NewGuid(),c6,J.NoReply))),(p.map(function(c7){return(bZ.j$4())(ch.parse(c7));}))(c5)),function(c7){((function(c8){return function(c9){return c8("FStationMessaging response: "+b1.p$6(c9));};}(function(c8){ca.log(c8);}))(c7));return c3.Bind$1(c4(c7),function(c8){return c3.Return(c8);});});}));},RequestCode:function(cY){var cZ,c0,c1,c2,c3;function c4(c5){return cZ.stringResponse(c5);}cZ=this;c0=this.toId();c1={$:7,$0:b6.SplitChars(cY,["/"],0)};c2=this;c3=p.wrap();return c3.Run(c3.Delay(function(){var c5,c6;((function(c7){return function(c8){return c7("FStationMessaging message: "+b1.p$4(c8));};}(function(c7){ca.log(c7);}))(c1));return c3.Bind$3((c5=c2.msgClient.sendGetReply((c6=ch.stringify((b0.j$4())(c1)),K.New(new F({$:0,$0:""}),c0,H.MsgRequest,"",cn.NewGuid(),c6,J.NoReply))),(p.map(function(c7){return(bZ.j$4())(ch.parse(c7));}))(c5)),function(c7){((function(c8){return function(c9){return c8("FStationMessaging response: "+b1.p$6(c9));};}(function(c8){ca.log(c8);}))(c7));return c3.Bind$1(c4(c7),function(c8){return c3.Return(c8);});});}));},RequestSnippet:function(cY){var cZ,c0,c1,c2,c3;function c4(c5){return cZ.snippetResponse(c5);}cZ=this;c0=this.toId();c1={$:9,$0:b6.SplitChars(cY,["/"],0)};c2=this;c3=p.wrap();return c3.Run(c3.Delay(function(){var c5,c6;((function(c7){return function(c8){return c7("FStationMessaging message: "+b1.p$4(c8));};}(function(c7){ca.log(c7);}))(c1));return c3.Bind$3((c5=c2.msgClient.sendGetReply((c6=ch.stringify((b0.j$4())(c1)),K.New(new F({$:0,$0:""}),c0,H.MsgRequest,"",cn.NewGuid(),c6,J.NoReply))),(p.map(function(c7){return(bZ.j$4())(ch.parse(c7));}))(c5)),function(c7){((function(c8){return function(c9){return c8("FStationMessaging response: "+b1.p$6(c9));};}(function(c8){ca.log(c8);}))(c7));return c3.Bind$1(c4(c7),function(c8){return c3.Return(c8);});});}));},SendMessage:function(cY){var cZ,c0,c1;cZ=this.toId();c0=this;c1=p.wrap();return c1.Run(c1.Delay(function(){var c2,c3;((function(c4){return function(c5){return c4("FStationMessaging message: "+b1.p$4(c5));};}(function(c4){ca.log(c4);}))(cY));return c1.Bind$3((c2=c0.msgClient.sendGetReply((c3=ch.stringify((b0.j$4())(cY)),K.New(new F({$:0,$0:""}),cZ,H.MsgRequest,"",cn.NewGuid(),c3,J.NoReply))),(p.map(function(c4){return(bZ.j$4())(ch.parse(c4));}))(c2)),function(c4){((function(c5){return function(c6){return c5("FStationMessaging response: "+b1.p$6(c6));};}(function(c5){ca.log(c5);}))(c4));return c1.Bind$1(m.succeed(c4),function(c5){return c1.Return(c5);});});}));},SendMessage$1:function(cY,cZ){var c0,c1;c0=this;c1=p.wrap();return c1.Run(c1.Delay(function(){var c2,c3;((function(c4){return function(c5){return c4("FStationMessaging message: "+b1.p$4(c5));};}(function(c4){ca.log(c4);}))(cZ));return c1.Bind$3((c2=c0.msgClient.sendGetReply((c3=ch.stringify((b0.j$4())(cZ)),K.New(new F({$:0,$0:""}),cY,H.MsgRequest,"",cn.NewGuid(),c3,J.NoReply))),(p.map(function(c4){return(bZ.j$4())(ch.parse(c4));}))(c2)),function(c4){((function(c5){return function(c6){return c5("FStationMessaging response: "+b1.p$6(c6));};}(function(c5){ca.log(c5);}))(c4));return c1.Bind$1(m.succeed(c4),function(c5){return c1.Return(c5);});});}));}},i,P);P.get_FSStationId_=function(){return"FSharpStation1518784878221";};P.New=b8.Ctor(function(cY,cZ,c0,c1){P.New$1.call(this,new N.New(cY,c0,c1),cY,cZ);},P);P.New$1=b8.Ctor(function(cY,cZ,c0){this.msgClient=cY;this.fsIds=g.defaultValue("FSharpStation1518784878221",c0);},P);E.extractEndPoint=function(){return cg.get(b6.SplitChars(cx.href.substring(cx.href.indexOf("//")+2),["/"],0),0);};E.waitingAgent=function(cY){return r.fold(function(cZ,c0){var c1;c1=null;return b3.Delay(function(){var c2,c3,c4,c5,c6,c7,c8,c9,c_;return b3.Combine(c0.$==1?(c2=c0.$1,(g.defaultWith(function(){cY(c2);},(c3=cy.TryFind(c0.$0,cZ),c3==null?null:{$:1,$0:(c4=c3.$0,(c5=c4[0],(c4[1],c4[2],c5(c2))))})),b3.Zero())):c0.$==2?(c6=cy.TryFind(c0.$0,cZ),c6==null?void 0:(c7=c6.$0,c7[0],c8=c7[1],c7[2],c8(c0.$1())),b3.Zero()):c0.$==3?(c9=cy.TryFind(c0.$0,cZ),c9==null?void 0:(c_=c9.$0,c_[0],c_[1],c_[2](c0.$1())),b3.Zero()):b3.Zero(),b3.Delay(function(){var c$;return b3.Return((c0.$==2?(c$=c0.$0,true):c0.$==3?(c$=c0.$0,true):c0.$==0?false:(c$=c0.$0,true))?cZ.Remove(c$):cZ.Add(c0.$0,c0.$1));}));});},new cz.New([]));};E.makeReply=function(cY){return E.replier(J.NoReply,E.msgType(H.MsgReply,cY));};E.mapPayload=function(cY,cZ){return K.New(cZ.from,cZ.destination,cZ.msgType,cZ.subtype,cZ.id,cY(cZ.payload),cZ.replier);};E.msgId=function(cY,cZ){return K.New(cZ.from,cZ.destination,cZ.msgType,cZ.subtype,cY,cZ.payload,cZ.replier);};E.replier=function(cY,cZ){return K.New(cZ.from,cZ.destination,cZ.msgType,cZ.subtype,cZ.id,cZ.payload,cY);};E.subtype=function(cY,cZ){return K.New(cZ.from,cZ.destination,cZ.msgType,cY,cZ.id,cZ.payload,cZ.replier);};E.msgType=function(cY,cZ){return K.New(cZ.from,cZ.destination,cY,cZ.subtype,cZ.id,cZ.payload,cZ.replier);};E.destination=function(cY,cZ){return K.New(cZ.from,cY,cZ.msgType,cZ.subtype,cZ.id,cZ.payload,cZ.replier);};E.from=function(cY,cZ){return K.New(cY,cZ.destination,cZ.msgType,cZ.subtype,cZ.id,cZ.payload,cZ.replier);};E.MessageBrokerAddress=function(){bY.$cctor();return bY.MessageBrokerAddress;};E.MessageBrokerId=function(){bY.$cctor();return bY.MessageBrokerId;};R.extractConfig=function(cY){return b6.StartsWith(cY,"////-d:")?cA.string(cY,{$:1,$0:4},{$:1,$0:cY.indexOf("\n")-1}):"";};Q.evaluateAR=function(cY,cZ,c0,c1){var c2;c2=null;return b3.Delay(function(){return b3.Bind((new cB.New()).Async("FSharpStation:FSSGlobal.FsEvaluator.evaluateAS:-156288114",[cY,cZ,c0,c1]),function(c3){function c4(c5,c6){return new l.New(c5,c6);}return b3.Return({$:0,$0:c3[0],$1:b$.ofSeq(b4.map(function(c5){return c4(c5[0],c5[1]);},c3[1]))});});});};S.translateAR=function(cY,cZ){var c0;c0=null;return b3.Delay(function(){return b3.Bind((new cB.New()).Async("FSharpStation:FSSGlobal.FsTranslator.translateAS:608897894",[cY,cZ]),function(c1){function c2(c3,c4){return new l.New(c3,c4);}return b3.Return({$:0,$0:c1[0],$1:b$.ofSeq(b4.map(function(c3){return c2(c3[0],c3[1]);},c1[1]))});});});};V.New=function(cY,cZ){return{Code:cY,Message:cZ};};W.New=function(cY,cZ,c0){return{File:cY,Line:cZ,Column:c0};};X.New=function(cY,cZ,c0,c1){return{Name:cY,ReplacementText:cZ,Glyph:c0,GlyphChar:c1};};Y.New=function(cY,cZ){return{Signature:cY,Comment:cZ};};Z.New=function(cY,cZ,c0,c1){return{Name:cY,CanonicalTypeTextForSorting:cZ,Display:c0,Description:c1};};_0.New=function(cY,cZ,c0,c1){return{Tip:cY,TypeText:cZ,Parameters:c0,IsStaticArguments:c1};};_1.New=function(cY,cZ){return{Name:cY,Type:cZ};};_2.New=function(cY,cZ){return{OutputType:cY,Parameters:cZ};};_3.New=function(cY,cZ,c0){return{Name:cY,CurrentParameter:cZ,Overloads:c0};};_4.New=function(cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8){return{FileName:cY,StartLine:cZ,StartColumn:c0,EndLine:c1,EndColumn:c2,IsFromDefinition:c3,IsFromAttribute:c4,IsFromComputationExpression:c5,IsFromDispatchSlotImplementation:c6,IsFromPattern:c7,IsFromType:c8};};_5.New=function(cY,cZ){return{Name:cY,Uses:cZ};};_6.New=function(cY,cZ){return{Name:cY,Overloads:cZ};};_7.New=function(cY,cZ,c0){return{Fsc:cY,Fsi:cZ,MSBuild:c0};};_8.New=function(cY,cZ,c0,c1,c2,c3,c4){return{FileName:cY,StartLine:cZ,EndLine:c0,StartColumn:c1,EndColumn:c2,Message:c3,Subcategory:c4};};_9.New=function(cY,cZ){return{File:cY,Errors:cZ};};_.New=function(cY){return{Kind:cY};};$.New=function(cY,cZ,c0,c1,c2,c3,c4,c5){return{UniqueName:cY,Name:cZ,Glyph:c0,GlyphChar:c1,IsTopLevel:c2,File:c3,EnclosingEntity:c4,IsAbstract:c5};};ba.New=function(cY,cZ){return{Declaration:cY,Nested:cZ};};bb.New=function(cY,cZ,c0,c1,c2,c3){return{Namespace:cY,Name:cZ,Type:c0,Line:c1,Column:c2,MultipleNames:c3};};bc.New=function(cY,cZ){return{Name:cY,Qualifier:cZ};};bd.New=function(cY,cZ,c0){return{Opens:cY,Qualifies:cZ,Word:c0};};be.New=function(cY){return{Text:cY};};bf.ACMIdentification={$:0};bg=T.FSAutoCompleteIntermediaryClient=b8.Class({info2Bool:function(cY){return cY.$==0&&cY.$0==="true";},errors2String:function(cY){return cY.$==7?b6.concat("\n",b4.map(function(cZ){return((((((((b8.Curried(function(c0,c1,c2,c3,c4,c5,c6,c7){return c0("ErrFSharp \"F# "+b9.toSafe(c1)+".fsx ("+a.String(c2)+","+a.String(c3)+") - ("+a.String(c4)+","+a.String(c5)+") "+b9.toSafe(c6)+":"+b9.toSafe(c7)+"\"");},8))(a.id))(cZ.FileName))(cZ.StartLine))(cZ.StartColumn))(cZ.EndLine))(cZ.EndColumn))(cZ.Subcategory))(cZ.Message);},cY.$0.Errors)):(function(cZ){return function(c0){return cZ(b1.p$10(c0));};}(a.id))(cY);},tip2String:function(cY){return cY.$==11?b6.concat("\n",b4.collect(function(cZ){return b$.ofArray([cZ.Signature,cZ.Comment]);},b4.collect(a.id,cY.$0))):(function(cZ){return function(c0){return cZ(b1.p$10(c0));};}(a.id))(cY);},comp2Strings:function(cY){var cZ;cZ=this;return cY.$==3?cg.map(function(c0){return[c0.Name,c0.ReplacementText,c0.Glyph,c0.GlyphChar];},cY.$0):cY.$==2?[]:cY.$==17?cg.collect(function(c0){return cZ.comp2Strings(c0);},cY.$0):[[(function(c0){return function(c1){return c0(b1.p$10(c1));};}(a.id))(cY),"","ErrorMsg","E"]];},Async_map:function(cY,cZ){var c0;c0=null;return b3.Delay(function(){return b3.Bind(cZ,function(c1){return b3.Return(cY(c1));});});},FindDecl:function(cY,cZ,c0,c1){return this.Async_map(a.id,T.sendMessage({$:7,$0:cY,$1:cZ,$2:c0,$3:c1}));},FindDecl$1:function(cY,cZ,c0){return this.Async_map(a.id,T.sendMessage({$:6,$0:cY,$1:cZ,$2:c0}));},Complete:function(cY,cZ,c0,c1,c2){var c3;c3=this;return c3.Async_map(function(c4){return c3.comp2Strings(c4);},T.sendMessage({$:9,$0:cY,$1:c0,$2:c1,$3:cZ,$4:c2}));},Complete$1:function(cY,cZ,c0,c1){var c2;c2=this;return c2.Async_map(function(c3){return c2.comp2Strings(c3);},T.sendMessage({$:8,$0:cY,$1:c0,$2:c1,$3:cZ}));},ToolTip:function(cY,cZ,c0,c1){var c2;c2=this;return c2.Async_map(function(c3){return c2.tip2String(c3);},T.sendMessage({$:3,$0:cY,$1:cZ,$2:c0,$3:c1}));},ToolTip$1:function(cY,cZ,c0){var c1;c1=this;return c1.Async_map(function(c2){return c1.tip2String(c2);},T.sendMessage({$:2,$0:cY,$1:cZ,$2:c0}));},Parse:function(cY,cZ){var c0;c0=this;return c0.Async_map(function(c1){return c0.errors2String(c1);},T.sendMessage({$:10,$0:cY,$1:cZ,$2:[]}));},Parse$1:function(cY,cZ,c0){var c1;c1=this;return c1.Async_map(function(c2){return c1.errors2String(c2);},T.sendMessage({$:10,$0:cY,$1:cZ,$2:c0}));},MustParse:function(cY,cZ){var c0;c0=this;return c0.Async_map(function(c1){return c0.info2Bool(c1);},T.sendMessage({$:11,$0:cY,$1:cZ}));}},i,bg);bg.New=b8.Ctor(function(cY,cZ){},bg);T.sendMessage=function(cY){var cZ;cZ=null;return b3.Delay(function(){return b3.Bind((new cB.New()).Async("FSharpStation:FSSGlobal.FSAutoCompleteIntermediary.sendMessageRpc:1124743568",[cY]),function(c0){return b3.Return(c0);});});};bi=bh.Val=b8.Class({get_ValTypeMember:function(){return 0;}},null,bi);bj.HelperType={$:0};bj.op_AmpGreater=function(cY,cZ){return new bi({$:2,$0:cZ});};bj.op_AmpGreater$1=function(cY,cZ){return new bi({$:1,$0:cZ});};bj.op_AmpGreater$2=function(cY,cZ){return cZ;};bj.op_AmpGreater$3=function(cY,cZ){return cZ;};bj.op_AmpGreater$4=function(cY,cZ){return cZ;};bj.op_AmpGreater$5=function(cY,cZ){return cZ;};bj.op_AmpGreater$6=function(cY,cZ){return cZ;};bj.op_AmpGreater$7=function(cY,cZ){return cZ;};bj.op_AmpGreater$8=function(cY,cZ){return cZ;};bj.op_AmpGreater$9=function(cY,cZ){return new bi({$:0,$0:cZ});};bj.op_AmpGreater$10=function(cY,cZ){return new bi({$:0,$0:cZ});};bj.op_AmpGreater$11=function(cY,cZ){return new bi({$:0,$0:cZ});};bj.op_AmpGreater$12=function(cY,cZ){return new bi({$:0,$0:cZ});};bj.op_AmpGreater$13=function(cY,cZ){return new bi({$:0,$0:cZ});};bj.op_AmpGreater$14=function(cY,cZ){return new bi({$:0,$0:cZ});};bk=bi.valBuilder=b8.Class({Delay:function(cY){return cY();},Zero:function(){return new bi({$:0,$0:null});},Bind:function(cY,cZ){return bi.bind(cZ,cY);},Bind$1:function(cY,cZ){return bi.bind(cZ,cY);},Bind$2:function(cY,cZ){return bi.bind(cZ,cY);},ReturnFrom:a.id,Return:function(cY){return new bi({$:0,$0:cY});}},i,bk);bk.New=b8.Ctor(function(){},bk);bi.fixitF=function(cY,cZ){return cY(cZ);};bi.valFlow=function(){bY.$cctor();return bY.valFlow;};bi.mapCached=function(cY,cZ){return new bi({$:2,$0:cE.MapCached(cY,bi.toView(cZ))});};bi.sink=function(cY,cZ){cE.Sink(cY,bi.toView(bi.fixit(cZ)));};bi.mapAsync=function(cY,cZ){return new bi({$:2,$0:cE.MapAsync(cY,bi.toView(bi.fixit(cZ)))});};bi.iter4=function(cY,cZ,c0,c1,c2){bi.iterV(a.ignore,bi.map4(cY,cZ,c0,c1,c2));};bi.iter3=function(cY,cZ,c0,c1){bi.iterV(a.ignore,bi.map3(cY,cZ,c0,c1));};bi.iter2=function(cY,cZ,c0){bi.iterV(a.ignore,bi.map2(cY,cZ,c0));};bi.apply=function(cY,cZ){return bi.bindV(function(c0){return bi.mapV(c0,cY);},cZ);};bi.map4=function(cY,cZ,c0,c1,c2){return bi.map4V(cY,bi.fixit(cZ),bi.fixit(c0),bi.fixit(c1),bi.fixit(c2));};bi.map3=function(cY,cZ,c0,c1){return bi.map3V(cY,bi.fixit(cZ),bi.fixit(c0),bi.fixit(c1));};bi.map2=function(cY,cZ,c0){return((bi.map2V(cY))(bi.fixit(cZ)))(bi.fixit(c0));};bi.map=function(cY,cZ){return bi.mapV(cY,bi.fixit(cZ));};bi.bind=function(cY,cZ){return bi.bindV(cY,bi.fixit(cZ));};bi.iter=function(cY,cZ){bi.iterV(cY,bi.fixit(cZ));};bi.toDoc=function(cY){return cF.EmbedView(bi.toView(bi.fixit(cY)));};bi.fixit=function(cY){return bi.fixitF(bi.toVal,cY);};bi.toVal=function(cY){return typeof cY=="string"?new bi({$:0,$0:cY}):typeof cY=="number"?new bi({$:0,$0:cY}):typeof cY=="boolean"?new bi({$:0,$0:cY}):cY instanceof cF?new bi({$:0,$0:cY}):cY instanceof bi?cY:cY instanceof cD.Var?new bi({$:1,$0:cY}):"RSet"in cY?new bi({$:1,$0:cY}):typeof cY=="function"?new bi({$:2,$0:cY}):cY.get_ValTypeMember()===0?cY:cG.FailWith((function(cZ){return function(c0){return cZ("Could not convert "+b9.prettyPrint(c0));};}(a.id))(cY));};bi.attrV=function(cY,cZ){return cZ.$==2?cH.Dynamic(cY,cZ.$0):cZ.$==1?cH.Dynamic(cY,cZ.$0.RView()):cI.Create(cY,cZ.$0);};bi.attrVO=function(cY,cZ){var c0,c1;return cZ.$==2?(c0=cZ.$0,cH.DynamicPred(cY,cE.Map(function(c2){return c2!=null;},c0),cE.Map(function(c2){return c2==null?"":c2.$0;},c0))):cZ.$==1?(c1=cZ.$0,cH.DynamicPred(cY,cE.Map(function(c2){return c2!=null;},c1.RView()),cE.Map(function(c2){return c2==null?"":c2.$0;},c1.RView()))):cZ.$0==null?cH.DynamicPred(cY,cE.Const(false),cE.Const("")):cI.Create(cY,cZ.$0.$0);};bi.tagElt=function(cY,cZ){return cZ.$==2?cF.EmbedView(cE.Map(cY,cZ.$0)):cZ.$==1?cF.EmbedView(cE.Map(cY,cZ.$0.RView())):cY(cZ.$0);};bi.tagDoc=function(cY,cZ){return cZ.$==2?cF.EmbedView(cE.Map(cY,cZ.$0)):cZ.$==1?cF.EmbedView(cE.Map(cY,cZ.$0.RView())):cY(cZ.$0);};bi.map4V=function(cY,cZ,c0,c1,c2){var c3;c3=bi.map3V(cY,cZ,c0,c1);return((bi.map2V(function(c4){return function(c5){return c5(c4);};}))(c2))(c3);};bi.map3V=function(cY,cZ,c0,c1){var c2;c2=((bi.map2V(cY))(cZ))(c0);return((bi.map2V(function(c3){return function(c4){return c4(c3);};}))(c1))(c2);};bi.map2V=function(cY){function cZ(c1,c2,c3){return(c1(c3))(c2);}function c0(c1){var c2,c3;c2=(c3=function(c4){var c5;c5=cY(c4);return function(c6){return bi.mapV(c5,c6);};},function(c4){return cZ(c3,c1,c4);});return function(c4){return bi.bindV(c2,c4);};}return(b8.Curried3(cZ))(c0);};bi.bindV=function(cY,cZ){return cZ.$==2?new bi({$:2,$0:cE.Bind(function(c0){return bi.toView(cY(c0));},cZ.$0)}):cZ.$==1?new bi({$:2,$0:cE.Bind(function(c0){return bi.toView(cY(c0));},cZ.$0.RView())}):cY(cZ.$0);};bi.getAsync=function(cY){return cY.$==2?cE.GetAsync(cY.$0):cY.$==1?b3.Return(cY.$0.RVal()):b3.Return(cY.$0);};bi.toView=function(cY){return cY.$==2?cY.$0:cY.$==1?cY.$0.RView():cE.Const(cY.$0);};bi.iterV=function(cY,cZ){if(cZ.$==2)cE.Get(cY,cZ.$0);else if(cZ.$==1)cY(cZ.$0.RVal());else cY(cZ.$0);};bi.mapV=function(cY,cZ){return cZ.$==2?new bi({$:2,$0:cE.Map(cY,cZ.$0)}):cZ.$==1?new bi({$:2,$0:cE.Map(cY,cZ.$0.RView())}):new bi({$:0,$0:cY(cZ.$0)});};bl=bh.HtmlNode=b8.Class({Style:function(cY){return this.AddChildren([bh.style(cY)]);},AddClass:function(cY){return bh.addClass(cY,this);},InsertChildren:function(cY){return bh.insertChildren(cY,this);},AddChildren:function(cY){return bh.addChildren(cY,this);},get_toDoc:function(){var cY,cZ,c0;return this.$==1||this.$==4?cF.Empty():(cZ=bh.chooseNode(this),(c0=cF.Empty(),cZ==null?c0:cZ.$0));}},null,bl);bl.HtmlEmpty=new bl({$:4});bl.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(cY,cZ){return bh.indent2Level(11,cZ,cY);};bl.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(cY,cZ){return bh.indent2Level(10,cZ,cY);};bl.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(cY,cZ){return bh.indent2Level(9,cZ,cY);};bl.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(cY,cZ){return bh.indent2Level(8,cZ,cY);};bl.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(cY,cZ){return bh.indent2Level(7,cZ,cY);};bl.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(cY,cZ){return bh.indent2Level(6,cZ,cY);};bl.op_MinusMinusMinusMinusMinusMinusMinusMinus=function(cY,cZ){return bh.indent2Level(5,cZ,cY);};bl.op_MinusMinusMinusMinusMinusMinus=function(cY,cZ){return bh.indent2Level(4,cZ,cY);};bl.op_MinusMinusMinusMinus=function(cY,cZ){return bh.indent2Level(3,cZ,cY);};bl.op_MinusMinus=function(cY,cZ){return bh.indent2Level(2,cZ,cY);};bl.op_Addition=function(cY,cZ){return new b$.T({$:1,$0:cZ,$1:cY});};bl.op_MinusMinusMinus=function(cY,cZ){return cY.$==1?cY.$1.$==1?new b$.T({$:1,$0:cY.$1.$0.AddChildren([cY.$0.AddChildren([cZ])]),$1:cY.$1.$1}):b$.ofArray([cY.$0.AddChildren([cZ])]):b$.T.Empty;};bl.op_Subtraction=function(cY,cZ){return cY.$==0?b$.T.Empty:new b$.T({$:1,$0:cY.$0.AddChildren([cZ]),$1:cY.$1});};bh.LoadFilesAsync=function(cY){function cZ(c0,c1){try{a.CIPHERSpaceLoadFiles(cY,c0);}catch(c2){c1(c2);}}return b3.FromContinuations(function(c0,c1,c2){return cZ.apply(null,[c0,c1,c2]);});};bh.findRootElement=function(cY){var cZ;return!function(c0){return cY.getRootNode(c0);}?a.document.body:(cZ=cY.getRootNode(),!cZ.body?cZ.firstChild:cZ.body);};bh.createIFrame=function(cY){var cZ;cZ=cJ.Create$1(true);return bh.div([bh.style("position: relative; overflow: hidden; height: 100%; width: 100%;"),bh.iframe([bh.style("position: absolute; width:100%; height:100%;"),bh.frameborder("0"),new bl({$:7,$0:cH.OnAfterRender(cY)}),new bl({$:7,$0:cH.Handler("mouseleave",function(){return function(){return cJ.Set(cZ,true);};})})]),bh.div([bh.style("position: absolute;"),bh.classIf("iframe-cover",bi.map(a.id,cZ)),new bl({$:7,$0:cH.Handler("mouseenter",function(){return function(){return cE.Get(function(c0){if(!c0)cJ.Set(cZ,false);},cL.get_MousePressed());};})})]),bh.styleH([bh.htmlText(".iframe-cover { top:0; left:0; right:0; bottom:0; background: blue; opacity: 0.04; z-index: 2; }")])]);};bh.bindHElem=function(cY,cZ){return new bl({$:5,$0:bi.map(cY,bi.fixit(cZ))});};bh.string2Styles=function(){bY.$cctor();return bY.string2Styles;};bh.style2pairs=function(cY){return cg.map(function(cZ){return[b6.Trim(cg.get(cZ,0)),b6.Trim(cg.get(cZ,1))];},cg.filter(function(cZ){return cg.length(cZ)===2;},cg.map(function(cZ){return b6.SplitChars(cZ,[":"],0);},b6.SplitChars(cY,[";"],0))));};bh.xclass=function(cY){var cZ,c0;return new bl({$:7,$0:(cZ=bi.fixit(cY),cZ.$==2?cH.DynamicClass("class_for_view_not_implemented",cZ.$0,function(c1){return""!==c1;}):cZ.$==1?(c0=cZ.$0,cH.DynamicClass(c0.RVal(),c0.RView(),function(c1){return""!==c1;})):cH.Class(cZ.$0))});};bh.classIf=function(cY,cZ){return bh["class"](bi.map(function(c0){return c0?cY:"";},bi.fixit(cZ)));};bh.css=function(cY){return bh.styleH([bh.htmlText(cY)]);};bh.style1=function(cY,cZ){var c0;return bh.style(bi.map((c0=cY+":",function(c1){return c0+c1;}),cZ));};bh.style=function(cY){return bh.htmlAttribute("style",cY);};bh.draggable=function(cY){return bh.htmlAttribute("draggable",cY);};bh.spellcheck=function(cY){return bh.htmlAttribute("spellcheck",cY);};bh.frameborder=function(cY){return bh.htmlAttribute("frameborder",cY);};bh.Id=function(cY){return bh.htmlAttribute("id",cY);};bh.title=function(cY){return bh.htmlAttribute("title",cY);};bh.width=function(cY){return bh.htmlAttribute("width",cY);};bh.type=function(cY){return bh.htmlAttribute("type",cY);};bh["class"]=function(cY){return bh.htmlAttribute("class",cY);};bh.src=function(cY){return bh.htmlAttribute("src",cY);};bh.charset=function(cY){return bh.htmlAttribute("charset",cY);};bh.rel=function(cY){return bh.htmlAttribute("rel",cY);};bh.hrefO=function(cY){return bh.htmlAttributeO("href",cY);};bh.href=function(cY){return bh.htmlAttribute("href",cY);};bh.target=function(cY){return bh.htmlAttribute("target",cY);};bh.strong=function(cY){return bh.htmlElement("strong",cY);};bh.section=function(cY){return bh.htmlElement("section",cY);};bh.body=function(cY){return bh.htmlElement("body",cY);};bh.iframe=function(cY){return bh.htmlElement("iframe",cY);};bh.link=function(cY){return bh.htmlElement("link",cY);};bh.fieldset=function(cY){return bh.htmlElement("fieldset",cY);};bh.styleH=function(cY){return bh.htmlElement("style",cY);};bh.script=function(cY){return bh.htmlElement("script",cY);};bh.button=function(cY){return bh.htmlElement("button",cY);};bh.label=function(cY){return bh.htmlElement("label",cY);};bh.tbody=function(cY){return bh.htmlElement("tbody",cY);};bh.td=function(cY){return bh.htmlElement("td",cY);};bh.tr=function(cY){return bh.htmlElement("tr",cY);};bh.th=function(cY){return bh.htmlElement("th",cY);};bh.thead=function(cY){return bh.htmlElement("thead",cY);};bh.table=function(cY){return bh.htmlElement("table",cY);};bh.form=function(cY){return bh.htmlElement("form",cY);};bh.span=function(cY){return bh.htmlElement("span",cY);};bh.img=function(cY){return bh.htmlElement("img",cY);};bh.div=function(cY){return bh.htmlElement("div",cY);};bh.h6=function(cY){return bh.htmlElement("h6",cY);};bh.h5=function(cY){return bh.htmlElement("h5",cY);};bh.h4=function(cY){return bh.htmlElement("h4",cY);};bh.h3=function(cY){return bh.htmlElement("h3",cY);};bh.h2=function(cY){return bh.htmlElement("h2",cY);};bh.h1=function(cY){return bh.htmlElement("h1",cY);};bh.hr=function(cY){return bh.htmlElement("hr",cY);};bh.br=function(cY){return bh.htmlElement("br",cY);};bh.li=function(cY){return bh.htmlElement("li",cY);};bh.ul=function(cY){return bh.htmlElement("ul",cY);};bh.p=function(cY){return bh.htmlElement("p",cY);};bh.a=function(cY){return bh.htmlElement("a",cY);};bh.textV=function(cY){return bh.tag(cF.TextNode,cY);};bh._placeholder=function(cY){return bh.atr("placeholder",cY);};bh._style=function(cY){return bh.atr("style",cY);};bh._type=function(cY){return bh.atr("type",cY);};bh._class=function(cY){return bh.atr("class",cY);};bh.tag=function(cY,cZ){return bi.tagDoc(cY,bi.fixit(cZ));};bh.atr=function(cY,cZ){return bi.attrV(cY,bi.fixit(cZ));};bh.renderDoc=function(){bY.$cctor();return bY.renderDoc;};bh.op_BangBang=function(cY,cZ){return b$.ofArray([cY(cZ)]);};bh.endHtmlIndent=function(cY){var cZ;cZ=bh.finishO(cY);return cZ==null?bh.htmlText("Malformed HTMLNode"):cZ.$0;};bh.finishO=function(cY){return cY.$==1?cY.$1.$==1?bh.finishO(bh.out(cY)):{$:1,$0:cY.$0}:null;};bh.indent2Level=function(cY,cZ,c0){return c0.get_Length()<cY?new b$.T({$:1,$0:cZ,$1:c0}):bh.indent2Level(cY,cZ,bh.out(c0));};bh.out=function(cY){return cY.$==1?cY.$1.$==1?new b$.T({$:1,$0:bh.addChildren([cY.$0],cY.$1.$0),$1:cY.$1.$1}):b$.ofArray([cY.$0]):b$.T.Empty;};bh.addClassIf=function(cY,cZ){var c0;c0=bi.map(function(c1){return c1?cY:"";},bi.fixit(cZ));return function(c1){return bh.addClass(c0,c1);};};bh.addClass=function(cY,cZ){return bh.addChildren(b$.ofArray([bh.htmlAttribute("class",cY)]),cZ);};bh.insertChildren=function(cY,cZ){function c0(c1,c2){return[c1,b4.append(cY,c2)];}return bh.mapHtmlElement(function(c1){return function(c2){return c0(c1,c2);};},cZ);};bh.addChildren=function(cY,cZ){function c0(c1,c2){return[c1,b4.append(c2,cY)];}return bh.mapHtmlElement(function(c1){return function(c2){return c0(c1,c2);};},cZ);};bh.someElt=function(cY){return new bl({$:6,$0:cY});};bh.str=function(cY){return new bl({$:3,$0:bi.fixit(cY)});};bh.htmlText=function(cY){return new bl({$:3,$0:bi.fixit(cY)});};bh.htmlAttributeO=function(cY,cZ){return new bl({$:2,$0:cY,$1:bi.fixit(cZ)});};bh.htmlAttribute=function(cY,cZ){return new bl({$:1,$0:cY,$1:bi.fixit(cZ)});};bh.htmlElement=function(cY,cZ){return new bl({$:0,$0:cY,$1:cZ});};bh.mapHtmlElement=function(cY,cZ){var c0;return cZ.$==0?(c0=(cY(cZ.$0))(cZ.$1),new bl({$:0,$0:c0[0],$1:c0[1]})):cZ.$==5?new bl({$:5,$0:bi.map(function(c1){return bh.mapHtmlElement(cY,c1);},cZ.$0)}):cZ;};bh.getAttrChildren=function(cY){var cZ,c0,c1;function c2(c3){var c4;return c3.$==1&&(c3.$0===cY&&(c4=[c3.$0,c3.$1],true))?{$:1,$0:c4[1]}:null;}cZ=function(c3){return b4.tryPick(c2,c3);};c0=(c1=new bi({$:0,$0:""}),function(c3){return c3==null?c1:c3.$0;});return function(c3){return c0(cZ(c3));};};bh.chooseNode=function(cY){var cZ,c0,c1,c2;return cY.$==0?(cZ=cY.$1,{$:1,$0:cF.Element(cY.$0,bh.getAttrsFromSeq(cZ),b4.choose(bh.chooseNode,cZ))}):cY.$==3?{$:1,$0:bi.tagDoc(cF.TextNode,cY.$0)}:cY.$==6?{$:1,$0:cY.$0}:cY.$==5?{$:1,$0:(c0=bi.toView(cY.$0),cF.BindView((c1=(c2=cF.Empty(),function(c3){return c3==null?c2:c3.$0;}),function(c3){return c1(bh.chooseNode(c3));}),c0))}:null;};bh.getAttrsFromSeq=function(cY){var cZ;cZ=b4.choose(bh.chooseAttr,cY);return b4.append(b$.choose(a.id,b$.ofArray([bh.groupAttr("class"," ",cY),bh.groupAttr("style","; ",cY)])),cZ);};bh.groupAttr=function(cY,cZ,c0){var c1,c2;function c3(c4,c5){return bh.concat(cZ,c4,c5);}c1=b4.choose(function(c4){return bh.chooseThisAttr(cY,c4);},c0);return b4.isEmpty(c1)?null:{$:1,$0:bi.attrV(cY,(c2=(b8.Curried3(bi.map2))(function(c4){return function(c5){return c3(c4,c5);};}),b4.reduce(function(c4,c5){return(c2(c4))(c5);},c1)))};};bh.concat=function(cY,cZ,c0){return cZ+cY+c0;};bh.chooseThisAttr=function(cY,cZ){var c0;return cZ.$==1&&(cZ.$0===cY&&(c0=[cZ.$0,cZ.$1],true))?{$:1,$0:c0[1]}:null;};bh.chooseAttr=function(cY){var cZ,c0,c1,c2;return cY.$==1&&((c0=cY.$0,c0!=="class"&&c0!=="style")&&(cZ=[cY.$0,cY.$1],true))?{$:1,$0:bi.attrV(cZ[0],cZ[1])}:cY.$==2&&((c2=cY.$0,c2!=="class"&&c2!=="style")&&(c1=[cY.$0,cY.$1],true))?{$:1,$0:bi.attrVO(c1[0],c1[1])}:cY.$==7?{$:1,$0:cY.$0}:null;};bh.addClassX=function(cY,cZ){var c0;return b6.concat(" ",(c0=new cM.New$1(cN.OfSeq(b6.SplitChars(cY,[" "],0))),new cM.New$1(cN.OfSeq(b4.append(new cM.New$1(cN.OfSeq(b6.SplitChars(cZ,[" "],0))),c0)))));};bn=bm.Button=b8.Class({OnClick:function(cY){return bn.New(this._class,this._type,this.style,this.text,cY,this.disabled,this.id);},Disabled:function(cY){return bn.New(this._class,this._type,this.style,this.text,this.onClick,bi.fixit(cY),this.id);},Text:function(cY){return bn.New(this._class,this._type,this.style,bi.fixit(cY),this.onClick,this.disabled,this.id);},Style:function(cY){return bn.New(this._class,this._type,bi.fixit(cY),this.text,this.onClick,this.disabled,this.id);},Type:function(cY){return bn.New(this._class,bi.fixit(cY),this.style,this.text,this.onClick,this.disabled,this.id);},Class:function(cY){return bn.New(bi.fixit(cY),this._type,this.style,this.text,this.onClick,this.disabled,this.id);},Id:function(cY){return bn.New(this._class,this._type,this.style,this.text,this.onClick,this.disabled,cY);},get_Render:function(){var cY,cZ;return new bl({$:6,$0:(cY=bh.button([bh.type(this._type),bh["class"](this._class),bh.Id(this.id),bh.style(this.style),new bl({$:7,$0:(cZ=cE.Const(""),cH.DynamicPred("disabled",bi.toView(this.disabled),cZ))}),new bl({$:7,$0:cI.Handler("click",this.onClick)}),new bl({$:3,$0:this.text})]),(bh.renderDoc())(cY))});}},null,bn);bn.New$1=function(cY){return bn.New(bi.fixit("btn"),bi.fixit("button"),bi.fixit(""),bi.fixit(cY),function(){return function(){return null;};},bi.fixit(false),"");};bn.New=function(cY,cZ,c0,c1,c2,c3,c4){return new bn({_class:cY,_type:cZ,style:c0,text:c1,onClick:c2,disabled:c3,id:c4});};bo=bm.Input=b8.Class({get_Var:function(){return this["var"];},SetVar:function(cY){return bo.New(this._type,this._class,this.style,this.placeholder,this.id,cY,this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Suffix:function(cY){return bo.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,cY,this.content,this.prefixAdded,true);},Prefix:function(cY){return this.Prefix$1(bh.htmlText(cY));},Prefix$1:function(cY){return bo.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],cY,this.suffix,this.content,true,this.suffixAdded);},Content:function(cY){return bo.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,cY,this.prefixAdded,this.suffixAdded);},Id:function(cY){return bo.New(this._type,this._class,this.style,this.placeholder,cY,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Placeholder:function(cY){return bo.New(this._type,this._class,this.style,bi.fixit(cY),this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Style:function(cY){return bo.New(this._type,this._class,bi.fixit(cY),this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Type:function(cY){return bo.New(bi.fixit(cY),this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Class:function(cY){return bo.New(this._type,bi.fixit(cY),this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},get_Render:function(){var cY;function cZ(c0){return c0.$==3?"input-group-addon":"input-group-btn";}cY=this;return bh.div(b$.ofSeq(b4.delay(function(){return b4.append(cY.prefixAdded||cY.suffixAdded?[bh["class"]("input-group")]:[],b4.delay(function(){return b4.append(cY.prefixAdded?[bh.span([bh["class"](cZ(cY.prefix)),cY.prefix])]:[],b4.delay(function(){return b4.append([new bl({$:6,$0:cF.Input(b4.append(cY.content,b$.ofArray([bh._type(cY._type),bh._class(cY._class),bh._style(cY.style),cI.Create("id",cY.id),bh._placeholder(cY.placeholder)])),cY["var"])})],b4.delay(function(){return cY.suffixAdded?[bh.span([bh["class"](cZ(cY.suffix)),cY.suffix])]:[];}));}));}));})));}},null,bo);bo.New$1=function(cY){return bo.New$2(cJ.Create$1(cY));};bo.New$2=function(cY){var cZ;cZ=bi.fixit("form-control");return bo.New(bi.fixit("text"),cZ,bi.fixit(""),bi.fixit("Enter text:"),"",cY,bl.HtmlEmpty,bl.HtmlEmpty,b$.T.Empty,false,false);};bo.New=function(cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8){return new bo({_type:cY,_class:cZ,style:c0,placeholder:c1,id:c2,"var":c3,prefix:c4,suffix:c5,content:c6,prefixAdded:c7,suffixAdded:c8});};bp=bm.Hoverable=b8.Class({Content:function(cY){var cZ;cZ=this;return cY.AddChildren([bh.classIf("hovering",this.hover),new bl({$:7,$0:cH.Handler("mouseenter",function(){return function(){return cZ.hover.set_RVal(true);};})}),new bl({$:7,$0:cH.Handler("mouseleave",function(){return function(){return cZ.hover.set_RVal(false);};})})]);},Content$1:function(cY){var cZ;cZ=this;return bh.div(b4.append(cY,b$.ofArray([bh.classIf("hovering",this.hover),new bl({$:7,$0:cH.Handler("mouseenter",function(){return function(){return cZ.hover.set_RVal(true);};})}),new bl({$:7,$0:cH.Handler("mouseleave",function(){return function(){return cZ.hover.set_RVal(false);};})})])));}},null,bp);bp.get_Demo=function(){return bp.get_New().Content(bh.div([bh.style("flex-flow: column;")]));};bp.get_New=function(){return bp.New(cJ.Create$1(false));};bp.New=function(cY){return new bp({hover:cY});};bq=bm.TextArea=b8.Class({get_Var:function(){return this["var"];},SetVar:function(cY){return bq.New(this._class,this.placeholder,this.title,this.spellcheck,this.id,cY);},Id:function(cY){return bq.New(this._class,this.placeholder,this.title,this.spellcheck,cY,this["var"]);},Spellcheck:function(cY){return bq.New(this._class,this.placeholder,this.title,cY,this.id,this["var"]);},Title:function(cY){return bq.New(this._class,this.placeholder,bi.fixit(cY),this.spellcheck,this.id,this["var"]);},Placeholder:function(cY){return bq.New(this._class,bi.fixit(cY),this.title,this.spellcheck,this.id,this["var"]);},Class:function(cY){return bq.New(bi.fixit(cY),this.placeholder,this.title,this.spellcheck,this.id,this["var"]);},get_Render:function(){return this.RenderWith(b$.T.Empty);},RenderWith:function(cY){return bh.div([bh.someElt(cF.InputArea(b$.append(b$.ofArray([bh._class(this._class),cI.Create("id",this.id),bh.atr("spellcheck",bi.map(function(cZ){return cZ?"true":"false";},this.spellcheck)),bh.atr("title",this.title),bh.atr("style","height: 100%;  width: 100%; box-sizing: border-box; "),bh._placeholder(this.placeholder)]),cY),this["var"]))]);}},null,bq);bq.New$1=function(cY){return bq.New$2(cJ.Create$1(cY));};bq.New$2=function(cY){return bq.New(bi.fixit("form-control"),bi.fixit("Enter text:"),bi.fixit(""),bi.fixit(false),"",cY);};bq.New=function(cY,cZ,c0,c1,c2,c3){return new bq({_class:cY,placeholder:cZ,title:c0,spellcheck:c1,id:c2,"var":c3});};br.New=function(cY,cZ){return{line:cY,ch:cZ};};bs=bm.CodeMirrorEditor=b8.Class({},i,bs);bs.New=b8.Ctor(function(){},bs);bt=bm.CodeMirror=b8.Class({get_Var:function(){return this["var"];},OnRender:function(cY){return bt.New(this._class,this.style,this.id,this["var"],this.onChange,{$:1,$0:cY},this.editorO);},OnChange:function(cY){return bt.New(this._class,this.style,this.id,this["var"],cY,this.onRender,this.editorO);},Style:function(cY){return bt.New(this._class,bi.fixit(cY),this.id,this["var"],this.onChange,this.onRender,this.editorO);},SetVar:function(cY){return bt.New(this._class,this.style,this.id,cY,this.onChange,this.onRender,this.editorO);},Id:function(cY){return bt.New(this._class,this.style,cY,this["var"],this.onChange,this.onRender,this.editorO);},Class:function(cY){return bt.New(bi.fixit(cY),this.style,this.id,this["var"],this.onChange,this.onRender,this.editorO);},get_Render:function(){var cY;cY=this;return bh.div([bh["class"](this._class),new bl({$:7,$0:cI.Create("id",this.id)}),bh.style("position: relative; height: 300px"),bh.style(this.style),bh.div([bh.style("height: 100%; width: 100%; position: absolute;"),new bl({$:7,$0:cH.OnAfterRender(function(cZ){a.CIPHERSpaceLoadFiles(bm.codeMirrorIncludes(),function(){var c0,c1,c2,c3;c0=a.CodeMirror(cZ,{theme:"rubyblue",lineNumbers:true,matchBrackets:true,gutters:["CodeMirror-lint-markers"],extraKeys:{Tab:function(c4){c4.replaceSelection("    ","end");},F11:function(c4){c4.setOption("fullScreen",!c4.getOption("fullScreen"));}}});cY.editorO={$:1,$0:c0};c1=cY.onRender;c1==null?void 0:c1.$0(c0);c2=[0];c3=[0];c0.on("changes",function(){var c4;c4=c0.getValue();cY["var"].RVal()!==c4?(c2[0]=c2[0]+1,cY["var"].set_RVal(c4),cY.onChange()):void 0;});cE.Sink(function(){if(c2[0]>c3[0])c3[0]=c2[0];else if(c0.getValue()!==cY["var"].RVal()){c0.setValue(cY["var"].RVal());c0.getDoc().clearHistory();}},cY["var"].RView());});})})]),bh.link([bh.href("/EPFileX/codemirror/content/editor.css"),bh.type("text/css"),bh.rel("stylesheet")]),bh.link([bh.href("/EPFileX/codemirror/content/codemirror.css"),bh.type("text/css"),bh.rel("stylesheet")]),bh.link([bh.href("/EPFileX/codemirror/scripts/addon/display/fullscreen.css"),bh.type("text/css"),bh.rel("stylesheet")]),bh.link([bh.href("/EPFileX/codemirror/scripts/addon/dialog/dialog.css"),bh.type("text/css"),bh.rel("stylesheet")]),bh.link([bh.href("/EPFileX/codemirror/scripts/addon/hint/show-hint.css"),bh.type("text/css"),bh.rel("stylesheet")]),bh.link([bh.href("/EPFileX/codemirror/scripts/addon/lint/lint.css"),bh.type("text/css"),bh.rel("stylesheet")]),bh.css(".CodeMirror { height: 100% }")]);}},null,bt);bt.New$1=function(cY){return bt.New$2(cJ.Create$1(cY));};bt.New$2=function(cY){return bt.New(bi.fixit(""),bi.fixit(""),"",cY,a.ignore,null,null);};bt.New=function(cY,cZ,c0,c1,c2,c3,c4){return new bt({_class:cY,style:cZ,id:c0,"var":c1,onChange:c2,onRender:c3,editorO:c4});};bu.New=function(cY,cZ,c0){return{text:cY,displayText:cZ,className:c0};};bv.New=function(cY,cZ,c0){return{list:cY,from:cZ,to:c0};};bw.New=function(cY,cZ,c0){return{hint:cY,completeSingle:cZ,container:c0};};bx.New=function(cY,cZ,c0,c1){return{message:cY,severity:cZ,from:c0,to:c1};};by=bm.SplitterBar=b8.Class({Children:function(cY){return by.New(this.value,this.min,this.max,this.vertical,this.node,cY,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},get_After:function(){return by.New(this.value,this.min,this.max,this.vertical,this.node,this.children,true,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},get_Before:function(){return by.New(this.value,this.min,this.max,this.vertical,this.node,this.children,false,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Horizontal:function(){return by.New(this.value,this.min,this.max,bi.fixit(false),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Vertical:function(){return by.New(this.value,this.min,this.max,bi.fixit(true),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Horizontal$1:function(cY){return by.New(this.value,this.min,this.max,bi.map(function(cZ){return!cZ;},bi.fixit(cY)),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Vertical$1:function(cY){return by.New(this.value,this.min,this.max,bi.fixit(cY),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Max:function(cY){return by.New(this.value,this.min,bi.fixit(cY),this.vertical,this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Min:function(cY){return by.New(this.value,bi.fixit(cY),this.max,this.vertical,this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Node:function(cY){return by.New(this.value,this.min,this.max,this.vertical,cY,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Value:function(cY){this.value.set_RVal(cY);return this;},get_Render:function(){var cY;function cZ(c4){return cY.startVer?c4.clientX:c4.clientY;}function c0(){var c4;c4=cY.domElem;return c4!=null&&c4.$==1?cY.startVer?cY.after?c4.$0.parentElement.getBoundingClientRect().width:-c4.$0.parentElement.getBoundingClientRect().width:cY.after?c4.$0.parentElement.getBoundingClientRect().height:-c4.$0.parentElement.getBoundingClientRect().height:100;}function c1(c4){cY.value.set_RVal((cZ(c4)-cY.start)*100/cY.size+cY.startP);}function c2(){if(cY.dragging){cY.dragging=false;a.removeEventListener("mousemove",c1,false);a.removeEventListener("mouseup",c2,false);}}function c3(c4,c5){return!cY.dragging?bi.iter(a.ignore,bi.map2(function(c6){return function(c7){cY.dragging=true;cY.startVer=c7;cY.startP=c6;cY.start=cZ(c5);cY.size=c0();a.addEventListener("mousemove",c1,false);a.addEventListener("mouseup",c2,false);return c5.preventDefault();};},cY.get_GetValue(),cY.vertical)):null;}cY=this;return this.node.AddChildren([bh["class"](bi.map(function(c4){return c4?"Vertical":"Horizontal";},this.vertical)),new bl({$:7,$0:cH.Handler("mousedown",function(c4){return function(c5){return c3(c4,c5);};})}),new bl({$:7,$0:cH.OnAfterRender(function(c4){cY.domElem={$:1,$0:c4};})}),bh.css("\n                    .Splitter.Vertical   { cursor: col-resize; background-color: #eef ; width : 5px ; margin-left:-7px; }\n                    .Splitter.Horizontal { cursor: row-resize; background-color: #eef ; height: 5px ; margin-top :-7px; }\n                ")]).AddChildren(this.children);},get_GetValue:function(){function cY(c0,c1){return b5.Compare(c0,c1)===-1?c0:c1;}function cZ(c0,c1){return b5.Compare(c0,c1)===1?c0:c1;}return bi.map2(function(c0){return function(c1){return cY(c0,c1);};},this.max,bi.map2(function(c0){return function(c1){return cZ(c0,c1);};},this.min,this.value));},get_Var:function(){return this.value;}},null,by);by.New$1=function(cY){return by.New$2(cJ.Create$1(cY));};by.New$2=function(cY){return by.New(cY,bi.fixit(5),bi.fixit(95),bi.fixit(true),bh.div([bh["class"]("Splitter")]),b$.T.Empty,true,false,true,0,0,0,null);};by.New=function(cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_){return new by({value:cY,min:cZ,max:c0,vertical:c1,node:c2,children:c3,after:c4,dragging:c5,startVer:c6,startP:c7,start:c8,size:c9,domElem:c_});};bz.StFixedPerc={$:2};bz.StFixedPx={$:1};bz.StVariable={$:0};bA=bm.Grid=b8.Class({get_Render:function(){return bh.div(this.GridTemplate());},GridTemplate:function(){var cY;cY=this;return b$.ofSeq(b4.delay(function(){function cZ(c0,c1){return c0!=null&&c0.$==1?c1.AddChildren([bh.style((function(c2){return function(c3){return c2("grid-area: "+b9.toSafe(c3)+"; dispxlay: grid");};}(a.id))(c0.$0))]):c1;}return b4.append(b4.map(function(c0){return cZ(c0[0],c0[1]);},cY.content),b4.delay(function(){function c0(c1,c2){var c3;return c2.$==2?(c3=c2.$0,{$:1,$0:c3.get_Render().InsertChildren([bh.style1("grid-column",a.String(c1+(c3.after?2:1))),bh.style1("grid-row",(function(c4){return function(c5){return c4("1 / "+a.String(c5));};}(a.id))(cg.length(cY.rows)+1))])}):c2.$==1?null:null;}return b4.append(b4.choose(function(c1){return c0(c1[0],c1[1]);},b4.indexed(cY.cols)),b4.delay(function(){function c1(c2,c3){var c4;return c3.$==2?(c4=c3.$0,{$:1,$0:c4.get_Render().InsertChildren([bh.style1("grid-row",a.String(c2+(c4.after?2:1))),bh.style1("grid-column",(function(c5){return function(c6){return c5("1 / "+a.String(c6));};}(a.id))(cg.length(cY.cols)+1))])}):c3.$==1?null:null;}return b4.append(b4.choose(function(c2){return c1(c2[0],c2[1]);},b4.indexed(cY.rows)),b4.delay(function(){return b4.append(cY.styles(),b4.delay(function(){return b4.append([bh.style((((b8.Curried3(function(c2,c3,c4){return c2("display: grid; grid-gap: "+c3.toFixed(6)+"px; padding: "+c4.toFixed(6)+"px; box-sizing: border-box");}))(a.id))(cY.gap))(cY.padding))],b4.delay(function(){return[new bl({$:7,$0:cH.OnAfterRender(function(c2){function c3(c5,c6){return!b5.Equals(c5.RVal(),c6)?c5.set_RVal(c6):null;}function c4(){var c5;c5=c2.getBoundingClientRect();c3(cY.widthHeight,[c5.width,c5.height]);}c4();bm.addResizeObserver(c4,c2);})})];}));}));}));}));}));}));},styles:function(){return b$.ofArray([bh.style1("grid-template-columns",this.style(this.cols,bi.map(function(cY){return cY[0];},this.widthHeight))),bh.style1("grid-template-rows",this.style(this.rows,bi.map(function(cY){return cY[1];},this.widthHeight)))]);},style:function(cY,cZ){var c0,c1,c2,c3;function c4(c7,c8){return function(c9){return c9.$==2?[bi.map2(function(c_){return function(c$){return c_+c$;};},c9.$0.get_GetValue(),c7),c8]:c9.$==1?c9.$0.$==1?[c7,bi.map2(function(c_){return function(c$){return c_+c$;};},c9.$0.$0,c8)]:[bi.map2(function(c_){return function(c$){return c_+c$;};},c9.$0.$0,c7),c8]:[c7,c8];};}function c5(c7){return bi.map2(function(c8){return function(c9){var c_,c$,da;c_=(c$=c8*c9,(da=0,b5.Compare(da,c$)===1?da:c$));return(function(db){return function(dc){return db(dc.toFixed(6)+"%");};}(a.id))(c_);};},c2,c7);}function c6(c7){return bi.map(function(c8){var c9,c_;c9=(c_=0,b5.Compare(c_,c8)===1?c_:c8);return(function(c$){return function(da){return c$(da.toFixed(6)+"px");};}(a.id))(c9);},c7);}c0=this;return cg.length(cY)===0?new bi({$:0,$0:"100%"}):(c1=b4.fold(function(c7,c8){return(function(c9){return c4(c9[0],c9[1]);}(c7))(c8);},[new bi({$:0,$0:0}),new bi({$:0,$0:0})],cY),(c2=bi.map2(function(c7){return function(c8){return(c8-c0.padding*2-c0.gap*(cg.length(cY)-1)-c7)/(c8-c0.padding*2);};},c1[1],cZ),(c3=bi.map(function(c7){return 100-c7;},c1[0]),bi.map(function(c7){return b6.concat(" ",c7);},b4.foldBack(function(c7,c8){function c9(c_,c$){return new b$.T({$:1,$0:c$,$1:c_});}return bi.map2(function(c_){return function(c$){return c9(c_,c$);};},c8,c7.$==2?c5(c7.$0.get_GetValue()):c7.$==1?c7.$0.$==1?c6(c7.$0.$0):c5(c7.$0.$0):c5(c3));},cY,new bi({$:0,$0:b$.T.Empty}))))));},Children:function(cY){return this.changeSplitter(function(cZ){return cZ.Children(cY);});},Min:function(cY){return this.changeSplitter(function(cZ){return cZ.Min(cY);});},Max:function(cY){return this.changeSplitter(function(cZ){return cZ.Max(cY);});},get_Before:function(){return this.changeSplitter(function(cY){return cY.get_Before();});},changeSplitter:function(cY){var cZ,c0,c1,c2,c3,c4;cZ=this;c0=this.lastSplitter;c0==null?void 0:(c1=c0.$0,c2=c1[0],c1[1]?(c3=cg.get(cZ.cols,c2),c3.$==2?cg.set(cZ.cols,c2,{$:2,$0:cY(c3.$0)}):void 0):(c4=cg.get(cZ.rows,c2),c4.$==2?cg.set(cZ.rows,c2,{$:2,$0:cY(c4.$0)}):void 0));return this;},Gap:function(cY){return bA.New(this.padding,cY,this.content,this.cols,this.rows,this.widthHeight,this.lastSplitter);},Padding:function(cY){return bA.New(cY,this.gap,this.content,this.cols,this.rows,this.widthHeight,this.lastSplitter);},Content:function(cY){return bA.New(this.padding,this.gap,this.content.concat([[null,cY]]),this.cols,this.rows,this.widthHeight,this.lastSplitter);},Content$1:function(cY,cZ){return bA.New(this.padding,this.gap,this.content.concat([[{$:1,$0:cY},cZ]]),this.cols,this.rows,this.widthHeight,this.lastSplitter);},RowAuto:function(cY){return bA.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:0,$0:by.New$1(cY).Horizontal()}]),this.widthHeight,this.lastSplitter);},RowVariable:function(cY){return this.NewSplitter$1(cY,false);},RowVariable$1:function(cY){return this.NewSplitter(cY,false);},RowVariable$2:function(cY){return bA.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:2,$0:cY}]),this.widthHeight,this.lastSplitter);},RowFixed:function(cY){return bA.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:1,$0:{$:0,$0:bi.fixit(cY)}}]),this.widthHeight,this.lastSplitter);},RowFixedPx:function(cY){return bA.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:1,$0:{$:1,$0:bi.fixit(cY)}}]),this.widthHeight,this.lastSplitter);},ColAuto:function(cY){return bA.New(this.padding,this.gap,this.content,this.cols.concat([{$:0,$0:by.New$1(cY)}]),this.rows,this.widthHeight,this.lastSplitter);},ColVariable:function(cY){return this.NewSplitter$1(cY,true);},ColVariable$1:function(cY){return this.NewSplitter(cY,true);},ColVariable$2:function(cY){return bA.New(this.padding,this.gap,this.content,this.cols.concat([{$:2,$0:cY}]),this.rows,this.widthHeight,this.lastSplitter);},ColFixed:function(cY){return bA.New(this.padding,this.gap,this.content,this.cols.concat([{$:1,$0:{$:0,$0:bi.fixit(cY)}}]),this.rows,this.widthHeight,this.lastSplitter);},ColFixedPx:function(cY){return bA.New(this.padding,this.gap,this.content,this.cols.concat([{$:1,$0:{$:1,$0:bi.fixit(cY)}}]),this.rows,this.widthHeight,this.lastSplitter);},NewSplitter:function(cY,cZ){return this.NewSplitter$1(cJ.Create$1(cY),cZ);},NewSplitter$1:function(cY,cZ){var c0,c1,c2;c0=by.New$2(cY);return cZ?(c1={$:1,$0:[cg.length(this.cols),cZ]},bA.New(this.padding,this.gap,this.content,this.cols.concat([{$:2,$0:c0}]),this.rows,this.widthHeight,c1)):(c2={$:1,$0:[cg.length(this.rows),cZ]},bA.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:2,$0:c0.Horizontal()}]),this.widthHeight,c2));}},null,bA);bA.NewBisect=function(cY,cZ,c0,c1,c2,c3){var c4,c5,c6;c4=c0?[cZ.$==1?function(c7){return c7.ColFixedPx(c1);}:cZ.$==2?function(c7){return c7.ColFixed(c1);}:function(c7){return c7.ColVariable(c1);},function(c7){return c7.ColAuto(50);},function(c7){return c7.Content(bh.style("grid-template-areas: 'one   two' "));}]:[cZ.$==1?function(c7){return c7.RowFixedPx(c1);}:cZ.$==2?function(c7){return c7.RowFixed(c1);}:function(c7){return c7.RowVariable(c1);},function(c7){return c7.RowAuto(50);},function(c7){return c7.Content(bh.style("grid-template-areas: 'one' 'two' "));}];c5=c4[0];c6=c4[1];return(cY?function(c7){return c6(c5(c7));}:function(c7){return c5(c6(c7));})(c4[2](bA.get_New().Content$1("one",c2).Content$1("two",c3).Padding(0)));};bA.get_New=function(){return bA.New(9,9,[],[],[],cJ.Create$1([1000,100]),null);};bA.New=function(cY,cZ,c0,c1,c2,c3,c4){return new bA({padding:cY,gap:cZ,content:c0,cols:c1,rows:c2,widthHeight:c3,lastSplitter:c4});};bB=bm.TabStrip=b8.Class({get_Render:function(){var cY,cZ,c0,c1;cY=this;cZ=bh.bindHElem(function(c2){return bh.div(b$.ofSeq(b4.delay(function(){return b4.append([bh["class"]((((b8.Curried3(function(c3,c4,c5){return c3("tab-strip "+b9.toSafe(c4)+" "+b9.toSafe(c5));}))(a.id))(cY.top?"top":"bottom"))(cY.horizontal?"horizontal":"vertical"))],b4.delay(function(){return b4.collect(function(c3){var c4;c4=c3[0];return[bp.get_New().Content(bh.div([bh.htmlText(c3[1][1][0]),bh["class"](bi.map(function(c5){return"tab"+(c5===c4?" selected":"");},cY.selected)),bh.draggable("true"),new bl({$:7,$0:cH.Handler("dragover",function(){return function(c5){return c5.preventDefault();};})}),new bl({$:7,$0:cH.Handler("drag",function(){return function(){(bm.draggedTab())[0]={$:1,$0:[cY,c4]};};})}),new bl({$:7,$0:cH.Handler("drop",function(){return function(c5){c5.preventDefault();c5.stopPropagation();return cY.reorder(c4);};})}),new bl({$:7,$0:cH.Handler("click",function(){return function(){return cY.selected.set_RVal(c4);};})})]))];},b4.indexed(c2));}));})));},this.tabs);bi.sink((c0=this.id,function(c2){bm.setSelectedPanel(c0,c2);}),this.get_Selected());c1=bh.bindHElem(function(c2){return bh.div(b$.ofSeq(b4.delay(function(){return b4.append([bh["class"]("tab-children")],b4.delay(function(){return b4.append([bh.Id(bm.uid2s(cY.id))],b4.delay(function(){function c3(c4,c5){return c5[1].AddChildren([bh.style(bi.map(function(c6){return b4.contains(c4,b4.map(function(c7){return c7[1];},cy.ToSeq(c6)))?"":"display : none";},bm.selectedPanels())),bh.Id(bm.uid2s(c4))]);}return b4.map(function(c4){return c3(c4[0],c4[1]);},c2);}));}));})));},this.tabs);return bh.div([bh["class"]("tab-panel"),this.top?cZ:bl.HtmlEmpty,bh.div([c1,bh["class"]("tab-content")]),!this.top?cZ:bl.HtmlEmpty,new bl({$:7,$0:cH.Handler("dragover",function(){return function(c2){return c2.preventDefault();};})}),new bl({$:7,$0:cH.Handler("drop",function(){return function(c2){c2.preventDefault();return cY.reorder(cg.length(cY.tabs.RVal()));};})}),bh.css("\n    \n    .tab-panel {\n     overflow  : hidden   ;\n     display   : flex     ;\n     flex-flow : column   ;\n     background: lightgray;\n    }\n    .tab-content {\n     flex      : 1 1     ;\n     overflow  : auto    ;\n     position  : relative;\n    }\n    .tab-children {\n     height    : 100%    ;\n     width     : 100%    ;\n     position  : absolute;\n     display   : grid    ;\n    }\n    .tab-strip {\n     padding   : 0pt     ;\n     flex      : 0 0     ;\n    }\n    .tab {\n     border     : 0.2pt solid transparent;\n     padding    : 0pt 4pt;\n     display    : inline-block;\n     font-family: sans-serif;\n     font-weight: 200;\n     font-size  : small;\n     color      : #666;\n     cursor     : pointer;\n    }\n    .top>.tab {\n     border-radius: 2pt 2pt 0pt 0pt;\n     border-bottom-width: 0pt;\n     vertical-align: bottom;\n    }\n    .bottom>.tab {\n     border-top-width: 0pt;\n     border-radius: 0pt 0pt 2pt 2pt;\n     vertical-align: top;\n    }\n    .horizontal>.tab:not(:first-child) {\n     border-left-width: 0pt;\n    }\n    .tab.hovering {\n     background: red;\n    }\n    .tab.selected {\n     background: white;\n     border-left-width: 0.2pt;\n     color: black;\n     font-weight: 500;\n     border-color: black;\n    }\n    .horizontal>.tab.selected {\n     border-left-width: 0.2pt;\n    }\n    ")]);},Select:function(cY){var cZ,c0;function c1(c2,c3){return b5.Equals(c3[0],cY)?(cZ.selected.set_RVal(c2),{$:1,$0:true}):null;}cZ=this;c0=b4.tryPick(function(c2){return c1(c2[0],c2[1]);},b4.indexed(this.tabs.RVal()));return c0==null?false:c0.$0;},Select$1:function(cY){var cZ,c0;function c1(c2,c3){return c3[1][0]===cY?(cZ.selected.set_RVal(c2),{$:1,$0:true}):null;}cZ=this;c0=b4.tryPick(function(c2){return c1(c2[0],c2[1]);},b4.indexed(this.tabs.RVal()));return c0==null?false:c0.$0;},Select$2:function(cY){this.selected.set_RVal(cY);},get_Selected:function(){return bi.map2(function(cY){return function(cZ){var c0;c0=b4.tryItem(cZ,cY);return c0==null?null:{$:1,$0:c0.$0[0]};};},this.tabs,this.selected);},get_Vertical:function(){return bB.New(this.selected,this.tabs,this.top,false,this.id);},get_Horizontal:function(){return bB.New(this.selected,this.tabs,this.top,true,this.id);},SetTop:function(cY){return bB.New(this.selected,this.tabs,cY,this.horizontal,this.id);},get_Bottom:function(){return bB.New(this.selected,this.tabs,false,this.horizontal,this.id);},get_Top:function(){return bB.New(this.selected,this.tabs,true,this.horizontal,this.id);},reorder:function(cY){var cZ,c0,c1;c1=(bm.draggedTab())[0];if(c1!=null&&c1.$==1){if(!b5.Equals(c1.$0[0].id,this.id))this.moveTab(c1.$0[0],c1.$0[1],cY);else if(c1!=null&&c1.$==1){cZ=c1.$0[1];this.tabs.set_RVal(bm.reorderArray(this.tabs.RVal(),cZ,cY));c0=this.selected.RVal();this.selected.set_RVal(c0===cZ?cY:c0<cZ&&c0<cY||c0>cZ&&c0>cY?c0:c0<cZ?c0+1:c0-1);}else throw new cO.New("Compiled\\FSharpStation2\\FSharpStation.fs",4129,18);}else void 0;},moveTab:function(cY,cZ,c0){var c1,c2,c3,c4;c1=this.tabs.RVal();c2=cY.tabs.RVal();c3=cg.collect(a.id,[cA.array(c1,{$:1,$0:0},{$:1,$0:c0-1}),[cg.get(c2,cZ)],cA.array(c1,{$:1,$0:c0},{$:1,$0:cg.length(c1)-1})]);c4=cg.collect(a.id,[cA.array(c2,{$:1,$0:0},{$:1,$0:cZ-1}),cA.array(c2,{$:1,$0:cZ+1},{$:1,$0:cg.length(c2)-1})]);cY.tabs.set_RVal(c4);this.tabs.set_RVal(c3);this.selected.set_RVal(c0);cY.selected.RVal()>=cg.length(c4)?cY.selected.set_RVal(0):void 0;bm.RaiseTabMoved(cY,this);}},null,bB);bB.New$1=function(cY){return bB.New$2(cJ.Create$1(cg.ofSeq(b4.map(function(cZ){return[cn.NewGuid(),cZ];},cY))));};bB.New$2=function(cY){return bB.New(cJ.Create$1(0),cY,false,true,cn.NewGuid());};bB.New=function(cY,cZ,c0,c1,c2){return new bB({selected:cY,tabs:cZ,top:c0,horizontal:c1,id:c2});};bC=bm.MenuEntry=b8.Class({get_MenuNode:function(){return new bD({$:1,$0:this});},SubMenu:function(cY){return bC.New(this.text,this.ref,this.active,this.disabled,{$:1,$0:bE.New2(cY).get_DropDown()},this.toolTip,this.target,this.divider,this.onClick);},SubMenu$1:function(cY){return bC.New(this.text,this.ref,this.active,this.disabled,{$:1,$0:bE.New$1(cY).get_DropDown()},this.toolTip,this.target,this.divider,this.onClick);},Disabled:function(cY){return bC.New(this.text,this.ref,this.active,bi.fixit(cY),this.subMenu,this.toolTip,this.target,this.divider,this.onClick);},OnClick:function(cY){return bC.New(this.text,this.ref,this.active,this.disabled,this.subMenu,this.toolTip,this.target,this.divider,{$:1,$0:cY});},get_Divider:function(){return bC.New(this.text,this.ref,this.active,this.disabled,this.subMenu,this.toolTip,this.target,true,this.onClick);},Target:function(cY){return bC.New(this.text,this.ref,this.active,this.disabled,this.subMenu,this.toolTip,{$:1,$0:cY},this.divider,this.onClick);},get_Render:function(){var cY,cZ,c0,c1,c2,c3,c4,c5,c6;return(this.divider?function(c7){return bh.addClass("divider",c7);}:a.id)((cY=(cZ=(c0=(c1=bm.entryTxt(this.text,(c2=this.target,c2==null?"":c2.$0),this.ref),(bh.addClassIf("active",this.active))(c1)),(bh.addClassIf("disabled",this.disabled))(c0)),(c3=this.subMenu,(c3!=null&&c3.$==1?(c4=b$.ofArray([bh["class"]("dropdown"),c3.$0.get_Render()]),function(c7){return bh.addChildren(c4,c7);}):a.id)(cZ))),(c5=this.onClick,(c5!=null&&c5.$==1?(c6=b$.ofArray([new bl({$:7,$0:cI.Handler("click",c5.$0)}),bh.style("cursor : pointer")]),function(c7){return bh.addChildren(c6,c7);}):a.id)(cY))));}},null,bC);bC.New$1=function(cY,cZ){var c0;c0=bC.New$2(cY);return bC.New(c0.text,bi.map(function(c1){return{$:1,$0:c1};},cZ),c0.active,c0.disabled,c0.subMenu,c0.toolTip,c0.target,c0.divider,c0.onClick);};bC.New$2=function(cY){var cZ,c0;cZ=bi.fixit(cY);c0=bi.fixit(false);return bC.New(cZ,new bi({$:0,$0:null}),c0,bi.fixit(false),null,null,null,false,null);};bC.New=function(cY,cZ,c0,c1,c2,c3,c4,c5,c6){return new bC({text:cY,ref:cZ,active:c0,disabled:c1,subMenu:c2,toolTip:c3,target:c4,divider:c5,onClick:c6});};bD=bm.MenuNode=b8.Class({get_Render:function(){return this.$==1?this.$0.get_Render():this.$0;}},null,bD);bE=bm.Menu=b8.Class({get_Render:function(){var cY;cY=this;return(this.dropdown?bm.dropdown:bm.nav)(b$.ofSeq(b4.delay(function(){return b4.map(function(cZ){return cZ.get_Render();},cY.entries);})));},get_DropDown:function(){return bE.New(this.entries,true);}},null,bE);bE.New2=function(cY){return bE.New$1(b4.map(function(cZ){return new bD({$:1,$0:cZ});},cY));};bE.New$1=function(cY){return bE.New(cY,false);};bE.New=function(cY,cZ){return new bE({entries:cY,dropdown:cZ});};bF=bm.Action=b8.Class({get_Button:function(){var cY,cZ,c0;function c1(c2,c3){return null;}cY=(cZ=(c0=this.onClick,c0==null?null:{$:1,$0:c0.$0(this)}),cZ==null?function(c2){return function(c3){return c1(c2,c3);};}:cZ.$0);return bn.New(bi.map(function(c2){return c2?"btn btn-primary":"btn";},this.highlight),bi.fixit("button"),bi.fixit(""),this.text,cY,this.disabled,"");},get_MenuEntry:function(){var cY,cZ;cY=(cZ=this.onClick,cZ==null?null:{$:1,$0:cZ.$0(this)});return bC.New(this.text,new bi({$:0,$0:null}),this.highlight,this.disabled,null,this.toolTip,null,false,cY);},Highlight:function(cY){return bF.New(this.text,bi.fixit(cY),this.disabled,this.toolTip,this.onClick,this.parms);},Disabled:function(cY){return bF.New(this.text,this.highlight,bi.fixit(cY),this.toolTip,this.onClick,this.parms);},OnClick2:function(cY){return bF.New(this.text,this.highlight,this.disabled,this.toolTip,{$:1,$0:cY},this.parms);},OnClick:function(cY){return bF.New(this.text,this.highlight,this.disabled,this.toolTip,{$:1,$0:function(){return cY;}},this.parms);},Parms:function(cY){return bF.New(this.text,this.highlight,this.disabled,this.toolTip,this.onClick,{$:1,$0:cY});},Text:function(cY){return bF.New(bi.fixit(cY),this.highlight,bi.fixit(false),this.toolTip,this.onClick,this.parms);}},null,bF);bF.New$1=function(cY){return bF.New(bi.fixit(cY),bi.fixit(false),bi.fixit(false),null,null,null);};bF.New=function(cY,cZ,c0,c1,c2,c3){return new bF({text:cY,highlight:cZ,disabled:c0,toolTip:c1,onClick:c2,parms:c3});};bG=bm.GuiPart=b8.Class({GetHtmlNode:function(cY,cZ){var c0,c1,c2,c3,c4,c5;return this.$==1?[this.$0,a.ignore]:this.$==2?[this.$0.get_Button().get_Render(),a.ignore]:this.$==5?[cY.GetCallButton(this.$0,this.$1,this.$2),a.ignore]:this.$==4?(c0=bB.New$1(b4.map(function(c6){return[c6,cY.GetNode(c6)];},this.$1)).SetTop(this.$0),(bm.addValue(cZ,c0,cY.tabStrips),[c0.get_Render(),a.ignore])):this.$==3?(c1=this.$3,(c2=cJ.Create$1(this.$6),(c3=cJ.Create$1(this.$7),(c4=cJ.Create$1(c1),(c5=c1,[bA.NewBisect(this.$0,this.$1,this.$2,c4,cY.GetNode(this.$4),cY.GetNode(this.$5)).Min(c2).Max(c3).get_Render(),function(c6){var c7;if(c6.$==3){c7=c6.$3;c5!==c7?(c5=c7,cJ.Set(c4,c7)):void 0;cJ.Set(c2,c6.$6);cJ.Set(c3,c6.$7);}}]))))):[bl.HtmlEmpty,a.ignore];}},null,bG);bH.New=function(cY,cZ,c0,c1,c2,c3,c4){return{HtmlElementF:cY,HtmlAttributeF:cZ,HtmlAttributeOF:c0,HtmlTextF:c1,HtmlEmptyF:c2,HtmlGuiPart:c3,HtmlGuiCall:c4};};bI.New=function(cY,cZ,c0,c1,c2){return{GuiRoot:cY,GuiTabStrip:cZ,GuiSplit:c0,GuiNode:c1,GuiCall:c2};};bJ.get_New=function(){return{$:0,$0:cn.NewGuid()};};bK=bm.Layout=b8.Class({SelectTab:function(cY){b4.iter(function(cZ){cZ.Select$1(cY);},this.tabStrips.get_Values());},SetLayoutJson:function(cY,cZ){var c0,c3;function c1(c5){var c6,c7,c8,c9,c_,c$,da;c6=bm.PHtmlElementF(c5);return c6!=null&&c6.$==1?{$:1,$0:new bl({$:0,$0:c6.$0[0],$1:b4.choose(c1,c6.$0[1])})}:(c7=bm.PHtmlAttributeF(c5),c7!=null&&c7.$==1?{$:1,$0:new bl({$:1,$0:c7.$0[0],$1:new bi({$:0,$0:c7.$0[1]})})}:(c8=bm.PHtmlAttributeOF(c5),c8!=null&&c8.$==1?{$:1,$0:new bl({$:2,$0:c8.$0[0],$1:new bi({$:0,$0:c8.$0[1]})})}:(c9=bm.PHtmlTextF(c5),c9!=null&&c9.$==1?{$:1,$0:new bl({$:3,$0:new bi({$:0,$0:c9.$0})})}:(c_=bm.PHtmlEmptyF(c5),c_!=null&&c_.$==1)?{$:1,$0:bl.HtmlEmpty}:(c$=bm.PHtmlGuiPart(c5),c$!=null&&c$.$==1?{$:1,$0:c3.GetNode(c$.$0)}:(da=bm.PHtmlGuiCall(c5),da!=null&&da.$==1?{$:1,$0:c3.GetCallButton(da.$0[0],da.$0[1],da.$0[2])}:null)))));}function c2(c5){var c6,c7,c8,c9,c_,c$;c6=bm.PGuiNode(c5);return c6!=null&&c6.$==1?{$:1,$0:new bG({$:1,$0:g.defaultValue(bl.HtmlEmpty,c1(c6.$0))})}:(c7=bm.PGuiRoot(c5),c7!=null&&c7.$==1?{$:1,$0:new bG({$:0,$0:c7.$0})}:(c8=bm.PGuiTabStrip(c5),c8!=null&&c8.$==1?{$:1,$0:(c9=c8.$0,new bG({$:4,$0:c9[0],$1:c9[1]}))}:(c_=bm.PGuiSplit(c5),c_!=null&&c_.$==1?{$:1,$0:new bG({$:3,$0:c_.$0[0],$1:bm.toSect(c_.$0[1]),$2:c_.$0[2],$3:c_.$0[3],$4:c_.$0[4],$5:c_.$0[5],$6:c_.$0[6],$7:c_.$0[7]})}:(c$=bm.PGuiCall(c5),c$!=null&&c$.$==1?{$:1,$0:new bG({$:5,$0:c$.$0[0],$1:c$.$0[1],$2:c$.$0[2]})}:null))));}c3=this;function c4(c5,c6){var c7;c7=c2(c6);return c7==null?null:{$:1,$0:[c5,{$:1,$0:c6},c7.$0]};}try{c0=this.AddNewSteps(cY,cZ===""?[]:cg.choose(function(c5){return c4(c5[0],c5[1]);},((cr.DecodeArray(cr.DecodeTuple([cr.Id(),bZ.j$13])))())(ch.parse(cZ))));}catch(c5){c0=(function(c6){return function(c7){return c6("Error: "+b9.prettyPrint(c7));};}(function(c6){ca.log(c6);}))(c5);}},AddNewSteps:function(cY,cZ){var c0;function c1(c3,c4,c5){var c6,c7;if(c0.parts.ContainsKey(c3)){c6=c0.parts.get_Item(c3);c7=c6[0];b5.Equals((c7.RVal())[0],c4)?bi.iter(a.ignore,bi.apply(new bi({$:0,$0:c5}),c6[2])):c7.set_RVal([c4,c5]);}else c0.AddNode(c3,c4,c5);}function c2(c3,c4){return b4.last(c4);}c0=this;cg.iter(function(c3){return c1(c3[0],c3[1],c3[2]);},cg.map(function(c3){return c2(c3[0],c3[1]);},cg.groupBy(function(c3){return a.id(c3[0],c3[1],c3[2]);},cY.concat(cZ))));},get_Render:function(){function cY(cZ){var c0;c0=cZ.RVal();return c0[1].$==0?{$:1,$0:c0[1].$0}:null;}return this.GetNode(g.defaultValue("main",b4.tryPick(function(cZ){return cY(bm.t1of3.apply(null,cZ));},this.parts.get_Values())));},GetNode:function(cY){var cZ;cZ=null;return this.parts.TryGetValue(cY,{get:function(){return cZ;},set:function(c0){cZ=c0;}})?bm.t2of3(cZ[0],cZ[1],cZ[2]):this.AddNode(cY,bJ.get_New(),new bG({$:1,$0:bh.div([bh.htmlText((function(c0){return function(c1){return c0("GuiPart "+b9.toSafe(c1)+" not found");};}(a.id))(cY))])}));},AddNode:function(cY,cZ,c0){var c1,c2,c3,c4;function c5(c6,c7){return c7.GetHtmlNode(c1,cY);}c1=this;c2=cJ.Create$1([cZ,c0]);c3=bi.map(function(c6){return c5(c6[0],c6[1]);},c2);c4=new bl({$:5,$0:bi.map(function(c6){return c6[0];},c3)});this.parts.Add(cY,[c2,c4,bi.map(function(c6){return c6[1];},c3)]);return c4;},GetCallButton:function(cY,cZ,c0){var c1;c1=m.Success(this.GetGuiCallAction(cY,cZ,c0));return c1.$==1?bh.div([bh.htmlText(b6.concat(". ",m.msgs2String(c1.$0)))]):c1.$0[0].get_Button().get_Render();},GetGuiCallAction:function(cY,cZ,c0){var c1;return this.parts.ContainsKey(cZ)?(c1=(this.parts.get_Item(cZ))[0].RVal(),c1[1].$==2?m.succeed(c1[1].$0.Text(cY).Parms(cg.map(a.id,c0))):m.failSimpleError((function(c2){return function(c3){return c2("GuiPart "+b9.toSafe(c3)+" is not a GuiAction");};}(a.id))(cZ))):m.failSimpleError((function(c2){return function(c3){return c2("GuiAction "+b9.toSafe(c3)+" not found");};}(a.id))(cZ));}},null,bK);bK.New$1=function(cY){var cZ;function c0(c1,c2,c3){cZ.AddNode(c1,c2,c3);}cZ=bK.New(new ce.New$5(),new ce.New$5());b4.iter(function(c1){return c0(c1[0],c1[1],c1[2]);},cY);return cZ;};bK.AddGuids=function(cY){function cZ(c0,c1){return[c0,c1.$==2?bJ.get_New():c1.$==0?{$:2,$0:c1.$0}:c1.$==3?{$:4,$0:c1.$0,$1:c1.$1,$2:c1.$2,$3:c1.$4,$4:c1.$5}:c1.$==4?{$:3,$0:c1.$0,$1:c1.$1}:c1.$==5?{$:5,$0:c1.$0,$1:c1.$1,$2:c1.$2}:bJ.get_New(),c1];}return cg.ofSeq(b4.map(function(c0){return cZ(c0[0],c0[1]);},cY));};bK.New=function(cY,cZ){return new bK({parts:cY,tabStrips:cZ});};bm.varVerSplitter=function(cY,cZ,c0,c1,c2){return new bG({$:3,$0:true,$1:bz.StVariable,$2:true,$3:cY,$4:cZ,$5:c0,$6:c1,$7:c2});};bm.varHorSplitter=function(cY,cZ,c0,c1,c2){return new bG({$:3,$0:true,$1:bz.StVariable,$2:false,$3:cY,$4:cZ,$5:c0,$6:c1,$7:c2});};bm.fixedVerSplitter=function(cY,cZ,c0,c1){return new bG({$:3,$0:cY,$1:bz.StFixedPx,$2:true,$3:cZ,$4:c0,$5:c1,$6:5,$7:95});};bm.fixedHorSplitter=function(cY,cZ,c0,c1){return new bG({$:3,$0:cY,$1:bz.StFixedPx,$2:false,$3:cZ,$4:c0,$5:c1,$6:5,$7:95});};bm.t3of3=function(cY,cZ,c0){return c0;};bm.t2of3=function(cY,cZ,c0){return cZ;};bm.t1of3=a.id;bm.toSect=function(cY){return cY==="StVariable"?bz.StVariable:cY==="StFixedPx"?bz.StFixedPx:bz.StFixedPerc;};bm.PGuiCall=function(cY){return cY.GuiCall;};bm.PGuiNode=function(cY){return cY.GuiNode;};bm.PGuiRoot=function(cY){return cY.GuiRoot;};bm.PGuiSplit=function(cY){return cY.GuiSplit;};bm.PGuiTabStrip=function(cY){return cY.GuiTabStrip;};bm.PHtmlGuiCall=function(cY){return cY.HtmlGuiCall;};bm.PHtmlGuiPart=function(cY){return cY.HtmlGuiPart;};bm.PHtmlEmptyF=function(cY){return cY.HtmlEmptyF;};bm.PHtmlTextF=function(cY){return cY.HtmlTextF;};bm.PHtmlAttributeOF=function(cY){return cY.HtmlAttributeOF;};bm.PHtmlAttributeF=function(cY){return cY.HtmlAttributeF;};bm.PHtmlElementF=function(cY){return cY.HtmlElementF;};bm.addValue=function(cY,cZ,c0){c0.Remove(cY);c0.Add(cY,cZ);};bm.processLayoutSteps=function(cY,cZ){var c0,c1;return g.defaultValue(cZ,(c0=b4.tryHead(cY),c0==null?null:{$:1,$0:(c1=c0.$0,bm.processLayoutSteps(b4.skip(1,cY),cZ.Add(c1[0],c1[1])))}));};bm.HtmlGuiCall=function(cY,cZ,c0){return new bG({$:5,$0:cY,$1:cZ,$2:c0});};bm.Do2=function(cY,cZ,c0,c1,c2){return cY(c0,cZ);};bm.Do=function(cY,cZ,c0,c1){return cY(cZ);};bm.navbar=function(cY,cZ,c0){return bh.div([bh["class"]("navbar navbar-default"),bh.div([bh["class"]("container-fluid"),bh.div([bh["class"]("navbar-header"),bh.div([bh["class"]("navbar-brand"),cY])]),bh.div([bh["class"]("navbar-collapse collapse"),cZ,bh.addClass("navbar-right",c0)])])]);};bm.dropdown=function(cY){return bm.entries(cY,"dropdown-menu");};bm.nav=function(cY){return bm.entries(cY,"nav navbar-nav");};bm.entries=function(cY,cZ){return bh.addClass(cZ,bh.ul(cY));};bm.entryTxt=function(cY,cZ,c0){return bm.menuEntry(bm.refText(cY,cZ,c0));};bm.refText=function(cY,cZ,c0){return bh.bindHElem(function(c1){return c1===""?bl.HtmlEmpty:bm.refA(bh.htmlText(c1),c1,c0);},cY);};bm.refA=function(cY,cZ,c0){return bh.a([cY,bh.hrefO(c0),bh.target(cZ)]);};bm.menuEntry=function(cY){return bh.li([cY]);};bm.RaiseTabMoved=function(cY,cZ){var c0;c0=bm.TabMoved();c0==null?void 0:c0.$0([cY,cZ]);};bm.TabMoved=function(){bY.$cctor();return bY.TabMoved;};bm.set_TabMoved=function(cY){bY.$cctor();bY.TabMoved=cY;};bm.setSelectedPanel=function(cY,cZ){cJ.Set(bm.selectedPanels(),cZ==null?bm.selectedPanels().c.Remove(cY):bm.selectedPanels().c.Add(cY,cZ.$0));};bm.selectedPanels=function(){bY.$cctor();return bY.selectedPanels;};bm.uid2s=function(cY){return"X"+b6.Replace(a.String(cY),"-","");};bm.draggedTab=function(){bY.$cctor();return bY.draggedTab;};bm.reorderArray=function(cY,cZ,c0){return cg.collect(a.id,c0<cZ?[cA.array(cY,{$:1,$0:0},{$:1,$0:c0-1}),[cg.get(cY,cZ)],cA.array(cY,{$:1,$0:c0},{$:1,$0:cZ-1}),cA.array(cY,{$:1,$0:cZ+1},{$:1,$0:cg.length(cY)-1})]:[cA.array(cY,{$:1,$0:0},{$:1,$0:cZ-1}),cA.array(cY,{$:1,$0:cZ+1},{$:1,$0:c0}),[cg.get(cY,cZ)],cA.array(cY,{$:1,$0:c0+1},{$:1,$0:cg.length(cY)-1})]);};bm.reorderList=function(cY,cZ,c0){return c0<cZ?b$.append(cY.GetSlice({$:1,$0:0},{$:1,$0:c0-1}),b$.append(b$.ofArray([cY.get_Item(cZ)]),b$.append(cY.GetSlice({$:1,$0:c0},{$:1,$0:cZ-1}),cY.GetSlice({$:1,$0:cZ+1},{$:1,$0:cY.get_Length()-1})))):b$.append(cY.GetSlice({$:1,$0:0},{$:1,$0:cZ-1}),b$.append(cY.GetSlice({$:1,$0:cZ+1},{$:1,$0:c0}),b$.append(b$.ofArray([cY.get_Item(cZ)]),cY.GetSlice({$:1,$0:c0+1},{$:1,$0:cY.get_Length()-1}))));};bm.addResizeObserver=function(cY,cZ){var c0,c1,c2,c3;try{c0=!(!a.ResizeObserver);}catch(c4){c0=false;}if(c0){c1=new a.ResizeObserver(cY);bm.set_observers(new b$.T({$:1,$0:c1,$1:bm.observers()}));c1.observe(cZ);}else{c2=bm.dimsChanged(cZ);b3.Start((c3=null,b3.Delay(function(){return b3.While(function(){return cZ.isConnected;},b3.Delay(function(){return b3.Bind(b3.Sleep(110),function(){return c2()?(cY(),b3.Zero()):b3.Zero();});}));})),null);}};bm.dimsChanged=function(cY){var cZ;cZ=cY.getBoundingClientRect();return function(){var c0;c0=cY.getBoundingClientRect();return b5.Equals(bm.domRect2Tuple(cZ),bm.domRect2Tuple(c0))?false:(cZ=c0,true);};};bm.domRect2Tuple=function(cY){return[cY.top,cY.left,cY.width,cY.height];};bm.observers=function(){bY.$cctor();return bY.observers;};bm.set_observers=function(cY){bY.$cctor();bY.observers=cY;};bm.setLint=function(cY,cZ){cY.setOption("lint",{async:1,getAnnotations:b8.CreateFuncWithArgs(cZ),container:bh.findRootElement(cY.getWrapperElement())});};bm.showHints=function(cY,cZ,c0,c1){var c2;c2=bw.New(b8.CreateFuncWithArgs(cZ),c0,bh.findRootElement(cY.getWrapperElement()));c2.hint.async=1;cY.showHint(c2);};bm.cmPos=function(cY,cZ){return br.New(cY,cZ);};bm.codeMirrorIncludes=function(){bY.$cctor();return bY.codeMirrorIncludes;};bm.hoverable=function(cY){return bp.get_New().Content(cY);};bM=bL.RunNode=b8.Class({createBaseNode:function(){var cY;cY=a.document.createElement("div");cY.setAttribute("id",this.nodeName);a.document.body.appendChild(cY);return cY;},createNode:function(){var cY;cY=a.document.createElement("div");cY.style="height: 100%; width: 100%;";return cY;},RunHtml:function(cY){this.RunDoc((bh.renderDoc())(cY));},RunDoc:function(cY){cF.Run(this.get_RunNode(),cY);},get_AddBootstrap:function(){var cY;cY=a.document.createElement("div");cY.innerHTML="<script src='http://code.jquery.com/jquery-3.1.1.min.js' type='text/javascript' charset='UTF-8'></script>\n                <script src='http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js' type='text/javascript' charset='UTF-8'></script>\n                <link type='text/css' rel='stylesheet' href='http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css'>\n                <link type='text/css' rel='stylesheet' href='/EPFileX/css/main.css'>\n               ";this.runNode.parentElement.appendChild(cY);return this;},get_RunNode:function(){return this.runNode;}},i,bM);bM.New=b8.Ctor(function(cY){bM.New$1.call(this,"TestNode",cY);},bM);bM.New$1=b8.Ctor(function(cY,cZ){var c0,c1,c2,c3,c4;this.nodeName=cY;c0=(c1=a.document.getElementById(this.nodeName),b5.Equals(c1,null)?this.createBaseNode():c1);this.runNode=(c2=c0.shadowRoot,b5.Equals(c2,null)?(c3=this.createNode(),(c0.attachShadow({mode:"open"}).appendChild(c3),c4=this.createNode(),c3.appendChild(c4),c4)):c2.firstChild);cZ==null||cZ.$0?this.runNode.innerHTML="":void 0;},bM);bL.completeJS=function(cY){return"\n          CIPHERSpaceLoadFileGlobalFileRef = null;\n          CIPHERSpaceLoadFile = function (filename, callback) {\n              if (filename.slice(-3) == \".js\" || filename.slice(-4) == \".fsx\" || filename.slice(-3) == \".fs\") { //if filename is a external JavaScript file\n                  var fileRef = null;\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\n                  if (!pre) {\n                      fileRef = document.createElement('script')\n                      fileRef.setAttribute(\"type\", \"text/javascript\")\n                      fileRef.setAttribute(\"src\", filename)\n                  }\n                  else callback();\n              }\n              else if (filename.slice(-4) == \".css\") { //if filename is an external CSS file\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\n                  if (!pre) {\n                      fileRef = document.createElement(\"link\")\n                      fileRef.setAttribute(\"rel\", \"stylesheet\")\n                      fileRef.setAttribute(\"type\", \"text/css\")\n                      fileRef.setAttribute(\"href\", filename)\n                  }\n                  else callback();\n              }\n              else if (filename.slice(-5) == \".html\") { //if filename is an external HTML file\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\n                  if (!pre) {\n                      fileRef = document.createElement(\"link\")\n                      fileRef.setAttribute(\"rel\", \"import\")\n                      fileRef.setAttribute(\"type\", \"text/html\")\n                      fileRef.setAttribute(\"href\", filename)\n                  }\n                  else callback();\n              }\n              if (!!fileRef) {\n                  CIPHERSpaceLoadFileGlobalFileRef = fileRef;\n      \u0009\u0009\u0009fileRef.onload = function () { fileRef.onload = null;  callback(); }\n                  document.getElementsByTagName(\"head\")[0].appendChild(fileRef);\n              }\n          }\n          CIPHERSpaceLoadFiles = function (files, callback) {\n              var newCallback = callback\n              if (!!CIPHERSpaceLoadFileGlobalFileRef && !!(CIPHERSpaceLoadFileGlobalFileRef.onload)) {\n                  var oldCallback = CIPHERSpaceLoadFileGlobalFileRef.onload;\n                  CIPHERSpaceLoadFileGlobalFileRef.onload = null;\n                  newCallback = function () {\n                      callback();\n                      oldCallback();\n                  }\n              }\n              var i = 0;\n              loadNext = function () {\n                  if (i < files.length) {\n                      var file = files[i];\n                      i++;\n                      CIPHERSpaceLoadFile(file, loadNext);\n                  }\n                  else newCallback();\n              };\n              loadNext();\n      \u0009}\n          CIPHERSpaceLoadFiles(['https://code.jquery.com/jquery-3.1.1.min.js'], function() {}); \n      \u0009CIPHERSpaceLoadFilesDoAfter = function (callback) {\n      \u0009\u0009var newCallback = callback\n      \u0009\u0009if (!!CIPHERSpaceLoadFileGlobalFileRef) {\n      \u0009\u0009\u0009if (!!(CIPHERSpaceLoadFileGlobalFileRef.onload)) {\n      \u0009\u0009\u0009\u0009var oldCallback = CIPHERSpaceLoadFileGlobalFileRef.onload;\n      \u0009\u0009\u0009\u0009CIPHERSpaceLoadFileGlobalFileRef.onload = null;\n      \u0009\u0009\u0009\u0009newCallback = function () {\n      \u0009\u0009\u0009\u0009\u0009oldCallback();\n      \u0009\u0009\u0009\u0009\u0009callback();\n      \u0009\u0009\u0009\u0009}\n      \u0009\u0009\u0009}\n      \u0009\u0009}\n      \u0009\u0009else CIPHERSpaceLoadFileGlobalFileRef = {};\n      \u0009\u0009CIPHERSpaceLoadFileGlobalFileRef.onload = newCallback;\n      \u0009}\n      \n      CIPHERSpaceLoadFilesDoAfter(function() { \n        if (typeof IntelliFactory !=='undefined')\n          IntelliFactory.Runtime.Start();\n        for (key in window) { \n          if (key.startsWith(\"StartupCode$\")) \n            try { window[key].$cctor(); } catch (e) {} \n        } \n      })\n      \n                       "+cY;};bP.NewBrowser={$:3};bP.Tab={$:2};bP.Right={$:1};bP.Below={$:0};bQ=bO.ErrCompiler=b8.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return this.$==0&&!this.$1;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return this.$==0?(function(cY){return function(cZ){return cY(b9.toSafe(cZ));};}(a.id))(this.$0):(function(cY){return function(cZ){return cY(b1.p$3(cZ));};}(a.id))(this);}},null,bQ);bQ["Could not open new browser, Popup blocker may be active"]=new bQ({$:2});bQ["Snippet Missing"]=new bQ({$:1});bR.New=function(cY,cZ,c0,c1){return{F2:cY,LeftDoubleClick:cZ,"Ctrl-Space":c0,".":c1};};bS=bO.Property=b8.Class({setV:function(cY){this.props.set_Item(this.key,cY);this.setDirty();},getV:function(){return this.props.get_Item(this.key);},setK:function(cY){this.props.Add(cY,this.props.get_Item(this.key));this.props.Remove(this.key);this.key=cY;this.setDirty();},getK:function(){return this.key;},Remove:function(){this.props.Remove(this.key);this.setDirty();},get_SetV:function(){var cY;cY=this;return function(cZ){cY.setV(cZ);};},get_GetV:function(){var cY;cY=this;return function(){return cY.getV();};},get_SetK:function(){var cY;cY=this;return function(cZ){cY.setK(cZ);};},get_GetK:function(){var cY;cY=this;return function(){return cY.getK();};},get_ValueVar:function(){return new bT.New(this);},get_KeyVar:function(){return this;},RView:function(){return cE.Const(this.getK());},RUpdM:function(cY){var cZ;cZ=cY(this.getK());cZ==null?void 0:this.setK(cZ.$0);},RUpd:function(cY){this.setK(cY(this.getK()));},RVal:function(){return this.getK();},RGet:function(){return this.getK();},set_RVal:function(cY){this.setK(cY);},RSet:function(cY){this.setK(cY);},RId:function(){return"?";}},i,bS);bS.New=b8.Ctor(function(cY,cZ,c0){this.setDirty=cY;this.props=cZ;this.key=c0;},bS);bT=bO.PropValue=b8.Class({RView:function(){return cE.Const(this.get());},RUpdM:function(cY){var cZ;cZ=cY(this.get());cZ==null?void 0:this.set(cZ.$0);},RUpd:function(cY){this.set(cY(this.get()));},RVal:function(){return this.get();},RGet:function(){return this.get();},set_RVal:function(cY){this.set(cY);},RSet:function(cY){this.set(cY);},RId:function(){return"?";}},i,bT);bT.New=b8.Ctor(function(cY){this.get=cY.get_GetV();this.set=cY.get_SetV();},bT);bO["CodeSnippet.propValue"]=function(cY,cZ){var c0,c1;return cY.properties.ContainsKey(cZ)?{$:1,$0:cY.properties.get_Item(cZ)}:(c0=(c1=cY.parent,c1==null?null:bU.FetchO(c1.$0)),c0==null?null:bO["CodeSnippet.propValue"](c0.$0,cZ));};bU.FetchByPathO=function(cY){function cZ(c1,c2){return b4.tryHead(b4.filter(function(c3){return c3.get_Name()===c2;},c1));}function c0(c1,c2){var c3,c4,c5,c6;c3=(c4=b4.tryHead(c2),c4==null?null:cZ(c1,c4.$0));return b4.length(c2)<=1?c3:c3==null?null:(c5=c3.$0,(c6=b4.tail(c2),c0(b4.filter(function(c7){return b5.Equals(c7.parent,{$:1,$0:c5.id});},(bO.codeSnippets())["var"].RVal()),c6)));}return c0(b4.filter(function(c1){return c1.parent==null;},(bO.codeSnippets())["var"].RVal()),cY);};bO["CodeSnippet.IsDescendantOf"]=function(cY,cZ){function c0(c1){var c2,c3,c4;c2=c1.parent;return c2!=null&&c2.$==1&&(c3=c2.$0,b5.Equals(c3,cZ)||g.defaultValue(false,(c4=bU.FetchO(c3),c4==null?null:{$:1,$0:c0(c4.$0)})));}return c0(cY);};bO["CodeSnippet.GetCodeFsx"]=function(cY,cZ){return(bO["CodeSnippet.GetCodeAndStarts"](cY,cZ))[0];};bO["CodeSnippet.GetCodeAndStarts"]=function(cY,cZ){return z.CodeAndStarts(cZ,bO["CodeSnippet.Predecessors"](cY));};bO["CodeSnippet.Predecessors"]=function(cY,cZ){var c0;c0=cg.ofSeq(cY.UniquePredecessors(bU.FetchO));return cg.ofSeq(b4.map(bO["CodeSnippet.get_PrepareSnippet"],b4.filter(function(c1){return cg.contains(c1.id,c0);},(bO.codeSnippets())["var"].RVal())));};bO["CodeSnippet.get_PrepareSnippet"]=function(cY,cZ){var c0;c0=bO["CodeSnippet.get_Levels"](cY);return z.New(cY.name,b6.Replace(b6.Replace(cY.content,"##"+"FSHARPSTATION_ID"+"##",bO.fsIds()),"##"+"FSHARPSTATION_ENDPOINT"+"##",a.location.href),cY.parent,cY.predecessors,cY.id,cY.expanded,c0[0],c0[1],cY.properties);};bO["CodeSnippet.get_Levels"]=function(cY,cZ){function c0(c1,c2){return function(c3){var c4,c5,c6;return g.defaultValue([c1,c2],(c4=(c5=c3.parent,c5==null?null:bU.FetchO(c5.$0)),(c6=c0(c1+1,c2+(c3.properties.ContainsKey("NoIndent")?0:1)),c4==null?null:{$:1,$0:c6(c4.$0)})));};}return(function(c1){return c0(c1[0],c1[1]);}([0,0]))(cY);};bU.New=function(cY,cZ,c0,c1,c2,c3){var c4,c5,c6,c7,c8;c4=z.New(cZ,c3,c0,c1,y.get_New(),true,0,0,new ce.New$5());c5=bO.codeSnippets().get_Length();c5===0?bO.codeSnippets().Append(c4):cY===0?(c6=b4.append([c4],(bO.codeSnippets())["var"].RVal()),bO.codeSnippets().Set(c6)):cY<c5?(c7=(c8=cg.splitAt(cY,cg.ofSeq((bO.codeSnippets())["var"].RVal())),c8[0].concat([c4].concat(c8[1]))),bO.codeSnippets().Set(c7)):bO.codeSnippets().Append(c4);return c4;};bU.New$1=function(cY,cZ,c0,c1,c2){return bU.New(bO.codeSnippets().get_Length(),cY,cZ,c0,c1,c2);};bU.New$2=function(cY){return bU.New$1("",null,b$.T.Empty,b$.T.Empty,cY);};bU.New$3=function(cY,cZ){return bU.New$1("",{$:1,$0:cY},b$.T.Empty,b$.T.Empty,cZ);};bU.New$4=function(cY,cZ,c0){return bU.New$1("",{$:1,$0:cY},cZ,b$.T.Empty,c0);};bU.New$5=function(cY,cZ){return bU.New$1("",null,cY,b$.T.Empty,cZ);};bU.FetchL=function(cY){return co.toList(bU.FetchO(cY));};bU.FetchO=function(cY){return bO.codeSnippets().TryFindByKey(cY);};bU.PickIO=function(cY){function cZ(c0,c1){return b5.Equals(c1.id,cY);}return bO.tryPickI(function(c0){return cZ(c0[0],c0[1]);},(bO.codeSnippets())["var"].RVal());};bO.tryPickI=function(cY,cZ){return b4.tryHead(b4.filter(cY,b4.indexed(cZ)));};bO.fsIds=function(){bY.$cctor();return bY.fsIds;};bO.codeSnippets=function(){bY.$cctor();return bY.codeSnippets;};bW=bV.Babel=b8.Class({},i,bW);bW.New=b8.Ctor(function(){},bW);bX=bV.Fable=b8.Class({},i,bX);bX.New=b8.Ctor(function(){},bX);bV.fableTranslate=function(cY){var cZ;cZ=p.wrapper();return cZ.Run(cZ.Delay(function(){var c0;bV.loadReferences().f();return cZ.Bind$2((c0=null,b3.Delay(function(){return b3.While(function(){return cP.getOwnPropertyNames(a.metadata).length<cg.length(bV.references());},b3.Delay(function(){return b3.Bind(b3.Sleep(200),function(){return b3.Return(null);});}));})),function(){var c1,c2,c3,c4,c5;c1=bV.getChecker().f();c2=cQ.makeCompiler([["Microsoft.FSharp.Core.ExtraTopLevelOperators.PrintFormatLine","FSSGlobal.FSharpStation.FableModule.ToConsole($0)"]]);c3="stdin.fsx";c4=ch.parse(cQ.convertToJson(cQ.compileAst(c2,cQ.parseFSharpProject(c1,c2,c3,cY),c3)));c5=cP.create(null);c5.plugins=[a.babelPlugins.transformMacroExpressions,a.babelPlugins.removeUnneededNulls,"transform-es2015-modules-amd"];c5.presets=[];c5.filename=c3;c5.babelrc=false;return cZ.Return(b6.Replace(b6.Replace(cR.transformFromAst(c4,null,c5).code,"define([","require(["),"\"use strict\";","\"use strict\"; try { exports = exports || {}; } catch (err) {}"));});}));};bV.ToConsole=function(cY){ca.log(cY);return cY.cont(bV.addOutMsg());};bV.addOutMsg=function(){bY.$cctor();return bY.addOutMsg;};bV.set_addOutMsg=function(cY){bY.$cctor();bY.addOutMsg=cY;};bV.getChecker=function(){bY.$cctor();return bY.getChecker;};bV.loadReferences=function(){bY.$cctor();return bY.loadReferences;};bV.references=function(){bY.$cctor();return bY.references;};bN.FSharpStationClient=function(cY){var cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW;function eX(gI,gJ,gK,gL){return gJ(gL)==null?cJ.Lens(cZ,function(){return gI;},function(){return"";}):gK(gL);}function eY(){cJ.Set(c3,null);}function eZ(gI){function gJ(gL){return gL.get_Name();}function gK(gL,gM){return z.New(gM,gL.content,gL.parent,gL.predecessors,gL.id,gL.expanded,gL.level,gL.levelCode,gL.properties);}return eX("",function(gL){return bO.codeSnippets().TryFindByKey(gL);},function(gL){return bO.codeSnippets().LensInto(gJ,gK,gL);},gI);}function e0(gI){function gJ(gL){return gL.content;}function gK(gL,gM){return z.New(gL.name,gM,gL.parent,gL.predecessors,gL.id,gL.expanded,gL.level,gL.levelCode,gL.properties);}return eX("",function(gL){return bO.codeSnippets().TryFindByKey(gL);},function(gL){return bO.codeSnippets().LensInto(gJ,gK,gL);},gI);}function e1(gI){var gJ;gJ=bO["CodeSnippet.propValue"](gI,"CSS");return gJ==null?null:{$:1,$0:a.id(gJ.$0)};}function e2(gI){return g.defaultValue("",gI);}function e3(gI){var gJ;gJ=bO["CodeSnippet.propValue"](gI,"CSSLink");return gJ==null?null:{$:1,$0:a.id(gJ.$0)};}function e4(gI){return g.defaultValue("",gI);}function e5(gI){var gJ;gJ=bO["CodeSnippet.propValue"](gI,"Mode");return gJ==null?null:{$:1,$0:a.id(gJ.$0)};}function e6(gI){return g.defaultValue("fsharp",gI);}function e7(gI){var gJ;gJ=bO["CodeSnippet.propValue"](gI,"Theme");return gJ==null?null:{$:1,$0:a.id(gJ.$0)};}function e8(gI){return g.defaultValue("",gI);}function e9(gI){var gJ;gJ=bO["CodeSnippet.propValue"](gI,"Layout");return gJ==null?null:{$:1,$0:a.id(gJ.$0)};}function e_(gI){return g.defaultValue("",gI);}function e$(gI){var gJ;gJ=bO["CodeSnippet.propValue"](gI,"LayoutJS");return gJ==null?null:{$:1,$0:a.id(gJ.$0)};}function fa(gI){return g.defaultValue("",gI);}function fb(gI){var gJ,gK,gL,gM;function gN(gP){var gQ;gQ=bO["CodeSnippet.propValue"](gP,gI);return gQ==null?null:{$:1,$0:a.id(gQ.$0)};}function gO(gP){return g.defaultValue("",gP);}gJ=bi.map((gK=(gL=function(gP){return gP==null?null:gN(gP.$0);},function(gP){return gL(bU.FetchO(gP));}),function(gP){return gO(gK(gP));}),c0);gM=[cJ.Create$1(null)];cE.Sink(function(gP){if(!b5.Equals(gM[0].c,gP))cJ.Set(gM[0],gP);},bi.toView(gJ));return new bi({$:1,$0:gM[0]});}function fc(gI,gJ){return gJ===""?gI:gJ!=="0";}function fd(){dL=false;cJ.Set(dM,true);}function fe(){dF=null;fd();}function ff(){fe();dG.ClearCache();eY();}function fg(){dG.ClearCache();cJ.Set(dM,false);dF=null;}function fh(gI,gJ){var gK,gL,gM;return!gJ?null:(gK=(gL=gI.RVal(),(gM=a.String(gJ),gL===null?gM:gL===""?gM:gM===null?gL:gM===""?gL:gL+"\n"+gM)),gK!==gI.RVal()?gI.set_RVal(gK):null);}function fi(gI){cJ.Set(dK,gI);}function fj(gI){fh(dK,gI);}function fk(gI){fh(dJ,gI);}function fl(){var gI;gI=bU.FetchO(c0.c);gI==null?void 0:cJ.Set(dH,bO["CodeSnippet.GetCodeFsx"](gI.$0,true));}function fm(gI,gJ){var gK,gL,gM,gN,gO,gP,gQ,gR;function gS(gT){function gU(gV,gW){return b5.Equals(gW.id,gT);}return function(gV){return bO.tryPickI(function(gW){return gU(gW[0],gW[1]);},gV);};}gK=cg.partition(function(gT){return b5.Equals(gT.id,gJ)||bO["CodeSnippet.IsDescendantOf"](gT,gJ);},cg.ofSeq((bO.codeSnippets())["var"].RVal()));gL=gK[1];gM=gK[0];gN=(gS(gJ))(gM);gO=(gS(gI))(gL);gN!=null&&gN.$==1?gO!=null&&gO.$==1?(gP=gO.$0[0],gQ=gO.$0[1],gR=cg.collect(a.id,[cA.array(gL,{$:1,$0:0},{$:1,$0:gP-1}),gM,cA.array(gL,{$:1,$0:gP},null)]),bO.codeSnippets().Set(gR),bO.codeSnippets().UpdateBy(function(gT){return{$:1,$0:z.New(gT.name,gT.content,gQ.parent,gT.predecessors,gT.id,gT.expanded,gT.level,gT.levelCode,gT.properties)};},gN.$0[1].id)):void 0:void 0;return ff();}function fn(){var gI,gJ,gK,gL;gI=bU.PickIO(c0.c);gI==null?void 0:(gJ=gI.$0,gK=gJ[0],gL=gJ[1],function(gM,gN){var gO;while(true){if(gN<0)return null;else if(gM((gO=(bO.codeSnippets())["var"].RVal(),(function(gP){return function(gQ){return b4.nth(gP,gQ);};}(gN))(gO))))return null;else gN=gN-1;}}(function(gM){return b5.Equals(gM.parent,gL.parent)&&(bO.codeSnippets().UpdateBy(function(gN){return{$:1,$0:z.New(gN.name,gN.content,{$:1,$0:gM.id},gN.predecessors,gN.id,gN.expanded,gN.level,gN.levelCode,gN.properties)};},gL.id),true);},gK-1),ff());}function fo(){var gI,gJ,gK,gL,gM;gI=bU.FetchO(c0.c);gI==null?void 0:(gJ=gI.$0,gK=(gL=(gM=gJ.parent,gM==null?null:bU.FetchO(gM.$0)),gL==null?null:gL.$0.parent),bO.codeSnippets().UpdateBy(function(gN){return{$:1,$0:z.New(gN.name,gN.content,gK,gN.predecessors,gN.id,gN.expanded,gN.level,gN.levelCode,gN.properties)};},gJ.id),ff());}function fp(gI){var gJ;gJ=p.wrapper();return gJ.Run(gJ.Delay(function(){return gJ.Bind$1(m.fromOption(bQ["Snippet Missing"],gI),function(gK){var gL;cJ.Set(dK,"Compiling to JavaScript...");cJ.Set(dI,"");gL=bO["CodeSnippet.GetCodeFsx"](gK,true);cJ.Set(dH,gL);return gJ.Bind$2(S.translateAR(gL,false),function(gM){return gJ.Bind$1(gM,function(gN){var gO;gO=bL.completeJS(gN);cJ.Set(dI,gO);fj("Compiled!");return gJ.Return(gO);});});});}));}function fq(gI){var gJ;gJ=a.open.apply(a,[gI]);return b5.Equals(gJ,null)?m.fail(bQ["Could not open new browser, Popup blocker may be active"]):m.succeed(gJ);}function fr(gI,gJ){try{return gI["eval"].apply(gI,[gJ]);}catch(gK){((function(gL){return function(gM){return gL(b9.prettyPrint(gM));};}(function(gL){ca.log(gL);}))(gK));return(function(gL){return function(gM){return gL(b9.prettyPrint(gM));};}(a.id))(gK);}}function fs(gI){try{gI.focus.apply(gI,[]);}catch(gJ){((function(gK){return function(gL){return gK(b9.prettyPrint(gL));};}(function(gK){ca.log(gK);}))(gJ));}}function ft(gI,gJ){var gK;gK=p.wrapper();return gK.Run(gK.Delay(function(){return gK.Bind$1(m.tryProtection(),function(){return gK.Bind$1(fq(gI),function(gL){fs(gL);return gK.Bind$2(b3.Sleep(800),function(){return gK.Return(fr(gL,gJ));});});});}));}function fu(){return b3.FromContinuations(function(gI,gJ){var gK;try{gK=bh.createIFrame(gI);return(new bM.New(null)).RunHtml(gK);}catch(gL){return gJ(gL);}});}function fv(gI){var gJ;gJ=p.wrapper();return gJ.Run(gJ.Delay(function(){return gJ.Bind$1(m.tryProtection(),function(){return gJ.Bind$2(fu(),function(gK){var gL;gL=gK.contentWindow;gL.document.body.style.margin="0px";return gJ.Return(fr(gL,gI));});});}));}function fw(gI,gJ,gK){var gL;gL=p.wrapper();return gL.Run(gL.Delay(function(){return gL.Bind$3(fp(gK),function(gM){cJ.Set(dK,"Running JavaScript...");return gL.Bind$3(gJ.$==3?ft(gI,gM):fv(gM),function(gN){fj(gN);fj("Done!");return gL.Return([gJ,gN]);});});}));}function fx(){return bU.FetchO(c0.c);}function fy(gI){var gJ;gJ=p.wrapper();return gJ.Run(gJ.Delay(function(){cJ.Set(dH,gI);return gJ.Bind$2(Q.evaluateAR(bO.fsIds(),a.location.href,true,gI),function(gK){return gJ.Bind$1(gK,function(){return gJ.Return("");});});}));}function fz(gI){var gJ;gJ=p.wrapper();return gJ.Run(gJ.Delay(function(){return gJ.Bind$1(m.fromOption(bQ["Snippet Missing"],gI),function(gK){return gJ.Bind$3(fy(bO["CodeSnippet.GetCodeFsx"](gK,true)),function(gL){return gJ.Bind$2((new cB.New()).Async("FSharpStation:FSSGlobal.FsEvaluator+Evaluator.addPresence:-1250306105",[(function(gM){return function(gN){return gM(b1.p$5(gN));};}(a.id))(gK.id),"ok"]),function(){return gJ.Return(gL);});});});}));}function fA(gI,gJ,gK){var gL;gL=p.wrapper();return gL.Run(gL.Delay(function(){cJ.Set(dK,gI);return gL.Bind$3(gK(),function(gM){fj(gM);fj(gJ);return gL.Return(gM);});}));}function fB(gI){return fA("Evaluating F# code...","",function(){return fz(gI);});}function fC(gI){return fA("Evaluating F# code...","",function(){return fy(gI);});}function fD(gI){var gJ;gJ=p.wrapper();return gJ.Run(gJ.Delay(function(){cJ.Set(dH,gI);return gJ.Bind$3(bV.fableTranslate(gI),function(gK){cJ.Set(dI,gK);a["eval"](gK);return gJ.Return("");});}));}function fE(gI){var gJ;gJ=p.wrapper();return gJ.Run(gJ.Delay(function(){return gJ.Bind$1(m.fromOption(bQ["Snippet Missing"],gI),function(gK){return gJ.ReturnFrom(fD(bO["CodeSnippet.GetCodeFsx"](gK,false)));});}));}function fF(gI){return fA("Running Fable...","Done!",function(){return fE(gI);});}function fG(gI){return fA("Running Fable...","Done!",function(){return fD(gI);});}function fH(gI){var gJ;gJ=fx();return(dO(gI))(gJ);}function fI(gI,gJ){return g.defaultValue(false,gJ==null?null:{$:1,$0:b$.contains(gI,gJ.$0.predecessors)});}function fJ(gI,gJ){return gJ.Contains(gI);}function fK(gI,gJ){var gK,gL,gM,gN;return gJ==null?null:(gK=gJ.$0,b5.Equals(gK,gI)||fJ(gK.id,new cS.New$2(gI.UniquePredecessors(bU.FetchO)))?null:(gL=(b$.contains(gI.id,gK.predecessors)?(gM=(gN=gI.id,function(gO){return!b5.Equals(gN,gO);}),function(gO){return b$.filter(gM,gO);}):function(gO){return new b$.T({$:1,$0:gI.id,$1:gO});})(gK.predecessors),(bO.codeSnippets().UpdateBy(function(gO){return{$:1,$0:z.New(gO.name,gO.content,gO.parent,gL,gO.id,gO.expanded,gO.level,gO.levelCode,gO.properties)};},gK.id),ff())));}function fL(gI){bO.codeSnippets().UpdateBy(function(gJ){return{$:1,$0:z.New(gJ.name,gJ.content,gJ.parent,gJ.predecessors,gJ.id,!gJ.expanded,gJ.level,gJ.levelCode,gJ.properties)};},gI.id);eY();}function fM(gI,gJ,gK){var gL,gM,gN,gO;return bp.get_New().Content$1([bh["class"]("code-editor-list-tile"),bh.classIf("selected",bi.map((gL=gK.id,function(gP){return b5.Equals(gL,gP);}),c0)),bh.classIf("direct-predecessor",bi.map((gM=gK.id,function(gP){return fI(gM,gP);}),c4)),bh.classIf("indirect-predecessor",bi.map((gN=gK.id,function(gP){return fJ(gN,gP);}),dQ)),bh.draggable("true"),new bl({$:7,$0:cH.Handler("dragover",function(){return function(gP){return gP.preventDefault();};})}),new bl({$:7,$0:cH.Handler("drag",function(){return function(){dN=gK.id;};})}),new bl({$:7,$0:cH.Handler("drop",function(){return function(gP){gP.preventDefault();return fm(gK.id,dN);};})}),bh.span([bh["class"]("node"),bh.classIf("parent",gI),bh.classIf("expanded",gJ),new bl({$:7,$0:cH.Handler("click",function(){return function(){return gI?fL(gK):null;};})}),bh.title(gI?gJ?"collapse":"expand":""),bh.htmlText(gI?gJ?"-":"+":"")]),bh.div([bh["class"]("code-editor-list-text"),bh.style1("text-indent",(gO=(bO["CodeSnippet.get_Levels"](gK))[0],(function(gP){return function(gQ){return gP(a.String(gQ)+"em");};}(a.id))(gO))),bh.style("white-space: pre"),bh.htmlText(bi.map2(function(gP){return function(gQ){return v.snippetName(gP,gQ);};},eZ(gK.id),e0(gK.id))),new bl({$:7,$0:cH.Handler("click",function(){return function(){return cJ.Set(c0,gK.id);};})})]),bh.span([bh["class"]("predecessor"),bh.title("toggle predecessor"),new bl({$:7,$0:cH.Handler("click",function(){return function(){return bi.iter(function(gP){return fK(gK,gP);},c4);};})}),bh.htmlText("X")])]);}function fN(gI,gJ){return!gJ?gI:gJ;}function fO(gI){return new y({$:0,$0:!gI?"00000000-0000-0000-0000-000000000000":gI.Item});}function fP(gI){return!gI?null:{$:1,$0:fO(gI)};}function fQ(gI){var gJ;function gK(gM,gN){gJ.Add(gM,gN);}function gL(gM,gN){return[gM,gN];}gJ=new ce.New$5();return!gI?gJ:(b4.iter(function(gM){return gK(gM[0],gM[1]);},cg.map(function(gM){return gL(gM[0],gM[1]);},cU.GetFields(gI))),gJ);}function fR(gI){var gJ;try{gJ=ch.parse(gI);((function(gK){return function(gL){return gK(b9.prettyPrint(gL));};}(function(gK){ca.log(gK);}))(gJ.length));return cg.choose(function(gK){return!gK?null:{$:1,$0:z.New(fN("",gK.name),fN("",gK.content),fP(gK.parent),b$.ofSeq(cg.map(fO,fN([],gK.predecessors))),fO(gK.id),fN(false,gK.expanded),fN(0,gK.level),fN(0,gK.levelCode),fQ(gK.properties))};},gJ);}catch(gK){return[];}}function fS(){var gI,gJ,gK,gL;function gM(gN,gO){var gP;return g.defaultValue(gO,(gP=b4.tryItem(gO,(bO.codeSnippets())["var"].RVal()),gP==null?null:{$:1,$0:(bO["CodeSnippet.get_Levels"](gP.$0))[0]<=gN?gO:gM(gN,gO+1)}));}cJ.Set(c0,g.defaultWith(function(){return bU.New$2("");},(gI=bU.PickIO(c0.c),gI==null?null:{$:1,$0:(gJ=gI.$0,(gK=gJ[0],(gL=gJ[1],bU.New(gM((bO["CodeSnippet.get_Levels"](gL))[0],gK+1),"",gL.parent,b$.T.Empty,b$.T.Empty,""))))})).id);fe();eY();}function fT(){var gI,gJ;gI=bU.FetchO(c0.c);gI==null?void 0:(gJ=gI.$0,a.confirm((function(gK){return function(gL){return gK("Do you want to delete "+b9.toSafe(gL)+"?");};}(a.id))(gJ.get_Name()))?(cJ.Set(c0,y.get_New()),bO.codeSnippets().Remove(gJ),fe(),eY()):void 0);}function fU(gI){return b4.last(b6.SplitChars(gI,["/","\\"],0));}function fV(gI,gJ){var gK,gL;gK=gI.files;return gK.length>0?(gL=new a.FileReader(),(gL.onload=function(gM){return gJ(gM.target.result);},gL.readAsText(gK.item(0)))):null;}function fW(gI){var gJ;try{gJ=fR(gI);bO.codeSnippets().Set(gJ);fg();eY();}catch(gK){a.alert(a.String(gK));}}function fX(gI){if(!dM.c||a.confirm("Changes have not been saved, do you really want to load?"))fV(bh.findRootElement(gI).querySelector("#"+dT),fW);}function fY(){var gI,gJ,gK,gL;gI=(gJ=cg.ofSeq((bO.codeSnippets())["var"].RVal()),ch.stringify(((cr.EncodeArray(b0.j$7))())(gJ)));gK=(gL=fU(dS.c),gL===""?"snippets.fsjson":gL);a.saveAs(new a.Blob([gI],{type:"text/plain;charset=utf-8"}),gK);fg();}function fZ(gI,gJ){return bh.findRootElement(gI).querySelector("#"+dT).click();}function f0(gI,gJ,gK){var gL,gM,gN,gO,gP,gQ,gR,gS,gT;gL=dF!=null&&dF.$==1&&((gN=dF.$0[0],(gO=dF.$0[1],b5.Equals(gN,gJ.id)&&b5.Equals(gO,gK)))&&(gM=[dF.$0[1],dF.$0[0],dF.$0[2]],true))?(gI("Reparsing..."),[gM[2],bO["CodeSnippet.get_PrepareSnippet"](gJ)]):(gI("Parsing..."),gP=bO["CodeSnippet.Predecessors"](gJ),gQ=z.ReducedCode(gK,cA.array(gP,{$:1,$0:0},{$:1,$0:cg.length(gP)-2})),gR=cg.get(gP,cg.length(gP)-1),dF={$:1,$0:[gR.id,gK,gQ]},[gQ,gR]);gS=z.ReducedCode(gK,[gL[1]]);gT=(function(gU){var gV,gW,gX,gY,gZ,g0;gV=gU[0];gW=gU[1];gX=gU[2];gY=gU[3];gZ=gU[4];g0=gU[5];return function(g1){return z.AddSeps(gV,gW,gX,gY,gZ,g0,g1[0],g1[1],g1[2],g1[3],g1[4],g1[5]);};}(gL[0]))(gS);return z.FinishCode(gK,gT[0],gT[1],gT[2],gT[3],gT[4],gT[5]);}function f1(gI){var gJ;function gK(gL){if(!gI)cJ.Set(dJ,gL);}gJ=null;return b3.Delay(function(){var gL,gM,gN;gL=bU.FetchO(c0.c);return gL!=null&&gL.$==1?(gM=gL.$0,(gN=dZ+1,(dZ=gN,b3.Combine(b3.While(function(){return d0;},b3.Delay(function(){return b3.Bind(b3.Sleep(1000),function(){return b3.Return(null);});})),b3.Delay(function(){return dZ!==gN?b3.Zero():b3.TryFinally(b3.Delay(function(){var gO;d0=true;dL=true;gO=f0(gK,gM,false);return b3.Bind(dW.Parse$1(dX,gO[0],gO[1]),function(gP){return!gI&&gN===dZ&&dL?(fk(gP),fk("Parsed!"),b3.Zero()):b3.Zero();});}),function(){d0=false;});}))))):b3.Zero();});}function f2(gI){var gJ;gJ=null;return b3.Delay(function(){return!dL?b3.Return(true):b3.Bind(dW.MustParse(dX,gI.get_NameSanitized()),function(gK){return b3.Return(gK);});});}function f3(gI){var gJ;gJ=null;return b3.Delay(function(){return b3.Bind(dY,function(gK){var gL;return gK?b3.Zero():(gL=bU.FetchO(c0.c),gL!=null&&gL.$==1?b3.Bind(f2(gL.$0),function(gM){return gM?b3.Bind(f1(gI),function(){return b3.Return(null);}):b3.Zero();}):b3.Zero());});});}function f4(gI,gJ){var gK,gL;gK=c.REGEX("([a-zA-Z_]\\w*)$","g",b6.Substring(gI,0,gJ));return gK!=null&&gK.$==1?(gL=gK.$0,gL&&cg.length(gL)===1)?cg.get(gK.$0,0):"":"";}function f5(gI,gJ){var gK,gL;gK=c.REGEX("^([a-zA-Z_]\\w*)","g",gI.substring(gJ));return gK!=null&&gK.$==1?(gL=gK.$0,gL&&cg.length(gL)===1)?cg.get(gK.$0,0):"":"";}function f6(gI){var gJ;b3.Start((gJ=null,b3.Delay(function(){return b3.Bind(dY,function(gK){var gL,gM;return gK?b3.Zero():(gL=bU.FetchO(c0.c),gL!=null&&gL.$==1?(gM=gL.$0,b3.Bind(f3(false),function(){var gN,gO,gP,gQ,gR;gN=gI.getCursor();gO=gI.getLine(gN.line);gP=b6.length(f4(gO,gN.ch));gQ=b6.length(f5(gO,gN.ch));gR=gP===0&&gQ===0?2:gQ;return b3.Bind(dW.ToolTip(dX,gN.line+1,gN.ch+1,gM.get_NameSanitized()),function(gS){var gT;fk(((((gT=(b8.Curried(function(gU,gV,gW,gX,gY){return gU("InfoFSharp \""+b9.toSafe(gV)+" "+("("+b9.prettyPrint(gW[0])+", "+b9.prettyPrint(gW[1])+")")+" - "+("("+b9.prettyPrint(gX[0])+", "+b9.prettyPrint(gX[1])+")")+" "+b9.toSafe(gY)+" \"");},5))(a.id),function(gU){var gV;gV=gT(gU);return function(gW){var gX;gX=gV([gW[0],gW[1]]);return function(gY){return gX([gY[0],gY[1]]);};};})(gM.get_NameSanitized()))([gN.line+1,gN.ch-gP+1]))([gN.line+1,gN.ch+gR+1]))(b6.Replace(gS,"\"","''")));return b3.Zero();});})):b3.Zero());});})),null);}function f7(gI,gJ,gK,gL){var gM;b3.Start((gM=null,b3.Delay(function(){var gN,gO;gN=bU.FetchO(c0.c);return gN!=null&&gN.$==1?(gO=gN.$0,(function(gP){return gP("calling parseIfMustThen");}(function(gP){ca.log(gP);}),b3.Bind(f3(false),function(){var gP;function gQ(gR,gS,gT,gU,gV,gW,gX,gY,gZ){var g0;return b6.StartsWith(gR,gO.id.get_Text())||gR===v.sanitize(gO.name)?(g0=a.Number(gS)>0?a.Number(gS):0,{$:1,$0:bx.New(gZ,b6.StartsWith(gX.toUpperCase(),"ERR")?"error":b6.StartsWith(gX.toUpperCase(),"INFO")?"info":"warning",bm.cmPos(gT-1,gU-1-g0),bm.cmPos(gV-1,gW-1-g0))}):null;}gJ(cg.choose(function(gR){return gQ(gR[0],gR[1],gR[2],gR[3],gR[4],gR[5],gR[6],gR[7],gR[8]);},cg.choose(function(gR){var gS,gT,gU,gV,gW,gX,gY,gZ;return(gT=c.REGEX(d2,"",gR),gT!=null&&gT.$==1&&((gU=gT.$0,gU&&cg.length(gU)===13)&&(gS=[cg.get(gT.$0,8),cg.get(gT.$0,5),cg.get(gT.$0,7),cg.get(gT.$0,2),cg.get(gT.$0,4),cg.get(gT.$0,11),cg.get(gT.$0,1),cg.get(gT.$0,10),cg.get(gT.$0,9)],true)))?{$:1,$0:[gS[1],gS[4],a.Number(gS[2]),a.Number(gS[0]),a.Number(gS[8]),a.Number(gS[7]),gS[6],gS[3],gS[5]]}:(gW=c.REGEX(d1,"",gR),gW!=null&&gW.$==1&&((gX=gW.$0,gX&&cg.length(gX)===8)&&(gV=[cg.get(gW.$0,4),cg.get(gW.$0,2),cg.get(gW.$0,3),cg.get(gW.$0,1),cg.get(gW.$0,6),cg.get(gW.$0,5)],true)))?(gY=gV[0],(gZ=gV[2],{$:1,$0:[gV[1],gV[3],a.Number(gZ),a.Number(gY)-1,a.Number(gZ),a.Number(gY),gV[5],"fsi",gV[4]]})):null;},(gP=c.REGEX(d3,"g",dJ.c),gP!=null&&gP.$==1?gP.$0:[]))));return b3.Zero();}))):b3.Zero();})),null);}function f8(gI){var gJ;d4((gJ=null,b3.Delay(function(){(function(gK){return gK("before delaying");}(function(gK){ca.log(gK);}));return b3.Bind(b3.Sleep(400),function(){(function(gK){return gK("calling getAnnotations");}(function(gK){ca.log(gK);}));f7.apply(null,gI);return b3.Zero();});})));}function f9(gI,gJ,gK){var gL;d4((gL=null,b3.Delay(function(){return b3.Bind(dY,function(gM){var gN,gO;return gM?b3.Zero():(gN=bU.FetchO(c0.c),gN!=null&&gN.$==1?(gO=gN.$0,b3.Bind(f3(true),function(){var gP,gQ,gR;gP=gI.getCursor();gQ=gI.getLine(gP.line);gR=f4(gQ,gP.ch);return b3.Bind(dW.Complete(dX,gQ+"a",gP.line+1,gP.ch+1,gO.get_NameSanitized()),function(gS){function gT(gU,gV,gW,gX){return bu.New(gV,gX+"| "+gU,gW);}gJ(bv.New(cg.map(function(gU){return gT(gU[0],gU[1],gU[2],gU[3]);},gS),br.New(gP.line,gP.ch-gR.length),gP));return b3.Zero();});})):b3.Zero());});})));}function f_(gI){var gJ,gK,gL;gJ=(gK=gI.parent,gK==null?null:bU.FetchO(gK.$0));gJ==null?void 0:(gL=gJ.$0,f_(gL),!gL.expanded?fL(gL):void 0);}function f$(gI,gJ,gK){var gL;return b3.Start((gL=null,b3.Delay(function(){var gM;cJ.Set(c0,gI);gM=bU.FetchO(gI);gM==null?void 0:f_(gM.$0);return b3.Bind(b3.Sleep(200),function(){var gN,gO;gN=d5.editorO;gN==null?void 0:(gO=gN.$0,gO.setCursor(gJ-1,gK-1),gO.focus());return b3.Zero();});})),null);}function ga(gI){var gJ,gK,gL,gM,gN;gJ=c.REGEX("([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}).+?\\((\\d+)\\,\\s*(\\d+)\\)","",gI);gJ!=null&&gJ.$==1?(gK=gJ.$0,gK&&cg.length(gK)===4)?(gL=cg.get(gJ.$0,3),gM=cg.get(gJ.$0,1),gN=cg.get(gJ.$0,2),f$(new y({$:0,$0:gM}),a.Number(gN),a.Number(gL))):void 0:void 0;}function gb(){var gI;b3.Start((gI=null,b3.Delay(function(){var gJ,gK,gL,gM;gJ=bU.FetchO(c0.c);return gJ!=null&&gJ.$==1?(gK=d5.editorO,gK!=null&&gK.$==1?(gL=gK.$0,(gM=gL.getCursor(),(gL.getLine(gM.line),b3.Bind(dW.FindDecl(dX,gM.line+1,gM.ch+1,gJ.$0.get_NameSanitized()),function(gN){var gO;return gN.$==9?(gO=gN.$0,(ga(((((((b8.Curried(function(gP,gQ,gR,gS,gT,gU){return gP(b9.toSafe(gQ)+" ("+a.String(gR)+", "+a.String(gS)+") - ("+a.String(gT)+", "+a.String(gU)+")");},6))(a.id))(gO.File))(gO.Line))(gO.Column))(gO.Line))(gO.Column)),b3.Zero())):gN.$==1?(a.alert((function(gP){return function(gQ){return gP(b2.p$1(gQ));};}(a.id))(gN.$0)),b3.Zero()):(a.alert((function(gP){return function(gQ){return gP(b1.p$10(gQ));};}(a.id))(gN)),b3.Zero());})))):b3.Zero()):b3.Zero();})),null);}function gc(){var gI;gI=d5.editorO;gI==null?void 0:gI.$0.refresh();}function gd(gI){var gJ;b3.Start((gJ=null,b3.Delay(function(){return b3.Bind(b3.Sleep(gI),function(){gc();return b3.Zero();});})),null);}function ge(){cJ.Set(dM,true);}function gf(gI,gJ){return new bS.New(ge,gI,gJ);}function gg(gI,gJ,gK){return gf(gI,gJ).get_ValueVar().RSet(gK);}function gh(gI,gJ){return bh.table(b$.ofSeq(b4.delay(function(){return b4.append([bh.thead([bh.th([bh.htmlText("Property"),bh.style("padding-right:10px")]),bh.th([bh.htmlText("Value")])])],b4.delay(function(){return b4.append(b4.map(function(gK){var gL;gL=gf(gJ,gK);return bh.tr([bh.td([bh.someElt(cF.Input([],gL.get_KeyVar()))]),bh.td([bh.someElt(cF.InputArea([bh.atr("style","height: 1.5em")],gL.get_ValueVar()))]),bm.hoverable(bh.td([bh.title("remove"),bh.style(" cursor: pointer "),bh.htmlText("x"),new bl({$:7,$0:cH.Handler("click",function(){return function(){gL.Remove();return cJ.Set(ea,null);};})})]))]);},b4.sort(gJ.get_Keys())),b4.delay(function(){return[bh.tr([bm.hoverable(bh.td([bh.htmlText("Add..."),new bl({$:7,$0:cH.Handler("click",function(){return function(){gJ.Add("","1");ge();return cJ.Set(ea,null);};})})])),bh.td([bh.htmlText("")])])];}));}));})));}function gi(gI){function gJ(gL){return gL.properties;}function gK(gL,gM){return z.New(gL.name,gL.content,gL.parent,gL.predecessors,gL.id,gL.expanded,gL.level,gL.levelCode,gM);}return eX(new ce.New$5(),function(gL){return bO.codeSnippets().TryFindByKey(gL);},function(gL){return bO.codeSnippets().LensInto(gJ,gK,gL);},gI);}function gj(gI){return new bi({$:1,$0:gI});}function gk(gI,gJ,gK,gL){var gM;return p.start(fj,(gM=gI(gJ),(p.map(a.ignore))(gM)));}function gl(gI,gJ,gK,gL){function gM(gN,gO){if(gN==null)fj("Failed!\n"+gO);else if(gN.$0[0].$==0){fj(gO);cJ.Set(ec,null);}else fj(gO);}return p.startV(function(gN){return gM(gN[0],gN[1]);},gI(gJ));}function gm(gI,gJ,gK){function gL(gM){return(gI(gK))(gM);}return b8.Curried(gk,2,[gL,gJ]);}function gn(gI,gJ,gK){function gL(gM){return(gI(gK))(gM);}return b8.Curried(gl,2,[gL,gJ]);}function go(gI){var gJ,gK,gL;gJ=gI.parms;return gJ!=null&&gJ.$==1&&((gL=gJ.$0,gL&&cg.length(gL)===1)&&(gK=cg.get(gJ.$0,0),true))?bU.FetchByPathO(b6.SplitChars(gK,["/"],0)):fx();}function gp(gI,gJ){var gK;gK=p.wrapper();return gK.Run(gK.Delay(function(){return gK.Bind$2(bi.getAsync(gI.text),function(gL){var gM,gN,gO,gP,gQ,gR,gS,gT,gU,gW,gX,gY,gZ,g0;function gV(g1){return gW==null?null:bO["CodeSnippet.propValue"](gW.$0,g1);}fi(gL+"...");gW=fx();gX=gJ?g.defaultValue("",(gN=gV("open"),gN==null?null:{$:1,$0:c.__(function(g1,g2){return g1+g2;},"\n",gN.$0)})):"";gY=cV.Create(function(){return g.defaultValue("${parm}() |> printfn \"%A\"",gV("action-template"));});gZ=(gT=gI.parms,gT==null?null:{$:1,$0:cg.map(a.id,gT.$0)});switch(gZ!=null&&gZ.$==1?(g0=gZ.$0,g0&&cg.length(g0)===2?cg.get(gZ.$0,0)==="Code"?(gU=cg.get(gZ.$0,1),0):cg.get(gZ.$0,0)==="Property"?(gU=cg.get(gZ.$0,1),1):2:2):2){case 0:gS={$:1,$0:gU};break;case 1:gS=gV(gU);break;case 2:gS=null;break;}gR=gS==null?gV(gL):gS;gO=(gP=g.defaultWith(function(){return((cP.constructor("return function(parm) { return `"+gY.f()+"`}"))())(gL);},gR),b6.StartsWith(gP,"////")?gP:gX+gP);return gW!=null&&gW.$==1?gK.Bind$2((new cB.New()).Async("FSharpStation:FSSGlobal.FsEvaluator+Evaluator.getPresence:-1568677081",[R.extractConfig(gO),(function(g1){return function(g2){return g1(b1.p$5(g2));};}(a.id))(gW.$0.id)]),function(g1){return b5.Equals(g1,{$:1,$0:"ok"})?gK.Return(gO):gK.Bind$3(fz(gW),function(){return gK.Return(gO);});}):gK.Return(gO);});}));}function gq(gI,gJ){return p.bind(fC,gp(gI,true));}function gr(gI,gJ){return p.bind(fG,gp(gI,false));}function gs(gI,gJ){return fB(go(gI));}function gt(gI,gJ){return fF(go(gI));}function gu(gI,gJ){var gK;gK=go(gI);return(dO(gJ))(gK);}function gv(gI,gJ){var gK;gK=p.wrapper();return gK.Run(gK.Delay(function(){return gK.Bind$1(m.tryProtection(),function(){var gL,gM,gN,gO,gP;return gK.Bind$1((gL=gI.parms,gL!=null&&gL.$==1&&((gN=gL.$0,gN&&cg.length(gN)===3)&&(gM=[cg.get(gL.$0,1),cg.get(gL.$0,0),cg.get(gL.$0,2)],true))?(gO=gM[1],(g.defaultWith(function(){((function(gQ){return function(gR){return gQ("setSnippetProp snippet not found: "+b9.toSafe(gR));};}(function(gQ){ca.log(gQ);}))(gO));},(gP=bU.FetchByPathO(b6.SplitChars(gO,["/"],0)),gP==null?null:{$:1,$0:gg(gP.$0.properties,gM[0],gM[2])})),m.succeed())):m.failSimpleError((function(gQ){return function(gR){return gQ("setSnippetProp wrong parms: "+b1.p$11(gR));};}(a.id))(gI.parms))),function(){return gK.Return();});});}));}function gw(gI,gJ){var gK,gL,gM,gN,gO,gP;((function(gQ){return function(gR){return gQ("showOutText: "+b2.p$23(gR));};}(function(gQ){ca.log(gQ);}))(gI));gL=gI.parms;switch(gL!=null&&gL.$==1?(gM=gL.$0,gM&&cg.length(gM)===1?(gK=cg.get(gL.$0,0),0):(gN=gL.$0,gN&&cg.length(gN)===2?(cg.get(gL.$0,1),cg.get(gL.$0,0)===""?(gK=[cg.get(gL.$0,0),cg.get(gL.$0,1)],1):2):2)):2){case 0:return fi(gK);break;case 1:return fi(gK[1]);break;case 2:return gL!=null&&gL.$==1&&((gP=gL.$0,gP&&cg.length(gP)===2)&&(cg.get(gL.$0,1),cg.get(gL.$0,0)==="+"&&(gO=[cg.get(gL.$0,0),cg.get(gL.$0,1)],true)))?fj(gO[1]):(function(gQ){return function(gR){return gQ("error: showOutText "+b2.p$23(gR));};}(function(gQ){ca.log(gQ);}))(gI);break;}}function gx(){return fH(c5.c);}function gy(){var gI;gI=p.wrapper();return gI.Run(gI.Delay(function(){dF=null;return gI.Bind$2(f1(false),function(){return gI.Return();});}));}function gz(gI,gJ){var gK,gL;function gM(gN,gO,gP){return gL>=gO&&gL<gP?{$:1,$0:gN}:null;}gK=gI.value;gL=gI.selectionStart;return ga(b4.pick(function(gN){return gM(gN[0],gN[1],gN[2]);},(b4.mapFold(function(gN,gO){return[[gO,gN,gN+gO.length+1],gN+gO.length+1];},0,b6.SplitChars(gK,["\n"],0)))[0]));}function gA(gI,gJ,gK){var gL;gL=m.result();return gL.Run(gL.Delay(function(){return gL.Bind(m.tryProtection(),function(){return gL.Bind(eP.GetGuiCallAction(gI,gJ,gK),function(gM){var gN;gN=gM.onClick;gN==null?void 0:((gN.$0(gM))(null))(null);return gL.Zero();});});}));}function gB(gI){gd(1000);gd(2000);gd(3000);eP.SetLayoutJson(eJ,gI);}function gC(gI){gd(1000);gd(2000);gd(3000);eP.AddNewSteps(eJ,gI);}function gD(gI){return cg.ofSeq(b4.map(function(gJ){return[gJ.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),gJ.FSSGlobal_Useful_ErrMsg$get_IsWarning()?B.FSWarning:B.FSError];},gI));}function gE(gI){var gJ;return{$:4,$0:(gJ=gI.$0,gJ==null?null:{$:1,$0:gJ.$0[1]}),$1:cg.ofSeq(b4.map(function(gK){return[gK.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),gK.FSSGlobal_Useful_ErrMsg$get_IsWarning()?B.FSWarning:B.FSError];},gI.$1))};}function gF(gI){var gJ,gK;return{$:4,$0:(gJ=function(gL){return function(gM){return gL(b9.prettyPrint(gM));};}(a.id),(gK=gI.$0,gK==null?null:{$:1,$0:gJ(gK.$0)})),$1:cg.ofSeq(b4.map(function(gL){return[gL.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),gL.FSSGlobal_Useful_ErrMsg$get_IsWarning()?B.FSWarning:B.FSError];},gI.$1))};}function gG(gI,gJ){var gK;gK=null;return b3.Delay(function(){var gL,gM,gN,gO,gP,gQ,gR,gS,gT;return gJ.$==2?b3.Return({$:1,$0:(gL=bU.FetchO(gJ.$0),gL==null?null:{$:1,$0:gL.$0.content})}):gJ.$==3?b3.Return({$:1,$0:(gM=bU.FetchO(gJ.$0),gM==null?null:{$:1,$0:bO["CodeSnippet.GetCodeFsx"](gM.$0,true)})}):gJ.$==4?b3.Return({$:3,$0:g.defaultValue([],(gN=bU.FetchO(gJ.$0),gN==null?null:{$:1,$0:bO["CodeSnippet.Predecessors"](gN.$0)}))}):gJ.$==5?b3.Return({$:2,$0:bU.FetchO(gJ.$0)}):gJ.$==6?b3.Return({$:1,$0:(gO=bU.FetchByPathO(gJ.$0),gO==null?null:{$:1,$0:gO.$0.content})}):gJ.$==7?b3.Return({$:1,$0:(gP=bU.FetchByPathO(gJ.$0),gP==null?null:{$:1,$0:bO["CodeSnippet.GetCodeFsx"](gP.$0,true)})}):gJ.$==10?(gQ=bU.FetchByPathO(gJ.$0),gQ==null?b3.Return({$:4,$0:null,$1:[["Snippet not found",B.FSError]]}):b3.Bind(S.translateAR(bO["CodeSnippet.GetCodeFsx"](gQ.$0,true),false),function(gU){return b3.Return({$:4,$0:m.getOption(m.map(bL.completeJS,gU)),$1:gD(m.getMsgs(gU))});})):gJ.$==8?b3.Return({$:3,$0:g.defaultValue([],(gR=bU.FetchByPathO(gJ.$0),gR==null?null:{$:1,$0:bO["CodeSnippet.Predecessors"](gR.$0)}))}):gJ.$==9?b3.Return({$:2,$0:bU.FetchByPathO(gJ.$0)}):gJ.$==1?b3.Return({$:1,$0:{$:1,$0:"Message received: "+gJ.$0}}):gJ.$==0?b3.Return({$:0,$0:bO.fsIds()}):gJ.$==12?d.map(gE,p.getAsyncR(fw(gJ.$1,bP.NewBrowser,bU.FetchO(gJ.$0)))):gJ.$==13?d.map(gE,p.getAsyncR(fw(gJ.$1,bP.NewBrowser,bU.FetchByPathO(gJ.$0)))):gJ.$==14?(gS=gJ.$0,b3.Return(gF(m.map(function(){return(function(gU){return function(gV){return gU("success: "+b9.toSafe(gV));};}(a.id))(gS);},gA(gS,gJ.$1,gJ.$2))))):b3.Return({$:1,$0:{$:1,$0:(gT=cg.ofSeq((bO.codeSnippets())["var"].RVal()),ch.stringify(((cr.EncodeArray(b0.j$7))())(gT)))}});});}function gH(gI){!b$.contains(gI,eV.c)?cJ.Set(eV,new b$.T({$:1,$0:gI,$1:eV.c})):void 0;gd(300);}cZ=cJ.Create$1("");c0=cJ.Create$1(y.get_New());c1="CodeEditor."+"currentCodeSnippetId";c2=a.localStorage.getItem(c1);c2!==null?c0.set_RVal((bZ.j$7())(ch.parse(c2))):void 0;bi.sink(function(gI){a.localStorage.setItem(c1,ch.stringify((b0.j$5())(gI)));},c0);c3=cJ.Create$1();c4=bi.map2(function(gI){return function(){return bO.codeSnippets().TryFindByKey(gI);};},c0,c3);c5=cJ.Create$1(bP.Below);c6="CodeEditor."+"position";c7=a.localStorage.getItem(c6);c7!==null?c5.set_RVal((bZ.j$8())(ch.parse(c7))):void 0;bi.sink(function(gI){a.localStorage.setItem(c6,ch.stringify((b0.j$6())(gI)));},c5);bi.map(function(gI){return gI.$==1;},c5);c8=bi.map(function(gI){return b5.Equals(bU.FetchO(gI),null);},c0);c9=(c_=bi.map((c$=(da=function(gI){return gI==null?null:e1(gI.$0);},function(gI){return da(bU.FetchO(gI));}),function(gI){return e2(c$(gI));}),c0),(db=[cJ.Create$1(null)],(cE.Sink(function(gI){if(!b5.Equals(db[0].c,gI))cJ.Set(db[0],gI);},bi.toView(c_)),new bi({$:1,$0:db[0]}))));dc=(dd=bi.map((de=(df=function(gI){return gI==null?null:e3(gI.$0);},function(gI){return df(bU.FetchO(gI));}),function(gI){return e4(de(gI));}),c0),(dg=[cJ.Create$1(null)],(cE.Sink(function(gI){if(!b5.Equals(dg[0].c,gI))cJ.Set(dg[0],gI);},bi.toView(dd)),new bi({$:1,$0:dg[0]}))));dh=(di=bi.map((dj=(dk=function(gI){return gI==null?null:e5(gI.$0);},function(gI){return dk(bU.FetchO(gI));}),function(gI){return e6(dj(gI));}),c0),(dl=[cJ.Create$1(null)],(cE.Sink(function(gI){if(!b5.Equals(dl[0].c,gI))cJ.Set(dl[0],gI);},bi.toView(di)),new bi({$:1,$0:dl[0]}))));dm=(dn=bi.map((_do=(dp=function(gI){return gI==null?null:e7(gI.$0);},function(gI){return dp(bU.FetchO(gI));}),function(gI){return e8(_do(gI));}),c0),(dq=[cJ.Create$1(null)],(cE.Sink(function(gI){if(!b5.Equals(dq[0].c,gI))cJ.Set(dq[0],gI);},bi.toView(dn)),new bi({$:1,$0:dq[0]}))));dr=(ds=bi.map((dt=(du=function(gI){return gI==null?null:e9(gI.$0);},function(gI){return du(bU.FetchO(gI));}),function(gI){return e_(dt(gI));}),c0),(dv=[cJ.Create$1(null)],(cE.Sink(function(gI){if(!b5.Equals(dv[0].c,gI))cJ.Set(dv[0],gI);},bi.toView(ds)),new bi({$:1,$0:dv[0]}))));dw=(dx=bi.map((dy=(dz=function(gI){return gI==null?null:e$(gI.$0);},function(gI){return dz(bU.FetchO(gI));}),function(gI){return fa(dy(gI));}),c0),(dA=[cJ.Create$1(null)],(cE.Sink(function(gI){if(!b5.Equals(dA[0].c,gI))cJ.Set(dA[0],gI);},bi.toView(dx)),new bi({$:1,$0:dA[0]}))));dB=bi.map(function(gI){return gI!=="0"&&gI!=="";},fb("DisableParse"));dC=bi.map2(function(gI){return function(gJ){return fc(gI,gJ);};},dB,fb("DisableFSI"));dD=bi.map2(function(gI){return function(gJ){return fc(gI,gJ);};},dB,fb("DisableFable"));dE=bi.map2(function(gI){return function(gJ){return fc(gI,gJ);};},dB,fb("DisableWebSharper"));dF=null;dG=new t.New(function(gI){var gJ;gJ=gI==null?null:{$:1,$0:new cS.New$2(gI.$0.UniquePredecessors(bU.FetchO))};return g.defaultValue(new cS.New$3(),gJ);});dH=cJ.Create$1("");dI=cJ.Create$1("");dJ=cJ.Create$1("");dK=cJ.Create$1("");dL=false;dM=cJ.Create$1(false);bi.sink(function(gI){a.onbeforeunload=gI?function(gJ){gJ.returnValue="Changes you made may not be saved.";}:null;},dM);dN=y.get_New();bV.set_addOutMsg(fj);dO=(dP=a.location.origin+"/Main.html",(b8.Curried3(fw))(dP));dQ=bi.map(function(gI){var gJ,gK;gJ=null;return dG.cache.TryGetValue(gI,{get:function(){return gJ;},set:function(gL){gJ=gL;}})?gJ:(gK=dG.f(gI),(dG.cache.set_Item(gI,gK),gK));},c4);dR=0;dS=cJ.Create$1("");bi.map(function(gI){return gI==="";},dS);dT="CodeEditorFileSel";dU=bo.New$2(cJ.Lens(dS,fU,a.id)).Prefix$1(bh.label([bh["class"]("btn btn-primary"),bh.htmlText("Load File..."),bo.New$2(dS).Type("file").Style("display: none").Content([cH.Handler("change",function(gI){return function(){return fX(gI);};}),cH.Handler("click",function(gI){return function(){gI.value="";};})]).Id(dT).get_Render()]));cY!==""?b3.Start((dV=null,b3.Delay(function(){return b3.Bind(b3.Sleep(3000),function(){var gI;((function(gJ){return function(gK){return gJ("loading "+b9.toSafe(gK)+"...");};}(function(gJ){ca.log(gJ);}))(cY));gI=cW.getJSON(cY+"?t="+a.String(ci.now()));gI.done(function(){return fW(gI.responseText);});return b3.Zero();});})),null):void 0;dW=new bg.New("FSharpStation",{$:1,$0:a.location.href});dX=bO.fsIds()+".fsx";dY=cE.GetAsync(bi.toView(dB));dZ=1;d0=false;d1="\\((\\d+)\\) F# (.+).fsx\\((\\d+)\\,(\\d+)\\): (error|warning) ((.|\\b)+)";d2="(Err|Warning|Info)(FSharp|WebSharper)\\s+\"(\\((\\d+)\\) ?)?F?#? ?(.+?)(.fsx)? \\((\\d+)\\,\\s*(\\d+)\\) - \\((\\d+)\\,\\s*(\\d+)\\) ((.|\\s)+?)"+"\"";d3=d1+"|"+d2;d4=c.asyncStartCancelling();d5=bt.New$2((d6=bi.toView(bi.fixit(c0)),(d7=cJ.Create$1(null),(d8=[null],(d9=[0],(d_=[0],(cE.Sink(function(){var gI,gJ;gI=d8[0];gI==null?void 0:(gJ=gI.$0,d9[0]>d_[0]?d_[0]=d9[0]:!b5.Equals(gJ.RVal(),d7.c)?(d_[0]=d_[0]+1,gJ.set_RVal(d7.c)):void 0);},d7.v),cE.Sink(function(){var gI,gJ;gI=d8[0];gI==null?void 0:(gJ=gI.$0,d_[0]>d9[0]?d9[0]=d_[0]:!b5.Equals(gJ.RVal(),d7.c)?(d9[0]=d9[0]+10,cJ.Set(d7,gJ.RVal())):void 0);},cE.Bind(function(gI){var gJ;gJ=e0(gI);d8[0]={$:1,$0:gJ};d_[0]=d9[0]+100;cJ.Set(d7,gJ.RVal());return gJ.RView();},d6)),d7))))))).OnChange(function(){var gI;dF!=null&&dF.$==1&&(b5.Equals(dF.$0[0],c0.c)&&(gI=[dF.$0[0],dF.$0[2]],true))?fd():fe();}).OnRender(function(gI){var gJ;function gK(gN){return f9(gN[0],gN[1],gN[2]);}function gL(gN){gI.replaceSelection(".","end");}function gM(gN){return f9(gN[0],gN[1],gN[2]);}gI.addKeyMap(bR.New(f6,f6,function(gN){bm.showHints(gI,gK,false,gN);},(gJ=function(){bm.showHints(gI,gM,false,void 0);},function(gN){return gJ(gL(gN));})));bm.setLint(gI,f8);bi.sink(function(gN){var gO;b3.Start((gO=null,b3.Delay(function(){gI.setOption("theme",gN);return b3.Bind(b3.Sleep(50),function(){gI.refresh();return b3.Zero();});})),null);},dm);bi.sink(function(gN){gI.setOption("mode",gN);},dh);}).Style("height: 100%");d$=d5.get_Render().AddChildren([new bl({$:7,$0:cH.Handler("dblclick",function(){return function(){return f6(d5.editorO.$0);};})}),bh.htmlElement("menu",[bh.type("context"),bh.Id("right-menu"),bh.htmlElement("menuitem",[bh.htmlAttribute("label","Goto Definition"),new bl({$:7,$0:cH.Handler("click",function(){return function(){return gb();};})})])]),bh.htmlAttribute("contextmenu","right-menu")]);bi.sink(function(){var gI;b3.Start((gI=null,b3.Delay(function(){var gJ,gK,gL;return!dL?b3.Zero():(gJ=d5.editorO,gJ!=null&&gJ.$==1?(gK=gJ.$0,(gL=bU.FetchO(c0.c),gL!=null&&gL.$==1?b3.Bind(dW.MustParse(dX,gL.$0.get_NameSanitized()),function(gM){return gM?b3.Zero():(gK.performLint(),b3.Zero());}):b3.Zero())):b3.Zero());})),null);},dJ);ea=cJ.Create$1();eb=bh.div([new bl({$:5,$0:bi.map2(function(gI){return function(gJ){return gh(gI,gJ);};},ea,bi.bind(function(gI){return gj(gi(gI));},c0))}),bh.css(" td.hovering { background: gray; } ")]);ec=cJ.Create$1();ed=bF.New$1("Load...").OnClick(function(gI){return function(gJ){return fZ(gI,gJ);};});ee=bF.New$1("Save as...").OnClick(b8.Curried(bm.Do,2,[fY,null])).Highlight(dM);ef=bF.New$1("Add Snippet").OnClick(b8.Curried(bm.Do,2,[fS,null]));eg=bF.New$1("Delete Snippet").OnClick(b8.Curried(bm.Do,2,[fT,null])).Disabled(c8);eh=bF.New$1("Indent In  >>").OnClick(b8.Curried(bm.Do,2,[fn,null])).Disabled(c8);ei=bF.New$1("Indent Out <<").OnClick(b8.Curried(bm.Do,2,[fo,null])).Disabled(c8);ej=bF.New$1("Get F# Code").OnClick(b8.Curried(bm.Do,2,[fl,null])).Disabled(dB);ek=bF.New$1("actSetSnippetProp").OnClick2(function(gI){return gm(function(gJ){return function(gK){return gv(gJ,gK);};},null,gI);}).Disabled(dC);el=bF.New$1("Run FSI on Code").OnClick2(function(gI){return gm(function(gJ){return function(gK){return gq(gJ,gK);};},null,gI);}).Disabled(dC);em=bF.New$1("Run FSI").OnClick2(function(gI){return gm(function(gJ){return function(gK){return gs(gJ,gK);};},null,gI);}).Disabled(dC);en=bF.New$1("Run Fable on Code").OnClick2(function(gI){return gm(function(gJ){return function(gK){return gr(gJ,gK);};},null,gI);}).Disabled(dD);eo=bF.New$1("Run Fable").OnClick2(function(gI){return gm(function(gJ){return function(gK){return gt(gJ,gK);};},null,gI);}).Disabled(dD);ep=bF.New$1("Run WebSharper in new tab").OnClick2((eq=bP.NewBrowser,function(gI){return gm(function(gJ){return function(gK){return gu(gJ,gK);};},eq,gI);})).Disabled(dE);er=bF.New$1("Run WebSharper in WS Result").OnClick2((es=bP.Below,function(gI){return gn(function(gJ){return function(gK){return gu(gJ,gK);};},es,gI);})).Disabled(dE);et=bF.New$1("Run WebSharper in ...").OnClick(b8.Curried(gl,2,[gx,null])).Disabled(dE);eu=bF.New$1("Parse F#").OnClick(b8.Curried(gk,2,[gy,null])).Disabled(dB);ev=bF.New$1("Compile WebSharper").OnClick((ew=function(gI){return fp(fx(gI));},b8.Curried(gk,2,[ew,null]))).Disabled(dE);ex=bF.New$1("Find Definition").OnClick(b8.Curried(bm.Do,2,[gb,null])).Disabled(dB);ey=bF.New$1("Refresh CodeMirror").OnClick(b8.Curried(bm.Do,2,[gc,null]));ez=bF.New$1("Show Output text").OnClick2(b8.Curried(bm.Do2,3,[gw,null]));eA=bh.div([ef.get_Button().get_Render(),ei.get_Button().get_Render(),eh.get_Button().get_Render(),dU.get_Render().AddChildren([bh.style("grid-column: 4/6")]),em.get_Button().get_Render(),eo.get_Button().get_Render(),et.get_Button().get_Render(),eg.get_Button().get_Render(),ex.get_Button().get_Render(),bh.span([]),ee.get_Button().get_Render(),bh.span([]),ej.get_Button().get_Render(),eu.get_Button().get_Render(),bh.someElt(cF.Select([cI.Create("id","Position")],function(gI){return gI.$==1?"Right":gI.$==2?"In Tab":gI.$==3?"New Browser":"Below";},b$.ofArray([bP.NewBrowser,bP.Below]),c5)),bh.style("\n                    overflow: hidden;\n                    display: grid;\n                    grid-template-columns: repeat(8, 12.1%);\n                    bxackground-color: #eee;\n                    padding : 5px;\n                    grid-gap: 5px;\n                ")]);eB=bE.New2([bC.New$2("File").SubMenu([ed.get_MenuEntry(),ee.get_MenuEntry()]),bC.New$2("Code").SubMenu([ef.get_MenuEntry(),eg.get_MenuEntry(),bC.New$2("").get_Divider(),eh.get_MenuEntry(),ei.get_MenuEntry(),bC.New$2("").get_Divider(),ex.get_MenuEntry(),bC.New$2("").get_Divider(),ej.get_MenuEntry(),bC.New$2("").get_Divider(),ey.get_MenuEntry()]),bC.New$2("Run").SubMenu([em.get_MenuEntry(),eo.get_MenuEntry(),bC.New$2("").get_Divider(),ep.get_MenuEntry(),er.get_MenuEntry(),bC.New$2("").get_Divider(),eu.get_MenuEntry(),ev.get_MenuEntry()])]);eC=bE.New2([bC.New$2("About").SubMenu([bC.New$1("Source @ GitHub","https://github.com/amieres/FSharpStation").Target("_blank")])]);eD=bm.navbar(bh.h1([bh.htmlText("F# Station"),bh.style("font-size: 48px; margin-top: -17px")]),eB.get_Render(),eC.get_Render());eE="CodeEditor."+"splitterV1";eF=by.New$1(20).Children([bh.style("grid-row: 2 / 4")]).get_Var();eG=a.localStorage.getItem(eE);eG!==null?eF.set_RVal(((cr.Id())())(ch.parse(eG))):void 0;bi.sink(function(gI){a.localStorage.setItem(eE,ch.stringify(((cr.Id())())(gI)));},eF);eH=bh.bindHElem(function(gI){return bh.div(b$.ofSeq(b4.delay(function(){return b4.append([bh.style("overflow: auto")],b4.delay(function(){var gJ;return b4.append(b4.choose(a.id,(gJ=b4.indexed(gI),b4.mapFold(function(gK,gL){var gM,gN,gO,gP,gQ;gM=gL[1];return g.defaultValue(true,(gN=gM.parent,gN==null?null:{$:1,$0:gK.Contains(gN.$0)}))?(gO=g.defaultValue(false,(gP=b4.tryItem(gL[0]+1,bO.codeSnippets()),gP==null?null:{$:1,$0:b5.Equals(gP.$0.parent,{$:1,$0:gM.id})})),(gQ=gO&&gM.expanded,[{$:1,$0:fM(gO,gQ,gM)},gQ?gK.Add(gM.id):gK])):[null,gK];},new cM.New(b$.T.Empty),gJ))[0]),b4.delay(function(){return b4.append([new bl({$:7,$0:cH.Handler("scroll",function(gK){return function(){dR=gK.scrollTop;};})})],b4.delay(function(){return[new bl({$:7,$0:cH.OnAfterRender(function(gK){gK.scrollTop=dR;})})];}));}));}));})));},(eI=bO.codeSnippets().v,cE.SnapshotOn((bO.codeSnippets())["var"].RVal(),c3.v,eI)));eJ=bK.AddGuids([["actLoadFile",new bG({$:2,$0:ed})],["actSaveFile",new bG({$:2,$0:ee})],["actAddSnippet",new bG({$:2,$0:ef})],["actDeleteSnippet",new bG({$:2,$0:eg})],["actIndentSnippet",new bG({$:2,$0:eh})],["actOutdentSnippet",new bG({$:2,$0:ei})],["actGetFsCode",new bG({$:2,$0:ej})],["actSetSnippetProp",new bG({$:2,$0:ek})],["actEvalFsCode",new bG({$:2,$0:el})],["actEvalCode",new bG({$:2,$0:em})],["actRunFableFs",new bG({$:2,$0:en})],["actRunFable",new bG({$:2,$0:eo})],["actRunWSNewTab",new bG({$:2,$0:ep})],["actRunWSHere",new bG({$:2,$0:er})],["actRunWSIn",new bG({$:2,$0:et})],["actParseCode",new bG({$:2,$0:eu})],["actCompileWS",new bG({$:2,$0:ev})],["actFindDefinition",new bG({$:2,$0:ex})],["actOutText",new bG({$:2,$0:ez})],["Output",new bG({$:1,$0:bq.New$2(dK).Placeholder("Output:").Title("Output").RenderWith(b$.ofArray([cH.Handler("dblclick",function(gI){return function(gJ){return gz(gI,gJ);};})]))})],["Parser",new bG({$:1,$0:bq.New$2(dJ).Placeholder("Parser messages:").Title("Parser").RenderWith(b$.ofArray([cH.Handler("dblclick",function(gI){return function(gJ){return gz(gI,gJ);};})]))})],["JavaScript",new bG({$:1,$0:bq.New$2(dI).Placeholder("Javascript:").Title("JavaScript code generated").get_Render()})],["F# code",new bG({$:1,$0:bq.New$2(dH).Placeholder("F# code:").Title("F# code assembled").get_Render()})],["Properties",new bG({$:1,$0:eb})],["WS Result",new bG({$:1,$0:bh.div([bh.div([bh.Id("TestNode"),bh.style("background: white; height: 100%; width: 100%; ")])])})],["title",new bG({$:1,$0:bo.New$2((eK=bi.toView(bi.fixit(c0)),(eL=cJ.Create$1(null),(eM=[null],(eN=[0],(eO=[0],(cE.Sink(function(){var gI,gJ;gI=eM[0];gI==null?void 0:(gJ=gI.$0,eN[0]>eO[0]?eO[0]=eN[0]:!b5.Equals(gJ.RVal(),eL.c)?(eO[0]=eO[0]+1,gJ.set_RVal(eL.c)):void 0);},eL.v),cE.Sink(function(){var gI,gJ;gI=eM[0];gI==null?void 0:(gJ=gI.$0,eO[0]>eN[0]?eN[0]=eO[0]:!b5.Equals(gJ.RVal(),eL.c)?(eN[0]=eN[0]+10,cJ.Set(eL,gJ.RVal())):void 0);},cE.Bind(function(gI){var gJ;gJ=eZ(gI);eM[0]={$:1,$0:gJ};eO[0]=eN[0]+100;cJ.Set(eL,gJ.RVal());return gJ.RView();},eK)),eL))))))).Prefix$1(bh.htmlText("name:")).get_Render()})],["code",new bG({$:1,$0:d$})],["snippets",new bG({$:1,$0:eH})],["buttons",new bG({$:1,$0:eA})],["menu",new bG({$:1,$0:eD})],["messagesR",new bG({$:4,$0:true,$1:["Properties"]})],["messagesB1",new bG({$:4,$0:true,$1:["Output","JavaScript","F# code"]})],["messagesB2",new bG({$:4,$0:true,$1:["Parser","WS Result"]})],["messagesB",bm.varVerSplitter(55,"messagesB1","messagesB2",0,100)],["title_code",bm.fixedHorSplitter(true,34,"title","code")],["code_props",bm.varVerSplitter(85,"title_code","messagesR",25,100)],["code_buttons",bm.fixedHorSplitter(false,80,"code_props","buttons")],["snippets_code",bm.varVerSplitter(15,"snippets","code_buttons",5,95)],["main_messages",bm.varHorSplitter(82,"snippets_code","messagesB",35,100)],["extrabuttons",new bG({$:1,$0:bh.div([])})],["main_extra",bm.varVerSplitter(100,"main_messages","extrabuttons",20,100)],["main",bm.fixedHorSplitter(true,50,"menu","main_extra")]]);eP=bK.New$1(eJ);a.addLayoutJson=gB;bi.sink(gB,dr);bi.sink(function(gI){if(gI==="")gC([]);else fr(a,gI);},dw);a.doFSharpStationGuiCall=function(gI){var gJ,gK;gJ=m.Success(gA.apply(null,gI));gJ.$==1?((gK=(b8.Curried3(function(gL,gM,gN){return gL("Error doGuiCall "+b9.printList(b9.prettyPrint,gM)+": "+("("+b9.prettyPrint(gN[0])+", "+b9.prettyPrint(gN[1])+", "+b9.printArray(b9.prettyPrint,gN[2])+")"));}))(function(gL){ca.log(gL);}),function(gL){var gM;gM=gK(gL);return function(gN){gM([gN[0],gN[1],gN[2]]);};})(gJ.$0))(gI):void 0;};a.setFSharpStationLayout=function(gI){var gJ;gJ=bU.FetchO(c0.c);gJ==null?void 0:gC(gI.apply(null,[eP,gJ.$0]));};eQ=null;(new ce.New$5()).TryGetValue("",{get:function(){return eQ;},set:function(gI){eQ=gI;}})?void 0:void 0;eR=new N.New(bO.fsIds(),null,null);eS=new D.New(bO.fsIds(),{$:1,$0:bO.fsIds()},null,{$:1,$0:a.location.href});b3.Start((eT=null,b3.Delay(function(){return b3.Bind(b3.Sleep(1000),function(){eS.get_MessagingClient().awaitMessage(function(gI,gJ){var gK;gK=null;return b3.Delay(function(){var gL;((function(gM){return function(gN){return gM("respondMessageG txt: "+b9.toSafe(gN));};}(function(gM){ca.log(gM);}))(gJ));gL=(bZ.j$9())(ch.parse(gJ));((function(gM){return function(gN){return gM("respondMessageG msg: "+b9.prettyPrint(gN));};}(function(gM){ca.log(gM);}))(gL));return b3.Bind(gG(gI,gL),function(gM){return b3.Return(ch.stringify((b0.j$8())(gM)));});});});return b3.Zero();});})),null);b3.Start((eU=null,b3.Delay(function(){return b3.Bind(b3.Sleep(1000),function(){return b3.While(function(){return true;},b3.Delay(function(){var gI,gJ,gK,gL,gM;function gN(gQ){return gG("",gQ);}function gO(gQ){return{$:1,$0:gQ};}function gP(gQ){return(bZ.j$9())(ch.parse(gQ));}gI=function(gQ){return gO(gN(gQ));};eR.payloadProcessorO={$:1,$0:(gJ=function(gQ){return gI(gP(gQ));},(gK=p.map(function(gQ){return ch.stringify((b0.j$8())(gQ));}),function(gQ){return gK(gJ(gQ));}))};p.Start(eR.sendAndForget(E.msgType(H.MsgInformation,(gL=E.MessageBrokerAddress(),(gM=ch.stringify(((cr.Id())())("Registering Processor")),K.New(new F({$:0,$0:""}),gL,H.MsgRequest,"",cn.NewGuid(),gM,J.NoReply))))),null);return b3.Bind(b3.Sleep(60000),function(){return b3.Return(null);});}));});})),null);bi.sink(function(){eP.SelectTab("Output");},dK);bi.sink(function(){eP.SelectTab("WS Result");},ec);eV=cJ.Create$1(b$.ofArray(["/EPFileX/css/main.css"]));bi.sink(gH,dc);bi.sink(function(gI){if(gI!=="")gH((function(gJ){return function(gK){return gJ("/EPFileX/codemirror/content/theme/"+b9.toSafe(gK)+".css");};}(a.id))(gI));},dm);eW=bh.div([bh.style("height: 100vh; width: 100% "),eP.get_Render().Style("height: 100%; width: 100% "),bh.script([bh.src("/EPFileX/FileSaver/FileSaver.js"),bh.type("text/javascript")]),bh.script([bh.src("http://code.jquery.com/jquery-3.1.1.min.js"),bh.type("text/javascript")]),bh.script([bh.src("http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"),bh.type("text/javascript")]),bh.link([bh.href("http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"),bh.type("text/css"),bh.rel("stylesheet")]),bh.css("\n      \n        body { margin: 0px }     \n             \n        div textarea {\n            font-family     : monospace;\n        }\n        .code-editor-list-tile {\n            white-space     : nowrap; \n            border-style    : solid none none;\n            border-color    : white;\n            border-width    : 1px;\n            background-color: #D8D8D8;\n            display         : flex;\n        }\n        .code-editor-list-text{\n            padding         : 1px 10px 1px 5px;\n            overflow        : hidden;\n            text-overflow   : ellipsis;\n            white-space     : nowrap;\n            flex            : 1;\n        }\n        \n        .code-editor-list-tile.direct-predecessor {\n            font-weight     : bold;\n        }\n        .code-editor-list-tile.indirect-predecessor {\n            color           : blue;\n        }\n        .code-editor-list-tile.selected {\n            background-color: #77F;\n            color           : white;\n        }\n        .code-editor-list-tile.hovering {\n            background      : lightgray;\n        }\n        .code-editor-list-tile.hovering.selected {\n            background      : blue;\n        }\n        .code-editor-list-tile>.predecessor {\n            font-weight     : bold;\n            border-style    : inset;\n            border-width    : 1px;\n            text-align      : center;\n            color           : transparent;\n        }\n        .code-editor-list-tile.direct-predecessor>.predecessor {\n            color           : blue;\n        }\n        \n        .CodeMirror { height: 100%; }\n        \n        .node {\n            background-color: white; \n            width           : 2ch; \n            color           : #A03; \n            font-weight     : bold; \n            text-align      : center;\n            font-family     : arial;\n        }\n        .Warning { text-decoration: underline lightblue } \n        .Error   { text-decoration: underline red       } \n        .body    { margin         : 0px                 }\n        "),bh.style(" \n                color      : #333;\n                font-size  : small;\n                font-family: monospace;\n                line-height: 1.2;\n                    "),new bl({$:5,$0:bi.map(function(gI){return bh.div(b$.ofSeq(b4.delay(function(){return b4.map(function(gJ){return bh.link([bh.href(gJ),bh.type("text/css"),bh.rel("stylesheet")]);},gI);})));},eV)}),bh.css(c9)]);return(bh.renderDoc())(eW);};bY.$cctor=function(){var cY,cZ,c0;bY.$cctor=a.ignore;function c1(c2,c3){return new bl({$:7,$0:cH.Style(c2,c3)});}bY.result=new n.New();bY.fromResult=m.toResultS;bY.toResult=m.fromResultS;bY.errOptionIsNone=new k.New();bY.wrap=new q.New();bY.wrapper=new q.New();bY.awaitRequestForF=v.selectF(function(c2){return(new cB.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.awaitRequestFor:-439983525",[c2]);},function(c2){return(new cB.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.awaitRequestFor:-439983525",[c2]);});bY.sendRequestF=v.selectF(b8.Curried3(function(c2,c3,c4){return(new cB.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.sendRequest:-426626804",[c2,c3,c4]);}),b8.Curried3(function(c2,c3,c4){return(new cB.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.sendRequest:-426626804",[c2,c3,c4]);}));bY.replyToF=v.selectF(function(c2){return function(c3){return(new cB.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.replyTo:-1092841374",[c2,c3]);};},function(c2){return function(c3){return(new cB.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.replyTo:-1092841374",[c2,c3]);};});bY.AsyncStartF=v.selectF(function(c2){v.AsyncStart(c2);},function(c2){b3.Start(c2,null);});bY.MessageBrokerId="<MessageBroker>";bY.MessageBrokerAddress=new F({$:0,$0:E.MessageBrokerId()});bY.valFlow=new bk.New();bY.renderDoc=(cY=(cZ=cF.Empty(),function(c2){return c2==null?cZ:c2.$0;}),function(c2){return cY(bh.chooseNode(c2));});bY.string2Styles=(c0=function(c2){return cg.map(function(c3){return c1(c3[0],c3[1]);},c2);},function(c2){return c0(bh.style2pairs(c2));});bY.codeMirrorIncludes=["/EPFileX/codemirror/scripts/codemirror/codemirror.js","/EPFileX/codemirror/scripts/intellisense.js","/EPFileX/codemirror/scripts/codemirror/codemirror-intellisense.js","/EPFileX/codemirror/scripts/codemirror/codemirror-compiler.js","/EPFileX/codemirror/scripts/codemirror/mode/none.js","/EPFileX/codemirror/scripts/codemirror/mode/fsharp.js","/EPFileX/codemirror/scripts/codemirror/mode/css.js","/EPFileX/codemirror/scripts/codemirror/mode/javascript.js","/EPFileX/codemirror/scripts/codemirror/mode/markdown.js","/EPFileX/codemirror/scripts/addon/search/searchcursor.js","/EPFileX/codemirror/scripts/addon/search/search.js","/EPFileX/codemirror/scripts/addon/search/jump-to-line.js","/EPFileX/codemirror/scripts/addon/dialog/dialog.js","/EPFileX/codemirror/scripts/addon/edit/matchbrackets.js","/EPFileX/codemirror/scripts/addon/selection/active-line.js","/EPFileX/codemirror/scripts/addon/display/fullscreen.js","/EPFileX/codemirror/scripts/addon/hint/show-hint.js","/EPFileX/codemirror/scripts/addon/lint/lint.js"];bY.observers=b$.T.Empty;bY.draggedTab=[null];bY.selectedPanels=cJ.Create$1(new cz.New([]));bY.TabMoved=null;bY.codeSnippets=cX.Create(function(c2){return c2.id;},b$.T.Empty);bY.fsIds="FSharpStation"+a.String(ci.now());bY.references=["mscorlib.dll","System.dll","System.Core.dll","System.Data.dll","System.IO.dll","System.Xml.dll","System.Numerics.dll","FSharp.Core.sigdata","FSharp.Core.dll","Fable.Core.dll","Fable.Import.Browser.dll"];bY.loadReferences=cV.Create(function(){var c2;b3.Start((c2=null,b3.Delay(function(){return b3.Bind(bh.LoadFilesAsync(["https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.2/require.min.js"]),function(){var c3;c3=cP.create(null);c3.skipDataMain=1;c3.isBrowser=1;a.require.config(c3);b4.iter(function(c4){a.getFileBlob(c4,"metadata/"+c4);},bV.references());return b3.Zero();});})),null);});bY.getChecker=cV.Create(function(){return cQ.createChecker(function(c2){return a.metadata[c2];},cg.choose(function(c2){return c2.indexOf("sigdata")!=-1?null:{$:1,$0:b6.Replace(c2,".dll","")};},bV.references()));});bY.addOutMsg=function(c2){ca.log(c2);};};bZ.j$4=function(){return bZ._v$4?bZ._v$4:bZ._v$4=(cr.DecodeUnion(void 0,"$",[[0,[["$0","Item",cr.Id(),0]]],[1,[["$0","Item",cr.Id(),1]]],[2,[["$0","Item",bZ.j$6,1]]],[3,[["$0","Item",cr.DecodeArray(bZ.j$6),0]]],[4,[["$0","Item1",cr.Id(),1],["$1","Item2",cr.DecodeArray(cr.DecodeTuple([cr.Id(),bZ.j$5])),0]]]]))();};bZ.j$7=function(){return bZ._v$7?bZ._v$7:bZ._v$7=(cr.DecodeUnion(y,"$",[[0,[["$0","Item",cr.Id(),0]]]]))();};bZ.j$6=function(){return bZ._v$6?bZ._v$6:bZ._v$6=(cr.DecodeRecord(z,[["name",cr.Id(),0],["content",cr.Id(),0],["parent",bZ.j$7,1],["predecessors",cr.DecodeList(bZ.j$7),0],["id",bZ.j$7,0],["expanded",cr.Id(),0],["level",cr.Id(),0],["levelCode",cr.Id(),0],["properties",cr.DecodeStringDictionary(cr.Id()),0]]))();};bZ.j$5=function(){return bZ._v$5?bZ._v$5:bZ._v$5=(cr.DecodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]]]))();};b0.j$4=function(){return b0._v$4?b0._v$4:b0._v$4=(cr.EncodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",cr.Id(),0]]],[2,[["$0","Item",b0.j$5,0]]],[3,[["$0","Item",b0.j$5,0]]],[4,[["$0","Item",b0.j$5,0]]],[5,[["$0","Item",b0.j$5,0]]],[6,[["$0","Item",cr.EncodeArray(cr.Id()),0]]],[7,[["$0","Item",cr.EncodeArray(cr.Id()),0]]],[8,[["$0","Item",cr.EncodeArray(cr.Id()),0]]],[9,[["$0","Item",cr.EncodeArray(cr.Id()),0]]],[10,[["$0","Item",cr.EncodeArray(cr.Id()),0]]],[11,[]],[12,[["$0","Item1",b0.j$5,0],["$1","Item2",cr.Id(),0]]],[13,[["$0","Item1",cr.EncodeArray(cr.Id()),0],["$1","Item2",cr.Id(),0]]],[14,[["$0","name",cr.Id(),0],["$1","action",cr.Id(),0],["$2","parms",cr.EncodeArray(cr.Id()),0]]]]))();};b0.j$5=function(){return b0._v$5?b0._v$5:b0._v$5=(cr.EncodeUnion(y,"$",[[0,[["$0","Item",cr.Id(),0]]]]))();};b1.p$6=function(cY){return cY.$==4?"StringResponseR ("+b1.p$7(cY.$0)+", "+b9.printArray(function(cZ){return"("+b9.prettyPrint(cZ[0])+", "+b1.p(cZ[1])+")";},cY.$1)+")":cY.$==3?"SnippetsResponse "+b9.printArray(function(cZ){return b2.p(cZ);},cY.$0):cY.$==2?"SnippetResponse "+b1.p$8(cY.$0):cY.$==1?"StringResponse "+b1.p$7(cY.$0):"IdResponse "+b9.prettyPrint(cY.$0);};b1.p$9=function(cY){return cY==null?"null":"Some "+b1.p$5(cY.$0);};b1.p$7=function(cY){return cY==null?"null":"Some "+b9.prettyPrint(cY.$0);};b1.p$4=function(cY){return cY.$==14?"RunActionCall ("+b9.prettyPrint(cY.$0)+", "+b9.prettyPrint(cY.$1)+", "+b9.printArray(b9.prettyPrint,cY.$2)+")":cY.$==13?"RunSnippetUrlJS ("+b9.printArray(b9.prettyPrint,cY.$0)+", "+b9.prettyPrint(cY.$1)+")":cY.$==12?"RunSnippetUrlJSById ("+b1.p$5(cY.$0)+", "+b9.prettyPrint(cY.$1)+")":cY.$==11?"GetWholeFile":cY.$==10?"GetSnippetJSCode "+b9.printArray(b9.prettyPrint,cY.$0):cY.$==9?"GetSnippet "+b9.printArray(b9.prettyPrint,cY.$0):cY.$==8?"GetSnippetPreds "+b9.printArray(b9.prettyPrint,cY.$0):cY.$==7?"GetSnippetCode "+b9.printArray(b9.prettyPrint,cY.$0):cY.$==6?"GetSnippetContent "+b9.printArray(b9.prettyPrint,cY.$0):cY.$==5?"GetSnippetById "+b1.p$5(cY.$0):cY.$==4?"GetSnippetPredsById "+b1.p$5(cY.$0):cY.$==3?"GetSnippetCodeById "+b1.p$5(cY.$0):cY.$==2?"GetSnippetContentById "+b1.p$5(cY.$0):cY.$==1?"GenericMessage "+b9.prettyPrint(cY.$0):"GetIdentification";};b1.p$5=function(cY){return"CodeSnippetId "+b9.prettyPrint(cY.$0);};b1.p$8=function(cY){return cY==null?"null":"Some "+b2.p(cY.$0);};b2.p=function(cY){return"{"+("name = "+b9.prettyPrint(cY.name))+"; "+("content = "+b9.prettyPrint(cY.content))+"; "+("parent = "+b1.p$9(cY.parent))+"; "+("predecessors = "+b9.printList(function(cZ){return b1.p$5(cZ);},cY.predecessors))+"; "+("id = "+b1.p$5(cY.id))+"; "+("expanded = "+b9.prettyPrint(cY.expanded))+"; "+("level = "+b9.prettyPrint(cY.level))+"; "+("levelCode = "+b9.prettyPrint(cY.levelCode))+"; "+("properties = "+b9.prettyPrint(cY.properties))+"}";};b1.p=function(cY){return cY.$==2?"FSInfor":cY.$==1?"FSWarning":"FSError";};b0.j$8=function(){return b0._v$8?b0._v$8:b0._v$8=(cr.EncodeUnion(void 0,"$",[[0,[["$0","Item",cr.Id(),0]]],[1,[["$0","Item",cr.Id(),1]]],[2,[["$0","Item",b0.j$7,1]]],[3,[["$0","Item",cr.EncodeArray(b0.j$7),0]]],[4,[["$0","Item1",cr.Id(),1],["$1","Item2",cr.EncodeArray(cr.EncodeTuple([cr.Id(),b0.j$9])),0]]]]))();};b0.j$9=function(){return b0._v$9?b0._v$9:b0._v$9=(cr.EncodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]]]))();};bZ.j$9=function(){return bZ._v$9?bZ._v$9:bZ._v$9=(cr.DecodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",cr.Id(),0]]],[2,[["$0","Item",bZ.j$7,0]]],[3,[["$0","Item",bZ.j$7,0]]],[4,[["$0","Item",bZ.j$7,0]]],[5,[["$0","Item",bZ.j$7,0]]],[6,[["$0","Item",cr.DecodeArray(cr.Id()),0]]],[7,[["$0","Item",cr.DecodeArray(cr.Id()),0]]],[8,[["$0","Item",cr.DecodeArray(cr.Id()),0]]],[9,[["$0","Item",cr.DecodeArray(cr.Id()),0]]],[10,[["$0","Item",cr.DecodeArray(cr.Id()),0]]],[11,[]],[12,[["$0","Item1",bZ.j$7,0],["$1","Item2",cr.Id(),0]]],[13,[["$0","Item1",cr.DecodeArray(cr.Id()),0],["$1","Item2",cr.Id(),0]]],[14,[["$0","name",cr.Id(),0],["$1","action",cr.Id(),0],["$2","parms",cr.DecodeArray(cr.Id()),0]]]]))();};b2.p$23=function(cY){return"{"+("text = "+b1.p$12(cY.text))+"; "+("highlight = "+b1.p$14(cY.highlight))+"; "+("disabled = "+b1.p$14(cY.disabled))+"; "+("toolTip = "+b1.p$7(cY.toolTip))+"; "+("onClick = "+b1.p$16(cY.onClick))+"; "+("parms = "+b1.p$11(cY.parms))+"}";};b1.p$16=function(cY){return cY==null?"null":"Some <fun>";};b1.p$14=function(cY){return cY.$==2?"Dynamic "+b1.p$15(cY.$0):cY.$==1?"DynamicV "+b9.prettyPrint(cY.$0):"Constant "+b9.prettyPrint(cY.$0);};b1.p$15=function(cY){return"V <fun>";};b1.p$12=function(cY){return cY.$==2?"Dynamic "+b1.p$13(cY.$0):cY.$==1?"DynamicV "+b9.prettyPrint(cY.$0):"Constant "+b9.prettyPrint(cY.$0);};b1.p$13=function(cY){return"V <fun>";};b1.p$11=function(cY){return cY==null?"null":"Some "+b9.printArray(b9.prettyPrint,cY.$0);};b1.p$10=function(cY){return cY.$==17?"KMultiple "+b9.printArray(function(cZ){return b1.p$10(cZ);},cY.$0):cY.$==16?"KUnionCase "+b2.p$22(cY.$0):cY.$==15?"KNamespaces "+b2.p$19(cY.$0):cY.$==14?"KCompilerLocation "+b2.p$18(cY.$0):cY.$==13?"KSignatureData "+b2.p$16(cY.$0):cY.$==12?"KTypeSig "+b9.prettyPrint(cY.$0):cY.$==11?"KToolTip "+b9.printArray(function(cZ){return b9.printArray(function(c0){return b2.p$3(c0);},cZ);},cY.$0):cY.$==10?"KDeclarations "+b9.printArray(function(cZ){return b2.p$14(cZ);},cY.$0):cY.$==9?"KFindDecl "+b2.p$13(cY.$0):cY.$==8?"KColorizations "+b9.printList(function(cZ){return b2.p$12(cZ);},cY.$0):cY.$==7?"KErrors "+b2.p$10(cY.$0):cY.$==6?"KMethod "+b2.p$7(cY.$0):cY.$==5?"KHelp "+b9.prettyPrint(cY.$0):cY.$==4?"KSymbolUse "+b2.p$5(cY.$0):cY.$==3?"KCompletion "+b9.printArray(function(cZ){return b2.p$4(cZ);},cY.$0):cY.$==2?"KHelpText "+b2.p$2(cY.$0):cY.$==1?"KError "+b2.p$1(cY.$0):"KInfo "+b9.prettyPrint(cY.$0);};b2.p$22=function(cY){return"{"+("Text = "+b9.prettyPrint(cY.Text))+"}";};b2.p$19=function(cY){return"{"+("Opens = "+b9.printArray(function(cZ){return b2.p$20(cZ);},cY.Opens))+"; "+("Qualifies = "+b9.printArray(function(cZ){return b2.p$21(cZ);},cY.Qualifies))+"; "+("Word = "+b9.prettyPrint(cY.Word))+"}";};b2.p$21=function(cY){return"{"+("Name = "+b9.prettyPrint(cY.Name))+"; "+("Qualifier = "+b9.prettyPrint(cY.Qualifier))+"}";};b2.p$20=function(cY){return"{"+("Namespace = "+b9.prettyPrint(cY.Namespace))+"; "+("Name = "+b9.prettyPrint(cY.Name))+"; "+("Type = "+b9.prettyPrint(cY.Type))+"; "+("Line = "+b9.prettyPrint(cY.Line))+"; "+("Column = "+b9.prettyPrint(cY.Column))+"; "+("MultipleNames = "+b9.prettyPrint(cY.MultipleNames))+"}";};b2.p$18=function(cY){return"{"+("Fsc = "+b9.prettyPrint(cY.Fsc))+"; "+("Fsi = "+b9.prettyPrint(cY.Fsi))+"; "+("MSBuild = "+b9.prettyPrint(cY.MSBuild))+"}";};b2.p$16=function(cY){return"{"+("OutputType = "+b9.prettyPrint(cY.OutputType))+"; "+("Parameters = "+b9.printList(function(cZ){return b9.printList(function(c0){return b2.p$17(c0);},cZ);},cY.Parameters))+"}";};b2.p$17=function(cY){return"{"+("Name = "+b9.prettyPrint(cY.Name))+"; "+("Type = "+b9.prettyPrint(cY.Type))+"}";};b2.p$14=function(cY){return"{"+("Declaration = "+b2.p$15(cY.Declaration))+"; "+("Nested = "+b9.printArray(function(cZ){return b2.p$15(cZ);},cY.Nested))+"}";};b2.p$15=function(cY){return"{"+("UniqueName = "+b9.prettyPrint(cY.UniqueName))+"; "+("Name = "+b9.prettyPrint(cY.Name))+"; "+("Glyph = "+b9.prettyPrint(cY.Glyph))+"; "+("GlyphChar = "+b9.prettyPrint(cY.GlyphChar))+"; "+("IsTopLevel = "+b9.prettyPrint(cY.IsTopLevel))+"; "+("File = "+b9.prettyPrint(cY.File))+"; "+("EnclosingEntity = "+b9.prettyPrint(cY.EnclosingEntity))+"; "+("IsAbstract = "+b9.prettyPrint(cY.IsAbstract))+"}";};b2.p$13=function(cY){return"{"+("File = "+b9.prettyPrint(cY.File))+"; "+("Line = "+b9.prettyPrint(cY.Line))+"; "+("Column = "+b9.prettyPrint(cY.Column))+"}";};b2.p$12=function(cY){return"{"+("Kind = "+b9.prettyPrint(cY.Kind))+"}";};b2.p$10=function(cY){return"{"+("File = "+b9.prettyPrint(cY.File))+"; "+("Errors = "+b9.printArray(function(cZ){return b2.p$11(cZ);},cY.Errors))+"}";};b2.p$11=function(cY){return"{"+("FileName = "+b9.prettyPrint(cY.FileName))+"; "+("StartLine = "+b9.prettyPrint(cY.StartLine))+"; "+("EndLine = "+b9.prettyPrint(cY.EndLine))+"; "+("StartColumn = "+b9.prettyPrint(cY.StartColumn))+"; "+("EndColumn = "+b9.prettyPrint(cY.EndColumn))+"; "+("Message = "+b9.prettyPrint(cY.Message))+"; "+("Subcategory = "+b9.prettyPrint(cY.Subcategory))+"}";};b2.p$7=function(cY){return"{"+("Name = "+b9.prettyPrint(cY.Name))+"; "+("CurrentParameter = "+b9.prettyPrint(cY.CurrentParameter))+"; "+("Overloads = "+b9.printList(function(cZ){return b2.p$8(cZ);},cY.Overloads))+"}";};b2.p$8=function(cY){return"{"+("Tip = "+b9.printList(function(cZ){return b9.printList(function(c0){return b2.p$3(c0);},cZ);},cY.Tip))+"; "+("TypeText = "+b9.prettyPrint(cY.TypeText))+"; "+("Parameters = "+b9.printList(function(cZ){return b2.p$9(cZ);},cY.Parameters))+"; "+("IsStaticArguments = "+b9.prettyPrint(cY.IsStaticArguments))+"}";};b2.p$9=function(cY){return"{"+("Name = "+b9.prettyPrint(cY.Name))+"; "+("CanonicalTypeTextForSorting = "+b9.prettyPrint(cY.CanonicalTypeTextForSorting))+"; "+("Display = "+b9.prettyPrint(cY.Display))+"; "+("Description = "+b9.prettyPrint(cY.Description))+"}";};b2.p$5=function(cY){return"{"+("Name = "+b9.prettyPrint(cY.Name))+"; "+("Uses = "+b9.printList(function(cZ){return b2.p$6(cZ);},cY.Uses))+"}";};b2.p$6=function(cY){return"{"+("FileName = "+b9.prettyPrint(cY.FileName))+"; "+("StartLine = "+b9.prettyPrint(cY.StartLine))+"; "+("StartColumn = "+b9.prettyPrint(cY.StartColumn))+"; "+("EndLine = "+b9.prettyPrint(cY.EndLine))+"; "+("EndColumn = "+b9.prettyPrint(cY.EndColumn))+"; "+("IsFromDefinition = "+b9.prettyPrint(cY.IsFromDefinition))+"; "+("IsFromAttribute = "+b9.prettyPrint(cY.IsFromAttribute))+"; "+("IsFromComputationExpression = "+b9.prettyPrint(cY.IsFromComputationExpression))+"; "+("IsFromDispatchSlotImplementation = "+b9.prettyPrint(cY.IsFromDispatchSlotImplementation))+"; "+("IsFromPattern = "+b9.prettyPrint(cY.IsFromPattern))+"; "+("IsFromType = "+b9.prettyPrint(cY.IsFromType))+"}";};b2.p$4=function(cY){return"{"+("Name = "+b9.prettyPrint(cY.Name))+"; "+("ReplacementText = "+b9.prettyPrint(cY.ReplacementText))+"; "+("Glyph = "+b9.prettyPrint(cY.Glyph))+"; "+("GlyphChar = "+b9.prettyPrint(cY.GlyphChar))+"}";};b2.p$2=function(cY){return"{"+("Name = "+b9.prettyPrint(cY.Name))+"; "+("Overloads = "+b9.printList(function(cZ){return b9.printList(function(c0){return b2.p$3(c0);},cZ);},cY.Overloads))+"}";};b2.p$3=function(cY){return"{"+("Signature = "+b9.prettyPrint(cY.Signature))+"; "+("Comment = "+b9.prettyPrint(cY.Comment))+"}";};b2.p$1=function(cY){return"{"+("Code = "+b9.prettyPrint(cY.Code))+"; "+("Message = "+b9.prettyPrint(cY.Message))+"}";};b0.j$7=function(){return b0._v$7?b0._v$7:b0._v$7=(cr.EncodeRecord(z,[["name",cr.Id(),0],["content",cr.Id(),0],["parent",b0.j$5,1],["predecessors",cr.EncodeList(b0.j$5),0],["id",b0.j$5,0],["expanded",cr.Id(),0],["level",cr.Id(),0],["levelCode",cr.Id(),0],["properties",cr.EncodeStringDictionary(cr.Id()),0]]))();};b0.j$6=function(){return b0._v$6?b0._v$6:b0._v$6=(cr.EncodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};bZ.j$8=function(){return bZ._v$8?bZ._v$8:bZ._v$8=(cr.DecodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};bZ.j$10=function(){return bZ._v$10?bZ._v$10:bZ._v$10=(cr.DecodeUnion(void 0,"$",[[0,[["$0","Item",cr.Id(),0]]],[1,[["$0","Item",cr.DecodeArray(cr.Id()),0]]]]))();};b0.j$10=function(){return b0._v$10?b0._v$10:b0._v$10=(cr.EncodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",cr.Id(),0]]],[2,[]],[3,[]],[4,[]]]))();};bZ.j$11=function(){return bZ._v$11?bZ._v$11:bZ._v$11=(cr.DecodeUnion(void 0,"type",[["BRConnections",[["$0","Item",cr.DecodeArray(cr.Id()),0]]]]))();};b0.j$11=function(){return b0._v$11?b0._v$11:b0._v$11=(cr.EncodeUnion(void 0,"type",[["BRGetConnections",[]]]))();};bZ.j$12=function(){return bZ._v$12?bZ._v$12:bZ._v$12=(cr.DecodeUnion(void 0,"type",[["BMOk",[]],["BMOnlyBrokerShouldUse",[]],["BMDestinationNotFound",[["$0","Item",bZ.j$1,0]]],["BMWebSocketError",[["$0","Item",cr.Id(),0]]],["BMReceiverCantReply",[]],["BMUnexpectedMsgType",[["$0","Item",bZ.j$2,0]]]]))();};b1.p$19=function(cY){return cY.$==2?"Receiver":cY.$==1?"Broker":"NoReply";};b1.p$18=function(cY){return cY.$==5?"MsgRequestForEcho":cY.$==4?"MsgRequestForId":cY.$==3?"MsgFromBroker":cY.$==2?"MsgReply":cY.$==1?"MsgRequest":"MsgInformation";};b2.p$24=function(cY){return"{"+("from = "+b1.p$17(cY.from))+"; "+("destination = "+b1.p$17(cY.destination))+"; "+("msgType = "+b1.p$18(cY.msgType))+"; "+("subtype = "+b9.prettyPrint(cY.subtype))+"; "+("id = "+b9.prettyPrint(cY.id))+"; "+("payload = "+b9.prettyPrint(cY.payload))+"; "+("replier = "+b1.p$19(cY.replier))+"}";};b1.p$17=function(cY){return"Address "+b9.prettyPrint(cY.$0);};b1.p$20=function(cY){return cY.$==3?"Close":cY.$==2?"Open":cY.$==1?"Error":"Message "+b2.p$24(cY.$0);};bZ.j$13=function(){return bZ._v$13?bZ._v$13:bZ._v$13=(cr.DecodeRecord(void 0,[["GuiRoot",cr.Id(),1],["GuiTabStrip",cr.DecodeTuple([cr.Id(),cr.DecodeArray(cr.Id())]),1],["GuiSplit",cr.DecodeTuple([cr.Id(),cr.Id(),cr.Id(),cr.Id(),cr.Id(),cr.Id(),cr.Id(),cr.Id()]),1],["GuiNode",bZ.j$14,1],["GuiCall",cr.DecodeTuple([cr.Id(),cr.Id(),cr.DecodeArray(cr.Id())]),1]]))();};bZ.j$14=function(){return bZ._v$14?bZ._v$14:bZ._v$14=(cr.DecodeRecord(void 0,[["HtmlElementF",cr.DecodeTuple([cr.Id(),cr.DecodeArray(bZ.j$14)]),1],["HtmlAttributeF",cr.DecodeTuple([cr.Id(),cr.Id()]),1],["HtmlAttributeOF",cr.DecodeTuple([cr.Id(),bZ.j$15]),1],["HtmlTextF",cr.Id(),1],["HtmlEmptyF",cr.Id(),1],["HtmlGuiPart",cr.Id(),1],["HtmlGuiCall",cr.DecodeTuple([cr.Id(),cr.Id(),cr.DecodeArray(cr.Id())]),1]]))();};bZ.j$15=function(){return bZ._v$15?bZ._v$15:bZ._v$15=(cr.DecodeUnion(void 0,"$",[null,[1,[["$0","Value",cr.Id(),0]]]]))();};bZ.j$1=function(){return bZ._v$1?bZ._v$1:bZ._v$1=(cr.DecodeUnion(F,"$",[[0,[["$0","address",cr.Id(),0]]]]))();};bZ.j$2=function(){return bZ._v$2?bZ._v$2:bZ._v$2=(cr.DecodeUnion(void 0,"type",[["MsgInformation",[]],["MsgRequest",[]],["MsgReply",[]],["MsgFromBroker",[]],["MsgRequestForId",[]],["MsgRequestForEcho",[]]]))();};bZ.j$3=function(){return bZ._v$3?bZ._v$3:bZ._v$3=(cr.DecodeUnion(void 0,"type",[["NoReply",[]],["Broker",[]],["Receiver",[]]]))();};bZ.j=function(){return bZ._v?bZ._v:bZ._v=(cr.DecodeRecord(void 0,[["from",bZ.j$1,0],["destination",bZ.j$1,0],["msgType",bZ.j$2,0],["subtype",cr.Id(),0],["id",cr.Id(),0],["payload",cr.Id(),0],["replier",bZ.j$3,0]]))();};b0.j$1=function(){return b0._v$1?b0._v$1:b0._v$1=(cr.EncodeUnion(F,"$",[[0,[["$0","address",cr.Id(),0]]]]))();};b0.j$2=function(){return b0._v$2?b0._v$2:b0._v$2=(cr.EncodeUnion(void 0,"type",[["MsgInformation",[]],["MsgRequest",[]],["MsgReply",[]],["MsgFromBroker",[]],["MsgRequestForId",[]],["MsgRequestForEcho",[]]]))();};b0.j$3=function(){return b0._v$3?b0._v$3:b0._v$3=(cr.EncodeUnion(void 0,"type",[["NoReply",[]],["Broker",[]],["Receiver",[]]]))();};b0.j=function(){return b0._v?b0._v:b0._v=(cr.EncodeRecord(void 0,[["from",b0.j$1,0],["destination",b0.j$1,0],["msgType",b0.j$2,0],["subtype",cr.Id(),0],["id",cr.Id(),0],["payload",cr.Id(),0],["replier",b0.j$3,0]]))();};b1.p$1=function(cY){return cY.$==1?"Snippet Not Found "+b9.prettyPrint(cY.$0):"FSMessage ("+b9.prettyPrint(cY.$0)+", "+b1.p(cY.$1)+")";};b1.p$2=function(cY){return cY.$==1?"Snippet Not Found "+b9.prettyPrint(cY.$0):"FSMessage ("+b9.prettyPrint(cY.$0)+", "+b1.p(cY.$1)+")";};b1.p$3=function(cY){return cY.$==2?"Could not open new browser, Popup blocker may be active":cY.$==1?"Snippet Missing":"JsCompilerMsg ("+b9.prettyPrint(cY.$0)+", "+b9.prettyPrint(cY.$1)+")";};}());
