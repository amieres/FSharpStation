(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV;a=window;b=a.FSSGlobal=a.FSSGlobal||{};c=b.Useful=b.Useful||{};d=c.Async=c.Async||{};e=c.KeyVal=c.KeyVal||{};f=c.String=c.String||{};g=c.Option=c.Option||{};h=a.WebSharper;i=h&&h.Obj;j=c.ExceptionThrown=c.ExceptionThrown||{};k=c.ErrOptionIsNone=c.ErrOptionIsNone||{};l=c.ErrSimple=c.ErrSimple||{};m=c.Result=c.Result||{};n=m.ropBuilder=m.ropBuilder||{};o=c.ResultS=c.ResultS||{};p=c.Wrap=c.Wrap||{};q=p.Builder=p.Builder||{};r=c.Mailbox=c.Mailbox||{};s=c.Dict=c.Dict||{};t=c.ResetableMemoize=c.ResetableMemoize||{};u=c.PreproDirective=c.PreproDirective||{};v=b.FsStationShared=b.FsStationShared||{};w=v.CodeSnippetId=v.CodeSnippetId||{};x=v.CodeSnippet=v.CodeSnippet||{};y=v.FSMessage=v.FSMessage||{};z=v.FSSeverity=v.FSSeverity||{};A=b.WSMessagingBroker=b.WSMessagingBroker||{};B=A.Address=A.Address||{};C=A.BrokerRequest=A.BrokerRequest||{};D=A.MessageType=A.MessageType||{};E=A.BrokerMessage=A.BrokerMessage||{};F=A.Replier=A.Replier||{};G=A.MessageGeneric=A.MessageGeneric||{};H=A.ClientTypeFSharp=A.ClientTypeFSharp||{};I=A.ClientTypeFSStation=A.ClientTypeFSStation||{};J=A.ClientTypeJScript=A.ClientTypeJScript||{};K=A.ErrBroker=A.ErrBroker||{};L=A.WSMessagingClient=A.WSMessagingClient||{};M=A.FsStationClientErr=A.FsStationClientErr||{};N=A.FStationMessaging=A.FStationMessaging||{};O=b.FSAutoCompleteIntermediary=b.FSAutoCompleteIntermediary||{};P=O.CommTypes=O.CommTypes||{};Q=P.ResponseError=P.ResponseError||{};R=P.Location=P.Location||{};S=P.CompletionResponse=P.CompletionResponse||{};T=P.OverloadDescription=P.OverloadDescription||{};U=P.OverloadParameter=P.OverloadParameter||{};V=P.Overload=P.Overload||{};W=P.Parameter=P.Parameter||{};X=P.SignatureData=P.SignatureData||{};Y=P.MethodResponse=P.MethodResponse||{};Z=P.SymbolUseRange=P.SymbolUseRange||{};_0=P.SymbolUseResponse=P.SymbolUseResponse||{};_1=P.HelpTextResponse=P.HelpTextResponse||{};_2=P.CompilerLocationResponse=P.CompilerLocationResponse||{};_3=P.FSharpErrorInfo=P.FSharpErrorInfo||{};_4=P.ErrorResponse=P.ErrorResponse||{};_5=P.Colorization=P.Colorization||{};_6=P.Declaration=P.Declaration||{};_7=P.DeclarationResponse=P.DeclarationResponse||{};_8=P.OpenNamespace=P.OpenNamespace||{};_9=P.QualifySymbol=P.QualifySymbol||{};_=P.ResolveNamespaceResponse=P.ResolveNamespaceResponse||{};$=P.UnionCaseResponse=P.UnionCaseResponse||{};ba=P.ACMessage=P.ACMessage||{};bb=O.FSAutoCompleteIntermediaryClient=O.FSAutoCompleteIntermediaryClient||{};bc=b.FsEvaluator=b.FsEvaluator||{};bd=bc.Evaluator=bc.Evaluator||{};be=b.FsTranslator=b.FsTranslator||{};bf=b.HtmlNode=b.HtmlNode||{};bg=bf.Val=bf.Val||{};bh=bf.Var=bf.Var||{};bi=bf.ListModel=bf.ListModel||{};bj=bg.HelperType=bg.HelperType||{};bk=bg.valBuilder=bg.valBuilder||{};bl=bf.HtmlNode=bf.HtmlNode||{};bm=b.Template=b.Template||{};bn=bm.Button=bm.Button||{};bo=bm.Input=bm.Input||{};bp=bm.Hoverable=bm.Hoverable||{};bq=bm.Panel=bm.Panel||{};br=bm.TextArea=bm.TextArea||{};bs=bm.CodeMirrorPos=bm.CodeMirrorPos||{};bt=bm.CodeMirrorEditor=bm.CodeMirrorEditor||{};bu=bm.CodeMirror=bm.CodeMirror||{};bv=bm.Hint=bm.Hint||{};bw=bm.HintResponse=bm.HintResponse||{};bx=bm.HintOptions=bm.HintOptions||{};by=bm.LintResponse=bm.LintResponse||{};bz=bm.SplitterBar=bm.SplitterBar||{};bA=bm.SectionType=bm.SectionType||{};bB=bm.Grid=bm.Grid||{};bC=bm.TabStrip=bm.TabStrip||{};bD=bm.MenuEntry=bm.MenuEntry||{};bE=bm.MenuNode=bm.MenuNode||{};bF=bm.Menu=bm.Menu||{};bG=bm.Action=bm.Action||{};bH=bm.GuiPart=bm.GuiPart||{};bI=bm.HtmlNodeFable=bm.HtmlNodeFable||{};bJ=bm.LayoutDescriptionFable=bm.LayoutDescriptionFable||{};bK=bm.GuiPartSourceId=bm.GuiPartSourceId||{};bL=bm.Layout=bm.Layout||{};bM=b.RunCode=b.RunCode||{};bN=bM.RunNode=bM.RunNode||{};bO=b.FSharpStation=b.FSharpStation||{};bP=bO.FsGlobal=bO.FsGlobal||{};bQ=bP.Position=bP.Position||{};bR=bP.ErrCompiler=bP.ErrCompiler||{};bS=bP.KeyMapAutoComplete=bP.KeyMapAutoComplete||{};bT=h&&h.UI;bU=bT&&bT.Var;bV=bP.Property=bP.Property||{};bW=bP.PropValue=bP.PropValue||{};bX=bP.CodeSnippet=bP.CodeSnippet||{};bY=bO.FableModule=bO.FableModule||{};bZ=bY.Babel=bY.Babel||{};b0=bY.Fable=bY.Fable||{};b1=a.StartupCode$FSharpStation$FSharpStation=a.StartupCode$FSharpStation$FSharpStation||{};b2=a.FSharpStation_JsonDecoder=a.FSharpStation_JsonDecoder||{};b3=a.FSharpStation_JsonEncoder=a.FSharpStation_JsonEncoder||{};b4=a.FSharpStation_GeneratedPrintf=a.FSharpStation_GeneratedPrintf||{};b5=a.GeneratedPrintf=a.GeneratedPrintf||{};b6=h&&h.Concurrency;b7=h&&h.Seq;b8=h&&h.Unchecked;b9=h&&h.Strings;b_=a.IntelliFactory;b$=b_&&b_.Runtime;ca=h&&h.Utils;cb=h&&h.Enumerator;cc=h&&h.Arrays;cd=a.console;ce=h&&h.Control;cf=ce&&ce.MailboxProcessor;cg=h&&h.Collections;ch=cg&&cg.Dictionary;ci=h&&h.CancellationTokenSource;cj=a.System;ck=cj&&cj.Guid;cl=h&&h.List;cm=h&&h.Option;cn=a.JSON;co=h&&h.TimeoutException;cp=h&&h.ClientSideJson;cq=cp&&cp.Provider;cr=h&&h.Owin;cs=cr&&cr.WebSocket;ct=cs&&cs.Client;cu=ct&&ct.WithEncoding;cv=cs&&cs.Endpoint;cw=a.location;cx=cg&&cg.Map;cy=cg&&cg.FSharpMap;cz=h&&h.Remoting;cA=cz&&cz.AjaxRemotingProvider;cB=h&&h.Slice;cC=bT&&bT.View;cD=bT&&bT.Doc;cE=h&&h.Operators;cF=bT&&bT.AttrModule;cG=bT&&bT.AttrProxy;cH=bT&&bT.Input;cI=cH&&cH.Mouse;cJ=cg&&cg.FSharpSet;cK=cg&&cg.BalancedTree;cL=h&&h.MatchFailureException;cM=a.Object;cN=a.Fable;cO=a.Babel;cP=cg&&cg.HashSet;cQ=h&&h.JavaScript;cR=cQ&&cQ.JSModule;cS=h&&h.Lazy;cT=a.jQuery;cU=a.Date;cV=bT&&bT.ListModel;d.sleepThen=function(cW,cX){var cY;cY=null;return b6.Delay(function(){return b6.Bind(b6.Sleep(cX),function(){cW();return b6.Zero();});});};d.bind=function(cW,cX){return b6.Bind(cX,cW);};d.apply=function(cW,cX){var cY;cY=null;return b6.Delay(function(){return b6.Bind(b6.StartChild(cW,null),function(cZ){return b6.Bind(b6.StartChild(cX,null),function(c0){return b6.Bind(cZ,function(c1){return b6.Bind(c0,function(c2){return b6.Return(c1(c2));});});});});});};d.retn=function(cW){return b6.Return(cW);};d.iter=function(cW,cX){var cY;cY=null;return b6.Delay(function(){return b6.Bind(cX,function(cZ){cW(cZ);return b6.Zero();});});};d.map=function(cW,cX){var cY;cY=null;return b6.Delay(function(){return b6.Bind(cX,function(cZ){return b6.Return(cW(cZ));});});};e.tryGetValue=function(cW,cX){return b7.tryPick(function(cY){return b8.Equals(cY.K,cW)?{$:1,$0:cY.V}:null;},cX);};f.append=function(cW,cX){return cW+cX;};f.trim=function(cW){return b9.Trim(cW);};f.splitByChar=function(cW,cX){return b9.SplitChars(cX,[cW],0);};g.modify=function(cW){var cX;function cY(cZ){return cZ==null?null:{$:1,$0:cW(cZ.$0)};}cX=function(cZ){return g.defaultValue(a.id,cZ);};return function(cZ){return cX(cY(cZ));};};g.apply=function(cW,cX){var cY;return cW!=null&&cW.$==1&&(cX!=null&&cX.$==1&&(cY=[cX.$0,cW.$0],true))?{$:1,$0:cY[0](cY[1])}:null;};g.iterFO=function(cW,cX){if(cW!=null&&cW.$==1)if(cX!=null&&cX.$==1)cX.$0(cW.$0);};g.iterF=function(cW,cX){if(cX!=null&&cX.$==1)cX.$0(cW);};g.call=function(cW,cX){return cX!=null&&cX.$==1?{$:1,$0:cX.$0(cW)}:null;};g.defaultWith=function(cW,cX){return cX==null?cW():cX.$0;};g.defaultValue=function(cW,cX){return cX==null?cW:cX.$0;};j=c.ExceptionThrown=b$.Class({toString:function(){return this.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return false;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return(function(cW){return function(cX){return cW(ca.prettyPrint(cX));};}(a.id))(this.exn);}},i,j);j.New=b$.Ctor(function(cW){this.exn=cW;},j);k=c.ErrOptionIsNone=b$.Class({toString:function(){return this.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return false;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return"Option is None";}},i,k);k.New=b$.Ctor(function(){},k);l=c.ErrSimple=b$.Class({toString:function(){return this.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return this.warning;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return this.msg;}},i,l);l.New=b$.Ctor(function(cW,cX){this.msg=cW;this.warning=cX;},l);n=m.ropBuilder=b$.Class({For:function(cW,cX){var cY;cY=this;return this.Using(cb.Get(cW),function(cZ){return cY.While(function(){return cZ.MoveNext();},cY.Delay(function(){return cX(cZ.Current());}));});},Using:function(cW,cX){return this.TryFinally(function(){return cX(cW);},function(){if(!b8.Equals(cW,null))cW.Dispose();});},TryFinally:function(cW,cX){try{return this.ReturnFrom(cW());}finally{cX();}},TryWith:function(cW,cX){try{return this.ReturnFrom(cW());}catch(cY){return cX(cY);}},While:function(cW,cX){var cY;cY=this;return!cW()?this.Zero():this.Bind(cX(),function(){return cY.While(cW,cX);});},Run:function(cW){return cW();},Combine:function(cW,cX){return m.combine(cW,cX);},Delay:a.id,Zero:function(){return m.succeed();},Bind:function(cW,cX){return m.bind(function(cY){return m.tryCall(cX,cY);},cW);},ReturnFrom:a.id,Return:function(cW){return m.succeed(cW);}},i,n);n.New=b$.Ctor(function(){},n);m.toResultS=function(cW){return{$:0,$0:cW.$0,$1:cc.map(function(cX){return new l.New(cX.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),cX.FSSGlobal_Useful_ErrMsg$get_IsWarning());},cW.$1)};};m.fromResultS=function(cW){return{$:0,$0:cW.$0,$1:cc.map(a.id,cW.$1)};};m.result2String=function(cW){return b9.concat("\n",[g.defaultValue("Failed: ",cW.$0)].concat(m.msgs2String(cW.$1)));};m.countMessages=function(cW){var cX,cY,cZ,c0,c1,c2,c3;if(b8.Equals(cW,[]))return"";else{c0=cc.filter(function(c4){return!c4.FSSGlobal_Useful_ErrMsg$get_IsWarning();},cW);c1=cc.filter(function(c4){return c4.FSSGlobal_Useful_ErrMsg$get_IsWarning();},cW);c2=cc.length(c0);c3=cc.length(c1);switch(c2===0?c3===0?0:c3===1?2:5:c2===1?c3===0?1:c3===1?3:(cX=[c2,c3],6):c3===0?4:(cX=[c2,c3],6)){case 0:cZ=function(c4){return function(c5){return c4(ca.toSafe(c5));};}(a.id);break;case 1:cZ=function(c4){return function(c5){return c4(ca.toSafe(c5));};}(a.id);break;case 2:cZ=function(c4){return function(c5){return c4(ca.toSafe(c5));};}(a.id);break;case 3:cZ=function(c4){return function(c5){return c4("1 error, 1 warning\n"+ca.toSafe(c5));};}(a.id);break;case 4:cZ=((b$.Curried3(function(c4,c5,c6){return c4(a.String(c5)+" errors\n"+ca.toSafe(c6));}))(a.id))(c2);break;case 5:cZ=((b$.Curried3(function(c4,c5,c6){return c4(a.String(c5)+" warnings\n"+ca.toSafe(c6));}))(a.id))(c3);break;case 6:cZ=(((b$.Curried(function(c4,c5,c6,c7){return c4(a.String(c5)+" errors, "+a.String(c6)+" warnings\n"+ca.toSafe(c7));},4))(a.id))(cX[0]))(cX[1]);break;}return cZ(m.getMessages(cW));}};m.getMessages=function(cW){return b9.concat("\n",m.msgs2String(cW));};m.msgs2String=function(cW){return cc.map(function(cX){return cX.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},cW);};m.seqCheck=function(cW){return b7.exists(function(cX){return m.Success(cX).$==1;},cW)?m.failWithMsgs(b7.pick(function(cX){var cY;cY=m.Success(cX);return cY.$==1?{$:1,$0:cY.$0}:null;},cW)):m.succeed(b7.map(function(cX){return cX.$0.$0;},cW));};m.withError=function(cW,cX){var cY;cY=cX.$1;return g.defaultWith(function(){return cW(cY);},cX.$0);};m.ifError=function(cW,cX){return g.defaultValue(cW,cX.$0);};m.failIfTrue=function(cW,cX){return cX?m.fail(cW):m.succeed();};m.failIfFalse=function(cW,cX){return cX?m.succeed():m.fail(cW);};m.tryProtection=function(){return m.succeed();};m.toOptionMs=function(cW){return[cW.$0,cW.$1];};m.toOption=function(cW){return cW.$0;};m.fromOption=function(cW,cX){return cX!=null&&cX.$==1?m.succeed(cX.$0):m.fail(cW);};m.fromChoice=function(cW){return cW.$==1?m.fail(cW.$0):m.succeed(cW.$0);};m.result=function(){b1.$cctor();return b1.result;};m.tryCall=function(cW,cX){try{return cW(cX);}catch(cY){return m.fail(m.failException(cY));}};m.failException=function(cW){return new j.New(cW);};m.Success=function(cW){return cW.$0==null?{$:1,$0:cW.$1}:{$:0,$0:[cW.$0.$0,cW.$1]};};m.failSimpleWarning=function(cW){return m.fail(new l.New(cW,true));};m.failSimpleError=function(cW){return m.fail(new l.New(cW,false));};m.apply=function(cW,cX){var cY,cZ,c0,c1,c2;cY=cW.$1;cZ=cX.$1;c0=cW.$0;c1=cX.$0;return c0!=null&&c0.$==1&&(c1!=null&&c1.$==1&&(c2=[c0.$0,c1.$0],true))?{$:0,$0:{$:1,$0:c2[0](c2[1])},$1:cY.concat(cZ)}:{$:0,$0:null,$1:cY.concat(cZ)};};m.bind=function(cW,cX){var cY,cZ,c0;cY=cX.$0;cZ=cX.$1;return cY==null?{$:0,$0:null,$1:cZ}:(c0=cW(cY.$0),{$:0,$0:c0.$0,$1:cZ.concat(c0.$1)});};m.combine=function(cW,cX){var cY;cY=cW.$1;return g.defaultValue({$:0,$0:null,$1:cY},cW.$0==null?null:{$:1,$0:m.mergeMsgs(cY,cX())});};m.mergeMsgs=function(cW,cX){var cY;cY=m.mapMsgs(function(cZ){return cW.concat(cZ);},cX);return{$:0,$0:cY[0],$1:cY[1]};};m.getMsgs=function(cW){return cW.$1;};m.getOption=function(cW){return cW.$0;};m.mapMsgs=function(cW,cX){return[cX.$0,cW(cX.$1)];};m.mapMsg=function(cW,cX){return[cX.$0,cc.map(cW,cX.$1)];};m.mapErr=function(cW,cX){return{$:0,$0:cX.$0,$1:cc.map(cW,cX.$1)};};m.map=function(cW,cX){var cY;return{$:0,$0:(cY=cX.$0,cY==null?null:{$:1,$0:cW(cY.$0)}),$1:cX.$1};};m.failWithMsgs=function(cW){return{$:0,$0:null,$1:cW};};m.fail=function(cW){return{$:0,$0:null,$1:[cW]};};m.succeedWithMsgs=function(cW,cX){return{$:0,$0:{$:1,$0:cW},$1:cX};};m.succeedWithMsg=function(cW,cX){return{$:0,$0:{$:1,$0:cW},$1:[cX]};};m.succeed=function(cW){return{$:0,$0:{$:1,$0:cW},$1:[]};};o.toResult=function(){b1.$cctor();return b1.toResult;};o.fromResult=function(){b1.$cctor();return b1.fromResult;};p.StartAsTask=function(cW,cX,cY){return b6.StartAsTask(p.getAsyncR(cW),cY);};p.Start=function(cW,cX){b6.Start(p.getAsync(cW),cX);};q=p.Builder=b$.Class({For:function(cW,cX){var cY;cY=this;return this.Using(cb.Get(cW),function(cZ){return cY.While(function(){return cZ.MoveNext();},cY.Delay(function(){return cX(cZ.Current());}));});},Using:function(cW,cX){return this.TryFinally(function(){return cX(cW);},function(){if(!b8.Equals(cW,null))cW.Dispose();});},TryFinally:function(cW,cX){var cY;return{$:2,$0:(cY=null,b6.Delay(function(){return b6.Bind(b6.Catch(p.toAsyncResult(cW())),function(cZ){var c0,c1;cX();if(cZ.$==1)throw cZ.$0;else c1=cZ.$0;return b6.Return(c1);});}))};},TryWith:function(cW,cX){var cY;return{$:2,$0:(cY=null,b6.Delay(function(){return b6.Bind(b6.Catch(p.toAsyncResult(cW())),function(cZ){return b6.Return(cZ.$==1?cX(cZ.$0):cZ.$0);});}))};},While:function(cW,cX){return p.whileLoop(cW,cX);},Combine:function(cW,cX){return p.combine(p.errOptionIsNone(),cW,cX);},Run:function(cW){return cW();},Delay:a.id,ReturnFrom:a.id,Return:function(cW){return{$:3,$0:cW};},Zero:function(){return{$:3,$0:null};},Bind:function(cW,cX){return p.bind(cX,{$:4,$0:cW});},Bind$1:function(cW,cX){return p.bind(cX,{$:0,$0:cW});},Bind$2:function(cW,cX){return p.bind(cX,{$:1,$0:cW});},Bind$3:function(cW,cX){return p.bind(cX,cW);}},i,q);q.New=b$.Ctor(function(){},q);p.runSynchronouslyS=function(cW,cX){var cY;cY=p.runSynchronouslyO(cW,cX);return cY[0]==null?(function(cZ){return function(c0){return cZ("Failed!\n"+ca.toSafe(c0));};}(a.id))(cY[1]):(((b$.Curried3(function(cZ,c0,c1){return cZ(a.String(c0)+"\n"+ca.toSafe(c1));}))(a.id))(cY[0].$0))(cY[1]);};p.runSynchronouslyO=function(cW,cX){return m.mapMsgs(cW?m.countMessages:m.getMessages,cd.log("runSynchronously should not be used in Javascript"));};p.getResult=function(cW,cX){if(cX.$==4){if(cX.$0==null)cW(m.fail(p.errOptionIsNone()));else cW(m.succeed(cX.$0.$0));}else if(cX.$==0)cW(cX.$0);else if(cX.$==1)b6.StartWithContinuations(cX.$0,function(cY){cW(m.succeed(cY));},function(cY){cW(m.fail(m.failException(cY)));},function(cY){cW(m.fail(m.failException(cY)));},null);else if(cX.$==2)b6.StartWithContinuations(cX.$0,cW,function(cY){cW(m.fail(m.failException(cY)));},function(cY){cW(m.fail(m.failException(cY)));},null);else cW(m.succeed(cX.$0));};p.wrapper=function(){b1.$cctor();return b1.wrapper;};p.wrap=function(){b1.$cctor();return b1.wrap;};p.whileLoop=function(cW,cX){return cW()?p.bind(function(){return p.whileLoop(cW,cX);},cX()):{$:3,$0:null};};p.combine=function(cW,cX,cY){var cZ,c0,c1,c2;switch(cX.$==4?cX.$0==null?4:0:cX.$==0?cX.$0.$0==null?(cZ=cX.$0.$1,5):(c0=cX.$0.$1,!b8.Equals(c0,null)&&c0.length===0?0:(cZ=cX.$0.$1,1)):cX.$==1?(cZ=cX.$0,2):cX.$==2?(cZ=cX.$0,3):0){case 0:return cY();break;case 1:return p.addMsgs(cW,cZ,cY());break;case 2:return{$:2,$0:(c1=null,b6.Delay(function(){return b6.Bind(cZ,function(){return b6.Bind(p.toAsyncResult(cY()),function(c3){return b6.Return(c3);});});}))};break;case 3:return{$:2,$0:(c2=null,b6.Delay(function(){return b6.Bind(cZ,function(c3){var c4,c5;c4=m.Success(c3);return c4.$==0?(c5=c4.$0[1],b6.Bind(p.toAsyncResult(cY()),function(c6){return b6.Return(m.mergeMsgs(c5,c6));})):b6.Return(m.failWithMsgs(c4.$0));});}))};break;case 4:return{$:4,$0:null};break;case 5:return{$:0,$0:m.failWithMsgs(cZ)};break;}};p.addMsgs=function(cW,cX,cY){var cZ,c0,c1;if(b8.Equals(cX,[]))return cY;else switch(cY.$==4?cY.$0==null?1:(cZ=cY.$0.$0,0):cY.$==0?(cZ=cY.$0,2):cY.$==1?(cZ=cY.$0,3):cY.$==2?(cZ=cY.$0,4):(cZ=cY.$0,0)){case 0:return{$:0,$0:m.succeedWithMsgs(cZ,cX)};break;case 1:return{$:0,$0:m.mergeMsgs(cX,m.fail(cW))};break;case 2:return{$:0,$0:m.mergeMsgs(cX,cZ)};break;case 3:return{$:2,$0:(c0=null,b6.Delay(function(){return b6.Bind(cZ,function(c2){return b6.Return(m.succeedWithMsgs(c2,cX));});}))};break;case 4:return{$:2,$0:(c1=null,b6.Delay(function(){return b6.Bind(cZ,function(c2){return b6.Return(m.mergeMsgs(cX,c2));});}))};break;}};p.wrapper2Async=function(cW,cX){var cY,cZ,c0,c1;cZ=p.tryCall(cW,cX);switch(cZ.$==4?0:cZ.$==0?1:cZ.$==1?2:cZ.$==2?3:0){case 0:return p.wb2arb([],cZ);break;case 1:return p.wb2arb(cZ.$0.$1,cZ);break;case 2:c0=cZ.$0;c1=null;return b6.Delay(function(){return b6.Bind(c0,function(c2){return b6.Return(m.succeed(c2));});});break;case 3:return cZ.$0;break;}};p.start=function(cW,cX){p.startV(function(cY){if(cY[0]==null)cW("Failed!\n"+cY[1]);else cW(cY[1]);},cX);};p.startV=function(cW,cX){var cY,cZ,c0,c1;function c2(c5){return m.mapMsgs(m.getMessages,c5);}function c3(c5){return[null,c5];}function c4(c5){return[null,c5];}b6.StartWithContinuations(p.getAsyncR(cX),function(c5){return cW(c2(c5));},(cY=(cZ=function(c5){return function(c6){return c5(a.String(c6));};}(a.id),function(c5){return c3(cZ(c5));}),function(c5){return cW(cY(c5));}),(c0=(c1=function(c5){return function(c6){return c5(a.String(c6));};}(a.id),function(c5){return c4(c1(c5));}),function(c5){return cW(c0(c5));}),null);};p.toAsyncWithDefault=function(cW){return function(cX){return p.getAsyncWithDefault(cW,cX);};};p.toAsyncOptionMs=function(cW){return d.map(m.toOptionMs,p.getAsyncR(cW));};p.toAsyncOption=function(cW){return d.map(m.toOption,p.getAsyncR(cW));};p.toAsyncResult=function(cW){return p.getAsyncR(cW);};p.toAsync=function(cW){return p.getAsync(cW);};p.getAsync=function(cW){return p.getAsyncWithDefault(function(cX){throw a.Error(m.getMessages(cX));},cW);};p.getAsyncWithDefault=function(cW,cX){return d.map(function(cY){return m.withError(cW,cY);},p.getAsyncR(cX));};p.getAsyncR=function(cW){var cX,cY;return cW.$==3?b6.Return(m.succeed(cW.$0)):cW.$==4?b6.Return(m.fromOption(p.errOptionIsNone(),cW.$0)):cW.$==0?b6.Return(cW.$0):cW.$==2?cW.$0:(cX=cW.$0,(cY=null,b6.Delay(function(){return b6.Bind(cX,function(cZ){return b6.Return(m.succeed(cZ));});})));};p.map=function(cW){var cX;cX=function(cY){return p.Return(cW(cY));};return function(cY){return p.bind(cX,cY);};};p.Return=function(cW){return{$:3,$0:cW};};p.bind=function(cW,cX){var cY,cZ,c0,c1,c2,c3;switch(cX.$==4?cX.$0==null?1:(cY=cX.$0.$0,0):cX.$==0?(cZ=m.Success(cX.$0),cZ.$==1?(cY=cZ.$0,2):(c0=cZ.$0[1],!b8.Equals(c0,null)&&c0.length===0?(cY=cZ.$0[0],0):(cY=[cZ.$0[0],cZ.$0[1]],3))):cX.$==1?(cY=cX.$0,4):cX.$==2?(cY=cX.$0,5):(cY=cX.$0,0)){case 0:return p.tryCall(cW,cY);break;case 1:return{$:4,$0:null};break;case 2:return{$:0,$0:m.failWithMsgs(cY)};break;case 3:c1=cY[1];return function(c4){var c5,c6,c7,c8,c9;switch(c4.$==4?c4.$0==null?1:(c5=c4.$0.$0,0):c4.$==0?(c6=m.Success(c4.$0),c6.$==1?(c5=c6.$0,4):(c7=c6.$0[1],!b8.Equals(c7,null)&&c7.length===0?(c5=c6.$0[0],2):(c5=[c6.$0[0],c6.$0[1]],3))):c4.$==1?(c5=c4.$0,5):c4.$==2?(c5=c4.$0,6):(c5=c4.$0,0)){case 0:return{$:0,$0:m.succeedWithMsgs(c5,c1)};break;case 1:return{$:0,$0:m.failWithMsgs(c1.concat([p.errOptionIsNone()]))};break;case 2:return{$:0,$0:m.succeedWithMsgs(c5,c1)};break;case 3:return{$:0,$0:m.succeedWithMsgs(c5[0],c1.concat(c5[1]))};break;case 4:return{$:0,$0:m.failWithMsgs(c1.concat(c5))};break;case 5:return{$:2,$0:(c8=null,b6.Delay(function(){return b6.Bind(c5,function(c_){return b6.Return(m.succeedWithMsgs(c_,c1));});}))};break;case 6:return{$:2,$0:(c9=null,b6.Delay(function(){return b6.Bind(c5,function(c_){return b6.Return(m.mergeMsgs(c1,c_));});}))};break;}}(p.tryCall(cW,cY[0]));break;case 4:return{$:2,$0:(c2=null,b6.Delay(function(){return b6.Bind(cY,function(c4){return p.wb2arb([],p.tryCall(cW,c4));});}))};break;case 5:return{$:2,$0:(c3=null,b6.Delay(function(){return b6.Bind(cY,function(c4){var c5,c6,c7;c5=m.Success(c4);return c5.$==1?(c6=c5.$0,c7=null,b6.Delay(function(){return b6.Return(m.failWithMsgs(c6));})):p.wb2arb(c5.$0[1],p.tryCall(cW,c5.$0[0]));});}))};break;}};p.tryCall=function(cW,cX){try{return cW(cX);}catch(cY){return{$:0,$0:m.fail(m.failException(cY))};}};p.wb2arb=function(cW,cX){var cY,cZ,c0,c1,c2,c3;switch(cX.$==2?(cY=cX.$0,1):cX.$==0?(cY=cX.$0,2):cX.$==3?(cY=cX.$0,3):cX.$==4?cX.$0==null?4:(cY=cX.$0.$0,3):(cY=cX.$0,0)){case 0:cZ=null;return b6.Delay(function(){return b6.Bind(cY,function(c4){return b6.Return(m.succeedWithMsgs(c4,cW));});});break;case 1:c0=null;return b6.Delay(function(){return b6.Bind(cY,function(c4){return b6.Return(m.mergeMsgs(cW,c4));});});break;case 2:c1=null;return b6.Delay(function(){return b6.Return(m.mergeMsgs(cW,cY));});break;case 3:c2=null;return b6.Delay(function(){return b6.Return(m.succeedWithMsgs(cY,cW));});break;case 4:c3=null;return b6.Delay(function(){return b6.Return(m.failWithMsgs(cW.concat([p.errOptionIsNone()])));});break;}};p.errOptionIsNone=function(){b1.$cctor();return b1.errOptionIsNone;};r.fold=function(cW,cX){return cf.Start(function(cY){function cZ(c0){var c1;c1=null;return b6.Delay(function(){return b6.TryWith(b6.Delay(function(){return b6.Bind(cY.Receive(null),function(c2){return b6.Bind(cW(c0,c2),function(c3){return cZ(c3);});});}),function(c2){((function(c3){return function(c4){return c3(ca.prettyPrint(c4));};}(function(c3){cd.log(c3);}))(c2));return cZ(c0);});});}return cZ(cX);},null);};r.call=function(cW){return r.iter(function(cX){var cY,cZ,c0;cY=cX[0];cZ=cX[1];c0=null;return b6.Delay(function(){return b6.Bind(cW(cZ),function(c1){cY(c1);return b6.Zero();});});});};r.iter=function(cW){return cf.Start(function(cX){var cY;cY=null;return b6.Delay(function(){return b6.While(function(){return true;},b6.Delay(function(){return b6.TryWith(b6.Delay(function(){return b6.Bind(cX.Receive(null),function(cZ){return b6.Bind(cW(cZ),function(){return b6.Return(null);});});}),function(cZ){((function(c0){return function(c1){return c0(ca.prettyPrint(c1));};}(function(c0){cd.log(c0);}))(cZ));return b6.Zero();});}));});},null);};s.add=function(cW,cX,cY){if(cY.ContainsKey(cW))cY.set_Item(cW,cX);else cY.Add(cW,cX);};t=c.ResetableMemoize=b$.Class({ClearCache:function(){this.cache.Clear();}},i,t);t.New=b$.Ctor(function(cW){this.f=cW;this.cache=new ch.New$5();},t);u.NoPrepo={$:11};u.PrepoEndIf={$:8};u.PrepoElse={$:7};c.asyncStartCancelling=function(){var cW;cW=null;return function(cX){var cY;cW==null?void 0:cW.$0.Cancel$1();cY=new ci.New();b6.Start(cX,{$:1,$0:cY});cW={$:1,$0:cY};};};c.separateDirectives=function(cW){var cX,cY,cZ,c0;function c1(c9){return c9[1];}function c2(c9){return c9.$==0?{$:1,$0:c9.$0}:null;}function c3(c9){return c9[1];}function c4(c9){return c9.$==1?{$:1,$0:c9.$0}:null;}function c5(c9){return c9[1];}function c6(c9){return c9.$==5?{$:1,$0:c9.$0}:null;}function c7(c9){return c9[1];}function c8(c9){return c9.$==4?{$:1,$0:c9.$0}:null;}cX=cc.ofSeq(b7.distinct(b7.choose(function(c9){return c2(c1(c9));},cW)));cY=cc.ofSeq(b7.distinct(b7.choose(function(c9){return c4(c3(c9));},cW)));cZ=cc.ofSeq(b7.distinct(b7.choose(function(c9){return c6(c5(c9));},cW)));c0=cc.ofSeq(b7.distinct(b7.choose(function(c9){return c8(c7(c9));},cW)));return[cc.ofSeq(b7.map(function(c9){return c9[0];},cW)),cX,cY,cZ,c0];};c.separatePrepros=function(cW,cX){var cY;function cZ(c2){return g.defaultValue(c2,b7.tryLast(b9.SplitStrings(b9.Trim(c2),["\""],1)));}function c0(c2){return g.defaultValue("",b7.tryHead(b9.SplitStrings(b9.Trim(c2),["#define "],1)));}function c1(c2){return"//"+c2;}cY=cW?c1:a.id;return cc.map(function(c2){var c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd;c3=true;return c3&&b9.StartsWith(c2,"#define")?[c1(c2),{$:1,$0:c0(c2)}]:c3&&b9.StartsWith(c2,"#r")?[c1(c2),{$:0,$0:cZ(c2)}]:c3&&b9.StartsWith(c2,"#load")?[c1(c2),{$:2,$0:cZ(c2)}]:c3&&b9.StartsWith(c2,"#nowarn")?[c1(c2),{$:4,$0:cZ(c2)}]:c3&&b9.StartsWith(c2,"# ")?[cY(c2),{$:3,$0:cZ(c2)}]:c3&&b9.StartsWith(c2,"#line")?[cY(c2),{$:3,$0:cZ(c2)}]:c3&&b9.StartsWith(c2,"#I")?[c1(c2),{$:5,$0:cZ(c2)}]:c3&&b9.StartsWith(c2,"#if")?[c2,{$:6,$0:c2}]:c3&&b9.StartsWith(c2,"#else")?[c2,u.PrepoElse]:c3&&b9.StartsWith(c2,"#endif")?[c2,u.PrepoEndIf]:c3&&b9.StartsWith(c2,"#light")?[c2,{$:9,$0:false}]:c3&&b9.StartsWith(c2,"#")?[c1(c2),{$:10,$0:c2}]:[c2,u.NoPrepo];},cX);};c.mapPrint=function(cW){c.print(cW);return cW;};c.print=function(cW){((function(cX){return function(cY){return cX(ca.prettyPrint(cY));};}(function(cX){cd.log(cX);}))(cW));};c.printoutfn=function(cW,cX){return cX(function(cY){return cW(cY+"\n");});};c.dprintfn=function(cW){return cW(a.ignore);};c.__=function(cW,cX,cY){return cW(cY,cX);};c.swap=function(cW,cX,cY){return cW(cY,cX);};c.rexGuid=function(){b1.$cctor();return b1.rexGuid;};c.REGEX=function(cW,cX,cY){var cZ;if(cY===null)return null;else try{cZ=(new a.String(cY)).match(new a.RegExp(cW,cX));return b8.Equals(cZ,null)?null:!b8.Equals(cZ,null)&&cZ.length===0?null:{$:1,$0:cZ};}catch(c0){return null;}};c.extract=function(cW,cX){var cY;return b9.Substring(cX,0,(cY=cX.length,b8.Compare(cW,cY)===-1?cW:cY));};w=v.CodeSnippetId=b$.Class({get_Text:function(){return a.String(this.$0);}},null,w);w.get_New=function(){return new w({$:0,$0:ck.NewGuid()});};x=v.CodeSnippet=b$.Class({SeparateCode:function(cW){var cX,cY,cZ,c0,c1,c2;function c3(c4,c5){return[b9.replicate(cY," ")+c4,c5];}cX=!cW||this.properties.ContainsKey("NoLinePre");cY=this.levelCode*2;cZ=cY===0?[a.id,""]:[function(c4){return cc.map(function(c5){return c3(c5[0],c5[1]);},c4);},(function(c4){return function(c5){return c4("("+a.String(c5)+")");};}(a.id))(cY)];c0=c.separateDirectives(cZ[0](c.separatePrepros(!cW,(cX?a.id:(c1=[(((b$.Curried3(function(c4,c5,c6){return c4("# 1 @\""+ca.toSafe(c5)+ca.toSafe(c6)+"\"");}))(a.id))(cZ[1]))(this.get_NameSanitized())],function(c4){return c1.concat(c4);}))(b9.SplitChars(this.content,["\n"],0)))));c2=c0[0];return[[[this.get_NameSanitized(),cc.length(c2),cY]],c2,c0[1],c0[2],c0[3],c0[4]];},UniquePredecessors:function(cW){return v.predsL(cW,cl.ofArray([this.id]));},get_NameSanitized:function(){return this.id.get_Text()+" "+v.sanitize(this.get_Name())+".fsx";},get_Name:function(){return v.snippetName(this.name,this.content);}},null,x);x.CodeFsx=function(cW,cX){return(x.CodeAndStarts(cW,cX))[0];};x.CodeAndStarts=function(cW,cX){var cY;cY=x.ReducedCode(cW,cX);return x.FinishCode(cW,cY[0],cY[1],cY[2],cY[3],cY[4],cY[5]);};x.FinishCode=function(cW,cX,cY,cZ,c0,c1,c2){var c3,c4;c3=b9.concat(" ",b7.map(function(c5){return"-d:"+c5;},b7.sort(c0)));c4=cl.ofSeq(b7.delay(function(){return b7.append(c3!==""?["////"+c3]:[],b7.delay(function(){return b7.append(b7.map(function(c5){return function(c6){return c5("#I @\""+ca.toSafe(c6)+"\"");};}(a.id),c1),b7.delay(function(){return b7.append(b7.map(function(c5){return function(c6){return c5("#r @\""+ca.toSafe(c6)+"\"");};}(a.id),cZ),b7.delay(function(){return b7.append(cW&&!b7.isEmpty(c2)?["# 1 \"required for nowarns to work\""]:[],b7.delay(function(){return b7.map(function(c5){return function(c6){return c5("#nowarn \""+ca.toSafe(c6)+"\"");};}(a.id),c2);}));}));}));}));}));return[b9.concat("\n",b7.append(c4,cY)),cc.ofSeq((b7.mapFold(function(c5,c6){var c7;c7=c6[1];return[[c6[0],[c6[2],c5,c5+c7]],c5+c7];},c4.get_Length(),cX))[0])];};x.ReducedCode=function(cW,cX){var cY,cZ;function c0(c1,c2,c3,c4,c5,c6){return function(c7){return x.AddSeps(c1,c2,c3,c4,c5,c6,c7[0],c7[1],c7[2],c7[3],c7[4],c7[5]);};}cY=b7.reduce(function(c1,c2){return(function(c3){return c0(c3[0],c3[1],c3[2],c3[3],c3[4],c3[5]);}(c1))(c2);},(cZ=b7.map(function(c1){return c1.SeparateCode(cW);},cX),b7.isEmpty(cZ)?[[[],[],[],[],[],[]]]:cZ));return[cY[0],[b9.concat("\n",cY[1])],cY[2],cY[3],cY[4],cY[5]];};x.AddSeps=function(cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7){return[cW.concat(c2),cX.concat(c3),cc.ofSeq(b7.distinct(b7.append(cY,c4))),cc.ofSeq(b7.distinct(b7.append(cZ,c5))),cc.ofSeq(b7.distinct(b7.append(c0,c6))),cc.ofSeq(b7.distinct(b7.append(c1,c7)))];};x.TryFindByKey=function(cW,cX){return b7.tryFind(function(cY){return b8.Equals(cY.id,cX);},cW);};x.New=function(cW,cX,cY,cZ,c0,c1,c2,c3,c4){return new x({name:cW,content:cX,parent:cY,predecessors:cZ,id:c0,expanded:c1,level:c2,levelCode:c3,properties:c4});};y.GetWholeFile={$:11};y.GetIdentification={$:0};z.FSInfor={$:2};z.FSWarning={$:1};z.FSError={$:0};v.predsL=function(cW,cX){var cY,cZ;cY=cX;cZ=cl.T.Empty;while(!(cY.$==0))(function(){var c0,c1;return cY.$==1?(c0=cY.$1,(c1=cY.$0,b7.contains(c1,cZ)?void(cY=c0):(cY=cl.collect(a.id,cl.ofArray([c0,cl.collect(function(c2){return cl.append(cm.toList(c2.parent),c2.predecessors);},cm.toList(cW(c1)))])),void(cZ=new cl.T({$:1,$0:c1,$1:cZ}))))):null;}());return cZ;};v.preds=function(cW,cX,cY){var cZ,c0;return cY.$==1?(cZ=cY.$0,(c0=cl.collect(a.id,cl.ofArray([cY.$1,cl.collect(function(c1){return cl.append(cm.toList(c1.parent),c1.predecessors);},cm.toList(cW(cZ)))])),v.preds(cW,b7.contains(cZ,cX)?cX:new cl.T({$:1,$0:cZ,$1:cX}),c0))):cX;};v.sanitize=function(cW){var cX;cX=["\"","<",">","|","\u0000","\u0001","\u0002","\u0003","\u0004","\u0005","\u0006","\u0007","\u0008","\u0009","\n","\u000b","\u000c","\r","\u000e","\u000f","\u0010","\u0011","\u0012","\u0013","\u0014","\u0015","\u0016","\u0017","\u0018","\u0019","\u001a","\u001b","\u001c","\u001d","\u001e","\u001f",":","*","?","\\","/"];return b9.Filter(function(cY){return!cc.contains(cY,cX);},cW);};v.snippetName=function(cW,cX){return cW!==""?cW:g.defaultValue("<empty>",b7.tryHead(b7.filter(function(cY){return!(b9.StartsWith(cY,"#")||b9.StartsWith(cY,"[<")||b9.StartsWith(cY,"//"));},b7.map(b9.Trim,b9.SplitChars(cX,["\n"],1)))));};B=A.Address=b$.Class({get_txt:function(){return this.$0;}},null,B);C.BRGetConnections={$:0};D.MsgRequestForEcho={$:5};D.MsgRequestForId={$:4};D.MsgFromBroker={$:3};D.MsgReply={$:2};D.MsgRequest={$:1};D.MsgInformation={$:0};E.BMReceiverCantReply={$:4};E.BMOnlyBrokerShouldUse={$:1};E.BMOk={$:0};F.Receiver={$:2};F.Broker={$:1};F.NoReply={$:0};G.New=function(cW,cX,cY,cZ,c0,c1,c2){return{from:cW,destination:cX,msgType:cY,subtype:cZ,id:c0,payload:c1,replier:c2};};H.FSharp={$:0};I.FSStation={$:0};J.JScript={$:0};K=A.ErrBroker=b$.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return false;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return(function(cW){return function(cX){return cW(b4.p(cX));};}(a.id))(this.bm);}},i,K);K.New=b$.Ctor(function(cW){this.bm=cW;},K);L=A.WSMessagingClient=b$.Class({sendMsg:function(cW){var cX,cY;cX=this;cY=p.wrap();return cY.Run(cY.Delay(function(){return cW.replier.$===0?cY.Bind$3(cX.sendAndForget(cW),function(){return cY.Return("");}):cY.ReturnFrom(cX.sendGetReply(cW));}));},getListeners:function(){var cW,cX;cW=this;cX=p.wrap();return cX.Run(cX.Delay(function(){var cY,cZ;return cX.Bind$3(cW.sendGetReply((cY=A.MessageBrokerAddress(),(cZ=cn.stringify((b3.j$10())(C.BRGetConnections)),G.New(new B({$:0,$0:""}),cY,D.MsgRequest,"",ck.NewGuid(),cZ,F.NoReply)))),function(c0){return cX.Return((b2.j$10())(cn.parse(c0)).$0);});}));},sendGetReply:function(cW){var cX,cY;cX=this;cY=p.wrap();return cY.Run(cY.Delay(function(){return cY.Bind$3(cX.sendAndReply(F.Receiver,cW),function(cZ){var c0;return cY.Bind$1((c0=cZ.msgType,c0.$==2?m.succeed(cZ.payload):c0.$==3?m.fail(new K.New((b2.j$11())(cn.parse(cZ.payload)))):m.fail(new K.New({$:5,$0:cZ.msgType}))),function(c1){return cY.Return(c1);});});}));},sendAndVerify:function(cW){var cX,cY;cX=this;cY=p.wrap();return cY.Run(cY.Delay(function(){return cY.Bind$3(cX.sendAndReply(F.Broker,cW),function(cZ){var c0;return cY.Bind$1(cZ.msgType.$==3?(c0=(b2.j$11())(cn.parse(cZ.payload)),c0.$===0?m.succeed():m.fail(new K.New(c0))):m.fail(new K.New({$:5,$0:cZ.msgType})),function(){return cY.Return();});});}));},sendAndReply:function(cW,cX){var cY,cZ;cY=this;cZ=p.wrap();return cZ.Run(cZ.Delay(function(){return cZ.Bind$3(cY.getServer(),function(c0){return cZ.Bind$2(b6.FromContinuations(function(c1,c2,c3){var c4,c5;c4=cY.waiting;c4.mailbox.AddLast({$:0,$0:cX.id,$1:[c1,c2,c3]});c4.resume();cY.postR(c0,cW,cX);return cY.wsTimeout>0?b6.Start((c5=null,b6.Delay(function(){return b6.Bind(b6.Sleep(cY.wsTimeout),function(){var c6;c6=cY.waiting;c6.mailbox.AddLast({$:2,$0:cX.id,$1:function(){return new co.New$1((((b$.Curried3(function(c7,c8,c9){return c7("Did not receive reply in "+a.String(c8)+" seconds for Message: "+b5.p$23(c9));}))(a.id))(cY.wsTimeout/1000>>0))(cX));}});c6.resume();return b6.Zero();});})),null):null;}),function(c1){return cZ.Return(c1);});});}));},sendAndForget:function(cW){var cX,cY;cX=this;cY=p.wrap();return cY.Run(cY.Delay(function(){return cY.Bind$3(cX.getServer(),function(cZ){cX.postR(cZ,F.NoReply,cW);return cY.Zero();});}));},postR:function(cW,cX,cY){try{cW.FSSGlobal_WSMessagingBroker_IServer$Post(A.replier(cX,A.from(this.clientAddress,cY)));}catch(cZ){this.serverO=null;throw cZ;}},getServer:function(){var cW,cX;cW=this;cX=p.wrap();return cX.Run(cX.Delay(function(){return cX.Bind$2(cW.checkServer.PostAndAsyncReply(function(cY){return[cY,null];},null),function(cY){return cX.Bind$1(cY,function(cZ){return cX.Return(cZ);});});}));},connectToWebSocketServer:function(){var cW,cX;cW=this;c.dprintfn(function(cY){return cY("in connectToWebSocketServer");});cX=null;return b6.Delay(function(){return b6.Bind(((cW.connectStateful(cW.wsEndPoint))(cW.clientId))(function(cY){var cZ;cZ=null;return b6.Delay(function(){return b6.Return([0,function(c0){return function(c1){var c2;c2=null;return b6.Delay(function(){return b6.Combine(b6.TryWith(b6.Delay(function(){return c1.$==2?((c.printoutfn(cW.out,function(c3){return function(c4){return c3("WebSocket "+ca.toSafe(c4)+" connection open.");};}))(cW.clientId),cW.serverO={$:1,$0:cY},b6.Zero()):c1.$==3?((c.printoutfn(cW.out,function(c3){return function(c4){return c3("WebSocket "+ca.toSafe(c4)+" connection closed.");};}))(cW.clientId),cW.close(),b6.Zero()):c1.$==1?((c.printoutfn(cW.out,function(c3){return function(c4){return c3("WebSocket "+ca.toSafe(c4)+" connection error!");};}))(cW.clientId),b6.Zero()):(cW.processMessage(c1.$0),b6.Zero());}),function(c3){(((b$.Curried3(function(c4,c5,c6){return c4("msg: "+b4.p$16(c5)+" \nexn:"+ca.prettyPrint(c6));}))(function(c4){cd.log(c4);}))(c1))(c3);return b6.Zero();}),b6.Delay(function(){return b6.Return(c0);}));});};}]);});}),function(){c.dprintfn(function(cY){return cY("connectToWebSocketServer with server");});return b6.Zero();});});},processMessage:function(cW){var cX,cY,cZ,c0,c1,c3;cY=this;(c.dprintfn(function(c4){return function(c5){return c4(b5.p$23(c5));};}))(cW);cZ=cW.msgType;function c2(c4){cY.reply(c4);}switch(cZ.$==2?0:cZ.$==0?1:cZ.$==1?2:cZ.$==5?3:cZ.$==4?4:0){case 0:this.processReply(cW);break;case 1:((c.printoutfn(this.out,b$.Curried3(function(c4,c5,c6){return c4("Information from '"+ca.toSafe(c5)+"': "+ca.toSafe(c6));})))(cW.from.get_txt()))(((cq.Id())())(cn.parse(cW.payload)));break;case 2:c0=this.payloadProcessorO;c0!=null&&c0.$==1?p.Start((c1=cY.mapPayloadWrap(c0.$0,cW),(p.map(function(c4){return c2(A.makeReply(c4));}))(c1)),null):cW.replier.$===2?null:null;break;case 3:cY.reply(A.msgType(D.MsgInformation,A.mapPayload(a.id,cW)));break;case 4:cY.reply(A.msgType(D.MsgInformation,(c3=A.makeReply(cW),G.New(c3.from,c3.destination,c3.msgType,c3.subtype,c3.id,cn.stringify(((cq.Id())())(this.clientId)),c3.replier))));break;}},mapPayloadWrap:function(cW,cX){var cY;cY=p.wrap();return cY.Run(cY.Delay(function(){return cY.Bind$3(cW(cX.payload),function(cZ){return cY.Return(A.mapPayload(function(){return cZ;},cX));});}));},processReply:function(cW){var cX;cX=this.waiting;cX.mailbox.AddLast({$:1,$0:cW.id,$1:cW});cX.resume();},close:function(){var cW;cW=this.serverO;cW==null?void 0:(cW.$0.FSSGlobal_WSMessagingBroker_IServer$Close(),this.serverO=null);},reply:function(cW){var cX;cX=this.serverO;cX==null?void 0:cX.$0.FSSGlobal_WSMessagingBroker_IServer$Post(A.destination(cW.from,A.from(this.clientAddress,cW)));},set_Out:function(cW){this.out=cW;},SendMsg:function(cW){return this.sendMsg(cW);},get_ClientId:function(){return this.clientId;},get_EndPoint:function(){return this.wsEndPoint;},get_MBListeners:function(){return this.getListeners();},Dispose:function(){this.close();}},i,L);L.New=b$.Ctor(function(cW,cX,cY){L.New$1.call(this,b$.Curried3(function(cZ,c0,c1){return d.map(a.ignore,cu.ConnectStateful(function(c2){return cn.stringify((b3.j())(c2));},function(c2){return(b2.j())(cn.parse(c2));},cv.CreateRemote((((b$.Curried3(function(c2,c3,c4){return c2("ws://"+ca.toSafe(c3)+"?ClientId="+ca.toSafe(c4));}))(a.id))(cZ))(c0),{$:1,$0:cs.JsonEncoding.Readable}),function(c2){return c1({FSSGlobal_WSMessagingBroker_IServer$Post:function(c3){return c2.Post(c3);},FSSGlobal_WSMessagingBroker_IServer$Close:function(){return c2.get_Connection().close(1000);}});}));}),cW,cX,cY);},L);L.New$1=b$.Ctor(function(cW,cX,cY,cZ){var c0,c1;c0=this;this.connectStateful=cW;this.clientId=cX;this.wsEndPoint=(c1=A.extractEndPoint()+"/ws",cZ==null?c1:cZ.$0);this.clientAddress=new B({$:0,$0:this.clientId});this.wsTimeout=cY==null?60000:cY.$0;this.out=function(c2){return function(c3){return c2(ca.toSafe(c3));};}(function(c2){cd.log(c2);});this.serverO=null;this.payloadProcessorO=null;this.waiting=A.waitingAgent(function(c2){((c.printoutfn(c0.out,b$.Curried3(function(c3,c4,c5){return c3("Reply from '"+ca.toSafe(c4)+"': "+ca.toSafe(c5));})))(c2.from.get_txt()))(c2.payload);});this.checkServer=r.call(function(){var c2;c2=null;return b6.Delay(function(){c.dprintfn(function(c3){return c3("getServer");});return b6.Combine(c0.serverO==null?(c.dprintfn(function(c3){return c3("getServer Connecting");}),b6.Bind(c0.connectToWebSocketServer(),function(){return b6.Bind(b6.Sleep(200),function(){return b6.Return(null);});})):b6.Zero(),b6.Delay(function(){var c3;return b6.Return((c3=c0.serverO,m.fromOption(new l.New("could not connect to Server",false),c3)));}));});});},L);M=A.FsStationClientErr=b$.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return this.$==0&&this.$1.$==0;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return this.$==0?(((b$.Curried3(function(cW,cX,cY){return cW(b4.p$3(cX)+" "+ca.toSafe(cY));}))(a.id))(this.$1))(this.$0):(function(cW){return function(cX){return cW(b4.p$4(cX));};}(a.id))(this);}},null,M);N=A.FStationMessaging=b$.Class({snippetResponse:function(cW){return cW.$==2?m.succeed(cW.$0):m.fail(new M({$:1,$0:a.String(cW)}));},snippetsResponse:function(cW){return cW.$==3?m.succeed(cW.$0):m.fail(new M({$:1,$0:a.String(cW)}));},stringResponse:function(cW){var cX,cY;return cW.$==1&&((cY=cW.$0,cY!=null&&cY.$==1)&&(cX=cW.$0.$0,true))?m.succeed(cX):m.fail(new M({$:1,$0:a.String(cW)}));},stringResponseR:function(cW){var cX,cY;function cZ(c0,c1){return new M({$:0,$0:c0,$1:c1});}return cW.$==4&&((cY=cW.$0,cY!=null&&cY.$==1)&&(cX=[cW.$0.$0,cW.$1],true))?m.succeedWithMsgs(cX[0],cc.ofSeq(b7.map(function(c0){return cZ(c0[0],c0[1]);},cX[1]))):m.fail(new M({$:1,$0:a.String(cW)}));},toId:function(){return new B({$:0,$0:this.fsIds});},get_MessagingClient:function(){return this.msgClient;},set_FSStationId:function(cW){this.fsIds=cW;},get_FSStationId:function(){return this.fsIds;},RunActionCall:function(cW,cX,cY){var cZ,c0,c1,c2,c3;function c4(c5){return cZ.stringResponseR(c5);}cZ=this;c0=this.toId();c1=this;c2={$:14,$0:cW,$1:cX,$2:cY};c3=p.wrap();return c3.Run(c3.Delay(function(){var c5,c6;return c3.Bind$3((c5=c1.msgClient.sendGetReply((c6=cn.stringify((b3.j$4())(c2)),G.New(new B({$:0,$0:""}),c0,D.MsgRequest,"",ck.NewGuid(),c6,F.NoReply))),(p.map(function(c7){return(b2.j$4())(cn.parse(c7));}))(c5)),function(c7){return c3.Bind$1(c4(c7),function(c8){return c3.Return(c8);});});}));},RunSnippet:function(cW,cX){var cY,cZ,c0,c1,c2;function c3(c4){return cY.stringResponseR(c4);}cY=this;cZ=this.toId();c0={$:13,$0:b9.SplitChars(cX,["/"],0),$1:cW};c1=this;c2=p.wrap();return c2.Run(c2.Delay(function(){var c4,c5;return c2.Bind$3((c4=c1.msgClient.sendGetReply((c5=cn.stringify((b3.j$4())(c0)),G.New(new B({$:0,$0:""}),cZ,D.MsgRequest,"",ck.NewGuid(),c5,F.NoReply))),(p.map(function(c6){return(b2.j$4())(cn.parse(c6));}))(c4)),function(c6){return c2.Bind$1(c3(c6),function(c7){return c2.Return(c7);});});}));},GenericMessage:function(cW){var cX,cY,cZ,c0,c1;function c2(c3){return cX.stringResponse(c3);}cX=this;cY=this.toId();cZ=this;c0={$:1,$0:cW};c1=p.wrap();return c1.Run(c1.Delay(function(){var c3,c4;return c1.Bind$3((c3=cZ.msgClient.sendGetReply((c4=cn.stringify((b3.j$4())(c0)),G.New(new B({$:0,$0:""}),cY,D.MsgRequest,"",ck.NewGuid(),c4,F.NoReply))),(p.map(function(c5){return(b2.j$4())(cn.parse(c5));}))(c3)),function(c5){return c1.Bind$1(c2(c5),function(c6){return c1.Return(c6);});});}));},RequestWholeFile:function(){var cW,cX,cY,cZ,c0;function c1(c2){return cW.stringResponse(c2);}cW=this;cX=this.toId();cY=this;cZ=y.GetWholeFile;c0=p.wrap();return c0.Run(c0.Delay(function(){var c2,c3;return c0.Bind$3((c2=cY.msgClient.sendGetReply((c3=cn.stringify((b3.j$4())(cZ)),G.New(new B({$:0,$0:""}),cX,D.MsgRequest,"",ck.NewGuid(),c3,F.NoReply))),(p.map(function(c4){return(b2.j$4())(cn.parse(c4));}))(c2)),function(c4){return c0.Bind$1(c1(c4),function(c5){return c0.Return(c5);});});}));},RequestPredsById:function(cW){var cX,cY,cZ,c0,c1;function c2(c3){return cX.snippetsResponse(c3);}cX=this;cY=this.toId();cZ=this;c0={$:4,$0:cW};c1=p.wrap();return c1.Run(c1.Delay(function(){var c3,c4;return c1.Bind$3((c3=cZ.msgClient.sendGetReply((c4=cn.stringify((b3.j$4())(c0)),G.New(new B({$:0,$0:""}),cY,D.MsgRequest,"",ck.NewGuid(),c4,F.NoReply))),(p.map(function(c5){return(b2.j$4())(cn.parse(c5));}))(c3)),function(c5){return c1.Bind$1(c2(c5),function(c6){return c1.Return(c6);});});}));},RequestPreds:function(cW){var cX,cY,cZ,c0,c1;function c2(c3){return cX.snippetsResponse(c3);}cX=this;cY=this.toId();cZ={$:8,$0:b9.SplitChars(cW,["/"],0)};c0=this;c1=p.wrap();return c1.Run(c1.Delay(function(){var c3,c4;return c1.Bind$3((c3=c0.msgClient.sendGetReply((c4=cn.stringify((b3.j$4())(cZ)),G.New(new B({$:0,$0:""}),cY,D.MsgRequest,"",ck.NewGuid(),c4,F.NoReply))),(p.map(function(c5){return(b2.j$4())(cn.parse(c5));}))(c3)),function(c5){return c1.Bind$1(c2(c5),function(c6){return c1.Return(c6);});});}));},RequestJSCode:function(cW){var cX,cY,cZ,c0,c1;function c2(c3){return cX.stringResponseR(c3);}cX=this;cY=this.toId();cZ={$:10,$0:b9.SplitChars(cW,["/"],0)};c0=this;c1=p.wrap();return c1.Run(c1.Delay(function(){var c3,c4;return c1.Bind$3((c3=c0.msgClient.sendGetReply((c4=cn.stringify((b3.j$4())(cZ)),G.New(new B({$:0,$0:""}),cY,D.MsgRequest,"",ck.NewGuid(),c4,F.NoReply))),(p.map(function(c5){return(b2.j$4())(cn.parse(c5));}))(c3)),function(c5){return c1.Bind$1(c2(c5),function(c6){return c1.Return(c6);});});}));},RequestCode:function(cW){var cX,cY,cZ,c0,c1;function c2(c3){return cX.stringResponse(c3);}cX=this;cY=this.toId();cZ={$:7,$0:b9.SplitChars(cW,["/"],0)};c0=this;c1=p.wrap();return c1.Run(c1.Delay(function(){var c3,c4;return c1.Bind$3((c3=c0.msgClient.sendGetReply((c4=cn.stringify((b3.j$4())(cZ)),G.New(new B({$:0,$0:""}),cY,D.MsgRequest,"",ck.NewGuid(),c4,F.NoReply))),(p.map(function(c5){return(b2.j$4())(cn.parse(c5));}))(c3)),function(c5){return c1.Bind$1(c2(c5),function(c6){return c1.Return(c6);});});}));},RequestSnippet:function(cW){var cX,cY,cZ,c0,c1;function c2(c3){return cX.snippetResponse(c3);}cX=this;cY=this.toId();cZ={$:9,$0:b9.SplitChars(cW,["/"],0)};c0=this;c1=p.wrap();return c1.Run(c1.Delay(function(){var c3,c4;return c1.Bind$3((c3=c0.msgClient.sendGetReply((c4=cn.stringify((b3.j$4())(cZ)),G.New(new B({$:0,$0:""}),cY,D.MsgRequest,"",ck.NewGuid(),c4,F.NoReply))),(p.map(function(c5){return(b2.j$4())(cn.parse(c5));}))(c3)),function(c5){return c1.Bind$1(c2(c5),function(c6){return c1.Return(c6);});});}));},SendMessage:function(cW){var cX,cY,cZ;cX=this.toId();cY=this;cZ=p.wrap();return cZ.Run(cZ.Delay(function(){var c0,c1;return cZ.Bind$3((c0=cY.msgClient.sendGetReply((c1=cn.stringify((b3.j$4())(cW)),G.New(new B({$:0,$0:""}),cX,D.MsgRequest,"",ck.NewGuid(),c1,F.NoReply))),(p.map(function(c2){return(b2.j$4())(cn.parse(c2));}))(c0)),function(c2){return cZ.Bind$1(m.succeed(c2),function(c3){return cZ.Return(c3);});});}));},SendMessage$1:function(cW,cX){var cY,cZ;cY=this;cZ=p.wrap();return cZ.Run(cZ.Delay(function(){var c0,c1;return cZ.Bind$3((c0=cY.msgClient.sendGetReply((c1=cn.stringify((b3.j$4())(cX)),G.New(new B({$:0,$0:""}),cW,D.MsgRequest,"",ck.NewGuid(),c1,F.NoReply))),(p.map(function(c2){return(b2.j$4())(cn.parse(c2));}))(c0)),function(c2){return cZ.Bind$1(m.succeed(c2),function(c3){return cZ.Return(c3);});});}));}},i,N);N.get_FSStationId_=function(){return"FSharpStation1522920858103";};N.New=b$.Ctor(function(cW,cX,cY,cZ){N.New$1.call(this,new L.New(cW,cY,cZ),cW,cX);},N);N.New$1=b$.Ctor(function(cW,cX,cY){this.msgClient=cW;this.fsIds=g.defaultValue("FSharpStation1522920858103",cY);},N);A.extractEndPoint=function(){return cc.get(b9.SplitChars(cw.href.substring(cw.href.indexOf("//")+2),["/"],0),0);};A.waitingAgent=function(cW){return r.fold(function(cX,cY){var cZ;cZ=null;return b6.Delay(function(){var c0,c1,c2,c3,c4,c5,c6,c7,c8;return b6.Combine(cY.$==1?(c0=cY.$1,(g.defaultWith(function(){cW(c0);},(c1=cx.TryFind(cY.$0,cX),c1==null?null:{$:1,$0:(c2=c1.$0,(c3=c2[0],(c2[1],c2[2],c3(c0))))})),b6.Zero())):cY.$==2?(c4=cx.TryFind(cY.$0,cX),c4==null?void 0:(c5=c4.$0,c5[0],c6=c5[1],c5[2],c6(cY.$1())),b6.Zero()):cY.$==3?(c7=cx.TryFind(cY.$0,cX),c7==null?void 0:(c8=c7.$0,c8[0],c8[1],c8[2](cY.$1())),b6.Zero()):b6.Zero(),b6.Delay(function(){var c9;return b6.Return((cY.$==2?(c9=cY.$0,true):cY.$==3?(c9=cY.$0,true):cY.$==0?false:(c9=cY.$0,true))?cX.Remove(c9):cX.Add(cY.$0,cY.$1));}));});},new cy.New([]));};A.makeReply=function(cW){return A.replier(F.NoReply,A.msgType(D.MsgReply,cW));};A.mapPayload=function(cW,cX){return G.New(cX.from,cX.destination,cX.msgType,cX.subtype,cX.id,cW(cX.payload),cX.replier);};A.msgId=function(cW,cX){return G.New(cX.from,cX.destination,cX.msgType,cX.subtype,cW,cX.payload,cX.replier);};A.replier=function(cW,cX){return G.New(cX.from,cX.destination,cX.msgType,cX.subtype,cX.id,cX.payload,cW);};A.subtype=function(cW,cX){return G.New(cX.from,cX.destination,cX.msgType,cW,cX.id,cX.payload,cX.replier);};A.msgType=function(cW,cX){return G.New(cX.from,cX.destination,cW,cX.subtype,cX.id,cX.payload,cX.replier);};A.destination=function(cW,cX){return G.New(cX.from,cW,cX.msgType,cX.subtype,cX.id,cX.payload,cX.replier);};A.from=function(cW,cX){return G.New(cW,cX.destination,cX.msgType,cX.subtype,cX.id,cX.payload,cX.replier);};A.MessageBrokerAddress=function(){b1.$cctor();return b1.MessageBrokerAddress;};A.MessageBrokerId=function(){b1.$cctor();return b1.MessageBrokerId;};Q.New=function(cW,cX){return{Code:cW,Message:cX};};R.New=function(cW,cX,cY){return{File:cW,Line:cX,Column:cY};};S.New=function(cW,cX,cY,cZ){return{Name:cW,ReplacementText:cX,Glyph:cY,GlyphChar:cZ};};T.New=function(cW,cX){return{Signature:cW,Comment:cX};};U.New=function(cW,cX,cY,cZ){return{Name:cW,CanonicalTypeTextForSorting:cX,Display:cY,Description:cZ};};V.New=function(cW,cX,cY,cZ){return{Tip:cW,TypeText:cX,Parameters:cY,IsStaticArguments:cZ};};W.New=function(cW,cX){return{Name:cW,Type:cX};};X.New=function(cW,cX){return{OutputType:cW,Parameters:cX};};Y.New=function(cW,cX,cY){return{Name:cW,CurrentParameter:cX,Overloads:cY};};Z.New=function(cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6){return{FileName:cW,StartLine:cX,StartColumn:cY,EndLine:cZ,EndColumn:c0,IsFromDefinition:c1,IsFromAttribute:c2,IsFromComputationExpression:c3,IsFromDispatchSlotImplementation:c4,IsFromPattern:c5,IsFromType:c6};};_0.New=function(cW,cX){return{Name:cW,Uses:cX};};_1.New=function(cW,cX){return{Name:cW,Overloads:cX};};_2.New=function(cW,cX,cY){return{Fsc:cW,Fsi:cX,MSBuild:cY};};_3.New=function(cW,cX,cY,cZ,c0,c1,c2){return{FileName:cW,StartLine:cX,EndLine:cY,StartColumn:cZ,EndColumn:c0,Message:c1,Subcategory:c2};};_4.New=function(cW,cX){return{File:cW,Errors:cX};};_5.New=function(cW){return{Kind:cW};};_6.New=function(cW,cX,cY,cZ,c0,c1,c2,c3){return{UniqueName:cW,Name:cX,Glyph:cY,GlyphChar:cZ,IsTopLevel:c0,File:c1,EnclosingEntity:c2,IsAbstract:c3};};_7.New=function(cW,cX){return{Declaration:cW,Nested:cX};};_8.New=function(cW,cX,cY,cZ,c0,c1){return{Namespace:cW,Name:cX,Type:cY,Line:cZ,Column:c0,MultipleNames:c1};};_9.New=function(cW,cX){return{Name:cW,Qualifier:cX};};_.New=function(cW,cX,cY){return{Opens:cW,Qualifies:cX,Word:cY};};$.New=function(cW){return{Text:cW};};ba.ACMIdentification={$:0};bb=O.FSAutoCompleteIntermediaryClient=b$.Class({info2Bool:function(cW){return cW.$==0&&cW.$0==="true";},errors2String:function(cW){return cW.$==7?b9.concat("\n",b7.map(function(cX){return((((((((b$.Curried(function(cY,cZ,c0,c1,c2,c3,c4,c5){return cY("ErrFSharp \"F# "+ca.toSafe(cZ)+".fsx ("+a.String(c0)+","+a.String(c1)+") - ("+a.String(c2)+","+a.String(c3)+") "+ca.toSafe(c4)+":"+ca.toSafe(c5)+"\"");},8))(a.id))(cX.FileName))(cX.StartLine))(cX.StartColumn))(cX.EndLine))(cX.EndColumn))(cX.Subcategory))(cX.Message);},cW.$0.Errors)):(function(cX){return function(cY){return cX(b4.p$7(cY));};}(a.id))(cW);},tip2String:function(cW){return cW.$==11?b9.concat("\n",b7.collect(function(cX){return cl.ofArray([cX.Signature,cX.Comment]);},b7.collect(a.id,cW.$0))):(function(cX){return function(cY){return cX(b4.p$7(cY));};}(a.id))(cW);},comp2Strings:function(cW){var cX;cX=this;return cW.$==3?cc.map(function(cY){return[cY.Name,cY.ReplacementText,cY.Glyph,cY.GlyphChar];},cW.$0):cW.$==2?[]:cW.$==17?cc.collect(function(cY){return cX.comp2Strings(cY);},cW.$0):[[(function(cY){return function(cZ){return cY(b4.p$7(cZ));};}(a.id))(cW),"","ErrorMsg","E"]];},Async_map:function(cW,cX){var cY;cY=null;return b6.Delay(function(){return b6.Bind(cX,function(cZ){return b6.Return(cW(cZ));});});},FindDecl:function(cW,cX,cY,cZ){return this.Async_map(a.id,O.sendMessage({$:7,$0:cW,$1:cX,$2:cY,$3:cZ}));},FindDecl$1:function(cW,cX,cY){return this.Async_map(a.id,O.sendMessage({$:6,$0:cW,$1:cX,$2:cY}));},Complete:function(cW,cX,cY,cZ,c0){var c1;c1=this;return c1.Async_map(function(c2){return c1.comp2Strings(c2);},O.sendMessage({$:9,$0:cW,$1:cY,$2:cZ,$3:cX,$4:c0}));},Complete$1:function(cW,cX,cY,cZ){var c0;c0=this;return c0.Async_map(function(c1){return c0.comp2Strings(c1);},O.sendMessage({$:8,$0:cW,$1:cY,$2:cZ,$3:cX}));},ToolTip:function(cW,cX,cY,cZ){var c0;c0=this;return c0.Async_map(function(c1){return c0.tip2String(c1);},O.sendMessage({$:3,$0:cW,$1:cX,$2:cY,$3:cZ}));},ToolTip$1:function(cW,cX,cY){var cZ;cZ=this;return cZ.Async_map(function(c0){return cZ.tip2String(c0);},O.sendMessage({$:2,$0:cW,$1:cX,$2:cY}));},Parse:function(cW,cX){var cY;cY=this;return cY.Async_map(function(cZ){return cY.errors2String(cZ);},O.sendMessage({$:10,$0:cW,$1:cX,$2:[]}));},Parse$1:function(cW,cX,cY){var cZ;cZ=this;return cZ.Async_map(function(c0){return cZ.errors2String(c0);},O.sendMessage({$:10,$0:cW,$1:cX,$2:cY}));},MustParse:function(cW,cX){var cY;cY=this;return cY.Async_map(function(cZ){return cY.info2Bool(cZ);},O.sendMessage({$:11,$0:cW,$1:cX}));}},i,bb);bb.New=b$.Ctor(function(cW,cX){},bb);O.sendMessage=function(cW){var cX;cX=null;return b6.Delay(function(){return b6.Bind((new cA.New()).Async("FSharpStation:FSSGlobal.FSAutoCompleteIntermediary.sendMessageRpc:1124743568",[cW]),function(cY){return b6.Return(cY);});});};bd.extractConfig=function(cW){return b9.StartsWith(cW,"////-d:")?cB.string(cW,{$:1,$0:4},{$:1,$0:cW.indexOf("\n")-1}):"";};bc.abortFsiExe=function(){b6.Start((new cA.New()).Async("FSharpStation:FSSGlobal.FsEvaluator+Evaluator.abortFsiExe:-829366048",[]),null);};bc.evaluateAR=function(cW,cX,cY,cZ){var c0;c0=null;return b6.Delay(function(){return b6.Bind((new cA.New()).Async("FSharpStation:FSSGlobal.FsEvaluator.evaluateAS:-1357873018",[cW,cX,cY,cZ]),function(c1){function c2(c3,c4){return new l.New(c3,c4);}return b6.Return({$:0,$0:c1[0],$1:cc.ofSeq(b7.map(function(c3){return c2(c3[0],c3[1]);},c1[1]))});});});};be.translateAR=function(cW,cX){var cY;cY=null;return b6.Delay(function(){return b6.Bind((new cA.New()).Async("FSharpStation:FSSGlobal.FsTranslator.translateAS:1220910711",[cW,cX]),function(cZ){function c0(c1,c2){return new l.New(c1,c2);}return b6.Return({$:0,$0:cZ[0],$1:cc.ofSeq(b7.map(function(c1){return c0(c1[0],c1[1]);},cZ[1]))});});});};bg=bf.Val=b$.Class({get_ValTypeMember:function(){return 0;}},null,bg);bh.lensView=function(cW,cX,cY,cZ){var c0,c1,c2;c0=bh.freshId();c1=cC.Map2(function(c3){return cW(c3);},cZ.get_View(),cY);c2=new bU({Get:function(){return cW(cZ.Get());},Set:function(c3){return cZ.Update(function(c4){return cX(c4,c3);});},SetFinal:function(c3){return this.Set(c3);},Update:function(c3){return cZ.Update(function(c4){return cX(c4,c3(cW(c4)));});},UpdateMaybe:function(c3){return cZ.UpdateMaybe(function(c4){var c5;c5=c3(cW(c4));return c5==null?null:{$:1,$0:cX(c4,c5.$0)};});},get_View:function(){return c1;},get_Id:function(){return c0;}});bU.New.call(c2);return c2;};bh.Make=function(cW,cX,cY){var cZ,c0,c1,c2;cZ=bh.freshId();c0=[cW];c1=cC.Map(function(c3){c0[0]=c3;return c3;},cX);c2=new bU({get_View:function(){return c1;},Get:function(){return c0[0];},Set:cY,SetFinal:cY,UpdateMaybe:function(c3){function c4(c5){if(c5==null);else cY(c5.$0);}return cC.Get(function(c5){return c4(c3(c5));},c1);},Update:function(c3){return cC.Get(function(c4){return cY(c3(c4));},c1);},get_Id:function(){return cZ;}});bU.New.call(c2);return c2;};bh.freshId=function(){bh.set_counter(bh.counter()+1);return"varuid"+a.String(bh.counter());};bh.counter=function(){b1.$cctor();return b1.counter;};bh.set_counter=function(cW){b1.$cctor();b1.counter=cW;};bi.currentLens=function(cW,cX,cY){return bi["currentLensUpd'"](cW,cX,function(cZ){cY.UpdateBy(function(){return cY.TryFindByKey(cY.key(cZ))==null?null:{$:1,$0:cZ};},cY.key(cZ));},cY);};bi["currentLensUpd'"]=function(cW,cX,cY,cZ){return bh.Make(cW,cC.Map2(function(c0,c1){var c2;c2=c1==null?null:cZ.TryFindByKey(c1.$0);return c2==null?cW:c2.$0;},cZ.v,cX),cY);};bi.currentLensUpd=function(cW,cX,cY,cZ){var c0;function c1(c3){return cZ.TryFindByKey(c3);}function c2(c3){return c3==null?cW:c3.$0;}return bh.lensView((c0=function(c3){return c3==null?null:c1(c3.$0);},function(c3){return c2(c0(c3));}),function(c3,c4){var c5;c5=cY(c4);c3==null?void 0:c5(c3.$0);return c3;},cZ.v,cX);};bj.HelperType={$:0};bj.op_AmpGreater=function(cW,cX){return new bg({$:2,$0:cX});};bj.op_AmpGreater$1=function(cW,cX){return new bg({$:1,$0:cX});};bj.op_AmpGreater$2=function(cW,cX){return cX;};bj.op_AmpGreater$3=function(cW,cX){return cX;};bj.op_AmpGreater$4=function(cW,cX){return cX;};bj.op_AmpGreater$5=function(cW,cX){return cX;};bj.op_AmpGreater$6=function(cW,cX){return cX;};bj.op_AmpGreater$7=function(cW,cX){return cX;};bj.op_AmpGreater$8=function(cW,cX){return cX;};bj.op_AmpGreater$9=function(cW,cX){return new bg({$:0,$0:cX});};bj.op_AmpGreater$10=function(cW,cX){return new bg({$:0,$0:cX});};bj.op_AmpGreater$11=function(cW,cX){return new bg({$:0,$0:cX});};bj.op_AmpGreater$12=function(cW,cX){return new bg({$:0,$0:cX});};bj.op_AmpGreater$13=function(cW,cX){return new bg({$:0,$0:cX});};bj.op_AmpGreater$14=function(cW,cX){return new bg({$:0,$0:cX});};bk=bg.valBuilder=b$.Class({Delay:function(cW){return cW();},Zero:function(){return new bg({$:0,$0:null});},Bind:function(cW,cX){return bg.bind(cX,cW);},Bind$1:function(cW,cX){return bg.bind(cX,cW);},Bind$2:function(cW,cX){return bg.bind(cX,cW);},ReturnFrom:a.id,Return:function(cW){return new bg({$:0,$0:cW});}},i,bk);bk.New=b$.Ctor(function(){},bk);bg.fixitF=function(cW,cX){return cW(cX);};bg.valFlow=function(){b1.$cctor();return b1.valFlow;};bg.mapCached=function(cW,cX){return new bg({$:2,$0:cC.MapCached(cW,bg.toView(cX))});};bg.sink=function(cW,cX){cC.Sink(cW,bg.toView(bg.fixit(cX)));};bg.mapAsync=function(cW,cX){return new bg({$:2,$0:cC.MapAsync(cW,bg.toView(bg.fixit(cX)))});};bg.iter4=function(cW,cX,cY,cZ,c0){bg.iterV(a.ignore,bg.map4(cW,cX,cY,cZ,c0));};bg.iter3=function(cW,cX,cY,cZ){bg.iterV(a.ignore,bg.map3(cW,cX,cY,cZ));};bg.iter2=function(cW,cX,cY){bg.iterV(a.ignore,bg.map2(cW,cX,cY));};bg.apply=function(cW,cX){return bg.bindV(function(cY){return bg.mapV(cY,cW);},cX);};bg.map4=function(cW,cX,cY,cZ,c0){return bg.map4V(cW,bg.fixit(cX),bg.fixit(cY),bg.fixit(cZ),bg.fixit(c0));};bg.map3=function(cW,cX,cY,cZ){return bg.map3V(cW,bg.fixit(cX),bg.fixit(cY),bg.fixit(cZ));};bg.map2=function(cW,cX,cY){return((bg.map2V(cW))(bg.fixit(cX)))(bg.fixit(cY));};bg.map=function(cW,cX){return bg.mapV(cW,bg.fixit(cX));};bg.bind=function(cW,cX){return bg.bindV(cW,bg.fixit(cX));};bg.iter=function(cW,cX){bg.iterV(cW,bg.fixit(cX));};bg.toDoc=function(cW){return cD.EmbedView(bg.toView(bg.fixit(cW)));};bg.fixit=function(cW){return bg.fixitF(bg.toVal,cW);};bg.toVal=function(cW){return typeof cW=="string"?new bg({$:0,$0:cW}):typeof cW=="number"?new bg({$:0,$0:cW}):typeof cW=="boolean"?new bg({$:0,$0:cW}):cW instanceof cD?new bg({$:0,$0:cW}):cW instanceof bg?cW:cW instanceof bU?new bg({$:1,$0:cW}):"RSet"in cW?new bg({$:1,$0:cW}):typeof cW=="function"?new bg({$:2,$0:cW}):cW.get_ValTypeMember()===0?cW:cE.FailWith((function(cX){return function(cY){return cX("Could not convert "+ca.prettyPrint(cY));};}(a.id))(cW));};bg.attrV=function(cW,cX){return cX.$==2?cF.Dynamic(cW,cX.$0):cX.$==1?cF.Dynamic(cW,cX.$0.get_View()):cG.Create(cW,cX.$0);};bg.attrVO=function(cW,cX){var cY,cZ;return cX.$==2?(cY=cX.$0,cF.DynamicPred(cW,cC.Map(function(c0){return c0!=null;},cY),cC.Map(function(c0){return c0==null?"":c0.$0;},cY))):cX.$==1?(cZ=cX.$0,cF.DynamicPred(cW,cC.Map(function(c0){return c0!=null;},cZ.get_View()),cC.Map(function(c0){return c0==null?"":c0.$0;},cZ.get_View()))):cX.$0==null?cF.DynamicPred(cW,cC.Const(false),cC.Const("")):cG.Create(cW,cX.$0.$0);};bg.tagElt=function(cW,cX){return cX.$==2?cD.EmbedView(cC.Map(cW,cX.$0)):cX.$==1?cD.EmbedView(cC.Map(cW,cX.$0.get_View())):cW(cX.$0);};bg.tagDoc=function(cW,cX){return cX.$==2?cD.EmbedView(cC.Map(cW,cX.$0)):cX.$==1?cD.EmbedView(cC.Map(cW,cX.$0.get_View())):cW(cX.$0);};bg.map4V=function(cW,cX,cY,cZ,c0){var c1;c1=bg.map3V(cW,cX,cY,cZ);return((bg.map2V(function(c2){return function(c3){return c3(c2);};}))(c0))(c1);};bg.map3V=function(cW,cX,cY,cZ){var c0;c0=((bg.map2V(cW))(cX))(cY);return((bg.map2V(function(c1){return function(c2){return c2(c1);};}))(cZ))(c0);};bg.map2V=function(cW){function cX(cZ,c0,c1){return(cZ(c1))(c0);}function cY(cZ){var c0,c1;c0=(c1=function(c2){var c3;c3=cW(c2);return function(c4){return bg.mapV(c3,c4);};},function(c2){return cX(c1,cZ,c2);});return function(c2){return bg.bindV(c0,c2);};}return(b$.Curried3(cX))(cY);};bg.bindV=function(cW,cX){return cX.$==2?new bg({$:2,$0:cC.Bind(function(cY){return bg.toView(cW(cY));},cX.$0)}):cX.$==1?new bg({$:2,$0:cC.Bind(function(cY){return bg.toView(cW(cY));},cX.$0.get_View())}):cW(cX.$0);};bg.getAsync=function(cW){return cW.$==2?cC.GetAsync(cW.$0):cW.$==1?b6.Return(cW.$0.Get()):b6.Return(cW.$0);};bg.toView=function(cW){return cW.$==2?cW.$0:cW.$==1?cW.$0.get_View():cC.Const(cW.$0);};bg.iterV=function(cW,cX){if(cX.$==2)cC.Get(cW,cX.$0);else if(cX.$==1)cW(cX.$0.Get());else cW(cX.$0);};bg.mapV=function(cW,cX){return cX.$==2?new bg({$:2,$0:cC.Map(cW,cX.$0)}):cX.$==1?new bg({$:2,$0:cC.Map(cW,cX.$0.get_View())}):new bg({$:0,$0:cW(cX.$0)});};bl=bf.HtmlNode=b$.Class({Style:function(cW){return this.AddChildren([bf.style(cW)]);},AddClass:function(cW){return bf.addClass(cW,this);},InsertChildren:function(cW){return bf.insertChildren(cW,this);},AddChildren:function(cW){return bf.addChildren(cW,this);},get_toDoc:function(){var cW,cX,cY;return this.$==3||this.$==6?cD.Empty():(cX=bf.chooseNode(this),(cY=cD.Empty(),cX==null?cY:cX.$0));}},null,bl);bl.HtmlEmpty=new bl({$:6});bl.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(cW,cX){return bf.indent2Level(11,cX,cW);};bl.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(cW,cX){return bf.indent2Level(10,cX,cW);};bl.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(cW,cX){return bf.indent2Level(9,cX,cW);};bl.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(cW,cX){return bf.indent2Level(8,cX,cW);};bl.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(cW,cX){return bf.indent2Level(7,cX,cW);};bl.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(cW,cX){return bf.indent2Level(6,cX,cW);};bl.op_MinusMinusMinusMinusMinusMinusMinusMinus=function(cW,cX){return bf.indent2Level(5,cX,cW);};bl.op_MinusMinusMinusMinusMinusMinus=function(cW,cX){return bf.indent2Level(4,cX,cW);};bl.op_MinusMinusMinusMinus=function(cW,cX){return bf.indent2Level(3,cX,cW);};bl.op_MinusMinus=function(cW,cX){return bf.indent2Level(2,cX,cW);};bl.op_Addition=function(cW,cX){return new cl.T({$:1,$0:cX,$1:cW});};bl.op_MinusMinusMinus=function(cW,cX){return cW.$==1?cW.$1.$==1?new cl.T({$:1,$0:cW.$1.$0.AddChildren([cW.$0.AddChildren([cX])]),$1:cW.$1.$1}):cl.ofArray([cW.$0.AddChildren([cX])]):cl.T.Empty;};bl.op_Subtraction=function(cW,cX){return cW.$==0?cl.T.Empty:new cl.T({$:1,$0:cW.$0.AddChildren([cX]),$1:cW.$1});};bf.LoadFilesAsync=function(cW){function cX(cY,cZ){try{a.CIPHERSpaceLoadFiles(cW,cY);}catch(c0){cZ(c0);}}return b6.FromContinuations(function(cY,cZ,c0){return cX.apply(null,[cY,cZ,c0]);});};bf.findRootElement=function(cW){var cX;return!function(cY){return cW.getRootNode(cY);}?a.document.body:(cX=cW.getRootNode(),!cX.body?cX.firstChild:cX.body);};bf.createIFrame$3385$45=b$.Curried3(function(cW,cX,cY){return cC.Get(function(cZ){if(!cZ)cW.Set(false);},cI.get_MousePressed());});bf.createIFrame$3380$45=b$.Curried3(function(cW,cX,cY){return cW.Set(true);});bf.createIFrame=function(cW){var cX;function cY(c0,c1){return cX.Set(true);}function cZ(c0,c1){return cC.Get(function(c2){if(!c2)cX.Set(false);},cI.get_MousePressed());}cX=bU.Create$1(true);return bf.div([bf.style("position: relative; overflow: hidden; height: 100%; width: 100%;"),bf.iframe([bf.style("position: absolute; width:100%; height:100%;"),bf.frameborder("0"),new bl({$:8,$0:cF.OnAfterRender(cW)}),new bl({$:8,$0:cG.HandlerImpl("mouseleave",function(c0){return function(c1){return cY(c0,c1);};})})]),bf.div([bf.style("position: absolute;"),bf.classIf("iframe-cover",bg.map(a.id,cX)),new bl({$:8,$0:cG.HandlerImpl("mouseenter",function(c0){return function(c1){return cZ(c0,c1);};})})]),bf.styleH([bf.htmlText(".iframe-cover { top:0; left:0; right:0; bottom:0; background: blue; opacity: 0.04; z-index: 2; }")])]);};bf.bindHElem=function(cW,cX){return new bl({$:2,$0:bg.map(cW,bg.fixit(cX))});};bf.string2Styles=function(){b1.$cctor();return b1.string2Styles;};bf.style2pairs=function(cW){return cc.map(function(cX){return[b9.Trim(cc.get(cX,0)),b9.Trim(cc.get(cX,1))];},cc.filter(function(cX){return cc.length(cX)===2;},cc.map(function(cX){return b9.SplitChars(cX,[":"],0);},b9.SplitChars(cW,[";"],0))));};bf.classIf=function(cW,cX){return bf["class"](bg.map(function(cY){return cY?cW:"";},bg.fixit(cX)));};bf.css=function(cW){return bf.styleH([bf.htmlText(cW)]);};bf.style1=function(cW,cX){var cY;return bf.style(bg.map((cY=cW+":",function(cZ){return cY+cZ;}),cX));};bf.placeholder=function(cW){return bf.htmlAttribute("placeholder",cW);};bf.style=function(cW){return bf.htmlAttribute("style",cW);};bf.draggable=function(cW){return bf.htmlAttribute("draggable",cW);};bf.spellcheck=function(cW){return bf.htmlAttribute("spellcheck",cW);};bf.frameborder=function(cW){return bf.htmlAttribute("frameborder",cW);};bf.Id=function(cW){return bf.htmlAttribute("id",cW);};bf.title=function(cW){return bf.htmlAttribute("title",cW);};bf.width=function(cW){return bf.htmlAttribute("width",cW);};bf.type=function(cW){return bf.htmlAttribute("type",cW);};bf["class"]=function(cW){return bf.htmlAttribute("class",cW);};bf.src=function(cW){return bf.htmlAttribute("src",cW);};bf.charset=function(cW){return bf.htmlAttribute("charset",cW);};bf.rel=function(cW){return bf.htmlAttribute("rel",cW);};bf.hrefO=function(cW){return bf.htmlAttributeO("href",cW);};bf.href=function(cW){return bf.htmlAttribute("href",cW);};bf.target=function(cW){return bf.htmlAttribute("target",cW);};bf.strong=function(cW){return bf.htmlElement("strong",cW);};bf.section=function(cW){return bf.htmlElement("section",cW);};bf.body=function(cW){return bf.htmlElement("body",cW);};bf.iframe=function(cW){return bf.htmlElement("iframe",cW);};bf.link=function(cW){return bf.htmlElement("link",cW);};bf.fieldset=function(cW){return bf.htmlElement("fieldset",cW);};bf.styleH=function(cW){return bf.htmlElement("style",cW);};bf.script=function(cW){return bf.htmlElement("script",cW);};bf.button=function(cW){return bf.htmlElement("button",cW);};bf.label=function(cW){return bf.htmlElement("label",cW);};bf.tbody=function(cW){return bf.htmlElement("tbody",cW);};bf.td=function(cW){return bf.htmlElement("td",cW);};bf.tr=function(cW){return bf.htmlElement("tr",cW);};bf.th=function(cW){return bf.htmlElement("th",cW);};bf.thead=function(cW){return bf.htmlElement("thead",cW);};bf.table=function(cW){return bf.htmlElement("table",cW);};bf.form=function(cW){return bf.htmlElement("form",cW);};bf.span=function(cW){return bf.htmlElement("span",cW);};bf.img=function(cW){return bf.htmlElement("img",cW);};bf.div=function(cW){return bf.htmlElement("div",cW);};bf.h6=function(cW){return bf.htmlElement("h6",cW);};bf.h5=function(cW){return bf.htmlElement("h5",cW);};bf.h4=function(cW){return bf.htmlElement("h4",cW);};bf.h3=function(cW){return bf.htmlElement("h3",cW);};bf.h2=function(cW){return bf.htmlElement("h2",cW);};bf.h1=function(cW){return bf.htmlElement("h1",cW);};bf.hr=function(cW){return bf.htmlElement("hr",cW);};bf.br=function(cW){return bf.htmlElement("br",cW);};bf.li=function(cW){return bf.htmlElement("li",cW);};bf.ul=function(cW){return bf.htmlElement("ul",cW);};bf.p=function(cW){return bf.htmlElement("p",cW);};bf.a=function(cW){return bf.htmlElement("a",cW);};bf.textV=function(cW){return bf.tag(cD.TextNode,cW);};bf._placeholder=function(cW){return bf.atr("placeholder",cW);};bf._style=function(cW){return bf.atr("style",cW);};bf._type=function(cW){return bf.atr("type",cW);};bf._class=function(cW){return bf.atr("class",cW);};bf.tag=function(cW,cX){return bg.tagDoc(cW,bg.fixit(cX));};bf.atr=function(cW,cX){return bg.attrV(cW,bg.fixit(cX));};bf.renderDoc=function(){b1.$cctor();return b1.renderDoc;};bf.op_BangBang=function(cW,cX){return cl.ofArray([cW(cX)]);};bf.endHtmlIndent=function(cW){var cX;cX=bf.finishO(cW);return cX==null?bf.htmlText("Malformed HTMLNode"):cX.$0;};bf.finishO=function(cW){return cW.$==1?cW.$1.$==1?bf.finishO(bf.out(cW)):{$:1,$0:cW.$0}:null;};bf.indent2Level=function(cW,cX,cY){return cY.get_Length()<cW?new cl.T({$:1,$0:cX,$1:cY}):bf.indent2Level(cW,cX,bf.out(cY));};bf.out=function(cW){return cW.$==1?cW.$1.$==1?new cl.T({$:1,$0:bf.addChildren([cW.$0],cW.$1.$0),$1:cW.$1.$1}):cl.ofArray([cW.$0]):cl.T.Empty;};bf.addClassIf=function(cW,cX){var cY;cY=bg.map(function(cZ){return cZ?cW:"";},bg.fixit(cX));return function(cZ){return bf.addClass(cY,cZ);};};bf.addClass=function(cW,cX){return bf.addChildren(cl.ofArray([bf.htmlAttribute("class",cW)]),cX);};bf.insertChildren=function(cW,cX){function cY(cZ,c0){return[cZ,b7.append(cW,c0)];}return bf.mapHtmlElement(function(cZ){return function(c0){return cY(cZ,c0);};},cX);};bf.addChildren=function(cW,cX){function cY(cZ,c0){return[cZ,b7.append(c0,cW)];}return bf.mapHtmlElement(function(cZ){return function(c0){return cY(cZ,c0);};},cX);};bf.someElt=function(cW){return new bl({$:7,$0:cW});};bf.str=function(cW){return new bl({$:5,$0:bg.fixit(cW)});};bf.htmlText=function(cW){return new bl({$:5,$0:bg.fixit(cW)});};bf.htmlAttributeO=function(cW,cX){return new bl({$:4,$0:cW,$1:bg.fixit(cX)});};bf.htmlAttribute=function(cW,cX){return new bl({$:3,$0:cW,$1:bg.fixit(cX)});};bf.htmlElementF=function(cW,cX){return new bl({$:1,$0:cW,$1:cX});};bf.htmlElement=function(cW,cX){return new bl({$:0,$0:cW,$1:cX});};bf.mapHtmlElement=function(cW,cX){var cY;return cX.$==0?(cY=(cW(cX.$0))(cX.$1),new bl({$:0,$0:cY[0],$1:cY[1]})):cX.$==2?new bl({$:2,$0:bg.map(function(cZ){return bf.mapHtmlElement(cW,cZ);},cX.$0)}):cX;};bf.getAttrChildren=function(cW){var cX,cY,cZ;function c0(c1){var c2;return c1.$==3&&(c1.$0===cW&&(c2=[c1.$0,c1.$1],true))?{$:1,$0:c2[1]}:null;}cX=function(c1){return b7.tryPick(c0,c1);};cY=(cZ=new bg({$:0,$0:""}),function(c1){return c1==null?cZ:c1.$0;});return function(c1){return cY(cX(c1));};};bf.chooseNode=function(cW){var cX,cY,cZ,c0,c1;return cW.$==0?(cX=cW.$1,{$:1,$0:cD.Element(cW.$0,bf.getAttrsFromSeq(cX),b7.choose(bf.chooseNode,cX))}):cW.$==1?(cY=cW.$1,{$:1,$0:(cW.$0(bf.getAttrsFromSeq(cY)))(b7.choose(bf.chooseNode,cY))}):cW.$==2?{$:1,$0:(cZ=bg.toView(cW.$0),cD.BindView((c0=(c1=cD.Empty(),function(c2){return c2==null?c1:c2.$0;}),function(c2){return c0(bf.chooseNode(c2));}),cZ))}:cW.$==5?{$:1,$0:bg.tagDoc(cD.TextNode,cW.$0)}:cW.$==7?{$:1,$0:cW.$0}:null;};bf.getAttrsFromSeq=function(cW){var cX;cX=b7.choose(bf.chooseAttr,cW);return b7.append(cl.choose(a.id,cl.ofArray([bf.groupAttr("class"," ",cW),bf.groupAttr("style","; ",cW)])),cX);};bf.groupAttr=function(cW,cX,cY){var cZ,c0;function c1(c2,c3){return bf.concat(cX,c2,c3);}cZ=b7.choose(function(c2){return bf.chooseThisAttr(cW,c2);},cY);return b7.isEmpty(cZ)?null:{$:1,$0:bg.attrV(cW,(c0=(b$.Curried3(bg.map2))(function(c2){return function(c3){return c1(c2,c3);};}),b7.reduce(function(c2,c3){return(c0(c2))(c3);},cZ)))};};bf.concat=function(cW,cX,cY){return cX+cW+cY;};bf.chooseThisAttr=function(cW,cX){var cY;return cX.$==3&&(cX.$0===cW&&(cY=[cX.$0,cX.$1],true))?{$:1,$0:cY[1]}:null;};bf.chooseAttr=function(cW){var cX,cY,cZ,c0;return cW.$==3&&((cY=cW.$0,cY!=="class"&&cY!=="style")&&(cX=[cW.$0,cW.$1],true))?{$:1,$0:bg.attrV(cX[0],cX[1])}:cW.$==4&&((c0=cW.$0,c0!=="class"&&c0!=="style")&&(cZ=[cW.$0,cW.$1],true))?{$:1,$0:bg.attrVO(cZ[0],cZ[1])}:cW.$==8?{$:1,$0:cW.$0}:null;};bf.addClassX=function(cW,cX){var cY;return b9.concat(" ",(cY=new cJ.New$1(cK.OfSeq(b9.SplitChars(cW,[" "],0))),new cJ.New$1(cK.OfSeq(b7.append(new cJ.New$1(cK.OfSeq(b9.SplitChars(cX,[" "],0))),cY)))));};bn=bm.Button=b$.Class({OnClick:function(cW){return bn.New(this._class,this._type,this.style,this.text,cW,this.disabled,this.id);},Disabled:function(cW){return bn.New(this._class,this._type,this.style,this.text,this.onClick,bg.fixit(cW),this.id);},Text:function(cW){return bn.New(this._class,this._type,this.style,bg.fixit(cW),this.onClick,this.disabled,this.id);},Style:function(cW){return bn.New(this._class,this._type,bg.fixit(cW),this.text,this.onClick,this.disabled,this.id);},Type:function(cW){return bn.New(this._class,bg.fixit(cW),this.style,this.text,this.onClick,this.disabled,this.id);},Class:function(cW){return bn.New(bg.fixit(cW),this._type,this.style,this.text,this.onClick,this.disabled,this.id);},Id:function(cW){return bn.New(this._class,this._type,this.style,this.text,this.onClick,this.disabled,cW);},get_Render:function(){var cW,cX;return new bl({$:7,$0:(cW=bf.button([bf.type(this._type),bf["class"](this._class),bf.Id(this.id),bf.style(this.style),new bl({$:8,$0:(cX=cC.Const(""),cF.DynamicPred("disabled",bg.toView(this.disabled),cX))}),new bl({$:8,$0:cG.HandlerImpl("click",this.onClick)}),new bl({$:5,$0:this.text})]),(bf.renderDoc())(cW))});}},null,bn);bn.get_Render$3447$42=function(cW){return cW.onClick;};bn.New$1=function(cW){return bn.New(bg.fixit("btn"),bg.fixit("button"),bg.fixit(""),bg.fixit(cW),function(){return function(){return null;};},bg.fixit(false),"");};bn.New=function(cW,cX,cY,cZ,c0,c1,c2){return new bn({_class:cW,_type:cX,style:cY,text:cZ,onClick:c0,disabled:c1,id:c2});};bo=bm.Input=b$.Class({get_Var:function(){return this["var"];},Disabled:function(cW){return bo.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded,bg.fixit(cW));},SetVar:function(cW){return bo.New(this._type,this._class,this.style,this.placeholder,this.id,cW,this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded,this.disabled);},Suffix:function(cW){return bo.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,cW,this.content,this.prefixAdded,true,this.disabled);},Prefix:function(cW){return this.Prefix$1(bf.htmlText(cW));},Prefix$1:function(cW){return bo.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],cW,this.suffix,this.content,true,this.suffixAdded,this.disabled);},Content:function(cW){return bo.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,cW,this.prefixAdded,this.suffixAdded,this.disabled);},Id:function(cW){return bo.New(this._type,this._class,this.style,this.placeholder,cW,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded,this.disabled);},Placeholder:function(cW){return bo.New(this._type,this._class,this.style,bg.fixit(cW),this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded,this.disabled);},Style:function(cW){return bo.New(this._type,this._class,bg.fixit(cW),this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded,this.disabled);},Type:function(cW){return bo.New(bg.fixit(cW),this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded,this.disabled);},Class:function(cW){return bo.New(this._type,bg.fixit(cW),this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded,this.disabled);},get_Render:function(){var cW;function cX(cY){return cY.$==5?"input-group-addon":"input-group-btn";}cW=this;return bf.div(cl.ofSeq(b7.delay(function(){return b7.append(cW.prefixAdded||cW.suffixAdded?[bf["class"]("input-group")]:[],b7.delay(function(){return b7.append(cW.prefixAdded?[bf.span([bf["class"](cX(cW.prefix)),cW.prefix])]:[],b7.delay(function(){var cY;return b7.append([new bl({$:7,$0:cD.Input(b7.append(cW.content,cl.ofArray([bf._type(cW._type),bf._class(cW._class),bf._style(cW.style),cG.Create("id",cW.id),(cY=cC.Const(""),cF.DynamicPred("disabled",bg.toView(cW.disabled),cY)),bf._placeholder(cW.placeholder)])),cW["var"])})],b7.delay(function(){return cW.suffixAdded?[bf.span([bf["class"](cX(cW.suffix)),cW.suffix])]:[];}));}));}));})));}},null,bo);bo.New$1=function(cW){return bo.New$3(bU.Lens(cW,function(cX){return cX==null?"":cX.$0;},function(cX,cY){return cX==null?null:{$:1,$0:cY};})).Disabled(bg.map(function(cX){return cX==null;},cW));};bo.New$2=function(cW){return bo.New$3(bU.Create$1(cW));};bo.New$3=function(cW){var cX;cX=bg.fixit("form-control");return bo.New(bg.fixit("text"),cX,bg.fixit(""),bg.fixit("Enter text:"),"",cW,bl.HtmlEmpty,bl.HtmlEmpty,cl.T.Empty,false,false,bg.fixit(false));};bo.New=function(cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7){return new bo({_type:cW,_class:cX,style:cY,placeholder:cZ,id:c0,"var":c1,prefix:c2,suffix:c3,content:c4,prefixAdded:c5,suffixAdded:c6,disabled:c7});};bp=bm.Hoverable=b$.Class({Content:function(cW){var cX;function cY(c0,c1){return cX.hover.Set(true);}function cZ(c0,c1){return cX.hover.Set(false);}cX=this;return cW.AddChildren([bf.classIf("hovering",this.hover),new bl({$:8,$0:cG.HandlerImpl("mouseenter",function(c0){return function(c1){return cY(c0,c1);};})}),new bl({$:8,$0:cG.HandlerImpl("mouseleave",function(c0){return function(c1){return cZ(c0,c1);};})})]);},Content$1:function(cW){var cX;function cY(c0,c1){return cX.hover.Set(true);}function cZ(c0,c1){return cX.hover.Set(false);}cX=this;return bf.div(b7.append(cW,cl.ofArray([bf.classIf("hovering",this.hover),new bl({$:8,$0:cG.HandlerImpl("mouseenter",function(c0){return function(c1){return cY(c0,c1);};})}),new bl({$:8,$0:cG.HandlerImpl("mouseleave",function(c0){return function(c1){return cZ(c0,c1);};})})])));}},null,bp);bp.get_Demo=function(){return bp.get_New().Content(bf.div([bf.style("flex-flow: column;")]));};bp.Content$3541$43=b$.Curried3(function(cW,cX,cY){return cW.hover.Set(false);});bp.Content$3540$43=b$.Curried3(function(cW,cX,cY){return cW.hover.Set(true);});bp.Content$3533$37=b$.Curried3(function(cW,cX,cY){return cW.hover.Set(false);});bp.Content$3532$37=b$.Curried3(function(cW,cX,cY){return cW.hover.Set(true);});bp.get_New=function(){return bp.New(bU.Create$1(false));};bp.New=function(cW){return new bp({hover:cW});};bq=bm.Panel=b$.Class({Disabled:function(cW){return bq.New(this._class,this._style,this.title,this.header,this.content,cW);},Content:function(cW){return bq.New(this._class,this._style,this.title,this.header,cW,this.disabled);},Header:function(cW){return bq.New(this._class,this._style,this.title,cW,this.content,this.disabled);},Title:function(cW){return bq.New(this._class,this._style,bg.fixit(cW),this.header,this.content,this.disabled);},Style:function(cW){return bq.New(this._class,bg.fixit(cW),this.title,this.header,this.content,this.disabled);},Class:function(cW){return bq.New(bg.fixit(cW),this._style,this.title,this.header,this.content,this.disabled);},get_Render:function(){var cW;return bf.fieldset([new bl({$:8,$0:(cW=cC.Const(""),cF.DynamicPred("disabled",bg.toView(this.disabled),cW))}),bf.div([bf["class"](this._class),bf.div(b7.append([bf["class"]("panel-heading"),bf.label([bf["class"]("panel-title text-center"),bf.htmlText(this.title)])],this.header)),bf.div(b7.append([bf["class"]("panel-body"),bf.style(this._style)],this.content))])]);}},null,bq);bq.get_New=function(){return bq.New(bg.fixit("panel panel-default shadow"),bg.fixit("text-align:center"),bg.fixit("Panel"),cl.ofArray([bf.htmlText("Some text")]),cl.ofArray([bf.htmlText("Some Content")]),bg.fixit(bU.Create$1(false)));};bq.New=function(cW,cX,cY,cZ,c0,c1){return new bq({_class:cW,_style:cX,title:cY,header:cZ,content:c0,disabled:c1});};br=bm.TextArea=b$.Class({get_Var:function(){return this["var"];},Disabled:function(cW){return br.New(this._class,this.placeholder,this.title,this.spellcheck,this.id,this["var"],bg.fixit(cW));},SetVar:function(cW){return br.New(this._class,this.placeholder,this.title,this.spellcheck,this.id,cW,this.disabled);},Id:function(cW){return br.New(this._class,this.placeholder,this.title,this.spellcheck,cW,this["var"],this.disabled);},Spellcheck:function(cW){return br.New(this._class,this.placeholder,this.title,cW,this.id,this["var"],this.disabled);},Title:function(cW){return br.New(this._class,this.placeholder,bg.fixit(cW),this.spellcheck,this.id,this["var"],this.disabled);},Placeholder:function(cW){return br.New(this._class,bg.fixit(cW),this.title,this.spellcheck,this.id,this["var"],this.disabled);},Class:function(cW){return br.New(bg.fixit(cW),this.placeholder,this.title,this.spellcheck,this.id,this["var"],this.disabled);},get_Render:function(){return this.RenderWith(cl.T.Empty);},RenderWith:function(cW){var cX,cY;cX=this;return bf.div([bf.htmlElementF(function(cZ){return function(){return cD.InputArea(cZ,cX["var"]);};},cl.append(cl.ofArray([bf["class"](this._class),bf.Id(this.id),bf.spellcheck(bg.map(function(cZ){return cZ?"true":"false";},this.spellcheck)),bf.title(this.title),bf.style("height: 100%;  width: 100%; box-sizing: border-box; "),bf.placeholder(this.placeholder),new bl({$:8,$0:(cY=cC.Const(""),cF.DynamicPred("disabled",bg.toView(this.disabled),cY))})]),cW))]);}},null,br);br.New$1=function(cW){return br.New$3(bU.Lens(cW,function(cX){return cX==null?"":cX.$0;},function(cX,cY){return cX==null?null:{$:1,$0:cY};})).Disabled(bg.map(function(cX){return cX==null;},cW));};br.New$2=function(cW){return br.New$3(bU.Create$1(cW));};br.New$3=function(cW){return br.New(bg.fixit("form-control"),bg.fixit("Enter text:"),bg.fixit(""),bg.fixit(false),"",cW,bg.fixit(false));};br.New=function(cW,cX,cY,cZ,c0,c1,c2){return new br({_class:cW,placeholder:cX,title:cY,spellcheck:cZ,id:c0,"var":c1,disabled:c2});};bs.New=function(cW,cX){return{line:cW,ch:cX};};bt=bm.CodeMirrorEditor=b$.Class({},i,bt);bt.New=b$.Ctor(function(){},bt);bu=bm.CodeMirror=b$.Class({get_Var:function(){return this["var"];},Disabled:function(cW){return bu.New(this._class,this.style,this.id,this["var"],this.onChange,this.onRender,this.editorO,bg.fixit(cW));},OnRender:function(cW){return bu.New(this._class,this.style,this.id,this["var"],this.onChange,{$:1,$0:cW},this.editorO,this.disabled);},OnChange:function(cW){return bu.New(this._class,this.style,this.id,this["var"],cW,this.onRender,this.editorO,this.disabled);},Style:function(cW){return bu.New(this._class,bg.fixit(cW),this.id,this["var"],this.onChange,this.onRender,this.editorO,this.disabled);},SetVar:function(cW){return bu.New(this._class,this.style,this.id,cW,this.onChange,this.onRender,this.editorO,this.disabled);},Id:function(cW){return bu.New(this._class,this.style,cW,this["var"],this.onChange,this.onRender,this.editorO,this.disabled);},Class:function(cW){return bu.New(bg.fixit(cW),this.style,this.id,this["var"],this.onChange,this.onRender,this.editorO,this.disabled);},get_Render:function(){var cW;cW=this;return bf.div([bf["class"](this._class),new bl({$:8,$0:cG.Create("id",this.id)}),bf.style("position: relative; height: 300px"),bf.style(this.style),bf.div([bf.style("height: 100%; width: 100%; position: absolute;"),new bl({$:8,$0:cF.OnAfterRender(function(cX){a.CIPHERSpaceLoadFiles(bm.codeMirrorIncludes(),function(){var cY,cZ,c0,c1;cY=a.CodeMirror(cX,{theme:"rubyblue",lineNumbers:true,matchBrackets:true,gutters:["CodeMirror-lint-markers"],extraKeys:{Tab:function(c2){c2.replaceSelection("    ","end");},F11:function(c2){c2.setOption("fullScreen",!c2.getOption("fullScreen"));}}});cW.editorO={$:1,$0:cY};cZ=cW.onRender;cZ==null?void 0:cZ.$0(cY);c0=[0];c1=[0];cY.on("changes",function(){var c2;c2=cY.getValue();cW["var"].Get()!==c2?(c0[0]=c0[0]+1,cW["var"].Set(c2),cW.onChange()):void 0;});cC.Sink(function(){if(c0[0]>c1[0])c1[0]=c0[0];else if(cY.getValue()!==cW["var"].Get()){cY.setValue(cW["var"].Get());cY.getDoc().clearHistory();}},cW["var"].get_View());bg.sink(function(c2){cY.setOption("readOnly",c2&&"nocursor");},cW.disabled);});})})]),bf.link([bf.href("/EPFileX/codemirror/content/editor.css"),bf.type("text/css"),bf.rel("stylesheet")]),bf.link([bf.href("/EPFileX/codemirror/content/codemirror.css"),bf.type("text/css"),bf.rel("stylesheet")]),bf.link([bf.href("/EPFileX/codemirror/scripts/addon/display/fullscreen.css"),bf.type("text/css"),bf.rel("stylesheet")]),bf.link([bf.href("/EPFileX/codemirror/scripts/addon/dialog/dialog.css"),bf.type("text/css"),bf.rel("stylesheet")]),bf.link([bf.href("/EPFileX/codemirror/scripts/addon/hint/show-hint.css"),bf.type("text/css"),bf.rel("stylesheet")]),bf.link([bf.href("/EPFileX/codemirror/scripts/addon/lint/lint.css"),bf.type("text/css"),bf.rel("stylesheet")]),bf.css(".CodeMirror { height: 100% }")]);}},null,bu);bu.New$1=function(cW){return bu.New$3(bU.Lens(cW,function(cX){return cX==null?"":cX.$0;},function(cX,cY){return cX==null?null:{$:1,$0:cY};})).Disabled(bg.map(function(cX){return cX==null;},cW));};bu.New$2=function(cW){return bu.New$3(bU.Create$1(cW));};bu.New$3=function(cW){return bu.New(bg.fixit(""),bg.fixit(""),"",cW,a.ignore,null,null,bg.fixit(false));};bu.New=function(cW,cX,cY,cZ,c0,c1,c2,c3){return new bu({_class:cW,style:cX,id:cY,"var":cZ,onChange:c0,onRender:c1,editorO:c2,disabled:c3});};bv.New=function(cW,cX,cY){return{text:cW,displayText:cX,className:cY};};bw.New=function(cW,cX,cY){return{list:cW,from:cX,to:cY};};bx.New=function(cW,cX,cY){return{hint:cW,completeSingle:cX,container:cY};};by.New=function(cW,cX,cY,cZ){return{message:cW,severity:cX,from:cY,to:cZ};};bz=bm.SplitterBar=b$.Class({Children:function(cW){return bz.New(this.value,this.min,this.max,this.vertical,this.node,cW,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},get_After:function(){return bz.New(this.value,this.min,this.max,this.vertical,this.node,this.children,true,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},get_Before:function(){return bz.New(this.value,this.min,this.max,this.vertical,this.node,this.children,false,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Horizontal:function(){return bz.New(this.value,this.min,this.max,bg.fixit(false),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Vertical:function(){return bz.New(this.value,this.min,this.max,bg.fixit(true),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Horizontal$1:function(cW){return bz.New(this.value,this.min,this.max,bg.map(function(cX){return!cX;},bg.fixit(cW)),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Vertical$1:function(cW){return bz.New(this.value,this.min,this.max,bg.fixit(cW),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Max:function(cW){return bz.New(this.value,this.min,bg.fixit(cW),this.vertical,this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Min:function(cW){return bz.New(this.value,bg.fixit(cW),this.max,this.vertical,this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Node:function(cW){return bz.New(this.value,this.min,this.max,this.vertical,cW,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Value:function(cW){this.value.Set(cW);return this;},get_Render:function(){var cW;function cX(c2){return cW.startVer?c2.clientX:c2.clientY;}function cY(){var c2;c2=cW.domElem;return c2!=null&&c2.$==1?cW.startVer?cW.after?c2.$0.parentElement.getBoundingClientRect().width:-c2.$0.parentElement.getBoundingClientRect().width:cW.after?c2.$0.parentElement.getBoundingClientRect().height:-c2.$0.parentElement.getBoundingClientRect().height:100;}function cZ(c2){cW.value.Set((cX(c2)-cW.start)*100/cW.size+cW.startP);}function c0(){if(cW.dragging){cW.dragging=false;a.removeEventListener("mousemove",cZ,false);a.removeEventListener("mouseup",c0,false);}}function c1(c2,c3){return!cW.dragging?bg.iter(a.ignore,bg.map2(function(c4){return function(c5){cW.dragging=true;cW.startVer=c5;cW.startP=c4;cW.start=cX(c3);cW.size=cY();a.addEventListener("mousemove",cZ,false);a.addEventListener("mouseup",c0,false);return c3.preventDefault();};},cW.get_GetValue(),cW.vertical)):null;}cW=this;return this.node.AddChildren([bf["class"](bg.map(function(c2){return c2?"Vertical":"Horizontal";},this.vertical)),new bl({$:8,$0:cG.HandlerImpl("mousedown",function(c2){return function(c3){return c1(c2,c3);};})}),new bl({$:8,$0:cF.OnAfterRender(function(c2){cW.domElem={$:1,$0:c2};})}),bf.css("\n                    .Splitter.Vertical   { cursor: col-resize; background-color: #eef ; width : 5px ; margin-left:-7px; }\n                    .Splitter.Horizontal { cursor: row-resize; background-color: #eef ; height: 5px ; margin-top :-7px; }\n                ")]).AddChildren(this.children);},get_GetValue:function(){function cW(cY,cZ){return b8.Compare(cY,cZ)===-1?cY:cZ;}function cX(cY,cZ){return b8.Compare(cY,cZ)===1?cY:cZ;}return bg.map2(function(cY){return function(cZ){return cW(cY,cZ);};},this.max,bg.map2(function(cY){return function(cZ){return cX(cY,cZ);};},this.min,this.value));},get_Var:function(){return this.value;}},null,bz);bz.get_Render$3896$42=a.id;bz.New$1=function(cW){return bz.New$2(bU.Create$1(cW));};bz.New$2=function(cW){return bz.New(cW,bg.fixit(5),bg.fixit(95),bg.fixit(true),bf.div([bf["class"]("Splitter")]),cl.T.Empty,true,false,true,0,0,0,null);};bz.New=function(cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8){return new bz({value:cW,min:cX,max:cY,vertical:cZ,node:c0,children:c1,after:c2,dragging:c3,startVer:c4,startP:c5,start:c6,size:c7,domElem:c8});};bA.StFixedPerc={$:2};bA.StFixedPx={$:1};bA.StVariable={$:0};bB=bm.Grid=b$.Class({get_Render:function(){return bf.div(this.GridTemplate());},GridTemplate:function(){var cW;cW=this;return cl.ofSeq(b7.delay(function(){function cX(cY,cZ){return cY!=null&&cY.$==1?cZ.AddChildren([bf.style((function(c0){return function(c1){return c0("grid-area: "+ca.toSafe(c1)+"; dispxlay: grid");};}(a.id))(cY.$0))]):cZ;}return b7.append(b7.map(function(cY){return cX(cY[0],cY[1]);},cW.content),b7.delay(function(){function cY(cZ,c0){var c1;return c0.$==2?(c1=c0.$0,{$:1,$0:c1.get_Render().InsertChildren([bf.style1("grid-column",a.String(cZ+(c1.after?2:1))),bf.style1("grid-row",(function(c2){return function(c3){return c2("1 / "+a.String(c3));};}(a.id))(cc.length(cW.rows)+1))])}):c0.$==1?null:null;}return b7.append(b7.choose(function(cZ){return cY(cZ[0],cZ[1]);},b7.indexed(cW.cols)),b7.delay(function(){function cZ(c0,c1){var c2;return c1.$==2?(c2=c1.$0,{$:1,$0:c2.get_Render().InsertChildren([bf.style1("grid-row",a.String(c0+(c2.after?2:1))),bf.style1("grid-column",(function(c3){return function(c4){return c3("1 / "+a.String(c4));};}(a.id))(cc.length(cW.cols)+1))])}):c1.$==1?null:null;}return b7.append(b7.choose(function(c0){return cZ(c0[0],c0[1]);},b7.indexed(cW.rows)),b7.delay(function(){return b7.append(cW.styles(),b7.delay(function(){return b7.append([bf.style((((b$.Curried3(function(c0,c1,c2){return c0("display: grid; grid-gap: "+c1.toFixed(6)+"px; padding: "+c2.toFixed(6)+"px; box-sizing: border-box");}))(a.id))(cW.gap))(cW.padding))],b7.delay(function(){return[new bl({$:8,$0:cF.OnAfterRender(function(c0){function c1(c3,c4){return!b8.Equals(c3.Get(),c4)?c3.Set(c4):null;}function c2(){var c3;c3=c0.getBoundingClientRect();c1(cW.widthHeight,[c3.width,c3.height]);}c2();bm.addResizeObserver(c2,c0);})})];}));}));}));}));}));}));},styles:function(){return cl.ofArray([bf.style1("grid-template-columns",this.style(this.cols,bg.map(function(cW){return cW[0];},this.widthHeight))),bf.style1("grid-template-rows",this.style(this.rows,bg.map(function(cW){return cW[1];},this.widthHeight)))]);},style:function(cW,cX){var cY,cZ,c0,c1;function c2(c5,c6){return function(c7){return c7.$==2?[bg.map2(function(c8){return function(c9){return c8+c9;};},c7.$0.get_GetValue(),c5),c6]:c7.$==1?c7.$0.$==1?[c5,bg.map2(function(c8){return function(c9){return c8+c9;};},c7.$0.$0,c6)]:[bg.map2(function(c8){return function(c9){return c8+c9;};},c7.$0.$0,c5),c6]:[c5,c6];};}function c3(c5){return bg.map2(function(c6){return function(c7){var c8,c9,c_;c8=(c9=c6*c7,(c_=0,b8.Compare(c_,c9)===1?c_:c9));return(function(c$){return function(da){return c$(da.toFixed(6)+"%");};}(a.id))(c8);};},c0,c5);}function c4(c5){return bg.map(function(c6){var c7,c8;c7=(c8=0,b8.Compare(c8,c6)===1?c8:c6);return(function(c9){return function(c_){return c9(c_.toFixed(6)+"px");};}(a.id))(c7);},c5);}cY=this;return cc.length(cW)===0?new bg({$:0,$0:"100%"}):(cZ=b7.fold(function(c5,c6){return(function(c7){return c2(c7[0],c7[1]);}(c5))(c6);},[new bg({$:0,$0:0}),new bg({$:0,$0:0})],cW),(c0=bg.map2(function(c5){return function(c6){return(c6-cY.padding*2-cY.gap*(cc.length(cW)-1)-c5)/(c6-cY.padding*2);};},cZ[1],cX),(c1=bg.map(function(c5){return 100-c5;},cZ[0]),bg.map(function(c5){return b9.concat(" ",c5);},b7.foldBack(function(c5,c6){function c7(c8,c9){return new cl.T({$:1,$0:c9,$1:c8});}return bg.map2(function(c8){return function(c9){return c7(c8,c9);};},c6,c5.$==2?c3(c5.$0.get_GetValue()):c5.$==1?c5.$0.$==1?c4(c5.$0.$0):c3(c5.$0.$0):c3(c1));},cW,new bg({$:0,$0:cl.T.Empty}))))));},Children:function(cW){return this.changeSplitter(function(cX){return cX.Children(cW);});},Min:function(cW){return this.changeSplitter(function(cX){return cX.Min(cW);});},Max:function(cW){return this.changeSplitter(function(cX){return cX.Max(cW);});},get_Before:function(){return this.changeSplitter(function(cW){return cW.get_Before();});},changeSplitter:function(cW){var cX,cY,cZ,c0,c1,c2;cX=this;cY=this.lastSplitter;cY==null?void 0:(cZ=cY.$0,c0=cZ[0],cZ[1]?(c1=cc.get(cX.cols,c0),c1.$==2?cc.set(cX.cols,c0,{$:2,$0:cW(c1.$0)}):void 0):(c2=cc.get(cX.rows,c0),c2.$==2?cc.set(cX.rows,c0,{$:2,$0:cW(c2.$0)}):void 0));return this;},Gap:function(cW){return bB.New(this.padding,cW,this.content,this.cols,this.rows,this.widthHeight,this.lastSplitter);},Padding:function(cW){return bB.New(cW,this.gap,this.content,this.cols,this.rows,this.widthHeight,this.lastSplitter);},Content:function(cW){return bB.New(this.padding,this.gap,this.content.concat([[null,cW]]),this.cols,this.rows,this.widthHeight,this.lastSplitter);},Content$1:function(cW,cX){return bB.New(this.padding,this.gap,this.content.concat([[{$:1,$0:cW},cX]]),this.cols,this.rows,this.widthHeight,this.lastSplitter);},RowAuto:function(cW){return bB.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:0,$0:bz.New$1(cW).Horizontal()}]),this.widthHeight,this.lastSplitter);},RowVariable:function(cW){return this.NewSplitter$1(cW,false);},RowVariable$1:function(cW){return this.NewSplitter(cW,false);},RowVariable$2:function(cW){return bB.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:2,$0:cW}]),this.widthHeight,this.lastSplitter);},RowFixed:function(cW){return bB.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:1,$0:{$:0,$0:bg.fixit(cW)}}]),this.widthHeight,this.lastSplitter);},RowFixedPx:function(cW){return bB.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:1,$0:{$:1,$0:bg.fixit(cW)}}]),this.widthHeight,this.lastSplitter);},ColAuto:function(cW){return bB.New(this.padding,this.gap,this.content,this.cols.concat([{$:0,$0:bz.New$1(cW)}]),this.rows,this.widthHeight,this.lastSplitter);},ColVariable:function(cW){return this.NewSplitter$1(cW,true);},ColVariable$1:function(cW){return this.NewSplitter(cW,true);},ColVariable$2:function(cW){return bB.New(this.padding,this.gap,this.content,this.cols.concat([{$:2,$0:cW}]),this.rows,this.widthHeight,this.lastSplitter);},ColFixed:function(cW){return bB.New(this.padding,this.gap,this.content,this.cols.concat([{$:1,$0:{$:0,$0:bg.fixit(cW)}}]),this.rows,this.widthHeight,this.lastSplitter);},ColFixedPx:function(cW){return bB.New(this.padding,this.gap,this.content,this.cols.concat([{$:1,$0:{$:1,$0:bg.fixit(cW)}}]),this.rows,this.widthHeight,this.lastSplitter);},NewSplitter:function(cW,cX){return this.NewSplitter$1(bU.Create$1(cW),cX);},NewSplitter$1:function(cW,cX){var cY,cZ,c0;cY=bz.New$2(cW);return cX?(cZ={$:1,$0:[cc.length(this.cols),cX]},bB.New(this.padding,this.gap,this.content,this.cols.concat([{$:2,$0:cY}]),this.rows,this.widthHeight,cZ)):(c0={$:1,$0:[cc.length(this.rows),cX]},bB.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:2,$0:cY.Horizontal()}]),this.widthHeight,c0));}},null,bB);bB.NewBisect=function(cW,cX,cY,cZ,c0,c1){var c2,c3,c4;c2=cY?[cX.$==1?function(c5){return c5.ColFixedPx(cZ);}:cX.$==2?function(c5){return c5.ColFixed(cZ);}:function(c5){return c5.ColVariable(cZ);},function(c5){return c5.ColAuto(50);},function(c5){return c5.Content(bf.style("grid-template-areas: 'one   two' "));}]:[cX.$==1?function(c5){return c5.RowFixedPx(cZ);}:cX.$==2?function(c5){return c5.RowFixed(cZ);}:function(c5){return c5.RowVariable(cZ);},function(c5){return c5.RowAuto(50);},function(c5){return c5.Content(bf.style("grid-template-areas: 'one' 'two' "));}];c3=c2[0];c4=c2[1];return(cW?function(c5){return c4(c3(c5));}:function(c5){return c3(c4(c5));})(c2[2](bB.get_New().Content$1("one",c0).Content$1("two",c1).Padding(0)));};bB.get_New=function(){return bB.New(9,9,[],[],[],bU.Create$1([1000,100]),null);};bB.New=function(cW,cX,cY,cZ,c0,c1,c2){return new bB({padding:cW,gap:cX,content:cY,cols:cZ,rows:c0,widthHeight:c1,lastSplitter:c2});};bC=bm.TabStrip=b$.Class({get_Render:function(){var cW,cX,cY,cZ;function c0(c2,c3){return c3.preventDefault();}function c1(c2,c3){c3.preventDefault();return cW.reorder(cc.length(cW.tabs.Get()));}cW=this;cX=bf.bindHElem(function(c2){return bf.div(cl.ofSeq(b7.delay(function(){return b7.append([bf["class"]((((b$.Curried3(function(c3,c4,c5){return c3("tab-strip "+ca.toSafe(c4)+" "+ca.toSafe(c5));}))(a.id))(cW.top?"top":"bottom"))(cW.horizontal?"horizontal":"vertical"))],b7.delay(function(){return b7.collect(function(c3){var c4;function c5(c9,c_){return c_.preventDefault();}function c6(c9,c_){(bm.draggedTab())[0]={$:1,$0:[cW,c4]};}function c7(c9,c_){c_.preventDefault();c_.stopPropagation();return cW.reorder(c4);}function c8(c9,c_){return cW.selected.Set(c4);}c4=c3[0];return[bp.get_New().Content(bf.div([bf.htmlText(c3[1][1][0]),bf["class"](bg.map(function(c9){return"tab"+(c9===c4?" selected":"");},cW.selected)),bf.draggable("true"),new bl({$:8,$0:cG.HandlerImpl("dragover",function(c9){return function(c_){return c5(c9,c_);};})}),new bl({$:8,$0:cG.HandlerImpl("drag",function(c9){return function(c_){return c6(c9,c_);};})}),new bl({$:8,$0:cG.HandlerImpl("drop",function(c9){return function(c_){return c7(c9,c_);};})}),new bl({$:8,$0:cG.HandlerImpl("click",function(c9){return function(c_){return c8(c9,c_);};})})]))];},b7.indexed(c2));}));})));},this.tabs);bg.sink((cY=this.id,function(c2){bm.setSelectedPanel(cY,c2);}),this.get_Selected());cZ=bf.bindHElem(function(c2){return bf.div(cl.ofSeq(b7.delay(function(){return b7.append([bf["class"]("tab-children")],b7.delay(function(){return b7.append([bf.Id(bm.uid2s(cW.id))],b7.delay(function(){function c3(c4,c5){return c5[1].AddChildren([bf.style(bg.map(function(c6){return b7.contains(c4,b7.map(function(c7){return c7[1];},cx.ToSeq(c6)))?"":"display : none";},bm.selectedPanels())),bf.Id(bm.uid2s(c4))]);}return b7.map(function(c4){return c3(c4[0],c4[1]);},c2);}));}));})));},this.tabs);return bf.div([bf["class"]("tab-panel"),this.top?cX:bl.HtmlEmpty,bf.div([cZ,bf["class"]("tab-content")]),!this.top?cX:bl.HtmlEmpty,new bl({$:8,$0:cG.HandlerImpl("dragover",function(c2){return function(c3){return c0(c2,c3);};})}),new bl({$:8,$0:cG.HandlerImpl("drop",function(c2){return function(c3){return c1(c2,c3);};})}),bf.css("\n    \n    .tab-panel {\n     overflow  : hidden   ;\n     display   : flex     ;\n     flex-flow : column   ;\n     background: lightgray;\n    }\n    .tab-content {\n     flex      : 1 1     ;\n     overflow  : auto    ;\n     position  : relative;\n    }\n    .tab-children {\n     height    : 100%    ;\n     width     : 100%    ;\n     position  : absolute;\n     display   : grid    ;\n    }\n    .tab-strip {\n     padding   : 0pt     ;\n     flex      : 0 0     ;\n    }\n    .tab {\n     border     : 0.2pt solid transparent;\n     padding    : 0pt 4pt;\n     display    : inline-block;\n     font-family: sans-serif;\n     font-weight: 200;\n     font-size  : small;\n     color      : #666;\n     cursor     : pointer;\n    }\n    .top>.tab {\n     border-radius: 2pt 2pt 0pt 0pt;\n     border-bottom-width: 0pt;\n     vertical-align: bottom;\n    }\n    .bottom>.tab {\n     border-top-width: 0pt;\n     border-radius: 0pt 0pt 2pt 2pt;\n     vertical-align: top;\n    }\n    .horizontal>.tab:not(:first-child) {\n     border-left-width: 0pt;\n    }\n    .tab.hovering {\n     background: red;\n    }\n    .tab.selected {\n     background: white;\n     border-left-width: 0.2pt;\n     color: black;\n     font-weight: 500;\n     border-color: black;\n    }\n    .horizontal>.tab.selected {\n     border-left-width: 0.2pt;\n    }\n    ")]);},Select:function(cW){var cX,cY;function cZ(c0,c1){return b8.Equals(c1[0],cW)?(cX.selected.Set(c0),{$:1,$0:true}):null;}cX=this;cY=b7.tryPick(function(c0){return cZ(c0[0],c0[1]);},b7.indexed(this.tabs.Get()));return cY==null?false:cY.$0;},Select$1:function(cW){var cX,cY;function cZ(c0,c1){return c1[1][0]===cW?(cX.selected.Set(c0),{$:1,$0:true}):null;}cX=this;cY=b7.tryPick(function(c0){return cZ(c0[0],c0[1]);},b7.indexed(this.tabs.Get()));return cY==null?false:cY.$0;},Select$2:function(cW){this.selected.Set(cW);},get_Selected:function(){return bg.map2(function(cW){return function(cX){var cY;cY=b7.tryItem(cX,cW);return cY==null?null:{$:1,$0:cY.$0[0]};};},this.tabs,this.selected);},get_Vertical:function(){return bC.New(this.selected,this.tabs,this.top,false,this.id);},get_Horizontal:function(){return bC.New(this.selected,this.tabs,this.top,true,this.id);},SetTop:function(cW){return bC.New(this.selected,this.tabs,cW,this.horizontal,this.id);},get_Bottom:function(){return bC.New(this.selected,this.tabs,false,this.horizontal,this.id);},get_Top:function(){return bC.New(this.selected,this.tabs,true,this.horizontal,this.id);},reorder:function(cW){var cX,cY,cZ;cZ=(bm.draggedTab())[0];if(cZ!=null&&cZ.$==1){if(!b8.Equals(cZ.$0[0].id,this.id))this.moveTab(cZ.$0[0],cZ.$0[1],cW);else if(cZ!=null&&cZ.$==1){cX=cZ.$0[1];this.tabs.Set(bm.reorderArray(this.tabs.Get(),cX,cW));cY=this.selected.Get();this.selected.Set(cY===cX?cW:cY<cX&&cY<cW||cY>cX&&cY>cW?cY:cY<cX?cY+1:cY-1);}else throw new cL.New("Compiled\\FSharpStation2\\FSharpStation.fs",4194,18);}else void 0;},moveTab:function(cW,cX,cY){var cZ,c0,c1,c2;cZ=this.tabs.Get();c0=cW.tabs.Get();c1=cc.collect(a.id,[cB.array(cZ,{$:1,$0:0},{$:1,$0:cY-1}),[cc.get(c0,cX)],cB.array(cZ,{$:1,$0:cY},{$:1,$0:cc.length(cZ)-1})]);c2=cc.collect(a.id,[cB.array(c0,{$:1,$0:0},{$:1,$0:cX-1}),cB.array(c0,{$:1,$0:cX+1},{$:1,$0:cc.length(c0)-1})]);cW.tabs.Set(c2);this.tabs.Set(c1);this.selected.Set(cY);cW.selected.Get()>=cc.length(c2)?cW.selected.Set(0):void 0;bm.RaiseTabMoved(cW,this);}},null,bC);bC.get_Render$4265$42=b$.Curried3(function(cW,cX,cY){cY.preventDefault();return cW.reorder(cc.length(cW.tabs.Get()));});bC.get_Render$4264$42=b$.Curried3(function(cW,cX,cY){return cY.preventDefault();});bC.get_Render$4240$70=function(cW,cX){return function(){return function(){return cX.selected.Set(cW);};};};bC.get_Render$4239$70=function(cW,cX){return function(){return function(cY){cY.preventDefault();cY.stopPropagation();return cX.reorder(cW);};};};bC.get_Render$4238$70=function(cW,cX){return function(){return function(){(bm.draggedTab())[0]={$:1,$0:[cW,cX]};};};};bC.get_Render$4237$70=b$.Curried3(function(cW,cX,cY){return cY.preventDefault();});bC.New$1=function(cW){return bC.New$2(bU.Create$1(cc.ofSeq(b7.map(function(cX){return[ck.NewGuid(),cX];},cW))));};bC.New$2=function(cW){return bC.New(bU.Create$1(0),cW,false,true,ck.NewGuid());};bC.New=function(cW,cX,cY,cZ,c0){return new bC({selected:cW,tabs:cX,top:cY,horizontal:cZ,id:c0});};bD=bm.MenuEntry=b$.Class({get_MenuNode:function(){return new bE({$:1,$0:this});},SubMenu:function(cW){return bD.New(this.text,this.ref,this.active,this.disabled,{$:1,$0:bF.New2(cW).get_DropDown()},this.toolTip,this.target,this.divider,this.onClick);},SubMenu$1:function(cW){return bD.New(this.text,this.ref,this.active,this.disabled,{$:1,$0:bF.New$1(cW).get_DropDown()},this.toolTip,this.target,this.divider,this.onClick);},Disabled:function(cW){return bD.New(this.text,this.ref,this.active,bg.fixit(cW),this.subMenu,this.toolTip,this.target,this.divider,this.onClick);},OnClick:function(cW){return bD.New(this.text,this.ref,this.active,this.disabled,this.subMenu,this.toolTip,this.target,this.divider,{$:1,$0:cW});},get_Divider:function(){return bD.New(this.text,this.ref,this.active,this.disabled,this.subMenu,this.toolTip,this.target,true,this.onClick);},Target:function(cW){return bD.New(this.text,this.ref,this.active,this.disabled,this.subMenu,this.toolTip,{$:1,$0:cW},this.divider,this.onClick);},get_Render:function(){var cW,cX,cY,cZ,c0,c1,c2,c3,c4;return(this.divider?function(c5){return bf.addClass("divider",c5);}:a.id)((cW=(cX=(cY=(cZ=bm.entryTxt(this.text,(c0=this.target,c0==null?"":c0.$0),this.ref),(bf.addClassIf("active",this.active))(cZ)),(bf.addClassIf("disabled",this.disabled))(cY)),(c1=this.subMenu,(c1!=null&&c1.$==1?(c2=cl.ofArray([bf["class"]("dropdown"),c1.$0.get_Render()]),function(c5){return bf.addChildren(c2,c5);}):a.id)(cX))),(c3=this.onClick,(c3!=null&&c3.$==1?(c4=cl.ofArray([new bl({$:8,$0:cG.HandlerImpl("click",c3.$0)}),bf.style("cursor : pointer")]),function(c5){return bf.addChildren(c4,c5);}):a.id)(cW))));}},null,bD);bD.get_Render$4378$104=a.id;bD.New$1=function(cW,cX){var cY;cY=bD.New$2(cW);return bD.New(cY.text,bg.map(function(cZ){return{$:1,$0:cZ};},cX),cY.active,cY.disabled,cY.subMenu,cY.toolTip,cY.target,cY.divider,cY.onClick);};bD.New$2=function(cW){var cX,cY;cX=bg.fixit(cW);cY=bg.fixit(false);return bD.New(cX,new bg({$:0,$0:null}),cY,bg.fixit(false),null,null,null,false,null);};bD.New=function(cW,cX,cY,cZ,c0,c1,c2,c3,c4){return new bD({text:cW,ref:cX,active:cY,disabled:cZ,subMenu:c0,toolTip:c1,target:c2,divider:c3,onClick:c4});};bE=bm.MenuNode=b$.Class({get_Render:function(){return this.$==1?this.$0.get_Render():this.$0;}},null,bE);bF=bm.Menu=b$.Class({get_Render:function(){var cW;cW=this;return(this.dropdown?bm.dropdown:bm.nav)(cl.ofSeq(b7.delay(function(){return b7.map(function(cX){return cX.get_Render();},cW.entries);})));},get_DropDown:function(){return bF.New(this.entries,true);}},null,bF);bF.New2=function(cW){return bF.New$1(b7.map(function(cX){return new bE({$:1,$0:cX});},cW));};bF.New$1=function(cW){return bF.New(cW,false);};bF.New=function(cW,cX){return new bF({entries:cW,dropdown:cX});};bG=bm.Action=b$.Class({get_Button:function(){var cW,cX,cY;function cZ(c0,c1){return null;}cW=(cX=(cY=this.onClick,cY==null?null:{$:1,$0:cY.$0(this)}),cX==null?function(c0){return function(c1){return cZ(c0,c1);};}:cX.$0);return bn.New(bg.map(function(c0){return c0?"btn btn-primary":"btn";},this.highlight),bg.fixit("button"),bg.fixit(""),this.text,cW,this.disabled,"");},get_MenuEntry:function(){var cW,cX;cW=(cX=this.onClick,cX==null?null:{$:1,$0:cX.$0(this)});return bD.New(this.text,new bg({$:0,$0:null}),this.highlight,this.disabled,null,this.toolTip,null,false,cW);},Highlight:function(cW){return bG.New(this.text,bg.fixit(cW),this.disabled,this.toolTip,this.onClick,this.parms);},Disabled:function(cW){return bG.New(this.text,this.highlight,bg.fixit(cW),this.toolTip,this.onClick,this.parms);},OnClick2:function(cW){return bG.New(this.text,this.highlight,this.disabled,this.toolTip,{$:1,$0:cW},this.parms);},OnClick:function(cW){return bG.New(this.text,this.highlight,this.disabled,this.toolTip,{$:1,$0:function(){return cW;}},this.parms);},Parms:function(cW){return bG.New(this.text,this.highlight,this.disabled,this.toolTip,this.onClick,{$:1,$0:cW});},Text:function(cW){return bG.New(bg.fixit(cW),this.highlight,bg.fixit(false),this.toolTip,this.onClick,this.parms);}},null,bG);bG.New$1=function(cW){return bG.New(bg.fixit(cW),bg.fixit(false),bg.fixit(false),null,null,null);};bG.New=function(cW,cX,cY,cZ,c0,c1){return new bG({text:cW,highlight:cX,disabled:cY,toolTip:cZ,onClick:c0,parms:c1});};bH=bm.GuiPart=b$.Class({GetHtmlNode:function(cW,cX){var cY,cZ,c0,c1,c2,c3;return this.$==1?[this.$0,a.ignore]:this.$==2?[this.$0.get_Button().get_Render(),a.ignore]:this.$==5?[cW.GetCallButton(this.$0,this.$1,this.$2),a.ignore]:this.$==4?(cY=bC.New$1(b7.map(function(c4){return[c4,cW.GetNode(c4)];},this.$1)).SetTop(this.$0),(bm.addValue(cX,cY,cW.tabStrips),[cY.get_Render(),a.ignore])):this.$==3?(cZ=this.$3,(c0=bU.Create$1(this.$6),(c1=bU.Create$1(this.$7),(c2=bU.Create$1(cZ),(c3=[cZ],[bB.NewBisect(this.$0,this.$1,this.$2,c2,cW.GetNode(this.$4),cW.GetNode(this.$5)).Min(c0).Max(c1).get_Render(),function(c4){var c5;if(c4.$==3){c5=c4.$3;c3[0]!==c5?(c3[0]=c5,c2.Set(c5)):void 0;c0.Set(c4.$6);c1.Set(c4.$7);}}]))))):[bl.HtmlEmpty,a.ignore];}},null,bH);bI.New=function(cW,cX,cY,cZ,c0,c1,c2){return{HtmlElementF:cW,HtmlAttributeF:cX,HtmlAttributeOF:cY,HtmlTextF:cZ,HtmlEmptyF:c0,HtmlGuiPart:c1,HtmlGuiCall:c2};};bJ.New=function(cW,cX,cY,cZ,c0){return{GuiRoot:cW,GuiTabStrip:cX,GuiSplit:cY,GuiNode:cZ,GuiCall:c0};};bK.get_New=function(){return{$:0,$0:ck.NewGuid()};};bL=bm.Layout=b$.Class({SelectTab:function(cW){b7.iter(function(cX){cX.Select$1(cW);},this.tabStrips.get_Values());},SetLayoutJson:function(cW,cX){var cY,c1;function cZ(c3){var c4,c5,c6,c7,c8,c9,c_;c4=bm.PHtmlElementF(c3);return c4!=null&&c4.$==1?{$:1,$0:new bl({$:0,$0:c4.$0[0],$1:b7.choose(cZ,c4.$0[1])})}:(c5=bm.PHtmlAttributeF(c3),c5!=null&&c5.$==1?{$:1,$0:new bl({$:3,$0:c5.$0[0],$1:new bg({$:0,$0:c5.$0[1]})})}:(c6=bm.PHtmlAttributeOF(c3),c6!=null&&c6.$==1?{$:1,$0:new bl({$:4,$0:c6.$0[0],$1:new bg({$:0,$0:c6.$0[1]})})}:(c7=bm.PHtmlTextF(c3),c7!=null&&c7.$==1?{$:1,$0:new bl({$:5,$0:new bg({$:0,$0:c7.$0})})}:(c8=bm.PHtmlEmptyF(c3),c8!=null&&c8.$==1)?{$:1,$0:bl.HtmlEmpty}:(c9=bm.PHtmlGuiPart(c3),c9!=null&&c9.$==1?{$:1,$0:c1.GetNode(c9.$0)}:(c_=bm.PHtmlGuiCall(c3),c_!=null&&c_.$==1?{$:1,$0:c1.GetCallButton(c_.$0[0],c_.$0[1],c_.$0[2])}:null)))));}function c0(c3){var c4,c5,c6,c7,c8,c9;c4=bm.PGuiNode(c3);return c4!=null&&c4.$==1?{$:1,$0:new bH({$:1,$0:g.defaultValue(bl.HtmlEmpty,cZ(c4.$0))})}:(c5=bm.PGuiRoot(c3),c5!=null&&c5.$==1?{$:1,$0:new bH({$:0,$0:c5.$0})}:(c6=bm.PGuiTabStrip(c3),c6!=null&&c6.$==1?{$:1,$0:(c7=c6.$0,new bH({$:4,$0:c7[0],$1:c7[1]}))}:(c8=bm.PGuiSplit(c3),c8!=null&&c8.$==1?{$:1,$0:new bH({$:3,$0:c8.$0[0],$1:bm.toSect(c8.$0[1]),$2:c8.$0[2],$3:c8.$0[3],$4:c8.$0[4],$5:c8.$0[5],$6:c8.$0[6],$7:c8.$0[7]})}:(c9=bm.PGuiCall(c3),c9!=null&&c9.$==1?{$:1,$0:new bH({$:5,$0:c9.$0[0],$1:c9.$0[1],$2:c9.$0[2]})}:null))));}c1=this;function c2(c3,c4){var c5;c5=c0(c4);return c5==null?null:{$:1,$0:[c3,{$:1,$0:c4},c5.$0]};}try{cY=this.AddNewSteps(cW,cX===""?[]:cc.choose(function(c3){return c2(c3[0],c3[1]);},((cq.DecodeArray(cq.DecodeTuple([cq.Id(),b2.j$12])))())(cn.parse(cX))));}catch(c3){cY=(function(c4){return function(c5){return c4("Error: "+ca.prettyPrint(c5));};}(function(c4){cd.log(c4);}))(c3);}},AddNewSteps:function(cW,cX){var cY;function cZ(c1,c2,c3){var c4,c5;if(cY.parts.ContainsKey(c1)){c4=cY.parts.get_Item(c1);c5=c4[0];b8.Equals((c5.Get())[0],c2)?bg.iter(a.ignore,bg.apply(new bg({$:0,$0:c3}),c4[2])):c5.Set([c2,c3]);}else cY.AddNode(c1,c2,c3);}function c0(c1,c2){return b7.last(c2);}cY=this;cc.iter(function(c1){return cZ(c1[0],c1[1],c1[2]);},cc.map(function(c1){return c0(c1[0],c1[1]);},cc.groupBy(function(c1){return a.id(c1[0],c1[1],c1[2]);},cW.concat(cX))));},get_Render:function(){function cW(cX){var cY;cY=cX.Get();return cY[1].$==0?{$:1,$0:cY[1].$0}:null;}return this.GetNode(g.defaultValue("main",b7.tryPick(function(cX){return cW(bm.t1of3.apply(null,cX));},this.parts.get_Values())));},GetNode:function(cW){var cX;cX=null;return this.parts.TryGetValue(cW,{get:function(){return cX;},set:function(cY){cX=cY;}})?bm.t2of3(cX[0],cX[1],cX[2]):this.AddNode(cW,bK.get_New(),new bH({$:1,$0:bf.div([bf.htmlText((function(cY){return function(cZ){return cY("GuiPart "+ca.toSafe(cZ)+" not found");};}(a.id))(cW))])}));},AddNode:function(cW,cX,cY){var cZ,c0,c1,c2;function c3(c4,c5){return c5.GetHtmlNode(cZ,cW);}cZ=this;c0=bU.Create$1([cX,cY]);c1=bg.map(function(c4){return c3(c4[0],c4[1]);},c0);c2=new bl({$:2,$0:bg.map(function(c4){return c4[0];},c1)});this.parts.Add(cW,[c0,c2,bg.map(function(c4){return c4[1];},c1)]);return c2;},GetCallButton:function(cW,cX,cY){var cZ;cZ=m.Success(this.GetGuiCallAction(cW,cX,cY));return cZ.$==1?bf.div([bf.htmlText(b9.concat(". ",m.msgs2String(cZ.$0)))]):cZ.$0[0].get_Button().get_Render();},GetGuiCallAction:function(cW,cX,cY){var cZ;return this.parts.ContainsKey(cX)?(cZ=(this.parts.get_Item(cX))[0].Get(),cZ[1].$==2?m.succeed(cZ[1].$0.Text(cW).Parms(cc.map(a.id,cY))):m.failSimpleError((function(c0){return function(c1){return c0("GuiPart "+ca.toSafe(c1)+" is not a GuiAction");};}(a.id))(cX))):m.failSimpleError((function(c0){return function(c1){return c0("GuiAction "+ca.toSafe(c1)+" not found");};}(a.id))(cX));}},null,bL);bL.New$1=function(cW){var cX;function cY(cZ,c0,c1){cX.AddNode(cZ,c0,c1);}cX=bL.New(new ch.New$5(),new ch.New$5());b7.iter(function(cZ){return cY(cZ[0],cZ[1],cZ[2]);},cW);return cX;};bL.AddGuids=function(cW){function cX(cY,cZ){return[cY,cZ.$==2?bK.get_New():cZ.$==0?{$:2,$0:cZ.$0}:cZ.$==3?{$:4,$0:cZ.$0,$1:cZ.$1,$2:cZ.$2,$3:cZ.$4,$4:cZ.$5}:cZ.$==4?{$:3,$0:cZ.$0,$1:cZ.$1}:cZ.$==5?{$:5,$0:cZ.$0,$1:cZ.$1,$2:cZ.$2}:bK.get_New(),cZ];}return cc.ofSeq(b7.map(function(cY){return cX(cY[0],cY[1]);},cW));};bL.New=function(cW,cX){return new bL({parts:cW,tabStrips:cX});};bm.varVerSplitter=function(cW,cX,cY,cZ,c0){return new bH({$:3,$0:true,$1:bA.StVariable,$2:true,$3:cW,$4:cX,$5:cY,$6:cZ,$7:c0});};bm.varHorSplitter=function(cW,cX,cY,cZ,c0){return new bH({$:3,$0:true,$1:bA.StVariable,$2:false,$3:cW,$4:cX,$5:cY,$6:cZ,$7:c0});};bm.fixPcVerSplitter=function(cW,cX,cY,cZ){return new bH({$:3,$0:cW,$1:bA.StFixedPerc,$2:true,$3:cX,$4:cY,$5:cZ,$6:5,$7:95});};bm.fixPcHorSplitter=function(cW,cX,cY,cZ){return new bH({$:3,$0:cW,$1:bA.StFixedPerc,$2:false,$3:cX,$4:cY,$5:cZ,$6:5,$7:95});};bm.fixedVerSplitter=function(cW,cX,cY,cZ){return new bH({$:3,$0:cW,$1:bA.StFixedPx,$2:true,$3:cX,$4:cY,$5:cZ,$6:5,$7:95});};bm.fixedHorSplitter=function(cW,cX,cY,cZ){return new bH({$:3,$0:cW,$1:bA.StFixedPx,$2:false,$3:cX,$4:cY,$5:cZ,$6:5,$7:95});};bm.t3of3=function(cW,cX,cY){return cY;};bm.t2of3=function(cW,cX,cY){return cX;};bm.t1of3=a.id;bm.toSect=function(cW){return cW==="StVariable"?bA.StVariable:cW==="StFixedPx"?bA.StFixedPx:bA.StFixedPerc;};bm.PGuiCall=function(cW){return cW.GuiCall;};bm.PGuiNode=function(cW){return cW.GuiNode;};bm.PGuiRoot=function(cW){return cW.GuiRoot;};bm.PGuiSplit=function(cW){return cW.GuiSplit;};bm.PGuiTabStrip=function(cW){return cW.GuiTabStrip;};bm.PHtmlGuiCall=function(cW){return cW.HtmlGuiCall;};bm.PHtmlGuiPart=function(cW){return cW.HtmlGuiPart;};bm.PHtmlEmptyF=function(cW){return cW.HtmlEmptyF;};bm.PHtmlTextF=function(cW){return cW.HtmlTextF;};bm.PHtmlAttributeOF=function(cW){return cW.HtmlAttributeOF;};bm.PHtmlAttributeF=function(cW){return cW.HtmlAttributeF;};bm.PHtmlElementF=function(cW){return cW.HtmlElementF;};bm.addValue=function(cW,cX,cY){cY.Remove(cW);cY.Add(cW,cX);};bm.processLayoutSteps=function(cW,cX){var cY,cZ;return g.defaultValue(cX,(cY=b7.tryHead(cW),cY==null?null:{$:1,$0:(cZ=cY.$0,bm.processLayoutSteps(b7.skip(1,cW),cX.Add(cZ[0],cZ[1])))}));};bm.HtmlGuiCall=function(cW,cX,cY){return new bH({$:5,$0:cW,$1:cX,$2:cY});};bm.Do2=function(cW,cX,cY,cZ,c0){return cW(cY,cX);};bm.Do=function(cW,cX,cY,cZ){return cW(cX);};bm.navbar=function(cW,cX,cY){return bf.div([bf["class"]("navbar navbar-default"),bf.div([bf["class"]("container-fluid"),bf.div([bf["class"]("navbar-header"),bf.div([bf["class"]("navbar-brand"),cW])]),bf.div([bf["class"]("navbar-collapse collapse"),cX,bf.addClass("navbar-right",cY)])])]);};bm.dropdown=function(cW){return bm.entries(cW,"dropdown-menu");};bm.nav=function(cW){return bm.entries(cW,"nav navbar-nav");};bm.entries=function(cW,cX){return bf.addClass(cX,bf.ul(cW));};bm.entryTxt=function(cW,cX,cY){return bm.menuEntry(bm.refText(cW,cX,cY));};bm.refText=function(cW,cX,cY){return bf.bindHElem(function(cZ){return cZ===""?bl.HtmlEmpty:bm.refA(bf.htmlText(cZ),cZ,cY);},cW);};bm.refA=function(cW,cX,cY){return bf.a([cW,bf.hrefO(cY),bf.target(cX)]);};bm.menuEntry=function(cW){return bf.li([cW]);};bm.RaiseTabMoved=function(cW,cX){var cY;cY=bm.TabMoved();cY==null?void 0:cY.$0([cW,cX]);};bm.TabMoved=function(){b1.$cctor();return b1.TabMoved;};bm.set_TabMoved=function(cW){b1.$cctor();b1.TabMoved=cW;};bm.setSelectedPanel=function(cW,cX){bm.selectedPanels().Set(cX==null?bm.selectedPanels().Get().Remove(cW):bm.selectedPanels().Get().Add(cW,cX.$0));};bm.selectedPanels=function(){b1.$cctor();return b1.selectedPanels;};bm.uid2s=function(cW){return"X"+b9.Replace(a.String(cW),"-","");};bm.draggedTab=function(){b1.$cctor();return b1.draggedTab;};bm.reorderArray=function(cW,cX,cY){return cc.collect(a.id,cY<cX?[cB.array(cW,{$:1,$0:0},{$:1,$0:cY-1}),[cc.get(cW,cX)],cB.array(cW,{$:1,$0:cY},{$:1,$0:cX-1}),cB.array(cW,{$:1,$0:cX+1},{$:1,$0:cc.length(cW)-1})]:[cB.array(cW,{$:1,$0:0},{$:1,$0:cX-1}),cB.array(cW,{$:1,$0:cX+1},{$:1,$0:cY}),[cc.get(cW,cX)],cB.array(cW,{$:1,$0:cY+1},{$:1,$0:cc.length(cW)-1})]);};bm.reorderList=function(cW,cX,cY){return cY<cX?cl.append(cW.GetSlice({$:1,$0:0},{$:1,$0:cY-1}),cl.append(cl.ofArray([cW.get_Item(cX)]),cl.append(cW.GetSlice({$:1,$0:cY},{$:1,$0:cX-1}),cW.GetSlice({$:1,$0:cX+1},{$:1,$0:cW.get_Length()-1})))):cl.append(cW.GetSlice({$:1,$0:0},{$:1,$0:cX-1}),cl.append(cW.GetSlice({$:1,$0:cX+1},{$:1,$0:cY}),cl.append(cl.ofArray([cW.get_Item(cX)]),cW.GetSlice({$:1,$0:cY+1},{$:1,$0:cW.get_Length()-1}))));};bm.addResizeObserver=function(cW,cX){var cY,cZ,c0,c1;try{cY=!(!a.ResizeObserver);}catch(c2){cY=false;}if(cY){cZ=new a.ResizeObserver(cW);bm.set_observers(new cl.T({$:1,$0:cZ,$1:bm.observers()}));cZ.observe(cX);}else{c0=bm.dimsChanged(cX);b6.Start((c1=null,b6.Delay(function(){return b6.While(function(){return cX.isConnected;},b6.Delay(function(){return b6.Bind(b6.Sleep(110),function(){return c0()?(cW(),b6.Zero()):b6.Zero();});}));})),null);}};bm.dimsChanged=function(cW){var cX;cX=[cW.getBoundingClientRect()];return function(){var cY;cY=cW.getBoundingClientRect();return b8.Equals(bm.domRect2Tuple(cX[0]),bm.domRect2Tuple(cY))?false:(cX[0]=cY,true);};};bm.domRect2Tuple=function(cW){return[cW.top,cW.left,cW.width,cW.height];};bm.observers=function(){b1.$cctor();return b1.observers;};bm.set_observers=function(cW){b1.$cctor();b1.observers=cW;};bm.setLint=function(cW,cX){cW.setOption("lint",{async:1,getAnnotations:b$.CreateFuncWithArgs(cX),container:bf.findRootElement(cW.getWrapperElement())});};bm.showHints=function(cW,cX,cY,cZ){var c0;c0=bx.New(b$.CreateFuncWithArgs(cX),cY,bf.findRootElement(cW.getWrapperElement()));c0.hint.async=1;cW.showHint(c0);};bm.cmPos=function(cW,cX){return bs.New(cW,cX);};bm.codeMirrorIncludes=function(){b1.$cctor();return b1.codeMirrorIncludes;};bm.hoverable=function(cW){return bp.get_New().Content(cW);};bN=bM.RunNode=b$.Class({createBaseNode:function(){var cW;cW=a.document.createElement("div");cW.setAttribute("id",this.nodeName);a.document.body.appendChild(cW);return cW;},createNode:function(){var cW;cW=a.document.createElement("div");cW.style="height: 100%; width: 100%;";return cW;},RunHtml:function(cW){this.RunDoc((bf.renderDoc())(cW));},RunDoc:function(cW){cD.Run(this.get_RunNode(),cW);},get_AddBootstrap:function(){var cW;cW=a.document.createElement("div");cW.innerHTML="<script src='http://code.jquery.com/jquery-3.1.1.min.js' type='text/javascript' charset='UTF-8'></script>\n                <script src='http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js' type='text/javascript' charset='UTF-8'></script>\n                <link type='text/css' rel='stylesheet' href='http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css'>\n                <link type='text/css' rel='stylesheet' href='/EPFileX/css/main.css'>\n               ";this.runNode.parentElement.appendChild(cW);return this;},get_RunNode:function(){return this.runNode;}},i,bN);bN.New=b$.Ctor(function(cW,cX){bN.New$1.call(this,"TestNode",cW,cX);},bN);bN.New$1=b$.Ctor(function(cW,cX,cY){var cZ,c0,c1,c2,c3;this.nodeName=cW;cZ=(c0=a.document.getElementById(this.nodeName),b8.Equals(c0,null)?this.createBaseNode():c0);this.runNode=!(cY==null||cY.$0)?cZ:(c1=cZ.shadowRoot,b8.Equals(c1,null)?(c2=this.createNode(),(cZ.attachShadow({mode:"open"}).appendChild(c2),c3=this.createNode(),c2.appendChild(c3),c3)):c1.firstChild);cX==null||cX.$0?this.runNode.innerHTML="":void 0;},bN);bM.completeJS=function(cW){return"\n          CIPHERSpaceLoadFileGlobalFileRef = null;\n          CIPHERSpaceLoadFile = function (filename, callback) {\n              if (filename.slice(-3) == \".js\" || filename.slice(-4) == \".fsx\" || filename.slice(-3) == \".fs\") { //if filename is a external JavaScript file\n                  var fileRef = null;\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\n                  if (!pre) {\n                      fileRef = document.createElement('script')\n                      fileRef.setAttribute(\"type\", \"text/javascript\")\n                      fileRef.setAttribute(\"src\", filename)\n                  }\n                  else callback();\n              }\n              else if (filename.slice(-4) == \".css\") { //if filename is an external CSS file\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\n                  if (!pre) {\n                      fileRef = document.createElement(\"link\")\n                      fileRef.setAttribute(\"rel\", \"stylesheet\")\n                      fileRef.setAttribute(\"type\", \"text/css\")\n                      fileRef.setAttribute(\"href\", filename)\n                  }\n                  else callback();\n              }\n              else if (filename.slice(-5) == \".html\") { //if filename is an external HTML file\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\n                  if (!pre) {\n                      fileRef = document.createElement(\"link\")\n                      fileRef.setAttribute(\"rel\", \"import\")\n                      fileRef.setAttribute(\"type\", \"text/html\")\n                      fileRef.setAttribute(\"href\", filename)\n                  }\n                  else callback();\n              }\n              if (!!fileRef) {\n                  CIPHERSpaceLoadFileGlobalFileRef = fileRef;\n      \u0009\u0009\u0009fileRef.onload = function () { fileRef.onload = null;  callback(); }\n                  document.getElementsByTagName(\"head\")[0].appendChild(fileRef);\n              }\n          }\n          CIPHERSpaceLoadFiles = function (files, callback) {\n              var newCallback = callback\n              if (!!CIPHERSpaceLoadFileGlobalFileRef && !!(CIPHERSpaceLoadFileGlobalFileRef.onload)) {\n                  var oldCallback = CIPHERSpaceLoadFileGlobalFileRef.onload;\n                  CIPHERSpaceLoadFileGlobalFileRef.onload = null;\n                  newCallback = function () {\n                      callback();\n                      oldCallback();\n                  }\n              }\n              var i = 0;\n              loadNext = function () {\n                  if (i < files.length) {\n                      var file = files[i];\n                      i++;\n                      CIPHERSpaceLoadFile(file, loadNext);\n                  }\n                  else newCallback();\n              };\n              loadNext();\n      \u0009}\n          CIPHERSpaceLoadFiles(['https://code.jquery.com/jquery-3.1.1.min.js'], function() {}); \n      \u0009CIPHERSpaceLoadFilesDoAfter = function (callback) {\n      \u0009\u0009var newCallback = callback\n      \u0009\u0009if (!!CIPHERSpaceLoadFileGlobalFileRef) {\n      \u0009\u0009\u0009if (!!(CIPHERSpaceLoadFileGlobalFileRef.onload)) {\n      \u0009\u0009\u0009\u0009var oldCallback = CIPHERSpaceLoadFileGlobalFileRef.onload;\n      \u0009\u0009\u0009\u0009CIPHERSpaceLoadFileGlobalFileRef.onload = null;\n      \u0009\u0009\u0009\u0009newCallback = function () {\n      \u0009\u0009\u0009\u0009\u0009oldCallback();\n      \u0009\u0009\u0009\u0009\u0009callback();\n      \u0009\u0009\u0009\u0009}\n      \u0009\u0009\u0009}\n      \u0009\u0009}\n      \u0009\u0009else CIPHERSpaceLoadFileGlobalFileRef = {};\n      \u0009\u0009CIPHERSpaceLoadFileGlobalFileRef.onload = newCallback;\n      \u0009}\n      \n      CIPHERSpaceLoadFilesDoAfter(function() { \n        if (typeof IntelliFactory !=='undefined')\n          IntelliFactory.Runtime.Start();\n        for (key in window) { \n          if (key.startsWith(\"StartupCode$\")) \n            try { window[key].$cctor(); } catch (e) {} \n        } \n      })\n      \n                       "+cW;};bQ.NewBrowser={$:3};bQ.Tab={$:2};bQ.Right={$:1};bQ.Below={$:0};bR=bP.ErrCompiler=b$.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return this.$==0&&!this.$1;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return this.$==0?(function(cW){return function(cX){return cW(ca.toSafe(cX));};}(a.id))(this.$0):(function(cW){return function(cX){return cW(b4.p$5(cX));};}(a.id))(this);}},null,bR);bR["Could not open new browser, Popup blocker may be active"]=new bR({$:2});bR["Snippet Missing"]=new bR({$:1});bS.New=function(cW,cX,cY,cZ){return{F2:cW,LeftDoubleClick:cX,"Ctrl-Space":cY,".":cZ};};bV=bP.Property=b$.Class({setV:function(cW){this.props.set_Item(this.key,cW);this.setDirty();},getV:function(){return this.props.get_Item(this.key);},setK:function(cW){this.props.Add(cW,this.props.get_Item(this.key));this.props.Remove(this.key);this.key=cW;this.setDirty();},getK:function(){return this.key;},Remove:function(){this.props.Remove(this.key);this.setDirty();},get_SetV:function(){var cW;cW=this;return function(cX){cW.setV(cX);};},get_GetV:function(){var cW;cW=this;return function(){return cW.getV();};},get_SetK:function(){var cW;cW=this;return function(cX){cW.setK(cX);};},get_GetK:function(){var cW;cW=this;return function(){return cW.getK();};},get_ValueVar:function(){return new bW.New(this);},get_KeyVar:function(){return this;},get_View:function(){return cC.Const(this.getK());},UpdateMaybe:function(cW){var cX;cX=cW(this.getK());cX==null?void 0:this.setK(cX.$0);},Update:function(cW){this.setK(cW(this.getK()));},Get:function(){return this.getK();},Set:function(cW){this.setK(cW);},SetFinal:function(cW){this.setK(cW);},get_Id:function(){return"?";}},bU,bV);bV.New=b$.Ctor(function(cW,cX,cY){bU.New.call(this);this.setDirty=cW;this.props=cX;this.key=cY;},bV);bW=bP.PropValue=b$.Class({get_View:function(){return cC.Const(this.get());},UpdateMaybe:function(cW){var cX;cX=cW(this.get());cX==null?void 0:this.set(cX.$0);},Update:function(cW){this.set(cW(this.get()));},Get:function(){return this.get();},Set:function(cW){this.set(cW);},SetFinal:function(cW){this.set(cW);},get_Id:function(){return"?";}},bU,bW);bW.New=b$.Ctor(function(cW){bU.New.call(this);this.get=cW.get_GetV();this.set=cW.get_SetV();},bW);bP["CodeSnippet.propValue"]=function(cW,cX){var cY,cZ;return cW.properties.ContainsKey(cX)?{$:1,$0:cW.properties.get_Item(cX)}:(cY=(cZ=cW.parent,cZ==null?null:bX.FetchO(cZ.$0)),cY==null?null:bP["CodeSnippet.propValue"](cY.$0,cX));};bX.FetchByPathO=function(cW){function cX(cZ,c0){return b7.tryHead(b7.filter(function(c1){return c1.get_Name()===c0;},cZ));}function cY(cZ,c0){var c1,c2,c3,c4;c1=(c2=b7.tryHead(c0),c2==null?null:cX(cZ,c2.$0));return b7.length(c0)<=1?c1:c1==null?null:(c3=c1.$0,(c4=b7.tail(c0),cY(b7.filter(function(c5){return b8.Equals(c5.parent,{$:1,$0:c3.id});},(bP.codeSnippets())["var"].Get()),c4)));}return cY(b7.filter(function(cZ){return cZ.parent==null;},(bP.codeSnippets())["var"].Get()),cW);};bP["CodeSnippet.IsDescendantOf"]=function(cW,cX){function cY(cZ){var c0,c1,c2;c0=cZ.parent;return c0!=null&&c0.$==1&&(c1=c0.$0,b8.Equals(c1,cX)||g.defaultValue(false,(c2=bX.FetchO(c1),c2==null?null:{$:1,$0:cY(c2.$0)})));}return cY(cW);};bP["CodeSnippet.GetCodeFsx"]=function(cW,cX){return(bP["CodeSnippet.GetCodeAndStarts"](cW,cX))[0];};bP["CodeSnippet.GetCodeAndStarts"]=function(cW,cX){return x.CodeAndStarts(cX,bP["CodeSnippet.Predecessors"](cW));};bP["CodeSnippet.Predecessors"]=function(cW,cX){var cY;cY=cc.ofSeq(cW.UniquePredecessors(bX.FetchO));return cc.ofSeq(b7.map(bP["CodeSnippet.get_PrepareSnippet"],b7.filter(function(cZ){return cc.contains(cZ.id,cY);},(bP.codeSnippets())["var"].Get())));};bP["CodeSnippet.get_PrepareSnippet"]=function(cW,cX){var cY;cY=bP["CodeSnippet.get_Levels"](cW);return x.New(cW.name,b9.Replace(b9.Replace(cW.content,"##"+"FSHARPSTATION_ID"+"##",bP.fsIds()),"##"+"FSHARPSTATION_ENDPOINT"+"##",a.location.href),cW.parent,cW.predecessors,cW.id,cW.expanded,cY[0],cY[1],cW.properties);};bP["CodeSnippet.get_Levels"]=function(cW,cX){function cY(cZ,c0){return function(c1){var c2,c3,c4;return g.defaultValue([cZ,c0],(c2=(c3=c1.parent,c3==null?null:bX.FetchO(c3.$0)),(c4=cY(cZ+1,c0+(c1.properties.ContainsKey("NoIndent")?0:1)),c2==null?null:{$:1,$0:c4(c2.$0)})));};}return(function(cZ){return cY(cZ[0],cZ[1]);}([0,0]))(cW);};bX.New=function(cW,cX,cY,cZ,c0,c1){var c2,c3,c4,c5,c6;c2=x.New(cX,c1,cY,cZ,w.get_New(),true,0,0,new ch.New$5());c3=bP.codeSnippets().get_Length();c3===0?bP.codeSnippets().Append(c2):cW===0?(c4=b7.append([c2],(bP.codeSnippets())["var"].Get()),bP.codeSnippets().Set(c4)):cW<c3?(c5=(c6=cc.splitAt(cW,cc.ofSeq((bP.codeSnippets())["var"].Get())),c6[0].concat([c2].concat(c6[1]))),bP.codeSnippets().Set(c5)):bP.codeSnippets().Append(c2);return c2;};bX.New$1=function(cW,cX,cY,cZ,c0){return bX.New(bP.codeSnippets().get_Length(),cW,cX,cY,cZ,c0);};bX.New$2=function(cW){return bX.New$1("",null,cl.T.Empty,cl.T.Empty,cW);};bX.New$3=function(cW,cX){return bX.New$1("",{$:1,$0:cW},cl.T.Empty,cl.T.Empty,cX);};bX.New$4=function(cW,cX,cY){return bX.New$1("",{$:1,$0:cW},cX,cl.T.Empty,cY);};bX.New$5=function(cW,cX){return bX.New$1("",null,cW,cl.T.Empty,cX);};bX.FetchL=function(cW){return cm.toList(bX.FetchO(cW));};bX.FetchO=function(cW){return bP.codeSnippets().TryFindByKey(cW);};bX.PickIO=function(cW){function cX(cY,cZ){return b8.Equals(cZ.id,cW);}return bP.tryPickI(function(cY){return cX(cY[0],cY[1]);},(bP.codeSnippets())["var"].Get());};bP.tryPickI=function(cW,cX){return b7.tryHead(b7.filter(cW,b7.indexed(cX)));};bP.fsIds=function(){b1.$cctor();return b1.fsIds;};bP.codeSnippets=function(){b1.$cctor();return b1.codeSnippets;};bZ=bY.Babel=b$.Class({},i,bZ);bZ.New=b$.Ctor(function(){},bZ);b0=bY.Fable=b$.Class({},i,b0);b0.New=b$.Ctor(function(){},b0);bY.fableTranslate=function(cW){var cX;cX=p.wrapper();return cX.Run(cX.Delay(function(){var cY;bY.loadReferences().f();return cX.Bind$2((cY=null,b6.Delay(function(){return b6.While(function(){return cM.getOwnPropertyNames(a.metadata).length<cc.length(bY.references());},b6.Delay(function(){return b6.Bind(b6.Sleep(200),function(){return b6.Return(null);});}));})),function(){var cZ,c0,c1,c2,c3;cZ=bY.getChecker().f();c0=cN.makeCompiler([["Microsoft.FSharp.Core.ExtraTopLevelOperators.PrintFormatLine","FSSGlobal.FSharpStation.FableModule.ToConsole($0)"]]);c1="stdin.fsx";c2=cn.parse(cN.convertToJson(cN.compileAst(c0,cN.parseFSharpProject(cZ,c0,c1,cW),c1)));c3=cM.create(null);c3.plugins=[a.babelPlugins.transformMacroExpressions,a.babelPlugins.removeUnneededNulls,"transform-es2015-modules-amd"];c3.presets=[];c3.filename=c1;c3.babelrc=false;return cX.Return(b9.Replace(b9.Replace(cO.transformFromAst(c2,null,c3).code,"define([","require(["),"\"use strict\";","\"use strict\"; try { exports = exports || {}; } catch (err) {}"));});}));};bY.ToConsole=function(cW){cd.log(cW);return cW.cont(bY.addOutMsg());};bY.addOutMsg=function(){b1.$cctor();return b1.addOutMsg;};bY.set_addOutMsg=function(cW){b1.$cctor();b1.addOutMsg=cW;};bY.getChecker=function(){b1.$cctor();return b1.getChecker;};bY.loadReferences=function(){b1.$cctor();return b1.loadReferences;};bY.references=function(){b1.$cctor();return b1.references;};bO.FSharpStationClient$6378$173=a.id;bO.FSharpStationClient$6377$173=a.id;bO.FSharpStationClient$6067$68=function(cW,cX,cY){return function(){return function(){cW.Add("","1");cX();return cY.Set(null);};};};bO.FSharpStationClient$6064$68=function(cW,cX){return function(){return function(){cW.Remove();return cX.Set(null);};};};bO.FSharpStationClient$5915$44=b$.Curried3(function(cW,cX,cY){return cW();});bO.FSharpStationClient$5909$39=function(cW,cX){return function(){return function(){return cW(cX.editorO.$0);};};};bO.FSharpStationClient$5614$61=b$.Curried3(function(cW,cX,cY){cX.value="";});bO.FSharpStationClient$5613$61=b$.Curried3(function(cW,cX,cY){return cW(cX);});bO.FSharpStationClient$5495$48=b$.Curried3(function(cW,cX,cY){cW[0]=cX.scrollTop;});bO.FSharpStationClient$5472$57=function(cW,cX,cY){return function(){return function(){return bg.iter(cW(cX),cY);};};};bO.FSharpStationClient$5468$58=function(cW,cX){return function(){return function(){return cX.Set(cW.id);};};};bO.FSharpStationClient$5460$57=function(cW,cX,cY){return function(){return function(){return cW?cX(cY):null;};};};bO.FSharpStationClient$5456$50=function(cW,cX,cY){return function(){return function(cZ){cZ.preventDefault();return(cW(cX.id))(cY[0]);};};};bO.FSharpStationClient$5455$50=function(cW,cX){return function(){return function(){cW[0]=cX.id;};};};bO.FSharpStationClient$5454$50=b$.Curried3(function(cW,cX,cY){return cY.preventDefault();});bO.FSharpStationClient=function(cW){var cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV;function eW(gP,gQ,gR,gS){return gQ(gS)==null?bU.Lens(cX,function(){return gP;},function(){return"";}):gR(gS);}function eX(){c1.Set(null);}function eY(gP){function gQ(gS){return gS.get_Name();}function gR(gS,gT){return x.New(gT,gS.content,gS.parent,gS.predecessors,gS.id,gS.expanded,gS.level,gS.levelCode,gS.properties);}return eW("",function(gS){return bP.codeSnippets().TryFindByKey(gS);},function(gS){return bP.codeSnippets().LensInto(gQ,gR,gS);},gP);}function eZ(gP){function gQ(gS){return gS.content;}function gR(gS,gT){return x.New(gS.name,gT,gS.parent,gS.predecessors,gS.id,gS.expanded,gS.level,gS.levelCode,gS.properties);}return eW("",function(gS){return bP.codeSnippets().TryFindByKey(gS);},function(gS){return bP.codeSnippets().LensInto(gQ,gR,gS);},gP);}function e0(gP){var gQ;gQ=bP["CodeSnippet.propValue"](gP,"CSS");return gQ==null?null:{$:1,$0:a.id(gQ.$0)};}function e1(gP){return g.defaultValue("",gP);}function e2(gP){var gQ;gQ=bP["CodeSnippet.propValue"](gP,"CSSLink");return gQ==null?null:{$:1,$0:a.id(gQ.$0)};}function e3(gP){return g.defaultValue("",gP);}function e4(gP){var gQ;gQ=bP["CodeSnippet.propValue"](gP,"Mode");return gQ==null?null:{$:1,$0:a.id(gQ.$0)};}function e5(gP){return g.defaultValue("fsharp",gP);}function e6(gP){var gQ;gQ=bP["CodeSnippet.propValue"](gP,"Theme");return gQ==null?null:{$:1,$0:a.id(gQ.$0)};}function e7(gP){return g.defaultValue("",gP);}function e8(gP){var gQ;gQ=bP["CodeSnippet.propValue"](gP,"Layout");return gQ==null?null:{$:1,$0:a.id(gQ.$0)};}function e9(gP){return g.defaultValue("",gP);}function e_(gP){var gQ;gQ=bP["CodeSnippet.propValue"](gP,"LayoutJS");return gQ==null?null:{$:1,$0:a.id(gQ.$0)};}function e$(gP){return g.defaultValue("",gP);}function fa(gP){var gQ,gR,gS,gT;function gU(gW){var gX;gX=bP["CodeSnippet.propValue"](gW,gP);return gX==null?null:{$:1,$0:a.id(gX.$0)};}function gV(gW){return g.defaultValue("",gW);}gQ=bg.map((gR=(gS=function(gW){return gW==null?null:gU(gW.$0);},function(gW){return gS(bX.FetchO(gW));}),function(gW){return gV(gR(gW));}),cY);gT=[bU.Create$1(null)];cC.Sink(function(gW){if(!b8.Equals(gT[0].Get(),gW))gT[0].Set(gW);},bg.toView(gQ));return new bg({$:1,$0:gT[0]});}function fb(gP,gQ){return gQ===""?gP:gQ!=="0";}function fc(){dJ=false;dK.Set(true);}function fd(){dD=null;fc();}function fe(){fd();dE.ClearCache();eX();}function ff(){dE.ClearCache();dK.Set(false);dD=null;}function fg(gP,gQ){var gR,gS,gT;return!gQ?null:(gR=(gS=gP.Get(),(gT=a.String(gQ),gS===null?gT:gS===""?gT:gT===null?gS:gT===""?gS:gS+"\n"+gT)),gR!==gP.Get()?gP.Set(gR):null);}function fh(gP){dI.Set(gP);}function fi(gP){fg(dI,gP);}function fj(gP){fg(dH,gP);}function fk(){var gP;gP=bX.FetchO(cY.Get());gP==null?void 0:dF.Set(bP["CodeSnippet.GetCodeFsx"](gP.$0,true));}function fl(gP,gQ){var gR,gS,gT,gU,gV,gW,gX,gY;function gZ(g0){function g1(g2,g3){return b8.Equals(g3.id,g0);}return function(g2){return bP.tryPickI(function(g3){return g1(g3[0],g3[1]);},g2);};}gR=cc.partition(function(g0){return b8.Equals(g0.id,gQ)||bP["CodeSnippet.IsDescendantOf"](g0,gQ);},cc.ofSeq((bP.codeSnippets())["var"].Get()));gS=gR[1];gT=gR[0];gU=(gZ(gQ))(gT);gV=(gZ(gP))(gS);gU!=null&&gU.$==1?gV!=null&&gV.$==1?(gW=gV.$0[0],gX=gV.$0[1],gY=cc.collect(a.id,[cB.array(gS,{$:1,$0:0},{$:1,$0:gW-1}),gT,cB.array(gS,{$:1,$0:gW},null)]),bP.codeSnippets().Set(gY),bP.codeSnippets().UpdateBy(function(g0){return{$:1,$0:x.New(g0.name,g0.content,gX.parent,g0.predecessors,g0.id,g0.expanded,g0.level,g0.levelCode,g0.properties)};},gU.$0[1].id)):void 0:void 0;return fe();}function fm(){var gP,gQ,gR,gS;gP=bX.PickIO(cY.Get());gP==null?void 0:(gQ=gP.$0,gR=gQ[0],gS=gQ[1],function(gT,gU){var gV;while(true){if(gU<0)return null;else if(gT((gV=(bP.codeSnippets())["var"].Get(),(function(gW){return function(gX){return b7.nth(gW,gX);};}(gU))(gV))))return null;else gU=gU-1;}}(function(gT){return b8.Equals(gT.parent,gS.parent)&&(bP.codeSnippets().UpdateBy(function(gU){return{$:1,$0:x.New(gU.name,gU.content,{$:1,$0:gT.id},gU.predecessors,gU.id,gU.expanded,gU.level,gU.levelCode,gU.properties)};},gS.id),true);},gR-1),fe());}function fn(){var gP,gQ,gR,gS,gT;gP=bX.FetchO(cY.Get());gP==null?void 0:(gQ=gP.$0,gR=(gS=(gT=gQ.parent,gT==null?null:bX.FetchO(gT.$0)),gS==null?null:gS.$0.parent),bP.codeSnippets().UpdateBy(function(gU){return{$:1,$0:x.New(gU.name,gU.content,gR,gU.predecessors,gU.id,gU.expanded,gU.level,gU.levelCode,gU.properties)};},gQ.id),fe());}function fo(gP){var gQ;gQ=p.wrapper();return gQ.Run(gQ.Delay(function(){return gQ.Bind$1(m.fromOption(bR["Snippet Missing"],gP),function(gR){var gS;dI.Set("Compiling to JavaScript...");dG.Set("");gS=bP["CodeSnippet.GetCodeFsx"](gR,true);dF.Set(gS);return gQ.Bind$2(be.translateAR(gS,false),function(gT){return gQ.Bind$1(gT,function(gU){var gV;gV=bM.completeJS(gU);dG.Set(gV);fi("Compiled!");return gQ.Return(gV);});});});}));}function fp(gP){var gQ;gQ=a.open.apply(a,[gP]);return b8.Equals(gQ,null)?m.fail(bR["Could not open new browser, Popup blocker may be active"]):m.succeed(gQ);}function fq(gP,gQ){try{return gP["eval"].apply(gP,[gQ]);}catch(gR){((function(gS){return function(gT){return gS(ca.prettyPrint(gT));};}(function(gS){cd.log(gS);}))(gR));return(function(gS){return function(gT){return gS(ca.prettyPrint(gT));};}(a.id))(gR);}}function fr(gP){try{gP.focus.apply(gP,[]);}catch(gQ){((function(gR){return function(gS){return gR(ca.prettyPrint(gS));};}(function(gR){cd.log(gR);}))(gQ));}}function fs(gP,gQ){var gR;gR=p.wrapper();return gR.Run(gR.Delay(function(){return gR.Bind$1(m.tryProtection(),function(){return gR.Bind$1(fp(gP),function(gS){fr(gS);return gR.Bind$2(b6.Sleep(800),function(){return gR.Return(fq(gS,gQ));});});});}));}function ft(){return b6.FromContinuations(function(gP,gQ){var gR;try{gR=bf.createIFrame(gP);return(new bN.New(null,null)).RunHtml(gR);}catch(gS){return gQ(gS);}});}function fu(gP){var gQ;gQ=p.wrapper();return gQ.Run(gQ.Delay(function(){return gQ.Bind$1(m.tryProtection(),function(){return gQ.Bind$2(ft(),function(gR){var gS;gS=gR.contentWindow;gS.document.body.style.margin="0px";return gQ.Return(fq(gS,gP));});});}));}function fv(gP,gQ,gR){var gS;gS=p.wrapper();return gS.Run(gS.Delay(function(){return gS.Bind$3(fo(gR),function(gT){dI.Set("Running JavaScript...");return gS.Bind$3(gQ.$==3?fs(gP,gT):fu(gT),function(gU){fi(gU);fi("Done!");return gS.Return([gQ,gU]);});});}));}function fw(){return bX.FetchO(cY.Get());}function fx(gP){var gQ;gQ=p.wrapper();return gQ.Run(gQ.Delay(function(){dF.Set(gP);return gQ.Bind$2(bc.evaluateAR(bP.fsIds(),a.location.href,true,gP),function(gR){return gQ.Bind$1(gR,function(){return gQ.Return("");});});}));}function fy(gP){var gQ;gQ=p.wrapper();return gQ.Run(gQ.Delay(function(){return gQ.Bind$1(m.fromOption(bR["Snippet Missing"],gP),function(gR){return gQ.Bind$3(fx(bP["CodeSnippet.GetCodeFsx"](gR,true)),function(gS){return gQ.Bind$2((new cA.New()).Async("FSharpStation:FSSGlobal.FsEvaluator+Evaluator.addPresence:1381500690",[(function(gT){return function(gU){return gT(b4.p$6(gU));};}(a.id))(gR.id),"ok"]),function(){return gQ.Return(gS);});});});}));}function fz(gP,gQ,gR){var gS;gS=p.wrapper();return gS.Run(gS.Delay(function(){dI.Set(gP);return gS.Bind$3(gR(),function(gT){fi(gT);fi(gQ);return gS.Return(gT);});}));}function fA(gP){return fz("Evaluating F# code...","",function(){return fy(gP);});}function fB(gP){return fz("Evaluating F# code...","",function(){return fx(gP);});}function fC(gP){var gQ;gQ=p.wrapper();return gQ.Run(gQ.Delay(function(){dF.Set(gP);return gQ.Bind$3(bY.fableTranslate(gP),function(gR){dG.Set(gR);a["eval"](gR);return gQ.Return("");});}));}function fD(gP){var gQ;gQ=p.wrapper();return gQ.Run(gQ.Delay(function(){return gQ.Bind$1(m.fromOption(bR["Snippet Missing"],gP),function(gR){return gQ.ReturnFrom(fC(bP["CodeSnippet.GetCodeFsx"](gR,false)));});}));}function fE(gP){return fz("Running Fable...","Done!",function(){return fD(gP);});}function fF(gP){return fz("Running Fable...","Done!",function(){return fC(gP);});}function fG(gP){var gQ;gQ=fw();return(dM(gP))(gQ);}function fH(gP,gQ){return g.defaultValue(false,gQ==null?null:{$:1,$0:cl.contains(gP,gQ.$0.predecessors)});}function fI(gP,gQ){return gQ.Contains(gP);}function fJ(gP,gQ){var gR,gS,gT,gU;return gQ==null?null:(gR=gQ.$0,b8.Equals(gR,gP)||fI(gR.id,new cP.New$2(gP.UniquePredecessors(bX.FetchO)))?null:(gS=(cl.contains(gP.id,gR.predecessors)?(gT=(gU=gP.id,function(gV){return!b8.Equals(gU,gV);}),function(gV){return cl.filter(gT,gV);}):function(gV){return new cl.T({$:1,$0:gP.id,$1:gV});})(gR.predecessors),(bP.codeSnippets().UpdateBy(function(gV){return{$:1,$0:x.New(gV.name,gV.content,gV.parent,gS,gV.id,gV.expanded,gV.level,gV.levelCode,gV.properties)};},gR.id),fe())));}function fK(gP){bP.codeSnippets().UpdateBy(function(gQ){return{$:1,$0:x.New(gQ.name,gQ.content,gQ.parent,gQ.predecessors,gQ.id,!gQ.expanded,gQ.level,gQ.levelCode,gQ.properties)};},gP.id);eX();}function fL(gP,gQ,gR){var gS,gT,gU,gV;function gW(g2,g3){return g3.preventDefault();}function gX(g2,g3){dL[0]=gR.id;}function gY(g2,g3){g3.preventDefault();return fl(gR.id,dL[0]);}function gZ(g2,g3){return gP?fK(gR):null;}function g0(g2,g3){return cY.Set(gR.id);}function g1(g2,g3){return bg.iter(function(g4){return fJ(gR,g4);},c2);}return bp.get_New().Content$1([bf["class"]("code-editor-list-tile"),bf.classIf("selected",bg.map((gS=gR.id,function(g2){return b8.Equals(gS,g2);}),cY)),bf.classIf("direct-predecessor",bg.map((gT=gR.id,function(g2){return fH(gT,g2);}),c2)),bf.classIf("indirect-predecessor",bg.map((gU=gR.id,function(g2){return fI(gU,g2);}),dO)),bf.draggable("true"),new bl({$:8,$0:cG.HandlerImpl("dragover",function(g2){return function(g3){return gW(g2,g3);};})}),new bl({$:8,$0:cG.HandlerImpl("drag",function(g2){return function(g3){return gX(g2,g3);};})}),new bl({$:8,$0:cG.HandlerImpl("drop",function(g2){return function(g3){return gY(g2,g3);};})}),bf.span([bf["class"]("node"),bf.classIf("parent",gP),bf.classIf("expanded",gQ),new bl({$:8,$0:cG.HandlerImpl("click",function(g2){return function(g3){return gZ(g2,g3);};})}),bf.title(gP?gQ?"collapse":"expand":""),bf.htmlText(gP?gQ?"-":"+":"")]),bf.div([bf["class"]("code-editor-list-text"),bf.style1("text-indent",(gV=(bP["CodeSnippet.get_Levels"](gR))[0],(function(g2){return function(g3){return g2(a.String(g3)+"em");};}(a.id))(gV))),bf.style("white-space: pre"),bf.htmlText(bg.map2(function(g2){return function(g3){return v.snippetName(g2,g3);};},eY(gR.id),eZ(gR.id))),new bl({$:8,$0:cG.HandlerImpl("click",function(g2){return function(g3){return g0(g2,g3);};})})]),bf.span([bf["class"]("predecessor"),bf.title("toggle predecessor"),new bl({$:8,$0:cG.HandlerImpl("click",function(g2){return function(g3){return g1(g2,g3);};})}),bf.htmlText("X")])]);}function fM(gP,gQ){return!gQ?gP:gQ;}function fN(gP){return new w({$:0,$0:!gP?"00000000-0000-0000-0000-000000000000":gP.Item});}function fO(gP){return!gP?null:{$:1,$0:fN(gP)};}function fP(gP){var gQ;function gR(gT,gU){gQ.Add(gT,gU);}function gS(gT,gU){return[gT,gU];}gQ=new ch.New$5();return!gP?gQ:(b7.iter(function(gT){return gR(gT[0],gT[1]);},cc.map(function(gT){return gS(gT[0],gT[1]);},cR.GetFields(gP))),gQ);}function fQ(gP){var gQ;try{gQ=cn.parse(gP);((function(gR){return function(gS){return gR(ca.prettyPrint(gS));};}(function(gR){cd.log(gR);}))(gQ.length));return cc.choose(function(gR){return!gR?null:{$:1,$0:x.New(fM("",gR.name),fM("",gR.content),fO(gR.parent),cl.ofSeq(cc.map(fN,fM([],gR.predecessors))),fN(gR.id),fM(false,gR.expanded),fM(0,gR.level),fM(0,gR.levelCode),fP(gR.properties))};},gQ);}catch(gR){return[];}}function fR(){var gP,gQ,gR,gS;function gT(gU,gV){var gW;return g.defaultValue(gV,(gW=b7.tryItem(gV,(bP.codeSnippets())["var"].Get()),gW==null?null:{$:1,$0:(bP["CodeSnippet.get_Levels"](gW.$0))[0]<=gU?gV:gT(gU,gV+1)}));}cY.Set(g.defaultWith(function(){return bX.New$2("");},(gP=bX.PickIO(cY.Get()),gP==null?null:{$:1,$0:(gQ=gP.$0,(gR=gQ[0],(gS=gQ[1],bX.New(gT((bP["CodeSnippet.get_Levels"](gS))[0],gR+1),"",gS.parent,cl.T.Empty,cl.T.Empty,""))))})).id);fd();eX();}function fS(){var gP,gQ;gP=bX.FetchO(cY.Get());gP==null?void 0:(gQ=gP.$0,a.confirm((function(gR){return function(gS){return gR("Do you want to delete "+ca.toSafe(gS)+"?");};}(a.id))(gQ.get_Name()))?(cY.Set(w.get_New()),bP.codeSnippets().Remove(gQ),fd(),eX()):void 0);}function fT(gP){return b7.last(b9.SplitChars(gP,["/","\\"],0));}function fU(gP,gQ){var gR,gS;gR=gP.files;return gR.length>0?(gS=new a.FileReader(),(gS.onload=function(gT){return gQ(gT.target.result);},gS.readAsText(gR.item(0)))):null;}function fV(gP){var gQ;try{gQ=fQ(gP);bP.codeSnippets().Set(gQ);ff();eX();}catch(gR){a.alert(a.String(gR));}}function fW(gP){if(!dK.Get()||a.confirm("Changes have not been saved, do you really want to load?"))fU(bf.findRootElement(gP).querySelector("#"+dR),fV);}function fX(){var gP,gQ,gR,gS;gP=(gQ=cc.ofSeq((bP.codeSnippets())["var"].Get()),cn.stringify(((cq.EncodeArray(b3.j$7))())(gQ)));gR=(gS=fT(dQ.Get()),gS===""?"snippets.fsjson":gS);a.saveAs(new a.Blob([gP],{type:"text/plain;charset=utf-8"}),gR);ff();}function fY(gP,gQ){return fW(gP);}function fZ(gP,gQ){gP.value="";}function f0(gP,gQ){return bf.findRootElement(gP).querySelector("#"+dR).click();}function f1(){return dW==="a"?"b":"a";}function f2(gP){return gP+dV;}function f3(gP,gQ,gR){var gS,gT,gU,gV,gW,gX,gY,gZ,g0,g1;gS=dD!=null&&dD.$==1&&((gU=dD.$0[0],(gV=dD.$0[1],b8.Equals(gU,gQ.id)&&b8.Equals(gV,gR)))&&(gT=[dD.$0[1],dD.$0[0],dD.$0[2]],true))?(gP("Reparsing..."),[gT[2],bP["CodeSnippet.get_PrepareSnippet"](gQ)]):(gP("Parsing..."),gW=bP["CodeSnippet.Predecessors"](gQ),gX=cc.length(gW)===1?null:{$:1,$0:x.ReducedCode(gR,cB.array(gW,{$:1,$0:0},{$:1,$0:cc.length(gW)-2}))},gY=cc.get(gW,cc.length(gW)-1),dD={$:1,$0:[gY.id,gR,gX]},[gX,gY]);gZ=x.ReducedCode(gR,[gS[1]]);g0=g.defaultValue(gZ,(g1=gS[0],g1==null?null:{$:1,$0:(function(g2){var g3,g4,g5,g6,g7,g8;g3=g2[0];g4=g2[1];g5=g2[2];g6=g2[3];g7=g2[4];g8=g2[5];return function(g9){return x.AddSeps(g3,g4,g5,g6,g7,g8,g9[0],g9[1],g9[2],g9[3],g9[4],g9[5]);};}(g1.$0))(gZ)}));return x.FinishCode(gR,g0[0],g0[1],g0[2],g0[3],g0[4],g0[5]);}function f4(gP){var gQ;function gR(gS){if(!gP)dH.Set(gS);}gQ=null;return b6.Delay(function(){var gS,gT;gS=bX.FetchO(cY.Get());return gS!=null&&gS.$==1?(gT=gS.$0,b6.TryFinally(b6.Delay(function(){var gU,gV,gW;dJ=false;gU=f3(gR,gT,false);gV=gU[0];return!dZ||gV!==d0?(d0=gV,dZ=true,gW=f1(),(function(gX){return function(gY){return gX("Parsing "+ca.toSafe(gY));};}(function(gX){cd.log(gX);}))(gW),b6.Bind(dU.Parse$1(f2(gW),gV,gU[1]),function(gX){((function(gY){return function(gZ){return gY("Parse result= "+ca.prettyPrint(gZ));};}(function(gY){cd.log(gY);}))(gX!==""));dW=gW;return b6.Combine(!gP?(fj(gX),fj("Parsed!"),b6.Zero()):b6.Zero(),b6.Delay(function(){dJ=true;return b6.Zero();}));})):b6.Zero();}),function(){dZ=false;})):b6.Zero();});}function f5(gP){var gQ;gQ=null;return b6.Delay(function(){return!dJ?b6.Return(true):b6.Bind(dU.MustParse(f2(dW),gP.get_NameSanitized()),function(gR){return b6.Return(gR);});});}function f6(gP){var gQ;gQ=null;return b6.Delay(function(){return b6.Bind(dX,function(gR){var gS;return gR?b6.Zero():(gS=bX.FetchO(cY.Get()),gS!=null&&gS.$==1?b6.Bind(f5(gS.$0),function(gT){return gT?b6.Bind(f4(gP),function(){return b6.Return(null);}):b6.Zero();}):b6.Zero());});});}function f7(gP,gQ){var gR,gS;gR=c.REGEX("([a-zA-Z_]\\w*)$","g",b9.Substring(gP,0,gQ));return gR!=null&&gR.$==1?(gS=gR.$0,!b8.Equals(gS,null)&&gS.length===1)?cc.get(gR.$0,0):"":"";}function f8(gP,gQ){var gR,gS;gR=c.REGEX("^([a-zA-Z_]\\w*)","g",gP.substring(gQ));return gR!=null&&gR.$==1?(gS=gR.$0,!b8.Equals(gS,null)&&gS.length===1)?cc.get(gR.$0,0):"":"";}function f9(gP){var gQ;b6.Start((gQ=null,b6.Delay(function(){return b6.Bind(dX,function(gR){var gS,gT;return gR?b6.Zero():(gS=bX.FetchO(cY.Get()),gS!=null&&gS.$==1?(gT=gS.$0,b6.Bind(f6(false),function(){var gU,gV,gW,gX,gY;gU=gP.getCursor();gV=gP.getLine(gU.line);gW=b9.length(f7(gV,gU.ch));gX=b9.length(f8(gV,gU.ch));gY=gW===0&&gX===0?2:gX;return b6.Bind(dU.ToolTip(f2(dW),gU.line+1,gU.ch+1,gT.get_NameSanitized()),function(gZ){var g0;fj(((((g0=(b$.Curried(function(g1,g2,g3,g4,g5){return g1("InfoFSharp \""+ca.toSafe(g2)+" "+("("+ca.prettyPrint(g3[0])+", "+ca.prettyPrint(g3[1])+")")+" - "+("("+ca.prettyPrint(g4[0])+", "+ca.prettyPrint(g4[1])+")")+" "+ca.toSafe(g5)+" \"");},5))(a.id),function(g1){var g2;g2=g0(g1);return function(g3){var g4;g4=g2([g3[0],g3[1]]);return function(g5){return g4([g5[0],g5[1]]);};};})(gT.get_NameSanitized()))([gU.line+1,gU.ch-gW+1]))([gU.line+1,gU.ch+gY+1]))(b9.Replace(gZ,"\"","''")));return b6.Zero();});})):b6.Zero());});})),null);}function f_(gP,gQ,gR,gS){var gT;b6.Start((gT=null,b6.Delay(function(){var gU,gV;gU=bX.FetchO(cY.Get());return gU!=null&&gU.$==1?(gV=gU.$0,(function(gW){return gW("calling parseIfMustThen");}(function(gW){cd.log(gW);}),b6.Bind(f6(false),function(){var gW;function gX(gY,gZ,g0,g1,g2,g3,g4,g5,g6){var g7;return b9.StartsWith(gY,gV.id.get_Text())||gY===v.sanitize(gV.name)?(g7=a.Number(gZ)>0?a.Number(gZ):0,{$:1,$0:by.New(g6,b9.StartsWith(g4.toUpperCase(),"ERR")?"error":b9.StartsWith(g4.toUpperCase(),"INFO")?"info":"warning",bm.cmPos(g0-1,g1-1-g7),bm.cmPos(g2-1,g3-1-g7))}):null;}gQ(cc.choose(function(gY){return gX(gY[0],gY[1],gY[2],gY[3],gY[4],gY[5],gY[6],gY[7],gY[8]);},cc.choose(function(gY){var gZ,g0,g1,g2,g3,g4,g5,g6;return(g0=c.REGEX(d2,"",gY),g0!=null&&g0.$==1&&((g1=g0.$0,!b8.Equals(g1,null)&&g1.length===13)&&(gZ=[cc.get(g0.$0,8),cc.get(g0.$0,5),cc.get(g0.$0,7),cc.get(g0.$0,2),cc.get(g0.$0,4),cc.get(g0.$0,11),cc.get(g0.$0,1),cc.get(g0.$0,10),cc.get(g0.$0,9)],true)))?{$:1,$0:[gZ[1],gZ[4],a.Number(gZ[2]),a.Number(gZ[0]),a.Number(gZ[8]),a.Number(gZ[7]),gZ[6],gZ[3],gZ[5]]}:(g3=c.REGEX(d1,"",gY),g3!=null&&g3.$==1&&((g4=g3.$0,!b8.Equals(g4,null)&&g4.length===8)&&(g2=[cc.get(g3.$0,4),cc.get(g3.$0,2),cc.get(g3.$0,3),cc.get(g3.$0,1),cc.get(g3.$0,6),cc.get(g3.$0,5)],true)))?(g5=g2[0],(g6=g2[2],{$:1,$0:[g2[1],g2[3],a.Number(g6),a.Number(g5)-1,a.Number(g6),a.Number(g5),g2[5],"fsi",g2[4]]})):null;},(gW=c.REGEX(d3,"g",dH.Get()),gW!=null&&gW.$==1?gW.$0:[]))));return b6.Zero();}))):b6.Zero();})),null);}function f$(gP){f_.apply(null,gP);}function ga(gP){return gP==="C"?"class":gP==="Cn"?"Constant":gP==="D"?"delegate":gP==="E"?"enum":gP==="P"?"property":gP==="e"?"event":gP==="X"?"exception":gP==="F"?"field":gP==="I"?"interface":gP==="M"?"function":gP==="N"?"module":gP==="S"?"struct":gP==="T"?"type":gP==="V"?"Variable":gP;}function gb(gP,gQ,gR){var gS;d4((gS=null,b6.Delay(function(){return b6.Bind(dX,function(gT){var gU,gV,gW,gX;((function(gY){return function(gZ){return gY("getHints (Complete) "+ca.prettyPrint(gZ));};}(function(gY){cd.log(gY);}))(gT));return gT?b6.Zero():(gU=bX.FetchO(cY.Get()),gU!=null&&gU.$==1?(gV=gP.getCursor(),(gW=gP.getLine(gV.line),(gX=f7(gW,gV.ch),b6.Bind(dU.Complete(f2(dW),gW+"a",gV.line+1,gV.ch+1,gU.$0.get_NameSanitized()),function(gY){function gZ(g0,g1,g2,g3){return bv.New(g1,(((b$.Curried3(function(g4,g5,g6){return g4(b9.PadRight(ca.toSafe(g5),40)+" "+b9.PadLeft(ca.toSafe(g6),20));}))(a.id))(g0))(ga(g3)),g2);}gQ(bw.New(cc.map(function(g0){return gZ(g0[0],g0[1],g0[2],g0[3]);},gY),bs.New(gV.line,gV.ch-gX.length),gV));return b6.Zero();})))):b6.Zero());});})));}function gc(gP){var gQ,gR,gS;gQ=(gR=gP.parent,gR==null?null:bX.FetchO(gR.$0));gQ==null?void 0:(gS=gQ.$0,gc(gS),!gS.expanded?fK(gS):void 0);}function gd(gP,gQ,gR){var gS;return b6.Start((gS=null,b6.Delay(function(){var gT;cY.Set(gP);gT=bX.FetchO(gP);gT==null?void 0:gc(gT.$0);return b6.Bind(b6.Sleep(200),function(){var gU,gV;gU=d5.editorO;gU==null?void 0:(gV=gU.$0,gV.setCursor(gQ-1,gR-1),gV.focus());return b6.Zero();});})),null);}function ge(gP){var gQ,gR,gS,gT,gU;gQ=c.REGEX("([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}).+?\\((\\d+)\\,\\s*(\\d+)\\)","",gP);gQ!=null&&gQ.$==1?(gR=gQ.$0,!b8.Equals(gR,null)&&gR.length===4)?(gS=cc.get(gQ.$0,3),gT=cc.get(gQ.$0,1),gU=cc.get(gQ.$0,2),gd(new w({$:0,$0:gT}),a.Number(gU),a.Number(gS))):void 0:void 0;}function gf(){var gP;b6.Start((gP=null,b6.Delay(function(){var gQ,gR,gS,gT,gU;gQ=bX.FetchO(cY.Get());gR=d5.editorO;return(gR!=null&&gR.$==1?gQ!=null&&gQ.$==1?(gS=[gQ.$0,gR.$0],false):true:true)?b6.Zero():(gT=gS[1],(gU=gT.getCursor(),(gT.getLine(gU.line),b6.Bind(dU.FindDecl(f2(dW),gU.line+1,gU.ch+1,gS[0].get_NameSanitized()),function(gV){var gW;return gV.$==9?(gW=gV.$0,(ge(((((((b$.Curried(function(gX,gY,gZ,g0,g1,g2){return gX(ca.toSafe(gY)+" ("+a.String(gZ)+", "+a.String(g0)+") - ("+a.String(g1)+", "+a.String(g2)+")");},6))(a.id))(gW.File))(gW.Line))(gW.Column))(gW.Line))(gW.Column)),b6.Zero())):gV.$==1?(a.alert((function(gX){return function(gY){return gX(b5.p(gY));};}(a.id))(gV.$0)),b6.Zero()):(a.alert((function(gX){return function(gY){return gX(b4.p$7(gY));};}(a.id))(gV)),b6.Zero());}))));})),null);}function gg(){var gP;gP=d5.editorO;gP==null?void 0:gP.$0.refresh();}function gh(gP){var gQ;b6.Start((gQ=null,b6.Delay(function(){return b6.Bind(b6.Sleep(gP),function(){gg();return b6.Zero();});})),null);}function gi(gP,gQ){return f9(d5.editorO.$0);}function gj(gP,gQ){return gf();}function gk(){dK.Set(true);}function gl(gP,gQ){return new bV.New(gk,gP,gQ);}function gm(gP,gQ,gR){return gl(gP,gQ).get_ValueVar().Set(gR);}function gn(gP,gQ){return bf.table(cl.ofSeq(b7.delay(function(){return b7.append([bf.thead([bf.th([bf.htmlText("Property"),bf.style("padding-right:10px")]),bf.th([bf.htmlText("Value")])])],b7.delay(function(){return b7.append(b7.map(function(gR){var gS;function gT(gU,gV){gS.Remove();return ea.Set(null);}gS=gl(gQ,gR);return bf.tr([bf.td([bf.someElt(cD.Input([],gS.get_KeyVar()))]),bf.td([bf.someElt(cD.InputArea([bf.atr("style","height: 1.5em")],gS.get_ValueVar()))]),bm.hoverable(bf.td([bf.title("remove"),bf.style(" cursor: pointer "),bf.htmlText("x"),new bl({$:8,$0:cG.HandlerImpl("click",function(gU){return function(gV){return gT(gU,gV);};})})]))]);},b7.sort(gQ.get_Keys())),b7.delay(function(){function gR(gS,gT){gQ.Add("","1");gk();return ea.Set(null);}return[bf.tr([bm.hoverable(bf.td([bf.htmlText("Add..."),new bl({$:8,$0:cG.HandlerImpl("click",function(gS){return function(gT){return gR(gS,gT);};})})])),bf.td([bf.htmlText("")])])];}));}));})));}function go(gP){function gQ(gS){return gS.properties;}function gR(gS,gT){return x.New(gS.name,gS.content,gS.parent,gS.predecessors,gS.id,gS.expanded,gS.level,gS.levelCode,gT);}return eW(new ch.New$5(),function(gS){return bP.codeSnippets().TryFindByKey(gS);},function(gS){return bP.codeSnippets().LensInto(gQ,gR,gS);},gP);}function gp(gP){return new bg({$:1,$0:gP});}function gq(gP,gQ,gR,gS){var gT;return p.start(fi,(gT=gP(gQ),(p.map(a.ignore))(gT)));}function gr(gP,gQ,gR,gS){function gT(gU,gV){if(gU==null)fi("Failed!\n"+gV);else if(gU.$0[0].$==0){fi(gV);ec.Set(null);}else fi(gV);}return p.startV(function(gU){return gT(gU[0],gU[1]);},gP(gQ));}function gs(gP,gQ,gR){function gS(gT){return(gP(gR))(gT);}return b$.Curried(gq,2,[gS,gQ]);}function gt(gP,gQ,gR){function gS(gT){return(gP(gR))(gT);}return b$.Curried(gr,2,[gS,gQ]);}function gu(gP){var gQ,gR,gS;gQ=gP.parms;return gQ!=null&&gQ.$==1&&((gS=gQ.$0,!b8.Equals(gS,null)&&gS.length===1)&&(gR=cc.get(gQ.$0,0),true))?bX.FetchByPathO(b9.SplitChars(gR,["/"],0)):fw();}function gv(gP,gQ){var gR;gR=p.wrap();return gR.Run(gR.Delay(function(){return gR.Bind$2(bg.getAsync(gP.text),function(gS){var gT,gU,gV,gW,gX,gY,gZ,g0,g1,g3,g4,g5,g6,g7;function g2(g8){return g3==null?null:bP["CodeSnippet.propValue"](g3.$0,g8);}fh(gS+"...");g3=fw();g4=gQ?g.defaultValue("",(gU=g2("open"),gU==null?null:{$:1,$0:c.__(function(g8,g9){return g8+g9;},"\n",gU.$0)})):"";g5=cS.Create(function(){return g.defaultValue("${parm}() |> printfn \"%A\"",g2("action-template"));});g6=(g0=gP.parms,g0==null?null:{$:1,$0:cc.map(a.id,g0.$0)});switch(g6!=null&&g6.$==1?(g7=g6.$0,!b8.Equals(g7,null)&&g7.length===2?cc.get(g6.$0,0)==="Code"?(g1=cc.get(g6.$0,1),0):cc.get(g6.$0,0)==="Property"?(g1=cc.get(g6.$0,1),1):2:2):2){case 0:gZ={$:1,$0:g1};break;case 1:gZ=g2(g1);break;case 2:gZ=null;break;}gY=gZ==null?g2(gS):gZ;gV=(gW=g.defaultWith(function(){return((cM.constructor("return function(parm) { return `"+g5.f()+"`}"))())(gS);},gY),b9.StartsWith(gW,"////")?gW:g4+gW);return g3!=null&&g3.$==1?gR.Bind$2((new cA.New()).Async("FSharpStation:FSSGlobal.FsEvaluator+Evaluator.getPresence:1818471758",[bd.extractConfig(gV),(function(g8){return function(g9){return g8(b4.p$6(g9));};}(a.id))(g3.$0.id)]),function(g8){return b8.Equals(g8,{$:1,$0:"ok"})?gR.Return(gV):gR.Bind$3(fy(g3),function(){return gR.Return(gV);});}):gR.Return(gV);});}));}function gw(gP,gQ){return p.bind(fB,gv(gP,true));}function gx(gP,gQ){return p.bind(fF,gv(gP,false));}function gy(gP,gQ){return fA(gu(gP));}function gz(gP,gQ){return fE(gu(gP));}function gA(gP,gQ){var gR;gR=gu(gP);return(dM(gQ))(gR);}function gB(gP,gQ){var gR;gR=p.wrapper();return gR.Run(gR.Delay(function(){return gR.Bind$1(m.tryProtection(),function(){var gS,gT,gU,gV,gW;return gR.Bind$1((gS=gP.parms,gS!=null&&gS.$==1&&((gU=gS.$0,!b8.Equals(gU,null)&&gU.length===3)&&(gT=[cc.get(gS.$0,1),cc.get(gS.$0,0),cc.get(gS.$0,2)],true))?(gV=gT[1],(g.defaultWith(function(){((function(gX){return function(gY){return gX("setSnippetProp snippet not found: "+ca.toSafe(gY));};}(function(gX){cd.log(gX);}))(gV));},(gW=bX.FetchByPathO(b9.SplitChars(gV,["/"],0)),gW==null?null:{$:1,$0:gm(gW.$0.properties,gT[0],gT[2])})),m.succeed())):m.failSimpleError((function(gX){return function(gY){return gX("setSnippetProp wrong parms: "+b4.p$8(gY));};}(a.id))(gP.parms))),function(){return gR.Return();});});}));}function gC(gP,gQ){var gR,gS,gT,gU,gV,gW;((function(gX){return function(gY){return gX("showOutText: "+b5.p$22(gY));};}(function(gX){cd.log(gX);}))(gP));gS=gP.parms;switch(gS!=null&&gS.$==1?(gT=gS.$0,!b8.Equals(gT,null)&&gT.length===1?(gR=cc.get(gS.$0,0),0):(gU=gS.$0,!b8.Equals(gU,null)&&gU.length===2?(cc.get(gS.$0,1),cc.get(gS.$0,0)===""?(gR=[cc.get(gS.$0,0),cc.get(gS.$0,1)],1):2):2)):2){case 0:return fh(gR);break;case 1:return fh(gR[1]);break;case 2:return gS!=null&&gS.$==1&&((gW=gS.$0,!b8.Equals(gW,null)&&gW.length===2)&&(cc.get(gS.$0,1),cc.get(gS.$0,0)==="+"&&(gV=[cc.get(gS.$0,0),cc.get(gS.$0,1)],true)))?fi(gV[1]):(function(gX){return function(gY){return gX("error: showOutText "+b5.p$22(gY));};}(function(gX){cd.log(gX);}))(gP);break;}}function gD(){return fG(c3.Get());}function gE(){var gP;gP=p.wrapper();return gP.Run(gP.Delay(function(){dD=null;return gP.Bind$2(f4(false),function(){return gP.Return();});}));}function gF(gP,gQ){var gR,gS;function gT(gU,gV,gW){return gS>=gV&&gS<gW?{$:1,$0:gU}:null;}gR=gP.value;gS=gP.selectionStart;return ge(b7.pick(function(gU){return gT(gU[0],gU[1],gU[2]);},(b7.mapFold(function(gU,gV){return[[gV,gU,gU+gV.length+1],gU+gV.length+1];},0,b9.SplitChars(gR,["\n"],0)))[0]));}function gG(gP,gQ){var gR;return b6.Start((gR=null,b6.Delay(function(){return b6.Bind(b6.Sleep(100),function(){gP.scrollTop=gP.scrollHeight;return b6.Zero();});})),null);}function gH(gP,gQ,gR){var gS;gS=m.result();return gS.Run(gS.Delay(function(){return gS.Bind(m.tryProtection(),function(){return gS.Bind(eQ.GetGuiCallAction(gP,gQ,gR),function(gT){var gU;gU=gT.onClick;gU==null?void 0:((gU.$0(gT))(null))(null);return gS.Zero();});});}));}function gI(gP){gh(1000);gh(2000);gh(3000);eQ.SetLayoutJson(eK,gP);}function gJ(gP){gh(1000);gh(2000);gh(3000);eQ.AddNewSteps(eK,gP);}function gK(gP){return cc.ofSeq(b7.map(function(gQ){return[gQ.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),gQ.FSSGlobal_Useful_ErrMsg$get_IsWarning()?z.FSWarning:z.FSError];},gP));}function gL(gP){var gQ;return{$:4,$0:(gQ=gP.$0,gQ==null?null:{$:1,$0:gQ.$0[1]}),$1:cc.ofSeq(b7.map(function(gR){return[gR.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),gR.FSSGlobal_Useful_ErrMsg$get_IsWarning()?z.FSWarning:z.FSError];},gP.$1))};}function gM(gP){var gQ,gR;return{$:4,$0:(gQ=function(gS){return function(gT){return gS(ca.prettyPrint(gT));};}(a.id),(gR=gP.$0,gR==null?null:{$:1,$0:gQ(gR.$0)})),$1:cc.ofSeq(b7.map(function(gS){return[gS.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),gS.FSSGlobal_Useful_ErrMsg$get_IsWarning()?z.FSWarning:z.FSError];},gP.$1))};}function gN(gP,gQ){var gR;gR=null;return b6.Delay(function(){var gS,gT,gU,gV,gW,gX,gY,gZ,g0;return gQ.$==2?b6.Return({$:1,$0:(gS=bX.FetchO(gQ.$0),gS==null?null:{$:1,$0:gS.$0.content})}):gQ.$==3?b6.Return({$:1,$0:(gT=bX.FetchO(gQ.$0),gT==null?null:{$:1,$0:bP["CodeSnippet.GetCodeFsx"](gT.$0,true)})}):gQ.$==4?b6.Return({$:3,$0:g.defaultValue([],(gU=bX.FetchO(gQ.$0),gU==null?null:{$:1,$0:bP["CodeSnippet.Predecessors"](gU.$0)}))}):gQ.$==5?b6.Return({$:2,$0:bX.FetchO(gQ.$0)}):gQ.$==6?b6.Return({$:1,$0:(gV=bX.FetchByPathO(gQ.$0),gV==null?null:{$:1,$0:gV.$0.content})}):gQ.$==7?b6.Return({$:1,$0:(gW=bX.FetchByPathO(gQ.$0),gW==null?null:{$:1,$0:bP["CodeSnippet.GetCodeFsx"](gW.$0,true)})}):gQ.$==10?(gX=bX.FetchByPathO(gQ.$0),gX==null?b6.Return({$:4,$0:null,$1:[["Snippet not found",z.FSError]]}):b6.Bind(be.translateAR(bP["CodeSnippet.GetCodeFsx"](gX.$0,true),false),function(g1){return b6.Return({$:4,$0:m.getOption(m.map(bM.completeJS,g1)),$1:gK(m.getMsgs(g1))});})):gQ.$==8?b6.Return({$:3,$0:g.defaultValue([],(gY=bX.FetchByPathO(gQ.$0),gY==null?null:{$:1,$0:bP["CodeSnippet.Predecessors"](gY.$0)}))}):gQ.$==9?b6.Return({$:2,$0:bX.FetchByPathO(gQ.$0)}):gQ.$==1?b6.Return({$:1,$0:{$:1,$0:"Message received: "+gQ.$0}}):gQ.$==0?b6.Return({$:0,$0:bP.fsIds()}):gQ.$==12?d.map(gL,p.getAsyncR(fv(gQ.$1,bQ.NewBrowser,bX.FetchO(gQ.$0)))):gQ.$==13?d.map(gL,p.getAsyncR(fv(gQ.$1,bQ.NewBrowser,bX.FetchByPathO(gQ.$0)))):gQ.$==14?(gZ=gQ.$0,b6.Return(gM(m.map(function(){return(function(g1){return function(g2){return g1("success: "+ca.toSafe(g2));};}(a.id))(gZ);},gH(gZ,gQ.$1,gQ.$2))))):b6.Return({$:1,$0:{$:1,$0:(g0=cc.ofSeq((bP.codeSnippets())["var"].Get()),cn.stringify(((cq.EncodeArray(b3.j$7))())(g0)))}});});}function gO(gP){!cl.contains(gP,eU.Get())?eU.Set(new cl.T({$:1,$0:gP,$1:eU.Get()})):void 0;gh(300);}cX=bU.Create$1("");cY=bU.Create$1(w.get_New());cZ="CodeEditor."+"currentCodeSnippetId";c0=a.localStorage.getItem(cZ);c0!==null?cY.Set((b2.j$7())(cn.parse(c0))):void 0;bg.sink(function(gP){a.localStorage.setItem(cZ,cn.stringify((b3.j$5())(gP)));},cY);c1=bU.Create$1();c2=bg.map2(function(gP){return function(){return bP.codeSnippets().TryFindByKey(gP);};},cY,c1);c3=bU.Create$1(bQ.Below);c4="CodeEditor."+"position";c5=a.localStorage.getItem(c4);c5!==null?c3.Set((b2.j$8())(cn.parse(c5))):void 0;bg.sink(function(gP){a.localStorage.setItem(c4,cn.stringify((b3.j$6())(gP)));},c3);bg.map(function(gP){return gP.$==1;},c3);c6=bg.map(function(gP){return b8.Equals(bX.FetchO(gP),null);},cY);c7=(c8=bg.map((c9=(c_=function(gP){return gP==null?null:e0(gP.$0);},function(gP){return c_(bX.FetchO(gP));}),function(gP){return e1(c9(gP));}),cY),(c$=[bU.Create$1(null)],(cC.Sink(function(gP){if(!b8.Equals(c$[0].Get(),gP))c$[0].Set(gP);},bg.toView(c8)),new bg({$:1,$0:c$[0]}))));da=(db=bg.map((dc=(dd=function(gP){return gP==null?null:e2(gP.$0);},function(gP){return dd(bX.FetchO(gP));}),function(gP){return e3(dc(gP));}),cY),(de=[bU.Create$1(null)],(cC.Sink(function(gP){if(!b8.Equals(de[0].Get(),gP))de[0].Set(gP);},bg.toView(db)),new bg({$:1,$0:de[0]}))));df=(dg=bg.map((dh=(di=function(gP){return gP==null?null:e4(gP.$0);},function(gP){return di(bX.FetchO(gP));}),function(gP){return e5(dh(gP));}),cY),(dj=[bU.Create$1(null)],(cC.Sink(function(gP){if(!b8.Equals(dj[0].Get(),gP))dj[0].Set(gP);},bg.toView(dg)),new bg({$:1,$0:dj[0]}))));dk=(dl=bg.map((dm=(dn=function(gP){return gP==null?null:e6(gP.$0);},function(gP){return dn(bX.FetchO(gP));}),function(gP){return e7(dm(gP));}),cY),(_do=[bU.Create$1(null)],(cC.Sink(function(gP){if(!b8.Equals(_do[0].Get(),gP))_do[0].Set(gP);},bg.toView(dl)),new bg({$:1,$0:_do[0]}))));dp=(dq=bg.map((dr=(ds=function(gP){return gP==null?null:e8(gP.$0);},function(gP){return ds(bX.FetchO(gP));}),function(gP){return e9(dr(gP));}),cY),(dt=[bU.Create$1(null)],(cC.Sink(function(gP){if(!b8.Equals(dt[0].Get(),gP))dt[0].Set(gP);},bg.toView(dq)),new bg({$:1,$0:dt[0]}))));du=(dv=bg.map((dw=(dx=function(gP){return gP==null?null:e_(gP.$0);},function(gP){return dx(bX.FetchO(gP));}),function(gP){return e$(dw(gP));}),cY),(dy=[bU.Create$1(null)],(cC.Sink(function(gP){if(!b8.Equals(dy[0].Get(),gP))dy[0].Set(gP);},bg.toView(dv)),new bg({$:1,$0:dy[0]}))));dz=bg.map(function(gP){return gP!=="0"&&gP!=="";},fa("DisableParse"));dA=bg.map2(function(gP){return function(gQ){return fb(gP,gQ);};},dz,fa("DisableFSI"));dB=bg.map2(function(gP){return function(gQ){return fb(gP,gQ);};},dz,fa("DisableFable"));dC=bg.map2(function(gP){return function(gQ){return fb(gP,gQ);};},dz,fa("DisableWebSharper"));dD=null;dE=new t.New(function(gP){var gQ;gQ=gP==null?null:{$:1,$0:new cP.New$2(gP.$0.UniquePredecessors(bX.FetchO))};return g.defaultValue(new cP.New$3(),gQ);});dF=bU.Create$1("");dG=bU.Create$1("");dH=bU.Create$1("");dI=bU.Create$1("");dJ=false;dK=bU.Create$1(false);bg.sink(function(gP){a.onbeforeunload=gP?function(gQ){gQ.returnValue="Changes you made may not be saved.";}:null;},dK);dL=[w.get_New()];bY.set_addOutMsg(fi);dM=(dN=a.location.origin+"/Main.html",(b$.Curried3(fv))(dN));dO=bg.map(function(gP){var gQ,gR;gQ=null;return dE.cache.TryGetValue(gP,{get:function(){return gQ;},set:function(gS){gQ=gS;}})?gQ:(gR=dE.f(gP),(dE.cache.set_Item(gP,gR),gR));},c2);dP=[0];dQ=bU.Create$1("");bg.map(function(gP){return gP==="";},dQ);dR="CodeEditorFileSel";dS=bo.New$3(bU.Lens(dQ,fT,a.id)).Prefix$1(bf.label([bf["class"]("btn btn-primary"),bf.htmlText("Load File..."),bo.New$3(dQ).Type("file").Style("display: none").Content([cG.HandlerImpl("change",function(gP){return function(gQ){return fY(gP,gQ);};}),cG.HandlerImpl("click",function(gP){return function(gQ){return fZ(gP,gQ);};})]).Id(dR).get_Render()]));cW!==""?b6.Start((dT=null,b6.Delay(function(){return b6.Bind(b6.Sleep(3000),function(){var gP;((function(gQ){return function(gR){return gQ("loading "+ca.toSafe(gR)+"...");};}(function(gQ){cd.log(gQ);}))(cW));gP=cT.getJSON(cW+"?t="+a.String(cU.now()));gP.done(function(){return fV(gP.responseText);});return b6.Zero();});})),null):void 0;dU=new bb.New("FSharpStation",{$:1,$0:a.location.href});dV=bP.fsIds()+".fsx";dW="a";dX=cC.GetAsync(bg.toView(dz));dY=1;dZ=false;d0="";d1="\\((\\d+)\\) F# (.+).fsx\\((\\d+)\\,(\\d+)\\): (error|warning) ((.|\\b)+)";d2="(Err|Warning|Info)(FSharp|WebSharper)\\s+\"(\\((\\d+)\\) ?)?F?#? ?(.+?)(.fsx)? \\((\\d+)\\,\\s*(\\d+)\\) - \\((\\d+)\\,\\s*(\\d+)\\) ((.|\\s)+?)"+"\"";d3=d1+"|"+d2;d4=c.asyncStartCancelling();d5=bu.New$3((d6=bg.toView(bg.fixit(cY)),(d7=bU.Create$1(null),(d8=[null],(d9=[0],(d_=[0],(cC.Sink(function(){var gP,gQ;gP=d8[0];gP==null?void 0:(gQ=gP.$0,d9[0]>d_[0]?d_[0]=d9[0]:!b8.Equals(gQ.Get(),d7.Get())?(d_[0]=d_[0]+1,gQ.Set(d7.Get())):void 0);},d7.get_View()),cC.Sink(function(){var gP,gQ;gP=d8[0];gP==null?void 0:(gQ=gP.$0,d_[0]>d9[0]?d9[0]=d_[0]:!b8.Equals(gQ.Get(),d7.Get())?(d9[0]=d9[0]+10,d7.Set(gQ.Get())):void 0);},cC.Bind(function(gP){var gQ;gQ=eZ(gP);d8[0]={$:1,$0:gQ};d_[0]=d9[0]+100;d7.Set(gQ.Get());return gQ.get_View();},d6)),d7))))))).OnChange(function(){var gP;dD!=null&&dD.$==1&&(b8.Equals(dD.$0[0],cY.Get())&&(gP=[dD.$0[0],dD.$0[2]],true))?fc():fd();}).OnRender(function(gP){var gQ;function gR(gU){return gb(gU[0],gU[1],gU[2]);}function gS(gU){gP.replaceSelection(".","end");}function gT(gU){return gb(gU[0],gU[1],gU[2]);}gP.addKeyMap(bS.New(f9,f9,function(gU){bm.showHints(gP,gR,false,gU);},(gQ=function(){bm.showHints(gP,gT,false,void 0);},function(gU){return gQ(gS(gU));})));bm.setLint(gP,f$);bg.sink(function(gU){var gV;b6.Start((gV=null,b6.Delay(function(){gP.setOption("theme",gU);return b6.Bind(b6.Sleep(50),function(){gP.refresh();return b6.Zero();});})),null);},dk);bg.sink(function(gU){gP.setOption("mode",gU);},df);}).Style("height: 100%");d$=d5.get_Render().AddChildren([new bl({$:8,$0:cG.HandlerImpl("dblclick",function(gP){return function(gQ){return gi(gP,gQ);};})}),bf.htmlElement("menu",[bf.type("context"),bf.Id("right-menu"),bf.htmlElement("menuitem",[bf.htmlAttribute("label","Goto Definition"),new bl({$:8,$0:cG.HandlerImpl("click",function(gP){return function(gQ){return gj(gP,gQ);};})})])]),bf.htmlAttribute("contextmenu","right-menu")]);bg.sink(function(){var gP;b6.Start((gP=null,b6.Delay(function(){var gQ,gR;return!dJ?b6.Zero():(gQ=d5.editorO,gQ!=null&&gQ.$==1?(gR=bX.FetchO(cY.Get()),gR!=null&&gR.$==1?(gQ.$0.performLint(),b6.Zero()):b6.Zero()):b6.Zero());})),null);},dH);ea=bU.Create$1();eb=bf.div([new bl({$:2,$0:bg.map2(function(gP){return function(gQ){return gn(gP,gQ);};},ea,bg.bind(function(gP){return gp(go(gP));},cY))}),bf.css(" td.hovering { background: gray; } ")]);ec=bU.Create$1();ed=bG.New$1("Load...").OnClick(function(gP){return function(gQ){return f0(gP,gQ);};});ee=bG.New$1("Save as...").OnClick(b$.Curried(bm.Do,2,[fX,null])).Highlight(dK);ef=bG.New$1("Add Snippet").OnClick(b$.Curried(bm.Do,2,[fR,null]));eg=bG.New$1("Delete Snippet").OnClick(b$.Curried(bm.Do,2,[fS,null])).Disabled(c6);eh=bG.New$1("Indent In  >>").OnClick(b$.Curried(bm.Do,2,[fm,null])).Disabled(c6);ei=bG.New$1("Indent Out <<").OnClick(b$.Curried(bm.Do,2,[fn,null])).Disabled(c6);ej=bG.New$1("Get F# Code").OnClick(b$.Curried(bm.Do,2,[fk,null])).Disabled(dz);ek=bG.New$1("actSetSnippetProp").OnClick2(function(gP){return gs(function(gQ){return function(gR){return gB(gQ,gR);};},null,gP);}).Disabled(dA);el=bG.New$1("Run FSI on Code").OnClick2(function(gP){return gs(function(gQ){return function(gR){return gw(gQ,gR);};},null,gP);}).Disabled(dA);em=bG.New$1("Run FSI").OnClick2(function(gP){return gs(function(gQ){return function(gR){return gy(gQ,gR);};},null,gP);}).Disabled(dA);en=bG.New$1("Run Fable on Code").OnClick2(function(gP){return gs(function(gQ){return function(gR){return gx(gQ,gR);};},null,gP);}).Disabled(dB);eo=bG.New$1("Run Fable").OnClick2(function(gP){return gs(function(gQ){return function(gR){return gz(gQ,gR);};},null,gP);}).Disabled(dB);ep=bG.New$1("Run WebSharper in new tab").OnClick2((eq=bQ.NewBrowser,function(gP){return gs(function(gQ){return function(gR){return gA(gQ,gR);};},eq,gP);})).Disabled(dC);er=bG.New$1("Run WebSharper in WS Result").OnClick2((es=bQ.Below,function(gP){return gt(function(gQ){return function(gR){return gA(gQ,gR);};},es,gP);})).Disabled(dC);et=bG.New$1("Run WebSharper in ...").OnClick(b$.Curried(gr,2,[gD,null])).Disabled(dC);eu=bG.New$1("Parse F#").OnClick(b$.Curried(gq,2,[gE,null])).Disabled(dz);ev=bG.New$1("Compile WebSharper").OnClick((ew=function(gP){return fo(fw(gP));},b$.Curried(gq,2,[ew,null]))).Disabled(dC);ex=bG.New$1("Find Definition").OnClick(b$.Curried(bm.Do,2,[gf,null])).Disabled(dz);ey=bG.New$1("Refresh CodeMirror").OnClick(b$.Curried(bm.Do,2,[gg,null]));ez=bG.New$1("Show Output text").OnClick2(b$.Curried(bm.Do2,3,[gC,null]));eA=bG.New$1("Abort FSI").OnClick(b$.Curried(bm.Do,2,[function(){bc.abortFsiExe();},null]));eB=bf.div([ef.get_Button().get_Render(),ei.get_Button().get_Render(),eh.get_Button().get_Render(),dS.get_Render().AddChildren([bf.style("grid-column: 4/6")]),em.get_Button().get_Render(),eo.get_Button().get_Render(),et.get_Button().get_Render(),eg.get_Button().get_Render(),ex.get_Button().get_Render(),bf.span([]),ee.get_Button().get_Render(),bf.span([]),ej.get_Button().get_Render(),eu.get_Button().get_Render(),bf.someElt(cD.Select([cG.Create("id","Position")],function(gP){return gP.$==1?"Right":gP.$==2?"In Tab":gP.$==3?"New Browser":"Below";},cl.ofArray([bQ.NewBrowser,bQ.Below]),c3)),bf.style("\n                    overflow: hidden;\n                    display: grid;\n                    grid-template-columns: repeat(8, 12.1%);\n                    bxackground-color: #eee;\n                    padding : 5px;\n                    grid-gap: 5px;\n                ")]);eC=bF.New2([bD.New$2("File").SubMenu([ed.get_MenuEntry(),ee.get_MenuEntry()]),bD.New$2("Code").SubMenu([ef.get_MenuEntry(),eg.get_MenuEntry(),bD.New$2("").get_Divider(),eh.get_MenuEntry(),ei.get_MenuEntry(),bD.New$2("").get_Divider(),ex.get_MenuEntry(),bD.New$2("").get_Divider(),ej.get_MenuEntry(),bD.New$2("").get_Divider(),ey.get_MenuEntry()]),bD.New$2("Run").SubMenu([em.get_MenuEntry(),eA.get_MenuEntry(),bD.New$2("").get_Divider(),eo.get_MenuEntry(),bD.New$2("").get_Divider(),ep.get_MenuEntry(),er.get_MenuEntry(),bD.New$2("").get_Divider(),eu.get_MenuEntry(),ev.get_MenuEntry()])]);eD=bF.New2([bD.New$2("About").SubMenu([bD.New$1("Source @ GitHub","https://github.com/amieres/FSharpStation").Target("_blank")])]);eE=bm.navbar(bf.h1([bf.htmlText("F# Station"),bf.style("font-size: 48px; margin-top: -17px")]),eC.get_Render(),eD.get_Render());eF="CodeEditor."+"splitterV1";eG=bz.New$1(20).Children([bf.style("grid-row: 2 / 4")]).get_Var();eH=a.localStorage.getItem(eF);eH!==null?eG.Set(((cq.Id())())(cn.parse(eH))):void 0;bg.sink(function(gP){a.localStorage.setItem(eF,cn.stringify(((cq.Id())())(gP)));},eG);eI=bf.bindHElem(function(gP){return bf.div(cl.ofSeq(b7.delay(function(){return b7.append([bf.style("overflow: auto")],b7.delay(function(){var gQ;return b7.append(b7.choose(a.id,(gQ=b7.indexed(gP),b7.mapFold(function(gR,gS){var gT,gU,gV,gW,gX;gT=gS[1];return g.defaultValue(true,(gU=gT.parent,gU==null?null:{$:1,$0:gR.Contains(gU.$0)}))?(gV=g.defaultValue(false,(gW=b7.tryItem(gS[0]+1,bP.codeSnippets()),gW==null?null:{$:1,$0:b8.Equals(gW.$0.parent,{$:1,$0:gT.id})})),(gX=gV&&gT.expanded,[{$:1,$0:fL(gV,gX,gT)},gX?gR.Add(gT.id):gR])):[null,gR];},new cJ.New(cl.T.Empty),gQ))[0]),b7.delay(function(){function gR(gS,gT){dP[0]=gS.scrollTop;}return b7.append([new bl({$:8,$0:cG.HandlerImpl("scroll",function(gS){return function(gT){return gR(gS,gT);};})})],b7.delay(function(){return[new bl({$:8,$0:cF.OnAfterRender(function(gS){gS.scrollTop=dP[0];})})];}));}));}));})));},(eJ=bP.codeSnippets().v,cC.SnapshotOn((bP.codeSnippets())["var"].Get(),c1.get_View(),eJ)));eK=bL.AddGuids([["actLoadFile",new bH({$:2,$0:ed})],["actSaveFile",new bH({$:2,$0:ee})],["actAddSnippet",new bH({$:2,$0:ef})],["actDeleteSnippet",new bH({$:2,$0:eg})],["actIndentSnippet",new bH({$:2,$0:eh})],["actOutdentSnippet",new bH({$:2,$0:ei})],["actGetFsCode",new bH({$:2,$0:ej})],["actSetSnippetProp",new bH({$:2,$0:ek})],["actEvalFsCode",new bH({$:2,$0:el})],["actEvalCode",new bH({$:2,$0:em})],["actRunFableFs",new bH({$:2,$0:en})],["actRunFable",new bH({$:2,$0:eo})],["actRunWSNewTab",new bH({$:2,$0:ep})],["actRunWSHere",new bH({$:2,$0:er})],["actRunWSIn",new bH({$:2,$0:et})],["actParseCode",new bH({$:2,$0:eu})],["actCompileWS",new bH({$:2,$0:ev})],["actFindDefinition",new bH({$:2,$0:ex})],["actOutText",new bH({$:2,$0:ez})],["Output",new bH({$:1,$0:br.New$3(dI).Placeholder("Output:").Title("Output").RenderWith(cl.ofArray([new bl({$:8,$0:cG.HandlerImpl("dblclick",function(gP){return function(gQ){return gF(gP,gQ);};})}),new bl({$:8,$0:cF.OnAfterRender(function(gP){bg.sink(function(gQ){return gG(gP,gQ);},dI);})})]))})],["Parser",new bH({$:1,$0:br.New$3(dH).Placeholder("Parser messages:").Title("Parser").RenderWith(cl.ofArray([new bl({$:8,$0:cG.HandlerImpl("dblclick",function(gP){return function(gQ){return gF(gP,gQ);};})})]))})],["JavaScript",new bH({$:1,$0:br.New$3(dG).Placeholder("Javascript:").Title("JavaScript code generated").get_Render()})],["F# code",new bH({$:1,$0:br.New$3(dF).Placeholder("F# code:").Title("F# code assembled").get_Render()})],["Properties",new bH({$:1,$0:eb})],["WS Result",new bH({$:1,$0:bf.div([bf.div([bf.Id("TestNode"),bf.style("background: white; height: 100%; width: 100%; ")])])})],["title",new bH({$:1,$0:bo.New$3((eL=bg.toView(bg.fixit(cY)),(eM=bU.Create$1(null),(eN=[null],(eO=[0],(eP=[0],(cC.Sink(function(){var gP,gQ;gP=eN[0];gP==null?void 0:(gQ=gP.$0,eO[0]>eP[0]?eP[0]=eO[0]:!b8.Equals(gQ.Get(),eM.Get())?(eP[0]=eP[0]+1,gQ.Set(eM.Get())):void 0);},eM.get_View()),cC.Sink(function(){var gP,gQ;gP=eN[0];gP==null?void 0:(gQ=gP.$0,eP[0]>eO[0]?eO[0]=eP[0]:!b8.Equals(gQ.Get(),eM.Get())?(eO[0]=eO[0]+10,eM.Set(gQ.Get())):void 0);},cC.Bind(function(gP){var gQ;gQ=eY(gP);eN[0]={$:1,$0:gQ};eP[0]=eO[0]+100;eM.Set(gQ.Get());return gQ.get_View();},eL)),eM))))))).Prefix$1(bf.htmlText("name:")).get_Render()})],["code",new bH({$:1,$0:d$})],["snippets",new bH({$:1,$0:eI})],["buttons",new bH({$:1,$0:eB})],["menu",new bH({$:1,$0:eE})],["messagesR",new bH({$:4,$0:true,$1:["Properties"]})],["messagesB1",new bH({$:4,$0:true,$1:["Output","JavaScript","F# code"]})],["messagesB2",new bH({$:4,$0:true,$1:["Parser","WS Result"]})],["messagesB",bm.varVerSplitter(55,"messagesB1","messagesB2",0,100)],["title_code",bm.fixedHorSplitter(true,34,"title","code")],["code_props",bm.varVerSplitter(85,"title_code","messagesR",25,100)],["code_buttons",bm.fixedHorSplitter(false,80,"code_props","buttons")],["snippets_code",bm.varVerSplitter(15,"snippets","code_buttons",5,95)],["main_messages",bm.varHorSplitter(82,"snippets_code","messagesB",35,100)],["extrabuttons",new bH({$:1,$0:bf.div([])})],["main_extra",bm.varVerSplitter(100,"main_messages","extrabuttons",20,100)],["main",bm.fixedHorSplitter(true,50,"menu","main_extra")]]);eQ=bL.New$1(eK);a.addLayoutJson=gI;bg.sink(gI,dp);bg.sink(function(gP){if(gP==="")gJ([]);else fq(a,gP);},du);a.doFSharpStationGuiCall=function(gP){var gQ,gR;gQ=m.Success(gH.apply(null,gP));gQ.$==1?((gR=(b$.Curried3(function(gS,gT,gU){return gS("Error doGuiCall "+ca.printArray(ca.prettyPrint,gT)+": "+("("+ca.prettyPrint(gU[0])+", "+ca.prettyPrint(gU[1])+", "+ca.printArray(ca.prettyPrint,gU[2])+")"));}))(function(gS){cd.log(gS);}),function(gS){var gT;gT=gR(gS);return function(gU){gT([gU[0],gU[1],gU[2]]);};})(gQ.$0))(gP):void 0;};a.setFSharpStationLayout=function(gP){var gQ;gQ=bX.FetchO(cY.Get());gQ==null?void 0:gJ(gP.apply(null,[eQ,gQ.$0]));};eR=null;(new ch.New$5()).TryGetValue("",{get:function(){return eR;},set:function(gP){eR=gP;}})?void 0:void 0;bq.get_New();eS=new L.New(bP.fsIds(),null,null);b6.Start((eT=null,b6.Delay(function(){return b6.Bind(b6.Sleep(1000),function(){return b6.While(function(){return true;},b6.Delay(function(){return b6.TryWith(b6.Delay(function(){var gP,gQ,gR,gS,gT;function gU(gX){return gN("",gX);}function gV(gX){return{$:1,$0:gX};}function gW(gX){return(b2.j$9())(cn.parse(gX));}gP=function(gX){return gV(gU(gX));};eS.payloadProcessorO={$:1,$0:(gQ=function(gX){return gP(gW(gX));},(gR=p.map(function(gX){return cn.stringify((b3.j$8())(gX));}),function(gX){return gR(gQ(gX));}))};p.Start(eS.sendAndForget(A.msgType(D.MsgInformation,(gS=A.MessageBrokerAddress(),(gT=cn.stringify(((cq.Id())())("Registering Processor")),G.New(new B({$:0,$0:""}),gS,D.MsgRequest,"",ck.NewGuid(),gT,F.NoReply))))),null);return b6.Bind(b6.Sleep(60000),function(){return b6.Return(null);});}),function(gP){((function(gQ){return function(gR){return gQ(ca.toSafe(gR));};}(function(gQ){cd.log(gQ);}))(gP.message));return b6.Bind(b6.Sleep(1000),function(){return b6.Return(null);});});}));});})),null);bg.sink(function(){eQ.SelectTab("Output");},dI);bg.sink(function(){eQ.SelectTab("WS Result");},ec);b6.Start(d.sleepThen(function(){eQ.SelectTab("Parser");},1000),null);eU=bU.Create$1(cl.ofArray(["/EPFileX/css/main.css"]));bg.sink(gO,da);bg.sink(function(gP){if(gP!=="")gO((function(gQ){return function(gR){return gQ("/EPFileX/codemirror/content/theme/"+ca.toSafe(gR)+".css");};}(a.id))(gP));},dk);eV=bf.div([bf.style("height: 100vh; width: 100% "),eQ.get_Render().Style("height: 100%; width: 100% "),bf.script([bf.src("/EPFileX/FileSaver/FileSaver.js"),bf.type("text/javascript")]),bf.script([bf.src("http://code.jquery.com/jquery-3.1.1.min.js"),bf.type("text/javascript")]),bf.script([bf.src("http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"),bf.type("text/javascript")]),bf.link([bf.href("http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"),bf.type("text/css"),bf.rel("stylesheet")]),bf.css("\n      \n        body { margin: 0px }     \n             \n        div textarea {\n            font-family     : monospace;\n        }\n        .code-editor-list-tile {\n            white-space     : nowrap; \n            border-style    : solid none none;\n            border-color    : white;\n            border-width    : 1px;\n            background-color: #D8D8D8;\n            display         : flex;\n        }\n        .code-editor-list-text{\n            padding         : 1px 10px 1px 5px;\n            overflow        : hidden;\n            text-overflow   : ellipsis;\n            white-space     : nowrap;\n            flex            : 1;\n        }\n        \n        .code-editor-list-tile.direct-predecessor {\n            font-weight     : bold;\n        }\n        .code-editor-list-tile.indirect-predecessor {\n            color           : blue;\n        }\n        .code-editor-list-tile.selected {\n            background-color: #77F;\n            color           : white;\n        }\n        .code-editor-list-tile.hovering {\n            background      : lightgray;\n        }\n        .code-editor-list-tile.hovering.selected {\n            background      : blue;\n        }\n        .code-editor-list-tile>.predecessor {\n            font-weight     : bold;\n            border-style    : inset;\n            border-width    : 1px;\n            text-align      : center;\n            color           : transparent;\n        }\n        .code-editor-list-tile.direct-predecessor>.predecessor {\n            color           : blue;\n        }\n        \n        .CodeMirror { height: 100%; }\n        \n        .node {\n            background-color: white; \n            width           : 2ch; \n            color           : #A03; \n            font-weight     : bold; \n            text-align      : center;\n            font-family     : arial;\n        }\n        .Warning { text-decoration: underline lightblue } \n        .Error   { text-decoration: underline red       } \n        .body    { margin         : 0px                 }\n        "),bf.style(" \n                color      : #333;\n                font-size  : small;\n                font-family: monospace;\n                line-height: 1.2;\n                    "),new bl({$:2,$0:bg.map(function(gP){return bf.div(cl.ofSeq(b7.delay(function(){return b7.map(function(gQ){return bf.link([bf.href(gQ),bf.type("text/css"),bf.rel("stylesheet")]);},gP);})));},eU)}),bf.css(c7)]);return(bf.renderDoc())(eV);};b1.$cctor=function(){var cW,cX,cY;b1.$cctor=a.ignore;function cZ(c0,c1){return new bl({$:8,$0:cF.Style(c0,c1)});}b1.result=new n.New();b1.fromResult=m.toResultS;b1.toResult=m.fromResultS;b1.errOptionIsNone=new k.New();b1.wrap=new q.New();b1.wrapper=new q.New();b1.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";b1.MessageBrokerId="<MessageBroker>";b1.MessageBrokerAddress=new B({$:0,$0:A.MessageBrokerId()});b1.counter=1;b1.valFlow=new bk.New();b1.renderDoc=(cW=(cX=cD.Empty(),function(c0){return c0==null?cX:c0.$0;}),function(c0){return cW(bf.chooseNode(c0));});b1.string2Styles=(cY=function(c0){return cc.map(function(c1){return cZ(c1[0],c1[1]);},c0);},function(c0){return cY(bf.style2pairs(c0));});b1.codeMirrorIncludes=["/EPFileX/codemirror/scripts/codemirror/codemirror.js","/EPFileX/codemirror/scripts/intellisense.js","/EPFileX/codemirror/scripts/codemirror/codemirror-intellisense.js","/EPFileX/codemirror/scripts/codemirror/codemirror-compiler.js","/EPFileX/codemirror/scripts/codemirror/mode/none.js","/EPFileX/codemirror/scripts/codemirror/mode/fsharp.js","/EPFileX/codemirror/scripts/codemirror/mode/css.js","/EPFileX/codemirror/scripts/codemirror/mode/javascript.js","/EPFileX/codemirror/scripts/codemirror/mode/markdown.js","/EPFileX/codemirror/scripts/addon/search/searchcursor.js","/EPFileX/codemirror/scripts/addon/search/search.js","/EPFileX/codemirror/scripts/addon/search/jump-to-line.js","/EPFileX/codemirror/scripts/addon/dialog/dialog.js","/EPFileX/codemirror/scripts/addon/edit/matchbrackets.js","/EPFileX/codemirror/scripts/addon/selection/active-line.js","/EPFileX/codemirror/scripts/addon/display/fullscreen.js","/EPFileX/codemirror/scripts/addon/hint/show-hint.js","/EPFileX/codemirror/scripts/addon/lint/lint.js"];b1.observers=cl.T.Empty;b1.draggedTab=[null];b1.selectedPanels=bU.Create$1(new cy.New([]));b1.TabMoved=null;b1.codeSnippets=cV.Create(function(c0){return c0.id;},cl.T.Empty);b1.fsIds="FSharpStation"+a.String(cU.now());b1.references=["mscorlib.dll","System.dll","System.Core.dll","System.Data.dll","System.IO.dll","System.Xml.dll","System.Numerics.dll","FSharp.Core.sigdata","FSharp.Core.dll","Fable.Core.dll","Fable.Import.Browser.dll"];b1.loadReferences=cS.Create(function(){var c0;b6.Start((c0=null,b6.Delay(function(){return b6.Bind(bf.LoadFilesAsync(["https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.2/require.min.js"]),function(){var c1;c1=cM.create(null);c1.skipDataMain=1;c1.isBrowser=1;a.require.config(c1);b7.iter(function(c2){a.getFileBlob(c2,"metadata/"+c2);},bY.references());return b6.Zero();});})),null);});b1.getChecker=cS.Create(function(){return cN.createChecker(function(c0){return a.metadata[c0];},cc.choose(function(c0){return c0.indexOf("sigdata")!=-1?null:{$:1,$0:b9.Replace(c0,".dll","")};},bY.references()));});b1.addOutMsg=function(c0){cd.log(c0);};};b2.j$4=function(){return b2._v$4?b2._v$4:b2._v$4=(cq.DecodeUnion(void 0,"$",[[0,[["$0","Item",cq.Id(),0]]],[1,[["$0","Item",cq.Id(),1]]],[2,[["$0","Item",b2.j$6,1]]],[3,[["$0","Item",cq.DecodeArray(b2.j$6),0]]],[4,[["$0","Item1",cq.Id(),1],["$1","Item2",cq.DecodeArray(cq.DecodeTuple([cq.Id(),b2.j$5])),0]]]]))();};b2.j$6=function(){return b2._v$6?b2._v$6:b2._v$6=(cq.DecodeRecord(x,[["name",cq.Id(),0],["content",cq.Id(),0],["parent",b2.j$7,1],["predecessors",cq.DecodeList(b2.j$7),0],["id",b2.j$7,0],["expanded",cq.Id(),0],["level",cq.Id(),0],["levelCode",cq.Id(),0],["properties",cq.DecodeStringDictionary(cq.Id()),0]]))();};b2.j$7=function(){return b2._v$7?b2._v$7:b2._v$7=(cq.DecodeUnion(w,"$",[[0,[["$0","Item",cq.Id(),0]]]]))();};b2.j$5=function(){return b2._v$5?b2._v$5:b2._v$5=(cq.DecodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]]]))();};b3.j$4=function(){return b3._v$4?b3._v$4:b3._v$4=(cq.EncodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",cq.Id(),0]]],[2,[["$0","Item",b3.j$5,0]]],[3,[["$0","Item",b3.j$5,0]]],[4,[["$0","Item",b3.j$5,0]]],[5,[["$0","Item",b3.j$5,0]]],[6,[["$0","Item",cq.EncodeArray(cq.Id()),0]]],[7,[["$0","Item",cq.EncodeArray(cq.Id()),0]]],[8,[["$0","Item",cq.EncodeArray(cq.Id()),0]]],[9,[["$0","Item",cq.EncodeArray(cq.Id()),0]]],[10,[["$0","Item",cq.EncodeArray(cq.Id()),0]]],[11,[]],[12,[["$0","Item1",b3.j$5,0],["$1","Item2",cq.Id(),0]]],[13,[["$0","Item1",cq.EncodeArray(cq.Id()),0],["$1","Item2",cq.Id(),0]]],[14,[["$0","name",cq.Id(),0],["$1","action",cq.Id(),0],["$2","parms",cq.EncodeArray(cq.Id()),0]]]]))();};b3.j$5=function(){return b3._v$5?b3._v$5:b3._v$5=(cq.EncodeUnion(w,"$",[[0,[["$0","Item",cq.Id(),0]]]]))();};b4.p$1=function(cW){return"Address "+ca.prettyPrint(cW.$0);};b3.j$8=function(){return b3._v$8?b3._v$8:b3._v$8=(cq.EncodeUnion(void 0,"$",[[0,[["$0","Item",cq.Id(),0]]],[1,[["$0","Item",cq.Id(),1]]],[2,[["$0","Item",b3.j$7,1]]],[3,[["$0","Item",cq.EncodeArray(b3.j$7),0]]],[4,[["$0","Item1",cq.Id(),1],["$1","Item2",cq.EncodeArray(cq.EncodeTuple([cq.Id(),b3.j$9])),0]]]]))();};b3.j$9=function(){return b3._v$9?b3._v$9:b3._v$9=(cq.EncodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]]]))();};b2.j$9=function(){return b2._v$9?b2._v$9:b2._v$9=(cq.DecodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",cq.Id(),0]]],[2,[["$0","Item",b2.j$7,0]]],[3,[["$0","Item",b2.j$7,0]]],[4,[["$0","Item",b2.j$7,0]]],[5,[["$0","Item",b2.j$7,0]]],[6,[["$0","Item",cq.DecodeArray(cq.Id()),0]]],[7,[["$0","Item",cq.DecodeArray(cq.Id()),0]]],[8,[["$0","Item",cq.DecodeArray(cq.Id()),0]]],[9,[["$0","Item",cq.DecodeArray(cq.Id()),0]]],[10,[["$0","Item",cq.DecodeArray(cq.Id()),0]]],[11,[]],[12,[["$0","Item1",b2.j$7,0],["$1","Item2",cq.Id(),0]]],[13,[["$0","Item1",cq.DecodeArray(cq.Id()),0],["$1","Item2",cq.Id(),0]]],[14,[["$0","name",cq.Id(),0],["$1","action",cq.Id(),0],["$2","parms",cq.DecodeArray(cq.Id()),0]]]]))();};b5.p$22=function(cW){return"{"+("text = "+b4.p$9(cW.text))+"; "+("highlight = "+b4.p$11(cW.highlight))+"; "+("disabled = "+b4.p$11(cW.disabled))+"; "+("toolTip = "+b4.p$13(cW.toolTip))+"; "+("onClick = "+b4.p$14(cW.onClick))+"; "+("parms = "+b4.p$8(cW.parms))+"}";};b4.p$14=function(cW){return cW==null?"null":"Some <fun>";};b4.p$13=function(cW){return cW==null?"null":"Some "+ca.prettyPrint(cW.$0);};b4.p$11=function(cW){return cW.$==2?"Dynamic "+b4.p$12(cW.$0):cW.$==1?"DynamicV "+ca.prettyPrint(cW.$0):"Constant "+ca.prettyPrint(cW.$0);};b4.p$12=function(cW){return"View <fun>";};b4.p$9=function(cW){return cW.$==2?"Dynamic "+b4.p$10(cW.$0):cW.$==1?"DynamicV "+ca.prettyPrint(cW.$0):"Constant "+ca.prettyPrint(cW.$0);};b4.p$10=function(cW){return"View <fun>";};b4.p$8=function(cW){return cW==null?"null":"Some "+ca.printArray(ca.prettyPrint,cW.$0);};b4.p$7=function(cW){return cW.$==17?"KMultiple "+ca.printArray(function(cX){return b4.p$7(cX);},cW.$0):cW.$==16?"KUnionCase "+b5.p$21(cW.$0):cW.$==15?"KNamespaces "+b5.p$18(cW.$0):cW.$==14?"KCompilerLocation "+b5.p$17(cW.$0):cW.$==13?"KSignatureData "+b5.p$15(cW.$0):cW.$==12?"KTypeSig "+ca.prettyPrint(cW.$0):cW.$==11?"KToolTip "+ca.printArray(function(cX){return ca.printArray(function(cY){return b5.p$2(cY);},cX);},cW.$0):cW.$==10?"KDeclarations "+ca.printArray(function(cX){return b5.p$13(cX);},cW.$0):cW.$==9?"KFindDecl "+b5.p$12(cW.$0):cW.$==8?"KColorizations "+ca.printList(function(cX){return b5.p$11(cX);},cW.$0):cW.$==7?"KErrors "+b5.p$9(cW.$0):cW.$==6?"KMethod "+b5.p$6(cW.$0):cW.$==5?"KHelp "+ca.prettyPrint(cW.$0):cW.$==4?"KSymbolUse "+b5.p$4(cW.$0):cW.$==3?"KCompletion "+ca.printArray(function(cX){return b5.p$3(cX);},cW.$0):cW.$==2?"KHelpText "+b5.p$1(cW.$0):cW.$==1?"KError "+b5.p(cW.$0):"KInfo "+ca.prettyPrint(cW.$0);};b5.p$21=function(cW){return"{"+("Text = "+ca.prettyPrint(cW.Text))+"}";};b5.p$18=function(cW){return"{"+("Opens = "+ca.printArray(function(cX){return b5.p$19(cX);},cW.Opens))+"; "+("Qualifies = "+ca.printArray(function(cX){return b5.p$20(cX);},cW.Qualifies))+"; "+("Word = "+ca.prettyPrint(cW.Word))+"}";};b5.p$20=function(cW){return"{"+("Name = "+ca.prettyPrint(cW.Name))+"; "+("Qualifier = "+ca.prettyPrint(cW.Qualifier))+"}";};b5.p$19=function(cW){return"{"+("Namespace = "+ca.prettyPrint(cW.Namespace))+"; "+("Name = "+ca.prettyPrint(cW.Name))+"; "+("Type = "+ca.prettyPrint(cW.Type))+"; "+("Line = "+ca.prettyPrint(cW.Line))+"; "+("Column = "+ca.prettyPrint(cW.Column))+"; "+("MultipleNames = "+ca.prettyPrint(cW.MultipleNames))+"}";};b5.p$17=function(cW){return"{"+("Fsc = "+ca.prettyPrint(cW.Fsc))+"; "+("Fsi = "+ca.prettyPrint(cW.Fsi))+"; "+("MSBuild = "+ca.prettyPrint(cW.MSBuild))+"}";};b5.p$15=function(cW){return"{"+("OutputType = "+ca.prettyPrint(cW.OutputType))+"; "+("Parameters = "+ca.printList(function(cX){return ca.printList(function(cY){return b5.p$16(cY);},cX);},cW.Parameters))+"}";};b5.p$16=function(cW){return"{"+("Name = "+ca.prettyPrint(cW.Name))+"; "+("Type = "+ca.prettyPrint(cW.Type))+"}";};b5.p$13=function(cW){return"{"+("Declaration = "+b5.p$14(cW.Declaration))+"; "+("Nested = "+ca.printArray(function(cX){return b5.p$14(cX);},cW.Nested))+"}";};b5.p$14=function(cW){return"{"+("UniqueName = "+ca.prettyPrint(cW.UniqueName))+"; "+("Name = "+ca.prettyPrint(cW.Name))+"; "+("Glyph = "+ca.prettyPrint(cW.Glyph))+"; "+("GlyphChar = "+ca.prettyPrint(cW.GlyphChar))+"; "+("IsTopLevel = "+ca.prettyPrint(cW.IsTopLevel))+"; "+("File = "+ca.prettyPrint(cW.File))+"; "+("EnclosingEntity = "+ca.prettyPrint(cW.EnclosingEntity))+"; "+("IsAbstract = "+ca.prettyPrint(cW.IsAbstract))+"}";};b5.p$12=function(cW){return"{"+("File = "+ca.prettyPrint(cW.File))+"; "+("Line = "+ca.prettyPrint(cW.Line))+"; "+("Column = "+ca.prettyPrint(cW.Column))+"}";};b5.p$11=function(cW){return"{"+("Kind = "+ca.prettyPrint(cW.Kind))+"}";};b5.p$9=function(cW){return"{"+("File = "+ca.prettyPrint(cW.File))+"; "+("Errors = "+ca.printArray(function(cX){return b5.p$10(cX);},cW.Errors))+"}";};b5.p$10=function(cW){return"{"+("FileName = "+ca.prettyPrint(cW.FileName))+"; "+("StartLine = "+ca.prettyPrint(cW.StartLine))+"; "+("EndLine = "+ca.prettyPrint(cW.EndLine))+"; "+("StartColumn = "+ca.prettyPrint(cW.StartColumn))+"; "+("EndColumn = "+ca.prettyPrint(cW.EndColumn))+"; "+("Message = "+ca.prettyPrint(cW.Message))+"; "+("Subcategory = "+ca.prettyPrint(cW.Subcategory))+"}";};b5.p$6=function(cW){return"{"+("Name = "+ca.prettyPrint(cW.Name))+"; "+("CurrentParameter = "+ca.prettyPrint(cW.CurrentParameter))+"; "+("Overloads = "+ca.printList(function(cX){return b5.p$7(cX);},cW.Overloads))+"}";};b5.p$7=function(cW){return"{"+("Tip = "+ca.printList(function(cX){return ca.printList(function(cY){return b5.p$2(cY);},cX);},cW.Tip))+"; "+("TypeText = "+ca.prettyPrint(cW.TypeText))+"; "+("Parameters = "+ca.printList(function(cX){return b5.p$8(cX);},cW.Parameters))+"; "+("IsStaticArguments = "+ca.prettyPrint(cW.IsStaticArguments))+"}";};b5.p$8=function(cW){return"{"+("Name = "+ca.prettyPrint(cW.Name))+"; "+("CanonicalTypeTextForSorting = "+ca.prettyPrint(cW.CanonicalTypeTextForSorting))+"; "+("Display = "+ca.prettyPrint(cW.Display))+"; "+("Description = "+ca.prettyPrint(cW.Description))+"}";};b5.p$4=function(cW){return"{"+("Name = "+ca.prettyPrint(cW.Name))+"; "+("Uses = "+ca.printList(function(cX){return b5.p$5(cX);},cW.Uses))+"}";};b5.p$5=function(cW){return"{"+("FileName = "+ca.prettyPrint(cW.FileName))+"; "+("StartLine = "+ca.prettyPrint(cW.StartLine))+"; "+("StartColumn = "+ca.prettyPrint(cW.StartColumn))+"; "+("EndLine = "+ca.prettyPrint(cW.EndLine))+"; "+("EndColumn = "+ca.prettyPrint(cW.EndColumn))+"; "+("IsFromDefinition = "+ca.prettyPrint(cW.IsFromDefinition))+"; "+("IsFromAttribute = "+ca.prettyPrint(cW.IsFromAttribute))+"; "+("IsFromComputationExpression = "+ca.prettyPrint(cW.IsFromComputationExpression))+"; "+("IsFromDispatchSlotImplementation = "+ca.prettyPrint(cW.IsFromDispatchSlotImplementation))+"; "+("IsFromPattern = "+ca.prettyPrint(cW.IsFromPattern))+"; "+("IsFromType = "+ca.prettyPrint(cW.IsFromType))+"}";};b5.p$3=function(cW){return"{"+("Name = "+ca.prettyPrint(cW.Name))+"; "+("ReplacementText = "+ca.prettyPrint(cW.ReplacementText))+"; "+("Glyph = "+ca.prettyPrint(cW.Glyph))+"; "+("GlyphChar = "+ca.prettyPrint(cW.GlyphChar))+"}";};b5.p$1=function(cW){return"{"+("Name = "+ca.prettyPrint(cW.Name))+"; "+("Overloads = "+ca.printList(function(cX){return ca.printList(function(cY){return b5.p$2(cY);},cX);},cW.Overloads))+"}";};b5.p$2=function(cW){return"{"+("Signature = "+ca.prettyPrint(cW.Signature))+"; "+("Comment = "+ca.prettyPrint(cW.Comment))+"}";};b5.p=function(cW){return"{"+("Code = "+ca.prettyPrint(cW.Code))+"; "+("Message = "+ca.prettyPrint(cW.Message))+"}";};b3.j$7=function(){return b3._v$7?b3._v$7:b3._v$7=(cq.EncodeRecord(x,[["name",cq.Id(),0],["content",cq.Id(),0],["parent",b3.j$5,1],["predecessors",cq.EncodeList(b3.j$5),0],["id",b3.j$5,0],["expanded",cq.Id(),0],["level",cq.Id(),0],["levelCode",cq.Id(),0],["properties",cq.EncodeStringDictionary(cq.Id()),0]]))();};b4.p$6=function(cW){return"CodeSnippetId "+ca.prettyPrint(cW.$0);};b3.j$6=function(){return b3._v$6?b3._v$6:b3._v$6=(cq.EncodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};b2.j$8=function(){return b2._v$8?b2._v$8:b2._v$8=(cq.DecodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};b2.j$10=function(){return b2._v$10?b2._v$10:b2._v$10=(cq.DecodeUnion(void 0,"type",[["BRConnections",[["$0","Item",cq.DecodeArray(cq.Id()),0]]]]))();};b3.j$10=function(){return b3._v$10?b3._v$10:b3._v$10=(cq.EncodeUnion(void 0,"type",[["BRGetConnections",[]]]))();};b2.j$11=function(){return b2._v$11?b2._v$11:b2._v$11=(cq.DecodeUnion(void 0,"type",[["BMOk",[]],["BMOnlyBrokerShouldUse",[]],["BMDestinationNotFound",[["$0","Item",b2.j$1,0]]],["BMWebSocketError",[["$0","Item",cq.Id(),0]]],["BMReceiverCantReply",[]],["BMUnexpectedMsgType",[["$0","Item",b2.j$2,0]]]]))();};b5.p$23=function(cW){return"{"+("from = "+b4.p$1(cW.from))+"; "+("destination = "+b4.p$1(cW.destination))+"; "+("msgType = "+b4.p$2(cW.msgType))+"; "+("subtype = "+ca.prettyPrint(cW.subtype))+"; "+("id = "+ca.prettyPrint(cW.id))+"; "+("payload = "+ca.prettyPrint(cW.payload))+"; "+("replier = "+b4.p$15(cW.replier))+"}";};b4.p$15=function(cW){return cW.$==2?"Receiver":cW.$==1?"Broker":"NoReply";};b4.p$16=function(cW){return cW.$==3?"Close":cW.$==2?"Open":cW.$==1?"Error":"Message "+b5.p$23(cW.$0);};b2.j$12=function(){return b2._v$12?b2._v$12:b2._v$12=(cq.DecodeRecord(void 0,[["GuiRoot",cq.Id(),1],["GuiTabStrip",cq.DecodeTuple([cq.Id(),cq.DecodeArray(cq.Id())]),1],["GuiSplit",cq.DecodeTuple([cq.Id(),cq.Id(),cq.Id(),cq.Id(),cq.Id(),cq.Id(),cq.Id(),cq.Id()]),1],["GuiNode",b2.j$13,1],["GuiCall",cq.DecodeTuple([cq.Id(),cq.Id(),cq.DecodeArray(cq.Id())]),1]]))();};b2.j$13=function(){return b2._v$13?b2._v$13:b2._v$13=(cq.DecodeRecord(void 0,[["HtmlElementF",cq.DecodeTuple([cq.Id(),cq.DecodeArray(b2.j$13)]),1],["HtmlAttributeF",cq.DecodeTuple([cq.Id(),cq.Id()]),1],["HtmlAttributeOF",cq.DecodeTuple([cq.Id(),b2.j$14]),1],["HtmlTextF",cq.Id(),1],["HtmlEmptyF",cq.Id(),1],["HtmlGuiPart",cq.Id(),1],["HtmlGuiCall",cq.DecodeTuple([cq.Id(),cq.Id(),cq.DecodeArray(cq.Id())]),1]]))();};b2.j$14=function(){return b2._v$14?b2._v$14:b2._v$14=(cq.DecodeUnion(void 0,"$",[null,[1,[["$0","Value",cq.Id(),0]]]]))();};b2.j$1=function(){return b2._v$1?b2._v$1:b2._v$1=(cq.DecodeUnion(B,"$",[[0,[["$0","address",cq.Id(),0]]]]))();};b2.j$2=function(){return b2._v$2?b2._v$2:b2._v$2=(cq.DecodeUnion(void 0,"type",[["MsgInformation",[]],["MsgRequest",[]],["MsgReply",[]],["MsgFromBroker",[]],["MsgRequestForId",[]],["MsgRequestForEcho",[]]]))();};b2.j$3=function(){return b2._v$3?b2._v$3:b2._v$3=(cq.DecodeUnion(void 0,"type",[["NoReply",[]],["Broker",[]],["Receiver",[]]]))();};b2.j=function(){return b2._v?b2._v:b2._v=(cq.DecodeRecord(void 0,[["from",b2.j$1,0],["destination",b2.j$1,0],["msgType",b2.j$2,0],["subtype",cq.Id(),0],["id",cq.Id(),0],["payload",cq.Id(),0],["replier",b2.j$3,0]]))();};b3.j$1=function(){return b3._v$1?b3._v$1:b3._v$1=(cq.EncodeUnion(B,"$",[[0,[["$0","address",cq.Id(),0]]]]))();};b3.j$2=function(){return b3._v$2?b3._v$2:b3._v$2=(cq.EncodeUnion(void 0,"type",[["MsgInformation",[]],["MsgRequest",[]],["MsgReply",[]],["MsgFromBroker",[]],["MsgRequestForId",[]],["MsgRequestForEcho",[]]]))();};b3.j$3=function(){return b3._v$3?b3._v$3:b3._v$3=(cq.EncodeUnion(void 0,"type",[["NoReply",[]],["Broker",[]],["Receiver",[]]]))();};b3.j=function(){return b3._v?b3._v:b3._v=(cq.EncodeRecord(void 0,[["from",b3.j$1,0],["destination",b3.j$1,0],["msgType",b3.j$2,0],["subtype",cq.Id(),0],["id",cq.Id(),0],["payload",cq.Id(),0],["replier",b3.j$3,0]]))();};b4.p$2=function(cW){return cW.$==5?"MsgRequestForEcho":cW.$==4?"MsgRequestForId":cW.$==3?"MsgFromBroker":cW.$==2?"MsgReply":cW.$==1?"MsgRequest":"MsgInformation";};b4.p=function(cW){return cW.$==5?"BMUnexpectedMsgType "+b4.p$2(cW.$0):cW.$==4?"BMReceiverCantReply":cW.$==3?"BMWebSocketError "+ca.prettyPrint(cW.$0):cW.$==2?"BMDestinationNotFound "+b4.p$1(cW.$0):cW.$==1?"BMOnlyBrokerShouldUse":"BMOk";};b4.p$3=function(cW){return cW.$==2?"FSInfor":cW.$==1?"FSWarning":"FSError";};b4.p$4=function(cW){return cW.$==1?"Snippet Not Found "+ca.prettyPrint(cW.$0):"FSMessage ("+ca.prettyPrint(cW.$0)+", "+b4.p$3(cW.$1)+")";};b4.p$5=function(cW){return cW.$==2?"Could not open new browser, Popup blocker may be active":cW.$==1?"Snippet Missing":"JsCompilerMsg ("+ca.prettyPrint(cW.$0)+", "+ca.prettyPrint(cW.$1)+")";};}());
