(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1;a=window;b=a.FSSGlobal=a.FSSGlobal||{};c=b.Useful=b.Useful||{};d=c.Async=c.Async||{};e=c.KeyVal=c.KeyVal||{};f=c.String=c.String||{};g=c.Option=c.Option||{};h=a.WebSharper;i=h&&h.Obj;j=c.ExceptionThrown=c.ExceptionThrown||{};k=c.ErrOptionIsNone=c.ErrOptionIsNone||{};l=c.ErrSimple=c.ErrSimple||{};m=c.Result=c.Result||{};n=m.ropBuilder=m.ropBuilder||{};o=m.Seq=m.Seq||{};p=c.ResultS=c.ResultS||{};q=c.Wrap=c.Wrap||{};r=q.Builder=q.Builder||{};s=c.List=c.List||{};t=c.ResultWrap=c.ResultWrap||{};u=c.Mailbox=c.Mailbox||{};v=u.FoldNShare=u.FoldNShare||{};w=c.Dict=c.Dict||{};x=c.ResetableMemoize=c.ResetableMemoize||{};y=c.PreproDirective=c.PreproDirective||{};z=b.FsStationShared=b.FsStationShared||{};A=z.CodeSnippetId=z.CodeSnippetId||{};B=z.CodeSnippet=z.CodeSnippet||{};C=z.FSMessage=z.FSMessage||{};D=z.FSSeverity=z.FSSeverity||{};E=b.WSMessagingBroker=b.WSMessagingBroker||{};F=E.Address=E.Address||{};G=E.BrokerRequest=E.BrokerRequest||{};H=E.MessageType=E.MessageType||{};I=E.BrokerMessage=E.BrokerMessage||{};J=E.Replier=E.Replier||{};K=E.MessageGeneric=E.MessageGeneric||{};L=E.ClientTypeFSharp=E.ClientTypeFSharp||{};M=E.ClientTypeFSStation=E.ClientTypeFSStation||{};N=E.ClientTypeJScript=E.ClientTypeJScript||{};O=E.ErrBroker=E.ErrBroker||{};P=E.WSMessagingClient=E.WSMessagingClient||{};Q=E.FsStationClientErr=E.FsStationClientErr||{};R=E.FStationMessaging=E.FStationMessaging||{};S=b.FSAutoCompleteIntermediary=b.FSAutoCompleteIntermediary||{};T=S.CommTypes=S.CommTypes||{};U=T.ResponseError=T.ResponseError||{};V=T.Location=T.Location||{};W=T.CompletionResponse=T.CompletionResponse||{};X=T.OverloadDescription=T.OverloadDescription||{};Y=T.OverloadParameter=T.OverloadParameter||{};Z=T.Overload=T.Overload||{};_0=T.Parameter=T.Parameter||{};_1=T.SignatureData=T.SignatureData||{};_2=T.MethodResponse=T.MethodResponse||{};_3=T.SymbolUseRange=T.SymbolUseRange||{};_4=T.SymbolUseResponse=T.SymbolUseResponse||{};_5=T.HelpTextResponse=T.HelpTextResponse||{};_6=T.CompilerLocationResponse=T.CompilerLocationResponse||{};_7=T.FSharpErrorInfo=T.FSharpErrorInfo||{};_8=T.ErrorResponse=T.ErrorResponse||{};_9=T.Colorization=T.Colorization||{};_=T.Declaration=T.Declaration||{};$=T.DeclarationResponse=T.DeclarationResponse||{};ba=T.OpenNamespace=T.OpenNamespace||{};bb=T.QualifySymbol=T.QualifySymbol||{};bc=T.ResolveNamespaceResponse=T.ResolveNamespaceResponse||{};bd=T.UnionCaseResponse=T.UnionCaseResponse||{};be=T.ACMessage=T.ACMessage||{};bf=S.FSAutoCompleteIntermediaryClient=S.FSAutoCompleteIntermediaryClient||{};bg=b.FsEvaluator=b.FsEvaluator||{};bh=bg.Evaluator=bg.Evaluator||{};bi=b.FsTranslator=b.FsTranslator||{};bj=b.HtmlNode=b.HtmlNode||{};bk=bj.Val=bj.Val||{};bl=bj.Var=bj.Var||{};bm=bj.ListModel=bj.ListModel||{};bn=bk.HelperType=bk.HelperType||{};bo=bk.valBuilder=bk.valBuilder||{};bp=bj.HtmlNode=bj.HtmlNode||{};bq=bj.LoadFiles=bj.LoadFiles||{};br=b.Template=b.Template||{};bs=br.Button=br.Button||{};bt=br.Input=br.Input||{};bu=br.Hoverable=br.Hoverable||{};bv=br.Panel=br.Panel||{};bw=br.TextArea=br.TextArea||{};bx=br.CodeMirrorPos=br.CodeMirrorPos||{};by=br.CodeMirrorEditor=br.CodeMirrorEditor||{};bz=br.CodeMirror=br.CodeMirror||{};bA=br.Hint=br.Hint||{};bB=br.HintResponse=br.HintResponse||{};bC=br.HintOptions=br.HintOptions||{};bD=br.LintResponse=br.LintResponse||{};bE=br.SplitterBar=br.SplitterBar||{};bF=br.SectionType=br.SectionType||{};bG=br.Grid=br.Grid||{};bH=br.TabStrip=br.TabStrip||{};bI=br.MenuEntry=br.MenuEntry||{};bJ=br.MenuNode=br.MenuNode||{};bK=br.Menu=br.Menu||{};bL=br.Action=br.Action||{};bM=br.GuiPart=br.GuiPart||{};bN=br.HtmlNodeFable=br.HtmlNodeFable||{};bO=br.LayoutDescriptionFable=br.LayoutDescriptionFable||{};bP=br.GuiPartSourceId=br.GuiPartSourceId||{};bQ=br.Layout=br.Layout||{};bR=b.RunCode=b.RunCode||{};bS=bR.RunNode=bR.RunNode||{};bT=b.FSharpStation=b.FSharpStation||{};bU=bT.FsGlobal=bT.FsGlobal||{};bV=bU.Position=bU.Position||{};bW=bU.ErrCompiler=bU.ErrCompiler||{};bX=bU.KeyMapAutoComplete=bU.KeyMapAutoComplete||{};bY=h&&h.UI;bZ=bY&&bY.Var;b0=bU.Property=bU.Property||{};b1=bU.PropValue=bU.PropValue||{};b2=bU.CodeSnippet=bU.CodeSnippet||{};b3=bT.FableModule=bT.FableModule||{};b4=b3.Babel=b3.Babel||{};b5=b3.Fable=b3.Fable||{};b6=a.StartupCode$FSharpStation$FSharpStation=a.StartupCode$FSharpStation$FSharpStation||{};b7=a.FSharpStation_GeneratedPrintf=a.FSharpStation_GeneratedPrintf||{};b8=a.FSharpStation_JsonEncoder=a.FSharpStation_JsonEncoder||{};b9=a.FSharpStation_JsonDecoder=a.FSharpStation_JsonDecoder||{};b_=a.GeneratedPrintf=a.GeneratedPrintf||{};b$=h&&h.Concurrency;ca=h&&h.Seq;cb=h&&h.Unchecked;cc=h&&h.Slice;cd=h&&h.Strings;ce=a.IntelliFactory;cf=ce&&ce.Runtime;cg=h&&h.Utils;ch=h&&h.Enumerator;ci=h&&h.Arrays;cj=a.console;ck=h&&h.List;cl=h&&h.Control;cm=cl&&cl.MailboxProcessor;cn=h&&h.Collections;co=cn&&cn.Dictionary;cp=h&&h.CancellationTokenSource;cq=a.System;cr=cq&&cq.Guid;cs=h&&h.Option;ct=a.JSON;cu=h&&h.TimeoutException;cv=h&&h.ClientSideJson;cw=cv&&cv.Provider;cx=h&&h.Owin;cy=cx&&cx.WebSocket;cz=cy&&cy.Client;cA=cz&&cz.WithEncoding;cB=cy&&cy.Endpoint;cC=a.location;cD=cn&&cn.Map;cE=cn&&cn.FSharpMap;cF=h&&h.Remoting;cG=cF&&cF.AjaxRemotingProvider;cH=bY&&bY.View;cI=bY&&bY.FromView;cJ=bY&&bY.Doc;cK=h&&h.Operators;cL=bY&&bY.AttrModule;cM=bY&&bY.AttrProxy;cN=bY&&bY.Input;cO=cN&&cN.Mouse;cP=cn&&cn.FSharpSet;cQ=cn&&cn.BalancedTree;cR=h&&h.MatchFailureException;cS=a.Object;cT=a.Fable;cU=a.Babel;cV=cn&&cn.HashSet;cW=h&&h.JavaScript;cX=cW&&cW.JSModule;cY=h&&h.Lazy;cZ=a.jQuery;c0=a.Date;c1=bY&&bY.ListModel;d.sleepThen=function(c2,c3){var c4;c4=null;return b$.Delay(function(){return b$.Bind(b$.Sleep(c3),function(){c2();return b$.Zero();});});};d.bind=function(c2,c3){return b$.Bind(c3,c2);};d.apply=function(c2,c3){var c4;c4=null;return b$.Delay(function(){return b$.Bind(b$.StartChild(c2,null),function(c5){return b$.Bind(b$.StartChild(c3,null),function(c6){return b$.Bind(c5,function(c7){return b$.Bind(c6,function(c8){return b$.Return(c7(c8));});});});});});};d.retn=function(c2){return b$.Return(c2);};d.iter=function(c2,c3){var c4;c4=null;return b$.Delay(function(){return b$.Bind(c3,function(c5){c2(c5);return b$.Zero();});});};d.map=function(c2,c3){var c4;c4=null;return b$.Delay(function(){return b$.Bind(c3,function(c5){return b$.Return(c2(c5));});});};e.tryGetValue=function(c2,c3){return ca.tryPick(function(c4){return cb.Equals(c4.K,c2)?{$:1,$0:c4.V}:null;},c3);};f.skipFirstLine=function(c2){var c3;c3=c2.indexOf("\n");return c3<0?"":cc.string(c2,{$:1,$0:c3+1},null);};f.append=function(c2,c3){return c2+c3;};f.trim=function(c2){return cd.Trim(c2);};f.splitByChar=function(c2,c3){return cd.SplitChars(c3,[c2],0);};g.modify=function(c2){var c3;function c4(c5){return c5==null?null:{$:1,$0:c2(c5.$0)};}c3=function(c5){return g.defaultValue(a.id,c5);};return function(c5){return c3(c4(c5));};};g.join=function(c2){return c2!=null&&c2.$==1?c2.$0:null;};g.apply=function(c2,c3){var c4;return c2!=null&&c2.$==1&&(c3!=null&&c3.$==1&&(c4=[c2.$0,c3.$0],true))?{$:1,$0:c4[0](c4[1])}:null;};g.iterFO=function(c2,c3){if(c2!=null&&c2.$==1)if(c3!=null&&c3.$==1)c3.$0(c2.$0);};g.iterF=function(c2,c3){if(c3!=null&&c3.$==1)c3.$0(c2);};g.call=function(c2,c3){return c3!=null&&c3.$==1?{$:1,$0:c3.$0(c2)}:null;};g.defaultWith=function(c2,c3){return c3==null?c2():c3.$0;};g.defaultValue=function(c2,c3){return c3==null?c2:c3.$0;};j=c.ExceptionThrown=cf.Class({toString:function(){return this.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return false;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return(function(c2){return function(c3){return c2(cg.prettyPrint(c3));};}(a.id))(this.exn);}},i,j);j.New=cf.Ctor(function(c2){this.exn=c2;},j);k=c.ErrOptionIsNone=cf.Class({toString:function(){return this.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return false;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return"Option is None";}},i,k);k.New=cf.Ctor(function(){},k);l=c.ErrSimple=cf.Class({toString:function(){return this.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return this.warning;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return this.msg;}},i,l);l.New=cf.Ctor(function(c2,c3){this.msg=c2;this.warning=c3;},l);n=m.ropBuilder=cf.Class({For:function(c2,c3){var c4;c4=this;return this.Using(ch.Get(c2),function(c5){return c4.While(function(){return c5.MoveNext();},c4.Delay(function(){return c3(c5.Current());}));});},Using:function(c2,c3){return this.TryFinally(function(){return c3(c2);},function(){if(!cb.Equals(c2,null))c2.Dispose();});},TryFinally:function(c2,c3){try{return this.ReturnFrom(c2());}finally{c3();}},TryWith:function(c2,c3){try{return this.ReturnFrom(c2());}catch(c4){return c3(c4);}},While:function(c2,c3){var c4;c4=this;return!c2()?this.Zero():this.Bind(c3(),function(){return c4.While(c2,c3);});},Run:function(c2){return m.bind(c2,m.succeed());},Combine:function(c2,c3){return m.combine(c2,c3);},Delay:a.id,Zero:function(){return m.succeed();},Bind:function(c2,c3){return m.bind(c3,c2);},ReturnFrom:a.id,Return:function(c2){return m.succeed(c2);}},i,n);n.New=cf.Ctor(function(){},n);o.sequenceA=function(c2){return o.traverseA(a.id,c2);};o.traverseA=function(c2,c3){return ca.fold(function(c4,c5){return m.apply(m.apply(m.succeed(function(c6){return function(c7){return o.cons(c6,c7);};}),c2(c5)),c4);},m.succeed([]),c3);};o.sequenceM=function(c2){return o.traverseM(a.id,c2);};o.traverseM=function(c2,c3){function c4(c5,c6){return m.bind(c6,c5);}return ca.fold(function(c5,c6){return c4(c2(c6),function(c7){return c4(c5,function(c8){return m.succeed(o.cons(c7,c8));});});},m.succeed([]),c3);};o.cons=function(c2,c3){return ca.append(c3,[c2]);};m.toResultS=function(c2){return{$:0,$0:c2.$0,$1:ci.map(function(c3){return new l.New(c3.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),c3.FSSGlobal_Useful_ErrMsg$get_IsWarning());},c2.$1)};};m.fromResultS=function(c2){return{$:0,$0:c2.$0,$1:ci.map(a.id,c2.$1)};};m.result2String=function(c2){return cd.concat("\n",[g.defaultValue("Failed: ",c2.$0)].concat(m.msgs2String(c2.$1)));};m.countMessages=function(c2){var c3,c4,c5,c6,c7,c8,c9;if(cb.Equals(c2,[]))return"";else{c6=ci.filter(function(c_){return!c_.FSSGlobal_Useful_ErrMsg$get_IsWarning();},c2);c7=ci.filter(function(c_){return c_.FSSGlobal_Useful_ErrMsg$get_IsWarning();},c2);c8=ci.length(c6);c9=ci.length(c7);switch(c8===0?c9===0?0:c9===1?2:5:c8===1?c9===0?1:c9===1?3:(c3=[c8,c9],6):c9===0?4:(c3=[c8,c9],6)){case 0:c5=function(c_){return function(c$){return c_(cg.toSafe(c$));};}(a.id);break;case 1:c5=function(c_){return function(c$){return c_(cg.toSafe(c$));};}(a.id);break;case 2:c5=function(c_){return function(c$){return c_(cg.toSafe(c$));};}(a.id);break;case 3:c5=function(c_){return function(c$){return c_("1 error, 1 warning\n"+cg.toSafe(c$));};}(a.id);break;case 4:c5=((cf.Curried3(function(c_,c$,da){return c_(a.String(c$)+" errors\n"+cg.toSafe(da));}))(a.id))(c8);break;case 5:c5=((cf.Curried3(function(c_,c$,da){return c_(a.String(c$)+" warnings\n"+cg.toSafe(da));}))(a.id))(c9);break;case 6:c5=(((cf.Curried(function(c_,c$,da,db){return c_(a.String(c$)+" errors, "+a.String(da)+" warnings\n"+cg.toSafe(db));},4))(a.id))(c3[0]))(c3[1]);break;}return c5(m.getMessages(c2));}};m.getMessages=function(c2){return cd.concat("\n",m.msgs2String(c2));};m.msgs2String=function(c2){return ci.map(function(c3){return c3.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},c2);};m.withError=function(c2,c3){var c4;c4=c3.$1;return g.defaultWith(function(){return c2(c4);},c3.$0);};m.ifError=function(c2,c3){return g.defaultValue(c2,c3.$0);};m.failIfTrue=function(c2,c3){return c3?m.fail(c2):m.succeed();};m.failIfFalse=function(c2,c3){return c3?m.succeed():m.fail(c2);};m.tryProtection=function(){return m.succeed();};m.toOptionMs=function(c2){return[c2.$0,c2.$1];};m.toOption=function(c2){return c2.$0;};m.fromOptionW=function(c2,c3){return c3!=null&&c3.$==1?m.succeed(c3.$0):m.fail(c2());};m.fromOption=function(c2,c3){return c3!=null&&c3.$==1?m.succeed(c3.$0):m.fail(c2);};m.fromChoice=function(c2){return c2.$==1?m.fail(c2.$0):m.succeed(c2.$0);};m.result=function(){b6.$cctor();return b6.result;};m.tryCall=function(c2,c3){try{return c2(c3);}catch(c4){return m.fail(m.failException(c4));}};m.Success=function(c2){return c2.$0==null?{$:1,$0:c2.$1}:{$:0,$0:[c2.$0.$0,c2.$1]};};m.isGood=function(c2){return c2.$0!=null;};m.isError=function(c2){return c2.$0==null;};m.failSimpleWarning=function(c2){return m.fail(new l.New(c2,true));};m.failSimpleError=function(c2){return m.fail(new l.New(c2,false));};m.map2=function(c2,c3,c4){return m.apply(m.apply(m.succeed(c2),c3),c4);};m.apply=function(c2,c3){return m.applyMap(function(c4){return function(c5){return m.map(c4,c5);};},c2,c3);};m.apply0=function(c2,c3){return m.applyMap(function(c4){return function(c5){return m.map0(c4,c5);};},c2,c3);};m.applyMap=function(c2,c3,c4){var c5;c5=c3.$0;return c5!=null&&c5.$==1?(c2(c5.$0))(c4):m.failWithMsgs(c3.$1.concat(m.getMsgs(c4)));};m.bind=function(c2,c3){return m.join(m.map(c2,c3));};m.bind0=function(c2,c3){return m.join(m.map0(c2,c3));};m.join=function(c2){var c3;return(c3=c2.$0,c3!=null&&c3.$==1)?{$:0,$0:c2.$0.$0.$0,$1:c2.$1.concat(c2.$0.$0.$1)}:{$:0,$0:null,$1:c2.$1};};m.combine=function(c2,c3){var c4;c4=c2.$1;return g.defaultValue({$:0,$0:null,$1:c4},c2.$0==null?null:{$:1,$0:m.mergeMsgs(c4,c3())});};m.mergeMsgs=function(c2,c3){var c4;c4=m.mapMsgs(function(c5){return c2.concat(c5);},c3);return{$:0,$0:c4[0],$1:c4[1]};};m.getMsgs=function(c2){return c2.$1;};m.getOption=function(c2){return c2.$0;};m.mapMsgs=function(c2,c3){return[c3.$0,c2(c3.$1)];};m.mapMsg=function(c2,c3){return[c3.$0,ci.map(c2,c3.$1)];};m.mapErr=function(c2,c3){return{$:0,$0:c3.$0,$1:ci.map(c2,c3.$1)};};m.map=function(c2,c3){var c4;try{return{$:0,$0:(c4=c3.$0,c4==null?null:{$:1,$0:c2(c4.$0)}),$1:c3.$1};}catch(c5){return m.fail(m.failException(c5));}};m.map0=function(c2,c3){var c4;return{$:0,$0:(c4=c3.$0,c4==null?null:{$:1,$0:c2(c4.$0)}),$1:c3.$1};};m.failException=function(c2){return new j.New(c2);};m.failWithMsgs=function(c2){return{$:0,$0:null,$1:c2};};m.fail=function(c2){return{$:0,$0:null,$1:[c2]};};m.succeedWithMsgs=function(c2,c3){return{$:0,$0:{$:1,$0:c2},$1:c3};};m.succeedWithMsg=function(c2,c3){return{$:0,$0:{$:1,$0:c2},$1:[c3]};};m.succeed=function(c2){return{$:0,$0:{$:1,$0:c2},$1:[]};};p.toResult=function(){b6.$cctor();return b6.toResult;};p.fromResult=function(){b6.$cctor();return b6.fromResult;};q.WNone={$:4};q.StartAsTask=function(c2,c3,c4){return b$.StartAsTask(q.getAsyncR(c2),c4);};q.Start=function(c2,c3){b$.Start(q.getAsync(c2),c3);};r=q.Builder=cf.Class({For:function(c2,c3){var c4;c4=this;return this.Using(ch.Get(c2),function(c5){return c4.While(function(){return c5.MoveNext();},c4.Delay(function(){return c3(c5.Current());}));});},Using:function(c2,c3){return this.TryFinally(function(){return c3(c2);},function(){if(!cb.Equals(c2,null))c2.Dispose();});},TryFinally:function(c2,c3){var c4;return{$:2,$0:(c4=null,b$.Delay(function(){return b$.Bind(b$.Catch(q.toAsyncResult(c2())),function(c5){var c6,c7;c3();if(c5.$==1)throw c5.$0;else c7=c5.$0;return b$.Return(c7);});}))};},TryWith:function(c2,c3){var c4;return{$:2,$0:(c4=null,b$.Delay(function(){return b$.Bind(b$.Catch(q.toAsyncResult(c2())),function(c5){return b$.Return(c5.$==1?c3(c5.$0):c5.$0);});}))};},While:function(c2,c3){return q.whileLoop(c2,c3);},Combine:function(c2,c3){return q.combine(q.errOptionIsNone(),c2,c3);},Run:function(c2){return c2();},Delay:a.id,ReturnFrom:a.id,Return:function(c2){return{$:3,$0:c2};},Zero:function(){return{$:3,$0:null};},Bind:function(c2,c3){return q.bind(c3,g.defaultValue(q.WNone,c2==null?null:{$:1,$0:{$:3,$0:c2.$0}}));},Bind$1:function(c2,c3){var c4,c5,c6,c7;switch(c2.$0==null?(c6=c2.$1,!cb.Equals(c6,null)&&c6.length===0)?1:2:(c7=c2.$1,!cb.Equals(c7,null)&&c7.length===0)?(c5=c2.$0.$0,0):2){case 0:c4={$:3,$0:c5};break;case 1:c4=q.WNone;break;case 2:c4={$:0,$0:c2};break;}return q.bind(c3,c4);},Bind$2:function(c2,c3){return q.bind(c3,{$:1,$0:c2});},Bind$3:function(c2,c3){return q.bind(c3,c2);}},i,r);r.New=cf.Ctor(function(){},r);q.runSynchronouslyS=function(c2,c3){var c4;c4=q.runSynchronouslyO(c2,c3);return c4[0]==null?(function(c5){return function(c6){return c5("Failed!\n"+cg.toSafe(c6));};}(a.id))(c4[1]):(((cf.Curried3(function(c5,c6,c7){return c5(a.String(c6)+"\n"+cg.toSafe(c7));}))(a.id))(c4[0].$0))(c4[1]);};q.runSynchronouslyO=function(c2,c3){return m.mapMsgs(c2?m.countMessages:m.getMessages,cj.log("runSynchronously should not be used in Javascript"));};q.getResult=function(c2,c3){if(c3.$==4)c2(m.fail(q.errOptionIsNone()));else if(c3.$==0)c2(c3.$0);else if(c3.$==1)b$.StartWithContinuations(c3.$0,function(c4){c2(m.succeed(c4));},function(c4){c2(m.fail(m.failException(c4)));},function(c4){c2(m.fail(m.failException(c4)));},null);else if(c3.$==2)b$.StartWithContinuations(c3.$0,c2,function(c4){c2(m.fail(m.failException(c4)));},function(c4){c2(m.fail(m.failException(c4)));},null);else c2(m.succeed(c3.$0));};q.wrapper=function(){b6.$cctor();return b6.wrapper;};q.wrap=function(){b6.$cctor();return b6.wrap;};q.whileLoop=function(c2,c3){return c2()?q.bind(function(){return q.whileLoop(c2,c3);},c3()):{$:3,$0:null};};q.combine=function(c2,c3,c4){var c5,c6,c7,c8;switch(c3.$==0?c3.$0.$0==null?(c5=c3.$0.$1,5):(c6=c3.$0.$1,!cb.Equals(c6,null)&&c6.length===0?0:(c5=c3.$0.$1,1)):c3.$==1?(c5=c3.$0,2):c3.$==2?(c5=c3.$0,3):c3.$==4?4:0){case 0:return c4();break;case 1:return q.addMsgs(c2,c5,c4());break;case 2:return{$:2,$0:(c7=null,b$.Delay(function(){return b$.Bind(c5,function(){return b$.Bind(q.toAsyncResult(c4()),function(c9){return b$.Return(c9);});});}))};break;case 3:return{$:2,$0:(c8=null,b$.Delay(function(){return b$.Bind(c5,function(c9){var c_,c$;c_=m.Success(c9);return c_.$==0?(c$=c_.$0[1],b$.Bind(q.toAsyncResult(c4()),function(da){return b$.Return(m.mergeMsgs(c$,da));})):b$.Return(m.failWithMsgs(c_.$0));});}))};break;case 4:return q.WNone;break;case 5:return{$:0,$0:m.failWithMsgs(c5)};break;}};q.addMsgs=function(c2,c3,c4){var c5,c6,c7,c8;return cb.Equals(c3,[])?c4:c4.$==4?{$:0,$0:m.mergeMsgs(c3,m.fail(c2))}:c4.$==0?{$:0,$0:m.mergeMsgs(c3,c4.$0)}:c4.$==1?(c5=c4.$0,{$:2,$0:(c6=null,b$.Delay(function(){return b$.Bind(c5,function(c9){return b$.Return(m.succeedWithMsgs(c9,c3));});}))}):c4.$==2?(c7=c4.$0,{$:2,$0:(c8=null,b$.Delay(function(){return b$.Bind(c7,function(c9){return b$.Return(m.mergeMsgs(c3,c9));});}))}):{$:0,$0:m.succeedWithMsgs(c4.$0,c3)};};q.wrapper2Async=function(c2,c3){var c4,c5,c6,c7;c5=q.tryCall(c2,c3);switch(c5.$==3?0:c5.$==0?1:c5.$==1?2:c5.$==2?3:0){case 0:return q.wb2arb([],c5);break;case 1:return q.wb2arb(c5.$0.$1,c5);break;case 2:c6=c5.$0;c7=null;return b$.Delay(function(){return b$.Bind(c6,function(c8){return b$.Return(m.succeed(c8));});});break;case 3:return c5.$0;break;}};q.start=function(c2,c3){q.startV(function(c4){if(c4[0]==null)c2("Failed!\n"+c4[1]);else c2(c4[1]);},c3);};q.startV=function(c2,c3){var c4,c5,c6,c7;function c8(c$){return m.mapMsgs(m.getMessages,c$);}function c9(c$){return[null,c$];}function c_(c$){return[null,c$];}b$.StartWithContinuations(q.getAsyncR(c3),function(c$){return c2(c8(c$));},(c4=(c5=function(c$){return function(da){return c$(a.String(da));};}(a.id),function(c$){return c9(c5(c$));}),function(c$){return c2(c4(c$));}),(c6=(c7=function(c$){return function(da){return c$(a.String(da));};}(a.id),function(c$){return c_(c7(c$));}),function(c$){return c2(c6(c$));}),null);};q.toAsyncWithDefault=function(c2){return function(c3){return q.getAsyncWithDefault(c2,c3);};};q.toAsyncOptionMs=function(c2){return d.map(m.toOptionMs,q.getAsyncR(c2));};q.toAsyncOption=function(c2){return d.map(m.toOption,q.getAsyncR(c2));};q.toAsyncResult=function(c2){return q.getAsyncR(c2);};q.toAsync=function(c2){return q.getAsync(c2);};q.getAsync=function(c2){return q.getAsyncWithDefault(function(c3){throw a.Error(m.getMessages(c3));},c2);};q.getAsyncWithDefault=function(c2,c3){return d.map(function(c4){return m.withError(c2,c4);},q.getAsyncR(c3));};q.getAsyncR=function(c2){var c3,c4;return c2.$==3?b$.Return(m.succeed(c2.$0)):c2.$==4?b$.Return(m.fail(q.errOptionIsNone())):c2.$==0?b$.Return(c2.$0):c2.$==2?c2.$0:(c3=c2.$0,(c4=null,b$.Delay(function(){return b$.Bind(c3,function(c5){return b$.Return(m.succeed(c5));});})));};q.apply=function(c2,c3){return q.bind(function(c4){return q.map(c4,c3);},c2);};q.apply0=function(c2,c3){return q.bind0(function(c4){return q.map0(c4,c3);},c2);};q.bind=function(c2,c3){return q.join(q.map(c2,c3));};q.bind0=function(c2,c3){return q.join(q.map0(c2,c3));};q.join=function(c2){var c3,c4,c5,c6,c7;return c2.$==4?q.WNone:c2.$==0?(c3=c2.$0.$0,c3!=null&&c3.$==1)?c2.$0.$0.$0:{$:0,$0:{$:0,$0:null,$1:c2.$0.$1}}:c2.$==1?(c4=c2.$0,{$:2,$0:(c5=null,b$.Delay(function(){return b$.Bind(c4,function(c8){return c8.$==3?b$.Return(m.succeed(c8.$0)):c8.$==0?b$.Return(c8.$0):c8.$==1?b$.Bind(c8.$0,function(c9){return b$.Return(m.succeed(c9));}):c8.$==2?b$.Bind(c8.$0,function(c9){return b$.Return(c9);}):b$.Return(m.fail(q.errOptionIsNone()));});}))}):c2.$==2?(c6=c2.$0,{$:2,$0:(c7=null,b$.Delay(function(){return b$.Bind(c6,function(c8){var c9,c_,c$;return(c9=c8.$0,c9!=null&&c9.$==1)?(c_=c8.$1,(c$=c8.$0.$0,c$.$==3?b$.Return(m.succeedWithMsgs(c$.$0,c_)):c$.$==0?b$.Return(m.mergeMsgs(c_,c$.$0)):c$.$==1?b$.Bind(c$.$0,function(da){return b$.Return(m.succeedWithMsgs(da,c_));}):c$.$==2?b$.Bind(c$.$0,function(da){return b$.Return(m.mergeMsgs(c_,da));}):b$.Return(m.failWithMsgs(c_.concat([q.errOptionIsNone()]))))):b$.Return(m.failWithMsgs(c8.$1));});}))}):c2.$0;};q.map=function(c2,c3){var c4,c5,c6,c7;if(c3.$==3)try{return{$:3,$0:c2(c3.$0)};}catch(c8){return{$:0,$0:m.fail(m.failException(c8))};}else return c3.$==0?{$:0,$0:m.map(c2,c3.$0)}:c3.$==1?(c4=c3.$0,{$:2,$0:(c5=null,b$.Delay(function(){return b$.Bind(c4,function(c9){var c_;try{c_=m.succeed(c2(c9));}catch(c$){c_=m.fail(m.failException(c$));}return b$.Return(c_);});}))}):c3.$==2?(c6=c3.$0,{$:2,$0:(c7=null,b$.Delay(function(){return b$.Bind(c6,function(c9){return b$.Return(m.map(c2,c9));});}))}):q.WNone;};q.map0=function(c2,c3){var c4,c5,c6,c7;return c3.$==3?{$:3,$0:c2(c3.$0)}:c3.$==0?{$:0,$0:m.map(c2,c3.$0)}:c3.$==1?(c4=c3.$0,{$:1,$0:(c5=null,b$.Delay(function(){return b$.Bind(c4,function(c8){return b$.Return(c2(c8));});}))}):c3.$==2?(c6=c3.$0,{$:2,$0:(c7=null,b$.Delay(function(){return b$.Bind(c6,function(c8){return b$.Return(m.map(c2,c8));});}))}):q.WNone;};q.Return=function(c2){return{$:3,$0:c2};};q["bind0'"]=function(c2,c3){var c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de;switch(c3.$==0?(c5=m.Success(c3.$0),c5.$==1?(c4=c5.$0,2):(c6=c5.$0[1],!cb.Equals(c6,null)&&c6.length===0?(c4=c5.$0[0],0):(c4=[c5.$0[0],c5.$0[1]],3))):c3.$==4?1:c3.$==1?(c4=c3.$0,4):c3.$==2?(c4=c3.$0,5):(c4=c3.$0,0)){case 0:return q.tryCall(c2,c4);break;case 1:return q.WNone;break;case 2:return{$:0,$0:m.failWithMsgs(c4)};break;case 3:c7=c4[1];c8=q.tryCall(c2,c4[0]);return c8.$==4?{$:0,$0:m.failWithMsgs(c7.concat([q.errOptionIsNone()]))}:c8.$==0?(c9=m.Success(c8.$0),c9.$==1?{$:0,$0:m.failWithMsgs(c7.concat(c9.$0))}:(c_=c9.$0[1],!cb.Equals(c_,null)&&c_.length===0?{$:0,$0:m.succeedWithMsgs(c9.$0[0],c7)}:{$:0,$0:m.succeedWithMsgs(c9.$0[0],c7.concat(c9.$0[1]))})):c8.$==1?(c$=c8.$0,{$:2,$0:(da=null,b$.Delay(function(){return b$.Bind(c$,function(df){return b$.Return(m.succeedWithMsgs(df,c7));});}))}):c8.$==2?(db=c8.$0,{$:2,$0:(dc=null,b$.Delay(function(){return b$.Bind(db,function(df){return b$.Return(m.mergeMsgs(c7,df));});}))}):{$:0,$0:m.succeedWithMsgs(c8.$0,c7)};break;case 4:return{$:2,$0:(dd=null,b$.Delay(function(){return b$.Bind(c4,function(df){return q.wb2arb([],q.tryCall(c2,df));});}))};break;case 5:return{$:2,$0:(de=null,b$.Delay(function(){return b$.Bind(c4,function(df){var dg,dh,di;dg=m.Success(df);return dg.$==1?(dh=dg.$0,di=null,b$.Delay(function(){return b$.Return(m.failWithMsgs(dh));})):q.wb2arb(dg.$0[1],q.tryCall(c2,dg.$0[0]));});}))};break;}};q.tryCall=function(c2,c3){try{return c2(c3);}catch(c4){return{$:0,$0:m.fail(m.failException(c4))};}};q.wb2arb=function(c2,c3){var c4,c5,c6,c7,c8,c9,c_,c$,da;return c3.$==2?(c4=c3.$0,(c5=null,b$.Delay(function(){return b$.Bind(c4,function(db){return b$.Return(m.mergeMsgs(c2,db));});}))):c3.$==0?(c6=c3.$0,(c7=null,b$.Delay(function(){return b$.Return(m.mergeMsgs(c2,c6));}))):c3.$==3?(c8=c3.$0,(c9=null,b$.Delay(function(){return b$.Return(m.succeedWithMsgs(c8,c2));}))):c3.$==4?(c_=null,b$.Delay(function(){return b$.Return(m.failWithMsgs(c2.concat([q.errOptionIsNone()])));})):(c$=c3.$0,(da=null,b$.Delay(function(){return b$.Bind(c$,function(db){return b$.Return(m.succeedWithMsgs(db,c2));});})));};q.errOptionIsNone=function(){b6.$cctor();return b6.errOptionIsNone;};s.sequenceResultA=function(c2){return s.traverseResultA(a.id,c2);};s.traverseResultA=function(c2,c3){return ck.foldBack(function(c4,c5){return m.apply(m.apply(m.succeed(function(c6){return function(c7){return c.cons(c6,c7);};}),c2(c4)),c5);},c3,m.succeed(ck.T.Empty));};s.sequenceWrapA=function(c2){return s.traverseWrapA(a.id,c2);};s.traverseWrapA=function(c2,c3){function c4(c5){return{$:3,$0:c5};}return ck.foldBack(function(c5,c6){return q.apply(q.apply(c4(function(c7){return function(c8){return c.cons(c7,c8);};}),c2(c5)),c6);},c3,c4(ck.T.Empty));};s.sequenceWrapM=function(c2){return s.traverseWrapM(a.id,c2);};s.traverseWrapM=function(c2,c3){function c4(c5,c6){return q.bind(c6,c5);}return ck.foldBack(function(c5,c6){return c4(c2(c5),function(c7){return c4(c6,function(c8){return q.Return(c.cons(c7,c8));});});},c3,q.Return(ck.T.Empty));};t.wrap=function(){b6.$cctor();return b6.wrap$1;};t.result=function(){b6.$cctor();return b6.result$1;};v=u.FoldNShare=cf.Class({get_State:function(){return this.share;},get_Post:function(){var c2;c2=this.agent;return function(c3){c2.mailbox.AddLast(c3);c2.resume();};}},i,v);v.New=cf.Ctor(function(c2,c3){var c4;c4=this;this.share=c3;this.agent=cm.Start(function(c5){function c6(c7){var c8;c8=null;return b$.Delay(function(){return b$.TryWith(b$.Delay(function(){return b$.Bind(c5.Receive(null),function(c9){return b$.Bind(c2(c7,c9),function(c_){c4.share=c_;return c6(c_);});});}),function(c9){((function(c_){return function(c$){return c_(cg.prettyPrint(c$));};}(function(c_){cj.log(c_);}))(c9));return c6(c7);});});}return c6(c3);},null);},v);u.foldNShare=function(c2,c3){return new v.New(c2,c3);};u.fold=function(c2,c3){return cm.Start(function(c4){function c5(c6){var c7;c7=null;return b$.Delay(function(){return b$.TryWith(b$.Delay(function(){return b$.Bind(c4.Receive(null),function(c8){return b$.Bind(c2(c6,c8),function(c9){return c5(c9);});});}),function(c8){((function(c9){return function(c_){return c9(cg.prettyPrint(c_));};}(function(c9){cj.log(c9);}))(c8));return c5(c6);});});}return c5(c3);},null);};u.call=function(c2){return u.iter(function(c3){var c4,c5,c6;c4=c3[0];c5=c3[1];c6=null;return b$.Delay(function(){return b$.Bind(c2(c5),function(c7){c4(c7);return b$.Zero();});});});};u.iter=function(c2){return cm.Start(function(c3){var c4;c4=null;return b$.Delay(function(){return b$.While(function(){return true;},b$.Delay(function(){return b$.TryWith(b$.Delay(function(){return b$.Bind(c3.Receive(null),function(c5){return b$.Bind(c2(c5),function(){return b$.Return(null);});});}),function(c5){((function(c6){return function(c7){return c6(cg.prettyPrint(c7));};}(function(c6){cj.log(c6);}))(c5));return b$.Zero();});}));});},null);};w.add=function(c2,c3,c4){if(c4.ContainsKey(c2))c4.set_Item(c2,c3);else c4.Add(c2,c3);};x=c.ResetableMemoize=cf.Class({ClearCache:function(){this.cache.Clear();}},i,x);x.New=cf.Ctor(function(c2){this.f=c2;this.cache=new co.New$5();},x);y.NoPrepo={$:11};y.PrepoEndIf={$:8};y.PrepoElse={$:7};c.asyncStartCancelling=function(){var c2;c2=null;return function(c3){var c4;c2==null?void 0:c2.$0.Cancel$1();c4=new cp.New();b$.Start(c3,{$:1,$0:c4});c2={$:1,$0:c4};};};c.separateDirectives=function(c2){var c3,c4,c5,c6;function c7(dd){return dd[1];}function c8(dd){return dd.$==0?{$:1,$0:dd.$0}:null;}function c9(dd){return dd[1];}function c_(dd){return dd.$==1?{$:1,$0:dd.$0}:null;}function c$(dd){return dd[1];}function da(dd){return dd.$==5?{$:1,$0:dd.$0}:null;}function db(dd){return dd[1];}function dc(dd){return dd.$==4?{$:1,$0:dd.$0}:null;}c3=ci.ofSeq(ca.distinct(ca.choose(function(dd){return c8(c7(dd));},c2)));c4=ci.ofSeq(ca.distinct(ca.choose(function(dd){return c_(c9(dd));},c2)));c5=ci.ofSeq(ca.distinct(ca.choose(function(dd){return da(c$(dd));},c2)));c6=ci.ofSeq(ca.distinct(ca.choose(function(dd){return dc(db(dd));},c2)));return[ci.ofSeq(ca.map(function(dd){return dd[0];},c2)),c3,c4,c5,c6];};c.separatePrepros=function(c2,c3){var c4;function c5(c8){return g.defaultValue(c8,ca.tryLast(cd.SplitStrings(cd.Trim(c8),["\""],1)));}function c6(c8){return g.defaultValue("",ca.tryHead(cd.SplitStrings(cd.Trim(c8),["#define "],1)));}function c7(c8){return"//"+c8;}c4=c2?c7:a.id;return ci.map(function(c8){var c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj;c9=true;return c9&&cd.StartsWith(c8,"#define")?[c7(c8),{$:1,$0:c6(c8)}]:c9&&cd.StartsWith(c8,"#r")?[c7(c8),{$:0,$0:c5(c8)}]:c9&&cd.StartsWith(c8,"#load")?[c7(c8),{$:2,$0:c5(c8)}]:c9&&cd.StartsWith(c8,"#nowarn")?[c7(c8),{$:4,$0:c5(c8)}]:c9&&cd.StartsWith(c8,"# ")?[c4(c8),{$:3,$0:c5(c8)}]:c9&&cd.StartsWith(c8,"#line")?[c4(c8),{$:3,$0:c5(c8)}]:c9&&cd.StartsWith(c8,"#I")?[c7(c8),{$:5,$0:c5(c8)}]:c9&&cd.StartsWith(c8,"#if")?[c8,{$:6,$0:c8}]:c9&&cd.StartsWith(c8,"#else")?[c8,y.PrepoElse]:c9&&cd.StartsWith(c8,"#endif")?[c8,y.PrepoEndIf]:c9&&cd.StartsWith(c8,"#light")?[c8,{$:9,$0:false}]:c9&&cd.StartsWith(c8,"#")?[c7(c8),{$:10,$0:c8}]:[c8,y.NoPrepo];},c3);};c.mapPrint=function(c2){c.print(c2);return c2;};c.print=function(c2){((function(c3){return function(c4){return c3(cg.prettyPrint(c4));};}(function(c3){cj.log(c3);}))(c2));};c.printoutfn=function(c2,c3){return c3(function(c4){return c2(c4+"\n");});};c.dprintfn=function(c2){return c2(a.ignore);};c.rexGuid=function(){b6.$cctor();return b6.rexGuid;};c.REGEX=function(c2,c3,c4){var c5;if(c4===null)return null;else try{c5=(new a.String(c4)).match(new a.RegExp(c2,c3));return cb.Equals(c5,null)?null:!cb.Equals(c5,null)&&c5.length===0?null:{$:1,$0:c5};}catch(c6){return null;}};c.cons=function(c2,c3){return new ck.T({$:1,$0:c2,$1:c3});};c.errSimple=function(c2){return new l.New(c2,false);};c.extract=function(c2,c3){var c4;return cd.Substring(c3,0,(c4=c3.length,cb.Compare(c2,c4)===-1?c2:c4));};A=z.CodeSnippetId=cf.Class({get_Text:function(){return a.String(this.$0);}},null,A);A.get_New=function(){return new A({$:0,$0:cr.NewGuid()});};B=z.CodeSnippet=cf.Class({SeparateCode:function(c2){var c3,c4,c5,c6,c7,c8;function c9(c_,c$){return[cd.replicate(c4," ")+c_,c$];}c3=!c2||this.properties.ContainsKey("NoLinePre");c4=this.levelCode*2;c5=c4===0?[a.id,""]:[function(c_){return ci.map(function(c$){return c9(c$[0],c$[1]);},c_);},(function(c_){return function(c$){return c_("("+a.String(c$)+")");};}(a.id))(c4)];c6=c.separateDirectives(c5[0](c.separatePrepros(!c2,(c3?a.id:(c7=[(((cf.Curried3(function(c_,c$,da){return c_("# 1 @\""+cg.toSafe(c$)+cg.toSafe(da)+"\"");}))(a.id))(c5[1]))(this.get_NameSanitized())],function(c_){return c7.concat(c_);}))(cd.SplitChars(this.content,["\n"],0)))));c8=c6[0];return[[[this.get_NameSanitized(),ci.length(c8),c4]],c8,c6[1],c6[2],c6[3],c6[4]];},UniquePredecessors:function(c2){return z.predsL(c2,ck.ofArray([this.id]));},get_NameSanitized:function(){return this.id.get_Text()+" "+z.sanitize(this.get_Name())+".fsx";},get_Name:function(){return z.snippetName(this.name,this.content);}},null,B);B.CodeFsx=function(c2,c3){return(B.CodeAndStarts(c2,c3))[0];};B.CodeAndStarts=function(c2,c3){var c4;c4=B.ReducedCode(c2,c3);return B.FinishCode(c2,c4[0],c4[1],c4[2],c4[3],c4[4],c4[5]);};B.FinishCode=function(c2,c3,c4,c5,c6,c7,c8){var c9,c_;c9=cd.concat(" ",ca.map(function(c$){return"-d:"+c$;},ca.sort(c6)));c_=ck.ofSeq(ca.delay(function(){return ca.append(c9!==""?["////"+c9]:[],ca.delay(function(){return ca.append(ca.map(function(c$){return function(da){return c$("#I @\""+cg.toSafe(da)+"\"");};}(a.id),c7),ca.delay(function(){return ca.append(ca.map(function(c$){return function(da){return c$("#r @\""+cg.toSafe(da)+"\"");};}(a.id),c5),ca.delay(function(){return ca.append(c2&&!ca.isEmpty(c8)?["# 1 \"required for nowarns to work\""]:[],ca.delay(function(){return ca.map(function(c$){return function(da){return c$("#nowarn \""+cg.toSafe(da)+"\"");};}(a.id),c8);}));}));}));}));}));return[cd.concat("\n",ca.append(c_,c4)),ci.ofSeq((ca.mapFold(function(c$,da){var db;db=da[1];return[[da[0],[da[2],c$,c$+db]],c$+db];},c_.get_Length(),c3))[0])];};B.ReducedCode=function(c2,c3){var c4,c5;function c6(c7,c8,c9,c_,c$,da){return function(db){return B.AddSeps(c7,c8,c9,c_,c$,da,db[0],db[1],db[2],db[3],db[4],db[5]);};}c4=ca.reduce(function(c7,c8){return(function(c9){return c6(c9[0],c9[1],c9[2],c9[3],c9[4],c9[5]);}(c7))(c8);},(c5=ca.map(function(c7){return c7.SeparateCode(c2);},c3),ca.isEmpty(c5)?[[[],[],[],[],[],[]]]:c5));return[c4[0],[cd.concat("\n",c4[1])],c4[2],c4[3],c4[4],c4[5]];};B.AddSeps=function(c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db){return[c2.concat(c8),c3.concat(c9),ci.ofSeq(ca.distinct(ca.append(c4,c_))),ci.ofSeq(ca.distinct(ca.append(c5,c$))),ci.ofSeq(ca.distinct(ca.append(c6,da))),ci.ofSeq(ca.distinct(ca.append(c7,db)))];};B.TryFindByKey=function(c2,c3){return ca.tryFind(function(c4){return cb.Equals(c4.id,c3);},c2);};B.New=function(c2,c3,c4,c5,c6,c7,c8,c9,c_){return new B({name:c2,content:c3,parent:c4,predecessors:c5,id:c6,expanded:c7,level:c8,levelCode:c9,properties:c_});};C.GetWholeFile={$:11};C.GetIdentification={$:0};D.FSInfor={$:2};D.FSWarning={$:1};D.FSError={$:0};z.predsL=function(c2,c3){var c4,c5;c4=c3;c5=ck.T.Empty;while(!(c4.$==0))(function(){var c6,c7;return c4.$==1?(c6=c4.$1,(c7=c4.$0,ca.contains(c7,c5)?void(c4=c6):(c4=ck.collect(a.id,ck.ofArray([c6,ck.collect(function(c8){return ck.append(cs.toList(c8.parent),c8.predecessors);},cs.toList(c2(c7)))])),void(c5=new ck.T({$:1,$0:c7,$1:c5}))))):null;}());return c5;};z.preds=function(c2,c3,c4){var c5,c6;return c4.$==1?(c5=c4.$0,(c6=ck.collect(a.id,ck.ofArray([c4.$1,ck.collect(function(c7){return ck.append(cs.toList(c7.parent),c7.predecessors);},cs.toList(c2(c5)))])),z.preds(c2,ca.contains(c5,c3)?c3:new ck.T({$:1,$0:c5,$1:c3}),c6))):c3;};z.sanitize=function(c2){var c3;c3=["\"","<",">","|","\u0000","\u0001","\u0002","\u0003","\u0004","\u0005","\u0006","\u0007","\u0008","\u0009","\n","\u000b","\u000c","\r","\u000e","\u000f","\u0010","\u0011","\u0012","\u0013","\u0014","\u0015","\u0016","\u0017","\u0018","\u0019","\u001a","\u001b","\u001c","\u001d","\u001e","\u001f",":","*","?","\\","/"];return cd.Filter(function(c4){return!ci.contains(c4,c3);},c2);};z.snippetName=function(c2,c3){return c2!==""?c2:g.defaultValue("<empty>",ca.tryHead(ca.filter(function(c4){return!(cd.StartsWith(c4,"#")||cd.StartsWith(c4,"[<")||cd.StartsWith(c4,"//"));},ca.map(cd.Trim,cd.SplitChars(c3,["\n"],1)))));};F=E.Address=cf.Class({get_txt:function(){return this.$0;}},null,F);G.BRGetConnections={$:0};H.MsgRequestForEcho={$:5};H.MsgRequestForId={$:4};H.MsgFromBroker={$:3};H.MsgReply={$:2};H.MsgRequest={$:1};H.MsgInformation={$:0};I.BMReceiverCantReply={$:4};I.BMOnlyBrokerShouldUse={$:1};I.BMOk={$:0};J.Receiver={$:2};J.Broker={$:1};J.NoReply={$:0};K.New=function(c2,c3,c4,c5,c6,c7,c8){return{from:c2,destination:c3,msgType:c4,subtype:c5,id:c6,payload:c7,replier:c8};};L.FSharp={$:0};M.FSStation={$:0};N.JScript={$:0};O=E.ErrBroker=cf.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return false;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return(function(c2){return function(c3){return c2(b7.p(c3));};}(a.id))(this.bm);}},i,O);O.New=cf.Ctor(function(c2){this.bm=c2;},O);P=E.WSMessagingClient=cf.Class({sendMsg:function(c2){var c3,c4;c3=this;c4=q.wrap();return c4.Run(c4.Delay(function(){return c2.replier.$===0?c4.Bind$3(c3.sendAndForget(c2),function(){return c4.Return("");}):c4.ReturnFrom(c3.sendGetReply(c2));}));},getListeners:function(){var c2,c3;c2=this;c3=q.wrap();return c3.Run(c3.Delay(function(){var c4,c5;return c3.Bind$3(c2.sendGetReply((c4=E.MessageBrokerAddress(),(c5=ct.stringify((b8.j$10())(G.BRGetConnections)),K.New(new F({$:0,$0:""}),c4,H.MsgRequest,"",cr.NewGuid(),c5,J.NoReply)))),function(c6){return c3.Return((b9.j$10())(ct.parse(c6)).$0);});}));},sendGetReply:function(c2){var c3,c4;c3=this;c4=q.wrap();return c4.Run(c4.Delay(function(){return c4.Bind$3(c3.sendAndReply(J.Receiver,c2),function(c5){var c6;return c4.Bind$1((c6=c5.msgType,c6.$==2?m.succeed(c5.payload):c6.$==3?m.fail(new O.New((b9.j$11())(ct.parse(c5.payload)))):m.fail(new O.New({$:5,$0:c5.msgType}))),function(c7){return c4.Return(c7);});});}));},sendAndVerify:function(c2){var c3,c4;c3=this;c4=q.wrap();return c4.Run(c4.Delay(function(){return c4.Bind$3(c3.sendAndReply(J.Broker,c2),function(c5){var c6;return c4.Bind$1(c5.msgType.$==3?(c6=(b9.j$11())(ct.parse(c5.payload)),c6.$===0?m.succeed():m.fail(new O.New(c6))):m.fail(new O.New({$:5,$0:c5.msgType})),function(){return c4.Return();});});}));},sendAndReply:function(c2,c3){var c4,c5;c4=this;c5=q.wrap();return c5.Run(c5.Delay(function(){return c5.Bind$3(c4.getServer(),function(c6){return c5.Bind$2(b$.FromContinuations(function(c7,c8,c9){var c_,c$;c_=c4.waiting;c_.mailbox.AddLast({$:0,$0:c3.id,$1:[c7,c8,c9]});c_.resume();c4.postR(c6,c2,c3);return c4.wsTimeout>0?b$.Start((c$=null,b$.Delay(function(){return b$.Bind(b$.Sleep(c4.wsTimeout),function(){var da;da=c4.waiting;da.mailbox.AddLast({$:2,$0:c3.id,$1:function(){return new cu.New$1((((cf.Curried3(function(db,dc,dd){return db("Did not receive reply in "+a.String(dc)+" seconds for Message: "+b_.p$23(dd));}))(a.id))(c4.wsTimeout/1000>>0))(c3));}});da.resume();return b$.Zero();});})),null):null;}),function(c7){return c5.Return(c7);});});}));},sendAndForget:function(c2){var c3,c4;c3=this;c4=q.wrap();return c4.Run(c4.Delay(function(){return c4.Bind$3(c3.getServer(),function(c5){c3.postR(c5,J.NoReply,c2);return c4.Zero();});}));},postR:function(c2,c3,c4){try{c2.FSSGlobal_WSMessagingBroker_IServer$Post(E.replier(c3,E.from(this.clientAddress,c4)));}catch(c5){this.serverO=null;throw c5;}},getServer:function(){var c2,c3;c2=this;c3=q.wrap();return c3.Run(c3.Delay(function(){return c3.Bind$2(c2.checkServer.PostAndAsyncReply(function(c4){return[c4,null];},null),function(c4){return c3.Bind$1(c4,function(c5){return c3.Return(c5);});});}));},connectToWebSocketServer:function(){var c2,c3;c2=this;c.dprintfn(function(c4){return c4("in connectToWebSocketServer");});c3=null;return b$.Delay(function(){return b$.Bind(((c2.connectStateful(c2.wsEndPoint))(c2.clientId))(function(c4){var c5;c5=null;return b$.Delay(function(){return b$.Return([0,function(c6){return function(c7){var c8;c8=null;return b$.Delay(function(){return b$.Combine(b$.TryWith(b$.Delay(function(){return c7.$==2?((c.printoutfn(c2.out,function(c9){return function(c_){return c9("WebSocket "+cg.toSafe(c_)+" connection open.");};}))(c2.clientId),c2.serverO={$:1,$0:c4},b$.Zero()):c7.$==3?((c.printoutfn(c2.out,function(c9){return function(c_){return c9("WebSocket "+cg.toSafe(c_)+" connection closed.");};}))(c2.clientId),c2.close(),b$.Zero()):c7.$==1?((c.printoutfn(c2.out,function(c9){return function(c_){return c9("WebSocket "+cg.toSafe(c_)+" connection error!");};}))(c2.clientId),b$.Zero()):(c2.processMessage(c7.$0),b$.Zero());}),function(c9){(((cf.Curried3(function(c_,c$,da){return c_("msg: "+b7.p$16(c$)+" \nexn:"+cg.prettyPrint(da));}))(function(c_){cj.log(c_);}))(c7))(c9);return b$.Zero();}),b$.Delay(function(){return b$.Return(c6);}));});};}]);});}),function(){c.dprintfn(function(c4){return c4("connectToWebSocketServer with server");});return b$.Zero();});});},processMessage:function(c2){var c3,c4,c5,c6,c8;c4=this;(c.dprintfn(function(c9){return function(c_){return c9(b_.p$23(c_));};}))(c2);c5=c2.msgType;function c7(c9){c4.reply(c9);}switch(c5.$==2?0:c5.$==0?1:c5.$==1?2:c5.$==5?3:c5.$==4?4:0){case 0:this.processReply(c2);break;case 1:((c.printoutfn(this.out,cf.Curried3(function(c9,c_,c$){return c9("Information from '"+cg.toSafe(c_)+"': "+cg.toSafe(c$));})))(c2.from.get_txt()))(((cw.Id())())(ct.parse(c2.payload)));break;case 2:c6=this.payloadProcessorO;c6!=null&&c6.$==1?q.Start(q.map(function(c9){return c7(E.makeReply(c9));},c4.mapPayloadWrap(c6.$0,c2)),null):c2.replier.$===2?null:null;break;case 3:c4.reply(E.msgType(H.MsgInformation,E.mapPayload(a.id,c2)));break;case 4:c4.reply(E.msgType(H.MsgInformation,(c8=E.makeReply(c2),K.New(c8.from,c8.destination,c8.msgType,c8.subtype,c8.id,ct.stringify(((cw.Id())())(this.clientId)),c8.replier))));break;}},mapPayloadWrap:function(c2,c3){var c4;c4=q.wrap();return c4.Run(c4.Delay(function(){return c4.Bind$3(c2(c3.payload),function(c5){return c4.Return(E.mapPayload(function(){return c5;},c3));});}));},processReply:function(c2){var c3;c3=this.waiting;c3.mailbox.AddLast({$:1,$0:c2.id,$1:c2});c3.resume();},close:function(){var c2;c2=this.serverO;c2==null?void 0:(c2.$0.FSSGlobal_WSMessagingBroker_IServer$Close(),this.serverO=null);},reply:function(c2){var c3;c3=this.serverO;c3==null?void 0:c3.$0.FSSGlobal_WSMessagingBroker_IServer$Post(E.destination(c2.from,E.from(this.clientAddress,c2)));},set_Out:function(c2){this.out=c2;},SendMsg:function(c2){return this.sendMsg(c2);},get_ClientId:function(){return this.clientId;},get_EndPoint:function(){return this.wsEndPoint;},get_MBListeners:function(){return this.getListeners();},Dispose:function(){this.close();}},i,P);P.New=cf.Ctor(function(c2,c3,c4){P.New$1.call(this,cf.Curried3(function(c5,c6,c7){return d.map(a.ignore,cA.ConnectStateful(function(c8){return ct.stringify((b8.j())(c8));},function(c8){return(b9.j())(ct.parse(c8));},cB.CreateRemote((((cf.Curried3(function(c8,c9,c_){return c8("ws://"+cg.toSafe(c9)+"?ClientId="+cg.toSafe(c_));}))(a.id))(c5))(c6),{$:1,$0:cy.JsonEncoding.Readable}),function(c8){return c7({FSSGlobal_WSMessagingBroker_IServer$Post:function(c9){return c8.Post(c9);},FSSGlobal_WSMessagingBroker_IServer$Close:function(){return c8.get_Connection().close(1000);}});}));}),c2,c3,c4);},P);P.New$1=cf.Ctor(function(c2,c3,c4,c5){var c6,c7;c6=this;this.connectStateful=c2;this.clientId=c3;this.wsEndPoint=(c7=E.extractEndPoint()+"/ws",c5==null?c7:c5.$0);this.clientAddress=new F({$:0,$0:this.clientId});this.wsTimeout=c4==null?60000:c4.$0;this.out=function(c8){return function(c9){return c8(cg.toSafe(c9));};}(function(c8){cj.log(c8);});this.serverO=null;this.payloadProcessorO=null;this.waiting=E.waitingAgent(function(c8){((c.printoutfn(c6.out,cf.Curried3(function(c9,c_,c$){return c9("Reply from '"+cg.toSafe(c_)+"': "+cg.toSafe(c$));})))(c8.from.get_txt()))(c8.payload);});this.checkServer=u.call(function(){var c8;c8=null;return b$.Delay(function(){c.dprintfn(function(c9){return c9("getServer");});return b$.Combine(c6.serverO==null?(c.dprintfn(function(c9){return c9("getServer Connecting");}),b$.Bind(c6.connectToWebSocketServer(),function(){return b$.Bind(b$.Sleep(200),function(){return b$.Return(null);});})):b$.Zero(),b$.Delay(function(){var c9;return b$.Return((c9=c6.serverO,m.fromOption(new l.New("could not connect to Server",false),c9)));}));});});},P);Q=E.FsStationClientErr=cf.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return this.$==0&&this.$1.$==0;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return this.$==0?(((cf.Curried3(function(c2,c3,c4){return c2(b7.p$3(c3)+" "+cg.toSafe(c4));}))(a.id))(this.$1))(this.$0):(function(c2){return function(c3){return c2(b7.p$4(c3));};}(a.id))(this);}},null,Q);R=E.FStationMessaging=cf.Class({snippetResponse:function(c2){return c2.$==2?m.succeed(c2.$0):m.fail(new Q({$:1,$0:a.String(c2)}));},snippetsResponse:function(c2){return c2.$==3?m.succeed(c2.$0):m.fail(new Q({$:1,$0:a.String(c2)}));},stringResponse:function(c2){var c3,c4;return c2.$==1&&((c4=c2.$0,c4!=null&&c4.$==1)&&(c3=c2.$0.$0,true))?m.succeed(c3):m.fail(new Q({$:1,$0:a.String(c2)}));},stringResponseR:function(c2){var c3,c4;function c5(c6,c7){return new Q({$:0,$0:c6,$1:c7});}return c2.$==4&&((c4=c2.$0,c4!=null&&c4.$==1)&&(c3=[c2.$0.$0,c2.$1],true))?m.succeedWithMsgs(c3[0],ci.ofSeq(ca.map(function(c6){return c5(c6[0],c6[1]);},c3[1]))):m.fail(new Q({$:1,$0:a.String(c2)}));},toId:function(){return new F({$:0,$0:this.fsIds});},get_MessagingClient:function(){return this.msgClient;},set_FSStationId:function(c2){this.fsIds=c2;},get_FSStationId:function(){return this.fsIds;},RunActionCall:function(c2,c3,c4){var c5,c6,c7,c8,c9;function c_(c$){return c5.stringResponseR(c$);}c5=this;c6=this.toId();c7=this;c8={$:14,$0:c2,$1:c3,$2:c4};c9=q.wrap();return c9.Run(c9.Delay(function(){var c$;return c9.Bind$3(q.map(function(da){return(b9.j$4())(ct.parse(da));},c7.msgClient.sendGetReply((c$=ct.stringify((b8.j$4())(c8)),K.New(new F({$:0,$0:""}),c6,H.MsgRequest,"",cr.NewGuid(),c$,J.NoReply)))),function(da){return c9.Bind$1(c_(da),function(db){return c9.Return(db);});});}));},RunSnippet:function(c2,c3){var c4,c5,c6,c7,c8;function c9(c_){return c4.stringResponseR(c_);}c4=this;c5=this.toId();c6={$:13,$0:cd.SplitChars(c3,["/"],0),$1:c2};c7=this;c8=q.wrap();return c8.Run(c8.Delay(function(){var c_;return c8.Bind$3(q.map(function(c$){return(b9.j$4())(ct.parse(c$));},c7.msgClient.sendGetReply((c_=ct.stringify((b8.j$4())(c6)),K.New(new F({$:0,$0:""}),c5,H.MsgRequest,"",cr.NewGuid(),c_,J.NoReply)))),function(c$){return c8.Bind$1(c9(c$),function(da){return c8.Return(da);});});}));},GenericMessage:function(c2){var c3,c4,c5,c6,c7;function c8(c9){return c3.stringResponse(c9);}c3=this;c4=this.toId();c5=this;c6={$:1,$0:c2};c7=q.wrap();return c7.Run(c7.Delay(function(){var c9;return c7.Bind$3(q.map(function(c_){return(b9.j$4())(ct.parse(c_));},c5.msgClient.sendGetReply((c9=ct.stringify((b8.j$4())(c6)),K.New(new F({$:0,$0:""}),c4,H.MsgRequest,"",cr.NewGuid(),c9,J.NoReply)))),function(c_){return c7.Bind$1(c8(c_),function(c$){return c7.Return(c$);});});}));},RequestWholeFile:function(){var c2,c3,c4,c5,c6;function c7(c8){return c2.stringResponse(c8);}c2=this;c3=this.toId();c4=this;c5=C.GetWholeFile;c6=q.wrap();return c6.Run(c6.Delay(function(){var c8;return c6.Bind$3(q.map(function(c9){return(b9.j$4())(ct.parse(c9));},c4.msgClient.sendGetReply((c8=ct.stringify((b8.j$4())(c5)),K.New(new F({$:0,$0:""}),c3,H.MsgRequest,"",cr.NewGuid(),c8,J.NoReply)))),function(c9){return c6.Bind$1(c7(c9),function(c_){return c6.Return(c_);});});}));},RequestPredsById:function(c2){var c3,c4,c5,c6,c7;function c8(c9){return c3.snippetsResponse(c9);}c3=this;c4=this.toId();c5=this;c6={$:4,$0:c2};c7=q.wrap();return c7.Run(c7.Delay(function(){var c9;return c7.Bind$3(q.map(function(c_){return(b9.j$4())(ct.parse(c_));},c5.msgClient.sendGetReply((c9=ct.stringify((b8.j$4())(c6)),K.New(new F({$:0,$0:""}),c4,H.MsgRequest,"",cr.NewGuid(),c9,J.NoReply)))),function(c_){return c7.Bind$1(c8(c_),function(c$){return c7.Return(c$);});});}));},RequestPreds:function(c2){var c3,c4,c5,c6,c7;function c8(c9){return c3.snippetsResponse(c9);}c3=this;c4=this.toId();c5={$:8,$0:cd.SplitChars(c2,["/"],0)};c6=this;c7=q.wrap();return c7.Run(c7.Delay(function(){var c9;return c7.Bind$3(q.map(function(c_){return(b9.j$4())(ct.parse(c_));},c6.msgClient.sendGetReply((c9=ct.stringify((b8.j$4())(c5)),K.New(new F({$:0,$0:""}),c4,H.MsgRequest,"",cr.NewGuid(),c9,J.NoReply)))),function(c_){return c7.Bind$1(c8(c_),function(c$){return c7.Return(c$);});});}));},RequestJSCode:function(c2){var c3,c4,c5,c6,c7;function c8(c9){return c3.stringResponseR(c9);}c3=this;c4=this.toId();c5={$:10,$0:cd.SplitChars(c2,["/"],0)};c6=this;c7=q.wrap();return c7.Run(c7.Delay(function(){var c9;return c7.Bind$3(q.map(function(c_){return(b9.j$4())(ct.parse(c_));},c6.msgClient.sendGetReply((c9=ct.stringify((b8.j$4())(c5)),K.New(new F({$:0,$0:""}),c4,H.MsgRequest,"",cr.NewGuid(),c9,J.NoReply)))),function(c_){return c7.Bind$1(c8(c_),function(c$){return c7.Return(c$);});});}));},RequestCode:function(c2){var c3,c4,c5,c6,c7;function c8(c9){return c3.stringResponse(c9);}c3=this;c4=this.toId();c5={$:7,$0:cd.SplitChars(c2,["/"],0)};c6=this;c7=q.wrap();return c7.Run(c7.Delay(function(){var c9;return c7.Bind$3(q.map(function(c_){return(b9.j$4())(ct.parse(c_));},c6.msgClient.sendGetReply((c9=ct.stringify((b8.j$4())(c5)),K.New(new F({$:0,$0:""}),c4,H.MsgRequest,"",cr.NewGuid(),c9,J.NoReply)))),function(c_){return c7.Bind$1(c8(c_),function(c$){return c7.Return(c$);});});}));},RequestSnippet:function(c2){var c3,c4,c5,c6,c7;function c8(c9){return c3.snippetResponse(c9);}c3=this;c4=this.toId();c5={$:9,$0:cd.SplitChars(c2,["/"],0)};c6=this;c7=q.wrap();return c7.Run(c7.Delay(function(){var c9;return c7.Bind$3(q.map(function(c_){return(b9.j$4())(ct.parse(c_));},c6.msgClient.sendGetReply((c9=ct.stringify((b8.j$4())(c5)),K.New(new F({$:0,$0:""}),c4,H.MsgRequest,"",cr.NewGuid(),c9,J.NoReply)))),function(c_){return c7.Bind$1(c8(c_),function(c$){return c7.Return(c$);});});}));},SendMessage:function(c2){var c3,c4,c5;c3=this.toId();c4=this;c5=q.wrap();return c5.Run(c5.Delay(function(){var c6;return c5.Bind$3(q.map(function(c7){return(b9.j$4())(ct.parse(c7));},c4.msgClient.sendGetReply((c6=ct.stringify((b8.j$4())(c2)),K.New(new F({$:0,$0:""}),c3,H.MsgRequest,"",cr.NewGuid(),c6,J.NoReply)))),function(c7){return c5.Bind$1(m.succeed(c7),function(c8){return c5.Return(c8);});});}));},SendMessage$1:function(c2,c3){var c4,c5;c4=this;c5=q.wrap();return c5.Run(c5.Delay(function(){var c6;return c5.Bind$3(q.map(function(c7){return(b9.j$4())(ct.parse(c7));},c4.msgClient.sendGetReply((c6=ct.stringify((b8.j$4())(c3)),K.New(new F({$:0,$0:""}),c2,H.MsgRequest,"",cr.NewGuid(),c6,J.NoReply)))),function(c7){return c5.Bind$1(m.succeed(c7),function(c8){return c5.Return(c8);});});}));}},i,R);R.get_FSStationId_=function(){return"FSharpStation1526820957905";};R.New=cf.Ctor(function(c2,c3,c4,c5){R.New$1.call(this,new P.New(c2,c4,c5),c2,c3);},R);R.New$1=cf.Ctor(function(c2,c3,c4){this.msgClient=c2;this.fsIds=g.defaultValue("FSharpStation1526820957905",c4);},R);E.extractEndPoint=function(){return ci.get(cd.SplitChars(cC.href.substring(cC.href.indexOf("//")+2),["/"],0),0);};E.waitingAgent=function(c2){return u.fold(function(c3,c4){var c5;c5=null;return b$.Delay(function(){var c6,c7,c8,c9,c_,c$,da,db,dc;return b$.Combine(c4.$==1?(c6=c4.$1,(g.defaultWith(function(){c2(c6);},(c7=cD.TryFind(c4.$0,c3),c7==null?null:{$:1,$0:(c8=c7.$0,(c9=c8[0],(c8[1],c8[2],c9(c6))))})),b$.Zero())):c4.$==2?(c_=cD.TryFind(c4.$0,c3),c_==null?void 0:(c$=c_.$0,c$[0],da=c$[1],c$[2],da(c4.$1())),b$.Zero()):c4.$==3?(db=cD.TryFind(c4.$0,c3),db==null?void 0:(dc=db.$0,dc[0],dc[1],dc[2](c4.$1())),b$.Zero()):b$.Zero(),b$.Delay(function(){var dd;return b$.Return((c4.$==2?(dd=c4.$0,true):c4.$==3?(dd=c4.$0,true):c4.$==0?false:(dd=c4.$0,true))?c3.Remove(dd):c3.Add(c4.$0,c4.$1));}));});},new cE.New([]));};E.makeReply=function(c2){return E.replier(J.NoReply,E.msgType(H.MsgReply,c2));};E.mapPayload=function(c2,c3){return K.New(c3.from,c3.destination,c3.msgType,c3.subtype,c3.id,c2(c3.payload),c3.replier);};E.msgId=function(c2,c3){return K.New(c3.from,c3.destination,c3.msgType,c3.subtype,c2,c3.payload,c3.replier);};E.replier=function(c2,c3){return K.New(c3.from,c3.destination,c3.msgType,c3.subtype,c3.id,c3.payload,c2);};E.subtype=function(c2,c3){return K.New(c3.from,c3.destination,c3.msgType,c2,c3.id,c3.payload,c3.replier);};E.msgType=function(c2,c3){return K.New(c3.from,c3.destination,c2,c3.subtype,c3.id,c3.payload,c3.replier);};E.destination=function(c2,c3){return K.New(c3.from,c2,c3.msgType,c3.subtype,c3.id,c3.payload,c3.replier);};E.from=function(c2,c3){return K.New(c2,c3.destination,c3.msgType,c3.subtype,c3.id,c3.payload,c3.replier);};E.MessageBrokerAddress=function(){b6.$cctor();return b6.MessageBrokerAddress;};E.MessageBrokerId=function(){b6.$cctor();return b6.MessageBrokerId;};U.New=function(c2,c3){return{Code:c2,Message:c3};};V.New=function(c2,c3,c4){return{File:c2,Line:c3,Column:c4};};W.New=function(c2,c3,c4,c5){return{Name:c2,ReplacementText:c3,Glyph:c4,GlyphChar:c5};};X.New=function(c2,c3){return{Signature:c2,Comment:c3};};Y.New=function(c2,c3,c4,c5){return{Name:c2,CanonicalTypeTextForSorting:c3,Display:c4,Description:c5};};Z.New=function(c2,c3,c4,c5){return{Tip:c2,TypeText:c3,Parameters:c4,IsStaticArguments:c5};};_0.New=function(c2,c3){return{Name:c2,Type:c3};};_1.New=function(c2,c3){return{OutputType:c2,Parameters:c3};};_2.New=function(c2,c3,c4){return{Name:c2,CurrentParameter:c3,Overloads:c4};};_3.New=function(c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da){return{FileName:c2,StartLine:c3,StartColumn:c4,EndLine:c5,EndColumn:c6,IsFromDefinition:c7,IsFromAttribute:c8,IsFromComputationExpression:c9,IsFromDispatchSlotImplementation:c_,IsFromPattern:c$,IsFromType:da};};_4.New=function(c2,c3){return{Name:c2,Uses:c3};};_5.New=function(c2,c3){return{Name:c2,Overloads:c3};};_6.New=function(c2,c3,c4){return{Fsc:c2,Fsi:c3,MSBuild:c4};};_7.New=function(c2,c3,c4,c5,c6,c7,c8){return{FileName:c2,StartLine:c3,EndLine:c4,StartColumn:c5,EndColumn:c6,Message:c7,Subcategory:c8};};_8.New=function(c2,c3){return{File:c2,Errors:c3};};_9.New=function(c2){return{Kind:c2};};_.New=function(c2,c3,c4,c5,c6,c7,c8,c9){return{UniqueName:c2,Name:c3,Glyph:c4,GlyphChar:c5,IsTopLevel:c6,File:c7,EnclosingEntity:c8,IsAbstract:c9};};$.New=function(c2,c3){return{Declaration:c2,Nested:c3};};ba.New=function(c2,c3,c4,c5,c6,c7){return{Namespace:c2,Name:c3,Type:c4,Line:c5,Column:c6,MultipleNames:c7};};bb.New=function(c2,c3){return{Name:c2,Qualifier:c3};};bc.New=function(c2,c3,c4){return{Opens:c2,Qualifies:c3,Word:c4};};bd.New=function(c2){return{Text:c2};};be.ACMIdentification={$:0};bf=S.FSAutoCompleteIntermediaryClient=cf.Class({info2Bool:function(c2){return c2.$==0&&c2.$0==="true";},errors2String:function(c2){return c2.$==7?cd.concat("\n",ca.map(function(c3){return((((((((cf.Curried(function(c4,c5,c6,c7,c8,c9,c_,c$){return c4("ErrFSharp \"F# "+cg.toSafe(c5)+".fsx ("+a.String(c6)+","+a.String(c7)+") - ("+a.String(c8)+","+a.String(c9)+") "+cg.toSafe(c_)+":"+cg.toSafe(c$)+"\"");},8))(a.id))(c3.FileName))(c3.StartLine))(c3.StartColumn))(c3.EndLine))(c3.EndColumn))(c3.Subcategory))(c3.Message);},c2.$0.Errors)):(function(c3){return function(c4){return c3(b7.p$7(c4));};}(a.id))(c2);},tip2String:function(c2){return c2.$==11?cd.concat("\n",ca.collect(function(c3){return ck.ofArray([c3.Signature,c3.Comment]);},ca.collect(a.id,c2.$0))):(function(c3){return function(c4){return c3(b7.p$7(c4));};}(a.id))(c2);},comp2Strings:function(c2){var c3;c3=this;return c2.$==3?ci.map(function(c4){return[c4.Name,c4.ReplacementText,c4.Glyph,c4.GlyphChar];},c2.$0):c2.$==2?[]:c2.$==17?ci.collect(function(c4){return c3.comp2Strings(c4);},c2.$0):[[(function(c4){return function(c5){return c4(b7.p$7(c5));};}(a.id))(c2),"","ErrorMsg","E"]];},Async_map:function(c2,c3){var c4;c4=null;return b$.Delay(function(){return b$.Bind(c3,function(c5){return b$.Return(c2(c5));});});},FindDecl:function(c2,c3,c4,c5){return this.Async_map(a.id,S.sendMessage({$:7,$0:c2,$1:c3,$2:c4,$3:c5}));},FindDecl$1:function(c2,c3,c4){return this.Async_map(a.id,S.sendMessage({$:6,$0:c2,$1:c3,$2:c4}));},Complete:function(c2,c3,c4,c5,c6){var c7;c7=this;return c7.Async_map(function(c8){return c7.comp2Strings(c8);},S.sendMessage({$:9,$0:c2,$1:c4,$2:c5,$3:c3,$4:c6}));},Complete$1:function(c2,c3,c4,c5){var c6;c6=this;return c6.Async_map(function(c7){return c6.comp2Strings(c7);},S.sendMessage({$:8,$0:c2,$1:c4,$2:c5,$3:c3}));},ToolTip:function(c2,c3,c4,c5){var c6;c6=this;return c6.Async_map(function(c7){return c6.tip2String(c7);},S.sendMessage({$:3,$0:c2,$1:c3,$2:c4,$3:c5}));},ToolTip$1:function(c2,c3,c4){var c5;c5=this;return c5.Async_map(function(c6){return c5.tip2String(c6);},S.sendMessage({$:2,$0:c2,$1:c3,$2:c4}));},Parse:function(c2,c3){var c4;c4=this;return c4.Async_map(function(c5){return c4.errors2String(c5);},S.sendMessage({$:10,$0:c2,$1:c3,$2:[]}));},Parse$1:function(c2,c3,c4){var c5;c5=this;return c5.Async_map(function(c6){return c5.errors2String(c6);},S.sendMessage({$:10,$0:c2,$1:c3,$2:c4}));},MustParse:function(c2,c3){var c4;c4=this;return c4.Async_map(function(c5){return c4.info2Bool(c5);},S.sendMessage({$:11,$0:c2,$1:c3}));}},i,bf);bf.New=cf.Ctor(function(c2,c3){},bf);S.sendMessage=function(c2){var c3;c3=null;return b$.Delay(function(){return b$.Bind((new cG.New()).Async("FSharpStation:FSSGlobal.FSAutoCompleteIntermediary.sendMessageRpc:1124743568",[c2]),function(c4){return b$.Return(c4);});});};bh.extractConfig=function(c2){return cd.StartsWith(c2,"////-d:")?cc.string(c2,{$:1,$0:4},{$:1,$0:c2.indexOf("\n")-1}):"";};bg.abortFsiExe=function(){b$.Start((new cG.New()).Async("FSharpStation:FSSGlobal.FsEvaluator+Evaluator.abortFsiExe:-829366048",[]),null);};bg.evaluateAR=function(c2,c3,c4,c5){var c6;c6=null;return b$.Delay(function(){return b$.Bind((new cG.New()).Async("FSharpStation:FSSGlobal.FsEvaluator.evaluateAS:-1357873018",[c2,c3,c4,c5]),function(c7){function c8(c9,c_){return new l.New(c9,c_);}return b$.Return({$:0,$0:c7[0],$1:ci.ofSeq(ca.map(function(c9){return c8(c9[0],c9[1]);},c7[1]))});});});};bi.translateAR=function(c2,c3){var c4;c4=null;return b$.Delay(function(){return b$.Bind((new cG.New()).Async("FSharpStation:FSSGlobal.FsTranslator.translateAS:1220910711",[c2,c3]),function(c5){function c6(c7,c8){return new l.New(c7,c8);}return b$.Return({$:0,$0:c5[0],$1:ci.ofSeq(ca.map(function(c7){return c6(c7[0],c7[1]);},c5[1]))});});});};bk=bj.Val=cf.Class({get_ValTypeMember:function(){return 0;}},null,bk);bl.lensView=function(c2,c3,c4,c5){var c6,c7,c8;c6=bl.freshId();c7=cH.Map2(function(c9){return c2(c9);},c5.get_View(),c4);c8=new bZ({Get:function(){return c2(c5.Get());},Set:function(c9){return c5.Update(function(c_){return c3(c_,c9);});},SetFinal:function(c9){return this.Set(c9);},Update:function(c9){return c5.Update(function(c_){return c3(c_,c9(c2(c_)));});},UpdateMaybe:function(c9){return c5.UpdateMaybe(function(c_){var c$;c$=c9(c2(c_));return c$==null?null:{$:1,$0:c3(c_,c$.$0)};});},get_View:function(){return c7;},get_Id:function(){return c6;}});bZ.New.call(c8);return c8;};bl.freshId=function(){bl.set_counter(bl.counter()+1);return"varuid"+a.String(bl.counter());};bl.counter=function(){b6.$cctor();return b6.counter;};bl.set_counter=function(c2){b6.$cctor();b6.counter=c2;};bm.currentLens=function(c2,c3,c4){return bm["currentLensUpd'"](c2,c3,function(c5){c4.UpdateBy(function(){return c4.TryFindByKey(c4.key(c5))==null?null:{$:1,$0:c5};},c4.key(c5));},c4);};bm["currentLensUpd'"]=function(c2,c3,c4,c5){return new cI.New(cH.Map2(function(c6,c7){var c8;c8=c7==null?null:c5.TryFindByKey(c7.$0);return c8==null?c2:c8.$0;},c5.v,c3),c4);};bm.currentLensUpd=function(c2,c3,c4,c5){var c6;function c7(c9){return c5.TryFindByKey(c9);}function c8(c9){return c9==null?c2:c9.$0;}return bl.lensView((c6=function(c9){return c9==null?null:c7(c9.$0);},function(c9){return c8(c6(c9));}),function(c9,c_){var c$;c$=c4(c_);c9==null?void 0:c$(c9.$0);return c9;},c5.v,c3);};bn.HelperType={$:0};bn.op_AmpGreater=function(c2,c3){return new bk({$:2,$0:c3});};bn.op_AmpGreater$1=function(c2,c3){return new bk({$:1,$0:c3});};bn.op_AmpGreater$2=function(c2,c3){return c3;};bn.op_AmpGreater$3=function(c2,c3){return c3;};bn.op_AmpGreater$4=function(c2,c3){return c3;};bn.op_AmpGreater$5=function(c2,c3){return c3;};bn.op_AmpGreater$6=function(c2,c3){return c3;};bn.op_AmpGreater$7=function(c2,c3){return c3;};bn.op_AmpGreater$8=function(c2,c3){return c3;};bn.op_AmpGreater$9=function(c2,c3){return new bk({$:0,$0:c3});};bn.op_AmpGreater$10=function(c2,c3){return new bk({$:0,$0:c3});};bn.op_AmpGreater$11=function(c2,c3){return new bk({$:0,$0:c3});};bn.op_AmpGreater$12=function(c2,c3){return new bk({$:0,$0:c3});};bn.op_AmpGreater$13=function(c2,c3){return new bk({$:0,$0:c3});};bn.op_AmpGreater$14=function(c2,c3){return new bk({$:0,$0:c3});};bo=bk.valBuilder=cf.Class({Delay:function(c2){return c2();},Zero:function(){return new bk({$:0,$0:null});},Bind:function(c2,c3){return bk.bind(c3,c2);},Bind$1:function(c2,c3){return bk.bind(c3,c2);},Bind$2:function(c2,c3){return bk.bind(c3,c2);},ReturnFrom:a.id,Return:function(c2){return new bk({$:0,$0:c2});}},i,bo);bo.New=cf.Ctor(function(){},bo);bk.fixitF=function(c2,c3){return c2(c3);};bk.valFlow=function(){b6.$cctor();return b6.valFlow;};bk.mapCached=function(c2,c3){return new bk({$:2,$0:cH.MapCached(c2,bk.toView(c3))});};bk.sink=function(c2,c3){cH.Sink(c2,bk.toView(bk.fixit(c3)));};bk.mapAsync=function(c2,c3){return new bk({$:2,$0:cH.MapAsync(c2,bk.toView(bk.fixit(c3)))});};bk.iter4=function(c2,c3,c4,c5,c6){bk.iterV(a.ignore,bk.map4(c2,c3,c4,c5,c6));};bk.iter3=function(c2,c3,c4,c5){bk.iterV(a.ignore,bk.map3(c2,c3,c4,c5));};bk.iter2=function(c2,c3,c4){bk.iterV(a.ignore,bk.map2(c2,c3,c4));};bk.apply=function(c2,c3){return bk.bindV(function(c4){return bk.mapV(c4,c2);},c3);};bk.map4=function(c2,c3,c4,c5,c6){return bk.map4V(c2,bk.fixit(c3),bk.fixit(c4),bk.fixit(c5),bk.fixit(c6));};bk.map3=function(c2,c3,c4,c5){return bk.map3V(c2,bk.fixit(c3),bk.fixit(c4),bk.fixit(c5));};bk.map2=function(c2,c3,c4){return((bk.map2V(c2))(bk.fixit(c3)))(bk.fixit(c4));};bk.map=function(c2,c3){return bk.mapV(c2,bk.fixit(c3));};bk.bind=function(c2,c3){return bk.bindV(c2,bk.fixit(c3));};bk.iter=function(c2,c3){bk.iterV(c2,bk.fixit(c3));};bk.toDoc=function(c2){return cJ.EmbedView(bk.toView(bk.fixit(c2)));};bk.fixit=function(c2){return bk.fixitF(bk.toVal,c2);};bk.toVal=function(c2){return typeof c2=="string"?new bk({$:0,$0:c2}):typeof c2=="number"?new bk({$:0,$0:c2}):typeof c2=="boolean"?new bk({$:0,$0:c2}):c2 instanceof cJ?new bk({$:0,$0:c2}):c2 instanceof bk?c2:c2 instanceof bZ?new bk({$:1,$0:c2}):"RSet"in c2?new bk({$:1,$0:c2}):typeof c2=="function"?new bk({$:2,$0:c2}):c2.get_ValTypeMember()===0?c2:cK.FailWith((function(c3){return function(c4){return c3("Could not convert "+cg.prettyPrint(c4));};}(a.id))(c2));};bk.attrV=function(c2,c3){return c3.$==2?cL.Dynamic(c2,c3.$0):c3.$==1?cL.Dynamic(c2,c3.$0.get_View()):cM.Create(c2,c3.$0);};bk.attrVO=function(c2,c3){var c4,c5;return c3.$==2?(c4=c3.$0,cL.DynamicPred(c2,cH.Map(function(c6){return c6!=null;},c4),cH.Map(function(c6){return c6==null?"":c6.$0;},c4))):c3.$==1?(c5=c3.$0,cL.DynamicPred(c2,cH.Map(function(c6){return c6!=null;},c5.get_View()),cH.Map(function(c6){return c6==null?"":c6.$0;},c5.get_View()))):c3.$0==null?cL.DynamicPred(c2,cH.Const(false),cH.Const("")):cM.Create(c2,c3.$0.$0);};bk.tagElt=function(c2,c3){return c3.$==2?cJ.EmbedView(cH.Map(c2,c3.$0)):c3.$==1?cJ.EmbedView(cH.Map(c2,c3.$0.get_View())):c2(c3.$0);};bk.tagDoc=function(c2,c3){return c3.$==2?cJ.EmbedView(cH.Map(c2,c3.$0)):c3.$==1?cJ.EmbedView(cH.Map(c2,c3.$0.get_View())):c2(c3.$0);};bk.map4V=function(c2,c3,c4,c5,c6){var c7;c7=bk.map3V(c2,c3,c4,c5);return((bk.map2V(function(c8){return function(c9){return c9(c8);};}))(c6))(c7);};bk.map3V=function(c2,c3,c4,c5){var c6;c6=((bk.map2V(c2))(c3))(c4);return((bk.map2V(function(c7){return function(c8){return c8(c7);};}))(c5))(c6);};bk.map2V=function(c2){function c3(c6){var c7;c7=c2(c6);return function(c8){return bk.mapV(c7,c8);};}function c4(c6){return((bk.swap())(c3))(c6);}function c5(c6){var c7;c7=c4(c6);return function(c8){return bk.bindV(c7,c8);};}return function(c6){return((bk.swap())(c5))(c6);};};bk.bindV=function(c2,c3){return c3.$==2?new bk({$:2,$0:cH.Bind(function(c4){return bk.toView(c2(c4));},c3.$0)}):c3.$==1?new bk({$:2,$0:cH.Bind(function(c4){return bk.toView(c2(c4));},c3.$0.get_View())}):c2(c3.$0);};bk.getAsync=function(c2){return c2.$==2?cH.GetAsync(c2.$0):c2.$==1?b$.Return(c2.$0.Get()):b$.Return(c2.$0);};bk.toView=function(c2){return c2.$==2?c2.$0:c2.$==1?c2.$0.get_View():cH.Const(c2.$0);};bk.iterV=function(c2,c3){if(c3.$==2)cH.Get(c2,c3.$0);else if(c3.$==1)c2(c3.$0.Get());else c2(c3.$0);};bk.mapV=function(c2,c3){return c3.$==2?new bk({$:2,$0:cH.Map(c2,c3.$0)}):c3.$==1?new bk({$:2,$0:cH.Map(c2,c3.$0.get_View())}):new bk({$:0,$0:c2(c3.$0)});};bk.swap=function(){b6.$cctor();return b6.swap;};bp=bj.HtmlNode=cf.Class({Style:function(c2){return this.AddChildren([bj.style(c2)]);},AddClass:function(c2){return bj.addClass(c2,this);},InsertChildren:function(c2){return bj.insertChildren(c2,this);},AddChildren:function(c2){return bj.addChildren(c2,this);},get_toDoc:function(){var c2,c3,c4;return this.$==3||this.$==6?cJ.Empty():(c3=bj.chooseNode(this),(c4=cJ.Empty(),c3==null?c4:c3.$0));}},null,bp);bp.HtmlEmpty=new bp({$:6});bp.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(c2,c3){return bj.indent2Level(11,c3,c2);};bp.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(c2,c3){return bj.indent2Level(10,c3,c2);};bp.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(c2,c3){return bj.indent2Level(9,c3,c2);};bp.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(c2,c3){return bj.indent2Level(8,c3,c2);};bp.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(c2,c3){return bj.indent2Level(7,c3,c2);};bp.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(c2,c3){return bj.indent2Level(6,c3,c2);};bp.op_MinusMinusMinusMinusMinusMinusMinusMinus=function(c2,c3){return bj.indent2Level(5,c3,c2);};bp.op_MinusMinusMinusMinusMinusMinus=function(c2,c3){return bj.indent2Level(4,c3,c2);};bp.op_MinusMinusMinusMinus=function(c2,c3){return bj.indent2Level(3,c3,c2);};bp.op_MinusMinus=function(c2,c3){return bj.indent2Level(2,c3,c2);};bp.op_Addition=function(c2,c3){return new ck.T({$:1,$0:c3,$1:c2});};bp.op_MinusMinusMinus=function(c2,c3){return c2.$==1?c2.$1.$==1?new ck.T({$:1,$0:c2.$1.$0.AddChildren([c2.$0.AddChildren([c3])]),$1:c2.$1.$1}):ck.ofArray([c2.$0.AddChildren([c3])]):ck.T.Empty;};bp.op_Subtraction=function(c2,c3){return c2.$==0?ck.T.Empty:new ck.T({$:1,$0:c2.$0.AddChildren([c3]),$1:c2.$1});};bq.LoadFilesAsyncOld=function(c2){function c3(c4,c5){try{a.CIPHERSpaceLoadFiles(c2,c4);}catch(c6){c5(c6);}}return b$.FromContinuations(function(c4,c5,c6){return c3.apply(null,[c4,c5,c6]);});};bq.LoadFilesAsync=function(c2){var c3;c3=null;return b$.Delay(function(){return b$.For(c2,function(c4){return b$.Bind(bq.LoadFile(c4),function(){return b$.Return(null);});});});};bq.LoadFile=function(c2){var c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de;function df(dh,di){return cd.EndsWith(di,dh)?{$:1,$0:null}:null;}function dg(dh,di){try{dd.onload=dh;a.document.head.appendChild(dd);}catch(dj){di(dj);}}c3=(c4=((c6=df(".js",c2),c6!=null&&c6.$==1)?!a.document.querySelector("script[src='"+c2+"']")||((c7=df(".fsx",c2),c7!=null&&c7.$==1)?!a.document.querySelector("script[src='"+c2+"']")||(c8=df(".fs",c2),c8!=null&&c8.$==1)&&!a.document.querySelector("script[src='"+c2+"']"):(c9=df(".fs",c2),c9!=null&&c9.$==1)&&!a.document.querySelector("script[src='"+c2+"']")):(c_=df(".fsx",c2),c_!=null&&c_.$==1)?!a.document.querySelector("script[src='"+c2+"']")||(c$=df(".fs",c2),c$!=null&&c$.$==1)&&!a.document.querySelector("script[src='"+c2+"']"):(da=df(".fs",c2),da!=null&&da.$==1)&&!a.document.querySelector("script[src='"+c2+"']"))?{$:1,$0:bq.createScript(c2)}:(db=df(".css",c2),db!=null&&db.$==1)?{$:1,$0:bq.createCss(c2)}:(dc=df(".html",c2),dc!=null&&dc.$==1)?{$:1,$0:bq.createHtml(c2)}:null,c4==null?null:{$:1,$0:(dd=c4.$0,b$.FromContinuations(function(dh,di,dj){return dg.apply(null,[dh,di,dj]);}))});return c3==null?(de=null,b$.Delay(function(){return b$.Return(null);})):c3.$0;};bq.createHtml=function(c2){var c3;c3=a.document.createElement("link");c3.setAttribute("rel","import");c3.setAttribute("type","text/html");c3.setAttribute("href",c2);return c3;};bq.createCss=function(c2){var c3;c3=a.document.createElement("link");c3.setAttribute("rel","stylesheet");c3.setAttribute("type","text/css");c3.setAttribute("href",c2);return c3;};bq.createScript=function(c2){var c3;c3=a.document.createElement("script");c3.setAttribute("type","text/javascript");c3.setAttribute("src",c2);return c3;};bj.findRootElement=function(c2){var c3;return!function(c4){return c2.getRootNode(c4);}?a.document.body:(c3=c2.getRootNode(),!c3.body?c3.firstChild:c3.body);};bj.createIFrame$3618$45=cf.Curried3(function(c2,c3,c4){return cH.Get(function(c5){if(!c5)c2.Set(false);},cO.get_MousePressed());});bj.createIFrame$3613$45=cf.Curried3(function(c2,c3,c4){return c2.Set(true);});bj.createIFrame$3612$45=a.id;bj.createIFrame=function(c2){var c3;c3=bZ.Create$1(true);return bj.div([bj.style("position: relative; overflow: hidden; height: 100%; width: 100%;"),bj.iframe([bj.style("position: absolute; width:100%; height:100%;"),bj.frameborder("0"),new bp({$:8,$0:cM.OnAfterRenderImpl(c2)}),new bp({$:8,$0:cM.HandlerImpl("mouseleave",function(){return function(){return c3.Set(true);};})})]),bj.div([bj.style("position: absolute;"),bj.classIf("iframe-cover",bk.map(a.id,c3)),new bp({$:8,$0:cM.HandlerImpl("mouseenter",function(){return function(){return cH.Get(function(c4){if(!c4)c3.Set(false);},cO.get_MousePressed());};})})]),bj.styleH([bj.htmlText(".iframe-cover { top:0; left:0; right:0; bottom:0; background: blue; opacity: 0.04; z-index: 2; }")])]);};bj.bindHElem=function(c2,c3){return new bp({$:2,$0:bk.map(c2,bk.fixit(c3))});};bj.string2Styles=function(){b6.$cctor();return b6.string2Styles;};bj.style2pairs=function(c2){return ci.map(function(c3){return[cd.Trim(ci.get(c3,0)),cd.Trim(ci.get(c3,1))];},ci.filter(function(c3){return ci.length(c3)===2;},ci.map(function(c3){return cd.SplitChars(c3,[":"],0);},cd.SplitChars(c2,[";"],0))));};bj.classIf=function(c2,c3){return bj["class"](bk.map(function(c4){return c4?c2:"";},bk.fixit(c3)));};bj.css=function(c2){return bj.styleH([bj.htmlText(c2)]);};bj.style1=function(c2,c3){var c4;return bj.style(bk.map((c4=c2+":",function(c5){return c4+c5;}),c3));};bj.placeholder=function(c2){return bj.htmlAttribute("placeholder",c2);};bj.style=function(c2){return bj.htmlAttribute("style",c2);};bj.draggable=function(c2){return bj.htmlAttribute("draggable",c2);};bj.spellcheck=function(c2){return bj.htmlAttribute("spellcheck",c2);};bj.frameborder=function(c2){return bj.htmlAttribute("frameborder",c2);};bj.Id=function(c2){return bj.htmlAttribute("id",c2);};bj.title=function(c2){return bj.htmlAttribute("title",c2);};bj.width=function(c2){return bj.htmlAttribute("width",c2);};bj.type=function(c2){return bj.htmlAttribute("type",c2);};bj["class"]=function(c2){return bj.htmlAttribute("class",c2);};bj.src=function(c2){return bj.htmlAttribute("src",c2);};bj.charset=function(c2){return bj.htmlAttribute("charset",c2);};bj.rel=function(c2){return bj.htmlAttribute("rel",c2);};bj.hrefO=function(c2){return bj.htmlAttributeO("href",c2);};bj.href=function(c2){return bj.htmlAttribute("href",c2);};bj.target=function(c2){return bj.htmlAttribute("target",c2);};bj.strong=function(c2){return bj.htmlElement("strong",c2);};bj.section=function(c2){return bj.htmlElement("section",c2);};bj.body=function(c2){return bj.htmlElement("body",c2);};bj.iframe=function(c2){return bj.htmlElement("iframe",c2);};bj.link=function(c2){return bj.htmlElement("link",c2);};bj.fieldset=function(c2){return bj.htmlElement("fieldset",c2);};bj.styleH=function(c2){return bj.htmlElement("style",c2);};bj.script=function(c2){return bj.htmlElement("script",c2);};bj.button=function(c2){return bj.htmlElement("button",c2);};bj.label=function(c2){return bj.htmlElement("label",c2);};bj.tbody=function(c2){return bj.htmlElement("tbody",c2);};bj.td=function(c2){return bj.htmlElement("td",c2);};bj.tr=function(c2){return bj.htmlElement("tr",c2);};bj.th=function(c2){return bj.htmlElement("th",c2);};bj.thead=function(c2){return bj.htmlElement("thead",c2);};bj.table=function(c2){return bj.htmlElement("table",c2);};bj.form=function(c2){return bj.htmlElement("form",c2);};bj.span=function(c2){return bj.htmlElement("span",c2);};bj.img=function(c2){return bj.htmlElement("img",c2);};bj.div=function(c2){return bj.htmlElement("div",c2);};bj.h6=function(c2){return bj.htmlElement("h6",c2);};bj.h5=function(c2){return bj.htmlElement("h5",c2);};bj.h4=function(c2){return bj.htmlElement("h4",c2);};bj.h3=function(c2){return bj.htmlElement("h3",c2);};bj.h2=function(c2){return bj.htmlElement("h2",c2);};bj.h1=function(c2){return bj.htmlElement("h1",c2);};bj.hr=function(c2){return bj.htmlElement("hr",c2);};bj.br=function(c2){return bj.htmlElement("br",c2);};bj.li=function(c2){return bj.htmlElement("li",c2);};bj.ul=function(c2){return bj.htmlElement("ul",c2);};bj.p=function(c2){return bj.htmlElement("p",c2);};bj.a=function(c2){return bj.htmlElement("a",c2);};bj.textV=function(c2){return bj.tag(cJ.TextNode,c2);};bj._placeholder=function(c2){return bj.atr("placeholder",c2);};bj._style=function(c2){return bj.atr("style",c2);};bj._type=function(c2){return bj.atr("type",c2);};bj._class=function(c2){return bj.atr("class",c2);};bj.tag=function(c2,c3){return bk.tagDoc(c2,bk.fixit(c3));};bj.atr=function(c2,c3){return bk.attrV(c2,bk.fixit(c3));};bj.renderDoc=function(){b6.$cctor();return b6.renderDoc;};bj.op_BangBang=function(c2,c3){return ck.ofArray([c2(c3)]);};bj.endHtmlIndent=function(c2){var c3;c3=bj.finishO(c2);return c3==null?bj.htmlText("Malformed HTMLNode"):c3.$0;};bj.finishO=function(c2){return c2.$==1?c2.$1.$==1?bj.finishO(bj.out(c2)):{$:1,$0:c2.$0}:null;};bj.indent2Level=function(c2,c3,c4){return c4.get_Length()<c2?new ck.T({$:1,$0:c3,$1:c4}):bj.indent2Level(c2,c3,bj.out(c4));};bj.out=function(c2){return c2.$==1?c2.$1.$==1?new ck.T({$:1,$0:bj.addChildren([c2.$0],c2.$1.$0),$1:c2.$1.$1}):ck.ofArray([c2.$0]):ck.T.Empty;};bj.addClassIf=function(c2,c3){var c4;c4=bk.map(function(c5){return c5?c2:"";},bk.fixit(c3));return function(c5){return bj.addClass(c4,c5);};};bj.addClass=function(c2,c3){return bj.addChildren(ck.ofArray([bj.htmlAttribute("class",c2)]),c3);};bj.insertChildren=function(c2,c3){function c4(c5,c6){return[c5,ca.append(c2,c6)];}return bj.mapHtmlElement(function(c5){return function(c6){return c4(c5,c6);};},c3);};bj.addChildren=function(c2,c3){function c4(c5,c6){return[c5,ca.append(c6,c2)];}return bj.mapHtmlElement(function(c5){return function(c6){return c4(c5,c6);};},c3);};bj.someElt=function(c2){return new bp({$:7,$0:c2});};bj.str=function(c2){return new bp({$:5,$0:bk.fixit(c2)});};bj.htmlText=function(c2){return new bp({$:5,$0:bk.fixit(c2)});};bj.htmlAttributeO=function(c2,c3){return new bp({$:4,$0:c2,$1:bk.fixit(c3)});};bj.htmlAttribute=function(c2,c3){return new bp({$:3,$0:c2,$1:bk.fixit(c3)});};bj.htmlElementF=function(c2,c3){return new bp({$:1,$0:c2,$1:c3});};bj.htmlElement=function(c2,c3){return new bp({$:0,$0:c2,$1:c3});};bj.mapHtmlElement=function(c2,c3){var c4;return c3.$==0?(c4=(c2(c3.$0))(c3.$1),new bp({$:0,$0:c4[0],$1:c4[1]})):c3.$==2?new bp({$:2,$0:bk.map(function(c5){return bj.mapHtmlElement(c2,c5);},c3.$0)}):c3;};bj.getAttrChildren=function(c2){var c3,c4,c5;function c6(c7){var c8;return c7.$==3&&(c7.$0===c2&&(c8=[c7.$0,c7.$1],true))?{$:1,$0:c8[1]}:null;}c3=function(c7){return ca.tryPick(c6,c7);};c4=(c5=new bk({$:0,$0:""}),function(c7){return c7==null?c5:c7.$0;});return function(c7){return c4(c3(c7));};};bj.chooseNode=function(c2){var c3,c4,c5,c6,c7;return c2.$==0?(c3=c2.$1,{$:1,$0:cJ.Element(c2.$0,bj.getAttrsFromSeq(c3),ca.choose(bj.chooseNode,c3))}):c2.$==1?(c4=c2.$1,{$:1,$0:(c2.$0(bj.getAttrsFromSeq(c4)))(ca.choose(bj.chooseNode,c4))}):c2.$==2?{$:1,$0:(c5=bk.toView(c2.$0),cJ.BindView((c6=(c7=cJ.Empty(),function(c8){return c8==null?c7:c8.$0;}),function(c8){return c6(bj.chooseNode(c8));}),c5))}:c2.$==5?{$:1,$0:bk.tagDoc(cJ.TextNode,c2.$0)}:c2.$==7?{$:1,$0:c2.$0}:null;};bj.getAttrsFromSeq=function(c2){var c3;c3=ca.choose(bj.chooseAttr,c2);return ca.append(ck.choose(a.id,ck.ofArray([bj.groupAttr("class"," ",c2),bj.groupAttr("style","; ",c2)])),c3);};bj.groupAttr=function(c2,c3,c4){var c5,c6;function c7(c8,c9){return bj.concat(c3,c8,c9);}c5=ca.choose(function(c8){return bj.chooseThisAttr(c2,c8);},c4);return ca.isEmpty(c5)?null:{$:1,$0:bk.attrV(c2,(c6=(cf.Curried3(bk.map2))(function(c8){return function(c9){return c7(c8,c9);};}),ca.reduce(function(c8,c9){return(c6(c8))(c9);},c5)))};};bj.concat=function(c2,c3,c4){return c3+c2+c4;};bj.chooseThisAttr=function(c2,c3){var c4;return c3.$==3&&(c3.$0===c2&&(c4=[c3.$0,c3.$1],true))?{$:1,$0:c4[1]}:null;};bj.chooseAttr=function(c2){var c3,c4,c5,c6;return c2.$==3&&((c4=c2.$0,c4!=="class"&&c4!=="style")&&(c3=[c2.$0,c2.$1],true))?{$:1,$0:bk.attrV(c3[0],c3[1])}:c2.$==4&&((c6=c2.$0,c6!=="class"&&c6!=="style")&&(c5=[c2.$0,c2.$1],true))?{$:1,$0:bk.attrVO(c5[0],c5[1])}:c2.$==8?{$:1,$0:c2.$0}:null;};bj.addClassX=function(c2,c3){var c4;return cd.concat(" ",(c4=new cP.New$1(cQ.OfSeq(cd.SplitChars(c2,[" "],0))),new cP.New$1(cQ.OfSeq(ca.append(new cP.New$1(cQ.OfSeq(cd.SplitChars(c3,[" "],0))),c4)))));};bs=br.Button=cf.Class({OnClick:function(c2){return bs.New(this._class,this._type,this.style,this.text,c2,this.disabled,this.id);},Disabled:function(c2){return bs.New(this._class,this._type,this.style,this.text,this.onClick,bk.fixit(c2),this.id);},Text:function(c2){return bs.New(this._class,this._type,this.style,bk.fixit(c2),this.onClick,this.disabled,this.id);},Style:function(c2){return bs.New(this._class,this._type,bk.fixit(c2),this.text,this.onClick,this.disabled,this.id);},Type:function(c2){return bs.New(this._class,bk.fixit(c2),this.style,this.text,this.onClick,this.disabled,this.id);},Class:function(c2){return bs.New(bk.fixit(c2),this._type,this.style,this.text,this.onClick,this.disabled,this.id);},Id:function(c2){return bs.New(this._class,this._type,this.style,this.text,this.onClick,this.disabled,c2);},get_Render:function(){var c2,c3;return new bp({$:7,$0:(c2=bj.button([bj.type(this._type),bj["class"](this._class),bj.Id(this.id),bj.style(this.style),new bp({$:8,$0:(c3=cH.Const(""),cL.DynamicPred("disabled",bk.toView(this.disabled),c3))}),new bp({$:8,$0:cM.HandlerImpl("click",this.onClick)}),new bp({$:5,$0:this.text})]),(bj.renderDoc())(c2))});}},null,bs);bs.get_Render$3731$42=function(c2){return c2.onClick;};bs.New$1=function(c2){return bs.New(bk.fixit("btn"),bk.fixit("button"),bk.fixit(""),bk.fixit(c2),function(){return function(){return null;};},bk.fixit(false),"");};bs.New=function(c2,c3,c4,c5,c6,c7,c8){return new bs({_class:c2,_type:c3,style:c4,text:c5,onClick:c6,disabled:c7,id:c8});};bt=br.Input=cf.Class({get_Var:function(){return this["var"];},Disabled:function(c2){return bt.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded,bk.fixit(c2));},SetVar:function(c2){return bt.New(this._type,this._class,this.style,this.placeholder,this.id,c2,this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded,this.disabled);},Suffix:function(c2){return bt.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,c2,this.content,this.prefixAdded,true,this.disabled);},Prefix:function(c2){return this.Prefix$1(bj.htmlText(c2));},Prefix$1:function(c2){return bt.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],c2,this.suffix,this.content,true,this.suffixAdded,this.disabled);},Content:function(c2){return bt.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,c2,this.prefixAdded,this.suffixAdded,this.disabled);},Id:function(c2){return bt.New(this._type,this._class,this.style,this.placeholder,c2,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded,this.disabled);},Placeholder:function(c2){return bt.New(this._type,this._class,this.style,bk.fixit(c2),this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded,this.disabled);},Style:function(c2){return bt.New(this._type,this._class,bk.fixit(c2),this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded,this.disabled);},Type:function(c2){return bt.New(bk.fixit(c2),this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded,this.disabled);},Class:function(c2){return bt.New(this._type,bk.fixit(c2),this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded,this.disabled);},get_Render:function(){var c2;function c3(c4){return c4.$==5?"input-group-addon":"input-group-btn";}c2=this;return bj.div(ck.ofSeq(ca.delay(function(){return ca.append(c2.prefixAdded||c2.suffixAdded?[bj["class"]("input-group")]:[],ca.delay(function(){return ca.append(c2.prefixAdded?[bj.span([bj["class"](c3(c2.prefix)),c2.prefix])]:[],ca.delay(function(){var c4;return ca.append([new bp({$:7,$0:cJ.Input(ca.append(c2.content,ck.ofArray([bj._type(c2._type),bj._class(c2._class),bj._style(c2.style),cM.Create("id",c2.id),(c4=cH.Const(""),cL.DynamicPred("disabled",bk.toView(c2.disabled),c4)),bj._placeholder(c2.placeholder)])),c2["var"])})],ca.delay(function(){return c2.suffixAdded?[bj.span([bj["class"](c3(c2.suffix)),c2.suffix])]:[];}));}));}));})));}},null,bt);bt.New$1=function(c2){return bt.New$3(bZ.Lens(c2,function(c3){return c3==null?"":c3.$0;},function(c3,c4){return c3==null?null:{$:1,$0:c4};})).Disabled(bk.map(function(c3){return c3==null;},c2));};bt.New$2=function(c2){return bt.New$3(bZ.Create$1(c2));};bt.New$3=function(c2){var c3;c3=bk.fixit("form-control");return bt.New(bk.fixit("text"),c3,bk.fixit(""),bk.fixit("Enter text:"),"",c2,bp.HtmlEmpty,bp.HtmlEmpty,ck.T.Empty,false,false,bk.fixit(false));};bt.New=function(c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db){return new bt({_type:c2,_class:c3,style:c4,placeholder:c5,id:c6,"var":c7,prefix:c8,suffix:c9,content:c_,prefixAdded:c$,suffixAdded:da,disabled:db});};bu=br.Hoverable=cf.Class({Content:function(c2){var c3;c3=this;return c2.AddChildren([bj.classIf("hovering",this.hover),new bp({$:8,$0:cM.HandlerImpl("mouseenter",function(){return function(){return c3.hover.Set(true);};})}),new bp({$:8,$0:cM.HandlerImpl("mouseleave",function(){return function(){return c3.hover.Set(false);};})})]);},Content$1:function(c2){var c3;c3=this;return bj.div(ca.append(c2,ck.ofArray([bj.classIf("hovering",this.hover),new bp({$:8,$0:cM.HandlerImpl("mouseenter",function(){return function(){return c3.hover.Set(true);};})}),new bp({$:8,$0:cM.HandlerImpl("mouseleave",function(){return function(){return c3.hover.Set(false);};})})])));}},null,bu);bu.get_Demo=function(){return bu.get_New().Content(bj.div([bj.style("flex-flow: column;")]));};bu.Content$3825$43=cf.Curried3(function(c2,c3,c4){return c2.hover.Set(false);});bu.Content$3824$43=cf.Curried3(function(c2,c3,c4){return c2.hover.Set(true);});bu.Content$3817$37=cf.Curried3(function(c2,c3,c4){return c2.hover.Set(false);});bu.Content$3816$37=cf.Curried3(function(c2,c3,c4){return c2.hover.Set(true);});bu.get_New=function(){return bu.New(bZ.Create$1(false));};bu.New=function(c2){return new bu({hover:c2});};bv=br.Panel=cf.Class({Disabled:function(c2){return bv.New(this._class,this._style,this.title,this.header,this.content,c2);},Content:function(c2){return bv.New(this._class,this._style,this.title,this.header,c2,this.disabled);},Header:function(c2){return bv.New(this._class,this._style,this.title,c2,this.content,this.disabled);},Title:function(c2){return bv.New(this._class,this._style,bk.fixit(c2),this.header,this.content,this.disabled);},Style:function(c2){return bv.New(this._class,bk.fixit(c2),this.title,this.header,this.content,this.disabled);},Class:function(c2){return bv.New(bk.fixit(c2),this._style,this.title,this.header,this.content,this.disabled);},get_Render:function(){var c2;return bj.fieldset([new bp({$:8,$0:(c2=cH.Const(""),cL.DynamicPred("disabled",bk.toView(this.disabled),c2))}),bj.div([bj["class"](this._class),bj.div(ca.append([bj["class"]("panel-heading"),bj.label([bj["class"]("panel-title text-center"),bj.htmlText(this.title)])],this.header)),bj.div(ca.append([bj["class"]("panel-body"),bj.style(this._style)],this.content))])]);}},null,bv);bv.get_New=function(){return bv.New(bk.fixit("panel panel-default shadow"),bk.fixit("text-align:center"),bk.fixit("Panel"),ck.ofArray([bj.htmlText("Some text")]),ck.ofArray([bj.htmlText("Some Content")]),bk.fixit(bZ.Create$1(false)));};bv.New=function(c2,c3,c4,c5,c6,c7){return new bv({_class:c2,_style:c3,title:c4,header:c5,content:c6,disabled:c7});};bw=br.TextArea=cf.Class({get_Var:function(){return this["var"];},Disabled:function(c2){return bw.New(this._class,this.placeholder,this.title,this.spellcheck,this.id,this["var"],bk.fixit(c2));},SetVar:function(c2){return bw.New(this._class,this.placeholder,this.title,this.spellcheck,this.id,c2,this.disabled);},Id:function(c2){return bw.New(this._class,this.placeholder,this.title,this.spellcheck,c2,this["var"],this.disabled);},Spellcheck:function(c2){return bw.New(this._class,this.placeholder,this.title,c2,this.id,this["var"],this.disabled);},Title:function(c2){return bw.New(this._class,this.placeholder,bk.fixit(c2),this.spellcheck,this.id,this["var"],this.disabled);},Placeholder:function(c2){return bw.New(this._class,bk.fixit(c2),this.title,this.spellcheck,this.id,this["var"],this.disabled);},Class:function(c2){return bw.New(bk.fixit(c2),this.placeholder,this.title,this.spellcheck,this.id,this["var"],this.disabled);},get_Render:function(){return this.RenderWith(ck.T.Empty);},RenderWith:function(c2){var c3,c4;c3=this;return bj.div([bj.htmlElementF(function(c5){return function(){return cJ.InputArea(c5,c3["var"]);};},ck.append(ck.ofArray([bj["class"](this._class),bj.Id(this.id),bj.spellcheck(bk.map(function(c5){return c5?"true":"false";},this.spellcheck)),bj.title(this.title),bj.style("height: 100%;  width: 100%; box-sizing: border-box; "),bj.placeholder(this.placeholder),new bp({$:8,$0:(c4=cH.Const(""),cL.DynamicPred("disabled",bk.toView(this.disabled),c4))})]),c2))]);}},null,bw);bw.New$1=function(c2){return bw.New$3(bZ.Lens(c2,function(c3){return c3==null?"":c3.$0;},function(c3,c4){return c3==null?null:{$:1,$0:c4};})).Disabled(bk.map(function(c3){return c3==null;},c2));};bw.New$2=function(c2){return bw.New$3(bZ.Create$1(c2));};bw.New$3=function(c2){return bw.New(bk.fixit("form-control"),bk.fixit("Enter text:"),bk.fixit(""),bk.fixit(false),"",c2,bk.fixit(false));};bw.New=function(c2,c3,c4,c5,c6,c7,c8){return new bw({_class:c2,placeholder:c3,title:c4,spellcheck:c5,id:c6,"var":c7,disabled:c8});};bx.New=function(c2,c3){return{line:c2,ch:c3};};by=br.CodeMirrorEditor=cf.Class({},i,by);by.New=cf.Ctor(function(){},by);bz=br.CodeMirror=cf.Class({get_Var:function(){return this["var"];},Disabled:function(c2){return bz.New(this._class,this.style,this.id,this["var"],this.onChange,this.onRender,this.editorO,bk.fixit(c2));},OnRender:function(c2){return bz.New(this._class,this.style,this.id,this["var"],this.onChange,{$:1,$0:c2},this.editorO,this.disabled);},OnChange:function(c2){return bz.New(this._class,this.style,this.id,this["var"],c2,this.onRender,this.editorO,this.disabled);},Style:function(c2){return bz.New(this._class,bk.fixit(c2),this.id,this["var"],this.onChange,this.onRender,this.editorO,this.disabled);},SetVar:function(c2){return bz.New(this._class,this.style,this.id,c2,this.onChange,this.onRender,this.editorO,this.disabled);},Id:function(c2){return bz.New(this._class,this.style,c2,this["var"],this.onChange,this.onRender,this.editorO,this.disabled);},Class:function(c2){return bz.New(bk.fixit(c2),this.style,this.id,this["var"],this.onChange,this.onRender,this.editorO,this.disabled);},get_Render:function(){var c2;c2=this;return bj.div([bj["class"](this._class),new bp({$:8,$0:cM.Create("id",this.id)}),bj.style("position: relative; height: 300px"),bj.style(this.style),bj.div([bj.style("height: 100%; width: 100%; position: absolute;"),new bp({$:8,$0:cM.OnAfterRenderImpl(function(c3){var c4;b$.Start((c4=null,b$.Delay(function(){return b$.Bind(bq.LoadFilesAsync(br.codeMirrorIncludes()),function(){var c5,c6,c7,c8;c5=a.CodeMirror(c3,{theme:"rubyblue",lineNumbers:true,matchBrackets:true,gutters:["CodeMirror-lint-markers"],extraKeys:{Tab:function(c9){c9.replaceSelection("    ","end");},F11:function(c9){c9.setOption("fullScreen",!c9.getOption("fullScreen"));}}});c2.editorO={$:1,$0:c5};c6=c2.onRender;c6==null?void 0:c6.$0(c5);c7=[0];c8=[0];c5.on("changes",function(){var c9;c9=c5.getValue();c2["var"].Get()!==c9?(c7[0]=c7[0]+1,c2["var"].Set(c9),c2.onChange()):void 0;});cH.Sink(function(){if(c7[0]>c8[0])c8[0]=c7[0];else if(c5.getValue()!==c2["var"].Get()){c5.setValue(c2["var"].Get());c5.getDoc().clearHistory();}},c2["var"].get_View());bk.sink(function(c9){c5.setOption("readOnly",c9&&"nocursor");},c2.disabled);return b$.Zero();});})),null);})})]),bj.link([bj.href("/EPFileX/codemirror/content/editor.css"),bj.type("text/css"),bj.rel("stylesheet")]),bj.link([bj.href("/EPFileX/codemirror/content/codemirror.css"),bj.type("text/css"),bj.rel("stylesheet")]),bj.link([bj.href("/EPFileX/codemirror/scripts/addon/display/fullscreen.css"),bj.type("text/css"),bj.rel("stylesheet")]),bj.link([bj.href("/EPFileX/codemirror/scripts/addon/dialog/dialog.css"),bj.type("text/css"),bj.rel("stylesheet")]),bj.link([bj.href("/EPFileX/codemirror/scripts/addon/hint/show-hint.css"),bj.type("text/css"),bj.rel("stylesheet")]),bj.link([bj.href("/EPFileX/codemirror/scripts/addon/lint/lint.css"),bj.type("text/css"),bj.rel("stylesheet")]),bj.css(".CodeMirror { height: 100% }")]);}},null,bz);bz.New$1=function(c2){return bz.New$3(bZ.Lens(c2,function(c3){return c3==null?"":c3.$0;},function(c3,c4){return c3==null?null:{$:1,$0:c4};})).Disabled(bk.map(function(c3){return c3==null;},c2));};bz.New$2=function(c2){return bz.New$3(bZ.Create$1(c2));};bz.get_Render$4013$48=function(c2){return function(c3){var c4;b$.Start((c4=null,b$.Delay(function(){return b$.Bind(bq.LoadFilesAsync(br.codeMirrorIncludes()),function(){var c5,c6,c7,c8;c5=a.CodeMirror(c3,{theme:"rubyblue",lineNumbers:true,matchBrackets:true,gutters:["CodeMirror-lint-markers"],extraKeys:{Tab:function(c9){c9.replaceSelection("    ","end");},F11:function(c9){c9.setOption("fullScreen",!c9.getOption("fullScreen"));}}});c2.editorO={$:1,$0:c5};c6=c2.onRender;c6==null?void 0:c6.$0(c5);c7=[0];c8=[0];c5.on("changes",function(){var c9;c9=c5.getValue();c2["var"].Get()!==c9?(c7[0]=c7[0]+1,c2["var"].Set(c9),c2.onChange()):void 0;});cH.Sink(function(){if(c7[0]>c8[0])c8[0]=c7[0];else if(c5.getValue()!==c2["var"].Get()){c5.setValue(c2["var"].Get());c5.getDoc().clearHistory();}},c2["var"].get_View());bk.sink(function(c9){c5.setOption("readOnly",c9&&"nocursor");},c2.disabled);return b$.Zero();});})),null);};};bz.New$3=function(c2){return bz.New(bk.fixit(""),bk.fixit(""),"",c2,a.ignore,null,null,bk.fixit(false));};bz.New=function(c2,c3,c4,c5,c6,c7,c8,c9){return new bz({_class:c2,style:c3,id:c4,"var":c5,onChange:c6,onRender:c7,editorO:c8,disabled:c9});};bA.New=function(c2,c3,c4){return{text:c2,displayText:c3,className:c4};};bB.New=function(c2,c3,c4){return{list:c2,from:c3,to:c4};};bC.New=function(c2,c3,c4){return{hint:c2,completeSingle:c3,container:c4};};bD.New=function(c2,c3,c4,c5){return{message:c2,severity:c3,from:c4,to:c5};};bE=br.SplitterBar=cf.Class({Children:function(c2){return bE.New(this.value,this.min,this.max,this.vertical,this.node,c2,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},get_After:function(){return bE.New(this.value,this.min,this.max,this.vertical,this.node,this.children,true,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},get_Before:function(){return bE.New(this.value,this.min,this.max,this.vertical,this.node,this.children,false,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Horizontal:function(){return bE.New(this.value,this.min,this.max,bk.fixit(false),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Vertical:function(){return bE.New(this.value,this.min,this.max,bk.fixit(true),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Horizontal$1:function(c2){return bE.New(this.value,this.min,this.max,bk.map(function(c3){return!c3;},bk.fixit(c2)),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Vertical$1:function(c2){return bE.New(this.value,this.min,this.max,bk.fixit(c2),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Max:function(c2){return bE.New(this.value,this.min,bk.fixit(c2),this.vertical,this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Min:function(c2){return bE.New(this.value,bk.fixit(c2),this.max,this.vertical,this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Node:function(c2){return bE.New(this.value,this.min,this.max,this.vertical,c2,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Value:function(c2){this.value.Set(c2);return this;},get_Render:function(){var c2;function c3(c8){return c2.startVer?c8.clientX:c8.clientY;}function c4(){var c8;c8=c2.domElem;return c8!=null&&c8.$==1?c2.startVer?c2.after?c8.$0.parentElement.getBoundingClientRect().width:-c8.$0.parentElement.getBoundingClientRect().width:c2.after?c8.$0.parentElement.getBoundingClientRect().height:-c8.$0.parentElement.getBoundingClientRect().height:100;}function c5(c8){c2.value.Set((c3(c8)-c2.start)*100/c2.size+c2.startP);}function c6(){if(c2.dragging){c2.dragging=false;a.removeEventListener("mousemove",c5,false);a.removeEventListener("mouseup",c6,false);}}function c7(c8,c9){return!c2.dragging?(c2.dragging=true,c2.startVer=cH.TryGet(bk.toView(c2.vertical)).$0,c2.startP=cH.TryGet(bk.toView(c2.get_GetValue())).$0,c2.start=c3(c9),c2.size=c4(),a.addEventListener("mousemove",c5,false),a.addEventListener("mouseup",c6,false),c9.preventDefault()):null;}c2=this;return this.node.AddChildren([bj["class"](bk.map(function(c8){return c8?"Vertical":"Horizontal";},this.vertical)),new bp({$:8,$0:cM.HandlerImpl("mousedown",function(c8){return function(c9){return c7(c8,c9);};})}),new bp({$:8,$0:cM.OnAfterRenderImpl(function(c8){c2.domElem={$:1,$0:c8};})}),bj.css("\n                    .Splitter.Vertical   { cursor: col-resize; background-color: #eef ; width : 5px ; margin-left:-7px; }\n                    .Splitter.Horizontal { cursor: row-resize; background-color: #eef ; height: 5px ; margin-top :-7px; }\n                ")]).AddChildren(this.children);},get_GetValue:function(){function c2(c4,c5){return cb.Compare(c4,c5)===-1?c4:c5;}function c3(c4,c5){return cb.Compare(c4,c5)===1?c4:c5;}return bk.map2(function(c4){return function(c5){return c2(c4,c5);};},this.max,bk.map2(function(c4){return function(c5){return c3(c4,c5);};},this.min,this.value));},get_Var:function(){return this.value;}},null,bE);bE.get_Render$4178$45=function(c2){return function(c3){c2.domElem={$:1,$0:c3};};};bE.get_Render$4177$42=a.id;bE.New$1=function(c2){return bE.New$2(bZ.Create$1(c2));};bE.New$2=function(c2){return bE.New(c2,bk.fixit(5),bk.fixit(95),bk.fixit(true),bj.div([bj["class"]("Splitter")]),ck.T.Empty,true,false,true,0,0,0,null);};bE.New=function(c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc){return new bE({value:c2,min:c3,max:c4,vertical:c5,node:c6,children:c7,after:c8,dragging:c9,startVer:c_,startP:c$,start:da,size:db,domElem:dc});};bF.StFixedPerc={$:2};bF.StFixedPx={$:1};bF.StVariable={$:0};bG=br.Grid=cf.Class({get_Render:function(){return bj.div(this.GridTemplate());},GridTemplate:function(){var c2;c2=this;return ck.ofSeq(ca.delay(function(){function c3(c4,c5){return c4!=null&&c4.$==1?c5.AddChildren([bj.style((function(c6){return function(c7){return c6("grid-area: "+cg.toSafe(c7)+"; dispxlay: grid");};}(a.id))(c4.$0))]):c5;}return ca.append(ca.map(function(c4){return c3(c4[0],c4[1]);},c2.content),ca.delay(function(){function c4(c5,c6){var c7;return c6.$==2?(c7=c6.$0,{$:1,$0:c7.get_Render().InsertChildren([bj.style1("grid-column",a.String(c5+(c7.after?2:1))),bj.style1("grid-row",(function(c8){return function(c9){return c8("1 / "+a.String(c9));};}(a.id))(ci.length(c2.rows)+1))])}):c6.$==1?null:null;}return ca.append(ca.choose(function(c5){return c4(c5[0],c5[1]);},ca.indexed(c2.cols)),ca.delay(function(){function c5(c6,c7){var c8;return c7.$==2?(c8=c7.$0,{$:1,$0:c8.get_Render().InsertChildren([bj.style1("grid-row",a.String(c6+(c8.after?2:1))),bj.style1("grid-column",(function(c9){return function(c_){return c9("1 / "+a.String(c_));};}(a.id))(ci.length(c2.cols)+1))])}):c7.$==1?null:null;}return ca.append(ca.choose(function(c6){return c5(c6[0],c6[1]);},ca.indexed(c2.rows)),ca.delay(function(){return ca.append(c2.styles(),ca.delay(function(){return ca.append([bj.style((((cf.Curried3(function(c6,c7,c8){return c6("display: grid; grid-gap: "+c7.toFixed(6)+"px; padding: "+c8.toFixed(6)+"px; box-sizing: border-box");}))(a.id))(c2.gap))(c2.padding))],ca.delay(function(){return[new bp({$:8,$0:cM.OnAfterRenderImpl(function(c6){function c7(){var c8;c8=c6.getBoundingClientRect();br.setVar(c2.widthHeight,[c8.width,c8.height]);}c7();br.addResizeObserver(c7,c6);})})];}));}));}));}));}));}));},styles:function(){return ck.ofArray([bj.style1("grid-template-columns",this.style(this.cols,bk.map(function(c2){return c2[0];},this.widthHeight))),bj.style1("grid-template-rows",this.style(this.rows,bk.map(function(c2){return c2[1];},this.widthHeight)))]);},style:function(c2,c3){var c4,c5,c6,c7;function c8(c$,da){return function(db){return db.$==2?[bk.map2(function(dc){return function(dd){return dc+dd;};},db.$0.get_GetValue(),c$),da]:db.$==1?db.$0.$==1?[c$,bk.map2(function(dc){return function(dd){return dc+dd;};},db.$0.$0,da)]:[bk.map2(function(dc){return function(dd){return dc+dd;};},db.$0.$0,c$),da]:[c$,da];};}function c9(c$){return bk.map2(function(da){return function(db){var dc,dd,de;dc=(dd=da*db,(de=0,cb.Compare(de,dd)===1?de:dd));return(function(df){return function(dg){return df(dg.toFixed(6)+"%");};}(a.id))(dc);};},c6,c$);}function c_(c$){return bk.map(function(da){var db,dc;db=(dc=0,cb.Compare(dc,da)===1?dc:da);return(function(dd){return function(de){return dd(de.toFixed(6)+"px");};}(a.id))(db);},c$);}c4=this;return ci.length(c2)===0?new bk({$:0,$0:"100%"}):(c5=ca.fold(function(c$,da){return(function(db){return c8(db[0],db[1]);}(c$))(da);},[new bk({$:0,$0:0}),new bk({$:0,$0:0})],c2),(c6=bk.map2(function(c$){return function(da){return(da-c4.padding*2-c4.gap*(ci.length(c2)-1)-c$)/(da-c4.padding*2);};},c5[1],c3),(c7=bk.map(function(c$){return 100-c$;},c5[0]),bk.map(function(c$){return cd.concat(" ",c$);},ca.foldBack(function(c$,da){function db(dc,dd){return new ck.T({$:1,$0:dd,$1:dc});}return bk.map2(function(dc){return function(dd){return db(dc,dd);};},da,c$.$==2?c9(c$.$0.get_GetValue()):c$.$==1?c$.$0.$==1?c_(c$.$0.$0):c9(c$.$0.$0):c9(c7));},c2,new bk({$:0,$0:ck.T.Empty}))))));},Children:function(c2){return this.changeSplitter(function(c3){return c3.Children(c2);});},Min:function(c2){return this.changeSplitter(function(c3){return c3.Min(c2);});},Max:function(c2){return this.changeSplitter(function(c3){return c3.Max(c2);});},get_Before:function(){return this.changeSplitter(function(c2){return c2.get_Before();});},changeSplitter:function(c2){var c3,c4,c5,c6,c7,c8;c3=this;c4=this.lastSplitter;c4==null?void 0:(c5=c4.$0,c6=c5[0],c5[1]?(c7=ci.get(c3.cols,c6),c7.$==2?ci.set(c3.cols,c6,{$:2,$0:c2(c7.$0)}):void 0):(c8=ci.get(c3.rows,c6),c8.$==2?ci.set(c3.rows,c6,{$:2,$0:c2(c8.$0)}):void 0));return this;},Gap:function(c2){return bG.New(this.padding,c2,this.content,this.cols,this.rows,this.widthHeight,this.lastSplitter);},Padding:function(c2){return bG.New(c2,this.gap,this.content,this.cols,this.rows,this.widthHeight,this.lastSplitter);},Content:function(c2){return bG.New(this.padding,this.gap,this.content.concat([[null,c2]]),this.cols,this.rows,this.widthHeight,this.lastSplitter);},Content$1:function(c2,c3){return bG.New(this.padding,this.gap,this.content.concat([[{$:1,$0:c2},c3]]),this.cols,this.rows,this.widthHeight,this.lastSplitter);},RowAuto:function(c2){return bG.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:0,$0:bE.New$1(c2).Horizontal()}]),this.widthHeight,this.lastSplitter);},RowVariable:function(c2){return this.NewSplitter$1(c2,false);},RowVariable$1:function(c2){return this.NewSplitter(c2,false);},RowVariable$2:function(c2){return bG.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:2,$0:c2}]),this.widthHeight,this.lastSplitter);},RowFixed:function(c2){return bG.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:1,$0:{$:0,$0:bk.fixit(c2)}}]),this.widthHeight,this.lastSplitter);},RowFixedPx:function(c2){return bG.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:1,$0:{$:1,$0:bk.fixit(c2)}}]),this.widthHeight,this.lastSplitter);},ColAuto:function(c2){return bG.New(this.padding,this.gap,this.content,this.cols.concat([{$:0,$0:bE.New$1(c2)}]),this.rows,this.widthHeight,this.lastSplitter);},ColVariable:function(c2){return this.NewSplitter$1(c2,true);},ColVariable$1:function(c2){return this.NewSplitter(c2,true);},ColVariable$2:function(c2){return bG.New(this.padding,this.gap,this.content,this.cols.concat([{$:2,$0:c2}]),this.rows,this.widthHeight,this.lastSplitter);},ColFixed:function(c2){return bG.New(this.padding,this.gap,this.content,this.cols.concat([{$:1,$0:{$:0,$0:bk.fixit(c2)}}]),this.rows,this.widthHeight,this.lastSplitter);},ColFixedPx:function(c2){return bG.New(this.padding,this.gap,this.content,this.cols.concat([{$:1,$0:{$:1,$0:bk.fixit(c2)}}]),this.rows,this.widthHeight,this.lastSplitter);},NewSplitter:function(c2,c3){return this.NewSplitter$1(bZ.Create$1(c2),c3);},NewSplitter$1:function(c2,c3){var c4,c5,c6;c4=bE.New$2(c2);return c3?(c5={$:1,$0:[ci.length(this.cols),c3]},bG.New(this.padding,this.gap,this.content,this.cols.concat([{$:2,$0:c4}]),this.rows,this.widthHeight,c5)):(c6={$:1,$0:[ci.length(this.rows),c3]},bG.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:2,$0:c4.Horizontal()}]),this.widthHeight,c6));}},null,bG);bG.NewBisect=function(c2,c3,c4,c5,c6,c7){var c8,c9,c_;c8=c4?[c3.$==1?function(c$){return c$.ColFixedPx(c5);}:c3.$==2?function(c$){return c$.ColFixed(c5);}:function(c$){return c$.ColVariable(c5);},function(c$){return c$.ColAuto(50);},function(c$){return c$.Content(bj.style("grid-template-areas: 'one   two' "));}]:[c3.$==1?function(c$){return c$.RowFixedPx(c5);}:c3.$==2?function(c$){return c$.RowFixed(c5);}:function(c$){return c$.RowVariable(c5);},function(c$){return c$.RowAuto(50);},function(c$){return c$.Content(bj.style("grid-template-areas: 'one' 'two' "));}];c9=c8[0];c_=c8[1];return(c2?function(c$){return c_(c9(c$));}:function(c$){return c9(c_(c$));})(c8[2](bG.get_New().Content$1("one",c6).Content$1("two",c7).Padding(0)));};bG.GridTemplate$4365$49=function(c2){return function(c3){function c4(){var c5;c5=c3.getBoundingClientRect();br.setVar(c2.widthHeight,[c5.width,c5.height]);}c4();br.addResizeObserver(c4,c3);};};bG.get_New=function(){return bG.New(9,9,[],[],[],bZ.Create$1([1000,100]),null);};bG.New=function(c2,c3,c4,c5,c6,c7,c8){return new bG({padding:c2,gap:c3,content:c4,cols:c5,rows:c6,widthHeight:c7,lastSplitter:c8});};bH=br.TabStrip=cf.Class({get_Render:function(){var c2,c3,c4,c5;c2=this;c3=bj.bindHElem(function(c6){return bj.div(ck.ofSeq(ca.delay(function(){return ca.append([bj["class"]((((cf.Curried3(function(c7,c8,c9){return c7("tab-strip "+cg.toSafe(c8)+" "+cg.toSafe(c9));}))(a.id))(c2.top?"top":"bottom"))(c2.horizontal?"horizontal":"vertical"))],ca.delay(function(){return ca.collect(function(c7){var c8;c8=c7[0];return[bu.get_New().Content(bj.div([bj.htmlText(c7[1][1][0]),bj["class"](bk.map(function(c9){return"tab"+(c9===c8?" selected":"");},c2.selected)),bj.draggable("true"),new bp({$:8,$0:cM.HandlerImpl("dragover",function(){return function(c9){return c9.preventDefault();};})}),new bp({$:8,$0:cM.HandlerImpl("drag",function(){return function(){(br.draggedTab())[0]={$:1,$0:[c2,c8]};};})}),new bp({$:8,$0:cM.HandlerImpl("drop",function(){return function(c9){c9.preventDefault();c9.stopPropagation();return c2.reorder(c8);};})}),new bp({$:8,$0:cM.HandlerImpl("click",function(){return function(){return c2.selected.Set(c8);};})})]))];},ca.indexed(c6));}));})));},this.tabs);bk.sink((c4=this.id,function(c6){br.setSelectedPanel(c4,c6);}),this.get_Selected());c5=bj.bindHElem(function(c6){return bj.div(ck.ofSeq(ca.delay(function(){return ca.append([bj["class"]("tab-children")],ca.delay(function(){return ca.append([bj.Id(br.uid2s(c2.id))],ca.delay(function(){function c7(c8,c9){return c9[1].AddChildren([bj.style(bk.map(function(c_){return ca.contains(c8,ca.map(function(c$){return c$[1];},cD.ToSeq(c_)))?"":"display : none";},br.selectedPanels())),bj.Id(br.uid2s(c8))]);}return ca.map(function(c8){return c7(c8[0],c8[1]);},c6);}));}));})));},this.tabs);return bj.div([bj["class"]("tab-panel"),this.top?c3:bp.HtmlEmpty,bj.div([c5,bj["class"]("tab-content")]),!this.top?c3:bp.HtmlEmpty,new bp({$:8,$0:cM.HandlerImpl("dragover",function(){return function(c6){return c6.preventDefault();};})}),new bp({$:8,$0:cM.HandlerImpl("drop",function(){return function(c6){c6.preventDefault();return c2.reorder(ci.length(c2.tabs.Get()));};})}),bj.css("\n    \n    .tab-panel {\n     overflow  : hidden   ;\n     display   : flex     ;\n     flex-flow : column   ;\n     background: lightgray;\n    }\n    .tab-content {\n     flex      : 1 1     ;\n     overflow  : auto    ;\n     position  : relative;\n    }\n    .tab-children {\n     height    : 100%    ;\n     width     : 100%    ;\n     position  : absolute;\n     display   : grid    ;\n    }\n    .tab-strip {\n     padding   : 0pt     ;\n     flex      : 0 0     ;\n    }\n    .tab {\n     border     : 0.2pt solid transparent;\n     padding    : 0pt 4pt;\n     display    : inline-block;\n     font-family: sans-serif;\n     font-weight: 200;\n     font-size  : small;\n     color      : #666;\n     cursor     : pointer;\n    }\n    .top>.tab {\n     border-radius: 2pt 2pt 0pt 0pt;\n     border-bottom-width: 0pt;\n     vertical-align: bottom;\n    }\n    .bottom>.tab {\n     border-top-width: 0pt;\n     border-radius: 0pt 0pt 2pt 2pt;\n     vertical-align: top;\n    }\n    .horizontal>.tab:not(:first-child) {\n     border-left-width: 0pt;\n    }\n    .tab.hovering {\n     background: red;\n    }\n    .tab.selected {\n     background: white;\n     border-left-width: 0.2pt;\n     color: black;\n     font-weight: 500;\n     border-color: black;\n    }\n    .horizontal>.tab.selected {\n     border-left-width: 0.2pt;\n    }\n    ")]);},Select:function(c2){var c3,c4;function c5(c6,c7){return cb.Equals(c7[0],c2)?(c3.selected.Set(c6),{$:1,$0:true}):null;}c3=this;c4=ca.tryPick(function(c6){return c5(c6[0],c6[1]);},ca.indexed(this.tabs.Get()));return c4==null?false:c4.$0;},Select$1:function(c2){var c3,c4;function c5(c6,c7){return c7[1][0]===c2?(c3.selected.Set(c6),{$:1,$0:true}):null;}c3=this;c4=ca.tryPick(function(c6){return c5(c6[0],c6[1]);},ca.indexed(this.tabs.Get()));return c4==null?false:c4.$0;},Select$2:function(c2){this.selected.Set(c2);},get_Selected:function(){return bk.map2(function(c2){return function(c3){var c4;c4=ca.tryItem(c3,c2);return c4==null?null:{$:1,$0:c4.$0[0]};};},this.tabs,this.selected);},get_Vertical:function(){return bH.New(this.selected,this.tabs,this.top,false,this.id);},get_Horizontal:function(){return bH.New(this.selected,this.tabs,this.top,true,this.id);},SetTop:function(c2){return bH.New(this.selected,this.tabs,c2,this.horizontal,this.id);},get_Bottom:function(){return bH.New(this.selected,this.tabs,false,this.horizontal,this.id);},get_Top:function(){return bH.New(this.selected,this.tabs,true,this.horizontal,this.id);},reorder:function(c2){var c3,c4,c5;c5=(br.draggedTab())[0];if(c5!=null&&c5.$==1){if(!cb.Equals(c5.$0[0].id,this.id))this.moveTab(c5.$0[0],c5.$0[1],c2);else if(c5!=null&&c5.$==1){c3=c5.$0[1];this.tabs.Set(br.reorderArray(this.tabs.Get(),c3,c2));c4=this.selected.Get();this.selected.Set(c4===c3?c2:c4<c3&&c4<c2||c4>c3&&c4>c2?c4:c4<c3?c4+1:c4-1);}else throw new cR.New("Compiled\\FSharpStation2\\FSharpStation.fs",4476,18);}else void 0;},moveTab:function(c2,c3,c4){var c5,c6,c7,c8;c5=this.tabs.Get();c6=c2.tabs.Get();c7=ci.collect(a.id,[cc.array(c5,{$:1,$0:0},{$:1,$0:c4-1}),[ci.get(c6,c3)],cc.array(c5,{$:1,$0:c4},{$:1,$0:ci.length(c5)-1})]);c8=ci.collect(a.id,[cc.array(c6,{$:1,$0:0},{$:1,$0:c3-1}),cc.array(c6,{$:1,$0:c3+1},{$:1,$0:ci.length(c6)-1})]);c2.tabs.Set(c8);this.tabs.Set(c7);this.selected.Set(c4);c2.selected.Get()>=ci.length(c8)?c2.selected.Set(0):void 0;br.RaiseTabMoved(c2,this);}},null,bH);bH.get_Render$4547$42=cf.Curried3(function(c2,c3,c4){c4.preventDefault();return c2.reorder(ci.length(c2.tabs.Get()));});bH.get_Render$4546$42=cf.Curried3(function(c2,c3,c4){return c4.preventDefault();});bH.get_Render$4522$70=function(c2,c3){return function(){return function(){return c3.selected.Set(c2);};};};bH.get_Render$4521$70=function(c2,c3){return function(){return function(c4){c4.preventDefault();c4.stopPropagation();return c3.reorder(c2);};};};bH.get_Render$4520$70=function(c2,c3){return function(){return function(){(br.draggedTab())[0]={$:1,$0:[c2,c3]};};};};bH.get_Render$4519$70=cf.Curried3(function(c2,c3,c4){return c4.preventDefault();});bH.New$1=function(c2){return bH.New$2(bZ.Create$1(ci.ofSeq(ca.map(function(c3){return[cr.NewGuid(),c3];},c2))));};bH.New$2=function(c2){return bH.New(bZ.Create$1(0),c2,false,true,cr.NewGuid());};bH.New=function(c2,c3,c4,c5,c6){return new bH({selected:c2,tabs:c3,top:c4,horizontal:c5,id:c6});};bI=br.MenuEntry=cf.Class({get_MenuNode:function(){return new bJ({$:1,$0:this});},SubMenu:function(c2){return bI.New(this.text,this.ref,this.active,this.disabled,{$:1,$0:bK.New2(c2).get_DropDown()},this.toolTip,this.target,this.divider,this.onClick);},SubMenu$1:function(c2){return bI.New(this.text,this.ref,this.active,this.disabled,{$:1,$0:bK.New$1(c2).get_DropDown()},this.toolTip,this.target,this.divider,this.onClick);},Disabled:function(c2){return bI.New(this.text,this.ref,this.active,bk.fixit(c2),this.subMenu,this.toolTip,this.target,this.divider,this.onClick);},OnClick:function(c2){return bI.New(this.text,this.ref,this.active,this.disabled,this.subMenu,this.toolTip,this.target,this.divider,{$:1,$0:c2});},get_Divider:function(){return bI.New(this.text,this.ref,this.active,this.disabled,this.subMenu,this.toolTip,this.target,true,this.onClick);},Target:function(c2){return bI.New(this.text,this.ref,this.active,this.disabled,this.subMenu,this.toolTip,{$:1,$0:c2},this.divider,this.onClick);},get_Render:function(){var c2,c3,c4,c5,c6,c7,c8,c9,c_;return(this.divider?function(c$){return bj.addClass("divider",c$);}:a.id)((c2=(c3=(c4=(c5=br.entryTxt(this.text,(c6=this.target,c6==null?"":c6.$0),this.ref),(bj.addClassIf("active",this.active))(c5)),(bj.addClassIf("disabled",this.disabled))(c4)),(c7=this.subMenu,(c7!=null&&c7.$==1?(c8=ck.ofArray([bj["class"]("dropdown"),c7.$0.get_Render()]),function(c$){return bj.addChildren(c8,c$);}):a.id)(c3))),(c9=this.onClick,(c9!=null&&c9.$==1?(c_=ck.ofArray([new bp({$:8,$0:cM.HandlerImpl("click",c9.$0)}),bj.style("cursor : pointer")]),function(c$){return bj.addChildren(c_,c$);}):a.id)(c2))));}},null,bI);bI.get_Render$4660$104=a.id;bI.New$1=function(c2,c3){var c4;c4=bI.New$2(c2);return bI.New(c4.text,bk.map(function(c5){return{$:1,$0:c5};},c3),c4.active,c4.disabled,c4.subMenu,c4.toolTip,c4.target,c4.divider,c4.onClick);};bI.New$2=function(c2){var c3,c4;c3=bk.fixit(c2);c4=bk.fixit(false);return bI.New(c3,new bk({$:0,$0:null}),c4,bk.fixit(false),null,null,null,false,null);};bI.New=function(c2,c3,c4,c5,c6,c7,c8,c9,c_){return new bI({text:c2,ref:c3,active:c4,disabled:c5,subMenu:c6,toolTip:c7,target:c8,divider:c9,onClick:c_});};bJ=br.MenuNode=cf.Class({get_Render:function(){return this.$==1?this.$0.get_Render():this.$0;}},null,bJ);bK=br.Menu=cf.Class({get_Render:function(){var c2;c2=this;return(this.dropdown?br.dropdown:br.nav)(ck.ofSeq(ca.delay(function(){return ca.map(function(c3){return c3.get_Render();},c2.entries);})));},get_DropDown:function(){return bK.New(this.entries,true);}},null,bK);bK.New2=function(c2){return bK.New$1(ca.map(function(c3){return new bJ({$:1,$0:c3});},c2));};bK.New$1=function(c2){return bK.New(c2,false);};bK.New=function(c2,c3){return new bK({entries:c2,dropdown:c3});};bL=br.Action=cf.Class({get_Button:function(){var c2,c3,c4;function c5(c6,c7){return null;}c2=(c3=(c4=this.onClick,c4==null?null:{$:1,$0:c4.$0(this)}),c3==null?function(c6){return function(c7){return c5(c6,c7);};}:c3.$0);return bs.New(bk.map(function(c6){return c6?"btn btn-primary":"btn";},this.highlight),bk.fixit("button"),bk.fixit(""),this.text,c2,this.disabled,"");},get_MenuEntry:function(){var c2,c3;c2=(c3=this.onClick,c3==null?null:{$:1,$0:c3.$0(this)});return bI.New(this.text,new bk({$:0,$0:null}),this.highlight,this.disabled,null,this.toolTip,null,false,c2);},Highlight:function(c2){return bL.New(this.text,bk.fixit(c2),this.disabled,this.toolTip,this.onClick,this.parms);},Disabled:function(c2){return bL.New(this.text,this.highlight,bk.fixit(c2),this.toolTip,this.onClick,this.parms);},OnClick2:function(c2){return bL.New(this.text,this.highlight,this.disabled,this.toolTip,{$:1,$0:c2},this.parms);},OnClick:function(c2){return bL.New(this.text,this.highlight,this.disabled,this.toolTip,{$:1,$0:function(){return c2;}},this.parms);},Parms:function(c2){return bL.New(this.text,this.highlight,this.disabled,this.toolTip,this.onClick,{$:1,$0:c2});},Text:function(c2){return bL.New(bk.fixit(c2),this.highlight,bk.fixit(false),this.toolTip,this.onClick,this.parms);}},null,bL);bL.New$1=function(c2){return bL.New(bk.fixit(c2),bk.fixit(false),bk.fixit(false),null,null,null);};bL.New=function(c2,c3,c4,c5,c6,c7){return new bL({text:c2,highlight:c3,disabled:c4,toolTip:c5,onClick:c6,parms:c7});};bM=br.GuiPart=cf.Class({GetHtmlNode:function(c2,c3){var c4,c5,c6,c7,c8,c9;return this.$==1?[this.$0,a.ignore]:this.$==2?[this.$0.get_Button().get_Render(),a.ignore]:this.$==5?[c2.GetCallButton(this.$0,this.$1,this.$2),a.ignore]:this.$==4?(c4=bH.New$1(ca.map(function(c_){return[c_,c2.GetNode(c_)];},this.$1)).SetTop(this.$0),(br.addValue(c3,c4,c2.tabStrips),[c4.get_Render(),a.ignore])):this.$==3?(c5=this.$3,(c6=bZ.Create$1(this.$6),(c7=bZ.Create$1(this.$7),(c8=bZ.Create$1(c5),(c9=[c5],[bG.NewBisect(this.$0,this.$1,this.$2,c8,c2.GetNode(this.$4),c2.GetNode(this.$5)).Min(c6).Max(c7).get_Render(),function(c_){var c$;if(c_.$==3){c$=c_.$3;c9[0]!==c$?(c9[0]=c$,c8.Set(c$)):void 0;c6.Set(c_.$6);c7.Set(c_.$7);}}]))))):[bp.HtmlEmpty,a.ignore];}},null,bM);bN.New=function(c2,c3,c4,c5,c6,c7,c8){return{HtmlElementF:c2,HtmlAttributeF:c3,HtmlAttributeOF:c4,HtmlTextF:c5,HtmlEmptyF:c6,HtmlGuiPart:c7,HtmlGuiCall:c8};};bO.New=function(c2,c3,c4,c5,c6){return{GuiRoot:c2,GuiTabStrip:c3,GuiSplit:c4,GuiNode:c5,GuiCall:c6};};bP.get_New=function(){return{$:0,$0:cr.NewGuid()};};bQ=br.Layout=cf.Class({SelectTab:function(c2){ca.iter(function(c3){c3.Select$1(c2);},this.tabStrips.get_Values());},SetLayoutJson:function(c2,c3){var c4,c7;function c5(c9){var c_,c$,da,db,dc,dd,de;c_=br.PHtmlElementF(c9);return c_!=null&&c_.$==1?{$:1,$0:new bp({$:0,$0:c_.$0[0],$1:ca.choose(c5,c_.$0[1])})}:(c$=br.PHtmlAttributeF(c9),c$!=null&&c$.$==1?{$:1,$0:new bp({$:3,$0:c$.$0[0],$1:new bk({$:0,$0:c$.$0[1]})})}:(da=br.PHtmlAttributeOF(c9),da!=null&&da.$==1?{$:1,$0:new bp({$:4,$0:da.$0[0],$1:new bk({$:0,$0:da.$0[1]})})}:(db=br.PHtmlTextF(c9),db!=null&&db.$==1?{$:1,$0:new bp({$:5,$0:new bk({$:0,$0:db.$0})})}:(dc=br.PHtmlEmptyF(c9),dc!=null&&dc.$==1)?{$:1,$0:bp.HtmlEmpty}:(dd=br.PHtmlGuiPart(c9),dd!=null&&dd.$==1?{$:1,$0:c7.GetNode(dd.$0)}:(de=br.PHtmlGuiCall(c9),de!=null&&de.$==1?{$:1,$0:c7.GetCallButton(de.$0[0],de.$0[1],de.$0[2])}:null)))));}function c6(c9){var c_,c$,da,db,dc,dd;c_=br.PGuiNode(c9);return c_!=null&&c_.$==1?{$:1,$0:new bM({$:1,$0:g.defaultValue(bp.HtmlEmpty,c5(c_.$0))})}:(c$=br.PGuiRoot(c9),c$!=null&&c$.$==1?{$:1,$0:new bM({$:0,$0:c$.$0})}:(da=br.PGuiTabStrip(c9),da!=null&&da.$==1?{$:1,$0:(db=da.$0,new bM({$:4,$0:db[0],$1:db[1]}))}:(dc=br.PGuiSplit(c9),dc!=null&&dc.$==1?{$:1,$0:new bM({$:3,$0:dc.$0[0],$1:br.toSect(dc.$0[1]),$2:dc.$0[2],$3:dc.$0[3],$4:dc.$0[4],$5:dc.$0[5],$6:dc.$0[6],$7:dc.$0[7]})}:(dd=br.PGuiCall(c9),dd!=null&&dd.$==1?{$:1,$0:new bM({$:5,$0:dd.$0[0],$1:dd.$0[1],$2:dd.$0[2]})}:null))));}c7=this;function c8(c9,c_){var c$;c$=c6(c_);return c$==null?null:{$:1,$0:[c9,{$:1,$0:c_},c$.$0]};}try{c4=this.AddNewSteps(c2,c3===""?[]:ci.choose(function(c9){return c8(c9[0],c9[1]);},((cw.DecodeArray(cw.DecodeTuple([cw.Id(),b9.j$12])))())(ct.parse(c3))));}catch(c9){c4=(function(c_){return function(c$){return c_("Error: "+cg.prettyPrint(c$));};}(function(c_){cj.log(c_);}))(c9);}},AddNewSteps:function(c2,c3){var c4;function c5(c7,c8,c9){var c_,c$;if(c4.parts.ContainsKey(c7)){c_=c4.parts.get_Item(c7);c$=c_[0];cb.Equals((c$.Get())[0],c8)?bk.iter(a.ignore,bk.apply(new bk({$:0,$0:c9}),c_[2])):c$.Set([c8,c9]);}else c4.AddNode(c7,c8,c9);}function c6(c7,c8){return ca.last(c8);}c4=this;ci.iter(function(c7){return c5(c7[0],c7[1],c7[2]);},ci.map(function(c7){return c6(c7[0],c7[1]);},ci.groupBy(function(c7){return a.id(c7[0],c7[1],c7[2]);},c2.concat(c3))));},get_Render:function(){function c2(c3){var c4;c4=c3.Get();return c4[1].$==0?{$:1,$0:c4[1].$0}:null;}return this.GetNode(g.defaultValue("main",ca.tryPick(function(c3){return c2(br.t1of3.apply(null,c3));},this.parts.get_Values())));},GetNode:function(c2){var c3;c3=null;return this.parts.TryGetValue(c2,{get:function(){return c3;},set:function(c4){c3=c4;}})?br.t2of3(c3[0],c3[1],c3[2]):this.AddNode(c2,bP.get_New(),new bM({$:1,$0:bj.div([bj.htmlText((function(c4){return function(c5){return c4("GuiPart "+cg.toSafe(c5)+" not found");};}(a.id))(c2))])}));},AddNode:function(c2,c3,c4){var c5,c6,c7,c8;function c9(c_,c$){return c$.GetHtmlNode(c5,c2);}c5=this;c6=bZ.Create$1([c3,c4]);c7=bk.map(function(c_){return c9(c_[0],c_[1]);},c6);c8=new bp({$:2,$0:bk.map(function(c_){return c_[0];},c7)});this.parts.Add(c2,[c6,c8,bk.map(function(c_){return c_[1];},c7)]);return c8;},GetCallButton:function(c2,c3,c4){var c5;c5=m.Success(this.GetGuiCallAction(c2,c3,c4));return c5.$==1?bj.div([bj.htmlText(cd.concat(". ",m.msgs2String(c5.$0)))]):c5.$0[0].get_Button().get_Render();},GetGuiCallAction:function(c2,c3,c4){var c5;return this.parts.ContainsKey(c3)?(c5=(this.parts.get_Item(c3))[0].Get(),c5[1].$==2?m.succeed(c5[1].$0.Text(c2).Parms(ci.map(a.id,c4))):m.failSimpleError((function(c6){return function(c7){return c6("GuiPart "+cg.toSafe(c7)+" is not a GuiAction");};}(a.id))(c3))):m.failSimpleError((function(c6){return function(c7){return c6("GuiAction "+cg.toSafe(c7)+" not found");};}(a.id))(c3));}},null,bQ);bQ.New$1=function(c2){var c3;function c4(c5,c6,c7){c3.AddNode(c5,c6,c7);}c3=bQ.New(new co.New$5(),new co.New$5());ca.iter(function(c5){return c4(c5[0],c5[1],c5[2]);},c2);return c3;};bQ.AddGuids=function(c2){function c3(c4,c5){return[c4,c5.$==2?bP.get_New():c5.$==0?{$:2,$0:c5.$0}:c5.$==3?{$:4,$0:c5.$0,$1:c5.$1,$2:c5.$2,$3:c5.$4,$4:c5.$5}:c5.$==4?{$:3,$0:c5.$0,$1:c5.$1}:c5.$==5?{$:5,$0:c5.$0,$1:c5.$1,$2:c5.$2}:bP.get_New(),c5];}return ci.ofSeq(ca.map(function(c4){return c3(c4[0],c4[1]);},c2));};bQ.New=function(c2,c3){return new bQ({parts:c2,tabStrips:c3});};br.varVerSplitter=function(c2,c3,c4,c5,c6){return new bM({$:3,$0:true,$1:bF.StVariable,$2:true,$3:c2,$4:c3,$5:c4,$6:c5,$7:c6});};br.varHorSplitter=function(c2,c3,c4,c5,c6){return new bM({$:3,$0:true,$1:bF.StVariable,$2:false,$3:c2,$4:c3,$5:c4,$6:c5,$7:c6});};br.fixPcVerSplitter=function(c2,c3,c4,c5){return new bM({$:3,$0:c2,$1:bF.StFixedPerc,$2:true,$3:c3,$4:c4,$5:c5,$6:5,$7:95});};br.fixPcHorSplitter=function(c2,c3,c4,c5){return new bM({$:3,$0:c2,$1:bF.StFixedPerc,$2:false,$3:c3,$4:c4,$5:c5,$6:5,$7:95});};br.fixedVerSplitter=function(c2,c3,c4,c5){return new bM({$:3,$0:c2,$1:bF.StFixedPx,$2:true,$3:c3,$4:c4,$5:c5,$6:5,$7:95});};br.fixedHorSplitter=function(c2,c3,c4,c5){return new bM({$:3,$0:c2,$1:bF.StFixedPx,$2:false,$3:c3,$4:c4,$5:c5,$6:5,$7:95});};br.t3of3=function(c2,c3,c4){return c4;};br.t2of3=function(c2,c3,c4){return c3;};br.t1of3=a.id;br.toSect=function(c2){return c2==="StVariable"?bF.StVariable:c2==="StFixedPx"?bF.StFixedPx:bF.StFixedPerc;};br.PGuiCall=function(c2){return c2.GuiCall;};br.PGuiNode=function(c2){return c2.GuiNode;};br.PGuiRoot=function(c2){return c2.GuiRoot;};br.PGuiSplit=function(c2){return c2.GuiSplit;};br.PGuiTabStrip=function(c2){return c2.GuiTabStrip;};br.PHtmlGuiCall=function(c2){return c2.HtmlGuiCall;};br.PHtmlGuiPart=function(c2){return c2.HtmlGuiPart;};br.PHtmlEmptyF=function(c2){return c2.HtmlEmptyF;};br.PHtmlTextF=function(c2){return c2.HtmlTextF;};br.PHtmlAttributeOF=function(c2){return c2.HtmlAttributeOF;};br.PHtmlAttributeF=function(c2){return c2.HtmlAttributeF;};br.PHtmlElementF=function(c2){return c2.HtmlElementF;};br.addValue=function(c2,c3,c4){c4.Remove(c2);c4.Add(c2,c3);};br.processLayoutSteps=function(c2,c3){var c4,c5;return g.defaultValue(c3,(c4=ca.tryHead(c2),c4==null?null:{$:1,$0:(c5=c4.$0,br.processLayoutSteps(ca.skip(1,c2),c3.Add(c5[0],c5[1])))}));};br.HtmlGuiCall=function(c2,c3,c4){return new bM({$:5,$0:c2,$1:c3,$2:c4});};br.Do2=function(c2,c3,c4,c5,c6){return c2(c4,c3);};br.Do=function(c2,c3,c4,c5){return c2(c3);};br.navbar=function(c2,c3,c4){return bj.div([bj["class"]("navbar navbar-default"),bj.div([bj["class"]("container-fluid"),bj.div([bj["class"]("navbar-header"),bj.div([bj["class"]("navbar-brand"),c2])]),bj.div([bj["class"]("navbar-collapse collapse"),c3,bj.addClass("navbar-right",c4)])])]);};br.dropdown=function(c2){return br.entries(c2,"dropdown-menu");};br.nav=function(c2){return br.entries(c2,"nav navbar-nav");};br.entries=function(c2,c3){return bj.addClass(c3,bj.ul(c2));};br.entryTxt=function(c2,c3,c4){return br.menuEntry(br.refText(c2,c3,c4));};br.refText=function(c2,c3,c4){return bj.bindHElem(function(c5){return c5===""?bp.HtmlEmpty:br.refA(bj.htmlText(c5),c5,c4);},c2);};br.refA=function(c2,c3,c4){return bj.a([c2,bj.hrefO(c4),bj.target(c3)]);};br.menuEntry=function(c2){return bj.li([c2]);};br.RaiseTabMoved=function(c2,c3){var c4;c4=br.TabMoved();c4==null?void 0:c4.$0([c2,c3]);};br.TabMoved=function(){b6.$cctor();return b6.TabMoved;};br.set_TabMoved=function(c2){b6.$cctor();b6.TabMoved=c2;};br.setSelectedPanel=function(c2,c3){br.selectedPanels().Set(c3==null?br.selectedPanels().Get().Remove(c2):br.selectedPanels().Get().Add(c2,c3.$0));};br.selectedPanels=function(){b6.$cctor();return b6.selectedPanels;};br.uid2s=function(c2){return"X"+cd.Replace(a.String(c2),"-","");};br.draggedTab=function(){b6.$cctor();return b6.draggedTab;};br.reorderArray=function(c2,c3,c4){return ci.collect(a.id,c4<c3?[cc.array(c2,{$:1,$0:0},{$:1,$0:c4-1}),[ci.get(c2,c3)],cc.array(c2,{$:1,$0:c4},{$:1,$0:c3-1}),cc.array(c2,{$:1,$0:c3+1},{$:1,$0:ci.length(c2)-1})]:[cc.array(c2,{$:1,$0:0},{$:1,$0:c3-1}),cc.array(c2,{$:1,$0:c3+1},{$:1,$0:c4}),[ci.get(c2,c3)],cc.array(c2,{$:1,$0:c4+1},{$:1,$0:ci.length(c2)-1})]);};br.reorderList=function(c2,c3,c4){return c4<c3?ck.append(c2.GetSlice({$:1,$0:0},{$:1,$0:c4-1}),ck.append(ck.ofArray([c2.get_Item(c3)]),ck.append(c2.GetSlice({$:1,$0:c4},{$:1,$0:c3-1}),c2.GetSlice({$:1,$0:c3+1},{$:1,$0:c2.get_Length()-1})))):ck.append(c2.GetSlice({$:1,$0:0},{$:1,$0:c3-1}),ck.append(c2.GetSlice({$:1,$0:c3+1},{$:1,$0:c4}),ck.append(ck.ofArray([c2.get_Item(c3)]),c2.GetSlice({$:1,$0:c4+1},{$:1,$0:c2.get_Length()-1}))));};br.setVar=function(c2,c3){if(!cb.Equals(c2.Get(),c3))c2.Set(c3);};br.addResizeObserver=function(c2,c3){var c4,c5,c6,c7;try{c4=!(!a.ResizeObserver);}catch(c8){c4=false;}if(c4){c5=new a.ResizeObserver(c2);br.set_observers(new ck.T({$:1,$0:c5,$1:br.observers()}));c5.observe(c3);}else{c6=br.dimsChanged(c3);b$.Start((c7=null,b$.Delay(function(){return b$.While(function(){return c3.isConnected;},b$.Delay(function(){return b$.Bind(b$.Sleep(110),function(){return c6()?(c2(),b$.Zero()):b$.Zero();});}));})),null);}};br.dimsChanged=function(c2){var c3;c3=[c2.getBoundingClientRect()];return function(){var c4;c4=c2.getBoundingClientRect();return cb.Equals(br.domRect2Tuple(c3[0]),br.domRect2Tuple(c4))?false:(c3[0]=c4,true);};};br.domRect2Tuple=function(c2){return[c2.top,c2.left,c2.width,c2.height];};br.observers=function(){b6.$cctor();return b6.observers;};br.set_observers=function(c2){b6.$cctor();b6.observers=c2;};br.setLint=function(c2,c3){c2.setOption("lint",{async:1,getAnnotations:cf.CreateFuncWithArgs(c3),container:bj.findRootElement(c2.getWrapperElement())});};br.showHints=function(c2,c3,c4,c5){var c6;c6=bC.New(cf.CreateFuncWithArgs(c3),c4,bj.findRootElement(c2.getWrapperElement()));c6.hint.async=1;c2.showHint(c6);};br.cmPos=function(c2,c3){return bx.New(c2,c3);};br.codeMirrorIncludes=function(){b6.$cctor();return b6.codeMirrorIncludes;};br.hoverable=function(c2){return bu.get_New().Content(c2);};bS=bR.RunNode=cf.Class({createBaseNode:function(){var c2;c2=a.document.createElement("div");c2.setAttribute("id",this.nodeName);a.document.body.appendChild(c2);return c2;},createNode:function(){var c2;c2=a.document.createElement("div");c2.style="height: 100%; width: 100%;";return c2;},RunHtml:function(c2){this.RunDoc((bj.renderDoc())(c2));},RunDoc:function(c2){cJ.Run(this.get_RunNode(),c2);},get_AddBootstrap:function(){var c2;c2=a.document.createElement("div");c2.innerHTML="<script src='http://code.jquery.com/jquery-3.1.1.min.js' type='text/javascript' charset='UTF-8'></script>\n                <script src='http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js' type='text/javascript' charset='UTF-8'></script>\n                <link type='text/css' rel='stylesheet' href='http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css'>\n                <link type='text/css' rel='stylesheet' href='/EPFileX/css/main.css'>\n               ";this.runNode.parentElement.appendChild(c2);return this;},get_RunNode:function(){return this.runNode;}},i,bS);bS.New=cf.Ctor(function(c2,c3){bS.New$1.call(this,"TestNode",c2,c3);},bS);bS.New$1=cf.Ctor(function(c2,c3,c4){var c5,c6,c7,c8,c9;this.nodeName=c2;c5=(c6=a.document.getElementById(this.nodeName),cb.Equals(c6,null)?this.createBaseNode():c6);this.runNode=!(c4==null||c4.$0)?c5:(c7=c5.shadowRoot,cb.Equals(c7,null)?(c8=this.createNode(),(c5.attachShadow({mode:"open"}).appendChild(c8),c9=this.createNode(),c8.appendChild(c9),c9)):c7.firstChild);c3==null||c3.$0?this.runNode.innerHTML="":void 0;},bS);bR.completeJS=function(c2){return"\n          CIPHERSpaceLoadFileGlobalFileRef = null;\n          CIPHERSpaceLoadFile = function (filename, callback) {\n              if (filename.slice(-3) == \".js\" || filename.slice(-4) == \".fsx\" || filename.slice(-3) == \".fs\") { //if filename is a external JavaScript file\n                  var fileRef = null;\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\n                  if (!pre) {\n                      fileRef = document.createElement('script')\n                      fileRef.setAttribute(\"type\", \"text/javascript\")\n                      fileRef.setAttribute(\"src\", filename)\n                  }\n                  else callback();\n              }\n              else if (filename.slice(-4) == \".css\") { //if filename is an external CSS file\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\n                  if (!pre) {\n                      fileRef = document.createElement(\"link\")\n                      fileRef.setAttribute(\"rel\", \"stylesheet\")\n                      fileRef.setAttribute(\"type\", \"text/css\")\n                      fileRef.setAttribute(\"href\", filename)\n                  }\n                  else callback();\n              }\n              else if (filename.slice(-5) == \".html\") { //if filename is an external HTML file\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\n                  if (!pre) {\n                      fileRef = document.createElement(\"link\")\n                      fileRef.setAttribute(\"rel\", \"import\")\n                      fileRef.setAttribute(\"type\", \"text/html\")\n                      fileRef.setAttribute(\"href\", filename)\n                  }\n                  else callback();\n              }\n              if (!!fileRef) {\n                  CIPHERSpaceLoadFileGlobalFileRef = fileRef;\n      \u0009\u0009\u0009fileRef.onload = function () { fileRef.onload = null;  callback(); }\n                  document.getElementsByTagName(\"head\")[0].appendChild(fileRef);\n              }\n          }\n          CIPHERSpaceLoadFiles = function (files, callback) {\n              var newCallback = callback\n              if (!!CIPHERSpaceLoadFileGlobalFileRef && !!(CIPHERSpaceLoadFileGlobalFileRef.onload)) {\n                  var oldCallback = CIPHERSpaceLoadFileGlobalFileRef.onload;\n                  CIPHERSpaceLoadFileGlobalFileRef.onload = null;\n                  newCallback = function () {\n                      callback();\n                      oldCallback();\n                  }\n              }\n              var i = 0;\n              loadNext = function () {\n                  if (i < files.length) {\n                      var file = files[i];\n                      i++;\n                      CIPHERSpaceLoadFile(file, loadNext);\n                  }\n                  else newCallback();\n              };\n              loadNext();\n      \u0009}\n          CIPHERSpaceLoadFiles(['https://code.jquery.com/jquery-3.1.1.min.js'], function() {}); \n      \u0009CIPHERSpaceLoadFilesDoAfter = function (callback) {\n      \u0009\u0009var newCallback = callback\n      \u0009\u0009if (!!CIPHERSpaceLoadFileGlobalFileRef) {\n      \u0009\u0009\u0009if (!!(CIPHERSpaceLoadFileGlobalFileRef.onload)) {\n      \u0009\u0009\u0009\u0009var oldCallback = CIPHERSpaceLoadFileGlobalFileRef.onload;\n      \u0009\u0009\u0009\u0009CIPHERSpaceLoadFileGlobalFileRef.onload = null;\n      \u0009\u0009\u0009\u0009newCallback = function () {\n      \u0009\u0009\u0009\u0009\u0009oldCallback();\n      \u0009\u0009\u0009\u0009\u0009callback();\n      \u0009\u0009\u0009\u0009}\n      \u0009\u0009\u0009}\n      \u0009\u0009}\n      \u0009\u0009else CIPHERSpaceLoadFileGlobalFileRef = {};\n      \u0009\u0009CIPHERSpaceLoadFileGlobalFileRef.onload = newCallback;\n      \u0009}\n      \n      CIPHERSpaceLoadFilesDoAfter(function() { \n        if (typeof IntelliFactory !=='undefined')\n          IntelliFactory.Runtime.Start();\n        for (key in window) { \n          if (key.startsWith(\"StartupCode$\")) \n            //try { window[key].$cctor(); } catch (e) {} \n            window[key].$cctor();\n        } \n      })\n      \n                       "+c2;};bV.NewBrowser={$:3};bV.Tab={$:2};bV.Right={$:1};bV.Below={$:0};bW=bU.ErrCompiler=cf.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return this.$==0&&!this.$1;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return this.$==0?(function(c2){return function(c3){return c2(cg.toSafe(c3));};}(a.id))(this.$0):(function(c2){return function(c3){return c2(b7.p$5(c3));};}(a.id))(this);}},null,bW);bW["Could not open new browser, Popup blocker may be active"]=new bW({$:2});bW["Snippet Missing"]=new bW({$:1});bX.New=function(c2,c3,c4,c5){return{F2:c2,LeftDoubleClick:c3,"Ctrl-Space":c4,".":c5};};b0=bU.Property=cf.Class({setV:function(c2){this.props.set_Item(this.key,c2);this.setDirty();},getV:function(){return this.props.get_Item(this.key);},setK:function(c2){this.props.Add(c2,this.props.get_Item(this.key));this.props.Remove(this.key);this.key=c2;this.setDirty();},getK:function(){return this.key;},Remove:function(){this.props.Remove(this.key);this.setDirty();},get_SetV:function(){var c2;c2=this;return function(c3){c2.setV(c3);};},get_GetV:function(){var c2;c2=this;return function(){return c2.getV();};},get_SetK:function(){var c2;c2=this;return function(c3){c2.setK(c3);};},get_GetK:function(){var c2;c2=this;return function(){return c2.getK();};},get_ValueVar:function(){return new b1.New(this);},get_KeyVar:function(){return this;},get_View:function(){return cH.Const(this.getK());},UpdateMaybe:function(c2){var c3;c3=c2(this.getK());c3==null?void 0:this.setK(c3.$0);},Update:function(c2){this.setK(c2(this.getK()));},Get:function(){return this.getK();},Set:function(c2){this.setK(c2);},SetFinal:function(c2){this.setK(c2);},get_Id:function(){return"?";}},bZ,b0);b0.New=cf.Ctor(function(c2,c3,c4){bZ.New.call(this);this.setDirty=c2;this.props=c3;this.key=c4;},b0);b1=bU.PropValue=cf.Class({get_View:function(){return cH.Const(this.get());},UpdateMaybe:function(c2){var c3;c3=c2(this.get());c3==null?void 0:this.set(c3.$0);},Update:function(c2){this.set(c2(this.get()));},Get:function(){return this.get();},Set:function(c2){this.set(c2);},SetFinal:function(c2){this.set(c2);},get_Id:function(){return"?";}},bZ,b1);b1.New=cf.Ctor(function(c2){bZ.New.call(this);this.get=c2.get_GetV();this.set=c2.get_SetV();},b1);bU["CodeSnippet.propValue"]=function(c2,c3){var c4,c5;return c2.properties.ContainsKey(c3)?{$:1,$0:c2.properties.get_Item(c3)}:(c4=(c5=c2.parent,c5==null?null:b2.FetchO(c5.$0)),c4==null?null:bU["CodeSnippet.propValue"](c4.$0,c3));};b2.FetchByPathO=function(c2){function c3(c5,c6){return ca.tryHead(ca.filter(function(c7){return c7.get_Name()===c6;},c5));}function c4(c5,c6){var c7,c8,c9,c_;c7=(c8=ca.tryHead(c6),c8==null?null:c3(c5,c8.$0));return ca.length(c6)<=1?c7:c7==null?null:(c9=c7.$0,(c_=ca.tail(c6),c4(ca.filter(function(c$){return cb.Equals(c$.parent,{$:1,$0:c9.id});},(bU.codeSnippets())["var"].Get()),c_)));}return c4(ca.filter(function(c5){return c5.parent==null;},(bU.codeSnippets())["var"].Get()),c2);};bU["CodeSnippet.IsDescendantOf"]=function(c2,c3){function c4(c5){var c6,c7,c8;c6=c5.parent;return c6!=null&&c6.$==1&&(c7=c6.$0,cb.Equals(c7,c3)||g.defaultValue(false,(c8=b2.FetchO(c7),c8==null?null:{$:1,$0:c4(c8.$0)})));}return c4(c2);};bU["CodeSnippet.GetCodeFsx"]=function(c2,c3){return(bU["CodeSnippet.GetCodeAndStarts"](c2,c3))[0];};bU["CodeSnippet.GetCodeAndStarts"]=function(c2,c3){return B.CodeAndStarts(c3,bU["CodeSnippet.Predecessors"](c2));};bU["CodeSnippet.Predecessors"]=function(c2,c3){var c4;c4=ci.ofSeq(c2.UniquePredecessors(b2.FetchO));return ci.ofSeq(ca.map(bU["CodeSnippet.get_PrepareSnippet"],ca.filter(function(c5){return ci.contains(c5.id,c4);},(bU.codeSnippets())["var"].Get())));};bU["CodeSnippet.get_PrepareSnippet"]=function(c2,c3){var c4;c4=bU["CodeSnippet.get_Levels"](c2);return B.New(c2.name,cd.Replace(cd.Replace(c2.content,"##"+"FSHARPSTATION_ID"+"##",bU.fsIds()),"##"+"FSHARPSTATION_ENDPOINT"+"##",a.location.href),c2.parent,c2.predecessors,c2.id,c2.expanded,c4[0],c4[1],c2.properties);};bU["CodeSnippet.get_Levels"]=function(c2,c3){function c4(c5,c6){return function(c7){var c8,c9,c_;return g.defaultValue([c5,c6],(c8=(c9=c7.parent,c9==null?null:b2.FetchO(c9.$0)),(c_=c4(c5+1,c6+(c7.properties.ContainsKey("NoIndent")?0:1)),c8==null?null:{$:1,$0:c_(c8.$0)})));};}return(function(c5){return c4(c5[0],c5[1]);}([0,0]))(c2);};b2.New=function(c2,c3,c4,c5,c6,c7){var c8,c9,c_,c$,da;c8=B.New(c3,c7,c4,c5,A.get_New(),true,0,0,new co.New$5());c9=bU.codeSnippets().get_Length();c9===0?bU.codeSnippets().Append(c8):c2===0?(c_=ca.append([c8],(bU.codeSnippets())["var"].Get()),bU.codeSnippets().Set(c_)):c2<c9?(c$=(da=ci.splitAt(c2,ci.ofSeq((bU.codeSnippets())["var"].Get())),da[0].concat([c8].concat(da[1]))),bU.codeSnippets().Set(c$)):bU.codeSnippets().Append(c8);return c8;};b2.New$1=function(c2,c3,c4,c5,c6){return b2.New(bU.codeSnippets().get_Length(),c2,c3,c4,c5,c6);};b2.New$2=function(c2){return b2.New$1("",null,ck.T.Empty,ck.T.Empty,c2);};b2.New$3=function(c2,c3){return b2.New$1("",{$:1,$0:c2},ck.T.Empty,ck.T.Empty,c3);};b2.New$4=function(c2,c3,c4){return b2.New$1("",{$:1,$0:c2},c3,ck.T.Empty,c4);};b2.New$5=function(c2,c3){return b2.New$1("",null,c2,ck.T.Empty,c3);};b2.FetchL=function(c2){return cs.toList(b2.FetchO(c2));};b2.FetchO=function(c2){return bU.codeSnippets().TryFindByKey(c2);};b2.PickIO=function(c2){function c3(c4,c5){return cb.Equals(c5.id,c2);}return bU.tryPickI(function(c4){return c3(c4[0],c4[1]);},(bU.codeSnippets())["var"].Get());};bU.tryPickI=function(c2,c3){return ca.tryHead(ca.filter(c2,ca.indexed(c3)));};bU.fsIds=function(){b6.$cctor();return b6.fsIds;};bU.codeSnippets=function(){b6.$cctor();return b6.codeSnippets;};b4=b3.Babel=cf.Class({},i,b4);b4.New=cf.Ctor(function(){},b4);b5=b3.Fable=cf.Class({},i,b5);b5.New=cf.Ctor(function(){},b5);b3.fableTranslate=function(c2){var c3;c3=q.wrapper();return c3.Run(c3.Delay(function(){var c4;b3.loadReferences().f();return c3.Bind$2((c4=null,b$.Delay(function(){return b$.While(function(){return cS.getOwnPropertyNames(a.metadata).length<ci.length(b3.references());},b$.Delay(function(){return b$.Bind(b$.Sleep(200),function(){return b$.Return(null);});}));})),function(){var c5,c6,c7,c8,c9;c5=b3.getChecker().f();c6=cT.makeCompiler([["Microsoft.FSharp.Core.ExtraTopLevelOperators.PrintFormatLine","FSSGlobal.FSharpStation.FableModule.ToConsole($0)"]]);c7="stdin.fsx";c8=ct.parse(cT.convertToJson(cT.compileAst(c6,cT.parseFSharpProject(c5,c6,c7,c2),c7)));c9=cS.create(null);c9.plugins=[a.babelPlugins.transformMacroExpressions,a.babelPlugins.removeUnneededNulls,"transform-es2015-modules-amd"];c9.presets=[];c9.filename=c7;c9.babelrc=false;return c3.Return(cd.Replace(cd.Replace(cU.transformFromAst(c8,null,c9).code,"define([","require(["),"\"use strict\";","\"use strict\"; try { exports = exports || {}; } catch (err) {}"));});}));};b3.ToConsole=function(c2){cj.log(c2);return c2.cont(b3.addOutMsg());};b3.addOutMsg=function(){b6.$cctor();return b6.addOutMsg;};b3.set_addOutMsg=function(c2){b6.$cctor();b6.addOutMsg=c2;};b3.getChecker=function(){b6.$cctor();return b6.getChecker;};b3.loadReferences=function(){b6.$cctor();return b6.loadReferences;};b3.references=function(){b6.$cctor();return b6.references;};bT.FSharpStationClient$6709$173=a.id;bT.FSharpStationClient$6708$212=function(c2,c3){return function(c4){bk.sink(c3(c4),c2);};};bT.FSharpStationClient$6708$173=a.id;bT.FSharpStationClient$6398$68=function(c2,c3,c4){return function(){return function(){c2.Add("","1");c3();return c4.Set(null);};};};bT.FSharpStationClient$6395$68=function(c2,c3){return function(){return function(){c2.Remove();return c3.Set(null);};};};bT.FSharpStationClient$6246$44=cf.Curried3(function(c2,c3,c4){return c2();});bT.FSharpStationClient$6240$39=function(c2,c3){return function(){return function(){return c2(c3.editorO.$0);};};};bT.FSharpStationClient$5896$61=cf.Curried3(function(c2,c3,c4){c3.value="";});bT.FSharpStationClient$5895$61=cf.Curried3(function(c2,c3,c4){return c2(c3);});bT.FSharpStationClient$5778$48=function(c2){return function(c3){c3.scrollTop=c2[0];};};bT.FSharpStationClient$5777$48=cf.Curried3(function(c2,c3,c4){c2[0]=c3.scrollTop;});bT.FSharpStationClient$5754$57=function(c2,c3,c4){return function(){return function(){return bk.iter(c2(c3),c4);};};};bT.FSharpStationClient$5750$58=function(c2,c3){return function(){return function(){return c3.Set(c2.id);};};};bT.FSharpStationClient$5742$57=function(c2,c3,c4){return function(){return function(){return c2?c3(c4):null;};};};bT.FSharpStationClient$5738$50=function(c2,c3,c4){return function(){return function(c5){c5.preventDefault();return(c2(c3.id))(c4[0]);};};};bT.FSharpStationClient$5737$50=function(c2,c3){return function(){return function(){c2[0]=c3.id;};};};bT.FSharpStationClient$5736$50=cf.Curried3(function(c2,c3,c4){return c4.preventDefault();});bT.FSharpStationClient=function(c2){var c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4,e5,e6;function e7(gV,gW,gX,gY){return gW(gY)==null?bZ.Lens(c3,function(){return gV;},function(){return"";}):gX(gY);}function e8(){c7.Set(null);}function e9(gV){function gW(gY){return gY.get_Name();}function gX(gY,gZ){return B.New(gZ,gY.content,gY.parent,gY.predecessors,gY.id,gY.expanded,gY.level,gY.levelCode,gY.properties);}return e7("",function(gY){return bU.codeSnippets().TryFindByKey(gY);},function(gY){return bU.codeSnippets().LensInto(gW,gX,gY);},gV);}function e_(gV){function gW(gY){return gY.content;}function gX(gY,gZ){return B.New(gY.name,gZ,gY.parent,gY.predecessors,gY.id,gY.expanded,gY.level,gY.levelCode,gY.properties);}return e7("",function(gY){return bU.codeSnippets().TryFindByKey(gY);},function(gY){return bU.codeSnippets().LensInto(gW,gX,gY);},gV);}function e$(gV){var gW;gW=bU["CodeSnippet.propValue"](gV,"CSS");return gW==null?null:{$:1,$0:a.id(gW.$0)};}function fa(gV){return g.defaultValue("",gV);}function fb(gV){var gW;gW=bU["CodeSnippet.propValue"](gV,"CSSLink");return gW==null?null:{$:1,$0:a.id(gW.$0)};}function fc(gV){return g.defaultValue("",gV);}function fd(gV){var gW;gW=bU["CodeSnippet.propValue"](gV,"Mode");return gW==null?null:{$:1,$0:a.id(gW.$0)};}function fe(gV){return g.defaultValue("fsharp",gV);}function ff(gV){var gW;gW=bU["CodeSnippet.propValue"](gV,"Theme");return gW==null?null:{$:1,$0:a.id(gW.$0)};}function fg(gV){return g.defaultValue("",gV);}function fh(gV){var gW;gW=bU["CodeSnippet.propValue"](gV,"Layout");return gW==null?null:{$:1,$0:a.id(gW.$0)};}function fi(gV){return g.defaultValue("",gV);}function fj(gV){var gW;gW=bU["CodeSnippet.propValue"](gV,"LayoutJS");return gW==null?null:{$:1,$0:a.id(gW.$0)};}function fk(gV){return g.defaultValue("",gV);}function fl(gV){var gW,gX,gY,gZ;function g0(g2){var g3;g3=bU["CodeSnippet.propValue"](g2,gV);return g3==null?null:{$:1,$0:a.id(g3.$0)};}function g1(g2){return g.defaultValue("",g2);}gW=bk.map((gX=(gY=function(g2){return g2==null?null:g0(g2.$0);},function(g2){return gY(b2.FetchO(g2));}),function(g2){return g1(gX(g2));}),c4);gZ=[bZ.Create$1(null)];cH.Sink(function(g2){if(!cb.Equals(gZ[0].Get(),g2))gZ[0].Set(g2);},bk.toView(gW));return new bk({$:1,$0:gZ[0]});}function fm(gV,gW){return gW===""?gV:gW!=="0";}function fn(){dP=false;dQ.Set(true);}function fo(){dJ=null;fn();}function fp(){fo();dK.ClearCache();e8();}function fq(){dK.ClearCache();dQ.Set(false);dJ=null;}function fr(gV,gW){var gX,gY,gZ;return!gW?null:(gX=(gY=gV.Get(),(gZ=a.String(gW),gY===null?gZ:gY===""?gZ:gZ===null?gY:gZ===""?gY:gY+"\n"+gZ)),gX!==gV.Get()?gV.Set(gX):null);}function fs(gV){dO.Set(gV);}function ft(gV){fr(dO,gV);}function fu(gV){fr(dN,gV);}function fv(){var gV;gV=b2.FetchO(c4.Get());gV==null?void 0:dL.Set(bU["CodeSnippet.GetCodeFsx"](gV.$0,true));}function fw(gV,gW){var gX,gY,gZ,g0,g1,g2,g3,g4;function g5(g6){function g7(g8,g9){return cb.Equals(g9.id,g6);}return function(g8){return bU.tryPickI(function(g9){return g7(g9[0],g9[1]);},g8);};}gX=ci.partition(function(g6){return cb.Equals(g6.id,gW)||bU["CodeSnippet.IsDescendantOf"](g6,gW);},ci.ofSeq((bU.codeSnippets())["var"].Get()));gY=gX[1];gZ=gX[0];g0=(g5(gW))(gZ);g1=(g5(gV))(gY);g0!=null&&g0.$==1?g1!=null&&g1.$==1?(g2=g1.$0[0],g3=g1.$0[1],g4=ci.collect(a.id,[cc.array(gY,{$:1,$0:0},{$:1,$0:g2-1}),gZ,cc.array(gY,{$:1,$0:g2},null)]),bU.codeSnippets().Set(g4),bU.codeSnippets().UpdateBy(function(g6){return{$:1,$0:B.New(g6.name,g6.content,g3.parent,g6.predecessors,g6.id,g6.expanded,g6.level,g6.levelCode,g6.properties)};},g0.$0[1].id)):void 0:void 0;return fp();}function fx(){var gV,gW,gX,gY;gV=b2.PickIO(c4.Get());gV==null?void 0:(gW=gV.$0,gX=gW[0],gY=gW[1],function(gZ,g0){var g1;while(true){if(g0<0)return null;else if(gZ((g1=(bU.codeSnippets())["var"].Get(),(function(g2){return function(g3){return ca.nth(g2,g3);};}(g0))(g1))))return null;else g0=g0-1;}}(function(gZ){return cb.Equals(gZ.parent,gY.parent)&&(bU.codeSnippets().UpdateBy(function(g0){return{$:1,$0:B.New(g0.name,g0.content,{$:1,$0:gZ.id},g0.predecessors,g0.id,g0.expanded,g0.level,g0.levelCode,g0.properties)};},gY.id),true);},gX-1),fp());}function fy(){var gV,gW,gX,gY,gZ;gV=b2.FetchO(c4.Get());gV==null?void 0:(gW=gV.$0,gX=(gY=(gZ=gW.parent,gZ==null?null:b2.FetchO(gZ.$0)),gY==null?null:gY.$0.parent),bU.codeSnippets().UpdateBy(function(g0){return{$:1,$0:B.New(g0.name,g0.content,gX,g0.predecessors,g0.id,g0.expanded,g0.level,g0.levelCode,g0.properties)};},gW.id),fp());}function fz(gV){var gW;gW=q.wrapper();return gW.Run(gW.Delay(function(){return gW.Bind$1(m.fromOption(bW["Snippet Missing"],gV),function(gX){var gY;dO.Set("Compiling to JavaScript...");dM.Set("");gY=bU["CodeSnippet.GetCodeFsx"](gX,true);dL.Set(gY);return gW.Bind$2(bi.translateAR(gY,false),function(gZ){return gW.Bind$1(gZ,function(g0){var g1;g1=bR.completeJS(g0);dM.Set(g1);ft("Compiled!");return gW.Return(g1);});});});}));}function fA(gV){var gW;gW=a.open.apply(a,[gV]);return cb.Equals(gW,null)?m.fail(bW["Could not open new browser, Popup blocker may be active"]):m.succeed(gW);}function fB(gV,gW){try{return gV["eval"].apply(gV,[gW]);}catch(gX){((function(gY){return function(gZ){return gY(cg.prettyPrint(gZ));};}(function(gY){cj.log(gY);}))(gX));return(function(gY){return function(gZ){return gY(cg.prettyPrint(gZ));};}(a.id))(gX);}}function fC(gV){try{gV.focus.apply(gV,[]);}catch(gW){((function(gX){return function(gY){return gX(cg.prettyPrint(gY));};}(function(gX){cj.log(gX);}))(gW));}}function fD(gV,gW){var gX;gX=q.wrapper();return gX.Run(gX.Delay(function(){return gX.Bind$1(m.tryProtection(),function(){return gX.Bind$1(fA(gV),function(gY){fC(gY);return gX.Bind$2(b$.Sleep(800),function(){return gX.Return(fB(gY,gW));});});});}));}function fE(){return b$.FromContinuations(function(gV,gW){var gX;try{gX=bj.createIFrame(gV);return(new bS.New(null,null)).RunHtml(gX);}catch(gY){return gW(gY);}});}function fF(gV){var gW;gW=q.wrapper();return gW.Run(gW.Delay(function(){return gW.Bind$1(m.tryProtection(),function(){return gW.Bind$2(fE(),function(gX){var gY;gY=gX.contentWindow;gY.document.body.style.margin="0px";return gW.Return(fB(gY,gV));});});}));}function fG(gV,gW,gX){var gY;gY=q.wrapper();return gY.Run(gY.Delay(function(){return gY.Bind$3(fz(gX),function(gZ){dO.Set("Running JavaScript...");return gY.Bind$3(gW.$==3?fD(gV,gZ):fF(gZ),function(g0){ft(g0);ft("Done!");return gY.Return([gW,g0]);});});}));}function fH(){return b2.FetchO(c4.Get());}function fI(gV){var gW;gW=q.wrapper();return gW.Run(gW.Delay(function(){dL.Set(gV);return gW.Bind$2(bg.evaluateAR(bU.fsIds(),a.location.href,true,gV),function(gX){return gW.Bind$1(gX,function(){return gW.Return("");});});}));}function fJ(gV){var gW;gW=q.wrapper();return gW.Run(gW.Delay(function(){return gW.Bind$1(m.fromOption(bW["Snippet Missing"],gV),function(gX){return gW.Bind$3(fI(bU["CodeSnippet.GetCodeFsx"](gX,true)),function(gY){return gW.Bind$2((new cG.New()).Async("FSharpStation:FSSGlobal.FsEvaluator+Evaluator.addPresence:1381500690",[(function(gZ){return function(g0){return gZ(b7.p$6(g0));};}(a.id))(gX.id),"ok"]),function(){return gW.Return(gY);});});});}));}function fK(gV,gW,gX){var gY;gY=q.wrapper();return gY.Run(gY.Delay(function(){dO.Set(gV);return gY.Bind$3(gX(),function(gZ){ft(gZ);ft(gW);return gY.Return(gZ);});}));}function fL(gV){return fK("Evaluating F# code...","",function(){return fJ(gV);});}function fM(gV){return fK("Evaluating F# code...","",function(){return fI(gV);});}function fN(gV){var gW;gW=q.wrapper();return gW.Run(gW.Delay(function(){dL.Set(gV);return gW.Bind$3(b3.fableTranslate(gV),function(gX){dM.Set(gX);a["eval"](gX);return gW.Return("");});}));}function fO(gV){var gW;gW=q.wrapper();return gW.Run(gW.Delay(function(){return gW.Bind$1(m.fromOption(bW["Snippet Missing"],gV),function(gX){return gW.ReturnFrom(fN(bU["CodeSnippet.GetCodeFsx"](gX,false)));});}));}function fP(gV){return fK("Running Fable...","Done!",function(){return fO(gV);});}function fQ(gV){return fK("Running Fable...","Done!",function(){return fN(gV);});}function fR(gV){var gW;gW=fH();return(dS(gV))(gW);}function fS(gV,gW){return g.defaultValue(false,gW==null?null:{$:1,$0:ck.contains(gV,gW.$0.predecessors)});}function fT(gV,gW){return gW.Contains(gV);}function fU(gV,gW){var gX,gY,gZ,g0;return gW==null?null:(gX=gW.$0,cb.Equals(gX,gV)||fT(gX.id,new cV.New$2(gV.UniquePredecessors(b2.FetchO)))?null:(gY=(ck.contains(gV.id,gX.predecessors)?(gZ=(g0=gV.id,function(g1){return!cb.Equals(g0,g1);}),function(g1){return ck.filter(gZ,g1);}):function(g1){return new ck.T({$:1,$0:gV.id,$1:g1});})(gX.predecessors),(bU.codeSnippets().UpdateBy(function(g1){return{$:1,$0:B.New(g1.name,g1.content,g1.parent,gY,g1.id,g1.expanded,g1.level,g1.levelCode,g1.properties)};},gX.id),fp())));}function fV(gV){bU.codeSnippets().UpdateBy(function(gW){return{$:1,$0:B.New(gW.name,gW.content,gW.parent,gW.predecessors,gW.id,!gW.expanded,gW.level,gW.levelCode,gW.properties)};},gV.id);e8();}function fW(gV,gW,gX){var gY,gZ,g0,g1;return bu.get_New().Content$1([bj["class"]("code-editor-list-tile"),bj.classIf("selected",bk.map((gY=gX.id,function(g2){return cb.Equals(gY,g2);}),c4)),bj.classIf("direct-predecessor",bk.map((gZ=gX.id,function(g2){return fS(gZ,g2);}),c8)),bj.classIf("indirect-predecessor",bk.map((g0=gX.id,function(g2){return fT(g0,g2);}),dU)),bj.draggable("true"),new bp({$:8,$0:cM.HandlerImpl("dragover",function(){return function(g2){return g2.preventDefault();};})}),new bp({$:8,$0:cM.HandlerImpl("drag",function(){return function(){dR[0]=gX.id;};})}),new bp({$:8,$0:cM.HandlerImpl("drop",function(){return function(g2){g2.preventDefault();return fw(gX.id,dR[0]);};})}),bj.span([bj["class"]("node"),bj.classIf("parent",gV),bj.classIf("expanded",gW),new bp({$:8,$0:cM.HandlerImpl("click",function(){return function(){return gV?fV(gX):null;};})}),bj.title(gV?gW?"collapse":"expand":""),bj.htmlText(gV?gW?"-":"+":"")]),bj.div([bj["class"]("code-editor-list-text"),bj.style1("text-indent",(g1=(bU["CodeSnippet.get_Levels"](gX))[0],(function(g2){return function(g3){return g2(a.String(g3)+"em");};}(a.id))(g1))),bj.style("white-space: pre"),bj.htmlText(bk.map2(function(g2){return function(g3){return z.snippetName(g2,g3);};},e9(gX.id),e_(gX.id))),new bp({$:8,$0:cM.HandlerImpl("click",function(){return function(){return c4.Set(gX.id);};})})]),bj.span([bj["class"]("predecessor"),bj.title("toggle predecessor"),new bp({$:8,$0:cM.HandlerImpl("click",function(){return function(){return bk.iter(function(g2){return fU(gX,g2);},c8);};})}),bj.htmlText("X")])]);}function fX(gV,gW){return!gW?gV:gW;}function fY(gV){return new A({$:0,$0:!gV?"00000000-0000-0000-0000-000000000000":gV.Item});}function fZ(gV){return!gV?null:{$:1,$0:fY(gV)};}function f0(gV){var gW;function gX(gZ,g0){gW.Add(gZ,g0);}function gY(gZ,g0){return[gZ,g0];}gW=new co.New$5();return!gV?gW:(ca.iter(function(gZ){return gX(gZ[0],gZ[1]);},ci.map(function(gZ){return gY(gZ[0],gZ[1]);},cX.GetFields(gV))),gW);}function f1(gV){var gW;try{gW=ct.parse(gV);((function(gX){return function(gY){return gX(cg.prettyPrint(gY));};}(function(gX){cj.log(gX);}))(gW.length));return ci.choose(function(gX){return!gX?null:{$:1,$0:B.New(fX("",gX.name),fX("",gX.content),fZ(gX.parent),ck.ofSeq(ci.map(fY,fX([],gX.predecessors))),fY(gX.id),fX(false,gX.expanded),fX(0,gX.level),fX(0,gX.levelCode),f0(gX.properties))};},gW);}catch(gX){return[];}}function f2(){var gV,gW,gX,gY;function gZ(g0,g1){var g2;return g.defaultValue(g1,(g2=ca.tryItem(g1,(bU.codeSnippets())["var"].Get()),g2==null?null:{$:1,$0:(bU["CodeSnippet.get_Levels"](g2.$0))[0]<=g0?g1:gZ(g0,g1+1)}));}c4.Set(g.defaultWith(function(){return b2.New$2("");},(gV=b2.PickIO(c4.Get()),gV==null?null:{$:1,$0:(gW=gV.$0,(gX=gW[0],(gY=gW[1],b2.New(gZ((bU["CodeSnippet.get_Levels"](gY))[0],gX+1),"",gY.parent,ck.T.Empty,ck.T.Empty,""))))})).id);fo();e8();}function f3(){var gV,gW;gV=b2.FetchO(c4.Get());gV==null?void 0:(gW=gV.$0,a.confirm((function(gX){return function(gY){return gX("Do you want to delete "+cg.toSafe(gY)+"?");};}(a.id))(gW.get_Name()))?(c4.Set(A.get_New()),bU.codeSnippets().Remove(gW),fo(),e8()):void 0);}function f4(gV){return ca.last(cd.SplitChars(gV,["/","\\"],0));}function f5(gV,gW){var gX,gY;gX=gV.files;return gX.length>0?(gY=new a.FileReader(),(gY.onload=function(gZ){return gW(gZ.target.result);},gY.readAsText(gX.item(0)))):null;}function f6(gV){var gW;try{gW=f1(gV);bU.codeSnippets().Set(gW);fq();e8();}catch(gX){a.alert(a.String(gX));}}function f7(gV){if(!dQ.Get()||a.confirm("Changes have not been saved, do you really want to load?"))f5(bj.findRootElement(gV).querySelector("#"+dX),f6);}function f8(){var gV,gW,gX,gY;gV=(gW=ci.ofSeq((bU.codeSnippets())["var"].Get()),ct.stringify(((cw.EncodeArray(b8.j$7))())(gW)));gX=(gY=f4(dW.Get()),gY===""?"snippets.fsjson":gY);a.saveAs(new a.Blob([gV],{type:"text/plain;charset=utf-8"}),gX);fq();}function f9(gV,gW){return bj.findRootElement(gV).querySelector("#"+dX).click();}function f_(){return d2==="a"?"b":"a";}function f$(gV){return gV+d1;}function ga(gV,gW){var gX,gY,gZ,g0,g1,g2,g3,g4,g5,g6;gX=dJ!=null&&dJ.$==1&&((gZ=dJ.$0[0],(g0=dJ.$0[1],cb.Equals(gZ,gV.id)&&cb.Equals(g0,gW)))&&(gY=[dJ.$0[1],dJ.$0[0],dJ.$0[2]],true))?[gY[2],bU["CodeSnippet.get_PrepareSnippet"](gV)]:(g1=bU["CodeSnippet.Predecessors"](gV),(g2=ci.length(g1)===1?null:{$:1,$0:B.ReducedCode(gW,cc.array(g1,{$:1,$0:0},{$:1,$0:ci.length(g1)-2}))},(g3=ci.get(g1,ci.length(g1)-1),(dJ={$:1,$0:[g3.id,gW,g2]},[g2,g3]))));g4=B.ReducedCode(gW,[gX[1]]);g5=g.defaultValue(g4,(g6=gX[0],g6==null?null:{$:1,$0:(function(g7){var g8,g9,g_,g$,ha,hb;g8=g7[0];g9=g7[1];g_=g7[2];g$=g7[3];ha=g7[4];hb=g7[5];return function(hc){return B.AddSeps(g8,g9,g_,g$,ha,hb,hc[0],hc[1],hc[2],hc[3],hc[4],hc[5]);};}(g6.$0))(g4)}));return B.FinishCode(gW,g5[0],g5[1],g5[2],g5[3],g5[4],g5[5]);}function gb(){var gV,gW;gV=d3[0];gV==null?void 0:gV.$0.Cancel$1();d3[0]={$:1,$0:new cp.New()};b$.Start((gW=null,b$.Delay(function(){var gX,gY;gX=b2.FetchO(c4.Get());return gX!=null&&gX.$==1?(gY=gX.$0,(dN.Set("Parsing...\n"+f.skipFirstLine(dN.Get())),b$.Bind(b$.Sleep(500),function(){var gZ,g0;gZ=f_();g0=ga(gY,false);return b$.Bind(d0.Parse$1(f$(gZ),g0[0],g0[1]),function(g1){d3[0]=null;dP=true;d2=gZ;dN.Set("Parsed!\n"+g1);return b$.Zero();});}))):b$.Zero();})),{$:1,$0:d3[0].$0});}function gc(gV){gb();}function gd(gV){var gW;gW=null;return b$.Delay(function(){return!dP?b$.Return(true):b$.Bind(d0.MustParse(f$(d2),gV.get_NameSanitized()),function(gX){return b$.Return(gX);});});}function ge(gV){var gW;gW=null;return b$.Delay(function(){return b$.Bind(d4,function(gX){var gY;return gX?b$.Zero():(gY=b2.FetchO(c4.Get()),gY!=null&&gY.$==1?b$.Bind(gd(gY.$0),function(gZ){return gZ?(gc(gV),b$.Zero()):b$.Zero();}):b$.Zero());});});}function gf(gV,gW){var gX,gY;gX=c.REGEX("([a-zA-Z_]\\w*)$","g",cd.Substring(gV,0,gW));return gX!=null&&gX.$==1?(gY=gX.$0,!cb.Equals(gY,null)&&gY.length===1)?ci.get(gX.$0,0):"":"";}function gg(gV,gW){var gX,gY;gX=c.REGEX("^([a-zA-Z_]\\w*)","g",gV.substring(gW));return gX!=null&&gX.$==1?(gY=gX.$0,!cb.Equals(gY,null)&&gY.length===1)?ci.get(gX.$0,0):"":"";}function gh(gV){var gW;b$.Start((gW=null,b$.Delay(function(){return b$.Bind(d4,function(gX){var gY,gZ;return gX?b$.Zero():(gY=b2.FetchO(c4.Get()),gY!=null&&gY.$==1?(gZ=gY.$0,b$.Bind(ge(false),function(){var g0,g1,g2,g3,g4;g0=gV.getCursor();g1=gV.getLine(g0.line);g2=cd.length(gf(g1,g0.ch));g3=cd.length(gg(g1,g0.ch));g4=g2===0&&g3===0?2:g3;return b$.Bind(d0.ToolTip(f$(d2),g0.line+1,g0.ch+1,gZ.get_NameSanitized()),function(g5){var g6;fu(((((g6=(cf.Curried(function(g7,g8,g9,g_,g$){return g7("InfoFSharp \""+cg.toSafe(g8)+" "+("("+cg.prettyPrint(g9[0])+", "+cg.prettyPrint(g9[1])+")")+" - "+("("+cg.prettyPrint(g_[0])+", "+cg.prettyPrint(g_[1])+")")+" "+cg.toSafe(g$)+" \"");},5))(a.id),function(g7){var g8;g8=g6(g7);return function(g9){var g_;g_=g8([g9[0],g9[1]]);return function(g$){return g_([g$[0],g$[1]]);};};})(gZ.get_NameSanitized()))([g0.line+1,g0.ch-g2+1]))([g0.line+1,g0.ch+g4+1]))(cd.Replace(g5,"\"","''")));return b$.Zero();});})):b$.Zero());});})),null);}function gi(gV){return gV==="C"?"class":gV==="Cn"?"Constant":gV==="D"?"delegate":gV==="E"?"enum":gV==="P"?"property":gV==="e"?"event":gV==="X"?"exception":gV==="F"?"field":gV==="I"?"interface":gV==="M"?"function":gV==="N"?"module":gV==="S"?"struct":gV==="T"?"type":gV==="V"?"Variable":gV;}function gj(gV,gW,gX){var gY;d$((gY=null,b$.Delay(function(){return b$.Bind(d4,function(gZ){var g0,g1,g2,g3;((function(g4){return function(g5){return g4("getHints (Complete) "+cg.prettyPrint(g5));};}(function(g4){cj.log(g4);}))(gZ));return gZ?b$.Zero():(g0=b2.FetchO(c4.Get()),g0!=null&&g0.$==1?(g1=gV.getCursor(),(g2=gV.getLine(g1.line),(g3=gf(g2,g1.ch),b$.Bind(d0.Complete(f$(d2),g2+"a",g1.line+1,g1.ch+1,g0.$0.get_NameSanitized()),function(g4){function g5(g6,g7,g8,g9){return bA.New(g7,(((cf.Curried3(function(g_,g$,ha){return g_(cd.PadRight(cg.toSafe(g$),40)+" "+cd.PadLeft(cg.toSafe(ha),20));}))(a.id))(g6))(gi(g9)),g8);}gW(bB.New(ci.map(function(g6){return g5(g6[0],g6[1],g6[2],g6[3]);},g4),bx.New(g1.line,g1.ch-g3.length),g1));return b$.Zero();})))):b$.Zero());});})));}function gk(gV){var gW,gX,gY;gW=(gX=gV.parent,gX==null?null:b2.FetchO(gX.$0));gW==null?void 0:(gY=gW.$0,gk(gY),!gY.expanded?fV(gY):void 0);}function gl(gV,gW,gX){var gY;return b$.Start((gY=null,b$.Delay(function(){var gZ;c4.Set(gV);gZ=b2.FetchO(gV);gZ==null?void 0:gk(gZ.$0);return b$.Bind(b$.Sleep(200),function(){var g0,g1;g0=ee.editorO;g0==null?void 0:(g1=g0.$0,g1.setCursor(gW-1,gX-1),g1.focus());return b$.Zero();});})),null);}function gm(gV){var gW,gX,gY,gZ,g0;gW=c.REGEX("([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}).+?\\((\\d+)\\,\\s*(\\d+)\\)","",gV);gW!=null&&gW.$==1?(gX=gW.$0,!cb.Equals(gX,null)&&gX.length===4)?(gY=ci.get(gW.$0,3),gZ=ci.get(gW.$0,1),g0=ci.get(gW.$0,2),gl(new A({$:0,$0:gZ}),a.Number(g0),a.Number(gY))):void 0:void 0;}function gn(){var gV;b$.Start((gV=null,b$.Delay(function(){var gW,gX,gY,gZ,g0;gW=b2.FetchO(c4.Get());gX=ee.editorO;return(gX!=null&&gX.$==1?gW!=null&&gW.$==1?(gY=[gW.$0,gX.$0],false):true:true)?b$.Zero():(gZ=gY[1],(g0=gZ.getCursor(),(gZ.getLine(g0.line),b$.Bind(d0.FindDecl(f$(d2),g0.line+1,g0.ch+1,gY[0].get_NameSanitized()),function(g1){var g2;return g1.$==9?(g2=g1.$0,(gm(((((((cf.Curried(function(g3,g4,g5,g6,g7,g8){return g3(cg.toSafe(g4)+" ("+a.String(g5)+", "+a.String(g6)+") - ("+a.String(g7)+", "+a.String(g8)+")");},6))(a.id))(g2.File))(g2.Line))(g2.Column))(g2.Line))(g2.Column)),b$.Zero())):g1.$==1?(a.alert((function(g3){return function(g4){return g3(b_.p(g4));};}(a.id))(g1.$0)),b$.Zero()):(a.alert((function(g3){return function(g4){return g3(b7.p$7(g4));};}(a.id))(g1)),b$.Zero());}))));})),null);}function go(){var gV;gV=ee.editorO;gV==null?void 0:gV.$0.refresh();}function gp(gV){var gW;b$.Start((gW=null,b$.Delay(function(){return b$.Bind(b$.Sleep(gV),function(){go();return b$.Zero();});})),null);}function gq(){dQ.Set(true);}function gr(gV,gW){return new b0.New(gq,gV,gW);}function gs(gV,gW,gX){return gr(gV,gW).get_ValueVar().Set(gX);}function gt(gV,gW){return bj.table(ck.ofSeq(ca.delay(function(){return ca.append([bj.thead([bj.th([bj.htmlText("Property"),bj.style("padding-right:10px")]),bj.th([bj.htmlText("Value")])])],ca.delay(function(){return ca.append(ca.map(function(gX){var gY;gY=gr(gW,gX);return bj.tr([bj.td([bj.someElt(cJ.Input([],gY.get_KeyVar()))]),bj.td([bj.someElt(cJ.InputArea([bj.atr("style","height: 1.5em")],gY.get_ValueVar()))]),br.hoverable(bj.td([bj.title("remove"),bj.style(" cursor: pointer "),bj.htmlText("x"),new bp({$:8,$0:cM.HandlerImpl("click",function(){return function(){gY.Remove();return el.Set(null);};})})]))]);},ca.sort(gW.get_Keys())),ca.delay(function(){return[bj.tr([br.hoverable(bj.td([bj.htmlText("Add..."),new bp({$:8,$0:cM.HandlerImpl("click",function(){return function(){gW.Add("","1");gq();return el.Set(null);};})})])),bj.td([bj.htmlText("")])])];}));}));})));}function gu(gV){function gW(gY){return gY.properties;}function gX(gY,gZ){return B.New(gY.name,gY.content,gY.parent,gY.predecessors,gY.id,gY.expanded,gY.level,gY.levelCode,gZ);}return e7(new co.New$5(),function(gY){return bU.codeSnippets().TryFindByKey(gY);},function(gY){return bU.codeSnippets().LensInto(gW,gX,gY);},gV);}function gv(gV){return new bk({$:1,$0:gV});}function gw(gV,gW,gX,gY){return q.start(ft,q.map(a.ignore,gV(gW)));}function gx(gV,gW,gX,gY){function gZ(g0,g1){if(g0==null)ft("Failed!\n"+g1);else if(g0.$0[0].$==0){ft(g1);en.Set(null);}else ft(g1);}return q.startV(function(g0){return gZ(g0[0],g0[1]);},gV(gW));}function gy(gV,gW,gX){function gY(gZ){return(gV(gX))(gZ);}return cf.Curried(gw,2,[gY,gW]);}function gz(gV,gW,gX){function gY(gZ){return(gV(gX))(gZ);}return cf.Curried(gx,2,[gY,gW]);}function gA(gV){var gW,gX,gY;gW=gV.parms;return gW!=null&&gW.$==1&&((gY=gW.$0,!cb.Equals(gY,null)&&gY.length===1)&&(gX=ci.get(gW.$0,0),true))?b2.FetchByPathO(cd.SplitChars(gX,["/"],0)):fH();}function gB(gV,gW){var gX;gX=q.wrap();return gX.Run(gX.Delay(function(){return gX.Bind$2(bk.getAsync(gV.text),function(gY){var gZ,g0,g1,g2,g3,g4,g5,g6,g7,g9,g_,g$,ha,hb;function g8(hc){return g9==null?null:bU["CodeSnippet.propValue"](g9.$0,hc);}fs(gY+"...");g9=fH();g_=gW?g.defaultValue("",(g0=g8("open"),g0==null?null:{$:1,$0:g0.$0+"\n"})):"";g$=cY.Create(function(){return g.defaultValue("${parm}() |> printfn \"%A\"",g8("action-template"));});ha=(g6=gV.parms,g6==null?null:{$:1,$0:ci.map(a.id,g6.$0)});switch(ha!=null&&ha.$==1?(hb=ha.$0,!cb.Equals(hb,null)&&hb.length===2?ci.get(ha.$0,0)==="Code"?(g7=ci.get(ha.$0,1),0):ci.get(ha.$0,0)==="Property"?(g7=ci.get(ha.$0,1),1):2:2):2){case 0:g5={$:1,$0:g7};break;case 1:g5=g8(g7);break;case 2:g5=null;break;}g4=g5==null?g8(gY):g5;g1=(g2=g.defaultWith(function(){return((cS.constructor("return function(parm) { return `"+g$.f()+"`}"))())(gY);},g4),cd.StartsWith(g2,"////")?g2:g_+g2);return g9!=null&&g9.$==1?gX.Bind$2((new cG.New()).Async("FSharpStation:FSSGlobal.FsEvaluator+Evaluator.getPresence:1818471758",[bh.extractConfig(g1),(function(hc){return function(hd){return hc(b7.p$6(hd));};}(a.id))(g9.$0.id)]),function(hc){return cb.Equals(hc,{$:1,$0:"ok"})?gX.Return(g1):gX.Bind$3(fJ(g9),function(){return gX.Return(g1);});}):gX.Return(g1);});}));}function gC(gV,gW){return q.bind(fM,gB(gV,true));}function gD(gV,gW){return q.bind(fQ,gB(gV,false));}function gE(gV,gW){return fL(gA(gV));}function gF(gV,gW){return fP(gA(gV));}function gG(gV,gW){var gX;gX=gA(gV);return(dS(gW))(gX);}function gH(gV,gW){var gX;gX=q.wrapper();return gX.Run(gX.Delay(function(){return gX.Bind$1(m.tryProtection(),function(){var gY,gZ,g0,g1,g2;return gX.Bind$1((gY=gV.parms,gY!=null&&gY.$==1&&((g0=gY.$0,!cb.Equals(g0,null)&&g0.length===3)&&(gZ=[ci.get(gY.$0,1),ci.get(gY.$0,0),ci.get(gY.$0,2)],true))?(g1=gZ[1],(g.defaultWith(function(){((function(g3){return function(g4){return g3("setSnippetProp snippet not found: "+cg.toSafe(g4));};}(function(g3){cj.log(g3);}))(g1));},(g2=b2.FetchByPathO(cd.SplitChars(g1,["/"],0)),g2==null?null:{$:1,$0:gs(g2.$0.properties,gZ[0],gZ[2])})),m.succeed())):m.failSimpleError((function(g3){return function(g4){return g3("setSnippetProp wrong parms: "+b7.p$8(g4));};}(a.id))(gV.parms))),function(){return gX.Return();});});}));}function gI(gV,gW){var gX,gY,gZ,g0,g1,g2;((function(g3){return function(g4){return g3("showOutText: "+b_.p$22(g4));};}(function(g3){cj.log(g3);}))(gV));gY=gV.parms;switch(gY!=null&&gY.$==1?(gZ=gY.$0,!cb.Equals(gZ,null)&&gZ.length===1?(gX=ci.get(gY.$0,0),0):(g0=gY.$0,!cb.Equals(g0,null)&&g0.length===2?(ci.get(gY.$0,1),ci.get(gY.$0,0)===""?(gX=[ci.get(gY.$0,0),ci.get(gY.$0,1)],1):2):2)):2){case 0:return fs(gX);break;case 1:return fs(gX[1]);break;case 2:return gY!=null&&gY.$==1&&((g2=gY.$0,!cb.Equals(g2,null)&&g2.length===2)&&(ci.get(gY.$0,1),ci.get(gY.$0,0)==="+"&&(g1=[ci.get(gY.$0,0),ci.get(gY.$0,1)],true)))?ft(g1[1]):(function(g3){return function(g4){return g3("error: showOutText "+b_.p$22(g4));};}(function(g3){cj.log(g3);}))(gV);break;}}function gJ(){return fR(c9.Get());}function gK(){var gV;gV=q.wrapper();return gV.Run(gV.Delay(function(){dJ=null;gc(false);return gV.Zero();}));}function gL(gV,gW){var gX,gY;function gZ(g0,g1,g2){return gY>=g1&&gY<g2?{$:1,$0:g0}:null;}gX=gV.value;gY=gV.selectionStart;return gm(ca.pick(function(g0){return gZ(g0[0],g0[1],g0[2]);},(ca.mapFold(function(g0,g1){return[[g1,g0,g0+g1.length+1],g0+g1.length+1];},0,cd.SplitChars(gX,["\n"],0)))[0]));}function gM(gV,gW){var gX;return b$.Start((gX=null,b$.Delay(function(){return b$.Bind(b$.Sleep(100),function(){gV.scrollTop=gV.scrollHeight;return b$.Zero();});})),null);}function gN(gV,gW,gX){var gY;gY=m.result();return gY.Run(gY.Delay(function(){return gY.Bind(m.tryProtection(),function(){return gY.Bind(e1.GetGuiCallAction(gV,gW,gX),function(gZ){var g0;g0=gZ.onClick;g0==null?void 0:((g0.$0(gZ))(null))(null);return gY.Zero();});});}));}function gO(gV){gp(1000);gp(2000);gp(3000);e1.SetLayoutJson(eV,gV);}function gP(gV){gp(1000);gp(2000);gp(3000);e1.AddNewSteps(eV,gV);}function gQ(gV){return ci.ofSeq(ca.map(function(gW){return[gW.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),gW.FSSGlobal_Useful_ErrMsg$get_IsWarning()?D.FSWarning:D.FSError];},gV));}function gR(gV){var gW;return{$:4,$0:(gW=gV.$0,gW==null?null:{$:1,$0:gW.$0[1]}),$1:ci.ofSeq(ca.map(function(gX){return[gX.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),gX.FSSGlobal_Useful_ErrMsg$get_IsWarning()?D.FSWarning:D.FSError];},gV.$1))};}function gS(gV){var gW,gX;return{$:4,$0:(gW=function(gY){return function(gZ){return gY(cg.prettyPrint(gZ));};}(a.id),(gX=gV.$0,gX==null?null:{$:1,$0:gW(gX.$0)})),$1:ci.ofSeq(ca.map(function(gY){return[gY.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),gY.FSSGlobal_Useful_ErrMsg$get_IsWarning()?D.FSWarning:D.FSError];},gV.$1))};}function gT(gV,gW){var gX;gX=null;return b$.Delay(function(){var gY,gZ,g0,g1,g2,g3,g4,g5,g6;return gW.$==2?b$.Return({$:1,$0:(gY=b2.FetchO(gW.$0),gY==null?null:{$:1,$0:gY.$0.content})}):gW.$==3?b$.Return({$:1,$0:(gZ=b2.FetchO(gW.$0),gZ==null?null:{$:1,$0:bU["CodeSnippet.GetCodeFsx"](gZ.$0,true)})}):gW.$==4?b$.Return({$:3,$0:g.defaultValue([],(g0=b2.FetchO(gW.$0),g0==null?null:{$:1,$0:bU["CodeSnippet.Predecessors"](g0.$0)}))}):gW.$==5?b$.Return({$:2,$0:b2.FetchO(gW.$0)}):gW.$==6?b$.Return({$:1,$0:(g1=b2.FetchByPathO(gW.$0),g1==null?null:{$:1,$0:g1.$0.content})}):gW.$==7?b$.Return({$:1,$0:(g2=b2.FetchByPathO(gW.$0),g2==null?null:{$:1,$0:bU["CodeSnippet.GetCodeFsx"](g2.$0,true)})}):gW.$==10?(g3=b2.FetchByPathO(gW.$0),g3==null?b$.Return({$:4,$0:null,$1:[["Snippet not found",D.FSError]]}):b$.Bind(bi.translateAR(bU["CodeSnippet.GetCodeFsx"](g3.$0,true),false),function(g7){return b$.Return({$:4,$0:m.getOption(m.map(bR.completeJS,g7)),$1:gQ(m.getMsgs(g7))});})):gW.$==8?b$.Return({$:3,$0:g.defaultValue([],(g4=b2.FetchByPathO(gW.$0),g4==null?null:{$:1,$0:bU["CodeSnippet.Predecessors"](g4.$0)}))}):gW.$==9?b$.Return({$:2,$0:b2.FetchByPathO(gW.$0)}):gW.$==1?b$.Return({$:1,$0:{$:1,$0:"Message received: "+gW.$0}}):gW.$==0?b$.Return({$:0,$0:bU.fsIds()}):gW.$==12?d.map(gR,q.getAsyncR(fG(gW.$1,bV.NewBrowser,b2.FetchO(gW.$0)))):gW.$==13?d.map(gR,q.getAsyncR(fG(gW.$1,bV.NewBrowser,b2.FetchByPathO(gW.$0)))):gW.$==14?(g5=gW.$0,b$.Return(gS(m.map(function(){return(function(g7){return function(g8){return g7("success: "+cg.toSafe(g8));};}(a.id))(g5);},gN(g5,gW.$1,gW.$2))))):b$.Return({$:1,$0:{$:1,$0:(g6=ci.ofSeq((bU.codeSnippets())["var"].Get()),ct.stringify(((cw.EncodeArray(b8.j$7))())(g6)))}});});}function gU(gV){!ck.contains(gV,e5.Get())?e5.Set(new ck.T({$:1,$0:gV,$1:e5.Get()})):void 0;gp(300);}c3=bZ.Create$1("");c4=bZ.Create$1(A.get_New());c5="CodeEditor."+"currentCodeSnippetId";c6=a.localStorage.getItem(c5);c6!==null?c4.Set((b9.j$7())(ct.parse(c6))):void 0;bk.sink(function(gV){a.localStorage.setItem(c5,ct.stringify((b8.j$5())(gV)));},c4);c7=bZ.Create$1();c8=bk.map2(function(gV){return function(){return bU.codeSnippets().TryFindByKey(gV);};},c4,c7);c9=bZ.Create$1(bV.Below);c_="CodeEditor."+"position";c$=a.localStorage.getItem(c_);c$!==null?c9.Set((b9.j$8())(ct.parse(c$))):void 0;bk.sink(function(gV){a.localStorage.setItem(c_,ct.stringify((b8.j$6())(gV)));},c9);bk.map(function(gV){return gV.$==1;},c9);da=bk.map(function(gV){return cb.Equals(b2.FetchO(gV),null);},c4);db=(dc=bk.map((dd=(de=function(gV){return gV==null?null:e$(gV.$0);},function(gV){return de(b2.FetchO(gV));}),function(gV){return fa(dd(gV));}),c4),(df=[bZ.Create$1(null)],(cH.Sink(function(gV){if(!cb.Equals(df[0].Get(),gV))df[0].Set(gV);},bk.toView(dc)),new bk({$:1,$0:df[0]}))));dg=(dh=bk.map((di=(dj=function(gV){return gV==null?null:fb(gV.$0);},function(gV){return dj(b2.FetchO(gV));}),function(gV){return fc(di(gV));}),c4),(dk=[bZ.Create$1(null)],(cH.Sink(function(gV){if(!cb.Equals(dk[0].Get(),gV))dk[0].Set(gV);},bk.toView(dh)),new bk({$:1,$0:dk[0]}))));dl=(dm=bk.map((dn=(_do=function(gV){return gV==null?null:fd(gV.$0);},function(gV){return _do(b2.FetchO(gV));}),function(gV){return fe(dn(gV));}),c4),(dp=[bZ.Create$1(null)],(cH.Sink(function(gV){if(!cb.Equals(dp[0].Get(),gV))dp[0].Set(gV);},bk.toView(dm)),new bk({$:1,$0:dp[0]}))));dq=(dr=bk.map((ds=(dt=function(gV){return gV==null?null:ff(gV.$0);},function(gV){return dt(b2.FetchO(gV));}),function(gV){return fg(ds(gV));}),c4),(du=[bZ.Create$1(null)],(cH.Sink(function(gV){if(!cb.Equals(du[0].Get(),gV))du[0].Set(gV);},bk.toView(dr)),new bk({$:1,$0:du[0]}))));dv=(dw=bk.map((dx=(dy=function(gV){return gV==null?null:fh(gV.$0);},function(gV){return dy(b2.FetchO(gV));}),function(gV){return fi(dx(gV));}),c4),(dz=[bZ.Create$1(null)],(cH.Sink(function(gV){if(!cb.Equals(dz[0].Get(),gV))dz[0].Set(gV);},bk.toView(dw)),new bk({$:1,$0:dz[0]}))));dA=(dB=bk.map((dC=(dD=function(gV){return gV==null?null:fj(gV.$0);},function(gV){return dD(b2.FetchO(gV));}),function(gV){return fk(dC(gV));}),c4),(dE=[bZ.Create$1(null)],(cH.Sink(function(gV){if(!cb.Equals(dE[0].Get(),gV))dE[0].Set(gV);},bk.toView(dB)),new bk({$:1,$0:dE[0]}))));dF=bk.map(function(gV){return gV!=="0"&&gV!=="";},fl("DisableParse"));dG=bk.map2(function(gV){return function(gW){return fm(gV,gW);};},dF,fl("DisableFSI"));dH=bk.map2(function(gV){return function(gW){return fm(gV,gW);};},dF,fl("DisableFable"));dI=bk.map2(function(gV){return function(gW){return fm(gV,gW);};},dF,fl("DisableWebSharper"));dJ=null;dK=new x.New(function(gV){var gW;gW=gV==null?null:{$:1,$0:new cV.New$2(gV.$0.UniquePredecessors(b2.FetchO))};return g.defaultValue(new cV.New$3(),gW);});dL=bZ.Create$1("");dM=bZ.Create$1("");dN=bZ.Create$1("");dO=bZ.Create$1("");dP=false;dQ=bZ.Create$1(false);bk.sink(function(gV){a.onbeforeunload=gV?function(gW){gW.returnValue="Changes you made may not be saved.";}:null;},dQ);dR=[A.get_New()];b3.set_addOutMsg(ft);dS=(dT=a.location.origin+"/Main.html",(cf.Curried3(fG))(dT));dU=bk.map(function(gV){var gW,gX;gW=null;return dK.cache.TryGetValue(gV,{get:function(){return gW;},set:function(gY){gW=gY;}})?gW:(gX=dK.f(gV),(dK.cache.set_Item(gV,gX),gX));},c8);dV=[0];dW=bZ.Create$1("");bk.map(function(gV){return gV==="";},dW);dX="CodeEditorFileSel";dY=bt.New$3(bZ.Lens(dW,f4,a.id)).Prefix$1(bj.label([bj["class"]("btn btn-primary"),bj.htmlText("Load File..."),bt.New$3(dW).Type("file").Style("display: none").Content([cM.HandlerImpl("change",function(gV){return function(){return f7(gV);};}),cM.HandlerImpl("click",function(gV){return function(){gV.value="";};})]).Id(dX).get_Render()]));c2!==""?b$.Start((dZ=null,b$.Delay(function(){return b$.Bind(b$.Sleep(3000),function(){var gV;((function(gW){return function(gX){return gW("loading "+cg.toSafe(gX)+"...");};}(function(gW){cj.log(gW);}))(c2));gV=cZ.getJSON(c2+"?t="+a.String(c0.now()));gV.done(function(){return f6(gV.responseText);});return b$.Zero();});})),null):void 0;d0=new bf.New("FSharpStation",{$:1,$0:a.location.href});d1=bU.fsIds()+".fsx";d2="a";d3=[null];d4=cH.GetAsync(bk.toView(dF));d5=0;d6=0;d7="";d8="\\((\\d+)\\) F# (.+).fsx\\((\\d+)\\,(\\d+)\\): (error|warning) ((.|\\b)+)";d9="(Err|Warning|Info)(FSharp|WebSharper)\\s+\"(\\((\\d+)\\) ?)?F?#? ?(.+?)(.fsx)? \\((\\d+)\\,\\s*(\\d+)\\) - \\((\\d+)\\,\\s*(\\d+)\\) ((.|\\s)+?)"+"\"";d_=d8+"|"+d9;d$=c.asyncStartCancelling();ea=(eb=(ec=c4.get_View(),cH.Map2(function(gV,gW){var gX;function gY(gZ,g0,g1,g2,g3,g4,g5,g6,g7){var g8;return cd.StartsWith(gZ,gW.get_Text())?(g8=a.Number(g0)>0?a.Number(g0):0,{$:1,$0:bD.New(g7,cd.StartsWith(g5.toUpperCase(),"ERR")?"error":cd.StartsWith(g5.toUpperCase(),"INFO")?"info":"warning",br.cmPos(g1-1,g2-1-g8),br.cmPos(g3-1,g4-1-g8))}):null;}return ci.choose(function(gZ){return gY(gZ[0],gZ[1],gZ[2],gZ[3],gZ[4],gZ[5],gZ[6],gZ[7],gZ[8]);},ci.choose(function(gZ){var g0,g1,g2,g3,g4,g5,g6,g7;return(g1=c.REGEX(d9,"",gZ),g1!=null&&g1.$==1&&((g2=g1.$0,!cb.Equals(g2,null)&&g2.length===13)&&(g0=[ci.get(g1.$0,8),ci.get(g1.$0,5),ci.get(g1.$0,7),ci.get(g1.$0,2),ci.get(g1.$0,4),ci.get(g1.$0,11),ci.get(g1.$0,1),ci.get(g1.$0,10),ci.get(g1.$0,9)],true)))?{$:1,$0:[g0[1],g0[4],a.Number(g0[2]),a.Number(g0[0]),a.Number(g0[8]),a.Number(g0[7]),g0[6],g0[3],g0[5]]}:(g4=c.REGEX(d8,"",gZ),g4!=null&&g4.$==1&&((g5=g4.$0,!cb.Equals(g5,null)&&g5.length===8)&&(g3=[ci.get(g4.$0,4),ci.get(g4.$0,2),ci.get(g4.$0,3),ci.get(g4.$0,1),ci.get(g4.$0,6),ci.get(g4.$0,5)],true)))?(g6=g3[0],(g7=g3[2],{$:1,$0:[g3[1],g3[3],a.Number(g7),a.Number(g6)-1,a.Number(g7),a.Number(g6),g3[5],"fsi",g3[4]]})):null;},(gX=c.REGEX(d_,"g",gV),gX!=null&&gX.$==1?gX.$0:[])));},dN.get_View(),ec)),(ed=[bZ.Create$1(null)],(cH.Sink(function(gV){if(!cb.Equals(ed[0].Get(),gV))ed[0].Set(gV);},eb),ed[0].get_View())));cH.Sink(function(){b$.Start(ge(),null);},c4.get_View());ee=bz.New$3((ef=bk.toView(bk.fixit(c4)),(eg=bZ.Create$1(null),(eh=[null],(ei=[0],(ej=[0],(cH.Sink(function(){var gV,gW;gV=eh[0];gV==null?void 0:(gW=gV.$0,ei[0]>ej[0]?ej[0]=ei[0]:!cb.Equals(gW.Get(),eg.Get())?(ej[0]=ej[0]+1,gW.Set(eg.Get())):void 0);},eg.get_View()),cH.Sink(function(){var gV,gW;gV=eh[0];gV==null?void 0:(gW=gV.$0,ej[0]>ei[0]?ei[0]=ej[0]:!cb.Equals(gW.Get(),eg.Get())?(ei[0]=ei[0]+10,eg.Set(gW.Get())):void 0);},cH.Bind(function(gV){var gW;gW=e_(gV);eh[0]={$:1,$0:gW};ej[0]=ei[0]+100;eg.Set(gW.Get());return gW.get_View();},ef)),eg))))))).OnChange(function(){var gV;dJ!=null&&dJ.$==1&&(cb.Equals(dJ.$0[0],c4.Get())&&(gV=[dJ.$0[0],dJ.$0[2]],true))?fn():fo();gb();}).OnRender(function(gV){var gW;function gX(g0){return gj(g0[0],g0[1],g0[2]);}function gY(g0){gV.replaceSelection(".","end");}function gZ(g0){return gj(g0[0],g0[1],g0[2]);}gV.addKeyMap(bX.New(gh,gh,function(g0){br.showHints(gV,gX,false,g0);},(gW=function(){br.showHints(gV,gZ,false,void 0);},function(g0){return gW(gY(g0));})));cH.Sink(function(){gV.performLint();},ea);br.setLint(gV,function(g0){cH.Get(g0[1],ea);});bk.sink(function(g0){var g1;b$.Start((g1=null,b$.Delay(function(){gV.setOption("theme",g0);return b$.Bind(b$.Sleep(50),function(){gV.refresh();return b$.Zero();});})),null);},dq);bk.sink(function(g0){gV.setOption("mode",g0);},dl);}).Style("height: 100%");ek=ee.get_Render().AddChildren([new bp({$:8,$0:cM.HandlerImpl("dblclick",function(){return function(){return gh(ee.editorO.$0);};})}),bj.htmlElement("menu",[bj.type("context"),bj.Id("right-menu"),bj.htmlElement("menuitem",[bj.htmlAttribute("label","Goto Definition"),new bp({$:8,$0:cM.HandlerImpl("click",function(){return function(){return gn();};})})])]),bj.htmlAttribute("contextmenu","right-menu")]);bk.sink(function(){var gV;b$.Start((gV=null,b$.Delay(function(){var gW,gX;return!dP?b$.Zero():(gW=ee.editorO,gW!=null&&gW.$==1?(gX=b2.FetchO(c4.Get()),gX!=null&&gX.$==1?(gW.$0.performLint(),b$.Zero()):b$.Zero()):b$.Zero());})),null);},dN);el=bZ.Create$1();em=bj.div([new bp({$:2,$0:bk.map2(function(gV){return function(gW){return gt(gV,gW);};},el,bk.bind(function(gV){return gv(gu(gV));},c4))}),bj.css(" td.hovering { background: gray; } ")]);en=bZ.Create$1();eo=bL.New$1("Load...").OnClick(function(gV){return function(gW){return f9(gV,gW);};});ep=bL.New$1("Save as...").OnClick(cf.Curried(br.Do,2,[f8,null])).Highlight(dQ);eq=bL.New$1("Add Snippet").OnClick(cf.Curried(br.Do,2,[f2,null]));er=bL.New$1("Delete Snippet").OnClick(cf.Curried(br.Do,2,[f3,null])).Disabled(da);es=bL.New$1("Indent In  >>").OnClick(cf.Curried(br.Do,2,[fx,null])).Disabled(da);et=bL.New$1("Indent Out <<").OnClick(cf.Curried(br.Do,2,[fy,null])).Disabled(da);eu=bL.New$1("Get F# Code").OnClick(cf.Curried(br.Do,2,[fv,null])).Disabled(dF);ev=bL.New$1("actSetSnippetProp").OnClick2(function(gV){return gy(function(gW){return function(gX){return gH(gW,gX);};},null,gV);}).Disabled(dG);ew=bL.New$1("Run FSI on Code").OnClick2(function(gV){return gy(function(gW){return function(gX){return gC(gW,gX);};},null,gV);}).Disabled(dG);ex=bL.New$1("Run FSI").OnClick2(function(gV){return gy(function(gW){return function(gX){return gE(gW,gX);};},null,gV);}).Disabled(dG);ey=bL.New$1("Run Fable on Code").OnClick2(function(gV){return gy(function(gW){return function(gX){return gD(gW,gX);};},null,gV);}).Disabled(dH);ez=bL.New$1("Run Fable").OnClick2(function(gV){return gy(function(gW){return function(gX){return gF(gW,gX);};},null,gV);}).Disabled(dH);eA=bL.New$1("Run WebSharper in new tab").OnClick2((eB=bV.NewBrowser,function(gV){return gy(function(gW){return function(gX){return gG(gW,gX);};},eB,gV);})).Disabled(dI);eC=bL.New$1("Run WebSharper in WS Result").OnClick2((eD=bV.Below,function(gV){return gz(function(gW){return function(gX){return gG(gW,gX);};},eD,gV);})).Disabled(dI);eE=bL.New$1("Run WebSharper in ...").OnClick(cf.Curried(gx,2,[gJ,null])).Disabled(dI);eF=bL.New$1("Parse F#").OnClick(cf.Curried(gw,2,[gK,null])).Disabled(dF);eG=bL.New$1("Compile WebSharper").OnClick((eH=function(gV){return fz(fH(gV));},cf.Curried(gw,2,[eH,null]))).Disabled(dI);eI=bL.New$1("Find Definition").OnClick(cf.Curried(br.Do,2,[gn,null])).Disabled(dF);eJ=bL.New$1("Refresh CodeMirror").OnClick(cf.Curried(br.Do,2,[go,null]));eK=bL.New$1("Show Output text").OnClick2(cf.Curried(br.Do2,3,[gI,null]));eL=bL.New$1("Abort FSI").OnClick(cf.Curried(br.Do,2,[function(){bg.abortFsiExe();},null]));eM=bj.div([eq.get_Button().get_Render(),et.get_Button().get_Render(),es.get_Button().get_Render(),dY.get_Render().AddChildren([bj.style("grid-column: 4/6")]),ex.get_Button().get_Render(),ez.get_Button().get_Render(),eE.get_Button().get_Render(),er.get_Button().get_Render(),eI.get_Button().get_Render(),bj.span([]),ep.get_Button().get_Render(),bj.span([]),eu.get_Button().get_Render(),eF.get_Button().get_Render(),bj.someElt(cJ.Select([cM.Create("id","Position")],function(gV){return gV.$==1?"Right":gV.$==2?"In Tab":gV.$==3?"New Browser":"Below";},ck.ofArray([bV.NewBrowser,bV.Below]),c9)),bj.style("\n                    overflow: hidden;\n                    display: grid;\n                    grid-template-columns: repeat(8, 12.1%);\n                    bxackground-color: #eee;\n                    padding : 5px;\n                    grid-gap: 5px;\n                ")]);eN=bK.New2([bI.New$2("File").SubMenu([eo.get_MenuEntry(),ep.get_MenuEntry()]),bI.New$2("Code").SubMenu([eq.get_MenuEntry(),er.get_MenuEntry(),bI.New$2("").get_Divider(),es.get_MenuEntry(),et.get_MenuEntry(),bI.New$2("").get_Divider(),eI.get_MenuEntry(),bI.New$2("").get_Divider(),eu.get_MenuEntry(),bI.New$2("").get_Divider(),eJ.get_MenuEntry()]),bI.New$2("Run").SubMenu([ex.get_MenuEntry(),eL.get_MenuEntry(),bI.New$2("").get_Divider(),ez.get_MenuEntry(),bI.New$2("").get_Divider(),eA.get_MenuEntry(),eC.get_MenuEntry(),bI.New$2("").get_Divider(),eF.get_MenuEntry(),eG.get_MenuEntry()])]);eO=bK.New2([bI.New$2("About").SubMenu([bI.New$1("Source @ GitHub","https://github.com/amieres/FSharpStation").Target("_blank")])]);eP=br.navbar(bj.h1([bj.htmlText("F# Station"),bj.style("font-size: 48px; margin-top: -17px")]),eN.get_Render(),eO.get_Render());eQ="CodeEditor."+"splitterV1";eR=bE.New$1(20).Children([bj.style("grid-row: 2 / 4")]).get_Var();eS=a.localStorage.getItem(eQ);eS!==null?eR.Set(((cw.Id())())(ct.parse(eS))):void 0;bk.sink(function(gV){a.localStorage.setItem(eQ,ct.stringify(((cw.Id())())(gV)));},eR);eT=bj.bindHElem(function(gV){return bj.div(ck.ofSeq(ca.delay(function(){return ca.append([bj.style("overflow: auto")],ca.delay(function(){var gW;return ca.append(ca.choose(a.id,(gW=ca.indexed(gV),ca.mapFold(function(gX,gY){var gZ,g0,g1,g2,g3;gZ=gY[1];return g.defaultValue(true,(g0=gZ.parent,g0==null?null:{$:1,$0:gX.Contains(g0.$0)}))?(g1=g.defaultValue(false,(g2=ca.tryItem(gY[0]+1,bU.codeSnippets()),g2==null?null:{$:1,$0:cb.Equals(g2.$0.parent,{$:1,$0:gZ.id})})),(g3=g1&&gZ.expanded,[{$:1,$0:fW(g1,g3,gZ)},g3?gX.Add(gZ.id):gX])):[null,gX];},new cP.New(ck.T.Empty),gW))[0]),ca.delay(function(){return ca.append([new bp({$:8,$0:cM.HandlerImpl("scroll",function(gX){return function(){dV[0]=gX.scrollTop;};})})],ca.delay(function(){return[new bp({$:8,$0:cM.OnAfterRenderImpl(function(gX){gX.scrollTop=dV[0];})})];}));}));}));})));},(eU=bU.codeSnippets().v,cH.SnapshotOn((bU.codeSnippets())["var"].Get(),c7.get_View(),eU)));eV=bQ.AddGuids([["actLoadFile",new bM({$:2,$0:eo})],["actSaveFile",new bM({$:2,$0:ep})],["actAddSnippet",new bM({$:2,$0:eq})],["actDeleteSnippet",new bM({$:2,$0:er})],["actIndentSnippet",new bM({$:2,$0:es})],["actOutdentSnippet",new bM({$:2,$0:et})],["actGetFsCode",new bM({$:2,$0:eu})],["actSetSnippetProp",new bM({$:2,$0:ev})],["actEvalFsCode",new bM({$:2,$0:ew})],["actEvalCode",new bM({$:2,$0:ex})],["actRunFableFs",new bM({$:2,$0:ey})],["actRunFable",new bM({$:2,$0:ez})],["actRunWSNewTab",new bM({$:2,$0:eA})],["actRunWSHere",new bM({$:2,$0:eC})],["actRunWSIn",new bM({$:2,$0:eE})],["actParseCode",new bM({$:2,$0:eF})],["actCompileWS",new bM({$:2,$0:eG})],["actFindDefinition",new bM({$:2,$0:eI})],["actOutText",new bM({$:2,$0:eK})],["Output",new bM({$:1,$0:bw.New$3(dO).Placeholder("Output:").Title("Output").RenderWith(ck.ofArray([new bp({$:8,$0:cM.HandlerImpl("dblclick",function(gV){return function(gW){return gL(gV,gW);};})}),new bp({$:8,$0:cM.OnAfterRenderImpl(function(gV){bk.sink(function(gW){return gM(gV,gW);},dO);})})]))})],["Parser",new bM({$:1,$0:bw.New$3(dN).Placeholder("Parser messages:").Title("Parser").RenderWith(ck.ofArray([new bp({$:8,$0:cM.HandlerImpl("dblclick",function(gV){return function(gW){return gL(gV,gW);};})})]))})],["JavaScript",new bM({$:1,$0:bw.New$3(dM).Placeholder("Javascript:").Title("JavaScript code generated").get_Render()})],["F# code",new bM({$:1,$0:bw.New$3(dL).Placeholder("F# code:").Title("F# code assembled").get_Render()})],["Properties",new bM({$:1,$0:em})],["WS Result",new bM({$:1,$0:bj.div([bj.div([bj.Id("TestNode"),bj.style("background: white; height: 100%; width: 100%; ")])])})],["title",new bM({$:1,$0:bt.New$3((eW=bk.toView(bk.fixit(c4)),(eX=bZ.Create$1(null),(eY=[null],(eZ=[0],(e0=[0],(cH.Sink(function(){var gV,gW;gV=eY[0];gV==null?void 0:(gW=gV.$0,eZ[0]>e0[0]?e0[0]=eZ[0]:!cb.Equals(gW.Get(),eX.Get())?(e0[0]=e0[0]+1,gW.Set(eX.Get())):void 0);},eX.get_View()),cH.Sink(function(){var gV,gW;gV=eY[0];gV==null?void 0:(gW=gV.$0,e0[0]>eZ[0]?eZ[0]=e0[0]:!cb.Equals(gW.Get(),eX.Get())?(eZ[0]=eZ[0]+10,eX.Set(gW.Get())):void 0);},cH.Bind(function(gV){var gW;gW=e9(gV);eY[0]={$:1,$0:gW};e0[0]=eZ[0]+100;eX.Set(gW.Get());return gW.get_View();},eW)),eX))))))).Prefix$1(bj.htmlText("name:")).get_Render()})],["code",new bM({$:1,$0:ek})],["snippets",new bM({$:1,$0:eT})],["buttons",new bM({$:1,$0:eM})],["menu",new bM({$:1,$0:eP})],["messagesR",new bM({$:4,$0:true,$1:["Properties"]})],["messagesB1",new bM({$:4,$0:true,$1:["Output","JavaScript","F# code"]})],["messagesB2",new bM({$:4,$0:true,$1:["Parser","WS Result"]})],["messagesB",br.varVerSplitter(55,"messagesB1","messagesB2",0,100)],["title_code",br.fixedHorSplitter(true,34,"title","code")],["code_props",br.varVerSplitter(85,"title_code","messagesR",25,100)],["code_buttons",br.fixedHorSplitter(false,80,"code_props","buttons")],["snippets_code",br.varVerSplitter(15,"snippets","code_buttons",5,95)],["main_messages",br.varHorSplitter(82,"snippets_code","messagesB",35,100)],["extrabuttons",new bM({$:1,$0:bj.div([])})],["main_extra",br.varVerSplitter(100,"main_messages","extrabuttons",20,100)],["main",br.fixedHorSplitter(true,50,"menu","main_extra")]]);e1=bQ.New$1(eV);a.addLayoutJson=gO;bk.sink(gO,dv);bk.sink(function(gV){if(gV==="")gP([]);else fB(a,gV);},dA);a.doFSharpStationGuiCall=function(gV){var gW,gX;gW=m.Success(gN.apply(null,gV));gW.$==1?((gX=(cf.Curried3(function(gY,gZ,g0){return gY("Error doGuiCall "+cg.printArray(cg.prettyPrint,gZ)+": "+("("+cg.prettyPrint(g0[0])+", "+cg.prettyPrint(g0[1])+", "+cg.printArray(cg.prettyPrint,g0[2])+")"));}))(function(gY){cj.log(gY);}),function(gY){var gZ;gZ=gX(gY);return function(g0){gZ([g0[0],g0[1],g0[2]]);};})(gW.$0))(gV):void 0;};a.setFSharpStationLayout=function(gV){var gW;gW=b2.FetchO(c4.Get());gW==null?void 0:gP(gV.apply(null,[e1,gW.$0]));};e2=null;(new co.New$5()).TryGetValue("",{get:function(){return e2;},set:function(gV){e2=gV;}})?void 0:void 0;bv.get_New();e3=new P.New(bU.fsIds(),null,null);b$.Start((e4=null,b$.Delay(function(){return b$.Bind(b$.Sleep(1000),function(){return b$.While(function(){return true;},b$.Delay(function(){return b$.TryWith(b$.Delay(function(){var gV,gW,gX,gY,gZ;function g0(g4){return gT("",g4);}function g1(g4){return{$:1,$0:g4};}function g2(g4){return(b9.j$9())(ct.parse(g4));}function g3(g4){return ct.stringify((b8.j$8())(g4));}gV=function(g4){return g1(g0(g4));};e3.payloadProcessorO={$:1,$0:(gW=function(g4){return gV(g2(g4));},(gX=function(g4){return q.map(g3,g4);},function(g4){return gX(gW(g4));}))};q.Start(e3.sendAndForget(E.msgType(H.MsgInformation,(gY=E.MessageBrokerAddress(),(gZ=ct.stringify(((cw.Id())())("Registering Processor")),K.New(new F({$:0,$0:""}),gY,H.MsgRequest,"",cr.NewGuid(),gZ,J.NoReply))))),null);return b$.Bind(b$.Sleep(60000),function(){return b$.Return(null);});}),function(gV){((function(gW){return function(gX){return gW(cg.toSafe(gX));};}(function(gW){cj.log(gW);}))(gV.message));return b$.Bind(b$.Sleep(1000),function(){return b$.Return(null);});});}));});})),null);bk.sink(function(){e1.SelectTab("Output");},dO);bk.sink(function(){e1.SelectTab("WS Result");},en);b$.Start(d.sleepThen(function(){e1.SelectTab("Parser");},1000),null);e5=bZ.Create$1(ck.ofArray(["/EPFileX/css/main.css"]));bk.sink(gU,dg);bk.sink(function(gV){if(gV!=="")gU((function(gW){return function(gX){return gW("/EPFileX/codemirror/content/theme/"+cg.toSafe(gX)+".css");};}(a.id))(gV));},dq);e6=bj.div([bj.style("height: 100vh; width: 100% "),e1.get_Render().Style("height: 100%; width: 100% "),bj.script([bj.src("/EPFileX/FileSaver/FileSaver.js"),bj.type("text/javascript")]),bj.script([bj.src("http://code.jquery.com/jquery-3.1.1.min.js"),bj.type("text/javascript")]),bj.script([bj.src("http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"),bj.type("text/javascript")]),bj.link([bj.href("http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"),bj.type("text/css"),bj.rel("stylesheet")]),bj.css("\n      \n        body { margin: 0px }     \n             \n        div textarea {\n            font-family     : monospace;\n        }\n        .code-editor-list-tile {\n            white-space     : nowrap; \n            border-style    : solid none none;\n            border-color    : white;\n            border-width    : 1px;\n            background-color: #D8D8D8;\n            display         : flex;\n        }\n        .code-editor-list-text{\n            padding         : 1px 10px 1px 5px;\n            overflow        : hidden;\n            text-overflow   : ellipsis;\n            white-space     : nowrap;\n            flex            : 1;\n        }\n        \n        .code-editor-list-tile.direct-predecessor {\n            font-weight     : bold;\n        }\n        .code-editor-list-tile.indirect-predecessor {\n            color           : blue;\n        }\n        .code-editor-list-tile.selected {\n            background-color: #77F;\n            color           : white;\n        }\n        .code-editor-list-tile.hovering {\n            background      : lightgray;\n        }\n        .code-editor-list-tile.hovering.selected {\n            background      : blue;\n        }\n        .code-editor-list-tile>.predecessor {\n            font-weight     : bold;\n            border-style    : inset;\n            border-width    : 1px;\n            text-align      : center;\n            color           : transparent;\n        }\n        .code-editor-list-tile.direct-predecessor>.predecessor {\n            color           : blue;\n        }\n        \n        .CodeMirror { height: 100%; }\n        \n        .node {\n            background-color: white; \n            width           : 2ch; \n            color           : #A03; \n            font-weight     : bold; \n            text-align      : center;\n            font-family     : arial;\n        }\n        .Warning { text-decoration: underline lightblue } \n        .Error   { text-decoration: underline red       } \n        .body    { margin         : 0px                 }\n        "),bj.style(" \n                color      : #333;\n                font-size  : small;\n                font-family: monospace;\n                line-height: 1.2;\n                    "),new bp({$:2,$0:bk.map(function(gV){return bj.div(ck.ofSeq(ca.delay(function(){return ca.map(function(gW){return bj.link([bj.href(gW),bj.type("text/css"),bj.rel("stylesheet")]);},gV);})));},e5)}),bj.css(db)]);return(bj.renderDoc())(e6);};b6.$cctor=function(){var c2,c3,c4;b6.$cctor=a.ignore;function c5(c6,c7){return new bp({$:8,$0:cL.Style(c6,c7)});}b6.result=new n.New();b6.fromResult=m.toResultS;b6.toResult=m.fromResultS;b6.errOptionIsNone=new k.New();b6.wrap=new r.New();b6.wrapper=new r.New();b6.result$1=m.result();b6.wrap$1=q.wrap();b6.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";b6.MessageBrokerId="<MessageBroker>";b6.MessageBrokerAddress=new F({$:0,$0:E.MessageBrokerId()});b6.counter=1;b6.swap=cf.Curried3(function(c6,c7,c8){return(c6(c8))(c7);});b6.valFlow=new bo.New();b6.renderDoc=(c2=(c3=cJ.Empty(),function(c6){return c6==null?c3:c6.$0;}),function(c6){return c2(bj.chooseNode(c6));});b6.string2Styles=(c4=function(c6){return ci.map(function(c7){return c5(c7[0],c7[1]);},c6);},function(c6){return c4(bj.style2pairs(c6));});b6.codeMirrorIncludes=["/EPFileX/codemirror/scripts/codemirror/codemirror.js","/EPFileX/codemirror/scripts/intellisense.js","/EPFileX/codemirror/scripts/codemirror/codemirror-intellisense.js","/EPFileX/codemirror/scripts/codemirror/codemirror-compiler.js","/EPFileX/codemirror/scripts/codemirror/mode/none.js","/EPFileX/codemirror/scripts/codemirror/mode/fsharp.js","/EPFileX/codemirror/scripts/codemirror/mode/css.js","/EPFileX/codemirror/scripts/codemirror/mode/javascript.js","/EPFileX/codemirror/scripts/codemirror/mode/markdown.js","/EPFileX/codemirror/scripts/addon/search/searchcursor.js","/EPFileX/codemirror/scripts/addon/search/search.js","/EPFileX/codemirror/scripts/addon/search/jump-to-line.js","/EPFileX/codemirror/scripts/addon/dialog/dialog.js","/EPFileX/codemirror/scripts/addon/edit/matchbrackets.js","/EPFileX/codemirror/scripts/addon/selection/active-line.js","/EPFileX/codemirror/scripts/addon/display/fullscreen.js","/EPFileX/codemirror/scripts/addon/hint/show-hint.js","/EPFileX/codemirror/scripts/addon/lint/lint.js"];b6.observers=ck.T.Empty;b6.draggedTab=[null];b6.selectedPanels=bZ.Create$1(new cE.New([]));b6.TabMoved=null;b6.codeSnippets=c1.Create(function(c6){return c6.id;},ck.T.Empty);b6.fsIds="FSharpStation"+a.String(c0.now());b6.references=["mscorlib.dll","System.dll","System.Core.dll","System.Data.dll","System.IO.dll","System.Xml.dll","System.Numerics.dll","FSharp.Core.sigdata","FSharp.Core.dll","Fable.Core.dll","Fable.Import.Browser.dll"];b6.loadReferences=cY.Create(function(){var c6;b$.Start((c6=null,b$.Delay(function(){return b$.Bind(bq.LoadFilesAsync(["https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.2/require.min.js"]),function(){var c7;c7=cS.create(null);c7.skipDataMain=1;c7.isBrowser=1;a.require.config(c7);ca.iter(function(c8){a.getFileBlob(c8,"metadata/"+c8);},b3.references());return b$.Zero();});})),null);});b6.getChecker=cY.Create(function(){return cT.createChecker(function(c6){return a.metadata[c6];},ci.choose(function(c6){return c6.indexOf("sigdata")!=-1?null:{$:1,$0:cd.Replace(c6,".dll","")};},b3.references()));});b6.addOutMsg=function(c6){cj.log(c6);};};b7.p$1=function(c2){return"Address "+cg.prettyPrint(c2.$0);};b8.j$4=function(){return b8._v$4?b8._v$4:b8._v$4=(cw.EncodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",cw.Id(),0]]],[2,[["$0","Item",b8.j$5,0]]],[3,[["$0","Item",b8.j$5,0]]],[4,[["$0","Item",b8.j$5,0]]],[5,[["$0","Item",b8.j$5,0]]],[6,[["$0","Item",cw.EncodeArray(cw.Id()),0]]],[7,[["$0","Item",cw.EncodeArray(cw.Id()),0]]],[8,[["$0","Item",cw.EncodeArray(cw.Id()),0]]],[9,[["$0","Item",cw.EncodeArray(cw.Id()),0]]],[10,[["$0","Item",cw.EncodeArray(cw.Id()),0]]],[11,[]],[12,[["$0","Item1",b8.j$5,0],["$1","Item2",cw.Id(),0]]],[13,[["$0","Item1",cw.EncodeArray(cw.Id()),0],["$1","Item2",cw.Id(),0]]],[14,[["$0","name",cw.Id(),0],["$1","action",cw.Id(),0],["$2","parms",cw.EncodeArray(cw.Id()),0]]]]))();};b8.j$5=function(){return b8._v$5?b8._v$5:b8._v$5=(cw.EncodeUnion(A,"$",[[0,[["$0","Item",cw.Id(),0]]]]))();};b9.j$4=function(){return b9._v$4?b9._v$4:b9._v$4=(cw.DecodeUnion(void 0,"$",[[0,[["$0","Item",cw.Id(),0]]],[1,[["$0","Item",cw.Id(),1]]],[2,[["$0","Item",b9.j$6,1]]],[3,[["$0","Item",cw.DecodeArray(b9.j$6),0]]],[4,[["$0","Item1",cw.Id(),1],["$1","Item2",cw.DecodeArray(cw.DecodeTuple([cw.Id(),b9.j$5])),0]]]]))();};b9.j$6=function(){return b9._v$6?b9._v$6:b9._v$6=(cw.DecodeRecord(B,[["name",cw.Id(),0],["content",cw.Id(),0],["parent",b9.j$7,1],["predecessors",cw.DecodeList(b9.j$7),0],["id",b9.j$7,0],["expanded",cw.Id(),0],["level",cw.Id(),0],["levelCode",cw.Id(),0],["properties",cw.DecodeStringDictionary(cw.Id()),0]]))();};b9.j$5=function(){return b9._v$5?b9._v$5:b9._v$5=(cw.DecodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]]]))();};b9.j$7=function(){return b9._v$7?b9._v$7:b9._v$7=(cw.DecodeUnion(A,"$",[[0,[["$0","Item",cw.Id(),0]]]]))();};b7.p$2=function(c2){return c2.$==5?"MsgRequestForEcho":c2.$==4?"MsgRequestForId":c2.$==3?"MsgFromBroker":c2.$==2?"MsgReply":c2.$==1?"MsgRequest":"MsgInformation";};b8.j$8=function(){return b8._v$8?b8._v$8:b8._v$8=(cw.EncodeUnion(void 0,"$",[[0,[["$0","Item",cw.Id(),0]]],[1,[["$0","Item",cw.Id(),1]]],[2,[["$0","Item",b8.j$7,1]]],[3,[["$0","Item",cw.EncodeArray(b8.j$7),0]]],[4,[["$0","Item1",cw.Id(),1],["$1","Item2",cw.EncodeArray(cw.EncodeTuple([cw.Id(),b8.j$9])),0]]]]))();};b8.j$9=function(){return b8._v$9?b8._v$9:b8._v$9=(cw.EncodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]]]))();};b9.j$9=function(){return b9._v$9?b9._v$9:b9._v$9=(cw.DecodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",cw.Id(),0]]],[2,[["$0","Item",b9.j$7,0]]],[3,[["$0","Item",b9.j$7,0]]],[4,[["$0","Item",b9.j$7,0]]],[5,[["$0","Item",b9.j$7,0]]],[6,[["$0","Item",cw.DecodeArray(cw.Id()),0]]],[7,[["$0","Item",cw.DecodeArray(cw.Id()),0]]],[8,[["$0","Item",cw.DecodeArray(cw.Id()),0]]],[9,[["$0","Item",cw.DecodeArray(cw.Id()),0]]],[10,[["$0","Item",cw.DecodeArray(cw.Id()),0]]],[11,[]],[12,[["$0","Item1",b9.j$7,0],["$1","Item2",cw.Id(),0]]],[13,[["$0","Item1",cw.DecodeArray(cw.Id()),0],["$1","Item2",cw.Id(),0]]],[14,[["$0","name",cw.Id(),0],["$1","action",cw.Id(),0],["$2","parms",cw.DecodeArray(cw.Id()),0]]]]))();};b_.p$22=function(c2){return"{"+("text = "+b7.p$9(c2.text))+"; "+("highlight = "+b7.p$11(c2.highlight))+"; "+("disabled = "+b7.p$11(c2.disabled))+"; "+("toolTip = "+b7.p$13(c2.toolTip))+"; "+("onClick = "+b7.p$14(c2.onClick))+"; "+("parms = "+b7.p$8(c2.parms))+"}";};b7.p$14=function(c2){return c2==null?"null":"Some <fun>";};b7.p$13=function(c2){return c2==null?"null":"Some "+cg.prettyPrint(c2.$0);};b7.p$11=function(c2){return c2.$==2?"Dynamic "+b7.p$12(c2.$0):c2.$==1?"DynamicV "+cg.prettyPrint(c2.$0):"Constant "+cg.prettyPrint(c2.$0);};b7.p$12=function(c2){return"View <fun>";};b7.p$9=function(c2){return c2.$==2?"Dynamic "+b7.p$10(c2.$0):c2.$==1?"DynamicV "+cg.prettyPrint(c2.$0):"Constant "+cg.prettyPrint(c2.$0);};b7.p$10=function(c2){return"View <fun>";};b7.p$8=function(c2){return c2==null?"null":"Some "+cg.printArray(cg.prettyPrint,c2.$0);};b7.p$7=function(c2){return c2.$==17?"KMultiple "+cg.printArray(function(c3){return b7.p$7(c3);},c2.$0):c2.$==16?"KUnionCase "+b_.p$21(c2.$0):c2.$==15?"KNamespaces "+b_.p$18(c2.$0):c2.$==14?"KCompilerLocation "+b_.p$17(c2.$0):c2.$==13?"KSignatureData "+b_.p$15(c2.$0):c2.$==12?"KTypeSig "+cg.prettyPrint(c2.$0):c2.$==11?"KToolTip "+cg.printArray(function(c3){return cg.printArray(function(c4){return b_.p$2(c4);},c3);},c2.$0):c2.$==10?"KDeclarations "+cg.printArray(function(c3){return b_.p$13(c3);},c2.$0):c2.$==9?"KFindDecl "+b_.p$12(c2.$0):c2.$==8?"KColorizations "+cg.printList(function(c3){return b_.p$11(c3);},c2.$0):c2.$==7?"KErrors "+b_.p$9(c2.$0):c2.$==6?"KMethod "+b_.p$6(c2.$0):c2.$==5?"KHelp "+cg.prettyPrint(c2.$0):c2.$==4?"KSymbolUse "+b_.p$4(c2.$0):c2.$==3?"KCompletion "+cg.printArray(function(c3){return b_.p$3(c3);},c2.$0):c2.$==2?"KHelpText "+b_.p$1(c2.$0):c2.$==1?"KError "+b_.p(c2.$0):"KInfo "+cg.prettyPrint(c2.$0);};b_.p$21=function(c2){return"{"+("Text = "+cg.prettyPrint(c2.Text))+"}";};b_.p$18=function(c2){return"{"+("Opens = "+cg.printArray(function(c3){return b_.p$19(c3);},c2.Opens))+"; "+("Qualifies = "+cg.printArray(function(c3){return b_.p$20(c3);},c2.Qualifies))+"; "+("Word = "+cg.prettyPrint(c2.Word))+"}";};b_.p$20=function(c2){return"{"+("Name = "+cg.prettyPrint(c2.Name))+"; "+("Qualifier = "+cg.prettyPrint(c2.Qualifier))+"}";};b_.p$19=function(c2){return"{"+("Namespace = "+cg.prettyPrint(c2.Namespace))+"; "+("Name = "+cg.prettyPrint(c2.Name))+"; "+("Type = "+cg.prettyPrint(c2.Type))+"; "+("Line = "+cg.prettyPrint(c2.Line))+"; "+("Column = "+cg.prettyPrint(c2.Column))+"; "+("MultipleNames = "+cg.prettyPrint(c2.MultipleNames))+"}";};b_.p$17=function(c2){return"{"+("Fsc = "+cg.prettyPrint(c2.Fsc))+"; "+("Fsi = "+cg.prettyPrint(c2.Fsi))+"; "+("MSBuild = "+cg.prettyPrint(c2.MSBuild))+"}";};b_.p$15=function(c2){return"{"+("OutputType = "+cg.prettyPrint(c2.OutputType))+"; "+("Parameters = "+cg.printList(function(c3){return cg.printList(function(c4){return b_.p$16(c4);},c3);},c2.Parameters))+"}";};b_.p$16=function(c2){return"{"+("Name = "+cg.prettyPrint(c2.Name))+"; "+("Type = "+cg.prettyPrint(c2.Type))+"}";};b_.p$13=function(c2){return"{"+("Declaration = "+b_.p$14(c2.Declaration))+"; "+("Nested = "+cg.printArray(function(c3){return b_.p$14(c3);},c2.Nested))+"}";};b_.p$14=function(c2){return"{"+("UniqueName = "+cg.prettyPrint(c2.UniqueName))+"; "+("Name = "+cg.prettyPrint(c2.Name))+"; "+("Glyph = "+cg.prettyPrint(c2.Glyph))+"; "+("GlyphChar = "+cg.prettyPrint(c2.GlyphChar))+"; "+("IsTopLevel = "+cg.prettyPrint(c2.IsTopLevel))+"; "+("File = "+cg.prettyPrint(c2.File))+"; "+("EnclosingEntity = "+cg.prettyPrint(c2.EnclosingEntity))+"; "+("IsAbstract = "+cg.prettyPrint(c2.IsAbstract))+"}";};b_.p$12=function(c2){return"{"+("File = "+cg.prettyPrint(c2.File))+"; "+("Line = "+cg.prettyPrint(c2.Line))+"; "+("Column = "+cg.prettyPrint(c2.Column))+"}";};b_.p$11=function(c2){return"{"+("Kind = "+cg.prettyPrint(c2.Kind))+"}";};b_.p$9=function(c2){return"{"+("File = "+cg.prettyPrint(c2.File))+"; "+("Errors = "+cg.printArray(function(c3){return b_.p$10(c3);},c2.Errors))+"}";};b_.p$10=function(c2){return"{"+("FileName = "+cg.prettyPrint(c2.FileName))+"; "+("StartLine = "+cg.prettyPrint(c2.StartLine))+"; "+("EndLine = "+cg.prettyPrint(c2.EndLine))+"; "+("StartColumn = "+cg.prettyPrint(c2.StartColumn))+"; "+("EndColumn = "+cg.prettyPrint(c2.EndColumn))+"; "+("Message = "+cg.prettyPrint(c2.Message))+"; "+("Subcategory = "+cg.prettyPrint(c2.Subcategory))+"}";};b_.p$6=function(c2){return"{"+("Name = "+cg.prettyPrint(c2.Name))+"; "+("CurrentParameter = "+cg.prettyPrint(c2.CurrentParameter))+"; "+("Overloads = "+cg.printList(function(c3){return b_.p$7(c3);},c2.Overloads))+"}";};b_.p$7=function(c2){return"{"+("Tip = "+cg.printList(function(c3){return cg.printList(function(c4){return b_.p$2(c4);},c3);},c2.Tip))+"; "+("TypeText = "+cg.prettyPrint(c2.TypeText))+"; "+("Parameters = "+cg.printList(function(c3){return b_.p$8(c3);},c2.Parameters))+"; "+("IsStaticArguments = "+cg.prettyPrint(c2.IsStaticArguments))+"}";};b_.p$8=function(c2){return"{"+("Name = "+cg.prettyPrint(c2.Name))+"; "+("CanonicalTypeTextForSorting = "+cg.prettyPrint(c2.CanonicalTypeTextForSorting))+"; "+("Display = "+cg.prettyPrint(c2.Display))+"; "+("Description = "+cg.prettyPrint(c2.Description))+"}";};b_.p$4=function(c2){return"{"+("Name = "+cg.prettyPrint(c2.Name))+"; "+("Uses = "+cg.printList(function(c3){return b_.p$5(c3);},c2.Uses))+"}";};b_.p$5=function(c2){return"{"+("FileName = "+cg.prettyPrint(c2.FileName))+"; "+("StartLine = "+cg.prettyPrint(c2.StartLine))+"; "+("StartColumn = "+cg.prettyPrint(c2.StartColumn))+"; "+("EndLine = "+cg.prettyPrint(c2.EndLine))+"; "+("EndColumn = "+cg.prettyPrint(c2.EndColumn))+"; "+("IsFromDefinition = "+cg.prettyPrint(c2.IsFromDefinition))+"; "+("IsFromAttribute = "+cg.prettyPrint(c2.IsFromAttribute))+"; "+("IsFromComputationExpression = "+cg.prettyPrint(c2.IsFromComputationExpression))+"; "+("IsFromDispatchSlotImplementation = "+cg.prettyPrint(c2.IsFromDispatchSlotImplementation))+"; "+("IsFromPattern = "+cg.prettyPrint(c2.IsFromPattern))+"; "+("IsFromType = "+cg.prettyPrint(c2.IsFromType))+"}";};b_.p$3=function(c2){return"{"+("Name = "+cg.prettyPrint(c2.Name))+"; "+("ReplacementText = "+cg.prettyPrint(c2.ReplacementText))+"; "+("Glyph = "+cg.prettyPrint(c2.Glyph))+"; "+("GlyphChar = "+cg.prettyPrint(c2.GlyphChar))+"}";};b_.p$1=function(c2){return"{"+("Name = "+cg.prettyPrint(c2.Name))+"; "+("Overloads = "+cg.printList(function(c3){return cg.printList(function(c4){return b_.p$2(c4);},c3);},c2.Overloads))+"}";};b_.p$2=function(c2){return"{"+("Signature = "+cg.prettyPrint(c2.Signature))+"; "+("Comment = "+cg.prettyPrint(c2.Comment))+"}";};b_.p=function(c2){return"{"+("Code = "+cg.prettyPrint(c2.Code))+"; "+("Message = "+cg.prettyPrint(c2.Message))+"}";};b8.j$7=function(){return b8._v$7?b8._v$7:b8._v$7=(cw.EncodeRecord(B,[["name",cw.Id(),0],["content",cw.Id(),0],["parent",b8.j$5,1],["predecessors",cw.EncodeList(b8.j$5),0],["id",b8.j$5,0],["expanded",cw.Id(),0],["level",cw.Id(),0],["levelCode",cw.Id(),0],["properties",cw.EncodeStringDictionary(cw.Id()),0]]))();};b7.p$6=function(c2){return"CodeSnippetId "+cg.prettyPrint(c2.$0);};b8.j$6=function(){return b8._v$6?b8._v$6:b8._v$6=(cw.EncodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};b9.j$8=function(){return b9._v$8?b9._v$8:b9._v$8=(cw.DecodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};b9.j$10=function(){return b9._v$10?b9._v$10:b9._v$10=(cw.DecodeUnion(void 0,"type",[["BRConnections",[["$0","Item",cw.DecodeArray(cw.Id()),0]]]]))();};b8.j$10=function(){return b8._v$10?b8._v$10:b8._v$10=(cw.EncodeUnion(void 0,"type",[["BRGetConnections",[]]]))();};b9.j$11=function(){return b9._v$11?b9._v$11:b9._v$11=(cw.DecodeUnion(void 0,"type",[["BMOk",[]],["BMOnlyBrokerShouldUse",[]],["BMDestinationNotFound",[["$0","Item",b9.j$1,0]]],["BMWebSocketError",[["$0","Item",cw.Id(),0]]],["BMReceiverCantReply",[]],["BMUnexpectedMsgType",[["$0","Item",b9.j$2,0]]]]))();};b_.p$23=function(c2){return"{"+("from = "+b7.p$1(c2.from))+"; "+("destination = "+b7.p$1(c2.destination))+"; "+("msgType = "+b7.p$2(c2.msgType))+"; "+("subtype = "+cg.prettyPrint(c2.subtype))+"; "+("id = "+cg.prettyPrint(c2.id))+"; "+("payload = "+cg.prettyPrint(c2.payload))+"; "+("replier = "+b7.p$15(c2.replier))+"}";};b7.p$15=function(c2){return c2.$==2?"Receiver":c2.$==1?"Broker":"NoReply";};b7.p$16=function(c2){return c2.$==3?"Close":c2.$==2?"Open":c2.$==1?"Error":"Message "+b_.p$23(c2.$0);};b9.j$12=function(){return b9._v$12?b9._v$12:b9._v$12=(cw.DecodeRecord(void 0,[["GuiRoot",cw.Id(),1],["GuiTabStrip",cw.DecodeTuple([cw.Id(),cw.DecodeArray(cw.Id())]),1],["GuiSplit",cw.DecodeTuple([cw.Id(),cw.Id(),cw.Id(),cw.Id(),cw.Id(),cw.Id(),cw.Id(),cw.Id()]),1],["GuiNode",b9.j$13,1],["GuiCall",cw.DecodeTuple([cw.Id(),cw.Id(),cw.DecodeArray(cw.Id())]),1]]))();};b9.j$13=function(){return b9._v$13?b9._v$13:b9._v$13=(cw.DecodeRecord(void 0,[["HtmlElementF",cw.DecodeTuple([cw.Id(),cw.DecodeArray(b9.j$13)]),1],["HtmlAttributeF",cw.DecodeTuple([cw.Id(),cw.Id()]),1],["HtmlAttributeOF",cw.DecodeTuple([cw.Id(),b9.j$14]),1],["HtmlTextF",cw.Id(),1],["HtmlEmptyF",cw.Id(),1],["HtmlGuiPart",cw.Id(),1],["HtmlGuiCall",cw.DecodeTuple([cw.Id(),cw.Id(),cw.DecodeArray(cw.Id())]),1]]))();};b9.j$14=function(){return b9._v$14?b9._v$14:b9._v$14=(cw.DecodeUnion(void 0,"$",[null,[1,[["$0","Value",cw.Id(),0]]]]))();};b9.j$1=function(){return b9._v$1?b9._v$1:b9._v$1=(cw.DecodeUnion(F,"$",[[0,[["$0","address",cw.Id(),0]]]]))();};b9.j$2=function(){return b9._v$2?b9._v$2:b9._v$2=(cw.DecodeUnion(void 0,"type",[["MsgInformation",[]],["MsgRequest",[]],["MsgReply",[]],["MsgFromBroker",[]],["MsgRequestForId",[]],["MsgRequestForEcho",[]]]))();};b9.j$3=function(){return b9._v$3?b9._v$3:b9._v$3=(cw.DecodeUnion(void 0,"type",[["NoReply",[]],["Broker",[]],["Receiver",[]]]))();};b9.j=function(){return b9._v?b9._v:b9._v=(cw.DecodeRecord(void 0,[["from",b9.j$1,0],["destination",b9.j$1,0],["msgType",b9.j$2,0],["subtype",cw.Id(),0],["id",cw.Id(),0],["payload",cw.Id(),0],["replier",b9.j$3,0]]))();};b8.j$1=function(){return b8._v$1?b8._v$1:b8._v$1=(cw.EncodeUnion(F,"$",[[0,[["$0","address",cw.Id(),0]]]]))();};b8.j$2=function(){return b8._v$2?b8._v$2:b8._v$2=(cw.EncodeUnion(void 0,"type",[["MsgInformation",[]],["MsgRequest",[]],["MsgReply",[]],["MsgFromBroker",[]],["MsgRequestForId",[]],["MsgRequestForEcho",[]]]))();};b8.j$3=function(){return b8._v$3?b8._v$3:b8._v$3=(cw.EncodeUnion(void 0,"type",[["NoReply",[]],["Broker",[]],["Receiver",[]]]))();};b8.j=function(){return b8._v?b8._v:b8._v=(cw.EncodeRecord(void 0,[["from",b8.j$1,0],["destination",b8.j$1,0],["msgType",b8.j$2,0],["subtype",cw.Id(),0],["id",cw.Id(),0],["payload",cw.Id(),0],["replier",b8.j$3,0]]))();};b7.p=function(c2){return c2.$==5?"BMUnexpectedMsgType "+b7.p$2(c2.$0):c2.$==4?"BMReceiverCantReply":c2.$==3?"BMWebSocketError "+cg.prettyPrint(c2.$0):c2.$==2?"BMDestinationNotFound "+b7.p$1(c2.$0):c2.$==1?"BMOnlyBrokerShouldUse":"BMOk";};b7.p$3=function(c2){return c2.$==2?"FSInfor":c2.$==1?"FSWarning":"FSError";};b7.p$4=function(c2){return c2.$==1?"Snippet Not Found "+cg.prettyPrint(c2.$0):"FSMessage ("+cg.prettyPrint(c2.$0)+", "+b7.p$3(c2.$1)+")";};b7.p$5=function(c2){return c2.$==2?"Could not open new browser, Popup blocker may be active":c2.$==1?"Snippet Missing":"JsCompilerMsg ("+cg.prettyPrint(c2.$0)+", "+cg.prettyPrint(c2.$1)+")";};}());
