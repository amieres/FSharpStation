(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr;a=window;b=a.FSSGlobal=a.FSSGlobal||{};c=b.Useful=b.Useful||{};d=c.Option=c.Option||{};e=c.ExceptionThrown=c.ExceptionThrown||{};f=c.ErrOptionIsNone=c.ErrOptionIsNone||{};g=c.ErrSimple=c.ErrSimple||{};h=c.Result=c.Result||{};i=h.ropBuilder=h.ropBuilder||{};j=c.Wrap=c.Wrap||{};k=j.Builder=j.Builder||{};l=c.Async=c.Async||{};m=c.ResetableMemoize=c.ResetableMemoize||{};n=c.PreproDirective=c.PreproDirective||{};o=b.FsStationShared=b.FsStationShared||{};p=o.MessagingClient=o.MessagingClient||{};q=o.CodeSnippetId=o.CodeSnippetId||{};r=o.CodeSnippet=o.CodeSnippet||{};s=o.FSMessage=o.FSMessage||{};t=o.FSSeverity=o.FSSeverity||{};u=o.FsStationClientErr=o.FsStationClientErr||{};v=o.FsStationClient=o.FsStationClient||{};w=b.FsEvaluator=b.FsEvaluator||{};x=b.FsTranslator=b.FsTranslator||{};y=b.FSAutoCompleteIntermediary=b.FSAutoCompleteIntermediary||{};z=y.CommTypes=y.CommTypes||{};A=z.ResponseError=z.ResponseError||{};B=z.Location=z.Location||{};C=z.CompletionResponse=z.CompletionResponse||{};D=z.OverloadDescription=z.OverloadDescription||{};E=z.OverloadParameter=z.OverloadParameter||{};F=z.Overload=z.Overload||{};G=z.Parameter=z.Parameter||{};H=z.SignatureData=z.SignatureData||{};I=z.MethodResponse=z.MethodResponse||{};J=z.SymbolUseRange=z.SymbolUseRange||{};K=z.SymbolUseResponse=z.SymbolUseResponse||{};L=z.HelpTextResponse=z.HelpTextResponse||{};M=z.CompilerLocationResponse=z.CompilerLocationResponse||{};N=z.FSharpErrorInfo=z.FSharpErrorInfo||{};O=z.ErrorResponse=z.ErrorResponse||{};P=z.Colorization=z.Colorization||{};Q=z.Declaration=z.Declaration||{};R=z.DeclarationResponse=z.DeclarationResponse||{};S=z.OpenNamespace=z.OpenNamespace||{};T=z.QualifySymbol=z.QualifySymbol||{};U=z.ResolveNamespaceResponse=z.ResolveNamespaceResponse||{};V=z.UnionCaseResponse=z.UnionCaseResponse||{};W=z.ACMessage=z.ACMessage||{};X=y.FSAutoCompleteIntermediaryClient=y.FSAutoCompleteIntermediaryClient||{};Y=b.HtmlNode=b.HtmlNode||{};Z=Y.Val=Y.Val||{};_0=Z.HelperType=Z.HelperType||{};_1=Y.HtmlNode=Y.HtmlNode||{};_2=b.Template=b.Template||{};_3=_2.Button=_2.Button||{};_4=_2.Input=_2.Input||{};_5=_2.Hoverable=_2.Hoverable||{};_6=_2.TextArea=_2.TextArea||{};_7=_2.CodeMirrorPos=_2.CodeMirrorPos||{};_8=_2.CodeMirrorEditor=_2.CodeMirrorEditor||{};_9=_2.CodeMirror=_2.CodeMirror||{};_=_2.Hint=_2.Hint||{};$=_2.HintResponse=_2.HintResponse||{};ba=_2.HintOptions=_2.HintOptions||{};bb=_2.LintResponse=_2.LintResponse||{};bc=_2.SplitterBar=_2.SplitterBar||{};bd=_2.SectionType=_2.SectionType||{};be=_2.Grid=_2.Grid||{};bf=_2.TabStrip=_2.TabStrip||{};bg=_2.MenuEntry=_2.MenuEntry||{};bh=_2.MenuNode=_2.MenuNode||{};bi=_2.Menu=_2.Menu||{};bj=_2.Action=_2.Action||{};bk=_2.GuiPart=_2.GuiPart||{};bl=_2.HtmlNodeFable=_2.HtmlNodeFable||{};bm=_2.LayoutDescriptionFable=_2.LayoutDescriptionFable||{};bn=_2.GuiPartSourceId=_2.GuiPartSourceId||{};bo=_2.Layout=_2.Layout||{};bp=b.RunCode=b.RunCode||{};bq=bp.RunNode=bp.RunNode||{};br=b.FSharpStation=b.FSharpStation||{};bs=br.FsGlobal=br.FsGlobal||{};bt=bs.Position=bs.Position||{};bu=bs.ErrCompiler=bs.ErrCompiler||{};bv=bs.KeyMapAutoComplete=bs.KeyMapAutoComplete||{};bw=bs.Property=bs.Property||{};bx=bs.PropValue=bs.PropValue||{};by=bs.CodeSnippet=bs.CodeSnippet||{};bz=br.FableModule=br.FableModule||{};bA=bz.Babel=bz.Babel||{};bB=bz.Fable=bz.Fable||{};bC=a.StartupCode$FSharpStation$FSharpStation=a.StartupCode$FSharpStation$FSharpStation||{};bD=a.FSharpStation_JsonDecoder=a.FSharpStation_JsonDecoder||{};bE=a.FSharpStation_JsonEncoder=a.FSharpStation_JsonEncoder||{};bF=a.GeneratedPrintf=a.GeneratedPrintf||{};bG=a.FSharpStation_GeneratedPrintf=a.FSharpStation_GeneratedPrintf||{};bH=a.IntelliFactory;bI=bH&&bH.Runtime;bJ=a.WebSharper;bK=bJ&&bJ.Utils;bL=bJ&&bJ.Strings;bM=bJ&&bJ.List;bN=bJ&&bJ.Seq;bO=bJ&&bJ.Concurrency;bP=a.console;bQ=bJ&&bJ.Collections;bR=bQ&&bQ.Dictionary;bS=bJ&&bJ.CancellationTokenSource;bT=bJ&&bJ.Arrays;bU=bJ&&bJ.Unchecked;bV=a.JSON;bW=a.Date;bX=b&&b.UsefulDotNet;bY=bX&&bX.Messaging;bZ=bJ&&bJ.Remoting;b0=bJ&&bJ.Guid;b1=bJ&&bJ.Option;b2=bZ&&bZ.AjaxRemotingProvider;b3=bJ&&bJ.UI;b4=b3&&b3.Next;b5=b4&&b4.View;b6=b4&&b4.Doc;b7=bJ&&bJ.Operators;b8=b4&&b4.AttrModule;b9=b4&&b4.AttrProxy;b_=b4&&b4.Var;b$=b4&&b4.Input;ca=b$&&b$.Mouse;cb=bQ&&bQ.FSharpSet;cc=bQ&&bQ.BalancedTree;cd=bQ&&bQ.Map;ce=bJ&&bJ.MatchFailureException;cf=bJ&&bJ.Slice;cg=bJ&&bJ.Json;ch=cg&&cg.Provider;ci=a.Object;cj=a.Fable;ck=a.Babel;cl=bQ&&bQ.HashSet;cm=bJ&&bJ.JavaScript;cn=cm&&cm.JSModule;co=bJ&&bJ.Lazy;cp=a.jQuery;cq=bQ&&bQ.FSharpMap;cr=b4&&b4.ListModel;d.modify=function(cs){var ct;function cu(cv){return cv==null?null:{$:1,$0:cs(cv.$0)};}ct=function(cv){return d.defaultValue(a.id,cv);};return function(cv){return ct(cu(cv));};};d.apply=function(cs,ct){var cu;return cs!=null&&cs.$==1&&(ct!=null&&ct.$==1&&(cu=[ct.$0,cs.$0],true))?{$:1,$0:cu[0](cu[1])}:null;};d.iterFO=function(cs,ct){if(cs!=null&&cs.$==1)if(ct!=null&&ct.$==1)ct.$0(cs.$0);};d.iterF=function(cs,ct){if(ct!=null&&ct.$==1)ct.$0(cs);};d.call=function(cs,ct){return ct!=null&&ct.$==1?{$:1,$0:ct.$0(cs)}:null;};d.defaultWith=function(cs,ct){return ct==null?cs():ct.$0;};d.defaultValue=function(cs,ct){return ct==null?cs:ct.$0;};e=c.ExceptionThrown=bI.Class({toString:function(){return this.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return false;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return(function(cs){return function(ct){return cs(bK.prettyPrint(ct));};}(a.id))(this.exn);}},bJ.Obj,e);e.New=bI.Ctor(function(cs){this.exn=cs;},e);f=c.ErrOptionIsNone=bI.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return false;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return"Option is None";}},bJ.Obj,f);f.New=bI.Ctor(function(){},f);g=c.ErrSimple=bI.Class({toString:function(){return this.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return this.warning;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return this.msg;}},bJ.Obj,g);g.New=bI.Ctor(function(cs,ct){this.msg=cs;this.warning=ct;},g);i=h.ropBuilder=bI.Class({Combine:function(cs,ct){return(h.combine(cs))(ct);},Delay:function(cs){return cs();},Zero:function(){return h.succeed();},Using:function(cs,ct){try{return ct(cs);}finally{cs.Dispose();}},Bind:function(cs,ct){return h.bind(function(cu){return h.tryCall(ct,cu);},cs);},ReturnFrom:a.id,Return:function(cs){return h.succeed(cs);}},bJ.Obj,i);i.New=bI.Ctor(function(){},i);h.result2String=function(cs){return bL.concat("\n",bM.append(bM.ofArray([d.defaultValue("Failed: ",cs.$0)]),h.msgs2String(cs.$1)));};h.countMessages=function(cs){var ct,cu,cv,cw,cx,cy,cz;if(cs.$===0)return"";else{cw=bM.filter(function(cA){return!cA.FSSGlobal_Useful_ErrMsg$get_IsWarning();},cs);cx=bM.filter(function(cA){return cA.FSSGlobal_Useful_ErrMsg$get_IsWarning();},cs);cy=cw.get_Length();cz=cx.get_Length();switch(cy===0?cz===0?0:cz===1?2:5:cy===1?cz===0?1:cz===1?3:(ct=[cy,cz],6):cz===0?4:(ct=[cy,cz],6)){case 0:cv=function(cA){return function(cB){return cA(bK.toSafe(cB));};}(a.id);break;case 1:cv=function(cA){return function(cB){return cA(bK.toSafe(cB));};}(a.id);break;case 2:cv=function(cA){return function(cB){return cA(bK.toSafe(cB));};}(a.id);break;case 3:cv=function(cA){return function(cB){return cA("1 error, 1 warning\n"+bK.toSafe(cB));};}(a.id);break;case 4:cv=((bI.Curried3(function(cA,cB,cC){return cA(a.String(cB)+" errors\n"+bK.toSafe(cC));}))(a.id))(cy);break;case 5:cv=((bI.Curried3(function(cA,cB,cC){return cA(a.String(cB)+" warnings\n"+bK.toSafe(cC));}))(a.id))(cz);break;case 6:cv=(((bI.Curried(function(cA,cB,cC,cD){return cA(a.String(cB)+" errors, "+a.String(cC)+" warnings\n"+bK.toSafe(cD));},4))(a.id))(ct[0]))(ct[1]);break;}return cv(h.getMessages(cs));}};h.getMessages=function(cs){return bL.concat("\n",h.msgs2String(cs));};h.msgs2String=function(cs){return bM.map(function(ct){return ct.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},cs);};h.seqCheck=function(cs){return bN.exists(function(ct){return h.Success(ct).$==1&&true;},cs)?h.failWithMsgs(bN.pick(function(ct){var cu;cu=h.Success(ct);return cu.$==1?{$:1,$0:cu.$0}:null;},cs)):h.succeed(bN.map(function(ct){return ct.$0.$0;},cs));};h.withError=function(cs,ct){var cu;cu=ct.$1;return d.defaultWith(function(){return cs(cu);},ct.$0);};h.ifError=function(cs,ct){return d.defaultValue(cs,ct.$0);};h.failIfTrue=function(cs,ct){return ct?h.fail(cs):h.succeed();};h.failIfFalse=function(cs,ct){return ct?h.succeed():h.fail(cs);};h.tryProtection=function(){return h.succeed();};h.toOption=function(cs){return cs.$0;};h.fromOption=function(cs,ct){return ct!=null&&ct.$==1?h.succeed(ct.$0):h.fail(cs);};h.fromChoice=function(cs,ct){return ct.$==1?h.fail(ct.$0):h.succeed(ct.$0);};h.result=function(){bC.$cctor();return bC.result;};h.tryCall=function(cs,ct){try{return cs(ct);}catch(cu){return h.fail(h.failException(cu));}};h.failException=function(cs){return new e.New(cs);};h.x=function(cs){return h.Success(cs).$==1?"No":"yes";};h.Success=function(cs){return cs.$0==null?{$:1,$0:cs.$1}:{$:0,$0:[cs.$0.$0,cs.$1]};};h.failSimpleWarning=function(cs){return h.fail(new g.New(cs,true));};h.failSimpleError=function(cs){return h.fail(new g.New(cs,false));};h.apply=function(cs,ct){var cu,cv,cw,cx,cy;cu=cs.$1;cv=ct.$1;cw=cs.$0;cx=ct.$0;return cw!=null&&cw.$==1&&(cx!=null&&cx.$==1&&(cy=[cw.$0,cx.$0],true))?{$:0,$0:{$:1,$0:cy[0](cy[1])},$1:bM.append(cu,cv)}:{$:0,$0:null,$1:bM.append(cu,cv)};};h.bind=function(cs,ct){var cu,cv,cw;cu=ct.$0;cv=ct.$1;return cu==null?{$:0,$0:null,$1:cv}:(cw=cs(cu.$0),{$:0,$0:cw.$0,$1:bM.append(cv,cw.$1)});};h.combine=function(cs){var ct;ct=cs.$1;return function(cu){return h.mergeMsgs(ct,cu);};};h.mergeMsgs=function(cs,ct){var cu;cu=h.mapMsgs(function(cv){return bM.append(cs,cv);},ct);return{$:0,$0:cu[0],$1:cu[1]};};h.getMsgs=function(cs){return cs.$1;};h.getOption=function(cs){return cs.$0;};h.mapMsgs=function(cs,ct){return[ct.$0,cs(ct.$1)];};h.mapMsg=function(cs,ct){return[ct.$0,bM.map(cs,ct.$1)];};h.map=function(cs,ct){var cu;return{$:0,$0:(cu=ct.$0,cu==null?null:{$:1,$0:cs(cu.$0)}),$1:ct.$1};};h.failWithMsgs=function(cs){return{$:0,$0:null,$1:cs};};h.fail=function(cs){return{$:0,$0:null,$1:bM.ofArray([cs])};};h.succeedWithMsgs=function(cs,ct){return{$:0,$0:{$:1,$0:cs},$1:ct};};h.succeedWithMsg=function(cs,ct){return{$:0,$0:{$:1,$0:cs},$1:bM.ofArray([ct])};};h.succeed=function(cs){return{$:0,$0:{$:1,$0:cs},$1:bM.T.Empty};};j.StartAsTask=function(cs,ct,cu){return bO.StartAsTask(j.getAsyncR(cs),cu);};j.Start=function(cs,ct){bO.Start(j.getAsync(cs),ct);};k=j.Builder=bI.Class({Using:function(cs,ct){return{$:2,$0:bO.Using(cs,function(cu){return j.wrapper2Async(ct,cu);})};},Combine:function(cs,ct){return j.combine(j.errOptionIsNone(),cs,ct);},Delay:function(cs){return cs();},ReturnFrom:a.id,Return:function(cs){return{$:3,$0:cs};},Zero:function(){return{$:3,$0:null};},Bind:function(cs,ct){return j.bind(ct,{$:4,$0:cs});},Bind$1:function(cs,ct){return j.bind(ct,{$:0,$0:cs});},Bind$2:function(cs,ct){return j.bind(ct,{$:1,$0:cs});},Bind$3:function(cs,ct){return j.bind(ct,cs);}},bJ.Obj,k);k.New=bI.Ctor(function(){},k);j.runSynchronouslyS=function(cs,ct){var cu;cu=j.runSynchronouslyO(cs,ct);return cu[0]==null?(function(cv){return function(cw){return cv("Failed!\n"+bK.toSafe(cw));};}(a.id))(cu[1]):(((bI.Curried3(function(cv,cw,cx){return cv(a.String(cw)+"\n"+bK.toSafe(cx));}))(a.id))(cu[0].$0))(cu[1]);};j.runSynchronouslyO=function(cs,ct){return h.mapMsgs(cs?h.countMessages:h.getMessages,bP.log("runSynchronously should not be used in Javascript"));};j.start=function(cs,ct){j.startV(function(cu){if(cu[0]==null)cs("Failed!\n"+cu[1]);else cs(cu[1]);},ct);};j.startV=function(cs,ct){var cu,cv,cw,cx;function cy(cB){return h.mapMsgs(h.getMessages,cB);}function cz(cB){return[null,cB];}function cA(cB){return[null,cB];}bO.StartWithContinuations(j.getAsyncR(ct),function(cB){return cs(cy(cB));},(cu=(cv=function(cB){return function(cC){return cB(bK.prettyPrint(cC));};}(a.id),function(cB){return cz(cv(cB));}),function(cB){return cs(cu(cB));}),(cw=(cx=function(cB){return function(cC){return cB(bK.prettyPrint(cC));};}(a.id),function(cB){return cA(cx(cB));}),function(cB){return cs(cw(cB));}),null);};j.getAsync=function(cs){var ct,cu,cv,cw,cx,cy;return cs.$==3?bO.Return(cs.$0):cs.$==4?(ct=cs.$0,(cu=null,bO.Delay(function(){var cz,cA;if(ct==null)throw a.Error(h.getMessages(bM.ofArray([j.errOptionIsNone()])));else cA=ct.$0;return bO.Return(cA);}))):cs.$==0?(cv=cs.$0,(cw=null,bO.Delay(function(){var cz,cA,cB;cB=h.Success(cv);if(cB.$==1)throw a.Error(h.getMessages(cB.$0));else cA=cB.$0[0];return bO.Return(cA);}))):cs.$==2?(cx=cs.$0,(cy=null,bO.Delay(function(){return bO.Bind(cx,function(cz){var cA,cB,cC;cC=h.Success(cz);if(cC.$==1)throw a.Error(h.getMessages(cC.$0));else cB=cC.$0[0];return bO.Return(cB);});}))):cs.$0;};j.getAsyncWithDefault=function(cs,ct){var cu;cu=null;return bO.Delay(function(){return bO.Bind(j.getAsyncR(ct),function(cv){return bO.Return(h.withError(cs,cv));});});};j.getAsyncR=function(cs){var ct,cu;return cs.$==3?bO.Return(h.succeed(cs.$0)):cs.$==4?bO.Return(h.fromOption(j.errOptionIsNone(),cs.$0)):cs.$==0?bO.Return(cs.$0):cs.$==2?cs.$0:(ct=cs.$0,(cu=null,bO.Delay(function(){return bO.Bind(ct,function(cv){return bO.Return(h.succeed(cv));});})));};j.getResult=function(cs,ct){if(ct.$==4){if(ct.$0==null)cs(h.fail(j.errOptionIsNone()));else cs(h.succeed(ct.$0.$0));}else if(ct.$==0)cs(ct.$0);else if(ct.$==1)bO.StartWithContinuations(ct.$0,function(cu){cs(h.succeed(cu));},function(cu){cs(h.fail(h.failException(cu)));},function(cu){cs(h.fail(h.failException(cu)));},null);else if(ct.$==2)bO.StartWithContinuations(ct.$0,cs,function(cu){cs(h.fail(h.failException(cu)));},function(cu){cs(h.fail(h.failException(cu)));},null);else cs(h.succeed(ct.$0));};j.wrapper=function(){bC.$cctor();return bC.wrapper;};j.combine=function(cs,ct,cu){return ct.$==4?ct.$0==null?j.addMsgs(cs,bM.ofArray([cs]),cu):cu:ct.$==0?ct.$0.$1.$==0?cu:j.addMsgs(cs,ct.$0.$1,cu):ct.$==1?cu:ct.$==2?cu:cu;};j.addMsgs=function(cs,ct,cu){var cv,cw,cx;if(ct.$===0)return cu;else switch(cu.$==4?cu.$0==null?1:(cv=cu.$0.$0,0):cu.$==0?(cv=cu.$0,2):cu.$==1?(cv=cu.$0,3):cu.$==2?(cv=cu.$0,4):(cv=cu.$0,0)){case 0:return{$:0,$0:h.succeedWithMsgs(cv,ct)};break;case 1:return{$:0,$0:h.mergeMsgs(ct,h.fail(cs))};break;case 2:return{$:0,$0:h.mergeMsgs(ct,cv)};break;case 3:return{$:2,$0:(cw=null,bO.Delay(function(){return bO.Bind(cv,function(cy){return bO.Return(h.succeedWithMsgs(cy,ct));});}))};break;case 4:return{$:2,$0:(cx=null,bO.Delay(function(){return bO.Bind(cv,function(cy){return bO.Return(h.mergeMsgs(ct,cy));});}))};break;}};j.wrapper2Async=function(cs,ct){var cu,cv,cw,cx;cv=j.tryCall(cs,ct);switch(cv.$==4?0:cv.$==0?1:cv.$==1?2:cv.$==2?3:0){case 0:return j.wb2arb(bM.T.Empty,cv);break;case 1:return j.wb2arb(cv.$0.$1,cv);break;case 2:cw=cv.$0;cx=null;return bO.Delay(function(){return bO.Bind(cw,function(cy){return bO.Return(h.succeed(cy));});});break;case 3:return cv.$0;break;}};j.map=function(cs){var ct;ct=function(cu){return j.Return(cs(cu));};return function(cu){return j.bind(ct,cu);};};j.Return=function(cs){return{$:3,$0:cs};};j.bind=function(cs,ct){var cu,cv,cw,cx,cy;switch(ct.$==4?ct.$0==null?1:(cu=ct.$0.$0,0):ct.$==0?(cv=h.Success(ct.$0),cv.$==1?(cu=cv.$0,2):cv.$0[1].$==0?(cu=cv.$0[0],0):(cu=[cv.$0[0],cv.$0[1]],3)):ct.$==1?(cu=ct.$0,4):ct.$==2?(cu=ct.$0,5):(cu=ct.$0,0)){case 0:return j.tryCall(cs,cu);break;case 1:return{$:4,$0:null};break;case 2:return{$:0,$0:h.failWithMsgs(cu)};break;case 3:cw=cu[1];return function(cz){var cA,cB,cC,cD;switch(cz.$==4?cz.$0==null?1:(cA=cz.$0.$0,0):cz.$==0?(cB=h.Success(cz.$0),cB.$==1?(cA=cB.$0,4):cB.$0[1].$==0?(cA=cB.$0[0],2):(cA=[cB.$0[0],cB.$0[1]],3)):cz.$==1?(cA=cz.$0,5):cz.$==2?(cA=cz.$0,6):(cA=cz.$0,0)){case 0:return{$:0,$0:h.succeedWithMsgs(cA,cw)};break;case 1:return{$:0,$0:h.failWithMsgs(new bM.T({$:1,$0:j.errOptionIsNone(),$1:cw}))};break;case 2:return{$:0,$0:h.succeedWithMsgs(cA,cw)};break;case 3:return{$:0,$0:h.succeedWithMsgs(cA[0],bM.append(cw,cA[1]))};break;case 4:return{$:0,$0:h.failWithMsgs(bM.append(cw,cA))};break;case 5:return{$:2,$0:(cC=null,bO.Delay(function(){return bO.Bind(cA,function(cE){return bO.Return(h.succeedWithMsgs(cE,cw));});}))};break;case 6:return{$:2,$0:(cD=null,bO.Delay(function(){return bO.Bind(cA,function(cE){return bO.Return(h.mergeMsgs(cw,cE));});}))};break;}}(j.tryCall(cs,cu[0]));break;case 4:return{$:2,$0:(cx=null,bO.Delay(function(){return bO.Bind(cu,function(cz){return j.wb2arb(bM.T.Empty,j.tryCall(cs,cz));});}))};break;case 5:return{$:2,$0:(cy=null,bO.Delay(function(){return bO.Bind(cu,function(cz){var cA,cB,cC;cA=h.Success(cz);return cA.$==1?(cB=cA.$0,cC=null,bO.Delay(function(){return bO.Return(h.failWithMsgs(cB));})):j.wb2arb(cA.$0[1],j.tryCall(cs,cA.$0[0]));});}))};break;}};j.tryCall=function(cs,ct){try{return cs(ct);}catch(cu){return{$:0,$0:h.fail(h.failException(cu))};}};j.wb2arb=function(cs,ct){var cu,cv,cw,cx,cy,cz;switch(ct.$==2?(cu=ct.$0,1):ct.$==0?(cu=ct.$0,2):ct.$==3?(cu=ct.$0,3):ct.$==4?ct.$0==null?4:(cu=ct.$0.$0,3):(cu=ct.$0,0)){case 0:cv=null;return bO.Delay(function(){return bO.Bind(cu,function(cA){return bO.Return(h.succeedWithMsgs(cA,cs));});});break;case 1:cw=null;return bO.Delay(function(){return bO.Bind(cu,function(cA){return bO.Return(h.mergeMsgs(cs,cA));});});break;case 2:cx=null;return bO.Delay(function(){return bO.Return(h.mergeMsgs(cs,cu));});break;case 3:cy=null;return bO.Delay(function(){return bO.Return(h.succeedWithMsgs(cu,cs));});break;case 4:cz=null;return bO.Delay(function(){return bO.Return(h.failWithMsgs(new bM.T({$:1,$0:j.errOptionIsNone(),$1:cs})));});break;}};j.errOptionIsNone=function(){bC.$cctor();return bC.errOptionIsNone;};l.bind=function(cs,ct){return bO.Bind(ct,cs);};l.apply=function(cs,ct){var cu;cu=null;return bO.Delay(function(){return bO.Bind(bO.StartChild(cs,null),function(cv){return bO.Bind(bO.StartChild(ct,null),function(cw){return bO.Bind(cv,function(cx){return bO.Bind(cw,function(cy){return bO.Return(cx(cy));});});});});});};l.retn=function(cs){return bO.Return(cs);};l.map=function(cs,ct){var cu;cu=null;return bO.Delay(function(){return bO.Bind(ct,function(cv){return bO.Return(cs(cv));});});};m=c.ResetableMemoize=bI.Class({ClearCache:function(){this.cache.Clear();}},bJ.Obj,m);m.New=bI.Ctor(function(cs){this.f=cs;this.cache=new bR.New$5();},m);n.NoPrepo={$:11};n.PrepoEndIf={$:8};n.PrepoElse={$:7};c.asyncStartCancelling=function(){var cs;cs=null;return function(ct){var cu;cs==null?void 0:cs.$0.Cancel$1();cu=new bS.New();bO.Start(ct,{$:1,$0:cu});cs={$:1,$0:cu};};};c.separateDirectives=function(cs){var ct,cu,cv,cw;function cx(cF){return cF[1];}function cy(cF){return cF.$==0?{$:1,$0:cF.$0}:null;}function cz(cF){return cF[1];}function cA(cF){return cF.$==1?{$:1,$0:cF.$0}:null;}function cB(cF){return cF[1];}function cC(cF){return cF.$==5?{$:1,$0:cF.$0}:null;}function cD(cF){return cF[1];}function cE(cF){return cF.$==4?{$:1,$0:cF.$0}:null;}ct=bT.ofSeq(bN.distinct(bN.choose(function(cF){return cy(cx(cF));},cs)));cu=bT.ofSeq(bN.distinct(bN.choose(function(cF){return cA(cz(cF));},cs)));cv=bT.ofSeq(bN.distinct(bN.choose(function(cF){return cC(cB(cF));},cs)));cw=bT.ofSeq(bN.distinct(bN.choose(function(cF){return cE(cD(cF));},cs)));return[bT.ofSeq(bN.map(function(cF){return cF[0];},cs)),ct,cu,cv,cw];};c.separatePrepros=function(cs,ct){var cu;function cv(cy){return d.defaultValue(cy,bN.tryLast(bL.SplitStrings(bL.Trim(cy),["\""],1)));}function cw(cy){return d.defaultValue("",bN.tryHead(bL.SplitStrings(bL.Trim(cy),["#define "],1)));}function cx(cy){return"//"+cy;}cu=cs?cx:a.id;return bT.map(function(cy){var cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL;cz=true;return cz&&(bL.StartsWith(cy,"#define")&&true)?[cx(cy),{$:1,$0:cw(cy)}]:cz&&(bL.StartsWith(cy,"#r")&&true)?[cx(cy),{$:0,$0:cv(cy)}]:cz&&(bL.StartsWith(cy,"#load")&&true)?[cx(cy),{$:2,$0:cv(cy)}]:cz&&(bL.StartsWith(cy,"#nowarn")&&true)?[cx(cy),{$:4,$0:cv(cy)}]:cz&&(bL.StartsWith(cy,"# ")&&true)?[cu(cy),{$:3,$0:cv(cy)}]:cz&&(bL.StartsWith(cy,"#line")&&true)?[cu(cy),{$:3,$0:cv(cy)}]:cz&&(bL.StartsWith(cy,"#I")&&true)?[cx(cy),{$:5,$0:cv(cy)}]:cz&&(bL.StartsWith(cy,"#if")&&true)?[cy,{$:6,$0:cy}]:cz&&(bL.StartsWith(cy,"#else")&&true)?[cy,n.PrepoElse]:cz&&(bL.StartsWith(cy,"#endif")&&true)?[cy,n.PrepoEndIf]:cz&&(bL.StartsWith(cy,"#light")&&true)?[cy,{$:9,$0:false}]:cz&&(bL.StartsWith(cy,"#")&&true)?[cx(cy),{$:10,$0:cy}]:[cy,n.NoPrepo];},ct);};c.swap=function(cs,ct,cu){return cs(cu,ct);};c.REGEX=function(cs,ct,cu){var cv;if(cu===null)return null;else try{cv=(new a.String(cu)).match(new a.RegExp(cs,ct));return bU.Equals(cv,null)?null:cv&&bT.length(cv)===0?null:{$:1,$0:cv};}catch(cw){return null;}};c.extract=function(cs,ct){var cu;return bL.Substring(ct,0,(cu=ct.length,bU.Compare(cs,cu)===-1?cs:cu));};p=o.MessagingClient=bI.Class({poStrings:function(cs){return cs.$==1?cs.$0:[(function(ct){return function(cu){return ct("unexpected response: "+bK.toSafe(cu));};}(a.id))(cs.$0)];},poString:function(cs){return cs.$==1?(function(ct){return function(cu){return ct(bK.printArray(bK.prettyPrint,cu));};}(a.id))(cs.$0):cs.$0;},poMsg:function(cs,ct){var cu,cv;cu=this;cv=null;return bO.Delay(function(){return bO.Bind(cu.sendMessage(o.AddressId("WebServer:PostOffice"),bV.stringify((bE.j$6())(ct))),function(cw){return bO.Return(cs((bD.j$6())(bV.parse(cw))));});});},sendMessage:function(cs,ct){return(((o.sendRequestF())(cs))(this.fromId))(ct);},awaitMessage:function(cs){var ct,cu;ct=this;(o.AsyncStartF())((cu=null,bO.Delay(function(){return bO.While(function(){return true;},bO.Delay(function(){(((bI.Curried3(function(cv,cw,cx){return cv(bK.toSafe(cw)+" awaitRequest "+bK.toSafe(cx));}))(function(cv){bP.log(cv);}))(function(cv){return cv.getFullYear()+"-"+(cv.getMonth()+1)+"-"+cv.getDate()+" "+cv.getHours()+":"+cv.getMinutes()+":"+cv.getSeconds()+":"+cv.getMilliseconds();}(new a.Date(bW.now()))))(ct.clientId);return bO.Bind(bO.StartChild((o.awaitRequestForF())(ct.fromId),{$:1,$0:ct.tout}),function(cv){return bO.TryWith(bO.Delay(function(){return bO.Bind(cv,function(cw){return bO.Bind(cs(ct.clientId,cw.content),function(cx){return bO.Bind(((o.replyToF())(cw.messageId.$0))(cx),function(){return bO.Return(null);});});});}),function(cw){return cw instanceof bJ.TimeoutException?bO.Zero():((function(cx){return function(cy){return cx(bK.prettyPrint(cy));};}(function(cx){bP.log(cx);}))(cw),bO.Zero());});});}));})));},get_ClientId:function(){return this.clientId;},get_EndPoint:function(){return this.wsEndPoint;},POListeners:function(){var cs;cs=this;return this.poMsg(function(ct){return cs.poStrings(ct);},bY.POMessage.POListeners);},POMessage:function(cs){return this.poMsg(a.id,cs);},SendMessage:function(cs,ct){return this.sendMessage(cs,ct);},AwaitMessage:function(cs){this.awaitMessage(cs);},AwaitMessage$1:function(cs){this.awaitMessage(function(ct,cu){var cv;cv=null;return bO.Delay(function(){return bO.Return(cs(ct,cu));});});}},bJ.Obj,p);p.get_EndPoint_=function(){return"http://localhost:9010/FSharpStation";};p.New=bI.Ctor(function(cs,ct,cu){this.clientId=cs;this.wsEndPoint=d.defaultValue("http://localhost:9010/FSharpStation",cu);this.tout=d.defaultValue(100000,ct);this.fromId=o.AddressId(this.clientId);bZ.set_EndPoint(this.wsEndPoint);},p);q=o.CodeSnippetId=bI.Class({get_Text:function(){return a.String(this.$0);}},null,q);q.get_New=function(){return new q({$:0,$0:b0.NewGuid()});};r=o.CodeSnippet=bI.Class({SeparateCode:function(cs){var ct,cu,cv,cw,cx,cy;function cz(cA,cB){return[bL.replicate(cu," ")+cA,cB];}ct=!cs||this.properties.ContainsKey("NoLinePre");cu=this.levelCode*2;cv=cu===0?[a.id,""]:[function(cA){return bT.map(function(cB){return cz(cB[0],cB[1]);},cA);},(function(cA){return function(cB){return cA("("+a.String(cB)+")");};}(a.id))(cu)];cw=c.separateDirectives(cv[0](c.separatePrepros(!cs,(ct?a.id:(cx=[(((bI.Curried3(function(cA,cB,cC){return cA("# 1 @\""+bK.toSafe(cB)+bK.toSafe(cC)+"\"");}))(a.id))(cv[1]))(this.get_NameSanitized())],function(cA){return cx.concat(cA);}))(bL.SplitChars(this.content,["\n"],0)))));cy=cw[0];return[[[this.get_NameSanitized(),bT.length(cy),cu]],cy,cw[1],cw[2],cw[3],cw[4]];},UniquePredecessors:function(cs){return o.predsL(cs,bM.ofArray([this.id]));},get_NameSanitized:function(){return this.id.get_Text()+" "+o.sanitize(this.get_Name())+".fsx";},get_Name:function(){return o.snippetName(this.name,this.content);}},null,r);r.CodeFsx=function(cs,ct){return(r.CodeAndStarts(cs,ct))[0];};r.CodeAndStarts=function(cs,ct){var cu;cu=r.ReducedCode(cs,ct);return r.FinishCode(cs,cu[0],cu[1],cu[2],cu[3],cu[4],cu[5]);};r.FinishCode=function(cs,ct,cu,cv,cw,cx,cy){var cz,cA;cz=bL.concat(" ",bN.map(function(cB){return"-d:"+cB;},bN.sort(cw)));cA=bM.ofSeq(bN.delay(function(){return bN.append(cz!==""?["////"+cz]:[],bN.delay(function(){return bN.append(bN.map(function(cB){return function(cC){return cB("#I @\""+bK.toSafe(cC)+"\"");};}(a.id),cx),bN.delay(function(){return bN.append(bN.map(function(cB){return function(cC){return cB("#r @\""+bK.toSafe(cC)+"\"");};}(a.id),cv),bN.delay(function(){return bN.append(cs&&!bN.isEmpty(cy)?["# 1 \"required for nowarns to work\""]:[],bN.delay(function(){return bN.map(function(cB){return function(cC){return cB("#nowarn \""+bK.toSafe(cC)+"\"");};}(a.id),cy);}));}));}));}));}));return[bL.concat("\n",bN.append(cA,cu)),bT.ofSeq((bN.mapFold(function(cB,cC){var cD;cD=cC[1];return[[cC[0],[cC[2],cB,cB+cD]],cB+cD];},cA.get_Length(),ct))[0])];};r.ReducedCode=function(cs,ct){var cu,cv;function cw(cx,cy,cz,cA,cB,cC){return function(cD){return r.AddSeps(cx,cy,cz,cA,cB,cC,cD[0],cD[1],cD[2],cD[3],cD[4],cD[5]);};}cu=bN.reduce(function(cx,cy){return(function(cz){return cw(cz[0],cz[1],cz[2],cz[3],cz[4],cz[5]);}(cx))(cy);},(cv=bN.map(function(cx){return cx.SeparateCode(cs);},ct),bN.isEmpty(cv)?[[[],[],[],[],[],[]]]:cv));return[cu[0],[bL.concat("\n",cu[1])],cu[2],cu[3],cu[4],cu[5]];};r.AddSeps=function(cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD){return[cs.concat(cy),ct.concat(cz),bT.ofSeq(bN.distinct(bN.append(cu,cA))),bT.ofSeq(bN.distinct(bN.append(cv,cB))),bT.ofSeq(bN.distinct(bN.append(cw,cC))),bT.ofSeq(bN.distinct(bN.append(cx,cD)))];};r.TryFindByKey=function(cs,ct){return bN.tryFind(function(cu){return bU.Equals(cu.id,ct);},cs);};r.New=function(cs,ct,cu,cv,cw,cx,cy,cz,cA){return new r({name:cs,content:ct,parent:cu,predecessors:cv,id:cw,expanded:cx,level:cy,levelCode:cz,properties:cA});};s.GetWholeFile={$:11};s.GetIdentification={$:0};t.FSInfor={$:2};t.FSWarning={$:1};t.FSError={$:0};u=o.FsStationClientErr=bI.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return this.$==0&&(this.$1.$==0&&true);},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return this.$==0?(((bI.Curried3(function(cs,ct,cu){return cs(bG.p(ct)+" "+bK.toSafe(cu));}))(a.id))(this.$1))(this.$0):(function(cs){return function(ct){return cs(bG.p$1(ct));};}(a.id))(this);}},null,u);v=o.FsStationClient=bI.Class({snippetResponse:function(cs){return cs.$==2?h.succeed(cs.$0):h.fail(new u({$:1,$0:a.String(cs)}));},snippetsResponse:function(cs){return cs.$==3?h.succeed(cs.$0):h.fail(new u({$:1,$0:a.String(cs)}));},stringResponse:function(cs){var ct,cu;return cs.$==1&&((cu=cs.$0,cu!=null&&cu.$==1)&&(ct=cs.$0.$0,true))?h.succeed(ct):h.fail(new u({$:1,$0:a.String(cs)}));},stringResponseR:function(cs){var ct,cu;function cv(cw,cx){return new u({$:0,$0:cw,$1:cx});}return cs.$==4&&((cu=cs.$0,cu!=null&&cu.$==1)&&(ct=[cs.$0.$0,cs.$1],true))?h.succeedWithMsgs(ct[0],bM.ofSeq(bN.map(function(cw){return cv(cw[0],cw[1]);},ct[1]))):h.fail(new u({$:1,$0:a.String(cs)}));},get_MessagingClient:function(){return this.msgClient;},get_FSStationId:function(){return this.fsIds;},RunActionCall:function(cs,ct,cu){var cv,cw,cx;function cy(cz){return cv.stringResponseR(cz);}cv=this;cw=this.msgClient.SendMessage(this.toId,bV.stringify((bE.j())({$:14,$0:cs,$1:ct,$2:cu})));cx=j.wrapper();return cx.Delay(function(){return cx.Bind$2(cw,function(cz){return cx.Bind$1(cy((bD.j())(bV.parse(cz))),function(cA){return cx.Return(cA);});});});},RunSnippet:function(cs,ct){var cu,cv,cw;function cx(cy){return cu.stringResponseR(cy);}cu=this;cv=this.msgClient.SendMessage(this.toId,bV.stringify((bE.j())({$:13,$0:bL.SplitChars(ct,["/"],0),$1:cs})));cw=j.wrapper();return cw.Delay(function(){return cw.Bind$2(cv,function(cy){return cw.Bind$1(cx((bD.j())(bV.parse(cy))),function(cz){return cw.Return(cz);});});});},GenericMessage:function(cs){var ct,cu,cv;function cw(cx){return ct.stringResponse(cx);}ct=this;cu=this.msgClient.SendMessage(this.toId,bV.stringify((bE.j())({$:1,$0:cs})));cv=j.wrapper();return cv.Delay(function(){return cv.Bind$2(cu,function(cx){return cv.Bind$1(cw((bD.j())(bV.parse(cx))),function(cy){return cv.Return(cy);});});});},RequestWholeFile:function(){var cs,ct,cu;function cv(cw){return cs.stringResponse(cw);}cs=this;ct=this.msgClient.SendMessage(this.toId,bV.stringify((bE.j())(s.GetWholeFile)));cu=j.wrapper();return cu.Delay(function(){return cu.Bind$2(ct,function(cw){return cu.Bind$1(cv((bD.j())(bV.parse(cw))),function(cx){return cu.Return(cx);});});});},RequestPredsById:function(cs){var ct,cu,cv;function cw(cx){return ct.snippetsResponse(cx);}ct=this;cu=this.msgClient.SendMessage(this.toId,bV.stringify((bE.j())({$:4,$0:cs})));cv=j.wrapper();return cv.Delay(function(){return cv.Bind$2(cu,function(cx){return cv.Bind$1(cw((bD.j())(bV.parse(cx))),function(cy){return cv.Return(cy);});});});},RequestPreds:function(cs){var ct,cu,cv;function cw(cx){return ct.snippetsResponse(cx);}ct=this;cu=this.msgClient.SendMessage(this.toId,bV.stringify((bE.j())({$:8,$0:bL.SplitChars(cs,["/"],0)})));cv=j.wrapper();return cv.Delay(function(){return cv.Bind$2(cu,function(cx){return cv.Bind$1(cw((bD.j())(bV.parse(cx))),function(cy){return cv.Return(cy);});});});},RequestJSCode:function(cs){var ct,cu,cv;function cw(cx){return ct.stringResponseR(cx);}ct=this;cu=this.msgClient.SendMessage(this.toId,bV.stringify((bE.j())({$:10,$0:bL.SplitChars(cs,["/"],0)})));cv=j.wrapper();return cv.Delay(function(){return cv.Bind$2(cu,function(cx){return cv.Bind$1(cw((bD.j())(bV.parse(cx))),function(cy){return cv.Return(cy);});});});},RequestCode:function(cs){var ct,cu,cv;function cw(cx){return ct.stringResponse(cx);}ct=this;cu=this.msgClient.SendMessage(this.toId,bV.stringify((bE.j())({$:7,$0:bL.SplitChars(cs,["/"],0)})));cv=j.wrapper();return cv.Delay(function(){return cv.Bind$2(cu,function(cx){return cv.Bind$1(cw((bD.j())(bV.parse(cx))),function(cy){return cv.Return(cy);});});});},RequestSnippet:function(cs){var ct,cu,cv;function cw(cx){return ct.snippetResponse(cx);}ct=this;cu=this.msgClient.SendMessage(this.toId,bV.stringify((bE.j())({$:9,$0:bL.SplitChars(cs,["/"],0)})));cv=j.wrapper();return cv.Delay(function(){return cv.Bind$2(cu,function(cx){return cv.Bind$1(cw((bD.j())(bV.parse(cx))),function(cy){return cv.Return(cy);});});});},SendMessage:function(cs){var ct,cu;ct=this.msgClient.SendMessage(this.toId,bV.stringify((bE.j())(cs)));cu=j.wrapper();return cu.Delay(function(){return cu.Bind$2(ct,function(cv){return cu.Bind$1(h.succeed((bD.j())(bV.parse(cv))),function(cw){return cu.Return(cw);});});});},SendMessage$1:function(cs,ct){var cu,cv;cu=this.msgClient.SendMessage(cs,bV.stringify((bE.j())(ct)));cv=j.wrapper();return cv.Delay(function(){return cv.Bind$2(cu,function(cw){return cv.Bind$1(h.succeed((bD.j())(bV.parse(cw))),function(cx){return cv.Return(cx);});});});}},bJ.Obj,v);v.get_FSStationId_=function(){return"FSharpStation1516571497034";};v.New=bI.Ctor(function(cs,ct,cu,cv){this.fsIds=d.defaultValue("FSharpStation1516571497034",ct);this.msgClient=new p.New(cs,cu,cv);this.toId=o.AddressId(this.fsIds);},v);o.predsL=function(cs,ct){var cu,cv;cu=ct;cv=bM.T.Empty;while(!(cu.$==0))(function(){var cw,cx;return cu.$==1?(cw=cu.$1,(cx=cu.$0,bN.contains(cx,cv)?void(cu=cw):(cu=bM.collect(a.id,bM.ofArray([cw,bM.collect(function(cy){return bM.append(b1.toList(cy.parent),cy.predecessors);},b1.toList(cs(cx)))])),void(cv=new bM.T({$:1,$0:cx,$1:cv}))))):null;}());return cv;};o.preds=function(cs,ct,cu){var cv,cw;return cu.$==1?(cv=cu.$0,(cw=bM.collect(a.id,bM.ofArray([cu.$1,bM.collect(function(cx){return bM.append(b1.toList(cx.parent),cx.predecessors);},b1.toList(cs(cv)))])),o.preds(cs,bN.contains(cv,ct)?ct:new bM.T({$:1,$0:cv,$1:ct}),cw))):ct;};o.sanitize=function(cs){var ct;ct=["\"","<",">","|","\u0000","\u0001","\u0002","\u0003","\u0004","\u0005","\u0006","\u0007","\u0008","\u0009","\n","\u000b","\u000c","\r","\u000e","\u000f","\u0010","\u0011","\u0012","\u0013","\u0014","\u0015","\u0016","\u0017","\u0018","\u0019","\u001a","\u001b","\u001c","\u001d","\u001e","\u001f",":","*","?","\\","/"];return bL.Filter(function(cu){return!bT.contains(cu,ct);},cs);};o.snippetName=function(cs,ct){return cs!==""?cs:d.defaultValue("<empty>",bN.tryHead(bN.filter(function(cu){return!(bL.StartsWith(cu,"#")||bL.StartsWith(cu,"[<")||bL.StartsWith(cu,"//"));},bN.map(bL.Trim,bL.SplitChars(ct,["\n"],1)))));};o.AsyncStartF=function(){bC.$cctor();return bC.AsyncStartF;};o.replyToF=function(){bC.$cctor();return bC.replyToF;};o.sendRequestF=function(){bC.$cctor();return bC.sendRequestF;};o.awaitRequestForF=function(){bC.$cctor();return bC.awaitRequestForF;};o.AddressId=function(cs){return{$:0,$0:cs};};o.AsyncStart=function(cs){bO.StartWithContinuations(cs,a.ignore,function(ct){a.alert(a.String(ct));},function(ct){a.alert(a.String(ct));},null);};o.selectF=a.id;w.evaluateAR=function(cs,ct,cu,cv){var cw;cw=null;return bO.Delay(function(){return bO.Bind((new b2.New()).Async("FSharpStation:FSSGlobal.FsEvaluator.evaluateAS:-156288114",[cs,ct,cu,cv]),function(cx){function cy(cz,cA){return new g.New(cz,cA);}return bO.Return({$:0,$0:cx[0],$1:bM.ofSeq(bN.map(function(cz){return cy(cz[0],cz[1]);},cx[1]))});});});};x.translateAR=function(cs,ct){var cu;cu=null;return bO.Delay(function(){return bO.Bind((new b2.New()).Async("FSharpStation:FSSGlobal.FsTranslator.translateAS:608897894",[cs,ct]),function(cv){function cw(cx,cy){return new g.New(cx,cy);}return bO.Return({$:0,$0:cv[0],$1:bM.ofSeq(bN.map(function(cx){return cw(cx[0],cx[1]);},cv[1]))});});});};A.New=function(cs,ct){return{Code:cs,Message:ct};};B.New=function(cs,ct,cu){return{File:cs,Line:ct,Column:cu};};C.New=function(cs,ct,cu,cv){return{Name:cs,ReplacementText:ct,Glyph:cu,GlyphChar:cv};};D.New=function(cs,ct){return{Signature:cs,Comment:ct};};E.New=function(cs,ct,cu,cv){return{Name:cs,CanonicalTypeTextForSorting:ct,Display:cu,Description:cv};};F.New=function(cs,ct,cu,cv){return{Tip:cs,TypeText:ct,Parameters:cu,IsStaticArguments:cv};};G.New=function(cs,ct){return{Name:cs,Type:ct};};H.New=function(cs,ct){return{OutputType:cs,Parameters:ct};};I.New=function(cs,ct,cu){return{Name:cs,CurrentParameter:ct,Overloads:cu};};J.New=function(cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC){return{FileName:cs,StartLine:ct,StartColumn:cu,EndLine:cv,EndColumn:cw,IsFromDefinition:cx,IsFromAttribute:cy,IsFromComputationExpression:cz,IsFromDispatchSlotImplementation:cA,IsFromPattern:cB,IsFromType:cC};};K.New=function(cs,ct){return{Name:cs,Uses:ct};};L.New=function(cs,ct){return{Name:cs,Overloads:ct};};M.New=function(cs,ct,cu){return{Fsc:cs,Fsi:ct,MSBuild:cu};};N.New=function(cs,ct,cu,cv,cw,cx,cy){return{FileName:cs,StartLine:ct,EndLine:cu,StartColumn:cv,EndColumn:cw,Message:cx,Subcategory:cy};};O.New=function(cs,ct){return{File:cs,Errors:ct};};P.New=function(cs){return{Kind:cs};};Q.New=function(cs,ct,cu,cv,cw,cx,cy,cz){return{UniqueName:cs,Name:ct,Glyph:cu,GlyphChar:cv,IsTopLevel:cw,File:cx,EnclosingEntity:cy,IsAbstract:cz};};R.New=function(cs,ct){return{Declaration:cs,Nested:ct};};S.New=function(cs,ct,cu,cv,cw,cx){return{Namespace:cs,Name:ct,Type:cu,Line:cv,Column:cw,MultipleNames:cx};};T.New=function(cs,ct){return{Name:cs,Qualifier:ct};};U.New=function(cs,ct,cu){return{Opens:cs,Qualifies:ct,Word:cu};};V.New=function(cs){return{Text:cs};};W.ACMIdentification={$:0};X=y.FSAutoCompleteIntermediaryClient=bI.Class({info2Bool:function(cs){return cs.$==0&&(cs.$0==="true"&&true);},errors2String:function(cs){return cs.$==7?bL.concat("\n",bN.map(function(ct){return((((((((bI.Curried(function(cu,cv,cw,cx,cy,cz,cA,cB){return cu("ErrFSharp \"F# "+bK.toSafe(cv)+".fsx ("+a.String(cw)+","+a.String(cx)+") - ("+a.String(cy)+","+a.String(cz)+") "+bK.toSafe(cA)+":"+bK.toSafe(cB)+"\"");},8))(a.id))(ct.FileName))(ct.StartLine))(ct.StartColumn))(ct.EndLine))(ct.EndColumn))(ct.Subcategory))(ct.Message);},cs.$0.Errors)):(function(ct){return function(cu){return ct(bG.p$3(cu));};}(a.id))(cs);},tip2String:function(cs){return cs.$==11?bL.concat("\n",bN.collect(function(ct){return bM.ofArray([ct.Signature,ct.Comment]);},bN.collect(a.id,cs.$0))):(function(ct){return function(cu){return ct(bG.p$3(cu));};}(a.id))(cs);},comp2Strings:function(cs){var ct;ct=this;return cs.$==3?bT.map(function(cu){return[cu.Name,cu.ReplacementText,cu.Glyph,cu.GlyphChar];},cs.$0):cs.$==2?[]:cs.$==17?bT.collect(function(cu){return ct.comp2Strings(cu);},cs.$0):[[(function(cu){return function(cv){return cu(bG.p$3(cv));};}(a.id))(cs),"","ErrorMsg","E"]];},Async_map:function(cs,ct){var cu;cu=null;return bO.Delay(function(){return bO.Bind(ct,function(cv){return bO.Return(cs(cv));});});},FindDecl:function(cs,ct,cu,cv){return this.Async_map(a.id,y.sendMessage({$:7,$0:cs,$1:ct,$2:cu,$3:cv}));},FindDecl$1:function(cs,ct,cu){return this.Async_map(a.id,y.sendMessage({$:6,$0:cs,$1:ct,$2:cu}));},Complete:function(cs,ct,cu,cv,cw){var cx;cx=this;return cx.Async_map(function(cy){return cx.comp2Strings(cy);},y.sendMessage({$:9,$0:cs,$1:cu,$2:cv,$3:ct,$4:cw}));},Complete$1:function(cs,ct,cu,cv){var cw;cw=this;return cw.Async_map(function(cx){return cw.comp2Strings(cx);},y.sendMessage({$:8,$0:cs,$1:cu,$2:cv,$3:ct}));},ToolTip:function(cs,ct,cu,cv){var cw;cw=this;return cw.Async_map(function(cx){return cw.tip2String(cx);},y.sendMessage({$:3,$0:cs,$1:ct,$2:cu,$3:cv}));},ToolTip$1:function(cs,ct,cu){var cv;cv=this;return cv.Async_map(function(cw){return cv.tip2String(cw);},y.sendMessage({$:2,$0:cs,$1:ct,$2:cu}));},Parse:function(cs,ct){var cu;cu=this;return cu.Async_map(function(cv){return cu.errors2String(cv);},y.sendMessage({$:10,$0:cs,$1:ct,$2:[]}));},Parse$1:function(cs,ct,cu){var cv;cv=this;return cv.Async_map(function(cw){return cv.errors2String(cw);},y.sendMessage({$:10,$0:cs,$1:ct,$2:cu}));},MustParse:function(cs,ct){var cu;cu=this;return cu.Async_map(function(cv){return cu.info2Bool(cv);},y.sendMessage({$:11,$0:cs,$1:ct}));}},bJ.Obj,X);X.New=bI.Ctor(function(cs,ct){},X);y.sendMessage=function(cs){var ct;ct=null;return bO.Delay(function(){return bO.Bind((new b2.New()).Async("FSharpStation:FSSGlobal.FSAutoCompleteIntermediary.sendMessageRpc:1124743568",[cs]),function(cu){return bO.Return(cu);});});};Z=Y.Val=bI.Class({get_ValTypeMember:function(){return 0;}},null,Z);_0.HelperType={$:0};_0.op_AmpGreater=function(cs,ct){return new Z({$:2,$0:ct});};_0.op_AmpGreater$1=function(cs,ct){return new Z({$:1,$0:ct});};_0.op_AmpGreater$2=function(cs,ct){return ct;};_0.op_AmpGreater$3=function(cs,ct){return ct;};_0.op_AmpGreater$4=function(cs,ct){return ct;};_0.op_AmpGreater$5=function(cs,ct){return ct;};_0.op_AmpGreater$6=function(cs,ct){return ct;};_0.op_AmpGreater$7=function(cs,ct){return ct;};_0.op_AmpGreater$8=function(cs,ct){return ct;};_0.op_AmpGreater$9=function(cs,ct){return new Z({$:0,$0:ct});};_0.op_AmpGreater$10=function(cs,ct){return new Z({$:0,$0:ct});};_0.op_AmpGreater$11=function(cs,ct){return new Z({$:0,$0:ct});};_0.op_AmpGreater$12=function(cs,ct){return new Z({$:0,$0:ct});};_0.op_AmpGreater$13=function(cs,ct){return new Z({$:0,$0:ct});};_0.op_AmpGreater$14=function(cs,ct){return new Z({$:0,$0:ct});};Z.fixitF=function(cs,ct){return cs(ct);};Z.mapCached=function(cs,ct){return new Z({$:2,$0:b5.MapCached(cs,Z.toView(ct))});};Z.sink=function(cs,ct){b5.Sink(cs,Z.toView(Z.fixit(ct)));};Z.mapAsync=function(cs,ct){return new Z({$:2,$0:b5.MapAsync(cs,Z.toView(Z.fixit(ct)))});};Z.iter4=function(cs,ct,cu,cv,cw){Z.iterV(a.ignore,Z.map4(cs,ct,cu,cv,cw));};Z.iter3=function(cs,ct,cu,cv){Z.iterV(a.ignore,Z.map3(cs,ct,cu,cv));};Z.iter2=function(cs,ct,cu){Z.iterV(a.ignore,Z.map2(cs,ct,cu));};Z.map4=function(cs,ct,cu,cv,cw){return Z.map4V(cs,Z.fixit(ct),Z.fixit(cu),Z.fixit(cv),Z.fixit(cw));};Z.map3=function(cs,ct,cu,cv){return Z.map3V(cs,Z.fixit(ct),Z.fixit(cu),Z.fixit(cv));};Z.map2=function(cs,ct,cu){return((Z.map2V(cs))(Z.fixit(ct)))(Z.fixit(cu));};Z.map=function(cs,ct){return Z.mapV(cs,Z.fixit(ct));};Z.bind=function(cs,ct){return Z.bindV(cs,Z.fixit(ct));};Z.iter=function(cs,ct){Z.iterV(cs,Z.fixit(ct));};Z.toDoc=function(cs){return b6.EmbedView(Z.toView(Z.fixit(cs)));};Z.fixit=function(cs){return Z.fixitF(Z.toVal,cs);};Z.toVal=function(cs){return typeof cs=="string"?new Z({$:0,$0:cs}):typeof cs=="number"?new Z({$:0,$0:cs}):typeof cs=="boolean"?new Z({$:0,$0:cs}):cs instanceof b6?new Z({$:0,$0:cs}):cs instanceof Z?cs:cs instanceof b4.Var?new Z({$:1,$0:cs}):"RSet"in cs?new Z({$:1,$0:cs}):typeof cs=="function"?new Z({$:2,$0:cs}):cs.get_ValTypeMember()===0?cs:b7.FailWith((function(ct){return function(cu){return ct("Could not convert "+bK.prettyPrint(cu));};}(a.id))(cs));};Z.attrV=function(cs,ct){return ct.$==2?b8.Dynamic(cs,ct.$0):ct.$==1?b8.Dynamic(cs,ct.$0.RView()):b9.Create(cs,ct.$0);};Z.attrVO=function(cs,ct){var cu,cv;return ct.$==2?(cu=ct.$0,b8.DynamicPred(cs,b5.Map(function(cw){return cw!=null;},cu),b5.Map(function(cw){return cw==null?"":cw.$0;},cu))):ct.$==1?(cv=ct.$0,b8.DynamicPred(cs,b5.Map(function(cw){return cw!=null;},cv.RView()),b5.Map(function(cw){return cw==null?"":cw.$0;},cv.RView()))):ct.$0==null?b8.DynamicPred(cs,b5.Const(false),b5.Const("")):b9.Create(cs,ct.$0.$0);};Z.tagElt=function(cs,ct){return ct.$==2?b6.EmbedView(b5.Map(cs,ct.$0)):ct.$==1?b6.EmbedView(b5.Map(cs,ct.$0.RView())):cs(ct.$0);};Z.tagDoc=function(cs,ct){return ct.$==2?b6.EmbedView(b5.Map(cs,ct.$0)):ct.$==1?b6.EmbedView(b5.Map(cs,ct.$0.RView())):cs(ct.$0);};Z.map4V=function(cs,ct,cu,cv,cw){var cx;cx=Z.map3V(cs,ct,cu,cv);return((Z.map2V(function(cy){return function(cz){return cz(cy);};}))(cw))(cx);};Z.map3V=function(cs,ct,cu,cv){var cw;cw=((Z.map2V(cs))(ct))(cu);return((Z.map2V(function(cx){return function(cy){return cy(cx);};}))(cv))(cw);};Z.map2V=function(cs){function ct(cv,cw,cx){return(cv(cx))(cw);}function cu(cv){var cw,cx;cw=(cx=function(cy){var cz;cz=cs(cy);return function(cA){return Z.mapV(cz,cA);};},function(cy){return ct(cx,cv,cy);});return function(cy){return Z.bindV(cw,cy);};}return(bI.Curried3(ct))(cu);};Z.bindV=function(cs,ct){return ct.$==2?new Z({$:2,$0:b5.Bind(function(cu){return Z.toView(cs(cu));},ct.$0)}):ct.$==1?new Z({$:2,$0:b5.Bind(function(cu){return Z.toView(cs(cu));},ct.$0.RView())}):cs(ct.$0);};Z.toView=function(cs){return cs.$==2?cs.$0:cs.$==1?cs.$0.RView():b5.Const(cs.$0);};Z.iterV=function(cs,ct){if(ct.$==2)b5.Get(cs,ct.$0);else if(ct.$==1)cs(ct.$0.RVal());else cs(ct.$0);};Z.mapV=function(cs,ct){return ct.$==2?new Z({$:2,$0:b5.Map(cs,ct.$0)}):ct.$==1?new Z({$:2,$0:b5.Map(cs,ct.$0.RView())}):new Z({$:0,$0:cs(ct.$0)});};_1=Y.HtmlNode=bI.Class({Style:function(cs){return this.AddChildren([Y.style(cs)]);},AddClass:function(cs){return Y.addClass(cs,this);},InsertChildren:function(cs){return Y.insertChildren(cs,this);},AddChildren:function(cs){return Y.addChildren(cs,this);},get_toDoc:function(){var cs,ct,cu;return this.$==1||this.$==4&&true?b6.Empty():(ct=Y.chooseNode(this),(cu=b6.Empty(),ct==null?cu:ct.$0));}},null,_1);_1.HtmlEmpty=new _1({$:4});_1.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(cs,ct){return Y.indent2Level(11,ct,cs);};_1.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(cs,ct){return Y.indent2Level(10,ct,cs);};_1.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(cs,ct){return Y.indent2Level(9,ct,cs);};_1.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(cs,ct){return Y.indent2Level(8,ct,cs);};_1.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(cs,ct){return Y.indent2Level(7,ct,cs);};_1.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(cs,ct){return Y.indent2Level(6,ct,cs);};_1.op_MinusMinusMinusMinusMinusMinusMinusMinus=function(cs,ct){return Y.indent2Level(5,ct,cs);};_1.op_MinusMinusMinusMinusMinusMinus=function(cs,ct){return Y.indent2Level(4,ct,cs);};_1.op_MinusMinusMinusMinus=function(cs,ct){return Y.indent2Level(3,ct,cs);};_1.op_MinusMinus=function(cs,ct){return Y.indent2Level(2,ct,cs);};_1.op_Addition=function(cs,ct){return new bM.T({$:1,$0:ct,$1:cs});};_1.op_MinusMinusMinus=function(cs,ct){return cs.$==1?cs.$1.$==1?new bM.T({$:1,$0:cs.$1.$0.AddChildren([cs.$0.AddChildren([ct])]),$1:cs.$1.$1}):bM.ofArray([cs.$0.AddChildren([ct])]):bM.T.Empty;};_1.op_Subtraction=function(cs,ct){return cs.$==0?bM.T.Empty:new bM.T({$:1,$0:cs.$0.AddChildren([ct]),$1:cs.$1});};Y.LoadFilesAsync=function(cs){function ct(cu,cv){try{a.CIPHERSpaceLoadFiles(cs,cu);}catch(cw){cv(cw);}}return bO.FromContinuations(function(cu,cv,cw){return ct.apply(null,[cu,cv,cw]);});};Y.findRootElement=function(cs){var ct;return!function(cu){return cs.getRootNode(cu);}?a.document.body:(ct=cs.getRootNode(),!ct.body?ct.firstChild:ct.body);};Y.createIFrame=function(cs){var ct;ct=b_.Create$1(true);return Y.div([Y.style("position: relative; overflow: hidden; height: 100%; width: 100%;"),Y.iframe([Y.style("position: absolute; width:100%; height:100%;"),Y.frameborder("0"),new _1({$:7,$0:b8.OnAfterRender(cs)}),new _1({$:7,$0:b8.Handler("mouseleave",function(){return function(){return b_.Set(ct,true);};})})]),Y.div([Y.style("position: absolute;"),Y.classIf("iframe-cover",Z.map(a.id,ct)),new _1({$:7,$0:b8.Handler("mouseenter",function(){return function(){return b5.Get(function(cu){if(!cu)b_.Set(ct,false);},ca.get_MousePressed());};})})]),Y.styleH([Y.htmlText(".iframe-cover { top:0; left:0; right:0; bottom:0; background: blue; opacity: 0.04; z-index: 2; }")])]);};Y.bindHElem=function(cs,ct){return new _1({$:5,$0:Z.map(cs,Z.fixit(ct))});};Y.string2Styles=function(){bC.$cctor();return bC.string2Styles;};Y.style2pairs=function(cs){return bT.map(function(ct){return[bL.Trim(bT.get(ct,0)),bL.Trim(bT.get(ct,1))];},bT.filter(function(ct){return bT.length(ct)===2;},bT.map(function(ct){return bL.SplitChars(ct,[":"],0);},bL.SplitChars(cs,[";"],0))));};Y.xclass=function(cs){var ct,cu;return new _1({$:7,$0:(ct=Z.fixit(cs),ct.$==2?b8.DynamicClass("class_for_view_not_implemented",ct.$0,function(cv){return""!==cv;}):ct.$==1?(cu=ct.$0,b8.DynamicClass(cu.RVal(),cu.RView(),function(cv){return""!==cv;})):b8.Class(ct.$0))});};Y.classIf=function(cs,ct){return Y["class"](Z.map(function(cu){return cu?cs:"";},Z.fixit(ct)));};Y.css=function(cs){return Y.styleH([Y.htmlText(cs)]);};Y.style1=function(cs,ct){var cu;return Y.style(Z.map((cu=cs+":",function(cv){return cu+cv;}),ct));};Y.style=function(cs){return Y.htmlAttribute("style",cs);};Y.draggable=function(cs){return Y.htmlAttribute("draggable",cs);};Y.spellcheck=function(cs){return Y.htmlAttribute("spellcheck",cs);};Y.frameborder=function(cs){return Y.htmlAttribute("frameborder",cs);};Y.Id=function(cs){return Y.htmlAttribute("id",cs);};Y.title=function(cs){return Y.htmlAttribute("title",cs);};Y.width=function(cs){return Y.htmlAttribute("width",cs);};Y.type=function(cs){return Y.htmlAttribute("type",cs);};Y["class"]=function(cs){return Y.htmlAttribute("class",cs);};Y.src=function(cs){return Y.htmlAttribute("src",cs);};Y.charset=function(cs){return Y.htmlAttribute("charset",cs);};Y.rel=function(cs){return Y.htmlAttribute("rel",cs);};Y.hrefO=function(cs){return Y.htmlAttributeO("href",cs);};Y.href=function(cs){return Y.htmlAttribute("href",cs);};Y.target=function(cs){return Y.htmlAttribute("target",cs);};Y.strong=function(cs){return Y.htmlElement("strong",cs);};Y.section=function(cs){return Y.htmlElement("section",cs);};Y.body=function(cs){return Y.htmlElement("body",cs);};Y.iframe=function(cs){return Y.htmlElement("iframe",cs);};Y.link=function(cs){return Y.htmlElement("link",cs);};Y.fieldset=function(cs){return Y.htmlElement("fieldset",cs);};Y.styleH=function(cs){return Y.htmlElement("style",cs);};Y.script=function(cs){return Y.htmlElement("script",cs);};Y.button=function(cs){return Y.htmlElement("button",cs);};Y.label=function(cs){return Y.htmlElement("label",cs);};Y.tbody=function(cs){return Y.htmlElement("tbody",cs);};Y.td=function(cs){return Y.htmlElement("td",cs);};Y.tr=function(cs){return Y.htmlElement("tr",cs);};Y.th=function(cs){return Y.htmlElement("th",cs);};Y.thead=function(cs){return Y.htmlElement("thead",cs);};Y.table=function(cs){return Y.htmlElement("table",cs);};Y.form=function(cs){return Y.htmlElement("form",cs);};Y.span=function(cs){return Y.htmlElement("span",cs);};Y.img=function(cs){return Y.htmlElement("img",cs);};Y.div=function(cs){return Y.htmlElement("div",cs);};Y.h6=function(cs){return Y.htmlElement("h6",cs);};Y.h5=function(cs){return Y.htmlElement("h5",cs);};Y.h4=function(cs){return Y.htmlElement("h4",cs);};Y.h3=function(cs){return Y.htmlElement("h3",cs);};Y.h2=function(cs){return Y.htmlElement("h2",cs);};Y.h1=function(cs){return Y.htmlElement("h1",cs);};Y.hr=function(cs){return Y.htmlElement("hr",cs);};Y.br=function(cs){return Y.htmlElement("br",cs);};Y.li=function(cs){return Y.htmlElement("li",cs);};Y.ul=function(cs){return Y.htmlElement("ul",cs);};Y.p=function(cs){return Y.htmlElement("p",cs);};Y.a=function(cs){return Y.htmlElement("a",cs);};Y.textV=function(cs){return Y.tag(b6.TextNode,cs);};Y._placeholder=function(cs){return Y.atr("placeholder",cs);};Y._style=function(cs){return Y.atr("style",cs);};Y._type=function(cs){return Y.atr("type",cs);};Y._class=function(cs){return Y.atr("class",cs);};Y.tag=function(cs,ct){return Z.tagDoc(cs,Z.fixit(ct));};Y.atr=function(cs,ct){return Z.attrV(cs,Z.fixit(ct));};Y.renderDoc=function(){bC.$cctor();return bC.renderDoc;};Y.op_BangBang=function(cs,ct){return bM.ofArray([cs(ct)]);};Y.endHtmlIndent=function(cs){var ct;ct=Y.finishO(cs);return ct==null?Y.htmlText("Malformed HTMLNode"):ct.$0;};Y.finishO=function(cs){return cs.$==1?cs.$1.$==1?Y.finishO(Y.out(cs)):{$:1,$0:cs.$0}:null;};Y.indent2Level=function(cs,ct,cu){return cu.get_Length()<cs?new bM.T({$:1,$0:ct,$1:cu}):Y.indent2Level(cs,ct,Y.out(cu));};Y.out=function(cs){return cs.$==1?cs.$1.$==1?new bM.T({$:1,$0:Y.addChildren([cs.$0],cs.$1.$0),$1:cs.$1.$1}):bM.ofArray([cs.$0]):bM.T.Empty;};Y.addClassIf=function(cs,ct){var cu;cu=Z.map(function(cv){return cv?cs:"";},Z.fixit(ct));return function(cv){return Y.addClass(cu,cv);};};Y.addClass=function(cs,ct){return Y.addChildren(bM.ofArray([Y.htmlAttribute("class",cs)]),ct);};Y.insertChildren=function(cs,ct){function cu(cv,cw){return[cv,bN.append(cs,cw)];}return Y.mapHtmlElement(function(cv){return function(cw){return cu(cv,cw);};},ct);};Y.addChildren=function(cs,ct){function cu(cv,cw){return[cv,bN.append(cw,cs)];}return Y.mapHtmlElement(function(cv){return function(cw){return cu(cv,cw);};},ct);};Y.someElt=function(cs){return new _1({$:6,$0:cs});};Y.str=function(cs){return new _1({$:3,$0:Z.fixit(cs)});};Y.htmlText=function(cs){return new _1({$:3,$0:Z.fixit(cs)});};Y.htmlAttributeO=function(cs,ct){return new _1({$:2,$0:cs,$1:Z.fixit(ct)});};Y.htmlAttribute=function(cs,ct){return new _1({$:1,$0:cs,$1:Z.fixit(ct)});};Y.htmlElement=function(cs,ct){return new _1({$:0,$0:cs,$1:ct});};Y.mapHtmlElement=function(cs,ct){var cu;return ct.$==0?(cu=(cs(ct.$0))(ct.$1),new _1({$:0,$0:cu[0],$1:cu[1]})):ct.$==5?new _1({$:5,$0:Z.map(function(cv){return Y.mapHtmlElement(cs,cv);},ct.$0)}):ct;};Y.getAttrChildren=function(cs){var ct,cu,cv;function cw(cx){var cy;return cx.$==1&&(cx.$0===cs&&(cy=[cx.$0,cx.$1],true))?{$:1,$0:cy[1]}:null;}ct=function(cx){return bN.tryPick(cw,cx);};cu=(cv=new Z({$:0,$0:""}),function(cx){return cx==null?cv:cx.$0;});return function(cx){return cu(ct(cx));};};Y.chooseNode=function(cs){var ct,cu,cv,cw;return cs.$==0?(ct=cs.$1,{$:1,$0:b6.Element(cs.$0,Y.getAttrsFromSeq(ct),bN.choose(Y.chooseNode,ct))}):cs.$==3?{$:1,$0:Z.tagDoc(b6.TextNode,cs.$0)}:cs.$==6?{$:1,$0:cs.$0}:cs.$==5?{$:1,$0:(cu=Z.toView(cs.$0),b6.BindView((cv=(cw=b6.Empty(),function(cx){return cx==null?cw:cx.$0;}),function(cx){return cv(Y.chooseNode(cx));}),cu))}:null;};Y.getAttrsFromSeq=function(cs){var ct;ct=bN.choose(Y.chooseAttr,cs);return bN.append(bM.choose(a.id,bM.ofArray([Y.groupAttr("class"," ",cs),Y.groupAttr("style","; ",cs)])),ct);};Y.groupAttr=function(cs,ct,cu){var cv,cw;function cx(cy,cz){return Y.concat(ct,cy,cz);}cv=bN.choose(function(cy){return Y.chooseThisAttr(cs,cy);},cu);return bN.isEmpty(cv)?null:{$:1,$0:Z.attrV(cs,(cw=(bI.Curried3(Z.map2))(function(cy){return function(cz){return cx(cy,cz);};}),bN.reduce(function(cy,cz){return(cw(cy))(cz);},cv)))};};Y.concat=function(cs,ct,cu){return ct+cs+cu;};Y.chooseThisAttr=function(cs,ct){var cu;return ct.$==1&&(ct.$0===cs&&(cu=[ct.$0,ct.$1],true))?{$:1,$0:cu[1]}:null;};Y.chooseAttr=function(cs){var ct,cu,cv,cw;return cs.$==1&&((cu=cs.$0,cu!=="class"&&cu!=="style")&&(ct=[cs.$0,cs.$1],true))?{$:1,$0:Z.attrV(ct[0],ct[1])}:cs.$==2&&((cw=cs.$0,cw!=="class"&&cw!=="style")&&(cv=[cs.$0,cs.$1],true))?{$:1,$0:Z.attrVO(cv[0],cv[1])}:cs.$==7?{$:1,$0:cs.$0}:null;};Y.addClassX=function(cs,ct){var cu;return bL.concat(" ",(cu=new cb.New$1(cc.OfSeq(bL.SplitChars(cs,[" "],0))),new cb.New$1(cc.OfSeq(bN.append(new cb.New$1(cc.OfSeq(bL.SplitChars(ct,[" "],0))),cu)))));};_3=_2.Button=bI.Class({OnClick:function(cs){return _3.New(this._class,this._type,this.style,this.text,cs,this.disabled,this.id);},Disabled:function(cs){return _3.New(this._class,this._type,this.style,this.text,this.onClick,Z.fixit(cs),this.id);},Text:function(cs){return _3.New(this._class,this._type,this.style,Z.fixit(cs),this.onClick,this.disabled,this.id);},Style:function(cs){return _3.New(this._class,this._type,Z.fixit(cs),this.text,this.onClick,this.disabled,this.id);},Type:function(cs){return _3.New(this._class,Z.fixit(cs),this.style,this.text,this.onClick,this.disabled,this.id);},Class:function(cs){return _3.New(Z.fixit(cs),this._type,this.style,this.text,this.onClick,this.disabled,this.id);},Id:function(cs){return _3.New(this._class,this._type,this.style,this.text,this.onClick,this.disabled,cs);},get_Render:function(){var cs,ct;return new _1({$:6,$0:(cs=Y.button([Y.type(this._type),Y["class"](this._class),Y.Id(this.id),Y.style(this.style),new _1({$:7,$0:(ct=b5.Const(""),b8.DynamicPred("disabled",Z.toView(this.disabled),ct))}),new _1({$:7,$0:b9.Handler("click",this.onClick)}),new _1({$:3,$0:this.text})]),(Y.renderDoc())(cs))});}},null,_3);_3.New$1=function(cs){return _3.New(Z.fixit("btn"),Z.fixit("button"),Z.fixit(""),Z.fixit(cs),function(){return function(){return null;};},Z.fixit(false),"");};_3.New=function(cs,ct,cu,cv,cw,cx,cy){return new _3({_class:cs,_type:ct,style:cu,text:cv,onClick:cw,disabled:cx,id:cy});};_4=_2.Input=bI.Class({get_Var:function(){return this["var"];},SetVar:function(cs){return _4.New(this._type,this._class,this.style,this.placeholder,this.id,cs,this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Suffix:function(cs){return _4.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,cs,this.content,this.prefixAdded,true);},Prefix:function(cs){return this.Prefix$1(Y.htmlText(cs));},Prefix$1:function(cs){return _4.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],cs,this.suffix,this.content,true,this.suffixAdded);},Content:function(cs){return _4.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,cs,this.prefixAdded,this.suffixAdded);},Id:function(cs){return _4.New(this._type,this._class,this.style,this.placeholder,cs,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Placeholder:function(cs){return _4.New(this._type,this._class,this.style,Z.fixit(cs),this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Style:function(cs){return _4.New(this._type,this._class,Z.fixit(cs),this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Type:function(cs){return _4.New(Z.fixit(cs),this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Class:function(cs){return _4.New(this._type,Z.fixit(cs),this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},get_Render:function(){var cs;function ct(cu){return cu.$==3?"input-group-addon":"input-group-btn";}cs=this;return Y.div(bM.ofSeq(bN.delay(function(){return bN.append(cs.prefixAdded||cs.suffixAdded?[Y["class"]("input-group")]:[],bN.delay(function(){return bN.append(cs.prefixAdded?[Y.span([Y["class"](ct(cs.prefix)),cs.prefix])]:[],bN.delay(function(){return bN.append([new _1({$:6,$0:b6.Input(bN.append(cs.content,bM.ofArray([Y._type(cs._type),Y._class(cs._class),Y._style(cs.style),b9.Create("id",cs.id),Y._placeholder(cs.placeholder)])),cs["var"])})],bN.delay(function(){return cs.suffixAdded?[Y.span([Y["class"](ct(cs.suffix)),cs.suffix])]:[];}));}));}));})));}},null,_4);_4.New$1=function(cs){return _4.New$2(b_.Create$1(cs));};_4.New$2=function(cs){var ct;ct=Z.fixit("form-control");return _4.New(Z.fixit("text"),ct,Z.fixit(""),Z.fixit("Enter text:"),"",cs,_1.HtmlEmpty,_1.HtmlEmpty,bM.T.Empty,false,false);};_4.New=function(cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC){return new _4({_type:cs,_class:ct,style:cu,placeholder:cv,id:cw,"var":cx,prefix:cy,suffix:cz,content:cA,prefixAdded:cB,suffixAdded:cC});};_5=_2.Hoverable=bI.Class({Content:function(cs){var ct;ct=this;return cs.AddChildren([Y.classIf("hovering",this.hover),new _1({$:7,$0:b8.Handler("mouseenter",function(){return function(){return ct.hover.set_RVal(true);};})}),new _1({$:7,$0:b8.Handler("mouseleave",function(){return function(){return ct.hover.set_RVal(false);};})})]);},Content$1:function(cs){var ct;ct=this;return Y.div(bN.append(cs,bM.ofArray([Y.classIf("hovering",this.hover),new _1({$:7,$0:b8.Handler("mouseenter",function(){return function(){return ct.hover.set_RVal(true);};})}),new _1({$:7,$0:b8.Handler("mouseleave",function(){return function(){return ct.hover.set_RVal(false);};})})])));}},null,_5);_5.get_Demo=function(){return _5.get_New().Content(Y.div([Y.style("flex-flow: column;")]));};_5.get_New=function(){return _5.New(b_.Create$1(false));};_5.New=function(cs){return new _5({hover:cs});};_6=_2.TextArea=bI.Class({get_Var:function(){return this["var"];},SetVar:function(cs){return _6.New(this._class,this.placeholder,this.title,this.spellcheck,this.id,cs);},Id:function(cs){return _6.New(this._class,this.placeholder,this.title,this.spellcheck,cs,this["var"]);},Spellcheck:function(cs){return _6.New(this._class,this.placeholder,this.title,cs,this.id,this["var"]);},Title:function(cs){return _6.New(this._class,this.placeholder,Z.fixit(cs),this.spellcheck,this.id,this["var"]);},Placeholder:function(cs){return _6.New(this._class,Z.fixit(cs),this.title,this.spellcheck,this.id,this["var"]);},Class:function(cs){return _6.New(Z.fixit(cs),this.placeholder,this.title,this.spellcheck,this.id,this["var"]);},get_Render:function(){return this.RenderWith(bM.T.Empty);},RenderWith:function(cs){return Y.div([Y.someElt(b6.InputArea(bM.append(bM.ofArray([Y._class(this._class),b9.Create("id",this.id),Y.atr("spellcheck",Z.map(function(ct){return ct?"true":"false";},this.spellcheck)),Y.atr("title",this.title),Y.atr("style","height: 100%;  width: 100%; box-sizing: border-box; "),Y._placeholder(this.placeholder)]),cs),this["var"]))]);}},null,_6);_6.New$1=function(cs){return _6.New$2(b_.Create$1(cs));};_6.New$2=function(cs){return _6.New(Z.fixit("form-control"),Z.fixit("Enter text:"),Z.fixit(""),Z.fixit(false),"",cs);};_6.New=function(cs,ct,cu,cv,cw,cx){return new _6({_class:cs,placeholder:ct,title:cu,spellcheck:cv,id:cw,"var":cx});};_7.New=function(cs,ct){return{line:cs,ch:ct};};_8=_2.CodeMirrorEditor=bI.Class({},bJ.Obj,_8);_8.New=bI.Ctor(function(){},_8);_9=_2.CodeMirror=bI.Class({get_Var:function(){return this["var"];},OnRender:function(cs){return _9.New(this._class,this.style,this.id,this["var"],this.onChange,{$:1,$0:cs},this.editorO);},OnChange:function(cs){return _9.New(this._class,this.style,this.id,this["var"],cs,this.onRender,this.editorO);},Style:function(cs){return _9.New(this._class,Z.fixit(cs),this.id,this["var"],this.onChange,this.onRender,this.editorO);},SetVar:function(cs){return _9.New(this._class,this.style,this.id,cs,this.onChange,this.onRender,this.editorO);},Id:function(cs){return _9.New(this._class,this.style,cs,this["var"],this.onChange,this.onRender,this.editorO);},Class:function(cs){return _9.New(Z.fixit(cs),this.style,this.id,this["var"],this.onChange,this.onRender,this.editorO);},get_Render:function(){var cs;cs=this;return Y.div([Y["class"](this._class),new _1({$:7,$0:b9.Create("id",this.id)}),Y.style("position: relative; height: 300px"),Y.style(this.style),Y.div([Y.style("height: 100%; width: 100%; position: absolute;"),new _1({$:7,$0:b8.OnAfterRender(function(ct){a.CIPHERSpaceLoadFiles(_2.codeMirrorIncludes(),function(){var cu,cv,cw,cx;cu=a.CodeMirror(ct,{theme:"rubyblue",lineNumbers:true,matchBrackets:true,gutters:["CodeMirror-lint-markers"],extraKeys:{Tab:function(cy){cy.replaceSelection("    ","end");},F11:function(cy){cy.setOption("fullScreen",!cy.getOption("fullScreen"));}}});cs.editorO={$:1,$0:cu};cv=cs.onRender;cv==null?void 0:cv.$0(cu);cw=[0];cx=[0];cu.on("changes",function(){var cy;cy=cu.getValue();cs["var"].RVal()!==cy?(cw[0]=cw[0]+1,cs["var"].set_RVal(cy),cs.onChange()):void 0;});b5.Sink(function(){if(cw[0]>cx[0])cx[0]=cw[0];else if(cu.getValue()!==cs["var"].RVal()){cu.setValue(cs["var"].RVal());cu.getDoc().clearHistory();}},cs["var"].RView());});})})]),Y.link([Y.href("/EPFileX/codemirror/content/editor.css"),Y.type("text/css"),Y.rel("stylesheet")]),Y.link([Y.href("/EPFileX/codemirror/content/codemirror.css"),Y.type("text/css"),Y.rel("stylesheet")]),Y.link([Y.href("/EPFileX/codemirror/scripts/addon/display/fullscreen.css"),Y.type("text/css"),Y.rel("stylesheet")]),Y.link([Y.href("/EPFileX/codemirror/scripts/addon/dialog/dialog.css"),Y.type("text/css"),Y.rel("stylesheet")]),Y.link([Y.href("/EPFileX/codemirror/scripts/addon/hint/show-hint.css"),Y.type("text/css"),Y.rel("stylesheet")]),Y.link([Y.href("/EPFileX/codemirror/scripts/addon/lint/lint.css"),Y.type("text/css"),Y.rel("stylesheet")]),Y.css(".CodeMirror { height: 100% }")]);}},null,_9);_9.New$1=function(cs){return _9.New$2(b_.Create$1(cs));};_9.New$2=function(cs){return _9.New(Z.fixit(""),Z.fixit(""),"",cs,a.ignore,null,null);};_9.New=function(cs,ct,cu,cv,cw,cx,cy){return new _9({_class:cs,style:ct,id:cu,"var":cv,onChange:cw,onRender:cx,editorO:cy});};_.New=function(cs,ct,cu){return{text:cs,displayText:ct,className:cu};};$.New=function(cs,ct,cu){return{list:cs,from:ct,to:cu};};ba.New=function(cs,ct,cu){return{hint:cs,completeSingle:ct,container:cu};};bb.New=function(cs,ct,cu,cv){return{message:cs,severity:ct,from:cu,to:cv};};bc=_2.SplitterBar=bI.Class({Children:function(cs){return bc.New(this.value,this.min,this.max,this.vertical,this.node,cs,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},get_After:function(){return bc.New(this.value,this.min,this.max,this.vertical,this.node,this.children,true,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},get_Before:function(){return bc.New(this.value,this.min,this.max,this.vertical,this.node,this.children,false,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Horizontal:function(){return bc.New(this.value,this.min,this.max,Z.fixit(false),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Vertical:function(){return bc.New(this.value,this.min,this.max,Z.fixit(true),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Horizontal$1:function(cs){return bc.New(this.value,this.min,this.max,Z.map(function(ct){return!ct;},Z.fixit(cs)),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Vertical$1:function(cs){return bc.New(this.value,this.min,this.max,Z.fixit(cs),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Max:function(cs){return bc.New(this.value,this.min,Z.fixit(cs),this.vertical,this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Min:function(cs){return bc.New(this.value,Z.fixit(cs),this.max,this.vertical,this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Node:function(cs){return bc.New(this.value,this.min,this.max,this.vertical,cs,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Value:function(cs){this.value.set_RVal(cs);return this;},get_Render:function(){var cs;function ct(cy){return cs.startVer?cy.clientX:cy.clientY;}function cu(){var cy;cy=cs.domElem;return cy!=null&&cy.$==1?cs.startVer?cs.after?cy.$0.parentElement.getBoundingClientRect().width:-cy.$0.parentElement.getBoundingClientRect().width:cs.after?cy.$0.parentElement.getBoundingClientRect().height:-cy.$0.parentElement.getBoundingClientRect().height:100;}function cv(cy){cs.value.set_RVal((ct(cy)-cs.start)*100/cs.size+cs.startP);}function cw(){if(cs.dragging){cs.dragging=false;a.removeEventListener("mousemove",cv,false);a.removeEventListener("mouseup",cw,false);}}function cx(cy,cz){return!cs.dragging?Z.iter(a.ignore,Z.map2(function(cA){return function(cB){cs.dragging=true;cs.startVer=cB;cs.startP=cA;cs.start=ct(cz);cs.size=cu();a.addEventListener("mousemove",cv,false);a.addEventListener("mouseup",cw,false);return cz.preventDefault();};},cs.get_GetValue(),cs.vertical)):null;}cs=this;return this.node.AddChildren([Y["class"](Z.map(function(cy){return cy?"Vertical":"Horizontal";},this.vertical)),new _1({$:7,$0:b8.Handler("mousedown",function(cy){return function(cz){return cx(cy,cz);};})}),new _1({$:7,$0:b8.OnAfterRender(function(cy){cs.domElem={$:1,$0:cy};})}),Y.css("\n                    .Splitter.Vertical   { cursor: col-resize; background-color: #eef ; width : 5px ; margin-left:-7px; }\n                    .Splitter.Horizontal { cursor: row-resize; background-color: #eef ; height: 5px ; margin-top :-7px; }\n                ")]).AddChildren(this.children);},get_GetValue:function(){function cs(cu,cv){return bU.Compare(cu,cv)===-1?cu:cv;}function ct(cu,cv){return bU.Compare(cu,cv)===1?cu:cv;}return Z.map2(function(cu){return function(cv){return cs(cu,cv);};},this.max,Z.map2(function(cu){return function(cv){return ct(cu,cv);};},this.min,this.value));},get_Var:function(){return this.value;}},null,bc);bc.New$1=function(cs){return bc.New$2(b_.Create$1(cs));};bc.New$2=function(cs){return bc.New(cs,Z.fixit(5),Z.fixit(95),Z.fixit(true),Y.div([Y["class"]("Splitter")]),bM.T.Empty,true,false,true,0,0,0,null);};bc.New=function(cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE){return new bc({value:cs,min:ct,max:cu,vertical:cv,node:cw,children:cx,after:cy,dragging:cz,startVer:cA,startP:cB,start:cC,size:cD,domElem:cE});};bd.StFixedPerc={$:2};bd.StFixedPx={$:1};bd.StVariable={$:0};be=_2.Grid=bI.Class({get_Render:function(){return Y.div(this.GridTemplate());},GridTemplate:function(){var cs;cs=this;return bM.ofSeq(bN.delay(function(){function ct(cu,cv){return cu!=null&&cu.$==1?cv.AddChildren([Y.style((function(cw){return function(cx){return cw("grid-area: "+bK.toSafe(cx)+"; dispxlay: grid");};}(a.id))(cu.$0))]):cv;}return bN.append(bN.map(function(cu){return ct(cu[0],cu[1]);},cs.content),bN.delay(function(){function cu(cv,cw){var cx;return cw.$==2?(cx=cw.$0,{$:1,$0:cx.get_Render().InsertChildren([Y.style1("grid-column",a.String(cv+(cx.after?2:1))),Y.style1("grid-row",(function(cy){return function(cz){return cy("1 / "+a.String(cz));};}(a.id))(bT.length(cs.rows)+1))])}):cw.$==1?null:null;}return bN.append(bN.choose(function(cv){return cu(cv[0],cv[1]);},bN.indexed(cs.cols)),bN.delay(function(){function cv(cw,cx){var cy;return cx.$==2?(cy=cx.$0,{$:1,$0:cy.get_Render().InsertChildren([Y.style1("grid-row",a.String(cw+(cy.after?2:1))),Y.style1("grid-column",(function(cz){return function(cA){return cz("1 / "+a.String(cA));};}(a.id))(bT.length(cs.cols)+1))])}):cx.$==1?null:null;}return bN.append(bN.choose(function(cw){return cv(cw[0],cw[1]);},bN.indexed(cs.rows)),bN.delay(function(){return bN.append(cs.styles(),bN.delay(function(){return bN.append([Y.style((((bI.Curried3(function(cw,cx,cy){return cw("display: grid; grid-gap: "+cx.toFixed(6)+"px; padding: "+cy.toFixed(6)+"px; box-sizing: border-box");}))(a.id))(cs.gap))(cs.padding))],bN.delay(function(){return[new _1({$:7,$0:b8.OnAfterRender(function(cw){function cx(cz,cA){return!bU.Equals(cz.RVal(),cA)?cz.set_RVal(cA):null;}function cy(){var cz;cz=cw.getBoundingClientRect();cx(cs.widthHeight,[cz.width,cz.height]);}cy();_2.addResizeObserver(cy,cw);})})];}));}));}));}));}));}));},styles:function(){return bM.ofArray([Y.style1("grid-template-columns",this.style(this.cols,Z.map(function(cs){return cs[0];},this.widthHeight))),Y.style1("grid-template-rows",this.style(this.rows,Z.map(function(cs){return cs[1];},this.widthHeight)))]);},style:function(cs,ct){var cu,cv,cw,cx;function cy(cB,cC){return function(cD){return cD.$==2?[Z.map2(function(cE){return function(cF){return cE+cF;};},cD.$0.get_GetValue(),cB),cC]:cD.$==1?cD.$0.$==1?[cB,Z.map2(function(cE){return function(cF){return cE+cF;};},cD.$0.$0,cC)]:[Z.map2(function(cE){return function(cF){return cE+cF;};},cD.$0.$0,cB),cC]:[cB,cC];};}function cz(cB){return Z.map2(function(cC){return function(cD){var cE,cF,cG;cE=(cF=cC*cD,(cG=0,bU.Compare(cG,cF)===1?cG:cF));return(function(cH){return function(cI){return cH(cI.toFixed(6)+"%");};}(a.id))(cE);};},cw,cB);}function cA(cB){return Z.map(function(cC){var cD,cE;cD=(cE=0,bU.Compare(cE,cC)===1?cE:cC);return(function(cF){return function(cG){return cF(cG.toFixed(6)+"px");};}(a.id))(cD);},cB);}cu=this;return bT.length(cs)===0?new Z({$:0,$0:"100%"}):(cv=bN.fold(function(cB,cC){return(function(cD){return cy(cD[0],cD[1]);}(cB))(cC);},[new Z({$:0,$0:0}),new Z({$:0,$0:0})],cs),(cw=Z.map2(function(cB){return function(cC){return(cC-cu.padding*2-cu.gap*(bT.length(cs)-1)-cB)/(cC-cu.padding*2);};},cv[1],ct),(cx=Z.map(function(cB){return 100-cB;},cv[0]),Z.map(function(cB){return bL.concat(" ",cB);},bN.foldBack(function(cB,cC){function cD(cE,cF){return new bM.T({$:1,$0:cF,$1:cE});}return Z.map2(function(cE){return function(cF){return cD(cE,cF);};},cC,cB.$==2?cz(cB.$0.get_GetValue()):cB.$==1?cB.$0.$==1?cA(cB.$0.$0):cz(cB.$0.$0):cz(cx));},cs,new Z({$:0,$0:bM.T.Empty}))))));},Children:function(cs){return this.changeSplitter(function(ct){return ct.Children(cs);});},Min:function(cs){return this.changeSplitter(function(ct){return ct.Min(cs);});},Max:function(cs){return this.changeSplitter(function(ct){return ct.Max(cs);});},get_Before:function(){return this.changeSplitter(function(cs){return cs.get_Before();});},changeSplitter:function(cs){var ct,cu;ct=this;cu=this.lastSplitter;cu==null?void 0:(function(cv,cw){var cx,cy;if(cw){cx=bT.get(ct.cols,cv);cx.$==2?bT.set(ct.cols,cv,{$:2,$0:cs(cx.$0)}):void 0;}else{cy=bT.get(ct.rows,cv);cy.$==2?bT.set(ct.rows,cv,{$:2,$0:cs(cy.$0)}):void 0;}}).apply(null,cu.$0);return this;},Gap:function(cs){return be.New(this.padding,cs,this.content,this.cols,this.rows,this.widthHeight,this.lastSplitter);},Padding:function(cs){return be.New(cs,this.gap,this.content,this.cols,this.rows,this.widthHeight,this.lastSplitter);},Content:function(cs){return be.New(this.padding,this.gap,this.content.concat([[null,cs]]),this.cols,this.rows,this.widthHeight,this.lastSplitter);},Content$1:function(cs,ct){return be.New(this.padding,this.gap,this.content.concat([[{$:1,$0:cs},ct]]),this.cols,this.rows,this.widthHeight,this.lastSplitter);},RowAuto:function(cs){return be.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:0,$0:bc.New$1(cs).Horizontal()}]),this.widthHeight,this.lastSplitter);},RowVariable:function(cs){return this.NewSplitter(cs,false);},RowVariable$1:function(cs){return be.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:2,$0:cs}]),this.widthHeight,this.lastSplitter);},RowFixed:function(cs){return be.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:1,$0:{$:0,$0:Z.fixit(cs)}}]),this.widthHeight,this.lastSplitter);},RowFixedPx:function(cs){return be.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:1,$0:{$:1,$0:Z.fixit(cs)}}]),this.widthHeight,this.lastSplitter);},ColAuto:function(cs){return be.New(this.padding,this.gap,this.content,this.cols.concat([{$:0,$0:bc.New$1(cs)}]),this.rows,this.widthHeight,this.lastSplitter);},ColVariable:function(cs){return this.NewSplitter(cs,true);},ColVariable$1:function(cs){return be.New(this.padding,this.gap,this.content,this.cols.concat([{$:2,$0:cs}]),this.rows,this.widthHeight,this.lastSplitter);},ColFixed:function(cs){return be.New(this.padding,this.gap,this.content,this.cols.concat([{$:1,$0:{$:0,$0:Z.fixit(cs)}}]),this.rows,this.widthHeight,this.lastSplitter);},ColFixedPx:function(cs){return be.New(this.padding,this.gap,this.content,this.cols.concat([{$:1,$0:{$:1,$0:Z.fixit(cs)}}]),this.rows,this.widthHeight,this.lastSplitter);},NewSplitter:function(cs,ct){var cu,cv,cw;cu=bc.New$1(cs);return ct?(cv={$:1,$0:[bT.length(this.cols),ct]},be.New(this.padding,this.gap,this.content,this.cols.concat([{$:2,$0:cu}]),this.rows,this.widthHeight,cv)):(cw={$:1,$0:[bT.length(this.rows),ct]},be.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:2,$0:cu.Horizontal()}]),this.widthHeight,cw));}},null,be);be.NewBisect=function(cs,ct,cu,cv,cw,cx){var cy,cz,cA;cy=cu?[ct.$==1?function(cB){return cB.ColFixedPx(cv);}:ct.$==2?function(cB){return cB.ColFixed(cv);}:function(cB){return cB.ColVariable(cv);},function(cB){return cB.ColAuto(50);},function(cB){return cB.Content(Y.style("grid-template-areas: 'one   two' "));}]:[ct.$==1?function(cB){return cB.RowFixedPx(cv);}:ct.$==2?function(cB){return cB.RowFixed(cv);}:function(cB){return cB.RowVariable(cv);},function(cB){return cB.RowAuto(50);},function(cB){return cB.Content(Y.style("grid-template-areas: 'one' 'two' "));}];cz=cy[0];cA=cy[1];return(cs?function(cB){return cA(cz(cB));}:function(cB){return cz(cA(cB));})(cy[2](be.get_New().Content$1("one",cw).Content$1("two",cx).Padding(0)));};be.get_New=function(){return be.New(9,9,[],[],[],b_.Create$1([1000,100]),null);};be.New=function(cs,ct,cu,cv,cw,cx,cy){return new be({padding:cs,gap:ct,content:cu,cols:cv,rows:cw,widthHeight:cx,lastSplitter:cy});};bf=_2.TabStrip=bI.Class({get_Render:function(){var cs,ct,cu,cv;cs=this;ct=Y.bindHElem(function(cw){return Y.div(bM.ofSeq(bN.delay(function(){return bN.append([Y["class"]((((bI.Curried3(function(cx,cy,cz){return cx("tab-strip "+bK.toSafe(cy)+" "+bK.toSafe(cz));}))(a.id))(cs.top?"top":"bottom"))(cs.horizontal?"horizontal":"vertical"))],bN.delay(function(){return bN.collect(function(cx){var cy;cy=cx[0];return[_5.get_New().Content(Y.div([Y.htmlText(cx[1][1][0]),Y["class"](Z.map(function(cz){return"tab"+(cz===cy?" selected":"");},cs.selected)),Y.draggable("true"),new _1({$:7,$0:b8.Handler("dragover",function(){return function(cz){return cz.preventDefault();};})}),new _1({$:7,$0:b8.Handler("drag",function(){return function(){(_2.draggedTab())[0]={$:1,$0:[cs,cy]};};})}),new _1({$:7,$0:b8.Handler("drop",function(){return function(cz){cz.preventDefault();cz.stopPropagation();return cs.reorder(cy);};})}),new _1({$:7,$0:b8.Handler("click",function(){return function(){return cs.selected.set_RVal(cy);};})})]))];},bN.indexed(cw));}));})));},this.tabs);Z.sink((cu=this.id,function(cw){_2.setSelectedPanel(cu,cw);}),this.get_Selected());cv=Y.bindHElem(function(cw){return Y.div(bM.ofSeq(bN.delay(function(){return bN.append([Y["class"]("tab-children")],bN.delay(function(){return bN.append([Y.Id(_2.uid2s(cs.id))],bN.delay(function(){function cx(cy,cz){return cz[1].AddChildren([Y.style(Z.map(function(cA){return bN.contains(cy,bN.map(function(cB){return cB[1];},cd.ToSeq(cA)))?"":"display : none";},_2.selectedPanels())),Y.Id(_2.uid2s(cy))]);}return bN.map(function(cy){return cx(cy[0],cy[1]);},cw);}));}));})));},this.tabs);return Y.div([Y["class"]("tab-panel"),this.top?ct:_1.HtmlEmpty,Y.div([cv,Y["class"]("tab-content")]),!this.top?ct:_1.HtmlEmpty,new _1({$:7,$0:b8.Handler("dragover",function(){return function(cw){return cw.preventDefault();};})}),new _1({$:7,$0:b8.Handler("drop",function(){return function(cw){cw.preventDefault();return cs.reorder(bT.length(cs.tabs.RVal()));};})}),Y.css("\n    \n    .tab-panel {\n     overflow  : hidden   ;\n     display   : flex     ;\n     flex-flow : column   ;\n     background: lightgray;\n    }\n    .tab-content {\n     flex      : 1 1     ;\n     overflow  : auto    ;\n     position  : relative;\n    }\n    .tab-children {\n     height    : 100%    ;\n     width     : 100%    ;\n     position  : absolute;\n     display   : grid    ;\n    }\n    .tab-strip {\n     padding   : 0pt     ;\n     flex      : 0 0     ;\n    }\n    .tab {\n     border     : 0.2pt solid transparent;\n     padding    : 0pt 4pt;\n     display    : inline-block;\n     font-family: sans-serif;\n     font-weight: 200;\n     font-size  : small;\n     color      : #666;\n     cursor     : pointer;\n    }\n    .top>.tab {\n     border-radius: 2pt 2pt 0pt 0pt;\n     border-bottom-width: 0pt;\n     vertical-align: bottom;\n    }\n    .bottom>.tab {\n     border-top-width: 0pt;\n     border-radius: 0pt 0pt 2pt 2pt;\n     vertical-align: top;\n    }\n    .horizontal>.tab:not(:first-child) {\n     border-left-width: 0pt;\n    }\n    .tab.hovering {\n     background: red;\n    }\n    .tab.selected {\n     background: white;\n     border-left-width: 0.2pt;\n     color: black;\n     font-weight: 500;\n     border-color: black;\n    }\n    .horizontal>.tab.selected {\n     border-left-width: 0.2pt;\n    }\n    ")]);},Select:function(cs){var ct,cu;function cv(cw,cx){return bU.Equals(cx[0],cs)?(ct.selected.set_RVal(cw),{$:1,$0:true}):null;}ct=this;cu=bN.tryPick(function(cw){return cv(cw[0],cw[1]);},bN.indexed(this.tabs.RVal()));return cu==null?false:cu.$0;},Select$1:function(cs){var ct,cu;function cv(cw,cx){return cx[1][0]===cs?(ct.selected.set_RVal(cw),{$:1,$0:true}):null;}ct=this;cu=bN.tryPick(function(cw){return cv(cw[0],cw[1]);},bN.indexed(this.tabs.RVal()));return cu==null?false:cu.$0;},Select$2:function(cs){this.selected.set_RVal(cs);},get_Selected:function(){return Z.map2(function(cs){return function(ct){var cu;cu=bN.tryItem(ct,cs);return cu==null?null:{$:1,$0:cu.$0[0]};};},this.tabs,this.selected);},get_Vertical:function(){return bf.New(this.selected,this.tabs,this.top,false,this.id);},get_Horizontal:function(){return bf.New(this.selected,this.tabs,this.top,true,this.id);},SetTop:function(cs){return bf.New(this.selected,this.tabs,cs,this.horizontal,this.id);},get_Bottom:function(){return bf.New(this.selected,this.tabs,false,this.horizontal,this.id);},get_Top:function(){return bf.New(this.selected,this.tabs,true,this.horizontal,this.id);},reorder:function(cs){var ct,cu,cv;cv=(_2.draggedTab())[0];if(cv!=null&&cv.$==1){if(!bU.Equals(cv.$0[0].id,this.id))this.moveTab(cv.$0[0],cv.$0[1],cs);else if(cv!=null&&cv.$==1){ct=cv.$0[1];{this.tabs.set_RVal(_2.reorderArray(this.tabs.RVal(),ct,cs));cu=this.selected.RVal();this.selected.set_RVal(cu===ct?cs:cu<ct&&cu<cs||cu>ct&&cu>cs?cu:cu<ct?cu+1:cu-1);}}else throw new ce.New("Compiled\\FSharpStation2\\FSharpStation.fs",3234,18);}else void 0;},moveTab:function(cs,ct,cu){var cv,cw,cx,cy;cv=this.tabs.RVal();cw=cs.tabs.RVal();cx=bT.collect(a.id,[cf.array(cv,{$:1,$0:0},{$:1,$0:cu-1}),[bT.get(cw,ct)],cf.array(cv,{$:1,$0:cu},{$:1,$0:bT.length(cv)-1})]);cy=bT.collect(a.id,[cf.array(cw,{$:1,$0:0},{$:1,$0:ct-1}),cf.array(cw,{$:1,$0:ct+1},{$:1,$0:bT.length(cw)-1})]);cs.tabs.set_RVal(cy);this.tabs.set_RVal(cx);this.selected.set_RVal(cu);cs.selected.RVal()>=bT.length(cy)?cs.selected.set_RVal(0):void 0;_2.RaiseTabMoved(cs,this);}},null,bf);bf.New$1=function(cs){return bf.New$2(b_.Create$1(bT.ofSeq(bN.map(function(ct){return[b0.NewGuid(),ct];},cs))));};bf.New$2=function(cs){return bf.New(b_.Create$1(0),cs,false,true,b0.NewGuid());};bf.New=function(cs,ct,cu,cv,cw){return new bf({selected:cs,tabs:ct,top:cu,horizontal:cv,id:cw});};bg=_2.MenuEntry=bI.Class({get_MenuNode:function(){return new bh({$:1,$0:this});},SubMenu:function(cs){return bg.New(this.text,this.ref,this.active,this.disabled,{$:1,$0:bi.New2(cs).get_DropDown()},this.toolTip,this.target,this.divider,this.onClick);},SubMenu$1:function(cs){return bg.New(this.text,this.ref,this.active,this.disabled,{$:1,$0:bi.New$1(cs).get_DropDown()},this.toolTip,this.target,this.divider,this.onClick);},Disabled:function(cs){return bg.New(this.text,this.ref,this.active,Z.fixit(cs),this.subMenu,this.toolTip,this.target,this.divider,this.onClick);},OnClick:function(cs){return bg.New(this.text,this.ref,this.active,this.disabled,this.subMenu,this.toolTip,this.target,this.divider,{$:1,$0:cs});},get_Divider:function(){return bg.New(this.text,this.ref,this.active,this.disabled,this.subMenu,this.toolTip,this.target,true,this.onClick);},Target:function(cs){return bg.New(this.text,this.ref,this.active,this.disabled,this.subMenu,this.toolTip,{$:1,$0:cs},this.divider,this.onClick);},get_Render:function(){var cs,ct,cu,cv,cw,cx,cy,cz,cA;return(this.divider?function(cB){return Y.addClass("divider",cB);}:a.id)((cs=(ct=(cu=(cv=_2.entryTxt(this.text,(cw=this.target,cw==null?"":cw.$0),this.ref),(Y.addClassIf("active",this.active))(cv)),(Y.addClassIf("disabled",this.disabled))(cu)),(cx=this.subMenu,(cx!=null&&cx.$==1?(cy=bM.ofArray([Y["class"]("dropdown"),cx.$0.get_Render()]),function(cB){return Y.addChildren(cy,cB);}):a.id)(ct))),(cz=this.onClick,(cz!=null&&cz.$==1?(cA=bM.ofArray([new _1({$:7,$0:b9.Handler("click",cz.$0)}),Y.style("cursor : pointer")]),function(cB){return Y.addChildren(cA,cB);}):a.id)(cs))));}},null,bg);bg.New$1=function(cs,ct){var cu;cu=bg.New$2(cs);return bg.New(cu.text,Z.map(function(cv){return{$:1,$0:cv};},ct),cu.active,cu.disabled,cu.subMenu,cu.toolTip,cu.target,cu.divider,cu.onClick);};bg.New$2=function(cs){return bg.New(Z.fixit(cs),new Z({$:0,$0:null}),Z.fixit(false),Z.fixit(false),null,null,null,false,null);};bg.New=function(cs,ct,cu,cv,cw,cx,cy,cz,cA){return new bg({text:cs,ref:ct,active:cu,disabled:cv,subMenu:cw,toolTip:cx,target:cy,divider:cz,onClick:cA});};bh=_2.MenuNode=bI.Class({get_Render:function(){return this.$==1?this.$0.get_Render():this.$0;}},null,bh);bi=_2.Menu=bI.Class({get_Render:function(){var cs;cs=this;return(this.dropdown?_2.dropdown:_2.nav)(bM.ofSeq(bN.delay(function(){return bN.map(function(ct){return ct.get_Render();},cs.entries);})));},get_DropDown:function(){return bi.New(this.entries,true);}},null,bi);bi.New2=function(cs){return bi.New$1(bN.map(function(ct){return new bh({$:1,$0:ct});},cs));};bi.New$1=function(cs){return bi.New(cs,false);};bi.New=function(cs,ct){return new bi({entries:cs,dropdown:ct});};bj=_2.Action=bI.Class({get_Button:function(){var cs,ct,cu;function cv(cw,cx){return null;}cs=(ct=(cu=this.onClick,cu==null?null:{$:1,$0:cu.$0(this)}),ct==null?function(cw){return function(cx){return cv(cw,cx);};}:ct.$0);return _3.New(Z.map(function(cw){return cw?"btn btn-primary":"btn";},this.highlight),Z.fixit("button"),Z.fixit(""),this.text,cs,this.disabled,"");},get_MenuEntry:function(){var cs;return bg.New(this.text,new Z({$:0,$0:null}),this.highlight,this.disabled,null,this.toolTip,null,false,(cs=this.onClick,cs==null?null:{$:1,$0:cs.$0(this)}));},Highlight:function(cs){return bj.New(this.text,Z.fixit(cs),this.disabled,this.toolTip,this.onClick,this.parms);},Disabled:function(cs){return bj.New(this.text,this.highlight,Z.fixit(cs),this.toolTip,this.onClick,this.parms);},OnClick2:function(cs){return bj.New(this.text,this.highlight,this.disabled,this.toolTip,{$:1,$0:cs},this.parms);},OnClick:function(cs){return bj.New(this.text,this.highlight,this.disabled,this.toolTip,{$:1,$0:function(){return cs;}},this.parms);},Parms:function(cs){return bj.New(this.text,this.highlight,this.disabled,this.toolTip,this.onClick,{$:1,$0:cs});},Text:function(cs){return bj.New(Z.fixit(cs),this.highlight,Z.fixit(false),this.toolTip,this.onClick,this.parms);}},null,bj);bj.New$1=function(cs){return bj.New(Z.fixit(cs),Z.fixit(false),Z.fixit(false),null,null,null);};bj.New=function(cs,ct,cu,cv,cw,cx){return new bj({text:cs,highlight:ct,disabled:cu,toolTip:cv,onClick:cw,parms:cx});};bk=_2.GuiPart=bI.Class({GetHtmlNode:function(cs,ct){var cu;return this.$==1?this.$0:this.$==2?this.$0.get_Button().get_Render():this.$==3?be.NewBisect(this.$0,this.$1,this.$2,this.$3,cs.GetNode(this.$4),cs.GetNode(this.$5)).Min(this.$6).Max(this.$7).get_Render():this.$==4?(cu=bf.New$1(bN.map(function(cv){return[cv,cs.GetNode(cv)];},this.$1)).SetTop(this.$0),(_2.addValue(ct,cu,cs.tabStrips),cu.get_Render())):this.$==5?cs.GetCallButton(this.$0,this.$1,this.$2):_1.HtmlEmpty;}},null,bk);bl.New=function(cs,ct,cu,cv,cw,cx,cy){return{HtmlElementF:cs,HtmlAttributeF:ct,HtmlAttributeOF:cu,HtmlTextF:cv,HtmlEmptyF:cw,HtmlGuiPart:cx,HtmlGuiCall:cy};};bm.New=function(cs,ct,cu,cv,cw){return{GuiRoot:cs,GuiTabStrip:ct,GuiSplit:cu,GuiNode:cv,GuiCall:cw};};bn.get_New=function(){return{$:0,$0:b0.NewGuid()};};bo=_2.Layout=bI.Class({SelectTab:function(cs){bN.iter(function(ct){ct.Select$1(cs);},this.tabStrips.get_Values());},SetLayoutJson:function(cs,ct){var cu,cx;function cv(cz){var cA,cB,cC,cD,cE,cF,cG;cA=_2.PHtmlElementF(cz);return cA!=null&&cA.$==1?{$:1,$0:new _1({$:0,$0:cA.$0[0],$1:bN.choose(cv,cA.$0[1])})}:(cB=_2.PHtmlAttributeF(cz),cB!=null&&cB.$==1?{$:1,$0:new _1({$:1,$0:cB.$0[0],$1:new Z({$:0,$0:cB.$0[1]})})}:(cC=_2.PHtmlAttributeOF(cz),cC!=null&&cC.$==1?{$:1,$0:new _1({$:2,$0:cC.$0[0],$1:new Z({$:0,$0:cC.$0[1]})})}:(cD=_2.PHtmlTextF(cz),cD!=null&&cD.$==1?{$:1,$0:new _1({$:3,$0:new Z({$:0,$0:cD.$0})})}:(cE=_2.PHtmlEmptyF(cz),cE!=null&&cE.$==1)?{$:1,$0:_1.HtmlEmpty}:(cF=_2.PHtmlGuiPart(cz),cF!=null&&cF.$==1?{$:1,$0:cx.GetNode(cF.$0)}:(cG=_2.PHtmlGuiCall(cz),cG!=null&&cG.$==1?{$:1,$0:cx.GetCallButton(cG.$0[0],cG.$0[1],cG.$0[2])}:null)))));}function cw(cz){var cA,cB,cC,cD,cE,cF;cA=_2.PGuiNode(cz);return cA!=null&&cA.$==1?{$:1,$0:new bk({$:1,$0:d.defaultValue(_1.HtmlEmpty,cv(cA.$0))})}:(cB=_2.PGuiRoot(cz),cB!=null&&cB.$==1?{$:1,$0:new bk({$:0,$0:cB.$0})}:(cC=_2.PGuiTabStrip(cz),cC!=null&&cC.$==1?{$:1,$0:(cD=cC.$0,new bk({$:4,$0:cD[0],$1:cD[1]}))}:(cE=_2.PGuiSplit(cz),cE!=null&&cE.$==1?{$:1,$0:new bk({$:3,$0:cE.$0[0],$1:_2.toSect(cE.$0[1]),$2:cE.$0[2],$3:cE.$0[3],$4:cE.$0[4],$5:cE.$0[5],$6:cE.$0[6],$7:cE.$0[7]})}:(cF=_2.PGuiCall(cz),cF!=null&&cF.$==1?{$:1,$0:new bk({$:5,$0:cF.$0[0],$1:cF.$0[1],$2:cF.$0[2]})}:null))));}cx=this;try{function cy(cz,cA){var cB;cB=cw(cA);return cB==null?null:{$:1,$0:[cz,{$:1,$0:cA},cB.$0]};}cu=this.AddNewSteps(cs,ct===""?[]:bT.choose(function(cz){return cy(cz[0],cz[1]);},((ch.DecodeArray(ch.DecodeTuple([ch.Id(),bD.j$7])))())(bV.parse(ct))));}catch(cz){cu=(function(cA){return function(cB){return cA("Error: "+bK.prettyPrint(cB));};}(function(cA){bP.log(cA);}))(cz);}},AddNewSteps:function(cs,ct){var cu;function cv(cx,cy,cz){var cA;if(cu.parts.ContainsKey(cx)){cA=(cu.parts.get_Item(cx))[0];!bU.Equals((cA.RVal())[0],cy)?cA.set_RVal([cy,cz]):void 0;}else cu.AddNode(cx,cy,cz);}function cw(cx,cy){return bN.last(cy);}cu=this;bT.iter(function(cx){return cv(cx[0],cx[1],cx[2]);},bT.map(function(cx){return cw(cx[0],cx[1]);},bT.groupBy(function(cx){return a.id(cx[0],cx[1],cx[2]);},cs.concat(ct))));},get_Render:function(){function cs(cu){return cu[0];}function ct(cu){var cv;cv=cu.RVal();return cv[1].$==0?{$:1,$0:cv[1].$0}:null;}return this.GetNode(d.defaultValue("main",bN.tryPick(function(cu){return ct(cs(cu));},this.parts.get_Values())));},GetNode:function(cs){var ct;ct=null;return this.parts.TryGetValue(cs,{get:function(){return ct;},set:function(cu){ct=cu;}})?ct[1]:this.AddNode(cs,bn.get_New(),new bk({$:1,$0:Y.div([Y.htmlText((function(cu){return function(cv){return cu("GuiPart "+bK.toSafe(cv)+" not found");};}(a.id))(cs))])}));},AddNode:function(cs,ct,cu){var cv,cw,cx;function cy(cz,cA){return cA.GetHtmlNode(cv,cs);}cv=this;cw=b_.Create$1([ct,cu]);cx=new _1({$:5,$0:Z.map(function(cz){return cy(cz[0],cz[1]);},cw)});this.parts.Add(cs,[cw,cx]);return cx;},GetCallButton:function(cs,ct,cu){var cv;cv=h.Success(this.GetGuiCallAction(cs,ct,cu));return cv.$==1?Y.div([Y.htmlText(bL.concat(". ",h.msgs2String(cv.$0)))]):cv.$0[0].get_Button().get_Render();},GetGuiCallAction:function(cs,ct,cu){var cv;return this.parts.ContainsKey(ct)?(cv=(this.parts.get_Item(ct))[0].RVal(),cv[1].$==2?h.succeed(cv[1].$0.Text(cs).Parms(bT.map(a.id,cu))):h.failSimpleError((function(cw){return function(cx){return cw("GuiPart "+bK.toSafe(cx)+" is not a GuiAction");};}(a.id))(ct))):h.failSimpleError((function(cw){return function(cx){return cw("GuiAction "+bK.toSafe(cx)+" not found");};}(a.id))(ct));}},null,bo);bo.New$1=function(cs){var ct;function cu(cv,cw,cx){ct.AddNode(cv,cw,cx);}ct=bo.New(new bR.New$5(),new bR.New$5());bN.iter(function(cv){return cu(cv[0],cv[1],cv[2]);},cs);return ct;};bo.AddGuids=function(cs){function ct(cu,cv){return[cu,cv.$==2?bn.get_New():cv.$==0?{$:2,$0:cv.$0}:cv.$==3?{$:4,$0:cv.$0,$1:cv.$1,$2:cv.$2,$3:cv.$3,$4:cv.$4,$5:cv.$5,$6:cv.$6,$7:cv.$7}:cv.$==4?{$:3,$0:cv.$0,$1:cv.$1}:cv.$==5?{$:5,$0:cv.$0,$1:cv.$1,$2:cv.$2}:bn.get_New(),cv];}return bT.ofSeq(bN.map(function(cu){return ct(cu[0],cu[1]);},cs));};bo.New=function(cs,ct){return new bo({parts:cs,tabStrips:ct});};_2.varVerSplitter=function(cs,ct,cu,cv,cw){return new bk({$:3,$0:true,$1:bd.StVariable,$2:true,$3:cs,$4:ct,$5:cu,$6:cv,$7:cw});};_2.varHorSplitter=function(cs,ct,cu,cv,cw){return new bk({$:3,$0:true,$1:bd.StVariable,$2:false,$3:cs,$4:ct,$5:cu,$6:cv,$7:cw});};_2.fixedVerSplitter=function(cs,ct,cu,cv){return new bk({$:3,$0:cs,$1:bd.StFixedPx,$2:true,$3:ct,$4:cu,$5:cv,$6:5,$7:95});};_2.fixedHorSplitter=function(cs,ct,cu,cv){return new bk({$:3,$0:cs,$1:bd.StFixedPx,$2:false,$3:ct,$4:cu,$5:cv,$6:5,$7:95});};_2.toSect=function(cs){return cs==="StVariable"?bd.StVariable:cs==="StFixedPx"?bd.StFixedPx:bd.StFixedPerc;};_2.PGuiCall=function(cs){return cs.GuiCall;};_2.PGuiNode=function(cs){return cs.GuiNode;};_2.PGuiRoot=function(cs){return cs.GuiRoot;};_2.PGuiSplit=function(cs){return cs.GuiSplit;};_2.PGuiTabStrip=function(cs){return cs.GuiTabStrip;};_2.PHtmlGuiCall=function(cs){return cs.HtmlGuiCall;};_2.PHtmlGuiPart=function(cs){return cs.HtmlGuiPart;};_2.PHtmlEmptyF=function(cs){return cs.HtmlEmptyF;};_2.PHtmlTextF=function(cs){return cs.HtmlTextF;};_2.PHtmlAttributeOF=function(cs){return cs.HtmlAttributeOF;};_2.PHtmlAttributeF=function(cs){return cs.HtmlAttributeF;};_2.PHtmlElementF=function(cs){return cs.HtmlElementF;};_2.addValue=function(cs,ct,cu){cu.Remove(cs);cu.Add(cs,ct);};_2.processLayoutSteps=function(cs,ct){var cu;return d.defaultValue(ct,(cu=bN.tryHead(cs),cu==null?null:{$:1,$0:_2.processLayoutSteps(bN.skip(1,cs),ct.Add(cu.$0[0],cu.$0[1]))}));};_2.HtmlGuiCall=function(cs,ct,cu){return new bk({$:5,$0:cs,$1:ct,$2:cu});};_2.Do2=function(cs,ct,cu,cv,cw){return cs(cu,ct);};_2.Do=function(cs,ct,cu,cv){return cs(ct);};_2.navbar=function(cs,ct,cu){return Y.div([Y["class"]("navbar navbar-default"),Y.div([Y["class"]("container-fluid"),Y.div([Y["class"]("navbar-header"),Y.div([Y["class"]("navbar-brand"),cs])]),Y.div([Y["class"]("navbar-collapse collapse"),ct,Y.addClass("navbar-right",cu)])])]);};_2.dropdown=function(cs){return _2.entries(cs,"dropdown-menu");};_2.nav=function(cs){return _2.entries(cs,"nav navbar-nav");};_2.entries=function(cs,ct){return Y.addClass(ct,Y.ul(cs));};_2.entryTxt=function(cs,ct,cu){return _2.menuEntry(_2.refText(cs,ct,cu));};_2.refText=function(cs,ct,cu){return Y.bindHElem(function(cv){return cv===""?_1.HtmlEmpty:_2.refA(Y.htmlText(cv),cv,cu);},cs);};_2.refA=function(cs,ct,cu){return Y.a([cs,Y.hrefO(cu),Y.target(ct)]);};_2.menuEntry=function(cs){return Y.li([cs]);};_2.RaiseTabMoved=function(cs,ct){var cu;cu=_2.TabMoved();cu==null?void 0:cu.$0([cs,ct]);};_2.TabMoved=function(){bC.$cctor();return bC.TabMoved;};_2.set_TabMoved=function(cs){bC.$cctor();bC.TabMoved=cs;};_2.setSelectedPanel=function(cs,ct){b_.Set(_2.selectedPanels(),ct==null?_2.selectedPanels().c.Remove(cs):_2.selectedPanels().c.Add(cs,ct.$0));};_2.selectedPanels=function(){bC.$cctor();return bC.selectedPanels;};_2.uid2s=function(cs){return"X"+bL.Replace(a.String(cs),"-","");};_2.draggedTab=function(){bC.$cctor();return bC.draggedTab;};_2.reorderArray=function(cs,ct,cu){return bT.collect(a.id,cu<ct?[cf.array(cs,{$:1,$0:0},{$:1,$0:cu-1}),[bT.get(cs,ct)],cf.array(cs,{$:1,$0:cu},{$:1,$0:ct-1}),cf.array(cs,{$:1,$0:ct+1},{$:1,$0:bT.length(cs)-1})]:[cf.array(cs,{$:1,$0:0},{$:1,$0:ct-1}),cf.array(cs,{$:1,$0:ct+1},{$:1,$0:cu}),[bT.get(cs,ct)],cf.array(cs,{$:1,$0:cu+1},{$:1,$0:bT.length(cs)-1})]);};_2.reorderList=function(cs,ct,cu){return cu<ct?bM.append(cs.GetSlice({$:1,$0:0},{$:1,$0:cu-1}),bM.append(bM.ofArray([cs.get_Item(ct)]),bM.append(cs.GetSlice({$:1,$0:cu},{$:1,$0:ct-1}),cs.GetSlice({$:1,$0:ct+1},{$:1,$0:cs.get_Length()-1})))):bM.append(cs.GetSlice({$:1,$0:0},{$:1,$0:ct-1}),bM.append(cs.GetSlice({$:1,$0:ct+1},{$:1,$0:cu}),bM.append(bM.ofArray([cs.get_Item(ct)]),cs.GetSlice({$:1,$0:cu+1},{$:1,$0:cs.get_Length()-1}))));};_2.addResizeObserver=function(cs,ct){var cu,cv,cw,cx;try{cu=!(!a.ResizeObserver);}catch(cy){cu=false;}if(cu){cv=new a.ResizeObserver(cs);_2.set_observers(new bM.T({$:1,$0:cv,$1:_2.observers()}));cv.observe(ct);}else{cw=_2.dimsChanged(ct);bO.Start((cx=null,bO.Delay(function(){return bO.While(function(){return ct.isConnected;},bO.Delay(function(){return bO.Bind(bO.Sleep(110),function(){return cw()?(cs(),bO.Zero()):bO.Zero();});}));})),null);}};_2.dimsChanged=function(cs){var ct;ct=cs.getBoundingClientRect();return function(){var cu;cu=cs.getBoundingClientRect();return bU.Equals(_2.domRect2Tuple(ct),_2.domRect2Tuple(cu))?false:(ct=cu,true);};};_2.domRect2Tuple=function(cs){return[cs.top,cs.left,cs.width,cs.height];};_2.observers=function(){bC.$cctor();return bC.observers;};_2.set_observers=function(cs){bC.$cctor();bC.observers=cs;};_2.setLint=function(cs,ct){cs.setOption("lint",{async:1,getAnnotations:bI.CreateFuncWithArgs(ct),container:Y.findRootElement(cs.getWrapperElement())});};_2.showHints=function(cs,ct,cu,cv){var cw;cw=ba.New(bI.CreateFuncWithArgs(ct),cu,Y.findRootElement(cs.getWrapperElement()));cw.hint.async=1;cs.showHint(cw);};_2.cmPos=function(cs,ct){return _7.New(cs,ct);};_2.codeMirrorIncludes=function(){bC.$cctor();return bC.codeMirrorIncludes;};_2.hoverable=function(cs){return _5.get_New().Content(cs);};bq=bp.RunNode=bI.Class({createBaseNode:function(){var cs;cs=a.document.createElement("div");cs.setAttribute("id",this.nodeName);a.document.body.appendChild(cs);return cs;},createNode:function(){var cs;cs=a.document.createElement("div");cs.style="height: 100%; width: 100%;";return cs;},RunHtml:function(cs){this.RunDoc((Y.renderDoc())(cs));},RunDoc:function(cs){b6.Run(this.get_RunNode(),cs);},get_AddBootstrap:function(){var cs;cs=a.document.createElement("div");cs.innerHTML="<script src='http://code.jquery.com/jquery-3.1.1.min.js' type='text/javascript' charset='UTF-8'></script>\n                <script src='http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js' type='text/javascript' charset='UTF-8'></script>\n                <link type='text/css' rel='stylesheet' href='http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css'>\n                <link type='text/css' rel='stylesheet' href='/EPFileX/css/main.css'>\n               ";this.runNode.parentElement.appendChild(cs);return this;},get_RunNode:function(){return this.runNode;}},bJ.Obj,bq);bq.New=bI.Ctor(function(cs){bq.New$1.call(this,"TestNode",cs);},bq);bq.New$1=bI.Ctor(function(cs,ct){var cu,cv,cw,cx,cy;this.nodeName=cs;cu=(cv=a.document.getElementById(this.nodeName),bU.Equals(cv,null)?this.createBaseNode():cv);this.runNode=(cw=cu.shadowRoot,bU.Equals(cw,null)?(cx=this.createNode(),(cu.attachShadow({mode:"open"}).appendChild(cx),cy=this.createNode(),cx.appendChild(cy),cy)):cw.firstChild);ct==null||ct.$0?this.runNode.innerHTML="":void 0;},bq);bp.completeJS=function(cs){return"\n          CIPHERSpaceLoadFileGlobalFileRef = null;\n          CIPHERSpaceLoadFile = function (filename, callback) {\n              if (filename.slice(-3) == \".js\" || filename.slice(-4) == \".fsx\" || filename.slice(-3) == \".fs\") { //if filename is a external JavaScript file\n                  var fileRef = null;\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\n                  if (!pre) {\n                      fileRef = document.createElement('script')\n                      fileRef.setAttribute(\"type\", \"text/javascript\")\n                      fileRef.setAttribute(\"src\", filename)\n                  }\n                  else callback();\n              }\n              else if (filename.slice(-4) == \".css\") { //if filename is an external CSS file\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\n                  if (!pre) {\n                      fileRef = document.createElement(\"link\")\n                      fileRef.setAttribute(\"rel\", \"stylesheet\")\n                      fileRef.setAttribute(\"type\", \"text/css\")\n                      fileRef.setAttribute(\"href\", filename)\n                  }\n                  else callback();\n              }\n              else if (filename.slice(-5) == \".html\") { //if filename is an external HTML file\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\n                  if (!pre) {\n                      fileRef = document.createElement(\"link\")\n                      fileRef.setAttribute(\"rel\", \"import\")\n                      fileRef.setAttribute(\"type\", \"text/html\")\n                      fileRef.setAttribute(\"href\", filename)\n                  }\n                  else callback();\n              }\n              if (!!fileRef) {\n                  CIPHERSpaceLoadFileGlobalFileRef = fileRef;\n      \u0009\u0009\u0009fileRef.onload = function () { fileRef.onload = null;  callback(); }\n                  document.getElementsByTagName(\"head\")[0].appendChild(fileRef);\n              }\n          }\n          CIPHERSpaceLoadFiles = function (files, callback) {\n              var newCallback = callback\n              if (!!CIPHERSpaceLoadFileGlobalFileRef && !!(CIPHERSpaceLoadFileGlobalFileRef.onload)) {\n                  var oldCallback = CIPHERSpaceLoadFileGlobalFileRef.onload;\n                  CIPHERSpaceLoadFileGlobalFileRef.onload = null;\n                  newCallback = function () {\n                      callback();\n                      oldCallback();\n                  }\n              }\n              var i = 0;\n              loadNext = function () {\n                  if (i < files.length) {\n                      var file = files[i];\n                      i++;\n                      CIPHERSpaceLoadFile(file, loadNext);\n                  }\n                  else newCallback();\n              };\n              loadNext();\n      \u0009}\n          CIPHERSpaceLoadFiles(['https://code.jquery.com/jquery-3.1.1.min.js'], function() {}); \n      \u0009CIPHERSpaceLoadFilesDoAfter = function (callback) {\n      \u0009\u0009var newCallback = callback\n      \u0009\u0009if (!!CIPHERSpaceLoadFileGlobalFileRef) {\n      \u0009\u0009\u0009if (!!(CIPHERSpaceLoadFileGlobalFileRef.onload)) {\n      \u0009\u0009\u0009\u0009var oldCallback = CIPHERSpaceLoadFileGlobalFileRef.onload;\n      \u0009\u0009\u0009\u0009CIPHERSpaceLoadFileGlobalFileRef.onload = null;\n      \u0009\u0009\u0009\u0009newCallback = function () {\n      \u0009\u0009\u0009\u0009\u0009oldCallback();\n      \u0009\u0009\u0009\u0009\u0009callback();\n      \u0009\u0009\u0009\u0009}\n      \u0009\u0009\u0009}\n      \u0009\u0009}\n      \u0009\u0009else CIPHERSpaceLoadFileGlobalFileRef = {};\n      \u0009\u0009CIPHERSpaceLoadFileGlobalFileRef.onload = newCallback;\n      \u0009}\n      \n      CIPHERSpaceLoadFilesDoAfter(function() { \n        if (typeof IntelliFactory !=='undefined')\n          IntelliFactory.Runtime.Start();\n        for (key in window) { \n          if (key.startsWith(\"StartupCode$\")) \n            try { window[key].$cctor(); } catch (e) {} \n        } \n      })\n      \n                       "+cs;};bt.NewBrowser={$:3};bt.Tab={$:2};bt.Right={$:1};bt.Below={$:0};bu=bs.ErrCompiler=bI.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return this.$==0&&!this.$1;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return this.$==0?(function(cs){return function(ct){return cs(bK.toSafe(ct));};}(a.id))(this.$0):(function(cs){return function(ct){return cs(bG.p$2(ct));};}(a.id))(this);}},null,bu);bu["Could not open new browser, Popup blocker may be active"]=new bu({$:2});bu["Snippet Missing"]=new bu({$:1});bv.New=function(cs,ct,cu,cv){return{F2:cs,LeftDoubleClick:ct,"Ctrl-Space":cu,".":cv};};bw=bs.Property=bI.Class({setV:function(cs){this.props.set_Item(this.key,cs);this.setDirty();},getV:function(){return this.props.get_Item(this.key);},setK:function(cs){this.props.Add(cs,this.props.get_Item(this.key));this.props.Remove(this.key);this.key=cs;this.setDirty();},getK:function(){return this.key;},Remove:function(){this.props.Remove(this.key);this.setDirty();},get_SetV:function(){var cs;cs=this;return function(ct){cs.setV(ct);};},get_GetV:function(){var cs;cs=this;return function(){return cs.getV();};},get_SetK:function(){var cs;cs=this;return function(ct){cs.setK(ct);};},get_GetK:function(){var cs;cs=this;return function(){return cs.getK();};},get_ValueVar:function(){return new bx.New(this);},get_KeyVar:function(){return this;},RView:function(){return b5.Const(this.getK());},RUpdM:function(cs){var ct;ct=cs(this.getK());ct==null?void 0:this.setK(ct.$0);},RUpd:function(cs){this.setK(cs(this.getK()));},RVal:function(){return this.getK();},RGet:function(){return this.getK();},set_RVal:function(cs){this.setK(cs);},RSet:function(cs){this.setK(cs);},RId:function(){return"?";}},bJ.Obj,bw);bw.New=bI.Ctor(function(cs,ct,cu){this.setDirty=cs;this.props=ct;this.key=cu;},bw);bx=bs.PropValue=bI.Class({RView:function(){return b5.Const(this.get());},RUpdM:function(cs){var ct;ct=cs(this.get());ct==null?void 0:this.set(ct.$0);},RUpd:function(cs){this.set(cs(this.get()));},RVal:function(){return this.get();},RGet:function(){return this.get();},set_RVal:function(cs){this.set(cs);},RSet:function(cs){this.set(cs);},RId:function(){return"?";}},bJ.Obj,bx);bx.New=bI.Ctor(function(cs){this.get=cs.get_GetV();this.set=cs.get_SetV();},bx);bs["CodeSnippet.propValue"]=function(cs,ct){var cu,cv;return cs.properties.ContainsKey(ct)?{$:1,$0:cs.properties.get_Item(ct)}:(cu=(cv=cs.parent,cv==null?null:by.FetchO(cv.$0)),cu==null?null:bs["CodeSnippet.propValue"](cu.$0,ct));};by.FetchByPathO=function(cs){function ct(cv,cw){return bN.tryHead(bN.filter(function(cx){return cx.get_Name()===cw;},cv));}function cu(cv,cw){var cx,cy,cz,cA;cx=(cy=bN.tryHead(cw),cy==null?null:ct(cv,cy.$0));return bN.length(cw)<=1?cx:cx==null?null:(cz=cx.$0,(cA=bN.tail(cw),cu(bN.filter(function(cB){return bU.Equals(cB.parent,{$:1,$0:cz.id});},(bs.codeSnippets())["var"].RVal()),cA)));}return cu(bN.filter(function(cv){return cv.parent==null;},(bs.codeSnippets())["var"].RVal()),cs);};bs["CodeSnippet.IsDescendantOf"]=function(cs,ct){function cu(cv){var cw,cx,cy;cw=cv.parent;return cw!=null&&cw.$==1&&(cx=cw.$0,bU.Equals(cx,ct)||d.defaultValue(false,(cy=by.FetchO(cx),cy==null?null:{$:1,$0:cu(cy.$0)})));}return cu(cs);};bs["CodeSnippet.GetCodeFsx"]=function(cs,ct){return(bs["CodeSnippet.GetCodeAndStarts"](cs,ct))[0];};bs["CodeSnippet.GetCodeAndStarts"]=function(cs,ct){return r.CodeAndStarts(ct,bs["CodeSnippet.Predecessors"](cs));};bs["CodeSnippet.Predecessors"]=function(cs,ct){var cu;cu=bT.ofSeq(cs.UniquePredecessors(by.FetchO));return bT.ofSeq(bN.map(bs["CodeSnippet.get_PrepareSnippet"],bN.filter(function(cv){return bT.contains(cv.id,cu);},(bs.codeSnippets())["var"].RVal())));};bs["CodeSnippet.get_PrepareSnippet"]=function(cs,ct){var cu;cu=bs["CodeSnippet.get_Levels"](cs);return r.New(cs.name,bL.Replace(bL.Replace(cs.content,"##"+"FSHARPSTATION_ID"+"##",bs.fsIds()),"##"+"FSHARPSTATION_ENDPOINT"+"##",a.location.href),cs.parent,cs.predecessors,cs.id,cs.expanded,cu[0],cu[1],cs.properties);};bs["CodeSnippet.get_Levels"]=function(cs,ct){function cu(cv,cw){return function(cx){var cy,cz,cA;return d.defaultValue([cv,cw],(cy=(cz=cx.parent,cz==null?null:by.FetchO(cz.$0)),(cA=cu(cv+1,cw+(cx.properties.ContainsKey("NoIndent")?0:1)),cy==null?null:{$:1,$0:cA(cy.$0)})));};}return(function(cv){return cu(cv[0],cv[1]);}([0,0]))(cs);};by.New=function(cs,ct,cu,cv,cw,cx){var cy,cz,cA,cB,cC;cy=r.New(ct,cx,cu,cv,q.get_New(),true,0,0,new bR.New$5());cz=bs.codeSnippets().get_Length();cz===0?bs.codeSnippets().Append(cy):cs===0?(cA=bN.append([cy],(bs.codeSnippets())["var"].RVal()),bs.codeSnippets().Set(cA)):cs<cz?(cB=(cC=bT.splitAt(cs,bT.ofSeq((bs.codeSnippets())["var"].RVal())),cC[0].concat([cy].concat(cC[1]))),bs.codeSnippets().Set(cB)):bs.codeSnippets().Append(cy);return cy;};by.New$1=function(cs,ct,cu,cv,cw){return by.New(bs.codeSnippets().get_Length(),cs,ct,cu,cv,cw);};by.New$2=function(cs){return by.New$1("",null,bM.T.Empty,bM.T.Empty,cs);};by.New$3=function(cs,ct){return by.New$1("",{$:1,$0:cs},bM.T.Empty,bM.T.Empty,ct);};by.New$4=function(cs,ct,cu){return by.New$1("",{$:1,$0:cs},ct,bM.T.Empty,cu);};by.New$5=function(cs,ct){return by.New$1("",null,cs,bM.T.Empty,ct);};by.FetchL=function(cs){return b1.toList(by.FetchO(cs));};by.FetchO=function(cs){return bs.codeSnippets().TryFindByKey(cs);};by.PickIO=function(cs){function ct(cu,cv){return bU.Equals(cv.id,cs);}return bs.tryPickI(function(cu){return ct(cu[0],cu[1]);},(bs.codeSnippets())["var"].RVal());};bs.tryPickI=function(cs,ct){return bN.tryHead(bN.filter(cs,bN.indexed(ct)));};bs.fsIds=function(){bC.$cctor();return bC.fsIds;};bs.codeSnippets=function(){bC.$cctor();return bC.codeSnippets;};bA=bz.Babel=bI.Class({},bJ.Obj,bA);bA.New=bI.Ctor(function(){},bA);bB=bz.Fable=bI.Class({},bJ.Obj,bB);bB.New=bI.Ctor(function(){},bB);bz.fableTranslate=function(cs){var ct;ct=j.wrapper();return ct.Delay(function(){var cu;bz.loadReferences().f();return ct.Bind$2((cu=null,bO.Delay(function(){return bO.While(function(){return ci.getOwnPropertyNames(a.metadata).length<bT.length(bz.references());},bO.Delay(function(){return bO.Bind(bO.Sleep(200),function(){return bO.Return(null);});}));})),function(){var cv,cw,cx,cy,cz;cv=bz.getChecker().f();cw=cj.makeCompiler([["Microsoft.FSharp.Core.ExtraTopLevelOperators.PrintFormatLine","FSSGlobal.FSharpStation.FableModule.ToConsole($0)"]]);cx="stdin.fsx";cy=bV.parse(cj.convertToJson(cj.compileAst(cw,cj.parseFSharpProject(cv,cw,cx,cs),cx)));cz=ci.create(null);cz.plugins=[a.babelPlugins.transformMacroExpressions,a.babelPlugins.removeUnneededNulls,"transform-es2015-modules-amd"];cz.presets=[];cz.filename=cx;cz.babelrc=false;return ct.Return(bL.Replace(bL.Replace(ck.transformFromAst(cy,null,cz).code,"define([","require(["),"\"use strict\";","\"use strict\"; try { exports = exports || {}; } catch (err) {}"));});});};bz.ToConsole=function(cs){bP.log(cs);return cs.cont(bz.addOutMsg());};bz.addOutMsg=function(){bC.$cctor();return bC.addOutMsg;};bz.set_addOutMsg=function(cs){bC.$cctor();bC.addOutMsg=cs;};bz.getChecker=function(){bC.$cctor();return bC.getChecker;};bz.loadReferences=function(){bC.$cctor();return bC.loadReferences;};bz.references=function(){bC.$cctor();return bC.references;};br.FSharpStationClient=function(cs){var ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en;function eo(ga,gb,gc,gd){return gb(gd)==null?b_.Lens(ct,function(){return ga;},function(){return"";}):gc(gd);}function ep(){b_.Set(cx,null);}function eq(ga){function gb(gd){return gd.get_Name();}function gc(gd,ge){return r.New(ge,gd.content,gd.parent,gd.predecessors,gd.id,gd.expanded,gd.level,gd.levelCode,gd.properties);}return eo("",function(gd){return bs.codeSnippets().TryFindByKey(gd);},function(gd){return bs.codeSnippets().LensInto(gb,gc,gd);},ga);}function er(ga){function gb(gd){return gd.content;}function gc(gd,ge){return r.New(gd.name,ge,gd.parent,gd.predecessors,gd.id,gd.expanded,gd.level,gd.levelCode,gd.properties);}return eo("",function(gd){return bs.codeSnippets().TryFindByKey(gd);},function(gd){return bs.codeSnippets().LensInto(gb,gc,gd);},ga);}function es(ga){var gb;gb=bs["CodeSnippet.propValue"](ga,"CSS");return gb==null?null:{$:1,$0:a.id(gb.$0)};}function et(ga){return d.defaultValue("",ga);}function eu(ga){var gb;gb=bs["CodeSnippet.propValue"](ga,"CSSLink");return gb==null?null:{$:1,$0:a.id(gb.$0)};}function ev(ga){return d.defaultValue("",ga);}function ew(ga){var gb;gb=bs["CodeSnippet.propValue"](ga,"Mode");return gb==null?null:{$:1,$0:a.id(gb.$0)};}function ex(ga){return d.defaultValue("fsharp",ga);}function ey(ga){var gb;gb=bs["CodeSnippet.propValue"](ga,"Theme");return gb==null?null:{$:1,$0:a.id(gb.$0)};}function ez(ga){return d.defaultValue("",ga);}function eA(ga){var gb;gb=bs["CodeSnippet.propValue"](ga,"Layout");return gb==null?null:{$:1,$0:a.id(gb.$0)};}function eB(ga){return d.defaultValue("",ga);}function eC(ga){var gb;gb=bs["CodeSnippet.propValue"](ga,"LayoutJS");return gb==null?null:{$:1,$0:a.id(gb.$0)};}function eD(ga){return d.defaultValue("",ga);}function eE(ga){var gb,gc,gd,ge;function gf(gh){var gi;gi=bs["CodeSnippet.propValue"](gh,ga);return gi==null?null:{$:1,$0:a.id(gi.$0)};}function gg(gh){return d.defaultValue("",gh);}gb=Z.map((gc=(gd=function(gh){return gh==null?null:gf(gh.$0);},function(gh){return gd(by.FetchO(gh));}),function(gh){return gg(gc(gh));}),cu);ge=[b_.Create$1(null)];b5.Sink(function(gh){if(!bU.Equals(ge[0].c,gh))b_.Set(ge[0],gh);},Z.toView(gb));return new Z({$:1,$0:ge[0]});}function eF(ga,gb){return gb===""?ga:gb!=="0";}function eG(){df=false;b_.Set(dg,true);}function eH(){c$=null;eG();}function eI(){eH();da.ClearCache();ep();}function eJ(){da.ClearCache();b_.Set(dg,false);c$=null;}function eK(ga,gb){var gc,gd,ge;return!gb?null:(gc=(gd=ga.RVal(),(ge=a.String(gb),gd===null?ge:gd===""?ge:ge===null?gd:ge===""?gd:gd+"\n"+ge)),gc!==ga.RVal()?ga.set_RVal(gc):null);}function eL(ga){b_.Set(de,ga);}function eM(ga){eK(de,ga);}function eN(ga){eK(dd,ga);}function eO(){var ga;ga=by.FetchO(cu.c);ga==null?void 0:b_.Set(db,bs["CodeSnippet.GetCodeFsx"](ga.$0,true));}function eP(ga,gb){var gc,gd,ge,gf,gg,gh,gi,gj;function gk(gl){function gm(gn,go){return bU.Equals(go.id,gl);}return function(gn){return bs.tryPickI(function(go){return gm(go[0],go[1]);},gn);};}gc=bT.partition(function(gl){return bU.Equals(gl.id,gb)||bs["CodeSnippet.IsDescendantOf"](gl,gb);},bT.ofSeq((bs.codeSnippets())["var"].RVal()));gd=gc[1];ge=gc[0];gf=(gk(gb))(ge);gg=(gk(ga))(gd);gf!=null&&gf.$==1?gg!=null&&gg.$==1?(gh=gg.$0[0],gi=gg.$0[1],gj=bT.collect(a.id,[cf.array(gd,{$:1,$0:0},{$:1,$0:gh-1}),ge,cf.array(gd,{$:1,$0:gh},null)]),bs.codeSnippets().Set(gj),bs.codeSnippets().UpdateBy(function(gl){return{$:1,$0:r.New(gl.name,gl.content,gi.parent,gl.predecessors,gl.id,gl.expanded,gl.level,gl.levelCode,gl.properties)};},gf.$0[1].id)):void 0:void 0;return eI();}function eQ(){var ga;ga=by.PickIO(cu.c);ga==null?void 0:(function(gb,gc){(function(gd,ge){var gf;while(true){if(ge<0)return null;else if(gd((gf=(bs.codeSnippets())["var"].RVal(),(function(gg){return function(gh){return bN.nth(gg,gh);};}(ge))(gf))))return null;else ge=ge-1;}}(function(gd){return bU.Equals(gd.parent,gc.parent)&&(bs.codeSnippets().UpdateBy(function(ge){return{$:1,$0:r.New(ge.name,ge.content,{$:1,$0:gd.id},ge.predecessors,ge.id,ge.expanded,ge.level,ge.levelCode,ge.properties)};},gc.id),true);},gb-1));eI();}).apply(null,ga.$0);}function eR(){var ga,gb,gc,gd,ge;ga=by.FetchO(cu.c);ga==null?void 0:(gb=ga.$0,gc=(gd=(ge=gb.parent,ge==null?null:by.FetchO(ge.$0)),gd==null?null:gd.$0.parent),bs.codeSnippets().UpdateBy(function(gf){return{$:1,$0:r.New(gf.name,gf.content,gc,gf.predecessors,gf.id,gf.expanded,gf.level,gf.levelCode,gf.properties)};},gb.id),eI());}function eS(ga){var gb;gb=j.wrapper();return gb.Delay(function(){return gb.Bind$1(h.fromOption(bu["Snippet Missing"],ga),function(gc){var gd;b_.Set(de,"Compiling to JavaScript...");b_.Set(dc,"");gd=bs["CodeSnippet.GetCodeFsx"](gc,true);b_.Set(db,gd);return gb.Bind$2(x.translateAR(gd,false),function(ge){return gb.Bind$1(ge,function(gf){var gg;gg=bp.completeJS(gf);b_.Set(dc,gg);eM("Compiled!");return gb.Return(gg);});});});});}function eT(ga){var gb;gb=a.open.apply(a,[ga]);return bU.Equals(gb,null)?h.fail(bu["Could not open new browser, Popup blocker may be active"]):h.succeed(gb);}function eU(ga,gb){return ga["eval"].apply(ga,[gb]);}function eV(ga){ga.focus.apply(ga,[]);}function eW(ga,gb){var gc;gc=j.wrapper();return gc.Delay(function(){return gc.Bind$1(h.tryProtection(),function(){return gc.Bind$1(eT(ga),function(gd){eV(gd);return gc.Bind$2(bO.Sleep(800),function(){return gc.Return(eU(gd,gb));});});});});}function eX(){return bO.FromContinuations(function(ga,gb){try{return(new bq.New(null)).RunHtml(Y.createIFrame(ga));}catch(gc){return gb(gc);}});}function eY(ga){var gb;gb=j.wrapper();return gb.Delay(function(){return gb.Bind$1(h.tryProtection(),function(){return gb.Bind$2(eX(),function(gc){var gd;gd=gc.contentWindow;gd.document.body.style.margin="0px";return gb.Return(eU(gd,ga));});});});}function eZ(ga,gb,gc){var gd;gd=j.wrapper();return gd.Delay(function(){return gd.Bind$3(eS(gc),function(ge){b_.Set(de,"Running JavaScript...");return gd.Bind$3(gb.$==3?eW(ga,ge):eY(ge),function(gf){eM(gf);eM("Done!");return gd.Return([gb,gf]);});});});}function e0(){return by.FetchO(cu.c);}function e1(ga){var gb;gb=j.wrapper();return gb.Delay(function(){b_.Set(db,ga);return gb.Bind$2(w.evaluateAR(bs.fsIds(),a.location.href,true,ga),function(gc){return gb.Bind$1(gc,function(){return gb.Return("");});});});}function e2(ga){var gb;gb=j.wrapper();return gb.Delay(function(){return gb.Bind$1(h.fromOption(bu["Snippet Missing"],ga),function(gc){return gb.ReturnFrom(e1(bs["CodeSnippet.GetCodeFsx"](gc,true)));});});}function e3(ga,gb,gc){var gd;gd=j.wrapper();return gd.Delay(function(){b_.Set(de,ga);return gd.Bind$3(gc(),function(ge){eM(ge);eM(gb);return gd.Return(ge);});});}function e4(ga){return e3("Evaluating F# code...","",function(){return e2(ga);});}function e5(ga){return e3("Evaluating F# code...","",function(){return e1(ga);});}function e6(ga){var gb;gb=j.wrapper();return gb.Delay(function(){b_.Set(db,ga);return gb.Bind$3(bz.fableTranslate(ga),function(gc){b_.Set(dc,gc);a["eval"](gc);return gb.Return("");});});}function e7(ga){var gb;gb=j.wrapper();return gb.Delay(function(){return gb.Bind$1(h.fromOption(bu["Snippet Missing"],ga),function(gc){return gb.ReturnFrom(e6(bs["CodeSnippet.GetCodeFsx"](gc,false)));});});}function e8(ga){return e3("Running Fable...","Done!",function(){return e7(ga);});}function e9(ga){return e3("Running Fable...","Done!",function(){return e6(ga);});}function e_(ga){var gb;gb=e0();return(di(ga))(gb);}function e$(ga,gb){return d.defaultValue(false,gb==null?null:{$:1,$0:bM.contains(ga,gb.$0.predecessors)});}function fa(ga,gb){return gb.Contains(ga);}function fb(ga,gb){var gc,gd,ge,gf;return gb==null?null:(gc=gb.$0,bU.Equals(gc,ga)||fa(gc.id,new cl.New$2(ga.UniquePredecessors(by.FetchO)))?null:(gd=(bM.contains(ga.id,gc.predecessors)?(ge=(gf=ga.id,function(gg){return!bU.Equals(gf,gg);}),function(gg){return bM.filter(ge,gg);}):function(gg){return new bM.T({$:1,$0:ga.id,$1:gg});})(gc.predecessors),(bs.codeSnippets().UpdateBy(function(gg){return{$:1,$0:r.New(gg.name,gg.content,gg.parent,gd,gg.id,gg.expanded,gg.level,gg.levelCode,gg.properties)};},gc.id),eI())));}function fc(ga){bs.codeSnippets().UpdateBy(function(gb){return{$:1,$0:r.New(gb.name,gb.content,gb.parent,gb.predecessors,gb.id,!gb.expanded,gb.level,gb.levelCode,gb.properties)};},ga.id);ep();}function fd(ga,gb,gc){var gd,ge,gf,gg;return _5.get_New().Content$1([Y["class"]("code-editor-list-tile"),Y.classIf("selected",Z.map((gd=gc.id,function(gh){return bU.Equals(gd,gh);}),cu)),Y.classIf("direct-predecessor",Z.map((ge=gc.id,function(gh){return e$(ge,gh);}),cy)),Y.classIf("indirect-predecessor",Z.map((gf=gc.id,function(gh){return fa(gf,gh);}),dk)),Y.draggable("true"),new _1({$:7,$0:b8.Handler("dragover",function(){return function(gh){return gh.preventDefault();};})}),new _1({$:7,$0:b8.Handler("drag",function(){return function(){dh=gc.id;};})}),new _1({$:7,$0:b8.Handler("drop",function(){return function(gh){gh.preventDefault();return eP(gc.id,dh);};})}),Y.span([Y["class"]("node"),Y.classIf("parent",ga),Y.classIf("expanded",gb),new _1({$:7,$0:b8.Handler("click",function(){return function(){return ga?fc(gc):null;};})}),Y.title(ga?gb?"collapse":"expand":""),Y.htmlText(ga?gb?"-":"+":"")]),Y.div([Y["class"]("code-editor-list-text"),Y.style1("text-indent",(gg=(bs["CodeSnippet.get_Levels"](gc))[0],(function(gh){return function(gi){return gh(a.String(gi)+"em");};}(a.id))(gg))),Y.style("white-space: pre"),Y.htmlText(Z.map2(function(gh){return function(gi){return o.snippetName(gh,gi);};},eq(gc.id),er(gc.id))),new _1({$:7,$0:b8.Handler("click",function(){return function(){return b_.Set(cu,gc.id);};})})]),Y.span([Y["class"]("predecessor"),Y.title("toggle predecessor"),new _1({$:7,$0:b8.Handler("click",function(){return function(){return Z.iter(function(gh){return fb(gc,gh);},cy);};})}),Y.htmlText("X")])]);}function fe(ga,gb){return!gb?ga:gb;}function ff(ga){return new q({$:0,$0:!ga?"00000000-0000-0000-0000-000000000000":ga.Item});}function fg(ga){return!ga?null:{$:1,$0:ff(ga)};}function fh(ga){var gb;function gc(ge,gf){gb.Add(ge,gf);}function gd(ge,gf){return[ge,gf];}gb=new bR.New$5();return!ga?gb:(bN.iter(function(ge){return gc(ge[0],ge[1]);},bT.map(function(ge){return gd(ge[0],ge[1]);},cn.GetFields(ga))),gb);}function fi(ga){var gb;try{gb=bV.parse(ga);((function(gc){return function(gd){return gc(bK.prettyPrint(gd));};}(function(gc){bP.log(gc);}))(gb.length));return bT.choose(function(gc){return!gc?null:{$:1,$0:r.New(fe("",gc.name),fe("",gc.content),fg(gc.parent),bM.ofSeq(bT.map(ff,fe([],gc.predecessors))),ff(gc.id),fe(false,gc.expanded),fe(0,gc.level),fe(0,gc.levelCode),fh(gc.properties))};},gb);}catch(gc){return[];}}function fj(){var ga,gb,gc;function gd(ge,gf){var gg;return d.defaultValue(gf,(gg=bN.tryItem(gf,(bs.codeSnippets())["var"].RVal()),gg==null?null:{$:1,$0:(bs["CodeSnippet.get_Levels"](gg.$0))[0]<=ge?gf:gd(ge,gf+1)}));}b_.Set(cu,d.defaultWith(function(){return by.New$2("");},(ga=by.PickIO(cu.c),ga==null?null:{$:1,$0:(gb=ga.$0[0],(gc=ga.$0[1],by.New(gd((bs["CodeSnippet.get_Levels"](gc))[0],gb+1),"",gc.parent,bM.T.Empty,bM.T.Empty,"")))})).id);eH();ep();}function fk(){var ga,gb;ga=by.FetchO(cu.c);ga==null?void 0:(gb=ga.$0,a.confirm((function(gc){return function(gd){return gc("Do you want to delete "+bK.toSafe(gd)+"?");};}(a.id))(gb.get_Name()))?(b_.Set(cu,q.get_New()),bs.codeSnippets().Remove(gb),eH(),ep()):void 0);}function fl(ga){return bN.last(bL.SplitChars(ga,["/","\\"],0));}function fm(ga,gb){var gc,gd;gc=ga.files;return gc.length>0?(gd=new a.FileReader(),(gd.onload=function(ge){return gb(ge.target.result);},gd.readAsText(gc.item(0)))):null;}function fn(ga){var gb;try{gb=fi(ga);bs.codeSnippets().Set(gb);eJ();ep();}catch(gc){a.alert(a.String(gc));}}function fo(ga){if(!dg.c||a.confirm("Changes have not been saved, do you really want to load?"))fm(Y.findRootElement(ga).querySelector("#"+dn),fn);}function fp(){var ga,gb;a.saveAs(new a.Blob([(ga=bT.ofSeq((bs.codeSnippets())["var"].RVal()),bV.stringify(((ch.EncodeArray(bE.j$3))())(ga)))],{type:"text/plain;charset=utf-8"}),(gb=fl(dm.c),gb===""?"snippets.fsjson":gb));eJ();}function fq(ga,gb){return Y.findRootElement(ga).querySelector("#"+dn).click();}function fr(ga,gb,gc){var gd,ge,gf,gg,gh,gi,gj,gk;gd=c$!=null&&c$.$==1&&((gf=c$.$0[1],bU.Equals(c$.$0[0],gb.id)&&bU.Equals(gf,gc))&&(ge=[c$.$0[1],c$.$0[0],c$.$0[2]],true))?(ga("Reparsing..."),[ge[2],bs["CodeSnippet.get_PrepareSnippet"](gb)]):(ga("Parsing..."),gg=bs["CodeSnippet.Predecessors"](gb),gh=r.ReducedCode(gc,cf.array(gg,{$:1,$0:0},{$:1,$0:bT.length(gg)-2})),gi=bT.get(gg,bT.length(gg)-1),c$={$:1,$0:[gi.id,gc,gh]},[gh,gi]);gj=r.ReducedCode(gc,[gd[1]]);gk=(function(gl){var gm,gn,go,gp,gq,gr;gm=gl[0];gn=gl[1];go=gl[2];gp=gl[3];gq=gl[4];gr=gl[5];return function(gs){return r.AddSeps(gm,gn,go,gp,gq,gr,gs[0],gs[1],gs[2],gs[3],gs[4],gs[5]);};}(gd[0]))(gj);return r.FinishCode(gc,gk[0],gk[1],gk[2],gk[3],gk[4],gk[5]);}function fs(ga){var gb;function gc(gd){if(!ga)b_.Set(dd,gd);}gb=null;return bO.Delay(function(){var gd,ge,gf;gd=by.FetchO(cu.c);return gd!=null&&gd.$==1?(ge=gd.$0,(gf=dt+1,(dt=gf,bO.Combine(bO.While(function(){return du;},bO.Delay(function(){return bO.Bind(bO.Sleep(1000),function(){return bO.Return(null);});})),bO.Delay(function(){return dt!==gf?bO.Zero():bO.TryFinally(bO.Delay(function(){var gg;du=true;df=true;gg=fr(gc,ge,false);return bO.Bind(dq.Parse$1(dr,gg[0],gg[1]),function(gh){return!ga&&gf===dt&&df?(eN(gh),eN("Parsed!"),bO.Zero()):bO.Zero();});}),function(){du=false;});}))))):bO.Zero();});}function ft(ga){var gb;gb=null;return bO.Delay(function(){return!df?bO.Return(true):bO.Bind(dq.MustParse(dr,ga.get_NameSanitized()),function(gc){return bO.Return(gc);});});}function fu(ga){var gb;gb=null;return bO.Delay(function(){return bO.Bind(ds,function(gc){var gd;return gc?bO.Zero():(gd=by.FetchO(cu.c),gd!=null&&gd.$==1?bO.Bind(ft(gd.$0),function(ge){return ge?bO.Bind(fs(ga),function(){return bO.Return(null);}):bO.Zero();}):bO.Zero());});});}function fv(ga,gb){var gc,gd;gc=c.REGEX("([a-zA-Z_]\\w*)$","g",bL.Substring(ga,0,gb));return gc!=null&&gc.$==1?(gd=gc.$0,gd&&bT.length(gd)===1)?bT.get(gc.$0,0):"":"";}function fw(ga,gb){var gc,gd;gc=c.REGEX("^([a-zA-Z_]\\w*)","g",ga.substring(gb));return gc!=null&&gc.$==1?(gd=gc.$0,gd&&bT.length(gd)===1)?bT.get(gc.$0,0):"":"";}function fx(ga){var gb;bO.Start((gb=null,bO.Delay(function(){return bO.Bind(ds,function(gc){var gd,ge;return gc?bO.Zero():(gd=by.FetchO(cu.c),gd!=null&&gd.$==1?(ge=gd.$0,bO.Bind(fu(false),function(){var gf,gg,gh,gi,gj;gf=ga.getCursor();gg=ga.getLine(gf.line);gh=bL.length(fv(gg,gf.ch));gi=bL.length(fw(gg,gf.ch));gj=gh===0&&gi===0?2:gi;return bO.Bind(dq.ToolTip(dr,gf.line+1,gf.ch+1,ge.get_NameSanitized()),function(gk){var gl;eN(((((gl=(bI.Curried(function(gm,gn,go,gp,gq){return gm("InfoFSharp \""+bK.toSafe(gn)+" "+("("+bK.prettyPrint(go[0])+", "+bK.prettyPrint(go[1])+")")+" - "+("("+bK.prettyPrint(gp[0])+", "+bK.prettyPrint(gp[1])+")")+" "+bK.toSafe(gq)+" \"");},5))(a.id),function(gm){var gn;gn=gl(gm);return function(go){var gp;gp=gn([go[0],go[1]]);return function(gq){return gp([gq[0],gq[1]]);};};})(ge.get_NameSanitized()))([gf.line+1,gf.ch-gh+1]))([gf.line+1,gf.ch+gj+1]))(bL.Replace(gk,"\"","''")));return bO.Zero();});})):bO.Zero());});})),null);}function fy(ga,gb,gc,gd){var ge;bO.Start((ge=null,bO.Delay(function(){var gf,gg;gf=by.FetchO(cu.c);return gf!=null&&gf.$==1?(gg=gf.$0,(function(gh){return gh("calling parseIfMustThen");}(function(gh){bP.log(gh);}),bO.Bind(fu(false),function(){var gh;function gi(gj,gk,gl,gm,gn,go,gp,gq,gr){var gs;return bL.StartsWith(gj,gg.id.get_Text())||gj===o.sanitize(gg.name)?(gs=a.Number(gk)>0?a.Number(gk):0,{$:1,$0:bb.New(gr,bL.StartsWith(gp.toUpperCase(),"ERR")?"error":bL.StartsWith(gp.toUpperCase(),"INFO")?"info":"warning",_2.cmPos(gl-1,gm-1-gs),_2.cmPos(gn-1,go-1-gs))}):null;}gb(bT.choose(function(gj){return gi(gj[0],gj[1],gj[2],gj[3],gj[4],gj[5],gj[6],gj[7],gj[8]);},bT.choose(function(gj){var gk,gl,gm,gn,go,gp,gq,gr;return(gl=c.REGEX(dw,"",gj),gl!=null&&gl.$==1&&((gm=gl.$0,gm&&bT.length(gm)===13)&&(gk=[bT.get(gl.$0,8),bT.get(gl.$0,5),bT.get(gl.$0,7),bT.get(gl.$0,2),bT.get(gl.$0,4),bT.get(gl.$0,11),bT.get(gl.$0,1),bT.get(gl.$0,10),bT.get(gl.$0,9)],true)))?{$:1,$0:[gk[1],gk[4],a.Number(gk[2]),a.Number(gk[0]),a.Number(gk[8]),a.Number(gk[7]),gk[6],gk[3],gk[5]]}:(go=c.REGEX(dv,"",gj),go!=null&&go.$==1&&((gp=go.$0,gp&&bT.length(gp)===8)&&(gn=[bT.get(go.$0,4),bT.get(go.$0,2),bT.get(go.$0,3),bT.get(go.$0,1),bT.get(go.$0,6),bT.get(go.$0,5)],true)))?(gq=gn[0],(gr=gn[2],{$:1,$0:[gn[1],gn[3],a.Number(gr),a.Number(gq)-1,a.Number(gr),a.Number(gq),gn[5],"fsi",gn[4]]})):null;},(gh=c.REGEX(dx,"g",dd.c),gh!=null&&gh.$==1?gh.$0:[]))));return bO.Zero();}))):bO.Zero();})),null);}function fz(ga){var gb;dy((gb=null,bO.Delay(function(){(function(gc){return gc("before delaying");}(function(gc){bP.log(gc);}));return bO.Bind(bO.Sleep(400),function(){(function(gc){return gc("calling getAnnotations");}(function(gc){bP.log(gc);}));fy.apply(null,ga);return bO.Zero();});})));}function fA(ga,gb,gc){var gd;dy((gd=null,bO.Delay(function(){return bO.Bind(ds,function(ge){var gf,gg;return ge?bO.Zero():(gf=by.FetchO(cu.c),gf!=null&&gf.$==1?(gg=gf.$0,bO.Bind(fu(true),function(){var gh,gi,gj;gh=ga.getCursor();gi=ga.getLine(gh.line);gj=fv(gi,gh.ch);return bO.Bind(dq.Complete(dr,gi+"a",gh.line+1,gh.ch+1,gg.get_NameSanitized()),function(gk){function gl(gm,gn,go,gp){return _.New(gn,gp+"| "+gm,go);}gb($.New(bT.map(function(gm){return gl(gm[0],gm[1],gm[2],gm[3]);},gk),_7.New(gh.line,gh.ch-gj.length),gh));return bO.Zero();});})):bO.Zero());});})));}function fB(ga){var gb,gc,gd;gb=(gc=ga.parent,gc==null?null:by.FetchO(gc.$0));gb==null?void 0:(gd=gb.$0,fB(gd),!gd.expanded?fc(gd):void 0);}function fC(ga,gb,gc){var gd;return bO.Start((gd=null,bO.Delay(function(){var ge;b_.Set(cu,ga);ge=by.FetchO(ga);ge==null?void 0:fB(ge.$0);return bO.Bind(bO.Sleep(200),function(){var gf,gg;gf=dz.editorO;gf==null?void 0:(gg=gf.$0,gg.setCursor(gb-1,gc-1),gg.focus());return bO.Zero();});})),null);}function fD(ga){var gb,gc,gd;gb=c.REGEX("([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}).+?\\((\\d+)\\,\\s*(\\d+)\\)","",ga);gb!=null&&gb.$==1?(gc=gb.$0,gc&&bT.length(gc)===4)?(gd=bT.get(gb.$0,3),fC(new q({$:0,$0:bT.get(gb.$0,1)}),a.Number(bT.get(gb.$0,2)),a.Number(gd))):void 0:void 0;}function fE(){var ga;bO.Start((ga=null,bO.Delay(function(){var gb,gc,gd,ge;gb=by.FetchO(cu.c);return gb!=null&&gb.$==1?(gc=dz.editorO,gc!=null&&gc.$==1?(gd=gc.$0,(ge=gd.getCursor(),(gd.getLine(ge.line),bO.Bind(dq.FindDecl(dr,ge.line+1,ge.ch+1,gb.$0.get_NameSanitized()),function(gf){var gg;return gf.$==9?(gg=gf.$0,(fD(((((((bI.Curried(function(gh,gi,gj,gk,gl,gm){return gh(bK.toSafe(gi)+" ("+a.String(gj)+", "+a.String(gk)+") - ("+a.String(gl)+", "+a.String(gm)+")");},6))(a.id))(gg.File))(gg.Line))(gg.Column))(gg.Line))(gg.Column)),bO.Zero())):gf.$==1?(a.alert((function(gh){return function(gi){return gh(bF.p(gi));};}(a.id))(gf.$0)),bO.Zero()):(a.alert((function(gh){return function(gi){return gh(bG.p$3(gi));};}(a.id))(gf)),bO.Zero());})))):bO.Zero()):bO.Zero();})),null);}function fF(){var ga;ga=dz.editorO;ga==null?void 0:ga.$0.refresh();}function fG(ga){var gb;bO.Start((gb=null,bO.Delay(function(){return bO.Bind(bO.Sleep(ga),function(){fF();return bO.Zero();});})),null);}function fH(){b_.Set(dg,true);}function fI(ga,gb){return new bw.New(fH,ga,gb);}function fJ(ga,gb,gc){return fI(ga,gb).get_ValueVar().RSet(gc);}function fK(ga,gb){return Y.table(bM.ofSeq(bN.delay(function(){return bN.append([Y.thead([Y.th([Y.htmlText("Property"),Y.style("padding-right:10px")]),Y.th([Y.htmlText("Value")])])],bN.delay(function(){return bN.append(bN.map(function(gc){var gd;gd=fI(gb,gc);return Y.tr([Y.td([Y.someElt(b6.Input([],gd.get_KeyVar()))]),Y.td([Y.someElt(b6.InputArea([Y.atr("style","height: 1.5em")],gd.get_ValueVar()))]),_2.hoverable(Y.td([Y.title("remove"),Y.style(" cursor: pointer "),Y.htmlText("x"),new _1({$:7,$0:b8.Handler("click",function(){return function(){gd.Remove();return b_.Set(dG,null);};})})]))]);},gb.get_Keys()),bN.delay(function(){return[Y.tr([_2.hoverable(Y.td([Y.htmlText("Add..."),new _1({$:7,$0:b8.Handler("click",function(){return function(){gb.Add("","1");fH();return b_.Set(dG,null);};})})])),Y.td([Y.htmlText("")])])];}));}));})));}function fL(ga){function gb(gd){return gd.properties;}function gc(gd,ge){return r.New(gd.name,gd.content,gd.parent,gd.predecessors,gd.id,gd.expanded,gd.level,gd.levelCode,ge);}return eo(new bR.New$5(),function(gd){return bs.codeSnippets().TryFindByKey(gd);},function(gd){return bs.codeSnippets().LensInto(gb,gc,gd);},ga);}function fM(ga){return new Z({$:1,$0:ga});}function fN(ga,gb,gc,gd){var ge;return j.start(eM,(ge=ga(gb),(j.map(a.ignore))(ge)));}function fO(ga,gb,gc,gd){function ge(gf,gg){if(gf==null)eM("Failed!\n"+gg);else if(gf.$0[0].$==0){eM(gg);b_.Set(dI,null);}else eM(gg);}return j.startV(function(gf){return ge(gf[0],gf[1]);},ga(gb));}function fP(ga,gb,gc){function gd(ge){return(ga(gc))(ge);}return bI.Curried(fN,2,[gd,gb]);}function fQ(ga,gb,gc){function gd(ge){return(ga(gc))(ge);}return bI.Curried(fO,2,[gd,gb]);}function fR(ga){var gb,gc,gd;gb=ga.parms;return gb!=null&&gb.$==1&&((gd=gb.$0,gd&&bT.length(gd)===1)&&(gc=bT.get(gb.$0,0),true))?by.FetchByPathO(bL.SplitChars(gc,["/"],0)):e0();}function fS(ga,gb){var gc,gd,ge,gf,gg,gh,gi,gl,gm,gn,go,gp,gq;function gj(gr){return gr.$==2?b7.FailWith("Get value from View not implemented"):gr.$==1?gr.$0.RVal():gr.$0;}function gk(gr){return gl==null?null:bs["CodeSnippet.propValue"](gl.$0,gr);}gl=e0();gm=gb?d.defaultValue("",(gc=gk("open"),gc==null?null:{$:1,$0:c.swap(function(gr,gs){return gr+gs;},"\n",gc.$0)})):"";gn=co.Create(function(){return gj(ga.text);});go=co.Create(function(){return d.defaultValue("${parm}() |> printfn \"%A\"",gk("action-template"));});gp=(gh=ga.parms,gh==null?null:{$:1,$0:bT.map(a.id,gh.$0)});switch(gp!=null&&gp.$==1?(gq=gp.$0,gq&&bT.length(gq)===2)?bT.get(gp.$0,0)==="Code"?(gi=bT.get(gp.$0,1),0):bT.get(gp.$0,0)==="Property"?(gi=bT.get(gp.$0,1),1):2:2:2){case 0:gg={$:1,$0:gi};break;case 1:gg=gk(gi);break;case 2:gg=null;break;}gf=gg==null?gk(gn.f()):gg;gd=d.defaultWith(function(){var gr;gr=gn.f();return((ci.constructor("return function(parm) { return `"+go.f()+"`}"))())(gr);},gf);return bL.StartsWith(gd,"////")?gd:gm+gd;}function fT(ga,gb){return e5(fS(ga,true));}function fU(ga,gb){return e9(fS(ga,false));}function fV(ga,gb){return e4(fR(ga));}function fW(ga,gb){return e8(fR(ga));}function fX(ga,gb){var gc;gc=fR(ga);return(di(gb))(gc);}function fY(ga,gb){var gc;gc=j.wrapper();return gc.Delay(function(){return gc.Bind$1(h.tryProtection(),function(){var gd,ge,gf,gg,gh;return gc.Bind$1((gd=ga.parms,gd!=null&&gd.$==1&&((gf=gd.$0,gf&&bT.length(gf)===3)&&(ge=[bT.get(gd.$0,1),bT.get(gd.$0,0),bT.get(gd.$0,2)],true))?(gg=ge[1],(d.defaultWith(function(){((function(gi){return function(gj){return gi("setSnippetProp snippet not found: "+bK.toSafe(gj));};}(function(gi){bP.log(gi);}))(gg));},(gh=by.FetchByPathO(bL.SplitChars(gg,["/"],0)),gh==null?null:{$:1,$0:fJ(gh.$0.properties,ge[0],ge[2])})),h.succeed())):h.failSimpleError((function(gi){return function(gj){return gi("setSnippetProp wrong parms: "+bG.p$4(gj));};}(a.id))(ga.parms))),function(){return gc.Return();});});});}function fZ(ga,gb){var gc,gd,ge,gf,gg,gh;((function(gi){return function(gj){return gi("showOutText: "+bF.p$22(gj));};}(function(gi){bP.log(gi);}))(ga));gd=ga.parms;switch(gd!=null&&gd.$==1?(ge=gd.$0,ge&&bT.length(ge)===1?(gc=bT.get(gd.$0,0),0):(gf=gd.$0,gf&&bT.length(gf)===2?(bT.get(gd.$0,1),bT.get(gd.$0,0)===""?(gc=[bT.get(gd.$0,0),bT.get(gd.$0,1)],1):2):2)):2){case 0:return eL(gc);break;case 1:return eL(gc[1]);break;case 2:return gd!=null&&gd.$==1&&((gh=gd.$0,gh&&bT.length(gh)===2)&&(bT.get(gd.$0,1),bT.get(gd.$0,0)==="+"&&(gg=[bT.get(gd.$0,0),bT.get(gd.$0,1)],true)))?eM(gg[1]):(function(gi){return function(gj){return gi("error: showOutText "+bF.p$22(gj));};}(function(gi){bP.log(gi);}))(ga);break;}}function f0(){return e_(cz.c);}function f1(){var ga;ga=j.wrapper();return ga.Delay(function(){c$=null;return ga.Bind$2(fs(false),function(){return ga.Return();});});}function f2(ga,gb){var gc,gd;function ge(gf,gg,gh){return gd>=gg&&gd<gh?{$:1,$0:gf}:null;}gc=ga.value;gd=ga.selectionStart;return fD(bN.pick(function(gf){return ge(gf[0],gf[1],gf[2]);},(bN.mapFold(function(gf,gg){return[[gg,gf,gf+gg.length+1],gf+gg.length+1];},0,bL.SplitChars(gc,["\n"],0)))[0]));}function f3(ga,gb,gc){var gd;gd=h.result();return gd.Delay(function(){return gd.Bind(h.tryProtection(),function(){return gd.Bind(ej.GetGuiCallAction(ga,gb,gc),function(ge){var gf;gf=ge.onClick;gf==null?void 0:((gf.$0(ge))(null))(null);return gd.Zero();});});});}function f4(ga){fG(1000);fG(2000);fG(3000);ej.SetLayoutJson(ed,ga);}function f5(ga){fG(1000);fG(2000);fG(3000);ej.AddNewSteps(ed,ga);}function f6(ga){return bT.ofSeq(bN.map(function(gb){return[gb.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),gb.FSSGlobal_Useful_ErrMsg$get_IsWarning()?t.FSWarning:t.FSError];},ga));}function f7(ga){var gb;return{$:4,$0:(gb=ga.$0,gb==null?null:{$:1,$0:gb.$0[1]}),$1:bT.ofSeq(bN.map(function(gc){return[gc.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),gc.FSSGlobal_Useful_ErrMsg$get_IsWarning()?t.FSWarning:t.FSError];},ga.$1))};}function f8(ga){var gb,gc;return{$:4,$0:(gb=function(gd){return function(ge){return gd(bK.prettyPrint(ge));};}(a.id),(gc=ga.$0,gc==null?null:{$:1,$0:gb(gc.$0)})),$1:bT.ofSeq(bN.map(function(gd){return[gd.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),gd.FSSGlobal_Useful_ErrMsg$get_IsWarning()?t.FSWarning:t.FSError];},ga.$1))};}function f9(ga,gb){var gc;gc=null;return bO.Delay(function(){var gd,ge,gf,gg,gh,gi,gj,gk,gl;return gb.$==2?bO.Return({$:1,$0:(gd=by.FetchO(gb.$0),gd==null?null:{$:1,$0:gd.$0.content})}):gb.$==3?bO.Return({$:1,$0:(ge=by.FetchO(gb.$0),ge==null?null:{$:1,$0:bs["CodeSnippet.GetCodeFsx"](ge.$0,true)})}):gb.$==4?bO.Return({$:3,$0:d.defaultValue([],(gf=by.FetchO(gb.$0),gf==null?null:{$:1,$0:bs["CodeSnippet.Predecessors"](gf.$0)}))}):gb.$==5?bO.Return({$:2,$0:by.FetchO(gb.$0)}):gb.$==6?bO.Return({$:1,$0:(gg=by.FetchByPathO(gb.$0),gg==null?null:{$:1,$0:gg.$0.content})}):gb.$==7?bO.Return({$:1,$0:(gh=by.FetchByPathO(gb.$0),gh==null?null:{$:1,$0:bs["CodeSnippet.GetCodeFsx"](gh.$0,true)})}):gb.$==10?(gi=by.FetchByPathO(gb.$0),gi==null?bO.Return({$:4,$0:null,$1:[["Snippet not found",t.FSError]]}):bO.Bind(x.translateAR(bs["CodeSnippet.GetCodeFsx"](gi.$0,true),false),function(gm){return bO.Return({$:4,$0:h.getOption(h.map(bp.completeJS,gm)),$1:f6(h.getMsgs(gm))});})):gb.$==8?bO.Return({$:3,$0:d.defaultValue([],(gj=by.FetchByPathO(gb.$0),gj==null?null:{$:1,$0:bs["CodeSnippet.Predecessors"](gj.$0)}))}):gb.$==9?bO.Return({$:2,$0:by.FetchByPathO(gb.$0)}):gb.$==1?bO.Return({$:1,$0:{$:1,$0:"Message received: "+gb.$0}}):gb.$==0?bO.Return({$:0,$0:ga}):gb.$==12?l.map(f7,j.getAsyncR(eZ(gb.$1,bt.NewBrowser,by.FetchO(gb.$0)))):gb.$==13?l.map(f7,j.getAsyncR(eZ(gb.$1,bt.NewBrowser,by.FetchByPathO(gb.$0)))):gb.$==14?(gk=gb.$0,bO.Return(f8(h.map(function(){return(function(gm){return function(gn){return gm("success: "+bK.toSafe(gn));};}(a.id))(gk);},f3(gk,gb.$1,gb.$2))))):bO.Return({$:1,$0:{$:1,$0:(gl=bT.ofSeq((bs.codeSnippets())["var"].RVal()),bV.stringify(((ch.EncodeArray(bE.j$3))())(gl)))}});});}function f_(ga,gb){var gc;gc=null;return bO.Delay(function(){return bO.Bind(f9(ga,(bD.j$5())(bV.parse(gb))),function(gd){return bO.Return(bV.stringify((bE.j$4())(gd)));});});}function f$(ga){!bM.contains(ga,em.c)?b_.Set(em,new bM.T({$:1,$0:ga,$1:em.c})):void 0;fG(300);}ct=b_.Create$1("");cu=b_.Create$1(q.get_New());cv="CodeEditor."+"currentCodeSnippetId";cw=a.localStorage.getItem(cv);cw!==null?cu.set_RVal((bD.j$3())(bV.parse(cw))):void 0;Z.sink(function(ga){a.localStorage.setItem(cv,bV.stringify((bE.j$1())(ga)));},cu);cx=b_.Create$1();cy=Z.map2(function(ga){return function(){return bs.codeSnippets().TryFindByKey(ga);};},cu,cx);cz=b_.Create$1(bt.Below);cA="CodeEditor."+"position";cB=a.localStorage.getItem(cA);cB!==null?cz.set_RVal((bD.j$4())(bV.parse(cB))):void 0;Z.sink(function(ga){a.localStorage.setItem(cA,bV.stringify((bE.j$2())(ga)));},cz);Z.map(function(ga){return ga.$==1&&true;},cz);cC=Z.map(function(ga){return bU.Equals(by.FetchO(ga),null);},cu);cD=(cE=Z.map((cF=(cG=function(ga){return ga==null?null:es(ga.$0);},function(ga){return cG(by.FetchO(ga));}),function(ga){return et(cF(ga));}),cu),(cH=[b_.Create$1(null)],(b5.Sink(function(ga){if(!bU.Equals(cH[0].c,ga))b_.Set(cH[0],ga);},Z.toView(cE)),new Z({$:1,$0:cH[0]}))));cI=(cJ=Z.map((cK=(cL=function(ga){return ga==null?null:eu(ga.$0);},function(ga){return cL(by.FetchO(ga));}),function(ga){return ev(cK(ga));}),cu),(cM=[b_.Create$1(null)],(b5.Sink(function(ga){if(!bU.Equals(cM[0].c,ga))b_.Set(cM[0],ga);},Z.toView(cJ)),new Z({$:1,$0:cM[0]}))));cN=(cO=Z.map((cP=(cQ=function(ga){return ga==null?null:ew(ga.$0);},function(ga){return cQ(by.FetchO(ga));}),function(ga){return ex(cP(ga));}),cu),(cR=[b_.Create$1(null)],(b5.Sink(function(ga){if(!bU.Equals(cR[0].c,ga))b_.Set(cR[0],ga);},Z.toView(cO)),new Z({$:1,$0:cR[0]}))));cS=(cT=Z.map((cU=(cV=function(ga){return ga==null?null:ey(ga.$0);},function(ga){return cV(by.FetchO(ga));}),function(ga){return ez(cU(ga));}),cu),(cW=[b_.Create$1(null)],(b5.Sink(function(ga){if(!bU.Equals(cW[0].c,ga))b_.Set(cW[0],ga);},Z.toView(cT)),new Z({$:1,$0:cW[0]}))));cX=(cY=Z.map((cZ=(c0=function(ga){return ga==null?null:eA(ga.$0);},function(ga){return c0(by.FetchO(ga));}),function(ga){return eB(cZ(ga));}),cu),(c1=[b_.Create$1(null)],(b5.Sink(function(ga){if(!bU.Equals(c1[0].c,ga))b_.Set(c1[0],ga);},Z.toView(cY)),new Z({$:1,$0:c1[0]}))));c2=(c3=Z.map((c4=(c5=function(ga){return ga==null?null:eC(ga.$0);},function(ga){return c5(by.FetchO(ga));}),function(ga){return eD(c4(ga));}),cu),(c6=[b_.Create$1(null)],(b5.Sink(function(ga){if(!bU.Equals(c6[0].c,ga))b_.Set(c6[0],ga);},Z.toView(c3)),new Z({$:1,$0:c6[0]}))));c7=Z.map(function(ga){return ga!=="0"&&ga!=="";},eE("DisableParse"));c8=Z.map2(function(ga){return function(gb){return eF(ga,gb);};},c7,eE("DisableFSI"));c9=Z.map2(function(ga){return function(gb){return eF(ga,gb);};},c7,eE("DisableFable"));c_=Z.map2(function(ga){return function(gb){return eF(ga,gb);};},c7,eE("DisableWebSharper"));c$=null;da=new m.New(function(ga){return d.defaultValue(new cl.New$3(),ga==null?null:{$:1,$0:new cl.New$2(ga.$0.UniquePredecessors(by.FetchO))});});db=b_.Create$1("");dc=b_.Create$1("");dd=b_.Create$1("");de=b_.Create$1("");df=false;dg=b_.Create$1(false);Z.sink(function(ga){a.onbeforeunload=ga?function(gb){gb.returnValue="Changes you made may not be saved.";}:null;},dg);dh=q.get_New();bz.set_addOutMsg(eM);di=(dj=a.location.origin+"/Main.html",(bI.Curried3(eZ))(dj));dk=Z.map(function(ga){var gb,gc;gb=null;return da.cache.TryGetValue(ga,{get:function(){return gb;},set:function(gd){gb=gd;}})?gb:(gc=da.f(ga),(da.cache.set_Item(ga,gc),gc));},cy);dl=0;dm=b_.Create$1("");Z.map(function(ga){return ga==="";},dm);dn="CodeEditorFileSel";_do=_4.New$2(b_.Lens(dm,fl,a.id)).Prefix$1(Y.label([Y["class"]("btn btn-primary"),Y.htmlText("Load File..."),_4.New$2(dm).Type("file").Style("display: none").Content([b8.Handler("change",function(ga){return function(){return fo(ga);};}),b8.Handler("click",function(ga){return function(){ga.value="";};})]).Id(dn).get_Render()]));cs!==""?bO.Start((dp=null,bO.Delay(function(){return bO.Bind(bO.Sleep(3000),function(){var ga;((function(gb){return function(gc){return gb("loading "+bK.toSafe(gc)+"...");};}(function(gb){bP.log(gb);}))(cs));ga=cp.getJSON(cs+"?t="+a.String(bW.now()));ga.done(function(){return fn(ga.responseText);});return bO.Zero();});})),null):void 0;dq=new X.New("FSharpStation",{$:1,$0:a.location.href});dr=bs.fsIds()+".fsx";ds=b5.GetAsync(Z.toView(c7));dt=1;du=false;dv="\\((\\d+)\\) F# (.+).fsx\\((\\d+)\\,(\\d+)\\): (error|warning) ((.|\\b)+)";dw="(Err|Warning|Info)(FSharp|WebSharper)\\s+\"(\\((\\d+)\\) ?)?F?#? ?(.+?)(.fsx)? \\((\\d+)\\,\\s*(\\d+)\\) - \\((\\d+)\\,\\s*(\\d+)\\) ((.|\\s)+?)"+"\"";dx=dv+"|"+dw;dy=c.asyncStartCancelling();dz=_9.New$2((dA=Z.toView(Z.fixit(cu)),(dB=b_.Create$1(null),(dC=[null],(dD=[0],(dE=[0],(b5.Sink(function(){var ga,gb;ga=dC[0];ga==null?void 0:(gb=ga.$0,dD[0]>dE[0]?dE[0]=dD[0]:!bU.Equals(gb.RVal(),dB.c)?(dE[0]=dE[0]+1,gb.set_RVal(dB.c)):void 0);},dB.v),b5.Sink(function(){var ga,gb;ga=dC[0];ga==null?void 0:(gb=ga.$0,dE[0]>dD[0]?dD[0]=dE[0]:!bU.Equals(gb.RVal(),dB.c)?(dD[0]=dD[0]+10,b_.Set(dB,gb.RVal())):void 0);},b5.Bind(function(ga){var gb;gb=er(ga);dC[0]={$:1,$0:gb};dE[0]=dD[0]+100;b_.Set(dB,gb.RVal());return gb.RView();},dA)),dB))))))).OnChange(function(){var ga;c$!=null&&c$.$==1&&(bU.Equals(c$.$0[0],cu.c)&&(ga=[c$.$0[0],c$.$0[2]],true))?eG():eH();}).OnRender(function(ga){function gb(gd){ga.replaceSelection(".","end");}function gc(){_2.showHints(ga,function(gd){return fA(gd[0],gd[1],gd[2]);},false,void 0);}ga.addKeyMap(bv.New(fx,fx,function(gd){_2.showHints(ga,function(ge){return fA(ge[0],ge[1],ge[2]);},false,gd);},function(gd){return gc(gb(gd));}));_2.setLint(ga,fz);Z.sink(function(gd){var ge;bO.Start((ge=null,bO.Delay(function(){ga.setOption("theme",gd);return bO.Bind(bO.Sleep(50),function(){ga.refresh();return bO.Zero();});})),null);},cS);Z.sink(function(gd){ga.setOption("mode",gd);},cN);}).Style("height: 100%");dF=dz.get_Render().AddChildren([new _1({$:7,$0:b8.Handler("dblclick",function(){return function(){return fx(dz.editorO.$0);};})}),Y.htmlElement("menu",[Y.type("context"),Y.Id("right-menu"),Y.htmlElement("menuitem",[Y.htmlAttribute("label","Goto Definition"),new _1({$:7,$0:b8.Handler("click",function(){return function(){return fE();};})})])]),Y.htmlAttribute("contextmenu","right-menu")]);Z.sink(function(){var ga;bO.Start((ga=null,bO.Delay(function(){var gb,gc,gd;return!df?bO.Zero():(gb=dz.editorO,gb!=null&&gb.$==1?(gc=gb.$0,(gd=by.FetchO(cu.c),gd!=null&&gd.$==1?bO.Bind(dq.MustParse(dr,gd.$0.get_NameSanitized()),function(ge){return ge?bO.Zero():(gc.performLint(),bO.Zero());}):bO.Zero())):bO.Zero());})),null);},dd);dG=b_.Create$1();dH=Y.div([new _1({$:5,$0:Z.map2(function(ga){return function(gb){return fK(ga,gb);};},dG,Z.bind(function(ga){return fM(fL(ga));},cu))}),Y.css(" td.hovering { background: gray; } ")]);dI=b_.Create$1();dJ=bj.New$1("Load...").OnClick(function(ga){return function(gb){return fq(ga,gb);};});dK=bj.New$1("Save as...").OnClick(bI.Curried(_2.Do,2,[fp,null])).Highlight(dg);dL=bj.New$1("Add Snippet").OnClick(bI.Curried(_2.Do,2,[fj,null]));dM=bj.New$1("Delete Snippet").OnClick(bI.Curried(_2.Do,2,[fk,null])).Disabled(cC);dN=bj.New$1("Indent In  >>").OnClick(bI.Curried(_2.Do,2,[eQ,null])).Disabled(cC);dO=bj.New$1("Indent Out <<").OnClick(bI.Curried(_2.Do,2,[eR,null])).Disabled(cC);dP=bj.New$1("Get F# Code").OnClick(bI.Curried(_2.Do,2,[eO,null])).Disabled(c7);dQ=bj.New$1("actSetSnippetProp").OnClick2(function(ga){return fP(function(gb){return function(gc){return fY(gb,gc);};},null,ga);}).Disabled(c8);dR=bj.New$1("Run FSI on Code").OnClick2(function(ga){return fP(function(gb){return function(gc){return fT(gb,gc);};},null,ga);}).Disabled(c8);dS=bj.New$1("Run FSI").OnClick2(function(ga){return fP(function(gb){return function(gc){return fV(gb,gc);};},null,ga);}).Disabled(c8);dT=bj.New$1("Run Fable on Code").OnClick2(function(ga){return fP(function(gb){return function(gc){return fU(gb,gc);};},null,ga);}).Disabled(c9);dU=bj.New$1("Run Fable").OnClick2(function(ga){return fP(function(gb){return function(gc){return fW(gb,gc);};},null,ga);}).Disabled(c9);dV=bj.New$1("Run WebSharper in new tab").OnClick2((dW=bt.NewBrowser,function(ga){return fP(function(gb){return function(gc){return fX(gb,gc);};},dW,ga);})).Disabled(c_);dX=bj.New$1("Run WebSharper in WS Result").OnClick2((dY=bt.Below,function(ga){return fQ(function(gb){return function(gc){return fX(gb,gc);};},dY,ga);})).Disabled(c_);dZ=bj.New$1("Run WebSharper in ...").OnClick(bI.Curried(fO,2,[f0,null])).Disabled(c_);d0=bj.New$1("Parse F#").OnClick(bI.Curried(fN,2,[f1,null])).Disabled(c7);d1=bj.New$1("Compile WebSharper").OnClick((d2=function(ga){return eS(e0(ga));},bI.Curried(fN,2,[d2,null]))).Disabled(c_);d3=bj.New$1("Find Definition").OnClick(bI.Curried(_2.Do,2,[fE,null])).Disabled(c7);d4=bj.New$1("Refresh CodeMirror").OnClick(bI.Curried(_2.Do,2,[fF,null]));d5=bj.New$1("Show Output text").OnClick2(bI.Curried(_2.Do2,3,[fZ,null]));d6=Y.div([dL.get_Button().get_Render(),dO.get_Button().get_Render(),dN.get_Button().get_Render(),_do.get_Render().AddChildren([Y.style("grid-column: 4/6")]),dS.get_Button().get_Render(),dU.get_Button().get_Render(),dZ.get_Button().get_Render(),dM.get_Button().get_Render(),d3.get_Button().get_Render(),Y.span([]),dK.get_Button().get_Render(),Y.span([]),dP.get_Button().get_Render(),d0.get_Button().get_Render(),Y.someElt(b6.Select([b9.Create("id","Position")],function(ga){return ga.$==1?"Right":ga.$==2?"In Tab":ga.$==3?"New Browser":"Below";},bM.ofArray([bt.NewBrowser,bt.Below]),cz)),Y.style("\n                    overflow: hidden;\n                    display: grid;\n                    grid-template-columns: repeat(8, 12.1%);\n                    bxackground-color: #eee;\n                    padding : 5px;\n                    grid-gap: 5px;\n                ")]);d7=bi.New2([bg.New$2("File").SubMenu([dJ.get_MenuEntry(),dK.get_MenuEntry()]),bg.New$2("Code").SubMenu([dL.get_MenuEntry(),dM.get_MenuEntry(),bg.New$2("").get_Divider(),dN.get_MenuEntry(),dO.get_MenuEntry(),bg.New$2("").get_Divider(),d3.get_MenuEntry(),bg.New$2("").get_Divider(),dP.get_MenuEntry(),bg.New$2("").get_Divider(),d4.get_MenuEntry()]),bg.New$2("Run").SubMenu([dS.get_MenuEntry(),dU.get_MenuEntry(),bg.New$2("").get_Divider(),dV.get_MenuEntry(),dX.get_MenuEntry(),bg.New$2("").get_Divider(),d0.get_MenuEntry(),d1.get_MenuEntry()])]);d8=bi.New2([bg.New$2("About").SubMenu([bg.New$1("Source @ GitHub","https://github.com/amieres/FSharpStation").Target("_blank")])]);d9=_2.navbar(Y.h1([Y.htmlText("F# Station"),Y.style("font-size: 48px; margin-top: -17px")]),d7.get_Render(),d8.get_Render());d_="CodeEditor."+"splitterV1";d$=bc.New$1(20).Children([Y.style("grid-row: 2 / 4")]).get_Var();ea=a.localStorage.getItem(d_);ea!==null?d$.set_RVal(((ch.Id())())(bV.parse(ea))):void 0;Z.sink(function(ga){a.localStorage.setItem(d_,bV.stringify(((ch.Id())())(ga)));},d$);eb=Y.bindHElem(function(ga){return Y.div(bM.ofSeq(bN.delay(function(){return bN.append([Y.style("overflow: auto")],bN.delay(function(){return bN.append(bN.choose(a.id,(bN.mapFold(function(gb,gc){var gd,ge,gf,gg,gh;gd=gc[1];return d.defaultValue(true,(ge=gd.parent,ge==null?null:{$:1,$0:gb.Contains(ge.$0)}))?(gf=d.defaultValue(false,(gg=bN.tryItem(gc[0]+1,bs.codeSnippets()),gg==null?null:{$:1,$0:bU.Equals(gg.$0.parent,{$:1,$0:gd.id})})),(gh=gf&&gd.expanded,[{$:1,$0:fd(gf,gh,gd)},gh?gb.Add(gd.id):gb])):[null,gb];},new cb.New(bM.T.Empty),bN.indexed(ga)))[0]),bN.delay(function(){return bN.append([new _1({$:7,$0:b8.Handler("scroll",function(gb){return function(){dl=gb.scrollTop;};})})],bN.delay(function(){return[new _1({$:7,$0:b8.OnAfterRender(function(gb){gb.scrollTop=dl;})})];}));}));}));})));},(ec=bs.codeSnippets().v,b5.SnapshotOn((bs.codeSnippets())["var"].RVal(),cx.v,ec)));ed=bo.AddGuids([["actLoadFile",new bk({$:2,$0:dJ})],["actSaveFile",new bk({$:2,$0:dK})],["actAddSnippet",new bk({$:2,$0:dL})],["actDeleteSnippet",new bk({$:2,$0:dM})],["actIndentSnippet",new bk({$:2,$0:dN})],["actOutdentSnippet",new bk({$:2,$0:dO})],["actGetFsCode",new bk({$:2,$0:dP})],["actSetSnippetProp",new bk({$:2,$0:dQ})],["actEvalFsCode",new bk({$:2,$0:dR})],["actEvalCode",new bk({$:2,$0:dS})],["actRunFableFs",new bk({$:2,$0:dT})],["actRunFable",new bk({$:2,$0:dU})],["actRunWSNewTab",new bk({$:2,$0:dV})],["actRunWSHere",new bk({$:2,$0:dX})],["actRunWSIn",new bk({$:2,$0:dZ})],["actParseCode",new bk({$:2,$0:d0})],["actCompileWS",new bk({$:2,$0:d1})],["actFindDefinition",new bk({$:2,$0:d3})],["actOutText",new bk({$:2,$0:d5})],["Output",new bk({$:1,$0:_6.New$2(de).Placeholder("Output:").Title("Output").RenderWith(bM.ofArray([b8.Handler("dblclick",function(ga){return function(gb){return f2(ga,gb);};})]))})],["Parser",new bk({$:1,$0:_6.New$2(dd).Placeholder("Parser messages:").Title("Parser").RenderWith(bM.ofArray([b8.Handler("dblclick",function(ga){return function(gb){return f2(ga,gb);};})]))})],["JavaScript",new bk({$:1,$0:_6.New$2(dc).Placeholder("Javascript:").Title("JavaScript code generated").get_Render()})],["F# code",new bk({$:1,$0:_6.New$2(db).Placeholder("F# code:").Title("F# code assembled").get_Render()})],["Properties",new bk({$:1,$0:dH})],["WS Result",new bk({$:1,$0:Y.div([Y.div([Y.Id("TestNode"),Y.style("background: white; height: 100%; width: 100%; ")])])})],["title",new bk({$:1,$0:_4.New$2((ee=Z.toView(Z.fixit(cu)),(ef=b_.Create$1(null),(eg=[null],(eh=[0],(ei=[0],(b5.Sink(function(){var ga,gb;ga=eg[0];ga==null?void 0:(gb=ga.$0,eh[0]>ei[0]?ei[0]=eh[0]:!bU.Equals(gb.RVal(),ef.c)?(ei[0]=ei[0]+1,gb.set_RVal(ef.c)):void 0);},ef.v),b5.Sink(function(){var ga,gb;ga=eg[0];ga==null?void 0:(gb=ga.$0,ei[0]>eh[0]?eh[0]=ei[0]:!bU.Equals(gb.RVal(),ef.c)?(eh[0]=eh[0]+10,b_.Set(ef,gb.RVal())):void 0);},b5.Bind(function(ga){var gb;gb=eq(ga);eg[0]={$:1,$0:gb};ei[0]=eh[0]+100;b_.Set(ef,gb.RVal());return gb.RView();},ee)),ef))))))).Prefix$1(Y.htmlText("name:")).get_Render()})],["code",new bk({$:1,$0:dF})],["snippets",new bk({$:1,$0:eb})],["buttons",new bk({$:1,$0:d6})],["menu",new bk({$:1,$0:d9})],["messagesR",new bk({$:4,$0:true,$1:["Properties"]})],["messagesB1",new bk({$:4,$0:true,$1:["Output","JavaScript","F# code"]})],["messagesB2",new bk({$:4,$0:true,$1:["Parser","WS Result"]})],["messagesB",_2.varVerSplitter(55,"messagesB1","messagesB2",0,100)],["title_code",_2.fixedHorSplitter(true,34,"title","code")],["code_props",_2.varVerSplitter(85,"title_code","messagesR",25,100)],["code_buttons",_2.fixedHorSplitter(false,80,"code_props","buttons")],["snippets_code",_2.varVerSplitter(15,"snippets","code_buttons",5,95)],["main_messages",_2.varHorSplitter(82,"snippets_code","messagesB",35,100)],["main",_2.fixedHorSplitter(true,50,"menu","main_messages")]]);ej=bo.New$1(ed);a.addLayoutJson=f4;Z.sink(f4,cX);Z.sink(function(ga){if(ga==="")f5([]);else eU(a,ga);},c2);a.doFSharpStationGuiCall=function(ga){var gb,gc;gb=h.Success(f3.apply(null,ga));gb.$==1?((gc=(bI.Curried3(function(gd,ge,gf){return gd("Error doGuiCall "+bK.printList(bK.prettyPrint,ge)+": "+("("+bK.prettyPrint(gf[0])+", "+bK.prettyPrint(gf[1])+", "+bK.printArray(bK.prettyPrint,gf[2])+")"));}))(function(gd){bP.log(gd);}),function(gd){var ge;ge=gc(gd);return function(gf){ge([gf[0],gf[1],gf[2]]);};})(gb.$0))(ga):void 0;};a.setFSharpStationLayout=function(ga){f5(ga(ej));};ek=new v.New(bs.fsIds(),{$:1,$0:bs.fsIds()},null,{$:1,$0:a.location.href});bO.Start((el=null,bO.Delay(function(){return bO.Bind(bO.Sleep(1000),function(){ek.get_MessagingClient().AwaitMessage(f_);return bO.Zero();});})),null);Z.sink(function(){ej.SelectTab("Output");},de);Z.sink(function(){ej.SelectTab("WS Result");},dI);em=b_.Create$1(bM.ofArray(["/EPFileX/css/main.css"]));Z.sink(f$,cI);Z.sink(function(ga){if(ga!=="")f$((function(gb){return function(gc){return gb("/EPFileX/codemirror/content/theme/"+bK.toSafe(gc)+".css");};}(a.id))(ga));},cS);en=Y.div([Y.style("height: 100vh; width: 100% "),ej.get_Render().Style("height: 100%; width: 100% "),Y.script([Y.src("/EPFileX/FileSaver/FileSaver.js"),Y.type("text/javascript")]),Y.script([Y.src("http://code.jquery.com/jquery-3.1.1.min.js"),Y.type("text/javascript")]),Y.script([Y.src("http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"),Y.type("text/javascript")]),Y.link([Y.href("http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"),Y.type("text/css"),Y.rel("stylesheet")]),Y.css("\n      \n        body { margin: 0px }     \n             \n        div textarea {\n            font-family     : monospace;\n        }\n        .code-editor-list-tile {\n            white-space     : nowrap; \n            border-style    : solid none none;\n            border-color    : white;\n            border-width    : 1px;\n            background-color: #D8D8D8;\n            display         : flex;\n        }\n        .code-editor-list-text{\n            padding         : 1px 10px 1px 5px;\n            overflow        : hidden;\n            text-overflow   : ellipsis;\n            white-space     : nowrap;\n            flex            : 1;\n        }\n        \n        .code-editor-list-tile.direct-predecessor {\n            font-weight     : bold;\n        }\n        .code-editor-list-tile.indirect-predecessor {\n            color           : blue;\n        }\n        .code-editor-list-tile.selected {\n            background-color: #77F;\n            color           : white;\n        }\n        .code-editor-list-tile.hovering {\n            background      : lightgray;\n        }\n        .code-editor-list-tile.hovering.selected {\n            background      : blue;\n        }\n        .code-editor-list-tile>.predecessor {\n            font-weight     : bold;\n            border-style    : inset;\n            border-width    : 1px;\n            text-align      : center;\n            color           : transparent;\n        }\n        .code-editor-list-tile.direct-predecessor>.predecessor {\n            color           : blue;\n        }\n        \n        .CodeMirror { height: 100%; }\n        \n        .node {\n            background-color: white; \n            width           : 2ch; \n            color           : #A03; \n            font-weight     : bold; \n            text-align      : center;\n            font-family     : arial;\n        }\n        .Warning { text-decoration: underline lightblue } \n        .Error   { text-decoration: underline red       } \n        .body    { margin         : 0px                 }\n        "),Y.style(" \n                color      : #333;\n                font-size  : small;\n                font-family: monospace;\n                line-height: 1.2;\n                    "),new _1({$:5,$0:Z.map(function(ga){return Y.div(bM.ofSeq(bN.delay(function(){return bN.map(function(gb){return Y.link([Y.href(gb),Y.type("text/css"),Y.rel("stylesheet")]);},ga);})));},em)}),Y.css(cD)]);return(Y.renderDoc())(en);};bC.$cctor=function(){var cs,ct,cu;bC.$cctor=a.ignore;function cv(cw,cx){return new _1({$:7,$0:b8.Style(cw,cx)});}bC.result=new i.New();bC.errOptionIsNone=new f.New();bC.wrapper=new k.New();bC.awaitRequestForF=o.selectF(function(cw){return(new b2.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.awaitRequestFor:-439983525",[cw]);},function(cw){return(new b2.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.awaitRequestFor:-439983525",[cw]);});bC.sendRequestF=o.selectF(bI.Curried3(function(cw,cx,cy){return(new b2.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.sendRequest:-426626804",[cw,cx,cy]);}),bI.Curried3(function(cw,cx,cy){return(new b2.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.sendRequest:-426626804",[cw,cx,cy]);}));bC.replyToF=o.selectF(function(cw){return function(cx){return(new b2.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.replyTo:-1092841374",[cw,cx]);};},function(cw){return function(cx){return(new b2.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.replyTo:-1092841374",[cw,cx]);};});bC.AsyncStartF=o.selectF(function(cw){o.AsyncStart(cw);},function(cw){bO.Start(cw,null);});bC.renderDoc=(cs=(ct=b6.Empty(),function(cw){return cw==null?ct:cw.$0;}),function(cw){return cs(Y.chooseNode(cw));});bC.string2Styles=(cu=function(cw){return bT.map(function(cx){return cv(cx[0],cx[1]);},cw);},function(cw){return cu(Y.style2pairs(cw));});bC.codeMirrorIncludes=["/EPFileX/codemirror/scripts/codemirror/codemirror.js","/EPFileX/codemirror/scripts/intellisense.js","/EPFileX/codemirror/scripts/codemirror/codemirror-intellisense.js","/EPFileX/codemirror/scripts/codemirror/codemirror-compiler.js","/EPFileX/codemirror/scripts/codemirror/mode/none.js","/EPFileX/codemirror/scripts/codemirror/mode/fsharp.js","/EPFileX/codemirror/scripts/codemirror/mode/css.js","/EPFileX/codemirror/scripts/codemirror/mode/javascript.js","/EPFileX/codemirror/scripts/codemirror/mode/markdown.js","/EPFileX/codemirror/scripts/addon/search/searchcursor.js","/EPFileX/codemirror/scripts/addon/search/search.js","/EPFileX/codemirror/scripts/addon/search/jump-to-line.js","/EPFileX/codemirror/scripts/addon/dialog/dialog.js","/EPFileX/codemirror/scripts/addon/edit/matchbrackets.js","/EPFileX/codemirror/scripts/addon/selection/active-line.js","/EPFileX/codemirror/scripts/addon/display/fullscreen.js","/EPFileX/codemirror/scripts/addon/hint/show-hint.js","/EPFileX/codemirror/scripts/addon/lint/lint.js"];bC.observers=bM.T.Empty;bC.draggedTab=[null];bC.selectedPanels=b_.Create$1(new cq.New([]));bC.TabMoved=null;bC.codeSnippets=cr.Create(function(cw){return cw.id;},bM.T.Empty);bC.fsIds="FSharpStation"+a.String(bW.now());bC.references=["mscorlib.dll","System.dll","System.Core.dll","System.Data.dll","System.IO.dll","System.Xml.dll","System.Numerics.dll","FSharp.Core.sigdata","FSharp.Core.dll","Fable.Core.dll","Fable.Import.Browser.dll"];bC.loadReferences=co.Create(function(){var cw;bO.Start((cw=null,bO.Delay(function(){return bO.Bind(Y.LoadFilesAsync(["https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.2/require.min.js"]),function(){var cx;cx=ci.create(null);cx.skipDataMain=1;cx.isBrowser=1;a.require.config(cx);bN.iter(function(cy){a.getFileBlob(cy,"metadata/"+cy);},bz.references());return bO.Zero();});})),null);});bC.getChecker=co.Create(function(){return cj.createChecker(function(cw){return a.metadata[cw];},bT.choose(function(cw){return cw.indexOf("sigdata")!=-1?null:{$:1,$0:bL.Replace(cw,".dll","")};},bz.references()));});bC.addOutMsg=function(cw){bP.log(cw);};};bD.j=function(){return bD._v?bD._v:bD._v=(ch.DecodeUnion(void 0,"$",[[0,[["$0","Item",ch.Id(),0]]],[1,[["$0","Item",ch.Id(),1]]],[2,[["$0","Item",bD.j$2,1]]],[3,[["$0","Item",ch.DecodeArray(bD.j$2),0]]],[4,[["$0","Item1",ch.Id(),1],["$1","Item2",ch.DecodeArray(ch.DecodeTuple([ch.Id(),bD.j$1])),0]]]]))();};bD.j$2=function(){return bD._v$2?bD._v$2:bD._v$2=(ch.DecodeRecord(r,[["name",ch.Id(),0],["content",ch.Id(),0],["parent",bD.j$3,1],["predecessors",ch.DecodeList(bD.j$3),0],["id",bD.j$3,0],["expanded",ch.Id(),0],["level",ch.Id(),0],["levelCode",ch.Id(),0],["properties",ch.DecodeStringDictionary(ch.Id()),0]]))();};bD.j$3=function(){return bD._v$3?bD._v$3:bD._v$3=(ch.DecodeUnion(q,"$",[[0,[["$0","Item",ch.Id(),0]]]]))();};bD.j$1=function(){return bD._v$1?bD._v$1:bD._v$1=(ch.DecodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]]]))();};bE.j=function(){return bE._v?bE._v:bE._v=(ch.EncodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",ch.Id(),0]]],[2,[["$0","Item",bE.j$1,0]]],[3,[["$0","Item",bE.j$1,0]]],[4,[["$0","Item",bE.j$1,0]]],[5,[["$0","Item",bE.j$1,0]]],[6,[["$0","Item",ch.EncodeArray(ch.Id()),0]]],[7,[["$0","Item",ch.EncodeArray(ch.Id()),0]]],[8,[["$0","Item",ch.EncodeArray(ch.Id()),0]]],[9,[["$0","Item",ch.EncodeArray(ch.Id()),0]]],[10,[["$0","Item",ch.EncodeArray(ch.Id()),0]]],[11,[]],[12,[["$0","Item1",bE.j$1,0],["$1","Item2",ch.Id(),0]]],[13,[["$0","Item1",ch.EncodeArray(ch.Id()),0],["$1","Item2",ch.Id(),0]]],[14,[["$0","name",ch.Id(),0],["$1","action",ch.Id(),0],["$2","parms",ch.EncodeArray(ch.Id()),0]]]]))();};bE.j$1=function(){return bE._v$1?bE._v$1:bE._v$1=(ch.EncodeUnion(q,"$",[[0,[["$0","Item",ch.Id(),0]]]]))();};bE.j$4=function(){return bE._v$4?bE._v$4:bE._v$4=(ch.EncodeUnion(void 0,"$",[[0,[["$0","Item",ch.Id(),0]]],[1,[["$0","Item",ch.Id(),1]]],[2,[["$0","Item",bE.j$3,1]]],[3,[["$0","Item",ch.EncodeArray(bE.j$3),0]]],[4,[["$0","Item1",ch.Id(),1],["$1","Item2",ch.EncodeArray(ch.EncodeTuple([ch.Id(),bE.j$5])),0]]]]))();};bE.j$5=function(){return bE._v$5?bE._v$5:bE._v$5=(ch.EncodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]]]))();};bD.j$5=function(){return bD._v$5?bD._v$5:bD._v$5=(ch.DecodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",ch.Id(),0]]],[2,[["$0","Item",bD.j$3,0]]],[3,[["$0","Item",bD.j$3,0]]],[4,[["$0","Item",bD.j$3,0]]],[5,[["$0","Item",bD.j$3,0]]],[6,[["$0","Item",ch.DecodeArray(ch.Id()),0]]],[7,[["$0","Item",ch.DecodeArray(ch.Id()),0]]],[8,[["$0","Item",ch.DecodeArray(ch.Id()),0]]],[9,[["$0","Item",ch.DecodeArray(ch.Id()),0]]],[10,[["$0","Item",ch.DecodeArray(ch.Id()),0]]],[11,[]],[12,[["$0","Item1",bD.j$3,0],["$1","Item2",ch.Id(),0]]],[13,[["$0","Item1",ch.DecodeArray(ch.Id()),0],["$1","Item2",ch.Id(),0]]],[14,[["$0","name",ch.Id(),0],["$1","action",ch.Id(),0],["$2","parms",ch.DecodeArray(ch.Id()),0]]]]))();};bF.p$22=function(cs){return"{"+("text = "+bG.p$5(cs.text))+"; "+("highlight = "+bG.p$7(cs.highlight))+"; "+("disabled = "+bG.p$7(cs.disabled))+"; "+("toolTip = "+bG.p$9(cs.toolTip))+"; "+("onClick = "+bG.p$10(cs.onClick))+"; "+("parms = "+bG.p$4(cs.parms))+"}";};bG.p$10=function(cs){return cs==null?"null":"Some <fun>";};bG.p$9=function(cs){return cs==null?"null":"Some "+bK.prettyPrint(cs.$0);};bG.p$7=function(cs){return cs.$==2?"Dynamic "+bG.p$8(cs.$0):cs.$==1?"DynamicV "+bK.prettyPrint(cs.$0):"Constant "+bK.prettyPrint(cs.$0);};bG.p$8=function(cs){return"V <fun>";};bG.p$5=function(cs){return cs.$==2?"Dynamic "+bG.p$6(cs.$0):cs.$==1?"DynamicV "+bK.prettyPrint(cs.$0):"Constant "+bK.prettyPrint(cs.$0);};bG.p$6=function(cs){return"V <fun>";};bG.p$4=function(cs){return cs==null?"null":"Some "+bK.printArray(bK.prettyPrint,cs.$0);};bG.p$3=function(cs){return cs.$==17?"KMultiple "+bK.printArray(function(ct){return bG.p$3(ct);},cs.$0):cs.$==16?"KUnionCase "+bF.p$21(cs.$0):cs.$==15?"KNamespaces "+bF.p$18(cs.$0):cs.$==14?"KCompilerLocation "+bF.p$17(cs.$0):cs.$==13?"KSignatureData "+bF.p$15(cs.$0):cs.$==12?"KTypeSig "+bK.prettyPrint(cs.$0):cs.$==11?"KToolTip "+bK.printArray(function(ct){return bK.printArray(function(cu){return bF.p$2(cu);},ct);},cs.$0):cs.$==10?"KDeclarations "+bK.printArray(function(ct){return bF.p$13(ct);},cs.$0):cs.$==9?"KFindDecl "+bF.p$12(cs.$0):cs.$==8?"KColorizations "+bK.printList(function(ct){return bF.p$11(ct);},cs.$0):cs.$==7?"KErrors "+bF.p$9(cs.$0):cs.$==6?"KMethod "+bF.p$6(cs.$0):cs.$==5?"KHelp "+bK.prettyPrint(cs.$0):cs.$==4?"KSymbolUse "+bF.p$4(cs.$0):cs.$==3?"KCompletion "+bK.printArray(function(ct){return bF.p$3(ct);},cs.$0):cs.$==2?"KHelpText "+bF.p$1(cs.$0):cs.$==1?"KError "+bF.p(cs.$0):"KInfo "+bK.prettyPrint(cs.$0);};bF.p$21=function(cs){return"{"+("Text = "+bK.prettyPrint(cs.Text))+"}";};bF.p$18=function(cs){return"{"+("Opens = "+bK.printArray(function(ct){return bF.p$19(ct);},cs.Opens))+"; "+("Qualifies = "+bK.printArray(function(ct){return bF.p$20(ct);},cs.Qualifies))+"; "+("Word = "+bK.prettyPrint(cs.Word))+"}";};bF.p$20=function(cs){return"{"+("Name = "+bK.prettyPrint(cs.Name))+"; "+("Qualifier = "+bK.prettyPrint(cs.Qualifier))+"}";};bF.p$19=function(cs){return"{"+("Namespace = "+bK.prettyPrint(cs.Namespace))+"; "+("Name = "+bK.prettyPrint(cs.Name))+"; "+("Type = "+bK.prettyPrint(cs.Type))+"; "+("Line = "+bK.prettyPrint(cs.Line))+"; "+("Column = "+bK.prettyPrint(cs.Column))+"; "+("MultipleNames = "+bK.prettyPrint(cs.MultipleNames))+"}";};bF.p$17=function(cs){return"{"+("Fsc = "+bK.prettyPrint(cs.Fsc))+"; "+("Fsi = "+bK.prettyPrint(cs.Fsi))+"; "+("MSBuild = "+bK.prettyPrint(cs.MSBuild))+"}";};bF.p$15=function(cs){return"{"+("OutputType = "+bK.prettyPrint(cs.OutputType))+"; "+("Parameters = "+bK.printList(function(ct){return bK.printList(function(cu){return bF.p$16(cu);},ct);},cs.Parameters))+"}";};bF.p$16=function(cs){return"{"+("Name = "+bK.prettyPrint(cs.Name))+"; "+("Type = "+bK.prettyPrint(cs.Type))+"}";};bF.p$13=function(cs){return"{"+("Declaration = "+bF.p$14(cs.Declaration))+"; "+("Nested = "+bK.printArray(function(ct){return bF.p$14(ct);},cs.Nested))+"}";};bF.p$14=function(cs){return"{"+("UniqueName = "+bK.prettyPrint(cs.UniqueName))+"; "+("Name = "+bK.prettyPrint(cs.Name))+"; "+("Glyph = "+bK.prettyPrint(cs.Glyph))+"; "+("GlyphChar = "+bK.prettyPrint(cs.GlyphChar))+"; "+("IsTopLevel = "+bK.prettyPrint(cs.IsTopLevel))+"; "+("File = "+bK.prettyPrint(cs.File))+"; "+("EnclosingEntity = "+bK.prettyPrint(cs.EnclosingEntity))+"; "+("IsAbstract = "+bK.prettyPrint(cs.IsAbstract))+"}";};bF.p$12=function(cs){return"{"+("File = "+bK.prettyPrint(cs.File))+"; "+("Line = "+bK.prettyPrint(cs.Line))+"; "+("Column = "+bK.prettyPrint(cs.Column))+"}";};bF.p$11=function(cs){return"{"+("Kind = "+bK.prettyPrint(cs.Kind))+"}";};bF.p$9=function(cs){return"{"+("File = "+bK.prettyPrint(cs.File))+"; "+("Errors = "+bK.printArray(function(ct){return bF.p$10(ct);},cs.Errors))+"}";};bF.p$10=function(cs){return"{"+("FileName = "+bK.prettyPrint(cs.FileName))+"; "+("StartLine = "+bK.prettyPrint(cs.StartLine))+"; "+("EndLine = "+bK.prettyPrint(cs.EndLine))+"; "+("StartColumn = "+bK.prettyPrint(cs.StartColumn))+"; "+("EndColumn = "+bK.prettyPrint(cs.EndColumn))+"; "+("Message = "+bK.prettyPrint(cs.Message))+"; "+("Subcategory = "+bK.prettyPrint(cs.Subcategory))+"}";};bF.p$6=function(cs){return"{"+("Name = "+bK.prettyPrint(cs.Name))+"; "+("CurrentParameter = "+bK.prettyPrint(cs.CurrentParameter))+"; "+("Overloads = "+bK.printList(function(ct){return bF.p$7(ct);},cs.Overloads))+"}";};bF.p$7=function(cs){return"{"+("Tip = "+bK.printList(function(ct){return bK.printList(function(cu){return bF.p$2(cu);},ct);},cs.Tip))+"; "+("TypeText = "+bK.prettyPrint(cs.TypeText))+"; "+("Parameters = "+bK.printList(function(ct){return bF.p$8(ct);},cs.Parameters))+"; "+("IsStaticArguments = "+bK.prettyPrint(cs.IsStaticArguments))+"}";};bF.p$8=function(cs){return"{"+("Name = "+bK.prettyPrint(cs.Name))+"; "+("CanonicalTypeTextForSorting = "+bK.prettyPrint(cs.CanonicalTypeTextForSorting))+"; "+("Display = "+bK.prettyPrint(cs.Display))+"; "+("Description = "+bK.prettyPrint(cs.Description))+"}";};bF.p$4=function(cs){return"{"+("Name = "+bK.prettyPrint(cs.Name))+"; "+("Uses = "+bK.printList(function(ct){return bF.p$5(ct);},cs.Uses))+"}";};bF.p$5=function(cs){return"{"+("FileName = "+bK.prettyPrint(cs.FileName))+"; "+("StartLine = "+bK.prettyPrint(cs.StartLine))+"; "+("StartColumn = "+bK.prettyPrint(cs.StartColumn))+"; "+("EndLine = "+bK.prettyPrint(cs.EndLine))+"; "+("EndColumn = "+bK.prettyPrint(cs.EndColumn))+"; "+("IsFromDefinition = "+bK.prettyPrint(cs.IsFromDefinition))+"; "+("IsFromAttribute = "+bK.prettyPrint(cs.IsFromAttribute))+"; "+("IsFromComputationExpression = "+bK.prettyPrint(cs.IsFromComputationExpression))+"; "+("IsFromDispatchSlotImplementation = "+bK.prettyPrint(cs.IsFromDispatchSlotImplementation))+"; "+("IsFromPattern = "+bK.prettyPrint(cs.IsFromPattern))+"; "+("IsFromType = "+bK.prettyPrint(cs.IsFromType))+"}";};bF.p$3=function(cs){return"{"+("Name = "+bK.prettyPrint(cs.Name))+"; "+("ReplacementText = "+bK.prettyPrint(cs.ReplacementText))+"; "+("Glyph = "+bK.prettyPrint(cs.Glyph))+"; "+("GlyphChar = "+bK.prettyPrint(cs.GlyphChar))+"}";};bF.p$1=function(cs){return"{"+("Name = "+bK.prettyPrint(cs.Name))+"; "+("Overloads = "+bK.printList(function(ct){return bK.printList(function(cu){return bF.p$2(cu);},ct);},cs.Overloads))+"}";};bF.p$2=function(cs){return"{"+("Signature = "+bK.prettyPrint(cs.Signature))+"; "+("Comment = "+bK.prettyPrint(cs.Comment))+"}";};bF.p=function(cs){return"{"+("Code = "+bK.prettyPrint(cs.Code))+"; "+("Message = "+bK.prettyPrint(cs.Message))+"}";};bE.j$3=function(){return bE._v$3?bE._v$3:bE._v$3=(ch.EncodeRecord(r,[["name",ch.Id(),0],["content",ch.Id(),0],["parent",bE.j$1,1],["predecessors",ch.EncodeList(bE.j$1),0],["id",bE.j$1,0],["expanded",ch.Id(),0],["level",ch.Id(),0],["levelCode",ch.Id(),0],["properties",ch.EncodeStringDictionary(ch.Id()),0]]))();};bE.j$2=function(){return bE._v$2?bE._v$2:bE._v$2=(ch.EncodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};bD.j$4=function(){return bD._v$4?bD._v$4:bD._v$4=(ch.DecodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};bD.j$6=function(){return bD._v$6?bD._v$6:bD._v$6=(ch.DecodeUnion(void 0,"$",[[0,[["$0","Item",ch.Id(),0]]],[1,[["$0","Item",ch.DecodeArray(ch.Id()),0]]]]))();};bE.j$6=function(){return bE._v$6?bE._v$6:bE._v$6=(ch.EncodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",ch.Id(),0]]],[2,[]],[3,[]],[4,[]]]))();};bD.j$7=function(){return bD._v$7?bD._v$7:bD._v$7=(ch.DecodeRecord(void 0,[["GuiRoot",ch.Id(),1],["GuiTabStrip",ch.DecodeTuple([ch.Id(),ch.DecodeArray(ch.Id())]),1],["GuiSplit",ch.DecodeTuple([ch.Id(),ch.Id(),ch.Id(),ch.Id(),ch.Id(),ch.Id(),ch.Id(),ch.Id()]),1],["GuiNode",bD.j$8,1],["GuiCall",ch.DecodeTuple([ch.Id(),ch.Id(),ch.DecodeArray(ch.Id())]),1]]))();};bD.j$8=function(){return bD._v$8?bD._v$8:bD._v$8=(ch.DecodeRecord(void 0,[["HtmlElementF",ch.DecodeTuple([ch.Id(),ch.DecodeArray(bD.j$8)]),1],["HtmlAttributeF",ch.DecodeTuple([ch.Id(),ch.Id()]),1],["HtmlAttributeOF",ch.DecodeTuple([ch.Id(),bD.j$9]),1],["HtmlTextF",ch.Id(),1],["HtmlEmptyF",ch.Id(),1],["HtmlGuiPart",ch.Id(),1],["HtmlGuiCall",ch.DecodeTuple([ch.Id(),ch.Id(),ch.DecodeArray(ch.Id())]),1]]))();};bD.j$9=function(){return bD._v$9?bD._v$9:bD._v$9=(ch.DecodeUnion(void 0,"$",[null,[1,[["$0","Value",ch.Id(),0]]]]))();};bG.p=function(cs){return cs.$==2?"FSInfor":cs.$==1?"FSWarning":"FSError";};bG.p$1=function(cs){return cs.$==1?"Snippet Not Found "+bK.prettyPrint(cs.$0):"FSMessage ("+bK.prettyPrint(cs.$0)+", "+bG.p(cs.$1)+")";};bG.p$2=function(cs){return cs.$==2?"Could not open new browser, Popup blocker may be active":cs.$==1?"Snippet Missing":"JsCompilerMsg ("+bK.prettyPrint(cs.$0)+", "+bK.prettyPrint(cs.$1)+")";};}());
