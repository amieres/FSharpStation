(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq;a=window;b=a.FSSGlobal=a.FSSGlobal||{};c=b.Useful=b.Useful||{};d=c.Option=c.Option||{};e=c.ExceptionThrown=c.ExceptionThrown||{};f=c.ErrOptionIsNone=c.ErrOptionIsNone||{};g=c.ErrSimple=c.ErrSimple||{};h=c.Result=c.Result||{};i=h.ropBuilder=h.ropBuilder||{};j=c.Wrap=c.Wrap||{};k=j.Builder=j.Builder||{};l=c.Async=c.Async||{};m=c.ResetableMemoize=c.ResetableMemoize||{};n=c.PreproDirective=c.PreproDirective||{};o=b.FsEvaluator=b.FsEvaluator||{};p=b.FsStationShared=b.FsStationShared||{};q=p.MessagingClient=p.MessagingClient||{};r=p.CodeSnippetId=p.CodeSnippetId||{};s=p.CodeSnippet=p.CodeSnippet||{};t=p.FSMessage=p.FSMessage||{};u=p.FSSeverity=p.FSSeverity||{};v=p.FsStationClientErr=p.FsStationClientErr||{};w=p.FsStationClient=p.FsStationClient||{};x=b.FsTranslator=b.FsTranslator||{};y=b.FSAutoCompleteIntermediary=b.FSAutoCompleteIntermediary||{};z=y.CommTypes=y.CommTypes||{};A=z.ResponseError=z.ResponseError||{};B=z.Location=z.Location||{};C=z.CompletionResponse=z.CompletionResponse||{};D=z.OverloadDescription=z.OverloadDescription||{};E=z.OverloadParameter=z.OverloadParameter||{};F=z.Overload=z.Overload||{};G=z.Parameter=z.Parameter||{};H=z.SignatureData=z.SignatureData||{};I=z.MethodResponse=z.MethodResponse||{};J=z.SymbolUseRange=z.SymbolUseRange||{};K=z.SymbolUseResponse=z.SymbolUseResponse||{};L=z.HelpTextResponse=z.HelpTextResponse||{};M=z.CompilerLocationResponse=z.CompilerLocationResponse||{};N=z.FSharpErrorInfo=z.FSharpErrorInfo||{};O=z.ErrorResponse=z.ErrorResponse||{};P=z.Colorization=z.Colorization||{};Q=z.Declaration=z.Declaration||{};R=z.DeclarationResponse=z.DeclarationResponse||{};S=z.OpenNamespace=z.OpenNamespace||{};T=z.QualifySymbol=z.QualifySymbol||{};U=z.ResolveNamespaceResponse=z.ResolveNamespaceResponse||{};V=z.UnionCaseResponse=z.UnionCaseResponse||{};W=z.ACMessage=z.ACMessage||{};X=y.FSAutoCompleteIntermediaryClient=y.FSAutoCompleteIntermediaryClient||{};Y=b.HtmlNode=b.HtmlNode||{};Z=Y.Val=Y.Val||{};_0=Z.HelperType=Z.HelperType||{};_1=Y.HtmlNode=Y.HtmlNode||{};_2=b.Template=b.Template||{};_3=_2.Button=_2.Button||{};_4=_2.Input=_2.Input||{};_5=_2.Hoverable=_2.Hoverable||{};_6=_2.TextArea=_2.TextArea||{};_7=_2.CodeMirrorPos=_2.CodeMirrorPos||{};_8=_2.CodeMirrorEditor=_2.CodeMirrorEditor||{};_9=_2.CodeMirror=_2.CodeMirror||{};_=_2.Hint=_2.Hint||{};$=_2.HintResponse=_2.HintResponse||{};ba=_2.HintOptions=_2.HintOptions||{};bb=_2.LintResponse=_2.LintResponse||{};bc=_2.SplitterBar=_2.SplitterBar||{};bd=_2.SectionType=_2.SectionType||{};be=_2.Grid=_2.Grid||{};bf=_2.TabStrip=_2.TabStrip||{};bg=_2.MenuEntry=_2.MenuEntry||{};bh=_2.MenuNode=_2.MenuNode||{};bi=_2.Menu=_2.Menu||{};bj=_2.Action=_2.Action||{};bk=_2.GuiPart=_2.GuiPart||{};bl=_2.HtmlNodeFable=_2.HtmlNodeFable||{};bm=_2.LayoutDescriptionFable=_2.LayoutDescriptionFable||{};bn=_2.GuiPartSourceId=_2.GuiPartSourceId||{};bo=_2.Layout=_2.Layout||{};bp=b.RunCode=b.RunCode||{};bq=bp.RunNode=bp.RunNode||{};br=b.FSharpStation=b.FSharpStation||{};bs=br.FsGlobal=br.FsGlobal||{};bt=bs.Position=bs.Position||{};bu=bs.ErrCompiler=bs.ErrCompiler||{};bv=bs.KeyMapAutoComplete=bs.KeyMapAutoComplete||{};bw=bs.Property=bs.Property||{};bx=bs.PropValue=bs.PropValue||{};by=bs.CodeSnippet=bs.CodeSnippet||{};bz=br.FableModule=br.FableModule||{};bA=bz.Babel=bz.Babel||{};bB=bz.Fable=bz.Fable||{};bC=a.StartupCode$FSharpStation$FSharpStation=a.StartupCode$FSharpStation$FSharpStation||{};bD=a.FSharpStation_JsonDecoder=a.FSharpStation_JsonDecoder||{};bE=a.FSharpStation_JsonEncoder=a.FSharpStation_JsonEncoder||{};bF=a.FSharpStation_GeneratedPrintf=a.FSharpStation_GeneratedPrintf||{};bG=a.GeneratedPrintf=a.GeneratedPrintf||{};bH=a.IntelliFactory;bI=bH&&bH.Runtime;bJ=a.WebSharper;bK=bJ&&bJ.Utils;bL=bJ&&bJ.List;bM=bJ&&bJ.Strings;bN=bJ&&bJ.Seq;bO=bJ&&bJ.Concurrency;bP=a.console;bQ=bJ&&bJ.Collections;bR=bQ&&bQ.Dictionary;bS=bJ&&bJ.Arrays;bT=bJ&&bJ.Unchecked;bU=bJ&&bJ.Remoting;bV=bU&&bU.AjaxRemotingProvider;bW=a.JSON;bX=a.Date;bY=b&&b.UsefulDotNet;bZ=bY&&bY.Messaging;b0=bJ&&bJ.Guid;b1=bJ&&bJ.Option;b2=bJ&&bJ.UI;b3=b2&&b2.Next;b4=b3&&b3.View;b5=b3&&b3.Doc;b6=bJ&&bJ.Operators;b7=b3&&b3.AttrModule;b8=b3&&b3.AttrProxy;b9=b3&&b3.Var;b_=b3&&b3.Input;b$=b_&&b_.Mouse;ca=bQ&&bQ.FSharpSet;cb=bQ&&bQ.BalancedTree;cc=bQ&&bQ.Map;cd=bJ&&bJ.MatchFailureException;ce=bJ&&bJ.Slice;cf=bJ&&bJ.Json;cg=cf&&cf.Provider;ch=a.Object;ci=a.Fable;cj=a.Babel;ck=bQ&&bQ.HashSet;cl=bJ&&bJ.JavaScript;cm=cl&&cl.JSModule;cn=a.jQuery;co=bQ&&bQ.FSharpMap;cp=b3&&b3.ListModel;cq=bJ&&bJ.Lazy;d.modify=function(cr){var cs;function ct(cu){return cu==null?null:{$:1,$0:cr(cu.$0)};}cs=function(cu){return d.defaultValue(a.id,cu);};return function(cu){return cs(ct(cu));};};d.apply=function(cr,cs){var ct;return cr!=null&&cr.$==1&&(cs!=null&&cs.$==1&&(ct=[cs.$0,cr.$0],true))?{$:1,$0:ct[0](ct[1])}:null;};d.iterFO=function(cr,cs){if(cr!=null&&cr.$==1)if(cs!=null&&cs.$==1)cs.$0(cr.$0);};d.iterF=function(cr,cs){if(cs!=null&&cs.$==1)cs.$0(cr);};d.call=function(cr,cs){return cs!=null&&cs.$==1?{$:1,$0:cs.$0(cr)}:null;};d.defaultWith=function(cr,cs){return cs==null?cr():cs.$0;};d.defaultValue=function(cr,cs){return cs==null?cr:cs.$0;};e=c.ExceptionThrown=bI.Class({toString:function(){return this.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return false;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return(function(cr){return function(cs){return cr(bK.prettyPrint(cs));};}(a.id))(this.exn);}},bJ.Obj,e);e.New=bI.Ctor(function(cr){this.exn=cr;},e);f=c.ErrOptionIsNone=bI.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return false;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return"Option is None";}},bJ.Obj,f);f.New=bI.Ctor(function(){},f);g=c.ErrSimple=bI.Class({toString:function(){return this.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return this.warning;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return this.msg;}},bJ.Obj,g);g.New=bI.Ctor(function(cr,cs){this.msg=cr;this.warning=cs;},g);i=h.ropBuilder=bI.Class({Combine:function(cr,cs){return(h.combine(cr))(cs);},Delay:function(cr){return cr();},Zero:function(){return h.succeed();},Using:function(cr,cs){try{return cs(cr);}finally{cr.Dispose();}},Bind:function(cr,cs){return h.bind(function(ct){return h.tryCall(cs,ct);},cr);},ReturnFrom:a.id,Return:function(cr){return h.succeed(cr);}},bJ.Obj,i);i.New=bI.Ctor(function(){},i);h.countMessages=function(cr){var cs,ct,cu,cv,cw,cx,cy;if(cr.$===0)return"";else{cv=bL.filter(function(cz){return!cz.FSSGlobal_Useful_ErrMsg$get_IsWarning();},cr);cw=bL.filter(function(cz){return cz.FSSGlobal_Useful_ErrMsg$get_IsWarning();},cr);cx=cv.get_Length();cy=cw.get_Length();switch(cx===0?cy===0?0:cy===1?2:5:cx===1?cy===0?1:cy===1?3:(cs=[cx,cy],6):cy===0?4:(cs=[cx,cy],6)){case 0:cu=function(cz){return function(cA){return cz(bK.toSafe(cA));};}(a.id);break;case 1:cu=function(cz){return function(cA){return cz(bK.toSafe(cA));};}(a.id);break;case 2:cu=function(cz){return function(cA){return cz(bK.toSafe(cA));};}(a.id);break;case 3:cu=function(cz){return function(cA){return cz("1 error, 1 warning\n"+bK.toSafe(cA));};}(a.id);break;case 4:cu=((bI.Curried3(function(cz,cA,cB){return cz(a.String(cA)+" errors\n"+bK.toSafe(cB));}))(a.id))(cx);break;case 5:cu=((bI.Curried3(function(cz,cA,cB){return cz(a.String(cA)+" warnings\n"+bK.toSafe(cB));}))(a.id))(cy);break;case 6:cu=(((bI.Curried(function(cz,cA,cB,cC){return cz(a.String(cA)+" errors, "+a.String(cB)+" warnings\n"+bK.toSafe(cC));},4))(a.id))(cs[0]))(cs[1]);break;}return cu(h.getMessages(cr));}};h.getMessages=function(cr){return bM.concat("\n",bL.map(function(cs){return cs.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},cr));};h.seqCheck=function(cr){return bN.exists(function(cs){return h.Success(cs).$==1&&true;},cr)?h.failWithMsgs(bN.pick(function(cs){var ct;ct=h.Success(cs);return ct.$==1?{$:1,$0:ct.$0}:null;},cr)):h.succeed(bN.map(function(cs){return cs.$0.$0;},cr));};h.withError=function(cr,cs){var ct;ct=cs.$1;return d.defaultWith(function(){return cr(ct);},cs.$0);};h.ifError=function(cr,cs){return d.defaultValue(cr,cs.$0);};h.failIfTrue=function(cr,cs){return cs?h.fail(cr):h.succeed();};h.failIfFalse=function(cr,cs){return cs?h.succeed():h.fail(cr);};h.tryProtection=function(){return h.succeed();};h.toOption=function(cr){return cr.$0;};h.fromOption=function(cr,cs){return cs!=null&&cs.$==1?h.succeed(cs.$0):h.fail(cr);};h.fromChoice=function(cr,cs){return cs.$==1?h.fail(cs.$0):h.succeed(cs.$0);};h.result=function(){bC.$cctor();return bC.result;};h.tryCall=function(cr,cs){try{return cr(cs);}catch(ct){return h.fail(h.failException(ct));}};h.failException=function(cr){return new e.New(cr);};h.x=function(cr){return h.Success(cr).$==1?"No":"yes";};h.Success=function(cr){return cr.$0==null?{$:1,$0:cr.$1}:{$:0,$0:[cr.$0.$0,cr.$1]};};h.apply=function(cr,cs){var ct,cu,cv,cw,cx;ct=cr.$1;cu=cs.$1;cv=cr.$0;cw=cs.$0;return cv!=null&&cv.$==1&&(cw!=null&&cw.$==1&&(cx=[cv.$0,cw.$0],true))?{$:0,$0:{$:1,$0:cx[0](cx[1])},$1:bL.append(ct,cu)}:{$:0,$0:null,$1:bL.append(ct,cu)};};h.bind=function(cr,cs){var ct,cu,cv;ct=cs.$0;cu=cs.$1;return ct==null?{$:0,$0:null,$1:cu}:(cv=cr(ct.$0),{$:0,$0:cv.$0,$1:bL.append(cu,cv.$1)});};h.combine=function(cr){var cs;cs=cr.$1;return function(ct){return h.mergeMsgs(cs,ct);};};h.mergeMsgs=function(cr,cs){var ct;ct=h.mapMsgs(function(cu){return bL.append(cr,cu);},cs);return{$:0,$0:ct[0],$1:ct[1]};};h.getMsgs=function(cr){return cr.$1;};h.getOption=function(cr){return cr.$0;};h.mapMsgs=function(cr,cs){return[cs.$0,cr(cs.$1)];};h.mapMsg=function(cr,cs){return[cs.$0,bL.map(cr,cs.$1)];};h.map=function(cr,cs){var ct;return{$:0,$0:(ct=cs.$0,ct==null?null:{$:1,$0:cr(ct.$0)}),$1:cs.$1};};h.failWithMsgs=function(cr){return{$:0,$0:null,$1:cr};};h.fail=function(cr){return{$:0,$0:null,$1:bL.ofArray([cr])};};h.succeedWithMsgs=function(cr,cs){return{$:0,$0:{$:1,$0:cr},$1:cs};};h.succeedWithMsg=function(cr,cs){return{$:0,$0:{$:1,$0:cr},$1:bL.ofArray([cs])};};h.succeed=function(cr){return{$:0,$0:{$:1,$0:cr},$1:bL.T.Empty};};j.StartAsTask=function(cr,cs,ct){return bO.StartAsTask(j.getAsyncR(cr),ct);};j.Start=function(cr,cs){bO.Start(j.getAsync(cr),cs);};k=j.Builder=bI.Class({Using:function(cr,cs){return{$:2,$0:bO.Using(cr,function(ct){return j.wrapper2Async(cs,ct);})};},Combine:function(cr,cs){return j.combine(j.errOptionIsNone(),cr,cs);},Delay:function(cr){return cr();},ReturnFrom:a.id,Return:function(cr){return{$:3,$0:cr};},Zero:function(){return{$:3,$0:null};},Bind:function(cr,cs){return j.bind(cs,{$:4,$0:cr});},Bind$1:function(cr,cs){return j.bind(cs,{$:0,$0:cr});},Bind$2:function(cr,cs){return j.bind(cs,{$:1,$0:cr});},Bind$3:function(cr,cs){return j.bind(cs,cr);}},bJ.Obj,k);k.New=bI.Ctor(function(){},k);j.runSynchronouslyS=function(cr,cs){var ct;ct=j.runSynchronouslyO(cr,cs);return ct[0]==null?(function(cu){return function(cv){return cu("Failed!\n"+bK.toSafe(cv));};}(a.id))(ct[1]):(((bI.Curried3(function(cu,cv,cw){return cu(a.String(cv)+"\n"+bK.toSafe(cw));}))(a.id))(ct[0].$0))(ct[1]);};j.runSynchronouslyO=function(cr,cs){return h.mapMsgs(cr?h.countMessages:h.getMessages,bP.log("runSynchronously should not be used in Javascript"));};j.start=function(cr,cs){j.startV(function(ct){if(ct[0]==null)cr("Failed!\n"+ct[1]);else cr(ct[1]);},cs);};j.startV=function(cr,cs){var ct,cu,cv,cw;function cx(cA){return h.mapMsgs(h.getMessages,cA);}function cy(cA){return[null,cA];}function cz(cA){return[null,cA];}bO.StartWithContinuations(j.getAsyncR(cs),function(cA){return cr(cx(cA));},(ct=(cu=function(cA){return function(cB){return cA(bK.prettyPrint(cB));};}(a.id),function(cA){return cy(cu(cA));}),function(cA){return cr(ct(cA));}),(cv=(cw=function(cA){return function(cB){return cA(bK.prettyPrint(cB));};}(a.id),function(cA){return cz(cw(cA));}),function(cA){return cr(cv(cA));}),null);};j.getAsync=function(cr){var cs,ct,cu,cv,cw,cx;return cr.$==3?bO.Return(cr.$0):cr.$==4?(cs=cr.$0,(ct=null,bO.Delay(function(){var cy,cz;if(cs==null)throw a.Error(h.getMessages(bL.ofArray([j.errOptionIsNone()])));else cz=cs.$0;return bO.Return(cz);}))):cr.$==0?(cu=cr.$0,(cv=null,bO.Delay(function(){var cy,cz,cA;cA=h.Success(cu);if(cA.$==1)throw a.Error(h.getMessages(cA.$0));else cz=cA.$0[0];return bO.Return(cz);}))):cr.$==2?(cw=cr.$0,(cx=null,bO.Delay(function(){return bO.Bind(cw,function(cy){var cz,cA,cB;cB=h.Success(cy);if(cB.$==1)throw a.Error(h.getMessages(cB.$0));else cA=cB.$0[0];return bO.Return(cA);});}))):cr.$0;};j.getAsyncWithDefault=function(cr,cs){var ct;ct=null;return bO.Delay(function(){return bO.Bind(j.getAsyncR(cs),function(cu){return bO.Return(h.withError(cr,cu));});});};j.getAsyncR=function(cr){var cs,ct;return cr.$==3?bO.Return(h.succeed(cr.$0)):cr.$==4?bO.Return(h.fromOption(j.errOptionIsNone(),cr.$0)):cr.$==0?bO.Return(cr.$0):cr.$==2?cr.$0:(cs=cr.$0,(ct=null,bO.Delay(function(){return bO.Bind(cs,function(cu){return bO.Return(h.succeed(cu));});})));};j.getResult=function(cr,cs){if(cs.$==4){if(cs.$0==null)cr(h.fail(j.errOptionIsNone()));else cr(h.succeed(cs.$0.$0));}else if(cs.$==0)cr(cs.$0);else if(cs.$==1)bO.StartWithContinuations(cs.$0,function(ct){cr(h.succeed(ct));},function(ct){cr(h.fail(h.failException(ct)));},function(ct){cr(h.fail(h.failException(ct)));},null);else if(cs.$==2)bO.StartWithContinuations(cs.$0,cr,function(ct){cr(h.fail(h.failException(ct)));},function(ct){cr(h.fail(h.failException(ct)));},null);else cr(h.succeed(cs.$0));};j.wrapper=function(){bC.$cctor();return bC.wrapper;};j.combine=function(cr,cs,ct){return cs.$==4?cs.$0==null?j.addMsgs(cr,bL.ofArray([cr]),ct):ct:cs.$==0?cs.$0.$1.$==0?ct:j.addMsgs(cr,cs.$0.$1,ct):cs.$==1?ct:cs.$==2?ct:ct;};j.addMsgs=function(cr,cs,ct){var cu,cv,cw;if(cs.$===0)return ct;else switch(ct.$==4?ct.$0==null?1:(cu=ct.$0.$0,0):ct.$==0?(cu=ct.$0,2):ct.$==1?(cu=ct.$0,3):ct.$==2?(cu=ct.$0,4):(cu=ct.$0,0)){case 0:return{$:0,$0:h.succeedWithMsgs(cu,cs)};break;case 1:return{$:0,$0:h.mergeMsgs(cs,h.fail(cr))};break;case 2:return{$:0,$0:h.mergeMsgs(cs,cu)};break;case 3:return{$:2,$0:(cv=null,bO.Delay(function(){return bO.Bind(cu,function(cx){return bO.Return(h.succeedWithMsgs(cx,cs));});}))};break;case 4:return{$:2,$0:(cw=null,bO.Delay(function(){return bO.Bind(cu,function(cx){return bO.Return(h.mergeMsgs(cs,cx));});}))};break;}};j.wrapper2Async=function(cr,cs){var ct,cu,cv,cw;cu=j.tryCall(cr,cs);switch(cu.$==4?0:cu.$==0?1:cu.$==1?2:cu.$==2?3:0){case 0:return j.wb2arb(bL.T.Empty,cu);break;case 1:return j.wb2arb(cu.$0.$1,cu);break;case 2:cv=cu.$0;cw=null;return bO.Delay(function(){return bO.Bind(cv,function(cx){return bO.Return(h.succeed(cx));});});break;case 3:return cu.$0;break;}};j.map=function(cr){var cs;cs=function(ct){return j.Return(cr(ct));};return function(ct){return j.bind(cs,ct);};};j.Return=function(cr){return{$:3,$0:cr};};j.bind=function(cr,cs){var ct,cu,cv,cw,cx;switch(cs.$==4?cs.$0==null?1:(ct=cs.$0.$0,0):cs.$==0?(cu=h.Success(cs.$0),cu.$==1?(ct=cu.$0,2):cu.$0[1].$==0?(ct=cu.$0[0],0):(ct=[cu.$0[0],cu.$0[1]],3)):cs.$==1?(ct=cs.$0,4):cs.$==2?(ct=cs.$0,5):(ct=cs.$0,0)){case 0:return j.tryCall(cr,ct);break;case 1:return{$:4,$0:null};break;case 2:return{$:0,$0:h.failWithMsgs(ct)};break;case 3:cv=ct[1];return function(cy){var cz,cA,cB,cC;switch(cy.$==4?cy.$0==null?1:(cz=cy.$0.$0,0):cy.$==0?(cA=h.Success(cy.$0),cA.$==1?(cz=cA.$0,4):cA.$0[1].$==0?(cz=cA.$0[0],2):(cz=[cA.$0[0],cA.$0[1]],3)):cy.$==1?(cz=cy.$0,5):cy.$==2?(cz=cy.$0,6):(cz=cy.$0,0)){case 0:return{$:0,$0:h.succeedWithMsgs(cz,cv)};break;case 1:return{$:0,$0:h.failWithMsgs(new bL.T({$:1,$0:j.errOptionIsNone(),$1:cv}))};break;case 2:return{$:0,$0:h.succeedWithMsgs(cz,cv)};break;case 3:return{$:0,$0:h.succeedWithMsgs(cz[0],bL.append(cv,cz[1]))};break;case 4:return{$:0,$0:h.failWithMsgs(bL.append(cv,cz))};break;case 5:return{$:2,$0:(cB=null,bO.Delay(function(){return bO.Bind(cz,function(cD){return bO.Return(h.succeedWithMsgs(cD,cv));});}))};break;case 6:return{$:2,$0:(cC=null,bO.Delay(function(){return bO.Bind(cz,function(cD){return bO.Return(h.mergeMsgs(cv,cD));});}))};break;}}(j.tryCall(cr,ct[0]));break;case 4:return{$:2,$0:(cw=null,bO.Delay(function(){return bO.Bind(ct,function(cy){return j.wb2arb(bL.T.Empty,j.tryCall(cr,cy));});}))};break;case 5:return{$:2,$0:(cx=null,bO.Delay(function(){return bO.Bind(ct,function(cy){var cz,cA,cB;cz=h.Success(cy);return cz.$==1?(cA=cz.$0,cB=null,bO.Delay(function(){return bO.Return(h.failWithMsgs(cA));})):j.wb2arb(cz.$0[1],j.tryCall(cr,cz.$0[0]));});}))};break;}};j.tryCall=function(cr,cs){try{return cr(cs);}catch(ct){return{$:0,$0:h.fail(h.failException(ct))};}};j.wb2arb=function(cr,cs){var ct,cu,cv,cw,cx,cy;switch(cs.$==2?(ct=cs.$0,1):cs.$==0?(ct=cs.$0,2):cs.$==3?(ct=cs.$0,3):cs.$==4?cs.$0==null?4:(ct=cs.$0.$0,3):(ct=cs.$0,0)){case 0:cu=null;return bO.Delay(function(){return bO.Bind(ct,function(cz){return bO.Return(h.succeedWithMsgs(cz,cr));});});break;case 1:cv=null;return bO.Delay(function(){return bO.Bind(ct,function(cz){return bO.Return(h.mergeMsgs(cr,cz));});});break;case 2:cw=null;return bO.Delay(function(){return bO.Return(h.mergeMsgs(cr,ct));});break;case 3:cx=null;return bO.Delay(function(){return bO.Return(h.succeedWithMsgs(ct,cr));});break;case 4:cy=null;return bO.Delay(function(){return bO.Return(h.failWithMsgs(new bL.T({$:1,$0:j.errOptionIsNone(),$1:cr})));});break;}};j.errOptionIsNone=function(){bC.$cctor();return bC.errOptionIsNone;};l.map=function(cr,cs){var ct;ct=null;return bO.Delay(function(){return bO.Bind(cs,function(cu){return bO.Return(cr(cu));});});};m=c.ResetableMemoize=bI.Class({ClearCache:function(){this.cache.Clear();}},bJ.Obj,m);m.New=bI.Ctor(function(cr){this.f=cr;this.cache=new bR.New$5();},m);n.NoPrepo={$:11};n.PrepoEndIf={$:8};n.PrepoElse={$:7};c.separateDirectives=function(cr){var cs,ct,cu,cv;function cw(cE){return cE[1];}function cx(cE){return cE.$==0?{$:1,$0:cE.$0}:null;}function cy(cE){return cE[1];}function cz(cE){return cE.$==1?{$:1,$0:cE.$0}:null;}function cA(cE){return cE[1];}function cB(cE){return cE.$==5?{$:1,$0:cE.$0}:null;}function cC(cE){return cE[1];}function cD(cE){return cE.$==4?{$:1,$0:cE.$0}:null;}cs=bS.ofSeq(bN.distinct(bN.choose(function(cE){return cx(cw(cE));},cr)));ct=bS.ofSeq(bN.distinct(bN.choose(function(cE){return cz(cy(cE));},cr)));cu=bS.ofSeq(bN.distinct(bN.choose(function(cE){return cB(cA(cE));},cr)));cv=bS.ofSeq(bN.distinct(bN.choose(function(cE){return cD(cC(cE));},cr)));return[bS.ofSeq(bN.map(function(cE){return cE[0];},cr)),cs,ct,cu,cv];};c.separatePrepros=function(cr,cs){var ct;function cu(cx){return d.defaultValue(cx,bN.tryLast(bM.SplitStrings(bM.Trim(cx),["\""],1)));}function cv(cx){return d.defaultValue("",bN.tryHead(bM.SplitStrings(bM.Trim(cx),["#define "],1)));}function cw(cx){return"//"+cx;}ct=cr?cw:a.id;return bS.map(function(cx){var cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK;cy=true;return cy&&(bM.StartsWith(cx,"#define")&&true)?[cw(cx),{$:1,$0:cv(cx)}]:cy&&(bM.StartsWith(cx,"#r")&&true)?[cw(cx),{$:0,$0:cu(cx)}]:cy&&(bM.StartsWith(cx,"#load")&&true)?[cw(cx),{$:2,$0:cu(cx)}]:cy&&(bM.StartsWith(cx,"#nowarn")&&true)?[cw(cx),{$:4,$0:cu(cx)}]:cy&&(bM.StartsWith(cx,"# ")&&true)?[ct(cx),{$:3,$0:cu(cx)}]:cy&&(bM.StartsWith(cx,"#line")&&true)?[ct(cx),{$:3,$0:cu(cx)}]:cy&&(bM.StartsWith(cx,"#I")&&true)?[cw(cx),{$:5,$0:cu(cx)}]:cy&&(bM.StartsWith(cx,"#if")&&true)?[cx,{$:6,$0:cx}]:cy&&(bM.StartsWith(cx,"#else")&&true)?[cx,n.PrepoElse]:cy&&(bM.StartsWith(cx,"#endif")&&true)?[cx,n.PrepoEndIf]:cy&&(bM.StartsWith(cx,"#light")&&true)?[cx,{$:9,$0:false}]:cy&&(bM.StartsWith(cx,"#")&&true)?[cw(cx),{$:10,$0:cx}]:[cx,n.NoPrepo];},cs);};c.swap=function(cr,cs,ct){return cr(ct,cs);};c.REGEX=function(cr,cs,ct){var cu;if(ct===null)return null;else try{cu=(new a.String(ct)).match(new a.RegExp(cr,cs));return bT.Equals(cu,null)?null:cu&&bS.length(cu)===0?null:{$:1,$0:cu};}catch(cv){return null;}};c.extract=function(cr,cs){var ct;return bM.Substring(cs,0,(ct=cs.length,bT.Compare(cr,ct)===-1?cr:ct));};o.evaluateAR=function(cr){var cs;cs=null;return bO.Delay(function(){return bO.Bind((new bV.New()).Async("FSharpStation:FSSGlobal.FsEvaluator.evaluateAS:-1404420254",[cr]),function(ct){function cu(cv,cw){return new g.New(cv,cw);}return bO.Return({$:0,$0:ct[0],$1:bL.ofSeq(bN.map(function(cv){return cu(cv[0],cv[1]);},ct[1]))});});});};q=p.MessagingClient=bI.Class({poStrings:function(cr){return cr.$==1?cr.$0:[(function(cs){return function(ct){return cs("unexpected response: "+bK.toSafe(ct));};}(a.id))(cr.$0)];},poString:function(cr){return cr.$==1?(function(cs){return function(ct){return cs(bK.printArray(bK.prettyPrint,ct));};}(a.id))(cr.$0):cr.$0;},poMsg:function(cr,cs){var ct,cu;ct=this;cu=null;return bO.Delay(function(){return bO.Bind(ct.sendMessage(p.AddressId("WebServer:PostOffice"),bW.stringify((bE.j$6())(cs))),function(cv){return bO.Return(cr((bD.j$6())(bW.parse(cv))));});});},sendMessage:function(cr,cs){return(((p.sendRequestF())(cr))(this.fromId))(cs);},awaitMessage:function(cr){var cs,ct;cs=this;(p.AsyncStartF())((ct=null,bO.Delay(function(){return bO.While(function(){return true;},bO.Delay(function(){(((bI.Curried3(function(cu,cv,cw){return cu(bK.toSafe(cv)+" awaitRequest "+bK.toSafe(cw));}))(function(cu){bP.log(cu);}))(function(cu){return cu.getFullYear()+"-"+(cu.getMonth()+1)+"-"+cu.getDate()+" "+cu.getHours()+":"+cu.getMinutes()+":"+cu.getSeconds()+":"+cu.getMilliseconds();}(new a.Date(bX.now()))))(cs.clientId);return bO.Bind(bO.StartChild((p.awaitRequestForF())(cs.fromId),{$:1,$0:cs.tout}),function(cu){return bO.TryWith(bO.Delay(function(){return bO.Bind(cu,function(cv){return bO.Bind(cr(cs.clientId,cv.content),function(cw){return bO.Bind(((p.replyToF())(cv.messageId.$0))(cw),function(){return bO.Return(null);});});});}),function(cv){return cv instanceof bJ.TimeoutException?bO.Zero():((function(cw){return function(cx){return cw(bK.prettyPrint(cx));};}(function(cw){bP.log(cw);}))(cv),bO.Zero());});});}));})));},get_ClientId:function(){return this.clientId;},get_EndPoint:function(){return this.wsEndPoint;},POListeners:function(){var cr;cr=this;return this.poMsg(function(cs){return cr.poStrings(cs);},bZ.POMessage.POListeners);},POMessage:function(cr){return this.poMsg(a.id,cr);},SendMessage:function(cr,cs){return this.sendMessage(cr,cs);},AwaitMessage:function(cr){this.awaitMessage(cr);},AwaitMessage$1:function(cr){this.awaitMessage(function(cs,ct){var cu;cu=null;return bO.Delay(function(){return bO.Return(cr(cs,ct));});});}},bJ.Obj,q);q.get_EndPoint_=function(){return"http://localhost:9010/";};q.New=bI.Ctor(function(cr,cs,ct){this.clientId=cr;this.wsEndPoint=d.defaultValue("http://localhost:9010/",ct);this.tout=d.defaultValue(100000,cs);this.fromId=p.AddressId(this.clientId);bU.set_EndPoint(this.wsEndPoint);},q);r=p.CodeSnippetId=bI.Class({get_Text:function(){return a.String(this.$0);}},null,r);r.get_New=function(){return new r({$:0,$0:b0.NewGuid()});};s=p.CodeSnippet=bI.Class({SeparateCode:function(cr){var cs,ct,cu,cv,cw,cx;function cy(cz,cA){return[bM.replicate(ct," ")+cz,cA];}cs=!cr||this.properties.ContainsKey("NoLinePre");ct=this.levelCode*2;cu=ct===0?[a.id,""]:[function(cz){return bS.map(function(cA){return cy(cA[0],cA[1]);},cz);},(function(cz){return function(cA){return cz("("+a.String(cA)+")");};}(a.id))(ct)];cv=c.separateDirectives(cu[0](c.separatePrepros(!cr,(cs?a.id:(cw=[(((bI.Curried3(function(cz,cA,cB){return cz("# 1 @\""+bK.toSafe(cA)+bK.toSafe(cB)+"\"");}))(a.id))(cu[1]))(this.get_NameSanitized())],function(cz){return cw.concat(cz);}))(bM.SplitChars(this.content,["\n"],0)))));cx=cv[0];return[[[this.get_NameSanitized(),bS.length(cx),ct]],cx,cv[1],cv[2],cv[3],cv[4]];},UniquePredecessors:function(cr){return p.predsL(cr,bL.ofArray([this.id]));},get_NameSanitized:function(){return this.id.get_Text()+" "+p.sanitize(this.get_Name())+".fsx";},get_Name:function(){return p.snippetName(this.name,this.content);}},null,s);s.CodeFsx=function(cr,cs){return(s.CodeAndStarts(cr,cs))[0];};s.CodeAndStarts=function(cr,cs){var ct;ct=s.ReducedCode(cr,cs);return s.FinishCode(cr,ct[0],ct[1],ct[2],ct[3],ct[4],ct[5]);};s.FinishCode=function(cr,cs,ct,cu,cv,cw,cx){var cy,cz;cy=bM.concat(" ",bN.map(function(cA){return"-d:"+cA;},bN.sort(cv)));cz=bL.ofSeq(bN.delay(function(){return bN.append(cy!==""?["////"+cy]:[],bN.delay(function(){return bN.append(bN.map(function(cA){return function(cB){return cA("#I @\""+bK.toSafe(cB)+"\"");};}(a.id),cw),bN.delay(function(){return bN.append(bN.map(function(cA){return function(cB){return cA("#r @\""+bK.toSafe(cB)+"\"");};}(a.id),cu),bN.delay(function(){return bN.append(cr&&!bN.isEmpty(cx)?["# 1 \"required for nowarns to work\""]:[],bN.delay(function(){return bN.map(function(cA){return function(cB){return cA("#nowarn \""+bK.toSafe(cB)+"\"");};}(a.id),cx);}));}));}));}));}));return[bM.concat("\n",bN.append(cz,ct)),bS.ofSeq((bN.mapFold(function(cA,cB){var cC;cC=cB[1];return[[cB[0],[cB[2],cA,cA+cC]],cA+cC];},cz.get_Length(),cs))[0])];};s.ReducedCode=function(cr,cs){var ct,cu;function cv(cw,cx,cy,cz,cA,cB){return function(cC){return s.AddSeps(cw,cx,cy,cz,cA,cB,cC[0],cC[1],cC[2],cC[3],cC[4],cC[5]);};}ct=bN.reduce(function(cw,cx){return(function(cy){return cv(cy[0],cy[1],cy[2],cy[3],cy[4],cy[5]);}(cw))(cx);},(cu=bN.map(function(cw){return cw.SeparateCode(cr);},cs),bN.isEmpty(cu)?[[[],[],[],[],[],[]]]:cu));return[ct[0],[bM.concat("\n",ct[1])],ct[2],ct[3],ct[4],ct[5]];};s.AddSeps=function(cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC){return[cr.concat(cx),cs.concat(cy),bS.ofSeq(bN.distinct(bN.append(ct,cz))),bS.ofSeq(bN.distinct(bN.append(cu,cA))),bS.ofSeq(bN.distinct(bN.append(cv,cB))),bS.ofSeq(bN.distinct(bN.append(cw,cC)))];};s.TryFindByKey=function(cr,cs){return bN.tryFind(function(ct){return bT.Equals(ct.id,cs);},cr);};s.New=function(cr,cs,ct,cu,cv,cw,cx,cy,cz){return new s({name:cr,content:cs,parent:ct,predecessors:cu,id:cv,expanded:cw,level:cx,levelCode:cy,properties:cz});};t.GetWholeFile={$:11};t.GetIdentification={$:0};u.FSInfor={$:2};u.FSWarning={$:1};u.FSError={$:0};v=p.FsStationClientErr=bI.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return this.$==0&&(this.$1.$==0&&true);},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return this.$==0?(((bI.Curried3(function(cr,cs,ct){return cr(bF.p(cs)+" "+bK.toSafe(ct));}))(a.id))(this.$1))(this.$0):(function(cr){return function(cs){return cr(bF.p$1(cs));};}(a.id))(this);}},null,v);w=p.FsStationClient=bI.Class({snippetResponse:function(cr){return cr.$==2?h.succeed(cr.$0):h.fail(new v({$:1,$0:a.String(cr)}));},snippetsResponse:function(cr){return cr.$==3?h.succeed(cr.$0):h.fail(new v({$:1,$0:a.String(cr)}));},stringResponse:function(cr){var cs,ct;return cr.$==1&&((ct=cr.$0,ct!=null&&ct.$==1)&&(cs=cr.$0.$0,true))?h.succeed(cs):h.fail(new v({$:1,$0:a.String(cr)}));},stringResponseR:function(cr){var cs,ct;function cu(cv,cw){return new v({$:0,$0:cv,$1:cw});}return cr.$==4&&((ct=cr.$0,ct!=null&&ct.$==1)&&(cs=[cr.$0.$0,cr.$1],true))?h.succeedWithMsgs(cs[0],bL.ofSeq(bN.map(function(cv){return cu(cv[0],cv[1]);},cs[1]))):h.fail(new v({$:1,$0:a.String(cr)}));},get_MessagingClient:function(){return this.msgClient;},get_FSStationId:function(){return this.fsIds;},RunSnippet:function(cr,cs){var ct,cu,cv,cw,cx;function cy(cz){return ct.stringResponseR(cz);}ct=this;cu={$:13,$0:bM.SplitChars(cs,["/"],0),$1:cr};cv=this;cw=this.toId;cx=j.wrapper();return cx.Delay(function(){return cx.Bind$2(cv.msgClient.SendMessage(cw,bW.stringify((bE.j())(cu))),function(cz){return cx.Bind$1(cy((bD.j())(bW.parse(cz))),function(cA){return cx.Return(cA);});});});},GenericMessage:function(cr){var cs,ct,cu,cv,cw;function cx(cy){return cs.stringResponse(cy);}cs=this;ct=this;cu=this.toId;cv={$:1,$0:cr};cw=j.wrapper();return cw.Delay(function(){return cw.Bind$2(ct.msgClient.SendMessage(cu,bW.stringify((bE.j())(cv))),function(cy){return cw.Bind$1(cx((bD.j())(bW.parse(cy))),function(cz){return cw.Return(cz);});});});},RequestWholeFile:function(){var cr,cs,ct,cu,cv;function cw(cx){return cr.stringResponse(cx);}cr=this;cs=this;ct=this.toId;cu=t.GetWholeFile;cv=j.wrapper();return cv.Delay(function(){return cv.Bind$2(cs.msgClient.SendMessage(ct,bW.stringify((bE.j())(cu))),function(cx){return cv.Bind$1(cw((bD.j())(bW.parse(cx))),function(cy){return cv.Return(cy);});});});},RequestPredsById:function(cr){var cs,ct,cu,cv,cw;function cx(cy){return cs.snippetsResponse(cy);}cs=this;ct=this;cu=this.toId;cv={$:4,$0:cr};cw=j.wrapper();return cw.Delay(function(){return cw.Bind$2(ct.msgClient.SendMessage(cu,bW.stringify((bE.j())(cv))),function(cy){return cw.Bind$1(cx((bD.j())(bW.parse(cy))),function(cz){return cw.Return(cz);});});});},RequestPreds:function(cr){var cs,ct,cu,cv,cw;function cx(cy){return cs.snippetsResponse(cy);}cs=this;ct={$:8,$0:bM.SplitChars(cr,["/"],0)};cu=this;cv=this.toId;cw=j.wrapper();return cw.Delay(function(){return cw.Bind$2(cu.msgClient.SendMessage(cv,bW.stringify((bE.j())(ct))),function(cy){return cw.Bind$1(cx((bD.j())(bW.parse(cy))),function(cz){return cw.Return(cz);});});});},RequestJSCode:function(cr){var cs,ct,cu,cv,cw;function cx(cy){return cs.stringResponseR(cy);}cs=this;ct={$:10,$0:bM.SplitChars(cr,["/"],0)};cu=this;cv=this.toId;cw=j.wrapper();return cw.Delay(function(){return cw.Bind$2(cu.msgClient.SendMessage(cv,bW.stringify((bE.j())(ct))),function(cy){return cw.Bind$1(cx((bD.j())(bW.parse(cy))),function(cz){return cw.Return(cz);});});});},RequestCode:function(cr){var cs,ct,cu,cv,cw;function cx(cy){return cs.stringResponse(cy);}cs=this;ct={$:7,$0:bM.SplitChars(cr,["/"],0)};cu=this;cv=this.toId;cw=j.wrapper();return cw.Delay(function(){return cw.Bind$2(cu.msgClient.SendMessage(cv,bW.stringify((bE.j())(ct))),function(cy){return cw.Bind$1(cx((bD.j())(bW.parse(cy))),function(cz){return cw.Return(cz);});});});},RequestSnippet:function(cr){var cs,ct,cu,cv,cw;function cx(cy){return cs.snippetResponse(cy);}cs=this;ct={$:9,$0:bM.SplitChars(cr,["/"],0)};cu=this;cv=this.toId;cw=j.wrapper();return cw.Delay(function(){return cw.Bind$2(cu.msgClient.SendMessage(cv,bW.stringify((bE.j())(ct))),function(cy){return cw.Bind$1(cx((bD.j())(bW.parse(cy))),function(cz){return cw.Return(cz);});});});},SendMessage:function(cr){var cs,ct,cu;cs=this;ct=this.toId;cu=j.wrapper();return cu.Delay(function(){return cu.Bind$2(cs.msgClient.SendMessage(ct,bW.stringify((bE.j())(cr))),function(cv){return cu.Bind$1(h.succeed((bD.j())(bW.parse(cv))),function(cw){return cu.Return(cw);});});});},SendMessage$1:function(cr,cs){var ct,cu;ct=this;cu=j.wrapper();return cu.Delay(function(){return cu.Bind$2(ct.msgClient.SendMessage(cr,bW.stringify((bE.j())(cs))),function(cv){return cu.Bind$1(h.succeed((bD.j())(bW.parse(cv))),function(cw){return cu.Return(cw);});});});}},bJ.Obj,w);w.get_FSStationId_=function(){return"FSharpStation1511081898135";};w.New=bI.Ctor(function(cr,cs,ct,cu){this.fsIds=d.defaultValue("FSharpStation1511081898135",cs);this.msgClient=new q.New(cr,ct,cu);this.toId=p.AddressId(this.fsIds);},w);p.predsL=function(cr,cs){var ct,cu;ct=cs;cu=bL.T.Empty;while(!(ct.$==0))(function(){var cv,cw;return ct.$==1?(cv=ct.$1,(cw=ct.$0,bN.contains(cw,cu)?void(ct=cv):(ct=bL.collect(a.id,bL.ofArray([cv,bL.collect(function(cx){return bL.append(b1.toList(cx.parent),cx.predecessors);},b1.toList(cr(cw)))])),void(cu=new bL.T({$:1,$0:cw,$1:cu}))))):null;}());return cu;};p.preds=function(cr,cs,ct){var cu,cv;return ct.$==1?(cu=ct.$0,(cv=bL.collect(a.id,bL.ofArray([ct.$1,bL.collect(function(cw){return bL.append(b1.toList(cw.parent),cw.predecessors);},b1.toList(cr(cu)))])),p.preds(cr,bN.contains(cu,cs)?cs:new bL.T({$:1,$0:cu,$1:cs}),cv))):cs;};p.sanitize=function(cr){var cs;cs=["\"","<",">","|","\u0000","\u0001","\u0002","\u0003","\u0004","\u0005","\u0006","\u0007","\u0008","\u0009","\n","\u000b","\u000c","\r","\u000e","\u000f","\u0010","\u0011","\u0012","\u0013","\u0014","\u0015","\u0016","\u0017","\u0018","\u0019","\u001a","\u001b","\u001c","\u001d","\u001e","\u001f",":","*","?","\\","/"];return bM.Filter(function(ct){return!bS.contains(ct,cs);},cr);};p.snippetName=function(cr,cs){return cr!==""?cr:d.defaultValue("<empty>",bN.tryHead(bN.filter(function(ct){return!(bM.StartsWith(ct,"#")||bM.StartsWith(ct,"[<")||bM.StartsWith(ct,"//"));},bN.map(bM.Trim,bM.SplitChars(cs,["\n"],1)))));};p.AsyncStartF=function(){bC.$cctor();return bC.AsyncStartF;};p.replyToF=function(){bC.$cctor();return bC.replyToF;};p.sendRequestF=function(){bC.$cctor();return bC.sendRequestF;};p.awaitRequestForF=function(){bC.$cctor();return bC.awaitRequestForF;};p.AddressId=function(cr){return{$:0,$0:cr};};p.AsyncStart=function(cr){bO.StartWithContinuations(cr,a.ignore,function(cs){a.alert(a.String(cs));},function(cs){a.alert(a.String(cs));},null);};p.selectF=a.id;x.translateAR=function(cr,cs){var ct;ct=null;return bO.Delay(function(){return bO.Bind((new bV.New()).Async("FSharpStation:FSSGlobal.FsTranslator.translateAS:608897894",[cr,cs]),function(cu){function cv(cw,cx){return new g.New(cw,cx);}return bO.Return({$:0,$0:cu[0],$1:bL.ofSeq(bN.map(function(cw){return cv(cw[0],cw[1]);},cu[1]))});});});};A.New=function(cr,cs){return{Code:cr,Message:cs};};B.New=function(cr,cs,ct){return{File:cr,Line:cs,Column:ct};};C.New=function(cr,cs,ct,cu){return{Name:cr,ReplacementText:cs,Glyph:ct,GlyphChar:cu};};D.New=function(cr,cs){return{Signature:cr,Comment:cs};};E.New=function(cr,cs,ct,cu){return{Name:cr,CanonicalTypeTextForSorting:cs,Display:ct,Description:cu};};F.New=function(cr,cs,ct,cu){return{Tip:cr,TypeText:cs,Parameters:ct,IsStaticArguments:cu};};G.New=function(cr,cs){return{Name:cr,Type:cs};};H.New=function(cr,cs){return{OutputType:cr,Parameters:cs};};I.New=function(cr,cs,ct){return{Name:cr,CurrentParameter:cs,Overloads:ct};};J.New=function(cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB){return{FileName:cr,StartLine:cs,StartColumn:ct,EndLine:cu,EndColumn:cv,IsFromDefinition:cw,IsFromAttribute:cx,IsFromComputationExpression:cy,IsFromDispatchSlotImplementation:cz,IsFromPattern:cA,IsFromType:cB};};K.New=function(cr,cs){return{Name:cr,Uses:cs};};L.New=function(cr,cs){return{Name:cr,Overloads:cs};};M.New=function(cr,cs,ct){return{Fsc:cr,Fsi:cs,MSBuild:ct};};N.New=function(cr,cs,ct,cu,cv,cw,cx){return{FileName:cr,StartLine:cs,EndLine:ct,StartColumn:cu,EndColumn:cv,Message:cw,Subcategory:cx};};O.New=function(cr,cs){return{File:cr,Errors:cs};};P.New=function(cr){return{Kind:cr};};Q.New=function(cr,cs,ct,cu,cv,cw,cx,cy){return{UniqueName:cr,Name:cs,Glyph:ct,GlyphChar:cu,IsTopLevel:cv,File:cw,EnclosingEntity:cx,IsAbstract:cy};};R.New=function(cr,cs){return{Declaration:cr,Nested:cs};};S.New=function(cr,cs,ct,cu,cv,cw){return{Namespace:cr,Name:cs,Type:ct,Line:cu,Column:cv,MultipleNames:cw};};T.New=function(cr,cs){return{Name:cr,Qualifier:cs};};U.New=function(cr,cs,ct){return{Opens:cr,Qualifies:cs,Word:ct};};V.New=function(cr){return{Text:cr};};W.ACMIdentification={$:0};X=y.FSAutoCompleteIntermediaryClient=bI.Class({info2Bool:function(cr){return cr.$==0&&(cr.$0==="true"&&true);},errors2String:function(cr){return cr.$==7?bM.concat("\n",bN.map(function(cs){return((((((((bI.Curried(function(ct,cu,cv,cw,cx,cy,cz,cA){return ct("ErrFSharp \"F# "+bK.toSafe(cu)+".fsx ("+a.String(cv)+","+a.String(cw)+") - ("+a.String(cx)+","+a.String(cy)+") "+bK.toSafe(cz)+":"+bK.toSafe(cA)+"\"");},8))(a.id))(cs.FileName))(cs.StartLine))(cs.StartColumn))(cs.EndLine))(cs.EndColumn))(cs.Subcategory))(cs.Message);},cr.$0.Errors)):(function(cs){return function(ct){return cs(bF.p$3(ct));};}(a.id))(cr);},tip2String:function(cr){return cr.$==11?bM.concat("\n",bN.collect(function(cs){return bL.ofArray([cs.Signature,cs.Comment]);},bN.collect(a.id,cr.$0))):(function(cs){return function(ct){return cs(bF.p$3(ct));};}(a.id))(cr);},comp2Strings:function(cr){var cs;cs=this;return cr.$==3?bS.map(function(ct){return[ct.Name,ct.ReplacementText,ct.Glyph,ct.GlyphChar];},cr.$0):cr.$==2?[]:cr.$==17?bS.collect(function(ct){return cs.comp2Strings(ct);},cr.$0):[[(function(ct){return function(cu){return ct(bF.p$3(cu));};}(a.id))(cr),"","ErrorMsg","E"]];},Async_map:function(cr,cs){var ct;ct=null;return bO.Delay(function(){return bO.Bind(cs,function(cu){return bO.Return(cr(cu));});});},FindDecl:function(cr,cs,ct,cu){return this.Async_map(a.id,y.sendMessage({$:7,$0:cr,$1:cs,$2:ct,$3:cu}));},FindDecl$1:function(cr,cs,ct){return this.Async_map(a.id,y.sendMessage({$:6,$0:cr,$1:cs,$2:ct}));},Complete:function(cr,cs,ct,cu,cv){var cw;cw=this;return cw.Async_map(function(cx){return cw.comp2Strings(cx);},y.sendMessage({$:9,$0:cr,$1:ct,$2:cu,$3:cs,$4:cv}));},Complete$1:function(cr,cs,ct,cu){var cv;cv=this;return cv.Async_map(function(cw){return cv.comp2Strings(cw);},y.sendMessage({$:8,$0:cr,$1:ct,$2:cu,$3:cs}));},ToolTip:function(cr,cs,ct,cu){var cv;cv=this;return cv.Async_map(function(cw){return cv.tip2String(cw);},y.sendMessage({$:3,$0:cr,$1:cs,$2:ct,$3:cu}));},ToolTip$1:function(cr,cs,ct){var cu;cu=this;return cu.Async_map(function(cv){return cu.tip2String(cv);},y.sendMessage({$:2,$0:cr,$1:cs,$2:ct}));},Parse:function(cr,cs){var ct;ct=this;return ct.Async_map(function(cu){return ct.errors2String(cu);},y.sendMessage({$:10,$0:cr,$1:cs,$2:[]}));},Parse$1:function(cr,cs,ct){var cu;cu=this;return cu.Async_map(function(cv){return cu.errors2String(cv);},y.sendMessage({$:10,$0:cr,$1:cs,$2:ct}));},MustParse:function(cr,cs){var ct;ct=this;return ct.Async_map(function(cu){return ct.info2Bool(cu);},y.sendMessage({$:11,$0:cr,$1:cs}));}},bJ.Obj,X);X.New=bI.Ctor(function(cr,cs){},X);y.sendMessage=function(cr){var cs;cs=null;return bO.Delay(function(){return bO.Bind((new bV.New()).Async("FSharpStation:FSSGlobal.FSAutoCompleteIntermediary.sendMessageRpc:1124743568",[cr]),function(ct){return bO.Return(ct);});});};Z=Y.Val=bI.Class({get_FooBar:function(){return 0;}},null,Z);_0.HelperType={$:0};_0.op_AmpGreater=function(cr,cs){return new Z({$:2,$0:cs});};_0.op_AmpGreater$1=function(cr,cs){return new Z({$:1,$0:cs});};_0.op_AmpGreater$2=function(cr,cs){return cs;};_0.op_AmpGreater$3=function(cr,cs){return cs;};_0.op_AmpGreater$4=function(cr,cs){return cs;};_0.op_AmpGreater$5=function(cr,cs){return cs;};_0.op_AmpGreater$6=function(cr,cs){return cs;};_0.op_AmpGreater$7=function(cr,cs){return cs;};_0.op_AmpGreater$8=function(cr,cs){return cs;};_0.op_AmpGreater$9=function(cr,cs){return new Z({$:0,$0:cs});};_0.op_AmpGreater$10=function(cr,cs){return new Z({$:0,$0:cs});};_0.op_AmpGreater$11=function(cr,cs){return new Z({$:0,$0:cs});};_0.op_AmpGreater$12=function(cr,cs){return new Z({$:0,$0:cs});};_0.op_AmpGreater$13=function(cr,cs){return new Z({$:0,$0:cs});};_0.op_AmpGreater$14=function(cr,cs){return new Z({$:0,$0:cs});};Z.fixitF=function(cr,cs){return cr(cs);};Z.mapCached=function(cr,cs){return new Z({$:2,$0:b4.MapCached(cr,Z.toView(cs))});};Z.sink=function(cr,cs){b4.Sink(cr,Z.toView(Z.fixit(cs)));};Z.mapAsync=function(cr,cs){return new Z({$:2,$0:b4.MapAsync(cr,Z.toView(Z.fixit(cs)))});};Z.iter4=function(cr,cs,ct,cu,cv){Z.iterV(a.ignore,Z.map4(cr,cs,ct,cu,cv));};Z.iter3=function(cr,cs,ct,cu){Z.iterV(a.ignore,Z.map3(cr,cs,ct,cu));};Z.iter2=function(cr,cs,ct){Z.iterV(a.ignore,Z.map2(cr,cs,ct));};Z.map4=function(cr,cs,ct,cu,cv){return Z.map4V(cr,Z.fixit(cs),Z.fixit(ct),Z.fixit(cu),Z.fixit(cv));};Z.map3=function(cr,cs,ct,cu){return Z.map3V(cr,Z.fixit(cs),Z.fixit(ct),Z.fixit(cu));};Z.map2=function(cr,cs,ct){return((Z.map2V(cr))(Z.fixit(cs)))(Z.fixit(ct));};Z.map=function(cr,cs){return Z.mapV(cr,Z.fixit(cs));};Z.bind=function(cr,cs){return Z.bindV(cr,Z.fixit(cs));};Z.iter=function(cr,cs){Z.iterV(cr,Z.fixit(cs));};Z.toDoc=function(cr){return b5.EmbedView(Z.toView(Z.fixit(cr)));};Z.fixit=function(cr){return Z.fixitF(Z.toVal,cr);};Z.toVal=function(cr){return typeof cr=="string"?new Z({$:0,$0:cr}):typeof cr=="number"?new Z({$:0,$0:cr}):typeof cr=="boolean"?new Z({$:0,$0:cr}):cr instanceof b5?new Z({$:0,$0:cr}):cr instanceof Z?cr:cr instanceof b3.Var?new Z({$:1,$0:cr}):"RSet"in cr?new Z({$:1,$0:cr}):typeof cr=="function"?new Z({$:2,$0:cr}):b6.FailWith((function(cs){return function(ct){return cs("Could not convert "+bK.prettyPrint(ct));};}(a.id))(cr));};Z.attrV=function(cr,cs){return cs.$==2?b7.Dynamic(cr,cs.$0):cs.$==1?b7.Dynamic(cr,cs.$0.RView()):b8.Create(cr,cs.$0);};Z.attrVO=function(cr,cs){var ct,cu;return cs.$==2?(ct=cs.$0,b7.DynamicPred(cr,b4.Map(function(cv){return cv!=null;},ct),b4.Map(function(cv){return cv==null?"":cv.$0;},ct))):cs.$==1?(cu=cs.$0,b7.DynamicPred(cr,b4.Map(function(cv){return cv!=null;},cu.RView()),b4.Map(function(cv){return cv==null?"":cv.$0;},cu.RView()))):cs.$0==null?b7.DynamicPred(cr,b4.Const(false),b4.Const("")):b8.Create(cr,cs.$0.$0);};Z.tagElt=function(cr,cs){return cs.$==2?b5.EmbedView(b4.Map(cr,cs.$0)):cs.$==1?b5.EmbedView(b4.Map(cr,cs.$0.RView())):cr(cs.$0);};Z.tagDoc=function(cr,cs){return cs.$==2?b5.EmbedView(b4.Map(cr,cs.$0)):cs.$==1?b5.EmbedView(b4.Map(cr,cs.$0.RView())):cr(cs.$0);};Z.map4V=function(cr,cs,ct,cu,cv){var cw;cw=Z.map3V(cr,cs,ct,cu);return((Z.map2V(function(cx){return function(cy){return cy(cx);};}))(cv))(cw);};Z.map3V=function(cr,cs,ct,cu){var cv;cv=((Z.map2V(cr))(cs))(ct);return((Z.map2V(function(cw){return function(cx){return cx(cw);};}))(cu))(cv);};Z.map2V=function(cr){function cs(cu,cv,cw){return(cu(cw))(cv);}function ct(cu){var cv,cw;cv=(cw=function(cx){var cy;cy=cr(cx);return function(cz){return Z.mapV(cy,cz);};},function(cx){return cs(cw,cu,cx);});return function(cx){return Z.bindV(cv,cx);};}return(bI.Curried3(cs))(ct);};Z.bindV=function(cr,cs){return cs.$==2?new Z({$:2,$0:b4.Bind(function(ct){return Z.toView(cr(ct));},cs.$0)}):cs.$==1?new Z({$:2,$0:b4.Bind(function(ct){return Z.toView(cr(ct));},cs.$0.RView())}):cr(cs.$0);};Z.toView=function(cr){return cr.$==2?cr.$0:cr.$==1?cr.$0.RView():b4.Const(cr.$0);};Z.iterV=function(cr,cs){if(cs.$==2)b4.Get(cr,cs.$0);else if(cs.$==1)cr(cs.$0.RVal());else cr(cs.$0);};Z.mapV=function(cr,cs){return cs.$==2?new Z({$:2,$0:b4.Map(cr,cs.$0)}):cs.$==1?new Z({$:2,$0:b4.Map(cr,cs.$0.RView())}):new Z({$:0,$0:cr(cs.$0)});};_1=Y.HtmlNode=bI.Class({Style:function(cr){return this.AddChildren([Y.style(cr)]);},AddClass:function(cr){return Y.addClass(cr,this);},InsertChildren:function(cr){return Y.insertChildren(cr,this);},AddChildren:function(cr){return Y.addChildren(cr,this);},get_toDoc:function(){var cr,cs,ct;return this.$==1||this.$==4&&true?b5.Empty():(cs=Y.chooseNode(this),(ct=b5.Empty(),cs==null?ct:cs.$0));}},null,_1);_1.HtmlEmpty=new _1({$:4});Y.LoadFilesAsync=function(cr){function cs(ct,cu){try{a.CIPHERSpaceLoadFiles(cr,ct);}catch(cv){cu(cv);}}return bO.FromContinuations(function(ct,cu,cv){return cs.apply(null,[ct,cu,cv]);});};Y.findRootElement=function(cr){var cs;return!function(ct){return cr.getRootNode(ct);}?a.document.body:(cs=cr.getRootNode(),!cs.body?cs.firstChild:cs.body);};Y.createIFrame=function(cr){var cs;cs=b9.Create$1(true);return Y.div([Y.style("position: relative; overflow: hidden; height: 100%; width: 100%;"),Y.iframe([Y.style("position: absolute; width:100%; height:100%;"),Y.frameborder("0"),new _1({$:7,$0:b7.OnAfterRender(cr)}),new _1({$:7,$0:b7.Handler("mouseleave",function(){return function(){return b9.Set(cs,true);};})})]),Y.div([Y.style("position: absolute;"),Y.classIf("iframe-cover",Z.map(a.id,cs)),new _1({$:7,$0:b7.Handler("mouseenter",function(){return function(){return b4.Get(function(ct){if(!ct)b9.Set(cs,false);},b$.get_MousePressed());};})})]),Y.styleH([Y.htmlText(".iframe-cover { top:0; left:0; right:0; bottom:0; background: blue; opacity: 0.04; z-index: 2; }")])]);};Y.bindHElem=function(cr,cs){return new _1({$:5,$0:Z.map(cr,Z.fixit(cs))});};Y.string2Styles=function(){bC.$cctor();return bC.string2Styles;};Y.style2pairs=function(cr){return bS.map(function(cs){return[bM.Trim(bS.get(cs,0)),bM.Trim(bS.get(cs,1))];},bS.filter(function(cs){return bS.length(cs)===2;},bS.map(function(cs){return bM.SplitChars(cs,[":"],0);},bM.SplitChars(cr,[";"],0))));};Y.xclass=function(cr){var cs,ct;return new _1({$:7,$0:(cs=Z.fixit(cr),cs.$==2?b7.DynamicClass("class_for_view_not_implemented",cs.$0,function(cu){return""!==cu;}):cs.$==1?(ct=cs.$0,b7.DynamicClass(ct.RVal(),ct.RView(),function(cu){return""!==cu;})):b7.Class(cs.$0))});};Y.classIf=function(cr,cs){return Y["class"](Z.map(function(ct){return ct?cr:"";},Z.fixit(cs)));};Y.css=function(cr){return Y.styleH([Y.htmlText(cr)]);};Y.style1=function(cr,cs){var ct;return Y.style(Z.map((ct=cr+":",function(cu){return ct+cu;}),cs));};Y.style=function(cr){return Y.htmlAttribute("style",cr);};Y.draggable=function(cr){return Y.htmlAttribute("draggable",cr);};Y.spellcheck=function(cr){return Y.htmlAttribute("spellcheck",cr);};Y.frameborder=function(cr){return Y.htmlAttribute("frameborder",cr);};Y.Id=function(cr){return Y.htmlAttribute("id",cr);};Y.title=function(cr){return Y.htmlAttribute("title",cr);};Y.width=function(cr){return Y.htmlAttribute("width",cr);};Y.type=function(cr){return Y.htmlAttribute("type",cr);};Y["class"]=function(cr){return Y.htmlAttribute("class",cr);};Y.src=function(cr){return Y.htmlAttribute("src",cr);};Y.charset=function(cr){return Y.htmlAttribute("charset",cr);};Y.rel=function(cr){return Y.htmlAttribute("rel",cr);};Y.hrefO=function(cr){return Y.htmlAttributeO("href",cr);};Y.href=function(cr){return Y.htmlAttribute("href",cr);};Y.target=function(cr){return Y.htmlAttribute("target",cr);};Y.body=function(cr){return Y.htmlElement("body",cr);};Y.iframe=function(cr){return Y.htmlElement("iframe",cr);};Y.link=function(cr){return Y.htmlElement("link",cr);};Y.fieldset=function(cr){return Y.htmlElement("fieldset",cr);};Y.styleH=function(cr){return Y.htmlElement("style",cr);};Y.script=function(cr){return Y.htmlElement("script",cr);};Y.button=function(cr){return Y.htmlElement("button",cr);};Y.label=function(cr){return Y.htmlElement("label",cr);};Y.tbody=function(cr){return Y.htmlElement("tbody",cr);};Y.td=function(cr){return Y.htmlElement("td",cr);};Y.tr=function(cr){return Y.htmlElement("tr",cr);};Y.th=function(cr){return Y.htmlElement("th",cr);};Y.thead=function(cr){return Y.htmlElement("thead",cr);};Y.table=function(cr){return Y.htmlElement("table",cr);};Y.form=function(cr){return Y.htmlElement("form",cr);};Y.span=function(cr){return Y.htmlElement("span",cr);};Y.img=function(cr){return Y.htmlElement("img",cr);};Y.div=function(cr){return Y.htmlElement("div",cr);};Y.h6=function(cr){return Y.htmlElement("h6",cr);};Y.h5=function(cr){return Y.htmlElement("h5",cr);};Y.h4=function(cr){return Y.htmlElement("h4",cr);};Y.h3=function(cr){return Y.htmlElement("h3",cr);};Y.h2=function(cr){return Y.htmlElement("h2",cr);};Y.h1=function(cr){return Y.htmlElement("h1",cr);};Y.hr=function(cr){return Y.htmlElement("hr",cr);};Y.br=function(cr){return Y.htmlElement("br",cr);};Y.li=function(cr){return Y.htmlElement("li",cr);};Y.ul=function(cr){return Y.htmlElement("ul",cr);};Y.a=function(cr){return Y.htmlElement("a",cr);};Y.textV=function(cr){return Y.tag(b5.TextNode,cr);};Y._placeholder=function(cr){return Y.atr("placeholder",cr);};Y._style=function(cr){return Y.atr("style",cr);};Y._type=function(cr){return Y.atr("type",cr);};Y._class=function(cr){return Y.atr("class",cr);};Y.tag=function(cr,cs){return Z.tagDoc(cr,Z.fixit(cs));};Y.atr=function(cr,cs){return Z.attrV(cr,Z.fixit(cs));};Y.renderDoc=function(){bC.$cctor();return bC.renderDoc;};Y.addClassIf=function(cr,cs){var ct;ct=Z.map(function(cu){return cu?cr:"";},Z.fixit(cs));return function(cu){return Y.addClass(ct,cu);};};Y.addClass=function(cr,cs){return Y.addChildren(bL.ofArray([Y.htmlAttribute("class",cr)]),cs);};Y.insertChildren=function(cr,cs){function ct(cu,cv){return[cu,bN.append(cr,cv)];}return Y.mapHtmlElement(function(cu){return function(cv){return ct(cu,cv);};},cs);};Y.addChildren=function(cr,cs){function ct(cu,cv){return[cu,bN.append(cv,cr)];}return Y.mapHtmlElement(function(cu){return function(cv){return ct(cu,cv);};},cs);};Y.someElt=function(cr){return new _1({$:6,$0:cr});};Y.htmlText=function(cr){return new _1({$:3,$0:Z.fixit(cr)});};Y.htmlAttributeO=function(cr,cs){return new _1({$:2,$0:cr,$1:Z.fixit(cs)});};Y.htmlAttribute=function(cr,cs){return new _1({$:1,$0:cr,$1:Z.fixit(cs)});};Y.htmlElement=function(cr,cs){return new _1({$:0,$0:cr,$1:cs});};Y.mapHtmlElement=function(cr,cs){var ct;return cs.$==0?(ct=(cr(cs.$0))(cs.$1),new _1({$:0,$0:ct[0],$1:ct[1]})):cs.$==5?new _1({$:5,$0:Z.map(function(cu){return Y.mapHtmlElement(cr,cu);},cs.$0)}):cs;};Y.getAttrChildren=function(cr){var cs,ct,cu;function cv(cw){var cx;return cw.$==1&&(cw.$0===cr&&(cx=[cw.$0,cw.$1],true))?{$:1,$0:cx[1]}:null;}cs=function(cw){return bN.tryPick(cv,cw);};ct=(cu=new Z({$:0,$0:""}),function(cw){return cw==null?cu:cw.$0;});return function(cw){return ct(cs(cw));};};Y.chooseNode=function(cr){var cs,ct,cu,cv;return cr.$==0?(cs=cr.$1,{$:1,$0:b5.Element(cr.$0,Y.getAttrsFromSeq(cs),bN.choose(Y.chooseNode,cs))}):cr.$==3?{$:1,$0:Z.tagDoc(b5.TextNode,cr.$0)}:cr.$==6?{$:1,$0:cr.$0}:cr.$==5?{$:1,$0:(ct=Z.toView(cr.$0),b5.BindView((cu=(cv=b5.Empty(),function(cw){return cw==null?cv:cw.$0;}),function(cw){return cu(Y.chooseNode(cw));}),ct))}:null;};Y.getAttrsFromSeq=function(cr){var cs;cs=bN.choose(Y.chooseAttr,cr);return bN.append(bL.choose(a.id,bL.ofArray([Y.groupAttr("class"," ",cr),Y.groupAttr("style","; ",cr)])),cs);};Y.groupAttr=function(cr,cs,ct){var cu,cv;function cw(cx,cy){return Y.concat(cs,cx,cy);}cu=bN.choose(function(cx){return Y.chooseThisAttr(cr,cx);},ct);return bN.isEmpty(cu)?null:{$:1,$0:Z.attrV(cr,(cv=(bI.Curried3(Z.map2))(function(cx){return function(cy){return cw(cx,cy);};}),bN.reduce(function(cx,cy){return(cv(cx))(cy);},cu)))};};Y.concat=function(cr,cs,ct){return cs+cr+ct;};Y.chooseThisAttr=function(cr,cs){var ct;return cs.$==1&&(cs.$0===cr&&(ct=[cs.$0,cs.$1],true))?{$:1,$0:ct[1]}:null;};Y.chooseAttr=function(cr){var cs,ct,cu,cv;return cr.$==1&&((ct=cr.$0,ct!=="class"&&ct!=="style")&&(cs=[cr.$0,cr.$1],true))?{$:1,$0:Z.attrV(cs[0],cs[1])}:cr.$==2&&((cv=cr.$0,cv!=="class"&&cv!=="style")&&(cu=[cr.$0,cr.$1],true))?{$:1,$0:Z.attrVO(cu[0],cu[1])}:cr.$==7?{$:1,$0:cr.$0}:null;};Y.addClassX=function(cr,cs){var ct;return bM.concat(" ",(ct=new ca.New$1(cb.OfSeq(bM.SplitChars(cr,[" "],0))),new ca.New$1(cb.OfSeq(bN.append(new ca.New$1(cb.OfSeq(bM.SplitChars(cs,[" "],0))),ct)))));};_3=_2.Button=bI.Class({OnClick:function(cr){return _3.New(this._class,this._type,this.style,this.text,cr,this.disabled,this.id);},Disabled:function(cr){return _3.New(this._class,this._type,this.style,this.text,this.onClick,Z.fixit(cr),this.id);},Text:function(cr){return _3.New(this._class,this._type,this.style,Z.fixit(cr),this.onClick,this.disabled,this.id);},Style:function(cr){return _3.New(this._class,this._type,Z.fixit(cr),this.text,this.onClick,this.disabled,this.id);},Type:function(cr){return _3.New(this._class,Z.fixit(cr),this.style,this.text,this.onClick,this.disabled,this.id);},Class:function(cr){return _3.New(Z.fixit(cr),this._type,this.style,this.text,this.onClick,this.disabled,this.id);},Id:function(cr){return _3.New(this._class,this._type,this.style,this.text,this.onClick,this.disabled,cr);},get_Render:function(){var cr,cs;return new _1({$:6,$0:(cr=Y.button([Y.type(this._type),Y["class"](this._class),Y.Id(this.id),Y.style(this.style),new _1({$:7,$0:(cs=b4.Const(""),b7.DynamicPred("disabled",Z.toView(this.disabled),cs))}),new _1({$:7,$0:b8.Handler("click",this.onClick)}),new _1({$:3,$0:this.text})]),(Y.renderDoc())(cr))});}},null,_3);_3.New$1=function(cr){return _3.New(Z.fixit("btn"),Z.fixit("button"),Z.fixit(""),Z.fixit(cr),function(){return function(){return null;};},Z.fixit(false),"");};_3.New=function(cr,cs,ct,cu,cv,cw,cx){return new _3({_class:cr,_type:cs,style:ct,text:cu,onClick:cv,disabled:cw,id:cx});};_4=_2.Input=bI.Class({get_Var:function(){return this["var"];},SetVar:function(cr){return _4.New(this._type,this._class,this.style,this.placeholder,this.id,cr,this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Suffix:function(cr){return _4.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,cr,this.content,this.prefixAdded,true);},Prefix:function(cr){return this.Prefix$1(Y.htmlText(cr));},Prefix$1:function(cr){return _4.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],cr,this.suffix,this.content,true,this.suffixAdded);},Content:function(cr){return _4.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,cr,this.prefixAdded,this.suffixAdded);},Id:function(cr){return _4.New(this._type,this._class,this.style,this.placeholder,cr,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Placeholder:function(cr){return _4.New(this._type,this._class,this.style,Z.fixit(cr),this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Style:function(cr){return _4.New(this._type,this._class,Z.fixit(cr),this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Type:function(cr){return _4.New(Z.fixit(cr),this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Class:function(cr){return _4.New(this._type,Z.fixit(cr),this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},get_Render:function(){var cr;function cs(ct){return ct.$==3?"input-group-addon":"input-group-btn";}cr=this;return Y.div(bL.ofSeq(bN.delay(function(){return bN.append(cr.prefixAdded||cr.suffixAdded?[Y["class"]("input-group")]:[],bN.delay(function(){return bN.append(cr.prefixAdded?[Y.span([Y["class"](cs(cr.prefix)),cr.prefix])]:[],bN.delay(function(){return bN.append([new _1({$:6,$0:b5.Input(bN.append(cr.content,bL.ofArray([Y._type(cr._type),Y._class(cr._class),Y._style(cr.style),b8.Create("id",cr.id),Y._placeholder(cr.placeholder)])),cr["var"])})],bN.delay(function(){return cr.suffixAdded?[Y.span([Y["class"](cs(cr.suffix)),cr.suffix])]:[];}));}));}));})));}},null,_4);_4.New$1=function(cr){return _4.New$2(b9.Create$1(cr));};_4.New$2=function(cr){var cs;cs=Z.fixit("form-control");return _4.New(Z.fixit("text"),cs,Z.fixit(""),Z.fixit("Enter text:"),"",cr,_1.HtmlEmpty,_1.HtmlEmpty,bL.T.Empty,false,false);};_4.New=function(cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB){return new _4({_type:cr,_class:cs,style:ct,placeholder:cu,id:cv,"var":cw,prefix:cx,suffix:cy,content:cz,prefixAdded:cA,suffixAdded:cB});};_5=_2.Hoverable=bI.Class({Content:function(cr){var cs;cs=this;return cr.AddChildren([Y.classIf("hovering",this.hover),new _1({$:7,$0:b7.Handler("mouseenter",function(){return function(){return cs.hover.set_RVal(true);};})}),new _1({$:7,$0:b7.Handler("mouseleave",function(){return function(){return cs.hover.set_RVal(false);};})})]);},Content$1:function(cr){var cs;cs=this;return Y.div(bN.append(cr,bL.ofArray([Y.classIf("hovering",this.hover),new _1({$:7,$0:b7.Handler("mouseenter",function(){return function(){return cs.hover.set_RVal(true);};})}),new _1({$:7,$0:b7.Handler("mouseleave",function(){return function(){return cs.hover.set_RVal(false);};})})])));}},null,_5);_5.get_Demo=function(){return _5.get_New().Content(Y.div([Y.style("flex-flow: column;")]));};_5.get_New=function(){return _5.New(b9.Create$1(false));};_5.New=function(cr){return new _5({hover:cr});};_6=_2.TextArea=bI.Class({get_Var:function(){return this["var"];},SetVar:function(cr){return _6.New(this._class,this.placeholder,this.title,this.spellcheck,this.id,cr);},Id:function(cr){return _6.New(this._class,this.placeholder,this.title,this.spellcheck,cr,this["var"]);},Spellcheck:function(cr){return _6.New(this._class,this.placeholder,this.title,cr,this.id,this["var"]);},Title:function(cr){return _6.New(this._class,this.placeholder,Z.fixit(cr),this.spellcheck,this.id,this["var"]);},Placeholder:function(cr){return _6.New(this._class,Z.fixit(cr),this.title,this.spellcheck,this.id,this["var"]);},Class:function(cr){return _6.New(Z.fixit(cr),this.placeholder,this.title,this.spellcheck,this.id,this["var"]);},get_Render:function(){return this.RenderWith(bL.T.Empty);},RenderWith:function(cr){return Y.div([Y.someElt(b5.InputArea(bL.append(bL.ofArray([Y._class(this._class),b8.Create("id",this.id),Y.atr("spellcheck",Z.map(function(cs){return cs?"true":"false";},this.spellcheck)),Y.atr("title",this.title),Y.atr("style","height: 100%;  width: 100%; box-sizing: border-box; "),Y._placeholder(this.placeholder)]),cr),this["var"]))]);}},null,_6);_6.New$1=function(cr){return _6.New$2(b9.Create$1(cr));};_6.New$2=function(cr){return _6.New(Z.fixit("form-control"),Z.fixit("Enter text:"),Z.fixit(""),Z.fixit(false),"",cr);};_6.New=function(cr,cs,ct,cu,cv,cw){return new _6({_class:cr,placeholder:cs,title:ct,spellcheck:cu,id:cv,"var":cw});};_7.New=function(cr,cs){return{line:cr,ch:cs};};_8=_2.CodeMirrorEditor=bI.Class({},bJ.Obj,_8);_8.New=bI.Ctor(function(){},_8);_9=_2.CodeMirror=bI.Class({get_Var:function(){return this["var"];},OnRender:function(cr){return _9.New(this._class,this.style,this.id,this["var"],this.onChange,{$:1,$0:cr},this.editorO);},OnChange:function(cr){return _9.New(this._class,this.style,this.id,this["var"],cr,this.onRender,this.editorO);},Style:function(cr){return _9.New(this._class,Z.fixit(cr),this.id,this["var"],this.onChange,this.onRender,this.editorO);},SetVar:function(cr){return _9.New(this._class,this.style,this.id,cr,this.onChange,this.onRender,this.editorO);},Id:function(cr){return _9.New(this._class,this.style,cr,this["var"],this.onChange,this.onRender,this.editorO);},Class:function(cr){return _9.New(Z.fixit(cr),this.style,this.id,this["var"],this.onChange,this.onRender,this.editorO);},get_Render:function(){var cr;cr=this;return Y.div([Y["class"](this._class),new _1({$:7,$0:b8.Create("id",this.id)}),Y.style("position: relative; height: 300px"),Y.style(this.style),Y.div([Y.style("height: 100%; width: 100%; position: absolute;"),new _1({$:7,$0:b7.OnAfterRender(function(cs){a.CIPHERSpaceLoadFiles(_2.codeMirrorIncludes(),function(){var ct,cu,cv,cw;ct=a.CodeMirror(cs,{theme:"rubyblue",lineNumbers:true,matchBrackets:true,gutters:["CodeMirror-lint-markers"],extraKeys:{Tab:function(cx){cx.replaceSelection("    ","end");},F11:function(cx){cx.setOption("fullScreen",!cx.getOption("fullScreen"));}}});cr.editorO={$:1,$0:ct};cu=cr.onRender;cu==null?void 0:cu.$0(ct);cv=[0];cw=[0];ct.on("changes",function(){var cx;cx=ct.getValue();cr["var"].RVal()!==cx?(cv[0]=cv[0]+1,cr["var"].set_RVal(cx),cr.onChange()):void 0;});b4.Sink(function(){if(cv[0]>cw[0])cw[0]=cv[0];else if(ct.getValue()!==cr["var"].RVal()){ct.setValue(cr["var"].RVal());ct.getDoc().clearHistory();}},cr["var"].RView());});})})]),Y.link([Y.href("/EPFileX/codemirror/content/editor.css"),Y.type("text/css"),Y.rel("stylesheet")]),Y.link([Y.href("/EPFileX/codemirror/content/codemirror.css"),Y.type("text/css"),Y.rel("stylesheet")]),Y.link([Y.href("/EPFileX/codemirror/scripts/addon/display/fullscreen.css"),Y.type("text/css"),Y.rel("stylesheet")]),Y.link([Y.href("/EPFileX/codemirror/scripts/addon/dialog/dialog.css"),Y.type("text/css"),Y.rel("stylesheet")]),Y.link([Y.href("/EPFileX/codemirror/scripts/addon/hint/show-hint.css"),Y.type("text/css"),Y.rel("stylesheet")]),Y.link([Y.href("/EPFileX/codemirror/scripts/addon/lint/lint.css"),Y.type("text/css"),Y.rel("stylesheet")]),Y.css(".CodeMirror { height: 100% }")]);}},null,_9);_9.New$1=function(cr){return _9.New$2(b9.Create$1(cr));};_9.New$2=function(cr){return _9.New(Z.fixit(""),Z.fixit(""),"",cr,a.ignore,null,null);};_9.New=function(cr,cs,ct,cu,cv,cw,cx){return new _9({_class:cr,style:cs,id:ct,"var":cu,onChange:cv,onRender:cw,editorO:cx});};_.New=function(cr,cs,ct){return{text:cr,displayText:cs,className:ct};};$.New=function(cr,cs,ct){return{list:cr,from:cs,to:ct};};ba.New=function(cr,cs,ct){return{hint:cr,completeSingle:cs,container:ct};};bb.New=function(cr,cs,ct,cu){return{message:cr,severity:cs,from:ct,to:cu};};bc=_2.SplitterBar=bI.Class({Children:function(cr){return bc.New(this.value,this.min,this.max,this.vertical,this.node,cr,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},get_After:function(){return bc.New(this.value,this.min,this.max,this.vertical,this.node,this.children,true,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},get_Before:function(){return bc.New(this.value,this.min,this.max,this.vertical,this.node,this.children,false,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Horizontal:function(){return bc.New(this.value,this.min,this.max,Z.fixit(false),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Vertical:function(){return bc.New(this.value,this.min,this.max,Z.fixit(true),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Horizontal$1:function(cr){return bc.New(this.value,this.min,this.max,Z.map(function(cs){return!cs;},Z.fixit(cr)),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Vertical$1:function(cr){return bc.New(this.value,this.min,this.max,Z.fixit(cr),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Max:function(cr){return bc.New(this.value,this.min,Z.fixit(cr),this.vertical,this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Min:function(cr){return bc.New(this.value,Z.fixit(cr),this.max,this.vertical,this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Node:function(cr){return bc.New(this.value,this.min,this.max,this.vertical,cr,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Value:function(cr){this.value.set_RVal(cr);return this;},get_Render:function(){var cr;function cs(cx){return cr.startVer?cx.clientX:cx.clientY;}function ct(){var cx;cx=cr.domElem;return cx!=null&&cx.$==1?cr.startVer?cr.after?cx.$0.parentElement.getBoundingClientRect().width:-cx.$0.parentElement.getBoundingClientRect().width:cr.after?cx.$0.parentElement.getBoundingClientRect().height:-cx.$0.parentElement.getBoundingClientRect().height:100;}function cu(cx){cr.value.set_RVal((cs(cx)-cr.start)*100/cr.size+cr.startP);}function cv(){if(cr.dragging){cr.dragging=false;a.removeEventListener("mousemove",cu,false);a.removeEventListener("mouseup",cv,false);}}function cw(cx,cy){return!cr.dragging?Z.iter(a.ignore,Z.map2(function(cz){return function(cA){cr.dragging=true;cr.startVer=cA;cr.startP=cz;cr.start=cs(cy);cr.size=ct();a.addEventListener("mousemove",cu,false);a.addEventListener("mouseup",cv,false);return cy.preventDefault();};},cr.get_GetValue(),cr.vertical)):null;}cr=this;return this.node.AddChildren([Y["class"](Z.map(function(cx){return cx?"Vertical":"Horizontal";},this.vertical)),new _1({$:7,$0:b7.Handler("mousedown",function(cx){return function(cy){return cw(cx,cy);};})}),new _1({$:7,$0:b7.OnAfterRender(function(cx){cr.domElem={$:1,$0:cx};})}),Y.css("\n                    .Splitter.Vertical   { cursor: col-resize; background-color: #eef ; width : 5px ; margin-left:-7px; }\n                    .Splitter.Horizontal { cursor: row-resize; background-color: #eef ; height: 5px ; margin-top :-7px; }\n                ")]).AddChildren(this.children);},get_GetValue:function(){function cr(ct,cu){return bT.Compare(ct,cu)===-1?ct:cu;}function cs(ct,cu){return bT.Compare(ct,cu)===1?ct:cu;}return Z.map2(function(ct){return function(cu){return cr(ct,cu);};},this.max,Z.map2(function(ct){return function(cu){return cs(ct,cu);};},this.min,this.value));},get_Var:function(){return this.value;}},null,bc);bc.New$1=function(cr){return bc.New$2(b9.Create$1(cr));};bc.New$2=function(cr){return bc.New(cr,Z.fixit(5),Z.fixit(95),Z.fixit(true),Y.div([Y["class"]("Splitter")]),bL.T.Empty,true,false,true,0,0,0,null);};bc.New=function(cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD){return new bc({value:cr,min:cs,max:ct,vertical:cu,node:cv,children:cw,after:cx,dragging:cy,startVer:cz,startP:cA,start:cB,size:cC,domElem:cD});};bd.StFixedPerc={$:2};bd.StFixedPx={$:1};bd.StVariable={$:0};be=_2.Grid=bI.Class({get_Render:function(){return Y.div(this.GridTemplate());},GridTemplate:function(){var cr;cr=this;return bL.ofSeq(bN.delay(function(){function cs(ct,cu){return ct!=null&&ct.$==1?cu.AddChildren([Y.style((function(cv){return function(cw){return cv("grid-area: "+bK.toSafe(cw)+"; dispxlay: grid");};}(a.id))(ct.$0))]):cu;}return bN.append(bN.map(function(ct){return cs(ct[0],ct[1]);},cr.content),bN.delay(function(){function ct(cu,cv){var cw;return cv.$==2?(cw=cv.$0,{$:1,$0:cw.get_Render().InsertChildren([Y.style1("grid-column",a.String(cu+(cw.after?2:1))),Y.style1("grid-row",(function(cx){return function(cy){return cx("1 / "+a.String(cy));};}(a.id))(bS.length(cr.rows)+1))])}):cv.$==1?null:null;}return bN.append(bN.choose(function(cu){return ct(cu[0],cu[1]);},bN.indexed(cr.cols)),bN.delay(function(){function cu(cv,cw){var cx;return cw.$==2?(cx=cw.$0,{$:1,$0:cx.get_Render().InsertChildren([Y.style1("grid-row",a.String(cv+(cx.after?2:1))),Y.style1("grid-column",(function(cy){return function(cz){return cy("1 / "+a.String(cz));};}(a.id))(bS.length(cr.cols)+1))])}):cw.$==1?null:null;}return bN.append(bN.choose(function(cv){return cu(cv[0],cv[1]);},bN.indexed(cr.rows)),bN.delay(function(){return bN.append(cr.styles(),bN.delay(function(){return bN.append([Y.style((((bI.Curried3(function(cv,cw,cx){return cv("display: grid; grid-gap: "+cw.toFixed(6)+"px; padding: "+cx.toFixed(6)+"px; box-sizing: border-box");}))(a.id))(cr.gap))(cr.padding))],bN.delay(function(){return[new _1({$:7,$0:b7.OnAfterRender(function(cv){function cw(cy,cz){return!bT.Equals(cy.RVal(),cz)?cy.set_RVal(cz):null;}function cx(){var cy;cy=cv.getBoundingClientRect();cw(cr.widthHeight,[cy.width,cy.height]);}cx();_2.addResizeObserver(cx,cv);})})];}));}));}));}));}));}));},styles:function(){return bL.ofArray([Y.style1("grid-template-columns",this.style(this.cols,Z.map(function(cr){return cr[0];},this.widthHeight))),Y.style1("grid-template-rows",this.style(this.rows,Z.map(function(cr){return cr[1];},this.widthHeight)))]);},style:function(cr,cs){var ct,cu,cv,cw;function cx(cA,cB){return function(cC){return cC.$==2?[Z.map2(function(cD){return function(cE){return cD+cE;};},cC.$0.get_GetValue(),cA),cB]:cC.$==1?cC.$0.$==1?[cA,Z.map2(function(cD){return function(cE){return cD+cE;};},cC.$0.$0,cB)]:[Z.map2(function(cD){return function(cE){return cD+cE;};},cC.$0.$0,cA),cB]:[cA,cB];};}function cy(cA){return Z.map2(function(cB){return function(cC){var cD,cE,cF;cD=(cE=cB*cC,(cF=0,bT.Compare(cF,cE)===1?cF:cE));return(function(cG){return function(cH){return cG(cH.toFixed(6)+"%");};}(a.id))(cD);};},cv,cA);}function cz(cA){return Z.map(function(cB){var cC,cD;cC=(cD=0,bT.Compare(cD,cB)===1?cD:cB);return(function(cE){return function(cF){return cE(cF.toFixed(6)+"px");};}(a.id))(cC);},cA);}ct=this;return bS.length(cr)===0?new Z({$:0,$0:"100%"}):(cu=bN.fold(function(cA,cB){return(function(cC){return cx(cC[0],cC[1]);}(cA))(cB);},[new Z({$:0,$0:0}),new Z({$:0,$0:0})],cr),(cv=Z.map2(function(cA){return function(cB){return(cB-ct.padding*2-ct.gap*(bS.length(cr)-1)-cA)/(cB-ct.padding*2);};},cu[1],cs),(cw=Z.map(function(cA){return 100-cA;},cu[0]),Z.map(function(cA){return bM.concat(" ",cA);},bN.foldBack(function(cA,cB){function cC(cD,cE){return new bL.T({$:1,$0:cE,$1:cD});}return Z.map2(function(cD){return function(cE){return cC(cD,cE);};},cB,cA.$==2?cy(cA.$0.get_GetValue()):cA.$==1?cA.$0.$==1?cz(cA.$0.$0):cy(cA.$0.$0):cy(cw));},cr,new Z({$:0,$0:bL.T.Empty}))))));},Children:function(cr){return this.changeSplitter(function(cs){return cs.Children(cr);});},Min:function(cr){return this.changeSplitter(function(cs){return cs.Min(cr);});},Max:function(cr){return this.changeSplitter(function(cs){return cs.Max(cr);});},get_Before:function(){return this.changeSplitter(function(cr){return cr.get_Before();});},changeSplitter:function(cr){var cs,ct;cs=this;ct=this.lastSplitter;ct==null?void 0:(function(cu,cv){var cw,cx;if(cv){cw=bS.get(cs.cols,cu);cw.$==2?bS.set(cs.cols,cu,{$:2,$0:cr(cw.$0)}):void 0;}else{cx=bS.get(cs.rows,cu);cx.$==2?bS.set(cs.rows,cu,{$:2,$0:cr(cx.$0)}):void 0;}}).apply(null,ct.$0);return this;},Gap:function(cr){return be.New(this.padding,cr,this.content,this.cols,this.rows,this.widthHeight,this.lastSplitter);},Padding:function(cr){return be.New(cr,this.gap,this.content,this.cols,this.rows,this.widthHeight,this.lastSplitter);},Content:function(cr){return be.New(this.padding,this.gap,this.content.concat([[null,cr]]),this.cols,this.rows,this.widthHeight,this.lastSplitter);},Content$1:function(cr,cs){return be.New(this.padding,this.gap,this.content.concat([[{$:1,$0:cr},cs]]),this.cols,this.rows,this.widthHeight,this.lastSplitter);},RowAuto:function(cr){return be.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:0,$0:bc.New$1(cr).Horizontal()}]),this.widthHeight,this.lastSplitter);},RowVariable:function(cr){return this.NewSplitter(cr,false);},RowVariable$1:function(cr){return be.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:2,$0:cr}]),this.widthHeight,this.lastSplitter);},RowFixed:function(cr){return be.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:1,$0:{$:0,$0:Z.fixit(cr)}}]),this.widthHeight,this.lastSplitter);},RowFixedPx:function(cr){return be.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:1,$0:{$:1,$0:Z.fixit(cr)}}]),this.widthHeight,this.lastSplitter);},ColAuto:function(cr){return be.New(this.padding,this.gap,this.content,this.cols.concat([{$:0,$0:bc.New$1(cr)}]),this.rows,this.widthHeight,this.lastSplitter);},ColVariable:function(cr){return this.NewSplitter(cr,true);},ColVariable$1:function(cr){return be.New(this.padding,this.gap,this.content,this.cols.concat([{$:2,$0:cr}]),this.rows,this.widthHeight,this.lastSplitter);},ColFixed:function(cr){return be.New(this.padding,this.gap,this.content,this.cols.concat([{$:1,$0:{$:0,$0:Z.fixit(cr)}}]),this.rows,this.widthHeight,this.lastSplitter);},ColFixedPx:function(cr){return be.New(this.padding,this.gap,this.content,this.cols.concat([{$:1,$0:{$:1,$0:Z.fixit(cr)}}]),this.rows,this.widthHeight,this.lastSplitter);},NewSplitter:function(cr,cs){var ct,cu,cv;ct=bc.New$1(cr);return cs?(cu={$:1,$0:[bS.length(this.cols),cs]},be.New(this.padding,this.gap,this.content,this.cols.concat([{$:2,$0:ct}]),this.rows,this.widthHeight,cu)):(cv={$:1,$0:[bS.length(this.rows),cs]},be.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:2,$0:ct.Horizontal()}]),this.widthHeight,cv));}},null,be);be.NewBisect=function(cr,cs,ct,cu,cv,cw){var cx,cy,cz;cx=ct?[cs.$==1?function(cA){return cA.ColFixedPx(cu);}:cs.$==2?function(cA){return cA.ColFixed(cu);}:function(cA){return cA.ColVariable(cu);},function(cA){return cA.ColAuto(50);},function(cA){return cA.Content(Y.style("grid-template-areas: 'one   two' "));}]:[cs.$==1?function(cA){return cA.RowFixedPx(cu);}:cs.$==2?function(cA){return cA.RowFixed(cu);}:function(cA){return cA.RowVariable(cu);},function(cA){return cA.RowAuto(50);},function(cA){return cA.Content(Y.style("grid-template-areas: 'one' 'two' "));}];cy=cx[0];cz=cx[1];return(cr?function(cA){return cz(cy(cA));}:function(cA){return cy(cz(cA));})(cx[2](be.get_New().Content$1("one",cv).Content$1("two",cw).Padding(0)));};be.get_New=function(){return be.New(9,9,[],[],[],b9.Create$1([1000,100]),null);};be.New=function(cr,cs,ct,cu,cv,cw,cx){return new be({padding:cr,gap:cs,content:ct,cols:cu,rows:cv,widthHeight:cw,lastSplitter:cx});};bf=_2.TabStrip=bI.Class({get_Render:function(){var cr,cs,ct,cu;cr=this;cs=Y.bindHElem(function(cv){return Y.div(bL.ofSeq(bN.delay(function(){return bN.append([Y["class"]((((bI.Curried3(function(cw,cx,cy){return cw("tab-strip "+bK.toSafe(cx)+" "+bK.toSafe(cy));}))(a.id))(cr.top?"top":"bottom"))(cr.horizontal?"horizontal":"vertical"))],bN.delay(function(){return bN.collect(function(cw){var cx;cx=cw[0];return[_5.get_New().Content(Y.div([Y.htmlText(cw[1][1][0]),Y["class"](Z.map(function(cy){return"tab"+(cy===cx?" selected":"");},cr.selected)),Y.draggable("true"),new _1({$:7,$0:b7.Handler("dragover",function(){return function(cy){return cy.preventDefault();};})}),new _1({$:7,$0:b7.Handler("drag",function(){return function(){(_2.draggedTab())[0]={$:1,$0:[cr,cx]};};})}),new _1({$:7,$0:b7.Handler("drop",function(){return function(cy){cy.preventDefault();cy.stopPropagation();return cr.reorder(cx);};})}),new _1({$:7,$0:b7.Handler("click",function(){return function(){return cr.selected.set_RVal(cx);};})})]))];},bN.indexed(cv));}));})));},this.tabs);Z.sink((ct=this.id,function(cv){_2.setSelectedPanel(ct,cv);}),this.get_Selected());cu=Y.bindHElem(function(cv){return Y.div(bL.ofSeq(bN.delay(function(){return bN.append([Y["class"]("tab-children")],bN.delay(function(){return bN.append([Y.Id(_2.uid2s(cr.id))],bN.delay(function(){function cw(cx,cy){return cy[1].AddChildren([Y.style(Z.map(function(cz){return bN.contains(cx,bN.map(function(cA){return cA[1];},cc.ToSeq(cz)))?"":"display : none";},_2.selectedPanels())),Y.Id(_2.uid2s(cx))]);}return bN.map(function(cx){return cw(cx[0],cx[1]);},cv);}));}));})));},this.tabs);return Y.div([Y["class"]("tab-panel"),this.top?cs:_1.HtmlEmpty,Y.div([cu,Y["class"]("tab-content")]),!this.top?cs:_1.HtmlEmpty,new _1({$:7,$0:b7.Handler("dragover",function(){return function(cv){return cv.preventDefault();};})}),new _1({$:7,$0:b7.Handler("drop",function(){return function(cv){cv.preventDefault();return cr.reorder(bS.length(cr.tabs.RVal()));};})}),Y.css("\n    \n    .tab-panel {\n     overflow  : hidden   ;\n     display   : flex     ;\n     flex-flow : column   ;\n     background: lightgray;\n    }\n    .tab-content {\n     flex      : 1 1     ;\n     overflow  : auto    ;\n     position  : relative;\n    }\n    .tab-children {\n     height    : 100%    ;\n     width     : 100%    ;\n     position  : absolute;\n     display   : grid    ;\n    }\n    .tab-strip {\n     padding   : 0pt     ;\n     flex      : 0 0     ;\n    }\n    .tab {\n     border     : 0.2pt solid transparent;\n     padding    : 0pt 4pt;\n     display    : inline-block;\n     font-family: sans-serif;\n     font-weight: 200;\n     font-size  : small;\n     color      : #666;\n     cursor     : pointer;\n    }\n    .top>.tab {\n     border-radius: 2pt 2pt 0pt 0pt;\n     border-bottom-width: 0pt;\n     vertical-align: bottom;\n    }\n    .bottom>.tab {\n     border-top-width: 0pt;\n     border-radius: 0pt 0pt 2pt 2pt;\n     vertical-align: top;\n    }\n    .horizontal>.tab:not(:first-child) {\n     border-left-width: 0pt;\n    }\n    .tab.hovering {\n     background: red;\n    }\n    .tab.selected {\n     background: white;\n     border-left-width: 0.2pt;\n     color: black;\n     font-weight: 500;\n     border-color: black;\n    }\n    .horizontal>.tab.selected {\n     border-left-width: 0.2pt;\n    }\n    ")]);},Select:function(cr){var cs,ct;function cu(cv,cw){return bT.Equals(cw[0],cr)?(cs.selected.set_RVal(cv),{$:1,$0:true}):null;}cs=this;ct=bN.tryPick(function(cv){return cu(cv[0],cv[1]);},bN.indexed(this.tabs.RVal()));return ct==null?false:ct.$0;},Select$1:function(cr){var cs,ct;function cu(cv,cw){return cw[1][0]===cr?(cs.selected.set_RVal(cv),{$:1,$0:true}):null;}cs=this;ct=bN.tryPick(function(cv){return cu(cv[0],cv[1]);},bN.indexed(this.tabs.RVal()));return ct==null?false:ct.$0;},Select$2:function(cr){this.selected.set_RVal(cr);},get_Selected:function(){return Z.map2(function(cr){return function(cs){var ct;ct=bN.tryItem(cs,cr);return ct==null?null:{$:1,$0:ct.$0[0]};};},this.tabs,this.selected);},get_Vertical:function(){return bf.New(this.selected,this.tabs,this.top,false,this.id);},get_Horizontal:function(){return bf.New(this.selected,this.tabs,this.top,true,this.id);},SetTop:function(cr){return bf.New(this.selected,this.tabs,cr,this.horizontal,this.id);},get_Bottom:function(){return bf.New(this.selected,this.tabs,false,this.horizontal,this.id);},get_Top:function(){return bf.New(this.selected,this.tabs,true,this.horizontal,this.id);},reorder:function(cr){var cs,ct,cu;cu=(_2.draggedTab())[0];if(cu!=null&&cu.$==1){if(!bT.Equals(cu.$0[0].id,this.id))this.moveTab(cu.$0[0],cu.$0[1],cr);else if(cu!=null&&cu.$==1){cs=cu.$0[1];{this.tabs.set_RVal(_2.reorderArray(this.tabs.RVal(),cs,cr));ct=this.selected.RVal();this.selected.set_RVal(ct===cs?cr:ct<cs&&ct<cr||ct>cs&&ct>cr?ct:ct<cs?ct+1:ct-1);}}else throw new cd.New("Compiled\\FSharpStation2\\FSharpStation.fs",3071,18);}else void 0;},moveTab:function(cr,cs,ct){var cu,cv,cw,cx;cu=this.tabs.RVal();cv=cr.tabs.RVal();cw=bS.collect(a.id,[ce.array(cu,{$:1,$0:0},{$:1,$0:ct-1}),[bS.get(cv,cs)],ce.array(cu,{$:1,$0:ct},{$:1,$0:bS.length(cu)-1})]);cx=bS.collect(a.id,[ce.array(cv,{$:1,$0:0},{$:1,$0:cs-1}),ce.array(cv,{$:1,$0:cs+1},{$:1,$0:bS.length(cv)-1})]);cr.tabs.set_RVal(cx);this.tabs.set_RVal(cw);this.selected.set_RVal(ct);cr.selected.RVal()>=bS.length(cx)?cr.selected.set_RVal(0):void 0;_2.RaiseTabMoved(cr,this);}},null,bf);bf.New$1=function(cr){return bf.New$2(b9.Create$1(bS.ofSeq(bN.map(function(cs){return[b0.NewGuid(),cs];},cr))));};bf.New$2=function(cr){return bf.New(b9.Create$1(0),cr,false,true,b0.NewGuid());};bf.New=function(cr,cs,ct,cu,cv){return new bf({selected:cr,tabs:cs,top:ct,horizontal:cu,id:cv});};bg=_2.MenuEntry=bI.Class({get_MenuNode:function(){return new bh({$:1,$0:this});},SubMenu:function(cr){return bg.New(this.text,this.ref,this.active,this.disabled,{$:1,$0:bi.New2(cr).get_DropDown()},this.toolTip,this.target,this.divider,this.onClick);},SubMenu$1:function(cr){return bg.New(this.text,this.ref,this.active,this.disabled,{$:1,$0:bi.New$1(cr).get_DropDown()},this.toolTip,this.target,this.divider,this.onClick);},Disabled:function(cr){return bg.New(this.text,this.ref,this.active,Z.fixit(cr),this.subMenu,this.toolTip,this.target,this.divider,this.onClick);},OnClick:function(cr){return bg.New(this.text,this.ref,this.active,this.disabled,this.subMenu,this.toolTip,this.target,this.divider,{$:1,$0:cr});},get_Divider:function(){return bg.New(this.text,this.ref,this.active,this.disabled,this.subMenu,this.toolTip,this.target,true,this.onClick);},Target:function(cr){return bg.New(this.text,this.ref,this.active,this.disabled,this.subMenu,this.toolTip,{$:1,$0:cr},this.divider,this.onClick);},get_Render:function(){var cr,cs,ct,cu,cv,cw,cx,cy,cz;return(this.divider?function(cA){return Y.addClass("divider",cA);}:a.id)((cr=(cs=(ct=(cu=_2.entryTxt(this.text,(cv=this.target,cv==null?"":cv.$0),this.ref),(Y.addClassIf("active",this.active))(cu)),(Y.addClassIf("disabled",this.disabled))(ct)),(cw=this.subMenu,(cw!=null&&cw.$==1?(cx=bL.ofArray([Y["class"]("dropdown"),cw.$0.get_Render()]),function(cA){return Y.addChildren(cx,cA);}):a.id)(cs))),(cy=this.onClick,(cy!=null&&cy.$==1?(cz=bL.ofArray([new _1({$:7,$0:b8.Handler("click",cy.$0)}),Y.style("cursor : pointer")]),function(cA){return Y.addChildren(cz,cA);}):a.id)(cr))));}},null,bg);bg.New$1=function(cr,cs){var ct;ct=bg.New$2(cr);return bg.New(ct.text,Z.map(function(cu){return{$:1,$0:cu};},cs),ct.active,ct.disabled,ct.subMenu,ct.toolTip,ct.target,ct.divider,ct.onClick);};bg.New$2=function(cr){return bg.New(Z.fixit(cr),new Z({$:0,$0:null}),Z.fixit(false),Z.fixit(false),null,null,null,false,null);};bg.New=function(cr,cs,ct,cu,cv,cw,cx,cy,cz){return new bg({text:cr,ref:cs,active:ct,disabled:cu,subMenu:cv,toolTip:cw,target:cx,divider:cy,onClick:cz});};bh=_2.MenuNode=bI.Class({get_Render:function(){return this.$==1?this.$0.get_Render():this.$0;}},null,bh);bi=_2.Menu=bI.Class({get_Render:function(){var cr;cr=this;return(this.dropdown?_2.dropdown:_2.nav)(bL.ofSeq(bN.delay(function(){return bN.map(function(cs){return cs.get_Render();},cr.entries);})));},get_DropDown:function(){return bi.New(this.entries,true);}},null,bi);bi.New2=function(cr){return bi.New$1(bN.map(function(cs){return new bh({$:1,$0:cs});},cr));};bi.New$1=function(cr){return bi.New(cr,false);};bi.New=function(cr,cs){return new bi({entries:cr,dropdown:cs});};bj=_2.Action=bI.Class({get_Button:function(){var cr,cs,ct;function cu(cv,cw){return null;}cr=(cs=(ct=this.onClick,ct==null?null:{$:1,$0:ct.$0(this)}),cs==null?function(cv){return function(cw){return cu(cv,cw);};}:cs.$0);return _3.New(Z.map(function(cv){return cv?"btn btn-primary":"btn";},this.highlight),Z.fixit("button"),Z.fixit(""),this.text,cr,this.disabled,"");},get_MenuEntry:function(){var cr;return bg.New(this.text,new Z({$:0,$0:null}),this.highlight,this.disabled,null,this.toolTip,null,false,(cr=this.onClick,cr==null?null:{$:1,$0:cr.$0(this)}));},Highlight:function(cr){return bj.New(this.text,Z.fixit(cr),this.disabled,this.toolTip,this.onClick,this.parms);},Disabled:function(cr){return bj.New(this.text,this.highlight,Z.fixit(cr),this.toolTip,this.onClick,this.parms);},OnClick2:function(cr){return bj.New(this.text,this.highlight,this.disabled,this.toolTip,{$:1,$0:cr},this.parms);},OnClick:function(cr){return bj.New(this.text,this.highlight,this.disabled,this.toolTip,{$:1,$0:function(){return cr;}},this.parms);},Parms:function(cr){return bj.New(this.text,this.highlight,this.disabled,this.toolTip,this.onClick,{$:1,$0:cr});},Text:function(cr){return bj.New(Z.fixit(cr),this.highlight,Z.fixit(false),this.toolTip,this.onClick,this.parms);}},null,bj);bj.New$1=function(cr){return bj.New(Z.fixit(cr),Z.fixit(false),Z.fixit(false),null,null,null);};bj.New=function(cr,cs,ct,cu,cv,cw){return new bj({text:cr,highlight:cs,disabled:ct,toolTip:cu,onClick:cv,parms:cw});};bk=_2.GuiPart=bI.Class({GetHtmlNode:function(cr,cs){var ct,cu,cv;return this.$==1?this.$0:this.$==2?this.$0.get_Button().get_Render():this.$==3?be.NewBisect(this.$0,this.$1,this.$2,this.$3,cr.GetNode(this.$4),cr.GetNode(this.$5)).Min(this.$6).Max(this.$7).get_Render():this.$==4?(ct=bf.New$1(bN.map(function(cw){return[cw,cr.GetNode(cw)];},this.$1)).SetTop(this.$0),(_2.addValue(cs,ct,cr.tabStrips),ct.get_Render())):this.$==5?(cu=this.$1,cr.parts.ContainsKey(cu)?(cv=(cr.parts.get_Item(cu))[0].RVal(),cv[1].$==2?cv[1].$0.Text(this.$0).Parms(bS.map(a.id,this.$2)).get_Button().get_Render():Y.div([Y.htmlText((function(cw){return function(cx){return cw("GuiPart "+bK.toSafe(cx)+" is not a GuiAction");};}(a.id))(cu))])):Y.div([Y.htmlText((function(cw){return function(cx){return cw("GuiAction "+bK.toSafe(cx)+" not found");};}(a.id))(cu))])):_1.HtmlEmpty;}},null,bk);bl.New=function(cr,cs,ct,cu,cv,cw){return{HtmlElementF:cr,HtmlAttributeF:cs,HtmlAttributeOF:ct,HtmlTextF:cu,HtmlEmptyF:cv,HtmlGuiPart:cw};};bm.New=function(cr,cs,ct,cu,cv){return{GuiRoot:cr,GuiTabStrip:cs,GuiSplit:ct,GuiNode:cu,GuiCall:cv};};bn.get_New=function(){return{$:0,$0:b0.NewGuid()};};bo=_2.Layout=bI.Class({SelectTab:function(cr){bN.iter(function(cs){cs.Select$1(cr);},this.tabStrips.get_Values());},SetLayoutJson:function(cr,cs){var ct,cw;function cu(cA){var cB,cC,cD,cE,cF,cG;cB=_2.PHtmlElementF(cA);return cB!=null&&cB.$==1?{$:1,$0:new _1({$:0,$0:cB.$0[0],$1:bN.choose(cu,cB.$0[1])})}:(cC=_2.PHtmlAttributeF(cA),cC!=null&&cC.$==1?{$:1,$0:new _1({$:1,$0:cC.$0[0],$1:new Z({$:0,$0:cC.$0[1]})})}:(cD=_2.PHtmlAttributeOF(cA),cD!=null&&cD.$==1?{$:1,$0:new _1({$:2,$0:cD.$0[0],$1:new Z({$:0,$0:cD.$0[1]})})}:(cE=_2.PHtmlTextF(cA),cE!=null&&cE.$==1?{$:1,$0:new _1({$:3,$0:new Z({$:0,$0:cE.$0})})}:(cF=_2.PHtmlEmptyF(cA),cF!=null&&cF.$==1)?{$:1,$0:_1.HtmlEmpty}:(cG=_2.PHtmlGuiPart(cA),cG!=null&&cG.$==1?{$:1,$0:cw.GetNode(cG.$0)}:null))));}function cv(cA){var cB,cC,cD,cE,cF,cG,cH;cB=_2.PGuiNode(cA);return cB!=null&&cB.$==1?{$:1,$0:new bk({$:1,$0:(cC=cu(cB.$0),cC==null?_1.HtmlEmpty:cC.$0)})}:(cD=_2.PGuiRoot(cA),cD!=null&&cD.$==1?{$:1,$0:new bk({$:0,$0:cD.$0})}:(cE=_2.PGuiTabStrip(cA),cE!=null&&cE.$==1?{$:1,$0:(cF=cE.$0,new bk({$:4,$0:cF[0],$1:cF[1]}))}:(cG=_2.PGuiSplit(cA),cG!=null&&cG.$==1?{$:1,$0:new bk({$:3,$0:cG.$0[0],$1:_2.toSect(cG.$0[1]),$2:cG.$0[2],$3:cG.$0[3],$4:cG.$0[4],$5:cG.$0[5],$6:cG.$0[6],$7:cG.$0[7]})}:(cH=_2.PGuiCall(cA),cH!=null&&cH.$==1?{$:1,$0:new bk({$:5,$0:cH.$0[0],$1:cH.$0[1],$2:cH.$0[2]})}:null))));}cw=this;try{function cx(cA,cB,cC){var cD;if(cw.parts.ContainsKey(cA)){cD=(cw.parts.get_Item(cA))[0];!bT.Equals((cD.RVal())[0],cB)?cD.set_RVal([cB,cC]):void 0;}else cw.AddNode(cA,cB,cC);}function cy(cA,cB){return bN.last(cB);}function cz(cA,cB){var cC;cC=cv(cB);return cC==null?null:{$:1,$0:[cA,{$:1,$0:cB},cC.$0]};}ct=bS.iter(function(cA){return cx(cA[0],cA[1],cA[2]);},bS.map(function(cA){return cy(cA[0],cA[1]);},bS.groupBy(function(cA){return a.id(cA[0],cA[1],cA[2]);},cr.concat(cs===""?[]:bS.choose(function(cA){return cz(cA[0],cA[1]);},((cg.DecodeArray(cg.DecodeTuple([cg.Id(),bD.j$7])))())(bW.parse(cs)))))));}catch(cA){ct=(function(cB){return function(cC){return cB("Error: "+bK.prettyPrint(cC));};}(function(cB){bP.log(cB);}))(cA);}},get_Render:function(){var cr;function cs(cu){return cu[0];}function ct(cu){var cv;cv=cu.RVal();return cv[1].$==0?{$:1,$0:cv[1].$0}:null;}return this.GetNode((cr=bN.tryPick(function(cu){return ct(cs(cu));},this.parts.get_Values()),cr==null?"main":cr.$0));},GetNode:function(cr){var cs;cs=null;return this.parts.TryGetValue(cr,{get:function(){return cs;},set:function(ct){cs=ct;}})?cs[1]:this.AddNode(cr,bn.get_New(),new bk({$:1,$0:Y.div([Y.htmlText((function(ct){return function(cu){return ct("GuiPart "+bK.toSafe(cu)+" not found");};}(a.id))(cr))])}));},AddNode:function(cr,cs,ct){var cu,cv,cw;function cx(cy,cz){return cz.GetHtmlNode(cu,cr);}cu=this;cv=b9.Create$1([cs,ct]);cw=new _1({$:5,$0:Z.map(function(cy){return cx(cy[0],cy[1]);},cv)});this.parts.Add(cr,[cv,cw]);return cw;}},null,bo);bo.New$1=function(cr){var cs;function ct(cu,cv,cw){cs.AddNode(cu,cv,cw);}cs=bo.New(new bR.New$5(),new bR.New$5());bN.iter(function(cu){return ct(cu[0],cu[1],cu[2]);},cr);return cs;};bo.AddGuids=function(cr){function cs(ct,cu){return[ct,bn.get_New(),cu];}return bS.ofSeq(bN.map(function(ct){return cs(ct[0],ct[1]);},cr));};bo.New=function(cr,cs){return new bo({parts:cr,tabStrips:cs});};_2.varVerSplitter=function(cr,cs,ct,cu,cv){return new bk({$:3,$0:true,$1:bd.StVariable,$2:true,$3:cr,$4:cs,$5:ct,$6:cu,$7:cv});};_2.varHorSplitter=function(cr,cs,ct,cu,cv){return new bk({$:3,$0:true,$1:bd.StVariable,$2:false,$3:cr,$4:cs,$5:ct,$6:cu,$7:cv});};_2.fixedVerSplitter=function(cr,cs,ct,cu){return new bk({$:3,$0:cr,$1:bd.StFixedPx,$2:true,$3:cs,$4:ct,$5:cu,$6:5,$7:95});};_2.fixedHorSplitter=function(cr,cs,ct,cu){return new bk({$:3,$0:cr,$1:bd.StFixedPx,$2:false,$3:cs,$4:ct,$5:cu,$6:5,$7:95});};_2.toSect=function(cr){return cr==="StVariable"?bd.StVariable:cr==="StFixedPx"?bd.StFixedPx:bd.StFixedPerc;};_2.PGuiCall=function(cr){return cr.GuiCall;};_2.PGuiNode=function(cr){return cr.GuiNode;};_2.PGuiRoot=function(cr){return cr.GuiRoot;};_2.PGuiSplit=function(cr){return cr.GuiSplit;};_2.PGuiTabStrip=function(cr){return cr.GuiTabStrip;};_2.PHtmlGuiPart=function(cr){return cr.HtmlGuiPart;};_2.PHtmlEmptyF=function(cr){return cr.HtmlEmptyF;};_2.PHtmlTextF=function(cr){return cr.HtmlTextF;};_2.PHtmlAttributeOF=function(cr){return cr.HtmlAttributeOF;};_2.PHtmlAttributeF=function(cr){return cr.HtmlAttributeF;};_2.PHtmlElementF=function(cr){return cr.HtmlElementF;};_2.addValue=function(cr,cs,ct){ct.Remove(cr);ct.Add(cr,cs);};_2.processLayoutSteps=function(cr,cs){var ct,cu;ct=(cu=bN.tryHead(cr),cu==null?null:{$:1,$0:_2.processLayoutSteps(bN.skip(1,cr),cs.Add(cu.$0[0],cu.$0[1]))});return ct==null?cs:ct.$0;};_2.Do2=function(cr,cs,ct,cu,cv){return cr(ct,cs);};_2.Do=function(cr,cs,ct,cu){return cr(cs);};_2.navbar=function(cr,cs,ct){return Y.div([Y["class"]("navbar navbar-default"),Y.div([Y["class"]("container-fluid"),Y.div([Y["class"]("navbar-header"),Y.div([Y["class"]("navbar-brand"),cr])]),Y.div([Y["class"]("navbar-collapse collapse"),cs,Y.addClass("navbar-right",ct)])])]);};_2.dropdown=function(cr){return _2.entries(cr,"dropdown-menu");};_2.nav=function(cr){return _2.entries(cr,"nav navbar-nav");};_2.entries=function(cr,cs){return Y.addClass(cs,Y.ul(cr));};_2.entryTxt=function(cr,cs,ct){return _2.menuEntry(_2.refText(cr,cs,ct));};_2.refText=function(cr,cs,ct){return Y.bindHElem(function(cu){return cu===""?_1.HtmlEmpty:_2.refA(Y.htmlText(cu),cu,ct);},cr);};_2.refA=function(cr,cs,ct){return Y.a([cr,Y.hrefO(ct),Y.target(cs)]);};_2.menuEntry=function(cr){return Y.li([cr]);};_2.RaiseTabMoved=function(cr,cs){var ct;ct=_2.TabMoved();ct==null?void 0:ct.$0([cr,cs]);};_2.TabMoved=function(){bC.$cctor();return bC.TabMoved;};_2.set_TabMoved=function(cr){bC.$cctor();bC.TabMoved=cr;};_2.setSelectedPanel=function(cr,cs){b9.Set(_2.selectedPanels(),cs==null?_2.selectedPanels().c.Remove(cr):_2.selectedPanels().c.Add(cr,cs.$0));};_2.selectedPanels=function(){bC.$cctor();return bC.selectedPanels;};_2.uid2s=function(cr){return"X"+bM.Replace(a.String(cr),"-","");};_2.draggedTab=function(){bC.$cctor();return bC.draggedTab;};_2.reorderArray=function(cr,cs,ct){return bS.collect(a.id,ct<cs?[ce.array(cr,{$:1,$0:0},{$:1,$0:ct-1}),[bS.get(cr,cs)],ce.array(cr,{$:1,$0:ct},{$:1,$0:cs-1}),ce.array(cr,{$:1,$0:cs+1},{$:1,$0:bS.length(cr)-1})]:[ce.array(cr,{$:1,$0:0},{$:1,$0:cs-1}),ce.array(cr,{$:1,$0:cs+1},{$:1,$0:ct}),[bS.get(cr,cs)],ce.array(cr,{$:1,$0:ct+1},{$:1,$0:bS.length(cr)-1})]);};_2.reorderList=function(cr,cs,ct){return ct<cs?bL.append(cr.GetSlice({$:1,$0:0},{$:1,$0:ct-1}),bL.append(bL.ofArray([cr.get_Item(cs)]),bL.append(cr.GetSlice({$:1,$0:ct},{$:1,$0:cs-1}),cr.GetSlice({$:1,$0:cs+1},{$:1,$0:cr.get_Length()-1})))):bL.append(cr.GetSlice({$:1,$0:0},{$:1,$0:cs-1}),bL.append(cr.GetSlice({$:1,$0:cs+1},{$:1,$0:ct}),bL.append(bL.ofArray([cr.get_Item(cs)]),cr.GetSlice({$:1,$0:ct+1},{$:1,$0:cr.get_Length()-1}))));};_2.addResizeObserver=function(cr,cs){var ct,cu;if(!(!a.ResizeObserver)){ct=new a.ResizeObserver(cr);_2.set_observers(new bL.T({$:1,$0:ct,$1:_2.observers()}));ct.observe(cs);}else{bO.Start((cu=null,bO.Delay(function(){return bO.While(function(){return _2.isValidElement(cs);},bO.Delay(function(){return bO.Bind(bO.Sleep(110),function(){cr();return bO.Zero();});}));})),null);}};_2.isValidElement=function(cr){var cs;cs=cr.getBoundingClientRect();return!bT.Equals([cs.top,cs.left,cs.width,cs.height],[0,0,0,0]);};_2.observers=function(){bC.$cctor();return bC.observers;};_2.set_observers=function(cr){bC.$cctor();bC.observers=cr;};_2.setLint=function(cr,cs){cr.setOption("lint",{async:1,getAnnotations:bI.CreateFuncWithArgs(cs),container:Y.findRootElement(cr.getWrapperElement())});};_2.showHints=function(cr,cs,ct,cu){var cv;cv=ba.New(bI.CreateFuncWithArgs(cs),ct,Y.findRootElement(cr.getWrapperElement()));cv.hint.async=1;cr.showHint(cv);};_2.cmPos=function(cr,cs){return _7.New(cr,cs);};_2.codeMirrorIncludes=function(){bC.$cctor();return bC.codeMirrorIncludes;};_2.hoverable=function(cr){return _5.get_New().Content(cr);};bq=bp.RunNode=bI.Class({createBaseNode:function(){var cr;cr=a.document.createElement("div");cr.setAttribute("id",this.nodeName);a.document.body.appendChild(cr);return cr;},createNode:function(){var cr;cr=a.document.createElement("div");cr.style="height: 100%; width: 100%;";return cr;},RunHtml:function(cr){this.RunDoc((Y.renderDoc())(cr));},RunDoc:function(cr){b5.Run(this.get_RunNode(),cr);},get_AddBootstrap:function(){var cr;cr=a.document.createElement("div");cr.innerHTML="<script src='http://code.jquery.com/jquery-3.1.1.min.js' type='text/javascript' charset='UTF-8'></script>\n                <script src='http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js' type='text/javascript' charset='UTF-8'></script>\n                <link type='text/css' rel='stylesheet' href='http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css'>\n                <link type='text/css' rel='stylesheet' href='/EPFileX/css/main.css'>\n               ";this.runNode.parentElement.appendChild(cr);return this;},get_RunNode:function(){return this.runNode;}},bJ.Obj,bq);bq.New=bI.Ctor(function(cr){bq.New$1.call(this,"TestNode",cr);},bq);bq.New$1=bI.Ctor(function(cr,cs){var ct,cu,cv,cw,cx;this.nodeName=cr;ct=(cu=a.document.getElementById(this.nodeName),bT.Equals(cu,null)?this.createBaseNode():cu);this.runNode=(cv=ct.shadowRoot,bT.Equals(cv,null)?(cw=this.createNode(),(ct.attachShadow({mode:"open"}).appendChild(cw),cx=this.createNode(),cw.appendChild(cx),cx)):cv.firstChild);cs==null||cs.$0?this.runNode.innerHTML="":void 0;},bq);bp.completeJS=function(cr){return"\n          CIPHERSpaceLoadFileGlobalFileRef = null;\n          CIPHERSpaceLoadFile = function (filename, callback) {\n              if (filename.slice(-3) == \".js\" || filename.slice(-4) == \".fsx\" || filename.slice(-3) == \".fs\") { //if filename is a external JavaScript file\n                  var fileRef = null;\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\n                  if (!pre) {\n                      fileRef = document.createElement('script')\n                      fileRef.setAttribute(\"type\", \"text/javascript\")\n                      fileRef.setAttribute(\"src\", filename)\n                  }\n                  else callback();\n              }\n              else if (filename.slice(-4) == \".css\") { //if filename is an external CSS file\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\n                  if (!pre) {\n                      fileRef = document.createElement(\"link\")\n                      fileRef.setAttribute(\"rel\", \"stylesheet\")\n                      fileRef.setAttribute(\"type\", \"text/css\")\n                      fileRef.setAttribute(\"href\", filename)\n                  }\n                  else callback();\n              }\n              else if (filename.slice(-5) == \".html\") { //if filename is an external HTML file\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\n                  if (!pre) {\n                      fileRef = document.createElement(\"link\")\n                      fileRef.setAttribute(\"rel\", \"import\")\n                      fileRef.setAttribute(\"type\", \"text/html\")\n                      fileRef.setAttribute(\"href\", filename)\n                  }\n                  else callback();\n              }\n              if (!!fileRef) {\n                  CIPHERSpaceLoadFileGlobalFileRef = fileRef;\n      \u0009\u0009\u0009fileRef.onload = function () { fileRef.onload = null;  callback(); }\n                  document.getElementsByTagName(\"head\")[0].appendChild(fileRef);\n              }\n          }\n          CIPHERSpaceLoadFiles = function (files, callback) {\n              var newCallback = callback\n              if (!!CIPHERSpaceLoadFileGlobalFileRef && !!(CIPHERSpaceLoadFileGlobalFileRef.onload)) {\n                  var oldCallback = CIPHERSpaceLoadFileGlobalFileRef.onload;\n                  CIPHERSpaceLoadFileGlobalFileRef.onload = null;\n                  newCallback = function () {\n                      callback();\n                      oldCallback();\n                  }\n              }\n              var i = 0;\n              loadNext = function () {\n                  if (i < files.length) {\n                      var file = files[i];\n                      i++;\n                      CIPHERSpaceLoadFile(file, loadNext);\n                  }\n                  else newCallback();\n              };\n              loadNext();\n      \u0009}\n          CIPHERSpaceLoadFiles(['https://code.jquery.com/jquery-3.1.1.min.js'], function() {}); \n      \u0009CIPHERSpaceLoadFilesDoAfter = function (callback) {\n      \u0009\u0009var newCallback = callback\n      \u0009\u0009if (!!CIPHERSpaceLoadFileGlobalFileRef) {\n      \u0009\u0009\u0009if (!!(CIPHERSpaceLoadFileGlobalFileRef.onload)) {\n      \u0009\u0009\u0009\u0009var oldCallback = CIPHERSpaceLoadFileGlobalFileRef.onload;\n      \u0009\u0009\u0009\u0009CIPHERSpaceLoadFileGlobalFileRef.onload = null;\n      \u0009\u0009\u0009\u0009newCallback = function () {\n      \u0009\u0009\u0009\u0009\u0009oldCallback();\n      \u0009\u0009\u0009\u0009\u0009callback();\n      \u0009\u0009\u0009\u0009}\n      \u0009\u0009\u0009}\n      \u0009\u0009}\n      \u0009\u0009else CIPHERSpaceLoadFileGlobalFileRef = {};\n      \u0009\u0009CIPHERSpaceLoadFileGlobalFileRef.onload = newCallback;\n      \u0009}\n      \n      CIPHERSpaceLoadFilesDoAfter(function() { \n        if (typeof IntelliFactory !=='undefined')\n          IntelliFactory.Runtime.Start();\n        for (key in window) { \n          if (key.startsWith(\"StartupCode$\")) \n            try { window[key].$cctor(); } catch (e) {} \n        } \n      })\n      \n                       "+cr;};bt.NewBrowser={$:3};bt.Tab={$:2};bt.Right={$:1};bt.Below={$:0};bu=bs.ErrCompiler=bI.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return this.$==0&&!this.$1;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return this.$==0?(function(cr){return function(cs){return cr(bK.toSafe(cs));};}(a.id))(this.$0):(function(cr){return function(cs){return cr(bF.p$2(cs));};}(a.id))(this);}},null,bu);bu["Could not open new browser, Popup blocker may be active"]=new bu({$:2});bu["Snippet Missing"]=new bu({$:1});bv.New=function(cr,cs,ct){return{F2:cr,LeftDoubleClick:cs,"Ctrl-Space":ct};};bw=bs.Property=bI.Class({setV:function(cr){this.props.set_Item(this.key,cr);this.setDirty();},getV:function(){return this.props.get_Item(this.key);},setK:function(cr){this.props.Add(cr,this.props.get_Item(this.key));this.props.Remove(this.key);this.key=cr;this.setDirty();},getK:function(){return this.key;},Remove:function(){this.props.Remove(this.key);this.setDirty();},get_SetV:function(){var cr;cr=this;return function(cs){cr.setV(cs);};},get_GetV:function(){var cr;cr=this;return function(){return cr.getV();};},get_SetK:function(){var cr;cr=this;return function(cs){cr.setK(cs);};},get_GetK:function(){var cr;cr=this;return function(){return cr.getK();};},get_ValueVar:function(){return new bx.New(this);},get_KeyVar:function(){return this;},RView:function(){return b4.Const(this.getK());},RUpdM:function(cr){var cs;cs=cr(this.getK());cs==null?void 0:this.setK(cs.$0);},RUpd:function(cr){this.setK(cr(this.getK()));},RVal:function(){return this.getK();},RGet:function(){return this.getK();},set_RVal:function(cr){this.setK(cr);},RSet:function(cr){this.setK(cr);},RId:function(){return"?";}},bJ.Obj,bw);bw.New=bI.Ctor(function(cr,cs,ct){this.setDirty=cr;this.props=cs;this.key=ct;},bw);bx=bs.PropValue=bI.Class({RView:function(){return b4.Const(this.get());},RUpdM:function(cr){var cs;cs=cr(this.get());cs==null?void 0:this.set(cs.$0);},RUpd:function(cr){this.set(cr(this.get()));},RVal:function(){return this.get();},RGet:function(){return this.get();},set_RVal:function(cr){this.set(cr);},RSet:function(cr){this.set(cr);},RId:function(){return"?";}},bJ.Obj,bx);bx.New=bI.Ctor(function(cr){this.get=cr.get_GetV();this.set=cr.get_SetV();},bx);bs["CodeSnippet.propValue"]=function(cr,cs){var ct,cu;return cr.properties.ContainsKey(cs)?{$:1,$0:cr.properties.get_Item(cs)}:(ct=(cu=cr.parent,cu==null?null:by.FetchO(cu.$0)),ct==null?null:bs["CodeSnippet.propValue"](ct.$0,cs));};by.FetchByPathO=function(cr){function cs(cu,cv){return bN.tryHead(bN.filter(function(cw){return cw.get_Name()===cv;},cu));}function ct(cu,cv){var cw,cx,cy,cz;cw=(cx=bN.tryHead(cv),cx==null?null:cs(cu,cx.$0));return bN.length(cv)<=1?cw:cw==null?null:(cy=cw.$0,(cz=bN.tail(cv),ct(bN.filter(function(cA){return bT.Equals(cA.parent,{$:1,$0:cy.id});},(bs.codeSnippets())["var"].RVal()),cz)));}return ct(bN.filter(function(cu){return cu.parent==null;},(bs.codeSnippets())["var"].RVal()),cr);};bs["CodeSnippet.IsDescendantOf"]=function(cr,cs){function ct(cu){var cv,cw,cx;cv=cu.parent;return cv!=null&&cv.$==1&&(cw=cv.$0,bT.Equals(cw,cs)||d.defaultValue(false,(cx=by.FetchO(cw),cx==null?null:{$:1,$0:ct(cx.$0)})));}return ct(cr);};bs["CodeSnippet.GetCodeFsx"]=function(cr,cs){return(bs["CodeSnippet.GetCodeAndStarts"](cr,cs))[0];};bs["CodeSnippet.GetCodeAndStarts"]=function(cr,cs){return s.CodeAndStarts(cs,bs["CodeSnippet.Predecessors"](cr));};bs["CodeSnippet.Predecessors"]=function(cr,cs){var ct;ct=bS.ofSeq(cr.UniquePredecessors(by.FetchO));return bS.ofSeq(bN.map(bs["CodeSnippet.get_PrepareSnippet"],bN.filter(function(cu){return bS.contains(cu.id,ct);},(bs.codeSnippets())["var"].RVal())));};bs["CodeSnippet.get_PrepareSnippet"]=function(cr,cs){var ct;ct=bs["CodeSnippet.get_Levels"](cr);return s.New(cr.name,bM.Replace(bM.Replace(cr.content,"##"+"FSHARPSTATION_ID"+"##",bs.fsIds()),"##"+"FSHARPSTATION_ENDPOINT"+"##",a.location.href),cr.parent,cr.predecessors,cr.id,cr.expanded,ct[0],ct[1],cr.properties);};bs["CodeSnippet.get_Levels"]=function(cr,cs){function ct(cu,cv){return function(cw){var cx,cy,cz;return d.defaultValue([cu,cv],(cx=(cy=cw.parent,cy==null?null:by.FetchO(cy.$0)),(cz=ct(cu+1,cv+(cw.properties.ContainsKey("NoIndent")?0:1)),cx==null?null:{$:1,$0:cz(cx.$0)})));};}return(function(cu){return ct(cu[0],cu[1]);}([0,0]))(cr);};by.New=function(cr,cs,ct,cu,cv,cw){var cx,cy,cz,cA,cB;cx=s.New(cs,cw,ct,cu,r.get_New(),true,0,0,new bR.New$5());cy=bs.codeSnippets().get_Length();cy===0?bs.codeSnippets().Append(cx):cr===0?(cz=bN.append([cx],(bs.codeSnippets())["var"].RVal()),bs.codeSnippets().Set(cz)):cr<cy?(cA=(cB=bS.splitAt(cr,bS.ofSeq((bs.codeSnippets())["var"].RVal())),cB[0].concat([cx].concat(cB[1]))),bs.codeSnippets().Set(cA)):bs.codeSnippets().Append(cx);return cx;};by.New$1=function(cr,cs,ct,cu,cv){return by.New(bs.codeSnippets().get_Length(),cr,cs,ct,cu,cv);};by.New$2=function(cr){return by.New$1("",null,bL.T.Empty,bL.T.Empty,cr);};by.New$3=function(cr,cs){return by.New$1("",{$:1,$0:cr},bL.T.Empty,bL.T.Empty,cs);};by.New$4=function(cr,cs,ct){return by.New$1("",{$:1,$0:cr},cs,bL.T.Empty,ct);};by.New$5=function(cr,cs){return by.New$1("",null,cr,bL.T.Empty,cs);};by.FetchL=function(cr){return b1.toList(by.FetchO(cr));};by.FetchO=function(cr){return bs.codeSnippets().TryFindByKey(cr);};by.PickIO=function(cr){function cs(ct,cu){return bT.Equals(cu.id,cr);}return bs.tryPickI(function(ct){return cs(ct[0],ct[1]);},(bs.codeSnippets())["var"].RVal());};bs.tryPickI=function(cr,cs){return bN.tryHead(bN.filter(cr,bN.indexed(cs)));};bs.fsIds=function(){bC.$cctor();return bC.fsIds;};bs.codeSnippets=function(){bC.$cctor();return bC.codeSnippets;};bA=bz.Babel=bI.Class({},bJ.Obj,bA);bA.New=bI.Ctor(function(){},bA);bB=bz.Fable=bI.Class({},bJ.Obj,bB);bB.New=bI.Ctor(function(){},bB);bz.fableTranslate=function(cr){var cs;cs=j.wrapper();return cs.Delay(function(){var ct;bz.loadReferences().f();return cs.Bind$2((ct=null,bO.Delay(function(){return bO.While(function(){return ch.getOwnPropertyNames(a.metadata).length<bS.length(bz.references());},bO.Delay(function(){return bO.Bind(bO.Sleep(200),function(){return bO.Return(null);});}));})),function(){var cu,cv,cw,cx,cy;cu=bz.getChecker().f();cv=ci.makeCompiler([["Microsoft.FSharp.Core.ExtraTopLevelOperators.PrintFormatLine","FSSGlobal.FSharpStation.FableModule.ToConsole($0)"]]);cw="stdin.fsx";cx=bW.parse(ci.convertToJson(ci.compileAst(cv,ci.parseFSharpProject(cu,cv,cw,cr),cw)));cy=ch.create(null);cy.plugins=[a.babelPlugins.transformMacroExpressions,a.babelPlugins.removeUnneededNulls,"transform-es2015-modules-amd"];cy.presets=[];cy.filename=cw;cy.babelrc=false;return cs.Return(bM.Replace(bM.Replace(cj.transformFromAst(cx,null,cy).code,"define([","require(["),"\"use strict\";","\"use strict\"; try { exports = exports || {}; } catch (err) {}"));});});};bz.ToConsole=function(cr){bP.log(cr);return cr.cont(bz.addOutMsg());};bz.addOutMsg=function(){bC.$cctor();return bC.addOutMsg;};bz.set_addOutMsg=function(cr){bC.$cctor();bC.addOutMsg=cr;};bz.getChecker=function(){bC.$cctor();return bC.getChecker;};bz.loadReferences=function(){bC.$cctor();return bC.loadReferences;};bz.references=function(){bC.$cctor();return bC.references;};br.FSharpStationClient=function(cr){var cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec;function ed(fF,fG,fH,fI){return fG(fI)==null?b9.Lens(cs,function(){return fF;},function(){return"";}):fH(fI);}function ee(){b9.Set(cw,null);}function ef(fF){function fG(fI){return fI.get_Name();}function fH(fI,fJ){return s.New(fJ,fI.content,fI.parent,fI.predecessors,fI.id,fI.expanded,fI.level,fI.levelCode,fI.properties);}return ed("",function(fI){return bs.codeSnippets().TryFindByKey(fI);},function(fI){return bs.codeSnippets().LensInto(fG,fH,fI);},fF);}function eg(fF){function fG(fI){return fI.content;}function fH(fI,fJ){return s.New(fI.name,fJ,fI.parent,fI.predecessors,fI.id,fI.expanded,fI.level,fI.levelCode,fI.properties);}return ed("",function(fI){return bs.codeSnippets().TryFindByKey(fI);},function(fI){return bs.codeSnippets().LensInto(fG,fH,fI);},fF);}function eh(fF){var fG;fG=bs["CodeSnippet.propValue"](fF,"CSS");return fG==null?null:{$:1,$0:a.id(fG.$0)};}function ei(fF){return d.defaultValue("",fF);}function ej(fF){var fG;fG=bs["CodeSnippet.propValue"](fF,"CSSLink");return fG==null?null:{$:1,$0:a.id(fG.$0)};}function ek(fF){return d.defaultValue("",fF);}function el(fF){var fG;fG=bs["CodeSnippet.propValue"](fF,"Mode");return fG==null?null:{$:1,$0:a.id(fG.$0)};}function em(fF){return d.defaultValue("fsharp",fF);}function en(fF){var fG;fG=bs["CodeSnippet.propValue"](fF,"Theme");return fG==null?null:{$:1,$0:a.id(fG.$0)};}function eo(fF){return d.defaultValue("",fF);}function ep(fF){var fG;fG=bs["CodeSnippet.propValue"](fF,"Layout");return fG==null?null:{$:1,$0:a.id(fG.$0)};}function eq(fF){return d.defaultValue("",fF);}function er(fF){var fG,fH,fI,fJ;function fK(fN){return"0"!==fN;}function fL(fN){var fO;fO=bs["CodeSnippet.propValue"](fN,fF);return fO==null?null:{$:1,$0:fK(fO.$0)};}function fM(fN){return d.defaultValue(false,fN);}fG=Z.map((fH=(fI=function(fN){return fN==null?null:fL(fN.$0);},function(fN){return fI(by.FetchO(fN));}),function(fN){return fM(fH(fN));}),ct);fJ=[b9.Create$1(null)];b4.Sink(function(fN){if(!bT.Equals(fJ[0].c,fN))b9.Set(fJ[0],fN);},Z.toView(fG));return new Z({$:1,$0:fJ[0]});}function es(){c$=false;b9.Set(da,true);}function et(){c5=null;es();}function eu(){et();c6.ClearCache();ee();}function ev(){c6.ClearCache();b9.Set(da,false);c5=null;}function ew(fF,fG){var fH,fI,fJ;return!fG?null:(fH=(fI=fF.RVal(),(fJ=a.String(fG),fI===null?fJ:fI===""?fJ:fJ===null?fI:fJ===""?fI:fI+"\n"+fJ)),fH!==fF.RVal()?fF.set_RVal(fH):null);}function ex(fF){ew(c_,fF);}function ey(fF){ew(c9,fF);}function ez(){var fF;fF=by.FetchO(ct.c);fF==null?void 0:b9.Set(c7,bs["CodeSnippet.GetCodeFsx"](fF.$0,true));}function eA(fF,fG){var fH,fI,fJ,fK,fL,fM,fN,fO;function fP(fQ){function fR(fS,fT){return bT.Equals(fT.id,fQ);}return function(fS){return bs.tryPickI(function(fT){return fR(fT[0],fT[1]);},fS);};}fH=bS.partition(function(fQ){return bT.Equals(fQ.id,fG)||bs["CodeSnippet.IsDescendantOf"](fQ,fG);},bS.ofSeq((bs.codeSnippets())["var"].RVal()));fI=fH[1];fJ=fH[0];fK=(fP(fG))(fJ);fL=(fP(fF))(fI);fK!=null&&fK.$==1?fL!=null&&fL.$==1?(fM=fL.$0[0],fN=fL.$0[1],fO=bS.collect(a.id,[ce.array(fI,{$:1,$0:0},{$:1,$0:fM-1}),fJ,ce.array(fI,{$:1,$0:fM},null)]),bs.codeSnippets().Set(fO),bs.codeSnippets().UpdateBy(function(fQ){return{$:1,$0:s.New(fQ.name,fQ.content,fN.parent,fQ.predecessors,fQ.id,fQ.expanded,fQ.level,fQ.levelCode,fQ.properties)};},fK.$0[1].id)):void 0:void 0;return eu();}function eB(){var fF;fF=by.PickIO(ct.c);fF==null?void 0:(function(fG,fH){(function(fI,fJ){var fK;while(true){if(fJ<0)return null;else if(fI((fK=(bs.codeSnippets())["var"].RVal(),(function(fL){return function(fM){return bN.nth(fL,fM);};}(fJ))(fK))))return null;else fJ=fJ-1;}}(function(fI){return bT.Equals(fI.parent,fH.parent)&&(bs.codeSnippets().UpdateBy(function(fJ){return{$:1,$0:s.New(fJ.name,fJ.content,{$:1,$0:fI.id},fJ.predecessors,fJ.id,fJ.expanded,fJ.level,fJ.levelCode,fJ.properties)};},fH.id),true);},fG-1));eu();}).apply(null,fF.$0);}function eC(){var fF,fG,fH,fI,fJ;fF=by.FetchO(ct.c);fF==null?void 0:(fG=fF.$0,fH=(fI=(fJ=fG.parent,fJ==null?null:by.FetchO(fJ.$0)),fI==null?null:fI.$0.parent),bs.codeSnippets().UpdateBy(function(fK){return{$:1,$0:s.New(fK.name,fK.content,fH,fK.predecessors,fK.id,fK.expanded,fK.level,fK.levelCode,fK.properties)};},fG.id),eu());}function eD(fF){var fG;fG=j.wrapper();return fG.Delay(function(){return fG.Bind$1(h.fromOption(bu["Snippet Missing"],fF),function(fH){var fI;b9.Set(c_,"Compiling to JavaScript...");b9.Set(c8,"");fI=bs["CodeSnippet.GetCodeFsx"](fH,true);b9.Set(c7,fI);return fG.Bind$2(x.translateAR(fI,false),function(fJ){return fG.Bind$1(fJ,function(fK){var fL;fL=bp.completeJS(fK);b9.Set(c8,fL);ex("Compiled!");return fG.Return(fL);});});});});}function eE(fF){var fG;fG=a.open.apply(a,[fF]);return bT.Equals(fG,null)?h.fail(bu["Could not open new browser, Popup blocker may be active"]):h.succeed(fG);}function eF(fF,fG){return fF["eval"].apply(fF,[fG]);}function eG(fF){fF.focus.apply(fF,[]);}function eH(fF,fG){var fH;fH=j.wrapper();return fH.Delay(function(){return fH.Bind$1(h.tryProtection(),function(){return fH.Bind$1(eE(fF),function(fI){eG(fI);return fH.Bind$2(bO.Sleep(800),function(){return fH.Return(eF(fI,fG));});});});});}function eI(){return bO.FromContinuations(function(fF,fG){try{return(new bq.New(null)).RunHtml(Y.createIFrame(fF));}catch(fH){return fG(fH);}});}function eJ(fF){var fG;fG=j.wrapper();return fG.Delay(function(){return fG.Bind$1(h.tryProtection(),function(){return fG.Bind$2(eI(),function(fH){var fI;fI=fH.contentWindow;fI.document.body.style.margin="0px";return fG.Return(eF(fI,fF));});});});}function eK(fF,fG,fH){var fI;fI=j.wrapper();return fI.Delay(function(){return fI.Bind$3(eD(fH),function(fJ){b9.Set(c_,"Running JavaScript...");return fI.Bind$3(fG.$==3?eH(fF,fJ):eJ(fJ),function(fK){ex(fK);ex("Done!");return fI.Return([fG,fK]);});});});}function eL(){return by.FetchO(ct.c);}function eM(fF){var fG;fG=j.wrapper();return fG.Delay(function(){return fG.Bind$1(h.fromOption(bu["Snippet Missing"],fF),function(fH){var fI;b9.Set(c_,"Evaluating F# code...");fI=bs["CodeSnippet.GetCodeFsx"](fH,true);b9.Set(c7,fI);return fG.Bind$2(o.evaluateAR(fI),function(fJ){return fG.Bind$1(fJ,function(fK){ex(fK);ex("Done!");return fG.Return(fK);});});});});}function eN(fF){var fG;fG=j.wrapper();return fG.Delay(function(){return fG.Bind$1(h.fromOption(bu["Snippet Missing"],fF),function(fH){var fI;b9.Set(c_,"Running Fable...");fI=bs["CodeSnippet.GetCodeFsx"](fH,false);b9.Set(c7,fI);return fG.Bind$3(bz.fableTranslate(fI),function(fJ){b9.Set(c8,fJ);a["eval"](fJ);ex("Done!");return fG.Zero();});});});}function eO(fF){var fG;fG=eL();return(dc(fF))(fG);}function eP(fF){return bS.ofSeq(bN.map(function(fG){return[fG.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),fG.FSSGlobal_Useful_ErrMsg$get_IsWarning()?u.FSWarning:u.FSError];},fF));}function eQ(fF){var fG;return{$:4,$0:(fG=fF.$0,fG==null?null:{$:1,$0:fG.$0[1]}),$1:bS.ofSeq(bN.map(function(fH){return[fH.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),fH.FSSGlobal_Useful_ErrMsg$get_IsWarning()?u.FSWarning:u.FSError];},fF.$1))};}function eR(fF,fG){var fH;fH=null;return bO.Delay(function(){var fI,fJ,fK,fL,fM,fN,fO,fP;return fG.$==2?bO.Return({$:1,$0:(fI=by.FetchO(fG.$0),fI==null?null:{$:1,$0:fI.$0.content})}):fG.$==3?bO.Return({$:1,$0:(fJ=by.FetchO(fG.$0),fJ==null?null:{$:1,$0:bs["CodeSnippet.GetCodeFsx"](fJ.$0,true)})}):fG.$==4?bO.Return({$:3,$0:d.defaultValue([],(fK=by.FetchO(fG.$0),fK==null?null:{$:1,$0:bs["CodeSnippet.Predecessors"](fK.$0)}))}):fG.$==5?bO.Return({$:2,$0:by.FetchO(fG.$0)}):fG.$==6?bO.Return({$:1,$0:(fL=by.FetchByPathO(fG.$0),fL==null?null:{$:1,$0:fL.$0.content})}):fG.$==7?bO.Return({$:1,$0:(fM=by.FetchByPathO(fG.$0),fM==null?null:{$:1,$0:bs["CodeSnippet.GetCodeFsx"](fM.$0,true)})}):fG.$==10?(fN=by.FetchByPathO(fG.$0),fN==null?bO.Return({$:4,$0:null,$1:[["Snippet not found",u.FSError]]}):bO.Bind(x.translateAR(bs["CodeSnippet.GetCodeFsx"](fN.$0,true),false),function(fQ){return bO.Return({$:4,$0:h.getOption(h.map(bp.completeJS,fQ)),$1:eP(h.getMsgs(fQ))});})):fG.$==8?bO.Return({$:3,$0:d.defaultValue([],(fO=by.FetchByPathO(fG.$0),fO==null?null:{$:1,$0:bs["CodeSnippet.Predecessors"](fO.$0)}))}):fG.$==9?bO.Return({$:2,$0:by.FetchByPathO(fG.$0)}):fG.$==1?bO.Return({$:1,$0:{$:1,$0:"Message received: "+fG.$0}}):fG.$==0?bO.Return({$:0,$0:fF}):fG.$==12?l.map(eQ,j.getAsyncR(eK(fG.$1,bt.NewBrowser,by.FetchO(fG.$0)))):fG.$==13?l.map(eQ,j.getAsyncR(eK(fG.$1,bt.NewBrowser,by.FetchByPathO(fG.$0)))):bO.Return({$:1,$0:{$:1,$0:(fP=bS.ofSeq((bs.codeSnippets())["var"].RVal()),bW.stringify(((cg.EncodeArray(bE.j$3))())(fP)))}});});}function eS(fF,fG){var fH;fH=null;return bO.Delay(function(){return bO.Bind(eR(fF,(bD.j$5())(bW.parse(fG))),function(fI){return bO.Return(bW.stringify((bE.j$4())(fI)));});});}function eT(fF,fG){return d.defaultValue(false,fG==null?null:{$:1,$0:bL.contains(fF,fG.$0.predecessors)});}function eU(fF,fG){return fG.Contains(fF);}function eV(fF,fG){var fH,fI,fJ,fK;return fG==null?null:(fH=fG.$0,bT.Equals(fH,fF)||eU(fH.id,new ck.New$2(fF.UniquePredecessors(by.FetchO)))?null:(fI=(bL.contains(fF.id,fH.predecessors)?(fJ=(fK=fF.id,function(fL){return!bT.Equals(fK,fL);}),function(fL){return bL.filter(fJ,fL);}):function(fL){return new bL.T({$:1,$0:fF.id,$1:fL});})(fH.predecessors),(bs.codeSnippets().UpdateBy(function(fL){return{$:1,$0:s.New(fL.name,fL.content,fL.parent,fI,fL.id,fL.expanded,fL.level,fL.levelCode,fL.properties)};},fH.id),eu())));}function eW(fF){bs.codeSnippets().UpdateBy(function(fG){return{$:1,$0:s.New(fG.name,fG.content,fG.parent,fG.predecessors,fG.id,!fG.expanded,fG.level,fG.levelCode,fG.properties)};},fF.id);ee();}function eX(fF,fG,fH){var fI,fJ,fK,fL;return _5.get_New().Content$1([Y["class"]("code-editor-list-tile"),Y.classIf("selected",Z.map((fI=fH.id,function(fM){return bT.Equals(fI,fM);}),ct)),Y.classIf("direct-predecessor",Z.map((fJ=fH.id,function(fM){return eT(fJ,fM);}),cx)),Y.classIf("indirect-predecessor",Z.map((fK=fH.id,function(fM){return eU(fK,fM);}),dg)),Y.draggable("true"),new _1({$:7,$0:b7.Handler("dragover",function(){return function(fM){return fM.preventDefault();};})}),new _1({$:7,$0:b7.Handler("drag",function(){return function(){db=fH.id;};})}),new _1({$:7,$0:b7.Handler("drop",function(){return function(fM){fM.preventDefault();return eA(fH.id,db);};})}),Y.span([Y["class"]("node"),Y.classIf("parent",fF),Y.classIf("expanded",fG),new _1({$:7,$0:b7.Handler("click",function(){return function(){return fF?eW(fH):null;};})}),Y.title(fF?fG?"collapse":"expand":""),Y.htmlText(fF?fG?"-":"+":"")]),Y.div([Y["class"]("code-editor-list-text"),Y.style1("text-indent",(fL=(bs["CodeSnippet.get_Levels"](fH))[0],(function(fM){return function(fN){return fM(a.String(fN)+"em");};}(a.id))(fL))),Y.style("white-space: pre"),Y.htmlText(Z.map2(function(fM){return function(fN){return p.snippetName(fM,fN);};},ef(fH.id),eg(fH.id))),new _1({$:7,$0:b7.Handler("click",function(){return function(){return b9.Set(ct,fH.id);};})})]),Y.span([Y["class"]("predecessor"),Y.title("toggle predecessor"),new _1({$:7,$0:b7.Handler("click",function(){return function(){return Z.iter(function(fM){return eV(fH,fM);},cx);};})}),Y.htmlText("X")])]);}function eY(fF,fG){return!fG?fF:fG;}function eZ(fF){return new r({$:0,$0:!fF?"00000000-0000-0000-0000-000000000000":fF.Item});}function e0(fF){return!fF?null:{$:1,$0:eZ(fF)};}function e1(fF){var fG;function fH(fJ,fK){fG.Add(fJ,fK);}function fI(fJ,fK){return[fJ,fK];}fG=new bR.New$5();return!fF?fG:(bN.iter(function(fJ){return fH(fJ[0],fJ[1]);},bS.map(function(fJ){return fI(fJ[0],fJ[1]);},cm.GetFields(fF))),fG);}function e2(fF){var fG;try{fG=bW.parse(fF);((function(fH){return function(fI){return fH(bK.prettyPrint(fI));};}(function(fH){bP.log(fH);}))(fG.length));return bS.choose(function(fH){return!fH?null:{$:1,$0:s.New(eY("",fH.name),eY("",fH.content),e0(fH.parent),bL.ofSeq(bS.map(eZ,eY([],fH.predecessors))),eZ(fH.id),eY(false,fH.expanded),eY(0,fH.level),eY(0,fH.levelCode),e1(fH.properties))};},fG);}catch(fH){return[];}}function e3(){var fF;b9.Set(ct,d.defaultWith(function(){return by.New$2("");},(fF=by.PickIO(ct.c),fF==null?null:{$:1,$0:by.New(fF.$0[0]+1,"",fF.$0[1].parent,bL.T.Empty,bL.T.Empty,"")})).id);et();ee();}function e4(){var fF,fG;fF=by.FetchO(ct.c);fF==null?void 0:(fG=fF.$0,a.confirm((function(fH){return function(fI){return fH("Do you want to delete "+bK.toSafe(fI)+"?");};}(a.id))(fG.get_Name()))?(b9.Set(ct,r.get_New()),bs.codeSnippets().Remove(fG),et(),ee()):void 0);}function e5(fF){return bN.last(bM.SplitChars(fF,["/","\\"],0));}function e6(fF,fG){var fH,fI;fH=fF.files;return fH.length>0?(fI=new a.FileReader(),(fI.onload=function(fJ){return fG(fJ.target.result);},fI.readAsText(fH.item(0)))):null;}function e7(fF){var fG;try{fG=e2(fF);bs.codeSnippets().Set(fG);ev();ee();}catch(fH){a.alert(a.String(fH));}}function e8(fF){if(!da.c||a.confirm("Changes have not been saved, do you really want to load?"))e6(Y.findRootElement(fF).querySelector("#"+dj),e7);}function e9(){var fF,fG;a.saveAs(new a.Blob([(fF=bS.ofSeq((bs.codeSnippets())["var"].RVal()),bW.stringify(((cg.EncodeArray(bE.j$3))())(fF)))],{type:"text/plain;charset=utf-8"}),(fG=e5(di.c),fG===""?"snippets.fsjson":fG));ev();}function e_(fF,fG){return Y.findRootElement(fF).querySelector("#"+dj).click();}function e$(fF,fG,fH){var fI,fJ,fK,fL,fM,fN,fO,fP;fI=c5!=null&&c5.$==1&&((fK=c5.$0[1],bT.Equals(c5.$0[0],fG.id)&&bT.Equals(fK,fH))&&(fJ=[c5.$0[1],c5.$0[0],c5.$0[2]],true))?(fF("Reparsing..."),[fJ[2],bs["CodeSnippet.get_PrepareSnippet"](fG)]):(fF("Parsing..."),fL=bs["CodeSnippet.Predecessors"](fG),fM=s.ReducedCode(fH,ce.array(fL,{$:1,$0:0},{$:1,$0:bS.length(fL)-2})),fN=bS.get(fL,bS.length(fL)-1),c5={$:1,$0:[fN.id,fH,fM]},[fM,fN]);fO=s.ReducedCode(fH,[fI[1]]);fP=(function(fQ){var fR,fS,fT,fU,fV,fW;fR=fQ[0];fS=fQ[1];fT=fQ[2];fU=fQ[3];fV=fQ[4];fW=fQ[5];return function(fX){return s.AddSeps(fR,fS,fT,fU,fV,fW,fX[0],fX[1],fX[2],fX[3],fX[4],fX[5]);};}(fI[0]))(fO);return s.FinishCode(fH,fP[0],fP[1],fP[2],fP[3],fP[4],fP[5]);}function fa(fF){var fG;function fH(fI){if(!fF)b9.Set(c9,fI);}fG=null;return bO.Delay(function(){return bO.TryWith(bO.Delay(function(){var fI,fJ,fK;fI=by.FetchO(ct.c);return fI!=null&&fI.$==1?(fJ=fI.$0,(fK=dp+1,(dp=fK,bO.Combine(bO.While(function(){return dq;},bO.Delay(function(){return bO.Bind(bO.Sleep(1000),function(){return bO.Return(null);});})),bO.Delay(function(){var fL;return dp!==fK?bO.Zero():(dq=true,fL=e$(fH,fJ,false),c$=true,bO.Bind(dm.Parse$1(dn,fL[0],fL[1]),function(fM){dq=false;return!fF&&fK===dp&&c$?(ey(fM),ey("Parsed!"),bO.Zero()):bO.Zero();}));}))))):bO.Zero();}),function(){dq=false;return bO.Zero();});});}function fb(fF){var fG;fG=null;return bO.Delay(function(){return!c$?bO.Return(true):bO.Bind(dm.MustParse(dn,fF.get_NameSanitized()),function(fH){return bO.Return(fH);});});}function fc(fF){var fG;fG=null;return bO.Delay(function(){return bO.Bind(_do,function(fH){var fI;return fH?bO.Zero():(fI=by.FetchO(ct.c),fI!=null&&fI.$==1?bO.Bind(fb(fI.$0),function(fJ){return fJ?bO.Bind(fa(fF),function(){return bO.Return(null);}):bO.Zero();}):bO.Zero());});});}function fd(fF,fG){var fH,fI;fH=c.REGEX("([a-zA-Z_]\\w*)$","g",bM.Substring(fF,0,fG));return fH!=null&&fH.$==1?(fI=fH.$0,fI&&bS.length(fI)===1)?bS.get(fH.$0,0):"":"";}function fe(fF,fG){var fH,fI;fH=c.REGEX("^([a-zA-Z_]\\w*)","g",fF.substring(fG));return fH!=null&&fH.$==1?(fI=fH.$0,fI&&bS.length(fI)===1)?bS.get(fH.$0,0):"":"";}function ff(fF){var fG;bO.Start((fG=null,bO.Delay(function(){return bO.Bind(_do,function(fH){var fI,fJ;return fH?bO.Zero():(fI=by.FetchO(ct.c),fI!=null&&fI.$==1?(fJ=fI.$0,bO.Bind(fc(false),function(){var fK,fL,fM,fN,fO;fK=fF.getCursor();fL=fF.getLine(fK.line);fM=bM.length(fd(fL,fK.ch));fN=bM.length(fe(fL,fK.ch));fO=fM===0&&fN===0?2:fN;return bO.Bind(dm.ToolTip(dn,fK.line+1,fK.ch+1,fJ.get_NameSanitized()),function(fP){var fQ;ey(((((fQ=(bI.Curried(function(fR,fS,fT,fU,fV){return fR("InfoFSharp \""+bK.toSafe(fS)+" "+("("+bK.prettyPrint(fT[0])+", "+bK.prettyPrint(fT[1])+")")+" - "+("("+bK.prettyPrint(fU[0])+", "+bK.prettyPrint(fU[1])+")")+" "+bK.toSafe(fV)+" \"");},5))(a.id),function(fR){var fS;fS=fQ(fR);return function(fT){var fU;fU=fS([fT[0],fT[1]]);return function(fV){return fU([fV[0],fV[1]]);};};})(fJ.get_NameSanitized()))([fK.line+1,fK.ch-fM+1]))([fK.line+1,fK.ch+fO+1]))(bM.Replace(fP,"\"","''")));return bO.Zero();});})):bO.Zero());});})),null);}function fg(fF,fG,fH){var fI;bO.Start((fI=null,bO.Delay(function(){return bO.Bind(_do,function(fJ){var fK,fL;return fJ?bO.Zero():(fK=by.FetchO(ct.c),fK!=null&&fK.$==1?(fL=fK.$0,bO.Bind(fc(true),function(){var fM,fN,fO;fM=fF.getCursor();fN=fF.getLine(fM.line);fO=fd(fN,fM.ch);return bO.Bind(dm.Complete(dn,fN,fM.line+1,fM.ch+1,fL.get_NameSanitized()),function(fP){function fQ(fR,fS,fT,fU){return _.New(fS,fU+"| "+fR,fT);}fG($.New(bS.map(function(fR){return fQ(fR[0],fR[1],fR[2],fR[3]);},fP),_7.New(fM.line,fM.ch-fO.length),fM));return bO.Zero();});})):bO.Zero());});})),null);}function fh(fF,fG,fH,fI){var fJ;bO.Start((fJ=null,bO.Delay(function(){var fK,fL;fK=by.FetchO(ct.c);return fK!=null&&fK.$==1?(fL=fK.$0,bO.Bind(fc(false),function(){var fM;function fN(fO,fP,fQ,fR,fS,fT,fU,fV,fW){var fX;return bM.StartsWith(fO,fL.id.get_Text())||fO===p.sanitize(fL.name)?(fX=a.Number(fP)>0?a.Number(fP):0,{$:1,$0:bb.New(fW,bM.StartsWith(fU.toUpperCase(),"ERR")?"error":bM.StartsWith(fU.toUpperCase(),"INFO")?"info":"warning",_2.cmPos(fQ-1,fR-1-fX),_2.cmPos(fS-1,fT-1-fX))}):null;}fG(bS.choose(function(fO){return fN(fO[0],fO[1],fO[2],fO[3],fO[4],fO[5],fO[6],fO[7],fO[8]);},bS.choose(function(fO){var fP,fQ,fR,fS,fT,fU,fV,fW;return(fQ=c.REGEX(ds,"",fO),fQ!=null&&fQ.$==1&&((fR=fQ.$0,fR&&bS.length(fR)===13)&&(fP=[bS.get(fQ.$0,8),bS.get(fQ.$0,5),bS.get(fQ.$0,7),bS.get(fQ.$0,2),bS.get(fQ.$0,4),bS.get(fQ.$0,11),bS.get(fQ.$0,1),bS.get(fQ.$0,10),bS.get(fQ.$0,9)],true)))?{$:1,$0:[fP[1],fP[4],a.Number(fP[2]),a.Number(fP[0]),a.Number(fP[8]),a.Number(fP[7]),fP[6],fP[3],fP[5]]}:(fT=c.REGEX(dr,"",fO),fT!=null&&fT.$==1&&((fU=fT.$0,fU&&bS.length(fU)===8)&&(fS=[bS.get(fT.$0,4),bS.get(fT.$0,2),bS.get(fT.$0,3),bS.get(fT.$0,1),bS.get(fT.$0,6),bS.get(fT.$0,5)],true)))?(fV=fS[0],(fW=fS[2],{$:1,$0:[fS[1],fS[3],a.Number(fW),a.Number(fV)-1,a.Number(fW),a.Number(fV),fS[5],"fsi",fS[4]]})):null;},(fM=c.REGEX(dt,"g",c9.c),fM!=null&&fM.$==1?fM.$0:[]))));return bO.Zero();})):bO.Zero();})),null);}function fi(fF){var fG,fH,fI;fG=(fH=fF.parent,fH==null?null:by.FetchO(fH.$0));fG==null?void 0:(fI=fG.$0,fi(fI),!fI.expanded?eW(fI):void 0);}function fj(fF,fG,fH){var fI;return bO.Start((fI=null,bO.Delay(function(){var fJ;b9.Set(ct,fF);fJ=by.FetchO(fF);fJ==null?void 0:fi(fJ.$0);return bO.Bind(bO.Sleep(200),function(){var fK,fL;fK=du.editorO;fK==null?void 0:(fL=fK.$0,fL.setCursor(fG-1,fH-1),fL.focus());return bO.Zero();});})),null);}function fk(fF){var fG,fH,fI;fG=c.REGEX("([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}).+?\\((\\d+)\\,\\s*(\\d+)\\)","",fF);fG!=null&&fG.$==1?(fH=fG.$0,fH&&bS.length(fH)===4)?(fI=bS.get(fG.$0,3),fj(new r({$:0,$0:bS.get(fG.$0,1)}),a.Number(bS.get(fG.$0,2)),a.Number(fI))):void 0:void 0;}function fl(){var fF;bO.Start((fF=null,bO.Delay(function(){var fG,fH,fI,fJ;fG=by.FetchO(ct.c);return fG!=null&&fG.$==1?(fH=du.editorO,fH!=null&&fH.$==1?(fI=fH.$0,(fJ=fI.getCursor(),(fI.getLine(fJ.line),bO.Bind(dm.FindDecl(dn,fJ.line+1,fJ.ch+1,fG.$0.get_NameSanitized()),function(fK){var fL;return fK.$==9?(fL=fK.$0,(fk(((((((bI.Curried(function(fM,fN,fO,fP,fQ,fR){return fM(bK.toSafe(fN)+" ("+a.String(fO)+", "+a.String(fP)+") - ("+a.String(fQ)+", "+a.String(fR)+")");},6))(a.id))(fL.File))(fL.Line))(fL.Column))(fL.Line))(fL.Column)),bO.Zero())):fK.$==1?(a.alert((function(fM){return function(fN){return fM(bG.p(fN));};}(a.id))(fK.$0)),bO.Zero()):(a.alert((function(fM){return function(fN){return fM(bF.p$3(fN));};}(a.id))(fK)),bO.Zero());})))):bO.Zero()):bO.Zero();})),null);}function fm(){var fF;fF=du.editorO;fF==null?void 0:fF.$0.refresh();}function fn(fF){var fG;bO.Start((fG=null,bO.Delay(function(){return bO.Bind(bO.Sleep(fF),function(){fm();return bO.Zero();});})),null);}function fo(fF,fG,fH,fI){var fJ;return j.start(ex,(fJ=fF(fG),(j.map(a.ignore))(fJ)));}function fp(fF,fG,fH,fI){function fJ(fK,fL){if(fK==null)ex("Failed!\n"+fL);else if(fK.$0[0].$==0){ex(fL);b9.Set(dB,null);}else ex(fL);}return j.startV(function(fK){return fJ(fK[0],fK[1]);},fF(fG));}function fq(fF,fG,fH){function fI(fJ){return(fF(fH))(fJ);}return bI.Curried(fo,2,[fI,fG]);}function fr(fF,fG,fH){function fI(fJ){return(fF(fH))(fJ);}return bI.Curried(fp,2,[fI,fG]);}function fs(fF,fG){var fH,fI,fJ;return fG((fH=fF.parms,fH!=null&&fH.$==1&&((fJ=fH.$0,fJ&&bS.length(fJ)===1)&&(fI=bS.get(fH.$0,0),true))?by.FetchByPathO(bM.SplitChars(fI,["/"],0)):eL()));}function ft(fF,fG){return fs(fF,eM);}function fu(fF,fG){return fs(fF,eN);}function fv(fF,fG){return fs(fF,dc(fG));}function fw(){return eO(cy.c);}function fx(){var fF;fF=j.wrapper();return fF.Delay(function(){c5=null;return fF.Bind$2(fa(false),function(){return fF.Return();});});}function fy(){b9.Set(da,true);}function fz(fF,fG){return Y.table(bL.ofSeq(bN.delay(function(){return bN.append([Y.thead([Y.th([Y.htmlText("Property"),Y.style("padding-right:10px")]),Y.th([Y.htmlText("Value")])])],bN.delay(function(){return bN.append(bN.map(function(fH){var fI;fI=new bw.New(fy,fG,fH);return Y.tr([Y.td([Y.someElt(b5.Input([],fI.get_KeyVar()))]),Y.td([Y.someElt(b5.InputArea([Y.atr("style","height: 1.5em")],fI.get_ValueVar()))]),_2.hoverable(Y.td([Y.title("remove"),Y.style(" cursor: pointer "),Y.htmlText("x"),new _1({$:7,$0:b7.Handler("click",function(){return function(){fI.Remove();return b9.Set(dZ,null);};})})]))]);},fG.get_Keys()),bN.delay(function(){return[Y.tr([_2.hoverable(Y.td([Y.htmlText("Add..."),new _1({$:7,$0:b7.Handler("click",function(){return function(){fG.Add("","1");fy();return b9.Set(dZ,null);};})})])),Y.td([Y.htmlText("")])])];}));}));})));}function fA(fF){function fG(fI){return fI.properties;}function fH(fI,fJ){return s.New(fI.name,fI.content,fI.parent,fI.predecessors,fI.id,fI.expanded,fI.level,fI.levelCode,fJ);}return ed(new bR.New$5(),function(fI){return bs.codeSnippets().TryFindByKey(fI);},function(fI){return bs.codeSnippets().LensInto(fG,fH,fI);},fF);}function fB(fF){return new Z({$:1,$0:fF});}function fC(fF,fG){var fH,fI;function fJ(fK,fL,fM){return fI>=fL&&fI<fM?{$:1,$0:fK}:null;}fH=fF.value;fI=fF.selectionStart;return fk(bN.pick(function(fK){return fJ(fK[0],fK[1],fK[2]);},(bN.mapFold(function(fK,fL){return[[fL,fK,fK+fL.length+1],fK+fL.length+1];},0,bM.SplitChars(fH,["\n"],0)))[0]));}function fD(fF){fn(1000);fn(2000);fn(3000);ea.SetLayoutJson(d6,fF);}function fE(fF){!bL.contains(fF,eb.c)?b9.Set(eb,new bL.T({$:1,$0:fF,$1:eb.c})):void 0;fn(300);}cs=b9.Create$1("");ct=b9.Create$1(r.get_New());cu="CodeEditor."+"currentCodeSnippetId";cv=a.localStorage.getItem(cu);cv!==null?ct.set_RVal((bD.j$3())(bW.parse(cv))):void 0;Z.sink(function(fF){a.localStorage.setItem(cu,bW.stringify((bE.j$1())(fF)));},ct);cw=b9.Create$1();cx=Z.map2(function(fF){return function(){return bs.codeSnippets().TryFindByKey(fF);};},ct,cw);cy=b9.Create$1(bt.Below);cz="CodeEditor."+"position";cA=a.localStorage.getItem(cz);cA!==null?cy.set_RVal((bD.j$4())(bW.parse(cA))):void 0;Z.sink(function(fF){a.localStorage.setItem(cz,bW.stringify((bE.j$2())(fF)));},cy);Z.map(function(fF){return fF.$==1&&true;},cy);cB=Z.map(function(fF){return bT.Equals(by.FetchO(fF),null);},ct);cC=(cD=Z.map((cE=(cF=function(fF){return fF==null?null:eh(fF.$0);},function(fF){return cF(by.FetchO(fF));}),function(fF){return ei(cE(fF));}),ct),(cG=[b9.Create$1(null)],(b4.Sink(function(fF){if(!bT.Equals(cG[0].c,fF))b9.Set(cG[0],fF);},Z.toView(cD)),new Z({$:1,$0:cG[0]}))));cH=(cI=Z.map((cJ=(cK=function(fF){return fF==null?null:ej(fF.$0);},function(fF){return cK(by.FetchO(fF));}),function(fF){return ek(cJ(fF));}),ct),(cL=[b9.Create$1(null)],(b4.Sink(function(fF){if(!bT.Equals(cL[0].c,fF))b9.Set(cL[0],fF);},Z.toView(cI)),new Z({$:1,$0:cL[0]}))));cM=(cN=Z.map((cO=(cP=function(fF){return fF==null?null:el(fF.$0);},function(fF){return cP(by.FetchO(fF));}),function(fF){return em(cO(fF));}),ct),(cQ=[b9.Create$1(null)],(b4.Sink(function(fF){if(!bT.Equals(cQ[0].c,fF))b9.Set(cQ[0],fF);},Z.toView(cN)),new Z({$:1,$0:cQ[0]}))));cR=(cS=Z.map((cT=(cU=function(fF){return fF==null?null:en(fF.$0);},function(fF){return cU(by.FetchO(fF));}),function(fF){return eo(cT(fF));}),ct),(cV=[b9.Create$1(null)],(b4.Sink(function(fF){if(!bT.Equals(cV[0].c,fF))b9.Set(cV[0],fF);},Z.toView(cS)),new Z({$:1,$0:cV[0]}))));cW=(cX=Z.map((cY=(cZ=function(fF){return fF==null?null:ep(fF.$0);},function(fF){return cZ(by.FetchO(fF));}),function(fF){return eq(cY(fF));}),ct),(c0=[b9.Create$1(null)],(b4.Sink(function(fF){if(!bT.Equals(c0[0].c,fF))b9.Set(c0[0],fF);},Z.toView(cX)),new Z({$:1,$0:c0[0]}))));c1=er("DisableParse");c2=Z.map2(function(fF){return function(fG){return fF||fG;};},c1,er("DisableFSI"));c3=Z.map2(function(fF){return function(fG){return fF||fG;};},c1,er("DisableFable"));c4=Z.map2(function(fF){return function(fG){return fF||fG;};},c1,er("DisableWebSharper"));c5=null;c6=new m.New(function(fF){return d.defaultValue(new ck.New$3(),fF==null?null:{$:1,$0:new ck.New$2(fF.$0.UniquePredecessors(by.FetchO))});});c7=b9.Create$1("");c8=b9.Create$1("");c9=b9.Create$1("");c_=b9.Create$1("");c$=false;da=b9.Create$1(false);Z.sink(function(fF){a.onbeforeunload=fF?function(fG){fG.returnValue="Changes you made may not be saved.";}:null;},da);db=r.get_New();bz.set_addOutMsg(ex);dc=(dd=a.location.origin+"/Main.html",(bI.Curried3(eK))(dd));de=new w.New(bs.fsIds(),{$:1,$0:bs.fsIds()},null,{$:1,$0:a.location.href});bO.Start((df=null,bO.Delay(function(){return bO.Bind(bO.Sleep(1000),function(){de.get_MessagingClient().AwaitMessage(eS);return bO.Zero();});})),null);dg=Z.map(function(fF){var fG,fH;fG=null;return c6.cache.TryGetValue(fF,{get:function(){return fG;},set:function(fI){fG=fI;}})?fG:(fH=c6.f(fF),(c6.cache.set_Item(fF,fH),fH));},cx);dh=0;di=b9.Create$1("");Z.map(function(fF){return fF==="";},di);dj="CodeEditorFileSel";dk=_4.New$2(b9.Lens(di,e5,a.id)).Prefix$1(Y.label([Y["class"]("btn btn-primary"),Y.htmlText("Load File..."),_4.New$2(di).Type("file").Style("display: none").Content([b7.Handler("change",function(fF){return function(){return e8(fF);};}),b7.Handler("click",function(fF){return function(){fF.value="";};})]).Id(dj).get_Render()]));cr!==""?bO.Start((dl=null,bO.Delay(function(){return bO.Bind(bO.Sleep(3000),function(){var fF;((function(fG){return function(fH){return fG("loading "+bK.toSafe(fH)+"...");};}(function(fG){bP.log(fG);}))(cr));fF=cn.getJSON(cr+"?t="+a.String(bX.now()));fF.done(function(){return e7(fF.responseText);});return bO.Zero();});})),null):void 0;dm=new X.New("FSharpStation",{$:1,$0:a.location.href});dn=bs.fsIds()+".fsx";_do=b4.GetAsync(Z.toView(c1));dp=1;dq=false;dr="\\((\\d+)\\) F# (.+).fsx\\((\\d+)\\,(\\d+)\\): (error|warning) ((.|\\b)+)";ds="(Err|Warning|Info)(FSharp|WebSharper)\\s+\"(\\((\\d+)\\) ?)?F?#? ?(.+?)(.fsx)? \\((\\d+)\\,\\s*(\\d+)\\) - \\((\\d+)\\,\\s*(\\d+)\\) ((.|\\s)+?)"+"\"";dt=dr+"|"+ds;du=_9.New$2((dv=Z.toView(Z.fixit(ct)),(dw=b9.Create$1(null),(dx=[null],(dy=[0],(dz=[0],(b4.Sink(function(){var fF,fG;fF=dx[0];fF==null?void 0:(fG=fF.$0,dy[0]>dz[0]?dz[0]=dy[0]:!bT.Equals(fG.RVal(),dw.c)?(dz[0]=dz[0]+1,fG.set_RVal(dw.c)):void 0);},dw.v),b4.Sink(function(){var fF,fG;fF=dx[0];fF==null?void 0:(fG=fF.$0,dz[0]>dy[0]?dy[0]=dz[0]:!bT.Equals(fG.RVal(),dw.c)?(dy[0]=dy[0]+10,b9.Set(dw,fG.RVal())):void 0);},b4.Bind(function(fF){var fG;fG=eg(fF);dx[0]={$:1,$0:fG};dz[0]=dy[0]+100;b9.Set(dw,fG.RVal());return fG.RView();},dv)),dw))))))).OnChange(function(){var fF;c5!=null&&c5.$==1&&(bT.Equals(c5.$0[0],ct.c)&&(fF=[c5.$0[0],c5.$0[2]],true))?es():et();}).OnRender(function(fF){fF.addKeyMap(bv.New(ff,ff,function(fG){_2.showHints(fF,function(fH){return fg(fH[0],fH[1],fH[2]);},false,fG);}));_2.setLint(fF,function(fG){return fh(fG[0],fG[1],fG[2],fG[3]);});Z.sink(function(fG){var fH;bO.Start((fH=null,bO.Delay(function(){fF.setOption("theme",fG);return bO.Bind(bO.Sleep(50),function(){fF.refresh();return bO.Zero();});})),null);},cR);Z.sink(function(fG){fF.setOption("mode",fG);},cM);}).Style("height: 100%");dA=du.get_Render().AddChildren([new _1({$:7,$0:b7.Handler("dblclick",function(){return function(){return ff(du.editorO.$0);};})}),Y.htmlElement("menu",[Y.type("context"),Y.Id("right-menu"),Y.htmlElement("menuitem",[Y.htmlAttribute("label","Goto Definition"),new _1({$:7,$0:b7.Handler("click",function(){return function(){return fl();};})})])]),Y.htmlAttribute("contextmenu","right-menu")]);Z.sink(function(){var fF;bO.Start((fF=null,bO.Delay(function(){var fG,fH,fI;return!c$?bO.Zero():(fG=du.editorO,fG!=null&&fG.$==1?(fH=fG.$0,(fI=by.FetchO(ct.c),fI!=null&&fI.$==1?bO.Bind(dm.MustParse(dn,fI.$0.get_NameSanitized()),function(fJ){return fJ?bO.Zero():(fH.performLint(),bO.Zero());}):bO.Zero())):bO.Zero());})),null);},c9);dB=b9.Create$1();dC=bj.New$1("Load...").OnClick(function(fF){return function(fG){return e_(fF,fG);};});dD=bj.New$1("Save as...").OnClick(bI.Curried(_2.Do,2,[e9,null])).Highlight(da);dE=bj.New$1("Add Snippet").OnClick(bI.Curried(_2.Do,2,[e3,null]));dF=bj.New$1("Delete Snippet").OnClick(bI.Curried(_2.Do,2,[e4,null])).Disabled(cB);dG=bj.New$1("Indent In  >>").OnClick(bI.Curried(_2.Do,2,[eB,null])).Disabled(cB);dH=bj.New$1("Indent Out <<").OnClick(bI.Curried(_2.Do,2,[eC,null])).Disabled(cB);dI=bj.New$1("Get F# Code").OnClick(bI.Curried(_2.Do,2,[ez,null])).Disabled(c1);dJ=bj.New$1("Run FSI").OnClick2(function(fF){return fq(function(fG){return function(fH){return ft(fG,fH);};},null,fF);}).Disabled(c2);dK=bj.New$1("Run Fable").OnClick2(function(fF){return fq(function(fG){return function(fH){return fu(fG,fH);};},null,fF);}).Disabled(c3);dL=bj.New$1("Run WebSharper in new tab").OnClick2((dM=bt.NewBrowser,function(fF){return fq(function(fG){return function(fH){return fv(fG,fH);};},dM,fF);})).Disabled(c4);dN=bj.New$1("Run WebSharper in WS Result").OnClick2((dO=bt.Below,function(fF){return fr(function(fG){return function(fH){return fv(fG,fH);};},dO,fF);})).Disabled(c4);dP=bj.New$1("Run WebSharper in ...").OnClick(bI.Curried(fp,2,[fw,null])).Disabled(c4);dQ=bj.New$1("Parse F#").OnClick(bI.Curried(fo,2,[fx,null])).Disabled(c1);dR=bj.New$1("Compile WebSharper").OnClick((dS=function(fF){return eD(eL(fF));},bI.Curried(fo,2,[dS,null]))).Disabled(c4);dT=bj.New$1("Find Definition").OnClick(bI.Curried(_2.Do,2,[fl,null])).Disabled(c1);dU=bj.New$1("Refresh CodeMirror").OnClick(bI.Curried(_2.Do,2,[fm,null]));dV=Y.div([dE.get_Button().get_Render(),dH.get_Button().get_Render(),dG.get_Button().get_Render(),dk.get_Render().AddChildren([Y.style("grid-column: 4/6")]),dJ.get_Button().get_Render(),dK.get_Button().get_Render(),dP.get_Button().get_Render(),dF.get_Button().get_Render(),dT.get_Button().get_Render(),Y.span([]),dD.get_Button().get_Render(),Y.span([]),dI.get_Button().get_Render(),dQ.get_Button().get_Render(),Y.someElt(b5.Select([b8.Create("id","Position")],function(fF){return fF.$==1?"Right":fF.$==2?"In Tab":fF.$==3?"New Browser":"Below";},bL.ofArray([bt.NewBrowser,bt.Below]),cy)),Y.style("\n                    overflow: hidden;\n                    display: grid;\n                    grid-template-columns: repeat(8, 12.1%);\n                    bxackground-color: #eee;\n                    padding : 5px;\n                    grid-gap: 5px;\n                ")]);dW=bi.New2([bg.New$2("File").SubMenu([dC.get_MenuEntry(),dD.get_MenuEntry()]),bg.New$2("Code").SubMenu([dE.get_MenuEntry(),dF.get_MenuEntry(),bg.New$2("").get_Divider(),dG.get_MenuEntry(),dH.get_MenuEntry(),bg.New$2("").get_Divider(),dT.get_MenuEntry(),bg.New$2("").get_Divider(),dI.get_MenuEntry(),bg.New$2("").get_Divider(),dU.get_MenuEntry()]),bg.New$2("Run").SubMenu([dJ.get_MenuEntry(),dK.get_MenuEntry(),bg.New$2("").get_Divider(),dL.get_MenuEntry(),dN.get_MenuEntry(),bg.New$2("").get_Divider(),dQ.get_MenuEntry(),dR.get_MenuEntry()])]);dX=bi.New2([bg.New$2("About").SubMenu([bg.New$1("Source @ GitHub","https://github.com/amieres/FSharpStation").Target("_blank")])]);dY=_2.navbar(Y.h1([Y.htmlText("F# Station"),Y.style("font-size: 48px; margin-top: -17px")]),dW.get_Render(),dX.get_Render());dZ=b9.Create$1();d0=Y.div([new _1({$:5,$0:Z.map2(function(fF){return function(fG){return fz(fF,fG);};},dZ,Z.bind(function(fF){return fB(fA(fF));},ct))}),Y.css(" td.hovering { background: gray; } ")]);d1="CodeEditor."+"splitterV1";d2=bc.New$1(20).Children([Y.style("grid-row: 2 / 4")]).get_Var();d3=a.localStorage.getItem(d1);d3!==null?d2.set_RVal(((cg.Id())())(bW.parse(d3))):void 0;Z.sink(function(fF){a.localStorage.setItem(d1,bW.stringify(((cg.Id())())(fF)));},d2);d4=Y.bindHElem(function(fF){return Y.div(bL.ofSeq(bN.delay(function(){return bN.append([Y.style("overflow: auto")],bN.delay(function(){return bN.append(bN.choose(a.id,(bN.mapFold(function(fG,fH){var fI,fJ,fK,fL,fM;fI=fH[1];return d.defaultValue(true,(fJ=fI.parent,fJ==null?null:{$:1,$0:fG.Contains(fJ.$0)}))?(fK=d.defaultValue(false,(fL=bN.tryItem(fH[0]+1,bs.codeSnippets()),fL==null?null:{$:1,$0:bT.Equals(fL.$0.parent,{$:1,$0:fI.id})})),(fM=fK&&fI.expanded,[{$:1,$0:eX(fK,fM,fI)},fM?fG.Add(fI.id):fG])):[null,fG];},new ca.New(bL.T.Empty),bN.indexed(fF)))[0]),bN.delay(function(){return bN.append([new _1({$:7,$0:b7.Handler("scroll",function(fG){return function(){dh=fG.scrollTop;};})})],bN.delay(function(){return[new _1({$:7,$0:b7.OnAfterRender(function(fG){fG.scrollTop=dh;})})];}));}));}));})));},(d5=bs.codeSnippets().v,b4.SnapshotOn((bs.codeSnippets())["var"].RVal(),cw.v,d5)));d6=bo.AddGuids([["actLoadFile",new bk({$:2,$0:dC})],["actSaveFile",new bk({$:2,$0:dD})],["actAddSnippet",new bk({$:2,$0:dE})],["actDeleteSnippet",new bk({$:2,$0:dF})],["actIndentSnippet",new bk({$:2,$0:dG})],["actOutdentSnippet",new bk({$:2,$0:dH})],["actGetFsCode",new bk({$:2,$0:dI})],["actEvalCode",new bk({$:2,$0:dJ})],["actRunFable",new bk({$:2,$0:dK})],["actRunWSNewTab",new bk({$:2,$0:dL})],["actRunWSHere",new bk({$:2,$0:dN})],["actRunWSIn",new bk({$:2,$0:dP})],["actParseCode",new bk({$:2,$0:dQ})],["actCompileWS",new bk({$:2,$0:dR})],["actFindDefinition",new bk({$:2,$0:dT})],["Output",new bk({$:1,$0:_6.New$2(c_).Placeholder("Output:").Title("Output").RenderWith(bL.ofArray([b7.Handler("dblclick",function(fF){return function(fG){return fC(fF,fG);};})]))})],["Parser",new bk({$:1,$0:_6.New$2(c9).Placeholder("Parser messages:").Title("Parser").RenderWith(bL.ofArray([b7.Handler("dblclick",function(fF){return function(fG){return fC(fF,fG);};})]))})],["JavaScript",new bk({$:1,$0:_6.New$2(c8).Placeholder("Javascript:").Title("JavaScript code generated").get_Render()})],["F# code",new bk({$:1,$0:_6.New$2(c7).Placeholder("F# code:").Title("F# code assembled").get_Render()})],["Properties",new bk({$:1,$0:d0})],["WS Result",new bk({$:1,$0:Y.div([Y.div([Y.Id("TestNode"),Y.style("background: white; height: 100%; width: 100%; ")])])})],["title",new bk({$:1,$0:_4.New$2((d7=Z.toView(Z.fixit(ct)),(d8=b9.Create$1(null),(d9=[null],(d_=[0],(d$=[0],(b4.Sink(function(){var fF,fG;fF=d9[0];fF==null?void 0:(fG=fF.$0,d_[0]>d$[0]?d$[0]=d_[0]:!bT.Equals(fG.RVal(),d8.c)?(d$[0]=d$[0]+1,fG.set_RVal(d8.c)):void 0);},d8.v),b4.Sink(function(){var fF,fG;fF=d9[0];fF==null?void 0:(fG=fF.$0,d$[0]>d_[0]?d_[0]=d$[0]:!bT.Equals(fG.RVal(),d8.c)?(d_[0]=d_[0]+10,b9.Set(d8,fG.RVal())):void 0);},b4.Bind(function(fF){var fG;fG=ef(fF);d9[0]={$:1,$0:fG};d$[0]=d_[0]+100;b9.Set(d8,fG.RVal());return fG.RView();},d7)),d8))))))).Prefix$1(Y.htmlText("name:")).get_Render()})],["code",new bk({$:1,$0:dA})],["snippets",new bk({$:1,$0:d4})],["buttons",new bk({$:1,$0:dV})],["menu",new bk({$:1,$0:dY})],["messagesR",new bk({$:4,$0:true,$1:["Properties"]})],["messagesB1",new bk({$:4,$0:true,$1:["Output","JavaScript","F# code"]})],["messagesB2",new bk({$:4,$0:true,$1:["Parser","WS Result"]})],["messagesB",_2.varVerSplitter(55,"messagesB1","messagesB2",0,100)],["title_code",_2.fixedHorSplitter(true,34,"title","code")],["code_props",_2.varVerSplitter(85,"title_code","messagesR",25,100)],["code_buttons",_2.fixedHorSplitter(false,80,"code_props","buttons")],["snippets_code",_2.varVerSplitter(15,"snippets","code_buttons",5,95)],["main_messages",_2.varHorSplitter(82,"snippets_code","messagesB",35,100)],["main",_2.fixedHorSplitter(true,50,"menu","main_messages")]]);ea=bo.New$1(d6);a.addLayoutJson=fD;Z.sink(fD,cW);Z.sink(function(){ea.SelectTab("Output");},c_);Z.sink(function(){ea.SelectTab("WS Result");},dB);eb=b9.Create$1(bL.ofArray(["/EPFileX/css/main.css"]));Z.sink(fE,cH);Z.sink(function(fF){if(fF!=="")fE((function(fG){return function(fH){return fG("/EPFileX/codemirror/content/theme/"+bK.toSafe(fH)+".css");};}(a.id))(fF));},cR);ec=Y.div([Y.style("height: 100vh; width: 100% "),ea.get_Render().Style("height: 100%; width: 100% "),Y.script([Y.src("/EPFileX/FileSaver/FileSaver.js"),Y.type("text/javascript")]),Y.script([Y.src("http://code.jquery.com/jquery-3.1.1.min.js"),Y.type("text/javascript")]),Y.script([Y.src("http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"),Y.type("text/javascript")]),Y.link([Y.href("http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"),Y.type("text/css"),Y.rel("stylesheet")]),Y.css("\n      \n        body { margin: 0px }     \n             \n        div textarea {\n            font-family     : monospace;\n        }\n        .code-editor-list-tile {\n            white-space     : nowrap; \n            border-style    : solid none none;\n            border-color    : white;\n            border-width    : 1px;\n            background-color: #D8D8D8;\n            display         : flex;\n        }\n        .code-editor-list-text{\n            padding         : 1px 10px 1px 5px;\n            overflow        : hidden;\n            text-overflow   : ellipsis;\n            white-space     : nowrap;\n            flex            : 1;\n        }\n        \n        .code-editor-list-tile.direct-predecessor {\n            font-weight     : bold;\n        }\n        .code-editor-list-tile.indirect-predecessor {\n            color           : blue;\n        }\n        .code-editor-list-tile.selected {\n            background-color: #77F;\n            color           : white;\n        }\n        .code-editor-list-tile.hovering {\n            background      : lightgray;\n        }\n        .code-editor-list-tile.hovering.selected {\n            background      : blue;\n        }\n        .code-editor-list-tile>.predecessor {\n            font-weight     : bold;\n            border-style    : inset;\n            border-width    : 1px;\n            text-align      : center;\n            color           : transparent;\n        }\n        .code-editor-list-tile.direct-predecessor>.predecessor {\n            color           : blue;\n        }\n        \n        .CodeMirror { height: 100%; }\n        \n        .node {\n            background-color: white; \n            width           : 2ch; \n            color           : #A03; \n            font-weight     : bold; \n            text-align      : center;\n            font-family     : arial;\n        }\n        .Warning { text-decoration: underline lightblue } \n        .Error   { text-decoration: underline red       } \n        .body    { margin         : 0px                 }\n        "),Y.style(" \n                color      : #333;\n                font-size  : small;\n                font-family: monospace;\n                line-height: 1.2;\n                    "),new _1({$:5,$0:Z.map(function(fF){return Y.div(bL.ofSeq(bN.delay(function(){return bN.map(function(fG){return Y.link([Y.href(fG),Y.type("text/css"),Y.rel("stylesheet")]);},fF);})));},eb)}),Y.css(cC)]);return(Y.renderDoc())(ec);};bC.$cctor=function(){var cr,cs,ct,cu,cv,cw,cx,cy,cz;bC.$cctor=a.ignore;function cA(cB,cC){return new _1({$:7,$0:b7.Style(cB,cC)});}bC.result=new i.New();bC.errOptionIsNone=new f.New();bC.wrapper=new k.New();cs=p.selectF(function(cB){return(new bV.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.awaitRequestFor:-439983525",[cB]);},void 0);bC.awaitRequestForF=cs;cu=p.selectF(bI.Curried3(function(cB,cC,cD){return(new bV.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.sendRequest:-426626804",[cB,cC,cD]);}),void 0);bC.sendRequestF=cu;cw=p.selectF(function(cB){return function(cC){return(new bV.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.replyTo:-1092841374",[cB,cC]);};},void 0);bC.replyToF=cw;bC.AsyncStartF=p.selectF(function(cB){p.AsyncStart(cB);},function(cB){bO.Start(cB,null);});bC.renderDoc=(cx=(cy=b5.Empty(),function(cB){return cB==null?cy:cB.$0;}),function(cB){return cx(Y.chooseNode(cB));});bC.string2Styles=(cz=function(cB){return bS.map(function(cC){return cA(cC[0],cC[1]);},cB);},function(cB){return cz(Y.style2pairs(cB));});bC.codeMirrorIncludes=["/EPFileX/codemirror/scripts/codemirror/codemirror.js","/EPFileX/codemirror/scripts/intellisense.js","/EPFileX/codemirror/scripts/codemirror/codemirror-intellisense.js","/EPFileX/codemirror/scripts/codemirror/codemirror-compiler.js","/EPFileX/codemirror/scripts/codemirror/mode/none.js","/EPFileX/codemirror/scripts/codemirror/mode/fsharp.js","/EPFileX/codemirror/scripts/codemirror/mode/css.js","/EPFileX/codemirror/scripts/codemirror/mode/javascript.js","/EPFileX/codemirror/scripts/codemirror/mode/markdown.js","/EPFileX/codemirror/scripts/addon/search/searchcursor.js","/EPFileX/codemirror/scripts/addon/search/search.js","/EPFileX/codemirror/scripts/addon/search/jump-to-line.js","/EPFileX/codemirror/scripts/addon/dialog/dialog.js","/EPFileX/codemirror/scripts/addon/edit/matchbrackets.js","/EPFileX/codemirror/scripts/addon/selection/active-line.js","/EPFileX/codemirror/scripts/addon/display/fullscreen.js","/EPFileX/codemirror/scripts/addon/hint/show-hint.js","/EPFileX/codemirror/scripts/addon/lint/lint.js"];bC.observers=bL.T.Empty;bC.draggedTab=[null];bC.selectedPanels=b9.Create$1(new co.New([]));bC.TabMoved=null;bC.codeSnippets=cp.Create(function(cB){return cB.id;},bL.T.Empty);bC.fsIds="FSharpStation"+a.String(bX.now());bC.references=["mscorlib.dll","System.dll","System.Core.dll","System.Data.dll","System.IO.dll","System.Xml.dll","System.Numerics.dll","FSharp.Core.sigdata","FSharp.Core.dll","Fable.Core.dll","Fable.Import.Browser.dll"];bC.loadReferences=cq.Create(function(){var cB;bO.Start((cB=null,bO.Delay(function(){return bO.Bind(Y.LoadFilesAsync(["https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.2/require.min.js"]),function(){var cC;cC=ch.create(null);cC.skipDataMain=1;cC.isBrowser=1;a.require.config(cC);bN.iter(function(cD){a.getFileBlob(cD,"metadata/"+cD);},bz.references());return bO.Zero();});})),null);});bC.getChecker=cq.Create(function(){return ci.createChecker(function(cB){return a.metadata[cB];},bS.choose(function(cB){return cB.indexOf("sigdata")!=-1?null:{$:1,$0:bM.Replace(cB,".dll","")};},bz.references()));});bC.addOutMsg=function(cB){bP.log(cB);};};bD.j=function(){return bD._v?bD._v:bD._v=(cg.DecodeUnion(void 0,"$",[[0,[["$0","Item",cg.Id(),0]]],[1,[["$0","Item",cg.Id(),1]]],[2,[["$0","Item",bD.j$2,1]]],[3,[["$0","Item",cg.DecodeArray(bD.j$2),0]]],[4,[["$0","Item1",cg.Id(),1],["$1","Item2",cg.DecodeArray(cg.DecodeTuple([cg.Id(),bD.j$1])),0]]]]))();};bD.j$2=function(){return bD._v$2?bD._v$2:bD._v$2=(cg.DecodeRecord(s,[["name",cg.Id(),0],["content",cg.Id(),0],["parent",bD.j$3,1],["predecessors",cg.DecodeList(bD.j$3),0],["id",bD.j$3,0],["expanded",cg.Id(),0],["level",cg.Id(),0],["levelCode",cg.Id(),0],["properties",cg.DecodeStringDictionary(cg.Id()),0]]))();};bD.j$3=function(){return bD._v$3?bD._v$3:bD._v$3=(cg.DecodeUnion(r,"$",[[0,[["$0","Item",cg.Id(),0]]]]))();};bD.j$1=function(){return bD._v$1?bD._v$1:bD._v$1=(cg.DecodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]]]))();};bE.j=function(){return bE._v?bE._v:bE._v=(cg.EncodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",cg.Id(),0]]],[2,[["$0","Item",bE.j$1,0]]],[3,[["$0","Item",bE.j$1,0]]],[4,[["$0","Item",bE.j$1,0]]],[5,[["$0","Item",bE.j$1,0]]],[6,[["$0","Item",cg.EncodeArray(cg.Id()),0]]],[7,[["$0","Item",cg.EncodeArray(cg.Id()),0]]],[8,[["$0","Item",cg.EncodeArray(cg.Id()),0]]],[9,[["$0","Item",cg.EncodeArray(cg.Id()),0]]],[10,[["$0","Item",cg.EncodeArray(cg.Id()),0]]],[11,[]],[12,[["$0","Item1",bE.j$1,0],["$1","Item2",cg.Id(),0]]],[13,[["$0","Item1",cg.EncodeArray(cg.Id()),0],["$1","Item2",cg.Id(),0]]]]))();};bE.j$1=function(){return bE._v$1?bE._v$1:bE._v$1=(cg.EncodeUnion(r,"$",[[0,[["$0","Item",cg.Id(),0]]]]))();};bF.p$3=function(cr){return cr.$==17?"KMultiple "+bK.printArray(function(cs){return bF.p$3(cs);},cr.$0):cr.$==16?"KUnionCase "+bG.p$21(cr.$0):cr.$==15?"KNamespaces "+bG.p$18(cr.$0):cr.$==14?"KCompilerLocation "+bG.p$17(cr.$0):cr.$==13?"KSignatureData "+bG.p$15(cr.$0):cr.$==12?"KTypeSig "+bK.prettyPrint(cr.$0):cr.$==11?"KToolTip "+bK.printArray(function(cs){return bK.printArray(function(ct){return bG.p$2(ct);},cs);},cr.$0):cr.$==10?"KDeclarations "+bK.printArray(function(cs){return bG.p$13(cs);},cr.$0):cr.$==9?"KFindDecl "+bG.p$12(cr.$0):cr.$==8?"KColorizations "+bK.printList(function(cs){return bG.p$11(cs);},cr.$0):cr.$==7?"KErrors "+bG.p$9(cr.$0):cr.$==6?"KMethod "+bG.p$6(cr.$0):cr.$==5?"KHelp "+bK.prettyPrint(cr.$0):cr.$==4?"KSymbolUse "+bG.p$4(cr.$0):cr.$==3?"KCompletion "+bK.printArray(function(cs){return bG.p$3(cs);},cr.$0):cr.$==2?"KHelpText "+bG.p$1(cr.$0):cr.$==1?"KError "+bG.p(cr.$0):"KInfo "+bK.prettyPrint(cr.$0);};bG.p$21=function(cr){return"{"+("Text = "+bK.prettyPrint(cr.Text))+"}";};bG.p$18=function(cr){return"{"+("Opens = "+bK.printArray(function(cs){return bG.p$19(cs);},cr.Opens))+"; "+("Qualifies = "+bK.printArray(function(cs){return bG.p$20(cs);},cr.Qualifies))+"; "+("Word = "+bK.prettyPrint(cr.Word))+"}";};bG.p$20=function(cr){return"{"+("Name = "+bK.prettyPrint(cr.Name))+"; "+("Qualifier = "+bK.prettyPrint(cr.Qualifier))+"}";};bG.p$19=function(cr){return"{"+("Namespace = "+bK.prettyPrint(cr.Namespace))+"; "+("Name = "+bK.prettyPrint(cr.Name))+"; "+("Type = "+bK.prettyPrint(cr.Type))+"; "+("Line = "+bK.prettyPrint(cr.Line))+"; "+("Column = "+bK.prettyPrint(cr.Column))+"; "+("MultipleNames = "+bK.prettyPrint(cr.MultipleNames))+"}";};bG.p$17=function(cr){return"{"+("Fsc = "+bK.prettyPrint(cr.Fsc))+"; "+("Fsi = "+bK.prettyPrint(cr.Fsi))+"; "+("MSBuild = "+bK.prettyPrint(cr.MSBuild))+"}";};bG.p$15=function(cr){return"{"+("OutputType = "+bK.prettyPrint(cr.OutputType))+"; "+("Parameters = "+bK.printList(function(cs){return bK.printList(function(ct){return bG.p$16(ct);},cs);},cr.Parameters))+"}";};bG.p$16=function(cr){return"{"+("Name = "+bK.prettyPrint(cr.Name))+"; "+("Type = "+bK.prettyPrint(cr.Type))+"}";};bG.p$13=function(cr){return"{"+("Declaration = "+bG.p$14(cr.Declaration))+"; "+("Nested = "+bK.printArray(function(cs){return bG.p$14(cs);},cr.Nested))+"}";};bG.p$14=function(cr){return"{"+("UniqueName = "+bK.prettyPrint(cr.UniqueName))+"; "+("Name = "+bK.prettyPrint(cr.Name))+"; "+("Glyph = "+bK.prettyPrint(cr.Glyph))+"; "+("GlyphChar = "+bK.prettyPrint(cr.GlyphChar))+"; "+("IsTopLevel = "+bK.prettyPrint(cr.IsTopLevel))+"; "+("File = "+bK.prettyPrint(cr.File))+"; "+("EnclosingEntity = "+bK.prettyPrint(cr.EnclosingEntity))+"; "+("IsAbstract = "+bK.prettyPrint(cr.IsAbstract))+"}";};bG.p$12=function(cr){return"{"+("File = "+bK.prettyPrint(cr.File))+"; "+("Line = "+bK.prettyPrint(cr.Line))+"; "+("Column = "+bK.prettyPrint(cr.Column))+"}";};bG.p$11=function(cr){return"{"+("Kind = "+bK.prettyPrint(cr.Kind))+"}";};bG.p$9=function(cr){return"{"+("File = "+bK.prettyPrint(cr.File))+"; "+("Errors = "+bK.printArray(function(cs){return bG.p$10(cs);},cr.Errors))+"}";};bG.p$10=function(cr){return"{"+("FileName = "+bK.prettyPrint(cr.FileName))+"; "+("StartLine = "+bK.prettyPrint(cr.StartLine))+"; "+("EndLine = "+bK.prettyPrint(cr.EndLine))+"; "+("StartColumn = "+bK.prettyPrint(cr.StartColumn))+"; "+("EndColumn = "+bK.prettyPrint(cr.EndColumn))+"; "+("Message = "+bK.prettyPrint(cr.Message))+"; "+("Subcategory = "+bK.prettyPrint(cr.Subcategory))+"}";};bG.p$6=function(cr){return"{"+("Name = "+bK.prettyPrint(cr.Name))+"; "+("CurrentParameter = "+bK.prettyPrint(cr.CurrentParameter))+"; "+("Overloads = "+bK.printList(function(cs){return bG.p$7(cs);},cr.Overloads))+"}";};bG.p$7=function(cr){return"{"+("Tip = "+bK.printList(function(cs){return bK.printList(function(ct){return bG.p$2(ct);},cs);},cr.Tip))+"; "+("TypeText = "+bK.prettyPrint(cr.TypeText))+"; "+("Parameters = "+bK.printList(function(cs){return bG.p$8(cs);},cr.Parameters))+"; "+("IsStaticArguments = "+bK.prettyPrint(cr.IsStaticArguments))+"}";};bG.p$8=function(cr){return"{"+("Name = "+bK.prettyPrint(cr.Name))+"; "+("CanonicalTypeTextForSorting = "+bK.prettyPrint(cr.CanonicalTypeTextForSorting))+"; "+("Display = "+bK.prettyPrint(cr.Display))+"; "+("Description = "+bK.prettyPrint(cr.Description))+"}";};bG.p$4=function(cr){return"{"+("Name = "+bK.prettyPrint(cr.Name))+"; "+("Uses = "+bK.printList(function(cs){return bG.p$5(cs);},cr.Uses))+"}";};bG.p$5=function(cr){return"{"+("FileName = "+bK.prettyPrint(cr.FileName))+"; "+("StartLine = "+bK.prettyPrint(cr.StartLine))+"; "+("StartColumn = "+bK.prettyPrint(cr.StartColumn))+"; "+("EndLine = "+bK.prettyPrint(cr.EndLine))+"; "+("EndColumn = "+bK.prettyPrint(cr.EndColumn))+"; "+("IsFromDefinition = "+bK.prettyPrint(cr.IsFromDefinition))+"; "+("IsFromAttribute = "+bK.prettyPrint(cr.IsFromAttribute))+"; "+("IsFromComputationExpression = "+bK.prettyPrint(cr.IsFromComputationExpression))+"; "+("IsFromDispatchSlotImplementation = "+bK.prettyPrint(cr.IsFromDispatchSlotImplementation))+"; "+("IsFromPattern = "+bK.prettyPrint(cr.IsFromPattern))+"; "+("IsFromType = "+bK.prettyPrint(cr.IsFromType))+"}";};bG.p$3=function(cr){return"{"+("Name = "+bK.prettyPrint(cr.Name))+"; "+("ReplacementText = "+bK.prettyPrint(cr.ReplacementText))+"; "+("Glyph = "+bK.prettyPrint(cr.Glyph))+"; "+("GlyphChar = "+bK.prettyPrint(cr.GlyphChar))+"}";};bG.p$1=function(cr){return"{"+("Name = "+bK.prettyPrint(cr.Name))+"; "+("Overloads = "+bK.printList(function(cs){return bK.printList(function(ct){return bG.p$2(ct);},cs);},cr.Overloads))+"}";};bG.p$2=function(cr){return"{"+("Signature = "+bK.prettyPrint(cr.Signature))+"; "+("Comment = "+bK.prettyPrint(cr.Comment))+"}";};bG.p=function(cr){return"{"+("Code = "+bK.prettyPrint(cr.Code))+"; "+("Message = "+bK.prettyPrint(cr.Message))+"}";};bE.j$4=function(){return bE._v$4?bE._v$4:bE._v$4=(cg.EncodeUnion(void 0,"$",[[0,[["$0","Item",cg.Id(),0]]],[1,[["$0","Item",cg.Id(),1]]],[2,[["$0","Item",bE.j$3,1]]],[3,[["$0","Item",cg.EncodeArray(bE.j$3),0]]],[4,[["$0","Item1",cg.Id(),1],["$1","Item2",cg.EncodeArray(cg.EncodeTuple([cg.Id(),bE.j$5])),0]]]]))();};bE.j$5=function(){return bE._v$5?bE._v$5:bE._v$5=(cg.EncodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]]]))();};bD.j$5=function(){return bD._v$5?bD._v$5:bD._v$5=(cg.DecodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",cg.Id(),0]]],[2,[["$0","Item",bD.j$3,0]]],[3,[["$0","Item",bD.j$3,0]]],[4,[["$0","Item",bD.j$3,0]]],[5,[["$0","Item",bD.j$3,0]]],[6,[["$0","Item",cg.DecodeArray(cg.Id()),0]]],[7,[["$0","Item",cg.DecodeArray(cg.Id()),0]]],[8,[["$0","Item",cg.DecodeArray(cg.Id()),0]]],[9,[["$0","Item",cg.DecodeArray(cg.Id()),0]]],[10,[["$0","Item",cg.DecodeArray(cg.Id()),0]]],[11,[]],[12,[["$0","Item1",bD.j$3,0],["$1","Item2",cg.Id(),0]]],[13,[["$0","Item1",cg.DecodeArray(cg.Id()),0],["$1","Item2",cg.Id(),0]]]]))();};bE.j$3=function(){return bE._v$3?bE._v$3:bE._v$3=(cg.EncodeRecord(s,[["name",cg.Id(),0],["content",cg.Id(),0],["parent",bE.j$1,1],["predecessors",cg.EncodeList(bE.j$1),0],["id",bE.j$1,0],["expanded",cg.Id(),0],["level",cg.Id(),0],["levelCode",cg.Id(),0],["properties",cg.EncodeStringDictionary(cg.Id()),0]]))();};bE.j$2=function(){return bE._v$2?bE._v$2:bE._v$2=(cg.EncodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};bD.j$4=function(){return bD._v$4?bD._v$4:bD._v$4=(cg.DecodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};bD.j$6=function(){return bD._v$6?bD._v$6:bD._v$6=(cg.DecodeUnion(void 0,"$",[[0,[["$0","Item",cg.Id(),0]]],[1,[["$0","Item",cg.DecodeArray(cg.Id()),0]]]]))();};bE.j$6=function(){return bE._v$6?bE._v$6:bE._v$6=(cg.EncodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",cg.Id(),0]]],[2,[]],[3,[]],[4,[]]]))();};bD.j$7=function(){return bD._v$7?bD._v$7:bD._v$7=(cg.DecodeRecord(void 0,[["GuiRoot",cg.Id(),1],["GuiTabStrip",cg.DecodeTuple([cg.Id(),cg.DecodeArray(cg.Id())]),1],["GuiSplit",cg.DecodeTuple([cg.Id(),cg.Id(),cg.Id(),cg.Id(),cg.Id(),cg.Id(),cg.Id(),cg.Id()]),1],["GuiNode",bD.j$8,1],["GuiCall",cg.DecodeTuple([cg.Id(),cg.Id(),cg.DecodeArray(cg.Id())]),1]]))();};bD.j$8=function(){return bD._v$8?bD._v$8:bD._v$8=(cg.DecodeRecord(void 0,[["HtmlElementF",cg.DecodeTuple([cg.Id(),cg.DecodeArray(bD.j$8)]),1],["HtmlAttributeF",cg.DecodeTuple([cg.Id(),cg.Id()]),1],["HtmlAttributeOF",cg.DecodeTuple([cg.Id(),bD.j$9]),1],["HtmlTextF",cg.Id(),1],["HtmlEmptyF",cg.Id(),1],["HtmlGuiPart",cg.Id(),1]]))();};bD.j$9=function(){return bD._v$9?bD._v$9:bD._v$9=(cg.DecodeUnion(void 0,"$",[null,[1,[["$0","Value",cg.Id(),0]]]]))();};bF.p=function(cr){return cr.$==2?"FSInfor":cr.$==1?"FSWarning":"FSError";};bF.p$1=function(cr){return cr.$==1?"Snippet Not Found "+bK.prettyPrint(cr.$0):"FSMessage ("+bK.prettyPrint(cr.$0)+", "+bF.p(cr.$1)+")";};bF.p$2=function(cr){return cr.$==2?"Could not open new browser, Popup blocker may be active":cr.$==1?"Snippet Missing":"JsCompilerMsg ("+bK.prettyPrint(cr.$0)+", "+bK.prettyPrint(cr.$1)+")";};}());
