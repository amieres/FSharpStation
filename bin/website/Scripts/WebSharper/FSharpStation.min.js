(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy;a=window;b=a.FSSGlobal=a.FSSGlobal||{};c=b.Useful=b.Useful||{};d=c.Option=c.Option||{};e=a.WebSharper;f=e&&e.Obj;g=c.ExceptionThrown=c.ExceptionThrown||{};h=c.ErrOptionIsNone=c.ErrOptionIsNone||{};i=c.ErrSimple=c.ErrSimple||{};j=c.Result=c.Result||{};k=j.ropBuilder=j.ropBuilder||{};l=c.Wrap=c.Wrap||{};m=l.Builder=l.Builder||{};n=c.Async=c.Async||{};o=c.Dict=c.Dict||{};p=c.String=c.String||{};q=c.ResetableMemoize=c.ResetableMemoize||{};r=c.PreproDirective=c.PreproDirective||{};s=b.FsStationShared=b.FsStationShared||{};t=s.MessagingClient=s.MessagingClient||{};u=s.GenSeverity=s.GenSeverity||{};v=s.CodeSnippetId=s.CodeSnippetId||{};w=s.CodeSnippet=s.CodeSnippet||{};x=s.FSMessage=s.FSMessage||{};y=s.FSSeverity=s.FSSeverity||{};z=s.FsStationClientErr=s.FsStationClientErr||{};A=s.FsStationClient=s.FsStationClient||{};B=b.FsEvaluator=b.FsEvaluator||{};C=B.Evaluator=B.Evaluator||{};D=b.FsTranslator=b.FsTranslator||{};E=b.FSAutoCompleteIntermediary=b.FSAutoCompleteIntermediary||{};F=E.CommTypes=E.CommTypes||{};G=F.ResponseError=F.ResponseError||{};H=F.Location=F.Location||{};I=F.CompletionResponse=F.CompletionResponse||{};J=F.OverloadDescription=F.OverloadDescription||{};K=F.OverloadParameter=F.OverloadParameter||{};L=F.Overload=F.Overload||{};M=F.Parameter=F.Parameter||{};N=F.SignatureData=F.SignatureData||{};O=F.MethodResponse=F.MethodResponse||{};P=F.SymbolUseRange=F.SymbolUseRange||{};Q=F.SymbolUseResponse=F.SymbolUseResponse||{};R=F.HelpTextResponse=F.HelpTextResponse||{};S=F.CompilerLocationResponse=F.CompilerLocationResponse||{};T=F.FSharpErrorInfo=F.FSharpErrorInfo||{};U=F.ErrorResponse=F.ErrorResponse||{};V=F.Colorization=F.Colorization||{};W=F.Declaration=F.Declaration||{};X=F.DeclarationResponse=F.DeclarationResponse||{};Y=F.OpenNamespace=F.OpenNamespace||{};Z=F.QualifySymbol=F.QualifySymbol||{};_0=F.ResolveNamespaceResponse=F.ResolveNamespaceResponse||{};_1=F.UnionCaseResponse=F.UnionCaseResponse||{};_2=F.ACMessage=F.ACMessage||{};_3=E.FSAutoCompleteIntermediaryClient=E.FSAutoCompleteIntermediaryClient||{};_4=b.HtmlNode=b.HtmlNode||{};_5=_4.Val=_4.Val||{};_6=_5.HelperType=_5.HelperType||{};_7=_5.valBuilder=_5.valBuilder||{};_8=_4.HtmlNode=_4.HtmlNode||{};_9=b.Template=b.Template||{};_=_9.Button=_9.Button||{};$=_9.Input=_9.Input||{};ba=_9.Hoverable=_9.Hoverable||{};bb=_9.TextArea=_9.TextArea||{};bc=_9.CodeMirrorPos=_9.CodeMirrorPos||{};bd=_9.CodeMirrorEditor=_9.CodeMirrorEditor||{};be=_9.CodeMirror=_9.CodeMirror||{};bf=_9.Hint=_9.Hint||{};bg=_9.HintResponse=_9.HintResponse||{};bh=_9.HintOptions=_9.HintOptions||{};bi=_9.LintResponse=_9.LintResponse||{};bj=_9.SplitterBar=_9.SplitterBar||{};bk=_9.SectionType=_9.SectionType||{};bl=_9.Grid=_9.Grid||{};bm=_9.TabStrip=_9.TabStrip||{};bn=_9.MenuEntry=_9.MenuEntry||{};bo=_9.MenuNode=_9.MenuNode||{};bp=_9.Menu=_9.Menu||{};bq=_9.Action=_9.Action||{};br=_9.GuiPart=_9.GuiPart||{};bs=_9.HtmlNodeFable=_9.HtmlNodeFable||{};bt=_9.LayoutDescriptionFable=_9.LayoutDescriptionFable||{};bu=_9.GuiPartSourceId=_9.GuiPartSourceId||{};bv=_9.Layout=_9.Layout||{};bw=b.RunCode=b.RunCode||{};bx=bw.RunNode=bw.RunNode||{};by=b.FSharpStation=b.FSharpStation||{};bz=by.FsGlobal=by.FsGlobal||{};bA=bz.Position=bz.Position||{};bB=bz.ErrCompiler=bz.ErrCompiler||{};bC=bz.KeyMapAutoComplete=bz.KeyMapAutoComplete||{};bD=bz.Property=bz.Property||{};bE=bz.PropValue=bz.PropValue||{};bF=bz.CodeSnippet=bz.CodeSnippet||{};bG=by.FableModule=by.FableModule||{};bH=bG.Babel=bG.Babel||{};bI=bG.Fable=bG.Fable||{};bJ=a.StartupCode$FSharpStation$FSharpStation=a.StartupCode$FSharpStation$FSharpStation||{};bK=a.FSharpStation_JsonDecoder=a.FSharpStation_JsonDecoder||{};bL=a.FSharpStation_JsonEncoder=a.FSharpStation_JsonEncoder||{};bM=a.GeneratedPrintf=a.GeneratedPrintf||{};bN=a.FSharpStation_GeneratedPrintf=a.FSharpStation_GeneratedPrintf||{};bO=a.IntelliFactory;bP=bO&&bO.Runtime;bQ=e&&e.Utils;bR=e&&e.Strings;bS=e&&e.List;bT=e&&e.Seq;bU=e&&e.Concurrency;bV=a.console;bW=e&&e.Collections;bX=bW&&bW.Dictionary;bY=e&&e.CancellationTokenSource;bZ=e&&e.Arrays;b0=e&&e.Unchecked;b1=a.JSON;b2=a.Date;b3=b&&b.UsefulDotNet;b4=b3&&b3.Messaging;b5=e&&e.Remoting;b6=a.System;b7=b6&&b6.Guid;b8=e&&e.Option;b9=e&&e.Slice;b_=b5&&b5.AjaxRemotingProvider;b$=e&&e.UI;ca=b$&&b$.Next;cb=ca&&ca.View;cc=ca&&ca.Doc;cd=e&&e.Operators;ce=ca&&ca.AttrModule;cf=ca&&ca.AttrProxy;cg=ca&&ca.Var;ch=ca&&ca.Input;ci=ch&&ch.Mouse;cj=bW&&bW.FSharpSet;ck=bW&&bW.BalancedTree;cl=bW&&bW.Map;cm=e&&e.MatchFailureException;cn=e&&e.Json;co=cn&&cn.Provider;cp=a.Object;cq=a.Fable;cr=a.Babel;cs=bW&&bW.HashSet;ct=e&&e.JavaScript;cu=ct&&ct.JSModule;cv=e&&e.Lazy;cw=a.jQuery;cx=bW&&bW.FSharpMap;cy=ca&&ca.ListModel;d.modify=function(cz){var cA;function cB(cC){return cC==null?null:{$:1,$0:cz(cC.$0)};}cA=function(cC){return d.defaultValue(a.id,cC);};return function(cC){return cA(cB(cC));};};d.apply=function(cz,cA){var cB;return cz!=null&&cz.$==1&&(cA!=null&&cA.$==1&&(cB=[cA.$0,cz.$0],true))?{$:1,$0:cB[0](cB[1])}:null;};d.iterFO=function(cz,cA){if(cz!=null&&cz.$==1)if(cA!=null&&cA.$==1)cA.$0(cz.$0);};d.iterF=function(cz,cA){if(cA!=null&&cA.$==1)cA.$0(cz);};d.call=function(cz,cA){return cA!=null&&cA.$==1?{$:1,$0:cA.$0(cz)}:null;};d.defaultWith=function(cz,cA){return cA==null?cz():cA.$0;};d.defaultValue=function(cz,cA){return cA==null?cz:cA.$0;};g=c.ExceptionThrown=bP.Class({toString:function(){return this.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return false;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return(function(cz){return function(cA){return cz(bQ.prettyPrint(cA));};}(a.id))(this.exn);}},f,g);g.New=bP.Ctor(function(cz){this.exn=cz;},g);h=c.ErrOptionIsNone=bP.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return false;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return"Option is None";}},f,h);h.New=bP.Ctor(function(){},h);i=c.ErrSimple=bP.Class({toString:function(){return this.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return this.warning;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return this.msg;}},f,i);i.New=bP.Ctor(function(cz,cA){this.msg=cz;this.warning=cA;},i);k=j.ropBuilder=bP.Class({Combine:function(cz,cA){return(j.combine(cz))(cA);},Delay:function(cz){return cz();},Zero:function(){return j.succeed();},Using:function(cz,cA){try{return cA(cz);}finally{cz.Dispose();}},Bind:function(cz,cA){return j.bind(function(cB){return j.tryCall(cA,cB);},cz);},ReturnFrom:a.id,Return:function(cz){return j.succeed(cz);}},f,k);k.New=bP.Ctor(function(){},k);j.result2String=function(cz){return bR.concat("\n",bS.append(bS.ofArray([d.defaultValue("Failed: ",cz.$0)]),j.msgs2String(cz.$1)));};j.countMessages=function(cz){var cA,cB,cC,cD,cE,cF,cG;if(cz.$===0)return"";else{cD=bS.filter(function(cH){return!cH.FSSGlobal_Useful_ErrMsg$get_IsWarning();},cz);cE=bS.filter(function(cH){return cH.FSSGlobal_Useful_ErrMsg$get_IsWarning();},cz);cF=cD.get_Length();cG=cE.get_Length();switch(cF===0?cG===0?0:cG===1?2:5:cF===1?cG===0?1:cG===1?3:(cA=[cF,cG],6):cG===0?4:(cA=[cF,cG],6)){case 0:cC=function(cH){return function(cI){return cH(bQ.toSafe(cI));};}(a.id);break;case 1:cC=function(cH){return function(cI){return cH(bQ.toSafe(cI));};}(a.id);break;case 2:cC=function(cH){return function(cI){return cH(bQ.toSafe(cI));};}(a.id);break;case 3:cC=function(cH){return function(cI){return cH("1 error, 1 warning\n"+bQ.toSafe(cI));};}(a.id);break;case 4:cC=((bP.Curried3(function(cH,cI,cJ){return cH(a.String(cI)+" errors\n"+bQ.toSafe(cJ));}))(a.id))(cF);break;case 5:cC=((bP.Curried3(function(cH,cI,cJ){return cH(a.String(cI)+" warnings\n"+bQ.toSafe(cJ));}))(a.id))(cG);break;case 6:cC=(((bP.Curried(function(cH,cI,cJ,cK){return cH(a.String(cI)+" errors, "+a.String(cJ)+" warnings\n"+bQ.toSafe(cK));},4))(a.id))(cA[0]))(cA[1]);break;}return cC(j.getMessages(cz));}};j.getMessages=function(cz){return bR.concat("\n",j.msgs2String(cz));};j.msgs2String=function(cz){return bS.map(function(cA){return cA.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},cz);};j.seqCheck=function(cz){return bT.exists(function(cA){return j.Success(cA).$==1;},cz)?j.failWithMsgs(bT.pick(function(cA){var cB;cB=j.Success(cA);return cB.$==1?{$:1,$0:cB.$0}:null;},cz)):j.succeed(bT.map(function(cA){return cA.$0.$0;},cz));};j.withError=function(cz,cA){var cB;cB=cA.$1;return d.defaultWith(function(){return cz(cB);},cA.$0);};j.ifError=function(cz,cA){return d.defaultValue(cz,cA.$0);};j.failIfTrue=function(cz,cA){return cA?j.fail(cz):j.succeed();};j.failIfFalse=function(cz,cA){return cA?j.succeed():j.fail(cz);};j.tryProtection=function(){return j.succeed();};j.toOption=function(cz){return cz.$0;};j.fromOption=function(cz,cA){return cA!=null&&cA.$==1?j.succeed(cA.$0):j.fail(cz);};j.fromChoice=function(cz,cA){return cA.$==1?j.fail(cA.$0):j.succeed(cA.$0);};j.result=function(){bJ.$cctor();return bJ.result;};j.tryCall=function(cz,cA){try{return cz(cA);}catch(cB){return j.fail(j.failException(cB));}};j.failException=function(cz){return new g.New(cz);};j.x=function(cz){return j.Success(cz).$==1?"No":"yes";};j.Success=function(cz){return cz.$0==null?{$:1,$0:cz.$1}:{$:0,$0:[cz.$0.$0,cz.$1]};};j.failSimpleWarning=function(cz){return j.fail(new i.New(cz,true));};j.failSimpleError=function(cz){return j.fail(new i.New(cz,false));};j.apply=function(cz,cA){var cB,cC,cD,cE,cF;cB=cz.$1;cC=cA.$1;cD=cz.$0;cE=cA.$0;return cD!=null&&cD.$==1&&(cE!=null&&cE.$==1&&(cF=[cD.$0,cE.$0],true))?{$:0,$0:{$:1,$0:cF[0](cF[1])},$1:bS.append(cB,cC)}:{$:0,$0:null,$1:bS.append(cB,cC)};};j.bind=function(cz,cA){var cB,cC,cD;cB=cA.$0;cC=cA.$1;return cB==null?{$:0,$0:null,$1:cC}:(cD=cz(cB.$0),{$:0,$0:cD.$0,$1:bS.append(cC,cD.$1)});};j.combine=function(cz){var cA;cA=cz.$1;return function(cB){return j.mergeMsgs(cA,cB);};};j.mergeMsgs=function(cz,cA){var cB;cB=j.mapMsgs(function(cC){return bS.append(cz,cC);},cA);return{$:0,$0:cB[0],$1:cB[1]};};j.getMsgs=function(cz){return cz.$1;};j.getOption=function(cz){return cz.$0;};j.mapMsgs=function(cz,cA){return[cA.$0,cz(cA.$1)];};j.mapMsg=function(cz,cA){return[cA.$0,bS.map(cz,cA.$1)];};j.map=function(cz,cA){var cB;return{$:0,$0:(cB=cA.$0,cB==null?null:{$:1,$0:cz(cB.$0)}),$1:cA.$1};};j.failWithMsgs=function(cz){return{$:0,$0:null,$1:cz};};j.fail=function(cz){return{$:0,$0:null,$1:bS.ofArray([cz])};};j.succeedWithMsgs=function(cz,cA){return{$:0,$0:{$:1,$0:cz},$1:cA};};j.succeedWithMsg=function(cz,cA){return{$:0,$0:{$:1,$0:cz},$1:bS.ofArray([cA])};};j.succeed=function(cz){return{$:0,$0:{$:1,$0:cz},$1:bS.T.Empty};};l.StartAsTask=function(cz,cA,cB){return bU.StartAsTask(l.getAsyncR(cz),cB);};l.Start=function(cz,cA){bU.Start(l.getAsync(cz),cA);};m=l.Builder=bP.Class({Using:function(cz,cA){return{$:2,$0:bU.Using(cz,function(cB){return l.wrapper2Async(cA,cB);})};},Combine:function(cz,cA){return l.combine(l.errOptionIsNone(),cz,cA);},Delay:function(cz){return cz();},ReturnFrom:a.id,Return:function(cz){return{$:3,$0:cz};},Zero:function(){return{$:3,$0:null};},Bind:function(cz,cA){return l.bind(cA,{$:4,$0:cz});},Bind$1:function(cz,cA){return l.bind(cA,{$:0,$0:cz});},Bind$2:function(cz,cA){return l.bind(cA,{$:1,$0:cz});},Bind$3:function(cz,cA){return l.bind(cA,cz);}},f,m);m.New=bP.Ctor(function(){},m);l.runSynchronouslyS=function(cz,cA){var cB;cB=l.runSynchronouslyO(cz,cA);return cB[0]==null?(function(cC){return function(cD){return cC("Failed!\n"+bQ.toSafe(cD));};}(a.id))(cB[1]):(((bP.Curried3(function(cC,cD,cE){return cC(a.String(cD)+"\n"+bQ.toSafe(cE));}))(a.id))(cB[0].$0))(cB[1]);};l.runSynchronouslyO=function(cz,cA){return j.mapMsgs(cz?j.countMessages:j.getMessages,bV.log("runSynchronously should not be used in Javascript"));};l.start=function(cz,cA){l.startV(function(cB){if(cB[0]==null)cz("Failed!\n"+cB[1]);else cz(cB[1]);},cA);};l.startV=function(cz,cA){var cB,cC,cD,cE;function cF(cI){return j.mapMsgs(j.getMessages,cI);}function cG(cI){return[null,cI];}function cH(cI){return[null,cI];}bU.StartWithContinuations(l.getAsyncR(cA),function(cI){return cz(cF(cI));},(cB=(cC=function(cI){return function(cJ){return cI(bQ.prettyPrint(cJ));};}(a.id),function(cI){return cG(cC(cI));}),function(cI){return cz(cB(cI));}),(cD=(cE=function(cI){return function(cJ){return cI(bQ.prettyPrint(cJ));};}(a.id),function(cI){return cH(cE(cI));}),function(cI){return cz(cD(cI));}),null);};l.getAsync=function(cz){var cA,cB,cC,cD,cE,cF;return cz.$==3?bU.Return(cz.$0):cz.$==4?(cA=cz.$0,(cB=null,bU.Delay(function(){var cG,cH;if(cA==null)throw a.Error(j.getMessages(bS.ofArray([l.errOptionIsNone()])));else cH=cA.$0;return bU.Return(cH);}))):cz.$==0?(cC=cz.$0,(cD=null,bU.Delay(function(){var cG,cH,cI;cI=j.Success(cC);if(cI.$==1)throw a.Error(j.getMessages(cI.$0));else cH=cI.$0[0];return bU.Return(cH);}))):cz.$==2?(cE=cz.$0,(cF=null,bU.Delay(function(){return bU.Bind(cE,function(cG){var cH,cI,cJ;cJ=j.Success(cG);if(cJ.$==1)throw a.Error(j.getMessages(cJ.$0));else cI=cJ.$0[0];return bU.Return(cI);});}))):cz.$0;};l.getAsyncWithDefault=function(cz,cA){var cB;cB=null;return bU.Delay(function(){return bU.Bind(l.getAsyncR(cA),function(cC){return bU.Return(j.withError(cz,cC));});});};l.getAsyncR=function(cz){var cA,cB;return cz.$==3?bU.Return(j.succeed(cz.$0)):cz.$==4?bU.Return(j.fromOption(l.errOptionIsNone(),cz.$0)):cz.$==0?bU.Return(cz.$0):cz.$==2?cz.$0:(cA=cz.$0,(cB=null,bU.Delay(function(){return bU.Bind(cA,function(cC){return bU.Return(j.succeed(cC));});})));};l.getResult=function(cz,cA){if(cA.$==4){if(cA.$0==null)cz(j.fail(l.errOptionIsNone()));else cz(j.succeed(cA.$0.$0));}else if(cA.$==0)cz(cA.$0);else if(cA.$==1)bU.StartWithContinuations(cA.$0,function(cB){cz(j.succeed(cB));},function(cB){cz(j.fail(j.failException(cB)));},function(cB){cz(j.fail(j.failException(cB)));},null);else if(cA.$==2)bU.StartWithContinuations(cA.$0,cz,function(cB){cz(j.fail(j.failException(cB)));},function(cB){cz(j.fail(j.failException(cB)));},null);else cz(j.succeed(cA.$0));};l.wrapper=function(){bJ.$cctor();return bJ.wrapper;};l.combine=function(cz,cA,cB){return cA.$==4?cA.$0==null?l.addMsgs(cz,bS.ofArray([cz]),cB):cB:cA.$==0?cA.$0.$1.$==0?cB:l.addMsgs(cz,cA.$0.$1,cB):cA.$==1?cB:cA.$==2?cB:cB;};l.addMsgs=function(cz,cA,cB){var cC,cD,cE;if(cA.$===0)return cB;else switch(cB.$==4?cB.$0==null?1:(cC=cB.$0.$0,0):cB.$==0?(cC=cB.$0,2):cB.$==1?(cC=cB.$0,3):cB.$==2?(cC=cB.$0,4):(cC=cB.$0,0)){case 0:return{$:0,$0:j.succeedWithMsgs(cC,cA)};break;case 1:return{$:0,$0:j.mergeMsgs(cA,j.fail(cz))};break;case 2:return{$:0,$0:j.mergeMsgs(cA,cC)};break;case 3:return{$:2,$0:(cD=null,bU.Delay(function(){return bU.Bind(cC,function(cF){return bU.Return(j.succeedWithMsgs(cF,cA));});}))};break;case 4:return{$:2,$0:(cE=null,bU.Delay(function(){return bU.Bind(cC,function(cF){return bU.Return(j.mergeMsgs(cA,cF));});}))};break;}};l.wrapper2Async=function(cz,cA){var cB,cC,cD,cE;cC=l.tryCall(cz,cA);switch(cC.$==4?0:cC.$==0?1:cC.$==1?2:cC.$==2?3:0){case 0:return l.wb2arb(bS.T.Empty,cC);break;case 1:return l.wb2arb(cC.$0.$1,cC);break;case 2:cD=cC.$0;cE=null;return bU.Delay(function(){return bU.Bind(cD,function(cF){return bU.Return(j.succeed(cF));});});break;case 3:return cC.$0;break;}};l.map=function(cz){var cA;cA=function(cB){return l.Return(cz(cB));};return function(cB){return l.bind(cA,cB);};};l.Return=function(cz){return{$:3,$0:cz};};l.bind=function(cz,cA){var cB,cC,cD,cE,cF;switch(cA.$==4?cA.$0==null?1:(cB=cA.$0.$0,0):cA.$==0?(cC=j.Success(cA.$0),cC.$==1?(cB=cC.$0,2):cC.$0[1].$==0?(cB=cC.$0[0],0):(cB=[cC.$0[0],cC.$0[1]],3)):cA.$==1?(cB=cA.$0,4):cA.$==2?(cB=cA.$0,5):(cB=cA.$0,0)){case 0:return l.tryCall(cz,cB);break;case 1:return{$:4,$0:null};break;case 2:return{$:0,$0:j.failWithMsgs(cB)};break;case 3:cD=cB[1];return function(cG){var cH,cI,cJ,cK;switch(cG.$==4?cG.$0==null?1:(cH=cG.$0.$0,0):cG.$==0?(cI=j.Success(cG.$0),cI.$==1?(cH=cI.$0,4):cI.$0[1].$==0?(cH=cI.$0[0],2):(cH=[cI.$0[0],cI.$0[1]],3)):cG.$==1?(cH=cG.$0,5):cG.$==2?(cH=cG.$0,6):(cH=cG.$0,0)){case 0:return{$:0,$0:j.succeedWithMsgs(cH,cD)};break;case 1:return{$:0,$0:j.failWithMsgs(new bS.T({$:1,$0:l.errOptionIsNone(),$1:cD}))};break;case 2:return{$:0,$0:j.succeedWithMsgs(cH,cD)};break;case 3:return{$:0,$0:j.succeedWithMsgs(cH[0],bS.append(cD,cH[1]))};break;case 4:return{$:0,$0:j.failWithMsgs(bS.append(cD,cH))};break;case 5:return{$:2,$0:(cJ=null,bU.Delay(function(){return bU.Bind(cH,function(cL){return bU.Return(j.succeedWithMsgs(cL,cD));});}))};break;case 6:return{$:2,$0:(cK=null,bU.Delay(function(){return bU.Bind(cH,function(cL){return bU.Return(j.mergeMsgs(cD,cL));});}))};break;}}(l.tryCall(cz,cB[0]));break;case 4:return{$:2,$0:(cE=null,bU.Delay(function(){return bU.Bind(cB,function(cG){return l.wb2arb(bS.T.Empty,l.tryCall(cz,cG));});}))};break;case 5:return{$:2,$0:(cF=null,bU.Delay(function(){return bU.Bind(cB,function(cG){var cH,cI,cJ;cH=j.Success(cG);return cH.$==1?(cI=cH.$0,cJ=null,bU.Delay(function(){return bU.Return(j.failWithMsgs(cI));})):l.wb2arb(cH.$0[1],l.tryCall(cz,cH.$0[0]));});}))};break;}};l.tryCall=function(cz,cA){try{return cz(cA);}catch(cB){return{$:0,$0:j.fail(j.failException(cB))};}};l.wb2arb=function(cz,cA){var cB,cC,cD,cE,cF,cG;switch(cA.$==2?(cB=cA.$0,1):cA.$==0?(cB=cA.$0,2):cA.$==3?(cB=cA.$0,3):cA.$==4?cA.$0==null?4:(cB=cA.$0.$0,3):(cB=cA.$0,0)){case 0:cC=null;return bU.Delay(function(){return bU.Bind(cB,function(cH){return bU.Return(j.succeedWithMsgs(cH,cz));});});break;case 1:cD=null;return bU.Delay(function(){return bU.Bind(cB,function(cH){return bU.Return(j.mergeMsgs(cz,cH));});});break;case 2:cE=null;return bU.Delay(function(){return bU.Return(j.mergeMsgs(cz,cB));});break;case 3:cF=null;return bU.Delay(function(){return bU.Return(j.succeedWithMsgs(cB,cz));});break;case 4:cG=null;return bU.Delay(function(){return bU.Return(j.failWithMsgs(new bS.T({$:1,$0:l.errOptionIsNone(),$1:cz})));});break;}};l.errOptionIsNone=function(){bJ.$cctor();return bJ.errOptionIsNone;};n.bind=function(cz,cA){return bU.Bind(cA,cz);};n.apply=function(cz,cA){var cB;cB=null;return bU.Delay(function(){return bU.Bind(bU.StartChild(cz,null),function(cC){return bU.Bind(bU.StartChild(cA,null),function(cD){return bU.Bind(cC,function(cE){return bU.Bind(cD,function(cF){return bU.Return(cE(cF));});});});});});};n.retn=function(cz){return bU.Return(cz);};n.map=function(cz,cA){var cB;cB=null;return bU.Delay(function(){return bU.Bind(cA,function(cC){return bU.Return(cz(cC));});});};o.add=function(cz,cA,cB){if(cB.ContainsKey(cz))cB.set_Item(cz,cA);else cB.Add(cz,cA);};o.tryGetValue=function(cz,cA){return cA.ContainsKey(cz)?{$:1,$0:cA.get_Item(cz)}:null;};p.append=function(cz,cA){return cz+cA;};p.trim=function(cz){return bR.Trim(cz);};p.splitByChar=function(cz,cA){return bR.SplitChars(cA,[cz],0);};q=c.ResetableMemoize=bP.Class({ClearCache:function(){this.cache.Clear();}},f,q);q.New=bP.Ctor(function(cz){this.f=cz;this.cache=new bX.New$5();},q);r.NoPrepo={$:11};r.PrepoEndIf={$:8};r.PrepoElse={$:7};c.asyncStartCancelling=function(){var cz;cz=null;return function(cA){var cB;cz==null?void 0:cz.$0.Cancel$1();cB=new bY.New();bU.Start(cA,{$:1,$0:cB});cz={$:1,$0:cB};};};c.separateDirectives=function(cz){var cA,cB,cC,cD;function cE(cM){return cM[1];}function cF(cM){return cM.$==0?{$:1,$0:cM.$0}:null;}function cG(cM){return cM[1];}function cH(cM){return cM.$==1?{$:1,$0:cM.$0}:null;}function cI(cM){return cM[1];}function cJ(cM){return cM.$==5?{$:1,$0:cM.$0}:null;}function cK(cM){return cM[1];}function cL(cM){return cM.$==4?{$:1,$0:cM.$0}:null;}cA=bZ.ofSeq(bT.distinct(bT.choose(function(cM){return cF(cE(cM));},cz)));cB=bZ.ofSeq(bT.distinct(bT.choose(function(cM){return cH(cG(cM));},cz)));cC=bZ.ofSeq(bT.distinct(bT.choose(function(cM){return cJ(cI(cM));},cz)));cD=bZ.ofSeq(bT.distinct(bT.choose(function(cM){return cL(cK(cM));},cz)));return[bZ.ofSeq(bT.map(function(cM){return cM[0];},cz)),cA,cB,cC,cD];};c.separatePrepros=function(cz,cA){var cB;function cC(cF){return d.defaultValue(cF,bT.tryLast(bR.SplitStrings(bR.Trim(cF),["\""],1)));}function cD(cF){return d.defaultValue("",bT.tryHead(bR.SplitStrings(bR.Trim(cF),["#define "],1)));}function cE(cF){return"//"+cF;}cB=cz?cE:a.id;return bZ.map(function(cF){var cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS;cG=true;return cG&&bR.StartsWith(cF,"#define")?[cE(cF),{$:1,$0:cD(cF)}]:cG&&bR.StartsWith(cF,"#r")?[cE(cF),{$:0,$0:cC(cF)}]:cG&&bR.StartsWith(cF,"#load")?[cE(cF),{$:2,$0:cC(cF)}]:cG&&bR.StartsWith(cF,"#nowarn")?[cE(cF),{$:4,$0:cC(cF)}]:cG&&bR.StartsWith(cF,"# ")?[cB(cF),{$:3,$0:cC(cF)}]:cG&&bR.StartsWith(cF,"#line")?[cB(cF),{$:3,$0:cC(cF)}]:cG&&bR.StartsWith(cF,"#I")?[cE(cF),{$:5,$0:cC(cF)}]:cG&&bR.StartsWith(cF,"#if")?[cF,{$:6,$0:cF}]:cG&&bR.StartsWith(cF,"#else")?[cF,r.PrepoElse]:cG&&bR.StartsWith(cF,"#endif")?[cF,r.PrepoEndIf]:cG&&bR.StartsWith(cF,"#light")?[cF,{$:9,$0:false}]:cG&&bR.StartsWith(cF,"#")?[cE(cF),{$:10,$0:cF}]:[cF,r.NoPrepo];},cA);};c.__=function(cz,cA,cB){return cz(cB,cA);};c.swap=function(cz,cA,cB){return cz(cB,cA);};c.REGEX=function(cz,cA,cB){var cC;if(cB===null)return null;else try{cC=(new a.String(cB)).match(new a.RegExp(cz,cA));return b0.Equals(cC,null)?null:cC&&bZ.length(cC)===0?null:{$:1,$0:cC};}catch(cD){return null;}};c.extract=function(cz,cA){var cB;return bR.Substring(cA,0,(cB=cA.length,b0.Compare(cz,cB)===-1?cz:cB));};t=s.MessagingClient=bP.Class({poStrings:function(cz){return cz.$==1?cz.$0:[(function(cA){return function(cB){return cA("unexpected response: "+bQ.toSafe(cB));};}(a.id))(cz.$0)];},poString:function(cz){return cz.$==1?(function(cA){return function(cB){return cA(bQ.printArray(bQ.prettyPrint,cB));};}(a.id))(cz.$0):cz.$0;},poMsg:function(cz,cA){var cB,cC;cB=this;cC=null;return bU.Delay(function(){return bU.Bind(cB.sendMessage(s.AddressId("WebServer:PostOffice"),b1.stringify((bL.j$6())(cA))),function(cD){return bU.Return(cz((bK.j$6())(b1.parse(cD))));});});},sendMessage:function(cz,cA){return(((s.sendRequestF())(cz))(this.fromId))(cA);},awaitMessage:function(cz){var cA,cB;cA=this;(s.AsyncStartF())((cB=null,bU.Delay(function(){return bU.While(function(){return cA.active;},bU.Delay(function(){((((bP.Curried(function(cC,cD,cE,cF){return cC(bQ.toSafe(cD)+" awaitRequest "+bQ.toSafe(cE)+" "+bQ.toSafe(cF));},4))(function(cC){bV.log(cC);}))(function(cC){return cC.getFullYear()+"-"+(cC.getMonth()+1)+"-"+cC.getDate()+" "+cC.getHours()+":"+cC.getMinutes()+":"+cC.getSeconds()+":"+cC.getMilliseconds();}(new a.Date(b2.now()))))(cA.clientId))(cA.wsEndPoint);return bU.Bind(bU.StartChild((s.awaitRequestForF())(cA.fromId),{$:1,$0:cA.tout}),function(cC){return bU.TryWith(bU.Delay(function(){return bU.Bind(cC,function(cD){return bU.Bind(cz(s.addressIdTxt(cD.fromId),cD.content),function(cE){return bU.Bind(((s.replyToF())(cD.messageId.$0))(cE),function(){return bU.Return(null);});});});}),function(cD){return cD instanceof e.TimeoutException?bU.Zero():((function(cE){return function(cF){return cE(bQ.prettyPrint(cF));};}(function(cE){bV.log(cE);}))(cD),bU.Zero());});});}));})));},Deactivate:function(){this.active=false;},get_ClientId:function(){return this.clientId;},get_EndPoint:function(){return this.wsEndPoint;},POListeners:function(){var cz;cz=this;return this.poMsg(function(cA){return cz.poStrings(cA);},b4.POMessage.POListeners);},POMessage:function(cz){return this.poMsg(a.id,cz);},SendMessage:function(cz,cA){return this.sendMessage(cz,cA);},AwaitMessage:function(cz){this.awaitMessage(cz);},AwaitMessage$1:function(cz){this.awaitMessage(function(cA,cB){var cC;cC=null;return bU.Delay(function(){return bU.Return(cz(cA,cB));});});},Dispose:function(){this.active=false;}},f,t);t.get_EndPoint_=function(){return b5.EndPoint();};t.New=bP.Ctor(function(cz,cA,cB){this.clientId=cz;this.active=true;this.wsEndPoint=d.defaultValue(b5.EndPoint(),cB);this.tout=d.defaultValue(100000,cA);this.fromId=s.AddressId(this.clientId);b5.set_EndPoint(this.wsEndPoint);},t);u.GenInfor={$:2};u.GenWarning={$:1};u.GenError={$:0};v=s.CodeSnippetId=bP.Class({get_Text:function(){return a.String(this.$0);}},null,v);v.get_New=function(){return new v({$:0,$0:b7.NewGuid()});};w=s.CodeSnippet=bP.Class({SeparateCode:function(cz){var cA,cB,cC,cD,cE,cF;function cG(cH,cI){return[bR.replicate(cB," ")+cH,cI];}cA=!cz||this.properties.ContainsKey("NoLinePre");cB=this.levelCode*2;cC=cB===0?[a.id,""]:[function(cH){return bZ.map(function(cI){return cG(cI[0],cI[1]);},cH);},(function(cH){return function(cI){return cH("("+a.String(cI)+")");};}(a.id))(cB)];cD=c.separateDirectives(cC[0](c.separatePrepros(!cz,(cA?a.id:(cE=[(((bP.Curried3(function(cH,cI,cJ){return cH("# 1 @\""+bQ.toSafe(cI)+bQ.toSafe(cJ)+"\"");}))(a.id))(cC[1]))(this.get_NameSanitized())],function(cH){return cE.concat(cH);}))(bR.SplitChars(this.content,["\n"],0)))));cF=cD[0];return[[[this.get_NameSanitized(),bZ.length(cF),cB]],cF,cD[1],cD[2],cD[3],cD[4]];},UniquePredecessors:function(cz){return s.predsL(cz,bS.ofArray([this.id]));},get_NameSanitized:function(){return this.id.get_Text()+" "+s.sanitize(this.get_Name())+".fsx";},get_Name:function(){return s.snippetName(this.name,this.content);}},null,w);w.CodeFsx=function(cz,cA){return(w.CodeAndStarts(cz,cA))[0];};w.CodeAndStarts=function(cz,cA){var cB;cB=w.ReducedCode(cz,cA);return w.FinishCode(cz,cB[0],cB[1],cB[2],cB[3],cB[4],cB[5]);};w.FinishCode=function(cz,cA,cB,cC,cD,cE,cF){var cG,cH;cG=bR.concat(" ",bT.map(function(cI){return"-d:"+cI;},bT.sort(cD)));cH=bS.ofSeq(bT.delay(function(){return bT.append(cG!==""?["////"+cG]:[],bT.delay(function(){return bT.append(bT.map(function(cI){return function(cJ){return cI("#I @\""+bQ.toSafe(cJ)+"\"");};}(a.id),cE),bT.delay(function(){return bT.append(bT.map(function(cI){return function(cJ){return cI("#r @\""+bQ.toSafe(cJ)+"\"");};}(a.id),cC),bT.delay(function(){return bT.append(cz&&!bT.isEmpty(cF)?["# 1 \"required for nowarns to work\""]:[],bT.delay(function(){return bT.map(function(cI){return function(cJ){return cI("#nowarn \""+bQ.toSafe(cJ)+"\"");};}(a.id),cF);}));}));}));}));}));return[bR.concat("\n",bT.append(cH,cB)),bZ.ofSeq((bT.mapFold(function(cI,cJ){var cK;cK=cJ[1];return[[cJ[0],[cJ[2],cI,cI+cK]],cI+cK];},cH.get_Length(),cA))[0])];};w.ReducedCode=function(cz,cA){var cB,cC;function cD(cE,cF,cG,cH,cI,cJ){return function(cK){return w.AddSeps(cE,cF,cG,cH,cI,cJ,cK[0],cK[1],cK[2],cK[3],cK[4],cK[5]);};}cB=bT.reduce(function(cE,cF){return(function(cG){return cD(cG[0],cG[1],cG[2],cG[3],cG[4],cG[5]);}(cE))(cF);},(cC=bT.map(function(cE){return cE.SeparateCode(cz);},cA),bT.isEmpty(cC)?[[[],[],[],[],[],[]]]:cC));return[cB[0],[bR.concat("\n",cB[1])],cB[2],cB[3],cB[4],cB[5]];};w.AddSeps=function(cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK){return[cz.concat(cF),cA.concat(cG),bZ.ofSeq(bT.distinct(bT.append(cB,cH))),bZ.ofSeq(bT.distinct(bT.append(cC,cI))),bZ.ofSeq(bT.distinct(bT.append(cD,cJ))),bZ.ofSeq(bT.distinct(bT.append(cE,cK)))];};w.TryFindByKey=function(cz,cA){return bT.tryFind(function(cB){return b0.Equals(cB.id,cA);},cz);};w.New=function(cz,cA,cB,cC,cD,cE,cF,cG,cH){return new w({name:cz,content:cA,parent:cB,predecessors:cC,id:cD,expanded:cE,level:cF,levelCode:cG,properties:cH});};x.GetWholeFile={$:11};x.GetIdentification={$:0};y.FSInfor={$:2};y.FSWarning={$:1};y.FSError={$:0};z=s.FsStationClientErr=bP.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return this.$==0&&this.$1.$==0;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return this.$==0?(((bP.Curried3(function(cz,cA,cB){return cz(bN.p(cA)+" "+bQ.toSafe(cB));}))(a.id))(this.$1))(this.$0):(function(cz){return function(cA){return cz(bN.p$1(cA));};}(a.id))(this);}},null,z);A=s.FsStationClient=bP.Class({snippetResponse:function(cz){return cz.$==2?j.succeed(cz.$0):j.fail(new z({$:1,$0:a.String(cz)}));},snippetsResponse:function(cz){return cz.$==3?j.succeed(cz.$0):j.fail(new z({$:1,$0:a.String(cz)}));},stringResponse:function(cz){var cA,cB;return cz.$==1&&((cB=cz.$0,cB!=null&&cB.$==1)&&(cA=cz.$0.$0,true))?j.succeed(cA):j.fail(new z({$:1,$0:a.String(cz)}));},stringResponseR:function(cz){var cA,cB;function cC(cD,cE){return new z({$:0,$0:cD,$1:cE});}return cz.$==4&&((cB=cz.$0,cB!=null&&cB.$==1)&&(cA=[cz.$0.$0,cz.$1],true))?j.succeedWithMsgs(cA[0],bS.ofSeq(bT.map(function(cD){return cC(cD[0],cD[1]);},cA[1]))):j.fail(new z({$:1,$0:a.String(cz)}));},get_MessagingClient:function(){return this.msgClient;},get_FSStationId:function(){return this.fsIds;},RunActionCall:function(cz,cA,cB){var cC,cD,cE;function cF(cG){return cC.stringResponseR(cG);}cC=this;cD=this.msgClient.SendMessage(this.toId,b1.stringify((bL.j())({$:14,$0:cz,$1:cA,$2:cB})));cE=l.wrapper();return cE.Delay(function(){return cE.Bind$2(cD,function(cG){return cE.Bind$1(cF((bK.j())(b1.parse(cG))),function(cH){return cE.Return(cH);});});});},RunSnippet:function(cz,cA){var cB,cC,cD;function cE(cF){return cB.stringResponseR(cF);}cB=this;cC=this.msgClient.SendMessage(this.toId,b1.stringify((bL.j())({$:13,$0:bR.SplitChars(cA,["/"],0),$1:cz})));cD=l.wrapper();return cD.Delay(function(){return cD.Bind$2(cC,function(cF){return cD.Bind$1(cE((bK.j())(b1.parse(cF))),function(cG){return cD.Return(cG);});});});},GenericMessage:function(cz){var cA,cB,cC;function cD(cE){return cA.stringResponse(cE);}cA=this;cB=this.msgClient.SendMessage(this.toId,b1.stringify((bL.j())({$:1,$0:cz})));cC=l.wrapper();return cC.Delay(function(){return cC.Bind$2(cB,function(cE){return cC.Bind$1(cD((bK.j())(b1.parse(cE))),function(cF){return cC.Return(cF);});});});},RequestWholeFile:function(){var cz,cA,cB;function cC(cD){return cz.stringResponse(cD);}cz=this;cA=this.msgClient.SendMessage(this.toId,b1.stringify((bL.j())(x.GetWholeFile)));cB=l.wrapper();return cB.Delay(function(){return cB.Bind$2(cA,function(cD){return cB.Bind$1(cC((bK.j())(b1.parse(cD))),function(cE){return cB.Return(cE);});});});},RequestPredsById:function(cz){var cA,cB,cC;function cD(cE){return cA.snippetsResponse(cE);}cA=this;cB=this.msgClient.SendMessage(this.toId,b1.stringify((bL.j())({$:4,$0:cz})));cC=l.wrapper();return cC.Delay(function(){return cC.Bind$2(cB,function(cE){return cC.Bind$1(cD((bK.j())(b1.parse(cE))),function(cF){return cC.Return(cF);});});});},RequestPreds:function(cz){var cA,cB,cC;function cD(cE){return cA.snippetsResponse(cE);}cA=this;cB=this.msgClient.SendMessage(this.toId,b1.stringify((bL.j())({$:8,$0:bR.SplitChars(cz,["/"],0)})));cC=l.wrapper();return cC.Delay(function(){return cC.Bind$2(cB,function(cE){return cC.Bind$1(cD((bK.j())(b1.parse(cE))),function(cF){return cC.Return(cF);});});});},RequestJSCode:function(cz){var cA,cB,cC;function cD(cE){return cA.stringResponseR(cE);}cA=this;cB=this.msgClient.SendMessage(this.toId,b1.stringify((bL.j())({$:10,$0:bR.SplitChars(cz,["/"],0)})));cC=l.wrapper();return cC.Delay(function(){return cC.Bind$2(cB,function(cE){return cC.Bind$1(cD((bK.j())(b1.parse(cE))),function(cF){return cC.Return(cF);});});});},RequestCode:function(cz){var cA,cB,cC;function cD(cE){return cA.stringResponse(cE);}cA=this;cB=this.msgClient.SendMessage(this.toId,b1.stringify((bL.j())({$:7,$0:bR.SplitChars(cz,["/"],0)})));cC=l.wrapper();return cC.Delay(function(){return cC.Bind$2(cB,function(cE){return cC.Bind$1(cD((bK.j())(b1.parse(cE))),function(cF){return cC.Return(cF);});});});},RequestSnippet:function(cz){var cA,cB,cC;function cD(cE){return cA.snippetResponse(cE);}cA=this;cB=this.msgClient.SendMessage(this.toId,b1.stringify((bL.j())({$:9,$0:bR.SplitChars(cz,["/"],0)})));cC=l.wrapper();return cC.Delay(function(){return cC.Bind$2(cB,function(cE){return cC.Bind$1(cD((bK.j())(b1.parse(cE))),function(cF){return cC.Return(cF);});});});},SendMessage:function(cz){var cA,cB;cA=this.msgClient.SendMessage(this.toId,b1.stringify((bL.j())(cz)));cB=l.wrapper();return cB.Delay(function(){return cB.Bind$2(cA,function(cC){return cB.Bind$1(j.succeed((bK.j())(b1.parse(cC))),function(cD){return cB.Return(cD);});});});},SendMessage$1:function(cz,cA){var cB,cC;cB=this.msgClient.SendMessage(cz,b1.stringify((bL.j())(cA)));cC=l.wrapper();return cC.Delay(function(){return cC.Bind$2(cB,function(cD){return cC.Bind$1(j.succeed((bK.j())(b1.parse(cD))),function(cE){return cC.Return(cE);});});});}},f,A);A.get_FSStationId_=function(){return"FSharpStation1518006120020";};A.New=bP.Ctor(function(cz,cA,cB,cC){this.fsIds=d.defaultValue("FSharpStation1518006120020",cA);this.msgClient=new t.New(cz,cB,cC);this.toId=s.AddressId(this.fsIds);},A);s.predsL=function(cz,cA){var cB,cC;cB=cA;cC=bS.T.Empty;while(!(cB.$==0))(function(){var cD,cE;return cB.$==1?(cD=cB.$1,(cE=cB.$0,bT.contains(cE,cC)?void(cB=cD):(cB=bS.collect(a.id,bS.ofArray([cD,bS.collect(function(cF){return bS.append(b8.toList(cF.parent),cF.predecessors);},b8.toList(cz(cE)))])),void(cC=new bS.T({$:1,$0:cE,$1:cC}))))):null;}());return cC;};s.preds=function(cz,cA,cB){var cC,cD;return cB.$==1?(cC=cB.$0,(cD=bS.collect(a.id,bS.ofArray([cB.$1,bS.collect(function(cE){return bS.append(b8.toList(cE.parent),cE.predecessors);},b8.toList(cz(cC)))])),s.preds(cz,bT.contains(cC,cA)?cA:new bS.T({$:1,$0:cC,$1:cA}),cD))):cA;};s.sanitize=function(cz){var cA;cA=["\"","<",">","|","\u0000","\u0001","\u0002","\u0003","\u0004","\u0005","\u0006","\u0007","\u0008","\u0009","\n","\u000b","\u000c","\r","\u000e","\u000f","\u0010","\u0011","\u0012","\u0013","\u0014","\u0015","\u0016","\u0017","\u0018","\u0019","\u001a","\u001b","\u001c","\u001d","\u001e","\u001f",":","*","?","\\","/"];return bR.Filter(function(cB){return!bZ.contains(cB,cA);},cz);};s.snippetName=function(cz,cA){return cz!==""?cz:d.defaultValue("<empty>",bT.tryHead(bT.filter(function(cB){return!(bR.StartsWith(cB,"#")||bR.StartsWith(cB,"[<")||bR.StartsWith(cB,"//"));},bT.map(bR.Trim,bR.SplitChars(cA,["\n"],1)))));};s.AsyncStartF=function(){bJ.$cctor();return bJ.AsyncStartF;};s.replyToF=function(){bJ.$cctor();return bJ.replyToF;};s.sendRequestF=function(){bJ.$cctor();return bJ.sendRequestF;};s.awaitRequestForF=function(){bJ.$cctor();return bJ.awaitRequestForF;};s.addressIdTxt=function(cz){return cz.$0;};s.AddressId=function(cz){return{$:0,$0:cz};};s.AsyncStart=function(cz){bU.StartWithContinuations(cz,a.ignore,function(cA){a.alert(a.String(cA));},function(cA){a.alert(a.String(cA));},null);};s.selectF=a.id;C.extractConfig=function(cz){return bR.StartsWith(cz,"////-d:")?b9.string(cz,{$:1,$0:4},{$:1,$0:cz.indexOf("\n")-1}):"";};B.evaluateAR=function(cz,cA,cB,cC){var cD;cD=null;return bU.Delay(function(){return bU.Bind((new b_.New()).Async("FSharpStation:FSSGlobal.FsEvaluator.evaluateAS:-156288114",[cz,cA,cB,cC]),function(cE){function cF(cG,cH){return new i.New(cG,cH);}return bU.Return({$:0,$0:cE[0],$1:bS.ofSeq(bT.map(function(cG){return cF(cG[0],cG[1]);},cE[1]))});});});};D.translateAR=function(cz,cA){var cB;cB=null;return bU.Delay(function(){return bU.Bind((new b_.New()).Async("FSharpStation:FSSGlobal.FsTranslator.translateAS:608897894",[cz,cA]),function(cC){function cD(cE,cF){return new i.New(cE,cF);}return bU.Return({$:0,$0:cC[0],$1:bS.ofSeq(bT.map(function(cE){return cD(cE[0],cE[1]);},cC[1]))});});});};G.New=function(cz,cA){return{Code:cz,Message:cA};};H.New=function(cz,cA,cB){return{File:cz,Line:cA,Column:cB};};I.New=function(cz,cA,cB,cC){return{Name:cz,ReplacementText:cA,Glyph:cB,GlyphChar:cC};};J.New=function(cz,cA){return{Signature:cz,Comment:cA};};K.New=function(cz,cA,cB,cC){return{Name:cz,CanonicalTypeTextForSorting:cA,Display:cB,Description:cC};};L.New=function(cz,cA,cB,cC){return{Tip:cz,TypeText:cA,Parameters:cB,IsStaticArguments:cC};};M.New=function(cz,cA){return{Name:cz,Type:cA};};N.New=function(cz,cA){return{OutputType:cz,Parameters:cA};};O.New=function(cz,cA,cB){return{Name:cz,CurrentParameter:cA,Overloads:cB};};P.New=function(cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ){return{FileName:cz,StartLine:cA,StartColumn:cB,EndLine:cC,EndColumn:cD,IsFromDefinition:cE,IsFromAttribute:cF,IsFromComputationExpression:cG,IsFromDispatchSlotImplementation:cH,IsFromPattern:cI,IsFromType:cJ};};Q.New=function(cz,cA){return{Name:cz,Uses:cA};};R.New=function(cz,cA){return{Name:cz,Overloads:cA};};S.New=function(cz,cA,cB){return{Fsc:cz,Fsi:cA,MSBuild:cB};};T.New=function(cz,cA,cB,cC,cD,cE,cF){return{FileName:cz,StartLine:cA,EndLine:cB,StartColumn:cC,EndColumn:cD,Message:cE,Subcategory:cF};};U.New=function(cz,cA){return{File:cz,Errors:cA};};V.New=function(cz){return{Kind:cz};};W.New=function(cz,cA,cB,cC,cD,cE,cF,cG){return{UniqueName:cz,Name:cA,Glyph:cB,GlyphChar:cC,IsTopLevel:cD,File:cE,EnclosingEntity:cF,IsAbstract:cG};};X.New=function(cz,cA){return{Declaration:cz,Nested:cA};};Y.New=function(cz,cA,cB,cC,cD,cE){return{Namespace:cz,Name:cA,Type:cB,Line:cC,Column:cD,MultipleNames:cE};};Z.New=function(cz,cA){return{Name:cz,Qualifier:cA};};_0.New=function(cz,cA,cB){return{Opens:cz,Qualifies:cA,Word:cB};};_1.New=function(cz){return{Text:cz};};_2.ACMIdentification={$:0};_3=E.FSAutoCompleteIntermediaryClient=bP.Class({info2Bool:function(cz){return cz.$==0&&cz.$0==="true";},errors2String:function(cz){return cz.$==7?bR.concat("\n",bT.map(function(cA){return((((((((bP.Curried(function(cB,cC,cD,cE,cF,cG,cH,cI){return cB("ErrFSharp \"F# "+bQ.toSafe(cC)+".fsx ("+a.String(cD)+","+a.String(cE)+") - ("+a.String(cF)+","+a.String(cG)+") "+bQ.toSafe(cH)+":"+bQ.toSafe(cI)+"\"");},8))(a.id))(cA.FileName))(cA.StartLine))(cA.StartColumn))(cA.EndLine))(cA.EndColumn))(cA.Subcategory))(cA.Message);},cz.$0.Errors)):(function(cA){return function(cB){return cA(bN.p$4(cB));};}(a.id))(cz);},tip2String:function(cz){return cz.$==11?bR.concat("\n",bT.collect(function(cA){return bS.ofArray([cA.Signature,cA.Comment]);},bT.collect(a.id,cz.$0))):(function(cA){return function(cB){return cA(bN.p$4(cB));};}(a.id))(cz);},comp2Strings:function(cz){var cA;cA=this;return cz.$==3?bZ.map(function(cB){return[cB.Name,cB.ReplacementText,cB.Glyph,cB.GlyphChar];},cz.$0):cz.$==2?[]:cz.$==17?bZ.collect(function(cB){return cA.comp2Strings(cB);},cz.$0):[[(function(cB){return function(cC){return cB(bN.p$4(cC));};}(a.id))(cz),"","ErrorMsg","E"]];},Async_map:function(cz,cA){var cB;cB=null;return bU.Delay(function(){return bU.Bind(cA,function(cC){return bU.Return(cz(cC));});});},FindDecl:function(cz,cA,cB,cC){return this.Async_map(a.id,E.sendMessage({$:7,$0:cz,$1:cA,$2:cB,$3:cC}));},FindDecl$1:function(cz,cA,cB){return this.Async_map(a.id,E.sendMessage({$:6,$0:cz,$1:cA,$2:cB}));},Complete:function(cz,cA,cB,cC,cD){var cE;cE=this;return cE.Async_map(function(cF){return cE.comp2Strings(cF);},E.sendMessage({$:9,$0:cz,$1:cB,$2:cC,$3:cA,$4:cD}));},Complete$1:function(cz,cA,cB,cC){var cD;cD=this;return cD.Async_map(function(cE){return cD.comp2Strings(cE);},E.sendMessage({$:8,$0:cz,$1:cB,$2:cC,$3:cA}));},ToolTip:function(cz,cA,cB,cC){var cD;cD=this;return cD.Async_map(function(cE){return cD.tip2String(cE);},E.sendMessage({$:3,$0:cz,$1:cA,$2:cB,$3:cC}));},ToolTip$1:function(cz,cA,cB){var cC;cC=this;return cC.Async_map(function(cD){return cC.tip2String(cD);},E.sendMessage({$:2,$0:cz,$1:cA,$2:cB}));},Parse:function(cz,cA){var cB;cB=this;return cB.Async_map(function(cC){return cB.errors2String(cC);},E.sendMessage({$:10,$0:cz,$1:cA,$2:[]}));},Parse$1:function(cz,cA,cB){var cC;cC=this;return cC.Async_map(function(cD){return cC.errors2String(cD);},E.sendMessage({$:10,$0:cz,$1:cA,$2:cB}));},MustParse:function(cz,cA){var cB;cB=this;return cB.Async_map(function(cC){return cB.info2Bool(cC);},E.sendMessage({$:11,$0:cz,$1:cA}));}},f,_3);_3.New=bP.Ctor(function(cz,cA){},_3);E.sendMessage=function(cz){var cA;cA=null;return bU.Delay(function(){return bU.Bind((new b_.New()).Async("FSharpStation:FSSGlobal.FSAutoCompleteIntermediary.sendMessageRpc:1124743568",[cz]),function(cB){return bU.Return(cB);});});};_5=_4.Val=bP.Class({get_ValTypeMember:function(){return 0;}},null,_5);_6.HelperType={$:0};_6.op_AmpGreater=function(cz,cA){return new _5({$:2,$0:cA});};_6.op_AmpGreater$1=function(cz,cA){return new _5({$:1,$0:cA});};_6.op_AmpGreater$2=function(cz,cA){return cA;};_6.op_AmpGreater$3=function(cz,cA){return cA;};_6.op_AmpGreater$4=function(cz,cA){return cA;};_6.op_AmpGreater$5=function(cz,cA){return cA;};_6.op_AmpGreater$6=function(cz,cA){return cA;};_6.op_AmpGreater$7=function(cz,cA){return cA;};_6.op_AmpGreater$8=function(cz,cA){return cA;};_6.op_AmpGreater$9=function(cz,cA){return new _5({$:0,$0:cA});};_6.op_AmpGreater$10=function(cz,cA){return new _5({$:0,$0:cA});};_6.op_AmpGreater$11=function(cz,cA){return new _5({$:0,$0:cA});};_6.op_AmpGreater$12=function(cz,cA){return new _5({$:0,$0:cA});};_6.op_AmpGreater$13=function(cz,cA){return new _5({$:0,$0:cA});};_6.op_AmpGreater$14=function(cz,cA){return new _5({$:0,$0:cA});};_7=_5.valBuilder=bP.Class({Delay:function(cz){return cz();},Zero:function(){return new _5({$:0,$0:null});},Bind:function(cz,cA){return _5.bind(cA,cz);},Bind$1:function(cz,cA){return _5.bind(cA,cz);},Bind$2:function(cz,cA){return _5.bind(cA,cz);},ReturnFrom:a.id,Return:function(cz){return new _5({$:0,$0:cz});}},f,_7);_7.New=bP.Ctor(function(){},_7);_5.fixitF=function(cz,cA){return cz(cA);};_5.valFlow=function(){bJ.$cctor();return bJ.valFlow;};_5.mapCached=function(cz,cA){return new _5({$:2,$0:cb.MapCached(cz,_5.toView(cA))});};_5.sink=function(cz,cA){cb.Sink(cz,_5.toView(_5.fixit(cA)));};_5.mapAsync=function(cz,cA){return new _5({$:2,$0:cb.MapAsync(cz,_5.toView(_5.fixit(cA)))});};_5.iter4=function(cz,cA,cB,cC,cD){_5.iterV(a.ignore,_5.map4(cz,cA,cB,cC,cD));};_5.iter3=function(cz,cA,cB,cC){_5.iterV(a.ignore,_5.map3(cz,cA,cB,cC));};_5.iter2=function(cz,cA,cB){_5.iterV(a.ignore,_5.map2(cz,cA,cB));};_5.apply=function(cz,cA){return _5.bindV(function(cB){return _5.mapV(cB,cz);},cA);};_5.map4=function(cz,cA,cB,cC,cD){return _5.map4V(cz,_5.fixit(cA),_5.fixit(cB),_5.fixit(cC),_5.fixit(cD));};_5.map3=function(cz,cA,cB,cC){return _5.map3V(cz,_5.fixit(cA),_5.fixit(cB),_5.fixit(cC));};_5.map2=function(cz,cA,cB){return((_5.map2V(cz))(_5.fixit(cA)))(_5.fixit(cB));};_5.map=function(cz,cA){return _5.mapV(cz,_5.fixit(cA));};_5.bind=function(cz,cA){return _5.bindV(cz,_5.fixit(cA));};_5.iter=function(cz,cA){_5.iterV(cz,_5.fixit(cA));};_5.toDoc=function(cz){return cc.EmbedView(_5.toView(_5.fixit(cz)));};_5.fixit=function(cz){return _5.fixitF(_5.toVal,cz);};_5.toVal=function(cz){return typeof cz=="string"?new _5({$:0,$0:cz}):typeof cz=="number"?new _5({$:0,$0:cz}):typeof cz=="boolean"?new _5({$:0,$0:cz}):cz instanceof cc?new _5({$:0,$0:cz}):cz instanceof _5?cz:cz instanceof ca.Var?new _5({$:1,$0:cz}):"RSet"in cz?new _5({$:1,$0:cz}):typeof cz=="function"?new _5({$:2,$0:cz}):cz.get_ValTypeMember()===0?cz:cd.FailWith((function(cA){return function(cB){return cA("Could not convert "+bQ.prettyPrint(cB));};}(a.id))(cz));};_5.attrV=function(cz,cA){return cA.$==2?ce.Dynamic(cz,cA.$0):cA.$==1?ce.Dynamic(cz,cA.$0.RView()):cf.Create(cz,cA.$0);};_5.attrVO=function(cz,cA){var cB,cC;return cA.$==2?(cB=cA.$0,ce.DynamicPred(cz,cb.Map(function(cD){return cD!=null;},cB),cb.Map(function(cD){return cD==null?"":cD.$0;},cB))):cA.$==1?(cC=cA.$0,ce.DynamicPred(cz,cb.Map(function(cD){return cD!=null;},cC.RView()),cb.Map(function(cD){return cD==null?"":cD.$0;},cC.RView()))):cA.$0==null?ce.DynamicPred(cz,cb.Const(false),cb.Const("")):cf.Create(cz,cA.$0.$0);};_5.tagElt=function(cz,cA){return cA.$==2?cc.EmbedView(cb.Map(cz,cA.$0)):cA.$==1?cc.EmbedView(cb.Map(cz,cA.$0.RView())):cz(cA.$0);};_5.tagDoc=function(cz,cA){return cA.$==2?cc.EmbedView(cb.Map(cz,cA.$0)):cA.$==1?cc.EmbedView(cb.Map(cz,cA.$0.RView())):cz(cA.$0);};_5.map4V=function(cz,cA,cB,cC,cD){var cE;cE=_5.map3V(cz,cA,cB,cC);return((_5.map2V(function(cF){return function(cG){return cG(cF);};}))(cD))(cE);};_5.map3V=function(cz,cA,cB,cC){var cD;cD=((_5.map2V(cz))(cA))(cB);return((_5.map2V(function(cE){return function(cF){return cF(cE);};}))(cC))(cD);};_5.map2V=function(cz){function cA(cC,cD,cE){return(cC(cE))(cD);}function cB(cC){var cD,cE;cD=(cE=function(cF){var cG;cG=cz(cF);return function(cH){return _5.mapV(cG,cH);};},function(cF){return cA(cE,cC,cF);});return function(cF){return _5.bindV(cD,cF);};}return(bP.Curried3(cA))(cB);};_5.bindV=function(cz,cA){return cA.$==2?new _5({$:2,$0:cb.Bind(function(cB){return _5.toView(cz(cB));},cA.$0)}):cA.$==1?new _5({$:2,$0:cb.Bind(function(cB){return _5.toView(cz(cB));},cA.$0.RView())}):cz(cA.$0);};_5.getAsync=function(cz){return cz.$==2?cb.GetAsync(cz.$0):cz.$==1?bU.Return(cz.$0.RVal()):bU.Return(cz.$0);};_5.toView=function(cz){return cz.$==2?cz.$0:cz.$==1?cz.$0.RView():cb.Const(cz.$0);};_5.iterV=function(cz,cA){if(cA.$==2)cb.Get(cz,cA.$0);else if(cA.$==1)cz(cA.$0.RVal());else cz(cA.$0);};_5.mapV=function(cz,cA){return cA.$==2?new _5({$:2,$0:cb.Map(cz,cA.$0)}):cA.$==1?new _5({$:2,$0:cb.Map(cz,cA.$0.RView())}):new _5({$:0,$0:cz(cA.$0)});};_8=_4.HtmlNode=bP.Class({Style:function(cz){return this.AddChildren([_4.style(cz)]);},AddClass:function(cz){return _4.addClass(cz,this);},InsertChildren:function(cz){return _4.insertChildren(cz,this);},AddChildren:function(cz){return _4.addChildren(cz,this);},get_toDoc:function(){var cz,cA,cB;return this.$==1||this.$==4?cc.Empty():(cA=_4.chooseNode(this),(cB=cc.Empty(),cA==null?cB:cA.$0));}},null,_8);_8.HtmlEmpty=new _8({$:4});_8.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(cz,cA){return _4.indent2Level(11,cA,cz);};_8.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(cz,cA){return _4.indent2Level(10,cA,cz);};_8.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(cz,cA){return _4.indent2Level(9,cA,cz);};_8.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(cz,cA){return _4.indent2Level(8,cA,cz);};_8.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(cz,cA){return _4.indent2Level(7,cA,cz);};_8.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(cz,cA){return _4.indent2Level(6,cA,cz);};_8.op_MinusMinusMinusMinusMinusMinusMinusMinus=function(cz,cA){return _4.indent2Level(5,cA,cz);};_8.op_MinusMinusMinusMinusMinusMinus=function(cz,cA){return _4.indent2Level(4,cA,cz);};_8.op_MinusMinusMinusMinus=function(cz,cA){return _4.indent2Level(3,cA,cz);};_8.op_MinusMinus=function(cz,cA){return _4.indent2Level(2,cA,cz);};_8.op_Addition=function(cz,cA){return new bS.T({$:1,$0:cA,$1:cz});};_8.op_MinusMinusMinus=function(cz,cA){return cz.$==1?cz.$1.$==1?new bS.T({$:1,$0:cz.$1.$0.AddChildren([cz.$0.AddChildren([cA])]),$1:cz.$1.$1}):bS.ofArray([cz.$0.AddChildren([cA])]):bS.T.Empty;};_8.op_Subtraction=function(cz,cA){return cz.$==0?bS.T.Empty:new bS.T({$:1,$0:cz.$0.AddChildren([cA]),$1:cz.$1});};_4.LoadFilesAsync=function(cz){function cA(cB,cC){try{a.CIPHERSpaceLoadFiles(cz,cB);}catch(cD){cC(cD);}}return bU.FromContinuations(function(cB,cC,cD){return cA.apply(null,[cB,cC,cD]);});};_4.findRootElement=function(cz){var cA;return!function(cB){return cz.getRootNode(cB);}?a.document.body:(cA=cz.getRootNode(),!cA.body?cA.firstChild:cA.body);};_4.createIFrame=function(cz){var cA;cA=cg.Create$1(true);return _4.div([_4.style("position: relative; overflow: hidden; height: 100%; width: 100%;"),_4.iframe([_4.style("position: absolute; width:100%; height:100%;"),_4.frameborder("0"),new _8({$:7,$0:ce.OnAfterRender(cz)}),new _8({$:7,$0:ce.Handler("mouseleave",function(){return function(){return cg.Set(cA,true);};})})]),_4.div([_4.style("position: absolute;"),_4.classIf("iframe-cover",_5.map(a.id,cA)),new _8({$:7,$0:ce.Handler("mouseenter",function(){return function(){return cb.Get(function(cB){if(!cB)cg.Set(cA,false);},ci.get_MousePressed());};})})]),_4.styleH([_4.htmlText(".iframe-cover { top:0; left:0; right:0; bottom:0; background: blue; opacity: 0.04; z-index: 2; }")])]);};_4.bindHElem=function(cz,cA){return new _8({$:5,$0:_5.map(cz,_5.fixit(cA))});};_4.string2Styles=function(){bJ.$cctor();return bJ.string2Styles;};_4.style2pairs=function(cz){return bZ.map(function(cA){return[bR.Trim(bZ.get(cA,0)),bR.Trim(bZ.get(cA,1))];},bZ.filter(function(cA){return bZ.length(cA)===2;},bZ.map(function(cA){return bR.SplitChars(cA,[":"],0);},bR.SplitChars(cz,[";"],0))));};_4.xclass=function(cz){var cA,cB;return new _8({$:7,$0:(cA=_5.fixit(cz),cA.$==2?ce.DynamicClass("class_for_view_not_implemented",cA.$0,function(cC){return""!==cC;}):cA.$==1?(cB=cA.$0,ce.DynamicClass(cB.RVal(),cB.RView(),function(cC){return""!==cC;})):ce.Class(cA.$0))});};_4.classIf=function(cz,cA){return _4["class"](_5.map(function(cB){return cB?cz:"";},_5.fixit(cA)));};_4.css=function(cz){return _4.styleH([_4.htmlText(cz)]);};_4.style1=function(cz,cA){var cB;return _4.style(_5.map((cB=cz+":",function(cC){return cB+cC;}),cA));};_4.style=function(cz){return _4.htmlAttribute("style",cz);};_4.draggable=function(cz){return _4.htmlAttribute("draggable",cz);};_4.spellcheck=function(cz){return _4.htmlAttribute("spellcheck",cz);};_4.frameborder=function(cz){return _4.htmlAttribute("frameborder",cz);};_4.Id=function(cz){return _4.htmlAttribute("id",cz);};_4.title=function(cz){return _4.htmlAttribute("title",cz);};_4.width=function(cz){return _4.htmlAttribute("width",cz);};_4.type=function(cz){return _4.htmlAttribute("type",cz);};_4["class"]=function(cz){return _4.htmlAttribute("class",cz);};_4.src=function(cz){return _4.htmlAttribute("src",cz);};_4.charset=function(cz){return _4.htmlAttribute("charset",cz);};_4.rel=function(cz){return _4.htmlAttribute("rel",cz);};_4.hrefO=function(cz){return _4.htmlAttributeO("href",cz);};_4.href=function(cz){return _4.htmlAttribute("href",cz);};_4.target=function(cz){return _4.htmlAttribute("target",cz);};_4.strong=function(cz){return _4.htmlElement("strong",cz);};_4.section=function(cz){return _4.htmlElement("section",cz);};_4.body=function(cz){return _4.htmlElement("body",cz);};_4.iframe=function(cz){return _4.htmlElement("iframe",cz);};_4.link=function(cz){return _4.htmlElement("link",cz);};_4.fieldset=function(cz){return _4.htmlElement("fieldset",cz);};_4.styleH=function(cz){return _4.htmlElement("style",cz);};_4.script=function(cz){return _4.htmlElement("script",cz);};_4.button=function(cz){return _4.htmlElement("button",cz);};_4.label=function(cz){return _4.htmlElement("label",cz);};_4.tbody=function(cz){return _4.htmlElement("tbody",cz);};_4.td=function(cz){return _4.htmlElement("td",cz);};_4.tr=function(cz){return _4.htmlElement("tr",cz);};_4.th=function(cz){return _4.htmlElement("th",cz);};_4.thead=function(cz){return _4.htmlElement("thead",cz);};_4.table=function(cz){return _4.htmlElement("table",cz);};_4.form=function(cz){return _4.htmlElement("form",cz);};_4.span=function(cz){return _4.htmlElement("span",cz);};_4.img=function(cz){return _4.htmlElement("img",cz);};_4.div=function(cz){return _4.htmlElement("div",cz);};_4.h6=function(cz){return _4.htmlElement("h6",cz);};_4.h5=function(cz){return _4.htmlElement("h5",cz);};_4.h4=function(cz){return _4.htmlElement("h4",cz);};_4.h3=function(cz){return _4.htmlElement("h3",cz);};_4.h2=function(cz){return _4.htmlElement("h2",cz);};_4.h1=function(cz){return _4.htmlElement("h1",cz);};_4.hr=function(cz){return _4.htmlElement("hr",cz);};_4.br=function(cz){return _4.htmlElement("br",cz);};_4.li=function(cz){return _4.htmlElement("li",cz);};_4.ul=function(cz){return _4.htmlElement("ul",cz);};_4.p=function(cz){return _4.htmlElement("p",cz);};_4.a=function(cz){return _4.htmlElement("a",cz);};_4.textV=function(cz){return _4.tag(cc.TextNode,cz);};_4._placeholder=function(cz){return _4.atr("placeholder",cz);};_4._style=function(cz){return _4.atr("style",cz);};_4._type=function(cz){return _4.atr("type",cz);};_4._class=function(cz){return _4.atr("class",cz);};_4.tag=function(cz,cA){return _5.tagDoc(cz,_5.fixit(cA));};_4.atr=function(cz,cA){return _5.attrV(cz,_5.fixit(cA));};_4.renderDoc=function(){bJ.$cctor();return bJ.renderDoc;};_4.op_BangBang=function(cz,cA){return bS.ofArray([cz(cA)]);};_4.endHtmlIndent=function(cz){var cA;cA=_4.finishO(cz);return cA==null?_4.htmlText("Malformed HTMLNode"):cA.$0;};_4.finishO=function(cz){return cz.$==1?cz.$1.$==1?_4.finishO(_4.out(cz)):{$:1,$0:cz.$0}:null;};_4.indent2Level=function(cz,cA,cB){return cB.get_Length()<cz?new bS.T({$:1,$0:cA,$1:cB}):_4.indent2Level(cz,cA,_4.out(cB));};_4.out=function(cz){return cz.$==1?cz.$1.$==1?new bS.T({$:1,$0:_4.addChildren([cz.$0],cz.$1.$0),$1:cz.$1.$1}):bS.ofArray([cz.$0]):bS.T.Empty;};_4.addClassIf=function(cz,cA){var cB;cB=_5.map(function(cC){return cC?cz:"";},_5.fixit(cA));return function(cC){return _4.addClass(cB,cC);};};_4.addClass=function(cz,cA){return _4.addChildren(bS.ofArray([_4.htmlAttribute("class",cz)]),cA);};_4.insertChildren=function(cz,cA){function cB(cC,cD){return[cC,bT.append(cz,cD)];}return _4.mapHtmlElement(function(cC){return function(cD){return cB(cC,cD);};},cA);};_4.addChildren=function(cz,cA){function cB(cC,cD){return[cC,bT.append(cD,cz)];}return _4.mapHtmlElement(function(cC){return function(cD){return cB(cC,cD);};},cA);};_4.someElt=function(cz){return new _8({$:6,$0:cz});};_4.str=function(cz){return new _8({$:3,$0:_5.fixit(cz)});};_4.htmlText=function(cz){return new _8({$:3,$0:_5.fixit(cz)});};_4.htmlAttributeO=function(cz,cA){return new _8({$:2,$0:cz,$1:_5.fixit(cA)});};_4.htmlAttribute=function(cz,cA){return new _8({$:1,$0:cz,$1:_5.fixit(cA)});};_4.htmlElement=function(cz,cA){return new _8({$:0,$0:cz,$1:cA});};_4.mapHtmlElement=function(cz,cA){var cB;return cA.$==0?(cB=(cz(cA.$0))(cA.$1),new _8({$:0,$0:cB[0],$1:cB[1]})):cA.$==5?new _8({$:5,$0:_5.map(function(cC){return _4.mapHtmlElement(cz,cC);},cA.$0)}):cA;};_4.getAttrChildren=function(cz){var cA,cB,cC;function cD(cE){var cF;return cE.$==1&&(cE.$0===cz&&(cF=[cE.$0,cE.$1],true))?{$:1,$0:cF[1]}:null;}cA=function(cE){return bT.tryPick(cD,cE);};cB=(cC=new _5({$:0,$0:""}),function(cE){return cE==null?cC:cE.$0;});return function(cE){return cB(cA(cE));};};_4.chooseNode=function(cz){var cA,cB,cC,cD;return cz.$==0?(cA=cz.$1,{$:1,$0:cc.Element(cz.$0,_4.getAttrsFromSeq(cA),bT.choose(_4.chooseNode,cA))}):cz.$==3?{$:1,$0:_5.tagDoc(cc.TextNode,cz.$0)}:cz.$==6?{$:1,$0:cz.$0}:cz.$==5?{$:1,$0:(cB=_5.toView(cz.$0),cc.BindView((cC=(cD=cc.Empty(),function(cE){return cE==null?cD:cE.$0;}),function(cE){return cC(_4.chooseNode(cE));}),cB))}:null;};_4.getAttrsFromSeq=function(cz){var cA;cA=bT.choose(_4.chooseAttr,cz);return bT.append(bS.choose(a.id,bS.ofArray([_4.groupAttr("class"," ",cz),_4.groupAttr("style","; ",cz)])),cA);};_4.groupAttr=function(cz,cA,cB){var cC,cD;function cE(cF,cG){return _4.concat(cA,cF,cG);}cC=bT.choose(function(cF){return _4.chooseThisAttr(cz,cF);},cB);return bT.isEmpty(cC)?null:{$:1,$0:_5.attrV(cz,(cD=(bP.Curried3(_5.map2))(function(cF){return function(cG){return cE(cF,cG);};}),bT.reduce(function(cF,cG){return(cD(cF))(cG);},cC)))};};_4.concat=function(cz,cA,cB){return cA+cz+cB;};_4.chooseThisAttr=function(cz,cA){var cB;return cA.$==1&&(cA.$0===cz&&(cB=[cA.$0,cA.$1],true))?{$:1,$0:cB[1]}:null;};_4.chooseAttr=function(cz){var cA,cB,cC,cD;return cz.$==1&&((cB=cz.$0,cB!=="class"&&cB!=="style")&&(cA=[cz.$0,cz.$1],true))?{$:1,$0:_5.attrV(cA[0],cA[1])}:cz.$==2&&((cD=cz.$0,cD!=="class"&&cD!=="style")&&(cC=[cz.$0,cz.$1],true))?{$:1,$0:_5.attrVO(cC[0],cC[1])}:cz.$==7?{$:1,$0:cz.$0}:null;};_4.addClassX=function(cz,cA){var cB;return bR.concat(" ",(cB=new cj.New$1(ck.OfSeq(bR.SplitChars(cz,[" "],0))),new cj.New$1(ck.OfSeq(bT.append(new cj.New$1(ck.OfSeq(bR.SplitChars(cA,[" "],0))),cB)))));};_=_9.Button=bP.Class({OnClick:function(cz){return _.New(this._class,this._type,this.style,this.text,cz,this.disabled,this.id);},Disabled:function(cz){return _.New(this._class,this._type,this.style,this.text,this.onClick,_5.fixit(cz),this.id);},Text:function(cz){return _.New(this._class,this._type,this.style,_5.fixit(cz),this.onClick,this.disabled,this.id);},Style:function(cz){return _.New(this._class,this._type,_5.fixit(cz),this.text,this.onClick,this.disabled,this.id);},Type:function(cz){return _.New(this._class,_5.fixit(cz),this.style,this.text,this.onClick,this.disabled,this.id);},Class:function(cz){return _.New(_5.fixit(cz),this._type,this.style,this.text,this.onClick,this.disabled,this.id);},Id:function(cz){return _.New(this._class,this._type,this.style,this.text,this.onClick,this.disabled,cz);},get_Render:function(){var cz,cA;return new _8({$:6,$0:(cz=_4.button([_4.type(this._type),_4["class"](this._class),_4.Id(this.id),_4.style(this.style),new _8({$:7,$0:(cA=cb.Const(""),ce.DynamicPred("disabled",_5.toView(this.disabled),cA))}),new _8({$:7,$0:cf.Handler("click",this.onClick)}),new _8({$:3,$0:this.text})]),(_4.renderDoc())(cz))});}},null,_);_.New$1=function(cz){return _.New(_5.fixit("btn"),_5.fixit("button"),_5.fixit(""),_5.fixit(cz),function(){return function(){return null;};},_5.fixit(false),"");};_.New=function(cz,cA,cB,cC,cD,cE,cF){return new _({_class:cz,_type:cA,style:cB,text:cC,onClick:cD,disabled:cE,id:cF});};$=_9.Input=bP.Class({get_Var:function(){return this["var"];},SetVar:function(cz){return $.New(this._type,this._class,this.style,this.placeholder,this.id,cz,this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Suffix:function(cz){return $.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,cz,this.content,this.prefixAdded,true);},Prefix:function(cz){return this.Prefix$1(_4.htmlText(cz));},Prefix$1:function(cz){return $.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],cz,this.suffix,this.content,true,this.suffixAdded);},Content:function(cz){return $.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,cz,this.prefixAdded,this.suffixAdded);},Id:function(cz){return $.New(this._type,this._class,this.style,this.placeholder,cz,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Placeholder:function(cz){return $.New(this._type,this._class,this.style,_5.fixit(cz),this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Style:function(cz){return $.New(this._type,this._class,_5.fixit(cz),this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Type:function(cz){return $.New(_5.fixit(cz),this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Class:function(cz){return $.New(this._type,_5.fixit(cz),this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},get_Render:function(){var cz;function cA(cB){return cB.$==3?"input-group-addon":"input-group-btn";}cz=this;return _4.div(bS.ofSeq(bT.delay(function(){return bT.append(cz.prefixAdded||cz.suffixAdded?[_4["class"]("input-group")]:[],bT.delay(function(){return bT.append(cz.prefixAdded?[_4.span([_4["class"](cA(cz.prefix)),cz.prefix])]:[],bT.delay(function(){return bT.append([new _8({$:6,$0:cc.Input(bT.append(cz.content,bS.ofArray([_4._type(cz._type),_4._class(cz._class),_4._style(cz.style),cf.Create("id",cz.id),_4._placeholder(cz.placeholder)])),cz["var"])})],bT.delay(function(){return cz.suffixAdded?[_4.span([_4["class"](cA(cz.suffix)),cz.suffix])]:[];}));}));}));})));}},null,$);$.New$1=function(cz){return $.New$2(cg.Create$1(cz));};$.New$2=function(cz){var cA;cA=_5.fixit("form-control");return $.New(_5.fixit("text"),cA,_5.fixit(""),_5.fixit("Enter text:"),"",cz,_8.HtmlEmpty,_8.HtmlEmpty,bS.T.Empty,false,false);};$.New=function(cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ){return new $({_type:cz,_class:cA,style:cB,placeholder:cC,id:cD,"var":cE,prefix:cF,suffix:cG,content:cH,prefixAdded:cI,suffixAdded:cJ});};ba=_9.Hoverable=bP.Class({Content:function(cz){var cA;cA=this;return cz.AddChildren([_4.classIf("hovering",this.hover),new _8({$:7,$0:ce.Handler("mouseenter",function(){return function(){return cA.hover.set_RVal(true);};})}),new _8({$:7,$0:ce.Handler("mouseleave",function(){return function(){return cA.hover.set_RVal(false);};})})]);},Content$1:function(cz){var cA;cA=this;return _4.div(bT.append(cz,bS.ofArray([_4.classIf("hovering",this.hover),new _8({$:7,$0:ce.Handler("mouseenter",function(){return function(){return cA.hover.set_RVal(true);};})}),new _8({$:7,$0:ce.Handler("mouseleave",function(){return function(){return cA.hover.set_RVal(false);};})})])));}},null,ba);ba.get_Demo=function(){return ba.get_New().Content(_4.div([_4.style("flex-flow: column;")]));};ba.get_New=function(){return ba.New(cg.Create$1(false));};ba.New=function(cz){return new ba({hover:cz});};bb=_9.TextArea=bP.Class({get_Var:function(){return this["var"];},SetVar:function(cz){return bb.New(this._class,this.placeholder,this.title,this.spellcheck,this.id,cz);},Id:function(cz){return bb.New(this._class,this.placeholder,this.title,this.spellcheck,cz,this["var"]);},Spellcheck:function(cz){return bb.New(this._class,this.placeholder,this.title,cz,this.id,this["var"]);},Title:function(cz){return bb.New(this._class,this.placeholder,_5.fixit(cz),this.spellcheck,this.id,this["var"]);},Placeholder:function(cz){return bb.New(this._class,_5.fixit(cz),this.title,this.spellcheck,this.id,this["var"]);},Class:function(cz){return bb.New(_5.fixit(cz),this.placeholder,this.title,this.spellcheck,this.id,this["var"]);},get_Render:function(){return this.RenderWith(bS.T.Empty);},RenderWith:function(cz){return _4.div([_4.someElt(cc.InputArea(bS.append(bS.ofArray([_4._class(this._class),cf.Create("id",this.id),_4.atr("spellcheck",_5.map(function(cA){return cA?"true":"false";},this.spellcheck)),_4.atr("title",this.title),_4.atr("style","height: 100%;  width: 100%; box-sizing: border-box; "),_4._placeholder(this.placeholder)]),cz),this["var"]))]);}},null,bb);bb.New$1=function(cz){return bb.New$2(cg.Create$1(cz));};bb.New$2=function(cz){return bb.New(_5.fixit("form-control"),_5.fixit("Enter text:"),_5.fixit(""),_5.fixit(false),"",cz);};bb.New=function(cz,cA,cB,cC,cD,cE){return new bb({_class:cz,placeholder:cA,title:cB,spellcheck:cC,id:cD,"var":cE});};bc.New=function(cz,cA){return{line:cz,ch:cA};};bd=_9.CodeMirrorEditor=bP.Class({},f,bd);bd.New=bP.Ctor(function(){},bd);be=_9.CodeMirror=bP.Class({get_Var:function(){return this["var"];},OnRender:function(cz){return be.New(this._class,this.style,this.id,this["var"],this.onChange,{$:1,$0:cz},this.editorO);},OnChange:function(cz){return be.New(this._class,this.style,this.id,this["var"],cz,this.onRender,this.editorO);},Style:function(cz){return be.New(this._class,_5.fixit(cz),this.id,this["var"],this.onChange,this.onRender,this.editorO);},SetVar:function(cz){return be.New(this._class,this.style,this.id,cz,this.onChange,this.onRender,this.editorO);},Id:function(cz){return be.New(this._class,this.style,cz,this["var"],this.onChange,this.onRender,this.editorO);},Class:function(cz){return be.New(_5.fixit(cz),this.style,this.id,this["var"],this.onChange,this.onRender,this.editorO);},get_Render:function(){var cz;cz=this;return _4.div([_4["class"](this._class),new _8({$:7,$0:cf.Create("id",this.id)}),_4.style("position: relative; height: 300px"),_4.style(this.style),_4.div([_4.style("height: 100%; width: 100%; position: absolute;"),new _8({$:7,$0:ce.OnAfterRender(function(cA){a.CIPHERSpaceLoadFiles(_9.codeMirrorIncludes(),function(){var cB,cC,cD,cE;cB=a.CodeMirror(cA,{theme:"rubyblue",lineNumbers:true,matchBrackets:true,gutters:["CodeMirror-lint-markers"],extraKeys:{Tab:function(cF){cF.replaceSelection("    ","end");},F11:function(cF){cF.setOption("fullScreen",!cF.getOption("fullScreen"));}}});cz.editorO={$:1,$0:cB};cC=cz.onRender;cC==null?void 0:cC.$0(cB);cD=[0];cE=[0];cB.on("changes",function(){var cF;cF=cB.getValue();cz["var"].RVal()!==cF?(cD[0]=cD[0]+1,cz["var"].set_RVal(cF),cz.onChange()):void 0;});cb.Sink(function(){if(cD[0]>cE[0])cE[0]=cD[0];else if(cB.getValue()!==cz["var"].RVal()){cB.setValue(cz["var"].RVal());cB.getDoc().clearHistory();}},cz["var"].RView());});})})]),_4.link([_4.href("/EPFileX/codemirror/content/editor.css"),_4.type("text/css"),_4.rel("stylesheet")]),_4.link([_4.href("/EPFileX/codemirror/content/codemirror.css"),_4.type("text/css"),_4.rel("stylesheet")]),_4.link([_4.href("/EPFileX/codemirror/scripts/addon/display/fullscreen.css"),_4.type("text/css"),_4.rel("stylesheet")]),_4.link([_4.href("/EPFileX/codemirror/scripts/addon/dialog/dialog.css"),_4.type("text/css"),_4.rel("stylesheet")]),_4.link([_4.href("/EPFileX/codemirror/scripts/addon/hint/show-hint.css"),_4.type("text/css"),_4.rel("stylesheet")]),_4.link([_4.href("/EPFileX/codemirror/scripts/addon/lint/lint.css"),_4.type("text/css"),_4.rel("stylesheet")]),_4.css(".CodeMirror { height: 100% }")]);}},null,be);be.New$1=function(cz){return be.New$2(cg.Create$1(cz));};be.New$2=function(cz){return be.New(_5.fixit(""),_5.fixit(""),"",cz,a.ignore,null,null);};be.New=function(cz,cA,cB,cC,cD,cE,cF){return new be({_class:cz,style:cA,id:cB,"var":cC,onChange:cD,onRender:cE,editorO:cF});};bf.New=function(cz,cA,cB){return{text:cz,displayText:cA,className:cB};};bg.New=function(cz,cA,cB){return{list:cz,from:cA,to:cB};};bh.New=function(cz,cA,cB){return{hint:cz,completeSingle:cA,container:cB};};bi.New=function(cz,cA,cB,cC){return{message:cz,severity:cA,from:cB,to:cC};};bj=_9.SplitterBar=bP.Class({Children:function(cz){return bj.New(this.value,this.min,this.max,this.vertical,this.node,cz,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},get_After:function(){return bj.New(this.value,this.min,this.max,this.vertical,this.node,this.children,true,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},get_Before:function(){return bj.New(this.value,this.min,this.max,this.vertical,this.node,this.children,false,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Horizontal:function(){return bj.New(this.value,this.min,this.max,_5.fixit(false),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Vertical:function(){return bj.New(this.value,this.min,this.max,_5.fixit(true),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Horizontal$1:function(cz){return bj.New(this.value,this.min,this.max,_5.map(function(cA){return!cA;},_5.fixit(cz)),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Vertical$1:function(cz){return bj.New(this.value,this.min,this.max,_5.fixit(cz),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Max:function(cz){return bj.New(this.value,this.min,_5.fixit(cz),this.vertical,this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Min:function(cz){return bj.New(this.value,_5.fixit(cz),this.max,this.vertical,this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Node:function(cz){return bj.New(this.value,this.min,this.max,this.vertical,cz,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Value:function(cz){this.value.set_RVal(cz);return this;},get_Render:function(){var cz;function cA(cF){return cz.startVer?cF.clientX:cF.clientY;}function cB(){var cF;cF=cz.domElem;return cF!=null&&cF.$==1?cz.startVer?cz.after?cF.$0.parentElement.getBoundingClientRect().width:-cF.$0.parentElement.getBoundingClientRect().width:cz.after?cF.$0.parentElement.getBoundingClientRect().height:-cF.$0.parentElement.getBoundingClientRect().height:100;}function cC(cF){cz.value.set_RVal((cA(cF)-cz.start)*100/cz.size+cz.startP);}function cD(){if(cz.dragging){cz.dragging=false;a.removeEventListener("mousemove",cC,false);a.removeEventListener("mouseup",cD,false);}}function cE(cF,cG){return!cz.dragging?_5.iter(a.ignore,_5.map2(function(cH){return function(cI){cz.dragging=true;cz.startVer=cI;cz.startP=cH;cz.start=cA(cG);cz.size=cB();a.addEventListener("mousemove",cC,false);a.addEventListener("mouseup",cD,false);return cG.preventDefault();};},cz.get_GetValue(),cz.vertical)):null;}cz=this;return this.node.AddChildren([_4["class"](_5.map(function(cF){return cF?"Vertical":"Horizontal";},this.vertical)),new _8({$:7,$0:ce.Handler("mousedown",function(cF){return function(cG){return cE(cF,cG);};})}),new _8({$:7,$0:ce.OnAfterRender(function(cF){cz.domElem={$:1,$0:cF};})}),_4.css("\n                    .Splitter.Vertical   { cursor: col-resize; background-color: #eef ; width : 5px ; margin-left:-7px; }\n                    .Splitter.Horizontal { cursor: row-resize; background-color: #eef ; height: 5px ; margin-top :-7px; }\n                ")]).AddChildren(this.children);},get_GetValue:function(){function cz(cB,cC){return b0.Compare(cB,cC)===-1?cB:cC;}function cA(cB,cC){return b0.Compare(cB,cC)===1?cB:cC;}return _5.map2(function(cB){return function(cC){return cz(cB,cC);};},this.max,_5.map2(function(cB){return function(cC){return cA(cB,cC);};},this.min,this.value));},get_Var:function(){return this.value;}},null,bj);bj.New$1=function(cz){return bj.New$2(cg.Create$1(cz));};bj.New$2=function(cz){return bj.New(cz,_5.fixit(5),_5.fixit(95),_5.fixit(true),_4.div([_4["class"]("Splitter")]),bS.T.Empty,true,false,true,0,0,0,null);};bj.New=function(cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL){return new bj({value:cz,min:cA,max:cB,vertical:cC,node:cD,children:cE,after:cF,dragging:cG,startVer:cH,startP:cI,start:cJ,size:cK,domElem:cL});};bk.StFixedPerc={$:2};bk.StFixedPx={$:1};bk.StVariable={$:0};bl=_9.Grid=bP.Class({get_Render:function(){return _4.div(this.GridTemplate());},GridTemplate:function(){var cz;cz=this;return bS.ofSeq(bT.delay(function(){function cA(cB,cC){return cB!=null&&cB.$==1?cC.AddChildren([_4.style((function(cD){return function(cE){return cD("grid-area: "+bQ.toSafe(cE)+"; dispxlay: grid");};}(a.id))(cB.$0))]):cC;}return bT.append(bT.map(function(cB){return cA(cB[0],cB[1]);},cz.content),bT.delay(function(){function cB(cC,cD){var cE;return cD.$==2?(cE=cD.$0,{$:1,$0:cE.get_Render().InsertChildren([_4.style1("grid-column",a.String(cC+(cE.after?2:1))),_4.style1("grid-row",(function(cF){return function(cG){return cF("1 / "+a.String(cG));};}(a.id))(bZ.length(cz.rows)+1))])}):cD.$==1?null:null;}return bT.append(bT.choose(function(cC){return cB(cC[0],cC[1]);},bT.indexed(cz.cols)),bT.delay(function(){function cC(cD,cE){var cF;return cE.$==2?(cF=cE.$0,{$:1,$0:cF.get_Render().InsertChildren([_4.style1("grid-row",a.String(cD+(cF.after?2:1))),_4.style1("grid-column",(function(cG){return function(cH){return cG("1 / "+a.String(cH));};}(a.id))(bZ.length(cz.cols)+1))])}):cE.$==1?null:null;}return bT.append(bT.choose(function(cD){return cC(cD[0],cD[1]);},bT.indexed(cz.rows)),bT.delay(function(){return bT.append(cz.styles(),bT.delay(function(){return bT.append([_4.style((((bP.Curried3(function(cD,cE,cF){return cD("display: grid; grid-gap: "+cE.toFixed(6)+"px; padding: "+cF.toFixed(6)+"px; box-sizing: border-box");}))(a.id))(cz.gap))(cz.padding))],bT.delay(function(){return[new _8({$:7,$0:ce.OnAfterRender(function(cD){function cE(cG,cH){return!b0.Equals(cG.RVal(),cH)?cG.set_RVal(cH):null;}function cF(){var cG;cG=cD.getBoundingClientRect();cE(cz.widthHeight,[cG.width,cG.height]);}cF();_9.addResizeObserver(cF,cD);})})];}));}));}));}));}));}));},styles:function(){return bS.ofArray([_4.style1("grid-template-columns",this.style(this.cols,_5.map(function(cz){return cz[0];},this.widthHeight))),_4.style1("grid-template-rows",this.style(this.rows,_5.map(function(cz){return cz[1];},this.widthHeight)))]);},style:function(cz,cA){var cB,cC,cD,cE;function cF(cI,cJ){return function(cK){return cK.$==2?[_5.map2(function(cL){return function(cM){return cL+cM;};},cK.$0.get_GetValue(),cI),cJ]:cK.$==1?cK.$0.$==1?[cI,_5.map2(function(cL){return function(cM){return cL+cM;};},cK.$0.$0,cJ)]:[_5.map2(function(cL){return function(cM){return cL+cM;};},cK.$0.$0,cI),cJ]:[cI,cJ];};}function cG(cI){return _5.map2(function(cJ){return function(cK){var cL,cM,cN;cL=(cM=cJ*cK,(cN=0,b0.Compare(cN,cM)===1?cN:cM));return(function(cO){return function(cP){return cO(cP.toFixed(6)+"%");};}(a.id))(cL);};},cD,cI);}function cH(cI){return _5.map(function(cJ){var cK,cL;cK=(cL=0,b0.Compare(cL,cJ)===1?cL:cJ);return(function(cM){return function(cN){return cM(cN.toFixed(6)+"px");};}(a.id))(cK);},cI);}cB=this;return bZ.length(cz)===0?new _5({$:0,$0:"100%"}):(cC=bT.fold(function(cI,cJ){return(function(cK){return cF(cK[0],cK[1]);}(cI))(cJ);},[new _5({$:0,$0:0}),new _5({$:0,$0:0})],cz),(cD=_5.map2(function(cI){return function(cJ){return(cJ-cB.padding*2-cB.gap*(bZ.length(cz)-1)-cI)/(cJ-cB.padding*2);};},cC[1],cA),(cE=_5.map(function(cI){return 100-cI;},cC[0]),_5.map(function(cI){return bR.concat(" ",cI);},bT.foldBack(function(cI,cJ){function cK(cL,cM){return new bS.T({$:1,$0:cM,$1:cL});}return _5.map2(function(cL){return function(cM){return cK(cL,cM);};},cJ,cI.$==2?cG(cI.$0.get_GetValue()):cI.$==1?cI.$0.$==1?cH(cI.$0.$0):cG(cI.$0.$0):cG(cE));},cz,new _5({$:0,$0:bS.T.Empty}))))));},Children:function(cz){return this.changeSplitter(function(cA){return cA.Children(cz);});},Min:function(cz){return this.changeSplitter(function(cA){return cA.Min(cz);});},Max:function(cz){return this.changeSplitter(function(cA){return cA.Max(cz);});},get_Before:function(){return this.changeSplitter(function(cz){return cz.get_Before();});},changeSplitter:function(cz){var cA,cB,cC,cD,cE,cF;cA=this;cB=this.lastSplitter;cB==null?void 0:(cC=cB.$0,cD=cC[0],cC[1]?(cE=bZ.get(cA.cols,cD),cE.$==2?bZ.set(cA.cols,cD,{$:2,$0:cz(cE.$0)}):void 0):(cF=bZ.get(cA.rows,cD),cF.$==2?bZ.set(cA.rows,cD,{$:2,$0:cz(cF.$0)}):void 0));return this;},Gap:function(cz){return bl.New(this.padding,cz,this.content,this.cols,this.rows,this.widthHeight,this.lastSplitter);},Padding:function(cz){return bl.New(cz,this.gap,this.content,this.cols,this.rows,this.widthHeight,this.lastSplitter);},Content:function(cz){return bl.New(this.padding,this.gap,this.content.concat([[null,cz]]),this.cols,this.rows,this.widthHeight,this.lastSplitter);},Content$1:function(cz,cA){return bl.New(this.padding,this.gap,this.content.concat([[{$:1,$0:cz},cA]]),this.cols,this.rows,this.widthHeight,this.lastSplitter);},RowAuto:function(cz){return bl.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:0,$0:bj.New$1(cz).Horizontal()}]),this.widthHeight,this.lastSplitter);},RowVariable:function(cz){return this.NewSplitter$1(cz,false);},RowVariable$1:function(cz){return this.NewSplitter(cz,false);},RowVariable$2:function(cz){return bl.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:2,$0:cz}]),this.widthHeight,this.lastSplitter);},RowFixed:function(cz){return bl.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:1,$0:{$:0,$0:_5.fixit(cz)}}]),this.widthHeight,this.lastSplitter);},RowFixedPx:function(cz){return bl.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:1,$0:{$:1,$0:_5.fixit(cz)}}]),this.widthHeight,this.lastSplitter);},ColAuto:function(cz){return bl.New(this.padding,this.gap,this.content,this.cols.concat([{$:0,$0:bj.New$1(cz)}]),this.rows,this.widthHeight,this.lastSplitter);},ColVariable:function(cz){return this.NewSplitter$1(cz,true);},ColVariable$1:function(cz){return this.NewSplitter(cz,true);},ColVariable$2:function(cz){return bl.New(this.padding,this.gap,this.content,this.cols.concat([{$:2,$0:cz}]),this.rows,this.widthHeight,this.lastSplitter);},ColFixed:function(cz){return bl.New(this.padding,this.gap,this.content,this.cols.concat([{$:1,$0:{$:0,$0:_5.fixit(cz)}}]),this.rows,this.widthHeight,this.lastSplitter);},ColFixedPx:function(cz){return bl.New(this.padding,this.gap,this.content,this.cols.concat([{$:1,$0:{$:1,$0:_5.fixit(cz)}}]),this.rows,this.widthHeight,this.lastSplitter);},NewSplitter:function(cz,cA){return this.NewSplitter$1(cg.Create$1(cz),cA);},NewSplitter$1:function(cz,cA){var cB,cC,cD;cB=bj.New$2(cz);return cA?(cC={$:1,$0:[bZ.length(this.cols),cA]},bl.New(this.padding,this.gap,this.content,this.cols.concat([{$:2,$0:cB}]),this.rows,this.widthHeight,cC)):(cD={$:1,$0:[bZ.length(this.rows),cA]},bl.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:2,$0:cB.Horizontal()}]),this.widthHeight,cD));}},null,bl);bl.NewBisect=function(cz,cA,cB,cC,cD,cE){var cF,cG,cH;cF=cB?[cA.$==1?function(cI){return cI.ColFixedPx(cC);}:cA.$==2?function(cI){return cI.ColFixed(cC);}:function(cI){return cI.ColVariable(cC);},function(cI){return cI.ColAuto(50);},function(cI){return cI.Content(_4.style("grid-template-areas: 'one   two' "));}]:[cA.$==1?function(cI){return cI.RowFixedPx(cC);}:cA.$==2?function(cI){return cI.RowFixed(cC);}:function(cI){return cI.RowVariable(cC);},function(cI){return cI.RowAuto(50);},function(cI){return cI.Content(_4.style("grid-template-areas: 'one' 'two' "));}];cG=cF[0];cH=cF[1];return(cz?function(cI){return cH(cG(cI));}:function(cI){return cG(cH(cI));})(cF[2](bl.get_New().Content$1("one",cD).Content$1("two",cE).Padding(0)));};bl.get_New=function(){return bl.New(9,9,[],[],[],cg.Create$1([1000,100]),null);};bl.New=function(cz,cA,cB,cC,cD,cE,cF){return new bl({padding:cz,gap:cA,content:cB,cols:cC,rows:cD,widthHeight:cE,lastSplitter:cF});};bm=_9.TabStrip=bP.Class({get_Render:function(){var cz,cA,cB,cC;cz=this;cA=_4.bindHElem(function(cD){return _4.div(bS.ofSeq(bT.delay(function(){return bT.append([_4["class"]((((bP.Curried3(function(cE,cF,cG){return cE("tab-strip "+bQ.toSafe(cF)+" "+bQ.toSafe(cG));}))(a.id))(cz.top?"top":"bottom"))(cz.horizontal?"horizontal":"vertical"))],bT.delay(function(){return bT.collect(function(cE){var cF;cF=cE[0];return[ba.get_New().Content(_4.div([_4.htmlText(cE[1][1][0]),_4["class"](_5.map(function(cG){return"tab"+(cG===cF?" selected":"");},cz.selected)),_4.draggable("true"),new _8({$:7,$0:ce.Handler("dragover",function(){return function(cG){return cG.preventDefault();};})}),new _8({$:7,$0:ce.Handler("drag",function(){return function(){(_9.draggedTab())[0]={$:1,$0:[cz,cF]};};})}),new _8({$:7,$0:ce.Handler("drop",function(){return function(cG){cG.preventDefault();cG.stopPropagation();return cz.reorder(cF);};})}),new _8({$:7,$0:ce.Handler("click",function(){return function(){return cz.selected.set_RVal(cF);};})})]))];},bT.indexed(cD));}));})));},this.tabs);_5.sink((cB=this.id,function(cD){_9.setSelectedPanel(cB,cD);}),this.get_Selected());cC=_4.bindHElem(function(cD){return _4.div(bS.ofSeq(bT.delay(function(){return bT.append([_4["class"]("tab-children")],bT.delay(function(){return bT.append([_4.Id(_9.uid2s(cz.id))],bT.delay(function(){function cE(cF,cG){return cG[1].AddChildren([_4.style(_5.map(function(cH){return bT.contains(cF,bT.map(function(cI){return cI[1];},cl.ToSeq(cH)))?"":"display : none";},_9.selectedPanels())),_4.Id(_9.uid2s(cF))]);}return bT.map(function(cF){return cE(cF[0],cF[1]);},cD);}));}));})));},this.tabs);return _4.div([_4["class"]("tab-panel"),this.top?cA:_8.HtmlEmpty,_4.div([cC,_4["class"]("tab-content")]),!this.top?cA:_8.HtmlEmpty,new _8({$:7,$0:ce.Handler("dragover",function(){return function(cD){return cD.preventDefault();};})}),new _8({$:7,$0:ce.Handler("drop",function(){return function(cD){cD.preventDefault();return cz.reorder(bZ.length(cz.tabs.RVal()));};})}),_4.css("\n    \n    .tab-panel {\n     overflow  : hidden   ;\n     display   : flex     ;\n     flex-flow : column   ;\n     background: lightgray;\n    }\n    .tab-content {\n     flex      : 1 1     ;\n     overflow  : auto    ;\n     position  : relative;\n    }\n    .tab-children {\n     height    : 100%    ;\n     width     : 100%    ;\n     position  : absolute;\n     display   : grid    ;\n    }\n    .tab-strip {\n     padding   : 0pt     ;\n     flex      : 0 0     ;\n    }\n    .tab {\n     border     : 0.2pt solid transparent;\n     padding    : 0pt 4pt;\n     display    : inline-block;\n     font-family: sans-serif;\n     font-weight: 200;\n     font-size  : small;\n     color      : #666;\n     cursor     : pointer;\n    }\n    .top>.tab {\n     border-radius: 2pt 2pt 0pt 0pt;\n     border-bottom-width: 0pt;\n     vertical-align: bottom;\n    }\n    .bottom>.tab {\n     border-top-width: 0pt;\n     border-radius: 0pt 0pt 2pt 2pt;\n     vertical-align: top;\n    }\n    .horizontal>.tab:not(:first-child) {\n     border-left-width: 0pt;\n    }\n    .tab.hovering {\n     background: red;\n    }\n    .tab.selected {\n     background: white;\n     border-left-width: 0.2pt;\n     color: black;\n     font-weight: 500;\n     border-color: black;\n    }\n    .horizontal>.tab.selected {\n     border-left-width: 0.2pt;\n    }\n    ")]);},Select:function(cz){var cA,cB;function cC(cD,cE){return b0.Equals(cE[0],cz)?(cA.selected.set_RVal(cD),{$:1,$0:true}):null;}cA=this;cB=bT.tryPick(function(cD){return cC(cD[0],cD[1]);},bT.indexed(this.tabs.RVal()));return cB==null?false:cB.$0;},Select$1:function(cz){var cA,cB;function cC(cD,cE){return cE[1][0]===cz?(cA.selected.set_RVal(cD),{$:1,$0:true}):null;}cA=this;cB=bT.tryPick(function(cD){return cC(cD[0],cD[1]);},bT.indexed(this.tabs.RVal()));return cB==null?false:cB.$0;},Select$2:function(cz){this.selected.set_RVal(cz);},get_Selected:function(){return _5.map2(function(cz){return function(cA){var cB;cB=bT.tryItem(cA,cz);return cB==null?null:{$:1,$0:cB.$0[0]};};},this.tabs,this.selected);},get_Vertical:function(){return bm.New(this.selected,this.tabs,this.top,false,this.id);},get_Horizontal:function(){return bm.New(this.selected,this.tabs,this.top,true,this.id);},SetTop:function(cz){return bm.New(this.selected,this.tabs,cz,this.horizontal,this.id);},get_Bottom:function(){return bm.New(this.selected,this.tabs,false,this.horizontal,this.id);},get_Top:function(){return bm.New(this.selected,this.tabs,true,this.horizontal,this.id);},reorder:function(cz){var cA,cB,cC;cC=(_9.draggedTab())[0];if(cC!=null&&cC.$==1){if(!b0.Equals(cC.$0[0].id,this.id))this.moveTab(cC.$0[0],cC.$0[1],cz);else if(cC!=null&&cC.$==1){cA=cC.$0[1];this.tabs.set_RVal(_9.reorderArray(this.tabs.RVal(),cA,cz));cB=this.selected.RVal();this.selected.set_RVal(cB===cA?cz:cB<cA&&cB<cz||cB>cA&&cB>cz?cB:cB<cA?cB+1:cB-1);}else throw new cm.New("Compiled\\FSharpStation2\\FSharpStation.fs",3369,18);}else void 0;},moveTab:function(cz,cA,cB){var cC,cD,cE,cF;cC=this.tabs.RVal();cD=cz.tabs.RVal();cE=bZ.collect(a.id,[b9.array(cC,{$:1,$0:0},{$:1,$0:cB-1}),[bZ.get(cD,cA)],b9.array(cC,{$:1,$0:cB},{$:1,$0:bZ.length(cC)-1})]);cF=bZ.collect(a.id,[b9.array(cD,{$:1,$0:0},{$:1,$0:cA-1}),b9.array(cD,{$:1,$0:cA+1},{$:1,$0:bZ.length(cD)-1})]);cz.tabs.set_RVal(cF);this.tabs.set_RVal(cE);this.selected.set_RVal(cB);cz.selected.RVal()>=bZ.length(cF)?cz.selected.set_RVal(0):void 0;_9.RaiseTabMoved(cz,this);}},null,bm);bm.New$1=function(cz){return bm.New$2(cg.Create$1(bZ.ofSeq(bT.map(function(cA){return[b7.NewGuid(),cA];},cz))));};bm.New$2=function(cz){return bm.New(cg.Create$1(0),cz,false,true,b7.NewGuid());};bm.New=function(cz,cA,cB,cC,cD){return new bm({selected:cz,tabs:cA,top:cB,horizontal:cC,id:cD});};bn=_9.MenuEntry=bP.Class({get_MenuNode:function(){return new bo({$:1,$0:this});},SubMenu:function(cz){return bn.New(this.text,this.ref,this.active,this.disabled,{$:1,$0:bp.New2(cz).get_DropDown()},this.toolTip,this.target,this.divider,this.onClick);},SubMenu$1:function(cz){return bn.New(this.text,this.ref,this.active,this.disabled,{$:1,$0:bp.New$1(cz).get_DropDown()},this.toolTip,this.target,this.divider,this.onClick);},Disabled:function(cz){return bn.New(this.text,this.ref,this.active,_5.fixit(cz),this.subMenu,this.toolTip,this.target,this.divider,this.onClick);},OnClick:function(cz){return bn.New(this.text,this.ref,this.active,this.disabled,this.subMenu,this.toolTip,this.target,this.divider,{$:1,$0:cz});},get_Divider:function(){return bn.New(this.text,this.ref,this.active,this.disabled,this.subMenu,this.toolTip,this.target,true,this.onClick);},Target:function(cz){return bn.New(this.text,this.ref,this.active,this.disabled,this.subMenu,this.toolTip,{$:1,$0:cz},this.divider,this.onClick);},get_Render:function(){var cz,cA,cB,cC,cD,cE,cF,cG,cH;return(this.divider?function(cI){return _4.addClass("divider",cI);}:a.id)((cz=(cA=(cB=(cC=_9.entryTxt(this.text,(cD=this.target,cD==null?"":cD.$0),this.ref),(_4.addClassIf("active",this.active))(cC)),(_4.addClassIf("disabled",this.disabled))(cB)),(cE=this.subMenu,(cE!=null&&cE.$==1?(cF=bS.ofArray([_4["class"]("dropdown"),cE.$0.get_Render()]),function(cI){return _4.addChildren(cF,cI);}):a.id)(cA))),(cG=this.onClick,(cG!=null&&cG.$==1?(cH=bS.ofArray([new _8({$:7,$0:cf.Handler("click",cG.$0)}),_4.style("cursor : pointer")]),function(cI){return _4.addChildren(cH,cI);}):a.id)(cz))));}},null,bn);bn.New$1=function(cz,cA){var cB;cB=bn.New$2(cz);return bn.New(cB.text,_5.map(function(cC){return{$:1,$0:cC};},cA),cB.active,cB.disabled,cB.subMenu,cB.toolTip,cB.target,cB.divider,cB.onClick);};bn.New$2=function(cz){var cA,cB;cA=_5.fixit(cz);cB=_5.fixit(false);return bn.New(cA,new _5({$:0,$0:null}),cB,_5.fixit(false),null,null,null,false,null);};bn.New=function(cz,cA,cB,cC,cD,cE,cF,cG,cH){return new bn({text:cz,ref:cA,active:cB,disabled:cC,subMenu:cD,toolTip:cE,target:cF,divider:cG,onClick:cH});};bo=_9.MenuNode=bP.Class({get_Render:function(){return this.$==1?this.$0.get_Render():this.$0;}},null,bo);bp=_9.Menu=bP.Class({get_Render:function(){var cz;cz=this;return(this.dropdown?_9.dropdown:_9.nav)(bS.ofSeq(bT.delay(function(){return bT.map(function(cA){return cA.get_Render();},cz.entries);})));},get_DropDown:function(){return bp.New(this.entries,true);}},null,bp);bp.New2=function(cz){return bp.New$1(bT.map(function(cA){return new bo({$:1,$0:cA});},cz));};bp.New$1=function(cz){return bp.New(cz,false);};bp.New=function(cz,cA){return new bp({entries:cz,dropdown:cA});};bq=_9.Action=bP.Class({get_Button:function(){var cz,cA,cB;function cC(cD,cE){return null;}cz=(cA=(cB=this.onClick,cB==null?null:{$:1,$0:cB.$0(this)}),cA==null?function(cD){return function(cE){return cC(cD,cE);};}:cA.$0);return _.New(_5.map(function(cD){return cD?"btn btn-primary":"btn";},this.highlight),_5.fixit("button"),_5.fixit(""),this.text,cz,this.disabled,"");},get_MenuEntry:function(){var cz,cA;cz=(cA=this.onClick,cA==null?null:{$:1,$0:cA.$0(this)});return bn.New(this.text,new _5({$:0,$0:null}),this.highlight,this.disabled,null,this.toolTip,null,false,cz);},Highlight:function(cz){return bq.New(this.text,_5.fixit(cz),this.disabled,this.toolTip,this.onClick,this.parms);},Disabled:function(cz){return bq.New(this.text,this.highlight,_5.fixit(cz),this.toolTip,this.onClick,this.parms);},OnClick2:function(cz){return bq.New(this.text,this.highlight,this.disabled,this.toolTip,{$:1,$0:cz},this.parms);},OnClick:function(cz){return bq.New(this.text,this.highlight,this.disabled,this.toolTip,{$:1,$0:function(){return cz;}},this.parms);},Parms:function(cz){return bq.New(this.text,this.highlight,this.disabled,this.toolTip,this.onClick,{$:1,$0:cz});},Text:function(cz){return bq.New(_5.fixit(cz),this.highlight,_5.fixit(false),this.toolTip,this.onClick,this.parms);}},null,bq);bq.New$1=function(cz){return bq.New(_5.fixit(cz),_5.fixit(false),_5.fixit(false),null,null,null);};bq.New=function(cz,cA,cB,cC,cD,cE){return new bq({text:cz,highlight:cA,disabled:cB,toolTip:cC,onClick:cD,parms:cE});};br=_9.GuiPart=bP.Class({GetHtmlNode:function(cz,cA){var cB,cC,cD,cE,cF,cG;return this.$==1?[this.$0,a.ignore]:this.$==2?[this.$0.get_Button().get_Render(),a.ignore]:this.$==5?[cz.GetCallButton(this.$0,this.$1,this.$2),a.ignore]:this.$==4?(cB=bm.New$1(bT.map(function(cH){return[cH,cz.GetNode(cH)];},this.$1)).SetTop(this.$0),(_9.addValue(cA,cB,cz.tabStrips),[cB.get_Render(),a.ignore])):this.$==3?(cC=this.$3,(cD=cg.Create$1(this.$6),(cE=cg.Create$1(this.$7),(cF=cg.Create$1(cC),(cG=cC,[bl.NewBisect(this.$0,this.$1,this.$2,cF,cz.GetNode(this.$4),cz.GetNode(this.$5)).Min(cD).Max(cE).get_Render(),function(cH){var cI;if(cH.$==3){cI=cH.$3;cG!==cI?(cG=cI,cg.Set(cF,cI)):void 0;cg.Set(cD,cH.$6);cg.Set(cE,cH.$7);}}]))))):[_8.HtmlEmpty,a.ignore];}},null,br);bs.New=function(cz,cA,cB,cC,cD,cE,cF){return{HtmlElementF:cz,HtmlAttributeF:cA,HtmlAttributeOF:cB,HtmlTextF:cC,HtmlEmptyF:cD,HtmlGuiPart:cE,HtmlGuiCall:cF};};bt.New=function(cz,cA,cB,cC,cD){return{GuiRoot:cz,GuiTabStrip:cA,GuiSplit:cB,GuiNode:cC,GuiCall:cD};};bu.get_New=function(){return{$:0,$0:b7.NewGuid()};};bv=_9.Layout=bP.Class({SelectTab:function(cz){bT.iter(function(cA){cA.Select$1(cz);},this.tabStrips.get_Values());},SetLayoutJson:function(cz,cA){var cB,cE;function cC(cG){var cH,cI,cJ,cK,cL,cM,cN;cH=_9.PHtmlElementF(cG);return cH!=null&&cH.$==1?{$:1,$0:new _8({$:0,$0:cH.$0[0],$1:bT.choose(cC,cH.$0[1])})}:(cI=_9.PHtmlAttributeF(cG),cI!=null&&cI.$==1?{$:1,$0:new _8({$:1,$0:cI.$0[0],$1:new _5({$:0,$0:cI.$0[1]})})}:(cJ=_9.PHtmlAttributeOF(cG),cJ!=null&&cJ.$==1?{$:1,$0:new _8({$:2,$0:cJ.$0[0],$1:new _5({$:0,$0:cJ.$0[1]})})}:(cK=_9.PHtmlTextF(cG),cK!=null&&cK.$==1?{$:1,$0:new _8({$:3,$0:new _5({$:0,$0:cK.$0})})}:(cL=_9.PHtmlEmptyF(cG),cL!=null&&cL.$==1)?{$:1,$0:_8.HtmlEmpty}:(cM=_9.PHtmlGuiPart(cG),cM!=null&&cM.$==1?{$:1,$0:cE.GetNode(cM.$0)}:(cN=_9.PHtmlGuiCall(cG),cN!=null&&cN.$==1?{$:1,$0:cE.GetCallButton(cN.$0[0],cN.$0[1],cN.$0[2])}:null)))));}function cD(cG){var cH,cI,cJ,cK,cL,cM;cH=_9.PGuiNode(cG);return cH!=null&&cH.$==1?{$:1,$0:new br({$:1,$0:d.defaultValue(_8.HtmlEmpty,cC(cH.$0))})}:(cI=_9.PGuiRoot(cG),cI!=null&&cI.$==1?{$:1,$0:new br({$:0,$0:cI.$0})}:(cJ=_9.PGuiTabStrip(cG),cJ!=null&&cJ.$==1?{$:1,$0:(cK=cJ.$0,new br({$:4,$0:cK[0],$1:cK[1]}))}:(cL=_9.PGuiSplit(cG),cL!=null&&cL.$==1?{$:1,$0:new br({$:3,$0:cL.$0[0],$1:_9.toSect(cL.$0[1]),$2:cL.$0[2],$3:cL.$0[3],$4:cL.$0[4],$5:cL.$0[5],$6:cL.$0[6],$7:cL.$0[7]})}:(cM=_9.PGuiCall(cG),cM!=null&&cM.$==1?{$:1,$0:new br({$:5,$0:cM.$0[0],$1:cM.$0[1],$2:cM.$0[2]})}:null))));}cE=this;function cF(cG,cH){var cI;cI=cD(cH);return cI==null?null:{$:1,$0:[cG,{$:1,$0:cH},cI.$0]};}try{cB=this.AddNewSteps(cz,cA===""?[]:bZ.choose(function(cG){return cF(cG[0],cG[1]);},((co.DecodeArray(co.DecodeTuple([co.Id(),bK.j$7])))())(b1.parse(cA))));}catch(cG){cB=(function(cH){return function(cI){return cH("Error: "+bQ.prettyPrint(cI));};}(function(cH){bV.log(cH);}))(cG);}},AddNewSteps:function(cz,cA){var cB;function cC(cE,cF,cG){var cH,cI;if(cB.parts.ContainsKey(cE)){cH=cB.parts.get_Item(cE);cI=cH[0];b0.Equals((cI.RVal())[0],cF)?_5.iter(a.ignore,_5.apply(new _5({$:0,$0:cG}),cH[2])):cI.set_RVal([cF,cG]);}else cB.AddNode(cE,cF,cG);}function cD(cE,cF){return bT.last(cF);}cB=this;bZ.iter(function(cE){return cC(cE[0],cE[1],cE[2]);},bZ.map(function(cE){return cD(cE[0],cE[1]);},bZ.groupBy(function(cE){return a.id(cE[0],cE[1],cE[2]);},cz.concat(cA))));},get_Render:function(){function cz(cA){var cB;cB=cA.RVal();return cB[1].$==0?{$:1,$0:cB[1].$0}:null;}return this.GetNode(d.defaultValue("main",bT.tryPick(function(cA){return cz(_9.t1of3.apply(null,cA));},this.parts.get_Values())));},GetNode:function(cz){var cA;cA=null;return this.parts.TryGetValue(cz,{get:function(){return cA;},set:function(cB){cA=cB;}})?_9.t2of3(cA[0],cA[1],cA[2]):this.AddNode(cz,bu.get_New(),new br({$:1,$0:_4.div([_4.htmlText((function(cB){return function(cC){return cB("GuiPart "+bQ.toSafe(cC)+" not found");};}(a.id))(cz))])}));},AddNode:function(cz,cA,cB){var cC,cD,cE,cF;function cG(cH,cI){return cI.GetHtmlNode(cC,cz);}cC=this;cD=cg.Create$1([cA,cB]);cE=_5.map(function(cH){return cG(cH[0],cH[1]);},cD);cF=new _8({$:5,$0:_5.map(function(cH){return cH[0];},cE)});this.parts.Add(cz,[cD,cF,_5.map(function(cH){return cH[1];},cE)]);return cF;},GetCallButton:function(cz,cA,cB){var cC;cC=j.Success(this.GetGuiCallAction(cz,cA,cB));return cC.$==1?_4.div([_4.htmlText(bR.concat(". ",j.msgs2String(cC.$0)))]):cC.$0[0].get_Button().get_Render();},GetGuiCallAction:function(cz,cA,cB){var cC;return this.parts.ContainsKey(cA)?(cC=(this.parts.get_Item(cA))[0].RVal(),cC[1].$==2?j.succeed(cC[1].$0.Text(cz).Parms(bZ.map(a.id,cB))):j.failSimpleError((function(cD){return function(cE){return cD("GuiPart "+bQ.toSafe(cE)+" is not a GuiAction");};}(a.id))(cA))):j.failSimpleError((function(cD){return function(cE){return cD("GuiAction "+bQ.toSafe(cE)+" not found");};}(a.id))(cA));}},null,bv);bv.New$1=function(cz){var cA;function cB(cC,cD,cE){cA.AddNode(cC,cD,cE);}cA=bv.New(new bX.New$5(),new bX.New$5());bT.iter(function(cC){return cB(cC[0],cC[1],cC[2]);},cz);return cA;};bv.AddGuids=function(cz){function cA(cB,cC){return[cB,cC.$==2?bu.get_New():cC.$==0?{$:2,$0:cC.$0}:cC.$==3?{$:4,$0:cC.$0,$1:cC.$1,$2:cC.$2,$3:cC.$4,$4:cC.$5}:cC.$==4?{$:3,$0:cC.$0,$1:cC.$1}:cC.$==5?{$:5,$0:cC.$0,$1:cC.$1,$2:cC.$2}:bu.get_New(),cC];}return bZ.ofSeq(bT.map(function(cB){return cA(cB[0],cB[1]);},cz));};bv.New=function(cz,cA){return new bv({parts:cz,tabStrips:cA});};_9.varVerSplitter=function(cz,cA,cB,cC,cD){return new br({$:3,$0:true,$1:bk.StVariable,$2:true,$3:cz,$4:cA,$5:cB,$6:cC,$7:cD});};_9.varHorSplitter=function(cz,cA,cB,cC,cD){return new br({$:3,$0:true,$1:bk.StVariable,$2:false,$3:cz,$4:cA,$5:cB,$6:cC,$7:cD});};_9.fixedVerSplitter=function(cz,cA,cB,cC){return new br({$:3,$0:cz,$1:bk.StFixedPx,$2:true,$3:cA,$4:cB,$5:cC,$6:5,$7:95});};_9.fixedHorSplitter=function(cz,cA,cB,cC){return new br({$:3,$0:cz,$1:bk.StFixedPx,$2:false,$3:cA,$4:cB,$5:cC,$6:5,$7:95});};_9.t3of3=function(cz,cA,cB){return cB;};_9.t2of3=function(cz,cA,cB){return cA;};_9.t1of3=a.id;_9.toSect=function(cz){return cz==="StVariable"?bk.StVariable:cz==="StFixedPx"?bk.StFixedPx:bk.StFixedPerc;};_9.PGuiCall=function(cz){return cz.GuiCall;};_9.PGuiNode=function(cz){return cz.GuiNode;};_9.PGuiRoot=function(cz){return cz.GuiRoot;};_9.PGuiSplit=function(cz){return cz.GuiSplit;};_9.PGuiTabStrip=function(cz){return cz.GuiTabStrip;};_9.PHtmlGuiCall=function(cz){return cz.HtmlGuiCall;};_9.PHtmlGuiPart=function(cz){return cz.HtmlGuiPart;};_9.PHtmlEmptyF=function(cz){return cz.HtmlEmptyF;};_9.PHtmlTextF=function(cz){return cz.HtmlTextF;};_9.PHtmlAttributeOF=function(cz){return cz.HtmlAttributeOF;};_9.PHtmlAttributeF=function(cz){return cz.HtmlAttributeF;};_9.PHtmlElementF=function(cz){return cz.HtmlElementF;};_9.addValue=function(cz,cA,cB){cB.Remove(cz);cB.Add(cz,cA);};_9.processLayoutSteps=function(cz,cA){var cB,cC;return d.defaultValue(cA,(cB=bT.tryHead(cz),cB==null?null:{$:1,$0:(cC=cB.$0,_9.processLayoutSteps(bT.skip(1,cz),cA.Add(cC[0],cC[1])))}));};_9.HtmlGuiCall=function(cz,cA,cB){return new br({$:5,$0:cz,$1:cA,$2:cB});};_9.Do2=function(cz,cA,cB,cC,cD){return cz(cB,cA);};_9.Do=function(cz,cA,cB,cC){return cz(cA);};_9.navbar=function(cz,cA,cB){return _4.div([_4["class"]("navbar navbar-default"),_4.div([_4["class"]("container-fluid"),_4.div([_4["class"]("navbar-header"),_4.div([_4["class"]("navbar-brand"),cz])]),_4.div([_4["class"]("navbar-collapse collapse"),cA,_4.addClass("navbar-right",cB)])])]);};_9.dropdown=function(cz){return _9.entries(cz,"dropdown-menu");};_9.nav=function(cz){return _9.entries(cz,"nav navbar-nav");};_9.entries=function(cz,cA){return _4.addClass(cA,_4.ul(cz));};_9.entryTxt=function(cz,cA,cB){return _9.menuEntry(_9.refText(cz,cA,cB));};_9.refText=function(cz,cA,cB){return _4.bindHElem(function(cC){return cC===""?_8.HtmlEmpty:_9.refA(_4.htmlText(cC),cC,cB);},cz);};_9.refA=function(cz,cA,cB){return _4.a([cz,_4.hrefO(cB),_4.target(cA)]);};_9.menuEntry=function(cz){return _4.li([cz]);};_9.RaiseTabMoved=function(cz,cA){var cB;cB=_9.TabMoved();cB==null?void 0:cB.$0([cz,cA]);};_9.TabMoved=function(){bJ.$cctor();return bJ.TabMoved;};_9.set_TabMoved=function(cz){bJ.$cctor();bJ.TabMoved=cz;};_9.setSelectedPanel=function(cz,cA){cg.Set(_9.selectedPanels(),cA==null?_9.selectedPanels().c.Remove(cz):_9.selectedPanels().c.Add(cz,cA.$0));};_9.selectedPanels=function(){bJ.$cctor();return bJ.selectedPanels;};_9.uid2s=function(cz){return"X"+bR.Replace(a.String(cz),"-","");};_9.draggedTab=function(){bJ.$cctor();return bJ.draggedTab;};_9.reorderArray=function(cz,cA,cB){return bZ.collect(a.id,cB<cA?[b9.array(cz,{$:1,$0:0},{$:1,$0:cB-1}),[bZ.get(cz,cA)],b9.array(cz,{$:1,$0:cB},{$:1,$0:cA-1}),b9.array(cz,{$:1,$0:cA+1},{$:1,$0:bZ.length(cz)-1})]:[b9.array(cz,{$:1,$0:0},{$:1,$0:cA-1}),b9.array(cz,{$:1,$0:cA+1},{$:1,$0:cB}),[bZ.get(cz,cA)],b9.array(cz,{$:1,$0:cB+1},{$:1,$0:bZ.length(cz)-1})]);};_9.reorderList=function(cz,cA,cB){return cB<cA?bS.append(cz.GetSlice({$:1,$0:0},{$:1,$0:cB-1}),bS.append(bS.ofArray([cz.get_Item(cA)]),bS.append(cz.GetSlice({$:1,$0:cB},{$:1,$0:cA-1}),cz.GetSlice({$:1,$0:cA+1},{$:1,$0:cz.get_Length()-1})))):bS.append(cz.GetSlice({$:1,$0:0},{$:1,$0:cA-1}),bS.append(cz.GetSlice({$:1,$0:cA+1},{$:1,$0:cB}),bS.append(bS.ofArray([cz.get_Item(cA)]),cz.GetSlice({$:1,$0:cB+1},{$:1,$0:cz.get_Length()-1}))));};_9.addResizeObserver=function(cz,cA){var cB,cC,cD,cE;try{cB=!(!a.ResizeObserver);}catch(cF){cB=false;}if(cB){cC=new a.ResizeObserver(cz);_9.set_observers(new bS.T({$:1,$0:cC,$1:_9.observers()}));cC.observe(cA);}else{cD=_9.dimsChanged(cA);bU.Start((cE=null,bU.Delay(function(){return bU.While(function(){return cA.isConnected;},bU.Delay(function(){return bU.Bind(bU.Sleep(110),function(){return cD()?(cz(),bU.Zero()):bU.Zero();});}));})),null);}};_9.dimsChanged=function(cz){var cA;cA=cz.getBoundingClientRect();return function(){var cB;cB=cz.getBoundingClientRect();return b0.Equals(_9.domRect2Tuple(cA),_9.domRect2Tuple(cB))?false:(cA=cB,true);};};_9.domRect2Tuple=function(cz){return[cz.top,cz.left,cz.width,cz.height];};_9.observers=function(){bJ.$cctor();return bJ.observers;};_9.set_observers=function(cz){bJ.$cctor();bJ.observers=cz;};_9.setLint=function(cz,cA){cz.setOption("lint",{async:1,getAnnotations:bP.CreateFuncWithArgs(cA),container:_4.findRootElement(cz.getWrapperElement())});};_9.showHints=function(cz,cA,cB,cC){var cD;cD=bh.New(bP.CreateFuncWithArgs(cA),cB,_4.findRootElement(cz.getWrapperElement()));cD.hint.async=1;cz.showHint(cD);};_9.cmPos=function(cz,cA){return bc.New(cz,cA);};_9.codeMirrorIncludes=function(){bJ.$cctor();return bJ.codeMirrorIncludes;};_9.hoverable=function(cz){return ba.get_New().Content(cz);};bx=bw.RunNode=bP.Class({createBaseNode:function(){var cz;cz=a.document.createElement("div");cz.setAttribute("id",this.nodeName);a.document.body.appendChild(cz);return cz;},createNode:function(){var cz;cz=a.document.createElement("div");cz.style="height: 100%; width: 100%;";return cz;},RunHtml:function(cz){this.RunDoc((_4.renderDoc())(cz));},RunDoc:function(cz){cc.Run(this.get_RunNode(),cz);},get_AddBootstrap:function(){var cz;cz=a.document.createElement("div");cz.innerHTML="<script src='http://code.jquery.com/jquery-3.1.1.min.js' type='text/javascript' charset='UTF-8'></script>\n                <script src='http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js' type='text/javascript' charset='UTF-8'></script>\n                <link type='text/css' rel='stylesheet' href='http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css'>\n                <link type='text/css' rel='stylesheet' href='/EPFileX/css/main.css'>\n               ";this.runNode.parentElement.appendChild(cz);return this;},get_RunNode:function(){return this.runNode;}},f,bx);bx.New=bP.Ctor(function(cz){bx.New$1.call(this,"TestNode",cz);},bx);bx.New$1=bP.Ctor(function(cz,cA){var cB,cC,cD,cE,cF;this.nodeName=cz;cB=(cC=a.document.getElementById(this.nodeName),b0.Equals(cC,null)?this.createBaseNode():cC);this.runNode=(cD=cB.shadowRoot,b0.Equals(cD,null)?(cE=this.createNode(),(cB.attachShadow({mode:"open"}).appendChild(cE),cF=this.createNode(),cE.appendChild(cF),cF)):cD.firstChild);cA==null||cA.$0?this.runNode.innerHTML="":void 0;},bx);bw.completeJS=function(cz){return"\n          CIPHERSpaceLoadFileGlobalFileRef = null;\n          CIPHERSpaceLoadFile = function (filename, callback) {\n              if (filename.slice(-3) == \".js\" || filename.slice(-4) == \".fsx\" || filename.slice(-3) == \".fs\") { //if filename is a external JavaScript file\n                  var fileRef = null;\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\n                  if (!pre) {\n                      fileRef = document.createElement('script')\n                      fileRef.setAttribute(\"type\", \"text/javascript\")\n                      fileRef.setAttribute(\"src\", filename)\n                  }\n                  else callback();\n              }\n              else if (filename.slice(-4) == \".css\") { //if filename is an external CSS file\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\n                  if (!pre) {\n                      fileRef = document.createElement(\"link\")\n                      fileRef.setAttribute(\"rel\", \"stylesheet\")\n                      fileRef.setAttribute(\"type\", \"text/css\")\n                      fileRef.setAttribute(\"href\", filename)\n                  }\n                  else callback();\n              }\n              else if (filename.slice(-5) == \".html\") { //if filename is an external HTML file\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\n                  if (!pre) {\n                      fileRef = document.createElement(\"link\")\n                      fileRef.setAttribute(\"rel\", \"import\")\n                      fileRef.setAttribute(\"type\", \"text/html\")\n                      fileRef.setAttribute(\"href\", filename)\n                  }\n                  else callback();\n              }\n              if (!!fileRef) {\n                  CIPHERSpaceLoadFileGlobalFileRef = fileRef;\n      \u0009\u0009\u0009fileRef.onload = function () { fileRef.onload = null;  callback(); }\n                  document.getElementsByTagName(\"head\")[0].appendChild(fileRef);\n              }\n          }\n          CIPHERSpaceLoadFiles = function (files, callback) {\n              var newCallback = callback\n              if (!!CIPHERSpaceLoadFileGlobalFileRef && !!(CIPHERSpaceLoadFileGlobalFileRef.onload)) {\n                  var oldCallback = CIPHERSpaceLoadFileGlobalFileRef.onload;\n                  CIPHERSpaceLoadFileGlobalFileRef.onload = null;\n                  newCallback = function () {\n                      callback();\n                      oldCallback();\n                  }\n              }\n              var i = 0;\n              loadNext = function () {\n                  if (i < files.length) {\n                      var file = files[i];\n                      i++;\n                      CIPHERSpaceLoadFile(file, loadNext);\n                  }\n                  else newCallback();\n              };\n              loadNext();\n      \u0009}\n          CIPHERSpaceLoadFiles(['https://code.jquery.com/jquery-3.1.1.min.js'], function() {}); \n      \u0009CIPHERSpaceLoadFilesDoAfter = function (callback) {\n      \u0009\u0009var newCallback = callback\n      \u0009\u0009if (!!CIPHERSpaceLoadFileGlobalFileRef) {\n      \u0009\u0009\u0009if (!!(CIPHERSpaceLoadFileGlobalFileRef.onload)) {\n      \u0009\u0009\u0009\u0009var oldCallback = CIPHERSpaceLoadFileGlobalFileRef.onload;\n      \u0009\u0009\u0009\u0009CIPHERSpaceLoadFileGlobalFileRef.onload = null;\n      \u0009\u0009\u0009\u0009newCallback = function () {\n      \u0009\u0009\u0009\u0009\u0009oldCallback();\n      \u0009\u0009\u0009\u0009\u0009callback();\n      \u0009\u0009\u0009\u0009}\n      \u0009\u0009\u0009}\n      \u0009\u0009}\n      \u0009\u0009else CIPHERSpaceLoadFileGlobalFileRef = {};\n      \u0009\u0009CIPHERSpaceLoadFileGlobalFileRef.onload = newCallback;\n      \u0009}\n      \n      CIPHERSpaceLoadFilesDoAfter(function() { \n        if (typeof IntelliFactory !=='undefined')\n          IntelliFactory.Runtime.Start();\n        for (key in window) { \n          if (key.startsWith(\"StartupCode$\")) \n            try { window[key].$cctor(); } catch (e) {} \n        } \n      })\n      \n                       "+cz;};bA.NewBrowser={$:3};bA.Tab={$:2};bA.Right={$:1};bA.Below={$:0};bB=bz.ErrCompiler=bP.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return this.$==0&&!this.$1;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return this.$==0?(function(cz){return function(cA){return cz(bQ.toSafe(cA));};}(a.id))(this.$0):(function(cz){return function(cA){return cz(bN.p$2(cA));};}(a.id))(this);}},null,bB);bB["Could not open new browser, Popup blocker may be active"]=new bB({$:2});bB["Snippet Missing"]=new bB({$:1});bC.New=function(cz,cA,cB,cC){return{F2:cz,LeftDoubleClick:cA,"Ctrl-Space":cB,".":cC};};bD=bz.Property=bP.Class({setV:function(cz){this.props.set_Item(this.key,cz);this.setDirty();},getV:function(){return this.props.get_Item(this.key);},setK:function(cz){this.props.Add(cz,this.props.get_Item(this.key));this.props.Remove(this.key);this.key=cz;this.setDirty();},getK:function(){return this.key;},Remove:function(){this.props.Remove(this.key);this.setDirty();},get_SetV:function(){var cz;cz=this;return function(cA){cz.setV(cA);};},get_GetV:function(){var cz;cz=this;return function(){return cz.getV();};},get_SetK:function(){var cz;cz=this;return function(cA){cz.setK(cA);};},get_GetK:function(){var cz;cz=this;return function(){return cz.getK();};},get_ValueVar:function(){return new bE.New(this);},get_KeyVar:function(){return this;},RView:function(){return cb.Const(this.getK());},RUpdM:function(cz){var cA;cA=cz(this.getK());cA==null?void 0:this.setK(cA.$0);},RUpd:function(cz){this.setK(cz(this.getK()));},RVal:function(){return this.getK();},RGet:function(){return this.getK();},set_RVal:function(cz){this.setK(cz);},RSet:function(cz){this.setK(cz);},RId:function(){return"?";}},f,bD);bD.New=bP.Ctor(function(cz,cA,cB){this.setDirty=cz;this.props=cA;this.key=cB;},bD);bE=bz.PropValue=bP.Class({RView:function(){return cb.Const(this.get());},RUpdM:function(cz){var cA;cA=cz(this.get());cA==null?void 0:this.set(cA.$0);},RUpd:function(cz){this.set(cz(this.get()));},RVal:function(){return this.get();},RGet:function(){return this.get();},set_RVal:function(cz){this.set(cz);},RSet:function(cz){this.set(cz);},RId:function(){return"?";}},f,bE);bE.New=bP.Ctor(function(cz){this.get=cz.get_GetV();this.set=cz.get_SetV();},bE);bz["CodeSnippet.propValue"]=function(cz,cA){var cB,cC;return cz.properties.ContainsKey(cA)?{$:1,$0:cz.properties.get_Item(cA)}:(cB=(cC=cz.parent,cC==null?null:bF.FetchO(cC.$0)),cB==null?null:bz["CodeSnippet.propValue"](cB.$0,cA));};bF.FetchByPathO=function(cz){function cA(cC,cD){return bT.tryHead(bT.filter(function(cE){return cE.get_Name()===cD;},cC));}function cB(cC,cD){var cE,cF,cG,cH;cE=(cF=bT.tryHead(cD),cF==null?null:cA(cC,cF.$0));return bT.length(cD)<=1?cE:cE==null?null:(cG=cE.$0,(cH=bT.tail(cD),cB(bT.filter(function(cI){return b0.Equals(cI.parent,{$:1,$0:cG.id});},(bz.codeSnippets())["var"].RVal()),cH)));}return cB(bT.filter(function(cC){return cC.parent==null;},(bz.codeSnippets())["var"].RVal()),cz);};bz["CodeSnippet.IsDescendantOf"]=function(cz,cA){function cB(cC){var cD,cE,cF;cD=cC.parent;return cD!=null&&cD.$==1&&(cE=cD.$0,b0.Equals(cE,cA)||d.defaultValue(false,(cF=bF.FetchO(cE),cF==null?null:{$:1,$0:cB(cF.$0)})));}return cB(cz);};bz["CodeSnippet.GetCodeFsx"]=function(cz,cA){return(bz["CodeSnippet.GetCodeAndStarts"](cz,cA))[0];};bz["CodeSnippet.GetCodeAndStarts"]=function(cz,cA){return w.CodeAndStarts(cA,bz["CodeSnippet.Predecessors"](cz));};bz["CodeSnippet.Predecessors"]=function(cz,cA){var cB;cB=bZ.ofSeq(cz.UniquePredecessors(bF.FetchO));return bZ.ofSeq(bT.map(bz["CodeSnippet.get_PrepareSnippet"],bT.filter(function(cC){return bZ.contains(cC.id,cB);},(bz.codeSnippets())["var"].RVal())));};bz["CodeSnippet.get_PrepareSnippet"]=function(cz,cA){var cB;cB=bz["CodeSnippet.get_Levels"](cz);return w.New(cz.name,bR.Replace(bR.Replace(cz.content,"##"+"FSHARPSTATION_ID"+"##",bz.fsIds()),"##"+"FSHARPSTATION_ENDPOINT"+"##",a.location.href),cz.parent,cz.predecessors,cz.id,cz.expanded,cB[0],cB[1],cz.properties);};bz["CodeSnippet.get_Levels"]=function(cz,cA){function cB(cC,cD){return function(cE){var cF,cG,cH;return d.defaultValue([cC,cD],(cF=(cG=cE.parent,cG==null?null:bF.FetchO(cG.$0)),(cH=cB(cC+1,cD+(cE.properties.ContainsKey("NoIndent")?0:1)),cF==null?null:{$:1,$0:cH(cF.$0)})));};}return(function(cC){return cB(cC[0],cC[1]);}([0,0]))(cz);};bF.New=function(cz,cA,cB,cC,cD,cE){var cF,cG,cH,cI,cJ;cF=w.New(cA,cE,cB,cC,v.get_New(),true,0,0,new bX.New$5());cG=bz.codeSnippets().get_Length();cG===0?bz.codeSnippets().Append(cF):cz===0?(cH=bT.append([cF],(bz.codeSnippets())["var"].RVal()),bz.codeSnippets().Set(cH)):cz<cG?(cI=(cJ=bZ.splitAt(cz,bZ.ofSeq((bz.codeSnippets())["var"].RVal())),cJ[0].concat([cF].concat(cJ[1]))),bz.codeSnippets().Set(cI)):bz.codeSnippets().Append(cF);return cF;};bF.New$1=function(cz,cA,cB,cC,cD){return bF.New(bz.codeSnippets().get_Length(),cz,cA,cB,cC,cD);};bF.New$2=function(cz){return bF.New$1("",null,bS.T.Empty,bS.T.Empty,cz);};bF.New$3=function(cz,cA){return bF.New$1("",{$:1,$0:cz},bS.T.Empty,bS.T.Empty,cA);};bF.New$4=function(cz,cA,cB){return bF.New$1("",{$:1,$0:cz},cA,bS.T.Empty,cB);};bF.New$5=function(cz,cA){return bF.New$1("",null,cz,bS.T.Empty,cA);};bF.FetchL=function(cz){return b8.toList(bF.FetchO(cz));};bF.FetchO=function(cz){return bz.codeSnippets().TryFindByKey(cz);};bF.PickIO=function(cz){function cA(cB,cC){return b0.Equals(cC.id,cz);}return bz.tryPickI(function(cB){return cA(cB[0],cB[1]);},(bz.codeSnippets())["var"].RVal());};bz.tryPickI=function(cz,cA){return bT.tryHead(bT.filter(cz,bT.indexed(cA)));};bz.fsIds=function(){bJ.$cctor();return bJ.fsIds;};bz.codeSnippets=function(){bJ.$cctor();return bJ.codeSnippets;};bH=bG.Babel=bP.Class({},f,bH);bH.New=bP.Ctor(function(){},bH);bI=bG.Fable=bP.Class({},f,bI);bI.New=bP.Ctor(function(){},bI);bG.fableTranslate=function(cz){var cA;cA=l.wrapper();return cA.Delay(function(){var cB;bG.loadReferences().f();return cA.Bind$2((cB=null,bU.Delay(function(){return bU.While(function(){return cp.getOwnPropertyNames(a.metadata).length<bZ.length(bG.references());},bU.Delay(function(){return bU.Bind(bU.Sleep(200),function(){return bU.Return(null);});}));})),function(){var cC,cD,cE,cF,cG;cC=bG.getChecker().f();cD=cq.makeCompiler([["Microsoft.FSharp.Core.ExtraTopLevelOperators.PrintFormatLine","FSSGlobal.FSharpStation.FableModule.ToConsole($0)"]]);cE="stdin.fsx";cF=b1.parse(cq.convertToJson(cq.compileAst(cD,cq.parseFSharpProject(cC,cD,cE,cz),cE)));cG=cp.create(null);cG.plugins=[a.babelPlugins.transformMacroExpressions,a.babelPlugins.removeUnneededNulls,"transform-es2015-modules-amd"];cG.presets=[];cG.filename=cE;cG.babelrc=false;return cA.Return(bR.Replace(bR.Replace(cr.transformFromAst(cF,null,cG).code,"define([","require(["),"\"use strict\";","\"use strict\"; try { exports = exports || {}; } catch (err) {}"));});});};bG.ToConsole=function(cz){bV.log(cz);return cz.cont(bG.addOutMsg());};bG.addOutMsg=function(){bJ.$cctor();return bJ.addOutMsg;};bG.set_addOutMsg=function(cz){bJ.$cctor();bJ.addOutMsg=cz;};bG.getChecker=function(){bJ.$cctor();return bJ.getChecker;};bG.loadReferences=function(){bJ.$cctor();return bJ.loadReferences;};bG.references=function(){bJ.$cctor();return bJ.references;};by.FSharpStationClient=function(cz){var cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu;function ev(gg,gh,gi,gj){return gh(gj)==null?cg.Lens(cA,function(){return gg;},function(){return"";}):gi(gj);}function ew(){cg.Set(cE,null);}function ex(gg){function gh(gj){return gj.get_Name();}function gi(gj,gk){return w.New(gk,gj.content,gj.parent,gj.predecessors,gj.id,gj.expanded,gj.level,gj.levelCode,gj.properties);}return ev("",function(gj){return bz.codeSnippets().TryFindByKey(gj);},function(gj){return bz.codeSnippets().LensInto(gh,gi,gj);},gg);}function ey(gg){function gh(gj){return gj.content;}function gi(gj,gk){return w.New(gj.name,gk,gj.parent,gj.predecessors,gj.id,gj.expanded,gj.level,gj.levelCode,gj.properties);}return ev("",function(gj){return bz.codeSnippets().TryFindByKey(gj);},function(gj){return bz.codeSnippets().LensInto(gh,gi,gj);},gg);}function ez(gg){var gh;gh=bz["CodeSnippet.propValue"](gg,"CSS");return gh==null?null:{$:1,$0:a.id(gh.$0)};}function eA(gg){return d.defaultValue("",gg);}function eB(gg){var gh;gh=bz["CodeSnippet.propValue"](gg,"CSSLink");return gh==null?null:{$:1,$0:a.id(gh.$0)};}function eC(gg){return d.defaultValue("",gg);}function eD(gg){var gh;gh=bz["CodeSnippet.propValue"](gg,"Mode");return gh==null?null:{$:1,$0:a.id(gh.$0)};}function eE(gg){return d.defaultValue("fsharp",gg);}function eF(gg){var gh;gh=bz["CodeSnippet.propValue"](gg,"Theme");return gh==null?null:{$:1,$0:a.id(gh.$0)};}function eG(gg){return d.defaultValue("",gg);}function eH(gg){var gh;gh=bz["CodeSnippet.propValue"](gg,"Layout");return gh==null?null:{$:1,$0:a.id(gh.$0)};}function eI(gg){return d.defaultValue("",gg);}function eJ(gg){var gh;gh=bz["CodeSnippet.propValue"](gg,"LayoutJS");return gh==null?null:{$:1,$0:a.id(gh.$0)};}function eK(gg){return d.defaultValue("",gg);}function eL(gg){var gh,gi,gj,gk;function gl(gn){var go;go=bz["CodeSnippet.propValue"](gn,gg);return go==null?null:{$:1,$0:a.id(go.$0)};}function gm(gn){return d.defaultValue("",gn);}gh=_5.map((gi=(gj=function(gn){return gn==null?null:gl(gn.$0);},function(gn){return gj(bF.FetchO(gn));}),function(gn){return gm(gi(gn));}),cB);gk=[cg.Create$1(null)];cb.Sink(function(gn){if(!b0.Equals(gk[0].c,gn))cg.Set(gk[0],gn);},_5.toView(gh));return new _5({$:1,$0:gk[0]});}function eM(gg,gh){return gh===""?gg:gh!=="0";}function eN(){dm=false;cg.Set(dn,true);}function eO(){dg=null;eN();}function eP(){eO();dh.ClearCache();ew();}function eQ(){dh.ClearCache();cg.Set(dn,false);dg=null;}function eR(gg,gh){var gi,gj,gk;return!gh?null:(gi=(gj=gg.RVal(),(gk=a.String(gh),gj===null?gk:gj===""?gk:gk===null?gj:gk===""?gj:gj+"\n"+gk)),gi!==gg.RVal()?gg.set_RVal(gi):null);}function eS(gg){cg.Set(dl,gg);}function eT(gg){eR(dl,gg);}function eU(gg){eR(dk,gg);}function eV(){var gg;gg=bF.FetchO(cB.c);gg==null?void 0:cg.Set(di,bz["CodeSnippet.GetCodeFsx"](gg.$0,true));}function eW(gg,gh){var gi,gj,gk,gl,gm,gn,go,gp;function gq(gr){function gs(gt,gu){return b0.Equals(gu.id,gr);}return function(gt){return bz.tryPickI(function(gu){return gs(gu[0],gu[1]);},gt);};}gi=bZ.partition(function(gr){return b0.Equals(gr.id,gh)||bz["CodeSnippet.IsDescendantOf"](gr,gh);},bZ.ofSeq((bz.codeSnippets())["var"].RVal()));gj=gi[1];gk=gi[0];gl=(gq(gh))(gk);gm=(gq(gg))(gj);gl!=null&&gl.$==1?gm!=null&&gm.$==1?(gn=gm.$0[0],go=gm.$0[1],gp=bZ.collect(a.id,[b9.array(gj,{$:1,$0:0},{$:1,$0:gn-1}),gk,b9.array(gj,{$:1,$0:gn},null)]),bz.codeSnippets().Set(gp),bz.codeSnippets().UpdateBy(function(gr){return{$:1,$0:w.New(gr.name,gr.content,go.parent,gr.predecessors,gr.id,gr.expanded,gr.level,gr.levelCode,gr.properties)};},gl.$0[1].id)):void 0:void 0;return eP();}function eX(){var gg,gh,gi,gj;gg=bF.PickIO(cB.c);gg==null?void 0:(gh=gg.$0,gi=gh[0],gj=gh[1],function(gk,gl){var gm;while(true){if(gl<0)return null;else if(gk((gm=(bz.codeSnippets())["var"].RVal(),(function(gn){return function(go){return bT.nth(gn,go);};}(gl))(gm))))return null;else gl=gl-1;}}(function(gk){return b0.Equals(gk.parent,gj.parent)&&(bz.codeSnippets().UpdateBy(function(gl){return{$:1,$0:w.New(gl.name,gl.content,{$:1,$0:gk.id},gl.predecessors,gl.id,gl.expanded,gl.level,gl.levelCode,gl.properties)};},gj.id),true);},gi-1),eP());}function eY(){var gg,gh,gi,gj,gk;gg=bF.FetchO(cB.c);gg==null?void 0:(gh=gg.$0,gi=(gj=(gk=gh.parent,gk==null?null:bF.FetchO(gk.$0)),gj==null?null:gj.$0.parent),bz.codeSnippets().UpdateBy(function(gl){return{$:1,$0:w.New(gl.name,gl.content,gi,gl.predecessors,gl.id,gl.expanded,gl.level,gl.levelCode,gl.properties)};},gh.id),eP());}function eZ(gg){var gh;gh=l.wrapper();return gh.Delay(function(){return gh.Bind$1(j.fromOption(bB["Snippet Missing"],gg),function(gi){var gj;cg.Set(dl,"Compiling to JavaScript...");cg.Set(dj,"");gj=bz["CodeSnippet.GetCodeFsx"](gi,true);cg.Set(di,gj);return gh.Bind$2(D.translateAR(gj,false),function(gk){return gh.Bind$1(gk,function(gl){var gm;gm=bw.completeJS(gl);cg.Set(dj,gm);eT("Compiled!");return gh.Return(gm);});});});});}function e0(gg){var gh;gh=a.open.apply(a,[gg]);return b0.Equals(gh,null)?j.fail(bB["Could not open new browser, Popup blocker may be active"]):j.succeed(gh);}function e1(gg,gh){try{return gg["eval"].apply(gg,[gh]);}catch(gi){((function(gj){return function(gk){return gj(bQ.prettyPrint(gk));};}(function(gj){bV.log(gj);}))(gi));return(function(gj){return function(gk){return gj(bQ.prettyPrint(gk));};}(a.id))(gi);}}function e2(gg){try{gg.focus.apply(gg,[]);}catch(gh){((function(gi){return function(gj){return gi(bQ.prettyPrint(gj));};}(function(gi){bV.log(gi);}))(gh));}}function e3(gg,gh){var gi;gi=l.wrapper();return gi.Delay(function(){return gi.Bind$1(j.tryProtection(),function(){return gi.Bind$1(e0(gg),function(gj){e2(gj);return gi.Bind$2(bU.Sleep(800),function(){return gi.Return(e1(gj,gh));});});});});}function e4(){return bU.FromContinuations(function(gg,gh){var gi;try{gi=_4.createIFrame(gg);return(new bx.New(null)).RunHtml(gi);}catch(gj){return gh(gj);}});}function e5(gg){var gh;gh=l.wrapper();return gh.Delay(function(){return gh.Bind$1(j.tryProtection(),function(){return gh.Bind$2(e4(),function(gi){var gj;gj=gi.contentWindow;gj.document.body.style.margin="0px";return gh.Return(e1(gj,gg));});});});}function e6(gg,gh,gi){var gj;gj=l.wrapper();return gj.Delay(function(){return gj.Bind$3(eZ(gi),function(gk){cg.Set(dl,"Running JavaScript...");return gj.Bind$3(gh.$==3?e3(gg,gk):e5(gk),function(gl){eT(gl);eT("Done!");return gj.Return([gh,gl]);});});});}function e7(){return bF.FetchO(cB.c);}function e8(gg){var gh;gh=l.wrapper();return gh.Delay(function(){cg.Set(di,gg);return gh.Bind$2(B.evaluateAR(bz.fsIds(),a.location.href,true,gg),function(gi){return gh.Bind$1(gi,function(){return gh.Return("");});});});}function e9(gg){var gh;gh=l.wrapper();return gh.Delay(function(){return gh.Bind$1(j.fromOption(bB["Snippet Missing"],gg),function(gi){return gh.Bind$3(e8(bz["CodeSnippet.GetCodeFsx"](gi,true)),function(gj){return gh.Bind$2((new b_.New()).Async("FSharpStation:FSSGlobal.FsEvaluator+Evaluator.addPresence:-1250306105",[(function(gk){return function(gl){return gk(bN.p$3(gl));};}(a.id))(gi.id),"ok"]),function(){return gh.Return(gj);});});});});}function e_(gg,gh,gi){var gj;gj=l.wrapper();return gj.Delay(function(){cg.Set(dl,gg);return gj.Bind$3(gi(),function(gk){eT(gk);eT(gh);return gj.Return(gk);});});}function e$(gg){return e_("Evaluating F# code...","",function(){return e9(gg);});}function fa(gg){return e_("Evaluating F# code...","",function(){return e8(gg);});}function fb(gg){var gh;gh=l.wrapper();return gh.Delay(function(){cg.Set(di,gg);return gh.Bind$3(bG.fableTranslate(gg),function(gi){cg.Set(dj,gi);a["eval"](gi);return gh.Return("");});});}function fc(gg){var gh;gh=l.wrapper();return gh.Delay(function(){return gh.Bind$1(j.fromOption(bB["Snippet Missing"],gg),function(gi){return gh.ReturnFrom(fb(bz["CodeSnippet.GetCodeFsx"](gi,false)));});});}function fd(gg){return e_("Running Fable...","Done!",function(){return fc(gg);});}function fe(gg){return e_("Running Fable...","Done!",function(){return fb(gg);});}function ff(gg){var gh;gh=e7();return(dp(gg))(gh);}function fg(gg,gh){return d.defaultValue(false,gh==null?null:{$:1,$0:bS.contains(gg,gh.$0.predecessors)});}function fh(gg,gh){return gh.Contains(gg);}function fi(gg,gh){var gi,gj,gk,gl;return gh==null?null:(gi=gh.$0,b0.Equals(gi,gg)||fh(gi.id,new cs.New$2(gg.UniquePredecessors(bF.FetchO)))?null:(gj=(bS.contains(gg.id,gi.predecessors)?(gk=(gl=gg.id,function(gm){return!b0.Equals(gl,gm);}),function(gm){return bS.filter(gk,gm);}):function(gm){return new bS.T({$:1,$0:gg.id,$1:gm});})(gi.predecessors),(bz.codeSnippets().UpdateBy(function(gm){return{$:1,$0:w.New(gm.name,gm.content,gm.parent,gj,gm.id,gm.expanded,gm.level,gm.levelCode,gm.properties)};},gi.id),eP())));}function fj(gg){bz.codeSnippets().UpdateBy(function(gh){return{$:1,$0:w.New(gh.name,gh.content,gh.parent,gh.predecessors,gh.id,!gh.expanded,gh.level,gh.levelCode,gh.properties)};},gg.id);ew();}function fk(gg,gh,gi){var gj,gk,gl,gm;return ba.get_New().Content$1([_4["class"]("code-editor-list-tile"),_4.classIf("selected",_5.map((gj=gi.id,function(gn){return b0.Equals(gj,gn);}),cB)),_4.classIf("direct-predecessor",_5.map((gk=gi.id,function(gn){return fg(gk,gn);}),cF)),_4.classIf("indirect-predecessor",_5.map((gl=gi.id,function(gn){return fh(gl,gn);}),dr)),_4.draggable("true"),new _8({$:7,$0:ce.Handler("dragover",function(){return function(gn){return gn.preventDefault();};})}),new _8({$:7,$0:ce.Handler("drag",function(){return function(){_do=gi.id;};})}),new _8({$:7,$0:ce.Handler("drop",function(){return function(gn){gn.preventDefault();return eW(gi.id,_do);};})}),_4.span([_4["class"]("node"),_4.classIf("parent",gg),_4.classIf("expanded",gh),new _8({$:7,$0:ce.Handler("click",function(){return function(){return gg?fj(gi):null;};})}),_4.title(gg?gh?"collapse":"expand":""),_4.htmlText(gg?gh?"-":"+":"")]),_4.div([_4["class"]("code-editor-list-text"),_4.style1("text-indent",(gm=(bz["CodeSnippet.get_Levels"](gi))[0],(function(gn){return function(go){return gn(a.String(go)+"em");};}(a.id))(gm))),_4.style("white-space: pre"),_4.htmlText(_5.map2(function(gn){return function(go){return s.snippetName(gn,go);};},ex(gi.id),ey(gi.id))),new _8({$:7,$0:ce.Handler("click",function(){return function(){return cg.Set(cB,gi.id);};})})]),_4.span([_4["class"]("predecessor"),_4.title("toggle predecessor"),new _8({$:7,$0:ce.Handler("click",function(){return function(){return _5.iter(function(gn){return fi(gi,gn);},cF);};})}),_4.htmlText("X")])]);}function fl(gg,gh){return!gh?gg:gh;}function fm(gg){return new v({$:0,$0:!gg?"00000000-0000-0000-0000-000000000000":gg.Item});}function fn(gg){return!gg?null:{$:1,$0:fm(gg)};}function fo(gg){var gh;function gi(gk,gl){gh.Add(gk,gl);}function gj(gk,gl){return[gk,gl];}gh=new bX.New$5();return!gg?gh:(bT.iter(function(gk){return gi(gk[0],gk[1]);},bZ.map(function(gk){return gj(gk[0],gk[1]);},cu.GetFields(gg))),gh);}function fp(gg){var gh;try{gh=b1.parse(gg);((function(gi){return function(gj){return gi(bQ.prettyPrint(gj));};}(function(gi){bV.log(gi);}))(gh.length));return bZ.choose(function(gi){return!gi?null:{$:1,$0:w.New(fl("",gi.name),fl("",gi.content),fn(gi.parent),bS.ofSeq(bZ.map(fm,fl([],gi.predecessors))),fm(gi.id),fl(false,gi.expanded),fl(0,gi.level),fl(0,gi.levelCode),fo(gi.properties))};},gh);}catch(gi){return[];}}function fq(){var gg,gh,gi,gj;function gk(gl,gm){var gn;return d.defaultValue(gm,(gn=bT.tryItem(gm,(bz.codeSnippets())["var"].RVal()),gn==null?null:{$:1,$0:(bz["CodeSnippet.get_Levels"](gn.$0))[0]<=gl?gm:gk(gl,gm+1)}));}cg.Set(cB,d.defaultWith(function(){return bF.New$2("");},(gg=bF.PickIO(cB.c),gg==null?null:{$:1,$0:(gh=gg.$0,(gi=gh[0],(gj=gh[1],bF.New(gk((bz["CodeSnippet.get_Levels"](gj))[0],gi+1),"",gj.parent,bS.T.Empty,bS.T.Empty,""))))})).id);eO();ew();}function fr(){var gg,gh;gg=bF.FetchO(cB.c);gg==null?void 0:(gh=gg.$0,a.confirm((function(gi){return function(gj){return gi("Do you want to delete "+bQ.toSafe(gj)+"?");};}(a.id))(gh.get_Name()))?(cg.Set(cB,v.get_New()),bz.codeSnippets().Remove(gh),eO(),ew()):void 0);}function fs(gg){return bT.last(bR.SplitChars(gg,["/","\\"],0));}function ft(gg,gh){var gi,gj;gi=gg.files;return gi.length>0?(gj=new a.FileReader(),(gj.onload=function(gk){return gh(gk.target.result);},gj.readAsText(gi.item(0)))):null;}function fu(gg){var gh;try{gh=fp(gg);bz.codeSnippets().Set(gh);eQ();ew();}catch(gi){a.alert(a.String(gi));}}function fv(gg){if(!dn.c||a.confirm("Changes have not been saved, do you really want to load?"))ft(_4.findRootElement(gg).querySelector("#"+du),fu);}function fw(){var gg,gh,gi,gj;gg=(gh=bZ.ofSeq((bz.codeSnippets())["var"].RVal()),b1.stringify(((co.EncodeArray(bL.j$3))())(gh)));gi=(gj=fs(dt.c),gj===""?"snippets.fsjson":gj);a.saveAs(new a.Blob([gg],{type:"text/plain;charset=utf-8"}),gi);eQ();}function fx(gg,gh){return _4.findRootElement(gg).querySelector("#"+du).click();}function fy(gg,gh,gi){var gj,gk,gl,gm,gn,go,gp,gq,gr;gj=dg!=null&&dg.$==1&&((gl=dg.$0[0],(gm=dg.$0[1],b0.Equals(gl,gh.id)&&b0.Equals(gm,gi)))&&(gk=[dg.$0[1],dg.$0[0],dg.$0[2]],true))?(gg("Reparsing..."),[gk[2],bz["CodeSnippet.get_PrepareSnippet"](gh)]):(gg("Parsing..."),gn=bz["CodeSnippet.Predecessors"](gh),go=w.ReducedCode(gi,b9.array(gn,{$:1,$0:0},{$:1,$0:bZ.length(gn)-2})),gp=bZ.get(gn,bZ.length(gn)-1),dg={$:1,$0:[gp.id,gi,go]},[go,gp]);gq=w.ReducedCode(gi,[gj[1]]);gr=(function(gs){var gt,gu,gv,gw,gx,gy;gt=gs[0];gu=gs[1];gv=gs[2];gw=gs[3];gx=gs[4];gy=gs[5];return function(gz){return w.AddSeps(gt,gu,gv,gw,gx,gy,gz[0],gz[1],gz[2],gz[3],gz[4],gz[5]);};}(gj[0]))(gq);return w.FinishCode(gi,gr[0],gr[1],gr[2],gr[3],gr[4],gr[5]);}function fz(gg){var gh;function gi(gj){if(!gg)cg.Set(dk,gj);}gh=null;return bU.Delay(function(){var gj,gk,gl;gj=bF.FetchO(cB.c);return gj!=null&&gj.$==1?(gk=gj.$0,(gl=dA+1,(dA=gl,bU.Combine(bU.While(function(){return dB;},bU.Delay(function(){return bU.Bind(bU.Sleep(1000),function(){return bU.Return(null);});})),bU.Delay(function(){return dA!==gl?bU.Zero():bU.TryFinally(bU.Delay(function(){var gm;dB=true;dm=true;gm=fy(gi,gk,false);return bU.Bind(dx.Parse$1(dy,gm[0],gm[1]),function(gn){return!gg&&gl===dA&&dm?(eU(gn),eU("Parsed!"),bU.Zero()):bU.Zero();});}),function(){dB=false;});}))))):bU.Zero();});}function fA(gg){var gh;gh=null;return bU.Delay(function(){return!dm?bU.Return(true):bU.Bind(dx.MustParse(dy,gg.get_NameSanitized()),function(gi){return bU.Return(gi);});});}function fB(gg){var gh;gh=null;return bU.Delay(function(){return bU.Bind(dz,function(gi){var gj;return gi?bU.Zero():(gj=bF.FetchO(cB.c),gj!=null&&gj.$==1?bU.Bind(fA(gj.$0),function(gk){return gk?bU.Bind(fz(gg),function(){return bU.Return(null);}):bU.Zero();}):bU.Zero());});});}function fC(gg,gh){var gi,gj;gi=c.REGEX("([a-zA-Z_]\\w*)$","g",bR.Substring(gg,0,gh));return gi!=null&&gi.$==1?(gj=gi.$0,gj&&bZ.length(gj)===1)?bZ.get(gi.$0,0):"":"";}function fD(gg,gh){var gi,gj;gi=c.REGEX("^([a-zA-Z_]\\w*)","g",gg.substring(gh));return gi!=null&&gi.$==1?(gj=gi.$0,gj&&bZ.length(gj)===1)?bZ.get(gi.$0,0):"":"";}function fE(gg){var gh;bU.Start((gh=null,bU.Delay(function(){return bU.Bind(dz,function(gi){var gj,gk;return gi?bU.Zero():(gj=bF.FetchO(cB.c),gj!=null&&gj.$==1?(gk=gj.$0,bU.Bind(fB(false),function(){var gl,gm,gn,go,gp;gl=gg.getCursor();gm=gg.getLine(gl.line);gn=bR.length(fC(gm,gl.ch));go=bR.length(fD(gm,gl.ch));gp=gn===0&&go===0?2:go;return bU.Bind(dx.ToolTip(dy,gl.line+1,gl.ch+1,gk.get_NameSanitized()),function(gq){var gr;eU(((((gr=(bP.Curried(function(gs,gt,gu,gv,gw){return gs("InfoFSharp \""+bQ.toSafe(gt)+" "+("("+bQ.prettyPrint(gu[0])+", "+bQ.prettyPrint(gu[1])+")")+" - "+("("+bQ.prettyPrint(gv[0])+", "+bQ.prettyPrint(gv[1])+")")+" "+bQ.toSafe(gw)+" \"");},5))(a.id),function(gs){var gt;gt=gr(gs);return function(gu){var gv;gv=gt([gu[0],gu[1]]);return function(gw){return gv([gw[0],gw[1]]);};};})(gk.get_NameSanitized()))([gl.line+1,gl.ch-gn+1]))([gl.line+1,gl.ch+gp+1]))(bR.Replace(gq,"\"","''")));return bU.Zero();});})):bU.Zero());});})),null);}function fF(gg,gh,gi,gj){var gk;bU.Start((gk=null,bU.Delay(function(){var gl,gm;gl=bF.FetchO(cB.c);return gl!=null&&gl.$==1?(gm=gl.$0,(function(gn){return gn("calling parseIfMustThen");}(function(gn){bV.log(gn);}),bU.Bind(fB(false),function(){var gn;function go(gp,gq,gr,gs,gt,gu,gv,gw,gx){var gy;return bR.StartsWith(gp,gm.id.get_Text())||gp===s.sanitize(gm.name)?(gy=a.Number(gq)>0?a.Number(gq):0,{$:1,$0:bi.New(gx,bR.StartsWith(gv.toUpperCase(),"ERR")?"error":bR.StartsWith(gv.toUpperCase(),"INFO")?"info":"warning",_9.cmPos(gr-1,gs-1-gy),_9.cmPos(gt-1,gu-1-gy))}):null;}gh(bZ.choose(function(gp){return go(gp[0],gp[1],gp[2],gp[3],gp[4],gp[5],gp[6],gp[7],gp[8]);},bZ.choose(function(gp){var gq,gr,gs,gt,gu,gv,gw,gx;return(gr=c.REGEX(dD,"",gp),gr!=null&&gr.$==1&&((gs=gr.$0,gs&&bZ.length(gs)===13)&&(gq=[bZ.get(gr.$0,8),bZ.get(gr.$0,5),bZ.get(gr.$0,7),bZ.get(gr.$0,2),bZ.get(gr.$0,4),bZ.get(gr.$0,11),bZ.get(gr.$0,1),bZ.get(gr.$0,10),bZ.get(gr.$0,9)],true)))?{$:1,$0:[gq[1],gq[4],a.Number(gq[2]),a.Number(gq[0]),a.Number(gq[8]),a.Number(gq[7]),gq[6],gq[3],gq[5]]}:(gu=c.REGEX(dC,"",gp),gu!=null&&gu.$==1&&((gv=gu.$0,gv&&bZ.length(gv)===8)&&(gt=[bZ.get(gu.$0,4),bZ.get(gu.$0,2),bZ.get(gu.$0,3),bZ.get(gu.$0,1),bZ.get(gu.$0,6),bZ.get(gu.$0,5)],true)))?(gw=gt[0],(gx=gt[2],{$:1,$0:[gt[1],gt[3],a.Number(gx),a.Number(gw)-1,a.Number(gx),a.Number(gw),gt[5],"fsi",gt[4]]})):null;},(gn=c.REGEX(dE,"g",dk.c),gn!=null&&gn.$==1?gn.$0:[]))));return bU.Zero();}))):bU.Zero();})),null);}function fG(gg){var gh;dF((gh=null,bU.Delay(function(){(function(gi){return gi("before delaying");}(function(gi){bV.log(gi);}));return bU.Bind(bU.Sleep(400),function(){(function(gi){return gi("calling getAnnotations");}(function(gi){bV.log(gi);}));fF.apply(null,gg);return bU.Zero();});})));}function fH(gg,gh,gi){var gj;dF((gj=null,bU.Delay(function(){return bU.Bind(dz,function(gk){var gl,gm;return gk?bU.Zero():(gl=bF.FetchO(cB.c),gl!=null&&gl.$==1?(gm=gl.$0,bU.Bind(fB(true),function(){var gn,go,gp;gn=gg.getCursor();go=gg.getLine(gn.line);gp=fC(go,gn.ch);return bU.Bind(dx.Complete(dy,go+"a",gn.line+1,gn.ch+1,gm.get_NameSanitized()),function(gq){function gr(gs,gt,gu,gv){return bf.New(gt,gv+"| "+gs,gu);}gh(bg.New(bZ.map(function(gs){return gr(gs[0],gs[1],gs[2],gs[3]);},gq),bc.New(gn.line,gn.ch-gp.length),gn));return bU.Zero();});})):bU.Zero());});})));}function fI(gg){var gh,gi,gj;gh=(gi=gg.parent,gi==null?null:bF.FetchO(gi.$0));gh==null?void 0:(gj=gh.$0,fI(gj),!gj.expanded?fj(gj):void 0);}function fJ(gg,gh,gi){var gj;return bU.Start((gj=null,bU.Delay(function(){var gk;cg.Set(cB,gg);gk=bF.FetchO(gg);gk==null?void 0:fI(gk.$0);return bU.Bind(bU.Sleep(200),function(){var gl,gm;gl=dG.editorO;gl==null?void 0:(gm=gl.$0,gm.setCursor(gh-1,gi-1),gm.focus());return bU.Zero();});})),null);}function fK(gg){var gh,gi,gj,gk,gl;gh=c.REGEX("([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}).+?\\((\\d+)\\,\\s*(\\d+)\\)","",gg);gh!=null&&gh.$==1?(gi=gh.$0,gi&&bZ.length(gi)===4)?(gj=bZ.get(gh.$0,3),gk=bZ.get(gh.$0,1),gl=bZ.get(gh.$0,2),fJ(new v({$:0,$0:gk}),a.Number(gl),a.Number(gj))):void 0:void 0;}function fL(){var gg;bU.Start((gg=null,bU.Delay(function(){var gh,gi,gj,gk;gh=bF.FetchO(cB.c);return gh!=null&&gh.$==1?(gi=dG.editorO,gi!=null&&gi.$==1?(gj=gi.$0,(gk=gj.getCursor(),(gj.getLine(gk.line),bU.Bind(dx.FindDecl(dy,gk.line+1,gk.ch+1,gh.$0.get_NameSanitized()),function(gl){var gm;return gl.$==9?(gm=gl.$0,(fK(((((((bP.Curried(function(gn,go,gp,gq,gr,gs){return gn(bQ.toSafe(go)+" ("+a.String(gp)+", "+a.String(gq)+") - ("+a.String(gr)+", "+a.String(gs)+")");},6))(a.id))(gm.File))(gm.Line))(gm.Column))(gm.Line))(gm.Column)),bU.Zero())):gl.$==1?(a.alert((function(gn){return function(go){return gn(bM.p(go));};}(a.id))(gl.$0)),bU.Zero()):(a.alert((function(gn){return function(go){return gn(bN.p$4(go));};}(a.id))(gl)),bU.Zero());})))):bU.Zero()):bU.Zero();})),null);}function fM(){var gg;gg=dG.editorO;gg==null?void 0:gg.$0.refresh();}function fN(gg){var gh;bU.Start((gh=null,bU.Delay(function(){return bU.Bind(bU.Sleep(gg),function(){fM();return bU.Zero();});})),null);}function fO(){cg.Set(dn,true);}function fP(gg,gh){return new bD.New(fO,gg,gh);}function fQ(gg,gh,gi){return fP(gg,gh).get_ValueVar().RSet(gi);}function fR(gg,gh){return _4.table(bS.ofSeq(bT.delay(function(){return bT.append([_4.thead([_4.th([_4.htmlText("Property"),_4.style("padding-right:10px")]),_4.th([_4.htmlText("Value")])])],bT.delay(function(){return bT.append(bT.map(function(gi){var gj;gj=fP(gh,gi);return _4.tr([_4.td([_4.someElt(cc.Input([],gj.get_KeyVar()))]),_4.td([_4.someElt(cc.InputArea([_4.atr("style","height: 1.5em")],gj.get_ValueVar()))]),_9.hoverable(_4.td([_4.title("remove"),_4.style(" cursor: pointer "),_4.htmlText("x"),new _8({$:7,$0:ce.Handler("click",function(){return function(){gj.Remove();return cg.Set(dN,null);};})})]))]);},bT.sort(gh.get_Keys())),bT.delay(function(){return[_4.tr([_9.hoverable(_4.td([_4.htmlText("Add..."),new _8({$:7,$0:ce.Handler("click",function(){return function(){gh.Add("","1");fO();return cg.Set(dN,null);};})})])),_4.td([_4.htmlText("")])])];}));}));})));}function fS(gg){function gh(gj){return gj.properties;}function gi(gj,gk){return w.New(gj.name,gj.content,gj.parent,gj.predecessors,gj.id,gj.expanded,gj.level,gj.levelCode,gk);}return ev(new bX.New$5(),function(gj){return bz.codeSnippets().TryFindByKey(gj);},function(gj){return bz.codeSnippets().LensInto(gh,gi,gj);},gg);}function fT(gg){return new _5({$:1,$0:gg});}function fU(gg,gh,gi,gj){var gk;return l.start(eT,(gk=gg(gh),(l.map(a.ignore))(gk)));}function fV(gg,gh,gi,gj){function gk(gl,gm){if(gl==null)eT("Failed!\n"+gm);else if(gl.$0[0].$==0){eT(gm);cg.Set(dP,null);}else eT(gm);}return l.startV(function(gl){return gk(gl[0],gl[1]);},gg(gh));}function fW(gg,gh,gi){function gj(gk){return(gg(gi))(gk);}return bP.Curried(fU,2,[gj,gh]);}function fX(gg,gh,gi){function gj(gk){return(gg(gi))(gk);}return bP.Curried(fV,2,[gj,gh]);}function fY(gg){var gh,gi,gj;gh=gg.parms;return gh!=null&&gh.$==1&&((gj=gh.$0,gj&&bZ.length(gj)===1)&&(gi=bZ.get(gh.$0,0),true))?bF.FetchByPathO(bR.SplitChars(gi,["/"],0)):e7();}function fZ(gg,gh){var gi;gi=l.wrapper();return gi.Delay(function(){return gi.Bind$2(_5.getAsync(gg.text),function(gj){var gk,gl,gm,gn,go,gp,gq,gr,gs,gu,gv,gw,gx,gy;function gt(gz){return gu==null?null:bz["CodeSnippet.propValue"](gu.$0,gz);}eS(gj+"...");gu=e7();gv=gh?d.defaultValue("",(gl=gt("open"),gl==null?null:{$:1,$0:c.__(function(gz,gA){return gz+gA;},"\n",gl.$0)})):"";gw=cv.Create(function(){return d.defaultValue("${parm}() |> printfn \"%A\"",gt("action-template"));});gx=(gr=gg.parms,gr==null?null:{$:1,$0:bZ.map(a.id,gr.$0)});switch(gx!=null&&gx.$==1?(gy=gx.$0,gy&&bZ.length(gy)===2?bZ.get(gx.$0,0)==="Code"?(gs=bZ.get(gx.$0,1),0):bZ.get(gx.$0,0)==="Property"?(gs=bZ.get(gx.$0,1),1):2:2):2){case 0:gq={$:1,$0:gs};break;case 1:gq=gt(gs);break;case 2:gq=null;break;}gp=gq==null?gt(gj):gq;gm=(gn=d.defaultWith(function(){return((cp.constructor("return function(parm) { return `"+gw.f()+"`}"))())(gj);},gp),bR.StartsWith(gn,"////")?gn:gv+gn);return gu!=null&&gu.$==1?gi.Bind$2((new b_.New()).Async("FSharpStation:FSSGlobal.FsEvaluator+Evaluator.getPresence:-1568677081",[C.extractConfig(gm),(function(gz){return function(gA){return gz(bN.p$3(gA));};}(a.id))(gu.$0.id)]),function(gz){return b0.Equals(gz,{$:1,$0:"ok"})?gi.Return(gm):gi.Bind$3(e9(gu),function(){return gi.Return(gm);});}):gi.Return(gm);});});}function f0(gg,gh){return l.bind(fa,fZ(gg,true));}function f1(gg,gh){return l.bind(fe,fZ(gg,false));}function f2(gg,gh){return e$(fY(gg));}function f3(gg,gh){return fd(fY(gg));}function f4(gg,gh){var gi;gi=fY(gg);return(dp(gh))(gi);}function f5(gg,gh){var gi;gi=l.wrapper();return gi.Delay(function(){return gi.Bind$1(j.tryProtection(),function(){var gj,gk,gl,gm,gn;return gi.Bind$1((gj=gg.parms,gj!=null&&gj.$==1&&((gl=gj.$0,gl&&bZ.length(gl)===3)&&(gk=[bZ.get(gj.$0,1),bZ.get(gj.$0,0),bZ.get(gj.$0,2)],true))?(gm=gk[1],(d.defaultWith(function(){((function(go){return function(gp){return go("setSnippetProp snippet not found: "+bQ.toSafe(gp));};}(function(go){bV.log(go);}))(gm));},(gn=bF.FetchByPathO(bR.SplitChars(gm,["/"],0)),gn==null?null:{$:1,$0:fQ(gn.$0.properties,gk[0],gk[2])})),j.succeed())):j.failSimpleError((function(go){return function(gp){return go("setSnippetProp wrong parms: "+bN.p$5(gp));};}(a.id))(gg.parms))),function(){return gi.Return();});});});}function f6(gg,gh){var gi,gj,gk,gl,gm,gn;((function(go){return function(gp){return go("showOutText: "+bM.p$22(gp));};}(function(go){bV.log(go);}))(gg));gj=gg.parms;switch(gj!=null&&gj.$==1?(gk=gj.$0,gk&&bZ.length(gk)===1?(gi=bZ.get(gj.$0,0),0):(gl=gj.$0,gl&&bZ.length(gl)===2?(bZ.get(gj.$0,1),bZ.get(gj.$0,0)===""?(gi=[bZ.get(gj.$0,0),bZ.get(gj.$0,1)],1):2):2)):2){case 0:return eS(gi);break;case 1:return eS(gi[1]);break;case 2:return gj!=null&&gj.$==1&&((gn=gj.$0,gn&&bZ.length(gn)===2)&&(bZ.get(gj.$0,1),bZ.get(gj.$0,0)==="+"&&(gm=[bZ.get(gj.$0,0),bZ.get(gj.$0,1)],true)))?eT(gm[1]):(function(go){return function(gp){return go("error: showOutText "+bM.p$22(gp));};}(function(go){bV.log(go);}))(gg);break;}}function f7(){return ff(cG.c);}function f8(){var gg;gg=l.wrapper();return gg.Delay(function(){dg=null;return gg.Bind$2(fz(false),function(){return gg.Return();});});}function f9(gg,gh){var gi,gj;function gk(gl,gm,gn){return gj>=gm&&gj<gn?{$:1,$0:gl}:null;}gi=gg.value;gj=gg.selectionStart;return fK(bT.pick(function(gl){return gk(gl[0],gl[1],gl[2]);},(bT.mapFold(function(gl,gm){return[[gm,gl,gl+gm.length+1],gl+gm.length+1];},0,bR.SplitChars(gi,["\n"],0)))[0]));}function f_(gg,gh,gi){var gj;gj=j.result();return gj.Delay(function(){return gj.Bind(j.tryProtection(),function(){return gj.Bind(eq.GetGuiCallAction(gg,gh,gi),function(gk){var gl;gl=gk.onClick;gl==null?void 0:((gl.$0(gk))(null))(null);return gj.Zero();});});});}function f$(gg){fN(1000);fN(2000);fN(3000);eq.SetLayoutJson(ek,gg);}function ga(gg){fN(1000);fN(2000);fN(3000);eq.AddNewSteps(ek,gg);}function gb(gg){return bZ.ofSeq(bT.map(function(gh){return[gh.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),gh.FSSGlobal_Useful_ErrMsg$get_IsWarning()?y.FSWarning:y.FSError];},gg));}function gc(gg){var gh;return{$:4,$0:(gh=gg.$0,gh==null?null:{$:1,$0:gh.$0[1]}),$1:bZ.ofSeq(bT.map(function(gi){return[gi.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),gi.FSSGlobal_Useful_ErrMsg$get_IsWarning()?y.FSWarning:y.FSError];},gg.$1))};}function gd(gg){var gh,gi;return{$:4,$0:(gh=function(gj){return function(gk){return gj(bQ.prettyPrint(gk));};}(a.id),(gi=gg.$0,gi==null?null:{$:1,$0:gh(gi.$0)})),$1:bZ.ofSeq(bT.map(function(gj){return[gj.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),gj.FSSGlobal_Useful_ErrMsg$get_IsWarning()?y.FSWarning:y.FSError];},gg.$1))};}function ge(gg,gh){var gi;gi=null;return bU.Delay(function(){var gj,gk,gl,gm,gn,go,gp,gq,gr;return gh.$==2?bU.Return({$:1,$0:(gj=bF.FetchO(gh.$0),gj==null?null:{$:1,$0:gj.$0.content})}):gh.$==3?bU.Return({$:1,$0:(gk=bF.FetchO(gh.$0),gk==null?null:{$:1,$0:bz["CodeSnippet.GetCodeFsx"](gk.$0,true)})}):gh.$==4?bU.Return({$:3,$0:d.defaultValue([],(gl=bF.FetchO(gh.$0),gl==null?null:{$:1,$0:bz["CodeSnippet.Predecessors"](gl.$0)}))}):gh.$==5?bU.Return({$:2,$0:bF.FetchO(gh.$0)}):gh.$==6?bU.Return({$:1,$0:(gm=bF.FetchByPathO(gh.$0),gm==null?null:{$:1,$0:gm.$0.content})}):gh.$==7?bU.Return({$:1,$0:(gn=bF.FetchByPathO(gh.$0),gn==null?null:{$:1,$0:bz["CodeSnippet.GetCodeFsx"](gn.$0,true)})}):gh.$==10?(go=bF.FetchByPathO(gh.$0),go==null?bU.Return({$:4,$0:null,$1:[["Snippet not found",y.FSError]]}):bU.Bind(D.translateAR(bz["CodeSnippet.GetCodeFsx"](go.$0,true),false),function(gs){return bU.Return({$:4,$0:j.getOption(j.map(bw.completeJS,gs)),$1:gb(j.getMsgs(gs))});})):gh.$==8?bU.Return({$:3,$0:d.defaultValue([],(gp=bF.FetchByPathO(gh.$0),gp==null?null:{$:1,$0:bz["CodeSnippet.Predecessors"](gp.$0)}))}):gh.$==9?bU.Return({$:2,$0:bF.FetchByPathO(gh.$0)}):gh.$==1?bU.Return({$:1,$0:{$:1,$0:"Message received: "+gh.$0}}):gh.$==0?bU.Return({$:0,$0:bz.fsIds()}):gh.$==12?n.map(gc,l.getAsyncR(e6(gh.$1,bA.NewBrowser,bF.FetchO(gh.$0)))):gh.$==13?n.map(gc,l.getAsyncR(e6(gh.$1,bA.NewBrowser,bF.FetchByPathO(gh.$0)))):gh.$==14?(gq=gh.$0,bU.Return(gd(j.map(function(){return(function(gs){return function(gt){return gs("success: "+bQ.toSafe(gt));};}(a.id))(gq);},f_(gq,gh.$1,gh.$2))))):bU.Return({$:1,$0:{$:1,$0:(gr=bZ.ofSeq((bz.codeSnippets())["var"].RVal()),b1.stringify(((co.EncodeArray(bL.j$3))())(gr)))}});});}function gf(gg){!bS.contains(gg,et.c)?cg.Set(et,new bS.T({$:1,$0:gg,$1:et.c})):void 0;fN(300);}cA=cg.Create$1("");cB=cg.Create$1(v.get_New());cC="CodeEditor."+"currentCodeSnippetId";cD=a.localStorage.getItem(cC);cD!==null?cB.set_RVal((bK.j$3())(b1.parse(cD))):void 0;_5.sink(function(gg){a.localStorage.setItem(cC,b1.stringify((bL.j$1())(gg)));},cB);cE=cg.Create$1();cF=_5.map2(function(gg){return function(){return bz.codeSnippets().TryFindByKey(gg);};},cB,cE);cG=cg.Create$1(bA.Below);cH="CodeEditor."+"position";cI=a.localStorage.getItem(cH);cI!==null?cG.set_RVal((bK.j$4())(b1.parse(cI))):void 0;_5.sink(function(gg){a.localStorage.setItem(cH,b1.stringify((bL.j$2())(gg)));},cG);_5.map(function(gg){return gg.$==1;},cG);cJ=_5.map(function(gg){return b0.Equals(bF.FetchO(gg),null);},cB);cK=(cL=_5.map((cM=(cN=function(gg){return gg==null?null:ez(gg.$0);},function(gg){return cN(bF.FetchO(gg));}),function(gg){return eA(cM(gg));}),cB),(cO=[cg.Create$1(null)],(cb.Sink(function(gg){if(!b0.Equals(cO[0].c,gg))cg.Set(cO[0],gg);},_5.toView(cL)),new _5({$:1,$0:cO[0]}))));cP=(cQ=_5.map((cR=(cS=function(gg){return gg==null?null:eB(gg.$0);},function(gg){return cS(bF.FetchO(gg));}),function(gg){return eC(cR(gg));}),cB),(cT=[cg.Create$1(null)],(cb.Sink(function(gg){if(!b0.Equals(cT[0].c,gg))cg.Set(cT[0],gg);},_5.toView(cQ)),new _5({$:1,$0:cT[0]}))));cU=(cV=_5.map((cW=(cX=function(gg){return gg==null?null:eD(gg.$0);},function(gg){return cX(bF.FetchO(gg));}),function(gg){return eE(cW(gg));}),cB),(cY=[cg.Create$1(null)],(cb.Sink(function(gg){if(!b0.Equals(cY[0].c,gg))cg.Set(cY[0],gg);},_5.toView(cV)),new _5({$:1,$0:cY[0]}))));cZ=(c0=_5.map((c1=(c2=function(gg){return gg==null?null:eF(gg.$0);},function(gg){return c2(bF.FetchO(gg));}),function(gg){return eG(c1(gg));}),cB),(c3=[cg.Create$1(null)],(cb.Sink(function(gg){if(!b0.Equals(c3[0].c,gg))cg.Set(c3[0],gg);},_5.toView(c0)),new _5({$:1,$0:c3[0]}))));c4=(c5=_5.map((c6=(c7=function(gg){return gg==null?null:eH(gg.$0);},function(gg){return c7(bF.FetchO(gg));}),function(gg){return eI(c6(gg));}),cB),(c8=[cg.Create$1(null)],(cb.Sink(function(gg){if(!b0.Equals(c8[0].c,gg))cg.Set(c8[0],gg);},_5.toView(c5)),new _5({$:1,$0:c8[0]}))));c9=(c_=_5.map((c$=(da=function(gg){return gg==null?null:eJ(gg.$0);},function(gg){return da(bF.FetchO(gg));}),function(gg){return eK(c$(gg));}),cB),(db=[cg.Create$1(null)],(cb.Sink(function(gg){if(!b0.Equals(db[0].c,gg))cg.Set(db[0],gg);},_5.toView(c_)),new _5({$:1,$0:db[0]}))));dc=_5.map(function(gg){return gg!=="0"&&gg!=="";},eL("DisableParse"));dd=_5.map2(function(gg){return function(gh){return eM(gg,gh);};},dc,eL("DisableFSI"));de=_5.map2(function(gg){return function(gh){return eM(gg,gh);};},dc,eL("DisableFable"));df=_5.map2(function(gg){return function(gh){return eM(gg,gh);};},dc,eL("DisableWebSharper"));dg=null;dh=new q.New(function(gg){var gh;gh=gg==null?null:{$:1,$0:new cs.New$2(gg.$0.UniquePredecessors(bF.FetchO))};return d.defaultValue(new cs.New$3(),gh);});di=cg.Create$1("");dj=cg.Create$1("");dk=cg.Create$1("");dl=cg.Create$1("");dm=false;dn=cg.Create$1(false);_5.sink(function(gg){a.onbeforeunload=gg?function(gh){gh.returnValue="Changes you made may not be saved.";}:null;},dn);_do=v.get_New();bG.set_addOutMsg(eT);dp=(dq=a.location.origin+"/Main.html",(bP.Curried3(e6))(dq));dr=_5.map(function(gg){var gh,gi;gh=null;return dh.cache.TryGetValue(gg,{get:function(){return gh;},set:function(gj){gh=gj;}})?gh:(gi=dh.f(gg),(dh.cache.set_Item(gg,gi),gi));},cF);ds=0;dt=cg.Create$1("");_5.map(function(gg){return gg==="";},dt);du="CodeEditorFileSel";dv=$.New$2(cg.Lens(dt,fs,a.id)).Prefix$1(_4.label([_4["class"]("btn btn-primary"),_4.htmlText("Load File..."),$.New$2(dt).Type("file").Style("display: none").Content([ce.Handler("change",function(gg){return function(){return fv(gg);};}),ce.Handler("click",function(gg){return function(){gg.value="";};})]).Id(du).get_Render()]));cz!==""?bU.Start((dw=null,bU.Delay(function(){return bU.Bind(bU.Sleep(3000),function(){var gg;((function(gh){return function(gi){return gh("loading "+bQ.toSafe(gi)+"...");};}(function(gh){bV.log(gh);}))(cz));gg=cw.getJSON(cz+"?t="+a.String(b2.now()));gg.done(function(){return fu(gg.responseText);});return bU.Zero();});})),null):void 0;dx=new _3.New("FSharpStation",{$:1,$0:a.location.href});dy=bz.fsIds()+".fsx";dz=cb.GetAsync(_5.toView(dc));dA=1;dB=false;dC="\\((\\d+)\\) F# (.+).fsx\\((\\d+)\\,(\\d+)\\): (error|warning) ((.|\\b)+)";dD="(Err|Warning|Info)(FSharp|WebSharper)\\s+\"(\\((\\d+)\\) ?)?F?#? ?(.+?)(.fsx)? \\((\\d+)\\,\\s*(\\d+)\\) - \\((\\d+)\\,\\s*(\\d+)\\) ((.|\\s)+?)"+"\"";dE=dC+"|"+dD;dF=c.asyncStartCancelling();dG=be.New$2((dH=_5.toView(_5.fixit(cB)),(dI=cg.Create$1(null),(dJ=[null],(dK=[0],(dL=[0],(cb.Sink(function(){var gg,gh;gg=dJ[0];gg==null?void 0:(gh=gg.$0,dK[0]>dL[0]?dL[0]=dK[0]:!b0.Equals(gh.RVal(),dI.c)?(dL[0]=dL[0]+1,gh.set_RVal(dI.c)):void 0);},dI.v),cb.Sink(function(){var gg,gh;gg=dJ[0];gg==null?void 0:(gh=gg.$0,dL[0]>dK[0]?dK[0]=dL[0]:!b0.Equals(gh.RVal(),dI.c)?(dK[0]=dK[0]+10,cg.Set(dI,gh.RVal())):void 0);},cb.Bind(function(gg){var gh;gh=ey(gg);dJ[0]={$:1,$0:gh};dL[0]=dK[0]+100;cg.Set(dI,gh.RVal());return gh.RView();},dH)),dI))))))).OnChange(function(){var gg;dg!=null&&dg.$==1&&(b0.Equals(dg.$0[0],cB.c)&&(gg=[dg.$0[0],dg.$0[2]],true))?eN():eO();}).OnRender(function(gg){var gh;function gi(gl){return fH(gl[0],gl[1],gl[2]);}function gj(gl){gg.replaceSelection(".","end");}function gk(gl){return fH(gl[0],gl[1],gl[2]);}gg.addKeyMap(bC.New(fE,fE,function(gl){_9.showHints(gg,gi,false,gl);},(gh=function(){_9.showHints(gg,gk,false,void 0);},function(gl){return gh(gj(gl));})));_9.setLint(gg,fG);_5.sink(function(gl){var gm;bU.Start((gm=null,bU.Delay(function(){gg.setOption("theme",gl);return bU.Bind(bU.Sleep(50),function(){gg.refresh();return bU.Zero();});})),null);},cZ);_5.sink(function(gl){gg.setOption("mode",gl);},cU);}).Style("height: 100%");dM=dG.get_Render().AddChildren([new _8({$:7,$0:ce.Handler("dblclick",function(){return function(){return fE(dG.editorO.$0);};})}),_4.htmlElement("menu",[_4.type("context"),_4.Id("right-menu"),_4.htmlElement("menuitem",[_4.htmlAttribute("label","Goto Definition"),new _8({$:7,$0:ce.Handler("click",function(){return function(){return fL();};})})])]),_4.htmlAttribute("contextmenu","right-menu")]);_5.sink(function(){var gg;bU.Start((gg=null,bU.Delay(function(){var gh,gi,gj;return!dm?bU.Zero():(gh=dG.editorO,gh!=null&&gh.$==1?(gi=gh.$0,(gj=bF.FetchO(cB.c),gj!=null&&gj.$==1?bU.Bind(dx.MustParse(dy,gj.$0.get_NameSanitized()),function(gk){return gk?bU.Zero():(gi.performLint(),bU.Zero());}):bU.Zero())):bU.Zero());})),null);},dk);dN=cg.Create$1();dO=_4.div([new _8({$:5,$0:_5.map2(function(gg){return function(gh){return fR(gg,gh);};},dN,_5.bind(function(gg){return fT(fS(gg));},cB))}),_4.css(" td.hovering { background: gray; } ")]);dP=cg.Create$1();dQ=bq.New$1("Load...").OnClick(function(gg){return function(gh){return fx(gg,gh);};});dR=bq.New$1("Save as...").OnClick(bP.Curried(_9.Do,2,[fw,null])).Highlight(dn);dS=bq.New$1("Add Snippet").OnClick(bP.Curried(_9.Do,2,[fq,null]));dT=bq.New$1("Delete Snippet").OnClick(bP.Curried(_9.Do,2,[fr,null])).Disabled(cJ);dU=bq.New$1("Indent In  >>").OnClick(bP.Curried(_9.Do,2,[eX,null])).Disabled(cJ);dV=bq.New$1("Indent Out <<").OnClick(bP.Curried(_9.Do,2,[eY,null])).Disabled(cJ);dW=bq.New$1("Get F# Code").OnClick(bP.Curried(_9.Do,2,[eV,null])).Disabled(dc);dX=bq.New$1("actSetSnippetProp").OnClick2(function(gg){return fW(function(gh){return function(gi){return f5(gh,gi);};},null,gg);}).Disabled(dd);dY=bq.New$1("Run FSI on Code").OnClick2(function(gg){return fW(function(gh){return function(gi){return f0(gh,gi);};},null,gg);}).Disabled(dd);dZ=bq.New$1("Run FSI").OnClick2(function(gg){return fW(function(gh){return function(gi){return f2(gh,gi);};},null,gg);}).Disabled(dd);d0=bq.New$1("Run Fable on Code").OnClick2(function(gg){return fW(function(gh){return function(gi){return f1(gh,gi);};},null,gg);}).Disabled(de);d1=bq.New$1("Run Fable").OnClick2(function(gg){return fW(function(gh){return function(gi){return f3(gh,gi);};},null,gg);}).Disabled(de);d2=bq.New$1("Run WebSharper in new tab").OnClick2((d3=bA.NewBrowser,function(gg){return fW(function(gh){return function(gi){return f4(gh,gi);};},d3,gg);})).Disabled(df);d4=bq.New$1("Run WebSharper in WS Result").OnClick2((d5=bA.Below,function(gg){return fX(function(gh){return function(gi){return f4(gh,gi);};},d5,gg);})).Disabled(df);d6=bq.New$1("Run WebSharper in ...").OnClick(bP.Curried(fV,2,[f7,null])).Disabled(df);d7=bq.New$1("Parse F#").OnClick(bP.Curried(fU,2,[f8,null])).Disabled(dc);d8=bq.New$1("Compile WebSharper").OnClick((d9=function(gg){return eZ(e7(gg));},bP.Curried(fU,2,[d9,null]))).Disabled(df);d_=bq.New$1("Find Definition").OnClick(bP.Curried(_9.Do,2,[fL,null])).Disabled(dc);d$=bq.New$1("Refresh CodeMirror").OnClick(bP.Curried(_9.Do,2,[fM,null]));ea=bq.New$1("Show Output text").OnClick2(bP.Curried(_9.Do2,3,[f6,null]));eb=_4.div([dS.get_Button().get_Render(),dV.get_Button().get_Render(),dU.get_Button().get_Render(),dv.get_Render().AddChildren([_4.style("grid-column: 4/6")]),dZ.get_Button().get_Render(),d1.get_Button().get_Render(),d6.get_Button().get_Render(),dT.get_Button().get_Render(),d_.get_Button().get_Render(),_4.span([]),dR.get_Button().get_Render(),_4.span([]),dW.get_Button().get_Render(),d7.get_Button().get_Render(),_4.someElt(cc.Select([cf.Create("id","Position")],function(gg){return gg.$==1?"Right":gg.$==2?"In Tab":gg.$==3?"New Browser":"Below";},bS.ofArray([bA.NewBrowser,bA.Below]),cG)),_4.style("\n                    overflow: hidden;\n                    display: grid;\n                    grid-template-columns: repeat(8, 12.1%);\n                    bxackground-color: #eee;\n                    padding : 5px;\n                    grid-gap: 5px;\n                ")]);ec=bp.New2([bn.New$2("File").SubMenu([dQ.get_MenuEntry(),dR.get_MenuEntry()]),bn.New$2("Code").SubMenu([dS.get_MenuEntry(),dT.get_MenuEntry(),bn.New$2("").get_Divider(),dU.get_MenuEntry(),dV.get_MenuEntry(),bn.New$2("").get_Divider(),d_.get_MenuEntry(),bn.New$2("").get_Divider(),dW.get_MenuEntry(),bn.New$2("").get_Divider(),d$.get_MenuEntry()]),bn.New$2("Run").SubMenu([dZ.get_MenuEntry(),d1.get_MenuEntry(),bn.New$2("").get_Divider(),d2.get_MenuEntry(),d4.get_MenuEntry(),bn.New$2("").get_Divider(),d7.get_MenuEntry(),d8.get_MenuEntry()])]);ed=bp.New2([bn.New$2("About").SubMenu([bn.New$1("Source @ GitHub","https://github.com/amieres/FSharpStation").Target("_blank")])]);ee=_9.navbar(_4.h1([_4.htmlText("F# Station"),_4.style("font-size: 48px; margin-top: -17px")]),ec.get_Render(),ed.get_Render());ef="CodeEditor."+"splitterV1";eg=bj.New$1(20).Children([_4.style("grid-row: 2 / 4")]).get_Var();eh=a.localStorage.getItem(ef);eh!==null?eg.set_RVal(((co.Id())())(b1.parse(eh))):void 0;_5.sink(function(gg){a.localStorage.setItem(ef,b1.stringify(((co.Id())())(gg)));},eg);ei=_4.bindHElem(function(gg){return _4.div(bS.ofSeq(bT.delay(function(){return bT.append([_4.style("overflow: auto")],bT.delay(function(){var gh;return bT.append(bT.choose(a.id,(gh=bT.indexed(gg),bT.mapFold(function(gi,gj){var gk,gl,gm,gn,go;gk=gj[1];return d.defaultValue(true,(gl=gk.parent,gl==null?null:{$:1,$0:gi.Contains(gl.$0)}))?(gm=d.defaultValue(false,(gn=bT.tryItem(gj[0]+1,bz.codeSnippets()),gn==null?null:{$:1,$0:b0.Equals(gn.$0.parent,{$:1,$0:gk.id})})),(go=gm&&gk.expanded,[{$:1,$0:fk(gm,go,gk)},go?gi.Add(gk.id):gi])):[null,gi];},new cj.New(bS.T.Empty),gh))[0]),bT.delay(function(){return bT.append([new _8({$:7,$0:ce.Handler("scroll",function(gi){return function(){ds=gi.scrollTop;};})})],bT.delay(function(){return[new _8({$:7,$0:ce.OnAfterRender(function(gi){gi.scrollTop=ds;})})];}));}));}));})));},(ej=bz.codeSnippets().v,cb.SnapshotOn((bz.codeSnippets())["var"].RVal(),cE.v,ej)));ek=bv.AddGuids([["actLoadFile",new br({$:2,$0:dQ})],["actSaveFile",new br({$:2,$0:dR})],["actAddSnippet",new br({$:2,$0:dS})],["actDeleteSnippet",new br({$:2,$0:dT})],["actIndentSnippet",new br({$:2,$0:dU})],["actOutdentSnippet",new br({$:2,$0:dV})],["actGetFsCode",new br({$:2,$0:dW})],["actSetSnippetProp",new br({$:2,$0:dX})],["actEvalFsCode",new br({$:2,$0:dY})],["actEvalCode",new br({$:2,$0:dZ})],["actRunFableFs",new br({$:2,$0:d0})],["actRunFable",new br({$:2,$0:d1})],["actRunWSNewTab",new br({$:2,$0:d2})],["actRunWSHere",new br({$:2,$0:d4})],["actRunWSIn",new br({$:2,$0:d6})],["actParseCode",new br({$:2,$0:d7})],["actCompileWS",new br({$:2,$0:d8})],["actFindDefinition",new br({$:2,$0:d_})],["actOutText",new br({$:2,$0:ea})],["Output",new br({$:1,$0:bb.New$2(dl).Placeholder("Output:").Title("Output").RenderWith(bS.ofArray([ce.Handler("dblclick",function(gg){return function(gh){return f9(gg,gh);};})]))})],["Parser",new br({$:1,$0:bb.New$2(dk).Placeholder("Parser messages:").Title("Parser").RenderWith(bS.ofArray([ce.Handler("dblclick",function(gg){return function(gh){return f9(gg,gh);};})]))})],["JavaScript",new br({$:1,$0:bb.New$2(dj).Placeholder("Javascript:").Title("JavaScript code generated").get_Render()})],["F# code",new br({$:1,$0:bb.New$2(di).Placeholder("F# code:").Title("F# code assembled").get_Render()})],["Properties",new br({$:1,$0:dO})],["WS Result",new br({$:1,$0:_4.div([_4.div([_4.Id("TestNode"),_4.style("background: white; height: 100%; width: 100%; ")])])})],["title",new br({$:1,$0:$.New$2((el=_5.toView(_5.fixit(cB)),(em=cg.Create$1(null),(en=[null],(eo=[0],(ep=[0],(cb.Sink(function(){var gg,gh;gg=en[0];gg==null?void 0:(gh=gg.$0,eo[0]>ep[0]?ep[0]=eo[0]:!b0.Equals(gh.RVal(),em.c)?(ep[0]=ep[0]+1,gh.set_RVal(em.c)):void 0);},em.v),cb.Sink(function(){var gg,gh;gg=en[0];gg==null?void 0:(gh=gg.$0,ep[0]>eo[0]?eo[0]=ep[0]:!b0.Equals(gh.RVal(),em.c)?(eo[0]=eo[0]+10,cg.Set(em,gh.RVal())):void 0);},cb.Bind(function(gg){var gh;gh=ex(gg);en[0]={$:1,$0:gh};ep[0]=eo[0]+100;cg.Set(em,gh.RVal());return gh.RView();},el)),em))))))).Prefix$1(_4.htmlText("name:")).get_Render()})],["code",new br({$:1,$0:dM})],["snippets",new br({$:1,$0:ei})],["buttons",new br({$:1,$0:eb})],["menu",new br({$:1,$0:ee})],["messagesR",new br({$:4,$0:true,$1:["Properties"]})],["messagesB1",new br({$:4,$0:true,$1:["Output","JavaScript","F# code"]})],["messagesB2",new br({$:4,$0:true,$1:["Parser","WS Result"]})],["messagesB",_9.varVerSplitter(55,"messagesB1","messagesB2",0,100)],["title_code",_9.fixedHorSplitter(true,34,"title","code")],["code_props",_9.varVerSplitter(85,"title_code","messagesR",25,100)],["code_buttons",_9.fixedHorSplitter(false,80,"code_props","buttons")],["snippets_code",_9.varVerSplitter(15,"snippets","code_buttons",5,95)],["main_messages",_9.varHorSplitter(82,"snippets_code","messagesB",35,100)],["extrabuttons",new br({$:1,$0:_4.div([])})],["main_extra",_9.varVerSplitter(100,"main_messages","extrabuttons",20,100)],["main",_9.fixedHorSplitter(true,50,"menu","main_extra")]]);eq=bv.New$1(ek);a.addLayoutJson=f$;_5.sink(f$,c4);_5.sink(function(gg){if(gg==="")ga([]);else e1(a,gg);},c9);a.doFSharpStationGuiCall=function(gg){var gh,gi;gh=j.Success(f_.apply(null,gg));gh.$==1?((gi=(bP.Curried3(function(gj,gk,gl){return gj("Error doGuiCall "+bQ.printList(bQ.prettyPrint,gk)+": "+("("+bQ.prettyPrint(gl[0])+", "+bQ.prettyPrint(gl[1])+", "+bQ.printArray(bQ.prettyPrint,gl[2])+")"));}))(function(gj){bV.log(gj);}),function(gj){var gk;gk=gi(gj);return function(gl){gk([gl[0],gl[1],gl[2]]);};})(gh.$0))(gg):void 0;};a.setFSharpStationLayout=function(gg){var gh;gh=bF.FetchO(cB.c);gh==null?void 0:ga(gg.apply(null,[eq,gh.$0]));};er=new A.New(bz.fsIds(),{$:1,$0:bz.fsIds()},null,{$:1,$0:a.location.href});bU.Start((es=null,bU.Delay(function(){return bU.Bind(bU.Sleep(1000),function(){er.get_MessagingClient().awaitMessage(function(gg,gh){var gi;gi=null;return bU.Delay(function(){var gj;((function(gk){return function(gl){return gk("respondMessageG txt: "+bQ.toSafe(gl));};}(function(gk){bV.log(gk);}))(gh));gj=(bK.j$5())(b1.parse(gh));((function(gk){return function(gl){return gk("respondMessageG msg: "+bQ.prettyPrint(gl));};}(function(gk){bV.log(gk);}))(gj));return bU.Bind(ge(gg,gj),function(gk){return bU.Return(b1.stringify((bL.j$4())(gk)));});});});return bU.Zero();});})),null);_5.sink(function(){eq.SelectTab("Output");},dl);_5.sink(function(){eq.SelectTab("WS Result");},dP);et=cg.Create$1(bS.ofArray(["/EPFileX/css/main.css"]));_5.sink(gf,cP);_5.sink(function(gg){if(gg!=="")gf((function(gh){return function(gi){return gh("/EPFileX/codemirror/content/theme/"+bQ.toSafe(gi)+".css");};}(a.id))(gg));},cZ);eu=_4.div([_4.style("height: 100vh; width: 100% "),eq.get_Render().Style("height: 100%; width: 100% "),_4.script([_4.src("/EPFileX/FileSaver/FileSaver.js"),_4.type("text/javascript")]),_4.script([_4.src("http://code.jquery.com/jquery-3.1.1.min.js"),_4.type("text/javascript")]),_4.script([_4.src("http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"),_4.type("text/javascript")]),_4.link([_4.href("http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"),_4.type("text/css"),_4.rel("stylesheet")]),_4.css("\n      \n        body { margin: 0px }     \n             \n        div textarea {\n            font-family     : monospace;\n        }\n        .code-editor-list-tile {\n            white-space     : nowrap; \n            border-style    : solid none none;\n            border-color    : white;\n            border-width    : 1px;\n            background-color: #D8D8D8;\n            display         : flex;\n        }\n        .code-editor-list-text{\n            padding         : 1px 10px 1px 5px;\n            overflow        : hidden;\n            text-overflow   : ellipsis;\n            white-space     : nowrap;\n            flex            : 1;\n        }\n        \n        .code-editor-list-tile.direct-predecessor {\n            font-weight     : bold;\n        }\n        .code-editor-list-tile.indirect-predecessor {\n            color           : blue;\n        }\n        .code-editor-list-tile.selected {\n            background-color: #77F;\n            color           : white;\n        }\n        .code-editor-list-tile.hovering {\n            background      : lightgray;\n        }\n        .code-editor-list-tile.hovering.selected {\n            background      : blue;\n        }\n        .code-editor-list-tile>.predecessor {\n            font-weight     : bold;\n            border-style    : inset;\n            border-width    : 1px;\n            text-align      : center;\n            color           : transparent;\n        }\n        .code-editor-list-tile.direct-predecessor>.predecessor {\n            color           : blue;\n        }\n        \n        .CodeMirror { height: 100%; }\n        \n        .node {\n            background-color: white; \n            width           : 2ch; \n            color           : #A03; \n            font-weight     : bold; \n            text-align      : center;\n            font-family     : arial;\n        }\n        .Warning { text-decoration: underline lightblue } \n        .Error   { text-decoration: underline red       } \n        .body    { margin         : 0px                 }\n        "),_4.style(" \n                color      : #333;\n                font-size  : small;\n                font-family: monospace;\n                line-height: 1.2;\n                    "),new _8({$:5,$0:_5.map(function(gg){return _4.div(bS.ofSeq(bT.delay(function(){return bT.map(function(gh){return _4.link([_4.href(gh),_4.type("text/css"),_4.rel("stylesheet")]);},gg);})));},et)}),_4.css(cK)]);return(_4.renderDoc())(eu);};bJ.$cctor=function(){var cz,cA,cB;bJ.$cctor=a.ignore;function cC(cD,cE){return new _8({$:7,$0:ce.Style(cD,cE)});}bJ.result=new k.New();bJ.errOptionIsNone=new h.New();bJ.wrapper=new m.New();bJ.awaitRequestForF=s.selectF(function(cD){return(new b_.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.awaitRequestFor:-439983525",[cD]);},function(cD){return(new b_.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.awaitRequestFor:-439983525",[cD]);});bJ.sendRequestF=s.selectF(bP.Curried3(function(cD,cE,cF){return(new b_.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.sendRequest:-426626804",[cD,cE,cF]);}),bP.Curried3(function(cD,cE,cF){return(new b_.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.sendRequest:-426626804",[cD,cE,cF]);}));bJ.replyToF=s.selectF(function(cD){return function(cE){return(new b_.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.replyTo:-1092841374",[cD,cE]);};},function(cD){return function(cE){return(new b_.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.replyTo:-1092841374",[cD,cE]);};});bJ.AsyncStartF=s.selectF(function(cD){s.AsyncStart(cD);},function(cD){bU.Start(cD,null);});bJ.valFlow=new _7.New();bJ.renderDoc=(cz=(cA=cc.Empty(),function(cD){return cD==null?cA:cD.$0;}),function(cD){return cz(_4.chooseNode(cD));});bJ.string2Styles=(cB=function(cD){return bZ.map(function(cE){return cC(cE[0],cE[1]);},cD);},function(cD){return cB(_4.style2pairs(cD));});bJ.codeMirrorIncludes=["/EPFileX/codemirror/scripts/codemirror/codemirror.js","/EPFileX/codemirror/scripts/intellisense.js","/EPFileX/codemirror/scripts/codemirror/codemirror-intellisense.js","/EPFileX/codemirror/scripts/codemirror/codemirror-compiler.js","/EPFileX/codemirror/scripts/codemirror/mode/none.js","/EPFileX/codemirror/scripts/codemirror/mode/fsharp.js","/EPFileX/codemirror/scripts/codemirror/mode/css.js","/EPFileX/codemirror/scripts/codemirror/mode/javascript.js","/EPFileX/codemirror/scripts/codemirror/mode/markdown.js","/EPFileX/codemirror/scripts/addon/search/searchcursor.js","/EPFileX/codemirror/scripts/addon/search/search.js","/EPFileX/codemirror/scripts/addon/search/jump-to-line.js","/EPFileX/codemirror/scripts/addon/dialog/dialog.js","/EPFileX/codemirror/scripts/addon/edit/matchbrackets.js","/EPFileX/codemirror/scripts/addon/selection/active-line.js","/EPFileX/codemirror/scripts/addon/display/fullscreen.js","/EPFileX/codemirror/scripts/addon/hint/show-hint.js","/EPFileX/codemirror/scripts/addon/lint/lint.js"];bJ.observers=bS.T.Empty;bJ.draggedTab=[null];bJ.selectedPanels=cg.Create$1(new cx.New([]));bJ.TabMoved=null;bJ.codeSnippets=cy.Create(function(cD){return cD.id;},bS.T.Empty);bJ.fsIds="FSharpStation"+a.String(b2.now());bJ.references=["mscorlib.dll","System.dll","System.Core.dll","System.Data.dll","System.IO.dll","System.Xml.dll","System.Numerics.dll","FSharp.Core.sigdata","FSharp.Core.dll","Fable.Core.dll","Fable.Import.Browser.dll"];bJ.loadReferences=cv.Create(function(){var cD;bU.Start((cD=null,bU.Delay(function(){return bU.Bind(_4.LoadFilesAsync(["https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.2/require.min.js"]),function(){var cE;cE=cp.create(null);cE.skipDataMain=1;cE.isBrowser=1;a.require.config(cE);bT.iter(function(cF){a.getFileBlob(cF,"metadata/"+cF);},bG.references());return bU.Zero();});})),null);});bJ.getChecker=cv.Create(function(){return cq.createChecker(function(cD){return a.metadata[cD];},bZ.choose(function(cD){return cD.indexOf("sigdata")!=-1?null:{$:1,$0:bR.Replace(cD,".dll","")};},bG.references()));});bJ.addOutMsg=function(cD){bV.log(cD);};};bK.j=function(){return bK._v?bK._v:bK._v=(co.DecodeUnion(void 0,"$",[[0,[["$0","Item",co.Id(),0]]],[1,[["$0","Item",co.Id(),1]]],[2,[["$0","Item",bK.j$2,1]]],[3,[["$0","Item",co.DecodeArray(bK.j$2),0]]],[4,[["$0","Item1",co.Id(),1],["$1","Item2",co.DecodeArray(co.DecodeTuple([co.Id(),bK.j$1])),0]]]]))();};bK.j$3=function(){return bK._v$3?bK._v$3:bK._v$3=(co.DecodeUnion(v,"$",[[0,[["$0","Item",co.Id(),0]]]]))();};bK.j$2=function(){return bK._v$2?bK._v$2:bK._v$2=(co.DecodeRecord(w,[["name",co.Id(),0],["content",co.Id(),0],["parent",bK.j$3,1],["predecessors",co.DecodeList(bK.j$3),0],["id",bK.j$3,0],["expanded",co.Id(),0],["level",co.Id(),0],["levelCode",co.Id(),0],["properties",co.DecodeStringDictionary(co.Id()),0]]))();};bK.j$1=function(){return bK._v$1?bK._v$1:bK._v$1=(co.DecodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]]]))();};bL.j=function(){return bL._v?bL._v:bL._v=(co.EncodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",co.Id(),0]]],[2,[["$0","Item",bL.j$1,0]]],[3,[["$0","Item",bL.j$1,0]]],[4,[["$0","Item",bL.j$1,0]]],[5,[["$0","Item",bL.j$1,0]]],[6,[["$0","Item",co.EncodeArray(co.Id()),0]]],[7,[["$0","Item",co.EncodeArray(co.Id()),0]]],[8,[["$0","Item",co.EncodeArray(co.Id()),0]]],[9,[["$0","Item",co.EncodeArray(co.Id()),0]]],[10,[["$0","Item",co.EncodeArray(co.Id()),0]]],[11,[]],[12,[["$0","Item1",bL.j$1,0],["$1","Item2",co.Id(),0]]],[13,[["$0","Item1",co.EncodeArray(co.Id()),0],["$1","Item2",co.Id(),0]]],[14,[["$0","name",co.Id(),0],["$1","action",co.Id(),0],["$2","parms",co.EncodeArray(co.Id()),0]]]]))();};bL.j$1=function(){return bL._v$1?bL._v$1:bL._v$1=(co.EncodeUnion(v,"$",[[0,[["$0","Item",co.Id(),0]]]]))();};bL.j$4=function(){return bL._v$4?bL._v$4:bL._v$4=(co.EncodeUnion(void 0,"$",[[0,[["$0","Item",co.Id(),0]]],[1,[["$0","Item",co.Id(),1]]],[2,[["$0","Item",bL.j$3,1]]],[3,[["$0","Item",co.EncodeArray(bL.j$3),0]]],[4,[["$0","Item1",co.Id(),1],["$1","Item2",co.EncodeArray(co.EncodeTuple([co.Id(),bL.j$5])),0]]]]))();};bL.j$5=function(){return bL._v$5?bL._v$5:bL._v$5=(co.EncodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]]]))();};bK.j$5=function(){return bK._v$5?bK._v$5:bK._v$5=(co.DecodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",co.Id(),0]]],[2,[["$0","Item",bK.j$3,0]]],[3,[["$0","Item",bK.j$3,0]]],[4,[["$0","Item",bK.j$3,0]]],[5,[["$0","Item",bK.j$3,0]]],[6,[["$0","Item",co.DecodeArray(co.Id()),0]]],[7,[["$0","Item",co.DecodeArray(co.Id()),0]]],[8,[["$0","Item",co.DecodeArray(co.Id()),0]]],[9,[["$0","Item",co.DecodeArray(co.Id()),0]]],[10,[["$0","Item",co.DecodeArray(co.Id()),0]]],[11,[]],[12,[["$0","Item1",bK.j$3,0],["$1","Item2",co.Id(),0]]],[13,[["$0","Item1",co.DecodeArray(co.Id()),0],["$1","Item2",co.Id(),0]]],[14,[["$0","name",co.Id(),0],["$1","action",co.Id(),0],["$2","parms",co.DecodeArray(co.Id()),0]]]]))();};bM.p$22=function(cz){return"{"+("text = "+bN.p$6(cz.text))+"; "+("highlight = "+bN.p$8(cz.highlight))+"; "+("disabled = "+bN.p$8(cz.disabled))+"; "+("toolTip = "+bN.p$10(cz.toolTip))+"; "+("onClick = "+bN.p$11(cz.onClick))+"; "+("parms = "+bN.p$5(cz.parms))+"}";};bN.p$11=function(cz){return cz==null?"null":"Some <fun>";};bN.p$10=function(cz){return cz==null?"null":"Some "+bQ.prettyPrint(cz.$0);};bN.p$8=function(cz){return cz.$==2?"Dynamic "+bN.p$9(cz.$0):cz.$==1?"DynamicV "+bQ.prettyPrint(cz.$0):"Constant "+bQ.prettyPrint(cz.$0);};bN.p$9=function(cz){return"V <fun>";};bN.p$6=function(cz){return cz.$==2?"Dynamic "+bN.p$7(cz.$0):cz.$==1?"DynamicV "+bQ.prettyPrint(cz.$0):"Constant "+bQ.prettyPrint(cz.$0);};bN.p$7=function(cz){return"V <fun>";};bN.p$5=function(cz){return cz==null?"null":"Some "+bQ.printArray(bQ.prettyPrint,cz.$0);};bN.p$4=function(cz){return cz.$==17?"KMultiple "+bQ.printArray(function(cA){return bN.p$4(cA);},cz.$0):cz.$==16?"KUnionCase "+bM.p$21(cz.$0):cz.$==15?"KNamespaces "+bM.p$18(cz.$0):cz.$==14?"KCompilerLocation "+bM.p$17(cz.$0):cz.$==13?"KSignatureData "+bM.p$15(cz.$0):cz.$==12?"KTypeSig "+bQ.prettyPrint(cz.$0):cz.$==11?"KToolTip "+bQ.printArray(function(cA){return bQ.printArray(function(cB){return bM.p$2(cB);},cA);},cz.$0):cz.$==10?"KDeclarations "+bQ.printArray(function(cA){return bM.p$13(cA);},cz.$0):cz.$==9?"KFindDecl "+bM.p$12(cz.$0):cz.$==8?"KColorizations "+bQ.printList(function(cA){return bM.p$11(cA);},cz.$0):cz.$==7?"KErrors "+bM.p$9(cz.$0):cz.$==6?"KMethod "+bM.p$6(cz.$0):cz.$==5?"KHelp "+bQ.prettyPrint(cz.$0):cz.$==4?"KSymbolUse "+bM.p$4(cz.$0):cz.$==3?"KCompletion "+bQ.printArray(function(cA){return bM.p$3(cA);},cz.$0):cz.$==2?"KHelpText "+bM.p$1(cz.$0):cz.$==1?"KError "+bM.p(cz.$0):"KInfo "+bQ.prettyPrint(cz.$0);};bM.p$21=function(cz){return"{"+("Text = "+bQ.prettyPrint(cz.Text))+"}";};bM.p$18=function(cz){return"{"+("Opens = "+bQ.printArray(function(cA){return bM.p$19(cA);},cz.Opens))+"; "+("Qualifies = "+bQ.printArray(function(cA){return bM.p$20(cA);},cz.Qualifies))+"; "+("Word = "+bQ.prettyPrint(cz.Word))+"}";};bM.p$20=function(cz){return"{"+("Name = "+bQ.prettyPrint(cz.Name))+"; "+("Qualifier = "+bQ.prettyPrint(cz.Qualifier))+"}";};bM.p$19=function(cz){return"{"+("Namespace = "+bQ.prettyPrint(cz.Namespace))+"; "+("Name = "+bQ.prettyPrint(cz.Name))+"; "+("Type = "+bQ.prettyPrint(cz.Type))+"; "+("Line = "+bQ.prettyPrint(cz.Line))+"; "+("Column = "+bQ.prettyPrint(cz.Column))+"; "+("MultipleNames = "+bQ.prettyPrint(cz.MultipleNames))+"}";};bM.p$17=function(cz){return"{"+("Fsc = "+bQ.prettyPrint(cz.Fsc))+"; "+("Fsi = "+bQ.prettyPrint(cz.Fsi))+"; "+("MSBuild = "+bQ.prettyPrint(cz.MSBuild))+"}";};bM.p$15=function(cz){return"{"+("OutputType = "+bQ.prettyPrint(cz.OutputType))+"; "+("Parameters = "+bQ.printList(function(cA){return bQ.printList(function(cB){return bM.p$16(cB);},cA);},cz.Parameters))+"}";};bM.p$16=function(cz){return"{"+("Name = "+bQ.prettyPrint(cz.Name))+"; "+("Type = "+bQ.prettyPrint(cz.Type))+"}";};bM.p$13=function(cz){return"{"+("Declaration = "+bM.p$14(cz.Declaration))+"; "+("Nested = "+bQ.printArray(function(cA){return bM.p$14(cA);},cz.Nested))+"}";};bM.p$14=function(cz){return"{"+("UniqueName = "+bQ.prettyPrint(cz.UniqueName))+"; "+("Name = "+bQ.prettyPrint(cz.Name))+"; "+("Glyph = "+bQ.prettyPrint(cz.Glyph))+"; "+("GlyphChar = "+bQ.prettyPrint(cz.GlyphChar))+"; "+("IsTopLevel = "+bQ.prettyPrint(cz.IsTopLevel))+"; "+("File = "+bQ.prettyPrint(cz.File))+"; "+("EnclosingEntity = "+bQ.prettyPrint(cz.EnclosingEntity))+"; "+("IsAbstract = "+bQ.prettyPrint(cz.IsAbstract))+"}";};bM.p$12=function(cz){return"{"+("File = "+bQ.prettyPrint(cz.File))+"; "+("Line = "+bQ.prettyPrint(cz.Line))+"; "+("Column = "+bQ.prettyPrint(cz.Column))+"}";};bM.p$11=function(cz){return"{"+("Kind = "+bQ.prettyPrint(cz.Kind))+"}";};bM.p$9=function(cz){return"{"+("File = "+bQ.prettyPrint(cz.File))+"; "+("Errors = "+bQ.printArray(function(cA){return bM.p$10(cA);},cz.Errors))+"}";};bM.p$10=function(cz){return"{"+("FileName = "+bQ.prettyPrint(cz.FileName))+"; "+("StartLine = "+bQ.prettyPrint(cz.StartLine))+"; "+("EndLine = "+bQ.prettyPrint(cz.EndLine))+"; "+("StartColumn = "+bQ.prettyPrint(cz.StartColumn))+"; "+("EndColumn = "+bQ.prettyPrint(cz.EndColumn))+"; "+("Message = "+bQ.prettyPrint(cz.Message))+"; "+("Subcategory = "+bQ.prettyPrint(cz.Subcategory))+"}";};bM.p$6=function(cz){return"{"+("Name = "+bQ.prettyPrint(cz.Name))+"; "+("CurrentParameter = "+bQ.prettyPrint(cz.CurrentParameter))+"; "+("Overloads = "+bQ.printList(function(cA){return bM.p$7(cA);},cz.Overloads))+"}";};bM.p$7=function(cz){return"{"+("Tip = "+bQ.printList(function(cA){return bQ.printList(function(cB){return bM.p$2(cB);},cA);},cz.Tip))+"; "+("TypeText = "+bQ.prettyPrint(cz.TypeText))+"; "+("Parameters = "+bQ.printList(function(cA){return bM.p$8(cA);},cz.Parameters))+"; "+("IsStaticArguments = "+bQ.prettyPrint(cz.IsStaticArguments))+"}";};bM.p$8=function(cz){return"{"+("Name = "+bQ.prettyPrint(cz.Name))+"; "+("CanonicalTypeTextForSorting = "+bQ.prettyPrint(cz.CanonicalTypeTextForSorting))+"; "+("Display = "+bQ.prettyPrint(cz.Display))+"; "+("Description = "+bQ.prettyPrint(cz.Description))+"}";};bM.p$4=function(cz){return"{"+("Name = "+bQ.prettyPrint(cz.Name))+"; "+("Uses = "+bQ.printList(function(cA){return bM.p$5(cA);},cz.Uses))+"}";};bM.p$5=function(cz){return"{"+("FileName = "+bQ.prettyPrint(cz.FileName))+"; "+("StartLine = "+bQ.prettyPrint(cz.StartLine))+"; "+("StartColumn = "+bQ.prettyPrint(cz.StartColumn))+"; "+("EndLine = "+bQ.prettyPrint(cz.EndLine))+"; "+("EndColumn = "+bQ.prettyPrint(cz.EndColumn))+"; "+("IsFromDefinition = "+bQ.prettyPrint(cz.IsFromDefinition))+"; "+("IsFromAttribute = "+bQ.prettyPrint(cz.IsFromAttribute))+"; "+("IsFromComputationExpression = "+bQ.prettyPrint(cz.IsFromComputationExpression))+"; "+("IsFromDispatchSlotImplementation = "+bQ.prettyPrint(cz.IsFromDispatchSlotImplementation))+"; "+("IsFromPattern = "+bQ.prettyPrint(cz.IsFromPattern))+"; "+("IsFromType = "+bQ.prettyPrint(cz.IsFromType))+"}";};bM.p$3=function(cz){return"{"+("Name = "+bQ.prettyPrint(cz.Name))+"; "+("ReplacementText = "+bQ.prettyPrint(cz.ReplacementText))+"; "+("Glyph = "+bQ.prettyPrint(cz.Glyph))+"; "+("GlyphChar = "+bQ.prettyPrint(cz.GlyphChar))+"}";};bM.p$1=function(cz){return"{"+("Name = "+bQ.prettyPrint(cz.Name))+"; "+("Overloads = "+bQ.printList(function(cA){return bQ.printList(function(cB){return bM.p$2(cB);},cA);},cz.Overloads))+"}";};bM.p$2=function(cz){return"{"+("Signature = "+bQ.prettyPrint(cz.Signature))+"; "+("Comment = "+bQ.prettyPrint(cz.Comment))+"}";};bM.p=function(cz){return"{"+("Code = "+bQ.prettyPrint(cz.Code))+"; "+("Message = "+bQ.prettyPrint(cz.Message))+"}";};bL.j$3=function(){return bL._v$3?bL._v$3:bL._v$3=(co.EncodeRecord(w,[["name",co.Id(),0],["content",co.Id(),0],["parent",bL.j$1,1],["predecessors",co.EncodeList(bL.j$1),0],["id",bL.j$1,0],["expanded",co.Id(),0],["level",co.Id(),0],["levelCode",co.Id(),0],["properties",co.EncodeStringDictionary(co.Id()),0]]))();};bN.p$3=function(cz){return"CodeSnippetId "+bQ.prettyPrint(cz.$0);};bL.j$2=function(){return bL._v$2?bL._v$2:bL._v$2=(co.EncodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};bK.j$4=function(){return bK._v$4?bK._v$4:bK._v$4=(co.DecodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};bK.j$6=function(){return bK._v$6?bK._v$6:bK._v$6=(co.DecodeUnion(void 0,"$",[[0,[["$0","Item",co.Id(),0]]],[1,[["$0","Item",co.DecodeArray(co.Id()),0]]]]))();};bL.j$6=function(){return bL._v$6?bL._v$6:bL._v$6=(co.EncodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",co.Id(),0]]],[2,[]],[3,[]],[4,[]]]))();};bK.j$7=function(){return bK._v$7?bK._v$7:bK._v$7=(co.DecodeRecord(void 0,[["GuiRoot",co.Id(),1],["GuiTabStrip",co.DecodeTuple([co.Id(),co.DecodeArray(co.Id())]),1],["GuiSplit",co.DecodeTuple([co.Id(),co.Id(),co.Id(),co.Id(),co.Id(),co.Id(),co.Id(),co.Id()]),1],["GuiNode",bK.j$8,1],["GuiCall",co.DecodeTuple([co.Id(),co.Id(),co.DecodeArray(co.Id())]),1]]))();};bK.j$8=function(){return bK._v$8?bK._v$8:bK._v$8=(co.DecodeRecord(void 0,[["HtmlElementF",co.DecodeTuple([co.Id(),co.DecodeArray(bK.j$8)]),1],["HtmlAttributeF",co.DecodeTuple([co.Id(),co.Id()]),1],["HtmlAttributeOF",co.DecodeTuple([co.Id(),bK.j$9]),1],["HtmlTextF",co.Id(),1],["HtmlEmptyF",co.Id(),1],["HtmlGuiPart",co.Id(),1],["HtmlGuiCall",co.DecodeTuple([co.Id(),co.Id(),co.DecodeArray(co.Id())]),1]]))();};bK.j$9=function(){return bK._v$9?bK._v$9:bK._v$9=(co.DecodeUnion(void 0,"$",[null,[1,[["$0","Value",co.Id(),0]]]]))();};bN.p=function(cz){return cz.$==2?"FSInfor":cz.$==1?"FSWarning":"FSError";};bN.p$1=function(cz){return cz.$==1?"Snippet Not Found "+bQ.prettyPrint(cz.$0):"FSMessage ("+bQ.prettyPrint(cz.$0)+", "+bN.p(cz.$1)+")";};bN.p$2=function(cz){return cz.$==2?"Could not open new browser, Popup blocker may be active":cz.$==1?"Snippet Missing":"JsCompilerMsg ("+bQ.prettyPrint(cz.$0)+", "+bQ.prettyPrint(cz.$1)+")";};}());
