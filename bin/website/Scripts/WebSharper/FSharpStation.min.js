(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs;a=window;b=a.FSSGlobal=a.FSSGlobal||{};c=b.Useful=b.Useful||{};d=c.Option=c.Option||{};e=c.ExceptionThrown=c.ExceptionThrown||{};f=c.ErrOptionIsNone=c.ErrOptionIsNone||{};g=c.ErrSimple=c.ErrSimple||{};h=c.Result=c.Result||{};i=h.ropBuilder=h.ropBuilder||{};j=c.Wrap=c.Wrap||{};k=j.Builder=j.Builder||{};l=c.Async=c.Async||{};m=c.ResetableMemoize=c.ResetableMemoize||{};n=c.PreproDirective=c.PreproDirective||{};o=b.FsStationShared=b.FsStationShared||{};p=o.MessagingClient=o.MessagingClient||{};q=o.CodeSnippetId=o.CodeSnippetId||{};r=o.CodeSnippet=o.CodeSnippet||{};s=o.FSMessage=o.FSMessage||{};t=o.FSSeverity=o.FSSeverity||{};u=o.FsStationClientErr=o.FsStationClientErr||{};v=o.FsStationClient=o.FsStationClient||{};w=b.FsEvaluator=b.FsEvaluator||{};x=w.Evaluator=w.Evaluator||{};y=b.FsTranslator=b.FsTranslator||{};z=b.FSAutoCompleteIntermediary=b.FSAutoCompleteIntermediary||{};A=z.CommTypes=z.CommTypes||{};B=A.ResponseError=A.ResponseError||{};C=A.Location=A.Location||{};D=A.CompletionResponse=A.CompletionResponse||{};E=A.OverloadDescription=A.OverloadDescription||{};F=A.OverloadParameter=A.OverloadParameter||{};G=A.Overload=A.Overload||{};H=A.Parameter=A.Parameter||{};I=A.SignatureData=A.SignatureData||{};J=A.MethodResponse=A.MethodResponse||{};K=A.SymbolUseRange=A.SymbolUseRange||{};L=A.SymbolUseResponse=A.SymbolUseResponse||{};M=A.HelpTextResponse=A.HelpTextResponse||{};N=A.CompilerLocationResponse=A.CompilerLocationResponse||{};O=A.FSharpErrorInfo=A.FSharpErrorInfo||{};P=A.ErrorResponse=A.ErrorResponse||{};Q=A.Colorization=A.Colorization||{};R=A.Declaration=A.Declaration||{};S=A.DeclarationResponse=A.DeclarationResponse||{};T=A.OpenNamespace=A.OpenNamespace||{};U=A.QualifySymbol=A.QualifySymbol||{};V=A.ResolveNamespaceResponse=A.ResolveNamespaceResponse||{};W=A.UnionCaseResponse=A.UnionCaseResponse||{};X=A.ACMessage=A.ACMessage||{};Y=z.FSAutoCompleteIntermediaryClient=z.FSAutoCompleteIntermediaryClient||{};Z=b.HtmlNode=b.HtmlNode||{};_0=Z.Val=Z.Val||{};_1=_0.HelperType=_0.HelperType||{};_2=Z.HtmlNode=Z.HtmlNode||{};_3=b.Template=b.Template||{};_4=_3.Button=_3.Button||{};_5=_3.Input=_3.Input||{};_6=_3.Hoverable=_3.Hoverable||{};_7=_3.TextArea=_3.TextArea||{};_8=_3.CodeMirrorPos=_3.CodeMirrorPos||{};_9=_3.CodeMirrorEditor=_3.CodeMirrorEditor||{};_=_3.CodeMirror=_3.CodeMirror||{};$=_3.Hint=_3.Hint||{};ba=_3.HintResponse=_3.HintResponse||{};bb=_3.HintOptions=_3.HintOptions||{};bc=_3.LintResponse=_3.LintResponse||{};bd=_3.SplitterBar=_3.SplitterBar||{};be=_3.SectionType=_3.SectionType||{};bf=_3.Grid=_3.Grid||{};bg=_3.TabStrip=_3.TabStrip||{};bh=_3.MenuEntry=_3.MenuEntry||{};bi=_3.MenuNode=_3.MenuNode||{};bj=_3.Menu=_3.Menu||{};bk=_3.Action=_3.Action||{};bl=_3.GuiPart=_3.GuiPart||{};bm=_3.HtmlNodeFable=_3.HtmlNodeFable||{};bn=_3.LayoutDescriptionFable=_3.LayoutDescriptionFable||{};bo=_3.GuiPartSourceId=_3.GuiPartSourceId||{};bp=_3.Layout=_3.Layout||{};bq=b.RunCode=b.RunCode||{};br=bq.RunNode=bq.RunNode||{};bs=b.FSharpStation=b.FSharpStation||{};bt=bs.FsGlobal=bs.FsGlobal||{};bu=bt.Position=bt.Position||{};bv=bt.ErrCompiler=bt.ErrCompiler||{};bw=bt.KeyMapAutoComplete=bt.KeyMapAutoComplete||{};bx=bt.Property=bt.Property||{};by=bt.PropValue=bt.PropValue||{};bz=bt.CodeSnippet=bt.CodeSnippet||{};bA=bs.FableModule=bs.FableModule||{};bB=bA.Babel=bA.Babel||{};bC=bA.Fable=bA.Fable||{};bD=a.StartupCode$FSharpStation$FSharpStation=a.StartupCode$FSharpStation$FSharpStation||{};bE=a.FSharpStation_JsonDecoder=a.FSharpStation_JsonDecoder||{};bF=a.FSharpStation_JsonEncoder=a.FSharpStation_JsonEncoder||{};bG=a.GeneratedPrintf=a.GeneratedPrintf||{};bH=a.FSharpStation_GeneratedPrintf=a.FSharpStation_GeneratedPrintf||{};bI=a.IntelliFactory;bJ=bI&&bI.Runtime;bK=a.WebSharper;bL=bK&&bK.Utils;bM=bK&&bK.Strings;bN=bK&&bK.List;bO=bK&&bK.Seq;bP=bK&&bK.Concurrency;bQ=a.console;bR=bK&&bK.Collections;bS=bR&&bR.Dictionary;bT=bK&&bK.CancellationTokenSource;bU=bK&&bK.Arrays;bV=bK&&bK.Unchecked;bW=a.JSON;bX=a.Date;bY=b&&b.UsefulDotNet;bZ=bY&&bY.Messaging;b0=bK&&bK.Remoting;b1=bK&&bK.Guid;b2=bK&&bK.Option;b3=bK&&bK.Slice;b4=b0&&b0.AjaxRemotingProvider;b5=bK&&bK.UI;b6=b5&&b5.Next;b7=b6&&b6.View;b8=b6&&b6.Doc;b9=bK&&bK.Operators;b_=b6&&b6.AttrModule;b$=b6&&b6.AttrProxy;ca=b6&&b6.Var;cb=b6&&b6.Input;cc=cb&&cb.Mouse;cd=bR&&bR.FSharpSet;ce=bR&&bR.BalancedTree;cf=bR&&bR.Map;cg=bK&&bK.MatchFailureException;ch=bK&&bK.Json;ci=ch&&ch.Provider;cj=a.Object;ck=a.Fable;cl=a.Babel;cm=bR&&bR.HashSet;cn=bK&&bK.JavaScript;co=cn&&cn.JSModule;cp=bK&&bK.Lazy;cq=a.jQuery;cr=bR&&bR.FSharpMap;cs=b6&&b6.ListModel;d.modify=function(ct){var cu;function cv(cw){return cw==null?null:{$:1,$0:ct(cw.$0)};}cu=function(cw){return d.defaultValue(a.id,cw);};return function(cw){return cu(cv(cw));};};d.apply=function(ct,cu){var cv;return ct!=null&&ct.$==1&&(cu!=null&&cu.$==1&&(cv=[cu.$0,ct.$0],true))?{$:1,$0:cv[0](cv[1])}:null;};d.iterFO=function(ct,cu){if(ct!=null&&ct.$==1)if(cu!=null&&cu.$==1)cu.$0(ct.$0);};d.iterF=function(ct,cu){if(cu!=null&&cu.$==1)cu.$0(ct);};d.call=function(ct,cu){return cu!=null&&cu.$==1?{$:1,$0:cu.$0(ct)}:null;};d.defaultWith=function(ct,cu){return cu==null?ct():cu.$0;};d.defaultValue=function(ct,cu){return cu==null?ct:cu.$0;};e=c.ExceptionThrown=bJ.Class({toString:function(){return this.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return false;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return(function(ct){return function(cu){return ct(bL.prettyPrint(cu));};}(a.id))(this.exn);}},bK.Obj,e);e.New=bJ.Ctor(function(ct){this.exn=ct;},e);f=c.ErrOptionIsNone=bJ.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return false;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return"Option is None";}},bK.Obj,f);f.New=bJ.Ctor(function(){},f);g=c.ErrSimple=bJ.Class({toString:function(){return this.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return this.warning;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return this.msg;}},bK.Obj,g);g.New=bJ.Ctor(function(ct,cu){this.msg=ct;this.warning=cu;},g);i=h.ropBuilder=bJ.Class({Combine:function(ct,cu){return(h.combine(ct))(cu);},Delay:function(ct){return ct();},Zero:function(){return h.succeed();},Using:function(ct,cu){try{return cu(ct);}finally{ct.Dispose();}},Bind:function(ct,cu){return h.bind(function(cv){return h.tryCall(cu,cv);},ct);},ReturnFrom:a.id,Return:function(ct){return h.succeed(ct);}},bK.Obj,i);i.New=bJ.Ctor(function(){},i);h.result2String=function(ct){return bM.concat("\n",bN.append(bN.ofArray([d.defaultValue("Failed: ",ct.$0)]),h.msgs2String(ct.$1)));};h.countMessages=function(ct){var cu,cv,cw,cx,cy,cz,cA;if(ct.$===0)return"";else{cx=bN.filter(function(cB){return!cB.FSSGlobal_Useful_ErrMsg$get_IsWarning();},ct);cy=bN.filter(function(cB){return cB.FSSGlobal_Useful_ErrMsg$get_IsWarning();},ct);cz=cx.get_Length();cA=cy.get_Length();switch(cz===0?cA===0?0:cA===1?2:5:cz===1?cA===0?1:cA===1?3:(cu=[cz,cA],6):cA===0?4:(cu=[cz,cA],6)){case 0:cw=function(cB){return function(cC){return cB(bL.toSafe(cC));};}(a.id);break;case 1:cw=function(cB){return function(cC){return cB(bL.toSafe(cC));};}(a.id);break;case 2:cw=function(cB){return function(cC){return cB(bL.toSafe(cC));};}(a.id);break;case 3:cw=function(cB){return function(cC){return cB("1 error, 1 warning\n"+bL.toSafe(cC));};}(a.id);break;case 4:cw=((bJ.Curried3(function(cB,cC,cD){return cB(a.String(cC)+" errors\n"+bL.toSafe(cD));}))(a.id))(cz);break;case 5:cw=((bJ.Curried3(function(cB,cC,cD){return cB(a.String(cC)+" warnings\n"+bL.toSafe(cD));}))(a.id))(cA);break;case 6:cw=(((bJ.Curried(function(cB,cC,cD,cE){return cB(a.String(cC)+" errors, "+a.String(cD)+" warnings\n"+bL.toSafe(cE));},4))(a.id))(cu[0]))(cu[1]);break;}return cw(h.getMessages(ct));}};h.getMessages=function(ct){return bM.concat("\n",h.msgs2String(ct));};h.msgs2String=function(ct){return bN.map(function(cu){return cu.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},ct);};h.seqCheck=function(ct){return bO.exists(function(cu){return h.Success(cu).$==1&&true;},ct)?h.failWithMsgs(bO.pick(function(cu){var cv;cv=h.Success(cu);return cv.$==1?{$:1,$0:cv.$0}:null;},ct)):h.succeed(bO.map(function(cu){return cu.$0.$0;},ct));};h.withError=function(ct,cu){var cv;cv=cu.$1;return d.defaultWith(function(){return ct(cv);},cu.$0);};h.ifError=function(ct,cu){return d.defaultValue(ct,cu.$0);};h.failIfTrue=function(ct,cu){return cu?h.fail(ct):h.succeed();};h.failIfFalse=function(ct,cu){return cu?h.succeed():h.fail(ct);};h.tryProtection=function(){return h.succeed();};h.toOption=function(ct){return ct.$0;};h.fromOption=function(ct,cu){return cu!=null&&cu.$==1?h.succeed(cu.$0):h.fail(ct);};h.fromChoice=function(ct,cu){return cu.$==1?h.fail(cu.$0):h.succeed(cu.$0);};h.result=function(){bD.$cctor();return bD.result;};h.tryCall=function(ct,cu){try{return ct(cu);}catch(cv){return h.fail(h.failException(cv));}};h.failException=function(ct){return new e.New(ct);};h.x=function(ct){return h.Success(ct).$==1?"No":"yes";};h.Success=function(ct){return ct.$0==null?{$:1,$0:ct.$1}:{$:0,$0:[ct.$0.$0,ct.$1]};};h.failSimpleWarning=function(ct){return h.fail(new g.New(ct,true));};h.failSimpleError=function(ct){return h.fail(new g.New(ct,false));};h.apply=function(ct,cu){var cv,cw,cx,cy,cz;cv=ct.$1;cw=cu.$1;cx=ct.$0;cy=cu.$0;return cx!=null&&cx.$==1&&(cy!=null&&cy.$==1&&(cz=[cx.$0,cy.$0],true))?{$:0,$0:{$:1,$0:cz[0](cz[1])},$1:bN.append(cv,cw)}:{$:0,$0:null,$1:bN.append(cv,cw)};};h.bind=function(ct,cu){var cv,cw,cx;cv=cu.$0;cw=cu.$1;return cv==null?{$:0,$0:null,$1:cw}:(cx=ct(cv.$0),{$:0,$0:cx.$0,$1:bN.append(cw,cx.$1)});};h.combine=function(ct){var cu;cu=ct.$1;return function(cv){return h.mergeMsgs(cu,cv);};};h.mergeMsgs=function(ct,cu){var cv;cv=h.mapMsgs(function(cw){return bN.append(ct,cw);},cu);return{$:0,$0:cv[0],$1:cv[1]};};h.getMsgs=function(ct){return ct.$1;};h.getOption=function(ct){return ct.$0;};h.mapMsgs=function(ct,cu){return[cu.$0,ct(cu.$1)];};h.mapMsg=function(ct,cu){return[cu.$0,bN.map(ct,cu.$1)];};h.map=function(ct,cu){var cv;return{$:0,$0:(cv=cu.$0,cv==null?null:{$:1,$0:ct(cv.$0)}),$1:cu.$1};};h.failWithMsgs=function(ct){return{$:0,$0:null,$1:ct};};h.fail=function(ct){return{$:0,$0:null,$1:bN.ofArray([ct])};};h.succeedWithMsgs=function(ct,cu){return{$:0,$0:{$:1,$0:ct},$1:cu};};h.succeedWithMsg=function(ct,cu){return{$:0,$0:{$:1,$0:ct},$1:bN.ofArray([cu])};};h.succeed=function(ct){return{$:0,$0:{$:1,$0:ct},$1:bN.T.Empty};};j.StartAsTask=function(ct,cu,cv){return bP.StartAsTask(j.getAsyncR(ct),cv);};j.Start=function(ct,cu){bP.Start(j.getAsync(ct),cu);};k=j.Builder=bJ.Class({Using:function(ct,cu){return{$:2,$0:bP.Using(ct,function(cv){return j.wrapper2Async(cu,cv);})};},Combine:function(ct,cu){return j.combine(j.errOptionIsNone(),ct,cu);},Delay:function(ct){return ct();},ReturnFrom:a.id,Return:function(ct){return{$:3,$0:ct};},Zero:function(){return{$:3,$0:null};},Bind:function(ct,cu){return j.bind(cu,{$:4,$0:ct});},Bind$1:function(ct,cu){return j.bind(cu,{$:0,$0:ct});},Bind$2:function(ct,cu){return j.bind(cu,{$:1,$0:ct});},Bind$3:function(ct,cu){return j.bind(cu,ct);}},bK.Obj,k);k.New=bJ.Ctor(function(){},k);j.runSynchronouslyS=function(ct,cu){var cv;cv=j.runSynchronouslyO(ct,cu);return cv[0]==null?(function(cw){return function(cx){return cw("Failed!\n"+bL.toSafe(cx));};}(a.id))(cv[1]):(((bJ.Curried3(function(cw,cx,cy){return cw(a.String(cx)+"\n"+bL.toSafe(cy));}))(a.id))(cv[0].$0))(cv[1]);};j.runSynchronouslyO=function(ct,cu){return h.mapMsgs(ct?h.countMessages:h.getMessages,bQ.log("runSynchronously should not be used in Javascript"));};j.start=function(ct,cu){j.startV(function(cv){if(cv[0]==null)ct("Failed!\n"+cv[1]);else ct(cv[1]);},cu);};j.startV=function(ct,cu){var cv,cw,cx,cy;function cz(cC){return h.mapMsgs(h.getMessages,cC);}function cA(cC){return[null,cC];}function cB(cC){return[null,cC];}bP.StartWithContinuations(j.getAsyncR(cu),function(cC){return ct(cz(cC));},(cv=(cw=function(cC){return function(cD){return cC(bL.prettyPrint(cD));};}(a.id),function(cC){return cA(cw(cC));}),function(cC){return ct(cv(cC));}),(cx=(cy=function(cC){return function(cD){return cC(bL.prettyPrint(cD));};}(a.id),function(cC){return cB(cy(cC));}),function(cC){return ct(cx(cC));}),null);};j.getAsync=function(ct){var cu,cv,cw,cx,cy,cz;return ct.$==3?bP.Return(ct.$0):ct.$==4?(cu=ct.$0,(cv=null,bP.Delay(function(){var cA,cB;if(cu==null)throw a.Error(h.getMessages(bN.ofArray([j.errOptionIsNone()])));else cB=cu.$0;return bP.Return(cB);}))):ct.$==0?(cw=ct.$0,(cx=null,bP.Delay(function(){var cA,cB,cC;cC=h.Success(cw);if(cC.$==1)throw a.Error(h.getMessages(cC.$0));else cB=cC.$0[0];return bP.Return(cB);}))):ct.$==2?(cy=ct.$0,(cz=null,bP.Delay(function(){return bP.Bind(cy,function(cA){var cB,cC,cD;cD=h.Success(cA);if(cD.$==1)throw a.Error(h.getMessages(cD.$0));else cC=cD.$0[0];return bP.Return(cC);});}))):ct.$0;};j.getAsyncWithDefault=function(ct,cu){var cv;cv=null;return bP.Delay(function(){return bP.Bind(j.getAsyncR(cu),function(cw){return bP.Return(h.withError(ct,cw));});});};j.getAsyncR=function(ct){var cu,cv;return ct.$==3?bP.Return(h.succeed(ct.$0)):ct.$==4?bP.Return(h.fromOption(j.errOptionIsNone(),ct.$0)):ct.$==0?bP.Return(ct.$0):ct.$==2?ct.$0:(cu=ct.$0,(cv=null,bP.Delay(function(){return bP.Bind(cu,function(cw){return bP.Return(h.succeed(cw));});})));};j.getResult=function(ct,cu){if(cu.$==4){if(cu.$0==null)ct(h.fail(j.errOptionIsNone()));else ct(h.succeed(cu.$0.$0));}else if(cu.$==0)ct(cu.$0);else if(cu.$==1)bP.StartWithContinuations(cu.$0,function(cv){ct(h.succeed(cv));},function(cv){ct(h.fail(h.failException(cv)));},function(cv){ct(h.fail(h.failException(cv)));},null);else if(cu.$==2)bP.StartWithContinuations(cu.$0,ct,function(cv){ct(h.fail(h.failException(cv)));},function(cv){ct(h.fail(h.failException(cv)));},null);else ct(h.succeed(cu.$0));};j.wrapper=function(){bD.$cctor();return bD.wrapper;};j.combine=function(ct,cu,cv){return cu.$==4?cu.$0==null?j.addMsgs(ct,bN.ofArray([ct]),cv):cv:cu.$==0?cu.$0.$1.$==0?cv:j.addMsgs(ct,cu.$0.$1,cv):cu.$==1?cv:cu.$==2?cv:cv;};j.addMsgs=function(ct,cu,cv){var cw,cx,cy;if(cu.$===0)return cv;else switch(cv.$==4?cv.$0==null?1:(cw=cv.$0.$0,0):cv.$==0?(cw=cv.$0,2):cv.$==1?(cw=cv.$0,3):cv.$==2?(cw=cv.$0,4):(cw=cv.$0,0)){case 0:return{$:0,$0:h.succeedWithMsgs(cw,cu)};break;case 1:return{$:0,$0:h.mergeMsgs(cu,h.fail(ct))};break;case 2:return{$:0,$0:h.mergeMsgs(cu,cw)};break;case 3:return{$:2,$0:(cx=null,bP.Delay(function(){return bP.Bind(cw,function(cz){return bP.Return(h.succeedWithMsgs(cz,cu));});}))};break;case 4:return{$:2,$0:(cy=null,bP.Delay(function(){return bP.Bind(cw,function(cz){return bP.Return(h.mergeMsgs(cu,cz));});}))};break;}};j.wrapper2Async=function(ct,cu){var cv,cw,cx,cy;cw=j.tryCall(ct,cu);switch(cw.$==4?0:cw.$==0?1:cw.$==1?2:cw.$==2?3:0){case 0:return j.wb2arb(bN.T.Empty,cw);break;case 1:return j.wb2arb(cw.$0.$1,cw);break;case 2:cx=cw.$0;cy=null;return bP.Delay(function(){return bP.Bind(cx,function(cz){return bP.Return(h.succeed(cz));});});break;case 3:return cw.$0;break;}};j.map=function(ct){var cu;cu=function(cv){return j.Return(ct(cv));};return function(cv){return j.bind(cu,cv);};};j.Return=function(ct){return{$:3,$0:ct};};j.bind=function(ct,cu){var cv,cw,cx,cy,cz;switch(cu.$==4?cu.$0==null?1:(cv=cu.$0.$0,0):cu.$==0?(cw=h.Success(cu.$0),cw.$==1?(cv=cw.$0,2):cw.$0[1].$==0?(cv=cw.$0[0],0):(cv=[cw.$0[0],cw.$0[1]],3)):cu.$==1?(cv=cu.$0,4):cu.$==2?(cv=cu.$0,5):(cv=cu.$0,0)){case 0:return j.tryCall(ct,cv);break;case 1:return{$:4,$0:null};break;case 2:return{$:0,$0:h.failWithMsgs(cv)};break;case 3:cx=cv[1];return function(cA){var cB,cC,cD,cE;switch(cA.$==4?cA.$0==null?1:(cB=cA.$0.$0,0):cA.$==0?(cC=h.Success(cA.$0),cC.$==1?(cB=cC.$0,4):cC.$0[1].$==0?(cB=cC.$0[0],2):(cB=[cC.$0[0],cC.$0[1]],3)):cA.$==1?(cB=cA.$0,5):cA.$==2?(cB=cA.$0,6):(cB=cA.$0,0)){case 0:return{$:0,$0:h.succeedWithMsgs(cB,cx)};break;case 1:return{$:0,$0:h.failWithMsgs(new bN.T({$:1,$0:j.errOptionIsNone(),$1:cx}))};break;case 2:return{$:0,$0:h.succeedWithMsgs(cB,cx)};break;case 3:return{$:0,$0:h.succeedWithMsgs(cB[0],bN.append(cx,cB[1]))};break;case 4:return{$:0,$0:h.failWithMsgs(bN.append(cx,cB))};break;case 5:return{$:2,$0:(cD=null,bP.Delay(function(){return bP.Bind(cB,function(cF){return bP.Return(h.succeedWithMsgs(cF,cx));});}))};break;case 6:return{$:2,$0:(cE=null,bP.Delay(function(){return bP.Bind(cB,function(cF){return bP.Return(h.mergeMsgs(cx,cF));});}))};break;}}(j.tryCall(ct,cv[0]));break;case 4:return{$:2,$0:(cy=null,bP.Delay(function(){return bP.Bind(cv,function(cA){return j.wb2arb(bN.T.Empty,j.tryCall(ct,cA));});}))};break;case 5:return{$:2,$0:(cz=null,bP.Delay(function(){return bP.Bind(cv,function(cA){var cB,cC,cD;cB=h.Success(cA);return cB.$==1?(cC=cB.$0,cD=null,bP.Delay(function(){return bP.Return(h.failWithMsgs(cC));})):j.wb2arb(cB.$0[1],j.tryCall(ct,cB.$0[0]));});}))};break;}};j.tryCall=function(ct,cu){try{return ct(cu);}catch(cv){return{$:0,$0:h.fail(h.failException(cv))};}};j.wb2arb=function(ct,cu){var cv,cw,cx,cy,cz,cA;switch(cu.$==2?(cv=cu.$0,1):cu.$==0?(cv=cu.$0,2):cu.$==3?(cv=cu.$0,3):cu.$==4?cu.$0==null?4:(cv=cu.$0.$0,3):(cv=cu.$0,0)){case 0:cw=null;return bP.Delay(function(){return bP.Bind(cv,function(cB){return bP.Return(h.succeedWithMsgs(cB,ct));});});break;case 1:cx=null;return bP.Delay(function(){return bP.Bind(cv,function(cB){return bP.Return(h.mergeMsgs(ct,cB));});});break;case 2:cy=null;return bP.Delay(function(){return bP.Return(h.mergeMsgs(ct,cv));});break;case 3:cz=null;return bP.Delay(function(){return bP.Return(h.succeedWithMsgs(cv,ct));});break;case 4:cA=null;return bP.Delay(function(){return bP.Return(h.failWithMsgs(new bN.T({$:1,$0:j.errOptionIsNone(),$1:ct})));});break;}};j.errOptionIsNone=function(){bD.$cctor();return bD.errOptionIsNone;};l.bind=function(ct,cu){return bP.Bind(cu,ct);};l.apply=function(ct,cu){var cv;cv=null;return bP.Delay(function(){return bP.Bind(bP.StartChild(ct,null),function(cw){return bP.Bind(bP.StartChild(cu,null),function(cx){return bP.Bind(cw,function(cy){return bP.Bind(cx,function(cz){return bP.Return(cy(cz));});});});});});};l.retn=function(ct){return bP.Return(ct);};l.map=function(ct,cu){var cv;cv=null;return bP.Delay(function(){return bP.Bind(cu,function(cw){return bP.Return(ct(cw));});});};m=c.ResetableMemoize=bJ.Class({ClearCache:function(){this.cache.Clear();}},bK.Obj,m);m.New=bJ.Ctor(function(ct){this.f=ct;this.cache=new bS.New$5();},m);n.NoPrepo={$:11};n.PrepoEndIf={$:8};n.PrepoElse={$:7};c.asyncStartCancelling=function(){var ct;ct=null;return function(cu){var cv;ct==null?void 0:ct.$0.Cancel$1();cv=new bT.New();bP.Start(cu,{$:1,$0:cv});ct={$:1,$0:cv};};};c.separateDirectives=function(ct){var cu,cv,cw,cx;function cy(cG){return cG[1];}function cz(cG){return cG.$==0?{$:1,$0:cG.$0}:null;}function cA(cG){return cG[1];}function cB(cG){return cG.$==1?{$:1,$0:cG.$0}:null;}function cC(cG){return cG[1];}function cD(cG){return cG.$==5?{$:1,$0:cG.$0}:null;}function cE(cG){return cG[1];}function cF(cG){return cG.$==4?{$:1,$0:cG.$0}:null;}cu=bU.ofSeq(bO.distinct(bO.choose(function(cG){return cz(cy(cG));},ct)));cv=bU.ofSeq(bO.distinct(bO.choose(function(cG){return cB(cA(cG));},ct)));cw=bU.ofSeq(bO.distinct(bO.choose(function(cG){return cD(cC(cG));},ct)));cx=bU.ofSeq(bO.distinct(bO.choose(function(cG){return cF(cE(cG));},ct)));return[bU.ofSeq(bO.map(function(cG){return cG[0];},ct)),cu,cv,cw,cx];};c.separatePrepros=function(ct,cu){var cv;function cw(cz){return d.defaultValue(cz,bO.tryLast(bM.SplitStrings(bM.Trim(cz),["\""],1)));}function cx(cz){return d.defaultValue("",bO.tryHead(bM.SplitStrings(bM.Trim(cz),["#define "],1)));}function cy(cz){return"//"+cz;}cv=ct?cy:a.id;return bU.map(function(cz){var cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM;cA=true;return cA&&(bM.StartsWith(cz,"#define")&&true)?[cy(cz),{$:1,$0:cx(cz)}]:cA&&(bM.StartsWith(cz,"#r")&&true)?[cy(cz),{$:0,$0:cw(cz)}]:cA&&(bM.StartsWith(cz,"#load")&&true)?[cy(cz),{$:2,$0:cw(cz)}]:cA&&(bM.StartsWith(cz,"#nowarn")&&true)?[cy(cz),{$:4,$0:cw(cz)}]:cA&&(bM.StartsWith(cz,"# ")&&true)?[cv(cz),{$:3,$0:cw(cz)}]:cA&&(bM.StartsWith(cz,"#line")&&true)?[cv(cz),{$:3,$0:cw(cz)}]:cA&&(bM.StartsWith(cz,"#I")&&true)?[cy(cz),{$:5,$0:cw(cz)}]:cA&&(bM.StartsWith(cz,"#if")&&true)?[cz,{$:6,$0:cz}]:cA&&(bM.StartsWith(cz,"#else")&&true)?[cz,n.PrepoElse]:cA&&(bM.StartsWith(cz,"#endif")&&true)?[cz,n.PrepoEndIf]:cA&&(bM.StartsWith(cz,"#light")&&true)?[cz,{$:9,$0:false}]:cA&&(bM.StartsWith(cz,"#")&&true)?[cy(cz),{$:10,$0:cz}]:[cz,n.NoPrepo];},cu);};c.__=function(ct,cu,cv){return ct(cv,cu);};c.swap=function(ct,cu,cv){return ct(cv,cu);};c.REGEX=function(ct,cu,cv){var cw;if(cv===null)return null;else try{cw=(new a.String(cv)).match(new a.RegExp(ct,cu));return bV.Equals(cw,null)?null:cw&&bU.length(cw)===0?null:{$:1,$0:cw};}catch(cx){return null;}};c.extract=function(ct,cu){var cv;return bM.Substring(cu,0,(cv=cu.length,bV.Compare(ct,cv)===-1?ct:cv));};p=o.MessagingClient=bJ.Class({poStrings:function(ct){return ct.$==1?ct.$0:[(function(cu){return function(cv){return cu("unexpected response: "+bL.toSafe(cv));};}(a.id))(ct.$0)];},poString:function(ct){return ct.$==1?(function(cu){return function(cv){return cu(bL.printArray(bL.prettyPrint,cv));};}(a.id))(ct.$0):ct.$0;},poMsg:function(ct,cu){var cv,cw;cv=this;cw=null;return bP.Delay(function(){return bP.Bind(cv.sendMessage(o.AddressId("WebServer:PostOffice"),bW.stringify((bF.j$6())(cu))),function(cx){return bP.Return(ct((bE.j$6())(bW.parse(cx))));});});},sendMessage:function(ct,cu){return(((o.sendRequestF())(ct))(this.fromId))(cu);},awaitMessage:function(ct){var cu,cv;cu=this;(o.AsyncStartF())((cv=null,bP.Delay(function(){return bP.While(function(){return true;},bP.Delay(function(){(((bJ.Curried3(function(cw,cx,cy){return cw(bL.toSafe(cx)+" awaitRequest "+bL.toSafe(cy));}))(function(cw){bQ.log(cw);}))(function(cw){return cw.getFullYear()+"-"+(cw.getMonth()+1)+"-"+cw.getDate()+" "+cw.getHours()+":"+cw.getMinutes()+":"+cw.getSeconds()+":"+cw.getMilliseconds();}(new a.Date(bX.now()))))(cu.clientId);return bP.Bind(bP.StartChild((o.awaitRequestForF())(cu.fromId),{$:1,$0:cu.tout}),function(cw){return bP.TryWith(bP.Delay(function(){return bP.Bind(cw,function(cx){return bP.Bind(ct(cu.clientId,cx.content),function(cy){return bP.Bind(((o.replyToF())(cx.messageId.$0))(cy),function(){return bP.Return(null);});});});}),function(cx){return cx instanceof bK.TimeoutException?bP.Zero():((function(cy){return function(cz){return cy(bL.prettyPrint(cz));};}(function(cy){bQ.log(cy);}))(cx),bP.Zero());});});}));})));},get_ClientId:function(){return this.clientId;},get_EndPoint:function(){return this.wsEndPoint;},POListeners:function(){var ct;ct=this;return this.poMsg(function(cu){return ct.poStrings(cu);},bZ.POMessage.POListeners);},POMessage:function(ct){return this.poMsg(a.id,ct);},SendMessage:function(ct,cu){return this.sendMessage(ct,cu);},AwaitMessage:function(ct){this.awaitMessage(ct);},AwaitMessage$1:function(ct){this.awaitMessage(function(cu,cv){var cw;cw=null;return bP.Delay(function(){return bP.Return(ct(cu,cv));});});}},bK.Obj,p);p.get_EndPoint_=function(){return"http://localhost:9010/FSharpStation";};p.New=bJ.Ctor(function(ct,cu,cv){this.clientId=ct;this.wsEndPoint=d.defaultValue("http://localhost:9010/FSharpStation",cv);this.tout=d.defaultValue(100000,cu);this.fromId=o.AddressId(this.clientId);b0.set_EndPoint(this.wsEndPoint);},p);q=o.CodeSnippetId=bJ.Class({get_Text:function(){return a.String(this.$0);}},null,q);q.get_New=function(){return new q({$:0,$0:b1.NewGuid()});};r=o.CodeSnippet=bJ.Class({SeparateCode:function(ct){var cu,cv,cw,cx,cy,cz;function cA(cB,cC){return[bM.replicate(cv," ")+cB,cC];}cu=!ct||this.properties.ContainsKey("NoLinePre");cv=this.levelCode*2;cw=cv===0?[a.id,""]:[function(cB){return bU.map(function(cC){return cA(cC[0],cC[1]);},cB);},(function(cB){return function(cC){return cB("("+a.String(cC)+")");};}(a.id))(cv)];cx=c.separateDirectives(cw[0](c.separatePrepros(!ct,(cu?a.id:(cy=[(((bJ.Curried3(function(cB,cC,cD){return cB("# 1 @\""+bL.toSafe(cC)+bL.toSafe(cD)+"\"");}))(a.id))(cw[1]))(this.get_NameSanitized())],function(cB){return cy.concat(cB);}))(bM.SplitChars(this.content,["\n"],0)))));cz=cx[0];return[[[this.get_NameSanitized(),bU.length(cz),cv]],cz,cx[1],cx[2],cx[3],cx[4]];},UniquePredecessors:function(ct){return o.predsL(ct,bN.ofArray([this.id]));},get_NameSanitized:function(){return this.id.get_Text()+" "+o.sanitize(this.get_Name())+".fsx";},get_Name:function(){return o.snippetName(this.name,this.content);}},null,r);r.CodeFsx=function(ct,cu){return(r.CodeAndStarts(ct,cu))[0];};r.CodeAndStarts=function(ct,cu){var cv;cv=r.ReducedCode(ct,cu);return r.FinishCode(ct,cv[0],cv[1],cv[2],cv[3],cv[4],cv[5]);};r.FinishCode=function(ct,cu,cv,cw,cx,cy,cz){var cA,cB;cA=bM.concat(" ",bO.map(function(cC){return"-d:"+cC;},bO.sort(cx)));cB=bN.ofSeq(bO.delay(function(){return bO.append(cA!==""?["////"+cA]:[],bO.delay(function(){return bO.append(bO.map(function(cC){return function(cD){return cC("#I @\""+bL.toSafe(cD)+"\"");};}(a.id),cy),bO.delay(function(){return bO.append(bO.map(function(cC){return function(cD){return cC("#r @\""+bL.toSafe(cD)+"\"");};}(a.id),cw),bO.delay(function(){return bO.append(ct&&!bO.isEmpty(cz)?["# 1 \"required for nowarns to work\""]:[],bO.delay(function(){return bO.map(function(cC){return function(cD){return cC("#nowarn \""+bL.toSafe(cD)+"\"");};}(a.id),cz);}));}));}));}));}));return[bM.concat("\n",bO.append(cB,cv)),bU.ofSeq((bO.mapFold(function(cC,cD){var cE;cE=cD[1];return[[cD[0],[cD[2],cC,cC+cE]],cC+cE];},cB.get_Length(),cu))[0])];};r.ReducedCode=function(ct,cu){var cv,cw;function cx(cy,cz,cA,cB,cC,cD){return function(cE){return r.AddSeps(cy,cz,cA,cB,cC,cD,cE[0],cE[1],cE[2],cE[3],cE[4],cE[5]);};}cv=bO.reduce(function(cy,cz){return(function(cA){return cx(cA[0],cA[1],cA[2],cA[3],cA[4],cA[5]);}(cy))(cz);},(cw=bO.map(function(cy){return cy.SeparateCode(ct);},cu),bO.isEmpty(cw)?[[[],[],[],[],[],[]]]:cw));return[cv[0],[bM.concat("\n",cv[1])],cv[2],cv[3],cv[4],cv[5]];};r.AddSeps=function(ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE){return[ct.concat(cz),cu.concat(cA),bU.ofSeq(bO.distinct(bO.append(cv,cB))),bU.ofSeq(bO.distinct(bO.append(cw,cC))),bU.ofSeq(bO.distinct(bO.append(cx,cD))),bU.ofSeq(bO.distinct(bO.append(cy,cE)))];};r.TryFindByKey=function(ct,cu){return bO.tryFind(function(cv){return bV.Equals(cv.id,cu);},ct);};r.New=function(ct,cu,cv,cw,cx,cy,cz,cA,cB){return new r({name:ct,content:cu,parent:cv,predecessors:cw,id:cx,expanded:cy,level:cz,levelCode:cA,properties:cB});};s.GetWholeFile={$:11};s.GetIdentification={$:0};t.FSInfor={$:2};t.FSWarning={$:1};t.FSError={$:0};u=o.FsStationClientErr=bJ.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return this.$==0&&(this.$1.$==0&&true);},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return this.$==0?(((bJ.Curried3(function(ct,cu,cv){return ct(bH.p(cu)+" "+bL.toSafe(cv));}))(a.id))(this.$1))(this.$0):(function(ct){return function(cu){return ct(bH.p$1(cu));};}(a.id))(this);}},null,u);v=o.FsStationClient=bJ.Class({snippetResponse:function(ct){return ct.$==2?h.succeed(ct.$0):h.fail(new u({$:1,$0:a.String(ct)}));},snippetsResponse:function(ct){return ct.$==3?h.succeed(ct.$0):h.fail(new u({$:1,$0:a.String(ct)}));},stringResponse:function(ct){var cu,cv;return ct.$==1&&((cv=ct.$0,cv!=null&&cv.$==1)&&(cu=ct.$0.$0,true))?h.succeed(cu):h.fail(new u({$:1,$0:a.String(ct)}));},stringResponseR:function(ct){var cu,cv;function cw(cx,cy){return new u({$:0,$0:cx,$1:cy});}return ct.$==4&&((cv=ct.$0,cv!=null&&cv.$==1)&&(cu=[ct.$0.$0,ct.$1],true))?h.succeedWithMsgs(cu[0],bN.ofSeq(bO.map(function(cx){return cw(cx[0],cx[1]);},cu[1]))):h.fail(new u({$:1,$0:a.String(ct)}));},get_MessagingClient:function(){return this.msgClient;},get_FSStationId:function(){return this.fsIds;},RunActionCall:function(ct,cu,cv){var cw,cx,cy;function cz(cA){return cw.stringResponseR(cA);}cw=this;cx=this.msgClient.SendMessage(this.toId,bW.stringify((bF.j())({$:14,$0:ct,$1:cu,$2:cv})));cy=j.wrapper();return cy.Delay(function(){return cy.Bind$2(cx,function(cA){return cy.Bind$1(cz((bE.j())(bW.parse(cA))),function(cB){return cy.Return(cB);});});});},RunSnippet:function(ct,cu){var cv,cw,cx;function cy(cz){return cv.stringResponseR(cz);}cv=this;cw=this.msgClient.SendMessage(this.toId,bW.stringify((bF.j())({$:13,$0:bM.SplitChars(cu,["/"],0),$1:ct})));cx=j.wrapper();return cx.Delay(function(){return cx.Bind$2(cw,function(cz){return cx.Bind$1(cy((bE.j())(bW.parse(cz))),function(cA){return cx.Return(cA);});});});},GenericMessage:function(ct){var cu,cv,cw;function cx(cy){return cu.stringResponse(cy);}cu=this;cv=this.msgClient.SendMessage(this.toId,bW.stringify((bF.j())({$:1,$0:ct})));cw=j.wrapper();return cw.Delay(function(){return cw.Bind$2(cv,function(cy){return cw.Bind$1(cx((bE.j())(bW.parse(cy))),function(cz){return cw.Return(cz);});});});},RequestWholeFile:function(){var ct,cu,cv;function cw(cx){return ct.stringResponse(cx);}ct=this;cu=this.msgClient.SendMessage(this.toId,bW.stringify((bF.j())(s.GetWholeFile)));cv=j.wrapper();return cv.Delay(function(){return cv.Bind$2(cu,function(cx){return cv.Bind$1(cw((bE.j())(bW.parse(cx))),function(cy){return cv.Return(cy);});});});},RequestPredsById:function(ct){var cu,cv,cw;function cx(cy){return cu.snippetsResponse(cy);}cu=this;cv=this.msgClient.SendMessage(this.toId,bW.stringify((bF.j())({$:4,$0:ct})));cw=j.wrapper();return cw.Delay(function(){return cw.Bind$2(cv,function(cy){return cw.Bind$1(cx((bE.j())(bW.parse(cy))),function(cz){return cw.Return(cz);});});});},RequestPreds:function(ct){var cu,cv,cw;function cx(cy){return cu.snippetsResponse(cy);}cu=this;cv=this.msgClient.SendMessage(this.toId,bW.stringify((bF.j())({$:8,$0:bM.SplitChars(ct,["/"],0)})));cw=j.wrapper();return cw.Delay(function(){return cw.Bind$2(cv,function(cy){return cw.Bind$1(cx((bE.j())(bW.parse(cy))),function(cz){return cw.Return(cz);});});});},RequestJSCode:function(ct){var cu,cv,cw;function cx(cy){return cu.stringResponseR(cy);}cu=this;cv=this.msgClient.SendMessage(this.toId,bW.stringify((bF.j())({$:10,$0:bM.SplitChars(ct,["/"],0)})));cw=j.wrapper();return cw.Delay(function(){return cw.Bind$2(cv,function(cy){return cw.Bind$1(cx((bE.j())(bW.parse(cy))),function(cz){return cw.Return(cz);});});});},RequestCode:function(ct){var cu,cv,cw;function cx(cy){return cu.stringResponse(cy);}cu=this;cv=this.msgClient.SendMessage(this.toId,bW.stringify((bF.j())({$:7,$0:bM.SplitChars(ct,["/"],0)})));cw=j.wrapper();return cw.Delay(function(){return cw.Bind$2(cv,function(cy){return cw.Bind$1(cx((bE.j())(bW.parse(cy))),function(cz){return cw.Return(cz);});});});},RequestSnippet:function(ct){var cu,cv,cw;function cx(cy){return cu.snippetResponse(cy);}cu=this;cv=this.msgClient.SendMessage(this.toId,bW.stringify((bF.j())({$:9,$0:bM.SplitChars(ct,["/"],0)})));cw=j.wrapper();return cw.Delay(function(){return cw.Bind$2(cv,function(cy){return cw.Bind$1(cx((bE.j())(bW.parse(cy))),function(cz){return cw.Return(cz);});});});},SendMessage:function(ct){var cu,cv;cu=this.msgClient.SendMessage(this.toId,bW.stringify((bF.j())(ct)));cv=j.wrapper();return cv.Delay(function(){return cv.Bind$2(cu,function(cw){return cv.Bind$1(h.succeed((bE.j())(bW.parse(cw))),function(cx){return cv.Return(cx);});});});},SendMessage$1:function(ct,cu){var cv,cw;cv=this.msgClient.SendMessage(ct,bW.stringify((bF.j())(cu)));cw=j.wrapper();return cw.Delay(function(){return cw.Bind$2(cv,function(cx){return cw.Bind$1(h.succeed((bE.j())(bW.parse(cx))),function(cy){return cw.Return(cy);});});});}},bK.Obj,v);v.get_FSStationId_=function(){return"FSharpStation1516754472774";};v.New=bJ.Ctor(function(ct,cu,cv,cw){this.fsIds=d.defaultValue("FSharpStation1516754472774",cu);this.msgClient=new p.New(ct,cv,cw);this.toId=o.AddressId(this.fsIds);},v);o.predsL=function(ct,cu){var cv,cw;cv=cu;cw=bN.T.Empty;while(!(cv.$==0))(function(){var cx,cy;return cv.$==1?(cx=cv.$1,(cy=cv.$0,bO.contains(cy,cw)?void(cv=cx):(cv=bN.collect(a.id,bN.ofArray([cx,bN.collect(function(cz){return bN.append(b2.toList(cz.parent),cz.predecessors);},b2.toList(ct(cy)))])),void(cw=new bN.T({$:1,$0:cy,$1:cw}))))):null;}());return cw;};o.preds=function(ct,cu,cv){var cw,cx;return cv.$==1?(cw=cv.$0,(cx=bN.collect(a.id,bN.ofArray([cv.$1,bN.collect(function(cy){return bN.append(b2.toList(cy.parent),cy.predecessors);},b2.toList(ct(cw)))])),o.preds(ct,bO.contains(cw,cu)?cu:new bN.T({$:1,$0:cw,$1:cu}),cx))):cu;};o.sanitize=function(ct){var cu;cu=["\"","<",">","|","\u0000","\u0001","\u0002","\u0003","\u0004","\u0005","\u0006","\u0007","\u0008","\u0009","\n","\u000b","\u000c","\r","\u000e","\u000f","\u0010","\u0011","\u0012","\u0013","\u0014","\u0015","\u0016","\u0017","\u0018","\u0019","\u001a","\u001b","\u001c","\u001d","\u001e","\u001f",":","*","?","\\","/"];return bM.Filter(function(cv){return!bU.contains(cv,cu);},ct);};o.snippetName=function(ct,cu){return ct!==""?ct:d.defaultValue("<empty>",bO.tryHead(bO.filter(function(cv){return!(bM.StartsWith(cv,"#")||bM.StartsWith(cv,"[<")||bM.StartsWith(cv,"//"));},bO.map(bM.Trim,bM.SplitChars(cu,["\n"],1)))));};o.AsyncStartF=function(){bD.$cctor();return bD.AsyncStartF;};o.replyToF=function(){bD.$cctor();return bD.replyToF;};o.sendRequestF=function(){bD.$cctor();return bD.sendRequestF;};o.awaitRequestForF=function(){bD.$cctor();return bD.awaitRequestForF;};o.AddressId=function(ct){return{$:0,$0:ct};};o.AsyncStart=function(ct){bP.StartWithContinuations(ct,a.ignore,function(cu){a.alert(a.String(cu));},function(cu){a.alert(a.String(cu));},null);};o.selectF=a.id;x.extractConfig=function(ct){return bM.StartsWith(ct,"////-d:")?b3.string(ct,{$:1,$0:4},{$:1,$0:ct.indexOf("\n")-1}):"";};w.evaluateAR=function(ct,cu,cv,cw){var cx;cx=null;return bP.Delay(function(){return bP.Bind((new b4.New()).Async("FSharpStation:FSSGlobal.FsEvaluator.evaluateAS:-156288114",[ct,cu,cv,cw]),function(cy){function cz(cA,cB){return new g.New(cA,cB);}return bP.Return({$:0,$0:cy[0],$1:bN.ofSeq(bO.map(function(cA){return cz(cA[0],cA[1]);},cy[1]))});});});};y.translateAR=function(ct,cu){var cv;cv=null;return bP.Delay(function(){return bP.Bind((new b4.New()).Async("FSharpStation:FSSGlobal.FsTranslator.translateAS:608897894",[ct,cu]),function(cw){function cx(cy,cz){return new g.New(cy,cz);}return bP.Return({$:0,$0:cw[0],$1:bN.ofSeq(bO.map(function(cy){return cx(cy[0],cy[1]);},cw[1]))});});});};B.New=function(ct,cu){return{Code:ct,Message:cu};};C.New=function(ct,cu,cv){return{File:ct,Line:cu,Column:cv};};D.New=function(ct,cu,cv,cw){return{Name:ct,ReplacementText:cu,Glyph:cv,GlyphChar:cw};};E.New=function(ct,cu){return{Signature:ct,Comment:cu};};F.New=function(ct,cu,cv,cw){return{Name:ct,CanonicalTypeTextForSorting:cu,Display:cv,Description:cw};};G.New=function(ct,cu,cv,cw){return{Tip:ct,TypeText:cu,Parameters:cv,IsStaticArguments:cw};};H.New=function(ct,cu){return{Name:ct,Type:cu};};I.New=function(ct,cu){return{OutputType:ct,Parameters:cu};};J.New=function(ct,cu,cv){return{Name:ct,CurrentParameter:cu,Overloads:cv};};K.New=function(ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD){return{FileName:ct,StartLine:cu,StartColumn:cv,EndLine:cw,EndColumn:cx,IsFromDefinition:cy,IsFromAttribute:cz,IsFromComputationExpression:cA,IsFromDispatchSlotImplementation:cB,IsFromPattern:cC,IsFromType:cD};};L.New=function(ct,cu){return{Name:ct,Uses:cu};};M.New=function(ct,cu){return{Name:ct,Overloads:cu};};N.New=function(ct,cu,cv){return{Fsc:ct,Fsi:cu,MSBuild:cv};};O.New=function(ct,cu,cv,cw,cx,cy,cz){return{FileName:ct,StartLine:cu,EndLine:cv,StartColumn:cw,EndColumn:cx,Message:cy,Subcategory:cz};};P.New=function(ct,cu){return{File:ct,Errors:cu};};Q.New=function(ct){return{Kind:ct};};R.New=function(ct,cu,cv,cw,cx,cy,cz,cA){return{UniqueName:ct,Name:cu,Glyph:cv,GlyphChar:cw,IsTopLevel:cx,File:cy,EnclosingEntity:cz,IsAbstract:cA};};S.New=function(ct,cu){return{Declaration:ct,Nested:cu};};T.New=function(ct,cu,cv,cw,cx,cy){return{Namespace:ct,Name:cu,Type:cv,Line:cw,Column:cx,MultipleNames:cy};};U.New=function(ct,cu){return{Name:ct,Qualifier:cu};};V.New=function(ct,cu,cv){return{Opens:ct,Qualifies:cu,Word:cv};};W.New=function(ct){return{Text:ct};};X.ACMIdentification={$:0};Y=z.FSAutoCompleteIntermediaryClient=bJ.Class({info2Bool:function(ct){return ct.$==0&&(ct.$0==="true"&&true);},errors2String:function(ct){return ct.$==7?bM.concat("\n",bO.map(function(cu){return((((((((bJ.Curried(function(cv,cw,cx,cy,cz,cA,cB,cC){return cv("ErrFSharp \"F# "+bL.toSafe(cw)+".fsx ("+a.String(cx)+","+a.String(cy)+") - ("+a.String(cz)+","+a.String(cA)+") "+bL.toSafe(cB)+":"+bL.toSafe(cC)+"\"");},8))(a.id))(cu.FileName))(cu.StartLine))(cu.StartColumn))(cu.EndLine))(cu.EndColumn))(cu.Subcategory))(cu.Message);},ct.$0.Errors)):(function(cu){return function(cv){return cu(bH.p$4(cv));};}(a.id))(ct);},tip2String:function(ct){return ct.$==11?bM.concat("\n",bO.collect(function(cu){return bN.ofArray([cu.Signature,cu.Comment]);},bO.collect(a.id,ct.$0))):(function(cu){return function(cv){return cu(bH.p$4(cv));};}(a.id))(ct);},comp2Strings:function(ct){var cu;cu=this;return ct.$==3?bU.map(function(cv){return[cv.Name,cv.ReplacementText,cv.Glyph,cv.GlyphChar];},ct.$0):ct.$==2?[]:ct.$==17?bU.collect(function(cv){return cu.comp2Strings(cv);},ct.$0):[[(function(cv){return function(cw){return cv(bH.p$4(cw));};}(a.id))(ct),"","ErrorMsg","E"]];},Async_map:function(ct,cu){var cv;cv=null;return bP.Delay(function(){return bP.Bind(cu,function(cw){return bP.Return(ct(cw));});});},FindDecl:function(ct,cu,cv,cw){return this.Async_map(a.id,z.sendMessage({$:7,$0:ct,$1:cu,$2:cv,$3:cw}));},FindDecl$1:function(ct,cu,cv){return this.Async_map(a.id,z.sendMessage({$:6,$0:ct,$1:cu,$2:cv}));},Complete:function(ct,cu,cv,cw,cx){var cy;cy=this;return cy.Async_map(function(cz){return cy.comp2Strings(cz);},z.sendMessage({$:9,$0:ct,$1:cv,$2:cw,$3:cu,$4:cx}));},Complete$1:function(ct,cu,cv,cw){var cx;cx=this;return cx.Async_map(function(cy){return cx.comp2Strings(cy);},z.sendMessage({$:8,$0:ct,$1:cv,$2:cw,$3:cu}));},ToolTip:function(ct,cu,cv,cw){var cx;cx=this;return cx.Async_map(function(cy){return cx.tip2String(cy);},z.sendMessage({$:3,$0:ct,$1:cu,$2:cv,$3:cw}));},ToolTip$1:function(ct,cu,cv){var cw;cw=this;return cw.Async_map(function(cx){return cw.tip2String(cx);},z.sendMessage({$:2,$0:ct,$1:cu,$2:cv}));},Parse:function(ct,cu){var cv;cv=this;return cv.Async_map(function(cw){return cv.errors2String(cw);},z.sendMessage({$:10,$0:ct,$1:cu,$2:[]}));},Parse$1:function(ct,cu,cv){var cw;cw=this;return cw.Async_map(function(cx){return cw.errors2String(cx);},z.sendMessage({$:10,$0:ct,$1:cu,$2:cv}));},MustParse:function(ct,cu){var cv;cv=this;return cv.Async_map(function(cw){return cv.info2Bool(cw);},z.sendMessage({$:11,$0:ct,$1:cu}));}},bK.Obj,Y);Y.New=bJ.Ctor(function(ct,cu){},Y);z.sendMessage=function(ct){var cu;cu=null;return bP.Delay(function(){return bP.Bind((new b4.New()).Async("FSharpStation:FSSGlobal.FSAutoCompleteIntermediary.sendMessageRpc:1124743568",[ct]),function(cv){return bP.Return(cv);});});};_0=Z.Val=bJ.Class({get_ValTypeMember:function(){return 0;}},null,_0);_1.HelperType={$:0};_1.op_AmpGreater=function(ct,cu){return new _0({$:2,$0:cu});};_1.op_AmpGreater$1=function(ct,cu){return new _0({$:1,$0:cu});};_1.op_AmpGreater$2=function(ct,cu){return cu;};_1.op_AmpGreater$3=function(ct,cu){return cu;};_1.op_AmpGreater$4=function(ct,cu){return cu;};_1.op_AmpGreater$5=function(ct,cu){return cu;};_1.op_AmpGreater$6=function(ct,cu){return cu;};_1.op_AmpGreater$7=function(ct,cu){return cu;};_1.op_AmpGreater$8=function(ct,cu){return cu;};_1.op_AmpGreater$9=function(ct,cu){return new _0({$:0,$0:cu});};_1.op_AmpGreater$10=function(ct,cu){return new _0({$:0,$0:cu});};_1.op_AmpGreater$11=function(ct,cu){return new _0({$:0,$0:cu});};_1.op_AmpGreater$12=function(ct,cu){return new _0({$:0,$0:cu});};_1.op_AmpGreater$13=function(ct,cu){return new _0({$:0,$0:cu});};_1.op_AmpGreater$14=function(ct,cu){return new _0({$:0,$0:cu});};_0.fixitF=function(ct,cu){return ct(cu);};_0.mapCached=function(ct,cu){return new _0({$:2,$0:b7.MapCached(ct,_0.toView(cu))});};_0.sink=function(ct,cu){b7.Sink(ct,_0.toView(_0.fixit(cu)));};_0.mapAsync=function(ct,cu){return new _0({$:2,$0:b7.MapAsync(ct,_0.toView(_0.fixit(cu)))});};_0.iter4=function(ct,cu,cv,cw,cx){_0.iterV(a.ignore,_0.map4(ct,cu,cv,cw,cx));};_0.iter3=function(ct,cu,cv,cw){_0.iterV(a.ignore,_0.map3(ct,cu,cv,cw));};_0.iter2=function(ct,cu,cv){_0.iterV(a.ignore,_0.map2(ct,cu,cv));};_0.apply=function(ct,cu){return _0.bindV(function(cv){return _0.mapV(cv,ct);},cu);};_0.map4=function(ct,cu,cv,cw,cx){return _0.map4V(ct,_0.fixit(cu),_0.fixit(cv),_0.fixit(cw),_0.fixit(cx));};_0.map3=function(ct,cu,cv,cw){return _0.map3V(ct,_0.fixit(cu),_0.fixit(cv),_0.fixit(cw));};_0.map2=function(ct,cu,cv){return((_0.map2V(ct))(_0.fixit(cu)))(_0.fixit(cv));};_0.map=function(ct,cu){return _0.mapV(ct,_0.fixit(cu));};_0.bind=function(ct,cu){return _0.bindV(ct,_0.fixit(cu));};_0.iter=function(ct,cu){_0.iterV(ct,_0.fixit(cu));};_0.toDoc=function(ct){return b8.EmbedView(_0.toView(_0.fixit(ct)));};_0.fixit=function(ct){return _0.fixitF(_0.toVal,ct);};_0.toVal=function(ct){return typeof ct=="string"?new _0({$:0,$0:ct}):typeof ct=="number"?new _0({$:0,$0:ct}):typeof ct=="boolean"?new _0({$:0,$0:ct}):ct instanceof b8?new _0({$:0,$0:ct}):ct instanceof _0?ct:ct instanceof b6.Var?new _0({$:1,$0:ct}):"RSet"in ct?new _0({$:1,$0:ct}):typeof ct=="function"?new _0({$:2,$0:ct}):ct.get_ValTypeMember()===0?ct:b9.FailWith((function(cu){return function(cv){return cu("Could not convert "+bL.prettyPrint(cv));};}(a.id))(ct));};_0.attrV=function(ct,cu){return cu.$==2?b_.Dynamic(ct,cu.$0):cu.$==1?b_.Dynamic(ct,cu.$0.RView()):b$.Create(ct,cu.$0);};_0.attrVO=function(ct,cu){var cv,cw;return cu.$==2?(cv=cu.$0,b_.DynamicPred(ct,b7.Map(function(cx){return cx!=null;},cv),b7.Map(function(cx){return cx==null?"":cx.$0;},cv))):cu.$==1?(cw=cu.$0,b_.DynamicPred(ct,b7.Map(function(cx){return cx!=null;},cw.RView()),b7.Map(function(cx){return cx==null?"":cx.$0;},cw.RView()))):cu.$0==null?b_.DynamicPred(ct,b7.Const(false),b7.Const("")):b$.Create(ct,cu.$0.$0);};_0.tagElt=function(ct,cu){return cu.$==2?b8.EmbedView(b7.Map(ct,cu.$0)):cu.$==1?b8.EmbedView(b7.Map(ct,cu.$0.RView())):ct(cu.$0);};_0.tagDoc=function(ct,cu){return cu.$==2?b8.EmbedView(b7.Map(ct,cu.$0)):cu.$==1?b8.EmbedView(b7.Map(ct,cu.$0.RView())):ct(cu.$0);};_0.map4V=function(ct,cu,cv,cw,cx){var cy;cy=_0.map3V(ct,cu,cv,cw);return((_0.map2V(function(cz){return function(cA){return cA(cz);};}))(cx))(cy);};_0.map3V=function(ct,cu,cv,cw){var cx;cx=((_0.map2V(ct))(cu))(cv);return((_0.map2V(function(cy){return function(cz){return cz(cy);};}))(cw))(cx);};_0.map2V=function(ct){function cu(cw,cx,cy){return(cw(cy))(cx);}function cv(cw){var cx,cy;cx=(cy=function(cz){var cA;cA=ct(cz);return function(cB){return _0.mapV(cA,cB);};},function(cz){return cu(cy,cw,cz);});return function(cz){return _0.bindV(cx,cz);};}return(bJ.Curried3(cu))(cv);};_0.bindV=function(ct,cu){return cu.$==2?new _0({$:2,$0:b7.Bind(function(cv){return _0.toView(ct(cv));},cu.$0)}):cu.$==1?new _0({$:2,$0:b7.Bind(function(cv){return _0.toView(ct(cv));},cu.$0.RView())}):ct(cu.$0);};_0.getAsync=function(ct){return ct.$==2?b7.GetAsync(ct.$0):ct.$==1?bP.Return(ct.$0.RVal()):bP.Return(ct.$0);};_0.toView=function(ct){return ct.$==2?ct.$0:ct.$==1?ct.$0.RView():b7.Const(ct.$0);};_0.iterV=function(ct,cu){if(cu.$==2)b7.Get(ct,cu.$0);else if(cu.$==1)ct(cu.$0.RVal());else ct(cu.$0);};_0.mapV=function(ct,cu){return cu.$==2?new _0({$:2,$0:b7.Map(ct,cu.$0)}):cu.$==1?new _0({$:2,$0:b7.Map(ct,cu.$0.RView())}):new _0({$:0,$0:ct(cu.$0)});};_2=Z.HtmlNode=bJ.Class({Style:function(ct){return this.AddChildren([Z.style(ct)]);},AddClass:function(ct){return Z.addClass(ct,this);},InsertChildren:function(ct){return Z.insertChildren(ct,this);},AddChildren:function(ct){return Z.addChildren(ct,this);},get_toDoc:function(){var ct,cu,cv;return this.$==1||this.$==4&&true?b8.Empty():(cu=Z.chooseNode(this),(cv=b8.Empty(),cu==null?cv:cu.$0));}},null,_2);_2.HtmlEmpty=new _2({$:4});_2.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(ct,cu){return Z.indent2Level(11,cu,ct);};_2.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(ct,cu){return Z.indent2Level(10,cu,ct);};_2.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(ct,cu){return Z.indent2Level(9,cu,ct);};_2.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(ct,cu){return Z.indent2Level(8,cu,ct);};_2.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(ct,cu){return Z.indent2Level(7,cu,ct);};_2.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(ct,cu){return Z.indent2Level(6,cu,ct);};_2.op_MinusMinusMinusMinusMinusMinusMinusMinus=function(ct,cu){return Z.indent2Level(5,cu,ct);};_2.op_MinusMinusMinusMinusMinusMinus=function(ct,cu){return Z.indent2Level(4,cu,ct);};_2.op_MinusMinusMinusMinus=function(ct,cu){return Z.indent2Level(3,cu,ct);};_2.op_MinusMinus=function(ct,cu){return Z.indent2Level(2,cu,ct);};_2.op_Addition=function(ct,cu){return new bN.T({$:1,$0:cu,$1:ct});};_2.op_MinusMinusMinus=function(ct,cu){return ct.$==1?ct.$1.$==1?new bN.T({$:1,$0:ct.$1.$0.AddChildren([ct.$0.AddChildren([cu])]),$1:ct.$1.$1}):bN.ofArray([ct.$0.AddChildren([cu])]):bN.T.Empty;};_2.op_Subtraction=function(ct,cu){return ct.$==0?bN.T.Empty:new bN.T({$:1,$0:ct.$0.AddChildren([cu]),$1:ct.$1});};Z.LoadFilesAsync=function(ct){function cu(cv,cw){try{a.CIPHERSpaceLoadFiles(ct,cv);}catch(cx){cw(cx);}}return bP.FromContinuations(function(cv,cw,cx){return cu.apply(null,[cv,cw,cx]);});};Z.findRootElement=function(ct){var cu;return!function(cv){return ct.getRootNode(cv);}?a.document.body:(cu=ct.getRootNode(),!cu.body?cu.firstChild:cu.body);};Z.createIFrame=function(ct){var cu;cu=ca.Create$1(true);return Z.div([Z.style("position: relative; overflow: hidden; height: 100%; width: 100%;"),Z.iframe([Z.style("position: absolute; width:100%; height:100%;"),Z.frameborder("0"),new _2({$:7,$0:b_.OnAfterRender(ct)}),new _2({$:7,$0:b_.Handler("mouseleave",function(){return function(){return ca.Set(cu,true);};})})]),Z.div([Z.style("position: absolute;"),Z.classIf("iframe-cover",_0.map(a.id,cu)),new _2({$:7,$0:b_.Handler("mouseenter",function(){return function(){return b7.Get(function(cv){if(!cv)ca.Set(cu,false);},cc.get_MousePressed());};})})]),Z.styleH([Z.htmlText(".iframe-cover { top:0; left:0; right:0; bottom:0; background: blue; opacity: 0.04; z-index: 2; }")])]);};Z.bindHElem=function(ct,cu){return new _2({$:5,$0:_0.map(ct,_0.fixit(cu))});};Z.string2Styles=function(){bD.$cctor();return bD.string2Styles;};Z.style2pairs=function(ct){return bU.map(function(cu){return[bM.Trim(bU.get(cu,0)),bM.Trim(bU.get(cu,1))];},bU.filter(function(cu){return bU.length(cu)===2;},bU.map(function(cu){return bM.SplitChars(cu,[":"],0);},bM.SplitChars(ct,[";"],0))));};Z.xclass=function(ct){var cu,cv;return new _2({$:7,$0:(cu=_0.fixit(ct),cu.$==2?b_.DynamicClass("class_for_view_not_implemented",cu.$0,function(cw){return""!==cw;}):cu.$==1?(cv=cu.$0,b_.DynamicClass(cv.RVal(),cv.RView(),function(cw){return""!==cw;})):b_.Class(cu.$0))});};Z.classIf=function(ct,cu){return Z["class"](_0.map(function(cv){return cv?ct:"";},_0.fixit(cu)));};Z.css=function(ct){return Z.styleH([Z.htmlText(ct)]);};Z.style1=function(ct,cu){var cv;return Z.style(_0.map((cv=ct+":",function(cw){return cv+cw;}),cu));};Z.style=function(ct){return Z.htmlAttribute("style",ct);};Z.draggable=function(ct){return Z.htmlAttribute("draggable",ct);};Z.spellcheck=function(ct){return Z.htmlAttribute("spellcheck",ct);};Z.frameborder=function(ct){return Z.htmlAttribute("frameborder",ct);};Z.Id=function(ct){return Z.htmlAttribute("id",ct);};Z.title=function(ct){return Z.htmlAttribute("title",ct);};Z.width=function(ct){return Z.htmlAttribute("width",ct);};Z.type=function(ct){return Z.htmlAttribute("type",ct);};Z["class"]=function(ct){return Z.htmlAttribute("class",ct);};Z.src=function(ct){return Z.htmlAttribute("src",ct);};Z.charset=function(ct){return Z.htmlAttribute("charset",ct);};Z.rel=function(ct){return Z.htmlAttribute("rel",ct);};Z.hrefO=function(ct){return Z.htmlAttributeO("href",ct);};Z.href=function(ct){return Z.htmlAttribute("href",ct);};Z.target=function(ct){return Z.htmlAttribute("target",ct);};Z.strong=function(ct){return Z.htmlElement("strong",ct);};Z.section=function(ct){return Z.htmlElement("section",ct);};Z.body=function(ct){return Z.htmlElement("body",ct);};Z.iframe=function(ct){return Z.htmlElement("iframe",ct);};Z.link=function(ct){return Z.htmlElement("link",ct);};Z.fieldset=function(ct){return Z.htmlElement("fieldset",ct);};Z.styleH=function(ct){return Z.htmlElement("style",ct);};Z.script=function(ct){return Z.htmlElement("script",ct);};Z.button=function(ct){return Z.htmlElement("button",ct);};Z.label=function(ct){return Z.htmlElement("label",ct);};Z.tbody=function(ct){return Z.htmlElement("tbody",ct);};Z.td=function(ct){return Z.htmlElement("td",ct);};Z.tr=function(ct){return Z.htmlElement("tr",ct);};Z.th=function(ct){return Z.htmlElement("th",ct);};Z.thead=function(ct){return Z.htmlElement("thead",ct);};Z.table=function(ct){return Z.htmlElement("table",ct);};Z.form=function(ct){return Z.htmlElement("form",ct);};Z.span=function(ct){return Z.htmlElement("span",ct);};Z.img=function(ct){return Z.htmlElement("img",ct);};Z.div=function(ct){return Z.htmlElement("div",ct);};Z.h6=function(ct){return Z.htmlElement("h6",ct);};Z.h5=function(ct){return Z.htmlElement("h5",ct);};Z.h4=function(ct){return Z.htmlElement("h4",ct);};Z.h3=function(ct){return Z.htmlElement("h3",ct);};Z.h2=function(ct){return Z.htmlElement("h2",ct);};Z.h1=function(ct){return Z.htmlElement("h1",ct);};Z.hr=function(ct){return Z.htmlElement("hr",ct);};Z.br=function(ct){return Z.htmlElement("br",ct);};Z.li=function(ct){return Z.htmlElement("li",ct);};Z.ul=function(ct){return Z.htmlElement("ul",ct);};Z.p=function(ct){return Z.htmlElement("p",ct);};Z.a=function(ct){return Z.htmlElement("a",ct);};Z.textV=function(ct){return Z.tag(b8.TextNode,ct);};Z._placeholder=function(ct){return Z.atr("placeholder",ct);};Z._style=function(ct){return Z.atr("style",ct);};Z._type=function(ct){return Z.atr("type",ct);};Z._class=function(ct){return Z.atr("class",ct);};Z.tag=function(ct,cu){return _0.tagDoc(ct,_0.fixit(cu));};Z.atr=function(ct,cu){return _0.attrV(ct,_0.fixit(cu));};Z.renderDoc=function(){bD.$cctor();return bD.renderDoc;};Z.op_BangBang=function(ct,cu){return bN.ofArray([ct(cu)]);};Z.endHtmlIndent=function(ct){var cu;cu=Z.finishO(ct);return cu==null?Z.htmlText("Malformed HTMLNode"):cu.$0;};Z.finishO=function(ct){return ct.$==1?ct.$1.$==1?Z.finishO(Z.out(ct)):{$:1,$0:ct.$0}:null;};Z.indent2Level=function(ct,cu,cv){return cv.get_Length()<ct?new bN.T({$:1,$0:cu,$1:cv}):Z.indent2Level(ct,cu,Z.out(cv));};Z.out=function(ct){return ct.$==1?ct.$1.$==1?new bN.T({$:1,$0:Z.addChildren([ct.$0],ct.$1.$0),$1:ct.$1.$1}):bN.ofArray([ct.$0]):bN.T.Empty;};Z.addClassIf=function(ct,cu){var cv;cv=_0.map(function(cw){return cw?ct:"";},_0.fixit(cu));return function(cw){return Z.addClass(cv,cw);};};Z.addClass=function(ct,cu){return Z.addChildren(bN.ofArray([Z.htmlAttribute("class",ct)]),cu);};Z.insertChildren=function(ct,cu){function cv(cw,cx){return[cw,bO.append(ct,cx)];}return Z.mapHtmlElement(function(cw){return function(cx){return cv(cw,cx);};},cu);};Z.addChildren=function(ct,cu){function cv(cw,cx){return[cw,bO.append(cx,ct)];}return Z.mapHtmlElement(function(cw){return function(cx){return cv(cw,cx);};},cu);};Z.someElt=function(ct){return new _2({$:6,$0:ct});};Z.str=function(ct){return new _2({$:3,$0:_0.fixit(ct)});};Z.htmlText=function(ct){return new _2({$:3,$0:_0.fixit(ct)});};Z.htmlAttributeO=function(ct,cu){return new _2({$:2,$0:ct,$1:_0.fixit(cu)});};Z.htmlAttribute=function(ct,cu){return new _2({$:1,$0:ct,$1:_0.fixit(cu)});};Z.htmlElement=function(ct,cu){return new _2({$:0,$0:ct,$1:cu});};Z.mapHtmlElement=function(ct,cu){var cv;return cu.$==0?(cv=(ct(cu.$0))(cu.$1),new _2({$:0,$0:cv[0],$1:cv[1]})):cu.$==5?new _2({$:5,$0:_0.map(function(cw){return Z.mapHtmlElement(ct,cw);},cu.$0)}):cu;};Z.getAttrChildren=function(ct){var cu,cv,cw;function cx(cy){var cz;return cy.$==1&&(cy.$0===ct&&(cz=[cy.$0,cy.$1],true))?{$:1,$0:cz[1]}:null;}cu=function(cy){return bO.tryPick(cx,cy);};cv=(cw=new _0({$:0,$0:""}),function(cy){return cy==null?cw:cy.$0;});return function(cy){return cv(cu(cy));};};Z.chooseNode=function(ct){var cu,cv,cw,cx;return ct.$==0?(cu=ct.$1,{$:1,$0:b8.Element(ct.$0,Z.getAttrsFromSeq(cu),bO.choose(Z.chooseNode,cu))}):ct.$==3?{$:1,$0:_0.tagDoc(b8.TextNode,ct.$0)}:ct.$==6?{$:1,$0:ct.$0}:ct.$==5?{$:1,$0:(cv=_0.toView(ct.$0),b8.BindView((cw=(cx=b8.Empty(),function(cy){return cy==null?cx:cy.$0;}),function(cy){return cw(Z.chooseNode(cy));}),cv))}:null;};Z.getAttrsFromSeq=function(ct){var cu;cu=bO.choose(Z.chooseAttr,ct);return bO.append(bN.choose(a.id,bN.ofArray([Z.groupAttr("class"," ",ct),Z.groupAttr("style","; ",ct)])),cu);};Z.groupAttr=function(ct,cu,cv){var cw,cx;function cy(cz,cA){return Z.concat(cu,cz,cA);}cw=bO.choose(function(cz){return Z.chooseThisAttr(ct,cz);},cv);return bO.isEmpty(cw)?null:{$:1,$0:_0.attrV(ct,(cx=(bJ.Curried3(_0.map2))(function(cz){return function(cA){return cy(cz,cA);};}),bO.reduce(function(cz,cA){return(cx(cz))(cA);},cw)))};};Z.concat=function(ct,cu,cv){return cu+ct+cv;};Z.chooseThisAttr=function(ct,cu){var cv;return cu.$==1&&(cu.$0===ct&&(cv=[cu.$0,cu.$1],true))?{$:1,$0:cv[1]}:null;};Z.chooseAttr=function(ct){var cu,cv,cw,cx;return ct.$==1&&((cv=ct.$0,cv!=="class"&&cv!=="style")&&(cu=[ct.$0,ct.$1],true))?{$:1,$0:_0.attrV(cu[0],cu[1])}:ct.$==2&&((cx=ct.$0,cx!=="class"&&cx!=="style")&&(cw=[ct.$0,ct.$1],true))?{$:1,$0:_0.attrVO(cw[0],cw[1])}:ct.$==7?{$:1,$0:ct.$0}:null;};Z.addClassX=function(ct,cu){var cv;return bM.concat(" ",(cv=new cd.New$1(ce.OfSeq(bM.SplitChars(ct,[" "],0))),new cd.New$1(ce.OfSeq(bO.append(new cd.New$1(ce.OfSeq(bM.SplitChars(cu,[" "],0))),cv)))));};_4=_3.Button=bJ.Class({OnClick:function(ct){return _4.New(this._class,this._type,this.style,this.text,ct,this.disabled,this.id);},Disabled:function(ct){return _4.New(this._class,this._type,this.style,this.text,this.onClick,_0.fixit(ct),this.id);},Text:function(ct){return _4.New(this._class,this._type,this.style,_0.fixit(ct),this.onClick,this.disabled,this.id);},Style:function(ct){return _4.New(this._class,this._type,_0.fixit(ct),this.text,this.onClick,this.disabled,this.id);},Type:function(ct){return _4.New(this._class,_0.fixit(ct),this.style,this.text,this.onClick,this.disabled,this.id);},Class:function(ct){return _4.New(_0.fixit(ct),this._type,this.style,this.text,this.onClick,this.disabled,this.id);},Id:function(ct){return _4.New(this._class,this._type,this.style,this.text,this.onClick,this.disabled,ct);},get_Render:function(){var ct,cu;return new _2({$:6,$0:(ct=Z.button([Z.type(this._type),Z["class"](this._class),Z.Id(this.id),Z.style(this.style),new _2({$:7,$0:(cu=b7.Const(""),b_.DynamicPred("disabled",_0.toView(this.disabled),cu))}),new _2({$:7,$0:b$.Handler("click",this.onClick)}),new _2({$:3,$0:this.text})]),(Z.renderDoc())(ct))});}},null,_4);_4.New$1=function(ct){return _4.New(_0.fixit("btn"),_0.fixit("button"),_0.fixit(""),_0.fixit(ct),function(){return function(){return null;};},_0.fixit(false),"");};_4.New=function(ct,cu,cv,cw,cx,cy,cz){return new _4({_class:ct,_type:cu,style:cv,text:cw,onClick:cx,disabled:cy,id:cz});};_5=_3.Input=bJ.Class({get_Var:function(){return this["var"];},SetVar:function(ct){return _5.New(this._type,this._class,this.style,this.placeholder,this.id,ct,this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Suffix:function(ct){return _5.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,ct,this.content,this.prefixAdded,true);},Prefix:function(ct){return this.Prefix$1(Z.htmlText(ct));},Prefix$1:function(ct){return _5.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],ct,this.suffix,this.content,true,this.suffixAdded);},Content:function(ct){return _5.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,ct,this.prefixAdded,this.suffixAdded);},Id:function(ct){return _5.New(this._type,this._class,this.style,this.placeholder,ct,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Placeholder:function(ct){return _5.New(this._type,this._class,this.style,_0.fixit(ct),this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Style:function(ct){return _5.New(this._type,this._class,_0.fixit(ct),this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Type:function(ct){return _5.New(_0.fixit(ct),this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Class:function(ct){return _5.New(this._type,_0.fixit(ct),this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},get_Render:function(){var ct;function cu(cv){return cv.$==3?"input-group-addon":"input-group-btn";}ct=this;return Z.div(bN.ofSeq(bO.delay(function(){return bO.append(ct.prefixAdded||ct.suffixAdded?[Z["class"]("input-group")]:[],bO.delay(function(){return bO.append(ct.prefixAdded?[Z.span([Z["class"](cu(ct.prefix)),ct.prefix])]:[],bO.delay(function(){return bO.append([new _2({$:6,$0:b8.Input(bO.append(ct.content,bN.ofArray([Z._type(ct._type),Z._class(ct._class),Z._style(ct.style),b$.Create("id",ct.id),Z._placeholder(ct.placeholder)])),ct["var"])})],bO.delay(function(){return ct.suffixAdded?[Z.span([Z["class"](cu(ct.suffix)),ct.suffix])]:[];}));}));}));})));}},null,_5);_5.New$1=function(ct){return _5.New$2(ca.Create$1(ct));};_5.New$2=function(ct){var cu;cu=_0.fixit("form-control");return _5.New(_0.fixit("text"),cu,_0.fixit(""),_0.fixit("Enter text:"),"",ct,_2.HtmlEmpty,_2.HtmlEmpty,bN.T.Empty,false,false);};_5.New=function(ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD){return new _5({_type:ct,_class:cu,style:cv,placeholder:cw,id:cx,"var":cy,prefix:cz,suffix:cA,content:cB,prefixAdded:cC,suffixAdded:cD});};_6=_3.Hoverable=bJ.Class({Content:function(ct){var cu;cu=this;return ct.AddChildren([Z.classIf("hovering",this.hover),new _2({$:7,$0:b_.Handler("mouseenter",function(){return function(){return cu.hover.set_RVal(true);};})}),new _2({$:7,$0:b_.Handler("mouseleave",function(){return function(){return cu.hover.set_RVal(false);};})})]);},Content$1:function(ct){var cu;cu=this;return Z.div(bO.append(ct,bN.ofArray([Z.classIf("hovering",this.hover),new _2({$:7,$0:b_.Handler("mouseenter",function(){return function(){return cu.hover.set_RVal(true);};})}),new _2({$:7,$0:b_.Handler("mouseleave",function(){return function(){return cu.hover.set_RVal(false);};})})])));}},null,_6);_6.get_Demo=function(){return _6.get_New().Content(Z.div([Z.style("flex-flow: column;")]));};_6.get_New=function(){return _6.New(ca.Create$1(false));};_6.New=function(ct){return new _6({hover:ct});};_7=_3.TextArea=bJ.Class({get_Var:function(){return this["var"];},SetVar:function(ct){return _7.New(this._class,this.placeholder,this.title,this.spellcheck,this.id,ct);},Id:function(ct){return _7.New(this._class,this.placeholder,this.title,this.spellcheck,ct,this["var"]);},Spellcheck:function(ct){return _7.New(this._class,this.placeholder,this.title,ct,this.id,this["var"]);},Title:function(ct){return _7.New(this._class,this.placeholder,_0.fixit(ct),this.spellcheck,this.id,this["var"]);},Placeholder:function(ct){return _7.New(this._class,_0.fixit(ct),this.title,this.spellcheck,this.id,this["var"]);},Class:function(ct){return _7.New(_0.fixit(ct),this.placeholder,this.title,this.spellcheck,this.id,this["var"]);},get_Render:function(){return this.RenderWith(bN.T.Empty);},RenderWith:function(ct){return Z.div([Z.someElt(b8.InputArea(bN.append(bN.ofArray([Z._class(this._class),b$.Create("id",this.id),Z.atr("spellcheck",_0.map(function(cu){return cu?"true":"false";},this.spellcheck)),Z.atr("title",this.title),Z.atr("style","height: 100%;  width: 100%; box-sizing: border-box; "),Z._placeholder(this.placeholder)]),ct),this["var"]))]);}},null,_7);_7.New$1=function(ct){return _7.New$2(ca.Create$1(ct));};_7.New$2=function(ct){return _7.New(_0.fixit("form-control"),_0.fixit("Enter text:"),_0.fixit(""),_0.fixit(false),"",ct);};_7.New=function(ct,cu,cv,cw,cx,cy){return new _7({_class:ct,placeholder:cu,title:cv,spellcheck:cw,id:cx,"var":cy});};_8.New=function(ct,cu){return{line:ct,ch:cu};};_9=_3.CodeMirrorEditor=bJ.Class({},bK.Obj,_9);_9.New=bJ.Ctor(function(){},_9);_=_3.CodeMirror=bJ.Class({get_Var:function(){return this["var"];},OnRender:function(ct){return _.New(this._class,this.style,this.id,this["var"],this.onChange,{$:1,$0:ct},this.editorO);},OnChange:function(ct){return _.New(this._class,this.style,this.id,this["var"],ct,this.onRender,this.editorO);},Style:function(ct){return _.New(this._class,_0.fixit(ct),this.id,this["var"],this.onChange,this.onRender,this.editorO);},SetVar:function(ct){return _.New(this._class,this.style,this.id,ct,this.onChange,this.onRender,this.editorO);},Id:function(ct){return _.New(this._class,this.style,ct,this["var"],this.onChange,this.onRender,this.editorO);},Class:function(ct){return _.New(_0.fixit(ct),this.style,this.id,this["var"],this.onChange,this.onRender,this.editorO);},get_Render:function(){var ct;ct=this;return Z.div([Z["class"](this._class),new _2({$:7,$0:b$.Create("id",this.id)}),Z.style("position: relative; height: 300px"),Z.style(this.style),Z.div([Z.style("height: 100%; width: 100%; position: absolute;"),new _2({$:7,$0:b_.OnAfterRender(function(cu){a.CIPHERSpaceLoadFiles(_3.codeMirrorIncludes(),function(){var cv,cw,cx,cy;cv=a.CodeMirror(cu,{theme:"rubyblue",lineNumbers:true,matchBrackets:true,gutters:["CodeMirror-lint-markers"],extraKeys:{Tab:function(cz){cz.replaceSelection("    ","end");},F11:function(cz){cz.setOption("fullScreen",!cz.getOption("fullScreen"));}}});ct.editorO={$:1,$0:cv};cw=ct.onRender;cw==null?void 0:cw.$0(cv);cx=[0];cy=[0];cv.on("changes",function(){var cz;cz=cv.getValue();ct["var"].RVal()!==cz?(cx[0]=cx[0]+1,ct["var"].set_RVal(cz),ct.onChange()):void 0;});b7.Sink(function(){if(cx[0]>cy[0])cy[0]=cx[0];else if(cv.getValue()!==ct["var"].RVal()){cv.setValue(ct["var"].RVal());cv.getDoc().clearHistory();}},ct["var"].RView());});})})]),Z.link([Z.href("/EPFileX/codemirror/content/editor.css"),Z.type("text/css"),Z.rel("stylesheet")]),Z.link([Z.href("/EPFileX/codemirror/content/codemirror.css"),Z.type("text/css"),Z.rel("stylesheet")]),Z.link([Z.href("/EPFileX/codemirror/scripts/addon/display/fullscreen.css"),Z.type("text/css"),Z.rel("stylesheet")]),Z.link([Z.href("/EPFileX/codemirror/scripts/addon/dialog/dialog.css"),Z.type("text/css"),Z.rel("stylesheet")]),Z.link([Z.href("/EPFileX/codemirror/scripts/addon/hint/show-hint.css"),Z.type("text/css"),Z.rel("stylesheet")]),Z.link([Z.href("/EPFileX/codemirror/scripts/addon/lint/lint.css"),Z.type("text/css"),Z.rel("stylesheet")]),Z.css(".CodeMirror { height: 100% }")]);}},null,_);_.New$1=function(ct){return _.New$2(ca.Create$1(ct));};_.New$2=function(ct){return _.New(_0.fixit(""),_0.fixit(""),"",ct,a.ignore,null,null);};_.New=function(ct,cu,cv,cw,cx,cy,cz){return new _({_class:ct,style:cu,id:cv,"var":cw,onChange:cx,onRender:cy,editorO:cz});};$.New=function(ct,cu,cv){return{text:ct,displayText:cu,className:cv};};ba.New=function(ct,cu,cv){return{list:ct,from:cu,to:cv};};bb.New=function(ct,cu,cv){return{hint:ct,completeSingle:cu,container:cv};};bc.New=function(ct,cu,cv,cw){return{message:ct,severity:cu,from:cv,to:cw};};bd=_3.SplitterBar=bJ.Class({Children:function(ct){return bd.New(this.value,this.min,this.max,this.vertical,this.node,ct,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},get_After:function(){return bd.New(this.value,this.min,this.max,this.vertical,this.node,this.children,true,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},get_Before:function(){return bd.New(this.value,this.min,this.max,this.vertical,this.node,this.children,false,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Horizontal:function(){return bd.New(this.value,this.min,this.max,_0.fixit(false),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Vertical:function(){return bd.New(this.value,this.min,this.max,_0.fixit(true),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Horizontal$1:function(ct){return bd.New(this.value,this.min,this.max,_0.map(function(cu){return!cu;},_0.fixit(ct)),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Vertical$1:function(ct){return bd.New(this.value,this.min,this.max,_0.fixit(ct),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Max:function(ct){return bd.New(this.value,this.min,_0.fixit(ct),this.vertical,this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Min:function(ct){return bd.New(this.value,_0.fixit(ct),this.max,this.vertical,this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Node:function(ct){return bd.New(this.value,this.min,this.max,this.vertical,ct,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Value:function(ct){this.value.set_RVal(ct);return this;},get_Render:function(){var ct;function cu(cz){return ct.startVer?cz.clientX:cz.clientY;}function cv(){var cz;cz=ct.domElem;return cz!=null&&cz.$==1?ct.startVer?ct.after?cz.$0.parentElement.getBoundingClientRect().width:-cz.$0.parentElement.getBoundingClientRect().width:ct.after?cz.$0.parentElement.getBoundingClientRect().height:-cz.$0.parentElement.getBoundingClientRect().height:100;}function cw(cz){ct.value.set_RVal((cu(cz)-ct.start)*100/ct.size+ct.startP);}function cx(){if(ct.dragging){ct.dragging=false;a.removeEventListener("mousemove",cw,false);a.removeEventListener("mouseup",cx,false);}}function cy(cz,cA){return!ct.dragging?_0.iter(a.ignore,_0.map2(function(cB){return function(cC){ct.dragging=true;ct.startVer=cC;ct.startP=cB;ct.start=cu(cA);ct.size=cv();a.addEventListener("mousemove",cw,false);a.addEventListener("mouseup",cx,false);return cA.preventDefault();};},ct.get_GetValue(),ct.vertical)):null;}ct=this;return this.node.AddChildren([Z["class"](_0.map(function(cz){return cz?"Vertical":"Horizontal";},this.vertical)),new _2({$:7,$0:b_.Handler("mousedown",function(cz){return function(cA){return cy(cz,cA);};})}),new _2({$:7,$0:b_.OnAfterRender(function(cz){ct.domElem={$:1,$0:cz};})}),Z.css("\n                    .Splitter.Vertical   { cursor: col-resize; background-color: #eef ; width : 5px ; margin-left:-7px; }\n                    .Splitter.Horizontal { cursor: row-resize; background-color: #eef ; height: 5px ; margin-top :-7px; }\n                ")]).AddChildren(this.children);},get_GetValue:function(){function ct(cv,cw){return bV.Compare(cv,cw)===-1?cv:cw;}function cu(cv,cw){return bV.Compare(cv,cw)===1?cv:cw;}return _0.map2(function(cv){return function(cw){return ct(cv,cw);};},this.max,_0.map2(function(cv){return function(cw){return cu(cv,cw);};},this.min,this.value));},get_Var:function(){return this.value;}},null,bd);bd.New$1=function(ct){return bd.New$2(ca.Create$1(ct));};bd.New$2=function(ct){return bd.New(ct,_0.fixit(5),_0.fixit(95),_0.fixit(true),Z.div([Z["class"]("Splitter")]),bN.T.Empty,true,false,true,0,0,0,null);};bd.New=function(ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF){return new bd({value:ct,min:cu,max:cv,vertical:cw,node:cx,children:cy,after:cz,dragging:cA,startVer:cB,startP:cC,start:cD,size:cE,domElem:cF});};be.StFixedPerc={$:2};be.StFixedPx={$:1};be.StVariable={$:0};bf=_3.Grid=bJ.Class({get_Render:function(){return Z.div(this.GridTemplate());},GridTemplate:function(){var ct;ct=this;return bN.ofSeq(bO.delay(function(){function cu(cv,cw){return cv!=null&&cv.$==1?cw.AddChildren([Z.style((function(cx){return function(cy){return cx("grid-area: "+bL.toSafe(cy)+"; dispxlay: grid");};}(a.id))(cv.$0))]):cw;}return bO.append(bO.map(function(cv){return cu(cv[0],cv[1]);},ct.content),bO.delay(function(){function cv(cw,cx){var cy;return cx.$==2?(cy=cx.$0,{$:1,$0:cy.get_Render().InsertChildren([Z.style1("grid-column",a.String(cw+(cy.after?2:1))),Z.style1("grid-row",(function(cz){return function(cA){return cz("1 / "+a.String(cA));};}(a.id))(bU.length(ct.rows)+1))])}):cx.$==1?null:null;}return bO.append(bO.choose(function(cw){return cv(cw[0],cw[1]);},bO.indexed(ct.cols)),bO.delay(function(){function cw(cx,cy){var cz;return cy.$==2?(cz=cy.$0,{$:1,$0:cz.get_Render().InsertChildren([Z.style1("grid-row",a.String(cx+(cz.after?2:1))),Z.style1("grid-column",(function(cA){return function(cB){return cA("1 / "+a.String(cB));};}(a.id))(bU.length(ct.cols)+1))])}):cy.$==1?null:null;}return bO.append(bO.choose(function(cx){return cw(cx[0],cx[1]);},bO.indexed(ct.rows)),bO.delay(function(){return bO.append(ct.styles(),bO.delay(function(){return bO.append([Z.style((((bJ.Curried3(function(cx,cy,cz){return cx("display: grid; grid-gap: "+cy.toFixed(6)+"px; padding: "+cz.toFixed(6)+"px; box-sizing: border-box");}))(a.id))(ct.gap))(ct.padding))],bO.delay(function(){return[new _2({$:7,$0:b_.OnAfterRender(function(cx){function cy(cA,cB){return!bV.Equals(cA.RVal(),cB)?cA.set_RVal(cB):null;}function cz(){var cA;cA=cx.getBoundingClientRect();cy(ct.widthHeight,[cA.width,cA.height]);}cz();_3.addResizeObserver(cz,cx);})})];}));}));}));}));}));}));},styles:function(){return bN.ofArray([Z.style1("grid-template-columns",this.style(this.cols,_0.map(function(ct){return ct[0];},this.widthHeight))),Z.style1("grid-template-rows",this.style(this.rows,_0.map(function(ct){return ct[1];},this.widthHeight)))]);},style:function(ct,cu){var cv,cw,cx,cy;function cz(cC,cD){return function(cE){return cE.$==2?[_0.map2(function(cF){return function(cG){return cF+cG;};},cE.$0.get_GetValue(),cC),cD]:cE.$==1?cE.$0.$==1?[cC,_0.map2(function(cF){return function(cG){return cF+cG;};},cE.$0.$0,cD)]:[_0.map2(function(cF){return function(cG){return cF+cG;};},cE.$0.$0,cC),cD]:[cC,cD];};}function cA(cC){return _0.map2(function(cD){return function(cE){var cF,cG,cH;cF=(cG=cD*cE,(cH=0,bV.Compare(cH,cG)===1?cH:cG));return(function(cI){return function(cJ){return cI(cJ.toFixed(6)+"%");};}(a.id))(cF);};},cx,cC);}function cB(cC){return _0.map(function(cD){var cE,cF;cE=(cF=0,bV.Compare(cF,cD)===1?cF:cD);return(function(cG){return function(cH){return cG(cH.toFixed(6)+"px");};}(a.id))(cE);},cC);}cv=this;return bU.length(ct)===0?new _0({$:0,$0:"100%"}):(cw=bO.fold(function(cC,cD){return(function(cE){return cz(cE[0],cE[1]);}(cC))(cD);},[new _0({$:0,$0:0}),new _0({$:0,$0:0})],ct),(cx=_0.map2(function(cC){return function(cD){return(cD-cv.padding*2-cv.gap*(bU.length(ct)-1)-cC)/(cD-cv.padding*2);};},cw[1],cu),(cy=_0.map(function(cC){return 100-cC;},cw[0]),_0.map(function(cC){return bM.concat(" ",cC);},bO.foldBack(function(cC,cD){function cE(cF,cG){return new bN.T({$:1,$0:cG,$1:cF});}return _0.map2(function(cF){return function(cG){return cE(cF,cG);};},cD,cC.$==2?cA(cC.$0.get_GetValue()):cC.$==1?cC.$0.$==1?cB(cC.$0.$0):cA(cC.$0.$0):cA(cy));},ct,new _0({$:0,$0:bN.T.Empty}))))));},Children:function(ct){return this.changeSplitter(function(cu){return cu.Children(ct);});},Min:function(ct){return this.changeSplitter(function(cu){return cu.Min(ct);});},Max:function(ct){return this.changeSplitter(function(cu){return cu.Max(ct);});},get_Before:function(){return this.changeSplitter(function(ct){return ct.get_Before();});},changeSplitter:function(ct){var cu,cv;cu=this;cv=this.lastSplitter;cv==null?void 0:(function(cw,cx){var cy,cz;if(cx){cy=bU.get(cu.cols,cw);cy.$==2?bU.set(cu.cols,cw,{$:2,$0:ct(cy.$0)}):void 0;}else{cz=bU.get(cu.rows,cw);cz.$==2?bU.set(cu.rows,cw,{$:2,$0:ct(cz.$0)}):void 0;}}).apply(null,cv.$0);return this;},Gap:function(ct){return bf.New(this.padding,ct,this.content,this.cols,this.rows,this.widthHeight,this.lastSplitter);},Padding:function(ct){return bf.New(ct,this.gap,this.content,this.cols,this.rows,this.widthHeight,this.lastSplitter);},Content:function(ct){return bf.New(this.padding,this.gap,this.content.concat([[null,ct]]),this.cols,this.rows,this.widthHeight,this.lastSplitter);},Content$1:function(ct,cu){return bf.New(this.padding,this.gap,this.content.concat([[{$:1,$0:ct},cu]]),this.cols,this.rows,this.widthHeight,this.lastSplitter);},RowAuto:function(ct){return bf.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:0,$0:bd.New$1(ct).Horizontal()}]),this.widthHeight,this.lastSplitter);},RowVariable:function(ct){return this.NewSplitter$1(ct,false);},RowVariable$1:function(ct){return this.NewSplitter(ct,false);},RowVariable$2:function(ct){return bf.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:2,$0:ct}]),this.widthHeight,this.lastSplitter);},RowFixed:function(ct){return bf.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:1,$0:{$:0,$0:_0.fixit(ct)}}]),this.widthHeight,this.lastSplitter);},RowFixedPx:function(ct){return bf.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:1,$0:{$:1,$0:_0.fixit(ct)}}]),this.widthHeight,this.lastSplitter);},ColAuto:function(ct){return bf.New(this.padding,this.gap,this.content,this.cols.concat([{$:0,$0:bd.New$1(ct)}]),this.rows,this.widthHeight,this.lastSplitter);},ColVariable:function(ct){return this.NewSplitter$1(ct,true);},ColVariable$1:function(ct){return this.NewSplitter(ct,true);},ColVariable$2:function(ct){return bf.New(this.padding,this.gap,this.content,this.cols.concat([{$:2,$0:ct}]),this.rows,this.widthHeight,this.lastSplitter);},ColFixed:function(ct){return bf.New(this.padding,this.gap,this.content,this.cols.concat([{$:1,$0:{$:0,$0:_0.fixit(ct)}}]),this.rows,this.widthHeight,this.lastSplitter);},ColFixedPx:function(ct){return bf.New(this.padding,this.gap,this.content,this.cols.concat([{$:1,$0:{$:1,$0:_0.fixit(ct)}}]),this.rows,this.widthHeight,this.lastSplitter);},NewSplitter:function(ct,cu){return this.NewSplitter$1(ca.Create$1(ct),cu);},NewSplitter$1:function(ct,cu){var cv,cw,cx;cv=bd.New$2(ct);return cu?(cw={$:1,$0:[bU.length(this.cols),cu]},bf.New(this.padding,this.gap,this.content,this.cols.concat([{$:2,$0:cv}]),this.rows,this.widthHeight,cw)):(cx={$:1,$0:[bU.length(this.rows),cu]},bf.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:2,$0:cv.Horizontal()}]),this.widthHeight,cx));}},null,bf);bf.NewBisect=function(ct,cu,cv,cw,cx,cy){var cz,cA,cB;cz=cv?[cu.$==1?function(cC){return cC.ColFixedPx(cw);}:cu.$==2?function(cC){return cC.ColFixed(cw);}:function(cC){return cC.ColVariable(cw);},function(cC){return cC.ColAuto(50);},function(cC){return cC.Content(Z.style("grid-template-areas: 'one   two' "));}]:[cu.$==1?function(cC){return cC.RowFixedPx(cw);}:cu.$==2?function(cC){return cC.RowFixed(cw);}:function(cC){return cC.RowVariable(cw);},function(cC){return cC.RowAuto(50);},function(cC){return cC.Content(Z.style("grid-template-areas: 'one' 'two' "));}];cA=cz[0];cB=cz[1];return(ct?function(cC){return cB(cA(cC));}:function(cC){return cA(cB(cC));})(cz[2](bf.get_New().Content$1("one",cx).Content$1("two",cy).Padding(0)));};bf.get_New=function(){return bf.New(9,9,[],[],[],ca.Create$1([1000,100]),null);};bf.New=function(ct,cu,cv,cw,cx,cy,cz){return new bf({padding:ct,gap:cu,content:cv,cols:cw,rows:cx,widthHeight:cy,lastSplitter:cz});};bg=_3.TabStrip=bJ.Class({get_Render:function(){var ct,cu,cv,cw;ct=this;cu=Z.bindHElem(function(cx){return Z.div(bN.ofSeq(bO.delay(function(){return bO.append([Z["class"]((((bJ.Curried3(function(cy,cz,cA){return cy("tab-strip "+bL.toSafe(cz)+" "+bL.toSafe(cA));}))(a.id))(ct.top?"top":"bottom"))(ct.horizontal?"horizontal":"vertical"))],bO.delay(function(){return bO.collect(function(cy){var cz;cz=cy[0];return[_6.get_New().Content(Z.div([Z.htmlText(cy[1][1][0]),Z["class"](_0.map(function(cA){return"tab"+(cA===cz?" selected":"");},ct.selected)),Z.draggable("true"),new _2({$:7,$0:b_.Handler("dragover",function(){return function(cA){return cA.preventDefault();};})}),new _2({$:7,$0:b_.Handler("drag",function(){return function(){(_3.draggedTab())[0]={$:1,$0:[ct,cz]};};})}),new _2({$:7,$0:b_.Handler("drop",function(){return function(cA){cA.preventDefault();cA.stopPropagation();return ct.reorder(cz);};})}),new _2({$:7,$0:b_.Handler("click",function(){return function(){return ct.selected.set_RVal(cz);};})})]))];},bO.indexed(cx));}));})));},this.tabs);_0.sink((cv=this.id,function(cx){_3.setSelectedPanel(cv,cx);}),this.get_Selected());cw=Z.bindHElem(function(cx){return Z.div(bN.ofSeq(bO.delay(function(){return bO.append([Z["class"]("tab-children")],bO.delay(function(){return bO.append([Z.Id(_3.uid2s(ct.id))],bO.delay(function(){function cy(cz,cA){return cA[1].AddChildren([Z.style(_0.map(function(cB){return bO.contains(cz,bO.map(function(cC){return cC[1];},cf.ToSeq(cB)))?"":"display : none";},_3.selectedPanels())),Z.Id(_3.uid2s(cz))]);}return bO.map(function(cz){return cy(cz[0],cz[1]);},cx);}));}));})));},this.tabs);return Z.div([Z["class"]("tab-panel"),this.top?cu:_2.HtmlEmpty,Z.div([cw,Z["class"]("tab-content")]),!this.top?cu:_2.HtmlEmpty,new _2({$:7,$0:b_.Handler("dragover",function(){return function(cx){return cx.preventDefault();};})}),new _2({$:7,$0:b_.Handler("drop",function(){return function(cx){cx.preventDefault();return ct.reorder(bU.length(ct.tabs.RVal()));};})}),Z.css("\n    \n    .tab-panel {\n     overflow  : hidden   ;\n     display   : flex     ;\n     flex-flow : column   ;\n     background: lightgray;\n    }\n    .tab-content {\n     flex      : 1 1     ;\n     overflow  : auto    ;\n     position  : relative;\n    }\n    .tab-children {\n     height    : 100%    ;\n     width     : 100%    ;\n     position  : absolute;\n     display   : grid    ;\n    }\n    .tab-strip {\n     padding   : 0pt     ;\n     flex      : 0 0     ;\n    }\n    .tab {\n     border     : 0.2pt solid transparent;\n     padding    : 0pt 4pt;\n     display    : inline-block;\n     font-family: sans-serif;\n     font-weight: 200;\n     font-size  : small;\n     color      : #666;\n     cursor     : pointer;\n    }\n    .top>.tab {\n     border-radius: 2pt 2pt 0pt 0pt;\n     border-bottom-width: 0pt;\n     vertical-align: bottom;\n    }\n    .bottom>.tab {\n     border-top-width: 0pt;\n     border-radius: 0pt 0pt 2pt 2pt;\n     vertical-align: top;\n    }\n    .horizontal>.tab:not(:first-child) {\n     border-left-width: 0pt;\n    }\n    .tab.hovering {\n     background: red;\n    }\n    .tab.selected {\n     background: white;\n     border-left-width: 0.2pt;\n     color: black;\n     font-weight: 500;\n     border-color: black;\n    }\n    .horizontal>.tab.selected {\n     border-left-width: 0.2pt;\n    }\n    ")]);},Select:function(ct){var cu,cv;function cw(cx,cy){return bV.Equals(cy[0],ct)?(cu.selected.set_RVal(cx),{$:1,$0:true}):null;}cu=this;cv=bO.tryPick(function(cx){return cw(cx[0],cx[1]);},bO.indexed(this.tabs.RVal()));return cv==null?false:cv.$0;},Select$1:function(ct){var cu,cv;function cw(cx,cy){return cy[1][0]===ct?(cu.selected.set_RVal(cx),{$:1,$0:true}):null;}cu=this;cv=bO.tryPick(function(cx){return cw(cx[0],cx[1]);},bO.indexed(this.tabs.RVal()));return cv==null?false:cv.$0;},Select$2:function(ct){this.selected.set_RVal(ct);},get_Selected:function(){return _0.map2(function(ct){return function(cu){var cv;cv=bO.tryItem(cu,ct);return cv==null?null:{$:1,$0:cv.$0[0]};};},this.tabs,this.selected);},get_Vertical:function(){return bg.New(this.selected,this.tabs,this.top,false,this.id);},get_Horizontal:function(){return bg.New(this.selected,this.tabs,this.top,true,this.id);},SetTop:function(ct){return bg.New(this.selected,this.tabs,ct,this.horizontal,this.id);},get_Bottom:function(){return bg.New(this.selected,this.tabs,false,this.horizontal,this.id);},get_Top:function(){return bg.New(this.selected,this.tabs,true,this.horizontal,this.id);},reorder:function(ct){var cu,cv,cw;cw=(_3.draggedTab())[0];if(cw!=null&&cw.$==1){if(!bV.Equals(cw.$0[0].id,this.id))this.moveTab(cw.$0[0],cw.$0[1],ct);else if(cw!=null&&cw.$==1){cu=cw.$0[1];{this.tabs.set_RVal(_3.reorderArray(this.tabs.RVal(),cu,ct));cv=this.selected.RVal();this.selected.set_RVal(cv===cu?ct:cv<cu&&cv<ct||cv>cu&&cv>ct?cv:cv<cu?cv+1:cv-1);}}else throw new cg.New("Compiled\\FSharpStation2\\FSharpStation.fs",3307,18);}else void 0;},moveTab:function(ct,cu,cv){var cw,cx,cy,cz;cw=this.tabs.RVal();cx=ct.tabs.RVal();cy=bU.collect(a.id,[b3.array(cw,{$:1,$0:0},{$:1,$0:cv-1}),[bU.get(cx,cu)],b3.array(cw,{$:1,$0:cv},{$:1,$0:bU.length(cw)-1})]);cz=bU.collect(a.id,[b3.array(cx,{$:1,$0:0},{$:1,$0:cu-1}),b3.array(cx,{$:1,$0:cu+1},{$:1,$0:bU.length(cx)-1})]);ct.tabs.set_RVal(cz);this.tabs.set_RVal(cy);this.selected.set_RVal(cv);ct.selected.RVal()>=bU.length(cz)?ct.selected.set_RVal(0):void 0;_3.RaiseTabMoved(ct,this);}},null,bg);bg.New$1=function(ct){return bg.New$2(ca.Create$1(bU.ofSeq(bO.map(function(cu){return[b1.NewGuid(),cu];},ct))));};bg.New$2=function(ct){return bg.New(ca.Create$1(0),ct,false,true,b1.NewGuid());};bg.New=function(ct,cu,cv,cw,cx){return new bg({selected:ct,tabs:cu,top:cv,horizontal:cw,id:cx});};bh=_3.MenuEntry=bJ.Class({get_MenuNode:function(){return new bi({$:1,$0:this});},SubMenu:function(ct){return bh.New(this.text,this.ref,this.active,this.disabled,{$:1,$0:bj.New2(ct).get_DropDown()},this.toolTip,this.target,this.divider,this.onClick);},SubMenu$1:function(ct){return bh.New(this.text,this.ref,this.active,this.disabled,{$:1,$0:bj.New$1(ct).get_DropDown()},this.toolTip,this.target,this.divider,this.onClick);},Disabled:function(ct){return bh.New(this.text,this.ref,this.active,_0.fixit(ct),this.subMenu,this.toolTip,this.target,this.divider,this.onClick);},OnClick:function(ct){return bh.New(this.text,this.ref,this.active,this.disabled,this.subMenu,this.toolTip,this.target,this.divider,{$:1,$0:ct});},get_Divider:function(){return bh.New(this.text,this.ref,this.active,this.disabled,this.subMenu,this.toolTip,this.target,true,this.onClick);},Target:function(ct){return bh.New(this.text,this.ref,this.active,this.disabled,this.subMenu,this.toolTip,{$:1,$0:ct},this.divider,this.onClick);},get_Render:function(){var ct,cu,cv,cw,cx,cy,cz,cA,cB;return(this.divider?function(cC){return Z.addClass("divider",cC);}:a.id)((ct=(cu=(cv=(cw=_3.entryTxt(this.text,(cx=this.target,cx==null?"":cx.$0),this.ref),(Z.addClassIf("active",this.active))(cw)),(Z.addClassIf("disabled",this.disabled))(cv)),(cy=this.subMenu,(cy!=null&&cy.$==1?(cz=bN.ofArray([Z["class"]("dropdown"),cy.$0.get_Render()]),function(cC){return Z.addChildren(cz,cC);}):a.id)(cu))),(cA=this.onClick,(cA!=null&&cA.$==1?(cB=bN.ofArray([new _2({$:7,$0:b$.Handler("click",cA.$0)}),Z.style("cursor : pointer")]),function(cC){return Z.addChildren(cB,cC);}):a.id)(ct))));}},null,bh);bh.New$1=function(ct,cu){var cv;cv=bh.New$2(ct);return bh.New(cv.text,_0.map(function(cw){return{$:1,$0:cw};},cu),cv.active,cv.disabled,cv.subMenu,cv.toolTip,cv.target,cv.divider,cv.onClick);};bh.New$2=function(ct){return bh.New(_0.fixit(ct),new _0({$:0,$0:null}),_0.fixit(false),_0.fixit(false),null,null,null,false,null);};bh.New=function(ct,cu,cv,cw,cx,cy,cz,cA,cB){return new bh({text:ct,ref:cu,active:cv,disabled:cw,subMenu:cx,toolTip:cy,target:cz,divider:cA,onClick:cB});};bi=_3.MenuNode=bJ.Class({get_Render:function(){return this.$==1?this.$0.get_Render():this.$0;}},null,bi);bj=_3.Menu=bJ.Class({get_Render:function(){var ct;ct=this;return(this.dropdown?_3.dropdown:_3.nav)(bN.ofSeq(bO.delay(function(){return bO.map(function(cu){return cu.get_Render();},ct.entries);})));},get_DropDown:function(){return bj.New(this.entries,true);}},null,bj);bj.New2=function(ct){return bj.New$1(bO.map(function(cu){return new bi({$:1,$0:cu});},ct));};bj.New$1=function(ct){return bj.New(ct,false);};bj.New=function(ct,cu){return new bj({entries:ct,dropdown:cu});};bk=_3.Action=bJ.Class({get_Button:function(){var ct,cu,cv;function cw(cx,cy){return null;}ct=(cu=(cv=this.onClick,cv==null?null:{$:1,$0:cv.$0(this)}),cu==null?function(cx){return function(cy){return cw(cx,cy);};}:cu.$0);return _4.New(_0.map(function(cx){return cx?"btn btn-primary":"btn";},this.highlight),_0.fixit("button"),_0.fixit(""),this.text,ct,this.disabled,"");},get_MenuEntry:function(){var ct;return bh.New(this.text,new _0({$:0,$0:null}),this.highlight,this.disabled,null,this.toolTip,null,false,(ct=this.onClick,ct==null?null:{$:1,$0:ct.$0(this)}));},Highlight:function(ct){return bk.New(this.text,_0.fixit(ct),this.disabled,this.toolTip,this.onClick,this.parms);},Disabled:function(ct){return bk.New(this.text,this.highlight,_0.fixit(ct),this.toolTip,this.onClick,this.parms);},OnClick2:function(ct){return bk.New(this.text,this.highlight,this.disabled,this.toolTip,{$:1,$0:ct},this.parms);},OnClick:function(ct){return bk.New(this.text,this.highlight,this.disabled,this.toolTip,{$:1,$0:function(){return ct;}},this.parms);},Parms:function(ct){return bk.New(this.text,this.highlight,this.disabled,this.toolTip,this.onClick,{$:1,$0:ct});},Text:function(ct){return bk.New(_0.fixit(ct),this.highlight,_0.fixit(false),this.toolTip,this.onClick,this.parms);}},null,bk);bk.New$1=function(ct){return bk.New(_0.fixit(ct),_0.fixit(false),_0.fixit(false),null,null,null);};bk.New=function(ct,cu,cv,cw,cx,cy){return new bk({text:ct,highlight:cu,disabled:cv,toolTip:cw,onClick:cx,parms:cy});};bl=_3.GuiPart=bJ.Class({GetHtmlNode:function(ct,cu){var cv,cw,cx,cy,cz,cA;return this.$==1?[this.$0,a.ignore]:this.$==2?[this.$0.get_Button().get_Render(),a.ignore]:this.$==5?[ct.GetCallButton(this.$0,this.$1,this.$2),a.ignore]:this.$==4?(cv=bg.New$1(bO.map(function(cB){return[cB,ct.GetNode(cB)];},this.$1)).SetTop(this.$0),(_3.addValue(cu,cv,ct.tabStrips),[cv.get_Render(),a.ignore])):this.$==3?(cw=this.$3,(cx=ca.Create$1(this.$6),(cy=ca.Create$1(this.$7),(cz=ca.Create$1(cw),(cA=cw,[bf.NewBisect(this.$0,this.$1,this.$2,cz,ct.GetNode(this.$4),ct.GetNode(this.$5)).Min(cx).Max(cy).get_Render(),function(cB){var cC;if(cB.$==3){cC=cB.$3;cA!==cC?(cA=cC,ca.Set(cz,cC)):void 0;ca.Set(cx,cB.$6);ca.Set(cy,cB.$7);}}]))))):[_2.HtmlEmpty,a.ignore];}},null,bl);bm.New=function(ct,cu,cv,cw,cx,cy,cz){return{HtmlElementF:ct,HtmlAttributeF:cu,HtmlAttributeOF:cv,HtmlTextF:cw,HtmlEmptyF:cx,HtmlGuiPart:cy,HtmlGuiCall:cz};};bn.New=function(ct,cu,cv,cw,cx){return{GuiRoot:ct,GuiTabStrip:cu,GuiSplit:cv,GuiNode:cw,GuiCall:cx};};bo.get_New=function(){return{$:0,$0:b1.NewGuid()};};bp=_3.Layout=bJ.Class({SelectTab:function(ct){bO.iter(function(cu){cu.Select$1(ct);},this.tabStrips.get_Values());},SetLayoutJson:function(ct,cu){var cv,cy;function cw(cA){var cB,cC,cD,cE,cF,cG,cH;cB=_3.PHtmlElementF(cA);return cB!=null&&cB.$==1?{$:1,$0:new _2({$:0,$0:cB.$0[0],$1:bO.choose(cw,cB.$0[1])})}:(cC=_3.PHtmlAttributeF(cA),cC!=null&&cC.$==1?{$:1,$0:new _2({$:1,$0:cC.$0[0],$1:new _0({$:0,$0:cC.$0[1]})})}:(cD=_3.PHtmlAttributeOF(cA),cD!=null&&cD.$==1?{$:1,$0:new _2({$:2,$0:cD.$0[0],$1:new _0({$:0,$0:cD.$0[1]})})}:(cE=_3.PHtmlTextF(cA),cE!=null&&cE.$==1?{$:1,$0:new _2({$:3,$0:new _0({$:0,$0:cE.$0})})}:(cF=_3.PHtmlEmptyF(cA),cF!=null&&cF.$==1)?{$:1,$0:_2.HtmlEmpty}:(cG=_3.PHtmlGuiPart(cA),cG!=null&&cG.$==1?{$:1,$0:cy.GetNode(cG.$0)}:(cH=_3.PHtmlGuiCall(cA),cH!=null&&cH.$==1?{$:1,$0:cy.GetCallButton(cH.$0[0],cH.$0[1],cH.$0[2])}:null)))));}function cx(cA){var cB,cC,cD,cE,cF,cG;cB=_3.PGuiNode(cA);return cB!=null&&cB.$==1?{$:1,$0:new bl({$:1,$0:d.defaultValue(_2.HtmlEmpty,cw(cB.$0))})}:(cC=_3.PGuiRoot(cA),cC!=null&&cC.$==1?{$:1,$0:new bl({$:0,$0:cC.$0})}:(cD=_3.PGuiTabStrip(cA),cD!=null&&cD.$==1?{$:1,$0:(cE=cD.$0,new bl({$:4,$0:cE[0],$1:cE[1]}))}:(cF=_3.PGuiSplit(cA),cF!=null&&cF.$==1?{$:1,$0:new bl({$:3,$0:cF.$0[0],$1:_3.toSect(cF.$0[1]),$2:cF.$0[2],$3:cF.$0[3],$4:cF.$0[4],$5:cF.$0[5],$6:cF.$0[6],$7:cF.$0[7]})}:(cG=_3.PGuiCall(cA),cG!=null&&cG.$==1?{$:1,$0:new bl({$:5,$0:cG.$0[0],$1:cG.$0[1],$2:cG.$0[2]})}:null))));}cy=this;try{function cz(cA,cB){var cC;cC=cx(cB);return cC==null?null:{$:1,$0:[cA,{$:1,$0:cB},cC.$0]};}cv=this.AddNewSteps(ct,cu===""?[]:bU.choose(function(cA){return cz(cA[0],cA[1]);},((ci.DecodeArray(ci.DecodeTuple([ci.Id(),bE.j$7])))())(bW.parse(cu))));}catch(cA){cv=(function(cB){return function(cC){return cB("Error: "+bL.prettyPrint(cC));};}(function(cB){bQ.log(cB);}))(cA);}},AddNewSteps:function(ct,cu){var cv;function cw(cy,cz,cA){var cB,cC;if(cv.parts.ContainsKey(cy)){cB=cv.parts.get_Item(cy);cC=cB[0];bV.Equals((cC.RVal())[0],cz)?_0.iter(a.ignore,_0.apply(new _0({$:0,$0:cA}),cB[2])):cC.set_RVal([cz,cA]);}else cv.AddNode(cy,cz,cA);}function cx(cy,cz){return bO.last(cz);}cv=this;bU.iter(function(cy){return cw(cy[0],cy[1],cy[2]);},bU.map(function(cy){return cx(cy[0],cy[1]);},bU.groupBy(function(cy){return a.id(cy[0],cy[1],cy[2]);},ct.concat(cu))));},get_Render:function(){function ct(cu){var cv;cv=cu.RVal();return cv[1].$==0?{$:1,$0:cv[1].$0}:null;}return this.GetNode(d.defaultValue("main",bO.tryPick(function(cu){return ct(_3.t1of3.apply(null,cu));},this.parts.get_Values())));},GetNode:function(ct){var cu;cu=null;return this.parts.TryGetValue(ct,{get:function(){return cu;},set:function(cv){cu=cv;}})?_3.t2of3(cu[0],cu[1],cu[2]):this.AddNode(ct,bo.get_New(),new bl({$:1,$0:Z.div([Z.htmlText((function(cv){return function(cw){return cv("GuiPart "+bL.toSafe(cw)+" not found");};}(a.id))(ct))])}));},AddNode:function(ct,cu,cv){var cw,cx,cy,cz;function cA(cB,cC){return cC.GetHtmlNode(cw,ct);}cw=this;cx=ca.Create$1([cu,cv]);cy=_0.map(function(cB){return cA(cB[0],cB[1]);},cx);cz=new _2({$:5,$0:_0.map(function(cB){return cB[0];},cy)});this.parts.Add(ct,[cx,cz,_0.map(function(cB){return cB[1];},cy)]);return cz;},GetCallButton:function(ct,cu,cv){var cw;cw=h.Success(this.GetGuiCallAction(ct,cu,cv));return cw.$==1?Z.div([Z.htmlText(bM.concat(". ",h.msgs2String(cw.$0)))]):cw.$0[0].get_Button().get_Render();},GetGuiCallAction:function(ct,cu,cv){var cw;return this.parts.ContainsKey(cu)?(cw=(this.parts.get_Item(cu))[0].RVal(),cw[1].$==2?h.succeed(cw[1].$0.Text(ct).Parms(bU.map(a.id,cv))):h.failSimpleError((function(cx){return function(cy){return cx("GuiPart "+bL.toSafe(cy)+" is not a GuiAction");};}(a.id))(cu))):h.failSimpleError((function(cx){return function(cy){return cx("GuiAction "+bL.toSafe(cy)+" not found");};}(a.id))(cu));}},null,bp);bp.New$1=function(ct){var cu;function cv(cw,cx,cy){cu.AddNode(cw,cx,cy);}cu=bp.New(new bS.New$5(),new bS.New$5());bO.iter(function(cw){return cv(cw[0],cw[1],cw[2]);},ct);return cu;};bp.AddGuids=function(ct){function cu(cv,cw){return[cv,cw.$==2?bo.get_New():cw.$==0?{$:2,$0:cw.$0}:cw.$==3?{$:4,$0:cw.$0,$1:cw.$1,$2:cw.$2,$3:cw.$4,$4:cw.$5}:cw.$==4?{$:3,$0:cw.$0,$1:cw.$1}:cw.$==5?{$:5,$0:cw.$0,$1:cw.$1,$2:cw.$2}:bo.get_New(),cw];}return bU.ofSeq(bO.map(function(cv){return cu(cv[0],cv[1]);},ct));};bp.New=function(ct,cu){return new bp({parts:ct,tabStrips:cu});};_3.varVerSplitter=function(ct,cu,cv,cw,cx){return new bl({$:3,$0:true,$1:be.StVariable,$2:true,$3:ct,$4:cu,$5:cv,$6:cw,$7:cx});};_3.varHorSplitter=function(ct,cu,cv,cw,cx){return new bl({$:3,$0:true,$1:be.StVariable,$2:false,$3:ct,$4:cu,$5:cv,$6:cw,$7:cx});};_3.fixedVerSplitter=function(ct,cu,cv,cw){return new bl({$:3,$0:ct,$1:be.StFixedPx,$2:true,$3:cu,$4:cv,$5:cw,$6:5,$7:95});};_3.fixedHorSplitter=function(ct,cu,cv,cw){return new bl({$:3,$0:ct,$1:be.StFixedPx,$2:false,$3:cu,$4:cv,$5:cw,$6:5,$7:95});};_3.t3of3=function(ct,cu,cv){return cv;};_3.t2of3=function(ct,cu,cv){return cu;};_3.t1of3=a.id;_3.toSect=function(ct){return ct==="StVariable"?be.StVariable:ct==="StFixedPx"?be.StFixedPx:be.StFixedPerc;};_3.PGuiCall=function(ct){return ct.GuiCall;};_3.PGuiNode=function(ct){return ct.GuiNode;};_3.PGuiRoot=function(ct){return ct.GuiRoot;};_3.PGuiSplit=function(ct){return ct.GuiSplit;};_3.PGuiTabStrip=function(ct){return ct.GuiTabStrip;};_3.PHtmlGuiCall=function(ct){return ct.HtmlGuiCall;};_3.PHtmlGuiPart=function(ct){return ct.HtmlGuiPart;};_3.PHtmlEmptyF=function(ct){return ct.HtmlEmptyF;};_3.PHtmlTextF=function(ct){return ct.HtmlTextF;};_3.PHtmlAttributeOF=function(ct){return ct.HtmlAttributeOF;};_3.PHtmlAttributeF=function(ct){return ct.HtmlAttributeF;};_3.PHtmlElementF=function(ct){return ct.HtmlElementF;};_3.addValue=function(ct,cu,cv){cv.Remove(ct);cv.Add(ct,cu);};_3.processLayoutSteps=function(ct,cu){var cv;return d.defaultValue(cu,(cv=bO.tryHead(ct),cv==null?null:{$:1,$0:_3.processLayoutSteps(bO.skip(1,ct),cu.Add(cv.$0[0],cv.$0[1]))}));};_3.HtmlGuiCall=function(ct,cu,cv){return new bl({$:5,$0:ct,$1:cu,$2:cv});};_3.Do2=function(ct,cu,cv,cw,cx){return ct(cv,cu);};_3.Do=function(ct,cu,cv,cw){return ct(cu);};_3.navbar=function(ct,cu,cv){return Z.div([Z["class"]("navbar navbar-default"),Z.div([Z["class"]("container-fluid"),Z.div([Z["class"]("navbar-header"),Z.div([Z["class"]("navbar-brand"),ct])]),Z.div([Z["class"]("navbar-collapse collapse"),cu,Z.addClass("navbar-right",cv)])])]);};_3.dropdown=function(ct){return _3.entries(ct,"dropdown-menu");};_3.nav=function(ct){return _3.entries(ct,"nav navbar-nav");};_3.entries=function(ct,cu){return Z.addClass(cu,Z.ul(ct));};_3.entryTxt=function(ct,cu,cv){return _3.menuEntry(_3.refText(ct,cu,cv));};_3.refText=function(ct,cu,cv){return Z.bindHElem(function(cw){return cw===""?_2.HtmlEmpty:_3.refA(Z.htmlText(cw),cw,cv);},ct);};_3.refA=function(ct,cu,cv){return Z.a([ct,Z.hrefO(cv),Z.target(cu)]);};_3.menuEntry=function(ct){return Z.li([ct]);};_3.RaiseTabMoved=function(ct,cu){var cv;cv=_3.TabMoved();cv==null?void 0:cv.$0([ct,cu]);};_3.TabMoved=function(){bD.$cctor();return bD.TabMoved;};_3.set_TabMoved=function(ct){bD.$cctor();bD.TabMoved=ct;};_3.setSelectedPanel=function(ct,cu){ca.Set(_3.selectedPanels(),cu==null?_3.selectedPanels().c.Remove(ct):_3.selectedPanels().c.Add(ct,cu.$0));};_3.selectedPanels=function(){bD.$cctor();return bD.selectedPanels;};_3.uid2s=function(ct){return"X"+bM.Replace(a.String(ct),"-","");};_3.draggedTab=function(){bD.$cctor();return bD.draggedTab;};_3.reorderArray=function(ct,cu,cv){return bU.collect(a.id,cv<cu?[b3.array(ct,{$:1,$0:0},{$:1,$0:cv-1}),[bU.get(ct,cu)],b3.array(ct,{$:1,$0:cv},{$:1,$0:cu-1}),b3.array(ct,{$:1,$0:cu+1},{$:1,$0:bU.length(ct)-1})]:[b3.array(ct,{$:1,$0:0},{$:1,$0:cu-1}),b3.array(ct,{$:1,$0:cu+1},{$:1,$0:cv}),[bU.get(ct,cu)],b3.array(ct,{$:1,$0:cv+1},{$:1,$0:bU.length(ct)-1})]);};_3.reorderList=function(ct,cu,cv){return cv<cu?bN.append(ct.GetSlice({$:1,$0:0},{$:1,$0:cv-1}),bN.append(bN.ofArray([ct.get_Item(cu)]),bN.append(ct.GetSlice({$:1,$0:cv},{$:1,$0:cu-1}),ct.GetSlice({$:1,$0:cu+1},{$:1,$0:ct.get_Length()-1})))):bN.append(ct.GetSlice({$:1,$0:0},{$:1,$0:cu-1}),bN.append(ct.GetSlice({$:1,$0:cu+1},{$:1,$0:cv}),bN.append(bN.ofArray([ct.get_Item(cu)]),ct.GetSlice({$:1,$0:cv+1},{$:1,$0:ct.get_Length()-1}))));};_3.addResizeObserver=function(ct,cu){var cv,cw,cx,cy;try{cv=!(!a.ResizeObserver);}catch(cz){cv=false;}if(cv){cw=new a.ResizeObserver(ct);_3.set_observers(new bN.T({$:1,$0:cw,$1:_3.observers()}));cw.observe(cu);}else{cx=_3.dimsChanged(cu);bP.Start((cy=null,bP.Delay(function(){return bP.While(function(){return cu.isConnected;},bP.Delay(function(){return bP.Bind(bP.Sleep(110),function(){return cx()?(ct(),bP.Zero()):bP.Zero();});}));})),null);}};_3.dimsChanged=function(ct){var cu;cu=ct.getBoundingClientRect();return function(){var cv;cv=ct.getBoundingClientRect();return bV.Equals(_3.domRect2Tuple(cu),_3.domRect2Tuple(cv))?false:(cu=cv,true);};};_3.domRect2Tuple=function(ct){return[ct.top,ct.left,ct.width,ct.height];};_3.observers=function(){bD.$cctor();return bD.observers;};_3.set_observers=function(ct){bD.$cctor();bD.observers=ct;};_3.setLint=function(ct,cu){ct.setOption("lint",{async:1,getAnnotations:bJ.CreateFuncWithArgs(cu),container:Z.findRootElement(ct.getWrapperElement())});};_3.showHints=function(ct,cu,cv,cw){var cx;cx=bb.New(bJ.CreateFuncWithArgs(cu),cv,Z.findRootElement(ct.getWrapperElement()));cx.hint.async=1;ct.showHint(cx);};_3.cmPos=function(ct,cu){return _8.New(ct,cu);};_3.codeMirrorIncludes=function(){bD.$cctor();return bD.codeMirrorIncludes;};_3.hoverable=function(ct){return _6.get_New().Content(ct);};br=bq.RunNode=bJ.Class({createBaseNode:function(){var ct;ct=a.document.createElement("div");ct.setAttribute("id",this.nodeName);a.document.body.appendChild(ct);return ct;},createNode:function(){var ct;ct=a.document.createElement("div");ct.style="height: 100%; width: 100%;";return ct;},RunHtml:function(ct){this.RunDoc((Z.renderDoc())(ct));},RunDoc:function(ct){b8.Run(this.get_RunNode(),ct);},get_AddBootstrap:function(){var ct;ct=a.document.createElement("div");ct.innerHTML="<script src='http://code.jquery.com/jquery-3.1.1.min.js' type='text/javascript' charset='UTF-8'></script>\n                <script src='http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js' type='text/javascript' charset='UTF-8'></script>\n                <link type='text/css' rel='stylesheet' href='http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css'>\n                <link type='text/css' rel='stylesheet' href='/EPFileX/css/main.css'>\n               ";this.runNode.parentElement.appendChild(ct);return this;},get_RunNode:function(){return this.runNode;}},bK.Obj,br);br.New=bJ.Ctor(function(ct){br.New$1.call(this,"TestNode",ct);},br);br.New$1=bJ.Ctor(function(ct,cu){var cv,cw,cx,cy,cz;this.nodeName=ct;cv=(cw=a.document.getElementById(this.nodeName),bV.Equals(cw,null)?this.createBaseNode():cw);this.runNode=(cx=cv.shadowRoot,bV.Equals(cx,null)?(cy=this.createNode(),(cv.attachShadow({mode:"open"}).appendChild(cy),cz=this.createNode(),cy.appendChild(cz),cz)):cx.firstChild);cu==null||cu.$0?this.runNode.innerHTML="":void 0;},br);bq.completeJS=function(ct){return"\n          CIPHERSpaceLoadFileGlobalFileRef = null;\n          CIPHERSpaceLoadFile = function (filename, callback) {\n              if (filename.slice(-3) == \".js\" || filename.slice(-4) == \".fsx\" || filename.slice(-3) == \".fs\") { //if filename is a external JavaScript file\n                  var fileRef = null;\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\n                  if (!pre) {\n                      fileRef = document.createElement('script')\n                      fileRef.setAttribute(\"type\", \"text/javascript\")\n                      fileRef.setAttribute(\"src\", filename)\n                  }\n                  else callback();\n              }\n              else if (filename.slice(-4) == \".css\") { //if filename is an external CSS file\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\n                  if (!pre) {\n                      fileRef = document.createElement(\"link\")\n                      fileRef.setAttribute(\"rel\", \"stylesheet\")\n                      fileRef.setAttribute(\"type\", \"text/css\")\n                      fileRef.setAttribute(\"href\", filename)\n                  }\n                  else callback();\n              }\n              else if (filename.slice(-5) == \".html\") { //if filename is an external HTML file\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\n                  if (!pre) {\n                      fileRef = document.createElement(\"link\")\n                      fileRef.setAttribute(\"rel\", \"import\")\n                      fileRef.setAttribute(\"type\", \"text/html\")\n                      fileRef.setAttribute(\"href\", filename)\n                  }\n                  else callback();\n              }\n              if (!!fileRef) {\n                  CIPHERSpaceLoadFileGlobalFileRef = fileRef;\n      \u0009\u0009\u0009fileRef.onload = function () { fileRef.onload = null;  callback(); }\n                  document.getElementsByTagName(\"head\")[0].appendChild(fileRef);\n              }\n          }\n          CIPHERSpaceLoadFiles = function (files, callback) {\n              var newCallback = callback\n              if (!!CIPHERSpaceLoadFileGlobalFileRef && !!(CIPHERSpaceLoadFileGlobalFileRef.onload)) {\n                  var oldCallback = CIPHERSpaceLoadFileGlobalFileRef.onload;\n                  CIPHERSpaceLoadFileGlobalFileRef.onload = null;\n                  newCallback = function () {\n                      callback();\n                      oldCallback();\n                  }\n              }\n              var i = 0;\n              loadNext = function () {\n                  if (i < files.length) {\n                      var file = files[i];\n                      i++;\n                      CIPHERSpaceLoadFile(file, loadNext);\n                  }\n                  else newCallback();\n              };\n              loadNext();\n      \u0009}\n          CIPHERSpaceLoadFiles(['https://code.jquery.com/jquery-3.1.1.min.js'], function() {}); \n      \u0009CIPHERSpaceLoadFilesDoAfter = function (callback) {\n      \u0009\u0009var newCallback = callback\n      \u0009\u0009if (!!CIPHERSpaceLoadFileGlobalFileRef) {\n      \u0009\u0009\u0009if (!!(CIPHERSpaceLoadFileGlobalFileRef.onload)) {\n      \u0009\u0009\u0009\u0009var oldCallback = CIPHERSpaceLoadFileGlobalFileRef.onload;\n      \u0009\u0009\u0009\u0009CIPHERSpaceLoadFileGlobalFileRef.onload = null;\n      \u0009\u0009\u0009\u0009newCallback = function () {\n      \u0009\u0009\u0009\u0009\u0009oldCallback();\n      \u0009\u0009\u0009\u0009\u0009callback();\n      \u0009\u0009\u0009\u0009}\n      \u0009\u0009\u0009}\n      \u0009\u0009}\n      \u0009\u0009else CIPHERSpaceLoadFileGlobalFileRef = {};\n      \u0009\u0009CIPHERSpaceLoadFileGlobalFileRef.onload = newCallback;\n      \u0009}\n      \n      CIPHERSpaceLoadFilesDoAfter(function() { \n        if (typeof IntelliFactory !=='undefined')\n          IntelliFactory.Runtime.Start();\n        for (key in window) { \n          if (key.startsWith(\"StartupCode$\")) \n            try { window[key].$cctor(); } catch (e) {} \n        } \n      })\n      \n                       "+ct;};bu.NewBrowser={$:3};bu.Tab={$:2};bu.Right={$:1};bu.Below={$:0};bv=bt.ErrCompiler=bJ.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return this.$==0&&!this.$1;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return this.$==0?(function(ct){return function(cu){return ct(bL.toSafe(cu));};}(a.id))(this.$0):(function(ct){return function(cu){return ct(bH.p$2(cu));};}(a.id))(this);}},null,bv);bv["Could not open new browser, Popup blocker may be active"]=new bv({$:2});bv["Snippet Missing"]=new bv({$:1});bw.New=function(ct,cu,cv,cw){return{F2:ct,LeftDoubleClick:cu,"Ctrl-Space":cv,".":cw};};bx=bt.Property=bJ.Class({setV:function(ct){this.props.set_Item(this.key,ct);this.setDirty();},getV:function(){return this.props.get_Item(this.key);},setK:function(ct){this.props.Add(ct,this.props.get_Item(this.key));this.props.Remove(this.key);this.key=ct;this.setDirty();},getK:function(){return this.key;},Remove:function(){this.props.Remove(this.key);this.setDirty();},get_SetV:function(){var ct;ct=this;return function(cu){ct.setV(cu);};},get_GetV:function(){var ct;ct=this;return function(){return ct.getV();};},get_SetK:function(){var ct;ct=this;return function(cu){ct.setK(cu);};},get_GetK:function(){var ct;ct=this;return function(){return ct.getK();};},get_ValueVar:function(){return new by.New(this);},get_KeyVar:function(){return this;},RView:function(){return b7.Const(this.getK());},RUpdM:function(ct){var cu;cu=ct(this.getK());cu==null?void 0:this.setK(cu.$0);},RUpd:function(ct){this.setK(ct(this.getK()));},RVal:function(){return this.getK();},RGet:function(){return this.getK();},set_RVal:function(ct){this.setK(ct);},RSet:function(ct){this.setK(ct);},RId:function(){return"?";}},bK.Obj,bx);bx.New=bJ.Ctor(function(ct,cu,cv){this.setDirty=ct;this.props=cu;this.key=cv;},bx);by=bt.PropValue=bJ.Class({RView:function(){return b7.Const(this.get());},RUpdM:function(ct){var cu;cu=ct(this.get());cu==null?void 0:this.set(cu.$0);},RUpd:function(ct){this.set(ct(this.get()));},RVal:function(){return this.get();},RGet:function(){return this.get();},set_RVal:function(ct){this.set(ct);},RSet:function(ct){this.set(ct);},RId:function(){return"?";}},bK.Obj,by);by.New=bJ.Ctor(function(ct){this.get=ct.get_GetV();this.set=ct.get_SetV();},by);bt["CodeSnippet.propValue"]=function(ct,cu){var cv,cw;return ct.properties.ContainsKey(cu)?{$:1,$0:ct.properties.get_Item(cu)}:(cv=(cw=ct.parent,cw==null?null:bz.FetchO(cw.$0)),cv==null?null:bt["CodeSnippet.propValue"](cv.$0,cu));};bz.FetchByPathO=function(ct){function cu(cw,cx){return bO.tryHead(bO.filter(function(cy){return cy.get_Name()===cx;},cw));}function cv(cw,cx){var cy,cz,cA,cB;cy=(cz=bO.tryHead(cx),cz==null?null:cu(cw,cz.$0));return bO.length(cx)<=1?cy:cy==null?null:(cA=cy.$0,(cB=bO.tail(cx),cv(bO.filter(function(cC){return bV.Equals(cC.parent,{$:1,$0:cA.id});},(bt.codeSnippets())["var"].RVal()),cB)));}return cv(bO.filter(function(cw){return cw.parent==null;},(bt.codeSnippets())["var"].RVal()),ct);};bt["CodeSnippet.IsDescendantOf"]=function(ct,cu){function cv(cw){var cx,cy,cz;cx=cw.parent;return cx!=null&&cx.$==1&&(cy=cx.$0,bV.Equals(cy,cu)||d.defaultValue(false,(cz=bz.FetchO(cy),cz==null?null:{$:1,$0:cv(cz.$0)})));}return cv(ct);};bt["CodeSnippet.GetCodeFsx"]=function(ct,cu){return(bt["CodeSnippet.GetCodeAndStarts"](ct,cu))[0];};bt["CodeSnippet.GetCodeAndStarts"]=function(ct,cu){return r.CodeAndStarts(cu,bt["CodeSnippet.Predecessors"](ct));};bt["CodeSnippet.Predecessors"]=function(ct,cu){var cv;cv=bU.ofSeq(ct.UniquePredecessors(bz.FetchO));return bU.ofSeq(bO.map(bt["CodeSnippet.get_PrepareSnippet"],bO.filter(function(cw){return bU.contains(cw.id,cv);},(bt.codeSnippets())["var"].RVal())));};bt["CodeSnippet.get_PrepareSnippet"]=function(ct,cu){var cv;cv=bt["CodeSnippet.get_Levels"](ct);return r.New(ct.name,bM.Replace(bM.Replace(ct.content,"##"+"FSHARPSTATION_ID"+"##",bt.fsIds()),"##"+"FSHARPSTATION_ENDPOINT"+"##",a.location.href),ct.parent,ct.predecessors,ct.id,ct.expanded,cv[0],cv[1],ct.properties);};bt["CodeSnippet.get_Levels"]=function(ct,cu){function cv(cw,cx){return function(cy){var cz,cA,cB;return d.defaultValue([cw,cx],(cz=(cA=cy.parent,cA==null?null:bz.FetchO(cA.$0)),(cB=cv(cw+1,cx+(cy.properties.ContainsKey("NoIndent")?0:1)),cz==null?null:{$:1,$0:cB(cz.$0)})));};}return(function(cw){return cv(cw[0],cw[1]);}([0,0]))(ct);};bz.New=function(ct,cu,cv,cw,cx,cy){var cz,cA,cB,cC,cD;cz=r.New(cu,cy,cv,cw,q.get_New(),true,0,0,new bS.New$5());cA=bt.codeSnippets().get_Length();cA===0?bt.codeSnippets().Append(cz):ct===0?(cB=bO.append([cz],(bt.codeSnippets())["var"].RVal()),bt.codeSnippets().Set(cB)):ct<cA?(cC=(cD=bU.splitAt(ct,bU.ofSeq((bt.codeSnippets())["var"].RVal())),cD[0].concat([cz].concat(cD[1]))),bt.codeSnippets().Set(cC)):bt.codeSnippets().Append(cz);return cz;};bz.New$1=function(ct,cu,cv,cw,cx){return bz.New(bt.codeSnippets().get_Length(),ct,cu,cv,cw,cx);};bz.New$2=function(ct){return bz.New$1("",null,bN.T.Empty,bN.T.Empty,ct);};bz.New$3=function(ct,cu){return bz.New$1("",{$:1,$0:ct},bN.T.Empty,bN.T.Empty,cu);};bz.New$4=function(ct,cu,cv){return bz.New$1("",{$:1,$0:ct},cu,bN.T.Empty,cv);};bz.New$5=function(ct,cu){return bz.New$1("",null,ct,bN.T.Empty,cu);};bz.FetchL=function(ct){return b2.toList(bz.FetchO(ct));};bz.FetchO=function(ct){return bt.codeSnippets().TryFindByKey(ct);};bz.PickIO=function(ct){function cu(cv,cw){return bV.Equals(cw.id,ct);}return bt.tryPickI(function(cv){return cu(cv[0],cv[1]);},(bt.codeSnippets())["var"].RVal());};bt.tryPickI=function(ct,cu){return bO.tryHead(bO.filter(ct,bO.indexed(cu)));};bt.fsIds=function(){bD.$cctor();return bD.fsIds;};bt.codeSnippets=function(){bD.$cctor();return bD.codeSnippets;};bB=bA.Babel=bJ.Class({},bK.Obj,bB);bB.New=bJ.Ctor(function(){},bB);bC=bA.Fable=bJ.Class({},bK.Obj,bC);bC.New=bJ.Ctor(function(){},bC);bA.fableTranslate=function(ct){var cu;cu=j.wrapper();return cu.Delay(function(){var cv;bA.loadReferences().f();return cu.Bind$2((cv=null,bP.Delay(function(){return bP.While(function(){return cj.getOwnPropertyNames(a.metadata).length<bU.length(bA.references());},bP.Delay(function(){return bP.Bind(bP.Sleep(200),function(){return bP.Return(null);});}));})),function(){var cw,cx,cy,cz,cA;cw=bA.getChecker().f();cx=ck.makeCompiler([["Microsoft.FSharp.Core.ExtraTopLevelOperators.PrintFormatLine","FSSGlobal.FSharpStation.FableModule.ToConsole($0)"]]);cy="stdin.fsx";cz=bW.parse(ck.convertToJson(ck.compileAst(cx,ck.parseFSharpProject(cw,cx,cy,ct),cy)));cA=cj.create(null);cA.plugins=[a.babelPlugins.transformMacroExpressions,a.babelPlugins.removeUnneededNulls,"transform-es2015-modules-amd"];cA.presets=[];cA.filename=cy;cA.babelrc=false;return cu.Return(bM.Replace(bM.Replace(cl.transformFromAst(cz,null,cA).code,"define([","require(["),"\"use strict\";","\"use strict\"; try { exports = exports || {}; } catch (err) {}"));});});};bA.ToConsole=function(ct){bQ.log(ct);return ct.cont(bA.addOutMsg());};bA.addOutMsg=function(){bD.$cctor();return bD.addOutMsg;};bA.set_addOutMsg=function(ct){bD.$cctor();bD.addOutMsg=ct;};bA.getChecker=function(){bD.$cctor();return bD.getChecker;};bA.loadReferences=function(){bD.$cctor();return bD.loadReferences;};bA.references=function(){bD.$cctor();return bD.references;};bs.FSharpStationClient=function(ct){var cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo;function ep(gb,gc,gd,ge){return gc(ge)==null?ca.Lens(cu,function(){return gb;},function(){return"";}):gd(ge);}function eq(){ca.Set(cy,null);}function er(gb){function gc(ge){return ge.get_Name();}function gd(ge,gf){return r.New(gf,ge.content,ge.parent,ge.predecessors,ge.id,ge.expanded,ge.level,ge.levelCode,ge.properties);}return ep("",function(ge){return bt.codeSnippets().TryFindByKey(ge);},function(ge){return bt.codeSnippets().LensInto(gc,gd,ge);},gb);}function es(gb){function gc(ge){return ge.content;}function gd(ge,gf){return r.New(ge.name,gf,ge.parent,ge.predecessors,ge.id,ge.expanded,ge.level,ge.levelCode,ge.properties);}return ep("",function(ge){return bt.codeSnippets().TryFindByKey(ge);},function(ge){return bt.codeSnippets().LensInto(gc,gd,ge);},gb);}function et(gb){var gc;gc=bt["CodeSnippet.propValue"](gb,"CSS");return gc==null?null:{$:1,$0:a.id(gc.$0)};}function eu(gb){return d.defaultValue("",gb);}function ev(gb){var gc;gc=bt["CodeSnippet.propValue"](gb,"CSSLink");return gc==null?null:{$:1,$0:a.id(gc.$0)};}function ew(gb){return d.defaultValue("",gb);}function ex(gb){var gc;gc=bt["CodeSnippet.propValue"](gb,"Mode");return gc==null?null:{$:1,$0:a.id(gc.$0)};}function ey(gb){return d.defaultValue("fsharp",gb);}function ez(gb){var gc;gc=bt["CodeSnippet.propValue"](gb,"Theme");return gc==null?null:{$:1,$0:a.id(gc.$0)};}function eA(gb){return d.defaultValue("",gb);}function eB(gb){var gc;gc=bt["CodeSnippet.propValue"](gb,"Layout");return gc==null?null:{$:1,$0:a.id(gc.$0)};}function eC(gb){return d.defaultValue("",gb);}function eD(gb){var gc;gc=bt["CodeSnippet.propValue"](gb,"LayoutJS");return gc==null?null:{$:1,$0:a.id(gc.$0)};}function eE(gb){return d.defaultValue("",gb);}function eF(gb){var gc,gd,ge,gf;function gg(gi){var gj;gj=bt["CodeSnippet.propValue"](gi,gb);return gj==null?null:{$:1,$0:a.id(gj.$0)};}function gh(gi){return d.defaultValue("",gi);}gc=_0.map((gd=(ge=function(gi){return gi==null?null:gg(gi.$0);},function(gi){return ge(bz.FetchO(gi));}),function(gi){return gh(gd(gi));}),cv);gf=[ca.Create$1(null)];b7.Sink(function(gi){if(!bV.Equals(gf[0].c,gi))ca.Set(gf[0],gi);},_0.toView(gc));return new _0({$:1,$0:gf[0]});}function eG(gb,gc){return gc===""?gb:gc!=="0";}function eH(){dg=false;ca.Set(dh,true);}function eI(){da=null;eH();}function eJ(){eI();db.ClearCache();eq();}function eK(){db.ClearCache();ca.Set(dh,false);da=null;}function eL(gb,gc){var gd,ge,gf;return!gc?null:(gd=(ge=gb.RVal(),(gf=a.String(gc),ge===null?gf:ge===""?gf:gf===null?ge:gf===""?ge:ge+"\n"+gf)),gd!==gb.RVal()?gb.set_RVal(gd):null);}function eM(gb){ca.Set(df,gb);}function eN(gb){eL(df,gb);}function eO(gb){eL(de,gb);}function eP(){var gb;gb=bz.FetchO(cv.c);gb==null?void 0:ca.Set(dc,bt["CodeSnippet.GetCodeFsx"](gb.$0,true));}function eQ(gb,gc){var gd,ge,gf,gg,gh,gi,gj,gk;function gl(gm){function gn(go,gp){return bV.Equals(gp.id,gm);}return function(go){return bt.tryPickI(function(gp){return gn(gp[0],gp[1]);},go);};}gd=bU.partition(function(gm){return bV.Equals(gm.id,gc)||bt["CodeSnippet.IsDescendantOf"](gm,gc);},bU.ofSeq((bt.codeSnippets())["var"].RVal()));ge=gd[1];gf=gd[0];gg=(gl(gc))(gf);gh=(gl(gb))(ge);gg!=null&&gg.$==1?gh!=null&&gh.$==1?(gi=gh.$0[0],gj=gh.$0[1],gk=bU.collect(a.id,[b3.array(ge,{$:1,$0:0},{$:1,$0:gi-1}),gf,b3.array(ge,{$:1,$0:gi},null)]),bt.codeSnippets().Set(gk),bt.codeSnippets().UpdateBy(function(gm){return{$:1,$0:r.New(gm.name,gm.content,gj.parent,gm.predecessors,gm.id,gm.expanded,gm.level,gm.levelCode,gm.properties)};},gg.$0[1].id)):void 0:void 0;return eJ();}function eR(){var gb;gb=bz.PickIO(cv.c);gb==null?void 0:(function(gc,gd){(function(ge,gf){var gg;while(true){if(gf<0)return null;else if(ge((gg=(bt.codeSnippets())["var"].RVal(),(function(gh){return function(gi){return bO.nth(gh,gi);};}(gf))(gg))))return null;else gf=gf-1;}}(function(ge){return bV.Equals(ge.parent,gd.parent)&&(bt.codeSnippets().UpdateBy(function(gf){return{$:1,$0:r.New(gf.name,gf.content,{$:1,$0:ge.id},gf.predecessors,gf.id,gf.expanded,gf.level,gf.levelCode,gf.properties)};},gd.id),true);},gc-1));eJ();}).apply(null,gb.$0);}function eS(){var gb,gc,gd,ge,gf;gb=bz.FetchO(cv.c);gb==null?void 0:(gc=gb.$0,gd=(ge=(gf=gc.parent,gf==null?null:bz.FetchO(gf.$0)),ge==null?null:ge.$0.parent),bt.codeSnippets().UpdateBy(function(gg){return{$:1,$0:r.New(gg.name,gg.content,gd,gg.predecessors,gg.id,gg.expanded,gg.level,gg.levelCode,gg.properties)};},gc.id),eJ());}function eT(gb){var gc;gc=j.wrapper();return gc.Delay(function(){return gc.Bind$1(h.fromOption(bv["Snippet Missing"],gb),function(gd){var ge;ca.Set(df,"Compiling to JavaScript...");ca.Set(dd,"");ge=bt["CodeSnippet.GetCodeFsx"](gd,true);ca.Set(dc,ge);return gc.Bind$2(y.translateAR(ge,false),function(gf){return gc.Bind$1(gf,function(gg){var gh;gh=bq.completeJS(gg);ca.Set(dd,gh);eN("Compiled!");return gc.Return(gh);});});});});}function eU(gb){var gc;gc=a.open.apply(a,[gb]);return bV.Equals(gc,null)?h.fail(bv["Could not open new browser, Popup blocker may be active"]):h.succeed(gc);}function eV(gb,gc){return gb["eval"].apply(gb,[gc]);}function eW(gb){gb.focus.apply(gb,[]);}function eX(gb,gc){var gd;gd=j.wrapper();return gd.Delay(function(){return gd.Bind$1(h.tryProtection(),function(){return gd.Bind$1(eU(gb),function(ge){eW(ge);return gd.Bind$2(bP.Sleep(800),function(){return gd.Return(eV(ge,gc));});});});});}function eY(){return bP.FromContinuations(function(gb,gc){try{return(new br.New(null)).RunHtml(Z.createIFrame(gb));}catch(gd){return gc(gd);}});}function eZ(gb){var gc;gc=j.wrapper();return gc.Delay(function(){return gc.Bind$1(h.tryProtection(),function(){return gc.Bind$2(eY(),function(gd){var ge;ge=gd.contentWindow;ge.document.body.style.margin="0px";return gc.Return(eV(ge,gb));});});});}function e0(gb,gc,gd){var ge;ge=j.wrapper();return ge.Delay(function(){return ge.Bind$3(eT(gd),function(gf){ca.Set(df,"Running JavaScript...");return ge.Bind$3(gc.$==3?eX(gb,gf):eZ(gf),function(gg){eN(gg);eN("Done!");return ge.Return([gc,gg]);});});});}function e1(){return bz.FetchO(cv.c);}function e2(gb){var gc;gc=j.wrapper();return gc.Delay(function(){ca.Set(dc,gb);return gc.Bind$2(w.evaluateAR(bt.fsIds(),a.location.href,true,gb),function(gd){return gc.Bind$1(gd,function(){return gc.Return("");});});});}function e3(gb){var gc;gc=j.wrapper();return gc.Delay(function(){return gc.Bind$1(h.fromOption(bv["Snippet Missing"],gb),function(gd){return gc.Bind$3(e2(bt["CodeSnippet.GetCodeFsx"](gd,true)),function(ge){return gc.Bind$2((new b4.New()).Async("FSharpStation:FSSGlobal.FsEvaluator+Evaluator.addPresence:-1250306105",[(function(gf){return function(gg){return gf(bH.p$3(gg));};}(a.id))(gd.id),"ok"]),function(){return gc.Return(ge);});});});});}function e4(gb,gc,gd){var ge;ge=j.wrapper();return ge.Delay(function(){ca.Set(df,gb);return ge.Bind$3(gd(),function(gf){eN(gf);eN(gc);return ge.Return(gf);});});}function e5(gb){return e4("Evaluating F# code...","",function(){return e3(gb);});}function e6(gb){return e4("Evaluating F# code...","",function(){return e2(gb);});}function e7(gb){var gc;gc=j.wrapper();return gc.Delay(function(){ca.Set(dc,gb);return gc.Bind$3(bA.fableTranslate(gb),function(gd){ca.Set(dd,gd);a["eval"](gd);return gc.Return("");});});}function e8(gb){var gc;gc=j.wrapper();return gc.Delay(function(){return gc.Bind$1(h.fromOption(bv["Snippet Missing"],gb),function(gd){return gc.ReturnFrom(e7(bt["CodeSnippet.GetCodeFsx"](gd,false)));});});}function e9(gb){return e4("Running Fable...","Done!",function(){return e8(gb);});}function e_(gb){return e4("Running Fable...","Done!",function(){return e7(gb);});}function e$(gb){var gc;gc=e1();return(dj(gb))(gc);}function fa(gb,gc){return d.defaultValue(false,gc==null?null:{$:1,$0:bN.contains(gb,gc.$0.predecessors)});}function fb(gb,gc){return gc.Contains(gb);}function fc(gb,gc){var gd,ge,gf,gg;return gc==null?null:(gd=gc.$0,bV.Equals(gd,gb)||fb(gd.id,new cm.New$2(gb.UniquePredecessors(bz.FetchO)))?null:(ge=(bN.contains(gb.id,gd.predecessors)?(gf=(gg=gb.id,function(gh){return!bV.Equals(gg,gh);}),function(gh){return bN.filter(gf,gh);}):function(gh){return new bN.T({$:1,$0:gb.id,$1:gh});})(gd.predecessors),(bt.codeSnippets().UpdateBy(function(gh){return{$:1,$0:r.New(gh.name,gh.content,gh.parent,ge,gh.id,gh.expanded,gh.level,gh.levelCode,gh.properties)};},gd.id),eJ())));}function fd(gb){bt.codeSnippets().UpdateBy(function(gc){return{$:1,$0:r.New(gc.name,gc.content,gc.parent,gc.predecessors,gc.id,!gc.expanded,gc.level,gc.levelCode,gc.properties)};},gb.id);eq();}function fe(gb,gc,gd){var ge,gf,gg,gh;return _6.get_New().Content$1([Z["class"]("code-editor-list-tile"),Z.classIf("selected",_0.map((ge=gd.id,function(gi){return bV.Equals(ge,gi);}),cv)),Z.classIf("direct-predecessor",_0.map((gf=gd.id,function(gi){return fa(gf,gi);}),cz)),Z.classIf("indirect-predecessor",_0.map((gg=gd.id,function(gi){return fb(gg,gi);}),dl)),Z.draggable("true"),new _2({$:7,$0:b_.Handler("dragover",function(){return function(gi){return gi.preventDefault();};})}),new _2({$:7,$0:b_.Handler("drag",function(){return function(){di=gd.id;};})}),new _2({$:7,$0:b_.Handler("drop",function(){return function(gi){gi.preventDefault();return eQ(gd.id,di);};})}),Z.span([Z["class"]("node"),Z.classIf("parent",gb),Z.classIf("expanded",gc),new _2({$:7,$0:b_.Handler("click",function(){return function(){return gb?fd(gd):null;};})}),Z.title(gb?gc?"collapse":"expand":""),Z.htmlText(gb?gc?"-":"+":"")]),Z.div([Z["class"]("code-editor-list-text"),Z.style1("text-indent",(gh=(bt["CodeSnippet.get_Levels"](gd))[0],(function(gi){return function(gj){return gi(a.String(gj)+"em");};}(a.id))(gh))),Z.style("white-space: pre"),Z.htmlText(_0.map2(function(gi){return function(gj){return o.snippetName(gi,gj);};},er(gd.id),es(gd.id))),new _2({$:7,$0:b_.Handler("click",function(){return function(){return ca.Set(cv,gd.id);};})})]),Z.span([Z["class"]("predecessor"),Z.title("toggle predecessor"),new _2({$:7,$0:b_.Handler("click",function(){return function(){return _0.iter(function(gi){return fc(gd,gi);},cz);};})}),Z.htmlText("X")])]);}function ff(gb,gc){return!gc?gb:gc;}function fg(gb){return new q({$:0,$0:!gb?"00000000-0000-0000-0000-000000000000":gb.Item});}function fh(gb){return!gb?null:{$:1,$0:fg(gb)};}function fi(gb){var gc;function gd(gf,gg){gc.Add(gf,gg);}function ge(gf,gg){return[gf,gg];}gc=new bS.New$5();return!gb?gc:(bO.iter(function(gf){return gd(gf[0],gf[1]);},bU.map(function(gf){return ge(gf[0],gf[1]);},co.GetFields(gb))),gc);}function fj(gb){var gc;try{gc=bW.parse(gb);((function(gd){return function(ge){return gd(bL.prettyPrint(ge));};}(function(gd){bQ.log(gd);}))(gc.length));return bU.choose(function(gd){return!gd?null:{$:1,$0:r.New(ff("",gd.name),ff("",gd.content),fh(gd.parent),bN.ofSeq(bU.map(fg,ff([],gd.predecessors))),fg(gd.id),ff(false,gd.expanded),ff(0,gd.level),ff(0,gd.levelCode),fi(gd.properties))};},gc);}catch(gd){return[];}}function fk(){var gb,gc,gd;function ge(gf,gg){var gh;return d.defaultValue(gg,(gh=bO.tryItem(gg,(bt.codeSnippets())["var"].RVal()),gh==null?null:{$:1,$0:(bt["CodeSnippet.get_Levels"](gh.$0))[0]<=gf?gg:ge(gf,gg+1)}));}ca.Set(cv,d.defaultWith(function(){return bz.New$2("");},(gb=bz.PickIO(cv.c),gb==null?null:{$:1,$0:(gc=gb.$0[0],(gd=gb.$0[1],bz.New(ge((bt["CodeSnippet.get_Levels"](gd))[0],gc+1),"",gd.parent,bN.T.Empty,bN.T.Empty,"")))})).id);eI();eq();}function fl(){var gb,gc;gb=bz.FetchO(cv.c);gb==null?void 0:(gc=gb.$0,a.confirm((function(gd){return function(ge){return gd("Do you want to delete "+bL.toSafe(ge)+"?");};}(a.id))(gc.get_Name()))?(ca.Set(cv,q.get_New()),bt.codeSnippets().Remove(gc),eI(),eq()):void 0);}function fm(gb){return bO.last(bM.SplitChars(gb,["/","\\"],0));}function fn(gb,gc){var gd,ge;gd=gb.files;return gd.length>0?(ge=new a.FileReader(),(ge.onload=function(gf){return gc(gf.target.result);},ge.readAsText(gd.item(0)))):null;}function fo(gb){var gc;try{gc=fj(gb);bt.codeSnippets().Set(gc);eK();eq();}catch(gd){a.alert(a.String(gd));}}function fp(gb){if(!dh.c||a.confirm("Changes have not been saved, do you really want to load?"))fn(Z.findRootElement(gb).querySelector("#"+_do),fo);}function fq(){var gb,gc;a.saveAs(new a.Blob([(gb=bU.ofSeq((bt.codeSnippets())["var"].RVal()),bW.stringify(((ci.EncodeArray(bF.j$3))())(gb)))],{type:"text/plain;charset=utf-8"}),(gc=fm(dn.c),gc===""?"snippets.fsjson":gc));eK();}function fr(gb,gc){return Z.findRootElement(gb).querySelector("#"+_do).click();}function fs(gb,gc,gd){var ge,gf,gg,gh,gi,gj,gk,gl;ge=da!=null&&da.$==1&&((gg=da.$0[1],bV.Equals(da.$0[0],gc.id)&&bV.Equals(gg,gd))&&(gf=[da.$0[1],da.$0[0],da.$0[2]],true))?(gb("Reparsing..."),[gf[2],bt["CodeSnippet.get_PrepareSnippet"](gc)]):(gb("Parsing..."),gh=bt["CodeSnippet.Predecessors"](gc),gi=r.ReducedCode(gd,b3.array(gh,{$:1,$0:0},{$:1,$0:bU.length(gh)-2})),gj=bU.get(gh,bU.length(gh)-1),da={$:1,$0:[gj.id,gd,gi]},[gi,gj]);gk=r.ReducedCode(gd,[ge[1]]);gl=(function(gm){var gn,go,gp,gq,gr,gs;gn=gm[0];go=gm[1];gp=gm[2];gq=gm[3];gr=gm[4];gs=gm[5];return function(gt){return r.AddSeps(gn,go,gp,gq,gr,gs,gt[0],gt[1],gt[2],gt[3],gt[4],gt[5]);};}(ge[0]))(gk);return r.FinishCode(gd,gl[0],gl[1],gl[2],gl[3],gl[4],gl[5]);}function ft(gb){var gc;function gd(ge){if(!gb)ca.Set(de,ge);}gc=null;return bP.Delay(function(){var ge,gf,gg;ge=bz.FetchO(cv.c);return ge!=null&&ge.$==1?(gf=ge.$0,(gg=du+1,(du=gg,bP.Combine(bP.While(function(){return dv;},bP.Delay(function(){return bP.Bind(bP.Sleep(1000),function(){return bP.Return(null);});})),bP.Delay(function(){return du!==gg?bP.Zero():bP.TryFinally(bP.Delay(function(){var gh;dv=true;dg=true;gh=fs(gd,gf,false);return bP.Bind(dr.Parse$1(ds,gh[0],gh[1]),function(gi){return!gb&&gg===du&&dg?(eO(gi),eO("Parsed!"),bP.Zero()):bP.Zero();});}),function(){dv=false;});}))))):bP.Zero();});}function fu(gb){var gc;gc=null;return bP.Delay(function(){return!dg?bP.Return(true):bP.Bind(dr.MustParse(ds,gb.get_NameSanitized()),function(gd){return bP.Return(gd);});});}function fv(gb){var gc;gc=null;return bP.Delay(function(){return bP.Bind(dt,function(gd){var ge;return gd?bP.Zero():(ge=bz.FetchO(cv.c),ge!=null&&ge.$==1?bP.Bind(fu(ge.$0),function(gf){return gf?bP.Bind(ft(gb),function(){return bP.Return(null);}):bP.Zero();}):bP.Zero());});});}function fw(gb,gc){var gd,ge;gd=c.REGEX("([a-zA-Z_]\\w*)$","g",bM.Substring(gb,0,gc));return gd!=null&&gd.$==1?(ge=gd.$0,ge&&bU.length(ge)===1)?bU.get(gd.$0,0):"":"";}function fx(gb,gc){var gd,ge;gd=c.REGEX("^([a-zA-Z_]\\w*)","g",gb.substring(gc));return gd!=null&&gd.$==1?(ge=gd.$0,ge&&bU.length(ge)===1)?bU.get(gd.$0,0):"":"";}function fy(gb){var gc;bP.Start((gc=null,bP.Delay(function(){return bP.Bind(dt,function(gd){var ge,gf;return gd?bP.Zero():(ge=bz.FetchO(cv.c),ge!=null&&ge.$==1?(gf=ge.$0,bP.Bind(fv(false),function(){var gg,gh,gi,gj,gk;gg=gb.getCursor();gh=gb.getLine(gg.line);gi=bM.length(fw(gh,gg.ch));gj=bM.length(fx(gh,gg.ch));gk=gi===0&&gj===0?2:gj;return bP.Bind(dr.ToolTip(ds,gg.line+1,gg.ch+1,gf.get_NameSanitized()),function(gl){var gm;eO(((((gm=(bJ.Curried(function(gn,go,gp,gq,gr){return gn("InfoFSharp \""+bL.toSafe(go)+" "+("("+bL.prettyPrint(gp[0])+", "+bL.prettyPrint(gp[1])+")")+" - "+("("+bL.prettyPrint(gq[0])+", "+bL.prettyPrint(gq[1])+")")+" "+bL.toSafe(gr)+" \"");},5))(a.id),function(gn){var go;go=gm(gn);return function(gp){var gq;gq=go([gp[0],gp[1]]);return function(gr){return gq([gr[0],gr[1]]);};};})(gf.get_NameSanitized()))([gg.line+1,gg.ch-gi+1]))([gg.line+1,gg.ch+gk+1]))(bM.Replace(gl,"\"","''")));return bP.Zero();});})):bP.Zero());});})),null);}function fz(gb,gc,gd,ge){var gf;bP.Start((gf=null,bP.Delay(function(){var gg,gh;gg=bz.FetchO(cv.c);return gg!=null&&gg.$==1?(gh=gg.$0,(function(gi){return gi("calling parseIfMustThen");}(function(gi){bQ.log(gi);}),bP.Bind(fv(false),function(){var gi;function gj(gk,gl,gm,gn,go,gp,gq,gr,gs){var gt;return bM.StartsWith(gk,gh.id.get_Text())||gk===o.sanitize(gh.name)?(gt=a.Number(gl)>0?a.Number(gl):0,{$:1,$0:bc.New(gs,bM.StartsWith(gq.toUpperCase(),"ERR")?"error":bM.StartsWith(gq.toUpperCase(),"INFO")?"info":"warning",_3.cmPos(gm-1,gn-1-gt),_3.cmPos(go-1,gp-1-gt))}):null;}gc(bU.choose(function(gk){return gj(gk[0],gk[1],gk[2],gk[3],gk[4],gk[5],gk[6],gk[7],gk[8]);},bU.choose(function(gk){var gl,gm,gn,go,gp,gq,gr,gs;return(gm=c.REGEX(dx,"",gk),gm!=null&&gm.$==1&&((gn=gm.$0,gn&&bU.length(gn)===13)&&(gl=[bU.get(gm.$0,8),bU.get(gm.$0,5),bU.get(gm.$0,7),bU.get(gm.$0,2),bU.get(gm.$0,4),bU.get(gm.$0,11),bU.get(gm.$0,1),bU.get(gm.$0,10),bU.get(gm.$0,9)],true)))?{$:1,$0:[gl[1],gl[4],a.Number(gl[2]),a.Number(gl[0]),a.Number(gl[8]),a.Number(gl[7]),gl[6],gl[3],gl[5]]}:(gp=c.REGEX(dw,"",gk),gp!=null&&gp.$==1&&((gq=gp.$0,gq&&bU.length(gq)===8)&&(go=[bU.get(gp.$0,4),bU.get(gp.$0,2),bU.get(gp.$0,3),bU.get(gp.$0,1),bU.get(gp.$0,6),bU.get(gp.$0,5)],true)))?(gr=go[0],(gs=go[2],{$:1,$0:[go[1],go[3],a.Number(gs),a.Number(gr)-1,a.Number(gs),a.Number(gr),go[5],"fsi",go[4]]})):null;},(gi=c.REGEX(dy,"g",de.c),gi!=null&&gi.$==1?gi.$0:[]))));return bP.Zero();}))):bP.Zero();})),null);}function fA(gb){var gc;dz((gc=null,bP.Delay(function(){(function(gd){return gd("before delaying");}(function(gd){bQ.log(gd);}));return bP.Bind(bP.Sleep(400),function(){(function(gd){return gd("calling getAnnotations");}(function(gd){bQ.log(gd);}));fz.apply(null,gb);return bP.Zero();});})));}function fB(gb,gc,gd){var ge;dz((ge=null,bP.Delay(function(){return bP.Bind(dt,function(gf){var gg,gh;return gf?bP.Zero():(gg=bz.FetchO(cv.c),gg!=null&&gg.$==1?(gh=gg.$0,bP.Bind(fv(true),function(){var gi,gj,gk;gi=gb.getCursor();gj=gb.getLine(gi.line);gk=fw(gj,gi.ch);return bP.Bind(dr.Complete(ds,gj+"a",gi.line+1,gi.ch+1,gh.get_NameSanitized()),function(gl){function gm(gn,go,gp,gq){return $.New(go,gq+"| "+gn,gp);}gc(ba.New(bU.map(function(gn){return gm(gn[0],gn[1],gn[2],gn[3]);},gl),_8.New(gi.line,gi.ch-gk.length),gi));return bP.Zero();});})):bP.Zero());});})));}function fC(gb){var gc,gd,ge;gc=(gd=gb.parent,gd==null?null:bz.FetchO(gd.$0));gc==null?void 0:(ge=gc.$0,fC(ge),!ge.expanded?fd(ge):void 0);}function fD(gb,gc,gd){var ge;return bP.Start((ge=null,bP.Delay(function(){var gf;ca.Set(cv,gb);gf=bz.FetchO(gb);gf==null?void 0:fC(gf.$0);return bP.Bind(bP.Sleep(200),function(){var gg,gh;gg=dA.editorO;gg==null?void 0:(gh=gg.$0,gh.setCursor(gc-1,gd-1),gh.focus());return bP.Zero();});})),null);}function fE(gb){var gc,gd,ge;gc=c.REGEX("([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}).+?\\((\\d+)\\,\\s*(\\d+)\\)","",gb);gc!=null&&gc.$==1?(gd=gc.$0,gd&&bU.length(gd)===4)?(ge=bU.get(gc.$0,3),fD(new q({$:0,$0:bU.get(gc.$0,1)}),a.Number(bU.get(gc.$0,2)),a.Number(ge))):void 0:void 0;}function fF(){var gb;bP.Start((gb=null,bP.Delay(function(){var gc,gd,ge,gf;gc=bz.FetchO(cv.c);return gc!=null&&gc.$==1?(gd=dA.editorO,gd!=null&&gd.$==1?(ge=gd.$0,(gf=ge.getCursor(),(ge.getLine(gf.line),bP.Bind(dr.FindDecl(ds,gf.line+1,gf.ch+1,gc.$0.get_NameSanitized()),function(gg){var gh;return gg.$==9?(gh=gg.$0,(fE(((((((bJ.Curried(function(gi,gj,gk,gl,gm,gn){return gi(bL.toSafe(gj)+" ("+a.String(gk)+", "+a.String(gl)+") - ("+a.String(gm)+", "+a.String(gn)+")");},6))(a.id))(gh.File))(gh.Line))(gh.Column))(gh.Line))(gh.Column)),bP.Zero())):gg.$==1?(a.alert((function(gi){return function(gj){return gi(bG.p(gj));};}(a.id))(gg.$0)),bP.Zero()):(a.alert((function(gi){return function(gj){return gi(bH.p$4(gj));};}(a.id))(gg)),bP.Zero());})))):bP.Zero()):bP.Zero();})),null);}function fG(){var gb;gb=dA.editorO;gb==null?void 0:gb.$0.refresh();}function fH(gb){var gc;bP.Start((gc=null,bP.Delay(function(){return bP.Bind(bP.Sleep(gb),function(){fG();return bP.Zero();});})),null);}function fI(){ca.Set(dh,true);}function fJ(gb,gc){return new bx.New(fI,gb,gc);}function fK(gb,gc,gd){return fJ(gb,gc).get_ValueVar().RSet(gd);}function fL(gb,gc){return Z.table(bN.ofSeq(bO.delay(function(){return bO.append([Z.thead([Z.th([Z.htmlText("Property"),Z.style("padding-right:10px")]),Z.th([Z.htmlText("Value")])])],bO.delay(function(){return bO.append(bO.map(function(gd){var ge;ge=fJ(gc,gd);return Z.tr([Z.td([Z.someElt(b8.Input([],ge.get_KeyVar()))]),Z.td([Z.someElt(b8.InputArea([Z.atr("style","height: 1.5em")],ge.get_ValueVar()))]),_3.hoverable(Z.td([Z.title("remove"),Z.style(" cursor: pointer "),Z.htmlText("x"),new _2({$:7,$0:b_.Handler("click",function(){return function(){ge.Remove();return ca.Set(dH,null);};})})]))]);},gc.get_Keys()),bO.delay(function(){return[Z.tr([_3.hoverable(Z.td([Z.htmlText("Add..."),new _2({$:7,$0:b_.Handler("click",function(){return function(){gc.Add("","1");fI();return ca.Set(dH,null);};})})])),Z.td([Z.htmlText("")])])];}));}));})));}function fM(gb){function gc(ge){return ge.properties;}function gd(ge,gf){return r.New(ge.name,ge.content,ge.parent,ge.predecessors,ge.id,ge.expanded,ge.level,ge.levelCode,gf);}return ep(new bS.New$5(),function(ge){return bt.codeSnippets().TryFindByKey(ge);},function(ge){return bt.codeSnippets().LensInto(gc,gd,ge);},gb);}function fN(gb){return new _0({$:1,$0:gb});}function fO(gb,gc,gd,ge){var gf;return j.start(eN,(gf=gb(gc),(j.map(a.ignore))(gf)));}function fP(gb,gc,gd,ge){function gf(gg,gh){if(gg==null)eN("Failed!\n"+gh);else if(gg.$0[0].$==0){eN(gh);ca.Set(dJ,null);}else eN(gh);}return j.startV(function(gg){return gf(gg[0],gg[1]);},gb(gc));}function fQ(gb,gc,gd){function ge(gf){return(gb(gd))(gf);}return bJ.Curried(fO,2,[ge,gc]);}function fR(gb,gc,gd){function ge(gf){return(gb(gd))(gf);}return bJ.Curried(fP,2,[ge,gc]);}function fS(gb){var gc,gd,ge;gc=gb.parms;return gc!=null&&gc.$==1&&((ge=gc.$0,ge&&bU.length(ge)===1)&&(gd=bU.get(gc.$0,0),true))?bz.FetchByPathO(bM.SplitChars(gd,["/"],0)):e1();}function fT(gb,gc){var gd;gd=j.wrapper();return gd.Delay(function(){return gd.Bind$2(_0.getAsync(gb.text),function(ge){var gf,gg,gh,gi,gj,gk,gl,gm,gn,gp,gq,gr,gs,gt;function go(gu){return gp==null?null:bt["CodeSnippet.propValue"](gp.$0,gu);}eM(ge+"...");gp=e1();gq=gc?d.defaultValue("",(gg=go("open"),gg==null?null:{$:1,$0:c.__(function(gu,gv){return gu+gv;},"\n",gg.$0)})):"";gr=cp.Create(function(){return d.defaultValue("${parm}() |> printfn \"%A\"",go("action-template"));});gs=(gm=gb.parms,gm==null?null:{$:1,$0:bU.map(a.id,gm.$0)});switch(gs!=null&&gs.$==1?(gt=gs.$0,gt&&bU.length(gt)===2?bU.get(gs.$0,0)==="Code"?(gn=bU.get(gs.$0,1),0):bU.get(gs.$0,0)==="Property"?(gn=bU.get(gs.$0,1),1):2:2):2){case 0:gl={$:1,$0:gn};break;case 1:gl=go(gn);break;case 2:gl=null;break;}gk=gl==null?go(ge):gl;gh=(gi=d.defaultWith(function(){return((cj.constructor("return function(parm) { return `"+gr.f()+"`}"))())(ge);},gk),bM.StartsWith(gi,"////")?gi:gq+gi);return gp!=null&&gp.$==1?gd.Bind$2((new b4.New()).Async("FSharpStation:FSSGlobal.FsEvaluator+Evaluator.getPresence:-1568677081",[x.extractConfig(gh),(function(gu){return function(gv){return gu(bH.p$3(gv));};}(a.id))(gp.$0.id)]),function(gu){return bV.Equals(gu,{$:1,$0:"ok"})?gd.Return(gh):gd.Bind$3(e3(gp),function(){return gd.Return(gh);});}):gd.Return(gh);});});}function fU(gb,gc){return j.bind(e6,fT(gb,true));}function fV(gb,gc){return j.bind(e_,fT(gb,false));}function fW(gb,gc){return e5(fS(gb));}function fX(gb,gc){return e9(fS(gb));}function fY(gb,gc){var gd;gd=fS(gb);return(dj(gc))(gd);}function fZ(gb,gc){var gd;gd=j.wrapper();return gd.Delay(function(){return gd.Bind$1(h.tryProtection(),function(){var ge,gf,gg,gh,gi;return gd.Bind$1((ge=gb.parms,ge!=null&&ge.$==1&&((gg=ge.$0,gg&&bU.length(gg)===3)&&(gf=[bU.get(ge.$0,1),bU.get(ge.$0,0),bU.get(ge.$0,2)],true))?(gh=gf[1],(d.defaultWith(function(){((function(gj){return function(gk){return gj("setSnippetProp snippet not found: "+bL.toSafe(gk));};}(function(gj){bQ.log(gj);}))(gh));},(gi=bz.FetchByPathO(bM.SplitChars(gh,["/"],0)),gi==null?null:{$:1,$0:fK(gi.$0.properties,gf[0],gf[2])})),h.succeed())):h.failSimpleError((function(gj){return function(gk){return gj("setSnippetProp wrong parms: "+bH.p$5(gk));};}(a.id))(gb.parms))),function(){return gd.Return();});});});}function f0(gb,gc){var gd,ge,gf,gg,gh,gi;((function(gj){return function(gk){return gj("showOutText: "+bG.p$22(gk));};}(function(gj){bQ.log(gj);}))(gb));ge=gb.parms;switch(ge!=null&&ge.$==1?(gf=ge.$0,gf&&bU.length(gf)===1?(gd=bU.get(ge.$0,0),0):(gg=ge.$0,gg&&bU.length(gg)===2?(bU.get(ge.$0,1),bU.get(ge.$0,0)===""?(gd=[bU.get(ge.$0,0),bU.get(ge.$0,1)],1):2):2)):2){case 0:return eM(gd);break;case 1:return eM(gd[1]);break;case 2:return ge!=null&&ge.$==1&&((gi=ge.$0,gi&&bU.length(gi)===2)&&(bU.get(ge.$0,1),bU.get(ge.$0,0)==="+"&&(gh=[bU.get(ge.$0,0),bU.get(ge.$0,1)],true)))?eN(gh[1]):(function(gj){return function(gk){return gj("error: showOutText "+bG.p$22(gk));};}(function(gj){bQ.log(gj);}))(gb);break;}}function f1(){return e$(cA.c);}function f2(){var gb;gb=j.wrapper();return gb.Delay(function(){da=null;return gb.Bind$2(ft(false),function(){return gb.Return();});});}function f3(gb,gc){var gd,ge;function gf(gg,gh,gi){return ge>=gh&&ge<gi?{$:1,$0:gg}:null;}gd=gb.value;ge=gb.selectionStart;return fE(bO.pick(function(gg){return gf(gg[0],gg[1],gg[2]);},(bO.mapFold(function(gg,gh){return[[gh,gg,gg+gh.length+1],gg+gh.length+1];},0,bM.SplitChars(gd,["\n"],0)))[0]));}function f4(gb,gc,gd){var ge;ge=h.result();return ge.Delay(function(){return ge.Bind(h.tryProtection(),function(){return ge.Bind(ek.GetGuiCallAction(gb,gc,gd),function(gf){var gg;gg=gf.onClick;gg==null?void 0:((gg.$0(gf))(null))(null);return ge.Zero();});});});}function f5(gb){fH(1000);fH(2000);fH(3000);ek.SetLayoutJson(ee,gb);}function f6(gb){fH(1000);fH(2000);fH(3000);ek.AddNewSteps(ee,gb);}function f7(gb){return bU.ofSeq(bO.map(function(gc){return[gc.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),gc.FSSGlobal_Useful_ErrMsg$get_IsWarning()?t.FSWarning:t.FSError];},gb));}function f8(gb){var gc;return{$:4,$0:(gc=gb.$0,gc==null?null:{$:1,$0:gc.$0[1]}),$1:bU.ofSeq(bO.map(function(gd){return[gd.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),gd.FSSGlobal_Useful_ErrMsg$get_IsWarning()?t.FSWarning:t.FSError];},gb.$1))};}function f9(gb){var gc,gd;return{$:4,$0:(gc=function(ge){return function(gf){return ge(bL.prettyPrint(gf));};}(a.id),(gd=gb.$0,gd==null?null:{$:1,$0:gc(gd.$0)})),$1:bU.ofSeq(bO.map(function(ge){return[ge.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),ge.FSSGlobal_Useful_ErrMsg$get_IsWarning()?t.FSWarning:t.FSError];},gb.$1))};}function f_(gb,gc){var gd;gd=null;return bP.Delay(function(){var ge,gf,gg,gh,gi,gj,gk,gl,gm;return gc.$==2?bP.Return({$:1,$0:(ge=bz.FetchO(gc.$0),ge==null?null:{$:1,$0:ge.$0.content})}):gc.$==3?bP.Return({$:1,$0:(gf=bz.FetchO(gc.$0),gf==null?null:{$:1,$0:bt["CodeSnippet.GetCodeFsx"](gf.$0,true)})}):gc.$==4?bP.Return({$:3,$0:d.defaultValue([],(gg=bz.FetchO(gc.$0),gg==null?null:{$:1,$0:bt["CodeSnippet.Predecessors"](gg.$0)}))}):gc.$==5?bP.Return({$:2,$0:bz.FetchO(gc.$0)}):gc.$==6?bP.Return({$:1,$0:(gh=bz.FetchByPathO(gc.$0),gh==null?null:{$:1,$0:gh.$0.content})}):gc.$==7?bP.Return({$:1,$0:(gi=bz.FetchByPathO(gc.$0),gi==null?null:{$:1,$0:bt["CodeSnippet.GetCodeFsx"](gi.$0,true)})}):gc.$==10?(gj=bz.FetchByPathO(gc.$0),gj==null?bP.Return({$:4,$0:null,$1:[["Snippet not found",t.FSError]]}):bP.Bind(y.translateAR(bt["CodeSnippet.GetCodeFsx"](gj.$0,true),false),function(gn){return bP.Return({$:4,$0:h.getOption(h.map(bq.completeJS,gn)),$1:f7(h.getMsgs(gn))});})):gc.$==8?bP.Return({$:3,$0:d.defaultValue([],(gk=bz.FetchByPathO(gc.$0),gk==null?null:{$:1,$0:bt["CodeSnippet.Predecessors"](gk.$0)}))}):gc.$==9?bP.Return({$:2,$0:bz.FetchByPathO(gc.$0)}):gc.$==1?bP.Return({$:1,$0:{$:1,$0:"Message received: "+gc.$0}}):gc.$==0?bP.Return({$:0,$0:gb}):gc.$==12?l.map(f8,j.getAsyncR(e0(gc.$1,bu.NewBrowser,bz.FetchO(gc.$0)))):gc.$==13?l.map(f8,j.getAsyncR(e0(gc.$1,bu.NewBrowser,bz.FetchByPathO(gc.$0)))):gc.$==14?(gl=gc.$0,bP.Return(f9(h.map(function(){return(function(gn){return function(go){return gn("success: "+bL.toSafe(go));};}(a.id))(gl);},f4(gl,gc.$1,gc.$2))))):bP.Return({$:1,$0:{$:1,$0:(gm=bU.ofSeq((bt.codeSnippets())["var"].RVal()),bW.stringify(((ci.EncodeArray(bF.j$3))())(gm)))}});});}function f$(gb,gc){var gd;gd=null;return bP.Delay(function(){return bP.Bind(f_(gb,(bE.j$5())(bW.parse(gc))),function(ge){return bP.Return(bW.stringify((bF.j$4())(ge)));});});}function ga(gb){!bN.contains(gb,en.c)?ca.Set(en,new bN.T({$:1,$0:gb,$1:en.c})):void 0;fH(300);}cu=ca.Create$1("");cv=ca.Create$1(q.get_New());cw="CodeEditor."+"currentCodeSnippetId";cx=a.localStorage.getItem(cw);cx!==null?cv.set_RVal((bE.j$3())(bW.parse(cx))):void 0;_0.sink(function(gb){a.localStorage.setItem(cw,bW.stringify((bF.j$1())(gb)));},cv);cy=ca.Create$1();cz=_0.map2(function(gb){return function(){return bt.codeSnippets().TryFindByKey(gb);};},cv,cy);cA=ca.Create$1(bu.Below);cB="CodeEditor."+"position";cC=a.localStorage.getItem(cB);cC!==null?cA.set_RVal((bE.j$4())(bW.parse(cC))):void 0;_0.sink(function(gb){a.localStorage.setItem(cB,bW.stringify((bF.j$2())(gb)));},cA);_0.map(function(gb){return gb.$==1&&true;},cA);cD=_0.map(function(gb){return bV.Equals(bz.FetchO(gb),null);},cv);cE=(cF=_0.map((cG=(cH=function(gb){return gb==null?null:et(gb.$0);},function(gb){return cH(bz.FetchO(gb));}),function(gb){return eu(cG(gb));}),cv),(cI=[ca.Create$1(null)],(b7.Sink(function(gb){if(!bV.Equals(cI[0].c,gb))ca.Set(cI[0],gb);},_0.toView(cF)),new _0({$:1,$0:cI[0]}))));cJ=(cK=_0.map((cL=(cM=function(gb){return gb==null?null:ev(gb.$0);},function(gb){return cM(bz.FetchO(gb));}),function(gb){return ew(cL(gb));}),cv),(cN=[ca.Create$1(null)],(b7.Sink(function(gb){if(!bV.Equals(cN[0].c,gb))ca.Set(cN[0],gb);},_0.toView(cK)),new _0({$:1,$0:cN[0]}))));cO=(cP=_0.map((cQ=(cR=function(gb){return gb==null?null:ex(gb.$0);},function(gb){return cR(bz.FetchO(gb));}),function(gb){return ey(cQ(gb));}),cv),(cS=[ca.Create$1(null)],(b7.Sink(function(gb){if(!bV.Equals(cS[0].c,gb))ca.Set(cS[0],gb);},_0.toView(cP)),new _0({$:1,$0:cS[0]}))));cT=(cU=_0.map((cV=(cW=function(gb){return gb==null?null:ez(gb.$0);},function(gb){return cW(bz.FetchO(gb));}),function(gb){return eA(cV(gb));}),cv),(cX=[ca.Create$1(null)],(b7.Sink(function(gb){if(!bV.Equals(cX[0].c,gb))ca.Set(cX[0],gb);},_0.toView(cU)),new _0({$:1,$0:cX[0]}))));cY=(cZ=_0.map((c0=(c1=function(gb){return gb==null?null:eB(gb.$0);},function(gb){return c1(bz.FetchO(gb));}),function(gb){return eC(c0(gb));}),cv),(c2=[ca.Create$1(null)],(b7.Sink(function(gb){if(!bV.Equals(c2[0].c,gb))ca.Set(c2[0],gb);},_0.toView(cZ)),new _0({$:1,$0:c2[0]}))));c3=(c4=_0.map((c5=(c6=function(gb){return gb==null?null:eD(gb.$0);},function(gb){return c6(bz.FetchO(gb));}),function(gb){return eE(c5(gb));}),cv),(c7=[ca.Create$1(null)],(b7.Sink(function(gb){if(!bV.Equals(c7[0].c,gb))ca.Set(c7[0],gb);},_0.toView(c4)),new _0({$:1,$0:c7[0]}))));c8=_0.map(function(gb){return gb!=="0"&&gb!=="";},eF("DisableParse"));c9=_0.map2(function(gb){return function(gc){return eG(gb,gc);};},c8,eF("DisableFSI"));c_=_0.map2(function(gb){return function(gc){return eG(gb,gc);};},c8,eF("DisableFable"));c$=_0.map2(function(gb){return function(gc){return eG(gb,gc);};},c8,eF("DisableWebSharper"));da=null;db=new m.New(function(gb){return d.defaultValue(new cm.New$3(),gb==null?null:{$:1,$0:new cm.New$2(gb.$0.UniquePredecessors(bz.FetchO))});});dc=ca.Create$1("");dd=ca.Create$1("");de=ca.Create$1("");df=ca.Create$1("");dg=false;dh=ca.Create$1(false);_0.sink(function(gb){a.onbeforeunload=gb?function(gc){gc.returnValue="Changes you made may not be saved.";}:null;},dh);di=q.get_New();bA.set_addOutMsg(eN);dj=(dk=a.location.origin+"/Main.html",(bJ.Curried3(e0))(dk));dl=_0.map(function(gb){var gc,gd;gc=null;return db.cache.TryGetValue(gb,{get:function(){return gc;},set:function(ge){gc=ge;}})?gc:(gd=db.f(gb),(db.cache.set_Item(gb,gd),gd));},cz);dm=0;dn=ca.Create$1("");_0.map(function(gb){return gb==="";},dn);_do="CodeEditorFileSel";dp=_5.New$2(ca.Lens(dn,fm,a.id)).Prefix$1(Z.label([Z["class"]("btn btn-primary"),Z.htmlText("Load File..."),_5.New$2(dn).Type("file").Style("display: none").Content([b_.Handler("change",function(gb){return function(){return fp(gb);};}),b_.Handler("click",function(gb){return function(){gb.value="";};})]).Id(_do).get_Render()]));ct!==""?bP.Start((dq=null,bP.Delay(function(){return bP.Bind(bP.Sleep(3000),function(){var gb;((function(gc){return function(gd){return gc("loading "+bL.toSafe(gd)+"...");};}(function(gc){bQ.log(gc);}))(ct));gb=cq.getJSON(ct+"?t="+a.String(bX.now()));gb.done(function(){return fo(gb.responseText);});return bP.Zero();});})),null):void 0;dr=new Y.New("FSharpStation",{$:1,$0:a.location.href});ds=bt.fsIds()+".fsx";dt=b7.GetAsync(_0.toView(c8));du=1;dv=false;dw="\\((\\d+)\\) F# (.+).fsx\\((\\d+)\\,(\\d+)\\): (error|warning) ((.|\\b)+)";dx="(Err|Warning|Info)(FSharp|WebSharper)\\s+\"(\\((\\d+)\\) ?)?F?#? ?(.+?)(.fsx)? \\((\\d+)\\,\\s*(\\d+)\\) - \\((\\d+)\\,\\s*(\\d+)\\) ((.|\\s)+?)"+"\"";dy=dw+"|"+dx;dz=c.asyncStartCancelling();dA=_.New$2((dB=_0.toView(_0.fixit(cv)),(dC=ca.Create$1(null),(dD=[null],(dE=[0],(dF=[0],(b7.Sink(function(){var gb,gc;gb=dD[0];gb==null?void 0:(gc=gb.$0,dE[0]>dF[0]?dF[0]=dE[0]:!bV.Equals(gc.RVal(),dC.c)?(dF[0]=dF[0]+1,gc.set_RVal(dC.c)):void 0);},dC.v),b7.Sink(function(){var gb,gc;gb=dD[0];gb==null?void 0:(gc=gb.$0,dF[0]>dE[0]?dE[0]=dF[0]:!bV.Equals(gc.RVal(),dC.c)?(dE[0]=dE[0]+10,ca.Set(dC,gc.RVal())):void 0);},b7.Bind(function(gb){var gc;gc=es(gb);dD[0]={$:1,$0:gc};dF[0]=dE[0]+100;ca.Set(dC,gc.RVal());return gc.RView();},dB)),dC))))))).OnChange(function(){var gb;da!=null&&da.$==1&&(bV.Equals(da.$0[0],cv.c)&&(gb=[da.$0[0],da.$0[2]],true))?eH():eI();}).OnRender(function(gb){function gc(ge){gb.replaceSelection(".","end");}function gd(){_3.showHints(gb,function(ge){return fB(ge[0],ge[1],ge[2]);},false,void 0);}gb.addKeyMap(bw.New(fy,fy,function(ge){_3.showHints(gb,function(gf){return fB(gf[0],gf[1],gf[2]);},false,ge);},function(ge){return gd(gc(ge));}));_3.setLint(gb,fA);_0.sink(function(ge){var gf;bP.Start((gf=null,bP.Delay(function(){gb.setOption("theme",ge);return bP.Bind(bP.Sleep(50),function(){gb.refresh();return bP.Zero();});})),null);},cT);_0.sink(function(ge){gb.setOption("mode",ge);},cO);}).Style("height: 100%");dG=dA.get_Render().AddChildren([new _2({$:7,$0:b_.Handler("dblclick",function(){return function(){return fy(dA.editorO.$0);};})}),Z.htmlElement("menu",[Z.type("context"),Z.Id("right-menu"),Z.htmlElement("menuitem",[Z.htmlAttribute("label","Goto Definition"),new _2({$:7,$0:b_.Handler("click",function(){return function(){return fF();};})})])]),Z.htmlAttribute("contextmenu","right-menu")]);_0.sink(function(){var gb;bP.Start((gb=null,bP.Delay(function(){var gc,gd,ge;return!dg?bP.Zero():(gc=dA.editorO,gc!=null&&gc.$==1?(gd=gc.$0,(ge=bz.FetchO(cv.c),ge!=null&&ge.$==1?bP.Bind(dr.MustParse(ds,ge.$0.get_NameSanitized()),function(gf){return gf?bP.Zero():(gd.performLint(),bP.Zero());}):bP.Zero())):bP.Zero());})),null);},de);dH=ca.Create$1();dI=Z.div([new _2({$:5,$0:_0.map2(function(gb){return function(gc){return fL(gb,gc);};},dH,_0.bind(function(gb){return fN(fM(gb));},cv))}),Z.css(" td.hovering { background: gray; } ")]);dJ=ca.Create$1();dK=bk.New$1("Load...").OnClick(function(gb){return function(gc){return fr(gb,gc);};});dL=bk.New$1("Save as...").OnClick(bJ.Curried(_3.Do,2,[fq,null])).Highlight(dh);dM=bk.New$1("Add Snippet").OnClick(bJ.Curried(_3.Do,2,[fk,null]));dN=bk.New$1("Delete Snippet").OnClick(bJ.Curried(_3.Do,2,[fl,null])).Disabled(cD);dO=bk.New$1("Indent In  >>").OnClick(bJ.Curried(_3.Do,2,[eR,null])).Disabled(cD);dP=bk.New$1("Indent Out <<").OnClick(bJ.Curried(_3.Do,2,[eS,null])).Disabled(cD);dQ=bk.New$1("Get F# Code").OnClick(bJ.Curried(_3.Do,2,[eP,null])).Disabled(c8);dR=bk.New$1("actSetSnippetProp").OnClick2(function(gb){return fQ(function(gc){return function(gd){return fZ(gc,gd);};},null,gb);}).Disabled(c9);dS=bk.New$1("Run FSI on Code").OnClick2(function(gb){return fQ(function(gc){return function(gd){return fU(gc,gd);};},null,gb);}).Disabled(c9);dT=bk.New$1("Run FSI").OnClick2(function(gb){return fQ(function(gc){return function(gd){return fW(gc,gd);};},null,gb);}).Disabled(c9);dU=bk.New$1("Run Fable on Code").OnClick2(function(gb){return fQ(function(gc){return function(gd){return fV(gc,gd);};},null,gb);}).Disabled(c_);dV=bk.New$1("Run Fable").OnClick2(function(gb){return fQ(function(gc){return function(gd){return fX(gc,gd);};},null,gb);}).Disabled(c_);dW=bk.New$1("Run WebSharper in new tab").OnClick2((dX=bu.NewBrowser,function(gb){return fQ(function(gc){return function(gd){return fY(gc,gd);};},dX,gb);})).Disabled(c$);dY=bk.New$1("Run WebSharper in WS Result").OnClick2((dZ=bu.Below,function(gb){return fR(function(gc){return function(gd){return fY(gc,gd);};},dZ,gb);})).Disabled(c$);d0=bk.New$1("Run WebSharper in ...").OnClick(bJ.Curried(fP,2,[f1,null])).Disabled(c$);d1=bk.New$1("Parse F#").OnClick(bJ.Curried(fO,2,[f2,null])).Disabled(c8);d2=bk.New$1("Compile WebSharper").OnClick((d3=function(gb){return eT(e1(gb));},bJ.Curried(fO,2,[d3,null]))).Disabled(c$);d4=bk.New$1("Find Definition").OnClick(bJ.Curried(_3.Do,2,[fF,null])).Disabled(c8);d5=bk.New$1("Refresh CodeMirror").OnClick(bJ.Curried(_3.Do,2,[fG,null]));d6=bk.New$1("Show Output text").OnClick2(bJ.Curried(_3.Do2,3,[f0,null]));d7=Z.div([dM.get_Button().get_Render(),dP.get_Button().get_Render(),dO.get_Button().get_Render(),dp.get_Render().AddChildren([Z.style("grid-column: 4/6")]),dT.get_Button().get_Render(),dV.get_Button().get_Render(),d0.get_Button().get_Render(),dN.get_Button().get_Render(),d4.get_Button().get_Render(),Z.span([]),dL.get_Button().get_Render(),Z.span([]),dQ.get_Button().get_Render(),d1.get_Button().get_Render(),Z.someElt(b8.Select([b$.Create("id","Position")],function(gb){return gb.$==1?"Right":gb.$==2?"In Tab":gb.$==3?"New Browser":"Below";},bN.ofArray([bu.NewBrowser,bu.Below]),cA)),Z.style("\n                    overflow: hidden;\n                    display: grid;\n                    grid-template-columns: repeat(8, 12.1%);\n                    bxackground-color: #eee;\n                    padding : 5px;\n                    grid-gap: 5px;\n                ")]);d8=bj.New2([bh.New$2("File").SubMenu([dK.get_MenuEntry(),dL.get_MenuEntry()]),bh.New$2("Code").SubMenu([dM.get_MenuEntry(),dN.get_MenuEntry(),bh.New$2("").get_Divider(),dO.get_MenuEntry(),dP.get_MenuEntry(),bh.New$2("").get_Divider(),d4.get_MenuEntry(),bh.New$2("").get_Divider(),dQ.get_MenuEntry(),bh.New$2("").get_Divider(),d5.get_MenuEntry()]),bh.New$2("Run").SubMenu([dT.get_MenuEntry(),dV.get_MenuEntry(),bh.New$2("").get_Divider(),dW.get_MenuEntry(),dY.get_MenuEntry(),bh.New$2("").get_Divider(),d1.get_MenuEntry(),d2.get_MenuEntry()])]);d9=bj.New2([bh.New$2("About").SubMenu([bh.New$1("Source @ GitHub","https://github.com/amieres/FSharpStation").Target("_blank")])]);d_=_3.navbar(Z.h1([Z.htmlText("F# Station"),Z.style("font-size: 48px; margin-top: -17px")]),d8.get_Render(),d9.get_Render());d$="CodeEditor."+"splitterV1";ea=bd.New$1(20).Children([Z.style("grid-row: 2 / 4")]).get_Var();eb=a.localStorage.getItem(d$);eb!==null?ea.set_RVal(((ci.Id())())(bW.parse(eb))):void 0;_0.sink(function(gb){a.localStorage.setItem(d$,bW.stringify(((ci.Id())())(gb)));},ea);ec=Z.bindHElem(function(gb){return Z.div(bN.ofSeq(bO.delay(function(){return bO.append([Z.style("overflow: auto")],bO.delay(function(){return bO.append(bO.choose(a.id,(bO.mapFold(function(gc,gd){var ge,gf,gg,gh,gi;ge=gd[1];return d.defaultValue(true,(gf=ge.parent,gf==null?null:{$:1,$0:gc.Contains(gf.$0)}))?(gg=d.defaultValue(false,(gh=bO.tryItem(gd[0]+1,bt.codeSnippets()),gh==null?null:{$:1,$0:bV.Equals(gh.$0.parent,{$:1,$0:ge.id})})),(gi=gg&&ge.expanded,[{$:1,$0:fe(gg,gi,ge)},gi?gc.Add(ge.id):gc])):[null,gc];},new cd.New(bN.T.Empty),bO.indexed(gb)))[0]),bO.delay(function(){return bO.append([new _2({$:7,$0:b_.Handler("scroll",function(gc){return function(){dm=gc.scrollTop;};})})],bO.delay(function(){return[new _2({$:7,$0:b_.OnAfterRender(function(gc){gc.scrollTop=dm;})})];}));}));}));})));},(ed=bt.codeSnippets().v,b7.SnapshotOn((bt.codeSnippets())["var"].RVal(),cy.v,ed)));ee=bp.AddGuids([["actLoadFile",new bl({$:2,$0:dK})],["actSaveFile",new bl({$:2,$0:dL})],["actAddSnippet",new bl({$:2,$0:dM})],["actDeleteSnippet",new bl({$:2,$0:dN})],["actIndentSnippet",new bl({$:2,$0:dO})],["actOutdentSnippet",new bl({$:2,$0:dP})],["actGetFsCode",new bl({$:2,$0:dQ})],["actSetSnippetProp",new bl({$:2,$0:dR})],["actEvalFsCode",new bl({$:2,$0:dS})],["actEvalCode",new bl({$:2,$0:dT})],["actRunFableFs",new bl({$:2,$0:dU})],["actRunFable",new bl({$:2,$0:dV})],["actRunWSNewTab",new bl({$:2,$0:dW})],["actRunWSHere",new bl({$:2,$0:dY})],["actRunWSIn",new bl({$:2,$0:d0})],["actParseCode",new bl({$:2,$0:d1})],["actCompileWS",new bl({$:2,$0:d2})],["actFindDefinition",new bl({$:2,$0:d4})],["actOutText",new bl({$:2,$0:d6})],["Output",new bl({$:1,$0:_7.New$2(df).Placeholder("Output:").Title("Output").RenderWith(bN.ofArray([b_.Handler("dblclick",function(gb){return function(gc){return f3(gb,gc);};})]))})],["Parser",new bl({$:1,$0:_7.New$2(de).Placeholder("Parser messages:").Title("Parser").RenderWith(bN.ofArray([b_.Handler("dblclick",function(gb){return function(gc){return f3(gb,gc);};})]))})],["JavaScript",new bl({$:1,$0:_7.New$2(dd).Placeholder("Javascript:").Title("JavaScript code generated").get_Render()})],["F# code",new bl({$:1,$0:_7.New$2(dc).Placeholder("F# code:").Title("F# code assembled").get_Render()})],["Properties",new bl({$:1,$0:dI})],["WS Result",new bl({$:1,$0:Z.div([Z.div([Z.Id("TestNode"),Z.style("background: white; height: 100%; width: 100%; ")])])})],["title",new bl({$:1,$0:_5.New$2((ef=_0.toView(_0.fixit(cv)),(eg=ca.Create$1(null),(eh=[null],(ei=[0],(ej=[0],(b7.Sink(function(){var gb,gc;gb=eh[0];gb==null?void 0:(gc=gb.$0,ei[0]>ej[0]?ej[0]=ei[0]:!bV.Equals(gc.RVal(),eg.c)?(ej[0]=ej[0]+1,gc.set_RVal(eg.c)):void 0);},eg.v),b7.Sink(function(){var gb,gc;gb=eh[0];gb==null?void 0:(gc=gb.$0,ej[0]>ei[0]?ei[0]=ej[0]:!bV.Equals(gc.RVal(),eg.c)?(ei[0]=ei[0]+10,ca.Set(eg,gc.RVal())):void 0);},b7.Bind(function(gb){var gc;gc=er(gb);eh[0]={$:1,$0:gc};ej[0]=ei[0]+100;ca.Set(eg,gc.RVal());return gc.RView();},ef)),eg))))))).Prefix$1(Z.htmlText("name:")).get_Render()})],["code",new bl({$:1,$0:dG})],["snippets",new bl({$:1,$0:ec})],["buttons",new bl({$:1,$0:d7})],["menu",new bl({$:1,$0:d_})],["messagesR",new bl({$:4,$0:true,$1:["Properties"]})],["messagesB1",new bl({$:4,$0:true,$1:["Output","JavaScript","F# code"]})],["messagesB2",new bl({$:4,$0:true,$1:["Parser","WS Result"]})],["messagesB",_3.varVerSplitter(55,"messagesB1","messagesB2",0,100)],["title_code",_3.fixedHorSplitter(true,34,"title","code")],["code_props",_3.varVerSplitter(85,"title_code","messagesR",25,100)],["code_buttons",_3.fixedHorSplitter(false,80,"code_props","buttons")],["snippets_code",_3.varVerSplitter(15,"snippets","code_buttons",5,95)],["main_messages",_3.varHorSplitter(82,"snippets_code","messagesB",35,100)],["extrabuttons",new bl({$:1,$0:Z.div([])})],["main_extra",_3.varVerSplitter(100,"main_messages","extrabuttons",20,100)],["main",_3.fixedHorSplitter(true,50,"menu","main_extra")]]);ek=bp.New$1(ee);a.addLayoutJson=f5;_0.sink(f5,cY);_0.sink(function(gb){if(gb==="")f6([]);else eV(a,gb);},c3);a.doFSharpStationGuiCall=function(gb){var gc,gd;gc=h.Success(f4.apply(null,gb));gc.$==1?((gd=(bJ.Curried3(function(ge,gf,gg){return ge("Error doGuiCall "+bL.printList(bL.prettyPrint,gf)+": "+("("+bL.prettyPrint(gg[0])+", "+bL.prettyPrint(gg[1])+", "+bL.printArray(bL.prettyPrint,gg[2])+")"));}))(function(ge){bQ.log(ge);}),function(ge){var gf;gf=gd(ge);return function(gg){gf([gg[0],gg[1],gg[2]]);};})(gc.$0))(gb):void 0;};a.setFSharpStationLayout=function(gb){f6(gb(ek));};el=new v.New(bt.fsIds(),{$:1,$0:bt.fsIds()},null,{$:1,$0:a.location.href});bP.Start((em=null,bP.Delay(function(){return bP.Bind(bP.Sleep(1000),function(){el.get_MessagingClient().AwaitMessage(f$);return bP.Zero();});})),null);_0.sink(function(){ek.SelectTab("Output");},df);_0.sink(function(){ek.SelectTab("WS Result");},dJ);en=ca.Create$1(bN.ofArray(["/EPFileX/css/main.css"]));_0.sink(ga,cJ);_0.sink(function(gb){if(gb!=="")ga((function(gc){return function(gd){return gc("/EPFileX/codemirror/content/theme/"+bL.toSafe(gd)+".css");};}(a.id))(gb));},cT);eo=Z.div([Z.style("height: 100vh; width: 100% "),ek.get_Render().Style("height: 100%; width: 100% "),Z.script([Z.src("/EPFileX/FileSaver/FileSaver.js"),Z.type("text/javascript")]),Z.script([Z.src("http://code.jquery.com/jquery-3.1.1.min.js"),Z.type("text/javascript")]),Z.script([Z.src("http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"),Z.type("text/javascript")]),Z.link([Z.href("http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"),Z.type("text/css"),Z.rel("stylesheet")]),Z.css("\n      \n        body { margin: 0px }     \n             \n        div textarea {\n            font-family     : monospace;\n        }\n        .code-editor-list-tile {\n            white-space     : nowrap; \n            border-style    : solid none none;\n            border-color    : white;\n            border-width    : 1px;\n            background-color: #D8D8D8;\n            display         : flex;\n        }\n        .code-editor-list-text{\n            padding         : 1px 10px 1px 5px;\n            overflow        : hidden;\n            text-overflow   : ellipsis;\n            white-space     : nowrap;\n            flex            : 1;\n        }\n        \n        .code-editor-list-tile.direct-predecessor {\n            font-weight     : bold;\n        }\n        .code-editor-list-tile.indirect-predecessor {\n            color           : blue;\n        }\n        .code-editor-list-tile.selected {\n            background-color: #77F;\n            color           : white;\n        }\n        .code-editor-list-tile.hovering {\n            background      : lightgray;\n        }\n        .code-editor-list-tile.hovering.selected {\n            background      : blue;\n        }\n        .code-editor-list-tile>.predecessor {\n            font-weight     : bold;\n            border-style    : inset;\n            border-width    : 1px;\n            text-align      : center;\n            color           : transparent;\n        }\n        .code-editor-list-tile.direct-predecessor>.predecessor {\n            color           : blue;\n        }\n        \n        .CodeMirror { height: 100%; }\n        \n        .node {\n            background-color: white; \n            width           : 2ch; \n            color           : #A03; \n            font-weight     : bold; \n            text-align      : center;\n            font-family     : arial;\n        }\n        .Warning { text-decoration: underline lightblue } \n        .Error   { text-decoration: underline red       } \n        .body    { margin         : 0px                 }\n        "),Z.style(" \n                color      : #333;\n                font-size  : small;\n                font-family: monospace;\n                line-height: 1.2;\n                    "),new _2({$:5,$0:_0.map(function(gb){return Z.div(bN.ofSeq(bO.delay(function(){return bO.map(function(gc){return Z.link([Z.href(gc),Z.type("text/css"),Z.rel("stylesheet")]);},gb);})));},en)}),Z.css(cE)]);return(Z.renderDoc())(eo);};bD.$cctor=function(){var ct,cu,cv;bD.$cctor=a.ignore;function cw(cx,cy){return new _2({$:7,$0:b_.Style(cx,cy)});}bD.result=new i.New();bD.errOptionIsNone=new f.New();bD.wrapper=new k.New();bD.awaitRequestForF=o.selectF(function(cx){return(new b4.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.awaitRequestFor:-439983525",[cx]);},function(cx){return(new b4.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.awaitRequestFor:-439983525",[cx]);});bD.sendRequestF=o.selectF(bJ.Curried3(function(cx,cy,cz){return(new b4.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.sendRequest:-426626804",[cx,cy,cz]);}),bJ.Curried3(function(cx,cy,cz){return(new b4.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.sendRequest:-426626804",[cx,cy,cz]);}));bD.replyToF=o.selectF(function(cx){return function(cy){return(new b4.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.replyTo:-1092841374",[cx,cy]);};},function(cx){return function(cy){return(new b4.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.replyTo:-1092841374",[cx,cy]);};});bD.AsyncStartF=o.selectF(function(cx){o.AsyncStart(cx);},function(cx){bP.Start(cx,null);});bD.renderDoc=(ct=(cu=b8.Empty(),function(cx){return cx==null?cu:cx.$0;}),function(cx){return ct(Z.chooseNode(cx));});bD.string2Styles=(cv=function(cx){return bU.map(function(cy){return cw(cy[0],cy[1]);},cx);},function(cx){return cv(Z.style2pairs(cx));});bD.codeMirrorIncludes=["/EPFileX/codemirror/scripts/codemirror/codemirror.js","/EPFileX/codemirror/scripts/intellisense.js","/EPFileX/codemirror/scripts/codemirror/codemirror-intellisense.js","/EPFileX/codemirror/scripts/codemirror/codemirror-compiler.js","/EPFileX/codemirror/scripts/codemirror/mode/none.js","/EPFileX/codemirror/scripts/codemirror/mode/fsharp.js","/EPFileX/codemirror/scripts/codemirror/mode/css.js","/EPFileX/codemirror/scripts/codemirror/mode/javascript.js","/EPFileX/codemirror/scripts/codemirror/mode/markdown.js","/EPFileX/codemirror/scripts/addon/search/searchcursor.js","/EPFileX/codemirror/scripts/addon/search/search.js","/EPFileX/codemirror/scripts/addon/search/jump-to-line.js","/EPFileX/codemirror/scripts/addon/dialog/dialog.js","/EPFileX/codemirror/scripts/addon/edit/matchbrackets.js","/EPFileX/codemirror/scripts/addon/selection/active-line.js","/EPFileX/codemirror/scripts/addon/display/fullscreen.js","/EPFileX/codemirror/scripts/addon/hint/show-hint.js","/EPFileX/codemirror/scripts/addon/lint/lint.js"];bD.observers=bN.T.Empty;bD.draggedTab=[null];bD.selectedPanels=ca.Create$1(new cr.New([]));bD.TabMoved=null;bD.codeSnippets=cs.Create(function(cx){return cx.id;},bN.T.Empty);bD.fsIds="FSharpStation"+a.String(bX.now());bD.references=["mscorlib.dll","System.dll","System.Core.dll","System.Data.dll","System.IO.dll","System.Xml.dll","System.Numerics.dll","FSharp.Core.sigdata","FSharp.Core.dll","Fable.Core.dll","Fable.Import.Browser.dll"];bD.loadReferences=cp.Create(function(){var cx;bP.Start((cx=null,bP.Delay(function(){return bP.Bind(Z.LoadFilesAsync(["https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.2/require.min.js"]),function(){var cy;cy=cj.create(null);cy.skipDataMain=1;cy.isBrowser=1;a.require.config(cy);bO.iter(function(cz){a.getFileBlob(cz,"metadata/"+cz);},bA.references());return bP.Zero();});})),null);});bD.getChecker=cp.Create(function(){return ck.createChecker(function(cx){return a.metadata[cx];},bU.choose(function(cx){return cx.indexOf("sigdata")!=-1?null:{$:1,$0:bM.Replace(cx,".dll","")};},bA.references()));});bD.addOutMsg=function(cx){bQ.log(cx);};};bE.j=function(){return bE._v?bE._v:bE._v=(ci.DecodeUnion(void 0,"$",[[0,[["$0","Item",ci.Id(),0]]],[1,[["$0","Item",ci.Id(),1]]],[2,[["$0","Item",bE.j$2,1]]],[3,[["$0","Item",ci.DecodeArray(bE.j$2),0]]],[4,[["$0","Item1",ci.Id(),1],["$1","Item2",ci.DecodeArray(ci.DecodeTuple([ci.Id(),bE.j$1])),0]]]]))();};bE.j$2=function(){return bE._v$2?bE._v$2:bE._v$2=(ci.DecodeRecord(r,[["name",ci.Id(),0],["content",ci.Id(),0],["parent",bE.j$3,1],["predecessors",ci.DecodeList(bE.j$3),0],["id",bE.j$3,0],["expanded",ci.Id(),0],["level",ci.Id(),0],["levelCode",ci.Id(),0],["properties",ci.DecodeStringDictionary(ci.Id()),0]]))();};bE.j$3=function(){return bE._v$3?bE._v$3:bE._v$3=(ci.DecodeUnion(q,"$",[[0,[["$0","Item",ci.Id(),0]]]]))();};bE.j$1=function(){return bE._v$1?bE._v$1:bE._v$1=(ci.DecodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]]]))();};bF.j=function(){return bF._v?bF._v:bF._v=(ci.EncodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",ci.Id(),0]]],[2,[["$0","Item",bF.j$1,0]]],[3,[["$0","Item",bF.j$1,0]]],[4,[["$0","Item",bF.j$1,0]]],[5,[["$0","Item",bF.j$1,0]]],[6,[["$0","Item",ci.EncodeArray(ci.Id()),0]]],[7,[["$0","Item",ci.EncodeArray(ci.Id()),0]]],[8,[["$0","Item",ci.EncodeArray(ci.Id()),0]]],[9,[["$0","Item",ci.EncodeArray(ci.Id()),0]]],[10,[["$0","Item",ci.EncodeArray(ci.Id()),0]]],[11,[]],[12,[["$0","Item1",bF.j$1,0],["$1","Item2",ci.Id(),0]]],[13,[["$0","Item1",ci.EncodeArray(ci.Id()),0],["$1","Item2",ci.Id(),0]]],[14,[["$0","name",ci.Id(),0],["$1","action",ci.Id(),0],["$2","parms",ci.EncodeArray(ci.Id()),0]]]]))();};bF.j$1=function(){return bF._v$1?bF._v$1:bF._v$1=(ci.EncodeUnion(q,"$",[[0,[["$0","Item",ci.Id(),0]]]]))();};bF.j$4=function(){return bF._v$4?bF._v$4:bF._v$4=(ci.EncodeUnion(void 0,"$",[[0,[["$0","Item",ci.Id(),0]]],[1,[["$0","Item",ci.Id(),1]]],[2,[["$0","Item",bF.j$3,1]]],[3,[["$0","Item",ci.EncodeArray(bF.j$3),0]]],[4,[["$0","Item1",ci.Id(),1],["$1","Item2",ci.EncodeArray(ci.EncodeTuple([ci.Id(),bF.j$5])),0]]]]))();};bF.j$5=function(){return bF._v$5?bF._v$5:bF._v$5=(ci.EncodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]]]))();};bE.j$5=function(){return bE._v$5?bE._v$5:bE._v$5=(ci.DecodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",ci.Id(),0]]],[2,[["$0","Item",bE.j$3,0]]],[3,[["$0","Item",bE.j$3,0]]],[4,[["$0","Item",bE.j$3,0]]],[5,[["$0","Item",bE.j$3,0]]],[6,[["$0","Item",ci.DecodeArray(ci.Id()),0]]],[7,[["$0","Item",ci.DecodeArray(ci.Id()),0]]],[8,[["$0","Item",ci.DecodeArray(ci.Id()),0]]],[9,[["$0","Item",ci.DecodeArray(ci.Id()),0]]],[10,[["$0","Item",ci.DecodeArray(ci.Id()),0]]],[11,[]],[12,[["$0","Item1",bE.j$3,0],["$1","Item2",ci.Id(),0]]],[13,[["$0","Item1",ci.DecodeArray(ci.Id()),0],["$1","Item2",ci.Id(),0]]],[14,[["$0","name",ci.Id(),0],["$1","action",ci.Id(),0],["$2","parms",ci.DecodeArray(ci.Id()),0]]]]))();};bG.p$22=function(ct){return"{"+("text = "+bH.p$6(ct.text))+"; "+("highlight = "+bH.p$8(ct.highlight))+"; "+("disabled = "+bH.p$8(ct.disabled))+"; "+("toolTip = "+bH.p$10(ct.toolTip))+"; "+("onClick = "+bH.p$11(ct.onClick))+"; "+("parms = "+bH.p$5(ct.parms))+"}";};bH.p$11=function(ct){return ct==null?"null":"Some <fun>";};bH.p$10=function(ct){return ct==null?"null":"Some "+bL.prettyPrint(ct.$0);};bH.p$8=function(ct){return ct.$==2?"Dynamic "+bH.p$9(ct.$0):ct.$==1?"DynamicV "+bL.prettyPrint(ct.$0):"Constant "+bL.prettyPrint(ct.$0);};bH.p$9=function(ct){return"V <fun>";};bH.p$6=function(ct){return ct.$==2?"Dynamic "+bH.p$7(ct.$0):ct.$==1?"DynamicV "+bL.prettyPrint(ct.$0):"Constant "+bL.prettyPrint(ct.$0);};bH.p$7=function(ct){return"V <fun>";};bH.p$5=function(ct){return ct==null?"null":"Some "+bL.printArray(bL.prettyPrint,ct.$0);};bH.p$4=function(ct){return ct.$==17?"KMultiple "+bL.printArray(function(cu){return bH.p$4(cu);},ct.$0):ct.$==16?"KUnionCase "+bG.p$21(ct.$0):ct.$==15?"KNamespaces "+bG.p$18(ct.$0):ct.$==14?"KCompilerLocation "+bG.p$17(ct.$0):ct.$==13?"KSignatureData "+bG.p$15(ct.$0):ct.$==12?"KTypeSig "+bL.prettyPrint(ct.$0):ct.$==11?"KToolTip "+bL.printArray(function(cu){return bL.printArray(function(cv){return bG.p$2(cv);},cu);},ct.$0):ct.$==10?"KDeclarations "+bL.printArray(function(cu){return bG.p$13(cu);},ct.$0):ct.$==9?"KFindDecl "+bG.p$12(ct.$0):ct.$==8?"KColorizations "+bL.printList(function(cu){return bG.p$11(cu);},ct.$0):ct.$==7?"KErrors "+bG.p$9(ct.$0):ct.$==6?"KMethod "+bG.p$6(ct.$0):ct.$==5?"KHelp "+bL.prettyPrint(ct.$0):ct.$==4?"KSymbolUse "+bG.p$4(ct.$0):ct.$==3?"KCompletion "+bL.printArray(function(cu){return bG.p$3(cu);},ct.$0):ct.$==2?"KHelpText "+bG.p$1(ct.$0):ct.$==1?"KError "+bG.p(ct.$0):"KInfo "+bL.prettyPrint(ct.$0);};bG.p$21=function(ct){return"{"+("Text = "+bL.prettyPrint(ct.Text))+"}";};bG.p$18=function(ct){return"{"+("Opens = "+bL.printArray(function(cu){return bG.p$19(cu);},ct.Opens))+"; "+("Qualifies = "+bL.printArray(function(cu){return bG.p$20(cu);},ct.Qualifies))+"; "+("Word = "+bL.prettyPrint(ct.Word))+"}";};bG.p$20=function(ct){return"{"+("Name = "+bL.prettyPrint(ct.Name))+"; "+("Qualifier = "+bL.prettyPrint(ct.Qualifier))+"}";};bG.p$19=function(ct){return"{"+("Namespace = "+bL.prettyPrint(ct.Namespace))+"; "+("Name = "+bL.prettyPrint(ct.Name))+"; "+("Type = "+bL.prettyPrint(ct.Type))+"; "+("Line = "+bL.prettyPrint(ct.Line))+"; "+("Column = "+bL.prettyPrint(ct.Column))+"; "+("MultipleNames = "+bL.prettyPrint(ct.MultipleNames))+"}";};bG.p$17=function(ct){return"{"+("Fsc = "+bL.prettyPrint(ct.Fsc))+"; "+("Fsi = "+bL.prettyPrint(ct.Fsi))+"; "+("MSBuild = "+bL.prettyPrint(ct.MSBuild))+"}";};bG.p$15=function(ct){return"{"+("OutputType = "+bL.prettyPrint(ct.OutputType))+"; "+("Parameters = "+bL.printList(function(cu){return bL.printList(function(cv){return bG.p$16(cv);},cu);},ct.Parameters))+"}";};bG.p$16=function(ct){return"{"+("Name = "+bL.prettyPrint(ct.Name))+"; "+("Type = "+bL.prettyPrint(ct.Type))+"}";};bG.p$13=function(ct){return"{"+("Declaration = "+bG.p$14(ct.Declaration))+"; "+("Nested = "+bL.printArray(function(cu){return bG.p$14(cu);},ct.Nested))+"}";};bG.p$14=function(ct){return"{"+("UniqueName = "+bL.prettyPrint(ct.UniqueName))+"; "+("Name = "+bL.prettyPrint(ct.Name))+"; "+("Glyph = "+bL.prettyPrint(ct.Glyph))+"; "+("GlyphChar = "+bL.prettyPrint(ct.GlyphChar))+"; "+("IsTopLevel = "+bL.prettyPrint(ct.IsTopLevel))+"; "+("File = "+bL.prettyPrint(ct.File))+"; "+("EnclosingEntity = "+bL.prettyPrint(ct.EnclosingEntity))+"; "+("IsAbstract = "+bL.prettyPrint(ct.IsAbstract))+"}";};bG.p$12=function(ct){return"{"+("File = "+bL.prettyPrint(ct.File))+"; "+("Line = "+bL.prettyPrint(ct.Line))+"; "+("Column = "+bL.prettyPrint(ct.Column))+"}";};bG.p$11=function(ct){return"{"+("Kind = "+bL.prettyPrint(ct.Kind))+"}";};bG.p$9=function(ct){return"{"+("File = "+bL.prettyPrint(ct.File))+"; "+("Errors = "+bL.printArray(function(cu){return bG.p$10(cu);},ct.Errors))+"}";};bG.p$10=function(ct){return"{"+("FileName = "+bL.prettyPrint(ct.FileName))+"; "+("StartLine = "+bL.prettyPrint(ct.StartLine))+"; "+("EndLine = "+bL.prettyPrint(ct.EndLine))+"; "+("StartColumn = "+bL.prettyPrint(ct.StartColumn))+"; "+("EndColumn = "+bL.prettyPrint(ct.EndColumn))+"; "+("Message = "+bL.prettyPrint(ct.Message))+"; "+("Subcategory = "+bL.prettyPrint(ct.Subcategory))+"}";};bG.p$6=function(ct){return"{"+("Name = "+bL.prettyPrint(ct.Name))+"; "+("CurrentParameter = "+bL.prettyPrint(ct.CurrentParameter))+"; "+("Overloads = "+bL.printList(function(cu){return bG.p$7(cu);},ct.Overloads))+"}";};bG.p$7=function(ct){return"{"+("Tip = "+bL.printList(function(cu){return bL.printList(function(cv){return bG.p$2(cv);},cu);},ct.Tip))+"; "+("TypeText = "+bL.prettyPrint(ct.TypeText))+"; "+("Parameters = "+bL.printList(function(cu){return bG.p$8(cu);},ct.Parameters))+"; "+("IsStaticArguments = "+bL.prettyPrint(ct.IsStaticArguments))+"}";};bG.p$8=function(ct){return"{"+("Name = "+bL.prettyPrint(ct.Name))+"; "+("CanonicalTypeTextForSorting = "+bL.prettyPrint(ct.CanonicalTypeTextForSorting))+"; "+("Display = "+bL.prettyPrint(ct.Display))+"; "+("Description = "+bL.prettyPrint(ct.Description))+"}";};bG.p$4=function(ct){return"{"+("Name = "+bL.prettyPrint(ct.Name))+"; "+("Uses = "+bL.printList(function(cu){return bG.p$5(cu);},ct.Uses))+"}";};bG.p$5=function(ct){return"{"+("FileName = "+bL.prettyPrint(ct.FileName))+"; "+("StartLine = "+bL.prettyPrint(ct.StartLine))+"; "+("StartColumn = "+bL.prettyPrint(ct.StartColumn))+"; "+("EndLine = "+bL.prettyPrint(ct.EndLine))+"; "+("EndColumn = "+bL.prettyPrint(ct.EndColumn))+"; "+("IsFromDefinition = "+bL.prettyPrint(ct.IsFromDefinition))+"; "+("IsFromAttribute = "+bL.prettyPrint(ct.IsFromAttribute))+"; "+("IsFromComputationExpression = "+bL.prettyPrint(ct.IsFromComputationExpression))+"; "+("IsFromDispatchSlotImplementation = "+bL.prettyPrint(ct.IsFromDispatchSlotImplementation))+"; "+("IsFromPattern = "+bL.prettyPrint(ct.IsFromPattern))+"; "+("IsFromType = "+bL.prettyPrint(ct.IsFromType))+"}";};bG.p$3=function(ct){return"{"+("Name = "+bL.prettyPrint(ct.Name))+"; "+("ReplacementText = "+bL.prettyPrint(ct.ReplacementText))+"; "+("Glyph = "+bL.prettyPrint(ct.Glyph))+"; "+("GlyphChar = "+bL.prettyPrint(ct.GlyphChar))+"}";};bG.p$1=function(ct){return"{"+("Name = "+bL.prettyPrint(ct.Name))+"; "+("Overloads = "+bL.printList(function(cu){return bL.printList(function(cv){return bG.p$2(cv);},cu);},ct.Overloads))+"}";};bG.p$2=function(ct){return"{"+("Signature = "+bL.prettyPrint(ct.Signature))+"; "+("Comment = "+bL.prettyPrint(ct.Comment))+"}";};bG.p=function(ct){return"{"+("Code = "+bL.prettyPrint(ct.Code))+"; "+("Message = "+bL.prettyPrint(ct.Message))+"}";};bF.j$3=function(){return bF._v$3?bF._v$3:bF._v$3=(ci.EncodeRecord(r,[["name",ci.Id(),0],["content",ci.Id(),0],["parent",bF.j$1,1],["predecessors",ci.EncodeList(bF.j$1),0],["id",bF.j$1,0],["expanded",ci.Id(),0],["level",ci.Id(),0],["levelCode",ci.Id(),0],["properties",ci.EncodeStringDictionary(ci.Id()),0]]))();};bH.p$3=function(ct){return"CodeSnippetId "+bL.prettyPrint(ct.$0);};bF.j$2=function(){return bF._v$2?bF._v$2:bF._v$2=(ci.EncodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};bE.j$4=function(){return bE._v$4?bE._v$4:bE._v$4=(ci.DecodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};bE.j$6=function(){return bE._v$6?bE._v$6:bE._v$6=(ci.DecodeUnion(void 0,"$",[[0,[["$0","Item",ci.Id(),0]]],[1,[["$0","Item",ci.DecodeArray(ci.Id()),0]]]]))();};bF.j$6=function(){return bF._v$6?bF._v$6:bF._v$6=(ci.EncodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",ci.Id(),0]]],[2,[]],[3,[]],[4,[]]]))();};bE.j$7=function(){return bE._v$7?bE._v$7:bE._v$7=(ci.DecodeRecord(void 0,[["GuiRoot",ci.Id(),1],["GuiTabStrip",ci.DecodeTuple([ci.Id(),ci.DecodeArray(ci.Id())]),1],["GuiSplit",ci.DecodeTuple([ci.Id(),ci.Id(),ci.Id(),ci.Id(),ci.Id(),ci.Id(),ci.Id(),ci.Id()]),1],["GuiNode",bE.j$8,1],["GuiCall",ci.DecodeTuple([ci.Id(),ci.Id(),ci.DecodeArray(ci.Id())]),1]]))();};bE.j$8=function(){return bE._v$8?bE._v$8:bE._v$8=(ci.DecodeRecord(void 0,[["HtmlElementF",ci.DecodeTuple([ci.Id(),ci.DecodeArray(bE.j$8)]),1],["HtmlAttributeF",ci.DecodeTuple([ci.Id(),ci.Id()]),1],["HtmlAttributeOF",ci.DecodeTuple([ci.Id(),bE.j$9]),1],["HtmlTextF",ci.Id(),1],["HtmlEmptyF",ci.Id(),1],["HtmlGuiPart",ci.Id(),1],["HtmlGuiCall",ci.DecodeTuple([ci.Id(),ci.Id(),ci.DecodeArray(ci.Id())]),1]]))();};bE.j$9=function(){return bE._v$9?bE._v$9:bE._v$9=(ci.DecodeUnion(void 0,"$",[null,[1,[["$0","Value",ci.Id(),0]]]]))();};bH.p=function(ct){return ct.$==2?"FSInfor":ct.$==1?"FSWarning":"FSError";};bH.p$1=function(ct){return ct.$==1?"Snippet Not Found "+bL.prettyPrint(ct.$0):"FSMessage ("+bL.prettyPrint(ct.$0)+", "+bH.p(ct.$1)+")";};bH.p$2=function(ct){return ct.$==2?"Could not open new browser, Popup blocker may be active":ct.$==1?"Snippet Missing":"JsCompilerMsg ("+bL.prettyPrint(ct.$0)+", "+bL.prettyPrint(ct.$1)+")";};}());
