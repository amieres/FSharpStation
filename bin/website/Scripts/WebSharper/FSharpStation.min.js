(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2;a=window;b=a.FSSGlobal=a.FSSGlobal||{};c=b.Useful=b.Useful||{};d=c.Async=c.Async||{};e=c.KeyVal=c.KeyVal||{};f=c.String=c.String||{};g=c.Option=c.Option||{};h=a.WebSharper;i=h&&h.Obj;j=c.ExceptionThrown=c.ExceptionThrown||{};k=c.ErrOptionIsNone=c.ErrOptionIsNone||{};l=c.ErrSimple=c.ErrSimple||{};m=c.Result=c.Result||{};n=m.ropBuilder=m.ropBuilder||{};o=m.Seq=m.Seq||{};p=c.ResultS=c.ResultS||{};q=c.Wrap=c.Wrap||{};r=q.Builder=q.Builder||{};s=q.Seq=q.Seq||{};t=c.List=c.List||{};u=c.ResultWrap=c.ResultWrap||{};v=c.Mailbox=c.Mailbox||{};w=v.FoldNShare=v.FoldNShare||{};x=c.Dict=c.Dict||{};y=c.ResetableMemoize=c.ResetableMemoize||{};z=c.PreproDirective=c.PreproDirective||{};A=b.FsStationShared=b.FsStationShared||{};B=A.CodeSnippetId=A.CodeSnippetId||{};C=A.CodeSnippet=A.CodeSnippet||{};D=A.FSMessage=A.FSMessage||{};E=A.FSSeverity=A.FSSeverity||{};F=b.WSMessagingBroker=b.WSMessagingBroker||{};G=F.Address=F.Address||{};H=F.BrokerRequest=F.BrokerRequest||{};I=F.MessageType=F.MessageType||{};J=F.BrokerMessage=F.BrokerMessage||{};K=F.Replier=F.Replier||{};L=F.MessageGeneric=F.MessageGeneric||{};M=F.ClientTypeFSharp=F.ClientTypeFSharp||{};N=F.ClientTypeFSStation=F.ClientTypeFSStation||{};O=F.ClientTypeJScript=F.ClientTypeJScript||{};P=F.ErrBroker=F.ErrBroker||{};Q=F.WSMessagingClient=F.WSMessagingClient||{};R=F.FsStationClientErr=F.FsStationClientErr||{};S=F.FStationMessaging=F.FStationMessaging||{};T=b.FSAutoCompleteIntermediary=b.FSAutoCompleteIntermediary||{};U=T.CommTypes=T.CommTypes||{};V=U.ResponseError=U.ResponseError||{};W=U.Location=U.Location||{};X=U.CompletionResponse=U.CompletionResponse||{};Y=U.OverloadDescription=U.OverloadDescription||{};Z=U.OverloadParameter=U.OverloadParameter||{};_0=U.Overload=U.Overload||{};_1=U.Parameter=U.Parameter||{};_2=U.SignatureData=U.SignatureData||{};_3=U.MethodResponse=U.MethodResponse||{};_4=U.SymbolUseRange=U.SymbolUseRange||{};_5=U.SymbolUseResponse=U.SymbolUseResponse||{};_6=U.HelpTextResponse=U.HelpTextResponse||{};_7=U.CompilerLocationResponse=U.CompilerLocationResponse||{};_8=U.FSharpErrorInfo=U.FSharpErrorInfo||{};_9=U.ErrorResponse=U.ErrorResponse||{};_=U.Colorization=U.Colorization||{};$=U.Declaration=U.Declaration||{};ba=U.DeclarationResponse=U.DeclarationResponse||{};bb=U.OpenNamespace=U.OpenNamespace||{};bc=U.QualifySymbol=U.QualifySymbol||{};bd=U.ResolveNamespaceResponse=U.ResolveNamespaceResponse||{};be=U.UnionCaseResponse=U.UnionCaseResponse||{};bf=U.ACMessage=U.ACMessage||{};bg=T.FSAutoCompleteIntermediaryClient=T.FSAutoCompleteIntermediaryClient||{};bh=b.FsEvaluator=b.FsEvaluator||{};bi=bh.Evaluator=bh.Evaluator||{};bj=b.FsTranslator=b.FsTranslator||{};bk=b.HtmlNode=b.HtmlNode||{};bl=bk.Val=bk.Val||{};bm=bk.Var=bk.Var||{};bn=bk.ListModel=bk.ListModel||{};bo=bl.HelperType=bl.HelperType||{};bp=bl.valBuilder=bl.valBuilder||{};bq=bk.HtmlNode=bk.HtmlNode||{};br=bk.LoadFiles=bk.LoadFiles||{};bs=b.Template=b.Template||{};bt=bs.Button=bs.Button||{};bu=bs.Input=bs.Input||{};bv=bs.Hoverable=bs.Hoverable||{};bw=bs.Panel=bs.Panel||{};bx=bs.TextArea=bs.TextArea||{};by=bs.CodeMirrorPos=bs.CodeMirrorPos||{};bz=bs.CodeMirrorEditor=bs.CodeMirrorEditor||{};bA=bs.CodeMirror=bs.CodeMirror||{};bB=bs.Hint=bs.Hint||{};bC=bs.HintResponse=bs.HintResponse||{};bD=bs.HintOptions=bs.HintOptions||{};bE=bs.LintResponse=bs.LintResponse||{};bF=bs.SplitterBar=bs.SplitterBar||{};bG=bs.SectionType=bs.SectionType||{};bH=bs.Grid=bs.Grid||{};bI=bs.TabStrip=bs.TabStrip||{};bJ=bs.MenuEntry=bs.MenuEntry||{};bK=bs.MenuNode=bs.MenuNode||{};bL=bs.Menu=bs.Menu||{};bM=bs.Action=bs.Action||{};bN=bs.GuiPart=bs.GuiPart||{};bO=bs.HtmlNodeFable=bs.HtmlNodeFable||{};bP=bs.LayoutDescriptionFable=bs.LayoutDescriptionFable||{};bQ=bs.GuiPartSourceId=bs.GuiPartSourceId||{};bR=bs.Layout=bs.Layout||{};bS=b.RunCode=b.RunCode||{};bT=bS.RunNode=bS.RunNode||{};bU=b.FSharpStation=b.FSharpStation||{};bV=bU.FsGlobal=bU.FsGlobal||{};bW=bV.Position=bV.Position||{};bX=bV.ErrCompiler=bV.ErrCompiler||{};bY=bV.KeyMapAutoComplete=bV.KeyMapAutoComplete||{};bZ=h&&h.UI;b0=bZ&&bZ.Var;b1=bV.Property=bV.Property||{};b2=bV.PropValue=bV.PropValue||{};b3=bV.CodeSnippet=bV.CodeSnippet||{};b4=bU.FableModule=bU.FableModule||{};b5=b4.Babel=b4.Babel||{};b6=b4.Fable=b4.Fable||{};b7=a.StartupCode$FSharpStation$FSharpStation=a.StartupCode$FSharpStation$FSharpStation||{};b8=a.FSharpStation_GeneratedPrintf=a.FSharpStation_GeneratedPrintf||{};b9=a.FSharpStation_JsonEncoder=a.FSharpStation_JsonEncoder||{};b_=a.FSharpStation_JsonDecoder=a.FSharpStation_JsonDecoder||{};b$=a.GeneratedPrintf=a.GeneratedPrintf||{};ca=h&&h.Concurrency;cb=h&&h.Seq;cc=h&&h.Unchecked;cd=h&&h.Slice;ce=h&&h.Strings;cf=a.IntelliFactory;cg=cf&&cf.Runtime;ch=h&&h.Utils;ci=h&&h.Enumerator;cj=h&&h.Arrays;ck=a.console;cl=h&&h.List;cm=h&&h.Control;cn=cm&&cm.MailboxProcessor;co=h&&h.Collections;cp=co&&co.Dictionary;cq=h&&h.CancellationTokenSource;cr=a.System;cs=cr&&cr.Guid;ct=h&&h.Option;cu=a.JSON;cv=h&&h.TimeoutException;cw=h&&h.ClientSideJson;cx=cw&&cw.Provider;cy=h&&h.Owin;cz=cy&&cy.WebSocket;cA=cz&&cz.Client;cB=cA&&cA.WithEncoding;cC=cz&&cz.Endpoint;cD=a.location;cE=co&&co.Map;cF=co&&co.FSharpMap;cG=h&&h.Remoting;cH=cG&&cG.AjaxRemotingProvider;cI=bZ&&bZ.View;cJ=bZ&&bZ.FromView;cK=bZ&&bZ.Doc;cL=h&&h.Operators;cM=bZ&&bZ.AttrModule;cN=bZ&&bZ.AttrProxy;cO=bZ&&bZ.Input;cP=cO&&cO.Mouse;cQ=co&&co.FSharpSet;cR=co&&co.BalancedTree;cS=h&&h.MatchFailureException;cT=a.Object;cU=a.Fable;cV=a.Babel;cW=co&&co.HashSet;cX=h&&h.JavaScript;cY=cX&&cX.JSModule;cZ=h&&h.Lazy;c0=a.jQuery;c1=a.Date;c2=bZ&&bZ.ListModel;d.sleepThen=function(c3,c4){var c5;c5=null;return ca.Delay(function(){return ca.Bind(ca.Sleep(c4),function(){c3();return ca.Zero();});});};d.bind=function(c3,c4){return ca.Bind(c4,c3);};d.apply=function(c3,c4){var c5;c5=null;return ca.Delay(function(){return ca.Bind(ca.StartChild(c3,null),function(c6){return ca.Bind(ca.StartChild(c4,null),function(c7){return ca.Bind(c6,function(c8){return ca.Bind(c7,function(c9){return ca.Return(c8(c9));});});});});});};d.retn=function(c3){return ca.Return(c3);};d.iter=function(c3,c4){var c5;c5=null;return ca.Delay(function(){return ca.Bind(c4,function(c6){c3(c6);return ca.Zero();});});};d.map=function(c3,c4){var c5;c5=null;return ca.Delay(function(){return ca.Bind(c4,function(c6){return ca.Return(c3(c6));});});};e.tryGetValue=function(c3,c4){return cb.tryPick(function(c5){return cc.Equals(c5.K,c3)?{$:1,$0:c5.V}:null;},c4);};f.skipFirstLine=function(c3){var c4;c4=c3.indexOf("\n");return c4<0?"":cd.string(c3,{$:1,$0:c4+1},null);};f.append=function(c3,c4){return c3+c4;};f.trim=function(c3){return ce.Trim(c3);};f.splitByChar=function(c3,c4){return ce.SplitChars(c4,[c3],0);};g.modify=function(c3){var c4;function c5(c6){return c6==null?null:{$:1,$0:c3(c6.$0)};}c4=function(c6){return g.defaultValue(a.id,c6);};return function(c6){return c4(c5(c6));};};g.join=function(c3){return c3!=null&&c3.$==1?c3.$0:null;};g.apply=function(c3,c4){var c5;return c3!=null&&c3.$==1&&(c4!=null&&c4.$==1&&(c5=[c3.$0,c4.$0],true))?{$:1,$0:c5[0](c5[1])}:null;};g.iterFO=function(c3,c4){if(c3!=null&&c3.$==1)if(c4!=null&&c4.$==1)c4.$0(c3.$0);};g.iterF=function(c3,c4){if(c4!=null&&c4.$==1)c4.$0(c3);};g.call=function(c3,c4){return c4!=null&&c4.$==1?{$:1,$0:c4.$0(c3)}:null;};g.defaultWith=function(c3,c4){return c4==null?c3():c4.$0;};g.defaultValue=function(c3,c4){return c4==null?c3:c4.$0;};j=c.ExceptionThrown=cg.Class({toString:function(){return this.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return false;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return(function(c3){return function(c4){return c3(ch.prettyPrint(c4));};}(a.id))(this.exn);}},i,j);j.New=cg.Ctor(function(c3){this.exn=c3;},j);k=c.ErrOptionIsNone=cg.Class({toString:function(){return this.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return false;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return"Option is None";}},i,k);k.New=cg.Ctor(function(){},k);l=c.ErrSimple=cg.Class({toString:function(){return this.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return this.warning;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return this.msg;}},i,l);l.New=cg.Ctor(function(c3,c4){this.msg=c3;this.warning=c4;},l);n=m.ropBuilder=cg.Class({For:function(c3,c4){var c5;c5=this;return this.Using(ci.Get(c3),function(c6){return c5.While(function(){return c6.MoveNext();},c5.Delay(function(){return c4(c6.Current());}));});},Using:function(c3,c4){return this.TryFinally(function(){return c4(c3);},function(){if(!cc.Equals(c3,null))c3.Dispose();});},TryFinally:function(c3,c4){try{return this.ReturnFrom(c3());}finally{c4();}},TryWith:function(c3,c4){try{return this.ReturnFrom(c3());}catch(c5){return c4(c5);}},While:function(c3,c4){var c5;c5=this;return!c3()?this.Zero():this.Bind(c4(),function(){return c5.While(c3,c4);});},Run:function(c3){return m.bind(c3,m.succeed());},Combine:function(c3,c4){return m.combine(c3,c4);},Delay:a.id,Zero:function(){return m.succeed();},Bind:function(c3,c4){return m.bind(c4,c3);},ReturnFrom:a.id,Return:function(c3){return m.succeed(c3);}},i,n);n.New=cg.Ctor(function(){},n);o.sequenceA=function(c3){return o.traverseA(a.id,c3);};o.traverseA=function(c3,c4){return cb.fold(function(c5,c6){return m.apply(m.apply(m.succeed(function(c7){return function(c8){return o.cons(c7,c8);};}),c3(c6)),c5);},m.succeed([]),c4);};o.sequenceM=function(c3){return o.traverseM(a.id,c3);};o.traverseM=function(c3,c4){function c5(c6,c7){return m.bind(c7,c6);}return cb.fold(function(c6,c7){return c5(c3(c7),function(c8){return c5(c6,function(c9){return m.succeed(o.cons(c8,c9));});});},m.succeed([]),c4);};o.cons=function(c3,c4){return cb.append(c4,[c3]);};m.toResultS=function(c3){return{$:0,$0:c3.$0,$1:cj.map(function(c4){return new l.New(c4.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),c4.FSSGlobal_Useful_ErrMsg$get_IsWarning());},c3.$1)};};m.fromResultS=function(c3){return{$:0,$0:c3.$0,$1:cj.map(a.id,c3.$1)};};m.result2String=function(c3){return ce.concat("\n",[g.defaultValue("Failed: ",c3.$0)].concat(m.msgs2String(c3.$1)));};m.countMessages=function(c3){var c4,c5,c6,c7,c8,c9,c_;if(cc.Equals(c3,[]))return"";else{c7=cj.filter(function(c$){return!c$.FSSGlobal_Useful_ErrMsg$get_IsWarning();},c3);c8=cj.filter(function(c$){return c$.FSSGlobal_Useful_ErrMsg$get_IsWarning();},c3);c9=cj.length(c7);c_=cj.length(c8);switch(c9===0?c_===0?0:c_===1?2:5:c9===1?c_===0?1:c_===1?3:(c4=[c9,c_],6):c_===0?4:(c4=[c9,c_],6)){case 0:c6=function(c$){return function(da){return c$(ch.toSafe(da));};}(a.id);break;case 1:c6=function(c$){return function(da){return c$(ch.toSafe(da));};}(a.id);break;case 2:c6=function(c$){return function(da){return c$(ch.toSafe(da));};}(a.id);break;case 3:c6=function(c$){return function(da){return c$("1 error, 1 warning\n"+ch.toSafe(da));};}(a.id);break;case 4:c6=((cg.Curried3(function(c$,da,db){return c$(a.String(da)+" errors\n"+ch.toSafe(db));}))(a.id))(c9);break;case 5:c6=((cg.Curried3(function(c$,da,db){return c$(a.String(da)+" warnings\n"+ch.toSafe(db));}))(a.id))(c_);break;case 6:c6=(((cg.Curried(function(c$,da,db,dc){return c$(a.String(da)+" errors, "+a.String(db)+" warnings\n"+ch.toSafe(dc));},4))(a.id))(c4[0]))(c4[1]);break;}return c6(m.getMessages(c3));}};m.getMessages=function(c3){return ce.concat("\n",m.msgs2String(c3));};m.msgs2String=function(c3){return cj.map(function(c4){return c4.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},c3);};m.withError=function(c3,c4){var c5;c5=c4.$1;return g.defaultWith(function(){return c3(c5);},c4.$0);};m.ifError=function(c3,c4){return g.defaultValue(c3,c4.$0);};m.failIfTrue=function(c3,c4){return c4?m.fail(c3):m.succeed();};m.failIfFalse=function(c3,c4){return c4?m.succeed():m.fail(c3);};m.tryProtection=function(){return m.succeed();};m.toOptionMs=function(c3){return[c3.$0,c3.$1];};m.toOption=function(c3){return c3.$0;};m.toResultStr=function(c3){function c4(c6){return cb.map(a.String,c6);}function c5(c6){return ce.concat("\n",c6);}return m.toResult(function(c6,c7){return[c6,c7][0];},function(c6){return c5(c4(c6));},c3);};m.toResult=function(c3,c4,c5){return c5.$0==null?{$:1,$0:c4(c5.$1)}:{$:0,$0:c3(c5.$0.$0,c5.$1)};};m.fromOptionW=function(c3,c4){return c4!=null&&c4.$==1?m.succeed(c4.$0):m.fail(c3());};m.fromOption=function(c3,c4){return c4!=null&&c4.$==1?m.succeed(c4.$0):m.fail(c3);};m.fromChoice=function(c3){return c3.$==1?m.fail(c3.$0):m.succeed(c3.$0);};m.fromResult=function(c3){return c3.$==1?m.fail(new l.New(c3.$0,false)):m.succeed(c3.$0);};m.result=function(){b7.$cctor();return b7.result;};m.tryCall=function(c3,c4){try{return c3(c4);}catch(c5){return m.fail(m.failException(c5));}};m.Success=function(c3){return c3.$0==null?{$:1,$0:c3.$1}:{$:0,$0:[c3.$0.$0,c3.$1]};};m.isGood=function(c3){return c3.$0!=null;};m.isError=function(c3){return c3.$0==null;};m.failSimpleWarning=function(c3){return m.fail(new l.New(c3,true));};m.failSimpleError=function(c3){return m.fail(new l.New(c3,false));};m.map2=function(c3,c4,c5){return m.apply(m.apply(m.succeed(c3),c4),c5);};m.apply=function(c3,c4){return m.applyMap(function(c5){return function(c6){return m.map(c5,c6);};},c3,c4);};m.apply0=function(c3,c4){return m.applyMap(function(c5){return function(c6){return m.map0(c5,c6);};},c3,c4);};m.applyMap=function(c3,c4,c5){var c6;c6=c4.$0;return c6!=null&&c6.$==1?(c3(c6.$0))(c5):m.failWithMsgs(c4.$1.concat(m.getMsgs(c5)));};m.bind=function(c3,c4){return m.join(m.map(c3,c4));};m.bind0=function(c3,c4){return m.join(m.map0(c3,c4));};m.join=function(c3){var c4;return(c4=c3.$0,c4!=null&&c4.$==1)?{$:0,$0:c3.$0.$0.$0,$1:c3.$1.concat(c3.$0.$0.$1)}:{$:0,$0:null,$1:c3.$1};};m.combine=function(c3,c4){var c5;c5=c3.$1;return g.defaultValue({$:0,$0:null,$1:c5},c3.$0==null?null:{$:1,$0:m.mergeMsgs(c5,c4())});};m.mergeMsgs=function(c3,c4){var c5;c5=m.mapMsgs(function(c6){return c3.concat(c6);},c4);return{$:0,$0:c5[0],$1:c5[1]};};m.getMsgs=function(c3){return c3.$1;};m.getOption=function(c3){return c3.$0;};m.mapMsgs=function(c3,c4){return[c4.$0,c3(c4.$1)];};m.mapMsg=function(c3,c4){return[c4.$0,cj.map(c3,c4.$1)];};m.mapErr=function(c3,c4){return{$:0,$0:c4.$0,$1:cj.map(c3,c4.$1)};};m.map=function(c3,c4){var c5;try{return{$:0,$0:(c5=c4.$0,c5==null?null:{$:1,$0:c3(c5.$0)}),$1:c4.$1};}catch(c6){return m.fail(m.failException(c6));}};m.map0=function(c3,c4){var c5;return{$:0,$0:(c5=c4.$0,c5==null?null:{$:1,$0:c3(c5.$0)}),$1:c4.$1};};m.failException=function(c3){return new j.New(c3);};m.failWithMsgs=function(c3){return{$:0,$0:null,$1:c3};};m.fail=function(c3){return{$:0,$0:null,$1:[c3]};};m.succeedWithMsgs=function(c3,c4){return{$:0,$0:{$:1,$0:c3},$1:c4};};m.succeedWithMsg=function(c3,c4){return{$:0,$0:{$:1,$0:c3},$1:[c4]};};m.succeed=function(c3){return{$:0,$0:{$:1,$0:c3},$1:[]};};p.toResult=function(){b7.$cctor();return b7.toResult;};p.fromResult=function(){b7.$cctor();return b7.fromResult;};q.WNone={$:4};q.StartAsTask=function(c3,c4,c5){return ca.StartAsTask(q.getAsyncR(c3),c5);};q.Start=function(c3,c4){ca.Start(q.getAsync(c3),c4);};r=q.Builder=cg.Class({For:function(c3,c4){var c5;c5=this;return this.Using(ci.Get(c3),function(c6){return c5.While(function(){return c6.MoveNext();},c5.Delay(function(){return c4(c6.Current());}));});},Using:function(c3,c4){return this.TryFinally(function(){return c4(c3);},function(){if(!cc.Equals(c3,null))c3.Dispose();});},TryFinally:function(c3,c4){return q.tryFinally(c4,c3);},TryWith:function(c3,c4){return q.tryWith(c4,c3);},While:function(c3,c4){return q.whileLoop(c3,c4);},Combine:function(c3,c4){return q.combine(q.errOptionIsNone(),c3,c4);},Run:function(c3){return c3();},Delay:a.id,ReturnFrom:a.id,Return:function(c3){return{$:3,$0:c3};},Zero:function(){return{$:3,$0:null};},Bind:function(c3,c4){return q.bind(c4,g.defaultValue(q.WNone,c3==null?null:{$:1,$0:{$:3,$0:c3.$0}}));},Bind$1:function(c3,c4){var c5,c6,c7,c8;switch(c3.$0==null?(c7=c3.$1,!cc.Equals(c7,null)&&c7.length===0)?1:2:(c8=c3.$1,!cc.Equals(c8,null)&&c8.length===0)?(c6=c3.$0.$0,0):2){case 0:c5={$:3,$0:c6};break;case 1:c5=q.WNone;break;case 2:c5={$:0,$0:c3};break;}return q.bind(c4,c5);},Bind$2:function(c3,c4){return q.bind(c4,{$:1,$0:c3});},Bind$3:function(c3,c4){return q.bind(c4,c3);}},i,r);r.New=cg.Ctor(function(){},r);s.sequenceA=function(c3){return s.traverseA(a.id,c3);};s.traverseA=function(c3,c4){return cb.fold(function(c5,c6){return q.apply(q.apply(q.Return(function(c7){return function(c8){return s.cons(c7,c8);};}),c3(c6)),c5);},q.Return([]),c4);};s.sequenceM=function(c3){return s.traverseM(a.id,c3);};s.traverseM=function(c3,c4){function c5(c6,c7){return q.bind(c7,c6);}return cb.fold(function(c6,c7){return c5(c3(c7),function(c8){return c5(c6,function(c9){return q.Return(s.cons(c8,c9));});});},q.Return([]),c4);};s.cons=function(c3,c4){return cb.append(c4,[c3]);};q.runSynchronouslyS=function(c3,c4){var c5;c5=q.runSynchronouslyO(c3,c4);return c5[0]==null?(function(c6){return function(c7){return c6("Failed!\n"+ch.toSafe(c7));};}(a.id))(c5[1]):(((cg.Curried3(function(c6,c7,c8){return c6(a.String(c7)+"\n"+ch.toSafe(c8));}))(a.id))(c5[0].$0))(c5[1]);};q.runSynchronouslyO=function(c3,c4){return m.mapMsgs(c3?m.countMessages:m.getMessages,ck.log("runSynchronously should not be used in Javascript"));};q.getResult=function(c3,c4){if(c4.$==4)c3(m.fail(q.errOptionIsNone()));else if(c4.$==0)c3(c4.$0);else if(c4.$==1)ca.StartWithContinuations(c4.$0,function(c5){c3(m.succeed(c5));},function(c5){c3(m.fail(m.failException(c5)));},function(c5){c3(m.fail(m.failException(c5)));},null);else if(c4.$==2)ca.StartWithContinuations(c4.$0,c3,function(c5){c3(m.fail(m.failException(c5)));},function(c5){c3(m.fail(m.failException(c5)));},null);else c3(m.succeed(c4.$0));};q.wrapper=function(){b7.$cctor();return b7.wrapper;};q.wrap=function(){b7.$cctor();return b7.wrap;};q.tryFinally=function(c3,c4){var c5;return{$:2,$0:(c5=null,ca.Delay(function(){return ca.Bind(ca.Catch(q.toAsyncResult(c4())),function(c6){var c7,c8;c3();if(c6.$==1)throw c6.$0;else c8=c6.$0;return ca.Return(c8);});}))};};q.tryWith=function(c3,c4){var c5;return{$:2,$0:(c5=null,ca.Delay(function(){return ca.Bind(ca.Catch(q.toAsyncResult(c4())),function(c6){return c6.$==1?q.toAsyncResult(c3(c6.$0)):ca.Return(c6.$0);});}))};};q.whileLoop=function(c3,c4){return c3()?q.bind(function(){return q.whileLoop(c3,c4);},c4()):{$:3,$0:null};};q.combine=function(c3,c4,c5){var c6,c7,c8,c9;switch(c4.$==0?c4.$0.$0==null?(c6=c4.$0.$1,5):(c7=c4.$0.$1,!cc.Equals(c7,null)&&c7.length===0?0:(c6=c4.$0.$1,1)):c4.$==1?(c6=c4.$0,2):c4.$==2?(c6=c4.$0,3):c4.$==4?4:0){case 0:return c5();break;case 1:return q.addMsgs(c3,c6,c5());break;case 2:return{$:2,$0:(c8=null,ca.Delay(function(){return ca.Bind(c6,function(){return ca.Bind(q.toAsyncResult(c5()),function(c_){return ca.Return(c_);});});}))};break;case 3:return{$:2,$0:(c9=null,ca.Delay(function(){return ca.Bind(c6,function(c_){var c$,da;c$=m.Success(c_);return c$.$==0?(da=c$.$0[1],ca.Bind(q.toAsyncResult(c5()),function(db){return ca.Return(m.mergeMsgs(da,db));})):ca.Return(m.failWithMsgs(c$.$0));});}))};break;case 4:return q.WNone;break;case 5:return{$:0,$0:m.failWithMsgs(c6)};break;}};q.addMsgs=function(c3,c4,c5){var c6,c7,c8,c9;return cc.Equals(c4,[])?c5:c5.$==4?{$:0,$0:m.mergeMsgs(c4,m.fail(c3))}:c5.$==0?{$:0,$0:m.mergeMsgs(c4,c5.$0)}:c5.$==1?(c6=c5.$0,{$:2,$0:(c7=null,ca.Delay(function(){return ca.Bind(c6,function(c_){return ca.Return(m.succeedWithMsgs(c_,c4));});}))}):c5.$==2?(c8=c5.$0,{$:2,$0:(c9=null,ca.Delay(function(){return ca.Bind(c8,function(c_){return ca.Return(m.mergeMsgs(c4,c_));});}))}):{$:0,$0:m.succeedWithMsgs(c5.$0,c4)};};q.wrapper2Async=function(c3,c4){var c5,c6,c7,c8;c6=q.tryCall(c3,c4);switch(c6.$==3?0:c6.$==0?1:c6.$==1?2:c6.$==2?3:0){case 0:return q.wb2arb([],c6);break;case 1:return q.wb2arb(c6.$0.$1,c6);break;case 2:c7=c6.$0;c8=null;return ca.Delay(function(){return ca.Bind(c7,function(c9){return ca.Return(m.succeed(c9));});});break;case 3:return c6.$0;break;}};q.start=function(c3,c4){q.startV(function(c5){if(c5[0]==null)c3("Failed!\n"+c5[1]);else c3(c5[1]);},c4);};q.startV=function(c3,c4){var c5,c6,c7,c8;function c9(da){return m.mapMsgs(m.getMessages,da);}function c_(da){return[null,da];}function c$(da){return[null,da];}ca.StartWithContinuations(q.getAsyncR(c4),function(da){return c3(c9(da));},(c5=(c6=function(da){return function(db){return da(a.String(db));};}(a.id),function(da){return c_(c6(da));}),function(da){return c3(c5(da));}),(c7=(c8=function(da){return function(db){return da(a.String(db));};}(a.id),function(da){return c$(c8(da));}),function(da){return c3(c7(da));}),null);};q.toAsyncWithDefault=function(c3){return function(c4){return q.getAsyncWithDefault(c3,c4);};};q.toAsyncOptionMs=function(c3){return d.map(m.toOptionMs,q.getAsyncR(c3));};q.toAsyncOption=function(c3){return d.map(m.toOption,q.getAsyncR(c3));};q.toAsyncResultStr=function(c3){return d.map(m.toResultStr,q.getAsyncR(c3));};q.toAsyncResult=function(c3){return q.getAsyncR(c3);};q.toAsync=function(c3){return q.getAsync(c3);};q.fromAsyncResultStr=function(c3){return{$:2,$0:d.map(m.fromResult,c3)};};q.getAsync=function(c3){return q.getAsyncWithDefault(function(c4){throw a.Error(m.getMessages(c4));},c3);};q.getAsyncWithDefault=function(c3,c4){return d.map(function(c5){return m.withError(c3,c5);},q.getAsyncR(c4));};q.getResultW=function(c3){return{$:1,$0:q.getAsyncR(c3)};};q.getAsyncR=function(c3){var c4,c5;return c3.$==3?ca.Return(m.succeed(c3.$0)):c3.$==4?ca.Return(m.fail(q.errOptionIsNone())):c3.$==0?ca.Return(c3.$0):c3.$==2?c3.$0:(c4=c3.$0,(c5=null,ca.Delay(function(){return ca.Bind(c4,function(c6){return ca.Return(m.succeed(c6));});})));};q.apply=function(c3,c4){return q.bind(function(c5){return q.map(c5,c4);},c3);};q.apply0=function(c3,c4){return q.bind0(function(c5){return q.map0(c5,c4);},c3);};q.bind=function(c3,c4){return q.join(q.map(c3,c4));};q.bind0=function(c3,c4){return q.join(q.map0(c3,c4));};q.join=function(c3){var c4,c5,c6,c7,c8;return c3.$==4?q.WNone:c3.$==0?(c4=c3.$0.$0,c4!=null&&c4.$==1)?c3.$0.$0.$0:{$:0,$0:{$:0,$0:null,$1:c3.$0.$1}}:c3.$==1?(c5=c3.$0,{$:2,$0:(c6=null,ca.Delay(function(){return ca.Bind(c5,function(c9){return c9.$==3?ca.Return(m.succeed(c9.$0)):c9.$==0?ca.Return(c9.$0):c9.$==1?ca.Bind(c9.$0,function(c_){return ca.Return(m.succeed(c_));}):c9.$==2?ca.Bind(c9.$0,function(c_){return ca.Return(c_);}):ca.Return(m.fail(q.errOptionIsNone()));});}))}):c3.$==2?(c7=c3.$0,{$:2,$0:(c8=null,ca.Delay(function(){return ca.Bind(c7,function(c9){var c_,c$,da;return(c_=c9.$0,c_!=null&&c_.$==1)?(c$=c9.$1,(da=c9.$0.$0,da.$==3?ca.Return(m.succeedWithMsgs(da.$0,c$)):da.$==0?ca.Return(m.mergeMsgs(c$,da.$0)):da.$==1?ca.Bind(da.$0,function(db){return ca.Return(m.succeedWithMsgs(db,c$));}):da.$==2?ca.Bind(da.$0,function(db){return ca.Return(m.mergeMsgs(c$,db));}):ca.Return(m.failWithMsgs(c$.concat([q.errOptionIsNone()]))))):ca.Return(m.failWithMsgs(c9.$1));});}))}):c3.$0;};q.map=function(c3,c4){var c5,c6,c7,c8;if(c4.$==3)try{return{$:3,$0:c3(c4.$0)};}catch(c9){return{$:0,$0:m.fail(m.failException(c9))};}else return c4.$==0?{$:0,$0:m.map(c3,c4.$0)}:c4.$==1?(c5=c4.$0,{$:2,$0:(c6=null,ca.Delay(function(){return ca.Bind(c5,function(c_){var c$;try{c$=m.succeed(c3(c_));}catch(da){c$=m.fail(m.failException(da));}return ca.Return(c$);});}))}):c4.$==2?(c7=c4.$0,{$:2,$0:(c8=null,ca.Delay(function(){return ca.Bind(c7,function(c_){return ca.Return(m.map(c3,c_));});}))}):q.WNone;};q.map0=function(c3,c4){var c5,c6,c7,c8;return c4.$==3?{$:3,$0:c3(c4.$0)}:c4.$==0?{$:0,$0:m.map(c3,c4.$0)}:c4.$==1?(c5=c4.$0,{$:1,$0:(c6=null,ca.Delay(function(){return ca.Bind(c5,function(c9){return ca.Return(c3(c9));});}))}):c4.$==2?(c7=c4.$0,{$:2,$0:(c8=null,ca.Delay(function(){return ca.Bind(c7,function(c9){return ca.Return(m.map(c3,c9));});}))}):q.WNone;};q.Return=function(c3){return{$:3,$0:c3};};q["bind0'"]=function(c3,c4){var c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df;switch(c4.$==0?(c6=m.Success(c4.$0),c6.$==1?(c5=c6.$0,2):(c7=c6.$0[1],!cc.Equals(c7,null)&&c7.length===0?(c5=c6.$0[0],0):(c5=[c6.$0[0],c6.$0[1]],3))):c4.$==4?1:c4.$==1?(c5=c4.$0,4):c4.$==2?(c5=c4.$0,5):(c5=c4.$0,0)){case 0:return q.tryCall(c3,c5);break;case 1:return q.WNone;break;case 2:return{$:0,$0:m.failWithMsgs(c5)};break;case 3:c8=c5[1];c9=q.tryCall(c3,c5[0]);return c9.$==4?{$:0,$0:m.failWithMsgs(c8.concat([q.errOptionIsNone()]))}:c9.$==0?(c_=m.Success(c9.$0),c_.$==1?{$:0,$0:m.failWithMsgs(c8.concat(c_.$0))}:(c$=c_.$0[1],!cc.Equals(c$,null)&&c$.length===0?{$:0,$0:m.succeedWithMsgs(c_.$0[0],c8)}:{$:0,$0:m.succeedWithMsgs(c_.$0[0],c8.concat(c_.$0[1]))})):c9.$==1?(da=c9.$0,{$:2,$0:(db=null,ca.Delay(function(){return ca.Bind(da,function(dg){return ca.Return(m.succeedWithMsgs(dg,c8));});}))}):c9.$==2?(dc=c9.$0,{$:2,$0:(dd=null,ca.Delay(function(){return ca.Bind(dc,function(dg){return ca.Return(m.mergeMsgs(c8,dg));});}))}):{$:0,$0:m.succeedWithMsgs(c9.$0,c8)};break;case 4:return{$:2,$0:(de=null,ca.Delay(function(){return ca.Bind(c5,function(dg){return q.wb2arb([],q.tryCall(c3,dg));});}))};break;case 5:return{$:2,$0:(df=null,ca.Delay(function(){return ca.Bind(c5,function(dg){var dh,di,dj;dh=m.Success(dg);return dh.$==1?(di=dh.$0,dj=null,ca.Delay(function(){return ca.Return(m.failWithMsgs(di));})):q.wb2arb(dh.$0[1],q.tryCall(c3,dh.$0[0]));});}))};break;}};q.tryCall=function(c3,c4){try{return c3(c4);}catch(c5){return{$:0,$0:m.fail(m.failException(c5))};}};q.wb2arb=function(c3,c4){var c5,c6,c7,c8,c9,c_,c$,da,db;return c4.$==2?(c5=c4.$0,(c6=null,ca.Delay(function(){return ca.Bind(c5,function(dc){return ca.Return(m.mergeMsgs(c3,dc));});}))):c4.$==0?(c7=c4.$0,(c8=null,ca.Delay(function(){return ca.Return(m.mergeMsgs(c3,c7));}))):c4.$==3?(c9=c4.$0,(c_=null,ca.Delay(function(){return ca.Return(m.succeedWithMsgs(c9,c3));}))):c4.$==4?(c$=null,ca.Delay(function(){return ca.Return(m.failWithMsgs(c3.concat([q.errOptionIsNone()])));})):(da=c4.$0,(db=null,ca.Delay(function(){return ca.Bind(da,function(dc){return ca.Return(m.succeedWithMsgs(dc,c3));});})));};q.errOptionIsNone=function(){b7.$cctor();return b7.errOptionIsNone;};t.sequenceResultA=function(c3){return t.traverseResultA(a.id,c3);};t.traverseResultA=function(c3,c4){return cl.foldBack(function(c5,c6){return m.apply(m.apply(m.succeed(function(c7){return function(c8){return c.cons(c7,c8);};}),c3(c5)),c6);},c4,m.succeed(cl.T.Empty));};t.sequenceWrapA=function(c3){return t.traverseWrapA(a.id,c3);};t.traverseWrapA=function(c3,c4){function c5(c6){return{$:3,$0:c6};}return cl.foldBack(function(c6,c7){return q.apply(q.apply(c5(function(c8){return function(c9){return c.cons(c8,c9);};}),c3(c6)),c7);},c4,c5(cl.T.Empty));};t.sequenceWrapM=function(c3){return t.traverseWrapM(a.id,c3);};t.traverseWrapM=function(c3,c4){function c5(c6,c7){return q.bind(c7,c6);}return cl.foldBack(function(c6,c7){return c5(c3(c6),function(c8){return c5(c7,function(c9){return q.Return(c.cons(c8,c9));});});},c4,q.Return(cl.T.Empty));};u.wrap=function(){b7.$cctor();return b7.wrap$1;};u.result=function(){b7.$cctor();return b7.result$1;};w=v.FoldNShare=cg.Class({get_Agent:function(){return this.agent;},get_State:function(){return this.share;},get_Post:function(){var c3;c3=this.agent;return function(c4){c3.mailbox.AddLast(c4);c3.resume();};}},i,w);w.New=cg.Ctor(function(c3,c4){var c5;c5=this;this.share=c4;this.agent=cn.Start(function(c6){function c7(c8){var c9;c9=null;return ca.Delay(function(){return ca.TryWith(ca.Delay(function(){return ca.Bind(c6.Receive(null),function(c_){return ca.Bind(c3(c8,c_),function(c$){c5.share=c$;return c7(c$);});});}),function(c_){((function(c$){return function(da){return c$(ch.prettyPrint(da));};}(function(c$){ck.log(c$);}))(c_));return c7(c8);});});}return c7(c4);},null);},w);v.foldNShare=function(c3,c4){return new w.New(c3,c4);};v.fold=function(c3,c4){return v.foldA(function(c5,c6){var c7;c7=null;return ca.Delay(function(){return ca.Return(c3(c5,c6));});},c4);};v.foldA=function(c3,c4){return cn.Start(function(c5){function c6(c7){var c8;c8=null;return ca.Delay(function(){return ca.TryWith(ca.Delay(function(){return ca.Bind(c5.Receive(null),function(c9){return ca.Bind(c3(c7,c9),function(c_){return c6(c_);});});}),function(c9){((function(c_){return function(c$){return c_(ch.prettyPrint(c$));};}(function(c_){ck.log(c_);}))(c9));return c6(c7);});});}return c6(c4);},null);};v.call=function(c3){return v.callA(function(c4){var c5;c5=null;return ca.Delay(function(){return ca.Return(c3(c4));});});};v.callA=function(c3){return v.iterA(function(c4){var c5,c6,c7;c5=c4[0];c6=c4[1];c7=null;return ca.Delay(function(){return ca.Bind(c3(c6),function(c8){c5(c8);return ca.Zero();});});});};v.iter=function(c3){return v.iterA(function(c4){var c5;c5=null;return ca.Delay(function(){c3(c4);return ca.Zero();});});};v.iterA=function(c3){return cn.Start(function(c4){var c5;c5=null;return ca.Delay(function(){return ca.While(function(){return true;},ca.Delay(function(){return ca.TryWith(ca.Delay(function(){return ca.Bind(c4.Receive(null),function(c6){return ca.Bind(c3(c6),function(){return ca.Return(null);});});}),function(c6){((function(c7){return function(c8){return c7(ch.prettyPrint(c8));};}(function(c7){ck.log(c7);}))(c6));return ca.Zero();});}));});},null);};x.add=function(c3,c4,c5){if(c5.ContainsKey(c3))c5.set_Item(c3,c4);else c5.Add(c3,c4);};y=c.ResetableMemoize=cg.Class({ClearCache:function(){this.cache.Clear();}},i,y);y.New=cg.Ctor(function(c3){this.f=c3;this.cache=new cp.New$5();},y);z.NoPrepo={$:11};z.PrepoEndIf={$:8};z.PrepoElse={$:7};c.asyncStartCancelling=function(){var c3;c3=null;return function(c4){var c5;c3==null?void 0:c3.$0.Cancel$1();c5=new cq.New();ca.Start(c4,{$:1,$0:c5});c3={$:1,$0:c5};};};c.separateDirectives=function(c3){var c4,c5,c6,c7;function c8(de){return de[1];}function c9(de){return de.$==0?{$:1,$0:de.$0}:null;}function c_(de){return de[1];}function c$(de){return de.$==1?{$:1,$0:de.$0}:null;}function da(de){return de[1];}function db(de){return de.$==5?{$:1,$0:de.$0}:null;}function dc(de){return de[1];}function dd(de){return de.$==4?{$:1,$0:de.$0}:null;}c4=cj.ofSeq(cb.distinct(cb.choose(function(de){return c9(c8(de));},c3)));c5=cj.ofSeq(cb.distinct(cb.choose(function(de){return c$(c_(de));},c3)));c6=cj.ofSeq(cb.distinct(cb.choose(function(de){return db(da(de));},c3)));c7=cj.ofSeq(cb.distinct(cb.choose(function(de){return dd(dc(de));},c3)));return[cj.ofSeq(cb.map(function(de){return de[0];},c3)),c4,c5,c6,c7];};c.separatePrepros=function(c3,c4){var c5;function c6(c9){return g.defaultValue(c9,cb.tryLast(ce.SplitStrings(ce.Trim(c9),["\""],1)));}function c7(c9){return g.defaultValue("",cb.tryHead(ce.SplitStrings(ce.Trim(c9),["#define "],1)));}function c8(c9){return"//"+c9;}c5=c3?c8:a.id;return cj.map(function(c9){var c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk;c_=true;return c_&&ce.StartsWith(c9,"#define")?[c8(c9),{$:1,$0:c7(c9)}]:c_&&ce.StartsWith(c9,"#r")?[c8(c9),{$:0,$0:c6(c9)}]:c_&&ce.StartsWith(c9,"#load")?[c8(c9),{$:2,$0:c6(c9)}]:c_&&ce.StartsWith(c9,"#nowarn")?[c8(c9),{$:4,$0:c6(c9)}]:c_&&ce.StartsWith(c9,"# ")?[c5(c9),{$:3,$0:c6(c9)}]:c_&&ce.StartsWith(c9,"#line")?[c5(c9),{$:3,$0:c6(c9)}]:c_&&ce.StartsWith(c9,"#I")?[c8(c9),{$:5,$0:c6(c9)}]:c_&&ce.StartsWith(c9,"#if")?[c9,{$:6,$0:c9}]:c_&&ce.StartsWith(c9,"#else")?[c9,z.PrepoElse]:c_&&ce.StartsWith(c9,"#endif")?[c9,z.PrepoEndIf]:c_&&ce.StartsWith(c9,"#light")?[c9,{$:9,$0:false}]:c_&&ce.StartsWith(c9,"#")?[c8(c9),{$:10,$0:c9}]:[c9,z.NoPrepo];},c4);};c.mapPrint=function(c3){c.print(c3);return c3;};c.print=function(c3){((function(c4){return function(c5){return c4(ch.prettyPrint(c5));};}(function(c4){ck.log(c4);}))(c3));};c.printoutfn=function(c3,c4){return c4(function(c5){return c3(c5+"\n");});};c.dprintfn=function(c3){return c3(a.ignore);};c.rexGuid=function(){b7.$cctor();return b7.rexGuid;};c.REGEX=function(c3,c4,c5){var c6;if(c5===null)return null;else try{c6=(new a.String(c5)).match(new a.RegExp(c3,c4));return cc.Equals(c6,null)?null:!cc.Equals(c6,null)&&c6.length===0?null:{$:1,$0:c6};}catch(c7){return null;}};c.cons=function(c3,c4){return new cl.T({$:1,$0:c3,$1:c4});};c.errSimple=function(c3){return new l.New(c3,false);};c.extract=function(c3,c4){var c5;return ce.Substring(c4,0,(c5=c4.length,cc.Compare(c3,c5)===-1?c3:c5));};B=A.CodeSnippetId=cg.Class({get_Text:function(){return a.String(this.$0);}},null,B);B.get_New=function(){return new B({$:0,$0:cs.NewGuid()});};C=A.CodeSnippet=cg.Class({SeparateCode:function(c3){var c4,c5,c6,c7,c8,c9;function c_(c$,da){return[ce.replicate(c5," ")+c$,da];}c4=!c3||this.properties.ContainsKey("NoLinePre");c5=this.levelCode*2;c6=c5===0?[a.id,""]:[function(c$){return cj.map(function(da){return c_(da[0],da[1]);},c$);},(function(c$){return function(da){return c$("("+a.String(da)+")");};}(a.id))(c5)];c7=c.separateDirectives(c6[0](c.separatePrepros(!c3,(c4?a.id:(c8=[(((cg.Curried3(function(c$,da,db){return c$("# 1 @\""+ch.toSafe(da)+ch.toSafe(db)+"\"");}))(a.id))(c6[1]))(this.get_NameSanitized())],function(c$){return c8.concat(c$);}))(ce.SplitChars(this.content,["\n"],0)))));c9=c7[0];return[[[this.get_NameSanitized(),cj.length(c9),c5]],c9,c7[1],c7[2],c7[3],c7[4]];},UniquePredecessors:function(c3){return A.predsL(c3,cl.ofArray([this.id]));},get_NameSanitized:function(){return this.id.get_Text()+" "+A.sanitize(this.get_Name())+".fsx";},get_Name:function(){return A.snippetName(this.name,this.content);}},null,C);C.CodeFsx=function(c3,c4){return(C.CodeAndStarts(c3,c4))[0];};C.CodeAndStarts=function(c3,c4){var c5;c5=C.ReducedCode(c3,c4);return C.FinishCode(c3,c5[0],c5[1],c5[2],c5[3],c5[4],c5[5]);};C.FinishCode=function(c3,c4,c5,c6,c7,c8,c9){var c_,c$;c_=ce.concat(" ",cb.map(function(da){return"-d:"+da;},cb.sort(c7)));c$=cl.ofSeq(cb.delay(function(){return cb.append(c_!==""?["////"+c_]:[],cb.delay(function(){return cb.append(cb.map(function(da){return function(db){return da("#I @\""+ch.toSafe(db)+"\"");};}(a.id),c8),cb.delay(function(){return cb.append(cb.map(function(da){return function(db){return da("#r @\""+ch.toSafe(db)+"\"");};}(a.id),c6),cb.delay(function(){return cb.append(c3&&!cb.isEmpty(c9)?["# 1 \"required for nowarns to work\""]:[],cb.delay(function(){return cb.map(function(da){return function(db){return da("#nowarn \""+ch.toSafe(db)+"\"");};}(a.id),c9);}));}));}));}));}));return[ce.concat("\n",cb.append(c$,c5)),cj.ofSeq((cb.mapFold(function(da,db){var dc;dc=db[1];return[[db[0],[db[2],da,da+dc]],da+dc];},c$.get_Length(),c4))[0])];};C.ReducedCode=function(c3,c4){var c5,c6;function c7(c8,c9,c_,c$,da,db){return function(dc){return C.AddSeps(c8,c9,c_,c$,da,db,dc[0],dc[1],dc[2],dc[3],dc[4],dc[5]);};}c5=cb.reduce(function(c8,c9){return(function(c_){return c7(c_[0],c_[1],c_[2],c_[3],c_[4],c_[5]);}(c8))(c9);},(c6=cb.map(function(c8){return c8.SeparateCode(c3);},c4),cb.isEmpty(c6)?[[[],[],[],[],[],[]]]:c6));return[c5[0],[ce.concat("\n",c5[1])],c5[2],c5[3],c5[4],c5[5]];};C.AddSeps=function(c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc){return[c3.concat(c9),c4.concat(c_),cj.ofSeq(cb.distinct(cb.append(c5,c$))),cj.ofSeq(cb.distinct(cb.append(c6,da))),cj.ofSeq(cb.distinct(cb.append(c7,db))),cj.ofSeq(cb.distinct(cb.append(c8,dc)))];};C.TryFindByKey=function(c3,c4){return cb.tryFind(function(c5){return cc.Equals(c5.id,c4);},c3);};C.New=function(c3,c4,c5,c6,c7,c8,c9,c_,c$){return new C({name:c3,content:c4,parent:c5,predecessors:c6,id:c7,expanded:c8,level:c9,levelCode:c_,properties:c$});};D.GetWholeFile={$:11};D.GetIdentification={$:0};E.FSInfor={$:2};E.FSWarning={$:1};E.FSError={$:0};A.predsL=function(c3,c4){var c5,c6;c5=c4;c6=cl.T.Empty;while(!(c5.$==0))(function(){var c7,c8;return c5.$==1?(c7=c5.$1,(c8=c5.$0,cb.contains(c8,c6)?void(c5=c7):(c5=cl.collect(a.id,cl.ofArray([c7,cl.collect(function(c9){return cl.append(ct.toList(c9.parent),c9.predecessors);},ct.toList(c3(c8)))])),void(c6=new cl.T({$:1,$0:c8,$1:c6}))))):null;}());return c6;};A.preds=function(c3,c4,c5){var c6,c7;return c5.$==1?(c6=c5.$0,(c7=cl.collect(a.id,cl.ofArray([c5.$1,cl.collect(function(c8){return cl.append(ct.toList(c8.parent),c8.predecessors);},ct.toList(c3(c6)))])),A.preds(c3,cb.contains(c6,c4)?c4:new cl.T({$:1,$0:c6,$1:c4}),c7))):c4;};A.sanitize=function(c3){var c4;c4=["\"","<",">","|","\u0000","\u0001","\u0002","\u0003","\u0004","\u0005","\u0006","\u0007","\u0008","\u0009","\n","\u000b","\u000c","\r","\u000e","\u000f","\u0010","\u0011","\u0012","\u0013","\u0014","\u0015","\u0016","\u0017","\u0018","\u0019","\u001a","\u001b","\u001c","\u001d","\u001e","\u001f",":","*","?","\\","/"];return ce.Filter(function(c5){return!cj.contains(c5,c4);},c3);};A.snippetName=function(c3,c4){return c3!==""?c3:g.defaultValue("<empty>",cb.tryHead(cb.filter(function(c5){return!(ce.StartsWith(c5,"#")||ce.StartsWith(c5,"[<")||ce.StartsWith(c5,"//"));},cb.map(ce.Trim,ce.SplitChars(c4,["\n"],1)))));};G=F.Address=cg.Class({get_txt:function(){return this.$0;}},null,G);H.BRGetConnections={$:0};I.MsgRequestForEcho={$:5};I.MsgRequestForId={$:4};I.MsgFromBroker={$:3};I.MsgReply={$:2};I.MsgRequest={$:1};I.MsgInformation={$:0};J.BMReceiverCantReply={$:4};J.BMOnlyBrokerShouldUse={$:1};J.BMOk={$:0};K.Receiver={$:2};K.Broker={$:1};K.NoReply={$:0};L.New=function(c3,c4,c5,c6,c7,c8,c9){return{from:c3,destination:c4,msgType:c5,subtype:c6,id:c7,payload:c8,replier:c9};};M.FSharp={$:0};N.FSStation={$:0};O.JScript={$:0};P=F.ErrBroker=cg.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return false;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return(function(c3){return function(c4){return c3(b8.p(c4));};}(a.id))(this.bm);}},i,P);P.New=cg.Ctor(function(c3){this.bm=c3;},P);Q=F.WSMessagingClient=cg.Class({sendMsg:function(c3){var c4,c5;c4=this;c5=q.wrap();return c5.Run(c5.Delay(function(){return c3.replier.$===0?c5.Bind$3(c4.sendAndForget(c3),function(){return c5.Return("");}):c5.ReturnFrom(c4.sendGetReply(c3));}));},getListeners:function(){var c3,c4;c3=this;c4=q.wrap();return c4.Run(c4.Delay(function(){var c5,c6;return c4.Bind$3(c3.sendGetReply((c5=F.MessageBrokerAddress(),(c6=cu.stringify((b9.j$10())(H.BRGetConnections)),L.New(new G({$:0,$0:""}),c5,I.MsgRequest,"",cs.NewGuid(),c6,K.NoReply)))),function(c7){return c4.Return((b_.j$10())(cu.parse(c7)).$0);});}));},sendGetReply:function(c3){var c4,c5;c4=this;c5=q.wrap();return c5.Run(c5.Delay(function(){return c5.Bind$3(c4.sendAndReply(K.Receiver,c3),function(c6){var c7;return c5.Bind$1((c7=c6.msgType,c7.$==2?m.succeed(c6.payload):c7.$==3?m.fail(new P.New((b_.j$11())(cu.parse(c6.payload)))):m.fail(new P.New({$:5,$0:c6.msgType}))),function(c8){return c5.Return(c8);});});}));},sendAndVerify:function(c3){var c4,c5;c4=this;c5=q.wrap();return c5.Run(c5.Delay(function(){return c5.Bind$3(c4.sendAndReply(K.Broker,c3),function(c6){var c7;return c5.Bind$1(c6.msgType.$==3?(c7=(b_.j$11())(cu.parse(c6.payload)),c7.$===0?m.succeed():m.fail(new P.New(c7))):m.fail(new P.New({$:5,$0:c6.msgType})),function(){return c5.Return();});});}));},sendAndReply:function(c3,c4){var c5,c6;c5=this;c6=q.wrap();return c6.Run(c6.Delay(function(){return c6.Bind$3(c5.getServer(),function(c7){return c6.Bind$2(ca.FromContinuations(function(c8,c9,c_){var c$,da;c$=c5.waiting;c$.mailbox.AddLast({$:0,$0:c4.id,$1:[c8,c9,c_]});c$.resume();c5.postR(c7,c3,c4);return c5.wsTimeout>0?ca.Start((da=null,ca.Delay(function(){return ca.Bind(ca.Sleep(c5.wsTimeout),function(){var db;db=c5.waiting;db.mailbox.AddLast({$:2,$0:c4.id,$1:function(){return new cv.New$1((((cg.Curried3(function(dc,dd,de){return dc("Did not receive reply in "+a.String(dd)+" seconds for Message: "+b$.p$23(de));}))(a.id))(c5.wsTimeout/1000>>0))(c4));}});db.resume();return ca.Zero();});})),null):null;}),function(c8){return c6.Return(c8);});});}));},sendAndForget:function(c3){var c4,c5;c4=this;c5=q.wrap();return c5.Run(c5.Delay(function(){return c5.Bind$3(c4.getServer(),function(c6){c4.postR(c6,K.NoReply,c3);return c5.Zero();});}));},postR:function(c3,c4,c5){try{c3.FSSGlobal_WSMessagingBroker_IServer$Post(F.replier(c4,F.from(this.clientAddress,c5)));}catch(c6){this.serverO=null;throw c6;}},getServer:function(){var c3,c4;c3=this;c4=q.wrap();return c4.Run(c4.Delay(function(){return c4.Bind$2(c3.checkServer.PostAndAsyncReply(function(c5){return[c5,null];},null),function(c5){return c4.Bind$1(c5,function(c6){return c4.Return(c6);});});}));},connectToWebSocketServer:function(){var c3,c4;c3=this;c.dprintfn(function(c5){return c5("in connectToWebSocketServer");});c4=null;return ca.Delay(function(){return ca.Bind(((c3.connectStateful(c3.wsEndPoint))(c3.clientId))(function(c5){var c6;c6=null;return ca.Delay(function(){return ca.Return([0,function(c7){return function(c8){var c9;c9=null;return ca.Delay(function(){return ca.Combine(ca.TryWith(ca.Delay(function(){return c8.$==2?((c.printoutfn(c3.out,function(c_){return function(c$){return c_("WebSocket "+ch.toSafe(c$)+" connection open.");};}))(c3.clientId),c3.serverO={$:1,$0:c5},ca.Zero()):c8.$==3?((c.printoutfn(c3.out,function(c_){return function(c$){return c_("WebSocket "+ch.toSafe(c$)+" connection closed.");};}))(c3.clientId),c3.close(),ca.Zero()):c8.$==1?((c.printoutfn(c3.out,function(c_){return function(c$){return c_("WebSocket "+ch.toSafe(c$)+" connection error!");};}))(c3.clientId),ca.Zero()):(c3.processMessage(c8.$0),ca.Zero());}),function(c_){(((cg.Curried3(function(c$,da,db){return c$("msg: "+b8.p$16(da)+" \nexn:"+ch.prettyPrint(db));}))(function(c$){ck.log(c$);}))(c8))(c_);return ca.Zero();}),ca.Delay(function(){return ca.Return(c7);}));});};}]);});}),function(){c.dprintfn(function(c5){return c5("connectToWebSocketServer with server");});return ca.Zero();});});},processMessage:function(c3){var c4,c5,c6,c7,c9;c5=this;(c.dprintfn(function(c_){return function(c$){return c_(b$.p$23(c$));};}))(c3);c6=c3.msgType;function c8(c_){c5.reply(c_);}switch(c6.$==2?0:c6.$==0?1:c6.$==1?2:c6.$==5?3:c6.$==4?4:0){case 0:this.processReply(c3);break;case 1:((c.printoutfn(this.out,cg.Curried3(function(c_,c$,da){return c_("Information from '"+ch.toSafe(c$)+"': "+ch.toSafe(da));})))(c3.from.get_txt()))(((cx.Id())())(cu.parse(c3.payload)));break;case 2:c7=this.payloadProcessorO;c7!=null&&c7.$==1?q.Start(q.map(function(c_){return c8(F.makeReply(c_));},c5.mapPayloadWrap(c7.$0,c3)),null):c3.replier.$===2?null:null;break;case 3:c5.reply(F.msgType(I.MsgInformation,F.mapPayload(a.id,c3)));break;case 4:c5.reply(F.msgType(I.MsgInformation,(c9=F.makeReply(c3),L.New(c9.from,c9.destination,c9.msgType,c9.subtype,c9.id,cu.stringify(((cx.Id())())(this.clientId)),c9.replier))));break;}},mapPayloadWrap:function(c3,c4){var c5;c5=q.wrap();return c5.Run(c5.Delay(function(){return c5.Bind$3(c3(c4.payload),function(c6){return c5.Return(F.mapPayload(function(){return c6;},c4));});}));},processReply:function(c3){var c4;c4=this.waiting;c4.mailbox.AddLast({$:1,$0:c3.id,$1:c3});c4.resume();},close:function(){var c3;c3=this.serverO;c3==null?void 0:(c3.$0.FSSGlobal_WSMessagingBroker_IServer$Close(),this.serverO=null);},reply:function(c3){var c4;c4=this.serverO;c4==null?void 0:c4.$0.FSSGlobal_WSMessagingBroker_IServer$Post(F.destination(c3.from,F.from(this.clientAddress,c3)));},set_Out:function(c3){this.out=c3;},SendMsg:function(c3){return this.sendMsg(c3);},get_ClientId:function(){return this.clientId;},get_EndPoint:function(){return this.wsEndPoint;},get_MBListeners:function(){return this.getListeners();},Dispose:function(){this.close();}},i,Q);Q.New=cg.Ctor(function(c3,c4,c5){Q.New$1.call(this,cg.Curried3(function(c6,c7,c8){return d.map(a.ignore,cB.ConnectStateful(function(c9){return cu.stringify((b9.j())(c9));},function(c9){return(b_.j())(cu.parse(c9));},cC.CreateRemote((((cg.Curried3(function(c9,c_,c$){return c9("ws://"+ch.toSafe(c_)+"?ClientId="+ch.toSafe(c$));}))(a.id))(c6))(c7),{$:1,$0:cz.JsonEncoding.Readable}),function(c9){return c8({FSSGlobal_WSMessagingBroker_IServer$Post:function(c_){return c9.Post(c_);},FSSGlobal_WSMessagingBroker_IServer$Close:function(){return c9.get_Connection().close(1000);}});}));}),c3,c4,c5);},Q);Q.New$1=cg.Ctor(function(c3,c4,c5,c6){var c7,c8;c7=this;this.connectStateful=c3;this.clientId=c4;this.wsEndPoint=(c8=F.extractEndPoint()+"/ws",c6==null?c8:c6.$0);this.clientAddress=new G({$:0,$0:this.clientId});this.wsTimeout=c5==null?60000:c5.$0;this.out=function(c9){return function(c_){return c9(ch.toSafe(c_));};}(function(c9){ck.log(c9);});this.serverO=null;this.payloadProcessorO=null;this.waiting=F.waitingAgent(function(c9){((c.printoutfn(c7.out,cg.Curried3(function(c_,c$,da){return c_("Reply from '"+ch.toSafe(c$)+"': "+ch.toSafe(da));})))(c9.from.get_txt()))(c9.payload);});this.checkServer=v.callA(function(){var c9;c9=null;return ca.Delay(function(){c.dprintfn(function(c_){return c_("getServer");});return ca.Combine(c7.serverO==null?(c.dprintfn(function(c_){return c_("getServer Connecting");}),ca.Bind(c7.connectToWebSocketServer(),function(){return ca.Bind(ca.Sleep(200),function(){return ca.Return(null);});})):ca.Zero(),ca.Delay(function(){var c_;return ca.Return((c_=c7.serverO,m.fromOption(new l.New("could not connect to Server",false),c_)));}));});});},Q);R=F.FsStationClientErr=cg.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return this.$==0&&this.$1.$==0;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return this.$==0?(((cg.Curried3(function(c3,c4,c5){return c3(b8.p$3(c4)+" "+ch.toSafe(c5));}))(a.id))(this.$1))(this.$0):(function(c3){return function(c4){return c3(b8.p$4(c4));};}(a.id))(this);}},null,R);S=F.FStationMessaging=cg.Class({snippetResponse:function(c3){return c3.$==2?m.succeed(c3.$0):m.fail(new R({$:1,$0:a.String(c3)}));},snippetsResponse:function(c3){return c3.$==3?m.succeed(c3.$0):m.fail(new R({$:1,$0:a.String(c3)}));},stringResponse:function(c3){var c4,c5;return c3.$==1&&((c5=c3.$0,c5!=null&&c5.$==1)&&(c4=c3.$0.$0,true))?m.succeed(c4):m.fail(new R({$:1,$0:a.String(c3)}));},stringResponseR:function(c3){var c4,c5;function c6(c7,c8){return new R({$:0,$0:c7,$1:c8});}return c3.$==4&&((c5=c3.$0,c5!=null&&c5.$==1)&&(c4=[c3.$0.$0,c3.$1],true))?m.succeedWithMsgs(c4[0],cj.ofSeq(cb.map(function(c7){return c6(c7[0],c7[1]);},c4[1]))):m.fail(new R({$:1,$0:a.String(c3)}));},toId:function(){return new G({$:0,$0:this.fsIds});},get_MessagingClient:function(){return this.msgClient;},set_FSStationId:function(c3){this.fsIds=c3;},get_FSStationId:function(){return this.fsIds;},RunActionCall:function(c3,c4,c5){var c6,c7,c8,c9,c_;function c$(da){return c6.stringResponseR(da);}c6=this;c7=this.toId();c8=this;c9={$:14,$0:c3,$1:c4,$2:c5};c_=q.wrap();return c_.Run(c_.Delay(function(){var da;return c_.Bind$3(q.map(function(db){return(b_.j$4())(cu.parse(db));},c8.msgClient.sendGetReply((da=cu.stringify((b9.j$4())(c9)),L.New(new G({$:0,$0:""}),c7,I.MsgRequest,"",cs.NewGuid(),da,K.NoReply)))),function(db){return c_.Bind$1(c$(db),function(dc){return c_.Return(dc);});});}));},RunSnippet:function(c3,c4){var c5,c6,c7,c8,c9;function c_(c$){return c5.stringResponseR(c$);}c5=this;c6=this.toId();c7={$:13,$0:ce.SplitChars(c4,["/"],0),$1:c3};c8=this;c9=q.wrap();return c9.Run(c9.Delay(function(){var c$;return c9.Bind$3(q.map(function(da){return(b_.j$4())(cu.parse(da));},c8.msgClient.sendGetReply((c$=cu.stringify((b9.j$4())(c7)),L.New(new G({$:0,$0:""}),c6,I.MsgRequest,"",cs.NewGuid(),c$,K.NoReply)))),function(da){return c9.Bind$1(c_(da),function(db){return c9.Return(db);});});}));},GenericMessage:function(c3){var c4,c5,c6,c7,c8;function c9(c_){return c4.stringResponse(c_);}c4=this;c5=this.toId();c6=this;c7={$:1,$0:c3};c8=q.wrap();return c8.Run(c8.Delay(function(){var c_;return c8.Bind$3(q.map(function(c$){return(b_.j$4())(cu.parse(c$));},c6.msgClient.sendGetReply((c_=cu.stringify((b9.j$4())(c7)),L.New(new G({$:0,$0:""}),c5,I.MsgRequest,"",cs.NewGuid(),c_,K.NoReply)))),function(c$){return c8.Bind$1(c9(c$),function(da){return c8.Return(da);});});}));},RequestWholeFile:function(){var c3,c4,c5,c6,c7;function c8(c9){return c3.stringResponse(c9);}c3=this;c4=this.toId();c5=this;c6=D.GetWholeFile;c7=q.wrap();return c7.Run(c7.Delay(function(){var c9;return c7.Bind$3(q.map(function(c_){return(b_.j$4())(cu.parse(c_));},c5.msgClient.sendGetReply((c9=cu.stringify((b9.j$4())(c6)),L.New(new G({$:0,$0:""}),c4,I.MsgRequest,"",cs.NewGuid(),c9,K.NoReply)))),function(c_){return c7.Bind$1(c8(c_),function(c$){return c7.Return(c$);});});}));},RequestPredsById:function(c3){var c4,c5,c6,c7,c8;function c9(c_){return c4.snippetsResponse(c_);}c4=this;c5=this.toId();c6=this;c7={$:4,$0:c3};c8=q.wrap();return c8.Run(c8.Delay(function(){var c_;return c8.Bind$3(q.map(function(c$){return(b_.j$4())(cu.parse(c$));},c6.msgClient.sendGetReply((c_=cu.stringify((b9.j$4())(c7)),L.New(new G({$:0,$0:""}),c5,I.MsgRequest,"",cs.NewGuid(),c_,K.NoReply)))),function(c$){return c8.Bind$1(c9(c$),function(da){return c8.Return(da);});});}));},RequestPreds:function(c3){var c4,c5,c6,c7,c8;function c9(c_){return c4.snippetsResponse(c_);}c4=this;c5=this.toId();c6={$:8,$0:ce.SplitChars(c3,["/"],0)};c7=this;c8=q.wrap();return c8.Run(c8.Delay(function(){var c_;return c8.Bind$3(q.map(function(c$){return(b_.j$4())(cu.parse(c$));},c7.msgClient.sendGetReply((c_=cu.stringify((b9.j$4())(c6)),L.New(new G({$:0,$0:""}),c5,I.MsgRequest,"",cs.NewGuid(),c_,K.NoReply)))),function(c$){return c8.Bind$1(c9(c$),function(da){return c8.Return(da);});});}));},RequestJSCode:function(c3){var c4,c5,c6,c7,c8;function c9(c_){return c4.stringResponseR(c_);}c4=this;c5=this.toId();c6={$:10,$0:ce.SplitChars(c3,["/"],0)};c7=this;c8=q.wrap();return c8.Run(c8.Delay(function(){var c_;return c8.Bind$3(q.map(function(c$){return(b_.j$4())(cu.parse(c$));},c7.msgClient.sendGetReply((c_=cu.stringify((b9.j$4())(c6)),L.New(new G({$:0,$0:""}),c5,I.MsgRequest,"",cs.NewGuid(),c_,K.NoReply)))),function(c$){return c8.Bind$1(c9(c$),function(da){return c8.Return(da);});});}));},RequestCode:function(c3){var c4,c5,c6,c7,c8;function c9(c_){return c4.stringResponse(c_);}c4=this;c5=this.toId();c6={$:7,$0:ce.SplitChars(c3,["/"],0)};c7=this;c8=q.wrap();return c8.Run(c8.Delay(function(){var c_;return c8.Bind$3(q.map(function(c$){return(b_.j$4())(cu.parse(c$));},c7.msgClient.sendGetReply((c_=cu.stringify((b9.j$4())(c6)),L.New(new G({$:0,$0:""}),c5,I.MsgRequest,"",cs.NewGuid(),c_,K.NoReply)))),function(c$){return c8.Bind$1(c9(c$),function(da){return c8.Return(da);});});}));},RequestSnippet:function(c3){var c4,c5,c6,c7,c8;function c9(c_){return c4.snippetResponse(c_);}c4=this;c5=this.toId();c6={$:9,$0:ce.SplitChars(c3,["/"],0)};c7=this;c8=q.wrap();return c8.Run(c8.Delay(function(){var c_;return c8.Bind$3(q.map(function(c$){return(b_.j$4())(cu.parse(c$));},c7.msgClient.sendGetReply((c_=cu.stringify((b9.j$4())(c6)),L.New(new G({$:0,$0:""}),c5,I.MsgRequest,"",cs.NewGuid(),c_,K.NoReply)))),function(c$){return c8.Bind$1(c9(c$),function(da){return c8.Return(da);});});}));},SendMessage:function(c3){var c4,c5,c6;c4=this.toId();c5=this;c6=q.wrap();return c6.Run(c6.Delay(function(){var c7;return c6.Bind$3(q.map(function(c8){return(b_.j$4())(cu.parse(c8));},c5.msgClient.sendGetReply((c7=cu.stringify((b9.j$4())(c3)),L.New(new G({$:0,$0:""}),c4,I.MsgRequest,"",cs.NewGuid(),c7,K.NoReply)))),function(c8){return c6.Bind$1(m.succeed(c8),function(c9){return c6.Return(c9);});});}));},SendMessage$1:function(c3,c4){var c5,c6;c5=this;c6=q.wrap();return c6.Run(c6.Delay(function(){var c7;return c6.Bind$3(q.map(function(c8){return(b_.j$4())(cu.parse(c8));},c5.msgClient.sendGetReply((c7=cu.stringify((b9.j$4())(c4)),L.New(new G({$:0,$0:""}),c3,I.MsgRequest,"",cs.NewGuid(),c7,K.NoReply)))),function(c8){return c6.Bind$1(m.succeed(c8),function(c9){return c6.Return(c9);});});}));}},i,S);S.get_FSStationId_=function(){return"FSharpStation1528950548035";};S.New=cg.Ctor(function(c3,c4,c5,c6){S.New$1.call(this,new Q.New(c3,c5,c6),c3,c4);},S);S.New$1=cg.Ctor(function(c3,c4,c5){this.msgClient=c3;this.fsIds=g.defaultValue("FSharpStation1528950548035",c5);},S);F.extractEndPoint=function(){return cj.get(ce.SplitChars(cD.href.substring(cD.href.indexOf("//")+2),["/"],0),0);};F.waitingAgent=function(c3){return v.foldA(function(c4,c5){var c6;c6=null;return ca.Delay(function(){var c7,c8,c9,c_,c$,da,db,dc,dd;return ca.Combine(c5.$==1?(c7=c5.$1,(g.defaultWith(function(){c3(c7);},(c8=cE.TryFind(c5.$0,c4),c8==null?null:{$:1,$0:(c9=c8.$0,(c_=c9[0],(c9[1],c9[2],c_(c7))))})),ca.Zero())):c5.$==2?(c$=cE.TryFind(c5.$0,c4),c$==null?void 0:(da=c$.$0,da[0],db=da[1],da[2],db(c5.$1())),ca.Zero()):c5.$==3?(dc=cE.TryFind(c5.$0,c4),dc==null?void 0:(dd=dc.$0,dd[0],dd[1],dd[2](c5.$1())),ca.Zero()):ca.Zero(),ca.Delay(function(){var de;return ca.Return((c5.$==2?(de=c5.$0,true):c5.$==3?(de=c5.$0,true):c5.$==0?false:(de=c5.$0,true))?c4.Remove(de):c4.Add(c5.$0,c5.$1));}));});},new cF.New([]));};F.makeReply=function(c3){return F.replier(K.NoReply,F.msgType(I.MsgReply,c3));};F.mapPayload=function(c3,c4){return L.New(c4.from,c4.destination,c4.msgType,c4.subtype,c4.id,c3(c4.payload),c4.replier);};F.msgId=function(c3,c4){return L.New(c4.from,c4.destination,c4.msgType,c4.subtype,c3,c4.payload,c4.replier);};F.replier=function(c3,c4){return L.New(c4.from,c4.destination,c4.msgType,c4.subtype,c4.id,c4.payload,c3);};F.subtype=function(c3,c4){return L.New(c4.from,c4.destination,c4.msgType,c3,c4.id,c4.payload,c4.replier);};F.msgType=function(c3,c4){return L.New(c4.from,c4.destination,c3,c4.subtype,c4.id,c4.payload,c4.replier);};F.destination=function(c3,c4){return L.New(c4.from,c3,c4.msgType,c4.subtype,c4.id,c4.payload,c4.replier);};F.from=function(c3,c4){return L.New(c3,c4.destination,c4.msgType,c4.subtype,c4.id,c4.payload,c4.replier);};F.MessageBrokerAddress=function(){b7.$cctor();return b7.MessageBrokerAddress;};F.MessageBrokerId=function(){b7.$cctor();return b7.MessageBrokerId;};V.New=function(c3,c4){return{Code:c3,Message:c4};};W.New=function(c3,c4,c5){return{File:c3,Line:c4,Column:c5};};X.New=function(c3,c4,c5,c6){return{Name:c3,ReplacementText:c4,Glyph:c5,GlyphChar:c6};};Y.New=function(c3,c4){return{Signature:c3,Comment:c4};};Z.New=function(c3,c4,c5,c6){return{Name:c3,CanonicalTypeTextForSorting:c4,Display:c5,Description:c6};};_0.New=function(c3,c4,c5,c6){return{Tip:c3,TypeText:c4,Parameters:c5,IsStaticArguments:c6};};_1.New=function(c3,c4){return{Name:c3,Type:c4};};_2.New=function(c3,c4){return{OutputType:c3,Parameters:c4};};_3.New=function(c3,c4,c5){return{Name:c3,CurrentParameter:c4,Overloads:c5};};_4.New=function(c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db){return{FileName:c3,StartLine:c4,StartColumn:c5,EndLine:c6,EndColumn:c7,IsFromDefinition:c8,IsFromAttribute:c9,IsFromComputationExpression:c_,IsFromDispatchSlotImplementation:c$,IsFromPattern:da,IsFromType:db};};_5.New=function(c3,c4){return{Name:c3,Uses:c4};};_6.New=function(c3,c4){return{Name:c3,Overloads:c4};};_7.New=function(c3,c4,c5){return{Fsc:c3,Fsi:c4,MSBuild:c5};};_8.New=function(c3,c4,c5,c6,c7,c8,c9){return{FileName:c3,StartLine:c4,EndLine:c5,StartColumn:c6,EndColumn:c7,Message:c8,Subcategory:c9};};_9.New=function(c3,c4){return{File:c3,Errors:c4};};_.New=function(c3){return{Kind:c3};};$.New=function(c3,c4,c5,c6,c7,c8,c9,c_){return{UniqueName:c3,Name:c4,Glyph:c5,GlyphChar:c6,IsTopLevel:c7,File:c8,EnclosingEntity:c9,IsAbstract:c_};};ba.New=function(c3,c4){return{Declaration:c3,Nested:c4};};bb.New=function(c3,c4,c5,c6,c7,c8){return{Namespace:c3,Name:c4,Type:c5,Line:c6,Column:c7,MultipleNames:c8};};bc.New=function(c3,c4){return{Name:c3,Qualifier:c4};};bd.New=function(c3,c4,c5){return{Opens:c3,Qualifies:c4,Word:c5};};be.New=function(c3){return{Text:c3};};bf.ACMIdentification={$:0};bg=T.FSAutoCompleteIntermediaryClient=cg.Class({info2Bool:function(c3){return c3.$==0&&c3.$0==="true";},errors2String:function(c3){return c3.$==7?ce.concat("\n",cb.map(function(c4){return((((((((cg.Curried(function(c5,c6,c7,c8,c9,c_,c$,da){return c5("ErrFSharp \"F# "+ch.toSafe(c6)+".fsx ("+a.String(c7)+","+a.String(c8)+") - ("+a.String(c9)+","+a.String(c_)+") "+ch.toSafe(c$)+":"+ch.toSafe(da)+"\"");},8))(a.id))(c4.FileName))(c4.StartLine))(c4.StartColumn))(c4.EndLine))(c4.EndColumn))(c4.Subcategory))(c4.Message);},c3.$0.Errors)):(function(c4){return function(c5){return c4(b8.p$7(c5));};}(a.id))(c3);},tip2String:function(c3){return c3.$==11?ce.concat("\n",cb.collect(function(c4){return cl.ofArray([c4.Signature,c4.Comment]);},cb.collect(a.id,c3.$0))):(function(c4){return function(c5){return c4(b8.p$7(c5));};}(a.id))(c3);},comp2Strings:function(c3){var c4;c4=this;return c3.$==3?cj.map(function(c5){return[c5.Name,c5.ReplacementText,c5.Glyph,c5.GlyphChar];},c3.$0):c3.$==2?[]:c3.$==17?cj.collect(function(c5){return c4.comp2Strings(c5);},c3.$0):[[(function(c5){return function(c6){return c5(b8.p$7(c6));};}(a.id))(c3),"","ErrorMsg","E"]];},Async_map:function(c3,c4){var c5;c5=null;return ca.Delay(function(){return ca.Bind(c4,function(c6){return ca.Return(c3(c6));});});},FindDecl:function(c3,c4,c5,c6){return this.Async_map(a.id,T.sendMessage({$:7,$0:c3,$1:c4,$2:c5,$3:c6}));},FindDecl$1:function(c3,c4,c5){return this.Async_map(a.id,T.sendMessage({$:6,$0:c3,$1:c4,$2:c5}));},Complete:function(c3,c4,c5,c6,c7){var c8;c8=this;return c8.Async_map(function(c9){return c8.comp2Strings(c9);},T.sendMessage({$:9,$0:c3,$1:c5,$2:c6,$3:c4,$4:c7}));},Complete$1:function(c3,c4,c5,c6){var c7;c7=this;return c7.Async_map(function(c8){return c7.comp2Strings(c8);},T.sendMessage({$:8,$0:c3,$1:c5,$2:c6,$3:c4}));},ToolTip:function(c3,c4,c5,c6){var c7;c7=this;return c7.Async_map(function(c8){return c7.tip2String(c8);},T.sendMessage({$:3,$0:c3,$1:c4,$2:c5,$3:c6}));},ToolTip$1:function(c3,c4,c5){var c6;c6=this;return c6.Async_map(function(c7){return c6.tip2String(c7);},T.sendMessage({$:2,$0:c3,$1:c4,$2:c5}));},Parse:function(c3,c4){var c5;c5=this;return c5.Async_map(function(c6){return c5.errors2String(c6);},T.sendMessage({$:10,$0:c3,$1:c4,$2:[]}));},Parse$1:function(c3,c4,c5){var c6;c6=this;return c6.Async_map(function(c7){return c6.errors2String(c7);},T.sendMessage({$:10,$0:c3,$1:c4,$2:c5}));},MustParse:function(c3,c4){var c5;c5=this;return c5.Async_map(function(c6){return c5.info2Bool(c6);},T.sendMessage({$:11,$0:c3,$1:c4}));}},i,bg);bg.New=cg.Ctor(function(c3,c4){},bg);T.sendMessage=function(c3){var c4;c4=null;return ca.Delay(function(){return ca.Bind((new cH.New()).Async("FSharpStation:FSSGlobal.FSAutoCompleteIntermediary.sendMessageRpc:1124743568",[c3]),function(c5){return ca.Return(c5);});});};bi.extractConfig=function(c3){return ce.StartsWith(c3,"////-d:")?cd.string(c3,{$:1,$0:4},{$:1,$0:c3.indexOf("\n")-1}):"";};bh.abortFsiExe=function(){ca.Start((new cH.New()).Async("FSharpStation:FSSGlobal.FsEvaluator+Evaluator.abortFsiExe:-829366048",[]),null);};bh.evaluateAR=function(c3,c4,c5,c6){var c7;c7=null;return ca.Delay(function(){return ca.Bind((new cH.New()).Async("FSharpStation:FSSGlobal.FsEvaluator.evaluateAS:-1357873018",[c3,c4,c5,c6]),function(c8){function c9(c_,c$){return new l.New(c_,c$);}return ca.Return({$:0,$0:c8[0],$1:cj.ofSeq(cb.map(function(c_){return c9(c_[0],c_[1]);},c8[1]))});});});};bj.translateAR=function(c3,c4){var c5;c5=null;return ca.Delay(function(){return ca.Bind((new cH.New()).Async("FSharpStation:FSSGlobal.FsTranslator.translateAS:1220910711",[c3,c4]),function(c6){function c7(c8,c9){return new l.New(c8,c9);}return ca.Return({$:0,$0:c6[0],$1:cj.ofSeq(cb.map(function(c8){return c7(c8[0],c8[1]);},c6[1]))});});});};bl=bk.Val=cg.Class({get_ValTypeMember:function(){return 0;}},null,bl);bm.lensView=function(c3,c4,c5,c6){var c7,c8,c9;c7=bm.freshId();c8=cI.Map2(function(c_){return c3(c_);},c6.get_View(),c5);c9=new b0({Get:function(){return c3(c6.Get());},Set:function(c_){return c6.Update(function(c$){return c4(c$,c_);});},SetFinal:function(c_){return this.Set(c_);},Update:function(c_){return c6.Update(function(c$){return c4(c$,c_(c3(c$)));});},UpdateMaybe:function(c_){return c6.UpdateMaybe(function(c$){var da;da=c_(c3(c$));return da==null?null:{$:1,$0:c4(c$,da.$0)};});},get_View:function(){return c8;},get_Id:function(){return c7;}});b0.New.call(c9);return c9;};bm.freshId=function(){bm.set_counter(bm.counter()+1);return"varuid"+a.String(bm.counter());};bm.counter=function(){b7.$cctor();return b7.counter;};bm.set_counter=function(c3){b7.$cctor();b7.counter=c3;};bn.currentLens=function(c3,c4,c5){return bn["currentLensUpd'"](c3,c4,function(c6){c5.UpdateBy(function(){return c5.TryFindByKey(c5.key(c6))==null?null:{$:1,$0:c6};},c5.key(c6));},c5);};bn["currentLensUpd'"]=function(c3,c4,c5,c6){return new cJ.New(cI.Map2(function(c7,c8){var c9;c9=c8==null?null:c6.TryFindByKey(c8.$0);return c9==null?c3:c9.$0;},c6.v,c4),c5);};bn.currentLensUpd=function(c3,c4,c5,c6){var c7;function c8(c_){return c6.TryFindByKey(c_);}function c9(c_){return c_==null?c3:c_.$0;}return bm.lensView((c7=function(c_){return c_==null?null:c8(c_.$0);},function(c_){return c9(c7(c_));}),function(c_,c$){var da;da=c5(c$);c_==null?void 0:da(c_.$0);return c_;},c6.v,c4);};bo.HelperType={$:0};bo.op_AmpGreater=function(c3,c4){return new bl({$:2,$0:c4});};bo.op_AmpGreater$1=function(c3,c4){return new bl({$:1,$0:c4});};bo.op_AmpGreater$2=function(c3,c4){return c4;};bo.op_AmpGreater$3=function(c3,c4){return c4;};bo.op_AmpGreater$4=function(c3,c4){return c4;};bo.op_AmpGreater$5=function(c3,c4){return c4;};bo.op_AmpGreater$6=function(c3,c4){return c4;};bo.op_AmpGreater$7=function(c3,c4){return c4;};bo.op_AmpGreater$8=function(c3,c4){return c4;};bo.op_AmpGreater$9=function(c3,c4){return new bl({$:0,$0:c4});};bo.op_AmpGreater$10=function(c3,c4){return new bl({$:0,$0:c4});};bo.op_AmpGreater$11=function(c3,c4){return new bl({$:0,$0:c4});};bo.op_AmpGreater$12=function(c3,c4){return new bl({$:0,$0:c4});};bo.op_AmpGreater$13=function(c3,c4){return new bl({$:0,$0:c4});};bo.op_AmpGreater$14=function(c3,c4){return new bl({$:0,$0:c4});};bp=bl.valBuilder=cg.Class({Delay:function(c3){return c3();},Zero:function(){return new bl({$:0,$0:null});},Bind:function(c3,c4){return bl.bind(c4,c3);},Bind$1:function(c3,c4){return bl.bind(c4,c3);},Bind$2:function(c3,c4){return bl.bind(c4,c3);},ReturnFrom:a.id,Return:function(c3){return new bl({$:0,$0:c3});}},i,bp);bp.New=cg.Ctor(function(){},bp);bl.fixitF=function(c3,c4){return c3(c4);};bl.valFlow=function(){b7.$cctor();return b7.valFlow;};bl.mapCached=function(c3,c4){return new bl({$:2,$0:cI.MapCached(c3,bl.toView(c4))});};bl.sink=function(c3,c4){cI.Sink(c3,bl.toView(bl.fixit(c4)));};bl.mapAsync=function(c3,c4){return new bl({$:2,$0:cI.MapAsync(c3,bl.toView(bl.fixit(c4)))});};bl.iter4=function(c3,c4,c5,c6,c7){bl.iterV(a.ignore,bl.map4(c3,c4,c5,c6,c7));};bl.iter3=function(c3,c4,c5,c6){bl.iterV(a.ignore,bl.map3(c3,c4,c5,c6));};bl.iter2=function(c3,c4,c5){bl.iterV(a.ignore,bl.map2(c3,c4,c5));};bl.apply=function(c3,c4){return bl.bindV(function(c5){return bl.mapV(c5,c3);},c4);};bl.map4=function(c3,c4,c5,c6,c7){return bl.map4V(c3,bl.fixit(c4),bl.fixit(c5),bl.fixit(c6),bl.fixit(c7));};bl.map3=function(c3,c4,c5,c6){return bl.map3V(c3,bl.fixit(c4),bl.fixit(c5),bl.fixit(c6));};bl.map2=function(c3,c4,c5){return((bl.map2V(c3))(bl.fixit(c4)))(bl.fixit(c5));};bl.map=function(c3,c4){return bl.mapV(c3,bl.fixit(c4));};bl.bind=function(c3,c4){return bl.bindV(c3,bl.fixit(c4));};bl.iter=function(c3,c4){bl.iterV(c3,bl.fixit(c4));};bl.toDoc=function(c3){return cK.EmbedView(bl.toView(bl.fixit(c3)));};bl.fixit=function(c3){return bl.fixitF(bl.toVal,c3);};bl.toVal=function(c3){return typeof c3=="string"?new bl({$:0,$0:c3}):typeof c3=="number"?new bl({$:0,$0:c3}):typeof c3=="boolean"?new bl({$:0,$0:c3}):c3 instanceof cK?new bl({$:0,$0:c3}):c3 instanceof bl?c3:c3 instanceof b0?new bl({$:1,$0:c3}):"RSet"in c3?new bl({$:1,$0:c3}):typeof c3=="function"?new bl({$:2,$0:c3}):c3.get_ValTypeMember()===0?c3:cL.FailWith((function(c4){return function(c5){return c4("Could not convert "+ch.prettyPrint(c5));};}(a.id))(c3));};bl.attrV=function(c3,c4){return c4.$==2?cM.Dynamic(c3,c4.$0):c4.$==1?cM.Dynamic(c3,c4.$0.get_View()):cN.Create(c3,c4.$0);};bl.attrVO=function(c3,c4){var c5,c6;return c4.$==2?(c5=c4.$0,cM.DynamicPred(c3,cI.Map(function(c7){return c7!=null;},c5),cI.Map(function(c7){return c7==null?"":c7.$0;},c5))):c4.$==1?(c6=c4.$0,cM.DynamicPred(c3,cI.Map(function(c7){return c7!=null;},c6.get_View()),cI.Map(function(c7){return c7==null?"":c7.$0;},c6.get_View()))):c4.$0==null?cM.DynamicPred(c3,cI.Const(false),cI.Const("")):cN.Create(c3,c4.$0.$0);};bl.tagElt=function(c3,c4){return c4.$==2?cK.EmbedView(cI.Map(c3,c4.$0)):c4.$==1?cK.EmbedView(cI.Map(c3,c4.$0.get_View())):c3(c4.$0);};bl.tagDoc=function(c3,c4){return c4.$==2?cK.EmbedView(cI.Map(c3,c4.$0)):c4.$==1?cK.EmbedView(cI.Map(c3,c4.$0.get_View())):c3(c4.$0);};bl.map4V=function(c3,c4,c5,c6,c7){var c8;c8=bl.map3V(c3,c4,c5,c6);return((bl.map2V(function(c9){return function(c_){return c_(c9);};}))(c7))(c8);};bl.map3V=function(c3,c4,c5,c6){var c7;c7=((bl.map2V(c3))(c4))(c5);return((bl.map2V(function(c8){return function(c9){return c9(c8);};}))(c6))(c7);};bl.map2V=function(c3){function c4(c7){var c8;c8=c3(c7);return function(c9){return bl.mapV(c8,c9);};}function c5(c7){return((bl.swap())(c4))(c7);}function c6(c7){var c8;c8=c5(c7);return function(c9){return bl.bindV(c8,c9);};}return function(c7){return((bl.swap())(c6))(c7);};};bl.bindV=function(c3,c4){return c4.$==2?new bl({$:2,$0:cI.Bind(function(c5){return bl.toView(c3(c5));},c4.$0)}):c4.$==1?new bl({$:2,$0:cI.Bind(function(c5){return bl.toView(c3(c5));},c4.$0.get_View())}):c3(c4.$0);};bl.getAsync=function(c3){return c3.$==2?cI.GetAsync(c3.$0):c3.$==1?ca.Return(c3.$0.Get()):ca.Return(c3.$0);};bl.toView=function(c3){return c3.$==2?c3.$0:c3.$==1?c3.$0.get_View():cI.Const(c3.$0);};bl.iterV=function(c3,c4){if(c4.$==2)cI.Get(c3,c4.$0);else if(c4.$==1)c3(c4.$0.Get());else c3(c4.$0);};bl.mapV=function(c3,c4){return c4.$==2?new bl({$:2,$0:cI.Map(c3,c4.$0)}):c4.$==1?new bl({$:2,$0:cI.Map(c3,c4.$0.get_View())}):new bl({$:0,$0:c3(c4.$0)});};bl.swap=function(){b7.$cctor();return b7.swap;};bq=bk.HtmlNode=cg.Class({Style:function(c3){return this.AddChildren([bk.style(c3)]);},AddClass:function(c3){return bk.addClass(c3,this);},InsertChildren:function(c3){return bk.insertChildren(c3,this);},AddChildren:function(c3){return bk.addChildren(c3,this);},get_toDoc:function(){var c3,c4,c5;return this.$==3||this.$==6?cK.Empty():(c4=bk.chooseNode(this),(c5=cK.Empty(),c4==null?c5:c4.$0));}},null,bq);bq.HtmlEmpty=new bq({$:6});bq.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(c3,c4){return bk.indent2Level(11,c4,c3);};bq.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(c3,c4){return bk.indent2Level(10,c4,c3);};bq.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(c3,c4){return bk.indent2Level(9,c4,c3);};bq.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(c3,c4){return bk.indent2Level(8,c4,c3);};bq.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(c3,c4){return bk.indent2Level(7,c4,c3);};bq.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(c3,c4){return bk.indent2Level(6,c4,c3);};bq.op_MinusMinusMinusMinusMinusMinusMinusMinus=function(c3,c4){return bk.indent2Level(5,c4,c3);};bq.op_MinusMinusMinusMinusMinusMinus=function(c3,c4){return bk.indent2Level(4,c4,c3);};bq.op_MinusMinusMinusMinus=function(c3,c4){return bk.indent2Level(3,c4,c3);};bq.op_MinusMinus=function(c3,c4){return bk.indent2Level(2,c4,c3);};bq.op_Addition=function(c3,c4){return new cl.T({$:1,$0:c4,$1:c3});};bq.op_MinusMinusMinus=function(c3,c4){return c3.$==1?c3.$1.$==1?new cl.T({$:1,$0:c3.$1.$0.AddChildren([c3.$0.AddChildren([c4])]),$1:c3.$1.$1}):cl.ofArray([c3.$0.AddChildren([c4])]):cl.T.Empty;};bq.op_Subtraction=function(c3,c4){return c3.$==0?cl.T.Empty:new cl.T({$:1,$0:c3.$0.AddChildren([c4]),$1:c3.$1});};br.LoadFilesAsyncOld=function(c3){function c4(c5,c6){try{a.CIPHERSpaceLoadFiles(c3,c5);}catch(c7){c6(c7);}}return ca.FromContinuations(function(c5,c6,c7){return c4.apply(null,[c5,c6,c7]);});};br.LoadFilesAsync=function(c3){var c4;c4=null;return ca.Delay(function(){return ca.For(c3,function(c5){return ca.Bind(br.LoadFile(c5),function(){return ca.Return(null);});});});};br.LoadFile=function(c3){var c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df;function dg(di,dj){return ce.EndsWith(dj,di)?{$:1,$0:null}:null;}function dh(di,dj){try{de.onload=di;a.document.head.appendChild(de);}catch(dk){dj(dk);}}c4=(c5=((c7=dg(".js",c3),c7!=null&&c7.$==1)?!a.document.querySelector("script[src='"+c3+"']")||((c8=dg(".fsx",c3),c8!=null&&c8.$==1)?!a.document.querySelector("script[src='"+c3+"']")||(c9=dg(".fs",c3),c9!=null&&c9.$==1)&&!a.document.querySelector("script[src='"+c3+"']"):(c_=dg(".fs",c3),c_!=null&&c_.$==1)&&!a.document.querySelector("script[src='"+c3+"']")):(c$=dg(".fsx",c3),c$!=null&&c$.$==1)?!a.document.querySelector("script[src='"+c3+"']")||(da=dg(".fs",c3),da!=null&&da.$==1)&&!a.document.querySelector("script[src='"+c3+"']"):(db=dg(".fs",c3),db!=null&&db.$==1)&&!a.document.querySelector("script[src='"+c3+"']"))?{$:1,$0:br.createScript(c3)}:(dc=dg(".css",c3),dc!=null&&dc.$==1)?{$:1,$0:br.createCss(c3)}:(dd=dg(".html",c3),dd!=null&&dd.$==1)?{$:1,$0:br.createHtml(c3)}:null,c5==null?null:{$:1,$0:(de=c5.$0,ca.FromContinuations(function(di,dj,dk){return dh.apply(null,[di,dj,dk]);}))});return c4==null?(df=null,ca.Delay(function(){return ca.Return(null);})):c4.$0;};br.createHtml=function(c3){var c4;c4=a.document.createElement("link");c4.setAttribute("rel","import");c4.setAttribute("type","text/html");c4.setAttribute("href",c3);return c4;};br.createCss=function(c3){var c4;c4=a.document.createElement("link");c4.setAttribute("rel","stylesheet");c4.setAttribute("type","text/css");c4.setAttribute("href",c3);return c4;};br.createScript=function(c3){var c4;c4=a.document.createElement("script");c4.setAttribute("type","text/javascript");c4.setAttribute("src",c3);return c4;};bk.findRootElement=function(c3){var c4;return!function(c5){return c3.getRootNode(c5);}?a.document.body:(c4=c3.getRootNode(),!c4.body?c4.firstChild:c4.body);};bk.createIFrame$3704$45=cg.Curried3(function(c3,c4,c5){return cI.Get(function(c6){if(!c6)c3.Set(false);},cP.get_MousePressed());});bk.createIFrame$3699$45=cg.Curried3(function(c3,c4,c5){return c3.Set(true);});bk.createIFrame$3698$45=a.id;bk.createIFrame=function(c3){var c4;c4=b0.Create$1(true);return bk.div([bk.style("position: relative; overflow: hidden; height: 100%; width: 100%;"),bk.iframe([bk.style("position: absolute; width:100%; height:100%;"),bk.frameborder("0"),new bq({$:8,$0:cN.OnAfterRenderImpl(c3)}),new bq({$:8,$0:cN.HandlerImpl("mouseleave",function(){return function(){return c4.Set(true);};})})]),bk.div([bk.style("position: absolute;"),bk.classIf("iframe-cover",bl.map(a.id,c4)),new bq({$:8,$0:cN.HandlerImpl("mouseenter",function(){return function(){return cI.Get(function(c5){if(!c5)c4.Set(false);},cP.get_MousePressed());};})})]),bk.styleH([bk.htmlText(".iframe-cover { top:0; left:0; right:0; bottom:0; background: blue; opacity: 0.04; z-index: 2; }")])]);};bk.bindHElem=function(c3,c4){return new bq({$:2,$0:bl.map(c3,bl.fixit(c4))});};bk.string2Styles=function(){b7.$cctor();return b7.string2Styles;};bk.style2pairs=function(c3){return cj.map(function(c4){return[ce.Trim(cj.get(c4,0)),ce.Trim(cj.get(c4,1))];},cj.filter(function(c4){return cj.length(c4)===2;},cj.map(function(c4){return ce.SplitChars(c4,[":"],0);},ce.SplitChars(c3,[";"],0))));};bk.classIf=function(c3,c4){return bk["class"](bl.map(function(c5){return c5?c3:"";},bl.fixit(c4)));};bk.css=function(c3){return bk.styleH([bk.htmlText(c3)]);};bk.style1=function(c3,c4){var c5;return bk.style(bl.map((c5=c3+":",function(c6){return c5+c6;}),c4));};bk.placeholder=function(c3){return bk.htmlAttribute("placeholder",c3);};bk.style=function(c3){return bk.htmlAttribute("style",c3);};bk.draggable=function(c3){return bk.htmlAttribute("draggable",c3);};bk.spellcheck=function(c3){return bk.htmlAttribute("spellcheck",c3);};bk.frameborder=function(c3){return bk.htmlAttribute("frameborder",c3);};bk.Id=function(c3){return bk.htmlAttribute("id",c3);};bk.title=function(c3){return bk.htmlAttribute("title",c3);};bk.width=function(c3){return bk.htmlAttribute("width",c3);};bk.type=function(c3){return bk.htmlAttribute("type",c3);};bk["class"]=function(c3){return bk.htmlAttribute("class",c3);};bk.src=function(c3){return bk.htmlAttribute("src",c3);};bk.charset=function(c3){return bk.htmlAttribute("charset",c3);};bk.rel=function(c3){return bk.htmlAttribute("rel",c3);};bk.hrefO=function(c3){return bk.htmlAttributeO("href",c3);};bk.href=function(c3){return bk.htmlAttribute("href",c3);};bk.target=function(c3){return bk.htmlAttribute("target",c3);};bk.strong=function(c3){return bk.htmlElement("strong",c3);};bk.section=function(c3){return bk.htmlElement("section",c3);};bk.body=function(c3){return bk.htmlElement("body",c3);};bk.iframe=function(c3){return bk.htmlElement("iframe",c3);};bk.link=function(c3){return bk.htmlElement("link",c3);};bk.fieldset=function(c3){return bk.htmlElement("fieldset",c3);};bk.styleH=function(c3){return bk.htmlElement("style",c3);};bk.script=function(c3){return bk.htmlElement("script",c3);};bk.button=function(c3){return bk.htmlElement("button",c3);};bk.label=function(c3){return bk.htmlElement("label",c3);};bk.tbody=function(c3){return bk.htmlElement("tbody",c3);};bk.td=function(c3){return bk.htmlElement("td",c3);};bk.tr=function(c3){return bk.htmlElement("tr",c3);};bk.th=function(c3){return bk.htmlElement("th",c3);};bk.thead=function(c3){return bk.htmlElement("thead",c3);};bk.table=function(c3){return bk.htmlElement("table",c3);};bk.form=function(c3){return bk.htmlElement("form",c3);};bk.span=function(c3){return bk.htmlElement("span",c3);};bk.img=function(c3){return bk.htmlElement("img",c3);};bk.div=function(c3){return bk.htmlElement("div",c3);};bk.h6=function(c3){return bk.htmlElement("h6",c3);};bk.h5=function(c3){return bk.htmlElement("h5",c3);};bk.h4=function(c3){return bk.htmlElement("h4",c3);};bk.h3=function(c3){return bk.htmlElement("h3",c3);};bk.h2=function(c3){return bk.htmlElement("h2",c3);};bk.h1=function(c3){return bk.htmlElement("h1",c3);};bk.hr=function(c3){return bk.htmlElement("hr",c3);};bk.br=function(c3){return bk.htmlElement("br",c3);};bk.li=function(c3){return bk.htmlElement("li",c3);};bk.ul=function(c3){return bk.htmlElement("ul",c3);};bk.p=function(c3){return bk.htmlElement("p",c3);};bk.a=function(c3){return bk.htmlElement("a",c3);};bk.textV=function(c3){return bk.tag(cK.TextNode,c3);};bk._placeholder=function(c3){return bk.atr("placeholder",c3);};bk._style=function(c3){return bk.atr("style",c3);};bk._type=function(c3){return bk.atr("type",c3);};bk._class=function(c3){return bk.atr("class",c3);};bk.tag=function(c3,c4){return bl.tagDoc(c3,bl.fixit(c4));};bk.atr=function(c3,c4){return bl.attrV(c3,bl.fixit(c4));};bk.renderDoc=function(){b7.$cctor();return b7.renderDoc;};bk.op_BangBang=function(c3,c4){return cl.ofArray([c3(c4)]);};bk.endHtmlIndent=function(c3){var c4;c4=bk.finishO(c3);return c4==null?bk.htmlText("Malformed HTMLNode"):c4.$0;};bk.finishO=function(c3){return c3.$==1?c3.$1.$==1?bk.finishO(bk.out(c3)):{$:1,$0:c3.$0}:null;};bk.indent2Level=function(c3,c4,c5){return c5.get_Length()<c3?new cl.T({$:1,$0:c4,$1:c5}):bk.indent2Level(c3,c4,bk.out(c5));};bk.out=function(c3){return c3.$==1?c3.$1.$==1?new cl.T({$:1,$0:bk.addChildren([c3.$0],c3.$1.$0),$1:c3.$1.$1}):cl.ofArray([c3.$0]):cl.T.Empty;};bk.addClassIf=function(c3,c4){var c5;c5=bl.map(function(c6){return c6?c3:"";},bl.fixit(c4));return function(c6){return bk.addClass(c5,c6);};};bk.addClass=function(c3,c4){return bk.addChildren(cl.ofArray([bk.htmlAttribute("class",c3)]),c4);};bk.insertChildren=function(c3,c4){function c5(c6,c7){return[c6,cb.append(c3,c7)];}return bk.mapHtmlElement(function(c6){return function(c7){return c5(c6,c7);};},c4);};bk.addChildren=function(c3,c4){function c5(c6,c7){return[c6,cb.append(c7,c3)];}return bk.mapHtmlElement(function(c6){return function(c7){return c5(c6,c7);};},c4);};bk.someElt=function(c3){return new bq({$:7,$0:c3});};bk.str=function(c3){return new bq({$:5,$0:bl.fixit(c3)});};bk.htmlText=function(c3){return new bq({$:5,$0:bl.fixit(c3)});};bk.htmlAttributeO=function(c3,c4){return new bq({$:4,$0:c3,$1:bl.fixit(c4)});};bk.htmlAttribute=function(c3,c4){return new bq({$:3,$0:c3,$1:bl.fixit(c4)});};bk.htmlElementF=function(c3,c4){return new bq({$:1,$0:c3,$1:c4});};bk.htmlElement=function(c3,c4){return new bq({$:0,$0:c3,$1:c4});};bk.mapHtmlElement=function(c3,c4){var c5;return c4.$==0?(c5=(c3(c4.$0))(c4.$1),new bq({$:0,$0:c5[0],$1:c5[1]})):c4.$==2?new bq({$:2,$0:bl.map(function(c6){return bk.mapHtmlElement(c3,c6);},c4.$0)}):c4;};bk.getAttrChildren=function(c3){var c4,c5,c6;function c7(c8){var c9;return c8.$==3&&(c8.$0===c3&&(c9=[c8.$0,c8.$1],true))?{$:1,$0:c9[1]}:null;}c4=function(c8){return cb.tryPick(c7,c8);};c5=(c6=new bl({$:0,$0:""}),function(c8){return c8==null?c6:c8.$0;});return function(c8){return c5(c4(c8));};};bk.chooseNode=function(c3){var c4,c5,c6,c7,c8;return c3.$==0?(c4=c3.$1,{$:1,$0:cK.Element(c3.$0,bk.getAttrsFromSeq(c4),cb.choose(bk.chooseNode,c4))}):c3.$==1?(c5=c3.$1,{$:1,$0:(c3.$0(bk.getAttrsFromSeq(c5)))(cb.choose(bk.chooseNode,c5))}):c3.$==2?{$:1,$0:(c6=bl.toView(c3.$0),cK.BindView((c7=(c8=cK.Empty(),function(c9){return c9==null?c8:c9.$0;}),function(c9){return c7(bk.chooseNode(c9));}),c6))}:c3.$==5?{$:1,$0:bl.tagDoc(cK.TextNode,c3.$0)}:c3.$==7?{$:1,$0:c3.$0}:null;};bk.getAttrsFromSeq=function(c3){var c4;c4=cb.choose(bk.chooseAttr,c3);return cb.append(cl.choose(a.id,cl.ofArray([bk.groupAttr("class"," ",c3),bk.groupAttr("style","; ",c3)])),c4);};bk.groupAttr=function(c3,c4,c5){var c6,c7;function c8(c9,c_){return bk.concat(c4,c9,c_);}c6=cb.choose(function(c9){return bk.chooseThisAttr(c3,c9);},c5);return cb.isEmpty(c6)?null:{$:1,$0:bl.attrV(c3,(c7=(cg.Curried3(bl.map2))(function(c9){return function(c_){return c8(c9,c_);};}),cb.reduce(function(c9,c_){return(c7(c9))(c_);},c6)))};};bk.concat=function(c3,c4,c5){return c4+c3+c5;};bk.chooseThisAttr=function(c3,c4){var c5;return c4.$==3&&(c4.$0===c3&&(c5=[c4.$0,c4.$1],true))?{$:1,$0:c5[1]}:null;};bk.chooseAttr=function(c3){var c4,c5,c6,c7;return c3.$==3&&((c5=c3.$0,c5!=="class"&&c5!=="style")&&(c4=[c3.$0,c3.$1],true))?{$:1,$0:bl.attrV(c4[0],c4[1])}:c3.$==4&&((c7=c3.$0,c7!=="class"&&c7!=="style")&&(c6=[c3.$0,c3.$1],true))?{$:1,$0:bl.attrVO(c6[0],c6[1])}:c3.$==8?{$:1,$0:c3.$0}:null;};bk.addClassX=function(c3,c4){var c5;return ce.concat(" ",(c5=new cQ.New$1(cR.OfSeq(ce.SplitChars(c3,[" "],0))),new cQ.New$1(cR.OfSeq(cb.append(new cQ.New$1(cR.OfSeq(ce.SplitChars(c4,[" "],0))),c5)))));};bt=bs.Button=cg.Class({OnClick:function(c3){return bt.New(this._class,this._type,this.style,this.text,c3,this.disabled,this.id);},Disabled:function(c3){return bt.New(this._class,this._type,this.style,this.text,this.onClick,bl.fixit(c3),this.id);},Text:function(c3){return bt.New(this._class,this._type,this.style,bl.fixit(c3),this.onClick,this.disabled,this.id);},Style:function(c3){return bt.New(this._class,this._type,bl.fixit(c3),this.text,this.onClick,this.disabled,this.id);},Type:function(c3){return bt.New(this._class,bl.fixit(c3),this.style,this.text,this.onClick,this.disabled,this.id);},Class:function(c3){return bt.New(bl.fixit(c3),this._type,this.style,this.text,this.onClick,this.disabled,this.id);},Id:function(c3){return bt.New(this._class,this._type,this.style,this.text,this.onClick,this.disabled,c3);},get_Render:function(){var c3,c4;return new bq({$:7,$0:(c3=bk.button([bk.type(this._type),bk["class"](this._class),bk.Id(this.id),bk.style(this.style),new bq({$:8,$0:(c4=cI.Const(""),cM.DynamicPred("disabled",bl.toView(this.disabled),c4))}),new bq({$:8,$0:cN.HandlerImpl("click",this.onClick)}),new bq({$:5,$0:this.text})]),(bk.renderDoc())(c3))});}},null,bt);bt.get_Render$3817$42=function(c3){return c3.onClick;};bt.New$1=function(c3){return bt.New(bl.fixit("btn"),bl.fixit("button"),bl.fixit(""),bl.fixit(c3),function(){return function(){return null;};},bl.fixit(false),"");};bt.New=function(c3,c4,c5,c6,c7,c8,c9){return new bt({_class:c3,_type:c4,style:c5,text:c6,onClick:c7,disabled:c8,id:c9});};bu=bs.Input=cg.Class({get_Var:function(){return this["var"];},Disabled:function(c3){return bu.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded,bl.fixit(c3));},SetVar:function(c3){return bu.New(this._type,this._class,this.style,this.placeholder,this.id,c3,this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded,this.disabled);},Suffix:function(c3){return bu.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,c3,this.content,this.prefixAdded,true,this.disabled);},Prefix:function(c3){return this.Prefix$1(bk.htmlText(c3));},Prefix$1:function(c3){return bu.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],c3,this.suffix,this.content,true,this.suffixAdded,this.disabled);},Content:function(c3){return bu.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,c3,this.prefixAdded,this.suffixAdded,this.disabled);},Id:function(c3){return bu.New(this._type,this._class,this.style,this.placeholder,c3,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded,this.disabled);},Placeholder:function(c3){return bu.New(this._type,this._class,this.style,bl.fixit(c3),this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded,this.disabled);},Style:function(c3){return bu.New(this._type,this._class,bl.fixit(c3),this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded,this.disabled);},Type:function(c3){return bu.New(bl.fixit(c3),this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded,this.disabled);},Class:function(c3){return bu.New(this._type,bl.fixit(c3),this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded,this.disabled);},get_Render:function(){var c3;function c4(c5){return c5.$==5?"input-group-addon":"input-group-btn";}c3=this;return bk.div(cl.ofSeq(cb.delay(function(){return cb.append(c3.prefixAdded||c3.suffixAdded?[bk["class"]("input-group")]:[],cb.delay(function(){return cb.append(c3.prefixAdded?[bk.span([bk["class"](c4(c3.prefix)),c3.prefix])]:[],cb.delay(function(){var c5;return cb.append([new bq({$:7,$0:cK.Input(cb.append(c3.content,cl.ofArray([bk._type(c3._type),bk._class(c3._class),bk._style(c3.style),cN.Create("id",c3.id),(c5=cI.Const(""),cM.DynamicPred("disabled",bl.toView(c3.disabled),c5)),bk._placeholder(c3.placeholder)])),c3["var"])})],cb.delay(function(){return c3.suffixAdded?[bk.span([bk["class"](c4(c3.suffix)),c3.suffix])]:[];}));}));}));})));}},null,bu);bu.New$1=function(c3){return bu.New$3(b0.Lens(c3,function(c4){return c4==null?"":c4.$0;},function(c4,c5){return c4==null?null:{$:1,$0:c5};})).Disabled(bl.map(function(c4){return c4==null;},c3));};bu.New$2=function(c3){return bu.New$3(b0.Create$1(c3));};bu.New$3=function(c3){var c4;c4=bl.fixit("form-control");return bu.New(bl.fixit("text"),c4,bl.fixit(""),bl.fixit("Enter text:"),"",c3,bq.HtmlEmpty,bq.HtmlEmpty,cl.T.Empty,false,false,bl.fixit(false));};bu.New=function(c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc){return new bu({_type:c3,_class:c4,style:c5,placeholder:c6,id:c7,"var":c8,prefix:c9,suffix:c_,content:c$,prefixAdded:da,suffixAdded:db,disabled:dc});};bv=bs.Hoverable=cg.Class({Content:function(c3){var c4;c4=this;return c3.AddChildren([bk.classIf("hovering",this.hover),new bq({$:8,$0:cN.HandlerImpl("mouseenter",function(){return function(){return c4.hover.Set(true);};})}),new bq({$:8,$0:cN.HandlerImpl("mouseleave",function(){return function(){return c4.hover.Set(false);};})})]);},Content$1:function(c3){var c4;c4=this;return bk.div(cb.append(c3,cl.ofArray([bk.classIf("hovering",this.hover),new bq({$:8,$0:cN.HandlerImpl("mouseenter",function(){return function(){return c4.hover.Set(true);};})}),new bq({$:8,$0:cN.HandlerImpl("mouseleave",function(){return function(){return c4.hover.Set(false);};})})])));}},null,bv);bv.get_Demo=function(){return bv.get_New().Content(bk.div([bk.style("flex-flow: column;")]));};bv.Content$3911$43=cg.Curried3(function(c3,c4,c5){return c3.hover.Set(false);});bv.Content$3910$43=cg.Curried3(function(c3,c4,c5){return c3.hover.Set(true);});bv.Content$3903$37=cg.Curried3(function(c3,c4,c5){return c3.hover.Set(false);});bv.Content$3902$37=cg.Curried3(function(c3,c4,c5){return c3.hover.Set(true);});bv.get_New=function(){return bv.New(b0.Create$1(false));};bv.New=function(c3){return new bv({hover:c3});};bw=bs.Panel=cg.Class({Disabled:function(c3){return bw.New(this._class,this._style,this.title,this.header,this.content,c3);},Content:function(c3){return bw.New(this._class,this._style,this.title,this.header,c3,this.disabled);},Header:function(c3){return bw.New(this._class,this._style,this.title,c3,this.content,this.disabled);},Title:function(c3){return bw.New(this._class,this._style,bl.fixit(c3),this.header,this.content,this.disabled);},Style:function(c3){return bw.New(this._class,bl.fixit(c3),this.title,this.header,this.content,this.disabled);},Class:function(c3){return bw.New(bl.fixit(c3),this._style,this.title,this.header,this.content,this.disabled);},get_Render:function(){var c3;return bk.fieldset([new bq({$:8,$0:(c3=cI.Const(""),cM.DynamicPred("disabled",bl.toView(this.disabled),c3))}),bk.div([bk["class"](this._class),bk.div(cb.append([bk["class"]("panel-heading"),bk.label([bk["class"]("panel-title text-center"),bk.htmlText(this.title)])],this.header)),bk.div(cb.append([bk["class"]("panel-body"),bk.style(this._style)],this.content))])]);}},null,bw);bw.get_New=function(){return bw.New(bl.fixit("panel panel-default shadow"),bl.fixit("text-align:center"),bl.fixit("Panel"),cl.ofArray([bk.htmlText("Some text")]),cl.ofArray([bk.htmlText("Some Content")]),bl.fixit(b0.Create$1(false)));};bw.New=function(c3,c4,c5,c6,c7,c8){return new bw({_class:c3,_style:c4,title:c5,header:c6,content:c7,disabled:c8});};bx=bs.TextArea=cg.Class({get_Var:function(){return this["var"];},Disabled:function(c3){return bx.New(this._class,this.placeholder,this.title,this.spellcheck,this.id,this["var"],bl.fixit(c3));},SetVar:function(c3){return bx.New(this._class,this.placeholder,this.title,this.spellcheck,this.id,c3,this.disabled);},Id:function(c3){return bx.New(this._class,this.placeholder,this.title,this.spellcheck,c3,this["var"],this.disabled);},Spellcheck:function(c3){return bx.New(this._class,this.placeholder,this.title,c3,this.id,this["var"],this.disabled);},Title:function(c3){return bx.New(this._class,this.placeholder,bl.fixit(c3),this.spellcheck,this.id,this["var"],this.disabled);},Placeholder:function(c3){return bx.New(this._class,bl.fixit(c3),this.title,this.spellcheck,this.id,this["var"],this.disabled);},Class:function(c3){return bx.New(bl.fixit(c3),this.placeholder,this.title,this.spellcheck,this.id,this["var"],this.disabled);},get_Render:function(){return this.RenderWith(cl.T.Empty);},RenderWith:function(c3){var c4,c5;c4=this;return bk.div([bk.htmlElementF(function(c6){return function(){return cK.InputArea(c6,c4["var"]);};},cl.append(cl.ofArray([bk["class"](this._class),bk.Id(this.id),bk.spellcheck(bl.map(function(c6){return c6?"true":"false";},this.spellcheck)),bk.title(this.title),bk.style("height: 100%;  width: 100%; box-sizing: border-box; "),bk.placeholder(this.placeholder),new bq({$:8,$0:(c5=cI.Const(""),cM.DynamicPred("disabled",bl.toView(this.disabled),c5))})]),c3))]);}},null,bx);bx.New$1=function(c3){return bx.New$3(b0.Lens(c3,function(c4){return c4==null?"":c4.$0;},function(c4,c5){return c4==null?null:{$:1,$0:c5};})).Disabled(bl.map(function(c4){return c4==null;},c3));};bx.New$2=function(c3){return bx.New$3(b0.Create$1(c3));};bx.New$3=function(c3){return bx.New(bl.fixit("form-control"),bl.fixit("Enter text:"),bl.fixit(""),bl.fixit(false),"",c3,bl.fixit(false));};bx.New=function(c3,c4,c5,c6,c7,c8,c9){return new bx({_class:c3,placeholder:c4,title:c5,spellcheck:c6,id:c7,"var":c8,disabled:c9});};by.New=function(c3,c4){return{line:c3,ch:c4};};bz=bs.CodeMirrorEditor=cg.Class({},i,bz);bz.New=cg.Ctor(function(){},bz);bA=bs.CodeMirror=cg.Class({get_Var:function(){return this["var"];},Disabled:function(c3){return bA.New(this._class,this.style,this.id,this["var"],this.onChange,this.onRender,this.editorO,bl.fixit(c3));},OnRender:function(c3){return bA.New(this._class,this.style,this.id,this["var"],this.onChange,{$:1,$0:c3},this.editorO,this.disabled);},OnChange:function(c3){return bA.New(this._class,this.style,this.id,this["var"],c3,this.onRender,this.editorO,this.disabled);},Style:function(c3){return bA.New(this._class,bl.fixit(c3),this.id,this["var"],this.onChange,this.onRender,this.editorO,this.disabled);},SetVar:function(c3){return bA.New(this._class,this.style,this.id,c3,this.onChange,this.onRender,this.editorO,this.disabled);},Id:function(c3){return bA.New(this._class,this.style,c3,this["var"],this.onChange,this.onRender,this.editorO,this.disabled);},Class:function(c3){return bA.New(bl.fixit(c3),this.style,this.id,this["var"],this.onChange,this.onRender,this.editorO,this.disabled);},get_Render:function(){var c3;c3=this;return bk.div([bk["class"](this._class),new bq({$:8,$0:cN.Create("id",this.id)}),bk.style("position: relative; height: 300px"),bk.style(this.style),bk.div([bk.style("height: 100%; width: 100%; position: absolute;"),new bq({$:8,$0:cN.OnAfterRenderImpl(function(c4){var c5;ca.Start((c5=null,ca.Delay(function(){return ca.Bind(br.LoadFilesAsync(bs.codeMirrorIncludes()),function(){var c6,c7,c8,c9;c6=a.CodeMirror(c4,{theme:"rubyblue",lineNumbers:true,matchBrackets:true,gutters:["CodeMirror-lint-markers"],extraKeys:{Tab:function(c_){c_.replaceSelection("    ","end");},F11:function(c_){c_.setOption("fullScreen",!c_.getOption("fullScreen"));}}});c3.editorO={$:1,$0:c6};c7=c3.onRender;c7==null?void 0:c7.$0(c6);c8=[0];c9=[0];c6.on("changes",function(){var c_;c_=c6.getValue();c3["var"].Get()!==c_?(c8[0]=c8[0]+1,c3["var"].Set(c_),c3.onChange()):void 0;});cI.Sink(function(){if(c8[0]>c9[0])c9[0]=c8[0];else if(c6.getValue()!==c3["var"].Get()){c6.setValue(c3["var"].Get());c6.getDoc().clearHistory();}},c3["var"].get_View());bl.sink(function(c_){c6.setOption("readOnly",c_&&"nocursor");},c3.disabled);return ca.Zero();});})),null);})})]),bk.link([bk.href("/EPFileX/codemirror/content/editor.css"),bk.type("text/css"),bk.rel("stylesheet")]),bk.link([bk.href("/EPFileX/codemirror/content/codemirror.css"),bk.type("text/css"),bk.rel("stylesheet")]),bk.link([bk.href("/EPFileX/codemirror/scripts/addon/display/fullscreen.css"),bk.type("text/css"),bk.rel("stylesheet")]),bk.link([bk.href("/EPFileX/codemirror/scripts/addon/dialog/dialog.css"),bk.type("text/css"),bk.rel("stylesheet")]),bk.link([bk.href("/EPFileX/codemirror/scripts/addon/hint/show-hint.css"),bk.type("text/css"),bk.rel("stylesheet")]),bk.link([bk.href("/EPFileX/codemirror/scripts/addon/lint/lint.css"),bk.type("text/css"),bk.rel("stylesheet")]),bk.css(".CodeMirror { height: 100% }")]);}},null,bA);bA.New$1=function(c3){return bA.New$3(b0.Lens(c3,function(c4){return c4==null?"":c4.$0;},function(c4,c5){return c4==null?null:{$:1,$0:c5};})).Disabled(bl.map(function(c4){return c4==null;},c3));};bA.New$2=function(c3){return bA.New$3(b0.Create$1(c3));};bA.get_Render$4099$48=function(c3){return function(c4){var c5;ca.Start((c5=null,ca.Delay(function(){return ca.Bind(br.LoadFilesAsync(bs.codeMirrorIncludes()),function(){var c6,c7,c8,c9;c6=a.CodeMirror(c4,{theme:"rubyblue",lineNumbers:true,matchBrackets:true,gutters:["CodeMirror-lint-markers"],extraKeys:{Tab:function(c_){c_.replaceSelection("    ","end");},F11:function(c_){c_.setOption("fullScreen",!c_.getOption("fullScreen"));}}});c3.editorO={$:1,$0:c6};c7=c3.onRender;c7==null?void 0:c7.$0(c6);c8=[0];c9=[0];c6.on("changes",function(){var c_;c_=c6.getValue();c3["var"].Get()!==c_?(c8[0]=c8[0]+1,c3["var"].Set(c_),c3.onChange()):void 0;});cI.Sink(function(){if(c8[0]>c9[0])c9[0]=c8[0];else if(c6.getValue()!==c3["var"].Get()){c6.setValue(c3["var"].Get());c6.getDoc().clearHistory();}},c3["var"].get_View());bl.sink(function(c_){c6.setOption("readOnly",c_&&"nocursor");},c3.disabled);return ca.Zero();});})),null);};};bA.New$3=function(c3){return bA.New(bl.fixit(""),bl.fixit(""),"",c3,a.ignore,null,null,bl.fixit(false));};bA.New=function(c3,c4,c5,c6,c7,c8,c9,c_){return new bA({_class:c3,style:c4,id:c5,"var":c6,onChange:c7,onRender:c8,editorO:c9,disabled:c_});};bB.New=function(c3,c4,c5){return{text:c3,displayText:c4,className:c5};};bC.New=function(c3,c4,c5){return{list:c3,from:c4,to:c5};};bD.New=function(c3,c4,c5){return{hint:c3,completeSingle:c4,container:c5};};bE.New=function(c3,c4,c5,c6){return{message:c3,severity:c4,from:c5,to:c6};};bF=bs.SplitterBar=cg.Class({Children:function(c3){return bF.New(this.value,this.min,this.max,this.vertical,this.node,c3,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},get_After:function(){return bF.New(this.value,this.min,this.max,this.vertical,this.node,this.children,true,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},get_Before:function(){return bF.New(this.value,this.min,this.max,this.vertical,this.node,this.children,false,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Horizontal:function(){return bF.New(this.value,this.min,this.max,bl.fixit(false),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Vertical:function(){return bF.New(this.value,this.min,this.max,bl.fixit(true),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Horizontal$1:function(c3){return bF.New(this.value,this.min,this.max,bl.map(function(c4){return!c4;},bl.fixit(c3)),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Vertical$1:function(c3){return bF.New(this.value,this.min,this.max,bl.fixit(c3),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Max:function(c3){return bF.New(this.value,this.min,bl.fixit(c3),this.vertical,this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Min:function(c3){return bF.New(this.value,bl.fixit(c3),this.max,this.vertical,this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Node:function(c3){return bF.New(this.value,this.min,this.max,this.vertical,c3,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Value:function(c3){this.value.Set(c3);return this;},get_Render:function(){var c3;function c4(c9){return c3.startVer?c9.clientX:c9.clientY;}function c5(){var c9;c9=c3.domElem;return c9!=null&&c9.$==1?c3.startVer?c3.after?c9.$0.parentElement.getBoundingClientRect().width:-c9.$0.parentElement.getBoundingClientRect().width:c3.after?c9.$0.parentElement.getBoundingClientRect().height:-c9.$0.parentElement.getBoundingClientRect().height:100;}function c6(c9){c3.value.Set((c4(c9)-c3.start)*100/c3.size+c3.startP);}function c7(){if(c3.dragging){c3.dragging=false;a.removeEventListener("mousemove",c6,false);a.removeEventListener("mouseup",c7,false);}}function c8(c9,c_){return!c3.dragging?(c3.dragging=true,c3.startVer=cI.TryGet(bl.toView(c3.vertical)).$0,c3.startP=cI.TryGet(bl.toView(c3.get_GetValue())).$0,c3.start=c4(c_),c3.size=c5(),a.addEventListener("mousemove",c6,false),a.addEventListener("mouseup",c7,false),c_.preventDefault()):null;}c3=this;return this.node.AddChildren([bk["class"](bl.map(function(c9){return c9?"Vertical":"Horizontal";},this.vertical)),new bq({$:8,$0:cN.HandlerImpl("mousedown",function(c9){return function(c_){return c8(c9,c_);};})}),new bq({$:8,$0:cN.OnAfterRenderImpl(function(c9){c3.domElem={$:1,$0:c9};})}),bk.css("\n                    .Splitter.Vertical   { cursor: col-resize; background-color: #eef ; width : 5px ; margin-left:-7px; }\n                    .Splitter.Horizontal { cursor: row-resize; background-color: #eef ; height: 5px ; margin-top :-7px; }\n                ")]).AddChildren(this.children);},get_GetValue:function(){function c3(c5,c6){return cc.Compare(c5,c6)===-1?c5:c6;}function c4(c5,c6){return cc.Compare(c5,c6)===1?c5:c6;}return bl.map2(function(c5){return function(c6){return c3(c5,c6);};},this.max,bl.map2(function(c5){return function(c6){return c4(c5,c6);};},this.min,this.value));},get_Var:function(){return this.value;}},null,bF);bF.get_Render$4264$45=function(c3){return function(c4){c3.domElem={$:1,$0:c4};};};bF.get_Render$4263$42=a.id;bF.New$1=function(c3){return bF.New$2(b0.Create$1(c3));};bF.New$2=function(c3){return bF.New(c3,bl.fixit(5),bl.fixit(95),bl.fixit(true),bk.div([bk["class"]("Splitter")]),cl.T.Empty,true,false,true,0,0,0,null);};bF.New=function(c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd){return new bF({value:c3,min:c4,max:c5,vertical:c6,node:c7,children:c8,after:c9,dragging:c_,startVer:c$,startP:da,start:db,size:dc,domElem:dd});};bG.StFixedPerc={$:2};bG.StFixedPx={$:1};bG.StVariable={$:0};bH=bs.Grid=cg.Class({get_Render:function(){return bk.div(this.GridTemplate());},GridTemplate:function(){var c3;c3=this;return cl.ofSeq(cb.delay(function(){function c4(c5,c6){return c5!=null&&c5.$==1?c6.AddChildren([bk.style((function(c7){return function(c8){return c7("grid-area: "+ch.toSafe(c8)+"; dispxlay: grid");};}(a.id))(c5.$0))]):c6;}return cb.append(cb.map(function(c5){return c4(c5[0],c5[1]);},c3.content),cb.delay(function(){function c5(c6,c7){var c8;return c7.$==2?(c8=c7.$0,{$:1,$0:c8.get_Render().InsertChildren([bk.style1("grid-column",a.String(c6+(c8.after?2:1))),bk.style1("grid-row",(function(c9){return function(c_){return c9("1 / "+a.String(c_));};}(a.id))(cj.length(c3.rows)+1))])}):c7.$==1?null:null;}return cb.append(cb.choose(function(c6){return c5(c6[0],c6[1]);},cb.indexed(c3.cols)),cb.delay(function(){function c6(c7,c8){var c9;return c8.$==2?(c9=c8.$0,{$:1,$0:c9.get_Render().InsertChildren([bk.style1("grid-row",a.String(c7+(c9.after?2:1))),bk.style1("grid-column",(function(c_){return function(c$){return c_("1 / "+a.String(c$));};}(a.id))(cj.length(c3.cols)+1))])}):c8.$==1?null:null;}return cb.append(cb.choose(function(c7){return c6(c7[0],c7[1]);},cb.indexed(c3.rows)),cb.delay(function(){return cb.append(c3.styles(),cb.delay(function(){return cb.append([bk.style((((cg.Curried3(function(c7,c8,c9){return c7("display: grid; grid-gap: "+c8.toFixed(6)+"px; padding: "+c9.toFixed(6)+"px; box-sizing: border-box");}))(a.id))(c3.gap))(c3.padding))],cb.delay(function(){return[new bq({$:8,$0:cN.OnAfterRenderImpl(function(c7){function c8(){var c9;c9=c7.getBoundingClientRect();bs.setVar(c3.widthHeight,[c9.width,c9.height]);}c8();bs.addResizeObserver(c8,c7);})})];}));}));}));}));}));}));},styles:function(){return cl.ofArray([bk.style1("grid-template-columns",this.style(this.cols,bl.map(function(c3){return c3[0];},this.widthHeight))),bk.style1("grid-template-rows",this.style(this.rows,bl.map(function(c3){return c3[1];},this.widthHeight)))]);},style:function(c3,c4){var c5,c6,c7,c8;function c9(da,db){return function(dc){return dc.$==2?[bl.map2(function(dd){return function(de){return dd+de;};},dc.$0.get_GetValue(),da),db]:dc.$==1?dc.$0.$==1?[da,bl.map2(function(dd){return function(de){return dd+de;};},dc.$0.$0,db)]:[bl.map2(function(dd){return function(de){return dd+de;};},dc.$0.$0,da),db]:[da,db];};}function c_(da){return bl.map2(function(db){return function(dc){var dd,de,df;dd=(de=db*dc,(df=0,cc.Compare(df,de)===1?df:de));return(function(dg){return function(dh){return dg(dh.toFixed(6)+"%");};}(a.id))(dd);};},c7,da);}function c$(da){return bl.map(function(db){var dc,dd;dc=(dd=0,cc.Compare(dd,db)===1?dd:db);return(function(de){return function(df){return de(df.toFixed(6)+"px");};}(a.id))(dc);},da);}c5=this;return cj.length(c3)===0?new bl({$:0,$0:"100%"}):(c6=cb.fold(function(da,db){return(function(dc){return c9(dc[0],dc[1]);}(da))(db);},[new bl({$:0,$0:0}),new bl({$:0,$0:0})],c3),(c7=bl.map2(function(da){return function(db){return(db-c5.padding*2-c5.gap*(cj.length(c3)-1)-da)/(db-c5.padding*2);};},c6[1],c4),(c8=bl.map(function(da){return 100-da;},c6[0]),bl.map(function(da){return ce.concat(" ",da);},cb.foldBack(function(da,db){function dc(dd,de){return new cl.T({$:1,$0:de,$1:dd});}return bl.map2(function(dd){return function(de){return dc(dd,de);};},db,da.$==2?c_(da.$0.get_GetValue()):da.$==1?da.$0.$==1?c$(da.$0.$0):c_(da.$0.$0):c_(c8));},c3,new bl({$:0,$0:cl.T.Empty}))))));},Children:function(c3){return this.changeSplitter(function(c4){return c4.Children(c3);});},Min:function(c3){return this.changeSplitter(function(c4){return c4.Min(c3);});},Max:function(c3){return this.changeSplitter(function(c4){return c4.Max(c3);});},get_Before:function(){return this.changeSplitter(function(c3){return c3.get_Before();});},changeSplitter:function(c3){var c4,c5,c6,c7,c8,c9;c4=this;c5=this.lastSplitter;c5==null?void 0:(c6=c5.$0,c7=c6[0],c6[1]?(c8=cj.get(c4.cols,c7),c8.$==2?cj.set(c4.cols,c7,{$:2,$0:c3(c8.$0)}):void 0):(c9=cj.get(c4.rows,c7),c9.$==2?cj.set(c4.rows,c7,{$:2,$0:c3(c9.$0)}):void 0));return this;},Gap:function(c3){return bH.New(this.padding,c3,this.content,this.cols,this.rows,this.widthHeight,this.lastSplitter);},Padding:function(c3){return bH.New(c3,this.gap,this.content,this.cols,this.rows,this.widthHeight,this.lastSplitter);},Content:function(c3){return bH.New(this.padding,this.gap,this.content.concat([[null,c3]]),this.cols,this.rows,this.widthHeight,this.lastSplitter);},Content$1:function(c3,c4){return bH.New(this.padding,this.gap,this.content.concat([[{$:1,$0:c3},c4]]),this.cols,this.rows,this.widthHeight,this.lastSplitter);},RowAuto:function(c3){return bH.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:0,$0:bF.New$1(c3).Horizontal()}]),this.widthHeight,this.lastSplitter);},RowVariable:function(c3){return this.NewSplitter$1(c3,false);},RowVariable$1:function(c3){return this.NewSplitter(c3,false);},RowVariable$2:function(c3){return bH.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:2,$0:c3}]),this.widthHeight,this.lastSplitter);},RowFixed:function(c3){return bH.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:1,$0:{$:0,$0:bl.fixit(c3)}}]),this.widthHeight,this.lastSplitter);},RowFixedPx:function(c3){return bH.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:1,$0:{$:1,$0:bl.fixit(c3)}}]),this.widthHeight,this.lastSplitter);},ColAuto:function(c3){return bH.New(this.padding,this.gap,this.content,this.cols.concat([{$:0,$0:bF.New$1(c3)}]),this.rows,this.widthHeight,this.lastSplitter);},ColVariable:function(c3){return this.NewSplitter$1(c3,true);},ColVariable$1:function(c3){return this.NewSplitter(c3,true);},ColVariable$2:function(c3){return bH.New(this.padding,this.gap,this.content,this.cols.concat([{$:2,$0:c3}]),this.rows,this.widthHeight,this.lastSplitter);},ColFixed:function(c3){return bH.New(this.padding,this.gap,this.content,this.cols.concat([{$:1,$0:{$:0,$0:bl.fixit(c3)}}]),this.rows,this.widthHeight,this.lastSplitter);},ColFixedPx:function(c3){return bH.New(this.padding,this.gap,this.content,this.cols.concat([{$:1,$0:{$:1,$0:bl.fixit(c3)}}]),this.rows,this.widthHeight,this.lastSplitter);},NewSplitter:function(c3,c4){return this.NewSplitter$1(b0.Create$1(c3),c4);},NewSplitter$1:function(c3,c4){var c5,c6,c7;c5=bF.New$2(c3);return c4?(c6={$:1,$0:[cj.length(this.cols),c4]},bH.New(this.padding,this.gap,this.content,this.cols.concat([{$:2,$0:c5}]),this.rows,this.widthHeight,c6)):(c7={$:1,$0:[cj.length(this.rows),c4]},bH.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:2,$0:c5.Horizontal()}]),this.widthHeight,c7));}},null,bH);bH.NewBisect=function(c3,c4,c5,c6,c7,c8){var c9,c_,c$;c9=c5?[c4.$==1?function(da){return da.ColFixedPx(c6);}:c4.$==2?function(da){return da.ColFixed(c6);}:function(da){return da.ColVariable(c6);},function(da){return da.ColAuto(50);},function(da){return da.Content(bk.style("grid-template-areas: 'one   two' "));}]:[c4.$==1?function(da){return da.RowFixedPx(c6);}:c4.$==2?function(da){return da.RowFixed(c6);}:function(da){return da.RowVariable(c6);},function(da){return da.RowAuto(50);},function(da){return da.Content(bk.style("grid-template-areas: 'one' 'two' "));}];c_=c9[0];c$=c9[1];return(c3?function(da){return c$(c_(da));}:function(da){return c_(c$(da));})(c9[2](bH.get_New().Content$1("one",c7).Content$1("two",c8).Padding(0)));};bH.GridTemplate$4451$49=function(c3){return function(c4){function c5(){var c6;c6=c4.getBoundingClientRect();bs.setVar(c3.widthHeight,[c6.width,c6.height]);}c5();bs.addResizeObserver(c5,c4);};};bH.get_New=function(){return bH.New(9,9,[],[],[],b0.Create$1([1000,100]),null);};bH.New=function(c3,c4,c5,c6,c7,c8,c9){return new bH({padding:c3,gap:c4,content:c5,cols:c6,rows:c7,widthHeight:c8,lastSplitter:c9});};bI=bs.TabStrip=cg.Class({get_Render:function(){var c3,c4,c5,c6;c3=this;c4=bk.bindHElem(function(c7){return bk.div(cl.ofSeq(cb.delay(function(){return cb.append([bk["class"]((((cg.Curried3(function(c8,c9,c_){return c8("tab-strip "+ch.toSafe(c9)+" "+ch.toSafe(c_));}))(a.id))(c3.top?"top":"bottom"))(c3.horizontal?"horizontal":"vertical"))],cb.delay(function(){return cb.collect(function(c8){var c9;c9=c8[0];return[bv.get_New().Content(bk.div([bk.htmlText(c8[1][1][0]),bk["class"](bl.map(function(c_){return"tab"+(c_===c9?" selected":"");},c3.selected)),bk.draggable("true"),new bq({$:8,$0:cN.HandlerImpl("dragover",function(){return function(c_){return c_.preventDefault();};})}),new bq({$:8,$0:cN.HandlerImpl("drag",function(){return function(){(bs.draggedTab())[0]={$:1,$0:[c3,c9]};};})}),new bq({$:8,$0:cN.HandlerImpl("drop",function(){return function(c_){c_.preventDefault();c_.stopPropagation();return c3.reorder(c9);};})}),new bq({$:8,$0:cN.HandlerImpl("click",function(){return function(){return c3.selected.Set(c9);};})})]))];},cb.indexed(c7));}));})));},this.tabs);bl.sink((c5=this.id,function(c7){bs.setSelectedPanel(c5,c7);}),this.get_Selected());c6=bk.bindHElem(function(c7){return bk.div(cl.ofSeq(cb.delay(function(){return cb.append([bk["class"]("tab-children")],cb.delay(function(){return cb.append([bk.Id(bs.uid2s(c3.id))],cb.delay(function(){function c8(c9,c_){return c_[1].AddChildren([bk.style(bl.map(function(c$){return cb.contains(c9,cb.map(function(da){return da[1];},cE.ToSeq(c$)))?"":"display : none";},bs.selectedPanels())),bk.Id(bs.uid2s(c9))]);}return cb.map(function(c9){return c8(c9[0],c9[1]);},c7);}));}));})));},this.tabs);return bk.div([bk["class"]("tab-panel"),this.top?c4:bq.HtmlEmpty,bk.div([c6,bk["class"]("tab-content")]),!this.top?c4:bq.HtmlEmpty,new bq({$:8,$0:cN.HandlerImpl("dragover",function(){return function(c7){return c7.preventDefault();};})}),new bq({$:8,$0:cN.HandlerImpl("drop",function(){return function(c7){c7.preventDefault();return c3.reorder(cj.length(c3.tabs.Get()));};})}),bk.css("\n    \n    .tab-panel {\n     overflow  : hidden   ;\n     display   : flex     ;\n     flex-flow : column   ;\n     background: lightgray;\n    }\n    .tab-content {\n     flex      : 1 1     ;\n     overflow  : auto    ;\n     position  : relative;\n    }\n    .tab-children {\n     height    : 100%    ;\n     width     : 100%    ;\n     position  : absolute;\n     display   : grid    ;\n    }\n    .tab-strip {\n     padding   : 0pt     ;\n     flex      : 0 0     ;\n    }\n    .tab {\n     border     : 0.2pt solid transparent;\n     padding    : 0pt 4pt;\n     display    : inline-block;\n     font-family: sans-serif;\n     font-weight: 200;\n     font-size  : small;\n     color      : #666;\n     cursor     : pointer;\n    }\n    .top>.tab {\n     border-radius: 2pt 2pt 0pt 0pt;\n     border-bottom-width: 0pt;\n     vertical-align: bottom;\n    }\n    .bottom>.tab {\n     border-top-width: 0pt;\n     border-radius: 0pt 0pt 2pt 2pt;\n     vertical-align: top;\n    }\n    .horizontal>.tab:not(:first-child) {\n     border-left-width: 0pt;\n    }\n    .tab.hovering {\n     background: red;\n    }\n    .tab.selected {\n     background: white;\n     border-left-width: 0.2pt;\n     color: black;\n     font-weight: 500;\n     border-color: black;\n    }\n    .horizontal>.tab.selected {\n     border-left-width: 0.2pt;\n    }\n    ")]);},Select:function(c3){var c4,c5;function c6(c7,c8){return cc.Equals(c8[0],c3)?(c4.selected.Set(c7),{$:1,$0:true}):null;}c4=this;c5=cb.tryPick(function(c7){return c6(c7[0],c7[1]);},cb.indexed(this.tabs.Get()));return c5==null?false:c5.$0;},Select$1:function(c3){var c4,c5;function c6(c7,c8){return c8[1][0]===c3?(c4.selected.Set(c7),{$:1,$0:true}):null;}c4=this;c5=cb.tryPick(function(c7){return c6(c7[0],c7[1]);},cb.indexed(this.tabs.Get()));return c5==null?false:c5.$0;},Select$2:function(c3){this.selected.Set(c3);},get_Selected:function(){return bl.map2(function(c3){return function(c4){var c5;c5=cb.tryItem(c4,c3);return c5==null?null:{$:1,$0:c5.$0[0]};};},this.tabs,this.selected);},get_Vertical:function(){return bI.New(this.selected,this.tabs,this.top,false,this.id);},get_Horizontal:function(){return bI.New(this.selected,this.tabs,this.top,true,this.id);},SetTop:function(c3){return bI.New(this.selected,this.tabs,c3,this.horizontal,this.id);},get_Bottom:function(){return bI.New(this.selected,this.tabs,false,this.horizontal,this.id);},get_Top:function(){return bI.New(this.selected,this.tabs,true,this.horizontal,this.id);},reorder:function(c3){var c4,c5,c6;c6=(bs.draggedTab())[0];if(c6!=null&&c6.$==1){if(!cc.Equals(c6.$0[0].id,this.id))this.moveTab(c6.$0[0],c6.$0[1],c3);else if(c6!=null&&c6.$==1){c4=c6.$0[1];this.tabs.Set(bs.reorderArray(this.tabs.Get(),c4,c3));c5=this.selected.Get();this.selected.Set(c5===c4?c3:c5<c4&&c5<c3||c5>c4&&c5>c3?c5:c5<c4?c5+1:c5-1);}else throw new cS.New("Compiled\\FSharpStation2\\FSharpStation.fs",4562,18);}else void 0;},moveTab:function(c3,c4,c5){var c6,c7,c8,c9;c6=this.tabs.Get();c7=c3.tabs.Get();c8=cj.collect(a.id,[cd.array(c6,{$:1,$0:0},{$:1,$0:c5-1}),[cj.get(c7,c4)],cd.array(c6,{$:1,$0:c5},{$:1,$0:cj.length(c6)-1})]);c9=cj.collect(a.id,[cd.array(c7,{$:1,$0:0},{$:1,$0:c4-1}),cd.array(c7,{$:1,$0:c4+1},{$:1,$0:cj.length(c7)-1})]);c3.tabs.Set(c9);this.tabs.Set(c8);this.selected.Set(c5);c3.selected.Get()>=cj.length(c9)?c3.selected.Set(0):void 0;bs.RaiseTabMoved(c3,this);}},null,bI);bI.get_Render$4633$42=cg.Curried3(function(c3,c4,c5){c5.preventDefault();return c3.reorder(cj.length(c3.tabs.Get()));});bI.get_Render$4632$42=cg.Curried3(function(c3,c4,c5){return c5.preventDefault();});bI.get_Render$4608$70=function(c3,c4){return function(){return function(){return c4.selected.Set(c3);};};};bI.get_Render$4607$70=function(c3,c4){return function(){return function(c5){c5.preventDefault();c5.stopPropagation();return c4.reorder(c3);};};};bI.get_Render$4606$70=function(c3,c4){return function(){return function(){(bs.draggedTab())[0]={$:1,$0:[c3,c4]};};};};bI.get_Render$4605$70=cg.Curried3(function(c3,c4,c5){return c5.preventDefault();});bI.New$1=function(c3){return bI.New$2(b0.Create$1(cj.ofSeq(cb.map(function(c4){return[cs.NewGuid(),c4];},c3))));};bI.New$2=function(c3){return bI.New(b0.Create$1(0),c3,false,true,cs.NewGuid());};bI.New=function(c3,c4,c5,c6,c7){return new bI({selected:c3,tabs:c4,top:c5,horizontal:c6,id:c7});};bJ=bs.MenuEntry=cg.Class({get_MenuNode:function(){return new bK({$:1,$0:this});},SubMenu:function(c3){return bJ.New(this.text,this.ref,this.active,this.disabled,{$:1,$0:bL.New2(c3).get_DropDown()},this.toolTip,this.target,this.divider,this.onClick);},SubMenu$1:function(c3){return bJ.New(this.text,this.ref,this.active,this.disabled,{$:1,$0:bL.New$1(c3).get_DropDown()},this.toolTip,this.target,this.divider,this.onClick);},Disabled:function(c3){return bJ.New(this.text,this.ref,this.active,bl.fixit(c3),this.subMenu,this.toolTip,this.target,this.divider,this.onClick);},OnClick:function(c3){return bJ.New(this.text,this.ref,this.active,this.disabled,this.subMenu,this.toolTip,this.target,this.divider,{$:1,$0:c3});},get_Divider:function(){return bJ.New(this.text,this.ref,this.active,this.disabled,this.subMenu,this.toolTip,this.target,true,this.onClick);},Target:function(c3){return bJ.New(this.text,this.ref,this.active,this.disabled,this.subMenu,this.toolTip,{$:1,$0:c3},this.divider,this.onClick);},get_Render:function(){var c3,c4,c5,c6,c7,c8,c9,c_,c$;return(this.divider?function(da){return bk.addClass("divider",da);}:a.id)((c3=(c4=(c5=(c6=bs.entryTxt(this.text,(c7=this.target,c7==null?"":c7.$0),this.ref),(bk.addClassIf("active",this.active))(c6)),(bk.addClassIf("disabled",this.disabled))(c5)),(c8=this.subMenu,(c8!=null&&c8.$==1?(c9=cl.ofArray([bk["class"]("dropdown"),c8.$0.get_Render()]),function(da){return bk.addChildren(c9,da);}):a.id)(c4))),(c_=this.onClick,(c_!=null&&c_.$==1?(c$=cl.ofArray([new bq({$:8,$0:cN.HandlerImpl("click",c_.$0)}),bk.style("cursor : pointer")]),function(da){return bk.addChildren(c$,da);}):a.id)(c3))));}},null,bJ);bJ.get_Render$4746$104=a.id;bJ.New$1=function(c3,c4){var c5;c5=bJ.New$2(c3);return bJ.New(c5.text,bl.map(function(c6){return{$:1,$0:c6};},c4),c5.active,c5.disabled,c5.subMenu,c5.toolTip,c5.target,c5.divider,c5.onClick);};bJ.New$2=function(c3){var c4,c5;c4=bl.fixit(c3);c5=bl.fixit(false);return bJ.New(c4,new bl({$:0,$0:null}),c5,bl.fixit(false),null,null,null,false,null);};bJ.New=function(c3,c4,c5,c6,c7,c8,c9,c_,c$){return new bJ({text:c3,ref:c4,active:c5,disabled:c6,subMenu:c7,toolTip:c8,target:c9,divider:c_,onClick:c$});};bK=bs.MenuNode=cg.Class({get_Render:function(){return this.$==1?this.$0.get_Render():this.$0;}},null,bK);bL=bs.Menu=cg.Class({get_Render:function(){var c3;c3=this;return(this.dropdown?bs.dropdown:bs.nav)(cl.ofSeq(cb.delay(function(){return cb.map(function(c4){return c4.get_Render();},c3.entries);})));},get_DropDown:function(){return bL.New(this.entries,true);}},null,bL);bL.New2=function(c3){return bL.New$1(cb.map(function(c4){return new bK({$:1,$0:c4});},c3));};bL.New$1=function(c3){return bL.New(c3,false);};bL.New=function(c3,c4){return new bL({entries:c3,dropdown:c4});};bM=bs.Action=cg.Class({get_Button:function(){var c3,c4,c5;function c6(c7,c8){return null;}c3=(c4=(c5=this.onClick,c5==null?null:{$:1,$0:c5.$0(this)}),c4==null?function(c7){return function(c8){return c6(c7,c8);};}:c4.$0);return bt.New(bl.map(function(c7){return c7?"btn btn-primary":"btn";},this.highlight),bl.fixit("button"),bl.fixit(""),this.text,c3,this.disabled,"");},get_MenuEntry:function(){var c3,c4;c3=(c4=this.onClick,c4==null?null:{$:1,$0:c4.$0(this)});return bJ.New(this.text,new bl({$:0,$0:null}),this.highlight,this.disabled,null,this.toolTip,null,false,c3);},Highlight:function(c3){return bM.New(this.text,bl.fixit(c3),this.disabled,this.toolTip,this.onClick,this.parms);},Disabled:function(c3){return bM.New(this.text,this.highlight,bl.fixit(c3),this.toolTip,this.onClick,this.parms);},OnClick2:function(c3){return bM.New(this.text,this.highlight,this.disabled,this.toolTip,{$:1,$0:c3},this.parms);},OnClick:function(c3){return bM.New(this.text,this.highlight,this.disabled,this.toolTip,{$:1,$0:function(){return c3;}},this.parms);},Parms:function(c3){return bM.New(this.text,this.highlight,this.disabled,this.toolTip,this.onClick,{$:1,$0:c3});},Text:function(c3){return bM.New(bl.fixit(c3),this.highlight,bl.fixit(false),this.toolTip,this.onClick,this.parms);}},null,bM);bM.New$1=function(c3){return bM.New(bl.fixit(c3),bl.fixit(false),bl.fixit(false),null,null,null);};bM.New=function(c3,c4,c5,c6,c7,c8){return new bM({text:c3,highlight:c4,disabled:c5,toolTip:c6,onClick:c7,parms:c8});};bN=bs.GuiPart=cg.Class({GetHtmlNode:function(c3,c4){var c5,c6,c7,c8,c9,c_;return this.$==1?[this.$0,a.ignore]:this.$==2?[this.$0.get_Button().get_Render(),a.ignore]:this.$==5?[c3.GetCallButton(this.$0,this.$1,this.$2),a.ignore]:this.$==4?(c5=bI.New$1(cb.map(function(c$){return[c$,c3.GetNode(c$)];},this.$1)).SetTop(this.$0),(bs.addValue(c4,c5,c3.tabStrips),[c5.get_Render(),a.ignore])):this.$==3?(c6=this.$3,(c7=b0.Create$1(this.$6),(c8=b0.Create$1(this.$7),(c9=b0.Create$1(c6),(c_=[c6],[bH.NewBisect(this.$0,this.$1,this.$2,c9,c3.GetNode(this.$4),c3.GetNode(this.$5)).Min(c7).Max(c8).get_Render(),function(c$){var da;if(c$.$==3){da=c$.$3;c_[0]!==da?(c_[0]=da,c9.Set(da)):void 0;c7.Set(c$.$6);c8.Set(c$.$7);}}]))))):[bq.HtmlEmpty,a.ignore];}},null,bN);bO.New=function(c3,c4,c5,c6,c7,c8,c9){return{HtmlElementF:c3,HtmlAttributeF:c4,HtmlAttributeOF:c5,HtmlTextF:c6,HtmlEmptyF:c7,HtmlGuiPart:c8,HtmlGuiCall:c9};};bP.New=function(c3,c4,c5,c6,c7){return{GuiRoot:c3,GuiTabStrip:c4,GuiSplit:c5,GuiNode:c6,GuiCall:c7};};bQ.get_New=function(){return{$:0,$0:cs.NewGuid()};};bR=bs.Layout=cg.Class({SelectTab:function(c3){cb.iter(function(c4){c4.Select$1(c3);},this.tabStrips.get_Values());},SetLayoutJson:function(c3,c4){var c5,c8;function c6(c_){var c$,da,db,dc,dd,de,df;c$=bs.PHtmlElementF(c_);return c$!=null&&c$.$==1?{$:1,$0:new bq({$:0,$0:c$.$0[0],$1:cb.choose(c6,c$.$0[1])})}:(da=bs.PHtmlAttributeF(c_),da!=null&&da.$==1?{$:1,$0:new bq({$:3,$0:da.$0[0],$1:new bl({$:0,$0:da.$0[1]})})}:(db=bs.PHtmlAttributeOF(c_),db!=null&&db.$==1?{$:1,$0:new bq({$:4,$0:db.$0[0],$1:new bl({$:0,$0:db.$0[1]})})}:(dc=bs.PHtmlTextF(c_),dc!=null&&dc.$==1?{$:1,$0:new bq({$:5,$0:new bl({$:0,$0:dc.$0})})}:(dd=bs.PHtmlEmptyF(c_),dd!=null&&dd.$==1)?{$:1,$0:bq.HtmlEmpty}:(de=bs.PHtmlGuiPart(c_),de!=null&&de.$==1?{$:1,$0:c8.GetNode(de.$0)}:(df=bs.PHtmlGuiCall(c_),df!=null&&df.$==1?{$:1,$0:c8.GetCallButton(df.$0[0],df.$0[1],df.$0[2])}:null)))));}function c7(c_){var c$,da,db,dc,dd,de;c$=bs.PGuiNode(c_);return c$!=null&&c$.$==1?{$:1,$0:new bN({$:1,$0:g.defaultValue(bq.HtmlEmpty,c6(c$.$0))})}:(da=bs.PGuiRoot(c_),da!=null&&da.$==1?{$:1,$0:new bN({$:0,$0:da.$0})}:(db=bs.PGuiTabStrip(c_),db!=null&&db.$==1?{$:1,$0:(dc=db.$0,new bN({$:4,$0:dc[0],$1:dc[1]}))}:(dd=bs.PGuiSplit(c_),dd!=null&&dd.$==1?{$:1,$0:new bN({$:3,$0:dd.$0[0],$1:bs.toSect(dd.$0[1]),$2:dd.$0[2],$3:dd.$0[3],$4:dd.$0[4],$5:dd.$0[5],$6:dd.$0[6],$7:dd.$0[7]})}:(de=bs.PGuiCall(c_),de!=null&&de.$==1?{$:1,$0:new bN({$:5,$0:de.$0[0],$1:de.$0[1],$2:de.$0[2]})}:null))));}c8=this;function c9(c_,c$){var da;da=c7(c$);return da==null?null:{$:1,$0:[c_,{$:1,$0:c$},da.$0]};}try{c5=this.AddNewSteps(c3,c4===""?[]:cj.choose(function(c_){return c9(c_[0],c_[1]);},((cx.DecodeArray(cx.DecodeTuple([cx.Id(),b_.j$12])))())(cu.parse(c4))));}catch(c_){c5=(function(c$){return function(da){return c$("Error: "+ch.prettyPrint(da));};}(function(c$){ck.log(c$);}))(c_);}},AddNewSteps:function(c3,c4){var c5;function c6(c8,c9,c_){var c$,da;if(c5.parts.ContainsKey(c8)){c$=c5.parts.get_Item(c8);da=c$[0];cc.Equals((da.Get())[0],c9)?bl.iter(a.ignore,bl.apply(new bl({$:0,$0:c_}),c$[2])):da.Set([c9,c_]);}else c5.AddNode(c8,c9,c_);}function c7(c8,c9){return cb.last(c9);}c5=this;cj.iter(function(c8){return c6(c8[0],c8[1],c8[2]);},cj.map(function(c8){return c7(c8[0],c8[1]);},cj.groupBy(function(c8){return a.id(c8[0],c8[1],c8[2]);},c3.concat(c4))));},get_Render:function(){function c3(c4){var c5;c5=c4.Get();return c5[1].$==0?{$:1,$0:c5[1].$0}:null;}return this.GetNode(g.defaultValue("main",cb.tryPick(function(c4){return c3(bs.t1of3.apply(null,c4));},this.parts.get_Values())));},GetNode:function(c3){var c4;c4=null;return this.parts.TryGetValue(c3,{get:function(){return c4;},set:function(c5){c4=c5;}})?bs.t2of3(c4[0],c4[1],c4[2]):this.AddNode(c3,bQ.get_New(),new bN({$:1,$0:bk.div([bk.htmlText((function(c5){return function(c6){return c5("GuiPart "+ch.toSafe(c6)+" not found");};}(a.id))(c3))])}));},AddNode:function(c3,c4,c5){var c6,c7,c8,c9;function c_(c$,da){return da.GetHtmlNode(c6,c3);}c6=this;c7=b0.Create$1([c4,c5]);c8=bl.map(function(c$){return c_(c$[0],c$[1]);},c7);c9=new bq({$:2,$0:bl.map(function(c$){return c$[0];},c8)});this.parts.Add(c3,[c7,c9,bl.map(function(c$){return c$[1];},c8)]);return c9;},GetCallButton:function(c3,c4,c5){var c6;c6=m.Success(this.GetGuiCallAction(c3,c4,c5));return c6.$==1?bk.div([bk.htmlText(ce.concat(". ",m.msgs2String(c6.$0)))]):c6.$0[0].get_Button().get_Render();},GetGuiCallAction:function(c3,c4,c5){var c6;return this.parts.ContainsKey(c4)?(c6=(this.parts.get_Item(c4))[0].Get(),c6[1].$==2?m.succeed(c6[1].$0.Text(c3).Parms(cj.map(a.id,c5))):m.failSimpleError((function(c7){return function(c8){return c7("GuiPart "+ch.toSafe(c8)+" is not a GuiAction");};}(a.id))(c4))):m.failSimpleError((function(c7){return function(c8){return c7("GuiAction "+ch.toSafe(c8)+" not found");};}(a.id))(c4));}},null,bR);bR.New$1=function(c3){var c4;function c5(c6,c7,c8){c4.AddNode(c6,c7,c8);}c4=bR.New(new cp.New$5(),new cp.New$5());cb.iter(function(c6){return c5(c6[0],c6[1],c6[2]);},c3);return c4;};bR.AddGuids=function(c3){function c4(c5,c6){return[c5,c6.$==2?bQ.get_New():c6.$==0?{$:2,$0:c6.$0}:c6.$==3?{$:4,$0:c6.$0,$1:c6.$1,$2:c6.$2,$3:c6.$4,$4:c6.$5}:c6.$==4?{$:3,$0:c6.$0,$1:c6.$1}:c6.$==5?{$:5,$0:c6.$0,$1:c6.$1,$2:c6.$2}:bQ.get_New(),c6];}return cj.ofSeq(cb.map(function(c5){return c4(c5[0],c5[1]);},c3));};bR.New=function(c3,c4){return new bR({parts:c3,tabStrips:c4});};bs.varVerSplitter=function(c3,c4,c5,c6,c7){return new bN({$:3,$0:true,$1:bG.StVariable,$2:true,$3:c3,$4:c4,$5:c5,$6:c6,$7:c7});};bs.varHorSplitter=function(c3,c4,c5,c6,c7){return new bN({$:3,$0:true,$1:bG.StVariable,$2:false,$3:c3,$4:c4,$5:c5,$6:c6,$7:c7});};bs.fixPcVerSplitter=function(c3,c4,c5,c6){return new bN({$:3,$0:c3,$1:bG.StFixedPerc,$2:true,$3:c4,$4:c5,$5:c6,$6:5,$7:95});};bs.fixPcHorSplitter=function(c3,c4,c5,c6){return new bN({$:3,$0:c3,$1:bG.StFixedPerc,$2:false,$3:c4,$4:c5,$5:c6,$6:5,$7:95});};bs.fixedVerSplitter=function(c3,c4,c5,c6){return new bN({$:3,$0:c3,$1:bG.StFixedPx,$2:true,$3:c4,$4:c5,$5:c6,$6:5,$7:95});};bs.fixedHorSplitter=function(c3,c4,c5,c6){return new bN({$:3,$0:c3,$1:bG.StFixedPx,$2:false,$3:c4,$4:c5,$5:c6,$6:5,$7:95});};bs.t3of3=function(c3,c4,c5){return c5;};bs.t2of3=function(c3,c4,c5){return c4;};bs.t1of3=a.id;bs.toSect=function(c3){return c3==="StVariable"?bG.StVariable:c3==="StFixedPx"?bG.StFixedPx:bG.StFixedPerc;};bs.PGuiCall=function(c3){return c3.GuiCall;};bs.PGuiNode=function(c3){return c3.GuiNode;};bs.PGuiRoot=function(c3){return c3.GuiRoot;};bs.PGuiSplit=function(c3){return c3.GuiSplit;};bs.PGuiTabStrip=function(c3){return c3.GuiTabStrip;};bs.PHtmlGuiCall=function(c3){return c3.HtmlGuiCall;};bs.PHtmlGuiPart=function(c3){return c3.HtmlGuiPart;};bs.PHtmlEmptyF=function(c3){return c3.HtmlEmptyF;};bs.PHtmlTextF=function(c3){return c3.HtmlTextF;};bs.PHtmlAttributeOF=function(c3){return c3.HtmlAttributeOF;};bs.PHtmlAttributeF=function(c3){return c3.HtmlAttributeF;};bs.PHtmlElementF=function(c3){return c3.HtmlElementF;};bs.addValue=function(c3,c4,c5){c5.Remove(c3);c5.Add(c3,c4);};bs.processLayoutSteps=function(c3,c4){var c5,c6;return g.defaultValue(c4,(c5=cb.tryHead(c3),c5==null?null:{$:1,$0:(c6=c5.$0,bs.processLayoutSteps(cb.skip(1,c3),c4.Add(c6[0],c6[1])))}));};bs.HtmlGuiCall=function(c3,c4,c5){return new bN({$:5,$0:c3,$1:c4,$2:c5});};bs.Do2=function(c3,c4,c5,c6,c7){return c3(c5,c4);};bs.Do=function(c3,c4,c5,c6){return c3(c4);};bs.navbar=function(c3,c4,c5){return bk.div([bk["class"]("navbar navbar-default"),bk.div([bk["class"]("container-fluid"),bk.div([bk["class"]("navbar-header"),bk.div([bk["class"]("navbar-brand"),c3])]),bk.div([bk["class"]("navbar-collapse collapse"),c4,bk.addClass("navbar-right",c5)])])]);};bs.dropdown=function(c3){return bs.entries(c3,"dropdown-menu");};bs.nav=function(c3){return bs.entries(c3,"nav navbar-nav");};bs.entries=function(c3,c4){return bk.addClass(c4,bk.ul(c3));};bs.entryTxt=function(c3,c4,c5){return bs.menuEntry(bs.refText(c3,c4,c5));};bs.refText=function(c3,c4,c5){return bk.bindHElem(function(c6){return c6===""?bq.HtmlEmpty:bs.refA(bk.htmlText(c6),c6,c5);},c3);};bs.refA=function(c3,c4,c5){return bk.a([c3,bk.hrefO(c5),bk.target(c4)]);};bs.menuEntry=function(c3){return bk.li([c3]);};bs.RaiseTabMoved=function(c3,c4){var c5;c5=bs.TabMoved();c5==null?void 0:c5.$0([c3,c4]);};bs.TabMoved=function(){b7.$cctor();return b7.TabMoved;};bs.set_TabMoved=function(c3){b7.$cctor();b7.TabMoved=c3;};bs.setSelectedPanel=function(c3,c4){bs.selectedPanels().Set(c4==null?bs.selectedPanels().Get().Remove(c3):bs.selectedPanels().Get().Add(c3,c4.$0));};bs.selectedPanels=function(){b7.$cctor();return b7.selectedPanels;};bs.uid2s=function(c3){return"X"+ce.Replace(a.String(c3),"-","");};bs.draggedTab=function(){b7.$cctor();return b7.draggedTab;};bs.reorderArray=function(c3,c4,c5){return cj.collect(a.id,c5<c4?[cd.array(c3,{$:1,$0:0},{$:1,$0:c5-1}),[cj.get(c3,c4)],cd.array(c3,{$:1,$0:c5},{$:1,$0:c4-1}),cd.array(c3,{$:1,$0:c4+1},{$:1,$0:cj.length(c3)-1})]:[cd.array(c3,{$:1,$0:0},{$:1,$0:c4-1}),cd.array(c3,{$:1,$0:c4+1},{$:1,$0:c5}),[cj.get(c3,c4)],cd.array(c3,{$:1,$0:c5+1},{$:1,$0:cj.length(c3)-1})]);};bs.reorderList=function(c3,c4,c5){return c5<c4?cl.append(c3.GetSlice({$:1,$0:0},{$:1,$0:c5-1}),cl.append(cl.ofArray([c3.get_Item(c4)]),cl.append(c3.GetSlice({$:1,$0:c5},{$:1,$0:c4-1}),c3.GetSlice({$:1,$0:c4+1},{$:1,$0:c3.get_Length()-1})))):cl.append(c3.GetSlice({$:1,$0:0},{$:1,$0:c4-1}),cl.append(c3.GetSlice({$:1,$0:c4+1},{$:1,$0:c5}),cl.append(cl.ofArray([c3.get_Item(c4)]),c3.GetSlice({$:1,$0:c5+1},{$:1,$0:c3.get_Length()-1}))));};bs.setVar=function(c3,c4){if(!cc.Equals(c3.Get(),c4))c3.Set(c4);};bs.addResizeObserver=function(c3,c4){var c5,c6,c7,c8;try{c5=!(!a.ResizeObserver);}catch(c9){c5=false;}if(c5){c6=new a.ResizeObserver(c3);bs.set_observers(new cl.T({$:1,$0:c6,$1:bs.observers()}));c6.observe(c4);}else{c7=bs.dimsChanged(c4);ca.Start((c8=null,ca.Delay(function(){return ca.While(function(){return c4.isConnected;},ca.Delay(function(){return ca.Bind(ca.Sleep(110),function(){return c7()?(c3(),ca.Zero()):ca.Zero();});}));})),null);}};bs.dimsChanged=function(c3){var c4;c4=[c3.getBoundingClientRect()];return function(){var c5;c5=c3.getBoundingClientRect();return cc.Equals(bs.domRect2Tuple(c4[0]),bs.domRect2Tuple(c5))?false:(c4[0]=c5,true);};};bs.domRect2Tuple=function(c3){return[c3.top,c3.left,c3.width,c3.height];};bs.observers=function(){b7.$cctor();return b7.observers;};bs.set_observers=function(c3){b7.$cctor();b7.observers=c3;};bs.setLint=function(c3,c4){c3.setOption("lint",{async:1,getAnnotations:cg.CreateFuncWithArgs(c4),container:bk.findRootElement(c3.getWrapperElement())});};bs.showHints=function(c3,c4,c5,c6){var c7;c7=bD.New(cg.CreateFuncWithArgs(c4),c5,bk.findRootElement(c3.getWrapperElement()));c7.hint.async=1;c3.showHint(c7);};bs.cmPos=function(c3,c4){return by.New(c3,c4);};bs.codeMirrorIncludes=function(){b7.$cctor();return b7.codeMirrorIncludes;};bs.hoverable=function(c3){return bv.get_New().Content(c3);};bT=bS.RunNode=cg.Class({createBaseNode:function(){var c3;c3=a.document.createElement("div");c3.setAttribute("id",this.nodeName);a.document.body.appendChild(c3);return c3;},createNode:function(){var c3;c3=a.document.createElement("div");c3.style="height: 100%; width: 100%;";return c3;},RunHtml:function(c3){this.RunDoc((bk.renderDoc())(c3));},RunDoc:function(c3){cK.Run(this.get_RunNode(),c3);},get_AddBootstrap:function(){var c3;c3=a.document.createElement("div");c3.innerHTML="<script src='http://code.jquery.com/jquery-3.1.1.min.js' type='text/javascript' charset='UTF-8'></script>\n                <script src='http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js' type='text/javascript' charset='UTF-8'></script>\n                <link type='text/css' rel='stylesheet' href='http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css'>\n                <link type='text/css' rel='stylesheet' href='/EPFileX/css/main.css'>\n               ";this.runNode.parentElement.appendChild(c3);return this;},get_RunNode:function(){return this.runNode;}},i,bT);bT.New=cg.Ctor(function(c3,c4){bT.New$1.call(this,"TestNode",c3,c4);},bT);bT.New$1=cg.Ctor(function(c3,c4,c5){var c6,c7,c8,c9,c_;this.nodeName=c3;c6=(c7=a.document.getElementById(this.nodeName),cc.Equals(c7,null)?this.createBaseNode():c7);this.runNode=!(c5==null||c5.$0)?c6:(c8=c6.shadowRoot,cc.Equals(c8,null)?(c9=this.createNode(),(c6.attachShadow({mode:"open"}).appendChild(c9),c_=this.createNode(),c9.appendChild(c_),c_)):c8.firstChild);c4==null||c4.$0?this.runNode.innerHTML="":void 0;},bT);bS.completeJS=function(c3){return"\n          CIPHERSpaceLoadFileGlobalFileRef = null;\n          CIPHERSpaceLoadFile = function (filename, callback) {\n              if (filename.slice(-3) == \".js\" || filename.slice(-4) == \".fsx\" || filename.slice(-3) == \".fs\") { //if filename is a external JavaScript file\n                  var fileRef = null;\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\n                  if (!pre) {\n                      fileRef = document.createElement('script')\n                      fileRef.setAttribute(\"type\", \"text/javascript\")\n                      fileRef.setAttribute(\"src\", filename)\n                  }\n                  else callback();\n              }\n              else if (filename.slice(-4) == \".css\") { //if filename is an external CSS file\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\n                  if (!pre) {\n                      fileRef = document.createElement(\"link\")\n                      fileRef.setAttribute(\"rel\", \"stylesheet\")\n                      fileRef.setAttribute(\"type\", \"text/css\")\n                      fileRef.setAttribute(\"href\", filename)\n                  }\n                  else callback();\n              }\n              else if (filename.slice(-5) == \".html\") { //if filename is an external HTML file\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\n                  if (!pre) {\n                      fileRef = document.createElement(\"link\")\n                      fileRef.setAttribute(\"rel\", \"import\")\n                      fileRef.setAttribute(\"type\", \"text/html\")\n                      fileRef.setAttribute(\"href\", filename)\n                  }\n                  else callback();\n              }\n              if (!!fileRef) {\n                  CIPHERSpaceLoadFileGlobalFileRef = fileRef;\n      \u0009\u0009\u0009fileRef.onload = function () { fileRef.onload = null;  callback(); }\n                  document.getElementsByTagName(\"head\")[0].appendChild(fileRef);\n              }\n          }\n          CIPHERSpaceLoadFiles = function (files, callback) {\n              var newCallback = callback\n              if (!!CIPHERSpaceLoadFileGlobalFileRef && !!(CIPHERSpaceLoadFileGlobalFileRef.onload)) {\n                  var oldCallback = CIPHERSpaceLoadFileGlobalFileRef.onload;\n                  CIPHERSpaceLoadFileGlobalFileRef.onload = null;\n                  newCallback = function () {\n                      callback();\n                      oldCallback();\n                  }\n              }\n              var i = 0;\n              loadNext = function () {\n                  if (i < files.length) {\n                      var file = files[i];\n                      i++;\n                      CIPHERSpaceLoadFile(file, loadNext);\n                  }\n                  else newCallback();\n              };\n              loadNext();\n      \u0009}\n          CIPHERSpaceLoadFiles(['https://code.jquery.com/jquery-3.1.1.min.js'], function() {}); \n      \u0009CIPHERSpaceLoadFilesDoAfter = function (callback) {\n      \u0009\u0009var newCallback = callback\n      \u0009\u0009if (!!CIPHERSpaceLoadFileGlobalFileRef) {\n      \u0009\u0009\u0009if (!!(CIPHERSpaceLoadFileGlobalFileRef.onload)) {\n      \u0009\u0009\u0009\u0009var oldCallback = CIPHERSpaceLoadFileGlobalFileRef.onload;\n      \u0009\u0009\u0009\u0009CIPHERSpaceLoadFileGlobalFileRef.onload = null;\n      \u0009\u0009\u0009\u0009newCallback = function () {\n      \u0009\u0009\u0009\u0009\u0009oldCallback();\n      \u0009\u0009\u0009\u0009\u0009callback();\n      \u0009\u0009\u0009\u0009}\n      \u0009\u0009\u0009}\n      \u0009\u0009}\n      \u0009\u0009else CIPHERSpaceLoadFileGlobalFileRef = {};\n      \u0009\u0009CIPHERSpaceLoadFileGlobalFileRef.onload = newCallback;\n      \u0009}\n      \n      CIPHERSpaceLoadFilesDoAfter(function() { \n        if (typeof IntelliFactory !=='undefined')\n          IntelliFactory.Runtime.Start();\n        for (key in window) { \n          if (key.startsWith(\"StartupCode$\")) \n            //try { window[key].$cctor(); } catch (e) {} \n            window[key].$cctor();\n        } \n      })\n      \n                       "+c3;};bW.NewBrowser={$:3};bW.Tab={$:2};bW.Right={$:1};bW.Below={$:0};bX=bV.ErrCompiler=cg.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return this.$==0&&!this.$1;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return this.$==0?(function(c3){return function(c4){return c3(ch.toSafe(c4));};}(a.id))(this.$0):(function(c3){return function(c4){return c3(b8.p$5(c4));};}(a.id))(this);}},null,bX);bX["Could not open new browser, Popup blocker may be active"]=new bX({$:2});bX["Snippet Missing"]=new bX({$:1});bY.New=function(c3,c4,c5,c6){return{F2:c3,LeftDoubleClick:c4,"Ctrl-Space":c5,".":c6};};b1=bV.Property=cg.Class({setV:function(c3){this.props.set_Item(this.key,c3);this.setDirty();},getV:function(){return this.props.get_Item(this.key);},setK:function(c3){this.props.Add(c3,this.props.get_Item(this.key));this.props.Remove(this.key);this.key=c3;this.setDirty();},getK:function(){return this.key;},Remove:function(){this.props.Remove(this.key);this.setDirty();},get_SetV:function(){var c3;c3=this;return function(c4){c3.setV(c4);};},get_GetV:function(){var c3;c3=this;return function(){return c3.getV();};},get_SetK:function(){var c3;c3=this;return function(c4){c3.setK(c4);};},get_GetK:function(){var c3;c3=this;return function(){return c3.getK();};},get_ValueVar:function(){return new b2.New(this);},get_KeyVar:function(){return this;},get_View:function(){return cI.Const(this.getK());},UpdateMaybe:function(c3){var c4;c4=c3(this.getK());c4==null?void 0:this.setK(c4.$0);},Update:function(c3){this.setK(c3(this.getK()));},Get:function(){return this.getK();},Set:function(c3){this.setK(c3);},SetFinal:function(c3){this.setK(c3);},get_Id:function(){return"?";}},b0,b1);b1.New=cg.Ctor(function(c3,c4,c5){b0.New.call(this);this.setDirty=c3;this.props=c4;this.key=c5;},b1);b2=bV.PropValue=cg.Class({get_View:function(){return cI.Const(this.get());},UpdateMaybe:function(c3){var c4;c4=c3(this.get());c4==null?void 0:this.set(c4.$0);},Update:function(c3){this.set(c3(this.get()));},Get:function(){return this.get();},Set:function(c3){this.set(c3);},SetFinal:function(c3){this.set(c3);},get_Id:function(){return"?";}},b0,b2);b2.New=cg.Ctor(function(c3){b0.New.call(this);this.get=c3.get_GetV();this.set=c3.get_SetV();},b2);bV["CodeSnippet.propValue"]=function(c3,c4){var c5,c6;return c3.properties.ContainsKey(c4)?{$:1,$0:c3.properties.get_Item(c4)}:(c5=(c6=c3.parent,c6==null?null:b3.FetchO(c6.$0)),c5==null?null:bV["CodeSnippet.propValue"](c5.$0,c4));};b3.FetchByPathO=function(c3){function c4(c6,c7){return cb.tryHead(cb.filter(function(c8){return c8.get_Name()===c7;},c6));}function c5(c6,c7){var c8,c9,c_,c$;c8=(c9=cb.tryHead(c7),c9==null?null:c4(c6,c9.$0));return cb.length(c7)<=1?c8:c8==null?null:(c_=c8.$0,(c$=cb.tail(c7),c5(cb.filter(function(da){return cc.Equals(da.parent,{$:1,$0:c_.id});},(bV.codeSnippets())["var"].Get()),c$)));}return c5(cb.filter(function(c6){return c6.parent==null;},(bV.codeSnippets())["var"].Get()),c3);};bV["CodeSnippet.IsDescendantOf"]=function(c3,c4){function c5(c6){var c7,c8,c9;c7=c6.parent;return c7!=null&&c7.$==1&&(c8=c7.$0,cc.Equals(c8,c4)||g.defaultValue(false,(c9=b3.FetchO(c8),c9==null?null:{$:1,$0:c5(c9.$0)})));}return c5(c3);};bV["CodeSnippet.GetCodeFsx"]=function(c3,c4){return(bV["CodeSnippet.GetCodeAndStarts"](c3,c4))[0];};bV["CodeSnippet.GetCodeAndStarts"]=function(c3,c4){return C.CodeAndStarts(c4,bV["CodeSnippet.Predecessors"](c3));};bV["CodeSnippet.Predecessors"]=function(c3,c4){var c5;c5=cj.ofSeq(c3.UniquePredecessors(b3.FetchO));return cj.ofSeq(cb.map(bV["CodeSnippet.get_PrepareSnippet"],cb.filter(function(c6){return cj.contains(c6.id,c5);},(bV.codeSnippets())["var"].Get())));};bV["CodeSnippet.get_PrepareSnippet"]=function(c3,c4){var c5;c5=bV["CodeSnippet.get_Levels"](c3);return C.New(c3.name,ce.Replace(ce.Replace(c3.content,"##"+"FSHARPSTATION_ID"+"##",bV.fsIds()),"##"+"FSHARPSTATION_ENDPOINT"+"##",a.location.href),c3.parent,c3.predecessors,c3.id,c3.expanded,c5[0],c5[1],c3.properties);};bV["CodeSnippet.get_Levels"]=function(c3,c4){function c5(c6,c7){return function(c8){var c9,c_,c$;return g.defaultValue([c6,c7],(c9=(c_=c8.parent,c_==null?null:b3.FetchO(c_.$0)),(c$=c5(c6+1,c7+(c8.properties.ContainsKey("NoIndent")?0:1)),c9==null?null:{$:1,$0:c$(c9.$0)})));};}return(function(c6){return c5(c6[0],c6[1]);}([0,0]))(c3);};b3.New=function(c3,c4,c5,c6,c7,c8){var c9,c_,c$,da,db;c9=C.New(c4,c8,c5,c6,B.get_New(),true,0,0,new cp.New$5());c_=bV.codeSnippets().get_Length();c_===0?bV.codeSnippets().Append(c9):c3===0?(c$=cb.append([c9],(bV.codeSnippets())["var"].Get()),bV.codeSnippets().Set(c$)):c3<c_?(da=(db=cj.splitAt(c3,cj.ofSeq((bV.codeSnippets())["var"].Get())),db[0].concat([c9].concat(db[1]))),bV.codeSnippets().Set(da)):bV.codeSnippets().Append(c9);return c9;};b3.New$1=function(c3,c4,c5,c6,c7){return b3.New(bV.codeSnippets().get_Length(),c3,c4,c5,c6,c7);};b3.New$2=function(c3){return b3.New$1("",null,cl.T.Empty,cl.T.Empty,c3);};b3.New$3=function(c3,c4){return b3.New$1("",{$:1,$0:c3},cl.T.Empty,cl.T.Empty,c4);};b3.New$4=function(c3,c4,c5){return b3.New$1("",{$:1,$0:c3},c4,cl.T.Empty,c5);};b3.New$5=function(c3,c4){return b3.New$1("",null,c3,cl.T.Empty,c4);};b3.FetchL=function(c3){return ct.toList(b3.FetchO(c3));};b3.FetchO=function(c3){return bV.codeSnippets().TryFindByKey(c3);};b3.PickIO=function(c3){function c4(c5,c6){return cc.Equals(c6.id,c3);}return bV.tryPickI(function(c5){return c4(c5[0],c5[1]);},(bV.codeSnippets())["var"].Get());};bV.tryPickI=function(c3,c4){return cb.tryHead(cb.filter(c3,cb.indexed(c4)));};bV.fsIds=function(){b7.$cctor();return b7.fsIds;};bV.codeSnippets=function(){b7.$cctor();return b7.codeSnippets;};b5=b4.Babel=cg.Class({},i,b5);b5.New=cg.Ctor(function(){},b5);b6=b4.Fable=cg.Class({},i,b6);b6.New=cg.Ctor(function(){},b6);b4.fableTranslate=function(c3){var c4;c4=q.wrapper();return c4.Run(c4.Delay(function(){var c5;b4.loadReferences().f();return c4.Bind$2((c5=null,ca.Delay(function(){return ca.While(function(){return cT.getOwnPropertyNames(a.metadata).length<cj.length(b4.references());},ca.Delay(function(){return ca.Bind(ca.Sleep(200),function(){return ca.Return(null);});}));})),function(){var c6,c7,c8,c9,c_;c6=b4.getChecker().f();c7=cU.makeCompiler([["Microsoft.FSharp.Core.ExtraTopLevelOperators.PrintFormatLine","FSSGlobal.FSharpStation.FableModule.ToConsole($0)"]]);c8="stdin.fsx";c9=cu.parse(cU.convertToJson(cU.compileAst(c7,cU.parseFSharpProject(c6,c7,c8,c3),c8)));c_=cT.create(null);c_.plugins=[a.babelPlugins.transformMacroExpressions,a.babelPlugins.removeUnneededNulls,"transform-es2015-modules-amd"];c_.presets=[];c_.filename=c8;c_.babelrc=false;return c4.Return(ce.Replace(ce.Replace(cV.transformFromAst(c9,null,c_).code,"define([","require(["),"\"use strict\";","\"use strict\"; try { exports = exports || {}; } catch (err) {}"));});}));};b4.ToConsole=function(c3){ck.log(c3);return c3.cont(b4.addOutMsg());};b4.addOutMsg=function(){b7.$cctor();return b7.addOutMsg;};b4.set_addOutMsg=function(c3){b7.$cctor();b7.addOutMsg=c3;};b4.getChecker=function(){b7.$cctor();return b7.getChecker;};b4.loadReferences=function(){b7.$cctor();return b7.loadReferences;};b4.references=function(){b7.$cctor();return b7.references;};bU.FSharpStationClient$6797$173=a.id;bU.FSharpStationClient$6796$212=function(c3,c4){return function(c5){bl.sink(c4(c5),c3);};};bU.FSharpStationClient$6796$173=a.id;bU.FSharpStationClient$6486$68=function(c3,c4,c5){return function(){return function(){c3.Add("","1");c4();return c5.Set(null);};};};bU.FSharpStationClient$6483$68=function(c3,c4){return function(){return function(){c3.Remove();return c4.Set(null);};};};bU.FSharpStationClient$6334$44=cg.Curried3(function(c3,c4,c5){return c3();});bU.FSharpStationClient$6328$39=function(c3,c4){return function(){return function(){return c3(c4.editorO.$0);};};};bU.FSharpStationClient$5982$61=cg.Curried3(function(c3,c4,c5){c4.value="";});bU.FSharpStationClient$5981$61=cg.Curried3(function(c3,c4,c5){return c3(c4);});bU.FSharpStationClient$5864$48=function(c3){return function(c4){c4.scrollTop=c3[0];};};bU.FSharpStationClient$5863$48=cg.Curried3(function(c3,c4,c5){c3[0]=c4.scrollTop;});bU.FSharpStationClient$5840$57=function(c3,c4,c5){return function(){return function(){return bl.iter(c3(c4),c5);};};};bU.FSharpStationClient$5836$58=function(c3,c4){return function(){return function(){return c4.Set(c3.id);};};};bU.FSharpStationClient$5828$57=function(c3,c4,c5){return function(){return function(){return c3?c4(c5):null;};};};bU.FSharpStationClient$5824$50=function(c3,c4,c5){return function(){return function(c6){c6.preventDefault();return(c3(c4.id))(c5[0]);};};};bU.FSharpStationClient$5823$50=function(c3,c4){return function(){return function(){c3[0]=c4.id;};};};bU.FSharpStationClient$5822$50=cg.Curried3(function(c3,c4,c5){return c5.preventDefault();});bU.FSharpStationClient=function(c3){var c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4,e5,e6,e7;function e8(gW,gX,gY,gZ){return gX(gZ)==null?b0.Lens(c4,function(){return gW;},function(){return"";}):gY(gZ);}function e9(){c8.Set(null);}function e_(gW){function gX(gZ){return gZ.get_Name();}function gY(gZ,g0){return C.New(g0,gZ.content,gZ.parent,gZ.predecessors,gZ.id,gZ.expanded,gZ.level,gZ.levelCode,gZ.properties);}return e8("",function(gZ){return bV.codeSnippets().TryFindByKey(gZ);},function(gZ){return bV.codeSnippets().LensInto(gX,gY,gZ);},gW);}function e$(gW){function gX(gZ){return gZ.content;}function gY(gZ,g0){return C.New(gZ.name,g0,gZ.parent,gZ.predecessors,gZ.id,gZ.expanded,gZ.level,gZ.levelCode,gZ.properties);}return e8("",function(gZ){return bV.codeSnippets().TryFindByKey(gZ);},function(gZ){return bV.codeSnippets().LensInto(gX,gY,gZ);},gW);}function fa(gW){var gX;gX=bV["CodeSnippet.propValue"](gW,"CSS");return gX==null?null:{$:1,$0:a.id(gX.$0)};}function fb(gW){return g.defaultValue("",gW);}function fc(gW){var gX;gX=bV["CodeSnippet.propValue"](gW,"CSSLink");return gX==null?null:{$:1,$0:a.id(gX.$0)};}function fd(gW){return g.defaultValue("",gW);}function fe(gW){var gX;gX=bV["CodeSnippet.propValue"](gW,"Mode");return gX==null?null:{$:1,$0:a.id(gX.$0)};}function ff(gW){return g.defaultValue("fsharp",gW);}function fg(gW){var gX;gX=bV["CodeSnippet.propValue"](gW,"Theme");return gX==null?null:{$:1,$0:a.id(gX.$0)};}function fh(gW){return g.defaultValue("",gW);}function fi(gW){var gX;gX=bV["CodeSnippet.propValue"](gW,"Layout");return gX==null?null:{$:1,$0:a.id(gX.$0)};}function fj(gW){return g.defaultValue("",gW);}function fk(gW){var gX;gX=bV["CodeSnippet.propValue"](gW,"LayoutJS");return gX==null?null:{$:1,$0:a.id(gX.$0)};}function fl(gW){return g.defaultValue("",gW);}function fm(gW){var gX,gY,gZ,g0;function g1(g3){var g4;g4=bV["CodeSnippet.propValue"](g3,gW);return g4==null?null:{$:1,$0:a.id(g4.$0)};}function g2(g3){return g.defaultValue("",g3);}gX=bl.map((gY=(gZ=function(g3){return g3==null?null:g1(g3.$0);},function(g3){return gZ(b3.FetchO(g3));}),function(g3){return g2(gY(g3));}),c5);g0=[b0.Create$1(null)];cI.Sink(function(g3){if(!cc.Equals(g0[0].Get(),g3))g0[0].Set(g3);},bl.toView(gX));return new bl({$:1,$0:g0[0]});}function fn(gW,gX){return gX===""?gW:gX!=="0";}function fo(){dQ=false;dR.Set(true);}function fp(){dK=null;fo();}function fq(){fp();dL.ClearCache();e9();}function fr(){dL.ClearCache();dR.Set(false);dK=null;}function fs(gW,gX){var gY,gZ,g0;return!gX?null:(gY=(gZ=gW.Get(),(g0=a.String(gX),gZ===null?g0:gZ===""?g0:g0===null?gZ:g0===""?gZ:gZ+"\n"+g0)),gY!==gW.Get()?gW.Set(gY):null);}function ft(gW){dP.Set(gW);}function fu(gW){fs(dP,gW);}function fv(gW){fs(dO,gW);}function fw(){var gW;gW=b3.FetchO(c5.Get());gW==null?void 0:dM.Set(bV["CodeSnippet.GetCodeFsx"](gW.$0,true));}function fx(gW,gX){var gY,gZ,g0,g1,g2,g3,g4,g5;function g6(g7){function g8(g9,g_){return cc.Equals(g_.id,g7);}return function(g9){return bV.tryPickI(function(g_){return g8(g_[0],g_[1]);},g9);};}gY=cj.partition(function(g7){return cc.Equals(g7.id,gX)||bV["CodeSnippet.IsDescendantOf"](g7,gX);},cj.ofSeq((bV.codeSnippets())["var"].Get()));gZ=gY[1];g0=gY[0];g1=(g6(gX))(g0);g2=(g6(gW))(gZ);g1!=null&&g1.$==1?g2!=null&&g2.$==1?(g3=g2.$0[0],g4=g2.$0[1],g5=cj.collect(a.id,[cd.array(gZ,{$:1,$0:0},{$:1,$0:g3-1}),g0,cd.array(gZ,{$:1,$0:g3},null)]),bV.codeSnippets().Set(g5),bV.codeSnippets().UpdateBy(function(g7){return{$:1,$0:C.New(g7.name,g7.content,g4.parent,g7.predecessors,g7.id,g7.expanded,g7.level,g7.levelCode,g7.properties)};},g1.$0[1].id)):void 0:void 0;return fq();}function fy(){var gW,gX,gY,gZ;gW=b3.PickIO(c5.Get());gW==null?void 0:(gX=gW.$0,gY=gX[0],gZ=gX[1],function(g0,g1){var g2;while(true){if(g1<0)return null;else if(g0((g2=(bV.codeSnippets())["var"].Get(),(function(g3){return function(g4){return cb.nth(g3,g4);};}(g1))(g2))))return null;else g1=g1-1;}}(function(g0){return cc.Equals(g0.parent,gZ.parent)&&(bV.codeSnippets().UpdateBy(function(g1){return{$:1,$0:C.New(g1.name,g1.content,{$:1,$0:g0.id},g1.predecessors,g1.id,g1.expanded,g1.level,g1.levelCode,g1.properties)};},gZ.id),true);},gY-1),fq());}function fz(){var gW,gX,gY,gZ,g0;gW=b3.FetchO(c5.Get());gW==null?void 0:(gX=gW.$0,gY=(gZ=(g0=gX.parent,g0==null?null:b3.FetchO(g0.$0)),gZ==null?null:gZ.$0.parent),bV.codeSnippets().UpdateBy(function(g1){return{$:1,$0:C.New(g1.name,g1.content,gY,g1.predecessors,g1.id,g1.expanded,g1.level,g1.levelCode,g1.properties)};},gX.id),fq());}function fA(gW){var gX;gX=q.wrapper();return gX.Run(gX.Delay(function(){return gX.Bind$1(m.fromOption(bX["Snippet Missing"],gW),function(gY){var gZ;dP.Set("Compiling to JavaScript...");dN.Set("");gZ=bV["CodeSnippet.GetCodeFsx"](gY,true);dM.Set(gZ);return gX.Bind$2(bj.translateAR(gZ,false),function(g0){return gX.Bind$1(g0,function(g1){var g2;g2=bS.completeJS(g1);dN.Set(g2);fu("Compiled!");return gX.Return(g2);});});});}));}function fB(gW){var gX;gX=a.open.apply(a,[gW]);return cc.Equals(gX,null)?m.fail(bX["Could not open new browser, Popup blocker may be active"]):m.succeed(gX);}function fC(gW,gX){try{return gW["eval"].apply(gW,[gX]);}catch(gY){((function(gZ){return function(g0){return gZ(ch.prettyPrint(g0));};}(function(gZ){ck.log(gZ);}))(gY));return(function(gZ){return function(g0){return gZ(ch.prettyPrint(g0));};}(a.id))(gY);}}function fD(gW){try{gW.focus.apply(gW,[]);}catch(gX){((function(gY){return function(gZ){return gY(ch.prettyPrint(gZ));};}(function(gY){ck.log(gY);}))(gX));}}function fE(gW,gX){var gY;gY=q.wrapper();return gY.Run(gY.Delay(function(){return gY.Bind$1(m.tryProtection(),function(){return gY.Bind$1(fB(gW),function(gZ){fD(gZ);return gY.Bind$2(ca.Sleep(800),function(){return gY.Return(fC(gZ,gX));});});});}));}function fF(){return ca.FromContinuations(function(gW,gX){var gY;try{gY=bk.createIFrame(gW);return(new bT.New(null,null)).RunHtml(gY);}catch(gZ){return gX(gZ);}});}function fG(gW){var gX;gX=q.wrapper();return gX.Run(gX.Delay(function(){return gX.Bind$1(m.tryProtection(),function(){return gX.Bind$2(fF(),function(gY){var gZ;gZ=gY.contentWindow;gZ.document.body.style.margin="0px";return gX.Return(fC(gZ,gW));});});}));}function fH(gW,gX,gY){var gZ;gZ=q.wrapper();return gZ.Run(gZ.Delay(function(){return gZ.Bind$3(fA(gY),function(g0){dP.Set("Running JavaScript...");return gZ.Bind$3(gX.$==3?fE(gW,g0):fG(g0),function(g1){fu(g1);fu("Done!");return gZ.Return([gX,g1]);});});}));}function fI(){return b3.FetchO(c5.Get());}function fJ(gW){var gX;gX=q.wrapper();return gX.Run(gX.Delay(function(){dM.Set(gW);return gX.Bind$2(bh.evaluateAR(bV.fsIds(),a.location.href,true,gW),function(gY){return gX.Bind$1(gY,function(){return gX.Return("");});});}));}function fK(gW){var gX;gX=q.wrapper();return gX.Run(gX.Delay(function(){return gX.Bind$1(m.fromOption(bX["Snippet Missing"],gW),function(gY){return gX.Bind$3(fJ(bV["CodeSnippet.GetCodeFsx"](gY,true)),function(gZ){return gX.Bind$2((new cH.New()).Async("FSharpStation:FSSGlobal.FsEvaluator+Evaluator.addPresence:1381500690",[(function(g0){return function(g1){return g0(b8.p$6(g1));};}(a.id))(gY.id),"ok"]),function(){return gX.Return(gZ);});});});}));}function fL(gW,gX,gY){var gZ;gZ=q.wrapper();return gZ.Run(gZ.Delay(function(){dP.Set(gW);return gZ.Bind$3(gY(),function(g0){fu(g0);fu(gX);return gZ.Return(g0);});}));}function fM(gW){return fL("Evaluating F# code...","",function(){return fK(gW);});}function fN(gW){return fL("Evaluating F# code...","",function(){return fJ(gW);});}function fO(gW){var gX;gX=q.wrapper();return gX.Run(gX.Delay(function(){dM.Set(gW);return gX.Bind$3(b4.fableTranslate(gW),function(gY){dN.Set(gY);a["eval"](gY);return gX.Return("");});}));}function fP(gW){var gX;gX=q.wrapper();return gX.Run(gX.Delay(function(){return gX.Bind$1(m.fromOption(bX["Snippet Missing"],gW),function(gY){return gX.ReturnFrom(fO(bV["CodeSnippet.GetCodeFsx"](gY,false)));});}));}function fQ(gW){return fL("Running Fable...","Done!",function(){return fP(gW);});}function fR(gW){return fL("Running Fable...","Done!",function(){return fO(gW);});}function fS(gW){var gX;gX=fI();return(dT(gW))(gX);}function fT(gW,gX){return g.defaultValue(false,gX==null?null:{$:1,$0:cl.contains(gW,gX.$0.predecessors)});}function fU(gW,gX){return gX.Contains(gW);}function fV(gW,gX){var gY,gZ,g0,g1;return gX==null?null:(gY=gX.$0,cc.Equals(gY,gW)||fU(gY.id,new cW.New$2(gW.UniquePredecessors(b3.FetchO)))?null:(gZ=(cl.contains(gW.id,gY.predecessors)?(g0=(g1=gW.id,function(g2){return!cc.Equals(g1,g2);}),function(g2){return cl.filter(g0,g2);}):function(g2){return new cl.T({$:1,$0:gW.id,$1:g2});})(gY.predecessors),(bV.codeSnippets().UpdateBy(function(g2){return{$:1,$0:C.New(g2.name,g2.content,g2.parent,gZ,g2.id,g2.expanded,g2.level,g2.levelCode,g2.properties)};},gY.id),fq())));}function fW(gW){bV.codeSnippets().UpdateBy(function(gX){return{$:1,$0:C.New(gX.name,gX.content,gX.parent,gX.predecessors,gX.id,!gX.expanded,gX.level,gX.levelCode,gX.properties)};},gW.id);e9();}function fX(gW,gX,gY){var gZ,g0,g1,g2;return bv.get_New().Content$1([bk["class"]("code-editor-list-tile"),bk.classIf("selected",bl.map((gZ=gY.id,function(g3){return cc.Equals(gZ,g3);}),c5)),bk.classIf("direct-predecessor",bl.map((g0=gY.id,function(g3){return fT(g0,g3);}),c9)),bk.classIf("indirect-predecessor",bl.map((g1=gY.id,function(g3){return fU(g1,g3);}),dV)),bk.draggable("true"),new bq({$:8,$0:cN.HandlerImpl("dragover",function(){return function(g3){return g3.preventDefault();};})}),new bq({$:8,$0:cN.HandlerImpl("drag",function(){return function(){dS[0]=gY.id;};})}),new bq({$:8,$0:cN.HandlerImpl("drop",function(){return function(g3){g3.preventDefault();return fx(gY.id,dS[0]);};})}),bk.span([bk["class"]("node"),bk.classIf("parent",gW),bk.classIf("expanded",gX),new bq({$:8,$0:cN.HandlerImpl("click",function(){return function(){return gW?fW(gY):null;};})}),bk.title(gW?gX?"collapse":"expand":""),bk.htmlText(gW?gX?"-":"+":"")]),bk.div([bk["class"]("code-editor-list-text"),bk.style1("text-indent",(g2=(bV["CodeSnippet.get_Levels"](gY))[0],(function(g3){return function(g4){return g3(a.String(g4)+"em");};}(a.id))(g2))),bk.style("white-space: pre"),bk.htmlText(bl.map2(function(g3){return function(g4){return A.snippetName(g3,g4);};},e_(gY.id),e$(gY.id))),new bq({$:8,$0:cN.HandlerImpl("click",function(){return function(){return c5.Set(gY.id);};})})]),bk.span([bk["class"]("predecessor"),bk.title("toggle predecessor"),new bq({$:8,$0:cN.HandlerImpl("click",function(){return function(){return bl.iter(function(g3){return fV(gY,g3);},c9);};})}),bk.htmlText("X")])]);}function fY(gW,gX){return!gX?gW:gX;}function fZ(gW){return new B({$:0,$0:!gW?"00000000-0000-0000-0000-000000000000":gW.Item});}function f0(gW){return!gW?null:{$:1,$0:fZ(gW)};}function f1(gW){var gX;function gY(g0,g1){gX.Add(g0,g1);}function gZ(g0,g1){return[g0,g1];}gX=new cp.New$5();return!gW?gX:(cb.iter(function(g0){return gY(g0[0],g0[1]);},cj.map(function(g0){return gZ(g0[0],g0[1]);},cY.GetFields(gW))),gX);}function f2(gW){var gX;try{gX=cu.parse(gW);((function(gY){return function(gZ){return gY(ch.prettyPrint(gZ));};}(function(gY){ck.log(gY);}))(gX.length));return cj.choose(function(gY){return!gY?null:{$:1,$0:C.New(fY("",gY.name),fY("",gY.content),f0(gY.parent),cl.ofSeq(cj.map(fZ,fY([],gY.predecessors))),fZ(gY.id),fY(false,gY.expanded),fY(0,gY.level),fY(0,gY.levelCode),f1(gY.properties))};},gX);}catch(gY){return[];}}function f3(){var gW,gX,gY,gZ;function g0(g1,g2){var g3;return g.defaultValue(g2,(g3=cb.tryItem(g2,(bV.codeSnippets())["var"].Get()),g3==null?null:{$:1,$0:(bV["CodeSnippet.get_Levels"](g3.$0))[0]<=g1?g2:g0(g1,g2+1)}));}c5.Set(g.defaultWith(function(){return b3.New$2("");},(gW=b3.PickIO(c5.Get()),gW==null?null:{$:1,$0:(gX=gW.$0,(gY=gX[0],(gZ=gX[1],b3.New(g0((bV["CodeSnippet.get_Levels"](gZ))[0],gY+1),"",gZ.parent,cl.T.Empty,cl.T.Empty,""))))})).id);fp();e9();}function f4(){var gW,gX;gW=b3.FetchO(c5.Get());gW==null?void 0:(gX=gW.$0,a.confirm((function(gY){return function(gZ){return gY("Do you want to delete "+ch.toSafe(gZ)+"?");};}(a.id))(gX.get_Name()))?(c5.Set(B.get_New()),bV.codeSnippets().Remove(gX),fp(),e9()):void 0);}function f5(gW){return cb.last(ce.SplitChars(gW,["/","\\"],0));}function f6(gW,gX){var gY,gZ;gY=gW.files;return gY.length>0?(gZ=new a.FileReader(),(gZ.onload=function(g0){return gX(g0.target.result);},gZ.readAsText(gY.item(0)))):null;}function f7(gW){var gX;try{gX=f2(gW);bV.codeSnippets().Set(gX);fr();e9();}catch(gY){a.alert(a.String(gY));}}function f8(gW){if(!dR.Get()||a.confirm("Changes have not been saved, do you really want to load?"))f6(bk.findRootElement(gW).querySelector("#"+dY),f7);}function f9(){var gW,gX,gY,gZ;gW=(gX=cj.ofSeq((bV.codeSnippets())["var"].Get()),cu.stringify(((cx.EncodeArray(b9.j$7))())(gX)));gY=(gZ=f5(dX.Get()),gZ===""?"snippets.fsjson":gZ);a.saveAs(new a.Blob([gW],{type:"text/plain;charset=utf-8"}),gY);fr();}function f_(gW,gX){return bk.findRootElement(gW).querySelector("#"+dY).click();}function f$(){return d3==="a"?"b":"a";}function ga(gW){return gW+d2;}function gb(gW,gX){var gY,gZ,g0,g1,g2,g3,g4,g5,g6,g7;gY=dK!=null&&dK.$==1&&((g0=dK.$0[0],(g1=dK.$0[1],cc.Equals(g0,gW.id)&&cc.Equals(g1,gX)))&&(gZ=[dK.$0[1],dK.$0[0],dK.$0[2]],true))?[gZ[2],bV["CodeSnippet.get_PrepareSnippet"](gW)]:(g2=bV["CodeSnippet.Predecessors"](gW),(g3=cj.length(g2)===1?null:{$:1,$0:C.ReducedCode(gX,cd.array(g2,{$:1,$0:0},{$:1,$0:cj.length(g2)-2}))},(g4=cj.get(g2,cj.length(g2)-1),(dK={$:1,$0:[g4.id,gX,g3]},[g3,g4]))));g5=C.ReducedCode(gX,[gY[1]]);g6=g.defaultValue(g5,(g7=gY[0],g7==null?null:{$:1,$0:(function(g8){var g9,g_,g$,ha,hb,hc;g9=g8[0];g_=g8[1];g$=g8[2];ha=g8[3];hb=g8[4];hc=g8[5];return function(hd){return C.AddSeps(g9,g_,g$,ha,hb,hc,hd[0],hd[1],hd[2],hd[3],hd[4],hd[5]);};}(g7.$0))(g5)}));return C.FinishCode(gX,g6[0],g6[1],g6[2],g6[3],g6[4],g6[5]);}function gc(){var gW,gX;gW=d5[0];gW==null?void 0:gW.$0.Cancel$1();d5[0]={$:1,$0:new cq.New()};ca.Start((gX=null,ca.Delay(function(){return ca.Bind(d4,function(gY){var gZ,g0;return gY?ca.Zero():(gZ=b3.FetchO(c5.Get()),gZ!=null&&gZ.$==1?(g0=gZ.$0,(dO.Set("Parsing...\n"+f.skipFirstLine(dO.Get())),ca.Bind(ca.Sleep(500),function(){var g1,g2;g1=f$();g2=gb(g0,false);return ca.Bind(d1.Parse$1(ga(g1),g2[0],g2[1]),function(g3){d5[0]=null;dQ=true;d3=g1;dO.Set("Parsed!\n"+g3);return ca.Zero();});}))):ca.Zero());});})),{$:1,$0:d5[0].$0});}function gd(gW){gc();}function ge(gW){var gX;gX=null;return ca.Delay(function(){return!dQ?ca.Return(true):ca.Bind(d1.MustParse(ga(d3),gW.get_NameSanitized()),function(gY){return ca.Return(gY);});});}function gf(gW){var gX;gX=null;return ca.Delay(function(){return ca.Bind(d4,function(gY){var gZ;return gY?ca.Zero():(gZ=b3.FetchO(c5.Get()),gZ!=null&&gZ.$==1?ca.Bind(ge(gZ.$0),function(g0){return g0?(gd(gW),ca.Zero()):ca.Zero();}):ca.Zero());});});}function gg(gW,gX){var gY,gZ;gY=c.REGEX("([a-zA-Z_]\\w*)$","g",ce.Substring(gW,0,gX));return gY!=null&&gY.$==1?(gZ=gY.$0,!cc.Equals(gZ,null)&&gZ.length===1)?cj.get(gY.$0,0):"":"";}function gh(gW,gX){var gY,gZ;gY=c.REGEX("^([a-zA-Z_]\\w*)","g",gW.substring(gX));return gY!=null&&gY.$==1?(gZ=gY.$0,!cc.Equals(gZ,null)&&gZ.length===1)?cj.get(gY.$0,0):"":"";}function gi(gW){var gX;ca.Start((gX=null,ca.Delay(function(){return ca.Bind(d4,function(gY){var gZ,g0;return gY?ca.Zero():(gZ=b3.FetchO(c5.Get()),gZ!=null&&gZ.$==1?(g0=gZ.$0,ca.Bind(gf(false),function(){var g1,g2,g3,g4,g5;g1=gW.getCursor();g2=gW.getLine(g1.line);g3=ce.length(gg(g2,g1.ch));g4=ce.length(gh(g2,g1.ch));g5=g3===0&&g4===0?2:g4;return ca.Bind(d1.ToolTip(ga(d3),g1.line+1,g1.ch+1,g0.get_NameSanitized()),function(g6){var g7;fv(((((g7=(cg.Curried(function(g8,g9,g_,g$,ha){return g8("InfoFSharp \""+ch.toSafe(g9)+" "+("("+ch.prettyPrint(g_[0])+", "+ch.prettyPrint(g_[1])+")")+" - "+("("+ch.prettyPrint(g$[0])+", "+ch.prettyPrint(g$[1])+")")+" "+ch.toSafe(ha)+" \"");},5))(a.id),function(g8){var g9;g9=g7(g8);return function(g_){var g$;g$=g9([g_[0],g_[1]]);return function(ha){return g$([ha[0],ha[1]]);};};})(g0.get_NameSanitized()))([g1.line+1,g1.ch-g3+1]))([g1.line+1,g1.ch+g5+1]))(ce.Replace(g6,"\"","''")));return ca.Zero();});})):ca.Zero());});})),null);}function gj(gW){return gW==="C"?"class":gW==="Cn"?"Constant":gW==="D"?"delegate":gW==="E"?"enum":gW==="P"?"property":gW==="e"?"event":gW==="X"?"exception":gW==="F"?"field":gW==="I"?"interface":gW==="M"?"function":gW==="N"?"module":gW==="S"?"struct":gW==="T"?"type":gW==="V"?"Variable":gW;}function gk(gW,gX,gY){var gZ;ea((gZ=null,ca.Delay(function(){return ca.Bind(d4,function(g0){var g1,g2,g3,g4;((function(g5){return function(g6){return g5("getHints (Complete) "+ch.prettyPrint(g6));};}(function(g5){ck.log(g5);}))(g0));return g0?ca.Zero():(g1=b3.FetchO(c5.Get()),g1!=null&&g1.$==1?(g2=gW.getCursor(),(g3=gW.getLine(g2.line),(g4=gg(g3,g2.ch),ca.Bind(d1.Complete(ga(d3),g3+"a",g2.line+1,g2.ch+1,g1.$0.get_NameSanitized()),function(g5){function g6(g7,g8,g9,g_){return bB.New(g8,(((cg.Curried3(function(g$,ha,hb){return g$(ce.PadRight(ch.toSafe(ha),40)+" "+ce.PadLeft(ch.toSafe(hb),20));}))(a.id))(g7))(gj(g_)),g9);}gX(bC.New(cj.map(function(g7){return g6(g7[0],g7[1],g7[2],g7[3]);},g5),by.New(g2.line,g2.ch-g4.length),g2));return ca.Zero();})))):ca.Zero());});})));}function gl(gW){var gX,gY,gZ;gX=(gY=gW.parent,gY==null?null:b3.FetchO(gY.$0));gX==null?void 0:(gZ=gX.$0,gl(gZ),!gZ.expanded?fW(gZ):void 0);}function gm(gW,gX,gY){var gZ;return ca.Start((gZ=null,ca.Delay(function(){var g0;c5.Set(gW);g0=b3.FetchO(gW);g0==null?void 0:gl(g0.$0);return ca.Bind(ca.Sleep(200),function(){var g1,g2;g1=ef.editorO;g1==null?void 0:(g2=g1.$0,g2.setCursor(gX-1,gY-1),g2.focus());return ca.Zero();});})),null);}function gn(gW){var gX,gY,gZ,g0,g1;gX=c.REGEX("([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}).+?\\((\\d+)\\,\\s*(\\d+)\\)","",gW);gX!=null&&gX.$==1?(gY=gX.$0,!cc.Equals(gY,null)&&gY.length===4)?(gZ=cj.get(gX.$0,3),g0=cj.get(gX.$0,1),g1=cj.get(gX.$0,2),gm(new B({$:0,$0:g0}),a.Number(g1),a.Number(gZ))):void 0:void 0;}function go(){var gW;ca.Start((gW=null,ca.Delay(function(){var gX,gY,gZ,g0,g1;gX=b3.FetchO(c5.Get());gY=ef.editorO;return(gY!=null&&gY.$==1?gX!=null&&gX.$==1?(gZ=[gX.$0,gY.$0],false):true:true)?ca.Zero():(g0=gZ[1],(g1=g0.getCursor(),(g0.getLine(g1.line),ca.Bind(d1.FindDecl(ga(d3),g1.line+1,g1.ch+1,gZ[0].get_NameSanitized()),function(g2){var g3;return g2.$==9?(g3=g2.$0,(gn(((((((cg.Curried(function(g4,g5,g6,g7,g8,g9){return g4(ch.toSafe(g5)+" ("+a.String(g6)+", "+a.String(g7)+") - ("+a.String(g8)+", "+a.String(g9)+")");},6))(a.id))(g3.File))(g3.Line))(g3.Column))(g3.Line))(g3.Column)),ca.Zero())):g2.$==1?(a.alert((function(g4){return function(g5){return g4(b$.p(g5));};}(a.id))(g2.$0)),ca.Zero()):(a.alert((function(g4){return function(g5){return g4(b8.p$7(g5));};}(a.id))(g2)),ca.Zero());}))));})),null);}function gp(){var gW;gW=ef.editorO;gW==null?void 0:gW.$0.refresh();}function gq(gW){var gX;ca.Start((gX=null,ca.Delay(function(){return ca.Bind(ca.Sleep(gW),function(){gp();return ca.Zero();});})),null);}function gr(){dR.Set(true);}function gs(gW,gX){return new b1.New(gr,gW,gX);}function gt(gW,gX,gY){return gs(gW,gX).get_ValueVar().Set(gY);}function gu(gW,gX){return bk.table(cl.ofSeq(cb.delay(function(){return cb.append([bk.thead([bk.th([bk.htmlText("Property"),bk.style("padding-right:10px")]),bk.th([bk.htmlText("Value")])])],cb.delay(function(){return cb.append(cb.map(function(gY){var gZ;gZ=gs(gX,gY);return bk.tr([bk.td([bk.someElt(cK.Input([],gZ.get_KeyVar()))]),bk.td([bk.someElt(cK.InputArea([bk.atr("style","height: 1.5em")],gZ.get_ValueVar()))]),bs.hoverable(bk.td([bk.title("remove"),bk.style(" cursor: pointer "),bk.htmlText("x"),new bq({$:8,$0:cN.HandlerImpl("click",function(){return function(){gZ.Remove();return em.Set(null);};})})]))]);},cb.sort(gX.get_Keys())),cb.delay(function(){return[bk.tr([bs.hoverable(bk.td([bk.htmlText("Add..."),new bq({$:8,$0:cN.HandlerImpl("click",function(){return function(){gX.Add("","1");gr();return em.Set(null);};})})])),bk.td([bk.htmlText("")])])];}));}));})));}function gv(gW){function gX(gZ){return gZ.properties;}function gY(gZ,g0){return C.New(gZ.name,gZ.content,gZ.parent,gZ.predecessors,gZ.id,gZ.expanded,gZ.level,gZ.levelCode,g0);}return e8(new cp.New$5(),function(gZ){return bV.codeSnippets().TryFindByKey(gZ);},function(gZ){return bV.codeSnippets().LensInto(gX,gY,gZ);},gW);}function gw(gW){return new bl({$:1,$0:gW});}function gx(gW,gX,gY,gZ){return q.start(fu,q.map(a.ignore,gW(gX)));}function gy(gW,gX,gY,gZ){function g0(g1,g2){if(g1==null)fu("Failed!\n"+g2);else if(g1.$0[0].$==0){fu(g2);eo.Set(null);}else fu(g2);}return q.startV(function(g1){return g0(g1[0],g1[1]);},gW(gX));}function gz(gW,gX,gY){function gZ(g0){return(gW(gY))(g0);}return cg.Curried(gx,2,[gZ,gX]);}function gA(gW,gX,gY){function gZ(g0){return(gW(gY))(g0);}return cg.Curried(gy,2,[gZ,gX]);}function gB(gW){var gX,gY,gZ;gX=gW.parms;return gX!=null&&gX.$==1&&((gZ=gX.$0,!cc.Equals(gZ,null)&&gZ.length===1)&&(gY=cj.get(gX.$0,0),true))?b3.FetchByPathO(ce.SplitChars(gY,["/"],0)):fI();}function gC(gW,gX){var gY;gY=q.wrap();return gY.Run(gY.Delay(function(){return gY.Bind$2(bl.getAsync(gW.text),function(gZ){var g0,g1,g2,g3,g4,g5,g6,g7,g8,g_,g$,ha,hb,hc;function g9(hd){return g_==null?null:bV["CodeSnippet.propValue"](g_.$0,hd);}ft(gZ+"...");g_=fI();g$=gX?g.defaultValue("",(g1=g9("open"),g1==null?null:{$:1,$0:g1.$0+"\n"})):"";ha=cZ.Create(function(){return g.defaultValue("${parm}() |> printfn \"%A\"",g9("action-template"));});hb=(g7=gW.parms,g7==null?null:{$:1,$0:cj.map(a.id,g7.$0)});switch(hb!=null&&hb.$==1?(hc=hb.$0,!cc.Equals(hc,null)&&hc.length===2?cj.get(hb.$0,0)==="Code"?(g8=cj.get(hb.$0,1),0):cj.get(hb.$0,0)==="Property"?(g8=cj.get(hb.$0,1),1):2:2):2){case 0:g6={$:1,$0:g8};break;case 1:g6=g9(g8);break;case 2:g6=null;break;}g5=g6==null?g9(gZ):g6;g2=(g3=g.defaultWith(function(){return((cT.constructor("return function(parm) { return `"+ha.f()+"`}"))())(gZ);},g5),ce.StartsWith(g3,"////")?g3:g$+g3);return g_!=null&&g_.$==1?gY.Bind$2((new cH.New()).Async("FSharpStation:FSSGlobal.FsEvaluator+Evaluator.getPresence:1818471758",[bi.extractConfig(g2),(function(hd){return function(he){return hd(b8.p$6(he));};}(a.id))(g_.$0.id)]),function(hd){return cc.Equals(hd,{$:1,$0:"ok"})?gY.Return(g2):gY.Bind$3(fK(g_),function(){return gY.Return(g2);});}):gY.Return(g2);});}));}function gD(gW,gX){return q.bind(fN,gC(gW,true));}function gE(gW,gX){return q.bind(fR,gC(gW,false));}function gF(gW,gX){return fM(gB(gW));}function gG(gW,gX){return fQ(gB(gW));}function gH(gW,gX){var gY;gY=gB(gW);return(dT(gX))(gY);}function gI(gW,gX){var gY;gY=q.wrapper();return gY.Run(gY.Delay(function(){return gY.Bind$1(m.tryProtection(),function(){var gZ,g0,g1,g2,g3;return gY.Bind$1((gZ=gW.parms,gZ!=null&&gZ.$==1&&((g1=gZ.$0,!cc.Equals(g1,null)&&g1.length===3)&&(g0=[cj.get(gZ.$0,1),cj.get(gZ.$0,0),cj.get(gZ.$0,2)],true))?(g2=g0[1],(g.defaultWith(function(){((function(g4){return function(g5){return g4("setSnippetProp snippet not found: "+ch.toSafe(g5));};}(function(g4){ck.log(g4);}))(g2));},(g3=b3.FetchByPathO(ce.SplitChars(g2,["/"],0)),g3==null?null:{$:1,$0:gt(g3.$0.properties,g0[0],g0[2])})),m.succeed())):m.failSimpleError((function(g4){return function(g5){return g4("setSnippetProp wrong parms: "+b8.p$8(g5));};}(a.id))(gW.parms))),function(){return gY.Return();});});}));}function gJ(gW,gX){var gY,gZ,g0,g1,g2,g3;((function(g4){return function(g5){return g4("showOutText: "+b$.p$22(g5));};}(function(g4){ck.log(g4);}))(gW));gZ=gW.parms;switch(gZ!=null&&gZ.$==1?(g0=gZ.$0,!cc.Equals(g0,null)&&g0.length===1?(gY=cj.get(gZ.$0,0),0):(g1=gZ.$0,!cc.Equals(g1,null)&&g1.length===2?(cj.get(gZ.$0,1),cj.get(gZ.$0,0)===""?(gY=[cj.get(gZ.$0,0),cj.get(gZ.$0,1)],1):2):2)):2){case 0:return ft(gY);break;case 1:return ft(gY[1]);break;case 2:return gZ!=null&&gZ.$==1&&((g3=gZ.$0,!cc.Equals(g3,null)&&g3.length===2)&&(cj.get(gZ.$0,1),cj.get(gZ.$0,0)==="+"&&(g2=[cj.get(gZ.$0,0),cj.get(gZ.$0,1)],true)))?fu(g2[1]):(function(g4){return function(g5){return g4("error: showOutText "+b$.p$22(g5));};}(function(g4){ck.log(g4);}))(gW);break;}}function gK(){return fS(c_.Get());}function gL(){var gW;gW=q.wrapper();return gW.Run(gW.Delay(function(){dK=null;gd(false);return gW.Zero();}));}function gM(gW,gX){var gY,gZ;function g0(g1,g2,g3){return gZ>=g2&&gZ<g3?{$:1,$0:g1}:null;}gY=gW.value;gZ=gW.selectionStart;return gn(cb.pick(function(g1){return g0(g1[0],g1[1],g1[2]);},(cb.mapFold(function(g1,g2){return[[g2,g1,g1+g2.length+1],g1+g2.length+1];},0,ce.SplitChars(gY,["\n"],0)))[0]));}function gN(gW,gX){var gY;return ca.Start((gY=null,ca.Delay(function(){return ca.Bind(ca.Sleep(100),function(){gW.scrollTop=gW.scrollHeight;return ca.Zero();});})),null);}function gO(gW,gX,gY){var gZ;gZ=m.result();return gZ.Run(gZ.Delay(function(){return gZ.Bind(m.tryProtection(),function(){return gZ.Bind(e2.GetGuiCallAction(gW,gX,gY),function(g0){var g1;g1=g0.onClick;g1==null?void 0:((g1.$0(g0))(null))(null);return gZ.Zero();});});}));}function gP(gW){gq(1000);gq(2000);gq(3000);e2.SetLayoutJson(eW,gW);}function gQ(gW){gq(1000);gq(2000);gq(3000);e2.AddNewSteps(eW,gW);}function gR(gW){return cj.ofSeq(cb.map(function(gX){return[gX.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),gX.FSSGlobal_Useful_ErrMsg$get_IsWarning()?E.FSWarning:E.FSError];},gW));}function gS(gW){var gX;return{$:4,$0:(gX=gW.$0,gX==null?null:{$:1,$0:gX.$0[1]}),$1:cj.ofSeq(cb.map(function(gY){return[gY.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),gY.FSSGlobal_Useful_ErrMsg$get_IsWarning()?E.FSWarning:E.FSError];},gW.$1))};}function gT(gW){var gX,gY;return{$:4,$0:(gX=function(gZ){return function(g0){return gZ(ch.prettyPrint(g0));};}(a.id),(gY=gW.$0,gY==null?null:{$:1,$0:gX(gY.$0)})),$1:cj.ofSeq(cb.map(function(gZ){return[gZ.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),gZ.FSSGlobal_Useful_ErrMsg$get_IsWarning()?E.FSWarning:E.FSError];},gW.$1))};}function gU(gW,gX){var gY;gY=null;return ca.Delay(function(){var gZ,g0,g1,g2,g3,g4,g5,g6,g7;return gX.$==2?ca.Return({$:1,$0:(gZ=b3.FetchO(gX.$0),gZ==null?null:{$:1,$0:gZ.$0.content})}):gX.$==3?ca.Return({$:1,$0:(g0=b3.FetchO(gX.$0),g0==null?null:{$:1,$0:bV["CodeSnippet.GetCodeFsx"](g0.$0,true)})}):gX.$==4?ca.Return({$:3,$0:g.defaultValue([],(g1=b3.FetchO(gX.$0),g1==null?null:{$:1,$0:bV["CodeSnippet.Predecessors"](g1.$0)}))}):gX.$==5?ca.Return({$:2,$0:b3.FetchO(gX.$0)}):gX.$==6?ca.Return({$:1,$0:(g2=b3.FetchByPathO(gX.$0),g2==null?null:{$:1,$0:g2.$0.content})}):gX.$==7?ca.Return({$:1,$0:(g3=b3.FetchByPathO(gX.$0),g3==null?null:{$:1,$0:bV["CodeSnippet.GetCodeFsx"](g3.$0,true)})}):gX.$==10?(g4=b3.FetchByPathO(gX.$0),g4==null?ca.Return({$:4,$0:null,$1:[["Snippet not found",E.FSError]]}):ca.Bind(bj.translateAR(bV["CodeSnippet.GetCodeFsx"](g4.$0,true),false),function(g8){return ca.Return({$:4,$0:m.getOption(m.map(bS.completeJS,g8)),$1:gR(m.getMsgs(g8))});})):gX.$==8?ca.Return({$:3,$0:g.defaultValue([],(g5=b3.FetchByPathO(gX.$0),g5==null?null:{$:1,$0:bV["CodeSnippet.Predecessors"](g5.$0)}))}):gX.$==9?ca.Return({$:2,$0:b3.FetchByPathO(gX.$0)}):gX.$==1?ca.Return({$:1,$0:{$:1,$0:"Message received: "+gX.$0}}):gX.$==0?ca.Return({$:0,$0:bV.fsIds()}):gX.$==12?d.map(gS,q.getAsyncR(fH(gX.$1,bW.NewBrowser,b3.FetchO(gX.$0)))):gX.$==13?d.map(gS,q.getAsyncR(fH(gX.$1,bW.NewBrowser,b3.FetchByPathO(gX.$0)))):gX.$==14?(g6=gX.$0,ca.Return(gT(m.map(function(){return(function(g8){return function(g9){return g8("success: "+ch.toSafe(g9));};}(a.id))(g6);},gO(g6,gX.$1,gX.$2))))):ca.Return({$:1,$0:{$:1,$0:(g7=cj.ofSeq((bV.codeSnippets())["var"].Get()),cu.stringify(((cx.EncodeArray(b9.j$7))())(g7)))}});});}function gV(gW){!cl.contains(gW,e6.Get())?e6.Set(new cl.T({$:1,$0:gW,$1:e6.Get()})):void 0;gq(300);}c4=b0.Create$1("");c5=b0.Create$1(B.get_New());c6="CodeEditor."+"currentCodeSnippetId";c7=a.localStorage.getItem(c6);c7!==null?c5.Set((b_.j$7())(cu.parse(c7))):void 0;bl.sink(function(gW){a.localStorage.setItem(c6,cu.stringify((b9.j$5())(gW)));},c5);c8=b0.Create$1();c9=bl.map2(function(gW){return function(){return bV.codeSnippets().TryFindByKey(gW);};},c5,c8);c_=b0.Create$1(bW.Below);c$="CodeEditor."+"position";da=a.localStorage.getItem(c$);da!==null?c_.Set((b_.j$8())(cu.parse(da))):void 0;bl.sink(function(gW){a.localStorage.setItem(c$,cu.stringify((b9.j$6())(gW)));},c_);bl.map(function(gW){return gW.$==1;},c_);db=bl.map(function(gW){return cc.Equals(b3.FetchO(gW),null);},c5);dc=(dd=bl.map((de=(df=function(gW){return gW==null?null:fa(gW.$0);},function(gW){return df(b3.FetchO(gW));}),function(gW){return fb(de(gW));}),c5),(dg=[b0.Create$1(null)],(cI.Sink(function(gW){if(!cc.Equals(dg[0].Get(),gW))dg[0].Set(gW);},bl.toView(dd)),new bl({$:1,$0:dg[0]}))));dh=(di=bl.map((dj=(dk=function(gW){return gW==null?null:fc(gW.$0);},function(gW){return dk(b3.FetchO(gW));}),function(gW){return fd(dj(gW));}),c5),(dl=[b0.Create$1(null)],(cI.Sink(function(gW){if(!cc.Equals(dl[0].Get(),gW))dl[0].Set(gW);},bl.toView(di)),new bl({$:1,$0:dl[0]}))));dm=(dn=bl.map((_do=(dp=function(gW){return gW==null?null:fe(gW.$0);},function(gW){return dp(b3.FetchO(gW));}),function(gW){return ff(_do(gW));}),c5),(dq=[b0.Create$1(null)],(cI.Sink(function(gW){if(!cc.Equals(dq[0].Get(),gW))dq[0].Set(gW);},bl.toView(dn)),new bl({$:1,$0:dq[0]}))));dr=(ds=bl.map((dt=(du=function(gW){return gW==null?null:fg(gW.$0);},function(gW){return du(b3.FetchO(gW));}),function(gW){return fh(dt(gW));}),c5),(dv=[b0.Create$1(null)],(cI.Sink(function(gW){if(!cc.Equals(dv[0].Get(),gW))dv[0].Set(gW);},bl.toView(ds)),new bl({$:1,$0:dv[0]}))));dw=(dx=bl.map((dy=(dz=function(gW){return gW==null?null:fi(gW.$0);},function(gW){return dz(b3.FetchO(gW));}),function(gW){return fj(dy(gW));}),c5),(dA=[b0.Create$1(null)],(cI.Sink(function(gW){if(!cc.Equals(dA[0].Get(),gW))dA[0].Set(gW);},bl.toView(dx)),new bl({$:1,$0:dA[0]}))));dB=(dC=bl.map((dD=(dE=function(gW){return gW==null?null:fk(gW.$0);},function(gW){return dE(b3.FetchO(gW));}),function(gW){return fl(dD(gW));}),c5),(dF=[b0.Create$1(null)],(cI.Sink(function(gW){if(!cc.Equals(dF[0].Get(),gW))dF[0].Set(gW);},bl.toView(dC)),new bl({$:1,$0:dF[0]}))));dG=bl.map(function(gW){return gW!=="0"&&gW!=="";},fm("DisableParse"));dH=bl.map2(function(gW){return function(gX){return fn(gW,gX);};},dG,fm("DisableFSI"));dI=bl.map2(function(gW){return function(gX){return fn(gW,gX);};},dG,fm("DisableFable"));dJ=bl.map2(function(gW){return function(gX){return fn(gW,gX);};},dG,fm("DisableWebSharper"));dK=null;dL=new y.New(function(gW){var gX;gX=gW==null?null:{$:1,$0:new cW.New$2(gW.$0.UniquePredecessors(b3.FetchO))};return g.defaultValue(new cW.New$3(),gX);});dM=b0.Create$1("");dN=b0.Create$1("");dO=b0.Create$1("");dP=b0.Create$1("");dQ=false;dR=b0.Create$1(false);bl.sink(function(gW){a.onbeforeunload=gW?function(gX){gX.returnValue="Changes you made may not be saved.";}:null;},dR);dS=[B.get_New()];b4.set_addOutMsg(fu);dT=(dU=a.location.origin+"/Main.html",(cg.Curried3(fH))(dU));dV=bl.map(function(gW){var gX,gY;gX=null;return dL.cache.TryGetValue(gW,{get:function(){return gX;},set:function(gZ){gX=gZ;}})?gX:(gY=dL.f(gW),(dL.cache.set_Item(gW,gY),gY));},c9);dW=[0];dX=b0.Create$1("");bl.map(function(gW){return gW==="";},dX);dY="CodeEditorFileSel";dZ=bu.New$3(b0.Lens(dX,f5,a.id)).Prefix$1(bk.label([bk["class"]("btn btn-primary"),bk.htmlText("Load File..."),bu.New$3(dX).Type("file").Style("display: none").Content([cN.HandlerImpl("change",function(gW){return function(){return f8(gW);};}),cN.HandlerImpl("click",function(gW){return function(){gW.value="";};})]).Id(dY).get_Render()]));c3!==""?ca.Start((d0=null,ca.Delay(function(){return ca.Bind(ca.Sleep(3000),function(){var gW;((function(gX){return function(gY){return gX("loading "+ch.toSafe(gY)+"...");};}(function(gX){ck.log(gX);}))(c3));gW=c0.getJSON(c3+"?t="+a.String(c1.now()));gW.done(function(){return f7(gW.responseText);});return ca.Zero();});})),null):void 0;d1=new bg.New("FSharpStation",{$:1,$0:a.location.href});d2=bV.fsIds()+".fsx";d3="a";d4=cI.GetAsync(bl.toView(dG));d5=[null];d6=0;d7=0;d8="";d9="\\((\\d+)\\) F# (.+).fsx\\((\\d+)\\,(\\d+)\\): (error|warning) ((.|\\b)+)";d_="(Err|Warning|Info)(FSharp|WebSharper)\\s+\"(\\((\\d+)\\) ?)?F?#? ?(.+?)(.fsx)? \\((\\d+)\\,\\s*(\\d+)\\) - \\((\\d+)\\,\\s*(\\d+)\\) ((.|\\s)+?)"+"\"";d$=d9+"|"+d_;ea=c.asyncStartCancelling();eb=(ec=(ed=c5.get_View(),cI.Map2(function(gW,gX){var gY;function gZ(g0,g1,g2,g3,g4,g5,g6,g7,g8){var g9;return ce.StartsWith(g0,gX.get_Text())?(g9=a.Number(g1)>0?a.Number(g1):0,{$:1,$0:bE.New(g8,ce.StartsWith(g6.toUpperCase(),"ERR")?"error":ce.StartsWith(g6.toUpperCase(),"INFO")?"info":"warning",bs.cmPos(g2-1,g3-1-g9),bs.cmPos(g4-1,g5-1-g9))}):null;}return cj.choose(function(g0){return gZ(g0[0],g0[1],g0[2],g0[3],g0[4],g0[5],g0[6],g0[7],g0[8]);},cj.choose(function(g0){var g1,g2,g3,g4,g5,g6,g7,g8;return(g2=c.REGEX(d_,"",g0),g2!=null&&g2.$==1&&((g3=g2.$0,!cc.Equals(g3,null)&&g3.length===13)&&(g1=[cj.get(g2.$0,8),cj.get(g2.$0,5),cj.get(g2.$0,7),cj.get(g2.$0,2),cj.get(g2.$0,4),cj.get(g2.$0,11),cj.get(g2.$0,1),cj.get(g2.$0,10),cj.get(g2.$0,9)],true)))?{$:1,$0:[g1[1],g1[4],a.Number(g1[2]),a.Number(g1[0]),a.Number(g1[8]),a.Number(g1[7]),g1[6],g1[3],g1[5]]}:(g5=c.REGEX(d9,"",g0),g5!=null&&g5.$==1&&((g6=g5.$0,!cc.Equals(g6,null)&&g6.length===8)&&(g4=[cj.get(g5.$0,4),cj.get(g5.$0,2),cj.get(g5.$0,3),cj.get(g5.$0,1),cj.get(g5.$0,6),cj.get(g5.$0,5)],true)))?(g7=g4[0],(g8=g4[2],{$:1,$0:[g4[1],g4[3],a.Number(g8),a.Number(g7)-1,a.Number(g8),a.Number(g7),g4[5],"fsi",g4[4]]})):null;},(gY=c.REGEX(d$,"g",gW),gY!=null&&gY.$==1?gY.$0:[])));},dO.get_View(),ed)),(ee=[b0.Create$1(null)],(cI.Sink(function(gW){if(!cc.Equals(ee[0].Get(),gW))ee[0].Set(gW);},ec),ee[0].get_View())));cI.Sink(function(){ca.Start(gf(),null);},c5.get_View());ef=bA.New$3((eg=bl.toView(bl.fixit(c5)),(eh=b0.Create$1(null),(ei=[null],(ej=[0],(ek=[0],(cI.Sink(function(){var gW,gX;gW=ei[0];gW==null?void 0:(gX=gW.$0,ej[0]>ek[0]?ek[0]=ej[0]:!cc.Equals(gX.Get(),eh.Get())?(ek[0]=ek[0]+1,gX.Set(eh.Get())):void 0);},eh.get_View()),cI.Sink(function(){var gW,gX;gW=ei[0];gW==null?void 0:(gX=gW.$0,ek[0]>ej[0]?ej[0]=ek[0]:!cc.Equals(gX.Get(),eh.Get())?(ej[0]=ej[0]+10,eh.Set(gX.Get())):void 0);},cI.Bind(function(gW){var gX;gX=e$(gW);ei[0]={$:1,$0:gX};ek[0]=ej[0]+100;eh.Set(gX.Get());return gX.get_View();},eg)),eh))))))).OnChange(function(){var gW;dK!=null&&dK.$==1&&(cc.Equals(dK.$0[0],c5.Get())&&(gW=[dK.$0[0],dK.$0[2]],true))?fo():fp();gc();}).OnRender(function(gW){var gX;function gY(g1){return gk(g1[0],g1[1],g1[2]);}function gZ(g1){gW.replaceSelection(".","end");}function g0(g1){return gk(g1[0],g1[1],g1[2]);}gW.addKeyMap(bY.New(gi,gi,function(g1){bs.showHints(gW,gY,false,g1);},(gX=function(){bs.showHints(gW,g0,false,void 0);},function(g1){return gX(gZ(g1));})));cI.Sink(function(){gW.performLint();},eb);bs.setLint(gW,function(g1){cI.Get(g1[1],eb);});bl.sink(function(g1){var g2;ca.Start((g2=null,ca.Delay(function(){gW.setOption("theme",g1);return ca.Bind(ca.Sleep(50),function(){gW.refresh();return ca.Zero();});})),null);},dr);bl.sink(function(g1){gW.setOption("mode",g1);},dm);}).Style("height: 100%");el=ef.get_Render().AddChildren([new bq({$:8,$0:cN.HandlerImpl("dblclick",function(){return function(){return gi(ef.editorO.$0);};})}),bk.htmlElement("menu",[bk.type("context"),bk.Id("right-menu"),bk.htmlElement("menuitem",[bk.htmlAttribute("label","Goto Definition"),new bq({$:8,$0:cN.HandlerImpl("click",function(){return function(){return go();};})})])]),bk.htmlAttribute("contextmenu","right-menu")]);bl.sink(function(){var gW;ca.Start((gW=null,ca.Delay(function(){var gX,gY;return!dQ?ca.Zero():(gX=ef.editorO,gX!=null&&gX.$==1?(gY=b3.FetchO(c5.Get()),gY!=null&&gY.$==1?(gX.$0.performLint(),ca.Zero()):ca.Zero()):ca.Zero());})),null);},dO);em=b0.Create$1();en=bk.div([new bq({$:2,$0:bl.map2(function(gW){return function(gX){return gu(gW,gX);};},em,bl.bind(function(gW){return gw(gv(gW));},c5))}),bk.css(" td.hovering { background: gray; } ")]);eo=b0.Create$1();ep=bM.New$1("Load...").OnClick(function(gW){return function(gX){return f_(gW,gX);};});eq=bM.New$1("Save as...").OnClick(cg.Curried(bs.Do,2,[f9,null])).Highlight(dR);er=bM.New$1("Add Snippet").OnClick(cg.Curried(bs.Do,2,[f3,null]));es=bM.New$1("Delete Snippet").OnClick(cg.Curried(bs.Do,2,[f4,null])).Disabled(db);et=bM.New$1("Indent In  >>").OnClick(cg.Curried(bs.Do,2,[fy,null])).Disabled(db);eu=bM.New$1("Indent Out <<").OnClick(cg.Curried(bs.Do,2,[fz,null])).Disabled(db);ev=bM.New$1("Get F# Code").OnClick(cg.Curried(bs.Do,2,[fw,null])).Disabled(dG);ew=bM.New$1("actSetSnippetProp").OnClick2(function(gW){return gz(function(gX){return function(gY){return gI(gX,gY);};},null,gW);}).Disabled(dH);ex=bM.New$1("Run FSI on Code").OnClick2(function(gW){return gz(function(gX){return function(gY){return gD(gX,gY);};},null,gW);}).Disabled(dH);ey=bM.New$1("Run FSI").OnClick2(function(gW){return gz(function(gX){return function(gY){return gF(gX,gY);};},null,gW);}).Disabled(dH);ez=bM.New$1("Run Fable on Code").OnClick2(function(gW){return gz(function(gX){return function(gY){return gE(gX,gY);};},null,gW);}).Disabled(dI);eA=bM.New$1("Run Fable").OnClick2(function(gW){return gz(function(gX){return function(gY){return gG(gX,gY);};},null,gW);}).Disabled(dI);eB=bM.New$1("Run WebSharper in new tab").OnClick2((eC=bW.NewBrowser,function(gW){return gz(function(gX){return function(gY){return gH(gX,gY);};},eC,gW);})).Disabled(dJ);eD=bM.New$1("Run WebSharper in WS Result").OnClick2((eE=bW.Below,function(gW){return gA(function(gX){return function(gY){return gH(gX,gY);};},eE,gW);})).Disabled(dJ);eF=bM.New$1("Run WebSharper in ...").OnClick(cg.Curried(gy,2,[gK,null])).Disabled(dJ);eG=bM.New$1("Parse F#").OnClick(cg.Curried(gx,2,[gL,null])).Disabled(dG);eH=bM.New$1("Compile WebSharper").OnClick((eI=function(gW){return fA(fI(gW));},cg.Curried(gx,2,[eI,null]))).Disabled(dJ);eJ=bM.New$1("Find Definition").OnClick(cg.Curried(bs.Do,2,[go,null])).Disabled(dG);eK=bM.New$1("Refresh CodeMirror").OnClick(cg.Curried(bs.Do,2,[gp,null]));eL=bM.New$1("Show Output text").OnClick2(cg.Curried(bs.Do2,3,[gJ,null]));eM=bM.New$1("Abort FSI").OnClick(cg.Curried(bs.Do,2,[function(){bh.abortFsiExe();},null]));eN=bk.div([er.get_Button().get_Render(),eu.get_Button().get_Render(),et.get_Button().get_Render(),dZ.get_Render().AddChildren([bk.style("grid-column: 4/6")]),ey.get_Button().get_Render(),eA.get_Button().get_Render(),eF.get_Button().get_Render(),es.get_Button().get_Render(),eJ.get_Button().get_Render(),bk.span([]),eq.get_Button().get_Render(),bk.span([]),ev.get_Button().get_Render(),eG.get_Button().get_Render(),bk.someElt(cK.Select([cN.Create("id","Position")],function(gW){return gW.$==1?"Right":gW.$==2?"In Tab":gW.$==3?"New Browser":"Below";},cl.ofArray([bW.NewBrowser,bW.Below]),c_)),bk.style("\n                    overflow: hidden;\n                    display: grid;\n                    grid-template-columns: repeat(8, 12.1%);\n                    bxackground-color: #eee;\n                    padding : 5px;\n                    grid-gap: 5px;\n                ")]);eO=bL.New2([bJ.New$2("File").SubMenu([ep.get_MenuEntry(),eq.get_MenuEntry()]),bJ.New$2("Code").SubMenu([er.get_MenuEntry(),es.get_MenuEntry(),bJ.New$2("").get_Divider(),et.get_MenuEntry(),eu.get_MenuEntry(),bJ.New$2("").get_Divider(),eJ.get_MenuEntry(),bJ.New$2("").get_Divider(),ev.get_MenuEntry(),bJ.New$2("").get_Divider(),eK.get_MenuEntry()]),bJ.New$2("Run").SubMenu([ey.get_MenuEntry(),eM.get_MenuEntry(),bJ.New$2("").get_Divider(),eA.get_MenuEntry(),bJ.New$2("").get_Divider(),eB.get_MenuEntry(),eD.get_MenuEntry(),bJ.New$2("").get_Divider(),eG.get_MenuEntry(),eH.get_MenuEntry()])]);eP=bL.New2([bJ.New$2("About").SubMenu([bJ.New$1("Source @ GitHub","https://github.com/amieres/FSharpStation").Target("_blank")])]);eQ=bs.navbar(bk.h1([bk.htmlText("F# Station"),bk.style("font-size: 48px; margin-top: -17px")]),eO.get_Render(),eP.get_Render());eR="CodeEditor."+"splitterV1";eS=bF.New$1(20).Children([bk.style("grid-row: 2 / 4")]).get_Var();eT=a.localStorage.getItem(eR);eT!==null?eS.Set(((cx.Id())())(cu.parse(eT))):void 0;bl.sink(function(gW){a.localStorage.setItem(eR,cu.stringify(((cx.Id())())(gW)));},eS);eU=bk.bindHElem(function(gW){return bk.div(cl.ofSeq(cb.delay(function(){return cb.append([bk.style("overflow: auto")],cb.delay(function(){var gX;return cb.append(cb.choose(a.id,(gX=cb.indexed(gW),cb.mapFold(function(gY,gZ){var g0,g1,g2,g3,g4;g0=gZ[1];return g.defaultValue(true,(g1=g0.parent,g1==null?null:{$:1,$0:gY.Contains(g1.$0)}))?(g2=g.defaultValue(false,(g3=cb.tryItem(gZ[0]+1,bV.codeSnippets()),g3==null?null:{$:1,$0:cc.Equals(g3.$0.parent,{$:1,$0:g0.id})})),(g4=g2&&g0.expanded,[{$:1,$0:fX(g2,g4,g0)},g4?gY.Add(g0.id):gY])):[null,gY];},new cQ.New(cl.T.Empty),gX))[0]),cb.delay(function(){return cb.append([new bq({$:8,$0:cN.HandlerImpl("scroll",function(gY){return function(){dW[0]=gY.scrollTop;};})})],cb.delay(function(){return[new bq({$:8,$0:cN.OnAfterRenderImpl(function(gY){gY.scrollTop=dW[0];})})];}));}));}));})));},(eV=bV.codeSnippets().v,cI.SnapshotOn((bV.codeSnippets())["var"].Get(),c8.get_View(),eV)));eW=bR.AddGuids([["actLoadFile",new bN({$:2,$0:ep})],["actSaveFile",new bN({$:2,$0:eq})],["actAddSnippet",new bN({$:2,$0:er})],["actDeleteSnippet",new bN({$:2,$0:es})],["actIndentSnippet",new bN({$:2,$0:et})],["actOutdentSnippet",new bN({$:2,$0:eu})],["actGetFsCode",new bN({$:2,$0:ev})],["actSetSnippetProp",new bN({$:2,$0:ew})],["actEvalFsCode",new bN({$:2,$0:ex})],["actEvalCode",new bN({$:2,$0:ey})],["actRunFableFs",new bN({$:2,$0:ez})],["actRunFable",new bN({$:2,$0:eA})],["actRunWSNewTab",new bN({$:2,$0:eB})],["actRunWSHere",new bN({$:2,$0:eD})],["actRunWSIn",new bN({$:2,$0:eF})],["actParseCode",new bN({$:2,$0:eG})],["actCompileWS",new bN({$:2,$0:eH})],["actFindDefinition",new bN({$:2,$0:eJ})],["actOutText",new bN({$:2,$0:eL})],["Output",new bN({$:1,$0:bx.New$3(dP).Placeholder("Output:").Title("Output").RenderWith(cl.ofArray([new bq({$:8,$0:cN.HandlerImpl("dblclick",function(gW){return function(gX){return gM(gW,gX);};})}),new bq({$:8,$0:cN.OnAfterRenderImpl(function(gW){bl.sink(function(gX){return gN(gW,gX);},dP);})})]))})],["Parser",new bN({$:1,$0:bx.New$3(dO).Placeholder("Parser messages:").Title("Parser").RenderWith(cl.ofArray([new bq({$:8,$0:cN.HandlerImpl("dblclick",function(gW){return function(gX){return gM(gW,gX);};})})]))})],["JavaScript",new bN({$:1,$0:bx.New$3(dN).Placeholder("Javascript:").Title("JavaScript code generated").get_Render()})],["F# code",new bN({$:1,$0:bx.New$3(dM).Placeholder("F# code:").Title("F# code assembled").get_Render()})],["Properties",new bN({$:1,$0:en})],["WS Result",new bN({$:1,$0:bk.div([bk.div([bk.Id("TestNode"),bk.style("background: white; height: 100%; width: 100%; ")])])})],["title",new bN({$:1,$0:bu.New$3((eX=bl.toView(bl.fixit(c5)),(eY=b0.Create$1(null),(eZ=[null],(e0=[0],(e1=[0],(cI.Sink(function(){var gW,gX;gW=eZ[0];gW==null?void 0:(gX=gW.$0,e0[0]>e1[0]?e1[0]=e0[0]:!cc.Equals(gX.Get(),eY.Get())?(e1[0]=e1[0]+1,gX.Set(eY.Get())):void 0);},eY.get_View()),cI.Sink(function(){var gW,gX;gW=eZ[0];gW==null?void 0:(gX=gW.$0,e1[0]>e0[0]?e0[0]=e1[0]:!cc.Equals(gX.Get(),eY.Get())?(e0[0]=e0[0]+10,eY.Set(gX.Get())):void 0);},cI.Bind(function(gW){var gX;gX=e_(gW);eZ[0]={$:1,$0:gX};e1[0]=e0[0]+100;eY.Set(gX.Get());return gX.get_View();},eX)),eY))))))).Prefix$1(bk.htmlText("name:")).get_Render()})],["code",new bN({$:1,$0:el})],["snippets",new bN({$:1,$0:eU})],["buttons",new bN({$:1,$0:eN})],["menu",new bN({$:1,$0:eQ})],["messagesR",new bN({$:4,$0:true,$1:["Properties"]})],["messagesB1",new bN({$:4,$0:true,$1:["Output","JavaScript","F# code"]})],["messagesB2",new bN({$:4,$0:true,$1:["Parser","WS Result"]})],["messagesB",bs.varVerSplitter(55,"messagesB1","messagesB2",0,100)],["title_code",bs.fixedHorSplitter(true,34,"title","code")],["code_props",bs.varVerSplitter(85,"title_code","messagesR",25,100)],["code_buttons",bs.fixedHorSplitter(false,80,"code_props","buttons")],["snippets_code",bs.varVerSplitter(15,"snippets","code_buttons",5,95)],["main_messages",bs.varHorSplitter(82,"snippets_code","messagesB",35,100)],["extrabuttons",new bN({$:1,$0:bk.div([])})],["main_extra",bs.varVerSplitter(100,"main_messages","extrabuttons",20,100)],["main",bs.fixedHorSplitter(true,50,"menu","main_extra")]]);e2=bR.New$1(eW);a.addLayoutJson=gP;bl.sink(gP,dw);bl.sink(function(gW){if(gW==="")gQ([]);else fC(a,gW);},dB);a.doFSharpStationGuiCall=function(gW){var gX,gY;gX=m.Success(gO.apply(null,gW));gX.$==1?((gY=(cg.Curried3(function(gZ,g0,g1){return gZ("Error doGuiCall "+ch.printArray(ch.prettyPrint,g0)+": "+("("+ch.prettyPrint(g1[0])+", "+ch.prettyPrint(g1[1])+", "+ch.printArray(ch.prettyPrint,g1[2])+")"));}))(function(gZ){ck.log(gZ);}),function(gZ){var g0;g0=gY(gZ);return function(g1){g0([g1[0],g1[1],g1[2]]);};})(gX.$0))(gW):void 0;};a.setFSharpStationLayout=function(gW){var gX;gX=b3.FetchO(c5.Get());gX==null?void 0:gQ(gW.apply(null,[e2,gX.$0]));};e3=null;(new cp.New$5()).TryGetValue("",{get:function(){return e3;},set:function(gW){e3=gW;}})?void 0:void 0;bw.get_New();e4=new Q.New(bV.fsIds(),null,null);ca.Start((e5=null,ca.Delay(function(){return ca.Bind(ca.Sleep(1000),function(){return ca.While(function(){return true;},ca.Delay(function(){return ca.TryWith(ca.Delay(function(){var gW,gX,gY,gZ,g0;function g1(g5){return gU("",g5);}function g2(g5){return{$:1,$0:g5};}function g3(g5){return(b_.j$9())(cu.parse(g5));}function g4(g5){return cu.stringify((b9.j$8())(g5));}gW=function(g5){return g2(g1(g5));};e4.payloadProcessorO={$:1,$0:(gX=function(g5){return gW(g3(g5));},(gY=function(g5){return q.map(g4,g5);},function(g5){return gY(gX(g5));}))};q.Start(e4.sendAndForget(F.msgType(I.MsgInformation,(gZ=F.MessageBrokerAddress(),(g0=cu.stringify(((cx.Id())())("Registering Processor")),L.New(new G({$:0,$0:""}),gZ,I.MsgRequest,"",cs.NewGuid(),g0,K.NoReply))))),null);return ca.Bind(ca.Sleep(60000),function(){return ca.Return(null);});}),function(gW){((function(gX){return function(gY){return gX(ch.toSafe(gY));};}(function(gX){ck.log(gX);}))(gW.message));return ca.Bind(ca.Sleep(1000),function(){return ca.Return(null);});});}));});})),null);bl.sink(function(){e2.SelectTab("Output");},dP);bl.sink(function(){e2.SelectTab("WS Result");},eo);ca.Start(d.sleepThen(function(){e2.SelectTab("Parser");},1000),null);e6=b0.Create$1(cl.ofArray(["/EPFileX/css/main.css"]));bl.sink(gV,dh);bl.sink(function(gW){if(gW!=="")gV((function(gX){return function(gY){return gX("/EPFileX/codemirror/content/theme/"+ch.toSafe(gY)+".css");};}(a.id))(gW));},dr);e7=bk.div([bk.style("height: 100vh; width: 100% "),e2.get_Render().Style("height: 100%; width: 100% "),bk.script([bk.src("/EPFileX/FileSaver/FileSaver.js"),bk.type("text/javascript")]),bk.script([bk.src("http://code.jquery.com/jquery-3.1.1.min.js"),bk.type("text/javascript")]),bk.script([bk.src("http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"),bk.type("text/javascript")]),bk.link([bk.href("http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"),bk.type("text/css"),bk.rel("stylesheet")]),bk.css("\n      \n        body { margin: 0px }     \n             \n        div textarea {\n            font-family     : monospace;\n        }\n        .code-editor-list-tile {\n            white-space     : nowrap; \n            border-style    : solid none none;\n            border-color    : white;\n            border-width    : 1px;\n            background-color: #D8D8D8;\n            display         : flex;\n        }\n        .code-editor-list-text{\n            padding         : 1px 10px 1px 5px;\n            overflow        : hidden;\n            text-overflow   : ellipsis;\n            white-space     : nowrap;\n            flex            : 1;\n        }\n        \n        .code-editor-list-tile.direct-predecessor {\n            font-weight     : bold;\n        }\n        .code-editor-list-tile.indirect-predecessor {\n            color           : blue;\n        }\n        .code-editor-list-tile.selected {\n            background-color: #77F;\n            color           : white;\n        }\n        .code-editor-list-tile.hovering {\n            background      : lightgray;\n        }\n        .code-editor-list-tile.hovering.selected {\n            background      : blue;\n        }\n        .code-editor-list-tile>.predecessor {\n            font-weight     : bold;\n            border-style    : inset;\n            border-width    : 1px;\n            text-align      : center;\n            color           : transparent;\n        }\n        .code-editor-list-tile.direct-predecessor>.predecessor {\n            color           : blue;\n        }\n        \n        .CodeMirror { height: 100%; }\n        \n        .node {\n            background-color: white; \n            width           : 2ch; \n            color           : #A03; \n            font-weight     : bold; \n            text-align      : center;\n            font-family     : arial;\n        }\n        .Warning { text-decoration: underline lightblue } \n        .Error   { text-decoration: underline red       } \n        .body    { margin         : 0px                 }\n        "),bk.style(" \n                color      : #333;\n                font-size  : small;\n                font-family: monospace;\n                line-height: 1.2;\n                    "),new bq({$:2,$0:bl.map(function(gW){return bk.div(cl.ofSeq(cb.delay(function(){return cb.map(function(gX){return bk.link([bk.href(gX),bk.type("text/css"),bk.rel("stylesheet")]);},gW);})));},e6)}),bk.css(dc)]);return(bk.renderDoc())(e7);};b7.$cctor=function(){var c3,c4,c5;b7.$cctor=a.ignore;function c6(c7,c8){return new bq({$:8,$0:cM.Style(c7,c8)});}b7.result=new n.New();b7.fromResult=m.toResultS;b7.toResult=m.fromResultS;b7.errOptionIsNone=new k.New();b7.wrap=new r.New();b7.wrapper=new r.New();b7.result$1=m.result();b7.wrap$1=q.wrap();b7.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";b7.MessageBrokerId="<MessageBroker>";b7.MessageBrokerAddress=new G({$:0,$0:F.MessageBrokerId()});b7.counter=1;b7.swap=cg.Curried3(function(c7,c8,c9){return(c7(c9))(c8);});b7.valFlow=new bp.New();b7.renderDoc=(c3=(c4=cK.Empty(),function(c7){return c7==null?c4:c7.$0;}),function(c7){return c3(bk.chooseNode(c7));});b7.string2Styles=(c5=function(c7){return cj.map(function(c8){return c6(c8[0],c8[1]);},c7);},function(c7){return c5(bk.style2pairs(c7));});b7.codeMirrorIncludes=["/EPFileX/codemirror/scripts/codemirror/codemirror.js","/EPFileX/codemirror/scripts/intellisense.js","/EPFileX/codemirror/scripts/codemirror/codemirror-intellisense.js","/EPFileX/codemirror/scripts/codemirror/codemirror-compiler.js","/EPFileX/codemirror/scripts/codemirror/mode/none.js","/EPFileX/codemirror/scripts/codemirror/mode/fsharp.js","/EPFileX/codemirror/scripts/codemirror/mode/css.js","/EPFileX/codemirror/scripts/codemirror/mode/javascript.js","/EPFileX/codemirror/scripts/codemirror/mode/markdown.js","/EPFileX/codemirror/scripts/addon/search/searchcursor.js","/EPFileX/codemirror/scripts/addon/search/search.js","/EPFileX/codemirror/scripts/addon/search/jump-to-line.js","/EPFileX/codemirror/scripts/addon/dialog/dialog.js","/EPFileX/codemirror/scripts/addon/edit/matchbrackets.js","/EPFileX/codemirror/scripts/addon/selection/active-line.js","/EPFileX/codemirror/scripts/addon/display/fullscreen.js","/EPFileX/codemirror/scripts/addon/hint/show-hint.js","/EPFileX/codemirror/scripts/addon/lint/lint.js"];b7.observers=cl.T.Empty;b7.draggedTab=[null];b7.selectedPanels=b0.Create$1(new cF.New([]));b7.TabMoved=null;b7.codeSnippets=c2.Create(function(c7){return c7.id;},cl.T.Empty);b7.fsIds="FSharpStation"+a.String(c1.now());b7.references=["mscorlib.dll","System.dll","System.Core.dll","System.Data.dll","System.IO.dll","System.Xml.dll","System.Numerics.dll","FSharp.Core.sigdata","FSharp.Core.dll","Fable.Core.dll","Fable.Import.Browser.dll"];b7.loadReferences=cZ.Create(function(){var c7;ca.Start((c7=null,ca.Delay(function(){return ca.Bind(br.LoadFilesAsync(["https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.2/require.min.js"]),function(){var c8;c8=cT.create(null);c8.skipDataMain=1;c8.isBrowser=1;a.require.config(c8);cb.iter(function(c9){a.getFileBlob(c9,"metadata/"+c9);},b4.references());return ca.Zero();});})),null);});b7.getChecker=cZ.Create(function(){return cU.createChecker(function(c7){return a.metadata[c7];},cj.choose(function(c7){return c7.indexOf("sigdata")!=-1?null:{$:1,$0:ce.Replace(c7,".dll","")};},b4.references()));});b7.addOutMsg=function(c7){ck.log(c7);};};b8.p$1=function(c3){return"Address "+ch.prettyPrint(c3.$0);};b9.j$4=function(){return b9._v$4?b9._v$4:b9._v$4=(cx.EncodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",cx.Id(),0]]],[2,[["$0","Item",b9.j$5,0]]],[3,[["$0","Item",b9.j$5,0]]],[4,[["$0","Item",b9.j$5,0]]],[5,[["$0","Item",b9.j$5,0]]],[6,[["$0","Item",cx.EncodeArray(cx.Id()),0]]],[7,[["$0","Item",cx.EncodeArray(cx.Id()),0]]],[8,[["$0","Item",cx.EncodeArray(cx.Id()),0]]],[9,[["$0","Item",cx.EncodeArray(cx.Id()),0]]],[10,[["$0","Item",cx.EncodeArray(cx.Id()),0]]],[11,[]],[12,[["$0","Item1",b9.j$5,0],["$1","Item2",cx.Id(),0]]],[13,[["$0","Item1",cx.EncodeArray(cx.Id()),0],["$1","Item2",cx.Id(),0]]],[14,[["$0","name",cx.Id(),0],["$1","action",cx.Id(),0],["$2","parms",cx.EncodeArray(cx.Id()),0]]]]))();};b9.j$5=function(){return b9._v$5?b9._v$5:b9._v$5=(cx.EncodeUnion(B,"$",[[0,[["$0","Item",cx.Id(),0]]]]))();};b_.j$4=function(){return b_._v$4?b_._v$4:b_._v$4=(cx.DecodeUnion(void 0,"$",[[0,[["$0","Item",cx.Id(),0]]],[1,[["$0","Item",cx.Id(),1]]],[2,[["$0","Item",b_.j$6,1]]],[3,[["$0","Item",cx.DecodeArray(b_.j$6),0]]],[4,[["$0","Item1",cx.Id(),1],["$1","Item2",cx.DecodeArray(cx.DecodeTuple([cx.Id(),b_.j$5])),0]]]]))();};b_.j$6=function(){return b_._v$6?b_._v$6:b_._v$6=(cx.DecodeRecord(C,[["name",cx.Id(),0],["content",cx.Id(),0],["parent",b_.j$7,1],["predecessors",cx.DecodeList(b_.j$7),0],["id",b_.j$7,0],["expanded",cx.Id(),0],["level",cx.Id(),0],["levelCode",cx.Id(),0],["properties",cx.DecodeStringDictionary(cx.Id()),0]]))();};b_.j$5=function(){return b_._v$5?b_._v$5:b_._v$5=(cx.DecodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]]]))();};b_.j$7=function(){return b_._v$7?b_._v$7:b_._v$7=(cx.DecodeUnion(B,"$",[[0,[["$0","Item",cx.Id(),0]]]]))();};b8.p$2=function(c3){return c3.$==5?"MsgRequestForEcho":c3.$==4?"MsgRequestForId":c3.$==3?"MsgFromBroker":c3.$==2?"MsgReply":c3.$==1?"MsgRequest":"MsgInformation";};b9.j$8=function(){return b9._v$8?b9._v$8:b9._v$8=(cx.EncodeUnion(void 0,"$",[[0,[["$0","Item",cx.Id(),0]]],[1,[["$0","Item",cx.Id(),1]]],[2,[["$0","Item",b9.j$7,1]]],[3,[["$0","Item",cx.EncodeArray(b9.j$7),0]]],[4,[["$0","Item1",cx.Id(),1],["$1","Item2",cx.EncodeArray(cx.EncodeTuple([cx.Id(),b9.j$9])),0]]]]))();};b9.j$9=function(){return b9._v$9?b9._v$9:b9._v$9=(cx.EncodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]]]))();};b_.j$9=function(){return b_._v$9?b_._v$9:b_._v$9=(cx.DecodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",cx.Id(),0]]],[2,[["$0","Item",b_.j$7,0]]],[3,[["$0","Item",b_.j$7,0]]],[4,[["$0","Item",b_.j$7,0]]],[5,[["$0","Item",b_.j$7,0]]],[6,[["$0","Item",cx.DecodeArray(cx.Id()),0]]],[7,[["$0","Item",cx.DecodeArray(cx.Id()),0]]],[8,[["$0","Item",cx.DecodeArray(cx.Id()),0]]],[9,[["$0","Item",cx.DecodeArray(cx.Id()),0]]],[10,[["$0","Item",cx.DecodeArray(cx.Id()),0]]],[11,[]],[12,[["$0","Item1",b_.j$7,0],["$1","Item2",cx.Id(),0]]],[13,[["$0","Item1",cx.DecodeArray(cx.Id()),0],["$1","Item2",cx.Id(),0]]],[14,[["$0","name",cx.Id(),0],["$1","action",cx.Id(),0],["$2","parms",cx.DecodeArray(cx.Id()),0]]]]))();};b$.p$22=function(c3){return"{"+("text = "+b8.p$9(c3.text))+"; "+("highlight = "+b8.p$11(c3.highlight))+"; "+("disabled = "+b8.p$11(c3.disabled))+"; "+("toolTip = "+b8.p$13(c3.toolTip))+"; "+("onClick = "+b8.p$14(c3.onClick))+"; "+("parms = "+b8.p$8(c3.parms))+"}";};b8.p$14=function(c3){return c3==null?"null":"Some <fun>";};b8.p$13=function(c3){return c3==null?"null":"Some "+ch.prettyPrint(c3.$0);};b8.p$11=function(c3){return c3.$==2?"Dynamic "+b8.p$12(c3.$0):c3.$==1?"DynamicV "+ch.prettyPrint(c3.$0):"Constant "+ch.prettyPrint(c3.$0);};b8.p$12=function(c3){return"View <fun>";};b8.p$9=function(c3){return c3.$==2?"Dynamic "+b8.p$10(c3.$0):c3.$==1?"DynamicV "+ch.prettyPrint(c3.$0):"Constant "+ch.prettyPrint(c3.$0);};b8.p$10=function(c3){return"View <fun>";};b8.p$8=function(c3){return c3==null?"null":"Some "+ch.printArray(ch.prettyPrint,c3.$0);};b8.p$7=function(c3){return c3.$==17?"KMultiple "+ch.printArray(function(c4){return b8.p$7(c4);},c3.$0):c3.$==16?"KUnionCase "+b$.p$21(c3.$0):c3.$==15?"KNamespaces "+b$.p$18(c3.$0):c3.$==14?"KCompilerLocation "+b$.p$17(c3.$0):c3.$==13?"KSignatureData "+b$.p$15(c3.$0):c3.$==12?"KTypeSig "+ch.prettyPrint(c3.$0):c3.$==11?"KToolTip "+ch.printArray(function(c4){return ch.printArray(function(c5){return b$.p$2(c5);},c4);},c3.$0):c3.$==10?"KDeclarations "+ch.printArray(function(c4){return b$.p$13(c4);},c3.$0):c3.$==9?"KFindDecl "+b$.p$12(c3.$0):c3.$==8?"KColorizations "+ch.printList(function(c4){return b$.p$11(c4);},c3.$0):c3.$==7?"KErrors "+b$.p$9(c3.$0):c3.$==6?"KMethod "+b$.p$6(c3.$0):c3.$==5?"KHelp "+ch.prettyPrint(c3.$0):c3.$==4?"KSymbolUse "+b$.p$4(c3.$0):c3.$==3?"KCompletion "+ch.printArray(function(c4){return b$.p$3(c4);},c3.$0):c3.$==2?"KHelpText "+b$.p$1(c3.$0):c3.$==1?"KError "+b$.p(c3.$0):"KInfo "+ch.prettyPrint(c3.$0);};b$.p$21=function(c3){return"{"+("Text = "+ch.prettyPrint(c3.Text))+"}";};b$.p$18=function(c3){return"{"+("Opens = "+ch.printArray(function(c4){return b$.p$19(c4);},c3.Opens))+"; "+("Qualifies = "+ch.printArray(function(c4){return b$.p$20(c4);},c3.Qualifies))+"; "+("Word = "+ch.prettyPrint(c3.Word))+"}";};b$.p$20=function(c3){return"{"+("Name = "+ch.prettyPrint(c3.Name))+"; "+("Qualifier = "+ch.prettyPrint(c3.Qualifier))+"}";};b$.p$19=function(c3){return"{"+("Namespace = "+ch.prettyPrint(c3.Namespace))+"; "+("Name = "+ch.prettyPrint(c3.Name))+"; "+("Type = "+ch.prettyPrint(c3.Type))+"; "+("Line = "+ch.prettyPrint(c3.Line))+"; "+("Column = "+ch.prettyPrint(c3.Column))+"; "+("MultipleNames = "+ch.prettyPrint(c3.MultipleNames))+"}";};b$.p$17=function(c3){return"{"+("Fsc = "+ch.prettyPrint(c3.Fsc))+"; "+("Fsi = "+ch.prettyPrint(c3.Fsi))+"; "+("MSBuild = "+ch.prettyPrint(c3.MSBuild))+"}";};b$.p$15=function(c3){return"{"+("OutputType = "+ch.prettyPrint(c3.OutputType))+"; "+("Parameters = "+ch.printList(function(c4){return ch.printList(function(c5){return b$.p$16(c5);},c4);},c3.Parameters))+"}";};b$.p$16=function(c3){return"{"+("Name = "+ch.prettyPrint(c3.Name))+"; "+("Type = "+ch.prettyPrint(c3.Type))+"}";};b$.p$13=function(c3){return"{"+("Declaration = "+b$.p$14(c3.Declaration))+"; "+("Nested = "+ch.printArray(function(c4){return b$.p$14(c4);},c3.Nested))+"}";};b$.p$14=function(c3){return"{"+("UniqueName = "+ch.prettyPrint(c3.UniqueName))+"; "+("Name = "+ch.prettyPrint(c3.Name))+"; "+("Glyph = "+ch.prettyPrint(c3.Glyph))+"; "+("GlyphChar = "+ch.prettyPrint(c3.GlyphChar))+"; "+("IsTopLevel = "+ch.prettyPrint(c3.IsTopLevel))+"; "+("File = "+ch.prettyPrint(c3.File))+"; "+("EnclosingEntity = "+ch.prettyPrint(c3.EnclosingEntity))+"; "+("IsAbstract = "+ch.prettyPrint(c3.IsAbstract))+"}";};b$.p$12=function(c3){return"{"+("File = "+ch.prettyPrint(c3.File))+"; "+("Line = "+ch.prettyPrint(c3.Line))+"; "+("Column = "+ch.prettyPrint(c3.Column))+"}";};b$.p$11=function(c3){return"{"+("Kind = "+ch.prettyPrint(c3.Kind))+"}";};b$.p$9=function(c3){return"{"+("File = "+ch.prettyPrint(c3.File))+"; "+("Errors = "+ch.printArray(function(c4){return b$.p$10(c4);},c3.Errors))+"}";};b$.p$10=function(c3){return"{"+("FileName = "+ch.prettyPrint(c3.FileName))+"; "+("StartLine = "+ch.prettyPrint(c3.StartLine))+"; "+("EndLine = "+ch.prettyPrint(c3.EndLine))+"; "+("StartColumn = "+ch.prettyPrint(c3.StartColumn))+"; "+("EndColumn = "+ch.prettyPrint(c3.EndColumn))+"; "+("Message = "+ch.prettyPrint(c3.Message))+"; "+("Subcategory = "+ch.prettyPrint(c3.Subcategory))+"}";};b$.p$6=function(c3){return"{"+("Name = "+ch.prettyPrint(c3.Name))+"; "+("CurrentParameter = "+ch.prettyPrint(c3.CurrentParameter))+"; "+("Overloads = "+ch.printList(function(c4){return b$.p$7(c4);},c3.Overloads))+"}";};b$.p$7=function(c3){return"{"+("Tip = "+ch.printList(function(c4){return ch.printList(function(c5){return b$.p$2(c5);},c4);},c3.Tip))+"; "+("TypeText = "+ch.prettyPrint(c3.TypeText))+"; "+("Parameters = "+ch.printList(function(c4){return b$.p$8(c4);},c3.Parameters))+"; "+("IsStaticArguments = "+ch.prettyPrint(c3.IsStaticArguments))+"}";};b$.p$8=function(c3){return"{"+("Name = "+ch.prettyPrint(c3.Name))+"; "+("CanonicalTypeTextForSorting = "+ch.prettyPrint(c3.CanonicalTypeTextForSorting))+"; "+("Display = "+ch.prettyPrint(c3.Display))+"; "+("Description = "+ch.prettyPrint(c3.Description))+"}";};b$.p$4=function(c3){return"{"+("Name = "+ch.prettyPrint(c3.Name))+"; "+("Uses = "+ch.printList(function(c4){return b$.p$5(c4);},c3.Uses))+"}";};b$.p$5=function(c3){return"{"+("FileName = "+ch.prettyPrint(c3.FileName))+"; "+("StartLine = "+ch.prettyPrint(c3.StartLine))+"; "+("StartColumn = "+ch.prettyPrint(c3.StartColumn))+"; "+("EndLine = "+ch.prettyPrint(c3.EndLine))+"; "+("EndColumn = "+ch.prettyPrint(c3.EndColumn))+"; "+("IsFromDefinition = "+ch.prettyPrint(c3.IsFromDefinition))+"; "+("IsFromAttribute = "+ch.prettyPrint(c3.IsFromAttribute))+"; "+("IsFromComputationExpression = "+ch.prettyPrint(c3.IsFromComputationExpression))+"; "+("IsFromDispatchSlotImplementation = "+ch.prettyPrint(c3.IsFromDispatchSlotImplementation))+"; "+("IsFromPattern = "+ch.prettyPrint(c3.IsFromPattern))+"; "+("IsFromType = "+ch.prettyPrint(c3.IsFromType))+"}";};b$.p$3=function(c3){return"{"+("Name = "+ch.prettyPrint(c3.Name))+"; "+("ReplacementText = "+ch.prettyPrint(c3.ReplacementText))+"; "+("Glyph = "+ch.prettyPrint(c3.Glyph))+"; "+("GlyphChar = "+ch.prettyPrint(c3.GlyphChar))+"}";};b$.p$1=function(c3){return"{"+("Name = "+ch.prettyPrint(c3.Name))+"; "+("Overloads = "+ch.printList(function(c4){return ch.printList(function(c5){return b$.p$2(c5);},c4);},c3.Overloads))+"}";};b$.p$2=function(c3){return"{"+("Signature = "+ch.prettyPrint(c3.Signature))+"; "+("Comment = "+ch.prettyPrint(c3.Comment))+"}";};b$.p=function(c3){return"{"+("Code = "+ch.prettyPrint(c3.Code))+"; "+("Message = "+ch.prettyPrint(c3.Message))+"}";};b9.j$7=function(){return b9._v$7?b9._v$7:b9._v$7=(cx.EncodeRecord(C,[["name",cx.Id(),0],["content",cx.Id(),0],["parent",b9.j$5,1],["predecessors",cx.EncodeList(b9.j$5),0],["id",b9.j$5,0],["expanded",cx.Id(),0],["level",cx.Id(),0],["levelCode",cx.Id(),0],["properties",cx.EncodeStringDictionary(cx.Id()),0]]))();};b8.p$6=function(c3){return"CodeSnippetId "+ch.prettyPrint(c3.$0);};b9.j$6=function(){return b9._v$6?b9._v$6:b9._v$6=(cx.EncodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};b_.j$8=function(){return b_._v$8?b_._v$8:b_._v$8=(cx.DecodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};b_.j$10=function(){return b_._v$10?b_._v$10:b_._v$10=(cx.DecodeUnion(void 0,"type",[["BRConnections",[["$0","Item",cx.DecodeArray(cx.Id()),0]]]]))();};b9.j$10=function(){return b9._v$10?b9._v$10:b9._v$10=(cx.EncodeUnion(void 0,"type",[["BRGetConnections",[]]]))();};b_.j$11=function(){return b_._v$11?b_._v$11:b_._v$11=(cx.DecodeUnion(void 0,"type",[["BMOk",[]],["BMOnlyBrokerShouldUse",[]],["BMDestinationNotFound",[["$0","Item",b_.j$1,0]]],["BMWebSocketError",[["$0","Item",cx.Id(),0]]],["BMReceiverCantReply",[]],["BMUnexpectedMsgType",[["$0","Item",b_.j$2,0]]]]))();};b$.p$23=function(c3){return"{"+("from = "+b8.p$1(c3.from))+"; "+("destination = "+b8.p$1(c3.destination))+"; "+("msgType = "+b8.p$2(c3.msgType))+"; "+("subtype = "+ch.prettyPrint(c3.subtype))+"; "+("id = "+ch.prettyPrint(c3.id))+"; "+("payload = "+ch.prettyPrint(c3.payload))+"; "+("replier = "+b8.p$15(c3.replier))+"}";};b8.p$15=function(c3){return c3.$==2?"Receiver":c3.$==1?"Broker":"NoReply";};b8.p$16=function(c3){return c3.$==3?"Close":c3.$==2?"Open":c3.$==1?"Error":"Message "+b$.p$23(c3.$0);};b_.j$12=function(){return b_._v$12?b_._v$12:b_._v$12=(cx.DecodeRecord(void 0,[["GuiRoot",cx.Id(),1],["GuiTabStrip",cx.DecodeTuple([cx.Id(),cx.DecodeArray(cx.Id())]),1],["GuiSplit",cx.DecodeTuple([cx.Id(),cx.Id(),cx.Id(),cx.Id(),cx.Id(),cx.Id(),cx.Id(),cx.Id()]),1],["GuiNode",b_.j$13,1],["GuiCall",cx.DecodeTuple([cx.Id(),cx.Id(),cx.DecodeArray(cx.Id())]),1]]))();};b_.j$13=function(){return b_._v$13?b_._v$13:b_._v$13=(cx.DecodeRecord(void 0,[["HtmlElementF",cx.DecodeTuple([cx.Id(),cx.DecodeArray(b_.j$13)]),1],["HtmlAttributeF",cx.DecodeTuple([cx.Id(),cx.Id()]),1],["HtmlAttributeOF",cx.DecodeTuple([cx.Id(),b_.j$14]),1],["HtmlTextF",cx.Id(),1],["HtmlEmptyF",cx.Id(),1],["HtmlGuiPart",cx.Id(),1],["HtmlGuiCall",cx.DecodeTuple([cx.Id(),cx.Id(),cx.DecodeArray(cx.Id())]),1]]))();};b_.j$14=function(){return b_._v$14?b_._v$14:b_._v$14=(cx.DecodeUnion(void 0,"$",[null,[1,[["$0","Value",cx.Id(),0]]]]))();};b_.j$1=function(){return b_._v$1?b_._v$1:b_._v$1=(cx.DecodeUnion(G,"$",[[0,[["$0","address",cx.Id(),0]]]]))();};b_.j$2=function(){return b_._v$2?b_._v$2:b_._v$2=(cx.DecodeUnion(void 0,"type",[["MsgInformation",[]],["MsgRequest",[]],["MsgReply",[]],["MsgFromBroker",[]],["MsgRequestForId",[]],["MsgRequestForEcho",[]]]))();};b_.j$3=function(){return b_._v$3?b_._v$3:b_._v$3=(cx.DecodeUnion(void 0,"type",[["NoReply",[]],["Broker",[]],["Receiver",[]]]))();};b_.j=function(){return b_._v?b_._v:b_._v=(cx.DecodeRecord(void 0,[["from",b_.j$1,0],["destination",b_.j$1,0],["msgType",b_.j$2,0],["subtype",cx.Id(),0],["id",cx.Id(),0],["payload",cx.Id(),0],["replier",b_.j$3,0]]))();};b9.j$1=function(){return b9._v$1?b9._v$1:b9._v$1=(cx.EncodeUnion(G,"$",[[0,[["$0","address",cx.Id(),0]]]]))();};b9.j$2=function(){return b9._v$2?b9._v$2:b9._v$2=(cx.EncodeUnion(void 0,"type",[["MsgInformation",[]],["MsgRequest",[]],["MsgReply",[]],["MsgFromBroker",[]],["MsgRequestForId",[]],["MsgRequestForEcho",[]]]))();};b9.j$3=function(){return b9._v$3?b9._v$3:b9._v$3=(cx.EncodeUnion(void 0,"type",[["NoReply",[]],["Broker",[]],["Receiver",[]]]))();};b9.j=function(){return b9._v?b9._v:b9._v=(cx.EncodeRecord(void 0,[["from",b9.j$1,0],["destination",b9.j$1,0],["msgType",b9.j$2,0],["subtype",cx.Id(),0],["id",cx.Id(),0],["payload",cx.Id(),0],["replier",b9.j$3,0]]))();};b8.p=function(c3){return c3.$==5?"BMUnexpectedMsgType "+b8.p$2(c3.$0):c3.$==4?"BMReceiverCantReply":c3.$==3?"BMWebSocketError "+ch.prettyPrint(c3.$0):c3.$==2?"BMDestinationNotFound "+b8.p$1(c3.$0):c3.$==1?"BMOnlyBrokerShouldUse":"BMOk";};b8.p$3=function(c3){return c3.$==2?"FSInfor":c3.$==1?"FSWarning":"FSError";};b8.p$4=function(c3){return c3.$==1?"Snippet Not Found "+ch.prettyPrint(c3.$0):"FSMessage ("+ch.prettyPrint(c3.$0)+", "+b8.p$3(c3.$1)+")";};b8.p$5=function(c3){return c3.$==2?"Could not open new browser, Popup blocker may be active":c3.$==1?"Snippet Missing":"JsCompilerMsg ("+ch.prettyPrint(c3.$0)+", "+ch.prettyPrint(c3.$1)+")";};}());
