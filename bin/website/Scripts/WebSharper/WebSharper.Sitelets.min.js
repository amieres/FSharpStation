(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J;a=window;b=a.WebSharper=a.WebSharper||{};c=b.Sitelets=b.Sitelets||{};d=c.StringEncoding=c.StringEncoding||{};e=c.PathUtil=c.PathUtil||{};f=c.Route=c.Route||{};g=c.List=c.List||{};h=c.Router=c.Router||{};i=b&&b.Obj;j=c.RouterModule=c.RouterModule||{};k=j.ListArrayConverter=j.ListArrayConverter||{};l=c.RouterOperators=c.RouterOperators||{};m=a.StartupCode$WebSharper_Sitelets$Router=a.StartupCode$WebSharper_Sitelets$Router||{};n=b&&b.Strings;o=a.String;p=b&&b.List;q=b&&b.Seq;r=b&&b.Collections;s=r&&r.Map;t=b&&b.Arrays;u=a.IntelliFactory;v=u&&u.Runtime;w=r&&r.FSharpMap;x=b&&b.Unchecked;y=b&&b.Utils;z=a.console;A=b&&b.Lazy;B=b&&b.Nullable;C=b&&b.Numeric;D=b&&b.Concurrency;E=a.jQuery;F=b&&b.Operators;G=b&&b.Char;H=a.System;I=H&&H.Guid;J=b&&b.Slice;d.read=function(K){var L;L=[];return function(M){var N;while(true){N=d.readEscapedFromChars(M);if(N[0]===-2)return null;else if(N[0]===-1)return{$:1,$0:(function(O){return function(P){return n.concat(O,P);};}(""))(L)};else{L.push(o.fromCharCode(N[0]));M=N[1];}}}(p.ofSeq(q.map(function(M){return M.charCodeAt();},K)));};d.readEscapedFromChars=function(K){var L,M,N,O,P,Q,R,S;function T(){var V,W;return L.$==1?(V=L.$1,(W=L.$0,(L=V,W))):-1;}function U(V){return V>="0".charCodeAt()&&V<="9".charCodeAt()?V-"0".charCodeAt():V>="a".charCodeAt()&&V<="f".charCodeAt()?V-"a".charCodeAt()+10:V>="A".charCodeAt()&&V<="F".charCodeAt()?V-"A".charCodeAt()+10:-2;}L=K;return[(M=T(),M==="~".charCodeAt()?(N=T(),N==="u".charCodeAt()?(O=T(),(P=T(),(Q=T(),(R=T(),O>=0&&P>=0&&Q>=0&&R>=0?d.op_PlusPlus(d.op_PlusPlus(d.op_PlusPlus(U(O),U(P)),U(Q)),U(R)):-2)))):(S=T(),N>=0&&S>=0?d.op_PlusPlus(U(N),U(S)):-2)):M),L];};d.op_PlusPlus=function(K,L){return(K<<4)+L;};d.write=function(K){return n.concat("",q.mapi(function(L,M){return d.writeEscapedAsString(L+1===K.length,M);},K));};d.writeEscapedAsString=function(K,L){var M;M=L.charCodeAt();return d.isUnreserved(K,L)?L:M<256?"~"+n.PadLeftWith(M.toString(16),2,"0"):"~u"+n.PadLeftWith(M.toString(16),4,"0");};d.isUnreserved=function(K,L){return L==="-"||(L==="."?!K:L==="_"||(L>="A"&&L<="Z"||(L>="a"&&L<="z"||L>="0"&&L<="9")));};e.WriteLink=function(K,L){var M;M=L.get_IsEmpty()?"":"?"+e.WriteQuery(L);return"/"+e.Concat(K)+M;};e.WriteQuery=function(K){function L(M,N){return M+"="+N;}return n.concat("&",q.map(function(M){return L(M[0],M[1]);},s.ToSeq(K)));};e.Concat=function(K){var L,M;L=[];M=true;p.iter(function(N){if(!n.IsNullOrEmpty(N)){M?M=false:L.push("/");L.push(N);}},K);return n.Join("",t.ofSeq(L));};f=c.Route=v.Class({ToLink:function(){return e.WriteLink(this.Segments,this.QueryArgs);}},null,f);f.FromHash=function(K,L){var M,N;M=K.indexOf("#");return M===-1?f.get_Empty():(N=K.substring(M+1),L!=null&&L.$0?N===""||N==="/"?f.get_Empty():n.StartsWith(N,"/")?f.FromUrl(N.substring(1),{$:1,$0:true}):f.Segment$2(N):f.FromUrl(K.substring(M),{$:1,$0:false}));};f.FromUrl=function(K,L){var M,N,O;M=(N=K.indexOf("?"),N===-1?[K,new w.New([])]:[n.Substring(K,0,N),f.ParseQuery(K.substring(N+1))]);O=f.get_Empty();return f.New(p.ofArray(n.SplitChars(M[0],["/"],L!=null&&L.$0?0:1)),M[1],O.FormData,O.Method,O.Body);};f.WriteQuery=function(K){return e.WriteQuery(K);};f.ParseQuery=function(K){return s.OfArray(t.ofSeq(t.choose(function(L){var M,N;M=n.SplitChars(L,["="],0);return!x.Equals(M,null)&&M.length===2?(N=t.get(M,1),{$:1,$0:[t.get(M,0),N]}):((function(O){return function(P){return O("wrong format for query argument: "+y.toSafe(P));};}(function(O){z.log(O);}))(L),null);},n.SplitChars(K,["&"],0))));};f.Combine=function(K){var L,M,N,O,P,Q,R,S,T,U;R=t.ofSeq(K);S=t.length(R);if(S===0)return f.get_Empty();else if(S===1)return t.get(R,0);else{L=null;M=null;T=[];N=new w.New([]);O=new w.New([]);P=0;U=t.length(R);while(P<U)(function(){var V,W,X;V=t.get(R,P);W=V.Method;W!=null&&W.$==1?L=W:void 0;X=V.Body.f();X===null?void 0:M=X;N=s.FoldBack(function(Y,Z,_0){return _0.Add(Y,Z);},N,V.QueryArgs);O=s.FoldBack(function(Y,Z,_0){return _0.Add(Y,Z);},O,V.FormData);p.iter(function(Y){T.push(Y);},V.Segments);P=P+1;}());return f.New(p.ofSeq(T),N,O,L,A.CreateFromValue(M));}};f.Segment=function(K,L){var M;M=f.get_Empty();return f.New(K,M.QueryArgs,M.FormData,L,M.Body);};f.Segment$1=function(K){var L;L=f.get_Empty();return f.New(K,L.QueryArgs,L.FormData,L.Method,L.Body);};f.Segment$2=function(K){var L;L=f.get_Empty();return f.New(p.ofArray([K]),L.QueryArgs,L.FormData,L.Method,L.Body);};f.get_Empty=function(){return f.New(p.T.Empty,new w.New([]),new w.New([]),null,A.CreateFromValue(null));};f.New=function(K,L,M,N,O){return new f({Segments:K,QueryArgs:L,FormData:M,Method:N,Body:O});};g.startsWith=function(K,L){var M;switch(K.$==1?L.$==1?x.Equals(K.$0,L.$0)?(M=[L.$0,L.$1,K.$0,K.$1],1):2:2:0){case 0:return{$:1,$0:L};break;case 1:return g.startsWith(M[3],M[1]);break;case 2:return null;break;}};h.op_Addition=function(K,L){return h.New(function(M){return q.append(K.Parse(M),L.Parse(M));},K.Segment);};h.op_Division=function(K,L){return h.New(function(M){return q.collect(L.Parse,K.Parse(M));},q.append(K.Segment,L.Segment));};h.FromString=function(K){var L,M;L=n.SplitChars(K,["/"],1);return L.length==0?h.New(function(N){return[N];},[]):(M=p.ofArray(L),h.New(function(N){var O;O=g.startsWith(M,N.Segments);return O!=null&&O.$==1?[f.New(O.$0,N.QueryArgs,N.FormData,N.Method,N.Body)]:[];},[f.Segment$1(M)]));};h.New=function(K,L){return{Parse:K,Segment:L};};h.op_Addition$1=function(K,L){return h.New$1(function(M){return q.append(K.Parse(M),L.Parse(M));},function(M){var N;N=K.Write(M);return N==null?L.Write(M):N;});};h.op_Division$1=function(K,L){return h.New$1(function(M){function N(O,P){return q.map(function(Q){return[Q,P];},L.Parse(O));}return q.collect(function(O){return N(O[0],O[1]);},K.Parse(M));},function(M){var N;N=K.Write(M);return N==null?null:{$:1,$0:q.append(N.$0,L.Segment)};});};h.op_Division$2=function(K,L){return h.New$1(function(M){return q.collect(L.Parse,K.Parse(M));},function(M){var N;N=L.Write(M);return N==null?null:{$:1,$0:q.append(K.Segment,N.$0)};});};h.op_Division$3=function(K,L){return h.New$1(function(M){function N(O,P){function Q(R,S){return[R,[P,S]];}return q.map(function(R){return Q(R[0],R[1]);},L.Parse(O));}return q.collect(function(O){return N(O[0],O[1]);},K.Parse(M));},function(M){var N,O,P;N=K.Write(M[0]);O=L.Write(M[1]);return N!=null&&N.$==1&&(O!=null&&O.$==1&&(P=[N.$0,O.$0],true))?{$:1,$0:q.append(P[0],P[1])}:null;});};h.New$1=function(K,L){return{Parse:K,Write:L};};k=j.ListArrayConverter=v.Class({WebSharper_Sitelets_RouterModule_IListArrayConverter$ToArray:function(K){return t.ofList(K);},WebSharper_Sitelets_RouterModule_IListArrayConverter$OfArray:function(K){return p.ofArray(K);}},i,k);k.New=v.Ctor(function(){},k);j.Cast=function(K,L,M){return h.New$1(function(N){function O(P,Q){var R;R=K(Q);return R!=null&&R.$==1?{$:1,$0:[P,R.$0]}:null;}return q.choose(function(P){return O(P[0],P[1]);},M.Parse(N));},function(N){var O;O=L(N);return O==null?null:M.Write(O.$0);});};j.Unbox=function(K,L){return h.New$1(function(M){function N(O,P){var Q;Q=K(P);return Q!=null&&Q.$==1?{$:1,$0:[O,Q.$0]}:null;}return q.choose(function(O){return N(O[0],O[1]);},L.Parse(M));},L.Write);};j.Box=function(K,L){return h.New$1(function(M){function N(O,P){return[O,P];}return q.map(function(O){return N(O[0],O[1]);},L.Parse(M));},function(M){var N;N=K(M);return N==null?null:L.Write(N.$0);});};j.List=function(K){return j.Map(p.ofArray,t.ofList,j.Array(K));};j.Option=function(K){return h.New$1(function(L){var M,N;N=L.Segments;function O(P,Q){return[P,{$:1,$0:Q}];}switch(N.$==1?N.$0==="None"?(M=N.$1,0):N.$0==="Some"?(M=N.$1,1):2:2){case 0:return[[f.New(M,L.QueryArgs,L.FormData,L.Method,L.Body),null]];break;case 1:return q.map(function(P){return O(P[0],P[1]);},K.Parse(f.New(M,L.QueryArgs,L.FormData,L.Method,L.Body)));break;case 2:return[];break;}},function(L){var M,N,O;return L!=null&&L.$==1?(M=K.Write(L.$0),(N=(O=[f.Segment$2("Some")],function(P){return q.append(O,P);}),M==null?null:{$:1,$0:N(M.$0)})):{$:1,$0:[f.Segment$2("None")]};});};j.Nullable=function(K){return h.New$1(function(L){var M,N;function O(P,Q){return[P,Q];}M=L.Segments;return M.$==1&&(M.$0==="null"&&(N=M.$1,true))?[[f.New(N,L.QueryArgs,L.FormData,L.Method,L.Body),null]]:q.map(function(P){return O(P[0],P[1]);},K.Parse(L));},function(L){return L!=null?K.Write(B.get(L)):{$:1,$0:[f.Segment$2("null")]};});};j.Array=function(K){return h.New$1(function(L){var M,N,O;function P(Q,R,S){function T(U,V){return P(Q-1,U,new p.T({$:1,$0:V,$1:S}));}return Q===0?[[R,t.ofList(p.rev(S))]]:q.collect(function(U){return T(U[0],U[1]);},K.Parse(R));}M=L.Segments;return M.$==1?(N=(O=0,[C.TryParseInt32(M.$0,{get:function(){return O;},set:function(Q){O=Q;}}),O]),N[0]?P(N[1],f.New(M.$1,L.QueryArgs,L.FormData,L.Method,L.Body),p.T.Empty):[]):[];},function(L){var M;M=t.map(K.Write,L);return t.forall(function(N){return N!=null;},M)?{$:1,$0:q.append([f.Segment$2(o(t.length(L)))],q.collect(function(N){return N.$0;},M))}:null;});};j.Delay=function(K){var L;L=A.Create(K);return h.New$1(function(M){return L.f().Parse(M);},function(M){return L.f().Write(M);});};j.Single=function(K,L){var M,N;M=n.SplitChars(L,["/"],1);return M.length==0?h.New$1(function(O){return[[O,K]];},function(O){return x.Equals(O,K)?{$:1,$0:[]}:null;}):(N=p.ofArray(M),h.New$1(function(O){var P;P=g.startsWith(N,O.Segments);return P!=null&&P.$==1?[[f.New(P.$0,O.QueryArgs,O.FormData,O.Method,O.Body),K]]:[];},function(O){return x.Equals(O,K)?{$:1,$0:[f.Segment$1(N)]}:null;}));};j.Table=function(K){function L(M,N){return j.MapTo(M,h.FromString(N));}return j.Sum(q.map(function(M){return L(M[0],M[1]);},K));};j.Sum=function(K){var L;L=t.ofSeq(K);return h.New$1(function(M){return q.collect(function(N){return N.Parse(M);},L);},function(M){return q.tryPick(function(N){return N.Write(M);},L);});};j.MapTo=function(K,L){return h.New$1(function(M){return q.map(function(N){return[N,K];},L.Parse(M));},function(M){return x.Equals(M,K)?{$:1,$0:L.Segment}:null;});};j.Filter=function(K,L){return h.New$1(function(M){function N(O){return O[1];}return q.filter(function(O){return K(N(O));},L.Parse(M));},function(M){return K(M)?L.Write(M):null;});};j.TryMap=function(K,L,M){return h.New$1(function(N){function O(P,Q){var R;R=K(Q);return R==null?null:{$:1,$0:[P,R.$0]};}return q.choose(function(P){return O(P[0],P[1]);},M.Parse(N));},function(N){var O;O=L(N);return O==null?null:M.Write(O.$0);});};j.Map=function(K,L,M){return h.New$1(function(N){function O(P,Q){return[P,K(Q)];}return q.map(function(P){return O(P[0],P[1]);},M.Parse(N));},function(N){return M.Write(L(N));});};j.Embed=function(K,L,M){return h.New$1(function(N){function O(P,Q){return[P,K(Q)];}return q.map(function(P){return O(P[0],P[1]);},M.Parse(N));},function(N){var O;O=L(N);return O==null?null:M.Write(O.$0);});};j.Slice=function(K,L,M){return h.New$1(function(N){function O(P,Q){var R;R=K(Q);return R==null?null:{$:1,$0:[P,R.$0]};}return q.choose(function(P){return O(P[0],P[1]);},M.Parse(N));},function(N){return M.Write(L(N));});};j.HashLink=function(K,L){return"#"+j.Link(K,L);};j.Ajax=function(K,L){var M,N,O,P,Q,R,S;M=j.Write(K,L);return M!=null&&M.$==1?(N=M.$0,(O=(P={},P.dataType="text",P),(Q=N.Method,Q!=null&&Q.$==1?O.type=Q.$0:void 0,R=N.Body.f(),R===null?(!N.FormData.get_IsEmpty()?(S=new a.FormData(),s.Iterate(function(T,U){return S.append(T,U);},N.FormData),O.contentType=false,O.data=S,O.processData=false):void 0,N.Method==null?O.type="POST":void 0):(O.contentType="application/json",O.data=R,O.processData=false,N.Method==null?O.type="POST":void 0),D.FromContinuations(function(T,U){O.success=function(V){return T(V);};O.error=function(V,W,X){return U(a.Error(X));};E.ajax(N.ToLink(),O);})))):F.FailWith("Failed to map endpoint to request");};j.Link=function(K,L){var M;M=j.Write(K,L);return M==null?"":M.$0.ToLink();};j.TryLink=function(K,L){var M;M=j.Write(K,L);return M==null?null:{$:1,$0:M.$0.ToLink()};};j.Write=function(K,L){var M;M=K.Write(L);return M==null?null:{$:1,$0:f.Combine(M.$0)};};j.Parse=function(K,L){function M(N,O){return N.Segments.$==0?{$:1,$0:O}:null;}return q.tryPick(function(N){return M(N[0],N[1]);},K.Parse(L));};j.FormData=function(K){return h.New$1(function(L){function M(N,O){return[L,O];}return q.map(function(N){return M(N[0],N[1]);},K.Parse(f.New(L.Segments,L.FormData,L.FormData,L.Method,L.Body)));},function(L){var M;M=K.Write(L);return M==null?null:{$:1,$0:q.map(function(N){return f.New(N.Segments,new w.New([]),N.QueryArgs,N.Method,N.Body);},M.$0)};});};j.Body=function(K,L){return h.New$1(function(M){var N,O;N=M.Body.f();return N===null?[]:(O=K(N),O!=null&&O.$==1?[[f.New(M.Segments,M.QueryArgs,M.FormData,M.Method,A.CreateFromValue(null)),O.$0]]:[]);},function(M){var N;return{$:1,$0:[(N=f.get_Empty(),f.New(N.Segments,N.QueryArgs,N.FormData,N.Method,A.CreateFromValue(L(M))))]};});};j.Method=function(K){var L;return h.New(function(M){var N,O;N=M.Method;return N!=null&&N.$==1&&(N.$0===K&&(O=N.$0,true))?[M]:[];},[(L=f.get_Empty(),f.New(L.Segments,L.QueryArgs,L.FormData,{$:1,$0:K},L.Body))]);};j.QueryNullable=function(K,L){return h.New$1(function(M){var N,O,P;function Q(R,S){return[f.New(M.Segments,O,M.FormData,M.Method,M.Body),S];}N=M.QueryArgs.TryFind(K);return N!=null&&N.$==1?(O=M.QueryArgs.Remove(K),q.map(function(R){return Q(R[0],R[1]);},L.Parse((P=f.get_Empty(),f.New(p.ofArray([N.$0]),P.QueryArgs,P.FormData,P.Method,P.Body))))):[[M,null]];},function(M){var N,O,P,Q;return M!=null?(N=L.Write(B.get(M)),N==null?null:{$:1,$0:(O=f.Combine(N.$0).Segments,O.$==1&&(O.$1.$==0&&(P=O.$0,true))?[(Q=f.get_Empty(),f.New(Q.Segments,s.OfArray(t.ofSeq(p.ofArray([[K,P]]))),Q.FormData,Q.Method,Q.Body))]:[])}):{$:1,$0:[]};});};j.QueryOption=function(K,L){return h.New$1(function(M){var N,O,P;function Q(R,S){return[f.New(M.Segments,O,M.FormData,M.Method,M.Body),{$:1,$0:S}];}N=M.QueryArgs.TryFind(K);return N!=null&&N.$==1?(O=M.QueryArgs.Remove(K),q.map(function(R){return Q(R[0],R[1]);},L.Parse((P=f.get_Empty(),f.New(p.ofArray([N.$0]),P.QueryArgs,P.FormData,P.Method,P.Body))))):[[M,null]];},function(M){var N,O,P,Q;return M!=null&&M.$==1?(N=L.Write(M.$0),N==null?null:{$:1,$0:(O=f.Combine(N.$0).Segments,O.$==1&&(O.$1.$==0&&(P=O.$0,true))?[(Q=f.get_Empty(),f.New(Q.Segments,s.OfArray(t.ofSeq(p.ofArray([[K,P]]))),Q.FormData,Q.Method,Q.Body))]:[])}):{$:1,$0:[]};});};j.Query=function(K,L){return h.New$1(function(M){var N,O,P;function Q(R,S){return[f.New(M.Segments,O,M.FormData,M.Method,M.Body),S];}N=M.QueryArgs.TryFind(K);return N!=null&&N.$==1?(O=M.QueryArgs.Remove(K),q.map(function(R){return Q(R[0],R[1]);},L.Parse((P=f.get_Empty(),f.New(p.ofArray([N.$0]),P.QueryArgs,P.FormData,P.Method,P.Body))))):[];},function(M){var N,O,P,Q;N=L.Write(M);return N==null?null:{$:1,$0:(O=f.Combine(N.$0).Segments,O.$==1&&(O.$1.$==0&&(P=O.$0,true))?[(Q=f.get_Empty(),f.New(Q.Segments,s.OfArray(t.ofSeq(p.ofArray([[K,P]]))),Q.FormData,Q.Method,Q.Body))]:[])};});};j.CreateWithQuery=function(K,L){return h.New$1(function(M){return[[f.New(p.T.Empty,M.QueryArgs,M.FormData,M.Method,M.Body),L(M.Segments,M.QueryArgs)]];},function(M){var N,O;N=K(M);return{$:1,$0:[(O=f.get_Empty(),f.New(N[0],N[1],O.FormData,O.Method,O.Body))]};});};j.Create=function(K,L){return h.New$1(function(M){return[[f.New(p.T.Empty,M.QueryArgs,M.FormData,M.Method,M.Body),L(M.Segments)]];},function(M){return{$:1,$0:[f.Segment$1(K(M))]};});};j.New=function(K,L){return{WebSharper_Sitelets_IRouter_1$Route:K,WebSharper_Sitelets_IRouter_1$Link:L};};j.Empty=function(){m.$cctor();return m.Empty;};l.JSClass=function(K,L,M,N){var O,P;function Q(T){function U(V,W,X){var Y;return W?(Y=T[V],x.Equals(Y,void 0)?null:{$:1,$0:Y}):T[V];}return t.map(function(V){return U(V[0],V[1],V[2]);},L);}function R(T){var U;function V(W,X,Y){return function(Z){if(X){if(Z!=null&&Z.$==1)U[W]=Z.$0;}else U[W]=Z;};}U=K();(((v.Curried3(t.iter2))(function(W,X){return(function(Y){return V(Y[0],Y[1],Y[2]);}(W))(X);}))(L))(T);return U;}function S(T,U){return[T,p.ofSeq(q.map(function(V){return typeof V=="number"?{$:1,$0:[V,(t.get(L,V))[2]]}:{$:0,$0:V};},U))];}O=t.map(function(T){return S(T[0],T[1]);},M);P=h.New$1(function(T){function U(W,X,Y){var Z,_0,_1,_2;function _3(_4,_5){var _6;_6=Y.slice();t.set(_6,Z,_5);return U(_0,_4,_6);}return W.$==1?W.$0.$==1?(Z=W.$0.$0[0],(_0=W.$1,q.collect(function(_4){return _3(_4[0],_4[1]);},W.$0.$0[1].Parse(X)))):(_1=X.Segments,_1.$==1&&(_1.$0===W.$0.$0&&(_2=[_1.$0,_1.$1],true))?U(W.$1,f.New(_2[1],X.QueryArgs,X.FormData,X.Method,X.Body),Y):[]):[[X,R(Y)]];}function V(W,X){return l.isCorrectMethod(W,T.Method)?U(X,T,t.create(t.length(L),null)):[];}return q.collect(function(W){return V(W[0],W[1]);},O);},function(T){var U,V,W,X,Y,Z;U=Q(T);V=t.get(M,0);W=V[0];X=t.map(function(_0){return typeof _0=="number"?(t.get(L,_0))[2].Write(t.get(U,_0)):{$:1,$0:[f.Segment$2(_0)]};},V[1]);return t.forall(function(_0){return _0!=null;},X)?(Y=q.collect(function(_0){return _0.$0;},X),W==null?{$:1,$0:Y}:{$:1,$0:q.append([(Z=f.get_Empty(),f.New(Z.Segments,Z.QueryArgs,Z.FormData,W,Z.Body))],Y)}):null;});return N.length==0?P:j.Sum(q.append(N,[P]));};l.JSUnion=function(K,L){var M;function N(R){var S;function T(U){return U!=null&&U.$==1&&x.Equals(R,U.$0);}S=q.tryFindIndex(function(U){return T(U[0]);},L);return S!=null&&S.$==1?S.$0:R.$;}function O(R,S){return t.init(t.length((t.get(L,R))[2]),function(T){return S["$"+o(T)];});}function P(R,S){var T,U,V;T=K==null?{}:new K();U=t.get(L,R);return(V=U[0],V!=null&&V.$==1)?U[0].$0:(T.$=R,q.iteri(function(W,X){T["$"+o(W)]=X;},S),T);}function Q(R,S){var T;function U(V,W){return[R,V,W,T];}T=S[2];return q.map(function(V){return U(V[0],V[1]);},S[1]);}M=q.collect(function(R){return Q(R[0],R[1]);},q.indexed(L));return h.New$1(function(R){function S(T,U,V,W){var X,Y,Z;function _0(_1,_2,_3){var _4;function _5(_6,_7){return _0(_4,_6,new p.T({$:1,$0:_7,$1:_3}));}return _1.$==1?(_4=_1.$1,q.collect(function(_6){return _5(_6[0],_6[1]);},_1.$0.Parse(_2))):[[_2,P(T,t.ofList(p.rev(_3)))]];}return l.isCorrectMethod(U,R.Method)?(X=g.startsWith(p.ofArray(V),R.Segments),X==null?[]:(Y=X.$0,(Z=p.ofArray(W),Z.$==0?[[f.New(Y,R.QueryArgs,R.FormData,R.Method,R.Body),P(T,[])]]:_0(Z,f.New(Y,R.QueryArgs,R.FormData,R.Method,R.Body),p.T.Empty)))):[];}return q.collect(function(T){return S(T[0],T[1],T[2],T[3]);},M);},function(R){var S,T,U,V,W,X;function Y(Z,_0){return _0.Write(Z);}S=N(R);T=t.get(L,S);U=T[2];V=t.get(T[1],0);W=[f.Segment(p.ofArray(V[1]),V[0])];return!x.Equals(U,null)&&U.length===0?{$:1,$0:W}:(X=(((v.Curried3(t.map2))(Y))(O(S,R)))(U),t.forall(function(Z){return Z!=null;},X)?{$:1,$0:q.append(W,q.collect(function(Z){return Z.$0;},X))}:null);});};l.isCorrectMethod=function(K,L){return L!=null&&L.$==1?K!=null&&K.$==1?x.Equals(L.$0,K.$0):true:!(K!=null&&K.$==1);};l.JSRecord=function(K,L){var M,N;function O(R){function S(T,U,V){var W;return U?(W=R[T],x.Equals(W,void 0)?null:{$:1,$0:W}):R[T];}return t.map(function(T){return S(T[0],T[1],T[2]);},L);}function P(R){var S;function T(U,V,W){return function(X){if(V){if(X!=null&&X.$==1)S[U]=X.$0;}else S[U]=X;};}S=K==null?{}:new K();(((v.Curried3(t.iter2))(function(U,V){return(function(W){return T(W[0],W[1],W[2]);}(U))(V);}))(L))(R);return S;}function Q(R,S,T){return T;}M=t.map(function(R){return Q(R[0],R[1],R[2]);},L);N=p.ofArray(M);return h.New$1(function(R){function S(T,U,V){var W;function X(Y,Z){return S(W,Y,new p.T({$:1,$0:Z,$1:V}));}return T.$==1?(W=T.$1,q.collect(function(Y){return X(Y[0],Y[1]);},T.$0.Parse(U))):[[U,P(t.ofList(p.rev(V)))]];}return S(N,R,p.T.Empty);},function(R){var S;function T(U,V){return V.Write(U);}S=(((v.Curried3(t.map2))(T))(O(R)))(M);return t.forall(function(U){return U!=null;},S)?{$:1,$0:q.collect(function(U){return U.$0;},S)}:null;});};l.JSTuple=function(K){return l.Tuple(function(L){return t.init(t.length(K),function(M){return L[M];});},a.id,K);};l.Tuple=function(K,L,M){return h.New$1(function(N){function O(P,Q,R){var S;function T(U,V){return O(S,U,new p.T({$:1,$0:V,$1:R}));}return P.$==1?(S=P.$1,q.collect(function(U){return T(U[0],U[1]);},P.$0.Parse(Q))):[[Q,L(t.ofList(p.rev(R)))]];}return O(p.ofArray(M),N,p.T.Empty);},function(N){var O;function P(Q,R){return R.Write(Q);}O=(((v.Curried3(t.map2))(P))(K(N)))(M);return t.forall(function(Q){return Q!=null;},O)?{$:1,$0:q.collect(function(Q){return Q.$0;},O)}:null;});};l.rDateTime=function(){m.$cctor();return m.rDateTime;};l.rWildcardList=function(K){return h.New$1(function(L){function M(N,O){function P(Q,R){return M(Q,new p.T({$:1,$0:R,$1:O}));}return N.Segments.$==0?[[N,p.rev(O)]]:q.collect(function(Q){return P(Q[0],Q[1]);},K.Parse(N));}return M(L,p.T.Empty);},function(L){var M;M=p.map(K.Write,L);return p.forAll(function(N){return N!=null;},M)?{$:1,$0:q.collect(function(N){return N.$0;},M)}:null;});};l.rWildcardArray=function(K){return h.New$1(function(L){function M(N,O){function P(Q,R){return M(Q,new p.T({$:1,$0:R,$1:O}));}return N.Segments.$==0?[[N,t.ofList(p.rev(O))]]:q.collect(function(Q){return P(Q[0],Q[1]);},K.Parse(N));}return M(L,p.T.Empty);},function(L){var M;M=t.map(K.Write,L);return t.forall(function(N){return N!=null;},M)?{$:1,$0:q.collect(function(N){return N.$0;},M)}:null;});};l.rWildcard=function(){m.$cctor();return m.rWildcard;};l.rBool=function(){m.$cctor();return m.rBool;};l.rSingle=function(){m.$cctor();return m.rSingle;};l.rUInt64=function(){m.$cctor();return m.rUInt64;};l.rInt64=function(){m.$cctor();return m.rInt64;};l.rUInt=function(){m.$cctor();return m.rUInt;};l.rUInt16=function(){m.$cctor();return m.rUInt16;};l.rInt16=function(){m.$cctor();return m.rInt16;};l.rByte=function(){m.$cctor();return m.rByte;};l.rSByte=function(){m.$cctor();return m.rSByte;};l.rDouble=function(){m.$cctor();return m.rDouble;};l.rInt=function(){m.$cctor();return m.rInt;};l.rGuid=function(){m.$cctor();return m.rGuid;};l.rChar=function(){m.$cctor();return m.rChar;};l.rString=function(){m.$cctor();return m.rString;};l.rRoot=function(){m.$cctor();return m.rRoot;};m.$cctor=function(){m.$cctor=a.ignore;function K(L){var M,N;M=(N=0,[C.TryParseInt32(L,{get:function(){return N;},set:function(O){N=O;}}),N]);return M[0]?{$:1,$0:M[1]}:null;}m.Empty=h.New$1(function(){return[];},function(){return null;});m.rRoot=h.New(function(L){return[L];},[]);m.rString=h.New$1(function(L){var M,N;M=L.Segments;return M.$==1?(N=d.read(M.$0),N!=null&&N.$==1?[[f.New(M.$1,L.QueryArgs,L.FormData,L.Method,L.Body),N.$0]]:[]):[];},function(L){return{$:1,$0:[f.Segment$2(L==null?"null":d.write(L))]};});m.rChar=h.New$1(function(L){var M,N,O;M=L.Segments;return M.$==1?(N=d.read(M.$0),N!=null&&N.$==1&&(N.$0.length===1&&(O=N.$0,true))?[[f.New(M.$1,L.QueryArgs,L.FormData,L.Method,L.Body),G.Parse(O)]]:[]):[];},function(L){return{$:1,$0:[f.Segment$2(L)]};});m.rGuid=h.New$1(function(L){var M,N;M=L.Segments;return M.$==1?(N=null,I.TryParse(M.$0,{get:function(){return N;},set:function(O){N=O;}})?[[f.New(M.$1,L.QueryArgs,L.FormData,L.Method,L.Body),N]]:[]):[];},function(L){return{$:1,$0:[f.Segment$2(o(L))]};});m.rInt=h.New$1(function(L){var M,N;M=L.Segments;return M.$==1?(N=0,C.TryParseInt32(M.$0,{get:function(){return N;},set:function(O){N=O;}})?[[f.New(M.$1,L.QueryArgs,L.FormData,L.Method,L.Body),N]]:[]):[];},function(L){return{$:1,$0:[f.Segment$2(o(L))]};});m.rDouble=h.New$1(function(L){var M,N,O;M=L.Segments;return M.$==1?(N=0,(O=a.Number(M.$0),a.isNaN(O)?false:(N=O,true))?[[f.New(M.$1,L.QueryArgs,L.FormData,L.Method,L.Body),N]]:[]):[];},function(L){return{$:1,$0:[f.Segment$2(o(L))]};});m.rSByte=h.New$1(function(L){var M,N;M=L.Segments;return M.$==1?(N=0,C.TryParseSByte(M.$0,{get:function(){return N;},set:function(O){N=O;}})?[[f.New(M.$1,L.QueryArgs,L.FormData,L.Method,L.Body),N]]:[]):[];},function(L){return{$:1,$0:[f.Segment$2(o(L))]};});m.rByte=h.New$1(function(L){var M,N;M=L.Segments;return M.$==1?(N=0,C.TryParseByte(M.$0,{get:function(){return N;},set:function(O){N=O;}})?[[f.New(M.$1,L.QueryArgs,L.FormData,L.Method,L.Body),N]]:[]):[];},function(L){return{$:1,$0:[f.Segment$2(o(L))]};});m.rInt16=h.New$1(function(L){var M,N;M=L.Segments;return M.$==1?(N=0,C.TryParseInt16(M.$0,{get:function(){return N;},set:function(O){N=O;}})?[[f.New(M.$1,L.QueryArgs,L.FormData,L.Method,L.Body),N]]:[]):[];},function(L){return{$:1,$0:[f.Segment$2(o(L))]};});m.rUInt16=h.New$1(function(L){var M,N;M=L.Segments;return M.$==1?(N=0,C.TryParseUInt16(M.$0,{get:function(){return N;},set:function(O){N=O;}})?[[f.New(M.$1,L.QueryArgs,L.FormData,L.Method,L.Body),N]]:[]):[];},function(L){return{$:1,$0:[f.Segment$2(o(L))]};});m.rUInt=h.New$1(function(L){var M,N;M=L.Segments;return M.$==1?(N=0,C.TryParseUInt32(M.$0,{get:function(){return N;},set:function(O){N=O;}})?[[f.New(M.$1,L.QueryArgs,L.FormData,L.Method,L.Body),N]]:[]):[];},function(L){return{$:1,$0:[f.Segment$2(o(L))]};});m.rInt64=h.New$1(function(L){var M,N;M=L.Segments;return M.$==1?(N=0,C.TryParseInt64(M.$0,{get:function(){return N;},set:function(O){N=O;}})?[[f.New(M.$1,L.QueryArgs,L.FormData,L.Method,L.Body),N]]:[]):[];},function(L){return{$:1,$0:[f.Segment$2(o(L))]};});m.rUInt64=h.New$1(function(L){var M,N;M=L.Segments;return M.$==1?(N=0,C.TryParseUInt64(M.$0,{get:function(){return N;},set:function(O){N=O;}})?[[f.New(M.$1,L.QueryArgs,L.FormData,L.Method,L.Body),N]]:[]):[];},function(L){return{$:1,$0:[f.Segment$2(o(L))]};});m.rSingle=h.New$1(function(L){var M,N,O;M=L.Segments;return M.$==1?(N=0,(O=a.Number(M.$0),a.isNaN(O)?false:(N=O,true))?[[f.New(M.$1,L.QueryArgs,L.FormData,L.Method,L.Body),N]]:[]):[];},function(L){return{$:1,$0:[f.Segment$2(o(L))]};});m.rBool=h.New$1(function(L){var M,N,O;M=L.Segments;return M.$==1?(N=(O=null,[C.TryParseBool(M.$0,{get:function(){return O;},set:function(P){O=P;}}),O]),N[0]?[[f.New(M.$1,L.QueryArgs,L.FormData,L.Method,L.Body),N[1]]]:[]):[];},function(L){return{$:1,$0:[f.Segment$2(L?"True":"False")]};});m.rWildcard=h.New$1(function(L){return[[f.New(p.T.Empty,L.QueryArgs,L.FormData,L.Method,L.Body),n.concat("/",L.Segments)]];},function(L){return{$:1,$0:[f.Segment$2(L)]};});m.rDateTime=h.New$1(function(L){var M,N,O,P,Q,R,S,T,U;M=L.Segments;return M.$==1?(N=M.$0,N.length===19&&N[4]==="-"&&N[7]==="-"&&N[10]==="-"&&N[13]==="."&&N[16]==="."?(O=K(J.string(N,{$:1,$0:0},{$:1,$0:3})),(P=K(J.string(N,{$:1,$0:5},{$:1,$0:6})),(Q=K(J.string(N,{$:1,$0:8},{$:1,$0:9})),(R=K(J.string(N,{$:1,$0:11},{$:1,$0:12})),(S=K(J.string(N,{$:1,$0:14},{$:1,$0:15})),(T=K(J.string(N,{$:1,$0:17},{$:1,$0:18})),O!=null&&O.$==1&&(P!=null&&P.$==1&&(Q!=null&&Q.$==1&&(R!=null&&R.$==1&&(S!=null&&S.$==1&&(T!=null&&T.$==1&&(U=[Q.$0,R.$0,P.$0,S.$0,T.$0,O.$0],true))))))?[[f.New(M.$1,L.QueryArgs,L.FormData,L.Method,L.Body),(new a.Date(U[5],U[2]-1,U[0],U[1],U[3],U[4])).getTime()]]:[])))))):[]):[];},function(L){var M,N;function O(P){var Q;Q=o(P);return Q.length===1?"0"+Q:Q;}return{$:1,$0:[f.Segment$2((M=o((new a.Date(L)).getFullYear()),(N=M.length,N===1?"000"+M:N===2?"00"+M:N===3?"0"+M:M))+"-"+O((new a.Date(L)).getMonth()+1)+"-"+O((new a.Date(L)).getDate())+"-"+O((new a.Date(L)).getHours())+"."+O((new a.Date(L)).getMinutes())+"."+O((new a.Date(L)).getSeconds()))]};});};}());
