(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw;a=window;b=a.FSSGlobal=a.FSSGlobal||{};c=b.Useful=b.Useful||{};d=c.Option=c.Option||{};e=c.ExceptionThrown=c.ExceptionThrown||{};f=c.ErrOptionIsNone=c.ErrOptionIsNone||{};g=c.ErrSimple=c.ErrSimple||{};h=c.Result=c.Result||{};i=h.ropBuilder=h.ropBuilder||{};j=c.Wrap=c.Wrap||{};k=j.Builder=j.Builder||{};l=c.Async=c.Async||{};m=c.Dict=c.Dict||{};n=c.String=c.String||{};o=c.ResetableMemoize=c.ResetableMemoize||{};p=c.PreproDirective=c.PreproDirective||{};q=b.FsStationShared=b.FsStationShared||{};r=q.MessagingClient=q.MessagingClient||{};s=q.GenSeverity=q.GenSeverity||{};t=q.CodeSnippetId=q.CodeSnippetId||{};u=q.CodeSnippet=q.CodeSnippet||{};v=q.FSMessage=q.FSMessage||{};w=q.FSSeverity=q.FSSeverity||{};x=q.FsStationClientErr=q.FsStationClientErr||{};y=q.FsStationClient=q.FsStationClient||{};z=b.FsEvaluator=b.FsEvaluator||{};A=z.Evaluator=z.Evaluator||{};B=b.FsTranslator=b.FsTranslator||{};C=b.FSAutoCompleteIntermediary=b.FSAutoCompleteIntermediary||{};D=C.CommTypes=C.CommTypes||{};E=D.ResponseError=D.ResponseError||{};F=D.Location=D.Location||{};G=D.CompletionResponse=D.CompletionResponse||{};H=D.OverloadDescription=D.OverloadDescription||{};I=D.OverloadParameter=D.OverloadParameter||{};J=D.Overload=D.Overload||{};K=D.Parameter=D.Parameter||{};L=D.SignatureData=D.SignatureData||{};M=D.MethodResponse=D.MethodResponse||{};N=D.SymbolUseRange=D.SymbolUseRange||{};O=D.SymbolUseResponse=D.SymbolUseResponse||{};P=D.HelpTextResponse=D.HelpTextResponse||{};Q=D.CompilerLocationResponse=D.CompilerLocationResponse||{};R=D.FSharpErrorInfo=D.FSharpErrorInfo||{};S=D.ErrorResponse=D.ErrorResponse||{};T=D.Colorization=D.Colorization||{};U=D.Declaration=D.Declaration||{};V=D.DeclarationResponse=D.DeclarationResponse||{};W=D.OpenNamespace=D.OpenNamespace||{};X=D.QualifySymbol=D.QualifySymbol||{};Y=D.ResolveNamespaceResponse=D.ResolveNamespaceResponse||{};Z=D.UnionCaseResponse=D.UnionCaseResponse||{};_0=D.ACMessage=D.ACMessage||{};_1=C.FSAutoCompleteIntermediaryClient=C.FSAutoCompleteIntermediaryClient||{};_2=b.HtmlNode=b.HtmlNode||{};_3=_2.Val=_2.Val||{};_4=_3.HelperType=_3.HelperType||{};_5=_3.valBuilder=_3.valBuilder||{};_6=_2.HtmlNode=_2.HtmlNode||{};_7=b.Template=b.Template||{};_8=_7.Button=_7.Button||{};_9=_7.Input=_7.Input||{};_=_7.Hoverable=_7.Hoverable||{};$=_7.TextArea=_7.TextArea||{};ba=_7.CodeMirrorPos=_7.CodeMirrorPos||{};bb=_7.CodeMirrorEditor=_7.CodeMirrorEditor||{};bc=_7.CodeMirror=_7.CodeMirror||{};bd=_7.Hint=_7.Hint||{};be=_7.HintResponse=_7.HintResponse||{};bf=_7.HintOptions=_7.HintOptions||{};bg=_7.LintResponse=_7.LintResponse||{};bh=_7.SplitterBar=_7.SplitterBar||{};bi=_7.SectionType=_7.SectionType||{};bj=_7.Grid=_7.Grid||{};bk=_7.TabStrip=_7.TabStrip||{};bl=_7.MenuEntry=_7.MenuEntry||{};bm=_7.MenuNode=_7.MenuNode||{};bn=_7.Menu=_7.Menu||{};bo=_7.Action=_7.Action||{};bp=_7.GuiPart=_7.GuiPart||{};bq=_7.HtmlNodeFable=_7.HtmlNodeFable||{};br=_7.LayoutDescriptionFable=_7.LayoutDescriptionFable||{};bs=_7.GuiPartSourceId=_7.GuiPartSourceId||{};bt=_7.Layout=_7.Layout||{};bu=b.RunCode=b.RunCode||{};bv=bu.RunNode=bu.RunNode||{};bw=b.FSharpStation=b.FSharpStation||{};bx=bw.FsGlobal=bw.FsGlobal||{};by=bx.Position=bx.Position||{};bz=bx.ErrCompiler=bx.ErrCompiler||{};bA=bx.KeyMapAutoComplete=bx.KeyMapAutoComplete||{};bB=bx.Property=bx.Property||{};bC=bx.PropValue=bx.PropValue||{};bD=bx.CodeSnippet=bx.CodeSnippet||{};bE=bw.FableModule=bw.FableModule||{};bF=bE.Babel=bE.Babel||{};bG=bE.Fable=bE.Fable||{};bH=a.StartupCode$FSharpStation$FSharpStation=a.StartupCode$FSharpStation$FSharpStation||{};bI=a.FSharpStation_JsonDecoder=a.FSharpStation_JsonDecoder||{};bJ=a.FSharpStation_JsonEncoder=a.FSharpStation_JsonEncoder||{};bK=a.GeneratedPrintf=a.GeneratedPrintf||{};bL=a.FSharpStation_GeneratedPrintf=a.FSharpStation_GeneratedPrintf||{};bM=a.IntelliFactory;bN=bM&&bM.Runtime;bO=a.WebSharper;bP=bO&&bO.Utils;bQ=bO&&bO.Strings;bR=bO&&bO.List;bS=bO&&bO.Seq;bT=bO&&bO.Concurrency;bU=a.console;bV=bO&&bO.Collections;bW=bV&&bV.Dictionary;bX=bO&&bO.CancellationTokenSource;bY=bO&&bO.Arrays;bZ=bO&&bO.Unchecked;b0=a.JSON;b1=a.Date;b2=b&&b.UsefulDotNet;b3=b2&&b2.Messaging;b4=bO&&bO.Remoting;b5=bO&&bO.Guid;b6=bO&&bO.Option;b7=bO&&bO.Slice;b8=b4&&b4.AjaxRemotingProvider;b9=bO&&bO.UI;b_=b9&&b9.Next;b$=b_&&b_.View;ca=b_&&b_.Doc;cb=bO&&bO.Operators;cc=b_&&b_.AttrModule;cd=b_&&b_.AttrProxy;ce=b_&&b_.Var;cf=b_&&b_.Input;cg=cf&&cf.Mouse;ch=bV&&bV.FSharpSet;ci=bV&&bV.BalancedTree;cj=bV&&bV.Map;ck=bO&&bO.MatchFailureException;cl=bO&&bO.Json;cm=cl&&cl.Provider;cn=a.Object;co=a.Fable;cp=a.Babel;cq=bV&&bV.HashSet;cr=bO&&bO.JavaScript;cs=cr&&cr.JSModule;ct=bO&&bO.Lazy;cu=a.jQuery;cv=bV&&bV.FSharpMap;cw=b_&&b_.ListModel;d.modify=function(cx){var cy;function cz(cA){return cA==null?null:{$:1,$0:cx(cA.$0)};}cy=function(cA){return d.defaultValue(a.id,cA);};return function(cA){return cy(cz(cA));};};d.apply=function(cx,cy){var cz;return cx!=null&&cx.$==1&&(cy!=null&&cy.$==1&&(cz=[cy.$0,cx.$0],true))?{$:1,$0:cz[0](cz[1])}:null;};d.iterFO=function(cx,cy){if(cx!=null&&cx.$==1)if(cy!=null&&cy.$==1)cy.$0(cx.$0);};d.iterF=function(cx,cy){if(cy!=null&&cy.$==1)cy.$0(cx);};d.call=function(cx,cy){return cy!=null&&cy.$==1?{$:1,$0:cy.$0(cx)}:null;};d.defaultWith=function(cx,cy){return cy==null?cx():cy.$0;};d.defaultValue=function(cx,cy){return cy==null?cx:cy.$0;};e=c.ExceptionThrown=bN.Class({toString:function(){return this.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return false;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return(function(cx){return function(cy){return cx(bP.prettyPrint(cy));};}(a.id))(this.exn);}},bO.Obj,e);e.New=bN.Ctor(function(cx){this.exn=cx;},e);f=c.ErrOptionIsNone=bN.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return false;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return"Option is None";}},bO.Obj,f);f.New=bN.Ctor(function(){},f);g=c.ErrSimple=bN.Class({toString:function(){return this.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return this.warning;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return this.msg;}},bO.Obj,g);g.New=bN.Ctor(function(cx,cy){this.msg=cx;this.warning=cy;},g);i=h.ropBuilder=bN.Class({Combine:function(cx,cy){return(h.combine(cx))(cy);},Delay:function(cx){return cx();},Zero:function(){return h.succeed();},Using:function(cx,cy){try{return cy(cx);}finally{cx.Dispose();}},Bind:function(cx,cy){return h.bind(function(cz){return h.tryCall(cy,cz);},cx);},ReturnFrom:a.id,Return:function(cx){return h.succeed(cx);}},bO.Obj,i);i.New=bN.Ctor(function(){},i);h.result2String=function(cx){return bQ.concat("\n",bR.append(bR.ofArray([d.defaultValue("Failed: ",cx.$0)]),h.msgs2String(cx.$1)));};h.countMessages=function(cx){var cy,cz,cA,cB,cC,cD,cE;if(cx.$===0)return"";else{cB=bR.filter(function(cF){return!cF.FSSGlobal_Useful_ErrMsg$get_IsWarning();},cx);cC=bR.filter(function(cF){return cF.FSSGlobal_Useful_ErrMsg$get_IsWarning();},cx);cD=cB.get_Length();cE=cC.get_Length();switch(cD===0?cE===0?0:cE===1?2:5:cD===1?cE===0?1:cE===1?3:(cy=[cD,cE],6):cE===0?4:(cy=[cD,cE],6)){case 0:cA=function(cF){return function(cG){return cF(bP.toSafe(cG));};}(a.id);break;case 1:cA=function(cF){return function(cG){return cF(bP.toSafe(cG));};}(a.id);break;case 2:cA=function(cF){return function(cG){return cF(bP.toSafe(cG));};}(a.id);break;case 3:cA=function(cF){return function(cG){return cF("1 error, 1 warning\n"+bP.toSafe(cG));};}(a.id);break;case 4:cA=((bN.Curried3(function(cF,cG,cH){return cF(a.String(cG)+" errors\n"+bP.toSafe(cH));}))(a.id))(cD);break;case 5:cA=((bN.Curried3(function(cF,cG,cH){return cF(a.String(cG)+" warnings\n"+bP.toSafe(cH));}))(a.id))(cE);break;case 6:cA=(((bN.Curried(function(cF,cG,cH,cI){return cF(a.String(cG)+" errors, "+a.String(cH)+" warnings\n"+bP.toSafe(cI));},4))(a.id))(cy[0]))(cy[1]);break;}return cA(h.getMessages(cx));}};h.getMessages=function(cx){return bQ.concat("\n",h.msgs2String(cx));};h.msgs2String=function(cx){return bR.map(function(cy){return cy.FSSGlobal_Useful_ErrMsg$get_ErrMsg();},cx);};h.seqCheck=function(cx){return bS.exists(function(cy){return h.Success(cy).$==1&&true;},cx)?h.failWithMsgs(bS.pick(function(cy){var cz;cz=h.Success(cy);return cz.$==1?{$:1,$0:cz.$0}:null;},cx)):h.succeed(bS.map(function(cy){return cy.$0.$0;},cx));};h.withError=function(cx,cy){var cz;cz=cy.$1;return d.defaultWith(function(){return cx(cz);},cy.$0);};h.ifError=function(cx,cy){return d.defaultValue(cx,cy.$0);};h.failIfTrue=function(cx,cy){return cy?h.fail(cx):h.succeed();};h.failIfFalse=function(cx,cy){return cy?h.succeed():h.fail(cx);};h.tryProtection=function(){return h.succeed();};h.toOption=function(cx){return cx.$0;};h.fromOption=function(cx,cy){return cy!=null&&cy.$==1?h.succeed(cy.$0):h.fail(cx);};h.fromChoice=function(cx,cy){return cy.$==1?h.fail(cy.$0):h.succeed(cy.$0);};h.result=function(){bH.$cctor();return bH.result;};h.tryCall=function(cx,cy){try{return cx(cy);}catch(cz){return h.fail(h.failException(cz));}};h.failException=function(cx){return new e.New(cx);};h.x=function(cx){return h.Success(cx).$==1?"No":"yes";};h.Success=function(cx){return cx.$0==null?{$:1,$0:cx.$1}:{$:0,$0:[cx.$0.$0,cx.$1]};};h.failSimpleWarning=function(cx){return h.fail(new g.New(cx,true));};h.failSimpleError=function(cx){return h.fail(new g.New(cx,false));};h.apply=function(cx,cy){var cz,cA,cB,cC,cD;cz=cx.$1;cA=cy.$1;cB=cx.$0;cC=cy.$0;return cB!=null&&cB.$==1&&(cC!=null&&cC.$==1&&(cD=[cB.$0,cC.$0],true))?{$:0,$0:{$:1,$0:cD[0](cD[1])},$1:bR.append(cz,cA)}:{$:0,$0:null,$1:bR.append(cz,cA)};};h.bind=function(cx,cy){var cz,cA,cB;cz=cy.$0;cA=cy.$1;return cz==null?{$:0,$0:null,$1:cA}:(cB=cx(cz.$0),{$:0,$0:cB.$0,$1:bR.append(cA,cB.$1)});};h.combine=function(cx){var cy;cy=cx.$1;return function(cz){return h.mergeMsgs(cy,cz);};};h.mergeMsgs=function(cx,cy){var cz;cz=h.mapMsgs(function(cA){return bR.append(cx,cA);},cy);return{$:0,$0:cz[0],$1:cz[1]};};h.getMsgs=function(cx){return cx.$1;};h.getOption=function(cx){return cx.$0;};h.mapMsgs=function(cx,cy){return[cy.$0,cx(cy.$1)];};h.mapMsg=function(cx,cy){return[cy.$0,bR.map(cx,cy.$1)];};h.map=function(cx,cy){var cz;return{$:0,$0:(cz=cy.$0,cz==null?null:{$:1,$0:cx(cz.$0)}),$1:cy.$1};};h.failWithMsgs=function(cx){return{$:0,$0:null,$1:cx};};h.fail=function(cx){return{$:0,$0:null,$1:bR.ofArray([cx])};};h.succeedWithMsgs=function(cx,cy){return{$:0,$0:{$:1,$0:cx},$1:cy};};h.succeedWithMsg=function(cx,cy){return{$:0,$0:{$:1,$0:cx},$1:bR.ofArray([cy])};};h.succeed=function(cx){return{$:0,$0:{$:1,$0:cx},$1:bR.T.Empty};};j.StartAsTask=function(cx,cy,cz){return bT.StartAsTask(j.getAsyncR(cx),cz);};j.Start=function(cx,cy){bT.Start(j.getAsync(cx),cy);};k=j.Builder=bN.Class({Using:function(cx,cy){return{$:2,$0:bT.Using(cx,function(cz){return j.wrapper2Async(cy,cz);})};},Combine:function(cx,cy){return j.combine(j.errOptionIsNone(),cx,cy);},Delay:function(cx){return cx();},ReturnFrom:a.id,Return:function(cx){return{$:3,$0:cx};},Zero:function(){return{$:3,$0:null};},Bind:function(cx,cy){return j.bind(cy,{$:4,$0:cx});},Bind$1:function(cx,cy){return j.bind(cy,{$:0,$0:cx});},Bind$2:function(cx,cy){return j.bind(cy,{$:1,$0:cx});},Bind$3:function(cx,cy){return j.bind(cy,cx);}},bO.Obj,k);k.New=bN.Ctor(function(){},k);j.runSynchronouslyS=function(cx,cy){var cz;cz=j.runSynchronouslyO(cx,cy);return cz[0]==null?(function(cA){return function(cB){return cA("Failed!\n"+bP.toSafe(cB));};}(a.id))(cz[1]):(((bN.Curried3(function(cA,cB,cC){return cA(a.String(cB)+"\n"+bP.toSafe(cC));}))(a.id))(cz[0].$0))(cz[1]);};j.runSynchronouslyO=function(cx,cy){return h.mapMsgs(cx?h.countMessages:h.getMessages,bU.log("runSynchronously should not be used in Javascript"));};j.start=function(cx,cy){j.startV(function(cz){if(cz[0]==null)cx("Failed!\n"+cz[1]);else cx(cz[1]);},cy);};j.startV=function(cx,cy){var cz,cA,cB,cC;function cD(cG){return h.mapMsgs(h.getMessages,cG);}function cE(cG){return[null,cG];}function cF(cG){return[null,cG];}bT.StartWithContinuations(j.getAsyncR(cy),function(cG){return cx(cD(cG));},(cz=(cA=function(cG){return function(cH){return cG(bP.prettyPrint(cH));};}(a.id),function(cG){return cE(cA(cG));}),function(cG){return cx(cz(cG));}),(cB=(cC=function(cG){return function(cH){return cG(bP.prettyPrint(cH));};}(a.id),function(cG){return cF(cC(cG));}),function(cG){return cx(cB(cG));}),null);};j.getAsync=function(cx){var cy,cz,cA,cB,cC,cD;return cx.$==3?bT.Return(cx.$0):cx.$==4?(cy=cx.$0,(cz=null,bT.Delay(function(){var cE,cF;if(cy==null)throw a.Error(h.getMessages(bR.ofArray([j.errOptionIsNone()])));else cF=cy.$0;return bT.Return(cF);}))):cx.$==0?(cA=cx.$0,(cB=null,bT.Delay(function(){var cE,cF,cG;cG=h.Success(cA);if(cG.$==1)throw a.Error(h.getMessages(cG.$0));else cF=cG.$0[0];return bT.Return(cF);}))):cx.$==2?(cC=cx.$0,(cD=null,bT.Delay(function(){return bT.Bind(cC,function(cE){var cF,cG,cH;cH=h.Success(cE);if(cH.$==1)throw a.Error(h.getMessages(cH.$0));else cG=cH.$0[0];return bT.Return(cG);});}))):cx.$0;};j.getAsyncWithDefault=function(cx,cy){var cz;cz=null;return bT.Delay(function(){return bT.Bind(j.getAsyncR(cy),function(cA){return bT.Return(h.withError(cx,cA));});});};j.getAsyncR=function(cx){var cy,cz;return cx.$==3?bT.Return(h.succeed(cx.$0)):cx.$==4?bT.Return(h.fromOption(j.errOptionIsNone(),cx.$0)):cx.$==0?bT.Return(cx.$0):cx.$==2?cx.$0:(cy=cx.$0,(cz=null,bT.Delay(function(){return bT.Bind(cy,function(cA){return bT.Return(h.succeed(cA));});})));};j.getResult=function(cx,cy){if(cy.$==4){if(cy.$0==null)cx(h.fail(j.errOptionIsNone()));else cx(h.succeed(cy.$0.$0));}else if(cy.$==0)cx(cy.$0);else if(cy.$==1)bT.StartWithContinuations(cy.$0,function(cz){cx(h.succeed(cz));},function(cz){cx(h.fail(h.failException(cz)));},function(cz){cx(h.fail(h.failException(cz)));},null);else if(cy.$==2)bT.StartWithContinuations(cy.$0,cx,function(cz){cx(h.fail(h.failException(cz)));},function(cz){cx(h.fail(h.failException(cz)));},null);else cx(h.succeed(cy.$0));};j.wrapper=function(){bH.$cctor();return bH.wrapper;};j.combine=function(cx,cy,cz){return cy.$==4?cy.$0==null?j.addMsgs(cx,bR.ofArray([cx]),cz):cz:cy.$==0?cy.$0.$1.$==0?cz:j.addMsgs(cx,cy.$0.$1,cz):cy.$==1?cz:cy.$==2?cz:cz;};j.addMsgs=function(cx,cy,cz){var cA,cB,cC;if(cy.$===0)return cz;else switch(cz.$==4?cz.$0==null?1:(cA=cz.$0.$0,0):cz.$==0?(cA=cz.$0,2):cz.$==1?(cA=cz.$0,3):cz.$==2?(cA=cz.$0,4):(cA=cz.$0,0)){case 0:return{$:0,$0:h.succeedWithMsgs(cA,cy)};break;case 1:return{$:0,$0:h.mergeMsgs(cy,h.fail(cx))};break;case 2:return{$:0,$0:h.mergeMsgs(cy,cA)};break;case 3:return{$:2,$0:(cB=null,bT.Delay(function(){return bT.Bind(cA,function(cD){return bT.Return(h.succeedWithMsgs(cD,cy));});}))};break;case 4:return{$:2,$0:(cC=null,bT.Delay(function(){return bT.Bind(cA,function(cD){return bT.Return(h.mergeMsgs(cy,cD));});}))};break;}};j.wrapper2Async=function(cx,cy){var cz,cA,cB,cC;cA=j.tryCall(cx,cy);switch(cA.$==4?0:cA.$==0?1:cA.$==1?2:cA.$==2?3:0){case 0:return j.wb2arb(bR.T.Empty,cA);break;case 1:return j.wb2arb(cA.$0.$1,cA);break;case 2:cB=cA.$0;cC=null;return bT.Delay(function(){return bT.Bind(cB,function(cD){return bT.Return(h.succeed(cD));});});break;case 3:return cA.$0;break;}};j.map=function(cx){var cy;cy=function(cz){return j.Return(cx(cz));};return function(cz){return j.bind(cy,cz);};};j.Return=function(cx){return{$:3,$0:cx};};j.bind=function(cx,cy){var cz,cA,cB,cC,cD;switch(cy.$==4?cy.$0==null?1:(cz=cy.$0.$0,0):cy.$==0?(cA=h.Success(cy.$0),cA.$==1?(cz=cA.$0,2):cA.$0[1].$==0?(cz=cA.$0[0],0):(cz=[cA.$0[0],cA.$0[1]],3)):cy.$==1?(cz=cy.$0,4):cy.$==2?(cz=cy.$0,5):(cz=cy.$0,0)){case 0:return j.tryCall(cx,cz);break;case 1:return{$:4,$0:null};break;case 2:return{$:0,$0:h.failWithMsgs(cz)};break;case 3:cB=cz[1];return function(cE){var cF,cG,cH,cI;switch(cE.$==4?cE.$0==null?1:(cF=cE.$0.$0,0):cE.$==0?(cG=h.Success(cE.$0),cG.$==1?(cF=cG.$0,4):cG.$0[1].$==0?(cF=cG.$0[0],2):(cF=[cG.$0[0],cG.$0[1]],3)):cE.$==1?(cF=cE.$0,5):cE.$==2?(cF=cE.$0,6):(cF=cE.$0,0)){case 0:return{$:0,$0:h.succeedWithMsgs(cF,cB)};break;case 1:return{$:0,$0:h.failWithMsgs(new bR.T({$:1,$0:j.errOptionIsNone(),$1:cB}))};break;case 2:return{$:0,$0:h.succeedWithMsgs(cF,cB)};break;case 3:return{$:0,$0:h.succeedWithMsgs(cF[0],bR.append(cB,cF[1]))};break;case 4:return{$:0,$0:h.failWithMsgs(bR.append(cB,cF))};break;case 5:return{$:2,$0:(cH=null,bT.Delay(function(){return bT.Bind(cF,function(cJ){return bT.Return(h.succeedWithMsgs(cJ,cB));});}))};break;case 6:return{$:2,$0:(cI=null,bT.Delay(function(){return bT.Bind(cF,function(cJ){return bT.Return(h.mergeMsgs(cB,cJ));});}))};break;}}(j.tryCall(cx,cz[0]));break;case 4:return{$:2,$0:(cC=null,bT.Delay(function(){return bT.Bind(cz,function(cE){return j.wb2arb(bR.T.Empty,j.tryCall(cx,cE));});}))};break;case 5:return{$:2,$0:(cD=null,bT.Delay(function(){return bT.Bind(cz,function(cE){var cF,cG,cH;cF=h.Success(cE);return cF.$==1?(cG=cF.$0,cH=null,bT.Delay(function(){return bT.Return(h.failWithMsgs(cG));})):j.wb2arb(cF.$0[1],j.tryCall(cx,cF.$0[0]));});}))};break;}};j.tryCall=function(cx,cy){try{return cx(cy);}catch(cz){return{$:0,$0:h.fail(h.failException(cz))};}};j.wb2arb=function(cx,cy){var cz,cA,cB,cC,cD,cE;switch(cy.$==2?(cz=cy.$0,1):cy.$==0?(cz=cy.$0,2):cy.$==3?(cz=cy.$0,3):cy.$==4?cy.$0==null?4:(cz=cy.$0.$0,3):(cz=cy.$0,0)){case 0:cA=null;return bT.Delay(function(){return bT.Bind(cz,function(cF){return bT.Return(h.succeedWithMsgs(cF,cx));});});break;case 1:cB=null;return bT.Delay(function(){return bT.Bind(cz,function(cF){return bT.Return(h.mergeMsgs(cx,cF));});});break;case 2:cC=null;return bT.Delay(function(){return bT.Return(h.mergeMsgs(cx,cz));});break;case 3:cD=null;return bT.Delay(function(){return bT.Return(h.succeedWithMsgs(cz,cx));});break;case 4:cE=null;return bT.Delay(function(){return bT.Return(h.failWithMsgs(new bR.T({$:1,$0:j.errOptionIsNone(),$1:cx})));});break;}};j.errOptionIsNone=function(){bH.$cctor();return bH.errOptionIsNone;};l.bind=function(cx,cy){return bT.Bind(cy,cx);};l.apply=function(cx,cy){var cz;cz=null;return bT.Delay(function(){return bT.Bind(bT.StartChild(cx,null),function(cA){return bT.Bind(bT.StartChild(cy,null),function(cB){return bT.Bind(cA,function(cC){return bT.Bind(cB,function(cD){return bT.Return(cC(cD));});});});});});};l.retn=function(cx){return bT.Return(cx);};l.map=function(cx,cy){var cz;cz=null;return bT.Delay(function(){return bT.Bind(cy,function(cA){return bT.Return(cx(cA));});});};m.add=function(cx,cy,cz){if(cz.ContainsKey(cx))cz.set_Item(cx,cy);else cz.Add(cx,cy);};m.tryGetValue=function(cx,cy){return cy.ContainsKey(cx)?{$:1,$0:cy.get_Item(cx)}:null;};n.append=function(cx,cy){return cx+cy;};n.trim=function(cx){return bQ.Trim(cx);};n.splitByChar=function(cx,cy){return bQ.SplitChars(cy,[cx],0);};o=c.ResetableMemoize=bN.Class({ClearCache:function(){this.cache.Clear();}},bO.Obj,o);o.New=bN.Ctor(function(cx){this.f=cx;this.cache=new bW.New$5();},o);p.NoPrepo={$:11};p.PrepoEndIf={$:8};p.PrepoElse={$:7};c.asyncStartCancelling=function(){var cx;cx=null;return function(cy){var cz;cx==null?void 0:cx.$0.Cancel$1();cz=new bX.New();bT.Start(cy,{$:1,$0:cz});cx={$:1,$0:cz};};};c.separateDirectives=function(cx){var cy,cz,cA,cB;function cC(cK){return cK[1];}function cD(cK){return cK.$==0?{$:1,$0:cK.$0}:null;}function cE(cK){return cK[1];}function cF(cK){return cK.$==1?{$:1,$0:cK.$0}:null;}function cG(cK){return cK[1];}function cH(cK){return cK.$==5?{$:1,$0:cK.$0}:null;}function cI(cK){return cK[1];}function cJ(cK){return cK.$==4?{$:1,$0:cK.$0}:null;}cy=bY.ofSeq(bS.distinct(bS.choose(function(cK){return cD(cC(cK));},cx)));cz=bY.ofSeq(bS.distinct(bS.choose(function(cK){return cF(cE(cK));},cx)));cA=bY.ofSeq(bS.distinct(bS.choose(function(cK){return cH(cG(cK));},cx)));cB=bY.ofSeq(bS.distinct(bS.choose(function(cK){return cJ(cI(cK));},cx)));return[bY.ofSeq(bS.map(function(cK){return cK[0];},cx)),cy,cz,cA,cB];};c.separatePrepros=function(cx,cy){var cz;function cA(cD){return d.defaultValue(cD,bS.tryLast(bQ.SplitStrings(bQ.Trim(cD),["\""],1)));}function cB(cD){return d.defaultValue("",bS.tryHead(bQ.SplitStrings(bQ.Trim(cD),["#define "],1)));}function cC(cD){return"//"+cD;}cz=cx?cC:a.id;return bY.map(function(cD){var cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ;cE=true;return cE&&(bQ.StartsWith(cD,"#define")&&true)?[cC(cD),{$:1,$0:cB(cD)}]:cE&&(bQ.StartsWith(cD,"#r")&&true)?[cC(cD),{$:0,$0:cA(cD)}]:cE&&(bQ.StartsWith(cD,"#load")&&true)?[cC(cD),{$:2,$0:cA(cD)}]:cE&&(bQ.StartsWith(cD,"#nowarn")&&true)?[cC(cD),{$:4,$0:cA(cD)}]:cE&&(bQ.StartsWith(cD,"# ")&&true)?[cz(cD),{$:3,$0:cA(cD)}]:cE&&(bQ.StartsWith(cD,"#line")&&true)?[cz(cD),{$:3,$0:cA(cD)}]:cE&&(bQ.StartsWith(cD,"#I")&&true)?[cC(cD),{$:5,$0:cA(cD)}]:cE&&(bQ.StartsWith(cD,"#if")&&true)?[cD,{$:6,$0:cD}]:cE&&(bQ.StartsWith(cD,"#else")&&true)?[cD,p.PrepoElse]:cE&&(bQ.StartsWith(cD,"#endif")&&true)?[cD,p.PrepoEndIf]:cE&&(bQ.StartsWith(cD,"#light")&&true)?[cD,{$:9,$0:false}]:cE&&(bQ.StartsWith(cD,"#")&&true)?[cC(cD),{$:10,$0:cD}]:[cD,p.NoPrepo];},cy);};c.__=function(cx,cy,cz){return cx(cz,cy);};c.swap=function(cx,cy,cz){return cx(cz,cy);};c.REGEX=function(cx,cy,cz){var cA;if(cz===null)return null;else try{cA=(new a.String(cz)).match(new a.RegExp(cx,cy));return bZ.Equals(cA,null)?null:cA&&bY.length(cA)===0?null:{$:1,$0:cA};}catch(cB){return null;}};c.extract=function(cx,cy){var cz;return bQ.Substring(cy,0,(cz=cy.length,bZ.Compare(cx,cz)===-1?cx:cz));};r=q.MessagingClient=bN.Class({poStrings:function(cx){return cx.$==1?cx.$0:[(function(cy){return function(cz){return cy("unexpected response: "+bP.toSafe(cz));};}(a.id))(cx.$0)];},poString:function(cx){return cx.$==1?(function(cy){return function(cz){return cy(bP.printArray(bP.prettyPrint,cz));};}(a.id))(cx.$0):cx.$0;},poMsg:function(cx,cy){var cz,cA;cz=this;cA=null;return bT.Delay(function(){return bT.Bind(cz.sendMessage(q.AddressId("WebServer:PostOffice"),b0.stringify((bJ.j$6())(cy))),function(cB){return bT.Return(cx((bI.j$6())(b0.parse(cB))));});});},sendMessage:function(cx,cy){return(((q.sendRequestF())(cx))(this.fromId))(cy);},awaitMessage:function(cx){var cy,cz;cy=this;(q.AsyncStartF())((cz=null,bT.Delay(function(){return bT.While(function(){return cy.active;},bT.Delay(function(){((((bN.Curried(function(cA,cB,cC,cD){return cA(bP.toSafe(cB)+" awaitRequest "+bP.toSafe(cC)+" "+bP.toSafe(cD));},4))(function(cA){bU.log(cA);}))(function(cA){return cA.getFullYear()+"-"+(cA.getMonth()+1)+"-"+cA.getDate()+" "+cA.getHours()+":"+cA.getMinutes()+":"+cA.getSeconds()+":"+cA.getMilliseconds();}(new a.Date(b1.now()))))(cy.clientId))(cy.wsEndPoint);return bT.Bind(bT.StartChild((q.awaitRequestForF())(cy.fromId),{$:1,$0:cy.tout}),function(cA){return bT.TryWith(bT.Delay(function(){return bT.Bind(cA,function(cB){return bT.Bind(cx(q.addressIdTxt(cB.fromId),cB.content),function(cC){return bT.Bind(((q.replyToF())(cB.messageId.$0))(cC),function(){return bT.Return(null);});});});}),function(cB){return cB instanceof bO.TimeoutException?bT.Zero():((function(cC){return function(cD){return cC(bP.prettyPrint(cD));};}(function(cC){bU.log(cC);}))(cB),bT.Zero());});});}));})));},Deactivate:function(){this.active=false;},get_ClientId:function(){return this.clientId;},get_EndPoint:function(){return this.wsEndPoint;},POListeners:function(){var cx;cx=this;return this.poMsg(function(cy){return cx.poStrings(cy);},b3.POMessage.POListeners);},POMessage:function(cx){return this.poMsg(a.id,cx);},SendMessage:function(cx,cy){return this.sendMessage(cx,cy);},AwaitMessage:function(cx){this.awaitMessage(cx);},AwaitMessage$1:function(cx){this.awaitMessage(function(cy,cz){var cA;cA=null;return bT.Delay(function(){return bT.Return(cx(cy,cz));});});},Dispose:function(){this.active=false;}},bO.Obj,r);r.get_EndPoint_=function(){return b4.EndPoint();};r.New=bN.Ctor(function(cx,cy,cz){this.clientId=cx;this.active=true;this.wsEndPoint=d.defaultValue(b4.EndPoint(),cz);this.tout=d.defaultValue(100000,cy);this.fromId=q.AddressId(this.clientId);b4.set_EndPoint(this.wsEndPoint);},r);s.GenInfor={$:2};s.GenWarning={$:1};s.GenError={$:0};t=q.CodeSnippetId=bN.Class({get_Text:function(){return a.String(this.$0);}},null,t);t.get_New=function(){return new t({$:0,$0:b5.NewGuid()});};u=q.CodeSnippet=bN.Class({SeparateCode:function(cx){var cy,cz,cA,cB,cC,cD;function cE(cF,cG){return[bQ.replicate(cz," ")+cF,cG];}cy=!cx||this.properties.ContainsKey("NoLinePre");cz=this.levelCode*2;cA=cz===0?[a.id,""]:[function(cF){return bY.map(function(cG){return cE(cG[0],cG[1]);},cF);},(function(cF){return function(cG){return cF("("+a.String(cG)+")");};}(a.id))(cz)];cB=c.separateDirectives(cA[0](c.separatePrepros(!cx,(cy?a.id:(cC=[(((bN.Curried3(function(cF,cG,cH){return cF("# 1 @\""+bP.toSafe(cG)+bP.toSafe(cH)+"\"");}))(a.id))(cA[1]))(this.get_NameSanitized())],function(cF){return cC.concat(cF);}))(bQ.SplitChars(this.content,["\n"],0)))));cD=cB[0];return[[[this.get_NameSanitized(),bY.length(cD),cz]],cD,cB[1],cB[2],cB[3],cB[4]];},UniquePredecessors:function(cx){return q.predsL(cx,bR.ofArray([this.id]));},get_NameSanitized:function(){return this.id.get_Text()+" "+q.sanitize(this.get_Name())+".fsx";},get_Name:function(){return q.snippetName(this.name,this.content);}},null,u);u.CodeFsx=function(cx,cy){return(u.CodeAndStarts(cx,cy))[0];};u.CodeAndStarts=function(cx,cy){var cz;cz=u.ReducedCode(cx,cy);return u.FinishCode(cx,cz[0],cz[1],cz[2],cz[3],cz[4],cz[5]);};u.FinishCode=function(cx,cy,cz,cA,cB,cC,cD){var cE,cF;cE=bQ.concat(" ",bS.map(function(cG){return"-d:"+cG;},bS.sort(cB)));cF=bR.ofSeq(bS.delay(function(){return bS.append(cE!==""?["////"+cE]:[],bS.delay(function(){return bS.append(bS.map(function(cG){return function(cH){return cG("#I @\""+bP.toSafe(cH)+"\"");};}(a.id),cC),bS.delay(function(){return bS.append(bS.map(function(cG){return function(cH){return cG("#r @\""+bP.toSafe(cH)+"\"");};}(a.id),cA),bS.delay(function(){return bS.append(cx&&!bS.isEmpty(cD)?["# 1 \"required for nowarns to work\""]:[],bS.delay(function(){return bS.map(function(cG){return function(cH){return cG("#nowarn \""+bP.toSafe(cH)+"\"");};}(a.id),cD);}));}));}));}));}));return[bQ.concat("\n",bS.append(cF,cz)),bY.ofSeq((bS.mapFold(function(cG,cH){var cI;cI=cH[1];return[[cH[0],[cH[2],cG,cG+cI]],cG+cI];},cF.get_Length(),cy))[0])];};u.ReducedCode=function(cx,cy){var cz,cA;function cB(cC,cD,cE,cF,cG,cH){return function(cI){return u.AddSeps(cC,cD,cE,cF,cG,cH,cI[0],cI[1],cI[2],cI[3],cI[4],cI[5]);};}cz=bS.reduce(function(cC,cD){return(function(cE){return cB(cE[0],cE[1],cE[2],cE[3],cE[4],cE[5]);}(cC))(cD);},(cA=bS.map(function(cC){return cC.SeparateCode(cx);},cy),bS.isEmpty(cA)?[[[],[],[],[],[],[]]]:cA));return[cz[0],[bQ.concat("\n",cz[1])],cz[2],cz[3],cz[4],cz[5]];};u.AddSeps=function(cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI){return[cx.concat(cD),cy.concat(cE),bY.ofSeq(bS.distinct(bS.append(cz,cF))),bY.ofSeq(bS.distinct(bS.append(cA,cG))),bY.ofSeq(bS.distinct(bS.append(cB,cH))),bY.ofSeq(bS.distinct(bS.append(cC,cI)))];};u.TryFindByKey=function(cx,cy){return bS.tryFind(function(cz){return bZ.Equals(cz.id,cy);},cx);};u.New=function(cx,cy,cz,cA,cB,cC,cD,cE,cF){return new u({name:cx,content:cy,parent:cz,predecessors:cA,id:cB,expanded:cC,level:cD,levelCode:cE,properties:cF});};v.GetWholeFile={$:11};v.GetIdentification={$:0};w.FSInfor={$:2};w.FSWarning={$:1};w.FSError={$:0};x=q.FsStationClientErr=bN.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return this.$==0&&(this.$1.$==0&&true);},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return this.$==0?(((bN.Curried3(function(cx,cy,cz){return cx(bL.p(cy)+" "+bP.toSafe(cz));}))(a.id))(this.$1))(this.$0):(function(cx){return function(cy){return cx(bL.p$1(cy));};}(a.id))(this);}},null,x);y=q.FsStationClient=bN.Class({snippetResponse:function(cx){return cx.$==2?h.succeed(cx.$0):h.fail(new x({$:1,$0:a.String(cx)}));},snippetsResponse:function(cx){return cx.$==3?h.succeed(cx.$0):h.fail(new x({$:1,$0:a.String(cx)}));},stringResponse:function(cx){var cy,cz;return cx.$==1&&((cz=cx.$0,cz!=null&&cz.$==1)&&(cy=cx.$0.$0,true))?h.succeed(cy):h.fail(new x({$:1,$0:a.String(cx)}));},stringResponseR:function(cx){var cy,cz;function cA(cB,cC){return new x({$:0,$0:cB,$1:cC});}return cx.$==4&&((cz=cx.$0,cz!=null&&cz.$==1)&&(cy=[cx.$0.$0,cx.$1],true))?h.succeedWithMsgs(cy[0],bR.ofSeq(bS.map(function(cB){return cA(cB[0],cB[1]);},cy[1]))):h.fail(new x({$:1,$0:a.String(cx)}));},get_MessagingClient:function(){return this.msgClient;},get_FSStationId:function(){return this.fsIds;},RunActionCall:function(cx,cy,cz){var cA,cB,cC;function cD(cE){return cA.stringResponseR(cE);}cA=this;cB=this.msgClient.SendMessage(this.toId,b0.stringify((bJ.j())({$:14,$0:cx,$1:cy,$2:cz})));cC=j.wrapper();return cC.Delay(function(){return cC.Bind$2(cB,function(cE){return cC.Bind$1(cD((bI.j())(b0.parse(cE))),function(cF){return cC.Return(cF);});});});},RunSnippet:function(cx,cy){var cz,cA,cB;function cC(cD){return cz.stringResponseR(cD);}cz=this;cA=this.msgClient.SendMessage(this.toId,b0.stringify((bJ.j())({$:13,$0:bQ.SplitChars(cy,["/"],0),$1:cx})));cB=j.wrapper();return cB.Delay(function(){return cB.Bind$2(cA,function(cD){return cB.Bind$1(cC((bI.j())(b0.parse(cD))),function(cE){return cB.Return(cE);});});});},GenericMessage:function(cx){var cy,cz,cA;function cB(cC){return cy.stringResponse(cC);}cy=this;cz=this.msgClient.SendMessage(this.toId,b0.stringify((bJ.j())({$:1,$0:cx})));cA=j.wrapper();return cA.Delay(function(){return cA.Bind$2(cz,function(cC){return cA.Bind$1(cB((bI.j())(b0.parse(cC))),function(cD){return cA.Return(cD);});});});},RequestWholeFile:function(){var cx,cy,cz;function cA(cB){return cx.stringResponse(cB);}cx=this;cy=this.msgClient.SendMessage(this.toId,b0.stringify((bJ.j())(v.GetWholeFile)));cz=j.wrapper();return cz.Delay(function(){return cz.Bind$2(cy,function(cB){return cz.Bind$1(cA((bI.j())(b0.parse(cB))),function(cC){return cz.Return(cC);});});});},RequestPredsById:function(cx){var cy,cz,cA;function cB(cC){return cy.snippetsResponse(cC);}cy=this;cz=this.msgClient.SendMessage(this.toId,b0.stringify((bJ.j())({$:4,$0:cx})));cA=j.wrapper();return cA.Delay(function(){return cA.Bind$2(cz,function(cC){return cA.Bind$1(cB((bI.j())(b0.parse(cC))),function(cD){return cA.Return(cD);});});});},RequestPreds:function(cx){var cy,cz,cA;function cB(cC){return cy.snippetsResponse(cC);}cy=this;cz=this.msgClient.SendMessage(this.toId,b0.stringify((bJ.j())({$:8,$0:bQ.SplitChars(cx,["/"],0)})));cA=j.wrapper();return cA.Delay(function(){return cA.Bind$2(cz,function(cC){return cA.Bind$1(cB((bI.j())(b0.parse(cC))),function(cD){return cA.Return(cD);});});});},RequestJSCode:function(cx){var cy,cz,cA;function cB(cC){return cy.stringResponseR(cC);}cy=this;cz=this.msgClient.SendMessage(this.toId,b0.stringify((bJ.j())({$:10,$0:bQ.SplitChars(cx,["/"],0)})));cA=j.wrapper();return cA.Delay(function(){return cA.Bind$2(cz,function(cC){return cA.Bind$1(cB((bI.j())(b0.parse(cC))),function(cD){return cA.Return(cD);});});});},RequestCode:function(cx){var cy,cz,cA;function cB(cC){return cy.stringResponse(cC);}cy=this;cz=this.msgClient.SendMessage(this.toId,b0.stringify((bJ.j())({$:7,$0:bQ.SplitChars(cx,["/"],0)})));cA=j.wrapper();return cA.Delay(function(){return cA.Bind$2(cz,function(cC){return cA.Bind$1(cB((bI.j())(b0.parse(cC))),function(cD){return cA.Return(cD);});});});},RequestSnippet:function(cx){var cy,cz,cA;function cB(cC){return cy.snippetResponse(cC);}cy=this;cz=this.msgClient.SendMessage(this.toId,b0.stringify((bJ.j())({$:9,$0:bQ.SplitChars(cx,["/"],0)})));cA=j.wrapper();return cA.Delay(function(){return cA.Bind$2(cz,function(cC){return cA.Bind$1(cB((bI.j())(b0.parse(cC))),function(cD){return cA.Return(cD);});});});},SendMessage:function(cx){var cy,cz;cy=this.msgClient.SendMessage(this.toId,b0.stringify((bJ.j())(cx)));cz=j.wrapper();return cz.Delay(function(){return cz.Bind$2(cy,function(cA){return cz.Bind$1(h.succeed((bI.j())(b0.parse(cA))),function(cB){return cz.Return(cB);});});});},SendMessage$1:function(cx,cy){var cz,cA;cz=this.msgClient.SendMessage(cx,b0.stringify((bJ.j())(cy)));cA=j.wrapper();return cA.Delay(function(){return cA.Bind$2(cz,function(cB){return cA.Bind$1(h.succeed((bI.j())(b0.parse(cB))),function(cC){return cA.Return(cC);});});});}},bO.Obj,y);y.get_FSStationId_=function(){return"FSharpStation1517916030213";};y.New=bN.Ctor(function(cx,cy,cz,cA){this.fsIds=d.defaultValue("FSharpStation1517916030213",cy);this.msgClient=new r.New(cx,cz,cA);this.toId=q.AddressId(this.fsIds);},y);q.predsL=function(cx,cy){var cz,cA;cz=cy;cA=bR.T.Empty;while(!(cz.$==0))(function(){var cB,cC;return cz.$==1?(cB=cz.$1,(cC=cz.$0,bS.contains(cC,cA)?void(cz=cB):(cz=bR.collect(a.id,bR.ofArray([cB,bR.collect(function(cD){return bR.append(b6.toList(cD.parent),cD.predecessors);},b6.toList(cx(cC)))])),void(cA=new bR.T({$:1,$0:cC,$1:cA}))))):null;}());return cA;};q.preds=function(cx,cy,cz){var cA,cB;return cz.$==1?(cA=cz.$0,(cB=bR.collect(a.id,bR.ofArray([cz.$1,bR.collect(function(cC){return bR.append(b6.toList(cC.parent),cC.predecessors);},b6.toList(cx(cA)))])),q.preds(cx,bS.contains(cA,cy)?cy:new bR.T({$:1,$0:cA,$1:cy}),cB))):cy;};q.sanitize=function(cx){var cy;cy=["\"","<",">","|","\u0000","\u0001","\u0002","\u0003","\u0004","\u0005","\u0006","\u0007","\u0008","\u0009","\n","\u000b","\u000c","\r","\u000e","\u000f","\u0010","\u0011","\u0012","\u0013","\u0014","\u0015","\u0016","\u0017","\u0018","\u0019","\u001a","\u001b","\u001c","\u001d","\u001e","\u001f",":","*","?","\\","/"];return bQ.Filter(function(cz){return!bY.contains(cz,cy);},cx);};q.snippetName=function(cx,cy){return cx!==""?cx:d.defaultValue("<empty>",bS.tryHead(bS.filter(function(cz){return!(bQ.StartsWith(cz,"#")||bQ.StartsWith(cz,"[<")||bQ.StartsWith(cz,"//"));},bS.map(bQ.Trim,bQ.SplitChars(cy,["\n"],1)))));};q.AsyncStartF=function(){bH.$cctor();return bH.AsyncStartF;};q.replyToF=function(){bH.$cctor();return bH.replyToF;};q.sendRequestF=function(){bH.$cctor();return bH.sendRequestF;};q.awaitRequestForF=function(){bH.$cctor();return bH.awaitRequestForF;};q.addressIdTxt=function(cx){return cx.$0;};q.AddressId=function(cx){return{$:0,$0:cx};};q.AsyncStart=function(cx){bT.StartWithContinuations(cx,a.ignore,function(cy){a.alert(a.String(cy));},function(cy){a.alert(a.String(cy));},null);};q.selectF=a.id;A.extractConfig=function(cx){return bQ.StartsWith(cx,"////-d:")?b7.string(cx,{$:1,$0:4},{$:1,$0:cx.indexOf("\n")-1}):"";};z.evaluateAR=function(cx,cy,cz,cA){var cB;cB=null;return bT.Delay(function(){return bT.Bind((new b8.New()).Async("FSharpStation:FSSGlobal.FsEvaluator.evaluateAS:-156288114",[cx,cy,cz,cA]),function(cC){function cD(cE,cF){return new g.New(cE,cF);}return bT.Return({$:0,$0:cC[0],$1:bR.ofSeq(bS.map(function(cE){return cD(cE[0],cE[1]);},cC[1]))});});});};B.translateAR=function(cx,cy){var cz;cz=null;return bT.Delay(function(){return bT.Bind((new b8.New()).Async("FSharpStation:FSSGlobal.FsTranslator.translateAS:608897894",[cx,cy]),function(cA){function cB(cC,cD){return new g.New(cC,cD);}return bT.Return({$:0,$0:cA[0],$1:bR.ofSeq(bS.map(function(cC){return cB(cC[0],cC[1]);},cA[1]))});});});};E.New=function(cx,cy){return{Code:cx,Message:cy};};F.New=function(cx,cy,cz){return{File:cx,Line:cy,Column:cz};};G.New=function(cx,cy,cz,cA){return{Name:cx,ReplacementText:cy,Glyph:cz,GlyphChar:cA};};H.New=function(cx,cy){return{Signature:cx,Comment:cy};};I.New=function(cx,cy,cz,cA){return{Name:cx,CanonicalTypeTextForSorting:cy,Display:cz,Description:cA};};J.New=function(cx,cy,cz,cA){return{Tip:cx,TypeText:cy,Parameters:cz,IsStaticArguments:cA};};K.New=function(cx,cy){return{Name:cx,Type:cy};};L.New=function(cx,cy){return{OutputType:cx,Parameters:cy};};M.New=function(cx,cy,cz){return{Name:cx,CurrentParameter:cy,Overloads:cz};};N.New=function(cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH){return{FileName:cx,StartLine:cy,StartColumn:cz,EndLine:cA,EndColumn:cB,IsFromDefinition:cC,IsFromAttribute:cD,IsFromComputationExpression:cE,IsFromDispatchSlotImplementation:cF,IsFromPattern:cG,IsFromType:cH};};O.New=function(cx,cy){return{Name:cx,Uses:cy};};P.New=function(cx,cy){return{Name:cx,Overloads:cy};};Q.New=function(cx,cy,cz){return{Fsc:cx,Fsi:cy,MSBuild:cz};};R.New=function(cx,cy,cz,cA,cB,cC,cD){return{FileName:cx,StartLine:cy,EndLine:cz,StartColumn:cA,EndColumn:cB,Message:cC,Subcategory:cD};};S.New=function(cx,cy){return{File:cx,Errors:cy};};T.New=function(cx){return{Kind:cx};};U.New=function(cx,cy,cz,cA,cB,cC,cD,cE){return{UniqueName:cx,Name:cy,Glyph:cz,GlyphChar:cA,IsTopLevel:cB,File:cC,EnclosingEntity:cD,IsAbstract:cE};};V.New=function(cx,cy){return{Declaration:cx,Nested:cy};};W.New=function(cx,cy,cz,cA,cB,cC){return{Namespace:cx,Name:cy,Type:cz,Line:cA,Column:cB,MultipleNames:cC};};X.New=function(cx,cy){return{Name:cx,Qualifier:cy};};Y.New=function(cx,cy,cz){return{Opens:cx,Qualifies:cy,Word:cz};};Z.New=function(cx){return{Text:cx};};_0.ACMIdentification={$:0};_1=C.FSAutoCompleteIntermediaryClient=bN.Class({info2Bool:function(cx){return cx.$==0&&(cx.$0==="true"&&true);},errors2String:function(cx){return cx.$==7?bQ.concat("\n",bS.map(function(cy){return((((((((bN.Curried(function(cz,cA,cB,cC,cD,cE,cF,cG){return cz("ErrFSharp \"F# "+bP.toSafe(cA)+".fsx ("+a.String(cB)+","+a.String(cC)+") - ("+a.String(cD)+","+a.String(cE)+") "+bP.toSafe(cF)+":"+bP.toSafe(cG)+"\"");},8))(a.id))(cy.FileName))(cy.StartLine))(cy.StartColumn))(cy.EndLine))(cy.EndColumn))(cy.Subcategory))(cy.Message);},cx.$0.Errors)):(function(cy){return function(cz){return cy(bL.p$4(cz));};}(a.id))(cx);},tip2String:function(cx){return cx.$==11?bQ.concat("\n",bS.collect(function(cy){return bR.ofArray([cy.Signature,cy.Comment]);},bS.collect(a.id,cx.$0))):(function(cy){return function(cz){return cy(bL.p$4(cz));};}(a.id))(cx);},comp2Strings:function(cx){var cy;cy=this;return cx.$==3?bY.map(function(cz){return[cz.Name,cz.ReplacementText,cz.Glyph,cz.GlyphChar];},cx.$0):cx.$==2?[]:cx.$==17?bY.collect(function(cz){return cy.comp2Strings(cz);},cx.$0):[[(function(cz){return function(cA){return cz(bL.p$4(cA));};}(a.id))(cx),"","ErrorMsg","E"]];},Async_map:function(cx,cy){var cz;cz=null;return bT.Delay(function(){return bT.Bind(cy,function(cA){return bT.Return(cx(cA));});});},FindDecl:function(cx,cy,cz,cA){return this.Async_map(a.id,C.sendMessage({$:7,$0:cx,$1:cy,$2:cz,$3:cA}));},FindDecl$1:function(cx,cy,cz){return this.Async_map(a.id,C.sendMessage({$:6,$0:cx,$1:cy,$2:cz}));},Complete:function(cx,cy,cz,cA,cB){var cC;cC=this;return cC.Async_map(function(cD){return cC.comp2Strings(cD);},C.sendMessage({$:9,$0:cx,$1:cz,$2:cA,$3:cy,$4:cB}));},Complete$1:function(cx,cy,cz,cA){var cB;cB=this;return cB.Async_map(function(cC){return cB.comp2Strings(cC);},C.sendMessage({$:8,$0:cx,$1:cz,$2:cA,$3:cy}));},ToolTip:function(cx,cy,cz,cA){var cB;cB=this;return cB.Async_map(function(cC){return cB.tip2String(cC);},C.sendMessage({$:3,$0:cx,$1:cy,$2:cz,$3:cA}));},ToolTip$1:function(cx,cy,cz){var cA;cA=this;return cA.Async_map(function(cB){return cA.tip2String(cB);},C.sendMessage({$:2,$0:cx,$1:cy,$2:cz}));},Parse:function(cx,cy){var cz;cz=this;return cz.Async_map(function(cA){return cz.errors2String(cA);},C.sendMessage({$:10,$0:cx,$1:cy,$2:[]}));},Parse$1:function(cx,cy,cz){var cA;cA=this;return cA.Async_map(function(cB){return cA.errors2String(cB);},C.sendMessage({$:10,$0:cx,$1:cy,$2:cz}));},MustParse:function(cx,cy){var cz;cz=this;return cz.Async_map(function(cA){return cz.info2Bool(cA);},C.sendMessage({$:11,$0:cx,$1:cy}));}},bO.Obj,_1);_1.New=bN.Ctor(function(cx,cy){},_1);C.sendMessage=function(cx){var cy;cy=null;return bT.Delay(function(){return bT.Bind((new b8.New()).Async("FSharpStation:FSSGlobal.FSAutoCompleteIntermediary.sendMessageRpc:1124743568",[cx]),function(cz){return bT.Return(cz);});});};_3=_2.Val=bN.Class({get_ValTypeMember:function(){return 0;}},null,_3);_4.HelperType={$:0};_4.op_AmpGreater=function(cx,cy){return new _3({$:2,$0:cy});};_4.op_AmpGreater$1=function(cx,cy){return new _3({$:1,$0:cy});};_4.op_AmpGreater$2=function(cx,cy){return cy;};_4.op_AmpGreater$3=function(cx,cy){return cy;};_4.op_AmpGreater$4=function(cx,cy){return cy;};_4.op_AmpGreater$5=function(cx,cy){return cy;};_4.op_AmpGreater$6=function(cx,cy){return cy;};_4.op_AmpGreater$7=function(cx,cy){return cy;};_4.op_AmpGreater$8=function(cx,cy){return cy;};_4.op_AmpGreater$9=function(cx,cy){return new _3({$:0,$0:cy});};_4.op_AmpGreater$10=function(cx,cy){return new _3({$:0,$0:cy});};_4.op_AmpGreater$11=function(cx,cy){return new _3({$:0,$0:cy});};_4.op_AmpGreater$12=function(cx,cy){return new _3({$:0,$0:cy});};_4.op_AmpGreater$13=function(cx,cy){return new _3({$:0,$0:cy});};_4.op_AmpGreater$14=function(cx,cy){return new _3({$:0,$0:cy});};_5=_3.valBuilder=bN.Class({Delay:function(cx){return cx();},Zero:function(){return new _3({$:0,$0:null});},Bind:function(cx,cy){return _3.bind(cy,cx);},Bind$1:function(cx,cy){return _3.bind(cy,cx);},Bind$2:function(cx,cy){return _3.bind(cy,cx);},ReturnFrom:a.id,Return:function(cx){return new _3({$:0,$0:cx});}},bO.Obj,_5);_5.New=bN.Ctor(function(){},_5);_3.fixitF=function(cx,cy){return cx(cy);};_3.valFlow=function(){bH.$cctor();return bH.valFlow;};_3.mapCached=function(cx,cy){return new _3({$:2,$0:b$.MapCached(cx,_3.toView(cy))});};_3.sink=function(cx,cy){b$.Sink(cx,_3.toView(_3.fixit(cy)));};_3.mapAsync=function(cx,cy){return new _3({$:2,$0:b$.MapAsync(cx,_3.toView(_3.fixit(cy)))});};_3.iter4=function(cx,cy,cz,cA,cB){_3.iterV(a.ignore,_3.map4(cx,cy,cz,cA,cB));};_3.iter3=function(cx,cy,cz,cA){_3.iterV(a.ignore,_3.map3(cx,cy,cz,cA));};_3.iter2=function(cx,cy,cz){_3.iterV(a.ignore,_3.map2(cx,cy,cz));};_3.apply=function(cx,cy){return _3.bindV(function(cz){return _3.mapV(cz,cx);},cy);};_3.map4=function(cx,cy,cz,cA,cB){return _3.map4V(cx,_3.fixit(cy),_3.fixit(cz),_3.fixit(cA),_3.fixit(cB));};_3.map3=function(cx,cy,cz,cA){return _3.map3V(cx,_3.fixit(cy),_3.fixit(cz),_3.fixit(cA));};_3.map2=function(cx,cy,cz){return((_3.map2V(cx))(_3.fixit(cy)))(_3.fixit(cz));};_3.map=function(cx,cy){return _3.mapV(cx,_3.fixit(cy));};_3.bind=function(cx,cy){return _3.bindV(cx,_3.fixit(cy));};_3.iter=function(cx,cy){_3.iterV(cx,_3.fixit(cy));};_3.toDoc=function(cx){return ca.EmbedView(_3.toView(_3.fixit(cx)));};_3.fixit=function(cx){return _3.fixitF(_3.toVal,cx);};_3.toVal=function(cx){return typeof cx=="string"?new _3({$:0,$0:cx}):typeof cx=="number"?new _3({$:0,$0:cx}):typeof cx=="boolean"?new _3({$:0,$0:cx}):cx instanceof ca?new _3({$:0,$0:cx}):cx instanceof _3?cx:cx instanceof b_.Var?new _3({$:1,$0:cx}):"RSet"in cx?new _3({$:1,$0:cx}):typeof cx=="function"?new _3({$:2,$0:cx}):cx.get_ValTypeMember()===0?cx:cb.FailWith((function(cy){return function(cz){return cy("Could not convert "+bP.prettyPrint(cz));};}(a.id))(cx));};_3.attrV=function(cx,cy){return cy.$==2?cc.Dynamic(cx,cy.$0):cy.$==1?cc.Dynamic(cx,cy.$0.RView()):cd.Create(cx,cy.$0);};_3.attrVO=function(cx,cy){var cz,cA;return cy.$==2?(cz=cy.$0,cc.DynamicPred(cx,b$.Map(function(cB){return cB!=null;},cz),b$.Map(function(cB){return cB==null?"":cB.$0;},cz))):cy.$==1?(cA=cy.$0,cc.DynamicPred(cx,b$.Map(function(cB){return cB!=null;},cA.RView()),b$.Map(function(cB){return cB==null?"":cB.$0;},cA.RView()))):cy.$0==null?cc.DynamicPred(cx,b$.Const(false),b$.Const("")):cd.Create(cx,cy.$0.$0);};_3.tagElt=function(cx,cy){return cy.$==2?ca.EmbedView(b$.Map(cx,cy.$0)):cy.$==1?ca.EmbedView(b$.Map(cx,cy.$0.RView())):cx(cy.$0);};_3.tagDoc=function(cx,cy){return cy.$==2?ca.EmbedView(b$.Map(cx,cy.$0)):cy.$==1?ca.EmbedView(b$.Map(cx,cy.$0.RView())):cx(cy.$0);};_3.map4V=function(cx,cy,cz,cA,cB){var cC;cC=_3.map3V(cx,cy,cz,cA);return((_3.map2V(function(cD){return function(cE){return cE(cD);};}))(cB))(cC);};_3.map3V=function(cx,cy,cz,cA){var cB;cB=((_3.map2V(cx))(cy))(cz);return((_3.map2V(function(cC){return function(cD){return cD(cC);};}))(cA))(cB);};_3.map2V=function(cx){function cy(cA,cB,cC){return(cA(cC))(cB);}function cz(cA){var cB,cC;cB=(cC=function(cD){var cE;cE=cx(cD);return function(cF){return _3.mapV(cE,cF);};},function(cD){return cy(cC,cA,cD);});return function(cD){return _3.bindV(cB,cD);};}return(bN.Curried3(cy))(cz);};_3.bindV=function(cx,cy){return cy.$==2?new _3({$:2,$0:b$.Bind(function(cz){return _3.toView(cx(cz));},cy.$0)}):cy.$==1?new _3({$:2,$0:b$.Bind(function(cz){return _3.toView(cx(cz));},cy.$0.RView())}):cx(cy.$0);};_3.getAsync=function(cx){return cx.$==2?b$.GetAsync(cx.$0):cx.$==1?bT.Return(cx.$0.RVal()):bT.Return(cx.$0);};_3.toView=function(cx){return cx.$==2?cx.$0:cx.$==1?cx.$0.RView():b$.Const(cx.$0);};_3.iterV=function(cx,cy){if(cy.$==2)b$.Get(cx,cy.$0);else if(cy.$==1)cx(cy.$0.RVal());else cx(cy.$0);};_3.mapV=function(cx,cy){return cy.$==2?new _3({$:2,$0:b$.Map(cx,cy.$0)}):cy.$==1?new _3({$:2,$0:b$.Map(cx,cy.$0.RView())}):new _3({$:0,$0:cx(cy.$0)});};_6=_2.HtmlNode=bN.Class({Style:function(cx){return this.AddChildren([_2.style(cx)]);},AddClass:function(cx){return _2.addClass(cx,this);},InsertChildren:function(cx){return _2.insertChildren(cx,this);},AddChildren:function(cx){return _2.addChildren(cx,this);},get_toDoc:function(){var cx,cy,cz;return this.$==1||this.$==4&&true?ca.Empty():(cy=_2.chooseNode(this),(cz=ca.Empty(),cy==null?cz:cy.$0));}},null,_6);_6.HtmlEmpty=new _6({$:4});_6.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(cx,cy){return _2.indent2Level(11,cy,cx);};_6.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(cx,cy){return _2.indent2Level(10,cy,cx);};_6.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(cx,cy){return _2.indent2Level(9,cy,cx);};_6.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(cx,cy){return _2.indent2Level(8,cy,cx);};_6.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(cx,cy){return _2.indent2Level(7,cy,cx);};_6.op_MinusMinusMinusMinusMinusMinusMinusMinusMinusMinus=function(cx,cy){return _2.indent2Level(6,cy,cx);};_6.op_MinusMinusMinusMinusMinusMinusMinusMinus=function(cx,cy){return _2.indent2Level(5,cy,cx);};_6.op_MinusMinusMinusMinusMinusMinus=function(cx,cy){return _2.indent2Level(4,cy,cx);};_6.op_MinusMinusMinusMinus=function(cx,cy){return _2.indent2Level(3,cy,cx);};_6.op_MinusMinus=function(cx,cy){return _2.indent2Level(2,cy,cx);};_6.op_Addition=function(cx,cy){return new bR.T({$:1,$0:cy,$1:cx});};_6.op_MinusMinusMinus=function(cx,cy){return cx.$==1?cx.$1.$==1?new bR.T({$:1,$0:cx.$1.$0.AddChildren([cx.$0.AddChildren([cy])]),$1:cx.$1.$1}):bR.ofArray([cx.$0.AddChildren([cy])]):bR.T.Empty;};_6.op_Subtraction=function(cx,cy){return cx.$==0?bR.T.Empty:new bR.T({$:1,$0:cx.$0.AddChildren([cy]),$1:cx.$1});};_2.LoadFilesAsync=function(cx){function cy(cz,cA){try{a.CIPHERSpaceLoadFiles(cx,cz);}catch(cB){cA(cB);}}return bT.FromContinuations(function(cz,cA,cB){return cy.apply(null,[cz,cA,cB]);});};_2.findRootElement=function(cx){var cy;return!function(cz){return cx.getRootNode(cz);}?a.document.body:(cy=cx.getRootNode(),!cy.body?cy.firstChild:cy.body);};_2.createIFrame=function(cx){var cy;cy=ce.Create$1(true);return _2.div([_2.style("position: relative; overflow: hidden; height: 100%; width: 100%;"),_2.iframe([_2.style("position: absolute; width:100%; height:100%;"),_2.frameborder("0"),new _6({$:7,$0:cc.OnAfterRender(cx)}),new _6({$:7,$0:cc.Handler("mouseleave",function(){return function(){return ce.Set(cy,true);};})})]),_2.div([_2.style("position: absolute;"),_2.classIf("iframe-cover",_3.map(a.id,cy)),new _6({$:7,$0:cc.Handler("mouseenter",function(){return function(){return b$.Get(function(cz){if(!cz)ce.Set(cy,false);},cg.get_MousePressed());};})})]),_2.styleH([_2.htmlText(".iframe-cover { top:0; left:0; right:0; bottom:0; background: blue; opacity: 0.04; z-index: 2; }")])]);};_2.bindHElem=function(cx,cy){return new _6({$:5,$0:_3.map(cx,_3.fixit(cy))});};_2.string2Styles=function(){bH.$cctor();return bH.string2Styles;};_2.style2pairs=function(cx){return bY.map(function(cy){return[bQ.Trim(bY.get(cy,0)),bQ.Trim(bY.get(cy,1))];},bY.filter(function(cy){return bY.length(cy)===2;},bY.map(function(cy){return bQ.SplitChars(cy,[":"],0);},bQ.SplitChars(cx,[";"],0))));};_2.xclass=function(cx){var cy,cz;return new _6({$:7,$0:(cy=_3.fixit(cx),cy.$==2?cc.DynamicClass("class_for_view_not_implemented",cy.$0,function(cA){return""!==cA;}):cy.$==1?(cz=cy.$0,cc.DynamicClass(cz.RVal(),cz.RView(),function(cA){return""!==cA;})):cc.Class(cy.$0))});};_2.classIf=function(cx,cy){return _2["class"](_3.map(function(cz){return cz?cx:"";},_3.fixit(cy)));};_2.css=function(cx){return _2.styleH([_2.htmlText(cx)]);};_2.style1=function(cx,cy){var cz;return _2.style(_3.map((cz=cx+":",function(cA){return cz+cA;}),cy));};_2.style=function(cx){return _2.htmlAttribute("style",cx);};_2.draggable=function(cx){return _2.htmlAttribute("draggable",cx);};_2.spellcheck=function(cx){return _2.htmlAttribute("spellcheck",cx);};_2.frameborder=function(cx){return _2.htmlAttribute("frameborder",cx);};_2.Id=function(cx){return _2.htmlAttribute("id",cx);};_2.title=function(cx){return _2.htmlAttribute("title",cx);};_2.width=function(cx){return _2.htmlAttribute("width",cx);};_2.type=function(cx){return _2.htmlAttribute("type",cx);};_2["class"]=function(cx){return _2.htmlAttribute("class",cx);};_2.src=function(cx){return _2.htmlAttribute("src",cx);};_2.charset=function(cx){return _2.htmlAttribute("charset",cx);};_2.rel=function(cx){return _2.htmlAttribute("rel",cx);};_2.hrefO=function(cx){return _2.htmlAttributeO("href",cx);};_2.href=function(cx){return _2.htmlAttribute("href",cx);};_2.target=function(cx){return _2.htmlAttribute("target",cx);};_2.strong=function(cx){return _2.htmlElement("strong",cx);};_2.section=function(cx){return _2.htmlElement("section",cx);};_2.body=function(cx){return _2.htmlElement("body",cx);};_2.iframe=function(cx){return _2.htmlElement("iframe",cx);};_2.link=function(cx){return _2.htmlElement("link",cx);};_2.fieldset=function(cx){return _2.htmlElement("fieldset",cx);};_2.styleH=function(cx){return _2.htmlElement("style",cx);};_2.script=function(cx){return _2.htmlElement("script",cx);};_2.button=function(cx){return _2.htmlElement("button",cx);};_2.label=function(cx){return _2.htmlElement("label",cx);};_2.tbody=function(cx){return _2.htmlElement("tbody",cx);};_2.td=function(cx){return _2.htmlElement("td",cx);};_2.tr=function(cx){return _2.htmlElement("tr",cx);};_2.th=function(cx){return _2.htmlElement("th",cx);};_2.thead=function(cx){return _2.htmlElement("thead",cx);};_2.table=function(cx){return _2.htmlElement("table",cx);};_2.form=function(cx){return _2.htmlElement("form",cx);};_2.span=function(cx){return _2.htmlElement("span",cx);};_2.img=function(cx){return _2.htmlElement("img",cx);};_2.div=function(cx){return _2.htmlElement("div",cx);};_2.h6=function(cx){return _2.htmlElement("h6",cx);};_2.h5=function(cx){return _2.htmlElement("h5",cx);};_2.h4=function(cx){return _2.htmlElement("h4",cx);};_2.h3=function(cx){return _2.htmlElement("h3",cx);};_2.h2=function(cx){return _2.htmlElement("h2",cx);};_2.h1=function(cx){return _2.htmlElement("h1",cx);};_2.hr=function(cx){return _2.htmlElement("hr",cx);};_2.br=function(cx){return _2.htmlElement("br",cx);};_2.li=function(cx){return _2.htmlElement("li",cx);};_2.ul=function(cx){return _2.htmlElement("ul",cx);};_2.p=function(cx){return _2.htmlElement("p",cx);};_2.a=function(cx){return _2.htmlElement("a",cx);};_2.textV=function(cx){return _2.tag(ca.TextNode,cx);};_2._placeholder=function(cx){return _2.atr("placeholder",cx);};_2._style=function(cx){return _2.atr("style",cx);};_2._type=function(cx){return _2.atr("type",cx);};_2._class=function(cx){return _2.atr("class",cx);};_2.tag=function(cx,cy){return _3.tagDoc(cx,_3.fixit(cy));};_2.atr=function(cx,cy){return _3.attrV(cx,_3.fixit(cy));};_2.renderDoc=function(){bH.$cctor();return bH.renderDoc;};_2.op_BangBang=function(cx,cy){return bR.ofArray([cx(cy)]);};_2.endHtmlIndent=function(cx){var cy;cy=_2.finishO(cx);return cy==null?_2.htmlText("Malformed HTMLNode"):cy.$0;};_2.finishO=function(cx){return cx.$==1?cx.$1.$==1?_2.finishO(_2.out(cx)):{$:1,$0:cx.$0}:null;};_2.indent2Level=function(cx,cy,cz){return cz.get_Length()<cx?new bR.T({$:1,$0:cy,$1:cz}):_2.indent2Level(cx,cy,_2.out(cz));};_2.out=function(cx){return cx.$==1?cx.$1.$==1?new bR.T({$:1,$0:_2.addChildren([cx.$0],cx.$1.$0),$1:cx.$1.$1}):bR.ofArray([cx.$0]):bR.T.Empty;};_2.addClassIf=function(cx,cy){var cz;cz=_3.map(function(cA){return cA?cx:"";},_3.fixit(cy));return function(cA){return _2.addClass(cz,cA);};};_2.addClass=function(cx,cy){return _2.addChildren(bR.ofArray([_2.htmlAttribute("class",cx)]),cy);};_2.insertChildren=function(cx,cy){function cz(cA,cB){return[cA,bS.append(cx,cB)];}return _2.mapHtmlElement(function(cA){return function(cB){return cz(cA,cB);};},cy);};_2.addChildren=function(cx,cy){function cz(cA,cB){return[cA,bS.append(cB,cx)];}return _2.mapHtmlElement(function(cA){return function(cB){return cz(cA,cB);};},cy);};_2.someElt=function(cx){return new _6({$:6,$0:cx});};_2.str=function(cx){return new _6({$:3,$0:_3.fixit(cx)});};_2.htmlText=function(cx){return new _6({$:3,$0:_3.fixit(cx)});};_2.htmlAttributeO=function(cx,cy){return new _6({$:2,$0:cx,$1:_3.fixit(cy)});};_2.htmlAttribute=function(cx,cy){return new _6({$:1,$0:cx,$1:_3.fixit(cy)});};_2.htmlElement=function(cx,cy){return new _6({$:0,$0:cx,$1:cy});};_2.mapHtmlElement=function(cx,cy){var cz;return cy.$==0?(cz=(cx(cy.$0))(cy.$1),new _6({$:0,$0:cz[0],$1:cz[1]})):cy.$==5?new _6({$:5,$0:_3.map(function(cA){return _2.mapHtmlElement(cx,cA);},cy.$0)}):cy;};_2.getAttrChildren=function(cx){var cy,cz,cA;function cB(cC){var cD;return cC.$==1&&(cC.$0===cx&&(cD=[cC.$0,cC.$1],true))?{$:1,$0:cD[1]}:null;}cy=function(cC){return bS.tryPick(cB,cC);};cz=(cA=new _3({$:0,$0:""}),function(cC){return cC==null?cA:cC.$0;});return function(cC){return cz(cy(cC));};};_2.chooseNode=function(cx){var cy,cz,cA,cB;return cx.$==0?(cy=cx.$1,{$:1,$0:ca.Element(cx.$0,_2.getAttrsFromSeq(cy),bS.choose(_2.chooseNode,cy))}):cx.$==3?{$:1,$0:_3.tagDoc(ca.TextNode,cx.$0)}:cx.$==6?{$:1,$0:cx.$0}:cx.$==5?{$:1,$0:(cz=_3.toView(cx.$0),ca.BindView((cA=(cB=ca.Empty(),function(cC){return cC==null?cB:cC.$0;}),function(cC){return cA(_2.chooseNode(cC));}),cz))}:null;};_2.getAttrsFromSeq=function(cx){var cy;cy=bS.choose(_2.chooseAttr,cx);return bS.append(bR.choose(a.id,bR.ofArray([_2.groupAttr("class"," ",cx),_2.groupAttr("style","; ",cx)])),cy);};_2.groupAttr=function(cx,cy,cz){var cA,cB;function cC(cD,cE){return _2.concat(cy,cD,cE);}cA=bS.choose(function(cD){return _2.chooseThisAttr(cx,cD);},cz);return bS.isEmpty(cA)?null:{$:1,$0:_3.attrV(cx,(cB=(bN.Curried3(_3.map2))(function(cD){return function(cE){return cC(cD,cE);};}),bS.reduce(function(cD,cE){return(cB(cD))(cE);},cA)))};};_2.concat=function(cx,cy,cz){return cy+cx+cz;};_2.chooseThisAttr=function(cx,cy){var cz;return cy.$==1&&(cy.$0===cx&&(cz=[cy.$0,cy.$1],true))?{$:1,$0:cz[1]}:null;};_2.chooseAttr=function(cx){var cy,cz,cA,cB;return cx.$==1&&((cz=cx.$0,cz!=="class"&&cz!=="style")&&(cy=[cx.$0,cx.$1],true))?{$:1,$0:_3.attrV(cy[0],cy[1])}:cx.$==2&&((cB=cx.$0,cB!=="class"&&cB!=="style")&&(cA=[cx.$0,cx.$1],true))?{$:1,$0:_3.attrVO(cA[0],cA[1])}:cx.$==7?{$:1,$0:cx.$0}:null;};_2.addClassX=function(cx,cy){var cz;return bQ.concat(" ",(cz=new ch.New$1(ci.OfSeq(bQ.SplitChars(cx,[" "],0))),new ch.New$1(ci.OfSeq(bS.append(new ch.New$1(ci.OfSeq(bQ.SplitChars(cy,[" "],0))),cz)))));};_8=_7.Button=bN.Class({OnClick:function(cx){return _8.New(this._class,this._type,this.style,this.text,cx,this.disabled,this.id);},Disabled:function(cx){return _8.New(this._class,this._type,this.style,this.text,this.onClick,_3.fixit(cx),this.id);},Text:function(cx){return _8.New(this._class,this._type,this.style,_3.fixit(cx),this.onClick,this.disabled,this.id);},Style:function(cx){return _8.New(this._class,this._type,_3.fixit(cx),this.text,this.onClick,this.disabled,this.id);},Type:function(cx){return _8.New(this._class,_3.fixit(cx),this.style,this.text,this.onClick,this.disabled,this.id);},Class:function(cx){return _8.New(_3.fixit(cx),this._type,this.style,this.text,this.onClick,this.disabled,this.id);},Id:function(cx){return _8.New(this._class,this._type,this.style,this.text,this.onClick,this.disabled,cx);},get_Render:function(){var cx,cy;return new _6({$:6,$0:(cx=_2.button([_2.type(this._type),_2["class"](this._class),_2.Id(this.id),_2.style(this.style),new _6({$:7,$0:(cy=b$.Const(""),cc.DynamicPred("disabled",_3.toView(this.disabled),cy))}),new _6({$:7,$0:cd.Handler("click",this.onClick)}),new _6({$:3,$0:this.text})]),(_2.renderDoc())(cx))});}},null,_8);_8.New$1=function(cx){return _8.New(_3.fixit("btn"),_3.fixit("button"),_3.fixit(""),_3.fixit(cx),function(){return function(){return null;};},_3.fixit(false),"");};_8.New=function(cx,cy,cz,cA,cB,cC,cD){return new _8({_class:cx,_type:cy,style:cz,text:cA,onClick:cB,disabled:cC,id:cD});};_9=_7.Input=bN.Class({get_Var:function(){return this["var"];},SetVar:function(cx){return _9.New(this._type,this._class,this.style,this.placeholder,this.id,cx,this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Suffix:function(cx){return _9.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,cx,this.content,this.prefixAdded,true);},Prefix:function(cx){return this.Prefix$1(_2.htmlText(cx));},Prefix$1:function(cx){return _9.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],cx,this.suffix,this.content,true,this.suffixAdded);},Content:function(cx){return _9.New(this._type,this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,cx,this.prefixAdded,this.suffixAdded);},Id:function(cx){return _9.New(this._type,this._class,this.style,this.placeholder,cx,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Placeholder:function(cx){return _9.New(this._type,this._class,this.style,_3.fixit(cx),this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Style:function(cx){return _9.New(this._type,this._class,_3.fixit(cx),this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Type:function(cx){return _9.New(_3.fixit(cx),this._class,this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},Class:function(cx){return _9.New(this._type,_3.fixit(cx),this.style,this.placeholder,this.id,this["var"],this.prefix,this.suffix,this.content,this.prefixAdded,this.suffixAdded);},get_Render:function(){var cx;function cy(cz){return cz.$==3?"input-group-addon":"input-group-btn";}cx=this;return _2.div(bR.ofSeq(bS.delay(function(){return bS.append(cx.prefixAdded||cx.suffixAdded?[_2["class"]("input-group")]:[],bS.delay(function(){return bS.append(cx.prefixAdded?[_2.span([_2["class"](cy(cx.prefix)),cx.prefix])]:[],bS.delay(function(){return bS.append([new _6({$:6,$0:ca.Input(bS.append(cx.content,bR.ofArray([_2._type(cx._type),_2._class(cx._class),_2._style(cx.style),cd.Create("id",cx.id),_2._placeholder(cx.placeholder)])),cx["var"])})],bS.delay(function(){return cx.suffixAdded?[_2.span([_2["class"](cy(cx.suffix)),cx.suffix])]:[];}));}));}));})));}},null,_9);_9.New$1=function(cx){return _9.New$2(ce.Create$1(cx));};_9.New$2=function(cx){var cy;cy=_3.fixit("form-control");return _9.New(_3.fixit("text"),cy,_3.fixit(""),_3.fixit("Enter text:"),"",cx,_6.HtmlEmpty,_6.HtmlEmpty,bR.T.Empty,false,false);};_9.New=function(cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH){return new _9({_type:cx,_class:cy,style:cz,placeholder:cA,id:cB,"var":cC,prefix:cD,suffix:cE,content:cF,prefixAdded:cG,suffixAdded:cH});};_=_7.Hoverable=bN.Class({Content:function(cx){var cy;cy=this;return cx.AddChildren([_2.classIf("hovering",this.hover),new _6({$:7,$0:cc.Handler("mouseenter",function(){return function(){return cy.hover.set_RVal(true);};})}),new _6({$:7,$0:cc.Handler("mouseleave",function(){return function(){return cy.hover.set_RVal(false);};})})]);},Content$1:function(cx){var cy;cy=this;return _2.div(bS.append(cx,bR.ofArray([_2.classIf("hovering",this.hover),new _6({$:7,$0:cc.Handler("mouseenter",function(){return function(){return cy.hover.set_RVal(true);};})}),new _6({$:7,$0:cc.Handler("mouseleave",function(){return function(){return cy.hover.set_RVal(false);};})})])));}},null,_);_.get_Demo=function(){return _.get_New().Content(_2.div([_2.style("flex-flow: column;")]));};_.get_New=function(){return _.New(ce.Create$1(false));};_.New=function(cx){return new _({hover:cx});};$=_7.TextArea=bN.Class({get_Var:function(){return this["var"];},SetVar:function(cx){return $.New(this._class,this.placeholder,this.title,this.spellcheck,this.id,cx);},Id:function(cx){return $.New(this._class,this.placeholder,this.title,this.spellcheck,cx,this["var"]);},Spellcheck:function(cx){return $.New(this._class,this.placeholder,this.title,cx,this.id,this["var"]);},Title:function(cx){return $.New(this._class,this.placeholder,_3.fixit(cx),this.spellcheck,this.id,this["var"]);},Placeholder:function(cx){return $.New(this._class,_3.fixit(cx),this.title,this.spellcheck,this.id,this["var"]);},Class:function(cx){return $.New(_3.fixit(cx),this.placeholder,this.title,this.spellcheck,this.id,this["var"]);},get_Render:function(){return this.RenderWith(bR.T.Empty);},RenderWith:function(cx){return _2.div([_2.someElt(ca.InputArea(bR.append(bR.ofArray([_2._class(this._class),cd.Create("id",this.id),_2.atr("spellcheck",_3.map(function(cy){return cy?"true":"false";},this.spellcheck)),_2.atr("title",this.title),_2.atr("style","height: 100%;  width: 100%; box-sizing: border-box; "),_2._placeholder(this.placeholder)]),cx),this["var"]))]);}},null,$);$.New$1=function(cx){return $.New$2(ce.Create$1(cx));};$.New$2=function(cx){return $.New(_3.fixit("form-control"),_3.fixit("Enter text:"),_3.fixit(""),_3.fixit(false),"",cx);};$.New=function(cx,cy,cz,cA,cB,cC){return new $({_class:cx,placeholder:cy,title:cz,spellcheck:cA,id:cB,"var":cC});};ba.New=function(cx,cy){return{line:cx,ch:cy};};bb=_7.CodeMirrorEditor=bN.Class({},bO.Obj,bb);bb.New=bN.Ctor(function(){},bb);bc=_7.CodeMirror=bN.Class({get_Var:function(){return this["var"];},OnRender:function(cx){return bc.New(this._class,this.style,this.id,this["var"],this.onChange,{$:1,$0:cx},this.editorO);},OnChange:function(cx){return bc.New(this._class,this.style,this.id,this["var"],cx,this.onRender,this.editorO);},Style:function(cx){return bc.New(this._class,_3.fixit(cx),this.id,this["var"],this.onChange,this.onRender,this.editorO);},SetVar:function(cx){return bc.New(this._class,this.style,this.id,cx,this.onChange,this.onRender,this.editorO);},Id:function(cx){return bc.New(this._class,this.style,cx,this["var"],this.onChange,this.onRender,this.editorO);},Class:function(cx){return bc.New(_3.fixit(cx),this.style,this.id,this["var"],this.onChange,this.onRender,this.editorO);},get_Render:function(){var cx;cx=this;return _2.div([_2["class"](this._class),new _6({$:7,$0:cd.Create("id",this.id)}),_2.style("position: relative; height: 300px"),_2.style(this.style),_2.div([_2.style("height: 100%; width: 100%; position: absolute;"),new _6({$:7,$0:cc.OnAfterRender(function(cy){a.CIPHERSpaceLoadFiles(_7.codeMirrorIncludes(),function(){var cz,cA,cB,cC;cz=a.CodeMirror(cy,{theme:"rubyblue",lineNumbers:true,matchBrackets:true,gutters:["CodeMirror-lint-markers"],extraKeys:{Tab:function(cD){cD.replaceSelection("    ","end");},F11:function(cD){cD.setOption("fullScreen",!cD.getOption("fullScreen"));}}});cx.editorO={$:1,$0:cz};cA=cx.onRender;cA==null?void 0:cA.$0(cz);cB=[0];cC=[0];cz.on("changes",function(){var cD;cD=cz.getValue();cx["var"].RVal()!==cD?(cB[0]=cB[0]+1,cx["var"].set_RVal(cD),cx.onChange()):void 0;});b$.Sink(function(){if(cB[0]>cC[0])cC[0]=cB[0];else if(cz.getValue()!==cx["var"].RVal()){cz.setValue(cx["var"].RVal());cz.getDoc().clearHistory();}},cx["var"].RView());});})})]),_2.link([_2.href("/EPFileX/codemirror/content/editor.css"),_2.type("text/css"),_2.rel("stylesheet")]),_2.link([_2.href("/EPFileX/codemirror/content/codemirror.css"),_2.type("text/css"),_2.rel("stylesheet")]),_2.link([_2.href("/EPFileX/codemirror/scripts/addon/display/fullscreen.css"),_2.type("text/css"),_2.rel("stylesheet")]),_2.link([_2.href("/EPFileX/codemirror/scripts/addon/dialog/dialog.css"),_2.type("text/css"),_2.rel("stylesheet")]),_2.link([_2.href("/EPFileX/codemirror/scripts/addon/hint/show-hint.css"),_2.type("text/css"),_2.rel("stylesheet")]),_2.link([_2.href("/EPFileX/codemirror/scripts/addon/lint/lint.css"),_2.type("text/css"),_2.rel("stylesheet")]),_2.css(".CodeMirror { height: 100% }")]);}},null,bc);bc.New$1=function(cx){return bc.New$2(ce.Create$1(cx));};bc.New$2=function(cx){return bc.New(_3.fixit(""),_3.fixit(""),"",cx,a.ignore,null,null);};bc.New=function(cx,cy,cz,cA,cB,cC,cD){return new bc({_class:cx,style:cy,id:cz,"var":cA,onChange:cB,onRender:cC,editorO:cD});};bd.New=function(cx,cy,cz){return{text:cx,displayText:cy,className:cz};};be.New=function(cx,cy,cz){return{list:cx,from:cy,to:cz};};bf.New=function(cx,cy,cz){return{hint:cx,completeSingle:cy,container:cz};};bg.New=function(cx,cy,cz,cA){return{message:cx,severity:cy,from:cz,to:cA};};bh=_7.SplitterBar=bN.Class({Children:function(cx){return bh.New(this.value,this.min,this.max,this.vertical,this.node,cx,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},get_After:function(){return bh.New(this.value,this.min,this.max,this.vertical,this.node,this.children,true,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},get_Before:function(){return bh.New(this.value,this.min,this.max,this.vertical,this.node,this.children,false,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Horizontal:function(){return bh.New(this.value,this.min,this.max,_3.fixit(false),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Vertical:function(){return bh.New(this.value,this.min,this.max,_3.fixit(true),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Horizontal$1:function(cx){return bh.New(this.value,this.min,this.max,_3.map(function(cy){return!cy;},_3.fixit(cx)),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Vertical$1:function(cx){return bh.New(this.value,this.min,this.max,_3.fixit(cx),this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Max:function(cx){return bh.New(this.value,this.min,_3.fixit(cx),this.vertical,this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Min:function(cx){return bh.New(this.value,_3.fixit(cx),this.max,this.vertical,this.node,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Node:function(cx){return bh.New(this.value,this.min,this.max,this.vertical,cx,this.children,this.after,this.dragging,this.startVer,this.startP,this.start,this.size,this.domElem);},Value:function(cx){this.value.set_RVal(cx);return this;},get_Render:function(){var cx;function cy(cD){return cx.startVer?cD.clientX:cD.clientY;}function cz(){var cD;cD=cx.domElem;return cD!=null&&cD.$==1?cx.startVer?cx.after?cD.$0.parentElement.getBoundingClientRect().width:-cD.$0.parentElement.getBoundingClientRect().width:cx.after?cD.$0.parentElement.getBoundingClientRect().height:-cD.$0.parentElement.getBoundingClientRect().height:100;}function cA(cD){cx.value.set_RVal((cy(cD)-cx.start)*100/cx.size+cx.startP);}function cB(){if(cx.dragging){cx.dragging=false;a.removeEventListener("mousemove",cA,false);a.removeEventListener("mouseup",cB,false);}}function cC(cD,cE){return!cx.dragging?_3.iter(a.ignore,_3.map2(function(cF){return function(cG){cx.dragging=true;cx.startVer=cG;cx.startP=cF;cx.start=cy(cE);cx.size=cz();a.addEventListener("mousemove",cA,false);a.addEventListener("mouseup",cB,false);return cE.preventDefault();};},cx.get_GetValue(),cx.vertical)):null;}cx=this;return this.node.AddChildren([_2["class"](_3.map(function(cD){return cD?"Vertical":"Horizontal";},this.vertical)),new _6({$:7,$0:cc.Handler("mousedown",function(cD){return function(cE){return cC(cD,cE);};})}),new _6({$:7,$0:cc.OnAfterRender(function(cD){cx.domElem={$:1,$0:cD};})}),_2.css("\n                    .Splitter.Vertical   { cursor: col-resize; background-color: #eef ; width : 5px ; margin-left:-7px; }\n                    .Splitter.Horizontal { cursor: row-resize; background-color: #eef ; height: 5px ; margin-top :-7px; }\n                ")]).AddChildren(this.children);},get_GetValue:function(){function cx(cz,cA){return bZ.Compare(cz,cA)===-1?cz:cA;}function cy(cz,cA){return bZ.Compare(cz,cA)===1?cz:cA;}return _3.map2(function(cz){return function(cA){return cx(cz,cA);};},this.max,_3.map2(function(cz){return function(cA){return cy(cz,cA);};},this.min,this.value));},get_Var:function(){return this.value;}},null,bh);bh.New$1=function(cx){return bh.New$2(ce.Create$1(cx));};bh.New$2=function(cx){return bh.New(cx,_3.fixit(5),_3.fixit(95),_3.fixit(true),_2.div([_2["class"]("Splitter")]),bR.T.Empty,true,false,true,0,0,0,null);};bh.New=function(cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ){return new bh({value:cx,min:cy,max:cz,vertical:cA,node:cB,children:cC,after:cD,dragging:cE,startVer:cF,startP:cG,start:cH,size:cI,domElem:cJ});};bi.StFixedPerc={$:2};bi.StFixedPx={$:1};bi.StVariable={$:0};bj=_7.Grid=bN.Class({get_Render:function(){return _2.div(this.GridTemplate());},GridTemplate:function(){var cx;cx=this;return bR.ofSeq(bS.delay(function(){function cy(cz,cA){return cz!=null&&cz.$==1?cA.AddChildren([_2.style((function(cB){return function(cC){return cB("grid-area: "+bP.toSafe(cC)+"; dispxlay: grid");};}(a.id))(cz.$0))]):cA;}return bS.append(bS.map(function(cz){return cy(cz[0],cz[1]);},cx.content),bS.delay(function(){function cz(cA,cB){var cC;return cB.$==2?(cC=cB.$0,{$:1,$0:cC.get_Render().InsertChildren([_2.style1("grid-column",a.String(cA+(cC.after?2:1))),_2.style1("grid-row",(function(cD){return function(cE){return cD("1 / "+a.String(cE));};}(a.id))(bY.length(cx.rows)+1))])}):cB.$==1?null:null;}return bS.append(bS.choose(function(cA){return cz(cA[0],cA[1]);},bS.indexed(cx.cols)),bS.delay(function(){function cA(cB,cC){var cD;return cC.$==2?(cD=cC.$0,{$:1,$0:cD.get_Render().InsertChildren([_2.style1("grid-row",a.String(cB+(cD.after?2:1))),_2.style1("grid-column",(function(cE){return function(cF){return cE("1 / "+a.String(cF));};}(a.id))(bY.length(cx.cols)+1))])}):cC.$==1?null:null;}return bS.append(bS.choose(function(cB){return cA(cB[0],cB[1]);},bS.indexed(cx.rows)),bS.delay(function(){return bS.append(cx.styles(),bS.delay(function(){return bS.append([_2.style((((bN.Curried3(function(cB,cC,cD){return cB("display: grid; grid-gap: "+cC.toFixed(6)+"px; padding: "+cD.toFixed(6)+"px; box-sizing: border-box");}))(a.id))(cx.gap))(cx.padding))],bS.delay(function(){return[new _6({$:7,$0:cc.OnAfterRender(function(cB){function cC(cE,cF){return!bZ.Equals(cE.RVal(),cF)?cE.set_RVal(cF):null;}function cD(){var cE;cE=cB.getBoundingClientRect();cC(cx.widthHeight,[cE.width,cE.height]);}cD();_7.addResizeObserver(cD,cB);})})];}));}));}));}));}));}));},styles:function(){return bR.ofArray([_2.style1("grid-template-columns",this.style(this.cols,_3.map(function(cx){return cx[0];},this.widthHeight))),_2.style1("grid-template-rows",this.style(this.rows,_3.map(function(cx){return cx[1];},this.widthHeight)))]);},style:function(cx,cy){var cz,cA,cB,cC;function cD(cG,cH){return function(cI){return cI.$==2?[_3.map2(function(cJ){return function(cK){return cJ+cK;};},cI.$0.get_GetValue(),cG),cH]:cI.$==1?cI.$0.$==1?[cG,_3.map2(function(cJ){return function(cK){return cJ+cK;};},cI.$0.$0,cH)]:[_3.map2(function(cJ){return function(cK){return cJ+cK;};},cI.$0.$0,cG),cH]:[cG,cH];};}function cE(cG){return _3.map2(function(cH){return function(cI){var cJ,cK,cL;cJ=(cK=cH*cI,(cL=0,bZ.Compare(cL,cK)===1?cL:cK));return(function(cM){return function(cN){return cM(cN.toFixed(6)+"%");};}(a.id))(cJ);};},cB,cG);}function cF(cG){return _3.map(function(cH){var cI,cJ;cI=(cJ=0,bZ.Compare(cJ,cH)===1?cJ:cH);return(function(cK){return function(cL){return cK(cL.toFixed(6)+"px");};}(a.id))(cI);},cG);}cz=this;return bY.length(cx)===0?new _3({$:0,$0:"100%"}):(cA=bS.fold(function(cG,cH){return(function(cI){return cD(cI[0],cI[1]);}(cG))(cH);},[new _3({$:0,$0:0}),new _3({$:0,$0:0})],cx),(cB=_3.map2(function(cG){return function(cH){return(cH-cz.padding*2-cz.gap*(bY.length(cx)-1)-cG)/(cH-cz.padding*2);};},cA[1],cy),(cC=_3.map(function(cG){return 100-cG;},cA[0]),_3.map(function(cG){return bQ.concat(" ",cG);},bS.foldBack(function(cG,cH){function cI(cJ,cK){return new bR.T({$:1,$0:cK,$1:cJ});}return _3.map2(function(cJ){return function(cK){return cI(cJ,cK);};},cH,cG.$==2?cE(cG.$0.get_GetValue()):cG.$==1?cG.$0.$==1?cF(cG.$0.$0):cE(cG.$0.$0):cE(cC));},cx,new _3({$:0,$0:bR.T.Empty}))))));},Children:function(cx){return this.changeSplitter(function(cy){return cy.Children(cx);});},Min:function(cx){return this.changeSplitter(function(cy){return cy.Min(cx);});},Max:function(cx){return this.changeSplitter(function(cy){return cy.Max(cx);});},get_Before:function(){return this.changeSplitter(function(cx){return cx.get_Before();});},changeSplitter:function(cx){var cy,cz;cy=this;cz=this.lastSplitter;cz==null?void 0:(function(cA,cB){var cC,cD;if(cB){cC=bY.get(cy.cols,cA);cC.$==2?bY.set(cy.cols,cA,{$:2,$0:cx(cC.$0)}):void 0;}else{cD=bY.get(cy.rows,cA);cD.$==2?bY.set(cy.rows,cA,{$:2,$0:cx(cD.$0)}):void 0;}}).apply(null,cz.$0);return this;},Gap:function(cx){return bj.New(this.padding,cx,this.content,this.cols,this.rows,this.widthHeight,this.lastSplitter);},Padding:function(cx){return bj.New(cx,this.gap,this.content,this.cols,this.rows,this.widthHeight,this.lastSplitter);},Content:function(cx){return bj.New(this.padding,this.gap,this.content.concat([[null,cx]]),this.cols,this.rows,this.widthHeight,this.lastSplitter);},Content$1:function(cx,cy){return bj.New(this.padding,this.gap,this.content.concat([[{$:1,$0:cx},cy]]),this.cols,this.rows,this.widthHeight,this.lastSplitter);},RowAuto:function(cx){return bj.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:0,$0:bh.New$1(cx).Horizontal()}]),this.widthHeight,this.lastSplitter);},RowVariable:function(cx){return this.NewSplitter$1(cx,false);},RowVariable$1:function(cx){return this.NewSplitter(cx,false);},RowVariable$2:function(cx){return bj.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:2,$0:cx}]),this.widthHeight,this.lastSplitter);},RowFixed:function(cx){return bj.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:1,$0:{$:0,$0:_3.fixit(cx)}}]),this.widthHeight,this.lastSplitter);},RowFixedPx:function(cx){return bj.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:1,$0:{$:1,$0:_3.fixit(cx)}}]),this.widthHeight,this.lastSplitter);},ColAuto:function(cx){return bj.New(this.padding,this.gap,this.content,this.cols.concat([{$:0,$0:bh.New$1(cx)}]),this.rows,this.widthHeight,this.lastSplitter);},ColVariable:function(cx){return this.NewSplitter$1(cx,true);},ColVariable$1:function(cx){return this.NewSplitter(cx,true);},ColVariable$2:function(cx){return bj.New(this.padding,this.gap,this.content,this.cols.concat([{$:2,$0:cx}]),this.rows,this.widthHeight,this.lastSplitter);},ColFixed:function(cx){return bj.New(this.padding,this.gap,this.content,this.cols.concat([{$:1,$0:{$:0,$0:_3.fixit(cx)}}]),this.rows,this.widthHeight,this.lastSplitter);},ColFixedPx:function(cx){return bj.New(this.padding,this.gap,this.content,this.cols.concat([{$:1,$0:{$:1,$0:_3.fixit(cx)}}]),this.rows,this.widthHeight,this.lastSplitter);},NewSplitter:function(cx,cy){return this.NewSplitter$1(ce.Create$1(cx),cy);},NewSplitter$1:function(cx,cy){var cz,cA,cB;cz=bh.New$2(cx);return cy?(cA={$:1,$0:[bY.length(this.cols),cy]},bj.New(this.padding,this.gap,this.content,this.cols.concat([{$:2,$0:cz}]),this.rows,this.widthHeight,cA)):(cB={$:1,$0:[bY.length(this.rows),cy]},bj.New(this.padding,this.gap,this.content,this.cols,this.rows.concat([{$:2,$0:cz.Horizontal()}]),this.widthHeight,cB));}},null,bj);bj.NewBisect=function(cx,cy,cz,cA,cB,cC){var cD,cE,cF;cD=cz?[cy.$==1?function(cG){return cG.ColFixedPx(cA);}:cy.$==2?function(cG){return cG.ColFixed(cA);}:function(cG){return cG.ColVariable(cA);},function(cG){return cG.ColAuto(50);},function(cG){return cG.Content(_2.style("grid-template-areas: 'one   two' "));}]:[cy.$==1?function(cG){return cG.RowFixedPx(cA);}:cy.$==2?function(cG){return cG.RowFixed(cA);}:function(cG){return cG.RowVariable(cA);},function(cG){return cG.RowAuto(50);},function(cG){return cG.Content(_2.style("grid-template-areas: 'one' 'two' "));}];cE=cD[0];cF=cD[1];return(cx?function(cG){return cF(cE(cG));}:function(cG){return cE(cF(cG));})(cD[2](bj.get_New().Content$1("one",cB).Content$1("two",cC).Padding(0)));};bj.get_New=function(){return bj.New(9,9,[],[],[],ce.Create$1([1000,100]),null);};bj.New=function(cx,cy,cz,cA,cB,cC,cD){return new bj({padding:cx,gap:cy,content:cz,cols:cA,rows:cB,widthHeight:cC,lastSplitter:cD});};bk=_7.TabStrip=bN.Class({get_Render:function(){var cx,cy,cz,cA;cx=this;cy=_2.bindHElem(function(cB){return _2.div(bR.ofSeq(bS.delay(function(){return bS.append([_2["class"]((((bN.Curried3(function(cC,cD,cE){return cC("tab-strip "+bP.toSafe(cD)+" "+bP.toSafe(cE));}))(a.id))(cx.top?"top":"bottom"))(cx.horizontal?"horizontal":"vertical"))],bS.delay(function(){return bS.collect(function(cC){var cD;cD=cC[0];return[_.get_New().Content(_2.div([_2.htmlText(cC[1][1][0]),_2["class"](_3.map(function(cE){return"tab"+(cE===cD?" selected":"");},cx.selected)),_2.draggable("true"),new _6({$:7,$0:cc.Handler("dragover",function(){return function(cE){return cE.preventDefault();};})}),new _6({$:7,$0:cc.Handler("drag",function(){return function(){(_7.draggedTab())[0]={$:1,$0:[cx,cD]};};})}),new _6({$:7,$0:cc.Handler("drop",function(){return function(cE){cE.preventDefault();cE.stopPropagation();return cx.reorder(cD);};})}),new _6({$:7,$0:cc.Handler("click",function(){return function(){return cx.selected.set_RVal(cD);};})})]))];},bS.indexed(cB));}));})));},this.tabs);_3.sink((cz=this.id,function(cB){_7.setSelectedPanel(cz,cB);}),this.get_Selected());cA=_2.bindHElem(function(cB){return _2.div(bR.ofSeq(bS.delay(function(){return bS.append([_2["class"]("tab-children")],bS.delay(function(){return bS.append([_2.Id(_7.uid2s(cx.id))],bS.delay(function(){function cC(cD,cE){return cE[1].AddChildren([_2.style(_3.map(function(cF){return bS.contains(cD,bS.map(function(cG){return cG[1];},cj.ToSeq(cF)))?"":"display : none";},_7.selectedPanels())),_2.Id(_7.uid2s(cD))]);}return bS.map(function(cD){return cC(cD[0],cD[1]);},cB);}));}));})));},this.tabs);return _2.div([_2["class"]("tab-panel"),this.top?cy:_6.HtmlEmpty,_2.div([cA,_2["class"]("tab-content")]),!this.top?cy:_6.HtmlEmpty,new _6({$:7,$0:cc.Handler("dragover",function(){return function(cB){return cB.preventDefault();};})}),new _6({$:7,$0:cc.Handler("drop",function(){return function(cB){cB.preventDefault();return cx.reorder(bY.length(cx.tabs.RVal()));};})}),_2.css("\n    \n    .tab-panel {\n     overflow  : hidden   ;\n     display   : flex     ;\n     flex-flow : column   ;\n     background: lightgray;\n    }\n    .tab-content {\n     flex      : 1 1     ;\n     overflow  : auto    ;\n     position  : relative;\n    }\n    .tab-children {\n     height    : 100%    ;\n     width     : 100%    ;\n     position  : absolute;\n     display   : grid    ;\n    }\n    .tab-strip {\n     padding   : 0pt     ;\n     flex      : 0 0     ;\n    }\n    .tab {\n     border     : 0.2pt solid transparent;\n     padding    : 0pt 4pt;\n     display    : inline-block;\n     font-family: sans-serif;\n     font-weight: 200;\n     font-size  : small;\n     color      : #666;\n     cursor     : pointer;\n    }\n    .top>.tab {\n     border-radius: 2pt 2pt 0pt 0pt;\n     border-bottom-width: 0pt;\n     vertical-align: bottom;\n    }\n    .bottom>.tab {\n     border-top-width: 0pt;\n     border-radius: 0pt 0pt 2pt 2pt;\n     vertical-align: top;\n    }\n    .horizontal>.tab:not(:first-child) {\n     border-left-width: 0pt;\n    }\n    .tab.hovering {\n     background: red;\n    }\n    .tab.selected {\n     background: white;\n     border-left-width: 0.2pt;\n     color: black;\n     font-weight: 500;\n     border-color: black;\n    }\n    .horizontal>.tab.selected {\n     border-left-width: 0.2pt;\n    }\n    ")]);},Select:function(cx){var cy,cz;function cA(cB,cC){return bZ.Equals(cC[0],cx)?(cy.selected.set_RVal(cB),{$:1,$0:true}):null;}cy=this;cz=bS.tryPick(function(cB){return cA(cB[0],cB[1]);},bS.indexed(this.tabs.RVal()));return cz==null?false:cz.$0;},Select$1:function(cx){var cy,cz;function cA(cB,cC){return cC[1][0]===cx?(cy.selected.set_RVal(cB),{$:1,$0:true}):null;}cy=this;cz=bS.tryPick(function(cB){return cA(cB[0],cB[1]);},bS.indexed(this.tabs.RVal()));return cz==null?false:cz.$0;},Select$2:function(cx){this.selected.set_RVal(cx);},get_Selected:function(){return _3.map2(function(cx){return function(cy){var cz;cz=bS.tryItem(cy,cx);return cz==null?null:{$:1,$0:cz.$0[0]};};},this.tabs,this.selected);},get_Vertical:function(){return bk.New(this.selected,this.tabs,this.top,false,this.id);},get_Horizontal:function(){return bk.New(this.selected,this.tabs,this.top,true,this.id);},SetTop:function(cx){return bk.New(this.selected,this.tabs,cx,this.horizontal,this.id);},get_Bottom:function(){return bk.New(this.selected,this.tabs,false,this.horizontal,this.id);},get_Top:function(){return bk.New(this.selected,this.tabs,true,this.horizontal,this.id);},reorder:function(cx){var cy,cz,cA;cA=(_7.draggedTab())[0];if(cA!=null&&cA.$==1){if(!bZ.Equals(cA.$0[0].id,this.id))this.moveTab(cA.$0[0],cA.$0[1],cx);else if(cA!=null&&cA.$==1){cy=cA.$0[1];{this.tabs.set_RVal(_7.reorderArray(this.tabs.RVal(),cy,cx));cz=this.selected.RVal();this.selected.set_RVal(cz===cy?cx:cz<cy&&cz<cx||cz>cy&&cz>cx?cz:cz<cy?cz+1:cz-1);}}else throw new ck.New("Compiled\\FSharpStation2\\FSharpStation.fs",3369,18);}else void 0;},moveTab:function(cx,cy,cz){var cA,cB,cC,cD;cA=this.tabs.RVal();cB=cx.tabs.RVal();cC=bY.collect(a.id,[b7.array(cA,{$:1,$0:0},{$:1,$0:cz-1}),[bY.get(cB,cy)],b7.array(cA,{$:1,$0:cz},{$:1,$0:bY.length(cA)-1})]);cD=bY.collect(a.id,[b7.array(cB,{$:1,$0:0},{$:1,$0:cy-1}),b7.array(cB,{$:1,$0:cy+1},{$:1,$0:bY.length(cB)-1})]);cx.tabs.set_RVal(cD);this.tabs.set_RVal(cC);this.selected.set_RVal(cz);cx.selected.RVal()>=bY.length(cD)?cx.selected.set_RVal(0):void 0;_7.RaiseTabMoved(cx,this);}},null,bk);bk.New$1=function(cx){return bk.New$2(ce.Create$1(bY.ofSeq(bS.map(function(cy){return[b5.NewGuid(),cy];},cx))));};bk.New$2=function(cx){return bk.New(ce.Create$1(0),cx,false,true,b5.NewGuid());};bk.New=function(cx,cy,cz,cA,cB){return new bk({selected:cx,tabs:cy,top:cz,horizontal:cA,id:cB});};bl=_7.MenuEntry=bN.Class({get_MenuNode:function(){return new bm({$:1,$0:this});},SubMenu:function(cx){return bl.New(this.text,this.ref,this.active,this.disabled,{$:1,$0:bn.New2(cx).get_DropDown()},this.toolTip,this.target,this.divider,this.onClick);},SubMenu$1:function(cx){return bl.New(this.text,this.ref,this.active,this.disabled,{$:1,$0:bn.New$1(cx).get_DropDown()},this.toolTip,this.target,this.divider,this.onClick);},Disabled:function(cx){return bl.New(this.text,this.ref,this.active,_3.fixit(cx),this.subMenu,this.toolTip,this.target,this.divider,this.onClick);},OnClick:function(cx){return bl.New(this.text,this.ref,this.active,this.disabled,this.subMenu,this.toolTip,this.target,this.divider,{$:1,$0:cx});},get_Divider:function(){return bl.New(this.text,this.ref,this.active,this.disabled,this.subMenu,this.toolTip,this.target,true,this.onClick);},Target:function(cx){return bl.New(this.text,this.ref,this.active,this.disabled,this.subMenu,this.toolTip,{$:1,$0:cx},this.divider,this.onClick);},get_Render:function(){var cx,cy,cz,cA,cB,cC,cD,cE,cF;return(this.divider?function(cG){return _2.addClass("divider",cG);}:a.id)((cx=(cy=(cz=(cA=_7.entryTxt(this.text,(cB=this.target,cB==null?"":cB.$0),this.ref),(_2.addClassIf("active",this.active))(cA)),(_2.addClassIf("disabled",this.disabled))(cz)),(cC=this.subMenu,(cC!=null&&cC.$==1?(cD=bR.ofArray([_2["class"]("dropdown"),cC.$0.get_Render()]),function(cG){return _2.addChildren(cD,cG);}):a.id)(cy))),(cE=this.onClick,(cE!=null&&cE.$==1?(cF=bR.ofArray([new _6({$:7,$0:cd.Handler("click",cE.$0)}),_2.style("cursor : pointer")]),function(cG){return _2.addChildren(cF,cG);}):a.id)(cx))));}},null,bl);bl.New$1=function(cx,cy){var cz;cz=bl.New$2(cx);return bl.New(cz.text,_3.map(function(cA){return{$:1,$0:cA};},cy),cz.active,cz.disabled,cz.subMenu,cz.toolTip,cz.target,cz.divider,cz.onClick);};bl.New$2=function(cx){return bl.New(_3.fixit(cx),new _3({$:0,$0:null}),_3.fixit(false),_3.fixit(false),null,null,null,false,null);};bl.New=function(cx,cy,cz,cA,cB,cC,cD,cE,cF){return new bl({text:cx,ref:cy,active:cz,disabled:cA,subMenu:cB,toolTip:cC,target:cD,divider:cE,onClick:cF});};bm=_7.MenuNode=bN.Class({get_Render:function(){return this.$==1?this.$0.get_Render():this.$0;}},null,bm);bn=_7.Menu=bN.Class({get_Render:function(){var cx;cx=this;return(this.dropdown?_7.dropdown:_7.nav)(bR.ofSeq(bS.delay(function(){return bS.map(function(cy){return cy.get_Render();},cx.entries);})));},get_DropDown:function(){return bn.New(this.entries,true);}},null,bn);bn.New2=function(cx){return bn.New$1(bS.map(function(cy){return new bm({$:1,$0:cy});},cx));};bn.New$1=function(cx){return bn.New(cx,false);};bn.New=function(cx,cy){return new bn({entries:cx,dropdown:cy});};bo=_7.Action=bN.Class({get_Button:function(){var cx,cy,cz;function cA(cB,cC){return null;}cx=(cy=(cz=this.onClick,cz==null?null:{$:1,$0:cz.$0(this)}),cy==null?function(cB){return function(cC){return cA(cB,cC);};}:cy.$0);return _8.New(_3.map(function(cB){return cB?"btn btn-primary":"btn";},this.highlight),_3.fixit("button"),_3.fixit(""),this.text,cx,this.disabled,"");},get_MenuEntry:function(){var cx;return bl.New(this.text,new _3({$:0,$0:null}),this.highlight,this.disabled,null,this.toolTip,null,false,(cx=this.onClick,cx==null?null:{$:1,$0:cx.$0(this)}));},Highlight:function(cx){return bo.New(this.text,_3.fixit(cx),this.disabled,this.toolTip,this.onClick,this.parms);},Disabled:function(cx){return bo.New(this.text,this.highlight,_3.fixit(cx),this.toolTip,this.onClick,this.parms);},OnClick2:function(cx){return bo.New(this.text,this.highlight,this.disabled,this.toolTip,{$:1,$0:cx},this.parms);},OnClick:function(cx){return bo.New(this.text,this.highlight,this.disabled,this.toolTip,{$:1,$0:function(){return cx;}},this.parms);},Parms:function(cx){return bo.New(this.text,this.highlight,this.disabled,this.toolTip,this.onClick,{$:1,$0:cx});},Text:function(cx){return bo.New(_3.fixit(cx),this.highlight,_3.fixit(false),this.toolTip,this.onClick,this.parms);}},null,bo);bo.New$1=function(cx){return bo.New(_3.fixit(cx),_3.fixit(false),_3.fixit(false),null,null,null);};bo.New=function(cx,cy,cz,cA,cB,cC){return new bo({text:cx,highlight:cy,disabled:cz,toolTip:cA,onClick:cB,parms:cC});};bp=_7.GuiPart=bN.Class({GetHtmlNode:function(cx,cy){var cz,cA,cB,cC,cD,cE;return this.$==1?[this.$0,a.ignore]:this.$==2?[this.$0.get_Button().get_Render(),a.ignore]:this.$==5?[cx.GetCallButton(this.$0,this.$1,this.$2),a.ignore]:this.$==4?(cz=bk.New$1(bS.map(function(cF){return[cF,cx.GetNode(cF)];},this.$1)).SetTop(this.$0),(_7.addValue(cy,cz,cx.tabStrips),[cz.get_Render(),a.ignore])):this.$==3?(cA=this.$3,(cB=ce.Create$1(this.$6),(cC=ce.Create$1(this.$7),(cD=ce.Create$1(cA),(cE=cA,[bj.NewBisect(this.$0,this.$1,this.$2,cD,cx.GetNode(this.$4),cx.GetNode(this.$5)).Min(cB).Max(cC).get_Render(),function(cF){var cG;if(cF.$==3){cG=cF.$3;cE!==cG?(cE=cG,ce.Set(cD,cG)):void 0;ce.Set(cB,cF.$6);ce.Set(cC,cF.$7);}}]))))):[_6.HtmlEmpty,a.ignore];}},null,bp);bq.New=function(cx,cy,cz,cA,cB,cC,cD){return{HtmlElementF:cx,HtmlAttributeF:cy,HtmlAttributeOF:cz,HtmlTextF:cA,HtmlEmptyF:cB,HtmlGuiPart:cC,HtmlGuiCall:cD};};br.New=function(cx,cy,cz,cA,cB){return{GuiRoot:cx,GuiTabStrip:cy,GuiSplit:cz,GuiNode:cA,GuiCall:cB};};bs.get_New=function(){return{$:0,$0:b5.NewGuid()};};bt=_7.Layout=bN.Class({SelectTab:function(cx){bS.iter(function(cy){cy.Select$1(cx);},this.tabStrips.get_Values());},SetLayoutJson:function(cx,cy){var cz,cC;function cA(cE){var cF,cG,cH,cI,cJ,cK,cL;cF=_7.PHtmlElementF(cE);return cF!=null&&cF.$==1?{$:1,$0:new _6({$:0,$0:cF.$0[0],$1:bS.choose(cA,cF.$0[1])})}:(cG=_7.PHtmlAttributeF(cE),cG!=null&&cG.$==1?{$:1,$0:new _6({$:1,$0:cG.$0[0],$1:new _3({$:0,$0:cG.$0[1]})})}:(cH=_7.PHtmlAttributeOF(cE),cH!=null&&cH.$==1?{$:1,$0:new _6({$:2,$0:cH.$0[0],$1:new _3({$:0,$0:cH.$0[1]})})}:(cI=_7.PHtmlTextF(cE),cI!=null&&cI.$==1?{$:1,$0:new _6({$:3,$0:new _3({$:0,$0:cI.$0})})}:(cJ=_7.PHtmlEmptyF(cE),cJ!=null&&cJ.$==1)?{$:1,$0:_6.HtmlEmpty}:(cK=_7.PHtmlGuiPart(cE),cK!=null&&cK.$==1?{$:1,$0:cC.GetNode(cK.$0)}:(cL=_7.PHtmlGuiCall(cE),cL!=null&&cL.$==1?{$:1,$0:cC.GetCallButton(cL.$0[0],cL.$0[1],cL.$0[2])}:null)))));}function cB(cE){var cF,cG,cH,cI,cJ,cK;cF=_7.PGuiNode(cE);return cF!=null&&cF.$==1?{$:1,$0:new bp({$:1,$0:d.defaultValue(_6.HtmlEmpty,cA(cF.$0))})}:(cG=_7.PGuiRoot(cE),cG!=null&&cG.$==1?{$:1,$0:new bp({$:0,$0:cG.$0})}:(cH=_7.PGuiTabStrip(cE),cH!=null&&cH.$==1?{$:1,$0:(cI=cH.$0,new bp({$:4,$0:cI[0],$1:cI[1]}))}:(cJ=_7.PGuiSplit(cE),cJ!=null&&cJ.$==1?{$:1,$0:new bp({$:3,$0:cJ.$0[0],$1:_7.toSect(cJ.$0[1]),$2:cJ.$0[2],$3:cJ.$0[3],$4:cJ.$0[4],$5:cJ.$0[5],$6:cJ.$0[6],$7:cJ.$0[7]})}:(cK=_7.PGuiCall(cE),cK!=null&&cK.$==1?{$:1,$0:new bp({$:5,$0:cK.$0[0],$1:cK.$0[1],$2:cK.$0[2]})}:null))));}cC=this;try{function cD(cE,cF){var cG;cG=cB(cF);return cG==null?null:{$:1,$0:[cE,{$:1,$0:cF},cG.$0]};}cz=this.AddNewSteps(cx,cy===""?[]:bY.choose(function(cE){return cD(cE[0],cE[1]);},((cm.DecodeArray(cm.DecodeTuple([cm.Id(),bI.j$7])))())(b0.parse(cy))));}catch(cE){cz=(function(cF){return function(cG){return cF("Error: "+bP.prettyPrint(cG));};}(function(cF){bU.log(cF);}))(cE);}},AddNewSteps:function(cx,cy){var cz;function cA(cC,cD,cE){var cF,cG;if(cz.parts.ContainsKey(cC)){cF=cz.parts.get_Item(cC);cG=cF[0];bZ.Equals((cG.RVal())[0],cD)?_3.iter(a.ignore,_3.apply(new _3({$:0,$0:cE}),cF[2])):cG.set_RVal([cD,cE]);}else cz.AddNode(cC,cD,cE);}function cB(cC,cD){return bS.last(cD);}cz=this;bY.iter(function(cC){return cA(cC[0],cC[1],cC[2]);},bY.map(function(cC){return cB(cC[0],cC[1]);},bY.groupBy(function(cC){return a.id(cC[0],cC[1],cC[2]);},cx.concat(cy))));},get_Render:function(){function cx(cy){var cz;cz=cy.RVal();return cz[1].$==0?{$:1,$0:cz[1].$0}:null;}return this.GetNode(d.defaultValue("main",bS.tryPick(function(cy){return cx(_7.t1of3.apply(null,cy));},this.parts.get_Values())));},GetNode:function(cx){var cy;cy=null;return this.parts.TryGetValue(cx,{get:function(){return cy;},set:function(cz){cy=cz;}})?_7.t2of3(cy[0],cy[1],cy[2]):this.AddNode(cx,bs.get_New(),new bp({$:1,$0:_2.div([_2.htmlText((function(cz){return function(cA){return cz("GuiPart "+bP.toSafe(cA)+" not found");};}(a.id))(cx))])}));},AddNode:function(cx,cy,cz){var cA,cB,cC,cD;function cE(cF,cG){return cG.GetHtmlNode(cA,cx);}cA=this;cB=ce.Create$1([cy,cz]);cC=_3.map(function(cF){return cE(cF[0],cF[1]);},cB);cD=new _6({$:5,$0:_3.map(function(cF){return cF[0];},cC)});this.parts.Add(cx,[cB,cD,_3.map(function(cF){return cF[1];},cC)]);return cD;},GetCallButton:function(cx,cy,cz){var cA;cA=h.Success(this.GetGuiCallAction(cx,cy,cz));return cA.$==1?_2.div([_2.htmlText(bQ.concat(". ",h.msgs2String(cA.$0)))]):cA.$0[0].get_Button().get_Render();},GetGuiCallAction:function(cx,cy,cz){var cA;return this.parts.ContainsKey(cy)?(cA=(this.parts.get_Item(cy))[0].RVal(),cA[1].$==2?h.succeed(cA[1].$0.Text(cx).Parms(bY.map(a.id,cz))):h.failSimpleError((function(cB){return function(cC){return cB("GuiPart "+bP.toSafe(cC)+" is not a GuiAction");};}(a.id))(cy))):h.failSimpleError((function(cB){return function(cC){return cB("GuiAction "+bP.toSafe(cC)+" not found");};}(a.id))(cy));}},null,bt);bt.New$1=function(cx){var cy;function cz(cA,cB,cC){cy.AddNode(cA,cB,cC);}cy=bt.New(new bW.New$5(),new bW.New$5());bS.iter(function(cA){return cz(cA[0],cA[1],cA[2]);},cx);return cy;};bt.AddGuids=function(cx){function cy(cz,cA){return[cz,cA.$==2?bs.get_New():cA.$==0?{$:2,$0:cA.$0}:cA.$==3?{$:4,$0:cA.$0,$1:cA.$1,$2:cA.$2,$3:cA.$4,$4:cA.$5}:cA.$==4?{$:3,$0:cA.$0,$1:cA.$1}:cA.$==5?{$:5,$0:cA.$0,$1:cA.$1,$2:cA.$2}:bs.get_New(),cA];}return bY.ofSeq(bS.map(function(cz){return cy(cz[0],cz[1]);},cx));};bt.New=function(cx,cy){return new bt({parts:cx,tabStrips:cy});};_7.varVerSplitter=function(cx,cy,cz,cA,cB){return new bp({$:3,$0:true,$1:bi.StVariable,$2:true,$3:cx,$4:cy,$5:cz,$6:cA,$7:cB});};_7.varHorSplitter=function(cx,cy,cz,cA,cB){return new bp({$:3,$0:true,$1:bi.StVariable,$2:false,$3:cx,$4:cy,$5:cz,$6:cA,$7:cB});};_7.fixedVerSplitter=function(cx,cy,cz,cA){return new bp({$:3,$0:cx,$1:bi.StFixedPx,$2:true,$3:cy,$4:cz,$5:cA,$6:5,$7:95});};_7.fixedHorSplitter=function(cx,cy,cz,cA){return new bp({$:3,$0:cx,$1:bi.StFixedPx,$2:false,$3:cy,$4:cz,$5:cA,$6:5,$7:95});};_7.t3of3=function(cx,cy,cz){return cz;};_7.t2of3=function(cx,cy,cz){return cy;};_7.t1of3=a.id;_7.toSect=function(cx){return cx==="StVariable"?bi.StVariable:cx==="StFixedPx"?bi.StFixedPx:bi.StFixedPerc;};_7.PGuiCall=function(cx){return cx.GuiCall;};_7.PGuiNode=function(cx){return cx.GuiNode;};_7.PGuiRoot=function(cx){return cx.GuiRoot;};_7.PGuiSplit=function(cx){return cx.GuiSplit;};_7.PGuiTabStrip=function(cx){return cx.GuiTabStrip;};_7.PHtmlGuiCall=function(cx){return cx.HtmlGuiCall;};_7.PHtmlGuiPart=function(cx){return cx.HtmlGuiPart;};_7.PHtmlEmptyF=function(cx){return cx.HtmlEmptyF;};_7.PHtmlTextF=function(cx){return cx.HtmlTextF;};_7.PHtmlAttributeOF=function(cx){return cx.HtmlAttributeOF;};_7.PHtmlAttributeF=function(cx){return cx.HtmlAttributeF;};_7.PHtmlElementF=function(cx){return cx.HtmlElementF;};_7.addValue=function(cx,cy,cz){cz.Remove(cx);cz.Add(cx,cy);};_7.processLayoutSteps=function(cx,cy){var cz;return d.defaultValue(cy,(cz=bS.tryHead(cx),cz==null?null:{$:1,$0:_7.processLayoutSteps(bS.skip(1,cx),cy.Add(cz.$0[0],cz.$0[1]))}));};_7.HtmlGuiCall=function(cx,cy,cz){return new bp({$:5,$0:cx,$1:cy,$2:cz});};_7.Do2=function(cx,cy,cz,cA,cB){return cx(cz,cy);};_7.Do=function(cx,cy,cz,cA){return cx(cy);};_7.navbar=function(cx,cy,cz){return _2.div([_2["class"]("navbar navbar-default"),_2.div([_2["class"]("container-fluid"),_2.div([_2["class"]("navbar-header"),_2.div([_2["class"]("navbar-brand"),cx])]),_2.div([_2["class"]("navbar-collapse collapse"),cy,_2.addClass("navbar-right",cz)])])]);};_7.dropdown=function(cx){return _7.entries(cx,"dropdown-menu");};_7.nav=function(cx){return _7.entries(cx,"nav navbar-nav");};_7.entries=function(cx,cy){return _2.addClass(cy,_2.ul(cx));};_7.entryTxt=function(cx,cy,cz){return _7.menuEntry(_7.refText(cx,cy,cz));};_7.refText=function(cx,cy,cz){return _2.bindHElem(function(cA){return cA===""?_6.HtmlEmpty:_7.refA(_2.htmlText(cA),cA,cz);},cx);};_7.refA=function(cx,cy,cz){return _2.a([cx,_2.hrefO(cz),_2.target(cy)]);};_7.menuEntry=function(cx){return _2.li([cx]);};_7.RaiseTabMoved=function(cx,cy){var cz;cz=_7.TabMoved();cz==null?void 0:cz.$0([cx,cy]);};_7.TabMoved=function(){bH.$cctor();return bH.TabMoved;};_7.set_TabMoved=function(cx){bH.$cctor();bH.TabMoved=cx;};_7.setSelectedPanel=function(cx,cy){ce.Set(_7.selectedPanels(),cy==null?_7.selectedPanels().c.Remove(cx):_7.selectedPanels().c.Add(cx,cy.$0));};_7.selectedPanels=function(){bH.$cctor();return bH.selectedPanels;};_7.uid2s=function(cx){return"X"+bQ.Replace(a.String(cx),"-","");};_7.draggedTab=function(){bH.$cctor();return bH.draggedTab;};_7.reorderArray=function(cx,cy,cz){return bY.collect(a.id,cz<cy?[b7.array(cx,{$:1,$0:0},{$:1,$0:cz-1}),[bY.get(cx,cy)],b7.array(cx,{$:1,$0:cz},{$:1,$0:cy-1}),b7.array(cx,{$:1,$0:cy+1},{$:1,$0:bY.length(cx)-1})]:[b7.array(cx,{$:1,$0:0},{$:1,$0:cy-1}),b7.array(cx,{$:1,$0:cy+1},{$:1,$0:cz}),[bY.get(cx,cy)],b7.array(cx,{$:1,$0:cz+1},{$:1,$0:bY.length(cx)-1})]);};_7.reorderList=function(cx,cy,cz){return cz<cy?bR.append(cx.GetSlice({$:1,$0:0},{$:1,$0:cz-1}),bR.append(bR.ofArray([cx.get_Item(cy)]),bR.append(cx.GetSlice({$:1,$0:cz},{$:1,$0:cy-1}),cx.GetSlice({$:1,$0:cy+1},{$:1,$0:cx.get_Length()-1})))):bR.append(cx.GetSlice({$:1,$0:0},{$:1,$0:cy-1}),bR.append(cx.GetSlice({$:1,$0:cy+1},{$:1,$0:cz}),bR.append(bR.ofArray([cx.get_Item(cy)]),cx.GetSlice({$:1,$0:cz+1},{$:1,$0:cx.get_Length()-1}))));};_7.addResizeObserver=function(cx,cy){var cz,cA,cB,cC;try{cz=!(!a.ResizeObserver);}catch(cD){cz=false;}if(cz){cA=new a.ResizeObserver(cx);_7.set_observers(new bR.T({$:1,$0:cA,$1:_7.observers()}));cA.observe(cy);}else{cB=_7.dimsChanged(cy);bT.Start((cC=null,bT.Delay(function(){return bT.While(function(){return cy.isConnected;},bT.Delay(function(){return bT.Bind(bT.Sleep(110),function(){return cB()?(cx(),bT.Zero()):bT.Zero();});}));})),null);}};_7.dimsChanged=function(cx){var cy;cy=cx.getBoundingClientRect();return function(){var cz;cz=cx.getBoundingClientRect();return bZ.Equals(_7.domRect2Tuple(cy),_7.domRect2Tuple(cz))?false:(cy=cz,true);};};_7.domRect2Tuple=function(cx){return[cx.top,cx.left,cx.width,cx.height];};_7.observers=function(){bH.$cctor();return bH.observers;};_7.set_observers=function(cx){bH.$cctor();bH.observers=cx;};_7.setLint=function(cx,cy){cx.setOption("lint",{async:1,getAnnotations:bN.CreateFuncWithArgs(cy),container:_2.findRootElement(cx.getWrapperElement())});};_7.showHints=function(cx,cy,cz,cA){var cB;cB=bf.New(bN.CreateFuncWithArgs(cy),cz,_2.findRootElement(cx.getWrapperElement()));cB.hint.async=1;cx.showHint(cB);};_7.cmPos=function(cx,cy){return ba.New(cx,cy);};_7.codeMirrorIncludes=function(){bH.$cctor();return bH.codeMirrorIncludes;};_7.hoverable=function(cx){return _.get_New().Content(cx);};bv=bu.RunNode=bN.Class({createBaseNode:function(){var cx;cx=a.document.createElement("div");cx.setAttribute("id",this.nodeName);a.document.body.appendChild(cx);return cx;},createNode:function(){var cx;cx=a.document.createElement("div");cx.style="height: 100%; width: 100%;";return cx;},RunHtml:function(cx){this.RunDoc((_2.renderDoc())(cx));},RunDoc:function(cx){ca.Run(this.get_RunNode(),cx);},get_AddBootstrap:function(){var cx;cx=a.document.createElement("div");cx.innerHTML="<script src='http://code.jquery.com/jquery-3.1.1.min.js' type='text/javascript' charset='UTF-8'></script>\n                <script src='http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js' type='text/javascript' charset='UTF-8'></script>\n                <link type='text/css' rel='stylesheet' href='http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css'>\n                <link type='text/css' rel='stylesheet' href='/EPFileX/css/main.css'>\n               ";this.runNode.parentElement.appendChild(cx);return this;},get_RunNode:function(){return this.runNode;}},bO.Obj,bv);bv.New=bN.Ctor(function(cx){bv.New$1.call(this,"TestNode",cx);},bv);bv.New$1=bN.Ctor(function(cx,cy){var cz,cA,cB,cC,cD;this.nodeName=cx;cz=(cA=a.document.getElementById(this.nodeName),bZ.Equals(cA,null)?this.createBaseNode():cA);this.runNode=(cB=cz.shadowRoot,bZ.Equals(cB,null)?(cC=this.createNode(),(cz.attachShadow({mode:"open"}).appendChild(cC),cD=this.createNode(),cC.appendChild(cD),cD)):cB.firstChild);cy==null||cy.$0?this.runNode.innerHTML="":void 0;},bv);bu.completeJS=function(cx){return"\n          CIPHERSpaceLoadFileGlobalFileRef = null;\n          CIPHERSpaceLoadFile = function (filename, callback) {\n              if (filename.slice(-3) == \".js\" || filename.slice(-4) == \".fsx\" || filename.slice(-3) == \".fs\") { //if filename is a external JavaScript file\n                  var fileRef = null;\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\n                  if (!pre) {\n                      fileRef = document.createElement('script')\n                      fileRef.setAttribute(\"type\", \"text/javascript\")\n                      fileRef.setAttribute(\"src\", filename)\n                  }\n                  else callback();\n              }\n              else if (filename.slice(-4) == \".css\") { //if filename is an external CSS file\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\n                  if (!pre) {\n                      fileRef = document.createElement(\"link\")\n                      fileRef.setAttribute(\"rel\", \"stylesheet\")\n                      fileRef.setAttribute(\"type\", \"text/css\")\n                      fileRef.setAttribute(\"href\", filename)\n                  }\n                  else callback();\n              }\n              else if (filename.slice(-5) == \".html\") { //if filename is an external HTML file\n                  var pre = document.querySelector('script[src=\"' + filename + '\"]')\n                  if (!pre) {\n                      fileRef = document.createElement(\"link\")\n                      fileRef.setAttribute(\"rel\", \"import\")\n                      fileRef.setAttribute(\"type\", \"text/html\")\n                      fileRef.setAttribute(\"href\", filename)\n                  }\n                  else callback();\n              }\n              if (!!fileRef) {\n                  CIPHERSpaceLoadFileGlobalFileRef = fileRef;\n      \u0009\u0009\u0009fileRef.onload = function () { fileRef.onload = null;  callback(); }\n                  document.getElementsByTagName(\"head\")[0].appendChild(fileRef);\n              }\n          }\n          CIPHERSpaceLoadFiles = function (files, callback) {\n              var newCallback = callback\n              if (!!CIPHERSpaceLoadFileGlobalFileRef && !!(CIPHERSpaceLoadFileGlobalFileRef.onload)) {\n                  var oldCallback = CIPHERSpaceLoadFileGlobalFileRef.onload;\n                  CIPHERSpaceLoadFileGlobalFileRef.onload = null;\n                  newCallback = function () {\n                      callback();\n                      oldCallback();\n                  }\n              }\n              var i = 0;\n              loadNext = function () {\n                  if (i < files.length) {\n                      var file = files[i];\n                      i++;\n                      CIPHERSpaceLoadFile(file, loadNext);\n                  }\n                  else newCallback();\n              };\n              loadNext();\n      \u0009}\n          CIPHERSpaceLoadFiles(['https://code.jquery.com/jquery-3.1.1.min.js'], function() {}); \n      \u0009CIPHERSpaceLoadFilesDoAfter = function (callback) {\n      \u0009\u0009var newCallback = callback\n      \u0009\u0009if (!!CIPHERSpaceLoadFileGlobalFileRef) {\n      \u0009\u0009\u0009if (!!(CIPHERSpaceLoadFileGlobalFileRef.onload)) {\n      \u0009\u0009\u0009\u0009var oldCallback = CIPHERSpaceLoadFileGlobalFileRef.onload;\n      \u0009\u0009\u0009\u0009CIPHERSpaceLoadFileGlobalFileRef.onload = null;\n      \u0009\u0009\u0009\u0009newCallback = function () {\n      \u0009\u0009\u0009\u0009\u0009oldCallback();\n      \u0009\u0009\u0009\u0009\u0009callback();\n      \u0009\u0009\u0009\u0009}\n      \u0009\u0009\u0009}\n      \u0009\u0009}\n      \u0009\u0009else CIPHERSpaceLoadFileGlobalFileRef = {};\n      \u0009\u0009CIPHERSpaceLoadFileGlobalFileRef.onload = newCallback;\n      \u0009}\n      \n      CIPHERSpaceLoadFilesDoAfter(function() { \n        if (typeof IntelliFactory !=='undefined')\n          IntelliFactory.Runtime.Start();\n        for (key in window) { \n          if (key.startsWith(\"StartupCode$\")) \n            try { window[key].$cctor(); } catch (e) {} \n        } \n      })\n      \n                       "+cx;};by.NewBrowser={$:3};by.Tab={$:2};by.Right={$:1};by.Below={$:0};bz=bx.ErrCompiler=bN.Class({FSSGlobal_Useful_ErrMsg$get_IsWarning:function(){return this.$==0&&!this.$1;},FSSGlobal_Useful_ErrMsg$get_ErrMsg:function(){return this.$==0?(function(cx){return function(cy){return cx(bP.toSafe(cy));};}(a.id))(this.$0):(function(cx){return function(cy){return cx(bL.p$2(cy));};}(a.id))(this);}},null,bz);bz["Could not open new browser, Popup blocker may be active"]=new bz({$:2});bz["Snippet Missing"]=new bz({$:1});bA.New=function(cx,cy,cz,cA){return{F2:cx,LeftDoubleClick:cy,"Ctrl-Space":cz,".":cA};};bB=bx.Property=bN.Class({setV:function(cx){this.props.set_Item(this.key,cx);this.setDirty();},getV:function(){return this.props.get_Item(this.key);},setK:function(cx){this.props.Add(cx,this.props.get_Item(this.key));this.props.Remove(this.key);this.key=cx;this.setDirty();},getK:function(){return this.key;},Remove:function(){this.props.Remove(this.key);this.setDirty();},get_SetV:function(){var cx;cx=this;return function(cy){cx.setV(cy);};},get_GetV:function(){var cx;cx=this;return function(){return cx.getV();};},get_SetK:function(){var cx;cx=this;return function(cy){cx.setK(cy);};},get_GetK:function(){var cx;cx=this;return function(){return cx.getK();};},get_ValueVar:function(){return new bC.New(this);},get_KeyVar:function(){return this;},RView:function(){return b$.Const(this.getK());},RUpdM:function(cx){var cy;cy=cx(this.getK());cy==null?void 0:this.setK(cy.$0);},RUpd:function(cx){this.setK(cx(this.getK()));},RVal:function(){return this.getK();},RGet:function(){return this.getK();},set_RVal:function(cx){this.setK(cx);},RSet:function(cx){this.setK(cx);},RId:function(){return"?";}},bO.Obj,bB);bB.New=bN.Ctor(function(cx,cy,cz){this.setDirty=cx;this.props=cy;this.key=cz;},bB);bC=bx.PropValue=bN.Class({RView:function(){return b$.Const(this.get());},RUpdM:function(cx){var cy;cy=cx(this.get());cy==null?void 0:this.set(cy.$0);},RUpd:function(cx){this.set(cx(this.get()));},RVal:function(){return this.get();},RGet:function(){return this.get();},set_RVal:function(cx){this.set(cx);},RSet:function(cx){this.set(cx);},RId:function(){return"?";}},bO.Obj,bC);bC.New=bN.Ctor(function(cx){this.get=cx.get_GetV();this.set=cx.get_SetV();},bC);bx["CodeSnippet.propValue"]=function(cx,cy){var cz,cA;return cx.properties.ContainsKey(cy)?{$:1,$0:cx.properties.get_Item(cy)}:(cz=(cA=cx.parent,cA==null?null:bD.FetchO(cA.$0)),cz==null?null:bx["CodeSnippet.propValue"](cz.$0,cy));};bD.FetchByPathO=function(cx){function cy(cA,cB){return bS.tryHead(bS.filter(function(cC){return cC.get_Name()===cB;},cA));}function cz(cA,cB){var cC,cD,cE,cF;cC=(cD=bS.tryHead(cB),cD==null?null:cy(cA,cD.$0));return bS.length(cB)<=1?cC:cC==null?null:(cE=cC.$0,(cF=bS.tail(cB),cz(bS.filter(function(cG){return bZ.Equals(cG.parent,{$:1,$0:cE.id});},(bx.codeSnippets())["var"].RVal()),cF)));}return cz(bS.filter(function(cA){return cA.parent==null;},(bx.codeSnippets())["var"].RVal()),cx);};bx["CodeSnippet.IsDescendantOf"]=function(cx,cy){function cz(cA){var cB,cC,cD;cB=cA.parent;return cB!=null&&cB.$==1&&(cC=cB.$0,bZ.Equals(cC,cy)||d.defaultValue(false,(cD=bD.FetchO(cC),cD==null?null:{$:1,$0:cz(cD.$0)})));}return cz(cx);};bx["CodeSnippet.GetCodeFsx"]=function(cx,cy){return(bx["CodeSnippet.GetCodeAndStarts"](cx,cy))[0];};bx["CodeSnippet.GetCodeAndStarts"]=function(cx,cy){return u.CodeAndStarts(cy,bx["CodeSnippet.Predecessors"](cx));};bx["CodeSnippet.Predecessors"]=function(cx,cy){var cz;cz=bY.ofSeq(cx.UniquePredecessors(bD.FetchO));return bY.ofSeq(bS.map(bx["CodeSnippet.get_PrepareSnippet"],bS.filter(function(cA){return bY.contains(cA.id,cz);},(bx.codeSnippets())["var"].RVal())));};bx["CodeSnippet.get_PrepareSnippet"]=function(cx,cy){var cz;cz=bx["CodeSnippet.get_Levels"](cx);return u.New(cx.name,bQ.Replace(bQ.Replace(cx.content,"##"+"FSHARPSTATION_ID"+"##",bx.fsIds()),"##"+"FSHARPSTATION_ENDPOINT"+"##",a.location.href),cx.parent,cx.predecessors,cx.id,cx.expanded,cz[0],cz[1],cx.properties);};bx["CodeSnippet.get_Levels"]=function(cx,cy){function cz(cA,cB){return function(cC){var cD,cE,cF;return d.defaultValue([cA,cB],(cD=(cE=cC.parent,cE==null?null:bD.FetchO(cE.$0)),(cF=cz(cA+1,cB+(cC.properties.ContainsKey("NoIndent")?0:1)),cD==null?null:{$:1,$0:cF(cD.$0)})));};}return(function(cA){return cz(cA[0],cA[1]);}([0,0]))(cx);};bD.New=function(cx,cy,cz,cA,cB,cC){var cD,cE,cF,cG,cH;cD=u.New(cy,cC,cz,cA,t.get_New(),true,0,0,new bW.New$5());cE=bx.codeSnippets().get_Length();cE===0?bx.codeSnippets().Append(cD):cx===0?(cF=bS.append([cD],(bx.codeSnippets())["var"].RVal()),bx.codeSnippets().Set(cF)):cx<cE?(cG=(cH=bY.splitAt(cx,bY.ofSeq((bx.codeSnippets())["var"].RVal())),cH[0].concat([cD].concat(cH[1]))),bx.codeSnippets().Set(cG)):bx.codeSnippets().Append(cD);return cD;};bD.New$1=function(cx,cy,cz,cA,cB){return bD.New(bx.codeSnippets().get_Length(),cx,cy,cz,cA,cB);};bD.New$2=function(cx){return bD.New$1("",null,bR.T.Empty,bR.T.Empty,cx);};bD.New$3=function(cx,cy){return bD.New$1("",{$:1,$0:cx},bR.T.Empty,bR.T.Empty,cy);};bD.New$4=function(cx,cy,cz){return bD.New$1("",{$:1,$0:cx},cy,bR.T.Empty,cz);};bD.New$5=function(cx,cy){return bD.New$1("",null,cx,bR.T.Empty,cy);};bD.FetchL=function(cx){return b6.toList(bD.FetchO(cx));};bD.FetchO=function(cx){return bx.codeSnippets().TryFindByKey(cx);};bD.PickIO=function(cx){function cy(cz,cA){return bZ.Equals(cA.id,cx);}return bx.tryPickI(function(cz){return cy(cz[0],cz[1]);},(bx.codeSnippets())["var"].RVal());};bx.tryPickI=function(cx,cy){return bS.tryHead(bS.filter(cx,bS.indexed(cy)));};bx.fsIds=function(){bH.$cctor();return bH.fsIds;};bx.codeSnippets=function(){bH.$cctor();return bH.codeSnippets;};bF=bE.Babel=bN.Class({},bO.Obj,bF);bF.New=bN.Ctor(function(){},bF);bG=bE.Fable=bN.Class({},bO.Obj,bG);bG.New=bN.Ctor(function(){},bG);bE.fableTranslate=function(cx){var cy;cy=j.wrapper();return cy.Delay(function(){var cz;bE.loadReferences().f();return cy.Bind$2((cz=null,bT.Delay(function(){return bT.While(function(){return cn.getOwnPropertyNames(a.metadata).length<bY.length(bE.references());},bT.Delay(function(){return bT.Bind(bT.Sleep(200),function(){return bT.Return(null);});}));})),function(){var cA,cB,cC,cD,cE;cA=bE.getChecker().f();cB=co.makeCompiler([["Microsoft.FSharp.Core.ExtraTopLevelOperators.PrintFormatLine","FSSGlobal.FSharpStation.FableModule.ToConsole($0)"]]);cC="stdin.fsx";cD=b0.parse(co.convertToJson(co.compileAst(cB,co.parseFSharpProject(cA,cB,cC,cx),cC)));cE=cn.create(null);cE.plugins=[a.babelPlugins.transformMacroExpressions,a.babelPlugins.removeUnneededNulls,"transform-es2015-modules-amd"];cE.presets=[];cE.filename=cC;cE.babelrc=false;return cy.Return(bQ.Replace(bQ.Replace(cp.transformFromAst(cD,null,cE).code,"define([","require(["),"\"use strict\";","\"use strict\"; try { exports = exports || {}; } catch (err) {}"));});});};bE.ToConsole=function(cx){bU.log(cx);return cx.cont(bE.addOutMsg());};bE.addOutMsg=function(){bH.$cctor();return bH.addOutMsg;};bE.set_addOutMsg=function(cx){bH.$cctor();bH.addOutMsg=cx;};bE.getChecker=function(){bH.$cctor();return bH.getChecker;};bE.loadReferences=function(){bH.$cctor();return bH.loadReferences;};bE.references=function(){bH.$cctor();return bH.references;};bw.FSharpStationClient=function(cx){var cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es;function et(ge,gf,gg,gh){return gf(gh)==null?ce.Lens(cy,function(){return ge;},function(){return"";}):gg(gh);}function eu(){ce.Set(cC,null);}function ev(ge){function gf(gh){return gh.get_Name();}function gg(gh,gi){return u.New(gi,gh.content,gh.parent,gh.predecessors,gh.id,gh.expanded,gh.level,gh.levelCode,gh.properties);}return et("",function(gh){return bx.codeSnippets().TryFindByKey(gh);},function(gh){return bx.codeSnippets().LensInto(gf,gg,gh);},ge);}function ew(ge){function gf(gh){return gh.content;}function gg(gh,gi){return u.New(gh.name,gi,gh.parent,gh.predecessors,gh.id,gh.expanded,gh.level,gh.levelCode,gh.properties);}return et("",function(gh){return bx.codeSnippets().TryFindByKey(gh);},function(gh){return bx.codeSnippets().LensInto(gf,gg,gh);},ge);}function ex(ge){var gf;gf=bx["CodeSnippet.propValue"](ge,"CSS");return gf==null?null:{$:1,$0:a.id(gf.$0)};}function ey(ge){return d.defaultValue("",ge);}function ez(ge){var gf;gf=bx["CodeSnippet.propValue"](ge,"CSSLink");return gf==null?null:{$:1,$0:a.id(gf.$0)};}function eA(ge){return d.defaultValue("",ge);}function eB(ge){var gf;gf=bx["CodeSnippet.propValue"](ge,"Mode");return gf==null?null:{$:1,$0:a.id(gf.$0)};}function eC(ge){return d.defaultValue("fsharp",ge);}function eD(ge){var gf;gf=bx["CodeSnippet.propValue"](ge,"Theme");return gf==null?null:{$:1,$0:a.id(gf.$0)};}function eE(ge){return d.defaultValue("",ge);}function eF(ge){var gf;gf=bx["CodeSnippet.propValue"](ge,"Layout");return gf==null?null:{$:1,$0:a.id(gf.$0)};}function eG(ge){return d.defaultValue("",ge);}function eH(ge){var gf;gf=bx["CodeSnippet.propValue"](ge,"LayoutJS");return gf==null?null:{$:1,$0:a.id(gf.$0)};}function eI(ge){return d.defaultValue("",ge);}function eJ(ge){var gf,gg,gh,gi;function gj(gl){var gm;gm=bx["CodeSnippet.propValue"](gl,ge);return gm==null?null:{$:1,$0:a.id(gm.$0)};}function gk(gl){return d.defaultValue("",gl);}gf=_3.map((gg=(gh=function(gl){return gl==null?null:gj(gl.$0);},function(gl){return gh(bD.FetchO(gl));}),function(gl){return gk(gg(gl));}),cz);gi=[ce.Create$1(null)];b$.Sink(function(gl){if(!bZ.Equals(gi[0].c,gl))ce.Set(gi[0],gl);},_3.toView(gf));return new _3({$:1,$0:gi[0]});}function eK(ge,gf){return gf===""?ge:gf!=="0";}function eL(){dk=false;ce.Set(dl,true);}function eM(){de=null;eL();}function eN(){eM();df.ClearCache();eu();}function eO(){df.ClearCache();ce.Set(dl,false);de=null;}function eP(ge,gf){var gg,gh,gi;return!gf?null:(gg=(gh=ge.RVal(),(gi=a.String(gf),gh===null?gi:gh===""?gi:gi===null?gh:gi===""?gh:gh+"\n"+gi)),gg!==ge.RVal()?ge.set_RVal(gg):null);}function eQ(ge){ce.Set(dj,ge);}function eR(ge){eP(dj,ge);}function eS(ge){eP(di,ge);}function eT(){var ge;ge=bD.FetchO(cz.c);ge==null?void 0:ce.Set(dg,bx["CodeSnippet.GetCodeFsx"](ge.$0,true));}function eU(ge,gf){var gg,gh,gi,gj,gk,gl,gm,gn;function go(gp){function gq(gr,gs){return bZ.Equals(gs.id,gp);}return function(gr){return bx.tryPickI(function(gs){return gq(gs[0],gs[1]);},gr);};}gg=bY.partition(function(gp){return bZ.Equals(gp.id,gf)||bx["CodeSnippet.IsDescendantOf"](gp,gf);},bY.ofSeq((bx.codeSnippets())["var"].RVal()));gh=gg[1];gi=gg[0];gj=(go(gf))(gi);gk=(go(ge))(gh);gj!=null&&gj.$==1?gk!=null&&gk.$==1?(gl=gk.$0[0],gm=gk.$0[1],gn=bY.collect(a.id,[b7.array(gh,{$:1,$0:0},{$:1,$0:gl-1}),gi,b7.array(gh,{$:1,$0:gl},null)]),bx.codeSnippets().Set(gn),bx.codeSnippets().UpdateBy(function(gp){return{$:1,$0:u.New(gp.name,gp.content,gm.parent,gp.predecessors,gp.id,gp.expanded,gp.level,gp.levelCode,gp.properties)};},gj.$0[1].id)):void 0:void 0;return eN();}function eV(){var ge;ge=bD.PickIO(cz.c);ge==null?void 0:(function(gf,gg){(function(gh,gi){var gj;while(true){if(gi<0)return null;else if(gh((gj=(bx.codeSnippets())["var"].RVal(),(function(gk){return function(gl){return bS.nth(gk,gl);};}(gi))(gj))))return null;else gi=gi-1;}}(function(gh){return bZ.Equals(gh.parent,gg.parent)&&(bx.codeSnippets().UpdateBy(function(gi){return{$:1,$0:u.New(gi.name,gi.content,{$:1,$0:gh.id},gi.predecessors,gi.id,gi.expanded,gi.level,gi.levelCode,gi.properties)};},gg.id),true);},gf-1));eN();}).apply(null,ge.$0);}function eW(){var ge,gf,gg,gh,gi;ge=bD.FetchO(cz.c);ge==null?void 0:(gf=ge.$0,gg=(gh=(gi=gf.parent,gi==null?null:bD.FetchO(gi.$0)),gh==null?null:gh.$0.parent),bx.codeSnippets().UpdateBy(function(gj){return{$:1,$0:u.New(gj.name,gj.content,gg,gj.predecessors,gj.id,gj.expanded,gj.level,gj.levelCode,gj.properties)};},gf.id),eN());}function eX(ge){var gf;gf=j.wrapper();return gf.Delay(function(){return gf.Bind$1(h.fromOption(bz["Snippet Missing"],ge),function(gg){var gh;ce.Set(dj,"Compiling to JavaScript...");ce.Set(dh,"");gh=bx["CodeSnippet.GetCodeFsx"](gg,true);ce.Set(dg,gh);return gf.Bind$2(B.translateAR(gh,false),function(gi){return gf.Bind$1(gi,function(gj){var gk;gk=bu.completeJS(gj);ce.Set(dh,gk);eR("Compiled!");return gf.Return(gk);});});});});}function eY(ge){var gf;gf=a.open.apply(a,[ge]);return bZ.Equals(gf,null)?h.fail(bz["Could not open new browser, Popup blocker may be active"]):h.succeed(gf);}function eZ(ge,gf){try{return ge["eval"].apply(ge,[gf]);}catch(gg){((function(gh){return function(gi){return gh(bP.prettyPrint(gi));};}(function(gh){bU.log(gh);}))(gg));return(function(gh){return function(gi){return gh(bP.prettyPrint(gi));};}(a.id))(gg);}}function e0(ge){try{ge.focus.apply(ge,[]);}catch(gf){((function(gg){return function(gh){return gg(bP.prettyPrint(gh));};}(function(gg){bU.log(gg);}))(gf));}}function e1(ge,gf){var gg;gg=j.wrapper();return gg.Delay(function(){return gg.Bind$1(h.tryProtection(),function(){return gg.Bind$1(eY(ge),function(gh){e0(gh);return gg.Bind$2(bT.Sleep(800),function(){return gg.Return(eZ(gh,gf));});});});});}function e2(){return bT.FromContinuations(function(ge,gf){try{return(new bv.New(null)).RunHtml(_2.createIFrame(ge));}catch(gg){return gf(gg);}});}function e3(ge){var gf;gf=j.wrapper();return gf.Delay(function(){return gf.Bind$1(h.tryProtection(),function(){return gf.Bind$2(e2(),function(gg){var gh;gh=gg.contentWindow;gh.document.body.style.margin="0px";return gf.Return(eZ(gh,ge));});});});}function e4(ge,gf,gg){var gh;gh=j.wrapper();return gh.Delay(function(){return gh.Bind$3(eX(gg),function(gi){ce.Set(dj,"Running JavaScript...");return gh.Bind$3(gf.$==3?e1(ge,gi):e3(gi),function(gj){eR(gj);eR("Done!");return gh.Return([gf,gj]);});});});}function e5(){return bD.FetchO(cz.c);}function e6(ge){var gf;gf=j.wrapper();return gf.Delay(function(){ce.Set(dg,ge);return gf.Bind$2(z.evaluateAR(bx.fsIds(),a.location.href,true,ge),function(gg){return gf.Bind$1(gg,function(){return gf.Return("");});});});}function e7(ge){var gf;gf=j.wrapper();return gf.Delay(function(){return gf.Bind$1(h.fromOption(bz["Snippet Missing"],ge),function(gg){return gf.Bind$3(e6(bx["CodeSnippet.GetCodeFsx"](gg,true)),function(gh){return gf.Bind$2((new b8.New()).Async("FSharpStation:FSSGlobal.FsEvaluator+Evaluator.addPresence:-1250306105",[(function(gi){return function(gj){return gi(bL.p$3(gj));};}(a.id))(gg.id),"ok"]),function(){return gf.Return(gh);});});});});}function e8(ge,gf,gg){var gh;gh=j.wrapper();return gh.Delay(function(){ce.Set(dj,ge);return gh.Bind$3(gg(),function(gi){eR(gi);eR(gf);return gh.Return(gi);});});}function e9(ge){return e8("Evaluating F# code...","",function(){return e7(ge);});}function e_(ge){return e8("Evaluating F# code...","",function(){return e6(ge);});}function e$(ge){var gf;gf=j.wrapper();return gf.Delay(function(){ce.Set(dg,ge);return gf.Bind$3(bE.fableTranslate(ge),function(gg){ce.Set(dh,gg);a["eval"](gg);return gf.Return("");});});}function fa(ge){var gf;gf=j.wrapper();return gf.Delay(function(){return gf.Bind$1(h.fromOption(bz["Snippet Missing"],ge),function(gg){return gf.ReturnFrom(e$(bx["CodeSnippet.GetCodeFsx"](gg,false)));});});}function fb(ge){return e8("Running Fable...","Done!",function(){return fa(ge);});}function fc(ge){return e8("Running Fable...","Done!",function(){return e$(ge);});}function fd(ge){var gf;gf=e5();return(dn(ge))(gf);}function fe(ge,gf){return d.defaultValue(false,gf==null?null:{$:1,$0:bR.contains(ge,gf.$0.predecessors)});}function ff(ge,gf){return gf.Contains(ge);}function fg(ge,gf){var gg,gh,gi,gj;return gf==null?null:(gg=gf.$0,bZ.Equals(gg,ge)||ff(gg.id,new cq.New$2(ge.UniquePredecessors(bD.FetchO)))?null:(gh=(bR.contains(ge.id,gg.predecessors)?(gi=(gj=ge.id,function(gk){return!bZ.Equals(gj,gk);}),function(gk){return bR.filter(gi,gk);}):function(gk){return new bR.T({$:1,$0:ge.id,$1:gk});})(gg.predecessors),(bx.codeSnippets().UpdateBy(function(gk){return{$:1,$0:u.New(gk.name,gk.content,gk.parent,gh,gk.id,gk.expanded,gk.level,gk.levelCode,gk.properties)};},gg.id),eN())));}function fh(ge){bx.codeSnippets().UpdateBy(function(gf){return{$:1,$0:u.New(gf.name,gf.content,gf.parent,gf.predecessors,gf.id,!gf.expanded,gf.level,gf.levelCode,gf.properties)};},ge.id);eu();}function fi(ge,gf,gg){var gh,gi,gj,gk;return _.get_New().Content$1([_2["class"]("code-editor-list-tile"),_2.classIf("selected",_3.map((gh=gg.id,function(gl){return bZ.Equals(gh,gl);}),cz)),_2.classIf("direct-predecessor",_3.map((gi=gg.id,function(gl){return fe(gi,gl);}),cD)),_2.classIf("indirect-predecessor",_3.map((gj=gg.id,function(gl){return ff(gj,gl);}),dp)),_2.draggable("true"),new _6({$:7,$0:cc.Handler("dragover",function(){return function(gl){return gl.preventDefault();};})}),new _6({$:7,$0:cc.Handler("drag",function(){return function(){dm=gg.id;};})}),new _6({$:7,$0:cc.Handler("drop",function(){return function(gl){gl.preventDefault();return eU(gg.id,dm);};})}),_2.span([_2["class"]("node"),_2.classIf("parent",ge),_2.classIf("expanded",gf),new _6({$:7,$0:cc.Handler("click",function(){return function(){return ge?fh(gg):null;};})}),_2.title(ge?gf?"collapse":"expand":""),_2.htmlText(ge?gf?"-":"+":"")]),_2.div([_2["class"]("code-editor-list-text"),_2.style1("text-indent",(gk=(bx["CodeSnippet.get_Levels"](gg))[0],(function(gl){return function(gm){return gl(a.String(gm)+"em");};}(a.id))(gk))),_2.style("white-space: pre"),_2.htmlText(_3.map2(function(gl){return function(gm){return q.snippetName(gl,gm);};},ev(gg.id),ew(gg.id))),new _6({$:7,$0:cc.Handler("click",function(){return function(){return ce.Set(cz,gg.id);};})})]),_2.span([_2["class"]("predecessor"),_2.title("toggle predecessor"),new _6({$:7,$0:cc.Handler("click",function(){return function(){return _3.iter(function(gl){return fg(gg,gl);},cD);};})}),_2.htmlText("X")])]);}function fj(ge,gf){return!gf?ge:gf;}function fk(ge){return new t({$:0,$0:!ge?"00000000-0000-0000-0000-000000000000":ge.Item});}function fl(ge){return!ge?null:{$:1,$0:fk(ge)};}function fm(ge){var gf;function gg(gi,gj){gf.Add(gi,gj);}function gh(gi,gj){return[gi,gj];}gf=new bW.New$5();return!ge?gf:(bS.iter(function(gi){return gg(gi[0],gi[1]);},bY.map(function(gi){return gh(gi[0],gi[1]);},cs.GetFields(ge))),gf);}function fn(ge){var gf;try{gf=b0.parse(ge);((function(gg){return function(gh){return gg(bP.prettyPrint(gh));};}(function(gg){bU.log(gg);}))(gf.length));return bY.choose(function(gg){return!gg?null:{$:1,$0:u.New(fj("",gg.name),fj("",gg.content),fl(gg.parent),bR.ofSeq(bY.map(fk,fj([],gg.predecessors))),fk(gg.id),fj(false,gg.expanded),fj(0,gg.level),fj(0,gg.levelCode),fm(gg.properties))};},gf);}catch(gg){return[];}}function fo(){var ge,gf,gg;function gh(gi,gj){var gk;return d.defaultValue(gj,(gk=bS.tryItem(gj,(bx.codeSnippets())["var"].RVal()),gk==null?null:{$:1,$0:(bx["CodeSnippet.get_Levels"](gk.$0))[0]<=gi?gj:gh(gi,gj+1)}));}ce.Set(cz,d.defaultWith(function(){return bD.New$2("");},(ge=bD.PickIO(cz.c),ge==null?null:{$:1,$0:(gf=ge.$0[0],(gg=ge.$0[1],bD.New(gh((bx["CodeSnippet.get_Levels"](gg))[0],gf+1),"",gg.parent,bR.T.Empty,bR.T.Empty,"")))})).id);eM();eu();}function fp(){var ge,gf;ge=bD.FetchO(cz.c);ge==null?void 0:(gf=ge.$0,a.confirm((function(gg){return function(gh){return gg("Do you want to delete "+bP.toSafe(gh)+"?");};}(a.id))(gf.get_Name()))?(ce.Set(cz,t.get_New()),bx.codeSnippets().Remove(gf),eM(),eu()):void 0);}function fq(ge){return bS.last(bQ.SplitChars(ge,["/","\\"],0));}function fr(ge,gf){var gg,gh;gg=ge.files;return gg.length>0?(gh=new a.FileReader(),(gh.onload=function(gi){return gf(gi.target.result);},gh.readAsText(gg.item(0)))):null;}function fs(ge){var gf;try{gf=fn(ge);bx.codeSnippets().Set(gf);eO();eu();}catch(gg){a.alert(a.String(gg));}}function ft(ge){if(!dl.c||a.confirm("Changes have not been saved, do you really want to load?"))fr(_2.findRootElement(ge).querySelector("#"+ds),fs);}function fu(){var ge,gf;a.saveAs(new a.Blob([(ge=bY.ofSeq((bx.codeSnippets())["var"].RVal()),b0.stringify(((cm.EncodeArray(bJ.j$3))())(ge)))],{type:"text/plain;charset=utf-8"}),(gf=fq(dr.c),gf===""?"snippets.fsjson":gf));eO();}function fv(ge,gf){return _2.findRootElement(ge).querySelector("#"+ds).click();}function fw(ge,gf,gg){var gh,gi,gj,gk,gl,gm,gn,go;gh=de!=null&&de.$==1&&((gj=de.$0[1],bZ.Equals(de.$0[0],gf.id)&&bZ.Equals(gj,gg))&&(gi=[de.$0[1],de.$0[0],de.$0[2]],true))?(ge("Reparsing..."),[gi[2],bx["CodeSnippet.get_PrepareSnippet"](gf)]):(ge("Parsing..."),gk=bx["CodeSnippet.Predecessors"](gf),gl=u.ReducedCode(gg,b7.array(gk,{$:1,$0:0},{$:1,$0:bY.length(gk)-2})),gm=bY.get(gk,bY.length(gk)-1),de={$:1,$0:[gm.id,gg,gl]},[gl,gm]);gn=u.ReducedCode(gg,[gh[1]]);go=(function(gp){var gq,gr,gs,gt,gu,gv;gq=gp[0];gr=gp[1];gs=gp[2];gt=gp[3];gu=gp[4];gv=gp[5];return function(gw){return u.AddSeps(gq,gr,gs,gt,gu,gv,gw[0],gw[1],gw[2],gw[3],gw[4],gw[5]);};}(gh[0]))(gn);return u.FinishCode(gg,go[0],go[1],go[2],go[3],go[4],go[5]);}function fx(ge){var gf;function gg(gh){if(!ge)ce.Set(di,gh);}gf=null;return bT.Delay(function(){var gh,gi,gj;gh=bD.FetchO(cz.c);return gh!=null&&gh.$==1?(gi=gh.$0,(gj=dy+1,(dy=gj,bT.Combine(bT.While(function(){return dz;},bT.Delay(function(){return bT.Bind(bT.Sleep(1000),function(){return bT.Return(null);});})),bT.Delay(function(){return dy!==gj?bT.Zero():bT.TryFinally(bT.Delay(function(){var gk;dz=true;dk=true;gk=fw(gg,gi,false);return bT.Bind(dv.Parse$1(dw,gk[0],gk[1]),function(gl){return!ge&&gj===dy&&dk?(eS(gl),eS("Parsed!"),bT.Zero()):bT.Zero();});}),function(){dz=false;});}))))):bT.Zero();});}function fy(ge){var gf;gf=null;return bT.Delay(function(){return!dk?bT.Return(true):bT.Bind(dv.MustParse(dw,ge.get_NameSanitized()),function(gg){return bT.Return(gg);});});}function fz(ge){var gf;gf=null;return bT.Delay(function(){return bT.Bind(dx,function(gg){var gh;return gg?bT.Zero():(gh=bD.FetchO(cz.c),gh!=null&&gh.$==1?bT.Bind(fy(gh.$0),function(gi){return gi?bT.Bind(fx(ge),function(){return bT.Return(null);}):bT.Zero();}):bT.Zero());});});}function fA(ge,gf){var gg,gh;gg=c.REGEX("([a-zA-Z_]\\w*)$","g",bQ.Substring(ge,0,gf));return gg!=null&&gg.$==1?(gh=gg.$0,gh&&bY.length(gh)===1)?bY.get(gg.$0,0):"":"";}function fB(ge,gf){var gg,gh;gg=c.REGEX("^([a-zA-Z_]\\w*)","g",ge.substring(gf));return gg!=null&&gg.$==1?(gh=gg.$0,gh&&bY.length(gh)===1)?bY.get(gg.$0,0):"":"";}function fC(ge){var gf;bT.Start((gf=null,bT.Delay(function(){return bT.Bind(dx,function(gg){var gh,gi;return gg?bT.Zero():(gh=bD.FetchO(cz.c),gh!=null&&gh.$==1?(gi=gh.$0,bT.Bind(fz(false),function(){var gj,gk,gl,gm,gn;gj=ge.getCursor();gk=ge.getLine(gj.line);gl=bQ.length(fA(gk,gj.ch));gm=bQ.length(fB(gk,gj.ch));gn=gl===0&&gm===0?2:gm;return bT.Bind(dv.ToolTip(dw,gj.line+1,gj.ch+1,gi.get_NameSanitized()),function(go){var gp;eS(((((gp=(bN.Curried(function(gq,gr,gs,gt,gu){return gq("InfoFSharp \""+bP.toSafe(gr)+" "+("("+bP.prettyPrint(gs[0])+", "+bP.prettyPrint(gs[1])+")")+" - "+("("+bP.prettyPrint(gt[0])+", "+bP.prettyPrint(gt[1])+")")+" "+bP.toSafe(gu)+" \"");},5))(a.id),function(gq){var gr;gr=gp(gq);return function(gs){var gt;gt=gr([gs[0],gs[1]]);return function(gu){return gt([gu[0],gu[1]]);};};})(gi.get_NameSanitized()))([gj.line+1,gj.ch-gl+1]))([gj.line+1,gj.ch+gn+1]))(bQ.Replace(go,"\"","''")));return bT.Zero();});})):bT.Zero());});})),null);}function fD(ge,gf,gg,gh){var gi;bT.Start((gi=null,bT.Delay(function(){var gj,gk;gj=bD.FetchO(cz.c);return gj!=null&&gj.$==1?(gk=gj.$0,(function(gl){return gl("calling parseIfMustThen");}(function(gl){bU.log(gl);}),bT.Bind(fz(false),function(){var gl;function gm(gn,go,gp,gq,gr,gs,gt,gu,gv){var gw;return bQ.StartsWith(gn,gk.id.get_Text())||gn===q.sanitize(gk.name)?(gw=a.Number(go)>0?a.Number(go):0,{$:1,$0:bg.New(gv,bQ.StartsWith(gt.toUpperCase(),"ERR")?"error":bQ.StartsWith(gt.toUpperCase(),"INFO")?"info":"warning",_7.cmPos(gp-1,gq-1-gw),_7.cmPos(gr-1,gs-1-gw))}):null;}gf(bY.choose(function(gn){return gm(gn[0],gn[1],gn[2],gn[3],gn[4],gn[5],gn[6],gn[7],gn[8]);},bY.choose(function(gn){var go,gp,gq,gr,gs,gt,gu,gv;return(gp=c.REGEX(dB,"",gn),gp!=null&&gp.$==1&&((gq=gp.$0,gq&&bY.length(gq)===13)&&(go=[bY.get(gp.$0,8),bY.get(gp.$0,5),bY.get(gp.$0,7),bY.get(gp.$0,2),bY.get(gp.$0,4),bY.get(gp.$0,11),bY.get(gp.$0,1),bY.get(gp.$0,10),bY.get(gp.$0,9)],true)))?{$:1,$0:[go[1],go[4],a.Number(go[2]),a.Number(go[0]),a.Number(go[8]),a.Number(go[7]),go[6],go[3],go[5]]}:(gs=c.REGEX(dA,"",gn),gs!=null&&gs.$==1&&((gt=gs.$0,gt&&bY.length(gt)===8)&&(gr=[bY.get(gs.$0,4),bY.get(gs.$0,2),bY.get(gs.$0,3),bY.get(gs.$0,1),bY.get(gs.$0,6),bY.get(gs.$0,5)],true)))?(gu=gr[0],(gv=gr[2],{$:1,$0:[gr[1],gr[3],a.Number(gv),a.Number(gu)-1,a.Number(gv),a.Number(gu),gr[5],"fsi",gr[4]]})):null;},(gl=c.REGEX(dC,"g",di.c),gl!=null&&gl.$==1?gl.$0:[]))));return bT.Zero();}))):bT.Zero();})),null);}function fE(ge){var gf;dD((gf=null,bT.Delay(function(){(function(gg){return gg("before delaying");}(function(gg){bU.log(gg);}));return bT.Bind(bT.Sleep(400),function(){(function(gg){return gg("calling getAnnotations");}(function(gg){bU.log(gg);}));fD.apply(null,ge);return bT.Zero();});})));}function fF(ge,gf,gg){var gh;dD((gh=null,bT.Delay(function(){return bT.Bind(dx,function(gi){var gj,gk;return gi?bT.Zero():(gj=bD.FetchO(cz.c),gj!=null&&gj.$==1?(gk=gj.$0,bT.Bind(fz(true),function(){var gl,gm,gn;gl=ge.getCursor();gm=ge.getLine(gl.line);gn=fA(gm,gl.ch);return bT.Bind(dv.Complete(dw,gm+"a",gl.line+1,gl.ch+1,gk.get_NameSanitized()),function(go){function gp(gq,gr,gs,gt){return bd.New(gr,gt+"| "+gq,gs);}gf(be.New(bY.map(function(gq){return gp(gq[0],gq[1],gq[2],gq[3]);},go),ba.New(gl.line,gl.ch-gn.length),gl));return bT.Zero();});})):bT.Zero());});})));}function fG(ge){var gf,gg,gh;gf=(gg=ge.parent,gg==null?null:bD.FetchO(gg.$0));gf==null?void 0:(gh=gf.$0,fG(gh),!gh.expanded?fh(gh):void 0);}function fH(ge,gf,gg){var gh;return bT.Start((gh=null,bT.Delay(function(){var gi;ce.Set(cz,ge);gi=bD.FetchO(ge);gi==null?void 0:fG(gi.$0);return bT.Bind(bT.Sleep(200),function(){var gj,gk;gj=dE.editorO;gj==null?void 0:(gk=gj.$0,gk.setCursor(gf-1,gg-1),gk.focus());return bT.Zero();});})),null);}function fI(ge){var gf,gg,gh;gf=c.REGEX("([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}).+?\\((\\d+)\\,\\s*(\\d+)\\)","",ge);gf!=null&&gf.$==1?(gg=gf.$0,gg&&bY.length(gg)===4)?(gh=bY.get(gf.$0,3),fH(new t({$:0,$0:bY.get(gf.$0,1)}),a.Number(bY.get(gf.$0,2)),a.Number(gh))):void 0:void 0;}function fJ(){var ge;bT.Start((ge=null,bT.Delay(function(){var gf,gg,gh,gi;gf=bD.FetchO(cz.c);return gf!=null&&gf.$==1?(gg=dE.editorO,gg!=null&&gg.$==1?(gh=gg.$0,(gi=gh.getCursor(),(gh.getLine(gi.line),bT.Bind(dv.FindDecl(dw,gi.line+1,gi.ch+1,gf.$0.get_NameSanitized()),function(gj){var gk;return gj.$==9?(gk=gj.$0,(fI(((((((bN.Curried(function(gl,gm,gn,go,gp,gq){return gl(bP.toSafe(gm)+" ("+a.String(gn)+", "+a.String(go)+") - ("+a.String(gp)+", "+a.String(gq)+")");},6))(a.id))(gk.File))(gk.Line))(gk.Column))(gk.Line))(gk.Column)),bT.Zero())):gj.$==1?(a.alert((function(gl){return function(gm){return gl(bK.p(gm));};}(a.id))(gj.$0)),bT.Zero()):(a.alert((function(gl){return function(gm){return gl(bL.p$4(gm));};}(a.id))(gj)),bT.Zero());})))):bT.Zero()):bT.Zero();})),null);}function fK(){var ge;ge=dE.editorO;ge==null?void 0:ge.$0.refresh();}function fL(ge){var gf;bT.Start((gf=null,bT.Delay(function(){return bT.Bind(bT.Sleep(ge),function(){fK();return bT.Zero();});})),null);}function fM(){ce.Set(dl,true);}function fN(ge,gf){return new bB.New(fM,ge,gf);}function fO(ge,gf,gg){return fN(ge,gf).get_ValueVar().RSet(gg);}function fP(ge,gf){return _2.table(bR.ofSeq(bS.delay(function(){return bS.append([_2.thead([_2.th([_2.htmlText("Property"),_2.style("padding-right:10px")]),_2.th([_2.htmlText("Value")])])],bS.delay(function(){return bS.append(bS.map(function(gg){var gh;gh=fN(gf,gg);return _2.tr([_2.td([_2.someElt(ca.Input([],gh.get_KeyVar()))]),_2.td([_2.someElt(ca.InputArea([_2.atr("style","height: 1.5em")],gh.get_ValueVar()))]),_7.hoverable(_2.td([_2.title("remove"),_2.style(" cursor: pointer "),_2.htmlText("x"),new _6({$:7,$0:cc.Handler("click",function(){return function(){gh.Remove();return ce.Set(dL,null);};})})]))]);},gf.get_Keys()),bS.delay(function(){return[_2.tr([_7.hoverable(_2.td([_2.htmlText("Add..."),new _6({$:7,$0:cc.Handler("click",function(){return function(){gf.Add("","1");fM();return ce.Set(dL,null);};})})])),_2.td([_2.htmlText("")])])];}));}));})));}function fQ(ge){function gf(gh){return gh.properties;}function gg(gh,gi){return u.New(gh.name,gh.content,gh.parent,gh.predecessors,gh.id,gh.expanded,gh.level,gh.levelCode,gi);}return et(new bW.New$5(),function(gh){return bx.codeSnippets().TryFindByKey(gh);},function(gh){return bx.codeSnippets().LensInto(gf,gg,gh);},ge);}function fR(ge){return new _3({$:1,$0:ge});}function fS(ge,gf,gg,gh){var gi;return j.start(eR,(gi=ge(gf),(j.map(a.ignore))(gi)));}function fT(ge,gf,gg,gh){function gi(gj,gk){if(gj==null)eR("Failed!\n"+gk);else if(gj.$0[0].$==0){eR(gk);ce.Set(dN,null);}else eR(gk);}return j.startV(function(gj){return gi(gj[0],gj[1]);},ge(gf));}function fU(ge,gf,gg){function gh(gi){return(ge(gg))(gi);}return bN.Curried(fS,2,[gh,gf]);}function fV(ge,gf,gg){function gh(gi){return(ge(gg))(gi);}return bN.Curried(fT,2,[gh,gf]);}function fW(ge){var gf,gg,gh;gf=ge.parms;return gf!=null&&gf.$==1&&((gh=gf.$0,gh&&bY.length(gh)===1)&&(gg=bY.get(gf.$0,0),true))?bD.FetchByPathO(bQ.SplitChars(gg,["/"],0)):e5();}function fX(ge,gf){var gg;gg=j.wrapper();return gg.Delay(function(){return gg.Bind$2(_3.getAsync(ge.text),function(gh){var gi,gj,gk,gl,gm,gn,go,gp,gq,gs,gt,gu,gv,gw;function gr(gx){return gs==null?null:bx["CodeSnippet.propValue"](gs.$0,gx);}eQ(gh+"...");gs=e5();gt=gf?d.defaultValue("",(gj=gr("open"),gj==null?null:{$:1,$0:c.__(function(gx,gy){return gx+gy;},"\n",gj.$0)})):"";gu=ct.Create(function(){return d.defaultValue("${parm}() |> printfn \"%A\"",gr("action-template"));});gv=(gp=ge.parms,gp==null?null:{$:1,$0:bY.map(a.id,gp.$0)});switch(gv!=null&&gv.$==1?(gw=gv.$0,gw&&bY.length(gw)===2?bY.get(gv.$0,0)==="Code"?(gq=bY.get(gv.$0,1),0):bY.get(gv.$0,0)==="Property"?(gq=bY.get(gv.$0,1),1):2:2):2){case 0:go={$:1,$0:gq};break;case 1:go=gr(gq);break;case 2:go=null;break;}gn=go==null?gr(gh):go;gk=(gl=d.defaultWith(function(){return((cn.constructor("return function(parm) { return `"+gu.f()+"`}"))())(gh);},gn),bQ.StartsWith(gl,"////")?gl:gt+gl);return gs!=null&&gs.$==1?gg.Bind$2((new b8.New()).Async("FSharpStation:FSSGlobal.FsEvaluator+Evaluator.getPresence:-1568677081",[A.extractConfig(gk),(function(gx){return function(gy){return gx(bL.p$3(gy));};}(a.id))(gs.$0.id)]),function(gx){return bZ.Equals(gx,{$:1,$0:"ok"})?gg.Return(gk):gg.Bind$3(e7(gs),function(){return gg.Return(gk);});}):gg.Return(gk);});});}function fY(ge,gf){return j.bind(e_,fX(ge,true));}function fZ(ge,gf){return j.bind(fc,fX(ge,false));}function f0(ge,gf){return e9(fW(ge));}function f1(ge,gf){return fb(fW(ge));}function f2(ge,gf){var gg;gg=fW(ge);return(dn(gf))(gg);}function f3(ge,gf){var gg;gg=j.wrapper();return gg.Delay(function(){return gg.Bind$1(h.tryProtection(),function(){var gh,gi,gj,gk,gl;return gg.Bind$1((gh=ge.parms,gh!=null&&gh.$==1&&((gj=gh.$0,gj&&bY.length(gj)===3)&&(gi=[bY.get(gh.$0,1),bY.get(gh.$0,0),bY.get(gh.$0,2)],true))?(gk=gi[1],(d.defaultWith(function(){((function(gm){return function(gn){return gm("setSnippetProp snippet not found: "+bP.toSafe(gn));};}(function(gm){bU.log(gm);}))(gk));},(gl=bD.FetchByPathO(bQ.SplitChars(gk,["/"],0)),gl==null?null:{$:1,$0:fO(gl.$0.properties,gi[0],gi[2])})),h.succeed())):h.failSimpleError((function(gm){return function(gn){return gm("setSnippetProp wrong parms: "+bL.p$5(gn));};}(a.id))(ge.parms))),function(){return gg.Return();});});});}function f4(ge,gf){var gg,gh,gi,gj,gk,gl;((function(gm){return function(gn){return gm("showOutText: "+bK.p$22(gn));};}(function(gm){bU.log(gm);}))(ge));gh=ge.parms;switch(gh!=null&&gh.$==1?(gi=gh.$0,gi&&bY.length(gi)===1?(gg=bY.get(gh.$0,0),0):(gj=gh.$0,gj&&bY.length(gj)===2?(bY.get(gh.$0,1),bY.get(gh.$0,0)===""?(gg=[bY.get(gh.$0,0),bY.get(gh.$0,1)],1):2):2)):2){case 0:return eQ(gg);break;case 1:return eQ(gg[1]);break;case 2:return gh!=null&&gh.$==1&&((gl=gh.$0,gl&&bY.length(gl)===2)&&(bY.get(gh.$0,1),bY.get(gh.$0,0)==="+"&&(gk=[bY.get(gh.$0,0),bY.get(gh.$0,1)],true)))?eR(gk[1]):(function(gm){return function(gn){return gm("error: showOutText "+bK.p$22(gn));};}(function(gm){bU.log(gm);}))(ge);break;}}function f5(){return fd(cE.c);}function f6(){var ge;ge=j.wrapper();return ge.Delay(function(){de=null;return ge.Bind$2(fx(false),function(){return ge.Return();});});}function f7(ge,gf){var gg,gh;function gi(gj,gk,gl){return gh>=gk&&gh<gl?{$:1,$0:gj}:null;}gg=ge.value;gh=ge.selectionStart;return fI(bS.pick(function(gj){return gi(gj[0],gj[1],gj[2]);},(bS.mapFold(function(gj,gk){return[[gk,gj,gj+gk.length+1],gj+gk.length+1];},0,bQ.SplitChars(gg,["\n"],0)))[0]));}function f8(ge,gf,gg){var gh;gh=h.result();return gh.Delay(function(){return gh.Bind(h.tryProtection(),function(){return gh.Bind(eo.GetGuiCallAction(ge,gf,gg),function(gi){var gj;gj=gi.onClick;gj==null?void 0:((gj.$0(gi))(null))(null);return gh.Zero();});});});}function f9(ge){fL(1000);fL(2000);fL(3000);eo.SetLayoutJson(ei,ge);}function f_(ge){fL(1000);fL(2000);fL(3000);eo.AddNewSteps(ei,ge);}function f$(ge){return bY.ofSeq(bS.map(function(gf){return[gf.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),gf.FSSGlobal_Useful_ErrMsg$get_IsWarning()?w.FSWarning:w.FSError];},ge));}function ga(ge){var gf;return{$:4,$0:(gf=ge.$0,gf==null?null:{$:1,$0:gf.$0[1]}),$1:bY.ofSeq(bS.map(function(gg){return[gg.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),gg.FSSGlobal_Useful_ErrMsg$get_IsWarning()?w.FSWarning:w.FSError];},ge.$1))};}function gb(ge){var gf,gg;return{$:4,$0:(gf=function(gh){return function(gi){return gh(bP.prettyPrint(gi));};}(a.id),(gg=ge.$0,gg==null?null:{$:1,$0:gf(gg.$0)})),$1:bY.ofSeq(bS.map(function(gh){return[gh.FSSGlobal_Useful_ErrMsg$get_ErrMsg(),gh.FSSGlobal_Useful_ErrMsg$get_IsWarning()?w.FSWarning:w.FSError];},ge.$1))};}function gc(ge,gf){var gg;gg=null;return bT.Delay(function(){var gh,gi,gj,gk,gl,gm,gn,go,gp;return gf.$==2?bT.Return({$:1,$0:(gh=bD.FetchO(gf.$0),gh==null?null:{$:1,$0:gh.$0.content})}):gf.$==3?bT.Return({$:1,$0:(gi=bD.FetchO(gf.$0),gi==null?null:{$:1,$0:bx["CodeSnippet.GetCodeFsx"](gi.$0,true)})}):gf.$==4?bT.Return({$:3,$0:d.defaultValue([],(gj=bD.FetchO(gf.$0),gj==null?null:{$:1,$0:bx["CodeSnippet.Predecessors"](gj.$0)}))}):gf.$==5?bT.Return({$:2,$0:bD.FetchO(gf.$0)}):gf.$==6?bT.Return({$:1,$0:(gk=bD.FetchByPathO(gf.$0),gk==null?null:{$:1,$0:gk.$0.content})}):gf.$==7?bT.Return({$:1,$0:(gl=bD.FetchByPathO(gf.$0),gl==null?null:{$:1,$0:bx["CodeSnippet.GetCodeFsx"](gl.$0,true)})}):gf.$==10?(gm=bD.FetchByPathO(gf.$0),gm==null?bT.Return({$:4,$0:null,$1:[["Snippet not found",w.FSError]]}):bT.Bind(B.translateAR(bx["CodeSnippet.GetCodeFsx"](gm.$0,true),false),function(gq){return bT.Return({$:4,$0:h.getOption(h.map(bu.completeJS,gq)),$1:f$(h.getMsgs(gq))});})):gf.$==8?bT.Return({$:3,$0:d.defaultValue([],(gn=bD.FetchByPathO(gf.$0),gn==null?null:{$:1,$0:bx["CodeSnippet.Predecessors"](gn.$0)}))}):gf.$==9?bT.Return({$:2,$0:bD.FetchByPathO(gf.$0)}):gf.$==1?bT.Return({$:1,$0:{$:1,$0:"Message received: "+gf.$0}}):gf.$==0?bT.Return({$:0,$0:bx.fsIds()}):gf.$==12?l.map(ga,j.getAsyncR(e4(gf.$1,by.NewBrowser,bD.FetchO(gf.$0)))):gf.$==13?l.map(ga,j.getAsyncR(e4(gf.$1,by.NewBrowser,bD.FetchByPathO(gf.$0)))):gf.$==14?(go=gf.$0,bT.Return(gb(h.map(function(){return(function(gq){return function(gr){return gq("success: "+bP.toSafe(gr));};}(a.id))(go);},f8(go,gf.$1,gf.$2))))):bT.Return({$:1,$0:{$:1,$0:(gp=bY.ofSeq((bx.codeSnippets())["var"].RVal()),b0.stringify(((cm.EncodeArray(bJ.j$3))())(gp)))}});});}function gd(ge){!bR.contains(ge,er.c)?ce.Set(er,new bR.T({$:1,$0:ge,$1:er.c})):void 0;fL(300);}cy=ce.Create$1("");cz=ce.Create$1(t.get_New());cA="CodeEditor."+"currentCodeSnippetId";cB=a.localStorage.getItem(cA);cB!==null?cz.set_RVal((bI.j$3())(b0.parse(cB))):void 0;_3.sink(function(ge){a.localStorage.setItem(cA,b0.stringify((bJ.j$1())(ge)));},cz);cC=ce.Create$1();cD=_3.map2(function(ge){return function(){return bx.codeSnippets().TryFindByKey(ge);};},cz,cC);cE=ce.Create$1(by.Below);cF="CodeEditor."+"position";cG=a.localStorage.getItem(cF);cG!==null?cE.set_RVal((bI.j$4())(b0.parse(cG))):void 0;_3.sink(function(ge){a.localStorage.setItem(cF,b0.stringify((bJ.j$2())(ge)));},cE);_3.map(function(ge){return ge.$==1&&true;},cE);cH=_3.map(function(ge){return bZ.Equals(bD.FetchO(ge),null);},cz);cI=(cJ=_3.map((cK=(cL=function(ge){return ge==null?null:ex(ge.$0);},function(ge){return cL(bD.FetchO(ge));}),function(ge){return ey(cK(ge));}),cz),(cM=[ce.Create$1(null)],(b$.Sink(function(ge){if(!bZ.Equals(cM[0].c,ge))ce.Set(cM[0],ge);},_3.toView(cJ)),new _3({$:1,$0:cM[0]}))));cN=(cO=_3.map((cP=(cQ=function(ge){return ge==null?null:ez(ge.$0);},function(ge){return cQ(bD.FetchO(ge));}),function(ge){return eA(cP(ge));}),cz),(cR=[ce.Create$1(null)],(b$.Sink(function(ge){if(!bZ.Equals(cR[0].c,ge))ce.Set(cR[0],ge);},_3.toView(cO)),new _3({$:1,$0:cR[0]}))));cS=(cT=_3.map((cU=(cV=function(ge){return ge==null?null:eB(ge.$0);},function(ge){return cV(bD.FetchO(ge));}),function(ge){return eC(cU(ge));}),cz),(cW=[ce.Create$1(null)],(b$.Sink(function(ge){if(!bZ.Equals(cW[0].c,ge))ce.Set(cW[0],ge);},_3.toView(cT)),new _3({$:1,$0:cW[0]}))));cX=(cY=_3.map((cZ=(c0=function(ge){return ge==null?null:eD(ge.$0);},function(ge){return c0(bD.FetchO(ge));}),function(ge){return eE(cZ(ge));}),cz),(c1=[ce.Create$1(null)],(b$.Sink(function(ge){if(!bZ.Equals(c1[0].c,ge))ce.Set(c1[0],ge);},_3.toView(cY)),new _3({$:1,$0:c1[0]}))));c2=(c3=_3.map((c4=(c5=function(ge){return ge==null?null:eF(ge.$0);},function(ge){return c5(bD.FetchO(ge));}),function(ge){return eG(c4(ge));}),cz),(c6=[ce.Create$1(null)],(b$.Sink(function(ge){if(!bZ.Equals(c6[0].c,ge))ce.Set(c6[0],ge);},_3.toView(c3)),new _3({$:1,$0:c6[0]}))));c7=(c8=_3.map((c9=(c_=function(ge){return ge==null?null:eH(ge.$0);},function(ge){return c_(bD.FetchO(ge));}),function(ge){return eI(c9(ge));}),cz),(c$=[ce.Create$1(null)],(b$.Sink(function(ge){if(!bZ.Equals(c$[0].c,ge))ce.Set(c$[0],ge);},_3.toView(c8)),new _3({$:1,$0:c$[0]}))));da=_3.map(function(ge){return ge!=="0"&&ge!=="";},eJ("DisableParse"));db=_3.map2(function(ge){return function(gf){return eK(ge,gf);};},da,eJ("DisableFSI"));dc=_3.map2(function(ge){return function(gf){return eK(ge,gf);};},da,eJ("DisableFable"));dd=_3.map2(function(ge){return function(gf){return eK(ge,gf);};},da,eJ("DisableWebSharper"));de=null;df=new o.New(function(ge){return d.defaultValue(new cq.New$3(),ge==null?null:{$:1,$0:new cq.New$2(ge.$0.UniquePredecessors(bD.FetchO))});});dg=ce.Create$1("");dh=ce.Create$1("");di=ce.Create$1("");dj=ce.Create$1("");dk=false;dl=ce.Create$1(false);_3.sink(function(ge){a.onbeforeunload=ge?function(gf){gf.returnValue="Changes you made may not be saved.";}:null;},dl);dm=t.get_New();bE.set_addOutMsg(eR);dn=(_do=a.location.origin+"/Main.html",(bN.Curried3(e4))(_do));dp=_3.map(function(ge){var gf,gg;gf=null;return df.cache.TryGetValue(ge,{get:function(){return gf;},set:function(gh){gf=gh;}})?gf:(gg=df.f(ge),(df.cache.set_Item(ge,gg),gg));},cD);dq=0;dr=ce.Create$1("");_3.map(function(ge){return ge==="";},dr);ds="CodeEditorFileSel";dt=_9.New$2(ce.Lens(dr,fq,a.id)).Prefix$1(_2.label([_2["class"]("btn btn-primary"),_2.htmlText("Load File..."),_9.New$2(dr).Type("file").Style("display: none").Content([cc.Handler("change",function(ge){return function(){return ft(ge);};}),cc.Handler("click",function(ge){return function(){ge.value="";};})]).Id(ds).get_Render()]));cx!==""?bT.Start((du=null,bT.Delay(function(){return bT.Bind(bT.Sleep(3000),function(){var ge;((function(gf){return function(gg){return gf("loading "+bP.toSafe(gg)+"...");};}(function(gf){bU.log(gf);}))(cx));ge=cu.getJSON(cx+"?t="+a.String(b1.now()));ge.done(function(){return fs(ge.responseText);});return bT.Zero();});})),null):void 0;dv=new _1.New("FSharpStation",{$:1,$0:a.location.href});dw=bx.fsIds()+".fsx";dx=b$.GetAsync(_3.toView(da));dy=1;dz=false;dA="\\((\\d+)\\) F# (.+).fsx\\((\\d+)\\,(\\d+)\\): (error|warning) ((.|\\b)+)";dB="(Err|Warning|Info)(FSharp|WebSharper)\\s+\"(\\((\\d+)\\) ?)?F?#? ?(.+?)(.fsx)? \\((\\d+)\\,\\s*(\\d+)\\) - \\((\\d+)\\,\\s*(\\d+)\\) ((.|\\s)+?)"+"\"";dC=dA+"|"+dB;dD=c.asyncStartCancelling();dE=bc.New$2((dF=_3.toView(_3.fixit(cz)),(dG=ce.Create$1(null),(dH=[null],(dI=[0],(dJ=[0],(b$.Sink(function(){var ge,gf;ge=dH[0];ge==null?void 0:(gf=ge.$0,dI[0]>dJ[0]?dJ[0]=dI[0]:!bZ.Equals(gf.RVal(),dG.c)?(dJ[0]=dJ[0]+1,gf.set_RVal(dG.c)):void 0);},dG.v),b$.Sink(function(){var ge,gf;ge=dH[0];ge==null?void 0:(gf=ge.$0,dJ[0]>dI[0]?dI[0]=dJ[0]:!bZ.Equals(gf.RVal(),dG.c)?(dI[0]=dI[0]+10,ce.Set(dG,gf.RVal())):void 0);},b$.Bind(function(ge){var gf;gf=ew(ge);dH[0]={$:1,$0:gf};dJ[0]=dI[0]+100;ce.Set(dG,gf.RVal());return gf.RView();},dF)),dG))))))).OnChange(function(){var ge;de!=null&&de.$==1&&(bZ.Equals(de.$0[0],cz.c)&&(ge=[de.$0[0],de.$0[2]],true))?eL():eM();}).OnRender(function(ge){function gf(gh){ge.replaceSelection(".","end");}function gg(){_7.showHints(ge,function(gh){return fF(gh[0],gh[1],gh[2]);},false,void 0);}ge.addKeyMap(bA.New(fC,fC,function(gh){_7.showHints(ge,function(gi){return fF(gi[0],gi[1],gi[2]);},false,gh);},function(gh){return gg(gf(gh));}));_7.setLint(ge,fE);_3.sink(function(gh){var gi;bT.Start((gi=null,bT.Delay(function(){ge.setOption("theme",gh);return bT.Bind(bT.Sleep(50),function(){ge.refresh();return bT.Zero();});})),null);},cX);_3.sink(function(gh){ge.setOption("mode",gh);},cS);}).Style("height: 100%");dK=dE.get_Render().AddChildren([new _6({$:7,$0:cc.Handler("dblclick",function(){return function(){return fC(dE.editorO.$0);};})}),_2.htmlElement("menu",[_2.type("context"),_2.Id("right-menu"),_2.htmlElement("menuitem",[_2.htmlAttribute("label","Goto Definition"),new _6({$:7,$0:cc.Handler("click",function(){return function(){return fJ();};})})])]),_2.htmlAttribute("contextmenu","right-menu")]);_3.sink(function(){var ge;bT.Start((ge=null,bT.Delay(function(){var gf,gg,gh;return!dk?bT.Zero():(gf=dE.editorO,gf!=null&&gf.$==1?(gg=gf.$0,(gh=bD.FetchO(cz.c),gh!=null&&gh.$==1?bT.Bind(dv.MustParse(dw,gh.$0.get_NameSanitized()),function(gi){return gi?bT.Zero():(gg.performLint(),bT.Zero());}):bT.Zero())):bT.Zero());})),null);},di);dL=ce.Create$1();dM=_2.div([new _6({$:5,$0:_3.map2(function(ge){return function(gf){return fP(ge,gf);};},dL,_3.bind(function(ge){return fR(fQ(ge));},cz))}),_2.css(" td.hovering { background: gray; } ")]);dN=ce.Create$1();dO=bo.New$1("Load...").OnClick(function(ge){return function(gf){return fv(ge,gf);};});dP=bo.New$1("Save as...").OnClick(bN.Curried(_7.Do,2,[fu,null])).Highlight(dl);dQ=bo.New$1("Add Snippet").OnClick(bN.Curried(_7.Do,2,[fo,null]));dR=bo.New$1("Delete Snippet").OnClick(bN.Curried(_7.Do,2,[fp,null])).Disabled(cH);dS=bo.New$1("Indent In  >>").OnClick(bN.Curried(_7.Do,2,[eV,null])).Disabled(cH);dT=bo.New$1("Indent Out <<").OnClick(bN.Curried(_7.Do,2,[eW,null])).Disabled(cH);dU=bo.New$1("Get F# Code").OnClick(bN.Curried(_7.Do,2,[eT,null])).Disabled(da);dV=bo.New$1("actSetSnippetProp").OnClick2(function(ge){return fU(function(gf){return function(gg){return f3(gf,gg);};},null,ge);}).Disabled(db);dW=bo.New$1("Run FSI on Code").OnClick2(function(ge){return fU(function(gf){return function(gg){return fY(gf,gg);};},null,ge);}).Disabled(db);dX=bo.New$1("Run FSI").OnClick2(function(ge){return fU(function(gf){return function(gg){return f0(gf,gg);};},null,ge);}).Disabled(db);dY=bo.New$1("Run Fable on Code").OnClick2(function(ge){return fU(function(gf){return function(gg){return fZ(gf,gg);};},null,ge);}).Disabled(dc);dZ=bo.New$1("Run Fable").OnClick2(function(ge){return fU(function(gf){return function(gg){return f1(gf,gg);};},null,ge);}).Disabled(dc);d0=bo.New$1("Run WebSharper in new tab").OnClick2((d1=by.NewBrowser,function(ge){return fU(function(gf){return function(gg){return f2(gf,gg);};},d1,ge);})).Disabled(dd);d2=bo.New$1("Run WebSharper in WS Result").OnClick2((d3=by.Below,function(ge){return fV(function(gf){return function(gg){return f2(gf,gg);};},d3,ge);})).Disabled(dd);d4=bo.New$1("Run WebSharper in ...").OnClick(bN.Curried(fT,2,[f5,null])).Disabled(dd);d5=bo.New$1("Parse F#").OnClick(bN.Curried(fS,2,[f6,null])).Disabled(da);d6=bo.New$1("Compile WebSharper").OnClick((d7=function(ge){return eX(e5(ge));},bN.Curried(fS,2,[d7,null]))).Disabled(dd);d8=bo.New$1("Find Definition").OnClick(bN.Curried(_7.Do,2,[fJ,null])).Disabled(da);d9=bo.New$1("Refresh CodeMirror").OnClick(bN.Curried(_7.Do,2,[fK,null]));d_=bo.New$1("Show Output text").OnClick2(bN.Curried(_7.Do2,3,[f4,null]));d$=_2.div([dQ.get_Button().get_Render(),dT.get_Button().get_Render(),dS.get_Button().get_Render(),dt.get_Render().AddChildren([_2.style("grid-column: 4/6")]),dX.get_Button().get_Render(),dZ.get_Button().get_Render(),d4.get_Button().get_Render(),dR.get_Button().get_Render(),d8.get_Button().get_Render(),_2.span([]),dP.get_Button().get_Render(),_2.span([]),dU.get_Button().get_Render(),d5.get_Button().get_Render(),_2.someElt(ca.Select([cd.Create("id","Position")],function(ge){return ge.$==1?"Right":ge.$==2?"In Tab":ge.$==3?"New Browser":"Below";},bR.ofArray([by.NewBrowser,by.Below]),cE)),_2.style("\n                    overflow: hidden;\n                    display: grid;\n                    grid-template-columns: repeat(8, 12.1%);\n                    bxackground-color: #eee;\n                    padding : 5px;\n                    grid-gap: 5px;\n                ")]);ea=bn.New2([bl.New$2("File").SubMenu([dO.get_MenuEntry(),dP.get_MenuEntry()]),bl.New$2("Code").SubMenu([dQ.get_MenuEntry(),dR.get_MenuEntry(),bl.New$2("").get_Divider(),dS.get_MenuEntry(),dT.get_MenuEntry(),bl.New$2("").get_Divider(),d8.get_MenuEntry(),bl.New$2("").get_Divider(),dU.get_MenuEntry(),bl.New$2("").get_Divider(),d9.get_MenuEntry()]),bl.New$2("Run").SubMenu([dX.get_MenuEntry(),dZ.get_MenuEntry(),bl.New$2("").get_Divider(),d0.get_MenuEntry(),d2.get_MenuEntry(),bl.New$2("").get_Divider(),d5.get_MenuEntry(),d6.get_MenuEntry()])]);eb=bn.New2([bl.New$2("About").SubMenu([bl.New$1("Source @ GitHub","https://github.com/amieres/FSharpStation").Target("_blank")])]);ec=_7.navbar(_2.h1([_2.htmlText("F# Station"),_2.style("font-size: 48px; margin-top: -17px")]),ea.get_Render(),eb.get_Render());ed="CodeEditor."+"splitterV1";ee=bh.New$1(20).Children([_2.style("grid-row: 2 / 4")]).get_Var();ef=a.localStorage.getItem(ed);ef!==null?ee.set_RVal(((cm.Id())())(b0.parse(ef))):void 0;_3.sink(function(ge){a.localStorage.setItem(ed,b0.stringify(((cm.Id())())(ge)));},ee);eg=_2.bindHElem(function(ge){return _2.div(bR.ofSeq(bS.delay(function(){return bS.append([_2.style("overflow: auto")],bS.delay(function(){return bS.append(bS.choose(a.id,(bS.mapFold(function(gf,gg){var gh,gi,gj,gk,gl;gh=gg[1];return d.defaultValue(true,(gi=gh.parent,gi==null?null:{$:1,$0:gf.Contains(gi.$0)}))?(gj=d.defaultValue(false,(gk=bS.tryItem(gg[0]+1,bx.codeSnippets()),gk==null?null:{$:1,$0:bZ.Equals(gk.$0.parent,{$:1,$0:gh.id})})),(gl=gj&&gh.expanded,[{$:1,$0:fi(gj,gl,gh)},gl?gf.Add(gh.id):gf])):[null,gf];},new ch.New(bR.T.Empty),bS.indexed(ge)))[0]),bS.delay(function(){return bS.append([new _6({$:7,$0:cc.Handler("scroll",function(gf){return function(){dq=gf.scrollTop;};})})],bS.delay(function(){return[new _6({$:7,$0:cc.OnAfterRender(function(gf){gf.scrollTop=dq;})})];}));}));}));})));},(eh=bx.codeSnippets().v,b$.SnapshotOn((bx.codeSnippets())["var"].RVal(),cC.v,eh)));ei=bt.AddGuids([["actLoadFile",new bp({$:2,$0:dO})],["actSaveFile",new bp({$:2,$0:dP})],["actAddSnippet",new bp({$:2,$0:dQ})],["actDeleteSnippet",new bp({$:2,$0:dR})],["actIndentSnippet",new bp({$:2,$0:dS})],["actOutdentSnippet",new bp({$:2,$0:dT})],["actGetFsCode",new bp({$:2,$0:dU})],["actSetSnippetProp",new bp({$:2,$0:dV})],["actEvalFsCode",new bp({$:2,$0:dW})],["actEvalCode",new bp({$:2,$0:dX})],["actRunFableFs",new bp({$:2,$0:dY})],["actRunFable",new bp({$:2,$0:dZ})],["actRunWSNewTab",new bp({$:2,$0:d0})],["actRunWSHere",new bp({$:2,$0:d2})],["actRunWSIn",new bp({$:2,$0:d4})],["actParseCode",new bp({$:2,$0:d5})],["actCompileWS",new bp({$:2,$0:d6})],["actFindDefinition",new bp({$:2,$0:d8})],["actOutText",new bp({$:2,$0:d_})],["Output",new bp({$:1,$0:$.New$2(dj).Placeholder("Output:").Title("Output").RenderWith(bR.ofArray([cc.Handler("dblclick",function(ge){return function(gf){return f7(ge,gf);};})]))})],["Parser",new bp({$:1,$0:$.New$2(di).Placeholder("Parser messages:").Title("Parser").RenderWith(bR.ofArray([cc.Handler("dblclick",function(ge){return function(gf){return f7(ge,gf);};})]))})],["JavaScript",new bp({$:1,$0:$.New$2(dh).Placeholder("Javascript:").Title("JavaScript code generated").get_Render()})],["F# code",new bp({$:1,$0:$.New$2(dg).Placeholder("F# code:").Title("F# code assembled").get_Render()})],["Properties",new bp({$:1,$0:dM})],["WS Result",new bp({$:1,$0:_2.div([_2.div([_2.Id("TestNode"),_2.style("background: white; height: 100%; width: 100%; ")])])})],["title",new bp({$:1,$0:_9.New$2((ej=_3.toView(_3.fixit(cz)),(ek=ce.Create$1(null),(el=[null],(em=[0],(en=[0],(b$.Sink(function(){var ge,gf;ge=el[0];ge==null?void 0:(gf=ge.$0,em[0]>en[0]?en[0]=em[0]:!bZ.Equals(gf.RVal(),ek.c)?(en[0]=en[0]+1,gf.set_RVal(ek.c)):void 0);},ek.v),b$.Sink(function(){var ge,gf;ge=el[0];ge==null?void 0:(gf=ge.$0,en[0]>em[0]?em[0]=en[0]:!bZ.Equals(gf.RVal(),ek.c)?(em[0]=em[0]+10,ce.Set(ek,gf.RVal())):void 0);},b$.Bind(function(ge){var gf;gf=ev(ge);el[0]={$:1,$0:gf};en[0]=em[0]+100;ce.Set(ek,gf.RVal());return gf.RView();},ej)),ek))))))).Prefix$1(_2.htmlText("name:")).get_Render()})],["code",new bp({$:1,$0:dK})],["snippets",new bp({$:1,$0:eg})],["buttons",new bp({$:1,$0:d$})],["menu",new bp({$:1,$0:ec})],["messagesR",new bp({$:4,$0:true,$1:["Properties"]})],["messagesB1",new bp({$:4,$0:true,$1:["Output","JavaScript","F# code"]})],["messagesB2",new bp({$:4,$0:true,$1:["Parser","WS Result"]})],["messagesB",_7.varVerSplitter(55,"messagesB1","messagesB2",0,100)],["title_code",_7.fixedHorSplitter(true,34,"title","code")],["code_props",_7.varVerSplitter(85,"title_code","messagesR",25,100)],["code_buttons",_7.fixedHorSplitter(false,80,"code_props","buttons")],["snippets_code",_7.varVerSplitter(15,"snippets","code_buttons",5,95)],["main_messages",_7.varHorSplitter(82,"snippets_code","messagesB",35,100)],["extrabuttons",new bp({$:1,$0:_2.div([])})],["main_extra",_7.varVerSplitter(100,"main_messages","extrabuttons",20,100)],["main",_7.fixedHorSplitter(true,50,"menu","main_extra")]]);eo=bt.New$1(ei);a.addLayoutJson=f9;_3.sink(f9,c2);_3.sink(function(ge){if(ge==="")f_([]);else eZ(a,ge);},c7);a.doFSharpStationGuiCall=function(ge){var gf,gg;gf=h.Success(f8.apply(null,ge));gf.$==1?((gg=(bN.Curried3(function(gh,gi,gj){return gh("Error doGuiCall "+bP.printList(bP.prettyPrint,gi)+": "+("("+bP.prettyPrint(gj[0])+", "+bP.prettyPrint(gj[1])+", "+bP.printArray(bP.prettyPrint,gj[2])+")"));}))(function(gh){bU.log(gh);}),function(gh){var gi;gi=gg(gh);return function(gj){gi([gj[0],gj[1],gj[2]]);};})(gf.$0))(ge):void 0;};a.setFSharpStationLayout=function(ge){var gf;gf=bD.FetchO(cz.c);gf==null?void 0:f_(ge.apply(null,[eo,gf.$0]));};ep=new y.New(bx.fsIds(),{$:1,$0:bx.fsIds()},null,{$:1,$0:a.location.href});bT.Start((eq=null,bT.Delay(function(){return bT.Bind(bT.Sleep(1000),function(){ep.get_MessagingClient().awaitMessage(function(ge,gf){var gg;gg=null;return bT.Delay(function(){var gh;((function(gi){return function(gj){return gi("respondMessageG txt: "+bP.toSafe(gj));};}(function(gi){bU.log(gi);}))(gf));gh=(bI.j$5())(b0.parse(gf));((function(gi){return function(gj){return gi("respondMessageG msg: "+bP.prettyPrint(gj));};}(function(gi){bU.log(gi);}))(gh));return bT.Bind(gc(ge,gh),function(gi){return bT.Return(b0.stringify((bJ.j$4())(gi)));});});});return bT.Zero();});})),null);_3.sink(function(){eo.SelectTab("Output");},dj);_3.sink(function(){eo.SelectTab("WS Result");},dN);er=ce.Create$1(bR.ofArray(["/EPFileX/css/main.css"]));_3.sink(gd,cN);_3.sink(function(ge){if(ge!=="")gd((function(gf){return function(gg){return gf("/EPFileX/codemirror/content/theme/"+bP.toSafe(gg)+".css");};}(a.id))(ge));},cX);es=_2.div([_2.style("height: 100vh; width: 100% "),eo.get_Render().Style("height: 100%; width: 100% "),_2.script([_2.src("/EPFileX/FileSaver/FileSaver.js"),_2.type("text/javascript")]),_2.script([_2.src("http://code.jquery.com/jquery-3.1.1.min.js"),_2.type("text/javascript")]),_2.script([_2.src("http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"),_2.type("text/javascript")]),_2.link([_2.href("http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"),_2.type("text/css"),_2.rel("stylesheet")]),_2.css("\n      \n        body { margin: 0px }     \n             \n        div textarea {\n            font-family     : monospace;\n        }\n        .code-editor-list-tile {\n            white-space     : nowrap; \n            border-style    : solid none none;\n            border-color    : white;\n            border-width    : 1px;\n            background-color: #D8D8D8;\n            display         : flex;\n        }\n        .code-editor-list-text{\n            padding         : 1px 10px 1px 5px;\n            overflow        : hidden;\n            text-overflow   : ellipsis;\n            white-space     : nowrap;\n            flex            : 1;\n        }\n        \n        .code-editor-list-tile.direct-predecessor {\n            font-weight     : bold;\n        }\n        .code-editor-list-tile.indirect-predecessor {\n            color           : blue;\n        }\n        .code-editor-list-tile.selected {\n            background-color: #77F;\n            color           : white;\n        }\n        .code-editor-list-tile.hovering {\n            background      : lightgray;\n        }\n        .code-editor-list-tile.hovering.selected {\n            background      : blue;\n        }\n        .code-editor-list-tile>.predecessor {\n            font-weight     : bold;\n            border-style    : inset;\n            border-width    : 1px;\n            text-align      : center;\n            color           : transparent;\n        }\n        .code-editor-list-tile.direct-predecessor>.predecessor {\n            color           : blue;\n        }\n        \n        .CodeMirror { height: 100%; }\n        \n        .node {\n            background-color: white; \n            width           : 2ch; \n            color           : #A03; \n            font-weight     : bold; \n            text-align      : center;\n            font-family     : arial;\n        }\n        .Warning { text-decoration: underline lightblue } \n        .Error   { text-decoration: underline red       } \n        .body    { margin         : 0px                 }\n        "),_2.style(" \n                color      : #333;\n                font-size  : small;\n                font-family: monospace;\n                line-height: 1.2;\n                    "),new _6({$:5,$0:_3.map(function(ge){return _2.div(bR.ofSeq(bS.delay(function(){return bS.map(function(gf){return _2.link([_2.href(gf),_2.type("text/css"),_2.rel("stylesheet")]);},ge);})));},er)}),_2.css(cI)]);return(_2.renderDoc())(es);};bH.$cctor=function(){var cx,cy,cz;bH.$cctor=a.ignore;function cA(cB,cC){return new _6({$:7,$0:cc.Style(cB,cC)});}bH.result=new i.New();bH.errOptionIsNone=new f.New();bH.wrapper=new k.New();bH.awaitRequestForF=q.selectF(function(cB){return(new b8.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.awaitRequestFor:-439983525",[cB]);},function(cB){return(new b8.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.awaitRequestFor:-439983525",[cB]);});bH.sendRequestF=q.selectF(bN.Curried3(function(cB,cC,cD){return(new b8.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.sendRequest:-426626804",[cB,cC,cD]);}),bN.Curried3(function(cB,cC,cD){return(new b8.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.sendRequest:-426626804",[cB,cC,cD]);}));bH.replyToF=q.selectF(function(cB){return function(cC){return(new b8.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.replyTo:-1092841374",[cB,cC]);};},function(cB){return function(cC){return(new b8.New()).Async("RemotingDll:FSSGlobal.UsefulDotNet.replyTo:-1092841374",[cB,cC]);};});bH.AsyncStartF=q.selectF(function(cB){q.AsyncStart(cB);},function(cB){bT.Start(cB,null);});bH.valFlow=new _5.New();bH.renderDoc=(cx=(cy=ca.Empty(),function(cB){return cB==null?cy:cB.$0;}),function(cB){return cx(_2.chooseNode(cB));});bH.string2Styles=(cz=function(cB){return bY.map(function(cC){return cA(cC[0],cC[1]);},cB);},function(cB){return cz(_2.style2pairs(cB));});bH.codeMirrorIncludes=["/EPFileX/codemirror/scripts/codemirror/codemirror.js","/EPFileX/codemirror/scripts/intellisense.js","/EPFileX/codemirror/scripts/codemirror/codemirror-intellisense.js","/EPFileX/codemirror/scripts/codemirror/codemirror-compiler.js","/EPFileX/codemirror/scripts/codemirror/mode/none.js","/EPFileX/codemirror/scripts/codemirror/mode/fsharp.js","/EPFileX/codemirror/scripts/codemirror/mode/css.js","/EPFileX/codemirror/scripts/codemirror/mode/javascript.js","/EPFileX/codemirror/scripts/codemirror/mode/markdown.js","/EPFileX/codemirror/scripts/addon/search/searchcursor.js","/EPFileX/codemirror/scripts/addon/search/search.js","/EPFileX/codemirror/scripts/addon/search/jump-to-line.js","/EPFileX/codemirror/scripts/addon/dialog/dialog.js","/EPFileX/codemirror/scripts/addon/edit/matchbrackets.js","/EPFileX/codemirror/scripts/addon/selection/active-line.js","/EPFileX/codemirror/scripts/addon/display/fullscreen.js","/EPFileX/codemirror/scripts/addon/hint/show-hint.js","/EPFileX/codemirror/scripts/addon/lint/lint.js"];bH.observers=bR.T.Empty;bH.draggedTab=[null];bH.selectedPanels=ce.Create$1(new cv.New([]));bH.TabMoved=null;bH.codeSnippets=cw.Create(function(cB){return cB.id;},bR.T.Empty);bH.fsIds="FSharpStation"+a.String(b1.now());bH.references=["mscorlib.dll","System.dll","System.Core.dll","System.Data.dll","System.IO.dll","System.Xml.dll","System.Numerics.dll","FSharp.Core.sigdata","FSharp.Core.dll","Fable.Core.dll","Fable.Import.Browser.dll"];bH.loadReferences=ct.Create(function(){var cB;bT.Start((cB=null,bT.Delay(function(){return bT.Bind(_2.LoadFilesAsync(["https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.2/require.min.js"]),function(){var cC;cC=cn.create(null);cC.skipDataMain=1;cC.isBrowser=1;a.require.config(cC);bS.iter(function(cD){a.getFileBlob(cD,"metadata/"+cD);},bE.references());return bT.Zero();});})),null);});bH.getChecker=ct.Create(function(){return co.createChecker(function(cB){return a.metadata[cB];},bY.choose(function(cB){return cB.indexOf("sigdata")!=-1?null:{$:1,$0:bQ.Replace(cB,".dll","")};},bE.references()));});bH.addOutMsg=function(cB){bU.log(cB);};};bI.j=function(){return bI._v?bI._v:bI._v=(cm.DecodeUnion(void 0,"$",[[0,[["$0","Item",cm.Id(),0]]],[1,[["$0","Item",cm.Id(),1]]],[2,[["$0","Item",bI.j$2,1]]],[3,[["$0","Item",cm.DecodeArray(bI.j$2),0]]],[4,[["$0","Item1",cm.Id(),1],["$1","Item2",cm.DecodeArray(cm.DecodeTuple([cm.Id(),bI.j$1])),0]]]]))();};bI.j$3=function(){return bI._v$3?bI._v$3:bI._v$3=(cm.DecodeUnion(t,"$",[[0,[["$0","Item",cm.Id(),0]]]]))();};bI.j$2=function(){return bI._v$2?bI._v$2:bI._v$2=(cm.DecodeRecord(u,[["name",cm.Id(),0],["content",cm.Id(),0],["parent",bI.j$3,1],["predecessors",cm.DecodeList(bI.j$3),0],["id",bI.j$3,0],["expanded",cm.Id(),0],["level",cm.Id(),0],["levelCode",cm.Id(),0],["properties",cm.DecodeStringDictionary(cm.Id()),0]]))();};bI.j$1=function(){return bI._v$1?bI._v$1:bI._v$1=(cm.DecodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]]]))();};bJ.j=function(){return bJ._v?bJ._v:bJ._v=(cm.EncodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",cm.Id(),0]]],[2,[["$0","Item",bJ.j$1,0]]],[3,[["$0","Item",bJ.j$1,0]]],[4,[["$0","Item",bJ.j$1,0]]],[5,[["$0","Item",bJ.j$1,0]]],[6,[["$0","Item",cm.EncodeArray(cm.Id()),0]]],[7,[["$0","Item",cm.EncodeArray(cm.Id()),0]]],[8,[["$0","Item",cm.EncodeArray(cm.Id()),0]]],[9,[["$0","Item",cm.EncodeArray(cm.Id()),0]]],[10,[["$0","Item",cm.EncodeArray(cm.Id()),0]]],[11,[]],[12,[["$0","Item1",bJ.j$1,0],["$1","Item2",cm.Id(),0]]],[13,[["$0","Item1",cm.EncodeArray(cm.Id()),0],["$1","Item2",cm.Id(),0]]],[14,[["$0","name",cm.Id(),0],["$1","action",cm.Id(),0],["$2","parms",cm.EncodeArray(cm.Id()),0]]]]))();};bJ.j$1=function(){return bJ._v$1?bJ._v$1:bJ._v$1=(cm.EncodeUnion(t,"$",[[0,[["$0","Item",cm.Id(),0]]]]))();};bJ.j$4=function(){return bJ._v$4?bJ._v$4:bJ._v$4=(cm.EncodeUnion(void 0,"$",[[0,[["$0","Item",cm.Id(),0]]],[1,[["$0","Item",cm.Id(),1]]],[2,[["$0","Item",bJ.j$3,1]]],[3,[["$0","Item",cm.EncodeArray(bJ.j$3),0]]],[4,[["$0","Item1",cm.Id(),1],["$1","Item2",cm.EncodeArray(cm.EncodeTuple([cm.Id(),bJ.j$5])),0]]]]))();};bJ.j$5=function(){return bJ._v$5?bJ._v$5:bJ._v$5=(cm.EncodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]]]))();};bI.j$5=function(){return bI._v$5?bI._v$5:bI._v$5=(cm.DecodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",cm.Id(),0]]],[2,[["$0","Item",bI.j$3,0]]],[3,[["$0","Item",bI.j$3,0]]],[4,[["$0","Item",bI.j$3,0]]],[5,[["$0","Item",bI.j$3,0]]],[6,[["$0","Item",cm.DecodeArray(cm.Id()),0]]],[7,[["$0","Item",cm.DecodeArray(cm.Id()),0]]],[8,[["$0","Item",cm.DecodeArray(cm.Id()),0]]],[9,[["$0","Item",cm.DecodeArray(cm.Id()),0]]],[10,[["$0","Item",cm.DecodeArray(cm.Id()),0]]],[11,[]],[12,[["$0","Item1",bI.j$3,0],["$1","Item2",cm.Id(),0]]],[13,[["$0","Item1",cm.DecodeArray(cm.Id()),0],["$1","Item2",cm.Id(),0]]],[14,[["$0","name",cm.Id(),0],["$1","action",cm.Id(),0],["$2","parms",cm.DecodeArray(cm.Id()),0]]]]))();};bK.p$22=function(cx){return"{"+("text = "+bL.p$6(cx.text))+"; "+("highlight = "+bL.p$8(cx.highlight))+"; "+("disabled = "+bL.p$8(cx.disabled))+"; "+("toolTip = "+bL.p$10(cx.toolTip))+"; "+("onClick = "+bL.p$11(cx.onClick))+"; "+("parms = "+bL.p$5(cx.parms))+"}";};bL.p$11=function(cx){return cx==null?"null":"Some <fun>";};bL.p$10=function(cx){return cx==null?"null":"Some "+bP.prettyPrint(cx.$0);};bL.p$8=function(cx){return cx.$==2?"Dynamic "+bL.p$9(cx.$0):cx.$==1?"DynamicV "+bP.prettyPrint(cx.$0):"Constant "+bP.prettyPrint(cx.$0);};bL.p$9=function(cx){return"V <fun>";};bL.p$6=function(cx){return cx.$==2?"Dynamic "+bL.p$7(cx.$0):cx.$==1?"DynamicV "+bP.prettyPrint(cx.$0):"Constant "+bP.prettyPrint(cx.$0);};bL.p$7=function(cx){return"V <fun>";};bL.p$5=function(cx){return cx==null?"null":"Some "+bP.printArray(bP.prettyPrint,cx.$0);};bL.p$4=function(cx){return cx.$==17?"KMultiple "+bP.printArray(function(cy){return bL.p$4(cy);},cx.$0):cx.$==16?"KUnionCase "+bK.p$21(cx.$0):cx.$==15?"KNamespaces "+bK.p$18(cx.$0):cx.$==14?"KCompilerLocation "+bK.p$17(cx.$0):cx.$==13?"KSignatureData "+bK.p$15(cx.$0):cx.$==12?"KTypeSig "+bP.prettyPrint(cx.$0):cx.$==11?"KToolTip "+bP.printArray(function(cy){return bP.printArray(function(cz){return bK.p$2(cz);},cy);},cx.$0):cx.$==10?"KDeclarations "+bP.printArray(function(cy){return bK.p$13(cy);},cx.$0):cx.$==9?"KFindDecl "+bK.p$12(cx.$0):cx.$==8?"KColorizations "+bP.printList(function(cy){return bK.p$11(cy);},cx.$0):cx.$==7?"KErrors "+bK.p$9(cx.$0):cx.$==6?"KMethod "+bK.p$6(cx.$0):cx.$==5?"KHelp "+bP.prettyPrint(cx.$0):cx.$==4?"KSymbolUse "+bK.p$4(cx.$0):cx.$==3?"KCompletion "+bP.printArray(function(cy){return bK.p$3(cy);},cx.$0):cx.$==2?"KHelpText "+bK.p$1(cx.$0):cx.$==1?"KError "+bK.p(cx.$0):"KInfo "+bP.prettyPrint(cx.$0);};bK.p$21=function(cx){return"{"+("Text = "+bP.prettyPrint(cx.Text))+"}";};bK.p$18=function(cx){return"{"+("Opens = "+bP.printArray(function(cy){return bK.p$19(cy);},cx.Opens))+"; "+("Qualifies = "+bP.printArray(function(cy){return bK.p$20(cy);},cx.Qualifies))+"; "+("Word = "+bP.prettyPrint(cx.Word))+"}";};bK.p$20=function(cx){return"{"+("Name = "+bP.prettyPrint(cx.Name))+"; "+("Qualifier = "+bP.prettyPrint(cx.Qualifier))+"}";};bK.p$19=function(cx){return"{"+("Namespace = "+bP.prettyPrint(cx.Namespace))+"; "+("Name = "+bP.prettyPrint(cx.Name))+"; "+("Type = "+bP.prettyPrint(cx.Type))+"; "+("Line = "+bP.prettyPrint(cx.Line))+"; "+("Column = "+bP.prettyPrint(cx.Column))+"; "+("MultipleNames = "+bP.prettyPrint(cx.MultipleNames))+"}";};bK.p$17=function(cx){return"{"+("Fsc = "+bP.prettyPrint(cx.Fsc))+"; "+("Fsi = "+bP.prettyPrint(cx.Fsi))+"; "+("MSBuild = "+bP.prettyPrint(cx.MSBuild))+"}";};bK.p$15=function(cx){return"{"+("OutputType = "+bP.prettyPrint(cx.OutputType))+"; "+("Parameters = "+bP.printList(function(cy){return bP.printList(function(cz){return bK.p$16(cz);},cy);},cx.Parameters))+"}";};bK.p$16=function(cx){return"{"+("Name = "+bP.prettyPrint(cx.Name))+"; "+("Type = "+bP.prettyPrint(cx.Type))+"}";};bK.p$13=function(cx){return"{"+("Declaration = "+bK.p$14(cx.Declaration))+"; "+("Nested = "+bP.printArray(function(cy){return bK.p$14(cy);},cx.Nested))+"}";};bK.p$14=function(cx){return"{"+("UniqueName = "+bP.prettyPrint(cx.UniqueName))+"; "+("Name = "+bP.prettyPrint(cx.Name))+"; "+("Glyph = "+bP.prettyPrint(cx.Glyph))+"; "+("GlyphChar = "+bP.prettyPrint(cx.GlyphChar))+"; "+("IsTopLevel = "+bP.prettyPrint(cx.IsTopLevel))+"; "+("File = "+bP.prettyPrint(cx.File))+"; "+("EnclosingEntity = "+bP.prettyPrint(cx.EnclosingEntity))+"; "+("IsAbstract = "+bP.prettyPrint(cx.IsAbstract))+"}";};bK.p$12=function(cx){return"{"+("File = "+bP.prettyPrint(cx.File))+"; "+("Line = "+bP.prettyPrint(cx.Line))+"; "+("Column = "+bP.prettyPrint(cx.Column))+"}";};bK.p$11=function(cx){return"{"+("Kind = "+bP.prettyPrint(cx.Kind))+"}";};bK.p$9=function(cx){return"{"+("File = "+bP.prettyPrint(cx.File))+"; "+("Errors = "+bP.printArray(function(cy){return bK.p$10(cy);},cx.Errors))+"}";};bK.p$10=function(cx){return"{"+("FileName = "+bP.prettyPrint(cx.FileName))+"; "+("StartLine = "+bP.prettyPrint(cx.StartLine))+"; "+("EndLine = "+bP.prettyPrint(cx.EndLine))+"; "+("StartColumn = "+bP.prettyPrint(cx.StartColumn))+"; "+("EndColumn = "+bP.prettyPrint(cx.EndColumn))+"; "+("Message = "+bP.prettyPrint(cx.Message))+"; "+("Subcategory = "+bP.prettyPrint(cx.Subcategory))+"}";};bK.p$6=function(cx){return"{"+("Name = "+bP.prettyPrint(cx.Name))+"; "+("CurrentParameter = "+bP.prettyPrint(cx.CurrentParameter))+"; "+("Overloads = "+bP.printList(function(cy){return bK.p$7(cy);},cx.Overloads))+"}";};bK.p$7=function(cx){return"{"+("Tip = "+bP.printList(function(cy){return bP.printList(function(cz){return bK.p$2(cz);},cy);},cx.Tip))+"; "+("TypeText = "+bP.prettyPrint(cx.TypeText))+"; "+("Parameters = "+bP.printList(function(cy){return bK.p$8(cy);},cx.Parameters))+"; "+("IsStaticArguments = "+bP.prettyPrint(cx.IsStaticArguments))+"}";};bK.p$8=function(cx){return"{"+("Name = "+bP.prettyPrint(cx.Name))+"; "+("CanonicalTypeTextForSorting = "+bP.prettyPrint(cx.CanonicalTypeTextForSorting))+"; "+("Display = "+bP.prettyPrint(cx.Display))+"; "+("Description = "+bP.prettyPrint(cx.Description))+"}";};bK.p$4=function(cx){return"{"+("Name = "+bP.prettyPrint(cx.Name))+"; "+("Uses = "+bP.printList(function(cy){return bK.p$5(cy);},cx.Uses))+"}";};bK.p$5=function(cx){return"{"+("FileName = "+bP.prettyPrint(cx.FileName))+"; "+("StartLine = "+bP.prettyPrint(cx.StartLine))+"; "+("StartColumn = "+bP.prettyPrint(cx.StartColumn))+"; "+("EndLine = "+bP.prettyPrint(cx.EndLine))+"; "+("EndColumn = "+bP.prettyPrint(cx.EndColumn))+"; "+("IsFromDefinition = "+bP.prettyPrint(cx.IsFromDefinition))+"; "+("IsFromAttribute = "+bP.prettyPrint(cx.IsFromAttribute))+"; "+("IsFromComputationExpression = "+bP.prettyPrint(cx.IsFromComputationExpression))+"; "+("IsFromDispatchSlotImplementation = "+bP.prettyPrint(cx.IsFromDispatchSlotImplementation))+"; "+("IsFromPattern = "+bP.prettyPrint(cx.IsFromPattern))+"; "+("IsFromType = "+bP.prettyPrint(cx.IsFromType))+"}";};bK.p$3=function(cx){return"{"+("Name = "+bP.prettyPrint(cx.Name))+"; "+("ReplacementText = "+bP.prettyPrint(cx.ReplacementText))+"; "+("Glyph = "+bP.prettyPrint(cx.Glyph))+"; "+("GlyphChar = "+bP.prettyPrint(cx.GlyphChar))+"}";};bK.p$1=function(cx){return"{"+("Name = "+bP.prettyPrint(cx.Name))+"; "+("Overloads = "+bP.printList(function(cy){return bP.printList(function(cz){return bK.p$2(cz);},cy);},cx.Overloads))+"}";};bK.p$2=function(cx){return"{"+("Signature = "+bP.prettyPrint(cx.Signature))+"; "+("Comment = "+bP.prettyPrint(cx.Comment))+"}";};bK.p=function(cx){return"{"+("Code = "+bP.prettyPrint(cx.Code))+"; "+("Message = "+bP.prettyPrint(cx.Message))+"}";};bJ.j$3=function(){return bJ._v$3?bJ._v$3:bJ._v$3=(cm.EncodeRecord(u,[["name",cm.Id(),0],["content",cm.Id(),0],["parent",bJ.j$1,1],["predecessors",cm.EncodeList(bJ.j$1),0],["id",bJ.j$1,0],["expanded",cm.Id(),0],["level",cm.Id(),0],["levelCode",cm.Id(),0],["properties",cm.EncodeStringDictionary(cm.Id()),0]]))();};bL.p$3=function(cx){return"CodeSnippetId "+bP.prettyPrint(cx.$0);};bJ.j$2=function(){return bJ._v$2?bJ._v$2:bJ._v$2=(cm.EncodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};bI.j$4=function(){return bI._v$4?bI._v$4:bI._v$4=(cm.DecodeUnion(void 0,"$",[[0,[]],[1,[]],[2,[]],[3,[]]]))();};bI.j$6=function(){return bI._v$6?bI._v$6:bI._v$6=(cm.DecodeUnion(void 0,"$",[[0,[["$0","Item",cm.Id(),0]]],[1,[["$0","Item",cm.DecodeArray(cm.Id()),0]]]]))();};bJ.j$6=function(){return bJ._v$6?bJ._v$6:bJ._v$6=(cm.EncodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",cm.Id(),0]]],[2,[]],[3,[]],[4,[]]]))();};bI.j$7=function(){return bI._v$7?bI._v$7:bI._v$7=(cm.DecodeRecord(void 0,[["GuiRoot",cm.Id(),1],["GuiTabStrip",cm.DecodeTuple([cm.Id(),cm.DecodeArray(cm.Id())]),1],["GuiSplit",cm.DecodeTuple([cm.Id(),cm.Id(),cm.Id(),cm.Id(),cm.Id(),cm.Id(),cm.Id(),cm.Id()]),1],["GuiNode",bI.j$8,1],["GuiCall",cm.DecodeTuple([cm.Id(),cm.Id(),cm.DecodeArray(cm.Id())]),1]]))();};bI.j$8=function(){return bI._v$8?bI._v$8:bI._v$8=(cm.DecodeRecord(void 0,[["HtmlElementF",cm.DecodeTuple([cm.Id(),cm.DecodeArray(bI.j$8)]),1],["HtmlAttributeF",cm.DecodeTuple([cm.Id(),cm.Id()]),1],["HtmlAttributeOF",cm.DecodeTuple([cm.Id(),bI.j$9]),1],["HtmlTextF",cm.Id(),1],["HtmlEmptyF",cm.Id(),1],["HtmlGuiPart",cm.Id(),1],["HtmlGuiCall",cm.DecodeTuple([cm.Id(),cm.Id(),cm.DecodeArray(cm.Id())]),1]]))();};bI.j$9=function(){return bI._v$9?bI._v$9:bI._v$9=(cm.DecodeUnion(void 0,"$",[null,[1,[["$0","Value",cm.Id(),0]]]]))();};bL.p=function(cx){return cx.$==2?"FSInfor":cx.$==1?"FSWarning":"FSError";};bL.p$1=function(cx){return cx.$==1?"Snippet Not Found "+bP.prettyPrint(cx.$0):"FSMessage ("+bP.prettyPrint(cx.$0)+", "+bL.p(cx.$1)+")";};bL.p$2=function(cx){return cx.$==2?"Could not open new browser, Popup blocker may be active":cx.$==1?"Snippet Missing":"JsCompilerMsg ("+bP.prettyPrint(cx.$0)+", "+bP.prettyPrint(cx.$1)+")";};}());
