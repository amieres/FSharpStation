(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx;a=self;b=a.FsRoot=a.FsRoot||{};c=b.Library=b.Library||{};d=c.Dict=c.Dict||{};e=c.ResultMessage=c.ResultMessage||{};f=c.ResultMessageHelpers=c.ResultMessageHelpers||{};g=c.Monads=c.Monads||{};h=g.Seq=g.Seq||{};i=g.Option=g.Option||{};j=g.Async=g.Async||{};k=a.WebSharper;l=k&&k.Obj;m=g.Result=g.Result||{};n=m.Builder=m.Builder||{};o=m.Operators=m.Operators||{};p=g.Eff=g.Eff||{};q=p.Eff=p.Eff||{};r=p.Done=p.Done||{};s=q.LambdaT=q.LambdaT||{};t=p.Operators=p.Operators||{};u=p.EffBuilder=p.EffBuilder||{};v=p.State=p.State||{};w=v.Put=v.Put||{};x=v.Get=v.Get||{};y=p.Log=p.Log||{};z=y.LogEntry=y.LogEntry||{};A=p.Rsl=p.Rsl||{};B=A.Fail=A.Fail||{};C=g.ResultM=g.ResultM||{};D=C.Builder=C.Builder||{};E=C.Operators=C.Operators||{};F=g.ResultMAutoOpen=g.ResultMAutoOpen||{};G=g.AsyncResultM=g.AsyncResultM||{};H=G.AsyncResultMBuilder=G.AsyncResultMBuilder||{};I=g.AsyncResultMAutoOpen=g.AsyncResultMAutoOpen||{};J=c.String=c.String||{};K=c.Array=c.Array||{};L=c.SortWith=c.SortWith||{};M=c.ParseO=c.ParseO||{};N=c.Serializer=c.Serializer||{};O=N.JsonIntermediate=N.JsonIntermediate||{};P=c.MailboxProcessorExt=c.MailboxProcessorExt||{};Q=c.Mailbox=c.Mailbox||{};R=Q.StateFull=Q.StateFull||{};S=b.LibraryJS=b.LibraryJS||{};T=S.Date=S.Date||{};U=b.StackOverflow=b.StackOverflow||{};V=U.Templating=U.Templating||{};W=U.TypesV0=U.TypesV0||{};X=W.LatestType=W.LatestType||{};Y=W.TipoAliado=W.TipoAliado||{};Z=W.Pais=W.Pais||{};_0=W.Estado=W.Estado||{};_1=W.Identificacion=W.Identificacion||{};_2=W.TipoCuenta=W.TipoCuenta||{};_3=W.CuentaBancaria=W.CuentaBancaria||{};_4=W.StatusAliado=W.StatusAliado||{};_5=W.ConceptoPago=W.ConceptoPago||{};_6=W.Transaccion=W.Transaccion||{};_7=W.TipoDireccion=W.TipoDireccion||{};_8=W.ZonaPostal=W.ZonaPostal||{};_9=W.Direccion=W.Direccion||{};_=W.CorreoElectronico=W.CorreoElectronico||{};$=W.TipoTelefono=W.TipoTelefono||{};ba=W.Telefono=W.Telefono||{};bb=W.Genero=W.Genero||{};bc=W.DatosPersonales=W.DatosPersonales||{};bd=W.TipoMensaje=W.TipoMensaje||{};be=W.Remitente=W.Remitente||{};bf=W.Mensaje=W.Mensaje||{};bg=W.Aliado=W.Aliado||{};bh=W.PremisasCalculo=W.PremisasCalculo||{};bi=W.Modelo=W.Modelo||{};bj=U.TypesV1=U.TypesV1||{};bk=bj.LatestType=bj.LatestType||{};bl=bj.CorreoElectronico=bj.CorreoElectronico||{};bm=bj.Aliado=bj.Aliado||{};bn=bj.Modelo=bj.Modelo||{};bo=U.Aliado=U.Aliado||{};bp=bo.Buscar=bo.Buscar||{};bq=U.Evento=U.Evento||{};br=U.Respuesta=U.Respuesta||{};bs=U.Rpc=U.Rpc||{};bt=U.ModeloUI=U.ModeloUI||{};bu=bt.EndPoint=bt.EndPoint||{};bv=bt.VariousUI=bt.VariousUI||{};bw=bt.Telefono=bt.Telefono||{};bx=bt.CorreoElectronico=bt.CorreoElectronico||{};by=bt.Direccion=bt.Direccion||{};bz=bt.DatosPersonales=bt.DatosPersonales||{};bA=bt.FormaRegistro=bt.FormaRegistro||{};bB=bt.FormaDatos=bt.FormaDatos||{};bC=bt.FormaGenerica=bt.FormaGenerica||{};bD=bt.FormaContactos=bt.FormaContactos||{};bE=bt.RenderAliados=bt.RenderAliados||{};bF=bt.RenderAliado=bt.RenderAliado||{};bG=U.MainProgram=U.MainProgram||{};bH=U.EndPoints=U.EndPoints||{};bI=a.StartupCode$StackOverflow$StackOverflow=a.StartupCode$StackOverflow$StackOverflow||{};bJ=a.StackOverflow_Router=a.StackOverflow_Router||{};bK=a.StackOverflow_GeneratedPrintf=a.StackOverflow_GeneratedPrintf||{};bL=a.StackOverflow_Templates=a.StackOverflow_Templates||{};bM=a.IntelliFactory;bN=bM&&bM.Runtime;bO=k&&k.Utils;bP=k&&k.Strings;bQ=k&&k.Seq;bR=k&&k.List;bS=k&&k.Arrays;bT=k&&k.Concurrency;bU=k&&k.Enumerator;bV=k&&k.Result;bW=k&&k.Operators;bX=k&&k.Unchecked;bY=a.console;bZ=k&&k.Slice;b0=k&&k.Collections;b1=b0&&b0.FSharpMap;b2=b0&&b0.FSharpSet;b3=b0&&b0.BalancedTree;b4=k&&k.Control;b5=b4&&b4.MailboxProcessor;b6=k&&k.CancellationTokenSource;b7=b0&&b0.Dictionary;b8=k&&k.UI;b9=b8&&b8.Doc;b_=b8&&b8.View;b$=b8&&b8.Templating;ca=b$&&b$.Runtime;cb=ca&&ca.Server;cc=cb&&cb.ProviderBuilder;cd=cb&&cb.Handler;ce=cb&&cb.TemplateInstance;cf=b8&&b8.Var$1;cg=a.System;ch=cg&&cg.Guid;ci=k&&k.Remoting;cj=ci&&ci.AjaxRemotingProvider;ck=b8&&b8.FromView;cl=b8&&b8.AttrProxy;cm=S&&S.AppFramework;cn=cm&&cm.PlugIn;co=k&&k.Lazy;cp=S&&S.LayoutEngineModule;cq=b8&&b8.Client;cr=cq&&cq.Templates;cs=k&&k.DateUtil;ct=k&&k.Numeric;cu=a.Date;cv=b8&&b8.Router;cw=k&&k.Sitelets;cx=cw&&cw.RouterOperators;d.add=function(cy,cz,cA){if(cA.ContainsKey(cy))cA.set_Item(cy,cz);else cA.Add(cy,cz);};e=c.ResultMessage=bN.Class({toString:function(){return this.$==1?(function(cy){return function(cz){return cy("Error    : "+bO.toSafe(cz));};}(a.id))(this.$0):this.$==2?(function(cy){return function(cz){return cy("Warning  : "+bO.toSafe(cz));};}(a.id))(this.$0):this.$==3?this.$0:this.$==4?(function(cy){return function(cz){return cy(a.String(cz));};}(a.id))(this.$0):this.$==5?(((bN.Curried3(function(cy,cz,cA){return cy("Exception: "+bO.toSafe(cz)+", "+bO.toSafe(cA));}))(a.id))(this.$0))(this.$1):this.$==6?bP.concat("\n",bQ.map(a.String,bQ.filter(function(cy){return cy.$!=0;},this.$0))):"";}},null,e);e.NoMsg=new e({$:0});f.infof=function(cy){return cy(function(cz){return new e({$:3,$0:cz});});};f.warningf=function(cy){return cy(function(cz){return new e({$:2,$0:cz});});};f.errorMsgf=function(cy){return cy(function(cz){return new e({$:1,$0:cz});});};e.summarizedI=function(cy){return e.summarizedF(function(){return[0,0,1];},cy);};e.summarizedW=function(cy){return e.summarizedF(function(){return[0,1,0];},cy);};e.summarized=function(cy){return e.summarizedF(function(){return[1,0,0];},cy);};e.summarizedF=function(cy,cz){return bP.concat("\n",bQ.filter(function(cA){return""!==cA;},bR.ofArray([a.String(cz),e.summaryF(cy,cz)])));};e.summaryF=function(cy,cz){var cA,cB;cB=e.countF(cy,cz);switch(cB[0]===0?cB[1]===0?0:cB[1]===1?cB[2]===0?0:(cA=cB[1],2):(cA=cB[1],2):cB[0]===1?cB[1]===0?cB[2]===0?0:(cA=cB[0],1):(cA=[cB[0],cB[1]],3):cB[1]===0?(cA=cB[0],1):(cA=[cB[0],cB[1]],3)){case 0:return"";case 1:return(function(cC){return function(cD){return cC("Errors   : "+a.String(cD)+"\n");};}(a.id))(cA);case 2:return(function(cC){return function(cD){return cC("Warnings : "+a.String(cD)+"\n");};}(a.id))(cA);case 3:return(((bN.Curried3(function(cC,cD,cE){return cC("Errors   : "+a.String(cD)+", Warnings: "+a.String(cE)+"\n");}))(a.id))(cA[0]))(cA[1]);}};e.reduceMsgs=function(cy){return bQ.fold(e.addMsg,e.NoMsg,cy);};e.addMsg=function(cy,cz){return cy.$==0?cz:cy.$==6?cz.$==0?cy:cz.$==6?new e({$:6,$0:cy.$0.concat(cz.$0)}):new e({$:6,$0:cy.$0.concat([cz])}):cz.$==0?cy:cz.$==6?new e({$:6,$0:[cy].concat(cz.$0)}):new e({$:6,$0:[cy,cz]});};e.countI=function(cy){return e.countF(function(){return[0,0,1];},cy);};e.countW=function(cy){return e.countF(function(){return[0,1,0];},cy);};e.count=function(cy){return e.countF(function(){return[1,0,0];},cy);};e.countF=function(cy,cz){function cA(cB,cC,cD){return function(cE){return[cB+cE[0],cC+cE[1],cD+cE[2]];};}return cz.$==0?[0,0,0]:cz.$==3?[0,0,1]:cz.$==2?[0,1,0]:cz.$==4?cy(cz.$0):cz.$==6?bQ.fold(function(cB,cC){return(function(cD){return cA(cD[0],cD[1],cD[2]);}(cB))(cC);},[0,0,0],bQ.map(function(cB){return e.countF(cy,cB);},e.exclnoMsg(cz.$0))):[1,0,0];};e.isFatalW=function(cy){return e.isFatalF(function(){return false;},cy);};e.isFatal=function(cy){return e.isFatalF(function(){return true;},cy);};e.isFatalF=function(cy,cz){return cz.$==0?false:cz.$==3?false:cz.$==2?false:cz.$==4?cy(cz.$0):cz.$==6?bQ.exists(function(cA){return e.isFatalF(cy,cA);},cz.$0):true;};e.isWarningOrInfoW=function(cy){return e.isWarningOrInfoF(function(){return true;},cy);};e.isWarningOrInfo=function(cy){return e.isWarningOrInfoF(function(){return false;},cy);};e.isWarningOrInfoF=function(cy,cz){return cz.$==2||(cz.$==4?cy(cz.$0):cz.$==6&&bQ.forall(function(cA){return e.isWarningOrInfoF(cy,cA)||e.isInfoF(cy,cA);},e.exclnoMsg(cz.$0)));};e.isInfoI=function(cy){return e.isInfoF(function(){return true;},cy);};e.isInfo=function(cy){return e.isInfoF(function(){return false;},cy);};e.isInfoF=function(cy,cz){return cz.$==3||(cz.$==4?cy(cz.$0):cz.$==6&&bQ.forall(function(cA){return e.isInfoF(cy,cA);},e.exclnoMsg(cz.$0)));};e.freeMessageI=function(cy){var cz;function cA(cB){return new e({$:3,$0:cB});}return e.freeMessageF((cz=function(cB){return function(cC){return cB(a.String(cC));};}(a.id),function(cB){return cA(cz(cB));}),cy);};e.freeMessageW=function(cy){var cz;function cA(cB){return new e({$:2,$0:cB});}return e.freeMessageF((cz=function(cB){return function(cC){return cB(a.String(cC));};}(a.id),function(cB){return cA(cz(cB));}),cy);};e.freeMessage=function(cy){var cz;function cA(cB){return new e({$:1,$0:cB});}return e.freeMessageF((cz=function(cB){return function(cC){return cB(a.String(cC));};}(a.id),function(cB){return cA(cz(cB));}),cy);};e.freeMessageF=function(cy,cz){return e.bindMessage(cy,cz);};e.bindMessage=function(cy,cz){return cz.$==4?cy(cz.$0):cz.$==1?new e({$:1,$0:cz.$0}):cz.$==3?new e({$:3,$0:cz.$0}):cz.$==2?new e({$:2,$0:cz.$0}):cz.$==5?new e({$:5,$0:cz.$0,$1:cz.$1}):cz.$==6?new e({$:6,$0:bS.map(function(cA){return e.bindMessage(cy,cA);},cz.$0)}):e.NoMsg;};e.exclnoMsg=function(cy){function cz(cA){return!cA;}return bQ.filter(function(cA){return cz(e.noMsg(cA));},cy);};e.noMsg=function(cy){return cy.$==0;};h.ofOption=function(cy){return cy==null?[]:[cy.$0];};h.absorbR=function(cy){return bQ.choose(function(cz){return cz.$==0?{$:1,$0:cz.$0}:null;},cy);};h.absorbO=function(cy){return bQ.choose(a.id,cy);};h.insertR=function(cy){return cy.$==0?bQ.map(function(cz){return{$:0,$0:cz};},cy.$0):(h.rtn())(c.Error$1(cy.$0));};h.insertO=function(cy){var cz;cz=cy==null?null:{$:1,$0:bQ.map(function(cA){return{$:1,$0:cA};},cy.$0)};return cz==null?(h.rtn())(null):cz.$0;};h.rtn=function(){bI.$cctor();return bI.rtn;};i.absorbR=function(cy){var cz,cA;return cy!=null&&cy.$==1&&(cA=cy.$0,cA.$==0&&(cz=cA.$0,true))?{$:1,$0:cz}:null;};i.insertR=function(cy){var cz;return cy.$==0?(cz=cy.$0,cz==null?null:{$:1,$0:{$:0,$0:cz.$0}}):i.rtn(c.Error$1(cy.$0));};i.sequenceSeq=function(cy){return i.traverseSeq(a.id,cy);};i.traverseSeq=function(cy,cz){var cA;cA=bS.foldBack(function(cB,cC){return i.op_GreaterGreaterEquals(cy(cB),function(cD){return i.op_GreaterGreaterEquals(cC,function(cE){return i.rtn(new bR.T({$:1,$0:cD,$1:cE}));});});},bS.ofSeq(cz),i.rtn(bR.T.Empty));return cA==null?null:{$:1,$0:cA.$0};};i.op_GreaterGreaterEquals=function(cy,cz){return cy==null?null:cz(cy.$0);};i.bindNone=function(cy,cz){return cz!=null&&cz.$==1?{$:1,$0:cz.$0}:cy();};i.mapNone=function(cy,cz){return cz==null?cy():cz.$0;};i.apply=function(cy,cz){var cA;return cy!=null&&cy.$==1&&(cz!=null&&cz.$==1&&(cA=[cy.$0,cz.$0],true))?{$:1,$0:cA[0](cA[1])}:null;};i.join=function(cy){return cy==null?null:cy.$0;};i.iter=function(cy){function cz(cB){return cB==null?null:{$:1,$0:cy(cB.$0)};}function cA(cB){if(cB==null);}return function(cB){return cA(cz(cB));};};i.rtn=function(cy){return{$:1,$0:cy};};j.insertR=function(cy){function cz(cB){return{$:0,$0:cB};}function cA(cB){return bT.Return(cB);}return cy.$==0?bT.Bind(cy.$0,function(cB){return cA(cz(cB));}):bT.Return(c.Error$1(cy.$0));};j.insertO=function(cy){var cz;function cA(cC){return{$:1,$0:cC};}function cB(cC){return bT.Return(cC);}cz=cy==null?null:{$:1,$0:bT.Bind(cy.$0,function(cC){return cB(cA(cC));})};return cz==null?bT.Return(null):cz.$0;};j.sequenceSeq=function(cy){return j.traverseSeq(a.id,cy);};j.traverseSeq=function(cy,cz){function cA(cB){return bT.Return(cB);}return bT.Bind(bS.foldBack(function(cB,cC){return j.op_GreaterGreaterEquals(cy(cB),function(cD){return j.op_GreaterGreaterEquals(cC,function(cE){return bT.Return(new bR.T({$:1,$0:cD,$1:cE}));});});},bS.ofSeq(cz),bT.Return(bR.T.Empty)),function(cB){return cA(a.id(cB));});};j.op_GreaterGreaterEquals=function(cy,cz){return bT.Bind(cy,cz);};j.sleepThen=function(cy,cz){var cA;cA=null;return bT.Delay(function(){return bT.Bind(bT.Sleep(cz),function(){return bT.Return(cy());});});};j.apply=function(cy,cz){var cA;cA=null;return bT.Delay(function(){return bT.Bind(bT.StartChild(cy,null),function(cB){return bT.Bind(bT.StartChild(cz,null),function(cC){return bT.Bind(cB,function(cD){return bT.Bind(cC,function(cE){return bT.Return(cD(cE));});});});});});};n=m.Builder=bN.Class({For:function(cy,cz){var cA;cA=this;return this.Using(bU.Get(cy),function(cB){return cA.While(function(){return cB.MoveNext();},cA.Delay(function(){return cz(cB.Current());}));});},While:function(cy,cz){function cA(cB,cC){return cB()?bV.Bind(function(){return cA(cB,cC);},cC()):m.rtn();}return cA(cy,cz);},Using:function(cy,cz){try{return cz(cy);}finally{cy.Dispose();}},TryFinally:function(cy,cz){try{return cy();}finally{cz();}},TryWith:function(cy,cz){try{return cy();}catch(cA){return cz(cA);}},Run:function(cy){return m.bindP(cy,{$:0,$0:null});},Combine:function(cy,cz){return bV.Bind(cz,cy);},Delay:a.id,Zero:function(){return m.rtn();},Bind:function(cy,cz){return bV.Bind(cz,cy);},ReturnFrom:a.id,Return:function(cy){return m.rtn(cy);}},l,n);n.New=bN.Ctor(function(){l.New.call(this);},n);o.result=function(){bI.$cctor();return bI.result$1;};o.rtn=function(cy){return m.rtn(cy);};o.op_GreaterEqualsGreater=function(cy,cz,cA){return o.op_GreaterGreaterEquals(cy(cA),cz);};o.op_RightShift=function(cy,cz,cA){return o.op_BarGreaterGreater(cy(cA),cz);};o.op_GreaterGreaterEquals=function(cy,cz){return m.bindP(cz,cy);};o.op_BarGreaterGreater=function(cy,cz){return m.mapP(cz,cy);};m.result=function(){bI.$cctor();return bI.result;};m.sequenceSeq=function(cy){return m.traverseSeq(a.id,cy);};m.traverseSeq=function(cy,cz){return bV.Map(a.id,bS.foldBack(function(cA,cB){return m.op_GreaterGreaterEquals(cy(cA),function(cC){return m.op_GreaterGreaterEquals(cB,function(cD){return m.rtn(new bR.T({$:1,$0:cC,$1:cD}));});});},bS.ofSeq(cz),m.rtn(bR.T.Empty)));};m.op_GreaterGreaterEquals=function(cy,cz){return bV.Bind(cz,cy);};m.absorbO=function(cy,cz){return m.bindP(function(cA){return m.ofOption(cy,cA);},cz);};m.insertO=function(cy){var cz;cz=cy==null?null:{$:1,$0:bV.Map(function(cA){return{$:1,$0:cA};},cy.$0)};return cz==null?{$:0,$0:null}:cz.$0;};m.ofOption=function(cy,cz){var cA;cA=cz==null?null:{$:1,$0:{$:0,$0:cz.$0}};return cA==null?function(cB){return c.Error$1(cy(cB));}():cA.$0;};m.get=function(cy){return m.defaultWith(function(cz){return bW.FailWith(a.String(cz));},cy);};m.iter=function(cy,cz,cA){m.defaultWith(cy,m.mapP(cz,cA));};m.mapP=function(cy,cz){return m.bindP(function(cA){return m.rtn(cy(cA));},cz);};m.bindP=function(cy,cz){if(cz.$==1)return c.Error$1(cz.$0);else try{return cy(cz.$0);}catch(cA){return c.Error$1(new e({$:5,$0:cA.message,$1:cA.stack}));}};m.failIfFalse=function(cy,cz){return!cz?c.Error$1(cy):{$:0,$0:null};};m.failIfTrue=function(cy,cz){return cz?c.Error$1(cy):{$:0,$0:null};};m.defaultValue=function(cy,cz){return cz.$==1?cy:cz.$0;};m.defaultWith=function(cy,cz){return cz.$==1?cy(cz.$0):cz.$0;};m.toOption=function(cy){return cy.$==0?{$:1,$0:cy.$0}:null;};m.flatten=function(cy){return bV.Bind(a.id,cy);};m.join=function(cy){return bV.Bind(a.id,cy);};m.rtn=function(cy){return{$:0,$0:cy};};m.freeMessage=function(cy){return cy.$==1?c.Error$1(e.freeMessage(cy.$0)):{$:0,$0:cy.$0};};m.errorf=function(cy){return cy(c.Error$1);};q=p.Eff=bN.Class({get_Cont:function(){return this.$0;}},null,q);r=p.Done=bN.Class({get_Value:function(){return this.v;},FsRoot_Library_Monads_Eff_Effect$UnPack:function(cy){return this;}},l,r);r.New=bN.Ctor(function(cy){l.New.call(this);this.v=cy;},r);s=q.LambdaT=bN.Class({FsRoot_Library_Monads_Eff_Lambda$Invoke:function(cy){var cz;cz=this.loop;return function(cA){return cz(cy(cA));};}},l,s);s.New=bN.Ctor(function(cy){l.New.call(this);this.loop=cy;},s);q.runResult=function(cy){var cz;try{cz=(cy.get_Cont())(q["done'"]);return cz instanceof r?{$:0,$0:cz.get_Value()}:c.Error$1((f.errorMsgf(function(cA){return function(cB){return cA("Unhandled effect "+bO.prettyPrint(cB)+" expecting");};}))(cz));}catch(cA){return c.Error$1(new e({$:5,$0:cA.message,$1:cA.stack}));}};q.run=function(cy){var cz;cz=(cy.get_Cont())(q["done'"]);return cz instanceof r?cz.get_Value():(function(cA){return function(cB){return cA("Unhandled effect "+bO.prettyPrint(cB));};}(bW.FailWith))(cz);};q["return'"]=function(cy){return new q({$:0,$0:function(){return q["done'"](cy);}});};q["done'"]=function(cy){return new r.New(cy);};q.unpack=function(cy,cz){return cz.FsRoot_Library_Monads_Eff_Effect$UnPack(new s.New(cy));};t.rtn=function(cy){return p.rtn(cy);};t.op_GreaterEqualsGreater=function(cy,cz,cA){return t.op_GreaterGreaterEquals(cy(cA),cz);};t.op_RightShift=function(cy,cz,cA){return t.op_BarGreaterGreater(cy(cA),cz);};t.op_GreaterGreaterEquals=function(cy,cz){return p.bind(cz,cy);};t.op_BarGreaterGreater=function(cy,cz){return p.map(cz,cy);};t.op_LessMultiplyGreater=function(cy,cz){return p.apply(cy,cz);};u=p.EffBuilder=bN.Class({For:function(cy,cz){var cA;cA=this;return this.Using(bU.Get(cy),function(cB){return cA.While(function(){return cB.MoveNext();},function(){return cA.Delay(function(){return cz(cB.Current());});});});},Using:function(cy,cz){return this.TryFinally(function(){return cz(cy);},function(){if(!bX.Equals(cy,null))cy.Dispose();});},TryFinally:function(cy,cz){return new q({$:0,$0:function(cA){try{return cy().$0(cA);}finally{cz();}}});},TryWith:function(cy,cz){return new q({$:0,$0:function(cA){try{return cy().$0(cA);}catch(cB){return cz(cB).$0(cA);}}});},While:function(cy,cz){function cA(cB,cC){return cB()?p.bind(function(){return cA(cB,cC);},cC()):t.rtn();}return cA(cy,cz);},Delay:function(cy){return new q({$:0,$0:function(cz){return cy().$0(cz);}});},Combine:function(cy,cz){return this.Bind(cy,function(){return cz;});},Bind:function(cy,cz){return p.bind(cz,cy);},ReturnFrom:a.id,Return:function(cy){return t.rtn(cy);},Zero:function(){return t.rtn();}},l,u);u.New=bN.Ctor(function(){l.New.call(this);},u);w=v.Put=bN.Class({get_K:function(){return this.k;},get_Value:function(){return this.v;},FsRoot_Library_Monads_Eff_Effect$UnPack:function(cy){return new w.New(this.v,cy.FsRoot_Library_Monads_Eff_Lambda$Invoke(this.k));}},l,w);w.New=bN.Ctor(function(cy,cz){l.New.call(this);this.v=cy;this.k=cz;},w);x=v.Get=bN.Class({get_K:function(){return this.k;},FsRoot_Library_Monads_Eff_Effect$UnPack:function(cy){return new x.New(cy.FsRoot_Library_Monads_Eff_Lambda$Invoke(this.k));}},l,x);x.New=bN.Ctor(function(cy){l.New.call(this);this.k=cy;},x);v.refHandler=function(cy,cz){var cA;function cB(cC){return cC instanceof w?(cA[0]=cC.get_Value(),cB((cC.get_K())())):cC instanceof x?cB((cC.get_K())(cA[0])):q.unpack(cB,cC);}cA=[cy];return new q({$:0,$0:function(){return cB((cz.get_Cont())(q["done'"]));}});};v.stateHandler=function(cy,cz){function cA(cB,cC,cD){var cE;return cD instanceof r?cB([cC,cD.get_Value()]):cD instanceof w?(cE=(cD.get_K())(),cA(cB,cD.get_Value(),cE)):cD instanceof x?cA(cB,cC,(cD.get_K())(cC)):q.unpack(function(cF){return cA(cB,cC,cF);},cD);}return new q({$:0,$0:function(cB){return cA(cB,cy,(cz.get_Cont())(q["done'"]));}});};v.put=function(cy){return new q({$:0,$0:function(cz){return new w.New(cy,cz);}});};v.get=function(){return new q({$:0,$0:function(cy){return new x.New(cy);}});};z=y.LogEntry=bN.Class({get_K:function(){return this.k;},get_Value:function(){return this.v;},FsRoot_Library_Monads_Eff_Effect$UnPack:function(cy){return new z.New(this.v,cy.FsRoot_Library_Monads_Eff_Lambda$Invoke(this.k));}},l,z);z.New=bN.Ctor(function(cy,cz){l.New.call(this);this.v=cy;this.k=cz;},z);y.ignoreLogHandler=function(cy){function cz(cA){return cA instanceof z?cz((cA.get_K())()):q.unpack(cz,cA);}return new q({$:0,$0:function(){return cz((cy.get_Cont())(q["done'"]));}});};y.consoleLogHandler=function(cy){function cz(cA){return cA instanceof z?((function(cB){return function(cC){return cB("Log: "+bO.prettyPrint(cC));};}(function(cB){bY.log(cB);}))(cA.get_Value()),cz((cA.get_K())())):q.unpack(cz,cA);}return new q({$:0,$0:function(){return cz((cy.get_Cont())(q["done'"]));}});};y.pureLogHandler=function(cy){function cz(cA,cB,cC){var cD;return cC instanceof r?cB([cC.get_Value(),cA]):cC instanceof z?(cD=(cC.get_K())(),cz(new bR.T({$:1,$0:cC.get_Value(),$1:cA}),cB,cD)):q.unpack(function(cE){return cz(cA,cB,cE);},cC);}return new q({$:0,$0:function(cA){return cz(bR.T.Empty,cA,(cy.get_Cont())(q["done'"]));}});};y.logf=function(cy){return cy(y.log);};y.log=function(cy){return new q({$:0,$0:function(cz){return new z.New(cy,cz);}});};B=A.Fail=bN.Class({get_K:function(){return this.k;},get_Value:function(){return this.v;},FsRoot_Library_Monads_Eff_Effect$UnPack:function(cy){return new B.New(this.v,cy.FsRoot_Library_Monads_Eff_Lambda$Invoke(this.k));}},l,B);B.New=bN.Ctor(function(cy,cz){l.New.call(this);this.v=cy;this.k=cz;},B);A.absorbO=function(cy,cz){return A.absorbR(p.map(function(cA){return m.ofOption(cy,cA);},cz));};A.absorbR=function(cy){return p.bind(A.ofResult,cy);};A.RslHandler=function(cy){function cz(cA,cB){return cB instanceof r?cA({$:0,$0:cB.get_Value()}):cB instanceof B?cA(c.Error$1(cB.get_Value())):q.unpack(function(cC){return cz(cA,cC);},cB);}return new q({$:0,$0:function(cA){return cz(cA,(cy.get_Cont())(q["done'"]));}});};A.ofResult=function(cy){var cz;cz=p.eff();return cz.Delay(function(){return cy.$==1?cz.Bind(A.fail(cy.$0),function(){return cz.Return(null);}):cz.Return(cy.$0);});};A.fail=function(cy){return new q({$:0,$0:function(cz){return new B.New(cy,cz);}});};p.eff=function(){bI.$cctor();return bI.eff;};p.insertSnd=function(cy,cz){return p.map(function(cA){return[cA,cz];},cy);};p.insertFst=function(cy,cz){return p.map(function(cA){return[cy,cA];},cz);};p.insertR=function(cy){return cy.$==0?p.map(function(cz){return{$:0,$0:cz};},cy.$0):t.rtn(c.Error$1(cy.$0));};p.insertO=function(cy){var cz;cz=cy==null?null:{$:1,$0:p.map(function(cA){return{$:1,$0:cA};},cy.$0)};return cz==null?t.rtn(null):cz.$0;};p.sequenceSeq=function(cy){return p.traverseSeq(a.id,cy);};p.traverseSeq=function(cy,cz){return p.map(a.id,bS.foldBack(function(cA,cB){return t.op_GreaterGreaterEquals(cy(cA),function(cC){return t.op_GreaterGreaterEquals(cB,function(cD){return t.rtn(new bR.T({$:1,$0:cC,$1:cD}));});});},bS.ofSeq(cz),t.rtn(bR.T.Empty)));};p.apply=function(cy,cz){return p.bind(function(cA){return p.map(cA,cz);},cy);};p.map=function(cy,cz){return p.bind(function(cA){return p.rtn(cy(cA));},cz);};p.bind=function(cy,cz){return new q({$:0,$0:function(cA){return cz.$0(function(cB){return cy(cB).$0(cA);});}});};p.rtn=function(cy){return new q({$:0,$0:function(cz){return cz(cy);}});};D=C.Builder=bN.Class({For:function(cy,cz){var cA;cA=this;return this.Using(bU.Get(cy),function(cB){return cA.While(function(){return cB.MoveNext();},cA.Delay(function(){return cz(cB.Current());}));});},While:function(cy,cz){function cA(cB,cC){return cB()?C.bind(function(){return cA(cB,cC);},cC()):C.rtn();}return cA(cy,cz);},Using:function(cy,cz){try{return cz(cy);}finally{cy.Dispose();}},TryFinally:function(cy,cz){try{return cy();}finally{cz();}},TryWith:function(cy,cz){try{return cy();}catch(cA){return cz(cA);}},Run:function(cy){return C.bindP(cy,g.OkM$1());},Combine:function(cy,cz){return C.bind(cz,cy);},Delay:a.id,Zero:function(){return C.rtn();},Bind:function(cy,cz){return C.bindM(cz,cy);},Bind$1:function(cy,cz){return C.bindP(cz,cy);},ReturnFrom:function(cy){return C.rtnM(cy);},ReturnFrom$1:a.id,ReturnFrom$2:a.id,Return:function(cy){return C.rtn(cy);}},l,D);D.New=bN.Ctor(function(){l.New.call(this);},D);E.rtn=function(cy){return C.rtn(cy);};E.op_GreaterEqualsGreater=function(cy,cz,cA){return E.op_GreaterGreaterEquals(cy(cA),cz);};E.op_RightShift=function(cy,cz,cA){return E.op_BarGreaterGreater(cy(cA),cz);};E.op_GreaterGreaterEquals=function(cy,cz){return C.bindP(cz,cy);};E.op_BarGreaterGreater=function(cy,cz){return C.mapP(cz,cy);};C.sequenceSeq=function(cy){return C.traverseSeq(a.id,cy);};C.traverseSeq=function(cy,cz){return C.map(a.id,bS.foldBack(function(cA,cB){return C.op_GreaterGreaterEquals(cy(cA),function(cC){return C.op_GreaterGreaterEquals(cB,function(cD){return C.rtn(new bR.T({$:1,$0:cC,$1:cD}));});});},bS.ofSeq(cz),C.rtn(bR.T.Empty)));};C.op_GreaterGreaterEquals=function(cy,cz){return C.bind(cz,cy);};C.failIfFatalMsgW=function(cy){var cz;cz=g.OkM(cy);return cz.$==0?e.isFatalW(cz.$0[1])?g.ErrorM(cz.$0[1]):cy:cy;};C.failIfFatalMsg=function(cy){var cz;cz=g.OkM(cy);return cz.$==0?e.isFatal(cz.$0[1])?g.ErrorM(cz.$0[1]):cy:cy;};C.failIfFatalMsgF=function(cy,cz){var cA;cA=g.OkM(cz);return cA.$==0?e.isFatalF(cy,cA.$0[1])?g.ErrorM(cA.$0[1]):cz:cz;};C.addMsg=function(cy,cz){return C.mapMessage(function(cA){return e.addMsg(cy,cA);},cz);};C.absorbO=function(cy,cz){return C.bindP(function(cA){return C.ofOption(cy,cA);},cz);};C.insertO=function(cy){var cz;cz=cy==null?null:{$:1,$0:C.map(function(cA){return{$:1,$0:cA};},cy.$0)};return cz==null?g.OkM$1(null):cz.$0;};C.ofResult=function(cy){return C.rtnr(cy);};C.ofOption=function(cy,cz){var cA;cA=cz==null?null:{$:1,$0:g.OkM$1(cz.$0)};return cA==null?function(cB){return g.ErrorM(cy(cB));}():cA.$0;};C.get=function(cy){return C.defaultWith(function(cz){return bW.FailWith(a.String(cz));},cy);};C.iter=function(cy,cz,cA){var cB;cB=C.mapP(cz,cA);cB.$0==null?cy(cB.$1):void 0;};C.mapP=function(cy,cz){return C.bindP(function(cA){return C.rtn(cy(cA));},cz);};C.check=function(cy,cz){var cA;return(cA=cz.$0,cA!=null&&cA.$==1)?e.isFatalF(cy.$0,cz.$1)?g.ErrorM(cz.$1):cz:cz;};C.bindM=function(cy,cz){return C.bindP(cy,C.rtnM(cz));};C.bindP=function(cy,cz){var cA;if(cz.$0==null)return{$:0,$0:null,$1:cz.$1};else{cA=cz.$1;try{return C.mapMessage(function(cB){return e.addMsg(cA,cB);},cy(cz.$0.$0));}catch(cB){return g.ErrorM(new e({$:5,$0:cB.message,$1:cB.stack}));}}};C.bind=function(cy,cz){var cA;return cz.$0==null?{$:0,$0:null,$1:cz.$1}:(cA=cz.$1,C.mapMessage(function(cB){return e.addMsg(cA,cB);},cy(cz.$0.$0)));};C.mapMessage=function(cy,cz){return{$:0,$0:cz.$0,$1:cy(cz.$1)};};C.map=function(cy,cz){var cA;return{$:0,$0:(cA=cz.$0,cA==null?null:{$:1,$0:cy(cA.$0)}),$1:cz.$1};};C.defaultValue=function(cy,cz){return m.defaultValue(cy,C.toResult(cz));};C.defaultWith=function(cy,cz){return m.defaultWith(cy,C.toResult(cz));};C.toOption=function(cy){return cy.$0;};C.toResultD=function(cy){return cy.$0==null?c.Error$1(cy.$1):{$:0,$0:[cy.$0.$0,cy.$1]};};C.toResult=function(cy){return cy.$0==null?c.Error$1(cy.$1):{$:0,$0:cy.$0.$0};};C.freeMessage=function(cy){return cy.$==1?c.Error$1(e.freeMessage(cy.$0)):{$:0,$0:cy.$0};};C.rtnr=function(cy){return m.defaultWith(g.ErrorM,bV.Map(g.OkM$1,cy));};C.rtnM=function(cy){return g.OkMWithMsg(null,cy);};C.rtn=function(cy){return g.OkM$1(cy);};C.checkErrorW=function(){return{$:0,$0:function(){return false;}};};C.checkError=function(){return{$:0,$0:function(){return true;}};};F.resultM=function(){bI.$cctor();return bI.resultM;};H=G.AsyncResultMBuilder=bN.Class({For:function(cy,cz){var cA;cA=this;return this.Using(bU.Get(cy),function(cB){return cA.While(function(){return cB.MoveNext();},cA.Delay(function(){return cz(cB.Current());}));});},While:function(cy,cz){return G.whileLoop(cy,cz);},Using:function(cy,cz){return bT.Using(cy,cz);},TryFinally:function(cy,cz){var cA;cA=null;return bT.Delay(function(){return bT.TryFinally(bT.Delay(function(){return cy();}),function(){cz();});});},TryWith:function(cy,cz){var cA;cA=null;return bT.Delay(function(){return bT.TryWith(bT.Delay(function(){return cy();}),function(cB){return cz(cB);});});},Run:function(cy){return G.bind(cy,G.rtn());},Delay:a.id,Combine:function(cy,cz){return G.bind(cz,G.rtnR(cy));},Combine$1:function(cy,cz){return G.bind(cz,cy);},Bind:function(cy,cz){return G.bindrA(cz,cy);},Bind$1:function(cy,cz){return G.bindR(cz,cy);},Bind$2:function(cy,cz){return G.bindM(cz,cy);},Bind$3:function(cy,cz){return G.bindr(cz,cy);},Bind$4:function(cy,cz){return G.bind(cz,cy);},Zero:function(){return G.rtn();},Return:function(cy){return G.rtn(cy);},ReturnFrom:function(cy){return G.rtnrA(cy);},ReturnFrom$1:function(cy){return G.rtnR(cy);},ReturnFrom$2:function(cy){return G.rtnM(cy);},ReturnFrom$3:function(cy){return G.rtnr(cy);},ReturnFrom$4:a.id},l,H);H.New=bN.Ctor(function(){l.New.call(this);},H);G.absorbO=function(cy,cz){function cA(cC){return m.absorbO(cy,cC);}function cB(cC){return bT.Return(cC);}return bT.Bind(cz,function(cC){return cB(cA(cC));});};G.absorbR=function(cy){var cz;function cA(cB){return bT.Return(cB);}return bT.Bind(cy,(cz=function(cB){return m.bindP(a.id,cB);},function(cB){return cA(cz(cB));}));};G.insertR=function(cy){return cy.$==0?G.map(function(cz){return{$:0,$0:cz};},cy.$0):G.rtn(c.Error$1(cy.$0));};G.insertO=function(cy){var cz;cz=cy==null?null:{$:1,$0:G.map(function(cA){return{$:1,$0:cA};},cy.$0)};return cz==null?G.rtn(null):cz.$0;};G.sequenceSeq=function(cy){return G.traverseSeq(a.id,cy);};G.traverseSeq=function(cy,cz){return G.map(a.id,bS.foldBack(function(cA,cB){return G.op_GreaterGreaterEquals(cy(cA),function(cC){return G.op_GreaterGreaterEquals(cB,function(cD){return G.rtn(new bR.T({$:1,$0:cC,$1:cD}));});});},bS.ofSeq(cz),G.rtn(bR.T.Empty)));};G.op_GreaterGreaterEquals=function(cy,cz){return G.bind(cz,cy);};G.whileLoop=function(cy,cz){return cy()?G.bind(function(){return G.whileLoop(cy,cz);},cz()):G.rtn();};G.map=function(cy,cz){return G.bind(function(cA){return G.rtn(cy(cA));},cz);};G.bindR=function(cy,cz){return G.bind(cy,G.rtnR(cz));};G.bindrA=function(cy,cz){return G.bind(cy,G.rtnrA(cz));};G.bindM=function(cy,cz){return G.bind(cy,G.rtnM(cz));};G.bindr=function(cy,cz){return G.bind(cy,G.rtnr(cz));};G.bind=function(cy,cz){var cA;cA=null;return bT.Delay(function(){return bT.TryWith(bT.Delay(function(){return bT.Bind(cz,function(cB){var cC,cD;function cE(cG){return C.addMsg(cD,cG);}function cF(cG){return bT.Return(cG);}cC=g.OkM(cB);return cC.$==1?bT.Return(g.ErrorM(cC.$0)):(cD=cC.$0[1],bT.Bind(cy(cC.$0[0]),function(cG){return cF(cE(cG));}));});}),function(cB){return bT.Return(g.ErrorM(new e({$:5,$0:cB.message,$1:cB.stack})));});});};G.iterpA=function(cy,cz){function cA(cB){c.print$1(cB);}G.iterA(function(cB){return cA(e.summarized(cB));},cy,cz);};G.iterpS=function(cy,cz){function cA(cB){c.print$1(cB);}G.iterS(function(cB){return cA(e.summarized(cB));},cy,cz);};G.iterA=function(cy,cz,cA){function cB(cD){C.iter(cy,cz,cD);}function cC(cD){return bT.Return(cD);}bT.Start(bT.Bind(cA,function(cD){return cC(cB(cD));}),null);};G.iterS=function(cy,cz,cA){throw"iterS cannot be used in JavaScript!";};G.rtnrA=function(cy){function cz(cA){return bT.Return(cA);}return bT.Bind(cy,function(cA){return cz(C.ofResult(cA));});};G.rtnM=function(cy){return bT.Return(C.rtnM(cy));};G.rtnR=function(cy){return bT.Return(cy);};G.rtnr=function(cy){return bT.Return(C.rtnr(cy));};G.rtn=function(cy){return bT.Return(g.OkM$1(cy));};G.freeMessage=function(cy){function cz(cA){return bT.Return(cA);}return bT.Bind(cy,function(cA){return cz(C.freeMessage(cA));});};G.mapError=function(cy,cz){function cA(cC){return C.mapMessage(cy,cC);}function cB(cC){return bT.Return(cC);}return bT.Bind(cz,function(cC){return cB(cA(cC));});};I["AsyncResultMBuilder.Combine"]=function(cy,cz,cA){function cB(cC){return bT.Return(cC);}return G.bind(cA,bT.Bind(cz,function(cC){return cB(g.OkM$1(cC));}));};I["AsyncResultMBuilder.Bind"]=function(cy,cz,cA){function cB(cC){return bT.Return(cC);}return G.bind(cA,bT.Bind(cz,function(cC){return cB(g.OkM$1(cC));}));};I["AsyncResultMBuilder.ReturnFrom"]=function(cy,cz){function cA(cB){return bT.Return(cB);}return bT.Bind(cz,function(cB){return cA(g.OkM$1(cB));});};I.asyncResultM=function(){bI.$cctor();return bI.asyncResultM;};g.OkM=function(cy){return cy.$0==null?{$:1,$0:cy.$1}:{$:0,$0:[cy.$0.$0,cy.$1]};};g.ErrorM=function(cy){return{$:0,$0:null,$1:cy};};g.OkMWithMsg=function(cy,cz){return{$:0,$0:{$:1,$0:cy},$1:cz};};g.OkM$1=function(cy){return{$:0,$0:{$:1,$0:cy},$1:e.NoMsg};};J.EndsWith$1=function(cy,cz){return bP.EndsWith(cz,cy)?{$:1,$0:bZ.string(cz,{$:1,$0:0},{$:1,$0:cz.length-cy.length-1})}:null;};J.StartsWith$1=function(cy,cz){return bP.StartsWith(cz,cy)?{$:1,$0:bZ.string(cz,{$:1,$0:cy.length},null)}:null;};J.skipLastLine$1=function(){bI.$cctor();return bI.skipLastLine;};J.indentStr$1=function(cy){function cz(cB){return J.indent$1(cy,cB);}function cA(cB){return bP.concat("\n",cB);}return function(cB){return cA(cz(cB));};};J.unindentStr$1=function(){bI.$cctor();return bI.unindentStr;};J.indent$1=function(cy,cz){var cA,cB;cA=bP.SplitChars(cz,["\n"],0);return bQ.map((cB=bP.replicate(cy," "),function(cC){return cB+cC;}),cA);};J.unindent$1=function(cy){var cz,cA,cB,cC;cz=bP.SplitChars(cy,["\n"],0);cA=(cB=bQ.tryFindIndex(function(cD){return" "!==cD;},(cC=bQ.tryFind(function(cD){return bP.Trim(cD)!=="";},cz),cC==null?"":cC.$0)),cB==null?0:cB.$0);return bQ.filter(function(cD){return!bP.StartsWith(cD,"# 1 ");},bQ.map(function(cD){return cD.length<=cA?"":cD.substring(cA);},cz));};J.skipFirstLine$1=function(cy){var cz;cz=cy.indexOf("\n");return cz<0?"":bZ.string(cy,{$:1,$0:cz+1},null);};J.append$1=function(cy,cz){return cy+cz;};J.trim$1=function(cy){return bP.Trim(cy);};J.contains$1=function(cy,cz){return cz.indexOf(cy)!=-1;};J.delimitedO$1=function(cy,cz,cA){var cB,cC,cD,cE,cF;cB=J.splitInTwoO$1(cy,cA);return cB==null?null:(cC=cB.$0,(cD=cC[0],(cE=J.splitInTwoO$1(cz,cC[1]),cE==null?null:{$:1,$0:(cF=cE.$0,[cD,cF[0],cF[1]])})));};J.splitInTwoO$1=function(cy,cz){var cA;cA=cz.indexOf(cy);return cA===-1?null:{$:1,$0:[c["String.Left$1"](cz,cA),cz.substring(cA+cy.length)]};};J.splitByChar$1=function(cy,cz){return bP.SplitChars(cz,[cy],0);};K.remove=function(cy,cz){return bS.ofSeq(bQ.delay(function(){return bQ.append(cy>0?bZ.array(cz,null,{$:1,$0:cy-1}):[],bQ.delay(function(){return cy<bS.length(cz)?bZ.array(cz,{$:1,$0:cy+1},null):[];}));}));};K.replace=function(cy,cz,cA){return bS.ofSeq(bQ.delay(function(){return bQ.append(cy>0?bZ.array(cA,null,{$:1,$0:cy-1}):[],bQ.delay(function(){return bQ.append([cz],bQ.delay(function(){return cy<bS.length(cA)?bZ.array(cA,{$:1,$0:cy+1},null):[];}));}));}));};L.op_AmpGreater=function(cy,cz,cA,cB){var cC;cC=cy(cA,cB);return cC===0?cz(cA,cB):cC;};L.desc=function(cy,cz,cA){return bX.Compare(cy(cA),cy(cz));};L.asc=function(cy,cz,cA){return bX.Compare(cy(cz),cy(cA));};M.Guid$1=function(){bI.$cctor();return bI["|Guid|_|"];};M.Double$1=function(){bI.$cctor();return bI["|Double|_|"];};M.Single$1=function(){bI.$cctor();return bI["|Single|_|"];};M.Int$1=function(){bI.$cctor();return bI["|Int|_|"];};M.Date$1=function(){bI.$cctor();return bI["|Date|_|"];};M.parseGuidO$1=function(){bI.$cctor();return bI.parseGuidO;};M.parseDoubleO$1=function(){bI.$cctor();return bI.parseDoubleO;};M.parseSingleO$1=function(){bI.$cctor();return bI.parseSingleO;};M.parseIntO$1=function(){bI.$cctor();return bI.parseIntO;};M.parseDateO$1=function(){bI.$cctor();return bI.parseDateO;};M.parseDateO2=function(){bI.$cctor();return bI.parseDateO2;};M.tryParseWith$1=function(cy){function cz(cA,cB){return cA?{$:1,$0:cB}:null;}return function(cA){return cz.apply(null,cy(cA));};};O.New=function(cy,cz,cA,cB,cC,cD,cE,cF){return{tryFloat:cy,tryInt:cz,tryString:cA,tryBool:cB,tryArray:cC,tryField:cD,isObject:cE,isNull:cF};};N.serMap=function(cy,cz,cA,cB){var cC,cD,cE,cF,cG,cH;function cI(cK){return[cK.K,cK.V];}function cJ(cK){return new b1.New(cK);}cC=(cD=N.serDup([cy,cz],[cA,cB]),N.serSeq(cD[0],cD[1]));return[(cE=function(cK){return bQ.map(cI,cK);},(cF=cC[0],function(cK){return cF(cE(cK));})),(cG=cC[1],(cH=function(cK){return cK==null?null:{$:1,$0:cJ(cK.$0)};},function(cK){return cH(cG(cK));}))];};N.serTrp=function(cy,cz,cA){return[function(cB){return((((bN.Curried(function(cC,cD,cE,cF){return cC("["+bO.toSafe(cD)+", "+bO.toSafe(cE)+", "+bO.toSafe(cF)+"]");},4))(a.id))(cy[0](cB[0])))(cz[0](cB[1])))(cA[0](cB[2]));},function(cB){var cC,cD,cE,cF,cG,cH,cI;cC=cB.tryArray();return cC!=null&&cC.$==1&&((cE=cC.$0,!bX.Equals(cE,null)&&cE.length===3)&&(cD=[bS.get(cC.$0,0),bS.get(cC.$0,1),bS.get(cC.$0,2)],true))?(cF=cy[1](cD[0]),(cG=cz[1](cD[1]),(cH=cA[1](cD[2]),cF!=null&&cF.$==1&&(cG!=null&&cG.$==1&&(cH!=null&&cH.$==1&&(cI=[cF.$0,cG.$0,cH.$0],true)))?{$:1,$0:[cI[0],cI[1],cI[2]]}:null))):null;}];};N.serDup=function(cy,cz){return[function(cA){return(((bN.Curried3(function(cB,cC,cD){return cB("["+bO.toSafe(cC)+", "+bO.toSafe(cD)+"]");}))(a.id))(cy[0](cA[0])))(cz[0](cA[1]));},function(cA){var cB,cC,cD,cE,cF,cG;cB=cA.tryArray();return cB!=null&&cB.$==1&&((cD=cB.$0,!bX.Equals(cD,null)&&cD.length===2)&&(cC=[bS.get(cB.$0,0),bS.get(cB.$0,1)],true))?(cE=cy[1](cC[0]),(cF=cz[1](cC[1]),cE!=null&&cE.$==1&&(cF!=null&&cF.$==1&&(cG=[cE.$0,cF.$0],true))?{$:1,$0:[cG[0],cG[1]]}:null)):null;}];};N.serOpt=function(cy,cz){var cA,cB,cC;function cD(cE){return cE==null?"null":cE.$0;}cA=[cy,cz];return[(cB=(cC=cA[0],function(cE){return cE==null?null:{$:1,$0:cC(cE.$0)};}),function(cE){return cD(cB(cE));}),function(cE){return{$:1,$0:cE.isNull()?null:cA[1](cE)};}];};N.serSet=function(cy,cz){var cA,cB,cC;cA=[cy,cz];return[(cB=(cC=cA[0],function(cD){return new b2.New$1(b3.OfSeq(bQ.map(cC,cD)));}),function(cD){return N.sprintA(cB(cD));}),function(cD){var cE,cF,cG,cH;cE=(cF=cD.tryArray(),(cG=(cH=cA[1],function(cI){return bS.choose(cH,cI);}),cF==null?null:{$:1,$0:cG(cF.$0)}));return cE==null?null:{$:1,$0:new b2.New(cE.$0)};}];};N.serLst=function(cy,cz){var cA,cB,cC;cA=[cy,cz];return[(cB=(cC=cA[0],function(cD){return bR.map(cC,cD);}),function(cD){return N.sprintA(cB(cD));}),function(cD){var cE,cF,cG,cH;cE=(cF=cD.tryArray(),(cG=(cH=cA[1],function(cI){return bS.choose(cH,cI);}),cF==null?null:{$:1,$0:cG(cF.$0)}));return cE==null?null:{$:1,$0:bR.ofSeq(cE.$0)};}];};N.serArr=function(cy,cz){var cA,cB,cC;cA=[cy,cz];return[(cB=(cC=cA[0],function(cD){return bS.map(cC,cD);}),function(cD){return N.sprintA(cB(cD));}),function(cD){var cE,cF,cG;cE=cD.tryArray();cF=(cG=cA[1],function(cH){return bS.choose(cG,cH);});return cE==null?null:{$:1,$0:cF(cE.$0)};}];};N.serSeq=function(cy,cz){var cA,cB,cC;cA=[cy,cz];return[(cB=(cC=cA[0],function(cD){return bQ.map(cC,cD);}),function(cD){return N.sprintA(cB(cD));}),function(cD){var cE,cF,cG,cH;cE=(cF=cD.tryArray(),(cG=(cH=cA[1],function(cI){return bS.choose(cH,cI);}),cF==null?null:{$:1,$0:cG(cF.$0)}));return cE==null?null:{$:1,$0:cE.$0};}];};N.serField=function(cy,cz,cA,cB,cC){return[cy,function(cD){return cB(cz(cD));},function(cD){return function(cE){var cF;cF=cC(cE);return cF==null?null:{$:1,$0:cA(cF.$0,cD)};};}];};N.serBool=function(){bI.$cctor();return bI.serBool;};N.serInt=function(){bI.$cctor();return bI.serInt;};N.serFloat=function(){bI.$cctor();return bI.serFloat;};N.serString=function(){bI.$cctor();return bI.serString;};N.toJsonString=function(cy){return bS.ofSeq(bQ.delay(function(){return bQ.append(["\""],bQ.delay(function(){return bQ.append(!bP.IsNullOrEmpty(cy)?bQ.collect(function(cz){var cA,cB;cA=cy[cz];cB=cA.charCodeAt();return cB>=0&&cB<=7||cB===11||cB>=14&&cB<=31?(function(cC){return function(cD){return cC("\\u"+bO.padNumLeft(cD.toString(16),4));};}(a.id))(cB):cA==="\u0008"?"\\b":cA==="\u0009"?"\\t":cA==="\n"?"\\n":cA==="\u000c"?"\\f":cA==="\r"?"\\r":cA==="\""?"\\\"":cA==="\\"?"\\\\":[cA];},bW.range(0,cy.length-1)):[],bQ.delay(function(){return["\""];}));}));})).join("");};N.sprintA=function(cy){var cz;cz=bP.concat(", ",cy);return(function(cA){return function(cB){return cA("["+bO.toSafe(cB)+"]");};}(a.id))(cz);};N.Field=function(cy,cz){return cz.tryField(cy);};N.serialize=function(cy,cz,cA){return[cy,cz][0](cA);};P.PostAndAsyncReply=function(cy,cz,cA){return cy.PostAndAsyncReply(function(cB){return[cB,cz];},cA);};R.applyReply=function(cy,cz){return R.applyReplyA(function(cA){var cB;cB=null;return bT.Delay(function(){return bT.Return(cy(cA));});},cz);};R.applyReplyA=function(cy,cz){return cz.PostAndAsyncReply(function(cA){return function(cB){var cC;cC=null;return bT.Delay(function(){return bT.Bind(cy(cB),function(cD){cA(cD[1]);return bT.Return(cD[0]);});});};},null);};R.apply=function(cy,cz){R.applyA(function(cA){var cB;cB=null;return bT.Delay(function(){return bT.Return(cy(cA));});},cz);};R.applyA=function(cy,cz){cz.mailbox.AddLast(function(cA){var cB;cB=null;return bT.Delay(function(){return cy(cA);});});cz.resume();};R.setState=function(cy,cz){cz.mailbox.AddLast(function(){var cA;cA=null;return bT.Delay(function(){return bT.Return(cy);});});cz.resume();};R.getStateA=function(cy){return cy.PostAndAsyncReply(function(cz){return function(cA){var cB;cB=null;return bT.Delay(function(){cz(cA);return bT.Return(cA);});};},null);};Q.defHandler=function(cy,cz){c.print$1(cy);return cz;};Q.stateFull=function(cy,cz){return b5.Start(function(cA){function cB(cC){var cD;cD=null;return bT.Delay(function(){return bT.TryWith(bT.Delay(function(){return bT.Bind(cA.Receive(null),function(cE){return bT.Bind(cE(cC),function(cF){return cB(cF);});});}),function(cE){return cB(cy(cE,cC));});});}return cB(cz);},null);};Q.fold=function(cy,cz,cA){return Q.foldA(cy,function(cB,cC){var cD;cD=null;return bT.Delay(function(){return bT.Return(cz(cB,cC));});},cA);};Q.foldA=function(cy,cz,cA){return b5.Start(function(cB){function cC(cD){var cE;cE=null;return bT.Delay(function(){return bT.TryWith(bT.Delay(function(){return bT.Bind(cB.Receive(null),function(cF){return bT.Bind(cz(cD,cF),function(cG){return cC(cG);});});}),function(cF){return cC(cy(cF,cD));});});}return cC(cA);},null);};Q.call=function(cy,cz){return Q.callA(cy,function(cA){var cB;cB=null;return bT.Delay(function(){return bT.Return(cz(cA));});});};Q.callA=function(cy,cz){return Q.iterA(cy,function(cA){var cB,cC,cD;cB=cA[0];cC=cA[1];cD=null;return bT.Delay(function(){return bT.Bind(cz(cC),function(cE){cB(cE);return bT.Zero();});});});};Q.iter=function(cy,cz){return Q.iterA(cy,function(cA){var cB;cB=null;return bT.Delay(function(){cz(cA);return bT.Zero();});});};Q.iterA=function(cy,cz){return b5.Start(function(cA){var cB;cB=null;return bT.Delay(function(){return bT.While(function(){return true;},bT.Delay(function(){return bT.TryWith(bT.Delay(function(){return bT.Bind(cA.Receive(null),function(cC){return bT.Bind(cz(cC),function(){return bT.Return(null);});});}),function(cC){cy(cC);return bT.Zero();});}));});},null);};c["String.Right$1"]=function(cy,cz){var cA,cB;return c["String.Substring2$1"](cy,(cA=0,(cB=cy.length-cz,bX.Compare(cA,cB)===1?cA:cB)),cy.length);};c["String.Left$1"]=function(cy,cz){return cz<0?c["String.Substring2$1"](cy,0,cy.length+cz):c["String.Substring2$1"](cy,0,cz);};c["String.Substring2$1"]=function(cy,cz,cA){var cB,cC;while(true){if(cA<=0)return"";else if(cz<0){cB=cz;cz=0;cA=cA+cB;}else return cz>=cy.length?"":bP.Substring(cy,cz,(cC=cy.length-cz,bX.Compare(cA,cC)===-1?cA:cC));}};c.delayed$1=function(cy,cz){var cA;cA=[null];return function(cB){var cC,cD;cC=cA[0];cC==null?void 0:cC.$0.Cancel$1();cA[0]={$:1,$0:new b6.New()};bT.Start((cD=null,bT.Delay(function(){return bT.Bind(bT.Sleep(cy),function(){cz(cB);return bT.Zero();});})),{$:1,$0:cA[0].$0});};};c.print$1=function(cy){if(typeof cy=="string")((function(cz){return function(cA){return cz(bO.toSafe(cA));};}(function(cz){bY.log(cz);}))(cy));else((function(cz){return function(cA){return cz(bO.prettyPrint(cA));};}(function(cz){bY.log(cz);}))(cy));};c.Error$1=function(cy){return{$:1,$0:cy};};T.toYYYYMMDD=function(cy,cz){return((((((bN.Curried(function(cA,cB,cC,cD,cE,cF){return cA(a.String(cB)+bO.toSafe(cC)+bO.padNumLeft(a.String(cD),2)+bO.toSafe(cE)+bO.padNumLeft(a.String(cF),2));},6))(a.id))((new a.Date(cz)).getFullYear()))(cy))((new a.Date(cz)).getMonth()+1))(cy))((new a.Date(cz)).getDate());};V.someContext=function(){bI.$cctor();return bI.someContext;};V.set_someContext=function(cy){bI.$cctor();bI.someContext=cy;};V.LoginFileName=function(){bI.$cctor();return bI.LoginFileName;};V.TemplatesFileName=function(){bI.$cctor();return bI.TemplatesFileName;};V.rootdir=function(){bI.$cctor();return bI.rootdir;};X.TypeV0={$:0};Y=W.TipoAliado=bN.Class({toString:function(){return(function(cy){return function(cz){return cy(bK.p(cz));};}(a.id))(this);}},null,Y);Y.Regular=new Y({$:1});Y.Master=new Y({$:0});Z=W.Pais=bN.Class({toString:function(){return this.$==3?this.$0:(function(cy){return function(cz){return cy(bK.p$1(cz));};}(a.id))(this);}},null,Z);Z.Argentina=new Z({$:2});Z.Venezuela=new Z({$:1});Z.USA=new Z({$:0});Z.tryParse=function(cy){var cz,cA;cA=bP.Trim(cy).toUpperCase();switch(cA){case"":return null;case"USA":case"AMERICA":case"E.E.U.U.":case"US":case"UNITED STATES OF AMERICA":case"UNITED STATES":case"EEUU":return{$:1,$0:Z.USA};case"VENEZUELA":return{$:1,$0:Z.Venezuela};case"ARGENTINA":return{$:1,$0:Z.Argentina};default:return{$:1,$0:new Z({$:3,$0:bP.Trim(cy)})};}};_0=W.Estado=bN.Class({toString:function(){return this.$==2?this.$0:(function(cy){return function(cz){return cy(bK.p$2(cz));};}(a.id))(this);}},null,_0);_0.Florida=new _0({$:1});_0.Texas=new _0({$:0});_0.tryParse=function(cy){var cz,cA;cA=bP.Trim(cy).toUpperCase();switch(cA){case"":return null;case"TEXAS":case"TX":return{$:1,$0:_0.Texas};case"FLORIDA":case"FL":return{$:1,$0:_0.Florida};default:return{$:1,$0:new _0({$:2,$0:bP.Trim(cy)})};}};_1.New=function(cy,cz,cA,cB){return{emisor:cy,documento:cz,emision:cA,vence:cB};};_2.Corriente={$:1};_2.Ahorro={$:0};_3.New=function(cy,cz,cA,cB,cC){return{titular:cy,banco:cz,tipo:cA,numero:cB,routing:cC};};_4=W.StatusAliado=bN.Class({toString:function(){return(function(cy){return function(cz){return cy(bK.p$3(cz));};}(a.id))(this);}},null,_4);_4.Inactivo=new _4({$:1});_4.Activo=new _4({$:0});_5=W.ConceptoPago=bN.Class({toString:function(){return this.$==2?this.$0:(function(cy){return function(cz){return cy(bK.p$4(cz));};}(a.id))(this);}},null,_5);_5.PagoComision=new _5({$:1});_5.PagoAfiliacion=new _5({$:0});_6.New=function(cy,cz,cA,cB,cC,cD,cE){return{fechaPago:cy,ano:cz,periodo:cA,monto:cB,idAliado:cC,concepto:cD,transaccion:cE};};_7=W.TipoDireccion=bN.Class({toString:function(){return this.$==3?this.$0:(function(cy){return function(cz){return cy(bK.p$5(cz));};}(a.id))(this);}},null,_7);_7.ServicioPostal=new _7({$:2});_7.Oficina=new _7({$:1});_7.Habitacion=new _7({$:0});_7.tryParse=function(cy){var cz;cz=bP.Trim(cy);return cz===""?null:cz==="Habitacion"?{$:1,$0:_7.Habitacion}:cz==="Oficina"?{$:1,$0:_7.Oficina}:cz==="ServicioPostal"?{$:1,$0:_7.ServicioPostal}:{$:1,$0:new _7({$:3,$0:cz})};};_8=W.ZonaPostal=bN.Class({toString:function(){return this.$0;}},null,_8);_8.tryParse=function(cy){return bP.Trim(cy)!==""?{$:1,$0:new _8({$:0,$0:bP.Trim(cy)})}:null;};_9.New=function(cy,cz,cA,cB,cC,cD,cE){return{tipoDireccion:cy,linea1:cz,linea2:cA,ciudad:cB,estado:cC,pais:cD,zonaPostal:cE};};_=W.CorreoElectronico=bN.Class({toString:function(){return this.$0;}},null,_);$=W.TipoTelefono=bN.Class({toString:function(){return(function(cy){return function(cz){return cy(bK.p$6(cz));};}(a.id))(this);}},null,$);$.Voip=new $({$:3});$.Habitacion=new $({$:2});$.Oficina=new $({$:1});$.Movil=new $({$:0});$.get_tryParse=function(){return function(cy){return cy==="Movil"?{$:1,$0:$.Movil}:cy==="Oficina"?{$:1,$0:$.Oficina}:cy==="Habitacion"?{$:1,$0:$.Habitacion}:null;};};ba.New=function(cy,cz,cA,cB,cC,cD){return{tipoTelefono:cy,codigoPais:cz,codigoArea:cA,numero:cB,extension:cC,mensajes:cD};};bb.Empresa={$:2};bb.Femenino={$:1};bb.Masculino={$:0};bb.tryParse=function(cy){var cz;cz=bP.Trim(cy);return cz==="Masculino"?{$:1,$0:bb.Masculino}:cz==="Femenino"?{$:1,$0:bb.Femenino}:cz==="Empresa"?{$:1,$0:bb.Empresa}:null;};bc.New=function(cy,cz,cA,cB,cC,cD,cE,cF){return{titulo:cy,nombre1:cz,nombre2:cA,apellido1:cB,apellido2:cC,nacionalidad:cD,genero:cE,fechaNacimiento:cF};};bd.Saludo={$:2};bd.Informacion={$:1};bd.Alerta={$:0};be.Prozper={$:0};bf.New=function(cy,cz,cA,cB,cC){return{tipo:cy,leido:cz,fecha:cA,texto:cB,remitente:cC};};bg.New=function(cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ){return{id:cy,idPadreO:cz,datosPersonales:cA,contactos:cB,identificacion:cC,formasPago:cD,transacciones:cE,mensajes:cF,isInternal:cG,status:cH,tipo:cI,fechaRegistro:cJ,fechaStatus:cK,nReferidos:cL,nRefActivos:cM,nDescendientes:cN,nDescActivos:cO,comision:cP,nivel:cQ};};bh.New=function(cy,cz,cA,cB,cC,cD,cE,cF){return{comisionReferidosRegular:cy,comisionReferidosMaster:cz,comisionDescendientesMaster:cA,comisionDescendientesRegular:cB,montoAliliacion:cC,numeroReferidosMaster:cD,diaCorte1:cE,diaCorte2:cF};};bi.New=function(cy,cz,cA,cB,cC,cD){return{idAliado:cy,aliados:cz,anoActual:cA,periodoActual:cB,premisas:cC,nevento:cD};};W.dirVacio=function(){bI.$cctor();return bI.dirVacio;};W.telVacio=function(){bI.$cctor();return bI.telVacio;};W.premisasCalculo=function(){bI.$cctor();return bI.premisasCalculo;};bk.TypeV1={$:0};bl=bj.CorreoElectronico=bN.Class({toString:function(){return this.email;}},null,bl);bl.New=function(cy,cz,cA,cB,cC){return new bl({email:cy,deshabilitado:cz,requiereVerificacion:cA,verificacionEnviada:cB,verificado:cC});};bm.New=function(cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ){return{id:cy,idPadreO:cz,datosPersonales:cA,contactos:cB,identificacion:cC,formasPago:cD,transacciones:cE,mensajes:cF,isInternal:cG,status:cH,tipo:cI,fechaRegistro:cJ,fechaStatus:cK,nReferidos:cL,nRefActivos:cM,nDescendientes:cN,nDescActivos:cO,comision:cP,nivel:cQ};};bn.New=function(cy,cz,cA,cB,cC,cD){return{idAliado:cy,aliados:cz,anoActual:cA,periodoActual:cB,premisas:cC,nevento:cD};};bj.correoVacio=function(){bI.$cctor();return bI.correoVacio;};bp.New=function(cy,cz,cA,cB,cC,cD){return{hijosDe:cy,nivelDe:cz,aliado:cA,aliadoO:cB,hijos:cC,descendientes:cD};};bo.nombre2=function(cy){var cz,cA;return(cz=(cA=cy.titulo,cA==null?null:{$:1,$0:" "+cA.$0}),cz==null?"":cz.$0)+bP.Trim(cy.nombre1+" "+cy.nombre2)+" "+bP.Trim(cy.apellido1+" "+cy.apellido2);};bo.nombre=function(cy){var cz,cA;return(cz=(cA=cy.titulo,cA==null?null:{$:1,$0:" "+cA.$0}),cz==null?"":cz.$0)+(cy.apellido1===""?"":bP.Trim(cy.apellido1+" "+cy.apellido2)+", ")+cy.nombre1+" "+cy.nombre2;};bo.empty=function(){bI.$cctor();return bI.empty;};bo.actualizarAliados=function(cy){var cz,cA,cB,cC,cH,cI;function cD(cJ){var cK,cL,cM,cN,cO,cP;cK=cH.aliado(cJ);cL=bQ.cache(bQ.map(cz,cH.hijosDe(cK.id)));cM=bQ.length(cL);cN=bQ.length(bQ.filter(function(cQ){return cQ.status.$===0&&cQ.tipo.$===1;},cL));cO=bm.New(cK.id,cK.idPadreO,cK.datosPersonales,cK.contactos,cK.identificacion,cK.formasPago,cK.transacciones,cK.mensajes,cK.isInternal,cK.status,cN>=cI.numeroReferidosMaster?Y.Master:Y.Regular,cK.fechaRegistro,0,cM,cN,bQ.sumBy(function(cQ){return cQ.nDescendientes+cQ.nReferidos;},cL),bQ.sumBy(function(cQ){return cQ.nDescActivos+cQ.nRefActivos;},cL),cK.comision,1+cH.nivelDe(cK.idPadreO));cP=bo.comision(cI,cO);return bm.New(cO.id,cO.idPadreO,cO.datosPersonales,cO.contactos,cO.identificacion,cO.formasPago,cO.transacciones,cO.mensajes,cO.isInternal,cO.status,cO.tipo,cO.fechaRegistro,cO.fechaStatus,cO.nReferidos,cO.nRefActivos,cO.nDescendientes,cO.nDescActivos,cP[0]+cP[1],cO.nivel);}function cE(cJ){var cK;cK=null;return cB.TryGetValue(cJ,{get:function(){return cK;},set:function(cL){cK=cL;}})?{$:1,$0:cK}:null;}function cF(cJ,cK){cB.set_Item(cJ,cK);return cK;}function cG(cJ,cK){var cL;cL=cE(cJ);return cL==null?cF(cJ,cK(cJ)):cL.$0;}cH=bo.busqueda(cy.aliados);cI=cy.premisas;cz=(cA=(cB=new b7.New$5(),[[cE,function(cJ){return function(cK){return cG(cJ,cK);};}],function(){cB.Clear();}]),(cC=cA[0][1],[function(cJ){return(cC(cJ))(cD);},cA[1]]))[0];return bS.ofSeq(bQ.map(cz,bQ.map(function(cJ){return cJ.id;},cy.aliados)));};bo.busqueda=function(cy){var cz,cA;function cB(cH,cI){return[cH,bS.ofSeq(bQ.map(function(cJ){return cJ[1];},cI))];}function cC(cH){var cI,cJ;cI=(cJ=null,[cA.TryGetValue(cH,{get:function(){return cJ;},set:function(cK){cJ=cK;}}),cJ]);return cI[0]?{$:1,$0:cI[1]}:null;}function cD(cH){var cI,cJ;cI=(cJ=null,[cz.TryGetValue({$:1,$0:cH},{get:function(){return cJ;},set:function(cK){cJ=cK;}}),cJ]);return cI[0]?cI[1]:[];}function cE(cH){var cI,cJ;cI=(cJ=cH==null?null:cC(cH.$0),cJ==null?null:{$:1,$0:1+cE(cJ.$0.idPadreO)});return cI==null?0:cI.$0;}function cF(cH){return bS.choose(cC,cD(cH.id));}function cG(cH){return bS.ofSeq(bQ.delay(function(){return bQ.collect(function(cI){return bQ.append([cI],bQ.delay(function(){return cG(cI);}));},cF(cH));}));}cz=new b1.New(bQ.map(function(cH){return cB(cH[0],cH[1]);},bQ.groupBy(function(cH){return cH[0];},bQ.map(function(cH){return[cH.idPadreO,cH.id];},cy))));cA=new b1.New(bQ.map(function(cH){return[cH.id,cH];},cy));return bp.New(cD,cE,function(cH){try{return cA.get_Item(cH);}catch(cI){return(function(cJ){return function(cK){return cJ("buscarAliado failed: "+bK.p$7(cK));};}(bW.FailWith))(cH);}},cC,cF,cG);};bo.comision=function(cy,cz){var cA;cA=bo.premisas(cy,cz);return[cz.nRefActivos*cA[0],cz.nDescActivos*cA[1]];};bo.premisas=function(cy,cz){var cA;cA=cz.tipo.$==0?[cy.comisionReferidosMaster,cy.comisionDescendientesMaster]:[cy.comisionReferidosRegular,cy.comisionDescendientesRegular];return cz.status.$==0?[cA[0],cA[1]]:[0,0];};bo.statusActual=function(cy,cz,cA){var cB;cB=bS.tryFind(function(cC){return bX.Equals(cC.idAliado,cA.id)&&cC.ano===cy&&cC.periodo===cz&&cC.concepto.$===0;},cA.transacciones)==null?null:{$:1,$0:_4.Activo};return cB==null?_4.Inactivo:cB.$0;};bo.aliadoEf=function(){return t.op_GreaterGreaterEquals(v.get(),function(cy){return A.ofResult(m.ofOption(function(){return(function(cz){return function(cA){return cz("Cannot find aliado "+bK.p$7(cA));};}(a.id))(cy.idAliado);},bS.tryFind(function(cz){return bX.Equals(cz.id,cy.idAliado);},cy.aliados)));});};bo.periodoActualEf=function(){return t.op_BarGreaterGreater(v.get(),function(cy){return[cy.anoActual,cy.periodoActual];});};bq.New=function(cy,cz,cA){return{nevento:cy,aliadoO:cz,data:cA};};br.ROk={$:0};bs.iterA=function(cy){function cz(cA){a.alert(cA);}G.iterA(function(cA){return cz(e.summarized(cA));},a.ignore,cy);};bu.DefaultEP={$:0};bv.crearOptions=function(cy){return b9.Concat(bQ.map(bv.crearOption,cy));};bv.crearOption=function(cy){return b9.Element("option",[],[b9.TextNode(cy)]);};bv.generos=function(){bI.$cctor();return bI.generos;};bv.tiposTel=function(){bI.$cctor();return bI.tiposTel;};bv.tiposDir=function(){bI.$cctor();return bI.tiposDir;};bv.estados=function(){bI.$cctor();return bI.estados;};bv.paises=function(){bI.$cctor();return bI.paises;};bv.alertIfNone=function(cy,cz,cA){return cz!=null&&cz.$==1?cA(cz.$0):(a.alert("Error not caught: "+cy),null);};bw.formaDoc=function(cy){var cz,cA,cB,cC,cD,cE;cz=(cA=(cB=b9.EmbedView(b_.Map(bv.crearOptions,bv.tiposTel().get_View())),cc.Make().WithHole({$:0,$0:"tipos",$1:cB})),(cC=cd.CompleteHoles(cA.k,cA.h,[["tipotelefono",0],["codigopais",0],["codigoarea",0],["telefono",0],["extension",0]]),(cD=new ce.New(cC[1],bL.telefono(cC[0])),(cA.i=cD,cD))));b_.Sink(function(cF){var cG;if(cF!=null&&cF.$==1){cG=cF.$0;cz.Hole("codigoarea").Set(cG.codigoArea);cz.Hole("codigopais").Set(cG.codigoPais);cz.Hole("telefono").Set(cG.numero);cz.Hole("extension").Set(cG.extension);cz.Hole("tipotelefono").Set((function(cH){return function(cI){return cH(a.String(cI));};}(a.id))(cG.tipoTelefono));}},cy.get_View());cE=b_.Apply(b_.Map2(function(cF,cG){return function(cH){return bQ.map(function(cI){return cI[1];},bQ.filter(function(cI){return cI[0];},bR.ofArray([[bP.Trim(cF)==="","CodigoPais"],[bP.Trim(cG)==="","Telefono"],[bP.Trim(cH)==="","TipoTelefono"]])));};},cz.Hole("codigopais").get_View(),cz.Hole("telefono").get_View()),cz.Hole("tipotelefono").get_View());b_.Sink(function(cF){if(!bX.Equals(cy.Get(),cF))cy.Set(cF);},b_.Apply(b_.Apply(b_.Apply(b_.Apply(b_.Map2(function(cF,cG){return bN.Curried(function(cH,cI,cJ,cK){return!bQ.isEmpty(cF)?null:bv.alertIfNone("TipoTelefono",($.get_tryParse())(bP.Trim(cG)),function(cL){var cM;return{$:1,$0:(cM=bP.Trim(cH),ba.New(cL,bP.Trim(cI),cM,bP.Trim(cJ),bP.Trim(cK),false))};});},4);},cE,cz.Hole("tipotelefono").get_View()),cz.Hole("codigoarea").get_View()),cz.Hole("codigopais").get_View()),cz.Hole("telefono").get_View()),cz.Hole("extension").get_View()));return[cE,cz.get_Doc()];};bx.formaDoc=function(cy){var cz,cA,cB,cC,cD,cE,cF;cz=cf.Create$1("");cA=(cB=cc.Make().WithHole({$:2,$0:"mensaje",$1:cz.get_View()}),(cC=cd.CompleteHoles(cB.k,cB.h,[["correo",0],["confirmarcorreo",0]]),(cD=new ce.New(cC[1],bL.correo(cC[0])),(cB.i=cD,cD))));cE=cy.Get();cE!=null&&cE.$==1?cA.Hole("confirmarcorreo").Set(a.String(cE.$0)):void 0;b_.Sink(function(cG){cz.Set(cG);},b_.Apply(b_.Apply(b_.Map2(function(cG,cH){return function(cI){return function(cJ){return bP.Trim(cG)===""||bP.Trim(cH)===""||bP.Trim(cI)===bP.Trim(cJ)?"":"Correos no son iguales";};};},cA.Hole("correo").get_View(),cA.Hole("confirmarcorreo").get_View()),cA.Hole("correo").get_View()),cA.Hole("confirmarcorreo").get_View()));b_.Sink(function(cG){if(cG!=null&&cG.$==1)cA.Hole("correo").Set(cG.$0.email);},cy.get_View());cF=b_.Apply(b_.Apply(b_.Map2(function(cG,cH){return function(cI){return function(cJ){return bQ.map(function(cK){return cK[1];},bQ.filter(function(cK){return cK[0];},bR.ofArray([[bP.Trim(cG)==="","Correo"],[bP.Trim(cH)==="","ConfirmarCorreo"],[cI!=="",cJ]])));};};},cA.Hole("correo").get_View(),cA.Hole("confirmarcorreo").get_View()),cz.get_View()),cz.get_View());b_.Sink(function(cG){if(!bX.Equals(cy.Get(),cG))cy.Set(cG);},b_.Map2(function(cG,cH){var cI,cJ,cK,cL;return!bQ.isEmpty(cG)?null:(cI=(cJ=cy.Get(),(cK={$:1,$0:bj.correoVacio()},cJ==null?cK:cJ)),cI==null?null:{$:1,$0:(cL=cI.$0,bl.New(cH,cL.deshabilitado,cL.requiereVerificacion,cL.verificacionEnviada,cL.verificado))});},cF,cA.Hole("correo").get_View()));return[cF,cA.get_Doc()];};by.formaDoc=function(cy){var cz,cA,cB,cC,cD,cE,cF,cG;cz=(cA=(cB=b9.EmbedView(b_.Map(bv.crearOptions,bv.tiposDir().get_View())),(cC=b9.EmbedView(b_.Map(bv.crearOptions,bv.estados().get_View())),(cD=b9.EmbedView(b_.Map(bv.crearOptions,bv.paises().get_View())),cc.Make().WithHole({$:0,$0:"paises",$1:cD})).WithHole({$:0,$0:"estados",$1:cC})).WithHole({$:0,$0:"tipos",$1:cB})),(cE=cd.CompleteHoles(cA.k,cA.h,[["tipodireccion",0],["direccion1",0],["direccion2",0],["ciudad",0],["estado",0],["codigopostal",0],["pais",0]]),(cF=new ce.New(cE[1],bL.direccion(cE[0])),(cA.i=cF,cF))));b_.Sink(function(cH){var cI;if(cH!=null&&cH.$==1){cI=cH.$0;cz.Hole("direccion1").Set(cI.linea1);cz.Hole("direccion2").Set(cI.linea2);cz.Hole("ciudad").Set(cI.ciudad);cz.Hole("estado").Set((function(cJ){return function(cK){return cJ(a.String(cK));};}(a.id))(cI.estado));cz.Hole("pais").Set((function(cJ){return function(cK){return cJ(a.String(cK));};}(a.id))(cI.pais));cz.Hole("codigopostal").Set((function(cJ){return function(cK){return cJ(a.String(cK));};}(a.id))(cI.zonaPostal));cz.Hole("tipodireccion").Set((function(cJ){return function(cK){return cJ(a.String(cK));};}(a.id))(cI.tipoDireccion));}},cy.get_View());cG=b_.Apply(b_.Apply(b_.Apply(b_.Apply(b_.Map2(function(cH,cI){return bN.Curried(function(cJ,cK,cL,cM){return bQ.map(function(cN){return cN[1];},bQ.filter(function(cN){return cN[0];},bR.ofArray([[bP.Trim(cH)==="","Direccion1"],[bP.Trim(cI)==="","Ciudad"],[bP.Trim(cJ)==="","Estado"],[bP.Trim(cK)==="","Pais"],[bP.Trim(cL)==="","CodigoPostal"],[bP.Trim(cM)==="","TipoDireccion"]])));},4);},cz.Hole("direccion1").get_View(),cz.Hole("ciudad").get_View()),cz.Hole("estado").get_View()),cz.Hole("pais").get_View()),cz.Hole("codigopostal").get_View()),cz.Hole("tipodireccion").get_View());b_.Sink(function(cH){if(!bX.Equals(cy.Get(),cH))cy.Set(cH);},b_.Apply(b_.Apply(b_.Apply(b_.Apply(b_.Apply(b_.Apply(b_.Map2(function(cH,cI){return bN.Curried(function(cJ,cK,cL,cM,cN,cO){return!bQ.isEmpty(cH)?null:bv.alertIfNone("TipoDireccion",_7.tryParse(bP.Trim(cI)),function(cP){return bv.alertIfNone("Estado",_0.tryParse(bP.Trim(cJ)),function(cQ){return bv.alertIfNone("Pais",Z.tryParse(bP.Trim(cK)),function(cR){return bv.alertIfNone("CodgoPostal",_8.tryParse(bP.Trim(cL)),function(cS){return{$:1,$0:_9.New(cP,bP.Trim(cM),bP.Trim(cN),bP.Trim(cO),cQ,cR,cS)};});});});});},6);},cG,cz.Hole("tipodireccion").get_View()),cz.Hole("estado").get_View()),cz.Hole("pais").get_View()),cz.Hole("codigopostal").get_View()),cz.Hole("direccion1").get_View()),cz.Hole("direccion2").get_View()),cz.Hole("ciudad").get_View()));return[cG,cz.get_Doc()];};bz.formaDoc=function(cy){var cz,cA,cB,cC,cD,cE;cz=(cA=(cB=b9.EmbedView(b_.Map(bv.crearOptions,bv.generos().get_View())),cc.Make().WithHole({$:0,$0:"generos",$1:cB})),(cC=cd.CompleteHoles(cA.k,cA.h,[["nombres",0],["apellidos",0],["fechanacimiento",0],["genero",0]]),(cD=new ce.New(cC[1],bL.datospersonales(cC[0])),(cA.i=cD,cD))));b_.Sink(function(cF){var cG;if(cF!=null&&cF.$==1){cG=cF.$0;cz.Hole("nombres").Set(bP.Trim(cG.nombre1+" "+cG.nombre2));cz.Hole("apellidos").Set(bP.Trim(cG.apellido1+" "+cG.apellido2));cz.Hole("fechanacimiento").Set(T.toYYYYMMDD("-",cG.fechaNacimiento));cz.Hole("genero").Set((function(cH){return function(cI){return cH(bK.p$8(cI));};}(a.id))(cG.genero));}},cy.get_View());cE=b_.Apply(b_.Apply(b_.Map2(function(cF,cG){return function(cH){return function(cI){return bQ.map(function(cJ){return cJ[1];},bQ.filter(function(cJ){return cJ[0];},bR.ofArray([[bP.Trim(cF)==="","Nombres"],[bP.Trim(cG)==="","Apellidos"],[bP.Trim(cH)==="","Fecha de Nacimiento"],[bP.Trim(cI)==="","Genero"]])));};};},cz.Hole("nombres").get_View(),cz.Hole("apellidos").get_View()),cz.Hole("fechanacimiento").get_View()),cz.Hole("genero").get_View());b_.Sink(function(cF){if(!bX.Equals(cy.Get(),cF))cy.Set(cF);},b_.Apply(b_.Apply(b_.Apply(b_.Apply(b_.Apply(b_.Map2(function(cF,cG){return bN.Curried(function(cH,cI,cJ,cK,cL){return!bQ.isEmpty(cF)?null:bv.alertIfNone("Genero",bb.tryParse(cG),function(cM){return bv.alertIfNone("Fecha incorrecta",(M.parseDateO2())(cH),function(cN){return{$:1,$0:bc.New(null,bS.get(bP.SplitChars(bP.Trim(cI),[" "],0),0),bP.concat(" ",bZ.array(bP.SplitChars(bP.Trim(cJ),[" "],0),{$:1,$0:1},null)),bS.get(bP.SplitChars(bP.Trim(cK),[" "],0),0),bP.concat(" ",bZ.array(bP.SplitChars(bP.Trim(cL),[" "],0),{$:1,$0:1},null)),new Z({$:3,$0:""}),cM,cN)};});});},5);},cE,cz.Hole("genero").get_View()),cz.Hole("fechanacimiento").get_View()),cz.Hole("nombres").get_View()),cz.Hole("nombres").get_View()),cz.Hole("apellidos").get_View()),cz.Hole("apellidos").get_View()));return[cE,cz.get_Doc()];};bA.formaDoc$5738$41=function(cy,cz,cA,cB,cC,cD){return function(){var cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO;function cP(cQ){a.alert(cQ);}cy.Set(true);cE=cz.Get();bP.Trim(cE)!==""?a.alert(cE):(cF=cA.Get(),cG=cB.Get(),cH=cC.Get(),cI=cD.Get(),cF!=null&&cF.$==1&&(cG!=null&&cG.$==1&&(cH!=null&&cH.$==1&&(cI!=null&&cI.$==1&&(cJ=[cG.$0,cF.$0,cI.$0,cH.$0],true))))?(cK=cJ[0],cL=cJ[1],cM=cJ[2],cN=cJ[3],G.iterA(function(cQ){return cP(e.summarized(cQ));},a.ignore,(cO=I.asyncResultM(),cO.Run(cO.Delay(function(){var cQ,cR;return cO.Bind$4((cQ={$:2,$0:{$:0,$0:(cR=ch.NewGuid(),a.String(cR))},$1:cL,$2:{$:1,$0:bt.modeloV().Get().idAliado},$3:[{$:1,$0:cK},{$:2,$0:cN},{$:0,$0:cM}]},(new cj.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.ejecutarEvento:-1486622886",[cQ])),function(cS){bt.refrescarData();a.alert((function(cT){return function(cU){return cT(bK.p$9(cU));};}(a.id))(cS));return cO.Zero();});}))))):a.alert("Error not caught FormaRegistro"));};};bA.formaDoc=function(){var cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM;cy=cf.Create$1("");cz=cf.Create$1(false);cA=cf.Create$1(null);cB=cf.Create$1(null);cC=cf.Create$1(null);cD=cf.Create$1(null);cE=bz.formaDoc(cA);cF=bx.formaDoc(cB);cG=bw.formaDoc(cC);cH=by.formaDoc(cD);cI=(cJ=(cK=cc.Make().WithHole({$:2,$0:"mensajes",$1:b_.Map2(function(cN,cO){return cN?cO:"";},cz.get_View(),cy.get_View())}).WithHole({$:0,$0:"datospersonales",$1:cE[1]}).WithHole({$:0,$0:"correo",$1:cF[1]}).WithHole({$:0,$0:"telefono",$1:cG[1]}).WithHole({$:0,$0:"direccion",$1:cH[1]}),cK.WithHole(cd.EventQ2(cK.k,"registrarse",function(){return cK.i;},function(){var cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX;function cY(cZ){a.alert(cZ);}cz.Set(true);cN=cy.Get();bP.Trim(cN)!==""?a.alert(cN):(cO=cA.Get(),cP=cB.Get(),cQ=cC.Get(),cR=cD.Get(),cO!=null&&cO.$==1&&(cP!=null&&cP.$==1&&(cQ!=null&&cQ.$==1&&(cR!=null&&cR.$==1&&(cS=[cP.$0,cO.$0,cR.$0,cQ.$0],true))))?(cT=cS[0],cU=cS[1],cV=cS[2],cW=cS[3],G.iterA(function(cZ){return cY(e.summarized(cZ));},a.ignore,(cX=I.asyncResultM(),cX.Run(cX.Delay(function(){var cZ,c0;return cX.Bind$4((cZ={$:2,$0:{$:0,$0:(c0=ch.NewGuid(),a.String(c0))},$1:cU,$2:{$:1,$0:bt.modeloV().Get().idAliado},$3:[{$:1,$0:cT},{$:2,$0:cW},{$:0,$0:cV}]},(new cj.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.ejecutarEvento:-1486622886",[cZ])),function(c1){bt.refrescarData();a.alert((function(c2){return function(c3){return c2(bK.p$9(c3));};}(a.id))(c1));return cX.Zero();});}))))):a.alert("Error not caught FormaRegistro"));}))),(cL=cd.CompleteHoles(cJ.k,cJ.h,[]),(cM=new ce.New(cL[1],bL.formaregistro(cL[0])),(cJ.i=cM,cM))));b_.Sink(function(cN){cy.Set(cN);},b_.Apply(b_.Apply(b_.Map2(function(cN,cO){return function(cP){return function(cQ){var cR;cR=bP.concat(", ",bQ.delay(function(){return bQ.append(cN,bQ.delay(function(){return bQ.append(cO,bQ.delay(function(){return bQ.append(cP,bQ.delay(function(){return cQ;}));}));}));}));return cR!==""?"Campos requeridos: "+cR:"";};};},cE[0],cF[0]),cG[0]),cH[0]));return cI.get_Doc();};bB.formaDoc=function(){return bt.aliadoIdDoc(bB.formaAliado);};bB.formaAliado$5791$36=function(cy,cz,cA,cB){return function(){var cC,cD,cE,cF,cG,cH,cI;function cJ(cK){a.alert(cK);}cy.Set(true);cC=cz.Get();bP.Trim(cC)!==""?a.alert(cC):(cD=cA.Get(),cE=b_.TryGet(cB),cD!=null&&cD.$==1&&(cE!=null&&cE.$==1&&(cF=[cE.$0,cD.$0],true))?(cG=cF[0],cH=cF[1],G.iterA(function(cK){return cJ(e.summarized(cK));},a.ignore,(cI=I.asyncResultM(),cI.Run(cI.Delay(function(){return cI.Bind$4((new cj.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.ejecutarEvento:-1486622886",[{$:3,$0:cG.id,$1:cH}]),function(cK){bt.refrescarData();a.alert((function(cL){return function(cM){return cL(bK.p$9(cM));};}(a.id))(cK));return cI.Zero();});}))))):a.alert("Error not caught FormaDatos"));};};bB.formaAliado=function(cy){var cz,cA,cB,cC,cD,cE,cF,cG,cH;function cI(cK){return{$:1,$0:cK};}function cJ(cK){cB.Set(cK);}cz=cf.Create$1("");cA=cf.Create$1(false);cB=cf.Create$1(null);b_.Sink(function(cK){return cJ(cI(cK));},b_.Map(function(cK){return cK.datosPersonales;},cy));cC=bz.formaDoc(cB);cD=(cE=(cF=cc.Make().WithHole({$:2,$0:"mensajes",$1:b_.Map2(function(cK,cL){return cK?cL:"";},cA.get_View(),cz.get_View())}).WithHole({$:2,$0:"changed",$1:b_.Map2(function(cK,cL){return bX.Equals({$:1,$0:cK.datosPersonales},cL)?"":"mui-btn--primary";},cy,cB.get_View())}).WithHole({$:0,$0:"datospersonales",$1:cC[1]}),cF.WithHole(cd.EventQ2(cF.k,"salvar",function(){return cF.i;},function(){var cK,cL,cM,cN,cO,cP,cQ;function cR(cS){a.alert(cS);}cA.Set(true);cK=cz.Get();bP.Trim(cK)!==""?a.alert(cK):(cL=cB.Get(),cM=b_.TryGet(cy),cL!=null&&cL.$==1&&(cM!=null&&cM.$==1&&(cN=[cM.$0,cL.$0],true))?(cO=cN[0],cP=cN[1],G.iterA(function(cS){return cR(e.summarized(cS));},a.ignore,(cQ=I.asyncResultM(),cQ.Run(cQ.Delay(function(){return cQ.Bind$4((new cj.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.ejecutarEvento:-1486622886",[{$:3,$0:cO.id,$1:cP}]),function(cS){bt.refrescarData();a.alert((function(cT){return function(cU){return cT(bK.p$9(cU));};}(a.id))(cS));return cQ.Zero();});}))))):a.alert("Error not caught FormaDatos"));}))),(cG=cd.CompleteHoles(cE.k,cE.h,[]),(cH=new ce.New(cG[1],bL.formadatospersonales(cG[0])),(cE.i=cH,cH))));b_.Sink(function(cK){cz.Set(cK);},b_.Map(function(cK){var cL;cL=bP.concat(", ",bQ.delay(function(){return cK;}));return cL!==""?"Campos requeridos: "+cL:"";},cC[0]));return cD.get_Doc();};bC.forma$5827$38=function(cy){return function(){cy();};};bC.forma=function(cy,cz,cA,cB){var cC,cD,cE,cF,cG;cf.Create$1("");cC=cf.Create$1(false);return(cD=(cE=cc.Make().WithHole({$:2,$0:"mensajes",$1:b_.Map2(function(cH,cI){return cH?cI:"";},cC.get_View(),cy)}).WithHole({$:2,$0:"changed",$1:b_.Map(function(cH){return cH?"":"mui-btn--primary";},cz)}).WithHole({$:0,$0:"content",$1:cA}),cE.WithHole(cd.EventQ2(cE.k,"salvar",function(){return cE.i;},function(){cB();}))),(cF=cd.CompleteHoles(cD.k,cD.h,[]),(cG=new ce.New(cF[1],bL.formagenerica(cF[0])),(cD.i=cG,cG)))).get_Doc();};bD.formaDoc=function(){return bt.aliadoIdDoc(bD.formaContactos);};bD.formaContactos$5906$36=function(cy,cz,cA,cB){return function(){var cC,cD,cE,cF;function cG(cH){a.alert(cH);}cy.Set(true);cC=cz.Get();bP.Trim(cC)!==""?a.alert(cC):(cD=b_.TryGet(cA),cD!=null&&cD.$==1?(cE=cD.$0,G.iterA(function(cH){return cG(e.summarized(cH));},a.ignore,(cF=I.asyncResultM(),cF.Run(cF.Delay(function(){var cH;return cF.Bind$4((cH={$:4,$0:cE.id,$1:cB.Get()},(new cj.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.ejecutarEvento:-1486622886",[cH])),function(cI){bt.refrescarData();a.alert((function(cJ){return function(cK){return cJ(bK.p$9(cK));};}(a.id))(cI));return cF.Zero();});}))))):a.alert("Error not caught FormaDatos"));};};bD.formaContactos$5905$42=function(cy){return function(){cy.Set(cy.Get().concat([{$:0,$0:W.dirVacio()}]));};};bD.formaContactos$5904$42=function(cy){return function(){cy.Set(cy.Get().concat([{$:1,$0:bj.correoVacio()}]));};};bD.formaContactos$5903$42=function(cy){return function(){cy.Set(cy.Get().concat([{$:2,$0:W.telVacio()}]));};};bD.formaContactos=function(cy){var cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS;function cT(cV,cW){return function(cX){return new ck.New(b_.Map(function(cY){var cZ;cZ=bQ.tryItem(cX,cY);return cZ==null?null:cV(cZ.$0);},cB.get_View()),function(cY){if(cY!=null&&cY.$==1)cB.Set(K.replace(cX,cW(cY.$0),cB.Get()));});};}function cU(cV,cW){return b9.Element("form",[],[cW,b9.Button("-",[cl.Create("title","borrar")],function(){cB.Set(K.remove(cV,cB.Get()));})]);}cz=cf.Create$1("");cA=cf.Create$1(false);cB=cf.Create$1([]);b_.Sink(function(cV){cB.Set(cV);},b_.Map(function(cV){return cV.contactos;},cy));cC=b_.Map(bQ.indexed,cB.get_View());cD=[function(cV){return cV.$==2?{$:1,$0:cV.$0}:null;},function(cV){return{$:2,$0:cV};}];cE=[function(cV){return cV.$==1?{$:1,$0:cV.$0}:null;},function(cV){return{$:1,$0:cV};}];cF=[function(cV){return cV.$==0?{$:1,$0:cV.$0}:null;},function(cV){return{$:0,$0:cV};}];cG=b_.Map(function(cV){function cW(cX,cY){return cD[0](cY)==null?null:{$:1,$0:cX};}return bQ.choose(function(cX){return cW(cX[0],cX[1]);},cV);},cC);cH=b_.Map(function(cV){function cW(cX,cY){return cE[0](cY)==null?null:{$:1,$0:cX};}return bQ.choose(function(cX){return cW(cX[0],cX[1]);},cV);},cC);cI=b_.Map(function(cV){function cW(cX,cY){return cF[0](cY)==null?null:{$:1,$0:cX};}return bQ.choose(function(cX){return cW(cX[0],cX[1]);},cV);},cC);cJ=b9.ConvertBy(a.id,function(cV){return cU(cV,(bw.formaDoc((function(cW){return cT(cW[0],cW[1]);}(cD))(cV)))[1]);},cG);cK=b9.ConvertBy(a.id,function(cV){return cU(cV,(bx.formaDoc((function(cW){return cT(cW[0],cW[1]);}(cE))(cV)))[1]);},cH);cL=b9.ConvertBy(a.id,function(cV){return cU(cV,(by.formaDoc((function(cW){return cT(cW[0],cW[1]);}(cF))(cV)))[1]);},cI);return(cM=(cN=(cO=(cP=(cQ=cc.Make().WithHole({$:2,$0:"mensajes",$1:b_.Map2(function(cV,cW){return cV?cW:"";},cA.get_View(),cz.get_View())}).WithHole({$:2,$0:"changed",$1:b_.Map2(function(cV,cW){return bX.Equals(cV.contactos,cW)?"":"mui-btn--primary";},cy,cB.get_View())}).WithHole({$:0,$0:"telefonos",$1:cJ}).WithHole({$:0,$0:"correos",$1:cK}).WithHole({$:0,$0:"direcciones",$1:cL}),cQ.WithHole(cd.EventQ2(cQ.k,"mastelefono",function(){return cQ.i;},function(){cB.Set(cB.Get().concat([{$:2,$0:W.telVacio()}]));}))),cP.WithHole(cd.EventQ2(cP.k,"mascorreo",function(){return cP.i;},function(){cB.Set(cB.Get().concat([{$:1,$0:bj.correoVacio()}]));}))),cO.WithHole(cd.EventQ2(cO.k,"masdireccion",function(){return cO.i;},function(){cB.Set(cB.Get().concat([{$:0,$0:W.dirVacio()}]));}))),cN.WithHole(cd.EventQ2(cN.k,"salvar",function(){return cN.i;},function(){var cV,cW,cX,cY;function cZ(c0){a.alert(c0);}cA.Set(true);cV=cz.Get();bP.Trim(cV)!==""?a.alert(cV):(cW=b_.TryGet(cy),cW!=null&&cW.$==1?(cX=cW.$0,G.iterA(function(c0){return cZ(e.summarized(c0));},a.ignore,(cY=I.asyncResultM(),cY.Run(cY.Delay(function(){var c0;return cY.Bind$4((c0={$:4,$0:cX.id,$1:cB.Get()},(new cj.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.ejecutarEvento:-1486622886",[c0])),function(c1){bt.refrescarData();a.alert((function(c2){return function(c3){return c2(bK.p$9(c3));};}(a.id))(c1));return cY.Zero();});}))))):a.alert("Error not caught FormaDatos"));}))),(cR=cd.CompleteHoles(cM.k,cM.h,[]),(cS=new ce.New(cR[1],bL.formacontactos(cR[0])),(cM.i=cS,cS)))).get_Doc();};bD.formaTelefonos=function(cy){var cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ;function cK(cO,cP){return function(cQ){return new ck.New(b_.Map(function(cR){var cS;cS=bQ.tryItem(cQ,cR);return cS==null?null:cO(cS.$0);},cz.get_View()),function(cR){if(cR!=null&&cR.$==1)cz.Set(K.replace(cQ,cP(cR.$0),cz.Get()));});};}function cL(cO){return cO[1];}function cM(cO){return cO[1];}function cN(cO){return cO[1];}cz=cf.Create$1([]);b_.Sink(function(cO){cz.Set(cO);},b_.Map(function(cO){return cO.contactos;},cy));cA=b_.Map(bQ.indexed,cz.get_View());cB=b_.Map(function(cO){function cP(cQ,cR){return(bD.ftel())[0](cR)==null?null:{$:1,$0:cQ};}return bQ.choose(function(cQ){return cP(cQ[0],cQ[1]);},cO);},cA);cC=b_.Map(function(cO){function cP(cQ,cR){return(bD.fcor())[0](cR)==null?null:{$:1,$0:cQ};}return bQ.choose(function(cQ){return cP(cQ[0],cQ[1]);},cO);},cA);cD=b_.Map(function(cO){function cP(cQ,cR){return(bD.fdir())[0](cR)==null?null:{$:1,$0:cQ};}return bQ.choose(function(cQ){return cP(cQ[0],cQ[1]);},cO);},cA);b9.ConvertBy(a.id,(cE=(cF=cK.apply(null,bD.ftel()),function(cO){return bw.formaDoc(cF(cO));}),function(cO){return cL(cE(cO));}),cB);b9.ConvertBy(a.id,(cG=(cH=cK.apply(null,bD.fcor()),function(cO){return bx.formaDoc(cH(cO));}),function(cO){return cM(cG(cO));}),cC);b9.ConvertBy(a.id,(cI=(cJ=cK.apply(null,bD.fdir()),function(cO){return by.formaDoc(cJ(cO));}),function(cO){return cN(cI(cO));}),cD);return bN.Curried(bC.forma,4);};bD.fdir=function(){bI.$cctor();return bI.fdir;};bD.fcor=function(){bI.$cctor();return bI.fcor;};bD.ftel=function(){bI.$cctor();return bI.ftel;};bE.aliados$5995$49=function(cy,cz){return function(){cy(cz);};};bE.aliados$5993$49=function(cy,cz){return function(){cy(cz);};};bE.aliados=function(){var cy,cz,cA,cB,cC,cD,cE;function cF(cO){var cP,cQ;cP=(cQ=cz.Get(),cQ==null?null:{$:1,$0:cQ.$0(cO)});return cP==null?[]:cP.$0;}function cG(cO){return cO.nReferidos===0?"-":(((bN.Curried3(function(cP,cQ,cR){return cP(a.String(cQ)+"/"+a.String(cR));}))(a.id))(cO.nRefActivos))(cO.nReferidos);}function cH(cO){return cO.nDescendientes===0?"-":(((bN.Curried3(function(cP,cQ,cR){return cP(a.String(cQ)+"/"+a.String(cR));}))(a.id))(cO.nDescActivos))(cO.nDescendientes);}function cI(cO){return cO===0?"-":bt.money(cO);}function cJ(cO){return b_.Map(function(cP){return bQ.isEmpty(cF(cO))?"":bX.Equals(cP==null?null:{$:1,$0:cP.$0.Contains(cO)},{$:1,$0:true})?"Expandido":"Colapsado";},cy.get_View());}function cK(cO){var cP,cQ,cR;cy.Set({$:1,$0:((bX.Equals((cP=cy.Get(),cP==null?null:{$:1,$0:cP.$0.Contains(cO)}),{$:1,$0:true})?function(cS){return function(cT){return cT.Remove(cS);};}:function(cS){return function(cT){return cT.Add(cS);};})(cO))((cQ=cy.Get(),(cR=new b2.New$1(null),cQ==null?cR:cQ.$0)))});}function cL(cO){bt.selAliadoIdOV().Set({$:1,$0:cO});}function cM(cO){var cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c8,c9;function c2(c_){return c_.comision;}function c3(c_){return c_.status;}function c4(c_){return[c_.nRefActivos,c_.nReferidos];}function c5(c_){return[c_.nDescActivos,c_.nDescendientes];}function c6(c_){return bo.nombre(c_.datosPersonales);}function c7(c_){return bQ.delay(function(){return bQ.append([c_],bQ.delay(function(){var c$,da;return(c$=(da=cy.Get(),da==null?null:{$:1,$0:da.$0.Contains(c_.id)}),c$==null?false:c$.$0)?bQ.collect(c7,c9.hijos(c_)):[];}));});}c8=(cP=(cQ=(cR=(cS=(cT=(bN.Curried3(L.desc))(c2),cU=(bN.Curried3(L.asc))(c3),bN.Curried(L.op_AmpGreater,2,[function(c_,c$){return(cT(c_))(c$);},function(c_,c$){return(cU(c_))(c$);}])),cV=(bN.Curried3(L.desc))(c4),bN.Curried(L.op_AmpGreater,2,[function(c_,c$){return(cS(c_))(c$);},function(c_,c$){return(cV(c_))(c$);}])),cW=(bN.Curried3(L.desc))(c5),bN.Curried(L.op_AmpGreater,2,[function(c_,c$){return(cR(c_))(c$);},function(c_,c$){return(cW(c_))(c$);}])),cX=(bN.Curried3(L.asc))(c6),bN.Curried(L.op_AmpGreater,2,[function(c_,c$){return(cQ(c_))(c$);},function(c_,c$){return(cX(c_))(c$);}])),bQ.sortWith(function(c_,c$){return(cP(c_))(c$);},cO));c9=bo.busqueda(c8);cz.Set({$:1,$0:c9.hijosDe});try{cZ=bQ.min(bQ.map(function(c_){return c_.nivel;},c8));}catch(c_){cZ=1;}c0=bQ.filter(function(c$){return c$.nivel===cZ;},c8);bQ.isEmpty(c0)?cy.Set(null):cy.Get()==null?(cy.Set({$:1,$0:new b2.New(bQ.map(function(c$){return c$.id;},c0))}),c1=bQ.tryHead(bQ.map(function(c$){return c$.id;},c0)),(i.iter(cL))(c1)):void 0;return bQ.delay(function(){return bQ.collect(c7,c0);});}function cN(cO,cP){var cQ,cR,cS,cT,cU,cV;return(cQ=(cR=(cS=(cT=cJ(cO),cc.Make().WithHole({$:2,$0:"nombre",$1:b_.Map(function(cW){return bo.nombre(cW.datosPersonales);},cP)}).WithHole({$:2,$0:"status",$1:b_.Map(function(cW){return(function(cX){return function(cY){return cX(bK.p$3(cY));};}(a.id))(cW.status);},cP)}).WithHole({$:2,$0:"tipo",$1:b_.Map(function(cW){return(function(cX){return function(cY){return cX(bK.p(cY));};}(a.id))(cW.tipo);},cP)}).WithHole({$:2,$0:"nivel",$1:b_.Map(function(cW){return a.String(cW.nivel);},cP)}).WithHole({$:2,$0:"referidos",$1:b_.Map(cG,cP)}).WithHole({$:2,$0:"descendientes",$1:b_.Map(cH,cP)}).WithHole({$:2,$0:"comision",$1:b_.Map(function(cW){return cI(cW.comision);},cP)}).WithHole({$:2,$0:"expandido",$1:cT})),cS.WithHole(cd.EventQ2(cS.k,"expandir",function(){return cS.i;},function(){cK(cO);}))).WithHole({$:2,$0:"seleccionado",$1:b_.Map(function(cW){return bX.Equals({$:1,$0:cO},cW)?"seleccionado":"";},bt.selAliadoIdOV().get_View())}),cR.WithHole(cd.EventQ2(cR.k,"seleccionar",function(){return cR.i;},function(){cL(cO);}))),(cU=cd.CompleteHoles(cQ.k,cQ.h,[]),(cV=new ce.New(cU[1],bL.filaaliado(cU[0])),(cQ.i=cV,cV)))).get_Doc();}cy=cf.Create$1(null);cz=cf.Create$1(null);return(cA=(cB=b9.ConvertSeqBy(function(cO){return cO.id;},function(cO){return function(cP){return cN(cO,cP);};},(cC=b_.Map(function(cO){return cO.aliados;},bt.modeloV().get_View()),b_.Map2(function(cO,cP){return cM(cP);},cy.get_View(),cC))),cc.Make().WithHole({$:0,$0:"tbody",$1:cB})),(cD=cd.CompleteHoles(cA.k,cA.h,[]),(cE=new ce.New(cD[1],bL.tablaaliados(cD[0])),(cA.i=cE,cE)))).get_Doc();};bF.aliado=function(){function cy(cz){var cA;cA=bQ.tryPick(function(cB){return cB.$==1?{$:1,$0:cB.$0.email}:null;},cz.contactos);return cA==null?"correo no encontrado!":cA.$0;}return bt.selAliadoIdDoc(function(cz){var cA,cB,cC,cD;return(cA=(cB=bF.calculo(),cc.Make().WithHole({$:2,$0:"nombre",$1:b_.Map(function(cE){return bo.nombre2(cE.datosPersonales);},cz)}).WithHole({$:2,$0:"status",$1:b_.Map(function(cE){return(function(cF){return function(cG){return cF(bK.p$3(cG));};}(a.id))(cE.status);},cz)}).WithHole({$:2,$0:"tipo",$1:b_.Map(function(cE){return(function(cF){return function(cG){return cF(bK.p(cG));};}(a.id))(cE.tipo);},cz)}).WithHole({$:2,$0:"contacto",$1:b_.Map(cy,cz)}).WithHole({$:0,$0:"calculo",$1:cB})),(cC=cd.CompleteHoles(cA.k,cA.h,[]),(cD=new ce.New(cC[1],bL.aliado(cC[0])),(cA.i=cD,cD)))).get_Doc();});};bF.calculo=function(){var cy,cz;cy=b_.Map(function(cA){return cA.premisas;},bt.modeloV().get_View());cz=b_.Map(function(cA){return cA.aliados;},bt.modeloV().get_View());b_.Map2(function(cA,cB){return bQ.tryFind(function(cC){return bX.Equals(cC.id,cA);},cB);},b_.Map(function(cA){return cA.idAliado;},bt.modeloV().get_View()),cz);return bt.selAliadoIdDoc(function(cA){var cB,cC,cD,cE,cF;cB=b_.Map2(bo.comision,cy,cA);cC=b_.Map2(bo.premisas,cy,cA);return(cD=cc.Make().WithHole({$:2,$0:"referidos",$1:b_.Map(function(cG){return(function(cH){return function(cI){return cH(a.String(cI));};}(a.id))(cG.nReferidos);},cA)}).WithHole({$:2,$0:"refactivos",$1:b_.Map(function(cG){return(function(cH){return function(cI){return cH(a.String(cI));};}(a.id))(cG.nRefActivos);},cA)}).WithHole({$:2,$0:"comreferido",$1:b_.Map(function(cG){return(function(cH){return function(cI){return cH(a.String(cI));};}(a.id))(cG.nRefActivos);},cA)}).WithHole({$:2,$0:"descendientes",$1:b_.Map(function(cG){return(function(cH){return function(cI){return cH(a.String(cI));};}(a.id))(cG.nDescendientes);},cA)}).WithHole({$:2,$0:"desactivos",$1:b_.Map(function(cG){return(function(cH){return function(cI){return cH(a.String(cI));};}(a.id))(cG.nDescActivos);},cA)}).WithHole({$:2,$0:"comision",$1:b_.Map(function(cG){return bt.money(cG[0]+cG[1]);},cB)}).WithHole({$:2,$0:"comreferido",$1:b_.Map(function(cG){return bt.money(cG[0]);},cB)}).WithHole({$:2,$0:"comdescendiente",$1:b_.Map(function(cG){return bt.money(cG[1]);},cB)}).WithHole({$:2,$0:"porreferido",$1:b_.Map(function(cG){return bt.money(cG[0]);},cC)}).WithHole({$:2,$0:"pordescendiente",$1:b_.Map(function(cG){return bt.money(cG[1]);},cC)}),(cE=cd.CompleteHoles(cD.k,cD.h,[]),(cF=new ce.New(cE[1],bL.calculo(cE[0])),(cD.i=cF,cF)))).get_Doc();});};bt.refrescarData=function(){var cy;bs.iterA((cy=I.asyncResultM(),cy.Run(cy.Delay(function(){return cy.Bind$4((new cj.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.leerDataModelo:512161386",[bt.refAliadoIdOV().Get()]),function(cz){bt.modeloV().Set(cz);return cy.Zero();});}))));};bt.selAliadoIdDoc=function(cy){var cz;return b9.BindView(a.id,(cz=b_.get_Do(),b_.Bind(function(cA){return b_.Bind(function(cB){var cC,cD;cC=cB==null?null:(cD=cB.$0,bQ.tryFind(function(cE){return bX.Equals(cE.id,cD);},cA.aliados));return b_.Const(cC!=null&&cC.$==1?cy(b_.Const(cC.$0)):b9.get_Empty());},bt.selAliadoIdOV().get_View());},bt.modeloV().get_View())));};bt.aliadoW=function(){bI.$cctor();return bI.aliadoW;};bt.aliadoIdDoc=function(cy){var cz;return b9.BindView(a.id,(cz=b_.get_Do(),b_.Bind(function(cA){var cB,cC;cB=cA.idAliado;cC=bQ.tryFind(function(cD){return bX.Equals(cD.id,cB);},cA.aliados);return b_.Const(cC!=null&&cC.$==1?cy(b_.Const(cC.$0)):b9.get_Empty());},bt.modeloV().get_View())));};bt.contentVar=function(){bI.$cctor();return bI.contentVar;};bt.endPointV=function(){bI.$cctor();return bI.endPointV;};bt.money=function(cy){return"$"+bt.separate(a.String(cy),bR.T.Empty);};bt.separate=function(cy,cz){var cA;while(true)if(cy==="")return(function(cB){return function(cC){return bP.concat(cB,cC);};}(","))(cz);else{cA=cy;cy=c["String.Left$1"](cA,-3);cz=new bR.T({$:1,$0:c["String.Right$1"](cA,3),$1:cz});}};bt.refAliadoIdOV=function(){bI.$cctor();return bI.refAliadoIdOV;};bt.selAliadoIdOV=function(){bI.$cctor();return bI.selAliadoIdOV;};bt.modeloV=function(){bI.$cctor();return bI.modeloV;};bG.mainProgramLoggedOff=function(cy){bt.refAliadoIdOV().Set({$:1,$0:cy});bG.mainProgram();};bG.mainProgram=function(){var cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM;cy=cf.Create$1("Prozper");cz=b_.Map(function(cN){return bG.mesToString(cN.periodoActual);},bt.modeloV().get_View());cA=b_.Map(function(cN){return a.String(cN.anoActual);},bt.modeloV().get_View());cB=b_.Map(function(cN){return bo.nombre2(cN.datosPersonales);},bt.aliadoW());cC=b_.Map(function(cN){return a.String(cN.status);},bt.aliadoW());cD=b_.Map(function(cN){return a.String(cN.comision);},bt.aliadoW());cE=b_.Map(function(cN){return a.String(cN.nReferidos);},bt.aliadoW());cm.addPlugIn(cn.New("Prozper",[cm.newVar("title",cy),cm.newVar("contentVar",bt.contentVar())],[cm.newViw("mesActual",cz),cm.newViw("anoActual",cA),cm.newViw("aliado",cB),cm.newViw("status",cC),cm.newViw("comision",cD),cm.newViw("datos",cE)],[cm.newDoc("Aliados",co.Create(bE.aliados)),cm.newDoc("Aliado",co.Create(bF.aliado)),cm.newDoc("Calculo",co.Create(bF.calculo)),cm.newDoc("FormaRegistro",co.Create(bA.formaDoc)),cm.newDoc("FormaDatos",co.Create(bB.formaDoc)),cm.newDoc("FormaContactos",co.Create(bD.formaDoc)),cm.newDoc("contentDoc",co.Create(bG.getContentDoc))],[cm.newAct("Logout",function(){bG.logout();})],[]));cp.addLayout((cF=(cG=self.document.getElementById("GlobalLayout"),bX.Equals(cG,null)?"\r\n                    menuEditor       horizontal  65       menuLogo                  editorMessages\r\n                    double           horizontal  0-50-100 AppFramework.AppFwkClient menuEditor\r\n                    menuLogo         vertical    350      logo                      menu\r\n                    logo             span       \"margin:0; color:gray; font-size: 55px; font-weight:530\" \"F# Station\"\r\n                    editorMessages   horizontal 10-83-100 editorButtons             messages\r\n                    messages         vertical   0-50-100  messagesLeft              messagesRight\r\n                    editorButtons    vertical -200 snippetsSnippet buttons\r\n                    buttons div      \"overflow: hidden; display: grid; grid-template-columns: 100%; grid-template-rows: repeat(15, calc(100% / 15)); bxackground-color: #eee; box-sizing: border-box; padding : 5px; grid-gap: 5px; margin-right: 21px\" btnSaveAs none x btnAddSnippet btnDeleteSnippet btnIndentIn btnIndentOut none x btnRunFS none x btnAbortFsi\r\n                    snippetsSnippet  vertical   0-20-100  snippets                  editorProperties\r\n                    snippets         horizontal 20        \"${FSharpStation.CurrentPath}\" FSharpStation.Snippets\r\n                    editorProperties vertical   0-100-100 snippet                   properties\r\n                    properties       div        \"\"        FSharpStation.Properties\r\n                    snippet          horizontal 35        Name                      FSharpStation.editor\r\n                    menu             span  \"\" btnLoad btnImport\r\n        \r\n                    btnSaveAs        button FSharpStation.SaveAs         \"class=btn ${FSharpStation.SaveNeeded}\" \"Save as...    \"\r\n                    btnAddDimension  button RuleEditor.AddDimension      \"\"                  \"Add Dimension \"\r\n                    btnDeleteSnippet button FSharpStation.RemoveSnippet  \"\"                  \"Delete Snippet\"\r\n                    btnIndentIn      button FSharpStation.IndentIn       \"\"                  \"Indent In  >> \"\r\n                    btnIndentOut     button FSharpStation.IndentOut      \"\"                  \"Indent Out << \"\r\n                    btnRunFS         button FSharpStation.RunFS          \"\"                  \"Run F#        \"\r\n                    btnAbortFsi      button FSharpStation.AbortFsi       \"\"                  \"Abort Fsi     \"\r\n        \r\n                    messagesLeft     wcomp-tabstrip                      \"\"                  Output FsCode\r\n                    messagesRight    wcomp-tabstrip                      \"\"                  Parser\r\n        \r\n                    Output           textarea  FSharpStation.Output      \"tabname=Output ; placeholder=Output messages ; spellcheck=false\" \r\n                    FsCode           textarea  FSharpStation.FsCode      \"tabname=F# Code; placeholder=F# Code         ; spellcheck=false\" \r\n                    Parser           textarea  FSharpStation.Parser      \"tabname=Parser ; placeholder=Parser messages; dblclick=${FSharpStation.JumpTo} ; spellcheck=false\" \r\n                    Name             Doc       InputLabel                \"\"     \"Name:\"        FSharpStation.SnippetName\r\n                    btnLoad          Doc       InputFile                 \"\"     \"Load File...\" FSharpStation.LoadFile  FileName\r\n                    btnImport        Doc       InputFile                 \"\"     \"Import...\"    FSharpStation.Import    \"\"\r\n                    FileName         div                                 \"class=form-control\"  FSharpStation.fileName\r\n                   ":cG.textContent),cp.newLyt(bG.layoutName(),cF)));cH=(cI=null,(cJ=bG.layoutName(),cI==null?cJ:cI.$0));cm.mainDocV().Set(cH);bt.refrescarData();cK=(cL=cm.getMainDoc().f(),cc.Make().WithHole({$:0,$0:"maincontent",$1:cL}));cM=cd.CompleteHoles(cK.k,cK.h,[]);cK.i=new ce.New(cM[1],cr.RunFullDocTemplate(cM[0]));b_.Sink(function(cN){self.document.title=cN;},cy.get_View());};bG.getContentDoc=function(){return b9.EmbedView(b_.Map(function(cy){var cz,cA,cB;cz=(cA=(cB=((cp.splitName())("Prozper"))(cy),cm.tryGetDoc(cB[0],cB[1])),cA==null?null:{$:1,$0:cp.getDocFinal(bR.T.Empty,cA.$0)});return cz==null?cp.errDoc((function(cC){return function(cD){return cC("Doc not found "+bO.toSafe(cD));};}(a.id))(cy)):cz.$0;},bt.contentVar().get_View()));};bG.logout=function(){var cy;bs.iterA((cy=I.asyncResultM(),cy.Run(cy.Delay(function(){return cy.Bind$4((new cj.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.logoutUser:933851348",[]),function(){self.location.replace("/");return cy.Zero();});}))));};bG.mesToString=function(cy){return cy===1?"Ene":cy===2?"Feb":cy===3?"Mar":cy===4?"Abr":cy===5?"May":cy===6?"Jun":cy===7?"Jul":cy===8?"Ago":cy===9?"Sep":cy===10?"Oct":cy===11?"Nov":cy===12?"Dic":"---";};bG.scrollToBottom=function(cy,cz){var cA;bT.Start((cA=null,bT.Delay(function(){return bT.Bind(bT.Sleep(100),function(){cy.scrollTop=cy.scrollHeight;return bT.Zero();});})),null);};bG.layoutName=function(){bI.$cctor();return bI.layoutName;};bH.content$6276$35=function(){return function(cy){var cz;if(cy.Vars.Hole("username").Get()!==""&&cy.Vars.Hole("password").Get()!==""){bs.iterA((cz=I.asyncResultM(),cz.Run(cz.Delay(function(){return cz.Bind$4((new cj.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.loginUser:-1419667674",[cy.Vars.Hole("username").Get(),cy.Vars.Hole("password").Get()]),function(){self.location.reload();return cz.Zero();});}))));}};};bH.content$6266$62=function(){bG.mainProgram();return b9.TextNode("Initialized");};bH.content$6254$58=function(cy){bG.mainProgramLoggedOff(cy);return b9.TextNode("Initialized");};bI.$cctor=function(){var cy,cz,cA,cB,cC,cD,cE;bI.$cctor=a.ignore;function cF(cK){return bP.concat("\n",cK);}function cG(cK){return J.splitByChar$1("\n",cK);}function cH(cK){var cL,cM;return bZ.array(cK,{$:1,$0:0},{$:1,$0:(cL=0,(cM=bS.length(cK)-2,bX.Compare(cL,cM)===1?cL:cM))});}function cI(cK){return bP.concat("\n",cK);}function cJ(cK){return cK+"T00:00:00";}bI.rtn=function(cK){return[cK];};bI.result=new n.New();bI.result$1=m.result();bI.eff=new u.New();bI.resultM=new D.New();bI.asyncResultM=new H.New();bI.unindentStr=function(cK){return cF(J.unindent$1(cK));};bI.skipLastLine=(cy=function(cK){return cH(cG(cK));},function(cK){return cI(cy(cK));});bI.parseDateO2=(cz=M.tryParseWith$1(function(cK){var cL,cM;cL=0;return[(cM=cs.TryParse(cK),cM!=null&&cM.$==1&&(cL=cM.$0,true)),cL];}),function(cK){return cz(cJ(cK));});bI.parseDateO=M.tryParseWith$1(function(cK){var cL,cM;cL=0;return[(cM=cs.TryParse(cK),cM!=null&&cM.$==1&&(cL=cM.$0,true)),cL];});bI.parseIntO=M.tryParseWith$1(function(cK){var cL;cL=0;return[ct.TryParseInt32(cK,{get:function(){return cL;},set:function(cM){cL=cM;}}),cL];});bI.parseSingleO=M.tryParseWith$1(function(cK){var cL,cM;cL=0;return[(cM=a.Number(cK),a.isNaN(cM)?false:(cL=cM,true)),cL];});bI.parseDoubleO=M.tryParseWith$1(function(cK){var cL,cM;cL=0;return[(cM=a.Number(cK),a.isNaN(cM)?false:(cL=cM,true)),cL];});bI.parseGuidO=M.tryParseWith$1(function(cK){var cL;cL=null;return[ch.TryParse(cK,{get:function(){return cL;},set:function(cM){cL=cM;}}),cL];});bI["|Date|_|"]=M.parseDateO$1();bI["|Int|_|"]=M.parseIntO$1();bI["|Single|_|"]=M.parseSingleO$1();bI["|Double|_|"]=M.parseDoubleO$1();bI["|Guid|_|"]=M.parseGuidO$1();bI.serString=[N.toJsonString,function(cK){return cK.tryString();}];bI.serFloat=[function(cK){return(function(cL){return function(cM){return cL(bO.prettyPrint(cM));};}(a.id))(cK);},function(cK){return cK.tryFloat();}];bI.serInt=[function(cK){return(function(cL){return function(cM){return cL(bO.prettyPrint(cM));};}(a.id))(cK);},function(cK){return cK.tryInt();}];bI.serBool=[function(cK){return(function(cL){return function(cM){return cL(bO.prettyPrint(cM));};}(a.id))(cK);},function(cK){return cK.tryBool();}];bI.rootdir="..\\website";bI.TemplatesFileName="..\\website"+"\\Templates.html";bI.LoginFileName="..\\website"+"\\Login.html";((function(cK){return function(cL){return cK(bO.toSafe(cL));};}(function(cK){bY.log(cK);}))("..\\website\\Templates.html"));bI.someContext=null;bI.premisasCalculo=bh.New(15,25,25,0,75,31,15,22);bI.telVacio=ba.New($.Movil,"","","","",false);bI.dirVacio=_9.New(_7.Habitacion,"","","",new _0({$:2,$0:""}),new Z({$:3,$0:""}),new _8({$:0,$0:""}));bI.correoVacio=bl.New("",true,true,null,null);bI.empty=bm.New({$:0,$0:""},null,bc.New(null,"","","","",Z.USA,bb.Masculino,(new a.Date(2000,1-1,1)).getTime()),[],[],[],[],[],false,_4.Inactivo,Y.Regular,(new a.Date(2000,1-1,1)).getTime(),(new a.Date(2000,1-1,1)).getTime(),0,0,0,0,0,0);bI.modeloV=cf.Create$1(bn.New({$:0,$0:":"},[],(cA=cu.now(),(new cu(cA)).getFullYear()),(cB=cu.now(),(new cu(cB)).getMonth()+1),W.premisasCalculo(),-2));bI.selAliadoIdOV=cf.Create$1(null);bI.refAliadoIdOV=cf.Create$1(null);bI.endPointV=cf.Create$1(bu.DefaultEP);bI.contentVar=cf.Create$1("ProzperLyt.mainContent");cC=bJ.r();cv.InstallHashInto(bt.endPointV(),bu.DefaultEP,cC);b_.Sink(function(cK){var cL;cL=bX.Equals(bt.refAliadoIdOV().Get(),null)?cK:"ProzperLyt.cntFormaRegistro";bt.contentVar().Get()!==cL?bt.contentVar().Set(cL):void 0;},b_.Map(function(cK){return cK.$==1?cK.$0:"ProzperLyt.mainContent";},bt.endPointV().get_View()));b_.Sink(function(cK){if(!bX.Equals(bt.endPointV().Get(),cK))bt.endPointV().Set(cK);},b_.Map(function(cK){return cK==="ProzperLyt.mainContent"?bu.DefaultEP:{$:1,$0:cK};},bt.contentVar().get_View()));bI.aliadoW=(cD=b_.get_Do(),b_.Bind(function(cK){var cL,cM;cL=cK.idAliado;cM=bQ.tryFind(function(cN){return bX.Equals(cN.id,cL);},cK.aliados);return b_.Const(cM!=null&&cM.$==1?cM.$0:bo.empty());},bt.modeloV().get_View()));bI.paises=cf.Create$1([]);bI.estados=cf.Create$1([]);bI.tiposDir=cf.Create$1([]);bI.tiposTel=cf.Create$1([]);bI.generos=cf.Create$1([]);bT.Start((cE=null,bT.Delay(function(){return bT.Bind((new cj.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.obtenerUnions:1415050208",[]),function(cK){bv.paises().Set(cK[0]);bv.estados().Set(cK[1]);bv.tiposDir().Set(cK[2]);bv.tiposTel().Set(cK[3]);bv.generos().Set(cK[4]);return bT.Zero();});})),null);bI.ftel=[function(cK){return cK.$==2?{$:1,$0:cK.$0}:null;},function(cK){return{$:2,$0:cK};}];bI.fcor=[function(cK){return cK.$==1?{$:1,$0:cK.$0}:null;},function(cK){return{$:1,$0:cK};}];bI.fdir=[function(cK){return cK.$==0?{$:1,$0:cK.$0}:null;},function(cK){return{$:0,$0:cK};}];bI.layoutName="ProzperLyt";};bJ.r=function(){return cx.JSUnion(void 0,[[null,[[null,[]]],[]],[null,[[null,["Content"]]],[cx.rString()]]]);};bK.p=function(cy){return cy.$==1?"Regular":"Master";};bK.p$1=function(cy){return cy.$==3?"OtroP "+bO.prettyPrint(cy.$0):cy.$==2?"Argentina":cy.$==1?"Venezuela":"USA";};bK.p$2=function(cy){return cy.$==2?"OtroS "+bO.prettyPrint(cy.$0):cy.$==1?"Florida":"Texas";};bK.p$3=function(cy){return cy.$==1?"Inactivo":"Activo";};bK.p$4=function(cy){return cy.$==2?"Otro "+bO.prettyPrint(cy.$0):cy.$==1?"PagoComision":"PagoAfiliacion";};bK.p$5=function(cy){return cy.$==3?"Otro "+bO.prettyPrint(cy.$0):cy.$==2?"ServicioPostal":cy.$==1?"Oficina":"Habitacion";};bK.p$6=function(cy){return cy.$==3?"Voip":cy.$==2?"Habitacion":cy.$==1?"Oficina":"Movil";};bK.p$7=function(cy){return"IdAliado "+bO.prettyPrint(cy.$0);};bL.telefono=function(cy){cr.LoadLocalTemplates("templates");return cy?cr.NamedTemplate("templates",{$:1,$0:"telefono"},cy):void 0;};bL.correo=function(cy){cr.LoadLocalTemplates("templates");return cy?cr.NamedTemplate("templates",{$:1,$0:"correo"},cy):void 0;};bL.direccion=function(cy){cr.LoadLocalTemplates("templates");return cy?cr.NamedTemplate("templates",{$:1,$0:"direccion"},cy):void 0;};bL.datospersonales=function(cy){cr.LoadLocalTemplates("templates");return cy?cr.NamedTemplate("templates",{$:1,$0:"datospersonales"},cy):void 0;};bK.p$8=function(cy){return cy.$==2?"Empresa":cy.$==1?"Femenino":"Masculino";};bK.p$9=function(cy){return cy.$==2?"Mensaje "+bO.prettyPrint(cy.$0):cy.$==1?"NuevoRegistro "+bO.prettyPrint(cy.$0):"ROk";};bL.formaregistro=function(cy){cr.LoadLocalTemplates("templates");return cy?cr.NamedTemplate("templates",{$:1,$0:"formaregistro"},cy):void 0;};bL.formadatospersonales=function(cy){cr.LoadLocalTemplates("templates");return cy?cr.NamedTemplate("templates",{$:1,$0:"formadatospersonales"},cy):void 0;};bL.formagenerica=function(cy){cr.LoadLocalTemplates("templates");return cy?cr.NamedTemplate("templates",{$:1,$0:"formagenerica"},cy):void 0;};bL.formacontactos=function(cy){cr.LoadLocalTemplates("templates");return cy?cr.NamedTemplate("templates",{$:1,$0:"formacontactos"},cy):void 0;};bL.tablaaliados=function(cy){cr.LoadLocalTemplates("templates");return cy?cr.NamedTemplate("templates",{$:1,$0:"tablaaliados"},cy):void 0;};bL.filaaliado=function(cy){cr.LoadLocalTemplates("templates");return cy?cr.NamedTemplate("templates",{$:1,$0:"filaaliado"},cy):void 0;};bL.aliado=function(cy){cr.LoadLocalTemplates("templates");return cy?cr.NamedTemplate("templates",{$:1,$0:"aliado"},cy):void 0;};bL.calculo=function(cy){cr.LoadLocalTemplates("templates");return cy?cr.NamedTemplate("templates",{$:1,$0:"calculo"},cy):void 0;};}());

//# sourceMappingURL=StackOverflow.min.map