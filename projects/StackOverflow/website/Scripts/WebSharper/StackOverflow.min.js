(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd;a=self;b=a.FsRoot=a.FsRoot||{};c=b.Library=b.Library||{};d=c.ResultMessage=c.ResultMessage||{};e=c.ResultMessageHelpers=c.ResultMessageHelpers||{};f=c.Monads=c.Monads||{};g=f.Seq=f.Seq||{};h=f.Async=f.Async||{};i=a.WebSharper;j=i&&i.Obj;k=f.Result=f.Result||{};l=k.Builder=k.Builder||{};m=k.Operators=k.Operators||{};n=f.Eff=f.Eff||{};o=n.Eff=n.Eff||{};p=n.Done=n.Done||{};q=o.LambdaT=o.LambdaT||{};r=n.Operators=n.Operators||{};s=n.EffBuilder=n.EffBuilder||{};t=n.State=n.State||{};u=t.Put=t.Put||{};v=t.Get=t.Get||{};w=n.Log=n.Log||{};x=w.LogEntry=w.LogEntry||{};y=n.Rsl=n.Rsl||{};z=y.Fail=y.Fail||{};A=f.ResultM=f.ResultM||{};B=A.Builder=A.Builder||{};C=A.Operators=A.Operators||{};D=f.ResultMAutoOpen=f.ResultMAutoOpen||{};E=f.AsyncResultM=f.AsyncResultM||{};F=E.AsyncResultMBuilder=E.AsyncResultMBuilder||{};G=f.AsyncResultMAutoOpen=f.AsyncResultMAutoOpen||{};H=c.String=c.String||{};I=c.SortWith=c.SortWith||{};J=c.ParseO=c.ParseO||{};K=c.Serializer=c.Serializer||{};L=K.JsonIntermediate=K.JsonIntermediate||{};M=c.MailboxProcessorExt=c.MailboxProcessorExt||{};N=c.Mailbox=c.Mailbox||{};O=N.StateFull=N.StateFull||{};P=b.StackOverflow=b.StackOverflow||{};Q=P.Templating=P.Templating||{};R=P.TipoAliado=P.TipoAliado||{};S=P.Pais=P.Pais||{};T=P.Estado=P.Estado||{};U=P.Identificacion=P.Identificacion||{};V=P.TipoCuenta=P.TipoCuenta||{};W=P.CuentaBancaria=P.CuentaBancaria||{};X=P.StatusAliado=P.StatusAliado||{};Y=P.ConceptoPago=P.ConceptoPago||{};Z=P.Transaccion=P.Transaccion||{};_0=P.TipoDireccion=P.TipoDireccion||{};_1=P.Direccion=P.Direccion||{};_2=P.TipoTelefono=P.TipoTelefono||{};_3=P.Telefono=P.Telefono||{};_4=P.Genero=P.Genero||{};_5=P.DatosPersonales=P.DatosPersonales||{};_6=P.TipoMensaje=P.TipoMensaje||{};_7=P.Remitente=P.Remitente||{};_8=P.Mensaje=P.Mensaje||{};_9=P.Aliado=P.Aliado||{};_=P.PremisasCalculo=P.PremisasCalculo||{};$=P.Modelo=P.Modelo||{};ba=P.AliadoModule=P.AliadoModule||{};bb=ba.Buscar=ba.Buscar||{};bc=P.Evento=P.Evento||{};bd=P.Respuesta=P.Respuesta||{};be=P.Eventos=P.Eventos||{};bf=P.Rpc=P.Rpc||{};bg=P.ModeloUI=P.ModeloUI||{};bh=bg.EndPoint=bg.EndPoint||{};bi=P.TelefonoModule=P.TelefonoModule||{};bj=P.FormaRegistro=P.FormaRegistro||{};bk=P.RenderAliados=P.RenderAliados||{};bl=P.RenderAliado=P.RenderAliado||{};bm=P.MainProgram=P.MainProgram||{};bn=P.Server=P.Server||{};bo=a.StartupCode$StackOverflow$StackOverflow=a.StartupCode$StackOverflow$StackOverflow||{};bp=a.StackOverflow_Router=a.StackOverflow_Router||{};bq=a.StackOverflow_GeneratedPrintf=a.StackOverflow_GeneratedPrintf||{};br=a.GeneratedPrintf=a.GeneratedPrintf||{};bs=a.StackOverflow_Templates=a.StackOverflow_Templates||{};bt=a.IntelliFactory;bu=bt&&bt.Runtime;bv=i&&i.Utils;bw=i&&i.Strings;bx=i&&i.Seq;by=i&&i.List;bz=i&&i.Arrays;bA=i&&i.Concurrency;bB=i&&i.Enumerator;bC=i&&i.Result;bD=i&&i.Operators;bE=i&&i.Unchecked;bF=a.console;bG=i&&i.Slice;bH=i&&i.Collections;bI=bH&&bH.FSharpMap;bJ=bH&&bH.FSharpSet;bK=bH&&bH.BalancedTree;bL=i&&i.Control;bM=bL&&bL.MailboxProcessor;bN=i&&i.CancellationTokenSource;bO=bH&&bH.Dictionary;bP=a.Date;bQ=a.System;bR=bQ&&bQ.Guid;bS=i&&i.UI;bT=bS&&bS.Templating;bU=bT&&bT.Runtime;bV=bU&&bU.Server;bW=bV&&bV.ProviderBuilder;bX=bV&&bV.Handler;bY=bV&&bV.TemplateInstance;bZ=bS&&bS.View;b0=i&&i.Remoting;b1=b0&&b0.AjaxRemotingProvider;b2=bS&&bS.Var$1;b3=bS&&bS.Doc;b4=b&&b.LibraryJS;b5=b4&&b4.AppFramework;b6=b5&&b5.PlugIn;b7=i&&i.Lazy;b8=b4&&b4.LayoutEngineModule;b9=bS&&bS.Client;b_=b9&&b9.Templates;b$=i&&i.DateUtil;ca=i&&i.Numeric;cb=bS&&bS.Router;cc=i&&i.Sitelets;cd=cc&&cc.RouterOperators;d=c.ResultMessage=bu.Class({toString:function(){return this.$==1?(function(ce){return function(cf){return ce("Error    : "+bv.toSafe(cf));};}(a.id))(this.$0):this.$==2?(function(ce){return function(cf){return ce("Warning  : "+bv.toSafe(cf));};}(a.id))(this.$0):this.$==3?this.$0:this.$==4?(function(ce){return function(cf){return ce(a.String(cf));};}(a.id))(this.$0):this.$==5?(((bu.Curried3(function(ce,cf,cg){return ce("Exception: "+bv.toSafe(cf)+", "+bv.toSafe(cg));}))(a.id))(this.$0))(this.$1):this.$==6?bw.concat("\n",bx.map(a.String,bx.filter(function(ce){return ce.$!=0;},this.$0))):"";}},null,d);d.NoMsg=new d({$:0});e.infof=function(ce){return ce(function(cf){return new d({$:3,$0:cf});});};e.warningf=function(ce){return ce(function(cf){return new d({$:2,$0:cf});});};e.errorMsgf=function(ce){return ce(function(cf){return new d({$:1,$0:cf});});};d.summarizedI=function(ce){return d.summarizedF(function(){return[0,0,1];},ce);};d.summarizedW=function(ce){return d.summarizedF(function(){return[0,1,0];},ce);};d.summarized=function(ce){return d.summarizedF(function(){return[1,0,0];},ce);};d.summarizedF=function(ce,cf){return bw.concat("\n",bx.filter(function(cg){return""!==cg;},by.ofArray([a.String(cf),d.summaryF(ce,cf)])));};d.summaryF=function(ce,cf){var cg,ch;ch=d.countF(ce,cf);switch(ch[0]===0?ch[1]===0?0:ch[1]===1?ch[2]===0?0:(cg=ch[1],2):(cg=ch[1],2):ch[0]===1?ch[1]===0?ch[2]===0?0:(cg=ch[0],1):(cg=[ch[0],ch[1]],3):ch[1]===0?(cg=ch[0],1):(cg=[ch[0],ch[1]],3)){case 0:return"";case 1:return(function(ci){return function(cj){return ci("Errors   : "+a.String(cj)+"\n");};}(a.id))(cg);case 2:return(function(ci){return function(cj){return ci("Warnings : "+a.String(cj)+"\n");};}(a.id))(cg);case 3:return(((bu.Curried3(function(ci,cj,ck){return ci("Errors   : "+a.String(cj)+", Warnings: "+a.String(ck)+"\n");}))(a.id))(cg[0]))(cg[1]);}};d.reduceMsgs=function(ce){return bx.fold(d.addMsg,d.NoMsg,ce);};d.addMsg=function(ce,cf){return ce.$==0?cf:ce.$==6?cf.$==0?ce:cf.$==6?new d({$:6,$0:ce.$0.concat(cf.$0)}):new d({$:6,$0:ce.$0.concat([cf])}):cf.$==0?ce:cf.$==6?new d({$:6,$0:[ce].concat(cf.$0)}):new d({$:6,$0:[ce,cf]});};d.countI=function(ce){return d.countF(function(){return[0,0,1];},ce);};d.countW=function(ce){return d.countF(function(){return[0,1,0];},ce);};d.count=function(ce){return d.countF(function(){return[1,0,0];},ce);};d.countF=function(ce,cf){function cg(ch,ci,cj){return function(ck){return[ch+ck[0],ci+ck[1],cj+ck[2]];};}return cf.$==0?[0,0,0]:cf.$==3?[0,0,1]:cf.$==2?[0,1,0]:cf.$==4?ce(cf.$0):cf.$==6?bx.fold(function(ch,ci){return(function(cj){return cg(cj[0],cj[1],cj[2]);}(ch))(ci);},[0,0,0],bx.map(function(ch){return d.countF(ce,ch);},d.exclnoMsg(cf.$0))):[1,0,0];};d.isFatalW=function(ce){return d.isFatalF(function(){return false;},ce);};d.isFatal=function(ce){return d.isFatalF(function(){return true;},ce);};d.isFatalF=function(ce,cf){return cf.$==0?false:cf.$==3?false:cf.$==2?false:cf.$==4?ce(cf.$0):cf.$==6?bx.exists(function(cg){return d.isFatalF(ce,cg);},cf.$0):true;};d.isWarningOrInfoW=function(ce){return d.isWarningOrInfoF(function(){return true;},ce);};d.isWarningOrInfo=function(ce){return d.isWarningOrInfoF(function(){return false;},ce);};d.isWarningOrInfoF=function(ce,cf){return cf.$==2||(cf.$==4?ce(cf.$0):cf.$==6&&bx.forall(function(cg){return d.isWarningOrInfoF(ce,cg)||d.isInfoF(ce,cg);},d.exclnoMsg(cf.$0)));};d.isInfoI=function(ce){return d.isInfoF(function(){return true;},ce);};d.isInfo=function(ce){return d.isInfoF(function(){return false;},ce);};d.isInfoF=function(ce,cf){return cf.$==3||(cf.$==4?ce(cf.$0):cf.$==6&&bx.forall(function(cg){return d.isInfoF(ce,cg);},d.exclnoMsg(cf.$0)));};d.freeMessageI=function(ce){var cf;function cg(ch){return new d({$:3,$0:ch});}return d.freeMessageF((cf=function(ch){return function(ci){return ch(a.String(ci));};}(a.id),function(ch){return cg(cf(ch));}),ce);};d.freeMessageW=function(ce){var cf;function cg(ch){return new d({$:2,$0:ch});}return d.freeMessageF((cf=function(ch){return function(ci){return ch(a.String(ci));};}(a.id),function(ch){return cg(cf(ch));}),ce);};d.freeMessage=function(ce){var cf;function cg(ch){return new d({$:1,$0:ch});}return d.freeMessageF((cf=function(ch){return function(ci){return ch(a.String(ci));};}(a.id),function(ch){return cg(cf(ch));}),ce);};d.freeMessageF=function(ce,cf){return d.bindMessage(ce,cf);};d.bindMessage=function(ce,cf){return cf.$==4?ce(cf.$0):cf.$==1?new d({$:1,$0:cf.$0}):cf.$==3?new d({$:3,$0:cf.$0}):cf.$==2?new d({$:2,$0:cf.$0}):cf.$==5?new d({$:5,$0:cf.$0,$1:cf.$1}):cf.$==6?new d({$:6,$0:bz.map(function(cg){return d.bindMessage(ce,cg);},cf.$0)}):d.NoMsg;};d.exclnoMsg=function(ce){function cf(cg){return!cg;}return bx.filter(function(cg){return cf(d.noMsg(cg));},ce);};d.noMsg=function(ce){return ce.$==0;};g.ofOption=function(ce){return ce==null?[]:[ce.$0];};g.absorbR=function(ce){return bx.choose(function(cf){return cf.$==0?{$:1,$0:cf.$0}:null;},ce);};g.absorbO=function(ce){return bx.choose(a.id,ce);};g.insertR=function(ce){return ce.$==0?bx.map(function(cf){return{$:0,$0:cf};},ce.$0):(g.rtn())(c.Error$1(ce.$0));};g.insertO=function(ce){var cf;cf=ce==null?null:{$:1,$0:bx.map(function(cg){return{$:1,$0:cg};},ce.$0)};return cf==null?(g.rtn())(null):cf.$0;};g.rtn=function(){bo.$cctor();return bo.rtn;};h.insertR=function(ce){function cf(ch){return{$:0,$0:ch};}function cg(ch){return bA.Return(ch);}return ce.$==0?bA.Bind(ce.$0,function(ch){return cg(cf(ch));}):bA.Return(c.Error$1(ce.$0));};h.insertO=function(ce){var cf;function cg(ci){return{$:1,$0:ci};}function ch(ci){return bA.Return(ci);}cf=ce==null?null:{$:1,$0:bA.Bind(ce.$0,function(ci){return ch(cg(ci));})};return cf==null?bA.Return(null):cf.$0;};h.sequenceSeq=function(ce){return h.traverseSeq(a.id,ce);};h.traverseSeq=function(ce,cf){function cg(ch){return bA.Return(ch);}return bA.Bind(bz.foldBack(function(ch,ci){return h.op_GreaterGreaterEquals(ce(ch),function(cj){return h.op_GreaterGreaterEquals(ci,function(ck){return bA.Return(new by.T({$:1,$0:cj,$1:ck}));});});},bz.ofSeq(cf),bA.Return(by.T.Empty)),function(ch){return cg(a.id(ch));});};h.op_GreaterGreaterEquals=function(ce,cf){return bA.Bind(ce,cf);};h.sleepThen=function(ce,cf){var cg;cg=null;return bA.Delay(function(){return bA.Bind(bA.Sleep(cf),function(){return bA.Return(ce());});});};h.apply=function(ce,cf){var cg;cg=null;return bA.Delay(function(){return bA.Bind(bA.StartChild(ce,null),function(ch){return bA.Bind(bA.StartChild(cf,null),function(ci){return bA.Bind(ch,function(cj){return bA.Bind(ci,function(ck){return bA.Return(cj(ck));});});});});});};l=k.Builder=bu.Class({For:function(ce,cf){var cg;cg=this;return this.Using(bB.Get(ce),function(ch){return cg.While(function(){return ch.MoveNext();},cg.Delay(function(){return cf(ch.Current());}));});},While:function(ce,cf){function cg(ch,ci){return ch()?bC.Bind(function(){return cg(ch,ci);},ci()):k.rtn();}return cg(ce,cf);},Using:function(ce,cf){try{return cf(ce);}finally{ce.Dispose();}},TryFinally:function(ce,cf){try{return ce();}finally{cf();}},TryWith:function(ce,cf){try{return ce();}catch(cg){return cf(cg);}},Run:function(ce){return k.bindP(ce,{$:0,$0:null});},Combine:function(ce,cf){return bC.Bind(cf,ce);},Delay:a.id,Zero:function(){return k.rtn();},Bind:function(ce,cf){return bC.Bind(cf,ce);},ReturnFrom:a.id,Return:function(ce){return k.rtn(ce);}},j,l);l.New=bu.Ctor(function(){j.New.call(this);},l);m.result=function(){bo.$cctor();return bo.result$1;};m.rtn=function(ce){return k.rtn(ce);};m.op_GreaterEqualsGreater=function(ce,cf,cg){return m.op_GreaterGreaterEquals(ce(cg),cf);};m.op_RightShift=function(ce,cf,cg){return m.op_BarGreaterGreater(ce(cg),cf);};m.op_GreaterGreaterEquals=function(ce,cf){return k.bindP(cf,ce);};m.op_BarGreaterGreater=function(ce,cf){return k.mapP(cf,ce);};k.result=function(){bo.$cctor();return bo.result;};k.sequenceSeq=function(ce){return k.traverseSeq(a.id,ce);};k.traverseSeq=function(ce,cf){return bC.Map(a.id,bz.foldBack(function(cg,ch){return k.op_GreaterGreaterEquals(ce(cg),function(ci){return k.op_GreaterGreaterEquals(ch,function(cj){return k.rtn(new by.T({$:1,$0:ci,$1:cj}));});});},bz.ofSeq(cf),k.rtn(by.T.Empty)));};k.op_GreaterGreaterEquals=function(ce,cf){return bC.Bind(cf,ce);};k.absorbO=function(ce,cf){return k.bindP(function(cg){return k.ofOption(ce,cg);},cf);};k.insertO=function(ce){var cf;cf=ce==null?null:{$:1,$0:bC.Map(function(cg){return{$:1,$0:cg};},ce.$0)};return cf==null?{$:0,$0:null}:cf.$0;};k.ofOption=function(ce,cf){var cg;cg=cf==null?null:{$:1,$0:{$:0,$0:cf.$0}};return cg==null?function(ch){return c.Error$1(ce(ch));}():cg.$0;};k.get=function(ce){return k.defaultWith(function(cf){return bD.FailWith(a.String(cf));},ce);};k.iter=function(ce,cf,cg){k.defaultWith(ce,k.mapP(cf,cg));};k.mapP=function(ce,cf){return k.bindP(function(cg){return k.rtn(ce(cg));},cf);};k.bindP=function(ce,cf){if(cf.$==1)return c.Error$1(cf.$0);else try{return ce(cf.$0);}catch(cg){return c.Error$1(new d({$:5,$0:cg.message,$1:cg.stack}));}};k.failIfFalse=function(ce,cf){return!cf?c.Error$1(ce):{$:0,$0:null};};k.failIfTrue=function(ce,cf){return cf?c.Error$1(ce):{$:0,$0:null};};k.defaultValue=function(ce,cf){return cf.$==1?ce:cf.$0;};k.defaultWith=function(ce,cf){return cf.$==1?ce(cf.$0):cf.$0;};k.toOption=function(ce){return ce.$==0?{$:1,$0:ce.$0}:null;};k.flatten=function(ce){return bC.Bind(a.id,ce);};k.join=function(ce){return bC.Bind(a.id,ce);};k.rtn=function(ce){return{$:0,$0:ce};};k.freeMessage=function(ce){return ce.$==1?c.Error$1(d.freeMessage(ce.$0)):{$:0,$0:ce.$0};};k.errorf=function(ce){return ce(c.Error$1);};o=n.Eff=bu.Class({get_Cont:function(){return this.$0;}},null,o);p=n.Done=bu.Class({get_Value:function(){return this.v;},FsRoot_Library_Monads_Eff_Effect$UnPack:function(ce){return this;}},j,p);p.New=bu.Ctor(function(ce){j.New.call(this);this.v=ce;},p);q=o.LambdaT=bu.Class({FsRoot_Library_Monads_Eff_Lambda$Invoke:function(ce){var cf;cf=this.loop;return function(cg){return cf(ce(cg));};}},j,q);q.New=bu.Ctor(function(ce){j.New.call(this);this.loop=ce;},q);o.runResult=function(ce){var cf;try{cf=(ce.get_Cont())(o["done'"]);return cf instanceof p?{$:0,$0:cf.get_Value()}:c.Error$1((e.errorMsgf(function(cg){return function(ch){return cg("Unhandled effect "+bv.prettyPrint(ch)+" expecting");};}))(cf));}catch(cg){return c.Error$1(new d({$:5,$0:cg.message,$1:cg.stack}));}};o.run=function(ce){var cf;cf=(ce.get_Cont())(o["done'"]);return cf instanceof p?cf.get_Value():(function(cg){return function(ch){return cg("Unhandled effect "+bv.prettyPrint(ch));};}(bD.FailWith))(cf);};o["return'"]=function(ce){return new o({$:0,$0:function(){return o["done'"](ce);}});};o["done'"]=function(ce){return new p.New(ce);};o.unpack=function(ce,cf){return cf.FsRoot_Library_Monads_Eff_Effect$UnPack(new q.New(ce));};r.rtn=function(ce){return n.rtn(ce);};r.op_GreaterEqualsGreater=function(ce,cf,cg){return r.op_GreaterGreaterEquals(ce(cg),cf);};r.op_RightShift=function(ce,cf,cg){return r.op_BarGreaterGreater(ce(cg),cf);};r.op_GreaterGreaterEquals=function(ce,cf){return n.bind(cf,ce);};r.op_BarGreaterGreater=function(ce,cf){return n.map(cf,ce);};r.op_LessMultiplyGreater=function(ce,cf){return n.apply(ce,cf);};s=n.EffBuilder=bu.Class({For:function(ce,cf){var cg;cg=this;return this.Using(bB.Get(ce),function(ch){return cg.While(function(){return ch.MoveNext();},function(){return cg.Delay(function(){return cf(ch.Current());});});});},Using:function(ce,cf){return this.TryFinally(function(){return cf(ce);},function(){if(!bE.Equals(ce,null))ce.Dispose();});},TryFinally:function(ce,cf){return new o({$:0,$0:function(cg){try{return ce().$0(cg);}finally{cf();}}});},TryWith:function(ce,cf){return new o({$:0,$0:function(cg){try{return ce().$0(cg);}catch(ch){return cf(ch).$0(cg);}}});},While:function(ce,cf){function cg(ch,ci){return ch()?n.bind(function(){return cg(ch,ci);},ci()):r.rtn();}return cg(ce,cf);},Delay:function(ce){return new o({$:0,$0:function(cf){return ce().$0(cf);}});},Combine:function(ce,cf){return this.Bind(ce,function(){return cf;});},Bind:function(ce,cf){return n.bind(cf,ce);},ReturnFrom:a.id,Return:function(ce){return r.rtn(ce);},Zero:function(){return r.rtn();}},j,s);s.New=bu.Ctor(function(){j.New.call(this);},s);u=t.Put=bu.Class({get_K:function(){return this.k;},get_Value:function(){return this.v;},FsRoot_Library_Monads_Eff_Effect$UnPack:function(ce){return new u.New(this.v,ce.FsRoot_Library_Monads_Eff_Lambda$Invoke(this.k));}},j,u);u.New=bu.Ctor(function(ce,cf){j.New.call(this);this.v=ce;this.k=cf;},u);v=t.Get=bu.Class({get_K:function(){return this.k;},FsRoot_Library_Monads_Eff_Effect$UnPack:function(ce){return new v.New(ce.FsRoot_Library_Monads_Eff_Lambda$Invoke(this.k));}},j,v);v.New=bu.Ctor(function(ce){j.New.call(this);this.k=ce;},v);t.refHandler=function(ce,cf){var cg;function ch(ci){return ci instanceof u?(cg[0]=ci.get_Value(),ch((ci.get_K())())):ci instanceof v?ch((ci.get_K())(cg[0])):o.unpack(ch,ci);}cg=[ce];return new o({$:0,$0:function(){return ch((cf.get_Cont())(o["done'"]));}});};t.stateHandler=function(ce,cf){function cg(ch,ci,cj){var ck;return cj instanceof p?ch([ci,cj.get_Value()]):cj instanceof u?(ck=(cj.get_K())(),cg(ch,cj.get_Value(),ck)):cj instanceof v?cg(ch,ci,(cj.get_K())(ci)):o.unpack(function(cl){return cg(ch,ci,cl);},cj);}return new o({$:0,$0:function(ch){return cg(ch,ce,(cf.get_Cont())(o["done'"]));}});};t.put=function(ce){return new o({$:0,$0:function(cf){return new u.New(ce,cf);}});};t.get=function(){return new o({$:0,$0:function(ce){return new v.New(ce);}});};x=w.LogEntry=bu.Class({get_K:function(){return this.k;},get_Value:function(){return this.v;},FsRoot_Library_Monads_Eff_Effect$UnPack:function(ce){return new x.New(this.v,ce.FsRoot_Library_Monads_Eff_Lambda$Invoke(this.k));}},j,x);x.New=bu.Ctor(function(ce,cf){j.New.call(this);this.v=ce;this.k=cf;},x);w.ignoreLogHandler=function(ce){function cf(cg){return cg instanceof x?cf((cg.get_K())()):o.unpack(cf,cg);}return new o({$:0,$0:function(){return cf((ce.get_Cont())(o["done'"]));}});};w.consoleLogHandler=function(ce){function cf(cg){return cg instanceof x?((function(ch){return function(ci){return ch("Log: "+bv.prettyPrint(ci));};}(function(ch){bF.log(ch);}))(cg.get_Value()),cf((cg.get_K())())):o.unpack(cf,cg);}return new o({$:0,$0:function(){return cf((ce.get_Cont())(o["done'"]));}});};w.pureLogHandler=function(ce){function cf(cg,ch,ci){var cj;return ci instanceof p?ch([ci.get_Value(),cg]):ci instanceof x?(cj=(ci.get_K())(),cf(new by.T({$:1,$0:ci.get_Value(),$1:cg}),ch,cj)):o.unpack(function(ck){return cf(cg,ch,ck);},ci);}return new o({$:0,$0:function(cg){return cf(by.T.Empty,cg,(ce.get_Cont())(o["done'"]));}});};w.logf=function(ce){return ce(w.log);};w.log=function(ce){return new o({$:0,$0:function(cf){return new x.New(ce,cf);}});};z=y.Fail=bu.Class({get_K:function(){return this.k;},get_Value:function(){return this.v;},FsRoot_Library_Monads_Eff_Effect$UnPack:function(ce){return new z.New(this.v,ce.FsRoot_Library_Monads_Eff_Lambda$Invoke(this.k));}},j,z);z.New=bu.Ctor(function(ce,cf){j.New.call(this);this.v=ce;this.k=cf;},z);y.absorbO=function(ce,cf){return y.absorbR(n.map(function(cg){return k.ofOption(ce,cg);},cf));};y.absorbR=function(ce){return n.bind(y.ofResult,ce);};y.RslHandler=function(ce){function cf(cg,ch){return ch instanceof p?cg({$:0,$0:ch.get_Value()}):ch instanceof z?cg(c.Error$1(ch.get_Value())):o.unpack(function(ci){return cf(cg,ci);},ch);}return new o({$:0,$0:function(cg){return cf(cg,(ce.get_Cont())(o["done'"]));}});};y.ofResult=function(ce){var cf;cf=n.eff();return cf.Delay(function(){return ce.$==1?cf.Bind(y.fail(ce.$0),function(){return cf.Return(null);}):cf.Return(ce.$0);});};y.fail=function(ce){return new o({$:0,$0:function(cf){return new z.New(ce,cf);}});};n.eff=function(){bo.$cctor();return bo.eff;};n.insertSnd=function(ce,cf){return n.map(function(cg){return[cg,cf];},ce);};n.insertFst=function(ce,cf){return n.map(function(cg){return[ce,cg];},cf);};n.insertR=function(ce){return ce.$==0?n.map(function(cf){return{$:0,$0:cf};},ce.$0):r.rtn(c.Error$1(ce.$0));};n.insertO=function(ce){var cf;cf=ce==null?null:{$:1,$0:n.map(function(cg){return{$:1,$0:cg};},ce.$0)};return cf==null?r.rtn(null):cf.$0;};n.sequenceSeq=function(ce){return n.traverseSeq(a.id,ce);};n.traverseSeq=function(ce,cf){return n.map(a.id,bz.foldBack(function(cg,ch){return r.op_GreaterGreaterEquals(ce(cg),function(ci){return r.op_GreaterGreaterEquals(ch,function(cj){return r.rtn(new by.T({$:1,$0:ci,$1:cj}));});});},bz.ofSeq(cf),r.rtn(by.T.Empty)));};n.apply=function(ce,cf){return n.bind(function(cg){return n.map(cg,cf);},ce);};n.map=function(ce,cf){return n.bind(function(cg){return n.rtn(ce(cg));},cf);};n.bind=function(ce,cf){return new o({$:0,$0:function(cg){return cf.$0(function(ch){return ce(ch).$0(cg);});}});};n.rtn=function(ce){return new o({$:0,$0:function(cf){return cf(ce);}});};B=A.Builder=bu.Class({For:function(ce,cf){var cg;cg=this;return this.Using(bB.Get(ce),function(ch){return cg.While(function(){return ch.MoveNext();},cg.Delay(function(){return cf(ch.Current());}));});},While:function(ce,cf){function cg(ch,ci){return ch()?A.bind(function(){return cg(ch,ci);},ci()):A.rtn();}return cg(ce,cf);},Using:function(ce,cf){try{return cf(ce);}finally{ce.Dispose();}},TryFinally:function(ce,cf){try{return ce();}finally{cf();}},TryWith:function(ce,cf){try{return ce();}catch(cg){return cf(cg);}},Run:function(ce){return A.bindP(ce,f.OkM$1());},Combine:function(ce,cf){return A.bind(cf,ce);},Delay:a.id,Zero:function(){return A.rtn();},Bind:function(ce,cf){return A.bindM(cf,ce);},Bind$1:function(ce,cf){return A.bindP(cf,ce);},ReturnFrom:function(ce){return A.rtnM(ce);},ReturnFrom$1:a.id,ReturnFrom$2:a.id,Return:function(ce){return A.rtn(ce);}},j,B);B.New=bu.Ctor(function(){j.New.call(this);},B);C.rtn=function(ce){return A.rtn(ce);};C.op_GreaterEqualsGreater=function(ce,cf,cg){return C.op_GreaterGreaterEquals(ce(cg),cf);};C.op_RightShift=function(ce,cf,cg){return C.op_BarGreaterGreater(ce(cg),cf);};C.op_GreaterGreaterEquals=function(ce,cf){return A.bindP(cf,ce);};C.op_BarGreaterGreater=function(ce,cf){return A.mapP(cf,ce);};A.sequenceSeq=function(ce){return A.traverseSeq(a.id,ce);};A.traverseSeq=function(ce,cf){return A.map(a.id,bz.foldBack(function(cg,ch){return A.op_GreaterGreaterEquals(ce(cg),function(ci){return A.op_GreaterGreaterEquals(ch,function(cj){return A.rtn(new by.T({$:1,$0:ci,$1:cj}));});});},bz.ofSeq(cf),A.rtn(by.T.Empty)));};A.op_GreaterGreaterEquals=function(ce,cf){return A.bind(cf,ce);};A.failIfFatalMsgW=function(ce){var cf;cf=f.OkM(ce);return cf.$==0?d.isFatalW(cf.$0[1])?f.ErrorM(cf.$0[1]):ce:ce;};A.failIfFatalMsg=function(ce){var cf;cf=f.OkM(ce);return cf.$==0?d.isFatal(cf.$0[1])?f.ErrorM(cf.$0[1]):ce:ce;};A.failIfFatalMsgF=function(ce,cf){var cg;cg=f.OkM(cf);return cg.$==0?d.isFatalF(ce,cg.$0[1])?f.ErrorM(cg.$0[1]):cf:cf;};A.addMsg=function(ce,cf){return A.mapMessage(function(cg){return d.addMsg(ce,cg);},cf);};A.absorbO=function(ce,cf){return A.bindP(function(cg){return A.ofOption(ce,cg);},cf);};A.insertO=function(ce){var cf;cf=ce==null?null:{$:1,$0:A.map(function(cg){return{$:1,$0:cg};},ce.$0)};return cf==null?f.OkM$1(null):cf.$0;};A.ofResult=function(ce){return A.rtnr(ce);};A.ofOption=function(ce,cf){var cg;cg=cf==null?null:{$:1,$0:f.OkM$1(cf.$0)};return cg==null?function(ch){return f.ErrorM(ce(ch));}():cg.$0;};A.get=function(ce){return A.defaultWith(function(cf){return bD.FailWith(a.String(cf));},ce);};A.iter=function(ce,cf,cg){var ch;ch=A.mapP(cf,cg);ch.$0==null?ce(ch.$1):void 0;};A.mapP=function(ce,cf){return A.bindP(function(cg){return A.rtn(ce(cg));},cf);};A.check=function(ce,cf){var cg;return(cg=cf.$0,cg!=null&&cg.$==1)?d.isFatalF(ce.$0,cf.$1)?f.ErrorM(cf.$1):cf:cf;};A.bindM=function(ce,cf){return A.bindP(ce,A.rtnM(cf));};A.bindP=function(ce,cf){var cg;if(cf.$0==null)return{$:0,$0:null,$1:cf.$1};else{cg=cf.$1;try{return A.mapMessage(function(ch){return d.addMsg(cg,ch);},ce(cf.$0.$0));}catch(ch){return f.ErrorM(new d({$:5,$0:ch.message,$1:ch.stack}));}}};A.bind=function(ce,cf){var cg;return cf.$0==null?{$:0,$0:null,$1:cf.$1}:(cg=cf.$1,A.mapMessage(function(ch){return d.addMsg(cg,ch);},ce(cf.$0.$0)));};A.mapMessage=function(ce,cf){return{$:0,$0:cf.$0,$1:ce(cf.$1)};};A.map=function(ce,cf){var cg;return{$:0,$0:(cg=cf.$0,cg==null?null:{$:1,$0:ce(cg.$0)}),$1:cf.$1};};A.defaultValue=function(ce,cf){return k.defaultValue(ce,A.toResult(cf));};A.defaultWith=function(ce,cf){return k.defaultWith(ce,A.toResult(cf));};A.toOption=function(ce){return ce.$0;};A.toResultD=function(ce){return ce.$0==null?c.Error$1(ce.$1):{$:0,$0:[ce.$0.$0,ce.$1]};};A.toResult=function(ce){return ce.$0==null?c.Error$1(ce.$1):{$:0,$0:ce.$0.$0};};A.freeMessage=function(ce){return ce.$==1?c.Error$1(d.freeMessage(ce.$0)):{$:0,$0:ce.$0};};A.rtnr=function(ce){return k.defaultWith(f.ErrorM,bC.Map(f.OkM$1,ce));};A.rtnM=function(ce){return f.OkMWithMsg(null,ce);};A.rtn=function(ce){return f.OkM$1(ce);};A.checkErrorW=function(){return{$:0,$0:function(){return false;}};};A.checkError=function(){return{$:0,$0:function(){return true;}};};D.resultM=function(){bo.$cctor();return bo.resultM;};F=E.AsyncResultMBuilder=bu.Class({For:function(ce,cf){var cg;cg=this;return this.Using(bB.Get(ce),function(ch){return cg.While(function(){return ch.MoveNext();},cg.Delay(function(){return cf(ch.Current());}));});},While:function(ce,cf){return E.whileLoop(ce,cf);},Using:function(ce,cf){return bA.Using(ce,cf);},TryFinally:function(ce,cf){var cg;cg=null;return bA.Delay(function(){return bA.TryFinally(bA.Delay(function(){return ce();}),function(){cf();});});},TryWith:function(ce,cf){var cg;cg=null;return bA.Delay(function(){return bA.TryWith(bA.Delay(function(){return ce();}),function(ch){return cf(ch);});});},Run:function(ce){return E.bind(ce,E.rtn());},Delay:a.id,Combine:function(ce,cf){return E.bind(cf,E.rtnR(ce));},Combine$1:function(ce,cf){return E.bind(cf,ce);},Bind:function(ce,cf){return E.bindrA(cf,ce);},Bind$1:function(ce,cf){return E.bindR(cf,ce);},Bind$2:function(ce,cf){return E.bindM(cf,ce);},Bind$3:function(ce,cf){return E.bindr(cf,ce);},Bind$4:function(ce,cf){return E.bind(cf,ce);},Zero:function(){return E.rtn();},Return:function(ce){return E.rtn(ce);},ReturnFrom:function(ce){return E.rtnrA(ce);},ReturnFrom$1:function(ce){return E.rtnR(ce);},ReturnFrom$2:function(ce){return E.rtnM(ce);},ReturnFrom$3:function(ce){return E.rtnr(ce);},ReturnFrom$4:a.id},j,F);F.New=bu.Ctor(function(){j.New.call(this);},F);E.absorbO=function(ce,cf){function cg(ci){return k.absorbO(ce,ci);}function ch(ci){return bA.Return(ci);}return bA.Bind(cf,function(ci){return ch(cg(ci));});};E.absorbR=function(ce){var cf;function cg(ch){return bA.Return(ch);}return bA.Bind(ce,(cf=function(ch){return k.bindP(a.id,ch);},function(ch){return cg(cf(ch));}));};E.insertR=function(ce){return ce.$==0?E.map(function(cf){return{$:0,$0:cf};},ce.$0):E.rtn(c.Error$1(ce.$0));};E.insertO=function(ce){var cf;cf=ce==null?null:{$:1,$0:E.map(function(cg){return{$:1,$0:cg};},ce.$0)};return cf==null?E.rtn(null):cf.$0;};E.sequenceSeq=function(ce){return E.traverseSeq(a.id,ce);};E.traverseSeq=function(ce,cf){return E.map(a.id,bz.foldBack(function(cg,ch){return E.op_GreaterGreaterEquals(ce(cg),function(ci){return E.op_GreaterGreaterEquals(ch,function(cj){return E.rtn(new by.T({$:1,$0:ci,$1:cj}));});});},bz.ofSeq(cf),E.rtn(by.T.Empty)));};E.op_GreaterGreaterEquals=function(ce,cf){return E.bind(cf,ce);};E.whileLoop=function(ce,cf){return ce()?E.bind(function(){return E.whileLoop(ce,cf);},cf()):E.rtn();};E.map=function(ce,cf){return E.bind(function(cg){return E.rtn(ce(cg));},cf);};E.bindR=function(ce,cf){return E.bind(ce,E.rtnR(cf));};E.bindrA=function(ce,cf){return E.bind(ce,E.rtnrA(cf));};E.bindM=function(ce,cf){return E.bind(ce,E.rtnM(cf));};E.bindr=function(ce,cf){return E.bind(ce,E.rtnr(cf));};E.bind=function(ce,cf){var cg;cg=null;return bA.Delay(function(){return bA.TryWith(bA.Delay(function(){return bA.Bind(cf,function(ch){var ci,cj;function ck(cm){return A.addMsg(cj,cm);}function cl(cm){return bA.Return(cm);}ci=f.OkM(ch);return ci.$==1?bA.Return(f.ErrorM(ci.$0)):(cj=ci.$0[1],bA.Bind(ce(ci.$0[0]),function(cm){return cl(ck(cm));}));});}),function(ch){return bA.Return(f.ErrorM(new d({$:5,$0:ch.message,$1:ch.stack})));});});};E.iterpA=function(ce,cf){function cg(ch){c.print$1(ch);}E.iterA(function(ch){return cg(d.summarized(ch));},ce,cf);};E.iterpS=function(ce,cf){function cg(ch){c.print$1(ch);}E.iterS(function(ch){return cg(d.summarized(ch));},ce,cf);};E.iterA=function(ce,cf,cg){function ch(cj){A.iter(ce,cf,cj);}function ci(cj){return bA.Return(cj);}bA.Start(bA.Bind(cg,function(cj){return ci(ch(cj));}),null);};E.iterS=function(ce,cf,cg){throw"iterS cannot be used in JavaScript!";};E.rtnrA=function(ce){function cf(cg){return bA.Return(cg);}return bA.Bind(ce,function(cg){return cf(A.ofResult(cg));});};E.rtnM=function(ce){return bA.Return(A.rtnM(ce));};E.rtnR=function(ce){return bA.Return(ce);};E.rtnr=function(ce){return bA.Return(A.rtnr(ce));};E.rtn=function(ce){return bA.Return(f.OkM$1(ce));};E.freeMessage=function(ce){function cf(cg){return bA.Return(cg);}return bA.Bind(ce,function(cg){return cf(A.freeMessage(cg));});};E.mapError=function(ce,cf){function cg(ci){return A.mapMessage(ce,ci);}function ch(ci){return bA.Return(ci);}return bA.Bind(cf,function(ci){return ch(cg(ci));});};G["AsyncResultMBuilder.Combine"]=function(ce,cf,cg){function ch(ci){return bA.Return(ci);}return E.bind(cg,bA.Bind(cf,function(ci){return ch(f.OkM$1(ci));}));};G["AsyncResultMBuilder.Bind"]=function(ce,cf,cg){function ch(ci){return bA.Return(ci);}return E.bind(cg,bA.Bind(cf,function(ci){return ch(f.OkM$1(ci));}));};G["AsyncResultMBuilder.ReturnFrom"]=function(ce,cf){function cg(ch){return bA.Return(ch);}return bA.Bind(cf,function(ch){return cg(f.OkM$1(ch));});};G.asyncResultM=function(){bo.$cctor();return bo.asyncResultM;};f.OkM=function(ce){return ce.$0==null?{$:1,$0:ce.$1}:{$:0,$0:[ce.$0.$0,ce.$1]};};f.ErrorM=function(ce){return{$:0,$0:null,$1:ce};};f.OkMWithMsg=function(ce,cf){return{$:0,$0:{$:1,$0:ce},$1:cf};};f.OkM$1=function(ce){return{$:0,$0:{$:1,$0:ce},$1:d.NoMsg};};H.EndsWith$1=function(ce,cf){return bw.EndsWith(cf,ce)?{$:1,$0:bG.string(cf,{$:1,$0:0},{$:1,$0:cf.length-ce.length-1})}:null;};H.StartsWith$1=function(ce,cf){return bw.StartsWith(cf,ce)?{$:1,$0:bG.string(cf,{$:1,$0:ce.length},null)}:null;};H.skipLastLine$1=function(){bo.$cctor();return bo.skipLastLine;};H.indentStr$1=function(ce){function cf(ch){return H.indent$1(ce,ch);}function cg(ch){return bw.concat("\n",ch);}return function(ch){return cg(cf(ch));};};H.unindentStr$1=function(){bo.$cctor();return bo.unindentStr;};H.indent$1=function(ce,cf){var cg,ch;cg=bw.SplitChars(cf,["\n"],0);return bx.map((ch=bw.replicate(ce," "),function(ci){return ch+ci;}),cg);};H.unindent$1=function(ce){var cf,cg,ch,ci;cf=bw.SplitChars(ce,["\n"],0);cg=(ch=bx.tryFindIndex(function(cj){return" "!==cj;},(ci=bx.tryFind(function(cj){return bw.Trim(cj)!=="";},cf),ci==null?"":ci.$0)),ch==null?0:ch.$0);return bx.filter(function(cj){return!bw.StartsWith(cj,"# 1 ");},bx.map(function(cj){return cj.length<=cg?"":cj.substring(cg);},cf));};H.skipFirstLine$1=function(ce){var cf;cf=ce.indexOf("\n");return cf<0?"":bG.string(ce,{$:1,$0:cf+1},null);};H.append$1=function(ce,cf){return ce+cf;};H.trim$1=function(ce){return bw.Trim(ce);};H.contains$1=function(ce,cf){return cf.indexOf(ce)!=-1;};H.delimitedO$1=function(ce,cf,cg){var ch,ci,cj,ck,cl;ch=H.splitInTwoO$1(ce,cg);return ch==null?null:(ci=ch.$0,(cj=ci[0],(ck=H.splitInTwoO$1(cf,ci[1]),ck==null?null:{$:1,$0:(cl=ck.$0,[cj,cl[0],cl[1]])})));};H.splitInTwoO$1=function(ce,cf){var cg;cg=cf.indexOf(ce);return cg===-1?null:{$:1,$0:[c["String.Left$1"](cf,cg),cf.substring(cg+ce.length)]};};H.splitByChar$1=function(ce,cf){return bw.SplitChars(cf,[ce],0);};I.op_AmpGreater=function(ce,cf,cg,ch){var ci;ci=ce(cg,ch);return ci===0?cf(cg,ch):ci;};I.desc=function(ce,cf,cg){return bE.Compare(ce(cg),ce(cf));};I.asc=function(ce,cf,cg){return bE.Compare(ce(cf),ce(cg));};J.Guid$1=function(){bo.$cctor();return bo["|Guid|_|"];};J.Double$1=function(){bo.$cctor();return bo["|Double|_|"];};J.Single$1=function(){bo.$cctor();return bo["|Single|_|"];};J.Int$1=function(){bo.$cctor();return bo["|Int|_|"];};J.Date$1=function(){bo.$cctor();return bo["|Date|_|"];};J.parseGuidO$1=function(){bo.$cctor();return bo.parseGuidO;};J.parseDoubleO$1=function(){bo.$cctor();return bo.parseDoubleO;};J.parseSingleO$1=function(){bo.$cctor();return bo.parseSingleO;};J.parseIntO$1=function(){bo.$cctor();return bo.parseIntO;};J.parseDateO$1=function(){bo.$cctor();return bo.parseDateO;};J.tryParseWith$1=function(ce){function cf(cg,ch){return cg?{$:1,$0:ch}:null;}return function(cg){return cf.apply(null,ce(cg));};};L.New=function(ce,cf,cg,ch,ci,cj,ck,cl){return{tryFloat:ce,tryInt:cf,tryString:cg,tryBool:ch,tryArray:ci,tryField:cj,isObject:ck,isNull:cl};};K.serMap=function(ce,cf,cg,ch){var ci,cj,ck,cl,cm,cn;function co(cq){return[cq.K,cq.V];}function cp(cq){return new bI.New(cq);}ci=(cj=K.serDup([ce,cf],[cg,ch]),K.serSeq(cj[0],cj[1]));return[(ck=function(cq){return bx.map(co,cq);},(cl=ci[0],function(cq){return cl(ck(cq));})),(cm=ci[1],(cn=function(cq){return cq==null?null:{$:1,$0:cp(cq.$0)};},function(cq){return cn(cm(cq));}))];};K.serTrp=function(ce,cf,cg){return[function(ch){return((((bu.Curried(function(ci,cj,ck,cl){return ci("["+bv.toSafe(cj)+", "+bv.toSafe(ck)+", "+bv.toSafe(cl)+"]");},4))(a.id))(ce[0](ch[0])))(cf[0](ch[1])))(cg[0](ch[2]));},function(ch){var ci,cj,ck,cl,cm,cn,co;ci=ch.tryArray();return ci!=null&&ci.$==1&&((ck=ci.$0,!bE.Equals(ck,null)&&ck.length===3)&&(cj=[bz.get(ci.$0,0),bz.get(ci.$0,1),bz.get(ci.$0,2)],true))?(cl=ce[1](cj[0]),(cm=cf[1](cj[1]),(cn=cg[1](cj[2]),cl!=null&&cl.$==1&&(cm!=null&&cm.$==1&&(cn!=null&&cn.$==1&&(co=[cl.$0,cm.$0,cn.$0],true)))?{$:1,$0:[co[0],co[1],co[2]]}:null))):null;}];};K.serDup=function(ce,cf){return[function(cg){return(((bu.Curried3(function(ch,ci,cj){return ch("["+bv.toSafe(ci)+", "+bv.toSafe(cj)+"]");}))(a.id))(ce[0](cg[0])))(cf[0](cg[1]));},function(cg){var ch,ci,cj,ck,cl,cm;ch=cg.tryArray();return ch!=null&&ch.$==1&&((cj=ch.$0,!bE.Equals(cj,null)&&cj.length===2)&&(ci=[bz.get(ch.$0,0),bz.get(ch.$0,1)],true))?(ck=ce[1](ci[0]),(cl=cf[1](ci[1]),ck!=null&&ck.$==1&&(cl!=null&&cl.$==1&&(cm=[ck.$0,cl.$0],true))?{$:1,$0:[cm[0],cm[1]]}:null)):null;}];};K.serOpt=function(ce,cf){var cg,ch,ci;function cj(ck){return ck==null?"null":ck.$0;}cg=[ce,cf];return[(ch=(ci=cg[0],function(ck){return ck==null?null:{$:1,$0:ci(ck.$0)};}),function(ck){return cj(ch(ck));}),function(ck){return{$:1,$0:ck.isNull()?null:cg[1](ck)};}];};K.serSet=function(ce,cf){var cg,ch,ci;cg=[ce,cf];return[(ch=(ci=cg[0],function(cj){return new bJ.New$1(bK.OfSeq(bx.map(ci,cj)));}),function(cj){return K.sprintA(ch(cj));}),function(cj){var ck,cl,cm,cn;ck=(cl=cj.tryArray(),(cm=(cn=cg[1],function(co){return bz.choose(cn,co);}),cl==null?null:{$:1,$0:cm(cl.$0)}));return ck==null?null:{$:1,$0:new bJ.New(ck.$0)};}];};K.serLst=function(ce,cf){var cg,ch,ci;cg=[ce,cf];return[(ch=(ci=cg[0],function(cj){return by.map(ci,cj);}),function(cj){return K.sprintA(ch(cj));}),function(cj){var ck,cl,cm,cn;ck=(cl=cj.tryArray(),(cm=(cn=cg[1],function(co){return bz.choose(cn,co);}),cl==null?null:{$:1,$0:cm(cl.$0)}));return ck==null?null:{$:1,$0:by.ofSeq(ck.$0)};}];};K.serArr=function(ce,cf){var cg,ch,ci;cg=[ce,cf];return[(ch=(ci=cg[0],function(cj){return bz.map(ci,cj);}),function(cj){return K.sprintA(ch(cj));}),function(cj){var ck,cl,cm;ck=cj.tryArray();cl=(cm=cg[1],function(cn){return bz.choose(cm,cn);});return ck==null?null:{$:1,$0:cl(ck.$0)};}];};K.serSeq=function(ce,cf){var cg,ch,ci;cg=[ce,cf];return[(ch=(ci=cg[0],function(cj){return bx.map(ci,cj);}),function(cj){return K.sprintA(ch(cj));}),function(cj){var ck,cl,cm,cn;ck=(cl=cj.tryArray(),(cm=(cn=cg[1],function(co){return bz.choose(cn,co);}),cl==null?null:{$:1,$0:cm(cl.$0)}));return ck==null?null:{$:1,$0:ck.$0};}];};K.serField=function(ce,cf,cg,ch,ci){return[ce,function(cj){return ch(cf(cj));},function(cj){return function(ck){var cl;cl=ci(ck);return cl==null?null:{$:1,$0:cg(cl.$0,cj)};};}];};K.serBool=function(){bo.$cctor();return bo.serBool;};K.serInt=function(){bo.$cctor();return bo.serInt;};K.serFloat=function(){bo.$cctor();return bo.serFloat;};K.serString=function(){bo.$cctor();return bo.serString;};K.toJsonString=function(ce){return bz.ofSeq(bx.delay(function(){return bx.append(["\""],bx.delay(function(){return bx.append(!bw.IsNullOrEmpty(ce)?bx.collect(function(cf){var cg,ch;cg=ce[cf];ch=cg.charCodeAt();return ch>=0&&ch<=7||ch===11||ch>=14&&ch<=31?(function(ci){return function(cj){return ci("\\u"+bv.padNumLeft(cj.toString(16),4));};}(a.id))(ch):cg==="\u0008"?"\\b":cg==="\u0009"?"\\t":cg==="\n"?"\\n":cg==="\u000c"?"\\f":cg==="\r"?"\\r":cg==="\""?"\\\"":cg==="\\"?"\\\\":[cg];},bD.range(0,ce.length-1)):[],bx.delay(function(){return["\""];}));}));})).join("");};K.sprintA=function(ce){var cf;cf=bw.concat(", ",ce);return(function(cg){return function(ch){return cg("["+bv.toSafe(ch)+"]");};}(a.id))(cf);};K.Field=function(ce,cf){return cf.tryField(ce);};K.serialize=function(ce,cf,cg){return[ce,cf][0](cg);};M.PostAndAsyncReply=function(ce,cf,cg){return ce.PostAndAsyncReply(function(ch){return[ch,cf];},cg);};O.applyReply=function(ce,cf){return O.applyReplyA(function(cg){var ch;ch=null;return bA.Delay(function(){return bA.Return(ce(cg));});},cf);};O.applyReplyA=function(ce,cf){return cf.PostAndAsyncReply(function(cg){return function(ch){var ci;ci=null;return bA.Delay(function(){return bA.Bind(ce(ch),function(cj){cg(cj[1]);return bA.Return(cj[0]);});});};},null);};O.apply=function(ce,cf){O.applyA(function(cg){var ch;ch=null;return bA.Delay(function(){return bA.Return(ce(cg));});},cf);};O.applyA=function(ce,cf){cf.mailbox.AddLast(function(cg){var ch;ch=null;return bA.Delay(function(){return ce(cg);});});cf.resume();};O.setState=function(ce,cf){cf.mailbox.AddLast(function(){var cg;cg=null;return bA.Delay(function(){return bA.Return(ce);});});cf.resume();};O.getStateA=function(ce){return ce.PostAndAsyncReply(function(cf){return function(cg){var ch;ch=null;return bA.Delay(function(){cf(cg);return bA.Return(cg);});};},null);};N.defHandler=function(ce,cf){c.print$1(ce);return cf;};N.stateFull=function(ce,cf){return bM.Start(function(cg){function ch(ci){var cj;cj=null;return bA.Delay(function(){return bA.TryWith(bA.Delay(function(){return bA.Bind(cg.Receive(null),function(ck){return bA.Bind(ck(ci),function(cl){return ch(cl);});});}),function(ck){return ch(ce(ck,ci));});});}return ch(cf);},null);};N.fold=function(ce,cf,cg){return N.foldA(ce,function(ch,ci){var cj;cj=null;return bA.Delay(function(){return bA.Return(cf(ch,ci));});},cg);};N.foldA=function(ce,cf,cg){return bM.Start(function(ch){function ci(cj){var ck;ck=null;return bA.Delay(function(){return bA.TryWith(bA.Delay(function(){return bA.Bind(ch.Receive(null),function(cl){return bA.Bind(cf(cj,cl),function(cm){return ci(cm);});});}),function(cl){return ci(ce(cl,cj));});});}return ci(cg);},null);};N.call=function(ce,cf){return N.callA(ce,function(cg){var ch;ch=null;return bA.Delay(function(){return bA.Return(cf(cg));});});};N.callA=function(ce,cf){return N.iterA(ce,function(cg){var ch,ci,cj;ch=cg[0];ci=cg[1];cj=null;return bA.Delay(function(){return bA.Bind(cf(ci),function(ck){ch(ck);return bA.Zero();});});});};N.iter=function(ce,cf){return N.iterA(ce,function(cg){var ch;ch=null;return bA.Delay(function(){cf(cg);return bA.Zero();});});};N.iterA=function(ce,cf){return bM.Start(function(cg){var ch;ch=null;return bA.Delay(function(){return bA.While(function(){return true;},bA.Delay(function(){return bA.TryWith(bA.Delay(function(){return bA.Bind(cg.Receive(null),function(ci){return bA.Bind(cf(ci),function(){return bA.Return(null);});});}),function(ci){ce(ci);return bA.Zero();});}));});},null);};c["String.Right$1"]=function(ce,cf){var cg,ch;return c["String.Substring2$1"](ce,(cg=0,(ch=ce.length-cf,bE.Compare(cg,ch)===1?cg:ch)),ce.length);};c["String.Left$1"]=function(ce,cf){return cf<0?c["String.Substring2$1"](ce,0,ce.length+cf):c["String.Substring2$1"](ce,0,cf);};c["String.Substring2$1"]=function(ce,cf,cg){var ch,ci;while(true){if(cg<=0)return"";else if(cf<0){ch=cf;cf=0;cg=cg+ch;}else return cf>=ce.length?"":bw.Substring(ce,cf,(ci=ce.length-cf,bE.Compare(cg,ci)===-1?cg:ci));}};c.delayed$1=function(ce,cf){var cg;cg=[null];return function(ch){var ci,cj;ci=cg[0];ci==null?void 0:ci.$0.Cancel$1();cg[0]={$:1,$0:new bN.New()};bA.Start((cj=null,bA.Delay(function(){return bA.Bind(bA.Sleep(ce),function(){cf(ch);return bA.Zero();});})),{$:1,$0:cg[0].$0});};};c.print$1=function(ce){if(typeof ce=="string")((function(cf){return function(cg){return cf(bv.toSafe(cg));};}(function(cf){bF.log(cf);}))(ce));else((function(cf){return function(cg){return cf(bv.prettyPrint(cg));};}(function(cf){bF.log(cf);}))(ce));};c.Error$1=function(ce){return{$:1,$0:ce};};Q.LoginFileName=function(){bo.$cctor();return bo.LoginFileName;};Q.TemplatesFileName=function(){bo.$cctor();return bo.TemplatesFileName;};Q.rootdir=function(){bo.$cctor();return bo.rootdir;};R.Regular={$:1};R.Master={$:0};S.Argentina={$:2};S.Venezuela={$:1};S.USA={$:0};S.tryParse=function(ce){var cf;cf=bw.Trim(ce);return cf===""?null:cf==="USA"?{$:1,$0:S.USA}:cf==="Venezuela"?{$:1,$0:S.Venezuela}:cf==="Argentina"?{$:1,$0:S.Argentina}:{$:1,$0:{$:3,$0:cf}};};T.Florida={$:1};T.Texas={$:0};T.tryParse=function(ce){var cf;cf=bw.Trim(ce);return cf===""?null:cf==="Texas"?{$:1,$0:T.Texas}:cf==="Florida"?{$:1,$0:T.Florida}:{$:1,$0:{$:2,$0:cf}};};U.New=function(ce,cf,cg,ch){return{emisor:ce,documento:cf,emision:cg,vence:ch};};V.Corriente={$:1};V.Ahorro={$:0};W.New=function(ce,cf,cg,ch){return{banco:ce,tipo:cf,numero:cg,routing:ch};};X.Inactivo={$:1};X.Activo={$:0};Y.PagoComision={$:1};Y.PagoAfiliacion={$:0};Z.New=function(ce,cf,cg,ch,ci,cj,ck){return{fechaPago:ce,ano:cf,periodo:cg,monto:ch,idAliado:ci,concepto:cj,transaccion:ck};};_0.ServicioPostal={$:2};_0.Oficina={$:1};_0.Habitacion={$:0};_0.tryParse=function(ce){var cf;cf=bw.Trim(ce);return cf===""?null:cf==="Habitacion"?{$:1,$0:_0.Habitacion}:cf==="Oficina"?{$:1,$0:_0.Oficina}:cf==="ServicioPostal"?{$:1,$0:_0.ServicioPostal}:{$:1,$0:{$:3,$0:cf}};};_1.New=function(ce,cf,cg,ch,ci,cj,ck){return{tipoDireccion:ce,linea1:cf,linea2:cg,ciudad:ch,estado:ci,pais:cj,zonaPostal:ck};};_2.Voip={$:3};_2.Habitacion={$:2};_2.Oficina={$:1};_2.Movil={$:0};_2.get_tryParse=function(){return function(ce){return ce==="Movil"?{$:1,$0:_2.Movil}:ce==="Oficina"?{$:1,$0:_2.Oficina}:ce==="Habitacion"?{$:1,$0:_2.Habitacion}:null;};};_3.New=function(ce,cf,cg,ch,ci){return{tipoTelefono:ce,codigoPais:cf,codigoArea:cg,numero:ch,mensajes:ci};};_4.Empresa={$:2};_4.Femenino={$:1};_4.Masculino={$:0};_4.tryParse=function(ce){var cf;cf=bw.Trim(ce);return cf==="Masculino"?{$:1,$0:_4.Masculino}:cf==="Femenino"?{$:1,$0:_4.Femenino}:cf==="Empresa"?{$:1,$0:_4.Empresa}:null;};_5.New=function(ce,cf,cg,ch,ci,cj,ck,cl,cm){return{titulo:ce,nombre1:cf,nombre2:cg,apellido1:ch,apellido2:ci,nacionalidad:cj,genero:ck,fechaNacimiento:cl,contactos:cm};};_6.Saludo={$:2};_6.Informacion={$:1};_6.Alerta={$:0};_7.Prozper={$:0};_8.New=function(ce,cf,cg,ch,ci){return{tipo:ce,leido:cf,fecha:cg,texto:ch,remitente:ci};};_9.New=function(ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv){return{id:ce,idPadreO:cf,identificacion:cg,datosPersonales:ch,formasPago:ci,transacciones:cj,mensajes:ck,isInternal:cl,status:cm,tipo:cn,fechaRegistro:co,fechaStatus:cp,nReferidos:cq,nRefActivos:cr,nDescendientes:cs,nDescActivos:ct,comision:cu,nivel:cv};};_.New=function(ce,cf,cg,ch,ci,cj,ck,cl){return{comisionReferidosRegular:ce,comisionReferidosMaster:cf,comisionDescendientesMaster:cg,comisionDescendientesRegular:ch,montoAliliacion:ci,numeroReferidosMaster:cj,diaCorte1:ck,diaCorte2:cl};};$.New=function(ce,cf,cg,ch,ci,cj){return{idAliado:ce,aliados:cf,anoActual:cg,periodoActual:ch,premisas:ci,nevento:cj};};bb.New=function(ce,cf,cg,ch,ci,cj){return{hijosDe:ce,nivelDe:cf,aliado:cg,aliadoO:ch,hijos:ci,descendientes:cj};};ba.actualizarAliados=function(ce){var cf,cg,ch,ci,cn,co;function cj(cp){var cq,cr,cs,ct,cu,cv;cq=cn.aliado(cp);cr=bx.cache(bx.map(cf,cn.hijosDe(cq.id)));cs=bx.length(cr);ct=bx.length(bx.filter(function(cw){return cw.status.$===0&&cw.tipo.$===1;},cr));cu=_9.New(cq.id,cq.idPadreO,cq.identificacion,cq.datosPersonales,cq.formasPago,cq.transacciones,cq.mensajes,cq.isInternal,cq.status,ct>=co.numeroReferidosMaster?R.Master:R.Regular,cq.fechaRegistro,0,cs,ct,bx.sumBy(function(cw){return cw.nDescendientes+cw.nReferidos;},cr),bx.sumBy(function(cw){return cw.nDescActivos+cw.nRefActivos;},cr),cq.comision,1+cn.nivelDe(cq.idPadreO));cv=ba.comision(co,cu);return _9.New(cu.id,cu.idPadreO,cu.identificacion,cu.datosPersonales,cu.formasPago,cu.transacciones,cu.mensajes,cu.isInternal,cu.status,cu.tipo,cu.fechaRegistro,cu.fechaStatus,cu.nReferidos,cu.nRefActivos,cu.nDescendientes,cu.nDescActivos,cv[0]+cv[1],cu.nivel);}function ck(cp){var cq;cq=null;return ch.TryGetValue(cp,{get:function(){return cq;},set:function(cr){cq=cr;}})?{$:1,$0:cq}:null;}function cl(cp,cq){ch.set_Item(cp,cq);return cq;}function cm(cp,cq){var cr;cr=ck(cp);return cr==null?cl(cp,cq(cp)):cr.$0;}cn=ba.busqueda(ce.aliados);co=ce.premisas;cf=(cg=(ch=new bO.New$5(),[[ck,function(cp){return function(cq){return cm(cp,cq);};}],function(){ch.Clear();}]),(ci=cg[0][1],[function(cp){return(ci(cp))(cj);},cg[1]]))[0];return bz.ofSeq(bx.map(cf,bx.map(function(cp){return cp.id;},ce.aliados)));};ba.busqueda=function(ce){var cf,cg;function ch(cn,co){return[cn,bz.ofSeq(bx.map(function(cp){return cp[1];},co))];}function ci(cn){var co,cp;co=(cp=null,[cg.TryGetValue(cn,{get:function(){return cp;},set:function(cq){cp=cq;}}),cp]);return co[0]?{$:1,$0:co[1]}:null;}function cj(cn){var co,cp;co=(cp=null,[cf.TryGetValue({$:1,$0:cn},{get:function(){return cp;},set:function(cq){cp=cq;}}),cp]);return co[0]?co[1]:[];}function ck(cn){var co,cp;co=(cp=cn==null?null:ci(cn.$0),cp==null?null:{$:1,$0:1+ck(cp.$0.idPadreO)});return co==null?0:co.$0;}function cl(cn){return bz.choose(ci,cj(cn.id));}function cm(cn){return bz.ofSeq(bx.delay(function(){return bx.collect(function(co){return bx.append([co],bx.delay(function(){return cm(co);}));},cl(cn));}));}cf=new bI.New(bx.map(function(cn){return ch(cn[0],cn[1]);},bx.groupBy(function(cn){return cn[0];},bx.map(function(cn){return[cn.idPadreO,cn.id];},ce))));cg=new bI.New(bx.map(function(cn){return[cn.id,cn];},ce));return bb.New(cj,ck,function(cn){try{return cg.get_Item(cn);}catch(co){return(function(cp){return function(cq){return cp("buscarAliado failed: "+bq.p(cq));};}(bD.FailWith))(cn);}},ci,cl,cm);};ba.comision=function(ce,cf){var cg;cg=ba.premisas(ce,cf);return[cf.nRefActivos*cg[0],cf.nDescActivos*cg[1]];};ba.premisas=function(ce,cf){var cg;cg=cf.tipo.$==0?[ce.comisionReferidosMaster,ce.comisionDescendientesMaster]:[ce.comisionReferidosRegular,ce.comisionDescendientesRegular];return cf.status.$==0?[cg[0],cg[1]]:[0,0];};ba.statusActual=function(ce,cf,cg){var ch;ch=bz.tryFind(function(ci){return bE.Equals(ci.idAliado,cg.id)&&ci.ano===ce&&ci.periodo===cf&&ci.concepto.$===0;},cg.transacciones)==null?null:{$:1,$0:X.Activo};return ch==null?X.Inactivo:ch.$0;};ba.aliadoEf=function(){return r.op_GreaterGreaterEquals(t.get(),function(ce){return y.ofResult(k.ofOption(function(){return(function(cf){return function(cg){return cf("Cannot find aliado "+bq.p(cg));};}(a.id))(ce.idAliado);},bz.tryFind(function(cf){return bE.Equals(cf.id,ce.idAliado);},ce.aliados)));});};ba.periodoActualEf=function(){return r.op_BarGreaterGreater(t.get(),function(ce){return[ce.anoActual,ce.periodoActual];});};bc.New=function(ce,cf){return{nevento:ce,data:cf};};bd.ROk={$:0};be.actualizarEstado=function(ce,cf){var cg;cg=D.resultM();return cg.Run(cg.Delay(function(){return cg.Combine(cf.nevento!==-1&&cf.nevento+1!==ce.nevento?((((bu.Curried3(function(ch,ci,cj){return ch("Evento fuera de secuencia: "+a.String(ci)+" "+a.String(cj));}))(bD.FailWith))(cf.nevento))(ce.nevento),cg.Zero()):cg.Zero(),cg.Delay(function(){var ch;ch=ce.data;return ch.$==0?cg.Return([$.New(cf.idAliado,be.addNewAliados(ch.$0,cf.aliados),cf.anoActual,cf.periodoActual,cf.premisas,cf.nevento),bd.ROk]):ch.$==2?cg.ReturnFrom$2(be.registroNuevo(ch.$0,cf)):cg.Return([$.New(cf.idAliado,be.addNewAliados([ch.$0],cf.aliados),cf.anoActual,cf.periodoActual,cf.premisas,cf.nevento),bd.ROk]);}));}));};be.registroNuevo=function(ce,cf){var cg;cg=D.resultM();return cg.Run(cg.Delay(function(){var ch,ci,cj;ch=bx.tryPick(function(ck){return ck.$==1?{$:1,$0:ck.$0}:null;},ce.contactos);return ch!=null&&ch.$==1?(ci=ch.$0,bx.exists(function(ck){return bx.exists(function(cl){return cl.$==1&&bE.Equals(ci,cl.$0);},ck.datosPersonales.contactos);},cf.aliados)?cg.ReturnFrom$2(f.ErrorM((e.errorMsgf(function(ck){return function(cl){return ck("Correo Electronico ya esta registrado: "+bq.p$1(cl));};}))(ci))):(cj=bP.now(),cg.Return([$.New(cf.idAliado,cf.aliados.concat([_9.New({$:0,$0:a.String(bR.NewGuid)},null,[],ce,[],[],[],false,X.Inactivo,R.Regular,cj,cj,0,0,0,0,0,0)]),cf.anoActual,cf.periodoActual,cf.premisas,cf.nevento),{$:1,$0:bw.concat(" ",by.ofArray([ce.nombre1,ce.nombre2,ce.apellido1,ce.apellido2]))}]))):cg.ReturnFrom$2(f.ErrorM((e.errorMsgf(function(ck){return function(cl){return ck("No se encontro Correo Electronico: "+br.p(cl));};}))(ce)));}));};be.addNewAliados=function(ce,cf){return bz.ofSeq(bx.append(cf,bx.filter(function(cg){return!bx.exists(function(ch){return bE.Equals(cg.id,ch.id);},cf);},ce)));};bf.iterA=function(ce){function cf(cg){a.alert(cg);}E.iterA(function(cg){return cf(d.summarized(cg));},a.ignore,ce);};bh.DefaultEP={$:0};bg.contentVar=function(){bo.$cctor();return bo.contentVar;};bg.endPointV=function(){bo.$cctor();return bo.endPointV;};bg.money=function(ce){return"$"+bg.separate(a.String(ce),by.T.Empty);};bg.separate=function(ce,cf){var cg;while(true)if(ce==="")return(function(ch){return function(ci){return bw.concat(ch,ci);};}(","))(cf);else{cg=ce;ce=c["String.Left$1"](cg,-3);cf=new by.T({$:1,$0:c["String.Right$1"](cg,3),$1:cf});}};bg.modeloV=function(){bo.$cctor();return bo.modeloV;};bi.formaDoc=function(ce){var cf,cg,ch,ci,cj;cf=(cg=bW.Make(),(ch=bX.CompleteHoles(cg.k,cg.h,[["codigopais",0],["codigoarea",0],["telefono",0],["tipotelefono",0]]),(ci=new bY.New(ch[1],bs.telefono(ch[0])),(cg.i=ci,ci))));bZ.Sink(function(ck){var cl;if(ck!=null&&ck.$==1){cl=ck.$0;cf.Hole("codigoarea").Set(cl.codigoArea);cf.Hole("codigopais").Set(cl.codigoPais);cf.Hole("telefono").Set(cl.numero);cf.Hole("tipotelefono").Set((function(cm){return function(cn){return cm(bq.p$9(cn));};}(a.id))(cl.tipoTelefono));}},ce.get_View());cj=bZ.Apply(bZ.Map2(function(ck,cl){return function(cm){return bx.map(function(cn){return cn[1];},bx.filter(function(cn){return cn[0];},by.ofArray([[bw.Trim(ck)==="","CodigoPais"],[bw.Trim(cl)==="","Telefono"],[bw.Trim(cm)==="","TipoTelefono"]])));};},cf.Hole("codigopais").get_View(),cf.Hole("telefono").get_View()),cf.Hole("tipotelefono").get_View());bZ.Sink(function(ck){if(!bE.Equals(ce.Get(),ck))ce.Set(ck);},bZ.Map2(function(ck,cl){var cm,cn;return!bx.isEmpty(ck)?null:(cm=(_2.get_tryParse())(bw.Trim(cl)),cm!=null&&cm.$==1?{$:1,$0:(cn=bw.Trim(cf.Hole("codigoarea").Get()),_3.New(cm.$0,bw.Trim(cf.Hole("codigopais").Get()),cn,bw.Trim(cf.Hole("telefono").Get()),false))}:(a.alert("Error not caught: TipoTelefono"),null));},cj,cf.Hole("tipotelefono").get_View()));return[cj,cf.get_Doc()];};bj.formaDoc$4884$37=function(){return function(ce){var cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs;function ct(cu){a.alert(cu);}bj.mostrar().Set(true);cf=bj.mensajes().Get()+" "+bj.mensajeCorreo().Get();bw.Trim(cf)!==""?a.alert(cf):(cg=bj.telefonoOV().Get(),ch=T.tryParse(ce.Vars.Hole("estado").Get()),ci=S.tryParse(ce.Vars.Hole("pais").Get()),cj=_4.tryParse(ce.Vars.Hole("genero").Get()),ck=(cl=ce.Vars.Hole("fechanacimiento").Get(),(J.parseDateO$1())(cl)),cg!=null&&cg.$==1&&(ch!=null&&ch.$==1&&(ci!=null&&ci.$==1&&(cj!=null&&cj.$==1&&(ck!=null&&ck.$==1&&(cm=[ch.$0,ck.$0,cj.$0,ci.$0,cg.$0],true)))))?(cn=cm[0],co=cm[1],cp=cm[2],cq=cm[3],cr=cm[4],E.iterA(function(cu){return ct(d.summarized(cu));},a.ignore,(cs=G.asyncResultM(),cs.Run(cs.Delay(function(){var cu,cv,cw;cu={$:0,$0:ce.Vars.Hole("correo").Get()};cv=_1.New(_0.Habitacion,bw.Trim(ce.Vars.Hole("direccion1").Get()),bw.Trim(ce.Vars.Hole("direccion2").Get()),bw.Trim(ce.Vars.Hole("ciudad").Get()),cn,cq,{$:0,$0:bw.Trim(ce.Vars.Hole("codigopostal").Get())});return cs.Bind$4((cw={$:2,$0:_5.New(null,bz.get(bw.SplitChars(bw.Trim(ce.Vars.Hole("nombres").Get()),[" "],0),0),bw.concat(" ",bG.array(bw.SplitChars(bw.Trim(ce.Vars.Hole("nombres").Get()),[" "],0),{$:1,$0:1},null)),bz.get(bw.SplitChars(bw.Trim(ce.Vars.Hole("apellidos").Get()),[" "],0),0),bw.concat(" ",bG.array(bw.SplitChars(bw.Trim(ce.Vars.Hole("apellidos").Get()),[" "],0),{$:1,$0:1},null)),{$:3,$0:""},cp,co,[{$:1,$0:cu},{$:2,$0:cr},{$:0,$0:cv}])},(new b1.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.ejecutarEvento:-1486622886",[cw])),function(cx){a.alert((function(cy){return function(cz){return cy(bq.p$10(cz));};}(a.id))(cx));return cs.Zero();});}))))):a.alert("Error not caught FormaRegistro"));};};bj.formaDoc=function(){var ce,cf,cg,ch,ci,cj;ce=bi.formaDoc(bj.telefonoOV());cf=(cg=(ch=bW.Make().WithHole({$:2,$0:"mensajes",$1:bZ.Map2(function(ck,cl){return ck?cl:"";},bj.mostrar().get_View(),bj.mensajes().get_View())}).WithHole({$:2,$0:"mensajecorreo",$1:bZ.Map2(function(ck,cl){return ck?cl:"";},bj.mostrar().get_View(),bj.mensajeCorreo().get_View())}).WithHole({$:0,$0:"telefono",$1:ce[1]}),ch.WithHole(bX.EventQ2(ch.k,"registrarse",function(){return ch.i;},function(ck){var cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy;function cz(cA){a.alert(cA);}bj.mostrar().Set(true);cl=bj.mensajes().Get()+" "+bj.mensajeCorreo().Get();bw.Trim(cl)!==""?a.alert(cl):(cm=bj.telefonoOV().Get(),cn=T.tryParse(ck.Vars.Hole("estado").Get()),co=S.tryParse(ck.Vars.Hole("pais").Get()),cp=_4.tryParse(ck.Vars.Hole("genero").Get()),cq=(cr=ck.Vars.Hole("fechanacimiento").Get(),(J.parseDateO$1())(cr)),cm!=null&&cm.$==1&&(cn!=null&&cn.$==1&&(co!=null&&co.$==1&&(cp!=null&&cp.$==1&&(cq!=null&&cq.$==1&&(cs=[cn.$0,cq.$0,cp.$0,co.$0,cm.$0],true)))))?(ct=cs[0],cu=cs[1],cv=cs[2],cw=cs[3],cx=cs[4],E.iterA(function(cA){return cz(d.summarized(cA));},a.ignore,(cy=G.asyncResultM(),cy.Run(cy.Delay(function(){var cA,cB,cC;cA={$:0,$0:ck.Vars.Hole("correo").Get()};cB=_1.New(_0.Habitacion,bw.Trim(ck.Vars.Hole("direccion1").Get()),bw.Trim(ck.Vars.Hole("direccion2").Get()),bw.Trim(ck.Vars.Hole("ciudad").Get()),ct,cw,{$:0,$0:bw.Trim(ck.Vars.Hole("codigopostal").Get())});return cy.Bind$4((cC={$:2,$0:_5.New(null,bz.get(bw.SplitChars(bw.Trim(ck.Vars.Hole("nombres").Get()),[" "],0),0),bw.concat(" ",bG.array(bw.SplitChars(bw.Trim(ck.Vars.Hole("nombres").Get()),[" "],0),{$:1,$0:1},null)),bz.get(bw.SplitChars(bw.Trim(ck.Vars.Hole("apellidos").Get()),[" "],0),0),bw.concat(" ",bG.array(bw.SplitChars(bw.Trim(ck.Vars.Hole("apellidos").Get()),[" "],0),{$:1,$0:1},null)),{$:3,$0:""},cv,cu,[{$:1,$0:cA},{$:2,$0:cx},{$:0,$0:cB}])},(new b1.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.ejecutarEvento:-1486622886",[cC])),function(cD){a.alert((function(cE){return function(cF){return cE(bq.p$10(cF));};}(a.id))(cD));return cy.Zero();});}))))):a.alert("Error not caught FormaRegistro"));}))),(ci=bX.CompleteHoles(cg.k,cg.h,[["nombres",0],["apellidos",0],["fechanacimiento",0],["genero",0],["correo",0],["confirmarcorreo",0],["direccion1",0],["direccion2",0],["ciudad",0],["estado",0],["codigopostal",0],["pais",0]]),(cj=new bY.New(ci[1],bs.formaregistro(ci[0])),(cg.i=cj,cj))));bZ.Sink(function(ck){bj.mensajes().Set(ck);},bZ.Apply(bZ.Apply(bZ.Apply(bZ.Apply(bZ.Apply(bZ.Apply(bZ.Apply(bZ.Apply(bZ.Apply(bZ.Map2(function(ck,cl){return bu.Curried(function(cm,cn,co,cp,cq,cr,cs,ct,cu){var cv;cv=bw.concat(", ",bx.append(cu,bx.map(function(cw){return cw[1];},bx.filter(function(cw){return cw[0];},by.ofArray([[bw.Trim(ck)==="","Nombres"],[bw.Trim(cl)==="","Apellidos"],[bw.Trim(cm)==="","Direccion1"],[bw.Trim(cn)==="","Codigo Postal"],[bw.Trim(co)==="","Ciudad"],[bw.Trim(cp)==="","Estado"],[bw.Trim(cq)==="","Fecha de Nacimiento"],[bw.Trim(cr)==="","Genero"],[bw.Trim(cs)==="","Correo"],[bw.Trim(ct)==="","Confirmar Correo"]])))));return cv!==""?"Campos requeridos: "+cv:"";},9);},cf.Hole("nombres").get_View(),cf.Hole("apellidos").get_View()),cf.Hole("direccion1").get_View()),cf.Hole("codigopostal").get_View()),cf.Hole("ciudad").get_View()),cf.Hole("estado").get_View()),cf.Hole("fechanacimiento").get_View()),cf.Hole("genero").get_View()),cf.Hole("correo").get_View()),cf.Hole("confirmarcorreo").get_View()),ce[0]));bZ.Sink(function(ck){bj.mensajeCorreo().Set(ck);},bZ.Map2(function(ck,cl){return bw.Trim(ck)!==bw.Trim(cl)?"El Correo Electronico no es el mismo":"";},cf.Hole("correo").get_View(),cf.Hole("confirmarcorreo").get_View()));return cf.get_Doc();};bj.telefonoOV=function(){bo.$cctor();return bo.telefonoOV;};bj.mostrar=function(){bo.$cctor();return bo.mostrar;};bj.mensajeCorreo=function(){bo.$cctor();return bo.mensajeCorreo;};bj.mensajes=function(){bo.$cctor();return bo.mensajes;};bk.aliados$5025$45=function(ce,cf){return function(){ce(cf);};};bk.aliados$5023$45=function(ce,cf){return function(){ce(cf);};};bk.aliados=function(){var ce,cf,cg,ch,ci,cj,ck;function cl(cv){var cw,cx;cw=(cx=cf.Get(),cx==null?null:{$:1,$0:cx.$0(cv)});return cw==null?[]:cw.$0;}function cm(cv){var cw,cx;return(cw=(cx=cv.titulo,cx==null?null:{$:1,$0:" "+cx.$0}),cw==null?"":cw.$0)+(cv.apellido1===""?"":cv.apellido1+", ")+cv.nombre1;}function cn(cv){return cv.nReferidos===0?"-":(((bu.Curried3(function(cw,cx,cy){return cw(a.String(cx)+"/"+a.String(cy));}))(a.id))(cv.nRefActivos))(cv.nReferidos);}function co(cv){return cv.nDescendientes===0?"-":(((bu.Curried3(function(cw,cx,cy){return cw(a.String(cx)+"/"+a.String(cy));}))(a.id))(cv.nDescActivos))(cv.nDescendientes);}function cp(cv){return cv===0?"-":bg.money(cv);}function cq(cv){return bZ.Map(function(cw){return bx.isEmpty(cl(cv))?"":bE.Equals(cw==null?null:{$:1,$0:cw.$0.Contains(cv)},{$:1,$0:true})?"Expandido":"Colapsado";},ce.get_View());}function cr(cv){var cw,cx,cy;ce.Set({$:1,$0:((bE.Equals((cw=ce.Get(),cw==null?null:{$:1,$0:cw.$0.Contains(cv)}),{$:1,$0:true})?function(cz){return function(cA){return cA.Remove(cz);};}:function(cz){return function(cA){return cA.Add(cz);};})(cv))((cx=ce.Get(),(cy=new bJ.New$1(null),cx==null?cy:cx.$0)))});}function cs(cv){var cw,cx;cw=(cx=bg.modeloV().Get(),$.New(cv,cx.aliados,cx.anoActual,cx.periodoActual,cx.premisas,cx.nevento));bg.modeloV().Set(cw);}function ct(cv){var cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cP,cQ;function cJ(cR){return cR.comision;}function cK(cR){return cR.status;}function cL(cR){return[cR.nRefActivos,cR.nReferidos];}function cM(cR){return[cR.nDescActivos,cR.nDescendientes];}function cN(cR){return cm(cR.datosPersonales);}function cO(cR){return bx.delay(function(){return bx.append([cR],bx.delay(function(){var cS,cT;return(cS=(cT=ce.Get(),cT==null?null:{$:1,$0:cT.$0.Contains(cR.id)}),cS==null?false:cS.$0)?bx.collect(cO,cQ.hijos(cR)):[];}));});}cP=(cw=(cx=(cy=(cz=(cA=(bu.Curried3(I.desc))(cJ),cB=(bu.Curried3(I.asc))(cK),bu.Curried(I.op_AmpGreater,2,[function(cR,cS){return(cA(cR))(cS);},function(cR,cS){return(cB(cR))(cS);}])),cC=(bu.Curried3(I.desc))(cL),bu.Curried(I.op_AmpGreater,2,[function(cR,cS){return(cz(cR))(cS);},function(cR,cS){return(cC(cR))(cS);}])),cD=(bu.Curried3(I.desc))(cM),bu.Curried(I.op_AmpGreater,2,[function(cR,cS){return(cy(cR))(cS);},function(cR,cS){return(cD(cR))(cS);}])),cE=(bu.Curried3(I.asc))(cN),bu.Curried(I.op_AmpGreater,2,[function(cR,cS){return(cx(cR))(cS);},function(cR,cS){return(cE(cR))(cS);}])),bx.sortWith(function(cR,cS){return(cw(cR))(cS);},cv));cQ=ba.busqueda(cP);cf.Set({$:1,$0:cQ.hijosDe});try{cG=bx.min(bx.map(function(cR){return cR.nivel;},cP));}catch(cR){cG=1;}cH=bx.filter(function(cS){return cS.nivel===cG;},cP);bx.isEmpty(cH)?ce.Set(null):ce.Get()==null?(ce.Set({$:1,$0:new bJ.New(bx.map(function(cS){return cS.id;},cH))}),cI=bx.tryHead(bx.map(function(cS){return cS.id;},cH)),cI==null?void 0:cs(cI.$0)):void 0;return bx.delay(function(){return bx.collect(cO,cH);});}function cu(cv,cw){var cx,cy,cz,cA,cB,cC;return(cx=(cy=(cz=(cA=cq(cv),bW.Make().WithHole({$:2,$0:"nombre",$1:bZ.Map(function(cD){return cm(cD.datosPersonales);},cw)}).WithHole({$:2,$0:"status",$1:bZ.Map(function(cD){return(function(cE){return function(cF){return cE(bq.p$12(cF));};}(a.id))(cD.status);},cw)}).WithHole({$:2,$0:"tipo",$1:bZ.Map(function(cD){return(function(cE){return function(cF){return cE(bq.p$11(cF));};}(a.id))(cD.tipo);},cw)}).WithHole({$:2,$0:"nivel",$1:bZ.Map(function(cD){return a.String(cD.nivel);},cw)}).WithHole({$:2,$0:"referidos",$1:bZ.Map(cn,cw)}).WithHole({$:2,$0:"descendientes",$1:bZ.Map(co,cw)}).WithHole({$:2,$0:"comision",$1:bZ.Map(function(cD){return cp(cD.comision);},cw)}).WithHole({$:2,$0:"expandido",$1:cA})),cz.WithHole(bX.EventQ2(cz.k,"expandir",function(){return cz.i;},function(){cr(cv);}))).WithHole({$:2,$0:"seleccionado",$1:bZ.Map(function(cD){return bE.Equals(cv,cD.idAliado)?"seleccionado":"";},bg.modeloV().get_View())}),cy.WithHole(bX.EventQ2(cy.k,"seleccionar",function(){return cy.i;},function(){cs(cv);}))),(cB=bX.CompleteHoles(cx.k,cx.h,[]),(cC=new bY.New(cB[1],bs.filaaliado(cB[0])),(cx.i=cC,cC)))).get_Doc();}ce=b2.Create$1(null);cf=b2.Create$1(null);return(cg=(ch=b3.ConvertSeqBy(function(cv){return cv.id;},function(cv){return function(cw){return cu(cv,cw);};},(ci=bZ.Map(function(cv){return cv.aliados;},bg.modeloV().get_View()),bZ.Map2(function(cv,cw){return ct(cw);},ce.get_View(),ci))),bW.Make().WithHole({$:0,$0:"tbody",$1:ch})),(cj=bX.CompleteHoles(cg.k,cg.h,[]),(ck=new bY.New(cj[1],bs.tablaaliados(cj[0])),(cg.i=ck,ck)))).get_Doc();};bl.aliado=function(){function ce(cg){var ch,ci;return(ch=(ci=cg.titulo,ci==null?null:{$:1,$0:" "+ci.$0}),ch==null?"":ch.$0)+cg.nombre1+" "+cg.apellido1;}function cf(cg){var ch,ci,cj,ck;return(ch=(ci=bl.calculo(),bW.Make().WithHole({$:2,$0:"nombre",$1:bZ.Map(function(cl){return ce(cl.datosPersonales);},cg)}).WithHole({$:2,$0:"status",$1:bZ.Map(function(cl){return(function(cm){return function(cn){return cm(bq.p$12(cn));};}(a.id))(cl.status);},cg)}).WithHole({$:2,$0:"tipo",$1:bZ.Map(function(cl){return(function(cm){return function(cn){return cm(bq.p$11(cn));};}(a.id))(cl.tipo);},cg)}).WithHole({$:2,$0:"contacto",$1:bZ.Map(function(cl){return(function(cm){return function(cn){return cm(bv.toSafe(cn)+"@hotmail.com");};}(a.id))(cl.datosPersonales.apellido1);},cg)}).WithHole({$:0,$0:"calculo",$1:ci})),(cj=bX.CompleteHoles(ch.k,ch.h,[]),(ck=new bY.New(cj[1],bs.aliado(cj[0])),(ch.i=ck,ck)))).get_Doc();}return b3.BindView(a.id,bZ.Map(function(cg){return cg==null?b3.get_Empty():cf(bZ.Map(function(ch){return ch.$0;},bl.alvO()));},bl.alvO()));};bl.calculo=function(){var ce,cf,cg;function ch(ci){var cj,ck,cl,cm,cn;cj=bZ.Map2(ba.comision,ce,ci);ck=bZ.Map2(ba.premisas,ce,ci);return(cl=bW.Make().WithHole({$:2,$0:"referidos",$1:bZ.Map(function(co){return(function(cp){return function(cq){return cp(a.String(cq));};}(a.id))(co.nReferidos);},ci)}).WithHole({$:2,$0:"refactivos",$1:bZ.Map(function(co){return(function(cp){return function(cq){return cp(a.String(cq));};}(a.id))(co.nRefActivos);},ci)}).WithHole({$:2,$0:"comreferido",$1:bZ.Map(function(co){return(function(cp){return function(cq){return cp(a.String(cq));};}(a.id))(co.nRefActivos);},ci)}).WithHole({$:2,$0:"descendientes",$1:bZ.Map(function(co){return(function(cp){return function(cq){return cp(a.String(cq));};}(a.id))(co.nDescendientes);},ci)}).WithHole({$:2,$0:"desactivos",$1:bZ.Map(function(co){return(function(cp){return function(cq){return cp(a.String(cq));};}(a.id))(co.nDescActivos);},ci)}).WithHole({$:2,$0:"comision",$1:bZ.Map(function(co){return bg.money(co[0]+co[1]);},cj)}).WithHole({$:2,$0:"comreferido",$1:bZ.Map(function(co){return bg.money(co[0]);},cj)}).WithHole({$:2,$0:"comdescendiente",$1:bZ.Map(function(co){return bg.money(co[1]);},cj)}).WithHole({$:2,$0:"porreferido",$1:bZ.Map(function(co){return bg.money(co[0]);},ck)}).WithHole({$:2,$0:"pordescendiente",$1:bZ.Map(function(co){return bg.money(co[1]);},ck)}),(cm=bX.CompleteHoles(cl.k,cl.h,[]),(cn=new bY.New(cm[1],bs.calculo(cm[0])),(cl.i=cn,cn)))).get_Doc();}ce=bZ.Map(function(ci){return ci.premisas;},bg.modeloV().get_View());cf=(cg=bZ.Map(function(ci){return ci.aliados;},bg.modeloV().get_View()),bZ.Map2(function(ci,cj){return bx.tryFind(function(ck){return bE.Equals(ck.id,ci);},cj);},bZ.Map(function(ci){return ci.idAliado;},bg.modeloV().get_View()),cg));return b3.BindView(a.id,bZ.Map(function(ci){return ci==null?b3.get_Empty():ch(bZ.Map(function(cj){return cj.$0;},cf));},cf));};bl.alvO=function(){bo.$cctor();return bo.alvO;};bm.mainProgram=function(){var ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp;ce=b2.Create$1("Prozper");cf=bZ.Map(function(cq){return bm.mesToString(cq.periodoActual);},bg.modeloV().get_View());cg=bZ.Map(function(cq){return a.String(cq.anoActual);},bg.modeloV().get_View());b5.addPlugIn(b6.New("Prozper",[b5.newVar("title",ce),b5.newVar("contentVar",bg.contentVar())],[b5.newViw("mesActual",cf),b5.newViw("anoActual",cg)],[b5.newDoc("Aliados",b7.Create(bk.aliados)),b5.newDoc("Aliado",b7.Create(bl.aliado)),b5.newDoc("Calculo",b7.Create(bl.calculo)),b5.newDoc("FormaRegistro",b7.Create(bj.formaDoc)),b5.newDoc("contentDoc",b7.Create(bm.getContentDoc))],[b5.newAct("Logout",function(){bm.logout();})],[]));b8.addLayout((ch=(ci=self.document.getElementById("GlobalLayout"),bE.Equals(ci,null)?"\r\n                    menuEditor       horizontal  65       menuLogo                  editorMessages\r\n                    double           horizontal  0-50-100 AppFramework.AppFwkClient menuEditor\r\n                    menuLogo         vertical    350      logo                      menu\r\n                    logo             span       \"margin:0; color:gray; font-size: 55px; font-weight:530\" \"F# Station\"\r\n                    editorMessages   horizontal 10-83-100 editorButtons             messages\r\n                    messages         vertical   0-50-100  messagesLeft              messagesRight\r\n                    editorButtons    vertical -200 snippetsSnippet buttons\r\n                    buttons div      \"overflow: hidden; display: grid; grid-template-columns: 100%; grid-template-rows: repeat(15, calc(100% / 15)); bxackground-color: #eee; box-sizing: border-box; padding : 5px; grid-gap: 5px; margin-right: 21px\" btnSaveAs none x btnAddSnippet btnDeleteSnippet btnIndentIn btnIndentOut none x btnRunFS none x btnAbortFsi\r\n                    snippetsSnippet  vertical   0-20-100  snippets                  editorProperties\r\n                    snippets         horizontal 20        \"${FSharpStation.CurrentPath}\" FSharpStation.Snippets\r\n                    editorProperties vertical   0-100-100 snippet                   properties\r\n                    properties       div        \"\"        FSharpStation.Properties\r\n                    snippet          horizontal 35        Name                      FSharpStation.editor\r\n                    menu             span  \"\" btnLoad btnImport\r\n        \r\n                    btnSaveAs        button FSharpStation.SaveAs         \"class=btn ${FSharpStation.SaveNeeded}\" \"Save as...    \"\r\n                    btnAddDimension  button RuleEditor.AddDimension      \"\"                  \"Add Dimension \"\r\n                    btnDeleteSnippet button FSharpStation.RemoveSnippet  \"\"                  \"Delete Snippet\"\r\n                    btnIndentIn      button FSharpStation.IndentIn       \"\"                  \"Indent In  >> \"\r\n                    btnIndentOut     button FSharpStation.IndentOut      \"\"                  \"Indent Out << \"\r\n                    btnRunFS         button FSharpStation.RunFS          \"\"                  \"Run F#        \"\r\n                    btnAbortFsi      button FSharpStation.AbortFsi       \"\"                  \"Abort Fsi     \"\r\n        \r\n                    messagesLeft     wcomp-tabstrip                      \"\"                  Output FsCode\r\n                    messagesRight    wcomp-tabstrip                      \"\"                  Parser\r\n        \r\n                    Output           textarea  FSharpStation.Output      \"tabname=Output ; placeholder=Output messages ; spellcheck=false\" \r\n                    FsCode           textarea  FSharpStation.FsCode      \"tabname=F# Code; placeholder=F# Code         ; spellcheck=false\" \r\n                    Parser           textarea  FSharpStation.Parser      \"tabname=Parser ; placeholder=Parser messages; dblclick=${FSharpStation.JumpTo} ; spellcheck=false\" \r\n                    Name             Doc       InputLabel                \"\"     \"Name:\"        FSharpStation.SnippetName\r\n                    btnLoad          Doc       InputFile                 \"\"     \"Load File...\" FSharpStation.LoadFile  FileName\r\n                    btnImport        Doc       InputFile                 \"\"     \"Import...\"    FSharpStation.Import    \"\"\r\n                    FileName         div                                 \"class=form-control\"  FSharpStation.fileName\r\n                   ":ci.textContent),b8.newLyt(bm.layoutName(),ch)));cj=(ck=null,(cl=bm.layoutName(),ck==null?cl:ck.$0));b5.mainDocV().Set(cj);bf.iterA((cm=G.asyncResultM(),cm.Run(cm.Delay(function(){return cm.Bind$4((new b1.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.leerDataModelo:1546275073",[]),function(cq){bg.modeloV().Set(cq);return cm.Zero();});}))));cn=(co=b5.getMainDoc().f(),bW.Make().WithHole({$:0,$0:"maincontent",$1:co}));cp=bX.CompleteHoles(cn.k,cn.h,[]);cn.i=new bY.New(cp[1],b_.RunFullDocTemplate(cp[0]));bZ.Sink(function(cq){self.document.title=cq;},ce.get_View());};bm.getContentDoc=function(){return b3.EmbedView(bZ.Map(function(ce){var cf,cg,ch;cf=(cg=(ch=((b8.splitName())("Prozper"))(ce),b5.tryGetDoc(ch[0],ch[1])),cg==null?null:{$:1,$0:b8.getDocFinal(by.T.Empty,cg.$0)});return cf==null?b8.errDoc((function(ci){return function(cj){return ci("Doc not found "+bv.toSafe(cj));};}(a.id))(ce)):cf.$0;},bg.contentVar().get_View()));};bm.logout=function(){var ce;bf.iterA((ce=G.asyncResultM(),ce.Run(ce.Delay(function(){return ce.Bind$4((new b1.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.logoutUser:933851348",[]),function(){self.location.reload();return ce.Zero();});}))));};bm.mesToString=function(ce){return ce===1?"Ene":ce===2?"Feb":ce===3?"Mar":ce===4?"Abr":ce===5?"May":ce===6?"Jun":ce===7?"Jul":ce===8?"Ago":ce===9?"Sep":ce===10?"Oct":ce===11?"Nov":ce===12?"Dic":"---";};bm.scrollToBottom=function(ce,cf){var cg;bA.Start((cg=null,bA.Delay(function(){return bA.Bind(bA.Sleep(100),function(){ce.scrollTop=ce.scrollHeight;return bA.Zero();});})),null);};bm.layoutName=function(){bo.$cctor();return bo.layoutName;};bn.content$5304$35=function(){return function(ce){var cf;if(ce.Vars.Hole("username").Get()!==""&&ce.Vars.Hole("password").Get()!==""){bf.iterA((cf=G.asyncResultM(),cf.Run(cf.Delay(function(){return cf.Bind$4((new b1.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.loginUser:-1419667674",[ce.Vars.Hole("username").Get(),ce.Vars.Hole("password").Get()]),function(){self.location.reload();return cf.Zero();});}))));}};};bn.content$5294$58=function(){bm.mainProgram();return b3.TextNode("Initialized");};P.premisasCalculo=function(){bo.$cctor();return bo.premisasCalculo;};bo.$cctor=function(){var ce,cf,cg,ch,ci;bo.$cctor=a.ignore;function cj(cn){return bw.concat("\n",cn);}function ck(cn){return H.splitByChar$1("\n",cn);}function cl(cn){var co,cp;return bG.array(cn,{$:1,$0:0},{$:1,$0:(co=0,(cp=bz.length(cn)-2,bE.Compare(co,cp)===1?co:cp))});}function cm(cn){return bw.concat("\n",cn);}bo.rtn=function(cn){return[cn];};bo.result=new l.New();bo.result$1=k.result();bo.eff=new s.New();bo.resultM=new B.New();bo.asyncResultM=new F.New();bo.unindentStr=function(cn){return cj(H.unindent$1(cn));};bo.skipLastLine=(ce=function(cn){return cl(ck(cn));},function(cn){return cm(ce(cn));});bo.parseDateO=J.tryParseWith$1(function(cn){var co,cp;co=0;return[(cp=b$.TryParse(cn),cp!=null&&cp.$==1&&(co=cp.$0,true)),co];});bo.parseIntO=J.tryParseWith$1(function(cn){var co;co=0;return[ca.TryParseInt32(cn,{get:function(){return co;},set:function(cp){co=cp;}}),co];});bo.parseSingleO=J.tryParseWith$1(function(cn){var co,cp;co=0;return[(cp=a.Number(cn),a.isNaN(cp)?false:(co=cp,true)),co];});bo.parseDoubleO=J.tryParseWith$1(function(cn){var co,cp;co=0;return[(cp=a.Number(cn),a.isNaN(cp)?false:(co=cp,true)),co];});bo.parseGuidO=J.tryParseWith$1(function(cn){var co;co=null;return[bR.TryParse(cn,{get:function(){return co;},set:function(cp){co=cp;}}),co];});bo["|Date|_|"]=J.parseDateO$1();bo["|Int|_|"]=J.parseIntO$1();bo["|Single|_|"]=J.parseSingleO$1();bo["|Double|_|"]=J.parseDoubleO$1();bo["|Guid|_|"]=J.parseGuidO$1();bo.serString=[K.toJsonString,function(cn){return cn.tryString();}];bo.serFloat=[function(cn){return(function(co){return function(cp){return co(bv.prettyPrint(cp));};}(a.id))(cn);},function(cn){return cn.tryFloat();}];bo.serInt=[function(cn){return(function(co){return function(cp){return co(bv.prettyPrint(cp));};}(a.id))(cn);},function(cn){return cn.tryInt();}];bo.serBool=[function(cn){return(function(co){return function(cp){return co(bv.prettyPrint(cp));};}(a.id))(cn);},function(cn){return cn.tryBool();}];bo.rootdir="..\\website";bo.TemplatesFileName="..\\website"+"\\Templates.html";bo.LoginFileName="..\\website"+"\\Login.html";((function(cn){return function(co){return cn(bv.toSafe(co));};}(function(cn){bF.log(cn);}))("..\\website\\Templates.html"));bo.premisasCalculo=_.New(15,25,25,0,75,31,15,22);bo.modeloV=b2.Create$1($.New({$:0,$0:":"},[],(cf=bP.now(),(new bP(cf)).getFullYear()),(cg=bP.now(),(new bP(cg)).getMonth()+1),P.premisasCalculo(),-2));bo.endPointV=b2.Create$1(bh.DefaultEP);bo.contentVar=b2.Create$1("ProzperLyt.mainContent");ch=bp.r();cb.InstallHashInto(bg.endPointV(),bh.DefaultEP,ch);bZ.Sink(function(cn){if(bg.contentVar().Get()!==cn)bg.contentVar().Set(cn);},bZ.Map(function(cn){return cn.$==1?cn.$0:"ProzperLyt.mainContent";},bg.endPointV().get_View()));bZ.Sink(function(cn){if(!bE.Equals(bg.endPointV().Get(),cn))bg.endPointV().Set(cn);},bZ.Map(function(cn){return cn==="ProzperLyt.mainContent"?bh.DefaultEP:{$:1,$0:cn};},bg.contentVar().get_View()));bo.mensajes=b2.Create$1("");bo.mensajeCorreo=b2.Create$1("");bo.mostrar=b2.Create$1(false);bo.telefonoOV=b2.Create$1(null);bo.alvO=(ci=bZ.get_Do(),bZ.Bind(function(cn){return bZ.Const(bx.tryFind(function(co){return bE.Equals(co.id,cn.idAliado);},cn.aliados));},bg.modeloV().get_View()));bo.layoutName="ProzperLyt";};bp.r=function(){return cd.JSUnion(void 0,[[null,[[null,[]]],[]],[null,[[null,["Content"]]],[cd.rString()]]]);};bq.p=function(ce){return"IdAliado "+bv.prettyPrint(ce.$0);};br.p=function(ce){return"{"+("titulo = "+bq.p$2(ce.titulo))+"; "+("nombre1 = "+bv.prettyPrint(ce.nombre1))+"; "+("nombre2 = "+bv.prettyPrint(ce.nombre2))+"; "+("apellido1 = "+bv.prettyPrint(ce.apellido1))+"; "+("apellido2 = "+bv.prettyPrint(ce.apellido2))+"; "+("nacionalidad = "+bq.p$3(ce.nacionalidad))+"; "+("genero = "+bq.p$4(ce.genero))+"; "+("fechaNacimiento = "+bv.prettyPrint(ce.fechaNacimiento))+"; "+("contactos = "+bv.printArray(function(cf){return bq.p$5(cf);},ce.contactos))+"}";};bq.p$5=function(ce){return ce.$==5?"SocialMedia "+bv.prettyPrint(ce.$0):ce.$==4?"PaginaWeb "+bv.prettyPrint(ce.$0):ce.$==3?"Mensajeria "+bv.prettyPrint(ce.$0):ce.$==2?"Telefono "+br.p$2(ce.$0):ce.$==1?"CorreoElectronico "+bq.p$1(ce.$0):"Direccion "+br.p$1(ce.$0);};br.p$2=function(ce){return"{"+("tipoTelefono = "+bq.p$9(ce.tipoTelefono))+"; "+("codigoPais = "+bv.prettyPrint(ce.codigoPais))+"; "+("codigoArea = "+bv.prettyPrint(ce.codigoArea))+"; "+("numero = "+bv.prettyPrint(ce.numero))+"; "+("mensajes = "+bv.prettyPrint(ce.mensajes))+"}";};bq.p$9=function(ce){return ce.$==3?"Voip":ce.$==2?"Habitacion":ce.$==1?"Oficina":"Movil";};bq.p$8=function(ce){return"ZonaPostal "+bv.prettyPrint(ce.$0);};br.p$1=function(ce){return"{"+("tipoDireccion = "+bq.p$6(ce.tipoDireccion))+"; "+("linea1 = "+bv.prettyPrint(ce.linea1))+"; "+("linea2 = "+bv.prettyPrint(ce.linea2))+"; "+("ciudad = "+bv.prettyPrint(ce.ciudad))+"; "+("estado = "+bq.p$7(ce.estado))+"; "+("pais = "+bq.p$3(ce.pais))+"; "+("zonaPostal = "+bq.p$8(ce.zonaPostal))+"}";};bq.p$7=function(ce){return ce.$==2?"OtroS "+bv.prettyPrint(ce.$0):ce.$==1?"Florida":"Texas";};bq.p$6=function(ce){return ce.$==3?"Otro "+bv.prettyPrint(ce.$0):ce.$==2?"ServicioPostal":ce.$==1?"Oficina":"Habitacion";};bq.p$4=function(ce){return ce.$==2?"Empresa":ce.$==1?"Femenino":"Masculino";};bq.p$3=function(ce){return ce.$==3?"OtroP "+bv.prettyPrint(ce.$0):ce.$==2?"Argentina":ce.$==1?"Venezuela":"USA";};bq.p$2=function(ce){return ce==null?"null":"Some "+bv.prettyPrint(ce.$0);};bq.p$1=function(ce){return"EMail "+bv.prettyPrint(ce.$0);};bs.telefono=function(ce){b_.LoadLocalTemplates("templates");return ce?b_.NamedTemplate("templates",{$:1,$0:"telefono"},ce):void 0;};bq.p$10=function(ce){return ce.$==1?"NuevoRegistro "+bv.prettyPrint(ce.$0):"ROk";};bs.formaregistro=function(ce){b_.LoadLocalTemplates("templates");return ce?b_.NamedTemplate("templates",{$:1,$0:"formaregistro"},ce):void 0;};bs.tablaaliados=function(ce){b_.LoadLocalTemplates("templates");return ce?b_.NamedTemplate("templates",{$:1,$0:"tablaaliados"},ce):void 0;};bs.filaaliado=function(ce){b_.LoadLocalTemplates("templates");return ce?b_.NamedTemplate("templates",{$:1,$0:"filaaliado"},ce):void 0;};bq.p$12=function(ce){return ce.$==1?"Inactivo":"Activo";};bq.p$11=function(ce){return ce.$==1?"Regular":"Master";};bs.aliado=function(ce){b_.LoadLocalTemplates("templates");return ce?b_.NamedTemplate("templates",{$:1,$0:"aliado"},ce):void 0;};bs.calculo=function(ce){b_.LoadLocalTemplates("templates");return ce?b_.NamedTemplate("templates",{$:1,$0:"calculo"},ce):void 0;};}());

//# sourceMappingURL=StackOverflow.min.map