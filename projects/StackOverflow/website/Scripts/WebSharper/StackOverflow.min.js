(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy;a=self;b=a.FsRoot=a.FsRoot||{};c=b.Library=b.Library||{};d=c.Dict=c.Dict||{};e=c.ResultMessage=c.ResultMessage||{};f=c.ResultMessageHelpers=c.ResultMessageHelpers||{};g=c.Monads=c.Monads||{};h=g.Seq=g.Seq||{};i=g.Option=g.Option||{};j=g.Async=g.Async||{};k=a.WebSharper;l=k&&k.Obj;m=g.Result=g.Result||{};n=m.Builder=m.Builder||{};o=m.Operators=m.Operators||{};p=g.Eff=g.Eff||{};q=p.Eff=p.Eff||{};r=p.Done=p.Done||{};s=q.LambdaT=q.LambdaT||{};t=p.Operators=p.Operators||{};u=p.EffBuilder=p.EffBuilder||{};v=p.State=p.State||{};w=v.Put=v.Put||{};x=v.Get=v.Get||{};y=p.Log=p.Log||{};z=y.LogEntry=y.LogEntry||{};A=p.Rsl=p.Rsl||{};B=A.Fail=A.Fail||{};C=g.ResultM=g.ResultM||{};D=C.Builder=C.Builder||{};E=C.Operators=C.Operators||{};F=g.ResultMAutoOpen=g.ResultMAutoOpen||{};G=g.AsyncResultM=g.AsyncResultM||{};H=G.AsyncResultMBuilder=G.AsyncResultMBuilder||{};I=g.AsyncResultMAutoOpen=g.AsyncResultMAutoOpen||{};J=c.String=c.String||{};K=c.Array=c.Array||{};L=c.SortWith=c.SortWith||{};M=c.ParseO=c.ParseO||{};N=c.Serializer=c.Serializer||{};O=N.JsonIntermediate=N.JsonIntermediate||{};P=c.MailboxProcessorExt=c.MailboxProcessorExt||{};Q=c.Mailbox=c.Mailbox||{};R=Q.StateFull=Q.StateFull||{};S=b.LibraryJS=b.LibraryJS||{};T=S.Date=S.Date||{};U=b.StackOverflow=b.StackOverflow||{};V=U.Templating=U.Templating||{};W=U.TypesV0=U.TypesV0||{};X=W.LatestType=W.LatestType||{};Y=W.TipoAliado=W.TipoAliado||{};Z=W.Pais=W.Pais||{};_0=W.Estado=W.Estado||{};_1=W.Identificacion=W.Identificacion||{};_2=W.TipoCuenta=W.TipoCuenta||{};_3=W.CuentaBancaria=W.CuentaBancaria||{};_4=W.StatusAliado=W.StatusAliado||{};_5=W.ConceptoPago=W.ConceptoPago||{};_6=W.Transaccion=W.Transaccion||{};_7=W.TipoDireccion=W.TipoDireccion||{};_8=W.ZonaPostal=W.ZonaPostal||{};_9=W.Direccion=W.Direccion||{};_=W.CorreoElectronico=W.CorreoElectronico||{};$=W.TipoTelefono=W.TipoTelefono||{};ba=W.Telefono=W.Telefono||{};bb=W.Genero=W.Genero||{};bc=W.DatosPersonales=W.DatosPersonales||{};bd=W.TipoMensaje=W.TipoMensaje||{};be=W.Remitente=W.Remitente||{};bf=W.Mensaje=W.Mensaje||{};bg=W.Aliado=W.Aliado||{};bh=W.PremisasCalculo=W.PremisasCalculo||{};bi=W.Modelo=W.Modelo||{};bj=U.TypesV1=U.TypesV1||{};bk=bj.LatestType=bj.LatestType||{};bl=bj.StatusContacto=bj.StatusContacto||{};bm=bj.CorreoElectronico=bj.CorreoElectronico||{};bn=bj.Aliado=bj.Aliado||{};bo=bj.Modelo=bj.Modelo||{};bp=U.Aliado=U.Aliado||{};bq=bp.Buscar=bp.Buscar||{};br=U.Evento=U.Evento||{};bs=U.Respuesta=U.Respuesta||{};bt=U.Rpc=U.Rpc||{};bu=U.ModeloUI=U.ModeloUI||{};bv=bu.EndPoint=bu.EndPoint||{};bw=bu.VariousUI=bu.VariousUI||{};bx=bu.Telefono=bu.Telefono||{};by=bu.CorreoElectronico=bu.CorreoElectronico||{};bz=bu.Direccion=bu.Direccion||{};bA=bu.DatosPersonales=bu.DatosPersonales||{};bB=bu.FormaRegistro=bu.FormaRegistro||{};bC=bu.FormaDatos=bu.FormaDatos||{};bD=bu.FormaGenerica=bu.FormaGenerica||{};bE=bu.FormaContactos=bu.FormaContactos||{};bF=bu.RenderAliados=bu.RenderAliados||{};bG=bu.RenderAliado=bu.RenderAliado||{};bH=U.MainProgram=U.MainProgram||{};bI=U.EndPoints=U.EndPoints||{};bJ=a.StartupCode$StackOverflow$StackOverflow=a.StartupCode$StackOverflow$StackOverflow||{};bK=a.StackOverflow_Router=a.StackOverflow_Router||{};bL=a.StackOverflow_GeneratedPrintf=a.StackOverflow_GeneratedPrintf||{};bM=a.StackOverflow_Templates=a.StackOverflow_Templates||{};bN=a.IntelliFactory;bO=bN&&bN.Runtime;bP=k&&k.Utils;bQ=k&&k.Strings;bR=k&&k.Seq;bS=k&&k.List;bT=k&&k.Arrays;bU=k&&k.Concurrency;bV=k&&k.Enumerator;bW=k&&k.Result;bX=k&&k.Operators;bY=k&&k.Unchecked;bZ=a.console;b0=k&&k.Slice;b1=k&&k.Collections;b2=b1&&b1.FSharpMap;b3=b1&&b1.FSharpSet;b4=b1&&b1.BalancedTree;b5=k&&k.Control;b6=b5&&b5.MailboxProcessor;b7=k&&k.CancellationTokenSource;b8=b1&&b1.Dictionary;b9=k&&k.UI;b_=b9&&b9.Doc;b$=b9&&b9.View;ca=b9&&b9.Templating;cb=ca&&ca.Runtime;cc=cb&&cb.Server;cd=cc&&cc.ProviderBuilder;ce=cc&&cc.Handler;cf=cc&&cc.TemplateInstance;cg=b9&&b9.Var$1;ch=a.System;ci=ch&&ch.Guid;cj=k&&k.Remoting;ck=cj&&cj.AjaxRemotingProvider;cl=b9&&b9.FromView;cm=b9&&b9.AttrProxy;cn=S&&S.AppFramework;co=cn&&cn.PlugIn;cp=k&&k.Lazy;cq=S&&S.LayoutEngineModule;cr=b9&&b9.Client;cs=cr&&cr.Templates;ct=k&&k.DateUtil;cu=k&&k.Numeric;cv=a.Date;cw=b9&&b9.Router;cx=k&&k.Sitelets;cy=cx&&cx.RouterOperators;d.add=function(cz,cA,cB){if(cB.ContainsKey(cz))cB.set_Item(cz,cA);else cB.Add(cz,cA);};e=c.ResultMessage=bO.Class({toString:function(){return this.$==1?(function(cz){return function(cA){return cz("Error    : "+bP.toSafe(cA));};}(a.id))(this.$0):this.$==2?(function(cz){return function(cA){return cz("Warning  : "+bP.toSafe(cA));};}(a.id))(this.$0):this.$==3?this.$0:this.$==4?(function(cz){return function(cA){return cz(a.String(cA));};}(a.id))(this.$0):this.$==5?(((bO.Curried3(function(cz,cA,cB){return cz("Exception: "+bP.toSafe(cA)+", "+bP.toSafe(cB));}))(a.id))(this.$0))(this.$1):this.$==6?bQ.concat("\n",bR.map(a.String,bR.filter(function(cz){return cz.$!=0;},this.$0))):"";}},null,e);e.NoMsg=new e({$:0});f.infof=function(cz){return cz(function(cA){return new e({$:3,$0:cA});});};f.warningf=function(cz){return cz(function(cA){return new e({$:2,$0:cA});});};f.errorMsgf=function(cz){return cz(function(cA){return new e({$:1,$0:cA});});};e.summarizedI=function(cz){return e.summarizedF(function(){return[0,0,1];},cz);};e.summarizedW=function(cz){return e.summarizedF(function(){return[0,1,0];},cz);};e.summarized=function(cz){return e.summarizedF(function(){return[1,0,0];},cz);};e.summarizedF=function(cz,cA){return bQ.concat("\n",bR.filter(function(cB){return""!==cB;},bS.ofArray([a.String(cA),e.summaryF(cz,cA)])));};e.summaryF=function(cz,cA){var cB,cC;cC=e.countF(cz,cA);switch(cC[0]===0?cC[1]===0?0:cC[1]===1?cC[2]===0?0:(cB=cC[1],2):(cB=cC[1],2):cC[0]===1?cC[1]===0?cC[2]===0?0:(cB=cC[0],1):(cB=[cC[0],cC[1]],3):cC[1]===0?(cB=cC[0],1):(cB=[cC[0],cC[1]],3)){case 0:return"";case 1:return(function(cD){return function(cE){return cD("Errors   : "+a.String(cE)+"\n");};}(a.id))(cB);case 2:return(function(cD){return function(cE){return cD("Warnings : "+a.String(cE)+"\n");};}(a.id))(cB);case 3:return(((bO.Curried3(function(cD,cE,cF){return cD("Errors   : "+a.String(cE)+", Warnings: "+a.String(cF)+"\n");}))(a.id))(cB[0]))(cB[1]);}};e.reduceMsgs=function(cz){return bR.fold(e.addMsg,e.NoMsg,cz);};e.addMsg=function(cz,cA){return cz.$==0?cA:cz.$==6?cA.$==0?cz:cA.$==6?new e({$:6,$0:cz.$0.concat(cA.$0)}):new e({$:6,$0:cz.$0.concat([cA])}):cA.$==0?cz:cA.$==6?new e({$:6,$0:[cz].concat(cA.$0)}):new e({$:6,$0:[cz,cA]});};e.countI=function(cz){return e.countF(function(){return[0,0,1];},cz);};e.countW=function(cz){return e.countF(function(){return[0,1,0];},cz);};e.count=function(cz){return e.countF(function(){return[1,0,0];},cz);};e.countF=function(cz,cA){function cB(cC,cD,cE){return function(cF){return[cC+cF[0],cD+cF[1],cE+cF[2]];};}return cA.$==0?[0,0,0]:cA.$==3?[0,0,1]:cA.$==2?[0,1,0]:cA.$==4?cz(cA.$0):cA.$==6?bR.fold(function(cC,cD){return(function(cE){return cB(cE[0],cE[1],cE[2]);}(cC))(cD);},[0,0,0],bR.map(function(cC){return e.countF(cz,cC);},e.exclnoMsg(cA.$0))):[1,0,0];};e.isFatalW=function(cz){return e.isFatalF(function(){return false;},cz);};e.isFatal=function(cz){return e.isFatalF(function(){return true;},cz);};e.isFatalF=function(cz,cA){return cA.$==0?false:cA.$==3?false:cA.$==2?false:cA.$==4?cz(cA.$0):cA.$==6?bR.exists(function(cB){return e.isFatalF(cz,cB);},cA.$0):true;};e.isWarningOrInfoW=function(cz){return e.isWarningOrInfoF(function(){return true;},cz);};e.isWarningOrInfo=function(cz){return e.isWarningOrInfoF(function(){return false;},cz);};e.isWarningOrInfoF=function(cz,cA){return cA.$==2||(cA.$==4?cz(cA.$0):cA.$==6&&bR.forall(function(cB){return e.isWarningOrInfoF(cz,cB)||e.isInfoF(cz,cB);},e.exclnoMsg(cA.$0)));};e.isInfoI=function(cz){return e.isInfoF(function(){return true;},cz);};e.isInfo=function(cz){return e.isInfoF(function(){return false;},cz);};e.isInfoF=function(cz,cA){return cA.$==3||(cA.$==4?cz(cA.$0):cA.$==6&&bR.forall(function(cB){return e.isInfoF(cz,cB);},e.exclnoMsg(cA.$0)));};e.freeMessageI=function(cz){var cA;function cB(cC){return new e({$:3,$0:cC});}return e.freeMessageF((cA=function(cC){return function(cD){return cC(a.String(cD));};}(a.id),function(cC){return cB(cA(cC));}),cz);};e.freeMessageW=function(cz){var cA;function cB(cC){return new e({$:2,$0:cC});}return e.freeMessageF((cA=function(cC){return function(cD){return cC(a.String(cD));};}(a.id),function(cC){return cB(cA(cC));}),cz);};e.freeMessage=function(cz){var cA;function cB(cC){return new e({$:1,$0:cC});}return e.freeMessageF((cA=function(cC){return function(cD){return cC(a.String(cD));};}(a.id),function(cC){return cB(cA(cC));}),cz);};e.freeMessageF=function(cz,cA){return e.bindMessage(cz,cA);};e.bindMessage=function(cz,cA){return cA.$==4?cz(cA.$0):cA.$==1?new e({$:1,$0:cA.$0}):cA.$==3?new e({$:3,$0:cA.$0}):cA.$==2?new e({$:2,$0:cA.$0}):cA.$==5?new e({$:5,$0:cA.$0,$1:cA.$1}):cA.$==6?new e({$:6,$0:bT.map(function(cB){return e.bindMessage(cz,cB);},cA.$0)}):e.NoMsg;};e.exclnoMsg=function(cz){function cA(cB){return!cB;}return bR.filter(function(cB){return cA(e.noMsg(cB));},cz);};e.noMsg=function(cz){return cz.$==0;};h.ofOption=function(cz){return cz==null?[]:[cz.$0];};h.absorbR=function(cz){return bR.choose(function(cA){return cA.$==0?{$:1,$0:cA.$0}:null;},cz);};h.absorbO=function(cz){return bR.choose(a.id,cz);};h.insertR=function(cz){return cz.$==0?bR.map(function(cA){return{$:0,$0:cA};},cz.$0):(h.rtn())(c.Error$1(cz.$0));};h.insertO=function(cz){var cA;cA=cz==null?null:{$:1,$0:bR.map(function(cB){return{$:1,$0:cB};},cz.$0)};return cA==null?(h.rtn())(null):cA.$0;};h.rtn=function(){bJ.$cctor();return bJ.rtn;};i.absorbR=function(cz){var cA,cB;return cz!=null&&cz.$==1&&(cB=cz.$0,cB.$==0&&(cA=cB.$0,true))?{$:1,$0:cA}:null;};i.insertR=function(cz){var cA;return cz.$==0?(cA=cz.$0,cA==null?null:{$:1,$0:{$:0,$0:cA.$0}}):i.rtn(c.Error$1(cz.$0));};i.sequenceSeq=function(cz){return i.traverseSeq(a.id,cz);};i.traverseSeq=function(cz,cA){var cB;cB=bT.foldBack(function(cC,cD){return i.op_GreaterGreaterEquals(cz(cC),function(cE){return i.op_GreaterGreaterEquals(cD,function(cF){return i.rtn(new bS.T({$:1,$0:cE,$1:cF}));});});},bT.ofSeq(cA),i.rtn(bS.T.Empty));return cB==null?null:{$:1,$0:cB.$0};};i.op_GreaterGreaterEquals=function(cz,cA){return cz==null?null:cA(cz.$0);};i.bindNone=function(cz,cA){return cA!=null&&cA.$==1?{$:1,$0:cA.$0}:cz();};i.mapNone=function(cz,cA){return cA==null?cz():cA.$0;};i.apply=function(cz,cA){var cB;return cz!=null&&cz.$==1&&(cA!=null&&cA.$==1&&(cB=[cz.$0,cA.$0],true))?{$:1,$0:cB[0](cB[1])}:null;};i.join=function(cz){return cz==null?null:cz.$0;};i.iter=function(cz){function cA(cC){return cC==null?null:{$:1,$0:cz(cC.$0)};}function cB(cC){if(cC==null);}return function(cC){return cB(cA(cC));};};i.rtn=function(cz){return{$:1,$0:cz};};j.insertR=function(cz){function cA(cC){return{$:0,$0:cC};}function cB(cC){return bU.Return(cC);}return cz.$==0?bU.Bind(cz.$0,function(cC){return cB(cA(cC));}):bU.Return(c.Error$1(cz.$0));};j.insertO=function(cz){var cA;function cB(cD){return{$:1,$0:cD};}function cC(cD){return bU.Return(cD);}cA=cz==null?null:{$:1,$0:bU.Bind(cz.$0,function(cD){return cC(cB(cD));})};return cA==null?bU.Return(null):cA.$0;};j.sequenceSeq=function(cz){return j.traverseSeq(a.id,cz);};j.traverseSeq=function(cz,cA){function cB(cC){return bU.Return(cC);}return bU.Bind(bT.foldBack(function(cC,cD){return j.op_GreaterGreaterEquals(cz(cC),function(cE){return j.op_GreaterGreaterEquals(cD,function(cF){return bU.Return(new bS.T({$:1,$0:cE,$1:cF}));});});},bT.ofSeq(cA),bU.Return(bS.T.Empty)),function(cC){return cB(a.id(cC));});};j.op_GreaterGreaterEquals=function(cz,cA){return bU.Bind(cz,cA);};j.sleepThen=function(cz,cA){var cB;cB=null;return bU.Delay(function(){return bU.Bind(bU.Sleep(cA),function(){return bU.Return(cz());});});};j.apply=function(cz,cA){var cB;cB=null;return bU.Delay(function(){return bU.Bind(bU.StartChild(cz,null),function(cC){return bU.Bind(bU.StartChild(cA,null),function(cD){return bU.Bind(cC,function(cE){return bU.Bind(cD,function(cF){return bU.Return(cE(cF));});});});});});};n=m.Builder=bO.Class({For:function(cz,cA){var cB;cB=this;return this.Using(bV.Get(cz),function(cC){return cB.While(function(){return cC.MoveNext();},cB.Delay(function(){return cA(cC.Current());}));});},While:function(cz,cA){function cB(cC,cD){return cC()?bW.Bind(function(){return cB(cC,cD);},cD()):m.rtn();}return cB(cz,cA);},Using:function(cz,cA){try{return cA(cz);}finally{cz.Dispose();}},TryFinally:function(cz,cA){try{return cz();}finally{cA();}},TryWith:function(cz,cA){try{return cz();}catch(cB){return cA(cB);}},Run:function(cz){return m.bindP(cz,{$:0,$0:null});},Combine:function(cz,cA){return bW.Bind(cA,cz);},Delay:a.id,Zero:function(){return m.rtn();},Bind:function(cz,cA){return bW.Bind(cA,cz);},ReturnFrom:a.id,Return:function(cz){return m.rtn(cz);}},l,n);n.New=bO.Ctor(function(){l.New.call(this);},n);o.result=function(){bJ.$cctor();return bJ.result$1;};o.rtn=function(cz){return m.rtn(cz);};o.op_GreaterEqualsGreater=function(cz,cA,cB){return o.op_GreaterGreaterEquals(cz(cB),cA);};o.op_RightShift=function(cz,cA,cB){return o.op_BarGreaterGreater(cz(cB),cA);};o.op_GreaterGreaterEquals=function(cz,cA){return m.bindP(cA,cz);};o.op_BarGreaterGreater=function(cz,cA){return m.mapP(cA,cz);};m.result=function(){bJ.$cctor();return bJ.result;};m.sequenceSeq=function(cz){return m.traverseSeq(a.id,cz);};m.traverseSeq=function(cz,cA){return bW.Map(a.id,bT.foldBack(function(cB,cC){return m.op_GreaterGreaterEquals(cz(cB),function(cD){return m.op_GreaterGreaterEquals(cC,function(cE){return m.rtn(new bS.T({$:1,$0:cD,$1:cE}));});});},bT.ofSeq(cA),m.rtn(bS.T.Empty)));};m.op_GreaterGreaterEquals=function(cz,cA){return bW.Bind(cA,cz);};m.absorbO=function(cz,cA){return m.bindP(function(cB){return m.ofOption(cz,cB);},cA);};m.insertO=function(cz){var cA;cA=cz==null?null:{$:1,$0:bW.Map(function(cB){return{$:1,$0:cB};},cz.$0)};return cA==null?{$:0,$0:null}:cA.$0;};m.ofOption=function(cz,cA){var cB;cB=cA==null?null:{$:1,$0:{$:0,$0:cA.$0}};return cB==null?function(cC){return c.Error$1(cz(cC));}():cB.$0;};m.get=function(cz){return m.defaultWith(function(cA){return bX.FailWith(a.String(cA));},cz);};m.iter=function(cz,cA,cB){m.defaultWith(cz,m.mapP(cA,cB));};m.mapP=function(cz,cA){return m.bindP(function(cB){return m.rtn(cz(cB));},cA);};m.bindP=function(cz,cA){if(cA.$==1)return c.Error$1(cA.$0);else try{return cz(cA.$0);}catch(cB){return c.Error$1(new e({$:5,$0:cB.message,$1:cB.stack}));}};m.failIfFalse=function(cz,cA){return!cA?c.Error$1(cz):{$:0,$0:null};};m.failIfTrue=function(cz,cA){return cA?c.Error$1(cz):{$:0,$0:null};};m.defaultValue=function(cz,cA){return cA.$==1?cz:cA.$0;};m.defaultWith=function(cz,cA){return cA.$==1?cz(cA.$0):cA.$0;};m.toOption=function(cz){return cz.$==0?{$:1,$0:cz.$0}:null;};m.flatten=function(cz){return bW.Bind(a.id,cz);};m.join=function(cz){return bW.Bind(a.id,cz);};m.rtn=function(cz){return{$:0,$0:cz};};m.freeMessage=function(cz){return cz.$==1?c.Error$1(e.freeMessage(cz.$0)):{$:0,$0:cz.$0};};m.errorf=function(cz){return cz(c.Error$1);};q=p.Eff=bO.Class({get_Cont:function(){return this.$0;}},null,q);r=p.Done=bO.Class({get_Value:function(){return this.v;},FsRoot_Library_Monads_Eff_Effect$UnPack:function(cz){return this;}},l,r);r.New=bO.Ctor(function(cz){l.New.call(this);this.v=cz;},r);s=q.LambdaT=bO.Class({FsRoot_Library_Monads_Eff_Lambda$Invoke:function(cz){var cA;cA=this.loop;return function(cB){return cA(cz(cB));};}},l,s);s.New=bO.Ctor(function(cz){l.New.call(this);this.loop=cz;},s);q.runResult=function(cz){var cA;try{cA=(cz.get_Cont())(q["done'"]);return cA instanceof r?{$:0,$0:cA.get_Value()}:c.Error$1((f.errorMsgf(function(cB){return function(cC){return cB("Unhandled effect "+bP.prettyPrint(cC)+" expecting");};}))(cA));}catch(cB){return c.Error$1(new e({$:5,$0:cB.message,$1:cB.stack}));}};q.run=function(cz){var cA;cA=(cz.get_Cont())(q["done'"]);return cA instanceof r?cA.get_Value():(function(cB){return function(cC){return cB("Unhandled effect "+bP.prettyPrint(cC));};}(bX.FailWith))(cA);};q["return'"]=function(cz){return new q({$:0,$0:function(){return q["done'"](cz);}});};q["done'"]=function(cz){return new r.New(cz);};q.unpack=function(cz,cA){return cA.FsRoot_Library_Monads_Eff_Effect$UnPack(new s.New(cz));};t.rtn=function(cz){return p.rtn(cz);};t.op_GreaterEqualsGreater=function(cz,cA,cB){return t.op_GreaterGreaterEquals(cz(cB),cA);};t.op_RightShift=function(cz,cA,cB){return t.op_BarGreaterGreater(cz(cB),cA);};t.op_GreaterGreaterEquals=function(cz,cA){return p.bind(cA,cz);};t.op_BarGreaterGreater=function(cz,cA){return p.map(cA,cz);};t.op_LessMultiplyGreater=function(cz,cA){return p.apply(cz,cA);};u=p.EffBuilder=bO.Class({For:function(cz,cA){var cB;cB=this;return this.Using(bV.Get(cz),function(cC){return cB.While(function(){return cC.MoveNext();},function(){return cB.Delay(function(){return cA(cC.Current());});});});},Using:function(cz,cA){return this.TryFinally(function(){return cA(cz);},function(){if(!bY.Equals(cz,null))cz.Dispose();});},TryFinally:function(cz,cA){return new q({$:0,$0:function(cB){try{return cz().$0(cB);}finally{cA();}}});},TryWith:function(cz,cA){return new q({$:0,$0:function(cB){try{return cz().$0(cB);}catch(cC){return cA(cC).$0(cB);}}});},While:function(cz,cA){function cB(cC,cD){return cC()?p.bind(function(){return cB(cC,cD);},cD()):t.rtn();}return cB(cz,cA);},Delay:function(cz){return new q({$:0,$0:function(cA){return cz().$0(cA);}});},Combine:function(cz,cA){return this.Bind(cz,function(){return cA;});},Bind:function(cz,cA){return p.bind(cA,cz);},ReturnFrom:a.id,Return:function(cz){return t.rtn(cz);},Zero:function(){return t.rtn();}},l,u);u.New=bO.Ctor(function(){l.New.call(this);},u);w=v.Put=bO.Class({get_K:function(){return this.k;},get_Value:function(){return this.v;},FsRoot_Library_Monads_Eff_Effect$UnPack:function(cz){return new w.New(this.v,cz.FsRoot_Library_Monads_Eff_Lambda$Invoke(this.k));}},l,w);w.New=bO.Ctor(function(cz,cA){l.New.call(this);this.v=cz;this.k=cA;},w);x=v.Get=bO.Class({get_K:function(){return this.k;},FsRoot_Library_Monads_Eff_Effect$UnPack:function(cz){return new x.New(cz.FsRoot_Library_Monads_Eff_Lambda$Invoke(this.k));}},l,x);x.New=bO.Ctor(function(cz){l.New.call(this);this.k=cz;},x);v.refHandler=function(cz,cA){var cB;function cC(cD){return cD instanceof w?(cB[0]=cD.get_Value(),cC((cD.get_K())())):cD instanceof x?cC((cD.get_K())(cB[0])):q.unpack(cC,cD);}cB=[cz];return new q({$:0,$0:function(){return cC((cA.get_Cont())(q["done'"]));}});};v.stateHandler=function(cz,cA){function cB(cC,cD,cE){var cF;return cE instanceof r?cC([cD,cE.get_Value()]):cE instanceof w?(cF=(cE.get_K())(),cB(cC,cE.get_Value(),cF)):cE instanceof x?cB(cC,cD,(cE.get_K())(cD)):q.unpack(function(cG){return cB(cC,cD,cG);},cE);}return new q({$:0,$0:function(cC){return cB(cC,cz,(cA.get_Cont())(q["done'"]));}});};v.put=function(cz){return new q({$:0,$0:function(cA){return new w.New(cz,cA);}});};v.get=function(){return new q({$:0,$0:function(cz){return new x.New(cz);}});};z=y.LogEntry=bO.Class({get_K:function(){return this.k;},get_Value:function(){return this.v;},FsRoot_Library_Monads_Eff_Effect$UnPack:function(cz){return new z.New(this.v,cz.FsRoot_Library_Monads_Eff_Lambda$Invoke(this.k));}},l,z);z.New=bO.Ctor(function(cz,cA){l.New.call(this);this.v=cz;this.k=cA;},z);y.ignoreLogHandler=function(cz){function cA(cB){return cB instanceof z?cA((cB.get_K())()):q.unpack(cA,cB);}return new q({$:0,$0:function(){return cA((cz.get_Cont())(q["done'"]));}});};y.consoleLogHandler=function(cz){function cA(cB){return cB instanceof z?((function(cC){return function(cD){return cC("Log: "+bP.prettyPrint(cD));};}(function(cC){bZ.log(cC);}))(cB.get_Value()),cA((cB.get_K())())):q.unpack(cA,cB);}return new q({$:0,$0:function(){return cA((cz.get_Cont())(q["done'"]));}});};y.pureLogHandler=function(cz){function cA(cB,cC,cD){var cE;return cD instanceof r?cC([cD.get_Value(),cB]):cD instanceof z?(cE=(cD.get_K())(),cA(new bS.T({$:1,$0:cD.get_Value(),$1:cB}),cC,cE)):q.unpack(function(cF){return cA(cB,cC,cF);},cD);}return new q({$:0,$0:function(cB){return cA(bS.T.Empty,cB,(cz.get_Cont())(q["done'"]));}});};y.logf=function(cz){return cz(y.log);};y.log=function(cz){return new q({$:0,$0:function(cA){return new z.New(cz,cA);}});};B=A.Fail=bO.Class({get_K:function(){return this.k;},get_Value:function(){return this.v;},FsRoot_Library_Monads_Eff_Effect$UnPack:function(cz){return new B.New(this.v,cz.FsRoot_Library_Monads_Eff_Lambda$Invoke(this.k));}},l,B);B.New=bO.Ctor(function(cz,cA){l.New.call(this);this.v=cz;this.k=cA;},B);A.absorbO=function(cz,cA){return A.absorbR(p.map(function(cB){return m.ofOption(cz,cB);},cA));};A.absorbR=function(cz){return p.bind(A.ofResult,cz);};A.RslHandler=function(cz){function cA(cB,cC){return cC instanceof r?cB({$:0,$0:cC.get_Value()}):cC instanceof B?cB(c.Error$1(cC.get_Value())):q.unpack(function(cD){return cA(cB,cD);},cC);}return new q({$:0,$0:function(cB){return cA(cB,(cz.get_Cont())(q["done'"]));}});};A.ofResult=function(cz){var cA;cA=p.eff();return cA.Delay(function(){return cz.$==1?cA.Bind(A.fail(cz.$0),function(){return cA.Return(null);}):cA.Return(cz.$0);});};A.fail=function(cz){return new q({$:0,$0:function(cA){return new B.New(cz,cA);}});};p.eff=function(){bJ.$cctor();return bJ.eff;};p.insertSnd=function(cz,cA){return p.map(function(cB){return[cB,cA];},cz);};p.insertFst=function(cz,cA){return p.map(function(cB){return[cz,cB];},cA);};p.insertR=function(cz){return cz.$==0?p.map(function(cA){return{$:0,$0:cA};},cz.$0):t.rtn(c.Error$1(cz.$0));};p.insertO=function(cz){var cA;cA=cz==null?null:{$:1,$0:p.map(function(cB){return{$:1,$0:cB};},cz.$0)};return cA==null?t.rtn(null):cA.$0;};p.sequenceSeq=function(cz){return p.traverseSeq(a.id,cz);};p.traverseSeq=function(cz,cA){return p.map(a.id,bT.foldBack(function(cB,cC){return t.op_GreaterGreaterEquals(cz(cB),function(cD){return t.op_GreaterGreaterEquals(cC,function(cE){return t.rtn(new bS.T({$:1,$0:cD,$1:cE}));});});},bT.ofSeq(cA),t.rtn(bS.T.Empty)));};p.apply=function(cz,cA){return p.bind(function(cB){return p.map(cB,cA);},cz);};p.map=function(cz,cA){return p.bind(function(cB){return p.rtn(cz(cB));},cA);};p.bind=function(cz,cA){return new q({$:0,$0:function(cB){return cA.$0(function(cC){return cz(cC).$0(cB);});}});};p.rtn=function(cz){return new q({$:0,$0:function(cA){return cA(cz);}});};D=C.Builder=bO.Class({For:function(cz,cA){var cB;cB=this;return this.Using(bV.Get(cz),function(cC){return cB.While(function(){return cC.MoveNext();},cB.Delay(function(){return cA(cC.Current());}));});},While:function(cz,cA){function cB(cC,cD){return cC()?C.bind(function(){return cB(cC,cD);},cD()):C.rtn();}return cB(cz,cA);},Using:function(cz,cA){try{return cA(cz);}finally{cz.Dispose();}},TryFinally:function(cz,cA){try{return cz();}finally{cA();}},TryWith:function(cz,cA){try{return cz();}catch(cB){return cA(cB);}},Run:function(cz){return C.bindP(cz,g.OkM$1());},Combine:function(cz,cA){return C.bind(cA,cz);},Delay:a.id,Zero:function(){return C.rtn();},Bind:function(cz,cA){return C.bindM(cA,cz);},Bind$1:function(cz,cA){return C.bindP(cA,cz);},ReturnFrom:function(cz){return C.rtnM(cz);},ReturnFrom$1:a.id,ReturnFrom$2:a.id,Return:function(cz){return C.rtn(cz);}},l,D);D.New=bO.Ctor(function(){l.New.call(this);},D);E.rtn=function(cz){return C.rtn(cz);};E.op_GreaterEqualsGreater=function(cz,cA,cB){return E.op_GreaterGreaterEquals(cz(cB),cA);};E.op_RightShift=function(cz,cA,cB){return E.op_BarGreaterGreater(cz(cB),cA);};E.op_GreaterGreaterEquals=function(cz,cA){return C.bindP(cA,cz);};E.op_BarGreaterGreater=function(cz,cA){return C.mapP(cA,cz);};C.sequenceSeq=function(cz){return C.traverseSeq(a.id,cz);};C.traverseSeq=function(cz,cA){return C.map(a.id,bT.foldBack(function(cB,cC){return C.op_GreaterGreaterEquals(cz(cB),function(cD){return C.op_GreaterGreaterEquals(cC,function(cE){return C.rtn(new bS.T({$:1,$0:cD,$1:cE}));});});},bT.ofSeq(cA),C.rtn(bS.T.Empty)));};C.op_GreaterGreaterEquals=function(cz,cA){return C.bind(cA,cz);};C.failIfFatalMsgW=function(cz){var cA;cA=g.OkM(cz);return cA.$==0?e.isFatalW(cA.$0[1])?g.ErrorM(cA.$0[1]):cz:cz;};C.failIfFatalMsg=function(cz){var cA;cA=g.OkM(cz);return cA.$==0?e.isFatal(cA.$0[1])?g.ErrorM(cA.$0[1]):cz:cz;};C.failIfFatalMsgF=function(cz,cA){var cB;cB=g.OkM(cA);return cB.$==0?e.isFatalF(cz,cB.$0[1])?g.ErrorM(cB.$0[1]):cA:cA;};C.addMsg=function(cz,cA){return C.mapMessage(function(cB){return e.addMsg(cz,cB);},cA);};C.absorbO=function(cz,cA){return C.bindP(function(cB){return C.ofOption(cz,cB);},cA);};C.insertO=function(cz){var cA;cA=cz==null?null:{$:1,$0:C.map(function(cB){return{$:1,$0:cB};},cz.$0)};return cA==null?g.OkM$1(null):cA.$0;};C.ofResult=function(cz){return C.rtnr(cz);};C.ofOption=function(cz,cA){var cB;cB=cA==null?null:{$:1,$0:g.OkM$1(cA.$0)};return cB==null?function(cC){return g.ErrorM(cz(cC));}():cB.$0;};C.get=function(cz){return C.defaultWith(function(cA){return bX.FailWith(a.String(cA));},cz);};C.iter=function(cz,cA,cB){var cC;cC=C.mapP(cA,cB);cC.$0==null?cz(cC.$1):void 0;};C.mapP=function(cz,cA){return C.bindP(function(cB){return C.rtn(cz(cB));},cA);};C.check=function(cz,cA){var cB;return(cB=cA.$0,cB!=null&&cB.$==1)?e.isFatalF(cz.$0,cA.$1)?g.ErrorM(cA.$1):cA:cA;};C.bindM=function(cz,cA){return C.bindP(cz,C.rtnM(cA));};C.bindP=function(cz,cA){var cB;if(cA.$0==null)return{$:0,$0:null,$1:cA.$1};else{cB=cA.$1;try{return C.mapMessage(function(cC){return e.addMsg(cB,cC);},cz(cA.$0.$0));}catch(cC){return g.ErrorM(new e({$:5,$0:cC.message,$1:cC.stack}));}}};C.bind=function(cz,cA){var cB;return cA.$0==null?{$:0,$0:null,$1:cA.$1}:(cB=cA.$1,C.mapMessage(function(cC){return e.addMsg(cB,cC);},cz(cA.$0.$0)));};C.mapMessage=function(cz,cA){return{$:0,$0:cA.$0,$1:cz(cA.$1)};};C.map=function(cz,cA){var cB;return{$:0,$0:(cB=cA.$0,cB==null?null:{$:1,$0:cz(cB.$0)}),$1:cA.$1};};C.defaultValue=function(cz,cA){return m.defaultValue(cz,C.toResult(cA));};C.defaultWith=function(cz,cA){return m.defaultWith(cz,C.toResult(cA));};C.toOption=function(cz){return cz.$0;};C.toResultD=function(cz){return cz.$0==null?c.Error$1(cz.$1):{$:0,$0:[cz.$0.$0,cz.$1]};};C.toResult=function(cz){return cz.$0==null?c.Error$1(cz.$1):{$:0,$0:cz.$0.$0};};C.freeMessage=function(cz){return cz.$==1?c.Error$1(e.freeMessage(cz.$0)):{$:0,$0:cz.$0};};C.rtnr=function(cz){return m.defaultWith(g.ErrorM,bW.Map(g.OkM$1,cz));};C.rtnM=function(cz){return g.OkMWithMsg(null,cz);};C.rtn=function(cz){return g.OkM$1(cz);};C.checkErrorW=function(){return{$:0,$0:function(){return false;}};};C.checkError=function(){return{$:0,$0:function(){return true;}};};F.resultM=function(){bJ.$cctor();return bJ.resultM;};H=G.AsyncResultMBuilder=bO.Class({For:function(cz,cA){var cB;cB=this;return this.Using(bV.Get(cz),function(cC){return cB.While(function(){return cC.MoveNext();},cB.Delay(function(){return cA(cC.Current());}));});},While:function(cz,cA){return G.whileLoop(cz,cA);},Using:function(cz,cA){return bU.Using(cz,cA);},TryFinally:function(cz,cA){var cB;cB=null;return bU.Delay(function(){return bU.TryFinally(bU.Delay(function(){return cz();}),function(){cA();});});},TryWith:function(cz,cA){var cB;cB=null;return bU.Delay(function(){return bU.TryWith(bU.Delay(function(){return cz();}),function(cC){return cA(cC);});});},Run:function(cz){return G.bind(cz,G.rtn());},Delay:a.id,Combine:function(cz,cA){return G.bind(cA,G.rtnR(cz));},Combine$1:function(cz,cA){return G.bind(cA,cz);},Bind:function(cz,cA){return G.bindrA(cA,cz);},Bind$1:function(cz,cA){return G.bindR(cA,cz);},Bind$2:function(cz,cA){return G.bindM(cA,cz);},Bind$3:function(cz,cA){return G.bindr(cA,cz);},Bind$4:function(cz,cA){return G.bind(cA,cz);},Zero:function(){return G.rtn();},Return:function(cz){return G.rtn(cz);},ReturnFrom:function(cz){return G.rtnrA(cz);},ReturnFrom$1:function(cz){return G.rtnR(cz);},ReturnFrom$2:function(cz){return G.rtnM(cz);},ReturnFrom$3:function(cz){return G.rtnr(cz);},ReturnFrom$4:a.id},l,H);H.New=bO.Ctor(function(){l.New.call(this);},H);G.absorbO=function(cz,cA){function cB(cD){return m.absorbO(cz,cD);}function cC(cD){return bU.Return(cD);}return bU.Bind(cA,function(cD){return cC(cB(cD));});};G.absorbR=function(cz){var cA;function cB(cC){return bU.Return(cC);}return bU.Bind(cz,(cA=function(cC){return m.bindP(a.id,cC);},function(cC){return cB(cA(cC));}));};G.insertR=function(cz){return cz.$==0?G.map(function(cA){return{$:0,$0:cA};},cz.$0):G.rtn(c.Error$1(cz.$0));};G.insertO=function(cz){var cA;cA=cz==null?null:{$:1,$0:G.map(function(cB){return{$:1,$0:cB};},cz.$0)};return cA==null?G.rtn(null):cA.$0;};G.sequenceSeq=function(cz){return G.traverseSeq(a.id,cz);};G.traverseSeq=function(cz,cA){return G.map(a.id,bT.foldBack(function(cB,cC){return G.op_GreaterGreaterEquals(cz(cB),function(cD){return G.op_GreaterGreaterEquals(cC,function(cE){return G.rtn(new bS.T({$:1,$0:cD,$1:cE}));});});},bT.ofSeq(cA),G.rtn(bS.T.Empty)));};G.op_GreaterGreaterEquals=function(cz,cA){return G.bind(cA,cz);};G.whileLoop=function(cz,cA){return cz()?G.bind(function(){return G.whileLoop(cz,cA);},cA()):G.rtn();};G.map=function(cz,cA){return G.bind(function(cB){return G.rtn(cz(cB));},cA);};G.bindR=function(cz,cA){return G.bind(cz,G.rtnR(cA));};G.bindrA=function(cz,cA){return G.bind(cz,G.rtnrA(cA));};G.bindM=function(cz,cA){return G.bind(cz,G.rtnM(cA));};G.bindr=function(cz,cA){return G.bind(cz,G.rtnr(cA));};G.bind=function(cz,cA){var cB;cB=null;return bU.Delay(function(){return bU.TryWith(bU.Delay(function(){return bU.Bind(cA,function(cC){var cD,cE;function cF(cH){return C.addMsg(cE,cH);}function cG(cH){return bU.Return(cH);}cD=g.OkM(cC);return cD.$==1?bU.Return(g.ErrorM(cD.$0)):(cE=cD.$0[1],bU.Bind(cz(cD.$0[0]),function(cH){return cG(cF(cH));}));});}),function(cC){return bU.Return(g.ErrorM(new e({$:5,$0:cC.message,$1:cC.stack})));});});};G.iterpA=function(cz,cA){function cB(cC){c.print$1(cC);}G.iterA(function(cC){return cB(e.summarized(cC));},cz,cA);};G.iterpS=function(cz,cA){function cB(cC){c.print$1(cC);}G.iterS(function(cC){return cB(e.summarized(cC));},cz,cA);};G.iterA=function(cz,cA,cB){function cC(cE){C.iter(cz,cA,cE);}function cD(cE){return bU.Return(cE);}bU.Start(bU.Bind(cB,function(cE){return cD(cC(cE));}),null);};G.iterS=function(cz,cA,cB){throw"iterS cannot be used in JavaScript!";};G.rtnrA=function(cz){function cA(cB){return bU.Return(cB);}return bU.Bind(cz,function(cB){return cA(C.ofResult(cB));});};G.rtnM=function(cz){return bU.Return(C.rtnM(cz));};G.rtnR=function(cz){return bU.Return(cz);};G.rtnr=function(cz){return bU.Return(C.rtnr(cz));};G.rtn=function(cz){return bU.Return(g.OkM$1(cz));};G.freeMessage=function(cz){function cA(cB){return bU.Return(cB);}return bU.Bind(cz,function(cB){return cA(C.freeMessage(cB));});};G.mapError=function(cz,cA){function cB(cD){return C.mapMessage(cz,cD);}function cC(cD){return bU.Return(cD);}return bU.Bind(cA,function(cD){return cC(cB(cD));});};I["AsyncResultMBuilder.Combine"]=function(cz,cA,cB){function cC(cD){return bU.Return(cD);}return G.bind(cB,bU.Bind(cA,function(cD){return cC(g.OkM$1(cD));}));};I["AsyncResultMBuilder.Bind"]=function(cz,cA,cB){function cC(cD){return bU.Return(cD);}return G.bind(cB,bU.Bind(cA,function(cD){return cC(g.OkM$1(cD));}));};I["AsyncResultMBuilder.ReturnFrom"]=function(cz,cA){function cB(cC){return bU.Return(cC);}return bU.Bind(cA,function(cC){return cB(g.OkM$1(cC));});};I.asyncResultM=function(){bJ.$cctor();return bJ.asyncResultM;};g.OkM=function(cz){return cz.$0==null?{$:1,$0:cz.$1}:{$:0,$0:[cz.$0.$0,cz.$1]};};g.ErrorM=function(cz){return{$:0,$0:null,$1:cz};};g.OkMWithMsg=function(cz,cA){return{$:0,$0:{$:1,$0:cz},$1:cA};};g.OkM$1=function(cz){return{$:0,$0:{$:1,$0:cz},$1:e.NoMsg};};J.EndsWith$1=function(cz,cA){return bQ.EndsWith(cA,cz)?{$:1,$0:b0.string(cA,{$:1,$0:0},{$:1,$0:cA.length-cz.length-1})}:null;};J.StartsWith$1=function(cz,cA){return bQ.StartsWith(cA,cz)?{$:1,$0:b0.string(cA,{$:1,$0:cz.length},null)}:null;};J.skipLastLine$1=function(){bJ.$cctor();return bJ.skipLastLine;};J.indentStr$1=function(cz){function cA(cC){return J.indent$1(cz,cC);}function cB(cC){return bQ.concat("\n",cC);}return function(cC){return cB(cA(cC));};};J.unindentStr$1=function(){bJ.$cctor();return bJ.unindentStr;};J.indent$1=function(cz,cA){var cB,cC;cB=bQ.SplitChars(cA,["\n"],0);return bR.map((cC=bQ.replicate(cz," "),function(cD){return cC+cD;}),cB);};J.unindent$1=function(cz){var cA,cB,cC,cD;cA=bQ.SplitChars(cz,["\n"],0);cB=(cC=bR.tryFindIndex(function(cE){return" "!==cE;},(cD=bR.tryFind(function(cE){return bQ.Trim(cE)!=="";},cA),cD==null?"":cD.$0)),cC==null?0:cC.$0);return bR.filter(function(cE){return!bQ.StartsWith(cE,"# 1 ");},bR.map(function(cE){return cE.length<=cB?"":cE.substring(cB);},cA));};J.skipFirstLine$1=function(cz){var cA;cA=cz.indexOf("\n");return cA<0?"":b0.string(cz,{$:1,$0:cA+1},null);};J.append$1=function(cz,cA){return cz+cA;};J.trim$1=function(cz){return bQ.Trim(cz);};J.contains$1=function(cz,cA){return cA.indexOf(cz)!=-1;};J.delimitedO$1=function(cz,cA,cB){var cC,cD,cE,cF,cG;cC=J.splitInTwoO$1(cz,cB);return cC==null?null:(cD=cC.$0,(cE=cD[0],(cF=J.splitInTwoO$1(cA,cD[1]),cF==null?null:{$:1,$0:(cG=cF.$0,[cE,cG[0],cG[1]])})));};J.splitInTwoO$1=function(cz,cA){var cB;cB=cA.indexOf(cz);return cB===-1?null:{$:1,$0:[c["String.Left$1"](cA,cB),cA.substring(cB+cz.length)]};};J.splitByChar$1=function(cz,cA){return bQ.SplitChars(cA,[cz],0);};K.remove=function(cz,cA){return bT.ofSeq(bR.delay(function(){return bR.append(cz>0?b0.array(cA,null,{$:1,$0:cz-1}):[],bR.delay(function(){return cz<bT.length(cA)?b0.array(cA,{$:1,$0:cz+1},null):[];}));}));};K.replace=function(cz,cA,cB){return bT.ofSeq(bR.delay(function(){return bR.append(cz>0?b0.array(cB,null,{$:1,$0:cz-1}):[],bR.delay(function(){return bR.append([cA],bR.delay(function(){return cz<bT.length(cB)?b0.array(cB,{$:1,$0:cz+1},null):[];}));}));}));};L.op_AmpGreater=function(cz,cA,cB,cC){var cD;cD=cz(cB,cC);return cD===0?cA(cB,cC):cD;};L.desc=function(cz,cA,cB){return bY.Compare(cz(cB),cz(cA));};L.asc=function(cz,cA,cB){return bY.Compare(cz(cA),cz(cB));};M.Guid$1=function(){bJ.$cctor();return bJ["|Guid|_|"];};M.Double$1=function(){bJ.$cctor();return bJ["|Double|_|"];};M.Single$1=function(){bJ.$cctor();return bJ["|Single|_|"];};M.Int$1=function(){bJ.$cctor();return bJ["|Int|_|"];};M.Date$1=function(){bJ.$cctor();return bJ["|Date|_|"];};M.parseGuidO$1=function(){bJ.$cctor();return bJ.parseGuidO;};M.parseDoubleO$1=function(){bJ.$cctor();return bJ.parseDoubleO;};M.parseSingleO$1=function(){bJ.$cctor();return bJ.parseSingleO;};M.parseIntO$1=function(){bJ.$cctor();return bJ.parseIntO;};M.parseDateO$1=function(){bJ.$cctor();return bJ.parseDateO;};M.parseDateO2=function(){bJ.$cctor();return bJ.parseDateO2;};M.tryParseWith$1=function(cz){function cA(cB,cC){return cB?{$:1,$0:cC}:null;}return function(cB){return cA.apply(null,cz(cB));};};O.New=function(cz,cA,cB,cC,cD,cE,cF,cG){return{tryFloat:cz,tryInt:cA,tryString:cB,tryBool:cC,tryArray:cD,tryField:cE,isObject:cF,isNull:cG};};N.serMap=function(cz,cA,cB,cC){var cD,cE,cF,cG,cH,cI;function cJ(cL){return[cL.K,cL.V];}function cK(cL){return new b2.New(cL);}cD=(cE=N.serDup([cz,cA],[cB,cC]),N.serSeq(cE[0],cE[1]));return[(cF=function(cL){return bR.map(cJ,cL);},(cG=cD[0],function(cL){return cG(cF(cL));})),(cH=cD[1],(cI=function(cL){return cL==null?null:{$:1,$0:cK(cL.$0)};},function(cL){return cI(cH(cL));}))];};N.serTrp=function(cz,cA,cB){return[function(cC){return((((bO.Curried(function(cD,cE,cF,cG){return cD("["+bP.toSafe(cE)+", "+bP.toSafe(cF)+", "+bP.toSafe(cG)+"]");},4))(a.id))(cz[0](cC[0])))(cA[0](cC[1])))(cB[0](cC[2]));},function(cC){var cD,cE,cF,cG,cH,cI,cJ;cD=cC.tryArray();return cD!=null&&cD.$==1&&((cF=cD.$0,!bY.Equals(cF,null)&&cF.length===3)&&(cE=[bT.get(cD.$0,0),bT.get(cD.$0,1),bT.get(cD.$0,2)],true))?(cG=cz[1](cE[0]),(cH=cA[1](cE[1]),(cI=cB[1](cE[2]),cG!=null&&cG.$==1&&(cH!=null&&cH.$==1&&(cI!=null&&cI.$==1&&(cJ=[cG.$0,cH.$0,cI.$0],true)))?{$:1,$0:[cJ[0],cJ[1],cJ[2]]}:null))):null;}];};N.serDup=function(cz,cA){return[function(cB){return(((bO.Curried3(function(cC,cD,cE){return cC("["+bP.toSafe(cD)+", "+bP.toSafe(cE)+"]");}))(a.id))(cz[0](cB[0])))(cA[0](cB[1]));},function(cB){var cC,cD,cE,cF,cG,cH;cC=cB.tryArray();return cC!=null&&cC.$==1&&((cE=cC.$0,!bY.Equals(cE,null)&&cE.length===2)&&(cD=[bT.get(cC.$0,0),bT.get(cC.$0,1)],true))?(cF=cz[1](cD[0]),(cG=cA[1](cD[1]),cF!=null&&cF.$==1&&(cG!=null&&cG.$==1&&(cH=[cF.$0,cG.$0],true))?{$:1,$0:[cH[0],cH[1]]}:null)):null;}];};N.serOpt=function(cz,cA){var cB,cC,cD;function cE(cF){return cF==null?"null":cF.$0;}cB=[cz,cA];return[(cC=(cD=cB[0],function(cF){return cF==null?null:{$:1,$0:cD(cF.$0)};}),function(cF){return cE(cC(cF));}),function(cF){return{$:1,$0:cF.isNull()?null:cB[1](cF)};}];};N.serSet=function(cz,cA){var cB,cC,cD;cB=[cz,cA];return[(cC=(cD=cB[0],function(cE){return new b3.New$1(b4.OfSeq(bR.map(cD,cE)));}),function(cE){return N.sprintA(cC(cE));}),function(cE){var cF,cG,cH,cI;cF=(cG=cE.tryArray(),(cH=(cI=cB[1],function(cJ){return bT.choose(cI,cJ);}),cG==null?null:{$:1,$0:cH(cG.$0)}));return cF==null?null:{$:1,$0:new b3.New(cF.$0)};}];};N.serLst=function(cz,cA){var cB,cC,cD;cB=[cz,cA];return[(cC=(cD=cB[0],function(cE){return bS.map(cD,cE);}),function(cE){return N.sprintA(cC(cE));}),function(cE){var cF,cG,cH,cI;cF=(cG=cE.tryArray(),(cH=(cI=cB[1],function(cJ){return bT.choose(cI,cJ);}),cG==null?null:{$:1,$0:cH(cG.$0)}));return cF==null?null:{$:1,$0:bS.ofSeq(cF.$0)};}];};N.serArr=function(cz,cA){var cB,cC,cD;cB=[cz,cA];return[(cC=(cD=cB[0],function(cE){return bT.map(cD,cE);}),function(cE){return N.sprintA(cC(cE));}),function(cE){var cF,cG,cH;cF=cE.tryArray();cG=(cH=cB[1],function(cI){return bT.choose(cH,cI);});return cF==null?null:{$:1,$0:cG(cF.$0)};}];};N.serSeq=function(cz,cA){var cB,cC,cD;cB=[cz,cA];return[(cC=(cD=cB[0],function(cE){return bR.map(cD,cE);}),function(cE){return N.sprintA(cC(cE));}),function(cE){var cF,cG,cH,cI;cF=(cG=cE.tryArray(),(cH=(cI=cB[1],function(cJ){return bT.choose(cI,cJ);}),cG==null?null:{$:1,$0:cH(cG.$0)}));return cF==null?null:{$:1,$0:cF.$0};}];};N.serField=function(cz,cA,cB,cC,cD){return[cz,function(cE){return cC(cA(cE));},function(cE){return function(cF){var cG;cG=cD(cF);return cG==null?null:{$:1,$0:cB(cG.$0,cE)};};}];};N.serBool=function(){bJ.$cctor();return bJ.serBool;};N.serInt=function(){bJ.$cctor();return bJ.serInt;};N.serFloat=function(){bJ.$cctor();return bJ.serFloat;};N.serString=function(){bJ.$cctor();return bJ.serString;};N.toJsonString=function(cz){return bT.ofSeq(bR.delay(function(){return bR.append(["\""],bR.delay(function(){return bR.append(!bQ.IsNullOrEmpty(cz)?bR.collect(function(cA){var cB,cC;cB=cz[cA];cC=cB.charCodeAt();return cC>=0&&cC<=7||cC===11||cC>=14&&cC<=31?(function(cD){return function(cE){return cD("\\u"+bP.padNumLeft(cE.toString(16),4));};}(a.id))(cC):cB==="\u0008"?"\\b":cB==="\u0009"?"\\t":cB==="\n"?"\\n":cB==="\u000c"?"\\f":cB==="\r"?"\\r":cB==="\""?"\\\"":cB==="\\"?"\\\\":[cB];},bX.range(0,cz.length-1)):[],bR.delay(function(){return["\""];}));}));})).join("");};N.sprintA=function(cz){var cA;cA=bQ.concat(", ",cz);return(function(cB){return function(cC){return cB("["+bP.toSafe(cC)+"]");};}(a.id))(cA);};N.Field=function(cz,cA){return cA.tryField(cz);};N.serialize=function(cz,cA,cB){return[cz,cA][0](cB);};P.PostAndAsyncReply=function(cz,cA,cB){return cz.PostAndAsyncReply(function(cC){return[cC,cA];},cB);};R.applyReply=function(cz,cA){return R.applyReplyA(function(cB){var cC;cC=null;return bU.Delay(function(){return bU.Return(cz(cB));});},cA);};R.applyReplyA=function(cz,cA){return cA.PostAndAsyncReply(function(cB){return function(cC){var cD;cD=null;return bU.Delay(function(){return bU.Bind(cz(cC),function(cE){cB(cE[1]);return bU.Return(cE[0]);});});};},null);};R.apply=function(cz,cA){R.applyA(function(cB){var cC;cC=null;return bU.Delay(function(){return bU.Return(cz(cB));});},cA);};R.applyA=function(cz,cA){cA.mailbox.AddLast(function(cB){var cC;cC=null;return bU.Delay(function(){return cz(cB);});});cA.resume();};R.setState=function(cz,cA){cA.mailbox.AddLast(function(){var cB;cB=null;return bU.Delay(function(){return bU.Return(cz);});});cA.resume();};R.getStateA=function(cz){return cz.PostAndAsyncReply(function(cA){return function(cB){var cC;cC=null;return bU.Delay(function(){cA(cB);return bU.Return(cB);});};},null);};Q.defHandler=function(cz,cA){c.print$1(cz);return cA;};Q.stateFull=function(cz,cA){return b6.Start(function(cB){function cC(cD){var cE;cE=null;return bU.Delay(function(){return bU.TryWith(bU.Delay(function(){return bU.Bind(cB.Receive(null),function(cF){return bU.Bind(cF(cD),function(cG){return cC(cG);});});}),function(cF){return cC(cz(cF,cD));});});}return cC(cA);},null);};Q.fold=function(cz,cA,cB){return Q.foldA(cz,function(cC,cD){var cE;cE=null;return bU.Delay(function(){return bU.Return(cA(cC,cD));});},cB);};Q.foldA=function(cz,cA,cB){return b6.Start(function(cC){function cD(cE){var cF;cF=null;return bU.Delay(function(){return bU.TryWith(bU.Delay(function(){return bU.Bind(cC.Receive(null),function(cG){return bU.Bind(cA(cE,cG),function(cH){return cD(cH);});});}),function(cG){return cD(cz(cG,cE));});});}return cD(cB);},null);};Q.call=function(cz,cA){return Q.callA(cz,function(cB){var cC;cC=null;return bU.Delay(function(){return bU.Return(cA(cB));});});};Q.callA=function(cz,cA){return Q.iterA(cz,function(cB){var cC,cD,cE;cC=cB[0];cD=cB[1];cE=null;return bU.Delay(function(){return bU.Bind(cA(cD),function(cF){cC(cF);return bU.Zero();});});});};Q.iter=function(cz,cA){return Q.iterA(cz,function(cB){var cC;cC=null;return bU.Delay(function(){cA(cB);return bU.Zero();});});};Q.iterA=function(cz,cA){return b6.Start(function(cB){var cC;cC=null;return bU.Delay(function(){return bU.While(function(){return true;},bU.Delay(function(){return bU.TryWith(bU.Delay(function(){return bU.Bind(cB.Receive(null),function(cD){return bU.Bind(cA(cD),function(){return bU.Return(null);});});}),function(cD){cz(cD);return bU.Zero();});}));});},null);};c["String.Right$1"]=function(cz,cA){var cB,cC;return c["String.Substring2$1"](cz,(cB=0,(cC=cz.length-cA,bY.Compare(cB,cC)===1?cB:cC)),cz.length);};c["String.Left$1"]=function(cz,cA){return cA<0?c["String.Substring2$1"](cz,0,cz.length+cA):c["String.Substring2$1"](cz,0,cA);};c["String.Substring2$1"]=function(cz,cA,cB){var cC,cD;while(true){if(cB<=0)return"";else if(cA<0){cC=cA;cA=0;cB=cB+cC;}else return cA>=cz.length?"":bQ.Substring(cz,cA,(cD=cz.length-cA,bY.Compare(cB,cD)===-1?cB:cD));}};c.delayed$1=function(cz,cA){var cB;cB=[null];return function(cC){var cD,cE;cD=cB[0];cD==null?void 0:cD.$0.Cancel$1();cB[0]={$:1,$0:new b7.New()};bU.Start((cE=null,bU.Delay(function(){return bU.Bind(bU.Sleep(cz),function(){cA(cC);return bU.Zero();});})),{$:1,$0:cB[0].$0});};};c.print$1=function(cz){if(typeof cz=="string")((function(cA){return function(cB){return cA(bP.toSafe(cB));};}(function(cA){bZ.log(cA);}))(cz));else((function(cA){return function(cB){return cA(bP.prettyPrint(cB));};}(function(cA){bZ.log(cA);}))(cz));};c.Error$1=function(cz){return{$:1,$0:cz};};T.toYYYYMMDD=function(cz,cA){return((((((bO.Curried(function(cB,cC,cD,cE,cF,cG){return cB(a.String(cC)+bP.toSafe(cD)+bP.padNumLeft(a.String(cE),2)+bP.toSafe(cF)+bP.padNumLeft(a.String(cG),2));},6))(a.id))((new a.Date(cA)).getFullYear()))(cz))((new a.Date(cA)).getMonth()+1))(cz))((new a.Date(cA)).getDate());};V.LoginFileName=function(){bJ.$cctor();return bJ.LoginFileName;};V.TemplatesFileName=function(){bJ.$cctor();return bJ.TemplatesFileName;};V.rootdir=function(){bJ.$cctor();return bJ.rootdir;};X.TypeV0={$:0};Y=W.TipoAliado=bO.Class({toString:function(){return(function(cz){return function(cA){return cz(bL.p(cA));};}(a.id))(this);}},null,Y);Y.Regular=new Y({$:1});Y.Master=new Y({$:0});Z=W.Pais=bO.Class({toString:function(){return this.$==3?this.$0:(function(cz){return function(cA){return cz(bL.p$1(cA));};}(a.id))(this);}},null,Z);Z.Argentina=new Z({$:2});Z.Venezuela=new Z({$:1});Z.USA=new Z({$:0});Z.tryParse=function(cz){var cA,cB;cB=bQ.Trim(cz).toUpperCase();switch(cB){case"":return null;case"USA":case"AMERICA":case"E.E.U.U.":case"US":case"UNITED STATES OF AMERICA":case"UNITED STATES":case"EEUU":return{$:1,$0:Z.USA};case"VENEZUELA":return{$:1,$0:Z.Venezuela};case"ARGENTINA":return{$:1,$0:Z.Argentina};default:return{$:1,$0:new Z({$:3,$0:bQ.Trim(cz)})};}};_0=W.Estado=bO.Class({toString:function(){return this.$==2?this.$0:(function(cz){return function(cA){return cz(bL.p$2(cA));};}(a.id))(this);}},null,_0);_0.Florida=new _0({$:1});_0.Texas=new _0({$:0});_0.tryParse=function(cz){var cA,cB;cB=bQ.Trim(cz).toUpperCase();switch(cB){case"":return null;case"TEXAS":case"TX":return{$:1,$0:_0.Texas};case"FLORIDA":case"FL":return{$:1,$0:_0.Florida};default:return{$:1,$0:new _0({$:2,$0:bQ.Trim(cz)})};}};_1.New=function(cz,cA,cB,cC){return{emisor:cz,documento:cA,emision:cB,vence:cC};};_2.Corriente={$:1};_2.Ahorro={$:0};_3.New=function(cz,cA,cB,cC,cD){return{titular:cz,banco:cA,tipo:cB,numero:cC,routing:cD};};_4=W.StatusAliado=bO.Class({toString:function(){return(function(cz){return function(cA){return cz(bL.p$3(cA));};}(a.id))(this);}},null,_4);_4.Inactivo=new _4({$:2});_4.Activo=new _4({$:1});_4.Nuevo=new _4({$:0});_5=W.ConceptoPago=bO.Class({toString:function(){return this.$==2?this.$0:(function(cz){return function(cA){return cz(bL.p$4(cA));};}(a.id))(this);}},null,_5);_5.PagoComision=new _5({$:1});_5.PagoAfiliacion=new _5({$:0});_6.New=function(cz,cA,cB,cC,cD,cE,cF){return{fechaPago:cz,ano:cA,periodo:cB,monto:cC,idAliado:cD,concepto:cE,transaccion:cF};};_7=W.TipoDireccion=bO.Class({toString:function(){return this.$==3?this.$0:(function(cz){return function(cA){return cz(bL.p$5(cA));};}(a.id))(this);}},null,_7);_7.ServicioPostal=new _7({$:2});_7.Oficina=new _7({$:1});_7.Habitacion=new _7({$:0});_7.tryParse=function(cz){var cA;cA=bQ.Trim(cz);return cA===""?null:cA==="Habitacion"?{$:1,$0:_7.Habitacion}:cA==="Oficina"?{$:1,$0:_7.Oficina}:cA==="ServicioPostal"?{$:1,$0:_7.ServicioPostal}:{$:1,$0:new _7({$:3,$0:cA})};};_8=W.ZonaPostal=bO.Class({toString:function(){return this.$0;}},null,_8);_8.tryParse=function(cz){return bQ.Trim(cz)!==""?{$:1,$0:new _8({$:0,$0:bQ.Trim(cz)})}:null;};_9.New=function(cz,cA,cB,cC,cD,cE,cF){return{tipoDireccion:cz,linea1:cA,linea2:cB,ciudad:cC,estado:cD,pais:cE,zonaPostal:cF};};_=W.CorreoElectronico=bO.Class({toString:function(){return this.$0;}},null,_);$=W.TipoTelefono=bO.Class({toString:function(){return(function(cz){return function(cA){return cz(bL.p$6(cA));};}(a.id))(this);}},null,$);$.Voip=new $({$:3});$.Habitacion=new $({$:2});$.Oficina=new $({$:1});$.Movil=new $({$:0});$.get_tryParse=function(){return function(cz){return cz==="Movil"?{$:1,$0:$.Movil}:cz==="Oficina"?{$:1,$0:$.Oficina}:cz==="Habitacion"?{$:1,$0:$.Habitacion}:null;};};ba.New=function(cz,cA,cB,cC,cD,cE){return{tipoTelefono:cz,codigoPais:cA,codigoArea:cB,numero:cC,extension:cD,mensajes:cE};};bb.Empresa={$:2};bb.Femenino={$:1};bb.Masculino={$:0};bb.tryParse=function(cz){var cA;cA=bQ.Trim(cz);return cA==="Masculino"?{$:1,$0:bb.Masculino}:cA==="Femenino"?{$:1,$0:bb.Femenino}:cA==="Empresa"?{$:1,$0:bb.Empresa}:null;};bc.New=function(cz,cA,cB,cC,cD,cE,cF,cG){return{titulo:cz,nombre1:cA,nombre2:cB,apellido1:cC,apellido2:cD,nacionalidad:cE,genero:cF,fechaNacimiento:cG};};bd.Saludo={$:2};bd.Informacion={$:1};bd.Alerta={$:0};be.Prozper={$:0};bf.New=function(cz,cA,cB,cC,cD){return{tipo:cz,leido:cA,fecha:cB,texto:cC,remitente:cD};};bg.New=function(cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR){return{id:cz,idPadreO:cA,datosPersonales:cB,contactos:cC,identificacion:cD,formasPago:cE,transacciones:cF,mensajes:cG,isInternal:cH,status:cI,tipo:cJ,fechaRegistro:cK,fechaStatus:cL,nReferidos:cM,nRefActivos:cN,nDescendientes:cO,nDescActivos:cP,comision:cQ,nivel:cR};};bh.New=function(cz,cA,cB,cC,cD,cE,cF,cG){return{comisionReferidosRegular:cz,comisionReferidosMaster:cA,comisionDescendientesMaster:cB,comisionDescendientesRegular:cC,montoAliliacion:cD,numeroReferidosMaster:cE,diaCorte1:cF,diaCorte2:cG};};bi.New=function(cz,cA,cB,cC,cD,cE){return{idAliado:cz,aliados:cA,anoActual:cB,periodoActual:cC,premisas:cD,nevento:cE};};W.dirVacio=function(){bJ.$cctor();return bJ.dirVacio;};W.telVacio=function(){bJ.$cctor();return bJ.telVacio;};W.premisasCalculo=function(){bJ.$cctor();return bJ.premisasCalculo;};bk.TypeV1={$:0};bl.Habilitado={$:3};bl.Deshabilitado={$:2};bl.VerificacionEnviada={$:1};bl.RequiereVerificacion={$:0};bm=bj.CorreoElectronico=bO.Class({toString:function(){return this.email;}},null,bm);bm.New=function(cz,cA,cB,cC,cD){return new bm({email:cz,status:cA,enviado:cB,recibido:cC,enlace:cD});};bn.New=function(cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR){return{id:cz,idPadreO:cA,datosPersonales:cB,contactos:cC,identificacion:cD,formasPago:cE,transacciones:cF,mensajes:cG,isInternal:cH,status:cI,tipo:cJ,fechaRegistro:cK,fechaStatus:cL,nReferidos:cM,nRefActivos:cN,nDescendientes:cO,nDescActivos:cP,comision:cQ,nivel:cR};};bo.New=function(cz,cA,cB,cC,cD,cE){return{idAliado:cz,aliados:cA,anoActual:cB,periodoActual:cC,premisas:cD,nevento:cE};};bj.correoVacio=function(){bJ.$cctor();return bJ.correoVacio;};bq.New=function(cz,cA,cB,cC,cD,cE){return{hijosDe:cz,nivelDe:cA,aliado:cB,aliadoO:cC,hijos:cD,descendientes:cE};};bp.nombre2=function(cz){var cA,cB;return(cA=(cB=cz.titulo,cB==null?null:{$:1,$0:" "+cB.$0}),cA==null?"":cA.$0)+bQ.Trim(cz.nombre1+" "+cz.nombre2)+" "+bQ.Trim(cz.apellido1+" "+cz.apellido2);};bp.nombre=function(cz){var cA,cB;return(cA=(cB=cz.titulo,cB==null?null:{$:1,$0:" "+cB.$0}),cA==null?"":cA.$0)+(cz.apellido1===""?"":bQ.Trim(cz.apellido1+" "+cz.apellido2)+", ")+cz.nombre1+" "+cz.nombre2;};bp.empty=function(){bJ.$cctor();return bJ.empty;};bp.actualizarAliados=function(cz){var cA,cB,cC,cD,cI,cJ;function cE(cK){var cL,cM,cN,cO,cP,cQ;cL=cI.aliado(cK);cM=bR.cache(bR.map(cA,cI.hijosDe(cL.id)));cN=bR.length(cM);cO=bR.length(bR.filter(function(cR){return cR.status.$===1&&cR.tipo.$===1;},cM));cP=bn.New(cL.id,cL.idPadreO,cL.datosPersonales,cL.contactos,cL.identificacion,cL.formasPago,cL.transacciones,cL.mensajes,cL.isInternal,cL.status,cO>=cJ.numeroReferidosMaster?Y.Master:Y.Regular,cL.fechaRegistro,0,cN,cO,bR.sumBy(function(cR){return cR.nDescendientes+cR.nReferidos;},cM),bR.sumBy(function(cR){return cR.nDescActivos+cR.nRefActivos;},cM),cL.comision,1+cI.nivelDe(cL.idPadreO));cQ=bp.comision(cJ,cP);return bn.New(cP.id,cP.idPadreO,cP.datosPersonales,cP.contactos,cP.identificacion,cP.formasPago,cP.transacciones,cP.mensajes,cP.isInternal,cP.status,cP.tipo,cP.fechaRegistro,cP.fechaStatus,cP.nReferidos,cP.nRefActivos,cP.nDescendientes,cP.nDescActivos,cQ[0]+cQ[1],cP.nivel);}function cF(cK){var cL;cL=null;return cC.TryGetValue(cK,{get:function(){return cL;},set:function(cM){cL=cM;}})?{$:1,$0:cL}:null;}function cG(cK,cL){cC.set_Item(cK,cL);return cL;}function cH(cK,cL){var cM;cM=cF(cK);return cM==null?cG(cK,cL(cK)):cM.$0;}cI=bp.busqueda(cz.aliados);cJ=cz.premisas;cA=(cB=(cC=new b8.New$5(),[[cF,function(cK){return function(cL){return cH(cK,cL);};}],function(){cC.Clear();}]),(cD=cB[0][1],[function(cK){return(cD(cK))(cE);},cB[1]]))[0];return bT.ofSeq(bR.map(cA,bR.map(function(cK){return cK.id;},cz.aliados)));};bp.busqueda=function(cz){var cA,cB;function cC(cI,cJ){return[cI,bT.ofSeq(bR.map(function(cK){return cK[1];},cJ))];}function cD(cI){var cJ,cK;cJ=(cK=null,[cB.TryGetValue(cI,{get:function(){return cK;},set:function(cL){cK=cL;}}),cK]);return cJ[0]?{$:1,$0:cJ[1]}:null;}function cE(cI){var cJ,cK;cJ=(cK=null,[cA.TryGetValue({$:1,$0:cI},{get:function(){return cK;},set:function(cL){cK=cL;}}),cK]);return cJ[0]?cJ[1]:[];}function cF(cI){var cJ,cK;cJ=(cK=cI==null?null:cD(cI.$0),cK==null?null:{$:1,$0:1+cF(cK.$0.idPadreO)});return cJ==null?0:cJ.$0;}function cG(cI){return bT.choose(cD,cE(cI.id));}function cH(cI){return bT.ofSeq(bR.delay(function(){return bR.collect(function(cJ){return bR.append([cJ],bR.delay(function(){return cH(cJ);}));},cG(cI));}));}cA=new b2.New(bR.map(function(cI){return cC(cI[0],cI[1]);},bR.groupBy(function(cI){return cI[0];},bR.map(function(cI){return[cI.idPadreO,cI.id];},cz))));cB=new b2.New(bR.map(function(cI){return[cI.id,cI];},cz));return bq.New(cE,cF,function(cI){try{return cB.get_Item(cI);}catch(cJ){return(function(cK){return function(cL){return cK("buscarAliado failed: "+bL.p$7(cL));};}(bX.FailWith))(cI);}},cD,cG,cH);};bp.comision=function(cz,cA){var cB;cB=bp.premisas(cz,cA);return[cA.nRefActivos*cB[0],cA.nDescActivos*cB[1]];};bp.premisas=function(cz,cA){var cB;cB=cA.tipo.$==0?[cz.comisionReferidosMaster,cz.comisionDescendientesMaster]:[cz.comisionReferidosRegular,cz.comisionDescendientesRegular];return cA.status.$==1?[cB[0],cB[1]]:[0,0];};bp.statusActual=function(cz,cA,cB){var cC;cC=bT.tryFind(function(cD){return bY.Equals(cD.idAliado,cB.id)&&cD.ano===cz&&cD.periodo===cA&&cD.concepto.$===0;},cB.transacciones)==null?null:{$:1,$0:_4.Activo};return cC==null?_4.Inactivo:cC.$0;};bp.aliadoEf=function(){return t.op_GreaterGreaterEquals(v.get(),function(cz){return A.ofResult(m.ofOption(function(){return(function(cA){return function(cB){return cA("Cannot find aliado "+bL.p$7(cB));};}(a.id))(cz.idAliado);},bT.tryFind(function(cA){return bY.Equals(cA.id,cz.idAliado);},cz.aliados)));});};bp.periodoActualEf=function(){return t.op_BarGreaterGreater(v.get(),function(cz){return[cz.anoActual,cz.periodoActual];});};br.New=function(cz,cA,cB){return{nevento:cz,aliadoO:cA,data:cB};};bs.ROk={$:0};bt.iterA=function(cz){function cA(cB){a.alert(cB);}G.iterA(function(cB){return cA(e.summarized(cB));},a.ignore,cz);};bv.DefaultEP={$:0};bw.crearOptions=function(cz){return b_.Concat(bR.map(bw.crearOption,cz));};bw.crearOption=function(cz){return b_.Element("option",[],[b_.TextNode(cz)]);};bw.generos=function(){bJ.$cctor();return bJ.generos;};bw.tiposTel=function(){bJ.$cctor();return bJ.tiposTel;};bw.tiposDir=function(){bJ.$cctor();return bJ.tiposDir;};bw.estados=function(){bJ.$cctor();return bJ.estados;};bw.paises=function(){bJ.$cctor();return bJ.paises;};bw.alertIfNone=function(cz,cA,cB){return cA!=null&&cA.$==1?cB(cA.$0):(a.alert("Error not caught: "+cz),null);};bx.formaDoc=function(cz){var cA,cB,cC,cD,cE,cF;cA=(cB=(cC=b_.EmbedView(b$.Map(bw.crearOptions,bw.tiposTel().get_View())),cd.Make().WithHole({$:0,$0:"tipos",$1:cC})),(cD=ce.CompleteHoles(cB.k,cB.h,[["tipotelefono",0],["codigopais",0],["codigoarea",0],["telefono",0],["extension",0]]),(cE=new cf.New(cD[1],bM.telefono(cD[0])),(cB.i=cE,cE))));b$.Sink(function(cG){var cH;if(cG!=null&&cG.$==1){cH=cG.$0;cA.Hole("codigoarea").Set(cH.codigoArea);cA.Hole("codigopais").Set(cH.codigoPais);cA.Hole("telefono").Set(cH.numero);cA.Hole("extension").Set(cH.extension);cA.Hole("tipotelefono").Set((function(cI){return function(cJ){return cI(a.String(cJ));};}(a.id))(cH.tipoTelefono));}},cz.get_View());cF=b$.Apply(b$.Map2(function(cG,cH){return function(cI){return bR.map(function(cJ){return cJ[1];},bR.filter(function(cJ){return cJ[0];},bS.ofArray([[bQ.Trim(cG)==="","CodigoPais"],[bQ.Trim(cH)==="","Telefono"],[bQ.Trim(cI)==="","TipoTelefono"]])));};},cA.Hole("codigopais").get_View(),cA.Hole("telefono").get_View()),cA.Hole("tipotelefono").get_View());b$.Sink(function(cG){if(!bY.Equals(cz.Get(),cG))cz.Set(cG);},b$.Apply(b$.Apply(b$.Apply(b$.Apply(b$.Map2(function(cG,cH){return bO.Curried(function(cI,cJ,cK,cL){return!bR.isEmpty(cG)?null:bw.alertIfNone("TipoTelefono",($.get_tryParse())(bQ.Trim(cH)),function(cM){var cN;return{$:1,$0:(cN=bQ.Trim(cI),ba.New(cM,bQ.Trim(cJ),cN,bQ.Trim(cK),bQ.Trim(cL),false))};});},4);},cF,cA.Hole("tipotelefono").get_View()),cA.Hole("codigoarea").get_View()),cA.Hole("codigopais").get_View()),cA.Hole("telefono").get_View()),cA.Hole("extension").get_View()));return[cF,cA.get_Doc()];};by.formaDoc=function(cz){var cA,cB,cC,cD,cE,cF,cG;cA=cg.Create$1("");cB=(cC=cd.Make().WithHole({$:2,$0:"mensaje",$1:cA.get_View()}),(cD=ce.CompleteHoles(cC.k,cC.h,[["correo",0],["confirmarcorreo",0]]),(cE=new cf.New(cD[1],bM.correo(cD[0])),(cC.i=cE,cE))));cF=cz.Get();cF!=null&&cF.$==1?cB.Hole("confirmarcorreo").Set(a.String(cF.$0)):void 0;b$.Sink(function(cH){cA.Set(cH);},b$.Apply(b$.Apply(b$.Map2(function(cH,cI){return function(cJ){return function(cK){return bQ.Trim(cH)===""||bQ.Trim(cI)===""||bQ.Trim(cJ)===bQ.Trim(cK)?"":"Correos no son iguales";};};},cB.Hole("correo").get_View(),cB.Hole("confirmarcorreo").get_View()),cB.Hole("correo").get_View()),cB.Hole("confirmarcorreo").get_View()));b$.Sink(function(cH){if(cH!=null&&cH.$==1)cB.Hole("correo").Set(cH.$0.email);},cz.get_View());cG=b$.Apply(b$.Apply(b$.Map2(function(cH,cI){return function(cJ){return function(cK){return bR.map(function(cL){return cL[1];},bR.filter(function(cL){return cL[0];},bS.ofArray([[bQ.Trim(cH)==="","Correo"],[bQ.Trim(cI)==="","ConfirmarCorreo"],[cJ!=="",cK]])));};};},cB.Hole("correo").get_View(),cB.Hole("confirmarcorreo").get_View()),cA.get_View()),cA.get_View());b$.Sink(function(cH){if(!bY.Equals(cz.Get(),cH))cz.Set(cH);},b$.Map2(function(cH,cI){var cJ,cK,cL,cM;return!bR.isEmpty(cH)?null:(cJ=(cK=cz.Get(),(cL={$:1,$0:bj.correoVacio()},cK==null?cL:cK)),cJ==null?null:{$:1,$0:(cM=cJ.$0,bm.New(cI,cM.status,cM.enviado,cM.recibido,cM.enlace))});},cG,cB.Hole("correo").get_View()));return[cG,cB.get_Doc()];};bz.formaDoc=function(cz){var cA,cB,cC,cD,cE,cF,cG,cH;cA=(cB=(cC=b_.EmbedView(b$.Map(bw.crearOptions,bw.tiposDir().get_View())),(cD=b_.EmbedView(b$.Map(bw.crearOptions,bw.estados().get_View())),(cE=b_.EmbedView(b$.Map(bw.crearOptions,bw.paises().get_View())),cd.Make().WithHole({$:0,$0:"paises",$1:cE})).WithHole({$:0,$0:"estados",$1:cD})).WithHole({$:0,$0:"tipos",$1:cC})),(cF=ce.CompleteHoles(cB.k,cB.h,[["tipodireccion",0],["direccion1",0],["direccion2",0],["ciudad",0],["estado",0],["codigopostal",0],["pais",0]]),(cG=new cf.New(cF[1],bM.direccion(cF[0])),(cB.i=cG,cG))));b$.Sink(function(cI){var cJ;if(cI!=null&&cI.$==1){cJ=cI.$0;cA.Hole("direccion1").Set(cJ.linea1);cA.Hole("direccion2").Set(cJ.linea2);cA.Hole("ciudad").Set(cJ.ciudad);cA.Hole("estado").Set((function(cK){return function(cL){return cK(a.String(cL));};}(a.id))(cJ.estado));cA.Hole("pais").Set((function(cK){return function(cL){return cK(a.String(cL));};}(a.id))(cJ.pais));cA.Hole("codigopostal").Set((function(cK){return function(cL){return cK(a.String(cL));};}(a.id))(cJ.zonaPostal));cA.Hole("tipodireccion").Set((function(cK){return function(cL){return cK(a.String(cL));};}(a.id))(cJ.tipoDireccion));}},cz.get_View());cH=b$.Apply(b$.Apply(b$.Apply(b$.Apply(b$.Map2(function(cI,cJ){return bO.Curried(function(cK,cL,cM,cN){return bR.map(function(cO){return cO[1];},bR.filter(function(cO){return cO[0];},bS.ofArray([[bQ.Trim(cI)==="","Direccion1"],[bQ.Trim(cJ)==="","Ciudad"],[bQ.Trim(cK)==="","Estado"],[bQ.Trim(cL)==="","Pais"],[bQ.Trim(cM)==="","CodigoPostal"],[bQ.Trim(cN)==="","TipoDireccion"]])));},4);},cA.Hole("direccion1").get_View(),cA.Hole("ciudad").get_View()),cA.Hole("estado").get_View()),cA.Hole("pais").get_View()),cA.Hole("codigopostal").get_View()),cA.Hole("tipodireccion").get_View());b$.Sink(function(cI){if(!bY.Equals(cz.Get(),cI))cz.Set(cI);},b$.Apply(b$.Apply(b$.Apply(b$.Apply(b$.Apply(b$.Apply(b$.Map2(function(cI,cJ){return bO.Curried(function(cK,cL,cM,cN,cO,cP){return!bR.isEmpty(cI)?null:bw.alertIfNone("TipoDireccion",_7.tryParse(bQ.Trim(cJ)),function(cQ){return bw.alertIfNone("Estado",_0.tryParse(bQ.Trim(cK)),function(cR){return bw.alertIfNone("Pais",Z.tryParse(bQ.Trim(cL)),function(cS){return bw.alertIfNone("CodgoPostal",_8.tryParse(bQ.Trim(cM)),function(cT){return{$:1,$0:_9.New(cQ,bQ.Trim(cN),bQ.Trim(cO),bQ.Trim(cP),cR,cS,cT)};});});});});},6);},cH,cA.Hole("tipodireccion").get_View()),cA.Hole("estado").get_View()),cA.Hole("pais").get_View()),cA.Hole("codigopostal").get_View()),cA.Hole("direccion1").get_View()),cA.Hole("direccion2").get_View()),cA.Hole("ciudad").get_View()));return[cH,cA.get_Doc()];};bA.formaDoc=function(cz){var cA,cB,cC,cD,cE,cF;cA=(cB=(cC=b_.EmbedView(b$.Map(bw.crearOptions,bw.generos().get_View())),cd.Make().WithHole({$:0,$0:"generos",$1:cC})),(cD=ce.CompleteHoles(cB.k,cB.h,[["nombres",0],["apellidos",0],["fechanacimiento",0],["genero",0]]),(cE=new cf.New(cD[1],bM.datospersonales(cD[0])),(cB.i=cE,cE))));b$.Sink(function(cG){var cH;if(cG!=null&&cG.$==1){cH=cG.$0;cA.Hole("nombres").Set(bQ.Trim(cH.nombre1+" "+cH.nombre2));cA.Hole("apellidos").Set(bQ.Trim(cH.apellido1+" "+cH.apellido2));cA.Hole("fechanacimiento").Set(T.toYYYYMMDD("-",cH.fechaNacimiento));cA.Hole("genero").Set((function(cI){return function(cJ){return cI(bL.p$8(cJ));};}(a.id))(cH.genero));}},cz.get_View());cF=b$.Apply(b$.Apply(b$.Map2(function(cG,cH){return function(cI){return function(cJ){return bR.map(function(cK){return cK[1];},bR.filter(function(cK){return cK[0];},bS.ofArray([[bQ.Trim(cG)==="","Nombres"],[bQ.Trim(cH)==="","Apellidos"],[bQ.Trim(cI)==="","Fecha de Nacimiento"],[bQ.Trim(cJ)==="","Genero"]])));};};},cA.Hole("nombres").get_View(),cA.Hole("apellidos").get_View()),cA.Hole("fechanacimiento").get_View()),cA.Hole("genero").get_View());b$.Sink(function(cG){if(!bY.Equals(cz.Get(),cG))cz.Set(cG);},b$.Apply(b$.Apply(b$.Apply(b$.Apply(b$.Apply(b$.Map2(function(cG,cH){return bO.Curried(function(cI,cJ,cK,cL,cM){return!bR.isEmpty(cG)?null:bw.alertIfNone("Genero",bb.tryParse(cH),function(cN){return bw.alertIfNone("Fecha incorrecta",(M.parseDateO2())(cI),function(cO){return{$:1,$0:bc.New(null,bT.get(bQ.SplitChars(bQ.Trim(cJ),[" "],0),0),bQ.concat(" ",b0.array(bQ.SplitChars(bQ.Trim(cK),[" "],0),{$:1,$0:1},null)),bT.get(bQ.SplitChars(bQ.Trim(cL),[" "],0),0),bQ.concat(" ",b0.array(bQ.SplitChars(bQ.Trim(cM),[" "],0),{$:1,$0:1},null)),new Z({$:3,$0:""}),cN,cO)};});});},5);},cF,cA.Hole("genero").get_View()),cA.Hole("fechanacimiento").get_View()),cA.Hole("nombres").get_View()),cA.Hole("nombres").get_View()),cA.Hole("apellidos").get_View()),cA.Hole("apellidos").get_View()));return[cF,cA.get_Doc()];};bB.formaDoc$5793$41=function(cz,cA,cB,cC,cD,cE){return function(){var cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP;function cQ(cR){a.alert(cR);}cz.Set(true);cF=cA.Get();bQ.Trim(cF)!==""?a.alert(cF):(cG=cB.Get(),cH=cC.Get(),cI=cD.Get(),cJ=cE.Get(),cG!=null&&cG.$==1&&(cH!=null&&cH.$==1&&(cI!=null&&cI.$==1&&(cJ!=null&&cJ.$==1&&(cK=[cH.$0,cG.$0,cJ.$0,cI.$0],true))))?(cL=cK[0],cM=cK[1],cN=cK[2],cO=cK[3],G.iterA(function(cR){return cQ(e.summarized(cR));},a.ignore,(cP=I.asyncResultM(),cP.Run(cP.Delay(function(){var cR,cS;return cP.Bind$4((cR={$:2,$0:{$:0,$0:(cS=ci.NewGuid(),a.String(cS))},$1:cM,$2:{$:1,$0:bu.modeloV().Get().idAliado},$3:[{$:1,$0:cL},{$:2,$0:cO},{$:0,$0:cN}]},(new ck.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.ejecutarEvento:-1486622886",[cR])),function(cT){bu.refrescarData();a.alert((function(cU){return function(cV){return cU(bL.p$9(cV));};}(a.id))(cT));return cP.Zero();});}))))):a.alert("Error not caught FormaRegistro"));};};bB.formaDoc=function(){var cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN;cz=cg.Create$1("");cA=cg.Create$1(false);cB=cg.Create$1(null);cC=cg.Create$1(null);cD=cg.Create$1(null);cE=cg.Create$1(null);cF=bA.formaDoc(cB);cG=by.formaDoc(cC);cH=bx.formaDoc(cD);cI=bz.formaDoc(cE);cJ=(cK=(cL=cd.Make().WithHole({$:2,$0:"mensajes",$1:b$.Map2(function(cO,cP){return cO?cP:"";},cA.get_View(),cz.get_View())}).WithHole({$:0,$0:"datospersonales",$1:cF[1]}).WithHole({$:0,$0:"correo",$1:cG[1]}).WithHole({$:0,$0:"telefono",$1:cH[1]}).WithHole({$:0,$0:"direccion",$1:cI[1]}),cL.WithHole(ce.EventQ2(cL.k,"registrarse",function(){return cL.i;},function(){var cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY;function cZ(c0){a.alert(c0);}cA.Set(true);cO=cz.Get();bQ.Trim(cO)!==""?a.alert(cO):(cP=cB.Get(),cQ=cC.Get(),cR=cD.Get(),cS=cE.Get(),cP!=null&&cP.$==1&&(cQ!=null&&cQ.$==1&&(cR!=null&&cR.$==1&&(cS!=null&&cS.$==1&&(cT=[cQ.$0,cP.$0,cS.$0,cR.$0],true))))?(cU=cT[0],cV=cT[1],cW=cT[2],cX=cT[3],G.iterA(function(c0){return cZ(e.summarized(c0));},a.ignore,(cY=I.asyncResultM(),cY.Run(cY.Delay(function(){var c0,c1;return cY.Bind$4((c0={$:2,$0:{$:0,$0:(c1=ci.NewGuid(),a.String(c1))},$1:cV,$2:{$:1,$0:bu.modeloV().Get().idAliado},$3:[{$:1,$0:cU},{$:2,$0:cX},{$:0,$0:cW}]},(new ck.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.ejecutarEvento:-1486622886",[c0])),function(c2){bu.refrescarData();a.alert((function(c3){return function(c4){return c3(bL.p$9(c4));};}(a.id))(c2));return cY.Zero();});}))))):a.alert("Error not caught FormaRegistro"));}))),(cM=ce.CompleteHoles(cK.k,cK.h,[]),(cN=new cf.New(cM[1],bM.formaregistro(cM[0])),(cK.i=cN,cN))));b$.Sink(function(cO){cz.Set(cO);},b$.Apply(b$.Apply(b$.Map2(function(cO,cP){return function(cQ){return function(cR){var cS;cS=bQ.concat(", ",bR.delay(function(){return bR.append(cO,bR.delay(function(){return bR.append(cP,bR.delay(function(){return bR.append(cQ,bR.delay(function(){return cR;}));}));}));}));return cS!==""?"Campos requeridos: "+cS:"";};};},cF[0],cG[0]),cH[0]),cI[0]));return cJ.get_Doc();};bC.formaDoc=function(){return bu.aliadoIdDoc(bC.formaAliado);};bC.formaAliado$5846$36=function(cz,cA,cB,cC){return function(){var cD,cE,cF,cG,cH,cI,cJ;function cK(cL){a.alert(cL);}cz.Set(true);cD=cA.Get();bQ.Trim(cD)!==""?a.alert(cD):(cE=cB.Get(),cF=b$.TryGet(cC),cE!=null&&cE.$==1&&(cF!=null&&cF.$==1&&(cG=[cF.$0,cE.$0],true))?(cH=cG[0],cI=cG[1],G.iterA(function(cL){return cK(e.summarized(cL));},a.ignore,(cJ=I.asyncResultM(),cJ.Run(cJ.Delay(function(){return cJ.Bind$4((new ck.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.ejecutarEvento:-1486622886",[{$:3,$0:cH.id,$1:cI}]),function(cL){bu.refrescarData();a.alert((function(cM){return function(cN){return cM(bL.p$9(cN));};}(a.id))(cL));return cJ.Zero();});}))))):a.alert("Error not caught FormaDatos"));};};bC.formaAliado=function(cz){var cA,cB,cC,cD,cE,cF,cG,cH,cI;function cJ(cL){return{$:1,$0:cL};}function cK(cL){cC.Set(cL);}cA=cg.Create$1("");cB=cg.Create$1(false);cC=cg.Create$1(null);b$.Sink(function(cL){return cK(cJ(cL));},b$.Map(function(cL){return cL.datosPersonales;},cz));cD=bA.formaDoc(cC);cE=(cF=(cG=cd.Make().WithHole({$:2,$0:"mensajes",$1:b$.Map2(function(cL,cM){return cL?cM:"";},cB.get_View(),cA.get_View())}).WithHole({$:2,$0:"changed",$1:b$.Map2(function(cL,cM){return bY.Equals({$:1,$0:cL.datosPersonales},cM)?"":"mui-btn--primary";},cz,cC.get_View())}).WithHole({$:0,$0:"datospersonales",$1:cD[1]}),cG.WithHole(ce.EventQ2(cG.k,"salvar",function(){return cG.i;},function(){var cL,cM,cN,cO,cP,cQ,cR;function cS(cT){a.alert(cT);}cB.Set(true);cL=cA.Get();bQ.Trim(cL)!==""?a.alert(cL):(cM=cC.Get(),cN=b$.TryGet(cz),cM!=null&&cM.$==1&&(cN!=null&&cN.$==1&&(cO=[cN.$0,cM.$0],true))?(cP=cO[0],cQ=cO[1],G.iterA(function(cT){return cS(e.summarized(cT));},a.ignore,(cR=I.asyncResultM(),cR.Run(cR.Delay(function(){return cR.Bind$4((new ck.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.ejecutarEvento:-1486622886",[{$:3,$0:cP.id,$1:cQ}]),function(cT){bu.refrescarData();a.alert((function(cU){return function(cV){return cU(bL.p$9(cV));};}(a.id))(cT));return cR.Zero();});}))))):a.alert("Error not caught FormaDatos"));}))),(cH=ce.CompleteHoles(cF.k,cF.h,[]),(cI=new cf.New(cH[1],bM.formadatospersonales(cH[0])),(cF.i=cI,cI))));b$.Sink(function(cL){cA.Set(cL);},b$.Map(function(cL){var cM;cM=bQ.concat(", ",bR.delay(function(){return cL;}));return cM!==""?"Campos requeridos: "+cM:"";},cD[0]));return cE.get_Doc();};bD.forma$5882$38=function(cz){return function(){cz();};};bD.forma=function(cz,cA,cB,cC){var cD,cE,cF,cG,cH;cg.Create$1("");cD=cg.Create$1(false);return(cE=(cF=cd.Make().WithHole({$:2,$0:"mensajes",$1:b$.Map2(function(cI,cJ){return cI?cJ:"";},cD.get_View(),cz)}).WithHole({$:2,$0:"changed",$1:b$.Map(function(cI){return cI?"":"mui-btn--primary";},cA)}).WithHole({$:0,$0:"content",$1:cB}),cF.WithHole(ce.EventQ2(cF.k,"salvar",function(){return cF.i;},function(){cC();}))),(cG=ce.CompleteHoles(cE.k,cE.h,[]),(cH=new cf.New(cG[1],bM.formagenerica(cG[0])),(cE.i=cH,cH)))).get_Doc();};bE.formaDoc=function(){return bu.aliadoIdDoc(bE.formaContactos);};bE.formaContactos$5961$36=function(cz,cA,cB,cC){return function(){var cD,cE,cF,cG;function cH(cI){a.alert(cI);}cz.Set(true);cD=cA.Get();bQ.Trim(cD)!==""?a.alert(cD):(cE=b$.TryGet(cB),cE!=null&&cE.$==1?(cF=cE.$0,G.iterA(function(cI){return cH(e.summarized(cI));},a.ignore,(cG=I.asyncResultM(),cG.Run(cG.Delay(function(){var cI;return cG.Bind$4((cI={$:4,$0:cF.id,$1:cC.Get()},(new ck.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.ejecutarEvento:-1486622886",[cI])),function(cJ){bu.refrescarData();a.alert((function(cK){return function(cL){return cK(bL.p$9(cL));};}(a.id))(cJ));return cG.Zero();});}))))):a.alert("Error not caught FormaDatos"));};};bE.formaContactos$5960$42=function(cz){return function(){cz.Set(cz.Get().concat([{$:0,$0:W.dirVacio()}]));};};bE.formaContactos$5959$42=function(cz){return function(){cz.Set(cz.Get().concat([{$:1,$0:bj.correoVacio()}]));};};bE.formaContactos$5958$42=function(cz){return function(){cz.Set(cz.Get().concat([{$:2,$0:W.telVacio()}]));};};bE.formaContactos=function(cz){var cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT;function cU(cW,cX){return function(cY){return new cl.New(b$.Map(function(cZ){var c0;c0=bR.tryItem(cY,cZ);return c0==null?null:cW(c0.$0);},cC.get_View()),function(cZ){if(cZ!=null&&cZ.$==1)cC.Set(K.replace(cY,cX(cZ.$0),cC.Get()));});};}function cV(cW,cX){return b_.Element("form",[],[cX,b_.Button("-",[cm.Create("title","borrar")],function(){cC.Set(K.remove(cW,cC.Get()));})]);}cA=cg.Create$1("");cB=cg.Create$1(false);cC=cg.Create$1([]);b$.Sink(function(cW){cC.Set(cW);},b$.Map(function(cW){return cW.contactos;},cz));cD=b$.Map(bR.indexed,cC.get_View());cE=[function(cW){return cW.$==2?{$:1,$0:cW.$0}:null;},function(cW){return{$:2,$0:cW};}];cF=[function(cW){return cW.$==1?{$:1,$0:cW.$0}:null;},function(cW){return{$:1,$0:cW};}];cG=[function(cW){return cW.$==0?{$:1,$0:cW.$0}:null;},function(cW){return{$:0,$0:cW};}];cH=b$.Map(function(cW){function cX(cY,cZ){return cE[0](cZ)==null?null:{$:1,$0:cY};}return bR.choose(function(cY){return cX(cY[0],cY[1]);},cW);},cD);cI=b$.Map(function(cW){function cX(cY,cZ){return cF[0](cZ)==null?null:{$:1,$0:cY};}return bR.choose(function(cY){return cX(cY[0],cY[1]);},cW);},cD);cJ=b$.Map(function(cW){function cX(cY,cZ){return cG[0](cZ)==null?null:{$:1,$0:cY};}return bR.choose(function(cY){return cX(cY[0],cY[1]);},cW);},cD);cK=b_.ConvertBy(a.id,function(cW){return cV(cW,(bx.formaDoc((function(cX){return cU(cX[0],cX[1]);}(cE))(cW)))[1]);},cH);cL=b_.ConvertBy(a.id,function(cW){return cV(cW,(by.formaDoc((function(cX){return cU(cX[0],cX[1]);}(cF))(cW)))[1]);},cI);cM=b_.ConvertBy(a.id,function(cW){return cV(cW,(bz.formaDoc((function(cX){return cU(cX[0],cX[1]);}(cG))(cW)))[1]);},cJ);return(cN=(cO=(cP=(cQ=(cR=cd.Make().WithHole({$:2,$0:"mensajes",$1:b$.Map2(function(cW,cX){return cW?cX:"";},cB.get_View(),cA.get_View())}).WithHole({$:2,$0:"changed",$1:b$.Map2(function(cW,cX){return bY.Equals(cW.contactos,cX)?"":"mui-btn--primary";},cz,cC.get_View())}).WithHole({$:0,$0:"telefonos",$1:cK}).WithHole({$:0,$0:"correos",$1:cL}).WithHole({$:0,$0:"direcciones",$1:cM}),cR.WithHole(ce.EventQ2(cR.k,"mastelefono",function(){return cR.i;},function(){cC.Set(cC.Get().concat([{$:2,$0:W.telVacio()}]));}))),cQ.WithHole(ce.EventQ2(cQ.k,"mascorreo",function(){return cQ.i;},function(){cC.Set(cC.Get().concat([{$:1,$0:bj.correoVacio()}]));}))),cP.WithHole(ce.EventQ2(cP.k,"masdireccion",function(){return cP.i;},function(){cC.Set(cC.Get().concat([{$:0,$0:W.dirVacio()}]));}))),cO.WithHole(ce.EventQ2(cO.k,"salvar",function(){return cO.i;},function(){var cW,cX,cY,cZ;function c0(c1){a.alert(c1);}cB.Set(true);cW=cA.Get();bQ.Trim(cW)!==""?a.alert(cW):(cX=b$.TryGet(cz),cX!=null&&cX.$==1?(cY=cX.$0,G.iterA(function(c1){return c0(e.summarized(c1));},a.ignore,(cZ=I.asyncResultM(),cZ.Run(cZ.Delay(function(){var c1;return cZ.Bind$4((c1={$:4,$0:cY.id,$1:cC.Get()},(new ck.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.ejecutarEvento:-1486622886",[c1])),function(c2){bu.refrescarData();a.alert((function(c3){return function(c4){return c3(bL.p$9(c4));};}(a.id))(c2));return cZ.Zero();});}))))):a.alert("Error not caught FormaDatos"));}))),(cS=ce.CompleteHoles(cN.k,cN.h,[]),(cT=new cf.New(cS[1],bM.formacontactos(cS[0])),(cN.i=cT,cT)))).get_Doc();};bE.formaTelefonos=function(cz){var cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK;function cL(cP,cQ){return function(cR){return new cl.New(b$.Map(function(cS){var cT;cT=bR.tryItem(cR,cS);return cT==null?null:cP(cT.$0);},cA.get_View()),function(cS){if(cS!=null&&cS.$==1)cA.Set(K.replace(cR,cQ(cS.$0),cA.Get()));});};}function cM(cP){return cP[1];}function cN(cP){return cP[1];}function cO(cP){return cP[1];}cA=cg.Create$1([]);b$.Sink(function(cP){cA.Set(cP);},b$.Map(function(cP){return cP.contactos;},cz));cB=b$.Map(bR.indexed,cA.get_View());cC=b$.Map(function(cP){function cQ(cR,cS){return(bE.ftel())[0](cS)==null?null:{$:1,$0:cR};}return bR.choose(function(cR){return cQ(cR[0],cR[1]);},cP);},cB);cD=b$.Map(function(cP){function cQ(cR,cS){return(bE.fcor())[0](cS)==null?null:{$:1,$0:cR};}return bR.choose(function(cR){return cQ(cR[0],cR[1]);},cP);},cB);cE=b$.Map(function(cP){function cQ(cR,cS){return(bE.fdir())[0](cS)==null?null:{$:1,$0:cR};}return bR.choose(function(cR){return cQ(cR[0],cR[1]);},cP);},cB);b_.ConvertBy(a.id,(cF=(cG=cL.apply(null,bE.ftel()),function(cP){return bx.formaDoc(cG(cP));}),function(cP){return cM(cF(cP));}),cC);b_.ConvertBy(a.id,(cH=(cI=cL.apply(null,bE.fcor()),function(cP){return by.formaDoc(cI(cP));}),function(cP){return cN(cH(cP));}),cD);b_.ConvertBy(a.id,(cJ=(cK=cL.apply(null,bE.fdir()),function(cP){return bz.formaDoc(cK(cP));}),function(cP){return cO(cJ(cP));}),cE);return bO.Curried(bD.forma,4);};bE.fdir=function(){bJ.$cctor();return bJ.fdir;};bE.fcor=function(){bJ.$cctor();return bJ.fcor;};bE.ftel=function(){bJ.$cctor();return bJ.ftel;};bF.aliados$6050$49=function(cz,cA){return function(){cz(cA);};};bF.aliados$6048$49=function(cz,cA){return function(){cz(cA);};};bF.aliados=function(){var cz,cA,cB,cC,cD,cE,cF;function cG(cP){var cQ,cR;cQ=(cR=cA.Get(),cR==null?null:{$:1,$0:cR.$0(cP)});return cQ==null?[]:cQ.$0;}function cH(cP){return cP.nReferidos===0?"-":(((bO.Curried3(function(cQ,cR,cS){return cQ(a.String(cR)+"/"+a.String(cS));}))(a.id))(cP.nRefActivos))(cP.nReferidos);}function cI(cP){return cP.nDescendientes===0?"-":(((bO.Curried3(function(cQ,cR,cS){return cQ(a.String(cR)+"/"+a.String(cS));}))(a.id))(cP.nDescActivos))(cP.nDescendientes);}function cJ(cP){return cP===0?"-":bu.money(cP);}function cK(cP){return b$.Map(function(cQ){return bR.isEmpty(cG(cP))?"":bY.Equals(cQ==null?null:{$:1,$0:cQ.$0.Contains(cP)},{$:1,$0:true})?"Expandido":"Colapsado";},cz.get_View());}function cL(cP){var cQ,cR,cS;cz.Set({$:1,$0:((bY.Equals((cQ=cz.Get(),cQ==null?null:{$:1,$0:cQ.$0.Contains(cP)}),{$:1,$0:true})?function(cT){return function(cU){return cU.Remove(cT);};}:function(cT){return function(cU){return cU.Add(cT);};})(cP))((cR=cz.Get(),(cS=new b3.New$1(null),cR==null?cS:cR.$0)))});}function cM(cP){bu.selAliadoIdOV().Set({$:1,$0:cP});}function cN(cP){var cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c9,c_;function c3(c$){return c$.comision;}function c4(c$){return c$.status;}function c5(c$){return[c$.nRefActivos,c$.nReferidos];}function c6(c$){return[c$.nDescActivos,c$.nDescendientes];}function c7(c$){return bp.nombre(c$.datosPersonales);}function c8(c$){return bR.delay(function(){return bR.append([c$],bR.delay(function(){var da,db;return(da=(db=cz.Get(),db==null?null:{$:1,$0:db.$0.Contains(c$.id)}),da==null?false:da.$0)?bR.collect(c8,c_.hijos(c$)):[];}));});}c9=(cQ=(cR=(cS=(cT=(cU=(bO.Curried3(L.desc))(c3),cV=(bO.Curried3(L.asc))(c4),bO.Curried(L.op_AmpGreater,2,[function(c$,da){return(cU(c$))(da);},function(c$,da){return(cV(c$))(da);}])),cW=(bO.Curried3(L.desc))(c5),bO.Curried(L.op_AmpGreater,2,[function(c$,da){return(cT(c$))(da);},function(c$,da){return(cW(c$))(da);}])),cX=(bO.Curried3(L.desc))(c6),bO.Curried(L.op_AmpGreater,2,[function(c$,da){return(cS(c$))(da);},function(c$,da){return(cX(c$))(da);}])),cY=(bO.Curried3(L.asc))(c7),bO.Curried(L.op_AmpGreater,2,[function(c$,da){return(cR(c$))(da);},function(c$,da){return(cY(c$))(da);}])),bR.sortWith(function(c$,da){return(cQ(c$))(da);},cP));c_=bp.busqueda(c9);cA.Set({$:1,$0:c_.hijosDe});try{c0=bR.min(bR.map(function(c$){return c$.nivel;},c9));}catch(c$){c0=1;}c1=bR.filter(function(da){return da.nivel===c0;},c9);bR.isEmpty(c1)?cz.Set(null):cz.Get()==null?(cz.Set({$:1,$0:new b3.New(bR.map(function(da){return da.id;},c1))}),c2=bR.tryHead(bR.map(function(da){return da.id;},c1)),(i.iter(cM))(c2)):void 0;return bR.delay(function(){return bR.collect(c8,c1);});}function cO(cP,cQ){var cR,cS,cT,cU,cV,cW;return(cR=(cS=(cT=(cU=cK(cP),cd.Make().WithHole({$:2,$0:"nombre",$1:b$.Map(function(cX){return bp.nombre(cX.datosPersonales);},cQ)}).WithHole({$:2,$0:"status",$1:b$.Map(function(cX){return(function(cY){return function(cZ){return cY(bL.p$3(cZ));};}(a.id))(cX.status);},cQ)}).WithHole({$:2,$0:"tipo",$1:b$.Map(function(cX){return(function(cY){return function(cZ){return cY(bL.p(cZ));};}(a.id))(cX.tipo);},cQ)}).WithHole({$:2,$0:"nivel",$1:b$.Map(function(cX){return a.String(cX.nivel);},cQ)}).WithHole({$:2,$0:"referidos",$1:b$.Map(cH,cQ)}).WithHole({$:2,$0:"descendientes",$1:b$.Map(cI,cQ)}).WithHole({$:2,$0:"comision",$1:b$.Map(function(cX){return cJ(cX.comision);},cQ)}).WithHole({$:2,$0:"expandido",$1:cU})),cT.WithHole(ce.EventQ2(cT.k,"expandir",function(){return cT.i;},function(){cL(cP);}))).WithHole({$:2,$0:"seleccionado",$1:b$.Map(function(cX){return bY.Equals({$:1,$0:cP},cX)?"seleccionado":"";},bu.selAliadoIdOV().get_View())}),cS.WithHole(ce.EventQ2(cS.k,"seleccionar",function(){return cS.i;},function(){cM(cP);}))),(cV=ce.CompleteHoles(cR.k,cR.h,[]),(cW=new cf.New(cV[1],bM.filaaliado(cV[0])),(cR.i=cW,cW)))).get_Doc();}cz=cg.Create$1(null);cA=cg.Create$1(null);return(cB=(cC=b_.ConvertSeqBy(function(cP){return cP.id;},function(cP){return function(cQ){return cO(cP,cQ);};},(cD=b$.Map(function(cP){return cP.aliados;},bu.modeloV().get_View()),b$.Map2(function(cP,cQ){return cN(cQ);},cz.get_View(),cD))),cd.Make().WithHole({$:0,$0:"tbody",$1:cC})),(cE=ce.CompleteHoles(cB.k,cB.h,[]),(cF=new cf.New(cE[1],bM.tablaaliados(cE[0])),(cB.i=cF,cF)))).get_Doc();};bG.aliado=function(){function cz(cA){var cB;cB=bR.tryPick(function(cC){return cC.$==1?{$:1,$0:cC.$0.email}:null;},cA.contactos);return cB==null?"correo no encontrado!":cB.$0;}return bu.selAliadoIdDoc(function(cA){var cB,cC,cD,cE;return(cB=(cC=bG.calculo(),cd.Make().WithHole({$:2,$0:"nombre",$1:b$.Map(function(cF){return bp.nombre2(cF.datosPersonales);},cA)}).WithHole({$:2,$0:"status",$1:b$.Map(function(cF){return(function(cG){return function(cH){return cG(bL.p$3(cH));};}(a.id))(cF.status);},cA)}).WithHole({$:2,$0:"tipo",$1:b$.Map(function(cF){return(function(cG){return function(cH){return cG(bL.p(cH));};}(a.id))(cF.tipo);},cA)}).WithHole({$:2,$0:"contacto",$1:b$.Map(cz,cA)}).WithHole({$:0,$0:"calculo",$1:cC})),(cD=ce.CompleteHoles(cB.k,cB.h,[]),(cE=new cf.New(cD[1],bM.aliado(cD[0])),(cB.i=cE,cE)))).get_Doc();});};bG.calculo=function(){var cz,cA;cz=b$.Map(function(cB){return cB.premisas;},bu.modeloV().get_View());cA=b$.Map(function(cB){return cB.aliados;},bu.modeloV().get_View());b$.Map2(function(cB,cC){return bR.tryFind(function(cD){return bY.Equals(cD.id,cB);},cC);},b$.Map(function(cB){return cB.idAliado;},bu.modeloV().get_View()),cA);return bu.selAliadoIdDoc(function(cB){var cC,cD,cE,cF,cG;cC=b$.Map2(bp.comision,cz,cB);cD=b$.Map2(bp.premisas,cz,cB);return(cE=cd.Make().WithHole({$:2,$0:"referidos",$1:b$.Map(function(cH){return(function(cI){return function(cJ){return cI(a.String(cJ));};}(a.id))(cH.nReferidos);},cB)}).WithHole({$:2,$0:"refactivos",$1:b$.Map(function(cH){return(function(cI){return function(cJ){return cI(a.String(cJ));};}(a.id))(cH.nRefActivos);},cB)}).WithHole({$:2,$0:"comreferido",$1:b$.Map(function(cH){return(function(cI){return function(cJ){return cI(a.String(cJ));};}(a.id))(cH.nRefActivos);},cB)}).WithHole({$:2,$0:"descendientes",$1:b$.Map(function(cH){return(function(cI){return function(cJ){return cI(a.String(cJ));};}(a.id))(cH.nDescendientes);},cB)}).WithHole({$:2,$0:"desactivos",$1:b$.Map(function(cH){return(function(cI){return function(cJ){return cI(a.String(cJ));};}(a.id))(cH.nDescActivos);},cB)}).WithHole({$:2,$0:"comision",$1:b$.Map(function(cH){return bu.money(cH[0]+cH[1]);},cC)}).WithHole({$:2,$0:"comreferido",$1:b$.Map(function(cH){return bu.money(cH[0]);},cC)}).WithHole({$:2,$0:"comdescendiente",$1:b$.Map(function(cH){return bu.money(cH[1]);},cC)}).WithHole({$:2,$0:"porreferido",$1:b$.Map(function(cH){return bu.money(cH[0]);},cD)}).WithHole({$:2,$0:"pordescendiente",$1:b$.Map(function(cH){return bu.money(cH[1]);},cD)}),(cF=ce.CompleteHoles(cE.k,cE.h,[]),(cG=new cf.New(cF[1],bM.calculo(cF[0])),(cE.i=cG,cG)))).get_Doc();});};bu.refrescarData=function(){var cz;bt.iterA((cz=I.asyncResultM(),cz.Run(cz.Delay(function(){return cz.Bind$4((new ck.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.leerDataModelo:512161386",[bu.refAliadoIdOV().Get()]),function(cA){bu.modeloV().Set(cA);return cz.Zero();});}))));};bu.selAliadoIdDoc=function(cz){var cA;return b_.BindView(a.id,(cA=b$.get_Do(),b$.Bind(function(cB){return b$.Bind(function(cC){var cD,cE;cD=cC==null?null:(cE=cC.$0,bR.tryFind(function(cF){return bY.Equals(cF.id,cE);},cB.aliados));return b$.Const(cD!=null&&cD.$==1?cz(b$.Const(cD.$0)):b_.get_Empty());},bu.selAliadoIdOV().get_View());},bu.modeloV().get_View())));};bu.aliadoW=function(){bJ.$cctor();return bJ.aliadoW;};bu.aliadoIdDoc=function(cz){var cA;return b_.BindView(a.id,(cA=b$.get_Do(),b$.Bind(function(cB){var cC,cD;cC=cB.idAliado;cD=bR.tryFind(function(cE){return bY.Equals(cE.id,cC);},cB.aliados);return b$.Const(cD!=null&&cD.$==1?cz(b$.Const(cD.$0)):b_.get_Empty());},bu.modeloV().get_View())));};bu.contentVar=function(){bJ.$cctor();return bJ.contentVar;};bu.endPointV=function(){bJ.$cctor();return bJ.endPointV;};bu.money=function(cz){return"$"+bu.separate(a.String(cz),bS.T.Empty);};bu.separate=function(cz,cA){var cB;while(true)if(cz==="")return(function(cC){return function(cD){return bQ.concat(cC,cD);};}(","))(cA);else{cB=cz;cz=c["String.Left$1"](cB,-3);cA=new bS.T({$:1,$0:c["String.Right$1"](cB,3),$1:cA});}};bu.refAliadoIdOV=function(){bJ.$cctor();return bJ.refAliadoIdOV;};bu.selAliadoIdOV=function(){bJ.$cctor();return bJ.selAliadoIdOV;};bu.modeloV=function(){bJ.$cctor();return bJ.modeloV;};bH.mainProgramLoggedOff=function(cz){bu.refAliadoIdOV().Set({$:1,$0:cz});bH.mainProgram();};bH.mainProgram=function(){var cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN;cz=cg.Create$1("Prozper");cA=b$.Map(function(cO){return bH.mesToString(cO.periodoActual);},bu.modeloV().get_View());cB=b$.Map(function(cO){return a.String(cO.anoActual);},bu.modeloV().get_View());cC=b$.Map(function(cO){return bp.nombre2(cO.datosPersonales);},bu.aliadoW());cD=b$.Map(function(cO){return a.String(cO.status);},bu.aliadoW());cE=b$.Map(function(cO){return a.String(cO.comision);},bu.aliadoW());cF=b$.Map(function(cO){return a.String(cO.nReferidos);},bu.aliadoW());cn.addPlugIn(co.New("Prozper",[cn.newVar("title",cz),cn.newVar("contentVar",bu.contentVar())],[cn.newViw("mesActual",cA),cn.newViw("anoActual",cB),cn.newViw("aliado",cC),cn.newViw("status",cD),cn.newViw("comision",cE),cn.newViw("datos",cF)],[cn.newDoc("Aliados",cp.Create(bF.aliados)),cn.newDoc("Aliado",cp.Create(bG.aliado)),cn.newDoc("Calculo",cp.Create(bG.calculo)),cn.newDoc("FormaRegistro",cp.Create(bB.formaDoc)),cn.newDoc("FormaDatos",cp.Create(bC.formaDoc)),cn.newDoc("FormaContactos",cp.Create(bE.formaDoc)),cn.newDoc("contentDoc",cp.Create(bH.getContentDoc))],[cn.newAct("Logout",function(){bH.logout();})],[]));cq.addLayout((cG=(cH=self.document.getElementById("GlobalLayout"),bY.Equals(cH,null)?"\r\n                    menuEditor       horizontal  65       menuLogo                  editorMessages\r\n                    double           horizontal  0-50-100 AppFramework.AppFwkClient menuEditor\r\n                    menuLogo         vertical    350      logo                      menu\r\n                    logo             span       \"margin:0; color:gray; font-size: 55px; font-weight:530\" \"F# Station\"\r\n                    editorMessages   horizontal 10-83-100 editorButtons             messages\r\n                    messages         vertical   0-50-100  messagesLeft              messagesRight\r\n                    editorButtons    vertical -200 snippetsSnippet buttons\r\n                    buttons div      \"overflow: hidden; display: grid; grid-template-columns: 100%; grid-template-rows: repeat(15, calc(100% / 15)); bxackground-color: #eee; box-sizing: border-box; padding : 5px; grid-gap: 5px; margin-right: 21px\" btnSaveAs none x btnAddSnippet btnDeleteSnippet btnIndentIn btnIndentOut none x btnRunFS none x btnAbortFsi\r\n                    snippetsSnippet  vertical   0-20-100  snippets                  editorProperties\r\n                    snippets         horizontal 20        \"${FSharpStation.CurrentPath}\" FSharpStation.Snippets\r\n                    editorProperties vertical   0-100-100 snippet                   properties\r\n                    properties       div        \"\"        FSharpStation.Properties\r\n                    snippet          horizontal 35        Name                      FSharpStation.editor\r\n                    menu             span  \"\" btnLoad btnImport\r\n        \r\n                    btnSaveAs        button FSharpStation.SaveAs         \"class=btn ${FSharpStation.SaveNeeded}\" \"Save as...    \"\r\n                    btnAddDimension  button RuleEditor.AddDimension      \"\"                  \"Add Dimension \"\r\n                    btnDeleteSnippet button FSharpStation.RemoveSnippet  \"\"                  \"Delete Snippet\"\r\n                    btnIndentIn      button FSharpStation.IndentIn       \"\"                  \"Indent In  >> \"\r\n                    btnIndentOut     button FSharpStation.IndentOut      \"\"                  \"Indent Out << \"\r\n                    btnRunFS         button FSharpStation.RunFS          \"\"                  \"Run F#        \"\r\n                    btnAbortFsi      button FSharpStation.AbortFsi       \"\"                  \"Abort Fsi     \"\r\n        \r\n                    messagesLeft     wcomp-tabstrip                      \"\"                  Output FsCode\r\n                    messagesRight    wcomp-tabstrip                      \"\"                  Parser\r\n        \r\n                    Output           textarea  FSharpStation.Output      \"tabname=Output ; placeholder=Output messages ; spellcheck=false\" \r\n                    FsCode           textarea  FSharpStation.FsCode      \"tabname=F# Code; placeholder=F# Code         ; spellcheck=false\" \r\n                    Parser           textarea  FSharpStation.Parser      \"tabname=Parser ; placeholder=Parser messages; dblclick=${FSharpStation.JumpTo} ; spellcheck=false\" \r\n                    Name             Doc       InputLabel                \"\"     \"Name:\"        FSharpStation.SnippetName\r\n                    btnLoad          Doc       InputFile                 \"\"     \"Load File...\" FSharpStation.LoadFile  FileName\r\n                    btnImport        Doc       InputFile                 \"\"     \"Import...\"    FSharpStation.Import    \"\"\r\n                    FileName         div                                 \"class=form-control\"  FSharpStation.fileName\r\n                   ":cH.textContent),cq.newLyt(bH.layoutName(),cG)));cI=(cJ=null,(cK=bH.layoutName(),cJ==null?cK:cJ.$0));cn.mainDocV().Set(cI);bu.refrescarData();cL=(cM=cn.getMainDoc().f(),cd.Make().WithHole({$:0,$0:"maincontent",$1:cM}));cN=ce.CompleteHoles(cL.k,cL.h,[]);cL.i=new cf.New(cN[1],cs.RunFullDocTemplate(cN[0]));b$.Sink(function(cO){self.document.title=cO;},cz.get_View());};bH.getContentDoc=function(){return b_.EmbedView(b$.Map(function(cz){var cA,cB,cC;cA=(cB=(cC=((cq.splitName())("Prozper"))(cz),cn.tryGetDoc(cC[0],cC[1])),cB==null?null:{$:1,$0:cq.getDocFinal(bS.T.Empty,cB.$0)});return cA==null?cq.errDoc((function(cD){return function(cE){return cD("Doc not found "+bP.toSafe(cE));};}(a.id))(cz)):cA.$0;},bu.contentVar().get_View()));};bH.logout=function(){var cz;bt.iterA((cz=I.asyncResultM(),cz.Run(cz.Delay(function(){return cz.Bind$4((new ck.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.logoutUser:933851348",[]),function(){self.location.replace("/");return cz.Zero();});}))));};bH.mesToString=function(cz){return cz===1?"Ene":cz===2?"Feb":cz===3?"Mar":cz===4?"Abr":cz===5?"May":cz===6?"Jun":cz===7?"Jul":cz===8?"Ago":cz===9?"Sep":cz===10?"Oct":cz===11?"Nov":cz===12?"Dic":"---";};bH.scrollToBottom=function(cz,cA){var cB;bU.Start((cB=null,bU.Delay(function(){return bU.Bind(bU.Sleep(100),function(){cz.scrollTop=cz.scrollHeight;return bU.Zero();});})),null);};bH.layoutName=function(){bJ.$cctor();return bJ.layoutName;};bI.content$6330$35=function(){return function(cz){var cA;if(cz.Vars.Hole("username").Get()!==""&&cz.Vars.Hole("password").Get()!==""){bt.iterA((cA=I.asyncResultM(),cA.Run(cA.Delay(function(){return cA.Bind$4((new ck.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.loginUser:-1419667674",[cz.Vars.Hole("username").Get(),cz.Vars.Hole("password").Get()]),function(){self.location.reload();return cA.Zero();});}))));}};};bI.content$6320$62=function(){bH.mainProgram();return b_.TextNode("Initialized");};bI.content$6308$58=function(cz){bH.mainProgramLoggedOff(cz);return b_.TextNode("Initialized");};bJ.$cctor=function(){var cz,cA,cB,cC,cD,cE,cF;bJ.$cctor=a.ignore;function cG(cL){return bQ.concat("\n",cL);}function cH(cL){return J.splitByChar$1("\n",cL);}function cI(cL){var cM,cN;return b0.array(cL,{$:1,$0:0},{$:1,$0:(cM=0,(cN=bT.length(cL)-2,bY.Compare(cM,cN)===1?cM:cN))});}function cJ(cL){return bQ.concat("\n",cL);}function cK(cL){return cL+"T00:00:00";}bJ.rtn=function(cL){return[cL];};bJ.result=new n.New();bJ.result$1=m.result();bJ.eff=new u.New();bJ.resultM=new D.New();bJ.asyncResultM=new H.New();bJ.unindentStr=function(cL){return cG(J.unindent$1(cL));};bJ.skipLastLine=(cz=function(cL){return cI(cH(cL));},function(cL){return cJ(cz(cL));});bJ.parseDateO2=(cA=M.tryParseWith$1(function(cL){var cM,cN;cM=0;return[(cN=ct.TryParse(cL),cN!=null&&cN.$==1&&(cM=cN.$0,true)),cM];}),function(cL){return cA(cK(cL));});bJ.parseDateO=M.tryParseWith$1(function(cL){var cM,cN;cM=0;return[(cN=ct.TryParse(cL),cN!=null&&cN.$==1&&(cM=cN.$0,true)),cM];});bJ.parseIntO=M.tryParseWith$1(function(cL){var cM;cM=0;return[cu.TryParseInt32(cL,{get:function(){return cM;},set:function(cN){cM=cN;}}),cM];});bJ.parseSingleO=M.tryParseWith$1(function(cL){var cM,cN;cM=0;return[(cN=a.Number(cL),a.isNaN(cN)?false:(cM=cN,true)),cM];});bJ.parseDoubleO=M.tryParseWith$1(function(cL){var cM,cN;cM=0;return[(cN=a.Number(cL),a.isNaN(cN)?false:(cM=cN,true)),cM];});bJ.parseGuidO=M.tryParseWith$1(function(cL){var cM;cM=null;return[ci.TryParse(cL,{get:function(){return cM;},set:function(cN){cM=cN;}}),cM];});bJ["|Date|_|"]=M.parseDateO$1();bJ["|Int|_|"]=M.parseIntO$1();bJ["|Single|_|"]=M.parseSingleO$1();bJ["|Double|_|"]=M.parseDoubleO$1();bJ["|Guid|_|"]=M.parseGuidO$1();bJ.serString=[N.toJsonString,function(cL){return cL.tryString();}];bJ.serFloat=[function(cL){return(function(cM){return function(cN){return cM(bP.prettyPrint(cN));};}(a.id))(cL);},function(cL){return cL.tryFloat();}];bJ.serInt=[function(cL){return(function(cM){return function(cN){return cM(bP.prettyPrint(cN));};}(a.id))(cL);},function(cL){return cL.tryInt();}];bJ.serBool=[function(cL){return(function(cM){return function(cN){return cM(bP.prettyPrint(cN));};}(a.id))(cL);},function(cL){return cL.tryBool();}];bJ.rootdir="..\\website";bJ.TemplatesFileName="..\\website"+"\\Templates.html";bJ.LoginFileName="..\\website"+"\\Login.html";((function(cL){return function(cM){return cL(bP.toSafe(cM));};}(function(cL){bZ.log(cL);}))("..\\website\\Templates.html"));bJ.premisasCalculo=bh.New(15,25,25,0,75,31,15,22);bJ.telVacio=ba.New($.Movil,"","","","",false);bJ.dirVacio=_9.New(_7.Habitacion,"","","",new _0({$:2,$0:""}),new Z({$:3,$0:""}),new _8({$:0,$0:""}));bJ.correoVacio=bm.New("",bl.RequiereVerificacion,null,null,null);bJ.empty=bn.New({$:0,$0:""},null,bc.New(null,"","","","",Z.USA,bb.Masculino,(new a.Date(2000,1-1,1)).getTime()),[],[],[],[],[],false,_4.Inactivo,Y.Regular,(new a.Date(2000,1-1,1)).getTime(),(new a.Date(2000,1-1,1)).getTime(),0,0,0,0,0,0);bJ.modeloV=cg.Create$1(bo.New({$:0,$0:":"},[],(cB=cv.now(),(new cv(cB)).getFullYear()),(cC=cv.now(),(new cv(cC)).getMonth()+1),W.premisasCalculo(),-2));bJ.selAliadoIdOV=cg.Create$1(null);bJ.refAliadoIdOV=cg.Create$1(null);bJ.endPointV=cg.Create$1(bv.DefaultEP);bJ.contentVar=cg.Create$1("ProzperLyt.mainContent");cD=bK.r();cw.InstallHashInto(bu.endPointV(),bv.DefaultEP,cD);b$.Sink(function(cL){var cM;cM=bY.Equals(bu.refAliadoIdOV().Get(),null)?cL:"ProzperLyt.cntFormaRegistro";bu.contentVar().Get()!==cM?bu.contentVar().Set(cM):void 0;},b$.Map(function(cL){return cL.$==1?cL.$0:"ProzperLyt.mainContent";},bu.endPointV().get_View()));b$.Sink(function(cL){if(!bY.Equals(bu.endPointV().Get(),cL))bu.endPointV().Set(cL);},b$.Map(function(cL){return cL==="ProzperLyt.mainContent"?bv.DefaultEP:{$:1,$0:cL};},bu.contentVar().get_View()));bJ.aliadoW=(cE=b$.get_Do(),b$.Bind(function(cL){var cM,cN;cM=cL.idAliado;cN=bR.tryFind(function(cO){return bY.Equals(cO.id,cM);},cL.aliados);return b$.Const(cN!=null&&cN.$==1?cN.$0:bp.empty());},bu.modeloV().get_View()));bJ.paises=cg.Create$1([]);bJ.estados=cg.Create$1([]);bJ.tiposDir=cg.Create$1([]);bJ.tiposTel=cg.Create$1([]);bJ.generos=cg.Create$1([]);bU.Start((cF=null,bU.Delay(function(){return bU.Bind((new ck.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.obtenerUnions:1415050208",[]),function(cL){bw.paises().Set(cL[0]);bw.estados().Set(cL[1]);bw.tiposDir().Set(cL[2]);bw.tiposTel().Set(cL[3]);bw.generos().Set(cL[4]);return bU.Zero();});})),null);bJ.ftel=[function(cL){return cL.$==2?{$:1,$0:cL.$0}:null;},function(cL){return{$:2,$0:cL};}];bJ.fcor=[function(cL){return cL.$==1?{$:1,$0:cL.$0}:null;},function(cL){return{$:1,$0:cL};}];bJ.fdir=[function(cL){return cL.$==0?{$:1,$0:cL.$0}:null;},function(cL){return{$:0,$0:cL};}];bJ.layoutName="ProzperLyt";};bK.r=function(){return cy.JSUnion(void 0,[[null,[[null,[]]],[]],[null,[[null,["Content"]]],[cy.rString()]]]);};bL.p=function(cz){return cz.$==1?"Regular":"Master";};bL.p$1=function(cz){return cz.$==3?"OtroP "+bP.prettyPrint(cz.$0):cz.$==2?"Argentina":cz.$==1?"Venezuela":"USA";};bL.p$2=function(cz){return cz.$==2?"OtroS "+bP.prettyPrint(cz.$0):cz.$==1?"Florida":"Texas";};bL.p$3=function(cz){return cz.$==2?"Inactivo":cz.$==1?"Activo":"Nuevo";};bL.p$4=function(cz){return cz.$==2?"Otro "+bP.prettyPrint(cz.$0):cz.$==1?"PagoComision":"PagoAfiliacion";};bL.p$5=function(cz){return cz.$==3?"Otro "+bP.prettyPrint(cz.$0):cz.$==2?"ServicioPostal":cz.$==1?"Oficina":"Habitacion";};bL.p$6=function(cz){return cz.$==3?"Voip":cz.$==2?"Habitacion":cz.$==1?"Oficina":"Movil";};bL.p$7=function(cz){return"IdAliado "+bP.prettyPrint(cz.$0);};bM.telefono=function(cz){cs.LoadLocalTemplates("templates");return cz?cs.NamedTemplate("templates",{$:1,$0:"telefono"},cz):void 0;};bM.correo=function(cz){cs.LoadLocalTemplates("templates");return cz?cs.NamedTemplate("templates",{$:1,$0:"correo"},cz):void 0;};bM.direccion=function(cz){cs.LoadLocalTemplates("templates");return cz?cs.NamedTemplate("templates",{$:1,$0:"direccion"},cz):void 0;};bM.datospersonales=function(cz){cs.LoadLocalTemplates("templates");return cz?cs.NamedTemplate("templates",{$:1,$0:"datospersonales"},cz):void 0;};bL.p$8=function(cz){return cz.$==2?"Empresa":cz.$==1?"Femenino":"Masculino";};bL.p$9=function(cz){return cz.$==2?"Mensaje "+bP.prettyPrint(cz.$0):cz.$==1?"NuevoRegistro "+bP.prettyPrint(cz.$0):"ROk";};bM.formaregistro=function(cz){cs.LoadLocalTemplates("templates");return cz?cs.NamedTemplate("templates",{$:1,$0:"formaregistro"},cz):void 0;};bM.formadatospersonales=function(cz){cs.LoadLocalTemplates("templates");return cz?cs.NamedTemplate("templates",{$:1,$0:"formadatospersonales"},cz):void 0;};bM.formagenerica=function(cz){cs.LoadLocalTemplates("templates");return cz?cs.NamedTemplate("templates",{$:1,$0:"formagenerica"},cz):void 0;};bM.formacontactos=function(cz){cs.LoadLocalTemplates("templates");return cz?cs.NamedTemplate("templates",{$:1,$0:"formacontactos"},cz):void 0;};bM.tablaaliados=function(cz){cs.LoadLocalTemplates("templates");return cz?cs.NamedTemplate("templates",{$:1,$0:"tablaaliados"},cz):void 0;};bM.filaaliado=function(cz){cs.LoadLocalTemplates("templates");return cz?cs.NamedTemplate("templates",{$:1,$0:"filaaliado"},cz):void 0;};bM.aliado=function(cz){cs.LoadLocalTemplates("templates");return cz?cs.NamedTemplate("templates",{$:1,$0:"aliado"},cz):void 0;};bM.calculo=function(cz){cs.LoadLocalTemplates("templates");return cz?cs.NamedTemplate("templates",{$:1,$0:"calculo"},cz):void 0;};}());

//# sourceMappingURL=StackOverflow.min.map