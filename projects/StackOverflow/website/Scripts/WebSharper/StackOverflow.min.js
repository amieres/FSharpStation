(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp;a=self;b=a.FsRoot=a.FsRoot||{};c=b.Library=b.Library||{};d=c.Dict=c.Dict||{};e=c.ResultMessage=c.ResultMessage||{};f=c.ResultMessageHelpers=c.ResultMessageHelpers||{};g=c.Monads=c.Monads||{};h=g.Seq=g.Seq||{};i=g.Async=g.Async||{};j=a.WebSharper;k=j&&j.Obj;l=g.Result=g.Result||{};m=l.Builder=l.Builder||{};n=l.Operators=l.Operators||{};o=g.Eff=g.Eff||{};p=o.Eff=o.Eff||{};q=o.Done=o.Done||{};r=p.LambdaT=p.LambdaT||{};s=o.Operators=o.Operators||{};t=o.EffBuilder=o.EffBuilder||{};u=o.State=o.State||{};v=u.Put=u.Put||{};w=u.Get=u.Get||{};x=o.Log=o.Log||{};y=x.LogEntry=x.LogEntry||{};z=o.Rsl=o.Rsl||{};A=z.Fail=z.Fail||{};B=g.ResultM=g.ResultM||{};C=B.Builder=B.Builder||{};D=B.Operators=B.Operators||{};E=g.ResultMAutoOpen=g.ResultMAutoOpen||{};F=g.AsyncResultM=g.AsyncResultM||{};G=F.AsyncResultMBuilder=F.AsyncResultMBuilder||{};H=g.AsyncResultMAutoOpen=g.AsyncResultMAutoOpen||{};I=c.String=c.String||{};J=c.Array=c.Array||{};K=c.SortWith=c.SortWith||{};L=c.ParseO=c.ParseO||{};M=c.Serializer=c.Serializer||{};N=M.JsonIntermediate=M.JsonIntermediate||{};O=c.MailboxProcessorExt=c.MailboxProcessorExt||{};P=c.Mailbox=c.Mailbox||{};Q=P.StateFull=P.StateFull||{};R=b.LibraryJS=b.LibraryJS||{};S=R.Date=R.Date||{};T=b.StackOverflow=b.StackOverflow||{};U=T.Templating=T.Templating||{};V=T.TipoAliado=T.TipoAliado||{};W=T.Pais=T.Pais||{};X=T.Estado=T.Estado||{};Y=T.Identificacion=T.Identificacion||{};Z=T.TipoCuenta=T.TipoCuenta||{};_0=T.CuentaBancaria=T.CuentaBancaria||{};_1=T.StatusAliado=T.StatusAliado||{};_2=T.ConceptoPago=T.ConceptoPago||{};_3=T.Transaccion=T.Transaccion||{};_4=T.TipoDireccion=T.TipoDireccion||{};_5=T.ZonaPostal=T.ZonaPostal||{};_6=T.Direccion=T.Direccion||{};_7=T.CorreoElectronico=T.CorreoElectronico||{};_8=T.TipoTelefono=T.TipoTelefono||{};_9=T.Telefono=T.Telefono||{};_=T.Genero=T.Genero||{};$=T.DatosPersonales=T.DatosPersonales||{};ba=T.TipoMensaje=T.TipoMensaje||{};bb=T.Remitente=T.Remitente||{};bc=T.Mensaje=T.Mensaje||{};bd=T.Aliado=T.Aliado||{};be=T.PremisasCalculo=T.PremisasCalculo||{};bf=T.Modelo=T.Modelo||{};bg=T.AliadoModule=T.AliadoModule||{};bh=bg.Buscar=bg.Buscar||{};bi=T.Evento=T.Evento||{};bj=T.Respuesta=T.Respuesta||{};bk=T.Rpc=T.Rpc||{};bl=T.ModeloUI=T.ModeloUI||{};bm=bl.EndPoint=bl.EndPoint||{};bn=bl.VariousUI=bl.VariousUI||{};bo=bl.Telefono=bl.Telefono||{};bp=bl.CorreoElectronico=bl.CorreoElectronico||{};bq=bl.Direccion=bl.Direccion||{};br=bl.DatosPersonales=bl.DatosPersonales||{};bs=bl.FormaRegistro=bl.FormaRegistro||{};bt=bl.FormaDatos=bl.FormaDatos||{};bu=bl.FormaGenerica=bl.FormaGenerica||{};bv=bl.FormaContactos=bl.FormaContactos||{};bw=bl.RenderAliados=bl.RenderAliados||{};bx=bl.RenderAliado=bl.RenderAliado||{};by=T.MainProgram=T.MainProgram||{};bz=T.Server=T.Server||{};bA=a.StartupCode$StackOverflow$StackOverflow=a.StartupCode$StackOverflow$StackOverflow||{};bB=a.StackOverflow_Router=a.StackOverflow_Router||{};bC=a.StackOverflow_GeneratedPrintf=a.StackOverflow_GeneratedPrintf||{};bD=a.StackOverflow_Templates=a.StackOverflow_Templates||{};bE=a.IntelliFactory;bF=bE&&bE.Runtime;bG=j&&j.Utils;bH=j&&j.Strings;bI=j&&j.Seq;bJ=j&&j.List;bK=j&&j.Arrays;bL=j&&j.Concurrency;bM=j&&j.Enumerator;bN=j&&j.Result;bO=j&&j.Operators;bP=j&&j.Unchecked;bQ=a.console;bR=j&&j.Slice;bS=j&&j.Collections;bT=bS&&bS.FSharpMap;bU=bS&&bS.FSharpSet;bV=bS&&bS.BalancedTree;bW=j&&j.Control;bX=bW&&bW.MailboxProcessor;bY=j&&j.CancellationTokenSource;bZ=bS&&bS.Dictionary;b0=j&&j.UI;b1=b0&&b0.Doc;b2=b0&&b0.View;b3=b0&&b0.Templating;b4=b3&&b3.Runtime;b5=b4&&b4.Server;b6=b5&&b5.ProviderBuilder;b7=b5&&b5.Handler;b8=b5&&b5.TemplateInstance;b9=b0&&b0.Var$1;b_=a.System;b$=b_&&b_.Guid;ca=j&&j.Remoting;cb=ca&&ca.AjaxRemotingProvider;cc=b0&&b0.FromView;cd=b0&&b0.AttrProxy;ce=R&&R.AppFramework;cf=ce&&ce.PlugIn;cg=j&&j.Lazy;ch=R&&R.LayoutEngineModule;ci=b0&&b0.Client;cj=ci&&ci.Templates;ck=j&&j.DateUtil;cl=j&&j.Numeric;cm=a.Date;cn=b0&&b0.Router;co=j&&j.Sitelets;cp=co&&co.RouterOperators;d.add=function(cq,cr,cs){if(cs.ContainsKey(cq))cs.set_Item(cq,cr);else cs.Add(cq,cr);};e=c.ResultMessage=bF.Class({toString:function(){return this.$==1?(function(cq){return function(cr){return cq("Error    : "+bG.toSafe(cr));};}(a.id))(this.$0):this.$==2?(function(cq){return function(cr){return cq("Warning  : "+bG.toSafe(cr));};}(a.id))(this.$0):this.$==3?this.$0:this.$==4?(function(cq){return function(cr){return cq(a.String(cr));};}(a.id))(this.$0):this.$==5?(((bF.Curried3(function(cq,cr,cs){return cq("Exception: "+bG.toSafe(cr)+", "+bG.toSafe(cs));}))(a.id))(this.$0))(this.$1):this.$==6?bH.concat("\n",bI.map(a.String,bI.filter(function(cq){return cq.$!=0;},this.$0))):"";}},null,e);e.NoMsg=new e({$:0});f.infof=function(cq){return cq(function(cr){return new e({$:3,$0:cr});});};f.warningf=function(cq){return cq(function(cr){return new e({$:2,$0:cr});});};f.errorMsgf=function(cq){return cq(function(cr){return new e({$:1,$0:cr});});};e.summarizedI=function(cq){return e.summarizedF(function(){return[0,0,1];},cq);};e.summarizedW=function(cq){return e.summarizedF(function(){return[0,1,0];},cq);};e.summarized=function(cq){return e.summarizedF(function(){return[1,0,0];},cq);};e.summarizedF=function(cq,cr){return bH.concat("\n",bI.filter(function(cs){return""!==cs;},bJ.ofArray([a.String(cr),e.summaryF(cq,cr)])));};e.summaryF=function(cq,cr){var cs,ct;ct=e.countF(cq,cr);switch(ct[0]===0?ct[1]===0?0:ct[1]===1?ct[2]===0?0:(cs=ct[1],2):(cs=ct[1],2):ct[0]===1?ct[1]===0?ct[2]===0?0:(cs=ct[0],1):(cs=[ct[0],ct[1]],3):ct[1]===0?(cs=ct[0],1):(cs=[ct[0],ct[1]],3)){case 0:return"";case 1:return(function(cu){return function(cv){return cu("Errors   : "+a.String(cv)+"\n");};}(a.id))(cs);case 2:return(function(cu){return function(cv){return cu("Warnings : "+a.String(cv)+"\n");};}(a.id))(cs);case 3:return(((bF.Curried3(function(cu,cv,cw){return cu("Errors   : "+a.String(cv)+", Warnings: "+a.String(cw)+"\n");}))(a.id))(cs[0]))(cs[1]);}};e.reduceMsgs=function(cq){return bI.fold(e.addMsg,e.NoMsg,cq);};e.addMsg=function(cq,cr){return cq.$==0?cr:cq.$==6?cr.$==0?cq:cr.$==6?new e({$:6,$0:cq.$0.concat(cr.$0)}):new e({$:6,$0:cq.$0.concat([cr])}):cr.$==0?cq:cr.$==6?new e({$:6,$0:[cq].concat(cr.$0)}):new e({$:6,$0:[cq,cr]});};e.countI=function(cq){return e.countF(function(){return[0,0,1];},cq);};e.countW=function(cq){return e.countF(function(){return[0,1,0];},cq);};e.count=function(cq){return e.countF(function(){return[1,0,0];},cq);};e.countF=function(cq,cr){function cs(ct,cu,cv){return function(cw){return[ct+cw[0],cu+cw[1],cv+cw[2]];};}return cr.$==0?[0,0,0]:cr.$==3?[0,0,1]:cr.$==2?[0,1,0]:cr.$==4?cq(cr.$0):cr.$==6?bI.fold(function(ct,cu){return(function(cv){return cs(cv[0],cv[1],cv[2]);}(ct))(cu);},[0,0,0],bI.map(function(ct){return e.countF(cq,ct);},e.exclnoMsg(cr.$0))):[1,0,0];};e.isFatalW=function(cq){return e.isFatalF(function(){return false;},cq);};e.isFatal=function(cq){return e.isFatalF(function(){return true;},cq);};e.isFatalF=function(cq,cr){return cr.$==0?false:cr.$==3?false:cr.$==2?false:cr.$==4?cq(cr.$0):cr.$==6?bI.exists(function(cs){return e.isFatalF(cq,cs);},cr.$0):true;};e.isWarningOrInfoW=function(cq){return e.isWarningOrInfoF(function(){return true;},cq);};e.isWarningOrInfo=function(cq){return e.isWarningOrInfoF(function(){return false;},cq);};e.isWarningOrInfoF=function(cq,cr){return cr.$==2||(cr.$==4?cq(cr.$0):cr.$==6&&bI.forall(function(cs){return e.isWarningOrInfoF(cq,cs)||e.isInfoF(cq,cs);},e.exclnoMsg(cr.$0)));};e.isInfoI=function(cq){return e.isInfoF(function(){return true;},cq);};e.isInfo=function(cq){return e.isInfoF(function(){return false;},cq);};e.isInfoF=function(cq,cr){return cr.$==3||(cr.$==4?cq(cr.$0):cr.$==6&&bI.forall(function(cs){return e.isInfoF(cq,cs);},e.exclnoMsg(cr.$0)));};e.freeMessageI=function(cq){var cr;function cs(ct){return new e({$:3,$0:ct});}return e.freeMessageF((cr=function(ct){return function(cu){return ct(a.String(cu));};}(a.id),function(ct){return cs(cr(ct));}),cq);};e.freeMessageW=function(cq){var cr;function cs(ct){return new e({$:2,$0:ct});}return e.freeMessageF((cr=function(ct){return function(cu){return ct(a.String(cu));};}(a.id),function(ct){return cs(cr(ct));}),cq);};e.freeMessage=function(cq){var cr;function cs(ct){return new e({$:1,$0:ct});}return e.freeMessageF((cr=function(ct){return function(cu){return ct(a.String(cu));};}(a.id),function(ct){return cs(cr(ct));}),cq);};e.freeMessageF=function(cq,cr){return e.bindMessage(cq,cr);};e.bindMessage=function(cq,cr){return cr.$==4?cq(cr.$0):cr.$==1?new e({$:1,$0:cr.$0}):cr.$==3?new e({$:3,$0:cr.$0}):cr.$==2?new e({$:2,$0:cr.$0}):cr.$==5?new e({$:5,$0:cr.$0,$1:cr.$1}):cr.$==6?new e({$:6,$0:bK.map(function(cs){return e.bindMessage(cq,cs);},cr.$0)}):e.NoMsg;};e.exclnoMsg=function(cq){function cr(cs){return!cs;}return bI.filter(function(cs){return cr(e.noMsg(cs));},cq);};e.noMsg=function(cq){return cq.$==0;};h.ofOption=function(cq){return cq==null?[]:[cq.$0];};h.absorbR=function(cq){return bI.choose(function(cr){return cr.$==0?{$:1,$0:cr.$0}:null;},cq);};h.absorbO=function(cq){return bI.choose(a.id,cq);};h.insertR=function(cq){return cq.$==0?bI.map(function(cr){return{$:0,$0:cr};},cq.$0):(h.rtn())(c.Error$1(cq.$0));};h.insertO=function(cq){var cr;cr=cq==null?null:{$:1,$0:bI.map(function(cs){return{$:1,$0:cs};},cq.$0)};return cr==null?(h.rtn())(null):cr.$0;};h.rtn=function(){bA.$cctor();return bA.rtn;};i.insertR=function(cq){function cr(ct){return{$:0,$0:ct};}function cs(ct){return bL.Return(ct);}return cq.$==0?bL.Bind(cq.$0,function(ct){return cs(cr(ct));}):bL.Return(c.Error$1(cq.$0));};i.insertO=function(cq){var cr;function cs(cu){return{$:1,$0:cu};}function ct(cu){return bL.Return(cu);}cr=cq==null?null:{$:1,$0:bL.Bind(cq.$0,function(cu){return ct(cs(cu));})};return cr==null?bL.Return(null):cr.$0;};i.sequenceSeq=function(cq){return i.traverseSeq(a.id,cq);};i.traverseSeq=function(cq,cr){function cs(ct){return bL.Return(ct);}return bL.Bind(bK.foldBack(function(ct,cu){return i.op_GreaterGreaterEquals(cq(ct),function(cv){return i.op_GreaterGreaterEquals(cu,function(cw){return bL.Return(new bJ.T({$:1,$0:cv,$1:cw}));});});},bK.ofSeq(cr),bL.Return(bJ.T.Empty)),function(ct){return cs(a.id(ct));});};i.op_GreaterGreaterEquals=function(cq,cr){return bL.Bind(cq,cr);};i.sleepThen=function(cq,cr){var cs;cs=null;return bL.Delay(function(){return bL.Bind(bL.Sleep(cr),function(){return bL.Return(cq());});});};i.apply=function(cq,cr){var cs;cs=null;return bL.Delay(function(){return bL.Bind(bL.StartChild(cq,null),function(ct){return bL.Bind(bL.StartChild(cr,null),function(cu){return bL.Bind(ct,function(cv){return bL.Bind(cu,function(cw){return bL.Return(cv(cw));});});});});});};m=l.Builder=bF.Class({For:function(cq,cr){var cs;cs=this;return this.Using(bM.Get(cq),function(ct){return cs.While(function(){return ct.MoveNext();},cs.Delay(function(){return cr(ct.Current());}));});},While:function(cq,cr){function cs(ct,cu){return ct()?bN.Bind(function(){return cs(ct,cu);},cu()):l.rtn();}return cs(cq,cr);},Using:function(cq,cr){try{return cr(cq);}finally{cq.Dispose();}},TryFinally:function(cq,cr){try{return cq();}finally{cr();}},TryWith:function(cq,cr){try{return cq();}catch(cs){return cr(cs);}},Run:function(cq){return l.bindP(cq,{$:0,$0:null});},Combine:function(cq,cr){return bN.Bind(cr,cq);},Delay:a.id,Zero:function(){return l.rtn();},Bind:function(cq,cr){return bN.Bind(cr,cq);},ReturnFrom:a.id,Return:function(cq){return l.rtn(cq);}},k,m);m.New=bF.Ctor(function(){k.New.call(this);},m);n.result=function(){bA.$cctor();return bA.result$1;};n.rtn=function(cq){return l.rtn(cq);};n.op_GreaterEqualsGreater=function(cq,cr,cs){return n.op_GreaterGreaterEquals(cq(cs),cr);};n.op_RightShift=function(cq,cr,cs){return n.op_BarGreaterGreater(cq(cs),cr);};n.op_GreaterGreaterEquals=function(cq,cr){return l.bindP(cr,cq);};n.op_BarGreaterGreater=function(cq,cr){return l.mapP(cr,cq);};l.result=function(){bA.$cctor();return bA.result;};l.sequenceSeq=function(cq){return l.traverseSeq(a.id,cq);};l.traverseSeq=function(cq,cr){return bN.Map(a.id,bK.foldBack(function(cs,ct){return l.op_GreaterGreaterEquals(cq(cs),function(cu){return l.op_GreaterGreaterEquals(ct,function(cv){return l.rtn(new bJ.T({$:1,$0:cu,$1:cv}));});});},bK.ofSeq(cr),l.rtn(bJ.T.Empty)));};l.op_GreaterGreaterEquals=function(cq,cr){return bN.Bind(cr,cq);};l.absorbO=function(cq,cr){return l.bindP(function(cs){return l.ofOption(cq,cs);},cr);};l.insertO=function(cq){var cr;cr=cq==null?null:{$:1,$0:bN.Map(function(cs){return{$:1,$0:cs};},cq.$0)};return cr==null?{$:0,$0:null}:cr.$0;};l.ofOption=function(cq,cr){var cs;cs=cr==null?null:{$:1,$0:{$:0,$0:cr.$0}};return cs==null?function(ct){return c.Error$1(cq(ct));}():cs.$0;};l.get=function(cq){return l.defaultWith(function(cr){return bO.FailWith(a.String(cr));},cq);};l.iter=function(cq,cr,cs){l.defaultWith(cq,l.mapP(cr,cs));};l.mapP=function(cq,cr){return l.bindP(function(cs){return l.rtn(cq(cs));},cr);};l.bindP=function(cq,cr){if(cr.$==1)return c.Error$1(cr.$0);else try{return cq(cr.$0);}catch(cs){return c.Error$1(new e({$:5,$0:cs.message,$1:cs.stack}));}};l.failIfFalse=function(cq,cr){return!cr?c.Error$1(cq):{$:0,$0:null};};l.failIfTrue=function(cq,cr){return cr?c.Error$1(cq):{$:0,$0:null};};l.defaultValue=function(cq,cr){return cr.$==1?cq:cr.$0;};l.defaultWith=function(cq,cr){return cr.$==1?cq(cr.$0):cr.$0;};l.toOption=function(cq){return cq.$==0?{$:1,$0:cq.$0}:null;};l.flatten=function(cq){return bN.Bind(a.id,cq);};l.join=function(cq){return bN.Bind(a.id,cq);};l.rtn=function(cq){return{$:0,$0:cq};};l.freeMessage=function(cq){return cq.$==1?c.Error$1(e.freeMessage(cq.$0)):{$:0,$0:cq.$0};};l.errorf=function(cq){return cq(c.Error$1);};p=o.Eff=bF.Class({get_Cont:function(){return this.$0;}},null,p);q=o.Done=bF.Class({get_Value:function(){return this.v;},FsRoot_Library_Monads_Eff_Effect$UnPack:function(cq){return this;}},k,q);q.New=bF.Ctor(function(cq){k.New.call(this);this.v=cq;},q);r=p.LambdaT=bF.Class({FsRoot_Library_Monads_Eff_Lambda$Invoke:function(cq){var cr;cr=this.loop;return function(cs){return cr(cq(cs));};}},k,r);r.New=bF.Ctor(function(cq){k.New.call(this);this.loop=cq;},r);p.runResult=function(cq){var cr;try{cr=(cq.get_Cont())(p["done'"]);return cr instanceof q?{$:0,$0:cr.get_Value()}:c.Error$1((f.errorMsgf(function(cs){return function(ct){return cs("Unhandled effect "+bG.prettyPrint(ct)+" expecting");};}))(cr));}catch(cs){return c.Error$1(new e({$:5,$0:cs.message,$1:cs.stack}));}};p.run=function(cq){var cr;cr=(cq.get_Cont())(p["done'"]);return cr instanceof q?cr.get_Value():(function(cs){return function(ct){return cs("Unhandled effect "+bG.prettyPrint(ct));};}(bO.FailWith))(cr);};p["return'"]=function(cq){return new p({$:0,$0:function(){return p["done'"](cq);}});};p["done'"]=function(cq){return new q.New(cq);};p.unpack=function(cq,cr){return cr.FsRoot_Library_Monads_Eff_Effect$UnPack(new r.New(cq));};s.rtn=function(cq){return o.rtn(cq);};s.op_GreaterEqualsGreater=function(cq,cr,cs){return s.op_GreaterGreaterEquals(cq(cs),cr);};s.op_RightShift=function(cq,cr,cs){return s.op_BarGreaterGreater(cq(cs),cr);};s.op_GreaterGreaterEquals=function(cq,cr){return o.bind(cr,cq);};s.op_BarGreaterGreater=function(cq,cr){return o.map(cr,cq);};s.op_LessMultiplyGreater=function(cq,cr){return o.apply(cq,cr);};t=o.EffBuilder=bF.Class({For:function(cq,cr){var cs;cs=this;return this.Using(bM.Get(cq),function(ct){return cs.While(function(){return ct.MoveNext();},function(){return cs.Delay(function(){return cr(ct.Current());});});});},Using:function(cq,cr){return this.TryFinally(function(){return cr(cq);},function(){if(!bP.Equals(cq,null))cq.Dispose();});},TryFinally:function(cq,cr){return new p({$:0,$0:function(cs){try{return cq().$0(cs);}finally{cr();}}});},TryWith:function(cq,cr){return new p({$:0,$0:function(cs){try{return cq().$0(cs);}catch(ct){return cr(ct).$0(cs);}}});},While:function(cq,cr){function cs(ct,cu){return ct()?o.bind(function(){return cs(ct,cu);},cu()):s.rtn();}return cs(cq,cr);},Delay:function(cq){return new p({$:0,$0:function(cr){return cq().$0(cr);}});},Combine:function(cq,cr){return this.Bind(cq,function(){return cr;});},Bind:function(cq,cr){return o.bind(cr,cq);},ReturnFrom:a.id,Return:function(cq){return s.rtn(cq);},Zero:function(){return s.rtn();}},k,t);t.New=bF.Ctor(function(){k.New.call(this);},t);v=u.Put=bF.Class({get_K:function(){return this.k;},get_Value:function(){return this.v;},FsRoot_Library_Monads_Eff_Effect$UnPack:function(cq){return new v.New(this.v,cq.FsRoot_Library_Monads_Eff_Lambda$Invoke(this.k));}},k,v);v.New=bF.Ctor(function(cq,cr){k.New.call(this);this.v=cq;this.k=cr;},v);w=u.Get=bF.Class({get_K:function(){return this.k;},FsRoot_Library_Monads_Eff_Effect$UnPack:function(cq){return new w.New(cq.FsRoot_Library_Monads_Eff_Lambda$Invoke(this.k));}},k,w);w.New=bF.Ctor(function(cq){k.New.call(this);this.k=cq;},w);u.refHandler=function(cq,cr){var cs;function ct(cu){return cu instanceof v?(cs[0]=cu.get_Value(),ct((cu.get_K())())):cu instanceof w?ct((cu.get_K())(cs[0])):p.unpack(ct,cu);}cs=[cq];return new p({$:0,$0:function(){return ct((cr.get_Cont())(p["done'"]));}});};u.stateHandler=function(cq,cr){function cs(ct,cu,cv){var cw;return cv instanceof q?ct([cu,cv.get_Value()]):cv instanceof v?(cw=(cv.get_K())(),cs(ct,cv.get_Value(),cw)):cv instanceof w?cs(ct,cu,(cv.get_K())(cu)):p.unpack(function(cx){return cs(ct,cu,cx);},cv);}return new p({$:0,$0:function(ct){return cs(ct,cq,(cr.get_Cont())(p["done'"]));}});};u.put=function(cq){return new p({$:0,$0:function(cr){return new v.New(cq,cr);}});};u.get=function(){return new p({$:0,$0:function(cq){return new w.New(cq);}});};y=x.LogEntry=bF.Class({get_K:function(){return this.k;},get_Value:function(){return this.v;},FsRoot_Library_Monads_Eff_Effect$UnPack:function(cq){return new y.New(this.v,cq.FsRoot_Library_Monads_Eff_Lambda$Invoke(this.k));}},k,y);y.New=bF.Ctor(function(cq,cr){k.New.call(this);this.v=cq;this.k=cr;},y);x.ignoreLogHandler=function(cq){function cr(cs){return cs instanceof y?cr((cs.get_K())()):p.unpack(cr,cs);}return new p({$:0,$0:function(){return cr((cq.get_Cont())(p["done'"]));}});};x.consoleLogHandler=function(cq){function cr(cs){return cs instanceof y?((function(ct){return function(cu){return ct("Log: "+bG.prettyPrint(cu));};}(function(ct){bQ.log(ct);}))(cs.get_Value()),cr((cs.get_K())())):p.unpack(cr,cs);}return new p({$:0,$0:function(){return cr((cq.get_Cont())(p["done'"]));}});};x.pureLogHandler=function(cq){function cr(cs,ct,cu){var cv;return cu instanceof q?ct([cu.get_Value(),cs]):cu instanceof y?(cv=(cu.get_K())(),cr(new bJ.T({$:1,$0:cu.get_Value(),$1:cs}),ct,cv)):p.unpack(function(cw){return cr(cs,ct,cw);},cu);}return new p({$:0,$0:function(cs){return cr(bJ.T.Empty,cs,(cq.get_Cont())(p["done'"]));}});};x.logf=function(cq){return cq(x.log);};x.log=function(cq){return new p({$:0,$0:function(cr){return new y.New(cq,cr);}});};A=z.Fail=bF.Class({get_K:function(){return this.k;},get_Value:function(){return this.v;},FsRoot_Library_Monads_Eff_Effect$UnPack:function(cq){return new A.New(this.v,cq.FsRoot_Library_Monads_Eff_Lambda$Invoke(this.k));}},k,A);A.New=bF.Ctor(function(cq,cr){k.New.call(this);this.v=cq;this.k=cr;},A);z.absorbO=function(cq,cr){return z.absorbR(o.map(function(cs){return l.ofOption(cq,cs);},cr));};z.absorbR=function(cq){return o.bind(z.ofResult,cq);};z.RslHandler=function(cq){function cr(cs,ct){return ct instanceof q?cs({$:0,$0:ct.get_Value()}):ct instanceof A?cs(c.Error$1(ct.get_Value())):p.unpack(function(cu){return cr(cs,cu);},ct);}return new p({$:0,$0:function(cs){return cr(cs,(cq.get_Cont())(p["done'"]));}});};z.ofResult=function(cq){var cr;cr=o.eff();return cr.Delay(function(){return cq.$==1?cr.Bind(z.fail(cq.$0),function(){return cr.Return(null);}):cr.Return(cq.$0);});};z.fail=function(cq){return new p({$:0,$0:function(cr){return new A.New(cq,cr);}});};o.eff=function(){bA.$cctor();return bA.eff;};o.insertSnd=function(cq,cr){return o.map(function(cs){return[cs,cr];},cq);};o.insertFst=function(cq,cr){return o.map(function(cs){return[cq,cs];},cr);};o.insertR=function(cq){return cq.$==0?o.map(function(cr){return{$:0,$0:cr};},cq.$0):s.rtn(c.Error$1(cq.$0));};o.insertO=function(cq){var cr;cr=cq==null?null:{$:1,$0:o.map(function(cs){return{$:1,$0:cs};},cq.$0)};return cr==null?s.rtn(null):cr.$0;};o.sequenceSeq=function(cq){return o.traverseSeq(a.id,cq);};o.traverseSeq=function(cq,cr){return o.map(a.id,bK.foldBack(function(cs,ct){return s.op_GreaterGreaterEquals(cq(cs),function(cu){return s.op_GreaterGreaterEquals(ct,function(cv){return s.rtn(new bJ.T({$:1,$0:cu,$1:cv}));});});},bK.ofSeq(cr),s.rtn(bJ.T.Empty)));};o.apply=function(cq,cr){return o.bind(function(cs){return o.map(cs,cr);},cq);};o.map=function(cq,cr){return o.bind(function(cs){return o.rtn(cq(cs));},cr);};o.bind=function(cq,cr){return new p({$:0,$0:function(cs){return cr.$0(function(ct){return cq(ct).$0(cs);});}});};o.rtn=function(cq){return new p({$:0,$0:function(cr){return cr(cq);}});};C=B.Builder=bF.Class({For:function(cq,cr){var cs;cs=this;return this.Using(bM.Get(cq),function(ct){return cs.While(function(){return ct.MoveNext();},cs.Delay(function(){return cr(ct.Current());}));});},While:function(cq,cr){function cs(ct,cu){return ct()?B.bind(function(){return cs(ct,cu);},cu()):B.rtn();}return cs(cq,cr);},Using:function(cq,cr){try{return cr(cq);}finally{cq.Dispose();}},TryFinally:function(cq,cr){try{return cq();}finally{cr();}},TryWith:function(cq,cr){try{return cq();}catch(cs){return cr(cs);}},Run:function(cq){return B.bindP(cq,g.OkM$1());},Combine:function(cq,cr){return B.bind(cr,cq);},Delay:a.id,Zero:function(){return B.rtn();},Bind:function(cq,cr){return B.bindM(cr,cq);},Bind$1:function(cq,cr){return B.bindP(cr,cq);},ReturnFrom:function(cq){return B.rtnM(cq);},ReturnFrom$1:a.id,ReturnFrom$2:a.id,Return:function(cq){return B.rtn(cq);}},k,C);C.New=bF.Ctor(function(){k.New.call(this);},C);D.rtn=function(cq){return B.rtn(cq);};D.op_GreaterEqualsGreater=function(cq,cr,cs){return D.op_GreaterGreaterEquals(cq(cs),cr);};D.op_RightShift=function(cq,cr,cs){return D.op_BarGreaterGreater(cq(cs),cr);};D.op_GreaterGreaterEquals=function(cq,cr){return B.bindP(cr,cq);};D.op_BarGreaterGreater=function(cq,cr){return B.mapP(cr,cq);};B.sequenceSeq=function(cq){return B.traverseSeq(a.id,cq);};B.traverseSeq=function(cq,cr){return B.map(a.id,bK.foldBack(function(cs,ct){return B.op_GreaterGreaterEquals(cq(cs),function(cu){return B.op_GreaterGreaterEquals(ct,function(cv){return B.rtn(new bJ.T({$:1,$0:cu,$1:cv}));});});},bK.ofSeq(cr),B.rtn(bJ.T.Empty)));};B.op_GreaterGreaterEquals=function(cq,cr){return B.bind(cr,cq);};B.failIfFatalMsgW=function(cq){var cr;cr=g.OkM(cq);return cr.$==0?e.isFatalW(cr.$0[1])?g.ErrorM(cr.$0[1]):cq:cq;};B.failIfFatalMsg=function(cq){var cr;cr=g.OkM(cq);return cr.$==0?e.isFatal(cr.$0[1])?g.ErrorM(cr.$0[1]):cq:cq;};B.failIfFatalMsgF=function(cq,cr){var cs;cs=g.OkM(cr);return cs.$==0?e.isFatalF(cq,cs.$0[1])?g.ErrorM(cs.$0[1]):cr:cr;};B.addMsg=function(cq,cr){return B.mapMessage(function(cs){return e.addMsg(cq,cs);},cr);};B.absorbO=function(cq,cr){return B.bindP(function(cs){return B.ofOption(cq,cs);},cr);};B.insertO=function(cq){var cr;cr=cq==null?null:{$:1,$0:B.map(function(cs){return{$:1,$0:cs};},cq.$0)};return cr==null?g.OkM$1(null):cr.$0;};B.ofResult=function(cq){return B.rtnr(cq);};B.ofOption=function(cq,cr){var cs;cs=cr==null?null:{$:1,$0:g.OkM$1(cr.$0)};return cs==null?function(ct){return g.ErrorM(cq(ct));}():cs.$0;};B.get=function(cq){return B.defaultWith(function(cr){return bO.FailWith(a.String(cr));},cq);};B.iter=function(cq,cr,cs){var ct;ct=B.mapP(cr,cs);ct.$0==null?cq(ct.$1):void 0;};B.mapP=function(cq,cr){return B.bindP(function(cs){return B.rtn(cq(cs));},cr);};B.check=function(cq,cr){var cs;return(cs=cr.$0,cs!=null&&cs.$==1)?e.isFatalF(cq.$0,cr.$1)?g.ErrorM(cr.$1):cr:cr;};B.bindM=function(cq,cr){return B.bindP(cq,B.rtnM(cr));};B.bindP=function(cq,cr){var cs;if(cr.$0==null)return{$:0,$0:null,$1:cr.$1};else{cs=cr.$1;try{return B.mapMessage(function(ct){return e.addMsg(cs,ct);},cq(cr.$0.$0));}catch(ct){return g.ErrorM(new e({$:5,$0:ct.message,$1:ct.stack}));}}};B.bind=function(cq,cr){var cs;return cr.$0==null?{$:0,$0:null,$1:cr.$1}:(cs=cr.$1,B.mapMessage(function(ct){return e.addMsg(cs,ct);},cq(cr.$0.$0)));};B.mapMessage=function(cq,cr){return{$:0,$0:cr.$0,$1:cq(cr.$1)};};B.map=function(cq,cr){var cs;return{$:0,$0:(cs=cr.$0,cs==null?null:{$:1,$0:cq(cs.$0)}),$1:cr.$1};};B.defaultValue=function(cq,cr){return l.defaultValue(cq,B.toResult(cr));};B.defaultWith=function(cq,cr){return l.defaultWith(cq,B.toResult(cr));};B.toOption=function(cq){return cq.$0;};B.toResultD=function(cq){return cq.$0==null?c.Error$1(cq.$1):{$:0,$0:[cq.$0.$0,cq.$1]};};B.toResult=function(cq){return cq.$0==null?c.Error$1(cq.$1):{$:0,$0:cq.$0.$0};};B.freeMessage=function(cq){return cq.$==1?c.Error$1(e.freeMessage(cq.$0)):{$:0,$0:cq.$0};};B.rtnr=function(cq){return l.defaultWith(g.ErrorM,bN.Map(g.OkM$1,cq));};B.rtnM=function(cq){return g.OkMWithMsg(null,cq);};B.rtn=function(cq){return g.OkM$1(cq);};B.checkErrorW=function(){return{$:0,$0:function(){return false;}};};B.checkError=function(){return{$:0,$0:function(){return true;}};};E.resultM=function(){bA.$cctor();return bA.resultM;};G=F.AsyncResultMBuilder=bF.Class({For:function(cq,cr){var cs;cs=this;return this.Using(bM.Get(cq),function(ct){return cs.While(function(){return ct.MoveNext();},cs.Delay(function(){return cr(ct.Current());}));});},While:function(cq,cr){return F.whileLoop(cq,cr);},Using:function(cq,cr){return bL.Using(cq,cr);},TryFinally:function(cq,cr){var cs;cs=null;return bL.Delay(function(){return bL.TryFinally(bL.Delay(function(){return cq();}),function(){cr();});});},TryWith:function(cq,cr){var cs;cs=null;return bL.Delay(function(){return bL.TryWith(bL.Delay(function(){return cq();}),function(ct){return cr(ct);});});},Run:function(cq){return F.bind(cq,F.rtn());},Delay:a.id,Combine:function(cq,cr){return F.bind(cr,F.rtnR(cq));},Combine$1:function(cq,cr){return F.bind(cr,cq);},Bind:function(cq,cr){return F.bindrA(cr,cq);},Bind$1:function(cq,cr){return F.bindR(cr,cq);},Bind$2:function(cq,cr){return F.bindM(cr,cq);},Bind$3:function(cq,cr){return F.bindr(cr,cq);},Bind$4:function(cq,cr){return F.bind(cr,cq);},Zero:function(){return F.rtn();},Return:function(cq){return F.rtn(cq);},ReturnFrom:function(cq){return F.rtnrA(cq);},ReturnFrom$1:function(cq){return F.rtnR(cq);},ReturnFrom$2:function(cq){return F.rtnM(cq);},ReturnFrom$3:function(cq){return F.rtnr(cq);},ReturnFrom$4:a.id},k,G);G.New=bF.Ctor(function(){k.New.call(this);},G);F.absorbO=function(cq,cr){function cs(cu){return l.absorbO(cq,cu);}function ct(cu){return bL.Return(cu);}return bL.Bind(cr,function(cu){return ct(cs(cu));});};F.absorbR=function(cq){var cr;function cs(ct){return bL.Return(ct);}return bL.Bind(cq,(cr=function(ct){return l.bindP(a.id,ct);},function(ct){return cs(cr(ct));}));};F.insertR=function(cq){return cq.$==0?F.map(function(cr){return{$:0,$0:cr};},cq.$0):F.rtn(c.Error$1(cq.$0));};F.insertO=function(cq){var cr;cr=cq==null?null:{$:1,$0:F.map(function(cs){return{$:1,$0:cs};},cq.$0)};return cr==null?F.rtn(null):cr.$0;};F.sequenceSeq=function(cq){return F.traverseSeq(a.id,cq);};F.traverseSeq=function(cq,cr){return F.map(a.id,bK.foldBack(function(cs,ct){return F.op_GreaterGreaterEquals(cq(cs),function(cu){return F.op_GreaterGreaterEquals(ct,function(cv){return F.rtn(new bJ.T({$:1,$0:cu,$1:cv}));});});},bK.ofSeq(cr),F.rtn(bJ.T.Empty)));};F.op_GreaterGreaterEquals=function(cq,cr){return F.bind(cr,cq);};F.whileLoop=function(cq,cr){return cq()?F.bind(function(){return F.whileLoop(cq,cr);},cr()):F.rtn();};F.map=function(cq,cr){return F.bind(function(cs){return F.rtn(cq(cs));},cr);};F.bindR=function(cq,cr){return F.bind(cq,F.rtnR(cr));};F.bindrA=function(cq,cr){return F.bind(cq,F.rtnrA(cr));};F.bindM=function(cq,cr){return F.bind(cq,F.rtnM(cr));};F.bindr=function(cq,cr){return F.bind(cq,F.rtnr(cr));};F.bind=function(cq,cr){var cs;cs=null;return bL.Delay(function(){return bL.TryWith(bL.Delay(function(){return bL.Bind(cr,function(ct){var cu,cv;function cw(cy){return B.addMsg(cv,cy);}function cx(cy){return bL.Return(cy);}cu=g.OkM(ct);return cu.$==1?bL.Return(g.ErrorM(cu.$0)):(cv=cu.$0[1],bL.Bind(cq(cu.$0[0]),function(cy){return cx(cw(cy));}));});}),function(ct){return bL.Return(g.ErrorM(new e({$:5,$0:ct.message,$1:ct.stack})));});});};F.iterpA=function(cq,cr){function cs(ct){c.print$1(ct);}F.iterA(function(ct){return cs(e.summarized(ct));},cq,cr);};F.iterpS=function(cq,cr){function cs(ct){c.print$1(ct);}F.iterS(function(ct){return cs(e.summarized(ct));},cq,cr);};F.iterA=function(cq,cr,cs){function ct(cv){B.iter(cq,cr,cv);}function cu(cv){return bL.Return(cv);}bL.Start(bL.Bind(cs,function(cv){return cu(ct(cv));}),null);};F.iterS=function(cq,cr,cs){throw"iterS cannot be used in JavaScript!";};F.rtnrA=function(cq){function cr(cs){return bL.Return(cs);}return bL.Bind(cq,function(cs){return cr(B.ofResult(cs));});};F.rtnM=function(cq){return bL.Return(B.rtnM(cq));};F.rtnR=function(cq){return bL.Return(cq);};F.rtnr=function(cq){return bL.Return(B.rtnr(cq));};F.rtn=function(cq){return bL.Return(g.OkM$1(cq));};F.freeMessage=function(cq){function cr(cs){return bL.Return(cs);}return bL.Bind(cq,function(cs){return cr(B.freeMessage(cs));});};F.mapError=function(cq,cr){function cs(cu){return B.mapMessage(cq,cu);}function ct(cu){return bL.Return(cu);}return bL.Bind(cr,function(cu){return ct(cs(cu));});};H["AsyncResultMBuilder.Combine"]=function(cq,cr,cs){function ct(cu){return bL.Return(cu);}return F.bind(cs,bL.Bind(cr,function(cu){return ct(g.OkM$1(cu));}));};H["AsyncResultMBuilder.Bind"]=function(cq,cr,cs){function ct(cu){return bL.Return(cu);}return F.bind(cs,bL.Bind(cr,function(cu){return ct(g.OkM$1(cu));}));};H["AsyncResultMBuilder.ReturnFrom"]=function(cq,cr){function cs(ct){return bL.Return(ct);}return bL.Bind(cr,function(ct){return cs(g.OkM$1(ct));});};H.asyncResultM=function(){bA.$cctor();return bA.asyncResultM;};g.OkM=function(cq){return cq.$0==null?{$:1,$0:cq.$1}:{$:0,$0:[cq.$0.$0,cq.$1]};};g.ErrorM=function(cq){return{$:0,$0:null,$1:cq};};g.OkMWithMsg=function(cq,cr){return{$:0,$0:{$:1,$0:cq},$1:cr};};g.OkM$1=function(cq){return{$:0,$0:{$:1,$0:cq},$1:e.NoMsg};};I.EndsWith$1=function(cq,cr){return bH.EndsWith(cr,cq)?{$:1,$0:bR.string(cr,{$:1,$0:0},{$:1,$0:cr.length-cq.length-1})}:null;};I.StartsWith$1=function(cq,cr){return bH.StartsWith(cr,cq)?{$:1,$0:bR.string(cr,{$:1,$0:cq.length},null)}:null;};I.skipLastLine$1=function(){bA.$cctor();return bA.skipLastLine;};I.indentStr$1=function(cq){function cr(ct){return I.indent$1(cq,ct);}function cs(ct){return bH.concat("\n",ct);}return function(ct){return cs(cr(ct));};};I.unindentStr$1=function(){bA.$cctor();return bA.unindentStr;};I.indent$1=function(cq,cr){var cs,ct;cs=bH.SplitChars(cr,["\n"],0);return bI.map((ct=bH.replicate(cq," "),function(cu){return ct+cu;}),cs);};I.unindent$1=function(cq){var cr,cs,ct,cu;cr=bH.SplitChars(cq,["\n"],0);cs=(ct=bI.tryFindIndex(function(cv){return" "!==cv;},(cu=bI.tryFind(function(cv){return bH.Trim(cv)!=="";},cr),cu==null?"":cu.$0)),ct==null?0:ct.$0);return bI.filter(function(cv){return!bH.StartsWith(cv,"# 1 ");},bI.map(function(cv){return cv.length<=cs?"":cv.substring(cs);},cr));};I.skipFirstLine$1=function(cq){var cr;cr=cq.indexOf("\n");return cr<0?"":bR.string(cq,{$:1,$0:cr+1},null);};I.append$1=function(cq,cr){return cq+cr;};I.trim$1=function(cq){return bH.Trim(cq);};I.contains$1=function(cq,cr){return cr.indexOf(cq)!=-1;};I.delimitedO$1=function(cq,cr,cs){var ct,cu,cv,cw,cx;ct=I.splitInTwoO$1(cq,cs);return ct==null?null:(cu=ct.$0,(cv=cu[0],(cw=I.splitInTwoO$1(cr,cu[1]),cw==null?null:{$:1,$0:(cx=cw.$0,[cv,cx[0],cx[1]])})));};I.splitInTwoO$1=function(cq,cr){var cs;cs=cr.indexOf(cq);return cs===-1?null:{$:1,$0:[c["String.Left$1"](cr,cs),cr.substring(cs+cq.length)]};};I.splitByChar$1=function(cq,cr){return bH.SplitChars(cr,[cq],0);};J.remove=function(cq,cr){return bK.ofSeq(bI.delay(function(){return bI.append(cq>0?bR.array(cr,null,{$:1,$0:cq-1}):[],bI.delay(function(){return cq<bK.length(cr)?bR.array(cr,{$:1,$0:cq+1},null):[];}));}));};J.replace=function(cq,cr,cs){return bK.ofSeq(bI.delay(function(){return bI.append(cq>0?bR.array(cs,null,{$:1,$0:cq-1}):[],bI.delay(function(){return bI.append([cr],bI.delay(function(){return cq<bK.length(cs)?bR.array(cs,{$:1,$0:cq+1},null):[];}));}));}));};K.op_AmpGreater=function(cq,cr,cs,ct){var cu;cu=cq(cs,ct);return cu===0?cr(cs,ct):cu;};K.desc=function(cq,cr,cs){return bP.Compare(cq(cs),cq(cr));};K.asc=function(cq,cr,cs){return bP.Compare(cq(cr),cq(cs));};L.Guid$1=function(){bA.$cctor();return bA["|Guid|_|"];};L.Double$1=function(){bA.$cctor();return bA["|Double|_|"];};L.Single$1=function(){bA.$cctor();return bA["|Single|_|"];};L.Int$1=function(){bA.$cctor();return bA["|Int|_|"];};L.Date$1=function(){bA.$cctor();return bA["|Date|_|"];};L.parseGuidO$1=function(){bA.$cctor();return bA.parseGuidO;};L.parseDoubleO$1=function(){bA.$cctor();return bA.parseDoubleO;};L.parseSingleO$1=function(){bA.$cctor();return bA.parseSingleO;};L.parseIntO$1=function(){bA.$cctor();return bA.parseIntO;};L.parseDateO$1=function(){bA.$cctor();return bA.parseDateO;};L.parseDateO2=function(){bA.$cctor();return bA.parseDateO2;};L.tryParseWith$1=function(cq){function cr(cs,ct){return cs?{$:1,$0:ct}:null;}return function(cs){return cr.apply(null,cq(cs));};};N.New=function(cq,cr,cs,ct,cu,cv,cw,cx){return{tryFloat:cq,tryInt:cr,tryString:cs,tryBool:ct,tryArray:cu,tryField:cv,isObject:cw,isNull:cx};};M.serMap=function(cq,cr,cs,ct){var cu,cv,cw,cx,cy,cz;function cA(cC){return[cC.K,cC.V];}function cB(cC){return new bT.New(cC);}cu=(cv=M.serDup([cq,cr],[cs,ct]),M.serSeq(cv[0],cv[1]));return[(cw=function(cC){return bI.map(cA,cC);},(cx=cu[0],function(cC){return cx(cw(cC));})),(cy=cu[1],(cz=function(cC){return cC==null?null:{$:1,$0:cB(cC.$0)};},function(cC){return cz(cy(cC));}))];};M.serTrp=function(cq,cr,cs){return[function(ct){return((((bF.Curried(function(cu,cv,cw,cx){return cu("["+bG.toSafe(cv)+", "+bG.toSafe(cw)+", "+bG.toSafe(cx)+"]");},4))(a.id))(cq[0](ct[0])))(cr[0](ct[1])))(cs[0](ct[2]));},function(ct){var cu,cv,cw,cx,cy,cz,cA;cu=ct.tryArray();return cu!=null&&cu.$==1&&((cw=cu.$0,!bP.Equals(cw,null)&&cw.length===3)&&(cv=[bK.get(cu.$0,0),bK.get(cu.$0,1),bK.get(cu.$0,2)],true))?(cx=cq[1](cv[0]),(cy=cr[1](cv[1]),(cz=cs[1](cv[2]),cx!=null&&cx.$==1&&(cy!=null&&cy.$==1&&(cz!=null&&cz.$==1&&(cA=[cx.$0,cy.$0,cz.$0],true)))?{$:1,$0:[cA[0],cA[1],cA[2]]}:null))):null;}];};M.serDup=function(cq,cr){return[function(cs){return(((bF.Curried3(function(ct,cu,cv){return ct("["+bG.toSafe(cu)+", "+bG.toSafe(cv)+"]");}))(a.id))(cq[0](cs[0])))(cr[0](cs[1]));},function(cs){var ct,cu,cv,cw,cx,cy;ct=cs.tryArray();return ct!=null&&ct.$==1&&((cv=ct.$0,!bP.Equals(cv,null)&&cv.length===2)&&(cu=[bK.get(ct.$0,0),bK.get(ct.$0,1)],true))?(cw=cq[1](cu[0]),(cx=cr[1](cu[1]),cw!=null&&cw.$==1&&(cx!=null&&cx.$==1&&(cy=[cw.$0,cx.$0],true))?{$:1,$0:[cy[0],cy[1]]}:null)):null;}];};M.serOpt=function(cq,cr){var cs,ct,cu;function cv(cw){return cw==null?"null":cw.$0;}cs=[cq,cr];return[(ct=(cu=cs[0],function(cw){return cw==null?null:{$:1,$0:cu(cw.$0)};}),function(cw){return cv(ct(cw));}),function(cw){return{$:1,$0:cw.isNull()?null:cs[1](cw)};}];};M.serSet=function(cq,cr){var cs,ct,cu;cs=[cq,cr];return[(ct=(cu=cs[0],function(cv){return new bU.New$1(bV.OfSeq(bI.map(cu,cv)));}),function(cv){return M.sprintA(ct(cv));}),function(cv){var cw,cx,cy,cz;cw=(cx=cv.tryArray(),(cy=(cz=cs[1],function(cA){return bK.choose(cz,cA);}),cx==null?null:{$:1,$0:cy(cx.$0)}));return cw==null?null:{$:1,$0:new bU.New(cw.$0)};}];};M.serLst=function(cq,cr){var cs,ct,cu;cs=[cq,cr];return[(ct=(cu=cs[0],function(cv){return bJ.map(cu,cv);}),function(cv){return M.sprintA(ct(cv));}),function(cv){var cw,cx,cy,cz;cw=(cx=cv.tryArray(),(cy=(cz=cs[1],function(cA){return bK.choose(cz,cA);}),cx==null?null:{$:1,$0:cy(cx.$0)}));return cw==null?null:{$:1,$0:bJ.ofSeq(cw.$0)};}];};M.serArr=function(cq,cr){var cs,ct,cu;cs=[cq,cr];return[(ct=(cu=cs[0],function(cv){return bK.map(cu,cv);}),function(cv){return M.sprintA(ct(cv));}),function(cv){var cw,cx,cy;cw=cv.tryArray();cx=(cy=cs[1],function(cz){return bK.choose(cy,cz);});return cw==null?null:{$:1,$0:cx(cw.$0)};}];};M.serSeq=function(cq,cr){var cs,ct,cu;cs=[cq,cr];return[(ct=(cu=cs[0],function(cv){return bI.map(cu,cv);}),function(cv){return M.sprintA(ct(cv));}),function(cv){var cw,cx,cy,cz;cw=(cx=cv.tryArray(),(cy=(cz=cs[1],function(cA){return bK.choose(cz,cA);}),cx==null?null:{$:1,$0:cy(cx.$0)}));return cw==null?null:{$:1,$0:cw.$0};}];};M.serField=function(cq,cr,cs,ct,cu){return[cq,function(cv){return ct(cr(cv));},function(cv){return function(cw){var cx;cx=cu(cw);return cx==null?null:{$:1,$0:cs(cx.$0,cv)};};}];};M.serBool=function(){bA.$cctor();return bA.serBool;};M.serInt=function(){bA.$cctor();return bA.serInt;};M.serFloat=function(){bA.$cctor();return bA.serFloat;};M.serString=function(){bA.$cctor();return bA.serString;};M.toJsonString=function(cq){return bK.ofSeq(bI.delay(function(){return bI.append(["\""],bI.delay(function(){return bI.append(!bH.IsNullOrEmpty(cq)?bI.collect(function(cr){var cs,ct;cs=cq[cr];ct=cs.charCodeAt();return ct>=0&&ct<=7||ct===11||ct>=14&&ct<=31?(function(cu){return function(cv){return cu("\\u"+bG.padNumLeft(cv.toString(16),4));};}(a.id))(ct):cs==="\u0008"?"\\b":cs==="\u0009"?"\\t":cs==="\n"?"\\n":cs==="\u000c"?"\\f":cs==="\r"?"\\r":cs==="\""?"\\\"":cs==="\\"?"\\\\":[cs];},bO.range(0,cq.length-1)):[],bI.delay(function(){return["\""];}));}));})).join("");};M.sprintA=function(cq){var cr;cr=bH.concat(", ",cq);return(function(cs){return function(ct){return cs("["+bG.toSafe(ct)+"]");};}(a.id))(cr);};M.Field=function(cq,cr){return cr.tryField(cq);};M.serialize=function(cq,cr,cs){return[cq,cr][0](cs);};O.PostAndAsyncReply=function(cq,cr,cs){return cq.PostAndAsyncReply(function(ct){return[ct,cr];},cs);};Q.applyReply=function(cq,cr){return Q.applyReplyA(function(cs){var ct;ct=null;return bL.Delay(function(){return bL.Return(cq(cs));});},cr);};Q.applyReplyA=function(cq,cr){return cr.PostAndAsyncReply(function(cs){return function(ct){var cu;cu=null;return bL.Delay(function(){return bL.Bind(cq(ct),function(cv){cs(cv[1]);return bL.Return(cv[0]);});});};},null);};Q.apply=function(cq,cr){Q.applyA(function(cs){var ct;ct=null;return bL.Delay(function(){return bL.Return(cq(cs));});},cr);};Q.applyA=function(cq,cr){cr.mailbox.AddLast(function(cs){var ct;ct=null;return bL.Delay(function(){return cq(cs);});});cr.resume();};Q.setState=function(cq,cr){cr.mailbox.AddLast(function(){var cs;cs=null;return bL.Delay(function(){return bL.Return(cq);});});cr.resume();};Q.getStateA=function(cq){return cq.PostAndAsyncReply(function(cr){return function(cs){var ct;ct=null;return bL.Delay(function(){cr(cs);return bL.Return(cs);});};},null);};P.defHandler=function(cq,cr){c.print$1(cq);return cr;};P.stateFull=function(cq,cr){return bX.Start(function(cs){function ct(cu){var cv;cv=null;return bL.Delay(function(){return bL.TryWith(bL.Delay(function(){return bL.Bind(cs.Receive(null),function(cw){return bL.Bind(cw(cu),function(cx){return ct(cx);});});}),function(cw){return ct(cq(cw,cu));});});}return ct(cr);},null);};P.fold=function(cq,cr,cs){return P.foldA(cq,function(ct,cu){var cv;cv=null;return bL.Delay(function(){return bL.Return(cr(ct,cu));});},cs);};P.foldA=function(cq,cr,cs){return bX.Start(function(ct){function cu(cv){var cw;cw=null;return bL.Delay(function(){return bL.TryWith(bL.Delay(function(){return bL.Bind(ct.Receive(null),function(cx){return bL.Bind(cr(cv,cx),function(cy){return cu(cy);});});}),function(cx){return cu(cq(cx,cv));});});}return cu(cs);},null);};P.call=function(cq,cr){return P.callA(cq,function(cs){var ct;ct=null;return bL.Delay(function(){return bL.Return(cr(cs));});});};P.callA=function(cq,cr){return P.iterA(cq,function(cs){var ct,cu,cv;ct=cs[0];cu=cs[1];cv=null;return bL.Delay(function(){return bL.Bind(cr(cu),function(cw){ct(cw);return bL.Zero();});});});};P.iter=function(cq,cr){return P.iterA(cq,function(cs){var ct;ct=null;return bL.Delay(function(){cr(cs);return bL.Zero();});});};P.iterA=function(cq,cr){return bX.Start(function(cs){var ct;ct=null;return bL.Delay(function(){return bL.While(function(){return true;},bL.Delay(function(){return bL.TryWith(bL.Delay(function(){return bL.Bind(cs.Receive(null),function(cu){return bL.Bind(cr(cu),function(){return bL.Return(null);});});}),function(cu){cq(cu);return bL.Zero();});}));});},null);};c["String.Right$1"]=function(cq,cr){var cs,ct;return c["String.Substring2$1"](cq,(cs=0,(ct=cq.length-cr,bP.Compare(cs,ct)===1?cs:ct)),cq.length);};c["String.Left$1"]=function(cq,cr){return cr<0?c["String.Substring2$1"](cq,0,cq.length+cr):c["String.Substring2$1"](cq,0,cr);};c["String.Substring2$1"]=function(cq,cr,cs){var ct,cu;while(true){if(cs<=0)return"";else if(cr<0){ct=cr;cr=0;cs=cs+ct;}else return cr>=cq.length?"":bH.Substring(cq,cr,(cu=cq.length-cr,bP.Compare(cs,cu)===-1?cs:cu));}};c.delayed$1=function(cq,cr){var cs;cs=[null];return function(ct){var cu,cv;cu=cs[0];cu==null?void 0:cu.$0.Cancel$1();cs[0]={$:1,$0:new bY.New()};bL.Start((cv=null,bL.Delay(function(){return bL.Bind(bL.Sleep(cq),function(){cr(ct);return bL.Zero();});})),{$:1,$0:cs[0].$0});};};c.print$1=function(cq){if(typeof cq=="string")((function(cr){return function(cs){return cr(bG.toSafe(cs));};}(function(cr){bQ.log(cr);}))(cq));else((function(cr){return function(cs){return cr(bG.prettyPrint(cs));};}(function(cr){bQ.log(cr);}))(cq));};c.Error$1=function(cq){return{$:1,$0:cq};};S.toYYYYMMDD=function(cq,cr){return((((((bF.Curried(function(cs,ct,cu,cv,cw,cx){return cs(a.String(ct)+bG.toSafe(cu)+bG.padNumLeft(a.String(cv),2)+bG.toSafe(cw)+bG.padNumLeft(a.String(cx),2));},6))(a.id))((new a.Date(cr)).getFullYear()))(cq))((new a.Date(cr)).getMonth()+1))(cq))((new a.Date(cr)).getDate());};U.LoginFileName=function(){bA.$cctor();return bA.LoginFileName;};U.TemplatesFileName=function(){bA.$cctor();return bA.TemplatesFileName;};U.rootdir=function(){bA.$cctor();return bA.rootdir;};V=T.TipoAliado=bF.Class({toString:function(){return(function(cq){return function(cr){return cq(bC.p(cr));};}(a.id))(this);}},null,V);V.Regular=new V({$:1});V.Master=new V({$:0});W=T.Pais=bF.Class({toString:function(){return this.$==3?this.$0:(function(cq){return function(cr){return cq(bC.p$1(cr));};}(a.id))(this);}},null,W);W.Argentina=new W({$:2});W.Venezuela=new W({$:1});W.USA=new W({$:0});W.tryParse=function(cq){var cr,cs;cs=bH.Trim(cq).toUpperCase();switch(cs){case"":return null;case"USA":case"AMERICA":case"E.E.U.U.":case"US":case"UNITED STATES OF AMERICA":case"UNITED STATES":case"EEUU":return{$:1,$0:W.USA};case"VENEZUELA":return{$:1,$0:W.Venezuela};case"ARGENTINA":return{$:1,$0:W.Argentina};default:return{$:1,$0:new W({$:3,$0:bH.Trim(cq)})};}};X=T.Estado=bF.Class({toString:function(){return this.$==2?this.$0:(function(cq){return function(cr){return cq(bC.p$2(cr));};}(a.id))(this);}},null,X);X.Florida=new X({$:1});X.Texas=new X({$:0});X.tryParse=function(cq){var cr,cs;cs=bH.Trim(cq).toUpperCase();switch(cs){case"":return null;case"TEXAS":case"TX":return{$:1,$0:X.Texas};case"FLORIDA":case"FL":return{$:1,$0:X.Florida};default:return{$:1,$0:new X({$:2,$0:bH.Trim(cq)})};}};Y.New=function(cq,cr,cs,ct){return{emisor:cq,documento:cr,emision:cs,vence:ct};};Z.Corriente={$:1};Z.Ahorro={$:0};_0.New=function(cq,cr,cs,ct,cu){return{titular:cq,banco:cr,tipo:cs,numero:ct,routing:cu};};_1=T.StatusAliado=bF.Class({toString:function(){return(function(cq){return function(cr){return cq(bC.p$3(cr));};}(a.id))(this);}},null,_1);_1.Inactivo=new _1({$:1});_1.Activo=new _1({$:0});_2=T.ConceptoPago=bF.Class({toString:function(){return this.$==2?this.$0:(function(cq){return function(cr){return cq(bC.p$4(cr));};}(a.id))(this);}},null,_2);_2.PagoComision=new _2({$:1});_2.PagoAfiliacion=new _2({$:0});_3.New=function(cq,cr,cs,ct,cu,cv,cw){return{fechaPago:cq,ano:cr,periodo:cs,monto:ct,idAliado:cu,concepto:cv,transaccion:cw};};_4=T.TipoDireccion=bF.Class({toString:function(){return this.$==3?this.$0:(function(cq){return function(cr){return cq(bC.p$5(cr));};}(a.id))(this);}},null,_4);_4.ServicioPostal=new _4({$:2});_4.Oficina=new _4({$:1});_4.Habitacion=new _4({$:0});_4.tryParse=function(cq){var cr;cr=bH.Trim(cq);return cr===""?null:cr==="Habitacion"?{$:1,$0:_4.Habitacion}:cr==="Oficina"?{$:1,$0:_4.Oficina}:cr==="ServicioPostal"?{$:1,$0:_4.ServicioPostal}:{$:1,$0:new _4({$:3,$0:cr})};};_5=T.ZonaPostal=bF.Class({toString:function(){return this.$0;}},null,_5);_5.tryParse=function(cq){return bH.Trim(cq)!==""?{$:1,$0:new _5({$:0,$0:bH.Trim(cq)})}:null;};_6.New=function(cq,cr,cs,ct,cu,cv,cw){return{tipoDireccion:cq,linea1:cr,linea2:cs,ciudad:ct,estado:cu,pais:cv,zonaPostal:cw};};_7=T.CorreoElectronico=bF.Class({toString:function(){return this.$0;}},null,_7);_8=T.TipoTelefono=bF.Class({toString:function(){return(function(cq){return function(cr){return cq(bC.p$6(cr));};}(a.id))(this);}},null,_8);_8.Voip=new _8({$:3});_8.Habitacion=new _8({$:2});_8.Oficina=new _8({$:1});_8.Movil=new _8({$:0});_8.get_tryParse=function(){return function(cq){return cq==="Movil"?{$:1,$0:_8.Movil}:cq==="Oficina"?{$:1,$0:_8.Oficina}:cq==="Habitacion"?{$:1,$0:_8.Habitacion}:null;};};_9.New=function(cq,cr,cs,ct,cu,cv){return{tipoTelefono:cq,codigoPais:cr,codigoArea:cs,numero:ct,extension:cu,mensajes:cv};};_.Empresa={$:2};_.Femenino={$:1};_.Masculino={$:0};_.tryParse=function(cq){var cr;cr=bH.Trim(cq);return cr==="Masculino"?{$:1,$0:_.Masculino}:cr==="Femenino"?{$:1,$0:_.Femenino}:cr==="Empresa"?{$:1,$0:_.Empresa}:null;};$.New=function(cq,cr,cs,ct,cu,cv,cw,cx){return{titulo:cq,nombre1:cr,nombre2:cs,apellido1:ct,apellido2:cu,nacionalidad:cv,genero:cw,fechaNacimiento:cx};};ba.Saludo={$:2};ba.Informacion={$:1};ba.Alerta={$:0};bb.Prozper={$:0};bc.New=function(cq,cr,cs,ct,cu){return{tipo:cq,leido:cr,fecha:cs,texto:ct,remitente:cu};};bd.New=function(cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI){return{id:cq,idPadreO:cr,datosPersonales:cs,contactos:ct,identificacion:cu,formasPago:cv,transacciones:cw,mensajes:cx,isInternal:cy,status:cz,tipo:cA,fechaRegistro:cB,fechaStatus:cC,nReferidos:cD,nRefActivos:cE,nDescendientes:cF,nDescActivos:cG,comision:cH,nivel:cI};};be.New=function(cq,cr,cs,ct,cu,cv,cw,cx){return{comisionReferidosRegular:cq,comisionReferidosMaster:cr,comisionDescendientesMaster:cs,comisionDescendientesRegular:ct,montoAliliacion:cu,numeroReferidosMaster:cv,diaCorte1:cw,diaCorte2:cx};};bf.New=function(cq,cr,cs,ct,cu,cv){return{idAliado:cq,aliados:cr,anoActual:cs,periodoActual:ct,premisas:cu,nevento:cv};};bh.New=function(cq,cr,cs,ct,cu,cv){return{hijosDe:cq,nivelDe:cr,aliado:cs,aliadoO:ct,hijos:cu,descendientes:cv};};bg.nombre2=function(cq){var cr,cs;return(cr=(cs=cq.titulo,cs==null?null:{$:1,$0:" "+cs.$0}),cr==null?"":cr.$0)+bH.Trim(cq.nombre1+" "+cq.nombre2)+" "+bH.Trim(cq.apellido1+" "+cq.apellido2);};bg.nombre=function(cq){var cr,cs;return(cr=(cs=cq.titulo,cs==null?null:{$:1,$0:" "+cs.$0}),cr==null?"":cr.$0)+(cq.apellido1===""?"":bH.Trim(cq.apellido1+" "+cq.apellido2)+", ")+cq.nombre1+" "+cq.nombre2;};bg.empty=function(){bA.$cctor();return bA.empty;};bg.actualizarAliados=function(cq){var cr,cs,ct,cu,cz,cA;function cv(cB){var cC,cD,cE,cF,cG,cH;cC=cz.aliado(cB);cD=bI.cache(bI.map(cr,cz.hijosDe(cC.id)));cE=bI.length(cD);cF=bI.length(bI.filter(function(cI){return cI.status.$===0&&cI.tipo.$===1;},cD));cG=bd.New(cC.id,cC.idPadreO,cC.datosPersonales,cC.contactos,cC.identificacion,cC.formasPago,cC.transacciones,cC.mensajes,cC.isInternal,cC.status,cF>=cA.numeroReferidosMaster?V.Master:V.Regular,cC.fechaRegistro,0,cE,cF,bI.sumBy(function(cI){return cI.nDescendientes+cI.nReferidos;},cD),bI.sumBy(function(cI){return cI.nDescActivos+cI.nRefActivos;},cD),cC.comision,1+cz.nivelDe(cC.idPadreO));cH=bg.comision(cA,cG);return bd.New(cG.id,cG.idPadreO,cG.datosPersonales,cG.contactos,cG.identificacion,cG.formasPago,cG.transacciones,cG.mensajes,cG.isInternal,cG.status,cG.tipo,cG.fechaRegistro,cG.fechaStatus,cG.nReferidos,cG.nRefActivos,cG.nDescendientes,cG.nDescActivos,cH[0]+cH[1],cG.nivel);}function cw(cB){var cC;cC=null;return ct.TryGetValue(cB,{get:function(){return cC;},set:function(cD){cC=cD;}})?{$:1,$0:cC}:null;}function cx(cB,cC){ct.set_Item(cB,cC);return cC;}function cy(cB,cC){var cD;cD=cw(cB);return cD==null?cx(cB,cC(cB)):cD.$0;}cz=bg.busqueda(cq.aliados);cA=cq.premisas;cr=(cs=(ct=new bZ.New$5(),[[cw,function(cB){return function(cC){return cy(cB,cC);};}],function(){ct.Clear();}]),(cu=cs[0][1],[function(cB){return(cu(cB))(cv);},cs[1]]))[0];return bK.ofSeq(bI.map(cr,bI.map(function(cB){return cB.id;},cq.aliados)));};bg.busqueda=function(cq){var cr,cs;function ct(cz,cA){return[cz,bK.ofSeq(bI.map(function(cB){return cB[1];},cA))];}function cu(cz){var cA,cB;cA=(cB=null,[cs.TryGetValue(cz,{get:function(){return cB;},set:function(cC){cB=cC;}}),cB]);return cA[0]?{$:1,$0:cA[1]}:null;}function cv(cz){var cA,cB;cA=(cB=null,[cr.TryGetValue({$:1,$0:cz},{get:function(){return cB;},set:function(cC){cB=cC;}}),cB]);return cA[0]?cA[1]:[];}function cw(cz){var cA,cB;cA=(cB=cz==null?null:cu(cz.$0),cB==null?null:{$:1,$0:1+cw(cB.$0.idPadreO)});return cA==null?0:cA.$0;}function cx(cz){return bK.choose(cu,cv(cz.id));}function cy(cz){return bK.ofSeq(bI.delay(function(){return bI.collect(function(cA){return bI.append([cA],bI.delay(function(){return cy(cA);}));},cx(cz));}));}cr=new bT.New(bI.map(function(cz){return ct(cz[0],cz[1]);},bI.groupBy(function(cz){return cz[0];},bI.map(function(cz){return[cz.idPadreO,cz.id];},cq))));cs=new bT.New(bI.map(function(cz){return[cz.id,cz];},cq));return bh.New(cv,cw,function(cz){try{return cs.get_Item(cz);}catch(cA){return(function(cB){return function(cC){return cB("buscarAliado failed: "+bC.p$7(cC));};}(bO.FailWith))(cz);}},cu,cx,cy);};bg.comision=function(cq,cr){var cs;cs=bg.premisas(cq,cr);return[cr.nRefActivos*cs[0],cr.nDescActivos*cs[1]];};bg.premisas=function(cq,cr){var cs;cs=cr.tipo.$==0?[cq.comisionReferidosMaster,cq.comisionDescendientesMaster]:[cq.comisionReferidosRegular,cq.comisionDescendientesRegular];return cr.status.$==0?[cs[0],cs[1]]:[0,0];};bg.statusActual=function(cq,cr,cs){var ct;ct=bK.tryFind(function(cu){return bP.Equals(cu.idAliado,cs.id)&&cu.ano===cq&&cu.periodo===cr&&cu.concepto.$===0;},cs.transacciones)==null?null:{$:1,$0:_1.Activo};return ct==null?_1.Inactivo:ct.$0;};bg.aliadoEf=function(){return s.op_GreaterGreaterEquals(u.get(),function(cq){return z.ofResult(l.ofOption(function(){return(function(cr){return function(cs){return cr("Cannot find aliado "+bC.p$7(cs));};}(a.id))(cq.idAliado);},bK.tryFind(function(cr){return bP.Equals(cr.id,cq.idAliado);},cq.aliados)));});};bg.periodoActualEf=function(){return s.op_BarGreaterGreater(u.get(),function(cq){return[cq.anoActual,cq.periodoActual];});};bi.New=function(cq,cr,cs){return{nevento:cq,aliadoO:cr,data:cs};};bj.ROk={$:0};bk.iterA=function(cq){function cr(cs){a.alert(cs);}F.iterA(function(cs){return cr(e.summarized(cs));},a.ignore,cq);};bm.DefaultEP={$:0};bn.crearOptions=function(cq){return b1.Concat(bI.map(bn.crearOption,cq));};bn.crearOption=function(cq){return b1.Element("option",[],[b1.TextNode(cq)]);};bn.generos=function(){bA.$cctor();return bA.generos;};bn.tiposTel=function(){bA.$cctor();return bA.tiposTel;};bn.tiposDir=function(){bA.$cctor();return bA.tiposDir;};bn.estados=function(){bA.$cctor();return bA.estados;};bn.paises=function(){bA.$cctor();return bA.paises;};bn.alertIfNone=function(cq,cr,cs){return cr!=null&&cr.$==1?cs(cr.$0):(a.alert("Error not caught: "+cq),null);};bo.formaDoc=function(cq){var cr,cs,ct,cu,cv,cw;cr=(cs=(ct=b1.EmbedView(b2.Map(bn.crearOptions,bn.tiposTel().get_View())),b6.Make().WithHole({$:0,$0:"tipos",$1:ct})),(cu=b7.CompleteHoles(cs.k,cs.h,[["tipotelefono",0],["codigopais",0],["codigoarea",0],["telefono",0],["extension",0]]),(cv=new b8.New(cu[1],bD.telefono(cu[0])),(cs.i=cv,cv))));b2.Sink(function(cx){var cy;if(cx!=null&&cx.$==1){cy=cx.$0;cr.Hole("codigoarea").Set(cy.codigoArea);cr.Hole("codigopais").Set(cy.codigoPais);cr.Hole("telefono").Set(cy.numero);cr.Hole("extension").Set(cy.extension);cr.Hole("tipotelefono").Set((function(cz){return function(cA){return cz(a.String(cA));};}(a.id))(cy.tipoTelefono));}},cq.get_View());cw=b2.Apply(b2.Map2(function(cx,cy){return function(cz){return bI.map(function(cA){return cA[1];},bI.filter(function(cA){return cA[0];},bJ.ofArray([[bH.Trim(cx)==="","CodigoPais"],[bH.Trim(cy)==="","Telefono"],[bH.Trim(cz)==="","TipoTelefono"]])));};},cr.Hole("codigopais").get_View(),cr.Hole("telefono").get_View()),cr.Hole("tipotelefono").get_View());b2.Sink(function(cx){if(!bP.Equals(cq.Get(),cx))cq.Set(cx);},b2.Apply(b2.Apply(b2.Apply(b2.Apply(b2.Map2(function(cx,cy){return bF.Curried(function(cz,cA,cB,cC){return!bI.isEmpty(cx)?null:bn.alertIfNone("TipoTelefono",(_8.get_tryParse())(bH.Trim(cy)),function(cD){var cE;return{$:1,$0:(cE=bH.Trim(cz),_9.New(cD,bH.Trim(cA),cE,bH.Trim(cB),bH.Trim(cC),false))};});},4);},cw,cr.Hole("tipotelefono").get_View()),cr.Hole("codigoarea").get_View()),cr.Hole("codigopais").get_View()),cr.Hole("telefono").get_View()),cr.Hole("extension").get_View()));return[cw,cr.get_Doc()];};bp.formaDoc=function(cq){var cr,cs,ct,cu,cv,cw,cx;cr=b9.Create$1("");cs=(ct=b6.Make().WithHole({$:2,$0:"mensaje",$1:cr.get_View()}),(cu=b7.CompleteHoles(ct.k,ct.h,[["correo",0],["confirmarcorreo",0]]),(cv=new b8.New(cu[1],bD.correo(cu[0])),(ct.i=cv,cv))));cw=cq.Get();cw!=null&&cw.$==1?cs.Hole("confirmarcorreo").Set(a.String(cw.$0)):void 0;b2.Sink(function(cy){cr.Set(cy);},b2.Apply(b2.Apply(b2.Map2(function(cy,cz){return function(cA){return function(cB){return bH.Trim(cy)===""||bH.Trim(cz)===""||bH.Trim(cA)===bH.Trim(cB)?"":"Correos no son iguales";};};},cs.Hole("correo").get_View(),cs.Hole("confirmarcorreo").get_View()),cs.Hole("correo").get_View()),cs.Hole("confirmarcorreo").get_View()));b2.Sink(function(cy){if(cy!=null&&cy.$==1)cs.Hole("correo").Set(a.String(cy.$0));},cq.get_View());cx=b2.Apply(b2.Apply(b2.Map2(function(cy,cz){return function(cA){return function(cB){return bI.map(function(cC){return cC[1];},bI.filter(function(cC){return cC[0];},bJ.ofArray([[bH.Trim(cy)==="","Correo"],[bH.Trim(cz)==="","ConfirmarCorreo"],[cA!=="",cB]])));};};},cs.Hole("correo").get_View(),cs.Hole("confirmarcorreo").get_View()),cr.get_View()),cr.get_View());b2.Sink(function(cy){if(!bP.Equals(cq.Get(),cy))cq.Set(cy);},b2.Map2(function(cy,cz){return!bI.isEmpty(cy)?null:{$:1,$0:new _7({$:0,$0:cz})};},cx,cs.Hole("correo").get_View()));return[cx,cs.get_Doc()];};bq.formaDoc=function(cq){var cr,cs,ct,cu,cv,cw,cx,cy;cr=(cs=(ct=b1.EmbedView(b2.Map(bn.crearOptions,bn.tiposDir().get_View())),(cu=b1.EmbedView(b2.Map(bn.crearOptions,bn.estados().get_View())),(cv=b1.EmbedView(b2.Map(bn.crearOptions,bn.paises().get_View())),b6.Make().WithHole({$:0,$0:"paises",$1:cv})).WithHole({$:0,$0:"estados",$1:cu})).WithHole({$:0,$0:"tipos",$1:ct})),(cw=b7.CompleteHoles(cs.k,cs.h,[["tipodireccion",0],["direccion1",0],["direccion2",0],["ciudad",0],["estado",0],["codigopostal",0],["pais",0]]),(cx=new b8.New(cw[1],bD.direccion(cw[0])),(cs.i=cx,cx))));b2.Sink(function(cz){var cA;if(cz!=null&&cz.$==1){cA=cz.$0;cr.Hole("direccion1").Set(cA.linea1);cr.Hole("direccion2").Set(cA.linea2);cr.Hole("ciudad").Set(cA.ciudad);cr.Hole("estado").Set((function(cB){return function(cC){return cB(a.String(cC));};}(a.id))(cA.estado));cr.Hole("pais").Set((function(cB){return function(cC){return cB(a.String(cC));};}(a.id))(cA.pais));cr.Hole("codigopostal").Set((function(cB){return function(cC){return cB(a.String(cC));};}(a.id))(cA.zonaPostal));cr.Hole("tipodireccion").Set((function(cB){return function(cC){return cB(a.String(cC));};}(a.id))(cA.tipoDireccion));}},cq.get_View());cy=b2.Apply(b2.Apply(b2.Apply(b2.Apply(b2.Map2(function(cz,cA){return bF.Curried(function(cB,cC,cD,cE){return bI.map(function(cF){return cF[1];},bI.filter(function(cF){return cF[0];},bJ.ofArray([[bH.Trim(cz)==="","Direccion1"],[bH.Trim(cA)==="","Ciudad"],[bH.Trim(cB)==="","Estado"],[bH.Trim(cC)==="","Pais"],[bH.Trim(cD)==="","CodigoPostal"],[bH.Trim(cE)==="","TipoDireccion"]])));},4);},cr.Hole("direccion1").get_View(),cr.Hole("ciudad").get_View()),cr.Hole("estado").get_View()),cr.Hole("pais").get_View()),cr.Hole("codigopostal").get_View()),cr.Hole("tipodireccion").get_View());b2.Sink(function(cz){if(!bP.Equals(cq.Get(),cz))cq.Set(cz);},b2.Apply(b2.Apply(b2.Apply(b2.Apply(b2.Apply(b2.Apply(b2.Map2(function(cz,cA){return bF.Curried(function(cB,cC,cD,cE,cF,cG){return!bI.isEmpty(cz)?null:bn.alertIfNone("TipoDireccion",_4.tryParse(bH.Trim(cA)),function(cH){return bn.alertIfNone("Estado",X.tryParse(bH.Trim(cB)),function(cI){return bn.alertIfNone("Pais",W.tryParse(bH.Trim(cC)),function(cJ){return bn.alertIfNone("CodgoPostal",_5.tryParse(bH.Trim(cD)),function(cK){return{$:1,$0:_6.New(cH,bH.Trim(cE),bH.Trim(cF),bH.Trim(cG),cI,cJ,cK)};});});});});},6);},cy,cr.Hole("tipodireccion").get_View()),cr.Hole("estado").get_View()),cr.Hole("pais").get_View()),cr.Hole("codigopostal").get_View()),cr.Hole("direccion1").get_View()),cr.Hole("direccion2").get_View()),cr.Hole("ciudad").get_View()));return[cy,cr.get_Doc()];};br.formaDoc=function(cq){var cr,cs,ct,cu,cv,cw;cr=(cs=(ct=b1.EmbedView(b2.Map(bn.crearOptions,bn.generos().get_View())),b6.Make().WithHole({$:0,$0:"generos",$1:ct})),(cu=b7.CompleteHoles(cs.k,cs.h,[["nombres",0],["apellidos",0],["fechanacimiento",0],["genero",0]]),(cv=new b8.New(cu[1],bD.datospersonales(cu[0])),(cs.i=cv,cv))));b2.Sink(function(cx){var cy;if(cx!=null&&cx.$==1){cy=cx.$0;cr.Hole("nombres").Set(bH.Trim(cy.nombre1+" "+cy.nombre2));cr.Hole("apellidos").Set(bH.Trim(cy.apellido1+" "+cy.apellido2));cr.Hole("fechanacimiento").Set(S.toYYYYMMDD("-",cy.fechaNacimiento));cr.Hole("genero").Set((function(cz){return function(cA){return cz(bC.p$8(cA));};}(a.id))(cy.genero));}},cq.get_View());cw=b2.Apply(b2.Apply(b2.Map2(function(cx,cy){return function(cz){return function(cA){return bI.map(function(cB){return cB[1];},bI.filter(function(cB){return cB[0];},bJ.ofArray([[bH.Trim(cx)==="","Nombres"],[bH.Trim(cy)==="","Apellidos"],[bH.Trim(cz)==="","Fecha de Nacimiento"],[bH.Trim(cA)==="","Genero"]])));};};},cr.Hole("nombres").get_View(),cr.Hole("apellidos").get_View()),cr.Hole("fechanacimiento").get_View()),cr.Hole("genero").get_View());b2.Sink(function(cx){if(!bP.Equals(cq.Get(),cx))cq.Set(cx);},b2.Apply(b2.Apply(b2.Apply(b2.Apply(b2.Apply(b2.Map2(function(cx,cy){return bF.Curried(function(cz,cA,cB,cC,cD){return!bI.isEmpty(cx)?null:bn.alertIfNone("Genero",_.tryParse(cy),function(cE){return bn.alertIfNone("Fecha incorrecta",(L.parseDateO2())(cz),function(cF){return{$:1,$0:$.New(null,bK.get(bH.SplitChars(bH.Trim(cA),[" "],0),0),bH.concat(" ",bR.array(bH.SplitChars(bH.Trim(cB),[" "],0),{$:1,$0:1},null)),bK.get(bH.SplitChars(bH.Trim(cC),[" "],0),0),bH.concat(" ",bR.array(bH.SplitChars(bH.Trim(cD),[" "],0),{$:1,$0:1},null)),new W({$:3,$0:""}),cE,cF)};});});},5);},cw,cr.Hole("genero").get_View()),cr.Hole("fechanacimiento").get_View()),cr.Hole("nombres").get_View()),cr.Hole("nombres").get_View()),cr.Hole("apellidos").get_View()),cr.Hole("apellidos").get_View()));return[cw,cr.get_Doc()];};bs.formaDoc$5516$41=function(cq,cr,cs,ct,cu,cv){return function(){var cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG;function cH(cI){a.alert(cI);}cq.Set(true);cw=cr.Get();bH.Trim(cw)!==""?a.alert(cw):(cx=cs.Get(),cy=ct.Get(),cz=cu.Get(),cA=cv.Get(),cx!=null&&cx.$==1&&(cy!=null&&cy.$==1&&(cz!=null&&cz.$==1&&(cA!=null&&cA.$==1&&(cB=[cy.$0,cx.$0,cA.$0,cz.$0],true))))?(cC=cB[0],cD=cB[1],cE=cB[2],cF=cB[3],F.iterA(function(cI){return cH(e.summarized(cI));},a.ignore,(cG=H.asyncResultM(),cG.Run(cG.Delay(function(){var cI,cJ;return cG.Bind$4((cI={$:2,$0:{$:0,$0:(cJ=b$.NewGuid(),a.String(cJ))},$1:cD,$2:{$:1,$0:bl.modeloV().Get().idAliado},$3:[{$:1,$0:cC},{$:2,$0:cF},{$:0,$0:cE}]},(new cb.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.ejecutarEvento:-1486622886",[cI])),function(cK){bl.refrescarData();a.alert((function(cL){return function(cM){return cL(bC.p$9(cM));};}(a.id))(cK));return cG.Zero();});}))))):a.alert("Error not caught FormaRegistro"));};};bs.formaDoc=function(){var cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE;cq=b9.Create$1("");cr=b9.Create$1(false);cs=b9.Create$1(null);ct=b9.Create$1(null);cu=b9.Create$1(null);cv=b9.Create$1(null);cw=br.formaDoc(cs);cx=bp.formaDoc(ct);cy=bo.formaDoc(cu);cz=bq.formaDoc(cv);cA=(cB=(cC=b6.Make().WithHole({$:2,$0:"mensajes",$1:b2.Map2(function(cF,cG){return cF?cG:"";},cr.get_View(),cq.get_View())}).WithHole({$:0,$0:"datospersonales",$1:cw[1]}).WithHole({$:0,$0:"correo",$1:cx[1]}).WithHole({$:0,$0:"telefono",$1:cy[1]}).WithHole({$:0,$0:"direccion",$1:cz[1]}),cC.WithHole(b7.EventQ2(cC.k,"registrarse",function(){return cC.i;},function(){var cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP;function cQ(cR){a.alert(cR);}cr.Set(true);cF=cq.Get();bH.Trim(cF)!==""?a.alert(cF):(cG=cs.Get(),cH=ct.Get(),cI=cu.Get(),cJ=cv.Get(),cG!=null&&cG.$==1&&(cH!=null&&cH.$==1&&(cI!=null&&cI.$==1&&(cJ!=null&&cJ.$==1&&(cK=[cH.$0,cG.$0,cJ.$0,cI.$0],true))))?(cL=cK[0],cM=cK[1],cN=cK[2],cO=cK[3],F.iterA(function(cR){return cQ(e.summarized(cR));},a.ignore,(cP=H.asyncResultM(),cP.Run(cP.Delay(function(){var cR,cS;return cP.Bind$4((cR={$:2,$0:{$:0,$0:(cS=b$.NewGuid(),a.String(cS))},$1:cM,$2:{$:1,$0:bl.modeloV().Get().idAliado},$3:[{$:1,$0:cL},{$:2,$0:cO},{$:0,$0:cN}]},(new cb.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.ejecutarEvento:-1486622886",[cR])),function(cT){bl.refrescarData();a.alert((function(cU){return function(cV){return cU(bC.p$9(cV));};}(a.id))(cT));return cP.Zero();});}))))):a.alert("Error not caught FormaRegistro"));}))),(cD=b7.CompleteHoles(cB.k,cB.h,[]),(cE=new b8.New(cD[1],bD.formaregistro(cD[0])),(cB.i=cE,cE))));b2.Sink(function(cF){cq.Set(cF);},b2.Apply(b2.Apply(b2.Map2(function(cF,cG){return function(cH){return function(cI){var cJ;cJ=bH.concat(", ",bI.delay(function(){return bI.append(cF,bI.delay(function(){return bI.append(cG,bI.delay(function(){return bI.append(cH,bI.delay(function(){return cI;}));}));}));}));return cJ!==""?"Campos requeridos: "+cJ:"";};};},cw[0],cx[0]),cy[0]),cz[0]));return cA.get_Doc();};bt.formaDoc=function(){return bl.aliadoIdDoc(bt.formaAliado);};bt.formaAliado$5569$36=function(cq,cr,cs,ct){return function(){var cu,cv,cw,cx,cy,cz,cA;function cB(cC){a.alert(cC);}cq.Set(true);cu=cr.Get();bH.Trim(cu)!==""?a.alert(cu):(cv=cs.Get(),cw=b2.TryGet(ct),cv!=null&&cv.$==1&&(cw!=null&&cw.$==1&&(cx=[cw.$0,cv.$0],true))?(cy=cx[0],cz=cx[1],F.iterA(function(cC){return cB(e.summarized(cC));},a.ignore,(cA=H.asyncResultM(),cA.Run(cA.Delay(function(){return cA.Bind$4((new cb.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.ejecutarEvento:-1486622886",[{$:3,$0:cy.id,$1:cz}]),function(cC){bl.refrescarData();a.alert((function(cD){return function(cE){return cD(bC.p$9(cE));};}(a.id))(cC));return cA.Zero();});}))))):a.alert("Error not caught FormaDatos"));};};bt.formaAliado=function(cq){var cr,cs,ct,cu,cv,cw,cx,cy,cz;function cA(cC){return{$:1,$0:cC};}function cB(cC){ct.Set(cC);}cr=b9.Create$1("");cs=b9.Create$1(false);ct=b9.Create$1(null);b2.Sink(function(cC){return cB(cA(cC));},b2.Map(function(cC){return cC.datosPersonales;},cq));cu=br.formaDoc(ct);cv=(cw=(cx=b6.Make().WithHole({$:2,$0:"mensajes",$1:b2.Map2(function(cC,cD){return cC?cD:"";},cs.get_View(),cr.get_View())}).WithHole({$:2,$0:"changed",$1:b2.Map2(function(cC,cD){return bP.Equals({$:1,$0:cC.datosPersonales},cD)?"":"mui-btn--primary";},cq,ct.get_View())}).WithHole({$:0,$0:"datospersonales",$1:cu[1]}),cx.WithHole(b7.EventQ2(cx.k,"salvar",function(){return cx.i;},function(){var cC,cD,cE,cF,cG,cH,cI;function cJ(cK){a.alert(cK);}cs.Set(true);cC=cr.Get();bH.Trim(cC)!==""?a.alert(cC):(cD=ct.Get(),cE=b2.TryGet(cq),cD!=null&&cD.$==1&&(cE!=null&&cE.$==1&&(cF=[cE.$0,cD.$0],true))?(cG=cF[0],cH=cF[1],F.iterA(function(cK){return cJ(e.summarized(cK));},a.ignore,(cI=H.asyncResultM(),cI.Run(cI.Delay(function(){return cI.Bind$4((new cb.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.ejecutarEvento:-1486622886",[{$:3,$0:cG.id,$1:cH}]),function(cK){bl.refrescarData();a.alert((function(cL){return function(cM){return cL(bC.p$9(cM));};}(a.id))(cK));return cI.Zero();});}))))):a.alert("Error not caught FormaDatos"));}))),(cy=b7.CompleteHoles(cw.k,cw.h,[]),(cz=new b8.New(cy[1],bD.formadatospersonales(cy[0])),(cw.i=cz,cz))));b2.Sink(function(cC){cr.Set(cC);},b2.Map(function(cC){var cD;cD=bH.concat(", ",bI.delay(function(){return cC;}));return cD!==""?"Campos requeridos: "+cD:"";},cu[0]));return cv.get_Doc();};bu.forma$5605$38=function(cq){return function(){cq();};};bu.forma=function(cq,cr,cs,ct){var cu,cv,cw,cx,cy;b9.Create$1("");cu=b9.Create$1(false);return(cv=(cw=b6.Make().WithHole({$:2,$0:"mensajes",$1:b2.Map2(function(cz,cA){return cz?cA:"";},cu.get_View(),cq)}).WithHole({$:2,$0:"changed",$1:b2.Map(function(cz){return cz?"":"mui-btn--primary";},cr)}).WithHole({$:0,$0:"content",$1:cs}),cw.WithHole(b7.EventQ2(cw.k,"salvar",function(){return cw.i;},function(){ct();}))),(cx=b7.CompleteHoles(cv.k,cv.h,[]),(cy=new b8.New(cx[1],bD.formagenerica(cx[0])),(cv.i=cy,cy)))).get_Doc();};bv.formaDoc=function(){return bl.aliadoIdDoc(bv.formaContactos);};bv.formaContactos$5703$36=function(cq,cr,cs,ct){return function(){var cu,cv,cw,cx;function cy(cz){a.alert(cz);}cq.Set(true);cu=cr.Get();bH.Trim(cu)!==""?a.alert(cu):(cv=b2.TryGet(cs),cv!=null&&cv.$==1?(cw=cv.$0,F.iterA(function(cz){return cy(e.summarized(cz));},a.ignore,(cx=H.asyncResultM(),cx.Run(cx.Delay(function(){var cz;return cx.Bind$4((cz={$:4,$0:cw.id,$1:ct.Get()},(new cb.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.ejecutarEvento:-1486622886",[cz])),function(cA){bl.refrescarData();a.alert((function(cB){return function(cC){return cB(bC.p$9(cC));};}(a.id))(cA));return cx.Zero();});}))))):a.alert("Error not caught FormaDatos"));};};bv.formaContactos$5702$42=function(cq,cr){return function(){cq.Set(cq.Get().concat([{$:0,$0:cr}]));};};bv.formaContactos$5701$42=function(cq){return function(){cq.Set(cq.Get().concat([{$:1,$0:new _7({$:0,$0:""})}]));};};bv.formaContactos$5700$42=function(cq,cr){return function(){cq.Set(cq.Get().concat([{$:2,$0:cr}]));};};bv.formaContactos=function(cq){var cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM;function cN(cP,cQ){return function(cR){return new cc.New(b2.Map(function(cS){var cT;cT=bI.tryItem(cR,cS);return cT==null?null:cP(cT.$0);},ct.get_View()),function(cS){if(cS!=null&&cS.$==1)ct.Set(J.replace(cR,cQ(cS.$0),ct.Get()));});};}function cO(cP,cQ){return b1.Element("form",[],[cQ,b1.Button("-",[cd.Create("title","borrar")],function(){ct.Set(J.remove(cP,ct.Get()));})]);}cr=b9.Create$1("");cs=b9.Create$1(false);ct=b9.Create$1([]);b2.Sink(function(cP){ct.Set(cP);},b2.Map(function(cP){return cP.contactos;},cq));cu=b2.Map(bI.indexed,ct.get_View());cv=[function(cP){return cP.$==2?{$:1,$0:cP.$0}:null;},function(cP){return{$:2,$0:cP};}];cw=[function(cP){return cP.$==1?{$:1,$0:cP.$0}:null;},function(cP){return{$:1,$0:cP};}];cx=[function(cP){return cP.$==0?{$:1,$0:cP.$0}:null;},function(cP){return{$:0,$0:cP};}];cy=b2.Map(function(cP){function cQ(cR,cS){return cv[0](cS)==null?null:{$:1,$0:cR};}return bI.choose(function(cR){return cQ(cR[0],cR[1]);},cP);},cu);cz=b2.Map(function(cP){function cQ(cR,cS){return cw[0](cS)==null?null:{$:1,$0:cR};}return bI.choose(function(cR){return cQ(cR[0],cR[1]);},cP);},cu);cA=b2.Map(function(cP){function cQ(cR,cS){return cx[0](cS)==null?null:{$:1,$0:cR};}return bI.choose(function(cR){return cQ(cR[0],cR[1]);},cP);},cu);cB=b1.ConvertBy(a.id,function(cP){return cO(cP,(bo.formaDoc((function(cQ){return cN(cQ[0],cQ[1]);}(cv))(cP)))[1]);},cy);cC=b1.ConvertBy(a.id,function(cP){return cO(cP,(bp.formaDoc((function(cQ){return cN(cQ[0],cQ[1]);}(cw))(cP)))[1]);},cz);cD=b1.ConvertBy(a.id,function(cP){return cO(cP,(bq.formaDoc((function(cQ){return cN(cQ[0],cQ[1]);}(cx))(cP)))[1]);},cA);cE=_9.New(_8.Movil,"","","","",false);cF=_6.New(_4.Habitacion,"","","",new X({$:2,$0:""}),new W({$:3,$0:""}),new _5({$:0,$0:""}));return(cG=(cH=(cI=(cJ=(cK=b6.Make().WithHole({$:2,$0:"mensajes",$1:b2.Map2(function(cP,cQ){return cP?cQ:"";},cs.get_View(),cr.get_View())}).WithHole({$:2,$0:"changed",$1:b2.Map2(function(cP,cQ){return bP.Equals(cP.contactos,cQ)?"":"mui-btn--primary";},cq,ct.get_View())}).WithHole({$:0,$0:"telefonos",$1:cB}).WithHole({$:0,$0:"correos",$1:cC}).WithHole({$:0,$0:"direcciones",$1:cD}),cK.WithHole(b7.EventQ2(cK.k,"mastelefono",function(){return cK.i;},function(){ct.Set(ct.Get().concat([{$:2,$0:cE}]));}))),cJ.WithHole(b7.EventQ2(cJ.k,"mascorreo",function(){return cJ.i;},function(){ct.Set(ct.Get().concat([{$:1,$0:new _7({$:0,$0:""})}]));}))),cI.WithHole(b7.EventQ2(cI.k,"masdireccion",function(){return cI.i;},function(){ct.Set(ct.Get().concat([{$:0,$0:cF}]));}))),cH.WithHole(b7.EventQ2(cH.k,"salvar",function(){return cH.i;},function(){var cP,cQ,cR,cS;function cT(cU){a.alert(cU);}cs.Set(true);cP=cr.Get();bH.Trim(cP)!==""?a.alert(cP):(cQ=b2.TryGet(cq),cQ!=null&&cQ.$==1?(cR=cQ.$0,F.iterA(function(cU){return cT(e.summarized(cU));},a.ignore,(cS=H.asyncResultM(),cS.Run(cS.Delay(function(){var cU;return cS.Bind$4((cU={$:4,$0:cR.id,$1:ct.Get()},(new cb.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.ejecutarEvento:-1486622886",[cU])),function(cV){bl.refrescarData();a.alert((function(cW){return function(cX){return cW(bC.p$9(cX));};}(a.id))(cV));return cS.Zero();});}))))):a.alert("Error not caught FormaDatos"));}))),(cL=b7.CompleteHoles(cG.k,cG.h,[]),(cM=new b8.New(cL[1],bD.formacontactos(cL[0])),(cG.i=cM,cM)))).get_Doc();};bv.formaTelefonos=function(cq){var cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB;function cC(cG,cH){return function(cI){return new cc.New(b2.Map(function(cJ){var cK;cK=bI.tryItem(cI,cJ);return cK==null?null:cG(cK.$0);},cr.get_View()),function(cJ){if(cJ!=null&&cJ.$==1)cr.Set(J.replace(cI,cH(cJ.$0),cr.Get()));});};}function cD(cG){return cG[1];}function cE(cG){return cG[1];}function cF(cG){return cG[1];}cr=b9.Create$1([]);b2.Sink(function(cG){cr.Set(cG);},b2.Map(function(cG){return cG.contactos;},cq));cs=b2.Map(bI.indexed,cr.get_View());ct=b2.Map(function(cG){function cH(cI,cJ){return(bv.ftel())[0](cJ)==null?null:{$:1,$0:cI};}return bI.choose(function(cI){return cH(cI[0],cI[1]);},cG);},cs);cu=b2.Map(function(cG){function cH(cI,cJ){return(bv.fcor())[0](cJ)==null?null:{$:1,$0:cI};}return bI.choose(function(cI){return cH(cI[0],cI[1]);},cG);},cs);cv=b2.Map(function(cG){function cH(cI,cJ){return(bv.fdir())[0](cJ)==null?null:{$:1,$0:cI};}return bI.choose(function(cI){return cH(cI[0],cI[1]);},cG);},cs);b1.ConvertBy(a.id,(cw=(cx=cC.apply(null,bv.ftel()),function(cG){return bo.formaDoc(cx(cG));}),function(cG){return cD(cw(cG));}),ct);b1.ConvertBy(a.id,(cy=(cz=cC.apply(null,bv.fcor()),function(cG){return bp.formaDoc(cz(cG));}),function(cG){return cE(cy(cG));}),cu);b1.ConvertBy(a.id,(cA=(cB=cC.apply(null,bv.fdir()),function(cG){return bq.formaDoc(cB(cG));}),function(cG){return cF(cA(cG));}),cv);return bF.Curried(bu.forma,4);};bv.fdir=function(){bA.$cctor();return bA.fdir;};bv.fcor=function(){bA.$cctor();return bA.fcor;};bv.ftel=function(){bA.$cctor();return bA.ftel;};bw.aliados$5792$49=function(cq,cr){return function(){cq(cr);};};bw.aliados$5790$49=function(cq,cr){return function(){cq(cr);};};bw.aliados=function(){var cq,cr,cs,ct,cu,cv,cw;function cx(cG){var cH,cI;cH=(cI=cr.Get(),cI==null?null:{$:1,$0:cI.$0(cG)});return cH==null?[]:cH.$0;}function cy(cG){return cG.nReferidos===0?"-":(((bF.Curried3(function(cH,cI,cJ){return cH(a.String(cI)+"/"+a.String(cJ));}))(a.id))(cG.nRefActivos))(cG.nReferidos);}function cz(cG){return cG.nDescendientes===0?"-":(((bF.Curried3(function(cH,cI,cJ){return cH(a.String(cI)+"/"+a.String(cJ));}))(a.id))(cG.nDescActivos))(cG.nDescendientes);}function cA(cG){return cG===0?"-":bl.money(cG);}function cB(cG){return b2.Map(function(cH){return bI.isEmpty(cx(cG))?"":bP.Equals(cH==null?null:{$:1,$0:cH.$0.Contains(cG)},{$:1,$0:true})?"Expandido":"Colapsado";},cq.get_View());}function cC(cG){var cH,cI,cJ;cq.Set({$:1,$0:((bP.Equals((cH=cq.Get(),cH==null?null:{$:1,$0:cH.$0.Contains(cG)}),{$:1,$0:true})?function(cK){return function(cL){return cL.Remove(cK);};}:function(cK){return function(cL){return cL.Add(cK);};})(cG))((cI=cq.Get(),(cJ=new bU.New$1(null),cI==null?cJ:cI.$0)))});}function cD(cG){bl.selAliadoIdOV().Set({$:1,$0:cG});}function cE(cG){var cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,c0,c1;function cU(c2){return c2.comision;}function cV(c2){return c2.status;}function cW(c2){return[c2.nRefActivos,c2.nReferidos];}function cX(c2){return[c2.nDescActivos,c2.nDescendientes];}function cY(c2){return bg.nombre(c2.datosPersonales);}function cZ(c2){return bI.delay(function(){return bI.append([c2],bI.delay(function(){var c3,c4;return(c3=(c4=cq.Get(),c4==null?null:{$:1,$0:c4.$0.Contains(c2.id)}),c3==null?false:c3.$0)?bI.collect(cZ,c1.hijos(c2)):[];}));});}c0=(cH=(cI=(cJ=(cK=(cL=(bF.Curried3(K.desc))(cU),cM=(bF.Curried3(K.asc))(cV),bF.Curried(K.op_AmpGreater,2,[function(c2,c3){return(cL(c2))(c3);},function(c2,c3){return(cM(c2))(c3);}])),cN=(bF.Curried3(K.desc))(cW),bF.Curried(K.op_AmpGreater,2,[function(c2,c3){return(cK(c2))(c3);},function(c2,c3){return(cN(c2))(c3);}])),cO=(bF.Curried3(K.desc))(cX),bF.Curried(K.op_AmpGreater,2,[function(c2,c3){return(cJ(c2))(c3);},function(c2,c3){return(cO(c2))(c3);}])),cP=(bF.Curried3(K.asc))(cY),bF.Curried(K.op_AmpGreater,2,[function(c2,c3){return(cI(c2))(c3);},function(c2,c3){return(cP(c2))(c3);}])),bI.sortWith(function(c2,c3){return(cH(c2))(c3);},cG));c1=bg.busqueda(c0);cr.Set({$:1,$0:c1.hijosDe});try{cR=bI.min(bI.map(function(c2){return c2.nivel;},c0));}catch(c2){cR=1;}cS=bI.filter(function(c3){return c3.nivel===cR;},c0);bI.isEmpty(cS)?cq.Set(null):cq.Get()==null?(cq.Set({$:1,$0:new bU.New(bI.map(function(c3){return c3.id;},cS))}),cT=bI.tryHead(bI.map(function(c3){return c3.id;},cS)),cT==null?void 0:cD(cT.$0)):void 0;return bI.delay(function(){return bI.collect(cZ,cS);});}function cF(cG,cH){var cI,cJ,cK,cL,cM,cN;return(cI=(cJ=(cK=(cL=cB(cG),b6.Make().WithHole({$:2,$0:"nombre",$1:b2.Map(function(cO){return bg.nombre(cO.datosPersonales);},cH)}).WithHole({$:2,$0:"status",$1:b2.Map(function(cO){return(function(cP){return function(cQ){return cP(bC.p$3(cQ));};}(a.id))(cO.status);},cH)}).WithHole({$:2,$0:"tipo",$1:b2.Map(function(cO){return(function(cP){return function(cQ){return cP(bC.p(cQ));};}(a.id))(cO.tipo);},cH)}).WithHole({$:2,$0:"nivel",$1:b2.Map(function(cO){return a.String(cO.nivel);},cH)}).WithHole({$:2,$0:"referidos",$1:b2.Map(cy,cH)}).WithHole({$:2,$0:"descendientes",$1:b2.Map(cz,cH)}).WithHole({$:2,$0:"comision",$1:b2.Map(function(cO){return cA(cO.comision);},cH)}).WithHole({$:2,$0:"expandido",$1:cL})),cK.WithHole(b7.EventQ2(cK.k,"expandir",function(){return cK.i;},function(){cC(cG);}))).WithHole({$:2,$0:"seleccionado",$1:b2.Map(function(cO){return bP.Equals({$:1,$0:cG},cO)?"seleccionado":"";},bl.selAliadoIdOV().get_View())}),cJ.WithHole(b7.EventQ2(cJ.k,"seleccionar",function(){return cJ.i;},function(){cD(cG);}))),(cM=b7.CompleteHoles(cI.k,cI.h,[]),(cN=new b8.New(cM[1],bD.filaaliado(cM[0])),(cI.i=cN,cN)))).get_Doc();}cq=b9.Create$1(null);cr=b9.Create$1(null);return(cs=(ct=b1.ConvertSeqBy(function(cG){return cG.id;},function(cG){return function(cH){return cF(cG,cH);};},(cu=b2.Map(function(cG){return cG.aliados;},bl.modeloV().get_View()),b2.Map2(function(cG,cH){return cE(cH);},cq.get_View(),cu))),b6.Make().WithHole({$:0,$0:"tbody",$1:ct})),(cv=b7.CompleteHoles(cs.k,cs.h,[]),(cw=new b8.New(cv[1],bD.tablaaliados(cv[0])),(cs.i=cw,cw)))).get_Doc();};bx.aliado=function(){function cq(cr){var cs;cs=bI.tryPick(function(ct){return ct.$==1?{$:1,$0:ct.$0.$0}:null;},cr.contactos);return cs==null?"correo no encontrado!":cs.$0;}return bl.selAliadoIdDoc(function(cr){var cs,ct,cu,cv;return(cs=(ct=bx.calculo(),b6.Make().WithHole({$:2,$0:"nombre",$1:b2.Map(function(cw){return bg.nombre2(cw.datosPersonales);},cr)}).WithHole({$:2,$0:"status",$1:b2.Map(function(cw){return(function(cx){return function(cy){return cx(bC.p$3(cy));};}(a.id))(cw.status);},cr)}).WithHole({$:2,$0:"tipo",$1:b2.Map(function(cw){return(function(cx){return function(cy){return cx(bC.p(cy));};}(a.id))(cw.tipo);},cr)}).WithHole({$:2,$0:"contacto",$1:b2.Map(cq,cr)}).WithHole({$:0,$0:"calculo",$1:ct})),(cu=b7.CompleteHoles(cs.k,cs.h,[]),(cv=new b8.New(cu[1],bD.aliado(cu[0])),(cs.i=cv,cv)))).get_Doc();});};bx.calculo=function(){var cq,cr;cq=b2.Map(function(cs){return cs.premisas;},bl.modeloV().get_View());cr=b2.Map(function(cs){return cs.aliados;},bl.modeloV().get_View());b2.Map2(function(cs,ct){return bI.tryFind(function(cu){return bP.Equals(cu.id,cs);},ct);},b2.Map(function(cs){return cs.idAliado;},bl.modeloV().get_View()),cr);return bl.selAliadoIdDoc(function(cs){var ct,cu,cv,cw,cx;ct=b2.Map2(bg.comision,cq,cs);cu=b2.Map2(bg.premisas,cq,cs);return(cv=b6.Make().WithHole({$:2,$0:"referidos",$1:b2.Map(function(cy){return(function(cz){return function(cA){return cz(a.String(cA));};}(a.id))(cy.nReferidos);},cs)}).WithHole({$:2,$0:"refactivos",$1:b2.Map(function(cy){return(function(cz){return function(cA){return cz(a.String(cA));};}(a.id))(cy.nRefActivos);},cs)}).WithHole({$:2,$0:"comreferido",$1:b2.Map(function(cy){return(function(cz){return function(cA){return cz(a.String(cA));};}(a.id))(cy.nRefActivos);},cs)}).WithHole({$:2,$0:"descendientes",$1:b2.Map(function(cy){return(function(cz){return function(cA){return cz(a.String(cA));};}(a.id))(cy.nDescendientes);},cs)}).WithHole({$:2,$0:"desactivos",$1:b2.Map(function(cy){return(function(cz){return function(cA){return cz(a.String(cA));};}(a.id))(cy.nDescActivos);},cs)}).WithHole({$:2,$0:"comision",$1:b2.Map(function(cy){return bl.money(cy[0]+cy[1]);},ct)}).WithHole({$:2,$0:"comreferido",$1:b2.Map(function(cy){return bl.money(cy[0]);},ct)}).WithHole({$:2,$0:"comdescendiente",$1:b2.Map(function(cy){return bl.money(cy[1]);},ct)}).WithHole({$:2,$0:"porreferido",$1:b2.Map(function(cy){return bl.money(cy[0]);},cu)}).WithHole({$:2,$0:"pordescendiente",$1:b2.Map(function(cy){return bl.money(cy[1]);},cu)}),(cw=b7.CompleteHoles(cv.k,cv.h,[]),(cx=new b8.New(cw[1],bD.calculo(cw[0])),(cv.i=cx,cx)))).get_Doc();});};bl.refrescarData=function(){var cq;bk.iterA((cq=H.asyncResultM(),cq.Run(cq.Delay(function(){return cq.Bind$4((new cb.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.leerDataModelo:-200611402",[bl.refAliadoIdOV().Get()]),function(cr){bl.modeloV().Set(cr);return cq.Zero();});}))));};bl.selAliadoIdDoc=function(cq){var cr;return b1.BindView(a.id,(cr=b2.get_Do(),b2.Bind(function(cs){return b2.Bind(function(ct){var cu,cv;cu=ct==null?null:(cv=ct.$0,bI.tryFind(function(cw){return bP.Equals(cw.id,cv);},cs.aliados));return b2.Const(cu!=null&&cu.$==1?cq(b2.Const(cu.$0)):b1.get_Empty());},bl.selAliadoIdOV().get_View());},bl.modeloV().get_View())));};bl.aliadoW=function(){bA.$cctor();return bA.aliadoW;};bl.aliadoIdDoc=function(cq){var cr;return b1.BindView(a.id,(cr=b2.get_Do(),b2.Bind(function(cs){var ct,cu;ct=cs.idAliado;cu=bI.tryFind(function(cv){return bP.Equals(cv.id,ct);},cs.aliados);return b2.Const(cu!=null&&cu.$==1?cq(b2.Const(cu.$0)):b1.get_Empty());},bl.modeloV().get_View())));};bl.contentVar=function(){bA.$cctor();return bA.contentVar;};bl.endPointV=function(){bA.$cctor();return bA.endPointV;};bl.money=function(cq){return"$"+bl.separate(a.String(cq),bJ.T.Empty);};bl.separate=function(cq,cr){var cs;while(true)if(cq==="")return(function(ct){return function(cu){return bH.concat(ct,cu);};}(","))(cr);else{cs=cq;cq=c["String.Left$1"](cs,-3);cr=new bJ.T({$:1,$0:c["String.Right$1"](cs,3),$1:cr});}};bl.refAliadoIdOV=function(){bA.$cctor();return bA.refAliadoIdOV;};bl.selAliadoIdOV=function(){bA.$cctor();return bA.selAliadoIdOV;};bl.modeloV=function(){bA.$cctor();return bA.modeloV;};by.mainProgramLoggedOff=function(cq){bl.refAliadoIdOV().Set(cq);by.mainProgram();};by.mainProgram=function(){var cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE;cq=b9.Create$1("Prozper");cr=b2.Map(function(cF){return by.mesToString(cF.periodoActual);},bl.modeloV().get_View());cs=b2.Map(function(cF){return a.String(cF.anoActual);},bl.modeloV().get_View());ct=b2.Map(function(cF){return bg.nombre2(cF.datosPersonales);},bl.aliadoW());cu=b2.Map(function(cF){return a.String(cF.status);},bl.aliadoW());cv=b2.Map(function(cF){return a.String(cF.comision);},bl.aliadoW());cw=b2.Map(function(cF){return a.String(cF.nReferidos);},bl.aliadoW());ce.addPlugIn(cf.New("Prozper",[ce.newVar("title",cq),ce.newVar("contentVar",bl.contentVar())],[ce.newViw("mesActual",cr),ce.newViw("anoActual",cs),ce.newViw("aliado",ct),ce.newViw("status",cu),ce.newViw("comision",cv),ce.newViw("datos",cw)],[ce.newDoc("Aliados",cg.Create(bw.aliados)),ce.newDoc("Aliado",cg.Create(bx.aliado)),ce.newDoc("Calculo",cg.Create(bx.calculo)),ce.newDoc("FormaRegistro",cg.Create(bs.formaDoc)),ce.newDoc("FormaDatos",cg.Create(bt.formaDoc)),ce.newDoc("FormaContactos",cg.Create(bv.formaDoc)),ce.newDoc("contentDoc",cg.Create(by.getContentDoc))],[ce.newAct("Logout",function(){by.logout();})],[]));ch.addLayout((cx=(cy=self.document.getElementById("GlobalLayout"),bP.Equals(cy,null)?"\r\n                    menuEditor       horizontal  65       menuLogo                  editorMessages\r\n                    double           horizontal  0-50-100 AppFramework.AppFwkClient menuEditor\r\n                    menuLogo         vertical    350      logo                      menu\r\n                    logo             span       \"margin:0; color:gray; font-size: 55px; font-weight:530\" \"F# Station\"\r\n                    editorMessages   horizontal 10-83-100 editorButtons             messages\r\n                    messages         vertical   0-50-100  messagesLeft              messagesRight\r\n                    editorButtons    vertical -200 snippetsSnippet buttons\r\n                    buttons div      \"overflow: hidden; display: grid; grid-template-columns: 100%; grid-template-rows: repeat(15, calc(100% / 15)); bxackground-color: #eee; box-sizing: border-box; padding : 5px; grid-gap: 5px; margin-right: 21px\" btnSaveAs none x btnAddSnippet btnDeleteSnippet btnIndentIn btnIndentOut none x btnRunFS none x btnAbortFsi\r\n                    snippetsSnippet  vertical   0-20-100  snippets                  editorProperties\r\n                    snippets         horizontal 20        \"${FSharpStation.CurrentPath}\" FSharpStation.Snippets\r\n                    editorProperties vertical   0-100-100 snippet                   properties\r\n                    properties       div        \"\"        FSharpStation.Properties\r\n                    snippet          horizontal 35        Name                      FSharpStation.editor\r\n                    menu             span  \"\" btnLoad btnImport\r\n        \r\n                    btnSaveAs        button FSharpStation.SaveAs         \"class=btn ${FSharpStation.SaveNeeded}\" \"Save as...    \"\r\n                    btnAddDimension  button RuleEditor.AddDimension      \"\"                  \"Add Dimension \"\r\n                    btnDeleteSnippet button FSharpStation.RemoveSnippet  \"\"                  \"Delete Snippet\"\r\n                    btnIndentIn      button FSharpStation.IndentIn       \"\"                  \"Indent In  >> \"\r\n                    btnIndentOut     button FSharpStation.IndentOut      \"\"                  \"Indent Out << \"\r\n                    btnRunFS         button FSharpStation.RunFS          \"\"                  \"Run F#        \"\r\n                    btnAbortFsi      button FSharpStation.AbortFsi       \"\"                  \"Abort Fsi     \"\r\n        \r\n                    messagesLeft     wcomp-tabstrip                      \"\"                  Output FsCode\r\n                    messagesRight    wcomp-tabstrip                      \"\"                  Parser\r\n        \r\n                    Output           textarea  FSharpStation.Output      \"tabname=Output ; placeholder=Output messages ; spellcheck=false\" \r\n                    FsCode           textarea  FSharpStation.FsCode      \"tabname=F# Code; placeholder=F# Code         ; spellcheck=false\" \r\n                    Parser           textarea  FSharpStation.Parser      \"tabname=Parser ; placeholder=Parser messages; dblclick=${FSharpStation.JumpTo} ; spellcheck=false\" \r\n                    Name             Doc       InputLabel                \"\"     \"Name:\"        FSharpStation.SnippetName\r\n                    btnLoad          Doc       InputFile                 \"\"     \"Load File...\" FSharpStation.LoadFile  FileName\r\n                    btnImport        Doc       InputFile                 \"\"     \"Import...\"    FSharpStation.Import    \"\"\r\n                    FileName         div                                 \"class=form-control\"  FSharpStation.fileName\r\n                   ":cy.textContent),ch.newLyt(by.layoutName(),cx)));cz=(cA=null,(cB=by.layoutName(),cA==null?cB:cA.$0));ce.mainDocV().Set(cz);bl.refrescarData();cC=(cD=ce.getMainDoc().f(),b6.Make().WithHole({$:0,$0:"maincontent",$1:cD}));cE=b7.CompleteHoles(cC.k,cC.h,[]);cC.i=new b8.New(cE[1],cj.RunFullDocTemplate(cE[0]));b2.Sink(function(cF){self.document.title=cF;},cq.get_View());};by.getContentDoc=function(){return b1.EmbedView(b2.Map(function(cq){var cr,cs,ct;cr=(cs=(ct=((ch.splitName())("Prozper"))(cq),ce.tryGetDoc(ct[0],ct[1])),cs==null?null:{$:1,$0:ch.getDocFinal(bJ.T.Empty,cs.$0)});return cr==null?ch.errDoc((function(cu){return function(cv){return cu("Doc not found "+bG.toSafe(cv));};}(a.id))(cq)):cr.$0;},bl.contentVar().get_View()));};by.logout=function(){var cq;bk.iterA((cq=H.asyncResultM(),cq.Run(cq.Delay(function(){return cq.Bind$4((new cb.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.logoutUser:933851348",[]),function(){self.location.replace("/");return cq.Zero();});}))));};by.mesToString=function(cq){return cq===1?"Ene":cq===2?"Feb":cq===3?"Mar":cq===4?"Abr":cq===5?"May":cq===6?"Jun":cq===7?"Jul":cq===8?"Ago":cq===9?"Sep":cq===10?"Oct":cq===11?"Nov":cq===12?"Dic":"---";};by.scrollToBottom=function(cq,cr){var cs;bL.Start((cs=null,bL.Delay(function(){return bL.Bind(bL.Sleep(100),function(){cq.scrollTop=cq.scrollHeight;return bL.Zero();});})),null);};by.layoutName=function(){bA.$cctor();return bA.layoutName;};bz.content$6081$35=function(){return function(cq){var cr;if(cq.Vars.Hole("username").Get()!==""&&cq.Vars.Hole("password").Get()!==""){bk.iterA((cr=H.asyncResultM(),cr.Run(cr.Delay(function(){return cr.Bind$4((new cb.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.loginUser:-1419667674",[cq.Vars.Hole("username").Get(),cq.Vars.Hole("password").Get()]),function(){self.location.reload();return cr.Zero();});}))));}};};bz.content$6071$62=function(){by.mainProgram();return b1.TextNode("Initialized");};bz.content$6062$58=function(cq){by.mainProgramLoggedOff(cq);return b1.TextNode("Initialized");};T.premisasCalculo=function(){bA.$cctor();return bA.premisasCalculo;};bA.$cctor=function(){var cq,cr,cs,ct,cu,cv,cw;bA.$cctor=a.ignore;function cx(cC){return bH.concat("\n",cC);}function cy(cC){return I.splitByChar$1("\n",cC);}function cz(cC){var cD,cE;return bR.array(cC,{$:1,$0:0},{$:1,$0:(cD=0,(cE=bK.length(cC)-2,bP.Compare(cD,cE)===1?cD:cE))});}function cA(cC){return bH.concat("\n",cC);}function cB(cC){return cC+"T00:00:00";}bA.rtn=function(cC){return[cC];};bA.result=new m.New();bA.result$1=l.result();bA.eff=new t.New();bA.resultM=new C.New();bA.asyncResultM=new G.New();bA.unindentStr=function(cC){return cx(I.unindent$1(cC));};bA.skipLastLine=(cq=function(cC){return cz(cy(cC));},function(cC){return cA(cq(cC));});bA.parseDateO2=(cr=L.tryParseWith$1(function(cC){var cD,cE;cD=0;return[(cE=ck.TryParse(cC),cE!=null&&cE.$==1&&(cD=cE.$0,true)),cD];}),function(cC){return cr(cB(cC));});bA.parseDateO=L.tryParseWith$1(function(cC){var cD,cE;cD=0;return[(cE=ck.TryParse(cC),cE!=null&&cE.$==1&&(cD=cE.$0,true)),cD];});bA.parseIntO=L.tryParseWith$1(function(cC){var cD;cD=0;return[cl.TryParseInt32(cC,{get:function(){return cD;},set:function(cE){cD=cE;}}),cD];});bA.parseSingleO=L.tryParseWith$1(function(cC){var cD,cE;cD=0;return[(cE=a.Number(cC),a.isNaN(cE)?false:(cD=cE,true)),cD];});bA.parseDoubleO=L.tryParseWith$1(function(cC){var cD,cE;cD=0;return[(cE=a.Number(cC),a.isNaN(cE)?false:(cD=cE,true)),cD];});bA.parseGuidO=L.tryParseWith$1(function(cC){var cD;cD=null;return[b$.TryParse(cC,{get:function(){return cD;},set:function(cE){cD=cE;}}),cD];});bA["|Date|_|"]=L.parseDateO$1();bA["|Int|_|"]=L.parseIntO$1();bA["|Single|_|"]=L.parseSingleO$1();bA["|Double|_|"]=L.parseDoubleO$1();bA["|Guid|_|"]=L.parseGuidO$1();bA.serString=[M.toJsonString,function(cC){return cC.tryString();}];bA.serFloat=[function(cC){return(function(cD){return function(cE){return cD(bG.prettyPrint(cE));};}(a.id))(cC);},function(cC){return cC.tryFloat();}];bA.serInt=[function(cC){return(function(cD){return function(cE){return cD(bG.prettyPrint(cE));};}(a.id))(cC);},function(cC){return cC.tryInt();}];bA.serBool=[function(cC){return(function(cD){return function(cE){return cD(bG.prettyPrint(cE));};}(a.id))(cC);},function(cC){return cC.tryBool();}];bA.rootdir="..\\website";bA.TemplatesFileName="..\\website"+"\\Templates.html";bA.LoginFileName="..\\website"+"\\Login.html";((function(cC){return function(cD){return cC(bG.toSafe(cD));};}(function(cC){bQ.log(cC);}))("..\\website\\Templates.html"));bA.premisasCalculo=be.New(15,25,25,0,75,31,15,22);bA.empty=bd.New({$:0,$0:""},null,$.New(null,"","","","",W.USA,_.Masculino,(new a.Date(2000,1-1,1)).getTime()),[],[],[],[],[],false,_1.Inactivo,V.Regular,(new a.Date(2000,1-1,1)).getTime(),(new a.Date(2000,1-1,1)).getTime(),0,0,0,0,0,0);bA.modeloV=b9.Create$1(bf.New({$:0,$0:":"},[],(cs=cm.now(),(new cm(cs)).getFullYear()),(ct=cm.now(),(new cm(ct)).getMonth()+1),T.premisasCalculo(),-2));bA.selAliadoIdOV=b9.Create$1(null);bA.refAliadoIdOV=b9.Create$1(null);bA.endPointV=b9.Create$1(bm.DefaultEP);bA.contentVar=b9.Create$1("ProzperLyt.mainContent");cu=bB.r();cn.InstallHashInto(bl.endPointV(),bm.DefaultEP,cu);b2.Sink(function(cC){var cD;cD=bP.Equals(bl.refAliadoIdOV().Get(),null)?cC:"ProzperLyt.cntFormaRegistro";bl.contentVar().Get()!==cD?bl.contentVar().Set(cD):void 0;},b2.Map(function(cC){return cC.$==1?cC.$0:"ProzperLyt.mainContent";},bl.endPointV().get_View()));b2.Sink(function(cC){if(!bP.Equals(bl.endPointV().Get(),cC))bl.endPointV().Set(cC);},b2.Map(function(cC){return cC==="ProzperLyt.mainContent"?bm.DefaultEP:{$:1,$0:cC};},bl.contentVar().get_View()));bA.aliadoW=(cv=b2.get_Do(),b2.Bind(function(cC){var cD,cE;cD=cC.idAliado;cE=bI.tryFind(function(cF){return bP.Equals(cF.id,cD);},cC.aliados);return b2.Const(cE!=null&&cE.$==1?cE.$0:bg.empty());},bl.modeloV().get_View()));bA.paises=b9.Create$1([]);bA.estados=b9.Create$1([]);bA.tiposDir=b9.Create$1([]);bA.tiposTel=b9.Create$1([]);bA.generos=b9.Create$1([]);bL.Start((cw=null,bL.Delay(function(){return bL.Bind((new cb.New()).Async("StackOverflow:FsRoot.StackOverflow+Rpc.obtenerUnions:1415050208",[]),function(cC){bn.paises().Set(cC[0]);bn.estados().Set(cC[1]);bn.tiposDir().Set(cC[2]);bn.tiposTel().Set(cC[3]);bn.generos().Set(cC[4]);return bL.Zero();});})),null);bA.ftel=[function(cC){return cC.$==2?{$:1,$0:cC.$0}:null;},function(cC){return{$:2,$0:cC};}];bA.fcor=[function(cC){return cC.$==1?{$:1,$0:cC.$0}:null;},function(cC){return{$:1,$0:cC};}];bA.fdir=[function(cC){return cC.$==0?{$:1,$0:cC.$0}:null;},function(cC){return{$:0,$0:cC};}];bA.layoutName="ProzperLyt";};bB.r=function(){return cp.JSUnion(void 0,[[null,[[null,[]]],[]],[null,[[null,["Content"]]],[cp.rString()]]]);};bC.p=function(cq){return cq.$==1?"Regular":"Master";};bC.p$1=function(cq){return cq.$==3?"OtroP "+bG.prettyPrint(cq.$0):cq.$==2?"Argentina":cq.$==1?"Venezuela":"USA";};bC.p$2=function(cq){return cq.$==2?"OtroS "+bG.prettyPrint(cq.$0):cq.$==1?"Florida":"Texas";};bC.p$3=function(cq){return cq.$==1?"Inactivo":"Activo";};bC.p$4=function(cq){return cq.$==2?"Otro "+bG.prettyPrint(cq.$0):cq.$==1?"PagoComision":"PagoAfiliacion";};bC.p$5=function(cq){return cq.$==3?"Otro "+bG.prettyPrint(cq.$0):cq.$==2?"ServicioPostal":cq.$==1?"Oficina":"Habitacion";};bC.p$6=function(cq){return cq.$==3?"Voip":cq.$==2?"Habitacion":cq.$==1?"Oficina":"Movil";};bC.p$7=function(cq){return"IdAliado "+bG.prettyPrint(cq.$0);};bD.telefono=function(cq){cj.LoadLocalTemplates("templates");return cq?cj.NamedTemplate("templates",{$:1,$0:"telefono"},cq):void 0;};bD.correo=function(cq){cj.LoadLocalTemplates("templates");return cq?cj.NamedTemplate("templates",{$:1,$0:"correo"},cq):void 0;};bD.direccion=function(cq){cj.LoadLocalTemplates("templates");return cq?cj.NamedTemplate("templates",{$:1,$0:"direccion"},cq):void 0;};bD.datospersonales=function(cq){cj.LoadLocalTemplates("templates");return cq?cj.NamedTemplate("templates",{$:1,$0:"datospersonales"},cq):void 0;};bC.p$8=function(cq){return cq.$==2?"Empresa":cq.$==1?"Femenino":"Masculino";};bC.p$9=function(cq){return cq.$==2?"Mensaje "+bG.prettyPrint(cq.$0):cq.$==1?"NuevoRegistro "+bG.prettyPrint(cq.$0):"ROk";};bD.formaregistro=function(cq){cj.LoadLocalTemplates("templates");return cq?cj.NamedTemplate("templates",{$:1,$0:"formaregistro"},cq):void 0;};bD.formadatospersonales=function(cq){cj.LoadLocalTemplates("templates");return cq?cj.NamedTemplate("templates",{$:1,$0:"formadatospersonales"},cq):void 0;};bD.formagenerica=function(cq){cj.LoadLocalTemplates("templates");return cq?cj.NamedTemplate("templates",{$:1,$0:"formagenerica"},cq):void 0;};bD.formacontactos=function(cq){cj.LoadLocalTemplates("templates");return cq?cj.NamedTemplate("templates",{$:1,$0:"formacontactos"},cq):void 0;};bD.tablaaliados=function(cq){cj.LoadLocalTemplates("templates");return cq?cj.NamedTemplate("templates",{$:1,$0:"tablaaliados"},cq):void 0;};bD.filaaliado=function(cq){cj.LoadLocalTemplates("templates");return cq?cj.NamedTemplate("templates",{$:1,$0:"filaaliado"},cq):void 0;};bD.aliado=function(cq){cj.LoadLocalTemplates("templates");return cq?cj.NamedTemplate("templates",{$:1,$0:"aliado"},cq):void 0;};bD.calculo=function(cq){cj.LoadLocalTemplates("templates");return cq?cj.NamedTemplate("templates",{$:1,$0:"calculo"},cq):void 0;};}());

//# sourceMappingURL=StackOverflow.min.map