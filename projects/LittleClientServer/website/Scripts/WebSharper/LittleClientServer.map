{
"version": 3,
"sourceRoot": "Source",
"sources": ["LittleClientServer/LittleClientServer.fs"],
"sourcesContent": ["////-d:FSharpStation1546448143305 -d:WEBSHARPER\n//#I @\"..\\packages\\WebSharper\\lib\\net461\"\n//#I @\"..\\packages\\WebSharper.UI\\lib\\net461\"\n//#r @\"..\\packages\\WebSharper\\lib\\net461\\WebSharper.Core.dll\"\n//#r @\"..\\packages\\WebSharper\\lib\\net461\\WebSharper.Core.JavaScript.dll\"\n//#r @\"..\\packages\\WebSharper\\lib\\net461\\WebSharper.Collections.dll\"\n//#r @\"..\\packages\\WebSharper\\lib\\net461\\WebSharper.InterfaceGenerator.dll\"\n//#r @\"..\\packages\\WebSharper\\lib\\net461\\WebSharper.Main.dll\"\n//#r @\"..\\packages\\WebSharper\\lib\\net461\\WebSharper.JQuery.dll\"\n//#r @\"..\\packages\\WebSharper\\lib\\net461\\WebSharper.JavaScript.dll\"\n//#r @\"..\\packages\\WebSharper\\lib\\net461\\WebSharper.Web.dll\"\n//#r @\"..\\packages\\WebSharper\\lib\\net461\\WebSharper.Sitelets.dll\"\n//#r @\"..\\packages\\WebSharper\\lib\\net461\\WebSharper.Control.dll\"\n//#r @\"..\\packages\\WebSharper.UI\\lib\\net461\\HtmlAgilityPack.dll\"\n//#r @\"..\\packages\\WebSharper.UI\\lib\\net461\\WebSharper.UI.dll\"\n//#r @\"..\\packages\\WebSharper.UI\\lib\\net461\\WebSharper.UI.Templating.dll\"\n//#r @\"..\\packages\\WebSharper.UI\\lib\\net461\\WebSharper.UI.Templating.Runtime.dll\"\n//#r @\"..\\packages\\WebSharper.UI\\lib\\net461\\WebSharper.UI.Templating.Common.dll\"\n//#r @\"..\\packages\\Owin\\lib\\net40\\Owin.dll\"\n//#r @\"..\\packages\\Microsoft.Owin\\lib\\net451\\Microsoft.Owin.dll\"\n//#r @\"..\\packages\\Microsoft.Owin.Hosting\\lib\\net451\\Microsoft.Owin.Hosting.dll\"\n//#r @\"..\\packages\\Microsoft.Owin.Host.HttpListener\\lib\\net451\\Microsoft.Owin.Host.HttpListener.dll\"\n//#r @\"..\\packages\\WebSharper.Owin\\lib\\net461\\WebSharper.Owin.dll\"\n//#r @\"..\\packages\\WebSharper.Owin\\lib\\net461\\HttpMultipartParser.dll\"\n//#r @\"..\\packages\\Microsoft.Owin.StaticFiles\\lib\\net451\\Microsoft.Owin.StaticFiles.dll\"\n//#r @\"..\\packages\\Microsoft.Owin.FileSystems\\lib\\net451\\Microsoft.Owin.FileSystems.dll\"\n/// Root namespace for all code\n//#define FSharpStation1546448143305\n#if INTERACTIVE\nmodule FsRoot   =\n#else\nnamespace FsRoot\n#endif\n\n    #if WEBSHARPER\n    //#define NOFRAMEWORK --noframework\n    //#I @\"C:\\Program Files (x86)\\Reference Assemblies\\Microsoft\\Framework\\.NETFramework\\v4.6.1\"\n    //#I @\"C:\\Program Files (x86)\\Reference Assemblies\\Microsoft\\Framework\\.NETFramework\\v4.6.1\\Facades\"\n    //#r @\"C:\\Program Files (x86)\\Reference Assemblies\\Microsoft\\Framework\\.NETFramework\\v4.6.1\\mscorlib.dll\"\n    //#r @\"C:\\Program Files (x86)\\Reference Assemblies\\Microsoft\\Framework\\.NETFramework\\v4.6.1\\System.Core.dll\"\n    \n    //#I @\"..\\packages\\WebSharper\\lib\\net461\"\n    //#I @\"..\\packages\\WebSharper.UI\\lib\\net461\"\n    \n    //#r @\"..\\packages\\WebSharper\\lib\\net461\\WebSharper.Core.dll\"\n    //#r @\"..\\packages\\WebSharper\\lib\\net461\\WebSharper.Core.JavaScript.dll\"\n    //#r @\"..\\packages\\WebSharper\\lib\\net461\\WebSharper.Collections.dll\"\n    //#r @\"..\\packages\\WebSharper\\lib\\net461\\WebSharper.InterfaceGenerator.dll\"\n    //#r @\"..\\packages\\WebSharper\\lib\\net461\\WebSharper.Main.dll\"\n    //#r @\"..\\packages\\WebSharper\\lib\\net461\\WebSharper.JQuery.dll\"\n    //#r @\"..\\packages\\WebSharper\\lib\\net461\\WebSharper.JavaScript.dll\"\n    //#r @\"..\\packages\\WebSharper\\lib\\net461\\WebSharper.Web.dll\"\n    //#r @\"..\\packages\\WebSharper\\lib\\net461\\WebSharper.Sitelets.dll\"\n    //#r @\"..\\packages\\WebSharper\\lib\\net461\\WebSharper.Control.dll\"\n    //#r @\"..\\packages\\WebSharper.UI\\lib\\net461\\HtmlAgilityPack.dll\"\n    //#r @\"..\\packages\\WebSharper.UI\\lib\\net461\\WebSharper.UI.dll\"\n    //#r @\"..\\packages\\WebSharper.UI\\lib\\net461\\WebSharper.UI.Templating.dll\"\n    //#r @\"..\\packages\\WebSharper.UI\\lib\\net461\\WebSharper.UI.Templating.Runtime.dll\"\n    //#r @\"..\\packages\\WebSharper.UI\\lib\\net461\\WebSharper.UI.Templating.Common.dll\"\n    \n    open WebSharper\n    open WebSharper.JavaScript\n    open WebSharper.UI\n    open WebSharper.UI.Client\n    type on   = WebSharper.UI.Html.on\n    type attr = WebSharper.UI.Html.attr\n    #else\n    /// dummy WebSharper definition in order to avoid having to use #if WEBSHARPER all the time\n    module WebSharper =\n        type RpcAttribute() =\n            let a = 1\n        type JavaScriptAttribute(translate:bool) =\n            let a = 1\n            new() = JavaScriptAttribute true\n        type InlineAttribute(code:string) =\n            let a = 1\n            new() = InlineAttribute \"\"\n        type DirectAttribute(code:string) =\n            let a = 1\n    \n    open WebSharper\n    \n    #endif\n    \n        //#define NOFRAMEWORK --noframework\n        //#define WEBSHARPER\n        module TestingMixed =\n            module ServerFunctions =\n            \n                let mutable ServerState = (\"Zero\", 0)\n            \n                let [< Rpc >] addToState n = async {\n                    let state, counter = ServerState\n                    let newCounter = counter + n\n                    let newState   = if newCounter = 0 then \"Zero\" else \"NonZero\"\n                    ServerState <- newState, newCounter\n                    return newState\n                }\n            \n            [< JavaScript >]\n            module ClientFunctions =\n                open WebSharper\n                open WebSharper.UI\n                open WebSharper.UI.Html\n                open ServerFunctions\n            \n                let zeroState = Var.Create \"do not know\"\n            \n                let clientDoc() = \n                    div [] [\n                        h1 [] [ text \"State of zero on server:\" ]\n                        h2 [] [ text zeroState.V ]\n                        Doc.Button \"increment\" [] (fun () -> async { let! state = addToState  1\n                                                                     zeroState.Set state \n                                                                    } |> Async.Start)\n                        Doc.Button \"decrement\" [] (fun () -> async { let! state = addToState -1\n                                                                     zeroState.Set state \n                                                                    } |> Async.Start)\n                    ]\n            \n            \n            //#r @\"..\\packages\\Owin\\lib\\net40\\Owin.dll\"\n            //#r @\"..\\packages\\Microsoft.Owin\\lib\\net451\\Microsoft.Owin.dll\"\n            //#r @\"..\\packages\\Microsoft.Owin.Hosting\\lib\\net451\\Microsoft.Owin.Hosting.dll\"\n            //#r @\"..\\packages\\Microsoft.Owin.Host.HttpListener\\lib\\net451\\Microsoft.Owin.Host.HttpListener.dll\"\n            //#r @\"..\\packages\\WebSharper.Owin\\lib\\net461\\WebSharper.Owin.dll\"\n            //#r @\"..\\packages\\WebSharper.Owin\\lib\\net461\\HttpMultipartParser.dll\"\n            //#r @\"..\\packages\\Microsoft.Owin.StaticFiles\\lib\\net451\\Microsoft.Owin.StaticFiles.dll\"\n            //#r @\"..\\packages\\Microsoft.Owin.FileSystems\\lib\\net451\\Microsoft.Owin.FileSystems.dll\"\n            \n            module Server =\n                open global.Owin\n                open Microsoft.Owin.Hosting\n                open Microsoft.Owin.StaticFiles\n                open Microsoft.Owin.FileSystems\n                open WebSharper.Owin\n                open WebSharper.UI.Server\n                open WebSharper.UI.Html\n                \n                type EndPointServer = \n                    | [< EndPoint \"/\" >] Hello\n                    | About\n                \n                let url = \"http://localhost:9006/\"\n                let rootdir = @\"..\\website\"\n                let site()  = WebSharper.Application.MultiPage(fun context (s:EndPointServer) -> \n                                printfn \"Serving page: %A\" s\n                                Content.Page(\n                                    Title= ( sprintf \"Test %A\" s)\n                                  , Body = [ h1 [] [ text <| sprintf \"%A\" s ] \n                                             Html.client <@  ClientFunctions.clientDoc() @> ]) \n                              )                      \n                let Main args =\n                    use server = WebApp.Start(url, fun appB ->\n                        appB.UseWebSharper(WebSharperOptions(ServerRootDirectory = rootdir\n                                                           , Sitelet             = (Some <| site())\n                                                           , BinDirectory        = \".\"\n                                                           , Debug               = true))\n                            .UseStaticFiles(StaticFileOptions(FileSystem = PhysicalFileSystem(rootdir)))\n                        |> ignore)\n                    stdout.WriteLine(\"Starting, hit enter to finish\")\n                    stdin.ReadLine() |> ignore\n                    0\n                Main()\n            "],
"names": [],
"mappings": ";;;;;;;;;;;;;;;;;;S,AA6GoB,sBACI,qBAAQ,aAAK,0BAA0B,C,AAAA,E,AAAE,C,AACzC,qBAAQ,aAAK,2BAAS,Y,AAAE,E,AAAE,C,AAC1B,WAAW,WAAW,I,AAAK;;;GAAU,mBAEY,EAFZ,IAAK,C,AAAL,kBAAQ;;WAAA,iBAAa,wHAAY,CAAC,E,AAAA,C,AAC1B;;KAAA,2BAAS,K,AAAK,CAAK,E;;K,AAAA,C,AADO,C;I,AAAA,C,AAA7B,E,AAEO,IAAW,C,AAAA,C;G,AAAA,C,AAAC,C,AAC7D,WAAW,WAAW,I,AAAK;;;GAAU,mBAEY,EAFZ,IAAK,C,AAAL,kBAAQ;;WAAA,iBAAa,wHAAW,EAAE,E,AAAA,C,AAC1B;;KAAA,2BAAS,K,AAAK,CAAK,E;;K,AAAA,C,AADO,C;I,AAAA,C,AAA7B,E,AAEO,IAAW,C,AAAA,C;G,AAAA,C,AAAC,E,AAChE,C;;;;;;;;;;iB,AAZW,eAAW,aAAa,C,AAAA,C;;;"
}
