(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A;a=self;b=a.WebSharper;c=b&&b.Obj;d=b.UI=b.UI||{};e=d.Templating=d.Templating||{};f=e.Runtime=e.Runtime||{};g=f.Server=f.Server||{};h=g.TemplateInitializer=g.TemplateInitializer||{};i=g.TemplateInstances=g.TemplateInstances||{};j=g.Handler=g.Handler||{};k=g.ProviderBuilder=g.ProviderBuilder||{};l=g.TemplateInstance=g.TemplateInstance||{};m=f.Client=f.Client||{};n=a.IntelliFactory;o=n&&n.Runtime;p=b&&b.Collections;q=p&&p.Dictionary;r=b&&b.Arrays;s=d&&d.Var$1;t=b&&b.Operators;u=d&&d.Doc;v=b&&b.Activator;w=p&&p.HashSet;x=b&&b.Enumerator;y=b&&b.Seq;z=a.System;A=z&&z.Guid;h=g.TemplateInitializer=o.Class({get_Vars:function(){return this.vars;},get_Id:function(){return this.id;},get_Instance:function(){var B,C,D,E,F,G,H;if(this.hasOwnProperty("instance"))return this.instance;else{C=new q.New$5();D=this.vars;for(E=0,F=D.length-1;E<=F;E++){G=r.get(D,E);H=G[1];C.set_Item(G[0],H===0?s.Create$1(""):H===1?s.Create$1(0):H===2?s.Create$1(false):t.FailWith("Invalid value type"));}B=new l.New({$:0,$0:C},u.get_Empty());this.instance=B;return B;}}},c,h);h.New=o.Ctor(function(B,C){c.New.call(this);this.id=B;this.vars=C;},h);i=g.TemplateInstances=o.Class({},c,i);i.GetInstance=function(B){return(v.Instances())[B].get_Instance();};i.New=o.Ctor(function(){c.New.call(this);},i);j.CompleteHoles$138$20=function(B,C){return function(D){return function(){return i.GetInstance(B).Hole(C).Set(D.value);};};};j.EventQ2$114$42=function(B,C){return function(D){return function(E){return C({Vars:i.GetInstance(B),Target:D,Event:E});};};};j.CompleteHoles=function(B,C,D){var F,G,H,I,J,K;function E(L,M){var N,O,P,Q;return G.Contains(L)?null:(N=M===0?(O=s.Create$1(""),[{$:8,$0:L,$1:O},O]):M===1?(P=s.Create$1(0),[{$:13,$0:L,$1:P},P]):M===2?(Q=s.Create$1(false),[{$:9,$0:L,$1:Q},Q]):t.FailWith("Invalid value type"),(F.set_Item(L,N[1]),{$:1,$0:N[0]}));}F=new q.New$5();G=new w.New$3();H=x.Get(C);try{while(H.MoveNext()){I=H.Current();(I.$==8?(J=[I.$0,m.Box(I.$1)],true):I.$==11?(J=[I.$0,m.Box(I.$1)],true):I.$==10?(J=[I.$0,m.Box(I.$1)],true):I.$==13?(J=[I.$0,m.Box(I.$1)],true):I.$==12?(J=[I.$0,m.Box(I.$1)],true):I.$==9&&(J=[I.$0,m.Box(I.$1)],true))?(K=J[0],G.Add(K),F.set_Item(K,J[1])):void 0;}}finally{if(typeof H=="object"&&"Dispose"in H)H.Dispose();}return[y.append(C,r.choose(function(L){return E(L[0],L[1]);},D)),{$:0,$0:F}];};j.EventQ2=function(B,C,D,E){return{$:5,$0:C,$1:true,$2:function(F){return function(G){return E({Vars:D(),Target:F,Event:G});};}};};k=g.ProviderBuilder=o.Class({WithHole:function(B){this.h.push(B);return this;}},null,k);k.Make=function(){var B;return k.New(null,(B=A.NewGuid(),a.String(B)),[]);};k.New=function(B,C,D){return new k({i:B,k:C,h:D});};l=g.TemplateInstance=o.Class({Hole:function(B){return this.allVars.get_Item(B);},get_Doc:function(){return this.doc;}},c,l);l.New=o.Ctor(function(B,C){c.New.call(this);this.doc=C;this.allVars=B.$==0?B.$0:t.FailWith("Should not happen");},l);m.AfterRenderQ2$58$26=function(B){return function(){B();};};m.Box=a.id;}());
