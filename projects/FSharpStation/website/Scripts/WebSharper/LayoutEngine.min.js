(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY;a=self;b=a.FsRootDll=a.FsRootDll||{};c=b.Library=b.Library||{};d=c.StringId=c.StringId||{};e=c.GuidId=c.GuidId||{};f=c.Dict=c.Dict||{};g=a.WebSharper;h=g&&g.Obj;i=c.Monads=c.Monads||{};j=i.State=i.State||{};k=j.CEBuilder=j.CEBuilder||{};l=j.Operators=j.Operators||{};m=i.Result=i.Result||{};n=m.Builder=m.Builder||{};o=m.Operators=m.Operators||{};p=i.Depend=i.Depend||{};q=p.DependBuilder=p.DependBuilder||{};r=p.Operators=p.Operators||{};s=c.String=c.String||{};t=c.ParseO=c.ParseO||{};u=b.LibraryJS=b.LibraryJS||{};v=u.View=u.View||{};w=u.Var=u.Var||{};x=u.ListModel=u.ListModel||{};y=u.REGEX=u.REGEX||{};z=u.Hoverable=u.Hoverable||{};A=z.Hoverable=z.Hoverable||{};B=u.ResizeObserver=u.ResizeObserver||{};C=u.WebComponent=u.WebComponent||{};D=C.WcTabStrip=C.WcTabStrip||{};E=D.WcTabStripT=D.WcTabStripT||{};F=C.WcSplitter=C.WcSplitter||{};G=F.WcSplitterT=F.WcSplitterT||{};H=u.AppFrameworkTemplate=u.AppFrameworkTemplate||{};I=u.AppFramework=u.AppFramework||{};J=I.PlgElemName=I.PlgElemName||{};K=I.PlugInName=I.PlugInName||{};L=I.PlugInVar=I.PlugInVar||{};M=I.PlugInView=I.PlugInView||{};N=I.PlugInDoc=I.PlugInDoc||{};O=I.PlugInAction=I.PlugInAction||{};P=I.PlugInQuery=I.PlugInQuery||{};Q=I.PlugIn=I.PlugIn||{};R=I.PlugInBuilder=I.PlugInBuilder||{};S=I.Fun=I.Fun||{};T=I.P=I.P||{};U=I.Val=I.Val||{};V=I.AAttr=I.AAttr||{};W=I.Extract0=I.Extract0||{};X=I.ListModelData=I.ListModelData||{};Y=u.LM=u.LM||{};Z=u.LMX=u.LMX||{};_0=u.StartAppFramework=u.StartAppFramework||{};_1=u.LayoutEngine=u.LayoutEngine||{};_2=u.LayoutEngineModule=u.LayoutEngineModule||{};_3=_2.Measures=_2.Measures||{};_4=_2.Syntax=_2.Syntax||{};_5=_4.RefType=_4.RefType||{};_6=_2.Layout=_2.Layout||{};_7=u.NewLY=u.NewLY||{};_8=_7.P=_7.P||{};_9=a.StartupCode$LayoutEngine$LayoutEngine=a.StartupCode$LayoutEngine$LayoutEngine||{};_=a.LayoutEngine_GeneratedPrintf=a.LayoutEngine_GeneratedPrintf||{};$=a.LayoutEngine_Templates=a.LayoutEngine_Templates||{};ba=a.GeneratedPrintf=a.GeneratedPrintf||{};bb=a.IntelliFactory;bc=bb&&bb.Runtime;bd=g&&g.Enumerator;be=g&&g.Result;bf=g&&g.Arrays;bg=g&&g.List;bh=g&&g.Operators;bi=g&&g.Strings;bj=g&&g.Seq;bk=g&&g.Utils;bl=g&&g.Slice;bm=g&&g.Char;bn=g&&g.Unchecked;bo=g&&g.CancellationTokenSource;bp=g&&g.Concurrency;bq=a.console;br=g&&g.UI;bs=br&&br.View;bt=br&&br.Var;bu=g&&g.Collections;bv=bu&&bu.FSharpSet;bw=br&&br.FromView;bx=br&&br.Doc;by=br&&br.DomUtility;bz=br&&br.AttrModule;bA=br&&br.AttrProxy;bB=br&&br.Var$1;bC=a.Node;bD=br&&br.Client;bE=bD&&bD.Templates;bF=a.Reflect;bG=a.Object;bH=g&&g.Lazy;bI=br&&br.Templating;bJ=bI&&bI.Runtime;bK=bJ&&bJ.Server;bL=bK&&bK.ProviderBuilder;bM=bK&&bK.Handler;bN=bK&&bK.TemplateInstance;bO=br&&br.ListModel;bP=a.System;bQ=bP&&bP.Guid;bR=bu&&bu.FSharpMap;bS=a.Math;bT=bu&&bu.Dictionary;bU=g&&g.MatchFailureException;bV=g&&g.DateUtil;bW=g&&g.Numeric;bX=br&&br.Attrs;bY=a.Date;d=c.StringId=bc.Class({get_Id:function(){return this.$0;}},null,d);e=c.GuidId=bc.Class({get_Id:function(){return this.$0;}},null,e);f.add=function(bZ,b0,b1){if(b1.ContainsKey(bZ))b1.set_Item(bZ,b0);else b1.Add(bZ,b0);};k=j.CEBuilder=bc.Class({Delay:function(bZ){return bZ();},Return:function(bZ){return function(b0){return j.rtn(bZ,b0);};},Bind:function(bZ,b0){return function(b1){return j.bind(b0,bZ,b1);};}},h,k);k.New=bc.Ctor(function(){h.New.call(this);},k);l.op_BarGreaterGreater=function(bZ,b0){return(j.map(b0))(bZ);};l.op_GreaterGreaterEquals=function(bZ,b0){return function(b1){return j.bind(b0,bZ,b1);};};j.state=function(){_9.$cctor();return _9.state;};j.map=function(bZ){var b0;b0=function(b1){var b2;b2=bZ(b1);return function(b3){return j.rtn(b2,b3);};};return(bc.Curried3(j.bind))(b0);};j.bind=function(bZ,b0,b1){var b2;b2=b0(b1);return(bZ(b2[1]))(b2[0]);};j.rtn=function(bZ,b0){return[b0,bZ];};n=m.Builder=bc.Class({For:function(bZ,b0){var b1;b1=this;return this.Using(bd.Get(bZ),function(b2){return b1.While(function(){return b2.MoveNext();},b1.Delay(function(){return b0(b2.Current());}));});},While:function(bZ,b0){function b1(b2,b3){return b2()?be.Bind(function(){return b1(b2,b3);},b3()):m.rtn();}return b1(bZ,b0);},Using:function(bZ,b0){try{return b0(bZ);}finally{bZ.Dispose();}},TryFinally:function(bZ,b0){try{return bZ();}finally{b0();}},TryWith:function(bZ,b0){try{return bZ();}catch(b1){return b0(b1);}},Run:function(bZ){return be.Bind(bZ,{$:0,$0:null});},Combine:function(bZ,b0){return be.Bind(b0,bZ);},Delay:a.id,Zero:function(){return m.rtn();},Bind:function(bZ,b0){return be.Bind(b0,bZ);},ReturnFrom:a.id,Return:function(bZ){return m.rtn(bZ);}},h,n);n.New=bc.Ctor(function(){h.New.call(this);},n);o.result=function(){_9.$cctor();return _9.result$1;};o.rtn=function(bZ){return m.rtn(bZ);};o.op_GreaterEqualsGreater=function(bZ,b0,b1){return o.op_GreaterGreaterEquals(bZ(b1),b0);};o.op_RightShift=function(bZ,b0,b1){return o.op_BarGreaterGreater(bZ(b1),b0);};o.op_GreaterGreaterEquals=function(bZ,b0){return be.Bind(b0,bZ);};o.op_BarGreaterGreater=function(bZ,b0){return be.Map(b0,bZ);};m.result=function(){_9.$cctor();return _9.result;};m.sequenceSeq=function(bZ){return m.traverseSeq(a.id,bZ);};m.traverseSeq=function(bZ,b0){return be.Map(a.id,bf.foldBack(function(b1,b2){return m.op_GreaterGreaterEquals(bZ(b1),function(b3){return m.op_GreaterGreaterEquals(b2,function(b4){return m.rtn(new bg.T({$:1,$0:b3,$1:b4}));});});},bf.ofSeq(b0),m.rtn(bg.T.Empty)));};m.op_GreaterGreaterEquals=function(bZ,b0){return be.Bind(b0,bZ);};m.absorbO=function(bZ,b0){return be.Bind(function(b1){return m.ofOption(bZ,b1);},b0);};m.insertO=function(bZ){var b0;b0=bZ==null?null:{$:1,$0:be.Map(function(b1){return{$:1,$0:b1};},bZ.$0)};return b0==null?{$:0,$0:null}:b0.$0;};m.ofOption=function(bZ,b0){var b1;b1=b0==null?null:{$:1,$0:{$:0,$0:b0.$0}};return b1==null?function(b2){return c.Error(bZ(b2));}():b1.$0;};m.get=function(bZ){return m.defaultWith(function(b0){return bh.FailWith(a.String(b0));},bZ);};m.iter=function(bZ,b0,b1){m.defaultWith(bZ,be.Map(b0,b1));};m.failIfFalse=function(bZ,b0){return!b0?c.Error(bZ):{$:0,$0:null};};m.failIfTrue=function(bZ,b0){return b0?c.Error(bZ):{$:0,$0:null};};m.defaultValue=function(bZ,b0){return b0.$==1?bZ:b0.$0;};m.defaultWith=function(bZ,b0){return b0.$==1?bZ(b0.$0):b0.$0;};m.toOption=function(bZ){return bZ.$==0?{$:1,$0:bZ.$0}:null;};m.flatten=function(bZ){return be.Bind(a.id,bZ);};m.join=function(bZ){return be.Bind(a.id,bZ);};m.rtn=function(bZ){return{$:0,$0:bZ};};m.errorf=function(bZ){return bZ(c.Error);};q=p.DependBuilder=bc.Class({Delay:function(bZ){return bZ();},Return:function(bZ){return p.rtn(bZ);},Bind:function(bZ,b0){return p.bind(b0,bZ);}},h,q);q.New=bc.Ctor(function(){h.New.call(this);},q);r.op_GreaterMultiplyGreater=function(bZ,b0){var b1;b1=r.depend();return b1.Delay(function(){return b1.Bind(b0,function(b2){return b1.Return(function(b3){return b2(bZ(b3));});});});};r.op_LessMultiplyGreater=function(bZ,b0){return p.apply(bZ,b0);};r.op_GreaterEqualsMultiply=function(bZ,b0){return p.apply(b0,bZ);};r.op_BarMultiplyGreater=function(bZ,b0){return p.apply(b0,(r.rtn())(bZ));};r.op_BarGreaterGreater=function(bZ,b0){return(p.map(b0))(bZ);};r.op_GreaterGreaterEquals=function(bZ,b0){return p.bind(b0,bZ);};r.depend=function(){_9.$cctor();return _9.depend$1;};r.rtn=function(){_9.$cctor();return _9.rtn;};p.toString=function(bZ){return bi.concat("\n",bj.sort(bj.distinct(bj.map(function(b0){var b1,b2;return(b0.$==0?(b2=b0.$0,b2!=null&&b2.$==1)?(b1=[b0.$1,b0.$0.$0[0],b0.$0.$0[1]],true):(b1=b0,false):(b1=b0,false))?(((bc.Curried3(function(b3,b4,b5){return b3(bi.PadRight(bk.toSafe(b4),50)+" "+bk.prettyPrint(b5));}))(a.id))(b1[1]))(b1[2]):a.String(b1);},p.getDependencies(bZ)))));};p.getDependencies=function(bZ){return bg.rev(bg.filter(function(b0){return b0.$==0?b0.$0!=null:true;},function(b0,b1){var b2,b3,b4,b5,b6;while(true){b3=new bg.T({$:1,$0:b1,$1:b0});if(b1.$==1)return b3;else if(b2=b1.$0,b2!=null&&b2.$==1){b4=b1.$1;b5=b1.$0.$0[1];b0=b3;b1=b4(b5);}else{b6=b1.$1;b0=b3;b1=b6(void 0);}}}(bg.T.Empty,bZ)));};p.depend=function(){_9.$cctor();return _9.depend;};p.resolver=function(bZ,b0){function b1(b2){var b3,b4,b5,b6,b7;function b8(b_){return b_[0];}function b9(b_){return b5===b_;}return b2.$==1?b2.$0:(b3=b2.$0,b3!=null&&b3.$==1)?(b4=b2.$1,(b5=b2.$0.$0[0],b1((b6=(b7=bj.tryFind(function(b_){return b9(b8(b_));},bZ),b7==null?null:{$:1,$0:b4(b7.$0[1])}),b6==null?b4(b2.$0.$0[1]):b6.$0)))):b1(b2.$1(void 0));}return b1(b0);};p.replacerDef=function(bZ,b0){function b1(b2){var b3,b4,b5,b6,b7,b8,b9;function b_(b$,ca){return ca[0]===b5;}return b2.$==1?{$:1,$0:b2.$0}:(b3=b2.$0,b3!=null&&b3.$==1)?(b4=b2.$1,(b5=b2.$0.$0[0],(b6=(b7=bj.tryFind(function(b$){return b_(b$[0],b$[1]);},bZ),b7==null?null:{$:1,$0:(b8=b7.$0,{$:0,$0:{$:1,$0:[b8[0],b8[1][1]]},$1:function(b$){return b1(b4(b$));}})}),b6==null?{$:0,$0:{$:1,$0:[b5,b2.$0.$0[1]]},$1:function(b$){return b1(b4(b$));}}:b6.$0))):{$:0,$0:null,$1:(b9=b2.$1,function(b$){return b1(b9(b$));})};}return b1(b0);};p.replacer=function(bZ,b0){function b1(b2){var b3,b4,b5,b6,b7,b8;function b9(b$){return b$[0];}function b_(b$){return b5===b$;}return b2.$==1?{$:1,$0:b2.$0}:(b3=b2.$0,b3!=null&&b3.$==1)?(b4=b2.$1,(b5=b2.$0.$0[0],(b6=(b7=bj.tryFind(function(b$){return b_(b9(b$));},bZ),b7==null?null:{$:1,$0:{$:0,$0:{$:1,$0:[b5,b7.$0[1]]},$1:function(b$){return b1(b4(b$));}}}),b6==null?{$:0,$0:{$:1,$0:[b5,b2.$0.$0[1]]},$1:function(b$){return b1(b4(b$));}}:b6.$0))):{$:0,$0:null,$1:(b8=b2.$1,function(b$){return b1(b8(b$));})};}return b1(b0);};p.apply=function(bZ,b0){return p.bind(function(b1){return(p.map(b1))(b0);},bZ);};p.map=function(bZ){var b0;b0=function(b1){return p.rtn(bZ(b1));};return function(b1){return p.bind(b0,b1);};};p.rtn=function(bZ){return{$:1,$0:bZ};};p.bind=function(bZ,b0){function b1(b2){var b3,b4;return b2.$==1?(b3=b2.$0,{$:0,$0:null,$1:function(){return bZ(b3);}}):(b4=b2.$1,{$:0,$0:b2.$0,$1:function(b5){return b1(b4(b5));}});}return b1(b0);};p.dependByName=function(bZ,b0,b1){return{$:0,$0:{$:1,$0:[bZ,b0]},$1:function(b2){return{$:1,$0:b1(b2)};}};};s.thousands=function(bZ){var b0,b1,b2;b0=a.String(bZ);b1=b0.length%3;b2=b1===0?3:b1;return bi.concat(",",bg.ofSeq(bj.delay(function(){return bj.append([bl.string(b0,{$:1,$0:0},{$:1,$0:b2-1})],bj.delay(function(){return bj.map(function(b3){return bl.string(b0,{$:1,$0:b3*3+b2},{$:1,$0:b3*3+b2+2});},bh.range(0,((b0.length-b2)/3>>0)-1));}));})));};s.EndsWith=function(bZ,b0){return bi.EndsWith(b0,bZ)?{$:1,$0:bl.string(b0,{$:1,$0:0},{$:1,$0:b0.length-bZ.length-1})}:null;};s.StartsWith=function(bZ,b0){return bi.StartsWith(b0,bZ)?{$:1,$0:bl.string(b0,{$:1,$0:bZ.length},null)}:null;};s.skipLastLine=function(){_9.$cctor();return _9.skipLastLine;};s.indentStr=function(bZ){function b0(b2){return s.indent(bZ,b2);}function b1(b2){return bi.concat("\n",b2);}return function(b2){return b1(b0(b2));};};s.unindentStr=function(){_9.$cctor();return _9.unindentStr;};s.indent=function(bZ,b0){var b1,b2;b1=bi.SplitChars(b0,["\n"],0);return bj.map((b2=bi.replicate(bZ," "),function(b3){return b2+b3;}),b1);};s.unindent=function(bZ){var b0,b1,b2,b3;b0=bi.SplitChars(bZ,["\n"],0);b1=(b2=bj.tryFindIndex(function(b4){return" "!==b4;},(b3=bj.tryFind(function(b4){return bi.Trim(b4)!=="";},b0),b3==null?"":b3.$0)),b2==null?0:b2.$0);return bj.filter(function(b4){return!bi.StartsWith(b4,"# 1 ");},bj.map(function(b4){return b4.length<=b1?"":b4.substring(b1);},b0));};s.skipFirstLine=function(bZ){var b0;b0=bZ.indexOf("\n");return b0<0?"":bl.string(bZ,{$:1,$0:b0+1},null);};s.append=function(bZ,b0){return bZ+b0;};s.trim=function(bZ){return bi.Trim(bZ);};s.contains=function(bZ,b0){return b0.indexOf(bZ)!=-1;};s.delimitedO=function(bZ,b0,b1){var b2,b3,b4,b5,b6;b2=s.splitInTwoO(bZ,b1);return b2==null?null:(b3=b2.$0,(b4=b3[0],(b5=s.splitInTwoO(b0,b3[1]),b5==null?null:{$:1,$0:(b6=b5.$0,[b4,b6[0],b6[1]])})));};s.splitInTwoO=function(bZ,b0){var b1;b1=b0.indexOf(bZ);return b1===-1?null:{$:1,$0:[c["String.Left"](b0,b1),b0.substring(b1+bZ.length)]};};s.splitByChar=function(bZ,b0){return bi.SplitChars(b0,[bZ],0);};t.Guid=function(){_9.$cctor();return _9["|Guid|_|"];};t.Double=function(){_9.$cctor();return _9["|Double|_|"];};t.Single=function(){_9.$cctor();return _9["|Single|_|"];};t.Int64=function(){_9.$cctor();return _9["|Int64|_|"];};t.Int=function(){_9.$cctor();return _9["|Int|_|"];};t.Date=function(){_9.$cctor();return _9["|Date|_|"];};t.parseGuidO=function(){_9.$cctor();return _9.parseGuidO;};t.parseDoubleO=function(){_9.$cctor();return _9.parseDoubleO;};t.parseSingleO=function(){_9.$cctor();return _9.parseSingleO;};t.parseInt64O=function(){_9.$cctor();return _9.parseInt64O;};t.parseIntO=function(){_9.$cctor();return _9.parseIntO;};t.parseDateO=function(){_9.$cctor();return _9.parseDateO;};t.parseDateO2=function(){_9.$cctor();return _9.parseDateO2;};t.tryParseWith=function(bZ){function b0(b1,b2){return b1?{$:1,$0:b2}:null;}return function(b1){return b0.apply(null,bZ(b1));};};c["String.get_toUnderscore"]=function(bZ,b0){return bf.ofSeq(bj.collect(a.id,bj.mapi(function(b1,b2){return b1>0&&bm.IsUpper(b2)?bg.ofArray(["_",b2]):bg.ofArray([b2]);},bZ))).join("");};c["String.Right"]=function(bZ,b0){var b1,b2;return c["String.Substring2"](bZ,(b1=0,(b2=bZ.length-b0,bn.Compare(b1,b2)===1?b1:b2)),bZ.length);};c["String.Left"]=function(bZ,b0){return b0<0?c["String.Substring2"](bZ,0,bZ.length+b0):c["String.Substring2"](bZ,0,b0);};c["String.Substring2"]=function(bZ,b0,b1){var b2,b3;while(true){if(b1<=0)return"";else if(b0>=bZ.length)return"";else if(b0<0){b2=b0;b0=0;b1=b1+b2;}else return bi.Substring(bZ,b0,(b3=bZ.length-b0,bn.Compare(b1,b3)===-1?b1:b3));}};c.delayed=function(bZ,b0){var b1;b1=[null];return function(b2){var b3,b4;b3=b1[0];b3==null?void 0:b3.$0.Cancel$1();b1[0]={$:1,$0:new bo.New()};bp.Start((b4=null,bp.Delay(function(){return bp.Bind(bp.Sleep(bZ),function(){b0(b2);return bp.Zero();});})),{$:1,$0:b1[0].$0});};};c.print=function(bZ){if(typeof bZ=="string")((function(b0){return function(b1){return b0(bk.toSafe(b1));};}(function(b0){bq.log(b0);}))(bZ));else((function(b0){return function(b1){return b0(bk.prettyPrint(b1));};}(function(b0){bq.log(b0);}))(bZ));};c.Error=function(bZ){return{$:1,$0:bZ};};v.sequenceListApp=function(bZ){return v.traverseListApp(a.id,bZ);};v.traverseListApp=function(bZ,b0){function b1(b2,b3){return new bg.T({$:1,$0:b2,$1:b3});}return bg.foldBack(function(b2,b3){return v.op_LessMultiplyGreater(v.op_LessMultiplyGreater(v.rtn(function(b4){return function(b5){return b1(b4,b5);};}),bZ(b2)),b3);},b0,v.rtn(bg.T.Empty));};v.op_LessMultiplyGreater=function(bZ,b0){return bs.Apply(bZ,b0);};v.sequenceSeq=function(bZ){return v.traverseSeq(a.id,bZ);};v.traverseSeq=function(bZ,b0){return v.map(a.id,bf.foldBack(function(b1,b2){return v.op_GreaterGreaterEquals(bZ(b1),function(b3){return v.op_GreaterGreaterEquals(b2,function(b4){return v.rtn(new bg.T({$:1,$0:b3,$1:b4}));});});},bf.ofSeq(b0),v.rtn(bg.T.Empty)));};v.op_GreaterGreaterEquals=function(bZ,b0){return v.bind(b0,bZ);};v.rtn=function(bZ){return bs.Const(bZ);};v.map=function(bZ,b0){return bs.Map(bZ,b0);};v.bind=function(bZ,b0){return bs.Bind(bZ,b0);};v.insertWO=function(bZ){return bZ==null?bs.Const(null):bs.Map(function(b0){return{$:1,$0:b0};},bZ.$0);};w.lensView=function(bZ,b0,b1,b2){var b3,b4,b5;b3=w.freshId();b4=bs.Map2(function(b6){return bZ(b6);},b2.get_View(),b1);b5=new br.Var({Get:function(){return bZ(b2.Get());},Set:function(b6){return b2.Update(function(b7){return b0(b7,b6);});},SetFinal:function(b6){return this.Set(b6);},Update:function(b6){return b2.Update(function(b7){return b0(b7,b6(bZ(b7)));});},UpdateMaybe:function(b6){return b2.UpdateMaybe(function(b7){var b8;b8=b6(bZ(b7));return b8==null?null:{$:1,$0:b0(b7,b8.$0)};});},get_View:function(){return b4;},get_Id:function(){return b3;}});bt.New.call(b5);return b5;};w.freshId=function(){w.set_counter(w.counter()+1);return"varuid"+a.String(w.counter());};w.counter=function(){_9.$cctor();return _9.counter;};w.set_counter=function(bZ){_9.$cctor();_9.counter=bZ;};x.MapLens=function(bZ,b0,b1){function b2(b4,b5){return b0(b4,b1.Lens(b4));}function b3(b4,b5){return bf.filter(b5,b4);}return bZ!=null&&bZ.$==1?bs.MapSeqCachedViewBy(b1.key,b2,(((bc.Curried3(bs.Map2))(b3))(b1["var"].get_View()))(bZ.$0)):bs.MapSeqCachedViewBy(b1.key,b2,b1["var"].get_View());};x.refreshLM=function(bZ,b0){var b1;bZ.AppendMany(b0);b1=new bv.New(bj.map(bZ.key,b0));bj.iter(function(b2){if(!b1.Contains(bZ.key(b2)))bZ.RemoveByKey(bZ.key(b2));},bj.cache(bZ));};x.currentLens=function(bZ,b0,b1){return x["currentLensUpd'"](bZ,b0,function(b2){b1.UpdateBy(function(){return b1.TryFindByKey(b1.key(b2))==null?null:{$:1,$0:b2};},b1.key(b2));},b1);};x["currentLensUpd'"]=function(bZ,b0,b1,b2){return new bw.New(bs.Map2(function(b3,b4){var b5;b5=b4==null?null:b2.TryFindByKey(b4.$0);return b5==null?bZ:b5.$0;},b2.v,b0),b1);};x.currentLensUpd=function(bZ,b0,b1,b2){var b3;function b4(b6){return b2.TryFindByKey(b6);}function b5(b6){return b6==null?bZ:b6.$0;}return w.lensView((b3=function(b6){return b6==null?null:b4(b6.$0);},function(b6){return b5(b3(b6));}),function(b6,b7){var b8;b8=b1(b7);b6==null?void 0:b8(b6.$0);return b6;},b2.v,b0);};x.lensDef=function(bZ,b0,b1){function b2(b3){return b3==null?bZ:b3.$0;}return x["lensIntoO'"](b1,b2,function(){return a.id;},b0,bs.Map(b2,b1.TryFindByKeyAsView(b0)));};x.docLensMapViewO=function(bZ,b0,b1,b2){function b3(b4,b5){return b1(b4,x["lensIntoO'"](b2,function(b6){return b6==null?bZ:b6.$0;},function(){return a.id;},b4,b5));}return bx.ConvertSeqBy(b2.key,function(b4){return function(b5){return b3(b4,b5);};},bs.Map(b0,b2.v));};x.docLensMapView=function(bZ,b0,b1){function b2(b3,b4){return b0(b3,x["lensInto'"](b1,a.id,function(){return a.id;},b3,b4));}return bx.ConvertSeqBy(b1.key,function(b3){return function(b4){return b2(b3,b4);};},bs.Map(bZ,b1.v));};x["lensIntoO'"]=function(bZ,b0,b1,b2,b3){var b4,b5;b4=w.freshId();b5=new bt({Get:function(){return b0(bZ.TryFindByKey(b2));},Set:function(b6){return bZ.UpdateBy(function(b7){return{$:1,$0:(b1(b7))(b6)};},b2);},Update:function(b6){return bZ.UpdateBy(function(b7){var b8;return{$:1,$0:(b8=b6(b0({$:1,$0:b7})),(b1(b7))(b8))};},b2);},UpdateMaybe:function(b6){return bZ.UpdateBy(function(b7){var b8,b9;b8=b6(b0({$:1,$0:b7}));b9=b1(b7);return b8==null?null:{$:1,$0:b9(b8.$0)};},b2);},SetFinal:function(b6){return this.Set(b6);},get_View:function(){return b3;},get_Id:function(){return b4;}});bt.New.call(b5);return b5;};x["lensInto'"]=function(bZ,b0,b1,b2,b3){var b4,b5;b4=w.freshId();b5=new bt({Get:function(){return b0(bZ.FindByKey(b2));},Set:function(b6){return bZ.UpdateBy(function(b7){return{$:1,$0:(b1(b7))(b6)};},b2);},Update:function(b6){return bZ.UpdateBy(function(b7){var b8;return{$:1,$0:(b8=b6(b0(b7)),(b1(b7))(b8))};},b2);},UpdateMaybe:function(b6){return bZ.UpdateBy(function(b7){var b8,b9;b8=b6(b0(b7));b9=b1(b7);return b8==null?null:{$:1,$0:b9(b8.$0)};},b2);},SetFinal:function(b6){return this.Set(b6);},get_View:function(){return b3;},get_Id:function(){return b4;}});bt.New.call(b5);return b5;};y.Identifier=function(bZ){var b0,b1,b2;return(b1=u.REGEX$1("^[$a-zA-Z_][0-9a-zA-Z_\\.\\-$]*$","",bZ),b1!=null&&b1.$==1&&((b2=b1.$0,!bn.Equals(b2,null)&&b2.length===1)&&(b0=bf.get(b1.$0,0),true)))?{$:1,$0:b0}:null;};y.getEndWord=function(bZ,b0){var b1,b2;b1=u.REGEX$1("^([a-zA-Z_]\\w*)","g",bZ.substring(b0));return b1!=null&&b1.$==1?(b2=b1.$0,!bn.Equals(b2,null)&&b2.length===1)?bf.get(b1.$0,0):"":"";};y.getStartWord=function(bZ,b0){var b1,b2;b1=u.REGEX$1("([a-zA-Z_]\\w*)$","g",bi.Substring(bZ,0,b0));return b1!=null&&b1.$==1?(b2=b1.$0,!bn.Equals(b2,null)&&b2.length===1)?bf.get(b1.$0,0):"":"";};A=z.Hoverable=bc.Class({Content:function(bZ){return bZ.on("mouseenter",function(){return by.AddClass(bZ.elt,"hovering");}).on("mouseleave",function(){return by.RemoveClass(bZ.elt,"hovering");});},Content$1:function(bZ){return bx.Element("div",this.get_Attributes(),bZ);},get_Attributes:function(){var bZ,b0;bZ=this;return bg.ofArray([(b0=bs.Const("hovering"),bz.DynamicPred("class",this.hover.get_View(),b0)),bA.HandlerImpl("mouseenter",function(){return function(){return bZ.hover.Set(true);};}),bA.HandlerImpl("mouseleave",function(){return function(){return bZ.hover.Set(false);};})]);}},null,A);A.get_Demo=function(){return A.New$1().Content(bx.Element("div",[bA.Create("style","flex-flow: column;")],[bx.TextNode("Hover over me!")]));};A.Content$752$81=bc.Curried3(function(bZ,b0,b1){return by.RemoveClass(bZ.elt,"hovering");});A.get_Attributes$748$69=bc.Curried3(function(bZ,b0,b1){return bZ.hover.Set(false);});A.get_Attributes$747$69=bc.Curried3(function(bZ,b0,b1){return bZ.hover.Set(true);});A.New$1=function(){return A.New(bB.Create$1(false));};A.New=function(bZ){return new A({hover:bZ});};z.hoverable=function(bZ){return A.New$1().Content(bZ);};B.addResizeObserver=function(bZ,b0){var b1,b2,b3,b4;try{b1=!(!a.ResizeObserver);}catch(b5){b1=false;}if(b1){b2=new a.ResizeObserver(bZ);B.set_observers(new bg.T({$:1,$0:b2,$1:B.observers()}));b2.observe(b0);}else{b3=B.dimsChanged(b0);bp.Start((b4=null,bp.Delay(function(){return bp.While(function(){return b0.isConnected;},bp.Delay(function(){return bp.Bind(bp.Sleep(110),function(){return b3()?(bZ(),bp.Zero()):bp.Zero();});}));})),null);}};B.dimsChanged=function(bZ){var b0;b0=[bZ.getBoundingClientRect()];return function(){var b1;b1=bZ.getBoundingClientRect();return bn.Equals(B.domRect2Tuple(b0[0]),B.domRect2Tuple(b1))?false:(b0[0]=b1,true);};};B.domRect2Tuple=function(bZ){return[bZ.top,bZ.left,bZ.width,bZ.height];};B.observers=function(){_9.$cctor();return _9.observers;};B.set_observers=function(bZ){_9.$cctor();_9.observers=bZ;};E=D.WcTabStripT=bc.Class({connectedCallback:function(){var bZ,b0,b1,b2;function b3(){var b4,b5,b6;b5=!b0.hasAttribute("bottom");b6=bg.ofSeq(bj.delay(function(){return bj.collect(function(b7){var b8;b8=b0.childNodes[b7-1];return bn.Equals(b8.nodeType,bC.ELEMENT_NODE)?[[b8.hasAttribute("tabname")?b8.getAttribute("tabname"):(function(b9){return function(b_){return b9("Tab "+a.String(b_));};}(a.id))(b7),b8]]:[];},bh.range(1,b0.childNodes.length));}));while(b2.childNodes.length>0)b2.removeChild(b2.lastChild);b4=D.tabStrip(bZ.selected,b5,true,b6,bx.Element("slot",bg.T.Empty,bg.T.Empty));bE.LoadLocalTemplates("");bx.Run(b2,b4);}bZ=this;!this.added?(b0=this,b1=b0.attachShadow({mode:"open"}),b2=self.document.createElement("div"),b1.appendChild(b2),b3(),b0.addEventListener("DOMSubtreeModified",c.delayed(50,b3)),this.added=true):void 0;}},h,E);E.Constructor=function(){var bZ,b0;bZ=(b0=bF.construct(self.HTMLElement,[],this.__proto__.constructor),b0);self.FsRootDll.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New.call(bZ);return bZ;};E.New=bc.Ctor(function(){h.New.call(this);this.added=false;this.selected=bB.Create$1(1);(function(bZ){return bZ("WcTabStripT initializer");}(function(bZ){bq.log(bZ);}));},E);D.init=function(){_9.$cctor();return _9.init;};D.tabStrip$896$64=function(bZ,b0){return function(){return function(){return b0.Set(bZ+1);};};};D.tabStrip=function(bZ,b0,b1,b2,b3){var b4;b4=bx.Element("div",[bA.Create("class",(((bc.Curried3(function(b5,b6,b7){return b5("tab-strip "+bk.toSafe(b6)+" "+bk.toSafe(b7));}))(a.id))(b0?"top":"bottom"))(b1?"horizontal":"vertical"))],bg.ofSeq(bj.delay(function(){return bj.collect(function(b5){var b6;b6=b5[0];return[A.New$1().Content(bx.Element("div",[bz.Dynamic("class",bs.Map(function(b7){return"tab"+(b7===b6+1?" selected":"");},bZ.get_View())),bA.Create("draggable","true"),bA.HandlerImpl("click",function(){return function(){return bZ.Set(b6+1);};})],[bx.TextNode(b5[1][0])]))];},bj.indexed(b2));})));return bx.Element("div",[bA.Create("class","tab-panel")],bg.ofSeq(bj.delay(function(){return bj.append(b0?[b4]:[],bj.delay(function(){return bj.append([bx.Element("div",[bA.Create("class","tab-content")],[b3])],bj.delay(function(){return bj.append(!b0?[b4]:[],bj.delay(function(){return bj.append([bx.Element("style",bg.T.Empty,bg.ofArray([bx.TextNode(D.css())]))],bj.delay(function(){return[bx.Element("style",bg.T.Empty,bg.ofArray([bx.TextView(bs.Map(function(b5){return function(b6){return b5("\r\n                                              ::slotted(*              ) { display: none }\r\n                                              ::slotted(*:nth-child("+a.String(b6)+")) { display: grid }\r\n                                           ");};}(a.id),bZ.get_View()))]))];}));}));}));}));})));};D.css=function(){_9.$cctor();return _9.css;};G=F.WcSplitterT=bc.Class({connectedCallback:function(){var bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc;function cd(cl){var cm,cn,co,cp;cm=b6?["padding-left","padding-right","grid-column-gap"]:["padding-top","padding-bottom","grid-row-gap"];cn=a.parseFloat("0"+a.jQuery(cl.parentElement.parentElement).css(cm[0]));co=a.parseFloat("0"+a.jQuery(cl.parentElement.parentElement).css(cm[1]));b9.Set(a.parseFloat("0"+a.jQuery(cl.parentElement.parentElement).css(cm[2])));b8[0]=cn+co;cp=bZ.getBoundingClientRect();return b6?b5?[cp.width,cp.height]:[-cp.width,cp.height]:b5?[cp.height,cp.width]:[-cp.height,cp.width];}function ce(cl){return b6?cl.clientX:cl.clientY;}function cf(cl){var cm,cn;cm=(ce(cl)-ca[0])*100/b7[0][0]+b$[0];b4.Set((cn=bn.Compare(b2,cm)===1?b2:cm,bn.Compare(b3,cn)===-1?b3:cn));}function cg(){if(b_[0]){b_[0]=false;self.removeEventListener("mousemove",cf,false);self.removeEventListener("mouseup",cg,false);}}function ch(cl){var cm,cn;if(!b_[0]){b_[0]=true;b$[0]=b4.Get();ca[0]=ce(cl);b7[0]=(cm=(cn=cb[0],cn==null?null:{$:1,$0:cd(cn.$0)}),cm==null?[100,500]:cm.$0);self.addEventListener("mousemove",cf,false);self.addEventListener("mouseup",cg,false);cl.preventDefault();}}function ci(cl,cm,cn,co){return[(cl-cm-cn)*co/100,(cl-cm-cn)*(100-co)/100];}function cj(cl,cm){return(((((bc.Curried(function(cn,co,cp,cq,cr){return cn(" "+co.toFixed(2)+"px "+cp.toFixed(2)+"px ; "+bk.toSafe(cq)+" : "+cr.toFixed(2)+"px; ");},5))(a.id))(cl))(cm))(b6?"height":"width"))(b7[0][1]);}function ck(){var cl;cl=cb[0];cl==null?void 0:b7[0]=cd(cl.$0);b4.Set(b4.Get());}if(!this.added){bZ=this;b0=bZ.attachShadow({mode:"open"});b1=self.document.createElement("div");b2=bZ.hasAttribute("min")?a.parseFloat(bZ.getAttribute("min")):4;b3=bZ.hasAttribute("max")?a.parseFloat(bZ.getAttribute("max")):96;b4=bB.Create$1(bZ.hasAttribute("value")?a.parseFloat(bZ.getAttribute("value")):50);b5=!bZ.hasAttribute("second");b6=bZ.hasAttribute("vertical");b7=[[0,0]];b8=[0];b9=bB.Create$1(0);b_=[false];b$=[0];ca=[0];cb=[null];cc=(((((b6?F.layoutVertical():F.layoutHorizontal())(bs.Map(function(cl){var cm;cm=ci(b7[0][0],b9.Get(),b8[0],cl);return cj.apply(null,cm);},b4.get_View())))(function(){B.addResizeObserver(ck,bZ);ck();}))(function(cl){cb[0]={$:1,$0:cl};ck();}))(function(cl){ch(cl);}))(bs.Map(function(cl){return function(cm){return cl(bk.prettyPrint(cm)+"px");};}(a.id),b9.get_View()));bE.LoadLocalTemplates("");bx.Run(b1,cc);b0.appendChild(b1.firstChild);this.added=true;}}},h,G);G.Constructor=function(){var bZ,b0;bZ=(b0=bF.construct(self.HTMLElement,[],this.__proto__.constructor),b0);self.FsRootDll.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New.call(bZ);return bZ;};G.New=bc.Ctor(function(){h.New.call(this);this.added=false;(function(bZ){return bZ("WcSplitterT initializer");}(function(bZ){bq.log(bZ);}));},G);F.init=function(bZ,b0){var b1;b1=new G.New();F.set_layoutHorizontal(bZ);F.set_layoutVertical(b0);C.defineWebComponent("wcomp-splitter",G.Constructor,self.FsRootDll.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New);};F.layoutVertical=function(){_9.$cctor();return _9.layoutVertical;};F.set_layoutVertical=function(bZ){_9.$cctor();_9.layoutVertical=bZ;};F.layoutHorizontal=function(){_9.$cctor();return _9.layoutHorizontal;};F.set_layoutHorizontal=function(bZ){_9.$cctor();_9.layoutHorizontal=bZ;};C.defineWebComponent=function(bZ,b0,b1){try{bq.log("defineWebComponent: "+bZ);bG.setPrototypeOf(b1.prototype,self.HTMLElement.prototype);bG.setPrototypeOf(b1,self.HTMLElement);bG.setPrototypeOf(b0.prototype,b1.prototype);self.customElements.define(bZ,b0);}catch(b2){(function(b3){return b3("Failed to define WebComponent. Not supported.");}(function(b3){bq.log(b3);}));}};H.html=function(){_9.$cctor();return _9.html;};J=I.PlgElemName=bc.Class({get_Id:function(){return this.$0;}},null,J);K=I.PlugInName=bc.Class({get_Id:function(){return this.$0;}},null,K);L.New=function(bZ,b0){return{varName:bZ,varVar:b0};};M.New=function(bZ,b0){return{viwName:bZ,viwView:b0};};N.New=function(bZ,b0){return{docName:bZ,docDoc:b0};};O.New=function(bZ,b0,b1){return{actName:bZ,actFunction:b0,actEnabled:b1};};P.New=function(bZ,b0){return{qryName:bZ,qryFunction:b0};};Q.New=function(bZ,b0,b1,b2,b3,b4){return{plgName:bZ,plgVars:b0,plgViews:b1,plgDocs:b2,plgActions:b3,plgQueries:b4};};R=I.PlugInBuilder=bc.Class({Merge:function(bZ,b0,b1){bZ.plgVars.AppendMany(bj.map(function(b2){return L.New(new J({$:0,$0:b0+b2.varName.get_Id()}),b2.varVar);},b1.plgVars));bZ.plgViews.AppendMany(bj.map(function(b2){return M.New(new J({$:0,$0:b0+b2.viwName.get_Id()}),b2.viwView);},b1.plgViews));bZ.plgDocs.AppendMany(bj.map(function(b2){return N.New(new J({$:0,$0:b0+b2.docName.get_Id()}),b2.docDoc);},b1.plgDocs));bZ.plgActions.AppendMany(bj.map(function(b2){return O.New(new J({$:0,$0:b0+b2.actName.get_Id()}),b2.actFunction,b2.actEnabled);},b1.plgActions));bZ.plgQueries.AppendMany(bj.map(function(b2){return P.New(new J({$:0,$0:b0+b2.qryName.get_Id()}),b2.qryFunction);},b1.plgQueries));return bZ;},AddViw:function(bZ,b0,b1){bZ.plgViews.Append(I.newViw(new J({$:0,$0:b0}),b1));return bZ;},AddActO:function(bZ,b0,b1){b1==null?void 0:bZ.plgActions.Append(I.newAct(new J({$:0,$0:b0}),b1.$0));return bZ;},AddAct2:function(bZ,b0,b1,b2,b3){bZ.plgActions.Append(I.newActF(new J({$:0,$0:b0}),{$:2,$0:b1,$1:b2,$2:b3}));return bZ;},AddAct1:function(bZ,b0,b1,b2){bZ.plgActions.Append(I.newActF(new J({$:0,$0:b0}),{$:1,$0:b1,$1:b2}));return bZ;},AddAct:function(bZ,b0,b1){bZ.plgActions.Append(I.newAct(new J({$:0,$0:b0}),b1));return bZ;},AddQry:function(bZ,b0,b1){bZ.plgQueries.Append(I.newQry(new J({$:0,$0:b0}),b1));return bZ;},AddDoc5:function(bZ,b0,b1,b2,b3,b4,b5,b6){bZ.plgDocs.Append(I.newDocF(new J({$:0,$0:b0}),{$:5,$0:b1,$1:b2,$2:b3,$3:b4,$4:b5,$5:b6}));return bZ;},AddDoc4:function(bZ,b0,b1,b2,b3,b4,b5){bZ.plgDocs.Append(I.newDocF(new J({$:0,$0:b0}),{$:4,$0:b1,$1:b2,$2:b3,$3:b4,$4:b5}));return bZ;},AddDoc3:function(bZ,b0,b1,b2,b3,b4){bZ.plgDocs.Append(I.newDocF(new J({$:0,$0:b0}),{$:3,$0:b1,$1:b2,$2:b3,$3:b4}));return bZ;},AddDoc2:function(bZ,b0,b1,b2,b3){bZ.plgDocs.Append(I.newDocF(new J({$:0,$0:b0}),{$:2,$0:b1,$1:b2,$2:b3}));return bZ;},AddDoc1:function(bZ,b0,b1,b2){bZ.plgDocs.Append(I.newDocF(new J({$:0,$0:b0}),{$:1,$0:b1,$1:b2}));return bZ;},AddDoc:function(bZ,b0,b1){bZ.plgDocs.Append(I.newDoc(new J({$:0,$0:b0}),b1));return bZ;},AddVar:function(bZ,b0,b1){bZ.plgVars.Append(I.newVar(new J({$:0,$0:b0}),b1));return bZ;},Name:function(bZ,b0){return Q.New(new K({$:0,$0:b0}),bZ.plgVars,bZ.plgViews,bZ.plgDocs,bZ.plgActions,bZ.plgQueries);},For:function(bZ,b0){var b1;b1=bd.Get(bZ);while(b1.MoveNext())b0(b1.Current());},Yield:function(){return this.Zero();},Zero:function(){var bZ;bZ=I.defaultPlugIn();return Q.New(new K({$:0,$0:"Main"}),bZ.plgVars,bZ.plgViews,bZ.plgDocs,bZ.plgActions,bZ.plgQueries);}},h,R);R.New=bc.Ctor(function(){h.New.call(this);},R);S.New=function(bZ,b0){return{f:bZ,p:b0};};T.New=function(bZ){return{r:bZ};};U.textAtt=function(){_9.$cctor();return _9.textAtt;};U.textDoc=function(bZ){return bZ.$==0?bx.TextView(bZ.$0):bx.TextNode(bZ.$0);};U.addAtt=function(bZ,b0){return b0.$==0?function(b1){return b1("addAtt for VView not implemented");}(bh.FailWith):{$:1,$0:bj.append(b0.$0,[bZ])};};U.addDoc=function(bZ,b0){return b0.$==0?{$:1,$0:[bx.BindView(bx.Concat,b0.$0),bZ]}:{$:1,$0:bj.append(b0.$0,[bZ])};};U.toView=function(bZ){return bZ.$==0?bZ.$0:bs.Const(bZ.$0);};U.sequenceListApp=function(bZ){return U.traverseListApp(a.id,bZ);};U.traverseListApp=function(bZ,b0){function b1(b2,b3){return new bg.T({$:1,$0:b2,$1:b3});}return bg.foldBack(function(b2,b3){return((U.op_LessMultiplyGreater())(((U.op_LessMultiplyGreater())(U.rtn(function(b4){return function(b5){return b1(b4,b5);};})))(bZ(b2))))(b3);},b0,U.rtn(bg.T.Empty));};U.op_LessMultiplyGreater=function(){_9.$cctor();return _9.op_LessMultiplyGreater;};U.apply=function(bZ,b0){return bZ.$==0?b0.$==1?{$:0,$0:bs.Apply(bZ.$0,bs.Const(b0.$0))}:{$:0,$0:bs.Apply(bZ.$0,b0.$0)}:b0.$==0?{$:0,$0:bs.Apply(bs.Const(bZ.$0),b0.$0)}:{$:1,$0:bZ.$0(b0.$0)};};U.rtn=function(bZ){return{$:1,$0:bZ};};U.map=function(bZ,b0){return b0.$==0?{$:0,$0:bs.Map(bZ,b0.$0)}:{$:1,$0:bZ(b0.$0)};};V.AEmpty={$:3};W.extractTextD=function(){_9.$cctor();return _9.extractTextD;};W.extractAtsD=function(){_9.$cctor();return _9.extractAtsD;};W.getTextValD=function(){_9.$cctor();return _9.getTextValD;};W.getTextValFromSeqD=function(){_9.$cctor();return _9.getTextValFromSeqD;};W.extractDocD=function(){_9.$cctor();return _9.extractDocD;};W.getDocFromTextTypesD=function(){_9.$cctor();return _9.getDocFromTextTypesD;};W.getTextActViewFromReferenceD=function(){_9.$cctor();return _9.getTextActViewFromReferenceD;};W.getDocFromReferenceD=function(){_9.$cctor();return _9.getDocFromReferenceD;};W.getTextData=function(bZ){var b0,b1,b2;b0=(b1=s.delimitedO("@{","}",bZ),b1==null?null:{$:1,$0:(b2=b1.$0,W.getOneTextData(b2[0],b2[1],b2[2]))});return b0==null?bg.ofArray([{$:0,$0:bZ}]):b0.$0;};W.getOneTextData=function(bZ,b0,b1){return(bZ===""?a.id:function(b2){return new bg.T({$:1,$0:{$:0,$0:bZ},$1:b2});})(new bg.T({$:1,$0:{$:1,$0:b0},$1:b1===""?bg.T.Empty:W.getTextData(b1)}));};W.getTextActViewFromReference=function(bZ){return bs.Const({$:0,$0:(function(b0){return function(b1){return b0("getTextActViewFromReference not implemented: @{"+bk.toSafe(b1)+"}");};}(a.id))(bZ)});};W.getDocFromReference=function(bZ){return bx.TextNode((function(b0){return function(b1){return b0("getDocFromReference not implemented: @{"+bk.toSafe(b1)+"}");};}(a.id))(bZ));};X=I.ListModelData=bc.Class({get_CurrentV:function(){var bZ;bZ=this;return new bw.New(this.get_CurrentW(),function(b0){var b1;b1=bZ.selV.Get();b1!=null&&b1.$==1?bZ.elems.ContainsKey(b1.$0)?bZ.elems.Append(b0):void 0:void 0;});},get_CurrentW:function(){var bZ,b0,b1,b2,b3,b4;return bs.Map((bZ=function(b5){return b5==null?null:a.id(b5.$0);},(b0=(b1=this.def,function(b5){return b5==null?b1:b5.$0;}),function(b5){return b0(bZ(b5));})),bs.Bind((b2=(b3=(b4=this.elems,function(b5){return b4.TryFindByKeyAsView(b5);}),function(b5){return b5==null?null:{$:1,$0:b3(b5.$0)};}),function(b5){return v.insertWO(b2(b5));}),this.selV.get_View()));},PlugIn:function(bZ){var b0,b1,b2;function b3(b4){}b0=this;b1=I.plugin();return b1.AddAct(b1.AddAct(b1.AddVar(b1.AddDoc(b1.Yield(),"list",bH.Create(function(){return b0.doc;})),"sel",bZ(this.selV)),"add",(b2=this.add,function(b4){return b3(b2(b4));})),"del",this.delCur);}},null,X);X.New=function(bZ,b0,b1,b2,b3,b4){return new X({elems:bZ,doc:b0,selV:b1,add:b2,delCur:b3,def:b4});};I.concatMainDocs=function(bZ){return bx.Concat(bj.choose(function(b0){return b0.docDoc.$==0?{$:1,$0:b0.docDoc.$0.f()}:null;},bj.choose(function(b0){return bj.tryHead(b0.plgDocs);},bZ)));};I.op_Dereference=function(bZ){return T.New((r.rtn())({$:1,$0:bZ}));};I.addPlugIn=function(bZ){I.plugIns().Append(bZ);};I.getMainDoc=function(){_9.$cctor();return _9.getMainDoc;};I.select=function(){_9.$cctor();return _9.select;};I.trigAct=function(){_9.$cctor();return _9.trigAct;};I.setVar=function(bZ,b0){var b1,b2;b1=(b2=(I.splitName(I.defPlugInName()))(bZ),I.tryGetVar(b2[0],b2[1]));b1==null?void 0:b1.$0.varVar.Set(b0);};I.htmlDoc=function(){_9.$cctor();return _9.htmlDoc;};I.textArea=function(){_9.$cctor();return _9.textArea;};I.input=function(){_9.$cctor();return _9.input;};I.inputLabel=function(){_9.$cctor();return _9.inputLabel;};I.inputFile$2181$67=bc.Curried3(function(bZ,b0,b1){return I.callFunction(b0,null,bZ.actFunction);});I.inputFile$2180$67=bc.Curried3(function(bZ,b0,b1){b0.value="";});I.inputFile=function(bZ,b0,b1){var b2,b3,b4,b5;b2=(b3=(b4=(I.splitName(I.defPlugInName()))(b1),I.tryGetAct(b4[0],b4[1])),b3==null?null:{$:1,$0:(b5=b3.$0,bx.Element("div",I.getAttrs(I.defPlugInName(),bZ),[bx.Element("div",[bA.Create("class","input-group")],[bx.Element("span",[bA.Create("class","input-group-btn")],[bx.Element("label",[bA.Create("class","btn")],[bx.TextNode(b0),bx.Element("input",[bA.Create("class","form-control"),bA.Create("type","file"),bz.Style("display","none"),bA.HandlerImpl("click",function(b6){return function(){b6.value="";};}),bA.HandlerImpl("change",function(b6){return function(){return I.callFunction(b6,null,b5.actFunction);};})],[])])])])]))});return b2==null?I.errDoc((function(b6){return function(b7){return b6("Action not found "+bk.toSafe(b7));};}(a.id))(b1)):b2.$0;};I.docWithVar=function(bZ,b0){var b1,b2;function b3(b5){return b5==null?null:{$:1,$0:bZ(b5.$0)};}function b4(){return I.errDoc((function(b5){return function(b6){return b5("Var not found "+bk.toSafe(b6));};}(a.id))(b0));}return bx.BindView((b1=function(b5){return b5==null?b4():b5.$0;},function(b5){return b1(b3(b5));}),(b2=I.getParmRef(b0),I.tryGetVoVW(b2[0],b2[1])));};I.depWithExtracts=function(bZ){var b0;return I.runDef((b0=p.depend(),b0.Delay(function(){return b0.Bind(I.extractAtsD(),function(b1){return b0.Bind(I.extractDocD(),function(b2){return b0.Bind(I.extractTextD(),function(b3){return b0.Return(bZ(b1,b2,b3));});});});})));};I.getParmRef=function(bZ){var b0,b1,b2,b3,b4;b0=(b1=(b2=s.delimitedO("@{","}",bZ),b2==null?null:{$:1,$0:(b3=b2.$0,(b3[0],b4=b3[1],b3[2],b4))}),b1==null?bZ:b1.$0);return(I.splitName(I.defPlugInName()))(b0);};I.runDef=function(bZ){return I.run(I.defPlugInName(),bZ);};I.defPlugInName=function(){_9.$cctor();return _9.defPlugInName;};I.extractAttD=function(){_9.$cctor();return _9.extractAttD;};I.extractAtsD=function(){_9.$cctor();return _9.extractAtsD$1;};I.extractDocD=function(){_9.$cctor();return _9.extractDocD$1;};I.extractTextD=function(){_9.$cctor();return _9.extractTextD$1;};I.run=function(bZ,b0){var b1,b2;b1=(b2=r.depend(),b2.Delay(function(){return b2.Bind(I.getDocD(),function(b3){return b2.Bind(I.getTextActViewD(),function(b4){return b2.Return(p.resolver(bg.ofArray([["getDocFromReference",b3],["getTextActViewFromReference",b4],["currentPlugInName",bZ]]),b0));});});}));return p.resolver(bg.ofArray([["currentPlugInName",bZ]]),b1);};I.errDocf=function(bZ){return bZ(I.errDoc);};I.errDoc=function(bZ){return bx.Element("div",[],[bx.TextNode(bZ)]);};I.getTextActViewD=function(){_9.$cctor();return _9.getTextActViewD;};I.getDocD=function(){_9.$cctor();return _9.getDocD;};I.currentPlugInNameD=function(){_9.$cctor();return _9.currentPlugInNameD;};I.currentPlugInNameDef=function(){_9.$cctor();return _9.currentPlugInNameDef;};I.valToAttr=function(bZ,b0){return b0.$==0?bz.Dynamic(bZ,b0.$0):bA.Create(bZ,b0.$0);};I.valToStyle=function(bZ,b0){return b0.$==0?bz.DynamicStyle(bZ,b0.$0):bz.Style(bZ,b0.$0);};I.choiceToString=function(bZ){return bZ.$==1?(function(b0){return function(b1){return b0("@{"+bk.prettyPrint(b1)+"}");};}(a.id))(bZ.$0):bZ.$0;};I.makeAViewDocL=function(bZ){return bH.Create(function(){return I.makeAViewDoc(bZ);});};I.makeAViewDoc=function(bZ){return bx.BindView(function(){return bZ();},I.baseView());};I.baseView=function(){_9.$cctor();return _9.baseView;};I.mainX=function(){_9.$cctor();return _9.mainX;};I.a11V=function(){_9.$cctor();return _9.a11V;};I.add1=function(bZ){return bZ+1;};I.unwrapBindWrap=function(bZ,b0){return T.New(r.op_BarGreaterGreater(b0.r,bZ));};I.bindWrap=function(bZ,b0){return T.New(r.op_GreaterGreaterEquals(b0,function(b1){return bZ(b1).r;}));};I.getAttrs=function(bZ,b0){return bg.ofSeq(bj.delay(function(){return bj.append(bj.choose(function(b1){var b2,b3,b4,b5;function b6(b7,b8){var b9;return b8.$==1?(b9=b8.$0,b7.addEventListener(bi.Trim(b5),function(b_){return I.callFunction(b7,b_,b9.actFunction);},false)):b7.setAttribute(bi.Trim(b5),bi.Trim(b8.$0));}return!bn.Equals(b1,null)&&b1.length===2&&(b3=bf.get(b1,1),bi.Trim(bf.get(b1,0))!==""&&bi.Trim(b3)!=="")?(b4=bf.get(b1,1),(b5=bf.get(b1,0),{$:1,$0:bz.DynamicCustom(function(b7){return function(b8){return b6(b7,b8);};},I.getTextData(bZ,bi.Trim(b4)))})):null;},bj.map(function(b1){return s.splitByChar("=",b1);},s.splitByChar(";",b0))),bj.delay(function(){return bj.choose(function(b1){var b2,b3,b4,b5,b6;return!bn.Equals(b1,null)&&b1.length===2&&(b3=bf.get(b1,1),bi.Trim(bf.get(b1,0))!==""&&bi.Trim(b3)!=="")?(b4=bf.get(b1,1),(b5=bf.get(b1,0),{$:1,$0:(b6=bs.Map(function(b7){return b7.$==1?(function(b8){return function(b9){return b8("@{"+bk.toSafe(b9)+"}");};}(a.id))(b7.$0.actName.get_Id()):bi.Trim(b7.$0);},I.getTextData(bZ,bi.Trim(b4))),bz.DynamicStyle(bi.Trim(b5),b6))})):null;},bj.map(function(b1){return s.splitByChar(":",b1);},s.splitByChar(";",b0)));}));}));};I.getTextData=function(bZ,b0){var b1,b2,b3,b4;b1=(b2=s.delimitedO("@{","}",b0),b2==null?null:{$:1,$0:(b3=b2.$0,(b4=b3[0],I.getOneTextData(bZ,b3[1],b4,b3[2])))});return b1==null?bs.Const({$:0,$0:b0}):b1.$0;};I.getOneTextData=function(bZ,b0,b1,b2){var b3,b4,b5;b3=(I.splitName(bZ))(b0);b4=b3[0];b5=b3[1];return bs.Bind(function(b6){return b6==null?bs.Bind(function(b7){var b8;return b7==null?bs.Const({$:0,$0:((((bc.Curried(function(b9,b_,b$,ca){return b9(bk.toSafe(b_)+" @{Missing "+bk.toSafe(b$)+"}"+bk.toSafe(ca));},4))(a.id))(b1))(b0))(b2)}):(b8=b7.$0,bs.Bind(function(b9){return b9.$==1?bs.Const({$:0,$0:(function(b_){return function(b$){return b_("Unexpected Action @{"+bk.toSafe(b$)+"}");};}(a.id))(b9.$0.actName.get_Id())}):bs.Const({$:0,$0:b1+b8+b9.$0});},I.getTextData(bZ,b2)));},I.tryGetWoWW(b4,b5)):bs.Const({$:1,$0:b6.$0});},I.tryGetActW(b4,b5));};I.tryGetWoW=function(bZ,b0){var b1,b2,b3;b1=(b2=I.tryGetViw(bZ,b0),b2==null?null:{$:1,$0:{$:1,$0:b2.$0.viwView}});return b1==null?(b3=I.tryGetVar(bZ,b0),b3==null?null:{$:1,$0:b3.$0.varVar.get_View()}):b1.$0;};I.tryGetVoV=function(bZ,b0){var b1,b2,b3;b1=(b2=I.tryGetVar(bZ,b0),b2==null?null:{$:1,$0:{$:1,$0:b2.$0.varVar}});return b1==null?(b3=I.tryGetViw(bZ,b0),b3==null?null:{$:1,$0:new bw.New(b3.$0.viwView,a.ignore)}):b1.$0;};I.tryGetDoc=function(bZ,b0){var b1;b1=I.tryGetPlugIn(bZ);return b1==null?null:b1.$0.plgDocs.TryFindByKey(b0);};I.tryGetQry=function(bZ,b0){var b1;b1=I.tryGetPlugIn(bZ);return b1==null?null:b1.$0.plgQueries.TryFindByKey(b0);};I.tryGetAct=function(bZ,b0){var b1;b1=I.tryGetPlugIn(bZ);return b1==null?null:b1.$0.plgActions.TryFindByKey(b0);};I.tryGetViw=function(bZ,b0){var b1;b1=I.tryGetPlugIn(bZ);return b1==null?null:b1.$0.plgViews.TryFindByKey(b0);};I.tryGetVar=function(bZ,b0){var b1;b1=I.tryGetPlugIn(bZ);return b1==null?null:b1.$0.plgVars.TryFindByKey(b0);};I.tryGetPlugIn=function(bZ){return I.plugIns().TryFindByKey(bZ);};I.tryGetWoWW=function(bZ,b0){return bs.Bind(function(b1){return b1==null?bs.Bind(function(b2){return b2==null?bs.Const(null):bs.Map(function(b3){return{$:1,$0:b3};},b2.$0.varVar.get_View());},I.tryGetVarW(bZ,b0)):bs.Map(function(b2){return{$:1,$0:b2};},b1.$0.viwView);},I.tryGetViwW(bZ,b0));};I.tryGetVoVW=function(bZ,b0){return bs.Bind(function(b1){return b1==null?bs.Map(function(b2){return b2==null?null:{$:1,$0:new bw.New(b2.$0.viwView,a.ignore)};},I.tryGetViwW(bZ,b0)):bs.Const({$:1,$0:b1.$0.varVar});},I.tryGetVarW(bZ,b0));};I.tryGetDocW=function(bZ,b0){return bs.Bind(function(b1){return b1!=null&&b1.$==1?b1.$0.plgDocs.TryFindByKeyAsView(b0):bs.Const(null);},I.tryGetPlugInW(bZ));};I.tryGetQryW=function(bZ,b0){return bs.Bind(function(b1){return b1!=null&&b1.$==1?b1.$0.plgQueries.TryFindByKeyAsView(b0):bs.Const(null);},I.tryGetPlugInW(bZ));};I.tryGetActW=function(bZ,b0){return bs.Bind(function(b1){return b1!=null&&b1.$==1?b1.$0.plgActions.TryFindByKeyAsView(b0):bs.Const(null);},I.tryGetPlugInW(bZ));};I.tryGetViwW=function(bZ,b0){return bs.Bind(function(b1){return b1!=null&&b1.$==1?b1.$0.plgViews.TryFindByKeyAsView(b0):bs.Const(null);},I.tryGetPlugInW(bZ));};I.tryGetVarW=function(bZ,b0){return bs.Bind(function(b1){return b1!=null&&b1.$==1?b1.$0.plgVars.TryFindByKeyAsView(b0):bs.Const(null);},I.tryGetPlugInW(bZ));};I.tryGetPlugInW=function(bZ){return I.plugIns().TryFindByKeyAsView(bZ);};I.plugin=function(){_9.$cctor();return _9.plugin;};I.newDocF=function(bZ,b0){return N.New(bZ,b0);};I.newActF=function(bZ,b0){return O.New(bZ,b0,bs.Const(true));};I.newAct=function(bZ,b0){return O.New(bZ,{$:0,$0:b0},bs.Const(true));};I.newQry=function(bZ,b0){return P.New(bZ,b0);};I.newDoc=function(bZ,b0){return N.New(bZ,{$:0,$0:b0});};I.newViw=function(bZ,b0){return M.New(bZ,b0);};I.newVar=function(bZ,b0){return L.New(bZ,b0);};I.vertical$1681$39=function(bZ){return function(b0){bZ(b0.Event);};};I.vertical$1680$39=a.id;I.vertical$1679$39=a.id;I.vertical=function(bZ,b0,b1,b2,b3){var b4,b5,b6,b7;return(b4=(b5=bL.Make().WithHole({$:2,$0:"partsizes",$1:bZ}).WithHole({$:7,$0:"afterrender",$1:b0}).WithHole({$:7,$0:"afterrendersp",$1:b1}),b5.WithHole(bM.EventQ2(b5.k,"mousedown",function(){return b5.i;},function(b8){b2(b8.Event);}))).WithHole({$:2,$0:"gap",$1:b3}),(b6=bM.CompleteHoles(b4.k,b4.h,[]),(b7=new bN.New(b6[1],$.wcompsplitterver(b6[0])),(b4.i=b7,b7)))).get_Doc();};I.horizontal$1673$39=function(bZ){return function(b0){bZ(b0.Event);};};I.horizontal$1672$39=a.id;I.horizontal$1671$39=a.id;I.horizontal=function(bZ,b0,b1,b2,b3){var b4,b5,b6,b7;return(b4=(b5=bL.Make().WithHole({$:2,$0:"partsizes",$1:bZ}).WithHole({$:7,$0:"afterrender",$1:b0}).WithHole({$:7,$0:"afterrendersp",$1:b1}),b5.WithHole(bM.EventQ2(b5.k,"mousedown",function(){return b5.i;},function(b8){b2(b8.Event);}))).WithHole({$:2,$0:"gap",$1:b3}),(b6=bM.CompleteHoles(b4.k,b4.h,[]),(b7=new bN.New(b6[1],$.wcompsplitterhor(b6[0])),(b4.i=b7,b7)))).get_Doc();};I.mainDoc$1662$42=function(){return function(){I.mainDocV().Set("AppFramework.AppFwkClient");};};I.mainDoc=function(){var bZ,b0,b1,b2,b3,b4;return(bZ=(b0=I.getMainClientDoc(),(b1=(b2=I.mainDocV().get_View(),bL.Make().WithHole({$:2,$0:"maindoc",$1:b2})),b1.WithHole(bM.EventQ2(b1.k,"goclient",function(){return b1.i;},function(){I.mainDocV().Set("AppFramework.AppFwkClient");}))).WithHole({$:0,$0:"mainclient",$1:b0})),(b3=bM.CompleteHoles(bZ.k,bZ.h,[]),(b4=new bN.New(b3[1],$.appframework(b3[0])),(bZ.i=b4,b4)))).get_Doc();};I.getMainClientDoc=function(){var bZ;return bx.EmbedView((bZ=I.plugIns().v,bs.Map2(function(b0,b1){var b2,b3;b2=bj.tryPick(function(b4){var b5;b5=bj.tryFind(function(b6){return b4.plgName.get_Id()===b0||b4.plgName.get_Id()+"."+b6.docName.get_Id()===b0;},b4.plgDocs);return b5==null?null:{$:1,$0:I.getLazyDoc(b5.$0)};},b1);b3=I.AppFwkClient().f();return b2==null?b3:b2.$0;},I.mainDocV().get_View(),bZ)));};I.getLazyDoc=function(bZ){var b0;b0=bZ.docDoc;return b0.$==0?b0.$0.f():bx.Element("div",[],[bx.TextNode((function(b1){return function(b2){return b1("Doc with parameters not allowed here: "+ba.p(b2));};}(a.id))(bZ))]);};I.AppFwkClient=function(){_9.$cctor();return _9.AppFwkClient;};I.renderQueries$1626$39=function(bZ){return function(){a.alert(bZ.qryFunction(null));};};I.renderQueries=function(){function bZ(b1,b2){return[b1.plgName,b2.qryName];}function b0(b1,b2){var b3,b4,b5,b6,b7;return(b3=(b4=(b5=b2.qryName.get_Id(),bL.Make().WithHole({$:1,$0:"name",$1:b5})),b4.WithHole(bM.EventQ2(b4.k,"select",function(){return b4.i;},function(){a.alert(b2.qryFunction(null));}))),(b6=bM.CompleteHoles(b3.k,b3.h,[]),(b7=new bN.New(b6[1],$.tile(b6[0])),(b3.i=b7,b7)))).get_Doc();}return bx.ConvertBy(function(b1){return bZ(b1[0],b1[1]);},function(b1){return b0(b1[0],b1[1]);},bs.Map(function(b1){return bj.map(function(b2){return[b1,b2];},b1.plgQueries);},I.currentPlugInW()));};I.renderActions$1615$51=function(bZ){return function(b0){I.callFunction(b0,null,bZ.actFunction);};};I.renderActions$1611$51=function(bZ){return function(b0){I.callFunction(b0,null,bZ.actFunction);};};I.renderActions=function(){function bZ(b1,b2){return[b1.plgName,b2.actName];}function b0(b1,b2){var b3,b4,b5,b6;b3=(b4=b2.actFunction,b4.$==1?(b5=bi.concat(", ",bg.ofArray([b4.$1])),(function(b7){return function(b8){return b7("("+bk.toSafe(b8)+")");};}(a.id))(b5)):b4.$==2?(b6=bi.concat(", ",bg.ofArray([b4.$1,b4.$2])),(function(b7){return function(b8){return b7("("+bk.toSafe(b8)+")");};}(a.id))(b6)):"");return bx.EmbedView(bs.Map(function(b7){var b8,b9,b_,b$,ca,cb,cc,cd,ce,cf;return b7?(b8=(b9=(b_=b2.actName.get_Id()+b3,bL.Make().WithHole({$:1,$0:"name",$1:b_})),b9.WithHole(bM.EventQ2(b9.k,"click",function(){return b9.i;},function(cg){I.callFunction(cg,null,b2.actFunction);}))),(b$=bM.CompleteHoles(b8.k,b8.h,[]),(ca=new bN.New(b$[1],$.action(b$[0])),(b8.i=ca,ca)))).get_Doc():(cb=(cc=(cd=b2.actName.get_Id(),bL.Make().WithHole({$:1,$0:"name",$1:cd})),cc.WithHole(bM.EventQ2(cc.k,"click",function(){return cc.i;},function(cg){I.callFunction(cg,null,b2.actFunction);}))),(ce=bM.CompleteHoles(cb.k,cb.h,[]),(cf=new bN.New(ce[1],$.actiondisabled(ce[0])),(cb.i=cf,cf)))).get_Doc();},b2.actEnabled));}return bx.ConvertBy(function(b1){return bZ(b1[0],b1[1]);},function(b1){return b0(b1[0],b1[1]);},bs.Map(function(b1){return bj.map(function(b2){return[b1,b2];},b1.plgActions);},I.currentPlugInW()));};I.callFunction=function(bZ,b0,b1){if(b1.$==1)b1.$0(bZ);else if(b1.$==2)(b1.$0(bZ))(b0);else b1.$0();};I.renderDocs$1589$39=function(bZ){return function(){bs.Get(function(b0){var b1;b1=b0.plgName.get_Id()+"."+bZ.docName.get_Id();I.mainDocV().Set(b1);},I.currentPlugInW());};};I.renderDocs=function(){function bZ(b1,b2){return[b1.plgName,b2.docName];}function b0(b1,b2){var b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc;b3=(b4=b2.docDoc,b4.$==1?(b5=bi.concat(", ",bg.ofArray([b4.$1])),(function(cd){return function(ce){return cd("("+bk.toSafe(ce)+")");};}(a.id))(b5)):b4.$==2?(b6=bi.concat(", ",bg.ofArray([b4.$1,b4.$2])),(function(cd){return function(ce){return cd("("+bk.toSafe(ce)+")");};}(a.id))(b6)):b4.$==3?(b7=bi.concat(", ",bg.ofArray([b4.$1,b4.$2,b4.$3])),(function(cd){return function(ce){return cd("("+bk.toSafe(ce)+")");};}(a.id))(b7)):b4.$==4?(b8=bi.concat(", ",bg.ofArray([b4.$1,b4.$2,b4.$3,b4.$4])),(function(cd){return function(ce){return cd("("+bk.toSafe(ce)+")");};}(a.id))(b8)):b4.$==5?(b9=bi.concat(", ",bg.ofArray([b4.$1,b4.$2,b4.$3,b4.$4,b4.$5])),(function(cd){return function(ce){return cd("("+bk.toSafe(ce)+")");};}(a.id))(b9)):"");return(b_=(b$=(ca=b2.docName.get_Id()+b3,bL.Make().WithHole({$:1,$0:"name",$1:ca})),b$.WithHole(bM.EventQ2(b$.k,"select",function(){return b$.i;},function(){bs.Get(function(cd){var ce;ce=cd.plgName.get_Id()+"."+b2.docName.get_Id();I.mainDocV().Set(ce);},I.currentPlugInW());}))),(cb=bM.CompleteHoles(b_.k,b_.h,[]),(cc=new bN.New(cb[1],$.tile(cb[0])),(b_.i=cc,cc)))).get_Doc();}return bx.ConvertBy(function(b1){return bZ(b1[0],b1[1]);},function(b1){return b0(b1[0],b1[1]);},bs.Map(function(b1){return bj.map(function(b2){return[b1,b2];},b1.plgDocs);},I.currentPlugInW()));};I.renderViews=function(){function bZ(b1,b2){return[b1.plgName,b2.viwName];}function b0(b1,b2){var b3,b4,b5,b6;return(b3=(b4=b2.viwName.get_Id(),bL.Make().WithHole({$:1,$0:"name",$1:b4})).WithHole({$:2,$0:"value",$1:b2.viwView}),(b5=bM.CompleteHoles(b3.k,b3.h,[]),(b6=new bN.New(b5[1],$.namevalue(b5[0])),(b3.i=b6,b6)))).get_Doc();}return bx.ConvertBy(function(b1){return bZ(b1[0],b1[1]);},function(b1){return b0(b1[0],b1[1]);},bs.Map(function(b1){return bj.map(function(b2){return[b1,b2];},b1.plgViews);},I.currentPlugInW()));};I.renderVars=function(){function bZ(b1,b2){return[b1.plgName,b2.varName];}function b0(b1,b2){var b3,b4,b5,b6;return(b3=(b4=b2.varName.get_Id(),bL.Make().WithHole({$:1,$0:"name",$1:b4})).WithHole({$:8,$0:"value",$1:b2.varVar}),(b5=bM.CompleteHoles(b3.k,b3.h,[["value",0]]),(b6=new bN.New(b5[1],$.namevalueinput(b5[0])),(b3.i=b6,b6)))).get_Doc();}return bx.ConvertBy(function(b1){return bZ(b1[0],b1[1]);},function(b1){return b0(b1[0],b1[1]);},bs.Map(function(b1){return bj.map(function(b2){return[b1,b2];},b1.plgVars);},I.currentPlugInW()));};I.renderPlugIns$1551$35=function(bZ){return function(){I.selectionPlugInO().Set({$:1,$0:bZ});};};I.renderPlugIns=function(){return bx.Flatten(I.plugIns().MapLens(function(bZ){var b0,b1,b2,b3,b4;return(b0=(b1=(b2=bZ.get_Id(),bL.Make().WithHole({$:1,$0:"name",$1:b2})),b1.WithHole(bM.EventQ2(b1.k,"select",function(){return b1.i;},function(){I.selectionPlugInO().Set({$:1,$0:bZ});}))).WithHole({$:2,$0:"selected",$1:bs.Map(function(b5){return bn.Equals(b5,{$:1,$0:bZ})?"selected":"";},I.selectionPlugInO().get_View())}),(b3=bM.CompleteHoles(b0.k,b0.h,[]),(b4=new bN.New(b3[1],$.tile(b3[0])),(b0.i=b4,b4)))).get_Doc();}));};I.currentPlugInV=function(){_9.$cctor();return _9.currentPlugInV;};I.currentPlugInW=function(){_9.$cctor();return _9.currentPlugInW;};I.selectionPlugInO=function(){_9.$cctor();return _9.selectionPlugInO;};I.splitName=function(bZ){function b0(b2){return s.splitByChar(".",b2);}function b1(b2){return bf.length(b2)===1?[bZ,new J({$:0,$0:bi.Trim(bf.get(b2,0))})]:[new K({$:0,$0:bi.Trim(bf.get(b2,0))}),new J({$:0,$0:bi.Trim(bf.get(b2,1))})];}return function(b2){return b1(b0(b2));};};I.defaultPlugIn=function(){return Q.New(new K({$:0,$0:""}),new bO.New$1(function(bZ){return bZ.varName;}),new bO.New$1(function(bZ){return bZ.viwName;}),new bO.New$1(function(bZ){return bZ.docName;}),new bO.New$1(function(bZ){return bZ.actName;}),new bO.New$1(function(bZ){return bZ.qryName;}));};I.TemplateFileName=function(){_9.$cctor();return _9.TemplateFileName;};I.mainDocV=function(){_9.$cctor();return _9.mainDocV;};I.plugIns=function(){_9.$cctor();return _9.plugIns;};Y.addElements=function(bZ,b0){bZ.elems.AppendMany(b0);};Y.getDoc=function(bZ,b0,b1,b2,b3){return Y.getDocFor(bO.Create(bZ,bg.T.Empty),b0,b1,b2,b3);};Y.getDocFor=function(bZ,b0,b1,b2,b3){var b4,b5,b6,b7,b8,b9;function b_(cb){var cc;return cb!=null&&cb.$==1&&(bZ.ContainsKey(cb.$0)&&(cc=cb.$0,true))?{$:1,$0:cc}:null;}function b$(cb){if(!bn.Equals(b5.Get(),cb))b5.Set(cb);}function ca(cb,cc){b6.Set(null);return bZ.RemoveByKey(cb);}b4=bZ.key;b5=bB.Create$1(null);b6=new bw.New((b7=bs.get_Do(),bs.Bind(function(cb){var cc;return cb!=null&&cb.$==1?(cc=cb.$0,bs.Bind(function(cd){return!cd?bs.Const(null):bs.Const({$:1,$0:cc});},bZ.ContainsKeyAsView(cc))):bs.Const(null);},b5.get_View())),function(cb){return b$(b_(cb));});b8=X.New(bZ,bx.get_Empty(),b6,function(){var cb;cb=b1();bZ.Append(cb);b6.Set({$:1,$0:b4(cb)});return cb;},function(){var cb;cb=b6.Get();cb==null?void 0:ca(cb.$0,null);},b0);b9=b3(b8);return X.New(b8.elems,bx.Convert(a.id,x.MapLens(b2,function(cb,cc){return(b9(bs.Const({$:1,$0:cb})))(cc);},bZ)),b8.selV,b8.add,b8.delCur,b8.def);};Z.addElements=function(bZ,b0){bj.iter(function(b1){bZ.elems.Append([(bZ.add())[0],b1]);},b0);};Z.getDocGuidId=function(bZ,b0,b1){var b2;function b3(b4,b5,b6){return Z.elemUI2(b1,b4,b5,b6);}b2=Z.addNewO(b0,new e({$:0,$0:bQ.NewGuid()}),function(){return new e({$:0,$0:bQ.NewGuid()});});return Y.getDoc(function(b4){return b4[0];},[new e({$:0,$0:"00000000-0000-0000-0000-000000000000"}),bZ],b2,null,bc.Curried3(b3));};Z.getDocGuid=function(bZ,b0,b1){function b2(b3,b4,b5){return Z.elemUI2(b1,b3,b4,b5);}return Y.getDoc(function(b3){return b3[0];},["00000000-0000-0000-0000-000000000000",bZ],Z.addNewO(b0,bQ.NewGuid(),function(){return bQ.NewGuid();}),null,bc.Curried3(b2));};Z.getDocInt=function(bZ,b0,b1){function b2(b3,b4,b5){return Z.elemUI2(b1,b3,b4,b5);}return Y.getDoc(function(b3){return b3[0];},[-1,bZ],Z.addNewO(b0,0,function(b3){return 1+b3;}),null,bc.Curried3(b2));};Z.elemUI2=function(bZ,b0,b1,b2){function b3(b4,b5){return[b4,b5];}return bZ(b0,b1,bB.Lens(b2,function(b4){return b4[1];},function(b4,b5){return(function(b6){var b7;b7=b6[0];return function(b8){return b3(b7,b8);};}(b4))(b5);}));};Z.addNewO=function(bZ,b0,b1){var b2;b2=b0;return function(){var b3;b3=[b2,bZ()];b2=b1(b2);return b3;};};_0.startWith=function(bZ){var b0;b0=_0.startWithHtmlD();(p.resolver(bg.ofArray([["AppFrameworkTemplate.html",H.html()+bZ]]),b0))();};_0.startWithHtmlD=function(){_9.$cctor();return _9.startWithHtmlD;};_0.htmlD=function(){_9.$cctor();return _9.htmlD;};_1.New=function(bZ,b0){return{lytName:bZ,lytDefinition:b0};};_3=_2.Measures=bc.Class({toString:function(){return this.$==1?((((bc.Curried(function(bZ,b0,b1,b2){return bZ(a.String(b0)+"-"+a.String(b1)+"-"+a.String(b2));},4))(a.id))(bh.toInt(this.$0)))(bh.toInt(this.$1)))(bh.toInt(this.$2)):a.String(bh.toInt(this.$1?this.$0:-this.$0));}},null,_3);_5.RPlg={$:4};_5.RAct={$:3};_5.RViw={$:2};_5.RVar={$:1};_5.RDoc={$:0};_4.createEntryO2=function(bZ,b0){function b1(b6,b7){return b0.ContainsKey(b6)?((m.errorf(bc.Curried3(function(b8,b9,b_){return b8("Already exists "+bk.toSafe(b9)+" : "+_.p$3(b_)+" ");})))(b6))(b7):(b0.Add(b6,b7),{$:0,$0:null});}function b2(b6,b7){return be.Map(function(){return[b6,b7];},b1(b6,b7));}function b3(b6,b7){return be.Bind(function(){return{$:1,$0:b6};},b1(bj.head(bi.SplitChars(b7,[" ","\u0009"],1)),{$:0,$0:{$:6,$0:{$:0,$0:"div",$1:{$:0,$0:bg.T.Empty},$2:bg.ofArray([{$:0,$0:bg.ofArray([{$:0,$0:b6}])}])}}}));}function b4(b6){try{return b0.get_Item(b6);}catch(b7){return(function(b8){return function(b9){return b8("Could not find reference to "+bk.toSafe(b9));};}(bh.FailWith))(b6);}}function b5(b6){var b7,b8,b9,b_,b$,ca,cb,cc;if(b6.$==1){b8=b6.$1;b9=b6.$0;try{b$=b4(b9);if(b$.$==5)try{b_=b$.$0.$0.get_Item(b8);}catch(cd){b_=(((bc.Curried3(function(ce,cf,cg){return ce("Could not find reference to "+bk.toSafe(cf)+"."+bk.toSafe(cg));}))(bh.FailWith))(b9))(b8);}else b_=(function(ce){return function(cf){return ce("PlugIn not registered: "+_.p(cf));};}(bh.FailWith))(b6);return[b_,null];}catch(ce){ca=I.tryGetPlugIn(new K({$:0,$0:b9}));return ca!=null&&ca.$==1?(cb=ca.$0,cc=new J({$:0,$0:b8}),[cb.plgDocs.ContainsKey(cc)?_5.RDoc:cb.plgActions.ContainsKey(cc)?_5.RAct:cb.plgVars.ContainsKey(cc)?_5.RVar:cb.plgViews.ContainsKey(cc)?_5.RViw:(((bc.Curried3(function(cf,cg,ch){return cf("Could not find reference to "+bk.toSafe(cg)+"."+bk.toSafe(ch));}))(bh.FailWith))(b9))(b8),null]):bh.FailWith(ce.message);}}else{b7=b4(b6.$0);return[b7.$==1?_5.RAct:b7.$==2?_5.RVar:b7.$==3?_5.RViw:b7.$==4?_5.RViw:b7.$==6?_5.RPlg:b7.$==5?(function(cf){return function(cg){return cf("PlugIn should not be referenced by itself: "+_.p(cg));};}(bh.FailWith))(b6):_5.RDoc,{$:1,$0:b7}];}}return function(b6){var b7,b8;try{b7=(b8=_4.createEntryO(b5,bZ,b6),b8==null?b3((function(b9){return function(b_){return b9("Line not matched!: "+bk.toSafe(b_));};}(a.id))(b6),b6):b2(b8.$0.$0,b8.$0.$1));}catch(b9){b7=b3(b9.message,b6);}return{$:1,$0:b7};};};_4.createEntryO=function(bZ,b0,b1){var b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3;function c4(dl){var dm,dn;dm=_4.R(dl);return dm!=null&&dm.$==1?(dn=dm.$0,{$:1,$0:[bZ(dn),dn]}):null;}function c5(dl){var dm,dn;return(dn=c4(dl),dn!=null&&dn.$==1&&(dn.$0[0][0].$==0&&(dm=dn.$0[1],true)))?{$:1,$0:{$:0,$0:dm}}:null;}function c6(dl){var dm,dn;return(dn=c4(dl),dn!=null&&dn.$==1&&(dn.$0[0][0].$==1&&(dm=dn.$0[1],true)))?{$:1,$0:{$:0,$0:dm}}:null;}function c7(dl){var dm,dn;return(dn=c4(dl),dn!=null&&dn.$==1&&(dn.$0[0][0].$==2&&(dm=dn.$0[1],true)))?{$:1,$0:{$:0,$0:dm}}:null;}function c8(dl){var dm,dn;return(dn=c4(dl),dn!=null&&dn.$==1&&(dn.$0[0][0].$==3&&(dm=dn.$0[1],true)))?{$:1,$0:{$:0,$0:dm}}:null;}function c9(dl){var dm,dn,_do;return(dn=c4(dl),dn!=null&&dn.$==1&&(dn.$0[0][0].$==4&&((_do=dn.$0[0][1],_do!=null&&_do.$==1)&&(dn.$0[0][1].$0.$==6&&(dm=[dn.$0[0][1].$0.$0,dn.$0[1]],true)))))?{$:1,$0:dm[0]}:null;}function c_(dl){var dm,dn;return(dn=_4.R(dl),dn!=null&&dn.$==1&&(dn.$0.$==0&&(dm=dn.$0.$0,true)))?{$:1,$0:dm}:null;}function c$(dl){var dm,dn;return(dn=c_(dl),dn!=null&&dn.$==1&&(bi.StartsWith(dn.$0,"_")&&(dm=dn.$0,true)))?{$:1,$0:dm}:null;}function da(dl){var dm,dn,_do;dm=c6(dl);return dm!=null&&dm.$==1?{$:1,$0:{$:1,$0:dm.$0}}:(dn=c7(dl),dn!=null&&dn.$==1?{$:1,$0:{$:2,$0:dn.$0}}:(_do=c8(dl),_do!=null&&_do.$==1?{$:1,$0:{$:3,$0:_do.$0}}:null));}function db(dl){var dm;dm=s.delimitedO("@{","}",dl);return dm!=null&&dm.$==1?{$:1,$0:[dm.$0[0],{$:1,$0:dm.$0[1]},dm.$0[2]]}:null;}function dc(dl){var dm,dn,_do,dp,dq,dr,ds,dt;return(dn=db(dl),dn!=null&&dn.$==1&&(_do=da(dn.$0[1]),_do!=null&&_do.$==1&&(dm=[dn.$0[2],dn.$0[0],_do.$0],true)))?(dp=dm[0],(dq=dm[1],(dr=dq===""?bg.ofArray([dm[2]]):bg.ofArray([{$:0,$0:dq},dm[2]]),dp===""?{$:1,$0:dr}:(ds=dc(dp),ds!=null&&ds.$==1?{$:1,$0:bg.append(dr,ds.$0)}:null)))):(dt=db(dl),dt!=null&&dt.$==1)?null:{$:1,$0:bg.ofArray([{$:0,$0:dl}])};}function dd(dl){var dm,dn,_do;return(dn=db(dl),dn!=null&&dn.$==1&&(_do=c8(dn.$0[1]),_do!=null&&_do.$==1&&(bi.Trim(dn.$0[0])===""&&bi.Trim(dn.$0[2])===""&&(dm=[dn.$0[2],_do.$0,dn.$0[0]],true))))?{$:1,$0:dm[1]}:null;}function de(dl){var dm,dn;return dl.$==0&&(dn=dc(dl.$0),dn!=null&&dn.$==1&&(dm=dn.$0,true))?{$:1,$0:dm}:null;}function df(dl){return dl.$==0?{$:1,$0:bf.ofSeq(bj.choose(function(dm){var dn,_do,dp,dq,dr,ds,dt,du;dn=bi.SplitChars(bi.Trim(dm),["="],0);return!bn.Equals(dn,null)&&dn.length===2&&(dp=dd(bf.get(dn,1)),dp!=null&&dp.$==1&&(_do=[dp.$0,bf.get(dn,0)],true))?{$:1,$0:{$:2,$0:bi.Trim(_do[1]),$1:_do[0]}}:!bn.Equals(dn,null)&&dn.length===2&&(dr=dc(bf.get(dn,1)),dr!=null&&dr.$==1&&(dq=[bf.get(dn,0),dr.$0],true))?{$:1,$0:{$:1,$0:bi.Trim(dq[0]),$1:dq[1]}}:(ds=bi.SplitChars(bi.Trim(dm),[":"],0),!bn.Equals(ds,null)&&ds.length===2&&(du=dc(bf.get(ds,1)),du!=null&&du.$==1&&(dt=[bf.get(ds,0),du.$0],true))?{$:1,$0:{$:0,$0:bi.Trim(dt[0]),$1:dt[1]}}:(function(dv){return function(dw){return dv("Attributes should be like: \"name=val\" or \"name:val\" and separated by ';' : "+bk.toSafe(dw));};}(bh.FailWith))(dm));},bj.filter(function(dm){return bi.Trim(dm)!=="";},bi.SplitChars(bi.Trim(dl.$0),[";"],0))))}:null;}function dg(dl){var dm,dn,_do,dp,dq;dm=de(dl);return dm!=null&&dm.$==1?{$:1,$0:{$:0,$0:dm.$0}}:(dn=c5(dl),dn!=null&&dn.$==1?{$:1,$0:{$:1,$0:dn.$0}}:(_do=c6(dl),_do!=null&&_do.$==1?{$:1,$0:{$:2,$0:_do.$0}}:(dp=c7(dl),dp!=null&&dp.$==1?{$:1,$0:{$:3,$0:dp.$0}}:(dq=c8(dl),dq!=null&&dq.$==1?{$:1,$0:{$:4,$0:dq.$0}}:null))));}function dh(dl){var dm,dn,_do;switch(dl.$==1?(dn=dg(dl.$0),dn!=null&&dn.$==1?(_do=dh(dl.$1),_do!=null&&_do.$==1?(dm=[dn.$0,_do.$0],1):2):2):0){case 0:return{$:1,$0:bg.T.Empty};case 1:return{$:1,$0:new bg.T({$:1,$0:dm[0],$1:dm[1]})};case 2:return null;}}function di(dl){var dm,dn,_do,dp;dm=de(dl);return dm!=null&&dm.$==1?{$:1,$0:{$:0,$0:dm.$0}}:(dn=c5(dl),dn!=null&&dn.$==1?{$:1,$0:{$:1,$0:dn.$0}}:(_do=c6(dl),_do!=null&&_do.$==1?{$:1,$0:{$:2,$0:_do.$0}}:(dp=c7(dl),dp!=null&&dp.$==1?{$:1,$0:{$:3,$0:dp.$0}}:null)));}function dj(dl){var dm,dn,_do;switch(dl.$==1?(dn=di(dl.$0),dn!=null&&dn.$==1?(_do=dj(dl.$1),_do!=null&&_do.$==1?(dm=[dn.$0,_do.$0],1):2):2):0){case 0:return{$:1,$0:bg.T.Empty};case 1:return{$:1,$0:new bg.T({$:1,$0:dm[0],$1:dm[1]})};case 2:return null;}}function dk(dl){var dm,dn,_do;switch(dl.$==1?(dn=c9(dl.$0),dn!=null&&dn.$==1?(_do=dk(dl.$1),_do!=null&&_do.$==1?(dm=[dn.$0,_do.$0],1):2):2):0){case 0:return{$:1,$0:bg.T.Empty};case 1:return{$:1,$0:new bg.T({$:1,$0:dm[0],$1:dm[1]})};case 2:return null;}}b2=_2.splitTokens(b1);return b2.$==1&&(b4=c_(b2.$0),b4!=null&&b4.$==1&&(b2.$1.$==1&&(_2.PlugIn(b2.$1.$0).$==0&&(b5=dk(b2.$1.$1),b5!=null&&b5.$==1&&(b3=[b5.$0,b4.$0],true)))))?_4.entryPlg(b3[1],{$:0,$0:new bR.New(b3[0])}):b2.$==1&&(b7=c$(b2.$0),b7!=null&&b7.$==1&&(b2.$1.$==1&&(_2.Var(b2.$1.$0).$==1&&(b2.$1.$1.$==1&&(b8=c_(b2.$1.$1.$0),b8!=null&&b8.$==1&&(b2.$1.$1.$1.$==0&&(b6=[b7.$0,b8.$0],true)))))))?_4.entryRef(b6[0],b6[1],_5.RDoc):b2.$==1&&(b_=c$(b2.$0),b_!=null&&b_.$==1&&(b2.$1.$==1&&(_2.Var(b2.$1.$0).$==0&&(b2.$1.$1.$==1&&(b$=c_(b2.$1.$1.$0),b$!=null&&b$.$==1&&(b2.$1.$1.$1.$==0&&(b9=[b_.$0,b$.$0],true)))))))?_4.entryRef(b9[0],b9[1],_5.RVar):b2.$==1&&(cb=c$(b2.$0),cb!=null&&cb.$==1&&(b2.$1.$==1&&(_2.Var(b2.$1.$0).$==2&&(b2.$1.$1.$==1&&(cc=c_(b2.$1.$1.$0),cc!=null&&cc.$==1&&(b2.$1.$1.$1.$==0&&(ca=[cb.$0,cc.$0],true)))))))?_4.entryRef(ca[0],ca[1],_5.RViw):b2.$==1&&(ce=c$(b2.$0),ce!=null&&ce.$==1&&(b2.$1.$==1&&(_2.Var(b2.$1.$0).$==5&&(b2.$1.$1.$==1&&(cf=c_(b2.$1.$1.$0),cf!=null&&cf.$==1&&(b2.$1.$1.$1.$==0&&(cd=[ce.$0,cf.$0],true)))))))?_4.entryRef(cd[0],cd[1],_5.RAct):b2.$==1&&(ch=c_(b2.$0),ch!=null&&ch.$==1&&(b2.$1.$==1&&(_2.Vertical(b2.$1.$0).$==0&&(b2.$1.$1.$==1&&(ci=_2.Measures$1(b2.$1.$1.$0),ci!=null&&ci.$==1&&(b2.$1.$1.$1.$==1&&(cj=c5(b2.$1.$1.$1.$0),cj!=null&&cj.$==1&&(b2.$1.$1.$1.$1.$==1&&(ck=c5(b2.$1.$1.$1.$1.$0),ck!=null&&ck.$==1&&(b2.$1.$1.$1.$1.$1.$==0&&(cg=[cj.$0,ci.$0,ch.$0,ck.$0],true)))))))))))?_4.entryDoc(cg[2],{$:0,$0:{$:0,$0:true,$1:cg[1],$2:cg[0],$3:cg[3]}}):b2.$==1&&(cm=c_(b2.$0),cm!=null&&cm.$==1&&(b2.$1.$==1&&(_2.Vertical(b2.$1.$0).$==1&&(b2.$1.$1.$==1&&(cn=_2.Measures$1(b2.$1.$1.$0),cn!=null&&cn.$==1&&(b2.$1.$1.$1.$==1&&(co=c5(b2.$1.$1.$1.$0),co!=null&&co.$==1&&(b2.$1.$1.$1.$1.$==1&&(cp=c5(b2.$1.$1.$1.$1.$0),cp!=null&&cp.$==1&&(b2.$1.$1.$1.$1.$1.$==0&&(cl=[co.$0,cn.$0,cm.$0,cp.$0],true)))))))))))?_4.entryDoc(cl[2],{$:0,$0:{$:0,$0:false,$1:cl[1],$2:cl[0],$3:cl[3]}}):b2.$==1&&(cr=c_(b2.$0),cr!=null&&cr.$==1&&(b2.$1.$==1&&(_2.PlugIn(b2.$1.$0).$==1&&(b2.$1.$1.$==1&&(cs=c8(b2.$1.$1.$0),cs!=null&&cs.$==1&&(b2.$1.$1.$1.$==1&&(ct=df(b2.$1.$1.$1.$0),ct!=null&&ct.$==1&&(b2.$1.$1.$1.$1.$==1&&(cu=de(b2.$1.$1.$1.$1.$0),cu!=null&&cu.$==1&&(b2.$1.$1.$1.$1.$1.$==0&&(cq=[cs.$0,ct.$0,cr.$0,cu.$0],true)))))))))))?_4.entryDoc(cq[2],{$:1,$0:{$:0,$0:cq[0],$1:cq[1],$2:cq[3]}}):b2.$==1&&(cw=c_(b2.$0),cw!=null&&cw.$==1&&(b2.$1.$==1&&(_2.PlugIn(b2.$1.$0).$==2&&(b2.$1.$1.$==1&&(cx=c6(b2.$1.$1.$0),cx!=null&&cx.$==1&&(b2.$1.$1.$1.$==1&&(cy=df(b2.$1.$1.$1.$0),cy!=null&&cy.$==1&&(b2.$1.$1.$1.$1.$==0&&(cv=[cy.$0,cw.$0,cx.$0],true)))))))))?_4.entryDoc(cv[1],{$:2,$0:{$:0,$0:cv[2],$1:cv[0]}}):b2.$==1&&(cA=c_(b2.$0),cA!=null&&cA.$==1&&(b2.$1.$==1&&(_2.PlugIn(b2.$1.$0).$==3&&(b2.$1.$1.$==1&&(cB=c6(b2.$1.$1.$0),cB!=null&&cB.$==1&&(b2.$1.$1.$1.$==1&&(cC=df(b2.$1.$1.$1.$0),cC!=null&&cC.$==1&&(b2.$1.$1.$1.$1.$==0&&(cz=[cC.$0,cA.$0,cB.$0],true)))))))))?_4.entryDoc(cz[1],{$:3,$0:{$:0,$0:cz[2],$1:cz[0]}}):b2.$==1&&(cE=c_(b2.$0),cE!=null&&cE.$==1&&(b2.$1.$==1&&(_2.Var(b2.$1.$0).$==0&&(b2.$1.$1.$==1&&(cF=(cH=de(b2.$1.$1.$0),cH!=null&&cH.$==1&&(cH.$0.$==1&&(cH.$0.$0.$==0&&(cH.$0.$1.$==0&&(cG=cH.$0.$0.$0,true)))))?{$:1,$0:cG}:null,cF!=null&&cF.$==1&&(b2.$1.$1.$1.$==0&&(cD=[cE.$0,cF.$0],true)))))))?_4.entryVar(cD[0],{$:0,$0:bi.Trim(cD[1])}):b2.$==1&&(cJ=c_(b2.$0),cJ!=null&&cJ.$==1&&(b2.$1.$==1&&(_2.Var(b2.$1.$0).$==1&&(b2.$1.$1.$==1&&(cK=c5(b2.$1.$1.$0),cK!=null&&cK.$==1&&(cL=dh(b2.$1.$1.$1),cL!=null&&cL.$==1&&(cI=[cK.$0,cJ.$0,cL.$0],true)))))))?_4.entryDoc(cI[1],{$:4,$0:{$:0,$0:cI[0],$1:cI[2]}}):b2.$==1&&(cN=c_(b2.$0),cN!=null&&cN.$==1&&(b2.$1.$==1&&(_2.Var(b2.$1.$0).$==2&&(cO=dh(b2.$1.$1),cO!=null&&cO.$==1&&(cM=[cN.$0,cO.$0],true)))))?_4.entryView(cM[0],{$:0,$0:cM[1]}):b2.$==1&&(cQ=c_(b2.$0),cQ!=null&&cQ.$==1&&(b2.$1.$==1&&(_2.Var(b2.$1.$0).$==3&&(cR=dh(b2.$1.$1),cR!=null&&cR.$==1&&(cP=[cQ.$0,cR.$0],true)))))?_4.entryVJS(cP[0],{$:0,$0:cP[1]}):b2.$==1&&(cT=c_(b2.$0),cT!=null&&cT.$==1&&(b2.$1.$==1&&(_2.Var(b2.$1.$0).$==4&&(cU=dj(b2.$1.$1),cU!=null&&cU.$==1&&(cS=[cT.$0,cU.$0],true)))))?_4.entryDoc(cS[0],{$:5,$0:{$:0,$0:cS[1]}}):b2.$==1&&(cW=c_(b2.$0),cW!=null&&cW.$==1&&(b2.$1.$==1&&(_2.Var(b2.$1.$0).$==5&&(b2.$1.$1.$==1&&(cX=c8(b2.$1.$1.$0),cX!=null&&cX.$==1&&(cY=dh(b2.$1.$1.$1),cY!=null&&cY.$==1&&(cV=[cX.$0,cW.$0,cY.$0],true)))))))?_4.entryAct(cV[1],{$:0,$0:cV[0],$1:cV[2]}):b2.$==1&&(c0=c_(b2.$0),c0!=null&&c0.$==1&&(b2.$1.$==1&&(c1=_2.Vertical(b2.$1.$0),c1.$==5&&(b2.$1.$1.$==1&&(c2=dg(b2.$1.$1.$0),c2!=null&&c2.$==1&&(c3=dj(b2.$1.$1.$1),c3!=null&&c3.$==1&&(cZ=[c2.$0,c1.$0,c0.$0,c3.$0],true)))))))?_4.entryDoc(cZ[2],{$:6,$0:{$:0,$0:cZ[1],$1:cZ[0],$2:cZ[3]}}):null;};_4.R=function(bZ){var b0,b1,b2;b0=_2.Identifier(bZ);return b0!=null&&b0.$==1?(b1=bi.SplitChars(b0.$0,["."],0),!bn.Equals(b1,null)&&b1.length===1?{$:1,$0:{$:0,$0:bf.get(b1,0)}}:!bn.Equals(b1,null)&&b1.length===2?(b2=bf.get(b1,1),{$:1,$0:{$:1,$0:bf.get(b1,0),$1:b2}}):null):null;};_4.entryRef=function(bZ,b0,b1){return{$:1,$0:_4.entryDef(bZ,{$:6,$0:[b0,b1]})};};_4.entryPlg=function(bZ,b0){return{$:1,$0:_4.entryDef(bZ,{$:5,$0:b0})};};_4.entryVar=function(bZ,b0){return{$:1,$0:_4.entryDef(bZ,{$:2,$0:b0})};};_4.entryVJS=function(bZ,b0){return{$:1,$0:_4.entryDef(bZ,{$:4,$0:b0})};};_4.entryView=function(bZ,b0){return{$:1,$0:_4.entryDef(bZ,{$:3,$0:b0})};};_4.entryAct=function(bZ,b0){return{$:1,$0:_4.entryDef(bZ,{$:1,$0:b0})};};_4.entryDoc=function(bZ,b0){return{$:1,$0:_4.entryDef(bZ,{$:0,$0:b0})};};_4.entryDef=function(bZ,b0){return{$:0,$0:bZ,$1:b0};};_4.pairOfDocs=function(bZ,b0){var b1;b1=bs.Map(function(b2){var b3;return b2.$==1&&(b2.$1.$==1&&(b2.$1.$1.$==0&&(b3=[b2.$0,b2.$1.$0],true)))?[b3[0],b3[1]]:[I.errDoc((function(b4){return function(b5){return b4("splitter expects exactly 2 elements "+bk.printList(function(b6){return _.p$27(b6);},b5));};}(a.id))(b0)),I.errDoc("part 2")];},bs.Map(function(){return _2.getAllDocs(bZ,b0);},_2.currentViewTriggger()));return[bx.EmbedView(bs.Map(function(b2){return b2[0];},b1)),bx.EmbedView(bs.Map(function(b2){return b2[1];},b1))];};_6.createLayoutDefinitions=function(bZ,b0){var b1,b2,b3,b4,b5,b6,b7,b8,b9,b_;return b0.$==1?(b1=b0.$0.$0,(b2=b0.$0.$1,(b3=_6.createLayoutDefinitions(bZ+"_1",b0.$0.$2),(b4=b3[0],(b5=b3[1],(b6=_6.createLayoutDefinitions(bZ+"_2",b0.$0.$3),(b7=b6[0],(b8=b6[1],[bZ,bf.ofSeq(bj.delay(function(){return bj.append([bi.concat(" ",bg.ofArray([bZ,b1?"vertical":"horizontal",a.String(b2),b4,b7]))],bj.delay(function(){return bj.append(b5,bj.delay(function(){return b8;}));}));}))])))))))):(b9=b0.$0,!bn.Equals(b9,null)&&b9.length===0)?["___",[]]:(b_=b0.$0,!bn.Equals(b_,null)&&b_.length===1)?[bf.get(b0.$0,0),[]]:[bZ,[bZ+" div \"\" "+bi.concat(" ",b0.$0)]];};_6.extractNodes=function(bZ){var b0,b1;function b2(b3,b4,b5,b6){var b7,b8,b9,b_,b$,ca;b7=_6.extractNodes(b5);b8=_6.extractNodes(b6);return(b7.$==0?(b_=b7.$0,!bn.Equals(b_,null)&&b_.length===0)?(b9=b8,true):b8.$==0?(b$=b8.$0,!bn.Equals(b$,null)&&b$.length===0)?(b9=b7,true):(b9=[b7,b8],false):(b9=[b7,b8],false):b8.$==0?(ca=b8.$0,!bn.Equals(ca,null)&&ca.length===0)?(b9=b7,true):(b9=[b7,b8],false):(b9=[b7,b8],false))?b9:{$:1,$0:{$:0,$0:b3,$1:b4,$2:b9[0],$3:b9[1]}};}b0=_6.horizontalSplit(bZ);return b0!=null&&b0.$==1?b2(false,b0.$0[2],b0.$0[0],b0.$0[1]):(b1=_6.verticalSplit(bZ),b1!=null&&b1.$==1?b2(true,b1.$0[2],b1.$0[0],b1.$0[1]):{$:0,$0:_6.cleanSpaces(bZ)});};_6.cleanSpaces=function(bZ){return bf.filter(function(b0){var b1;return!(b1=(t.Int())(b0),b1!=null&&b1.$==1);},bi.SplitStrings(bi.concat(" ",bZ),[" "],1));};_6.verticalSplit=function(bZ){var b0,b1,b2,b3,b4,b5,b6,b7,b8,b9;function b_(cb,cc){var cd,ce,cf;return(ce=u.REGEX$1("^ *\\|+ *$","",cc),ce!=null&&ce.$==1&&(cf=ce.$0,!bn.Equals(cf,null)&&cf.length===1))?{$:1,$0:[cb,cc.indexOf("|")]}:null;}function b$(cb){return bn.Equals(null,cb);}function ca(cb){return bn.Equals(null,cb);}b0=_6.transpose(bZ);b1=(b2=(b3=bj.tryHead(bj.sortBy(function(cb){return cb[1];},bj.choose(function(cb){return b_(cb[0],cb[1]);},bj.indexed(b0)))),b3==null?null:{$:1,$0:b3.$0[0]}),b2==null?null:{$:1,$0:(b4=b2.$0,[_6.transpose(bl.array(b0,null,{$:1,$0:b4-1})),_6.transpose(bl.array(b0,{$:1,$0:b4+1},null))])});return b1==null?null:{$:1,$0:(b5=b1.$0,(b6=b5[0],(b7=b5[1],[bf.filter(function(cb){return b$(_6.extractMeasuresO(cb));},b6),bf.filter(function(cb){return ca(_6.extractMeasuresO(cb));},b7),(b8=bj.tryHead(bj.delay(function(){return bj.append(bj.choose(_6.extractMeasuresO,b6),bj.delay(function(){return bj.map(function(cb){return cb.$==0?cb.$1?new _3({$:0,$0:cb.$0,$1:false}):cb:cb;},bj.choose(_6.extractMeasuresO,b7));}));})),(b9=new _3({$:1,$0:5,$1:50,$2:95}),b8==null?b9:b8.$0))])))};};_6.transpose=function(bZ){var b0;b0=bj.max(bj.map(function(b1){return b1.length;},bZ));return bf.ofSeq(bj.delay(function(){return bj.map(function(b1){return bf.ofSeq(bj.delay(function(){return bj.map(function(b2){return b2.length>b1?b2[b1]:" ";},bZ);})).join("");},bh.range(0,b0-1));}));};_6.horizontalSplit=function(bZ){var b0,b1,b2,b3,b4;function b5(b6,b7){var b8,b9,b_,b$;b8=u.REGEX$1("^ *--+([ ^v0-9]*)-* *$","",b7);return b8!=null&&b8.$==1?{$:1,$0:[[b6,(b9=(b_=bj.tryItem(1,b8.$0),b_==null?null:_6.extractMeasuresO(bi.Replace(bi.Replace(b_.$0,"^",""),"v","-"))),(b$=new _3({$:1,$0:5,$1:50,$2:95}),b9==null?b$:b9.$0))],b7.indexOf("-")]}:null;}b0=(b1=bj.tryHead(bj.sortBy(function(b6){return b6[1];},bj.choose(function(b6){return b5(b6[0],b6[1]);},bj.indexed(bZ)))),b1==null?null:{$:1,$0:b1.$0[0]});return b0==null?null:{$:1,$0:(b2=b0.$0,(b3=b2[0],(b4=b2[1],[bl.array(bZ,null,{$:1,$0:b3-1}),bl.array(bZ,{$:1,$0:b3+1},null),b4])))};};_6.extractMeasuresO=function(bZ){var b0,b1,b2,b3,b4,b5,b6;b0=bi.SplitChars(bZ,[" "],1);return!bn.Equals(b0,null)&&b0.length===1&&(b2=(t.Int())(bf.get(b0,0)),b2!=null&&b2.$==1&&(b1=b2.$0,true))?{$:1,$0:new _3({$:0,$0:bS.abs(b1),$1:b1>=0})}:!bn.Equals(b0,null)&&b0.length===3&&(b4=(t.Int())(bf.get(b0,0)),b4!=null&&b4.$==1&&(b5=(t.Int())(bf.get(b0,1)),b5!=null&&b5.$==1&&(b6=(t.Int())(bf.get(b0,2)),b6!=null&&b6.$==1&&(b3=[b6.$0,b4.$0,b5.$0],true))))?{$:1,$0:new _3({$:1,$0:b3[1],$1:b3[2],$2:b3[0]})}:null;};_2.addNewLayout=function(bZ,b0){var b1,b2;_2.addLayout((b1=(b2=!bn.Equals(b0,null)?b0:"\r\n            split horizontal 0-50-100 AppFramework.AppFwkClient Hello\r\n            Hello h1 \"color:blue; class=btn-primary\" \"How are you today?\" Ask\r\n            Ask Doc InputLabel \"placeholder=Type you answer here...\" \"Answer:\" AppFramework.mainDocV  \r\n            ",(s.unindentStr())(b2)),_2.newLyt(!bn.Equals(b0,null)?bZ:new K({$:0,$0:"Lyt_"+bi.Replace(a.String(bQ.NewGuid()),"-","")}),b1)));};_2.newLyt=function(bZ,b0){return _1.New(bZ,bB.Create$1(b0));};_2.addLayout=function(bZ){bs.Sink(function(b0){var b1;_2.set_currentViewTriggger(bs.Map2(function(b2,b3){return b2+b3;},bZ.lytDefinition.get_View(),I.mainDocV().get_View()));_2.refreshEntries(bZ.lytName,(b1=(_2.createEntries(bZ.lytName))(b0),bj.append(bg.ofArray([{$:0,$0:I.newVar(new J({$:0,$0:"Layout"}),bZ.lytDefinition)}]),b1)));},bZ.lytDefinition.get_View());};_2.refreshEntries=function(bZ,b0){var b1,b2,b3,b4;b1=(b2=I.tryGetPlugIn(bZ),b2==null?(b3=(b4=I.defaultPlugIn(),Q.New(bZ,b4.plgVars,b4.plgViews,b4.plgDocs,b4.plgActions,b4.plgQueries)),(I.addPlugIn(b3),b3)):b2.$0);x.refreshLM(b1.plgVars,bf.ofSeq(bj.delay(function(){return _2.getVarEntries(b0);})));x.refreshLM(b1.plgViews,bf.ofSeq(bj.delay(function(){return _2.getViewEntries(b0);})));x.refreshLM(b1.plgActions,bf.ofSeq(bj.delay(function(){return _2.getActionEntries(b0);})));x.refreshLM(b1.plgQueries,bf.ofSeq(bj.delay(function(){return _2.getQueryEntries(b0);})));x.refreshLM(b1.plgDocs,bf.ofSeq(bj.delay(function(){return bj.append(_2.getDocEntries(b0),bj.delay(function(){return bj.append([I.newDocF(new J({$:0,$0:"InputFile"}),{$:4,$0:bc.Curried(_2.inputFile,4,[bZ]),$1:"attrs",$2:"Label",$3:"Action",$4:"[Doc]"})],bj.delay(function(){return bj.append([I.newDocF(new J({$:0,$0:"InputLabel"}),{$:3,$0:bc.Curried(_2.inputLabel,3,[bZ]),$1:"attrs",$2:"Label",$3:"Var"})],bj.delay(function(){return[I.newDocF(new J({$:0,$0:"none"}),{$:1,$0:_2.none,$1:"x"})];}));}));}));})));};_2.none=function(bZ){return bx.Element("span",[],[]);};_2.inputLabel=function(bZ,b0,b1,b2){var b3,b4,b5;b3=(b4=(b5=((_2.splitName())(bZ))(b2),I.tryGetVar(b5[0],b5[1])),b4==null?null:{$:1,$0:bx.Element("div",_2.getAttrs(bZ,{$:0,$0:b0}),[bx.Element("div",[bA.Create("class","input-group")],[bx.Element("span",[bA.Create("class","input-group-addon")],[_2.getText(bZ,{$:0,$0:b1})]),bx.Input([bA.Create("class","form-control")],b4.$0.varVar)])])});return b3==null?I.errDoc((function(b6){return function(b7){return b6("Var not found "+bk.toSafe(b7));};}(a.id))(b2)):b3.$0;};_2.inputFile$3459$67=bc.Curried3(function(bZ,b0,b1){return I.callFunction(b0,null,bZ.actFunction);});_2.inputFile$3458$67=bc.Curried3(function(bZ,b0,b1){b0.value="";});_2.inputFile=function(bZ,b0,b1,b2,b3){var b4,b5,b6,b7;b4=(b5=(b6=((_2.splitName())(bZ))(b2),I.tryGetAct(b6[0],b6[1])),b5==null?null:{$:1,$0:(b7=b5.$0,bx.Element("div",_2.getAttrs(bZ,{$:0,$0:b0}),[bx.Element("div",[bA.Create("class","input-group")],[bx.Element("span",[bA.Create("class","input-group-btn")],[bx.Element("label",[bA.Create("class","btn")],[_2.getText(bZ,{$:0,$0:b1}),bx.Element("input",[bA.Create("class","form-control"),bA.Create("type","file"),bz.Style("display","none"),bA.HandlerImpl("click",function(b8){return function(){b8.value="";};}),bA.HandlerImpl("change",function(b8){return function(){return I.callFunction(b8,null,b7.actFunction);};})],[])])]),b3!==""?_2.singleDoc(bZ,bg.ofArray([{$:1,$0:b3}])):bx.get_Empty()])]))});return b4==null?I.errDoc((function(b8){return function(b9){return b8("Action not found "+bk.toSafe(b9));};}(a.id))(b2)):b4.$0;};_2.getQueryEntries=function(bZ){function b0(b1){return b1[1];}return bj.map(function(b1){return bj.last(b0(b1));},bj.groupBy(function(b1){return b1.qryName;},bj.choose(function(b1){return b1.$==4?{$:1,$0:b1.$0}:null;},bZ)));};_2.getActionEntries=function(bZ){function b0(b1){return b1[1];}return bj.map(function(b1){return bj.last(b0(b1));},bj.groupBy(function(b1){return b1.actName;},bj.choose(function(b1){return b1.$==3?{$:1,$0:b1.$0}:null;},bZ)));};_2.getViewEntries=function(bZ){function b0(b1){return b1[1];}return bj.map(function(b1){return bj.last(b0(b1));},bj.groupBy(function(b1){return b1.viwName;},bj.choose(function(b1){return b1.$==1?{$:1,$0:b1.$0}:null;},bZ)));};_2.getVarEntries=function(bZ){function b0(b1){return b1[1];}return bj.map(function(b1){return bj.last(b0(b1));},bj.groupBy(function(b1){return b1.varName;},bj.choose(function(b1){return b1.$==0?{$:1,$0:b1.$0}:null;},bZ)));};_2.getDocEntries=function(bZ){function b0(b1){return b1[1];}return bj.map(function(b1){return bj.last(b0(b1));},bj.groupBy(function(b1){return b1.docName;},bj.choose(function(b1){return b1.$==2?{$:1,$0:b1.$0}:null;},bZ)));};_2.getText=function(bZ,b0){var b1,b2,b3,b4,b5,b6,b7,b8,b9;b1=_2.Identifier(b0);return b1!=null&&b1.$==1?(b2=b1.$0,(b3=((_2.splitName())(bZ))(b2),(b4=b3[0],(b5=b3[1],(b6=(b7=I.tryGetViw(b4,b5),b7==null?null:{$:1,$0:bx.TextView(b7.$0.viwView)}),b6==null?(b8=(b9=I.tryGetVar(b4,b5),b9==null?null:{$:1,$0:bx.TextView(b9.$0.varVar.get_View())}),b8==null?bx.TextNode(b2):b8.$0):b6.$0))))):bx.TextNode(_2.S(b0));};_2.createEntries=function(bZ){function b0(b1){return _2.createEntryO(bZ,b1);}return function(b1){return _2.processText(b0,b1);};};_2.parseEntries=function(bZ,b0){return _2.processText(_4.createEntryO2(bZ,new bT.New$5()),b0);};_2.processText=function(bZ,b0){return _2.processLines(bZ,bi.SplitChars(b0,["\n","\r"],1));};_2.processLines=function(bZ,b0){function b1(b2){var b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc;b3=bj.tryHead(b2);return b3!=null&&b3.$==1?(b4=b3.$0,(b5=_2.splitTokens(b4),b5.$==1&&(b7=_2.Identifier(b5.$0),b7!=null&&b7.$==1&&(b5.$1.$==1&&(_2.Vertical(b5.$1.$0).$==2&&(b5.$1.$1.$==0&&(b6=b7.$0,true)))))?(b8=_2.getExtraLines(function(cd){return bi.StartsWith(bi.Trim(cd),"|");},b2),b1((_6.createLayoutDefinitions(b6,_6.extractNodes(b8[0])))[1].concat(b8[1]))):b5.$==0?b1(bl.array(b2,{$:1,$0:1},null)):(b9=_2.getExtraLines(function(cd){return bi.StartsWith(bi.Trim(cd),":");},b2),(b_=b9[1],(b$=b9[0],bf.length(b$)>0?(ca=_2.createLines(bj.nth(0,bi.SplitChars(b4,[" "],1)),1,[],[],1,b$),(cb=ca[0],(cc=ca[1],b1(bf.ofSeq(bj.delay(function(){return bj.append(cc,bj.delay(function(){return bj.append([b4+" "+bi.concat(" ",cb)],bj.delay(function(){return b_;}));}));})))))):bf.ofSeq(bj.delay(function(){var cd;return bj.append((cd=bZ(b4),cd!=null&&cd.$==1?[cd.$0]:[]),bj.delay(function(){return b1(b_);}));}))))))):[];}return b1(b0);};_2.createLines=function(bZ,b0,b1,b2,b3,b4){var b5,b6,b7,b8,b9,b_,b$,ca,cb,cc;b5=bi.replicate(b0,":");b6=":"+b5;b7=bj.tryHead(b4);return b7!=null&&b7.$==1?(b8=s.StartsWith(b5,bi.Trim(b7.$0)),b8!=null&&b8.$==1?(b9=b8.$0,(b_=_2.getExtraLines(function(cd){return bi.StartsWith(bi.Trim(cd),b6);},b4),(b$=(((bc.Curried3(function(cd,ce,cf){return cd("_"+bk.toSafe(ce)+"_"+a.String(cf));}))(a.id))(bZ))(b3),(ca=_2.createLines(b$,b0+1,[],[],1,b_[0]),(cb=ca[1],(cc=ca[0],_2.createLines(bZ,b0,bf.ofSeq(bj.delay(function(){return bj.append(b1,bj.delay(function(){return[b$];}));})),bf.ofSeq(bj.delay(function(){return bj.append(b2,bj.delay(function(){return bj.append(cb,bj.delay(function(){return[b$+" "+b9+" "+bi.concat(" ",cc)];}));}));})),b3+1,b_[1]))))))):[b1,b2]):[b1,b2];};_2.getExtraLines=function(bZ,b0){var b1,b2,b3,b4;b1=(b2=(b3=bj.tryFindIndex(function(b5){return bi.Trim(b5)!==""&&!bZ(b5);},bj.skip(1,b0)),b3==null?null:{$:1,$0:1+b3.$0}),(b4=bf.length(b0),b2==null?b4:b2.$0));return[bl.array(b0,{$:1,$0:1},{$:1,$0:b1-1}),bl.array(b0,{$:1,$0:b1},null)];};_2.createEntryO=function(bZ,b0){var b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG;try{b1=_2.splitTokens(b0);return b1.$==1&&(b3=_2.Identifier(b1.$0),b3!=null&&b3.$==1&&(b1.$1.$==1&&(_2.Vertical(b1.$1.$0).$==0&&(b1.$1.$1.$==1&&(b4=_2.Measures$1(b1.$1.$1.$0),b4!=null&&b4.$==1&&(b2=[b1.$1.$1.$1,b4.$0,b3.$0],true))))))?(b5=b2[2],_2.entryDoc(new J({$:0,$0:b5}),(_2.createSplitterM())([bZ,b5,true,b2[1],b2[0]]))):b1.$==1&&(b7=_2.Identifier(b1.$0),b7!=null&&b7.$==1&&(b1.$1.$==1&&(_2.Vertical(b1.$1.$0).$==1&&(b1.$1.$1.$==1&&(b8=_2.Measures$1(b1.$1.$1.$0),b8!=null&&b8.$==1&&(b6=[b1.$1.$1.$1,b8.$0,b7.$0],true))))))?(b9=b6[2],_2.entryDoc(new J({$:0,$0:b9}),(_2.createSplitterM())([bZ,b9,false,b6[1],b6[0]]))):b1.$==1&&(b$=_2.Identifier(b1.$0),b$!=null&&b$.$==1&&(b1.$1.$==1&&(_2.PlugIn(b1.$1.$0).$==1&&(b1.$1.$1.$==1&&(ca=_2.Identifier(b1.$1.$1.$0),ca!=null&&ca.$==1&&(b1.$1.$1.$1.$==1&&(b1.$1.$1.$1.$1.$==1&&(b1.$1.$1.$1.$1.$1.$==0&&(b_=[ca.$0,b1.$1.$1.$1.$0,b$.$0,b1.$1.$1.$1.$1.$0],true)))))))))?(cb=b_[2],_2.entryDoc(new J({$:0,$0:cb}),(_2.createButtonM())([bZ,cb,b_[0],b_[1],b_[3]]))):b1.$==1&&(cd=_2.Identifier(b1.$0),cd!=null&&cd.$==1&&(b1.$1.$==1&&(_2.PlugIn(b1.$1.$0).$==2&&(b1.$1.$1.$==1&&(ce=_2.Identifier(b1.$1.$1.$0),ce!=null&&ce.$==1&&(b1.$1.$1.$1.$==1&&(b1.$1.$1.$1.$1.$==0&&(cc=[b1.$1.$1.$1.$0,cd.$0,ce.$0],true))))))))?(cf=cc[1],_2.entryDoc(new J({$:0,$0:cf}),(_2.createInputM())([bZ,cf,cc[2],cc[0]]))):b1.$==1&&(ch=_2.Identifier(b1.$0),ch!=null&&ch.$==1&&(b1.$1.$==1&&(_2.PlugIn(b1.$1.$0).$==3&&(b1.$1.$1.$==1&&(ci=_2.Identifier(b1.$1.$1.$0),ci!=null&&ci.$==1&&(b1.$1.$1.$1.$==1&&(b1.$1.$1.$1.$1.$==0&&(cg=[b1.$1.$1.$1.$0,ch.$0,ci.$0],true))))))))?(cj=cg[1],_2.entryDoc(new J({$:0,$0:cj}),(_2.createTextAreaM())([bZ,cj,cg[2],cg[0]]))):b1.$==1&&(cl=_2.Identifier(b1.$0),cl!=null&&cl.$==1&&(b1.$1.$==1&&(_2.Var(b1.$1.$0).$==0&&(b1.$1.$1.$==1&&(b1.$1.$1.$1.$==0&&(ck=[cl.$0,_2.S(b1.$1.$1.$0)],true))))))?(cm=ck[0],_2.entryVar(new J({$:0,$0:cm}),(_2.createVarM())([bZ,cm,ck[1]]))):b1.$==1&&(co=_2.Identifier(b1.$0),co!=null&&co.$==1&&(b1.$1.$==1&&(_2.Var(b1.$1.$0).$==1&&(b1.$1.$1.$==1&&(cn=[_2.S(b1.$1.$1.$0),co.$0,b1.$1.$1.$1],true)))))?(cp=cn[1],_2.entryDoc(new J({$:0,$0:cp}),(_2.createDocM())([bZ,cp,cn[0],cn[2]]))):b1.$==1&&(cr=_2.Identifier(b1.$0),cr!=null&&cr.$==1&&(b1.$1.$==1&&(_2.Var(b1.$1.$0).$==2&&(cq=[cr.$0,b1.$1.$1],true))))?(cs=cq[0],_2.entryView(new J({$:0,$0:cs}),(_2.createViewM())([bZ,cs,cq[1]]))):b1.$==1&&(cu=_2.Identifier(b1.$0),cu!=null&&cu.$==1&&(b1.$1.$==1&&(_2.Vertical(b1.$1.$0).$==4&&(b1.$1.$1.$==1&&(b1.$1.$1.$1.$==1&&(ct=[b1.$1.$1.$1.$0,b1.$1.$1.$1.$1,cu.$0,_2.S(b1.$1.$1.$0)],true))))))?(cv=ct[2],_2.entryDoc(new J({$:0,$0:cv}),(_2.createTemplateM())([bZ,cv,ct[3],ct[0],ct[1]]))):b1.$==1&&(cx=_2.Identifier(b1.$0),cx!=null&&cx.$==1&&(b1.$1.$==1&&(_2.Var(b1.$1.$0).$==4&&(cw=[b1.$1.$1,cx.$0],true))))?(cy=cw[1],_2.entryDoc(new J({$:0,$0:cy}),(_2.createConcatM())([bZ,cy,cw[0]]))):b1.$==1&&(cA=_2.Identifier(b1.$0),cA!=null&&cA.$==1&&(b1.$1.$==1&&(_2.Var(b1.$1.$0).$==5&&(b1.$1.$1.$==1&&(cB=_2.Identifier(b1.$1.$1.$0),cB!=null&&cB.$==1&&(cz=[cB.$0,cA.$0,b1.$1.$1.$1],true))))))?(cC=cz[1],_2.entryAct(new J({$:0,$0:cC}),(_2.createActionM())([bZ,cC,cz[0],cz[2]]))):b1.$==1&&(cE=_2.Identifier(b1.$0),cE!=null&&cE.$==1&&(b1.$1.$==1&&(cF=_2.Vertical(b1.$1.$0),cF.$==5&&(b1.$1.$1.$==1&&(cD=[b1.$1.$1.$0,b1.$1.$1.$1,cF.$0,cE.$0],true)))))?(cG=cD[3],_2.entryDoc(new J({$:0,$0:cG}),(_2.createElementM())([bZ,cG,cD[2],cD[0],cD[1]]))):null;}catch(cH){return null;}};_2.entryAct=function(bZ,b0){return{$:1,$0:{$:3,$0:I.newActF(bZ,b0)}};};_2.entryView=function(bZ,b0){return{$:1,$0:{$:1,$0:I.newViw(bZ,b0)}};};_2.entryVar=function(bZ,b0){return{$:1,$0:{$:0,$0:I.newVar(bZ,b0)}};};_2.entryDoc=function(bZ,b0){return{$:1,$0:{$:2,$0:I.newDoc(bZ,bH.Create(function(){return b0;}))}};};_2.createActionM=function(){_9.$cctor();return _9.createActionM;};_2.createViewM=function(){_9.$cctor();return _9.createViewM;};_2.createVarM=function(){_9.$cctor();return _9.createVarM;};_2.createConcatM=function(){_9.$cctor();return _9.createConcatM;};_2.createTemplateM=function(){_9.$cctor();return _9.createTemplateM;};_2.createDocM=function(){_9.$cctor();return _9.createDocM;};_2.createElementM=function(){_9.$cctor();return _9.createElementM;};_2.createTextAreaM=function(){_9.$cctor();return _9.createTextAreaM;};_2.createInputM=function(){_9.$cctor();return _9.createInputM;};_2.createButtonM=function(){_9.$cctor();return _9.createButtonM;};_2.createSplitterM=function(){_9.$cctor();return _9.createSplitterM;};_2.createView=function(bZ,b0,b1){return bs.Bind(function(){var b2;function b3(b4){return b4.$==1?(function(b5){return function(b6){return b5(ba.p$1(b6));};}(a.id))(b4.$0):b4.$0;}try{return bs.Map(function(b4){try{return!bn.Equals(b4,null)&&b4.length===0?"No JS function specified":!bn.Equals(b4,null)&&b4.length===1?a.String(a["eval"](bf.get(b4,0))):a.String(a["eval"](bf.get(b4,0)).apply(null,bl.array(b4,{$:1,$0:1},null)));}catch(b5){return b5.message;}},bs.Map((b2=function(b4){return bj.map(b3,b4);},function(b4){return bf.ofSeq(b2(b4));}),v.traverseSeq(function(b4){return _2.getTextToken(bZ,b4);},b1)));}catch(b4){return bs.Const(b4.message);}},_2.currentViewTriggger());};_2.findJSEntry=function(bZ){return bj.fold(function(b0,b1){var b2;return b0==null?null:(b2=b0.$0,!b2[b1]?null:{$:1,$0:b2[b1]});},{$:1,$0:a},s.splitByChar(".",bZ));};_2.createVar=function(bZ,b0,b1){return bB.Create$1(b1);};_2.createConcat=function(bZ,b0,b1){return _2.turnToView(function(){return bx.Concat(_2.getAllDocs(bZ,b1));});};_2.createAction=function(bZ,b0,b1,b2){var b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce;b7=(b4=((_2.splitName())(bZ))(b1),I.tryGetAct(b4[0],b4[1]));if(b7==null)b3=null;else{b8=b7.$0;if(b2.$===0)b5=b8.actFunction;else{b9=b8.actFunction;switch(b9.$==1?b2.$==1?b2.$1.$==0?(b6=[b9.$0,b2.$0],0):3:3:b9.$==2?b2.$==1?b2.$1.$==0?(b6=[b9.$0,b9.$2,b2.$0],2):b2.$1.$1.$==0?(b6=[b9.$0,b2.$0,b2.$1.$0],1):3:3:3){case 0:b5=(b_=b6[0],(b$=b6[1],{$:0,$0:function(){_2.getParamText(bZ,b$,b_);}}));break;case 1:b5=(ca=b6[0],(cb=b6[1],(cc=b6[2],{$:0,$0:function(){_2.getParamText(bZ,cb,function(cf){_2.getParamText(bZ,cc,ca(cf));});}})));break;case 2:b5=(cd=b6[0],(ce=b6[2],{$:1,$0:function(cf){_2.getParamText(bZ,ce,function(cg){(cd(cg))(cf);});},$1:b6[1]}));break;case 3:b5={$:0,$0:function(){((((bc.Curried(function(cf,cg,ch,ci){return cf("Parameters do not coincide for Action "+bk.toSafe(cg)+" "+bk.printList(function(cj){return _.p$27(cj);},ch)+" "+ba.p$1(ci));},4))(function(cf){bq.log(cf);}))(b1))(b2))(b8);}};break;}}b3={$:1,$0:b5};}return b3==null?{$:0,$0:function(){((function(cf){return function(cg){return cf("Action Not Found "+bk.toSafe(cg));};}(function(cf){bq.log(cf);}))(b1));}}:b3.$0;};_2.getParamText=function(bZ,b0,b1){bs.Get(function(b2){if(b2.$==1)b1(b2.$0);else b1(b2.$0);},_2.getTextToken(bZ,b0));};_2.createTemplate=function(bZ,b0,b1,b2,b3){return _2.turnToView(function(){var b4,b5,b6,b7,b8,b9;b6=_2.getAttrs(bZ,b2);bE.LoadLocalTemplates("local");function b_(ca,cb){var cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm;cc=_2.S(ca);cd=_2.Identifier(cb);return cd!=null&&cd.$==1?(ce=cd.$0,cf=(cg=(ch=(ci=((_2.splitName())(bZ))(ce),I.tryGetDoc(ci[0],ci[1])),ch==null?null:{$:1,$0:{$:0,$0:cc.toLowerCase(),$1:(_2.getDocF(bg.T.Empty,ch.$0))[0]}}),cg==null?(cj=(ck=((_2.splitName())(bZ))(ce),I.tryGetVar(ck[0],ck[1])),cj==null?null:{$:1,$0:{$:8,$0:cc.toLowerCase(),$1:cj.$0.varVar}}):cg),cf==null?{$:0,$0:cc.toLowerCase(),$1:I.errDoc((function(cn){return function(co){return cn("Missing element: "+bk.toSafe(co));};}(a.id))(ce))}:cf.$0):(cl=_2.S(ca),cm=_2.S(cb),{$:0,$0:cl.toLowerCase(),$1:I.errDoc((function(cn){return function(co){return cn("Not implemented: "+bk.toSafe(co));};}(a.id))(cm))});}function b$(ca,cb){return ca%2===0;}try{b5={$:1,$0:(b7=(b8=bj.map(function(ca){return b_(ca[0],ca[1]);},bj.map(function(ca){return ca[1];},bj.filter(function(ca){return b$(ca[0],ca[1]);},bj.indexed(bj.pairwise(b3))))),(bj.isEmpty(b6)?a.id:(b9=[{$:3,$0:"attrs",$1:bA.Concat(b6)}],function(ca){return bj.append(b9,ca);}))(b8)),bE.NamedTemplate("local",{$:1,$0:b1.toLowerCase()},b7))};}catch(ca){b5=null;}return b5==null?I.errDoc((function(cb){return function(cc){return cb("Missing template: "+bk.toSafe(cc));};}(a.id))(b1)):b5.$0;});};_2.createDoc=function(bZ,b0,b1,b2){return _2.turnToView(function(){var b3,b4,b5;b3=(b4=(b5=((_2.splitName())(bZ))(b1),I.tryGetDoc(b5[0],b5[1])),b4==null?null:{$:1,$0:_2.getDocFinal(b2,b4.$0)});return b3==null?I.errDoc((function(b6){return function(b7){return b6("Missing doc: "+bk.toSafe(b7));};}(a.id))(b1)):b3.$0;});};_2.createTextArea=function(bZ,b0,b1,b2){return _2.turnToView(function(){var b3;return bx.BindView(function(b4){return b4==null?I.errDoc((function(b5){return function(b6){return b5("Missing var: "+bk.toSafe(b6));};}(a.id))(b1)):bx.InputArea(_2.getAttrs(bZ,b2),b4.$0);},(b3=((_2.splitName())(bZ))(b1),I.tryGetVoVW(b3[0],b3[1])));});};_2.createInput=function(bZ,b0,b1,b2){return _2.turnToView(function(){var b3;return bx.BindView(function(b4){return b4==null?I.errDoc((function(b5){return function(b6){return b5("Missing var: "+bk.toSafe(b6));};}(a.id))(b1)):bx.Input(_2.getAttrs(bZ,b2),b4.$0);},(b3=((_2.splitName())(bZ))(b1),I.tryGetVoVW(b3[0],b3[1])));});};_2.createButton=function(bZ,b0,b1,b2,b3){var b4;b4=_2.S(b3);return _2.turnToView(function(){var b5,b6,b7,b8,b9;function b_(b$,ca){return I.callFunction(null,null,b$.actFunction);}b5=(b6=(b7=(b8=((_2.splitName())(bZ))(b1),I.tryGetAct(b8[0],b8[1])),b7==null?null:{$:1,$0:(b9=b7.$0,function(b$){return b_(b9,b$);})}),b6==null?a.ignore:b6.$0);return bx.Button(b4,_2.getAttrs(bZ,b2),b5);});};_2.createElement=function(bZ,b0,b1,b2,b3){return _2.turnToView(function(){var b4;b4=[bx.Concat(_2.getAllDocs(bZ,b3))];return bx.Element(b1,_2.getAttrs(bZ,b2),b4);});};_2.createSplitter=function(bZ,b0,b1,b2,b3){var b4;b4=_2.pairOfDocs(bZ,b3);return b2.$==1?_2.variableSplitter(b1,b2.$0,b2.$1,b2.$2,b4[0],b4[1]):_2.fixedSplitter(b1,b2.$0,b2.$1,b4[0],b4[1]);};_2.singleDoc=function(bZ,b0){return bx.EmbedView(bs.Map(function(b1){var b2;return b1.$==1&&(b1.$1.$==0&&(b2=b1.$0,true))?b2:I.errDoc((function(b3){return function(b4){return b3("expected exactly 1 element "+bk.printList(function(b5){return _.p$27(b5);},b4));};}(a.id))(b0));},bs.Map(function(){return _2.getAllDocs(bZ,b0);},_2.currentViewTriggger())));};_2.pairOfDocs=function(bZ,b0){var b1;b1=bs.Map(function(b2){var b3;return b2.$==1&&(b2.$1.$==1&&(b2.$1.$1.$==0&&(b3=[b2.$0,b2.$1.$0],true)))?[b3[0],b3[1]]:[I.errDoc((function(b4){return function(b5){return b4("splitter expects exactly 2 elements "+bk.printList(function(b6){return _.p$27(b6);},b5));};}(a.id))(b0)),I.errDoc("part 2")];},bs.Map(function(){return _2.getAllDocs(bZ,b0);},_2.currentViewTriggger()));return[bx.EmbedView(bs.Map(function(b2){return b2[0];},b1)),bx.EmbedView(bs.Map(function(b2){return b2[1];},b1))];};_2.getDocs_=function(bZ,b0){var b1;return b0.$==0?bg.T.Empty:(b1=_2.getOneDoc(bZ,b0),new bg.T({$:1,$0:b1[0],$1:_2.getDocs_(bZ,b1[1])}));};_2.getOneDoc=function(bZ,b0){var b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca;return b0.$==1&&(b2=_2.Identifier(b0.$0),b2!=null&&b2.$==1&&(b1=[b2.$0,b0.$1],true))?(b3=b1[0],(b4=b1[1],(b5=((_2.splitName())(bZ))(b3),(b6=b5[0],(b7=b5[1],(b8=(b9=I.tryGetDoc(b6,b7),b9==null?null:{$:1,$0:_2.getDocF(b4,b9.$0)}),b8==null?(b_=(b$=I.tryGetWoW(b6,b7),b$==null?null:{$:1,$0:[bx.TextView(b$.$0),b4]}),b_==null?[I.errDoc((ca=(function(cb){return function(cc){return cb("Missing doc: "+bk.toSafe(cc));};}(a.id))(b3),(c.print(ca),ca))),b4]:b_.$0):b8.$0)))))):b0.$==0?[bx.get_Empty(),bg.T.Empty]:[bx.TextView(bs.Map(function(cb){return cb.$==1?(function(cc){return function(cd){return cc("Unexpected action: "+bk.toSafe(cd));};}(a.id))(cb.$0.actName.get_Id()):cb.$0;},_2.getTextData(bZ,_2.S(b0.$0)))),b0.$1];};_2.getAllDocs=function(bZ,b0){return b0.$==1?new bg.T({$:1,$0:_2.getADoc(bZ,b0.$0),$1:_2.getAllDocs(bZ,b0.$1)}):bg.T.Empty;};_2.getADoc=function(bZ,b0){var b1,b2,b3,b4,b5;b1=_2.Identifier(b0);return b1!=null&&b1.$==1?(b2=b1.$0,(b3=((_2.splitName())(bZ))(b2),(b4=b3[0],(b5=b3[1],bx.BindView(function(b6){return b6==null?bx.BindView(function(b7){var b8;return b7==null?I.errDoc((b8=(function(b9){return function(b_){return b9("Missing doc: "+bk.toSafe(b_));};}(a.id))(b2),(c.print(b8),b8))):bx.TextNode(b7.$0);},I.tryGetWoWW(b4,b5)):(_2.getDocF(bg.T.Empty,b6.$0))[0];},I.tryGetDocW(b4,b5)))))):bx.TextView(bs.Map(function(b6){return b6.$==1?(function(b7){return function(b8){return b7("Unexpected action: "+bk.toSafe(b8));};}(a.id))(b6.$0.actName.get_Id()):b6.$0;},_2.getTextData(bZ,_2.S(b0))));};_2.turnToView=function(bZ){return bx.EmbedView(bs.Map(bZ,_2.currentViewTriggger()));};_2.currentViewTriggger=function(){_9.$cctor();return _9.currentViewTriggger;};_2.set_currentViewTriggger=function(bZ){_9.$cctor();_9.currentViewTriggger=bZ;};_2.getDocFinal=function(bZ,b0){var b1;b1=_2.getDocF(bZ,b0);return b1[1].$==0?b1[0]:I.errDoc((((bc.Curried3(function(b2,b3,b4){return b2("Too many parameters "+ba.p(b3)+" "+bk.printList(function(b5){return _.p$27(b5);},b4));}))(a.id))(b0))(bZ));};_2.getDocF=function(bZ,b0){var b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca;b2=b0.docDoc;switch(b2.$==1?bZ.$==1?(b1=[b2.$0,_2.S(bZ.$0),bZ.$1],1):6:b2.$==2?bZ.$==1?(b3=_2.S(bZ.$0),bZ.$1.$==1?(b1=[b2.$0,b3,_2.S(bZ.$1.$0),bZ.$1.$1],2):6):6:b2.$==3?bZ.$==1?(b4=_2.S(bZ.$0),bZ.$1.$==1?(b5=_2.S(bZ.$1.$0),bZ.$1.$1.$==1?(b1=[b2.$0,b4,b5,_2.S(bZ.$1.$1.$0),bZ.$1.$1.$1],3):6):6):6:b2.$==4?bZ.$==1?(b6=_2.S(bZ.$0),bZ.$1.$==1?(b7=_2.S(bZ.$1.$0),bZ.$1.$1.$==1?(b8=_2.S(bZ.$1.$1.$0),bZ.$1.$1.$1.$==1?(b1=[b2.$0,b6,b7,b8,_2.S(bZ.$1.$1.$1.$0),bZ.$1.$1.$1.$1],4):6):6):6):6:b2.$==5?bZ.$==1?(b9=_2.S(bZ.$0),bZ.$1.$==1?(b_=_2.S(bZ.$1.$0),bZ.$1.$1.$==1?(b$=_2.S(bZ.$1.$1.$0),bZ.$1.$1.$1.$==1?(ca=_2.S(bZ.$1.$1.$1.$0),bZ.$1.$1.$1.$1.$==1?(b1=[b2.$0,b9,b_,b$,ca,_2.S(bZ.$1.$1.$1.$1.$0),bZ.$1.$1.$1.$1.$1],5):6):6):6):6):6:(b1=[b2.$0,bZ],0)){case 0:return[b1[0].f(),b1[1]];case 1:return[b1[0](b1[1]),b1[2]];case 2:return[(b1[0](b1[1]))(b1[2]),b1[3]];case 3:return[((b1[0](b1[1]))(b1[2]))(b1[3]),b1[4]];case 4:return[(((b1[0](b1[1]))(b1[2]))(b1[3]))(b1[4]),b1[5]];case 5:return[((((b1[0](b1[1]))(b1[2]))(b1[3]))(b1[4]))(b1[5]),b1[6]];case 6:return[bx.Element("div",[],[bx.TextNode((((bc.Curried3(function(cb,cc,cd){return cb("Parameters do not coincide with definition "+ba.p(cc)+" - "+bk.printList(function(ce){return _.p$27(ce);},cd));}))(a.id))(b0))(bZ))]),bg.T.Empty];}};_2.getAttrs=function(bZ,b0){var b1;b1=_2.S(b0);return bg.ofSeq(bj.delay(function(){return bj.append(bj.choose(function(b2){var b3,b4,b5,b6;function b7(b8,b9){var b_;return b9.$==1?(b_=b9.$0,b8.addEventListener(bi.Trim(b6),function(b$){return I.callFunction(b8,b$,b_.actFunction);},false)):b8.setAttribute(bi.Trim(b6),bi.Trim(b9.$0));}return!bn.Equals(b2,null)&&b2.length===2&&(b4=bf.get(b2,1),bi.Trim(bf.get(b2,0))!==""&&bi.Trim(b4)!=="")?(b5=bf.get(b2,1),(b6=bf.get(b2,0),{$:1,$0:bz.DynamicCustom(function(b8){return function(b9){return b7(b8,b9);};},_2.getTextData(bZ,bi.Trim(b5)))})):null;},bj.map(function(b2){return s.splitByChar("=",b2);},s.splitByChar(";",b1))),bj.delay(function(){return bj.choose(function(b2){var b3,b4,b5,b6,b7;return!bn.Equals(b2,null)&&b2.length===2&&(b4=bf.get(b2,1),bi.Trim(bf.get(b2,0))!==""&&bi.Trim(b4)!=="")?(b5=bf.get(b2,1),(b6=bf.get(b2,0),{$:1,$0:(b7=bs.Map(function(b8){return b8.$==1?(function(b9){return function(b_){return b9("@{"+bk.toSafe(b_)+"}");};}(a.id))(b8.$0.actName.get_Id()):bi.Trim(b8.$0);},_2.getTextData(bZ,bi.Trim(b5))),bz.DynamicStyle(bi.Trim(b6),b7))})):null;},bj.map(function(b2){return s.splitByChar(":",b2);},s.splitByChar(";",b1)));}));}));};_2.getTextToken=function(bZ,b0){return b0.$==0?_2.getTextData(bZ,b0.$0):_2.getOneTextData(bZ,b0.$0,"","");};_2.getTextData=function(bZ,b0){var b1,b2,b3,b4;b1=(b2=s.delimitedO("@{","}",b0),b2==null?null:{$:1,$0:(b3=b2.$0,(b4=b3[0],_2.getOneTextData(bZ,b3[1],b4,b3[2])))});return b1==null?bs.Const({$:0,$0:b0}):b1.$0;};_2.getOneTextData=function(bZ,b0,b1,b2){var b3,b4,b5;b3=((_2.splitName())(bZ))(b0);b4=b3[0];b5=b3[1];return bs.Bind(function(b6){return b6==null?bs.Bind(function(b7){var b8;return b7==null?bs.Const({$:0,$0:((((bc.Curried(function(b9,b_,b$,ca){return b9(bk.toSafe(b_)+" @{Missing "+bk.toSafe(b$)+"}"+bk.toSafe(ca));},4))(a.id))(b1))(b0))(b2)}):(b8=b7.$0,bs.Bind(function(b9){return b9.$==1?bs.Const({$:0,$0:(function(b_){return function(b$){return b_("Unexpected Action @{"+bk.toSafe(b$)+"}");};}(a.id))(b9.$0.actName.get_Id())}):bs.Const({$:0,$0:b1+b8+b9.$0});},_2.getTextData(bZ,b2)));},I.tryGetWoWW(b4,b5)):bs.Const({$:1,$0:b6.$0});},I.tryGetActW(b4,b5));};_2.splitName=function(){_9.$cctor();return _9.splitName;};_2.splitTokens=function(bZ){return _2.doubleQuote(bg.ofSeq(bj.collect(a.id,bj.mapi(function(b0,b1){var b2;return b0%2===1?[{$:0,$0:b1}]:b1===""?[{$:0,$0:"\""}]:(b2=bi.Trim(b1),b2===""?[]:bf.map(function(b3){return{$:1,$0:b3};},bi.SplitChars(b2,[" "],1)));},s.splitByChar("\"",bZ)))));};_2.doubleQuote=function(bZ){var b0,b1,b2;switch(bZ.$==1?bZ.$0.$==1?bi.StartsWith(bZ.$0.$0,"//")?(b0=bZ.$0.$0,1):2:2:0){case 0:return bg.T.Empty;case 1:return bg.T.Empty;case 2:switch(bZ.$==1?bZ.$0.$==0?bZ.$1.$==1?bZ.$1.$0.$==0?bZ.$1.$0.$0==="\""?bZ.$1.$1.$==0?(b2=bZ.$0.$0,1):bZ.$1.$1.$0.$==0?(b2=[bZ.$1.$1.$1,bZ.$0.$0,bZ.$1.$1.$0.$0],0):(b2=[bZ.$0,bZ.$1],2):(b2=[bZ.$0,bZ.$1],2):(b2=[bZ.$0,bZ.$1],2):(b2=[bZ.$0,bZ.$1],2):(b2=[bZ.$0,bZ.$1],2):3){case 0:b1=_2.doubleQuote(new bg.T({$:1,$0:{$:0,$0:b2[1]+"\""+b2[2]},$1:b2[0]}));break;case 1:b1=bg.ofArray([{$:0,$0:b2}]);break;case 2:b1=new bg.T({$:1,$0:b2[0],$1:_2.doubleQuote(b2[1])});break;case 3:throw new bU.New("D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\LayoutEngine\\src\\LayoutEngine.fs",2606,38);}return b1;}};_2.variableSplitter=function(bZ,b0,b1,b2,b3,b4){return bx.Element("wcomp-splitter",bg.ofSeq(bj.delay(function(){return bj.append(bZ?[bA.Create("vertical","")]:[],bj.delay(function(){return bj.append([bA.Create("min",a.String(b0))],bj.delay(function(){return bj.append([bA.Create("value",a.String(b1))],bj.delay(function(){return[bA.Create("max",a.String(b2))];}));}));}));})),bg.ofArray([b3,b4]));};_2.fixedSplitter=function(bZ,b0,b1,b2,b3){var b4,b5,b6,b7,b8,b9,b_;b4=(((b1?bc.Curried3(function(b$,ca,cb){return b$(ca.toFixed(6)+"px calc(100% - "+cb.toFixed(6)+"px)");}):bc.Curried3(function(b$,ca,cb){return b$("calc(100% - "+ca.toFixed(6)+"px) "+cb.toFixed(6)+"px");}))(a.id))(b0))(b0);return bZ?(b5=bL.Make().WithHole({$:1,$0:"partsizes",$1:b4}).WithHole({$:0,$0:"first",$1:b2}).WithHole({$:0,$0:"second",$1:b3}),(b6=bM.CompleteHoles(b5.k,b5.h,[]),(b7=new bN.New(b6[1],$.fixedsplitterver(b6[0])),(b5.i=b7,b7)))).get_Doc():(b8=bL.Make().WithHole({$:1,$0:"partsizes",$1:b4}).WithHole({$:0,$0:"first",$1:b2}).WithHole({$:0,$0:"second",$1:b3}),(b9=bM.CompleteHoles(b8.k,b8.h,[]),(b_=new bN.New(b9[1],$.fixedsplitterhor(b9[0])),(b8.i=b_,b_)))).get_Doc();};_2.Measures$1=function(bZ){var b0,b1,b2,b3,b4,b5,b6,b7,b8;return bZ.$==1?(b0=s.splitByChar("-",bZ.$0),!bn.Equals(b0,null)&&b0.length===1&&(b2=(t.Double())(bf.get(b0,0)),b2!=null&&b2.$==1&&(b1=b2.$0,true))?{$:1,$0:new _3({$:0,$0:b1,$1:true})}:!bn.Equals(b0,null)&&b0.length===2&&(bf.get(b0,0)===""&&(b4=(t.Double())(bf.get(b0,1)),b4!=null&&b4.$==1&&(b3=b4.$0,true)))?{$:1,$0:new _3({$:0,$0:b3,$1:false})}:!bn.Equals(b0,null)&&b0.length===3&&(b6=(t.Double())(bf.get(b0,0)),b6!=null&&b6.$==1&&(b7=(t.Double())(bf.get(b0,1)),b7!=null&&b7.$==1&&(b8=(t.Double())(bf.get(b0,2)),b8!=null&&b8.$==1&&(b5=[b8.$0,b6.$0,b7.$0],true))))?{$:1,$0:new _3({$:1,$0:b5[1],$1:b5[2],$2:b5[0]})}:null):null;};_2.Var=function(bZ){var b0,b1,b2,b3,b4,b5;return bZ.$==1&&(bZ.$0==="Var"&&(b0=bZ.$0,true))?{$:0,$0:null}:bZ.$==1&&(bZ.$0==="Doc"&&(b1=bZ.$0,true))?{$:1,$0:null}:bZ.$==1&&(bZ.$0==="View"&&(b2=bZ.$0,true))?{$:2,$0:null}:bZ.$==1&&(bZ.$0==="ViewJS"&&(b3=bZ.$0,true))?{$:3,$0:null}:bZ.$==1&&(bZ.$0==="Docs"&&(b4=bZ.$0,true))?{$:4,$0:null}:bZ.$==1&&(bZ.$0==="Action"&&(b5=bZ.$0,true))?{$:5,$0:null}:{$:6,$0:null};};_2.PlugIn=function(bZ){var b0,b1,b2,b3,b4;return bZ.$==1&&(bZ.$0==="PlugIn"&&(b0=bZ.$0,true))?{$:0,$0:null}:bZ.$==1&&(bZ.$0==="Button"&&(b1=bZ.$0,true))?{$:1,$0:null}:bZ.$==1&&(bZ.$0==="input"&&(b2=bZ.$0,true))?{$:2,$0:null}:bZ.$==1&&(bZ.$0==="textarea"&&(b3=bZ.$0,true))?{$:3,$0:null}:bZ.$==1&&(bZ.$0==="select"&&(b4=bZ.$0,true))?{$:4,$0:null}:{$:5,$0:null};};_2.Vertical=function(bZ){var b0,b1,b2,b3,b4,b5;return bZ.$==1&&(bZ.$0==="vertical"&&(b0=bZ.$0,true))?{$:0,$0:null}:bZ.$==1&&(bZ.$0==="horizontal"&&(b1=bZ.$0,true))?{$:1,$0:null}:bZ.$==1&&(bZ.$0==="layout"&&(b2=bZ.$0,true))?{$:2,$0:null}:bZ.$==1&&(bZ.$0==="grid"&&(b3=bZ.$0,true))?{$:3,$0:null}:bZ.$==1&&(bZ.$0==="template"&&(b4=bZ.$0,true))?{$:4,$0:null}:(b5=_2.Identifier(bZ),b5!=null&&b5.$==1?{$:5,$0:b5.$0}:{$:6,$0:null});};_2.I=function(bZ){var b0;b0=_2.Identifier(bZ);return b0!=null&&b0.$==1?{$:1,$0:b0.$0}:null;};_2.Identifier=function(bZ){var b0,b1,b2;return bZ.$==1&&(b1=u.REGEX$1("^[$a-zA-Z_][0-9a-zA-Z_\\.\\-$]*$","",bZ.$0),b1!=null&&b1.$==1&&((b2=b1.$0,!bn.Equals(b2,null)&&b2.length===1)&&(b0=bf.get(b1.$0,0),true)))?{$:1,$0:b0}:null;};_2.S=function(bZ){return bZ.$==1?bZ.$0:bZ.$0;};_8.run=function(bZ,b0){return I.run(bZ,b0.r);};_7.addLayout=function(bZ,b0){_7.addNewLayout(_2.newLyt(new K({$:0,$0:bZ}),b0));};_7.addNewLayout=function(bZ){var b0,b1,b2,b3,b4,b5,b6,b7,b8,b9;function b_(cc){return cc.$==1?{$:1,$0:cc.$0}:null;}function b$(cc){return bi.concat("\n",cc);}function ca(cc){return cc.$==0?{$:1,$0:cc.$0}:null;}function cb(cc){return bj.append(b7,cc);}b0=bs.Map((b1=bZ.lytName,function(cc){return _2.parseEntries(b1,cc);}),bZ.lytDefinition.get_View());b2=bs.Map((b3=function(cc){return bj.choose(b_,cc);},function(cc){return b$(b3(cc));}),b0);b4=bs.Map((b5=function(cc){return bj.choose(ca,cc);},(b6=_7.generateEntries(bZ.lytName),function(cc){return b6(b5(cc));})),b0);b7=bg.ofArray([{$:0,$0:I.newVar(new J({$:0,$0:"Layout"}),bZ.lytDefinition)},{$:1,$0:I.newViw(new J({$:0,$0:"ParseMsgs"}),b2)}]);bs.Sink((b8=(b9=bZ.lytName,function(cc){_2.refreshEntries(b9,cc);}),function(cc){return b8(cb(cc));}),b4);};_7.parseNewLayout=function(bZ){var b0,b1,b2;function b3(b5){return _2.parseEntries(bZ,b5);}function b4(b5){return b5.$==1?(c.print(b5.$0),null):{$:1,$0:b5.$0};}b0=(b1=function(b5){return bj.choose(b4,b5);},function(b5){return b1(b3(b5));});b2=_7.generateEntries(bZ);return function(b5){return b2(b0(b5));};};_7.generateEntries=function(bZ){function b0(b1,b2){var b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb;return b2.$==0?b2.$0.$==1?{$:1,$0:{$:2,$0:(b3=(_7.defButtonM())([bZ,b1,b2.$0.$0.$0,b2.$0.$0.$1,b2.$0.$0.$2]),I.newDoc(new J({$:0,$0:b1}),b3))}}:b2.$0.$==2?{$:1,$0:{$:2,$0:(b4=(_7.defInputM())([bZ,b1,b2.$0.$0.$0,b2.$0.$0.$1]),I.newDoc(new J({$:0,$0:b1}),b4))}}:b2.$0.$==3?{$:1,$0:{$:2,$0:(b5=(_7.defTextAreaM())([bZ,b1,b2.$0.$0.$0,b2.$0.$0.$1]),I.newDoc(new J({$:0,$0:b1}),b5))}}:b2.$0.$==5?{$:1,$0:{$:2,$0:(b6=(_7.defConcatM())([bZ,b1,b2.$0.$0.$0]),I.newDoc(new J({$:0,$0:b1}),b6))}}:b2.$0.$==6?{$:1,$0:{$:2,$0:(b7=(_7.defElementM())([bZ,b1,b2.$0.$0.$0,b2.$0.$0.$1,b2.$0.$0.$2]),I.newDoc(new J({$:0,$0:b1}),b7))}}:b2.$0.$==4?{$:1,$0:{$:2,$0:(b8=(_7.defDocFM())([bZ,b1,b2.$0.$0.$0,b2.$0.$0.$1]),I.newDocF(new J({$:0,$0:b1}),b8))}}:{$:1,$0:{$:2,$0:(b9=(_7.defSplitterM())([bZ,b1,b2.$0.$0.$0,b2.$0.$0.$1,b2.$0.$0.$2,b2.$0.$0.$3]),I.newDoc(new J({$:0,$0:b1}),b9))}}:b2.$==1?{$:1,$0:{$:3,$0:(b_=(_7.defActionM())([bZ,b1,b2.$0.$0,b2.$0.$1]),I.newActF(new J({$:0,$0:b1}),b_))}}:b2.$==3?{$:1,$0:{$:1,$0:(b$=(_7.defViewM())([bZ,b1,b2.$0.$0]),I.newViw(new J({$:0,$0:b1}),b$))}}:b2.$==4?{$:1,$0:{$:1,$0:(ca=(_7.defViewJSM())([bZ,b1,b2.$0.$0]),I.newViw(new J({$:0,$0:b1}),ca))}}:b2.$==6?null:b2.$==5?null:{$:1,$0:{$:0,$0:(cb=_7.defVarM(bZ,b1,b2.$0.$0),I.newVar(new J({$:0,$0:b1}),cb))}};}return function(b1){return bj.choose(function(b2){return b0(b2[0],b2[1]);},b1);};};_7.defSplitterM=function(){_9.$cctor();return _9.defSplitterM;};_7.defViewJSM=function(){_9.$cctor();return _9.defViewJSM;};_7.defViewM=function(){_9.$cctor();return _9.defViewM;};_7.defConcatM=function(){_9.$cctor();return _9.defConcatM;};_7.defElementM=function(){_9.$cctor();return _9.defElementM;};_7.defTextAreaM=function(){_9.$cctor();return _9.defTextAreaM;};_7.defInputM=function(){_9.$cctor();return _9.defInputM;};_7.defButtonM=function(){_9.$cctor();return _9.defButtonM;};_7.defActionM=function(){_9.$cctor();return _9.defActionM;};_7.defDocFM=function(){_9.$cctor();return _9.defDocFM;};_7.defVarM=function(bZ,b0,b1){var b2;b2=(_7.defVarM0())([bZ,b0,_7.initVal()]);b2.Get()===_7.initVal()?b2.Set(b1):void 0;return b2;};_7.defVarM0=function(){_9.$cctor();return _9.defVarM0;};_7.initVal=function(){_9.$cctor();return _9.initVal;};_7.defSplitter=function(bZ,b0,b1,b2,b3,b4){var b5,b6,b7;b5=b3.$0;b6=b4.$0;return I.run(bZ,(b7=p.depend(),b7.Delay(function(){return b7.Bind(W.getDocFromTextTypesD(),function(b8){return b7.Return(bH.Create(function(){function b9(b_){return I.makeAViewDoc(function(){return b8(bg.ofArray([_7.itemRefToTextType(b_)]));});}return b2.$==1?_2.variableSplitter(b1,b2.$0,b2.$1,b2.$2,b9(b5),b9(b6)):_2.fixedSplitter(b1,b2.$0,b2.$1,b9(b5),b9(b6));}));});})));};_7.defButton=function(bZ,b0,b1,b2,b3){return bH.Create(function(){return I.errDocf(function(b4){return b4("Button deprecated use button \"click=@{Action}\"");});});};_7.defDocF=function(bZ,b0,b1,b2){var b3,b4;b3=b1.$0;return I.run(bZ,(b4=p.depend(),b4.Delay(function(){return b4.Bind(_7.currentPlugInNameD(),function(b5){return b4.Bind(_7.getParam2D(),function(b6){var b7,b8,b9,b_;function b$(ca,cb){var cc,cd;return cb.$==1?ca.$==1?(cc=cb.$0,(cd=ca.$0,{$:0,$0:bH.Create(function(){return cd(b6(cc));})})):ca.$==2?b$({$:1,$0:ca.$0(b6(cb.$0)),$1:ca.$2},cb.$1):ca.$==3?b$({$:2,$0:ca.$0(b6(cb.$0)),$1:ca.$2,$2:ca.$3},cb.$1):ca.$==4?b$({$:3,$0:ca.$0(b6(cb.$0)),$1:ca.$2,$2:ca.$3,$3:ca.$4},cb.$1):ca.$==5?b$({$:4,$0:ca.$0(b6(cb.$0)),$1:ca.$2,$2:ca.$3,$3:ca.$4,$4:ca.$5},cb.$1):{$:0,$0:ca.$0}:ca;}return b4.Return((b7=(b8=(b9=(b_=_7.itemRefToString(b3),((_2.splitName())(b5))(b_)),I.tryGetDoc(b9[0],b9[1])),b8==null?null:{$:1,$0:b$(b8.$0.docDoc,b2)}),b7==null?{$:0,$0:bH.Create(function(){return I.errDoc((function(ca){return function(cb){return ca("Missing doc: "+_.p(cb));};}(a.id))(b3));})}:b7.$0));});});})));};_7.defConcat=function(bZ,b0,b1){var b2;return I.run(bZ,(b2=p.depend(),b2.Delay(function(){return b2.Bind(_7.nodeRefToDocD(),function(b3){return b2.Return(I.makeAViewDocL(function(){return bx.Concat(bj.map(b3,b1));}));});})));};_7.defElement=function(bZ,b0,b1,b2,b3){var b4;return I.run(bZ,(b4=p.depend(),b4.Delay(function(){return b4.Bind(_7.nodeRefToDocD(),function(b5){return b4.Bind(I.extractAtsD(),function(b6){return b4.Bind(_7.getParam2D(),function(b7){return b4.Return(I.makeAViewDocL(function(){return bx.Element(b1,b6(b7(b2)),bj.map(b5,b3));}));});});});})));};_7.defTextArea=function(bZ,b0,b1,b2){return bH.Create(function(){return I.errDocf(function(b3){return b3("TextArea deprecated use AF.TextArea");});});};_7.defInput=function(bZ,b0,b1,b2){return bH.Create(function(){return I.errDocf(function(b3){return b3("input deprecated use AF.Input");});});};_7.defViewJS=function(bZ,b0,b1){var b2;return I.run(bZ,(b2=p.depend(),b2.Delay(function(){return b2.Bind(_7.currentPlugInNameD(),function(){return b2.Bind(_7.getParamD(),function(b3){return b2.Return(bs.Bind(function(){try{return bs.Map(function(b4){try{return!bn.Equals(b4,null)&&b4.length===0?"No JS function specified":!bn.Equals(b4,null)&&b4.length===1?a.String(a["eval"](bf.get(b4,0))):a.String(a["eval"](bf.get(b4,0)).apply(null,bl.array(b4,{$:1,$0:1},null)));}catch(b5){return b5.message;}},bs.Map(bf.ofSeq,v.traverseSeq(b3,b1)));}catch(b4){return bs.Const(b4.message);}},I.baseView()));});});})));};_7.defView=function(bZ,b0,b1){var b2;return I.run(bZ,(b2=p.depend(),b2.Delay(function(){return b2.Bind(_7.currentPlugInNameD(),function(){return b2.Bind(_7.getParam2D(),function(b3){return b2.Bind(I.extractTextD(),function(b4){return b2.Return(bs.Bind(function(){function b5(b6){return bi.concat("",b6);}return bs.Map(function(b6){return b5(bf.ofSeq(b6));},v.traverseSeq(function(b6){return b4(b3(b6));},b1));},I.baseView()));});});});})));};_7.defAction=function(bZ,b0,b1,b2){var b3,b4;b3=b1.$0;return I.run(bZ,(b4=p.depend(),b4.Delay(function(){return b4.Bind(_7.currentPlugInNameD(),function(b5){return b4.Bind(_7.getParamTextD(),function(b6){var b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj;b$=_7.itemRefToString(b3);ca=(b8=(I.splitName(b5))(b$),I.tryGetAct(b8[0],b8[1]));if(ca==null)b7=null;else{cb=ca.$0;if(b2.$===0)b9=cb.actFunction;else{cc=cb.actFunction;switch(cc.$==1?b2.$==1?b2.$1.$==0?(b_=[cc.$0,b2.$0],0):3:3:cc.$==2?b2.$==1?b2.$1.$==0?(b_=[cc.$0,cc.$2,b2.$0],2):b2.$1.$1.$==0?(b_=[cc.$0,b2.$0,b2.$1.$0],1):3:3:3){case 0:b9=(cd=b_[0],(ce=b_[1],{$:0,$0:function(){(b6(ce))(cd);}}));break;case 1:b9=(cf=b_[0],(cg=b_[1],(ch=b_[2],{$:0,$0:function(){(b6(cg))(function(ck){(b6(ch))(cf(ck));});}})));break;case 2:b9=(ci=b_[0],(cj=b_[2],{$:1,$0:function(ck){(b6(cj))(function(cl){(ci(cl))(ck);});},$1:b_[1]}));break;case 3:b9={$:0,$0:function(){((((bc.Curried(function(ck,cl,cm,cn){return ck("Parameters do not coincide for Action "+bk.toSafe(cl)+" "+bk.printList(function(co){return _.p$17(co);},cm)+" "+ba.p$1(cn));},4))(function(ck){bq.log(ck);}))(b$))(b2))(cb);}};break;}}b7={$:1,$0:b9};}return b4.Return(b7==null?{$:0,$0:function(){((function(ck){return function(cl){return ck("Action Not Found "+bk.toSafe(cl));};}(function(ck){bq.log(ck);}))(b$));}}:b7.$0);});});})));};_7.defVar=function(bZ,b0,b1){return bB.Create$1(b1);};_7.getParamTextD=function(){_9.$cctor();return _9.getParamTextD;};_7.getParam2D=function(){_9.$cctor();return _9.getParam2D;};_7.itemRefToAbsolute=function(bZ){function b0(b2){return b2.$==1?[b2.$0,b2.$1]:[bZ,b2.$0];}function b1(b2,b3){return(((bc.Curried3(function(b4,b5,b6){return b4(bk.toSafe(b5)+"."+bk.toSafe(b6));}))(a.id))(b2))(b3);}return function(b2){return b1.apply(null,b0(b2));};};_7.getParamD=function(){_9.$cctor();return _9.getParamD;};_7.varRefToVarD=function(){_9.$cctor();return _9.varRefToVarD;};_7.nodeRefToDocD=function(){_9.$cctor();return _9.nodeRefToDocD;};_7.ActRVs=function(bZ){return bg.ofArray([{$:1,$0:{$:0,$0:bZ.$0}}]);};_7.textValToTextType=function(bZ){var b0;return(bZ.$==3?(b0=bZ.$0.$0,false):bZ.$==4?(b0=bZ.$0.$0,false):bZ.$==1?(b0=bZ.$0.$0,false):bZ.$==2?(b0=bZ.$0.$0,false):true)?{$:0,$0:bZ.$0}:_7.itemRefToTextType(b0);};_7.itemRefToString=function(bZ){return bZ.$==1?(((bc.Curried3(function(b0,b1,b2){return b0(bk.toSafe(b1)+"."+bk.toSafe(b2));}))(a.id))(bZ.$0))(bZ.$1):bZ.$0;};_7.itemRefToTextType=function(bZ){return bZ.$==1?{$:1,$0:(((bc.Curried3(function(b0,b1,b2){return b0(bk.toSafe(b1)+"."+bk.toSafe(b2));}))(a.id))(bZ.$0))(bZ.$1)}:{$:1,$0:bZ.$0};};_7.callDocPFn=function(bZ,b0){var b1;b1=_8.run(bZ,b0);return I.makeAViewDoc(function(){var b2;b2=b1.f.$==0?b1.p.$==1?{$:0,$0:bs.Apply(b1.f.$0,bs.Const(b1.p.$0))}:{$:0,$0:bs.Apply(b1.f.$0,b1.p.$0)}:b1.p.$==0?{$:0,$0:bs.Apply(bs.Const(b1.f.$0),b1.p.$0)}:{$:1,$0:b1.f.$0(b1.p.$0)};return b2.$==0?bx.BindView(a.id,b2.$0):b2.$0;});};_7.split2=function(){_9.$cctor();return _9.split2;};_7.split=function(){_9.$cctor();return _9.split;};_7.appFwk=function(){_9.$cctor();return _9.appFwk;};_7.main2=function(){_9.$cctor();return _9.main2;};_7.main=function(){_9.$cctor();return _9.main;};_7.main1=function(){_9.$cctor();return _9.main1;};_7.main0=function(){_9.$cctor();return _9.main0;};_7.aString=function(){_9.$cctor();return _9.aString;};_7.sayHello=function(){_9.$cctor();return _9.sayHello;};_7.now=function(){_9.$cctor();return _9.now;};_7.enterName=function(){_9.$cctor();return _9.enterName;};_7.checkName=function(bZ){return bZ===bl.string("World",{$:1,$0:0},{$:1,$0:bZ.length-1})||bZ.length<=1?"<---- Please enter your name":"";};_7.name=function(){_9.$cctor();return _9.name;};_7.currentPlugInNameD=function(){_9.$cctor();return _9.currentPlugInNameD$1;};_7.currentPlugInNameDef=function(){_9.$cctor();return _9.currentPlugInNameDef$1;};_7.pb=function(){_9.$cctor();return _9.pb;};_7.pa=function(){_9.$cctor();return _9.pa;};_7.aV=function(){_9.$cctor();return _9.aV;};_7.concat=function(bZ,b0){return(((bc.Curried3(function(b1,b2,b3){return b1("Concat("+a.String(b2)+", "+b3.toFixed(6)+")");}))(a.id))(bZ))(b0);};u.rexEmail=function(){_9.$cctor();return _9.rexEmail;};u.rexGuid=function(){_9.$cctor();return _9.rexGuid;};u.REGEX$1=function(bZ,b0,b1){var b2;return b1===null?null:(b2=(new a.String(b1)).match(new a.RegExp(bZ,b0)),bn.Equals(b2,null)?null:!bn.Equals(b2,null)&&b2.length===0?null:{$:1,$0:b2});};_9.$cctor=function(){var bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT;_9.$cctor=a.ignore;function dU(e5){return bi.concat("\n",e5);}function dV(e5){return s.splitByChar("\n",e5);}function dW(e5){var e6,e7;return bl.array(e5,{$:1,$0:0},{$:1,$0:(e6=0,(e7=bf.length(e5)-2,bn.Compare(e6,e7)===1?e6:e7))});}function dX(e5){return bi.concat("\n",e5);}function dY(e5){return e5+"T00:00:00";}function dZ(e5){var e6;function e7(e9){return I.plugIns().TryFindByKey(e9);}function e8(e9){return e9==null?I.defaultPlugIn():e9.$0;}e6=function(e9){return e9==null?null:e7(e9.$0);};return function(e9){return e8(e6(e9));};}function d0(e5,e6){return function(e7){return function(e8){function e9(e_){return bx.Element("div",e5(e7),[bx.Element("div",[bA.Create("class","input-group")],[bx.Element("span",[bA.Create("class","input-group-addon")],[e6(e8)]),bx.Input([bA.Create("class","form-control")],e_)])]);}return function(e_){return I.docWithVar(e9,e_);};};};}function d1(e5,e6){var e7,e8;e7=(e8=e5(e6),function(e9){return bx.Input(e8,e9);});return function(e9){return I.docWithVar(e7,e9);};}function d2(e5,e6){var e7,e8;e7=(e8=e5(e6),function(e9){return bx.InputArea(e8,e9);});return function(e9){return I.docWithVar(e7,e9);};}function d3(e5){var e6;e6=null;return ce.TryGetValue(e5,{get:function(){return e6;},set:function(e7){e6=e7;}})?{$:1,$0:e6}:null;}function d4(e5,e6){ce.set_Item(e5,e6);return e6;}function d5(e5,e6){var e7;e7=d3(e5);return e7==null?d4(e5,e6(e5)):e7.$0;}function d6(e5){var e6;e6=null;return ch.TryGetValue(e5,{get:function(){return e6;},set:function(e7){e6=e7;}})?{$:1,$0:e6}:null;}function d7(e5,e6){ch.set_Item(e5,e6);return e6;}function d8(e5,e6){var e7;e7=d6(e5);return e7==null?d7(e5,e6(e5)):e7.$0;}function d9(e5){var e6;e6=null;return ck.TryGetValue(e5,{get:function(){return e6;},set:function(e7){e6=e7;}})?{$:1,$0:e6}:null;}function d_(e5,e6){ck.set_Item(e5,e6);return e6;}function d$(e5,e6){var e7;e7=d9(e5);return e7==null?d_(e5,e6(e5)):e7.$0;}function ea(e5){var e6;e6=null;return cn.TryGetValue(e5,{get:function(){return e6;},set:function(e7){e6=e7;}})?{$:1,$0:e6}:null;}function eb(e5,e6){cn.set_Item(e5,e6);return e6;}function ec(e5,e6){var e7;e7=ea(e5);return e7==null?eb(e5,e6(e5)):e7.$0;}function ed(e5){var e6;e6=null;return cq.TryGetValue(e5,{get:function(){return e6;},set:function(e7){e6=e7;}})?{$:1,$0:e6}:null;}function ee(e5,e6){cq.set_Item(e5,e6);return e6;}function ef(e5,e6){var e7;e7=ed(e5);return e7==null?ee(e5,e6(e5)):e7.$0;}function eg(e5){var e6;e6=null;return ct.TryGetValue(e5,{get:function(){return e6;},set:function(e7){e6=e7;}})?{$:1,$0:e6}:null;}function eh(e5,e6){ct.set_Item(e5,e6);return e6;}function ei(e5,e6){var e7;e7=eg(e5);return e7==null?eh(e5,e6(e5)):e7.$0;}function ej(e5){var e6;e6=null;return cw.TryGetValue(e5,{get:function(){return e6;},set:function(e7){e6=e7;}})?{$:1,$0:e6}:null;}function ek(e5,e6){cw.set_Item(e5,e6);return e6;}function el(e5,e6){var e7;e7=ej(e5);return e7==null?ek(e5,e6(e5)):e7.$0;}function em(e5){var e6;e6=null;return cz.TryGetValue(e5,{get:function(){return e6;},set:function(e7){e6=e7;}})?{$:1,$0:e6}:null;}function en(e5,e6){cz.set_Item(e5,e6);return e6;}function eo(e5,e6){var e7;e7=em(e5);return e7==null?en(e5,e6(e5)):e7.$0;}function ep(e5){var e6;e6=null;return cC.TryGetValue(e5,{get:function(){return e6;},set:function(e7){e6=e7;}})?{$:1,$0:e6}:null;}function eq(e5,e6){cC.set_Item(e5,e6);return e6;}function er(e5,e6){var e7;e7=ep(e5);return e7==null?eq(e5,e6(e5)):e7.$0;}function es(e5){var e6;e6=null;return cF.TryGetValue(e5,{get:function(){return e6;},set:function(e7){e6=e7;}})?{$:1,$0:e6}:null;}function et(e5,e6){cF.set_Item(e5,e6);return e6;}function eu(e5,e6){var e7;e7=es(e5);return e7==null?et(e5,e6(e5)):e7.$0;}function ev(e5){var e6;e6=null;return cI.TryGetValue(e5,{get:function(){return e6;},set:function(e7){e6=e7;}})?{$:1,$0:e6}:null;}function ew(e5,e6){cI.set_Item(e5,e6);return e6;}function ex(e5,e6){var e7;e7=ev(e5);return e7==null?ew(e5,e6(e5)):e7.$0;}function ey(e5){var e6;e6=null;return _do.TryGetValue(e5,{get:function(){return e6;},set:function(e7){e6=e7;}})?{$:1,$0:e6}:null;}function ez(e5,e6){_do.set_Item(e5,e6);return e6;}function eA(e5,e6){var e7;e7=ey(e5);return e7==null?ez(e5,e6(e5)):e7.$0;}function eB(e5){var e6;e6=null;return dr.TryGetValue(e5,{get:function(){return e6;},set:function(e7){e6=e7;}})?{$:1,$0:e6}:null;}function eC(e5,e6){dr.set_Item(e5,e6);return e6;}function eD(e5,e6){var e7;e7=eB(e5);return e7==null?eC(e5,e6(e5)):e7.$0;}function eE(e5){var e6;e6=null;return du.TryGetValue(e5,{get:function(){return e6;},set:function(e7){e6=e7;}})?{$:1,$0:e6}:null;}function eF(e5,e6){du.set_Item(e5,e6);return e6;}function eG(e5,e6){var e7;e7=eE(e5);return e7==null?eF(e5,e6(e5)):e7.$0;}function eH(e5){var e6;e6=null;return dx.TryGetValue(e5,{get:function(){return e6;},set:function(e7){e6=e7;}})?{$:1,$0:e6}:null;}function eI(e5,e6){dx.set_Item(e5,e6);return e6;}function eJ(e5,e6){var e7;e7=eH(e5);return e7==null?eI(e5,e6(e5)):e7.$0;}function eK(e5){var e6;e6=null;return dA.TryGetValue(e5,{get:function(){return e6;},set:function(e7){e6=e7;}})?{$:1,$0:e6}:null;}function eL(e5,e6){dA.set_Item(e5,e6);return e6;}function eM(e5,e6){var e7;e7=eK(e5);return e7==null?eL(e5,e6(e5)):e7.$0;}function eN(e5){var e6;e6=null;return dD.TryGetValue(e5,{get:function(){return e6;},set:function(e7){e6=e7;}})?{$:1,$0:e6}:null;}function eO(e5,e6){dD.set_Item(e5,e6);return e6;}function eP(e5,e6){var e7;e7=eN(e5);return e7==null?eO(e5,e6(e5)):e7.$0;}function eQ(e5){var e6;e6=null;return dG.TryGetValue(e5,{get:function(){return e6;},set:function(e7){e6=e7;}})?{$:1,$0:e6}:null;}function eR(e5,e6){dG.set_Item(e5,e6);return e6;}function eS(e5,e6){var e7;e7=eQ(e5);return e7==null?eR(e5,e6(e5)):e7.$0;}function eT(e5){var e6;e6=null;return dJ.TryGetValue(e5,{get:function(){return e6;},set:function(e7){e6=e7;}})?{$:1,$0:e6}:null;}function eU(e5,e6){dJ.set_Item(e5,e6);return e6;}function eV(e5,e6){var e7;e7=eT(e5);return e7==null?eU(e5,e6(e5)):e7.$0;}function eW(e5){var e6;e6=null;return dM.TryGetValue(e5,{get:function(){return e6;},set:function(e7){e6=e7;}})?{$:1,$0:e6}:null;}function eX(e5,e6){dM.set_Item(e5,e6);return e6;}function eY(e5,e6){var e7;e7=eW(e5);return e7==null?eX(e5,e6(e5)):e7.$0;}function eZ(e5){var e6;e6=null;return dP.TryGetValue(e5,{get:function(){return e6;},set:function(e7){e6=e7;}})?{$:1,$0:e6}:null;}function e0(e5,e6){dP.set_Item(e5,e6);return e6;}function e1(e5,e6){var e7;e7=eZ(e5);return e7==null?e0(e5,e6(e5)):e7.$0;}function e2(e5){var e6;e6=null;return dS.TryGetValue(e5,{get:function(){return e6;},set:function(e7){e6=e7;}})?{$:1,$0:e6}:null;}function e3(e5,e6){dS.set_Item(e5,e6);return e6;}function e4(e5,e6){var e7;e7=e2(e5);return e7==null?e3(e5,e6(e5)):e7.$0;}_9.state=new k.New();_9.result=new n.New();_9.result$1=m.result();_9.depend=new q.New();_9.rtn=p.rtn;_9.depend$1=p.depend();_9.unindentStr=function(e5){return dU(s.unindent(e5));};_9.skipLastLine=(bZ=function(e5){return dW(dV(e5));},function(e5){return dX(bZ(e5));});_9.parseDateO2=(b0=t.tryParseWith(function(e5){var e6,e7;e6=0;return[(e7=bV.TryParse(e5),e7!=null&&e7.$==1&&(e6=e7.$0,true)),e6];}),function(e5){return b0(dY(e5));});_9.parseDateO=t.tryParseWith(function(e5){var e6,e7;e6=0;return[(e7=bV.TryParse(e5),e7!=null&&e7.$==1&&(e6=e7.$0,true)),e6];});_9.parseIntO=t.tryParseWith(function(e5){var e6;e6=0;return[bW.TryParseInt32(e5,{get:function(){return e6;},set:function(e7){e6=e7;}}),e6];});_9.parseInt64O=t.tryParseWith(function(e5){var e6;e6=0;return[bW.TryParseInt64(e5,{get:function(){return e6;},set:function(e7){e6=e7;}}),e6];});_9.parseSingleO=t.tryParseWith(function(e5){var e6,e7;e6=0;return[(e7=a.Number(e5),a.isNaN(e7)?false:(e6=e7,true)),e6];});_9.parseDoubleO=t.tryParseWith(function(e5){var e6,e7;e6=0;return[(e7=a.Number(e5),a.isNaN(e7)?false:(e6=e7,true)),e6];});_9.parseGuidO=t.tryParseWith(function(e5){var e6;e6=null;return[bQ.TryParse(e5,{get:function(){return e6;},set:function(e7){e6=e7;}}),e6];});_9["|Date|_|"]=t.parseDateO();_9["|Int|_|"]=t.parseIntO();_9["|Int64|_|"]=t.parseInt64O();_9["|Single|_|"]=t.parseSingleO();_9["|Double|_|"]=t.parseDoubleO();_9["|Guid|_|"]=t.parseGuidO();_9.counter=1;_9.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";_9.rexEmail="(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@[*[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+]*";_9.observers=bg.T.Empty;_9.css="\r\n                .tab-panel {\r\n                 overflow  : hidden   ;\r\n                 display   : flex     ;\r\n                 flex-flow : column   ;\r\n                 background: lightgray;\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                }\r\n                .tab-content {\r\n                 flex      : 1 1     ;\r\n                 overflow  : auto    ;\r\n                 position  : relative;\r\n                }\r\n                .tab-children {\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                 position  : absolute;\r\n                 display   : grid    ;\r\n                }\r\n                .tab-strip {\r\n                 padding   : 0pt     ;\r\n                 flex      : 0 0     ;\r\n                }\r\n                .tab {\r\n                 border     : 0.2pt solid transparent;\r\n                 padding    : 0pt 4pt;\r\n                 display    : inline-block;\r\n                 font-family: sans-serif;\r\n                 font-weight: 200;\r\n                 font-size  : small;\r\n                 color      : #666;\r\n                 cursor     : pointer;\r\n                }\r\n                .top>.tab {\r\n                 border-radius: 2pt 2pt 0pt 0pt;\r\n                 border-bottom-width: 0pt;\r\n                 vertical-align: bottom;\r\n                }\r\n                .bottom>.tab {\r\n                 border-top-width: 0pt;\r\n                 border-radius: 0pt 0pt 2pt 2pt;\r\n                 vertical-align: top;\r\n                }\r\n                .horizontal>.tab:not(:first-child) {\r\n                 border-left-width: 0pt;\r\n                }\r\n                .tab.hovering {\r\n                 background: red;\r\n                }\r\n                .tab.selected {\r\n                 background: white;\r\n                 border-left-width: 0.2pt;\r\n                 color: black;\r\n                 font-weight: 500;\r\n                 border-color: black;\r\n                }\r\n                .horizontal>.tab.selected {\r\n                 border-left-width: 0.2pt;\r\n                }\r\n                ::slotted(*              ) { \r\n                 width : 100%;\r\n                 height: 100%;\r\n                }\r\n                        ";_9.init=bH.Create(function(){var e5;e5=new E.New();C.defineWebComponent("wcomp-tabstrip",E.Constructor,self.FsRootDll.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New);});_9.layoutHorizontal=bc.Curried(function(e5,e6,e7,e8,e9){return bx.get_Empty();},5);_9.layoutVertical=bc.Curried(function(e5,e6,e7,e8,e9){return bx.get_Empty();},5);_9.html="\r\n            <div style=\"display:none\" >\r\n                <div links>\r\n                    <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" type=\"text/css\" rel=\"stylesheet\">\r\n                    <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\"  type=\"text/javascript\"></script>\r\n                </div>\r\n                <div ws-template=\"AppFramework\" style=\"height: calc(100vh - 4px); width: calc(100vw - 4px) \" class=\"relative\" >\r\n                    <div ws-hole=\"MainClient\"></div>\r\n                    <div class=\"AppFrameworkGo\"><button ws-onclick=\"GoClient\">${MainDoc}</button></div>\r\n                </div>\r\n                <style>\r\n                    .AppFrameworkGo {\r\n                        max-width: 2px;\r\n                        max-height: 2px;\r\n                        z-index: 4000;\r\n                        overflow: hidden;\r\n                        position: fixed;\r\n                        top: 0px;\r\n                        left: 0px;\r\n                    }\r\n                </style>\r\n                <div ws-template=\"FixedSplitterVer\" \r\n                    style=\"display: grid; \r\n                           grid-gap: 0px; \r\n                           box-sizing: border-box; \r\n                           height: 100%;\r\n                           width : 100%;\r\n                           grid-template-areas: 'one two'; \r\n                           grid-template-rows   :100%; \r\n                           overflow: hidden; \r\n                           grid-template-columns: ${PartSizes}\"  >\r\n                   <div ws-hole=\"First\"  style=\"grid-area: one; \" class=\"relative\" ></div>\r\n                   <div ws-hole=\"Second\" style=\"grid-area: two; \" class=\"relative\" ></div>\r\n                </div>               \r\n                <div ws-template=\"FixedSplitterHor\" \r\n               style=\"display: grid; \r\n                      grid-gap: 0px; \r\n                      box-sizing: border-box; \r\n                      height: 100%;\r\n                      width : 100%;\r\n                      grid-template-areas: 'one' 'two'; \r\n                      grid-template-columns:100%; \r\n                      overflow: hidden; \r\n                      grid-template-rows   : ${PartSizes}\"  >\r\n              <div ws-hole=\"First\"  style=\"grid-area: one; \" class=\"relative\" ></div>\r\n              <div ws-hole=\"Second\" style=\"grid-area: two; \" class=\"relative\" ></div>\r\n                </div>               \r\n                <div ws-template=\"WCompSplitterHor\" \r\n                     ws-onafterrender=\"AfterRender\"\r\n                     style=\"display: grid;\r\n                            grid-gap: 5px; \r\n                            box-sizing: border-box; \r\n                            grid-template-areas: 'one' 'two'; \r\n                            grid-template-columns:100%; \r\n                            overflow: hidden; \r\n                            grid-template-rows   : ${PartSizes}\" \r\n                     >\r\n                     <slot></slot>\r\n                    <slot name=\"splitter\">  <div style=\"grid-row:2; grid-column:1 / 1 ; cursor: row-resize; z-index: 3; background-color: #eef ; height: ${Gap}; margin-top :-${Gap}\" ws-onmousedown=\"MouseDown\" ws-onafterrender=\"AfterRenderSp\" ></div> </slot>\r\n                    <style>\r\n                        ::slotted(*) {\r\n                            display: grid;\r\n                            height : 100%;\r\n                            width  : 100%;\r\n                            overflow: hidden;\r\n                        }\r\n                        ::slotted(*:nth-child(2)) {\r\n                            grid-area: two;\r\n                        }\r\n                        ::slotted(*[slot=\"splitter\"]) {\r\n                            grid-row:2; grid-column:1 / 1 ; \r\n                            cursor: row-resize; \r\n                            z-index: 3; \r\n                            background-color: #eef ; \r\n                            height: ${Gap}; \r\n                            margin-top :-${Gap}\r\n                        }\r\n                    </style>\r\n                </div>        \r\n                <div ws-template=\"WCompSplitterVer\" \r\n                     ws-onafterrender=\"AfterRender\"\r\n                     style=\"display: grid; \r\n                            grid-gap: 5px; \r\n                            box-sizing: border-box; \r\n                            grid-template-areas: 'one two'; \r\n                            grid-template-rows   :100%; \r\n                            overflow: hidden; \r\n                            grid-template-columns: ${PartSizes}\"  >\r\n                    <slot></slot>\r\n                    <slot name=\"splitter\"> <div style=\"grid-column:2; grid-row:1 / 1 ; cursor: col-resize; z-index: 3; background-color: #eef ; width: ${Gap}; margin-left :-${Gap}\" ws-onmousedown=\"MouseDown\" ws-onafterrender=\"AfterRenderSp\" ></div> </slot>\r\n                    <style>\r\n                        ::slotted(*) {\r\n                            display: grid;\r\n                            height : 100%;\r\n                            width  : 100%;\r\n                            overflow: hidden;\r\n                        }\r\n                        ::slotted(*:nth-child(2)) {\r\n                            grid-area: two;\r\n                        }\r\n                        ::slotted(*[slot=\"splitter\"]) {\r\n                            grid-column:2; grid-row:1 / 1\r\n                            cursor: column-resize; \r\n                            z-index: 3; \r\n                            background-color: #eef ; \r\n                            width: ${Gap}; \r\n                            margin-left:-${Gap}\r\n                        }\r\n                    </style>\r\n                </div>\r\n                <div ws-template=\"AppFwkClient\" >\r\n                    <ws-FixedSplitterHor>\r\n                        <PartSizes>55px calc(100% - 55px)</PartSizes>\r\n                        <First>\r\n                            <span style=\"display: grid;\r\n                                  grid-template-columns: 30% 20% 20% 10%;\r\n                                  grid-gap: 25px;\r\n                                \">\r\n                                <div class=\"mainTitle\">AppFramework</div>\r\n                            </span>\r\n                        </First>\r\n                        <Second>\r\n                                <ws-FixedSplitterVer>\r\n                                    <PartSizes>calc(100% - 150px) 150px</PartSizes>\r\n                                    <First>\r\n                                        <wcomp-splitter vertical value=\"18\" max=\"100\">\r\n                                            <div><div ws-hole=\"PlugIns\" style=\"overflow:auto\" >\r\n                                                <div ws-template=\"Tile\">\r\n                                                    <div draggable=\"true\" class=\"code-editor-list-tile ${Predecessor} ${Selected}\" \r\n                                                    ws-ondrag=\"Drag\"\r\n                                                    ws-ondragover=\"DragOver\"\r\n                                                    ws-ondrop=\"Drop\"\r\n                                                   >\r\n                                                   <span class=\"node ${Parent} ${ErrorMsg}\" title=\"expand\" ws-onclick=\"ToggleCollapse\"></span>\r\n                                                   <div  class=\"code-editor-list-text\" style=\"text-indent:${Indent}em; white-space: pre\" ws-onclick=\"Select\" ws-onafterrender=\"AfterRender\" >${Name}</div>\r\n                                                   <span class=\"predecessor\" title=\"toggle predecessor\" ws-onclick=\"TogglePred\">X</span>\r\n                                               </div>\r\n                                       \r\n                                                </div>\r\n                                            </div></div>\r\n                                            <wcomp-splitter vertical value=\"100\" min=\"30\" max=\"100\">\r\n                                                <ws-FixedSplitterHor>\r\n                                                    <PartSizes>32px calc(100% - 32px)</PartSizes>\r\n                                                    <First>\r\n                                                        <div>\r\n                                                            <div class=\"input-group\">\r\n                                                                <span class=\"input-group-addon\">name:</span>\r\n                                                                <span class=\"input-group-addon\">${PlugInName}</span>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </First>\r\n                                                    <Second>\r\n                                                        <div style=\"overflow:auto\">\r\n                                                            <div>\r\n                                                                <div>Docs:</div>\r\n                                                                <div ws-hole=\"Docs\" style=\"overflow:auto\" ></div>\r\n                                                            </div>\r\n                                                            <div>\r\n                                                                <div>Views:</div>\r\n                                                                <div ws-hole=\"Views\" style=\"overflow:auto\" >\r\n                                                                    <div ws-template=\"NameValue\" class=\"input-group\">\r\n                                                                        <span class=\"input-group-addon\">${Name}:</span>\r\n                                                                        <span class=\"input-group-addon\">${Value}</span>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <div>\r\n                                                                <div>Queries:</div>\r\n                                                                <div ws-hole=\"Queries\" style=\"overflow:auto\" ></div>\r\n                                                            </div>\r\n                                                            <div>\r\n                                                                <div>Vars:</div>\r\n                                                                <div ws-hole=\"Vars\" style=\"overflow:auto\" >\r\n                                                                    <div ws-template=\"NameValueInput\" class=\"input-group\">\r\n                                                                        <span class=\"input-group-addon\">${Name}:</span>\r\n                                                                        <textarea class=\"form-control\" id=\"\" placeholder=\"Value...\" ws-var=\"Value\" spellcheck=\"false\">\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </Second>\r\n                                                </ws-FixedSplitterHor>\r\n                                                <wcomp-tabstrip >\r\n                                                    <div tabname=\"Properties\">\r\n                                                        <div>\r\n                                                            <table style=\"border-spacing:0px\">\r\n                                                                <thead>\r\n                                                                    <th style=\"width: 30%  \">Name</th>\r\n                                                                    <th style=\"width: 70% \">Value</th>\r\n                                                                </thead>\r\n                                                                <tbody ws-hole=\"Properties\" ws-children-template=\"Property\">\r\n                                                                    <tr ws-onclick=\"Select\" style=\"margin-bottom: 2px\" class=\"level  \">\r\n                                                                        <td class=\"level-item\">\r\n                                                                            <div>\r\n                                                                                <input ws-var=\"Name\" type=\"text\" class=\"form-control\" id=\"\" placeholder=\"Property...\">\r\n                                                                            </div>\r\n                                                                        </td>\r\n                                                                        <td class=\"level-item\">\r\n                                                                            <div>\r\n                                                                                <textarea ws-var=\"Value\" class=\"form-control\" id=\"\" placeholder=\"Value...\"></textarea>\r\n                                                                            </div>\r\n                                                                        </td>\r\n                                                                        <td class=\"level-item\">\r\n                                                                            <div style=\" cursor: pointer \" title=\"remove\">\r\n                                                                                <button ws-onclick=\"Remove\" class=\"delete is-small\">x</button>\r\n                                                                            </div>\r\n                                                                        </td>\r\n                                                                    </tr>\r\n                                                                </tbody>\r\n                                                            </table>\r\n                                                            <button ws-onclick=\"AddProperty\" class=\"add is-small\">add ...</button>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </wcomp-tabstrip>\r\n                                            </wcomp-splitter>\r\n                                        </wcomp-splitter>\r\n                                    </First>\r\n                                    <Second>\r\n                                        <div style=\"\r\n                                            overflow: hidden;\r\n                                            display: grid;\r\n                                            grid-template-columns: 100%;\r\n                                            grid-template-rows: repeat(15, calc(100% / 15));\r\n                                            bxackground-color: #eee;\r\n                                            box-sizing: border-box;\r\n                                            padding : 5px;\r\n                                            grid-gap: 5px;\r\n                                            margin-right: 21px;\r\n                                       \"  class=\"absolute\" ws-hole=\"Actions\" >\r\n                                            <button ws-template=\"Action\"         ws-onclick=\"Click\" class=\"btn\" type=\"button\" id=\"\"          >${Name}</button>\r\n                                            <button ws-template=\"ActionDisabled\" ws-onclick=\"Click\" class=\"btn\" type=\"button\" id=\"\" disabled >${Name}</button>\r\n                                        </div>\r\n                                    </Second>\r\n                                </ws-FixedSplitterVer>\r\n                        </Second>\r\n                    </ws-FixedSplitterHor>\r\n                </div>\r\n                <style style=\"display: none\">\r\n                        .Hidden     { display   : none         }\r\n                        table th,table td { padding:0 5px 0 5px; text-overflow: ellipsis }\r\n                        td input.form-control { \r\n                            padding    : 0px; \r\n                            font-family: monospace;\r\n                            font-size  :   small;\r\n                            margin-top :   0px;\r\n                            margin-left: -2px;\r\n                            width      : 100%\r\n                        }\r\n                        td select {\r\n                            font-size : smaller;\r\n                            max-width : 8ch;\r\n                        }\r\n                        textarea {\r\n                           resize : vertical;\r\n                        }\r\n                        .tab-content {\r\n                            overflow: hidden\r\n                        }\r\n                        .tab-children {\r\n                            position:relative;\r\n                        }\r\n                        .tab-children>div>* {\r\n                            position:absolute;\r\n                            height: 100%;\r\n                            width:  100%;\r\n                            display: grid;\r\n                        }\r\n                        .relative {\r\n                            position:relative;\r\n                        }\r\n                        .relative>* {\r\n                            position:absolute;\r\n                            height: 100%;\r\n                            width:  100%;\r\n                            display: grid;\r\n                        }\r\n                        table.table-striped    tbody tr:nth-child(even) { background: #EEE  }\r\n                        table.table-striped    tbody tr:nth-child(odd ) { background: #FFF  }\r\n                        table.table-striped    tbody input              { background: transparent; border: none}\r\n                        table.table-striped    tbody select             { background: transparent; border: none}\r\n                        table.table-nonstriped tbody tr:nth-child(even) { background: inherit }\r\n                        table.table-nonstriped tbody tr:nth-child(odd ) { background: inherit }\r\n                        table.table            tbody tr.hover           { border    : solid thin transparent; } \r\n                        table.table            tbody tr.hover:hover     { border    : solid thin blue     ; } \r\n                        table.table            tbody th:hover           { background: gray; cursor: pointer }\r\n                        table.table            tbody tr.hover:hover>td  { border-top: solid thin blue     ; \r\n                                                                   border-bottom: solid thin blue     ; } \r\n                        table.table            tbody tr.selected { background   : #b9eeff             ; }\r\n                        table.table            tbody tr.formula.selected { background: #20f7f7             ; }\r\n                        thead { color: gray }\r\n                        h3 { \r\n                            color: gray;\r\n                            line-height: 1em;\r\n                        }\r\n                        button       { border: solid thin transparent ; border-radius: 3px; }\r\n                        button:hover { border: solid thin blue }\r\n                        .indenter { position  : absolute; \r\n                                    top:0px; bottom:0px; left:0px; \r\n                                    background: white; color:white;\r\n                                    border-right: gray thin dotted;\r\n                                    }\r\n                        body {\r\n                            color      : #333;\r\n                            font-size  : small;\r\n                            font-family: monospace;\r\n                            line-height: 1.2;\r\n                        }\r\n                        .mainTitle {  \r\n                            font-size: 48px;\r\n                            font-weight: 500;\r\n                            color: gray;\r\n                            margin-top: -12px;\r\n                        }\r\n                        .CodeMirror {\r\n                            height: 100%;\r\n                        }\r\n                        \r\n                      \r\n                        body { margin: 0px }     \r\n                             \r\n                        div textarea {\r\n                            font-family     : monospace;\r\n                        }\r\n                        .code-editor-list-tile {\r\n                            white-space     : nowrap; \r\n                            border-style    : solid none none;\r\n                            border-color    : white;\r\n                            border-width    : 1px;\r\n                            background-color: #D8D8D8;\r\n                            display         : flex;\r\n                        }\r\n                        .code-editor-list-text{\r\n                            padding         : 1px 10px 1px 5px;\r\n                            overflow        : hidden;\r\n                            text-overflow   : ellipsis;\r\n                            white-space     : nowrap;\r\n                            flex            : 1;\r\n                        }\r\n                        \r\n                        .code-editor-list-tile span.node.ErrorMsg {\r\n                            background-color: red\r\n                        }\r\n                        .code-editor-list-tile span.node.expanded::before {\r\n                            content: \"-\"\r\n                        }\r\n                        .code-editor-list-tile span.node.collapsed::before {\r\n                            content: \"+\"\r\n                        }\r\n                        .code-editor-list-tile.direct-predecessor {\r\n                            font-weight     : bold;\r\n                            color           : blue;\r\n                        }\r\n                        .code-editor-list-tile.indirect-predecessor {\r\n                            color           : blue;\r\n                        }\r\n                        .code-editor-list-tile.included-predecessor {\r\n                            color           : chocolate;\r\n                        }\r\n                        .code-editor-list-tile.selected {\r\n                            background-color: #77F;\r\n                            color           : white;\r\n                        }\r\n                        .code-editor-list-tile.codeSnippet {\r\n                            text-decoration: underline\r\n                        }\r\n                        .code-editor-list-tile:hover {\r\n                            background      : lightgray;\r\n                        }\r\n                        .code-editor-list-tile.selected:hover {\r\n                            background      : blue;\r\n                        }\r\n                        .code-editor-list-tile>.predecessor {\r\n                            font-weight     : bold;\r\n                            border-style    : inset;\r\n                            border-width    : 1px;\r\n                            text-align      : center;\r\n                            color           : transparent;\r\n                        }\r\n                        .code-editor-list-tile.direct-predecessor>.predecessor {\r\n                            color           : blue;\r\n                        }\r\n                        \r\n                        .CodeMirror { height: 100%; }\r\n                        \r\n                        .node {\r\n                            background-color: white; \r\n                            width           : 2ch; \r\n                            color           : #A03; \r\n                            font-weight     : bold; \r\n                            text-align      : center;\r\n                            font-family     : arial;\r\n                        }\r\n                        .Warning { text-decoration: underline lightblue } \r\n                        .Error   { text-decoration: underline red       } \r\n                        \r\n                    </style>\r\n            </div>\r\n            ";_9.plugIns=new bO.New$1(function(e5){return e5.plgName;});_9.mainDocV=bB.Create$1("AppFramework.AppFwkClient");_9.TemplateFileName="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\LayoutEngine\\website\\AppFramework.html";_9.selectionPlugInO=bB.Create$1({$:1,$0:new K({$:0,$0:"AppFramework"})});_9.currentPlugInW=(b1=I.selectionPlugInO().get_View(),bs.Map2(function(e5,e6){return(dZ(e5))(e6);},I.plugIns().v,b1));_9.currentPlugInV=new bw.New(I.currentPlugInW(),function(e5){I.plugIns().Append(e5);});_9.AppFwkClient=bH.Create(function(){var e5,e6,e7,e8,e9,e_,e$,fa,fb;return(e5=(e6=I.renderQueries(),(e7=I.renderActions(),(e8=I.renderDocs(),(e9=I.renderViews(),(e_=I.renderVars(),(e$=I.renderPlugIns(),bL.Make().WithHole({$:0,$0:"plugins",$1:e$})).WithHole({$:2,$0:"pluginname",$1:bs.Map(function(fc){return fc.plgName.get_Id();},I.currentPlugInW())}).WithHole({$:0,$0:"vars",$1:e_})).WithHole({$:0,$0:"views",$1:e9})).WithHole({$:0,$0:"docs",$1:e8})).WithHole({$:0,$0:"actions",$1:e7})).WithHole({$:0,$0:"queries",$1:e6})),(fa=bM.CompleteHoles(e5.k,e5.h,[]),(fb=new bN.New(fa[1],$.appfwkclient(fa[0])),(e5.i=fb,fb)))).get_Doc();});_9.plugin=new R.New();_9.a11V=bB.Create$1(11);_9.mainX={$:0,$0:I.a11V().get_View()};_9.baseView=I.mainDocV().get_View();_9.op_LessMultiplyGreater=function(e5){return function(e6){return U.apply(e5,e6);};};_9.textAtt=function(e5){return function(){return e5("textAtt not implemented");};}(bh.FailWith);_9.getDocFromReferenceD=p.dependByName("getDocFromReference",W.getDocFromReference,a.id);_9.getTextActViewFromReferenceD=p.dependByName("getTextActViewFromReference",W.getTextActViewFromReference,a.id);_9.getDocFromTextTypesD=(b2=p.depend(),b2.Delay(function(){return b2.Bind(W.getDocFromReferenceD(),function(e5){var e6;function e7(e8){return e8.$==1?e5(e8.$0):bx.TextNode(e8.$0);}return b2.Return((e6=function(e8){return bg.map(e7,e8);},function(e8){return bx.Concat(e6(e8));}));});}));_9.extractDocD=(b3=p.depend(),b3.Delay(function(){return b3.Bind(W.getDocFromTextTypesD(),function(e5){return b3.Return(function(e6){return e5(W.getTextData(e6));});});}));_9.getTextValFromSeqD=(b4=p.depend(),b4.Delay(function(){return b4.Bind(W.getTextActViewFromReferenceD(),function(e5){var e6,e7,e8;function e9(e_){var e$;return e_.$==1?(e$=e_.$0,{$:0,$0:bs.Map(function(fa){return fa.$==1?(function(fb){return function(fc){return fb("@{"+bk.toSafe(fc)+"}");};}(a.id))(e$):fa.$0;},e5(e$))}):{$:1,$0:e_.$0};}return b4.Return((e6=function(e_){return U.traverseListApp(e9,e_);},(e7=(e8={$:1,$0:function(e_){return bi.concat("",e_);}},function(e_){return U.apply(e8,e_);}),function(e_){return e7(e6(e_));})));});}));_9.getTextValD=r.op_GreaterMultiplyGreater(W.getTextData,W.getTextValFromSeqD());_9.extractAtsD=(b5=p.depend(),b5.Delay(function(){return b5.Bind(W.getTextValD(),function(e5){return b5.Bind(W.getTextActViewFromReferenceD(),function(e6){return b5.Return(function(e7){var e8,e9;function e_(fg){var fh,fi,fj,fk,fl,fm,fn;fh=bi.SplitChars(fg,[":"],0);return!bn.Equals(fh,null)&&fh.length===2?(fi=bf.get(fh,1),{$:0,$0:bf.get(fh,0),$1:fi}):(fj=bf.map(bi.Trim,bi.SplitChars(fg,["="],0)),!bn.Equals(fj,null)&&fj.length===2?(fk=bf.get(fj,1),(fl=bf.get(fj,0),(fm=W.getTextData(fk),fm.$==1&&(fm.$0.$==1&&(fm.$1.$==0&&(fn=fm.$0.$0,true)))?{$:2,$0:fl,$1:fn}:{$:1,$0:fl,$1:fk}))):!bn.Equals(fj,null)&&fj.length===1?{$:1,$0:bf.get(fj,0),$1:""}:V.AEmpty);}function e$(fg){return bj.filter(function(fh){return""!==fh;},bj.map(bi.Trim,bi.SplitChars(fg,[";"],0)));}function fa(fg){var fh;fh=fg.addedListeners;return!fh?[]:fh;}function fb(fg,fh,fi){var fj;function fk(fl){I.callFunction(fh,fl,fj.actFunction);}return fi.$==1?(fj=fi.$0,(fh.addEventListener(fg,fk,false),void(fh.addedListeners=fa(fh).concat([[fg,fk]])))):fh.setAttribute(fg,bi.Trim(fi.$0));}function fc(fg){function fh(fi,fj){return fb(fg,fi,fj);}return function(fi){return bz.DynamicCustom(function(fj){return function(fk){return fh(fj,fk);};},fi);};}function fd(fg){var fh;return fg.$==1?I.valToAttr(fg.$0,e5(fg.$1)):fg.$==2?(fh=e6(fg.$1),(fc(fg.$0))(fh)):fg.$==3?bX.EmptyAttr():I.valToStyle(fg.$0,e5(fg.$1));}function fe(fg,fh){var fi,fl,fm,fn,fo,fp,fq,fr,fs,ft,fu,fv,fw,fx,fy,fz,fA;function fj(fB){return fB[0];}function fk(fB){return new bv.New(fB);}fl=bj.choose(function(fB){return fB.$==0?{$:1,$0:fB.$0+":"+fB.$1}:null;},fh);fm=bf.ofSeq(bj.delay(function(){return bj.append(!bj.isEmpty(fl)?[["style",bi.concat(";",fl)]]:[],bj.delay(function(){return bj.choose(function(fB){return fB.$==1?{$:1,$0:[fB.$0,fB.$1]}:fB.$==2?{$:1,$0:[fB.$0,fB.$1]}:fB.$==3?null:null;},fh);}));}));fn=bg.ofSeq(bj.delay(function(){return bj.map(function(fB){return[fg.attributes.item(fB).name,fg.attributes.item(fB).value];},bg.ofSeq(bh.range(0,fg.attributes.length-1)));}));fo=(fi=function(fB){return bj.map(fj,fB);},function(fB){return fk(fi(fB));});fp=bv.op_Subtraction(fo(fn),fo(fm));fq=bd.Get(fp);try{while(fq.MoveNext()){fr=fq.Current();fg.attributes.removeNamedItem(fr);}}finally{if(typeof fq=="object"&&"Dispose"in fq)fq.Dispose();}fs=bv.op_Subtraction(new bv.New(fm),new bv.New(fn));ft=bd.Get(fs);try{while(ft.MoveNext()){fu=ft.Current();fg.setAttribute(fu[0],fu[1]);}}finally{if(typeof ft=="object"&&"Dispose"in ft)ft.Dispose();}fv=fa(fg);for(fw=0,fx=fv.length-1;fw<=fx;fw++){fy=bf.get(fv,fw);fg.removeEventListener(fy[0],fy[1]);}fz=bj.choose(function(fB){return fB.$==2?{$:1,$0:[fB.$0,fB.$1]}:null;},fh);fA=bd.Get(fz);try{while(fA.MoveNext())(function(){var fB,fC;fB=fA.Current();return bs.Get((fC=fB[0],function(fD){return fb(fC,fg,fD);}),e6(fB[1]));}());return;}finally{if(typeof fA=="object"&&"Dispose"in fA)fA.Dispose();}}function ff(fg){return bj.map(e_,fg);}e8=bf.ofSeq(e$(e7));return!bn.Equals(e8,null)&&e8.length===1?[(e9=e5(bf.get(e8,0)),e9.$==0?bz.DynamicCustom(function(fg){return function(fh){return fe(fg,fh);};},bs.Map(function(fg){return ff(e$(fg));},e9.$0)):fd(e_(e9.$0)))]:bj.map(function(fg){return fd(e_(fg));},e8);});});});}));_9.extractTextD=(b6=p.depend(),b6.Delay(function(){return b6.Bind(W.getTextValD(),function(e5){return b6.Return(function(e6){return U.toView(e5(e6));});});}));_9.currentPlugInNameDef=new K({$:0,$0:"NewLYx"});_9.currentPlugInNameD=p.dependByName("currentPlugInName",I.currentPlugInNameDef(),a.id);_9.getDocD=(b7=p.depend(),b7.Delay(function(){return b7.Bind(I.currentPlugInNameD(),function(e5){return b7.Return(function(e6){var e7,e8,e9;e7=(I.splitName(e5))(e6);e8=e7[0];e9=e7[1];return bx.BindView(function(e_){var e$;function fa(){return(function(fb){return function(fc){return fb("Reference not found @{"+bk.toSafe(fc)+"}");};}(a.id))(e6);}e$=e_==null?null:{$:1,$0:I.getLazyDoc(e_.$0)};return e$==null?bx.TextView(bs.Map(function(fb){return fb==null?fa():fb.$0;},I.tryGetWoWW(e8,e9))):e$.$0;},I.tryGetDocW(e8,e9));});});}));_9.getTextActViewD=(b8=p.depend(),b8.Delay(function(){return b8.Bind(I.currentPlugInNameD(),function(e5){return b8.Return(function(e6){var e7,e8,e9;e7=(I.splitName(e5))(e6);e8=e7[0];e9=e7[1];return bs.Bind(function(e_){function e$(){return(function(fa){return function(fb){return fa("Text Reference not found @{"+bk.toSafe(fb)+"}");};}(a.id))(e6);}return e_==null?bs.Map(function(fa){return{$:0,$0:fa};},bs.Map(function(fa){return fa==null?e$():fa.$0;},I.tryGetWoWW(e8,e9))):bs.Const({$:1,$0:e_.$0});},I.tryGetActW(e8,e9));});});}));_9.extractTextD$1=W.extractTextD();_9.extractDocD$1=W.extractDocD();_9.extractAtsD$1=W.extractAtsD();_9.extractAttD=(b9=r.depend(),b9.Delay(function(){return b9.Bind(I.extractAtsD(),function(e5){return b9.Return(function(e6){return bA.Concat(e5(e6));});});}));_9.defPlugInName=new K({$:0,$0:"AppFramework"});_9.inputLabel=I.depWithExtracts(function(e5,e6,e7){return d0.apply(null,[e5,e6,e7]);});_9.input=I.depWithExtracts(function(e5){return function(e6){return d1(e5,e6);};});_9.textArea=I.depWithExtracts(function(e5){return function(e6){return d2(e5,e6);};});_9.htmlDoc=I.depWithExtracts(function(e5,e6,e7){return function(e8){return bx.BindView(bx.Verbatim,e7(e8));};});_9.trigAct=I.depWithExtracts(function(e5,e6,e7){return function(e8){return function(e9){var e_,e$;return bx.TextView(bs.Map(function(){var fa,fb;fa=(fb=I.getParmRef(e9),I.tryGetAct(fb[0],fb[1]));fa==null?void 0:I.callFunction(null,null,fa.$0.actFunction);return"";},(e_=e7(e8),(e$=[bB.Create$1(null)],(bs.Sink(function(fa){if(!bn.Equals(e$[0].Get(),fa))e$[0].Set(fa);},e_),e$[0].get_View())))));};};});_9.select=I.depWithExtracts(function(e5,e6,e7){return bc.Curried3(function(e8,e9,e_){function e$(fa){var fb,fc;fb=bs.Map(function(fd){return bg.ofSeq(bi.SplitChars(fd,[";"],0));},e7(e_));fc=new bw.New(bs.Map2(function(fd,fe){return bj.contains(bi.Trim(fd),fe)?{$:1,$0:bi.Trim(fd)}:null;},fa.get_View(),fb),function(fd){var fe;if(fd!=null&&fd.$==1){fe=fd.$0;bs.Get(function(ff){if(bj.contains(fe,ff))fa.Set(fe);},fb);}else fa.Set("");});return bx.SelectDynOptional(e5(e8),e9,a.id,fb,fc);}return function(fa){return I.docWithVar(e$,fa);};});});b_=(b$=I.plugin(),b$.AddAct(b$.AddDoc(b$.AddVar(b$.Name(b$.Yield(),"AppFramework"),"mainDocV",I.mainDocV()),"AppFwkClient",I.AppFwkClient()),"Hello",function(){self.alert("Hello!");}));I.plugIns().Append(b_);ca=(cb=I.plugin(),cb.AddQry(cb.AddAct(cb.AddAct2(cb.AddDoc3(cb.AddDoc3(cb.AddDoc4(cb.AddDoc2(cb.AddDoc2(cb.AddDoc2(cb.AddDoc1(cb.Name(cb.Yield(),"AF"),"HtmlDoc",I.htmlDoc(),"Html"),"TrigAction",I.trigAct(),"Trigger","Action"),"Input",I.input(),"Attrs","Var"),"TextArea",I.textArea(),"Attrs","Var"),"Select",I.select(),"Attrs","None","Vals","Var"),"InputFile",bc.Curried3(I.inputFile),"Attrs","Label","Action"),"InputLabel",I.inputLabel(),"Attrs","Label","Var"),"SetVar",function(e5){return function(e6){return I.setVar(e5,e6);};},"Var","Value"),"Hello",function(){self.alert("Hello!");}),"getDocNames",function(){return bf.ofSeq(bj.collect(function(e5){return bj.map(function(e6){return e5.plgName.get_Id()+"."+e6.docName.get_Id();},e5.plgDocs);},(I.plugIns())["var"].Get()));}));I.plugIns().Append(ca);_9.getMainDoc=bH.Create(function(){F.init(bc.Curried(I.horizontal,5),bc.Curried(I.vertical,5));D.init().f();return I.mainDoc();});_9.htmlD=p.dependByName("AppFrameworkTemplate.html",H.html(),a.id);_9.startWithHtmlD=(cc=p.depend(),cc.Delay(function(){return cc.Bind(_0.htmlD(),function(e5){return cc.Return(function(){var e6,e7,e8;e6=self.document.createElement("div");self.document.body.appendChild(e6);e6.outerHTML=e5;e7=I.getMainDoc().f();e8=self.document.body;bE.LoadLocalTemplates("");bx.RunAppend(e8,e7);});});}));_9.splitName=I.splitName;_9.currentViewTriggger=I.mainDocV().get_View();_9.createSplitterM=(cd=(ce=new bT.New$5(),[[d3,function(e5){return function(e6){return d5(e5,e6);};}],function(){ce.Clear();}]),(cf=cd[0][1],[function(e5){return(cf(e5))(function(e6){return _2.createSplitter(e6[0],e6[1],e6[2],e6[3],e6[4]);});},cd[1]]))[0];_9.createButtonM=(cg=(ch=new bT.New$5(),[[d6,function(e5){return function(e6){return d8(e5,e6);};}],function(){ch.Clear();}]),(ci=cg[0][1],[function(e5){return(ci(e5))(function(e6){return _2.createButton(e6[0],e6[1],e6[2],e6[3],e6[4]);});},cg[1]]))[0];_9.createInputM=(cj=(ck=new bT.New$5(),[[d9,function(e5){return function(e6){return d$(e5,e6);};}],function(){ck.Clear();}]),(cl=cj[0][1],[function(e5){return(cl(e5))(function(e6){return _2.createInput(e6[0],e6[1],e6[2],e6[3]);});},cj[1]]))[0];_9.createTextAreaM=(cm=(cn=new bT.New$5(),[[ea,function(e5){return function(e6){return ec(e5,e6);};}],function(){cn.Clear();}]),(co=cm[0][1],[function(e5){return(co(e5))(function(e6){return _2.createTextArea(e6[0],e6[1],e6[2],e6[3]);});},cm[1]]))[0];_9.createElementM=(cp=(cq=new bT.New$5(),[[ed,function(e5){return function(e6){return ef(e5,e6);};}],function(){cq.Clear();}]),(cr=cp[0][1],[function(e5){return(cr(e5))(function(e6){return _2.createElement(e6[0],e6[1],e6[2],e6[3],e6[4]);});},cp[1]]))[0];_9.createDocM=(cs=(ct=new bT.New$5(),[[eg,function(e5){return function(e6){return ei(e5,e6);};}],function(){ct.Clear();}]),(cu=cs[0][1],[function(e5){return(cu(e5))(function(e6){return _2.createDoc(e6[0],e6[1],e6[2],e6[3]);});},cs[1]]))[0];_9.createTemplateM=(cv=(cw=new bT.New$5(),[[ej,function(e5){return function(e6){return el(e5,e6);};}],function(){cw.Clear();}]),(cx=cv[0][1],[function(e5){return(cx(e5))(function(e6){return _2.createTemplate(e6[0],e6[1],e6[2],e6[3],e6[4]);});},cv[1]]))[0];_9.createConcatM=(cy=(cz=new bT.New$5(),[[em,function(e5){return function(e6){return eo(e5,e6);};}],function(){cz.Clear();}]),(cA=cy[0][1],[function(e5){return(cA(e5))(function(e6){return _2.createConcat(e6[0],e6[1],e6[2]);});},cy[1]]))[0];_9.createVarM=(cB=(cC=new bT.New$5(),[[ep,function(e5){return function(e6){return er(e5,e6);};}],function(){cC.Clear();}]),(cD=cB[0][1],[function(e5){return(cD(e5))(function(e6){return _2.createVar(e6[0],e6[1],e6[2]);});},cB[1]]))[0];_9.createViewM=(cE=(cF=new bT.New$5(),[[es,function(e5){return function(e6){return eu(e5,e6);};}],function(){cF.Clear();}]),(cG=cE[0][1],[function(e5){return(cG(e5))(function(e6){return _2.createView(e6[0],e6[1],e6[2]);});},cE[1]]))[0];_9.createActionM=(cH=(cI=new bT.New$5(),[[ev,function(e5){return function(e6){return ex(e5,e6);};}],function(){cI.Clear();}]),(cJ=cH[0][1],[function(e5){return(cJ(e5))(function(e6){return _2.createAction(e6[0],e6[1],e6[2],e6[3]);});},cH[1]]))[0];cK=I.tryGetPlugIn(I.defPlugInName());cK==null?void 0:cK.$0.plgActions.Append(I.newActF(new J({$:0,$0:"AddLayout"}),{$:2,$0:function(e5){return function(e6){return _2.addNewLayout(e5,e6);};},$1:"[Name]",$2:"[Layout]"}));_9.aV=bB.Create$1(4);_9.pa=_7.aV().get_View();_9.pb=6.2;_9.currentPlugInNameDef$1=new K({$:0,$0:"NewLYx"});_9.currentPlugInNameD$1=p.dependByName("currentPlugInName",_7.currentPlugInNameDef(),a.id);_9.name=bB.Create$1("World");_9.enterName=(cL=I.op_Dereference(_7.checkName),(cM={$:0,$0:_7.name().get_View()},T.New(r.op_BarGreaterGreater(cL.r,function(e5){return S.New(e5,cM);}))));_9.now=(cN=I.op_Dereference(function(){var e5;e5=new a.Date(bY.now());return e5.getFullYear()+"-"+("0"+(e5.getMonth()+1)).slice(-2)+"-"+("0"+e5.getDate()).slice(-2)+" "+("0"+e5.getHours()).slice(-2)+":"+("0"+e5.getMinutes()).slice(-2)+":"+("0"+e5.getSeconds()).slice(-2)+":"+("00"+e5.getMilliseconds()).slice(-3);}),(cO={$:0,$0:_7.name().get_View()},T.New(r.op_BarGreaterGreater(cN.r,function(e5){return S.New(e5,cO);}))));_9.sayHello=(cP=(cQ=(cR=I.op_Dereference(bx.Concat),I.bindWrap(function(e5){var e6;e6={$:1,$0:[e5("Hello @{name}!")]};return T.New(r.op_BarGreaterGreater(cR.r,function(e7){return S.New(e7,e6);}));},I.extractDocD())),I.bindWrap(function(e5){return I.unwrapBindWrap(function(e6){return S.New(e6.f,U.addDoc(U.textDoc(e5.f.$==0?e5.p.$==1?{$:0,$0:bs.Apply(e5.f.$0,bs.Const(e5.p.$0))}:{$:0,$0:bs.Apply(e5.f.$0,e5.p.$0)}:e5.p.$==0?{$:0,$0:bs.Apply(bs.Const(e5.f.$0),e5.p.$0)}:{$:1,$0:e5.f.$0(e5.p.$0)}),e6.p));},cQ);},_7.enterName().r)),(cS=(cT=I.op_Dereference(bx.Concat),I.bindWrap(function(e5){var e6;e6={$:1,$0:[e5("How are you?")]};return T.New(r.op_BarGreaterGreater(cT.r,function(e7){return S.New(e7,e6);}));},I.extractDocD())),(cU=(cV=I.op_Dereference(bx.Concat),I.bindWrap(function(e5){var e6;e6={$:1,$0:[I.makeAViewDoc(function(){var e7;e7=e5.f.$==0?e5.p.$==1?{$:0,$0:bs.Apply(e5.f.$0,bs.Const(e5.p.$0))}:{$:0,$0:bs.Apply(e5.f.$0,e5.p.$0)}:e5.p.$==0?{$:0,$0:bs.Apply(bs.Const(e5.f.$0),e5.p.$0)}:{$:1,$0:e5.f.$0(e5.p.$0)};return e7.$==0?bx.BindView(a.id,e7.$0):e7.$0;})]};return T.New(r.op_BarGreaterGreater(cV.r,function(e7){return S.New(e7,e6);}));},cP.r)),I.bindWrap(function(e5){return I.unwrapBindWrap(function(e6){return S.New(e6.f,U.addDoc(I.makeAViewDoc(function(){var e7;e7=e5.f.$==0?e5.p.$==1?{$:0,$0:bs.Apply(e5.f.$0,bs.Const(e5.p.$0))}:{$:0,$0:bs.Apply(e5.f.$0,e5.p.$0)}:e5.p.$==0?{$:0,$0:bs.Apply(bs.Const(e5.f.$0),e5.p.$0)}:{$:1,$0:e5.f.$0(e5.p.$0)};return e7.$==0?bx.BindView(a.id,e7.$0):e7.$0;}),e6.p));},cU);},cS.r))));_9.aString=bB.Lens(_7.aV(),a.String,function(e5,e6){return bh.toInt(a.Number(e6));});_9.main0=(cW=(cX=I.op_Dereference(function(e5){return function(e6){return _7.concat(e5,e6);};}),(cY={$:0,$0:_7.aV().get_View()},T.New(r.op_BarGreaterGreater(cX.r,function(e5){return S.New(e5,cY);})))),(cZ={$:1,$0:3.2},T.New(r.op_BarGreaterGreater(cW.r,function(e5){return S.New(e5.f.$==0?e5.p.$==1?{$:0,$0:bs.Apply(e5.f.$0,bs.Const(e5.p.$0))}:{$:0,$0:bs.Apply(e5.f.$0,e5.p.$0)}:e5.p.$==0?{$:0,$0:bs.Apply(bs.Const(e5.f.$0),e5.p.$0)}:{$:1,$0:e5.f.$0(e5.p.$0)},cZ);}))));_9.main1=(c0=(c1=I.op_Dereference((bc.Curried3(function(e5,e6,e7){return e5("result = "+bk.toSafe(e6)+" "+bk.toSafe(e7));}))(a.id)),I.bindWrap(function(e5){var e6;e6=e5.f.$==0?e5.p.$==1?{$:0,$0:bs.Apply(e5.f.$0,bs.Const(e5.p.$0))}:{$:0,$0:bs.Apply(e5.f.$0,e5.p.$0)}:e5.p.$==0?{$:0,$0:bs.Apply(bs.Const(e5.f.$0),e5.p.$0)}:{$:1,$0:e5.f.$0(e5.p.$0)};return T.New(r.op_BarGreaterGreater(c1.r,function(e7){return S.New(e7,e6);}));},_7.main0().r)),(c2={$:1,$0:"main0"},T.New(r.op_BarGreaterGreater(c0.r,function(e5){return S.New(e5.f.$==0?e5.p.$==1?{$:0,$0:bs.Apply(e5.f.$0,bs.Const(e5.p.$0))}:{$:0,$0:bs.Apply(e5.f.$0,e5.p.$0)}:e5.p.$==0?{$:0,$0:bs.Apply(bs.Const(e5.f.$0),e5.p.$0)}:{$:1,$0:e5.f.$0(e5.p.$0)},c2);}))));_9.main=(c3=(c4=(c5=(c6=(c7=(c8=(c9=(c_=(c$=(da=I.op_Dereference((bc.Curried3(bx.Element))("h3")),I.bindWrap(function(e5){var e6;e6={$:1,$0:e5("color:@{name}; background:red; click=@{AppFramework.Hello}")};return T.New(r.op_BarGreaterGreater(da.r,function(e7){return S.New(e7,e6);}));},I.extractAtsD())),I.bindWrap(function(e5){var e6;e6={$:1,$0:[e5("MAIN:")]};return T.New(r.op_BarGreaterGreater(c$.r,function(e7){return S.New(e7.f.$==0?e7.p.$==1?{$:0,$0:bs.Apply(e7.f.$0,bs.Const(e7.p.$0))}:{$:0,$0:bs.Apply(e7.f.$0,e7.p.$0)}:e7.p.$==0?{$:0,$0:bs.Apply(bs.Const(e7.f.$0),e7.p.$0)}:{$:1,$0:e7.f.$0(e7.p.$0)},e6);}));},I.extractDocD())),I.bindWrap(function(e5){return I.unwrapBindWrap(function(e6){return S.New(e6.f,U.addDoc(U.textDoc(e5.f.$==0?e5.p.$==1?{$:0,$0:bs.Apply(e5.f.$0,bs.Const(e5.p.$0))}:{$:0,$0:bs.Apply(e5.f.$0,e5.p.$0)}:e5.p.$==0?{$:0,$0:bs.Apply(bs.Const(e5.f.$0),e5.p.$0)}:{$:1,$0:e5.f.$0(e5.p.$0)}),e6.p));},c_);},_7.main1().r)),I.bindWrap(function(e5){return I.unwrapBindWrap(function(e6){return S.New(e6.f,U.addDoc(U.textDoc(e5.f.$==0?e5.p.$==1?{$:0,$0:bs.Apply(e5.f.$0,bs.Const(e5.p.$0))}:{$:0,$0:bs.Apply(e5.f.$0,e5.p.$0)}:e5.p.$==0?{$:0,$0:bs.Apply(bs.Const(e5.f.$0),e5.p.$0)}:{$:1,$0:e5.f.$0(e5.p.$0)}),e6.p));},c9);},_7.main1().r)),I.bindWrap(function(e5){return I.unwrapBindWrap(function(e6){return S.New(e6.f,U.addDoc(e5(":"),e6.p));},c8);},I.extractDocD())),I.bindWrap(function(e5){return I.unwrapBindWrap(function(e6){return S.New(e6.f,U.addDoc(I.makeAViewDoc(function(){var e7;e7=e5.f.$==0?e5.p.$==1?{$:0,$0:bs.Apply(e5.f.$0,bs.Const(e5.p.$0))}:{$:0,$0:bs.Apply(e5.f.$0,e5.p.$0)}:e5.p.$==0?{$:0,$0:bs.Apply(bs.Const(e5.f.$0),e5.p.$0)}:{$:1,$0:e5.f.$0(e5.p.$0)};return e7.$==0?bx.BindView(a.id,e7.$0):e7.$0;}),e6.p));},c7);},_7.sayHello().r)),I.bindWrap(function(e5){return I.unwrapBindWrap(function(e6){return S.New(e6.f,U.addDoc(e5(":"),e6.p));},c6);},I.extractDocD())),I.bindWrap(function(e5){return I.unwrapBindWrap(function(e6){return S.New(e6.f,U.addDoc(e5(" Ms >> "),e6.p));},c5);},I.extractDocD())),I.bindWrap(function(e5){return I.unwrapBindWrap(function(e6){return S.New(e6.f,U.addDoc(I.makeAViewDoc(function(){var e7;e7=e5.f.$==0?e5.p.$==1?{$:0,$0:bs.Apply(e5.f.$0,bs.Const(e5.p.$0))}:{$:0,$0:bs.Apply(e5.f.$0,e5.p.$0)}:e5.p.$==0?{$:0,$0:bs.Apply(bs.Const(e5.f.$0),e5.p.$0)}:{$:1,$0:e5.f.$0(e5.p.$0)};return e7.$==0?bx.BindView(a.id,e7.$0):e7.$0;}),e6.p));},c4);},_7.sayHello().r)),I.bindWrap(function(e5){return I.unwrapBindWrap(function(e6){return S.New(e6.f,U.addDoc(e5(" <<"),e6.p));},c3);},I.extractDocD()));_9.main2=I.makeAViewDoc(function(){return bx.Element("h4",[bz.Dynamic("style",bs.Map(function(e5){return"color:"+e5;},_7.name().get_View()))],[bx.TextNode("MAIN2:"),bx.TextView(_7.name().get_View())]);});_9.appFwk=(db=(dc=I.op_Dereference((bc.Curried3(bx.Element))("div")),I.bindWrap(function(e5){var e6;e6={$:1,$0:e5("color:@{name}")};return T.New(r.op_BarGreaterGreater(dc.r,function(e7){return S.New(e7,e6);}));},I.extractAtsD())),I.bindWrap(function(e5){var e6;e6={$:1,$0:[e5("@{AppFramework.AppFwkClient}")]};return T.New(r.op_BarGreaterGreater(db.r,function(e7){return S.New(e7.f.$==0?e7.p.$==1?{$:0,$0:bs.Apply(e7.f.$0,bs.Const(e7.p.$0))}:{$:0,$0:bs.Apply(e7.f.$0,e7.p.$0)}:e7.p.$==0?{$:0,$0:bs.Apply(bs.Const(e7.f.$0),e7.p.$0)}:{$:1,$0:e7.f.$0(e7.p.$0)},e6);}));},I.extractDocD()));_9.split=(dd=(de=I.op_Dereference(bc.Curried(_2.variableSplitter,2,[false,0,50,100])),I.bindWrap(function(e5){var e6;e6={$:1,$0:I.makeAViewDoc(function(){var e7;e7=e5.f.$==0?e5.p.$==1?{$:0,$0:bs.Apply(e5.f.$0,bs.Const(e5.p.$0))}:{$:0,$0:bs.Apply(e5.f.$0,e5.p.$0)}:e5.p.$==0?{$:0,$0:bs.Apply(bs.Const(e5.f.$0),e5.p.$0)}:{$:1,$0:e5.f.$0(e5.p.$0)};return e7.$==0?bx.BindView(a.id,e7.$0):e7.$0;})};return T.New(r.op_BarGreaterGreater(de.r,function(e7){return S.New(e7,e6);}));},_7.appFwk().r)),I.bindWrap(function(e5){var e6;e6={$:1,$0:I.makeAViewDoc(function(){var e7;e7=e5.f.$==0?e5.p.$==1?{$:0,$0:bs.Apply(e5.f.$0,bs.Const(e5.p.$0))}:{$:0,$0:bs.Apply(e5.f.$0,e5.p.$0)}:e5.p.$==0?{$:0,$0:bs.Apply(bs.Const(e5.f.$0),e5.p.$0)}:{$:1,$0:e5.f.$0(e5.p.$0)};return e7.$==0?bx.BindView(a.id,e7.$0):e7.$0;})};return T.New(r.op_BarGreaterGreater(dd.r,function(e7){return S.New(e7.f.$==0?e7.p.$==1?{$:0,$0:bs.Apply(e7.f.$0,bs.Const(e7.p.$0))}:{$:0,$0:bs.Apply(e7.f.$0,e7.p.$0)}:e7.p.$==0?{$:0,$0:bs.Apply(bs.Const(e7.f.$0),e7.p.$0)}:{$:1,$0:e7.f.$0(e7.p.$0)},e6);}));},_7.main().r));_9.split2=(df=(dg=I.op_Dereference(bc.Curried(_2.variableSplitter,2,[false,0,50,100])),I.bindWrap(function(e5){var e6;e6={$:1,$0:I.makeAViewDoc(function(){var e7;e7=e5.f.$==0?e5.p.$==1?{$:0,$0:bs.Apply(e5.f.$0,bs.Const(e5.p.$0))}:{$:0,$0:bs.Apply(e5.f.$0,e5.p.$0)}:e5.p.$==0?{$:0,$0:bs.Apply(bs.Const(e5.f.$0),e5.p.$0)}:{$:1,$0:e5.f.$0(e5.p.$0)};return e7.$==0?bx.BindView(a.id,e7.$0):e7.$0;})};return T.New(r.op_BarGreaterGreater(dg.r,function(e7){return S.New(e7,e6);}));},_7.appFwk().r)),(dh={$:1,$0:_7.main2()},T.New(r.op_BarGreaterGreater(df.r,function(e5){return S.New(e5.f.$==0?e5.p.$==1?{$:0,$0:bs.Apply(e5.f.$0,bs.Const(e5.p.$0))}:{$:0,$0:bs.Apply(e5.f.$0,e5.p.$0)}:e5.p.$==0?{$:0,$0:bs.Apply(bs.Const(e5.f.$0),e5.p.$0)}:{$:1,$0:e5.f.$0(e5.p.$0)},dh);}))));_9.nodeRefToDocD=(di=p.depend(),di.Delay(function(){return di.Bind(W.getDocFromTextTypesD(),function(e5){function e6(e7){var e8;return(e7.$==1?(e8=e7.$0.$0,false):e7.$==2?(e8=e7.$0.$0,false):e7.$==3?(e8=e7.$0.$0,false):true)?bg.map(_7.textValToTextType,e7.$0):bg.ofArray([_7.itemRefToTextType(e8)]);}return di.Return(function(e7){return e5(e6(e7));});});}));_9.varRefToVarD=(dj=p.depend(),dj.Delay(function(){return dj.Bind(_7.currentPlugInNameD(),function(e5){return dj.Return(function(e6){var e7,e8,e9,e_;e7=_7.itemRefToString(e6.$0);e8=(e9=(e_=(I.splitName(e5))(e7),I.tryGetVar(e_[0],e_[1])),e9==null?null:{$:1,$0:e9.$0.varVar});return e8==null?new bw.New(bs.Const((function(e$){return function(fa){return e$("Could not find var "+bk.toSafe(fa));};}(a.id))(e7)),a.ignore):e8.$0;});});}));_9.getParamD=(dk=p.depend(),dk.Delay(function(){return dk.Bind(_7.currentPlugInNameD(),function(e5){return dk.Bind(W.getTextValFromSeqD(),function(e6){return dk.Return(function(e7){var e8,e9,e_,e$,fa,fb,fc,fd,fe,ff,fg,fh,fi,fj,fk,fl,fm,fn,fo,fp,fq,fr,fs,ft;function fu(fC){return fC.docDoc;}function fv(){return(function(fC){return function(fD){return fC("missing ref Doc "+_.p(fD));};}(a.id))(e_);}function fw(fC){return fC.varVar.get_View();}function fx(){return bs.Const((function(fC){return function(fD){return fC("missing ref Var "+_.p(fD));};}(a.id))(fd));}function fy(fC){return fC.viwView;}function fz(){return bs.Const((function(fC){return function(fD){return fC("missing ref View "+_.p(fD));};}(a.id))(fj));}function fA(fC){return fC.actFunction;}function fB(){return(function(fC){return function(fD){return fC("missing ref Action "+_.p(fD));};}(a.id))(fp);}e8=(e9=I.splitName(e5),function(fC){return e9(_7.itemRefToString(fC));});return e7.$==1?(e_=e7.$0.$0,bs.Map((e$=(fa=function(fC){var fD;fD=fu(fC);return fD;},function(fC){return fC==null?null:{$:1,$0:fa(fC.$0)};}),(fb=function(fC){return fC==null?fv():fC.$0;},function(fC){return fb(e$(fC));})),(fc=e8(e_),I.tryGetDocW(fc[0],fc[1])))):e7.$==2?(fd=e7.$0.$0,bs.Bind((fe=(ff=(fg=function(fC){return bs.Map(a.id,fC);},function(fC){return fg(fw(fC));}),function(fC){return fC==null?null:{$:1,$0:ff(fC.$0)};}),(fh=function(fC){return fC==null?fx():fC.$0;},function(fC){return fh(fe(fC));})),(fi=e8(fd),I.tryGetVarW(fi[0],fi[1])))):e7.$==3?(fj=e7.$0.$0,bs.Bind((fk=(fl=(fm=function(fC){return bs.Map(a.id,fC);},function(fC){return fm(fy(fC));}),function(fC){return fC==null?null:{$:1,$0:fl(fC.$0)};}),(fn=function(fC){return fC==null?fz():fC.$0;},function(fC){return fn(fk(fC));})),(fo=e8(fj),I.tryGetViwW(fo[0],fo[1])))):e7.$==4?(fp=e7.$0.$0,bs.Map((fq=(fr=function(fC){var fD;fD=fA(fC);return fD;},function(fC){return fC==null?null:{$:1,$0:fr(fC.$0)};}),(fs=function(fC){return fC==null?fB():fC.$0;},function(fC){return fs(fq(fC));})),(ft=e8(fp),I.tryGetActW(ft[0],ft[1])))):bs.Map(a.id,U.toView(e6(bg.map(_7.textValToTextType,e7.$0))));});});});}));_9.getParam2D=(dl=p.depend(),dl.Delay(function(){return dl.Bind(_7.currentPlugInNameD(),function(e5){return dl.Bind(W.getTextValFromSeqD(),function(){return dl.Return(function(e6){var e7,e8,e9,e_;e7=(e8=_7.itemRefToAbsolute(e5.get_Id()),(e9=function(e$){return function(fa){return e$("@{"+bk.toSafe(fa)+"}");};}(a.id),function(e$){return e9(e8(e$));}));return(e6.$==3?(e_=e6.$0.$0,false):e6.$==1?(e_=e6.$0.$0,false):e6.$==2?(e_=e6.$0.$0,false):e6.$==4?(e_=e6.$0.$0,false):true)?bi.concat("",bj.map(function(e$){var fa;return(e$.$==1?(fa=e$.$0.$0,false):e$.$==3?(fa=e$.$0.$0,false):e$.$==4?(fa=e$.$0.$0,false):e$.$==2?(fa=e$.$0.$0,false):true)?e$.$0:e7(fa);},e6.$0)):e7(e_);});});});}));_9.getParamTextD=(dm=p.depend(),dm.Delay(function(){return dm.Bind(_7.currentPlugInNameD(),function(e5){return dm.Bind(W.getTextValFromSeqD(),function(e6){return dm.Return(function(e7){return function(e8){var e9,e_,e$,fa,fb,fc,fd,fe,ff,fg;e9=(e_=I.splitName(e5),function(fh){return e_(_7.itemRefToString(fh));});return e7.$==1?(e$=(fa=e9(e7.$0.$0),I.tryGetDoc(fa[0],fa[1])),e$==null?null:e8(e$.$0.docDoc)):e7.$==2?(fb=(fc=e9(e7.$0.$0),I.tryGetVar(fc[0],fc[1])),fb==null?null:bs.Get(function(fh){return e8(a.id(fh));},fb.$0.varVar.get_View())):e7.$==3?(fd=(fe=e9(e7.$0.$0),I.tryGetViw(fe[0],fe[1])),fd==null?null:bs.Get(function(fh){return e8(a.id(fh));},fd.$0.viwView)):e7.$==4?(ff=(fg=e9(e7.$0.$0),I.tryGetAct(fg[0],fg[1])),ff==null?null:e8(ff.$0.actFunction)):bs.Get(function(fh){return e8(a.id(fh));},U.toView(e6(bg.map(_7.textValToTextType,e7.$0))));};});});});}));_9.initVal="-<InitValue>-";_9.defVarM0=(dn=(_do=new bT.New$5(),[[ey,function(e5){return function(e6){return eA(e5,e6);};}],function(){_do.Clear();}]),(dp=dn[0][1],[function(e5){return(dp(e5))(function(e6){return _7.defVar(e6[0],e6[1],e6[2]);});},dn[1]]))[0];_9.defDocFM=(dq=(dr=new bT.New$5(),[[eB,function(e5){return function(e6){return eD(e5,e6);};}],function(){dr.Clear();}]),(ds=dq[0][1],[function(e5){return(ds(e5))(function(e6){return _7.defDocF(e6[0],e6[1],e6[2],e6[3]);});},dq[1]]))[0];_9.defActionM=(dt=(du=new bT.New$5(),[[eE,function(e5){return function(e6){return eG(e5,e6);};}],function(){du.Clear();}]),(dv=dt[0][1],[function(e5){return(dv(e5))(function(e6){return _7.defAction(e6[0],e6[1],e6[2],e6[3]);});},dt[1]]))[0];_9.defButtonM=(dw=(dx=new bT.New$5(),[[eH,function(e5){return function(e6){return eJ(e5,e6);};}],function(){dx.Clear();}]),(dy=dw[0][1],[function(e5){return(dy(e5))(function(e6){return _7.defButton(e6[0],e6[1],e6[2],e6[3],e6[4]);});},dw[1]]))[0];_9.defInputM=(dz=(dA=new bT.New$5(),[[eK,function(e5){return function(e6){return eM(e5,e6);};}],function(){dA.Clear();}]),(dB=dz[0][1],[function(e5){return(dB(e5))(function(e6){return _7.defInput(e6[0],e6[1],e6[2],e6[3]);});},dz[1]]))[0];_9.defTextAreaM=(dC=(dD=new bT.New$5(),[[eN,function(e5){return function(e6){return eP(e5,e6);};}],function(){dD.Clear();}]),(dE=dC[0][1],[function(e5){return(dE(e5))(function(e6){return _7.defTextArea(e6[0],e6[1],e6[2],e6[3]);});},dC[1]]))[0];_9.defElementM=(dF=(dG=new bT.New$5(),[[eQ,function(e5){return function(e6){return eS(e5,e6);};}],function(){dG.Clear();}]),(dH=dF[0][1],[function(e5){return(dH(e5))(function(e6){return _7.defElement(e6[0],e6[1],e6[2],e6[3],e6[4]);});},dF[1]]))[0];_9.defConcatM=(dI=(dJ=new bT.New$5(),[[eT,function(e5){return function(e6){return eV(e5,e6);};}],function(){dJ.Clear();}]),(dK=dI[0][1],[function(e5){return(dK(e5))(function(e6){return _7.defConcat(e6[0],e6[1],e6[2]);});},dI[1]]))[0];_9.defViewM=(dL=(dM=new bT.New$5(),[[eW,function(e5){return function(e6){return eY(e5,e6);};}],function(){dM.Clear();}]),(dN=dL[0][1],[function(e5){return(dN(e5))(function(e6){return _7.defView(e6[0],e6[1],e6[2]);});},dL[1]]))[0];_9.defViewJSM=(dO=(dP=new bT.New$5(),[[eZ,function(e5){return function(e6){return e1(e5,e6);};}],function(){dP.Clear();}]),(dQ=dO[0][1],[function(e5){return(dQ(e5))(function(e6){return _7.defViewJS(e6[0],e6[1],e6[2]);});},dO[1]]))[0];_9.defSplitterM=(dR=(dS=new bT.New$5(),[[e2,function(e5){return function(e6){return e4(e5,e6);};}],function(){dS.Clear();}]),(dT=dR[0][1],[function(e5){return(dT(e5))(function(e6){return _7.defSplitter(e6[0],e6[1],e6[2],e6[3],e6[4],e6[5]);});},dR[1]]))[0];};_.p=function(bZ){return bZ.$==1?"FullRef ("+bk.prettyPrint(bZ.$0)+", "+bk.prettyPrint(bZ.$1)+")":"LocalRef "+bk.prettyPrint(bZ.$0);};$.wcompsplitterver=function(bZ){bE.LoadLocalTemplates("appframework");return bZ?bE.NamedTemplate("appframework",{$:1,$0:"wcompsplitterver"},bZ):void 0;};$.wcompsplitterhor=function(bZ){bE.LoadLocalTemplates("appframework");return bZ?bE.NamedTemplate("appframework",{$:1,$0:"wcompsplitterhor"},bZ):void 0;};$.appframework=function(bZ){bE.LoadLocalTemplates("appframework");return bZ?bE.NamedTemplate("appframework",{$:1,$0:"appframework"},bZ):void 0;};_.p$2=function(bZ){return bZ.$==5?"FunDoc5 (<fun>, "+bk.prettyPrint(bZ.$1)+", "+bk.prettyPrint(bZ.$2)+", "+bk.prettyPrint(bZ.$3)+", "+bk.prettyPrint(bZ.$4)+", "+bk.prettyPrint(bZ.$5)+")":bZ.$==4?"FunDoc4 (<fun>, "+bk.prettyPrint(bZ.$1)+", "+bk.prettyPrint(bZ.$2)+", "+bk.prettyPrint(bZ.$3)+", "+bk.prettyPrint(bZ.$4)+")":bZ.$==3?"FunDoc3 (<fun>, "+bk.prettyPrint(bZ.$1)+", "+bk.prettyPrint(bZ.$2)+", "+bk.prettyPrint(bZ.$3)+")":bZ.$==2?"FunDoc2 (<fun>, "+bk.prettyPrint(bZ.$1)+", "+bk.prettyPrint(bZ.$2)+")":bZ.$==1?"FunDoc1 (<fun>, "+bk.prettyPrint(bZ.$1)+")":"LazyDoc "+bk.prettyPrint(bZ.$0);};ba.p=function(bZ){return"{"+("docName = "+_.p$1(bZ.docName))+"; "+("docDoc = "+_.p$2(bZ.docDoc))+"}";};_.p$1=function(bZ){return"PlgElemName "+bk.prettyPrint(bZ.$0);};$.tile=function(bZ){bE.LoadLocalTemplates("appframework");return bZ?bE.NamedTemplate("appframework",{$:1,$0:"tile"},bZ):void 0;};$.actiondisabled=function(bZ){bE.LoadLocalTemplates("appframework");return bZ?bE.NamedTemplate("appframework",{$:1,$0:"actiondisabled"},bZ):void 0;};$.action=function(bZ){bE.LoadLocalTemplates("appframework");return bZ?bE.NamedTemplate("appframework",{$:1,$0:"action"},bZ):void 0;};$.namevalue=function(bZ){bE.LoadLocalTemplates("appframework");return bZ?bE.NamedTemplate("appframework",{$:1,$0:"namevalue"},bZ):void 0;};$.namevalueinput=function(bZ){bE.LoadLocalTemplates("appframework");return bZ?bE.NamedTemplate("appframework",{$:1,$0:"namevalueinput"},bZ):void 0;};_.p$26=function(bZ){return bZ.$==4?"RPlg":bZ.$==3?"RAct":bZ.$==2?"RViw":bZ.$==1?"RVar":"RDoc";};_.p$3=function(bZ){return bZ.$==6?"EnPlgRef "+("("+bk.prettyPrint(bZ.$0[0])+", "+_.p$26(bZ.$0[1])+")"):bZ.$==5?"EnPlgDef "+_.p$25(bZ.$0):bZ.$==4?"EnVJSDef "+_.p$24(bZ.$0):bZ.$==3?"EnViwDef "+_.p$23(bZ.$0):bZ.$==2?"EnVarDef "+_.p$22(bZ.$0):bZ.$==1?"EnActDef "+_.p$21(bZ.$0):"EnDocDef "+_.p$4(bZ.$0);};_.p$25=function(bZ){return"PlgDef "+bk.prettyPrint(bZ.$0);};_.p$24=function(bZ){return"VJSDef "+bk.printList(function(b0){return _.p$17(b0);},bZ.$0);};_.p$23=function(bZ){return"ViwDef "+bk.printList(function(b0){return _.p$17(b0);},bZ.$0);};_.p$22=function(bZ){return"VarDef "+bk.prettyPrint(bZ.$0);};_.p$21=function(bZ){return"ActDef ("+_.p$9(bZ.$0)+", "+bk.printList(function(b0){return _.p$17(b0);},bZ.$1)+")";};_.p$4=function(bZ){return bZ.$==6?"DcElement "+_.p$20(bZ.$0):bZ.$==5?"DcConcat "+_.p$18(bZ.$0):bZ.$==4?"DcDocF "+_.p$16(bZ.$0):bZ.$==3?"DcTextArea "+_.p$15(bZ.$0):bZ.$==2?"DcInput "+_.p$14(bZ.$0):bZ.$==1?"DcButton "+_.p$8(bZ.$0):"DcSplitter "+_.p$5(bZ.$0);};_.p$20=function(bZ){return"ElementDef ("+bk.prettyPrint(bZ.$0)+", "+_.p$17(bZ.$1)+", "+bk.printList(function(b0){return _.p$19(b0);},bZ.$2)+")";};_.p$18=function(bZ){return"ConcatDef "+bk.printList(function(b0){return _.p$19(b0);},bZ.$0);};_.p$19=function(bZ){return bZ.$==3?"NdViwRef "+_.p$13(bZ.$0):bZ.$==2?"NdVarRef "+_.p$12(bZ.$0):bZ.$==1?"NdDocRef "+_.p$7(bZ.$0):"NdTextValL "+bk.printList(function(b0){return _.p$11(b0);},bZ.$0);};_.p$16=function(bZ){return"DocFDef ("+_.p$7(bZ.$0)+", "+bk.printList(function(b0){return _.p$17(b0);},bZ.$1)+")";};_.p$17=function(bZ){return bZ.$==4?"PrActRef "+_.p$9(bZ.$0):bZ.$==3?"PrViwRef "+_.p$13(bZ.$0):bZ.$==2?"PrVarRef "+_.p$12(bZ.$0):bZ.$==1?"PrDocRef "+_.p$7(bZ.$0):"PrTextValL "+bk.printList(function(b0){return _.p$11(b0);},bZ.$0);};_.p$15=function(bZ){return"TextAreaDef ("+_.p$12(bZ.$0)+", "+bk.printArray(function(b0){return _.p$10(b0);},bZ.$1)+")";};_.p$14=function(bZ){return"InputDef ("+_.p$12(bZ.$0)+", "+bk.printArray(function(b0){return _.p$10(b0);},bZ.$1)+")";};_.p$8=function(bZ){return"ButtonDef ("+_.p$9(bZ.$0)+", "+bk.printArray(function(b0){return _.p$10(b0);},bZ.$1)+", "+bk.printList(function(b0){return _.p$11(b0);},bZ.$2)+")";};_.p$10=function(bZ){return bZ.$==2?"AtAct ("+bk.prettyPrint(bZ.$0)+", "+_.p$9(bZ.$1)+")":bZ.$==1?"AtAttr ("+bk.prettyPrint(bZ.$0)+", "+bk.printList(function(b0){return _.p$11(b0);},bZ.$1)+")":"AtStyle ("+bk.prettyPrint(bZ.$0)+", "+bk.printList(function(b0){return _.p$11(b0);},bZ.$1)+")";};_.p$11=function(bZ){return bZ.$==4?"TvDocRef "+_.p$7(bZ.$0):bZ.$==3?"TvActRef "+_.p$9(bZ.$0):bZ.$==2?"TvViwRef "+_.p$13(bZ.$0):bZ.$==1?"TvVarRef "+_.p$12(bZ.$0):"TvConst "+bk.prettyPrint(bZ.$0);};_.p$13=function(bZ){return"ViwRef "+_.p(bZ.$0);};_.p$12=function(bZ){return"VarRef "+_.p(bZ.$0);};_.p$9=function(bZ){return"ActRef "+_.p(bZ.$0);};_.p$5=function(bZ){return"SplitterDef ("+bk.prettyPrint(bZ.$0)+", "+_.p$6(bZ.$1)+", "+_.p$7(bZ.$2)+", "+_.p$7(bZ.$3)+")";};_.p$7=function(bZ){return"DocRef "+_.p(bZ.$0);};_.p$6=function(bZ){return bZ.$==1?"Variable ("+bk.prettyPrint(bZ.$0)+", "+bk.prettyPrint(bZ.$1)+", "+bk.prettyPrint(bZ.$2)+")":"Fixed ("+bk.prettyPrint(bZ.$0)+", "+bk.prettyPrint(bZ.$1)+")";};_.p$27=function(bZ){return bZ.$==1?"UnQuoted "+bk.prettyPrint(bZ.$0):"Quoted "+bk.prettyPrint(bZ.$0);};ba.p$1=function(bZ){return"{"+("actName = "+_.p$1(bZ.actName))+"; "+("actFunction = "+_.p$28(bZ.actFunction))+"; "+("actEnabled = "+_.p$29(bZ.actEnabled))+"}";};_.p$29=function(bZ){return"View <fun>";};_.p$28=function(bZ){return bZ.$==2?"FunAct2 (<fun>, "+bk.prettyPrint(bZ.$1)+", "+bk.prettyPrint(bZ.$2)+")":bZ.$==1?"FunAct1 (<fun>, "+bk.prettyPrint(bZ.$1)+")":"FunAct0 <fun>";};$.fixedsplitterhor=function(bZ){bE.LoadLocalTemplates("appframework");return bZ?bE.NamedTemplate("appframework",{$:1,$0:"fixedsplitterhor"},bZ):void 0;};$.fixedsplitterver=function(bZ){bE.LoadLocalTemplates("appframework");return bZ?bE.NamedTemplate("appframework",{$:1,$0:"fixedsplitterver"},bZ):void 0;};$.appfwkclient=function(bZ){$.fixedsplitterhor();$.fixedsplitterver();bE.LoadLocalTemplates("appframework");return bZ?bE.NamedTemplate("appframework",{$:1,$0:"appfwkclient"},bZ):void 0;};}());
