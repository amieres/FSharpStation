(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj;a=self;b=a.FsRoot=a.FsRoot||{};c=b.Library=b.Library||{};d=c.String=c.String||{};e=c.ParseO=c.ParseO||{};f=b.LibraryJS=b.LibraryJS||{};g=f.REGEX=f.REGEX||{};h=f.Hoverable=f.Hoverable||{};i=h.Hoverable=h.Hoverable||{};j=f.ResizeObserver=f.ResizeObserver||{};k=a.WebSharper;l=k&&k.Obj;m=f.WebComponent=f.WebComponent||{};n=m.WcTabStrip=m.WcTabStrip||{};o=n.WcTabStripT=n.WcTabStripT||{};p=m.WcSplitter=m.WcSplitter||{};q=p.WcSplitterT=p.WcSplitterT||{};r=f.AppFramework=f.AppFramework||{};s=r.PlugInVar=r.PlugInVar||{};t=r.PlugInView=r.PlugInView||{};u=r.PlugInDoc=r.PlugInDoc||{};v=r.PlugInAction=r.PlugInAction||{};w=r.PlugInQuery=r.PlugInQuery||{};x=r.PlugIn=r.PlugIn||{};y=f.LayoutEngine=f.LayoutEngine||{};z=f.LayoutEngineModule=f.LayoutEngineModule||{};A=z.Measures=z.Measures||{};B=z.Layout=z.Layout||{};C=a.StartupCode$LayoutEngine$LayoutEngine=a.StartupCode$LayoutEngine$LayoutEngine||{};D=a.LayoutEngine_Templates=a.LayoutEngine_Templates||{};E=a.GeneratedPrintf=a.GeneratedPrintf||{};F=a.LayoutEngine_GeneratedPrintf=a.LayoutEngine_GeneratedPrintf||{};G=k&&k.Strings;H=k&&k.Slice;I=k&&k.Seq;J=k&&k.Unchecked;K=k&&k.CancellationTokenSource;L=k&&k.Concurrency;M=k&&k.Utils;N=a.console;O=k&&k.Arrays;P=a.IntelliFactory;Q=P&&P.Runtime;R=k&&k.UI;S=R&&R.DomUtility;T=R&&R.Doc;U=k&&k.List;V=R&&R.View;W=R&&R.AttrModule;X=R&&R.AttrProxy;Y=R&&R.Var$1;Z=a.Node;_0=k&&k.Operators;_1=R&&R.Client;_2=_1&&_1.Templates;_3=a.Reflect;_4=a.Object;_5=R&&R.FromView;_6=R&&R.Templating;_7=_6&&_6.Runtime;_8=_7&&_7.Server;_9=_8&&_8.ProviderBuilder;_=_8&&_8.Handler;$=_8&&_8.TemplateInstance;ba=a.Math;bb=a.System;bc=bb&&bb.Guid;bd=k&&k.Lazy;be=k&&k.DateUtil;bf=k&&k.Numeric;bg=R&&R.ListModel;bh=k&&k.Collections;bi=bh&&bh.Dictionary;bj=a.jQuery;d.EndsWith=function(bk,bl){return G.EndsWith(bl,bk)?{$:1,$0:H.string(bl,{$:1,$0:0},{$:1,$0:bl.length-bk.length-1})}:null;};d.StartsWith=function(bk,bl){return G.StartsWith(bl,bk)?{$:1,$0:H.string(bl,{$:1,$0:bk.length},null)}:null;};d.skipLastLine=function(){C.$cctor();return C.skipLastLine;};d.indentStr=function(bk){function bl(bn){return d.indent(bk,bn);}function bm(bn){return G.concat("\n",bn);}return function(bn){return bm(bl(bn));};};d.unindentStr=function(){C.$cctor();return C.unindentStr;};d.indent=function(bk,bl){var bm,bn;bm=G.SplitChars(bl,["\n"],0);return I.map((bn=G.replicate(bk," "),function(bo){return bn+bo;}),bm);};d.unindent=function(bk){var bl,bm,bn,bo;bl=G.SplitChars(bk,["\n"],0);bm=(bn=I.tryFindIndex(function(bp){return" "!==bp;},(bo=I.tryFind(function(bp){return G.Trim(bp)!=="";},bl),bo==null?"":bo.$0)),bn==null?0:bn.$0);return I.filter(function(bp){return!G.StartsWith(bp,"# 1 ");},I.map(function(bp){return bp.length<=bm?"":bp.substring(bm);},bl));};d.skipFirstLine=function(bk){var bl;bl=bk.indexOf("\n");return bl<0?"":H.string(bk,{$:1,$0:bl+1},null);};d.append=function(bk,bl){return bk+bl;};d.trim=function(bk){return G.Trim(bk);};d.contains=function(bk,bl){return bl.indexOf(bk)!=-1;};d.delimitedO=function(bk,bl,bm){var bn,bo,bp,bq,br;bn=d.splitInTwoO(bk,bm);return bn==null?null:(bo=bn.$0,(bp=bo[0],(bq=d.splitInTwoO(bl,bo[1]),bq==null?null:{$:1,$0:(br=bq.$0,[bp,br[0],br[1]])})));};d.splitInTwoO=function(bk,bl){var bm;bm=bl.indexOf(bk);return bm===-1?null:{$:1,$0:[c["String.Left"](bl,bm),bl.substring(bm+bk.length)]};};d.splitByChar=function(bk,bl){return G.SplitChars(bl,[bk],0);};e.Guid=function(){C.$cctor();return C["|Guid|_|"];};e.Double=function(){C.$cctor();return C["|Double|_|"];};e.Single=function(){C.$cctor();return C["|Single|_|"];};e.Int=function(){C.$cctor();return C["|Int|_|"];};e.Date=function(){C.$cctor();return C["|Date|_|"];};e.parseGuidO=function(){C.$cctor();return C.parseGuidO;};e.parseDoubleO=function(){C.$cctor();return C.parseDoubleO;};e.parseSingleO=function(){C.$cctor();return C.parseSingleO;};e.parseIntO=function(){C.$cctor();return C.parseIntO;};e.parseDateO=function(){C.$cctor();return C.parseDateO;};e.tryParseWith=function(bk){function bl(bm,bn){return bm?{$:1,$0:bn}:null;}return function(bm){return bl.apply(null,bk(bm));};};c["String.Right"]=function(bk,bl){var bm,bn;return c["String.Substring2"](bk,(bm=0,(bn=bk.length-bl,J.Compare(bm,bn)===1?bm:bn)),bk.length);};c["String.Left"]=function(bk,bl){return c["String.Substring2"](bk,0,bl);};c["String.Substring2"]=function(bk,bl,bm){var bn,bo;while(true){if(bm<=0)return"";else if(bl<0){bn=bl;bl=0;bm=bm+bn;}else return bl>=bk.length?"":G.Substring(bk,bl,(bo=bk.length-bl,J.Compare(bm,bo)===-1?bm:bo));}};c.delayed=function(bk,bl){var bm;bm=[null];return function(bn){var bo,bp;bo=bm[0];bo==null?void 0:bo.$0.Cancel$1();bm[0]={$:1,$0:new K.New()};L.Start((bp=null,L.Delay(function(){return L.Bind(L.Sleep(bk),function(){bl(bn);return L.Zero();});})),{$:1,$0:bm[0].$0});};};c.print=function(bk){if(typeof bk=="string")((function(bl){return function(bm){return bl(M.toSafe(bm));};}(function(bl){N.log(bl);}))(bk));else((function(bl){return function(bm){return bl(M.prettyPrint(bm));};}(function(bl){N.log(bl);}))(bk));};c.Error=function(bk){return{$:1,$0:bk};};g.Identifier=function(bk){var bl,bm,bn;return(bm=f.REGEX$1("^[$a-zA-Z_][0-9a-zA-Z_\\.\\-$]*$","",bk),bm!=null&&bm.$==1&&((bn=bm.$0,!J.Equals(bn,null)&&bn.length===1)&&(bl=O.get(bm.$0,0),true)))?{$:1,$0:bl}:null;};g.getEndWord=function(bk,bl){var bm,bn;bm=f.REGEX$1("^([a-zA-Z_]\\w*)","g",bk.substring(bl));return bm!=null&&bm.$==1?(bn=bm.$0,!J.Equals(bn,null)&&bn.length===1)?O.get(bm.$0,0):"":"";};g.getStartWord=function(bk,bl){var bm,bn;bm=f.REGEX$1("([a-zA-Z_]\\w*)$","g",G.Substring(bk,0,bl));return bm!=null&&bm.$==1?(bn=bm.$0,!J.Equals(bn,null)&&bn.length===1)?O.get(bm.$0,0):"":"";};i=h.Hoverable=Q.Class({Content:function(bk){return bk.on("mouseenter",function(){return S.AddClass(bk.elt,"hovering");}).on("mouseleave",function(){return S.RemoveClass(bk.elt,"hovering");});},Content$1:function(bk){return T.Element("div",this.get_Attributes(),bk);},get_Attributes:function(){var bk,bl;bk=this;return U.ofArray([(bl=V.Const("hovering"),W.DynamicPred("class",this.hover.get_View(),bl)),X.HandlerImpl("mouseenter",function(){return function(){return bk.hover.Set(true);};}),X.HandlerImpl("mouseleave",function(){return function(){return bk.hover.Set(false);};})]);}},null,i);i.get_Demo=function(){return i.New$1().Content(T.Element("div",[X.Create("style","flex-flow: column;")],[T.TextNode("Hover over me!")]));};i.Content$282$81=Q.Curried3(function(bk,bl,bm){return S.RemoveClass(bk.elt,"hovering");});i.get_Attributes$278$69=Q.Curried3(function(bk,bl,bm){return bk.hover.Set(false);});i.get_Attributes$277$69=Q.Curried3(function(bk,bl,bm){return bk.hover.Set(true);});i.New$1=function(){return i.New(Y.Create$1(false));};i.New=function(bk){return new i({hover:bk});};h.hoverable=function(bk){return i.New$1().Content(bk);};j.addResizeObserver=function(bk,bl){var bm,bn,bo,bp;try{bm=!(!a.ResizeObserver);}catch(bq){bm=false;}if(bm){bn=new a.ResizeObserver(bk);j.set_observers(new U.T({$:1,$0:bn,$1:j.observers()}));bn.observe(bl);}else{bo=j.dimsChanged(bl);L.Start((bp=null,L.Delay(function(){return L.While(function(){return bl.isConnected;},L.Delay(function(){return L.Bind(L.Sleep(110),function(){return bo()?(bk(),L.Zero()):L.Zero();});}));})),null);}};j.dimsChanged=function(bk){var bl;bl=[bk.getBoundingClientRect()];return function(){var bm;bm=bk.getBoundingClientRect();return J.Equals(j.domRect2Tuple(bl[0]),j.domRect2Tuple(bm))?false:(bl[0]=bm,true);};};j.domRect2Tuple=function(bk){return[bk.top,bk.left,bk.width,bk.height];};j.observers=function(){C.$cctor();return C.observers;};j.set_observers=function(bk){C.$cctor();C.observers=bk;};o=n.WcTabStripT=Q.Class({connectedCallback:function(){var bk,bl,bm,bn;function bo(){var bp,bq,br;bq=!bl.hasAttribute("bottom");br=U.ofSeq(I.delay(function(){return I.collect(function(bs){var bt;bt=bl.childNodes[bs-1];return J.Equals(bt.nodeType,Z.ELEMENT_NODE)?[[bt.hasAttribute("tabname")?bt.getAttribute("tabname"):(function(bu){return function(bv){return bu("Tab "+a.String(bv));};}(a.id))(bs),bt]]:[];},_0.range(1,bl.childNodes.length));}));while(bn.childNodes.length>0)bn.removeChild(bn.lastChild);bp=n.tabStrip(bk.selected,bq,true,br,T.Element("slot",U.T.Empty,U.T.Empty));_2.LoadLocalTemplates("");T.Run(bn,bp);}bk=this;!this.added?(bl=this,bm=bl.attachShadow({mode:"open"}),bn=self.document.createElement("div"),bm.appendChild(bn),bo(),bl.addEventListener("DOMSubtreeModified",c.delayed(50,bo)),this.added=true):void 0;}},l,o);o.Constructor=function(){var bk,bl;bk=(bl=_3.construct(self.HTMLElement,[],this.__proto__.constructor),bl);self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New.call(bk);return bk;};o.New=Q.Ctor(function(){l.New.call(this);this.added=false;this.selected=Y.Create$1(1);(function(bk){return bk("WcTabStripT initializer");}(function(bk){N.log(bk);}));},o);n.init=function(){C.$cctor();return C.init;};n.tabStrip$420$64=function(bk,bl){return function(){return function(){return bl.Set(bk+1);};};};n.tabStrip=function(bk,bl,bm,bn,bo){var bp;bp=T.Element("div",[X.Create("class",(((Q.Curried3(function(bq,br,bs){return bq("tab-strip "+M.toSafe(br)+" "+M.toSafe(bs));}))(a.id))(bl?"top":"bottom"))(bm?"horizontal":"vertical"))],U.ofSeq(I.delay(function(){return I.collect(function(bq){var br;br=bq[0];return[i.New$1().Content(T.Element("div",[W.Dynamic("class",V.Map(function(bs){return"tab"+(bs===br+1?" selected":"");},bk.get_View())),X.Create("draggable","true"),X.HandlerImpl("click",function(){return function(){return bk.Set(br+1);};})],[T.TextNode(bq[1][0])]))];},I.indexed(bn));})));return T.Element("div",[X.Create("class","tab-panel")],U.ofSeq(I.delay(function(){return I.append(bl?[bp]:[],I.delay(function(){return I.append([T.Element("div",[X.Create("class","tab-content")],[bo])],I.delay(function(){return I.append(!bl?[bp]:[],I.delay(function(){return I.append([T.Element("style",U.T.Empty,U.ofArray([T.TextNode(n.css())]))],I.delay(function(){return[T.Element("style",U.T.Empty,U.ofArray([T.TextView(V.Map(function(bq){return function(br){return bq("\r\n                                              ::slotted(*              ) { display: none }\r\n                                              ::slotted(*:nth-child("+a.String(br)+")) { display: grid }\r\n                                           ");};}(a.id),bk.get_View()))]))];}));}));}));}));})));};n.css=function(){C.$cctor();return C.css;};q=p.WcSplitterT=Q.Class({connectedCallback:function(){var bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz;function bA(bI){var bJ,bK,bL,bM;bJ=br?["padding-left","padding-right","grid-column-gap"]:["padding-top","padding-bottom","grid-row-gap"];bK=a.parseFloat("0"+a.jQuery(bI.parentElement.parentElement).css(bJ[0]));bL=a.parseFloat("0"+a.jQuery(bI.parentElement.parentElement).css(bJ[1]));bu.Set(a.parseFloat("0"+a.jQuery(bI.parentElement.parentElement).css(bJ[2])));bt[0]=bK+bL;bM=bk.getBoundingClientRect();return br?bq?[bM.width,bM.height]:[-bM.width,bM.height]:bq?[bM.height,bM.width]:[-bM.height,bM.width];}function bB(bI){return br?bI.clientX:bI.clientY;}function bC(bI){var bJ,bK;bJ=(bB(bI)-bx[0])*100/bs[0][0]+bw[0];bp.Set((bK=J.Compare(bn,bJ)===1?bn:bJ,J.Compare(bo,bK)===-1?bo:bK));}function bD(){if(bv[0]){bv[0]=false;self.removeEventListener("mousemove",bC,false);self.removeEventListener("mouseup",bD,false);}}function bE(bI){var bJ,bK;if(!bv[0]){bv[0]=true;bw[0]=bp.Get();bx[0]=bB(bI);bs[0]=(bJ=(bK=by[0],bK==null?null:{$:1,$0:bA(bK.$0)}),bJ==null?[100,500]:bJ.$0);self.addEventListener("mousemove",bC,false);self.addEventListener("mouseup",bD,false);bI.preventDefault();}}function bF(bI,bJ,bK,bL){return[(bI-bJ-bK)*bL/100,(bI-bJ-bK)*(100-bL)/100];}function bG(bI,bJ){return(((((Q.Curried(function(bK,bL,bM,bN,bO){return bK(" "+bL.toFixed(2)+"px "+bM.toFixed(2)+"px ; "+M.toSafe(bN)+" : "+bO.toFixed(2)+"px; ");},5))(a.id))(bI))(bJ))(br?"height":"width"))(bs[0][1]);}function bH(){var bI;bI=by[0];bI==null?void 0:bs[0]=bA(bI.$0);bp.Set(bp.Get());}if(!this.added){bk=this;bl=bk.attachShadow({mode:"open"});bm=self.document.createElement("div");bn=bk.hasAttribute("min")?a.parseFloat(bk.getAttribute("min")):4;bo=bk.hasAttribute("max")?a.parseFloat(bk.getAttribute("max")):96;bp=Y.Create$1(bk.hasAttribute("value")?a.parseFloat(bk.getAttribute("value")):50);bq=!bk.hasAttribute("second");br=bk.hasAttribute("vertical");bs=[[0,0]];bt=[0];bu=Y.Create$1(0);bv=[false];bw=[0];bx=[0];by=[null];bz=(((((br?p.layoutVertical():p.layoutHorizontal())(V.Map(function(bI){var bJ;bJ=bF(bs[0][0],bu.Get(),bt[0],bI);return bG.apply(null,bJ);},bp.get_View())))(function(){j.addResizeObserver(bH,bk);bH();}))(function(bI){by[0]={$:1,$0:bI};bH();}))(function(bI){bE(bI);}))(V.Map(function(bI){return function(bJ){return bI(M.prettyPrint(bJ)+"px");};}(a.id),bu.get_View()));_2.LoadLocalTemplates("");T.Run(bm,bz);bl.appendChild(bm.firstChild);this.added=true;}}},l,q);q.Constructor=function(){var bk,bl;bk=(bl=_3.construct(self.HTMLElement,[],this.__proto__.constructor),bl);self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New.call(bk);return bk;};q.New=Q.Ctor(function(){l.New.call(this);this.added=false;(function(bk){return bk("WcSplitterT initializer");}(function(bk){N.log(bk);}));},q);p.init=function(bk,bl){var bm,bn,bo;bm=new q.New();p.set_layoutHorizontal(bk);p.set_layoutVertical(bl);bn="wcomp-splitter";bo=self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New;N.log("defineWebComponent: "+bn);_4.setPrototypeOf(bo.prototype,self.HTMLElement.prototype);_4.setPrototypeOf(bo,self.HTMLElement);_4.setPrototypeOf(q.Constructor.prototype,bo.prototype);self.customElements.define(bn,q.Constructor);};p.layoutVertical=function(){C.$cctor();return C.layoutVertical;};p.set_layoutVertical=function(bk){C.$cctor();C.layoutVertical=bk;};p.layoutHorizontal=function(){C.$cctor();return C.layoutHorizontal;};p.set_layoutHorizontal=function(bk){C.$cctor();C.layoutHorizontal=bk;};s.New=function(bk,bl){return{varName:bk,varVar:bl};};t.New=function(bk,bl){return{viwName:bk,viwView:bl};};u.New=function(bk,bl){return{docName:bk,docDoc:bl};};v.New=function(bk,bl,bm){return{actName:bk,actFunction:bl,actEnabled:bm};};w.New=function(bk,bl){return{qryName:bk,qryFunction:bl};};x.New=function(bk,bl,bm,bn,bo,bp){return{plgName:bk,plgVars:bl,plgViews:bm,plgDocs:bn,plgActions:bo,plgQueries:bp};};r.addPlugIn=function(bk){r.plugIns().Append(bk);r.mainDocV().Set(r.mainDocV().Get());};r.getMainDoc=function(){C.$cctor();return C.getMainDoc;};r.qryDocs=function(){C.$cctor();return C.qryDocs;};r.actHello=function(){C.$cctor();return C.actHello;};r.tryGetWoW=function(bk,bl){var bm,bn,bo;bm=(bn=r.tryGetViw(bk,bl),bn==null?null:{$:1,$0:{$:1,$0:bn.$0.viwView}});return bm==null?(bo=r.tryGetVar(bk,bl),bo==null?null:{$:1,$0:bo.$0.varVar.get_View()}):bm.$0;};r.tryGetVoV=function(bk,bl){var bm,bn,bo;bm=(bn=r.tryGetVar(bk,bl),bn==null?null:{$:1,$0:{$:1,$0:bn.$0.varVar}});return bm==null?(bo=r.tryGetViw(bk,bl),bo==null?null:{$:1,$0:new _5.New(bo.$0.viwView,a.ignore)}):bm.$0;};r.tryGetDoc=function(bk,bl){var bm;bm=r.tryGetPlugIn(bk);return bm==null?null:O.tryFind(function(bn){return bn.docName===bl;},bm.$0.plgDocs);};r.tryGetQry=function(bk,bl){var bm;bm=r.tryGetPlugIn(bk);return bm==null?null:O.tryFind(function(bn){return bn.qryName===bl;},bm.$0.plgQueries);};r.tryGetAct=function(bk,bl){var bm;bm=r.tryGetPlugIn(bk);return bm==null?null:O.tryFind(function(bn){return bn.actName===bl;},bm.$0.plgActions);};r.tryGetViw=function(bk,bl){var bm;bm=r.tryGetPlugIn(bk);return bm==null?null:O.tryFind(function(bn){return bn.viwName===bl;},bm.$0.plgViews);};r.tryGetVar=function(bk,bl){var bm;bm=r.tryGetPlugIn(bk);return bm==null?null:O.tryFind(function(bn){return bn.varName===bl;},bm.$0.plgVars);};r.tryGetPlugIn=function(bk){return r.plugIns().TryFindByKey(bk);};r.newDocF=function(bk,bl){return u.New(bk,bl);};r.newActF=function(bk,bl){return v.New(bk,bl,V.Const(true));};r.newAct=function(bk,bl){return v.New(bk,{$:0,$0:bl},V.Const(true));};r.newQry=function(bk,bl){return w.New(bk,bl);};r.newDoc=function(bk,bl){return u.New(bk,{$:0,$0:bl});};r.newViw=function(bk,bl){return t.New(bk,bl);};r.newVar=function(bk,bl){return s.New(bk,bl);};r.vertical$792$39=function(bk){return function(bl){bk(bl.Event);};};r.vertical$791$39=a.id;r.vertical$790$39=a.id;r.vertical=function(bk,bl,bm,bn,bo){var bp,bq,br,bs;return(bp=(bq=_9.Make().WithHole({$:2,$0:"partsizes",$1:bk}).WithHole({$:7,$0:"afterrender",$1:bl}).WithHole({$:7,$0:"afterrendersp",$1:bm}),bq.WithHole(_.EventQ2(bq.k,"mousedown",function(){return bq.i;},function(bt){bn(bt.Event);}))).WithHole({$:2,$0:"gap",$1:bo}),(br=_.CompleteHoles(bp.k,bp.h,[]),(bs=new $.New(br[1],D.wcompsplitterver(br[0])),(bp.i=bs,bs)))).get_Doc();};r.horizontal$784$39=function(bk){return function(bl){bk(bl.Event);};};r.horizontal$783$39=a.id;r.horizontal$782$39=a.id;r.horizontal=function(bk,bl,bm,bn,bo){var bp,bq,br,bs;return(bp=(bq=_9.Make().WithHole({$:2,$0:"partsizes",$1:bk}).WithHole({$:7,$0:"afterrender",$1:bl}).WithHole({$:7,$0:"afterrendersp",$1:bm}),bq.WithHole(_.EventQ2(bq.k,"mousedown",function(){return bq.i;},function(bt){bn(bt.Event);}))).WithHole({$:2,$0:"gap",$1:bo}),(br=_.CompleteHoles(bp.k,bp.h,[]),(bs=new $.New(br[1],D.wcompsplitterhor(br[0])),(bp.i=bs,bs)))).get_Doc();};r.mainDoc$773$42=function(){return function(){r.mainDocV().Set("AppFramework.AppFwkClient");};};r.mainDoc=function(){var bk,bl,bm,bn,bo,bp;return(bk=(bl=r.getMainClientDoc(),(bm=(bn=r.mainDocV().get_View(),_9.Make().WithHole({$:2,$0:"maindoc",$1:bn})),bm.WithHole(_.EventQ2(bm.k,"goclient",function(){return bm.i;},function(){r.mainDocV().Set("AppFramework.AppFwkClient");}))).WithHole({$:0,$0:"mainclient",$1:bl})),(bo=_.CompleteHoles(bk.k,bk.h,[]),(bp=new $.New(bo[1],D.appframework(bo[0])),(bk.i=bp,bp)))).get_Doc();};r.getMainClientDoc=function(){var bk;return T.EmbedView((bk=r.plugIns().v,V.Map2(function(bl,bm){var bn,bo;bn=I.tryPick(function(bp){var bq;bq=I.tryFind(function(br){return bp.plgName===bl||bp.plgName+"."+br.docName===bl;},bp.plgDocs);return bq==null?null:{$:1,$0:r.getLazyDoc(bq.$0)};},bm);bo=r.AppFwkClient().f();return bn==null?bo:bn.$0;},r.mainDocV().get_View(),bk)));};r.getLazyDoc=function(bk){var bl;bl=bk.docDoc;return bl.$==0?bl.$0.f():T.Element("div",[],[T.TextNode((function(bm){return function(bn){return bm("Doc with parameters not allowed here: "+E.p(bn));};}(a.id))(bk))]);};r.AppFwkClient=function(){C.$cctor();return C.AppFwkClient;};r.renderQueries$739$39=function(bk){return function(){a.alert(bk.qryFunction(null));};};r.renderQueries=function(){function bk(bm,bn){return[bm.plgName,bn.qryName];}function bl(bm,bn){var bo,bp,bq,br;return(bo=(bp=_9.Make().WithHole({$:1,$0:"name",$1:bn.qryName}),bp.WithHole(_.EventQ2(bp.k,"select",function(){return bp.i;},function(){a.alert(bn.qryFunction(null));}))),(bq=_.CompleteHoles(bo.k,bo.h,[]),(br=new $.New(bq[1],D.tile(bq[0])),(bo.i=br,br)))).get_Doc();}return T.ConvertBy(function(bm){return bk(bm[0],bm[1]);},function(bm){return bl(bm[0],bm[1]);},V.Map(function(bm){return I.map(function(bn){return[bm,bn];},bm.plgQueries);},r.currentPlugInW()));};r.renderActions$728$51=function(bk){return function(bl){r.callFunction(bl,null,bk.actFunction);};};r.renderActions$724$51=function(bk){return function(bl){r.callFunction(bl,null,bk.actFunction);};};r.renderActions=function(){function bk(bm,bn){return[bm.plgName,bn.actName];}function bl(bm,bn){var bo,bp,bq,br;bo=(bp=bn.actFunction,bp.$==1?(bq=G.concat(", ",U.ofArray([bp.$1])),(function(bs){return function(bt){return bs("("+M.toSafe(bt)+")");};}(a.id))(bq)):bp.$==2?(br=G.concat(", ",U.ofArray([bp.$1,bp.$2])),(function(bs){return function(bt){return bs("("+M.toSafe(bt)+")");};}(a.id))(br)):"");return T.EmbedView(V.Map(function(bs){var bt,bu,bv,bw,bx,by,bz,bA;return bs?(bt=(bu=_9.Make().WithHole({$:1,$0:"name",$1:bn.actName+bo}),bu.WithHole(_.EventQ2(bu.k,"click",function(){return bu.i;},function(bB){r.callFunction(bB,null,bn.actFunction);}))),(bv=_.CompleteHoles(bt.k,bt.h,[]),(bw=new $.New(bv[1],D.action(bv[0])),(bt.i=bw,bw)))).get_Doc():(bx=(by=_9.Make().WithHole({$:1,$0:"name",$1:bn.actName}),by.WithHole(_.EventQ2(by.k,"click",function(){return by.i;},function(bB){r.callFunction(bB,null,bn.actFunction);}))),(bz=_.CompleteHoles(bx.k,bx.h,[]),(bA=new $.New(bz[1],D.actiondisabled(bz[0])),(bx.i=bA,bA)))).get_Doc();},bn.actEnabled));}return T.ConvertBy(function(bm){return bk(bm[0],bm[1]);},function(bm){return bl(bm[0],bm[1]);},V.Map(function(bm){return I.map(function(bn){return[bm,bn];},bm.plgActions);},r.currentPlugInW()));};r.callFunction=function(bk,bl,bm){if(bm.$==1)bm.$0(bk);else if(bm.$==2)(bm.$0(bk))(bl);else bm.$0();};r.renderDocs$702$39=function(bk){return function(){V.Get(function(bl){r.mainDocV().Set(bl.plgName+"."+bk.docName);},r.currentPlugInW());};};r.renderDocs=function(){function bk(bm,bn){return[bm.plgName,bn.docName];}function bl(bm,bn){var bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by;return(bo=(bp=(bq=bn.docName+(br=bn.docDoc,br.$==1?(bs=G.concat(", ",U.ofArray([br.$1])),(function(bz){return function(bA){return bz("("+M.toSafe(bA)+")");};}(a.id))(bs)):br.$==2?(bt=G.concat(", ",U.ofArray([br.$1,br.$2])),(function(bz){return function(bA){return bz("("+M.toSafe(bA)+")");};}(a.id))(bt)):br.$==3?(bu=G.concat(", ",U.ofArray([br.$1,br.$2,br.$3])),(function(bz){return function(bA){return bz("("+M.toSafe(bA)+")");};}(a.id))(bu)):br.$==4?(bv=G.concat(", ",U.ofArray([br.$1,br.$2,br.$3,br.$4])),(function(bz){return function(bA){return bz("("+M.toSafe(bA)+")");};}(a.id))(bv)):br.$==5?(bw=G.concat(", ",U.ofArray([br.$1,br.$2,br.$3,br.$4,br.$5])),(function(bz){return function(bA){return bz("("+M.toSafe(bA)+")");};}(a.id))(bw)):""),_9.Make().WithHole({$:1,$0:"name",$1:bq})),bp.WithHole(_.EventQ2(bp.k,"select",function(){return bp.i;},function(){V.Get(function(bz){r.mainDocV().Set(bz.plgName+"."+bn.docName);},r.currentPlugInW());}))),(bx=_.CompleteHoles(bo.k,bo.h,[]),(by=new $.New(bx[1],D.tile(bx[0])),(bo.i=by,by)))).get_Doc();}return T.ConvertBy(function(bm){return bk(bm[0],bm[1]);},function(bm){return bl(bm[0],bm[1]);},V.Map(function(bm){return I.map(function(bn){return[bm,bn];},bm.plgDocs);},r.currentPlugInW()));};r.renderViews=function(){function bk(bm,bn){return[bm.plgName,bn.viwName];}function bl(bm,bn){var bo,bp,bq;return(bo=_9.Make().WithHole({$:1,$0:"name",$1:bn.viwName}).WithHole({$:2,$0:"value",$1:bn.viwView}),(bp=_.CompleteHoles(bo.k,bo.h,[]),(bq=new $.New(bp[1],D.namevalue(bp[0])),(bo.i=bq,bq)))).get_Doc();}return T.ConvertBy(function(bm){return bk(bm[0],bm[1]);},function(bm){return bl(bm[0],bm[1]);},V.Map(function(bm){return I.map(function(bn){return[bm,bn];},bm.plgViews);},r.currentPlugInW()));};r.renderVars=function(){function bk(bm,bn){return[bm.plgName,bn.varName];}function bl(bm,bn){var bo,bp,bq;return(bo=_9.Make().WithHole({$:1,$0:"name",$1:bn.varName}).WithHole({$:8,$0:"value",$1:bn.varVar}),(bp=_.CompleteHoles(bo.k,bo.h,[["value",0]]),(bq=new $.New(bp[1],D.namevalueinput(bp[0])),(bo.i=bq,bq)))).get_Doc();}return T.ConvertBy(function(bm){return bk(bm[0],bm[1]);},function(bm){return bl(bm[0],bm[1]);},V.Map(function(bm){return I.map(function(bn){return[bm,bn];},bm.plgVars);},r.currentPlugInW()));};r.renderPlugIns$664$35=function(bk){return function(){r.selectionPlugInO().Set({$:1,$0:bk});};};r.renderPlugIns=function(){return T.Flatten(r.plugIns().MapLens(function(bk){var bl,bm,bn,bo;return(bl=(bm=_9.Make().WithHole({$:1,$0:"name",$1:bk}),bm.WithHole(_.EventQ2(bm.k,"select",function(){return bm.i;},function(){r.selectionPlugInO().Set({$:1,$0:bk});}))).WithHole({$:2,$0:"selected",$1:V.Map(function(bp){return J.Equals(bp,{$:1,$0:bk})?"selected":"";},r.selectionPlugInO().get_View())}),(bn=_.CompleteHoles(bl.k,bl.h,[]),(bo=new $.New(bn[1],D.tile(bn[0])),(bl.i=bo,bo)))).get_Doc();}));};r.currentPlugInV=function(){C.$cctor();return C.currentPlugInV;};r.currentPlugInW=function(){C.$cctor();return C.currentPlugInW;};r.selectionPlugInO=function(){C.$cctor();return C.selectionPlugInO;};r.splitName=function(bk){function bl(bn){return d.splitByChar(".",bn);}function bm(bn){return O.length(bn)===1?[bk,O.get(bn,0)]:[O.get(bn,0),O.get(bn,1)];}return function(bn){return bm(bl(bn));};};r.defaultPlugIn=function(){C.$cctor();return C.defaultPlugIn;};r.TemplateFileName=function(){C.$cctor();return C.TemplateFileName;};r.titleV=function(){C.$cctor();return C.titleV;};r.mainDocV=function(){C.$cctor();return C.mainDocV;};r.plugIns=function(){C.$cctor();return C.plugIns;};y.New=function(bk,bl){return{lytName:bk,lytDefinition:bl};};A=z.Measures=Q.Class({toString:function(){return this.$==1?((((Q.Curried(function(bk,bl,bm,bn){return bk(a.String(bl)+"-"+a.String(bm)+"-"+a.String(bn));},4))(a.id))(_0.toInt(this.$0)))(_0.toInt(this.$1)))(_0.toInt(this.$2)):a.String(_0.toInt(this.$1?this.$0:-this.$0));}},null,A);B.createLayoutDefinitions=function(bk,bl){var bm,bn,bo,bp,bq,br,bs,bt,bu,bv;return bl.$==1?(bm=bl.$0.$0,(bn=bl.$0.$1,(bo=B.createLayoutDefinitions(bk+"_1",bl.$0.$2),(bp=bo[0],(bq=bo[1],(br=B.createLayoutDefinitions(bk+"_2",bl.$0.$3),(bs=br[0],(bt=br[1],[bk,O.ofSeq(I.delay(function(){return I.append([G.concat(" ",U.ofArray([bk,bm?"vertical":"horizontal",a.String(bn),bp,bs]))],I.delay(function(){return I.append(bq,I.delay(function(){return bt;}));}));}))])))))))):(bu=bl.$0,!J.Equals(bu,null)&&bu.length===0)?["___",[]]:(bv=bl.$0,!J.Equals(bv,null)&&bv.length===1)?[O.get(bl.$0,0),[]]:[bk,[bk+" div \"\" "+G.concat(" ",bl.$0)]];};B.extractNodes=function(bk){var bl,bm;function bn(bo,bp,bq,br){var bs,bt,bu,bv,bw,bx;bs=B.extractNodes(bq);bt=B.extractNodes(br);return(bs.$==0?(bv=bs.$0,!J.Equals(bv,null)&&bv.length===0)?(bu=bt,true):bt.$==0?(bw=bt.$0,!J.Equals(bw,null)&&bw.length===0)?(bu=bs,true):(bu=[bs,bt],false):(bu=[bs,bt],false):bt.$==0?(bx=bt.$0,!J.Equals(bx,null)&&bx.length===0)?(bu=bs,true):(bu=[bs,bt],false):(bu=[bs,bt],false))?bu:{$:1,$0:{$:0,$0:bo,$1:bp,$2:bu[0],$3:bu[1]}};}bl=B.horizontalSplit(bk);return bl!=null&&bl.$==1?bn(false,bl.$0[2],bl.$0[0],bl.$0[1]):(bm=B.verticalSplit(bk),bm!=null&&bm.$==1?bn(true,bm.$0[2],bm.$0[0],bm.$0[1]):{$:0,$0:B.cleanSpaces(bk)});};B.cleanSpaces=function(bk){return O.filter(function(bl){var bm;return!(bm=(e.Int())(bl),bm!=null&&bm.$==1);},G.SplitStrings(G.concat(" ",bk),[" "],1));};B.verticalSplit=function(bk){var bl,bm,bn,bo,bp,bq,br,bs,bt,bu;function bv(by,bz){var bA,bB,bC;return(bB=f.REGEX$1("^ *\\|+ *$","",bz),bB!=null&&bB.$==1&&(bC=bB.$0,!J.Equals(bC,null)&&bC.length===1))?{$:1,$0:[by,bz.indexOf("|")]}:null;}function bw(by){return J.Equals(null,by);}function bx(by){return J.Equals(null,by);}bl=B.transpose(bk);bm=(bn=(bo=I.tryHead(I.sortBy(function(by){return by[1];},I.choose(function(by){return bv(by[0],by[1]);},I.indexed(bl)))),bo==null?null:{$:1,$0:bo.$0[0]}),bn==null?null:{$:1,$0:(bp=bn.$0,[B.transpose(H.array(bl,null,{$:1,$0:bp-1})),B.transpose(H.array(bl,{$:1,$0:bp+1},null))])});return bm==null?null:{$:1,$0:(bq=bm.$0,(br=bq[0],(bs=bq[1],[O.filter(function(by){return bw(B.extractMeasuresO(by));},br),O.filter(function(by){return bx(B.extractMeasuresO(by));},bs),(bt=I.tryHead(I.delay(function(){return I.append(I.choose(B.extractMeasuresO,br),I.delay(function(){return I.map(function(by){return by.$==0?by.$1?new A({$:0,$0:by.$0,$1:false}):by:by;},I.choose(B.extractMeasuresO,bs));}));})),(bu=new A({$:1,$0:5,$1:50,$2:95}),bt==null?bu:bt.$0))])))};};B.transpose=function(bk){var bl;bl=I.max(I.map(function(bm){return bm.length;},bk));return O.ofSeq(I.delay(function(){return I.map(function(bm){return O.ofSeq(I.delay(function(){return I.map(function(bn){return bn.length>bm?bn[bm]:" ";},bk);})).join("");},_0.range(0,bl-1));}));};B.horizontalSplit=function(bk){var bl,bm,bn,bo,bp;function bq(br,bs){var bt,bu,bv,bw;bt=f.REGEX$1("^ *--+([ ^v0-9]*)-* *$","",bs);return bt!=null&&bt.$==1?{$:1,$0:[[br,(bu=(bv=I.tryItem(1,bt.$0),bv==null?null:B.extractMeasuresO(G.Replace(G.Replace(bv.$0,"^",""),"v","-"))),(bw=new A({$:1,$0:5,$1:50,$2:95}),bu==null?bw:bu.$0))],bs.indexOf("-")]}:null;}bl=(bm=I.tryHead(I.sortBy(function(br){return br[1];},I.choose(function(br){return bq(br[0],br[1]);},I.indexed(bk)))),bm==null?null:{$:1,$0:bm.$0[0]});return bl==null?null:{$:1,$0:(bn=bl.$0,(bo=bn[0],(bp=bn[1],[H.array(bk,null,{$:1,$0:bo-1}),H.array(bk,{$:1,$0:bo+1},null),bp])))};};B.extractMeasuresO=function(bk){var bl,bm,bn,bo,bp,bq,br;bl=G.SplitChars(bk,[" "],1);return!J.Equals(bl,null)&&bl.length===1&&(bn=(e.Int())(O.get(bl,0)),bn!=null&&bn.$==1&&(bm=bn.$0,true))?{$:1,$0:new A({$:0,$0:ba.abs(bm),$1:bm>=0})}:!J.Equals(bl,null)&&bl.length===3&&(bp=(e.Int())(O.get(bl,0)),bp!=null&&bp.$==1&&(bq=(e.Int())(O.get(bl,1)),bq!=null&&bq.$==1&&(br=(e.Int())(O.get(bl,2)),br!=null&&br.$==1&&(bo=[br.$0,bp.$0,bq.$0],true))))?{$:1,$0:new A({$:1,$0:bo[1],$1:bo[2],$2:bo[0]})}:null;};z.addNewLayout=function(bk,bl){var bm,bn;z.addLayout((bm=(bn=!J.Equals(bl,null)?bl:"\r\n            split horizontal 0-50-100 AppFramework.AppFwkClient Hello\r\n            Hello h1 \"color:blue; class=btn-primary\" \"How are you today?\" Ask\r\n            Ask Doc InputLabel \"placeholder=Type you answer here...\" \"Answer:\" AppFramework.mainDocV  \r\n            ",(d.unindentStr())(bn)),z.newLyt(!J.Equals(bl,null)?bk:"Lyt_"+G.Replace(a.String(bc.NewGuid()),"-",""),bm)));};z.newLyt=function(bk,bl){return y.New(bk,Y.Create$1(bl));};z.addLayout=function(bk){V.Sink(function(bl){var bm;bm=z.createEntries(bk.lytName,bl);r.addPlugIn(x.New(bk.lytName,O.ofSeq(I.delay(function(){return I.append([r.newVar("Layout",bk.lytDefinition)],I.delay(function(){return z.getVarEntries(bm);}));})),[],O.ofSeq(I.delay(function(){return I.append(z.getDocEntries(bm),I.delay(function(){var bn;return I.append([r.newDocF("InputFile",{$:4,$0:(bn=bk.lytName,Q.Curried(z.inputFile,4,[bn])),$1:"attrs",$2:"Label",$3:"Action",$4:"[Doc]"})],I.delay(function(){var bo;return I.append([r.newDocF("InputLabel",{$:3,$0:(bo=bk.lytName,Q.Curried(z.inputLabel,3,[bo])),$1:"attrs",$2:"Label",$3:"Var"})],I.delay(function(){return[r.newDocF("none",{$:1,$0:z.none,$1:"x"})];}));}));}));})),[],[]));r.mainDocV().Set(r.mainDocV().Get());},bk.lytDefinition.get_View());};z.none=function(bk){return T.Element("span",[],[]);};z.inputLabel=function(bk,bl,bm,bn){var bo,bp,bq;bo=(bp=(bq=((z.splitName())(bk))(bn),r.tryGetVar(bq[0],bq[1])),bp==null?null:{$:1,$0:T.Element("div",z.getAttrs(bk,bl,true),[T.Element("div",[X.Create("class","input-group")],[T.Element("span",[X.Create("class","input-group-addon")],[z.getText(bk,bm,true)]),T.Input([X.Create("class","form-control")],bp.$0.varVar)])])});return bo==null?z.errDoc((function(br){return function(bs){return br("Var not found "+M.toSafe(bs));};}(a.id))(bn)):bo.$0;};z.inputFile$1374$69=Q.Curried3(function(bk,bl,bm){return r.callFunction(bl,null,bk.actFunction);});z.inputFile$1373$69=Q.Curried3(function(bk,bl,bm){bl.value="";});z.inputFile=function(bk,bl,bm,bn,bo){var bp,bq,br,bs;bp=(bq=(br=((z.splitName())(bk))(bn),r.tryGetAct(br[0],br[1])),bq==null?null:{$:1,$0:(bs=bq.$0,T.Element("div",z.getAttrs(bk,bl,true),[T.Element("div",[X.Create("class","input-group")],[T.Element("span",[X.Create("class","input-group-btn")],[T.Element("label",[X.Create("class","btn")],[z.getText(bk,bm,true),T.Element("input",[X.Create("class","form-control"),X.Create("type","file"),W.Style("display","none"),X.HandlerImpl("click",function(bt){return function(){bt.value="";};}),X.HandlerImpl("change",function(bt){return function(){return r.callFunction(bt,null,bs.actFunction);};})],[])])]),bo!==""?z.singleDoc(bk,U.ofArray([[bo,false]])):T.get_Empty()])]))});return bp==null?z.errDoc((function(bt){return function(bu){return bt("Action not found "+M.toSafe(bu));};}(a.id))(bn)):bp.$0;};z.getVarEntries=function(bk){function bl(bm){return bm[1];}return I.map(function(bm){return I.last(bl(bm));},I.groupBy(function(bm){return bm.varName;},I.choose(function(bm){return bm.$==0?{$:1,$0:bm.$0}:null;},bk)));};z.getDocEntries=function(bk){function bl(bm){return bm[1];}return I.map(function(bm){return I.last(bl(bm));},I.groupBy(function(bm){return bm.docName;},I.choose(function(bm){return bm.$==2?{$:1,$0:bm.$0}:null;},bk)));};z.getText=function(bk,bl,bm){var bn,bo,bp,bq,br,bs,bt,bu,bv;bn=z.Identifier(bl,bm);return bn!=null&&bn.$==1?(bo=bn.$0,(bp=((z.splitName())(bk))(bo),(bq=bp[0],(br=bp[1],(bs=(bt=r.tryGetViw(bq,br),bt==null?null:{$:1,$0:T.TextView(bt.$0.viwView)}),bs==null?(bu=(bv=r.tryGetVar(bq,br),bv==null?null:{$:1,$0:T.TextView(bv.$0.varVar.get_View())}),bu==null?T.TextNode(bo):bu.$0):bs.$0))))):T.TextNode(bl);};z.createEntries=function(bk,bl){return z.processLines(function(bm){return z.createEntryO(bk,bm);},d.splitByChar("\n",bl));};z.processLines=function(bk,bl){function bm(bn){var bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB;bo=I.tryHead(bn);return bo!=null&&bo.$==1?(bp=bo.$0,(bq=z.splitTokens(bp),bq.$==1&&(bs=(bt=bq.$0,z.Identifier(bt[0],bt[1])),bs!=null&&bs.$==1&&(bq.$1.$==1&&((bu=bq.$1.$0,z.Vertical(bu[0],bu[1])).$==2&&(bq.$1.$1.$==0&&(br=bs.$0,true)))))?(bv=z.getExtraLines(function(bC){return G.StartsWith(G.Trim(bC),"|");},bn),bm((B.createLayoutDefinitions(br,B.extractNodes(bv[0])))[1].concat(bv[1]))):bq.$==0?bm(H.array(bn,{$:1,$0:1},null)):(bw=z.getExtraLines(function(bC){return G.StartsWith(G.Trim(bC),":");},bn),(bx=bw[1],(by=bw[0],O.length(by)>0?((function(bC){return function(bD){return bC("l = ;"+M.toSafe(bD)+";");};}(function(bC){N.log(bC);}))(bp),bz=z.createLines(I.nth(0,G.SplitChars(bp,[" "],1)),1,[],[],1,by),bA=bz[0],bB=bz[1],bm(O.ofSeq(I.delay(function(){return I.append([bp+" "+G.concat(" ",bA)],I.delay(function(){return I.append(bB,I.delay(function(){return bx;}));}));})))):O.ofSeq(I.delay(function(){var bC;return I.append((bC=bk(bp),bC!=null&&bC.$==1?[bC.$0]:[]),I.delay(function(){return bm(bx);}));}))))))):[];}return bm(bl);};z.createLines=function(bk,bl,bm,bn,bo,bp){var bq,br,bs,bt,bu,bv,bw,bx,by,bz;bq=G.replicate(bl,":");br=":"+bq;bs=I.tryHead(bp);return bs!=null&&bs.$==1?(bt=d.StartsWith(bq,G.Trim(bs.$0)),bt!=null&&bt.$==1?(bu=bt.$0,(bv=z.getExtraLines(function(bA){return G.StartsWith(G.Trim(bA),br);},bp),(bw=(((Q.Curried3(function(bA,bB,bC){return bA(M.toSafe(bB)+"_"+a.String(bC));}))(a.id))(bk))(bo),(bx=z.createLines(bw,bl+1,[],[],1,bv[0]),(by=bx[1],(bz=bx[0],z.createLines(bk,bl,O.ofSeq(I.delay(function(){return I.append(bm,I.delay(function(){return[bw];}));})),O.ofSeq(I.delay(function(){return I.append(bn,I.delay(function(){return I.append([bw+" "+bu+" "+G.concat(" ",bz)],I.delay(function(){return by;}));}));})),bo+1,bv[1]))))))):[bm,bn]):[bm,bn];};z.getExtraLines=function(bk,bl){var bm,bn,bo,bp;bm=(bn=(bo=I.tryFindIndex(function(bq){return G.Trim(bq)!==""&&!bk(bq);},I.skip(1,bl)),bo==null?null:{$:1,$0:1+bo.$0}),(bp=O.length(bl),bn==null?bp:bn.$0));return[H.array(bl,{$:1,$0:1},{$:1,$0:bm-1}),H.array(bl,{$:1,$0:bm},null)];};z.createEntryO=function(bk,bl){var bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd;try{bm=z.splitTokens(bl);return bm.$==1&&(bo=(bp=bm.$0,z.Identifier(bp[0],bp[1])),bo!=null&&bo.$==1&&(bm.$1.$==1&&((bq=bm.$1.$0,z.Vertical(bq[0],bq[1])).$==0&&(bm.$1.$1.$==1&&(br=(bs=bm.$1.$1.$0,z.Measures$1(bs[0],bs[1])),br!=null&&br.$==1&&(bn=[bm.$1.$1.$1,br.$0,bo.$0],true))))))?(bt=bn[2],z.entryDoc(bt,(z.createSplitterM())([bk,bt,true,bn[1],bn[0]]))):bm.$==1&&(bv=(bw=bm.$0,z.Identifier(bw[0],bw[1])),bv!=null&&bv.$==1&&(bm.$1.$==1&&((bx=bm.$1.$0,z.Vertical(bx[0],bx[1])).$==1&&(bm.$1.$1.$==1&&(by=(bz=bm.$1.$1.$0,z.Measures$1(bz[0],bz[1])),by!=null&&by.$==1&&(bu=[bm.$1.$1.$1,by.$0,bv.$0],true))))))?(bA=bu[2],z.entryDoc(bA,(z.createSplitterM())([bk,bA,false,bu[1],bu[0]]))):bm.$==1&&(bC=(bD=bm.$0,z.Identifier(bD[0],bD[1])),bC!=null&&bC.$==1&&(bm.$1.$==1&&((bE=bm.$1.$0,z.Var(bE[0],bE[1])).$==2&&(bm.$1.$1.$==1&&(bF=(bG=bm.$1.$1.$0,z.Identifier(bG[0],bG[1])),bF!=null&&bF.$==1&&(bm.$1.$1.$1.$==1&&(bm.$1.$1.$1.$1.$==1&&(bm.$1.$1.$1.$1.$1.$==0&&(bB=[bF.$0,bm.$1.$1.$1.$0,bC.$0,bm.$1.$1.$1.$1.$0],true)))))))))?(bH=bB[2],z.entryDoc(bH,(z.createButtonM())([bk,bH,bB[0],bB[1],bB[3]]))):bm.$==1&&(bJ=(bK=bm.$0,z.Identifier(bK[0],bK[1])),bJ!=null&&bJ.$==1&&(bm.$1.$==1&&((bL=bm.$1.$0,z.Var(bL[0],bL[1])).$==3&&(bm.$1.$1.$==1&&(bM=(bN=bm.$1.$1.$0,z.Identifier(bN[0],bN[1])),bM!=null&&bM.$==1&&(bm.$1.$1.$1.$==1&&(bm.$1.$1.$1.$1.$==0&&(bI=[bm.$1.$1.$1.$0,bJ.$0,bM.$0],true))))))))?(bO=bI[1],z.entryDoc(bO,(z.createInputM())([bk,bO,bI[2],bI[0]]))):bm.$==1&&(bQ=(bR=bm.$0,z.Identifier(bR[0],bR[1])),bQ!=null&&bQ.$==1&&(bm.$1.$==1&&((bS=bm.$1.$0,z.Var(bS[0],bS[1])).$==4&&(bm.$1.$1.$==1&&(bT=(bU=bm.$1.$1.$0,z.Identifier(bU[0],bU[1])),bT!=null&&bT.$==1&&(bm.$1.$1.$1.$==1&&(bm.$1.$1.$1.$1.$==0&&(bP=[bm.$1.$1.$1.$0,bQ.$0,bT.$0],true))))))))?(bV=bP[1],z.entryDoc(bV,(z.createTextAreaM())([bk,bV,bP[2],bP[0]]))):bm.$==1&&(bX=(bY=bm.$0,z.Identifier(bY[0],bY[1])),bX!=null&&bX.$==1&&(bm.$1.$==1&&((bZ=bm.$1.$0,z.Var(bZ[0],bZ[1])).$==0&&(bm.$1.$1.$==1&&(bm.$1.$1.$1.$==0&&(bW=[bX.$0,bm.$1.$1.$0],true))))))?(b0=bW[0],z.entryVar(b0,(z.createVarM())([bk,b0,bW[1][0]]))):bm.$==1&&(b2=(b3=bm.$0,z.Identifier(b3[0],b3[1])),b2!=null&&b2.$==1&&(bm.$1.$==1&&((b4=bm.$1.$0,z.Var(b4[0],b4[1])).$==1&&(bm.$1.$1.$==1&&(b1=[bm.$1.$1.$0,b2.$0,bm.$1.$1.$1],true)))))?(b5=b1[1],z.entryDoc(b5,(z.createDocM())([bk,b5,b1[0][0],b1[2]]))):bm.$==1&&(b7=(b8=bm.$0,z.Identifier(b8[0],b8[1])),b7!=null&&b7.$==1&&(bm.$1.$==1&&((b9=bm.$1.$0,z.Vertical(b9[0],b9[1])).$==3&&(bm.$1.$1.$==1&&(bm.$1.$1.$1.$==1&&(bm.$1.$1.$1.$1.$==1&&(b6=[bm.$1.$1.$1.$1.$0,bm.$1.$1.$0,bm.$1.$1.$1.$1.$1,b7.$0,bm.$1.$1.$1.$0],true)))))))?null:bm.$==1&&(b$=(ca=bm.$0,z.Identifier(ca[0],ca[1])),b$!=null&&b$.$==1&&(bm.$1.$==1&&(cb=(cc=bm.$1.$0,z.Vertical(cc[0],cc[1])),cb.$==4&&(bm.$1.$1.$==1&&(b_=[bm.$1.$1.$0,bm.$1.$1.$1,cb.$0,b$.$0],true)))))?(cd=b_[3],z.entryDoc(cd,(z.createElementM())([bk,cd,b_[2],b_[0],b_[1]]))):null;}catch(ce){((function(cf){return function(cg){return cf(M.prettyPrint(cg));};}(function(cf){N.log(cf);}))(ce));return null;}};z.entryVar=function(bk,bl){return{$:1,$0:{$:0,$0:r.newVar(bk,bl)}};};z.entryDoc=function(bk,bl){return{$:1,$0:{$:2,$0:r.newDoc(bk,bd.Create(function(){return bl;}))}};};z.createVarM=function(){C.$cctor();return C.createVarM;};z.createDocM=function(){C.$cctor();return C.createDocM;};z.createElementM=function(){C.$cctor();return C.createElementM;};z.createTextAreaM=function(){C.$cctor();return C.createTextAreaM;};z.createInputM=function(){C.$cctor();return C.createInputM;};z.createButtonM=function(){C.$cctor();return C.createButtonM;};z.createSplitterM=function(){C.$cctor();return C.createSplitterM;};z.createVar=function(bk,bl,bm){return Y.Create$1(bm);};z.createDoc=function(bk,bl,bm,bn){return z.turnToView(function(){var bo,bp,bq;bo=((z.splitName())(bk))(bm);bp=(bq=r.tryGetDoc(bo[0],bo[1]),bq==null?null:{$:1,$0:z.getDocFinal(bn,bq.$0)});return bp==null?z.errDoc((function(br){return function(bs){return br("Missing doc: "+M.toSafe(bs));};}(a.id))(bm)):bp.$0;});};z.createTextArea=function(bk,bl,bm,bn){return z.turnToView(function(){var bo,bp,bq,br,bs;bo=(bp=(bq=((z.splitName())(bk))(bm),r.tryGetVoV(bq[0],bq[1])),(br=(bs=z.getAttrs(bk,bn[0],bn[1]),function(bt){return T.InputArea(bs,bt);}),bp==null?null:{$:1,$0:br(bp.$0)}));return bo==null?z.errDoc((function(bt){return function(bu){return bt("Missing var: "+M.toSafe(bu));};}(a.id))(bm)):bo.$0;});};z.createInput=function(bk,bl,bm,bn){return z.turnToView(function(){var bo,bp,bq,br,bs;bo=(bp=(bq=((z.splitName())(bk))(bm),r.tryGetVoV(bq[0],bq[1])),(br=(bs=z.getAttrs(bk,bn[0],bn[1]),function(bt){return T.Input(bs,bt);}),bp==null?null:{$:1,$0:br(bp.$0)}));return bo==null?z.errDoc((function(bt){return function(bu){return bt("Missing var: "+M.toSafe(bu));};}(a.id))(bm)):bo.$0;});};z.createButton=function(bk,bl,bm,bn,bo){return z.turnToView(function(){var bp,bq,br,bs,bt;function bu(bv,bw){return r.callFunction(null,null,bv.actFunction);}bp=(bq=(br=(bs=((z.splitName())(bk))(bm),r.tryGetAct(bs[0],bs[1])),br==null?null:{$:1,$0:(bt=br.$0,function(bv){return bu(bt,bv);})}),bq==null?a.ignore:bq.$0);return T.Button(bo[0],z.getAttrs(bk,bn[0],bn[1]),bp);});};z.createElement=function(bk,bl,bm,bn,bo){var bp;bp=[z.turnToView(function(){return T.Concat(z.getDocs(bk,bo));})];return T.Element(bm,z.getAttrs(bk,bn[0],bn[1]),bp);};z.createSplitter=function(bk,bl,bm,bn,bo){var bp;bp=z.pairOfDocs(bk,bo);return bn.$==1?z.variableSplitter(bm,bn.$0,bn.$1,bn.$2,bp[0],bp[1]):z.fixedSplitter(bm,bn.$0,bn.$1,bp[0],bp[1]);};z.singleDoc=function(bk,bl){return T.EmbedView(V.Map(function(bm){var bn;return bm.$==1&&(bm.$1.$==0&&(bn=bm.$0,true))?bn:z.errDoc((function(bo){return function(bp){return bo("expected exactly 1 element "+M.printList(function(bq){return"("+M.prettyPrint(bq[0])+", "+M.prettyPrint(bq[1])+")";},bp));};}(a.id))(bl));},V.Map(function(){return z.getDocs(bk,bl);},r.mainDocV().get_View())));};z.pairOfDocs=function(bk,bl){var bm;bm=V.Map(function(bn){var bo;return bn.$==1&&(bn.$1.$==1&&(bn.$1.$1.$==0&&(bo=[bn.$0,bn.$1.$0],true)))?[bo[0],bo[1]]:[z.errDoc((function(bp){return function(bq){return bp("splitter expects exactly 2 elements "+M.printList(function(br){return"("+M.prettyPrint(br[0])+", "+M.prettyPrint(br[1])+")";},bq));};}(a.id))(bl)),z.errDoc("part 2")];},V.Map(function(){return z.getDocs(bk,bl);},r.mainDocV().get_View()));return[T.EmbedView(V.Map(function(bn){return bn[0];},bm)),T.EmbedView(V.Map(function(bn){return bn[1];},bm))];};z.getDocs=function(bk,bl){var bm;return bl.$==0?U.T.Empty:(bm=z.getOneDoc(bk,bl),new U.T({$:1,$0:bm[0],$1:z.getDocs(bk,bm[1])}));};z.getOneDoc=function(bk,bl){var bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA;return bl.$==1&&(bn=(bo=bl.$0,z.Identifier(bo[0],bo[1])),bn!=null&&bn.$==1&&(bm=[bn.$0,bl.$1],true))?(bp=bm[0],(bq=bm[1],(br=((z.splitName())(bk))(bp),(bs=br[0],(bt=br[1],(bu=(bv=r.tryGetDoc(bs,bt),bv==null?null:{$:1,$0:z.getDocF(bq,bv.$0)}),bu==null?(bw=(bx=r.tryGetWoW(bs,bt),bx==null?null:{$:1,$0:[T.TextView(bx.$0),bq]}),bw==null?[z.errDoc((by=(function(bB){return function(bC){return bB("Missing doc: "+M.toSafe(bC));};}(a.id))(bp),(c.print(by),by))),bq]:bw.$0):bu.$0)))))):bl.$==0?[T.get_Empty(),U.T.Empty]:(bz=bl.$1,(bA=z.getTextData(bk,bl.$0[0]),bA.$==1?[T.TextView(bA.$0),bz]:bA.$==2?[z.errDoc((function(bB){return function(bC){return bB("Unexpected action: "+M.toSafe(bC));};}(a.id))(bA.$0.actName)),bz]:[T.TextNode(bA.$0),bz]));};z.turnToView=function(bk){return T.EmbedView(V.Map(bk,r.mainDocV().get_View()));};z.getDocFinal=function(bk,bl){var bm;bm=z.getDocF(bk,bl);return bm[1].$==0?bm[0]:z.errDoc((((Q.Curried3(function(bn,bo,bp){return bn("Too many parameters "+E.p(bo)+" "+M.printList(function(bq){return"("+M.prettyPrint(bq[0])+", "+M.prettyPrint(bq[1])+")";},bp));}))(a.id))(bl))(bk));};z.getDocF=function(bk,bl){var bm,bn;bn=bl.docDoc;switch(bn.$==1?bk.$==1?(bm=[bn.$0,bk.$0[0],bk.$1],1):6:bn.$==2?bk.$==1?bk.$1.$==1?(bm=[bn.$0,bk.$0[0],bk.$1.$0[0],bk.$1.$1],2):6:6:bn.$==3?bk.$==1?bk.$1.$==1?bk.$1.$1.$==1?(bm=[bn.$0,bk.$0[0],bk.$1.$0[0],bk.$1.$1.$0[0],bk.$1.$1.$1],3):6:6:6:bn.$==4?bk.$==1?bk.$1.$==1?bk.$1.$1.$==1?bk.$1.$1.$1.$==1?(bm=[bn.$0,bk.$0[0],bk.$1.$0[0],bk.$1.$1.$0[0],bk.$1.$1.$1.$0[0],bk.$1.$1.$1.$1],4):6:6:6:6:bn.$==5?bk.$==1?bk.$1.$==1?bk.$1.$1.$==1?bk.$1.$1.$1.$==1?bk.$1.$1.$1.$1.$==1?(bm=[bn.$0,bk.$0[0],bk.$1.$0[0],bk.$1.$1.$0[0],bk.$1.$1.$1.$0[0],bk.$1.$1.$1.$1.$0[0],bk.$1.$1.$1.$1.$1],5):6:6:6:6:6:(bm=[bn.$0,bk],0)){case 0:return[bm[0].f(),bm[1]];case 1:return[bm[0](bm[1]),bm[2]];case 2:return[(bm[0](bm[1]))(bm[2]),bm[3]];case 3:return[((bm[0](bm[1]))(bm[2]))(bm[3]),bm[4]];case 4:return[(((bm[0](bm[1]))(bm[2]))(bm[3]))(bm[4]),bm[5]];case 5:return[((((bm[0](bm[1]))(bm[2]))(bm[3]))(bm[4]))(bm[5]),bm[6]];case 6:return[T.Element("div",[],[T.TextNode((((Q.Curried3(function(bo,bp,bq){return bo("Parameters do not coincide with definition "+E.p(bp)+" - "+M.printList(function(br){return"("+M.prettyPrint(br[0])+", "+M.prettyPrint(br[1])+")";},bq));}))(a.id))(bl))(bk))]),U.T.Empty];}};z.getAttrs=function(bk,bl,bm){var bn;bn=[bl,bm];return U.ofSeq(I.delay(function(){return I.append(I.choose(function(bo){var bp,bq,br,bs,bt,bu;return!J.Equals(bo,null)&&bo.length===2&&(bq=O.get(bo,1),G.Trim(O.get(bo,0))!==""&&G.Trim(bq)!=="")?(br=O.get(bo,1),(bs=O.get(bo,0),{$:1,$0:(bt=z.getTextData(bk,G.Trim(br)),bt.$==1?W.Dynamic(G.Trim(bs),bt.$0):bt.$==2?(bu=bt.$0,W.Handler(G.Trim(bs),function(bv){return function(bw){return r.callFunction(bv,bw,bu.actFunction);};})):X.Create(G.Trim(bs),G.Trim(bt.$0)))})):null;},I.map(function(bo){return d.splitByChar("=",bo);},d.splitByChar(";",bn[0]))),I.delay(function(){return I.choose(function(bo){var bp,bq,br,bs,bt;return!J.Equals(bo,null)&&bo.length===2&&(bq=O.get(bo,1),G.Trim(O.get(bo,0))!==""&&G.Trim(bq)!=="")?(br=O.get(bo,1),(bs=O.get(bo,0),{$:1,$0:(bt=z.getTextData(bk,G.Trim(br)),bt.$==1?W.DynamicStyle(G.Trim(bs),bt.$0):bt.$==2?W.Style(G.Trim(bs),(function(bu){return function(bv){return bu("${"+M.toSafe(bv)+"}");};}(a.id))(bt.$0.actName)):W.Style(G.Trim(bs),G.Trim(bt.$0)))})):null;},I.map(function(bo){return d.splitByChar(":",bo);},d.splitByChar(";",bn[0])));}));}));};z.getTextData=function(bk,bl){var bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by;bm=(bn=d.delimitedO("${","}",bl),bn==null?null:{$:1,$0:(bo=bn.$0,(bp=bo[0],(bq=bo[1],(br=bo[2],(bs=((z.splitName())(bk))(bq),(bt=bs[0],(bu=bs[1],(bv=(bw=r.tryGetWoW(bt,bu),bw==null?null:{$:1,$0:function(bz){var bA,bB;bB=z.getTextData(bk,br);switch(bp===""?bB.$==1?(bA=bB.$0,2):bB.$==2?(bA=bB.$0,3):bB.$0===""?0:(bA=bB.$0,1):bB.$==1?(bA=bB.$0,2):bB.$==2?(bA=bB.$0,3):(bA=bB.$0,1)){case 0:return{$:1,$0:bz};case 1:return{$:1,$0:V.Map(function(bC){return bp+bC+bA;},bz)};case 2:return{$:1,$0:V.Map2(function(bC,bD){return bp+bC+bD;},bz,bA)};case 3:return{$:2,$0:bA};}}(bw.$0)}),bv==null?(bx=(by=r.tryGetAct(bt,bu),by==null?null:{$:1,$0:{$:2,$0:by.$0}}),bx==null?{$:0,$0:((((Q.Curried(function(bz,bA,bB,bC){return bz(M.toSafe(bA)+" ${Missing "+M.toSafe(bB)+"}"+M.toSafe(bC));},4))(a.id))(bp))(bq))(br)}:bx.$0):bv.$0))))))))});return bm==null?{$:0,$0:bl}:bm.$0;};z.splitName=function(){C.$cctor();return C.splitName;};z.splitTokens=function(bk){return U.ofSeq(I.collect(a.id,I.mapi(function(bl,bm){var bn;return bl%2===1?[[bm,true]]:(bn=G.Trim(bm),bn===""?[]:O.map(function(bo){return[bo,false];},G.SplitChars(bn,[" "],1)));},d.splitByChar("\"",bk))));};z.errDoc=function(bk){return T.Element("div",[],[T.TextNode(bk)]);};z.variableSplitter=function(bk,bl,bm,bn,bo,bp){return T.Element("wcomp-splitter",U.ofSeq(I.delay(function(){return I.append(bk?[X.Create("vertical","")]:[],I.delay(function(){return I.append([X.Create("min",a.String(bl))],I.delay(function(){return I.append([X.Create("value",a.String(bm))],I.delay(function(){return[X.Create("max",a.String(bn))];}));}));}));})),U.ofArray([bo,bp]));};z.fixedSplitter=function(bk,bl,bm,bn,bo){var bp,bq,br,bs,bt,bu,bv;bp=(((bm?Q.Curried3(function(bw,bx,by){return bw(bx.toFixed(6)+"px calc(100% - "+by.toFixed(6)+"px)");}):Q.Curried3(function(bw,bx,by){return bw("calc(100% - "+bx.toFixed(6)+"px) "+by.toFixed(6)+"px");}))(a.id))(bl))(bl);return bk?(bq=_9.Make().WithHole({$:1,$0:"partsizes",$1:bp}).WithHole({$:0,$0:"first",$1:bn}).WithHole({$:0,$0:"second",$1:bo}),(br=_.CompleteHoles(bq.k,bq.h,[]),(bs=new $.New(br[1],D.fixedsplitterver(br[0])),(bq.i=bs,bs)))).get_Doc():(bt=_9.Make().WithHole({$:1,$0:"partsizes",$1:bp}).WithHole({$:0,$0:"first",$1:bn}).WithHole({$:0,$0:"second",$1:bo}),(bu=_.CompleteHoles(bt.k,bt.h,[]),(bv=new $.New(bu[1],D.fixedsplitterhor(bu[0])),(bt.i=bv,bv)))).get_Doc();};z.Measures$1=function(bk,bl){var bm,bn,bo,bp,bq,br,bs,bt,bu,bv;bm=[bk,bl];return bm[1]?null:(bn=d.splitByChar("-",bm[0]),!J.Equals(bn,null)&&bn.length===1&&(bp=(e.Double())(O.get(bn,0)),bp!=null&&bp.$==1&&(bo=bp.$0,true))?{$:1,$0:new A({$:0,$0:bo,$1:true})}:!J.Equals(bn,null)&&bn.length===2&&(O.get(bn,0)===""&&(br=(e.Double())(O.get(bn,1)),br!=null&&br.$==1&&(bq=br.$0,true)))?{$:1,$0:new A({$:0,$0:bq,$1:false})}:!J.Equals(bn,null)&&bn.length===3&&(bt=(e.Double())(O.get(bn,0)),bt!=null&&bt.$==1&&(bu=(e.Double())(O.get(bn,1)),bu!=null&&bu.$==1&&(bv=(e.Double())(O.get(bn,2)),bv!=null&&bv.$==1&&(bs=[bv.$0,bt.$0,bu.$0],true))))?{$:1,$0:new A({$:1,$0:bs[1],$1:bs[2],$2:bs[0]})}:null);};z.Var=function(bk,bl){var bm,bn,bo,bp,bq,br;return(bl?false:bk==="Var")?{$:0,$0:null}:(bl?false:bk==="Doc")?{$:1,$0:null}:(bl?false:bk==="button")?{$:2,$0:null}:(bl?false:bk==="input")?{$:3,$0:null}:(bl?false:bk==="textarea")?{$:4,$0:null}:(bl?false:bk==="select")?{$:5,$0:null}:{$:6,$0:null};};z.Vertical=function(bk,bl){var bm,bn,bo,bp,bq;return(bl?false:bk==="vertical")?{$:0,$0:null}:(bl?false:bk==="horizontal")?{$:1,$0:null}:(bl?false:bk==="layout")?{$:2,$0:null}:(bl?false:bk==="grid")?{$:3,$0:null}:(bq=z.Identifier(bk,bl),bq!=null&&bq.$==1?{$:4,$0:bq.$0}:{$:5,$0:null});};z.Identifier=function(bk,bl){var bm,bn,bo;return(bn=f.REGEX$1("^[$a-zA-Z_][0-9a-zA-Z_\\.\\-$]*$","",bk),bn!=null&&bn.$==1&&((bo=bn.$0,!J.Equals(bo,null)&&bo.length===1)&&(bl?false:(bm=O.get(bn.$0,0),true))))?{$:1,$0:bm}:null;};f.rexGuid=function(){C.$cctor();return C.rexGuid;};f.REGEX$1=function(bk,bl,bm){var bn;return bm===null?null:(bn=(new a.String(bm)).match(new a.RegExp(bk,bl)),J.Equals(bn,null)?null:!J.Equals(bn,null)&&bn.length===0?null:{$:1,$0:bn});};C.$cctor=function(){var bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI;C.$cctor=a.ignore;function bJ(b9){return G.concat("\n",b9);}function bK(b9){return d.splitByChar("\n",b9);}function bL(b9){var b_,b$;return H.array(b9,{$:1,$0:0},{$:1,$0:(b_=0,(b$=O.length(b9)-2,J.Compare(b_,b$)===1?b_:b$))});}function bM(b9){return G.concat("\n",b9);}function bN(b9){var b_;function b$(cb){return r.plugIns().TryFindByKey(cb);}function ca(cb){var cc;cc=r.defaultPlugIn();return cb==null?cc:cb.$0;}b_=function(cb){return cb==null?null:b$(cb.$0);};return function(cb){return ca(b_(cb));};}function bO(b9){var b_;b_=null;return bn.TryGetValue(b9,{get:function(){return b_;},set:function(b$){b_=b$;}})?{$:1,$0:b_}:null;}function bP(b9,b_){bn.set_Item(b9,b_);return b_;}function bQ(b9,b_){var b$;b$=bO(b9);return b$==null?bP(b9,b_(b9)):b$.$0;}function bR(b9){var b_;b_=null;return bq.TryGetValue(b9,{get:function(){return b_;},set:function(b$){b_=b$;}})?{$:1,$0:b_}:null;}function bS(b9,b_){bq.set_Item(b9,b_);return b_;}function bT(b9,b_){var b$;b$=bR(b9);return b$==null?bS(b9,b_(b9)):b$.$0;}function bU(b9){var b_;b_=null;return bt.TryGetValue(b9,{get:function(){return b_;},set:function(b$){b_=b$;}})?{$:1,$0:b_}:null;}function bV(b9,b_){bt.set_Item(b9,b_);return b_;}function bW(b9,b_){var b$;b$=bU(b9);return b$==null?bV(b9,b_(b9)):b$.$0;}function bX(b9){var b_;b_=null;return bw.TryGetValue(b9,{get:function(){return b_;},set:function(b$){b_=b$;}})?{$:1,$0:b_}:null;}function bY(b9,b_){bw.set_Item(b9,b_);return b_;}function bZ(b9,b_){var b$;b$=bX(b9);return b$==null?bY(b9,b_(b9)):b$.$0;}function b0(b9){var b_;b_=null;return bz.TryGetValue(b9,{get:function(){return b_;},set:function(b$){b_=b$;}})?{$:1,$0:b_}:null;}function b1(b9,b_){bz.set_Item(b9,b_);return b_;}function b2(b9,b_){var b$;b$=b0(b9);return b$==null?b1(b9,b_(b9)):b$.$0;}function b3(b9){var b_;b_=null;return bC.TryGetValue(b9,{get:function(){return b_;},set:function(b$){b_=b$;}})?{$:1,$0:b_}:null;}function b4(b9,b_){bC.set_Item(b9,b_);return b_;}function b5(b9,b_){var b$;b$=b3(b9);return b$==null?b4(b9,b_(b9)):b$.$0;}function b6(b9){var b_;b_=null;return bF.TryGetValue(b9,{get:function(){return b_;},set:function(b$){b_=b$;}})?{$:1,$0:b_}:null;}function b7(b9,b_){bF.set_Item(b9,b_);return b_;}function b8(b9,b_){var b$;b$=b6(b9);return b$==null?b7(b9,b_(b9)):b$.$0;}C.unindentStr=function(b9){return bJ(d.unindent(b9));};C.skipLastLine=(bk=function(b9){return bL(bK(b9));},function(b9){return bM(bk(b9));});C.parseDateO=e.tryParseWith(function(b9){var b_,b$;b_=0;return[(b$=be.TryParse(b9),b$!=null&&b$.$==1&&(b_=b$.$0,true)),b_];});C.parseIntO=e.tryParseWith(function(b9){var b_;b_=0;return[bf.TryParseInt32(b9,{get:function(){return b_;},set:function(b$){b_=b$;}}),b_];});C.parseSingleO=e.tryParseWith(function(b9){var b_,b$;b_=0;return[(b$=a.Number(b9),a.isNaN(b$)?false:(b_=b$,true)),b_];});C.parseDoubleO=e.tryParseWith(function(b9){var b_,b$;b_=0;return[(b$=a.Number(b9),a.isNaN(b$)?false:(b_=b$,true)),b_];});C.parseGuidO=e.tryParseWith(function(b9){var b_;b_=null;return[bc.TryParse(b9,{get:function(){return b_;},set:function(b$){b_=b$;}}),b_];});C["|Date|_|"]=e.parseDateO();C["|Int|_|"]=e.parseIntO();C["|Single|_|"]=e.parseSingleO();C["|Double|_|"]=e.parseDoubleO();C["|Guid|_|"]=e.parseGuidO();C.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";C.observers=U.T.Empty;C.css="\r\n                .tab-panel {\r\n                 overflow  : hidden   ;\r\n                 display   : flex     ;\r\n                 flex-flow : column   ;\r\n                 background: lightgray;\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                }\r\n                .tab-content {\r\n                 flex      : 1 1     ;\r\n                 overflow  : auto    ;\r\n                 position  : relative;\r\n                }\r\n                .tab-children {\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                 position  : absolute;\r\n                 display   : grid    ;\r\n                }\r\n                .tab-strip {\r\n                 padding   : 0pt     ;\r\n                 flex      : 0 0     ;\r\n                }\r\n                .tab {\r\n                 border     : 0.2pt solid transparent;\r\n                 padding    : 0pt 4pt;\r\n                 display    : inline-block;\r\n                 font-family: sans-serif;\r\n                 font-weight: 200;\r\n                 font-size  : small;\r\n                 color      : #666;\r\n                 cursor     : pointer;\r\n                }\r\n                .top>.tab {\r\n                 border-radius: 2pt 2pt 0pt 0pt;\r\n                 border-bottom-width: 0pt;\r\n                 vertical-align: bottom;\r\n                }\r\n                .bottom>.tab {\r\n                 border-top-width: 0pt;\r\n                 border-radius: 0pt 0pt 2pt 2pt;\r\n                 vertical-align: top;\r\n                }\r\n                .horizontal>.tab:not(:first-child) {\r\n                 border-left-width: 0pt;\r\n                }\r\n                .tab.hovering {\r\n                 background: red;\r\n                }\r\n                .tab.selected {\r\n                 background: white;\r\n                 border-left-width: 0.2pt;\r\n                 color: black;\r\n                 font-weight: 500;\r\n                 border-color: black;\r\n                }\r\n                .horizontal>.tab.selected {\r\n                 border-left-width: 0.2pt;\r\n                }\r\n                ::slotted(*              ) { \r\n                 width : 100%;\r\n                 height: 100%;\r\n                }\r\n                        ";C.init=bd.Create(function(){var b9,b_,b$;b9=new o.New();b_="wcomp-tabstrip";b$=self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New;N.log("defineWebComponent: "+b_);_4.setPrototypeOf(b$.prototype,self.HTMLElement.prototype);_4.setPrototypeOf(b$,self.HTMLElement);_4.setPrototypeOf(o.Constructor.prototype,b$.prototype);self.customElements.define(b_,o.Constructor);});C.layoutHorizontal=Q.Curried(function(b9,b_,b$,ca,cb){return T.get_Empty();},5);C.layoutVertical=Q.Curried(function(b9,b_,b$,ca,cb){return T.get_Empty();},5);C.plugIns=new bg.New$1(function(b9){return b9.plgName;});C.mainDocV=Y.Create$1("AppFramework.AppFwkClient");C.titleV=Y.Create$1("AppFramework.mainDocV");C.TemplateFileName="..\\website\\AppFramework.html";C.defaultPlugIn=x.New("",[],[],[],[],[]);C.selectionPlugInO=Y.Create$1({$:1,$0:"AppFramework"});C.currentPlugInW=(bl=r.selectionPlugInO().get_View(),V.Map2(function(b9,b_){return(bN(b9))(b_);},r.plugIns().v,bl));C.currentPlugInV=new _5.New(r.currentPlugInW(),function(b9){r.plugIns().Append(b9);});C.AppFwkClient=bd.Create(function(){var b9,b_,b$,ca,cb,cc,cd,ce,cf;return(b9=(b_=r.renderQueries(),(b$=r.renderActions(),(ca=r.renderDocs(),(cb=r.renderViews(),(cc=r.renderVars(),(cd=r.renderPlugIns(),_9.Make().WithHole({$:0,$0:"plugins",$1:cd})).WithHole({$:2,$0:"pluginname",$1:V.Map(function(cg){return cg.plgName;},r.currentPlugInW())}).WithHole({$:0,$0:"vars",$1:cc})).WithHole({$:0,$0:"views",$1:cb})).WithHole({$:0,$0:"docs",$1:ca})).WithHole({$:0,$0:"actions",$1:b$})).WithHole({$:0,$0:"queries",$1:b_})),(ce=_.CompleteHoles(b9.k,b9.h,[]),(cf=new $.New(ce[1],D.appfwkclient(ce[0])),(b9.i=cf,cf)))).get_Doc();});C.actHello=r.newAct("Hello",function(){self.alert("Hello!");});C.qryDocs=r.newQry("getDocNames",function(){return O.ofSeq(I.collect(function(b9){return I.map(function(b_){return b9.plgName+"."+b_.docName;},b9.plgDocs);},(r.plugIns())["var"].Get()));});r.plugIns().Append(x.New("AppFramework",[r.newVar("mainDocV",r.mainDocV()),r.newVar("titleV",r.titleV())],[],[r.newDoc("AppFwkClient",r.AppFwkClient())],[r.actHello()],[r.qryDocs()]));V.Sink(function(b9){var b_;L.Start((b_=null,L.Delay(function(){return L.Bind(L.Sleep(500),function(){self.document.title=b9;return L.Zero();});})),null);},V.Bind(function(b9){var b_,b$,ca;b_=(b$=d.splitByChar(".",b9),!J.Equals(b$,null)&&b$.length===2?(ca=O.get(b$,1),r.tryGetWoW(O.get(b$,0),ca)):null);return b_==null?r.mainDocV().get_View():b_.$0;},r.titleV().get_View()));C.getMainDoc=bd.Create(function(){p.init(Q.Curried(r.horizontal,5),Q.Curried(r.vertical,5));n.init().f();return r.mainDoc();});C.splitName=r.splitName;C.createSplitterM=(bm=(bn=new bi.New$5(),[[bO,function(b9){return function(b_){return bQ(b9,b_);};}],function(){bn.Clear();}]),(bo=bm[0][1],[function(b9){return(bo(b9))(function(b_){return z.createSplitter(b_[0],b_[1],b_[2],b_[3],b_[4]);});},bm[1]]))[0];C.createButtonM=(bp=(bq=new bi.New$5(),[[bR,function(b9){return function(b_){return bT(b9,b_);};}],function(){bq.Clear();}]),(br=bp[0][1],[function(b9){return(br(b9))(function(b_){return z.createButton(b_[0],b_[1],b_[2],b_[3],b_[4]);});},bp[1]]))[0];C.createInputM=(bs=(bt=new bi.New$5(),[[bU,function(b9){return function(b_){return bW(b9,b_);};}],function(){bt.Clear();}]),(bu=bs[0][1],[function(b9){return(bu(b9))(function(b_){return z.createInput(b_[0],b_[1],b_[2],b_[3]);});},bs[1]]))[0];C.createTextAreaM=(bv=(bw=new bi.New$5(),[[bX,function(b9){return function(b_){return bZ(b9,b_);};}],function(){bw.Clear();}]),(bx=bv[0][1],[function(b9){return(bx(b9))(function(b_){return z.createTextArea(b_[0],b_[1],b_[2],b_[3]);});},bv[1]]))[0];C.createElementM=(by=(bz=new bi.New$5(),[[b0,function(b9){return function(b_){return b2(b9,b_);};}],function(){bz.Clear();}]),(bA=by[0][1],[function(b9){return(bA(b9))(function(b_){return z.createElement(b_[0],b_[1],b_[2],b_[3],b_[4]);});},by[1]]))[0];C.createDocM=(bB=(bC=new bi.New$5(),[[b3,function(b9){return function(b_){return b5(b9,b_);};}],function(){bC.Clear();}]),(bD=bB[0][1],[function(b9){return(bD(b9))(function(b_){return z.createDoc(b_[0],b_[1],b_[2],b_[3]);});},bB[1]]))[0];C.createVarM=(bE=(bF=new bi.New$5(),[[b6,function(b9){return function(b_){return b8(b9,b_);};}],function(){bF.Clear();}]),(bG=bE[0][1],[function(b9){return(bG(b9))(function(b_){return z.createVar(b_[0],b_[1],b_[2]);});},bE[1]]))[0];bH=r.tryGetPlugIn("AppFramework");bH==null?void 0:(bI=bH.$0,r.addPlugIn(x.New(bI.plgName,bI.plgVars,bI.plgViews,bI.plgDocs,bI.plgActions.concat([r.newActF("AddLayout",{$:2,$0:function(b9){return function(b_){return z.addNewLayout(b9,b_);};},$1:"[Name]",$2:"[Layout]"})]),bI.plgQueries)));};D.wcompsplitterver=function(bk){return bk?_2.GetOrLoadTemplate("appframework",{$:1,$0:"wcompsplitterver"},function(){return bj.parseHTML("<div ws-onafterrender=\"AfterRender\" style=\"display: grid; \r\n                grid-gap: 5px; \r\n                box-sizing: border-box; \r\n                grid-template-areas: 'one two'; \r\n                grid-template-rows   :100%; \r\n                overflow: hidden; \r\n                grid-template-columns: ${PartSizes}\">\r\n        <slot></slot>\r\n        <slot name=\"splitter\"> <div style=\"grid-column:2; grid-row:1 / 1 ; cursor: col-resize; z-index: 3; background-color: #eef ; width: ${Gap}; margin-left :-${Gap}\" ws-onmousedown=\"MouseDown\" ws-onafterrender=\"AfterRenderSp\"></div> </slot>\r\n        <style>\r\n            ::slotted(*) {\r\n                display: grid;\r\n                height : 100%;\r\n                width  : 100%;\r\n                overflow: hidden;\r\n            }\r\n            ::slotted(*:nth-child(2)) {\r\n                grid-area: two;\r\n            }\r\n            ::slotted(*[slot=\"splitter\"]) {\r\n                grid-column:2; grid-row:1 / 1\r\n                cursor: column-resize; \r\n                z-index: 3; \r\n                background-color: #eef ; \r\n                width: ${Gap}; \r\n                margin-left:-${Gap}\r\n            }\r\n        </style>\r\n    </div>");},bk):_2.PrepareTemplate("appframework",{$:1,$0:"wcompsplitterver"},function(){return bj.parseHTML("<div ws-onafterrender=\"AfterRender\" style=\"display: grid; \r\n                grid-gap: 5px; \r\n                box-sizing: border-box; \r\n                grid-template-areas: 'one two'; \r\n                grid-template-rows   :100%; \r\n                overflow: hidden; \r\n                grid-template-columns: ${PartSizes}\">\r\n        <slot></slot>\r\n        <slot name=\"splitter\"> <div style=\"grid-column:2; grid-row:1 / 1 ; cursor: col-resize; z-index: 3; background-color: #eef ; width: ${Gap}; margin-left :-${Gap}\" ws-onmousedown=\"MouseDown\" ws-onafterrender=\"AfterRenderSp\"></div> </slot>\r\n        <style>\r\n            ::slotted(*) {\r\n                display: grid;\r\n                height : 100%;\r\n                width  : 100%;\r\n                overflow: hidden;\r\n            }\r\n            ::slotted(*:nth-child(2)) {\r\n                grid-area: two;\r\n            }\r\n            ::slotted(*[slot=\"splitter\"]) {\r\n                grid-column:2; grid-row:1 / 1\r\n                cursor: column-resize; \r\n                z-index: 3; \r\n                background-color: #eef ; \r\n                width: ${Gap}; \r\n                margin-left:-${Gap}\r\n            }\r\n        </style>\r\n    </div>");});};D.wcompsplitterhor=function(bk){return bk?_2.GetOrLoadTemplate("appframework",{$:1,$0:"wcompsplitterhor"},function(){return bj.parseHTML("<div ws-onafterrender=\"AfterRender\" style=\"display: grid;\r\n                grid-gap: 5px; \r\n                box-sizing: border-box; \r\n                grid-template-areas: 'one' 'two'; \r\n                grid-template-columns:100%; \r\n                overflow: hidden; \r\n                grid-template-rows   : ${PartSizes}\">\r\n         <slot></slot>\r\n        <slot name=\"splitter\">  <div style=\"grid-row:2; grid-column:1 / 1 ; cursor: row-resize; z-index: 3; background-color: #eef ; height: ${Gap}; margin-top :-${Gap}\" ws-onmousedown=\"MouseDown\" ws-onafterrender=\"AfterRenderSp\"></div> </slot>\r\n        <style>\r\n            ::slotted(*) {\r\n                display: grid;\r\n                height : 100%;\r\n                width  : 100%;\r\n                overflow: hidden;\r\n            }\r\n            ::slotted(*:nth-child(2)) {\r\n                grid-area: two;\r\n            }\r\n            ::slotted(*[slot=\"splitter\"]) {\r\n                grid-row:2; grid-column:1 / 1 ; \r\n                cursor: row-resize; \r\n                z-index: 3; \r\n                background-color: #eef ; \r\n                height: ${Gap}; \r\n                margin-top :-${Gap}\r\n            }\r\n        </style>\r\n    </div>");},bk):_2.PrepareTemplate("appframework",{$:1,$0:"wcompsplitterhor"},function(){return bj.parseHTML("<div ws-onafterrender=\"AfterRender\" style=\"display: grid;\r\n                grid-gap: 5px; \r\n                box-sizing: border-box; \r\n                grid-template-areas: 'one' 'two'; \r\n                grid-template-columns:100%; \r\n                overflow: hidden; \r\n                grid-template-rows   : ${PartSizes}\">\r\n         <slot></slot>\r\n        <slot name=\"splitter\">  <div style=\"grid-row:2; grid-column:1 / 1 ; cursor: row-resize; z-index: 3; background-color: #eef ; height: ${Gap}; margin-top :-${Gap}\" ws-onmousedown=\"MouseDown\" ws-onafterrender=\"AfterRenderSp\"></div> </slot>\r\n        <style>\r\n            ::slotted(*) {\r\n                display: grid;\r\n                height : 100%;\r\n                width  : 100%;\r\n                overflow: hidden;\r\n            }\r\n            ::slotted(*:nth-child(2)) {\r\n                grid-area: two;\r\n            }\r\n            ::slotted(*[slot=\"splitter\"]) {\r\n                grid-row:2; grid-column:1 / 1 ; \r\n                cursor: row-resize; \r\n                z-index: 3; \r\n                background-color: #eef ; \r\n                height: ${Gap}; \r\n                margin-top :-${Gap}\r\n            }\r\n        </style>\r\n    </div>");});};D.appframework=function(bk){return bk?_2.GetOrLoadTemplate("appframework",{$:1,$0:"appframework"},function(){return bj.parseHTML("<div style=\"height: calc(100vh - 4px); width: calc(100vw - 4px) \" class=\"relative\">\r\n        <wcomp-splitter value=\"0\" min=\"0\" max=\"100\">\r\n            <div><button ws-onclick=\"GoClient\">${MainDoc}</button></div>\r\n            <div ws-hole=\"MainClient\"></div>\r\n        </wcomp-splitter>\r\n        <style style=\"display: none\">\r\n            .Hidden     { display   : none         }\r\n            table th,table td { padding:0 5px 0 5px; text-overflow: ellipsis }\r\n            td input.form-control { \r\n                padding    : 0px; \r\n                font-family: monospace;\r\n                font-size  :   small;\r\n                margin-top :   0px;\r\n                margin-left: -2px;\r\n                width      : 100%\r\n            }\r\n            td select {\r\n                font-size : smaller;\r\n                max-width : 8ch;\r\n            }\r\n            xtextarea {\r\n               resize : none;\r\n            }\r\n            .tab-content {\r\n                overflow: hidden\r\n            }\r\n            .tab-children {\r\n                position:relative;\r\n            }\r\n            .tab-children>div>* {\r\n                position:absolute;\r\n                height: 100%;\r\n                width:  100%;\r\n                display: grid;\r\n            }\r\n            .relative {\r\n                position:relative;\r\n            }\r\n            .relative>* {\r\n                position:absolute;\r\n                height: 100%;\r\n                width:  100%;\r\n                display: grid;\r\n            }\r\n            table.table-striped    tbody tr:nth-child(even) { background: #EEE  }\r\n            table.table-striped    tbody tr:nth-child(odd ) { background: #FFF  }\r\n            table.table-striped    tbody input              { background: transparent; border: none}\r\n            table.table-striped    tbody select             { background: transparent; border: none}\r\n            table.table-nonstriped tbody tr:nth-child(even) { background: inherit }\r\n            table.table-nonstriped tbody tr:nth-child(odd ) { background: inherit }\r\n            table.table            tbody tr.hover           { border    : solid thin transparent; } \r\n            table.table            tbody tr.hover:hover     { border    : solid thin blue     ; } \r\n            table.table            tbody th:hover           { background: gray; cursor: pointer }\r\n            table.table            tbody tr.hover:hover>td  { border-top: solid thin blue     ; \r\n                                                       border-bottom: solid thin blue     ; } \r\n            table.table            tbody tr.selected { background   : #b9eeff             ; }\r\n            table.table            tbody tr.formula.selected { background: #20f7f7             ; }\r\n            thead { color: gray }\r\n            h3 { \r\n                color: gray;\r\n                line-height: 1em;\r\n            }\r\n            button       { border: solid thin transparent ; border-radius: 3px; }\r\n            button:hover { border: solid thin blue }\r\n            .indenter { position  : absolute; \r\n                        top:0px; bottom:0px; left:0px; \r\n                        background: white; color:white;\r\n                        border-right: gray thin dotted;\r\n                        }\r\n            body {\r\n                color      : #333;\r\n                font-size  : small;\r\n                font-family: monospace;\r\n                line-height: 1.2;\r\n            }\r\n            .mainTitle {  \r\n                font-size: 48px;\r\n                font-weight: 500;\r\n                color: gray;\r\n                margin-top: -12px;\r\n            }\r\n            .CodeMirror {\r\n                height: 100%;\r\n            }\r\n            \r\n          \r\n            body { margin: 0px }     \r\n                 \r\n            div textarea {\r\n                font-family     : monospace;\r\n            }\r\n            .code-editor-list-tile {\r\n                white-space     : nowrap; \r\n                border-style    : solid none none;\r\n                border-color    : white;\r\n                border-width    : 1px;\r\n                background-color: #D8D8D8;\r\n                display         : flex;\r\n            }\r\n            .code-editor-list-text{\r\n                padding         : 1px 10px 1px 5px;\r\n                overflow        : hidden;\r\n                text-overflow   : ellipsis;\r\n                white-space     : nowrap;\r\n                flex            : 1;\r\n            }\r\n            \r\n            .code-editor-list-tile span.node.ErrorMsg {\r\n                background-color: red\r\n            }\r\n            .code-editor-list-tile span.node.expanded::before {\r\n                content: \"-\"\r\n            }\r\n            .code-editor-list-tile span.node.collapsed::before {\r\n                content: \"+\"\r\n            }\r\n            .code-editor-list-tile.direct-predecessor {\r\n                font-weight     : bold;\r\n                color           : blue;\r\n            }\r\n            .code-editor-list-tile.indirect-predecessor {\r\n                color           : blue;\r\n            }\r\n            .code-editor-list-tile.included-predecessor {\r\n                color           : chocolate;\r\n            }\r\n            .code-editor-list-tile.selected {\r\n                background-color: #77F;\r\n                color           : white;\r\n            }\r\n            .code-editor-list-tile.codeSnippet {\r\n                text-decoration: underline\r\n            }\r\n            .code-editor-list-tile:hover {\r\n                background      : lightgray;\r\n            }\r\n            .code-editor-list-tile.selected:hover {\r\n                background      : blue;\r\n            }\r\n            .code-editor-list-tile>.predecessor {\r\n                font-weight     : bold;\r\n                border-style    : inset;\r\n                border-width    : 1px;\r\n                text-align      : center;\r\n                color           : transparent;\r\n            }\r\n            .code-editor-list-tile.direct-predecessor>.predecessor {\r\n                color           : blue;\r\n            }\r\n            \r\n            .CodeMirror { height: 100%; }\r\n            \r\n            .node {\r\n                background-color: white; \r\n                width           : 2ch; \r\n                color           : #A03; \r\n                font-weight     : bold; \r\n                text-align      : center;\r\n                font-family     : arial;\r\n            }\r\n            .Warning { text-decoration: underline lightblue } \r\n            .Error   { text-decoration: underline red       } \r\n            \r\n        </style>\r\n    </div>");},bk):_2.PrepareTemplate("appframework",{$:1,$0:"appframework"},function(){return bj.parseHTML("<div style=\"height: calc(100vh - 4px); width: calc(100vw - 4px) \" class=\"relative\">\r\n        <wcomp-splitter value=\"0\" min=\"0\" max=\"100\">\r\n            <div><button ws-onclick=\"GoClient\">${MainDoc}</button></div>\r\n            <div ws-hole=\"MainClient\"></div>\r\n        </wcomp-splitter>\r\n        <style style=\"display: none\">\r\n            .Hidden     { display   : none         }\r\n            table th,table td { padding:0 5px 0 5px; text-overflow: ellipsis }\r\n            td input.form-control { \r\n                padding    : 0px; \r\n                font-family: monospace;\r\n                font-size  :   small;\r\n                margin-top :   0px;\r\n                margin-left: -2px;\r\n                width      : 100%\r\n            }\r\n            td select {\r\n                font-size : smaller;\r\n                max-width : 8ch;\r\n            }\r\n            xtextarea {\r\n               resize : none;\r\n            }\r\n            .tab-content {\r\n                overflow: hidden\r\n            }\r\n            .tab-children {\r\n                position:relative;\r\n            }\r\n            .tab-children>div>* {\r\n                position:absolute;\r\n                height: 100%;\r\n                width:  100%;\r\n                display: grid;\r\n            }\r\n            .relative {\r\n                position:relative;\r\n            }\r\n            .relative>* {\r\n                position:absolute;\r\n                height: 100%;\r\n                width:  100%;\r\n                display: grid;\r\n            }\r\n            table.table-striped    tbody tr:nth-child(even) { background: #EEE  }\r\n            table.table-striped    tbody tr:nth-child(odd ) { background: #FFF  }\r\n            table.table-striped    tbody input              { background: transparent; border: none}\r\n            table.table-striped    tbody select             { background: transparent; border: none}\r\n            table.table-nonstriped tbody tr:nth-child(even) { background: inherit }\r\n            table.table-nonstriped tbody tr:nth-child(odd ) { background: inherit }\r\n            table.table            tbody tr.hover           { border    : solid thin transparent; } \r\n            table.table            tbody tr.hover:hover     { border    : solid thin blue     ; } \r\n            table.table            tbody th:hover           { background: gray; cursor: pointer }\r\n            table.table            tbody tr.hover:hover>td  { border-top: solid thin blue     ; \r\n                                                       border-bottom: solid thin blue     ; } \r\n            table.table            tbody tr.selected { background   : #b9eeff             ; }\r\n            table.table            tbody tr.formula.selected { background: #20f7f7             ; }\r\n            thead { color: gray }\r\n            h3 { \r\n                color: gray;\r\n                line-height: 1em;\r\n            }\r\n            button       { border: solid thin transparent ; border-radius: 3px; }\r\n            button:hover { border: solid thin blue }\r\n            .indenter { position  : absolute; \r\n                        top:0px; bottom:0px; left:0px; \r\n                        background: white; color:white;\r\n                        border-right: gray thin dotted;\r\n                        }\r\n            body {\r\n                color      : #333;\r\n                font-size  : small;\r\n                font-family: monospace;\r\n                line-height: 1.2;\r\n            }\r\n            .mainTitle {  \r\n                font-size: 48px;\r\n                font-weight: 500;\r\n                color: gray;\r\n                margin-top: -12px;\r\n            }\r\n            .CodeMirror {\r\n                height: 100%;\r\n            }\r\n            \r\n          \r\n            body { margin: 0px }     \r\n                 \r\n            div textarea {\r\n                font-family     : monospace;\r\n            }\r\n            .code-editor-list-tile {\r\n                white-space     : nowrap; \r\n                border-style    : solid none none;\r\n                border-color    : white;\r\n                border-width    : 1px;\r\n                background-color: #D8D8D8;\r\n                display         : flex;\r\n            }\r\n            .code-editor-list-text{\r\n                padding         : 1px 10px 1px 5px;\r\n                overflow        : hidden;\r\n                text-overflow   : ellipsis;\r\n                white-space     : nowrap;\r\n                flex            : 1;\r\n            }\r\n            \r\n            .code-editor-list-tile span.node.ErrorMsg {\r\n                background-color: red\r\n            }\r\n            .code-editor-list-tile span.node.expanded::before {\r\n                content: \"-\"\r\n            }\r\n            .code-editor-list-tile span.node.collapsed::before {\r\n                content: \"+\"\r\n            }\r\n            .code-editor-list-tile.direct-predecessor {\r\n                font-weight     : bold;\r\n                color           : blue;\r\n            }\r\n            .code-editor-list-tile.indirect-predecessor {\r\n                color           : blue;\r\n            }\r\n            .code-editor-list-tile.included-predecessor {\r\n                color           : chocolate;\r\n            }\r\n            .code-editor-list-tile.selected {\r\n                background-color: #77F;\r\n                color           : white;\r\n            }\r\n            .code-editor-list-tile.codeSnippet {\r\n                text-decoration: underline\r\n            }\r\n            .code-editor-list-tile:hover {\r\n                background      : lightgray;\r\n            }\r\n            .code-editor-list-tile.selected:hover {\r\n                background      : blue;\r\n            }\r\n            .code-editor-list-tile>.predecessor {\r\n                font-weight     : bold;\r\n                border-style    : inset;\r\n                border-width    : 1px;\r\n                text-align      : center;\r\n                color           : transparent;\r\n            }\r\n            .code-editor-list-tile.direct-predecessor>.predecessor {\r\n                color           : blue;\r\n            }\r\n            \r\n            .CodeMirror { height: 100%; }\r\n            \r\n            .node {\r\n                background-color: white; \r\n                width           : 2ch; \r\n                color           : #A03; \r\n                font-weight     : bold; \r\n                text-align      : center;\r\n                font-family     : arial;\r\n            }\r\n            .Warning { text-decoration: underline lightblue } \r\n            .Error   { text-decoration: underline red       } \r\n            \r\n        </style>\r\n    </div>");});};E.p=function(bk){return"{"+("docName = "+M.prettyPrint(bk.docName))+"; "+("docDoc = "+F.p(bk.docDoc))+"}";};F.p=function(bk){return bk.$==5?"FunDoc5 (<fun>, "+M.prettyPrint(bk.$1)+", "+M.prettyPrint(bk.$2)+", "+M.prettyPrint(bk.$3)+", "+M.prettyPrint(bk.$4)+", "+M.prettyPrint(bk.$5)+")":bk.$==4?"FunDoc4 (<fun>, "+M.prettyPrint(bk.$1)+", "+M.prettyPrint(bk.$2)+", "+M.prettyPrint(bk.$3)+", "+M.prettyPrint(bk.$4)+")":bk.$==3?"FunDoc3 (<fun>, "+M.prettyPrint(bk.$1)+", "+M.prettyPrint(bk.$2)+", "+M.prettyPrint(bk.$3)+")":bk.$==2?"FunDoc2 (<fun>, "+M.prettyPrint(bk.$1)+", "+M.prettyPrint(bk.$2)+")":bk.$==1?"FunDoc1 (<fun>, "+M.prettyPrint(bk.$1)+")":"LazyDoc "+M.prettyPrint(bk.$0);};D.tile=function(bk){return bk?_2.GetOrLoadTemplate("appframework",{$:1,$0:"tile"},function(){return bj.parseHTML("<div>\r\n                                        <div draggable=\"true\" class=\"code-editor-list-tile ${Predecessor} ${Selected}\" ws-ondrag=\"Drag\" ws-ondragover=\"DragOver\" ws-ondrop=\"Drop\">\r\n                                       <span class=\"node ${Parent} ${ErrorMsg}\" title=\"expand\" ws-onclick=\"ToggleCollapse\"></span>\r\n                                       <div class=\"code-editor-list-text\" style=\"text-indent:${Indent}em; white-space: pre\" ws-onclick=\"Select\" ws-onafterrender=\"AfterRender\">${Name}</div>\r\n                                       <span class=\"predecessor\" title=\"toggle predecessor\" ws-onclick=\"TogglePred\">X</span>\r\n                                   </div>\r\n                           \r\n                                    </div>");},bk):_2.PrepareTemplate("appframework",{$:1,$0:"tile"},function(){return bj.parseHTML("<div>\r\n                                        <div draggable=\"true\" class=\"code-editor-list-tile ${Predecessor} ${Selected}\" ws-ondrag=\"Drag\" ws-ondragover=\"DragOver\" ws-ondrop=\"Drop\">\r\n                                       <span class=\"node ${Parent} ${ErrorMsg}\" title=\"expand\" ws-onclick=\"ToggleCollapse\"></span>\r\n                                       <div class=\"code-editor-list-text\" style=\"text-indent:${Indent}em; white-space: pre\" ws-onclick=\"Select\" ws-onafterrender=\"AfterRender\">${Name}</div>\r\n                                       <span class=\"predecessor\" title=\"toggle predecessor\" ws-onclick=\"TogglePred\">X</span>\r\n                                   </div>\r\n                           \r\n                                    </div>");});};D.actiondisabled=function(bk){return bk?_2.GetOrLoadTemplate("appframework",{$:1,$0:"actiondisabled"},function(){return bj.parseHTML("<button ws-onclick=\"Click\" class=\"btn\" type=\"button\" id=\"\" disabled=\"\">${Name}</button>");},bk):_2.PrepareTemplate("appframework",{$:1,$0:"actiondisabled"},function(){return bj.parseHTML("<button ws-onclick=\"Click\" class=\"btn\" type=\"button\" id=\"\" disabled=\"\">${Name}</button>");});};D.action=function(bk){return bk?_2.GetOrLoadTemplate("appframework",{$:1,$0:"action"},function(){return bj.parseHTML("<button ws-onclick=\"Click\" class=\"btn\" type=\"button\" id=\"\">${Name}</button>");},bk):_2.PrepareTemplate("appframework",{$:1,$0:"action"},function(){return bj.parseHTML("<button ws-onclick=\"Click\" class=\"btn\" type=\"button\" id=\"\">${Name}</button>");});};D.namevalue=function(bk){return bk?_2.GetOrLoadTemplate("appframework",{$:1,$0:"namevalue"},function(){return bj.parseHTML("<div class=\"input-group\">\r\n                                                            <span class=\"input-group-addon\">${Name}:</span>\r\n                                                            <span class=\"input-group-addon\">${Value}</span>\r\n                                                        </div>");},bk):_2.PrepareTemplate("appframework",{$:1,$0:"namevalue"},function(){return bj.parseHTML("<div class=\"input-group\">\r\n                                                            <span class=\"input-group-addon\">${Name}:</span>\r\n                                                            <span class=\"input-group-addon\">${Value}</span>\r\n                                                        </div>");});};D.namevalueinput=function(bk){return bk?_2.GetOrLoadTemplate("appframework",{$:1,$0:"namevalueinput"},function(){return bj.parseHTML("<div class=\"input-group\">\r\n                                                            <span class=\"input-group-addon\">${Name}:</span>\r\n                                                            <textarea class=\"form-control\" id=\"\" placeholder=\"Value...\" ws-var=\"Value\" spellcheck=\"false\">\r\n                                                        </textarea></div>");},bk):_2.PrepareTemplate("appframework",{$:1,$0:"namevalueinput"},function(){return bj.parseHTML("<div class=\"input-group\">\r\n                                                            <span class=\"input-group-addon\">${Name}:</span>\r\n                                                            <textarea class=\"form-control\" id=\"\" placeholder=\"Value...\" ws-var=\"Value\" spellcheck=\"false\">\r\n                                                        </textarea></div>");});};D.fixedsplitterhor=function(bk){return bk?_2.GetOrLoadTemplate("appframework",{$:1,$0:"fixedsplitterhor"},function(){return bj.parseHTML("<div style=\"display: grid; \r\n          grid-gap: 0px; \r\n          box-sizing: border-box; \r\n          height: 100%;\r\n          width : 100%;\r\n          grid-template-areas: 'one' 'two'; \r\n          grid-template-columns:100%; \r\n          overflow: hidden; \r\n          grid-template-rows   : ${PartSizes}\">\r\n  <div ws-hole=\"First\" style=\"grid-area: one; \" class=\"relative\"></div>\r\n  <div ws-hole=\"Second\" style=\"grid-area: two; \" class=\"relative\"></div>\r\n    </div>");},bk):_2.PrepareTemplate("appframework",{$:1,$0:"fixedsplitterhor"},function(){return bj.parseHTML("<div style=\"display: grid; \r\n          grid-gap: 0px; \r\n          box-sizing: border-box; \r\n          height: 100%;\r\n          width : 100%;\r\n          grid-template-areas: 'one' 'two'; \r\n          grid-template-columns:100%; \r\n          overflow: hidden; \r\n          grid-template-rows   : ${PartSizes}\">\r\n  <div ws-hole=\"First\" style=\"grid-area: one; \" class=\"relative\"></div>\r\n  <div ws-hole=\"Second\" style=\"grid-area: two; \" class=\"relative\"></div>\r\n    </div>");});};D.fixedsplitterver=function(bk){return bk?_2.GetOrLoadTemplate("appframework",{$:1,$0:"fixedsplitterver"},function(){return bj.parseHTML("<div style=\"display: grid; \r\n               grid-gap: 0px; \r\n               box-sizing: border-box; \r\n               height: 100%;\r\n               width : 100%;\r\n               grid-template-areas: 'one two'; \r\n               grid-template-rows   :100%; \r\n               overflow: hidden; \r\n               grid-template-columns: ${PartSizes}\">\r\n       <div ws-hole=\"First\" style=\"grid-area: one; \" class=\"relative\"></div>\r\n       <div ws-hole=\"Second\" style=\"grid-area: two; \" class=\"relative\"></div>\r\n    </div>");},bk):_2.PrepareTemplate("appframework",{$:1,$0:"fixedsplitterver"},function(){return bj.parseHTML("<div style=\"display: grid; \r\n               grid-gap: 0px; \r\n               box-sizing: border-box; \r\n               height: 100%;\r\n               width : 100%;\r\n               grid-template-areas: 'one two'; \r\n               grid-template-rows   :100%; \r\n               overflow: hidden; \r\n               grid-template-columns: ${PartSizes}\">\r\n       <div ws-hole=\"First\" style=\"grid-area: one; \" class=\"relative\"></div>\r\n       <div ws-hole=\"Second\" style=\"grid-area: two; \" class=\"relative\"></div>\r\n    </div>");});};D.appfwkclient=function(bk){var bl;bl={$:1,$0:"appfwkclient"};D.fixedsplitterhor();D.fixedsplitterver();return bk?_2.GetOrLoadTemplate("appframework",bl,function(){return bj.parseHTML("<div>\r\n        <ws-fixedsplitterhor>\r\n            <partsizes>55px calc(100% - 55px)</partsizes>\r\n            <first>\r\n                <span style=\"display: grid;\r\n                      grid-template-columns: 30% 20% 20% 10%;\r\n                      grid-gap: 25px;\r\n                    \">\r\n                    <div class=\"mainTitle\">AppFramework</div>\r\n                </span>\r\n            </first>\r\n            <second>\r\n                    <ws-fixedsplitterver>\r\n                        <partsizes>calc(100% - 150px) 150px</partsizes>\r\n                        <first>\r\n                            <wcomp-splitter vertical=\"\" value=\"18\" max=\"100\">\r\n                                <div><div ws-hole=\"PlugIns\" style=\"overflow:auto\">\r\n                                    \r\n                                </div></div>\r\n                                <wcomp-splitter vertical=\"\" value=\"100\" min=\"30\" max=\"100\">\r\n                                    <ws-fixedsplitterhor>\r\n                                        <partsizes>32px calc(100% - 32px)</partsizes>\r\n                                        <first>\r\n                                            <div>\r\n                                                <div class=\"input-group\">\r\n                                                    <span class=\"input-group-addon\">name:</span>\r\n                                                    <span class=\"input-group-addon\">${PlugInName}</span>\r\n                                                </div>\r\n                                            </div>\r\n                                        </first>\r\n                                        <second>\r\n                                            <div style=\"overflow:auto\">\r\n                                                <div>\r\n                                                    <div>Docs:</div>\r\n                                                    <div ws-hole=\"Docs\" style=\"overflow:auto\"></div>\r\n                                                </div>\r\n                                                <div>\r\n                                                    <div>Vars:</div>\r\n                                                    <div ws-hole=\"Vars\" style=\"overflow:auto\">\r\n                                                            \r\n                                                    </div>\r\n                                                </div>\r\n                                                <div>\r\n                                                    <div>Views:</div>\r\n                                                    <div ws-hole=\"Views\" style=\"overflow:auto\">\r\n                                                        \r\n                                                    </div>\r\n                                                </div>\r\n                                                <div>\r\n                                                    <div>Queries:</div>\r\n                                                    <div ws-hole=\"Queries\" style=\"overflow:auto\"></div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </second>\r\n                                    </ws-fixedsplitterhor>\r\n                                    <wcomp-tabstrip>\r\n                                        <div tabname=\"Properties\">\r\n                                            <div>\r\n                                                <table style=\"border-spacing:0px\">\r\n                                                    <thead>\r\n                                                        <th style=\"width: 30%  \">Name</th>\r\n                                                        <th style=\"width: 70% \">Value</th>\r\n                                                    </thead>\r\n                                                    <tbody ws-hole=\"Properties\"></tbody>\r\n                                                </table>\r\n                                                <button ws-onclick=\"AddProperty\" class=\"add is-small\">add ...</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </wcomp-tabstrip>\r\n                                </wcomp-splitter>\r\n                            </wcomp-splitter>\r\n                        </first>\r\n                        <second>\r\n                            <div style=\"\r\n                                overflow: hidden;\r\n                                display: grid;\r\n                                grid-template-columns: 100%;\r\n                                grid-template-rows: repeat(15, calc(100% / 15));\r\n                                bxackground-color: #eee;\r\n                                box-sizing: border-box;\r\n                                padding : 5px;\r\n                                grid-gap: 5px;\r\n                                margin-right: 21px;\r\n                           \" class=\"absolute\" ws-hole=\"Actions\">\r\n                                \r\n                                \r\n                            </div>\r\n                        </second>\r\n                    </ws-fixedsplitterver>\r\n            </second>\r\n        </ws-fixedsplitterhor>\r\n    </div>");},bk):_2.PrepareTemplate("appframework",bl,function(){return bj.parseHTML("<div>\r\n        <ws-fixedsplitterhor>\r\n            <partsizes>55px calc(100% - 55px)</partsizes>\r\n            <first>\r\n                <span style=\"display: grid;\r\n                      grid-template-columns: 30% 20% 20% 10%;\r\n                      grid-gap: 25px;\r\n                    \">\r\n                    <div class=\"mainTitle\">AppFramework</div>\r\n                </span>\r\n            </first>\r\n            <second>\r\n                    <ws-fixedsplitterver>\r\n                        <partsizes>calc(100% - 150px) 150px</partsizes>\r\n                        <first>\r\n                            <wcomp-splitter vertical=\"\" value=\"18\" max=\"100\">\r\n                                <div><div ws-hole=\"PlugIns\" style=\"overflow:auto\">\r\n                                    \r\n                                </div></div>\r\n                                <wcomp-splitter vertical=\"\" value=\"100\" min=\"30\" max=\"100\">\r\n                                    <ws-fixedsplitterhor>\r\n                                        <partsizes>32px calc(100% - 32px)</partsizes>\r\n                                        <first>\r\n                                            <div>\r\n                                                <div class=\"input-group\">\r\n                                                    <span class=\"input-group-addon\">name:</span>\r\n                                                    <span class=\"input-group-addon\">${PlugInName}</span>\r\n                                                </div>\r\n                                            </div>\r\n                                        </first>\r\n                                        <second>\r\n                                            <div style=\"overflow:auto\">\r\n                                                <div>\r\n                                                    <div>Docs:</div>\r\n                                                    <div ws-hole=\"Docs\" style=\"overflow:auto\"></div>\r\n                                                </div>\r\n                                                <div>\r\n                                                    <div>Vars:</div>\r\n                                                    <div ws-hole=\"Vars\" style=\"overflow:auto\">\r\n                                                            \r\n                                                    </div>\r\n                                                </div>\r\n                                                <div>\r\n                                                    <div>Views:</div>\r\n                                                    <div ws-hole=\"Views\" style=\"overflow:auto\">\r\n                                                        \r\n                                                    </div>\r\n                                                </div>\r\n                                                <div>\r\n                                                    <div>Queries:</div>\r\n                                                    <div ws-hole=\"Queries\" style=\"overflow:auto\"></div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </second>\r\n                                    </ws-fixedsplitterhor>\r\n                                    <wcomp-tabstrip>\r\n                                        <div tabname=\"Properties\">\r\n                                            <div>\r\n                                                <table style=\"border-spacing:0px\">\r\n                                                    <thead>\r\n                                                        <th style=\"width: 30%  \">Name</th>\r\n                                                        <th style=\"width: 70% \">Value</th>\r\n                                                    </thead>\r\n                                                    <tbody ws-hole=\"Properties\"></tbody>\r\n                                                </table>\r\n                                                <button ws-onclick=\"AddProperty\" class=\"add is-small\">add ...</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </wcomp-tabstrip>\r\n                                </wcomp-splitter>\r\n                            </wcomp-splitter>\r\n                        </first>\r\n                        <second>\r\n                            <div style=\"\r\n                                overflow: hidden;\r\n                                display: grid;\r\n                                grid-template-columns: 100%;\r\n                                grid-template-rows: repeat(15, calc(100% / 15));\r\n                                bxackground-color: #eee;\r\n                                box-sizing: border-box;\r\n                                padding : 5px;\r\n                                grid-gap: 5px;\r\n                                margin-right: 21px;\r\n                           \" class=\"absolute\" ws-hole=\"Actions\">\r\n                                \r\n                                \r\n                            </div>\r\n                        </second>\r\n                    </ws-fixedsplitterver>\r\n            </second>\r\n        </ws-fixedsplitterhor>\r\n    </div>");});};}());
