(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1;a=self;b=a.FsRoot=a.FsRoot||{};c=b.Library=b.Library||{};d=c.ResultMessage=c.ResultMessage||{};e=c.ResultMessageHelpers=c.ResultMessageHelpers||{};f=c.Monads=c.Monads||{};g=f.Seq=f.Seq||{};h=f.Option=f.Option||{};i=f.Async=f.Async||{};j=a.WebSharper;k=j&&j.Obj;l=f.Result=f.Result||{};m=l.Builder=l.Builder||{};n=l.Operators=l.Operators||{};o=f.FusionM=f.FusionM||{};p=o.Operators=o.Operators||{};q=o.Builder=o.Builder||{};r=q.Builder=q.Builder||{};s=f.FusionAsyncM=f.FusionAsyncM||{};t=s.Operators=s.Operators||{};u=s.Builder=s.Builder||{};v=u.Builder=u.Builder||{};w=f.ResultM=f.ResultM||{};x=w.Builder=w.Builder||{};y=w.Operators=w.Operators||{};z=f.ResultMAutoOpen=f.ResultMAutoOpen||{};A=f.AsyncResult=f.AsyncResult||{};B=f.AsyncResultBuilder=f.AsyncResultBuilder||{};C=f.AsyncResultBuilderP=f.AsyncResultBuilderP||{};D=f.Extensions=f.Extensions||{};E=f.AsyncResultM=f.AsyncResultM||{};F=E.AsyncResultMBuilder=E.AsyncResultMBuilder||{};G=f.AsyncResultMAutoOpen=f.AsyncResultMAutoOpen||{};H=c.String=c.String||{};I=c.ParseO=c.ParseO||{};J=c.MailboxProcessorExt=c.MailboxProcessorExt||{};K=c.Mailbox=c.Mailbox||{};L=K.StateFull=K.StateFull||{};M=c.ResourceAgentState=c.ResourceAgentState||{};N=c.ResourceAgent=c.ResourceAgent||{};O=c.AgentReaderM=c.AgentReaderM||{};P=c.CommArgRoot=c.CommArgRoot||{};Q=P.CommArg=P.CommArg||{};R=P.CommArgCollection=P.CommArgCollection||{};S=P.TypedCommArg=P.TypedCommArg||{};T=P.CommArgModule=P.CommArgModule||{};U=c.FsCodeModule=c.FsCodeModule||{};V=U.PreproDirective=U.PreproDirective||{};W=c.SnippetId=c.SnippetId||{};X=c.Snippet=c.Snippet||{};Y=c.SnippetCollection=c.SnippetCollection||{};Z=c.SnippetModule=c.SnippetModule||{};_0=c.Hole=c.Hole||{};_1=c.TreeReader=c.TreeReader||{};_2=_1.Node=_1.Node||{};_3=b.LibraryJS=b.LibraryJS||{};_4=_3.Promise=_3.Promise||{};_5=_3.View=_3.View||{};_6=_3.Pojo=_3.Pojo||{};_7=_3.GenEditor=_3.GenEditor||{};_8=_7.Position=_7.Position||{};_9=_7.AnnotationType=_7.AnnotationType||{};_=_7.Annotation=_7.Annotation||{};$=_7.Completion=_7.Completion||{};ba=_7.GenEditorHook=_7.GenEditorHook||{};bb=_7.GenEditor=_7.GenEditor||{};bc=_3.Serializer=_3.Serializer||{};bd=_3.REGEX=_3.REGEX||{};be=_3.Hoverable=_3.Hoverable||{};bf=be.Hoverable=be.Hoverable||{};bg=_3.ResizeObserver=_3.ResizeObserver||{};bh=_3.WebComponent=_3.WebComponent||{};bi=bh.WcTabStrip=bh.WcTabStrip||{};bj=bi.WcTabStripT=bi.WcTabStripT||{};bk=bh.WcSplitter=bh.WcSplitter||{};bl=bk.WcSplitterT=bk.WcSplitterT||{};bm=_3.Monaco=_3.Monaco||{};bn=bm.Position=bm.Position||{};bo=bm.Range=bm.Range||{};bp=bm.Uri=bm.Uri||{};bq=bm.Location=bm.Location||{};br=bm.FindMatch=bm.FindMatch||{};bs=bm.WordAtPosition=bm.WordAtPosition||{};bt=bm.Model=bm.Model||{};bu=bm.MarkDownString=bm.MarkDownString||{};bv=bm.MarkerData=bm.MarkerData||{};bw=bm.CompletionItem=bm.CompletionItem||{};bx=bm.Hover=bm.Hover||{};by=bm.Editor=bm.Editor||{};bz=bm.MonacoConfig=bm.MonacoConfig||{};bA=_3.MonacoGenAdapter=_3.MonacoGenAdapter||{};bB=bA.MonacoRT=bA.MonacoRT||{};bC=bA.CompletionItemProvider=bA.CompletionItemProvider||{};bD=bA.HoverProvider=bA.HoverProvider||{};bE=bA.DefinitionProvider=bA.DefinitionProvider||{};bF=b.Library2=b.Library2||{};bG=bF.FsiAgent=bF.FsiAgent||{};bH=bF.WebSockets=bF.WebSockets||{};bI=bH.Address=bH.Address||{};bJ=bH.BrokerRequest=bH.BrokerRequest||{};bK=bH.MessageType=bH.MessageType||{};bL=bH.BrokerMessage=bH.BrokerMessage||{};bM=bH.Replier=bH.Replier||{};bN=bH.MessageGeneric=bH.MessageGeneric||{};bO=bH.ClientTypeFSharp=bH.ClientTypeFSharp||{};bP=bH.ClientTypeFSStation=bH.ClientTypeFSStation||{};bQ=bH.ClientTypeJScript=bH.ClientTypeJScript||{};bR=bH.ReplyHandler=bH.ReplyHandler||{};bS=bR.Handler=bR.Handler||{};bT=bH.WSMessagingClient=bH.WSMessagingClient||{};bU=bF.FSMessage=bF.FSMessage||{};bV=bF.FsAutoComplete=bF.FsAutoComplete||{};bW=bV.CommTypes=bV.CommTypes||{};bX=bW.ResponseError=bW.ResponseError||{};bY=bW.Location=bW.Location||{};bZ=bW.CompletionResponse=bW.CompletionResponse||{};b0=bW.OverloadDescription=bW.OverloadDescription||{};b1=bW.OverloadParameter=bW.OverloadParameter||{};b2=bW.Overload=bW.Overload||{};b3=bW.Parameter=bW.Parameter||{};b4=bW.SignatureData=bW.SignatureData||{};b5=bW.MethodResponse=bW.MethodResponse||{};b6=bW.SymbolUseRange=bW.SymbolUseRange||{};b7=bW.SymbolUseResponse=bW.SymbolUseResponse||{};b8=bW.HelpTextResponse=bW.HelpTextResponse||{};b9=bW.CompilerLocationResponse=bW.CompilerLocationResponse||{};b_=bW.FSharpErrorInfo=bW.FSharpErrorInfo||{};b$=bW.ErrorResponse=bW.ErrorResponse||{};ca=bW.Colorization=bW.Colorization||{};cb=bW.Declaration=bW.Declaration||{};cc=bW.DeclarationResponse=bW.DeclarationResponse||{};cd=bW.OpenNamespace=bW.OpenNamespace||{};ce=bW.QualifySymbol=bW.QualifySymbol||{};cf=bW.ResolveNamespaceResponse=bW.ResolveNamespaceResponse||{};cg=bW.UnionCaseResponse=bW.UnionCaseResponse||{};ch=bV.MsgTypes=bV.MsgTypes||{};ci=ch.ParseRequest=ch.ParseRequest||{};cj=ch.DeclarationsRequest=ch.DeclarationsRequest||{};ck=ch.CompletionRequest=ch.CompletionRequest||{};cl=ch.PositionRequest=ch.PositionRequest||{};cm=ch.ProjectRequest=ch.ProjectRequest||{};cn=ch.LintRequest=ch.LintRequest||{};co=ch.HelptextRequest=ch.HelptextRequest||{};cp=ch.WorkspacePeekRequest=ch.WorkspacePeekRequest||{};cq=bV.Calls=bV.Calls||{};cr=b.FSharpStation=b.FSharpStation||{};cs=cr.FStation=cr.FStation||{};ct=cr.Snippets=cr.Snippets||{};cu=cr.DragDrop=cr.DragDrop||{};cv=cu.DragInfo=cu.DragInfo||{};cw=cr.Templating=cr.Templating||{};cx=cr.RenderSnippets=cr.RenderSnippets||{};cy=cr.RenderProperties=cr.RenderProperties||{};cz=cr.Monaco=cr.Monaco||{};cA=cz.HoverProvider=cz.HoverProvider||{};cB=cz.CompletionItemProvider=cz.CompletionItemProvider||{};cC=cz.DefinitionProvider=cz.DefinitionProvider||{};cD=cz.MonacoOptions=cz.MonacoOptions||{};cE=cz.ITextModelService=cz.ITextModelService||{};cF=cr.JumpTo=cr.JumpTo||{};cG=cr.CustomAction=cr.CustomAction||{};cH=cr.Serializer=cr.Serializer||{};cI=cH.Model=cH.Model||{};cJ=cr.LoadSave=cr.LoadSave||{};cK=cr.Importer=cr.Importer||{};cL=cr.MainProgram=cr.MainProgram||{};cM=cL.EndPoint=cL.EndPoint||{};cN=cr.Messaging=cr.Messaging||{};cO=cr.Server=cr.Server||{};cP=a.StartupCode$FSharpStation$FSharpStation=a.StartupCode$FSharpStation$FSharpStation||{};cQ=a.FSharpStation_JsonEncoder=a.FSharpStation_JsonEncoder||{};cR=a.FSharpStation_JsonDecoder=a.FSharpStation_JsonDecoder||{};cS=a.FSharpStation_GeneratedPrintf=a.FSharpStation_GeneratedPrintf||{};cT=a.FSharpStation_Router=a.FSharpStation_Router||{};cU=a.FSharpStation_Templates=a.FSharpStation_Templates||{};cV=a.GeneratedPrintf=a.GeneratedPrintf||{};cW=a.IntelliFactory;cX=cW&&cW.Runtime;cY=j&&j.Utils;cZ=j&&j.Strings;c0=j&&j.Seq;c1=j&&j.List;c2=j&&j.Arrays;c3=j&&j.Concurrency;c4=j&&j.Enumerator;c5=j&&j.Result;c6=j&&j.Operators;c7=j&&j.Unchecked;c8=j&&j.Slice;c9=j&&j.Control;c_=c9&&c9.MailboxProcessor;c$=a.System;da=c$&&c$.Guid;db=j&&j.Collections;dc=db&&db.FSharpSet;dd=j&&j.Option;de=j&&j.CancellationTokenSource;df=a.console;dg=j&&j.UI;dh=dg&&dg.View;di=dg&&dg.Var$1;dj=db&&db.FSharpMap;dk=db&&db.BalancedTree;dl=dg&&dg.DomUtility;dm=dg&&dg.Doc;dn=dg&&dg.AttrModule;_do=dg&&dg.AttrProxy;dp=a.Node;dq=dg&&dg.Client;dr=dq&&dq.Templates;ds=a.Reflect;dt=a.Object;du=db&&db.Map;dv=a.JSON;dw=j&&j.TimeoutException;dx=j&&j.ClientSideJson;dy=dx&&dx.Provider;dz=j&&j.Owin;dA=dz&&dz.WebSocket;dB=dA&&dA.Client;dC=dB&&dB.WithEncoding;dD=dA&&dA.Endpoint;dE=a.location;dF=j&&j.Remoting;dG=dF&&dF.AjaxRemotingProvider;dH=dg&&dg.FromView;dI=dg&&dg.Templating;dJ=dI&&dI.Runtime;dK=dJ&&dJ.Server;dL=dK&&dK.ProviderBuilder;dM=dK&&dK.Handler;dN=dK&&dK.TemplateInstance;dO=j&&j.JavaScript;dP=dO&&dO.Promise;dQ=_3&&_3.AppFramework;dR=a.Date;dS=dQ&&dQ.PlugIn;dT=j&&j.Lazy;dU=_3&&_3.LayoutEngineModule;dV=j&&j.DateUtil;dW=j&&j.Numeric;dX=dg&&dg.ListModel;dY=db&&db.Dictionary;dZ=dg&&dg.Router;d0=j&&j.Sitelets;d1=d0&&d0.RouterOperators;d=c.ResultMessage=cX.Class({toString:function(){return this.$==1?(function(d2){return function(d3){return d2("Error    : "+cY.toSafe(d3));};}(a.id))(this.$0):this.$==2?(function(d2){return function(d3){return d2("Warning  : "+cY.toSafe(d3));};}(a.id))(this.$0):this.$==3?this.$0:this.$==4?(function(d2){return function(d3){return d2(a.String(d3));};}(a.id))(this.$0):this.$==5?(((cX.Curried3(function(d2,d3,d4){return d2("Exception: "+cY.toSafe(d3)+", "+cY.toSafe(d4));}))(a.id))(this.$0))(this.$1):this.$==6?cZ.concat("\n",c0.map(a.String,c0.filter(function(d2){return d2.$!=0;},this.$0))):"";}},null,d);d.NoMsg=new d({$:0});e.infof=function(d2){return d2(function(d3){return new d({$:3,$0:d3});});};e.warningf=function(d2){return d2(function(d3){return new d({$:2,$0:d3});});};e.errorMsgf=function(d2){return d2(function(d3){return new d({$:1,$0:d3});});};d.summarizedI=function(d2){return d.summarizedF(function(){return[0,0,1];},d2);};d.summarizedW=function(d2){return d.summarizedF(function(){return[0,1,0];},d2);};d.summarized=function(d2){return d.summarizedF(function(){return[1,0,0];},d2);};d.summarizedF=function(d2,d3){return cZ.concat("\n",c0.filter(function(d4){return""!==d4;},c1.ofArray([a.String(d3),d.summaryF(d2,d3)])));};d.summaryF=function(d2,d3){var d4,d5;d5=d.countF(d2,d3);switch(d5[0]===0?d5[1]===0?0:d5[1]===1?d5[2]===0?0:(d4=d5[1],2):(d4=d5[1],2):d5[0]===1?d5[1]===0?d5[2]===0?0:(d4=d5[0],1):(d4=[d5[0],d5[1]],3):d5[1]===0?(d4=d5[0],1):(d4=[d5[0],d5[1]],3)){case 0:return"";case 1:return(function(d6){return function(d7){return d6("Errors   : "+a.String(d7)+"\n");};}(a.id))(d4);case 2:return(function(d6){return function(d7){return d6("Warnings : "+a.String(d7)+"\n");};}(a.id))(d4);case 3:return(((cX.Curried3(function(d6,d7,d8){return d6("Errors   : "+a.String(d7)+", Warnings: "+a.String(d8)+"\n");}))(a.id))(d4[0]))(d4[1]);}};d.reduceMsgs=function(d2){return c0.fold(d.addMsg,d.NoMsg,d2);};d.addMsg=function(d2,d3){return d2.$==0?d3:d2.$==6?d3.$==0?d2:d3.$==6?new d({$:6,$0:d2.$0.concat(d3.$0)}):new d({$:6,$0:d2.$0.concat([d3])}):d3.$==0?d2:d3.$==6?new d({$:6,$0:[d2].concat(d3.$0)}):new d({$:6,$0:[d2,d3]});};d.countI=function(d2){return d.countF(function(){return[0,0,1];},d2);};d.countW=function(d2){return d.countF(function(){return[0,1,0];},d2);};d.count=function(d2){return d.countF(function(){return[1,0,0];},d2);};d.countF=function(d2,d3){function d4(d5,d6,d7){return function(d8){return[d5+d8[0],d6+d8[1],d7+d8[2]];};}return d3.$==0?[0,0,0]:d3.$==3?[0,0,1]:d3.$==2?[0,1,0]:d3.$==4?d2(d3.$0):d3.$==6?c0.fold(function(d5,d6){return(function(d7){return d4(d7[0],d7[1],d7[2]);}(d5))(d6);},[0,0,0],c0.map(function(d5){return d.countF(d2,d5);},d.exclnoMsg(d3.$0))):[1,0,0];};d.isFatalW=function(d2){return d.isFatalF(function(){return false;},d2);};d.isFatal=function(d2){return d.isFatalF(function(){return true;},d2);};d.isFatalF=function(d2,d3){return d3.$==0?false:d3.$==3?false:d3.$==2?false:d3.$==4?d2(d3.$0):d3.$==6?c0.exists(function(d4){return d.isFatalF(d2,d4);},d3.$0):true;};d.isWarningOrInfoW=function(d2){return d.isWarningOrInfoF(function(){return true;},d2);};d.isWarningOrInfo=function(d2){return d.isWarningOrInfoF(function(){return false;},d2);};d.isWarningOrInfoF=function(d2,d3){return d3.$==2||(d3.$==4?d2(d3.$0):d3.$==6&&c0.forall(function(d4){return d.isWarningOrInfoF(d2,d4)||d.isInfoF(d2,d4);},d.exclnoMsg(d3.$0)));};d.isInfoI=function(d2){return d.isInfoF(function(){return true;},d2);};d.isInfo=function(d2){return d.isInfoF(function(){return false;},d2);};d.isInfoF=function(d2,d3){return d3.$==3||(d3.$==4?d2(d3.$0):d3.$==6&&c0.forall(function(d4){return d.isInfoF(d2,d4);},d.exclnoMsg(d3.$0)));};d.freeMessageI=function(d2){var d3;function d4(d5){return new d({$:3,$0:d5});}return d.freeMessageF((d3=function(d5){return function(d6){return d5(a.String(d6));};}(a.id),function(d5){return d4(d3(d5));}),d2);};d.freeMessageW=function(d2){var d3;function d4(d5){return new d({$:2,$0:d5});}return d.freeMessageF((d3=function(d5){return function(d6){return d5(a.String(d6));};}(a.id),function(d5){return d4(d3(d5));}),d2);};d.freeMessage=function(d2){var d3;function d4(d5){return new d({$:1,$0:d5});}return d.freeMessageF((d3=function(d5){return function(d6){return d5(a.String(d6));};}(a.id),function(d5){return d4(d3(d5));}),d2);};d.freeMessageF=function(d2,d3){return d.bindMessage(d2,d3);};d.bindMessage=function(d2,d3){return d3.$==4?d2(d3.$0):d3.$==1?new d({$:1,$0:d3.$0}):d3.$==3?new d({$:3,$0:d3.$0}):d3.$==2?new d({$:2,$0:d3.$0}):d3.$==5?new d({$:5,$0:d3.$0,$1:d3.$1}):d3.$==6?new d({$:6,$0:c2.map(function(d4){return d.bindMessage(d2,d4);},d3.$0)}):d.NoMsg;};d.exclnoMsg=function(d2){function d3(d4){return!d4;}return c0.filter(function(d4){return d3(d.noMsg(d4));},d2);};d.noMsg=function(d2){return d2.$==0;};g.ofOption=function(d2){return d2==null?[]:[d2.$0];};g.absorbR=function(d2){return c0.choose(function(d3){return d3.$==0?{$:1,$0:d3.$0}:null;},d2);};g.absorbO=function(d2){return c0.choose(a.id,d2);};g.insertR=function(d2){return d2.$==0?c0.map(function(d3){return{$:0,$0:d3};},d2.$0):(g.rtn())(c.Error$1(d2.$0));};g.insertO=function(d2){var d3;d3=d2==null?null:{$:1,$0:c0.map(function(d4){return{$:1,$0:d4};},d2.$0)};return d3==null?(g.rtn())(null):d3.$0;};g.rtn=function(){cP.$cctor();return cP.rtn;};h.absorbR=function(d2){var d3,d4;return d2!=null&&d2.$==1&&(d4=d2.$0,d4.$==0&&(d3=d4.$0,true))?{$:1,$0:d3}:null;};h.insertR=function(d2){var d3;return d2.$==0?(d3=d2.$0,d3==null?null:{$:1,$0:{$:0,$0:d3.$0}}):h.rtn(c.Error$1(d2.$0));};h.sequenceSeq=function(d2){return h.traverseSeq(a.id,d2);};h.traverseSeq=function(d2,d3){var d4;d4=c2.foldBack(function(d5,d6){return h.op_GreaterGreaterEquals(d2(d5),function(d7){return h.op_GreaterGreaterEquals(d6,function(d8){return h.rtn(new c1.T({$:1,$0:d7,$1:d8}));});});},c2.ofSeq(d3),h.rtn(c1.T.Empty));return d4==null?null:{$:1,$0:d4.$0};};h.op_GreaterGreaterEquals=function(d2,d3){return d2==null?null:d3(d2.$0);};h.bindNone=function(d2,d3){return d3!=null&&d3.$==1?{$:1,$0:d3.$0}:d2();};h.mapNone=function(d2,d3){return d3==null?d2():d3.$0;};h.apply=function(d2,d3){var d4;return d2!=null&&d2.$==1&&(d3!=null&&d3.$==1&&(d4=[d2.$0,d3.$0],true))?{$:1,$0:d4[0](d4[1])}:null;};h.join=function(d2){return d2==null?null:d2.$0;};h.iter=function(d2){function d3(d5){return d5==null?null:{$:1,$0:d2(d5.$0)};}function d4(d5){if(d5==null);}return function(d5){return d4(d3(d5));};};h.rtn=function(d2){return{$:1,$0:d2};};i.insertR=function(d2){function d3(d5){return{$:0,$0:d5};}function d4(d5){return c3.Return(d5);}return d2.$==0?c3.Bind(d2.$0,function(d5){return d4(d3(d5));}):c3.Return(c.Error$1(d2.$0));};i.insertO=function(d2){var d3;function d4(d6){return{$:1,$0:d6};}function d5(d6){return c3.Return(d6);}d3=d2==null?null:{$:1,$0:c3.Bind(d2.$0,function(d6){return d5(d4(d6));})};return d3==null?c3.Return(null):d3.$0;};i.sequenceSeq=function(d2){return i.traverseSeq(a.id,d2);};i.traverseSeq=function(d2,d3){function d4(d5){return c3.Return(d5);}return c3.Bind(c2.foldBack(function(d5,d6){return i.op_GreaterGreaterEquals(d2(d5),function(d7){return i.op_GreaterGreaterEquals(d6,function(d8){return c3.Return(new c1.T({$:1,$0:d7,$1:d8}));});});},c2.ofSeq(d3),c3.Return(c1.T.Empty)),function(d5){return d4(a.id(d5));});};i.op_GreaterGreaterEquals=function(d2,d3){return c3.Bind(d2,d3);};i.sleepThen=function(d2,d3){var d4;d4=null;return c3.Delay(function(){return c3.Bind(c3.Sleep(d3),function(){return c3.Return(d2());});});};i.apply=function(d2,d3){var d4;d4=null;return c3.Delay(function(){return c3.Bind(c3.StartChild(d2,null),function(d5){return c3.Bind(c3.StartChild(d3,null),function(d6){return c3.Bind(d5,function(d7){return c3.Bind(d6,function(d8){return c3.Return(d7(d8));});});});});});};m=l.Builder=cX.Class({For:function(d2,d3){var d4;d4=this;return this.Using(c4.Get(d2),function(d5){return d4.While(function(){return d5.MoveNext();},d4.Delay(function(){return d3(d5.Current());}));});},While:function(d2,d3){function d4(d5,d6){return d5()?c5.Bind(function(){return d4(d5,d6);},d6()):l.rtn();}return d4(d2,d3);},Using:function(d2,d3){try{return d3(d2);}finally{d2.Dispose();}},TryFinally:function(d2,d3){try{return d2();}finally{d3();}},TryWith:function(d2,d3){try{return d2();}catch(d4){return d3(d4);}},Run:function(d2){return l.bindP(d2,{$:0,$0:null});},Combine:function(d2,d3){return c5.Bind(d3,d2);},Delay:a.id,Zero:function(){return l.rtn();},Bind:function(d2,d3){return c5.Bind(d3,d2);},ReturnFrom:a.id,Return:function(d2){return l.rtn(d2);}},k,m);m.New=cX.Ctor(function(){k.New.call(this);},m);n.result=function(){cP.$cctor();return cP.result$1;};n.rtn=function(d2){return l.rtn(d2);};n.op_GreaterEqualsGreater=function(d2,d3,d4){return n.op_GreaterGreaterEquals(d2(d4),d3);};n.op_RightShift=function(d2,d3,d4){return n.op_BarGreaterGreater(d2(d4),d3);};n.op_GreaterGreaterEquals=function(d2,d3){return l.bindP(d3,d2);};n.op_BarGreaterGreater=function(d2,d3){return l.mapP(d3,d2);};l.result=function(){cP.$cctor();return cP.result;};l.sequenceSeq=function(d2){return l.traverseSeq(a.id,d2);};l.traverseSeq=function(d2,d3){return c5.Map(a.id,c2.foldBack(function(d4,d5){return l.op_GreaterGreaterEquals(d2(d4),function(d6){return l.op_GreaterGreaterEquals(d5,function(d7){return l.rtn(new c1.T({$:1,$0:d6,$1:d7}));});});},c2.ofSeq(d3),l.rtn(c1.T.Empty)));};l.op_GreaterGreaterEquals=function(d2,d3){return c5.Bind(d3,d2);};l.absorbO=function(d2,d3){return l.bindP(function(d4){return l.ofOption(d2,d4);},d3);};l.insertO=function(d2){var d3;d3=d2==null?null:{$:1,$0:c5.Map(function(d4){return{$:1,$0:d4};},d2.$0)};return d3==null?{$:0,$0:null}:d3.$0;};l.ofOption=function(d2,d3){var d4;d4=d3==null?null:{$:1,$0:{$:0,$0:d3.$0}};return d4==null?function(d5){return c.Error$1(d2(d5));}():d4.$0;};l.get=function(d2){return l.defaultWith(function(d3){return c6.FailWith(a.String(d3));},d2);};l.iter=function(d2,d3,d4){l.defaultWith(d2,l.mapP(d3,d4));};l.mapP=function(d2,d3){return l.bindP(function(d4){return l.rtn(d2(d4));},d3);};l.bindP=function(d2,d3){if(d3.$==1)return c.Error$1(d3.$0);else try{return d2(d3.$0);}catch(d4){return c.Error$1(new d({$:5,$0:d4.message,$1:d4.stack}));}};l.failIfFalse=function(d2,d3){return!d3?c.Error$1(d2):{$:0,$0:null};};l.failIfTrue=function(d2,d3){return d3?c.Error$1(d2):{$:0,$0:null};};l.defaultValue=function(d2,d3){return d3.$==1?d2:d3.$0;};l.defaultWith=function(d2,d3){return d3.$==1?d2(d3.$0):d3.$0;};l.toOption=function(d2){return d2.$==0?{$:1,$0:d2.$0}:null;};l.flatten=function(d2){return c5.Bind(a.id,d2);};l.join=function(d2){return c5.Bind(a.id,d2);};l.rtn=function(d2){return{$:0,$0:d2};};l.freeMessage=function(d2){return d2.$==1?c.Error$1(d.freeMessage(d2.$0)):{$:0,$0:d2.$0};};l.errorf=function(d2){return d2(c.Error$1);};p.rtn=function(d2){return o.rtn(d2);};p.op_GreaterEqualsGreater=function(d2,d3,d4){return p.op_GreaterGreaterEquals(d2(d4),d3);};p.op_RightShift=function(d2,d3,d4){return p.op_BarGreaterGreater(d2(d4),d3);};p.op_GreaterGreaterEquals=function(d2,d3){return o.bind(d3,d2);};p.op_BarGreaterGreater=function(d2,d3){return o.map(d3,d2);};p.op_LessMultiplyGreater=function(d2,d3){return o.apply(d2,d3);};r=q.Builder=cX.Class({For:function(d2,d3){var d4;d4=this;return this.Using(c4.Get(d2),function(d5){return d4.While(function(){return d5.MoveNext();},d4.Delay(function(){return d3(d5.Current());}));});},Using:function(d2,d3){return this.TryFinally(function(){return d3(d2);},function(){if(!c7.Equals(d2,null))d2.Dispose();});},TryFinally:function(d2,d3){return o.wrap(function(d4){try{return(o.getFun(d2()))(d4);}finally{d3();}});},TryWith:function(d2,d3){return o.wrap(function(d4){try{return(o.getFun(d2()))(d4);}catch(d5){return d3(d5);}});},While:function(d2,d3){function d4(d5,d6){return d5()?o.bind(function(){return d4(d5,d6);},d6()):o.rtn();}return d4(d2,d3);},Run:function(d2){return o.wrap(function(d3){return(o.getFun(d2()))(d3);});},Combine:function(d2,d3){return o.bind(d3,d2);},Delay:a.id,Zero:function(){return o.rtn();},Bind:function(d2,d3){return o.bind(d3,d2);},ReturnFrom:function(d2){return o.from(d2);},Return:function(d2){return o.rtn(d2);}},k,r);r.New=cX.Ctor(function(){k.New.call(this);},r);o.fusion=function(){cP.$cctor();return cP.fusion;};o.absorbO=function(d2,d3){return o.absorbR(o.map(function(d4){return l.ofOption(d2,d4);},d3));};o.absorbR=function(d2){return o.bind(o.ofResultRM,d2);};o.insertSnd=function(d2,d3){return o.map(function(d4){return[d4,d3];},d2);};o.insertFst=function(d2,d3){return o.map(function(d4){return[d2,d4];},d3);};o.insertR=function(d2){return d2.$==0?o.map(function(d3){return{$:0,$0:d3};},d2.$0):o.rtn(c.Error$1(d2.$0));};o.insertO=function(d2){var d3;d3=d2==null?null:{$:1,$0:o.map(function(d4){return{$:1,$0:d4};},d2.$0)};return d3==null?o.rtn(null):d3.$0;};o.iterResultPrint=function(d2){function d3(d4){c.print$1(d4);}o.iterReader(function(d4){return d3(d.summarized(d4));},function(d4){c.print$1(d4);},null,d2);};o.iterResult=function(d2,d3,d4){o.iterReader(d2,d3,null,d4);};o.runResult=function(d2){return o.runReader(null,d2);};o.runReader=function(d2,d3){var d4,d5,d6;d4=o.run(d2,d3);d5=d4[2];return l.ofOption(function(){return d5;},(d6=d4[0],d6==null?null:{$:1,$0:[d6.$0,d5]}));};o.mapReader=function(d2,d3){return o.mapState(function(){return d2;},a.id,d3);};o.readerFun=function(d2){return o.map(d2,o.getS());};o.sequenceSeq=function(d2){return o.traverseSeq(a.id,d2);};o.traverseSeq=function(d2,d3){return o.map(a.id,c2.foldBack(function(d4,d5){return o.op_GreaterGreaterEquals(d2(d4),function(d6){return o.op_GreaterGreaterEquals(d5,function(d7){return o.rtn(new c1.T({$:1,$0:d6,$1:d7}));});});},c2.ofSeq(d3),o.rtn(c1.T.Empty)));};o.op_GreaterGreaterEquals=function(d2,d3){return o.bind(d3,d2);};o.apply=function(d2,d3){return o.bind(function(d4){return o.map(d4,d3);},d2);};o.memoizeRm=function(d2,d3,d4){return{$:0,$0:function(d5){var d6,d7,d8,d9,d_;function d$(ea,eb){return(d8(ea))(function(){return eb;});}d6=d5[0];d7=d2(d6);d8=d7[1];return o.run(d6,(d9=(d_=d7[0](d4),d_==null?null:{$:1,$0:o.rtn(d_.$0)}),d9==null?o.map(function(ea){return d$(d4,ea);},d3(d4)):d9.$0));}};};o.iterReader=function(d2,d3,d4,d5){var d6,d7;d6=o.run(d4,o.map(d3,d5));d7=d6[2];(h.iter(a.ignore))(d6[0]);d7.$!==0?d2(d7):void 0;};o.mapState=function(d2,d3,d4){return{$:0,$0:function(d5){var d6,d7;d6=d5[0];d7=(o.getFun(d4))([d2(d6),d5[1]]);return[d7[0],d3(d6,d7[1]),d7[2]];}};};o.freeMessageW=function(d2){var d3;function d4(d5){return new d({$:2,$0:d5});}return o.freeMessageF((d3=function(d5){return function(d6){return d5(a.String(d6));};}(a.id),function(d5){return d4(d3(d5));}),d2);};o.freeMessage=function(d2){var d3;function d4(d5){return new d({$:1,$0:d5});}return o.freeMessageF((d3=function(d5){return function(d6){return d5(a.String(d6));};}(a.id),function(d5){return d4(d3(d5));}),d2);};o.freeMessageF=function(d2,d3){return{$:0,$0:function(d4){var d5,d6,d7;d5=d4[0];d6=d4[1];try{d7=d3.$0([d5,d.freeMessage(d6)]);return[d7[0],d7[1],d.freeMessageF(d2,d7[2])];}catch(d8){return[null,d5,d.freeMessage(d.addMsg(d6,new d({$:5,$0:d8.message,$1:d8.stack})))];}}};};o.ofFusionM=function(d2){return o.from(d2);};o.ofResultMessage=function(d2){return o.OkFMsg(null,d2);};o.ofMessage=function(d2){return o.OkFMsg(null,new d({$:4,$0:d2}));};o.ofOption=function(d2,d3){return d3==null?o.ErrorF(d2()):o.OkF(d3.$0);};o.ofResult=function(d2){return d2.$==1?o.ErrorF(new d({$:1,$0:(function(d3){return function(d4){return d3(cY.prettyPrint(d4));};}(a.id))(d2.$0)})):o.OkF(d2.$0);};o.ofResultS=function(d2){return d2.$==1?o.ErrorF(new d({$:1,$0:d2.$0})):o.OkF(d2.$0);};o.ofResultM=function(d2){return d2.$==1?o.ErrorF(new d({$:4,$0:d2.$0})):o.OkF(d2.$0);};o.ofResultRM=function(d2){return d2.$==1?o.ErrorF(d2.$0):o.OkF(d2.$0);};o.inling=function(d2,d3){return{$:0,$0:function(d4){var d5,d6,d7;d5=d4[0];d6=d4[1];try{d7=d3.$0([d5,d6]);return[{$:1,$0:d7[0]},d7[1],d7[2]];}catch(d8){return[null,d5,d.addMsg(d6,new d({$:5,$0:d8.message,$1:d8.stack}))];}}};};o.check=function(){return{$:0,$0:function(d2){return[d.isFatal(d2[1])?null:{$:1,$0:null},d2[0],d.NoMsg];}};};o.putS=function(d2){return{$:0,$0:function(){return[{$:1,$0:null},d2,d.NoMsg];}};};o.getR=function(){return{$:0,$0:function(d2){return[{$:1,$0:d2[1]},d2[0],d.NoMsg];}};};o.getS=function(){return{$:0,$0:function(d2){var d3;d3=d2[0];return[{$:1,$0:d3},d3,d.NoMsg];}};};o.ErrorF=function(d2){return{$:0,$0:function(d3){return[null,d3[0],d2];}};};o.OkFMsg=function(d2,d3){return{$:0,$0:function(d4){return[{$:1,$0:d2},d4[0],d3];}};};o.OkF=function(d2){return{$:0,$0:function(d3){return[{$:1,$0:d2},d3[0],d.NoMsg];}};};o.run=function(d2,d3){return(o.getFun(d3))([d2,d.NoMsg]);};o.from=a.id;o.getFun=function(d2){return d2.$0;};o.wrap=function(d2){return{$:0,$0:d2};};o.map=function(d2,d3){return o.bind(function(d4){return o.rtn(d2(d4));},d3);};o.bind=function(d2,d3){return{$:0,$0:function(d4){var d5,d6,d7,d8,d9,d_,d$;d5=d4[0];d6=d4[1];try{d7=d3.$0([d5,d6]);d8=d7[0];d9=d7[1];d_=d7[2];return d8!=null&&d8.$==1?(d$=d2(d8.$0).$0([d9,d.addMsg(d6,d_)]),[d$[0],d$[1],d.addMsg(d_,d$[2])]):[null,d9,d_];}catch(ea){return[null,d5,d.addMsg(d6,new d({$:5,$0:ea.message,$1:ea.stack}))];}}};};o.rtn=function(d2){return{$:0,$0:function(d3){return[{$:1,$0:d2},d3[0],d.NoMsg];}};};t.rtn=function(d2){return s.rtn(d2);};t.op_GreaterEqualsGreater=function(d2,d3,d4){return t.op_GreaterGreaterEquals(d2(d4),d3);};t.op_RightShift=function(d2,d3,d4){return t.op_BarGreaterGreater(d2(d4),d3);};t.op_GreaterGreaterEquals=function(d2,d3){return s.bind(d3,d2);};t.op_BarGreaterGreater=function(d2,d3){return s.map(d3,d2);};t.op_LessMultiplyGreater=function(d2,d3){return s.apply(d2,d3);};v=u.Builder=cX.Class({For:function(d2,d3){var d4;d4=this;return this.Using(c4.Get(d2),function(d5){return d4.While(function(){return d5.MoveNext();},d4.Delay(function(){return d3(d5.Current());}));});},Using:function(d2,d3){function d4(d5,d6){return c3.Using(d2,function(d7){return(s.getFun(d3(d7)))([d5,d6]);});}return s.wrap(function(d5){return d4(d5[0],d5[1]);});},TryFinally:function(d2,d3){function d4(d5,d6){return c3.TryFinally((s.getFun(d2()))([d5,d6]),d3);}return s.wrap(function(d5){return d4(d5[0],d5[1]);});},TryWith:function(d2,d3){function d4(d5,d6){return c3.TryWith((s.getFun(d2()))([d5,d6]),d3);}return s.wrap(function(d5){return d4(d5[0],d5[1]);});},While:function(d2,d3){function d4(d5,d6){return d5()?s.bind(function(){return d4(d5,d6);},d6()):s.rtn();}return d4(d2,d3);},Run:function(d2){return s.wrap(function(d3){return(s.getFun(d2()))(d3);});},Combine:function(d2,d3){return s.bind(d3,d2);},Delay:a.id,Zero:function(){return s.rtn();},Bind:function(d2,d3){return s.bind(d3,d2);},ReturnFrom:function(d2){return s.from(d2);},Return:function(d2){return s.rtn(d2);}},k,v);v.New=cX.Ctor(function(){k.New.call(this);},v);s.fusion=function(){cP.$cctor();return cP.fusion$1;};s.iterResultPrintA=function(d2){function d3(d4){c.print$1(d4);}s.iterReaderA(function(d4){return d3(d.summarized(d4));},function(d4){c.print$1(d4);},null,d2);};s.iterResultPrint=function(d2){function d3(d4){c.print$1(d4);}s.iterReader(function(d4){return d3(d.summarized(d4));},function(d4){c.print$1(d4);},null,d2);};s.iterResultA=function(d2,d3,d4){s.iterReaderA(d2,d3,null,d4);};s.iterResult=function(d2,d3,d4){s.iterReader(d2,d3,null,d4);};s.runResult=function(d2){return s.runReader(null,d2);};s.runReader=function(d2,d3){function d4(d6,d7,d8){return l.ofOption(function(){return d8;},d6==null?null:{$:1,$0:[d6.$0,d8]});}function d5(d6){return c3.Return(d6);}return c3.Bind(s.run(d2,d3),function(d6){return d5(d4.apply(null,d6));});};s.mapReader=function(d2,d3){return s.mapState(function(){return d2;},a.id,d3);};s.absorbO=function(d2,d3){return s.absorbR(s.map(function(d4){return l.ofOption(d2,d4);},d3));};s.absorbR=function(d2){return s.bind(s.ofResultRM,d2);};s.insertSnd=function(d2,d3){return s.map(function(d4){return[d4,d3];},d2);};s.insertFst=function(d2,d3){return s.map(function(d4){return[d2,d4];},d3);};s.insertR=function(d2){return d2.$==0?s.map(function(d3){return{$:0,$0:d3};},d2.$0):s.rtn(c.Error$1(d2.$0));};s.insertO=function(d2){var d3;d3=d2==null?null:{$:1,$0:s.map(function(d4){return{$:1,$0:d4};},d2.$0)};return d3==null?s.rtn(null):d3.$0;};s.readerFun=function(d2){return s.map(d2,s.getS());};s.freeMessageW=function(d2){var d3;function d4(d5){return new d({$:2,$0:d5});}return s.freeMessageF((d3=function(d5){return function(d6){return d5(a.String(d6));};}(a.id),function(d5){return d4(d3(d5));}),d2);};s.freeMessage=function(d2){var d3;function d4(d5){return new d({$:1,$0:d5});}return s.freeMessageF((d3=function(d5){return function(d6){return d5(a.String(d6));};}(a.id),function(d5){return d4(d3(d5));}),d2);};s.sequenceSeq=function(d2){return s.traverseSeq(a.id,d2);};s.traverseSeq=function(d2,d3){return s.map(a.id,c2.foldBack(function(d4,d5){return s.op_GreaterGreaterEquals(d2(d4),function(d6){return s.op_GreaterGreaterEquals(d5,function(d7){return s.rtn(new c1.T({$:1,$0:d6,$1:d7}));});});},c2.ofSeq(d3),s.rtn(c1.T.Empty)));};s.op_GreaterGreaterEquals=function(d2,d3){return s.bind(d3,d2);};s.apply=function(d2,d3){return s.bind(function(d4){return s.map(d4,d3);},d2);};s.memoizeRm=function(d2,d3,d4){return{$:0,$0:function(d5){var d6,d7;d6=d5[0];d7=null;return c3.Delay(function(){var d8,d9,d_,d$;function ea(eb,ec){return(d9(eb))(function(){return ec;});}d8=d2(d6);d9=d8[1];return s.run(d6,(d_=(d$=d8[0](d4),d$==null?null:{$:1,$0:s.rtn(d$.$0)}),d_==null?s.map(function(eb){return ea(d4,eb);},d3(d4)):d_.$0));});}};};s.iterReaderA=function(d2,d3,d4,d5){function d6(d8,d9,d_){(h.iter(a.ignore))(d8);d_.$!==0?d2(d_):void 0;}function d7(d8){return c3.Return(d8);}c3.Start(c3.Bind(s.run(d4,s.map(d3,d5)),function(d8){return d7(d6.apply(null,d8));}),null);};s.iterReader=function(d2,d3,d4,d5){var d6;d6=s.run(d4,s.map(d3,d5));throw"iterS cannot be used in JavaScript!";};s.mapState=function(d2,d3,d4){return{$:0,$0:function(d5){var d6,d7,d8;d6=d5[0];d7=d5[1];d8=null;return c3.Delay(function(){return c3.Bind((s.getFun(d4))([d2(d6),d7]),function(d9){return c3.Return([d9[0],d3(d6,d9[1]),d9[2]]);});});}};};s.freeMessageF=function(d2,d3){return{$:0,$0:function(d4){var d5,d6,d7;d5=d4[0];d6=d4[1];d7=null;return c3.Delay(function(){return c3.TryWith(c3.Delay(function(){return c3.Bind(d3.$0([d5,d.freeMessage(d6)]),function(d8){return c3.Return([d8[0],d8[1],d.freeMessageF(d2,d8[2])]);});}),function(d8){return c3.Return([null,d5,d.freeMessage(d.addMsg(d6,new d({$:5,$0:d8.message,$1:d8.stack})))]);});});}};};s.ofFusionM=function(d2){var d3;d3=d2.$0;return{$:0,$0:function(d4){return c3.Return(d3([d4[0],d4[1]]));}};};s.ofAsyncResultRM=function(d2){return s.bind(s.ofResultRM,s.ofAsync(d2));};s.ofAsync=function(d2){return{$:0,$0:function(d3){var d4;function d5(d7){return[{$:1,$0:d7},d4,d.NoMsg];}function d6(d7){return c3.Return(d7);}d4=d3[0];return c3.Bind(d2,function(d7){return d6(d5(d7));});}};};s.ofResultMessage=function(d2){return s.OkFMsg(null,d2);};s.ofMessage=function(d2){return s.OkFMsg(null,new d({$:4,$0:d2}));};s.ofOption=function(d2,d3){var d4;d4=d3==null?null:{$:1,$0:s.OkF(d3.$0)};return d4==null?function(d5){return s.ErrorF(d2(d5));}():d4.$0;};s.ofResult=function(d2){return d2.$==1?s.ErrorF(new d({$:1,$0:(function(d3){return function(d4){return d3(cY.prettyPrint(d4));};}(a.id))(d2.$0)})):s.OkF(d2.$0);};s.ofResultS=function(d2){return d2.$==1?s.ErrorF(new d({$:1,$0:d2.$0})):s.OkF(d2.$0);};s.ofResultM=function(d2){return d2.$==1?s.ErrorF(new d({$:4,$0:d2.$0})):s.OkF(d2.$0);};s.ofResultRM=function(d2){return d2.$==1?s.ErrorF(d2.$0):s.OkF(d2.$0);};s.getOption=function(d2){return{$:0,$0:function(d3){var d4,d5,d6;d4=d3[0];d5=d3[1];d6=null;return c3.Delay(function(){return c3.TryWith(c3.Delay(function(){return c3.Bind(d2.$0([d4,d5]),function(d7){return c3.Return([{$:1,$0:d7[0]},d7[1],d7[2]]);});}),function(d7){return c3.Return([null,d4,d.addMsg(d5,new d({$:5,$0:d7.message,$1:d7.stack}))]);});});}};};s.check=function(){return{$:0,$0:function(d2){return c3.Return([d.isFatal(d2[1])?null:{$:1,$0:null},d2[0],d.NoMsg]);}};};s.putS=function(d2){return{$:0,$0:function(){return c3.Return([{$:1,$0:null},d2,d.NoMsg]);}};};s.getR=function(){return{$:0,$0:function(d2){return c3.Return([{$:1,$0:d2[1]},d2[0],d.NoMsg]);}};};s.getS=function(){return{$:0,$0:function(d2){var d3;d3=d2[0];return c3.Return([{$:1,$0:d3},d3,d.NoMsg]);}};};s.ErrorF=function(d2){return{$:0,$0:function(d3){return c3.Return([null,d3[0],d2]);}};};s.OkFMsg=function(d2,d3){return{$:0,$0:function(d4){return c3.Return([{$:1,$0:d2},d4[0],d3]);}};};s.OkF=function(d2){return{$:0,$0:function(d3){return c3.Return([{$:1,$0:d2},d3[0],d.NoMsg]);}};};s.run=function(d2,d3){return(s.getFun(d3))([d2,d.NoMsg]);};s.from=a.id;s.getFun=function(d2){return d2.$0;};s.wrap=function(d2){return{$:0,$0:d2};};s.map=function(d2,d3){return s.bind(function(d4){return s.rtn(d2(d4));},d3);};s.bind=function(d2,d3){return{$:0,$0:function(d4){var d5,d6,d7;d5=d4[0];d6=d4[1];d7=null;return c3.Delay(function(){return c3.TryWith(c3.Delay(function(){return c3.Bind(d3.$0([d5,d6]),function(d8){var d9,d_,d$;d9=d8[0];d_=d8[1];d$=d8[2];return d9!=null&&d9.$==1?c3.Bind(d2(d9.$0).$0([d_,d.addMsg(d6,d$)]),function(ea){return c3.Return([ea[0],ea[1],d.addMsg(d$,ea[2])]);}):c3.Return([null,d_,d$]);});}),function(d8){return c3.Return([null,d5,d.addMsg(d6,new d({$:5,$0:d8.message,$1:d8.stack}))]);});});}};};s.rtn=function(d2){return{$:0,$0:function(d3){return c3.Return([{$:1,$0:d2},d3[0],d.NoMsg]);}};};x=w.Builder=cX.Class({For:function(d2,d3){var d4;d4=this;return this.Using(c4.Get(d2),function(d5){return d4.While(function(){return d5.MoveNext();},d4.Delay(function(){return d3(d5.Current());}));});},While:function(d2,d3){function d4(d5,d6){return d5()?w.bind(function(){return d4(d5,d6);},d6()):w.rtn();}return d4(d2,d3);},Using:function(d2,d3){try{return d3(d2);}finally{d2.Dispose();}},TryFinally:function(d2,d3){try{return d2();}finally{d3();}},TryWith:function(d2,d3){try{return d2();}catch(d4){return d3(d4);}},Run:function(d2){return w.bindP(d2,f.OkM$1());},Combine:function(d2,d3){return w.bind(d3,d2);},Delay:a.id,Zero:function(){return w.rtn();},Bind:function(d2,d3){return w.bindM(d3,d2);},Bind$1:function(d2,d3){return w.bindP(d3,d2);},ReturnFrom:function(d2){return w.rtnM(d2);},ReturnFrom$1:a.id,ReturnFrom$2:a.id,Return:function(d2){return w.rtn(d2);}},k,x);x.New=cX.Ctor(function(){k.New.call(this);},x);y.rtn=function(d2){return w.rtn(d2);};y.op_GreaterEqualsGreater=function(d2,d3,d4){return y.op_GreaterGreaterEquals(d2(d4),d3);};y.op_RightShift=function(d2,d3,d4){return y.op_BarGreaterGreater(d2(d4),d3);};y.op_GreaterGreaterEquals=function(d2,d3){return w.bindP(d3,d2);};y.op_BarGreaterGreater=function(d2,d3){return w.mapP(d3,d2);};w.sequenceSeq=function(d2){return w.traverseSeq(a.id,d2);};w.traverseSeq=function(d2,d3){return w.map(a.id,c2.foldBack(function(d4,d5){return w.op_GreaterGreaterEquals(d2(d4),function(d6){return w.op_GreaterGreaterEquals(d5,function(d7){return w.rtn(new c1.T({$:1,$0:d6,$1:d7}));});});},c2.ofSeq(d3),w.rtn(c1.T.Empty)));};w.op_GreaterGreaterEquals=function(d2,d3){return w.bind(d3,d2);};w.failIfFatalMsgW=function(d2){var d3;d3=f.OkM(d2);return d3.$==0?d.isFatalW(d3.$0[1])?f.ErrorM(d3.$0[1]):d2:d2;};w.failIfFatalMsg=function(d2){var d3;d3=f.OkM(d2);return d3.$==0?d.isFatal(d3.$0[1])?f.ErrorM(d3.$0[1]):d2:d2;};w.failIfFatalMsgF=function(d2,d3){var d4;d4=f.OkM(d3);return d4.$==0?d.isFatalF(d2,d4.$0[1])?f.ErrorM(d4.$0[1]):d3:d3;};w.addMsg=function(d2,d3){return w.mapMessage(function(d4){return d.addMsg(d2,d4);},d3);};w.absorbO=function(d2,d3){return w.bindP(function(d4){return w.ofOption(d2,d4);},d3);};w.insertO=function(d2){var d3;d3=d2==null?null:{$:1,$0:w.map(function(d4){return{$:1,$0:d4};},d2.$0)};return d3==null?f.OkM$1(null):d3.$0;};w.ofResult=function(d2){return w.rtnr(d2);};w.ofOption=function(d2,d3){var d4;d4=d3==null?null:{$:1,$0:f.OkM$1(d3.$0)};return d4==null?function(d5){return f.ErrorM(d2(d5));}():d4.$0;};w.get=function(d2){return w.defaultWith(function(d3){return c6.FailWith(a.String(d3));},d2);};w.iter=function(d2,d3,d4){var d5;d5=w.mapP(d3,d4);d5.$0==null?d2(d5.$1):void 0;};w.mapP=function(d2,d3){return w.bindP(function(d4){return w.rtn(d2(d4));},d3);};w.check=function(d2,d3){var d4;return(d4=d3.$0,d4!=null&&d4.$==1)?d.isFatalF(d2.$0,d3.$1)?f.ErrorM(d3.$1):d3:d3;};w.bindM=function(d2,d3){return w.bindP(d2,w.rtnM(d3));};w.bindP=function(d2,d3){var d4;if(d3.$0==null)return{$:0,$0:null,$1:d3.$1};else{d4=d3.$1;try{return w.mapMessage(function(d5){return d.addMsg(d4,d5);},d2(d3.$0.$0));}catch(d5){return f.ErrorM(new d({$:5,$0:d5.message,$1:d5.stack}));}}};w.bind=function(d2,d3){var d4;return d3.$0==null?{$:0,$0:null,$1:d3.$1}:(d4=d3.$1,w.mapMessage(function(d5){return d.addMsg(d4,d5);},d2(d3.$0.$0)));};w.mapMessage=function(d2,d3){return{$:0,$0:d3.$0,$1:d2(d3.$1)};};w.map=function(d2,d3){var d4;return{$:0,$0:(d4=d3.$0,d4==null?null:{$:1,$0:d2(d4.$0)}),$1:d3.$1};};w.defaultValue=function(d2,d3){return l.defaultValue(d2,w.toResult(d3));};w.defaultWith=function(d2,d3){return l.defaultWith(d2,w.toResult(d3));};w.toOption=function(d2){return d2.$0;};w.toResultD=function(d2){return d2.$0==null?c.Error$1(d2.$1):{$:0,$0:[d2.$0.$0,d2.$1]};};w.toResult=function(d2){return d2.$0==null?c.Error$1(d2.$1):{$:0,$0:d2.$0.$0};};w.freeMessage=function(d2){return d2.$==1?c.Error$1(d.freeMessage(d2.$0)):{$:0,$0:d2.$0};};w.rtnr=function(d2){return l.defaultWith(f.ErrorM,c5.Map(f.OkM$1,d2));};w.rtnM=function(d2){return f.OkMWithMsg(null,d2);};w.rtn=function(d2){return f.OkM$1(d2);};w.checkErrorW=function(){return{$:0,$0:function(){return false;}};};w.checkError=function(){return{$:0,$0:function(){return true;}};};z.resultM=function(){cP.$cctor();return cP.resultM;};A.absorbO=function(d2,d3){function d4(d6){return l.absorbO(d2,d6);}function d5(d6){return c3.Return(d6);}return c3.Bind(d3,function(d6){return d5(d4(d6));});};A.absorbR=function(d2){function d3(d4){return c3.Return(d4);}return c3.Bind(d2,function(d4){return d3(l.join(d4));});};A.insertR=function(d2){return d2.$==0?A.map(function(d3){return{$:0,$0:d3};},d2.$0):A.rtn(c.Error$1(d2.$0));};A.insertO=function(d2){var d3;d3=d2==null?null:{$:1,$0:A.map(function(d4){return{$:1,$0:d4};},d2.$0)};return d3==null?A.rtn(null):d3.$0;};A.sequenceSeq=function(d2){return A.traverseSeq(a.id,d2);};A.traverseSeq=function(d2,d3){return A.map(a.id,c2.foldBack(function(d4,d5){return A.op_GreaterGreaterEquals(d2(d4),function(d6){return A.op_GreaterGreaterEquals(d5,function(d7){return A.rtn(new c1.T({$:1,$0:d6,$1:d7}));});});},c2.ofSeq(d3),A.rtn(c1.T.Empty)));};A.op_GreaterGreaterEquals=function(d2,d3){return A.bind(d3,d2);};A.whileLoop=function(d2,d3){return d2()?A.bind(function(){return A.whileLoop(d2,d3);},d3()):A.rtn();};A.mapP=function(d2,d3){return A.bindP(function(d4){return A.rtn(d2(d4));},d3);};A.map=function(d2,d3){return A.bind(function(d4){return A.rtn(d2(d4));},d3);};A.bindP=function(d2,d3){var d4;d4=null;return c3.Delay(function(){return c3.TryWith(c3.Delay(function(){return c3.Bind(d3,function(d5){return d5.$==1?c3.Return(c.Error$1(d5.$0)):d2(d5.$0);});}),function(d5){return c3.Return(c.Error$1(new d({$:5,$0:d5.message,$1:d5.stack})));});});};A.bind=function(d2,d3){var d4;d4=null;return c3.Delay(function(){return c3.Bind(d3,function(d5){return d5.$==1?c3.Return(c.Error$1(d5.$0)):d2(d5.$0);});});};A.iterA=function(d2,d3,d4){function d5(d7){l.iter(d2,d3,d7);}function d6(d7){return c3.Return(d7);}c3.Start(c3.Bind(d4,function(d7){return d6(d5(d7));}),null);};A.iterS=function(d2,d3,d4){throw"iterS cannot be used in JavaScript!";};A.rtnR=function(d2){return c3.Return(d2);};A.rtn=function(d2){return c3.Return({$:0,$0:d2});};A.freeMessage=function(d2){function d3(d4){return c3.Return(d4);}return c3.Bind(d2,function(d4){return d3(l.freeMessage(d4));});};A.mapError=function(d2,d3){function d4(d6){return c5.MapError(d2,d6);}function d5(d6){return c3.Return(d6);}return c3.Bind(d3,function(d6){return d5(d4(d6));});};B=f.AsyncResultBuilder=cX.Class({For:function(d2,d3){var d4;d4=this;return this.Using(c4.Get(d2),function(d5){return d4.While(function(){return d5.MoveNext();},d4.Delay(function(){return d3(d5.Current());}));});},While:function(d2,d3){return A.whileLoop(d2,d3);},Using:function(d2,d3){return c3.Using(d2,d3);},TryFinally:function(d2,d3){var d4;d4=null;return c3.Delay(function(){return c3.TryFinally(c3.Delay(function(){return d2();}),function(){d3();});});},TryWith:function(d2,d3){var d4;d4=null;return c3.Delay(function(){return c3.TryWith(c3.Delay(function(){return d2();}),function(d5){return d3(d5);});});},Run:function(d2){return A.bind(d2,A.rtn());},Delay:a.id,Combine:function(d2,d3){return A.bind(d3,A.rtnR(d2));},Combine$1:function(d2,d3){return A.bind(d3,d2);},Bind:function(d2,d3){return A.bind(d3,A.rtnR(d2));},Bind$1:function(d2,d3){return A.bind(d3,d2);},Zero:function(){return A.rtn();},Return:function(d2){return A.rtn(d2);},ReturnFrom:function(d2){return A.rtnR(d2);},ReturnFrom$1:a.id},k,B);B.New=cX.Ctor(function(){k.New.call(this);},B);C=f.AsyncResultBuilderP=cX.Class({For:function(d2,d3){var d4;d4=this;return this.Using(c4.Get(d2),function(d5){return d4.While(function(){return d5.MoveNext();},d4.Delay(function(){return d3(d5.Current());}));});},While:function(d2,d3){return A.whileLoop(d2,d3);},Using:function(d2,d3){return c3.Using(d2,d3);},TryFinally:function(d2,d3){var d4;d4=null;return c3.Delay(function(){try{return d2();}finally{d3();}});},TryWith:function(d2,d3){var d4;d4=null;return c3.Delay(function(){try{return d2();}catch(d5){return d3(d5);}});},Run:function(d2){return A.bindP(d2,A.rtn());},Delay:a.id,Combine:function(d2,d3){return A.bindP(d3,A.rtnR(d2));},Combine$1:function(d2,d3){return A.bindP(d3,d2);},Bind:function(d2,d3){return A.bindP(d3,A.rtnR(d2));},Bind$1:function(d2,d3){return A.bindP(d3,d2);},Zero:function(){return A.rtn();},Return:function(d2){return A.rtn(d2);},ReturnFrom:function(d2){return A.rtnR(d2);},ReturnFrom$1:a.id},k,C);C.New=cX.Ctor(function(){k.New.call(this);},C);D["AsyncResultBuilderP.Combine"]=function(d2,d3,d4){function d5(d7){return{$:0,$0:d7};}function d6(d7){return c3.Return(d7);}return A.bindP(d4,c3.Bind(d3,function(d7){return d6(d5(d7));}));};D["AsyncResultBuilderP.Bind"]=function(d2,d3,d4){function d5(d7){return{$:0,$0:d7};}function d6(d7){return c3.Return(d7);}return A.bindP(d4,c3.Bind(d3,function(d7){return d6(d5(d7));}));};D["AsyncResultBuilderP.ReturnFrom"]=function(d2,d3){function d4(d6){return{$:0,$0:d6};}function d5(d6){return c3.Return(d6);}return c3.Bind(d3,function(d6){return d5(d4(d6));});};D["AsyncResultBuilder.Combine"]=function(d2,d3,d4){function d5(d7){return{$:0,$0:d7};}function d6(d7){return c3.Return(d7);}return A.bind(d4,c3.Bind(d3,function(d7){return d6(d5(d7));}));};D["AsyncResultBuilder.Bind"]=function(d2,d3,d4){function d5(d7){return{$:0,$0:d7};}function d6(d7){return c3.Return(d7);}return A.bind(d4,c3.Bind(d3,function(d7){return d6(d5(d7));}));};D["AsyncResultBuilder.ReturnFrom"]=function(d2,d3){function d4(d6){return{$:0,$0:d6};}function d5(d6){return c3.Return(d6);}return c3.Bind(d3,function(d6){return d5(d4(d6));});};F=E.AsyncResultMBuilder=cX.Class({For:function(d2,d3){var d4;d4=this;return this.Using(c4.Get(d2),function(d5){return d4.While(function(){return d5.MoveNext();},d4.Delay(function(){return d3(d5.Current());}));});},While:function(d2,d3){return E.whileLoop(d2,d3);},Using:function(d2,d3){return c3.Using(d2,d3);},TryFinally:function(d2,d3){var d4;d4=null;return c3.Delay(function(){return c3.TryFinally(c3.Delay(function(){return d2();}),function(){d3();});});},TryWith:function(d2,d3){var d4;d4=null;return c3.Delay(function(){return c3.TryWith(c3.Delay(function(){return d2();}),function(d5){return d3(d5);});});},Run:function(d2){return E.bind(d2,E.rtn());},Delay:a.id,Combine:function(d2,d3){return E.bind(d3,E.rtnR(d2));},Combine$1:function(d2,d3){return E.bind(d3,d2);},Bind:function(d2,d3){return E.bindrA(d3,d2);},Bind$1:function(d2,d3){return E.bindR(d3,d2);},Bind$2:function(d2,d3){return E.bindM(d3,d2);},Bind$3:function(d2,d3){return E.bindr(d3,d2);},Bind$4:function(d2,d3){return E.bind(d3,d2);},Zero:function(){return E.rtn();},Return:function(d2){return E.rtn(d2);},ReturnFrom:function(d2){return E.rtnrA(d2);},ReturnFrom$1:function(d2){return E.rtnR(d2);},ReturnFrom$2:function(d2){return E.rtnM(d2);},ReturnFrom$3:function(d2){return E.rtnr(d2);},ReturnFrom$4:a.id},k,F);F.New=cX.Ctor(function(){k.New.call(this);},F);E.absorbO=function(d2,d3){function d4(d6){return l.absorbO(d2,d6);}function d5(d6){return c3.Return(d6);}return c3.Bind(d3,function(d6){return d5(d4(d6));});};E.absorbR=function(d2){var d3;function d4(d5){return c3.Return(d5);}return c3.Bind(d2,(d3=function(d5){return l.bindP(a.id,d5);},function(d5){return d4(d3(d5));}));};E.insertR=function(d2){return d2.$==0?E.map(function(d3){return{$:0,$0:d3};},d2.$0):E.rtn(c.Error$1(d2.$0));};E.insertO=function(d2){var d3;d3=d2==null?null:{$:1,$0:E.map(function(d4){return{$:1,$0:d4};},d2.$0)};return d3==null?E.rtn(null):d3.$0;};E.sequenceSeq=function(d2){return E.traverseSeq(a.id,d2);};E.traverseSeq=function(d2,d3){return E.map(a.id,c2.foldBack(function(d4,d5){return E.op_GreaterGreaterEquals(d2(d4),function(d6){return E.op_GreaterGreaterEquals(d5,function(d7){return E.rtn(new c1.T({$:1,$0:d6,$1:d7}));});});},c2.ofSeq(d3),E.rtn(c1.T.Empty)));};E.op_GreaterGreaterEquals=function(d2,d3){return E.bind(d3,d2);};E.whileLoop=function(d2,d3){return d2()?E.bind(function(){return E.whileLoop(d2,d3);},d3()):E.rtn();};E.map=function(d2,d3){return E.bind(function(d4){return E.rtn(d2(d4));},d3);};E.bindR=function(d2,d3){return E.bind(d2,E.rtnR(d3));};E.bindrA=function(d2,d3){return E.bind(d2,E.rtnrA(d3));};E.bindM=function(d2,d3){return E.bind(d2,E.rtnM(d3));};E.bindr=function(d2,d3){return E.bind(d2,E.rtnr(d3));};E.bind=function(d2,d3){var d4;d4=null;return c3.Delay(function(){return c3.TryWith(c3.Delay(function(){return c3.Bind(d3,function(d5){var d6,d7;function d8(d_){return w.addMsg(d7,d_);}function d9(d_){return c3.Return(d_);}d6=f.OkM(d5);return d6.$==1?c3.Return(f.ErrorM(d6.$0)):(d7=d6.$0[1],c3.Bind(d2(d6.$0[0]),function(d_){return d9(d8(d_));}));});}),function(d5){return c3.Return(f.ErrorM(new d({$:5,$0:d5.message,$1:d5.stack})));});});};E.iterpA=function(d2,d3){function d4(d5){c.print$1(d5);}E.iterA(function(d5){return d4(d.summarized(d5));},d2,d3);};E.iterpS=function(d2,d3){function d4(d5){c.print$1(d5);}E.iterS(function(d5){return d4(d.summarized(d5));},d2,d3);};E.iterA=function(d2,d3,d4){function d5(d7){w.iter(d2,d3,d7);}function d6(d7){return c3.Return(d7);}c3.Start(c3.Bind(d4,function(d7){return d6(d5(d7));}),null);};E.iterS=function(d2,d3,d4){throw"iterS cannot be used in JavaScript!";};E.rtnrA=function(d2){function d3(d4){return c3.Return(d4);}return c3.Bind(d2,function(d4){return d3(w.ofResult(d4));});};E.rtnM=function(d2){return c3.Return(w.rtnM(d2));};E.rtnR=function(d2){return c3.Return(d2);};E.rtnr=function(d2){return c3.Return(w.rtnr(d2));};E.rtn=function(d2){return c3.Return(f.OkM$1(d2));};E.freeMessage=function(d2){function d3(d4){return c3.Return(d4);}return c3.Bind(d2,function(d4){return d3(w.freeMessage(d4));});};E.mapError=function(d2,d3){function d4(d6){return w.mapMessage(d2,d6);}function d5(d6){return c3.Return(d6);}return c3.Bind(d3,function(d6){return d5(d4(d6));});};G["AsyncResultMBuilder.Combine"]=function(d2,d3,d4){function d5(d6){return c3.Return(d6);}return E.bind(d4,c3.Bind(d3,function(d6){return d5(f.OkM$1(d6));}));};G["AsyncResultMBuilder.Bind"]=function(d2,d3,d4){function d5(d6){return c3.Return(d6);}return E.bind(d4,c3.Bind(d3,function(d6){return d5(f.OkM$1(d6));}));};G["AsyncResultMBuilder.ReturnFrom"]=function(d2,d3){function d4(d5){return c3.Return(d5);}return c3.Bind(d3,function(d5){return d4(f.OkM$1(d5));});};G.asyncResultM=function(){cP.$cctor();return cP.asyncResultM;};f.asyncResultP=function(){cP.$cctor();return cP.asyncResultP;};f.asyncResult=function(){cP.$cctor();return cP.asyncResult;};f.OkM=function(d2){return d2.$0==null?{$:1,$0:d2.$1}:{$:0,$0:[d2.$0.$0,d2.$1]};};f.ErrorM=function(d2){return{$:0,$0:null,$1:d2};};f.OkMWithMsg=function(d2,d3){return{$:0,$0:{$:1,$0:d2},$1:d3};};f.OkM$1=function(d2){return{$:0,$0:{$:1,$0:d2},$1:d.NoMsg};};H.EndsWith$1=function(d2,d3){return cZ.EndsWith(d3,d2)?{$:1,$0:c8.string(d3,{$:1,$0:0},{$:1,$0:d3.length-d2.length-1})}:null;};H.StartsWith$1=function(d2,d3){return cZ.StartsWith(d3,d2)?{$:1,$0:c8.string(d3,{$:1,$0:d2.length},null)}:null;};H.skipLastLine$1=function(){cP.$cctor();return cP.skipLastLine;};H.indentStr$1=function(d2){function d3(d5){return H.indent$1(d2,d5);}function d4(d5){return cZ.concat("\n",d5);}return function(d5){return d4(d3(d5));};};H.unindentStr$1=function(){cP.$cctor();return cP.unindentStr;};H.indent$1=function(d2,d3){var d4,d5;d4=cZ.SplitChars(d3,["\n"],0);return c0.map((d5=cZ.replicate(d2," "),function(d6){return d5+d6;}),d4);};H.unindent$1=function(d2){var d3,d4,d5,d6;d3=cZ.SplitChars(d2,["\n"],0);d4=(d5=c0.tryFindIndex(function(d7){return" "!==d7;},(d6=c0.tryFind(function(d7){return cZ.Trim(d7)!=="";},d3),d6==null?"":d6.$0)),d5==null?0:d5.$0);return c0.filter(function(d7){return!cZ.StartsWith(d7,"# 1 ");},c0.map(function(d7){return d7.length<=d4?"":d7.substring(d4);},d3));};H.skipFirstLine$1=function(d2){var d3;d3=d2.indexOf("\n");return d3<0?"":c8.string(d2,{$:1,$0:d3+1},null);};H.append$1=function(d2,d3){return d2+d3;};H.trim$1=function(d2){return cZ.Trim(d2);};H.contains$1=function(d2,d3){return d3.indexOf(d2)!=-1;};H.delimitedO$1=function(d2,d3,d4){var d5,d6,d7,d8,d9;d5=H.splitInTwoO$1(d2,d4);return d5==null?null:(d6=d5.$0,(d7=d6[0],(d8=H.splitInTwoO$1(d3,d6[1]),d8==null?null:{$:1,$0:(d9=d8.$0,[d7,d9[0],d9[1]])})));};H.splitInTwoO$1=function(d2,d3){var d4;d4=d3.indexOf(d2);return d4===-1?null:{$:1,$0:[c["String.Left$1"](d3,d4),d3.substring(d4+d2.length)]};};H.splitByChar$1=function(d2,d3){return cZ.SplitChars(d3,[d2],0);};I.Guid$1=function(){cP.$cctor();return cP["|Guid|_|"];};I.Double$1=function(){cP.$cctor();return cP["|Double|_|"];};I.Single$1=function(){cP.$cctor();return cP["|Single|_|"];};I.Int$1=function(){cP.$cctor();return cP["|Int|_|"];};I.Date$1=function(){cP.$cctor();return cP["|Date|_|"];};I.parseGuidO$1=function(){cP.$cctor();return cP.parseGuidO;};I.parseDoubleO$1=function(){cP.$cctor();return cP.parseDoubleO;};I.parseSingleO$1=function(){cP.$cctor();return cP.parseSingleO;};I.parseIntO$1=function(){cP.$cctor();return cP.parseIntO;};I.parseDateO$1=function(){cP.$cctor();return cP.parseDateO;};I.parseDateO2=function(){cP.$cctor();return cP.parseDateO2;};I.tryParseWith$1=function(d2){function d3(d4,d5){return d4?{$:1,$0:d5}:null;}return function(d4){return d3.apply(null,d2(d4));};};J.PostAndAsyncReply=function(d2,d3,d4){return d2.PostAndAsyncReply(function(d5){return[d5,d3];},d4);};L.applyReply=function(d2,d3){return L.applyReplyA(function(d4){var d5;d5=null;return c3.Delay(function(){return c3.Return(d2(d4));});},d3);};L.applyReplyA=function(d2,d3){return d3.PostAndAsyncReply(function(d4){return function(d5){var d6;d6=null;return c3.Delay(function(){return c3.Bind(d2(d5),function(d7){d4(d7[1]);return c3.Return(d7[0]);});});};},null);};L.apply=function(d2,d3){L.applyA(function(d4){var d5;d5=null;return c3.Delay(function(){return c3.Return(d2(d4));});},d3);};L.applyA=function(d2,d3){d3.mailbox.AddLast(function(d4){var d5;d5=null;return c3.Delay(function(){return d2(d4);});});d3.resume();};L.setState=function(d2,d3){d3.mailbox.AddLast(function(){var d4;d4=null;return c3.Delay(function(){return c3.Return(d2);});});d3.resume();};L.getStateA=function(d2){return d2.PostAndAsyncReply(function(d3){return function(d4){var d5;d5=null;return c3.Delay(function(){d3(d4);return c3.Return(d4);});};},null);};K.defHandler=function(d2,d3){c.print$1(d2);return d3;};K.stateFull=function(d2,d3){return c_.Start(function(d4){function d5(d6){var d7;d7=null;return c3.Delay(function(){return c3.TryWith(c3.Delay(function(){return c3.Bind(d4.Receive(null),function(d8){return c3.Bind(d8(d6),function(d9){return d5(d9);});});}),function(d8){return d5(d2(d8,d6));});});}return d5(d3);},null);};K.fold=function(d2,d3,d4){return K.foldA(d2,function(d5,d6){var d7;d7=null;return c3.Delay(function(){return c3.Return(d3(d5,d6));});},d4);};K.foldA=function(d2,d3,d4){return c_.Start(function(d5){function d6(d7){var d8;d8=null;return c3.Delay(function(){return c3.TryWith(c3.Delay(function(){return c3.Bind(d5.Receive(null),function(d9){return c3.Bind(d3(d7,d9),function(d_){return d6(d_);});});}),function(d9){return d6(d2(d9,d7));});});}return d6(d4);},null);};K.call=function(d2,d3){return K.callA(d2,function(d4){var d5;d5=null;return c3.Delay(function(){return c3.Return(d3(d4));});});};K.callA=function(d2,d3){return K.iterA(d2,function(d4){var d5,d6,d7;d5=d4[0];d6=d4[1];d7=null;return c3.Delay(function(){return c3.Bind(d3(d6),function(d8){d5(d8);return c3.Zero();});});});};K.iter=function(d2,d3){return K.iterA(d2,function(d4){var d5;d5=null;return c3.Delay(function(){d3(d4);return c3.Zero();});});};K.iterA=function(d2,d3){return c_.Start(function(d4){var d5;d5=null;return c3.Delay(function(){return c3.While(function(){return true;},c3.Delay(function(){return c3.TryWith(c3.Delay(function(){return c3.Bind(d4.Receive(null),function(d6){return c3.Bind(d3(d6),function(){return c3.Return(null);});});}),function(d6){d2(d6);return c3.Zero();});}));});},null);};M.New=function(d2,d3,d4,d5){return{useCount:d2,limitCount:d3,resource:d4,configuration:d5};};N=c.ResourceAgent=cX.Class({increment:function(d2){var d3,d4;d3=this;return(this.respawnRightAfter?(d4=d2.configuration,function(d5){return d3.check(d4,d5);}):a.id)(M.New(d2.useCount+1,d2.limitCount,d2.resource,d2.configuration));},check:function(d2,d3){return d3.useCount<d3.limitCount&&this.alive(d3.resource)&&c7.Equals(d2,d3.configuration)?d3:this.respawn(M.New(d3.useCount,d3.limitCount,d3.resource,d2));},respawn:function(d2){this.clean(d2.resource);return M.New(0,d2.limitCount,this.ctor(d2.configuration),d2.configuration);},Respawn:function(){var d2;d2=this;L.apply(function(d3){return d2.respawn(d3);},this.agent);},set_Configuration:function(d2){var d3;d3=this;!c7.Equals(d2,this.get_Configuration())?L.apply(function(d4){return d3.respawn(M.New(d4.useCount,d4.limitCount,d4.resource,d2));},this.agent):void 0;},set_LimitCount:function(d2){L.apply(function(d3){return M.New(d3.useCount,d2,d3.resource,d3.configuration);},this.agent);},get_Configuration:function(){return this.get_State().configuration;},get_LimitCount:function(){return this.get_State().limitCount;},get_State:function(){throw"getState not available in JavaScript";},ProcessA:function(d2,d3){return this.AsyncProcessA(function(d4){var d5;d5=null;return c3.Delay(function(){return c3.Return(d2(d4));});},d3);},AsyncProcessA:function(d2,d3){var d4;d4=this;return L.applyReplyA(function(d5){var d6;d6=null;return c3.Delay(function(){var d7;d7=d4.check(d3==null?d5.configuration:d3.$0,d5);return c3.Bind(d2(d7.resource),function(d8){return c3.Return([d4.increment(d7),d8]);});});},this.agent);},Dispose:function(){try{this.clean(this.get_State().resource);}catch(d2){null;}}},k,N);N.New=cX.Ctor(function(d2,d3,d4,d5,d6,d7){var d8;d8=this;k.New.call(this);this.ctor=d3;this.clean=d5==null?a.ignore:d5.$0;this.alive=d6==null?function(){return true;}:d6.$0;this.respawnRightAfter=d7==null||d7.$0;this.agent=K.stateFull(function(d9,d_){c.print$1(d9);return d8.respawn(d_);},M.New(0,d2,this.ctor(d4),d4));},N);O.runSameConfig=function(d2,d3){return s.runReader([d2,d2.get_Configuration()],d3);};O.run=function(d2,d3,d4){return s.runReader([d2,d3],d4);};O.ofResourceRm=function(d2){var d3;d3=d2.$0;return{$:0,$0:function(d4){var d5,d6,d7,d8;d5=d4[0];d6=d4[1];d7=d5[1];d8=d5[0];return d8.AsyncProcessA(function(d9){var d_;d_=null;return c3.Delay(function(){return c3.Bind(d3([d9,d6]),function(d$){return c3.Return([d$[0],[d8,d7],d$[2]]);});});},{$:1,$0:d7});}};};O.createAgentRm=function(d2,d3){return t.op_GreaterGreaterEquals(s.readerFun(function(d4){return d4[0].AsyncProcessA(function(d5){return d2(d5,d3);},{$:1,$0:d4[1]});}),s.ofAsync);};Q.New=function(d2,d3,d4,d5){return{cargId:d2,name:d3,unique:d4,build:d5};};R=P.CommArgCollection=cX.Class({get_CommArgs:function(){return this.$0;}},null,R);R.op_Addition=function(d2,d3){return R.addPairs(d3.$0,d2);};R.op_Addition$1=function(d2,d3){return R.addPair(d3[0],d3[1],d2);};R.op_Addition$2=function(d2,d3){return R.addPairs(d3,d2);};S=P.TypedCommArg=cX.Class({get_CommArg:function(){return this.$0;}},null,S);S.op_DivisionAssignment=function(d2,d3){return[d2.$0,p.op_BarGreaterGreater(p.op_BarGreaterGreater(o.getS(),d3),a.id)];};S.op_DivisionAssignment$1=function(d2,d3){return[d2.$0,p.op_BarGreaterGreater(d3,a.id)];};S.op_DivisionAssignment$2=function(d2,d3){return[d2.$0,p.op_BarGreaterGreater(p.rtn(d3),a.id)];};T.getFloatR=function(d2,d3){return d2.$0.build.$==3?{$:0,$0:d3}:c.Error$1(new d({$:1,$0:"expecting TFloat"}));};T.getBoolR=function(d2,d3){return d2.$0.build.$==2?{$:0,$0:d3}:c.Error$1(new d({$:1,$0:"expecting TBool"}));};T.getStringR=function(d2,d3){return d2.$0.build.$==1?{$:0,$0:d3}:c.Error$1(new d({$:1,$0:"expecting TString"}));};T.getIntR=function(d2,d3){return d2.$0.build.$==0?{$:0,$0:d3}:c.Error$1(new d({$:1,$0:"expecting TInt"}));};T.argumentTRm=function(d2,d3){return T.argumentRm(d2,d3);};T.argumentRm=function(d2,d3){var d4;d4=o.fusion();return d4.Run(d4.Delay(function(){return d4.Bind(d3,function(d5){var d6;return d4.Return((d6=d2.build,d6.$==1?d6.$0(d5):d6.$==2?d6.$0(d5):d6.$==3?d6.$0(d5):d6.$0(d5)));});}));};T.NewFloat=function(d2,d3,d4){return new S({$:0,$0:T.New0(d2,d3,{$:3,$0:d4})});};T.NewBool=function(d2,d3,d4){return new S({$:0,$0:T.New0(d2,d3,{$:2,$0:d4})});};T.NewString=function(d2,d3,d4){return new S({$:0,$0:T.New0(d2,d3,{$:1,$0:d4})});};T.NewInt=function(d2,d3,d4){return new S({$:0,$0:T.New0(d2,d3,{$:0,$0:d4})});};T.New0=function(d2,d3,d4){return Q.New({$:0,$0:da.NewGuid()},d2,d3,d4);};R.addPairs=function(d2,d3){return R.append(d3,new R({$:0,$0:d2}));};R.append=function(d2,d3){var d4,d5;function d6(d7,d8){return function(d9){return R.addPair(d7,d8,d9);};}d4=(d5=function(d7){return d6.apply(null,a.id(d7));},function(d7){return function(d8){return(d5(d8))(d7);};});return c0.fold(function(d7,d8){return(d4(d7))(d8);},d2,d3.get_CommArgs());};R.addPair=function(d2,d3,d4){function d5(d6,d7){return!c7.Equals(d6.cargId,d2.cargId);}return new R({$:0,$0:c2.ofSeq(c0.append((d2.unique?function(d6){return c0.filter(function(d7){return d5(d7[0],d7[1]);},d6);}:a.id)(d4.$0),c1.ofArray([[d2,d3]])))});};R.getBoolR=function(d2,d3,d4){var d5,d6;d5=o.run(d4,R.getBoolRm(d2,d3));d6=d5[2];return l.ofOption(function(){return d6;},d5[0]);};R.getBoolRm=function(d2,d3){return p.op_BarGreaterGreater(R.tryGetBoolORm(d3),function(d4){return d4==null?d2:d4.$0;});};R.getFloatRm=function(d2){function d3(){return R.argumentNotFound(d2,void 0);}return p.op_GreaterGreaterEquals(R.tryGetFloatORm(d2),function(d4){return o.ofOption(d3,d4);});};R.getStringRm=function(d2){function d3(){return R.argumentNotFound(d2,void 0);}return p.op_GreaterGreaterEquals(R.tryGetStringORm(d2),function(d4){return o.ofOption(d3,d4);});};R.getIntRm=function(d2){function d3(){return R.argumentNotFound(d2,void 0);}return p.op_GreaterGreaterEquals(R.tryGetIntORm(d2),function(d4){return o.ofOption(d3,d4);});};R.findArgRm=function(d2){function d3(){return R.argumentNotFound(d2,void 0);}return p.op_GreaterGreaterEquals(R.tryFindArgORm(d2),function(d4){return o.ofOption(d3,d4);});};R.tryGetFloatORm=function(d2){function d3(d4,d5){return T.getFloatR(d2,d5);}return p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(p.op_BarGreaterGreater(R.tryFindArgORm(d2),function(d4){var d5;return d4==null?null:{$:1,$0:(d5=d4.$0,d3(d5[0],d5[1]))};}),l.insertO),o.ofResultRM);};R.tryGetBoolORm=function(d2){function d3(d4,d5){return T.getBoolR(d2,d5);}return p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(p.op_BarGreaterGreater(R.tryFindArgORm(d2),function(d4){var d5;return d4==null?null:{$:1,$0:(d5=d4.$0,d3(d5[0],d5[1]))};}),l.insertO),o.ofResultRM);};R.tryGetStringORm=function(d2){function d3(d4,d5){return T.getStringR(d2,d5);}return p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(p.op_BarGreaterGreater(R.tryFindArgORm(d2),function(d4){var d5;return d4==null?null:{$:1,$0:(d5=d4.$0,d3(d5[0],d5[1]))};}),l.insertO),o.ofResultRM);};R.tryGetIntORm=function(d2){function d3(d4,d5){return T.getIntR(d2,d5);}return p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(p.op_BarGreaterGreater(R.tryFindArgORm(d2),function(d4){var d5;return d4==null?null:{$:1,$0:(d5=d4.$0,d3(d5[0],d5[1]))};}),l.insertO),o.ofResultRM);};R.tryFindArgORm=function(d2){return p.op_GreaterGreaterEquals(o.readerFun(function(d3){var d4,d5;return o.insertO((d4=R.tryFindArgO(d2,d3),d4==null?null:{$:1,$0:(d5=d4.$0,o.insertFst(d5[0],d5[1]))}));}),a.id);};R.tryFindArgO=function(d2,d3){var d4;d4=d2.$0;return c0.tryFind(function(d5){return c7.Equals(d5[0].cargId,d4.cargId);},d3.$0);};R.argumentNotFound=function(d2,d3){return new d({$:1,$0:(function(d4){return function(d5){return d4("argument not found: "+cY.toSafe(d5));};}(a.id))(d2.$0.name)});};R.containsAnyOfRm=function(d2){return o.readerFun(function(d3){function d4(d5,d6){return d2.Contains(d5.cargId);}return c0.exists(function(d5){return d4(d5[0],d5[1]);},d3.$0);});};R.argumentsRm=function(d2){return p.op_GreaterGreaterEquals(R.filterRm(d2),function(d3){return o.traverseSeq(function(d4){return T.argumentTRm(d4[0],d4[1]);},d3);});};R.filterRm=function(d2){return o.readerFun(function(d3){return c0.filter(d2,d3.$0);});};R.existsRm=function(d2){return o.readerFun(function(d3){return c0.exists(d2,d3.$0);});};R.argsRm=function(){return o.readerFun(function(d2){return d2.$0;});};R.contains=function(d2,d3){function d4(d5,d6){return d5.cargId;}return c0.contains(d2.$0.cargId,c0.map(function(d5){return d4(d5[0],d5[1]);},d3.$0));};R.trueForAll=function(d2){return true;};V.NoPrepo={$:12};V.PrepoEndIf={$:9};V.PrepoElse={$:8};U.getSourceDir=function(d2,d3){var d4,d5,d6,d7,d8,d9,d_,d$,ea,eb;d4=c2.get(d3,0);d5=c2.tryItem(1,d3);return(d7=H.StartsWith$1("////#cd @\"",d4),d7!=null&&d7.$==1?(d6=d7.$0,true):d5!=null&&d5.$==1&&(d8=H.StartsWith$1("////#cd @\"",d5.$0),d8!=null&&d8.$==1&&(d6=d8.$0,true)))?(d9=cZ.Trim(d6),(d$=H.EndsWith$1("\"",d9),d$!=null&&d$.$==1?d_=d$.$0:d_=d9,(ea=H.StartsWith$1("\\",d_),ea!=null&&ea.$==1)?d_:(eb=H.StartsWith$1("/",d_),eb!=null&&eb.$==1)?d_:c7.Equals(c0.tryItem(1,d_),{$:1,$0:":"})?d_:d2+"/"+d_)):d2;};U.separateDirectives=function(d2){var d3,d4,d5,d6,d7;function d8(eg){return eg[1];}function d9(eg){return eg.$==1?{$:1,$0:eg.$0}:null;}function d_(eg){return eg[1];}function d$(eg){return eg.$==2?{$:1,$0:eg.$0}:null;}function ea(eg){return eg[1];}function eb(eg){return eg.$==6?{$:1,$0:eg.$0}:null;}function ec(eg){return eg[1];}function ed(eg){return eg.$==5?{$:1,$0:eg.$0}:null;}function ee(eg){return eg[1];}function ef(eg){return eg.$==0?{$:1,$0:eg.$0}:null;}d3=c2.ofSeq(c0.distinct(c0.choose(function(eg){return d9(d8(eg));},d2)));d4=c2.ofSeq(c0.distinct(c0.choose(function(eg){return d$(d_(eg));},d2)));d5=c2.ofSeq(c0.distinct(c0.choose(function(eg){return eb(ea(eg));},d2)));d6=c2.ofSeq(c0.distinct(c0.choose(function(eg){return ed(ec(eg));},d2)));d7=c0.tryHead(c0.choose(function(eg){return ef(ee(eg));},d2));return[c2.ofSeq(c0.map(function(eg){return eg[0];},d2)),d3,d4,d5,d6,d7];};U.separatePrepros=function(d2){function d3(d6){var d7;d7=c0.tryLast(cZ.SplitStrings(cZ.Trim(d6),["\""],1));return d7==null?d6:d7.$0;}function d4(d6){var d7;d7=c0.tryHead(cZ.SplitStrings(cZ.Trim(d6),["#define "],1));return d7==null?"":d7.$0;}function d5(d6){return"//"+d6;}return c2.map(function(d6){var d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei;d7=true;return d7&&cZ.StartsWith(d6,"#define")?[d5(d6),{$:2,$0:d4(d6)}]:d7&&cZ.StartsWith(d6,"#cd")?[d5(d6),{$:0,$0:d3(d6)}]:d7&&cZ.StartsWith(d6,"#r")?[d5(d6),{$:1,$0:d3(d6)}]:d7&&cZ.StartsWith(d6,"#load")?[d5(d6),{$:3,$0:d3(d6)}]:d7&&cZ.StartsWith(d6,"#nowarn")?[d5(d6),{$:5,$0:d3(d6)}]:d7&&cZ.StartsWith(cZ.Trim(d6),"# ")?[d5(d6),{$:4,$0:d3(d6)}]:d7&&cZ.StartsWith(cZ.Trim(d6),"#line")?[d5(d6),{$:4,$0:d3(d6)}]:d7&&cZ.StartsWith(d6,"#I")?[d5(d6),{$:6,$0:d3(d6)}]:d7&&cZ.StartsWith(d6,"#if")?[d6,{$:7,$0:d6}]:d7&&cZ.StartsWith(d6,"#else")?[d6,V.PrepoElse]:d7&&cZ.StartsWith(d6,"#endif")?[d6,V.PrepoEndIf]:d7&&cZ.StartsWith(d6,"#light")?[d6,{$:10,$0:false}]:d7&&cZ.StartsWith(d6,"#")?[d5(d6),{$:11,$0:d6}]:[d6,V.NoPrepo];},d2);};U.extractDefines=function(d2){var d3;d3=d2.$0;return cZ.StartsWith(d3,"////-d:")?c8.string(d3,{$:1,$0:4},{$:1,$0:d3.indexOf("\n")-1}):"";};W=c.SnippetId=cX.Class({get_Id:function(){return this.$0;}},null,W);W.get_Empty=function(){return new W({$:0,$0:"00000000-0000-0000-0000-000000000000"});};X.New=function(d2,d3,d4,d5,d6,d7,d8){return{snpId:d2,snpName:d3,snpContent:d4,snpParentIdO:d5,snpPredIds:d6,snpProperties:d7,snpGeneration:d8};};Y.New=function(d2,d3,d4,d5,d6,d7){return{generation:d2,ordered:d3,fetcher:d4,predecesorsCache:d5,reducedCache:d6,prepCode:d7};};Z.codeFsxRm=function(d2){return p.op_BarGreaterGreater(Z.fastCodeRm({$:1,$0:d2},{$:1,$0:d2}),function(d3){return d3[0];});};Z.fastCodeRm=function(d2,d3){var d4;d4=o.fusion();return d4.Run(d4.Delay(function(){return d4.Bind(Z.fastReducedRm(d2,d3),function(d5){return d4.Return(Z.finishCode(d5[0],d5[1],d5[2],d5[3],d5[4],d5[5],d5[6]));});}));};Z.fastReducedRm=function(d2,d3){var d4;d4=o.fusion();return d4.Run(d4.Delay(function(){return d4.Bind(o.insertO(d2==null?null:{$:1,$0:Z.snippetORm(d2.$0)}),function(d5){return d4.Bind(o.insertO(d3==null?null:{$:1,$0:Z.snippetORm(d3.$0)}),function(d6){var d7,d8,d9,d_;d7=d5==null?null:d5.$0;d8=d6==null?null:d6.$0;return(d8!=null&&d8.$==1?d7!=null&&d7.$==1?(d9=[d7.$0,d8.$0],false):true:true)?d4.ReturnFrom(Z.reducedCodeRm([])):(d_=d9[0],d4.Bind(Z.uniquePredsRm(d9[1]),function(d$){var ea;ea=new dc.New(d$);return d4.Bind((Z.reducedOthersORmMemo())([true,d_.snpId,ea]),function(eb){return d4.Bind((Z.reducedOthersORmMemo())([false,d_.snpId,ea]),function(ec){return d4.Bind(Z.separateCodeRm(d_),function(ed){var ee,ef,eg,eh;ee=(ef=eb==null?null:{$:1,$0:(function(ei){var ej,ek,el,em,en,eo,ep;ej=ei[0];ek=ei[1];el=ei[2];em=ei[3];en=ei[4];eo=ei[5];ep=ei[6];return function(eq){return Z.addSeps(ej,ek,el,em,en,eo,ep,eq[0],eq[1],eq[2],eq[3],eq[4],eq[5],eq[6]);};}(eb.$0))(ed)},ef==null?ed:ef.$0);return d4.Return((eg=ec==null?null:{$:1,$0:(eh=ec.$0,Z.addSeps(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5],ee[6],eh[0],eh[1],eh[2],eh[3],eh[4],eh[5],eh[6]))},eg==null?ee:eg.$0));});});});}));});});}));};Z.reducedOthersORmMemo=function(){function d2(d3){return d3.reducedCache();}return function(d3){return o.memoizeRm(d2,function(d4){return Z.reducedOthersORm(d4[0],d4[1],d4[2]);},d3);};};Z.reducedOthersORm=function(d2,d3,d4){var d5;d5=o.fusion();return d5.Run(d5.Delay(function(){function d6(d7){return!c7.Equals(d7.snpId,d3)&&d4.Contains(d7.snpId);}return d5.Bind(p.op_BarGreaterGreater(p.op_BarGreaterGreater(Z.orderedRm(),(d2?function(d7){return function(d8){return c0.takeWhile(d7,d8);};}:function(d7){return function(d8){return c0.skipWhile(d7,d8);};})(function(d7){return!c7.Equals(d7.snpId,d3);})),function(d7){return c0.filter(d6,d7);}),function(d7){return c0.isEmpty(d7)?d5.Return(null):d5.Bind(Z.reducedCodeRm(d7),function(d8){return d5.Return({$:1,$0:d8});});});}));};Z.finishCode=function(d2,d3,d4,d5,d6,d7,d8){var d9,d_;d9=cZ.concat(" ",c0.map(function(d$){return"-d:"+d$;},c0.sort(d5)));d_=c1.ofSeq(c0.delay(function(){return c0.append(d9!==""?["////"+d9]:[],c0.delay(function(){return c0.append(d8!=null?[(function(d$){return function(ea){return d$("////#cd @\""+cY.toSafe(ea)+"\"");};}(a.id))(d8.$0)]:[],c0.delay(function(){return c0.append(c0.map(function(d$){return function(ea){return d$("#I @\""+cY.toSafe(ea)+"\"");};}(a.id),d6),c0.delay(function(){return c0.append(c0.map(function(d$){return function(ea){return d$("#r @\""+cY.toSafe(ea)+"\"");};}(a.id),d4),c0.delay(function(){return c0.map(function(d$){return function(ea){return d$("#nowarn \""+cY.toSafe(ea)+"\"");};}(a.id),d7);}));}));}));}));}));return[cZ.concat("\n",c0.append(d_,d3)),c2.ofSeq((c0.mapFold(function(d$,ea){var eb;eb=ea[2];return[[[ea[0],ea[1]],[ea[3],d$,d$+eb]],d$+eb];},d_.get_Length(),d2))[0])];};Z.reducedCodeRm=function(d2){var d3;d3=o.fusion();return d3.Run(d3.Delay(function(){return d3.Bind(o.traverseSeq(Z.separateCodeRm,d2),function(d4){var d5;return d3.Return((d5=c0.reduce(function(d6,d7){return(function(d8){var d9,d_,d$,ea,eb,ec,ed;d9=d8[0];d_=d8[1];d$=d8[2];ea=d8[3];eb=d8[4];ec=d8[5];ed=d8[6];return function(ee){return Z.addSeps(d9,d_,d$,ea,eb,ec,ed,ee[0],ee[1],ee[2],ee[3],ee[4],ee[5],ee[6]);};}(d6))(d7);},c0.isEmpty(d4)?[[[],[],[],[],[],[],null]]:d4),[d5[0],[cZ.concat("\n",d5[1])],d5[2],d5[3],d5[4],d5[5],d5[6]]));});}));};Z.addSeps=function(d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed){return[d2.concat(d9),d3.concat(d_),c2.ofSeq(c0.distinct(c0.append(d4,d$))),c2.ofSeq(c0.distinct(c0.append(d5,ea))),c2.ofSeq(c0.distinct(c0.append(d6,eb))),c2.ofSeq(c0.distinct(c0.append(d7,ec))),d8==null?ed:d8];};Z.separateCodeRm=function(d2){var d3;d3=o.fusion();return d3.Run(d3.Delay(function(){return d3.Bind(Z.indentRm(d2),function(d4){var d5;function d6(d7,d8){return[cZ.replicate(d4," ")+d7,d8];}d5=(d4===0?[a.id,""]:[function(d7){return c2.map(function(d8){return d6(d8[0],d8[1]);},d7);},(function(d7){return function(d8){return d7("("+a.String(d8)+")");};}(a.id))(d4)])[0];return d3.Bind(Z.prepareCodeRm(d2),function(d7){var d8,d9;d8=U.separateDirectives(d5(U.separatePrepros(cZ.SplitChars(d7,["\n"],0))));d9=d8[0];return d3.Return([[[d2.snpId,Z.snippetName(d2.snpName,d2.snpContent),c2.length(d9),d4]],d9,d8[1],d8[2],d8[3],d8[4],d8[5]]);});});}));};Z.ancestorsRm=function(d2){function d3(d4,d5){var d6;d6=o.fusion();return d6.Run(d6.Delay(function(){return d6.Bind(Z.parentORm(d4),function(d7){var d8;return d7==null?d6.Return(d5):(d8=d7.$0,d6.ReturnFrom(d3(d8,new c1.T({$:1,$0:d8,$1:d5}))));});}));}return d3(d2,c1.T.Empty);};Z.levelRm=function(d2){function d3(d4,d5){var d6;d6=o.fusion();return d6.Run(d6.Delay(function(){return d6.Bind(Z.parentORm(d4),function(d7){return d7!=null&&d7.$==1?d6.ReturnFrom(d3(d7.$0,d5+1)):d6.Return(d5);});}));}return d3(d2,0);};Z.indentRm=function(d2){function d3(d4){var d5;d5=o.fusion();return d5.Run(d5.Delay(function(){var d6,d7,d8,d9;d6=(d7=Z.propertyPairO("IndentChildren",d4),d7!=null&&d7.$==1?[(I.parseIntO$1())(d7.$0[0]),(I.parseIntO$1())(d7.$0[1])]:[null,null]);d8=d6[1];d9=d6[0];return d5.Bind(Z.parentORm(d4),function(d_){return d_==null?d5.Return([0,[d9==null?4:d9.$0,d8==null?4:d8.$0]]):d5.Bind(d3(d_.$0),function(d$){var ea,eb;ea=d$[1][1];eb=d$[1][0];return d5.Return([eb,[eb+(d9==null?ea:d9.$0),d8==null?ea:d8.$0]]);});});}));}return p.op_BarGreaterGreater(d3(d2),function(d4){return d4[0];});};Z.propertyHierORm=function(d2,d3){var d4;d4=o.fusion();return d4.Run(d4.Delay(function(){var d5,d6;d5=Z.propertyO(d2,d3);return d5==null?d4.Bind(Z.parentORm(d3),function(d7){return d7==null?d4.Return(null):d4.Bind(Z.propertyHierORm(d2,d7.$0),function(d8){var d9,d_,d$;return d4.Return(d8==null?null:{$:1,$0:(d9=d8.$0,(d_=d9[0],(d$=d9[1][1],[d_,[d$,d$]])))});});}):d4.Return({$:1,$0:[d3,(d6=cZ.SplitStrings(d5.$0,["|-|"],1),[c2.get(d6,0),c2.length(d6)>1?c2.get(d6,1):c2.get(d6,0)])]});}));};Z.modifiedRecRm=function(d2){var d3;d3=o.fusion();return d3.Run(d3.Delay(function(){return d3.Bind(Z.modifiedRm(d2),function(d4){return d4?d3.Return(true):d3.Bind(Z.uniquePredsRm(d2),function(d5){return d3.Bind(o.sequenceSeq(c0.map(Z.snippetORm,d5)),function(d6){return d3.Bind(o.sequenceSeq(c0.map(Z.modifiedRm,c0.choose(a.id,d6))),function(d7){return d3.Return(c0.contains(true,d7));});});});});}));};Z.predsGenerationRm=function(d2){var d3;d3=o.fusion();return d3.Run(d3.Delay(function(){return d3.Bind(p.op_GreaterGreaterEquals(Z.uniquePredsRm(d2),function(d4){return o.traverseSeq(Z.snippetRm,d4);}),function(d4){return d3.Return(c0.max(c0.map(function(d5){return d5.snpGeneration;},d4)));});}));};Z.uniquePredsRm=function(d2){return(Z.predsLRmMemo())(d2.snpId);};Z.predsLRmMemo=function(){function d2(d3){return d3.predecesorsCache();}return function(d3){return o.memoizeRm(d2,Z.predsLRm,d3);};};Z.predsLRm=function(d2){var d3;d3=o.fusion();return d3.Run(d3.Delay(function(){var d4,d5;d4=c1.ofArray([d2]);d5=c1.T.Empty;return d3.Combine(d3.While(function(){return!(d4.$==0);},d3.Delay(function(){var d6,d7;return d4.$==1?(d6=d4.$1,(d7=d4.$0,c1.contains(d7,d5)?(d4=d6,d3.Zero()):d3.Bind(Z.snippetORm(d7),function(d8){var d9,d_;d4=c1.append(d6,(d9=d8==null?null:{$:1,$0:(d_=d8.$0,c1.append(c1.ofSeq(d_.snpPredIds),dd.toList(d_.snpParentIdO)))},d9==null?c1.T.Empty:d9.$0));d5=new c1.T({$:1,$0:d7,$1:d5});return d3.Zero();}))):d3.Zero();})),d3.Delay(function(){return d3.Return(d5);}));}));};Z.snippetFromRefORm=function(d2){return d2.$==1?Z.snippetFromPathORm(d2.$0):Z.snippetORm(d2.$0);};Z.snippetFromPathORm=function(d2){var d3;d3=o.fusion();return d3.Run(d3.Delay(function(){return d3.Bind(Z.orderedRm(),function(d4){function d5(d6,d7){return function(d8){return d6.length===0?[null,[[],d7]]:Z.snippetName(d8.snpName,d8.snpContent)!==c2.get(d6,0)||!c7.Equals(d8.snpParentIdO,d7)?[null,[d6,d7]]:d6.length>1?[null,[c8.array(d6,{$:1,$0:1},null),{$:1,$0:d8.snpId}]]:[{$:1,$0:d8},[[],d7]];};}return d3.Return(c0.tryHead(c0.choose(a.id,(c0.mapFold(function(d6,d7){return(function(d8){return d5(d8[0],d8[1]);}(d6))(d7);},[d2,null],d4))[0])));});}));};Z.pathRm=function(d2){var d3;function d4(d5){return p.op_BarGreaterGreater(Z.pathRm(d5.snpId),function(d6){return new c1.T({$:1,$0:d5.snpId,$1:d6});});}return p.op_BarGreaterGreater(p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(p.op_BarGreaterGreater(p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(Z.snippetORm(d2),function(d5){return d5==null?null:{$:1,$0:Z.parentORm(d5.$0)};}),o.insertO),function(d5){return d5==null?null:a.id(d5.$0);}),function(d5){return d5==null?null:{$:1,$0:d4(d5.$0)};}),o.insertO),(d3=c1.T.Empty,function(d5){return d5==null?d3:d5.$0;}));};Z.snippetNameRm=function(d2){return p.op_BarGreaterGreater(Z.snippetRm(d2),function(d3){return Z.snippetName(d3.snpName,d3.snpContent);});};Z.snippetRm=function(d2){return o.absorbO(function(){return new d({$:1,$0:(function(d3){return function(d4){return d3("Snippet not found "+cS.p(d4));};}(a.id))(d2)});},Z.snippetORm(d2));};Z.prepareCodeRm=function(d2){return o.readerFun(function(d3){return d3.prepCode(d2);});};Z.orderedRm=function(){return o.readerFun(function(d2){return d2.ordered;});};Z.childrenRm=function(d2){return o.readerFun(function(d3){return c0.filter(function(d4){return c7.Equals(d4.snpParentIdO,{$:1,$0:d2});},d3.ordered);});};Z.modifiedRm=function(d2){return o.readerFun(function(d3){return d2.snpGeneration>d3.generation;});};Z.maxGenerationRm=function(){return o.readerFun(function(d2){return c0.max(c0.map(function(d3){return d3.snpGeneration;},d2.ordered));});};Z.predecessorsRm=function(d2){return o.readerFun(function(d3){return c0.choose(d3.fetcher,d2.snpPredIds);});};Z.parentORm=function(d2){return o.readerFun(function(d3){var d4;d4=d2.snpParentIdO;return d4==null?null:d3.fetcher(d4.$0);});};Z.snippetORm=function(d2){return o.readerFun(function(d3){return d3.fetcher(d2);});};Z.propertyPairO=function(d2,d3){var d4,d5,d6,d7;d4=Z.propertyO(d2,d3);return d4==null?null:{$:1,$0:(d5=cZ.SplitStrings(d4.$0,[Z.tieFighter()],1),[c2.get(d5,0),(d6=c2.tryItem(1,d5),(d7=c2.get(d5,0),d6==null?d7:d6.$0))])};};Z.tieFighter=function(){cP.$cctor();return cP.tieFighter;};Z.propertyO=function(d2,d3){function d4(d5,d6){return d5===d2?{$:1,$0:d6}:null;}return c2.tryPick(function(d5){return d4(d5[0],d5[1]);},d3.snpProperties);};Z.nameSanitized=function(d2){var d3,d4;d3=["\"","<",">","|","\u0000","\u0001","\u0002","\u0003","\u0004","\u0005","\u0006","\u0007","\u0008","\u0009","\n","\u000b","\u000c","\r","\u000e","\u000f","\u0010","\u0011","\u0012","\u0013","\u0014","\u0015","\u0016","\u0017","\u0018","\u0019","\u001a","\u001b","\u001c","\u001d","\u001e","\u001f",":","*","?","\\","/"];return cZ.Filter(function(d5){return!c2.contains(d5,d3);},d2.snpName)+" "+(d4=d2.snpId.get_Id(),a.String(d4));};Z.snippetName=function(d2,d3){var d4;return d2!==""?d2:(d4=c0.tryHead(c0.filter(function(d5){return!(cZ.StartsWith(d5,"#")||cZ.StartsWith(d5,"[<")||cZ.StartsWith(d5,"//"));},c0.map(cZ.Trim,cZ.SplitChars(d3,["\n"],1)))),d4==null?"<empty>":d4.$0);};Z.defaultSnippet=function(){cP.$cctor();return cP.defaultSnippet;};Z.New=function(d2,d3,d4){return X.New(new W({$:0,$0:da.NewGuid()}),d2,d3,d4,new dc.New$1(null),[],(Z.getNextGeneration())());};Z.getNextGeneration=function(){cP.$cctor();return cP.getNextGeneration;};Z.setGeneration=function(){cP.$cctor();return cP.setGeneration;};_0.Hole={$:0};_2.New=function(d2,d3,d4,d5,d6,d7,d8){return{id:d2,isExpandedRm:d3,canHaveChildrenRm:d4,childrenRm:d5,pathRm:d6,parentORm:d7,newChildrenRm:d8};};_1.removeNodeOutdentChildren=function(d2,d3){var d4;function d5(d6,d7){return p.op_GreaterGreaterEquals(d6,function(d8){return _1.outdentNode(d7,d8);});}return p.op_GreaterGreaterEquals(p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(d2.childrenRm(),c2.ofSeq),(d4=p.rtn(d3),function(d6){return c0.fold(d5,d4,d6);})),function(d6){return _1.removeNode(d2,d6);});};_1.outdentNode=function(d2,d3){var d4;function d5(d6){return _1.moveToSibling(true,d2,d6,d3);}return p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(d2.parentORm(d3),function(d6){return d6==null?null:{$:1,$0:d5(d6.$0)};}),(d4=p.rtn(d3),function(d6){return d6==null?d4:d6.$0;}));};_1.indentNode=function(d2,d3){var d4;function d5(d7){return!c7.Equals(d2.id(),d7.id());}function d6(d7,d8){return p.op_GreaterGreaterEquals(d8.canHaveChildrenRm(),function(d9){return d9?p.rtn({$:1,$0:d8}):d7;});}return p.op_GreaterGreaterEquals(p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(p.op_GreaterGreaterEquals(d2.parentORm(d3),function(d7){return d7!=null&&d7.$==1?p.op_BarGreaterGreater(d7.$0.childrenRm(),function(d8){var d9;d9=c2.ofSeq(d8);return d9;}):p.rtn(d3);}),function(d7){return c0.takeWhile(d5,d7);}),(d4=p.rtn(null),function(d7){return c0.fold(d6,d4,d7);})),function(d7){var d8;return d7!=null&&d7.$==1?(d8=d7.$0,p.op_GreaterGreaterEquals(_1.removeNode(d2,d3),function(d9){return _1.addChild(true,d2,d8,d9);})):p.rtn(d3);});};_1.addChild=function(d2,d3,d4,d5){var d6;d6=o.fusion();return d6.Run(d6.Delay(function(){return d6.Bind(d4.pathRm(),function(d7){function d8(d9){var d_,d$;return c7.Equals(d9.id(),d4.id())?d2?p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(p.op_BarGreaterGreater(p.op_BarGreaterGreater(d9.childrenRm(),c2.ofSeq),(d_=c1.ofArray([d3]),function(ea){return c0.append(ea,d_);})),c2.ofSeq),d9.newChildrenRm):p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(p.op_BarGreaterGreater(p.op_BarGreaterGreater(d9.childrenRm(),c2.ofSeq),(d$=c1.ofArray([d3]),function(ea){return c0.append(d$,ea);})),c2.ofSeq),d9.newChildrenRm):c1.contains(d9.id(),d7)?p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(p.op_BarGreaterGreater(d9.childrenRm(),c2.ofSeq),function(ea){return c0.map(d8,ea);}),o.sequenceSeq),c2.ofSeq),d9.newChildrenRm):p.rtn(d9);}return d6.ReturnFrom(o.sequenceSeq(c0.map(d8,d5)));});}));};_1.moveToSibling2=function(d2,d3,d4,d5){var d6;d6=o.fusion();return d6.Run(d6.Delay(function(){return d6.Bind(_1.tryFindId(d3,d5),function(d7){var d8;return d7!=null&&d7.$==1?(d8=d7.$0,d6.Bind(_1.tryFindId(d4,d5),function(d9){return d9!=null&&d9.$==1?d6.ReturnFrom(_1.moveToSibling(d2,d8,d9.$0,d5)):d6.Return(d5);})):d6.Return(d5);});}));};_1.moveToSibling=function(d2,d3,d4,d5){return p.op_GreaterGreaterEquals(_1.removeNode(d3,d5),function(d6){return _1.addSibling(d2,d3,d4,d6);});};_1.tryFindId=function(d2,d3){return _1.tryFind(function(d4){return c7.Equals(d4.id(),d2);},d3);};_1.tryFind=function(d2,d3){function d4(d5,d6){return p.op_GreaterGreaterEquals(d5,function(d7){var d8;return d7==null?d2(d6)?p.rtn({$:1,$0:d6}):p.op_GreaterGreaterEquals(d6.childrenRm(),(d8=p.rtn(null),function(d9){return c0.fold(d4,d8,d9);})):p.rtn({$:1,$0:d7.$0});});}return c0.fold(d4,p.rtn(null),d3);};_1.addSibling=function(d2,d3,d4,d5){function d6(d7){return c7.Equals(d7.id(),d4.id());}return p.op_GreaterGreaterEquals(d4.pathRm(),function(d7){var d8,d9;function d_(d$){return c7.Equals(d$.id(),d9)?p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(d$.childrenRm(),c2.ofSeq),function(ea){return _1.addToParent(d2,d6,d3,d$,ea);}):c1.contains(d$.id(),d8)?p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(p.op_BarGreaterGreater(d$.childrenRm(),c2.ofSeq),function(ea){return c0.map(d_,ea);}),o.sequenceSeq),c2.ofSeq),d$.newChildrenRm):p.rtn(d$);}return d7.$==1?(d8=d7.$1,(d9=d7.$0,o.sequenceSeq(c0.map(d_,d5)))):p.rtn(_1.addNodeToSeq(d2,d6,d3,d5));});};_1.addToParent=function(d2,d3,d4,d5,d6){return d5.newChildrenRm(c2.ofSeq(_1.addNodeToSeq(d2,d3,d4,d6)));};_1.addNodeToSeq=function(d2,d3,d4,d5){return c1.ofSeq(c0.delay(function(){return c0.collect(function(d6){return d3(d6)?d2?c0.append([d6],c0.delay(function(){return[d4];})):c0.append([d4],c0.delay(function(){return[d6];})):[d6];},d5);}));};_1.removeNodes=function(d2,d3){var d4;d4=o.fusion();return d4.Run(d4.Delay(function(){function d5(d6,d7){var d8;d8=o.fusion();return d8.Run(d8.Delay(function(){return d8.Bind(d6,function(d9){var d_,d$;d_=d9[1];d$=d9[0];return d8.Bind(p.op_BarGreaterGreater(d7.childrenRm(),c2.ofSeq),function(ea){return d8.Bind(c0.fold(d5,p.rtn([c1.T.Empty,d_]),ea),function(eb){var ec,ed;ec=eb[1];ed=eb[0];return d2(d7)?d8.Return([d$,c1.append(ed,ec)]):d8.Bind(d7.newChildrenRm(c2.ofSeq(c0.rev(ed))),function(ee){return d8.Return([new c1.T({$:1,$0:ee,$1:d$}),ec]);});});});});}));}return d4.Bind(c0.fold(d5,p.rtn([c1.T.Empty,c1.T.Empty]),d3),function(d6){return d4.Return(c1.rev(c1.append(d6[1],d6[0])));});}));};_1.removeNode=function(d2,d3){var d4;d4=o.fusion();return d4.Run(d4.Delay(function(){return d4.Bind(d2.pathRm(),function(d5){function d6(d7){var d8;d8=o.fusion();return d8.Run(d8.Delay(function(){return c7.Equals(d7.id(),d2.id())?d8.Return(null):c1.contains(d7.id(),d5)?d8.ReturnFrom(p.op_BarGreaterGreater(p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(p.op_BarGreaterGreater(p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(p.op_BarGreaterGreater(d7.childrenRm(),c2.ofSeq),function(d9){return c0.map(d6,d9);}),o.sequenceSeq),function(d9){return c0.choose(a.id,d9);}),c2.ofSeq),d7.newChildrenRm),function(d9){return{$:1,$0:d9};})):d8.Return({$:1,$0:d7});}));}return d4.ReturnFrom(p.op_BarGreaterGreater(o.sequenceSeq(c0.map(d6,d3)),function(d7){return c0.choose(a.id,d7);}));});}));};_1.listNodes=function(d2,d3){return p.op_BarGreaterGreater(o.sequenceSeq(c0.map(function(d4){return p.op_BarGreaterGreater(p.op_GreaterGreaterEquals(d4.isExpandedRm(),function(d5){var d6;return d5?p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(d4.childrenRm(),c2.ofSeq),(d6=d2+1,function(d7){return _1.listNodes(d6,d7);})):p.rtn([]);}),function(d5){return c0.append([[d4,d2]],d5);});},d3)),function(d4){return c0.collect(a.id,d4);});};c["String.Right$1"]=function(d2,d3){var d4,d5;return c["String.Substring2$1"](d2,(d4=0,(d5=d2.length-d3,c7.Compare(d4,d5)===1?d4:d5)),d2.length);};c["String.Left$1"]=function(d2,d3){return d3<0?c["String.Substring2$1"](d2,0,d2.length+d3):c["String.Substring2$1"](d2,0,d3);};c["String.Substring2$1"]=function(d2,d3,d4){var d5,d6;while(true){if(d4<=0)return"";else if(d3<0){d5=d3;d3=0;d4=d4+d5;}else return d3>=d2.length?"":cZ.Substring(d2,d3,(d6=d2.length-d3,c7.Compare(d4,d6)===-1?d4:d6));}};c.delayed$1=function(d2,d3){var d4;d4=[null];return function(d5){var d6,d7;d6=d4[0];d6==null?void 0:d6.$0.Cancel$1();d4[0]={$:1,$0:new de.New()};c3.Start((d7=null,c3.Delay(function(){return c3.Bind(c3.Sleep(d2),function(){d3(d5);return c3.Zero();});})),{$:1,$0:d4[0].$0});};};c.print$1=function(d2){if(typeof d2=="string")((function(d3){return function(d4){return d3(cY.toSafe(d4));};}(function(d3){df.log(d3);}))(d2));else((function(d3){return function(d4){return d3(cY.prettyPrint(d4));};}(function(d3){df.log(d3);}))(d2));};c.Error$1=function(d2){return{$:1,$0:d2};};_4.ofAsyncResultM=function(d2){return new a.Promise(function(d3,d4){c3.StartWithContinuations(d2,function(d5){var d6;d6=f.OkM(d5);d6.$==1?d4(d.summarized(d6.$0)):d3(d6.$0[0]);},function(d5){d4(d5);},function(d5){d4(d5);},null);});};_4.ofAsyncResult=function(d2){return new a.Promise(function(d3,d4){c3.StartWithContinuations(d2,function(d5){if(d5.$==1)d4((function(d6){return function(d7){return d6(cY.prettyPrint(d7));};}(a.id))(d5.$0));else d3(d5.$0);},function(d5){d4(d5);},function(d5){d4(d5);},null);});};_5.sequenceSeq=function(d2){return _5.traverseSeq(a.id,d2);};_5.traverseSeq=function(d2,d3){return _5.map(a.id,c2.foldBack(function(d4,d5){return _5.op_GreaterGreaterEquals(d2(d4),function(d6){return _5.op_GreaterGreaterEquals(d5,function(d7){return _5.rtn(new c1.T({$:1,$0:d6,$1:d7}));});});},c2.ofSeq(d3),_5.rtn(c1.T.Empty)));};_5.op_GreaterGreaterEquals=function(d2,d3){return _5.bind(d3,d2);};_5.rtn=function(d2){return dh.Const(d2);};_5.map=function(d2,d3){return dh.Map(d2,d3);};_5.bind=function(d2,d3){return dh.Bind(d2,d3);};_5.insertWO=function(d2){return d2==null?dh.Const(null):dh.Map(function(d3){return{$:1,$0:d3};},d2.$0);};_6.newPojo=function(d2){var d3,d4;function d5(d7,d8){return function(d9){return _6.addProp(d7,d8,d9);};}function d6(d7){}d3={};c0.iter((d4=function(d7){return(function(d8){return d5(d8[0],d8[1]);}(d7))(d3);},function(d7){return d6(d4(d7));}),d2);return d3;};_6.addProp=function(d2,d3,d4){d4[d2]=d3;return d4;};_8.New=function(d2,d3){return{line:d2,col:d3};};_9.Hint={$:3};_9.Info={$:2};_9.Warning={$:1};_9.Error={$:0};_.New=function(d2,d3,d4,d5){return{startP:d2,endP:d3,severity:d4,message:d5};};$.New=function(d2,d3,d4,d5){return{kind:d2,label:d3,detail:d4,replace:d5};};ba.New=function(d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea){return{generateDoc:d2,getValue:d3,setValue:d4,setDisabled:d5,showAnnotations:d6,posFromIndex:d7,indexFromPos:d8,getWordAt:d9,getUri:d_,setUri:d$,hookOnChange:ea};};bb.New=function(d2,d3,d4,d5,d6,d7,d8,d9,d_,d$){return{"var":d2,disabled:d3,annotations:d4,onChange:d5,onRender:d6,autoCompletion:d7,toolTip:d8,declaration:d9,editorO:d_,editorHook:d$};};_7.generateDoc=function(d2){var d3,d4,d5;d3=(d4=(d5=d2.onChange,d5==null?null:{$:1,$0:d5.$0(d2)}),d4==null?a.ignore:d4.$0);return(d2.editorHook.generateDoc(d2))(function(d6){d2.editorO={$:1,$0:d6};_7.bindVarEditor(d2.editorHook.hookOnChange,d2.editorHook.getValue,d2.editorHook.setValue,d3,d2["var"]);dh.Sink(d2.editorHook.showAnnotations,d2.annotations);dh.Sink(d2.editorHook.setDisabled,d2.disabled);d2.onRender(d2);});};_7.bindVarEditor=function(d2,d3,d4,d5,d6){var d7,d8;d7=[0];d8=[0];d2(function(){var d9;d9=d3();!c7.Equals(d6.Get(),d9)?(d7[0]=d7[0]+1,d6.Set(d9),d5(d9)):void 0;});dh.Sink(function(){if(d7[0]>d8[0])d8[0]=d7[0];else if(!c7.Equals(d3(),d6.Get()))d4(d6.Get());},d6.get_View());};_7.newVarO=function(d2,d3){var d4;d4=_7.newVar(d2,di.Lens(d3,function(d5){return d5==null?"":d5.$0;},function(d5,d6){return d5==null?null:{$:1,$0:d6};}));return _7.disabled(dh.Map(function(d5){return d5==null;},d3.get_View()),d4);};_7.newText=function(d2,d3){return _7.newVar(d2,di.Create$1(d3));};_7.newVar=function(d2,d3){return bb.New(d3,dh.Const(false),dh.Const([]),null,a.ignore,null,null,null,null,d2);};_7["var"]=function(d2){return d2["var"];};_7.disabled=function(d2,d3){return bb.New(d3["var"],d2,d3.annotations,d3.onChange,d3.onRender,d3.autoCompletion,d3.toolTip,d3.declaration,d3.editorO,d3.editorHook);};_7.onRender=function(d2,d3){return bb.New(d3["var"],d3.disabled,d3.annotations,d3.onChange,d2,d3.autoCompletion,d3.toolTip,d3.declaration,d3.editorO,d3.editorHook);};_7.onChange=function(d2,d3){return bb.New(d3["var"],d3.disabled,d3.annotations,d2,d3.onRender,d3.autoCompletion,d3.toolTip,d3.declaration,d3.editorO,d3.editorHook);};_7.setVar=function(d2,d3){return bb.New(d2,d3.disabled,d3.annotations,d3.onChange,d3.onRender,d3.autoCompletion,d3.toolTip,d3.declaration,d3.editorO,d3.editorHook);};bc.serLMdField=function(d2,d3,d4,d5){var d6;function d7(d8,d9){d3(d8).Set(d6[1](d9));return d8;}d6=bc.serSeq(d4,d5);return[d2,function(d8){var d9;d9=(d3(d8))["var"].Get();return d6[0](d9);},function(d8){return function(d9){return d7(d8,d9);};}];};bc.serVarField=function(d2,d3,d4,d5){var d6;function d7(d8){return d8.Get();}return[d2,(d6=function(d8){return d7(d3(d8));},function(d8){return d4(d6(d8));}),function(d8){return function(d9){di.Set(d3(d8),d5(d9));return d8;};}];};bc.serMap=function(d2,d3,d4,d5){var d6,d7,d8,d9,d_;function d$(eb){return[eb.K,eb.V];}function ea(eb){return new dj.New(eb);}d6=(d7=bc.serDup(d2,d3,d4,d5),bc.serSeq(d7[0],d7[1]));return[(d8=function(eb){return c0.map(d$,eb);},(d9=d6[0],function(eb){return d9(d8(eb));})),(d_=d6[1],function(eb){return ea(d_(eb));})];};bc.serDup=function(d2,d3,d4,d5){var d6,d7,d8;function d9(d$){return[d6[1](null),d7[1](null)];}function d_(d$){return[d6[1](c2.get(d$,0)),d7[1](c2.get(d$,1))];}d6=[d2,d3];d7=[d4,d5];return[function(d$){return(((cX.Curried3(function(ea,eb,ec){return ea("["+cY.toSafe(eb)+", "+cY.toSafe(ec)+"]");}))(a.id))(d6[0](d$[0])))(d7[0](d$[1]));},(d8=function(d$){return bc.ifUndefF(d9,d_,d$);},function(d$){return d8(a.id(d$));})];};bc.serOpt=function(d2,d3){var d4,d5,d6,d7,d8,d9;function d_(eb){return eb==null?"null":eb.$0;}function d$(eb){return null;}function ea(eb){return{$:1,$0:eb};}d4=[d2,d3];return[(d5=(d6=d4[0],function(eb){return eb==null?null:{$:1,$0:d6(eb.$0)};}),function(eb){return d_(d5(eb));}),(d7=(d8=(d9=d4[1],function(eb){return ea(d9(eb));}),function(eb){return bc.ifUndefF(d$,d8,eb);}),function(eb){return d7(a.id(eb));})];};bc.serSet=function(d2,d3){var d4,d5,d6,d7,d8,d9,d_;function d$(eb){return[];}function ea(eb){return new dc.New(eb);}d4=[d2,d3];return[(d5=(d6=d4[0],function(eb){return new dc.New$1(dk.OfSeq(c0.map(d6,eb)));}),function(eb){return bc.sprintA(d5(eb));}),(d7=(d8=(d9=(d_=d4[1],function(eb){return c0.map(d_,eb);}),function(eb){return bc.ifUndefF(d$,d9,eb);}),function(eb){return d8(a.id(eb));}),function(eb){return ea(d7(eb));})];};bc.serLst=function(d2,d3){var d4,d5,d6,d7,d8,d9,d_;function d$(ea){return[];}d4=[d2,d3];return[(d5=(d6=d4[0],function(ea){return c1.map(d6,ea);}),function(ea){return bc.sprintA(d5(ea));}),(d7=(d8=(d9=(d_=d4[1],function(ea){return c0.map(d_,ea);}),function(ea){return bc.ifUndefF(d$,d9,ea);}),function(ea){return d8(a.id(ea));}),function(ea){return c1.ofSeq(d7(ea));})];};bc.serArr=function(d2,d3){var d4,d5,d6,d7,d8,d9,d_;function d$(ea){return[];}d4=[d2,d3];return[(d5=(d6=d4[0],function(ea){return c2.map(d6,ea);}),function(ea){return bc.sprintA(d5(ea));}),(d7=(d8=(d9=(d_=d4[1],function(ea){return c0.map(d_,ea);}),function(ea){return bc.ifUndefF(d$,d9,ea);}),function(ea){return d8(a.id(ea));}),function(ea){return c2.ofSeq(d7(ea));})];};bc.serSeq=function(d2,d3){var d4,d5,d6,d7,d8,d9;function d_(d$){return[];}d4=[d2,d3];return[(d5=(d6=d4[0],function(d$){return c0.map(d6,d$);}),function(d$){return bc.sprintA(d5(d$));}),(d7=(d8=(d9=d4[1],function(d$){return c0.map(d9,d$);}),function(d$){return bc.ifUndefF(d_,d8,d$);}),function(d$){return d7(a.id(d$));})];};bc.serField=function(d2,d3,d4,d5,d6){return[d2,function(d7){return d5(d3(d7));},function(d7){return function(d8){return d4(d6(d8),d7);};}];};bc.serString=function(){cP.$cctor();return cP.serString;};bc.serBool=function(){cP.$cctor();return cP.serBool;};bc.serInt=function(){cP.$cctor();return cP.serInt;};bc.serFloat=function(){cP.$cctor();return cP.serFloat;};bc.sprintA=function(d2){var d3;d3=cZ.concat(", ",d2);return(function(d4){return function(d5){return d4("["+cY.toSafe(d5)+"]");};}(a.id))(d3);};bc.deserGuid=function(){cP.$cctor();return cP.deserGuid;};bc.Exists=function(d2,d3){return!d3[d2]?null:{$:1,$0:d3[d2]};};bc.ifUndefF=function(d2,d3,d4){return!d4?d2(d4):d3(d4);};bc.ifUndef=function(d2,d3){return!d3?d2:d3;};bd.Identifier$1=function(d2){var d3,d4,d5;return(d4=_3.REGEX$2("^[$a-zA-Z_][0-9a-zA-Z_\\.\\-$]*$","",d2),d4!=null&&d4.$==1&&((d5=d4.$0,!c7.Equals(d5,null)&&d5.length===1)&&(d3=c2.get(d4.$0,0),true)))?{$:1,$0:d3}:null;};bd.getEndWord$1=function(d2,d3){var d4,d5;d4=_3.REGEX$2("^([a-zA-Z_]\\w*)","g",d2.substring(d3));return d4!=null&&d4.$==1?(d5=d4.$0,!c7.Equals(d5,null)&&d5.length===1)?c2.get(d4.$0,0):"":"";};bd.getStartWord$1=function(d2,d3){var d4,d5;d4=_3.REGEX$2("([a-zA-Z_]\\w*)$","g",cZ.Substring(d2,0,d3));return d4!=null&&d4.$==1?(d5=d4.$0,!c7.Equals(d5,null)&&d5.length===1)?c2.get(d4.$0,0):"":"";};bf=be.Hoverable=cX.Class({Content:function(d2){return d2.on("mouseenter",function(){return dl.AddClass(d2.elt,"hovering");}).on("mouseleave",function(){return dl.RemoveClass(d2.elt,"hovering");});},Content$1:function(d2){return dm.Element("div",this.get_Attributes(),d2);},get_Attributes:function(){var d2,d3;d2=this;return c1.ofArray([(d3=dh.Const("hovering"),dn.DynamicPred("class",this.hover.get_View(),d3)),_do.HandlerImpl("mouseenter",function(){return function(){return d2.hover.Set(true);};}),_do.HandlerImpl("mouseleave",function(){return function(){return d2.hover.Set(false);};})]);}},null,bf);bf.get_Demo$1=function(){return bf.New$3().Content(dm.Element("div",[_do.Create("style","flex-flow: column;")],[dm.TextNode("Hover over me!")]));};bf.Content$2611$81=cX.Curried3(function(d2,d3,d4){return dl.RemoveClass(d2.elt,"hovering");});bf.get_Attributes$2607$69=cX.Curried3(function(d2,d3,d4){return d2.hover.Set(false);});bf.get_Attributes$2606$69=cX.Curried3(function(d2,d3,d4){return d2.hover.Set(true);});bf.New$3=function(){return bf.New$2(di.Create$1(false));};bf.New$2=function(d2){return new bf({hover:d2});};be.hoverable$1=function(d2){return bf.New$3().Content(d2);};bg.addResizeObserver$1=function(d2,d3){var d4,d5,d6,d7;try{d4=!(!a.ResizeObserver);}catch(d8){d4=false;}if(d4){d5=new a.ResizeObserver(d2);bg.set_observers$1(new c1.T({$:1,$0:d5,$1:bg.observers$1()}));d5.observe(d3);}else{d6=bg.dimsChanged$1(d3);c3.Start((d7=null,c3.Delay(function(){return c3.While(function(){return d3.isConnected;},c3.Delay(function(){return c3.Bind(c3.Sleep(110),function(){return d6()?(d2(),c3.Zero()):c3.Zero();});}));})),null);}};bg.dimsChanged$1=function(d2){var d3;d3=[d2.getBoundingClientRect()];return function(){var d4;d4=d2.getBoundingClientRect();return c7.Equals(bg.domRect2Tuple$1(d3[0]),bg.domRect2Tuple$1(d4))?false:(d3[0]=d4,true);};};bg.domRect2Tuple$1=function(d2){return[d2.top,d2.left,d2.width,d2.height];};bg.observers$1=function(){cP.$cctor();return cP.observers;};bg.set_observers$1=function(d2){cP.$cctor();cP.observers=d2;};bj=bi.WcTabStripT=cX.Class({connectedCallback:function(){var d2,d3,d4,d5;function d6(){var d7,d8,d9;d8=!d3.hasAttribute("bottom");d9=c1.ofSeq(c0.delay(function(){return c0.collect(function(d_){var d$;d$=d3.childNodes[d_-1];return c7.Equals(d$.nodeType,dp.ELEMENT_NODE)?[[d$.hasAttribute("tabname")?d$.getAttribute("tabname"):(function(ea){return function(eb){return ea("Tab "+a.String(eb));};}(a.id))(d_),d$]]:[];},c6.range(1,d3.childNodes.length));}));while(d5.childNodes.length>0)d5.removeChild(d5.lastChild);d7=bi.tabStrip$1(d2.selected,d8,true,d9,dm.Element("slot",c1.T.Empty,c1.T.Empty));dr.LoadLocalTemplates("");dm.Run(d5,d7);}d2=this;!this.added?(d3=this,d4=d3.attachShadow({mode:"open"}),d5=self.document.createElement("div"),d4.appendChild(d5),d6(),d3.addEventListener("DOMSubtreeModified",c.delayed$1(50,d6)),this.added=true):void 0;}},k,bj);bj.Constructor$1=function(){var d2,d3;d2=(d3=ds.construct(self.HTMLElement,[],this.__proto__.constructor),d3);self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New.call(d2);return d2;};bj.New$1=cX.Ctor(function(){k.New.call(this);this.added=false;this.selected=di.Create$1(1);(function(d2){return d2("WcTabStripT initializer");}(function(d2){df.log(d2);}));},bj);bi.init$1=function(){cP.$cctor();return cP.init;};bi.tabStrip$2753$64=function(d2,d3){return function(){return function(){return d3.Set(d2+1);};};};bi.tabStrip$1=function(d2,d3,d4,d5,d6){var d7;d7=dm.Element("div",[_do.Create("class",(((cX.Curried3(function(d8,d9,d_){return d8("tab-strip "+cY.toSafe(d9)+" "+cY.toSafe(d_));}))(a.id))(d3?"top":"bottom"))(d4?"horizontal":"vertical"))],c1.ofSeq(c0.delay(function(){return c0.collect(function(d8){var d9;d9=d8[0];return[bf.New$3().Content(dm.Element("div",[dn.Dynamic("class",dh.Map(function(d_){return"tab"+(d_===d9+1?" selected":"");},d2.get_View())),_do.Create("draggable","true"),_do.HandlerImpl("click",function(){return function(){return d2.Set(d9+1);};})],[dm.TextNode(d8[1][0])]))];},c0.indexed(d5));})));return dm.Element("div",[_do.Create("class","tab-panel")],c1.ofSeq(c0.delay(function(){return c0.append(d3?[d7]:[],c0.delay(function(){return c0.append([dm.Element("div",[_do.Create("class","tab-content")],[d6])],c0.delay(function(){return c0.append(!d3?[d7]:[],c0.delay(function(){return c0.append([dm.Element("style",c1.T.Empty,c1.ofArray([dm.TextNode(bi.css$1())]))],c0.delay(function(){return[dm.Element("style",c1.T.Empty,c1.ofArray([dm.TextView(dh.Map(function(d8){return function(d9){return d8("\r\n                                              ::slotted(*              ) { display: none }\r\n                                              ::slotted(*:nth-child("+a.String(d9)+")) { display: grid }\r\n                                           ");};}(a.id),d2.get_View()))]))];}));}));}));}));})));};bi.css$1=function(){cP.$cctor();return cP.css;};bl=bk.WcSplitterT=cX.Class({connectedCallback:function(){var d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef;function eg(eo){var ep,eq,er,es;ep=d9?["padding-left","padding-right","grid-column-gap"]:["padding-top","padding-bottom","grid-row-gap"];eq=a.parseFloat("0"+a.jQuery(eo.parentElement.parentElement).css(ep[0]));er=a.parseFloat("0"+a.jQuery(eo.parentElement.parentElement).css(ep[1]));ea.Set(a.parseFloat("0"+a.jQuery(eo.parentElement.parentElement).css(ep[2])));d$[0]=eq+er;es=d2.getBoundingClientRect();return d9?d8?[es.width,es.height]:[-es.width,es.height]:d8?[es.height,es.width]:[-es.height,es.width];}function eh(eo){return d9?eo.clientX:eo.clientY;}function ei(eo){var ep,eq;ep=(eh(eo)-ed[0])*100/d_[0][0]+ec[0];d7.Set((eq=c7.Compare(d5,ep)===1?d5:ep,c7.Compare(d6,eq)===-1?d6:eq));}function ej(){if(eb[0]){eb[0]=false;self.removeEventListener("mousemove",ei,false);self.removeEventListener("mouseup",ej,false);}}function ek(eo){var ep,eq;if(!eb[0]){eb[0]=true;ec[0]=d7.Get();ed[0]=eh(eo);d_[0]=(ep=(eq=ee[0],eq==null?null:{$:1,$0:eg(eq.$0)}),ep==null?[100,500]:ep.$0);self.addEventListener("mousemove",ei,false);self.addEventListener("mouseup",ej,false);eo.preventDefault();}}function el(eo,ep,eq,er){return[(eo-ep-eq)*er/100,(eo-ep-eq)*(100-er)/100];}function em(eo,ep){return(((((cX.Curried(function(eq,er,es,et,eu){return eq(" "+er.toFixed(2)+"px "+es.toFixed(2)+"px ; "+cY.toSafe(et)+" : "+eu.toFixed(2)+"px; ");},5))(a.id))(eo))(ep))(d9?"height":"width"))(d_[0][1]);}function en(){var eo;eo=ee[0];(h.iter(function(ep){d_[0]=eg(ep);}))(eo);d7.Set(d7.Get());}if(!this.added){d2=this;d3=d2.attachShadow({mode:"open"});d4=self.document.createElement("div");d5=d2.hasAttribute("min")?a.parseFloat(d2.getAttribute("min")):4;d6=d2.hasAttribute("max")?a.parseFloat(d2.getAttribute("max")):96;d7=di.Create$1(d2.hasAttribute("value")?a.parseFloat(d2.getAttribute("value")):50);d8=!d2.hasAttribute("second");d9=d2.hasAttribute("vertical");d_=[[0,0]];d$=[0];ea=di.Create$1(0);eb=[false];ec=[0];ed=[0];ee=[null];ef=(((((d9?bk.layoutVertical$1():bk.layoutHorizontal$1())(dh.Map(function(eo){var ep;ep=el(d_[0][0],ea.Get(),d$[0],eo);return em.apply(null,ep);},d7.get_View())))(function(){bg.addResizeObserver$1(en,d2);en();}))(function(eo){ee[0]={$:1,$0:eo};en();}))(function(eo){ek(eo);}))(dh.Map(function(eo){return function(ep){return eo(cY.prettyPrint(ep)+"px");};}(a.id),ea.get_View()));dr.LoadLocalTemplates("");dm.Run(d4,ef);d3.appendChild(d4.firstChild);this.added=true;}}},k,bl);bl.Constructor$1=function(){var d2,d3;d2=(d3=ds.construct(self.HTMLElement,[],this.__proto__.constructor),d3);self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New.call(d2);return d2;};bl.New$1=cX.Ctor(function(){k.New.call(this);this.added=false;(function(d2){return d2("WcSplitterT initializer");}(function(d2){df.log(d2);}));},bl);bk.init$1=function(d2,d3){var d4;d4=new bl.New$1();bk.set_layoutHorizontal$1(d2);bk.set_layoutVertical$1(d3);bh.defineWebComponent$1("wcomp-splitter",bl.Constructor$1,self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New);};bk.layoutVertical$1=function(){cP.$cctor();return cP.layoutVertical;};bk.set_layoutVertical$1=function(d2){cP.$cctor();cP.layoutVertical=d2;};bk.layoutHorizontal$1=function(){cP.$cctor();return cP.layoutHorizontal;};bk.set_layoutHorizontal$1=function(d2){cP.$cctor();cP.layoutHorizontal=d2;};bh.defineWebComponent$1=function(d2,d3,d4){try{df.log("defineWebComponent: "+d2);dt.setPrototypeOf(d4.prototype,self.HTMLElement.prototype);dt.setPrototypeOf(d4,self.HTMLElement);dt.setPrototypeOf(d3.prototype,d4.prototype);self.customElements.define(d2,d3);}catch(d5){(function(d6){return d6("Failed to define WebComponent. Not supported.");}(function(d6){df.log(d6);}));}};bn.New=function(d2,d3){return{column:d2,lineNumber:d3};};bo.New=function(d2,d3,d4,d5){return{startColumn:d2,endColumn:d3,startLineNumber:d4,endLineNumber:d5};};bp.New=function(d2,d3,d4,d5,d6,d7){return{authority:d2,fragment:d3,fsPath:d4,path:d5,query:d6,scheme:d7};};bq.New=function(d2,d3){return{range:d2,uri:d3};};br.New=function(d2,d3){return{matches:d2,range:d3};};bs.New=function(d2,d3,d4){return{endColumn:d2,startColumn:d3,word:d4};};bt.New=function(d2){return{uri:d2};};bu.New=function(d2,d3){return{value:d2,isTrusted:d3};};bv.New=function(d2,d3,d4,d5,d6,d7){return{startColumn:d2,endColumn:d3,startLineNumber:d4,endLineNumber:d5,severity:d6,message:d7};};bw.New=function(d2,d3,d4){return{kind:d2,label:d3,detail:d4};};bx.New=function(d2,d3){return{contents:d2,range:d3};};by=bm.Editor=cX.Class({},k,by);by.New=cX.Ctor(function(){k.New.call(this);},by);bz.New=function(d2,d3,d4,d5,d6,d7,d8){return{"var":d2,onChange:d3,onRender:d4,editorO:d5,disabled:d6,options:d7,overrides:d8};};bm.newVarO=function(d2){var d3;d3=bm.newVar(di.Lens(d2,function(d4){return d4==null?"":d4.$0;},function(d4,d5){return d4==null?null:{$:1,$0:d5};}));return bm.disabled(dh.Map(function(d4){return d4==null;},d2.get_View()),d3);};bm.newText=function(d2){return bm.newVar(di.Create$1(d2));};bm["var"]=function(d2){return d2["var"];};bm.disabled=function(d2,d3){return bz.New(d3["var"],d3.onChange,d3.onRender,d3.editorO,d2,d3.options,d3.overrides);};bm.onRender=function(d2,d3){return bz.New(d3["var"],d3.onChange,{$:1,$0:d2},d3.editorO,d3.disabled,d3.options,d3.overrides);};bm.onChange=function(d2,d3){return bz.New(d3["var"],d2,d3.onRender,d3.editorO,d3.disabled,d3.options,d3.overrides);};bm.setVar=function(d2,d3){return bz.New(d2,d3.onChange,d3.onRender,d3.editorO,d3.disabled,d3.options,d3.overrides);};bm.render$3111$48=function(d2){return function(d3){var d4,d5;d4=(d5=d3.parentElement,self.monaco.editor.create(d5,d2.options,d2.overrides));bg.addResizeObserver$1(function(){d4.layout();},d3.parentElement);d3.parentNode.removeChild(d3);d2.editorO={$:1,$0:d4};(h.iter(function(d6){d6(d4);}))(d2.onRender);_7.bindVarEditor(function(d6){d4.onDidChangeModelContent(d6);},function(){return d4.getValue();},function(d6){d4.setValue(d6);},d2.onChange,d2["var"]);};};bm.render=function(d2){var d3;return dm.Async((d3=null,c3.Delay(function(){return c3.Bind(bm.loader(),function(){return c3.Return(dm.Element("div",[_do.OnAfterRenderImpl(function(d4){var d5,d6;d5=(d6=d4.parentElement,self.monaco.editor.create(d6,d2.options,d2.overrides));bg.addResizeObserver$1(function(){d5.layout();},d4.parentElement);d4.parentNode.removeChild(d4);d2.editorO={$:1,$0:d5};(h.iter(function(d7){d7(d5);}))(d2.onRender);_7.bindVarEditor(function(d7){d5.onDidChangeModelContent(d7);},function(){return d5.getValue();},function(d7){d5.setValue(d7);},d2.onChange,d2["var"]);})],[]));});})));};bm.loader=function(){cP.$cctor();return cP.loader;};bm.newVar=function(d2){return bz.New(d2,a.ignore,null,null,dh.Const(false),null,null);};bB.New=function(d2,d3,d4,d5){return{editorO:d2,onChange:d3,options:d4,overrides:d5};};bC=bA.CompletionItemProvider=cX.Class({resolveCompletionItem:function(d2,d3){return bw.New(d2.kind,d2.label,"more details");},provideCompletionItems:function(d2,d3,d4,d5){var d6,d7;d6=this;return _4.ofAsyncResultM((d7=G.asyncResultM(),d7.Run(d7.Delay(function(){return G["AsyncResultMBuilder.Bind"](d7,d6.autoComplete(_8.New(d3.lineNumber,d3.column)),function(d8){return d7.Return(c2.map(function(d9){return bw.New(bA.convertGlyphChar(d9.kind),d9.label,d9.detail);},d8));});}))));}},k,bC);bC.New=cX.Ctor(function(d2){k.New.call(this);this.autoComplete=d2;},bC);bD=bA.HoverProvider=cX.Class({provideHover:function(d2,d3,d4){var d5,d6;d5=this;return _4.ofAsyncResultM((d6=G.asyncResultM(),d6.Run(d6.Delay(function(){return G["AsyncResultMBuilder.Bind"](d6,d5.toolTip(_8.New(d3.lineNumber,d3.column)),function(d7){return d7!=null&&d7.$==1?d6.Return(bx.New([bu.New(d7.$0,true)],null)):d6.Return(null);});}))));}},k,bD);bD.New=cX.Ctor(function(d2){k.New.call(this);this.toolTip=d2;},bD);bE=bA.DefinitionProvider=cX.Class({provideDefinition:function(d2,d3,d4){var d5,d6;d5=this;return _4.ofAsyncResultM((d6=G.asyncResultM(),d6.Run(d6.Delay(function(){return G["AsyncResultMBuilder.Bind"](d6,d5.declaration(_8.New(d3.lineNumber,d3.column)),function(d7){var d8;return d7!=null&&d7.$==1?(d8=d7.$0[0],d6.Return(bq.New(bo.New(d8.col,d8.col,d8.line,d8.line),self.monaco.Uri.parse(d7.$0[1])))):d6.Return(null);});}))));}},k,bE);bE.New=cX.Ctor(function(d2){k.New.call(this);this.declaration=d2;},bE);bA.newVar=function(d2,d3,d4){return _7.newVar(bA.newHook(bA.newRT(d2,d3)),d4);};bA.newRT=function(d2,d3){return bB.New(null,a.ignore,d2,d3);};bA.newHook=function(d2){function d3(d4,d5){return bA.generateDoc(d2,d4,d5);}return ba.New(function(d4){return function(d5){return d3(d4,d5);};},function(){return bA.getValue(d2);},function(d4){bA.setValue(d2,d4);},a.ignore,function(d4){bA.showAnnotations(d2,d4);},function(d4){return bA.posFromIndex(d2,d4);},function(d4){return bA.indexFromPos(d2,d4);},function(d4){return bA.getWordAt(d2,d4);},function(){return bA.getUri(d2);},function(d4){bA.setUri(d2,d4);},function(d4){d2.onChange=d4;});};bA.showAnnotations=function(d2,d3){bA.iterEditor(d2,function(d4){var d5,d6;d5=c2.ofSeq(c0.map(function(d7){var d8;return bv.New(d7.startP.col,d7.endP.col,d7.startP.line,d7.endP.line,(d8=d7.severity,d8.$==0?8:d8.$==1?4:d8.$==3?1:2),d7.message);},d3));d6=d4.getModel();self.monaco.editor.setModelMarkers(d6,"annotations",d5);});};bA.getWordAt=function(d2,d3){return bA.bindEditor(d2,function(d4){var d5;d5=d4.getModel().getWordAtPosition(bn.New(d3.col,d3.line));return!d5?null:{$:1,$0:[d5.word,_8.New(d3.line,d5.startColumn)]};});};bA.setValue=function(d2,d3){bA.iterEditor(d2,function(d4){d4.setValue(d3);});};bA.getValue=function(d2){var d3;d3=bA.mapEditor(d2,function(d4){return d4.getValue();});return d3==null?"":d3.$0;};bA.setUri=function(d2,d3){bA.iterEditor(d2,function(d4){d4.getModel().uri=self.monaco.Uri.parse(d3);});};bA.getUri=function(d2){var d3;d3=bA.mapEditor(d2,function(d4){return a.String(d4.getModel().uri);});return d3==null?"":d3.$0;};bA.generateDoc$3253$48=function(d2,d3,d4){return function(d5){var d6,d7;d6=(d7=d5.parentElement,self.monaco.editor.create(d7,d2.options,d2.overrides));bg.addResizeObserver$1(function(){d6.layout();},d5.parentElement);d5.parentNode.removeChild(d5);d2.editorO={$:1,$0:d6};d3(d6);d6.onDidChangeModelContent(d2.onChange);(h.iter(function(d8){var d9;d9=new bD.New(d8(d4));self.monaco.languages.registerHoverProvider("fsharp",d9);}))(d4.toolTip);(h.iter(function(d8){var d9;d9=new bE.New(d8(d4));self.monaco.languages.registerDefinitionProvider("fsharp",d9);}))(d4.declaration);(h.iter(function(d8){var d9;d9=new bC.New(d8(d4));self.monaco.languages.registerCompletionItemProvider("fsharp",d9);}))(d4.autoCompletion);};};bA.generateDoc=function(d2,d3,d4){var d5;return dm.Async((d5=null,c3.Delay(function(){return c3.Bind(bm.loader(),function(){return c3.Return(dm.Element("div",[_do.OnAfterRenderImpl(function(d6){var d7,d8;d7=(d8=d6.parentElement,self.monaco.editor.create(d8,d2.options,d2.overrides));bg.addResizeObserver$1(function(){d7.layout();},d6.parentElement);d6.parentNode.removeChild(d6);d2.editorO={$:1,$0:d7};d4(d7);d7.onDidChangeModelContent(d2.onChange);(h.iter(function(d9){var d_;d_=new bD.New(d9(d3));self.monaco.languages.registerHoverProvider("fsharp",d_);}))(d3.toolTip);(h.iter(function(d9){var d_;d_=new bE.New(d9(d3));self.monaco.languages.registerDefinitionProvider("fsharp",d_);}))(d3.declaration);(h.iter(function(d9){var d_;d_=new bC.New(d9(d3));self.monaco.languages.registerCompletionItemProvider("fsharp",d_);}))(d3.autoCompletion);})],[]));});})));};bA.convertGlyphChar=function(d2){return d2==="C"?6:d2==="E"?12:d2==="S"?11:d2==="I"?7:d2==="N"?8:d2==="M"?1:d2==="P"?9:d2==="F"?4:d2==="T"?6:d2==="K"?13:0;};bA.posFromIndex=function(d2,d3){var d4;d4=bA.mapEditor(d2,function(d5){return bA.posEd2Gen(d5.getModel().getPositionAt(d3));});return d4==null?_8.New(1,1):d4.$0;};bA.indexFromPos=function(d2,d3){var d4;d4=bA.mapEditor(d2,function(d5){return d5.getModel().getOffsetAt(bA.posGen2Ed(d3));});return d4==null?-1:d4.$0;};bA.posEd2Gen=function(d2){return _8.New(d2.lineNumber,d2.column);};bA.posGen2Ed=function(d2){return bn.New(d2.col,d2.line);};bA.bindEditor=function(d2,d3){var d4;d4=d2.editorO;return d4!=null&&d4.$==1?d3(d4.$0):null;};bA.mapEditor=function(d2,d3){var d4;d4=d2.editorO;return d4!=null&&d4.$==1?{$:1,$0:d3(d4.$0)}:null;};bA.iterEditor=function(d2,d3){var d4;d4=d2.editorO;d4!=null&&d4.$==1?d3(d4.$0):void 0;};_3.rexGuid$1=function(){cP.$cctor();return cP.rexGuid;};_3.REGEX$2=function(d2,d3,d4){var d5;return d4===null?null:(d5=(new a.String(d4)).match(new a.RegExp(d2,d3)),c7.Equals(d5,null)?null:!c7.Equals(d5,null)&&d5.length===0?null:{$:1,$0:d5});};bG.extractConfig=function(d2,d3){var d4,d5;d4=d3.$0;return{$:0,$0:U.getSourceDir(d2,H.splitByChar$1("\n",d4)),$1:(d5=new dc.New(H.splitByChar$1(" ",U.extractDefines({$:0,$0:d4}))),new dc.New$1(dk.OfSeq(c0.append(new dc.New(c1.ofArray([" --nologo","--quiet "])),d5))))};};bI=bH.Address=cX.Class({get_txt:function(){return this.$0;}},null,bI);bJ.BRGetProcessId={$:1};bJ.BRGetConnections={$:0};bK.MsgRequestForEcho={$:5};bK.MsgRequestForId={$:4};bK.MsgFromBroker={$:3};bK.MsgReply={$:2};bK.MsgRequest={$:1};bK.MsgInformation={$:0};bL.BMReceiverCantReply={$:4};bL.BMOnlyBrokerShouldUse={$:1};bL.BMOk={$:0};bM.Receiver={$:2};bM.Broker={$:1};bM.NoReply={$:0};bN.New=function(d2,d3,d4,d5,d6,d7,d8){return{from:d2,destination:d3,msgType:d4,subtype:d5,id:d6,payload:d7,replier:d8};};bO.FSharp={$:0};bP.FSStation={$:0};bQ.JScript={$:0};bS=bR.Handler=cX.Class({Cancel:function(d2,d3){var d4;d4=this.waitingAgent;d4.mailbox.AddLast({$:3,$0:d2,$1:d3});d4.resume();},Raise:function(d2,d3){var d4;d4=this.waitingAgent;d4.mailbox.AddLast({$:2,$0:d2,$1:d3});d4.resume();},Reply:function(d2,d3){var d4;d4=this.waitingAgent;d4.mailbox.AddLast({$:1,$0:d2,$1:d3});d4.resume();},Add:function(d2,d3){var d4;d4=this.waitingAgent;d4.mailbox.AddLast({$:0,$0:d2,$1:d3});d4.resume();}},k,bS);bS.New=cX.Ctor(function(d2){k.New.call(this);this.waitingAgent=K.fold(K.defHandler,function(d3,d4){var d5,d6,d7;function d8(d9,d_,d$){var ea,eb;ea=(eb=du.TryFind(d9,d3),eb==null?null:{$:1,$0:d_(eb.$0)});ea==null?d$():void 0;return d3.Remove(d9);}return d4.$==1?(d5=d4.$1,d8(d4.$0,function(d9){d9[0](d5);},function(){d2(d5);})):d4.$==2?(d6=d4.$1,d8(d4.$0,function(d9){d9[1](d6);},a.ignore)):d4.$==3?(d7=d4.$1,d8(d4.$0,function(d9){d9[2](d7);},a.ignore)):d3.Add(d4.$0,d4.$1);},new dj.New([]));},bS);bT=bH.WSMessagingClient=cX.Class({sendMsg:function(d2){var d3,d4;d3=this;d4=f.asyncResult();return d4.Run(d4.Delay(function(){return d2.replier.$===0?d4.Bind$1(d3.sendAndForget(d2),function(){return d4.Return("");}):d4.ReturnFrom$1(d3.sendGetReply(d2));}));},getProcessId:function(){var d2,d3;d2=this;d3=f.asyncResult();return d3.Run(d3.Delay(function(){var d4,d5;return d3.Bind$1(d2.sendGetReply((d4=bH.MessageBrokerAddress(),(d5=dv.stringify((cQ.j$9())(bJ.BRGetProcessId)),bN.New(new bI({$:0,$0:""}),d4,bK.MsgRequest,"",da.NewGuid(),d5,bM.NoReply)))),function(d6){var d7;d7=(cR.j$7())(dv.parse(d6));return d7.$==1?d3.Return(d7.$0):d3.ReturnFrom({$:1,$0:new d({$:4,$0:{$:6,$0:(function(d8){return function(d9){return d8(cS.p$4(d9));};}(a.id))(d7)}})});});}));},getListeners:function(){var d2,d3;d2=this;d3=f.asyncResult();return d3.Run(d3.Delay(function(){var d4,d5;return d3.Bind$1(d2.sendGetReply((d4=bH.MessageBrokerAddress(),(d5=dv.stringify((cQ.j$9())(bJ.BRGetConnections)),bN.New(new bI({$:0,$0:""}),d4,bK.MsgRequest,"",da.NewGuid(),d5,bM.NoReply)))),function(d6){var d7;d7=(cR.j$7())(dv.parse(d6));return d7.$==0?d3.Return(d7.$0):d3.ReturnFrom({$:1,$0:new d({$:4,$0:{$:6,$0:(function(d8){return function(d9){return d8(cS.p$4(d9));};}(a.id))(d7)}})});});}));},sendGetReply:function(d2){var d3,d4;d3=this;d4=f.asyncResult();return d4.Run(d4.Delay(function(){return d4.Bind$1(d3.sendAndReply(bM.Receiver,d2),function(d5){var d6;return d4.Bind((d6=d5.msgType,d6.$==2?{$:0,$0:d5.payload}:d6.$==3?{$:1,$0:new d({$:4,$0:(cR.j$8())(dv.parse(d5.payload))})}:{$:1,$0:new d({$:4,$0:{$:5,$0:d5.msgType}})}),function(d7){return d4.Return(d7);});});}));},sendAndVerify:function(d2){var d3,d4;d3=this;d4=f.asyncResult();return d4.Run(d4.Delay(function(){return d4.Bind$1(d3.sendAndReply(bM.Broker,d2),function(d5){var d6;return d4.Bind(d5.msgType.$==3?(d6=(cR.j$8())(dv.parse(d5.payload)),d6.$===0?{$:0,$0:null}:{$:1,$0:new d({$:4,$0:d6})}):{$:1,$0:new d({$:4,$0:{$:5,$0:d5.msgType}})},function(){return d4.Return();});});}));},sendAndReply:function(d2,d3){var d4,d5;d4=this;d5=f.asyncResult();return d5.Run(d5.Delay(function(){return d5.Bind$1(d4.getServer(),function(d6){return D["AsyncResultBuilder.ReturnFrom"](d5,c3.FromContinuations(function(d7,d8,d9){var d_;d4.waiting.Add(d3.id,[d7,d8,d9]);d4.postR(d6,d2,d3);return d4.wsTimeout>0?c3.Start((d_=null,c3.Delay(function(){return c3.Bind(c3.Sleep(d4.wsTimeout),function(){d4.waiting.Raise(d3.id,new dw.New$1((((cX.Curried3(function(d$,ea,eb){return d$("Did not receive reply in "+a.String(ea)+" seconds for Message: "+cV.p(eb));}))(a.id))(d4.wsTimeout/1000>>0))(d3)));return c3.Zero();});})),null):null;}));});}));},sendAndForget:function(d2){var d3,d4;d3=this;d4=f.asyncResult();return d4.Run(d4.Delay(function(){return d4.Bind$1(d3.getServer(),function(d5){d3.postR(d5,bM.NoReply,d2);return d4.Zero();});}));},postR:function(d2,d3,d4){try{d2.FsRoot_Library2_WebSockets_IServer$Post(bH.replier(d3,bH.from(this.clientAddress,d4)));}catch(d5){this.serverO=null;throw d5;}},getServer:function(){return this.checkServer.PostAndAsyncReply(function(d2){return[d2,null];},null);},connectToWebSocketServer:function(){var d2,d3;d2=this;(function(d4){return d4("in connectToWebSocketServer");}(function(d4){df.log(d4);}));d3=null;return c3.Delay(function(){return c3.Bind(((d2.connectStateful(d2.wsEndPoint))(d2.clientId))(function(d4){var d5;d5=null;return c3.Delay(function(){return c3.Return([0,function(d6){return function(d7){var d8;d8=null;return c3.Delay(function(){return c3.Combine(c3.TryWith(c3.Delay(function(){return d7.$==2?((function(d9){return function(d_){return d9("WebSocket "+cY.toSafe(d_)+" connection open.");};}(function(d9){df.log(d9);}))(d2.clientId),d2.serverO={$:1,$0:d4},c3.Zero()):d7.$==3?((function(d9){return function(d_){return d9("WebSocket "+cY.toSafe(d_)+" connection closed.");};}(function(d9){df.log(d9);}))(d2.clientId),d2.close(),c3.Zero()):d7.$==1?((function(d9){return function(d_){return d9("WebSocket "+cY.toSafe(d_)+" connection error!");};}(function(d9){df.log(d9);}))(d2.clientId),c3.Zero()):(d2.processMessage(d7.$0),c3.Zero());}),function(d9){(((cX.Curried3(function(d_,d$,ea){return d_("msg: "+cS.p$8(d$)+" \nexn:"+cY.prettyPrint(ea));}))(function(d_){df.log(d_);}))(d7))(d9);return c3.Zero();}),c3.Delay(function(){return c3.Return(d6);}));});};}]);});}),function(){(function(d4){return d4("connectToWebSocketServer with server");}(function(d4){df.log(d4);}));return c3.Zero();});});},processMessage:function(d2){var d3,d4,d5,d6,d7,d_;d4=this;d5=d2.msgType;function d8(d$){d4.reply(d$);}function d9(d$){return c3.Return(d$);}switch(d5.$==2?0:d5.$==0?1:d5.$==1?2:d5.$==5?3:d5.$==4?4:0){case 0:this.processReply(d2);break;case 1:(((cX.Curried3(function(d$,ea,eb){return d$("Information from '"+cY.toSafe(ea)+"': "+cY.toSafe(eb));}))(function(d$){df.log(d$);}))(d2.from.get_txt()))(((dy.Id())())(dv.parse(d2.payload)));break;case 2:d6=this.payloadProcessorO;d6!=null&&d6.$==1?c3.Start(c3.Bind(d4.mapPayloadWrap(d6.$0,d2),(d7=function(d$){return d8(bH.makeReply(d$));},function(d$){return d9(d7(d$));})),null):d2.replier.$===2?null:null;break;case 3:d4.reply(bH.msgType(bK.MsgInformation,bH.mapPayload(a.id,d2)));break;case 4:d4.reply(bH.msgType(bK.MsgInformation,(d_=bH.makeReply(d2),bN.New(d_.from,d_.destination,d_.msgType,d_.subtype,d_.id,dv.stringify(((dy.Id())())(this.clientId)),d_.replier))));break;}},mapPayloadWrap:function(d2,d3){var d4;d4=null;return c3.Delay(function(){return c3.Bind(d2(d3.payload),function(d5){return c3.Return(bH.mapPayload(function(){return d5;},d3));});});},processReply:function(d2){this.waiting.Reply(d2.id,d2);},close:function(){var d2,d3;d2=this;d3=this.serverO;(h.iter(function(d4){d4.FsRoot_Library2_WebSockets_IServer$Close();d2.serverO=null;}))(d3);},reply:function(d2){var d3,d4;d3=this;d4=this.serverO;(h.iter(function(d5){d5.FsRoot_Library2_WebSockets_IServer$Post(bH.destination(d2.from,bH.from(d3.clientAddress,d2)));}))(d4);},set_Out:function(d2){this.out=d2;},SendMsg:function(d2){return this.sendMsg(d2);},get_ClientId:function(){return this.clientId;},get_EndPoint:function(){return this.wsEndPoint;},get_MBProcessId:function(){return this.getProcessId();},get_MBListeners:function(){return this.getListeners();},Dispose:function(){this.close();}},k,bT);bT.New=cX.Ctor(function(d2,d3,d4){bT.New$1.call(this,cX.Curried3(function(d5,d6,d7){function d8(d_){}function d9(d_){return c3.Return(d_);}return c3.Bind(dC.ConnectStateful(function(d_){return dv.stringify((cQ.j())(d_));},function(d_){return(cR.j())(dv.parse(d_));},dD.CreateRemote((((cX.Curried3(function(d_,d$,ea){return d_("ws://"+cY.toSafe(d$)+"?ClientId="+cY.toSafe(ea));}))(a.id))(d5))(d6),{$:1,$0:dA.JsonEncoding.Readable}),function(d_){var d$;return d7((d$={FsRoot_Library2_WebSockets_IServer$Post:function(ea){return d_.Post(ea);},FsRoot_Library2_WebSockets_IServer$Close:function(){return d_.get_Connection().close(1000);}},(k.New.call(d$),d$)));}),function(d_){return d9(d8(d_));});}),d2,d3,d4);},bT);bT.New$1=cX.Ctor(function(d2,d3,d4,d5){var d6,d7;d6=this;k.New.call(this);this.connectStateful=d2;this.clientId=d3;this.wsEndPoint=(d7=bH.extractEndPoint()+"/ws",d5==null?d7:d5.$0);this.clientAddress=new bI({$:0,$0:this.clientId});this.wsTimeout=d4==null?60000:d4.$0;this.out=function(d8){return function(d9){return d8(cY.toSafe(d9));};}(function(d8){df.log(d8);});this.serverO=null;this.payloadProcessorO=null;this.waiting=new bS.New(function(d8){(((cX.Curried3(function(d9,d_,d$){return d9("Reply from '"+cY.toSafe(d_)+"': "+cY.toSafe(d$));}))(function(d9){df.log(d9);}))(d8.from.get_txt()))(d8.payload);});this.checkServer=K.callA(function(d8){c.print$1(d8);},function(){var d8;d8=null;return c3.Delay(function(){(function(d9){return d9("getServer");}(function(d9){df.log(d9);}));return c3.Combine(d6.serverO==null?(function(d9){return d9("getServer Connecting");}(function(d9){df.log(d9);}),c3.Bind(d6.connectToWebSocketServer(),function(){return c3.Bind(c3.Sleep(200),function(){return c3.Return(null);});})):c3.Zero(),c3.Delay(function(){return c3.Return(l.ofOption(function(){return new d({$:1,$0:"could not connect to Server"});},d6.serverO));}));});});},bT);bH.extractEndPoint=function(){return c2.get(cZ.SplitChars(dE.href.substring(dE.href.indexOf("//")+2),["/"],0),0);};bH.makeReply=function(d2){return bH.replier(bM.NoReply,bH.msgType(bK.MsgReply,d2));};bH.mapPayload=function(d2,d3){return bN.New(d3.from,d3.destination,d3.msgType,d3.subtype,d3.id,d2(d3.payload),d3.replier);};bH.msgId=function(d2,d3){return bN.New(d3.from,d3.destination,d3.msgType,d3.subtype,d2,d3.payload,d3.replier);};bH.replier=function(d2,d3){return bN.New(d3.from,d3.destination,d3.msgType,d3.subtype,d3.id,d3.payload,d2);};bH.subtype=function(d2,d3){return bN.New(d3.from,d3.destination,d3.msgType,d2,d3.id,d3.payload,d3.replier);};bH.msgType=function(d2,d3){return bN.New(d3.from,d3.destination,d2,d3.subtype,d3.id,d3.payload,d3.replier);};bH.destination=function(d2,d3){return bN.New(d3.from,d2,d3.msgType,d3.subtype,d3.id,d3.payload,d3.replier);};bH.from=function(d2,d3){return bN.New(d2,d3.destination,d3.msgType,d3.subtype,d3.id,d3.payload,d3.replier);};bH.MessageBrokerAddress=function(){cP.$cctor();return cP.MessageBrokerAddress;};bH.MessageBrokerId=function(){cP.$cctor();return cP.MessageBrokerId;};bU.MsgGetUrl={$:5};bU.MsgGetId={$:0};bX.New=function(d2,d3){return{Code:d2,Message:d3};};bY.New=function(d2,d3,d4){return{File:d2,Line:d3,Column:d4};};bZ.New=function(d2,d3,d4,d5){return{Name:d2,ReplacementText:d3,Glyph:d4,GlyphChar:d5};};b0.New=function(d2,d3,d4){return{Signature:d2,Comment:d3,Footer:d4};};b1.New=function(d2,d3,d4,d5){return{Name:d2,CanonicalTypeTextForSorting:d3,Display:d4,Description:d5};};b2.New=function(d2,d3,d4,d5){return{Tip:d2,TypeText:d3,Parameters:d4,IsStaticArguments:d5};};b3.New=function(d2,d3){return{Name:d2,Type:d3};};b4.New=function(d2,d3){return{OutputType:d2,Parameters:d3};};b5.New=function(d2,d3,d4){return{Name:d2,CurrentParameter:d3,Overloads:d4};};b6.New=function(d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea){return{FileName:d2,StartLine:d3,StartColumn:d4,EndLine:d5,EndColumn:d6,IsFromDefinition:d7,IsFromAttribute:d8,IsFromComputationExpression:d9,IsFromDispatchSlotImplementation:d_,IsFromPattern:d$,IsFromType:ea};};b7.New=function(d2,d3){return{Name:d2,Uses:d3};};b8.New=function(d2,d3){return{Name:d2,Overloads:d3};};b9.New=function(d2,d3,d4){return{Fsc:d2,Fsi:d3,MSBuild:d4};};b_.New=function(d2,d3,d4,d5,d6,d7,d8,d9){return{FileName:d2,StartLine:d3,EndLine:d4,StartColumn:d5,EndColumn:d6,Severity:d7,Message:d8,Subcategory:d9};};b$.New=function(d2,d3){return{File:d2,Errors:d3};};ca.New=function(d2){return{Kind:d2};};cb.New=function(d2,d3,d4,d5,d6,d7,d8,d9){return{UniqueName:d2,Name:d3,Glyph:d4,GlyphChar:d5,IsTopLevel:d6,File:d7,EnclosingEntity:d8,IsAbstract:d9};};cc.New=function(d2,d3){return{Declaration:d2,Nested:d3};};cd.New=function(d2,d3,d4,d5,d6,d7){return{Namespace:d2,Name:d3,Type:d4,Line:d5,Column:d6,MultipleNames:d7};};ce.New=function(d2,d3){return{Name:d2,Qualifier:d3};};cf.New=function(d2,d3,d4){return{Opens:d2,Qualifies:d3,Word:d4};};cg.New=function(d2){return{Text:d2};};ci.New=function(d2,d3,d4,d5){return{FileName:d2,IsAsync:d3,Lines:d4,Version:d5};};cj.New=function(d2,d3,d4){return{FileName:d2,Lines:d3,Version:d4};};ck.New=function(d2,d3,d4,d5,d6,d7){return{FileName:d2,SourceLine:d3,Line:d4,Column:d5,Filter:d6,IncludeKeywords:d7};};cl.New=function(d2,d3,d4,d5){return{FileName:d2,Line:d3,Column:d4,Filter:d5};};cm.New=function(d2){return{FileName:d2};};cn.New=function(d2){return{FileName:d2};};co.New=function(d2){return{Symbol:d2};};cp.New=function(d2,d3,d4){return{Directory:d2,Deep:d3,ExcludedDirs:d4};};cq.symbolUseProject=function(d2,d3,d4,d5){return cq.FSAutocompleteCall("symboluseproject",function(d6){return d6.$==4?{$:1,$0:d6.$0}:null;},{$:3,$0:cl.New(d2,d3,d4,d5)});};cq.symbolUse=function(d2,d3,d4,d5){return cq.FSAutocompleteCall("symboluse",function(d6){return d6.$==4?{$:1,$0:d6.$0}:null;},{$:3,$0:cl.New(d2,d3,d4,d5)});};cq.helpText=function(d2){return cq.FSAutocompleteCall("helptext",function(d3){return d3.$==2?{$:1,$0:d3.$0}:null;},{$:6,$0:co.New(d2)});};cq.declarations=function(d2,d3,d4){return cq.FSAutocompleteCall("declarations",function(d5){return d5.$==10?{$:1,$0:d5.$0}:null;},{$:1,$0:cj.New(d2,d3,d4)});};cq.findDeclaration=function(d2,d3,d4,d5){return cq.FSAutocompleteCall("finddeclaration",function(d6){return d6.$==9?{$:1,$0:d6.$0}:null;},{$:3,$0:cl.New(d2,d3,d4,d5)});};cq.findTypeDecl=function(d2,d3,d4,d5){return cq.FSAutocompleteCall("findtypedeclaration",function(d6){return d6.$==9?{$:1,$0:d6.$0}:null;},{$:3,$0:cl.New(d2,d3,d4,d5)});};cq.completion=function(d2,d3,d4,d5,d6,d7){return cq.FSAutocompleteCall("completion",function(d8){return d8.$==3?{$:1,$0:d8.$0}:null;},{$:2,$0:ck.New(d4,d2,d5,d6,d7,d3)});};cq.signatureData=function(d2,d3,d4,d5){return cq.FSAutocompleteCall("signatureData",function(d6){return d6.$==13?{$:1,$0:d6.$0}:null;},{$:3,$0:cl.New(d2,d3,d4,d5)});};cq.signature=function(d2,d3,d4,d5){return cq.FSAutocompleteCall("signature",function(d6){return d6.$==12?{$:1,$0:d6.$0}:null;},{$:3,$0:cl.New(d2,d3,d4,d5)});};cq.toolTip=function(d2,d3,d4,d5){return cq.FSAutocompleteCall("tooltip",function(d6){return d6.$==11?{$:1,$0:d6.$0}:null;},{$:3,$0:cl.New(d2,d3,d4,d5)});};cq.parseCode=function(d2,d3,d4,d5){return cq.FSAutocompleteCall("parse",function(d6){return d6.$==7?{$:1,$0:d6.$0}:null;},{$:0,$0:ci.New(d2,d4,d3,d5)});};cq.FSAutocompleteCall=function(d2,d3,d4){var d5;d5=f.asyncResult();return d5.Run(d5.Delay(function(){return d5.Bind$1((new dG.New()).Async("FSharpStation:FsRoot.Library2+FsAutoComplete.FSAutocompleteCall0:-1842881046",[d2,d4]),function(d6){var d7,d8;function d9(d_){return d_!=null;}d7=c2.partition(function(d_){return d9(d3(d_));},d6);d8=d7[1];return d5.Bind(l.ofOption(function(){return new d({$:4,$0:d8});},c0.tryHead(c0.choose(d3,d7[0]))),function(d_){return d5.Return([d_,d8]);});});}));};cs.appendMsgs=function(d2){cs.appendText(cs.outputMsgs(),d2);};cs.appendText=function(d2,d3){var d4;d2.Set((d4=d2.Get(),d4===""?d3:d3===""?d4:d4+"\n"+d3));};cs.outputMsgs=function(){cP.$cctor();return cP.outputMsgs;};cs.annotationsV=function(){cP.$cctor();return cP.annotationsV;};cs.srcDir=function(){cP.$cctor();return cP.srcDir;};cs.set_srcDir=function(d2){cP.$cctor();cP.srcDir=d2;};cs.rootDir=function(){cP.$cctor();return cP.rootDir;};cs.set_rootDir=function(d2){cP.$cctor();cP.rootDir=d2;};cs.id=function(){cP.$cctor();return cP.id;};ct.setProperty=function(d2,d3,d4){function d5(d7){return d7[0];}function d6(d7){return d3!==d7;}if(c0.contains([d3,d4],d2.snpProperties));else{ct.setSnippet(X.New(d2.snpId,d2.snpName,d2.snpContent,d2.snpParentIdO,d2.snpPredIds,c2.ofSeq(c0.append(c0.filter(function(d7){return d6(d5(d7));},d2.snpProperties),c1.ofArray([[d3,d4]]))),d2.snpGeneration));}};ct.toggleCollapse=function(d2){var d3;d3=((ct.collapsedV().Get().Contains(d2)?function(d4){return function(d5){return d5.Remove(d4);};}:function(d4){return function(d5){return d5.Add(d4);};})(d2))(ct.collapsedV().Get());ct.collapsedV().Set(d3);};ct.newSnippet=function(d2){var d3;d3=Z.New("","",null);ct.iterReader(p.op_BarGreaterGreater(ct.addSnippetRm(d3),function(){ct.currentSnippetIdOV().Set({$:1,$0:d3.snpId});}));};ct.addSnippetRm=function(d2){var d3,d4,d5;ct.snippets().Append(d2);d3=(d4=ct.hierarchy().Get(),c0.append([ct.treenode(d2.snpId)],d4));return p.op_BarGreaterGreater(p.op_BarGreaterGreater(p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(o.insertO((d5=ct.currentSnippetIdOV().Get(),d5==null?null:{$:1,$0:Z.snippetORm(d5.$0)})),function(d6){return d6==null?null:a.id(d6.$0);}),function(d6){return d6!=null&&d6.$==1?_1.moveToSibling2(true,d2.snpId,d6.$0.snpId,d3):p.rtn(d3);}),c2.ofSeq),function(d6){ct.hierarchy().Set(d6);});};ct.setSnippetsGen=function(d2,d3){function d4(d5){return ct.treenode(d5.snpId);}ct.collapsedV().Set(d3);ct.snippets().Set(d2);ct.updateGeneration();ct.iterReader(p.op_BarGreaterGreater(p.op_BarGreaterGreater(p.op_BarGreaterGreater(p.op_BarGreaterGreater(o.sequenceSeq(c0.map(function(d5){return p.op_BarGreaterGreater(Z.parentORm(d5),function(d6){return d6==null?{$:1,$0:d5}:null;});},d2)),function(d5){return c0.choose(a.id,d5);}),function(d5){return c0.map(d4,d5);}),c2.ofSeq),function(d5){ct.hierarchy().Set(d5);}));};ct.updateGeneration=function(){var d2;ct.iterReader((d2=o.fusion(),d2.Run(d2.Delay(function(){return d2.Bind(Z.maxGenerationRm(),function(d3){ct.generation().Set(d3);return d2.Zero();});}))));};ct.moveNode=function(d2,d3){ct.iterReader(p.op_BarGreaterGreater(p.op_BarGreaterGreater(_1.moveToSibling2(false,d2,d3,ct.hierarchy().Get()),c2.ofSeq),function(d4){ct.hierarchy().Set(d4);}));};ct.indentOut=function(d2){var d3;d3=ct.currentSnippetIdOV().Get();(h.iter(function(d4){var d5;ct.iterReader(p.op_BarGreaterGreater(p.op_BarGreaterGreater((d5=ct.hierarchy().Get(),_1.outdentNode(ct.treenode(d4),d5)),c2.ofSeq),function(d6){ct.hierarchy().Set(d6);}));}))(d3);};ct.indentIn=function(d2){var d3;d3=ct.currentSnippetIdOV().Get();(h.iter(function(d4){var d5;ct.iterReader(p.op_BarGreaterGreater(p.op_BarGreaterGreater((d5=ct.hierarchy().Get(),_1.indentNode(ct.treenode(d4),d5)),c2.ofSeq),function(d6){ct.hierarchy().Set(d6);}));}))(d3);};ct.deleteCurrentSnippet=function(d2){var d3;d3=ct.currentSnippetIdOV().Get();(h.iter(function(d4){var d5;ct.iterReader(p.op_BarGreaterGreater(p.op_BarGreaterGreater(p.op_BarGreaterGreater((d5=ct.hierarchy().Get(),_1.removeNodeOutdentChildren(ct.treenode(d4),d5)),c2.ofSeq),function(d6){ct.hierarchy().Set(d6);}),function(){ct.snippets().RemoveByKey(d4);}));}))(d3);};ct.expandClassW=function(d2){var d3;d3=ct.snippets().v;return dh.Map2(function(){return ct.runReader(ct.handleError,ct.expandClassRm(d2));},ct.collapsedV().get_View(),d3);};ct.expandClassRm=function(d2){return p.op_GreaterGreaterEquals(Z.childrenRm(d2),function(d3){return c0.isEmpty(d3)?p.rtn(""):p.op_BarGreaterGreater(ct.treenode(d2).isExpandedRm(),function(d4){return d4?"expanded":"collapsed";});});};ct.togglePredecessor=function(d2){var d3,d4;d3=di.Lens(ct.currentSnippetV(),function(d5){return d5.snpPredIds;},function(d5,d6){return X.New(d5.snpId,d5.snpName,d5.snpContent,d5.snpParentIdO,d6,d5.snpProperties,d5.snpGeneration);});d3.Set((d4=d3.Get(),((d3.Get().Contains(d2)?function(d5){return function(d6){return d6.Remove(d5);};}:function(d5){return function(d6){return d6.Add(d5);};})(d2))(d4)));ct.clearPredsCache();};ct.isIncludedPredecessorW=function(d2){return dh.Map(function(d3){return ct.runReader(function(){return false;},p.op_BarGreaterGreater(Z.uniquePredsRm(d3),function(d4){return c0.contains(d2,d4);}));},ct.codeSnippetW());};ct.isIndirectPredecessorW=function(d2){return dh.Map(function(d3){return ct.runReader(function(){return false;},p.op_BarGreaterGreater(Z.uniquePredsRm(d3),function(d4){return c0.contains(d2,d4);}));},ct.currentSnippetW());};ct.treenode=function(d2){return _2.New(function(){return d2;},function(){return p.rtn(!ct.collapsedV().Get().Contains(d2));},function(){return p.rtn(true);},function(){function d3(d4){return ct.treenode(d4.snpId);}return p.op_BarGreaterGreater(Z.childrenRm(d2),function(d4){return c0.map(d3,d4);});},function(){return Z.pathRm(d2);},function(){function d3(d4){return d4.snpParentIdO;}return p.op_BarGreaterGreater(p.op_BarGreaterGreater(Z.snippetORm(d2),function(d4){return d4==null?null:d3(d4.$0);}),function(d4){return d4==null?null:{$:1,$0:ct.treenode(d4.$0)};});},function(d3){return p.op_BarGreaterGreater(ct.setChildrenRm(d2,d3),function(){return ct.treenode(d2);});});};ct.setChildrenRm=function(d2,d3){var d4;d4=o.fusion();return d4.Run(d4.Delay(function(){var d5,d6,d7,d8,d9,d_;d5=c2.map(function(d$){return d$.id();},d3);c0.iter(function(d$){ct.setSnippet(d$);},c0.map(function(d$){return X.New(d$.snpId,d$.snpName,d$.snpContent,{$:1,$0:d2},d$.snpPredIds,d$.snpProperties,d$.snpGeneration);},c0.filter(function(d$){return!c7.Equals(d$.snpParentIdO,{$:1,$0:d2})&&c2.contains(d$.snpId,d5);},ct.snippets())));c0.iter(function(d$){ct.setSnippet(d$);},c0.map(function(d$){return X.New(d$.snpId,d$.snpName,d$.snpContent,null,d$.snpPredIds,d$.snpProperties,d$.snpGeneration);},c0.filter(function(d$){return c7.Equals(d$.snpParentIdO,{$:1,$0:d2})&&!c2.contains(d$.snpId,d5);},ct.snippets())));ct.clearPredsCache();d6=c2.partition(function(d$){return ct.isDescendantOf(d2,d$.snpId);},c2.ofSeq((ct.snippets())["var"].Get()));d7=d6[1];d8=d6[0];d9=c2.findIndex(function(d$){return c7.Equals(d$.snpId,d2);},d7);d_=c2.ofSeq(c0.delay(function(){return c0.append(c8.array(d7,{$:1,$0:0},{$:1,$0:d9}),c0.delay(function(){return c0.append(c0.collect(function(d$){return c0.append([c0.find(function(ea){return c7.Equals(ea.snpId,d$);},d8)],c0.delay(function(){return c0.filter(function(ea){return ct.isDescendantOf(d$,ea.snpId);},d8);}));},d5),c0.delay(function(){return c8.array(d7,{$:1,$0:d9+1},null);}));}));}));ct.snippets().Set(d_);return d4.Zero();}));};ct.currentLayoutJSDW=function(){cP.$cctor();return cP.currentLayoutJSDW;};ct.currentLayoutDW=function(){cP.$cctor();return cP.currentLayoutDW;};ct.currentPathW=function(){cP.$cctor();return cP.currentPathW;};ct.SaveAsClassW=function(){cP.$cctor();return cP.SaveAsClassW;};ct.hasChangedW=function(d2){return dh.Map(function(d3){return d3<d2.snpGeneration;},ct.generation().get_View());};ct.codeStartsW=function(){cP.$cctor();return cP.codeStartsW;};ct.FsCodeW=function(){cP.$cctor();return cP.FsCodeW;};ct.codeAndStartsW=function(){cP.$cctor();return cP.codeAndStartsW;};ct.getHierarchyW=function(){cP.$cctor();return cP.getHierarchyW;};ct.findSnippetV=function(d2){return new dH.New(ct.findSnippetW(d2),function(d3){ct.setSnippet(d3);});};ct.findSnippetW=function(d2){return dh.Map(function(d3){var d4;d4=Z.defaultSnippet();return d3==null?d4:d3.$0;},ct.snippets().TryFindByKeyAsView(d2));};ct.codeSnippetClassW=function(d2){return dh.Map(function(d3){return c7.Equals({$:1,$0:d2},d3)?"codeSnippet":"";},ct.codeSnippetIdOV().get_View());};ct.selectedClassW=function(d2){return dh.Map(function(d3){return c7.Equals({$:1,$0:d2},d3)?"selected":"";},ct.currentSnippetIdOV().get_View());};ct.currentSnippetV=function(){cP.$cctor();return cP.currentSnippetV;};ct.codeSnippetW=function(){cP.$cctor();return cP.codeSnippetW;};ct.currentSnippetW=function(){cP.$cctor();return cP.currentSnippetW;};ct.CurrentSnippetIdW=function(){cP.$cctor();return cP.CurrentSnippetIdW;};ct.isDescendantOf=function(d2,d3){var d4,d5,d6;return c7.Equals(d3,d2)?false:(d4=(d5=(ct.getParentIdO())(d3),d5==null?null:{$:1,$0:(d6=d5.$0,c7.Equals(d6,d2)||ct.isDescendantOf(d2,d6))}),d4==null?false:d4.$0);};ct.getParentIdO=function(){cP.$cctor();return cP.getParentIdO;};ct.getParentIdONotMemo=function(d2){var d3;d3=ct.snippets().TryFindByKey(d2);return d3==null?null:d3.$0.snpParentIdO;};ct.getSnippetsGen=function(){return[(ct.snippets())["var"].Get(),ct.generation().Get(),ct.collapsedV().Get()];};ct.setSnippet=function(d2){if(!c7.Equals(d2.snpId.get_Id(),"00000000-0000-0000-0000-000000000000"))ct.snippets().Append(X.New(d2.snpId,d2.snpName,d2.snpContent,d2.snpParentIdO,d2.snpPredIds,d2.snpProperties,ct.runReader(function(d3){c.print$1(d3);return 999;},Z.maxGenerationRm())+1));};ct.setCurrentSnippetIdO=function(d2){(h.iter(function(d3){ct.expandParents(d3);}))(d2);ct.currentSnippetIdOV().Set(d2);};ct.expandParents=function(d2){ct.iterReader(p.op_BarGreaterGreater(Z.pathRm(d2),function(d3){var d4;d4=dc.op_Subtraction(ct.collapsedV().Get(),new dc.New(d3));ct.collapsedV().Set(d4);}));};ct.runReader=function(d2,d3){return l.defaultWith(d2,ct.runReaderResult(d3));};ct.runReaderResult=function(d2){return c5.Map(function(d3){return d3[0];},o.runReader(ct.snippetsColl(),d2));};ct.iterReader=function(d2){o.iterReader(function(d3){ct.handleError(d3);},a.ignore,ct.snippetsColl(),d2);};ct.handleError=function(d2){throw new a.Error(a.String(d2));};ct.snippetsColl=function(){return Y.New(ct.generation().Get(),c0.delay(function(){return(ct.snippets())["var"].Get();}),function(d2){return ct.snippets().TryFindByKey(d2);},ct.predsCache,ct.reducCache,ct.prepCode);};ct.prepCode=function(d2){return cZ.Replace(cZ.Replace(d2.snpContent,"##"+"FSHARPSTATION_ID"+"##",cs.id()),"##"+"FSHARPSTATION_ENDPOINT"+"##",self.location.href);};ct.clearPredsCache=function(){(ct.clearPreds())();(ct.clearReduc())();(ct.clearParent())();};ct.clearParent=function(){cP.$cctor();return cP.clearParent;};ct.parentCache=function(){cP.$cctor();return cP.parentCache;};ct.clearReduc=function(){cP.$cctor();return cP.clearReduc;};ct.reducCache=function(){cP.$cctor();return cP.reducCache;};ct.clearPreds=function(){cP.$cctor();return cP.clearPreds;};ct.predsCache=function(){cP.$cctor();return cP.predsCache;};ct.collapsedV=function(){cP.$cctor();return cP.collapsedV;};ct.codeSnippetIdOV=function(){cP.$cctor();return cP.codeSnippetIdOV;};ct.currentSnippetIdOV=function(){cP.$cctor();return cP.currentSnippetIdOV;};ct.generation=function(){cP.$cctor();return cP.generation;};ct.hierarchy=function(){cP.$cctor();return cP.hierarchy;};ct.snippets=function(){cP.$cctor();return cP.snippets;};cv.DragNone={$:0};cu.getDragNIdO=function(d2){var d3;return cu.drag().$==1&&(!c7.Equals(cu.drag().$0,d2)&&(d3=cu.drag().$0,true))?{$:1,$0:d3}:null;};cu.setDragNode=function(d2){cu.set_drag({$:1,$0:d2});};cu.setDragNone=function(){cu.set_drag(cv.DragNone);};cu.drag=function(){cP.$cctor();return cP.drag;};cu.set_drag=function(d2){cP.$cctor();cP.drag=d2;};cw.TemplatesFileName=function(){cP.$cctor();return cP.TemplatesFileName;};cw.rootdir=function(){cP.$cctor();return cP.rootdir;};cx.render=function(){var d2,d3,d4,d5;return(d2=(d3=cx.snippets(),dL.Make().WithHole({$:0,$0:"snippets",$1:d3})),(d4=dM.CompleteHoles(d2.k,d2.h,[]),(d5=new dN.New(d4[1],cU.snippetlist(d4[0])),(d2.i=d5,d5)))).get_Doc();};cx.snippets$4854$40=function(d2){return function(d3){var d4;d3.Event.preventDefault();d4=cu.getDragNIdO(d2);(h.iter(function(d5){ct.moveNode(d5,d2);}))(d4);};};cx.snippets$4853$40=function(d2){return function(d3){if(cu.getDragNIdO(d2)!=null)d3.Event.preventDefault();};};cx.snippets$4852$40=function(d2){return function(d3){cu.setDragNode(d2);d3.Event.stopPropagation();};};cx.snippets$4851$40=function(d2){return function(){ct.toggleCollapse(d2);};};cx.snippets$4850$40=function(d2){return function(){ct.togglePredecessor(d2);};};cx.snippets$4849$40=function(d2){var d3;d3=dh.Map(function(d4){return""!==d4;},ct.selectedClassW(d2));return function(d4){return cx.scrollIntoView(d3,d4);};};cx.snippets$4848$40=function(d2){return function(){ct.setCurrentSnippetIdO({$:1,$0:d2});};};cx.snippets=function(){function d2(d3,d4){var d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em;function en(eo){return eo?"ErrorMsg":"";}d5=(d6=dh.get_Do(),dh.Bind(function(eo){return dh.Bind(function(ep){return dh.Const((ep?"*":"")+Z.snippetName(eo.snpName,eo.snpContent));},ct.hasChangedW(eo));},ct.findSnippetW(d3)));d7=dh.Apply(dh.Map2(function(eo,ep){return function(eq){return eo.snpPredIds.Contains(d3)?"direct-predecessor":ep?"indirect-predecessor":eq?"included-predecessor":"";};},ct.currentSnippetV().get_View(),ct.isIndirectPredecessorW(d3)),ct.isIncludedPredecessorW(d3));d8=(d9=cs.annotationsV().get_View(),dh.Map((d_=(d$=(ea=d3.get_Id(),a.String(ea)),function(eo){return H.contains$1(d$,eo);}),function(eo){return en(d_(eo));}),d9));return(eb=(ec=(ed=(ee=(ef=(eg=(eh=(ei=dh.Map(function(eo){return""!==eo;},ct.selectedClassW(d3)),function(eo){return cx.scrollIntoView(ei,eo);}),(ej=(ek=ct.expandClassW(d3),dL.Make().WithHole({$:2,$0:"name",$1:d5}).WithHole({$:1,$0:"indent",$1:a.String(d4)}).WithHole({$:2,$0:"parent",$1:ek})).WithHole({$:2,$0:"predecessor",$1:d7}).WithHole({$:2,$0:"selected",$1:dh.Map2(function(eo,ep){return cZ.concat(" ",c1.ofArray([eo,ep]));},ct.selectedClassW(d3),ct.codeSnippetClassW(d3))}).WithHole({$:2,$0:"errormsg",$1:d8}),ej.WithHole(dM.EventQ2(ej.k,"select",function(){return ej.i;},function(){ct.setCurrentSnippetIdO({$:1,$0:d3});}))).WithHole({$:7,$0:"afterrender",$1:eh})),eg.WithHole(dM.EventQ2(eg.k,"togglepred",function(){return eg.i;},function(){ct.togglePredecessor(d3);}))),ef.WithHole(dM.EventQ2(ef.k,"togglecollapse",function(){return ef.i;},function(){ct.toggleCollapse(d3);}))),ee.WithHole(dM.EventQ2(ee.k,"drag",function(){return ee.i;},function(eo){cu.setDragNode(d3);eo.Event.stopPropagation();}))),ed.WithHole(dM.EventQ2(ed.k,"dragover",function(){return ed.i;},function(eo){if(cu.getDragNIdO(d3)!=null)eo.Event.preventDefault();}))),ec.WithHole(dM.EventQ2(ec.k,"drop",function(){return ec.i;},function(eo){var ep;eo.Event.preventDefault();ep=cu.getDragNIdO(d3);(h.iter(function(eq){ct.moveNode(eq,d3);}))(ep);}))),(el=dM.CompleteHoles(eb.k,eb.h,[]),(em=new dN.New(el[1],cU.snippet(el[0])),(eb.i=em,em)))).get_Doc();}return dm.Convert(function(d3){return d2(d3[0],d3[1]);},ct.getHierarchyW());};cx.scrollIntoView=function(d2,d3){dh.Sink(function(d4){if(d4)try{d3.scrollIntoViewIfNeeded();}catch(d5){((function(d6){return function(d7){return d6(cY.prettyPrint(d7));};}(function(d6){df.log(d6);}))(d5));}},d2);};cy.render$4893$34=function(){return function(){cy.addProperty();};};cy.render=function(){var d2,d3,d4,d5,d6;return(d2=(d3=(d4=cy.properties(),dL.Make().WithHole({$:0,$0:"properties",$1:d4})),d3.WithHole(dM.EventQ2(d3.k,"addproperty",function(){return d3.i;},function(){cy.addProperty();}))),(d5=dM.CompleteHoles(d2.k,d2.h,[]),(d6=new dN.New(d5[1],cU.propertytable(d5[0])),(d2.i=d6,d6)))).get_Doc();};cy.properties$4886$33=function(d2){return function(){cy.remProperty(d2);};};cy.properties=function(){var d2;function d3(d5,d6){c2.set(d2.Get(),d5,[d6,(c2.get(d2.Get(),d5))[1]]);return d2.Set(d2.Get());}function d4(d5,d6){return(c2.get(d2.Get(),d5))[1].length>1000?null:(c2.set(d2.Get(),d5,[(c2.get(d2.Get(),d5))[0],d6]),d2.Set(d2.Get()));}d2=di.Lens(ct.currentSnippetV(),function(d5){return d5.snpProperties;},function(d5,d6){return X.New(d5.snpId,d5.snpName,d5.snpContent,d5.snpParentIdO,d5.snpPredIds,d6,d5.snpGeneration);});return dm.Convert(function(d5){var d6,d7,d8,d9,d_,d$;d6=new dH.New(dh.Map(function(ea){return(c2.get(ea,d5))[0];},d2.get_View()),function(ea){return d3(d5,ea);});d7=new dH.New(dh.Map(function(ea){var eb;eb=(c2.get(ea,d5))[1];return eb.length>1000?(((cX.Curried3(function(ec,ed,ee){return ec(cY.toSafe(ed)+"...<"+a.String(ee)+" chars>");}))(a.id))(c8.string(eb,{$:1,$0:0},{$:1,$0:100})))(eb.length):eb;},d2.get_View()),function(ea){return d4(d5,ea);});return(d8=(d9=dL.Make().WithHole({$:8,$0:"name",$1:d6}).WithHole({$:8,$0:"value",$1:d7}),d9.WithHole(dM.EventQ2(d9.k,"remove",function(){return d9.i;},function(){cy.remProperty(d5);}))),(d_=dM.CompleteHoles(d8.k,d8.h,[["name",0],["value",0]]),(d$=new dN.New(d_[1],cU.property(d_[0])),(d8.i=d$,d$)))).get_Doc();},dh.Map(function(d5){return c2.ofSeq(c6.range(0,c2.length(d5)-1));},d2.get_View()));};cy.remProperty=function(d2){var d3;ct.currentSnippetV().Set((d3=ct.currentSnippetV().Get(),X.New(d3.snpId,d3.snpName,d3.snpContent,d3.snpParentIdO,d3.snpPredIds,c8.array(ct.currentSnippetV().Get().snpProperties,{$:1,$0:0},{$:1,$0:d2-1}).concat(c8.array(ct.currentSnippetV().Get().snpProperties,{$:1,$0:d2+1},null)),d3.snpGeneration)));};cy.addProperty=function(){var d2;ct.currentSnippetV().Set((d2=ct.currentSnippetV().Get(),X.New(d2.snpId,d2.snpName,d2.snpContent,d2.snpParentIdO,d2.snpPredIds,ct.currentSnippetV().Get().snpProperties.concat([["",""]]),d2.snpGeneration)));};cA=cz.HoverProvider=cX.Class({provideHover:function(d2,d3,d4){var d5;return _4.ofAsyncResult((d5=f.asyncResult(),d5.Run(d5.Delay(function(){var d6;d6=cz.getIndentAndFirst();return d5.Bind$1(cq.toolTip(cz.fileName(),d3.lineNumber+d6[1],d3.column+d6[0],""),function(d7){return D["AsyncResultBuilder.Bind"](d5,cz.overDescriptions(d7[0]),function(d8){return d5.Return(bx.New(c2.ofSeq(c0.map(function(d9){return bu.New((c.print$1(d9),d9),true);},d8)),null));});});}))));}},k,cA);cA.New=cX.Ctor(function(d2){k.New.call(this);},cA);cB=cz.CompletionItemProvider=cX.Class({resolveCompletionItem:function(d2,d3){var d4;function d5(d7){return d7.$==1?c6.FailWith((function(d8){return function(d9){return d8(cS.p$9(d9));};}(a.id))(d7.$0)):d7.$0;}function d6(d7){return c3.Return(d7);}return dP.OfAsync(c3.Bind((d4=f.asyncResult(),d4.Run(d4.Delay(function(){return d4.Bind$1(cq.helpText(d2.label),function(d7){return d4.Return(bw.New(d2.kind,d2.label,cZ.concat("\n",c0.collect(function(d8){return c1.ofSeq(c0.delay(function(){return c0.append(!(!d8.Signature)?[d8.Signature]:[],c0.delay(function(){return c0.append(!(!d8.Comment)?[d8.Comment]:[],c0.delay(function(){return!(!d8.Footer)?[d8.Footer]:[];}));}));}));},c0.collect(a.id,d7[0].Overloads)))));});}))),function(d7){return d6(d5(d7));}));},provideCompletionItems:function(d2,d3,d4,d5){var d6;function d7(d9){return d9.$==1?c6.FailWith((function(d_){return function(d$){return d_(cS.p$9(d$));};}(a.id))(d9.$0)):d9.$0;}function d8(d9){return c3.Return(d9);}return dP.OfAsync(c3.Bind((d6=f.asyncResult(),d6.Run(d6.Delay(function(){var d9,d_;d9=cz.getIndentAndFirst();d_=d9[0];return d6.Bind$1(cq.completion(cZ.replicate(d_," ")+d2.getLineContent(d3.lineNumber),true,cz.fileName(),d3.lineNumber+d9[1],d3.column+d_,"Contains"),function(d$){return d6.Return(c2.map(function(ea){return bw.New(cz.convertGlyphChar(ea.GlyphChar),ea.Name,"");},d$[0]));});}))),function(d9){return d8(d7(d9));}));}},k,cB);cB.New=cX.Ctor(function(d2){k.New.call(this);},cB);cC=cz.DefinitionProvider=cX.Class({provideDefinition:function(d2,d3,d4){var d5;function d6(d8){return d8.$==1?c6.FailWith((function(d9){return function(d_){return d9(cS.p$9(d_));};}(a.id))(d8.$0)):d8.$0;}function d7(d8){return c3.Return(d8);}return dP.OfAsync(c3.Bind((d5=f.asyncResult(),d5.Run(d5.Delay(function(){var d8;d8=cz.getIndentAndFirst();return d5.Bind$1(cq.findDeclaration(cz.fileName(),d3.lineNumber+d8[1],d3.column+d8[0],""),function(d9){var d_,d$,ea,eb,ec,ed,ee,ef;d_=d9[0];d$=cz.getSnipIdIndentAndFirst(d_.Line);ea=d$[0];eb=d$[1];ec=d$[2];ed=(ee="snpId:"+(ef=ea.get_Id(),a.String(ef)),self.monaco.Uri.parse(ee));cz.getSnippetModel(ea);return d5.Return(bq.New(bo.New(d_.Column-eb,d_.Column-eb,d_.Line-ec,d_.Line-ec),ed));});}))),function(d8){return d7(d6(d8));}));}},k,cC);cC.New=cX.Ctor(function(d2){k.New.call(this);},cC);cD.New=function(d2,d3){return{fontSize:d2,lineHeight:d3};};cE.New=function(d2,d3){return{setEditor:d2,createModelReference:d3};};cz["goto"]=function(d2,d3,d4){var d5;d5=null;return c3.Delay(function(){var d6,d7;d6=(d7=cz.editorConfigO(),d7==null?null:d7.$0.editorO);return d6!=null&&d6.$==1?c3.Bind(cz.gotoEditor(d6.$0,d2,d3,d4),function(){return c3.Return(null);}):c3.Zero();});};cz.editorDoc=function(){var d2;return dm.Async((d2=null,c3.Delay(function(){return c3.Bind(bm.loader(),function(){return c3.Bind(cz.monacoNew(di.Lens(ct.currentSnippetV(),function(d3){return d3.snpContent;},function(d3,d4){return X.New(d3.snpId,d3.snpName,d4,d3.snpParentIdO,d3.snpPredIds,d3.snpProperties,d3.snpGeneration);}),{$:1,$0:dh.Map2(cz.transformAnnotations,ct.currentSnippetW(),cs.annotationsV().get_View())},null,null),function(d3){cz.set_editorConfigO({$:1,$0:d3});return c3.Return(bm.render(d3));});});})));};cz.editorConfigO=function(){cP.$cctor();return cP.editorConfigO;};cz.set_editorConfigO=function(d2){cP.$cctor();cP.editorConfigO=d2;};cz.parse=function(d2,d3){var d4;A.iterA(function(d5){c.print$1(d5);},function(){c.print$1();},(d4=f.asyncResult(),d4.Run(d4.Delay(function(){var d5,d6;d5="Parsing...\n"+H.skipFirstLine$1(cs.annotationsV().Get());cs.annotationsV().Set(d5);cz.startsV().Set(d3);d6=H.splitByChar$1("\n",d2);cz.set_fileName(U.getSourceDir(cs.srcDir(),d6)+"/"+cs.id()+".fsx");return d4.Bind$1(cq.parseCode(cz.fileName(),d6,true,0),function(d7){var d8;d8=cZ.concat("\n",c0.append(c1.ofArray(["Parsed!"]),c0.map(function(d9){var d_,d$,ea,eb,ec;function ed(ee,ef){return d9.StartLine>ef[1]&&d9.StartLine<=ef[2];}d_=(d$=c0.tryFind(function(ee){return ed(ee[0],ee[1]);},d3),(cz.defaultStart())(d$));ea=d_[1][0];eb=d_[1][1];return((((((((((cX.Curried(function(ee,ef,eg,eh,ei,ej,ek,el,em,en){return ee(cY.toSafe(ef)+" ("+a.String(eg)+", "+a.String(eh)+") - ("+a.String(ei)+", "+a.String(ej)+") "+cY.toSafe(ek)+"("+cY.toSafe(el)+") \""+cY.toSafe(em)+": "+cY.toSafe(en)+"\".");},10))(a.id))(d9.Severity==="Error"?"Err":"Warn"))(d9.StartLine-eb))(d9.StartColumn-ea))(d9.EndLine-eb))(d9.EndColumn-ea))(d_[0][1]))((ec=d_[0][0].get_Id(),a.String(ec))))(d9.Subcategory))(d9.Message);},d7[0].Errors)));cs.annotationsV().Set(d8);c0.iter(function(d9){c.print$1(d9);},d7[1]);return d4.Zero();});}))));};cz.monacoNew=function(d2,d3,d4,d5){var d6;d6=null;return c3.Delay(function(){var d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en;el=bm.newVar(d2);ed=el.editorO;ee=_6.newPojo([["fontSize",12],["lineHeight",14]]);em=a.require("vs/editor/standalone/browser/standaloneServices");en=new em.StaticServices.codeEditorService._factory();en.openCodeEditor=cz.openCodeEditor;ek=en;ej=["codeEditorService",ek];eh=[ej,["textModelResolverService",cz.textModelResolverService()]];ef=_6.newPojo(eh);d$=bz.New(el["var"],el.onChange,el.onRender,ed,el.disabled,ee,ef);d9=bm.onRender(function(eo){var ep,eq,er,es;function et(ey,ez,eA){return eq.provideHover(ey,ez,eA);}function eu(ey,ez,eA,eB){return er.provideCompletionItems(ey,ez,eA,eB);}function ev(ey,ez){return er.resolveCompletionItem(ey,ez);}function ew(ey,ez,eA){return es.provideDefinition(ey,ez,eA);}function ex(ey){var ez;ez=eo.getModel();self.monaco.editor.setModelMarkers(ez,"annotations",ey);}ep=eo.getModel();self.monaco.editor.setModelLanguage(ep,"fsharp");self.monaco.editor.setTheme("vs");eq=new cA.New(eo);er=new cB.New(eo);es=new cC.New(eo);c.print$1(function(ey){return et(ey[0],ey[1],ey[2]);});c.print$1(function(ey){return eu(ey[0],ey[1],ey[2],ey[3]);});c.print$1(function(ey){return ev(ey[0],ey[1]);});c.print$1(function(ey){return ew(ey[0],ey[1],ey[2]);});self.monaco.languages.registerHoverProvider("fsharp",eq);self.monaco.languages.registerCompletionItemProvider("fsharp",er);self.monaco.languages.registerDefinitionProvider("fsharp",es);(h.iter(function(ey){dh.Sink(ex,ey);}))(d3);},d$);return c3.Return(d9);});};cz.textModelResolverService=function(){var d2;d2=null;return cE.New(function(d3){d2={$:1,$0:d3};},function(d3){var d4;return dP.OfAsync((d4=null,c3.Delay(function(){var d5,d6,d7,d8;d7=cz.getSnippetModel(d3);d8=self.require("vs/base/common/lifecycle");d6=new d8.ImmortalReference(d7);return c3.Return(d6);})));});};cz.openCodeEditor=function(d2,d3,d4){var d5;return dP.OfAsync((d5=null,c3.Delay(function(){var d6,d7;d6=d2.resource.path;d7=(I.Guid$1())(d6);return d7!=null&&d7.$==1?c3.Bind(cz.gotoEditor(d3,new W({$:0,$0:d7.$0}),d2.options.selection.startLineNumber,d2.options.selection.startColumn),function(){return c3.Return(d3);}):c3.Return(null);})));};cz.gotoEditor=function(d2,d3,d4,d5){var d6;d6=null;return c3.Delay(function(){ct.setCurrentSnippetIdO({$:1,$0:d3});return c3.Bind(c3.Sleep(200),function(){d2.focus();d2.setPosition(bn.New(d5,d4));d2.revealPositionInCenter(bn.New(d5,d4));return c3.Zero();});});};cz.transformAnnotations=function(d2,d3){var d4,d5;function d6(d7,d8,d9,d_,d$,ea,eb){var ec;return!c7.Equals((ec=(I.parseGuidO$1())(ea),ec==null?null:{$:1,$0:new W({$:0,$0:ec.$0})}),{$:1,$0:d2.snpId})?null:{$:1,$0:bv.New(d9,d$,d8,d_,d7==="Err"?8:d7==="Warn"?4:d7==="Hint"?1:2,eb)};}d4="(Err|Warn|Info|Hint) \\((\\d+)\\,\\s*(\\d+)\\) - \\((\\d+)\\,\\s*(\\d+)\\).*\\("+_3.rexGuid$1()+"\\) \"([^\"]+?)\"\\.";return c2.choose(function(d7){return d6(d7[0],d7[1],d7[2],d7[3],d7[4],d7[5],d7[6]);},c2.choose(function(d7){var d8,d9,d_;return(d9=_3.REGEX$2(d4,"",d7),d9!=null&&d9.$==1&&((d_=d9.$0,!c7.Equals(d_,null)&&d_.length===8)&&(d8=[c2.get(d9.$0,3),c2.get(d9.$0,2),c2.get(d9.$0,6),c2.get(d9.$0,7),c2.get(d9.$0,5),c2.get(d9.$0,4),c2.get(d9.$0,1)],true)))?{$:1,$0:[d8[6],c6.toInt(a.Number(d8[1])),c6.toInt(a.Number(d8[0])),c6.toInt(a.Number(d8[5])),c6.toInt(a.Number(d8[4])),d8[2],d8[3]]}:null;},(d5=_3.REGEX$2(d4,"g",d3),d5!=null&&d5.$==1?d5.$0:[])));};cz.convertGlyphChar=function(d2){return d2==="C"?6:d2==="E"?12:d2==="S"?11:d2==="I"?7:d2==="N"?8:d2==="M"?1:d2==="P"?9:d2==="F"?4:d2==="T"?6:d2==="K"?13:0;};cz.fileName=function(){cP.$cctor();return cP.fileName;};cz.set_fileName=function(d2){cP.$cctor();cP.fileName=d2;};cz.overDescriptions=function(d2){return i.sequenceSeq(c0.collect(function(d3){return c1.ofSeq(c0.delay(function(){return c0.append(!(!d3.Signature)?[c3.Return("```\n"+d3.Signature+"\n```")]:[],c0.delay(function(){function d4(d5){return c3.Return(d5);}return c0.append(!(!d3.Comment)?[c3.Bind((new dG.New()).Async("FSharpStation:FsRoot.FSharpStation+Markdown.createCommentBlock:-1840423385",[d3.Comment]),function(d5){return d4(cz.fixMarkDown(d5));})]:[],c0.delay(function(){return!(!d3.Footer)?[c3.Return(cz.fixMarkDown(d3.Footer))]:[];}));}));}));},c0.collect(a.id,d2)));};cz.fixMarkDown=function(d2){return cZ.concat("\n\n",c0.map(function(d3){var d4;d4=c0.length(c0.takeWhile(function(d5){return" "===d5;},d3));return cZ.replicate(d4,"&nbsp;")+c8.string(d3,{$:1,$0:d4},null);},c0.map(function(d3){return cZ.Replace(d3,"\u0009","- ");},H.splitByChar$1("\n",d2))));};cz.getSnippetModel=function(d2){var d3,d4,d5;d3=(d4="snpId:"+(d5=d2.get_Id(),a.String(d5)),self.monaco.Uri.parse(d4));return cz.getModelUri(ct.runReader(function(d6){return c6.FailWith(a.String(d6));},Z.snippetRm(d2)).snpContent,d3);};cz.getModelUri=function(d2,d3){var d4,d5,d6;d4=(d5=(d6=self.monaco.editor.getModel(d3),!d6?null:{$:1,$0:d6}),d5==null?self.monaco.editor.createModel("","fsharp",d3):d5.$0);d4.getValue()!==d2?d4.setValue(d2):void 0;return d4;};cz.getSnipIdIndentAndFirst=function(d2){var d3,d4;function d5(d6,d7){return d2>=d7[1]&&d2<=d7[2];}d3=(d4=c0.tryFind(function(d6){return d5(d6[0],d6[1]);},cz.startsV().Get()),(cz.defaultStart())(d4));return[d3[0][0],d3[1][0],d3[1][1]];};cz.getIndentAndFirst=function(){var d2,d3,d4,d5;function d6(d9){return d9[0];}function d7(d9){return d9[0];}function d8(d9){return c7.Equals(d2,d9);}d2=ct.currentSnippetV().Get().snpId;d3=(d4=c0.tryFind((d5=function(d9){return d7(d6(d9));},function(d9){return d8(d5(d9));}),cz.startsV().Get()),(cz.defaultStart())(d4));return[d3[1][0],d3[1][1]];};cz.defaultStart=function(){cP.$cctor();return cP.defaultStart;};cz.startsV=function(){cP.$cctor();return cP.startsV;};cF.jumpToRef=function(d2){var d3,d4;function d5(d6,d7,d8){return d4>=d7&&d4<d8?{$:1,$0:d6}:null;}d3=d2.value;d4=d2.selectionStart;cF.jumpToLine(c0.pick(function(d6){return d5(d6[0],d6[1],d6[2]);},(c0.mapFold(function(d6,d7){return[[d7,d6,d6+d7.length+1],d6+d7.length+1];},0,cZ.SplitChars(d3,["\n"],0)))[0]));};cF.jumpToLine=function(d2){var d3,d4,d5,d6,d7;d3=_3.REGEX$2(cF.rexGuid(),"",d2);d3!=null&&d3.$==1?(d4=d3.$0,!c7.Equals(d4,null)&&d4.length===6)?(d5=c2.get(d3.$0,2),d6=c2.get(d3.$0,5),d7=c2.get(d3.$0,1),c3.Start(cz["goto"](new W({$:0,$0:d6}),c6.toInt(a.Number(d7)),c6.toInt(a.Number(d5))),null)):void 0:void 0;};cF.rexGuid=function(){cP.$cctor();return cP.rexGuid$1;};cG.setCurrentProperty=function(d2,d3){ct.setProperty(ct.currentSnippetV().Get(),d2,d3);};cG.getCurrentProperty=function(d2){var d3;return A.absorbO(function(){return(e.errorMsgf(function(d4){return function(d5){return d4("Property "+cY.toSafe(d5)+" not found");};}))(d2);},A.map(function(d4){return d4[0];},(d3=cG.propO(ct.currentSnippetV().Get(),d2),s.runReader(ct.snippetsColl(),d3))));};cG.buttonClick=function(d2){cG.actionClick(cZ.Trim(d2.textContent));};cG.actionClick=function(d2){var d3;d3=cG.actionClickRm(d2);s.iterReaderA(function(d4){c.print$1(d4);},function(d4){c.print$1(d4);},ct.snippetsColl(),d3);};cG.actionSnp=function(d2,d3){var d4;d4=cG.actionSnpRm(d2,d3);s.iterReaderA(function(d5){c.print$1(d5);},function(d5){c.print$1(d5);},ct.snippetsColl(),d4);};cG.actionSnpRm=function(d2,d3){var d4;d4=s.fusion();return d4.Run(d4.Delay(function(){return d4.Bind(s.ofFusionM(Z.snippetFromRefORm({$:1,$0:cZ.SplitChars(d2,["/"],0)})),function(d5){var d6;function d7(d8){return cG.fetchValue(d3,d8);}return d5!=null&&d5.$==1?(d6=d5.$0,d4.Bind(t.op_BarGreaterGreater(cG.getCode(d6,d3),function(d8){return cG.translateString(d7,d8);}),function(d8){return d4.Bind(s.ofAsync((new dG.New()).Async("FSharpStation:FsRoot.Library2+FSharpStationClient.setAddress:-574353144",[new bI({$:0,$0:cs.id()})])),function(){return d4.Bind(t.op_BarGreaterGreater(s.ofFusionM(Z.fastCodeRm({$:1,$0:d6.snpId},{$:1,$0:d6.snpId})),function(d9){return d9[0];}),function(d9){return d4.Bind(s.ofFusionM(Z.predsGenerationRm(d6)),function(d_){return d4.ReturnFrom(s.ofAsync((new dG.New()).Async("FSharpStation:FsRoot.Library2+FsiAgent.evalCodeWithPresence:854633647",[cs.srcDir(),(function(d$){return function(ea){return d$(cS.p(ea));};}(a.id))(d6.snpId),a.String(d_),{$:0,$0:d9},{$:0,$0:d8}])));});});});})):d4.ReturnFrom(s.ofResultRM(c.Error$1(new d({$:1,$0:(function(d8){return function(d9){return d8("Snippet "+cY.toSafe(d9)+" not found");};}(a.id))(d2)}))));});}));};cG.setSnippetContent=function(d2,d3){var d4,d5;d4=(d5=s.fusion(),d5.Run(d5.Delay(function(){return d5.Bind(s.ofFusionM(Z.snippetFromRefORm({$:1,$0:cZ.SplitChars(d2,["/"],0)})),function(d6){var d7;return d6!=null&&d6.$==1?(d7=d6.$0,(ct.setSnippet(X.New(d7.snpId,d7.snpName,d3,d7.snpParentIdO,d7.snpPredIds,d7.snpProperties,d7.snpGeneration)),d5.Zero())):d5.ReturnFrom(s.ofResultRM(c.Error$1(new d({$:1,$0:(function(d8){return function(d9){return d8("Snippet "+cY.toSafe(d9)+" not found");};}(a.id))(d2)}))));});})));s.iterReaderA(function(d6){c.print$1(d6);},function(){c.print$1();},ct.snippetsColl(),d4);};cG.actionClickRm=function(d2){var d3;d3=s.fusion();return d3.Run(d3.Delay(function(){var d4;d4=(function(d5){return function(d6){return d5("Action "+cY.toSafe(d6)+" ...");};}(a.id))(d2);cs.outputMsgs().Set(d4);return d3.Bind(cG.getBaseSnippet(),function(d5){function d6(d7){return cG.fetchValue(d2,d7);}return d3.Bind(t.op_BarGreaterGreater(cG.getCode(d5,d2),function(d7){return cG.translateString(d6,d7);}),function(d7){return d3.Bind(s.ofAsync((new dG.New()).Async("FSharpStation:FsRoot.Library2+FSharpStationClient.setAddress:-574353144",[new bI({$:0,$0:cs.id()})])),function(){return d3.Bind(t.op_BarGreaterGreater(s.ofFusionM(Z.fastCodeRm({$:1,$0:d5.snpId},{$:1,$0:d5.snpId})),function(d8){return d8[0];}),function(d8){return d3.Bind(s.ofFusionM(Z.predsGenerationRm(d5)),function(d9){return d3.ReturnFrom(s.ofAsync((new dG.New()).Async("FSharpStation:FsRoot.Library2+FsiAgent.evalCodeWithPresence:854633647",[cs.srcDir(),(function(d_){return function(d$){return d_(cS.p(d$));};}(a.id))(d5.snpId),a.String(d9),{$:0,$0:d8},{$:0,$0:d7}])));});});});});});}));};cG.fetchValue=function(d2,d3){var d4,d5,d6;return d3==="button"?d2:(d4=(d5=(d6=(dQ.splitName("Snp_"+cZ.Replace(a.String(ct.currentSnippetV().Get().snpId.get_Id()),"-","")))(d3),dQ.tryGetWoW(d6[0],d6[1])),d5==null?null:dh.TryGet(d5.$0)),d4==null?(function(d7){return function(d8){return d7("$[not found:"+cY.toSafe(d8)+"]");};}(a.id))(d3):d4.$0);};cG.getCode=function(d2,d3){var d4;d4=s.fusion();return d4.Run(d4.Delay(function(){var d5;function d6(d7,d8){return d7+d8;}return d4.Bind(t.op_BarGreaterGreater(t.op_BarGreaterGreater(cG.propO(d2,"Open"),(d5=function(d7){return d6(d7,"\n");},function(d7){return d7==null?null:{$:1,$0:d5(d7.$0)};})),function(d7){return d7==null?"":d7.$0;}),function(d7){return d4.Bind(cG.propO(d2,d3),function(d8){return d8==null?cZ.StartsWith(d3,":")?d4.Return(d7+c8.string(d3,{$:1,$0:1},null)):d4.Bind(t.op_BarGreaterGreater(cG.propO(d2,"action-template"),function(d9){return d9==null?"${button}() |> printfn \"%A\"":d9.$0;}),function(d9){var d_;return d4.Return((d_=(H.indentStr$1(4))(d7+d9),(((cX.Curried3(function(d$,ea,eb){return d$("module Call"+cY.toSafe(ea)+" =\n"+cY.toSafe(eb));}))(a.id))(a.String(dR.now())))(d_)));}):d4.Return(d7+d8.$0);});});}));};cG.getBaseSnippet=function(){var d2;d2=s.fusion();return d2.Run(d2.Delay(function(){var d3;d3=ct.currentSnippetV().Get();return d2.Bind(cG.propO(d3,"BaseSnippet"),function(d4){return d2.ReturnFrom(t.op_BarGreaterGreater(t.op_BarGreaterGreater(s.insertO(d4==null?null:{$:1,$0:s.ofFusionM(Z.snippetFromRefORm({$:1,$0:cZ.SplitChars(d4.$0,["/"],0)}))}),function(d5){return d5==null?null:d5.$0;}),function(d5){return d5==null?d3:d5.$0;}));});}));};cG.translateString=function(d2,d3){function d4(d5,d6){var d7;d7=H.delimitedO$1("${","}",d6);return d7!=null&&d7.$==1?d4(d5+d7.$0[0],d2(d7.$0[1])+d7.$0[2]):d5+d6;}return d4("",d3);};cG.propO=function(d2,d3){function d4(d5,d6){return d6[0];}return t.op_BarGreaterGreater(s.ofFusionM(Z.propertyHierORm(d3,d2)),function(d5){var d6;return d5==null?null:{$:1,$0:(d6=d5.$0,d4(d6[0],d6[1]))};});};cI.New=function(d2,d3,d4){return{snippets:d2,generation:d3,collapsed:d4};};cH.serModel=function(){cP.$cctor();return cP.serModel;};cH.getModel=function(d2,d3,d4){return cI.New(c2.ofSeq(d2),d3,d4);};cH.serSnippet=function(){cP.$cctor();return cP.serSnippet;};cH.serSnippetId=function(){cP.$cctor();return cP.serSnippetId;};cJ.saveAs=function(){var d2,d3,d4,d5;d2=(d3=c0.last(cZ.SplitChars(cJ.fileName().Get(),["/","\\"],0)),d3===""?"noname.snippets":d3);a.saveAs(new a.Blob([(d4=(d5=ct.getSnippetsGen(),cH.getModel(d5[0],d5[1],d5[2])),(cH.serModel())[0](d4))],{type:"text/plain;charset=utf-8"}),d2);ct.updateGeneration();};cJ.loadTextFile=function(d2){var d3,d4;if(cJ.canLoad()){d3=d2.files;d3.length>0?(d4=new a.FileReader(),d4.onload=function(d5){return cJ.parseText(d5.target.result);},cJ.fileName().Set(d3.item(0).name),d4.readAsText(d3.item(0))):void 0;}};cJ.parseText=function(d2){var d3,d4;try{d3=(d4=dv.parse(d2),(cH.serModel())[1](d4));ct.setSnippetsGen(d3.snippets,d3.collapsed);}catch(d5){a.alert(a.String(d5));((function(d6){return function(d7){return d6(cY.prettyPrint(d7));};}(function(d6){df.log(d6);}))(d5));}};cJ.canLoad=function(){return c7.Equals(dh.TryGet(ct.SaveAsClassW()),{$:1,$0:""})||a.confirm("Changes have not been saved, do you really want to load?");};cJ.fileName=function(){cP.$cctor();return cP.fileName$1;};cK.importFile=function(d2){var d3,d4;if(cJ.canLoad()){d3=d2.files;d3.length>0?(d4=new a.FileReader(),d4.onload=function(d5){return cK.parseText(d5.target.result);},d4.readAsText(d3.item(0))):void 0;}};cK.parseText=function(d2){var d3;try{ct.setSnippetsGen((d3=dv.parse(d2),(cK.serSnippets())[1](d3)),new dc.New$1(null));}catch(d4){a.alert(a.String(d4));((function(d5){return function(d6){return d5(cY.prettyPrint(d6));};}(function(d5){df.log(d5);}))(d4));}};cK.serSnippets=function(){cP.$cctor();return cP.serSnippets;};cK.serSnippet2=function(){cP.$cctor();return cP.serSnippet2;};cK.serSnippetId2=function(){cP.$cctor();return cP.serSnippetId2;};cM.NoSnippet={$:2};cL.mainProgram=function(){var d2,d3,d4,d5,d6,d7,d8,d9,d_;dQ.addPlugIn(dS.New("FSharpStation",[dQ.newVar("fileName",cJ.fileName()),dQ.newVar("SnippetName",di.Lens(ct.currentSnippetV(),function(d$){return d$.snpName;},function(d$,ea){return X.New(d$.snpId,ea,d$.snpContent,d$.snpParentIdO,d$.snpPredIds,d$.snpProperties,d$.snpGeneration);})),dQ.newVar("Content",di.Lens(ct.currentSnippetV(),function(d$){return d$.snpContent;},function(d$,ea){return X.New(d$.snpId,d$.snpName,ea,d$.snpParentIdO,d$.snpPredIds,d$.snpProperties,d$.snpGeneration);})),dQ.newVar("Output",cs.outputMsgs()),dQ.newVar("Parser",cs.annotationsV())],[dQ.newViw("FsCode",ct.FsCodeW()),dQ.newViw("SaveNeeded",ct.SaveAsClassW()),dQ.newViw("CurrentPath",ct.currentPathW()),dQ.newViw("FStationId",dh.Const(cs.id())),dQ.newViw("CurrentSid",dh.Map(function(d$){return a.String(d$.get_Id());},ct.CurrentSnippetIdW()))],[dQ.newDoc("mainDoc",dT.Create(cL.mainDoc)),dQ.newDoc("editor",dT.Create(function(){return dm.Element("div",[],[cz.editorDoc()]);})),dQ.newDoc("Snippets",dT.Create(cx.render)),dQ.newDoc("Properties",dT.Create(cy.render)),dQ.newDoc("ButtonsRight",dT.Create(cL.buttonsRight))],[dQ.newAct("AddSnippet",function(){ct.newSnippet();}),dQ.newAct("RemoveSnippet",function(){cL.deleteSnippet();}),dQ.newAct("IndentIn",function(){ct.indentIn();}),dQ.newAct("IndentOut",function(){ct.indentOut();}),dQ.newAct("AddProperty",function(){cy.addProperty();}),dQ.newAct("SaveAs",function(){cJ.saveAs();}),dQ.newAct("RunFS",function(){cL.runFsCode();}),dQ.newAct("LastLineToFsi",function(){cL.lastLineToFsi();}),dQ.newAct("AbortFsi",function(){(new dG.New()).Send("FSharpStation:FsRoot.Library2+FsiAgent.abortFsiExe:6",[]);}),dQ.newAct("DisposeFsi",function(){(new dG.New()).Send("FSharpStation:FsRoot.Library2+FsiAgent.disposeFsiExe:6",[]);}),dQ.newActF("LoadFile",{$:1,$0:function(d$){cJ.loadTextFile(d$);},$1:"FileElement"}),dQ.newActF("Import",{$:1,$0:function(d$){cK.importFile(d$);},$1:"FileElement"}),dQ.newActF("JumpTo",{$:1,$0:function(d$){cF.jumpToRef(d$);},$1:"textarea"}),dQ.newActF("ButtonClick",{$:1,$0:function(d$){cG.buttonClick(d$);},$1:"button"}),dQ.newActF("ActionClick",{$:1,$0:function(d$){cG.actionClick(d$);},$1:"name"}),dQ.newActF("ActionSnp",{$:2,$0:function(d$){return function(ea){return cG.actionSnp(d$,ea);};},$1:"snpPath",$2:"name"}),dQ.newActF("setCurrentProperty",{$:2,$0:function(d$){return function(ea){return cG.setCurrentProperty(d$,ea);};},$1:"name",$2:"value"}),dQ.newActF("setSnippetContent",{$:2,$0:function(d$){return function(ea){return cG.setSnippetContent(d$,ea);};},$1:"path",$2:"value"})],[dQ.newQry("PropertyRA",cG.getCurrentProperty)]));dU.addLayout((d2=(d3=self.document.getElementById("GlobalLayout"),c7.Equals(d3,null)?"\n                    menuEditor       horizontal  65       menuLogo                  editorMessages\n                    double           horizontal  0-50-100 AppFramework.AppFwkClient menuEditor\n                    menuLogo         vertical    350      logo                      menu\n                    logo             span       \"margin:0; color:gray; font-size: 55px; font-weight:530\" \"F# Station\"\n                    editorMessages   horizontal 10-83-100 editorButtons             messages\n                    messages         vertical   0-50-100  messagesLeft              messagesRight\n                    editorButtons    vertical -120 snippetsSnippet buttons\n                    buttons div      \"overflow: hidden; display: grid; grid-template-columns: 100%; grid-template-rows: repeat(15, calc(100% / 15)); bxackground-color: #eee; box-sizing: border-box; padding : 5px; grid-gap: 5px; margin-right: 21px\" btnSaveAs none x btnAddSnippet btnDeleteSnippet btnIndentIn btnIndentOut none x btnRunFS btnInputFsi btnAbortFsi\n                    snippetsSnippet  vertical   0-20-100  snippets                  editorProperties\n                    snippets         horizontal 20        \"${FSharpStation.CurrentPath}\" FSharpStation.Snippets\n                    editorProperties vertical   0-100-100 snippet                   properties\n                    properties       div        \"\"        FSharpStation.Properties\n                    snippet          horizontal 35        Name                      FSharpStation.editor\n                    menu             span  \"\" btnLoad btnImport\n        \n                    btnSaveAs        button FSharpStation.SaveAs         \"class=btn ${FSharpStation.SaveNeeded}\" \"Save as...    \"\n                    btnAddSnippet    button FSharpStation.AddSnippet     \"\"                  \"Add Snippet   \"\n                    btnDeleteSnippet button FSharpStation.RemoveSnippet  \"\"                  \"Delete Snippet\"\n                    btnIndentIn      button FSharpStation.IndentIn       \"\"                  \"Indent In  >> \"\n                    btnIndentOut     button FSharpStation.IndentOut      \"\"                  \"Indent Out << \"\n                    btnRunFS         button FSharpStation.RunFS          \"\"                  \"Run F#        \"\n                    btnInputFsi      button FSharpStation.LastLineToFsi  \"\"                  \"last line |> Fsi\"\n                    btnAbortFsi      button FSharpStation.AbortFsi       \"\"                  \"Abort Fsi     \"\n        \n                    messagesLeft     wcomp-tabstrip                      \"\"                  Output FsCode\n                    messagesRight    wcomp-tabstrip                      \"\"                  Parser\n        \n                    Output           textarea  FSharpStation.Output      \"tabname=Output ; placeholder=Output messages ; spellcheck=false\" \n                    FsCode           textarea  FSharpStation.FsCode      \"tabname=F# Code; placeholder=F# Code         ; spellcheck=false\" \n                    Parser           textarea  FSharpStation.Parser      \"tabname=Parser ; placeholder=Parser messages; dblclick=${FSharpStation.JumpTo} ; spellcheck=false\" \n                    Name             Doc       InputLabel                \"\"     \"Name:\"        FSharpStation.SnippetName\n                    btnLoad          Doc       InputFile                 \"\"     \"Load File...\" FSharpStation.LoadFile  FileName\n                    btnImport        Doc       InputFile                 \"\"     \"Import...\"    FSharpStation.Import    \"\"\n                    FileName         div                                 \"class=form-control\"  FSharpStation.fileName\n                  ":d3.textContent),dU.newLyt(cL.FStationLyt(),d2)));dh.Sink(function(d$){(h.iter(function(ea){try{self["eval"].apply(self,["CIPHERSpaceLoadFilesDoAfter(function(){IntelliFactory.Runtime.Start()})"]);self["eval"].apply(self,[ea[1]]);}catch(eb){c.print(eb);}}))(d$);},(d4=ct.currentLayoutJSDW(),(d5=[di.Create$1(null)],(dh.Sink(function(d$){if(!c7.Equals(d5[0].Get(),d$))d5[0].Set(d$);},d4),d5[0].get_View()))));dh.Sink(function(d$){var ea,eb,ec,ed,ee,ef;ea=(eb=d$==null?null:(ec=d$.$0,(ed=ec[0],(ee=ec[1],(dU.addLayout(dU.newLyt(ed,ee)),ee===""?null:{$:1,$0:ed})))),(ef=cL.FStationLyt(),eb==null?ef:eb.$0));dQ.mainDocV().Set(ea);},(d6=ct.currentLayoutDW(),(d7=[di.Create$1(null)],(dh.Sink(function(d$){if(!c7.Equals(d7[0].Get(),d$))d7[0].Set(d$);},d6),d7[0].get_View()))));dh.Sink(function(d$){var ea;c3.Start((ea=null,c3.Delay(function(){return c3.Bind(c3.Sleep(500),function(){self.document.title=d$;return c3.Zero();});})),null);},ct.currentPathW());d8=(d9=dQ.getMainDoc().f(),dL.Make().WithHole({$:0,$0:"maincontent",$1:d9}));d_=dM.CompleteHoles(d8.k,d8.h,[]);d8.i=new dN.New(d_[1],dr.RunFullDocTemplate(d_[0]));};cL.mainDoc$5623$78=a.id;cL.mainDoc$5615$39=function(){return function(d2){cF.jumpToRef(d2.Target);};};cL.mainDoc$5614$39=function(){return function(d2){d2.Target.value="";};};cL.mainDoc$5613$39=function(){return function(d2){cK.importFile(d2.Target);};};cL.mainDoc$5612$39=function(){return function(d2){d2.Target.value="";};};cL.mainDoc$5611$39=function(){return function(d2){cJ.loadTextFile(d2.Target);};};cL.mainDoc=function(){var d2,d3,d4,d5,d6,d7,d8,d9;d2=cL.hookDoc("FSharpStation","ButtonsRight",function(d_,d$){return d_.WithHole({$:0,$0:"buttonsright",$1:d$});},cL.hookDoc("FSharpStation","Properties",function(d_,d$){return d_.WithHole({$:0,$0:"properties",$1:d$});},cL.hookDoc("FSharpStation","Snippets",function(d_,d$){return d_.WithHole({$:0,$0:"snippets",$1:d$});},cL.hookDoc("FSharpStation","editor",function(d_,d$){return d_.WithHole({$:0,$0:"codeeditor",$1:d$});},cL.hookAct("FSharpStation","SaveAs",function(d_,d$){return d_.WithHole(dM.EventQ2(d_.k,"saveas",function(){return d_.i;},d$));},cL.hookViw("FSharpStation","SaveNeeded",function(d_,d$){return d_.WithHole({$:2,$0:"saveasclass",$1:d$});},cL.hookViw("FSharpStation","FSCode",function(d_,d$){return d_.WithHole({$:8,$0:"fscode",$1:new dH.New(d$,a.ignore)});},cL.hookVar("FSharpStation","Parser",function(d_,d$){return d_.WithHole({$:8,$0:"parser",$1:d$});},cL.hookVar("FSharpStation","Output",function(d_,d$){return d_.WithHole({$:8,$0:"output",$1:d$});},cL.hookVar("FSharpStation","SnippetName",function(d_,d$){return d_.WithHole({$:8,$0:"name",$1:d$});},cL.hookVar("FSharpStation","fileName",function(d_,d$){return d_.WithHole({$:8,$0:"filename",$1:d$});},(d3=(d4=(d5=(d6=(d7=dL.Make(),d7.WithHole(dM.EventQ2(d7.k,"loadfilechanged",function(){return d7.i;},function(d_){cJ.loadTextFile(d_.Target);}))),d6.WithHole(dM.EventQ2(d6.k,"loadfileclear",function(){return d6.i;},function(d_){d_.Target.value="";}))),d5.WithHole(dM.EventQ2(d5.k,"importfilechanged",function(){return d5.i;},function(d_){cK.importFile(d_.Target);}))),d4.WithHole(dM.EventQ2(d4.k,"importfileclear",function(){return d4.i;},function(d_){d_.Target.value="";}))),d3.WithHole(dM.EventQ2(d3.k,"jumpref",function(){return d3.i;},function(d_){cF.jumpToRef(d_.Target);}))))))))))))));return(d8=dM.CompleteHoles(d2.k,d2.h,[["filename",0],["name",0],["output",0],["fscode",0],["parser",0]]),(d9=new dN.New(d8[1],cU.layout(d8[0])),(d2.i=d9,d9))).get_Doc();};cL.buttonsRight$5597$74=a.id;cL.buttonsRight$5596$74=a.id;cL.buttonsRight$5595$74=a.id;cL.buttonsRight$5594$74=a.id;cL.buttonsRight$5593$74=a.id;cL.buttonsRight=function(){var d2,d3,d4;d2=cL.hookAct("FSharpStation","RunFS",function(d5,d6){return d5.WithHole(dM.EventQ2(d5.k,"runfs",function(){return d5.i;},d6));},cL.hookAct("FSharpStation","IndentOut",function(d5,d6){return d5.WithHole(dM.EventQ2(d5.k,"indentout",function(){return d5.i;},d6));},cL.hookAct("FSharpStation","IndentIn",function(d5,d6){return d5.WithHole(dM.EventQ2(d5.k,"indentin",function(){return d5.i;},d6));},cL.hookAct("FSharpStation","RemoveSnippet",function(d5,d6){return d5.WithHole(dM.EventQ2(d5.k,"removesnippet",function(){return d5.i;},d6));},cL.hookAct("FSharpStation","AddSnippet",function(d5,d6){return d5.WithHole(dM.EventQ2(d5.k,"addsnippet",function(){return d5.i;},d6));},dL.Make())))));return(d3=dM.CompleteHoles(d2.k,d2.h,[]),(d4=new dN.New(d3[1],cU.buttonsright(d3[0])),(d2.i=d4,d4))).get_Doc();};cL.hookDoc=function(d2,d3,d4,d5){var d6,d7,d8;d6=(d7=dQ.tryGetDoc(d2,d3),d7==null?null:{$:1,$0:(d8=d7.$0,((((cX.Curried3(function(d9,d_,d$){return d9("Doc    "+cY.toSafe(d_)+"."+cY.toSafe(d$)+" hooked");}))(function(d9){df.log(d9);}))(d2))(d3),d4(d5,dm.EmbedView(dh.Map(function(){return dQ.getLazyDoc(d8);},dQ.mainDocV().get_View())))))});return d6==null?((((cX.Curried3(function(d9,d_,d$){return d9("Doc    "+cY.toSafe(d_)+"."+cY.toSafe(d$)+" not found");}))(function(d9){df.log(d9);}))(d2))(d3),d5):d6.$0;};cL.hookAct=function(d2,d3,d4,d5){var d6,d7,d8;d6=(d7=dQ.tryGetAct(d2,d3),d7==null?null:{$:1,$0:(d8=d7.$0,((((cX.Curried3(function(d9,d_,d$){return d9("Action "+cY.toSafe(d_)+"."+cY.toSafe(d$)+" hooked");}))(function(d9){df.log(d9);}))(d2))(d3),d4(d5,function(){dQ.callFunction(null,null,d8.actFunction);})))});return d6==null?((((cX.Curried3(function(d9,d_,d$){return d9("Action "+cY.toSafe(d_)+"."+cY.toSafe(d$)+" not found");}))(function(d9){df.log(d9);}))(d2))(d3),d5):d6.$0;};cL.hookViw=function(d2,d3,d4,d5){var d6,d7;d6=(d7=dQ.tryGetViw(d2,d3),d7==null?null:{$:1,$0:((((cX.Curried3(function(d8,d9,d_){return d8("View   "+cY.toSafe(d9)+"."+cY.toSafe(d_)+" hooked");}))(function(d8){df.log(d8);}))(d2))(d3),d4(d5,d7.$0.viwView))});return d6==null?((((cX.Curried3(function(d8,d9,d_){return d8("View   "+cY.toSafe(d9)+"."+cY.toSafe(d_)+" not found");}))(function(d8){df.log(d8);}))(d2))(d3),d5):d6.$0;};cL.hookVar=function(d2,d3,d4,d5){var d6,d7;d6=(d7=dQ.tryGetVar(d2,d3),d7==null?null:{$:1,$0:((((cX.Curried3(function(d8,d9,d_){return d8("Var    "+cY.toSafe(d9)+"."+cY.toSafe(d_)+" hooked");}))(function(d8){df.log(d8);}))(d2))(d3),d4(d5,d7.$0.varVar))});return d6==null?((((cX.Curried3(function(d8,d9,d_){return d8("Var    "+cY.toSafe(d9)+"."+cY.toSafe(d_)+" not found");}))(function(d8){df.log(d8);}))(d2))(d3),d5):d6.$0;};cL.FStationLyt=function(){cP.$cctor();return cP.FStationLyt;};cL.deleteSnippet=function(){var d2;d2=ct.currentSnippetV().Get();!c7.Equals(d2.snpId,W.get_Empty())&&a.confirm((function(d3){return function(d4){return d3("Do you want to delete "+cY.toSafe(d4)+"?");};}(a.id))(Z.snippetName(d2.snpName,d2.snpContent)))?ct.deleteCurrentSnippet():void 0;};cL.lastLineToFsi=function(){var d2,d3,d4;function d5(d6){cs.appendMsgs(cZ.Replace(d6,"xXxYyYyhH","Done!"));}d2=(d3=s.fusion(),d3.Run(d3.Delay(function(){return d3.Bind(s.ofAsync((new dG.New()).Async("FSharpStation:FsRoot.Library2+FSharpStationClient.setAddress:-574353144",[new bI({$:0,$0:cs.id()})])),function(){var d6;return d3.Bind(s.ofAsync((d6=c0.last(cZ.SplitChars(cs.outputMsgs().Get(),["\n"],0)),(new dG.New()).Async("FSharpStation:FsRoot.Library2+FsiAgent.sendFsiInput:-1181784350",[d6]))),function(){return d3.Return();});});})));s.iterResultA((d4=function(d6){return function(d7){return d6("Error:\n"+cS.p$1(d7));};}(a.id),function(d6){return d5(d4(d6));}),a.ignore,d2);};cL.runFsCode=function(){var d2;function d3(d4){cs.appendMsgs(cZ.Replace(d4,"xXxYyYyhH","Done!"));}d2=dh.TryGet(ct.FsCodeW());(h.iter(function(d4){var d5,d6,d7;d5=(d6=s.fusion(),d6.Run(d6.Delay(function(){cs.outputMsgs().Set("Running F#...");return d6.Bind(s.ofAsync((new dG.New()).Async("FSharpStation:FsRoot.Library2+FSharpStationClient.setAddress:-574353144",[new bI({$:0,$0:cs.id()})])),function(){return d6.ReturnFrom(s.ofAsync((new dG.New()).Async("FSharpStation:FsRoot.Library2+FsiAgent.evalCode:-623788033",[cs.srcDir(),{$:0,$0:d4}])));});})));s.iterResultA((d7=function(d8){return function(d9){return d8("Error:\n"+cS.p$1(d9));};}(a.id),function(d8){return d3(d7(d8));}),a.ignore,d5);}))(d2);};cL.endPointV=function(){cP.$cctor();return cP.endPointV;};cN.processMessage=function(d2){var d3,d4;return A.map(function(d5){return d5[0];},(d3=(d4=s.fusion(),d4.Run(d4.Delay(function(){var d5,d6,d7,d8,d9,d_,d$,ea,eb;function ec(ed){ct.setProperty(ed,ea,eb);return"Ok";}switch(d2.$==1?(d5=d2.$0,1):d2.$==2?(d5=d2.$0,2):d2.$==3?(d5=d2.$0,3):d2.$==4?(d6=d2.$0,!c7.Equals(d6,null)&&d6.length===2?c2.get(d2.$0,0)==="AddOutput"?(d5=c2.get(d2.$0,1),4):c2.get(d2.$0,0)==="ExecJS"?(d5=c2.get(d2.$0,1),5):(d5=[c2.get(d2.$0,0),c2.get(d2.$0,1)],8):(d7=d2.$0,!c7.Equals(d7,null)&&d7.length===4?c2.get(d2.$0,0)==="SetProperty"?(d5=[c2.get(d2.$0,1),c2.get(d2.$0,2),c2.get(d2.$0,3)],6):12:(d8=d2.$0,!c7.Equals(d8,null)&&d8.length===1?(d5=c2.get(d2.$0,0),7):(d9=d2.$0,!c7.Equals(d9,null)&&d9.length===3?(d5=[c2.get(d2.$0,0),c2.get(d2.$0,1),c2.get(d2.$0,2)],9):12)))):d2.$==6?(d5=d2.$0,10):d2.$==5?11:0){case 0:return d4.Return({$:0,$0:cs.id()});case 1:return d4.Bind(s.traverseSeq(function(ed){return s.ofFusionM(Z.snippetFromRefORm(ed));},d5),function(ed){return d4.Return({$:1,$0:c2.ofSeq(c0.choose(a.id,ed))});});case 2:ct.clearPredsCache();return d4.Bind(s.absorbO(function(){return new d({$:1,$0:(function(ed){return function(ee){return ed("Snippet not found "+cS.p$2(ee));};}(a.id))(d5)});},s.ofFusionM(Z.snippetFromRefORm(d5))),function(ed){return d4.ReturnFrom(t.op_BarGreaterGreater(t.op_BarGreaterGreater(s.ofFusionM(Z.fastCodeRm({$:1,$0:ed.snpId},{$:1,$0:ed.snpId})),function(ee){return ee[0];}),function(ee){return{$:0,$0:ee};}));});case 3:ct.clearPredsCache();return d4.Return(_0.Hole.TODO_GetPredecessors);case 4:cs.appendMsgs(d5);return d4.Return({$:0,$0:"Ok"});case 5:return d4.Return({$:0,$0:(d_=self["eval"].apply(self,[d5]),d_===null?"":d_)});case 6:d$=d5[0];ea=d5[1];eb=d5[2];return d4.Bind(s.absorbO(function(){return new d({$:1,$0:(function(ed){return function(ee){return ed("Snippet not found: "+cY.toSafe(ee));};}(a.id))(d$)});},t.op_BarGreaterGreater(s.ofFusionM(Z.snippetFromRefORm({$:1,$0:cZ.SplitChars(d$,["/"],0)})),function(ed){return ed==null?null:{$:1,$0:ec(ed.$0)};})),function(ed){return d4.Return({$:0,$0:ed});});case 7:return d4.ReturnFrom(cN.actionCall(d5,null,null));case 8:return d4.ReturnFrom(cN.actionCall(d5[0],d5[1],null));case 9:return d4.ReturnFrom(cN.actionCall(d5[0],d5[1],d5[2]));case 10:return d4.ReturnFrom(cN.getValue(d5));case 11:return d4.Return({$:0,$0:self.document.baseURI});case 12:return d4.Return(_0.Hole[(function(ed){return function(ee){return ed("TODO message: "+cS.p$3(ee));};}(a.id))(d2)]);}}))),s.runReader(ct.snippetsColl(),d3)));};cN.getValue=function(d2){var d3;d3=s.fusion();return d3.Run(d3.Delay(function(){var d4,d5;d4=(d5=(dQ.splitName(cL.FStationLyt()))(d2),dQ.tryGetWoW(d5[0],d5[1]));return d4!=null&&d4.$==1?d3.Bind(s.ofAsync(dh.GetAsync(d4.$0)),function(d6){return d3.Return({$:0,$0:d6});}):d3.ReturnFrom(s.ofResultRM(c.Error(new d({$:1,$0:(function(d6){return function(d7){return d6("Var or View "+cY.toSafe(d7)+" not found");};}(a.id))(d2)}))));}));};cN.actionCall=function(d2,d3,d4){var d5;d5=s.fusion();return d5.Run(d5.Delay(function(){var d6,d7;d6=(d7=(dQ.splitName(cL.FStationLyt()))(d2),dQ.tryGetAct(d7[0],d7[1]));return d6!=null&&d6.$==1?(dQ.callFunction(d3,d4,d6.$0.actFunction),d5.Return({$:0,$0:"Ok"})):d5.ReturnFrom(s.ofResultRM(c.Error(new d({$:1,$0:(function(d8){return function(d9){return d8("Action "+cY.toSafe(d9)+" not found");};}(a.id))(d2)}))));}));};cN.wsStationClient=function(){cP.$cctor();return cP.wsStationClient;};cO.content$5871$54=function(){cL.mainProgram();return dm.TextNode("Initialized");};cP.$cctor=function(){var d3,d7,d9,d_,ed,ee,ef,ej,ek,eo,ep,et,eu,ev,ew,ey,ez,eC,eD,eG,eJ,eK,eM,eN,eO,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4,e5,e6,e7,e8,e9,e_,e$,fa,fb,fc,fd,fe,ff,fg,fh,fi,fj,fk,fl,fq,fr;cP.$cctor=a.ignore;cP.rtn=function(fs){return[fs];};cP.result=new m.New();cP.result$1=l.result();cP.fusion=new r.New();cP.fusion$1=new v.New();cP.resultM=new x.New();cP.asyncResult=new B.New();cP.asyncResultP=new C.New();cP.asyncResultM=new F.New();function d2(fs){return cZ.concat("\n",fs);}cP.unindentStr=function(fs){return d2(H.unindent$1(fs));};function d4(fs){return H.splitByChar$1("\n",fs);}function d5(fs){var ft,fu;return c8.array(fs,{$:1,$0:0},{$:1,$0:(ft=0,(fu=c2.length(fs)-2,c7.Compare(ft,fu)===1?ft:fu))});}function d6(fs){return cZ.concat("\n",fs);}cP.skipLastLine=(d3=function(fs){return d5(d4(fs));},function(fs){return d6(d3(fs));});function d8(fs){return fs+"T00:00:00";}cP.parseDateO2=(d7=I.tryParseWith$1(function(fs){var ft,fu;ft=0;return[(fu=dV.TryParse(fs),fu!=null&&fu.$==1&&(ft=fu.$0,true)),ft];}),function(fs){return d7(d8(fs));});cP.parseDateO=I.tryParseWith$1(function(fs){var ft,fu;ft=0;return[(fu=dV.TryParse(fs),fu!=null&&fu.$==1&&(ft=fu.$0,true)),ft];});cP.parseIntO=I.tryParseWith$1(function(fs){var ft;ft=0;return[dW.TryParseInt32(fs,{get:function(){return ft;},set:function(fu){ft=fu;}}),ft];});cP.parseSingleO=I.tryParseWith$1(function(fs){var ft,fu;ft=0;return[(fu=a.Number(fs),a.isNaN(fu)?false:(ft=fu,true)),ft];});cP.parseDoubleO=I.tryParseWith$1(function(fs){var ft,fu;ft=0;return[(fu=a.Number(fs),a.isNaN(fu)?false:(ft=fu,true)),ft];});cP.parseGuidO=I.tryParseWith$1(function(fs){var ft;ft=null;return[da.TryParse(fs,{get:function(){return ft;},set:function(fu){ft=fu;}}),ft];});cP["|Date|_|"]=I.parseDateO$1();cP["|Int|_|"]=I.parseIntO$1();cP["|Single|_|"]=I.parseSingleO$1();cP["|Double|_|"]=I.parseDoubleO$1();cP["|Guid|_|"]=I.parseGuidO$1();d_=(d9=1,[function(){d9=d9+1;return d9;},function(fs){d9=fs;}]);cP.setGeneration=d_[1];cP.getNextGeneration=d_[0];cP.defaultSnippet=X.New(new W({$:0,$0:"00000000-0000-0000-0000-000000000000"}),"","",null,new dc.New$1(null),[],0);cP.tieFighter="|"+"-"+"|";cP.deserGuid=function(fs){return bc.ifUndef("00000000-0000-0000-0000-000000000000",fs);};function d$(fs){return bc.ifUndef(0,fs);}cP.serFloat=[function(fs){return(function(ft){return function(fu){return ft(cY.prettyPrint(fu));};}(a.id))(fs);},function(fs){return d$(a.id(fs));}];function ea(fs){return bc.ifUndef(0,fs);}cP.serInt=[function(fs){return(function(ft){return function(fu){return ft(cY.prettyPrint(fu));};}(a.id))(fs);},function(fs){return ea(a.id(fs));}];function eb(fs){return bc.ifUndef(false,fs);}cP.serBool=[function(fs){return(function(ft){return function(fu){return ft(cY.prettyPrint(fu));};}(a.id))(fs);},function(fs){return eb(a.id(fs));}];function ec(fs){return bc.ifUndef("",fs);}cP.serString=[function(fs){return dv.stringify(((dy.Id())())(fs));},function(fs){return ec(a.id(fs));}];cP.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";cP.observers=c1.T.Empty;cP.css="\r\n                .tab-panel {\r\n                 overflow  : hidden   ;\r\n                 display   : flex     ;\r\n                 flex-flow : column   ;\r\n                 background: lightgray;\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                }\r\n                .tab-content {\r\n                 flex      : 1 1     ;\r\n                 overflow  : auto    ;\r\n                 position  : relative;\r\n                }\r\n                .tab-children {\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                 position  : absolute;\r\n                 display   : grid    ;\r\n                }\r\n                .tab-strip {\r\n                 padding   : 0pt     ;\r\n                 flex      : 0 0     ;\r\n                }\r\n                .tab {\r\n                 border     : 0.2pt solid transparent;\r\n                 padding    : 0pt 4pt;\r\n                 display    : inline-block;\r\n                 font-family: sans-serif;\r\n                 font-weight: 200;\r\n                 font-size  : small;\r\n                 color      : #666;\r\n                 cursor     : pointer;\r\n                }\r\n                .top>.tab {\r\n                 border-radius: 2pt 2pt 0pt 0pt;\r\n                 border-bottom-width: 0pt;\r\n                 vertical-align: bottom;\r\n                }\r\n                .bottom>.tab {\r\n                 border-top-width: 0pt;\r\n                 border-radius: 0pt 0pt 2pt 2pt;\r\n                 vertical-align: top;\r\n                }\r\n                .horizontal>.tab:not(:first-child) {\r\n                 border-left-width: 0pt;\r\n                }\r\n                .tab.hovering {\r\n                 background: red;\r\n                }\r\n                .tab.selected {\r\n                 background: white;\r\n                 border-left-width: 0.2pt;\r\n                 color: black;\r\n                 font-weight: 500;\r\n                 border-color: black;\r\n                }\r\n                .horizontal>.tab.selected {\r\n                 border-left-width: 0.2pt;\r\n                }\r\n                ::slotted(*              ) { \r\n                 width : 100%;\r\n                 height: 100%;\r\n                }\r\n                        ";cP.init=dT.Create(function(){var fs;fs=new bj.New$1();bh.defineWebComponent$1("wcomp-tabstrip",bj.Constructor$1,self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New);});cP.layoutHorizontal=cX.Curried(function(fs,ft,fu,fv,fw){return dm.get_Empty();},5);cP.layoutVertical=cX.Curried(function(fs,ft,fu,fv,fw){return dm.get_Empty();},5);cP.loader=(ed=null,c3.Delay(function(){self.require.config({paths:{vs:"/EPFileX/monaco/package/min/vs"}});return c3.Bind(c3.FromContinuations(function(fs,ft){return self.require(["vs/editor/editor.main"],fs,ft);}),function(){return c3.Return(null);});}));cP.MessageBrokerId="<MessageBroker>";cP.MessageBrokerAddress=new bI({$:0,$0:bH.MessageBrokerId()});cP.id="FSharpStation"+a.String(dR.now());cP.rootDir=".";cP.srcDir=".";c3.Start((ee=null,c3.Delay(function(){return c3.Bind((new dG.New()).Async("FSharpStation:FsRoot.FSharpStation+FStation.getRootDir:-447555547",[]),function(fs){cs.set_rootDir(fs+"/"+"..");cs.set_srcDir(fs+"/"+"..\\src");(((cX.Curried3(function(ft,fu,fv){return ft("fileName = "+cY.toSafe(fu)+"\\"+cY.toSafe(fv)+".fsx");}))(function(ft){df.log(ft);}))(cs.srcDir()))(cs.id());return c3.Zero();});})),null);cP.annotationsV=di.Create$1("");cP.outputMsgs=di.Create$1("");cP.snippets=new dX.New$1(function(fs){return fs.snpId;});cP.hierarchy=di.Create$1([]);cP.generation=di.Create$1(5);cP.currentSnippetIdOV=di.Create$1(null);cP.codeSnippetIdOV=di.Create$1(null);cP.collapsedV=di.Create$1(new dc.New$1(null));function eg(fs){var ft;ft=null;return ef.TryGetValue(fs,{get:function(){return ft;},set:function(fu){ft=fu;}})?{$:1,$0:ft}:null;}function eh(fs,ft){ef.set_Item(fs,ft);return ft;}function ei(fs,ft){var fu;fu=eg(fs);return fu==null?eh(fs,ft(fs)):fu.$0;}ej=(ef=new dY.New$5(),[[eg,function(fs){return function(ft){return ei(fs,ft);};}],function(){ef.Clear();}]);cP.predsCache=ej[0];cP.clearPreds=ej[1];function el(fs){var ft;ft=null;return ek.TryGetValue(fs,{get:function(){return ft;},set:function(fu){ft=fu;}})?{$:1,$0:ft}:null;}function em(fs,ft){ek.set_Item(fs,ft);return ft;}function en(fs,ft){var fu;fu=el(fs);return fu==null?em(fs,ft(fs)):fu.$0;}eo=(ek=new dY.New$5(),[[el,function(fs){return function(ft){return en(fs,ft);};}],function(){ek.Clear();}]);cP.reducCache=eo[0];cP.clearReduc=eo[1];function eq(fs){var ft;ft=null;return ep.TryGetValue(fs,{get:function(){return ft;},set:function(fu){ft=fu;}})?{$:1,$0:ft}:null;}function er(fs,ft){ep.set_Item(fs,ft);return ft;}function es(fs,ft){var fu;fu=eq(fs);return fu==null?er(fs,ft(fs)):fu.$0;}et=(ep=new dY.New$5(),[[eq,function(fs){return function(ft){return es(fs,ft);};}],function(){ep.Clear();}]);cP.parentCache=et[0];cP.clearParent=et[1];cP.getParentIdO=(eu=(ct.parentCache())[1],function(fs){return(eu(fs))(ct.getParentIdONotMemo);});dh.Sink(function(fs){var ft,fu;if(fs!=null&&fs.$==1){ft=fs.$0;fu=ct.codeSnippetIdOV().Get();fu!=null&&fu.$==1?(ct.iterReader(p.op_BarGreaterGreater(p.op_BarGreaterGreater(p.op_BarGreaterGreater(p.op_BarGreaterGreater(p.op_GreaterGreaterEquals(p.op_BarGreaterGreater(Z.snippetORm(fu.$0),function(fv){return fv==null?null:{$:1,$0:Z.uniquePredsRm(fv.$0)};}),o.insertO),dd.toList),function(fv){return c1.collect(a.id,fv);}),function(fv){return c1.contains(ft,fv);}),function(fv){if(fv);else ct.codeSnippetIdOV().Set({$:1,$0:ft});})),ct.clearPredsCache()):ct.codeSnippetIdOV().Set({$:1,$0:ft});}},ct.currentSnippetIdOV().get_View());function ex(fs){return fs.id();}dh.Sink(function(fs){var ft;ct.clearPredsCache();ft=c2.ofSeq(c0.delay(function(){return c0.collect(function(fu){return c0.append([ct.snippets().FindByKey(fu)],c0.delay(function(){return c0.filter(function(fv){return ct.isDescendantOf(fu,fv.snpId);},(ct.snippets())["var"].Get());}));},fs);}));ct.snippets().Set(ft);},(ev=dh.Map(function(fs){return c2.map(ex,fs);},ct.hierarchy().get_View()),(ew=[di.Create$1(null)],(dh.Sink(function(fs){if(!c7.Equals(ew[0].Get(),fs))ew[0].Set(fs);},ev),ew[0].get_View()))));cP.CurrentSnippetIdW=dh.Map(function(fs){var ft;ft=Z.defaultSnippet().snpId;return fs==null?ft:fs.$0;},ct.currentSnippetIdOV().get_View());function eA(fs){var ft;ft=Z.defaultSnippet();return fs==null?ft:fs.$0;}function eB(fs){return ct.snippets().TryFindByKeyAsView(fs);}cP.currentSnippetW=dh.Map((ey=function(fs){return fs==null?null:a.id(fs.$0);},function(fs){return eA(ey(fs));}),dh.Bind((ez=function(fs){return fs==null?null:{$:1,$0:eB(fs.$0)};},function(fs){return _5.insertWO(ez(fs));}),ct.currentSnippetIdOV().get_View()));function eE(fs){var ft;ft=Z.defaultSnippet();return fs==null?ft:fs.$0;}function eF(fs){return ct.snippets().TryFindByKeyAsView(fs);}cP.codeSnippetW=dh.Map((eC=function(fs){return fs==null?null:a.id(fs.$0);},function(fs){return eE(eC(fs));}),dh.Bind((eD=function(fs){return fs==null?null:{$:1,$0:eF(fs.$0)};},function(fs){return _5.insertWO(eD(fs));}),ct.codeSnippetIdOV().get_View()));cP.currentSnippetV=new dH.New(ct.currentSnippetW(),function(fs){ct.setSnippet(fs);});function eH(fs,ft){return[fs.id(),ft];}function eI(fs){function ft(fv){return _1.listNodes(0,fv);}function fu(fv){return ct.runReader(ct.handleError,fv);}return function(fv){return fu(ft(fv));};}cP.getHierarchyW=dh.Map(c2.ofSeq,dh.Map(function(fs){return c0.map(function(ft){return eH(ft[0],ft[1]);},fs);},(eG=ct.hierarchy().get_View(),dh.Map2(function(fs,ft){return(eI(fs))(ft);},ct.collapsedV().get_View(),eG))));function eL(fs,ft){var fu;fu=null;return c3.Delay(function(){return c3.Bind(c3.Sleep(350),function(){return c3.Return(ct.runReader(ct.handleError,Z.fastCodeRm(ct.currentSnippetIdOV().Get(),ct.codeSnippetIdOV().Get())));});});}cP.codeAndStartsW=(eJ=ct.codeSnippetW(),(eK=ct.snippets().v,(((cX.Curried3(dh.MapAsync2))(eL))(eJ))(eK)));cP.FsCodeW=dh.Map(function(fs){return fs[0];},ct.codeAndStartsW());cP.codeStartsW=dh.Map(function(fs){return fs[1];},ct.codeAndStartsW());cP.SaveAsClassW=dh.Map2(function(fs,ft){return c0.exists(function(fu){return fu.snpGeneration>ft;},fs)?"btn-primary":"";},ct.snippets().v,ct.generation().get_View());cP.currentPathW=dh.Map(function(fs){var ft;return ct.runReader(function(){return"";},(ft=o.fusion(),ft.Run(ft.Delay(function(){return ft.Bind(Z.pathRm(fs.snpId),function(fu){return ft.Bind(o.traverseSeq(Z.snippetNameRm,new c1.T({$:1,$0:fs.snpId,$1:fu})),function(fv){return ft.Return(cZ.concat("/",c0.rev(fv)));});});}))));},ct.currentSnippetW());cP.currentLayoutDW=dh.Map(function(fs){var ft;return ct.runReader(function(){return null;},(ft=o.fusion(),ft.Run(ft.Delay(function(){function fu(fv,fw){var fx,fy,fz,fA;fx=(fy=cZ.SplitChars(cZ.Trim(fw[0]),["\n"],0),cZ.StartsWith(c2.get(fy,0),"\"")?[c8.array(fy,{$:1,$0:1},null),c2.get(fy,0)]:[fy,"\"\""]);fz=fx[1];fA=c0.mapi(function(fB,fC){var fD;fD=cZ.StartsWith(fC,":")?c8.string(fC,{$:1,$0:1},null):(function(fE){return function(fF){return fE("button \"click=@{FSharpStation.ButtonClick}\" "+cY.prettyPrint(fF));};}(a.id))(fC);return(((cX.Curried3(function(fE,fF,fG){return fE("btn"+a.String(fF)+" "+cY.toSafe(fG));}))(a.id))(fB))(fD);},c0.filter(function(fB){return cZ.Trim(fB)!=="";},fx[0]));return["Snp_"+cZ.Replace(a.String(fv.snpId.get_Id()),"-",""),cZ.concat("\n",c1.ofSeq(c0.delay(function(){return c0.append(["editorButtons vertical 0-85-100 FStationLyt.menuEditor buttons"],c0.delay(function(){return c0.append(fA,c0.delay(function(){var fB,fC;return[(fB=cZ.concat(" ",(fC=c1.ofSeq(c6.range(0,c0.length(fA)-1)),c0.map(function(fD){return function(fE){return fD("btn"+a.String(fE));};}(a.id),fC))),(((cX.Curried3(function(fD,fE,fF){return fD("buttons div "+cY.toSafe(fE)+" "+cY.toSafe(fF)+" ");}))(a.id))(fz))(fB))];}));}));})))];}return ft.Bind(p.op_BarGreaterGreater(Z.propertyHierORm("Buttons",fs),function(fv){var fw;return fv==null?null:{$:1,$0:(fw=fv.$0,fu(fw[0],fw[1]))};}),function(fv){function fw(fy,fz){var fA,fB,fC;fA=fz[0];return["Snp_"+cZ.Replace(a.String(fy.snpId.get_Id()),"-",""),(fB=fv==null?null:{$:1,$0:(fC=fv.$0,(fC[0],cZ.concat("\n",c1.ofArray([fA,fC[1]]))))},fB==null?fA:fB.$0)];}function fx(){return fv;}return ft.ReturnFrom(p.op_BarGreaterGreater(p.op_BarGreaterGreater(Z.propertyHierORm("Layout",fs),function(fy){var fz;return fy==null?null:{$:1,$0:(fz=fy.$0,fw(fz[0],fz[1]))};}),function(fy){return h.bindNone(fx,fy);}));});}))));},ct.currentSnippetW());cP.currentLayoutJSDW=dh.Map(function(fs){function ft(fu,fv){return[fu.snpId,fv[0]];}return ct.runReader(function(){return null;},p.op_BarGreaterGreater(Z.propertyHierORm("LayoutJS",fs),function(fu){var fv;return fu==null?null:{$:1,$0:(fv=fu.$0,ft(fv[0],fv[1]))};}));},ct.currentSnippetW());cP.drag=cv.DragNone;cP.rootdir="..\\website";cP.TemplatesFileName="..\\website"+"\\Templates.html";((function(fs){return function(ft){return fs(cY.toSafe(ft));};}(function(fs){df.log(fs);}))("..\\website\\Templates.html"));cP.startsV=di.Create$1([]);cP.defaultStart=(eM=[[W.get_Empty(),""],[0,1,0]],function(fs){return fs==null?eM:fs.$0;});cP.fileName="none.fsx";cP.editorConfigO=null;dh.Sink(function(fs){var ft,fu;try{ft=(fu=cz.editorConfigO(),fu==null?null:fu.$0.editorO);(h.iter(function(fv){fv.setModel(cz.getSnippetModel(fs));cs.annotationsV().Set(cs.annotationsV().Get());}))(ft);}catch(fv){null;}},ct.CurrentSnippetIdW());cP.rexGuid$1="\\((\\d+)\\,\\s*(\\d+)\\) - \\((\\d+)\\,\\s*(\\d+)\\).*([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";function eP(fs){return fs.$0;}function eQ(fs){return new W({$:0,$0:fs});}cP.serSnippetId=(eN=c2.head(cZ.SplitChars((function(fs){return function(ft){return fs(cS.p(ft));};}(a.id))(eQ("00000000-0000-0000-0000-000000000000")),[" "],0)),(eO=(function(fs){return function(ft){return fs(cY.prettyPrint(ft));};}(a.id))(eN),[function(fs){var ft;ft=eP(fs);return(((cX.Curried3(function(fu,fv,fw){return fu("{"+cZ.PadLeft(cY.toSafe(fv),10)+" :"+cY.prettyPrint(fw)+"}");}))(a.id))(eO))(ft);},function(fs){var ft;return eQ((ft=fs[eN],(bc.deserGuid())(ft)));}]));cP.serSnippet=(eR=[(eS=cH.serSnippetId(),bc.serField("snpId",function(fs){return fs.snpId;},function(fs,ft){return X.New(fs,ft.snpName,ft.snpContent,ft.snpParentIdO,ft.snpPredIds,ft.snpProperties,ft.snpGeneration);},eS[0],eS[1])),(eT=bc.serString(),bc.serField("snpName",function(fs){return fs.snpName;},function(fs,ft){return X.New(ft.snpId,fs,ft.snpContent,ft.snpParentIdO,ft.snpPredIds,ft.snpProperties,ft.snpGeneration);},eT[0],eT[1])),(eU=bc.serString(),bc.serField("snpContent",function(fs){return fs.snpContent;},function(fs,ft){return X.New(ft.snpId,ft.snpName,fs,ft.snpParentIdO,ft.snpPredIds,ft.snpProperties,ft.snpGeneration);},eU[0],eU[1])),(eV=(eW=cH.serSnippetId(),bc.serOpt(eW[0],eW[1])),bc.serField("snpParentIdO",function(fs){return fs.snpParentIdO;},function(fs,ft){return X.New(ft.snpId,ft.snpName,ft.snpContent,fs,ft.snpPredIds,ft.snpProperties,ft.snpGeneration);},eV[0],eV[1])),(eX=(eY=cH.serSnippetId(),bc.serSet(eY[0],eY[1])),bc.serField("snpPredIds",function(fs){return fs.snpPredIds;},function(fs,ft){return X.New(ft.snpId,ft.snpName,ft.snpContent,ft.snpParentIdO,fs,ft.snpProperties,ft.snpGeneration);},eX[0],eX[1])),(eZ=(e0=(e1=bc.serString(),bc.serDup((bc.serString())[0],(bc.serString())[1],e1[0],e1[1])),bc.serArr(e0[0],e0[1])),bc.serField("snpProperties",function(fs){return fs.snpProperties;},function(fs,ft){return X.New(ft.snpId,ft.snpName,ft.snpContent,ft.snpParentIdO,ft.snpPredIds,fs,ft.snpGeneration);},eZ[0],eZ[1])),(e2=bc.serInt(),bc.serField("snpGeneration",function(fs){return fs.snpGeneration;},function(fs,ft){return X.New(ft.snpId,ft.snpName,ft.snpContent,ft.snpParentIdO,ft.snpPredIds,ft.snpProperties,fs);},e2[0],e2[1]))],(e3=Z.New("","",null),[function(fs){var ft;function fu(fv,fw,fx){return(((cX.Curried3(function(fy,fz,fA){return fy(cY.prettyPrint(fz)+": "+cY.toSafe(fA));}))(a.id))(fv))(fw(fs));}ft=cZ.concat(", ",c0.map(function(fv){return fu(fv[0],fv[1],fv[2]);},eR));return(function(fv){return function(fw){return fv("{"+cY.toSafe(fw)+"}");};}(a.id))(ft);},function(fs){return!fs?e3:c0.fold(function(ft,fu){return(fu[2](ft))(fs[fu[0]]);},e3,eR);}]));cP.serModel=(e4=[(e5=(e6=cH.serSnippet(),bc.serArr(e6[0],e6[1])),bc.serField("snippets",function(fs){return fs.snippets;},function(fs,ft){return cI.New(fs,ft.generation,ft.collapsed);},e5[0],e5[1])),(e7=bc.serInt(),bc.serField("generation",function(fs){return fs.generation;},function(fs,ft){return cI.New(ft.snippets,fs,ft.collapsed);},e7[0],e7[1])),(e8=(e9=cH.serSnippetId(),bc.serSet(e9[0],e9[1])),bc.serField("collapsed",function(fs){return fs.collapsed;},function(fs,ft){return cI.New(ft.snippets,ft.generation,fs);},e8[0],e8[1]))],(e_=cI.New([],0,new dc.New$1(null)),[function(fs){var ft;function fu(fv,fw,fx){return(((cX.Curried3(function(fy,fz,fA){return fy(cY.prettyPrint(fz)+": "+cY.toSafe(fA));}))(a.id))(fv))(fw(fs));}ft=cZ.concat(", ",c0.map(function(fv){return fu(fv[0],fv[1],fv[2]);},e4));return(function(fv){return function(fw){return fv("{"+cY.toSafe(fw)+"}");};}(a.id))(ft);},function(fs){return!fs?e_:c0.fold(function(ft,fu){return(fu[2](ft))(fs[fu[0]]);},e_,e4);}]));cP.fileName$1=di.Create$1("");cP.serSnippetId2=[function(fs){return(function(ft){return function(fu){return ft(cY.prettyPrint(fu));};}(a.id))(fs);},function(fs){var ft;return new W({$:0,$0:(ft=fs.Item,(bc.deserGuid())(ft))});}];cP.serSnippet2=(e$=[(fa=cK.serSnippetId2(),bc.serField("id",function(fs){return fs.snpId;},function(fs,ft){return X.New(c7.Equals(fs,W.get_Empty())?new W({$:0,$0:da.NewGuid()}):fs,ft.snpName,ft.snpContent,ft.snpParentIdO,ft.snpPredIds,ft.snpProperties,ft.snpGeneration);},fa[0],fa[1])),(fb=bc.serString(),bc.serField("name",function(fs){return fs.snpName;},function(fs,ft){return X.New(ft.snpId,fs,ft.snpContent,ft.snpParentIdO,ft.snpPredIds,ft.snpProperties,ft.snpGeneration);},fb[0],fb[1])),(fc=bc.serString(),bc.serField("content",function(fs){return fs.snpContent;},function(fs,ft){return X.New(ft.snpId,ft.snpName,fs,ft.snpParentIdO,ft.snpPredIds,ft.snpProperties,ft.snpGeneration);},fc[0],fc[1])),(fd=(fe=cK.serSnippetId2(),bc.serOpt(fe[0],fe[1])),bc.serField("parent",function(fs){return fs.snpParentIdO;},function(fs,ft){return X.New(ft.snpId,ft.snpName,ft.snpContent,c7.Equals(fs,{$:1,$0:W.get_Empty()})?null:fs,ft.snpPredIds,ft.snpProperties,ft.snpGeneration);},fd[0],fd[1])),(ff=(fg=cK.serSnippetId2(),bc.serArr(fg[0],fg[1])),bc.serField("predecessors",function(fs){return c2.ofSeq(fs.snpPredIds);},function(fs,ft){return X.New(ft.snpId,ft.snpName,ft.snpContent,ft.snpParentIdO,new dc.New(fs),ft.snpProperties,ft.snpGeneration);},ff[0],ff[1]))],(fh=Z.New("","",null),[function(fs){var ft;function fu(fv,fw,fx){return(((cX.Curried3(function(fy,fz,fA){return fy(cY.prettyPrint(fz)+": "+cY.toSafe(fA));}))(a.id))(fv))(fw(fs));}ft=cZ.concat(", ",c0.map(function(fv){return fu(fv[0],fv[1],fv[2]);},e$));return(function(fv){return function(fw){return fv("{"+cY.toSafe(fw)+"}");};}(a.id))(ft);},function(fs){return!fs?fh:c0.fold(function(ft,fu){return(fu[2](ft))(fs[fu[0]]);},fh,e$);}]));cP.serSnippets=(fi=cK.serSnippet2(),bc.serArr(fi[0],fi[1]));cP.endPointV=di.Create$1(cM.NoSnippet);function fm(fs){var ft;return fs.$==0?_5.rtn({$:1,$0:new W({$:0,$0:fs.$0})}):fs.$==1?(ft=fs.$0,dh.Map(function(fu){function fv(fw){return fw.snpId;}return fu===cZ.concat("/",ft)?ct.currentSnippetIdOV().Get():ct.runReader(ct.handleError,o.map(function(fw){return fw==null?null:{$:1,$0:fv(fw.$0)};},Z.snippetFromPathORm(ft)));},ct.currentPathW())):_5.rtn(null);}function fn(fs){if(!c7.Equals(ct.currentSnippetIdOV().Get(),fs))ct.setCurrentSnippetIdO(fs);}function fo(fs){var ft;return fs!=null&&fs.$==1?(ft=fs.$0.$0,dh.Map(function(fu){return c7.Equals({$:1,$0:cZ.SplitChars(fu,["/"],0)},cL.endPointV().Get())?cL.endPointV().Get():{$:0,$0:ft};},ct.currentPathW())):_5.rtn(cM.NoSnippet);}function fp(fs){if(!c7.Equals(cL.endPointV().Get(),fs))cL.endPointV().Set(fs);}fj=cT.r();dZ.InstallHashInto(cL.endPointV(),cM.NoSnippet,fj);dh.Sink((fk=function(fs){dh.Get(fn,fs);},function(fs){return fk(fm(fs));}),cL.endPointV().get_View());dh.Sink((fl=function(fs){dh.Get(fp,fs);},function(fs){return fl(fo(fs));}),ct.currentSnippetIdOV().get_View());cP.FStationLyt="FStationLyt";fq=ct.codeAndStartsW();dh.Sink(c.delayed(300,function(fs){cz.parse(fs[0],fs[1]);}),fq);dh.Sink(function(fs){self.onbeforeunload=fs!==""?function(ft){ft.returnValue="Changes you made may not be saved.";}:null;},ct.SaveAsClassW());cP.wsStationClient=new bT.New(cs.id(),null,null);c3.Start((fr=null,c3.Delay(function(){return c3.Bind(c3.Sleep(1000),function(){return c3.While(function(){return true;},c3.Delay(function(){return c3.TryWith(c3.Delay(function(){var fs,ft,fu,fv,fw,fx;function fy(fC){return(cR.j$4())(dv.parse(fC));}function fz(fC){return dv.stringify((cQ.j$4())(fC));}function fA(fC){return c3.Return(fC);}function fB(fC){c6.FailWith(fC);}fs=cN.wsStationClient();fs.payloadProcessorO={$:1,$0:(ft=function(fC){return cN.processMessage(fy(fC));},(fu=(fv=function(fC){return fA(fz(fC));},function(fC){return c3.Bind(fC,fv);}),function(fC){return fu(ft(fC));}))};A.iterA(function(fC){return fB(a.String(fC));},a.ignore,fs.sendAndForget(bH.msgType(bK.MsgInformation,(fw=bH.MessageBrokerAddress(),(fx=dv.stringify(((dy.Id())())("Registering Processor")),bN.New(new bI({$:0,$0:""}),fw,bK.MsgRequest,"",da.NewGuid(),fx,bM.NoReply))))));return c3.Bind(c3.Sleep(60000),function(){return c3.Return(null);});}),function(fs){((function(ft){return function(fu){return ft(cY.toSafe(fu));};}(function(ft){df.log(ft);}))(fs.message));return c3.Bind(c3.Sleep(1000),function(){return c3.Return(null);});});}));});})),null);};cQ.j$4=function(){return cQ._v$4?cQ._v$4:cQ._v$4=(dy.EncodeUnion(void 0,"$",[[0,[["$0","ResultValue",cQ.j$6,0]]],[1,[["$0","ErrorValue",cQ.j$5,0]]]]))();};cQ.j$6=function(){return cQ._v$6?cQ._v$6:cQ._v$6=(dy.EncodeUnion(void 0,"$",[[0,[["$0","Item",dy.Id(),0]]],[1,[["$0","Item",dy.EncodeArray(cQ.j$7),0]]]]))();};cR.j$5=function(){return cR._v$5?cR._v$5:cR._v$5=(dy.DecodeUnion(void 0,"$",[[0,[["$0","Item",cR.j$6,0]]],[1,[["$0","Item",dy.DecodeArray(dy.Id()),0]]]]))();};cR.j$4=function(){return cR._v$4?cR._v$4:cR._v$4=(dy.DecodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",dy.DecodeArray(cR.j$5),0]]],[2,[["$0","Item",cR.j$5,0]]],[3,[["$0","Item",cR.j$5,0]]],[4,[["$0","Item",dy.DecodeArray(dy.Id()),0]]],[5,[]],[6,[["$0","Item",dy.Id(),0]]]]))();};cR.j$6=function(){return cR._v$6?cR._v$6:cR._v$6=(dy.DecodeUnion(W,"$",[[0,[["$0","Item",dy.Id(),0]]]]))();};cS.p=function(d2){return"SnippetId "+cY.prettyPrint(d2.$0);};cT.r=function(){return d1.JSUnion(void 0,[[null,[[null,["Snippet"]]],[d1.rGuid()]],[null,[[null,["Path"]]],[d1.rWildcardArray(d1.rString())]],[null,[[null,[]]],[]]]);};cQ.j$5=function(){return cQ._v$5?cQ._v$5:cQ._v$5=(dy.EncodeUnion(d,"$",[[0,[]],[1,[["$0","Item",dy.Id(),0]]],[2,[["$0","Item",dy.Id(),0]]],[3,[["$0","Item",dy.Id(),0]]],[4,[["$0","Item",dy.Id(),0]]],[5,[["$0","Item1",dy.Id(),0],["$1","Item2",dy.Id(),0]]],[6,[["$0","Item",dy.EncodeArray(cQ.j$5),0]]]]))();};cQ.j$7=function(){return cQ._v$7?cQ._v$7:cQ._v$7=(dy.EncodeRecord(void 0,[["snpId",cQ.j$8,0],["snpName",dy.Id(),0],["snpContent",dy.Id(),0],["snpParentIdO",cQ.j$8,1],["snpPredIds",dy.EncodeSet(cQ.j$8),0],["snpProperties",dy.EncodeArray(dy.EncodeTuple([dy.Id(),dy.Id()])),0],["snpGeneration",dy.Id(),0]]))();};cQ.j$8=function(){return cQ._v$8?cQ._v$8:cQ._v$8=(dy.EncodeUnion(W,"$",[[0,[["$0","Item",dy.Id(),0]]]]))();};cU.snippetlist=function(d2){dr.LoadLocalTemplates("templates");return d2?dr.NamedTemplate("templates",{$:1,$0:"snippetlist"},d2):void 0;};cU.snippet=function(d2){dr.LoadLocalTemplates("templates");return d2?dr.NamedTemplate("templates",{$:1,$0:"snippet"},d2):void 0;};cU.propertytable=function(d2){dr.LoadLocalTemplates("templates");return d2?dr.NamedTemplate("templates",{$:1,$0:"propertytable"},d2):void 0;};cU.property=function(d2){dr.LoadLocalTemplates("templates");return d2?dr.NamedTemplate("templates",{$:1,$0:"property"},d2):void 0;};cU.layout=function(d2){cU.fixedsplitterhor();cU.fixedsplitterver();dr.LoadLocalTemplates("templates");return d2?dr.NamedTemplate("templates",{$:1,$0:"layout"},d2):void 0;};cU.fixedsplitterver=function(d2){dr.LoadLocalTemplates("templates");return d2?dr.NamedTemplate("templates",{$:1,$0:"fixedsplitterver"},d2):void 0;};cU.fixedsplitterhor=function(d2){dr.LoadLocalTemplates("templates");return d2?dr.NamedTemplate("templates",{$:1,$0:"fixedsplitterhor"},d2):void 0;};cU.buttonsright=function(d2){dr.LoadLocalTemplates("templates");return d2?dr.NamedTemplate("templates",{$:1,$0:"buttonsright"},d2):void 0;};cS.p$1=function(d2){return d2.$==6?"RMessages "+cY.printArray(function(d3){return cS.p$1(d3);},d2.$0):d2.$==5?"ExceptMsg ("+cY.prettyPrint(d2.$0)+", "+cY.prettyPrint(d2.$1)+")":d2.$==4?"Message "+cY.prettyPrint(d2.$0):d2.$==3?"Info "+cY.prettyPrint(d2.$0):d2.$==2?"Warning "+cY.prettyPrint(d2.$0):d2.$==1?"ErrorMsg "+cY.prettyPrint(d2.$0):"NoMsg";};cS.p$3=function(d2){return d2.$==6?"MsgGetValue "+cY.prettyPrint(d2.$0):d2.$==5?"MsgGetUrl":d2.$==4?"MsgAction "+cY.printArray(cY.prettyPrint,d2.$0):d2.$==3?"MsgGetPredecessors "+cS.p$2(d2.$0):d2.$==2?"MsgGetCode "+cS.p$2(d2.$0):d2.$==1?"MsgGetSnippets "+cY.printArray(function(d3){return cS.p$2(d3);},d2.$0):"MsgGetId";};cS.p$2=function(d2){return d2.$==1?"RefSnippetPath "+cY.printArray(cY.prettyPrint,d2.$0):"RefSnippetId "+cS.p(d2.$0);};cQ.j$9=function(){return cQ._v$9?cQ._v$9:cQ._v$9=(dy.EncodeUnion(void 0,"type",[["BRGetConnections",[]],["BRGetProcessId",[]]]))();};cS.p$4=function(d2){return d2.$==2?"BRString "+cY.prettyPrint(d2.$0):d2.$==1?"BRPid "+cY.prettyPrint(d2.$0):"BRConnections "+cY.printArray(cY.prettyPrint,d2.$0);};cR.j$7=function(){return cR._v$7?cR._v$7:cR._v$7=(dy.DecodeUnion(void 0,"type",[["BRConnections",[["$0","Item",dy.DecodeArray(dy.Id()),0]]],["BRPid",[["$0","Item",dy.Id(),0]]],["BRString",[["$0","Item",dy.Id(),0]]]]))();};cR.j$8=function(){return cR._v$8?cR._v$8:cR._v$8=(dy.DecodeUnion(void 0,"type",[["BMOk",[]],["BMOnlyBrokerShouldUse",[]],["BMDestinationNotFound",[["$0","Item",cR.j$1,0]]],["BMWebSocketError",[["$0","Item",dy.Id(),0]]],["BMReceiverCantReply",[]],["BMUnexpectedMsgType",[["$0","Item",cR.j$2,0]]],["BMUnexpectedResponse",[["$0","Item",dy.Id(),0]]]]))();};cS.p$7=function(d2){return d2.$==2?"Receiver":d2.$==1?"Broker":"NoReply";};cS.p$6=function(d2){return d2.$==5?"MsgRequestForEcho":d2.$==4?"MsgRequestForId":d2.$==3?"MsgFromBroker":d2.$==2?"MsgReply":d2.$==1?"MsgRequest":"MsgInformation";};cV.p=function(d2){return"{"+("from = "+cS.p$5(d2.from))+"; "+("destination = "+cS.p$5(d2.destination))+"; "+("msgType = "+cS.p$6(d2.msgType))+"; "+("subtype = "+cY.prettyPrint(d2.subtype))+"; "+("id = "+cY.prettyPrint(d2.id))+"; "+("payload = "+cY.prettyPrint(d2.payload))+"; "+("replier = "+cS.p$7(d2.replier))+"}";};cS.p$5=function(d2){return"Address "+cY.prettyPrint(d2.$0);};cS.p$8=function(d2){return d2.$==3?"Close":d2.$==2?"Open":d2.$==1?"Error":"Message "+cV.p(d2.$0);};cS.p$9=function(d2){return d2.$==6?"RMessages "+cY.printArray(function(d3){return cS.p$9(d3);},d2.$0):d2.$==5?"ExceptMsg ("+cY.prettyPrint(d2.$0)+", "+cY.prettyPrint(d2.$1)+")":d2.$==4?"Message "+cY.printArray(function(d3){return cS.p$10(d3);},d2.$0):d2.$==3?"Info "+cY.prettyPrint(d2.$0):d2.$==2?"Warning "+cY.prettyPrint(d2.$0):d2.$==1?"ErrorMsg "+cY.prettyPrint(d2.$0):"NoMsg";};cS.p$10=function(d2){return d2.$==17?"KMultiple "+cY.printArray(function(d3){return cS.p$10(d3);},d2.$0):d2.$==16?"KUnionCase "+cV.p$22(d2.$0):d2.$==15?"KNamespaces "+cV.p$19(d2.$0):d2.$==14?"KCompilerLocation "+cV.p$18(d2.$0):d2.$==13?"KSignatureData "+cV.p$16(d2.$0):d2.$==12?"KTypeSig "+cY.prettyPrint(d2.$0):d2.$==11?"KToolTip "+cY.printArray(function(d3){return cY.printArray(function(d4){return cV.p$3(d4);},d3);},d2.$0):d2.$==10?"KDeclarations "+cY.printArray(function(d3){return cV.p$14(d3);},d2.$0):d2.$==9?"KFindDecl "+cV.p$13(d2.$0):d2.$==8?"KColorizations "+cY.printList(function(d3){return cV.p$12(d3);},d2.$0):d2.$==7?"KErrors "+cV.p$10(d2.$0):d2.$==6?"KMethod "+cV.p$7(d2.$0):d2.$==5?"KHelp "+cY.prettyPrint(d2.$0):d2.$==4?"KSymbolUse "+cV.p$5(d2.$0):d2.$==3?"KCompletion "+cY.printArray(function(d3){return cV.p$4(d3);},d2.$0):d2.$==2?"KHelpText "+cV.p$2(d2.$0):d2.$==1?"KError "+cV.p$1(d2.$0):"KInfo "+cY.prettyPrint(d2.$0);};cV.p$22=function(d2){return"{"+("Text = "+cY.prettyPrint(d2.Text))+"}";};cV.p$21=function(d2){return"{"+("Name = "+cY.prettyPrint(d2.Name))+"; "+("Qualifier = "+cY.prettyPrint(d2.Qualifier))+"}";};cV.p$20=function(d2){return"{"+("Namespace = "+cY.prettyPrint(d2.Namespace))+"; "+("Name = "+cY.prettyPrint(d2.Name))+"; "+("Type = "+cY.prettyPrint(d2.Type))+"; "+("Line = "+cY.prettyPrint(d2.Line))+"; "+("Column = "+cY.prettyPrint(d2.Column))+"; "+("MultipleNames = "+cY.prettyPrint(d2.MultipleNames))+"}";};cV.p$18=function(d2){return"{"+("Fsc = "+cY.prettyPrint(d2.Fsc))+"; "+("Fsi = "+cY.prettyPrint(d2.Fsi))+"; "+("MSBuild = "+cY.prettyPrint(d2.MSBuild))+"}";};cV.p$16=function(d2){return"{"+("OutputType = "+cY.prettyPrint(d2.OutputType))+"; "+("Parameters = "+cY.printList(function(d3){return cY.printList(function(d4){return cV.p$17(d4);},d3);},d2.Parameters))+"}";};cV.p$19=function(d2){return"{"+("Opens = "+cY.printArray(function(d3){return cV.p$20(d3);},d2.Opens))+"; "+("Qualifies = "+cY.printArray(function(d3){return cV.p$21(d3);},d2.Qualifies))+"; "+("Word = "+cY.prettyPrint(d2.Word))+"}";};cV.p$17=function(d2){return"{"+("Name = "+cY.prettyPrint(d2.Name))+"; "+("Type = "+cY.prettyPrint(d2.Type))+"}";};cV.p$14=function(d2){return"{"+("Declaration = "+cV.p$15(d2.Declaration))+"; "+("Nested = "+cY.printArray(function(d3){return cV.p$15(d3);},d2.Nested))+"}";};cV.p$13=function(d2){return"{"+("File = "+cY.prettyPrint(d2.File))+"; "+("Line = "+cY.prettyPrint(d2.Line))+"; "+("Column = "+cY.prettyPrint(d2.Column))+"}";};cV.p$15=function(d2){return"{"+("UniqueName = "+cY.prettyPrint(d2.UniqueName))+"; "+("Name = "+cY.prettyPrint(d2.Name))+"; "+("Glyph = "+cY.prettyPrint(d2.Glyph))+"; "+("GlyphChar = "+cY.prettyPrint(d2.GlyphChar))+"; "+("IsTopLevel = "+cY.prettyPrint(d2.IsTopLevel))+"; "+("File = "+cY.prettyPrint(d2.File))+"; "+("EnclosingEntity = "+cY.prettyPrint(d2.EnclosingEntity))+"; "+("IsAbstract = "+cY.prettyPrint(d2.IsAbstract))+"}";};cV.p$12=function(d2){return"{"+("Kind = "+cY.prettyPrint(d2.Kind))+"}";};cV.p$10=function(d2){return"{"+("File = "+cY.prettyPrint(d2.File))+"; "+("Errors = "+cY.printArray(function(d3){return cV.p$11(d3);},d2.Errors))+"}";};cV.p$11=function(d2){return"{"+("FileName = "+cY.prettyPrint(d2.FileName))+"; "+("StartLine = "+cY.prettyPrint(d2.StartLine))+"; "+("EndLine = "+cY.prettyPrint(d2.EndLine))+"; "+("StartColumn = "+cY.prettyPrint(d2.StartColumn))+"; "+("EndColumn = "+cY.prettyPrint(d2.EndColumn))+"; "+("Severity = "+cY.prettyPrint(d2.Severity))+"; "+("Message = "+cY.prettyPrint(d2.Message))+"; "+("Subcategory = "+cY.prettyPrint(d2.Subcategory))+"}";};cV.p$7=function(d2){return"{"+("Name = "+cY.prettyPrint(d2.Name))+"; "+("CurrentParameter = "+cY.prettyPrint(d2.CurrentParameter))+"; "+("Overloads = "+cY.printList(function(d3){return cV.p$8(d3);},d2.Overloads))+"}";};cV.p$8=function(d2){return"{"+("Tip = "+cY.printList(function(d3){return cY.printList(function(d4){return cV.p$3(d4);},d3);},d2.Tip))+"; "+("TypeText = "+cY.prettyPrint(d2.TypeText))+"; "+("Parameters = "+cY.printList(function(d3){return cV.p$9(d3);},d2.Parameters))+"; "+("IsStaticArguments = "+cY.prettyPrint(d2.IsStaticArguments))+"}";};cV.p$9=function(d2){return"{"+("Name = "+cY.prettyPrint(d2.Name))+"; "+("CanonicalTypeTextForSorting = "+cY.prettyPrint(d2.CanonicalTypeTextForSorting))+"; "+("Display = "+cY.prettyPrint(d2.Display))+"; "+("Description = "+cY.prettyPrint(d2.Description))+"}";};cV.p$5=function(d2){return"{"+("Name = "+cY.prettyPrint(d2.Name))+"; "+("Uses = "+cY.printList(function(d3){return cV.p$6(d3);},d2.Uses))+"}";};cV.p$6=function(d2){return"{"+("FileName = "+cY.prettyPrint(d2.FileName))+"; "+("StartLine = "+cY.prettyPrint(d2.StartLine))+"; "+("StartColumn = "+cY.prettyPrint(d2.StartColumn))+"; "+("EndLine = "+cY.prettyPrint(d2.EndLine))+"; "+("EndColumn = "+cY.prettyPrint(d2.EndColumn))+"; "+("IsFromDefinition = "+cY.prettyPrint(d2.IsFromDefinition))+"; "+("IsFromAttribute = "+cY.prettyPrint(d2.IsFromAttribute))+"; "+("IsFromComputationExpression = "+cY.prettyPrint(d2.IsFromComputationExpression))+"; "+("IsFromDispatchSlotImplementation = "+cY.prettyPrint(d2.IsFromDispatchSlotImplementation))+"; "+("IsFromPattern = "+cY.prettyPrint(d2.IsFromPattern))+"; "+("IsFromType = "+cY.prettyPrint(d2.IsFromType))+"}";};cV.p$4=function(d2){return"{"+("Name = "+cY.prettyPrint(d2.Name))+"; "+("ReplacementText = "+cY.prettyPrint(d2.ReplacementText))+"; "+("Glyph = "+cY.prettyPrint(d2.Glyph))+"; "+("GlyphChar = "+cY.prettyPrint(d2.GlyphChar))+"}";};cV.p$2=function(d2){return"{"+("Name = "+cY.prettyPrint(d2.Name))+"; "+("Overloads = "+cY.printList(function(d3){return cY.printList(function(d4){return cV.p$3(d4);},d3);},d2.Overloads))+"}";};cV.p$3=function(d2){return"{"+("Signature = "+cY.prettyPrint(d2.Signature))+"; "+("Comment = "+cY.prettyPrint(d2.Comment))+"; "+("Footer = "+cY.prettyPrint(d2.Footer))+"}";};cV.p$1=function(d2){return"{"+("Code = "+cY.prettyPrint(d2.Code))+"; "+("Message = "+cY.prettyPrint(d2.Message))+"}";};cQ.j$1=function(){return cQ._v$1?cQ._v$1:cQ._v$1=(dy.EncodeUnion(bI,"$",[[0,[["$0","address",dy.Id(),0]]]]))();};cQ.j$2=function(){return cQ._v$2?cQ._v$2:cQ._v$2=(dy.EncodeUnion(void 0,"type",[["MsgInformation",[]],["MsgRequest",[]],["MsgReply",[]],["MsgFromBroker",[]],["MsgRequestForId",[]],["MsgRequestForEcho",[]]]))();};cQ.j$3=function(){return cQ._v$3?cQ._v$3:cQ._v$3=(dy.EncodeUnion(void 0,"type",[["NoReply",[]],["Broker",[]],["Receiver",[]]]))();};cQ.j=function(){return cQ._v?cQ._v:cQ._v=(dy.EncodeRecord(void 0,[["from",cQ.j$1,0],["destination",cQ.j$1,0],["msgType",cQ.j$2,0],["subtype",dy.Id(),0],["id",dy.Id(),0],["payload",dy.Id(),0],["replier",cQ.j$3,0]]))();};cR.j$1=function(){return cR._v$1?cR._v$1:cR._v$1=(dy.DecodeUnion(bI,"$",[[0,[["$0","address",dy.Id(),0]]]]))();};cR.j$2=function(){return cR._v$2?cR._v$2:cR._v$2=(dy.DecodeUnion(void 0,"type",[["MsgInformation",[]],["MsgRequest",[]],["MsgReply",[]],["MsgFromBroker",[]],["MsgRequestForId",[]],["MsgRequestForEcho",[]]]))();};cR.j$3=function(){return cR._v$3?cR._v$3:cR._v$3=(dy.DecodeUnion(void 0,"type",[["NoReply",[]],["Broker",[]],["Receiver",[]]]))();};cR.j=function(){return cR._v?cR._v:cR._v=(dy.DecodeRecord(void 0,[["from",cR.j$1,0],["destination",cR.j$1,0],["msgType",cR.j$2,0],["subtype",dy.Id(),0],["id",dy.Id(),0],["payload",dy.Id(),0],["replier",cR.j$3,0]]))();};}());

//# sourceMappingURL=FSharpStation.min.map