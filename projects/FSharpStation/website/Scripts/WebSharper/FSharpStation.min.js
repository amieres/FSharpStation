(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM;a=self;b=a.FsRoot=a.FsRoot||{};c=b.Library=b.Library||{};d=c.StringId=c.StringId||{};e=c.GuidId=c.GuidId||{};f=c.Dict=c.Dict||{};g=c.ResultMessage=c.ResultMessage||{};h=c.ResultMessageHelpers=c.ResultMessageHelpers||{};i=c.Monads=c.Monads||{};j=i.Seq=i.Seq||{};k=i.Option=i.Option||{};l=i.Async=i.Async||{};m=a.WebSharper;n=m&&m.Obj;o=i.State=i.State||{};p=o.CEBuilder=o.CEBuilder||{};q=o.Operators=o.Operators||{};r=i.Result=i.Result||{};s=r.Builder=r.Builder||{};t=r.Operators=r.Operators||{};u=r.BuilderP=r.BuilderP||{};v=i.Depend=i.Depend||{};w=v.DependBuilder=v.DependBuilder||{};x=v.Operators=v.Operators||{};y=i.FusionM=i.FusionM||{};z=y.Operators=y.Operators||{};A=y.Builder=y.Builder||{};B=A.Builder=A.Builder||{};C=i.FusionAsyncM=i.FusionAsyncM||{};D=C.Operators=C.Operators||{};E=C.Builder=C.Builder||{};F=E.Builder=E.Builder||{};G=i.ResultM=i.ResultM||{};H=G.Builder=G.Builder||{};I=G.Operators=G.Operators||{};J=i.ResultMAutoOpen=i.ResultMAutoOpen||{};K=i.AsyncResult=i.AsyncResult||{};L=i.AsyncResultBuilder=i.AsyncResultBuilder||{};M=i.AsyncResultBuilderP=i.AsyncResultBuilderP||{};N=i.Extensions=i.Extensions||{};O=i.AsyncResultM=i.AsyncResultM||{};P=O.AsyncResultMBuilder=O.AsyncResultMBuilder||{};Q=O.Operators=O.Operators||{};R=i.AsyncResultMAutoOpen=i.AsyncResultMAutoOpen||{};S=c.String=c.String||{};T=c.ParseO=c.ParseO||{};U=c.MailboxProcessorExt=c.MailboxProcessorExt||{};V=c.Mailbox=c.Mailbox||{};W=V.StateFull=V.StateFull||{};X=c.ResourceAgentState=c.ResourceAgentState||{};Y=c.ResourceAgent=c.ResourceAgent||{};Z=c.AgentReaderM=c.AgentReaderM||{};_0=c.CommArgRoot=c.CommArgRoot||{};_1=_0.CommArg=_0.CommArg||{};_2=_0.CommArgCollection=_0.CommArgCollection||{};_3=_0.TypedCommArg=_0.TypedCommArg||{};_4=_0.CommArgModule=_0.CommArgModule||{};_5=c.FsCodeModule=c.FsCodeModule||{};_6=_5.PreproDirective=_5.PreproDirective||{};_7=_5.PrepState=_5.PrepState||{};_8=c.SnippetId=c.SnippetId||{};_9=c.Snippet=c.Snippet||{};_=c.SnippetCollection=c.SnippetCollection||{};$=c.SnippetModule=c.SnippetModule||{};ba=c.Hole=c.Hole||{};bb=c.TreeReader=c.TreeReader||{};bc=bb.Node=bb.Node||{};bd=b.LibraryJS=b.LibraryJS||{};be=bd.Promise=bd.Promise||{};bf=bd.PromiseM=bd.PromiseM||{};bg=bd.View=bd.View||{};bh=bd.Var=bd.Var||{};bi=bd.ListModel=bd.ListModel||{};bj=bd.Pojo=bd.Pojo||{};bk=bd.GenEditor=bd.GenEditor||{};bl=bk.Position=bk.Position||{};bm=bk.AnnotationType=bk.AnnotationType||{};bn=bk.Annotation=bk.Annotation||{};bo=bk.Completion=bk.Completion||{};bp=bk.GenEditorHook=bk.GenEditorHook||{};bq=bk.GenEditor=bk.GenEditor||{};br=bd.Serializer=bd.Serializer||{};bs=bd.REGEX=bd.REGEX||{};bt=bd.Hoverable=bd.Hoverable||{};bu=bt.Hoverable=bt.Hoverable||{};bv=bd.ResizeObserver=bd.ResizeObserver||{};bw=bd.WebComponent=bd.WebComponent||{};bx=bw.WcTabStrip=bw.WcTabStrip||{};by=bx.WcTabStripT=bx.WcTabStripT||{};bz=bw.WcSplitter=bw.WcSplitter||{};bA=bz.WcSplitterT=bz.WcSplitterT||{};bB=bd.Monaco=bd.Monaco||{};bC=bB.Position=bB.Position||{};bD=bB.Range=bB.Range||{};bE=bB.Uri=bB.Uri||{};bF=bB.Location=bB.Location||{};bG=bB.FindMatch=bB.FindMatch||{};bH=bB.WordAtPosition=bB.WordAtPosition||{};bI=bB.Model=bB.Model||{};bJ=bB.MarkDownString=bB.MarkDownString||{};bK=bB.MarkerData=bB.MarkerData||{};bL=bB.CompletionItem=bB.CompletionItem||{};bM=bB.Hover=bB.Hover||{};bN=bB.Editor=bB.Editor||{};bO=bB.MonacoConfig=bB.MonacoConfig||{};bP=bd.MonacoGenAdapter=bd.MonacoGenAdapter||{};bQ=bP.MonacoRT=bP.MonacoRT||{};bR=bP.CompletionItemProvider=bP.CompletionItemProvider||{};bS=bP.HoverProvider=bP.HoverProvider||{};bT=bP.DefinitionProvider=bP.DefinitionProvider||{};bU=bd.AppFrameworkTemplate=bd.AppFrameworkTemplate||{};bV=bd.AppFramework=bd.AppFramework||{};bW=bV.PlgElemName=bV.PlgElemName||{};bX=bV.PlugInName=bV.PlugInName||{};bY=bV.PlugInVar=bV.PlugInVar||{};bZ=bV.PlugInView=bV.PlugInView||{};b0=bV.PlugInDoc=bV.PlugInDoc||{};b1=bV.PlugInAction=bV.PlugInAction||{};b2=bV.PlugInQuery=bV.PlugInQuery||{};b3=bV.PlugIn=bV.PlugIn||{};b4=bV.PlugInBuilder=bV.PlugInBuilder||{};b5=bV.Fun=bV.Fun||{};b6=bV.P=bV.P||{};b7=bV.Val=bV.Val||{};b8=bV.AAttr=bV.AAttr||{};b9=bV.Extract0=bV.Extract0||{};b_=bV.ListModelData=bV.ListModelData||{};b$=bd.LM=bd.LM||{};ca=bd.StartAppFramework=bd.StartAppFramework||{};cb=bd.AppFrameworkUI=bd.AppFrameworkUI||{};cc=bd.LayoutEngine=bd.LayoutEngine||{};cd=bd.LayoutEngineModule=bd.LayoutEngineModule||{};ce=cd.Measures=cd.Measures||{};cf=cd.Syntax=cd.Syntax||{};cg=cf.RefType=cf.RefType||{};ch=cf.TemplateDef=cf.TemplateDef||{};ci=cd.Layout=cd.Layout||{};cj=bd.NewLY=bd.NewLY||{};ck=cj.P=cj.P||{};cl=b.Library2=b.Library2||{};cm=cl.FsiAgent=cl.FsiAgent||{};cn=cl.WebSockets=cl.WebSockets||{};co=cn.Address=cn.Address||{};cp=cn.BrokerRequest=cn.BrokerRequest||{};cq=cn.MessageType=cn.MessageType||{};cr=cn.BrokerMessage=cn.BrokerMessage||{};cs=cn.Replier=cn.Replier||{};ct=cn.MessageGeneric=cn.MessageGeneric||{};cu=cn.ClientTypeFSharp=cn.ClientTypeFSharp||{};cv=cn.ClientTypeFSStation=cn.ClientTypeFSStation||{};cw=cn.ClientTypeJScript=cn.ClientTypeJScript||{};cx=cn.ReplyHandler=cn.ReplyHandler||{};cy=cx.Handler=cx.Handler||{};cz=cn.WSMessagingClient=cn.WSMessagingClient||{};cA=cl.FSMessage=cl.FSMessage||{};cB=cl.FsAutoComplete=cl.FsAutoComplete||{};cC=cB.CommTypes=cB.CommTypes||{};cD=cC.ResponseError=cC.ResponseError||{};cE=cC.Location=cC.Location||{};cF=cC.CompletionResponse=cC.CompletionResponse||{};cG=cC.OverloadDescription=cC.OverloadDescription||{};cH=cC.OverloadParameter=cC.OverloadParameter||{};cI=cC.Overload=cC.Overload||{};cJ=cC.Parameter=cC.Parameter||{};cK=cC.SignatureData=cC.SignatureData||{};cL=cC.MethodResponse=cC.MethodResponse||{};cM=cC.SymbolUseRange=cC.SymbolUseRange||{};cN=cC.SymbolUseResponse=cC.SymbolUseResponse||{};cO=cC.HelpTextResponse=cC.HelpTextResponse||{};cP=cC.CompilerLocationResponse=cC.CompilerLocationResponse||{};cQ=cC.FSharpErrorInfo=cC.FSharpErrorInfo||{};cR=cC.ErrorResponse=cC.ErrorResponse||{};cS=cC.Colorization=cC.Colorization||{};cT=cC.Declaration=cC.Declaration||{};cU=cC.DeclarationResponse=cC.DeclarationResponse||{};cV=cC.OpenNamespace=cC.OpenNamespace||{};cW=cC.QualifySymbol=cC.QualifySymbol||{};cX=cC.ResolveNamespaceResponse=cC.ResolveNamespaceResponse||{};cY=cC.UnionCaseResponse=cC.UnionCaseResponse||{};cZ=cB.MsgTypes=cB.MsgTypes||{};c0=cZ.ParseRequest=cZ.ParseRequest||{};c1=cZ.DeclarationsRequest=cZ.DeclarationsRequest||{};c2=cZ.CompletionRequest=cZ.CompletionRequest||{};c3=cZ.PositionRequest=cZ.PositionRequest||{};c4=cZ.ProjectRequest=cZ.ProjectRequest||{};c5=cZ.LintRequest=cZ.LintRequest||{};c6=cZ.HelptextRequest=cZ.HelptextRequest||{};c7=cZ.WorkspacePeekRequest=cZ.WorkspacePeekRequest||{};c8=cB.Calls=cB.Calls||{};c9=b.FSharpStation=b.FSharpStation||{};c_=c9.FStation=c9.FStation||{};c$=c9.Snippets=c9.Snippets||{};da=c9.DragDrop=c9.DragDrop||{};db=da.DragInfo=da.DragInfo||{};dc=c9.Templating=c9.Templating||{};dd=c9.RenderSnippets=c9.RenderSnippets||{};de=c9.RenderProperties=c9.RenderProperties||{};df=c9.Monaco=c9.Monaco||{};dg=df.HoverProvider=df.HoverProvider||{};dh=df.CompletionItemProvider=df.CompletionItemProvider||{};di=df.DefinitionProvider=df.DefinitionProvider||{};dj=df.MonacoOptions=df.MonacoOptions||{};dk=df.ITextModelService=df.ITextModelService||{};dl=c9.JumpTo=c9.JumpTo||{};dm=c9.CustomAction=c9.CustomAction||{};dn=c9.Serializer=c9.Serializer||{};_do=dn.Model=dn.Model||{};dp=c9.LoadSave=c9.LoadSave||{};dq=c9.Importer=c9.Importer||{};dr=c9.MainProgram=c9.MainProgram||{};ds=dr.EndPoint=dr.EndPoint||{};dt=c9.Messaging=c9.Messaging||{};du=c9.Server=c9.Server||{};dv=a.StartupCode$FSharpStation$FSharpStation=a.StartupCode$FSharpStation$FSharpStation||{};dw=a.FSharpStation_JsonEncoder=a.FSharpStation_JsonEncoder||{};dx=a.FSharpStation_Templates=a.FSharpStation_Templates||{};dy=a.FSharpStation_GeneratedPrintf=a.FSharpStation_GeneratedPrintf||{};dz=a.FSharpStation_Router=a.FSharpStation_Router||{};dA=a.GeneratedPrintf=a.GeneratedPrintf||{};dB=a.FSharpStation_JsonDecoder=a.FSharpStation_JsonDecoder||{};dC=a.IntelliFactory;dD=dC&&dC.Runtime;dE=m&&m.Utils;dF=m&&m.Strings;dG=m&&m.Seq;dH=m&&m.List;dI=m&&m.Arrays;dJ=m&&m.Concurrency;dK=m&&m.Enumerator;dL=m&&m.Result;dM=m&&m.Operators;dN=m&&m.Unchecked;dO=m&&m.Slice;dP=m&&m.Char;dQ=m&&m.Control;dR=dQ&&dQ.MailboxProcessor;dS=a.System;dT=dS&&dS.Guid;dU=m&&m.Collections;dV=dU&&dU.FSharpSet;dW=m&&m.Option;dX=a.Date;dY=m&&m.UI;dZ=dY&&dY.Var$1;d0=dY&&dY.View;d1=m&&m.CancellationTokenSource;d2=a.console;d3=dY&&dY.Var;d4=dY&&dY.FromView;d5=dY&&dY.Doc;d6=dU&&dU.FSharpMap;d7=dU&&dU.BalancedTree;d8=dY&&dY.DomUtility;d9=dY&&dY.AttrModule;d_=dY&&dY.AttrProxy;d$=a.Node;ea=dY&&dY.Client;eb=ea&&ea.Templates;ec=a.Reflect;ed=a.Object;ee=m&&m.Lazy;ef=dY&&dY.Templating;eg=ef&&ef.Runtime;eh=eg&&eg.Server;ei=eh&&eh.ProviderBuilder;ej=eh&&eh.Handler;ek=eh&&eh.TemplateInstance;el=dY&&dY.ListModel;em=a.Math;en=dU&&dU.Dictionary;eo=m&&m.MatchFailureException;ep=dU&&dU.Map;eq=a.JSON;er=m&&m.TimeoutException;es=m&&m.ClientSideJson;et=es&&es.Provider;eu=m&&m.Owin;ev=eu&&eu.WebSocket;ew=ev&&ev.Client;ex=ew&&ew.WithEncoding;ey=ev&&ev.Endpoint;ez=a.location;eA=m&&m.Remoting;eB=eA&&eA.AjaxRemotingProvider;eC=m&&m.JavaScript;eD=eC&&eC.Promise;eE=m&&m.DateUtil;eF=m&&m.Numeric;eG=dY&&dY.Attrs;eH=dY&&dY.Input;eI=eH&&eH.Mouse;eJ=eH&&eH.Keyboard;eK=dY&&dY.Router;eL=m&&m.Sitelets;eM=eL&&eL.RouterOperators;d=c.StringId=dD.Class({get_Id:function(){return this.$0;}},null,d);e=c.GuidId=dD.Class({get_Id:function(){return this.$0;}},null,e);f.add=function(eN,eO,eP){if(eP.ContainsKey(eN))eP.set_Item(eN,eO);else eP.Add(eN,eO);};g=c.ResultMessage=dD.Class({toString:function(){return this.$==1?(function(eN){return function(eO){return eN("Error    : "+dE.toSafe(eO));};}(a.id))(this.$0):this.$==2?(function(eN){return function(eO){return eN("Warning  : "+dE.toSafe(eO));};}(a.id))(this.$0):this.$==3?this.$0:this.$==4?(function(eN){return function(eO){return eN(a.String(eO));};}(a.id))(this.$0):this.$==5?(((dD.Curried3(function(eN,eO,eP){return eN("Exception: "+dE.toSafe(eO)+", "+dE.toSafe(eP));}))(a.id))(this.$0))(this.$1):this.$==6?dF.concat("\n",dG.map(a.String,dG.filter(function(eN){return eN.$!=0;},this.$0))):"";}},null,g);g.NoMsg=new g({$:0});h.infof=function(eN){return eN(function(eO){return new g({$:3,$0:eO});});};h.warningf=function(eN){return eN(function(eO){return new g({$:2,$0:eO});});};h.errorMsgf=function(eN){return eN(function(eO){return new g({$:1,$0:eO});});};g.summarizedI=function(eN){return g.summarizedF(function(){return[0,0,1];},eN);};g.summarizedW=function(eN){return g.summarizedF(function(){return[0,1,0];},eN);};g.summarized=function(eN){return g.summarizedF(function(){return[1,0,0];},eN);};g.summarizedF=function(eN,eO){return dF.concat("\n",dG.filter(function(eP){return""!==eP;},dH.ofArray([a.String(eO),g.summaryF(eN,eO)])));};g.summaryF=function(eN,eO){var eP,eQ;eQ=g.countF(eN,eO);switch(eQ[0]===0?eQ[1]===0?0:eQ[1]===1?eQ[2]===0?0:(eP=eQ[1],2):(eP=eQ[1],2):eQ[0]===1?eQ[1]===0?eQ[2]===0?0:(eP=eQ[0],1):(eP=[eQ[0],eQ[1]],3):eQ[1]===0?(eP=eQ[0],1):(eP=[eQ[0],eQ[1]],3)){case 0:return"";case 1:return(function(eR){return function(eS){return eR("Errors   : "+a.String(eS)+"\n");};}(a.id))(eP);case 2:return(function(eR){return function(eS){return eR("Warnings : "+a.String(eS)+"\n");};}(a.id))(eP);case 3:return(((dD.Curried3(function(eR,eS,eT){return eR("Errors   : "+a.String(eS)+", Warnings: "+a.String(eT)+"\n");}))(a.id))(eP[0]))(eP[1]);}};g.reduceMsgs=function(eN){return dG.fold(g.addMsg,g.NoMsg,eN);};g.addMsg=function(eN,eO){return eN.$==0?eO:eN.$==6?eO.$==0?eN:eO.$==6?new g({$:6,$0:eN.$0.concat(eO.$0)}):new g({$:6,$0:eN.$0.concat([eO])}):eO.$==0?eN:eO.$==6?new g({$:6,$0:[eN].concat(eO.$0)}):new g({$:6,$0:[eN,eO]});};g.countI=function(eN){return g.countF(function(){return[0,0,1];},eN);};g.countW=function(eN){return g.countF(function(){return[0,1,0];},eN);};g.count=function(eN){return g.countF(function(){return[1,0,0];},eN);};g.countF=function(eN,eO){function eP(eQ,eR,eS){return function(eT){return[eQ+eT[0],eR+eT[1],eS+eT[2]];};}return eO.$==0?[0,0,0]:eO.$==3?[0,0,1]:eO.$==2?[0,1,0]:eO.$==4?eN(eO.$0):eO.$==6?dG.fold(function(eQ,eR){return(function(eS){return eP(eS[0],eS[1],eS[2]);}(eQ))(eR);},[0,0,0],dG.map(function(eQ){return g.countF(eN,eQ);},g.exclnoMsg(eO.$0))):[1,0,0];};g.isFatalW=function(eN){return g.isFatalF(function(){return false;},eN);};g.isFatal=function(eN){return g.isFatalF(function(){return true;},eN);};g.isFatalF=function(eN,eO){return eO.$==0?false:eO.$==3?false:eO.$==2?false:eO.$==4?eN(eO.$0):eO.$==6?dG.exists(function(eP){return g.isFatalF(eN,eP);},eO.$0):true;};g.isWarningOrInfoW=function(eN){return g.isWarningOrInfoF(function(){return true;},eN);};g.isWarningOrInfo=function(eN){return g.isWarningOrInfoF(function(){return false;},eN);};g.isWarningOrInfoF=function(eN,eO){return eO.$==2||(eO.$==4?eN(eO.$0):eO.$==6&&dG.forall(function(eP){return g.isWarningOrInfoF(eN,eP)||g.isInfoF(eN,eP);},g.exclnoMsg(eO.$0)));};g.isInfoI=function(eN){return g.isInfoF(function(){return true;},eN);};g.isInfo=function(eN){return g.isInfoF(function(){return false;},eN);};g.isInfoF=function(eN,eO){return eO.$==3||(eO.$==4?eN(eO.$0):eO.$==6&&dG.forall(function(eP){return g.isInfoF(eN,eP);},g.exclnoMsg(eO.$0)));};g.freeMessageI=function(eN){var eO;function eP(eQ){return new g({$:3,$0:eQ});}return g.freeMessageF((eO=function(eQ){return function(eR){return eQ(a.String(eR));};}(a.id),function(eQ){return eP(eO(eQ));}),eN);};g.freeMessageW=function(eN){var eO;function eP(eQ){return new g({$:2,$0:eQ});}return g.freeMessageF((eO=function(eQ){return function(eR){return eQ(a.String(eR));};}(a.id),function(eQ){return eP(eO(eQ));}),eN);};g.freeMessage=function(eN){var eO;function eP(eQ){return new g({$:1,$0:eQ});}return g.freeMessageF((eO=function(eQ){return function(eR){return eQ(a.String(eR));};}(a.id),function(eQ){return eP(eO(eQ));}),eN);};g.freeMessageF=function(eN,eO){return g.bindMessage(eN,eO);};g.bindMessage=function(eN,eO){return eO.$==4?eN(eO.$0):eO.$==1?new g({$:1,$0:eO.$0}):eO.$==3?new g({$:3,$0:eO.$0}):eO.$==2?new g({$:2,$0:eO.$0}):eO.$==5?new g({$:5,$0:eO.$0,$1:eO.$1}):eO.$==6?new g({$:6,$0:dI.map(function(eP){return g.bindMessage(eN,eP);},eO.$0)}):g.NoMsg;};g.exclnoMsg=function(eN){function eO(eP){return!eP;}return dG.filter(function(eP){return eO(g.noMsg(eP));},eN);};g.noMsg=function(eN){return eN.$==0;};j.ofOption=function(eN){return eN==null?[]:[eN.$0];};j.absorbR=function(eN){return dG.choose(function(eO){return eO.$==0?{$:1,$0:eO.$0}:null;},eN);};j.absorbO=function(eN){return dG.choose(a.id,eN);};j.insertR=function(eN){return eN.$==0?dG.map(function(eO){return{$:0,$0:eO};},eN.$0):(j.rtn())(c.Error(eN.$0));};j.insertO=function(eN){var eO;eO=eN==null?null:{$:1,$0:dG.map(function(eP){return{$:1,$0:eP};},eN.$0)};return eO==null?(j.rtn())(null):eO.$0;};j.rtn=function(){dv.$cctor();return dv.rtn;};k.absorbR=function(eN){var eO,eP;return eN!=null&&eN.$==1&&(eP=eN.$0,eP.$==0&&(eO=eP.$0,true))?{$:1,$0:eO}:null;};k.insertR=function(eN){var eO;return eN.$==0?(eO=eN.$0,eO==null?null:{$:1,$0:{$:0,$0:eO.$0}}):k.rtn(c.Error(eN.$0));};k.sequenceSeq=function(eN){return k.traverseSeq(a.id,eN);};k.traverseSeq=function(eN,eO){var eP;eP=dI.foldBack(function(eQ,eR){return k.op_GreaterGreaterEquals(eN(eQ),function(eS){return k.op_GreaterGreaterEquals(eR,function(eT){return k.rtn(new dH.T({$:1,$0:eS,$1:eT}));});});},dI.ofSeq(eO),k.rtn(dH.T.Empty));return eP==null?null:{$:1,$0:eP.$0};};k.op_GreaterGreaterEquals=function(eN,eO){return eN==null?null:eO(eN.$0);};k.bindNone=function(eN,eO){return eO!=null&&eO.$==1?{$:1,$0:eO.$0}:eN();};k.mapNone=function(eN,eO){return eO==null?eN():eO.$0;};k.apply=function(eN,eO){var eP;return eN!=null&&eN.$==1&&(eO!=null&&eO.$==1&&(eP=[eN.$0,eO.$0],true))?{$:1,$0:eP[0](eP[1])}:null;};k.join=function(eN){return eN==null?null:eN.$0;};k.iter=function(eN){function eO(eQ){return eQ==null?null:{$:1,$0:eN(eQ.$0)};}function eP(eQ){if(eQ==null);}return function(eQ){return eP(eO(eQ));};};k.rtn=function(eN){return{$:1,$0:eN};};l.insertR=function(eN){function eO(eQ){return{$:0,$0:eQ};}function eP(eQ){return dJ.Return(eQ);}return eN.$==0?dJ.Bind(eN.$0,function(eQ){return eP(eO(eQ));}):dJ.Return(c.Error(eN.$0));};l.insertO=function(eN){var eO;function eP(eR){return{$:1,$0:eR};}function eQ(eR){return dJ.Return(eR);}eO=eN==null?null:{$:1,$0:dJ.Bind(eN.$0,function(eR){return eQ(eP(eR));})};return eO==null?dJ.Return(null):eO.$0;};l.sequenceSeqS=function(eN){throw"traverseSeqS cannot be used in JavaScript!";};l.sequenceSeq=function(eN){return l.traverseSeq(a.id,eN);};l.traverseSeq=function(eN,eO){function eP(eQ){return dJ.Return(eQ);}return dJ.Bind(dI.foldBack(function(eQ,eR){return l.op_GreaterGreaterEquals(eN(eQ),function(eS){return l.op_GreaterGreaterEquals(eR,function(eT){return dJ.Return(new dH.T({$:1,$0:eS,$1:eT}));});});},dI.ofSeq(eO),dJ.Return(dH.T.Empty)),function(eQ){return eP(a.id(eQ));});};l.op_GreaterGreaterEquals=function(eN,eO){return dJ.Bind(eN,eO);};l.sleepThen=function(eN,eO){var eP;eP=null;return dJ.Delay(function(){return dJ.Bind(dJ.Sleep(eO),function(){return dJ.Return(eN());});});};l.apply=function(eN,eO){var eP;eP=null;return dJ.Delay(function(){return dJ.Bind(dJ.StartChild(eN,null),function(eQ){return dJ.Bind(dJ.StartChild(eO,null),function(eR){return dJ.Bind(eQ,function(eS){return dJ.Bind(eR,function(eT){return dJ.Return(eS(eT));});});});});});};p=o.CEBuilder=dD.Class({Delay:function(eN){return eN();},Return:function(eN){return function(eO){return o.rtn(eN,eO);};},Bind:function(eN,eO){return function(eP){return o.bind(eO,eN,eP);};}},n,p);p.New=dD.Ctor(function(){n.New.call(this);},p);q.op_BarGreaterGreater=function(eN,eO){return(o.map(eO))(eN);};q.op_GreaterGreaterEquals=function(eN,eO){return function(eP){return o.bind(eO,eN,eP);};};o.state=function(){dv.$cctor();return dv.state;};o.map=function(eN){var eO;eO=function(eP){var eQ;eQ=eN(eP);return function(eR){return o.rtn(eQ,eR);};};return(dD.Curried3(o.bind))(eO);};o.bind=function(eN,eO,eP){var eQ;eQ=eO(eP);return(eN(eQ[1]))(eQ[0]);};o.rtn=function(eN,eO){return[eO,eN];};s=r.Builder=dD.Class({For:function(eN,eO){var eP;eP=this;return this.Using(dK.Get(eN),function(eQ){return eP.While(function(){return eQ.MoveNext();},eP.Delay(function(){return eO(eQ.Current());}));});},While:function(eN,eO){function eP(eQ,eR){return eQ()?dL.Bind(function(){return eP(eQ,eR);},eR()):r.rtn();}return eP(eN,eO);},Using:function(eN,eO){try{return eO(eN);}finally{eN.Dispose();}},TryFinally:function(eN,eO){try{return eN();}finally{eO();}},TryWith:function(eN,eO){try{return eN();}catch(eP){return eO(eP);}},Run:function(eN){return dL.Bind(eN,{$:0,$0:null});},Combine:function(eN,eO){return dL.Bind(eO,eN);},Delay:a.id,Zero:function(){return r.rtn();},Bind:function(eN,eO){return dL.Bind(eO,eN);},ReturnFrom:a.id,Return:function(eN){return r.rtn(eN);}},n,s);s.New=dD.Ctor(function(){n.New.call(this);},s);t.result=function(){dv.$cctor();return dv.result$1;};t.rtn=function(eN){return r.rtn(eN);};t.op_GreaterEqualsGreater=function(eN,eO,eP){return t.op_GreaterGreaterEquals(eN(eP),eO);};t.op_RightShift=function(eN,eO,eP){return t.op_BarGreaterGreater(eN(eP),eO);};t.op_GreaterGreaterEquals=function(eN,eO){return dL.Bind(eO,eN);};t.op_BarGreaterGreater=function(eN,eO){return dL.Map(eO,eN);};u=r.BuilderP=dD.Class({For:function(eN,eO){var eP;eP=this;return this.Using(dK.Get(eN),function(eQ){return eP.While(function(){return eQ.MoveNext();},eP.Delay(function(){return eO(eQ.Current());}));});},While:function(eN,eO){function eP(eQ,eR){return eQ()?dL.Bind(function(){return eP(eQ,eR);},eR()):r.rtn();}return eP(eN,eO);},Using:function(eN,eO){try{return eO(eN);}finally{eN.Dispose();}},TryFinally:function(eN,eO){try{return eN();}finally{eO();}},TryWith:function(eN,eO){try{return eN();}catch(eP){return eO(eP);}},Run:function(eN){return r.bindP(eN,{$:0,$0:null});},Combine:function(eN,eO){return dL.Bind(eO,eN);},Delay:a.id,Zero:function(){return r.rtn();},Bind:function(eN,eO){return dL.Bind(eO,eN);},ReturnFrom:a.id,Return:function(eN){return r.rtn(eN);}},n,u);u.New=dD.Ctor(function(){n.New.call(this);},u);r.resultP=function(){dv.$cctor();return dv.resultP;};r.iterP=function(eN,eO,eP){r.defaultWith(eN,r.mapP(eO,eP));};r.mapP=function(eN,eO){return r.bindP(function(eP){return r.rtn(eN(eP));},eO);};r.bindP=function(eN,eO){if(eO.$==1)return c.Error(eO.$0);else try{return eN(eO.$0);}catch(eP){return c.Error(new g({$:5,$0:eP.message,$1:eP.stack}));}};r.freeMessage=function(eN){return eN.$==1?c.Error(g.freeMessage(eN.$0)):{$:0,$0:eN.$0};};r.result=function(){dv.$cctor();return dv.result;};r.sequenceSeq=function(eN){return r.traverseSeq(a.id,eN);};r.traverseSeq=function(eN,eO){return dL.Map(a.id,dI.foldBack(function(eP,eQ){return r.op_GreaterGreaterEquals(eN(eP),function(eR){return r.op_GreaterGreaterEquals(eQ,function(eS){return r.rtn(new dH.T({$:1,$0:eR,$1:eS}));});});},dI.ofSeq(eO),r.rtn(dH.T.Empty)));};r.op_GreaterGreaterEquals=function(eN,eO){return dL.Bind(eO,eN);};r.absorbO=function(eN,eO){return dL.Bind(function(eP){return r.ofOption(eN,eP);},eO);};r.insertO=function(eN){var eO;eO=eN==null?null:{$:1,$0:dL.Map(function(eP){return{$:1,$0:eP};},eN.$0)};return eO==null?{$:0,$0:null}:eO.$0;};r.ofOption=function(eN,eO){var eP;eP=eO==null?null:{$:1,$0:{$:0,$0:eO.$0}};return eP==null?function(eQ){return c.Error(eN(eQ));}():eP.$0;};r.get=function(eN){return r.defaultWith(function(eO){return dM.FailWith(a.String(eO));},eN);};r.iter=function(eN,eO,eP){r.defaultWith(eN,dL.Map(eO,eP));};r.failIfFalse=function(eN,eO){return!eO?c.Error(eN):{$:0,$0:null};};r.failIfTrue=function(eN,eO){return eO?c.Error(eN):{$:0,$0:null};};r.defaultValue=function(eN,eO){return eO.$==1?eN:eO.$0;};r.defaultWith=function(eN,eO){return eO.$==1?eN(eO.$0):eO.$0;};r.toOption=function(eN){return eN.$==0?{$:1,$0:eN.$0}:null;};r.flatten=function(eN){return dL.Bind(a.id,eN);};r.join=function(eN){return dL.Bind(a.id,eN);};r.rtn=function(eN){return{$:0,$0:eN};};r.errorf=function(eN){return eN(c.Error);};w=v.DependBuilder=dD.Class({Delay:function(eN){return eN();},Return:function(eN){return v.rtn(eN);},Bind:function(eN,eO){return v.bind(eO,eN);}},n,w);w.New=dD.Ctor(function(){n.New.call(this);},w);x.op_GreaterMultiplyGreater=function(eN,eO){var eP;eP=x.depend();return eP.Delay(function(){return eP.Bind(eO,function(eQ){return eP.Return(function(eR){return eQ(eN(eR));});});});};x.op_LessMultiplyGreater=function(eN,eO){return v.apply(eN,eO);};x.op_GreaterEqualsMultiply=function(eN,eO){return v.apply(eO,eN);};x.op_BarMultiplyGreater=function(eN,eO){return v.apply(eO,(x.rtn())(eN));};x.op_BarGreaterGreater=function(eN,eO){return(v.map(eO))(eN);};x.op_GreaterGreaterEquals=function(eN,eO){return v.bind(eO,eN);};x.depend=function(){dv.$cctor();return dv.depend$1;};x.rtn=function(){dv.$cctor();return dv.rtn$1;};v.toString=function(eN){return dF.concat("\n",dG.sort(dG.distinct(dG.map(function(eO){var eP,eQ;return(eO.$==0?(eQ=eO.$0,eQ!=null&&eQ.$==1)?(eP=[eO.$1,eO.$0.$0[0],eO.$0.$0[1]],true):(eP=eO,false):(eP=eO,false))?(((dD.Curried3(function(eR,eS,eT){return eR(dF.PadRight(dE.toSafe(eS),50)+" "+dE.prettyPrint(eT));}))(a.id))(eP[1]))(eP[2]):a.String(eP);},v.getDependencies(eN)))));};v.getDependencies=function(eN){return dH.rev(dH.filter(function(eO){return eO.$==0?eO.$0!=null:true;},function(eO,eP){var eQ,eR,eS,eT,eU;while(true){eR=new dH.T({$:1,$0:eP,$1:eO});if(eP.$==1)return eR;else if(eQ=eP.$0,eQ!=null&&eQ.$==1){eS=eP.$1;eT=eP.$0.$0[1];eO=eR;eP=eS(eT);}else{eU=eP.$1;eO=eR;eP=eU(void 0);}}}(dH.T.Empty,eN)));};v.depend=function(){dv.$cctor();return dv.depend;};v.resolver=function(eN,eO){function eP(eQ){var eR,eS,eT,eU,eV;function eW(eY){return eY[0];}function eX(eY){return eT===eY;}return eQ.$==1?eQ.$0:(eR=eQ.$0,eR!=null&&eR.$==1)?(eS=eQ.$1,(eT=eQ.$0.$0[0],eP((eU=(eV=dG.tryFind(function(eY){return eX(eW(eY));},eN),eV==null?null:{$:1,$0:eS(eV.$0[1])}),eU==null?eS(eQ.$0.$0[1]):eU.$0)))):eP(eQ.$1(void 0));}return eP(eO);};v.replacerDef=function(eN,eO){function eP(eQ){var eR,eS,eT,eU,eV,eW,eX;function eY(eZ,e0){return e0[0]===eT;}return eQ.$==1?{$:1,$0:eQ.$0}:(eR=eQ.$0,eR!=null&&eR.$==1)?(eS=eQ.$1,(eT=eQ.$0.$0[0],(eU=(eV=dG.tryFind(function(eZ){return eY(eZ[0],eZ[1]);},eN),eV==null?null:{$:1,$0:(eW=eV.$0,{$:0,$0:{$:1,$0:[eW[0],eW[1][1]]},$1:function(eZ){return eP(eS(eZ));}})}),eU==null?{$:0,$0:{$:1,$0:[eT,eQ.$0.$0[1]]},$1:function(eZ){return eP(eS(eZ));}}:eU.$0))):{$:0,$0:null,$1:(eX=eQ.$1,function(eZ){return eP(eX(eZ));})};}return eP(eO);};v.replacer=function(eN,eO){function eP(eQ){var eR,eS,eT,eU,eV,eW;function eX(eZ){return eZ[0];}function eY(eZ){return eT===eZ;}return eQ.$==1?{$:1,$0:eQ.$0}:(eR=eQ.$0,eR!=null&&eR.$==1)?(eS=eQ.$1,(eT=eQ.$0.$0[0],(eU=(eV=dG.tryFind(function(eZ){return eY(eX(eZ));},eN),eV==null?null:{$:1,$0:{$:0,$0:{$:1,$0:[eT,eV.$0[1]]},$1:function(eZ){return eP(eS(eZ));}}}),eU==null?{$:0,$0:{$:1,$0:[eT,eQ.$0.$0[1]]},$1:function(eZ){return eP(eS(eZ));}}:eU.$0))):{$:0,$0:null,$1:(eW=eQ.$1,function(eZ){return eP(eW(eZ));})};}return eP(eO);};v.apply=function(eN,eO){return v.bind(function(eP){return(v.map(eP))(eO);},eN);};v.map=function(eN){var eO;eO=function(eP){return v.rtn(eN(eP));};return function(eP){return v.bind(eO,eP);};};v.rtn=function(eN){return{$:1,$0:eN};};v.bind=function(eN,eO){function eP(eQ){var eR,eS;return eQ.$==1?(eR=eQ.$0,{$:0,$0:null,$1:function(){return eN(eR);}}):(eS=eQ.$1,{$:0,$0:eQ.$0,$1:function(eT){return eP(eS(eT));}});}return eP(eO);};v.dependByName=function(eN,eO,eP){return{$:0,$0:{$:1,$0:[eN,eO]},$1:function(eQ){return{$:1,$0:eP(eQ)};}};};z.rtn=function(eN){return y.rtn(eN);};z.op_GreaterEqualsGreater=function(eN,eO,eP){return z.op_GreaterGreaterEquals(eN(eP),eO);};z.op_RightShift=function(eN,eO,eP){return z.op_BarGreaterGreater(eN(eP),eO);};z.op_GreaterGreaterEquals=function(eN,eO){return y.bind(eO,eN);};z.op_BarGreaterGreater=function(eN,eO){return y.map(eO,eN);};z.op_LessMultiplyGreater=function(eN,eO){return y.apply(eN,eO);};B=A.Builder=dD.Class({For:function(eN,eO){var eP;eP=this;return this.Using(dK.Get(eN),function(eQ){return eP.While(function(){return eQ.MoveNext();},eP.Delay(function(){return eO(eQ.Current());}));});},Using:function(eN,eO){return this.TryFinally(function(){return eO(eN);},function(){if(!dN.Equals(eN,null))eN.Dispose();});},TryFinally:function(eN,eO){return y.wrap(function(eP){try{return(y.getFun(eN()))(eP);}finally{eO();}});},TryWith:function(eN,eO){return y.wrap(function(eP){try{return(y.getFun(eN()))(eP);}catch(eQ){return eO(eQ);}});},While:function(eN,eO){function eP(eQ,eR){return eQ()?y.bind(function(){return eP(eQ,eR);},eR()):y.rtn();}return eP(eN,eO);},Run:function(eN){return y.wrap(function(eO){return(y.getFun(eN()))(eO);});},Combine:function(eN,eO){return y.bind(eO,eN);},Delay:a.id,Zero:function(){return y.rtn();},Bind:function(eN,eO){return y.bind(eO,eN);},ReturnFrom:function(eN){return y.from(eN);},Return:function(eN){return y.rtn(eN);}},n,B);B.New=dD.Ctor(function(){n.New.call(this);},B);y.fusion=function(){dv.$cctor();return dv.fusion;};y.absorbO=function(eN,eO){return y.absorbR(y.map(function(eP){return r.ofOption(eN,eP);},eO));};y.absorbR=function(eN){return y.bind(y.ofResultRM,eN);};y.insertSnd=function(eN,eO){return y.map(function(eP){return[eP,eO];},eN);};y.insertFst=function(eN,eO){return y.map(function(eP){return[eN,eP];},eO);};y.insertR=function(eN){return eN.$==0?y.map(function(eO){return{$:0,$0:eO};},eN.$0):y.rtn(c.Error(eN.$0));};y.insertO=function(eN){var eO;eO=eN==null?null:{$:1,$0:y.map(function(eP){return{$:1,$0:eP};},eN.$0)};return eO==null?y.rtn(null):eO.$0;};y.iterResultPrint=function(eN){function eO(eP){c.print(eP);}y.iterReader(function(eP){return eO(g.summarized(eP));},function(eP){c.print(eP);},null,eN);};y.iterResult=function(eN,eO,eP){y.iterReader(eN,eO,null,eP);};y.runResult=function(eN){return y.runReader(null,eN);};y.runReader=function(eN,eO){var eP,eQ,eR;eP=y.run(eN,eO);eQ=eP[2];return r.ofOption(function(){return eQ;},(eR=eP[0],eR==null?null:{$:1,$0:[eR.$0,eQ]}));};y.mapReader=function(eN,eO){return y.mapState(function(){return eN;},a.id,eO);};y.readerFun=function(eN){return y.map(eN,y.getS());};y.sequenceSeq=function(eN){return y.traverseSeq(a.id,eN);};y.traverseSeq=function(eN,eO){return y.map(a.id,dI.foldBack(function(eP,eQ){return y.op_GreaterGreaterEquals(eN(eP),function(eR){return y.op_GreaterGreaterEquals(eQ,function(eS){return y.rtn(new dH.T({$:1,$0:eR,$1:eS}));});});},dI.ofSeq(eO),y.rtn(dH.T.Empty)));};y.op_GreaterGreaterEquals=function(eN,eO){return y.bind(eO,eN);};y.apply=function(eN,eO){return y.bind(function(eP){return y.map(eP,eO);},eN);};y.memoizeRm=function(eN,eO,eP){return{$:0,$0:function(eQ){var eR,eS,eT,eU,eV;function eW(eX,eY){return(eT(eX))(function(){return eY;});}eR=eQ[0];eS=eN(eR);eT=eS[1];return y.run(eR,(eU=(eV=eS[0](eP),eV==null?null:{$:1,$0:y.rtn(eV.$0)}),eU==null?y.map(function(eX){return eW(eP,eX);},eO(eP)):eU.$0));}};};y.iterReader=function(eN,eO,eP,eQ){var eR,eS;eR=y.run(eP,y.map(eO,eQ));eS=eR[2];(k.iter(a.ignore))(eR[0]);eS.$!==0?eN(eS):void 0;};y.mapState=function(eN,eO,eP){return{$:0,$0:function(eQ){var eR,eS;eR=eQ[0];eS=(y.getFun(eP))([eN(eR),eQ[1]]);return[eS[0],eO(eR,eS[1]),eS[2]];}};};y.freeMessageW=function(eN){var eO;function eP(eQ){return new g({$:2,$0:eQ});}return y.freeMessageF((eO=function(eQ){return function(eR){return eQ(a.String(eR));};}(a.id),function(eQ){return eP(eO(eQ));}),eN);};y.freeMessage=function(eN){var eO;function eP(eQ){return new g({$:1,$0:eQ});}return y.freeMessageF((eO=function(eQ){return function(eR){return eQ(a.String(eR));};}(a.id),function(eQ){return eP(eO(eQ));}),eN);};y.freeMessageF=function(eN,eO){return{$:0,$0:function(eP){var eQ,eR,eS;eQ=eP[0];eR=eP[1];try{eS=eO.$0([eQ,g.freeMessage(eR)]);return[eS[0],eS[1],g.freeMessageF(eN,eS[2])];}catch(eT){return[null,eQ,g.freeMessage(g.addMsg(eR,new g({$:5,$0:eT.message,$1:eT.stack})))];}}};};y.ofFusionM=function(eN){return y.from(eN);};y.ofResultMessage=function(eN){return y.OkFMsg(null,eN);};y.ofMessage=function(eN){return y.OkFMsg(null,new g({$:4,$0:eN}));};y.ofOption=function(eN,eO){return eO==null?y.ErrorF(eN()):y.OkF(eO.$0);};y.ofResult=function(eN){return eN.$==1?y.ErrorF(new g({$:1,$0:(function(eO){return function(eP){return eO(dE.prettyPrint(eP));};}(a.id))(eN.$0)})):y.OkF(eN.$0);};y.ofResultS=function(eN){return eN.$==1?y.ErrorF(new g({$:1,$0:eN.$0})):y.OkF(eN.$0);};y.ofResultM=function(eN){return eN.$==1?y.ErrorF(new g({$:4,$0:eN.$0})):y.OkF(eN.$0);};y.ofResultRM=function(eN){return eN.$==1?y.ErrorF(eN.$0):y.OkF(eN.$0);};y.inling=function(eN,eO){return{$:0,$0:function(eP){var eQ,eR,eS;eQ=eP[0];eR=eP[1];try{eS=eO.$0([eQ,eR]);return[{$:1,$0:eS[0]},eS[1],eS[2]];}catch(eT){return[null,eQ,g.addMsg(eR,new g({$:5,$0:eT.message,$1:eT.stack}))];}}};};y.check=function(){return{$:0,$0:function(eN){return[g.isFatal(eN[1])?null:{$:1,$0:null},eN[0],g.NoMsg];}};};y.putS=function(eN){return{$:0,$0:function(){return[{$:1,$0:null},eN,g.NoMsg];}};};y.getR=function(){return{$:0,$0:function(eN){return[{$:1,$0:eN[1]},eN[0],g.NoMsg];}};};y.getS=function(){return{$:0,$0:function(eN){var eO;eO=eN[0];return[{$:1,$0:eO},eO,g.NoMsg];}};};y.ErrorF=function(eN){return{$:0,$0:function(eO){return[null,eO[0],eN];}};};y.OkFMsg=function(eN,eO){return{$:0,$0:function(eP){return[{$:1,$0:eN},eP[0],eO];}};};y.OkF=function(eN){return{$:0,$0:function(eO){return[{$:1,$0:eN},eO[0],g.NoMsg];}};};y.run=function(eN,eO){return(y.getFun(eO))([eN,g.NoMsg]);};y.from=a.id;y.getFun=function(eN){return eN.$0;};y.wrap=function(eN){return{$:0,$0:eN};};y.map=function(eN,eO){return y.bind(function(eP){return y.rtn(eN(eP));},eO);};y.bind=function(eN,eO){return{$:0,$0:function(eP){var eQ,eR,eS,eT,eU,eV,eW;eQ=eP[0];eR=eP[1];try{eS=eO.$0([eQ,eR]);eT=eS[0];eU=eS[1];eV=eS[2];return eT!=null&&eT.$==1?(eW=eN(eT.$0).$0([eU,g.addMsg(eR,eV)]),[eW[0],eW[1],g.addMsg(eV,eW[2])]):[null,eU,eV];}catch(eX){return[null,eQ,g.addMsg(eR,new g({$:5,$0:eX.message,$1:eX.stack}))];}}};};y.rtn=function(eN){return{$:0,$0:function(eO){return[{$:1,$0:eN},eO[0],g.NoMsg];}};};D.rtn=function(eN){return C.rtn(eN);};D.op_GreaterEqualsGreater=function(eN,eO,eP){return D.op_GreaterGreaterEquals(eN(eP),eO);};D.op_RightShift=function(eN,eO,eP){return D.op_BarGreaterGreater(eN(eP),eO);};D.op_GreaterGreaterEquals=function(eN,eO){return C.bind(eO,eN);};D.op_BarGreaterGreater=function(eN,eO){return C.map(eO,eN);};D.op_LessMultiplyGreater=function(eN,eO){return C.apply(eN,eO);};F=E.Builder=dD.Class({For:function(eN,eO){var eP;eP=this;return this.Using(dK.Get(eN),function(eQ){return eP.While(function(){return eQ.MoveNext();},eP.Delay(function(){return eO(eQ.Current());}));});},Using:function(eN,eO){function eP(eQ,eR){return dJ.Using(eN,function(eS){return(C.getFun(eO(eS)))([eQ,eR]);});}return C.wrap(function(eQ){return eP(eQ[0],eQ[1]);});},TryFinally:function(eN,eO){function eP(eQ,eR){return dJ.TryFinally((C.getFun(eN()))([eQ,eR]),eO);}return C.wrap(function(eQ){return eP(eQ[0],eQ[1]);});},TryWith:function(eN,eO){function eP(eQ,eR){return dJ.TryWith((C.getFun(eN()))([eQ,eR]),eO);}return C.wrap(function(eQ){return eP(eQ[0],eQ[1]);});},While:function(eN,eO){function eP(eQ,eR){return eQ()?C.bind(function(){return eP(eQ,eR);},eR()):C.rtn();}return eP(eN,eO);},Run:function(eN){return C.wrap(function(eO){return(C.getFun(eN()))(eO);});},Combine:function(eN,eO){return C.bind(eO,eN);},Delay:a.id,Zero:function(){return C.rtn();},Bind:function(eN,eO){return C.bind(eO,eN);},ReturnFrom:function(eN){return C.from(eN);},Return:function(eN){return C.rtn(eN);}},n,F);F.New=dD.Ctor(function(){n.New.call(this);},F);C.fusion=function(){dv.$cctor();return dv.fusion$1;};C.iterResultPrintA=function(eN){function eO(eP){c.print(eP);}C.iterReaderA(function(eP){return eO(g.summarized(eP));},function(eP){c.print(eP);},null,eN);};C.iterResultPrint=function(eN){function eO(eP){c.print(eP);}C.iterReader(function(eP){return eO(g.summarized(eP));},function(eP){c.print(eP);},null,eN);};C.iterResultA=function(eN,eO,eP){C.iterReaderA(eN,eO,null,eP);};C.iterResult=function(eN,eO,eP){C.iterReader(eN,eO,null,eP);};C.runResult=function(eN){return C.runReader(null,eN);};C.runReader=function(eN,eO){function eP(eR,eS,eT){return r.ofOption(function(){return eT;},eR==null?null:{$:1,$0:[eR.$0,eT]});}function eQ(eR){return dJ.Return(eR);}return dJ.Bind(C.run(eN,eO),function(eR){return eQ(eP.apply(null,eR));});};C.mapReader=function(eN,eO){return C.mapState(function(){return eN;},a.id,eO);};C.absorbO=function(eN,eO){return C.absorbR(C.map(function(eP){return r.ofOption(eN,eP);},eO));};C.absorbR=function(eN){return C.bind(C.ofResultRM,eN);};C.insertSnd=function(eN,eO){return C.map(function(eP){return[eP,eO];},eN);};C.insertFst=function(eN,eO){return C.map(function(eP){return[eN,eP];},eO);};C.insertR=function(eN){return eN.$==0?C.map(function(eO){return{$:0,$0:eO};},eN.$0):C.rtn(c.Error(eN.$0));};C.insertO=function(eN){var eO;eO=eN==null?null:{$:1,$0:C.map(function(eP){return{$:1,$0:eP};},eN.$0)};return eO==null?C.rtn(null):eO.$0;};C.readerFun=function(eN){return C.map(eN,C.getS());};C.freeMessageW=function(eN){var eO;function eP(eQ){return new g({$:2,$0:eQ});}return C.freeMessageF((eO=function(eQ){return function(eR){return eQ(a.String(eR));};}(a.id),function(eQ){return eP(eO(eQ));}),eN);};C.freeMessage=function(eN){var eO;function eP(eQ){return new g({$:1,$0:eQ});}return C.freeMessageF((eO=function(eQ){return function(eR){return eQ(a.String(eR));};}(a.id),function(eQ){return eP(eO(eQ));}),eN);};C.sequenceSeq=function(eN){return C.traverseSeq(a.id,eN);};C.traverseSeq=function(eN,eO){return C.map(a.id,dI.foldBack(function(eP,eQ){return C.op_GreaterGreaterEquals(eN(eP),function(eR){return C.op_GreaterGreaterEquals(eQ,function(eS){return C.rtn(new dH.T({$:1,$0:eR,$1:eS}));});});},dI.ofSeq(eO),C.rtn(dH.T.Empty)));};C.op_GreaterGreaterEquals=function(eN,eO){return C.bind(eO,eN);};C.apply=function(eN,eO){return C.bind(function(eP){return C.map(eP,eO);},eN);};C.memoizeRm=function(eN,eO,eP){return{$:0,$0:function(eQ){var eR,eS;eR=eQ[0];eS=null;return dJ.Delay(function(){var eT,eU,eV,eW;function eX(eY,eZ){return(eU(eY))(function(){return eZ;});}eT=eN(eR);eU=eT[1];return C.run(eR,(eV=(eW=eT[0](eP),eW==null?null:{$:1,$0:C.rtn(eW.$0)}),eV==null?C.map(function(eY){return eX(eP,eY);},eO(eP)):eV.$0));});}};};C.iterReaderA=function(eN,eO,eP,eQ){function eR(eT,eU,eV){(k.iter(a.ignore))(eT);eV.$!==0?eN(eV):void 0;}function eS(eT){return dJ.Return(eT);}dJ.Start(dJ.Bind(C.run(eP,C.map(eO,eQ)),function(eT){return eS(eR.apply(null,eT));}),null);};C.iterReader=function(eN,eO,eP,eQ){var eR;eR=C.run(eP,C.map(eO,eQ));throw"iterS cannot be used in JavaScript!";};C.mapState=function(eN,eO,eP){return{$:0,$0:function(eQ){var eR,eS,eT;eR=eQ[0];eS=eQ[1];eT=null;return dJ.Delay(function(){return dJ.Bind((C.getFun(eP))([eN(eR),eS]),function(eU){return dJ.Return([eU[0],eO(eR,eU[1]),eU[2]]);});});}};};C.freeMessageF=function(eN,eO){return{$:0,$0:function(eP){var eQ,eR,eS;eQ=eP[0];eR=eP[1];eS=null;return dJ.Delay(function(){return dJ.TryWith(dJ.Delay(function(){return dJ.Bind(eO.$0([eQ,g.freeMessage(eR)]),function(eT){return dJ.Return([eT[0],eT[1],g.freeMessageF(eN,eT[2])]);});}),function(eT){return dJ.Return([null,eQ,g.freeMessage(g.addMsg(eR,new g({$:5,$0:eT.message,$1:eT.stack})))]);});});}};};C.ofFusionM=function(eN){var eO;eO=eN.$0;return{$:0,$0:function(eP){return dJ.Return(eO([eP[0],eP[1]]));}};};C.ofAsyncResultRM=function(eN){return C.bind(C.ofResultRM,C.ofAsync(eN));};C.ofAsync=function(eN){return{$:0,$0:function(eO){var eP;function eQ(eS){return[{$:1,$0:eS},eP,g.NoMsg];}function eR(eS){return dJ.Return(eS);}eP=eO[0];return dJ.Bind(eN,function(eS){return eR(eQ(eS));});}};};C.ofResultMessage=function(eN){return C.OkFMsg(null,eN);};C.ofMessage=function(eN){return C.OkFMsg(null,new g({$:4,$0:eN}));};C.ofOption=function(eN,eO){var eP;eP=eO==null?null:{$:1,$0:C.OkF(eO.$0)};return eP==null?function(eQ){return C.ErrorF(eN(eQ));}():eP.$0;};C.ofResult=function(eN){return eN.$==1?C.ErrorF(new g({$:1,$0:(function(eO){return function(eP){return eO(dE.prettyPrint(eP));};}(a.id))(eN.$0)})):C.OkF(eN.$0);};C.ofResultS=function(eN){return eN.$==1?C.ErrorF(new g({$:1,$0:eN.$0})):C.OkF(eN.$0);};C.ofResultM=function(eN){return eN.$==1?C.ErrorF(new g({$:4,$0:eN.$0})):C.OkF(eN.$0);};C.ofResultRM=function(eN){return eN.$==1?C.ErrorF(eN.$0):C.OkF(eN.$0);};C.getOption=function(eN){return{$:0,$0:function(eO){var eP,eQ,eR;eP=eO[0];eQ=eO[1];eR=null;return dJ.Delay(function(){return dJ.TryWith(dJ.Delay(function(){return dJ.Bind(eN.$0([eP,eQ]),function(eS){return dJ.Return([{$:1,$0:eS[0]},eS[1],eS[2]]);});}),function(eS){return dJ.Return([null,eP,g.addMsg(eQ,new g({$:5,$0:eS.message,$1:eS.stack}))]);});});}};};C.check=function(){return{$:0,$0:function(eN){return dJ.Return([g.isFatal(eN[1])?null:{$:1,$0:null},eN[0],g.NoMsg]);}};};C.putS=function(eN){return{$:0,$0:function(){return dJ.Return([{$:1,$0:null},eN,g.NoMsg]);}};};C.getR=function(){return{$:0,$0:function(eN){return dJ.Return([{$:1,$0:eN[1]},eN[0],g.NoMsg]);}};};C.getS=function(){return{$:0,$0:function(eN){var eO;eO=eN[0];return dJ.Return([{$:1,$0:eO},eO,g.NoMsg]);}};};C.ErrorF=function(eN){return{$:0,$0:function(eO){return dJ.Return([null,eO[0],eN]);}};};C.OkFMsg=function(eN,eO){return{$:0,$0:function(eP){return dJ.Return([{$:1,$0:eN},eP[0],eO]);}};};C.OkF=function(eN){return{$:0,$0:function(eO){return dJ.Return([{$:1,$0:eN},eO[0],g.NoMsg]);}};};C.run=function(eN,eO){return(C.getFun(eO))([eN,g.NoMsg]);};C.from=a.id;C.getFun=function(eN){return eN.$0;};C.wrap=function(eN){return{$:0,$0:eN};};C.map=function(eN,eO){return C.bind(function(eP){return C.rtn(eN(eP));},eO);};C.bind=function(eN,eO){return{$:0,$0:function(eP){var eQ,eR,eS;eQ=eP[0];eR=eP[1];eS=null;return dJ.Delay(function(){return dJ.TryWith(dJ.Delay(function(){return dJ.Bind(eO.$0([eQ,eR]),function(eT){var eU,eV,eW;eU=eT[0];eV=eT[1];eW=eT[2];return eU!=null&&eU.$==1?dJ.Bind(eN(eU.$0).$0([eV,g.addMsg(eR,eW)]),function(eX){return dJ.Return([eX[0],eX[1],g.addMsg(eW,eX[2])]);}):dJ.Return([null,eV,eW]);});}),function(eT){return dJ.Return([null,eQ,g.addMsg(eR,new g({$:5,$0:eT.message,$1:eT.stack}))]);});});}};};C.rtn=function(eN){return{$:0,$0:function(eO){return dJ.Return([{$:1,$0:eN},eO[0],g.NoMsg]);}};};H=G.Builder=dD.Class({For:function(eN,eO){var eP;eP=this;return this.Using(dK.Get(eN),function(eQ){return eP.While(function(){return eQ.MoveNext();},eP.Delay(function(){return eO(eQ.Current());}));});},While:function(eN,eO){function eP(eQ,eR){return eQ()?G.bind(function(){return eP(eQ,eR);},eR()):G.rtn();}return eP(eN,eO);},Using:function(eN,eO){try{return eO(eN);}finally{eN.Dispose();}},TryFinally:function(eN,eO){try{return eN();}finally{eO();}},TryWith:function(eN,eO){try{return eN();}catch(eP){return eO(eP);}},Run:function(eN){return G.bindP(eN,i.OkM$1());},Combine:function(eN,eO){return G.bind(eO,eN);},Delay:a.id,Zero:function(){return G.rtn();},Bind:function(eN,eO){return G.bindM(eO,eN);},Bind$1:function(eN,eO){return G.bindP(eO,eN);},ReturnFrom:function(eN){return G.rtnM(eN);},ReturnFrom$1:a.id,ReturnFrom$2:a.id,Return:function(eN){return G.rtn(eN);}},n,H);H.New=dD.Ctor(function(){n.New.call(this);},H);I.rtn=function(eN){return G.rtn(eN);};I.op_GreaterEqualsGreater=function(eN,eO,eP){return I.op_GreaterGreaterEquals(eN(eP),eO);};I.op_RightShift=function(eN,eO,eP){return I.op_BarGreaterGreater(eN(eP),eO);};I.op_GreaterGreaterEquals=function(eN,eO){return G.bindP(eO,eN);};I.op_BarGreaterGreater=function(eN,eO){return G.mapP(eO,eN);};G.sequenceSeq=function(eN){return G.traverseSeq(a.id,eN);};G.traverseSeq=function(eN,eO){return G.map(a.id,dI.foldBack(function(eP,eQ){return G.op_GreaterGreaterEquals(eN(eP),function(eR){return G.op_GreaterGreaterEquals(eQ,function(eS){return G.rtn(new dH.T({$:1,$0:eR,$1:eS}));});});},dI.ofSeq(eO),G.rtn(dH.T.Empty)));};G.op_GreaterGreaterEquals=function(eN,eO){return G.bind(eO,eN);};G.failIfFatalMsgW=function(eN){var eO;eO=i.OkM(eN);return eO.$==0?g.isFatalW(eO.$0[1])?i.ErrorM(eO.$0[1]):eN:eN;};G.failIfFatalMsg=function(eN){var eO;eO=i.OkM(eN);return eO.$==0?g.isFatal(eO.$0[1])?i.ErrorM(eO.$0[1]):eN:eN;};G.failIfFatalMsgF=function(eN,eO){var eP;eP=i.OkM(eO);return eP.$==0?g.isFatalF(eN,eP.$0[1])?i.ErrorM(eP.$0[1]):eO:eO;};G.addMsg=function(eN,eO){return G.mapMessage(function(eP){return g.addMsg(eN,eP);},eO);};G.absorbO=function(eN,eO){return G.bindP(function(eP){return G.ofOption(eN,eP);},eO);};G.insertO=function(eN){var eO;eO=eN==null?null:{$:1,$0:G.map(function(eP){return{$:1,$0:eP};},eN.$0)};return eO==null?i.OkM$1(null):eO.$0;};G.ofResult=function(eN){return G.rtnr(eN);};G.ofOption=function(eN,eO){var eP;eP=eO==null?null:{$:1,$0:i.OkM$1(eO.$0)};return eP==null?function(eQ){return i.ErrorM(eN(eQ));}():eP.$0;};G.get=function(eN){return G.defaultWith(function(eO){return dM.FailWith(a.String(eO));},eN);};G.iter=function(eN,eO,eP){var eQ;eQ=G.mapP(eO,eP);eQ.$0==null?eN(eQ.$1):void 0;};G.mapP=function(eN,eO){return G.bindP(function(eP){return G.rtn(eN(eP));},eO);};G.check=function(eN,eO){var eP;return(eP=eO.$0,eP!=null&&eP.$==1)?g.isFatalF(eN.$0,eO.$1)?i.ErrorM(eO.$1):eO:eO;};G.bindM=function(eN,eO){return G.bindP(eN,G.rtnM(eO));};G.bindP=function(eN,eO){var eP;if(eO.$0==null)return{$:0,$0:null,$1:eO.$1};else{eP=eO.$1;try{return G.mapMessage(function(eQ){return g.addMsg(eP,eQ);},eN(eO.$0.$0));}catch(eQ){return i.ErrorM(new g({$:5,$0:eQ.message,$1:eQ.stack}));}}};G.bind=function(eN,eO){var eP;return eO.$0==null?{$:0,$0:null,$1:eO.$1}:(eP=eO.$1,G.mapMessage(function(eQ){return g.addMsg(eP,eQ);},eN(eO.$0.$0)));};G.mapMessage=function(eN,eO){return{$:0,$0:eO.$0,$1:eN(eO.$1)};};G.map=function(eN,eO){var eP;return{$:0,$0:(eP=eO.$0,eP==null?null:{$:1,$0:eN(eP.$0)}),$1:eO.$1};};G.defaultValue=function(eN,eO){return r.defaultValue(eN,G.toResult(eO));};G.defaultWith=function(eN,eO){return r.defaultWith(eN,G.toResult(eO));};G.toOption=function(eN){return eN.$0;};G.toResultD=function(eN){return eN.$0==null?c.Error(eN.$1):{$:0,$0:[eN.$0.$0,eN.$1]};};G.toResult=function(eN){return eN.$0==null?c.Error(eN.$1):{$:0,$0:eN.$0.$0};};G.freeMessage=function(eN){return eN.$==1?c.Error(g.freeMessage(eN.$0)):{$:0,$0:eN.$0};};G.rtnr=function(eN){return r.defaultWith(i.ErrorM,dL.Map(i.OkM$1,eN));};G.rtnM=function(eN){return i.OkMWithMsg(null,eN);};G.rtn=function(eN){return i.OkM$1(eN);};G.checkErrorW=function(){return{$:0,$0:function(){return false;}};};G.checkError=function(){return{$:0,$0:function(){return true;}};};J.resultM=function(){dv.$cctor();return dv.resultM;};K.tryFinally=function(eN,eO){var eP;eP=null;return dJ.Delay(function(){return dJ.TryFinally(dJ.Delay(function(){return eO();}),function(){eN();});});};K.tryWith=function(eN,eO){var eP;eP=null;return dJ.Delay(function(){return dJ.TryWith(dJ.Delay(function(){return eO();}),function(eQ){return eN(eQ);});});};K.absorbO=function(eN,eO){function eP(eR){return r.absorbO(eN,eR);}function eQ(eR){return dJ.Return(eR);}return dJ.Bind(eO,function(eR){return eQ(eP(eR));});};K.absorbR=function(eN){function eO(eP){return dJ.Return(eP);}return dJ.Bind(eN,function(eP){return eO(r.join(eP));});};K.insertR=function(eN){return eN.$==0?K.map(function(eO){return{$:0,$0:eO};},eN.$0):K.rtn(c.Error(eN.$0));};K.insertO=function(eN){var eO;eO=eN==null?null:{$:1,$0:K.map(function(eP){return{$:1,$0:eP};},eN.$0)};return eO==null?K.rtn(null):eO.$0;};K.sequenceSeqS=function(eN){return function(){throw"traverseSeqS cannot be used in JavaScript!";};};K.sequenceSeq=function(eN){return K.traverseSeq(a.id,eN);};K.traverseSeq=function(eN,eO){return dG.fold(function(eP,eQ){return K.op_GreaterGreaterEquals(eN(eQ),function(eR){return K.op_GreaterGreaterEquals(eP,function(eS){return K.rtn(dG.append(eS,[eR]));});});},K.rtn([]),eO);};K.op_GreaterGreaterEquals=function(eN,eO){return K.bind(eO,eN);};K.whileLoop=function(eN,eO){return eN()?K.bind(function(){return K.whileLoop(eN,eO);},eO()):K.rtn();};K.getResult=function(eN){function eO(eQ){return{$:0,$0:eQ};}function eP(eQ){return dJ.Return(eQ);}return dJ.Bind(eN,function(eQ){return eP(eO(eQ));});};K.mapP=function(eN,eO){return K.bindP(function(eP){return K.rtn(eN(eP));},eO);};K.map=function(eN,eO){return K.bind(function(eP){return K.rtn(eN(eP));},eO);};K.bindP=function(eN,eO){var eP;eP=null;return dJ.Delay(function(){return dJ.TryWith(dJ.Delay(function(){return dJ.Bind(eO,function(eQ){return eQ.$==1?dJ.Return(c.Error(eQ.$0)):eN(eQ.$0);});}),function(eQ){return dJ.Return(c.Error(new g({$:5,$0:eQ.message,$1:eQ.stack})));});});};K.bind=function(eN,eO){var eP;eP=null;return dJ.Delay(function(){return dJ.Bind(eO,function(eQ){return eQ.$==1?dJ.Return(c.Error(eQ.$0)):eN(eQ.$0);});});};K.iterA=function(eN,eO,eP){function eQ(eS){r.iter(eN,eO,eS);}function eR(eS){return dJ.Return(eS);}dJ.Start(dJ.Bind(eP,function(eS){return eR(eQ(eS));}),null);};K.iterS=function(eN,eO,eP){throw"iterS cannot be used in JavaScript!";};K.rtnR=function(eN){return dJ.Return(eN);};K.rtn=function(eN){return dJ.Return({$:0,$0:eN});};K.freeMessage=function(eN){function eO(eP){return dJ.Return(eP);}return dJ.Bind(eN,function(eP){return eO(r.freeMessage(eP));});};K.mapError=function(eN,eO){function eP(eR){return dL.MapError(eN,eR);}function eQ(eR){return dJ.Return(eR);}return dJ.Bind(eO,function(eR){return eQ(eP(eR));});};L=i.AsyncResultBuilder=dD.Class({For:function(eN,eO){var eP;eP=this;return this.Using(dK.Get(eN),function(eQ){return eP.While(function(){return eQ.MoveNext();},eP.Delay(function(){return eO(eQ.Current());}));});},While:function(eN,eO){return K.whileLoop(eN,eO);},Using:function(eN,eO){return dJ.Using(eN,eO);},TryFinally:function(eN,eO){var eP;eP=null;return dJ.Delay(function(){return dJ.TryFinally(dJ.Delay(function(){return eN();}),function(){eO();});});},TryWith:function(eN,eO){var eP;eP=null;return dJ.Delay(function(){return dJ.TryWith(dJ.Delay(function(){return eN();}),function(eQ){return eO(eQ);});});},Run:function(eN){return K.bind(eN,K.rtn());},Delay:a.id,Combine:function(eN,eO){return K.bind(eO,K.rtnR(eN));},Combine$1:function(eN,eO){return K.bind(eO,eN);},Bind:function(eN,eO){return K.bind(eO,K.rtnR(eN));},Bind$1:function(eN,eO){return K.bind(eO,eN);},Zero:function(){return K.rtn();},Return:function(eN){return K.rtn(eN);},ReturnFrom:function(eN){return K.rtnR(eN);},ReturnFrom$1:a.id},n,L);L.New=dD.Ctor(function(){n.New.call(this);},L);M=i.AsyncResultBuilderP=dD.Class({For:function(eN,eO){var eP;eP=this;return this.Using(dK.Get(eN),function(eQ){return eP.While(function(){return eQ.MoveNext();},eP.Delay(function(){return eO(eQ.Current());}));});},While:function(eN,eO){return K.whileLoop(eN,eO);},Using:function(eN,eO){return dJ.Using(eN,eO);},TryFinally:function(eN,eO){var eP;eP=null;return dJ.Delay(function(){try{return eN();}finally{eO();}});},TryWith:function(eN,eO){var eP;eP=null;return dJ.Delay(function(){try{return eN();}catch(eQ){return eO(eQ);}});},Run:function(eN){return K.bindP(eN,K.rtn());},Delay:a.id,Combine:function(eN,eO){return K.bindP(eO,K.rtnR(eN));},Combine$1:function(eN,eO){return K.bindP(eO,eN);},Bind:function(eN,eO){return K.bindP(eO,K.rtnR(eN));},Bind$1:function(eN,eO){return K.bindP(eO,eN);},Zero:function(){return K.rtn();},Return:function(eN){return K.rtn(eN);},ReturnFrom:function(eN){return K.rtnR(eN);},ReturnFrom$1:a.id},n,M);M.New=dD.Ctor(function(){n.New.call(this);},M);N["AsyncResultBuilderP.Combine"]=function(eN,eO,eP){function eQ(eS){return{$:0,$0:eS};}function eR(eS){return dJ.Return(eS);}return K.bindP(eP,dJ.Bind(eO,function(eS){return eR(eQ(eS));}));};N["AsyncResultBuilderP.Bind"]=function(eN,eO,eP){function eQ(eS){return{$:0,$0:eS};}function eR(eS){return dJ.Return(eS);}return K.bindP(eP,dJ.Bind(eO,function(eS){return eR(eQ(eS));}));};N["AsyncResultBuilderP.ReturnFrom"]=function(eN,eO){function eP(eR){return{$:0,$0:eR};}function eQ(eR){return dJ.Return(eR);}return dJ.Bind(eO,function(eR){return eQ(eP(eR));});};N["AsyncResultBuilder.Combine"]=function(eN,eO,eP){function eQ(eS){return{$:0,$0:eS};}function eR(eS){return dJ.Return(eS);}return K.bind(eP,dJ.Bind(eO,function(eS){return eR(eQ(eS));}));};N["AsyncResultBuilder.Bind"]=function(eN,eO,eP){function eQ(eS){return{$:0,$0:eS};}function eR(eS){return dJ.Return(eS);}return K.bind(eP,dJ.Bind(eO,function(eS){return eR(eQ(eS));}));};N["AsyncResultBuilder.ReturnFrom"]=function(eN,eO){function eP(eR){return{$:0,$0:eR};}function eQ(eR){return dJ.Return(eR);}return dJ.Bind(eO,function(eR){return eQ(eP(eR));});};P=O.AsyncResultMBuilder=dD.Class({For:function(eN,eO){var eP;eP=this;return this.Using(dK.Get(eN),function(eQ){return eP.While(function(){return eQ.MoveNext();},eP.Delay(function(){return eO(eQ.Current());}));});},While:function(eN,eO){return O.whileLoop(eN,eO);},Using:function(eN,eO){return dJ.Using(eN,eO);},TryFinally:function(eN,eO){var eP;eP=null;return dJ.Delay(function(){return dJ.TryFinally(dJ.Delay(function(){return eN();}),function(){eO();});});},TryWith:function(eN,eO){var eP;eP=null;return dJ.Delay(function(){return dJ.TryWith(dJ.Delay(function(){return eN();}),function(eQ){return eO(eQ);});});},Run:function(eN){return O.bind(eN,O.rtn());},Delay:a.id,Combine:function(eN,eO){return O.bind(eO,O.rtnR(eN));},Combine$1:function(eN,eO){return O.bind(eO,eN);},Bind:function(eN,eO){return O.bindrA(eO,eN);},Bind$1:function(eN,eO){return O.bindR(eO,eN);},Bind$2:function(eN,eO){return O.bindM(eO,eN);},Bind$3:function(eN,eO){return O.bindr(eO,eN);},Bind$4:function(eN,eO){return O.bind(eO,eN);},Zero:function(){return O.rtn();},Return:function(eN){return O.rtn(eN);},ReturnFrom:function(eN){return O.rtnrA(eN);},ReturnFrom$1:function(eN){return O.rtnR(eN);},ReturnFrom$2:function(eN){return O.rtnM(eN);},ReturnFrom$3:function(eN){return O.rtnr(eN);},ReturnFrom$4:a.id},n,P);P.New=dD.Ctor(function(){n.New.call(this);},P);Q.rtn=function(eN){return O.rtn(eN);};Q.op_GreaterEqualsGreater=function(eN,eO,eP){return Q.op_GreaterGreaterEquals(eN(eP),eO);};Q.op_GreaterMinusGreater=function(eN,eO,eP){return Q.op_BarGreaterGreater(eN(eP),eO);};Q.op_GreaterGreaterEquals=function(eN,eO){return O.bind(eO,eN);};Q.op_BarGreaterGreater=function(eN,eO){return O.map(eO,eN);};O.getResultM=function(eN){function eO(eP){return dJ.Return(eP);}return dJ.Bind(eN,function(eP){return eO(i.OkM$1(eP));});};O.absorbO=function(eN,eO){function eP(eR){return G.absorbO(eN,eR);}function eQ(eR){return dJ.Return(eR);}return dJ.Bind(eO,function(eR){return eQ(eP(eR));});};O.absorbR=function(eN){var eO;function eP(eQ){return dJ.Return(eQ);}return dJ.Bind(eN,(eO=function(eQ){return G.bindP(a.id,eQ);},function(eQ){return eP(eO(eQ));}));};O.insertR=function(eN){return eN.$==0?O.map(function(eO){return{$:0,$0:eO};},eN.$0):O.rtn(c.Error(eN.$0));};O.insertO=function(eN){var eO;eO=eN==null?null:{$:1,$0:O.map(function(eP){return{$:1,$0:eP};},eN.$0)};return eO==null?O.rtn(null):eO.$0;};O.sequenceSeq=function(eN){return O.traverseSeq(a.id,eN);};O.traverseSeq=function(eN,eO){return O.map(a.id,dI.foldBack(function(eP,eQ){return O.op_GreaterGreaterEquals(eN(eP),function(eR){return O.op_GreaterGreaterEquals(eQ,function(eS){return O.rtn(new dH.T({$:1,$0:eR,$1:eS}));});});},dI.ofSeq(eO),O.rtn(dH.T.Empty)));};O.op_GreaterGreaterEquals=function(eN,eO){return O.bind(eO,eN);};O.whileLoop=function(eN,eO){return eN()?O.bind(function(){return O.whileLoop(eN,eO);},eO()):O.rtn();};O.map=function(eN,eO){return O.bind(function(eP){return O.rtn(eN(eP));},eO);};O.bindR=function(eN,eO){return O.bind(eN,O.rtnR(eO));};O.bindrA=function(eN,eO){return O.bind(eN,O.rtnrA(eO));};O.bindM=function(eN,eO){return O.bind(eN,O.rtnM(eO));};O.bindr=function(eN,eO){return O.bind(eN,O.rtnr(eO));};O.bind=function(eN,eO){var eP;eP=null;return dJ.Delay(function(){return dJ.TryWith(dJ.Delay(function(){return dJ.Bind(eO,function(eQ){var eR,eS;function eT(eV){return G.addMsg(eS,eV);}function eU(eV){return dJ.Return(eV);}eR=i.OkM(eQ);return eR.$==1?dJ.Return(i.ErrorM(eR.$0)):(eS=eR.$0[1],dJ.Bind(eN(eR.$0[0]),function(eV){return eU(eT(eV));}));});}),function(eQ){return dJ.Return(i.ErrorM(new g({$:5,$0:eQ.message,$1:eQ.stack})));});});};O.iterpA=function(eN,eO){function eP(eQ){c.print(eQ);}O.iterA(function(eQ){return eP(g.summarized(eQ));},eN,eO);};O.iterpS=function(eN,eO){function eP(eQ){c.print(eQ);}O.iterS(function(eQ){return eP(g.summarized(eQ));},eN,eO);};O.iterA=function(eN,eO,eP){function eQ(eS){G.iter(eN,eO,eS);}function eR(eS){return dJ.Return(eS);}dJ.Start(dJ.Bind(eP,function(eS){return eR(eQ(eS));}),null);};O.iterS=function(eN,eO,eP){throw"iterS cannot be used in JavaScript!";};O.errorMsgf=function(eN){var eO;function eP(eR){return new g({$:1,$0:eR});}function eQ(eR){return dJ.Return(eR);}return eN((eO=function(eR){return i.ErrorM(eP(eR));},function(eR){return eQ(eO(eR));}));};O.rtnrA=function(eN){function eO(eP){return dJ.Return(eP);}return dJ.Bind(eN,function(eP){return eO(G.ofResult(eP));});};O.rtnM=function(eN){return dJ.Return(G.rtnM(eN));};O.rtnR=function(eN){return dJ.Return(eN);};O.rtnr=function(eN){return dJ.Return(G.rtnr(eN));};O.rtn=function(eN){return dJ.Return(i.OkM$1(eN));};O.freeMessage=function(eN){function eO(eP){return dJ.Return(eP);}return dJ.Bind(eN,function(eP){return eO(G.freeMessage(eP));});};O.mapError=function(eN,eO){function eP(eR){return G.mapMessage(eN,eR);}function eQ(eR){return dJ.Return(eR);}return dJ.Bind(eO,function(eR){return eQ(eP(eR));});};R["AsyncResultMBuilder.Combine"]=function(eN,eO,eP){function eQ(eR){return dJ.Return(eR);}return O.bind(eP,dJ.Bind(eO,function(eR){return eQ(i.OkM$1(eR));}));};R["AsyncResultMBuilder.Bind"]=function(eN,eO,eP){function eQ(eR){return dJ.Return(eR);}return O.bind(eP,dJ.Bind(eO,function(eR){return eQ(i.OkM$1(eR));}));};R["AsyncResultMBuilder.ReturnFrom"]=function(eN,eO){function eP(eQ){return dJ.Return(eQ);}return dJ.Bind(eO,function(eQ){return eP(i.OkM$1(eQ));});};R.asyncResultM=function(){dv.$cctor();return dv.asyncResultM;};i.asyncResultP=function(){dv.$cctor();return dv.asyncResultP;};i.asyncResult=function(){dv.$cctor();return dv.asyncResult;};i.OkM=function(eN){return eN.$0==null?{$:1,$0:eN.$1}:{$:0,$0:[eN.$0.$0,eN.$1]};};i.ErrorM=function(eN){return{$:0,$0:null,$1:eN};};i.OkMWithMsg=function(eN,eO){return{$:0,$0:{$:1,$0:eN},$1:eO};};i.OkM$1=function(eN){return{$:0,$0:{$:1,$0:eN},$1:g.NoMsg};};S.thousands=function(eN){var eO,eP,eQ,eR;eO=(eP=eN<0?-eN:eN,a.String(eP));eQ=eO.length%3;eR=eQ===0?3:eQ;return eN<0?"-"+dF.concat(",",dH.ofSeq(dG.delay(function(){return dG.append([dO.string(eO,{$:1,$0:0},{$:1,$0:eR-1})],dG.delay(function(){return dG.map(function(eS){return dO.string(eO,{$:1,$0:eS*3+eR},{$:1,$0:eS*3+eR+2});},dM.range(0,((eO.length-eR)/3>>0)-1));}));}))):dF.concat(",",dH.ofSeq(dG.delay(function(){return dG.append([dO.string(eO,{$:1,$0:0},{$:1,$0:eR-1})],dG.delay(function(){return dG.map(function(eS){return dO.string(eO,{$:1,$0:eS*3+eR},{$:1,$0:eS*3+eR+2});},dM.range(0,((eO.length-eR)/3>>0)-1));}));})));};S.WhiteSpace=function(eN){function eO(eP){return!eP;}return dG.exists(function(eP){return eO(dP.IsWhiteSpace(eP));},eN)?null:{$:1,$0:null};};S.EndsWith=function(eN,eO){return dF.EndsWith(eO,eN)?{$:1,$0:dO.string(eO,{$:1,$0:0},{$:1,$0:eO.length-eN.length-1})}:null;};S.StartsWith=function(eN,eO){return dF.StartsWith(eO,eN)?{$:1,$0:dO.string(eO,{$:1,$0:eN.length},null)}:null;};S.skipLastLine=function(){dv.$cctor();return dv.skipLastLine;};S.indentStr=function(eN){function eO(eQ){return S.indent(eN,eQ);}function eP(eQ){return dF.concat("\n",eQ);}return function(eQ){return eP(eO(eQ));};};S.unindentStr=function(){dv.$cctor();return dv.unindentStr;};S.indent=function(eN,eO){var eP,eQ;eP=dF.SplitChars(eO,["\n"],0);return dG.map((eQ=dF.replicate(eN," "),function(eR){return eQ+eR;}),eP);};S.unindent=function(eN){var eO,eP,eQ,eR;eO=dF.SplitChars(eN,["\n"],0);eP=(eQ=dG.tryFindIndex(function(eS){return" "!==eS;},(eR=dG.tryFind(function(eS){return dF.Trim(eS)!=="";},eO),eR==null?"":eR.$0)),eQ==null?0:eQ.$0);return dG.filter(function(eS){return!dF.StartsWith(eS,"# 1 ");},dG.map(function(eS){return eS.length<=eP?"":eS.substring(eP);},eO));};S.skipFirstLine=function(eN){var eO;eO=eN.indexOf("\n");return eO<0?"":dO.string(eN,{$:1,$0:eO+1},null);};S.append=function(eN,eO){return eN+eO;};S.right=function(eN,eO){return c["String.Right"](eO,eN);};S.left=function(eN,eO){return c["String.Left"](eO,eN);};S.trim=function(eN){return dF.Trim(eN);};S.contains=function(eN,eO){return eO.indexOf(eN)!=-1;};S.delimitedO=function(eN,eO,eP){var eQ,eR,eS,eT,eU;eQ=S.splitInTwoO(eN,eP);return eQ==null?null:(eR=eQ.$0,(eS=eR[0],(eT=S.splitInTwoO(eO,eR[1]),eT==null?null:{$:1,$0:(eU=eT.$0,[eS,eU[0],eU[1]])})));};S.splitInTwoO=function(eN,eO){var eP;eP=eO.indexOf(eN);return eP===-1?null:{$:1,$0:[c["String.Left"](eO,eP),eO.substring(eP+eN.length)]};};S.splitByChar=function(eN,eO){return dF.SplitChars(eO,[eN],0);};T.Guid=function(){dv.$cctor();return dv["|Guid|_|"];};T.Double=function(){dv.$cctor();return dv["|Double|_|"];};T.Single=function(){dv.$cctor();return dv["|Single|_|"];};T.Int64=function(){dv.$cctor();return dv["|Int64|_|"];};T.Int=function(){dv.$cctor();return dv["|Int|_|"];};T.Date=function(){dv.$cctor();return dv["|Date|_|"];};T.parseGuidO=function(){dv.$cctor();return dv.parseGuidO;};T.parseDoubleO=function(){dv.$cctor();return dv.parseDoubleO;};T.parseSingleO=function(){dv.$cctor();return dv.parseSingleO;};T.parseInt64O=function(){dv.$cctor();return dv.parseInt64O;};T.parseIntO=function(){dv.$cctor();return dv.parseIntO;};T.parseDateO=function(){dv.$cctor();return dv.parseDateO;};T.parseDateO2=function(){dv.$cctor();return dv.parseDateO2;};T.tryParseWith=function(eN){function eO(eP,eQ){return eP?{$:1,$0:eQ}:null;}return function(eP){return eO.apply(null,eN(eP));};};U.PostAndAsyncReply=function(eN,eO,eP){return eN.PostAndAsyncReply(function(eQ){return[eQ,eO];},eP);};W.applyReply=function(eN,eO){return W.applyReplyA(function(eP){var eQ;eQ=null;return dJ.Delay(function(){return dJ.Return(eN(eP));});},eO);};W.applyReplyA=function(eN,eO){return eO.PostAndAsyncReply(function(eP){return function(eQ){var eR;eR=null;return dJ.Delay(function(){return dJ.Bind(eN(eQ),function(eS){eP(eS[1]);return dJ.Return(eS[0]);});});};},null);};W.apply=function(eN,eO){W.applyA(function(eP){var eQ;eQ=null;return dJ.Delay(function(){return dJ.Return(eN(eP));});},eO);};W.applyA=function(eN,eO){eO.mailbox.AddLast(function(eP){var eQ;eQ=null;return dJ.Delay(function(){return eN(eP);});});eO.resume();};W.setState=function(eN,eO){eO.mailbox.AddLast(function(){var eP;eP=null;return dJ.Delay(function(){return dJ.Return(eN);});});eO.resume();};W.getStateA=function(eN){return eN.PostAndAsyncReply(function(eO){return function(eP){var eQ;eQ=null;return dJ.Delay(function(){eO(eP);return dJ.Return(eP);});};},null);};V.defHandler=function(eN,eO){c.print(eN);return eO;};V.stateFull=function(eN,eO){return dR.Start(function(eP){function eQ(eR){var eS;eS=null;return dJ.Delay(function(){return dJ.TryWith(dJ.Delay(function(){return dJ.Bind(eP.Receive(null),function(eT){return dJ.Bind(eT(eR),function(eU){return eQ(eU);});});}),function(eT){return eQ(eN(eT,eR));});});}return eQ(eO);},null);};V.fold=function(eN,eO,eP){return V.foldA(eN,function(eQ,eR){var eS;eS=null;return dJ.Delay(function(){return dJ.Return(eO(eQ,eR));});},eP);};V.foldA=function(eN,eO,eP){return dR.Start(function(eQ){function eR(eS){var eT;eT=null;return dJ.Delay(function(){return dJ.TryWith(dJ.Delay(function(){return dJ.Bind(eQ.Receive(null),function(eU){return dJ.Bind(eO(eS,eU),function(eV){return eR(eV);});});}),function(eU){return eR(eN(eU,eS));});});}return eR(eP);},null);};V.call=function(eN,eO){return V.callA(eN,function(eP){var eQ;eQ=null;return dJ.Delay(function(){return dJ.Return(eO(eP));});});};V.callA=function(eN,eO){return V.iterA(eN,function(eP){var eQ,eR,eS;eQ=eP[0];eR=eP[1];eS=null;return dJ.Delay(function(){return dJ.Bind(eO(eR),function(eT){eQ(eT);return dJ.Zero();});});});};V.iter=function(eN,eO){return V.iterA(eN,function(eP){var eQ;eQ=null;return dJ.Delay(function(){eO(eP);return dJ.Zero();});});};V.iterA=function(eN,eO){return dR.Start(function(eP){var eQ;eQ=null;return dJ.Delay(function(){return dJ.While(function(){return true;},dJ.Delay(function(){return dJ.TryWith(dJ.Delay(function(){return dJ.Bind(eP.Receive(null),function(eR){return dJ.Bind(eO(eR),function(){return dJ.Return(null);});});}),function(eR){eN(eR);return dJ.Zero();});}));});},null);};X.New=function(eN,eO,eP,eQ){return{useCount:eN,limitCount:eO,resource:eP,configuration:eQ};};Y=c.ResourceAgent=dD.Class({increment:function(eN){var eO,eP;eO=this;return(this.respawnRightAfter?(eP=eN.configuration,function(eQ){return eO.check(eP,eQ);}):a.id)(X.New(eN.useCount+1,eN.limitCount,eN.resource,eN.configuration));},check:function(eN,eO){return eO.useCount<eO.limitCount&&this.alive(eO.resource)&&dN.Equals(eN,eO.configuration)?eO:this.respawn(X.New(eO.useCount,eO.limitCount,eO.resource,eN));},respawn:function(eN){this.clean(eN.resource);return X.New(0,eN.limitCount,this.ctor(eN.configuration),eN.configuration);},Respawn:function(){var eN;eN=this;W.apply(function(eO){return eN.respawn(eO);},this.agent);},set_Configuration:function(eN){var eO;eO=this;!dN.Equals(eN,this.get_Configuration())?W.apply(function(eP){return eO.respawn(X.New(eP.useCount,eP.limitCount,eP.resource,eN));},this.agent):void 0;},set_LimitCount:function(eN){W.apply(function(eO){return X.New(eO.useCount,eN,eO.resource,eO.configuration);},this.agent);},get_Configuration:function(){return this.get_State().configuration;},get_LimitCount:function(){return this.get_State().limitCount;},get_State:function(){throw"getState not available in JavaScript";},ProcessA:function(eN,eO){return this.AsyncProcessA(function(eP){var eQ;eQ=null;return dJ.Delay(function(){return dJ.Return(eN(eP));});},eO);},AsyncProcessA:function(eN,eO){var eP;eP=this;return W.applyReplyA(function(eQ){var eR;eR=null;return dJ.Delay(function(){var eS;eS=eP.check(eO==null?eQ.configuration:eO.$0,eQ);return dJ.Bind(eN(eS.resource),function(eT){return dJ.Return([eP.increment(eS),eT]);});});},this.agent);},Dispose:function(){try{this.clean(this.get_State().resource);}catch(eN){null;}}},n,Y);Y.New=dD.Ctor(function(eN,eO,eP,eQ,eR,eS){var eT;eT=this;n.New.call(this);this.ctor=eO;this.clean=eQ==null?a.ignore:eQ.$0;this.alive=eR==null?function(){return true;}:eR.$0;this.respawnRightAfter=eS==null||eS.$0;this.agent=V.stateFull(function(eU,eV){c.print(eU);return eT.respawn(eV);},X.New(0,eN,this.ctor(eP),eP));},Y);Z.runSameConfig=function(eN,eO){return C.runReader([eN,eN.get_Configuration()],eO);};Z.run=function(eN,eO,eP){return C.runReader([eN,eO],eP);};Z.ofResourceRm=function(eN){var eO;eO=eN.$0;return{$:0,$0:function(eP){var eQ,eR,eS,eT;eQ=eP[0];eR=eP[1];eS=eQ[1];eT=eQ[0];return eT.AsyncProcessA(function(eU){var eV;eV=null;return dJ.Delay(function(){return dJ.Bind(eO([eU,eR]),function(eW){return dJ.Return([eW[0],[eT,eS],eW[2]]);});});},{$:1,$0:eS});}};};Z.createAgentRm=function(eN,eO){return D.op_GreaterGreaterEquals(C.readerFun(function(eP){return eP[0].AsyncProcessA(function(eQ){return eN(eQ,eO);},{$:1,$0:eP[1]});}),C.ofAsync);};_1.New=function(eN,eO,eP,eQ){return{cargId:eN,name:eO,unique:eP,build:eQ};};_2=_0.CommArgCollection=dD.Class({get_CommArgs:function(){return this.$0;}},null,_2);_2.op_Addition=function(eN,eO){return _2.addPairs(eO.$0,eN);};_2.op_Addition$1=function(eN,eO){return _2.addPair(eO[0],eO[1],eN);};_2.op_Addition$2=function(eN,eO){return _2.addPairs(eO,eN);};_3=_0.TypedCommArg=dD.Class({get_CommArg:function(){return this.$0;}},null,_3);_3.op_DivisionAssignment=function(eN,eO){return[eN.$0,z.op_BarGreaterGreater(z.op_BarGreaterGreater(y.getS(),eO),a.id)];};_3.op_DivisionAssignment$1=function(eN,eO){return[eN.$0,z.op_BarGreaterGreater(eO,a.id)];};_3.op_DivisionAssignment$2=function(eN,eO){return[eN.$0,z.op_BarGreaterGreater(z.rtn(eO),a.id)];};_4.getFloatR=function(eN,eO){return _4.getValueR(eN,eO);};_4.getBoolR=function(eN,eO){return _4.getValueR(eN,eO);};_4.getStringR=function(eN,eO){return _4.getValueR(eN,eO);};_4.getIntR=function(eN,eO){return _4.getValueR(eN,eO);};_4.getValueR=function(eN,eO){return{$:0,$0:eO};};_4.getVRm=function(eN,eO){return z.op_BarGreaterGreater(eO,a.id);};_4.argumentTRm=function(eN,eO){return _4.argumentRm(eN,eO);};_4.argumentRm=function(eN,eO){var eP;eP=y.fusion();return eP.Run(eP.Delay(function(){return eP.Bind(eO,function(eQ){return eP.Return(eN.build(eQ));});}));};_4.NewFloat=function(eN,eO,eP){return _4.New(eN,eO,eP);};_4.NewBool=function(eN,eO,eP){return _4.New(eN,eO,eP);};_4.NewString=function(eN,eO,eP){return _4.New(eN,eO,eP);};_4.NewInt=function(eN,eO,eP){return _4.New(eN,eO,eP);};_4.New=function(eN,eO,eP){return new _3({$:0,$0:_1.New({$:0,$0:dT.NewGuid()},eN,eO,function(eQ){return eP(a.id(eQ));})});};_2.addPairsRm=function(eN){var eO;eO=y.fusion();return eO.Run(eO.Delay(function(){return eO.Bind(y.getS(),function(eP){return eO.Bind(y.putS(_2.addPairs(eN,eP)),function(){return eO.Return();});});}));};_2.appendRm=function(eN){var eO;eO=y.fusion();return eO.Run(eO.Delay(function(){return eO.Bind(y.getS(),function(eP){return eO.Bind(y.putS(_2.append(eP,eN)),function(){return eO.Return();});});}));};_2.addPairs=function(eN,eO){return _2.append(eO,_0.CommArgCollection$1(eN));};_2.append=function(eN,eO){var eP,eQ;function eR(eS,eT){return function(eU){return _2.addPair(eS,eT,eU);};}eP=(eQ=function(eS){return eR.apply(null,a.id(eS));},function(eS){return function(eT){return(eQ(eT))(eS);};});return dG.fold(function(eS,eT){return(eP(eS))(eT);},eN,eO.get_CommArgs());};_2.addPair=function(eN,eO,eP){function eQ(eR,eS){return!dN.Equals(eR.cargId,eN.cargId);}return _0.CommArgCollection$1(dI.ofSeq(dG.append((eN.unique?function(eR){return dG.filter(function(eS){return eQ(eS[0],eS[1]);},eR);}:a.id)(eP.$0),dH.ofArray([[eN,eO]]))));};_2.getBoolR=function(eN,eO,eP){var eQ,eR;eQ=y.run(eP,_2.getBoolRm(eN,eO));eR=eQ[2];return r.ofOption(function(){return eR;},eQ[0]);};_2.buildArgRm=function(eN){function eO(){return _2.argumentNotFound(eN,void 0);}return z.op_GreaterGreaterEquals(_2.tryBuildArgORm(eN),function(eP){return y.ofOption(eO,eP);});};_2.getBoolRm=function(eN,eO){return z.op_BarGreaterGreater(_2.tryGetBoolORm(eO),function(eP){return eP==null?eN:eP.$0;});};_2.getFloatRm=function(eN){function eO(){return _2.argumentNotFound(eN,void 0);}return z.op_GreaterGreaterEquals(_2.tryGetFloatORm(eN),function(eP){return y.ofOption(eO,eP);});};_2.getStringRm=function(eN){function eO(){return _2.argumentNotFound(eN,void 0);}return z.op_GreaterGreaterEquals(_2.tryGetStringORm(eN),function(eP){return y.ofOption(eO,eP);});};_2.getIntRm=function(eN){function eO(){return _2.argumentNotFound(eN,void 0);}return z.op_GreaterGreaterEquals(_2.tryGetIntORm(eN),function(eP){return y.ofOption(eO,eP);});};_2.getValueRm=function(eN){function eO(){return _2.argumentNotFound(eN,void 0);}return z.op_GreaterGreaterEquals(_2.tryGetValueORm(eN),function(eP){return y.ofOption(eO,eP);});};_2.findArgRm=function(eN){function eO(){return _2.argumentNotFound(eN,void 0);}return z.op_GreaterGreaterEquals(_2.tryFindArgORm(eN),function(eP){return y.ofOption(eO,eP);});};_2.tryBuildArgORm=function(eN){function eO(eP,eQ){return eP.build(eQ);}return z.op_BarGreaterGreater(_2.tryFindArgORm(eN),function(eP){var eQ;return eP==null?null:{$:1,$0:(eQ=eP.$0,eO(eQ[0],eQ[1]))};});};_2.tryGetFloatORm=function(eN){function eO(eP,eQ){return _4.getFloatR(eN,eQ);}return z.op_GreaterGreaterEquals(z.op_BarGreaterGreater(z.op_BarGreaterGreater(_2.tryFindArgORm(eN),function(eP){var eQ;return eP==null?null:{$:1,$0:(eQ=eP.$0,eO(eQ[0],eQ[1]))};}),r.insertO),y.ofResultRM);};_2.tryGetBoolORm=function(eN){function eO(eP,eQ){return _4.getBoolR(eN,eQ);}return z.op_GreaterGreaterEquals(z.op_BarGreaterGreater(z.op_BarGreaterGreater(_2.tryFindArgORm(eN),function(eP){var eQ;return eP==null?null:{$:1,$0:(eQ=eP.$0,eO(eQ[0],eQ[1]))};}),r.insertO),y.ofResultRM);};_2.tryGetStringORm=function(eN){function eO(eP,eQ){return _4.getStringR(eN,eQ);}return z.op_GreaterGreaterEquals(z.op_BarGreaterGreater(z.op_BarGreaterGreater(_2.tryFindArgORm(eN),function(eP){var eQ;return eP==null?null:{$:1,$0:(eQ=eP.$0,eO(eQ[0],eQ[1]))};}),r.insertO),y.ofResultRM);};_2.tryGetIntORm=function(eN){function eO(eP,eQ){return _4.getIntR(eN,eQ);}return z.op_GreaterGreaterEquals(z.op_BarGreaterGreater(z.op_BarGreaterGreater(_2.tryFindArgORm(eN),function(eP){var eQ;return eP==null?null:{$:1,$0:(eQ=eP.$0,eO(eQ[0],eQ[1]))};}),r.insertO),y.ofResultRM);};_2.tryGetValueORm=function(eN){function eO(eP,eQ){return _4.getValueR(eN,eQ);}return z.op_GreaterGreaterEquals(z.op_BarGreaterGreater(z.op_BarGreaterGreater(_2.tryFindArgORm(eN),function(eP){var eQ;return eP==null?null:{$:1,$0:(eQ=eP.$0,eO(eQ[0],eQ[1]))};}),r.insertO),y.ofResultRM);};_2.tryFindArgORm=function(eN){return z.op_GreaterGreaterEquals(y.readerFun(function(eO){var eP,eQ;return y.insertO((eP=_2.tryFindArgO(eN,eO),eP==null?null:{$:1,$0:(eQ=eP.$0,y.insertFst(eQ[0],eQ[1]))}));}),a.id);};_2.tryFindArgO=function(eN,eO){var eP;eP=eN.$0;return dG.tryFind(function(eQ){return dN.Equals(eQ[0].cargId,eP.cargId);},eO.$0);};_2.argumentNotFound=function(eN,eO){return new g({$:1,$0:(function(eP){return function(eQ){return eP("argument not found: "+dE.toSafe(eQ));};}(a.id))(eN.$0.name)});};_2.containsAnyOfRm=function(eN){return y.readerFun(function(eO){function eP(eQ,eR){return eN.Contains(eQ.cargId);}return dG.exists(function(eQ){return eP(eQ[0],eQ[1]);},eO.$0);});};_2.argumentsRm=function(eN){function eO(eP){return""!==eP;}return z.op_BarGreaterGreater(z.op_GreaterGreaterEquals(_2.filterRm(eN),function(eP){return y.traverseSeq(function(eQ){return _4.argumentTRm(eQ[0],eQ[1]);},eP);}),function(eP){return dG.filter(eO,eP);});};_2.filterRm=function(eN){return y.readerFun(function(eO){return dG.filter(eN,eO.$0);});};_2.existsRm=function(eN){return y.readerFun(function(eO){return dG.exists(eN,eO.$0);});};_2.argsRm=function(){return y.readerFun(function(eN){return eN.$0;});};_2.contains=function(eN,eO){function eP(eQ,eR){return eQ.cargId;}return dG.contains(eN.$0.cargId,dG.map(function(eQ){return eP(eQ[0],eQ[1]);},eO.$0));};_2.trueForAll=function(eN){return true;};_0.CommArgCollection$1=function(eN){return new _2({$:0,$0:dG.cache(eN)});};_6.NoPrepo={$:13};_6.PrepoEndIf={$:10};_6.PrepoElse={$:9};_7.LevelZero={$:0};_5.getSourceDir=function(eN,eO){var eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY;eP=dI.get(eO,0);eQ=dI.tryItem(1,eO);return(eS=S.StartsWith("////#cd @\"",eP),eS!=null&&eS.$==1?(eR=eS.$0,true):eQ!=null&&eQ.$==1&&(eT=S.StartsWith("////#cd @\"",eQ.$0),eT!=null&&eT.$==1&&(eR=eT.$0,true)))?(eU=dF.Trim(eR),(eW=S.EndsWith("\"",eU),eW!=null&&eW.$==1?eV=eW.$0:eV=eU,(eX=S.StartsWith("\\",eV),eX!=null&&eX.$==1)?eV:(eY=S.StartsWith("/",eV),eY!=null&&eY.$==1)?eV:dN.Equals(dG.tryItem(1,eV),{$:1,$0:":"})?eV:eN+"/"+eV)):eN;};_5.separateDirectives=function(eN){var eO,eP;eO=dI.ofSeq(dG.distinct(dG.choose(function(eQ){return eQ.$==2?{$:1,$0:eQ.$0}:null;},eN)));eP=_5.filterPreps(eN);return[dI.ofSeq(dG.distinct(dG.choose(function(eQ){return eQ.$==1?{$:1,$0:eQ.$0}:null;},eP))),eO,dI.ofSeq(dG.distinct(dG.choose(function(eQ){return eQ.$==6?{$:1,$0:eQ.$0}:null;},eP))),dI.ofSeq(dG.distinct(dG.choose(function(eQ){return eQ.$==5?{$:1,$0:eQ.$0}:null;},eP))),dG.tryHead(dG.choose(function(eQ){return eQ.$==0?{$:1,$0:eQ.$0}:null;},eP))];};_5.getTopDirectives=function(eN){var eO,eP,eQ;eO=dI.ofSeq(dG.append(dG.map(function(eR){return{$:2,$0:eR};},(eP=(eQ=dG.tryHead(eN),eQ==null?null:{$:1,$0:dF.SplitStrings(_5.extractDefines({$:0,$0:eQ.$0[0]}),[" ","-d:"],1)}),eP==null?[]:eP.$0)),dG.filter(function(eR){return eR.$==2||(eR.$==1||(eR.$==6||(eR.$==5||(eR.$==0||(eR.$==7||(eR.$==10||(eR.$==8||eR.$==9)))))));},dG.map(function(eR){return eR[1];},eN))));return[dI.ofSeq(dG.map(function(eR){return eR[0];},eN)),eO];};_5.filterPreps=function(eN){var eO;function eP(eR){var eS;eS=dG.contains(dF.Trim(dF.Replace(eR,"!","")),eO);return(dF.StartsWith(dF.Trim(eR),"!")?function(eT){return!eT;}:a.id)(eS);}function eQ(eR,eS){var eT;switch(eR.$==0?eS.$==7?(eT=eS.$0,0):eS.$==10?2:7:eR.$==2?eS.$==7?1:eS.$==10?2:eS.$==8?(eT=[eS.$0,eR.$0],4):eS.$==9?(eT=eR.$0,5):8:eR.$==3?eS.$==7?1:eS.$==10?2:eS.$==8?(eT=eR.$0,6):eS.$==9?(eT=eR.$0,6):8:eS.$==7?(eT=eS.$0,0):eS.$==10?2:eS.$==8?(eT=eR.$0,3):eS.$==9?(eT=eR.$0,3):7){case 0:return[null,eP(eT)?{$:1,$0:eR}:{$:2,$0:eR}];case 1:return[null,{$:3,$0:eR}];case 2:return[null,_5.prev(eR)];case 3:return[null,{$:3,$0:eT}];case 4:return[null,eP(eT[0])?{$:1,$0:eR}:{$:2,$0:eT[1]}];case 5:return[null,{$:1,$0:eT}];case 6:return[null,{$:3,$0:eT}];case 7:return[{$:1,$0:eS},eR];case 8:return[null,eR];}}eO=dI.ofSeq(dG.distinct(dG.choose(function(eR){return eR.$==2?{$:1,$0:eR.$0}:null;},eN)));return dI.ofSeq(dG.choose(a.id,((((dD.Curried3(dG.mapFold))(eQ))(_7.LevelZero))(eN))[0]));};_5.prev=function(eN){return eN.$==1?eN.$0:eN.$==2?eN.$0:eN.$==3?eN.$0:_7.LevelZero;};_5.isActive=function(eN){return eN.$==1||(eN.$==2?false:eN.$!=3);};_5.separatePrepros=function(eN){function eO(eR){var eS;eS=dG.tryLast(dF.SplitStrings(dF.Trim(eR),["\""],1));return eS==null?eR:eS.$0;}function eP(eR){var eS,eT;return dF.Trim((eS=(eT=S.splitInTwoO(" ",dF.Trim(eR)),eT==null?null:{$:1,$0:eT.$0[1]}),eS==null?"":eS.$0));}function eQ(eR){return"//"+eR;}return dI.map(function(eR){var eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4,e5,e6;eS=true;return eS&&dF.StartsWith(eR,"#define")?[eQ(eR),{$:2,$0:eP(eR)}]:eS&&dF.StartsWith(eR,"#cd")?[eQ(eR),{$:0,$0:eO(eR)}]:eS&&dF.StartsWith(eR,"#r")?[eQ(eR),{$:1,$0:eO(eR)}]:eS&&dF.StartsWith(eR,"#load")?[eQ(eR),{$:3,$0:eO(eR)}]:eS&&dF.StartsWith(eR,"#nowarn")?[eQ(eR),{$:5,$0:eO(eR)}]:eS&&dF.StartsWith(dF.Trim(eR),"# ")?[eQ(eR),{$:4,$0:eO(eR)}]:eS&&dF.StartsWith(dF.Trim(eR),"#line")?[eQ(eR),{$:4,$0:eO(eR)}]:eS&&dF.StartsWith(eR,"#I")?[eQ(eR),{$:6,$0:eO(eR)}]:eS&&dF.StartsWith(eR,"#if")?[eR,{$:7,$0:eP(eR)}]:eS&&dF.StartsWith(eR,"#elif")?[eR,{$:8,$0:eP(eR)}]:eS&&dF.StartsWith(eR,"#else")?[eR,_6.PrepoElse]:eS&&dF.StartsWith(eR,"#endif")?[eR,_6.PrepoEndIf]:eS&&dF.StartsWith(eR,"#light")?[eR,{$:11,$0:false}]:eS&&dF.StartsWith(eR,"#")?[eQ(eR),{$:12,$0:eR}]:[eR,_6.NoPrepo];},eN);};_5.extractDefines=function(eN){var eO,eP;eO=eN.$0;return dF.StartsWith(eO,"////-d:")?dO.string(eO,{$:1,$0:4},{$:1,$0:(eP=eO.indexOf("\n"),eP===-1?eO.length:eP)-1}):"";};_8=c.SnippetId=dD.Class({get_Id:function(){return this.$0;}},null,_8);_8.get_Empty=function(){return new _8({$:0,$0:"00000000-0000-0000-0000-000000000000"});};_9.New=function(eN,eO,eP,eQ,eR,eS,eT){return{snpId:eN,snpName:eO,snpContent:eP,snpParentIdO:eQ,snpPredIds:eR,snpProperties:eS,snpModified:eT};};_.New=function(eN,eO,eP,eQ,eR,eS){return{generation:eN,ordered:eO,fetcher:eP,predecesorsCache:eQ,reducedCache:eR,prepCode:eS};};$.codeFsxRm=function(eN){return z.op_BarGreaterGreater($.fastCodeRm({$:1,$0:eN},{$:1,$0:eN}),function(eO){return eO[0];});};$.fastCodeRm=function(eN,eO){var eP;eP=y.fusion();return eP.Run(eP.Delay(function(){return eP.Bind($.fastReducedRm(eN,eO),function(eQ){return eP.Return($.finishCode(eQ[0],eQ[1],eQ[2]));});}));};$.fastReducedRm=function(eN,eO){var eP;eP=y.fusion();return eP.Run(eP.Delay(function(){return eP.Bind(y.insertO(eN==null?null:{$:1,$0:$.snippetORm(eN.$0)}),function(eQ){return eP.Bind(y.insertO(eO==null?null:{$:1,$0:$.snippetORm(eO.$0)}),function(eR){var eS,eT,eU,eV;eS=eQ==null?null:eQ.$0;eT=eR==null?null:eR.$0;return(eT!=null&&eT.$==1?eS!=null&&eS.$==1?(eU=[eS.$0,eT.$0],false):true:true)?eP.ReturnFrom($.reducedCodeRm([])):(eV=eU[0],eP.Bind($.uniquePredsRm(eU[1]),function(eW){var eX;eX=new dV.New(eW);return eP.Bind(($.reducedOthersORmMemo())([true,eV.snpId,eX]),function(eY){return eP.Bind(($.reducedOthersORmMemo())([false,eV.snpId,eX]),function(eZ){return eP.Bind($.separateCodeRm(eV),function(e0){var e1,e2,e3,e4;e1=(e2=eY==null?null:{$:1,$0:(function(e5){var e6,e7,e8;e6=e5[0];e7=e5[1];e8=e5[2];return function(e9){return $.addSeps(e6,e7,e8,e9[0],e9[1],e9[2]);};}(eY.$0))(e0)},e2==null?e0:e2.$0);return eP.Return((e3=eZ==null?null:{$:1,$0:(e4=eZ.$0,$.addSeps(e1[0],e1[1],e1[2],e4[0],e4[1],e4[2]))},e3==null?e1:e3.$0));});});});}));});});}));};$.reducedOthersORmMemo=function(){function eN(eO){return eO.reducedCache();}return function(eO){return y.memoizeRm(eN,function(eP){return $.reducedOthersORm(eP[0],eP[1],eP[2]);},eO);};};$.reducedOthersORm=function(eN,eO,eP){var eQ;eQ=y.fusion();return eQ.Run(eQ.Delay(function(){function eR(eS){return!dN.Equals(eS.snpId,eO)&&eP.Contains(eS.snpId);}return eQ.Bind(z.op_BarGreaterGreater(z.op_BarGreaterGreater($.orderedRm(),(eN?function(eS){return function(eT){return dG.takeWhile(eS,eT);};}:function(eS){return function(eT){return dG.skipWhile(eS,eT);};})(function(eS){return!dN.Equals(eS.snpId,eO);})),function(eS){return dG.filter(eR,eS);}),function(eS){return dG.isEmpty(eS)?eQ.Return(null):eQ.Bind($.reducedCodeRm(eS),function(eT){return eQ.Return({$:1,$0:eT});});});}));};$.finishCode=function(eN,eO,eP){var eQ,eR,eS,eT,eU,eV,eW;eQ=_5.separateDirectives(eP);eR=eQ[2];eS=eQ[3];eT=eQ[4];eU=eQ[0];eV=dF.concat(" ",dG.map(function(eX){return"-d:"+eX;},dG.sort(eQ[1])));eW=dH.ofSeq(dG.delay(function(){return dG.append(eV!==""?["////"+eV]:[],dG.delay(function(){return dG.append(eT!=null?[(function(eX){return function(eY){return eX("////#cd @\""+dE.toSafe(eY)+"\"");};}(a.id))(eT.$0)]:[],dG.delay(function(){return dG.append(dG.map(function(eX){return function(eY){return eX("#I @\""+dE.toSafe(eY)+"\"");};}(a.id),eR),dG.delay(function(){return dG.append(dG.map(function(eX){return function(eY){return eX("#r @\""+dE.toSafe(eY)+"\"");};}(a.id),eU),dG.delay(function(){return dG.map(function(eX){return function(eY){return eX("#nowarn \""+dE.toSafe(eY)+"\"");};}(a.id),eS);}));}));}));}));}));return[dF.concat("\n",dG.append(eW,eO)),dI.ofSeq((dG.mapFold(function(eX,eY){var eZ;eZ=eY[2];return[[[eY[0],eY[1]],[eY[3],eX,eX+eZ]],eX+eZ];},eW.get_Length(),eN))[0])];};$.reducedCodeRm=function(eN){var eO;eO=y.fusion();return eO.Run(eO.Delay(function(){return eO.Bind(y.traverseSeq($.separateCodeRm,eN),function(eP){var eQ;return eO.Return((eQ=dG.reduce(function(eR,eS){return(function(eT){var eU,eV,eW;eU=eT[0];eV=eT[1];eW=eT[2];return function(eX){return $.addSeps(eU,eV,eW,eX[0],eX[1],eX[2]);};}(eR))(eS);},dG.isEmpty(eP)?[[[],[],[]]]:eP),[eQ[0],[dF.concat("\n",eQ[1])],eQ[2]]));});}));};$.addSeps=function(eN,eO,eP,eQ,eR,eS){return[eN.concat(eQ),eO.concat(eR),eP.concat(eS)];};$.separateCodeRm=function(eN){var eO;eO=y.fusion();return eO.Run(eO.Delay(function(){return eO.Bind($.indentRm(eN),function(eP){var eQ;function eR(eS,eT){return[dF.replicate(eP," ")+eS,eT];}eQ=(eP===0?[a.id,""]:[function(eS){return dI.map(function(eT){return eR(eT[0],eT[1]);},eS);},(function(eS){return function(eT){return eS("("+a.String(eT)+")");};}(a.id))(eP)])[0];return eO.Bind($.prepareCodeRm(eN),function(eS){var eT,eU;eT=_5.getTopDirectives(eQ(_5.separatePrepros(dF.SplitChars(eS,["\n"],0))));eU=eT[0];return eO.Return([[[eN.snpId,$.snippetName(eN.snpName,eN.snpContent),dI.length(eU),eP]],eU,eT[1]]);});});}));};$.ancestorsRm=function(eN){function eO(eP,eQ){var eR;eR=y.fusion();return eR.Run(eR.Delay(function(){return eR.Bind($.parentORm(eP),function(eS){var eT;return eS==null?eR.Return(eQ):(eT=eS.$0,eR.ReturnFrom(eO(eT,new dH.T({$:1,$0:eT,$1:eQ}))));});}));}return eO(eN,dH.T.Empty);};$.levelRm=function(eN){function eO(eP,eQ){var eR;eR=y.fusion();return eR.Run(eR.Delay(function(){return eR.Bind($.parentORm(eP),function(eS){return eS!=null&&eS.$==1?eR.ReturnFrom(eO(eS.$0,eQ+1)):eR.Return(eQ);});}));}return eO(eN,0);};$.indentRm=function(eN){function eO(eP){var eQ;eQ=y.fusion();return eQ.Run(eQ.Delay(function(){var eR,eS,eT,eU;eR=(eS=$.propertyPairO("IndentChildren",eP),eS!=null&&eS.$==1?[(T.parseIntO())(eS.$0[0]),(T.parseIntO())(eS.$0[1])]:[null,null]);eT=eR[1];eU=eR[0];return eQ.Bind($.parentORm(eP),function(eV){return eV==null?eQ.Return([0,[eU==null?4:eU.$0,eT==null?4:eT.$0]]):eQ.Bind(eO(eV.$0),function(eW){var eX,eY;eX=eW[1][1];eY=eW[1][0];return eQ.Return([eY,[eY+(eU==null?eX:eU.$0),eT==null?eX:eT.$0]]);});});}));}return z.op_BarGreaterGreater(eO(eN),function(eP){return eP[0];});};$.propertyHierORm=function(eN,eO){var eP;eP=y.fusion();return eP.Run(eP.Delay(function(){var eQ;eQ=$.propertyO(eN,eO);return eQ==null?eP.Bind($.parentORm(eO),function(eR){return eR==null?eP.Return(null):eP.Bind($.propertyHierORm(eN,eR.$0),function(eS){var eT,eU,eV;return eP.Return(eS==null?null:{$:1,$0:(eT=eS.$0,(eU=eT[0],(eV=eT[1][1],[eU,[eV,eV]])))});});}):eP.Return({$:1,$0:[eO,$.propertyPair(eQ.$0)]});}));};$.modifiedRecRm=function(eN){var eO;eO=y.fusion();return eO.Run(eO.Delay(function(){return eO.Bind($.modifiedRm(eN),function(eP){return eP?eO.Return(true):eO.Bind($.uniquePredsRm(eN),function(eQ){return eO.Bind(y.sequenceSeq(dG.map($.snippetORm,eQ)),function(eR){return eO.Bind(y.sequenceSeq(dG.map($.modifiedRm,dG.choose(a.id,eR))),function(eS){return eO.Return(dG.contains(true,eS));});});});});}));};$.predsGenerationRm=function(eN){var eO;eO=y.fusion();return eO.Run(eO.Delay(function(){return eO.Bind(z.op_GreaterGreaterEquals($.uniquePredsRm(eN),function(eP){return y.traverseSeq($.snippetRm,eP);}),function(eP){return eO.Return(dG.max(dG.map(function(eQ){return eQ.snpModified;},eP)));});}));};$.uniquePredsRm=function(eN){return($.predsLRmMemo())(eN.snpId);};$.predsLRmMemo=function(){function eN(eO){return eO.predecesorsCache();}return function(eO){return y.memoizeRm(eN,$.predsLRm,eO);};};$.predsLRm=function(eN){var eO;eO=y.fusion();return eO.Run(eO.Delay(function(){var eP,eQ;eP=dH.ofArray([eN]);eQ=dH.T.Empty;return eO.Combine(eO.While(function(){return!(eP.$==0);},eO.Delay(function(){var eR,eS;return eP.$==1?(eR=eP.$1,(eS=eP.$0,dH.contains(eS,eQ)?(eP=eR,eO.Zero()):eO.Bind($.snippetORm(eS),function(eT){var eU,eV;eP=dH.append(eR,(eU=eT==null?null:{$:1,$0:(eV=eT.$0,dH.append(dH.ofSeq(eV.snpPredIds),dW.toList(eV.snpParentIdO)))},eU==null?dH.T.Empty:eU.$0));eQ=new dH.T({$:1,$0:eS,$1:eQ});return eO.Zero();}))):eO.Zero();})),eO.Delay(function(){return eO.Return(eQ);}));}));};$.snippetFromRefORm=function(eN){return eN.$==1?$.snippetFromPathORm(eN.$0):$.snippetORm(eN.$0);};$.snippetFromPathORm=function(eN){var eO;eO=y.fusion();return eO.Run(eO.Delay(function(){return eO.Bind($.orderedRm(),function(eP){function eQ(eR,eS){return function(eT){return eR.length===0?[null,[[],eS]]:$.snippetName(eT.snpName,eT.snpContent)!==dI.get(eR,0)||!dN.Equals(eT.snpParentIdO,eS)?[null,[eR,eS]]:eR.length>1?[null,[dO.array(eR,{$:1,$0:1},null),{$:1,$0:eT.snpId}]]:[{$:1,$0:eT},[[],eS]];};}return eO.Return(dG.tryHead(dG.choose(a.id,(dG.mapFold(function(eR,eS){return(function(eT){return eQ(eT[0],eT[1]);}(eR))(eS);},[eN,null],eP))[0])));});}));};$.pathRm=function(eN){var eO;function eP(eQ){return z.op_BarGreaterGreater($.pathRm(eQ.snpId),function(eR){return new dH.T({$:1,$0:eQ.snpId,$1:eR});});}return z.op_BarGreaterGreater(z.op_GreaterGreaterEquals(z.op_BarGreaterGreater(z.op_BarGreaterGreater(z.op_GreaterGreaterEquals(z.op_BarGreaterGreater($.snippetORm(eN),function(eQ){return eQ==null?null:{$:1,$0:$.parentORm(eQ.$0)};}),y.insertO),function(eQ){return eQ==null?null:a.id(eQ.$0);}),function(eQ){return eQ==null?null:{$:1,$0:eP(eQ.$0)};}),y.insertO),(eO=dH.T.Empty,function(eQ){return eQ==null?eO:eQ.$0;}));};$.snippetNameRm=function(eN){return z.op_BarGreaterGreater($.snippetRm(eN),function(eO){return $.snippetName(eO.snpName,eO.snpContent);});};$.snippetRm=function(eN){return y.absorbO(function(){return new g({$:1,$0:(function(eO){return function(eP){return eO("Snippet not found "+dy.p$2(eP));};}(a.id))(eN)});},$.snippetORm(eN));};$.prepareCodeRm=function(eN){return y.readerFun(function(eO){return eO.prepCode(eN);});};$.orderedRm=function(){return y.readerFun(function(eN){return eN.ordered;});};$.childrenRm=function(eN){return y.readerFun(function(eO){return dG.filter(function(eP){return dN.Equals(eP.snpParentIdO,{$:1,$0:eN});},eO.ordered);});};$.modifiedRm=function(eN){return y.readerFun(function(eO){return eN.snpModified>eO.generation;});};$.maxGenerationRm=function(){return y.readerFun(function(eN){return dG.max(dG.map(function(eO){return eO.snpModified;},eN.ordered));});};$.predecessorsRm=function(eN){return y.readerFun(function(eO){return dG.choose(eO.fetcher,eN.snpPredIds);});};$.parentORm=function(eN){return y.readerFun(function(eO){var eP;eP=eN.snpParentIdO;return eP==null?null:eO.fetcher(eP.$0);});};$.snippetORm=function(eN){return y.readerFun(function(eO){return eO.fetcher(eN);});};$.propertyPairO=function(eN,eO){var eP;eP=$.propertyO(eN,eO);return eP==null?null:{$:1,$0:$.propertyPair(eP.$0)};};$.propertyPair=function(eN){var eO,eP,eQ;eO=dF.SplitStrings(eN,[$.tieFighter()],0);return[dI.get(eO,0),(eP=dI.tryItem(1,eO),(eQ=dI.get(eO,0),eP==null?eQ:eP.$0))];};$.tieFighter=function(){dv.$cctor();return dv.tieFighter;};$.propertyO=function(eN,eO){function eP(eQ,eR){return eQ===eN?{$:1,$0:eR}:null;}return dI.tryPick(function(eQ){return eP(eQ[0],eQ[1]);},eO.snpProperties);};$.nameSanitized=function(eN){var eO,eP;eO=["\"","<",">","|","\u0000","\u0001","\u0002","\u0003","\u0004","\u0005","\u0006","\u0007","\u0008","\u0009","\n","\u000b","\u000c","\r","\u000e","\u000f","\u0010","\u0011","\u0012","\u0013","\u0014","\u0015","\u0016","\u0017","\u0018","\u0019","\u001a","\u001b","\u001c","\u001d","\u001e","\u001f",":","*","?","\\","/"];return dF.Filter(function(eQ){return!dI.contains(eQ,eO);},eN.snpName)+" "+(eP=eN.snpId.get_Id(),a.String(eP));};$.snippetName=function(eN,eO){var eP;return eN!==""?eN:(eP=dG.tryHead(dG.filter(function(eQ){return!(dF.StartsWith(eQ,"#")||dF.StartsWith(eQ,"[<")||dF.StartsWith(eQ,"//"));},dG.map(dF.Trim,dF.SplitChars(eO,["\n"],1)))),eP==null?"<empty>":eP.$0);};$.defaultSnippet=function(){dv.$cctor();return dv.defaultSnippet;};$.New=function(eN,eO,eP){return _9.New(new _8({$:0,$0:dT.NewGuid()}),eN,eO,eP,new dV.New$1(null),[],$.getNextModified());};$.getNextModified=function(){return dX.now();};ba.Hole={$:0};bc.New=function(eN,eO,eP,eQ,eR,eS,eT){return{id:eN,isExpandedRm:eO,canHaveChildrenRm:eP,childrenRm:eQ,pathRm:eR,parentORm:eS,newChildrenRm:eT};};bb.removeNodeOutdentChildren=function(eN,eO){var eP;function eQ(eR,eS){return z.op_GreaterGreaterEquals(eR,function(eT){return bb.outdentNode(eS,eT);});}return z.op_GreaterGreaterEquals(z.op_GreaterGreaterEquals(z.op_BarGreaterGreater(eN.childrenRm(),dI.ofSeq),(eP=z.rtn(eO),function(eR){return dG.fold(eQ,eP,eR);})),function(eR){return bb.removeNode(eN,eR);});};bb.outdentNode=function(eN,eO){var eP;function eQ(eR){return bb.moveToSibling(true,eN,eR,eO);}return z.op_GreaterGreaterEquals(z.op_BarGreaterGreater(eN.parentORm(eO),function(eR){return eR==null?null:{$:1,$0:eQ(eR.$0)};}),(eP=z.rtn(eO),function(eR){return eR==null?eP:eR.$0;}));};bb.indentNode=function(eN,eO){var eP;function eQ(eS){return!dN.Equals(eN.id(),eS.id());}function eR(eS,eT){return z.op_GreaterGreaterEquals(eT.canHaveChildrenRm(),function(eU){return eU?z.rtn({$:1,$0:eT}):eS;});}return z.op_GreaterGreaterEquals(z.op_GreaterGreaterEquals(z.op_BarGreaterGreater(z.op_GreaterGreaterEquals(eN.parentORm(eO),function(eS){return eS!=null&&eS.$==1?z.op_BarGreaterGreater(eS.$0.childrenRm(),function(eT){var eU;eU=dI.ofSeq(eT);return eU;}):z.rtn(eO);}),function(eS){return dG.takeWhile(eQ,eS);}),(eP=z.rtn(null),function(eS){return dG.fold(eR,eP,eS);})),function(eS){var eT;return eS!=null&&eS.$==1?(eT=eS.$0,z.op_GreaterGreaterEquals(bb.removeNode(eN,eO),function(eU){return bb.addChild(true,eN,eT,eU);})):z.rtn(eO);});};bb.addChild=function(eN,eO,eP,eQ){var eR;eR=y.fusion();return eR.Run(eR.Delay(function(){return eR.Bind(eP.pathRm(),function(eS){function eT(eU){var eV,eW;return dN.Equals(eU.id(),eP.id())?eN?z.op_GreaterGreaterEquals(z.op_BarGreaterGreater(z.op_BarGreaterGreater(z.op_BarGreaterGreater(eU.childrenRm(),dI.ofSeq),(eV=dH.ofArray([eO]),function(eX){return dG.append(eX,eV);})),dI.ofSeq),eU.newChildrenRm):z.op_GreaterGreaterEquals(z.op_BarGreaterGreater(z.op_BarGreaterGreater(z.op_BarGreaterGreater(eU.childrenRm(),dI.ofSeq),(eW=dH.ofArray([eO]),function(eX){return dG.append(eW,eX);})),dI.ofSeq),eU.newChildrenRm):dH.contains(eU.id(),eS)?z.op_GreaterGreaterEquals(z.op_BarGreaterGreater(z.op_GreaterGreaterEquals(z.op_BarGreaterGreater(z.op_BarGreaterGreater(eU.childrenRm(),dI.ofSeq),function(eX){return dG.map(eT,eX);}),y.sequenceSeq),dI.ofSeq),eU.newChildrenRm):z.rtn(eU);}return eR.ReturnFrom(y.sequenceSeq(dG.map(eT,eQ)));});}));};bb.moveToSibling2=function(eN,eO,eP,eQ){var eR;eR=y.fusion();return eR.Run(eR.Delay(function(){return eR.Bind(bb.tryFindId(eO,eQ),function(eS){var eT;return eS!=null&&eS.$==1?(eT=eS.$0,eR.Bind(bb.tryFindId(eP,eQ),function(eU){return eU!=null&&eU.$==1?eR.ReturnFrom(bb.moveToSibling(eN,eT,eU.$0,eQ)):eR.Return(eQ);})):eR.Return(eQ);});}));};bb.moveToSibling=function(eN,eO,eP,eQ){return z.op_GreaterGreaterEquals(bb.removeNode(eO,eQ),function(eR){return bb.addSibling(eN,eO,eP,eR);});};bb.tryFindId=function(eN,eO){return bb.tryFind(function(eP){return dN.Equals(eP.id(),eN);},eO);};bb.tryFind=function(eN,eO){function eP(eQ,eR){return z.op_GreaterGreaterEquals(eQ,function(eS){var eT;return eS==null?eN(eR)?z.rtn({$:1,$0:eR}):z.op_GreaterGreaterEquals(eR.childrenRm(),(eT=z.rtn(null),function(eU){return dG.fold(eP,eT,eU);})):z.rtn({$:1,$0:eS.$0});});}return dG.fold(eP,z.rtn(null),eO);};bb.addSibling=function(eN,eO,eP,eQ){function eR(eS){return dN.Equals(eS.id(),eP.id());}return z.op_GreaterGreaterEquals(eP.pathRm(),function(eS){var eT,eU;function eV(eW){return dN.Equals(eW.id(),eU)?z.op_GreaterGreaterEquals(z.op_BarGreaterGreater(eW.childrenRm(),dI.ofSeq),function(eX){return bb.addToParent(eN,eR,eO,eW,eX);}):dH.contains(eW.id(),eT)?z.op_GreaterGreaterEquals(z.op_BarGreaterGreater(z.op_GreaterGreaterEquals(z.op_BarGreaterGreater(z.op_BarGreaterGreater(eW.childrenRm(),dI.ofSeq),function(eX){return dG.map(eV,eX);}),y.sequenceSeq),dI.ofSeq),eW.newChildrenRm):z.rtn(eW);}return eS.$==1?(eT=eS.$1,(eU=eS.$0,y.sequenceSeq(dG.map(eV,eQ)))):z.rtn(bb.addNodeToSeq(eN,eR,eO,eQ));});};bb.addToParent=function(eN,eO,eP,eQ,eR){return eQ.newChildrenRm(dI.ofSeq(bb.addNodeToSeq(eN,eO,eP,eR)));};bb.addNodeToSeq=function(eN,eO,eP,eQ){return dH.ofSeq(dG.delay(function(){return dG.collect(function(eR){return eO(eR)?eN?dG.append([eR],dG.delay(function(){return[eP];})):dG.append([eP],dG.delay(function(){return[eR];})):[eR];},eQ);}));};bb.removeNodes=function(eN,eO){var eP;eP=y.fusion();return eP.Run(eP.Delay(function(){function eQ(eR,eS){var eT;eT=y.fusion();return eT.Run(eT.Delay(function(){return eT.Bind(eR,function(eU){var eV,eW;eV=eU[1];eW=eU[0];return eT.Bind(z.op_BarGreaterGreater(eS.childrenRm(),dI.ofSeq),function(eX){return eT.Bind(dG.fold(eQ,z.rtn([dH.T.Empty,eV]),eX),function(eY){var eZ,e0;eZ=eY[1];e0=eY[0];return eN(eS)?eT.Return([eW,dH.append(e0,eZ)]):eT.Bind(eS.newChildrenRm(dI.ofSeq(dG.rev(e0))),function(e1){return eT.Return([new dH.T({$:1,$0:e1,$1:eW}),eZ]);});});});});}));}return eP.Bind(dG.fold(eQ,z.rtn([dH.T.Empty,dH.T.Empty]),eO),function(eR){return eP.Return(dH.rev(dH.append(eR[1],eR[0])));});}));};bb.removeNode=function(eN,eO){var eP;eP=y.fusion();return eP.Run(eP.Delay(function(){return eP.Bind(eN.pathRm(),function(eQ){function eR(eS){var eT;eT=y.fusion();return eT.Run(eT.Delay(function(){return dN.Equals(eS.id(),eN.id())?eT.Return(null):dH.contains(eS.id(),eQ)?eT.ReturnFrom(z.op_BarGreaterGreater(z.op_GreaterGreaterEquals(z.op_BarGreaterGreater(z.op_BarGreaterGreater(z.op_GreaterGreaterEquals(z.op_BarGreaterGreater(z.op_BarGreaterGreater(eS.childrenRm(),dI.ofSeq),function(eU){return dG.map(eR,eU);}),y.sequenceSeq),function(eU){return dG.choose(a.id,eU);}),dI.ofSeq),eS.newChildrenRm),function(eU){return{$:1,$0:eU};})):eT.Return({$:1,$0:eS});}));}return eP.ReturnFrom(z.op_BarGreaterGreater(y.sequenceSeq(dG.map(eR,eO)),function(eS){return dG.choose(a.id,eS);}));});}));};bb.listNodes=function(eN,eO){return z.op_BarGreaterGreater(y.sequenceSeq(dG.map(function(eP){return z.op_BarGreaterGreater(z.op_GreaterGreaterEquals(eP.isExpandedRm(),function(eQ){var eR;return eQ?z.op_GreaterGreaterEquals(z.op_BarGreaterGreater(eP.childrenRm(),dI.ofSeq),(eR=eN+1,function(eS){return bb.listNodes(eR,eS);})):z.rtn([]);}),function(eQ){return dG.append([[eP,eN]],eQ);});},eO)),function(eP){return dG.collect(a.id,eP);});};c["String.Right"]=function(eN,eO){var eP,eQ;return c["String.Substring2"](eN,(eP=0,(eQ=eN.length-eO,dN.Compare(eP,eQ)===1?eP:eQ)),eN.length);};c["String.Left"]=function(eN,eO){return eO<0?c["String.Substring2"](eN,0,eN.length+eO):c["String.Substring2"](eN,0,eO);};c["String.Substring2"]=function(eN,eO,eP){var eQ,eR;while(true){if(eP<=0)return"";else if(eO>=eN.length)return"";else if(eO<0){eQ=eO;eO=0;eP=eP+eQ;}else return dF.Substring(eN,eO,(eR=eN.length-eO,dN.Compare(eP,eR)===-1?eP:eR));}};c.delayedVar=function(eN,eO){var eP,eQ;eP=dZ.Create$1(eO.Get());eQ=eO.get_View();d0.Sink(c.delayed(eN,function(eR){eP.Set(eR);}),eQ);return eP;};c.delayed=function(eN,eO){function eP(){return dJ.Return(null);}return c.delayedA(eN,function(eQ){return eP(eO(eQ));});};c.delayedA=function(eN,eO){var eP;eP=null;return function(eQ){var eR;eP==null?void 0:eP.$0.Cancel$1();eP={$:1,$0:new d1.New()};dJ.Start((eR=null,dJ.Delay(function(){return dJ.Bind(dJ.Sleep(eN),function(){return dJ.Bind(eO(eQ),function(){return dJ.Return(null);});});})),{$:1,$0:eP.$0});};};c.print=function(eN){if(typeof eN=="string")((function(eO){return function(eP){return eO(dE.toSafe(eP));};}(function(eO){d2.log(eO);}))(eN));else((function(eO){return function(eP){return eO(dE.prettyPrint(eP));};}(function(eO){d2.log(eO);}))(eN));};c.Error=function(eN){return{$:1,$0:eN};};be.ofAsyncResult=function(eN){return new a.Promise(function(eO,eP){dJ.StartWithContinuations(eN,function(eQ){if(eQ.$==1)eP((function(eR){return function(eS){return eR(dE.prettyPrint(eS));};}(a.id))(eQ.$0));else eO(eQ.$0);},function(eQ){eP(eQ);},function(eQ){eP(eQ);},null);});};bf.ofAsyncResultM=function(eN){return new a.Promise(function(eO,eP){dJ.StartWithContinuations(eN,function(eQ){var eR;eR=i.OkM(eQ);eR.$==1?eP(g.summarized(eR.$0)):eO(eR.$0[0]);},function(eQ){eP(eQ);},function(eQ){eP(eQ);},null);});};bg.sequenceListApp=function(eN){return bg.traverseListApp(a.id,eN);};bg.traverseListApp=function(eN,eO){function eP(eQ,eR){return new dH.T({$:1,$0:eQ,$1:eR});}return dH.foldBack(function(eQ,eR){return bg.op_LessMultiplyGreater(bg.op_LessMultiplyGreater(bg.rtn(function(eS){return function(eT){return eP(eS,eT);};}),eN(eQ)),eR);},eO,bg.rtn(dH.T.Empty));};bg.op_LessMultiplyGreater=function(eN,eO){return d0.Apply(eN,eO);};bg.sequenceSeq=function(eN){return bg.traverseSeq(a.id,eN);};bg.traverseSeq=function(eN,eO){return bg.map(a.id,dI.foldBack(function(eP,eQ){return bg.op_GreaterGreaterEquals(eN(eP),function(eR){return bg.op_GreaterGreaterEquals(eQ,function(eS){return bg.rtn(new dH.T({$:1,$0:eR,$1:eS}));});});},dI.ofSeq(eO),bg.rtn(dH.T.Empty)));};bg.op_GreaterGreaterEquals=function(eN,eO){return bg.bind(eO,eN);};bg.rtn=function(eN){return d0.Const(eN);};bg.map=function(eN,eO){return d0.Map(eN,eO);};bg.bind=function(eN,eO){return d0.Bind(eN,eO);};bg.insertWO=function(eN){return eN==null?d0.Const(null):d0.Map(function(eO){return{$:1,$0:eO};},eN.$0);};bh.lensView=function(eN,eO,eP,eQ){var eR,eS,eT;eR=bh.freshId();eS=d0.Map2(function(eU){return eN(eU);},eQ.get_View(),eP);eT=new dY.Var({Get:function(){return eN(eQ.Get());},Set:function(eU){return eQ.Update(function(eV){return eO(eV,eU);});},SetFinal:function(eU){return this.Set(eU);},Update:function(eU){return eQ.Update(function(eV){return eO(eV,eU(eN(eV)));});},UpdateMaybe:function(eU){return eQ.UpdateMaybe(function(eV){var eW;eW=eU(eN(eV));return eW==null?null:{$:1,$0:eO(eV,eW.$0)};});},get_View:function(){return eS;},get_Id:function(){return eR;}});d3.New.call(eT);return eT;};bh.freshId=function(){bh.set_counter(bh.counter()+1);return"varuid"+a.String(bh.counter());};bh.counter=function(){dv.$cctor();return dv.counter;};bh.set_counter=function(eN){dv.$cctor();dv.counter=eN;};bi.MapLens=function(eN,eO,eP){function eQ(eS,eT){return eO(eS,eP.Lens(eS));}function eR(eS,eT){return dI.filter(eT,eS);}return eN!=null&&eN.$==1?d0.MapSeqCachedViewBy(eP.key,eQ,(((dD.Curried3(d0.Map2))(eR))(eP["var"].get_View()))(eN.$0)):d0.MapSeqCachedViewBy(eP.key,eQ,eP["var"].get_View());};bi.refreshLM=function(eN,eO){var eP;eN.AppendMany(eO);eP=new dV.New(dG.map(eN.key,eO));dG.iter(function(eQ){if(!eP.Contains(eN.key(eQ)))eN.RemoveByKey(eN.key(eQ));},dG.cache(eN));};bi.currentLens=function(eN,eO,eP){return bi["currentLensUpd'"](eN,eO,function(eQ){eP.UpdateBy(function(){return eP.TryFindByKey(eP.key(eQ))==null?null:{$:1,$0:eQ};},eP.key(eQ));},eP);};bi["currentLensUpd'"]=function(eN,eO,eP,eQ){return new d4.New(d0.Map2(function(eR,eS){var eT;eT=eS==null?null:eQ.TryFindByKey(eS.$0);return eT==null?eN:eT.$0;},eQ.v,eO),eP);};bi.currentLensUpd=function(eN,eO,eP,eQ){var eR;function eS(eU){return eQ.TryFindByKey(eU);}function eT(eU){return eU==null?eN:eU.$0;}return bh.lensView((eR=function(eU){return eU==null?null:eS(eU.$0);},function(eU){return eT(eR(eU));}),function(eU,eV){(k.iter(eP(eV)))(eU);return eU;},eQ.v,eO);};bi.lensDef=function(eN,eO,eP){function eQ(eR){return eR==null?eN:eR.$0;}return bi["lensIntoO'"](eP,eQ,function(){return a.id;},eO,d0.Map(eQ,eP.TryFindByKeyAsView(eO)));};bi.docLensMapViewO=function(eN,eO,eP,eQ){function eR(eS,eT){return eP(eS,bi["lensIntoO'"](eQ,function(eU){return eU==null?eN:eU.$0;},function(){return a.id;},eS,eT));}return d5.ConvertSeqBy(eQ.key,function(eS){return function(eT){return eR(eS,eT);};},d0.Map(eO,eQ.v));};bi.docLensMapView=function(eN,eO,eP){function eQ(eR,eS){return eO(eR,bi["lensInto'"](eP,a.id,function(){return a.id;},eR,eS));}return d5.ConvertSeqBy(eP.key,function(eR){return function(eS){return eQ(eR,eS);};},d0.Map(eN,eP.v));};bi["lensIntoO'"]=function(eN,eO,eP,eQ,eR){var eS,eT;eS=bh.freshId();eT=new d3({Get:function(){return eO(eN.TryFindByKey(eQ));},Set:function(eU){return eN.UpdateBy(function(eV){return{$:1,$0:(eP(eV))(eU)};},eQ);},Update:function(eU){return eN.UpdateBy(function(eV){var eW;return{$:1,$0:(eW=eU(eO({$:1,$0:eV})),(eP(eV))(eW))};},eQ);},UpdateMaybe:function(eU){return eN.UpdateBy(function(eV){var eW,eX;eW=eU(eO({$:1,$0:eV}));eX=eP(eV);return eW==null?null:{$:1,$0:eX(eW.$0)};},eQ);},SetFinal:function(eU){return this.Set(eU);},get_View:function(){return eR;},get_Id:function(){return eS;}});d3.New.call(eT);return eT;};bi["lensInto'"]=function(eN,eO,eP,eQ,eR){var eS,eT;eS=bh.freshId();eT=new d3({Get:function(){return eO(eN.FindByKey(eQ));},Set:function(eU){return eN.UpdateBy(function(eV){return{$:1,$0:(eP(eV))(eU)};},eQ);},Update:function(eU){return eN.UpdateBy(function(eV){var eW;return{$:1,$0:(eW=eU(eO(eV)),(eP(eV))(eW))};},eQ);},UpdateMaybe:function(eU){return eN.UpdateBy(function(eV){var eW,eX;eW=eU(eO(eV));eX=eP(eV);return eW==null?null:{$:1,$0:eX(eW.$0)};},eQ);},SetFinal:function(eU){return this.Set(eU);},get_View:function(){return eR;},get_Id:function(){return eS;}});d3.New.call(eT);return eT;};bj.newPojoOpt=function(eN){function eO(eP,eQ){return eQ==null?null:{$:1,$0:[eP,eQ.$0]};}return bj.newPojo(dG.choose(function(eP){return eO(eP[0],eP[1]);},eN));};bj.newPojo=function(eN){var eO,eP;function eQ(eS,eT){return function(eU){return bj.addProp(eS,eT,eU);};}function eR(eS){}eO={};dG.iter((eP=function(eS){return(function(eT){return eQ(eT[0],eT[1]);}(eS))(eO);},function(eS){return eR(eP(eS));}),eN);return eO;};bj.addProp=function(eN,eO,eP){eP[eN]=eO;return eP;};bl.New=function(eN,eO){return{line:eN,col:eO};};bm.Hint={$:3};bm.Info={$:2};bm.Warning={$:1};bm.Error={$:0};bn.New=function(eN,eO,eP,eQ){return{startP:eN,endP:eO,severity:eP,message:eQ};};bo.New=function(eN,eO,eP,eQ){return{kind:eN,label:eO,detail:eP,replace:eQ};};bp.New=function(eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY){return{generateDoc:eN,getValue:eO,setValue:eP,setDisabled:eQ,showAnnotations:eR,posFromIndex:eS,indexFromPos:eT,getWordAt:eU,getSelectionText:eV,getUri:eW,setUri:eX,hookOnChange:eY};};bq.New=function(eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW){return{"var":eN,disabled:eO,annotations:eP,onChange:eQ,onRender:eR,autoCompletion:eS,toolTip:eT,declaration:eU,editorO:eV,editorHook:eW};};bk.generateDoc=function(eN){var eO,eP,eQ;eO=(eP=(eQ=eN.onChange,eQ==null?null:{$:1,$0:eQ.$0(eN)}),eP==null?a.ignore:eP.$0);return(eN.editorHook.generateDoc(eN))(function(eR){eN.editorO={$:1,$0:eR};bk.bindVarEditor(eN.editorHook.hookOnChange,eN.editorHook.getValue,eN.editorHook.setValue,eO,eN["var"]);d0.Sink(eN.editorHook.showAnnotations,eN.annotations);d0.Sink(eN.editorHook.setDisabled,eN.disabled);eN.onRender(eN);});};bk.bindVarEditor=function(eN,eO,eP,eQ,eR){var eS,eT;eS=[0];eT=[0];eN(function(){var eU;eU=eO();!dN.Equals(eR.Get(),eU)?(eS[0]=eS[0]+1,eR.Set(eU),eQ(eU)):void 0;});d0.Sink(function(){if(eS[0]>eT[0])eT[0]=eS[0];else if(!dN.Equals(eO(),eR.Get()))eP(eR.Get());},eR.get_View());};bk.newVarO=function(eN,eO){var eP;eP=bk.newVar(eN,dZ.Lens(eO,function(eQ){return eQ==null?"":eQ.$0;},function(eQ,eR){return eQ==null?null:{$:1,$0:eR};}));return bk.disabled(d0.Map(function(eQ){return eQ==null;},eO.get_View()),eP);};bk.newText=function(eN,eO){return bk.newVar(eN,dZ.Create$1(eO));};bk.newVar=function(eN,eO){return bq.New(eO,d0.Const(false),d0.Const([]),null,a.ignore,null,null,null,null,eN);};bk["var"]=function(eN){return eN["var"];};bk.disabled=function(eN,eO){return bq.New(eO["var"],eN,eO.annotations,eO.onChange,eO.onRender,eO.autoCompletion,eO.toolTip,eO.declaration,eO.editorO,eO.editorHook);};bk.onRender=function(eN,eO){return bq.New(eO["var"],eO.disabled,eO.annotations,eO.onChange,eN,eO.autoCompletion,eO.toolTip,eO.declaration,eO.editorO,eO.editorHook);};bk.onChange=function(eN,eO){return bq.New(eO["var"],eO.disabled,eO.annotations,eN,eO.onRender,eO.autoCompletion,eO.toolTip,eO.declaration,eO.editorO,eO.editorHook);};bk.setVar=function(eN,eO){return bq.New(eN,eO.disabled,eO.annotations,eO.onChange,eO.onRender,eO.autoCompletion,eO.toolTip,eO.declaration,eO.editorO,eO.editorHook);};br.serLMdField=function(eN,eO,eP,eQ){var eR;function eS(eT,eU){eO(eT).Set(eR[1](eU));return eT;}eR=br.serSeq(eP,eQ);return[eN,function(eT){var eU;eU=(eO(eT))["var"].Get();return eR[0](eU);},function(eT){return function(eU){return eS(eT,eU);};}];};br.serVarField=function(eN,eO,eP,eQ){var eR;function eS(eT){return eT.Get();}return[eN,(eR=function(eT){return eS(eO(eT));},function(eT){return eP(eR(eT));}),function(eT){return function(eU){dZ.Set(eO(eT),eQ(eU));return eT;};}];};br.serMap=function(eN,eO,eP,eQ){var eR,eS,eT,eU,eV;function eW(eY){return[eY.K,eY.V];}function eX(eY){return new d6.New(eY);}eR=(eS=br.serDup(eN,eO,eP,eQ),br.serSeq(eS[0],eS[1]));return[(eT=function(eY){return dG.map(eW,eY);},(eU=eR[0],function(eY){return eU(eT(eY));})),(eV=eR[1],function(eY){return eX(eV(eY));})];};br.serDup=function(eN,eO,eP,eQ){var eR,eS,eT;function eU(eW){return[eR[1](null),eS[1](null)];}function eV(eW){return[eR[1](dI.get(eW,0)),eS[1](dI.get(eW,1))];}eR=[eN,eO];eS=[eP,eQ];return[function(eW){return(((dD.Curried3(function(eX,eY,eZ){return eX("["+dE.toSafe(eY)+", "+dE.toSafe(eZ)+"]");}))(a.id))(eR[0](eW[0])))(eS[0](eW[1]));},(eT=function(eW){return br.ifUndefF(eU,eV,eW);},function(eW){return eT(a.id(eW));})];};br.serOpt=function(eN,eO){var eP,eQ,eR,eS,eT,eU;function eV(eY){return eY==null?"null":eY.$0;}function eW(eY){return null;}function eX(eY){return{$:1,$0:eY};}eP=[eN,eO];return[(eQ=(eR=eP[0],function(eY){return eY==null?null:{$:1,$0:eR(eY.$0)};}),function(eY){return eV(eQ(eY));}),(eS=(eT=(eU=eP[1],function(eY){return eX(eU(eY));}),function(eY){return br.ifUndefF(eW,eT,eY);}),function(eY){return eS(a.id(eY));})];};br.serSet=function(eN,eO){var eP,eQ,eR,eS,eT,eU,eV;function eW(eY){return[];}function eX(eY){return new dV.New(eY);}eP=[eN,eO];return[(eQ=(eR=eP[0],function(eY){return new dV.New$1(d7.OfSeq(dG.map(eR,eY)));}),function(eY){return br.sprintA(eQ(eY));}),(eS=(eT=(eU=(eV=eP[1],function(eY){return dG.map(eV,eY);}),function(eY){return br.ifUndefF(eW,eU,eY);}),function(eY){return eT(a.id(eY));}),function(eY){return eX(eS(eY));})];};br.serLst=function(eN,eO){var eP,eQ,eR,eS,eT,eU,eV;function eW(eX){return[];}eP=[eN,eO];return[(eQ=(eR=eP[0],function(eX){return dH.map(eR,eX);}),function(eX){return br.sprintA(eQ(eX));}),(eS=(eT=(eU=(eV=eP[1],function(eX){return dG.map(eV,eX);}),function(eX){return br.ifUndefF(eW,eU,eX);}),function(eX){return eT(a.id(eX));}),function(eX){return dH.ofSeq(eS(eX));})];};br.serArr=function(eN,eO){var eP,eQ,eR,eS,eT,eU,eV;function eW(eX){return[];}eP=[eN,eO];return[(eQ=(eR=eP[0],function(eX){return dI.map(eR,eX);}),function(eX){return br.sprintA(eQ(eX));}),(eS=(eT=(eU=(eV=eP[1],function(eX){return dG.map(eV,eX);}),function(eX){return br.ifUndefF(eW,eU,eX);}),function(eX){return eT(a.id(eX));}),function(eX){return dI.ofSeq(eS(eX));})];};br.serSeq=function(eN,eO){var eP,eQ,eR,eS,eT,eU;function eV(eW){return[];}eP=[eN,eO];return[(eQ=(eR=eP[0],function(eW){return dG.map(eR,eW);}),function(eW){return br.sprintA(eQ(eW));}),(eS=(eT=(eU=eP[1],function(eW){return dG.map(eU,eW);}),function(eW){return br.ifUndefF(eV,eT,eW);}),function(eW){return eS(a.id(eW));})];};br.serFieldO=function(eN,eO,eP,eQ,eR){function eS(eT){return eT==null?null:{$:1,$0:eQ(eT.$0)};}return[eN,function(eT){return eS(eO(eT));},function(eT){return function(eU){return eP(!eU?null:{$:1,$0:eR(eU)},eT);};}];};br.serField=function(eN,eO,eP,eQ,eR){var eS;function eT(eU){return{$:1,$0:eU};}return[eN,(eS=function(eU){return eQ(eO(eU));},function(eU){return eT(eS(eU));}),function(eU){return function(eV){return eP(eR(eV),eU);};}];};br.serDate=function(){dv.$cctor();return dv.serDate;};br.serString=function(){dv.$cctor();return dv.serString;};br.serBool=function(){dv.$cctor();return dv.serBool;};br.serInt=function(){dv.$cctor();return dv.serInt;};br.serFloat=function(){dv.$cctor();return dv.serFloat;};br.sprintA=function(eN){var eO;eO=dF.concat(", ",eN);return(function(eP){return function(eQ){return eP("["+dE.toSafe(eQ)+"]");};}(a.id))(eO);};br.deserGuid=function(){dv.$cctor();return dv.deserGuid;};br.Exists=function(eN,eO){return!eO[eN]?null:{$:1,$0:eO[eN]};};br.ifUndefF=function(eN,eO,eP){return!eP?eN(eP):eO(eP);};br.ifUndef=function(eN,eO){return!eO?eN:eO;};bs.Identifier=function(eN){var eO,eP,eQ;return(eP=bd.REGEX$1("^[$a-zA-Z_][0-9a-zA-Z_\\.\\-$]*$","",eN),eP!=null&&eP.$==1&&((eQ=eP.$0,!dN.Equals(eQ,null)&&eQ.length===1)&&(eO=dI.get(eP.$0,0),true)))?{$:1,$0:eO}:null;};bs.getEndWord=function(eN,eO){var eP,eQ;eP=bd.REGEX$1("^([a-zA-Z_]\\w*)","g",eN.substring(eO));return eP!=null&&eP.$==1?(eQ=eP.$0,!dN.Equals(eQ,null)&&eQ.length===1)?dI.get(eP.$0,0):"":"";};bs.getStartWord=function(eN,eO){var eP,eQ;eP=bd.REGEX$1("([a-zA-Z_]\\w*)$","g",dF.Substring(eN,0,eO));return eP!=null&&eP.$==1?(eQ=eP.$0,!dN.Equals(eQ,null)&&eQ.length===1)?dI.get(eP.$0,0):"":"";};bu=bt.Hoverable=dD.Class({Content:function(eN){return eN.on("mouseenter",function(){return d8.AddClass(eN.elt,"hovering");}).on("mouseleave",function(){return d8.RemoveClass(eN.elt,"hovering");});},Content$1:function(eN){return d5.Element("div",this.get_Attributes(),eN);},get_Attributes:function(){var eN,eO;eN=this;return dH.ofArray([(eO=d0.Const("hovering"),d9.DynamicPred("class",this.hover.get_View(),eO)),d_.HandlerImpl("mouseenter",function(){return function(){return eN.hover.Set(true);};}),d_.HandlerImpl("mouseleave",function(){return function(){return eN.hover.Set(false);};})]);}},null,bu);bu.get_Demo=function(){return bu.New$1().Content(d5.Element("div",[d_.Create("style","flex-flow: column;")],[d5.TextNode("Hover over me!")]));};bu.Content$3203$81=dD.Curried3(function(eN,eO,eP){return d8.RemoveClass(eN.elt,"hovering");});bu.get_Attributes$3199$69=dD.Curried3(function(eN,eO,eP){return eN.hover.Set(false);});bu.get_Attributes$3198$69=dD.Curried3(function(eN,eO,eP){return eN.hover.Set(true);});bu.New$1=function(){return bu.New(dZ.Create$1(false));};bu.New=function(eN){return new bu({hover:eN});};bt.hoverable=function(eN){return bu.New$1().Content(eN);};bv.addResizeObserver=function(eN,eO){var eP,eQ,eR,eS;try{eP=!(!a.ResizeObserver);}catch(eT){eP=false;}if(eP){eQ=new a.ResizeObserver(eN);bv.set_observers(new dH.T({$:1,$0:eQ,$1:bv.observers()}));eQ.observe(eO);}else{eR=bv.dimsChanged(eO);dJ.Start((eS=null,dJ.Delay(function(){return dJ.While(function(){return eO.isConnected;},dJ.Delay(function(){return dJ.Bind(dJ.Sleep(110),function(){return eR()?(eN(),dJ.Zero()):dJ.Zero();});}));})),null);}};bv.dimsChanged=function(eN){var eO;eO=[eN.getBoundingClientRect()];return function(){var eP;eP=eN.getBoundingClientRect();return dN.Equals(bv.domRect2Tuple(eO[0]),bv.domRect2Tuple(eP))?false:(eO[0]=eP,true);};};bv.domRect2Tuple=function(eN){return[eN.top,eN.left,eN.width,eN.height];};bv.observers=function(){dv.$cctor();return dv.observers;};bv.set_observers=function(eN){dv.$cctor();dv.observers=eN;};by=bx.WcTabStripT=dD.Class({connectedCallback:function(){var eN,eO,eP,eQ;function eR(){var eS,eT,eU;eT=!eO.hasAttribute("bottom");eU=dH.ofSeq(dG.delay(function(){return dG.collect(function(eV){var eW;eW=eO.childNodes[eV-1];return dN.Equals(eW.nodeType,d$.ELEMENT_NODE)?[[eW.hasAttribute("tabname")?eW.getAttribute("tabname"):(function(eX){return function(eY){return eX("Tab "+a.String(eY));};}(a.id))(eV),eW]]:[];},dM.range(1,eO.childNodes.length));}));while(eQ.childNodes.length>0)eQ.removeChild(eQ.lastChild);eS=bx.tabStrip(eN.selected,eT,true,eU,d5.Element("slot",dH.T.Empty,dH.T.Empty));eb.LoadLocalTemplates("");d5.Run(eQ,eS);}eN=this;!this.added?(eO=this,eP=eO.attachShadow({mode:"open"}),eQ=self.document.createElement("div"),eP.appendChild(eQ),eR(),eO.addEventListener("DOMSubtreeModified",c.delayed(50,eR)),this.added=true):void 0;}},n,by);by.Constructor=function(){var eN,eO;eN=(eO=ec.construct(self.HTMLElement,[],this.__proto__.constructor),eO);self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New.call(eN);return eN;};by.New=dD.Ctor(function(){n.New.call(this);this.added=false;this.selected=dZ.Create$1(1);(function(eN){return eN("WcTabStripT initializer");}(function(eN){d2.log(eN);}));},by);bx.init=function(){dv.$cctor();return dv.init;};bx.tabStrip$3347$64=function(eN,eO){return function(){return function(){return eO.Set(eN+1);};};};bx.tabStrip=function(eN,eO,eP,eQ,eR){var eS;eS=d5.Element("div",[d_.Create("class",(((dD.Curried3(function(eT,eU,eV){return eT("tab-strip "+dE.toSafe(eU)+" "+dE.toSafe(eV));}))(a.id))(eO?"top":"bottom"))(eP?"horizontal":"vertical"))],dH.ofSeq(dG.delay(function(){return dG.collect(function(eT){var eU;eU=eT[0];return[bu.New$1().Content(d5.Element("div",[d9.Dynamic("class",d0.Map(function(eV){return"tab"+(eV===eU+1?" selected":"");},eN.get_View())),d_.Create("draggable","true"),d_.HandlerImpl("click",function(){return function(){return eN.Set(eU+1);};})],[d5.TextNode(eT[1][0])]))];},dG.indexed(eQ));})));return d5.Element("div",[d_.Create("class","tab-panel")],dH.ofSeq(dG.delay(function(){return dG.append(eO?[eS]:[],dG.delay(function(){return dG.append([d5.Element("div",[d_.Create("class","tab-content")],[eR])],dG.delay(function(){return dG.append(!eO?[eS]:[],dG.delay(function(){return dG.append([d5.Element("style",dH.T.Empty,dH.ofArray([d5.TextNode(bx.css())]))],dG.delay(function(){return[d5.Element("style",dH.T.Empty,dH.ofArray([d5.TextView(d0.Map(function(eT){return function(eU){return eT("\r\n                                              ::slotted(*              ) { display: none }\r\n                                              ::slotted(*:nth-child("+a.String(eU)+")) { display: grid }\r\n                                           ");};}(a.id),eN.get_View()))]))];}));}));}));}));})));};bx.css=function(){dv.$cctor();return dv.css;};bA=bz.WcSplitterT=dD.Class({connectedCallback:function(){var eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2;function e3(e$){var fa,fb,fc,fd;fa=eU?["padding-left","padding-right","grid-column-gap"]:["padding-top","padding-bottom","grid-row-gap"];fb=a.parseFloat("0"+a.jQuery(e$.parentElement.parentElement).css(fa[0]));fc=a.parseFloat("0"+a.jQuery(e$.parentElement.parentElement).css(fa[1]));eX.Set(a.parseFloat("0"+a.jQuery(e$.parentElement.parentElement).css(fa[2])));eW[0]=fb+fc;fd=eN.getBoundingClientRect();return eU?eT?[fd.width,fd.height]:[-fd.width,fd.height]:eT?[fd.height,fd.width]:[-fd.height,fd.width];}function e4(e$){return eU?e$.clientX:e$.clientY;}function e5(e$){var fa,fb;fa=(e4(e$)-e0[0])*100/eV[0][0]+eZ[0];eS.Set((fb=dN.Compare(eQ,fa)===1?eQ:fa,dN.Compare(eR,fb)===-1?eR:fb));}function e6(){if(eY[0]){eY[0]=false;self.removeEventListener("mousemove",e5,false);self.removeEventListener("mouseup",e6,false);}}function e7(e$){var fa,fb;if(!eY[0]){eY[0]=true;eZ[0]=eS.Get();e0[0]=e4(e$);eV[0]=(fa=(fb=e1[0],fb==null?null:{$:1,$0:e3(fb.$0)}),fa==null?[100,500]:fa.$0);self.addEventListener("mousemove",e5,false);self.addEventListener("mouseup",e6,false);e$.preventDefault();}}function e8(e$,fa,fb,fc){return[(e$-fa-fb)*fc/100,(e$-fa-fb)*(100-fc)/100];}function e9(e$,fa){return(((((dD.Curried(function(fb,fc,fd,fe,ff){return fb(" "+fc.toFixed(2)+"px "+fd.toFixed(2)+"px ; "+dE.toSafe(fe)+" : "+ff.toFixed(2)+"px; ");},5))(a.id))(e$))(fa))(eU?"height":"width"))(eV[0][1]);}function e_(){var e$;e$=e1[0];(k.iter(function(fa){eV[0]=e3(fa);}))(e$);eS.Set(eS.Get());}if(!this.added){eN=this;eO=eN.attachShadow({mode:"open"});eP=self.document.createElement("div");eQ=eN.hasAttribute("min")?a.parseFloat(eN.getAttribute("min")):4;eR=eN.hasAttribute("max")?a.parseFloat(eN.getAttribute("max")):96;eS=dZ.Create$1(eN.hasAttribute("value")?a.parseFloat(eN.getAttribute("value")):50);eT=!eN.hasAttribute("second");eU=eN.hasAttribute("vertical");eV=[[0,0]];eW=[0];eX=dZ.Create$1(0);eY=[false];eZ=[0];e0=[0];e1=[null];e2=(((((eU?bz.layoutVertical():bz.layoutHorizontal())(d0.Map(function(e$){var fa;fa=e8(eV[0][0],eX.Get(),eW[0],e$);return e9.apply(null,fa);},eS.get_View())))(function(){bv.addResizeObserver(e_,eN);e_();}))(function(e$){e1[0]={$:1,$0:e$};e_();}))(function(e$){e7(e$);}))(d0.Map(function(e$){return function(fa){return e$(dE.prettyPrint(fa)+"px");};}(a.id),eX.get_View()));eb.LoadLocalTemplates("");d5.Run(eP,e2);eO.appendChild(eP.firstChild);this.added=true;}}},n,bA);bA.Constructor=function(){var eN,eO;eN=(eO=ec.construct(self.HTMLElement,[],this.__proto__.constructor),eO);self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New.call(eN);return eN;};bA.New=dD.Ctor(function(){n.New.call(this);this.added=false;(function(eN){return eN("WcSplitterT initializer");}(function(eN){d2.log(eN);}));},bA);bz.init=function(eN,eO){var eP;eP=new bA.New();bz.set_layoutHorizontal(eN);bz.set_layoutVertical(eO);bw.defineWebComponent("wcomp-splitter",bA.Constructor,self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New);};bz.layoutVertical=function(){dv.$cctor();return dv.layoutVertical;};bz.set_layoutVertical=function(eN){dv.$cctor();dv.layoutVertical=eN;};bz.layoutHorizontal=function(){dv.$cctor();return dv.layoutHorizontal;};bz.set_layoutHorizontal=function(eN){dv.$cctor();dv.layoutHorizontal=eN;};bw.defineWebComponent=function(eN,eO,eP){try{d2.log("defineWebComponent: "+eN);ed.setPrototypeOf(eP.prototype,self.HTMLElement.prototype);ed.setPrototypeOf(eP,self.HTMLElement);ed.setPrototypeOf(eO.prototype,eP.prototype);self.customElements.define(eN,eO);}catch(eQ){(function(eR){return eR("Failed to define WebComponent. Not supported.");}(function(eR){d2.log(eR);}));}};bC.New=function(eN,eO){return{column:eN,lineNumber:eO};};bD.New=function(eN,eO,eP,eQ){return{startColumn:eN,endColumn:eO,startLineNumber:eP,endLineNumber:eQ};};bE.New=function(eN,eO,eP,eQ,eR,eS){return{authority:eN,fragment:eO,fsPath:eP,path:eQ,query:eR,scheme:eS};};bF.New=function(eN,eO){return{range:eN,uri:eO};};bG.New=function(eN,eO){return{matches:eN,range:eO};};bH.New=function(eN,eO,eP){return{endColumn:eN,startColumn:eO,word:eP};};bI.New=function(eN){return{uri:eN};};bJ.New=function(eN,eO){return{value:eN,isTrusted:eO};};bK.New=function(eN,eO,eP,eQ,eR,eS){return{startColumn:eN,endColumn:eO,startLineNumber:eP,endLineNumber:eQ,severity:eR,message:eS};};bL.New=function(eN,eO,eP){return{kind:eN,label:eO,detail:eP};};bM.New=function(eN,eO){return{contents:eN,range:eO};};bN=bB.Editor=dD.Class({},n,bN);bN.New=dD.Ctor(function(){n.New.call(this);},bN);bO.New=function(eN,eO,eP,eQ,eR,eS,eT){return{"var":eN,onChange:eO,onRender:eP,editorO:eQ,disabled:eR,options:eS,overrides:eT};};bB.newVarO=function(eN){var eO;eO=bB.newVar(dZ.Lens(eN,function(eP){return eP==null?"":eP.$0;},function(eP,eQ){return eP==null?null:{$:1,$0:eQ};}));return bB.disabled(d0.Map(function(eP){return eP==null;},eN.get_View()),eO);};bB.newText=function(eN){return bB.newVar(dZ.Create$1(eN));};bB["var"]=function(eN){return eN["var"];};bB.disabled=function(eN,eO){return bO.New(eO["var"],eO.onChange,eO.onRender,eO.editorO,eN,eO.options,eO.overrides);};bB.onRender=function(eN,eO){return bO.New(eO["var"],eO.onChange,{$:1,$0:eN},eO.editorO,eO.disabled,eO.options,eO.overrides);};bB.onChange=function(eN,eO){return bO.New(eO["var"],eN,eO.onRender,eO.editorO,eO.disabled,eO.options,eO.overrides);};bB.setVar=function(eN,eO){return bO.New(eN,eO.onChange,eO.onRender,eO.editorO,eO.disabled,eO.options,eO.overrides);};bB.render$3716$48=function(eN){return function(eO){var eP,eQ;eP=(eQ=eO.parentElement,self.monaco.editor.create(eQ,eN.options,eN.overrides));bv.addResizeObserver(function(){eP.layout();},eO.parentElement);eO.parentNode.removeChild(eO);eN.editorO={$:1,$0:eP};(k.iter(function(eR){eR(eP);}))(eN.onRender);bk.bindVarEditor(function(eR){eP.onDidChangeModelContent(eR);},function(){return eP.getValue();},function(eR){eP.setValue(eR);},eN.onChange,eN["var"]);};};bB.render=function(eN){var eO;return d5.Async((eO=null,dJ.Delay(function(){return dJ.Bind(bB.loader(),function(){return dJ.Return(d5.Element("div",[d_.OnAfterRenderImpl(function(eP){var eQ,eR;eQ=(eR=eP.parentElement,self.monaco.editor.create(eR,eN.options,eN.overrides));bv.addResizeObserver(function(){eQ.layout();},eP.parentElement);eP.parentNode.removeChild(eP);eN.editorO={$:1,$0:eQ};(k.iter(function(eS){eS(eQ);}))(eN.onRender);bk.bindVarEditor(function(eS){eQ.onDidChangeModelContent(eS);},function(){return eQ.getValue();},function(eS){eQ.setValue(eS);},eN.onChange,eN["var"]);})],[]));});})));};bB.loader=function(){dv.$cctor();return dv.loader;};bB.newVar=function(eN){return bO.New(eN,a.ignore,null,null,d0.Const(false),null,null);};bQ.New=function(eN,eO,eP,eQ){return{editorO:eN,onChange:eO,options:eP,overrides:eQ};};bR=bP.CompletionItemProvider=dD.Class({resolveCompletionItem:function(eN,eO){return bL.New(eN.kind,eN.label,"more details");},provideCompletionItems:function(eN,eO,eP,eQ){var eR,eS;eR=this;return bf.ofAsyncResultM((eS=R.asyncResultM(),eS.Run(eS.Delay(function(){return R["AsyncResultMBuilder.Bind"](eS,eR.autoComplete(bl.New(eO.lineNumber,eO.column)),function(eT){return eS.Return(dI.map(function(eU){return bL.New(bP.convertGlyphChar(eU.kind),eU.label,eU.detail);},eT));});}))));}},n,bR);bR.New=dD.Ctor(function(eN){n.New.call(this);this.autoComplete=eN;},bR);bS=bP.HoverProvider=dD.Class({provideHover:function(eN,eO,eP){var eQ,eR;eQ=this;return bf.ofAsyncResultM((eR=R.asyncResultM(),eR.Run(eR.Delay(function(){return R["AsyncResultMBuilder.Bind"](eR,eQ.toolTip(bl.New(eO.lineNumber,eO.column)),function(eS){return eS!=null&&eS.$==1?eR.Return(bM.New([bJ.New(eS.$0,true)],null)):eR.Return(null);});}))));}},n,bS);bS.New=dD.Ctor(function(eN){n.New.call(this);this.toolTip=eN;},bS);bT=bP.DefinitionProvider=dD.Class({provideDefinition:function(eN,eO,eP){var eQ,eR;eQ=this;return bf.ofAsyncResultM((eR=R.asyncResultM(),eR.Run(eR.Delay(function(){return R["AsyncResultMBuilder.Bind"](eR,eQ.declaration(bl.New(eO.lineNumber,eO.column)),function(eS){var eT;return eS!=null&&eS.$==1?(eT=eS.$0[0],eR.Return(bF.New(bD.New(eT.col,eT.col,eT.line,eT.line),self.monaco.Uri.parse(eS.$0[1])))):eR.Return(null);});}))));}},n,bT);bT.New=dD.Ctor(function(eN){n.New.call(this);this.declaration=eN;},bT);bP.newVar=function(eN,eO,eP){return bk.newVar(bP.newHook(bP.newRT(eN,eO)),eP);};bP.newRT=function(eN,eO){return bQ.New(null,a.ignore,eN,eO);};bP.newHook=function(eN){function eO(eP,eQ){return bP.generateDoc(eN,eP,eQ);}return bp.New(function(eP){return function(eQ){return eO(eP,eQ);};},function(){return bP.getValue(eN);},function(eP){bP.setValue(eN,eP);},a.ignore,function(eP){bP.showAnnotations(eN,eP);},function(eP){return bP.posFromIndex(eN,eP);},function(eP){return bP.indexFromPos(eN,eP);},function(eP){return bP.getWordAt(eN,eP);},function(){return bP.getSelect(eN);},function(){return bP.getUri(eN);},function(eP){bP.setUri(eN,eP);},function(eP){eN.onChange=eP;});};bP.showAnnotations=function(eN,eO){bP.iterEditor(eN,function(eP){var eQ,eR;eQ=dI.ofSeq(dG.map(function(eS){var eT;return bK.New(eS.startP.col,eS.endP.col,eS.startP.line,eS.endP.line,(eT=eS.severity,eT.$==0?8:eT.$==1?4:eT.$==3?1:2),eS.message);},eO));eR=eP.getModel();self.monaco.editor.setModelMarkers(eR,"annotations",eQ);});};bP.getSelect=function(eN){var eO;eO=bP.mapEditor(eN,function(eP){var eQ;eQ=eP.getSelection();return eP.getModel().getValueInRange(eQ);});return eO==null?"":eO.$0;};bP.getWordAt=function(eN,eO){return bP.bindEditor(eN,function(eP){var eQ;eQ=eP.getModel().getWordAtPosition(bC.New(eO.col,eO.line));return!eQ?null:{$:1,$0:[eQ.word,bl.New(eO.line,eQ.startColumn)]};});};bP.setValue=function(eN,eO){bP.iterEditor(eN,function(eP){eP.setValue(eO);});};bP.getValue=function(eN){var eO;eO=bP.mapEditor(eN,function(eP){return eP.getValue();});return eO==null?"":eO.$0;};bP.setUri=function(eN,eO){bP.iterEditor(eN,function(eP){eP.getModel().uri=self.monaco.Uri.parse(eO);});};bP.getUri=function(eN){var eO;eO=bP.mapEditor(eN,function(eP){return a.String(eP.getModel().uri);});return eO==null?"":eO.$0;};bP.generateDoc$3858$48=function(eN,eO,eP){return function(eQ){var eR,eS;eR=(eS=eQ.parentElement,self.monaco.editor.create(eS,eN.options,eN.overrides));bv.addResizeObserver(function(){eR.layout();},eQ.parentElement);eQ.parentNode.removeChild(eQ);eN.editorO={$:1,$0:eR};eO(eR);eR.onDidChangeModelContent(eN.onChange);(k.iter(function(eT){var eU;eU=new bS.New(eT(eP));self.monaco.languages.registerHoverProvider("fsharp",eU);}))(eP.toolTip);(k.iter(function(eT){var eU;eU=new bT.New(eT(eP));self.monaco.languages.registerDefinitionProvider("fsharp",eU);}))(eP.declaration);(k.iter(function(eT){var eU;eU=new bR.New(eT(eP));self.monaco.languages.registerCompletionItemProvider("fsharp",eU);}))(eP.autoCompletion);};};bP.generateDoc=function(eN,eO,eP){var eQ;return d5.Async((eQ=null,dJ.Delay(function(){return dJ.Bind(bB.loader(),function(){return dJ.Return(d5.Element("div",[d_.OnAfterRenderImpl(function(eR){var eS,eT;eS=(eT=eR.parentElement,self.monaco.editor.create(eT,eN.options,eN.overrides));bv.addResizeObserver(function(){eS.layout();},eR.parentElement);eR.parentNode.removeChild(eR);eN.editorO={$:1,$0:eS};eP(eS);eS.onDidChangeModelContent(eN.onChange);(k.iter(function(eU){var eV;eV=new bS.New(eU(eO));self.monaco.languages.registerHoverProvider("fsharp",eV);}))(eO.toolTip);(k.iter(function(eU){var eV;eV=new bT.New(eU(eO));self.monaco.languages.registerDefinitionProvider("fsharp",eV);}))(eO.declaration);(k.iter(function(eU){var eV;eV=new bR.New(eU(eO));self.monaco.languages.registerCompletionItemProvider("fsharp",eV);}))(eO.autoCompletion);})],[]));});})));};bP.convertGlyphChar=function(eN){return eN==="C"?6:eN==="E"?12:eN==="S"?11:eN==="I"?7:eN==="N"?8:eN==="M"?1:eN==="P"?9:eN==="F"?4:eN==="T"?6:eN==="K"?13:0;};bP.posFromIndex=function(eN,eO){var eP;eP=bP.mapEditor(eN,function(eQ){return bP.posEd2Gen(eQ.getModel().getPositionAt(eO));});return eP==null?bl.New(1,1):eP.$0;};bP.indexFromPos=function(eN,eO){var eP;eP=bP.mapEditor(eN,function(eQ){return eQ.getModel().getOffsetAt(bP.posGen2Ed(eO));});return eP==null?-1:eP.$0;};bP.posEd2Gen=function(eN){return bl.New(eN.lineNumber,eN.column);};bP.posGen2Ed=function(eN){return bC.New(eN.col,eN.line);};bP.bindEditor=function(eN,eO){var eP;eP=eN.editorO;return eP!=null&&eP.$==1?eO(eP.$0):null;};bP.mapEditor=function(eN,eO){var eP;eP=eN.editorO;return eP!=null&&eP.$==1?{$:1,$0:eO(eP.$0)}:null;};bP.iterEditor=function(eN,eO){var eP;eP=eN.editorO;eP!=null&&eP.$==1?eO(eP.$0):void 0;};bU.html=function(){dv.$cctor();return dv.html;};bW=bV.PlgElemName=dD.Class({get_Id:function(){return this.$0;}},null,bW);bX=bV.PlugInName=dD.Class({get_Id:function(){return this.$0;}},null,bX);bY.New=function(eN,eO){return{varName:eN,varVar:eO};};bZ.New=function(eN,eO){return{viwName:eN,viwView:eO};};b0.New=function(eN,eO){return{docName:eN,docDoc:eO};};b1.New=function(eN,eO,eP){return{actName:eN,actFunction:eO,actEnabled:eP};};b2.New=function(eN,eO){return{qryName:eN,qryFunction:eO};};b3.New=function(eN,eO,eP,eQ,eR,eS){return{plgName:eN,plgVars:eO,plgViews:eP,plgDocs:eQ,plgActions:eR,plgQueries:eS};};b4=bV.PlugInBuilder=dD.Class({Merge:function(eN,eO,eP){eN.plgVars.AppendMany(dG.map(function(eQ){return bY.New(new bW({$:0,$0:eO+eQ.varName.get_Id()}),eQ.varVar);},eP.plgVars));eN.plgViews.AppendMany(dG.map(function(eQ){return bZ.New(new bW({$:0,$0:eO+eQ.viwName.get_Id()}),eQ.viwView);},eP.plgViews));eN.plgDocs.AppendMany(dG.map(function(eQ){return b0.New(new bW({$:0,$0:eO+eQ.docName.get_Id()}),eQ.docDoc);},eP.plgDocs));eN.plgActions.AppendMany(dG.map(function(eQ){return b1.New(new bW({$:0,$0:eO+eQ.actName.get_Id()}),eQ.actFunction,eQ.actEnabled);},eP.plgActions));eN.plgQueries.AppendMany(dG.map(function(eQ){return b2.New(new bW({$:0,$0:eO+eQ.qryName.get_Id()}),eQ.qryFunction);},eP.plgQueries));return eN;},AddViw:function(eN,eO,eP){eN.plgViews.Append(bV.newViw(new bW({$:0,$0:eO}),eP));return eN;},AddActO:function(eN,eO,eP){eP==null?void 0:eN.plgActions.Append(bV.newAct(new bW({$:0,$0:eO}),eP.$0));return eN;},AddAct2:function(eN,eO,eP,eQ,eR){eN.plgActions.Append(bV.newActF(new bW({$:0,$0:eO}),{$:2,$0:eP,$1:eQ,$2:eR}));return eN;},AddAct1:function(eN,eO,eP,eQ){eN.plgActions.Append(bV.newActF(new bW({$:0,$0:eO}),{$:1,$0:eP,$1:eQ}));return eN;},AddAct:function(eN,eO,eP){eN.plgActions.Append(bV.newAct(new bW({$:0,$0:eO}),eP));return eN;},AddQry:function(eN,eO,eP){eN.plgQueries.Append(bV.newQry(new bW({$:0,$0:eO}),eP));return eN;},AddDoc5:function(eN,eO,eP,eQ,eR,eS,eT,eU){eN.plgDocs.Append(bV.newDocF(new bW({$:0,$0:eO}),{$:6,$0:eP,$1:eQ,$2:eR,$3:eS,$4:eT,$5:eU}));return eN;},AddDoc4:function(eN,eO,eP,eQ,eR,eS,eT){eN.plgDocs.Append(bV.newDocF(new bW({$:0,$0:eO}),{$:5,$0:eP,$1:eQ,$2:eR,$3:eS,$4:eT}));return eN;},AddDoc3:function(eN,eO,eP,eQ,eR,eS){eN.plgDocs.Append(bV.newDocF(new bW({$:0,$0:eO}),{$:4,$0:eP,$1:eQ,$2:eR,$3:eS}));return eN;},AddDoc2:function(eN,eO,eP,eQ,eR){eN.plgDocs.Append(bV.newDocF(new bW({$:0,$0:eO}),{$:3,$0:eP,$1:eQ,$2:eR}));return eN;},AddDoc1:function(eN,eO,eP,eQ){eN.plgDocs.Append(bV.newDocF(new bW({$:0,$0:eO}),{$:2,$0:eP,$1:eQ}));return eN;},AddDoc0:function(eN,eO,eP){eN.plgDocs.Append(bV.newDoc0(new bW({$:0,$0:eO}),eP));return eN;},AddDoc:function(eN,eO,eP){eN.plgDocs.Append(bV.newDoc(new bW({$:0,$0:eO}),eP));return eN;},AddVar:function(eN,eO,eP){eN.plgVars.Append(bV.newVar(new bW({$:0,$0:eO}),eP));return eN;},Name:function(eN,eO){return b3.New(new bX({$:0,$0:eO}),eN.plgVars,eN.plgViews,eN.plgDocs,eN.plgActions,eN.plgQueries);},For:function(eN,eO){var eP;eP=dK.Get(eN);while(eP.MoveNext())eO(eP.Current());},Yield:function(){return this.Zero();},Zero:function(){var eN;eN=bV.defaultPlugIn();return b3.New(new bX({$:0,$0:"Main"}),eN.plgVars,eN.plgViews,eN.plgDocs,eN.plgActions,eN.plgQueries);}},n,b4);b4.New=dD.Ctor(function(){n.New.call(this);},b4);b5.New=function(eN,eO){return{f:eN,p:eO};};b6.New=function(eN){return{r:eN};};b7.textAtt=function(eN){var eO;eO=dM.FailWith;return eO("textAtt not implemented");};b7.textDoc=function(eN){return eN.$==0?d5.TextView(eN.$0):d5.TextNode(eN.$0);};b7.addAtt=function(eN,eO){return eO.$==0?function(eP){return eP("addAtt for VView not implemented");}(dM.FailWith):{$:1,$0:dG.append(eO.$0,[eN])};};b7.addDoc=function(eN,eO){return eO.$==0?{$:1,$0:[d5.BindView(d5.Concat,eO.$0),eN]}:{$:1,$0:dG.append(eO.$0,[eN])};};b7.toView=function(eN){return eN.$==0?eN.$0:d0.Const(eN.$0);};b7.sequenceListApp=function(eN){return b7.traverseListApp(a.id,eN);};b7.traverseListApp=function(eN,eO){function eP(eQ,eR){return new dH.T({$:1,$0:eQ,$1:eR});}return dH.foldBack(function(eQ,eR){return((b7.op_LessMultiplyGreater())(((b7.op_LessMultiplyGreater())(b7.rtn(function(eS){return function(eT){return eP(eS,eT);};})))(eN(eQ))))(eR);},eO,b7.rtn(dH.T.Empty));};b7.op_LessMultiplyGreater=function(){dv.$cctor();return dv.op_LessMultiplyGreater;};b7.apply=function(eN,eO){return eN.$==0?eO.$==1?{$:0,$0:d0.Apply(eN.$0,d0.Const(eO.$0))}:{$:0,$0:d0.Apply(eN.$0,eO.$0)}:eO.$==0?{$:0,$0:d0.Apply(d0.Const(eN.$0),eO.$0)}:{$:1,$0:eN.$0(eO.$0)};};b7.rtn=function(eN){return{$:1,$0:eN};};b7.map=function(eN,eO){return eO.$==0?{$:0,$0:d0.Map(eN,eO.$0)}:{$:1,$0:eN(eO.$0)};};b8.AEmpty={$:3};b9.extractTextD=function(){dv.$cctor();return dv.extractTextD;};b9.extractAtsD=function(){dv.$cctor();return dv.extractAtsD;};b9.getTextValD=function(){dv.$cctor();return dv.getTextValD;};b9.getTextValFromSeqD=function(){dv.$cctor();return dv.getTextValFromSeqD;};b9.extractDocD=function(){dv.$cctor();return dv.extractDocD;};b9.getDocFromTextTypesD=function(){dv.$cctor();return dv.getDocFromTextTypesD;};b9.getTextActViewFromReferenceD=function(){dv.$cctor();return dv.getTextActViewFromReferenceD;};b9.getDocFromReferenceD=function(){dv.$cctor();return dv.getDocFromReferenceD;};b9.getTextData=function(eN){var eO,eP,eQ;eO=(eP=S.delimitedO("@{","}",eN),eP==null?null:{$:1,$0:(eQ=eP.$0,b9.getOneTextData(eQ[0],eQ[1],eQ[2]))});return eO==null?dH.ofArray([{$:0,$0:eN}]):eO.$0;};b9.getOneTextData=function(eN,eO,eP){return(eN===""?a.id:function(eQ){return new dH.T({$:1,$0:{$:0,$0:eN},$1:eQ});})(new dH.T({$:1,$0:{$:1,$0:eO},$1:eP===""?dH.T.Empty:b9.getTextData(eP)}));};b9.getTextActViewFromReference=function(eN){return d0.Const({$:0,$0:(function(eO){return function(eP){return eO("getTextActViewFromReference not implemented: @{"+dE.toSafe(eP)+"}");};}(a.id))(eN)});};b9.getDocFromReference=function(eN){return d5.TextNode((function(eO){return function(eP){return eO("getDocFromReference not implemented: @{"+dE.toSafe(eP)+"}");};}(a.id))(eN));};b_=bV.ListModelData=dD.Class({get_CurrentV:function(){var eN;eN=this;return new d4.New(this.get_CurrentW(),function(eO){var eP,eQ;eP=eN.selV.Get();eP==null?void 0:(eQ=eP.$0,d0.Get(function(eR){if(eR.ContainsKey(eQ))eR.Append(eO);},eN.elemsW));});},get_CurrentW:function(){var eN,eO;eN=this;eO=d0.get_Do();return d0.Bind(function(eP){return d0.Bind(function(eQ){return eQ==null?d0.Const(eN.def):d0.Bind(function(eR){return eR==null?d0.Const(eN.def):d0.Const(eR.$0);},eP.TryFindByKeyAsView(eQ.$0));},eN.selV.get_View());},this.elemsW);},PlugIn:function(eN,eO){var eP,eQ;function eR(eS){}eP=bV.plugin();return eP.AddAct(eP.AddAct(eP.AddVar(eP.AddDoc0(eP.Yield(),"list",this.doc),"sel",bV.lensStrO(bV.mapVarO(eN,eO,this.selV))),"add",(eQ=this.add,function(eS){return eR(eQ(eS));})),"del",this.delCur);}},null,b_);b_.New=function(eN,eO,eP,eQ,eR,eS){return new b_({elemsW:eN,doc:eO,selV:eP,add:eQ,delCur:eR,def:eS});};bV.mapVarO=function(eN,eO,eP){return new d4.New(d0.Map(function(eQ){return eQ==null?null:{$:1,$0:eO(eQ.$0)};},eP.get_View()),function(eQ){var eR;function eS(eU){return{$:1,$0:eU};}function eT(eU){eP.Set(eU);}if(eQ!=null&&eQ.$==1){eR=eN(eQ.$0);(k.iter(function(eU){return eT(eS(eU));}))(eR);}else eP.Set(null);});};bV.lensStrO=function(eN){return new d4.New(d0.Map(function(eO){return eO!=null&&eO.$==1?eO.$0:"";},eN.get_View()),function(eO){if(eO==="")eN.Set(null);else eN.Set({$:1,$0:eO});});};bV.concatMainDocs=function(eN){return d5.Concat(dG.choose(function(eO){var eP;eP=bV.Lazy(eO.docDoc);return eP.$==0?{$:1,$0:eP.$0}:eP.$==1?{$:1,$0:eP.$0()}:null;},dG.choose(function(eO){return dG.tryHead(eO.plgDocs);},eN)));};bV.op_Dereference=function(eN){return b6.New((x.rtn())({$:1,$0:eN}));};bV.getMainDoc=function(){dv.$cctor();return dv.getMainDoc;};bV.splitterPerc=function(){dv.$cctor();return dv.splitterPerc;};bV.addPlugIn=function(eN){eN.plgViews.Append(bV.newViw(new bW({$:0,$0:"PlugInName"}),d0.Const(eN.plgName.get_Id())));bV.plugIns().Append(eN);};bV.select=function(){dv.$cctor();return dv.select;};bV.delayAction=function(){dv.$cctor();return dv.delayAction;};bV.callAction=function(eN,eO,eP){(((function(eQ){return(bV.callAction0())(eQ);}(eN))(eO))(eP));};bV.callAction0=function(){dv.$cctor();return dv.callAction0;};bV.trigActChange=function(){dv.$cctor();return dv.trigActChange;};bV.trigAct=function(){dv.$cctor();return dv.trigAct;};bV.dragSplitter=function(eN,eO){(bV.dragSplitter0())([eN,eO]);};bV.dragSplitter0=function(){dv.$cctor();return dv.dragSplitter0;};bV.draggingEvent=function(eN,eO,eP){var eQ,eR,eS,eT,eU,eV,eW,eX;function eY(e2){return eR?eN?e2.getBoundingClientRect().width:-e2.getBoundingClientRect().width:eN?e2.getBoundingClientRect().height:-e2.getBoundingClientRect().height;}function eZ(e2){return eR?e2.clientX:e2.clientY;}function e0(e2){var e3,e4,e5,e6,e7;e3=S.left(5,a.String((e4=(e5=(eZ(e2)-eV)*100/(eX-eW)+eS,(e6=0,dN.Compare(e6,e5)===1?e6:e5)),(e7=100,dN.Compare(e7,e4)===-1?e7:e4))));eO.Get()!==e3?eO.Set(e3):void 0;}function e1(){self.removeEventListener("mousemove",e0,false);self.removeEventListener("mouseup",e1,false);}eQ=eP.toElement;eR=eQ.parentElement.hasAttribute("vertical");eS=(eT=(eU=eO.Get(),(T.parseDoubleO())(eU)),eT==null?0:eT.$0);eV=eZ(eP);eW=eY(eQ);eX=eY(eQ.parentElement);self.addEventListener("mousemove",e0,false);self.addEventListener("mouseup",e1,false);eP.preventDefault();};bV.getValDirect=function(){dv.$cctor();return dv.getValDirect;};bV.setVarDirectD=function(eN,eO){(c.delayed(100,function(eP){bV.setVarDirect(eN,eP);}))(eO);};bV.setVarDirect=function(eN,eO){(bV.setVarDirect0())([eN,eO]);};bV.setVarDirect0=function(){dv.$cctor();return dv.setVarDirect0;};bV.setVar=function(eN,eO){(bV.setVar0())([eN,eO]);};bV.setVar0=function(){dv.$cctor();return dv.setVar0;};bV.docReference=function(){dv.$cctor();return dv.docReference;};bV.Lazy=function(eN){return eN.f();};bV.htmlDoc=function(){dv.$cctor();return dv.htmlDoc;};bV.textArea=function(){dv.$cctor();return dv.textArea;};bV.input=function(){dv.$cctor();return dv.input;};bV.inputLabel=function(){dv.$cctor();return dv.inputLabel;};bV.inputFile$5090$67=dD.Curried3(function(eN,eO,eP){return bV.callFunction(eO,eP,eN.actFunction);});bV.inputFile$5089$67=dD.Curried3(function(eN,eO,eP){eO.value="";});bV.inputFile=function(eN,eO,eP){var eQ,eR,eS,eT;eQ=(eR=(eS=(bV.splitName(bV.defPlugInName()))(eP),bV.tryGetAct(eS[0],eS[1])),eR==null?null:{$:1,$0:(eT=eR.$0,d5.Element("div",bV.getAttrs(bV.defPlugInName(),eN),[d5.Element("div",[d_.Create("class","input-group")],[d5.Element("span",[d_.Create("class","input-group-btn")],[d5.Element("label",[d_.Create("class","btn")],[d5.TextNode(eO),d5.Element("input",[d_.Create("class","form-control"),d_.Create("type","file"),d9.Style("display","none"),d_.HandlerImpl("click",function(eU){return function(){eU.value="";};}),d_.HandlerImpl("change",function(eU){return function(eV){return bV.callFunction(eU,eV,eT.actFunction);};})],[])])])])]))});return eQ==null?bV.errDoc((function(eU){return function(eV){return eU("Action not found "+dE.toSafe(eV));};}(a.id))(eP)):eQ.$0;};bV.docWithVar=function(eN,eO){var eP,eQ;function eR(eT){return eT==null?null:{$:1,$0:eN(eT.$0)};}function eS(){return bV.errDoc((function(eT){return function(eU){return eT("Var not found "+dE.toSafe(eU));};}(a.id))(eO));}return d5.BindView((eP=function(eT){return eT==null?eS():eT.$0;},function(eT){return eP(eR(eT));}),(eQ=bV.getParmRef(eO),bV.tryGetVoVW(eQ[0],eQ[1])));};bV.depWithExtracts=function(eN){var eO;return bV.runDef((eO=v.depend(),eO.Delay(function(){return eO.Bind(bV.extractAtsD(),function(eP){return eO.Bind(bV.extractDocD(),function(eQ){return eO.Bind(bV.extractTextD(),function(eR){return eO.Return(eN(eP,eQ,eR));});});});})));};bV.getParmRef=function(eN){var eO,eP,eQ,eR,eS;eO=(eP=(eQ=S.delimitedO("@{","}",eN),eQ==null?null:{$:1,$0:(eR=eQ.$0,(eR[0],eS=eR[1],eR[2],eS))}),eP==null?eN:eP.$0);return(bV.splitName(bV.defPlugInName()))(eO);};bV.runDef=function(eN){return bV.run(bV.defPlugInName(),eN);};bV.defPlugInName=function(){dv.$cctor();return dv.defPlugInName;};bV.extractAttD=function(){dv.$cctor();return dv.extractAttD;};bV.extractAtsD=function(){dv.$cctor();return dv.extractAtsD$1;};bV.extractDocD=function(){dv.$cctor();return dv.extractDocD$1;};bV.extractTextD=function(){dv.$cctor();return dv.extractTextD$1;};bV.run=function(eN,eO){var eP,eQ;eP=(eQ=x.depend(),eQ.Delay(function(){return eQ.Bind(bV.getDocwD(),function(eR){return eQ.Bind(bV.getTextActViewD(),function(eS){return eQ.Bind(bV.currentPlugInNameD(),function(eT){return eQ.Return(v.resolver(dH.ofArray([["getDocFromReference",eR],["getTextActViewFromReference",eS],["currentPlugInName",eT]]),eO));});});});}));return v.resolver(dH.ofArray([["currentPlugInName",eN]]),eP);};bV.errDocf=function(eN){return eN(bV.errDoc);};bV.errDoc=function(eN){return d5.Element("div",[],[d5.TextNode(eN)]);};bV.getTextActViewD=function(){dv.$cctor();return dv.getTextActViewD;};bV.getDocD=function(){dv.$cctor();return dv.getDocD;};bV.getDocwD=function(){dv.$cctor();return dv.getDocwD;};bV.currentPlugInNameD=function(){dv.$cctor();return dv.currentPlugInNameD;};bV.currentPlugInNameDef=function(){dv.$cctor();return dv.currentPlugInNameDef;};bV.valToAttr=function(eN,eO){return eO.$==0?d9.Dynamic(eN,eO.$0):d_.Create(eN,eO.$0);};bV.valToStyle=function(eN,eO){return eO.$==0?d9.DynamicStyle(eN,eO.$0):d9.Style(eN,eO.$0);};bV.choiceToString=function(eN){return eN.$==1?(function(eO){return function(eP){return eO("@{"+dE.prettyPrint(eP)+"}");};}(a.id))(eN.$0):eN.$0;};bV.makeAViewDoc0=a.id;bV.makeAViewDocL=function(eN){return ee.Create(function(){return bV.makeAViewDoc(eN);});};bV.makeAViewDoc=function(eN){return d5.BindView(function(){return eN();},bV.baseView());};bV.baseView=function(){dv.$cctor();return dv.baseView;};bV.mainX=function(){dv.$cctor();return dv.mainX;};bV.a11V=function(){dv.$cctor();return dv.a11V;};bV.add1=function(eN){return eN+1;};bV.unwrapBindWrap=function(eN,eO){return b6.New(x.op_BarGreaterGreater(eO.r,eN));};bV.bindWrap=function(eN,eO){return b6.New(x.op_GreaterGreaterEquals(eO,function(eP){return eN(eP).r;}));};bV.getAttrs=function(eN,eO){return dH.ofSeq(dG.delay(function(){return dG.append(dG.choose(function(eP){var eQ,eR,eS,eT;function eU(eV,eW){var eX;if(eW.$==1){eX=eW.$0;try{return eV.addEventListener(dF.Trim(eT),function(eY){return bV.callFunction(eV,eY,eX.actFunction);},false);}catch(eY){return(function(eZ){return function(e0){return eZ(dE.prettyPrint(e0));};}(function(eZ){d2.log(eZ);}))(eY);}}else try{return eV.setAttribute(dF.Trim(eT),dF.Trim(eW.$0));}catch(eZ){return(function(e0){return function(e1){return e0(dE.prettyPrint(e1));};}(function(e0){d2.log(e0);}))(eZ);}}return!dN.Equals(eP,null)&&eP.length===2&&(eR=dI.get(eP,1),dF.Trim(dI.get(eP,0))!==""&&dF.Trim(eR)!=="")?(eS=dI.get(eP,1),(eT=dI.get(eP,0),{$:1,$0:d9.DynamicCustom(function(eV){return function(eW){return eU(eV,eW);};},bV.getTextData(eN,dF.Trim(eS)))})):null;},dG.map(function(eP){return S.splitByChar("=",eP);},S.splitByChar(";",eO))),dG.delay(function(){return dG.choose(function(eP){var eQ,eR,eS,eT,eU;return!dN.Equals(eP,null)&&eP.length===2&&(eR=dI.get(eP,1),dF.Trim(dI.get(eP,0))!==""&&dF.Trim(eR)!=="")?(eS=dI.get(eP,1),(eT=dI.get(eP,0),{$:1,$0:(eU=d0.Map(function(eV){return eV.$==1?(function(eW){return function(eX){return eW("@{"+dE.toSafe(eX)+"}");};}(a.id))(eV.$0.actName.get_Id()):dF.Trim(eV.$0);},bV.getTextData(eN,dF.Trim(eS))),d9.DynamicStyle(dF.Trim(eT),eU))})):null;},dG.map(function(eP){return S.splitByChar(":",eP);},S.splitByChar(";",eO)));}));}));};bV.getTextData=function(eN,eO){var eP,eQ,eR,eS;eP=(eQ=S.delimitedO("@{","}",eO),eQ==null?null:{$:1,$0:(eR=eQ.$0,(eS=eR[0],bV.getOneTextData(eN,eR[1],eS,eR[2])))});return eP==null?d0.Const({$:0,$0:eO}):eP.$0;};bV.getOneTextData=function(eN,eO,eP,eQ){var eR,eS,eT;eR=(bV.splitName(eN))(eO);eS=eR[0];eT=eR[1];return d0.Bind(function(eU){return eU==null?d0.Bind(function(eV){var eW;return eV==null?d0.Const({$:0,$0:((((dD.Curried(function(eX,eY,eZ,e0){return eX(dE.toSafe(eY)+" @{Missing "+dE.toSafe(eZ)+"}"+dE.toSafe(e0));},4))(a.id))(eP))(eO))(eQ)}):(eW=eV.$0,d0.Bind(function(eX){return eX.$==1?d0.Const({$:0,$0:(function(eY){return function(eZ){return eY("Unexpected Action @{"+dE.toSafe(eZ)+"}");};}(a.id))(eX.$0.actName.get_Id())}):d0.Const({$:0,$0:eP+eW+eX.$0});},bV.getTextData(eN,eQ)));},bV.tryGetWoWW(eS,eT)):d0.Const({$:1,$0:eU.$0});},bV.tryGetActW(eS,eT));};bV.tryGetWoW=function(eN,eO){var eP,eQ,eR;eP=(eQ=bV.tryGetViw(eN,eO),eQ==null?null:{$:1,$0:{$:1,$0:eQ.$0.viwView}});return eP==null?(eR=bV.tryGetVar(eN,eO),eR==null?null:{$:1,$0:eR.$0.varVar.get_View()}):eP.$0;};bV.tryGetVoV=function(eN,eO){var eP,eQ,eR;eP=(eQ=bV.tryGetVar(eN,eO),eQ==null?null:{$:1,$0:{$:1,$0:eQ.$0.varVar}});return eP==null?(eR=bV.tryGetViw(eN,eO),eR==null?null:{$:1,$0:new d4.New(eR.$0.viwView,a.ignore)}):eP.$0;};bV.tryGetDoc=function(eN,eO){var eP;eP=bV.tryGetPlugIn(eN);return eP==null?null:eP.$0.plgDocs.TryFindByKey(eO);};bV.tryGetQry=function(eN,eO){var eP;eP=bV.tryGetPlugIn(eN);return eP==null?null:eP.$0.plgQueries.TryFindByKey(eO);};bV.tryGetAct=function(eN,eO){var eP;eP=bV.tryGetPlugIn(eN);return eP==null?null:eP.$0.plgActions.TryFindByKey(eO);};bV.tryGetViw=function(eN,eO){var eP;eP=bV.tryGetPlugIn(eN);return eP==null?null:eP.$0.plgViews.TryFindByKey(eO);};bV.tryGetVar=function(eN,eO){var eP;eP=bV.tryGetPlugIn(eN);return eP==null?null:eP.$0.plgVars.TryFindByKey(eO);};bV.tryGetPlugIn=function(eN){return bV.plugIns().TryFindByKey(eN);};bV.tryGetWoWW=function(eN,eO){return d0.Bind(function(eP){return eP==null?d0.Bind(function(eQ){return eQ==null?d0.Const(null):d0.Map(function(eR){return{$:1,$0:eR};},eQ.$0.varVar.get_View());},bV.tryGetVarW(eN,eO)):d0.Map(function(eQ){return{$:1,$0:eQ};},eP.$0.viwView);},bV.tryGetViwW(eN,eO));};bV.tryGetVoVW=function(eN,eO){return d0.Bind(function(eP){return eP==null?d0.Map(function(eQ){return eQ==null?null:{$:1,$0:new d4.New(eQ.$0.viwView,a.ignore)};},bV.tryGetViwW(eN,eO)):d0.Const({$:1,$0:eP.$0.varVar});},bV.tryGetVarW(eN,eO));};bV.tryGetDocW=function(eN,eO){return d0.Bind(function(eP){return eP!=null&&eP.$==1?eP.$0.plgDocs.TryFindByKeyAsView(eO):d0.Const(null);},bV.tryGetPlugInW(eN));};bV.tryGetQryW=function(eN,eO){return d0.Bind(function(eP){return eP!=null&&eP.$==1?eP.$0.plgQueries.TryFindByKeyAsView(eO):d0.Const(null);},bV.tryGetPlugInW(eN));};bV.tryGetActW=function(eN,eO){return d0.Bind(function(eP){return eP!=null&&eP.$==1?eP.$0.plgActions.TryFindByKeyAsView(eO):d0.Const(null);},bV.tryGetPlugInW(eN));};bV.tryGetViwW=function(eN,eO){return d0.Bind(function(eP){return eP!=null&&eP.$==1?eP.$0.plgViews.TryFindByKeyAsView(eO):d0.Const(null);},bV.tryGetPlugInW(eN));};bV.tryGetVarW=function(eN,eO){return d0.Bind(function(eP){return eP!=null&&eP.$==1?eP.$0.plgVars.TryFindByKeyAsView(eO):d0.Const(null);},bV.tryGetPlugInW(eN));};bV.tryGetPlugInW=function(eN){return bV.plugIns().TryFindByKeyAsView(eN);};bV.plugin=function(){dv.$cctor();return dv.plugin;};bV.newDocF=function(eN,eO){return b0.New(eN,ee.Create(function(){return eO;}));};bV.newDocL=function(eN,eO){return b0.New(eN,eO);};bV.newActF=function(eN,eO){return b1.New(eN,eO,d0.Const(true));};bV.newAct=function(eN,eO){return b1.New(eN,{$:0,$0:eO},d0.Const(true));};bV.newQry=function(eN,eO){return b2.New(eN,eO);};bV.newDoc0=function(eN,eO){return b0.New(eN,ee.Create(function(){return{$:1,$0:eO};}));};bV.newDoc=function(eN,eO){return b0.New(eN,ee.Create(function(){return{$:0,$0:eO.f()};}));};bV.newViw=function(eN,eO){return bZ.New(eN,eO);};bV.newVar=function(eN,eO){return bY.New(eN,eO);};bV.vertical$4568$39=function(eN){return function(eO){eN(eO.Event);};};bV.vertical$4567$39=a.id;bV.vertical$4566$39=a.id;bV.vertical=function(eN,eO,eP,eQ,eR){var eS,eT,eU,eV;return(eS=(eT=ei.Make().WithHole({$:2,$0:"partsizes",$1:eN}).WithHole({$:7,$0:"afterrender",$1:eO}).WithHole({$:7,$0:"afterrendersp",$1:eP}),eT.WithHole(ej.EventQ2(eT.k,"mousedown",function(){return eT.i;},function(eW){eQ(eW.Event);}))).WithHole({$:2,$0:"gap",$1:eR}),(eU=ej.CompleteHoles(eS.k,eS.h,[]),(eV=new ek.New(eU[1],dx.wcompsplitterver(eU[0])),(eS.i=eV,eV)))).get_Doc();};bV.horizontal$4560$39=function(eN){return function(eO){eN(eO.Event);};};bV.horizontal$4559$39=a.id;bV.horizontal$4558$39=a.id;bV.horizontal=function(eN,eO,eP,eQ,eR){var eS,eT,eU,eV;return(eS=(eT=ei.Make().WithHole({$:2,$0:"partsizes",$1:eN}).WithHole({$:7,$0:"afterrender",$1:eO}).WithHole({$:7,$0:"afterrendersp",$1:eP}),eT.WithHole(ej.EventQ2(eT.k,"mousedown",function(){return eT.i;},function(eW){eQ(eW.Event);}))).WithHole({$:2,$0:"gap",$1:eR}),(eU=ej.CompleteHoles(eS.k,eS.h,[]),(eV=new ek.New(eU[1],dx.wcompsplitterhor(eU[0])),(eS.i=eV,eV)))).get_Doc();};bV.mainDoc$4549$42=function(){return function(){bV.mainDocV().Set("AppFramework.AppFwkClient");};};bV.mainDoc=function(){var eN,eO,eP,eQ,eR,eS;return(eN=(eO=bV.getMainClientDoc(),(eP=(eQ=bV.mainDocV().get_View(),ei.Make().WithHole({$:2,$0:"maindoc",$1:eQ})),eP.WithHole(ej.EventQ2(eP.k,"goclient",function(){return eP.i;},function(){bV.mainDocV().Set("AppFramework.AppFwkClient");}))).WithHole({$:0,$0:"mainclient",$1:eO})),(eR=ej.CompleteHoles(eN.k,eN.h,[]),(eS=new ek.New(eR[1],dx.appframework(eR[0])),(eN.i=eS,eS)))).get_Doc();};bV.getMainClientDoc=function(){var eN;return d5.EmbedView((eN=bV.plugIns().v,d0.Map2(function(eO,eP){var eQ,eR;eQ=dG.tryPick(function(eS){var eT;eT=dG.tryFind(function(eU){return eS.plgName.get_Id()===eO||eS.plgName.get_Id()+"."+eU.docName.get_Id()===eO;},eS.plgDocs);return eT==null?null:{$:1,$0:bV.getActualDoc(eT.$0)};},eP);eR=bV.AppFwkClient().f();return eQ==null?eR:eQ.$0;},bV.mainDocV().get_View(),eN)));};bV.getActualDoc=function(eN){var eO;eO=eN.docDoc.f();return eO.$==0?eO.$0:eO.$==1?eO.$0():d5.Element("div",[],[d5.TextNode((function(eP){return function(eQ){return eP("Doc with parameters not allowed here: "+dA.p(eQ));};}(a.id))(eN))]);};bV.AppFwkClient=function(){dv.$cctor();return dv.AppFwkClient;};bV.renderQueries$4512$39=function(eN){return function(){a.alert(eN.qryFunction(null));};};bV.renderQueries=function(){function eN(eP,eQ){return[eP.plgName,eQ.qryName];}function eO(eP,eQ){var eR,eS,eT,eU,eV;return(eR=(eS=(eT=eQ.qryName.get_Id(),ei.Make().WithHole({$:1,$0:"name",$1:eT})),eS.WithHole(ej.EventQ2(eS.k,"select",function(){return eS.i;},function(){a.alert(eQ.qryFunction(null));}))),(eU=ej.CompleteHoles(eR.k,eR.h,[]),(eV=new ek.New(eU[1],dx.tile(eU[0])),(eR.i=eV,eV)))).get_Doc();}return d5.ConvertBy(function(eP){return eN(eP[0],eP[1]);},function(eP){return eO(eP[0],eP[1]);},d0.Map(function(eP){return dG.map(function(eQ){return[eP,eQ];},eP.plgQueries);},bV.currentPlugInW()));};bV.renderActions$4501$39=function(eN){return function(eO){bV.callFunction(null,eO,eN.actFunction);};};bV.renderActions=function(){function eN(eP,eQ){return[eP.plgName,eQ.actName];}function eO(eP,eQ){var eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0;eR=(eS=eQ.actFunction,eS.$==1?(eT=dF.concat(", ",dH.ofArray([eS.$1])),(function(e1){return function(e2){return e1("("+dE.toSafe(e2)+")");};}(a.id))(eT)):eS.$==2?(eU=dF.concat(", ",dH.ofArray([eS.$1,eS.$2])),(function(e1){return function(e2){return e1("("+dE.toSafe(e2)+")");};}(a.id))(eU)):"");return(eV=(eW=d9.DynamicPred("disabled",d0.Map(function(e1){return!e1;},eQ.actEnabled),d0.Const("")),(eX=(eY=eQ.actName.get_Id()+eR,ei.Make().WithHole({$:1,$0:"name",$1:eY})),eX.WithHole(ej.EventQ2(eX.k,"click",function(){return eX.i;},function(e1){bV.callFunction(null,e1,eQ.actFunction);}))).WithHole({$:3,$0:"attrs",$1:eW})),(eZ=ej.CompleteHoles(eV.k,eV.h,[]),(e0=new ek.New(eZ[1],dx.action(eZ[0])),(eV.i=e0,e0)))).get_Doc();}return d5.ConvertBy(function(eP){return eN(eP[0],eP[1]);},function(eP){return eO(eP[0],eP[1]);},d0.Map(function(eP){return dG.map(function(eQ){return[eP,eQ];},eP.plgActions);},bV.currentPlugInW()));};bV.callFunction=function(eN,eO,eP){if(eP.$==1)eP.$0(eO);else if(eP.$==2)(eP.$0(eN))(eO);else eP.$0();};bV.renderDocs$4481$39=function(eN){return function(){d0.Get(function(eO){var eP;eP=eO.plgName.get_Id()+"."+eN.docName.get_Id();bV.mainDocV().Set(eP);},bV.currentPlugInW());};};bV.renderDocs=function(){function eN(eP,eQ){return[eP.plgName,eQ.docName];}function eO(eP,eQ){var eR,eS,eT,eU,eV;return(eR=(eS=(eT=eQ.docName.get_Id()+bV.docParms(eQ),ei.Make().WithHole({$:1,$0:"name",$1:eT})),eS.WithHole(ej.EventQ2(eS.k,"select",function(){return eS.i;},function(){d0.Get(function(eW){var eX;eX=eW.plgName.get_Id()+"."+eQ.docName.get_Id();bV.mainDocV().Set(eX);},bV.currentPlugInW());}))),(eU=ej.CompleteHoles(eR.k,eR.h,[]),(eV=new ek.New(eU[1],dx.tile(eU[0])),(eR.i=eV,eV)))).get_Doc();}return d5.ConvertBy(function(eP){return eN(eP[0],eP[1]);},function(eP){return eO(eP[0],eP[1]);},d0.Bind(function(eP){function eQ(eR){return[eP,eR];}return d0.Map(function(eR){return dG.map(eQ,eR);},eP.plgDocs.v);},bV.currentPlugInW()));};bV.docParms=function(eN){var eO,eP,eQ,eR,eS,eT;eO=eN.docDoc.f();return eO.$==1?"()":eO.$==2?(eP=dF.concat(", ",dH.ofArray([eO.$1])),(function(eU){return function(eV){return eU("("+dE.toSafe(eV)+")");};}(a.id))(eP)):eO.$==3?(eQ=dF.concat(", ",dH.ofArray([eO.$1,eO.$2])),(function(eU){return function(eV){return eU("("+dE.toSafe(eV)+")");};}(a.id))(eQ)):eO.$==4?(eR=dF.concat(", ",dH.ofArray([eO.$1,eO.$2,eO.$3])),(function(eU){return function(eV){return eU("("+dE.toSafe(eV)+")");};}(a.id))(eR)):eO.$==5?(eS=dF.concat(", ",dH.ofArray([eO.$1,eO.$2,eO.$3,eO.$4])),(function(eU){return function(eV){return eU("("+dE.toSafe(eV)+")");};}(a.id))(eS)):eO.$==6?(eT=dF.concat(", ",dH.ofArray([eO.$1,eO.$2,eO.$3,eO.$4,eO.$5])),(function(eU){return function(eV){return eU("("+dE.toSafe(eV)+")");};}(a.id))(eT)):"";};bV.renderViews=function(){function eN(eP,eQ){return[eP.plgName,eQ.viwName];}function eO(eP,eQ){var eR,eS,eT,eU;return(eR=(eS=eQ.viwName.get_Id(),ei.Make().WithHole({$:1,$0:"name",$1:eS})).WithHole({$:2,$0:"value",$1:eQ.viwView}),(eT=ej.CompleteHoles(eR.k,eR.h,[]),(eU=new ek.New(eT[1],dx.namevalue(eT[0])),(eR.i=eU,eU)))).get_Doc();}return d5.ConvertBy(function(eP){return eN(eP[0],eP[1]);},function(eP){return eO(eP[0],eP[1]);},d0.Map(function(eP){return dG.map(function(eQ){return[eP,eQ];},eP.plgViews);},bV.currentPlugInW()));};bV.renderVars=function(){function eN(eP,eQ){return[eP.plgName,eQ.varName];}function eO(eP,eQ){var eR,eS,eT,eU;return(eR=(eS=eQ.varName.get_Id(),ei.Make().WithHole({$:1,$0:"name",$1:eS})).WithHole({$:8,$0:"value",$1:eQ.varVar}),(eT=ej.CompleteHoles(eR.k,eR.h,[["value",0]]),(eU=new ek.New(eT[1],dx.namevalueinput(eT[0])),(eR.i=eU,eU)))).get_Doc();}return d5.ConvertBy(function(eP){return eN(eP[0],eP[1]);},function(eP){return eO(eP[0],eP[1]);},d0.Map(function(eP){return dG.map(function(eQ){return[eP,eQ];},eP.plgVars);},bV.currentPlugInW()));};bV.renderPlugIns$4440$35=function(eN){return function(){bV.selectionPlugInO().Set({$:1,$0:eN});};};bV.renderPlugIns=function(){return d5.Flatten(bV.plugIns().MapLens(function(eN){var eO,eP,eQ,eR,eS;return(eO=(eP=(eQ=eN.get_Id(),ei.Make().WithHole({$:1,$0:"name",$1:eQ})),eP.WithHole(ej.EventQ2(eP.k,"select",function(){return eP.i;},function(){bV.selectionPlugInO().Set({$:1,$0:eN});}))).WithHole({$:2,$0:"selected",$1:d0.Map(function(eT){return dN.Equals(eT,{$:1,$0:eN})?"selected":"";},bV.selectionPlugInO().get_View())}),(eR=ej.CompleteHoles(eO.k,eO.h,[]),(eS=new ek.New(eR[1],dx.tile(eR[0])),(eO.i=eS,eS)))).get_Doc();}));};bV.currentPlugInV=function(){dv.$cctor();return dv.currentPlugInV;};bV.currentPlugInW=function(){dv.$cctor();return dv.currentPlugInW;};bV.selectionPlugInO=function(){dv.$cctor();return dv.selectionPlugInO;};bV.splitName=function(eN){function eO(eQ){return S.splitByChar(".",eQ);}function eP(eQ){return dI.length(eQ)===1?[eN,new bW({$:0,$0:dF.Trim(dI.get(eQ,0))})]:[new bX({$:0,$0:dF.Trim(dI.get(eQ,0))}),new bW({$:0,$0:dF.Trim(dI.get(eQ,1))})];}return function(eQ){return eP(eO(eQ));};};bV.defaultPlugIn=function(){return b3.New(new bX({$:0,$0:""}),new el.New$1(function(eN){return eN.varName;}),new el.New$1(function(eN){return eN.viwName;}),new el.New$1(function(eN){return eN.docName;}),new el.New$1(function(eN){return eN.actName;}),new el.New$1(function(eN){return eN.qryName;}));};bV.TemplateFileName=function(){dv.$cctor();return dv.TemplateFileName;};bV.mainDocV=function(){dv.$cctor();return dv.mainDocV;};bV.plugIns=function(){dv.$cctor();return dv.plugIns;};b$.addElements=function(eN,eO){d0.Get(function(eP){eP.AppendMany(eO);},eN.elemsW);};b$.getDoc=function(eN,eO,eP,eQ,eR){return b$.getDocFor(el.Create(eN,dH.T.Empty),eO,eP,eQ,eR);};b$.getDocFor=function(eN,eO,eP,eQ,eR){return b$.getDocForW(d0.Const(eN),eN.key,eO,eP,eQ,eR);};b$.getDocForW=function(eN,eO,eP,eQ,eR,eS){var eT,eU,eV,eW,eX,eY;function eZ(e0,e1){eU.Set(null);return d0.Get(function(e2){e2.RemoveByKey(e0);},eN);}eT=dZ.Create$1(null);eU=new d4.New((eV=d0.get_Do(),d0.Bind(function(e0){return d0.Bind(function(e1){var e2;return e1!=null&&e1.$==1?(e2=e1.$0,d0.Bind(function(e3){return!e3?d0.Const(null):d0.Const({$:1,$0:e2});},e0.ContainsKeyAsView(e2))):d0.Const(null);},eT.get_View());},eN)),function(e0){d0.Get(function(e1){var e2,e3;e2=e0!=null&&e0.$==1&&(e1.ContainsKey(e0.$0)&&(e3=e0.$0,true))?{$:1,$0:e3}:null;!dN.Equals(eT.Get(),e2)?eT.Set(e2):void 0;},eN);});eW=b_.New(eN,d5.get_Empty,eU,function(){var e0;e0=eQ();d0.Get(function(e1){e1.Append(e0);eU.Set({$:1,$0:eO(e0)});},eN);return e0;},function(){var e0;e0=eU.Get();(k.iter(function(e1){eZ(e1,null);}))(e0);},eP);eX=eS(eW);eY=d0.Bind(function(e0){return bi.MapLens(eR,function(e1,e2){return(eX(d0.Const({$:1,$0:e1})))(e2);},e0);},eN);return b_.New(eW.elemsW,function(){return d5.Convert(a.id,eY);},eW.selV,eW.add,eW.delCur,eW.def);};ca.startWith=function(eN){var eO;eO=ca.startWithHtmlD();(v.resolver(dH.ofArray([["AppFrameworkTemplate.html",bU.html()+eN]]),eO))();};ca.startWithHtmlD=function(){dv.$cctor();return dv.startWithHtmlD;};ca.htmlD=function(){dv.$cctor();return dv.htmlD;};cb.failCreate=function(eN,eO){return(function(eP){return function(eQ){return eP("Create "+dE.toSafe(eQ)+" not implemented");};}(dM.FailWith))(eN);};cb.defAct=function(){dv.$cctor();return dv.defAct;};cb.defViw=function(){dv.$cctor();return dv.defViw;};cb.defVar=function(){dv.$cctor();return dv.defVar;};cb.defDoc=function(){dv.$cctor();return dv.defDoc;};cb.defPlg=function(){dv.$cctor();return dv.defPlg;};cb.showDoc$5637$35=function(eN,eO){return function(){var eP;d0.Get((eP=eO.selV,function(eQ){eP.Set(eQ);}),eN);};};cb.showDoc=function(eN,eO,eP){var eQ,eR,eS,eT;return(eQ=(eR=ei.Make().WithHole({$:2,$0:"name",$1:d0.Map2(function(eU,eV){return eU.docName.get_Id()+bV.docParms(eV);},eP.get_View(),eP.get_View())}),eR.WithHole(ej.EventQ2(eR.k,"select",function(){return eR.i;},function(){var eU;d0.Get((eU=eN.selV,function(eV){eU.Set(eV);}),eO);}))).WithHole({$:2,$0:"selected",$1:d0.Map2(function(eU,eV){return dN.Equals(eU,eV)?"selected":"";},eN.selV.get_View(),eO)}),(eS=ej.CompleteHoles(eQ.k,eQ.h,[]),(eT=new ek.New(eS[1],dx.tile(eS[0])),(eQ.i=eT,eT)))).get_Doc();};cb.showAct$5630$35=function(eN,eO){return function(){var eP;d0.Get((eP=eO.selV,function(eQ){eP.Set(eQ);}),eN);};};cb.showAct=function(eN,eO,eP){var eQ,eR,eS,eT;function eU(eV){var eW,eX,eY;eW=eV.actFunction;return eW.$==1?(eX=dF.concat(", ",dH.ofArray([eW.$1])),(function(eZ){return function(e0){return eZ("("+dE.toSafe(e0)+")");};}(a.id))(eX)):eW.$==2?(eY=dF.concat(", ",dH.ofArray([eW.$1,eW.$2])),(function(eZ){return function(e0){return eZ("("+dE.toSafe(e0)+")");};}(a.id))(eY)):"";}return(eQ=(eR=ei.Make().WithHole({$:2,$0:"name",$1:d0.Map2(function(eV,eW){return eV.actName.get_Id()+eU(eW);},eP.get_View(),eP.get_View())}),eR.WithHole(ej.EventQ2(eR.k,"select",function(){return eR.i;},function(){var eV;d0.Get((eV=eN.selV,function(eW){eV.Set(eW);}),eO);}))).WithHole({$:2,$0:"selected",$1:d0.Map2(function(eV,eW){return dN.Equals(eV,eW)?"selected":"";},eN.selV.get_View(),eO)}),(eS=ej.CompleteHoles(eQ.k,eQ.h,[]),(eT=new ek.New(eS[1],dx.tile(eS[0])),(eQ.i=eT,eT)))).get_Doc();};cb.showView$5618$35=function(eN,eO){return function(){var eP;d0.Get((eP=eO.selV,function(eQ){eP.Set(eQ);}),eN);};};cb.showView=function(eN,eO,eP){var eQ,eR,eS,eT,eU,eV;eQ=(eR=d0.get_Do(),d0.Bind(function(eW){return d0.Bind(function(eX){return d0.Const(eW.viwName.get_Id()+" = "+eX);},eW.viwView);},eP.get_View()));return(eS=(eT=ei.Make().WithHole({$:2,$0:"name",$1:eQ}),eT.WithHole(ej.EventQ2(eT.k,"select",function(){return eT.i;},function(){var eW;d0.Get((eW=eN.selV,function(eX){eW.Set(eX);}),eO);}))).WithHole({$:2,$0:"selected",$1:d0.Map2(function(eW,eX){return dN.Equals(eW,eX)?"selected":"";},eN.selV.get_View(),eO)}),(eU=ej.CompleteHoles(eS.k,eS.h,[]),(eV=new ek.New(eU[1],dx.tile(eU[0])),(eS.i=eV,eV)))).get_Doc();};cb.showVar$5606$35=function(eN,eO){return function(){var eP;d0.Get((eP=eO.selV,function(eQ){eP.Set(eQ);}),eN);};};cb.showVar=function(eN,eO,eP){var eQ,eR,eS,eT,eU,eV;eQ=(eR=d0.get_Do(),d0.Bind(function(eW){return d0.Bind(function(eX){return d0.Const(eW.varName.get_Id()+" = "+eX);},eW.varVar.get_View());},eP.get_View()));return(eS=(eT=ei.Make().WithHole({$:2,$0:"name",$1:eQ}),eT.WithHole(ej.EventQ2(eT.k,"select",function(){return eT.i;},function(){var eW;d0.Get((eW=eN.selV,function(eX){eW.Set(eX);}),eO);}))).WithHole({$:2,$0:"selected",$1:d0.Map2(function(eW,eX){return dN.Equals(eW,eX)?"selected":"";},eN.selV.get_View(),eO)}),(eU=ej.CompleteHoles(eS.k,eS.h,[]),(eV=new ek.New(eU[1],dx.tile(eU[0])),(eS.i=eV,eV)))).get_Doc();};cb.showPlugIn$5594$35=function(eN,eO){return function(){var eP;d0.Get((eP=eO.selV,function(eQ){eP.Set(eQ);}),eN);};};cb.showPlugIn=function(eN,eO,eP){var eQ,eR,eS,eT;return(eQ=(eR=ei.Make().WithHole({$:2,$0:"name",$1:d0.Map(function(eU){return eU.plgName.get_Id();},eP.get_View())}),eR.WithHole(ej.EventQ2(eR.k,"select",function(){return eR.i;},function(){var eU;d0.Get((eU=eN.selV,function(eV){eU.Set(eV);}),eO);}))).WithHole({$:2,$0:"selected",$1:d0.Map2(function(eU,eV){return dN.Equals(eU,eV)?"selected":"";},eN.selV.get_View(),eO)}),(eS=ej.CompleteHoles(eQ.k,eQ.h,[]),(eT=new ek.New(eS[1],dx.tile(eS[0])),(eQ.i=eT,eT)))).get_Doc();};cc.New=function(eN,eO){return{lytName:eN,lytDefinition:eO};};ce=cd.Measures=dD.Class({toString:function(){return this.$==1?((((dD.Curried(function(eN,eO,eP,eQ){return eN(a.String(eO)+"-"+a.String(eP)+"-"+a.String(eQ));},4))(a.id))(dM.toInt(this.$0)))(dM.toInt(this.$1)))(dM.toInt(this.$2)):a.String(dM.toInt(this.$1?this.$0:-this.$0));}},null,ce);cg.RPlg={$:4};cg.RAct={$:3};cg.RViw={$:2};cg.RVar={$:1};cg.RDoc={$:0};ch.New=function(eN,eO,eP,eQ,eR,eS){return{tmpName:eN,vars:eO,views:eP,docs:eQ,actions:eR,attrs:eS};};cf.createEntryO2=function(eN,eO){function eP(eU,eV){return eO.ContainsKey(eU)?((r.errorf(dD.Curried3(function(eW,eX,eY){return eW("Already exists "+dE.toSafe(eX)+" : "+dy.p$3(eY)+" ");})))(eU))(eV):(eO.Add(eU,eV),{$:0,$0:null});}function eQ(eU,eV){return dL.Map(function(){return[eU,eV];},eP(eU,eV));}function eR(eU,eV){return dL.Bind(function(){return{$:1,$0:eU};},eP(dG.head(dF.SplitChars(eV,[" ","\u0009"],1)),{$:0,$0:{$:6,$0:{$:0,$0:"div",$1:{$:0,$0:dH.T.Empty},$2:dH.ofArray([{$:0,$0:dH.ofArray([{$:0,$0:eU}])}])}}}));}function eS(eU){try{return eO.get_Item(eU);}catch(eV){return(function(eW){return function(eX){return eW("Could not find reference to "+dE.toSafe(eX));};}(dM.FailWith))(eU);}}function eT(eU){var eV,eW,eX,eY,eZ,e0,e1,e2;if(eU.$==1){eW=eU.$1;eX=eU.$0;try{eZ=eS(eX);if(eZ.$==6)try{eY=eZ.$0.$0.get_Item(eW);}catch(e3){eY=(((dD.Curried3(function(e4,e5,e6){return e4("Could not find reference to "+dE.toSafe(e5)+"."+dE.toSafe(e6));}))(dM.FailWith))(eX))(eW);}else eY=(function(e4){return function(e5){return e4("PlugIn not registered: "+dy.p$1(e5));};}(dM.FailWith))(eU);return[eY,null];}catch(e4){e0=bV.tryGetPlugIn(new bX({$:0,$0:eX}));return e0!=null&&e0.$==1?(e1=e0.$0,e2=new bW({$:0,$0:eW}),[e1.plgDocs.ContainsKey(e2)?cg.RDoc:e1.plgActions.ContainsKey(e2)?cg.RAct:e1.plgVars.ContainsKey(e2)?cg.RVar:e1.plgViews.ContainsKey(e2)?cg.RViw:(((dD.Curried3(function(e5,e6,e7){return e5("Could not find reference to "+dE.toSafe(e6)+"."+dE.toSafe(e7));}))(dM.FailWith))(eX))(eW),null]):dM.FailWith(e4.message);}}else{eV=eS(eU.$0);return[eV.$==1?cg.RAct:eV.$==2?cg.RAct:eV.$==3?cg.RVar:eV.$==4?cg.RViw:eV.$==5?cg.RViw:eV.$==7?cg.RPlg:eV.$==6?(function(e5){return function(e6){return e5("PlugIn should not be referenced by itself: "+dy.p$1(e6));};}(dM.FailWith))(eU):cg.RDoc,{$:1,$0:eV}];}}return function(eU){var eV,eW;try{eV=(eW=cf.createEntryO(eT,eN,eU),eW==null?eR((function(eX){return function(eY){return eX("Line not matched!: "+dE.toSafe(eY));};}(a.id))(eU),eU):eQ(eW.$0.$0,eW.$0.$1));}catch(eX){eV=eR(eX.message,eU);}return{$:1,$0:eV};};};cf.createEntryO=function(eN,eO,eP){var eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4,e5,e6,e7,e8,e9,e_,e$,fa,fb,fc,fd,fe,ff,fg,fh,fi,fj,fk,fl,fm,fn,fo,fp,fq,fr,fs,ft,fu,fv,fw,fx,fy,fz,fA,fB,fC,fD,fE,fF,fG,fH,fI,fJ,fK,fL,fM,fN,fO,fP,fQ,fR,fS,fT,fU,fV,fW,fX,fY,fZ,f0,f1,f2,f3,f4,f5,f6;function f7(gp){var gq,gr;gq=cf.R(gp);return gq!=null&&gq.$==1?(gr=gq.$0,{$:1,$0:[eN(gr),gr]}):null;}function f8(gp){var gq,gr;return(gr=f7(gp),gr!=null&&gr.$==1&&(gr.$0[0][0].$==0&&(gq=gr.$0[1],true)))?{$:1,$0:{$:0,$0:gq}}:null;}function f9(gp){var gq,gr;return(gr=f7(gp),gr!=null&&gr.$==1&&(gr.$0[0][0].$==1&&(gq=gr.$0[1],true)))?{$:1,$0:{$:0,$0:gq}}:null;}function f_(gp){var gq,gr;return(gr=f7(gp),gr!=null&&gr.$==1&&(gr.$0[0][0].$==2&&(gq=gr.$0[1],true)))?{$:1,$0:{$:0,$0:gq}}:null;}function f$(gp){var gq,gr;return(gr=f7(gp),gr!=null&&gr.$==1&&(gr.$0[0][0].$==3&&(gq=gr.$0[1],true)))?{$:1,$0:{$:0,$0:gq}}:null;}function ga(gp){var gq,gr,gs;return(gr=f7(gp),gr!=null&&gr.$==1&&(gr.$0[0][0].$==4&&((gs=gr.$0[0][1],gs!=null&&gs.$==1)&&(gr.$0[0][1].$0.$==7&&(gq=[gr.$0[0][1].$0.$0,gr.$0[1]],true)))))?{$:1,$0:gq[0]}:null;}function gb(gp){var gq,gr;return(gr=cf.R(gp),gr!=null&&gr.$==1&&(gr.$0.$==0&&(gq=gr.$0.$0,true)))?{$:1,$0:gq}:null;}function gc(gp){var gq,gr;return(gr=gb(gp),gr!=null&&gr.$==1&&(dF.StartsWith(gr.$0,"_")&&(gq=gr.$0,true)))?{$:1,$0:gq}:null;}function gd(gp){var gq,gr,gs;gq=f9(gp);return gq!=null&&gq.$==1?{$:1,$0:{$:1,$0:gq.$0}}:(gr=f_(gp),gr!=null&&gr.$==1?{$:1,$0:{$:2,$0:gr.$0}}:(gs=f$(gp),gs!=null&&gs.$==1?{$:1,$0:{$:3,$0:gs.$0}}:null));}function ge(gp){var gq;gq=S.delimitedO("@{","}",gp);return gq!=null&&gq.$==1?{$:1,$0:[gq.$0[0],{$:1,$0:gq.$0[1]},gq.$0[2]]}:null;}function gf(gp){var gq,gr,gs,gt,gu,gv,gw,gx;return(gr=ge(gp),gr!=null&&gr.$==1&&(gs=gd(gr.$0[1]),gs!=null&&gs.$==1&&(gq=[gr.$0[2],gr.$0[0],gs.$0],true)))?(gt=gq[0],(gu=gq[1],(gv=gu===""?dH.ofArray([gq[2]]):dH.ofArray([{$:0,$0:gu},gq[2]]),gt===""?{$:1,$0:gv}:(gw=gf(gt),gw!=null&&gw.$==1?{$:1,$0:dH.append(gv,gw.$0)}:null)))):(gx=ge(gp),gx!=null&&gx.$==1)?null:{$:1,$0:dH.ofArray([{$:0,$0:gp}])};}function gg(gp){var gq,gr,gs;return(gr=ge(gp),gr!=null&&gr.$==1&&(gs=f$(gr.$0[1]),gs!=null&&gs.$==1&&(dF.Trim(gr.$0[0])===""&&dF.Trim(gr.$0[2])===""&&(gq=[gr.$0[2],gs.$0,gr.$0[0]],true))))?{$:1,$0:gq[1]}:null;}function gh(gp){var gq,gr;return gp.$==0&&(gr=gf(gp.$0),gr!=null&&gr.$==1&&(gq=gr.$0,true))?{$:1,$0:gq}:null;}function gi(gp){return gp.$==0?{$:1,$0:dI.ofSeq(dG.choose(function(gq){var gr,gs,gt,gu,gv,gw,gx,gy;gr=(cd.splitInTwo("="))(gq);return!dN.Equals(gr,null)&&gr.length===2&&(gt=gg(dI.get(gr,1)),gt!=null&&gt.$==1&&(gs=[gt.$0,dI.get(gr,0)],true))?{$:1,$0:{$:2,$0:dF.Trim(gs[1]),$1:gs[0]}}:!dN.Equals(gr,null)&&gr.length===2&&(gv=gf(dI.get(gr,1)),gv!=null&&gv.$==1&&(gu=[dI.get(gr,0),gv.$0],true))?{$:1,$0:{$:1,$0:dF.Trim(gu[0]),$1:gu[1]}}:(gw=(cd.splitInTwo(":"))(gq),!dN.Equals(gw,null)&&gw.length===2&&(gy=gf(dI.get(gw,1)),gy!=null&&gy.$==1&&(gx=[dI.get(gw,0),gy.$0],true))?{$:1,$0:{$:0,$0:dF.Trim(gx[0]),$1:gx[1]}}:(function(gz){return function(gA){return gz("Attributes should be like: \"name=val\" or \"name:val\" and separated by ';' : "+dE.toSafe(gA));};}(dM.FailWith))(gq));},(cd.splitSemiColon())(gp.$0)))}:null;}function gj(gp){var gq,gr,gs,gt,gu;gq=gh(gp);return gq!=null&&gq.$==1?{$:1,$0:{$:0,$0:gq.$0}}:(gr=f8(gp),gr!=null&&gr.$==1?{$:1,$0:{$:1,$0:gr.$0}}:(gs=f9(gp),gs!=null&&gs.$==1?{$:1,$0:{$:2,$0:gs.$0}}:(gt=f_(gp),gt!=null&&gt.$==1?{$:1,$0:{$:3,$0:gt.$0}}:(gu=f$(gp),gu!=null&&gu.$==1?{$:1,$0:{$:4,$0:gu.$0}}:null))));}function gk(gp){var gq,gr,gs;switch(gp.$==1?(gr=gj(gp.$0),gr!=null&&gr.$==1?(gs=gk(gp.$1),gs!=null&&gs.$==1?(gq=[gr.$0,gs.$0],1):2):2):0){case 0:return{$:1,$0:dH.T.Empty};case 1:return{$:1,$0:new dH.T({$:1,$0:gq[0],$1:gq[1]})};case 2:return null;}}function gl(gp){var gq,gr,gs;switch(gp.$==1?(gr=f$(gp.$0),gr!=null&&gr.$==1?(gs=gl(gp.$1),gs!=null&&gs.$==1?(gq=[gr.$0,gs.$0],1):2):2):0){case 0:return{$:1,$0:dH.T.Empty};case 1:return{$:1,$0:new dH.T({$:1,$0:gq[0],$1:gq[1]})};case 2:return null;}}function gm(gp){var gq,gr,gs,gt;gq=gh(gp);return gq!=null&&gq.$==1?{$:1,$0:{$:0,$0:gq.$0}}:(gr=f8(gp),gr!=null&&gr.$==1?{$:1,$0:{$:1,$0:gr.$0}}:(gs=f9(gp),gs!=null&&gs.$==1?{$:1,$0:{$:2,$0:gs.$0}}:(gt=f_(gp),gt!=null&&gt.$==1?{$:1,$0:{$:3,$0:gt.$0}}:null)));}function gn(gp){var gq,gr,gs;switch(gp.$==1?(gr=gm(gp.$0),gr!=null&&gr.$==1?(gs=gn(gp.$1),gs!=null&&gs.$==1?(gq=[gr.$0,gs.$0],1):2):2):0){case 0:return{$:1,$0:dH.T.Empty};case 1:return{$:1,$0:new dH.T({$:1,$0:gq[0],$1:gq[1]})};case 2:return null;}}function go(gp){var gq,gr,gs;switch(gp.$==1?(gr=ga(gp.$0),gr!=null&&gr.$==1?(gs=go(gp.$1),gs!=null&&gs.$==1?(gq=[gr.$0,gs.$0],1):2):2):0){case 0:return{$:1,$0:dH.T.Empty};case 1:return{$:1,$0:new dH.T({$:1,$0:gq[0],$1:gq[1]})};case 2:return null;}}eQ=cd.splitTokens(eP);return eQ.$==1&&(eS=gb(eQ.$0),eS!=null&&eS.$==1&&(eQ.$1.$==1&&(cd.PlugIn(eQ.$1.$0).$==0&&(eT=go(eQ.$1.$1),eT!=null&&eT.$==1&&(eR=[eT.$0,eS.$0],true)))))?cf.entryPlg(eR[1],{$:0,$0:new d6.New(eR[0])}):eQ.$==1&&(eV=gc(eQ.$0),eV!=null&&eV.$==1&&(eQ.$1.$==1&&(cd.Var(eQ.$1.$0).$==1&&(eQ.$1.$1.$==1&&(eW=gb(eQ.$1.$1.$0),eW!=null&&eW.$==1&&(eQ.$1.$1.$1.$==0&&(eU=[eV.$0,eW.$0],true)))))))?cf.entryRef(eU[0],eU[1],cg.RDoc):eQ.$==1&&(eY=gc(eQ.$0),eY!=null&&eY.$==1&&(eQ.$1.$==1&&(cd.Var(eQ.$1.$0).$==0&&(eQ.$1.$1.$==1&&(eZ=gb(eQ.$1.$1.$0),eZ!=null&&eZ.$==1&&(eQ.$1.$1.$1.$==0&&(eX=[eY.$0,eZ.$0],true)))))))?cf.entryRef(eX[0],eX[1],cg.RVar):eQ.$==1&&(e1=gc(eQ.$0),e1!=null&&e1.$==1&&(eQ.$1.$==1&&(cd.Var(eQ.$1.$0).$==2&&(eQ.$1.$1.$==1&&(e2=gb(eQ.$1.$1.$0),e2!=null&&e2.$==1&&(eQ.$1.$1.$1.$==0&&(e0=[e1.$0,e2.$0],true)))))))?cf.entryRef(e0[0],e0[1],cg.RViw):eQ.$==1&&(e4=gc(eQ.$0),e4!=null&&e4.$==1&&(eQ.$1.$==1&&(cd.Var(eQ.$1.$0).$==5&&(eQ.$1.$1.$==1&&(e5=gb(eQ.$1.$1.$0),e5!=null&&e5.$==1&&(eQ.$1.$1.$1.$==0&&(e3=[e4.$0,e5.$0],true)))))))?cf.entryRef(e3[0],e3[1],cg.RAct):eQ.$==1&&(e7=gb(eQ.$0),e7!=null&&e7.$==1&&(eQ.$1.$==1&&(cd.Vertical(eQ.$1.$0).$==0&&(eQ.$1.$1.$==1&&(e8=cd.Measures$1(eQ.$1.$1.$0),e8!=null&&e8.$==1&&(eQ.$1.$1.$1.$==1&&(e9=f8(eQ.$1.$1.$1.$0),e9!=null&&e9.$==1&&(eQ.$1.$1.$1.$1.$==1&&(e_=f8(eQ.$1.$1.$1.$1.$0),e_!=null&&e_.$==1&&(eQ.$1.$1.$1.$1.$1.$==0&&(e6=[e9.$0,e8.$0,e7.$0,e_.$0],true)))))))))))?cf.entryDoc(e6[2],{$:0,$0:{$:0,$0:true,$1:e6[1],$2:e6[0],$3:e6[3]}}):eQ.$==1&&(fa=gb(eQ.$0),fa!=null&&fa.$==1&&(eQ.$1.$==1&&(cd.Vertical(eQ.$1.$0).$==1&&(eQ.$1.$1.$==1&&(fb=cd.Measures$1(eQ.$1.$1.$0),fb!=null&&fb.$==1&&(eQ.$1.$1.$1.$==1&&(fc=f8(eQ.$1.$1.$1.$0),fc!=null&&fc.$==1&&(eQ.$1.$1.$1.$1.$==1&&(fd=f8(eQ.$1.$1.$1.$1.$0),fd!=null&&fd.$==1&&(eQ.$1.$1.$1.$1.$1.$==0&&(e$=[fc.$0,fb.$0,fa.$0,fd.$0],true)))))))))))?cf.entryDoc(e$[2],{$:0,$0:{$:0,$0:false,$1:e$[1],$2:e$[0],$3:e$[3]}}):eQ.$==1&&(ff=gb(eQ.$0),ff!=null&&ff.$==1&&(eQ.$1.$==1&&(cd.PlugIn(eQ.$1.$0).$==1&&(eQ.$1.$1.$==1&&(fg=f$(eQ.$1.$1.$0),fg!=null&&fg.$==1&&(eQ.$1.$1.$1.$==1&&(fh=gi(eQ.$1.$1.$1.$0),fh!=null&&fh.$==1&&(eQ.$1.$1.$1.$1.$==1&&(fi=gh(eQ.$1.$1.$1.$1.$0),fi!=null&&fi.$==1&&(eQ.$1.$1.$1.$1.$1.$==0&&(fe=[fg.$0,fh.$0,ff.$0,fi.$0],true)))))))))))?cf.entryDoc(fe[2],{$:1,$0:{$:0,$0:fe[0],$1:fe[1],$2:fe[3]}}):eQ.$==1&&(fk=gb(eQ.$0),fk!=null&&fk.$==1&&(eQ.$1.$==1&&(cd.PlugIn(eQ.$1.$0).$==2&&(eQ.$1.$1.$==1&&(fl=f9(eQ.$1.$1.$0),fl!=null&&fl.$==1&&(eQ.$1.$1.$1.$==1&&(fm=gi(eQ.$1.$1.$1.$0),fm!=null&&fm.$==1&&(eQ.$1.$1.$1.$1.$==0&&(fj=[fm.$0,fk.$0,fl.$0],true)))))))))?cf.entryDoc(fj[1],{$:2,$0:{$:0,$0:fj[2],$1:fj[0]}}):eQ.$==1&&(fo=gb(eQ.$0),fo!=null&&fo.$==1&&(eQ.$1.$==1&&(cd.PlugIn(eQ.$1.$0).$==3&&(eQ.$1.$1.$==1&&(fp=f9(eQ.$1.$1.$0),fp!=null&&fp.$==1&&(eQ.$1.$1.$1.$==1&&(fq=gi(eQ.$1.$1.$1.$0),fq!=null&&fq.$==1&&(eQ.$1.$1.$1.$1.$==0&&(fn=[fq.$0,fo.$0,fp.$0],true)))))))))?cf.entryDoc(fn[1],{$:3,$0:{$:0,$0:fn[2],$1:fn[0]}}):eQ.$==1&&(fs=gb(eQ.$0),fs!=null&&fs.$==1&&(eQ.$1.$==1&&(cd.Var(eQ.$1.$0).$==0&&(eQ.$1.$1.$==1&&(ft=(fv=gh(eQ.$1.$1.$0),fv!=null&&fv.$==1&&(fv.$0.$==1&&(fv.$0.$0.$==0&&(fv.$0.$1.$==0&&(fu=fv.$0.$0.$0,true)))))?{$:1,$0:fu}:null,ft!=null&&ft.$==1&&(eQ.$1.$1.$1.$==0&&(fr=[fs.$0,ft.$0],true)))))))?cf.entryVar(fr[0],{$:0,$0:dF.Trim(fr[1])}):eQ.$==1&&(fx=gb(eQ.$0),fx!=null&&fx.$==1&&(eQ.$1.$==1&&(cd.Var(eQ.$1.$0).$==1&&(eQ.$1.$1.$==1&&(fy=f8(eQ.$1.$1.$0),fy!=null&&fy.$==1&&(fz=gk(eQ.$1.$1.$1),fz!=null&&fz.$==1&&(fw=[fy.$0,fx.$0,fz.$0],true)))))))?cf.entryDoc(fw[1],{$:4,$0:{$:0,$0:fw[0],$1:fw[2]}}):eQ.$==1&&(fB=gb(eQ.$0),fB!=null&&fB.$==1&&(eQ.$1.$==1&&(cd.Var(eQ.$1.$0).$==2&&(fC=gk(eQ.$1.$1),fC!=null&&fC.$==1&&(fA=[fB.$0,fC.$0],true)))))?cf.entryView(fA[0],{$:0,$0:fA[1]}):eQ.$==1&&(fE=gb(eQ.$0),fE!=null&&fE.$==1&&(eQ.$1.$==1&&(cd.Var(eQ.$1.$0).$==3&&(fF=gk(eQ.$1.$1),fF!=null&&fF.$==1&&(fD=[fE.$0,fF.$0],true)))))?cf.entryVJS(fD[0],{$:0,$0:fD[1]}):eQ.$==1&&(fH=gb(eQ.$0),fH!=null&&fH.$==1&&(eQ.$1.$==1&&(cd.Var(eQ.$1.$0).$==4&&(fI=gn(eQ.$1.$1),fI!=null&&fI.$==1&&(fG=[fH.$0,fI.$0],true)))))?cf.entryDoc(fG[0],{$:5,$0:{$:0,$0:fG[1]}}):eQ.$==1&&(fK=gb(eQ.$0),fK!=null&&fK.$==1&&(eQ.$1.$==1&&(cd.PlugIn(eQ.$1.$0).$==5&&(fL=gl(eQ.$1.$1),fL!=null&&fL.$==1&&(fJ=[fL.$0,fK.$0],true)))))?cf.entryActs(fJ[1],{$:0,$0:fJ[0]}):eQ.$==1&&(fN=gb(eQ.$0),fN!=null&&fN.$==1&&(eQ.$1.$==1&&(cd.Var(eQ.$1.$0).$==5&&(eQ.$1.$1.$==1&&(fO=f$(eQ.$1.$1.$0),fO!=null&&fO.$==1&&(fP=gk(eQ.$1.$1.$1),fP!=null&&fP.$==1&&(fM=[fO.$0,fN.$0,fP.$0],true)))))))?cf.entryAct(fM[1],{$:0,$0:fM[0],$1:fM[2]}):eQ.$==1&&(fR=gb(eQ.$0),fR!=null&&fR.$==1&&(eQ.$1.$==1&&(cd.Vertical(eQ.$1.$0).$==4&&(eQ.$1.$1.$==1&&(fS=gb(eQ.$1.$1.$0),fS!=null&&fS.$==1&&(eQ.$1.$1.$1.$==1&&(fT=gj(eQ.$1.$1.$1.$0),fT!=null&&fT.$==1&&(eQ.$1.$1.$1.$1.$==1&&(fU=(fV=eQ.$1.$1.$1.$1.$0,fV.$==0?{$:1,$0:dI.ofSeq(dG.choose(function(gp){var gq,gr,gs,gt;gq=dI.map(cd.splitTokens,(cd.splitInTwo(":"))(gp));return!dN.Equals(gq,null)&&gq.length===2&&(dI.get(gq,0).$==1&&(gs=gb(dI.get(gq,0).$0),gs!=null&&gs.$==1&&(dI.get(gq,0).$1.$==0&&(dI.get(gq,1).$==1&&(gt=gj(dI.get(gq,1).$0),gt!=null&&gt.$==1&&(dI.get(gq,1).$1.$==0&&(gr=[gs.$0,gt.$0],true)))))))?{$:1,$0:[gr[0],gr[1]]}:(function(gu){return function(gv){return gu("Expecting Views \"name:view\" separated by ';' : "+dE.toSafe(gv));};}(dM.FailWith))(gp);},(cd.splitSemiColon())(fV.$0)))}:null),fU!=null&&fU.$==1&&(eQ.$1.$1.$1.$1.$1.$==1&&(fW=(fX=eQ.$1.$1.$1.$1.$1.$0,fX.$==0?{$:1,$0:dI.ofSeq(dG.choose(function(gp){var gq,gr,gs,gt;gq=dI.map(function(gu){return{$:1,$0:gu};},(cd.splitInTwo(":"))(gp));return!dN.Equals(gq,null)&&gq.length===2&&(gs=gb(dI.get(gq,0)),gs!=null&&gs.$==1&&(gt=f8(dI.get(gq,1)),gt!=null&&gt.$==1&&(gr=[gs.$0,gt.$0],true)))?{$:1,$0:[gr[0],gr[1]]}:(function(gu){return function(gv){return gu("Expecting Docs \"name:doc\" separated by ';' : "+dE.toSafe(gv));};}(dM.FailWith))(gp);},(cd.splitSemiColon())(fX.$0)))}:null),fW!=null&&fW.$==1&&(eQ.$1.$1.$1.$1.$1.$1.$==1&&(fY=(fZ=eQ.$1.$1.$1.$1.$1.$1.$0,fZ.$==0?{$:1,$0:dI.ofSeq(dG.choose(function(gp){var gq,gr,gs,gt;gq=dI.map(function(gu){return{$:1,$0:gu};},(cd.splitInTwo(":"))(gp));return!dN.Equals(gq,null)&&gq.length===2&&(gs=gb(dI.get(gq,0)),gs!=null&&gs.$==1&&(gt=f9(dI.get(gq,1)),gt!=null&&gt.$==1&&(gr=[gs.$0,gt.$0],true)))?{$:1,$0:[gr[0],gr[1]]}:(function(gu){return function(gv){return gu("Expecting Vars \"name:var\" separated by ';' : "+dE.toSafe(gv));};}(dM.FailWith))(gp);},(cd.splitSemiColon())(fZ.$0)))}:null),fY!=null&&fY.$==1&&(eQ.$1.$1.$1.$1.$1.$1.$1.$==1&&(f0=(f1=eQ.$1.$1.$1.$1.$1.$1.$1.$0,f1.$==0?{$:1,$0:dI.ofSeq(dG.choose(function(gp){var gq,gr,gs,gt;gq=dI.map(cd.splitTokens,(cd.splitInTwo(":"))(gp));return!dN.Equals(gq,null)&&gq.length===2&&(dI.get(gq,0).$==1&&(gs=gb(dI.get(gq,0).$0),gs!=null&&gs.$==1&&(dI.get(gq,0).$1.$==0&&(dI.get(gq,1).$==1&&(gt=f$(dI.get(gq,1).$0),gt!=null&&gt.$==1&&(dI.get(gq,1).$1.$==0&&(gr=[gs.$0,gt.$0],true)))))))?{$:1,$0:[gr[0],gr[1]]}:(function(gu){return function(gv){return gu("Expecting Actions \"name:action\" separated by ';' : "+dE.toSafe(gv));};}(dM.FailWith))(gp);},(cd.splitSemiColon())(f1.$0)))}:null),f0!=null&&f0.$==1&&(eQ.$1.$1.$1.$1.$1.$1.$1.$1.$==0&&(fQ=[f0.$0,fT.$0,fW.$0,fR.$0,fS.$0,fY.$0,fU.$0],true)))))))))))))))))?cf.entryDoc(fQ[3],{$:7,$0:cf.templateDef(fQ[4],fQ[1],fQ[5],fQ[6],fQ[2],fQ[0])}):eQ.$==1&&(f3=gb(eQ.$0),f3!=null&&f3.$==1&&(eQ.$1.$==1&&(f4=cd.Vertical(eQ.$1.$0),f4.$==5&&(eQ.$1.$1.$==1&&(f5=gj(eQ.$1.$1.$0),f5!=null&&f5.$==1&&(f6=gn(eQ.$1.$1.$1),f6!=null&&f6.$==1&&(f2=[f5.$0,f4.$0,f3.$0,f6.$0],true)))))))?cf.entryDoc(f2[2],{$:6,$0:{$:0,$0:f2[1],$1:f2[0],$2:f2[3]}}):null;};cf.R=function(eN){var eO,eP,eQ;eO=cd.Identifier(eN);return eO!=null&&eO.$==1?(eP=dF.SplitChars(eO.$0,["."],0),!dN.Equals(eP,null)&&eP.length===1?{$:1,$0:{$:0,$0:dI.get(eP,0)}}:!dN.Equals(eP,null)&&eP.length===2?(eQ=dI.get(eP,1),{$:1,$0:{$:1,$0:dI.get(eP,0),$1:eQ}}):null):null;};cf.entryRef=function(eN,eO,eP){return{$:1,$0:cf.entryDef(eN,{$:7,$0:[eO,eP]})};};cf.entryPlg=function(eN,eO){return{$:1,$0:cf.entryDef(eN,{$:6,$0:eO})};};cf.entryVar=function(eN,eO){return{$:1,$0:cf.entryDef(eN,{$:3,$0:eO})};};cf.entryVJS=function(eN,eO){return{$:1,$0:cf.entryDef(eN,{$:5,$0:eO})};};cf.entryView=function(eN,eO){return{$:1,$0:cf.entryDef(eN,{$:4,$0:eO})};};cf.entryActs=function(eN,eO){return{$:1,$0:cf.entryDef(eN,{$:2,$0:eO})};};cf.entryAct=function(eN,eO){return{$:1,$0:cf.entryDef(eN,{$:1,$0:eO})};};cf.entryDoc=function(eN,eO){return{$:1,$0:cf.entryDef(eN,{$:0,$0:eO})};};cf.entryDef=function(eN,eO){return{$:0,$0:eN,$1:eO};};cf.templateDef=function(eN,eO,eP,eQ,eR,eS){return ch.New(eN,eP,eQ,eR,eS,eO);};ci.createLayoutDefinitions=function(eN,eO){var eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY;return eO.$==1?(eP=eO.$0.$0,(eQ=eO.$0.$1,(eR=ci.createLayoutDefinitions(eN+"_1",eO.$0.$2),(eS=eR[0],(eT=eR[1],(eU=ci.createLayoutDefinitions(eN+"_2",eO.$0.$3),(eV=eU[0],(eW=eU[1],[eN,dI.ofSeq(dG.delay(function(){return dG.append([dF.concat(" ",dH.ofArray([eN,eP?"vertical":"horizontal",a.String(eQ),eS,eV]))],dG.delay(function(){return dG.append(eT,dG.delay(function(){return eW;}));}));}))])))))))):(eX=eO.$0,!dN.Equals(eX,null)&&eX.length===0)?["___",[]]:(eY=eO.$0,!dN.Equals(eY,null)&&eY.length===1)?[dI.get(eO.$0,0),[]]:[eN,[eN+" div \"\" "+dF.concat(" ",eO.$0)]];};ci.extractNodes=function(eN){var eO,eP;function eQ(eR,eS,eT,eU){var eV,eW,eX,eY,eZ,e0;eV=ci.extractNodes(eT);eW=ci.extractNodes(eU);return(eV.$==0?(eY=eV.$0,!dN.Equals(eY,null)&&eY.length===0)?(eX=eW,true):eW.$==0?(eZ=eW.$0,!dN.Equals(eZ,null)&&eZ.length===0)?(eX=eV,true):(eX=[eV,eW],false):(eX=[eV,eW],false):eW.$==0?(e0=eW.$0,!dN.Equals(e0,null)&&e0.length===0)?(eX=eV,true):(eX=[eV,eW],false):(eX=[eV,eW],false))?eX:{$:1,$0:{$:0,$0:eR,$1:eS,$2:eX[0],$3:eX[1]}};}eO=ci.horizontalSplit(eN);return eO!=null&&eO.$==1?eQ(false,eO.$0[2],eO.$0[0],eO.$0[1]):(eP=ci.verticalSplit(eN),eP!=null&&eP.$==1?eQ(true,eP.$0[2],eP.$0[0],eP.$0[1]):{$:0,$0:ci.cleanSpaces(eN)});};ci.cleanSpaces=function(eN){return dI.filter(function(eO){var eP;return!(eP=(T.Int())(eO),eP!=null&&eP.$==1);},dF.SplitStrings(dF.concat(" ",eN),[" "],1));};ci.verticalSplit=function(eN){var eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX;function eY(e1,e2){var e3,e4,e5;return(e4=bd.REGEX$1("^ *\\|+ *$","",e2),e4!=null&&e4.$==1&&(e5=e4.$0,!dN.Equals(e5,null)&&e5.length===1))?{$:1,$0:[e1,e2.indexOf("|")]}:null;}function eZ(e1){return dN.Equals(null,e1);}function e0(e1){return dN.Equals(null,e1);}eO=ci.transpose(eN);eP=(eQ=(eR=dG.tryHead(dG.sortBy(function(e1){return e1[1];},dG.choose(function(e1){return eY(e1[0],e1[1]);},dG.indexed(eO)))),eR==null?null:{$:1,$0:eR.$0[0]}),eQ==null?null:{$:1,$0:(eS=eQ.$0,[ci.transpose(dO.array(eO,null,{$:1,$0:eS-1})),ci.transpose(dO.array(eO,{$:1,$0:eS+1},null))])});return eP==null?null:{$:1,$0:(eT=eP.$0,(eU=eT[0],(eV=eT[1],[dI.filter(function(e1){return eZ(ci.extractMeasuresO(e1));},eU),dI.filter(function(e1){return e0(ci.extractMeasuresO(e1));},eV),(eW=dG.tryHead(dG.delay(function(){return dG.append(dG.choose(ci.extractMeasuresO,eU),dG.delay(function(){return dG.map(function(e1){return e1.$==0?e1.$1?new ce({$:0,$0:e1.$0,$1:false}):e1:e1;},dG.choose(ci.extractMeasuresO,eV));}));})),(eX=new ce({$:1,$0:5,$1:50,$2:95}),eW==null?eX:eW.$0))])))};};ci.transpose=function(eN){var eO;eO=dG.max(dG.map(function(eP){return eP.length;},eN));return dI.ofSeq(dG.delay(function(){return dG.map(function(eP){return dI.ofSeq(dG.delay(function(){return dG.map(function(eQ){return eQ.length>eP?eQ[eP]:" ";},eN);})).join("");},dM.range(0,eO-1));}));};ci.horizontalSplit=function(eN){var eO,eP,eQ,eR,eS;function eT(eU,eV){var eW,eX,eY,eZ;eW=bd.REGEX$1("^ *--+([ ^v0-9]*)-* *$","",eV);return eW!=null&&eW.$==1?{$:1,$0:[[eU,(eX=(eY=dG.tryItem(1,eW.$0),eY==null?null:ci.extractMeasuresO(dF.Replace(dF.Replace(eY.$0,"^",""),"v","-"))),(eZ=new ce({$:1,$0:5,$1:50,$2:95}),eX==null?eZ:eX.$0))],eV.indexOf("-")]}:null;}eO=(eP=dG.tryHead(dG.sortBy(function(eU){return eU[1];},dG.choose(function(eU){return eT(eU[0],eU[1]);},dG.indexed(eN)))),eP==null?null:{$:1,$0:eP.$0[0]});return eO==null?null:{$:1,$0:(eQ=eO.$0,(eR=eQ[0],(eS=eQ[1],[dO.array(eN,null,{$:1,$0:eR-1}),dO.array(eN,{$:1,$0:eR+1},null),eS])))};};ci.extractMeasuresO=function(eN){var eO,eP,eQ,eR,eS,eT,eU;eO=dF.SplitChars(eN,[" "],1);return!dN.Equals(eO,null)&&eO.length===1&&(eQ=(T.Int())(dI.get(eO,0)),eQ!=null&&eQ.$==1&&(eP=eQ.$0,true))?{$:1,$0:new ce({$:0,$0:em.abs(eP),$1:eP>=0})}:!dN.Equals(eO,null)&&eO.length===3&&(eS=(T.Int())(dI.get(eO,0)),eS!=null&&eS.$==1&&(eT=(T.Int())(dI.get(eO,1)),eT!=null&&eT.$==1&&(eU=(T.Int())(dI.get(eO,2)),eU!=null&&eU.$==1&&(eR=[eU.$0,eS.$0,eT.$0],true))))?{$:1,$0:new ce({$:1,$0:eR[1],$1:eR[2],$2:eR[0]})}:null;};cd.newLyt=function(eN,eO){return cc.New(eN,dZ.Create$1(eO));};cd.refreshEntries=function(eN,eO){var eP,eQ,eR,eS;eP=(eQ=bV.tryGetPlugIn(eN),eQ==null?(eR=(eS=bV.defaultPlugIn(),b3.New(eN,eS.plgVars,eS.plgViews,eS.plgDocs,eS.plgActions,eS.plgQueries)),(bV.addPlugIn(eR),eR)):eQ.$0);bi.refreshLM(eP.plgVars,dI.ofSeq(dG.delay(function(){return cd.getVarEntries(eO);})));bi.refreshLM(eP.plgViews,dI.ofSeq(dG.delay(function(){return cd.getViewEntries(eO);})));bi.refreshLM(eP.plgActions,dI.ofSeq(dG.delay(function(){return cd.getActionEntries(eO);})));bi.refreshLM(eP.plgQueries,dI.ofSeq(dG.delay(function(){return cd.getQueryEntries(eO);})));bi.refreshLM(eP.plgDocs,dI.ofSeq(dG.delay(function(){return cd.getDocEntries(eO);})));};cd.none=function(eN){return d5.Element("span",[],[]);};cd.getQueryEntries=function(eN){function eO(eP){return eP[1];}return dG.map(function(eP){return dG.last(eO(eP));},dG.groupBy(function(eP){return eP.qryName;},dG.choose(function(eP){return eP.$==4?{$:1,$0:eP.$0}:null;},eN)));};cd.getActionEntries=function(eN){function eO(eP){return eP[1];}return dG.map(function(eP){return dG.last(eO(eP));},dG.groupBy(function(eP){return eP.actName;},dG.choose(function(eP){return eP.$==3?{$:1,$0:eP.$0}:null;},eN)));};cd.getViewEntries=function(eN){function eO(eP){return eP[1];}return dG.map(function(eP){return dG.last(eO(eP));},dG.groupBy(function(eP){return eP.viwName;},dG.choose(function(eP){return eP.$==1?{$:1,$0:eP.$0}:null;},eN)));};cd.getVarEntries=function(eN){function eO(eP){return eP[1];}return dG.map(function(eP){return dG.last(eO(eP));},dG.groupBy(function(eP){return eP.varName;},dG.choose(function(eP){return eP.$==0?{$:1,$0:eP.$0}:null;},eN)));};cd.getDocEntries=function(eN){function eO(eP){return eP[1];}return dG.map(function(eP){return dG.last(eO(eP));},dG.groupBy(function(eP){return eP.docName;},dG.choose(function(eP){return eP.$==2?{$:1,$0:eP.$0}:null;},eN)));};cd.getText=function(eN,eO){var eP,eQ,eR,eS,eT,eU,eV,eW,eX;eP=cd.Identifier(eO);return eP!=null&&eP.$==1?(eQ=eP.$0,(eR=(bV.splitName(eN))(eQ),(eS=eR[0],(eT=eR[1],(eU=(eV=bV.tryGetViw(eS,eT),eV==null?null:{$:1,$0:d5.TextView(eV.$0.viwView)}),eU==null?(eW=(eX=bV.tryGetVar(eS,eT),eX==null?null:{$:1,$0:d5.TextView(eX.$0.varVar.get_View())}),eW==null?d5.TextNode(eQ):eW.$0):eU.$0))))):d5.TextNode(cd.S(eO));};cd.parseEntries=function(eN,eO){var eP,eQ;eP=new en.New$5();eQ=(((dD.Curried3(function(eR,eS,eT){return eR("PlugInName View \""+dE.toSafe(eS)+"\"\n"+dE.toSafe(eT));}))(a.id))(eN.get_Id()))(eO);return cd.processText(cf.createEntryO2(eN,eP),eQ);};cd.processText=function(eN,eO){return cd.processLines(eN,dF.SplitChars(eO,["\n","\r"],1));};cd.processLines=function(eN,eO){function eP(eQ){var eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2;eR=dG.tryHead(eQ);return eR!=null&&eR.$==1?(eS=eR.$0,(eT=cd.splitTokens(eS),eT.$==1&&(eV=cd.Identifier(eT.$0),eV!=null&&eV.$==1&&(eT.$1.$==1&&(cd.Vertical(eT.$1.$0).$==2&&(eT.$1.$1.$==0&&(eU=eV.$0,true)))))?(eW=cd.getExtraLines(function(e3){return dF.StartsWith(dF.Trim(e3),"|");},eQ),eP((ci.createLayoutDefinitions(eU,ci.extractNodes(eW[0])))[1].concat(eW[1]))):eT.$==0?eP(dO.array(eQ,{$:1,$0:1},null)):(eX=cd.getExtraLines(function(e3){return dF.StartsWith(dF.Trim(e3),":");},eQ),(eY=eX[1],(eZ=eX[0],dI.length(eZ)>0?(e0=cd.createLines(dG.nth(0,dF.SplitChars(eS,[" "],1)),1,[],[],1,eZ),(e1=e0[0],(e2=e0[1],eP(dI.ofSeq(dG.delay(function(){return dG.append(e2,dG.delay(function(){return dG.append([eS+" "+dF.concat(" ",e1)],dG.delay(function(){return eY;}));}));})))))):dI.ofSeq(dG.delay(function(){var e3;return dG.append((e3=eN(eS),e3!=null&&e3.$==1?[e3.$0]:[]),dG.delay(function(){return eP(eY);}));}))))))):[];}return eP(eO);};cd.createLines=function(eN,eO,eP,eQ,eR,eS){var eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2;eT=dF.replicate(eO,":");eU=":"+eT;eV=dG.tryHead(eS);return eV!=null&&eV.$==1?(eW=S.StartsWith(eT,dF.Trim(eV.$0)),eW!=null&&eW.$==1?(eX=eW.$0,(eY=cd.getExtraLines(function(e3){return dF.StartsWith(dF.Trim(e3),eU);},eS),(eZ=(((dD.Curried3(function(e3,e4,e5){return e3("_"+dE.toSafe(e4)+"_"+a.String(e5));}))(a.id))(eN))(eR),(e0=cd.createLines(eZ,eO+1,[],[],1,eY[0]),(e1=e0[1],(e2=e0[0],cd.createLines(eN,eO,dI.ofSeq(dG.delay(function(){return dG.append(eP,dG.delay(function(){return[eZ];}));})),dI.ofSeq(dG.delay(function(){return dG.append(eQ,dG.delay(function(){return dG.append(e1,dG.delay(function(){return[eZ+" "+eX+" "+dF.concat(" ",e2)];}));}));})),eR+1,eY[1]))))))):[eP,eQ]):[eP,eQ];};cd.getExtraLines=function(eN,eO){var eP,eQ,eR,eS,eT;eP=(eQ=(eR=dG.tryFindIndex(function(eU){return(cd.notEmpty())(eU)&&!eN(eU);},dG.skip(1,eO)),eR==null?null:{$:1,$0:1+eR.$0}),(eS=dI.length(eO),eQ==null?eS:eQ.$0));return[(eT=dO.array(eO,{$:1,$0:1},{$:1,$0:eP-1}),dI.filter(cd.notEmpty(),eT)),dO.array(eO,{$:1,$0:eP},null)];};cd.notEmpty=function(){dv.$cctor();return dv.notEmpty;};cd.emptyLine=function(eN){var eO;eO=dF.Trim(eN);return eO===""||dF.StartsWith(eO,"//");};cd.splitTokens=function(eN){return cd.doubleQuote(dH.ofSeq(dG.collect(a.id,dG.mapi(function(eO,eP){var eQ;return eO%2===1?[{$:0,$0:eP}]:eP===""?[{$:0,$0:"\""}]:(eQ=dF.Trim(eP),eQ===""?[]:dI.map(function(eR){return{$:1,$0:eR};},dF.SplitChars(eQ,[" "],1)));},S.splitByChar("\"",dN.Equals(dG.tryHead(eN),{$:1,$0:"\""})?" "+eN:eN)))));};cd.doubleQuote=function(eN){var eO,eP,eQ;switch(eN.$==1?eN.$0.$==1?dF.StartsWith(eN.$0.$0,"//")?(eO=eN.$0.$0,1):2:2:0){case 0:return dH.T.Empty;case 1:return dH.T.Empty;case 2:switch(eN.$==1?eN.$0.$==0?eN.$1.$==1?eN.$1.$0.$==0?eN.$1.$0.$0==="\""?eN.$1.$1.$==0?(eQ=eN.$0.$0,1):eN.$1.$1.$0.$==0?(eQ=[eN.$1.$1.$1,eN.$0.$0,eN.$1.$1.$0.$0],0):(eQ=[eN.$0,eN.$1],2):(eQ=[eN.$0,eN.$1],2):(eQ=[eN.$0,eN.$1],2):(eQ=[eN.$0,eN.$1],2):(eQ=[eN.$0,eN.$1],2):3){case 0:eP=cd.doubleQuote(new dH.T({$:1,$0:{$:0,$0:eQ[1]+"\""+eQ[2]},$1:eQ[0]}));break;case 1:eP=dH.ofArray([{$:0,$0:eQ}]);break;case 2:eP=new dH.T({$:1,$0:eQ[0],$1:cd.doubleQuote(eQ[1])});break;case 3:throw new eo.New("D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\FSharpStation\\src\\FSharpStation.fs",5792,38);}return eP;}};cd.variableSplitter=function(eN,eO,eP,eQ,eR,eS){return d5.Element("wcomp-splitter",dH.ofSeq(dG.delay(function(){return dG.append(eN?[d_.Create("vertical","")]:[],dG.delay(function(){return dG.append([d_.Create("min",a.String(eO))],dG.delay(function(){return dG.append([d_.Create("value",a.String(eP))],dG.delay(function(){return[d_.Create("max",a.String(eQ))];}));}));}));})),dH.ofArray([eR,eS]));};cd.fixedSplitter=function(eN,eO,eP,eQ,eR){var eS,eT,eU,eV,eW,eX,eY;eS=(((eP?dD.Curried3(function(eZ,e0,e1){return eZ(e0.toFixed(6)+"px calc(100% - "+e1.toFixed(6)+"px)");}):dD.Curried3(function(eZ,e0,e1){return eZ("calc(100% - "+e0.toFixed(6)+"px) "+e1.toFixed(6)+"px");}))(a.id))(eO))(eO);return eN?(eT=ei.Make().WithHole({$:1,$0:"partsizes",$1:eS}).WithHole({$:0,$0:"first",$1:eQ}).WithHole({$:0,$0:"second",$1:eR}),(eU=ej.CompleteHoles(eT.k,eT.h,[]),(eV=new ek.New(eU[1],dx.fixedsplitterver(eU[0])),(eT.i=eV,eV)))).get_Doc():(eW=ei.Make().WithHole({$:1,$0:"partsizes",$1:eS}).WithHole({$:0,$0:"first",$1:eQ}).WithHole({$:0,$0:"second",$1:eR}),(eX=ej.CompleteHoles(eW.k,eW.h,[]),(eY=new ek.New(eX[1],dx.fixedsplitterhor(eX[0])),(eW.i=eY,eY)))).get_Doc();};cd.Measures$1=function(eN){var eO,eP,eQ,eR,eS,eT,eU,eV,eW;return eN.$==1?(eO=S.splitByChar("-",eN.$0),!dN.Equals(eO,null)&&eO.length===1&&(eQ=(T.Double())(dI.get(eO,0)),eQ!=null&&eQ.$==1&&(eP=eQ.$0,true))?{$:1,$0:new ce({$:0,$0:eP,$1:true})}:!dN.Equals(eO,null)&&eO.length===2&&(dI.get(eO,0)===""&&(eS=(T.Double())(dI.get(eO,1)),eS!=null&&eS.$==1&&(eR=eS.$0,true)))?{$:1,$0:new ce({$:0,$0:eR,$1:false})}:!dN.Equals(eO,null)&&eO.length===3&&(eU=(T.Double())(dI.get(eO,0)),eU!=null&&eU.$==1&&(eV=(T.Double())(dI.get(eO,1)),eV!=null&&eV.$==1&&(eW=(T.Double())(dI.get(eO,2)),eW!=null&&eW.$==1&&(eT=[eW.$0,eU.$0,eV.$0],true))))?{$:1,$0:new ce({$:1,$0:eT[1],$1:eT[2],$2:eT[0]})}:null):null;};cd.splitInTwo=function(eN){var eO;eO=cd.splitChar(eN);return function(eP){return dI.ofSeq(eO(eP));};};cd.splitSemiColon=function(){dv.$cctor();return dv.splitSemiColon;};cd.splitChar=function(eN){function eO(eQ){return S.splitByChar(eN,eQ);}function eP(eQ){return dG.map(S.trim,eQ);}return function(eQ){return eP(eO(eQ));};};cd.Var=function(eN){var eO,eP,eQ,eR,eS,eT;return eN.$==1&&(eN.$0==="Var"&&(eO=eN.$0,true))?{$:0,$0:null}:eN.$==1&&(eN.$0==="Doc"&&(eP=eN.$0,true))?{$:1,$0:null}:eN.$==1&&(eN.$0==="View"&&(eQ=eN.$0,true))?{$:2,$0:null}:eN.$==1&&(eN.$0==="ViewJS"&&(eR=eN.$0,true))?{$:3,$0:null}:eN.$==1&&(eN.$0==="Docs"&&(eS=eN.$0,true))?{$:4,$0:null}:eN.$==1&&(eN.$0==="Action"&&(eT=eN.$0,true))?{$:5,$0:null}:{$:6,$0:null};};cd.PlugIn=function(eN){var eO,eP,eQ,eR,eS,eT;return eN.$==1&&(eN.$0==="PlugIn"&&(eO=eN.$0,true))?{$:0,$0:null}:eN.$==1&&(eN.$0==="Button"&&(eP=eN.$0,true))?{$:1,$0:null}:eN.$==1&&(eN.$0==="input"&&(eQ=eN.$0,true))?{$:2,$0:null}:eN.$==1&&(eN.$0==="textarea"&&(eR=eN.$0,true))?{$:3,$0:null}:eN.$==1&&(eN.$0==="select"&&(eS=eN.$0,true))?{$:4,$0:null}:eN.$==1&&(eN.$0==="Actions"&&(eT=eN.$0,true))?{$:5,$0:null}:{$:6,$0:null};};cd.Vertical=function(eN){var eO,eP,eQ,eR,eS,eT;return eN.$==1&&(eN.$0==="vertical"&&(eO=eN.$0,true))?{$:0,$0:null}:eN.$==1&&(eN.$0==="horizontal"&&(eP=eN.$0,true))?{$:1,$0:null}:eN.$==1&&(eN.$0==="layout"&&(eQ=eN.$0,true))?{$:2,$0:null}:eN.$==1&&(eN.$0==="grid"&&(eR=eN.$0,true))?{$:3,$0:null}:eN.$==1&&(eN.$0==="template"&&(eS=eN.$0,true))?{$:4,$0:null}:(eT=cd.Identifier(eN),eT!=null&&eT.$==1?{$:5,$0:eT.$0}:{$:6,$0:null});};cd.I=function(eN){var eO;eO=cd.Identifier(eN);return eO!=null&&eO.$==1?{$:1,$0:eO.$0}:null;};cd.Identifier=function(eN){var eO,eP,eQ;return eN.$==1&&(eP=bd.REGEX$1("^[$a-zA-Z_][0-9a-zA-Z_\\.\\-$]*$","",eN.$0),eP!=null&&eP.$==1&&((eQ=eP.$0,!dN.Equals(eQ,null)&&eQ.length===1)&&(eO=dI.get(eP.$0,0),true)))?{$:1,$0:eO}:null;};cd.S=function(eN){return eN.$==1?eN.$0:eN.$0;};ck.run=function(eN,eO){return bV.run(eN,eO.r);};cj.addNewLayoutAct=function(eN,eO){var eP;cj.addLayout(!dN.Equals(eN,null)?eN:"Lyt_"+dF.Replace(a.String(dT.NewGuid()),"-",""),(eP=!dN.Equals(eO,null)&&!dN.Equals(eN,null)?eO:"\r\n                                        perc  Var \"50\"\r\n                                        perc2 Var \"50\"\r\n                                        gap  Var \"5px\"\r\n            \r\n                                        Ask1 div \"background:lightblue; height:100%\"\r\n                                        : Doc AF.InputLabel \"placeholder=Type percentage here...\" \"Percentage (%):\" perc\r\n            \r\n                                        Ask2a div \"background:pink; height:100%\"\r\n                                        : Doc AF.InputLabel \"placeholder=Type percentage here...\" \"Percentage (%):\" perc2\r\n            \r\n                                        Ask2b div \"background:lightgreen; height:100%\"\r\n                                        : Doc AF.InputLabel \"placeholder=Type gap here...\" \"Gap:\" gap\r\n            \r\n                                        dragSplitter  Action AF.DragSplitter \"@{PlugInName}.perc\"\r\n                                        dragSplitter2 Action AF.DragSplitter \"@{PlugInName}.perc2\"\r\n            \r\n                                        Ask2 template HSplitter1 \"height:100%\" \"gap:gap\" \"doc1: Ask2a; doc2:Ask2b\" \"perc:perc2\" \"MouseDown:dragSplitter2\"\r\n            \r\n                                        main div \"\"\r\n                                        :    template VSplitter1  \"height:100%\" \"gap:gap\" \"doc1: Ask1 ; doc2:Ask2 \" \"perc:perc \" \"MouseDown:dragSplitter \"\r\n            \r\n                                        split horizontal 0-50-100 AppFramework.AppFwkClient main\r\n                                    ",(S.unindentStr())(eP)));};cj.addLayout=function(eN,eO){cj.addNewLayout(cd.newLyt(new bX({$:0,$0:eN}),eO));};cj.addNewLayout=function(eN){var eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX;function eY(e2){return e2.$==1?{$:1,$0:e2.$0}:null;}function eZ(e2){return dF.concat("\n",e2);}function e0(e2){return e2.$==0?{$:1,$0:e2.$0}:null;}function e1(e2){return dG.append(eV,e2);}eO=d0.Map((eP=eN.lytName,function(e2){return cd.parseEntries(eP,e2);}),eN.lytDefinition.get_View());eQ=d0.Map((eR=function(e2){return dG.choose(eY,e2);},function(e2){return eZ(eR(e2));}),eO);eS=d0.Map((eT=function(e2){return dG.choose(e0,e2);},(eU=cj.generateEntries(eN.lytName),function(e2){return eU(eT(e2));})),eO);eV=dH.ofArray([{$:0,$0:bV.newVar(new bW({$:0,$0:"Layout"}),eN.lytDefinition)},{$:1,$0:bV.newViw(new bW({$:0,$0:"ParseMsgs"}),eQ)}]);d0.Sink((eW=(eX=eN.lytName,function(e2){cd.refreshEntries(eX,e2);}),function(e2){return eW(e1(e2));}),eS);};cj.generateEntries=function(eN){function eO(eP,eQ){var eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3;return eQ.$==0?eQ.$0.$==1?{$:1,$0:{$:2,$0:(eR=(cj.defButtonM())([eN,eP,eQ.$0.$0.$0,eQ.$0.$0.$1,eQ.$0.$0.$2]),bV.newDoc0(new bW({$:0,$0:eP}),eR))}}:eQ.$0.$==2?{$:1,$0:{$:2,$0:(eS=(cj.defInputM())([eN,eP,eQ.$0.$0.$0,eQ.$0.$0.$1]),bV.newDoc0(new bW({$:0,$0:eP}),eS))}}:eQ.$0.$==3?{$:1,$0:{$:2,$0:(eT=(cj.defTextAreaM())([eN,eP,eQ.$0.$0.$0,eQ.$0.$0.$1]),bV.newDoc0(new bW({$:0,$0:eP}),eT))}}:eQ.$0.$==5?{$:1,$0:{$:2,$0:(eU=(cj.defConcatM())([eN,eP,eQ.$0.$0.$0]),bV.newDoc0(new bW({$:0,$0:eP}),eU))}}:eQ.$0.$==6?{$:1,$0:{$:2,$0:(eV=(cj.defElementM())([eN,eP,eQ.$0.$0.$0,eQ.$0.$0.$1,eQ.$0.$0.$2]),bV.newDoc0(new bW({$:0,$0:eP}),eV))}}:eQ.$0.$==4?{$:1,$0:{$:2,$0:(eW=(cj.defDocFM())([eN,eP,eQ.$0.$0.$0,eQ.$0.$0.$1]),bV.newDocL(new bW({$:0,$0:eP}),eW))}}:eQ.$0.$==7?{$:1,$0:{$:2,$0:(eX=(cj.defTemplateM())([eN,eP,eQ.$0.$0]),bV.newDoc0(new bW({$:0,$0:eP}),eX))}}:{$:1,$0:{$:2,$0:(eY=(cj.defSplitterM())([eN,eP,eQ.$0.$0.$0,eQ.$0.$0.$1,eQ.$0.$0.$2,eQ.$0.$0.$3]),bV.newDoc0(new bW({$:0,$0:eP}),eY))}}:eQ.$==1?{$:1,$0:{$:3,$0:(eZ=(cj.defActionM())([eN,eP,eQ.$0.$0,eQ.$0.$1]),bV.newActF(new bW({$:0,$0:eP}),eZ))}}:eQ.$==2?{$:1,$0:{$:3,$0:(e0=(cj.defActionsM())([eN,eP,eQ.$0.$0]),bV.newActF(new bW({$:0,$0:eP}),e0))}}:eQ.$==4?{$:1,$0:{$:1,$0:(e1=(cj.defViewM())([eN,eP,eQ.$0.$0]),bV.newViw(new bW({$:0,$0:eP}),e1))}}:eQ.$==5?{$:1,$0:{$:1,$0:(e2=(cj.defViewJSM())([eN,eP,eQ.$0.$0]),bV.newViw(new bW({$:0,$0:eP}),e2))}}:eQ.$==7?null:eQ.$==6?null:{$:1,$0:{$:0,$0:(e3=cj.defVarM(eN,eP,eQ.$0.$0),bV.newVar(new bW({$:0,$0:eP}),e3))}};}return function(eP){return dG.choose(function(eQ){return eO(eQ[0],eQ[1]);},eP);};};cj.defTemplateM=function(){dv.$cctor();return dv.defTemplateM;};cj.defSplitterM=function(){dv.$cctor();return dv.defSplitterM;};cj.defViewJSM=function(){dv.$cctor();return dv.defViewJSM;};cj.defViewM=function(){dv.$cctor();return dv.defViewM;};cj.defConcatM=function(){dv.$cctor();return dv.defConcatM;};cj.defElementM=function(){dv.$cctor();return dv.defElementM;};cj.defTextAreaM=function(){dv.$cctor();return dv.defTextAreaM;};cj.defInputM=function(){dv.$cctor();return dv.defInputM;};cj.defButtonM=function(){dv.$cctor();return dv.defButtonM;};cj.defActionsM=function(){dv.$cctor();return dv.defActionsM;};cj.defActionM=function(){dv.$cctor();return dv.defActionM;};cj.defDocFM=function(){dv.$cctor();return dv.defDocFM;};cj.defVarM=function(eN,eO,eP){var eQ;eQ=(cj.defVarM0())([eN,eO,cj.initVal()]);eQ.Get()===cj.initVal()?eQ.Set(eP):void 0;return eQ;};cj.defVarM0=function(){dv.$cctor();return dv.defVarM0;};cj.initVal=function(){dv.$cctor();return dv.initVal;};cj.defTemplate=function(eN,eO,eP){var eQ;return bV.run(eN,(eQ=v.depend(),eQ.Delay(function(){return eQ.Bind(cj.nodeRefToDocD(),function(eR){return eQ.Bind(cj.varRefToVarD(),function(eS){return eQ.Bind(bV.extractTextD(),function(eT){return eQ.Bind(bV.extractAtsD(),function(eU){return eQ.Bind(cj.actRefToActD(),function(eV){return eQ.Bind(cj.getParam2D(),function(eW){return eQ.Return(bV.makeAViewDoc0(function(){var eY,eZ,e0;function eX(e1,e2,e3){return bV.callFunction(e2,e3,e1.actFunction);}try{eY=eU(eW(eP.attrs));eb.LoadLocalTemplates("local");eZ=(dG.isEmpty(eY)?a.id:(e0=[{$:3,$0:"attrs",$1:d_.Concat(eY)}],function(e1){return dG.append(e0,e1);}))(dG.delay(function(){function e1(e2,e3){return{$:8,$0:e2.toLowerCase(),$1:eS(e3)};}return dG.append(dG.map(function(e2){return e1(e2[0],e2[1]);},eP.vars),dG.delay(function(){function e2(e3,e4){return{$:2,$0:e3.toLowerCase(),$1:eT(eW(e4))};}return dG.append(dG.map(function(e3){return e2(e3[0],e3[1]);},eP.views),dG.delay(function(){function e3(e4,e5){return{$:0,$0:e4.toLowerCase(),$1:eR({$:1,$0:e5})};}return dG.append(dG.map(function(e4){return e3(e4[0],e4[1]);},eP.docs),dG.delay(function(){function e4(e5,e6){var e7;return{$:4,$0:e5.toLowerCase(),$1:(e7=eV(e6),(dD.Curried3(eX))(e7))};}return dG.map(function(e5){return e4(e5[0],e5[1]);},eP.actions);}));}));}));}));return eb.NamedTemplate("local",{$:1,$0:eP.tmpName.toLowerCase()},eZ);}catch(e1){return d5.TextNode(e1.message);}}));});});});});});});})));};cj.defSplitter=function(eN,eO,eP,eQ,eR,eS){var eT,eU,eV;eT=eR.$0;eU=eS.$0;return bV.run(eN,(eV=v.depend(),eV.Delay(function(){return eV.Bind(b9.getDocFromTextTypesD(),function(eW){return eV.Return(function(){function eX(eY){return bV.makeAViewDoc(function(){return eW(dH.ofArray([cj.itemRefToTextType(eY)]));});}return eQ.$==1?cd.variableSplitter(eP,eQ.$0,eQ.$1,eQ.$2,eX(eT),eX(eU)):cd.fixedSplitter(eP,eQ.$0,eQ.$1,eX(eT),eX(eU));});});})));};cj.defButton=function(eN,eO,eP,eQ,eR){return bV.makeAViewDoc0(function(){return bV.errDocf(function(eS){return eS("Button deprecated use button \"click=@{Action}\"");});});};cj.defDocF=function(eN,eO,eP,eQ){var eR,eS;eR=eP.$0;return bV.run(eN,(eS=v.depend(),eS.Delay(function(){return eS.Bind(cj.currentPlugInNameD(),function(eT){return eS.Bind(cj.getParam2D(),function(eU){var eV,eW,eX,eY;function eZ(e0,e1){var e2,e3;return e0.$==0?e1.$==0?e0:{$:0,$0:e0.$0}:e0.$==2?e1.$==1?(e2=e1.$0,(e3=e0.$0,{$:1,$0:function(){return e3(eU(e2));}})):e0:e0.$==3?e1.$==1?eZ({$:2,$0:e0.$0(eU(e1.$0)),$1:e0.$2},e1.$1):e0:e0.$==4?e1.$==1?eZ({$:3,$0:e0.$0(eU(e1.$0)),$1:e0.$2,$2:e0.$3},e1.$1):e0:e0.$==5?e1.$==1?eZ({$:4,$0:e0.$0(eU(e1.$0)),$1:e0.$2,$2:e0.$3,$3:e0.$4},e1.$1):e0:e0.$==6?e1.$==1?eZ({$:5,$0:e0.$0(eU(e1.$0)),$1:e0.$2,$2:e0.$3,$3:e0.$4,$4:e0.$5},e1.$1):e0:{$:0,$0:e0.$0()};}eV=(eW=cj.itemRefToString(eR),(bV.splitName(eT))(eW));eX=eV[0];eY=eV[1];return eS.Return(ee.Create(function(){var e0,e1;e0=(e1=bV.tryGetDoc(eX,eY),e1==null?null:{$:1,$0:eZ(e1.$0.docDoc.f(),eQ)});return e0==null?{$:0,$0:bV.errDoc((function(e2){return function(e3){return e2("Missing doc: "+dy.p$1(e3));};}(a.id))(eR))}:e0.$0;}));});});})));};cj.defConcat=function(eN,eO,eP){var eQ;return bV.run(eN,(eQ=v.depend(),eQ.Delay(function(){return eQ.Bind(cj.nodeRefToDocD(),function(eR){return eQ.Return(bV.makeAViewDoc0(function(){return d5.Concat(dG.map(eR,eP));}));});})));};cj.defElement=function(eN,eO,eP,eQ,eR){var eS;return bV.run(eN,(eS=v.depend(),eS.Delay(function(){return eS.Bind(cj.nodeRefToDocD(),function(eT){return eS.Bind(bV.extractAtsD(),function(eU){return eS.Bind(cj.getParam2D(),function(eV){return eS.Return(bV.makeAViewDoc0(function(){try{return d5.Element(eP,eU(eV(eQ)),dG.map(eT,eR));}catch(eW){return d5.TextNode(eW.message);}}));});});});})));};cj.defTextArea=function(eN,eO,eP,eQ){return bV.makeAViewDoc0(function(){return bV.errDocf(function(eR){return eR("TextArea deprecated use AF.TextArea");});});};cj.defInput=function(eN,eO,eP,eQ){return bV.makeAViewDoc0(function(){return bV.errDocf(function(eR){return eR("input deprecated use AF.Input");});});};cj.defViewJS=function(eN,eO,eP){var eQ;return bV.run(eN,(eQ=v.depend(),eQ.Delay(function(){return eQ.Bind(cj.currentPlugInNameD(),function(){return eQ.Bind(cj.getParamD(),function(eR){return eQ.Return(d0.Bind(function(){try{return d0.Map(function(eS){try{return!dN.Equals(eS,null)&&eS.length===0?"No JS function specified":!dN.Equals(eS,null)&&eS.length===1?a.String(a["eval"](dI.get(eS,0))):a.String(a["eval"](dI.get(eS,0)).apply(null,dO.array(eS,{$:1,$0:1},null)));}catch(eT){return eT.message;}},d0.Map(dI.ofSeq,bg.traverseSeq(eR,eP)));}catch(eS){return d0.Const(eS.message);}},bV.baseView()));});});})));};cj.defView=function(eN,eO,eP){var eQ;return bV.run(eN,(eQ=v.depend(),eQ.Delay(function(){return eQ.Bind(cj.currentPlugInNameD(),function(){return eQ.Bind(cj.getParam2D(),function(eR){return eQ.Bind(bV.extractTextD(),function(eS){return eQ.Return(d0.Bind(function(){function eT(eU){return dF.concat("",eU);}return d0.Map(function(eU){return eT(dI.ofSeq(eU));},bg.traverseSeq(function(eU){return eS(eR(eU));},eP));},bV.baseView()));});});});})));};cj.defActions=function(eN,eO,eP){var eQ;return bV.run(eN,(eQ=v.depend(),eQ.Delay(function(){return eQ.Bind(cj.currentPlugInNameD(),function(eR){return eQ.Bind(cj.getParamTextD(),function(){return eQ.Return({$:0,$0:function(){dG.iter(function(eS){var eT,eU,eV,eW;eT=cj.itemRefToString(eS.$0);bV.callFunction(null,null,(eU=(eV=(eW=(bV.splitName(eR))(eT),bV.tryGetAct(eW[0],eW[1])),eV==null?null:{$:1,$0:eV.$0.actFunction}),eU==null?{$:0,$0:function(){((function(eX){return function(eY){return eX("Action Not Found "+dE.toSafe(eY));};}(function(eX){d2.log(eX);}))(eT));}}:eU.$0));},eP);}});});});})));};cj.defAction=function(eN,eO,eP,eQ){var eR,eS;eR=eP.$0;return bV.run(eN,(eS=v.depend(),eS.Delay(function(){return eS.Bind(cj.currentPlugInNameD(),function(eT){return eS.Bind(cj.getParamTextD(),function(eU){var eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4,e5,e6,e7,e8,e9;eZ=cj.itemRefToString(eR);e0=(eW=(bV.splitName(eT))(eZ),bV.tryGetAct(eW[0],eW[1]));if(e0==null)eV=null;else{e1=e0.$0;if(eQ.$===0)eX=e1.actFunction;else{e2=e1.actFunction;switch(e2.$==1?eQ.$==1?eQ.$1.$==0?(eY=[e2.$0,eQ.$0],0):3:3:e2.$==2?eQ.$==1?eQ.$1.$==0?(eY=[e2.$0,e2.$2,eQ.$0],2):eQ.$1.$1.$==0?(eY=[e2.$0,eQ.$0,eQ.$1.$0],1):3:3:3){case 0:eX=(e3=eY[0],(e4=eY[1],{$:0,$0:function(){(eU(e4))(e3);}}));break;case 1:eX=(e5=eY[0],(e6=eY[1],(e7=eY[2],{$:0,$0:function(){(eU(e6))(function(e_){(eU(e7))(e5(e_));});}})));break;case 2:eX=(e8=eY[0],(e9=eY[2],{$:1,$0:function(e_){(eU(e9))(function(e$){(e8(e$))(e_);});},$1:eY[1]}));break;case 3:eX={$:0,$0:function(){((((dD.Curried(function(e_,e$,fa,fb){return e_("Parameters do not coincide for Action "+dE.toSafe(e$)+" "+dE.printList(function(fc){return dy.p$17(fc);},fa)+" "+dA.p$2(fb));},4))(function(e_){d2.log(e_);}))(eZ))(eQ))(e1);}};break;}}eV={$:1,$0:eX};}return eS.Return(eV==null?{$:0,$0:function(){((function(e_){return function(e$){return e_("Action Not Found "+dE.toSafe(e$));};}(function(e_){d2.log(e_);}))(eZ));}}:eV.$0);});});})));};cj.defVar=function(eN,eO,eP){return dZ.Create$1(eP);};cj.getParamTextD=function(){dv.$cctor();return dv.getParamTextD;};cj.getParam2D=function(){dv.$cctor();return dv.getParam2D;};cj.itemRefToAbsolute=function(eN){function eO(eQ){return eQ.$==1?[eQ.$0,eQ.$1]:[eN,eQ.$0];}function eP(eQ,eR){return(((dD.Curried3(function(eS,eT,eU){return eS(dE.toSafe(eT)+"."+dE.toSafe(eU));}))(a.id))(eQ))(eR);}return function(eQ){return eP.apply(null,eO(eQ));};};cj.getParamD=function(){dv.$cctor();return dv.getParamD;};cj.actRefToActD=function(){dv.$cctor();return dv.actRefToActD;};cj.varRefToVarD=function(){dv.$cctor();return dv.varRefToVarD;};cj.nodeRefToDocD=function(){dv.$cctor();return dv.nodeRefToDocD;};cj.ActRVs=function(eN){return dH.ofArray([{$:1,$0:{$:0,$0:eN.$0}}]);};cj.textValToTextType=function(eN){var eO;return(eN.$==3?(eO=eN.$0.$0,false):eN.$==4?(eO=eN.$0.$0,false):eN.$==1?(eO=eN.$0.$0,false):eN.$==2?(eO=eN.$0.$0,false):true)?{$:0,$0:eN.$0}:cj.itemRefToTextType(eO);};cj.itemRefToString=function(eN){return eN.$==1?(((dD.Curried3(function(eO,eP,eQ){return eO(dE.toSafe(eP)+"."+dE.toSafe(eQ));}))(a.id))(eN.$0))(eN.$1):eN.$0;};cj.itemRefToTextType=function(eN){return eN.$==1?{$:1,$0:(((dD.Curried3(function(eO,eP,eQ){return eO(dE.toSafe(eP)+"."+dE.toSafe(eQ));}))(a.id))(eN.$0))(eN.$1)}:{$:1,$0:eN.$0};};cj.currentPlugInNameD=function(){dv.$cctor();return dv.currentPlugInNameD$1;};cj.currentPlugInNameDef=function(){dv.$cctor();return dv.currentPlugInNameDef$1;};cj.pb=function(){dv.$cctor();return dv.pb;};cj.pa=function(){dv.$cctor();return dv.pa;};cj.aV=function(){dv.$cctor();return dv.aV;};cj.concat=function(eN,eO){return(((dD.Curried3(function(eP,eQ,eR){return eP("Concat("+a.String(eQ)+", "+eR.toFixed(6)+")");}))(a.id))(eN))(eO);};bd.rexEmail=function(){dv.$cctor();return dv.rexEmail;};bd.rexGuid=function(){dv.$cctor();return dv.rexGuid;};bd.REGEX$1=function(eN,eO,eP){var eQ;return eP===null?null:(eQ=(new a.String(eP)).match(new a.RegExp(eN,eO)),dN.Equals(eQ,null)?null:!dN.Equals(eQ,null)&&eQ.length===0?null:{$:1,$0:eQ});};cm.extractConfig=function(eN,eO){var eP,eQ;eP=eO.$0;return{$:0,$0:_5.getSourceDir(eN,S.splitByChar("\n",eP)),$1:(eQ=new dV.New(S.splitByChar(" ",_5.extractDefines({$:0,$0:eP}))),new dV.New$1(d7.OfSeq(dG.append(new dV.New(dH.ofArray([" --nologo","--quiet "])),eQ))))};};co=cn.Address=dD.Class({get_txt:function(){return this.$0;}},null,co);cp.BRGetProcessId={$:1};cp.BRGetConnections={$:0};cq.MsgRequestForEcho={$:5};cq.MsgRequestForId={$:4};cq.MsgFromBroker={$:3};cq.MsgReply={$:2};cq.MsgRequest={$:1};cq.MsgInformation={$:0};cr.BMReceiverCantReply={$:4};cr.BMOnlyBrokerShouldUse={$:1};cr.BMOk={$:0};cs.Receiver={$:2};cs.Broker={$:1};cs.NoReply={$:0};ct.New=function(eN,eO,eP,eQ,eR,eS,eT){return{from:eN,destination:eO,msgType:eP,subtype:eQ,id:eR,payload:eS,replier:eT};};cu.FSharp={$:0};cv.FSStation={$:0};cw.JScript={$:0};cy=cx.Handler=dD.Class({Cancel:function(eN,eO){var eP;eP=this.waitingAgent;eP.mailbox.AddLast({$:3,$0:eN,$1:eO});eP.resume();},Raise:function(eN,eO){var eP;eP=this.waitingAgent;eP.mailbox.AddLast({$:2,$0:eN,$1:eO});eP.resume();},Reply:function(eN,eO){var eP;eP=this.waitingAgent;eP.mailbox.AddLast({$:1,$0:eN,$1:eO});eP.resume();},Add:function(eN,eO){var eP;eP=this.waitingAgent;eP.mailbox.AddLast({$:0,$0:eN,$1:eO});eP.resume();}},n,cy);cy.New=dD.Ctor(function(eN){n.New.call(this);this.waitingAgent=V.fold(V.defHandler,function(eO,eP){var eQ,eR,eS;function eT(eU,eV,eW){var eX,eY;eX=(eY=ep.TryFind(eU,eO),eY==null?null:{$:1,$0:eV(eY.$0)});eX==null?eW():void 0;return eO.Remove(eU);}return eP.$==1?(eQ=eP.$1,eT(eP.$0,function(eU){eU[0](eQ);},function(){eN(eQ);})):eP.$==2?(eR=eP.$1,eT(eP.$0,function(eU){eU[1](eR);},a.ignore)):eP.$==3?(eS=eP.$1,eT(eP.$0,function(eU){eU[2](eS);},a.ignore)):eO.Add(eP.$0,eP.$1);},new d6.New([]));},cy);cz=cn.WSMessagingClient=dD.Class({sendMsg:function(eN){var eO,eP;eO=this;eP=i.asyncResult();return eP.Run(eP.Delay(function(){return eN.replier.$===0?eP.Bind$1(eO.sendAndForget(eN),function(){return eP.Return("");}):eP.ReturnFrom$1(eO.sendGetReply(eN));}));},getProcessId:function(){var eN,eO;eN=this;eO=i.asyncResult();return eO.Run(eO.Delay(function(){var eP,eQ;return eO.Bind$1(eN.sendGetReply((eP=cn.MessageBrokerAddress(),(eQ=eq.stringify((dw.j$9())(cp.BRGetProcessId)),ct.New(new co({$:0,$0:""}),eP,cq.MsgRequest,"",dT.NewGuid(),eQ,cs.NoReply)))),function(eR){var eS;eS=(dB.j$7())(eq.parse(eR));return eS.$==1?eO.Return(eS.$0):eO.ReturnFrom({$:1,$0:new g({$:4,$0:{$:6,$0:(function(eT){return function(eU){return eT(dy.p$33(eU));};}(a.id))(eS)}})});});}));},getListeners:function(){var eN,eO;eN=this;eO=i.asyncResult();return eO.Run(eO.Delay(function(){var eP,eQ;return eO.Bind$1(eN.sendGetReply((eP=cn.MessageBrokerAddress(),(eQ=eq.stringify((dw.j$9())(cp.BRGetConnections)),ct.New(new co({$:0,$0:""}),eP,cq.MsgRequest,"",dT.NewGuid(),eQ,cs.NoReply)))),function(eR){var eS;eS=(dB.j$7())(eq.parse(eR));return eS.$==0?eO.Return(eS.$0):eO.ReturnFrom({$:1,$0:new g({$:4,$0:{$:6,$0:(function(eT){return function(eU){return eT(dy.p$33(eU));};}(a.id))(eS)}})});});}));},sendGetReply:function(eN){var eO,eP;eO=this;eP=i.asyncResult();return eP.Run(eP.Delay(function(){return eP.Bind$1(eO.sendAndReply(cs.Receiver,eN),function(eQ){var eR;return eP.Bind((eR=eQ.msgType,eR.$==2?{$:0,$0:eQ.payload}:eR.$==3?{$:1,$0:new g({$:4,$0:(dB.j$8())(eq.parse(eQ.payload))})}:{$:1,$0:new g({$:4,$0:{$:5,$0:eQ.msgType}})}),function(eS){return eP.Return(eS);});});}));},sendAndVerify:function(eN){var eO,eP;eO=this;eP=i.asyncResult();return eP.Run(eP.Delay(function(){return eP.Bind$1(eO.sendAndReply(cs.Broker,eN),function(eQ){var eR;return eP.Bind(eQ.msgType.$==3?(eR=(dB.j$8())(eq.parse(eQ.payload)),eR.$===0?{$:0,$0:null}:{$:1,$0:new g({$:4,$0:eR})}):{$:1,$0:new g({$:4,$0:{$:5,$0:eQ.msgType}})},function(){return eP.Return();});});}));},sendAndReply:function(eN,eO){var eP,eQ;eP=this;eQ=i.asyncResult();return eQ.Run(eQ.Delay(function(){return eQ.Bind$1(eP.getServer(),function(eR){return N["AsyncResultBuilder.ReturnFrom"](eQ,dJ.FromContinuations(function(eS,eT,eU){var eV;eP.waiting.Add(eO.id,[eS,eT,eU]);eP.postR(eR,eN,eO);return eP.wsTimeout>0?dJ.Start((eV=null,dJ.Delay(function(){return dJ.Bind(dJ.Sleep(eP.wsTimeout),function(){eP.waiting.Raise(eO.id,new er.New$1((((dD.Curried3(function(eW,eX,eY){return eW("Did not receive reply in "+a.String(eX)+" seconds for Message: "+dA.p$3(eY));}))(a.id))(eP.wsTimeout/1000>>0))(eO)));return dJ.Zero();});})),null):null;}));});}));},sendAndForget:function(eN){var eO,eP;eO=this;eP=i.asyncResult();return eP.Run(eP.Delay(function(){return eP.Bind$1(eO.getServer(),function(eQ){eO.postR(eQ,cs.NoReply,eN);return eP.Zero();});}));},postR:function(eN,eO,eP){try{eN.FsRoot_Library2_WebSockets_IServer$Post(cn.replier(eO,cn.from(this.clientAddress,eP)));}catch(eQ){this.serverO=null;throw eQ;}},getServer:function(){return this.checkServer.PostAndAsyncReply(function(eN){return[eN,null];},null);},connectToWebSocketServer:function(){var eN,eO;eN=this;(function(eP){return eP("in connectToWebSocketServer");}(function(eP){d2.log(eP);}));eO=null;return dJ.Delay(function(){return dJ.Bind(((eN.connectStateful(eN.wsEndPoint))(eN.clientId))(function(eP){var eQ;eQ=null;return dJ.Delay(function(){return dJ.Return([0,function(eR){return function(eS){var eT;eT=null;return dJ.Delay(function(){return dJ.Combine(dJ.TryWith(dJ.Delay(function(){return eS.$==2?((function(eU){return function(eV){return eU("WebSocket "+dE.toSafe(eV)+" connection open.");};}(function(eU){d2.log(eU);}))(eN.clientId),eN.serverO={$:1,$0:eP},dJ.Zero()):eS.$==3?((function(eU){return function(eV){return eU("WebSocket "+dE.toSafe(eV)+" connection closed.");};}(function(eU){d2.log(eU);}))(eN.clientId),eN.close(),dJ.Zero()):eS.$==1?((function(eU){return function(eV){return eU("WebSocket "+dE.toSafe(eV)+" connection error!");};}(function(eU){d2.log(eU);}))(eN.clientId),dJ.Zero()):(eN.processMessage(eS.$0),dJ.Zero());}),function(eU){(((dD.Curried3(function(eV,eW,eX){return eV("msg: "+dy.p$37(eW)+" \nexn:"+dE.prettyPrint(eX));}))(function(eV){d2.log(eV);}))(eS))(eU);return dJ.Zero();}),dJ.Delay(function(){return dJ.Return(eR);}));});};}]);});}),function(){(function(eP){return eP("connectToWebSocketServer with server");}(function(eP){d2.log(eP);}));return dJ.Zero();});});},processMessage:function(eN){var eO,eP,eQ,eR,eS,eV;eP=this;eQ=eN.msgType;function eT(eW){eP.reply(eW);}function eU(eW){return dJ.Return(eW);}switch(eQ.$==2?0:eQ.$==0?1:eQ.$==1?2:eQ.$==5?3:eQ.$==4?4:0){case 0:this.processReply(eN);break;case 1:(((dD.Curried3(function(eW,eX,eY){return eW("Information from '"+dE.toSafe(eX)+"': "+dE.toSafe(eY));}))(function(eW){d2.log(eW);}))(eN.from.get_txt()))(((et.Id())())(eq.parse(eN.payload)));break;case 2:eR=this.payloadProcessorO;eR!=null&&eR.$==1?dJ.Start(dJ.Bind(eP.mapPayloadWrap(eR.$0,eN),(eS=function(eW){return eT(cn.makeReply(eW));},function(eW){return eU(eS(eW));})),null):eN.replier.$===2?null:null;break;case 3:eP.reply(cn.msgType(cq.MsgInformation,cn.mapPayload(a.id,eN)));break;case 4:eP.reply(cn.msgType(cq.MsgInformation,(eV=cn.makeReply(eN),ct.New(eV.from,eV.destination,eV.msgType,eV.subtype,eV.id,eq.stringify(((et.Id())())(this.clientId)),eV.replier))));break;}},mapPayloadWrap:function(eN,eO){var eP;eP=null;return dJ.Delay(function(){return dJ.Bind(eN(eO.payload),function(eQ){return dJ.Return(cn.mapPayload(function(){return eQ;},eO));});});},processReply:function(eN){this.waiting.Reply(eN.id,eN);},close:function(){var eN,eO;eN=this;eO=this.serverO;(k.iter(function(eP){eP.FsRoot_Library2_WebSockets_IServer$Close();eN.serverO=null;}))(eO);},reply:function(eN){var eO,eP;eO=this;eP=this.serverO;(k.iter(function(eQ){eQ.FsRoot_Library2_WebSockets_IServer$Post(cn.destination(eN.from,cn.from(eO.clientAddress,eN)));}))(eP);},set_Out:function(eN){this.out=eN;},SendMsg:function(eN){return this.sendMsg(eN);},get_ClientId:function(){return this.clientId;},get_EndPoint:function(){return this.wsEndPoint;},get_MBProcessId:function(){return this.getProcessId();},get_MBListeners:function(){return this.getListeners();},Dispose:function(){this.close();}},n,cz);cz.New=dD.Ctor(function(eN,eO,eP){cz.New$1.call(this,dD.Curried3(function(eQ,eR,eS){function eT(eV){}function eU(eV){return dJ.Return(eV);}return dJ.Bind(ex.ConnectStateful(function(eV){return eq.stringify((dw.j())(eV));},function(eV){return(dB.j())(eq.parse(eV));},ey.CreateRemote((((dD.Curried3(function(eV,eW,eX){return eV("ws://"+dE.toSafe(eW)+"?ClientId="+dE.toSafe(eX));}))(a.id))(eQ))(eR),{$:1,$0:ev.JsonEncoding.Readable}),function(eV){var eW;return eS((eW={FsRoot_Library2_WebSockets_IServer$Post:function(eX){return eV.Post(eX);},FsRoot_Library2_WebSockets_IServer$Close:function(){return eV.get_Connection().close(1000);}},(n.New.call(eW),eW)));}),function(eV){return eU(eT(eV));});}),eN,eO,eP);},cz);cz.New$1=dD.Ctor(function(eN,eO,eP,eQ){var eR,eS;eR=this;n.New.call(this);this.connectStateful=eN;this.clientId=eO;this.wsEndPoint=(eS=cn.extractEndPoint()+"/ws",eQ==null?eS:eQ.$0);this.clientAddress=new co({$:0,$0:this.clientId});this.wsTimeout=eP==null?60000:eP.$0;this.out=function(eT){return function(eU){return eT(dE.toSafe(eU));};}(function(eT){d2.log(eT);});this.serverO=null;this.payloadProcessorO=null;this.waiting=new cy.New(function(eT){(((dD.Curried3(function(eU,eV,eW){return eU("Reply from '"+dE.toSafe(eV)+"': "+dE.toSafe(eW));}))(function(eU){d2.log(eU);}))(eT.from.get_txt()))(eT.payload);});this.checkServer=V.callA(function(eT){c.print(eT);},function(){var eT;eT=null;return dJ.Delay(function(){return dJ.Combine(eR.serverO==null?(function(eU){return eU("getServer Connecting");}(function(eU){d2.log(eU);}),dJ.Bind(eR.connectToWebSocketServer(),function(){return dJ.Bind(dJ.Sleep(200),function(){return dJ.Return(null);});})):dJ.Zero(),dJ.Delay(function(){return dJ.Return(r.ofOption(function(){return new g({$:1,$0:"could not connect to Server"});},eR.serverO));}));});});},cz);cn.extractEndPoint=function(){return dI.get(dF.SplitChars(ez.href.substring(ez.href.indexOf("//")+2),["/"],0),0);};cn.makeReply=function(eN){return cn.replier(cs.NoReply,cn.msgType(cq.MsgReply,eN));};cn.mapPayload=function(eN,eO){return ct.New(eO.from,eO.destination,eO.msgType,eO.subtype,eO.id,eN(eO.payload),eO.replier);};cn.msgId=function(eN,eO){return ct.New(eO.from,eO.destination,eO.msgType,eO.subtype,eN,eO.payload,eO.replier);};cn.replier=function(eN,eO){return ct.New(eO.from,eO.destination,eO.msgType,eO.subtype,eO.id,eO.payload,eN);};cn.subtype=function(eN,eO){return ct.New(eO.from,eO.destination,eO.msgType,eN,eO.id,eO.payload,eO.replier);};cn.msgType=function(eN,eO){return ct.New(eO.from,eO.destination,eN,eO.subtype,eO.id,eO.payload,eO.replier);};cn.destination=function(eN,eO){return ct.New(eO.from,eN,eO.msgType,eO.subtype,eO.id,eO.payload,eO.replier);};cn.from=function(eN,eO){return ct.New(eN,eO.destination,eO.msgType,eO.subtype,eO.id,eO.payload,eO.replier);};cn.MessageBrokerAddress=function(){dv.$cctor();return dv.MessageBrokerAddress;};cn.MessageBrokerId=function(){dv.$cctor();return dv.MessageBrokerId;};cA.MsgGetUrl={$:5};cA.MsgGetId={$:0};cD.New=function(eN,eO){return{Code:eN,Message:eO};};cE.New=function(eN,eO,eP){return{File:eN,Line:eO,Column:eP};};cF.New=function(eN,eO,eP,eQ){return{Name:eN,ReplacementText:eO,Glyph:eP,GlyphChar:eQ};};cG.New=function(eN,eO,eP){return{Signature:eN,Comment:eO,Footer:eP};};cH.New=function(eN,eO,eP,eQ){return{Name:eN,CanonicalTypeTextForSorting:eO,Display:eP,Description:eQ};};cI.New=function(eN,eO,eP,eQ){return{Tip:eN,TypeText:eO,Parameters:eP,IsStaticArguments:eQ};};cJ.New=function(eN,eO){return{Name:eN,Type:eO};};cK.New=function(eN,eO){return{OutputType:eN,Parameters:eO};};cL.New=function(eN,eO,eP){return{Name:eN,CurrentParameter:eO,Overloads:eP};};cM.New=function(eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX){return{FileName:eN,StartLine:eO,StartColumn:eP,EndLine:eQ,EndColumn:eR,IsFromDefinition:eS,IsFromAttribute:eT,IsFromComputationExpression:eU,IsFromDispatchSlotImplementation:eV,IsFromPattern:eW,IsFromType:eX};};cN.New=function(eN,eO){return{Name:eN,Uses:eO};};cO.New=function(eN,eO){return{Name:eN,Overloads:eO};};cP.New=function(eN,eO,eP){return{Fsc:eN,Fsi:eO,MSBuild:eP};};cQ.New=function(eN,eO,eP,eQ,eR,eS,eT,eU){return{FileName:eN,StartLine:eO,EndLine:eP,StartColumn:eQ,EndColumn:eR,Severity:eS,Message:eT,Subcategory:eU};};cR.New=function(eN,eO){return{File:eN,Errors:eO};};cS.New=function(eN){return{Kind:eN};};cT.New=function(eN,eO,eP,eQ,eR,eS,eT,eU){return{UniqueName:eN,Name:eO,Glyph:eP,GlyphChar:eQ,IsTopLevel:eR,File:eS,EnclosingEntity:eT,IsAbstract:eU};};cU.New=function(eN,eO){return{Declaration:eN,Nested:eO};};cV.New=function(eN,eO,eP,eQ,eR,eS){return{Namespace:eN,Name:eO,Type:eP,Line:eQ,Column:eR,MultipleNames:eS};};cW.New=function(eN,eO){return{Name:eN,Qualifier:eO};};cX.New=function(eN,eO,eP){return{Opens:eN,Qualifies:eO,Word:eP};};cY.New=function(eN){return{Text:eN};};c0.New=function(eN,eO,eP,eQ){return{FileName:eN,IsAsync:eO,Lines:eP,Version:eQ};};c1.New=function(eN,eO,eP){return{FileName:eN,Lines:eO,Version:eP};};c2.New=function(eN,eO,eP,eQ,eR,eS){return{FileName:eN,SourceLine:eO,Line:eP,Column:eQ,Filter:eR,IncludeKeywords:eS};};c3.New=function(eN,eO,eP,eQ){return{FileName:eN,Line:eO,Column:eP,Filter:eQ};};c4.New=function(eN){return{FileName:eN};};c5.New=function(eN){return{FileName:eN};};c6.New=function(eN){return{Symbol:eN};};c7.New=function(eN,eO,eP){return{Directory:eN,Deep:eO,ExcludedDirs:eP};};c8.symbolUseProject=function(eN,eO,eP,eQ){return c8.FSAutocompleteCall("symboluseproject",function(eR){return eR.$==4?{$:1,$0:eR.$0}:null;},{$:3,$0:c3.New(eN,eO,eP,eQ)});};c8.symbolUse=function(eN,eO,eP,eQ){return c8.FSAutocompleteCall("symboluse",function(eR){return eR.$==4?{$:1,$0:eR.$0}:null;},{$:3,$0:c3.New(eN,eO,eP,eQ)});};c8.helpText=function(eN){return c8.FSAutocompleteCall("helptext",function(eO){return eO.$==2?{$:1,$0:eO.$0}:null;},{$:6,$0:c6.New(eN)});};c8.declarations=function(eN,eO,eP){return c8.FSAutocompleteCall("declarations",function(eQ){return eQ.$==10?{$:1,$0:eQ.$0}:null;},{$:1,$0:c1.New(eN,eO,eP)});};c8.findDeclaration=function(eN,eO,eP,eQ){return c8.FSAutocompleteCall("finddeclaration",function(eR){return eR.$==9?{$:1,$0:eR.$0}:null;},{$:3,$0:c3.New(eN,eO,eP,eQ)});};c8.findTypeDecl=function(eN,eO,eP,eQ){return c8.FSAutocompleteCall("findtypedeclaration",function(eR){return eR.$==9?{$:1,$0:eR.$0}:null;},{$:3,$0:c3.New(eN,eO,eP,eQ)});};c8.completion=function(eN,eO,eP,eQ,eR,eS){return c8.FSAutocompleteCall("completion",function(eT){return eT.$==3?{$:1,$0:eT.$0}:null;},{$:2,$0:c2.New(eP,eN,eQ,eR,eS,eO)});};c8.signatureData=function(eN,eO,eP,eQ){return c8.FSAutocompleteCall("signatureData",function(eR){return eR.$==13?{$:1,$0:eR.$0}:null;},{$:3,$0:c3.New(eN,eO,eP,eQ)});};c8.signature=function(eN,eO,eP,eQ){return c8.FSAutocompleteCall("signature",function(eR){return eR.$==12?{$:1,$0:eR.$0}:null;},{$:3,$0:c3.New(eN,eO,eP,eQ)});};c8.toolTip=function(eN,eO,eP,eQ){return c8.FSAutocompleteCall("tooltip",function(eR){return eR.$==11?{$:1,$0:eR.$0}:null;},{$:3,$0:c3.New(eN,eO,eP,eQ)});};c8.parseCode=function(eN,eO,eP,eQ){return c8.FSAutocompleteCall("parse",function(eR){return eR.$==7?{$:1,$0:eR.$0}:null;},{$:0,$0:c0.New(eN,eP,eO,eQ)});};c8.FSAutocompleteCall=function(eN,eO,eP){var eQ;eQ=i.asyncResult();return eQ.Run(eQ.Delay(function(){return eQ.Bind$1((new eB.New()).Async("FSharpStation:FsRoot.Library2+FsAutoComplete.FSAutocompleteCall0:-1842881046",[eN,eP]),function(eR){var eS,eT;function eU(eV){return eV!=null;}eS=dI.partition(function(eV){return eU(eO(eV));},eR);eT=eS[1];return eQ.Bind(r.ofOption(function(){return new g({$:4,$0:eT});},dG.tryHead(dG.choose(eO,eS[0]))),function(eV){return eQ.Return([eV,eT]);});});}));};c_.appendMsgs=function(eN){c_.appendText(c_.outputMsgs(),eN);};c_.appendText=function(eN,eO){var eP;eN.Set((eP=eN.Get(),eP===""?eO:eO===""?eP:eP+"\n"+eO));};c_.outputMsgs=function(){dv.$cctor();return dv.outputMsgs;};c_.annotationsV=function(){dv.$cctor();return dv.annotationsV;};c_.srcDir=function(){dv.$cctor();return dv.srcDir;};c_.set_srcDir=function(eN){dv.$cctor();dv.srcDir=eN;};c_.rootDir=function(){dv.$cctor();return dv.rootDir;};c_.set_rootDir=function(eN){dv.$cctor();dv.rootDir=eN;};c_.id=function(){dv.$cctor();return dv.id;};c$.setProperty=function(eN,eO,eP){function eQ(eS){return eS[0];}function eR(eS){return eO!==eS;}if(dG.contains([eO,eP],eN.snpProperties));else{c$.setSnippet(_9.New(eN.snpId,eN.snpName,eN.snpContent,eN.snpParentIdO,eN.snpPredIds,dI.ofSeq(dG.append(dG.filter(function(eS){return eR(eQ(eS));},eN.snpProperties),dH.ofArray([[eO,eP]]))),eN.snpModified));}};c$.toggleCollapse=function(eN){var eO;eO=((c$.collapsedV().Get().Contains(eN)?function(eP){return function(eQ){return eQ.Remove(eP);};}:function(eP){return function(eQ){return eQ.Add(eP);};})(eN))(c$.collapsedV().Get());c$.collapsedV().Set(eO);};c$.newSnippet=function(){var eN;eN=$.New("","",null);c$.iterReader(z.op_BarGreaterGreater(c$.addSnippetRm(eN),function(){c$.currentSnippetIdOV().Set({$:1,$0:eN.snpId});}));};c$.addSnippetRm=function(eN){var eO,eP,eQ;c$.snippets().Append(eN);eO=(eP=c$.hierarchy().Get(),dG.append([c$.treenode(eN.snpId)],eP));return z.op_BarGreaterGreater(z.op_BarGreaterGreater(z.op_GreaterGreaterEquals(z.op_BarGreaterGreater(y.insertO((eQ=c$.currentSnippetIdOV().Get(),eQ==null?null:{$:1,$0:$.snippetORm(eQ.$0)})),function(eR){return eR==null?null:a.id(eR.$0);}),function(eR){return eR!=null&&eR.$==1?bb.moveToSibling2(true,eN.snpId,eR.$0.snpId,eO):z.rtn(eO);}),dI.ofSeq),function(eR){c$.hierarchy().Set(eR);});};c$.setSnippetsGen=function(eN,eO){function eP(eQ){return c$.treenode(eQ.snpId);}c$.collapsedV().Set(eO);c$.snippets().Set(eN);c$.updateGeneration();c$.iterReader(z.op_BarGreaterGreater(z.op_BarGreaterGreater(z.op_BarGreaterGreater(z.op_BarGreaterGreater(y.sequenceSeq(dG.map(function(eQ){return z.op_BarGreaterGreater($.parentORm(eQ),function(eR){return eR==null?{$:1,$0:eQ}:null;});},eN)),function(eQ){return dG.choose(a.id,eQ);}),function(eQ){return dG.map(eP,eQ);}),dI.ofSeq),function(eQ){c$.hierarchy().Set(eQ);}));};c$.updateGeneration=function(){var eN;c$.iterReader((eN=y.fusion(),eN.Run(eN.Delay(function(){return eN.Bind($.maxGenerationRm(),function(eO){c$.generation().Set(eO);return eN.Zero();});}))));};c$.moveNode=function(eN,eO){c$.iterReader(z.op_BarGreaterGreater(z.op_BarGreaterGreater(bb.moveToSibling2(false,eN,eO,c$.hierarchy().Get()),dI.ofSeq),function(eP){c$.hierarchy().Set(eP);}));};c$.indentOut=function(){var eN;eN=c$.currentSnippetIdOV().Get();(k.iter(function(eO){var eP;c$.iterReader(z.op_BarGreaterGreater(z.op_BarGreaterGreater((eP=c$.hierarchy().Get(),bb.outdentNode(c$.treenode(eO),eP)),dI.ofSeq),function(eQ){c$.hierarchy().Set(eQ);}));}))(eN);};c$.indentIn=function(){var eN;eN=c$.currentSnippetIdOV().Get();(k.iter(function(eO){var eP;c$.iterReader(z.op_BarGreaterGreater(z.op_BarGreaterGreater((eP=c$.hierarchy().Get(),bb.indentNode(c$.treenode(eO),eP)),dI.ofSeq),function(eQ){c$.hierarchy().Set(eQ);}));}))(eN);};c$.deleteCurrentSnippet=function(){var eN;eN=c$.currentSnippetIdOV().Get();(k.iter(function(eO){var eP;c$.iterReader(z.op_BarGreaterGreater(z.op_BarGreaterGreater(z.op_BarGreaterGreater((eP=c$.hierarchy().Get(),bb.removeNodeOutdentChildren(c$.treenode(eO),eP)),dI.ofSeq),function(eQ){c$.hierarchy().Set(eQ);}),function(){c$.snippets().RemoveByKey(eO);}));}))(eN);};c$.expandClassW=function(eN){var eO;eO=c$.snippets().v;return d0.Map2(function(){return c$.runReader(c$.handleError,c$.expandClassRm(eN));},c$.collapsedV().get_View(),eO);};c$.expandClassRm=function(eN){return z.op_GreaterGreaterEquals($.childrenRm(eN),function(eO){return dG.isEmpty(eO)?z.rtn(""):z.op_BarGreaterGreater(c$.treenode(eN).isExpandedRm(),function(eP){return eP?"expanded":"collapsed";});});};c$.togglePredecessor=function(eN){var eO,eP;eO=dZ.Lens(c$.currentSnippetV(),function(eQ){return eQ.snpPredIds;},function(eQ,eR){return _9.New(eQ.snpId,eQ.snpName,eQ.snpContent,eQ.snpParentIdO,eR,eQ.snpProperties,eQ.snpModified);});eO.Set((eP=eO.Get(),((eO.Get().Contains(eN)?function(eQ){return function(eR){return eR.Remove(eQ);};}:function(eQ){return function(eR){return eR.Add(eQ);};})(eN))(eP)));c$.clearPredsCache();};c$.isIncludedPredecessorW=function(eN){return d0.Map(function(eO){return c$.runReader(function(){return false;},z.op_BarGreaterGreater($.uniquePredsRm(eO),function(eP){return dG.contains(eN,eP);}));},c$.codeSnippetW());};c$.isIndirectPredecessorW=function(eN){return d0.Map(function(eO){return c$.runReader(function(){return false;},z.op_BarGreaterGreater($.uniquePredsRm(eO),function(eP){return dG.contains(eN,eP);}));},c$.currentSnippetW());};c$.treenode=function(eN){return bc.New(function(){return eN;},function(){return z.rtn(!c$.collapsedV().Get().Contains(eN));},function(){return z.rtn(true);},function(){function eO(eP){return c$.treenode(eP.snpId);}return z.op_BarGreaterGreater($.childrenRm(eN),function(eP){return dG.map(eO,eP);});},function(){return $.pathRm(eN);},function(){function eO(eP){return eP.snpParentIdO;}return z.op_BarGreaterGreater(z.op_BarGreaterGreater($.snippetORm(eN),function(eP){return eP==null?null:eO(eP.$0);}),function(eP){return eP==null?null:{$:1,$0:c$.treenode(eP.$0)};});},function(eO){return z.op_BarGreaterGreater(c$.setChildrenRm(eN,eO),function(){return c$.treenode(eN);});});};c$.setChildrenRm=function(eN,eO){var eP;eP=y.fusion();return eP.Run(eP.Delay(function(){var eQ,eR,eS,eT,eU,eV;eQ=dI.map(function(eW){return eW.id();},eO);dG.iter(function(eW){c$.setSnippet(eW);},dG.map(function(eW){return _9.New(eW.snpId,eW.snpName,eW.snpContent,{$:1,$0:eN},eW.snpPredIds,eW.snpProperties,eW.snpModified);},dG.filter(function(eW){return!dN.Equals(eW.snpParentIdO,{$:1,$0:eN})&&dI.contains(eW.snpId,eQ);},c$.snippets())));dG.iter(function(eW){c$.setSnippet(eW);},dG.map(function(eW){return _9.New(eW.snpId,eW.snpName,eW.snpContent,null,eW.snpPredIds,eW.snpProperties,eW.snpModified);},dG.filter(function(eW){return dN.Equals(eW.snpParentIdO,{$:1,$0:eN})&&!dI.contains(eW.snpId,eQ);},c$.snippets())));c$.clearPredsCache();eR=dI.partition(function(eW){return c$.isDescendantOf(eN,eW.snpId);},dI.ofSeq((c$.snippets())["var"].Get()));eS=eR[1];eT=eR[0];eU=dI.findIndex(function(eW){return dN.Equals(eW.snpId,eN);},eS);eV=dI.ofSeq(dG.delay(function(){return dG.append(dO.array(eS,{$:1,$0:0},{$:1,$0:eU}),dG.delay(function(){return dG.append(dG.collect(function(eW){return dG.append([dG.find(function(eX){return dN.Equals(eX.snpId,eW);},eT)],dG.delay(function(){return dG.filter(function(eX){return c$.isDescendantOf(eW,eX.snpId);},eT);}));},eQ),dG.delay(function(){return dO.array(eS,{$:1,$0:eU+1},null);}));}));}));c$.snippets().Set(eV);return eP.Zero();}));};c$.currentLayoutJSDW=function(){dv.$cctor();return dv.currentLayoutJSDW;};c$.currentLayoutDW=function(){dv.$cctor();return dv.currentLayoutDW;};c$.currentPathW=function(){dv.$cctor();return dv.currentPathW;};c$.SaveAsClassW=function(){dv.$cctor();return dv.SaveAsClassW;};c$.hasChangedW=function(eN){return d0.Map(function(eO){return eO<eN.snpModified;},c$.generation().get_View());};c$.codeStartsW=function(){dv.$cctor();return dv.codeStartsW;};c$.FsCodeW=function(){dv.$cctor();return dv.FsCodeW;};c$.codeAndStartsW=function(){dv.$cctor();return dv.codeAndStartsW;};c$.getHierarchyW=function(){dv.$cctor();return dv.getHierarchyW;};c$.findSnippetV=function(eN){return new d4.New(c$.findSnippetW(eN),function(eO){c$.setSnippet(eO);});};c$.findSnippetW=function(eN){return d0.Map(function(eO){var eP;eP=$.defaultSnippet();return eO==null?eP:eO.$0;},c$.snippets().TryFindByKeyAsView(eN));};c$.codeSnippetClassW=function(eN){return d0.Map(function(eO){return dN.Equals({$:1,$0:eN},eO)?"codeSnippet":"";},c$.codeSnippetIdOV().get_View());};c$.selectedClassW=function(eN){return d0.Map(function(eO){return dN.Equals({$:1,$0:eN},eO)?"selected":"";},c$.currentSnippetIdOV().get_View());};c$.currentSnippetV=function(){dv.$cctor();return dv.currentSnippetV;};c$.codeSnippetW=function(){dv.$cctor();return dv.codeSnippetW;};c$.currentSnippetW=function(){dv.$cctor();return dv.currentSnippetW;};c$.CurrentSnippetIdW=function(){dv.$cctor();return dv.CurrentSnippetIdW;};c$.isDescendantOf=function(eN,eO){var eP,eQ,eR;return dN.Equals(eO,eN)?false:(eP=(eQ=(c$.getParentIdO())(eO),eQ==null?null:{$:1,$0:(eR=eQ.$0,dN.Equals(eR,eN)||c$.isDescendantOf(eN,eR))}),eP==null?false:eP.$0);};c$.getParentIdO=function(){dv.$cctor();return dv.getParentIdO;};c$.getParentIdONotMemo=function(eN){var eO;eO=c$.snippets().TryFindByKey(eN);return eO==null?null:eO.$0.snpParentIdO;};c$.getSnippetsGen=function(){return[(c$.snippets())["var"].Get(),c$.generation().Get(),c$.collapsedV().Get()];};c$.setSnippet=function(eN){if(!dN.Equals(eN.snpId.get_Id(),"00000000-0000-0000-0000-000000000000"))c$.snippets().Append(_9.New(eN.snpId,eN.snpName,eN.snpContent,eN.snpParentIdO,eN.snpPredIds,eN.snpProperties,dX.now()));};c$.setCurrentSnippetIdO=function(eN){(k.iter(function(eO){c$.expandParents(eO);}))(eN);c$.currentSnippetIdOV().Set(eN);};c$.expandParents=function(eN){c$.iterReader(z.op_BarGreaterGreater($.pathRm(eN),function(eO){var eP;eP=dV.op_Subtraction(c$.collapsedV().Get(),new dV.New(eO));c$.collapsedV().Set(eP);}));};c$.runReader=function(eN,eO){return r.defaultWith(eN,c$.runReaderResult(eO));};c$.runReaderResult=function(eN){return dL.Map(function(eO){return eO[0];},y.runReader(c$.snippetsColl(),eN));};c$.iterReader=function(eN){y.iterReader(function(eO){c$.handleError(eO);},a.ignore,c$.snippetsColl(),eN);};c$.handleError=function(eN){throw new a.Error(a.String(eN));};c$.snippetsColl=function(){return _.New(c$.generation().Get(),dG.delay(function(){return(c$.snippets())["var"].Get();}),function(eN){return c$.snippets().TryFindByKey(eN);},c$.predsCache,c$.reducCache,c$.prepCode);};c$.prepCode=function(eN){return c$.prepAnyCode(eN.snpContent);};c$.prepAnyCode=function(eN){return dF.Replace(dF.Replace(dF.Replace(eN,"##"+"FSHARPSTATION_ID"+"##",c_.id()),"##"+"FSHARPSTATION_ENDPOINT"+"##",self.location.href),"##"+"FSHOME"+"##",c_.rootDir());};c$.clearPredsCache=function(){(c$.clearPreds())();(c$.clearReduc())();(c$.clearParent())();};c$.clearParent=function(){dv.$cctor();return dv.clearParent;};c$.parentCache=function(){dv.$cctor();return dv.parentCache;};c$.clearReduc=function(){dv.$cctor();return dv.clearReduc;};c$.reducCache=function(){dv.$cctor();return dv.reducCache;};c$.clearPreds=function(){dv.$cctor();return dv.clearPreds;};c$.predsCache=function(){dv.$cctor();return dv.predsCache;};c$.collapsedV=function(){dv.$cctor();return dv.collapsedV;};c$.codeSnippetIdOV=function(){dv.$cctor();return dv.codeSnippetIdOV;};c$.currentSnippetIdOV=function(){dv.$cctor();return dv.currentSnippetIdOV;};c$.generation=function(){dv.$cctor();return dv.generation;};c$.hierarchy=function(){dv.$cctor();return dv.hierarchy;};c$.snippets=function(){dv.$cctor();return dv.snippets;};db.DragNone={$:0};da.getDragNIdO=function(eN){var eO;return da.drag().$==1&&(!dN.Equals(da.drag().$0,eN)&&(eO=da.drag().$0,true))?{$:1,$0:eO}:null;};da.setDragNode=function(eN){da.set_drag({$:1,$0:eN});};da.setDragNone=function(){da.set_drag(db.DragNone);};da.drag=function(){dv.$cctor();return dv.drag;};da.set_drag=function(eN){dv.$cctor();dv.drag=eN;};dc.TemplatesFileName=function(){dv.$cctor();return dv.TemplatesFileName;};dc.rootdir=function(){dv.$cctor();return dv.rootdir;};dd.render=function(){var eN,eO,eP,eQ;return(eN=(eO=dd.snippets(),ei.Make().WithHole({$:0,$0:"snippets",$1:eO})),(eP=ej.CompleteHoles(eN.k,eN.h,[]),(eQ=new ek.New(eP[1],dx.snippetlist(eP[0])),(eN.i=eQ,eQ)))).get_Doc();};dd.snippets$8781$40=function(eN){return function(eO){var eP;eO.Event.preventDefault();eP=da.getDragNIdO(eN);(k.iter(function(eQ){c$.moveNode(eQ,eN);}))(eP);};};dd.snippets$8780$40=function(eN){return function(eO){if(da.getDragNIdO(eN)!=null)eO.Event.preventDefault();};};dd.snippets$8779$40=function(eN){return function(eO){da.setDragNode(eN);eO.Event.stopPropagation();};};dd.snippets$8778$40=function(eN){return function(){c$.toggleCollapse(eN);};};dd.snippets$8777$40=function(eN){return function(){c$.togglePredecessor(eN);};};dd.snippets$8776$40=function(eN){var eO;eO=d0.Map(function(eP){return""!==eP;},c$.selectedClassW(eN));return function(eP){return dd.scrollIntoView(eO,eP);};};dd.snippets$8775$40=function(eN){return function(){c$.setCurrentSnippetIdO({$:1,$0:eN});};};dd.snippets=function(){function eN(eO,eP){var eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4,e5,e6,e7,e8,e9;function e_(e$){return e$?"ErrorMsg":"";}eQ=(eR=d0.get_Do(),d0.Bind(function(e$){return d0.Bind(function(fa){return d0.Const((fa?"*":"")+$.snippetName(e$.snpName,e$.snpContent));},c$.hasChangedW(e$));},c$.findSnippetW(eO)));eS=d0.Apply(d0.Map2(function(e$,fa){return function(fb){return e$.snpPredIds.Contains(eO)?"direct-predecessor":fa?"indirect-predecessor":fb?"included-predecessor":"";};},c$.currentSnippetV().get_View(),c$.isIndirectPredecessorW(eO)),c$.isIncludedPredecessorW(eO));eT=(eU=c_.annotationsV().get_View(),d0.Map((eV=(eW=(eX=eO.get_Id(),a.String(eX)),function(e$){return S.contains(eW,e$);}),function(e$){return e_(eV(e$));}),eU));return(eY=(eZ=(e0=(e1=(e2=(e3=(e4=(e5=d0.Map(function(e$){return""!==e$;},c$.selectedClassW(eO)),function(e$){return dd.scrollIntoView(e5,e$);}),(e6=(e7=c$.expandClassW(eO),ei.Make().WithHole({$:2,$0:"name",$1:eQ}).WithHole({$:1,$0:"indent",$1:a.String(eP)}).WithHole({$:2,$0:"parent",$1:e7})).WithHole({$:2,$0:"predecessor",$1:eS}).WithHole({$:2,$0:"selected",$1:d0.Map2(function(e$,fa){return dF.concat(" ",dH.ofArray([e$,fa]));},c$.selectedClassW(eO),c$.codeSnippetClassW(eO))}).WithHole({$:2,$0:"errormsg",$1:eT}),e6.WithHole(ej.EventQ2(e6.k,"select",function(){return e6.i;},function(){c$.setCurrentSnippetIdO({$:1,$0:eO});}))).WithHole({$:7,$0:"afterrender",$1:e4})),e3.WithHole(ej.EventQ2(e3.k,"togglepred",function(){return e3.i;},function(){c$.togglePredecessor(eO);}))),e2.WithHole(ej.EventQ2(e2.k,"togglecollapse",function(){return e2.i;},function(){c$.toggleCollapse(eO);}))),e1.WithHole(ej.EventQ2(e1.k,"drag",function(){return e1.i;},function(e$){da.setDragNode(eO);e$.Event.stopPropagation();}))),e0.WithHole(ej.EventQ2(e0.k,"dragover",function(){return e0.i;},function(e$){if(da.getDragNIdO(eO)!=null)e$.Event.preventDefault();}))),eZ.WithHole(ej.EventQ2(eZ.k,"drop",function(){return eZ.i;},function(e$){var fa;e$.Event.preventDefault();fa=da.getDragNIdO(eO);(k.iter(function(fb){c$.moveNode(fb,eO);}))(fa);}))),(e8=ej.CompleteHoles(eY.k,eY.h,[]),(e9=new ek.New(e8[1],dx.snippet(e8[0])),(eY.i=e9,e9)))).get_Doc();}return d5.Convert(function(eO){return eN(eO[0],eO[1]);},c$.getHierarchyW());};dd.scrollIntoView=function(eN,eO){d0.Sink(function(eP){if(eP)try{eO.scrollIntoViewIfNeeded();}catch(eQ){((function(eR){return function(eS){return eR(dE.prettyPrint(eS));};}(function(eR){d2.log(eR);}))(eQ));}},eN);};de.render$8820$34=function(){return function(){de.addProperty();};};de.render=function(){var eN,eO,eP,eQ,eR;return(eN=(eO=(eP=de.properties(),ei.Make().WithHole({$:0,$0:"properties",$1:eP})),eO.WithHole(ej.EventQ2(eO.k,"addproperty",function(){return eO.i;},function(){de.addProperty();}))),(eQ=ej.CompleteHoles(eN.k,eN.h,[]),(eR=new ek.New(eQ[1],dx.propertytable(eQ[0])),(eN.i=eR,eR)))).get_Doc();};de.properties$8813$33=function(eN){return function(){de.remProperty(eN);};};de.properties=function(){var eN;function eO(eQ,eR){dI.set(eN.Get(),eQ,[eR,(dI.get(eN.Get(),eQ))[1]]);return eN.Set(eN.Get());}function eP(eQ,eR){return(dI.get(eN.Get(),eQ))[1].length>1000?null:(dI.set(eN.Get(),eQ,[(dI.get(eN.Get(),eQ))[0],eR]),eN.Set(eN.Get()));}eN=dZ.Lens(c$.currentSnippetV(),function(eQ){return eQ.snpProperties;},function(eQ,eR){return _9.New(eQ.snpId,eQ.snpName,eQ.snpContent,eQ.snpParentIdO,eQ.snpPredIds,eR,eQ.snpModified);});return d5.Convert(function(eQ){var eR,eS,eT,eU,eV,eW;eR=new d4.New(d0.Map(function(eX){return(dI.get(eX,eQ))[0];},eN.get_View()),function(eX){return eO(eQ,eX);});eS=new d4.New(d0.Map(function(eX){var eY;eY=(dI.get(eX,eQ))[1];return eY.length>1000?(((dD.Curried3(function(eZ,e0,e1){return eZ(dE.toSafe(e0)+"...<"+a.String(e1)+" chars>");}))(a.id))(dO.string(eY,{$:1,$0:0},{$:1,$0:100})))(eY.length):eY;},eN.get_View()),function(eX){return eP(eQ,eX);});return(eT=(eU=ei.Make().WithHole({$:8,$0:"name",$1:eR}).WithHole({$:8,$0:"value",$1:eS}),eU.WithHole(ej.EventQ2(eU.k,"remove",function(){return eU.i;},function(){de.remProperty(eQ);}))),(eV=ej.CompleteHoles(eT.k,eT.h,[["name",0],["value",0]]),(eW=new ek.New(eV[1],dx.property(eV[0])),(eT.i=eW,eW)))).get_Doc();},d0.Map(function(eQ){return dI.ofSeq(dM.range(0,dI.length(eQ)-1));},eN.get_View()));};de.remProperty=function(eN){var eO;c$.currentSnippetV().Set((eO=c$.currentSnippetV().Get(),_9.New(eO.snpId,eO.snpName,eO.snpContent,eO.snpParentIdO,eO.snpPredIds,dO.array(c$.currentSnippetV().Get().snpProperties,{$:1,$0:0},{$:1,$0:eN-1}).concat(dO.array(c$.currentSnippetV().Get().snpProperties,{$:1,$0:eN+1},null)),eO.snpModified)));};de.addProperty=function(){var eN;c$.currentSnippetV().Set((eN=c$.currentSnippetV().Get(),_9.New(eN.snpId,eN.snpName,eN.snpContent,eN.snpParentIdO,eN.snpPredIds,c$.currentSnippetV().Get().snpProperties.concat([["",""]]),eN.snpModified)));};dg=df.HoverProvider=dD.Class({provideHover:function(eN,eO,eP){var eQ;return be.ofAsyncResult((eQ=i.asyncResult(),eQ.Run(eQ.Delay(function(){var eR;eR=df.getIndentAndFirst();return eQ.Bind$1(c8.toolTip(df.fileName(),eO.lineNumber+eR[1],eO.column+eR[0],""),function(eS){return N["AsyncResultBuilder.Bind"](eQ,df.overDescriptions(eS[0]),function(eT){return eQ.Return(bM.New(dI.ofSeq(dG.map(function(eU){return bJ.New((c.print(eU),eU),true);},eT)),null));});});}))));}},n,dg);dg.New=dD.Ctor(function(eN){n.New.call(this);},dg);dh=df.CompletionItemProvider=dD.Class({resolveCompletionItem:function(eN,eO){var eP;function eQ(eS){return eS.$==1?dM.FailWith((function(eT){return function(eU){return eT(dy.p$38(eU));};}(a.id))(eS.$0)):eS.$0;}function eR(eS){return dJ.Return(eS);}return eD.OfAsync(dJ.Bind((eP=i.asyncResult(),eP.Run(eP.Delay(function(){return eP.Bind$1(c8.helpText(eN.label),function(eS){return eP.Return(bL.New(eN.kind,eN.label,dF.concat("\n",dG.collect(function(eT){return dH.ofSeq(dG.delay(function(){return dG.append(!(!eT.Signature)?[eT.Signature]:[],dG.delay(function(){return dG.append(!(!eT.Comment)?[eT.Comment]:[],dG.delay(function(){return!(!eT.Footer)?[eT.Footer]:[];}));}));}));},dG.collect(a.id,eS[0].Overloads)))));});}))),function(eS){return eR(eQ(eS));}));},provideCompletionItems:function(eN,eO,eP,eQ){var eR;function eS(eU){return eU.$==1?dM.FailWith((function(eV){return function(eW){return eV(dy.p$38(eW));};}(a.id))(eU.$0)):eU.$0;}function eT(eU){return dJ.Return(eU);}return eD.OfAsync(dJ.Bind((eR=i.asyncResult(),eR.Run(eR.Delay(function(){var eU,eV;eU=df.getIndentAndFirst();eV=eU[0];return eR.Bind$1(c8.completion(dF.replicate(eV," ")+eN.getLineContent(eO.lineNumber),true,df.fileName(),eO.lineNumber+eU[1],eO.column+eV,"Contains"),function(eW){return eR.Return(dI.map(function(eX){return bL.New(df.convertGlyphChar(eX.GlyphChar),eX.Name,"");},eW[0]));});}))),function(eU){return eT(eS(eU));}));}},n,dh);dh.New=dD.Ctor(function(eN){n.New.call(this);},dh);di=df.DefinitionProvider=dD.Class({provideDefinition:function(eN,eO,eP){var eQ;function eR(eT){return eT.$==1?dM.FailWith((function(eU){return function(eV){return eU(dy.p$38(eV));};}(a.id))(eT.$0)):eT.$0;}function eS(eT){return dJ.Return(eT);}return eD.OfAsync(dJ.Bind((eQ=i.asyncResult(),eQ.Run(eQ.Delay(function(){var eT;eT=df.getIndentAndFirst();return eQ.Bind$1(c8.findDeclaration(df.fileName(),eO.lineNumber+eT[1],eO.column+eT[0],""),function(eU){var eV,eW,eX,eY,eZ,e0,e1,e2;eV=eU[0];eW=df.getSnipIdIndentAndFirst(eV.Line);eX=eW[0];eY=eW[1];eZ=eW[2];e0=(e1="snpId:"+(e2=eX.get_Id(),a.String(e2)),self.monaco.Uri.parse(e1));df.getSnippetModel(eX);return eQ.Return(bF.New(bD.New(eV.Column-eY,eV.Column-eY,eV.Line-eZ,eV.Line-eZ),e0));});}))),function(eT){return eS(eR(eT));}));}},n,di);di.New=dD.Ctor(function(eN){n.New.call(this);},di);dj.New=function(eN,eO){return{fontSize:eN,lineHeight:eO};};dk.New=function(eN,eO){return{setEditor:eN,createModelReference:eO};};df.getSelection=function(){var eN,eO,eP,eQ;eN=(eO=df.editorConfigO(),eO==null?null:eO.$0.editorO);return eN!=null&&eN.$==1?(eP=eN.$0,(eQ=eP.getSelection(),eP.getModel().getValueInRange(eQ))):"";};df["goto"]=function(eN,eO,eP){var eQ;eQ=null;return dJ.Delay(function(){var eR,eS;eR=(eS=df.editorConfigO(),eS==null?null:eS.$0.editorO);return eR!=null&&eR.$==1?dJ.Bind(df.gotoEditor(eR.$0,eN,eO,eP),function(){return dJ.Return(null);}):dJ.Zero();});};df.editorDoc=function(){var eN;return d5.Async((eN=null,dJ.Delay(function(){return dJ.Bind(bB.loader(),function(){return dJ.Bind(df.monacoNew(dZ.Lens(c$.currentSnippetV(),function(eO){return eO.snpContent;},function(eO,eP){return _9.New(eO.snpId,eO.snpName,eP,eO.snpParentIdO,eO.snpPredIds,eO.snpProperties,eO.snpModified);}),{$:1,$0:d0.Map2(df.transformAnnotations,c$.currentSnippetW(),c_.annotationsV().get_View())},null,null),function(eO){df.set_editorConfigO({$:1,$0:eO});return dJ.Return(bB.render(eO));});});})));};df.editorConfigO=function(){dv.$cctor();return dv.editorConfigO;};df.set_editorConfigO=function(eN){dv.$cctor();dv.editorConfigO=eN;};df.parse=function(eN,eO){var eP;K.iterA(function(eQ){c.print(eQ);},function(){c.print();},(eP=i.asyncResult(),eP.Run(eP.Delay(function(){var eQ,eR;eQ="Parsing...\n"+S.skipFirstLine(c_.annotationsV().Get());c_.annotationsV().Set(eQ);df.startsV().Set(eO);eR=S.splitByChar("\n",eN);df.set_fileName(_5.getSourceDir(c_.srcDir(),eR)+"/"+c_.id()+".fsx");return eP.Bind$1(c8.parseCode(df.fileName(),eR,true,0),function(eS){var eT;eT=dF.concat("\n",dG.append(dH.ofArray(["Parsed!"]),dG.map(function(eU){var eV,eW,eX,eY,eZ;function e0(e1,e2){return eU.StartLine>e2[1]&&eU.StartLine<=e2[2];}eV=(eW=dG.tryFind(function(e1){return e0(e1[0],e1[1]);},eO),(df.defaultStart())(eW));eX=eV[1][0];eY=eV[1][1];return((((((((((dD.Curried(function(e1,e2,e3,e4,e5,e6,e7,e8,e9,e_){return e1(dE.toSafe(e2)+" ("+a.String(e3)+", "+a.String(e4)+") - ("+a.String(e5)+", "+a.String(e6)+") "+dE.toSafe(e7)+"("+dE.toSafe(e8)+") \""+dE.toSafe(e9)+": "+dE.toSafe(e_)+"\".");},10))(a.id))(eU.Severity==="Error"?"Err":"Warn"))(eU.StartLine-eY))(eU.StartColumn-eX))(eU.EndLine-eY))(eU.EndColumn-eX))(eV[0][1]))((eZ=eV[0][0].get_Id(),a.String(eZ))))(eU.Subcategory))(eU.Message);},eS[0].Errors)));c_.annotationsV().Set(eT);dG.iter(function(eU){c.print(eU);},eS[1]);return eP.Zero();});}))));};df.monacoNew=function(eN,eO,eP,eQ){var eR;eR=null;return dJ.Delay(function(){var eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4,e5,e6,e7,e8,e9,e_;e8=bB.newVar(eN);e0=e8.editorO;e1=bj.newPojo([["fontSize",12],["lineHeight",14]]);e9=a.require("vs/editor/standalone/browser/standaloneServices");e_=new e9.StaticServices.codeEditorService._factory();e_.openCodeEditor=df.openCodeEditor;e7=e_;e6=["codeEditorService",e7];e4=[e6,["textModelResolverService",df.textModelResolverService()]];e2=bj.newPojo(e4);eW=bO.New(e8["var"],e8.onChange,e8.onRender,e0,e8.disabled,e1,e2);eU=bB.onRender(function(e$){var fa,fb,fc,fd;function fe(fj,fk,fl){return fb.provideHover(fj,fk,fl);}function ff(fj,fk,fl,fm){return fc.provideCompletionItems(fj,fk,fl,fm);}function fg(fj,fk){return fc.resolveCompletionItem(fj,fk);}function fh(fj,fk,fl){return fd.provideDefinition(fj,fk,fl);}function fi(fj){var fk;fk=e$.getModel();self.monaco.editor.setModelMarkers(fk,"annotations",fj);}fa=e$.getModel();self.monaco.editor.setModelLanguage(fa,"fsharp");self.monaco.editor.setTheme("vs");fb=new dg.New(e$);fc=new dh.New(e$);fd=new di.New(e$);c.print(function(fj){return fe(fj[0],fj[1],fj[2]);});c.print(function(fj){return ff(fj[0],fj[1],fj[2],fj[3]);});c.print(function(fj){return fg(fj[0],fj[1]);});c.print(function(fj){return fh(fj[0],fj[1],fj[2]);});self.monaco.languages.registerHoverProvider("fsharp",fb);self.monaco.languages.registerCompletionItemProvider("fsharp",fc);self.monaco.languages.registerDefinitionProvider("fsharp",fd);(k.iter(function(fj){d0.Sink(fi,fj);}))(eO);},eW);return dJ.Return(eU);});};df.textModelResolverService=function(){var eN;eN=null;return dk.New(function(eO){eN={$:1,$0:eO};},function(eO){var eP;return eD.OfAsync((eP=null,dJ.Delay(function(){var eQ,eR,eS,eT;eS=df.getSnippetModel(eO);eT=self.require("vs/base/common/lifecycle");eR=new eT.ImmortalReference(eS);return dJ.Return(eR);})));});};df.openCodeEditor=function(eN,eO,eP){var eQ;return eD.OfAsync((eQ=null,dJ.Delay(function(){var eR,eS;eR=eN.resource.path;eS=(T.Guid())(eR);return eS!=null&&eS.$==1?dJ.Bind(df.gotoEditor(eO,new _8({$:0,$0:eS.$0}),eN.options.selection.startLineNumber,eN.options.selection.startColumn),function(){return dJ.Return(eO);}):dJ.Return(null);})));};df.gotoEditor=function(eN,eO,eP,eQ){var eR;eR=null;return dJ.Delay(function(){c$.setCurrentSnippetIdO({$:1,$0:eO});return dJ.Bind(dJ.Sleep(200),function(){eN.focus();eN.setPosition(bC.New(eQ,eP));eN.revealPositionInCenter(bC.New(eQ,eP));return dJ.Zero();});});};df.transformAnnotations=function(eN,eO){var eP,eQ;function eR(eS,eT,eU,eV,eW,eX,eY){var eZ;return!dN.Equals((eZ=(T.parseGuidO())(eX),eZ==null?null:{$:1,$0:new _8({$:0,$0:eZ.$0})}),{$:1,$0:eN.snpId})?null:{$:1,$0:bK.New(eU,eW,eT,eV,eS==="Err"?8:eS==="Warn"?4:eS==="Hint"?1:2,eY)};}eP="(Err|Warn|Info|Hint) \\((\\d+)\\,\\s*(\\d+)\\) - \\((\\d+)\\,\\s*(\\d+)\\).*\\("+bd.rexGuid()+"\\) \"([^\"]+?)\"\\.";return dI.choose(function(eS){return eR(eS[0],eS[1],eS[2],eS[3],eS[4],eS[5],eS[6]);},dI.choose(function(eS){var eT,eU,eV;return(eU=bd.REGEX$1(eP,"",eS),eU!=null&&eU.$==1&&((eV=eU.$0,!dN.Equals(eV,null)&&eV.length===8)&&(eT=[dI.get(eU.$0,3),dI.get(eU.$0,2),dI.get(eU.$0,6),dI.get(eU.$0,7),dI.get(eU.$0,5),dI.get(eU.$0,4),dI.get(eU.$0,1)],true)))?{$:1,$0:[eT[6],dM.toInt(a.Number(eT[1])),dM.toInt(a.Number(eT[0])),dM.toInt(a.Number(eT[5])),dM.toInt(a.Number(eT[4])),eT[2],eT[3]]}:null;},(eQ=bd.REGEX$1(eP,"g",eO),eQ!=null&&eQ.$==1?eQ.$0:[])));};df.convertGlyphChar=function(eN){return eN==="C"?6:eN==="E"?12:eN==="S"?11:eN==="I"?7:eN==="N"?8:eN==="M"?1:eN==="P"?9:eN==="F"?4:eN==="T"?6:eN==="K"?13:0;};df.fileName=function(){dv.$cctor();return dv.fileName;};df.set_fileName=function(eN){dv.$cctor();dv.fileName=eN;};df.overDescriptions=function(eN){return l.sequenceSeq(dG.collect(function(eO){return dH.ofSeq(dG.delay(function(){return dG.append(!(!eO.Signature)?[dJ.Return("```\n"+eO.Signature+"\n```")]:[],dG.delay(function(){function eP(eQ){return dJ.Return(eQ);}return dG.append(!(!eO.Comment)?[dJ.Bind((new eB.New()).Async("FSharpStation:FsRoot.FSharpStation+Markdown.createCommentBlock:-1840423385",[eO.Comment]),function(eQ){return eP(df.fixMarkDown(eQ));})]:[],dG.delay(function(){return!(!eO.Footer)?[dJ.Return(df.fixMarkDown(eO.Footer))]:[];}));}));}));},dG.collect(a.id,eN)));};df.fixMarkDown=function(eN){return dF.concat("\n\n",dG.map(function(eO){var eP;eP=dG.length(dG.takeWhile(function(eQ){return" "===eQ;},eO));return dF.replicate(eP,"&nbsp;")+dO.string(eO,{$:1,$0:eP},null);},dG.map(function(eO){return dF.Replace(eO,"\u0009","- ");},S.splitByChar("\n",eN))));};df.getSnippetModel=function(eN){var eO,eP,eQ;eO=(eP="snpId:"+(eQ=eN.get_Id(),a.String(eQ)),self.monaco.Uri.parse(eP));return df.getModelUri(c$.runReader(function(eR){return dM.FailWith(a.String(eR));},$.snippetRm(eN)).snpContent,eO);};df.getModelUri=function(eN,eO){var eP,eQ,eR;eP=(eQ=(eR=self.monaco.editor.getModel(eO),!eR?null:{$:1,$0:eR}),eQ==null?self.monaco.editor.createModel("","fsharp",eO):eQ.$0);eP.getValue()!==eN?eP.setValue(eN):void 0;return eP;};df.getSnipIdIndentAndFirst=function(eN){var eO,eP;function eQ(eR,eS){return eN>=eS[1]&&eN<=eS[2];}eO=(eP=dG.tryFind(function(eR){return eQ(eR[0],eR[1]);},df.startsV().Get()),(df.defaultStart())(eP));return[eO[0][0],eO[1][0],eO[1][1]];};df.getIndentAndFirst=function(){var eN,eO,eP,eQ;function eR(eU){return eU[0];}function eS(eU){return eU[0];}function eT(eU){return dN.Equals(eN,eU);}eN=c$.currentSnippetV().Get().snpId;eO=(eP=dG.tryFind((eQ=function(eU){return eS(eR(eU));},function(eU){return eT(eQ(eU));}),df.startsV().Get()),(df.defaultStart())(eP));return[eO[1][0],eO[1][1]];};df.defaultStart=function(){dv.$cctor();return dv.defaultStart;};df.startsV=function(){dv.$cctor();return dv.startsV;};dl.jumpToRef=function(eN){var eO,eP;function eQ(eR,eS,eT){return eP>=eS&&eP<eT?{$:1,$0:eR}:null;}eO=eN.value;eP=eN.selectionStart;dl.jumpToLine(dG.pick(function(eR){return eQ(eR[0],eR[1],eR[2]);},(dG.mapFold(function(eR,eS){return[[eS,eR,eR+eS.length+1],eR+eS.length+1];},0,dF.SplitChars(eO,["\n"],0)))[0]));};dl.jumpToLine=function(eN){var eO,eP,eQ,eR,eS;eO=bd.REGEX$1(dl.rexGuid(),"",eN);eO!=null&&eO.$==1?(eP=eO.$0,!dN.Equals(eP,null)&&eP.length===6)?(eQ=dI.get(eO.$0,2),eR=dI.get(eO.$0,5),eS=dI.get(eO.$0,1),dJ.Start(df["goto"](new _8({$:0,$0:eR}),dM.toInt(a.Number(eS)),dM.toInt(a.Number(eQ))),null)):void 0:void 0;};dl.rexGuid=function(){dv.$cctor();return dv.rexGuid$1;};dm.setScrollToBottom=function(){dv.$cctor();return dv.setScrollToBottom;};dm.scrollToBottom=function(eN){var eO;dJ.Start((eO=null,dJ.Delay(function(){return dJ.Bind(dJ.Sleep(100),function(){eN.scrollTop=eN.scrollHeight;return dJ.Zero();});})),null);};dm.setCurrentProperty=function(eN,eO){c$.setProperty(c$.currentSnippetV().Get(),eN,eO);};dm.getCurrentProperty=function(eN){var eO;return K.absorbO(function(){return(h.errorMsgf(function(eP){return function(eQ){return eP("Property "+dE.toSafe(eQ)+" not found");};}))(eN);},K.map(function(eP){return eP[0];},(eO=dm.propO(c$.currentSnippetV().Get(),eN),C.runReader(c$.snippetsColl(),eO))));};dm.buttonClick=function(eN){dm.actionClick(dF.Trim(eN.textContent));};dm.actionClick=function(eN){var eO;eO=dm.actionClickRm(eN);C.iterReaderA(function(eP){c.print(eP);},function(eP){c.print(eP);},c$.snippetsColl(),eO);};dm.actionSnp=function(eN,eO){var eP;eP=dm.actionSnpRm(eN,eO);C.iterReaderA(function(eQ){c.print(eQ);},function(eQ){c.print(eQ);},c$.snippetsColl(),eP);};dm.actionSnpRm=function(eN,eO){var eP;eP=C.fusion();return eP.Run(eP.Delay(function(){return eP.Bind(C.ofFusionM($.snippetFromRefORm({$:1,$0:dF.SplitChars(eN,["/"],0)})),function(eQ){var eR;function eS(eT){return dm.fetchValue(eO,eT);}return eQ!=null&&eQ.$==1?(eR=eQ.$0,eP.Bind(D.op_BarGreaterGreater(dm.getCode(eR,eO),function(eT){return dm.translateString(eS,eT);}),function(eT){return eP.Bind(C.ofAsync((new eB.New()).Async("FSharpStation:FsRoot.Library2+FSharpStationClient.setAddress:-574353144",[new co({$:0,$0:c_.id()})])),function(){return eP.Bind(D.op_BarGreaterGreater(C.ofFusionM($.fastCodeRm({$:1,$0:eR.snpId},{$:1,$0:eR.snpId})),function(eU){return eU[0];}),function(eU){return eP.Bind(C.ofFusionM($.predsGenerationRm(eR)),function(eV){return eP.ReturnFrom(C.ofAsync((new eB.New()).Async("FSharpStation:FsRoot.Library2+FsiAgent.evalCodeWithPresence:854633647",[c_.srcDir(),(function(eW){return function(eX){return eW(dy.p$2(eX));};}(a.id))(eR.snpId),(new dX(eV)).toLocaleString(),{$:0,$0:eU},{$:0,$0:eT}])));});});});})):eP.ReturnFrom(C.ofResultRM({$:1,$0:new g({$:1,$0:(function(eT){return function(eU){return eT("Snippet "+dE.toSafe(eU)+" not found");};}(a.id))(eN)})}));});}));};dm.setSnippetContent=function(eN,eO){var eP,eQ;eP=(eQ=C.fusion(),eQ.Run(eQ.Delay(function(){return eQ.Bind(C.ofFusionM($.snippetFromRefORm({$:1,$0:dF.SplitChars(eN,["/"],0)})),function(eR){var eS;return eR!=null&&eR.$==1?(eS=eR.$0,(c$.setSnippet(_9.New(eS.snpId,eS.snpName,eO,eS.snpParentIdO,eS.snpPredIds,eS.snpProperties,eS.snpModified)),eQ.Zero())):eQ.ReturnFrom(C.ofResultRM({$:1,$0:new g({$:1,$0:(function(eT){return function(eU){return eT("Snippet "+dE.toSafe(eU)+" not found");};}(a.id))(eN)})}));});})));C.iterReaderA(function(eR){c.print(eR);},function(){c.print();},c$.snippetsColl(),eP);};dm.actionClickRm=function(eN){var eO;eO=C.fusion();return eO.Run(eO.Delay(function(){var eP;eP=(function(eQ){return function(eR){return eQ("Action "+dE.toSafe(eR)+" ...");};}(a.id))(eN);c_.outputMsgs().Set(eP);return eO.Bind(dm.getBaseSnippet(),function(eQ){function eR(eS){return dm.fetchValue(eN,eS);}return eO.Bind(D.op_BarGreaterGreater(dm.getCode(eQ,eN),function(eS){return dm.translateString(eR,eS);}),function(eS){return eO.Bind(C.ofAsync((new eB.New()).Async("FSharpStation:FsRoot.Library2+FSharpStationClient.setAddress:-574353144",[new co({$:0,$0:c_.id()})])),function(){return eO.Bind(D.op_BarGreaterGreater(C.ofFusionM($.fastCodeRm({$:1,$0:eQ.snpId},{$:1,$0:eQ.snpId})),function(eT){return eT[0];}),function(eT){return eO.Bind(C.ofFusionM($.predsGenerationRm(eQ)),function(eU){return eO.ReturnFrom(C.ofAsync((new eB.New()).Async("FSharpStation:FsRoot.Library2+FsiAgent.evalCodeWithPresence:854633647",[c_.srcDir(),(function(eV){return function(eW){return eV(dy.p$2(eW));};}(a.id))(eQ.snpId),(new dX(eU)).toLocaleString(),{$:0,$0:eT},{$:0,$0:eS}])));});});});});});}));};dm.fetchValue=function(eN,eO){var eP,eQ,eR;return eO==="button"?eN:(eP=(eQ=(eR=(bV.splitName(new bX({$:0,$0:"Snp_"+dF.Replace(a.String(c$.currentSnippetV().Get().snpId.get_Id()),"-","")})))(eO),bV.tryGetWoW(eR[0],eR[1])),eQ==null?null:d0.TryGet(eQ.$0)),eP==null?(function(eS){return function(eT){return eS("$[not found:"+dE.toSafe(eT)+"]");};}(a.id))(eO):eP.$0);};dm.getCode=function(eN,eO){var eP;eP=C.fusion();return eP.Run(eP.Delay(function(){var eQ;return eP.Bind((eQ=C.fusion(),eQ.Run(eQ.Delay(function(){return eQ.Bind(dm.propO(eN,eO),function(eR){return eR==null?dF.StartsWith(eO,":")?eQ.Return(dO.string(eO,{$:1,$0:1},null)):eQ.Bind(dm.propO(eN,"action-template"),function(eS){return eQ.Return(eS==null?"${button}() |> printfn \"%A\"":eS.$0);}):eQ.Return(eR.$0);});}))),function(eR){return eP.Bind(dm.codeModule(eN,eR),function(eS){return eP.Return(c$.prepAnyCode(eS));});});}));};dm.codeModule=function(eN,eO){var eP;eP=C.fusion();return eP.Run(eP.Delay(function(){return eP.Bind(dm.propO(eN,"Open"),function(eQ){var eR;return eQ!=null&&eQ.$==1?eP.Return((eR=(S.indentStr(4))(eQ.$0+"\n"+eO),(((dD.Curried3(function(eS,eT,eU){return eS("module Call"+dE.toSafe(eT)+" =\n"+dE.toSafe(eU));}))(a.id))(a.String(dX.now())))(eR))):eP.Return(eO);});}));};dm.getBaseSnippet=function(){var eN;eN=C.fusion();return eN.Run(eN.Delay(function(){var eO;eO=c$.currentSnippetV().Get();return eN.Bind(dm.propO(eO,"BaseSnippet"),function(eP){return eN.ReturnFrom(D.op_BarGreaterGreater(D.op_BarGreaterGreater(C.insertO(eP==null?null:{$:1,$0:C.ofFusionM($.snippetFromRefORm({$:1,$0:dF.SplitChars(eP.$0,["/"],0)}))}),function(eQ){return eQ==null?null:eQ.$0;}),function(eQ){return eQ==null?eO:eQ.$0;}));});}));};dm.translateString=function(eN,eO){function eP(eQ,eR){var eS;eS=S.delimitedO("${","}",eR);return eS!=null&&eS.$==1?eP(eQ+eS.$0[0],eN(eS.$0[1])+eS.$0[2]):eQ+eR;}return eP("",eO);};dm.propO=function(eN,eO){function eP(eQ,eR){return eR[0];}return D.op_BarGreaterGreater(C.ofFusionM($.propertyHierORm(eO,eN)),function(eQ){var eR;return eQ==null?null:{$:1,$0:(eR=eQ.$0,eP(eR[0],eR[1]))};});};_do.New=function(eN,eO,eP){return{snippets:eN,modified:eO,collapsed:eP};};dn.serModel=function(){dv.$cctor();return dv.serModel;};dn.getModel=function(eN,eO,eP){return _do.New(dI.ofSeq(eN),eO,eP);};dn.serSnippet=function(){dv.$cctor();return dv.serSnippet;};dn.serSnippetId=function(){dv.$cctor();return dv.serSnippetId;};dp.saveAs=function(){var eN,eO,eP,eQ;eN=(eO=dG.last(dF.SplitChars(dp.fileName().Get(),["/","\\"],0)),eO===""?"noname.snippets":eO);a.saveAs(new a.Blob([(eP=(eQ=c$.getSnippetsGen(),dn.getModel(eQ[0],eQ[1],eQ[2])),(dn.serModel())[0](eP))],{type:"text/plain;charset=utf-8"}),eN);c$.updateGeneration();};dp.loadTextFile=function(eN){var eO,eP;if(dp.canLoad()){eO=eN.files;eO.length>0?(eP=new a.FileReader(),eP.onload=function(eQ){return dp.parseText(eQ.target.result);},dp.fileName().Set(eO.item(0).name),eP.readAsText(eO.item(0))):void 0;}};dp.parseText=function(eN){var eO,eP;try{eO=(eP=eq.parse(eN),(dn.serModel())[1](eP));c$.setSnippetsGen(eO.snippets,eO.collapsed);}catch(eQ){a.alert(a.String(eQ));((function(eR){return function(eS){return eR(dE.prettyPrint(eS));};}(function(eR){d2.log(eR);}))(eQ));}};dp.canLoad=function(){return dN.Equals(d0.TryGet(c$.SaveAsClassW()),{$:1,$0:""})||a.confirm("Changes have not been saved, do you really want to load?");};dp.fileName=function(){dv.$cctor();return dv.fileName$1;};dq.importFile=function(eN){var eO,eP;if(dp.canLoad()){eO=eN.files;eO.length>0?(eP=new a.FileReader(),eP.onload=function(eQ){return dq.parseText(eQ.target.result);},eP.readAsText(eO.item(0))):void 0;}};dq.parseText=function(eN){var eO;try{c$.setSnippetsGen((eO=eq.parse(eN),(dq.serSnippets())[1](eO)),new dV.New$1(null));}catch(eP){a.alert(a.String(eP));((function(eQ){return function(eR){return eQ(dE.prettyPrint(eR));};}(function(eQ){d2.log(eQ);}))(eP));}};dq.serSnippets=function(){dv.$cctor();return dv.serSnippets;};dq.serSnippet2=function(){dv.$cctor();return dv.serSnippet2;};dq.serSnippetId2=function(){dv.$cctor();return dv.serSnippetId2;};ds.NoSnippet={$:2};dr.mainProgram=function(){var eN,eO,eP,eQ,eR,eS,eT,eU,eV;bV.addPlugIn(b3.New(new bX({$:0,$0:"FSharpStation"}),el.Create(function(eW){return eW.varName;},[bV.newVar(new bW({$:0,$0:"fileName"}),dp.fileName()),bV.newVar(new bW({$:0,$0:"SnippetName"}),dr.snippetNameV()),bV.newVar(new bW({$:0,$0:"Content"}),dr.contentV()),bV.newVar(new bW({$:0,$0:"Output"}),c_.outputMsgs()),bV.newVar(new bW({$:0,$0:"Parser"}),c_.annotationsV())]),el.Create(function(eW){return eW.viwName;},[bV.newViw(new bW({$:0,$0:"FsCode"}),c$.FsCodeW()),bV.newViw(new bW({$:0,$0:"SaveNeeded"}),c$.SaveAsClassW()),bV.newViw(new bW({$:0,$0:"CurrentPath"}),c$.currentPathW()),bV.newViw(new bW({$:0,$0:"FStationId"}),d0.Const(c_.id())),bV.newViw(new bW({$:0,$0:"CurrentSid"}),d0.Map(function(eW){return a.String(eW.get_Id());},c$.CurrentSnippetIdW()))]),el.Create(function(eW){return eW.docName;},[bV.newDoc(new bW({$:0,$0:"mainDoc"}),ee.Create(dr.mainDoc)),bV.newDoc(new bW({$:0,$0:"editor"}),ee.Create(function(){return d5.Element("div",[],[df.editorDoc()]);})),bV.newDoc(new bW({$:0,$0:"Snippets"}),ee.Create(dd.render)),bV.newDoc(new bW({$:0,$0:"Properties"}),ee.Create(de.render)),bV.newDoc(new bW({$:0,$0:"ButtonsRight"}),ee.Create(dr.buttonsRight))]),el.Create(function(eW){return eW.actName;},[bV.newAct(new bW({$:0,$0:"AddSnippet"}),function(){c$.newSnippet();}),bV.newAct(new bW({$:0,$0:"RemoveSnippet"}),function(){dr.deleteSnippet();}),bV.newAct(new bW({$:0,$0:"IndentIn"}),function(){c$.indentIn();}),bV.newAct(new bW({$:0,$0:"IndentOut"}),function(){c$.indentOut();}),bV.newAct(new bW({$:0,$0:"AddProperty"}),function(){de.addProperty();}),bV.newAct(new bW({$:0,$0:"SaveAs"}),function(){dp.saveAs();}),bV.newAct(new bW({$:0,$0:"RunFS"}),function(){dr.runFsCode();}),bV.newAct(new bW({$:0,$0:"SelectionToFsi"}),function(){dr.selectionToFsi();}),bV.newAct(new bW({$:0,$0:"AbortFsi"}),function(){(new eB.New()).Send("FSharpStation:FsRoot.Library2+FsiAgent.abortFsiExe:6",[]);}),bV.newAct(new bW({$:0,$0:"DisposeFsi"}),function(){(new eB.New()).Send("FSharpStation:FsRoot.Library2+FsiAgent.disposeFsiExe:6",[]);}),bV.newActF(new bW({$:0,$0:"LoadFile"}),{$:1,$0:function(eW){dp.loadTextFile(eW);},$1:"FileElement"}),bV.newActF(new bW({$:0,$0:"Import"}),{$:1,$0:function(eW){dq.importFile(eW);},$1:"FileElement"}),bV.newActF(new bW({$:0,$0:"JumpTo"}),{$:1,$0:function(eW){dl.jumpToRef(eW);},$1:"textarea"}),bV.newActF(new bW({$:0,$0:"ButtonClick"}),{$:1,$0:function(eW){dm.buttonClick(eW);},$1:"button"}),bV.newActF(new bW({$:0,$0:"ActionClick"}),{$:1,$0:function(eW){dm.actionClick(eW);},$1:"name"}),bV.newActF(new bW({$:0,$0:"SetScrollToBottom"}),{$:1,$0:function(eW){(dm.setScrollToBottom())(eW);},$1:"textarea"}),bV.newActF(new bW({$:0,$0:"ActionSnp"}),{$:2,$0:function(eW){return function(eX){return dm.actionSnp(eW,eX);};},$1:"snpPath",$2:"name"}),bV.newActF(new bW({$:0,$0:"setCurrentProperty"}),{$:2,$0:function(eW){return function(eX){return dm.setCurrentProperty(eW,eX);};},$1:"name",$2:"value"}),bV.newActF(new bW({$:0,$0:"setSnippetContent"}),{$:2,$0:function(eW){return function(eX){return dm.setSnippetContent(eW,eX);};},$1:"path",$2:"value"})]),el.Create(function(eW){return eW.qryName;},[bV.newQry(new bW({$:0,$0:"PropertyRA"}),dm.getCurrentProperty)])));cj.addNewLayout((eN=(eO=self.document.getElementById("GlobalLayout"),dN.Equals(eO,null)?"\n                    menuEditor       horizontal  65       menuLogo                  editorMessages\n                    double           horizontal  0-50-100 AppFramework.AppFwkClient menuEditor\n                    menuLogo         vertical    350      logo                      menu\n                    logo             span       \"margin:0; color:gray; font-size: 55px; font-weight:530\" \"F# Station\"\n                    editorMessages   horizontal 10-83-100 editorButtons             messages\n                    messages         vertical   0-50-100  messagesLeft              messagesRight\n                    editorButtons    vertical -120 snippetsSnippet buttons\n                    buttons div      \"overflow: hidden; display: grid; grid-template-columns: 100%; grid-template-rows: repeat(15, calc(100% / 15)); bxackground-color: #eee; box-sizing: border-box; padding : 5px; grid-gap: 5px; margin-right: 21px\" btnSaveAs none x btnAddSnippet btnDeleteSnippet btnIndentIn btnIndentOut none x btnRunFS btnInputFsi btnAbortFsi\n                    snippetsSnippet  vertical   0-20-100  snippets                  editorProperties\n                    snippets         horizontal 20        \"${FSharpStation.CurrentPath}\" FSharpStation.Snippets\n                    editorProperties vertical   0-100-100 snippet                   properties\n                    properties       div        \"\"        FSharpStation.Properties\n                    snippet          horizontal 35        Name                      FSharpStation.editor\n                    menu             span  \"\" btnLoad btnImport\n        \n                    btnSaveAs        button FSharpStation.SaveAs         \"class=btn ${FSharpStation.SaveNeeded}\" \"Save as...    \"\n                    btnAddSnippet    button FSharpStation.AddSnippet     \"\"                  \"Add Snippet   \"\n                    btnDeleteSnippet button FSharpStation.RemoveSnippet  \"\"                  \"Delete Snippet\"\n                    btnIndentIn      button FSharpStation.IndentIn       \"\"                  \"Indent In  >> \"\n                    btnIndentOut     button FSharpStation.IndentOut      \"\"                  \"Indent Out << \"\n                    btnRunFS         button FSharpStation.RunFS          \"\"                  \"Run F#        \"\n                    btnInputFsi      button FSharpStation.selectionToFsi   \"\"                  \"selection |> Fsi\"\n                    btnAbortFsi      button FSharpStation.AbortFsi       \"\"                  \"Abort Fsi     \"\n        \n                    messagesLeft     wcomp-tabstrip                      \"\"                  Output FsCode\n                    messagesRight    wcomp-tabstrip                      \"\"                  Parser\n        \n                    Output           textarea  FSharpStation.Output      \"tabname=Output ; placeholder=Output messages ; spellcheck=false\" \n                    FsCode           textarea  FSharpStation.FsCode      \"tabname=F# Code; placeholder=F# Code         ; spellcheck=false\" \n                    Parser           textarea  FSharpStation.Parser      \"tabname=Parser ; placeholder=Parser messages; dblclick=${FSharpStation.JumpTo} ; spellcheck=false\" \n                    Name             Doc       InputLabel                \"\"     \"Name:\"        FSharpStation.SnippetName\n                    btnLoad          Doc       InputFile                 \"\"     \"Load File...\" FSharpStation.LoadFile  FileName\n                    btnImport        Doc       InputFile                 \"\"     \"Import...\"    FSharpStation.Import    \"\"\n                    FileName         div                                 \"class=form-control\"  FSharpStation.fileName\n                  ":eO.textContent),cd.newLyt(dr.FStationLyt(),eN)));d0.Sink(function(eW){(k.iter(function(eX){try{self["eval"].apply(self,["CIPHERSpaceLoadFilesDoAfter(function(){IntelliFactory.Runtime.Start()})"]);self["eval"].apply(self,[eX[1]]);}catch(eY){c.print(eY);}}))(eW);},(eP=c$.currentLayoutJSDW(),(eQ=[dZ.Create$1(null)],(d0.Sink(function(eW){if(!dN.Equals(eQ[0].Get(),eW))eQ[0].Set(eW);},eP),eQ[0].get_View()))));d0.Sink(function(eW){var eX,eY,eZ,e0,e1,e2;eX=(eY=eW==null?null:(eZ=eW.$0,(e0=eZ[0],(e1=eZ[1],(cj.addNewLayout(cd.newLyt(new bX({$:0,$0:e0}),e1)),e1===""?null:{$:1,$0:e0})))),(e2=dr.FStationLyt().get_Id(),eY==null?e2:eY.$0));bV.mainDocV().Set(eX);},(eR=c$.currentLayoutDW(),(eS=[dZ.Create$1(null)],(d0.Sink(function(eW){if(!dN.Equals(eS[0].Get(),eW))eS[0].Set(eW);},eR),eS[0].get_View()))));d0.Sink(function(eW){var eX;dJ.Start((eX=null,dJ.Delay(function(){return dJ.Bind(dJ.Sleep(500),function(){self.document.title=eW;return dJ.Zero();});})),null);},c$.currentPathW());eT=(eU=bV.getMainDoc().f(),ei.Make().WithHole({$:0,$0:"maincontent",$1:eU}));eV=ej.CompleteHoles(eT.k,eT.h,[]);eT.i=new ek.New(eV[1],eb.RunFullDocTemplate(eV[0]));};dr.contentV=function(){dv.$cctor();return dv.contentV;};dr.snippetNameV=function(){dv.$cctor();return dv.snippetNameV;};dr.mainDoc$9584$78=a.id;dr.mainDoc$9575$39=function(){return function(eN){dl.jumpToRef(eN.Target);};};dr.mainDoc$9574$39=function(){return function(eN){eN.Target.value="";};};dr.mainDoc$9573$39=function(){return function(eN){dq.importFile(eN.Target);};};dr.mainDoc$9572$39=function(){return function(eN){eN.Target.value="";};};dr.mainDoc$9571$39=function(){return function(eN){dp.loadTextFile(eN.Target);};};dr.mainDoc=function(){var eN,eO,eP,eQ,eR,eS,eT,eU;eN=dr.hookDoc("FSharpStation","ButtonsRight",function(eV,eW){return eV.WithHole({$:0,$0:"buttonsright",$1:eW});},dr.hookDoc("FSharpStation","Properties",function(eV,eW){return eV.WithHole({$:0,$0:"properties",$1:eW});},dr.hookDoc("FSharpStation","Snippets",function(eV,eW){return eV.WithHole({$:0,$0:"snippets",$1:eW});},dr.hookDoc("FSharpStation","editor",function(eV,eW){return eV.WithHole({$:0,$0:"codeeditor",$1:eW});},dr.hookAct("FSharpStation","SaveAs",function(eV,eW){return eV.WithHole(ej.EventQ2(eV.k,"saveas",function(){return eV.i;},eW));},dr.hookViw("FSharpStation","SaveNeeded",function(eV,eW){return eV.WithHole({$:2,$0:"saveasclass",$1:eW});},dr.hookViw("FSharpStation","FSCode",function(eV,eW){return eV.WithHole({$:8,$0:"fscode",$1:new d4.New(eW,a.ignore)});},dr.hookVar("FSharpStation","Parser",function(eV,eW){return eV.WithHole({$:8,$0:"parser",$1:eW});},dr.hookVar("FSharpStation","Output",function(eV,eW){return eV.WithHole({$:8,$0:"output",$1:eW});},dr.hookVar("FSharpStation","SnippetName",function(eV,eW){return eV.WithHole({$:8,$0:"name",$1:eW});},dr.hookVar("FSharpStation","fileName",function(eV,eW){return eV.WithHole({$:8,$0:"filename",$1:eW});},(eO=(eP=(eQ=(eR=(eS=ei.Make(),eS.WithHole(ej.EventQ2(eS.k,"loadfilechanged",function(){return eS.i;},function(eV){dp.loadTextFile(eV.Target);}))),eR.WithHole(ej.EventQ2(eR.k,"loadfileclear",function(){return eR.i;},function(eV){eV.Target.value="";}))),eQ.WithHole(ej.EventQ2(eQ.k,"importfilechanged",function(){return eQ.i;},function(eV){dq.importFile(eV.Target);}))),eP.WithHole(ej.EventQ2(eP.k,"importfileclear",function(){return eP.i;},function(eV){eV.Target.value="";}))),eO.WithHole(ej.EventQ2(eO.k,"jumpref",function(){return eO.i;},function(eV){dl.jumpToRef(eV.Target);}))))))))))))));return(eT=ej.CompleteHoles(eN.k,eN.h,[["filename",0],["name",0],["output",0],["fscode",0],["parser",0]]),(eU=new ek.New(eT[1],dx.layout(eT[0])),(eN.i=eU,eU))).get_Doc();};dr.buttonsRight$9557$74=a.id;dr.buttonsRight$9556$74=a.id;dr.buttonsRight$9555$74=a.id;dr.buttonsRight$9554$74=a.id;dr.buttonsRight$9553$74=a.id;dr.buttonsRight=function(){var eN,eO,eP;eN=dr.hookAct("FSharpStation","RunFS",function(eQ,eR){return eQ.WithHole(ej.EventQ2(eQ.k,"runfs",function(){return eQ.i;},eR));},dr.hookAct("FSharpStation","IndentOut",function(eQ,eR){return eQ.WithHole(ej.EventQ2(eQ.k,"indentout",function(){return eQ.i;},eR));},dr.hookAct("FSharpStation","IndentIn",function(eQ,eR){return eQ.WithHole(ej.EventQ2(eQ.k,"indentin",function(){return eQ.i;},eR));},dr.hookAct("FSharpStation","RemoveSnippet",function(eQ,eR){return eQ.WithHole(ej.EventQ2(eQ.k,"removesnippet",function(){return eQ.i;},eR));},dr.hookAct("FSharpStation","AddSnippet",function(eQ,eR){return eQ.WithHole(ej.EventQ2(eQ.k,"addsnippet",function(){return eQ.i;},eR));},ei.Make())))));return(eO=ej.CompleteHoles(eN.k,eN.h,[]),(eP=new ek.New(eO[1],dx.buttonsright(eO[0])),(eN.i=eP,eP))).get_Doc();};dr.hookDoc=function(eN,eO,eP,eQ){var eR,eS,eT;eR=(eS=bV.tryGetDoc(new bX({$:0,$0:eN}),new bW({$:0,$0:eO})),eS==null?null:{$:1,$0:(eT=eS.$0,((((dD.Curried3(function(eU,eV,eW){return eU("Doc    "+dE.toSafe(eV)+"."+dE.toSafe(eW)+" hooked");}))(function(eU){d2.log(eU);}))(eN))(eO),eP(eQ,d5.EmbedView(d0.Map(function(){return bV.getActualDoc(eT);},bV.mainDocV().get_View())))))});return eR==null?((((dD.Curried3(function(eU,eV,eW){return eU("Doc    "+dE.toSafe(eV)+"."+dE.toSafe(eW)+" not found");}))(function(eU){d2.log(eU);}))(eN))(eO),eQ):eR.$0;};dr.hookAct=function(eN,eO,eP,eQ){var eR,eS,eT;eR=(eS=bV.tryGetAct(new bX({$:0,$0:eN}),new bW({$:0,$0:eO})),eS==null?null:{$:1,$0:(eT=eS.$0,((((dD.Curried3(function(eU,eV,eW){return eU("Action "+dE.toSafe(eV)+"."+dE.toSafe(eW)+" hooked");}))(function(eU){d2.log(eU);}))(eN))(eO),eP(eQ,function(){bV.callFunction(null,null,eT.actFunction);})))});return eR==null?((((dD.Curried3(function(eU,eV,eW){return eU("Action "+dE.toSafe(eV)+"."+dE.toSafe(eW)+" not found");}))(function(eU){d2.log(eU);}))(eN))(eO),eQ):eR.$0;};dr.hookViw=function(eN,eO,eP,eQ){var eR,eS;eR=(eS=bV.tryGetViw(new bX({$:0,$0:eN}),new bW({$:0,$0:eO})),eS==null?null:{$:1,$0:((((dD.Curried3(function(eT,eU,eV){return eT("View   "+dE.toSafe(eU)+"."+dE.toSafe(eV)+" hooked");}))(function(eT){d2.log(eT);}))(eN))(eO),eP(eQ,eS.$0.viwView))});return eR==null?((((dD.Curried3(function(eT,eU,eV){return eT("View   "+dE.toSafe(eU)+"."+dE.toSafe(eV)+" not found");}))(function(eT){d2.log(eT);}))(eN))(eO),eQ):eR.$0;};dr.hookVar=function(eN,eO,eP,eQ){var eR,eS;eR=(eS=bV.tryGetVar(new bX({$:0,$0:eN}),new bW({$:0,$0:eO})),eS==null?null:{$:1,$0:((((dD.Curried3(function(eT,eU,eV){return eT("Var    "+dE.toSafe(eU)+"."+dE.toSafe(eV)+" hooked");}))(function(eT){d2.log(eT);}))(eN))(eO),eP(eQ,eS.$0.varVar))});return eR==null?((((dD.Curried3(function(eT,eU,eV){return eT("Var    "+dE.toSafe(eU)+"."+dE.toSafe(eV)+" not found");}))(function(eT){d2.log(eT);}))(eN))(eO),eQ):eR.$0;};dr.FStationLyt=function(){dv.$cctor();return dv.FStationLyt;};dr.deleteSnippet=function(){var eN;eN=c$.currentSnippetV().Get();!dN.Equals(eN.snpId,_8.get_Empty())&&a.confirm((function(eO){return function(eP){return eO("Do you want to delete "+dE.toSafe(eP)+"?");};}(a.id))($.snippetName(eN.snpName,eN.snpContent)))?c$.deleteCurrentSnippet():void 0;};dr.selectionToFsi=function(){var eN,eO,eP;function eQ(eR){c_.appendMsgs(dF.Replace(eR,"xXxYyYyhH","Done!"));}eN=(eO=C.fusion(),eO.Run(eO.Delay(function(){return eO.Bind(C.ofAsync((new eB.New()).Async("FSharpStation:FsRoot.Library2+FSharpStationClient.setAddress:-574353144",[new co({$:0,$0:c_.id()})])),function(){var eR;return eO.Bind((eR=df.getSelection(),C.ofAsync((new eB.New()).Async("FSharpStation:FsRoot.Library2+FsiAgent.sendFsiInput:-1181784350",[eR+";;"]))),function(){return eO.Return();});});})));C.iterResultA((eP=function(eR){return function(eS){return eR("Error:\n"+dy.p$30(eS));};}(a.id),function(eR){return eQ(eP(eR));}),a.ignore,eN);};dr.runFsCode=function(){var eN;function eO(eP){c_.appendMsgs(dF.Replace(eP,"xXxYyYyhH","Done!"));}eN=d0.TryGet(c$.FsCodeW());(k.iter(function(eP){var eQ,eR,eS;eQ=(eR=C.fusion(),eR.Run(eR.Delay(function(){c_.outputMsgs().Set("Running F#...");return eR.Bind(C.ofAsync((new eB.New()).Async("FSharpStation:FsRoot.Library2+FSharpStationClient.setAddress:-574353144",[new co({$:0,$0:c_.id()})])),function(){return eR.ReturnFrom(C.ofAsync((new eB.New()).Async("FSharpStation:FsRoot.Library2+FsiAgent.evalCode:-623788033",[c_.srcDir(),{$:0,$0:eP}])));});})));C.iterResultA((eS=function(eT){return function(eU){return eT("Error:\n"+dy.p$30(eU));};}(a.id),function(eT){return eO(eS(eT));}),a.ignore,eQ);}))(eN);};dr.endPointV=function(){dv.$cctor();return dv.endPointV;};dt.processMessage=function(eN){var eO,eP;return K.map(function(eQ){return eQ[0];},(eO=(eP=C.fusion(),eP.Run(eP.Delay(function(){var eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1;function e2(e4){c$.setProperty(e4,e0,e1);return"Ok";}switch(eN.$==1?(eQ=eN.$0,1):eN.$==2?(eQ=eN.$0,2):eN.$==8?(eQ=eN.$0,3):eN.$==3?(eQ=eN.$0,4):eN.$==4?(eR=eN.$0,!dN.Equals(eR,null)&&eR.length===2?dI.get(eN.$0,0)==="AddOutput"?(eQ=dI.get(eN.$0,1),5):dI.get(eN.$0,0)==="ExecJS"?(eQ=dI.get(eN.$0,1),6):(eQ=[dI.get(eN.$0,0),dI.get(eN.$0,1)],9):(eS=eN.$0,!dN.Equals(eS,null)&&eS.length===4?dI.get(eN.$0,0)==="SetProperty"?(eQ=[dI.get(eN.$0,1),dI.get(eN.$0,2),dI.get(eN.$0,3)],7):14:(eT=eN.$0,!dN.Equals(eT,null)&&eT.length===1?(eQ=dI.get(eN.$0,0),8):(eU=eN.$0,!dN.Equals(eU,null)&&eU.length===3?(eQ=[dI.get(eN.$0,0),dI.get(eN.$0,1),dI.get(eN.$0,2)],10):14)))):eN.$==6?(eQ=eN.$0,11):eN.$==7?(eQ=[eN.$1,eN.$0],12):eN.$==5?13:0){case 0:return eP.Return({$:0,$0:c_.id()});case 1:return eP.Bind(C.traverseSeq(function(e3){return C.ofFusionM($.snippetFromRefORm(e3));},eQ),function(e3){return eP.Return({$:1,$0:dI.ofSeq(dG.choose(a.id,e3))});});case 2:c$.clearPredsCache();return eP.Bind(C.absorbO(function(){return new g({$:1,$0:(function(e3){return function(e4){return e3("Snippet not found "+dy.p$31(e4));};}(a.id))(eQ)});},C.ofFusionM($.snippetFromRefORm(eQ))),function(e3){return eP.ReturnFrom(D.op_BarGreaterGreater(D.op_BarGreaterGreater(C.ofFusionM($.fastCodeRm({$:1,$0:e3.snpId},{$:1,$0:e3.snpId})),function(e4){return e4[0];}),function(e4){return{$:0,$0:e4};}));});case 3:return eP.Bind(C.absorbO(function(){return new g({$:1,$0:(function(e3){return function(e4){return e3("Snippet not found "+dy.p$31(e4));};}(a.id))(eQ)});},C.ofFusionM($.snippetFromRefORm(eQ))),function(e3){return eP.Bind(C.ofFusionM($.predsLRm(e3.snpId)),function(e4){return eP.Bind(C.traverseSeq(function(e5){return C.ofFusionM($.snippetORm(e5));},e4),function(e5){function e6(e7){return e7.snpModified;}return eP.Return({$:2,$0:dG.max(dG.choose(function(e7){return e7==null?null:{$:1,$0:e6(e7.$0)};},e5))});});});});case 4:return eP.Bind(C.absorbO(function(){return new g({$:1,$0:(function(e3){return function(e4){return e3("Snippet not found "+dy.p$31(e4));};}(a.id))(eQ)});},C.ofFusionM($.snippetFromRefORm(eQ))),function(e3){return eP.Bind(C.ofFusionM($.predsLRm(e3.snpId)),function(e4){return eP.Bind(C.traverseSeq(function(e5){return C.ofFusionM($.snippetORm(e5));},e4),function(e5){return eP.Return({$:1,$0:dI.ofSeq(dG.choose(a.id,e5))});});});});case 5:c_.appendMsgs(eQ);return eP.Return({$:0,$0:"Ok"});case 6:try{eX={$:0,$0:(eY=self["eval"].apply(self,[eQ]),dN.Equals(eY,null)?"":(function(e3){return function(e4){return e3(dE.prettyPrint(e4));};}(a.id))(eY))};}catch(e3){eX={$:1,$0:new g({$:5,$0:e3.message,$1:e3.stack})};}eW=C.ofResultRM(eX);return eP.Bind(eW,function(e4){return eP.Return({$:0,$0:e4});});case 7:eZ=eQ[0];e0=eQ[1];e1=eQ[2];return eP.Bind(C.absorbO(function(){return new g({$:1,$0:(function(e4){return function(e5){return e4("Snippet not found: "+dE.toSafe(e5));};}(a.id))(eZ)});},D.op_BarGreaterGreater(C.ofFusionM($.snippetFromRefORm({$:1,$0:dF.SplitChars(eZ,["/"],0)})),function(e4){return e4==null?null:{$:1,$0:e2(e4.$0)};})),function(e4){return eP.Return({$:0,$0:e4});});case 8:return eP.ReturnFrom(dt.actionCall(eQ,null,null));case 9:return eP.ReturnFrom(dt.actionCall(eQ[0],eQ[1],null));case 10:return eP.ReturnFrom(dt.actionCall(eQ[0],eQ[1],eQ[2]));case 11:return eP.ReturnFrom(dt.getValue(eQ));case 12:return eP.ReturnFrom(dt.setValue(eQ[1],eQ[0]));case 13:return eP.Return({$:0,$0:self.document.baseURI});case 14:return eP.Return(ba.Hole[(function(e4){return function(e5){return e4("TODO message: "+dy.p$32(e5));};}(a.id))(eN)]);}}))),C.runReader(c$.snippetsColl(),eO)));};dt.setValue=function(eN,eO){var eP;eP=C.fusion();return eP.Run(eP.Delay(function(){var eQ,eR;eQ=(eR=(bV.splitName(dr.FStationLyt()))(eN),bV.tryGetVar(eR[0],eR[1]));return eQ!=null&&eQ.$==1?(eQ.$0.varVar.Set(eO),eP.Return({$:0,$0:"Ok"})):eP.ReturnFrom(C.ofResultRM({$:1,$0:new g({$:1,$0:(function(eS){return function(eT){return eS("Var "+dE.toSafe(eT)+" not found");};}(a.id))(eN)})}));}));};dt.getValue=function(eN){var eO;eO=C.fusion();return eO.Run(eO.Delay(function(){var eP,eQ;eP=(eQ=(bV.splitName(dr.FStationLyt()))(eN),bV.tryGetWoW(eQ[0],eQ[1]));return eP!=null&&eP.$==1?eO.Bind(C.ofAsync(d0.GetAsync(eP.$0)),function(eR){return eO.Return({$:0,$0:eR});}):eO.ReturnFrom(C.ofResultRM({$:1,$0:new g({$:1,$0:(function(eR){return function(eS){return eR("Var or View "+dE.toSafe(eS)+" not found");};}(a.id))(eN)})}));}));};dt.actionCall=function(eN,eO,eP){var eQ;eQ=C.fusion();return eQ.Run(eQ.Delay(function(){var eR,eS;eR=(eS=(bV.splitName(dr.FStationLyt()))(eN),bV.tryGetAct(eS[0],eS[1]));return eR!=null&&eR.$==1?(bV.callFunction(eO,eP,eR.$0.actFunction),eQ.Return({$:0,$0:"Ok"})):eQ.ReturnFrom(C.ofResultRM({$:1,$0:new g({$:1,$0:(function(eT){return function(eU){return eT("Action "+dE.toSafe(eU)+" not found");};}(a.id))(eN)})}));}));};dt.wsStationClient=function(){dv.$cctor();return dv.wsStationClient;};du.content$9852$54=function(){dr.mainProgram();return d5.TextNode("Initialized");};dv.$cctor=function(){var eO,eS,eY,e1,e2,e3,e4,e5,e6,e7,e8,e9,e_,fh,fi,fl,fm,fn,fo,fp,fq,fr,fC,fD,fG,fH,fI,fJ,fK,fL,fM,fN,fO,fP,fQ,fR,fS,fT,fU,fV,fW,fX,fY,fZ,f0,f1,f2,f3,f4,f5,f6,f7,f8,f9,f_,f$,ga,gb,gc,gd,ge,gf,gg,gh,gi,gj,gk,gl,gm,gn,go,gp,gq,gr,gs,gt,gx,gy,gz,gD,gE,gF,gJ,gK,gL,gP,gQ,gR,gV,gW,gX,g1,g2,g3,g7,g8,g9,hb,hc,hd,hh,hi,hj,hn,ho,hp,ht,hu,hv,hz,hA,hB,hF,hG,hH,hL,hM,hQ,hR,hV,hW,hX,hY,h0,h1,h4,h5,h8,h$,ia,ic,id,ie,_if,ii,ij,ik,il,im,_in,io,ip,iq,ir,is,it,iu,iv,iw,ix,iy,iz,iA,iB,iC,iD,iE,iF,iG,iH,iI,iJ,iK,iL,iM,iN,iO,iP,iU,iV;dv.$cctor=a.ignore;dv.rtn=function(iW){return[iW];};dv.state=new p.New();dv.result=new s.New();dv.result$1=r.result();dv.resultP=new u.New();dv.depend=new w.New();dv.rtn$1=v.rtn;dv.depend$1=v.depend();dv.fusion=new B.New();dv.fusion$1=new F.New();dv.resultM=new H.New();dv.asyncResult=new L.New();dv.asyncResultP=new M.New();dv.asyncResultM=new P.New();function eN(iW){return dF.concat("\n",iW);}dv.unindentStr=function(iW){return eN(S.unindent(iW));};function eP(iW){return S.splitByChar("\n",iW);}function eQ(iW){var iX,iY;return dO.array(iW,{$:1,$0:0},{$:1,$0:(iX=0,(iY=dI.length(iW)-2,dN.Compare(iX,iY)===1?iX:iY))});}function eR(iW){return dF.concat("\n",iW);}dv.skipLastLine=(eO=function(iW){return eQ(eP(iW));},function(iW){return eR(eO(iW));});function eT(iW){return iW+"T00:00:00";}dv.parseDateO2=(eS=T.tryParseWith(function(iW){var iX,iY;iX=0;return[(iY=eE.TryParse(iW),iY!=null&&iY.$==1&&(iX=iY.$0,true)),iX];}),function(iW){return eS(eT(iW));});dv.parseDateO=T.tryParseWith(function(iW){var iX,iY;iX=0;return[(iY=eE.TryParse(iW),iY!=null&&iY.$==1&&(iX=iY.$0,true)),iX];});dv.parseIntO=T.tryParseWith(function(iW){var iX;iX=0;return[eF.TryParseInt32(iW,{get:function(){return iX;},set:function(iY){iX=iY;}}),iX];});dv.parseInt64O=T.tryParseWith(function(iW){var iX;iX=0;return[eF.TryParseInt64(iW,{get:function(){return iX;},set:function(iY){iX=iY;}}),iX];});dv.parseSingleO=T.tryParseWith(function(iW){var iX,iY;iX=0;return[(iY=a.Number(iW),a.isNaN(iY)?false:(iX=iY,true)),iX];});dv.parseDoubleO=T.tryParseWith(function(iW){var iX,iY;iX=0;return[(iY=a.Number(iW),a.isNaN(iY)?false:(iX=iY,true)),iX];});dv.parseGuidO=T.tryParseWith(function(iW){var iX;iX=null;return[dT.TryParse(iW,{get:function(){return iX;},set:function(iY){iX=iY;}}),iX];});dv["|Date|_|"]=T.parseDateO();dv["|Int|_|"]=T.parseIntO();dv["|Int64|_|"]=T.parseInt64O();dv["|Single|_|"]=T.parseSingleO();dv["|Double|_|"]=T.parseDoubleO();dv["|Guid|_|"]=T.parseGuidO();dv.defaultSnippet=_9.New(new _8({$:0,$0:"00000000-0000-0000-0000-000000000000"}),"","",null,new dV.New$1(null),[],(new dX(0)).getTime());dv.tieFighter="|"+"-"+"|";dv.counter=1;dv.deserGuid=function(iW){return br.ifUndef("00000000-0000-0000-0000-000000000000",iW);};function eU(iW){return br.ifUndef(0,iW);}dv.serFloat=[function(iW){return(function(iX){return function(iY){return iX(dE.prettyPrint(iY));};}(a.id))(iW);},function(iW){return eU(a.id(iW));}];function eV(iW){return br.ifUndef(0,iW);}dv.serInt=[function(iW){return(function(iX){return function(iY){return iX(dE.prettyPrint(iY));};}(a.id))(iW);},function(iW){return eV(a.id(iW));}];function eW(iW){return br.ifUndef(false,iW);}dv.serBool=[function(iW){return(function(iX){return function(iY){return iX(dE.prettyPrint(iY));};}(a.id))(iW);},function(iW){return eW(a.id(iW));}];function eX(iW){return br.ifUndef("",iW);}dv.serString=[function(iW){return eq.stringify(((et.Id())())(iW));},function(iW){return eX(a.id(iW));}];function eZ(iW){return(function(iX){return function(iY){return iX(dE.prettyPrint(iY));};}(a.id))(iW);}function e0(iW){return br.ifUndef(0,iW);}dv.serDate=[function(iW){return eZ(a.id(iW));},(eY=function(iW){return e0(a.id(iW));},function(iW){var iX;iX=eY(iW);return iX;})];dv.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";dv.rexEmail="(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@[*[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+]*";dv.observers=dH.T.Empty;dv.css="\r\n                .tab-panel {\r\n                 overflow  : hidden   ;\r\n                 display   : flex     ;\r\n                 flex-flow : column   ;\r\n                 background: lightgray;\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                }\r\n                .tab-content {\r\n                 flex      : 1 1     ;\r\n                 overflow  : auto    ;\r\n                 position  : relative;\r\n                }\r\n                .tab-children {\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                 position  : absolute;\r\n                 display   : grid    ;\r\n                }\r\n                .tab-strip {\r\n                 padding   : 0pt     ;\r\n                 flex      : 0 0     ;\r\n                }\r\n                .tab {\r\n                 border     : 0.2pt solid transparent;\r\n                 padding    : 0pt 4pt;\r\n                 display    : inline-block;\r\n                 font-family: sans-serif;\r\n                 font-weight: 200;\r\n                 font-size  : small;\r\n                 color      : #666;\r\n                 cursor     : pointer;\r\n                }\r\n                .top>.tab {\r\n                 border-radius: 2pt 2pt 0pt 0pt;\r\n                 border-bottom-width: 0pt;\r\n                 vertical-align: bottom;\r\n                }\r\n                .bottom>.tab {\r\n                 border-top-width: 0pt;\r\n                 border-radius: 0pt 0pt 2pt 2pt;\r\n                 vertical-align: top;\r\n                }\r\n                .horizontal>.tab:not(:first-child) {\r\n                 border-left-width: 0pt;\r\n                }\r\n                .tab.hovering {\r\n                 background: red;\r\n                }\r\n                .tab.selected {\r\n                 background: white;\r\n                 border-left-width: 0.2pt;\r\n                 color: black;\r\n                 font-weight: 500;\r\n                 border-color: black;\r\n                }\r\n                .horizontal>.tab.selected {\r\n                 border-left-width: 0.2pt;\r\n                }\r\n                ::slotted(*              ) { \r\n                 width : 100%;\r\n                 height: 100%;\r\n                }\r\n                        ";dv.init=ee.Create(function(){var iW;iW=new by.New();bw.defineWebComponent("wcomp-tabstrip",by.Constructor,self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New);});dv.layoutHorizontal=dD.Curried(function(iW,iX,iY,iZ,i0){return d5.get_Empty();},5);dv.layoutVertical=dD.Curried(function(iW,iX,iY,iZ,i0){return d5.get_Empty();},5);dv.loader=(e1=null,dJ.Delay(function(){self.require.config({paths:{vs:"/EPFileX/monaco/package/min/vs"}});return dJ.Bind(dJ.FromContinuations(function(iW,iX){return self.require(["vs/editor/editor.main"],iW,iX);}),function(){return dJ.Return(null);});}));dv.html="\r\n            <div style=\"display:none\" >\r\n                <div links>\r\n                    <link  href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" type=\"text/css\" rel=\"stylesheet\">\r\n                    <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\"   type=\"text/javascript\"></script>\r\n                </div>\r\n                <div ws-template=\"AppFramework\" style=\"height: calc(100vh - 4px); width: calc(100vw - 4px) \" class=\"relative\" >\r\n                    <div ws-hole=\"MainClient\"></div>\r\n                    <div class=\"AppFrameworkGo\"><button ws-onclick=\"GoClient\">${MainDoc}</button></div>\r\n                </div>\r\n                <div ws-template=\"VSplitter1\" class=\"versplitter\" ws-attr=\"Attrs\" vertical>\r\n                    <div style=\"min-width :Calc((100% - ${gap}) *        ${perc}  / 100);max-width :Calc((100% - ${gap}) *        ${perc}  / 100)\">${doc1}</div>\r\n                    <div style=\"min-width :             ${gap}\" ws-onmousedown=\"MouseDown\" ></div>\r\n                    <div style=\"min-width :Calc((100% - ${gap}) * (100 - ${perc}) / 100);max-width :Calc((100% - ${gap}) * (100 - ${perc}) / 100)\">${doc2}</div>\r\n                </div>\r\n                <div ws-template=\"HSplitter1\" class=\"horsplitter\" ws-attr=\"Attrs\">\r\n                    <div style=\"min-height:Calc((100% - ${gap}) *        ${perc}  / 100);max-height:Calc((100% - ${gap}) *        ${perc}  / 100)\">${doc1}</div>\r\n                    <div style=\"min-height:             ${gap}\" ws-onmousedown=\"MouseDown\" ></div>\r\n                    <div style=\"min-height:Calc((100% - ${gap}) * (100 - ${perc}) / 100);max-height:Calc((100% - ${gap}) * (100 - ${perc}) / 100)\">${doc2}</div>\r\n                </div>\r\n                <style>\r\n                    .horsplitter                    { display: flex; flex-direction:column              } \r\n                    .horsplitter > div:nth-child(2) { background: #eef; cursor: row-resize; z-index:400 }\r\n                    .horsplitter > div              { overflow: hidden                                  }\r\n                    .versplitter                    { display: flex; flex-direction:row                 } \r\n                    .versplitter > div:nth-child(2) { background: #eef; cursor: col-resize; z-index:400 }\r\n                    .versplitter > div              { overflow: hidden                                  }\r\n                </style>\r\n                <style>\r\n                    .AppFrameworkGo {\r\n                        max-width: 2px;\r\n                        max-height: 2px;\r\n                        z-index: 4000;\r\n                        overflow: hidden;\r\n                        position: fixed;\r\n                        top: 0px;\r\n                        left: 0px;\r\n                    }\r\n                </style>\r\n                <div ws-template=\"FixedSplitterVer\" \r\n                    style=\"display: grid; \r\n                           grid-gap: 0px; \r\n                           box-sizing: border-box; \r\n                           height: 100%;\r\n                           width : 100%;\r\n                           grid-template-areas: 'one two'; \r\n                           grid-template-rows   :100%; \r\n                           overflow: hidden; \r\n                           grid-template-columns: ${PartSizes}\"  >\r\n                   <div ws-hole=\"First\"  style=\"grid-area: one; \" class=\"relative\" ></div>\r\n                   <div ws-hole=\"Second\" style=\"grid-area: two; \" class=\"relative\" ></div>\r\n                </div>               \r\n                <div ws-template=\"FixedSplitterHor\" \r\n               style=\"display: grid; \r\n                      grid-gap: 0px; \r\n                      box-sizing: border-box; \r\n                      height: 100%;\r\n                      width : 100%;\r\n                      grid-template-areas: 'one' 'two'; \r\n                      grid-template-columns:100%; \r\n                      overflow: hidden; \r\n                      grid-template-rows   : ${PartSizes}\"  >\r\n              <div ws-hole=\"First\"  style=\"grid-area: one; \" class=\"relative\" ></div>\r\n              <div ws-hole=\"Second\" style=\"grid-area: two; \" class=\"relative\" ></div>\r\n                </div>               \r\n                <div ws-template=\"WCompSplitterHor\" \r\n                     ws-onafterrender=\"AfterRender\"\r\n                     style=\"display: grid;\r\n                            grid-gap: 5px; \r\n                            box-sizing: border-box; \r\n                            grid-template-areas: 'one' 'two'; \r\n                            grid-template-columns:100%; \r\n                            overflow: hidden; \r\n                            grid-template-rows   : ${PartSizes}\" \r\n                     >\r\n                     <slot></slot>\r\n                    <slot name=\"splitter\">  <div style=\"grid-row:2; grid-column:1 / 1 ; cursor: row-resize; z-index: 3; background-color: #eef ; height: ${Gap}; margin-top :-${Gap}\" ws-onmousedown=\"MouseDown\" ws-onafterrender=\"AfterRenderSp\" ></div> </slot>\r\n                    <style>\r\n                        ::slotted(*) {\r\n                            display: grid;\r\n                            height : 100%;\r\n                            width  : 100%;\r\n                            overflow: hidden;\r\n                        }\r\n                        ::slotted(*:nth-child(2)) {\r\n                            grid-area: two;\r\n                        }\r\n                        ::slotted(*[slot=\"splitter\"]) {\r\n                            grid-row:2; grid-column:1 / 1 ; \r\n                            cursor: row-resize; \r\n                            z-index: 3; \r\n                            background-color: #eef ; \r\n                            height: ${Gap}; \r\n                            margin-top :-${Gap}\r\n                        }\r\n                    </style>\r\n                </div>        \r\n                <div ws-template=\"WCompSplitterVer\" \r\n                     ws-onafterrender=\"AfterRender\"\r\n                     style=\"display: grid; \r\n                            grid-gap: 5px; \r\n                            box-sizing: border-box; \r\n                            grid-template-areas: 'one two'; \r\n                            grid-template-rows   :100%; \r\n                            overflow: hidden; \r\n                            grid-template-columns: ${PartSizes}\"  >\r\n                    <slot></slot>\r\n                    <slot name=\"splitter\"> <div style=\"grid-column:2; grid-row:1 / 1 ; cursor: col-resize; z-index: 3; background-color: #eef ; width: ${Gap}; margin-left :-${Gap}\" ws-onmousedown=\"MouseDown\" ws-onafterrender=\"AfterRenderSp\" ></div> </slot>\r\n                    <style>\r\n                        ::slotted(*) {\r\n                            display: grid;\r\n                            height : 100%;\r\n                            width  : 100%;\r\n                            overflow: hidden;\r\n                        }\r\n                        ::slotted(*:nth-child(2)) {\r\n                            grid-area: two;\r\n                        }\r\n                        ::slotted(*[slot=\"splitter\"]) {\r\n                            grid-column:2; grid-row:1 / 1\r\n                            cursor: column-resize; \r\n                            z-index: 3; \r\n                            background-color: #eef ; \r\n                            width: ${Gap}; \r\n                            margin-left:-${Gap}\r\n                        }\r\n                    </style>\r\n                </div>\r\n                <div ws-template=\"AppFwkClient\" >\r\n                    <ws-FixedSplitterHor>\r\n                        <PartSizes>55px calc(100% - 55px)</PartSizes>\r\n                        <First>\r\n                            <span style=\"display: grid;\r\n                                  grid-template-columns: 30% 20% 20% 10%;\r\n                                  grid-gap: 25px;\r\n                                \">\r\n                                <div class=\"mainTitle\">AppFramework</div>\r\n                            </span>\r\n                        </First>\r\n                        <Second>\r\n                                <ws-FixedSplitterVer>\r\n                                    <PartSizes>calc(100% - 2px) 2px</PartSizes>\r\n                                    <First>\r\n                                        <wcomp-splitter vertical value=\"18\" max=\"100\">\r\n                                            <div><div ws-hole=\"PlugIns\" style=\"overflow:auto\" >\r\n                                                <div ws-template=\"Tile\">\r\n                                                    <div draggable=\"true\" class=\"code-editor-list-tile ${Predecessor} ${Selected}\" \r\n                                                    ws-ondrag=\"Drag\"\r\n                                                    ws-ondragover=\"DragOver\"\r\n                                                    ws-ondrop=\"Drop\"\r\n                                                   >\r\n                                                   <span class=\"node ${Parent} ${ErrorMsg}\" title=\"expand\" ws-onclick=\"ToggleCollapse\"></span>\r\n                                                   <div  class=\"code-editor-list-text\" style=\"text-indent:${Indent}em; white-space: pre\" ws-onclick=\"Select\" ws-onafterrender=\"AfterRender\" >${Name}</div>\r\n                                                   <span class=\"predecessor\" title=\"toggle predecessor\" ws-onclick=\"TogglePred\">X</span>\r\n                                               </div>\r\n                                       \r\n                                                </div>\r\n                                            </div></div>\r\n                                            <wcomp-splitter vertical value=\"80\" min=\"30\" max=\"100\">\r\n                                                <ws-FixedSplitterHor>\r\n                                                    <PartSizes>32px calc(100% - 32px)</PartSizes>\r\n                                                    <First>\r\n                                                        <div>\r\n                                                            <div class=\"input-group\">\r\n                                                                <span class=\"input-group-addon\">${PlugInName}</span>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </First>\r\n                                                    <Second>\r\n                                                        <div style=\"overflow:auto; display:flex; flex-direction:column\">\r\n                                                            <div>\r\n                                                                <h3>Vars:</h3>\r\n                                                                <table style=\"overflow:auto;width:100%\" class=\"table table-condensed table-striped\">\r\n                                                                    <thead>\r\n                                                                        <th style=\"width: 10%  \">Name</th>\r\n                                                                        <th style=\"width: 90% \">Value</th>\r\n                                                                    </thead>\r\n                                                                    <tbody ws-hole=\"Vars\">\r\n                                                                    <tr ws-template=\"NameValueInput\" >\r\n                                                                        <td >${Name}:</td>\r\n                                                                        <td>\r\n                                                                        <textarea placeholder=\"Value...\" ws-var=\"Value\" style=\"resize:vertical; width:100%\" spellcheck=\"false\"></textarea>\r\n                                                                        </td>\r\n                                                                    </tr>\r\n                                                                    </tbody>\r\n                                                                </table>\r\n                                                            </div>\r\n                                                            <div>\r\n                                                                <h3>Views:</h3>\r\n                                                                <table style=\"overflow:auto\" class=\"table table-condensed table-striped\" >\r\n                                                                    <thead>\r\n                                                                        <th style=\"width: 10%  \">Name</th>\r\n                                                                        <th style=\"width: 90% \">Value</th>\r\n                                                                    </thead>\r\n                                                                    <tbody ws-hole=\"Views\" >\r\n                                                                    <tr ws-template=\"NameValue\" class=\"\">\r\n                                                                        <td>${Name}:</td>\r\n                                                                        <td>${Value}</td>\r\n                                                                    </tr>\r\n                                                                    </tbody>\r\n                                                                </table>\r\n                                                            </div>\r\n                                                            <div>\r\n                                                                <h3>Docs:</h3>\r\n                                                                <div ws-hole=\"Docs\" style=\"overflow:auto\" ></div>\r\n                                                            </div>\r\n                                                            <div>\r\n                                                                <h3>Queries:</h3>\r\n                                                                <table style=\"overflow:auto\" >\r\n                                                                    <tbody ws-hole=\"Queries\" >\r\n                                                                    </tbody>\r\n                                                                </table>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </Second>\r\n                                                </ws-FixedSplitterHor>\r\n                                        <div style=\"font-size:small; overflow: hidden; display: flex; flex-direction: column;\"  class=\"absolute\" ws-hole=\"Actions\" >\r\n                                            <button ws-template=\"Action\" style=\"font-size:small\" ws-onclick=\"Click\" class=\"btn\" type=\"button\" id=\"\" ws-attr=\"Attrs\" >${Name}</button>\r\n                                        </div>\r\n                                            </wcomp-splitter>\r\n                                        </wcomp-splitter>\r\n                                    </First>\r\n                                    <Second>\r\n                                                <wcomp-tabstrip >\r\n                                                    <div tabname=\"Properties\">\r\n                                                        <div>\r\n                                                            <table style=\"border-spacing:0px\">\r\n                                                                <thead>\r\n                                                                    <th style=\"width: 30%  \">Name</th>\r\n                                                                    <th style=\"width: 70% \">Value</th>\r\n                                                                </thead>\r\n                                                                <tbody ws-hole=\"Properties\" ws-children-template=\"Property\">\r\n                                                                    <tr ws-onclick=\"Select\" style=\"margin-bottom: 2px\" class=\"level  \">\r\n                                                                        <td class=\"level-item\">\r\n                                                                            <div>\r\n                                                                                <input ws-var=\"Name\" type=\"text\" class=\"form-control\" id=\"\" placeholder=\"Property...\">\r\n                                                                            </div>\r\n                                                                        </td>\r\n                                                                        <td class=\"level-item\">\r\n                                                                            <div>\r\n                                                                                <textarea ws-var=\"Value\" class=\"form-control\" id=\"\" placeholder=\"Value...\"></textarea>\r\n                                                                            </div>\r\n                                                                        </td>\r\n                                                                        <td class=\"level-item\">\r\n                                                                            <div style=\" cursor: pointer \" title=\"remove\">\r\n                                                                                <button ws-onclick=\"Remove\" class=\"delete is-small\">x</button>\r\n                                                                            </div>\r\n                                                                        </td>\r\n                                                                    </tr>\r\n                                                                </tbody>\r\n                                                            </table>\r\n                                                            <button ws-onclick=\"AddProperty\" class=\"add is-small\">add ...</button>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </wcomp-tabstrip>\r\n                                    </Second>\r\n                                </ws-FixedSplitterVer>\r\n                        </Second>\r\n                    </ws-FixedSplitterHor>\r\n                </div>\r\n                <style style=\"display: none\">\r\n                        .Hidden     { display   : none         }\r\n                        table th,table td { padding:0 5px 0 5px; text-overflow: ellipsis }\r\n                        td input.form-control { \r\n                            padding    : 0px; \r\n                            font-family: monospace;\r\n                            font-size  :   small;\r\n                            margin-top :   0px;\r\n                            margin-left: -2px;\r\n                            width      : 100%\r\n                        }\r\n                        td select {\r\n                            font-size : smaller;\r\n                            max-width : 8ch;\r\n                        }\r\n                        textarea {\r\n                           resize : vertical;\r\n                        }\r\n                        .tab-content {\r\n                            overflow: hidden\r\n                        }\r\n                        .tab-children {\r\n                            position:relative;\r\n                        }\r\n                        .tab-children>div>* {\r\n                            position:absolute;\r\n                            height: 100%;\r\n                            width:  100%;\r\n                            display: grid;\r\n                        }\r\n                        .relative {\r\n                            position:relative;\r\n                        }\r\n                        .relative>* {\r\n                            position:absolute;\r\n                            height: 100%;\r\n                            width:  100%;\r\n                            display: grid;\r\n                        }\r\n                        table.table-striped    tbody tr:nth-child(even) { background: #EEE  }\r\n                        table.table-striped    tbody tr:nth-child(odd ) { background: #FFF  }\r\n                        table.table-striped    tbody input              { background: transparent; border: none}\r\n                        table.table-striped    tbody select             { background: transparent; border: none}\r\n                        table.table-nonstriped tbody tr:nth-child(even) { background: inherit }\r\n                        table.table-nonstriped tbody tr:nth-child(odd ) { background: inherit }\r\n                        table.table            tbody tr.hover           { border    : solid thin transparent; } \r\n                        table.table            tbody tr.hover:hover     { border    : solid thin blue     ; } \r\n                        table.table            tbody th:hover           { background: gray; cursor: pointer }\r\n                        table.table            tbody tr.hover:hover>td  { border-top: solid thin blue     ; \r\n                                                                   border-bottom: solid thin blue     ; } \r\n                        table.table            tbody tr.selected { background   : #b9eeff             ; }\r\n                        table.table            tbody tr.formula.selected { background: #20f7f7             ; }\r\n                        thead { color: gray }\r\n                        h3 { \r\n                            color: gray;\r\n                            line-height: 1em;\r\n                        }\r\n                        button       { border: solid thin transparent ; border-radius: 3px; }\r\n                        button:hover { border: solid thin blue }\r\n                        .indenter { position  : absolute; \r\n                                    top:0px; bottom:0px; left:0px; \r\n                                    background: white; color:white;\r\n                                    border-right: gray thin dotted;\r\n                                    }\r\n                        body {\r\n                            color      : #333;\r\n                            font-size  : small;\r\n                            font-family: monospace;\r\n                            line-height: 1.2;\r\n                        }\r\n                        .mainTitle {  \r\n                            font-size: 48px;\r\n                            font-weight: 500;\r\n                            color: gray;\r\n                            margin-top: -12px;\r\n                        }\r\n                        .CodeMirror {\r\n                            height: 100%;\r\n                        }\r\n                        \r\n                      \r\n                        body { margin: 0px }     \r\n                             \r\n                        div textarea {\r\n                            font-family     : monospace;\r\n                        }\r\n                        .code-editor-list-tile {\r\n                            white-space     : nowrap; \r\n                            border-style    : solid none none;\r\n                            border-color    : white;\r\n                            border-width    : 1px;\r\n                            background-color: #D8D8D8;\r\n                            display         : flex;\r\n                        }\r\n                        .code-editor-list-text{\r\n                            padding         : 1px 10px 1px 5px;\r\n                            overflow        : hidden;\r\n                            text-overflow   : ellipsis;\r\n                            white-space     : nowrap;\r\n                            flex            : 1;\r\n                        }\r\n                        \r\n                        .code-editor-list-tile span.node.ErrorMsg {\r\n                            background-color: red\r\n                        }\r\n                        .code-editor-list-tile span.node.expanded::before {\r\n                            content: \"-\"\r\n                        }\r\n                        .code-editor-list-tile span.node.collapsed::before {\r\n                            content: \"+\"\r\n                        }\r\n                        .code-editor-list-tile.direct-predecessor {\r\n                            font-weight     : bold;\r\n                            color           : blue;\r\n                        }\r\n                        .code-editor-list-tile.indirect-predecessor {\r\n                            color           : blue;\r\n                        }\r\n                        .code-editor-list-tile.included-predecessor {\r\n                            color           : chocolate;\r\n                        }\r\n                        .code-editor-list-tile.selected {\r\n                            background-color: #77F;\r\n                            color           : white;\r\n                        }\r\n                        .code-editor-list-tile.codeSnippet {\r\n                            text-decoration: underline\r\n                        }\r\n                        .code-editor-list-tile:hover {\r\n                            background      : lightgray;\r\n                        }\r\n                        .code-editor-list-tile.selected:hover {\r\n                            background      : blue;\r\n                        }\r\n                        .code-editor-list-tile>.predecessor {\r\n                            font-weight     : bold;\r\n                            border-style    : inset;\r\n                            border-width    : 1px;\r\n                            text-align      : center;\r\n                            color           : transparent;\r\n                        }\r\n                        .code-editor-list-tile.direct-predecessor>.predecessor {\r\n                            color           : blue;\r\n                        }\r\n                        \r\n                        .CodeMirror { height: 100%; }\r\n                        \r\n                        .node {\r\n                            background-color: white; \r\n                            width           : 2ch; \r\n                            color           : #A03; \r\n                            font-weight     : bold; \r\n                            text-align      : center;\r\n                            font-family     : arial;\r\n                        }\r\n                        .Warning { text-decoration: underline lightblue } \r\n                        .Error   { text-decoration: underline red       } \r\n                        \r\n                    </style>\r\n            </div>\r\n            ";dv.plugIns=new el.New$1(function(iW){return iW.plgName;});dv.mainDocV=dZ.Create$1("AppFramework.AppFwkClient");dv.TemplateFileName="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\LayoutEngine\\website\\AppFramework.html";dv.selectionPlugInO=dZ.Create$1({$:1,$0:new bX({$:0,$0:"AppFramework"})});dv.currentPlugInW=d0.Map(function(iW){return iW==null?bV.defaultPlugIn():iW.$0;},d0.Bind(function(iW){return iW==null?d0.Const({$:1,$0:bV.defaultPlugIn()}):bV.plugIns().TryFindByKeyAsView(iW.$0);},bV.selectionPlugInO().get_View()));dv.currentPlugInV=new d4.New(bV.currentPlugInW(),function(iW){bV.plugIns().Append(iW);});dv.AppFwkClient=ee.Create(function(){var iW,iX,iY,iZ,i0,i1,i2,i3,i4;return(iW=(iX=bV.renderQueries(),(iY=bV.renderActions(),(iZ=bV.renderDocs(),(i0=bV.renderViews(),(i1=bV.renderVars(),(i2=bV.renderPlugIns(),ei.Make().WithHole({$:0,$0:"plugins",$1:i2})).WithHole({$:2,$0:"pluginname",$1:d0.Map(function(i5){return i5.plgName.get_Id();},bV.currentPlugInW())}).WithHole({$:0,$0:"vars",$1:i1})).WithHole({$:0,$0:"views",$1:i0})).WithHole({$:0,$0:"docs",$1:iZ})).WithHole({$:0,$0:"actions",$1:iY})).WithHole({$:0,$0:"queries",$1:iX})),(i3=ej.CompleteHoles(iW.k,iW.h,[]),(i4=new ek.New(i3[1],dx.appfwkclient(i3[0])),(iW.i=i4,i4)))).get_Doc();});dv.plugin=new b4.New();dv.a11V=dZ.Create$1(11);dv.mainX={$:0,$0:bV.a11V().get_View()};dv.baseView=bV.mainDocV().get_View();dv.op_LessMultiplyGreater=function(iW){return function(iX){return b7.apply(iW,iX);};};dv.getDocFromReferenceD=v.dependByName("getDocFromReference",b9.getDocFromReference,a.id);dv.getTextActViewFromReferenceD=v.dependByName("getTextActViewFromReference",b9.getTextActViewFromReference,a.id);dv.getDocFromTextTypesD=(e2=v.depend(),e2.Delay(function(){return e2.Bind(b9.getDocFromReferenceD(),function(iW){var iX;function iY(iZ){return iZ.$==1?iW(iZ.$0):d5.TextNode(iZ.$0);}return e2.Return((iX=function(iZ){return dH.map(iY,iZ);},function(iZ){return d5.Concat(iX(iZ));}));});}));dv.extractDocD=(e3=v.depend(),e3.Delay(function(){return e3.Bind(b9.getDocFromTextTypesD(),function(iW){return e3.Return(function(iX){return iW(b9.getTextData(iX));});});}));dv.getTextValFromSeqD=(e4=v.depend(),e4.Delay(function(){return e4.Bind(b9.getTextActViewFromReferenceD(),function(iW){var iX,iY,iZ;function i0(i1){var i2;return i1.$==1?(i2=i1.$0,{$:0,$0:d0.Map(function(i3){return i3.$==1?(function(i4){return function(i5){return i4("@{"+dE.toSafe(i5)+"}");};}(a.id))(i2):i3.$0;},iW(i2))}):{$:1,$0:i1.$0};}return e4.Return((iX=function(i1){return b7.traverseListApp(i0,i1);},(iY=(iZ={$:1,$0:function(i1){return dF.concat("",i1);}},function(i1){return b7.apply(iZ,i1);}),function(i1){return iY(iX(i1));})));});}));dv.getTextValD=x.op_GreaterMultiplyGreater(b9.getTextData,b9.getTextValFromSeqD());dv.extractAtsD=(e5=v.depend(),e5.Delay(function(){return e5.Bind(b9.getTextValD(),function(iW){return e5.Bind(b9.getTextActViewFromReferenceD(),function(iX){return e5.Return(function(iY){var iZ,i0;function i1(i9){var i_,i$,ja,jb,jc,jd,je;i_=dF.SplitChars(i9,[":"],0);return!dN.Equals(i_,null)&&i_.length===2?(i$=dI.get(i_,1),{$:0,$0:dI.get(i_,0),$1:i$}):(ja=dI.map(dF.Trim,dF.SplitChars(i9,["="],0)),!dN.Equals(ja,null)&&ja.length===2?(jb=dI.get(ja,1),(jc=dI.get(ja,0),(jd=b9.getTextData(jb),jd.$==1&&(jd.$0.$==1&&(jd.$1.$==0&&(je=jd.$0.$0,true)))?{$:2,$0:jc,$1:je}:{$:1,$0:jc,$1:jb}))):!dN.Equals(ja,null)&&ja.length===1?{$:1,$0:dI.get(ja,0),$1:""}:b8.AEmpty);}function i2(i9){return dG.filter(function(i_){return""!==i_;},dG.map(dF.Trim,dF.SplitChars(i9,[";"],0)));}function i3(i9){var i_;i_=i9.addedListeners;return!i_?[]:i_;}function i4(i9,i_,i$){var jd,je,jf,jg,jh;function ja(ji){bV.callFunction(i_,ji,jd.actFunction);}function jb(ji){return ji[0];}function jc(ji){return i9===ji;}if(i$.$==1){jd=i$.$0;je=dI.partition(function(ji){return jc(jb(ji));},i3(i_));jf=je[0];for(jg=0,jh=jf.length-1;jg<=jh;jg++)(function(){return i_.removeEventListener(i9,(dI.get(jf,jg))[1]);}());i_.addEventListener(i9,ja,false);i_.addedListeners=je[1].concat([[i9,ja]]);return;}else try{return i_.setAttribute(i9,dF.Trim(i$.$0));}catch(ji){return(function(jj){return function(jk){return jj(dE.prettyPrint(jk));};}(function(jj){d2.log(jj);}))(ji);}}function i5(i9){function i_(i$,ja){return i4(i9,i$,ja);}return function(i$){return d9.DynamicCustom(function(ja){return function(jb){return i_(ja,jb);};},i$);};}function i6(i9){var i_;return i9.$==1?bV.valToAttr(i9.$0,iW(i9.$1)):i9.$==2?(i_=iX(i9.$1),(i5(i9.$0))(i_)):i9.$==3?eG.EmptyAttr():bV.valToStyle(i9.$0,iW(i9.$1));}function i7(i9,i_){var i$,jc,jd,je,jf,jg,jh,ji,jj,jk,jl,jm,jn,jo,jp,jq,jr;function ja(js){return js[0];}function jb(js){return new dV.New(js);}jc=dG.choose(function(js){return js.$==0?{$:1,$0:js.$0+":"+js.$1}:null;},i_);jd=dI.ofSeq(dG.delay(function(){return dG.append(!dG.isEmpty(jc)?[["style",dF.concat(";",jc)]]:[],dG.delay(function(){return dG.choose(function(js){return js.$==1?{$:1,$0:[js.$0,js.$1]}:js.$==2?{$:1,$0:[js.$0,js.$1]}:js.$==3?null:null;},i_);}));}));je=dH.ofSeq(dG.delay(function(){return dG.map(function(js){return[i9.attributes.item(js).name,i9.attributes.item(js).value];},dH.ofSeq(dM.range(0,i9.attributes.length-1)));}));jf=(i$=function(js){return dG.map(ja,js);},function(js){return jb(i$(js));});jg=dV.op_Subtraction(jf(je),jf(jd));jh=dK.Get(jg);try{while(jh.MoveNext()){ji=jh.Current();try{i9.attributes.removeNamedItem(ji);}catch(js){((function(jt){return function(ju){return jt(dE.prettyPrint(ju));};}(function(jt){d2.log(jt);}))(js));}}}finally{if(typeof jh=="object"&&"Dispose"in jh)jh.Dispose();}jj=dV.op_Subtraction(new dV.New(jd),new dV.New(je));jk=dK.Get(jj);try{while(jk.MoveNext()){jl=jk.Current();try{i9.setAttribute(jl[0],jl[1]);}catch(jt){((function(ju){return function(jv){return ju(dE.prettyPrint(jv));};}(function(ju){d2.log(ju);}))(jt));}}}finally{if(typeof jk=="object"&&"Dispose"in jk)jk.Dispose();}jm=i3(i9);for(jn=0,jo=jm.length-1;jn<=jo;jn++){jp=dI.get(jm,jn);try{i9.removeEventListener(jp[0],jp[1]);}catch(ju){((function(jv){return function(jw){return jv(dE.prettyPrint(jw));};}(function(jv){d2.log(jv);}))(ju));}}jq=dG.choose(function(jv){return jv.$==2?{$:1,$0:[jv.$0,jv.$1]}:null;},i_);jr=dK.Get(jq);try{while(jr.MoveNext())(function(){var jv,jw;jv=jr.Current();return d0.Get((jw=jv[0],function(jx){return i4(jw,i9,jx);}),iX(jv[1]));}());return;}finally{if(typeof jr=="object"&&"Dispose"in jr)jr.Dispose();}}function i8(i9){return dG.map(i1,i9);}iZ=dI.ofSeq(i2(iY));return!dN.Equals(iZ,null)&&iZ.length===1?[(i0=iW(dI.get(iZ,0)),i0.$==0?d9.DynamicCustom(function(i9){return function(i_){return i7(i9,i_);};},d0.Map(function(i9){return i8(i2(i9));},i0.$0)):i6(i1(i0.$0)))]:dG.map(function(i9){return i6(i1(i9));},iZ);});});});}));dv.extractTextD=(e6=v.depend(),e6.Delay(function(){return e6.Bind(b9.getTextValD(),function(iW){return e6.Return(function(iX){return b7.toView(iW(iX));});});}));dv.currentPlugInNameDef=new bX({$:0,$0:"NewLYx"});dv.currentPlugInNameD=v.dependByName("currentPlugInName",bV.currentPlugInNameDef(),a.id);dv.getDocwD=(e7=v.depend(),e7.Delay(function(){return e7.Bind(bV.currentPlugInNameD(),function(iW){return e7.Return(function(iX){var iY,iZ,i0;iY=(bV.splitName(iW))(iX);iZ=iY[0];i0=iY[1];return d5.BindView(function(i1){var i2;function i3(){return(function(i4){return function(i5){return i4("Reference not found @{"+dE.toSafe(i5)+"}");};}(a.id))(iX);}i2=i1==null?null:{$:1,$0:bV.getActualDoc(i1.$0)};return i2==null?d5.TextView(d0.Map(function(i4){return i4==null?i3():i4.$0;},bV.tryGetWoWW(iZ,i0))):i2.$0;},bV.tryGetDocW(iZ,i0));});});}));dv.getDocD=(e8=v.depend(),e8.Delay(function(){return e8.Bind(bV.currentPlugInNameD(),function(iW){return e8.Return(function(iX){var iY,iZ,i0,i1,i2,i3;iY=(bV.splitName(iW))(iX);iZ=iY[0];i0=iY[1];i1=(i2=bV.tryGetDoc(iZ,i0),i2==null?null:{$:1,$0:bV.getActualDoc(i2.$0)});return i1==null?d5.TextView((i3=bV.tryGetWoW(iZ,i0),i3==null?d0.Const((function(i4){return function(i5){return i4("Reference not found @{"+dE.toSafe(i5)+"}");};}(a.id))(iX)):i3.$0)):i1.$0;});});}));dv.getTextActViewD=(e9=v.depend(),e9.Delay(function(){return e9.Bind(bV.currentPlugInNameD(),function(iW){return e9.Return(function(iX){var iY,iZ,i0;iY=(bV.splitName(iW))(iX);iZ=iY[0];i0=iY[1];return d0.Bind(function(i1){function i2(){return(function(i3){return function(i4){return i3("Text Reference not found @{"+dE.toSafe(i4)+"}");};}(a.id))(iX);}return i1==null?d0.Map(function(i3){return{$:0,$0:i3};},d0.Map(function(i3){return i3==null?i2():i3.$0;},bV.tryGetWoWW(iZ,i0))):d0.Const({$:1,$0:i1.$0});},bV.tryGetActW(iZ,i0));});});}));dv.extractTextD$1=b9.extractTextD();dv.extractDocD$1=b9.extractDocD();dv.extractAtsD$1=b9.extractAtsD();dv.extractAttD=(e_=x.depend(),e_.Delay(function(){return e_.Bind(bV.extractAtsD(),function(iW){return e_.Return(function(iX){return d_.Concat(iW(iX));});});}));dv.defPlugInName=new bX({$:0,$0:"AppFramework"});function e$(iW,iX){return function(iY){return function(iZ){function i0(i1){return d5.Element("div",iW(iY),[d5.Element("div",[d_.Create("class","input-group")],[d5.Element("span",[d_.Create("class","input-group-addon")],[iX(iZ)]),d5.Input([d_.Create("class","form-control")],i1)])]);}return function(i1){return bV.docWithVar(i0,i1);};};};}dv.inputLabel=bV.depWithExtracts(function(iW,iX,iY){return e$.apply(null,[iW,iX,iY]);});function fa(iW,iX){var iY,iZ;iY=(iZ=iW(iX),function(i0){return d5.Input(iZ,i0);});return function(i0){return bV.docWithVar(iY,i0);};}dv.input=bV.depWithExtracts(function(iW){return function(iX){return fa(iW,iX);};});function fb(iW,iX){var iY,iZ;iY=(iZ=iW(iX),function(i0){return d5.InputArea(iZ,i0);});return function(i0){return bV.docWithVar(iY,i0);};}dv.textArea=bV.depWithExtracts(function(iW){return function(iX){return fb(iW,iX);};});dv.htmlDoc=bV.depWithExtracts(function(iW,iX,iY){return function(iZ){return d5.BindView(d5.Verbatim,iY(iZ));};});dv.docReference=bV.depWithExtracts(function(iW,iX,iY){return function(iZ){var i0;function i1(i2,i3){return function(i4){return(i4(i2))(i3);};}return d5.BindView(function(i2){var i3;return i2==null?(bV.errDocf(function(i4){return function(i5){return i4("Doc not found: "+dE.toSafe(i5));};}))(iZ):(i3=bV.Lazy(i2.$0.docDoc),i3.$==0?i3.$0:i3.$==1?i3.$0():(bV.errDocf(function(i4){return function(i5){return i4("Doc parameters not resolved: "+dA.p(i5));};}))(i2.$0));},d0.Bind(function(i2){return(function(i3){return i1(i3[0],i3[1]);}(i2))(function(i3){return function(i4){return bV.tryGetDocW(i3,i4);};});},(i0=iY(iZ),d0.Map(bV.splitName(bV.defPlugInName()),i0))));};});dv.setVar0=bV.depWithExtracts(function(iW,iX,iY){return function(iZ){var i0,i1,i2;i0=iZ[1];i1=(i2=bV.getParmRef(iZ[0]),bV.tryGetVoV(i2[0],i2[1]));(k.iter(function(i3){d0.Get(function(i4){i3.Set(i4);},iY(i0));}))(i1);};});function fc(iW,iX){var iY,iZ,i0;iY=iX[1];iZ=(i0=bV.getParmRef(iX[0]),bV.tryGetVoV(i0[0],i0[1]));(k.iter(function(i1){i1.Set(iY);}))(iZ);}dv.setVarDirect0=bV.depWithExtracts(function(iW,iX,iY){var iZ;iZ=[iW,iX,iY];return function(i0){return fc(iZ,i0);};});function fd(iW,iX){var iY,iZ,i0;iY=(iZ=(i0=bV.getParmRef(iX),bV.tryGetWoW(i0[0],i0[1])),iZ==null?null:d0.TryGet(iZ.$0));return iY==null?null:iY.$0;}dv.getValDirect=bV.depWithExtracts(function(iW,iX,iY){var iZ;iZ=[iW,iX,iY];return function(i0){return fd(iZ,i0);};});function fe(iW,iX){var iY,iZ,i0;iY=iX[1];iZ=(i0=bV.getParmRef(iX[0]),bV.tryGetVoV(i0[0],i0[1]));(k.iter(function(i1){bV.draggingEvent(true,i1,iY);}))(iZ);}dv.dragSplitter0=bV.depWithExtracts(function(iW,iX,iY){var iZ;iZ=[iW,iX,iY];return function(i0){return fe(iZ,i0);};});dv.trigAct=bV.depWithExtracts(function(iW,iX,iY){return function(iZ){return function(i0){function i1(i3){var i4,i5;if(i3===null);else{i4=(i5=bV.getParmRef(i0),bV.tryGetAct(i5[0],i5[1]));(k.iter(function(i6){bV.callFunction(null,null,i6.actFunction);}))(i4);}}function i2(){return d5.Element("div",[],[]);}return d5.BindView(function(i3){return i2(i1(i3));},iY(iZ));};};});dv.trigActChange=bV.depWithExtracts(function(iW,iX,iY){return function(iZ){return function(i0){var i1,i2;function i3(i5){var i6,i7;if(i5===null);else{i6=(i7=bV.getParmRef(i0),bV.tryGetAct(i7[0],i7[1]));(k.iter(function(i8){bV.callFunction(null,null,i8.actFunction);}))(i6);}}function i4(){return"";}return d5.TextView(d0.Map(function(i5){return i4(i3(i5));},(i1=iY(iZ),(i2=[dZ.Create$1(null)],(d0.Sink(function(i5){if(!dN.Equals(i2[0].Get(),i5))i2[0].Set(i5);},i1),i2[0].get_View())))));};};});function ff(iW,iX,iY,iZ){var i0,i1;i0=(i1=bV.getParmRef(iX),bV.tryGetAct(i1[0],i1[1]));return(k.iter(function(i2){bV.callFunction(iY,iZ,i2.actFunction);}))(i0);}dv.callAction0=bV.depWithExtracts(function(iW,iX,iY){var iZ;iZ=[iW,iX,iY];return dD.Curried(ff,3,[iZ]);});dv.delayAction=bV.depWithExtracts(function(iW,iX,iY){return function(iZ){return function(i0){var i1,i2;i1=(i2=bV.getParmRef(i0),bV.tryGetAct(i2[0],i2[1]));return(k.iter(function(i3){var i4;dJ.Start((i4=null,dJ.Delay(function(){return dJ.Bind(d0.GetAsync(iY(iZ)),function(i5){var i6;return dJ.Bind(dJ.Sleep((i6=(T.parseIntO())(i5),i6==null?100:i6.$0)),function(){bV.callFunction(null,null,i3.actFunction);return dJ.Zero();});});})),null);}))(i1);};};});dv.select=bV.depWithExtracts(function(iW,iX,iY){return dD.Curried3(function(iZ,i0,i1){function i2(i3){var i4,i5;i4=d0.Map(function(i6){return dH.ofSeq(dF.SplitChars(i6,[";"],0));},iY(i1));i5=new d4.New(d0.Map2(function(i6,i7){return dG.contains(dF.Trim(i6),i7)?{$:1,$0:dF.Trim(i6)}:null;},i3.get_View(),i4),function(i6){var i7;if(i6!=null&&i6.$==1){i7=i6.$0;d0.Get(function(i8){if(dG.contains(i7,i8))i3.Set(i7);},i4);}else i3.Set("");});return d5.SelectDynOptional(iW(iZ),i0,a.id,i4,i5);}return function(i3){return bV.docWithVar(i2,i3);};});});function fg(iW,iX,iY,iZ,i0){function i1(i2){return d5.Element("div",iW(iY),[(bV.docReference())(iZ),(bV.docReference())(i0)]);}return function(i2){return bV.docWithVar(i1,i2);};}dv.splitterPerc=bV.depWithExtracts(dD.Curried(fg,5));function fj(iW){return iW[0];}function fk(iW){return iW[1];}bV.addPlugIn((fh=bV.plugin(),fh.AddAct(fh.AddDoc(fh.AddVar(fh.Name(fh.Yield(),"AppFramework"),"mainDocV",bV.mainDocV()),"AppFwkClient",bV.AppFwkClient()),"Hello",function(){self.alert("Hello!");})));bV.addPlugIn((fi=bV.plugin(),fi.AddViw(fi.AddViw(fi.AddViw(fi.AddViw(fi.AddViw(fi.AddViw(fi.AddQry(fi.AddAct2(fi.AddAct(fi.AddAct2(fi.AddAct2(fi.AddAct2(fi.AddAct2(fi.AddDoc5(fi.AddDoc3(fi.AddDoc3(fi.AddDoc4(fi.AddDoc2(fi.AddDoc2(fi.AddDoc2(fi.AddDoc2(fi.AddDoc1(fi.AddDoc1(fi.Name(fi.Yield(),"AF"),"DocReference",bV.docReference(),"DocName"),"HtmlDoc",bV.htmlDoc(),"Html"),"TrigAction",bV.trigAct(),"Trigger","Action"),"TrigChange",bV.trigActChange(),"Trigger","Action"),"Input",bV.input(),"Attrs","Var"),"TextArea",bV.textArea(),"Attrs","Var"),"Select",bV.select(),"Attrs","None","Vals","Var"),"InputFile",dD.Curried3(bV.inputFile),"Attrs","Label","Action"),"InputLabel",bV.inputLabel(),"Attrs","Label","Var"),"SplitterPerc",bV.splitterPerc(),"Template","Attrs","doc1","doc2","Var"),"SetVar",function(iW){return function(iX){return bV.setVar(iW,iX);};},"Var","Value"),"SetVarDirect",function(iW){return function(iX){return bV.setVarDirect(iW,iX);};},"Var","from"),"SetVarDirectD",function(iW){return function(iX){return bV.setVarDirectD(iW,iX);};},"Var","from"),"DelayAction",bV.delayAction(),"delay","ction"),"Hello",function(){self.alert("Hello!");}),"DragSplitter",function(iW){return function(iX){return bV.dragSplitter(iW,iX);};},"Var","dragEvent"),"getDocNames",function(){return dI.ofSeq(dG.collect(function(iW){return dG.map(function(iX){return iW.plgName.get_Id()+"."+iX.docName.get_Id();},iW.plgDocs);},(bV.plugIns())["var"].Get()));}),"MouseX",d0.Map(function(iW){return a.String(fj(iW));},eI.get_Position())),"MouseY",d0.Map(function(iW){return a.String(fk(iW));},eI.get_Position())),"MouseLeft",d0.Map(function(iW){return iW?"1":"0";},eI.get_LeftPressed())),"MouseRight",d0.Map(function(iW){return iW?"1":"0";},eI.get_RightPressed())),"MouseMiddle",d0.Map(function(iW){return iW?"1":"0";},eI.get_MiddlePressed())),"Keyboard",d0.Map(function(iW){return function(iX){return iW(dE.printList(dE.prettyPrint,iX));};}(a.id),eJ.get_KeysPressed()))));dv.getMainDoc=ee.Create(function(){bz.init(dD.Curried(bV.horizontal,5),dD.Curried(bV.vertical,5));bx.init().f();return bV.mainDoc();});dv.htmlD=v.dependByName("AppFrameworkTemplate.html",bU.html(),a.id);dv.startWithHtmlD=(fl=v.depend(),fl.Delay(function(){return fl.Bind(ca.htmlD(),function(iW){return fl.Return(function(){var iX,iY,iZ;iX=self.document.createElement("div");self.document.body.appendChild(iX);iX.outerHTML=iW;iY=bV.getMainDoc().f();iZ=self.document.body;eb.LoadLocalTemplates("");d5.RunAppend(iZ,iY);});});}));dv.defPlg=bV.defaultPlugIn();dv.defDoc=bV.newDoc(new bW({$:0,$0:"_"}),ee.Create(d5.get_Empty));dv.defVar=bV.newVar(new bW({$:0,$0:"_"}),dZ.Create$1(""));dv.defViw=bV.newViw(new bW({$:0,$0:"_"}),d0.Const(""));dv.defAct=bV.newAct(new bW({$:0,$0:"_"}),a.ignore);function fs(iW){return new bX({$:0,$0:iW});}function ft(iW){return{$:1,$0:iW};}function fu(iW){return new bW({$:0,$0:iW});}function fv(iW){return{$:1,$0:iW};}function fw(iW){return new bW({$:0,$0:iW});}function fx(iW){return{$:1,$0:iW};}function fy(iW){return new bW({$:0,$0:iW});}function fz(iW){return{$:1,$0:iW};}function fA(iW){return new bW({$:0,$0:iW});}function fB(iW){return{$:1,$0:iW};}fm=b$.getDocFor(bV.plugIns(),cb.defPlg(),function(){return cb.failCreate("plugin",void 0);},null,dD.Curried3(cb.showPlugIn));fn=b$.getDocForW(d0.Map(function(iW){return iW.plgVars;},fm.get_CurrentW()),function(iW){return iW.varName;},cb.defVar(),function(){return cb.failCreate("Var",void 0);},null,dD.Curried3(cb.showVar));fo=b$.getDocForW(d0.Map(function(iW){return iW.plgViews;},fm.get_CurrentW()),function(iW){return iW.viwName;},cb.defViw(),function(){return cb.failCreate("View",void 0);},null,dD.Curried3(cb.showView));fp=b$.getDocForW(d0.Map(function(iW){return iW.plgActions;},fm.get_CurrentW()),function(iW){return iW.actName;},cb.defAct(),function(){return cb.failCreate("Action",void 0);},null,dD.Curried3(cb.showAct));fq=b$.getDocForW(d0.Map(function(iW){return iW.plgDocs;},fm.get_CurrentW()),function(iW){return iW.docName;},cb.defDoc(),function(){return cb.failCreate("Doc",void 0);},null,dD.Curried3(cb.showDoc));bV.addPlugIn((fr=bV.plugin(),fr.Merge(fr.Merge(fr.Merge(fr.Merge(fr.Merge(fr.Name(fr.Yield(),"AppFrmkUI"),"plugIns_",fm.PlugIn(function(iW){return ft(fs(iW));},function(iW){return iW.get_Id();})),"plgVars_",fn.PlugIn(function(iW){return fv(fu(iW));},function(iW){return iW.get_Id();})),"plgViews_",fo.PlugIn(function(iW){return fx(fw(iW));},function(iW){return iW.get_Id();})),"plgActs_",fp.PlugIn(function(iW){return fz(fy(iW));},function(iW){return iW.get_Id();})),"plgDocs_",fq.PlugIn(function(iW){return fB(fA(iW));},function(iW){return iW.get_Id();}))));function fE(iW){return""!==iW;}dv.splitSemiColon=(fC=cd.splitChar(";"),(fD=function(iW){return dG.filter(fE,iW);},function(iW){return fD(fC(iW));}));function fF(iW){return!iW;}dv.notEmpty=function(iW){return fF(cd.emptyLine(iW));};dv.aV=dZ.Create$1(4);dv.pa=cj.aV().get_View();dv.pb=6.2;dv.currentPlugInNameDef$1=new bX({$:0,$0:"NewLYx"});dv.currentPlugInNameD$1=v.dependByName("currentPlugInName",cj.currentPlugInNameDef(),a.id);fG=dZ.Create$1("World");fH=(fI=bV.op_Dereference(function(iW){return iW===dO.string("World",{$:1,$0:0},{$:1,$0:iW.length-1})||iW.length<=1?"<---- Please enter your name":"";}),(fJ={$:0,$0:fG.get_View()},b6.New(x.op_BarGreaterGreater(fI.r,function(iW){return b5.New(iW,fJ);}))));fK=bV.op_Dereference(function(){var iW;iW=new dX(dX.now());return iW.getFullYear()+"-"+("0"+(iW.getMonth()+1)).slice(-2)+"-"+("0"+iW.getDate()).slice(-2)+" "+("0"+iW.getHours()).slice(-2)+":"+("0"+iW.getMinutes()).slice(-2)+":"+("0"+iW.getSeconds()).slice(-2)+":"+("00"+iW.getMilliseconds()).slice(-3);});fL={$:0,$0:fG.get_View()};x.op_BarGreaterGreater(fK.r,function(iW){return b5.New(iW,fL);});fM=(fN=(fO=(fP=bV.op_Dereference(d5.Concat),bV.bindWrap(function(iW){var iX;iX={$:1,$0:[iW("Hello @{name}!")]};return b6.New(x.op_BarGreaterGreater(fP.r,function(iY){return b5.New(iY,iX);}));},bV.extractDocD())),bV.bindWrap(function(iW){return bV.unwrapBindWrap(function(iX){return b5.New(iX.f,b7.addDoc(b7.textDoc(iW.f.$==0?iW.p.$==1?{$:0,$0:d0.Apply(iW.f.$0,d0.Const(iW.p.$0))}:{$:0,$0:d0.Apply(iW.f.$0,iW.p.$0)}:iW.p.$==0?{$:0,$0:d0.Apply(d0.Const(iW.f.$0),iW.p.$0)}:{$:1,$0:iW.f.$0(iW.p.$0)}),iX.p));},fO);},fH.r)),(fQ=(fR=bV.op_Dereference(d5.Concat),bV.bindWrap(function(iW){var iX;iX={$:1,$0:[iW("How are you?")]};return b6.New(x.op_BarGreaterGreater(fR.r,function(iY){return b5.New(iY,iX);}));},bV.extractDocD())),(fS=(fT=bV.op_Dereference(d5.Concat),bV.bindWrap(function(iW){var iX;iX={$:1,$0:[bV.makeAViewDoc(function(){var iY;iY=iW.f.$==0?iW.p.$==1?{$:0,$0:d0.Apply(iW.f.$0,d0.Const(iW.p.$0))}:{$:0,$0:d0.Apply(iW.f.$0,iW.p.$0)}:iW.p.$==0?{$:0,$0:d0.Apply(d0.Const(iW.f.$0),iW.p.$0)}:{$:1,$0:iW.f.$0(iW.p.$0)};return iY.$==0?d5.BindView(a.id,iY.$0):iY.$0;})]};return b6.New(x.op_BarGreaterGreater(fT.r,function(iY){return b5.New(iY,iX);}));},fN.r)),bV.bindWrap(function(iW){return bV.unwrapBindWrap(function(iX){return b5.New(iX.f,b7.addDoc(bV.makeAViewDoc(function(){var iY;iY=iW.f.$==0?iW.p.$==1?{$:0,$0:d0.Apply(iW.f.$0,d0.Const(iW.p.$0))}:{$:0,$0:d0.Apply(iW.f.$0,iW.p.$0)}:iW.p.$==0?{$:0,$0:d0.Apply(d0.Const(iW.f.$0),iW.p.$0)}:{$:1,$0:iW.f.$0(iW.p.$0)};return iY.$==0?d5.BindView(a.id,iY.$0):iY.$0;}),iX.p));},fS);},fQ.r))));dZ.Lens(cj.aV(),a.String,function(iW,iX){return dM.toInt(a.Number(iX));});fU=(fV=(fW=bV.op_Dereference(function(iW){return function(iX){return cj.concat(iW,iX);};}),(fX={$:0,$0:cj.aV().get_View()},b6.New(x.op_BarGreaterGreater(fW.r,function(iW){return b5.New(iW,fX);})))),(fY={$:1,$0:3.2},b6.New(x.op_BarGreaterGreater(fV.r,function(iW){return b5.New(iW.f.$==0?iW.p.$==1?{$:0,$0:d0.Apply(iW.f.$0,d0.Const(iW.p.$0))}:{$:0,$0:d0.Apply(iW.f.$0,iW.p.$0)}:iW.p.$==0?{$:0,$0:d0.Apply(d0.Const(iW.f.$0),iW.p.$0)}:{$:1,$0:iW.f.$0(iW.p.$0)},fY);}))));fZ=(f0=(f1=bV.op_Dereference((dD.Curried3(function(iW,iX,iY){return iW("result = "+dE.toSafe(iX)+" "+dE.toSafe(iY));}))(a.id)),bV.bindWrap(function(iW){var iX;iX=iW.f.$==0?iW.p.$==1?{$:0,$0:d0.Apply(iW.f.$0,d0.Const(iW.p.$0))}:{$:0,$0:d0.Apply(iW.f.$0,iW.p.$0)}:iW.p.$==0?{$:0,$0:d0.Apply(d0.Const(iW.f.$0),iW.p.$0)}:{$:1,$0:iW.f.$0(iW.p.$0)};return b6.New(x.op_BarGreaterGreater(f1.r,function(iY){return b5.New(iY,iX);}));},fU.r)),(f2={$:1,$0:"main0"},b6.New(x.op_BarGreaterGreater(f0.r,function(iW){return b5.New(iW.f.$==0?iW.p.$==1?{$:0,$0:d0.Apply(iW.f.$0,d0.Const(iW.p.$0))}:{$:0,$0:d0.Apply(iW.f.$0,iW.p.$0)}:iW.p.$==0?{$:0,$0:d0.Apply(d0.Const(iW.f.$0),iW.p.$0)}:{$:1,$0:iW.f.$0(iW.p.$0)},f2);}))));f3=(f4=(f5=(f6=(f7=(f8=(f9=(f_=(f$=(ga=(gb=bV.op_Dereference((dD.Curried3(d5.Element))("h3")),bV.bindWrap(function(iW){var iX;iX={$:1,$0:iW("color:@{name}; background:red; click=@{AppFramework.Hello}")};return b6.New(x.op_BarGreaterGreater(gb.r,function(iY){return b5.New(iY,iX);}));},bV.extractAtsD())),bV.bindWrap(function(iW){var iX;iX={$:1,$0:[iW("MAIN:")]};return b6.New(x.op_BarGreaterGreater(ga.r,function(iY){return b5.New(iY.f.$==0?iY.p.$==1?{$:0,$0:d0.Apply(iY.f.$0,d0.Const(iY.p.$0))}:{$:0,$0:d0.Apply(iY.f.$0,iY.p.$0)}:iY.p.$==0?{$:0,$0:d0.Apply(d0.Const(iY.f.$0),iY.p.$0)}:{$:1,$0:iY.f.$0(iY.p.$0)},iX);}));},bV.extractDocD())),bV.bindWrap(function(iW){return bV.unwrapBindWrap(function(iX){return b5.New(iX.f,b7.addDoc(b7.textDoc(iW.f.$==0?iW.p.$==1?{$:0,$0:d0.Apply(iW.f.$0,d0.Const(iW.p.$0))}:{$:0,$0:d0.Apply(iW.f.$0,iW.p.$0)}:iW.p.$==0?{$:0,$0:d0.Apply(d0.Const(iW.f.$0),iW.p.$0)}:{$:1,$0:iW.f.$0(iW.p.$0)}),iX.p));},f$);},fZ.r)),bV.bindWrap(function(iW){return bV.unwrapBindWrap(function(iX){return b5.New(iX.f,b7.addDoc(b7.textDoc(iW.f.$==0?iW.p.$==1?{$:0,$0:d0.Apply(iW.f.$0,d0.Const(iW.p.$0))}:{$:0,$0:d0.Apply(iW.f.$0,iW.p.$0)}:iW.p.$==0?{$:0,$0:d0.Apply(d0.Const(iW.f.$0),iW.p.$0)}:{$:1,$0:iW.f.$0(iW.p.$0)}),iX.p));},f_);},fZ.r)),bV.bindWrap(function(iW){return bV.unwrapBindWrap(function(iX){return b5.New(iX.f,b7.addDoc(iW(":"),iX.p));},f9);},bV.extractDocD())),bV.bindWrap(function(iW){return bV.unwrapBindWrap(function(iX){return b5.New(iX.f,b7.addDoc(bV.makeAViewDoc(function(){var iY;iY=iW.f.$==0?iW.p.$==1?{$:0,$0:d0.Apply(iW.f.$0,d0.Const(iW.p.$0))}:{$:0,$0:d0.Apply(iW.f.$0,iW.p.$0)}:iW.p.$==0?{$:0,$0:d0.Apply(d0.Const(iW.f.$0),iW.p.$0)}:{$:1,$0:iW.f.$0(iW.p.$0)};return iY.$==0?d5.BindView(a.id,iY.$0):iY.$0;}),iX.p));},f8);},fM.r)),bV.bindWrap(function(iW){return bV.unwrapBindWrap(function(iX){return b5.New(iX.f,b7.addDoc(iW(":"),iX.p));},f7);},bV.extractDocD())),bV.bindWrap(function(iW){return bV.unwrapBindWrap(function(iX){return b5.New(iX.f,b7.addDoc(iW(" Ms >> "),iX.p));},f6);},bV.extractDocD())),bV.bindWrap(function(iW){return bV.unwrapBindWrap(function(iX){return b5.New(iX.f,b7.addDoc(bV.makeAViewDoc(function(){var iY;iY=iW.f.$==0?iW.p.$==1?{$:0,$0:d0.Apply(iW.f.$0,d0.Const(iW.p.$0))}:{$:0,$0:d0.Apply(iW.f.$0,iW.p.$0)}:iW.p.$==0?{$:0,$0:d0.Apply(d0.Const(iW.f.$0),iW.p.$0)}:{$:1,$0:iW.f.$0(iW.p.$0)};return iY.$==0?d5.BindView(a.id,iY.$0):iY.$0;}),iX.p));},f5);},fM.r)),bV.bindWrap(function(iW){return bV.unwrapBindWrap(function(iX){return b5.New(iX.f,b7.addDoc(iW(" <<"),iX.p));},f4);},bV.extractDocD()));gc=bV.makeAViewDoc(function(){return d5.Element("h4",[d9.Dynamic("style",d0.Map(function(iW){return"color:"+iW;},fG.get_View()))],[d5.TextNode("MAIN2:"),d5.TextView(fG.get_View())]);});gd=(ge=(gf=bV.op_Dereference((dD.Curried3(d5.Element))("div")),bV.bindWrap(function(iW){var iX;iX={$:1,$0:iW("color:@{name}")};return b6.New(x.op_BarGreaterGreater(gf.r,function(iY){return b5.New(iY,iX);}));},bV.extractAtsD())),bV.bindWrap(function(iW){var iX;iX={$:1,$0:[iW("@{AppFramework.AppFwkClient}")]};return b6.New(x.op_BarGreaterGreater(ge.r,function(iY){return b5.New(iY.f.$==0?iY.p.$==1?{$:0,$0:d0.Apply(iY.f.$0,d0.Const(iY.p.$0))}:{$:0,$0:d0.Apply(iY.f.$0,iY.p.$0)}:iY.p.$==0?{$:0,$0:d0.Apply(d0.Const(iY.f.$0),iY.p.$0)}:{$:1,$0:iY.f.$0(iY.p.$0)},iX);}));},bV.extractDocD()));gg=(gh=bV.op_Dereference(dD.Curried(cd.variableSplitter,2,[false,0,50,100])),bV.bindWrap(function(iW){var iX;iX={$:1,$0:bV.makeAViewDoc(function(){var iY;iY=iW.f.$==0?iW.p.$==1?{$:0,$0:d0.Apply(iW.f.$0,d0.Const(iW.p.$0))}:{$:0,$0:d0.Apply(iW.f.$0,iW.p.$0)}:iW.p.$==0?{$:0,$0:d0.Apply(d0.Const(iW.f.$0),iW.p.$0)}:{$:1,$0:iW.f.$0(iW.p.$0)};return iY.$==0?d5.BindView(a.id,iY.$0):iY.$0;})};return b6.New(x.op_BarGreaterGreater(gh.r,function(iY){return b5.New(iY,iX);}));},gd.r));bV.bindWrap(function(iW){var iX;iX={$:1,$0:bV.makeAViewDoc(function(){var iY;iY=iW.f.$==0?iW.p.$==1?{$:0,$0:d0.Apply(iW.f.$0,d0.Const(iW.p.$0))}:{$:0,$0:d0.Apply(iW.f.$0,iW.p.$0)}:iW.p.$==0?{$:0,$0:d0.Apply(d0.Const(iW.f.$0),iW.p.$0)}:{$:1,$0:iW.f.$0(iW.p.$0)};return iY.$==0?d5.BindView(a.id,iY.$0):iY.$0;})};return b6.New(x.op_BarGreaterGreater(gg.r,function(iY){return b5.New(iY.f.$==0?iY.p.$==1?{$:0,$0:d0.Apply(iY.f.$0,d0.Const(iY.p.$0))}:{$:0,$0:d0.Apply(iY.f.$0,iY.p.$0)}:iY.p.$==0?{$:0,$0:d0.Apply(d0.Const(iY.f.$0),iY.p.$0)}:{$:1,$0:iY.f.$0(iY.p.$0)},iX);}));},f3.r);gi=(gj=bV.op_Dereference(dD.Curried(cd.variableSplitter,2,[false,0,50,100])),bV.bindWrap(function(iW){var iX;iX={$:1,$0:bV.makeAViewDoc(function(){var iY;iY=iW.f.$==0?iW.p.$==1?{$:0,$0:d0.Apply(iW.f.$0,d0.Const(iW.p.$0))}:{$:0,$0:d0.Apply(iW.f.$0,iW.p.$0)}:iW.p.$==0?{$:0,$0:d0.Apply(d0.Const(iW.f.$0),iW.p.$0)}:{$:1,$0:iW.f.$0(iW.p.$0)};return iY.$==0?d5.BindView(a.id,iY.$0):iY.$0;})};return b6.New(x.op_BarGreaterGreater(gj.r,function(iY){return b5.New(iY,iX);}));},gd.r));gk={$:1,$0:gc};x.op_BarGreaterGreater(gi.r,function(iW){return b5.New(iW.f.$==0?iW.p.$==1?{$:0,$0:d0.Apply(iW.f.$0,d0.Const(iW.p.$0))}:{$:0,$0:d0.Apply(iW.f.$0,iW.p.$0)}:iW.p.$==0?{$:0,$0:d0.Apply(d0.Const(iW.f.$0),iW.p.$0)}:{$:1,$0:iW.f.$0(iW.p.$0)},gk);});dv.nodeRefToDocD=(gl=v.depend(),gl.Delay(function(){return gl.Bind(b9.getDocFromTextTypesD(),function(iW){function iX(iY){var iZ;return(iY.$==1?(iZ=iY.$0.$0,false):iY.$==2?(iZ=iY.$0.$0,false):iY.$==3?(iZ=iY.$0.$0,false):true)?dH.map(cj.textValToTextType,iY.$0):dH.ofArray([cj.itemRefToTextType(iZ)]);}return gl.Return(function(iY){return iW(iX(iY));});});}));dv.varRefToVarD=(gm=v.depend(),gm.Delay(function(){return gm.Bind(cj.currentPlugInNameD(),function(iW){return gm.Return(function(iX){var iY,iZ,i0,i1;iY=cj.itemRefToString(iX.$0);iZ=(i0=(i1=(bV.splitName(iW))(iY),bV.tryGetVar(i1[0],i1[1])),i0==null?null:{$:1,$0:i0.$0.varVar});return iZ==null?new d4.New(d0.Const((function(i2){return function(i3){return i2("Could not find var "+dE.toSafe(i3));};}(a.id))(iY)),a.ignore):iZ.$0;});});}));dv.actRefToActD=(gn=v.depend(),gn.Delay(function(){return gn.Bind(cj.currentPlugInNameD(),function(iW){return gn.Return(function(iX){var iY,iZ,i0;iY=cj.itemRefToString(iX.$0);iZ=(i0=(bV.splitName(iW))(iY),bV.tryGetAct(i0[0],i0[1]));return iZ==null?bV.newAct(new bW({$:0,$0:iY}),function(){((function(i1){return function(i2){return i1("Could not find action "+dE.toSafe(i2));};}(function(i1){d2.log(i1);}))(iY));}):iZ.$0;});});}));dv.getParamD=(go=v.depend(),go.Delay(function(){return go.Bind(cj.currentPlugInNameD(),function(iW){return go.Bind(b9.getTextValFromSeqD(),function(iX){return go.Return(function(iY){var iZ,i0,i1,i2,i3,i4,i5,i6,i7,i8,i9,i_,i$,ja,jb,jc,jd,je,jf,jg,jh,ji,jj,jk;function jl(jt){return jt.docDoc;}function jm(){return(function(jt){return function(ju){return jt("missing ref Doc "+dy.p$1(ju));};}(a.id))(i1);}function jn(jt){return jt.varVar.get_View();}function jo(){return d0.Const((function(jt){return function(ju){return jt("missing ref Var "+dy.p$1(ju));};}(a.id))(i6));}function jp(jt){return jt.viwView;}function jq(){return d0.Const((function(jt){return function(ju){return jt("missing ref View "+dy.p$1(ju));};}(a.id))(ja));}function jr(jt){return jt.actFunction;}function js(){return(function(jt){return function(ju){return jt("missing ref Action "+dy.p$1(ju));};}(a.id))(jg);}iZ=(i0=bV.splitName(iW),function(jt){return i0(cj.itemRefToString(jt));});return iY.$==1?(i1=iY.$0.$0,d0.Map((i2=(i3=function(jt){var ju;ju=jl(jt);return ju;},function(jt){return jt==null?null:{$:1,$0:i3(jt.$0)};}),(i4=function(jt){return jt==null?jm():jt.$0;},function(jt){return i4(i2(jt));})),(i5=iZ(i1),bV.tryGetDocW(i5[0],i5[1])))):iY.$==2?(i6=iY.$0.$0,d0.Bind((i7=(i8=(i9=function(jt){return d0.Map(a.id,jt);},function(jt){return i9(jn(jt));}),function(jt){return jt==null?null:{$:1,$0:i8(jt.$0)};}),(i_=function(jt){return jt==null?jo():jt.$0;},function(jt){return i_(i7(jt));})),(i$=iZ(i6),bV.tryGetVarW(i$[0],i$[1])))):iY.$==3?(ja=iY.$0.$0,d0.Bind((jb=(jc=(jd=function(jt){return d0.Map(a.id,jt);},function(jt){return jd(jp(jt));}),function(jt){return jt==null?null:{$:1,$0:jc(jt.$0)};}),(je=function(jt){return jt==null?jq():jt.$0;},function(jt){return je(jb(jt));})),(jf=iZ(ja),bV.tryGetViwW(jf[0],jf[1])))):iY.$==4?(jg=iY.$0.$0,d0.Map((jh=(ji=function(jt){var ju;ju=jr(jt);return ju;},function(jt){return jt==null?null:{$:1,$0:ji(jt.$0)};}),(jj=function(jt){return jt==null?js():jt.$0;},function(jt){return jj(jh(jt));})),(jk=iZ(jg),bV.tryGetActW(jk[0],jk[1])))):d0.Map(a.id,b7.toView(iX(dH.map(cj.textValToTextType,iY.$0))));});});});}));dv.getParam2D=(gp=v.depend(),gp.Delay(function(){return gp.Bind(cj.currentPlugInNameD(),function(iW){return gp.Bind(b9.getTextValFromSeqD(),function(){return gp.Return(function(iX){var iY,iZ,i0,i1;iY=(iZ=cj.itemRefToAbsolute(iW.get_Id()),(i0=function(i2){return function(i3){return i2("@{"+dE.toSafe(i3)+"}");};}(a.id),function(i2){return i0(iZ(i2));}));return(iX.$==3?(i1=iX.$0.$0,false):iX.$==1?(i1=iX.$0.$0,false):iX.$==2?(i1=iX.$0.$0,false):iX.$==4?(i1=iX.$0.$0,false):true)?dF.concat("",dG.map(function(i2){var i3;return(i2.$==1?(i3=i2.$0.$0,false):i2.$==3?(i3=i2.$0.$0,false):i2.$==4?(i3=i2.$0.$0,false):i2.$==2?(i3=i2.$0.$0,false):true)?i2.$0:iY(i3);},iX.$0)):iY(i1);});});});}));dv.getParamTextD=(gq=v.depend(),gq.Delay(function(){return gq.Bind(cj.currentPlugInNameD(),function(iW){return gq.Bind(b9.getTextValFromSeqD(),function(iX){return gq.Return(function(iY){return function(iZ){var i0,i1,i2,i3,i4,i5,i6,i7,i8,i9,i_,i$,ja,jb,jc,jd;function je(ji){return ji.docDoc;}function jf(ji){return ji.varVar.get_View();}function jg(ji){return ji.viwView;}function jh(ji){return ji.actFunction;}i0=(i1=bV.splitName(iW),function(ji){return i1(cj.itemRefToString(ji));});return iY.$==1?(i2=(i3=i0(iY.$0.$0),bV.tryGetDoc(i3[0],i3[1])),(k.iter((i4=function(ji){var jj;jj=je(ji);return jj;},function(ji){return iZ(i4(ji));})))(i2)):iY.$==2?(i5=(i6=i0(iY.$0.$0),bV.tryGetVar(i6[0],i6[1])),(k.iter((i7=(i8=function(ji){return iZ(a.id(ji));},function(ji){d0.Get(i8,ji);}),function(ji){return i7(jf(ji));})))(i5)):iY.$==3?(i9=(i_=i0(iY.$0.$0),bV.tryGetViw(i_[0],i_[1])),(k.iter((i$=(ja=function(ji){return iZ(a.id(ji));},function(ji){d0.Get(ja,ji);}),function(ji){return i$(jg(ji));})))(i9)):iY.$==4?(jb=(jc=i0(iY.$0.$0),bV.tryGetAct(jc[0],jc[1])),(k.iter((jd=function(ji){var jj;jj=jh(ji);return jj;},function(ji){return iZ(jd(ji));})))(jb)):d0.Get(function(ji){return iZ(a.id(ji));},b7.toView(iX(dH.map(cj.textValToTextType,iY.$0))));};});});});}));dv.initVal="-<InitValue>-";function gu(iW){var iX;iX=null;return gs.TryGetValue(iW,{get:function(){return iX;},set:function(iY){iX=iY;}})?{$:1,$0:iX}:null;}function gv(iW,iX){gs.set_Item(iW,iX);return iX;}function gw(iW,iX){var iY;iY=gu(iW);return iY==null?gv(iW,iX(iW)):iY.$0;}dv.defVarM0=(gr=(gs=new en.New$5(),[[gu,function(iW){return function(iX){return gw(iW,iX);};}],function(){gs.Clear();}]),(gt=gr[0][1],[function(iW){return(gt(iW))(function(iX){return cj.defVar(iX[0],iX[1],iX[2]);});},gr[1]]))[0];function gA(iW){var iX;iX=null;return gy.TryGetValue(iW,{get:function(){return iX;},set:function(iY){iX=iY;}})?{$:1,$0:iX}:null;}function gB(iW,iX){gy.set_Item(iW,iX);return iX;}function gC(iW,iX){var iY;iY=gA(iW);return iY==null?gB(iW,iX(iW)):iY.$0;}dv.defDocFM=(gx=(gy=new en.New$5(),[[gA,function(iW){return function(iX){return gC(iW,iX);};}],function(){gy.Clear();}]),(gz=gx[0][1],[function(iW){return(gz(iW))(function(iX){return cj.defDocF(iX[0],iX[1],iX[2],iX[3]);});},gx[1]]))[0];function gG(iW){var iX;iX=null;return gE.TryGetValue(iW,{get:function(){return iX;},set:function(iY){iX=iY;}})?{$:1,$0:iX}:null;}function gH(iW,iX){gE.set_Item(iW,iX);return iX;}function gI(iW,iX){var iY;iY=gG(iW);return iY==null?gH(iW,iX(iW)):iY.$0;}dv.defActionM=(gD=(gE=new en.New$5(),[[gG,function(iW){return function(iX){return gI(iW,iX);};}],function(){gE.Clear();}]),(gF=gD[0][1],[function(iW){return(gF(iW))(function(iX){return cj.defAction(iX[0],iX[1],iX[2],iX[3]);});},gD[1]]))[0];function gM(iW){var iX;iX=null;return gK.TryGetValue(iW,{get:function(){return iX;},set:function(iY){iX=iY;}})?{$:1,$0:iX}:null;}function gN(iW,iX){gK.set_Item(iW,iX);return iX;}function gO(iW,iX){var iY;iY=gM(iW);return iY==null?gN(iW,iX(iW)):iY.$0;}dv.defActionsM=(gJ=(gK=new en.New$5(),[[gM,function(iW){return function(iX){return gO(iW,iX);};}],function(){gK.Clear();}]),(gL=gJ[0][1],[function(iW){return(gL(iW))(function(iX){return cj.defActions(iX[0],iX[1],iX[2]);});},gJ[1]]))[0];function gS(iW){var iX;iX=null;return gQ.TryGetValue(iW,{get:function(){return iX;},set:function(iY){iX=iY;}})?{$:1,$0:iX}:null;}function gT(iW,iX){gQ.set_Item(iW,iX);return iX;}function gU(iW,iX){var iY;iY=gS(iW);return iY==null?gT(iW,iX(iW)):iY.$0;}dv.defButtonM=(gP=(gQ=new en.New$5(),[[gS,function(iW){return function(iX){return gU(iW,iX);};}],function(){gQ.Clear();}]),(gR=gP[0][1],[function(iW){return(gR(iW))(function(iX){return cj.defButton(iX[0],iX[1],iX[2],iX[3],iX[4]);});},gP[1]]))[0];function gY(iW){var iX;iX=null;return gW.TryGetValue(iW,{get:function(){return iX;},set:function(iY){iX=iY;}})?{$:1,$0:iX}:null;}function gZ(iW,iX){gW.set_Item(iW,iX);return iX;}function g0(iW,iX){var iY;iY=gY(iW);return iY==null?gZ(iW,iX(iW)):iY.$0;}dv.defInputM=(gV=(gW=new en.New$5(),[[gY,function(iW){return function(iX){return g0(iW,iX);};}],function(){gW.Clear();}]),(gX=gV[0][1],[function(iW){return(gX(iW))(function(iX){return cj.defInput(iX[0],iX[1],iX[2],iX[3]);});},gV[1]]))[0];function g4(iW){var iX;iX=null;return g2.TryGetValue(iW,{get:function(){return iX;},set:function(iY){iX=iY;}})?{$:1,$0:iX}:null;}function g5(iW,iX){g2.set_Item(iW,iX);return iX;}function g6(iW,iX){var iY;iY=g4(iW);return iY==null?g5(iW,iX(iW)):iY.$0;}dv.defTextAreaM=(g1=(g2=new en.New$5(),[[g4,function(iW){return function(iX){return g6(iW,iX);};}],function(){g2.Clear();}]),(g3=g1[0][1],[function(iW){return(g3(iW))(function(iX){return cj.defTextArea(iX[0],iX[1],iX[2],iX[3]);});},g1[1]]))[0];function g_(iW){var iX;iX=null;return g8.TryGetValue(iW,{get:function(){return iX;},set:function(iY){iX=iY;}})?{$:1,$0:iX}:null;}function g$(iW,iX){g8.set_Item(iW,iX);return iX;}function ha(iW,iX){var iY;iY=g_(iW);return iY==null?g$(iW,iX(iW)):iY.$0;}dv.defElementM=(g7=(g8=new en.New$5(),[[g_,function(iW){return function(iX){return ha(iW,iX);};}],function(){g8.Clear();}]),(g9=g7[0][1],[function(iW){return(g9(iW))(function(iX){return cj.defElement(iX[0],iX[1],iX[2],iX[3],iX[4]);});},g7[1]]))[0];function he(iW){var iX;iX=null;return hc.TryGetValue(iW,{get:function(){return iX;},set:function(iY){iX=iY;}})?{$:1,$0:iX}:null;}function hf(iW,iX){hc.set_Item(iW,iX);return iX;}function hg(iW,iX){var iY;iY=he(iW);return iY==null?hf(iW,iX(iW)):iY.$0;}dv.defConcatM=(hb=(hc=new en.New$5(),[[he,function(iW){return function(iX){return hg(iW,iX);};}],function(){hc.Clear();}]),(hd=hb[0][1],[function(iW){return(hd(iW))(function(iX){return cj.defConcat(iX[0],iX[1],iX[2]);});},hb[1]]))[0];function hk(iW){var iX;iX=null;return hi.TryGetValue(iW,{get:function(){return iX;},set:function(iY){iX=iY;}})?{$:1,$0:iX}:null;}function hl(iW,iX){hi.set_Item(iW,iX);return iX;}function hm(iW,iX){var iY;iY=hk(iW);return iY==null?hl(iW,iX(iW)):iY.$0;}dv.defViewM=(hh=(hi=new en.New$5(),[[hk,function(iW){return function(iX){return hm(iW,iX);};}],function(){hi.Clear();}]),(hj=hh[0][1],[function(iW){return(hj(iW))(function(iX){return cj.defView(iX[0],iX[1],iX[2]);});},hh[1]]))[0];function hq(iW){var iX;iX=null;return ho.TryGetValue(iW,{get:function(){return iX;},set:function(iY){iX=iY;}})?{$:1,$0:iX}:null;}function hr(iW,iX){ho.set_Item(iW,iX);return iX;}function hs(iW,iX){var iY;iY=hq(iW);return iY==null?hr(iW,iX(iW)):iY.$0;}dv.defViewJSM=(hn=(ho=new en.New$5(),[[hq,function(iW){return function(iX){return hs(iW,iX);};}],function(){ho.Clear();}]),(hp=hn[0][1],[function(iW){return(hp(iW))(function(iX){return cj.defViewJS(iX[0],iX[1],iX[2]);});},hn[1]]))[0];function hw(iW){var iX;iX=null;return hu.TryGetValue(iW,{get:function(){return iX;},set:function(iY){iX=iY;}})?{$:1,$0:iX}:null;}function hx(iW,iX){hu.set_Item(iW,iX);return iX;}function hy(iW,iX){var iY;iY=hw(iW);return iY==null?hx(iW,iX(iW)):iY.$0;}dv.defSplitterM=(ht=(hu=new en.New$5(),[[hw,function(iW){return function(iX){return hy(iW,iX);};}],function(){hu.Clear();}]),(hv=ht[0][1],[function(iW){return(hv(iW))(function(iX){return cj.defSplitter(iX[0],iX[1],iX[2],iX[3],iX[4],iX[5]);});},ht[1]]))[0];function hC(iW){var iX;iX=null;return hA.TryGetValue(iW,{get:function(){return iX;},set:function(iY){iX=iY;}})?{$:1,$0:iX}:null;}function hD(iW,iX){hA.set_Item(iW,iX);return iX;}function hE(iW,iX){var iY;iY=hC(iW);return iY==null?hD(iW,iX(iW)):iY.$0;}dv.defTemplateM=(hz=(hA=new en.New$5(),[[hC,function(iW){return function(iX){return hE(iW,iX);};}],function(){hA.Clear();}]),(hB=hz[0][1],[function(iW){return(hB(iW))(function(iX){return cj.defTemplate(iX[0],iX[1],iX[2]);});},hz[1]]))[0];hF=bV.tryGetPlugIn(bV.defPlugInName());(k.iter(function(iW){iW.plgActions.Append(bV.newActF(new bW({$:0,$0:"AddLayout"}),{$:2,$0:function(iX){return function(iY){return cj.addNewLayoutAct(iX,iY);};},$1:"[Name]",$2:"[Layout]"}));}))(hF);dv.MessageBrokerId="<MessageBroker>";dv.MessageBrokerAddress=new co({$:0,$0:cn.MessageBrokerId()});dv.id="FSharpStation"+a.String(dX.now());dv.rootDir=".";dv.srcDir=".";dJ.Start((hG=null,dJ.Delay(function(){return dJ.Bind((new eB.New()).Async("FSharpStation:FsRoot.FSharpStation+FStation.getRootDirs:-589054433",[]),function(iW){c_.set_rootDir(iW[1]);c_.set_srcDir(iW[2]);(((dD.Curried3(function(iX,iY,iZ){return iX("fileName = "+dE.toSafe(iY)+"\\"+dE.toSafe(iZ)+".fsx");}))(function(iX){d2.log(iX);}))(c_.srcDir()))(c_.id());return dJ.Zero();});})),null);dv.annotationsV=dZ.Create$1("");dv.outputMsgs=dZ.Create$1("");dv.snippets=new el.New$1(function(iW){return iW.snpId;});dv.hierarchy=dZ.Create$1([]);dv.generation=dZ.Create$1(-8640000000000000);dv.currentSnippetIdOV=dZ.Create$1(null);dv.codeSnippetIdOV=dZ.Create$1(null);dv.collapsedV=dZ.Create$1(new dV.New$1(null));function hI(iW){var iX;iX=null;return hH.TryGetValue(iW,{get:function(){return iX;},set:function(iY){iX=iY;}})?{$:1,$0:iX}:null;}function hJ(iW,iX){hH.set_Item(iW,iX);return iX;}function hK(iW,iX){var iY;iY=hI(iW);return iY==null?hJ(iW,iX(iW)):iY.$0;}hL=(hH=new en.New$5(),[[hI,function(iW){return function(iX){return hK(iW,iX);};}],function(){hH.Clear();}]);dv.predsCache=hL[0];dv.clearPreds=hL[1];function hN(iW){var iX;iX=null;return hM.TryGetValue(iW,{get:function(){return iX;},set:function(iY){iX=iY;}})?{$:1,$0:iX}:null;}function hO(iW,iX){hM.set_Item(iW,iX);return iX;}function hP(iW,iX){var iY;iY=hN(iW);return iY==null?hO(iW,iX(iW)):iY.$0;}hQ=(hM=new en.New$5(),[[hN,function(iW){return function(iX){return hP(iW,iX);};}],function(){hM.Clear();}]);dv.reducCache=hQ[0];dv.clearReduc=hQ[1];function hS(iW){var iX;iX=null;return hR.TryGetValue(iW,{get:function(){return iX;},set:function(iY){iX=iY;}})?{$:1,$0:iX}:null;}function hT(iW,iX){hR.set_Item(iW,iX);return iX;}function hU(iW,iX){var iY;iY=hS(iW);return iY==null?hT(iW,iX(iW)):iY.$0;}hV=(hR=new en.New$5(),[[hS,function(iW){return function(iX){return hU(iW,iX);};}],function(){hR.Clear();}]);dv.parentCache=hV[0];dv.clearParent=hV[1];dv.getParentIdO=(hW=(c$.parentCache())[1],function(iW){return(hW(iW))(c$.getParentIdONotMemo);});d0.Sink(function(iW){var iX,iY;if(iW!=null&&iW.$==1){iX=iW.$0;iY=c$.codeSnippetIdOV().Get();iY!=null&&iY.$==1?(c$.iterReader(z.op_BarGreaterGreater(z.op_BarGreaterGreater(z.op_BarGreaterGreater(z.op_BarGreaterGreater(z.op_GreaterGreaterEquals(z.op_BarGreaterGreater($.snippetORm(iY.$0),function(iZ){return iZ==null?null:{$:1,$0:$.uniquePredsRm(iZ.$0)};}),y.insertO),dW.toList),function(iZ){return dH.collect(a.id,iZ);}),function(iZ){return dH.contains(iX,iZ);}),function(iZ){if(iZ);else c$.codeSnippetIdOV().Set({$:1,$0:iX});})),c$.clearPredsCache()):c$.codeSnippetIdOV().Set({$:1,$0:iX});}},c$.currentSnippetIdOV().get_View());function hZ(iW){return iW.id();}d0.Sink(function(iW){var iX;c$.clearPredsCache();iX=dI.ofSeq(dG.delay(function(){return dG.collect(function(iY){return dG.append([c$.snippets().FindByKey(iY)],dG.delay(function(){return dG.filter(function(iZ){return c$.isDescendantOf(iY,iZ.snpId);},(c$.snippets())["var"].Get());}));},iW);}));c$.snippets().Set(iX);},(hX=d0.Map(function(iW){return dI.map(hZ,iW);},c$.hierarchy().get_View()),(hY=[dZ.Create$1(null)],(d0.Sink(function(iW){if(!dN.Equals(hY[0].Get(),iW))hY[0].Set(iW);},hX),hY[0].get_View()))));dv.CurrentSnippetIdW=d0.Map(function(iW){var iX;iX=$.defaultSnippet().snpId;return iW==null?iX:iW.$0;},c$.currentSnippetIdOV().get_View());function h2(iW){var iX;iX=$.defaultSnippet();return iW==null?iX:iW.$0;}function h3(iW){return c$.snippets().TryFindByKeyAsView(iW);}dv.currentSnippetW=d0.Map((h0=function(iW){return iW==null?null:a.id(iW.$0);},function(iW){return h2(h0(iW));}),d0.Bind((h1=function(iW){return iW==null?null:{$:1,$0:h3(iW.$0)};},function(iW){return bg.insertWO(h1(iW));}),c$.currentSnippetIdOV().get_View()));function h6(iW){var iX;iX=$.defaultSnippet();return iW==null?iX:iW.$0;}function h7(iW){return c$.snippets().TryFindByKeyAsView(iW);}dv.codeSnippetW=d0.Map((h4=function(iW){return iW==null?null:a.id(iW.$0);},function(iW){return h6(h4(iW));}),d0.Bind((h5=function(iW){return iW==null?null:{$:1,$0:h7(iW.$0)};},function(iW){return bg.insertWO(h5(iW));}),c$.codeSnippetIdOV().get_View()));dv.currentSnippetV=new d4.New(c$.currentSnippetW(),function(iW){c$.setSnippet(iW);});function h9(iW,iX){return[iW.id(),iX];}function h_(iW){function iX(iZ){return bb.listNodes(0,iZ);}function iY(iZ){return c$.runReader(c$.handleError,iZ);}return function(iZ){return iY(iX(iZ));};}dv.getHierarchyW=d0.Map(dI.ofSeq,d0.Map(function(iW){return dG.map(function(iX){return h9(iX[0],iX[1]);},iW);},(h8=c$.hierarchy().get_View(),d0.Map2(function(iW,iX){return(h_(iW))(iX);},c$.collapsedV().get_View(),h8))));function ib(iW,iX){var iY;iY=null;return dJ.Delay(function(){return dJ.Bind(dJ.Sleep(350),function(){return dJ.Return(c$.runReader(c$.handleError,$.fastCodeRm(c$.currentSnippetIdOV().Get(),c$.codeSnippetIdOV().Get())));});});}dv.codeAndStartsW=(h$=c$.codeSnippetW(),(ia=c$.snippets().v,(((dD.Curried3(d0.MapAsync2))(ib))(h$))(ia)));dv.FsCodeW=d0.Map(function(iW){return iW[0];},c$.codeAndStartsW());dv.codeStartsW=d0.Map(function(iW){return iW[1];},c$.codeAndStartsW());dv.SaveAsClassW=d0.Map2(function(iW,iX){return dG.exists(function(iY){return iY.snpModified>iX;},iW)?"btn-primary":"";},c$.snippets().v,c$.generation().get_View());dv.currentPathW=d0.Map(function(iW){var iX;return c$.runReader(function(){return"";},(iX=y.fusion(),iX.Run(iX.Delay(function(){return iX.Bind($.pathRm(iW.snpId),function(iY){return iX.Bind(y.traverseSeq($.snippetNameRm,new dH.T({$:1,$0:iW.snpId,$1:iY})),function(iZ){return iX.Return(dF.concat("/",dG.rev(iZ)));});});}))));},c$.currentSnippetW());dv.currentLayoutDW=d0.Map(function(iW){var iX;return c$.runReader(function(){return null;},(iX=y.fusion(),iX.Run(iX.Delay(function(){function iY(iZ,i0){var i1,i2,i3,i4;i1=(i2=dF.SplitChars(dF.Trim(i0[0]),["\n"],0),dF.StartsWith(dI.get(i2,0),"\"")?[dO.array(i2,{$:1,$0:1},null),dI.get(i2,0)]:[i2,"\"\""]);i3=i1[1];i4=dG.mapi(function(i5,i6){var i7;i7=dF.StartsWith(i6,":")?dO.string(i6,{$:1,$0:1},null):(function(i8){return function(i9){return i8("button \"click=@{FSharpStation.ButtonClick}\" "+dE.prettyPrint(i9));};}(a.id))(i6);return(((dD.Curried3(function(i8,i9,i_){return i8("btn"+a.String(i9)+" "+dE.toSafe(i_));}))(a.id))(i5))(i7);},dG.filter(function(i5){return dF.Trim(i5)!=="";},i1[0]));return["Snp_"+dF.Replace(a.String(iZ.snpId.get_Id()),"-",""),dF.concat("\n",dH.ofSeq(dG.delay(function(){return dG.append(i4,dG.delay(function(){var i5,i6;return dG.append([(i5=dF.concat(" ",(i6=dH.ofSeq(dM.range(0,dG.length(i4)-1)),dG.map(function(i7){return function(i8){return i7("btn"+a.String(i8));};}(a.id),i6))),(((dD.Curried3(function(i7,i8,i9){return i7("buttons div "+dE.toSafe(i8)+" "+dE.toSafe(i9)+" ");}))(a.id))(i3))(i5))],dG.delay(function(){return["editorButtons vertical 0-85-100 FStationLyt.menuEditor buttons"];}));}));})))];}return iX.Bind(z.op_BarGreaterGreater($.propertyHierORm("Buttons",iW),function(iZ){var i0;return iZ==null?null:{$:1,$0:(i0=iZ.$0,iY(i0[0],i0[1]))};}),function(iZ){function i0(i2,i3){var i4,i5,i6;i4=i3[0];return["Snp_"+dF.Replace(a.String(i2.snpId.get_Id()),"-",""),(i5=iZ==null?null:{$:1,$0:(i6=iZ.$0,(i6[0],dF.concat("\n",dH.ofArray([i4,i6[1]]))))},i5==null?i4:i5.$0)];}function i1(){return iZ;}return iX.ReturnFrom(z.op_BarGreaterGreater(z.op_BarGreaterGreater($.propertyHierORm("Layout",iW),function(i2){var i3;return i2==null?null:{$:1,$0:(i3=i2.$0,i0(i3[0],i3[1]))};}),function(i2){return k.bindNone(i1,i2);}));});}))));},c$.currentSnippetW());dv.currentLayoutJSDW=d0.Map(function(iW){function iX(iY,iZ){return[iY.snpId,iZ[0]];}return c$.runReader(function(){return null;},z.op_BarGreaterGreater($.propertyHierORm("LayoutJS",iW),function(iY){var iZ;return iY==null?null:{$:1,$0:(iZ=iY.$0,iX(iZ[0],iZ[1]))};}));},c$.currentSnippetW());dv.drag=db.DragNone;dv.rootdir="..\\website";dv.TemplatesFileName="..\\website"+"\\Templates.html";((function(iW){return function(iX){return iW(dE.toSafe(iX));};}(function(iW){d2.log(iW);}))("..\\website\\Templates.html"));dv.startsV=dZ.Create$1([]);dv.defaultStart=(ic=[[_8.get_Empty(),""],[0,1,0]],function(iW){return iW==null?ic:iW.$0;});dv.fileName="none.fsx";dv.editorConfigO=null;d0.Sink(function(iW){var iX,iY;try{iX=(iY=df.editorConfigO(),iY==null?null:iY.$0.editorO);(k.iter(function(iZ){iZ.setModel(df.getSnippetModel(iW));c_.annotationsV().Set(c_.annotationsV().Get());}))(iX);}catch(iZ){null;}},c$.CurrentSnippetIdW());dv.rexGuid$1="\\((\\d+)\\,\\s*(\\d+)\\) - \\((\\d+)\\,\\s*(\\d+)\\).*([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";dv.setScrollToBottom=(id=null,d0.Sink(function(){(k.iter(function(iW){dm.scrollToBottom(iW);}))(id);},c_.outputMsgs().get_View()),function(iW){id={$:1,$0:iW};(function(iX){return iX("setScrollToBottom");}(function(iX){d2.log(iX);}));});function ig(iW){return iW.$0;}function ih(iW){return new _8({$:0,$0:iW});}dv.serSnippetId=(ie=dI.head(dF.SplitChars((function(iW){return function(iX){return iW(dy.p$2(iX));};}(a.id))(ih("00000000-0000-0000-0000-000000000000")),[" "],0)),(_if=(function(iW){return function(iX){return iW(dE.prettyPrint(iX));};}(a.id))(ie),[function(iW){var iX;iX=ig(iW);return(((dD.Curried3(function(iY,iZ,i0){return iY("{"+dF.PadLeft(dE.toSafe(iZ),10)+" :"+dE.prettyPrint(i0)+"}");}))(a.id))(_if))(iX);},function(iW){var iX;return ih((iX=iW[ie],(br.deserGuid())(iX)));}]));dv.serSnippet=(ii=[(ij=dn.serSnippetId(),br.serField("snpId",function(iW){return iW.snpId;},function(iW,iX){return _9.New(iW,iX.snpName,iX.snpContent,iX.snpParentIdO,iX.snpPredIds,iX.snpProperties,iX.snpModified);},ij[0],ij[1])),(ik=br.serString(),br.serField("snpName",function(iW){return iW.snpName;},function(iW,iX){return _9.New(iX.snpId,iW,iX.snpContent,iX.snpParentIdO,iX.snpPredIds,iX.snpProperties,iX.snpModified);},ik[0],ik[1])),(il=br.serString(),br.serField("snpContent",function(iW){return iW.snpContent;},function(iW,iX){return _9.New(iX.snpId,iX.snpName,iW,iX.snpParentIdO,iX.snpPredIds,iX.snpProperties,iX.snpModified);},il[0],il[1])),(im=(_in=dn.serSnippetId(),br.serOpt(_in[0],_in[1])),br.serField("snpParentIdO",function(iW){return iW.snpParentIdO;},function(iW,iX){return _9.New(iX.snpId,iX.snpName,iX.snpContent,iW,iX.snpPredIds,iX.snpProperties,iX.snpModified);},im[0],im[1])),(io=(ip=dn.serSnippetId(),br.serSet(ip[0],ip[1])),br.serField("snpPredIds",function(iW){return iW.snpPredIds;},function(iW,iX){return _9.New(iX.snpId,iX.snpName,iX.snpContent,iX.snpParentIdO,iW,iX.snpProperties,iX.snpModified);},io[0],io[1])),(iq=(ir=(is=br.serString(),br.serDup((br.serString())[0],(br.serString())[1],is[0],is[1])),br.serArr(ir[0],ir[1])),br.serField("snpProperties",function(iW){return iW.snpProperties;},function(iW,iX){return _9.New(iX.snpId,iX.snpName,iX.snpContent,iX.snpParentIdO,iX.snpPredIds,iW,iX.snpModified);},iq[0],iq[1])),(it=br.serInt(),br.serFieldO("snpGeneration",function(){return null;},function(iW,iX){return iW!=null&&iW.$==1?_9.New(iX.snpId,iX.snpName,iX.snpContent,iX.snpParentIdO,iX.snpPredIds,iX.snpProperties,(new dX(0)).getTime()+iW.$0*3600000):iX;},it[0],it[1])),(iu=br.serDate(),br.serField("snpModified",function(iW){return iW.snpModified;},function(iW,iX){return _9.New(iX.snpId,iX.snpName,iX.snpContent,iX.snpParentIdO,iX.snpPredIds,iX.snpProperties,iW);},iu[0],iu[1]))],(iv=$.New("","",null),[function(iW){var iX;function iY(iZ,i0,i1){var i2,i3;i2=i0(iW);i3=((dD.Curried3(function(i4,i5,i6){return i4(dE.prettyPrint(i5)+": "+dE.toSafe(i6));}))(a.id))(iZ);return i2==null?null:{$:1,$0:i3(i2.$0)};}iX=dF.concat(", ",dG.choose(function(iZ){return iY(iZ[0],iZ[1],iZ[2]);},ii));return(function(iZ){return function(i0){return iZ("{"+dE.toSafe(i0)+"}");};}(a.id))(iX);},function(iW){return!iW?iv:dG.fold(function(iX,iY){return(iY[2](iX))(iW[iY[0]]);},iv,ii);}]));dv.serModel=(iw=[(ix=(iy=dn.serSnippet(),br.serArr(iy[0],iy[1])),br.serField("snippets",function(iW){return iW.snippets;},function(iW,iX){return _do.New(iW,iX.modified,iX.collapsed);},ix[0],ix[1])),(iz=br.serInt(),br.serFieldO("generation",function(){return null;},function(iW,iX){return iW!=null&&iW.$==1?_do.New(iX.snippets,(new dX(0)).getTime()+iW.$0*3600000,iX.collapsed):iX;},iz[0],iz[1])),(iA=br.serDate(),br.serField("modified",function(iW){return iW.modified;},function(iW,iX){return _do.New(iX.snippets,iW,iX.collapsed);},iA[0],iA[1])),(iB=(iC=dn.serSnippetId(),br.serSet(iC[0],iC[1])),br.serField("collapsed",function(iW){return iW.collapsed;},function(iW,iX){return _do.New(iX.snippets,iX.modified,iW);},iB[0],iB[1]))],(iD=_do.New([],(new dX(0)).getTime(),new dV.New$1(null)),[function(iW){var iX;function iY(iZ,i0,i1){var i2,i3;i2=i0(iW);i3=((dD.Curried3(function(i4,i5,i6){return i4(dE.prettyPrint(i5)+": "+dE.toSafe(i6));}))(a.id))(iZ);return i2==null?null:{$:1,$0:i3(i2.$0)};}iX=dF.concat(", ",dG.choose(function(iZ){return iY(iZ[0],iZ[1],iZ[2]);},iw));return(function(iZ){return function(i0){return iZ("{"+dE.toSafe(i0)+"}");};}(a.id))(iX);},function(iW){return!iW?iD:dG.fold(function(iX,iY){return(iY[2](iX))(iW[iY[0]]);},iD,iw);}]));dv.fileName$1=dZ.Create$1("");dv.serSnippetId2=[function(iW){return(function(iX){return function(iY){return iX(dE.prettyPrint(iY));};}(a.id))(iW);},function(iW){var iX;return new _8({$:0,$0:(iX=iW.Item,(br.deserGuid())(iX))});}];dv.serSnippet2=(iE=[(iF=dq.serSnippetId2(),br.serField("id",function(iW){return iW.snpId;},function(iW,iX){return _9.New(dN.Equals(iW,_8.get_Empty())?new _8({$:0,$0:dT.NewGuid()}):iW,iX.snpName,iX.snpContent,iX.snpParentIdO,iX.snpPredIds,iX.snpProperties,iX.snpModified);},iF[0],iF[1])),(iG=br.serString(),br.serField("name",function(iW){return iW.snpName;},function(iW,iX){return _9.New(iX.snpId,iW,iX.snpContent,iX.snpParentIdO,iX.snpPredIds,iX.snpProperties,iX.snpModified);},iG[0],iG[1])),(iH=br.serString(),br.serField("content",function(iW){return iW.snpContent;},function(iW,iX){return _9.New(iX.snpId,iX.snpName,iW,iX.snpParentIdO,iX.snpPredIds,iX.snpProperties,iX.snpModified);},iH[0],iH[1])),(iI=(iJ=dq.serSnippetId2(),br.serOpt(iJ[0],iJ[1])),br.serField("parent",function(iW){return iW.snpParentIdO;},function(iW,iX){return _9.New(iX.snpId,iX.snpName,iX.snpContent,dN.Equals(iW,{$:1,$0:_8.get_Empty()})?null:iW,iX.snpPredIds,iX.snpProperties,iX.snpModified);},iI[0],iI[1])),(iK=(iL=dq.serSnippetId2(),br.serArr(iL[0],iL[1])),br.serField("predecessors",function(iW){return dI.ofSeq(iW.snpPredIds);},function(iW,iX){return _9.New(iX.snpId,iX.snpName,iX.snpContent,iX.snpParentIdO,new dV.New(iW),iX.snpProperties,iX.snpModified);},iK[0],iK[1]))],(iM=$.New("","",null),[function(iW){var iX;function iY(iZ,i0,i1){var i2,i3;i2=i0(iW);i3=((dD.Curried3(function(i4,i5,i6){return i4(dE.prettyPrint(i5)+": "+dE.toSafe(i6));}))(a.id))(iZ);return i2==null?null:{$:1,$0:i3(i2.$0)};}iX=dF.concat(", ",dG.choose(function(iZ){return iY(iZ[0],iZ[1],iZ[2]);},iE));return(function(iZ){return function(i0){return iZ("{"+dE.toSafe(i0)+"}");};}(a.id))(iX);},function(iW){return!iW?iM:dG.fold(function(iX,iY){return(iY[2](iX))(iW[iY[0]]);},iM,iE);}]));dv.serSnippets=(iN=dq.serSnippet2(),br.serArr(iN[0],iN[1]));dv.endPointV=eK.InstallHash(ds.NoSnippet,dz.r());function iQ(iW){var iX;return iW.$==0?bg.rtn({$:1,$0:new _8({$:0,$0:iW.$0})}):iW.$==1?(iX=iW.$0,d0.Map(function(iY){function iZ(i0){return i0.snpId;}return iY===dF.concat("/",iX)?c$.currentSnippetIdOV().Get():c$.runReader(c$.handleError,y.map(function(i0){return i0==null?null:{$:1,$0:iZ(i0.$0)};},$.snippetFromPathORm(iX)));},c$.currentPathW())):bg.rtn(null);}function iR(iW){if(!dN.Equals(c$.currentSnippetIdOV().Get(),iW))c$.setCurrentSnippetIdO(iW);}function iS(iW){var iX;return iW!=null&&iW.$==1?(iX=iW.$0.$0,d0.Map(function(iY){return dN.Equals({$:1,$0:dF.SplitChars(iY,["/"],0)},dr.endPointV().Get())?dr.endPointV().Get():{$:0,$0:iX};},c$.currentPathW())):bg.rtn(ds.NoSnippet);}function iT(iW){if(!dN.Equals(dr.endPointV().Get(),iW))dr.endPointV().Set(iW);}d0.Sink((iO=function(iW){d0.Get(iR,iW);},function(iW){return iO(iQ(iW));}),dr.endPointV().get_View());d0.Sink((iP=function(iW){d0.Get(iT,iW);},function(iW){return iP(iS(iW));}),c$.currentSnippetIdOV().get_View());dv.FStationLyt=new bX({$:0,$0:"FStationLyt"});iU=c$.codeAndStartsW();d0.Sink(c.delayed(300,function(iW){df.parse(iW[0],iW[1]);}),iU);d0.Sink(function(iW){self.onbeforeunload=iW!==""?function(iX){iX.returnValue="Changes you made may not be saved.";}:null;},c$.SaveAsClassW());dv.snippetNameV=dZ.Lens(c$.currentSnippetV(),function(iW){return iW.snpName;},function(iW,iX){return _9.New(iW.snpId,iX,iW.snpContent,iW.snpParentIdO,iW.snpPredIds,iW.snpProperties,iW.snpModified);});dv.contentV=dZ.Lens(c$.currentSnippetV(),function(iW){return iW.snpContent;},function(iW,iX){return _9.New(iW.snpId,iW.snpName,iX,iW.snpParentIdO,iW.snpPredIds,iW.snpProperties,iW.snpModified);});dv.wsStationClient=new cz.New(c_.id(),null,null);dJ.Start((iV=null,dJ.Delay(function(){return dJ.Bind(dJ.Sleep(1000),function(){return dJ.While(function(){return true;},dJ.Delay(function(){return dJ.TryWith(dJ.Delay(function(){var iW,iX,iY,iZ,i0,i1;function i2(i6){return(dB.j$4())(eq.parse(i6));}function i3(i6){return eq.stringify((dw.j$4())(i6));}function i4(i6){return dJ.Return(i6);}function i5(i6){dM.FailWith(i6);}iW=dt.wsStationClient();iW.payloadProcessorO={$:1,$0:(iX=function(i6){return dt.processMessage(i2(i6));},(iY=(iZ=function(i6){return i4(i3(i6));},function(i6){return dJ.Bind(i6,iZ);}),function(i6){return iY(iX(i6));}))};K.iterA(function(i6){return i5(a.String(i6));},a.ignore,iW.sendAndForget(cn.msgType(cq.MsgInformation,(i0=cn.MessageBrokerAddress(),(i1=eq.stringify(((et.Id())())("Registering Processor")),ct.New(new co({$:0,$0:""}),i0,cq.MsgRequest,"",dT.NewGuid(),i1,cs.NoReply))))));return dJ.Bind(dJ.Sleep(60000),function(){return dJ.Return(null);});}),function(iW){((function(iX){return function(iY){return iX(dE.toSafe(iY));};}(function(iX){d2.log(iX);}))(iW.message));return dJ.Bind(dJ.Sleep(1000),function(){return dJ.Return(null);});});}));});})),null);};dw.j$4=function(){return dw._v$4?dw._v$4:dw._v$4=(et.EncodeUnion(void 0,"$",[[0,[["$0","ResultValue",dw.j$6,0]]],[1,[["$0","ErrorValue",dw.j$5,0]]]]))();};dw.j$6=function(){return dw._v$6?dw._v$6:dw._v$6=(et.EncodeUnion(void 0,"$",[[0,[["$0","Item",et.Id(),0]]],[1,[["$0","Item",et.EncodeArray(dw.j$7),0]]],[2,[["$0","Item",et.EncodeDateTime(),0]]]]))();};dw.j$7=function(){return dw._v$7?dw._v$7:dw._v$7=(et.EncodeRecord(void 0,[["snpId",dw.j$8,0],["snpName",et.Id(),0],["snpContent",et.Id(),0],["snpParentIdO",dw.j$8,1],["snpPredIds",et.EncodeSet(dw.j$8),0],["snpProperties",et.EncodeArray(et.EncodeTuple([et.Id(),et.Id()])),0],["snpModified",et.EncodeDateTime(),0]]))();};dw.j$8=function(){return dw._v$8?dw._v$8:dw._v$8=(et.EncodeUnion(_8,"$",[[0,[["$0","Item",et.Id(),0]]]]))();};dx.appfwkclient=function(eN){dx.fixedsplitterhor();dx.fixedsplitterver();eb.LoadLocalTemplates("appframework");return eN?eb.NamedTemplate("appframework",{$:1,$0:"appfwkclient"},eN):void 0;};dy.p=function(eN){return"PlgElemName "+dE.prettyPrint(eN.$0);};dx.fixedsplitterhor=function(eN){eb.LoadLocalTemplates("appframework");return eN?eb.NamedTemplate("appframework",{$:1,$0:"fixedsplitterhor"},eN):void 0;};dy.p$2=function(eN){return"SnippetId "+dE.prettyPrint(eN.$0);};dz.r=function(){return eM.JSUnion(void 0,[[null,[[null,["Snippet"]]],[eM.rGuid()]],[null,[[null,["Path"]]],[eM.rWildcardArray(eM.rString())]],[null,[[null,[]]],[]]]);};dA.p=function(eN){return"{"+("docName = "+dy.p(eN.docName))+"; "+("docDoc = "+dE.prettyPrint(eN.docDoc))+"}";};dB.j$5=function(){return dB._v$5?dB._v$5:dB._v$5=(et.DecodeUnion(void 0,"$",[[0,[["$0","Item",dB.j$6,0]]],[1,[["$0","Item",et.DecodeArray(et.Id()),0]]]]))();};dB.j$6=function(){return dB._v$6?dB._v$6:dB._v$6=(et.DecodeUnion(_8,"$",[[0,[["$0","Item",et.Id(),0]]]]))();};dB.j$4=function(){return dB._v$4?dB._v$4:dB._v$4=(et.DecodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",et.DecodeArray(dB.j$5),0]]],[2,[["$0","Item",dB.j$5,0]]],[3,[["$0","Item",dB.j$5,0]]],[4,[["$0","Item",et.DecodeArray(et.Id()),0]]],[5,[]],[6,[["$0","Item",et.Id(),0]]],[7,[["$0","Item1",et.Id(),0],["$1","Item2",et.Id(),0]]],[8,[["$0","Item",dB.j$5,0]]]]))();};dy.p$1=function(eN){return eN.$==1?"FullRef ("+dE.prettyPrint(eN.$0)+", "+dE.prettyPrint(eN.$1)+")":"LocalRef "+dE.prettyPrint(eN.$0);};dw.j$5=function(){return dw._v$5?dw._v$5:dw._v$5=(et.EncodeUnion(g,"$",[[0,[]],[1,[["$0","Item",et.Id(),0]]],[2,[["$0","Item",et.Id(),0]]],[3,[["$0","Item",et.Id(),0]]],[4,[["$0","Item",et.Id(),0]]],[5,[["$0","Item1",et.Id(),0],["$1","Item2",et.Id(),0]]],[6,[["$0","Item",et.EncodeArray(dw.j$5),0]]]]))();};dx.fixedsplitterver=function(eN){eb.LoadLocalTemplates("appframework");return eN?eb.NamedTemplate("appframework",{$:1,$0:"fixedsplitterver"},eN):void 0;};dx.wcompsplitterver=function(eN){eb.LoadLocalTemplates("appframework");return eN?eb.NamedTemplate("appframework",{$:1,$0:"wcompsplitterver"},eN):void 0;};dx.wcompsplitterhor=function(eN){eb.LoadLocalTemplates("appframework");return eN?eb.NamedTemplate("appframework",{$:1,$0:"wcompsplitterhor"},eN):void 0;};dx.appframework=function(eN){eb.LoadLocalTemplates("appframework");return eN?eb.NamedTemplate("appframework",{$:1,$0:"appframework"},eN):void 0;};dx.tile=function(eN){eb.LoadLocalTemplates("appframework");return eN?eb.NamedTemplate("appframework",{$:1,$0:"tile"},eN):void 0;};dx.action=function(eN){eb.LoadLocalTemplates("appframework");return eN?eb.NamedTemplate("appframework",{$:1,$0:"action"},eN):void 0;};dx.namevalue=function(eN){eb.LoadLocalTemplates("appframework");return eN?eb.NamedTemplate("appframework",{$:1,$0:"namevalue"},eN):void 0;};dx.namevalueinput=function(eN){eb.LoadLocalTemplates("appframework");return eN?eb.NamedTemplate("appframework",{$:1,$0:"namevalueinput"},eN):void 0;};dy.p$3=function(eN){return eN.$==7?"EnPlgRef "+("("+dE.prettyPrint(eN.$0[0])+", "+dy.p$27(eN.$0[1])+")"):eN.$==6?"EnPlgDef "+dy.p$26(eN.$0):eN.$==5?"EnVJSDef "+dy.p$25(eN.$0):eN.$==4?"EnViwDef "+dy.p$24(eN.$0):eN.$==3?"EnVarDef "+dy.p$23(eN.$0):eN.$==2?"EnActDefs "+dy.p$22(eN.$0):eN.$==1?"EnActDef "+dy.p$21(eN.$0):"EnDocDef "+dy.p$4(eN.$0);};dy.p$27=function(eN){return eN.$==4?"RPlg":eN.$==3?"RAct":eN.$==2?"RViw":eN.$==1?"RVar":"RDoc";};dy.p$26=function(eN){return"PlgDef "+dE.prettyPrint(eN.$0);};dy.p$25=function(eN){return"VJSDef "+dE.printList(function(eO){return dy.p$17(eO);},eN.$0);};dy.p$24=function(eN){return"ViwDef "+dE.printList(function(eO){return dy.p$17(eO);},eN.$0);};dy.p$23=function(eN){return"VarDef "+dE.prettyPrint(eN.$0);};dy.p$22=function(eN){return"ActDefs "+dE.printList(function(eO){return dy.p$9(eO);},eN.$0);};dy.p$21=function(eN){return"ActDef ("+dy.p$9(eN.$0)+", "+dE.printList(function(eO){return dy.p$17(eO);},eN.$1)+")";};dy.p$4=function(eN){return eN.$==7?"DcTemplate "+dA.p$1(eN.$0):eN.$==6?"DcElement "+dy.p$20(eN.$0):eN.$==5?"DcConcat "+dy.p$18(eN.$0):eN.$==4?"DcDocF "+dy.p$16(eN.$0):eN.$==3?"DcTextArea "+dy.p$15(eN.$0):eN.$==2?"DcInput "+dy.p$14(eN.$0):eN.$==1?"DcButton "+dy.p$8(eN.$0):"DcSplitter "+dy.p$5(eN.$0);};dA.p$1=function(eN){return"{"+("tmpName = "+dE.prettyPrint(eN.tmpName))+"; "+("vars = "+dE.printArray(function(eO){return"("+dE.prettyPrint(eO[0])+", "+dy.p$12(eO[1])+")";},eN.vars))+"; "+("views = "+dE.printArray(function(eO){return"("+dE.prettyPrint(eO[0])+", "+dy.p$17(eO[1])+")";},eN.views))+"; "+("docs = "+dE.printArray(function(eO){return"("+dE.prettyPrint(eO[0])+", "+dy.p$7(eO[1])+")";},eN.docs))+"; "+("actions = "+dE.printArray(function(eO){return"("+dE.prettyPrint(eO[0])+", "+dy.p$9(eO[1])+")";},eN.actions))+"; "+("attrs = "+dy.p$17(eN.attrs))+"}";};dy.p$20=function(eN){return"ElementDef ("+dE.prettyPrint(eN.$0)+", "+dy.p$17(eN.$1)+", "+dE.printList(function(eO){return dy.p$19(eO);},eN.$2)+")";};dy.p$18=function(eN){return"ConcatDef "+dE.printList(function(eO){return dy.p$19(eO);},eN.$0);};dy.p$19=function(eN){return eN.$==3?"NdViwRef "+dy.p$13(eN.$0):eN.$==2?"NdVarRef "+dy.p$12(eN.$0):eN.$==1?"NdDocRef "+dy.p$7(eN.$0):"NdTextValL "+dE.printList(function(eO){return dy.p$11(eO);},eN.$0);};dy.p$16=function(eN){return"DocFDef ("+dy.p$7(eN.$0)+", "+dE.printList(function(eO){return dy.p$17(eO);},eN.$1)+")";};dy.p$17=function(eN){return eN.$==4?"PrActRef "+dy.p$9(eN.$0):eN.$==3?"PrViwRef "+dy.p$13(eN.$0):eN.$==2?"PrVarRef "+dy.p$12(eN.$0):eN.$==1?"PrDocRef "+dy.p$7(eN.$0):"PrTextValL "+dE.printList(function(eO){return dy.p$11(eO);},eN.$0);};dy.p$15=function(eN){return"TextAreaDef ("+dy.p$12(eN.$0)+", "+dE.printArray(function(eO){return dy.p$10(eO);},eN.$1)+")";};dy.p$14=function(eN){return"InputDef ("+dy.p$12(eN.$0)+", "+dE.printArray(function(eO){return dy.p$10(eO);},eN.$1)+")";};dy.p$8=function(eN){return"ButtonDef ("+dy.p$9(eN.$0)+", "+dE.printArray(function(eO){return dy.p$10(eO);},eN.$1)+", "+dE.printList(function(eO){return dy.p$11(eO);},eN.$2)+")";};dy.p$10=function(eN){return eN.$==2?"AtAct ("+dE.prettyPrint(eN.$0)+", "+dy.p$9(eN.$1)+")":eN.$==1?"AtAttr ("+dE.prettyPrint(eN.$0)+", "+dE.printList(function(eO){return dy.p$11(eO);},eN.$1)+")":"AtStyle ("+dE.prettyPrint(eN.$0)+", "+dE.printList(function(eO){return dy.p$11(eO);},eN.$1)+")";};dy.p$11=function(eN){return eN.$==4?"TvDocRef "+dy.p$7(eN.$0):eN.$==3?"TvActRef "+dy.p$9(eN.$0):eN.$==2?"TvViwRef "+dy.p$13(eN.$0):eN.$==1?"TvVarRef "+dy.p$12(eN.$0):"TvConst "+dE.prettyPrint(eN.$0);};dy.p$13=function(eN){return"ViwRef "+dy.p$1(eN.$0);};dy.p$12=function(eN){return"VarRef "+dy.p$1(eN.$0);};dy.p$9=function(eN){return"ActRef "+dy.p$1(eN.$0);};dy.p$5=function(eN){return"SplitterDef ("+dE.prettyPrint(eN.$0)+", "+dy.p$6(eN.$1)+", "+dy.p$7(eN.$2)+", "+dy.p$7(eN.$3)+")";};dy.p$7=function(eN){return"DocRef "+dy.p$1(eN.$0);};dy.p$6=function(eN){return eN.$==1?"Variable ("+dE.prettyPrint(eN.$0)+", "+dE.prettyPrint(eN.$1)+", "+dE.prettyPrint(eN.$2)+")":"Fixed ("+dE.prettyPrint(eN.$0)+", "+dE.prettyPrint(eN.$1)+")";};dA.p$2=function(eN){return"{"+("actName = "+dy.p(eN.actName))+"; "+("actFunction = "+dy.p$28(eN.actFunction))+"; "+("actEnabled = "+dy.p$29(eN.actEnabled))+"}";};dy.p$29=function(eN){return"View <fun>";};dy.p$28=function(eN){return eN.$==2?"FunAct2 (<fun>, "+dE.prettyPrint(eN.$1)+", "+dE.prettyPrint(eN.$2)+")":eN.$==1?"FunAct1 (<fun>, "+dE.prettyPrint(eN.$1)+")":"FunAct0 <fun>";};dx.snippetlist=function(eN){eb.LoadLocalTemplates("templates");return eN?eb.NamedTemplate("templates",{$:1,$0:"snippetlist"},eN):void 0;};dx.snippet=function(eN){eb.LoadLocalTemplates("templates");return eN?eb.NamedTemplate("templates",{$:1,$0:"snippet"},eN):void 0;};dx.propertytable=function(eN){eb.LoadLocalTemplates("templates");return eN?eb.NamedTemplate("templates",{$:1,$0:"propertytable"},eN):void 0;};dx.property=function(eN){eb.LoadLocalTemplates("templates");return eN?eb.NamedTemplate("templates",{$:1,$0:"property"},eN):void 0;};dx.layout=function(eN){dx.fixedsplitterhor$1();dx.fixedsplitterver$1();eb.LoadLocalTemplates("templates");return eN?eb.NamedTemplate("templates",{$:1,$0:"layout"},eN):void 0;};dx.fixedsplitterver$1=function(eN){eb.LoadLocalTemplates("templates");return eN?eb.NamedTemplate("templates",{$:1,$0:"fixedsplitterver"},eN):void 0;};dx.fixedsplitterhor$1=function(eN){eb.LoadLocalTemplates("templates");return eN?eb.NamedTemplate("templates",{$:1,$0:"fixedsplitterhor"},eN):void 0;};dx.buttonsright=function(eN){eb.LoadLocalTemplates("templates");return eN?eb.NamedTemplate("templates",{$:1,$0:"buttonsright"},eN):void 0;};dy.p$30=function(eN){return eN.$==6?"RMessages "+dE.printArray(function(eO){return dy.p$30(eO);},eN.$0):eN.$==5?"ExceptMsg ("+dE.prettyPrint(eN.$0)+", "+dE.prettyPrint(eN.$1)+")":eN.$==4?"Message "+dE.prettyPrint(eN.$0):eN.$==3?"Info "+dE.prettyPrint(eN.$0):eN.$==2?"Warning "+dE.prettyPrint(eN.$0):eN.$==1?"ErrorMsg "+dE.prettyPrint(eN.$0):"NoMsg";};dy.p$32=function(eN){return eN.$==8?"MsgGetModified "+dy.p$31(eN.$0):eN.$==7?"MsgSetValue ("+dE.prettyPrint(eN.$0)+", "+dE.prettyPrint(eN.$1)+")":eN.$==6?"MsgGetValue "+dE.prettyPrint(eN.$0):eN.$==5?"MsgGetUrl":eN.$==4?"MsgAction "+dE.printArray(dE.prettyPrint,eN.$0):eN.$==3?"MsgGetPredecessors "+dy.p$31(eN.$0):eN.$==2?"MsgGetCode "+dy.p$31(eN.$0):eN.$==1?"MsgGetSnippets "+dE.printArray(function(eO){return dy.p$31(eO);},eN.$0):"MsgGetId";};dy.p$31=function(eN){return eN.$==1?"RefSnippetPath "+dE.printArray(dE.prettyPrint,eN.$0):"RefSnippetId "+dy.p$2(eN.$0);};dw.j$9=function(){return dw._v$9?dw._v$9:dw._v$9=(et.EncodeUnion(void 0,"type",[["BRGetConnections",[]],["BRGetProcessId",[]]]))();};dy.p$33=function(eN){return eN.$==2?"BRString "+dE.prettyPrint(eN.$0):eN.$==1?"BRPid "+dE.prettyPrint(eN.$0):"BRConnections "+dE.printArray(dE.prettyPrint,eN.$0);};dB.j$7=function(){return dB._v$7?dB._v$7:dB._v$7=(et.DecodeUnion(void 0,"type",[["BRConnections",[["$0","Item",et.DecodeArray(et.Id()),0]]],["BRPid",[["$0","Item",et.Id(),0]]],["BRString",[["$0","Item",et.Id(),0]]]]))();};dB.j$8=function(){return dB._v$8?dB._v$8:dB._v$8=(et.DecodeUnion(void 0,"type",[["BMOk",[]],["BMOnlyBrokerShouldUse",[]],["BMDestinationNotFound",[["$0","Item",dB.j$1,0]]],["BMWebSocketError",[["$0","Item",et.Id(),0]]],["BMReceiverCantReply",[]],["BMUnexpectedMsgType",[["$0","Item",dB.j$2,0]]],["BMUnexpectedResponse",[["$0","Item",et.Id(),0]]]]))();};dy.p$36=function(eN){return eN.$==2?"Receiver":eN.$==1?"Broker":"NoReply";};dy.p$35=function(eN){return eN.$==5?"MsgRequestForEcho":eN.$==4?"MsgRequestForId":eN.$==3?"MsgFromBroker":eN.$==2?"MsgReply":eN.$==1?"MsgRequest":"MsgInformation";};dA.p$3=function(eN){return"{"+("from = "+dy.p$34(eN.from))+"; "+("destination = "+dy.p$34(eN.destination))+"; "+("msgType = "+dy.p$35(eN.msgType))+"; "+("subtype = "+dE.prettyPrint(eN.subtype))+"; "+("id = "+dE.prettyPrint(eN.id))+"; "+("payload = "+dE.prettyPrint(eN.payload))+"; "+("replier = "+dy.p$36(eN.replier))+"}";};dy.p$34=function(eN){return"Address "+dE.prettyPrint(eN.$0);};dy.p$37=function(eN){return eN.$==3?"Close":eN.$==2?"Open":eN.$==1?"Error":"Message "+dA.p$3(eN.$0);};dy.p$38=function(eN){return eN.$==6?"RMessages "+dE.printArray(function(eO){return dy.p$38(eO);},eN.$0):eN.$==5?"ExceptMsg ("+dE.prettyPrint(eN.$0)+", "+dE.prettyPrint(eN.$1)+")":eN.$==4?"Message "+dE.printArray(function(eO){return dy.p$39(eO);},eN.$0):eN.$==3?"Info "+dE.prettyPrint(eN.$0):eN.$==2?"Warning "+dE.prettyPrint(eN.$0):eN.$==1?"ErrorMsg "+dE.prettyPrint(eN.$0):"NoMsg";};dy.p$39=function(eN){return eN.$==17?"KMultiple "+dE.printArray(function(eO){return dy.p$39(eO);},eN.$0):eN.$==16?"KUnionCase "+dA.p$25(eN.$0):eN.$==15?"KNamespaces "+dA.p$22(eN.$0):eN.$==14?"KCompilerLocation "+dA.p$21(eN.$0):eN.$==13?"KSignatureData "+dA.p$19(eN.$0):eN.$==12?"KTypeSig "+dE.prettyPrint(eN.$0):eN.$==11?"KToolTip "+dE.printArray(function(eO){return dE.printArray(function(eP){return dA.p$6(eP);},eO);},eN.$0):eN.$==10?"KDeclarations "+dE.printArray(function(eO){return dA.p$17(eO);},eN.$0):eN.$==9?"KFindDecl "+dA.p$16(eN.$0):eN.$==8?"KColorizations "+dE.printList(function(eO){return dA.p$15(eO);},eN.$0):eN.$==7?"KErrors "+dA.p$13(eN.$0):eN.$==6?"KMethod "+dA.p$10(eN.$0):eN.$==5?"KHelp "+dE.prettyPrint(eN.$0):eN.$==4?"KSymbolUse "+dA.p$8(eN.$0):eN.$==3?"KCompletion "+dE.printArray(function(eO){return dA.p$7(eO);},eN.$0):eN.$==2?"KHelpText "+dA.p$5(eN.$0):eN.$==1?"KError "+dA.p$4(eN.$0):"KInfo "+dE.prettyPrint(eN.$0);};dA.p$25=function(eN){return"{"+("Text = "+dE.prettyPrint(eN.Text))+"}";};dA.p$24=function(eN){return"{"+("Name = "+dE.prettyPrint(eN.Name))+"; "+("Qualifier = "+dE.prettyPrint(eN.Qualifier))+"}";};dA.p$23=function(eN){return"{"+("Namespace = "+dE.prettyPrint(eN.Namespace))+"; "+("Name = "+dE.prettyPrint(eN.Name))+"; "+("Type = "+dE.prettyPrint(eN.Type))+"; "+("Line = "+dE.prettyPrint(eN.Line))+"; "+("Column = "+dE.prettyPrint(eN.Column))+"; "+("MultipleNames = "+dE.prettyPrint(eN.MultipleNames))+"}";};dA.p$21=function(eN){return"{"+("Fsc = "+dE.prettyPrint(eN.Fsc))+"; "+("Fsi = "+dE.prettyPrint(eN.Fsi))+"; "+("MSBuild = "+dE.prettyPrint(eN.MSBuild))+"}";};dA.p$19=function(eN){return"{"+("OutputType = "+dE.prettyPrint(eN.OutputType))+"; "+("Parameters = "+dE.printList(function(eO){return dE.printList(function(eP){return dA.p$20(eP);},eO);},eN.Parameters))+"}";};dA.p$22=function(eN){return"{"+("Opens = "+dE.printArray(function(eO){return dA.p$23(eO);},eN.Opens))+"; "+("Qualifies = "+dE.printArray(function(eO){return dA.p$24(eO);},eN.Qualifies))+"; "+("Word = "+dE.prettyPrint(eN.Word))+"}";};dA.p$20=function(eN){return"{"+("Name = "+dE.prettyPrint(eN.Name))+"; "+("Type = "+dE.prettyPrint(eN.Type))+"}";};dA.p$17=function(eN){return"{"+("Declaration = "+dA.p$18(eN.Declaration))+"; "+("Nested = "+dE.printArray(function(eO){return dA.p$18(eO);},eN.Nested))+"}";};dA.p$16=function(eN){return"{"+("File = "+dE.prettyPrint(eN.File))+"; "+("Line = "+dE.prettyPrint(eN.Line))+"; "+("Column = "+dE.prettyPrint(eN.Column))+"}";};dA.p$18=function(eN){return"{"+("UniqueName = "+dE.prettyPrint(eN.UniqueName))+"; "+("Name = "+dE.prettyPrint(eN.Name))+"; "+("Glyph = "+dE.prettyPrint(eN.Glyph))+"; "+("GlyphChar = "+dE.prettyPrint(eN.GlyphChar))+"; "+("IsTopLevel = "+dE.prettyPrint(eN.IsTopLevel))+"; "+("File = "+dE.prettyPrint(eN.File))+"; "+("EnclosingEntity = "+dE.prettyPrint(eN.EnclosingEntity))+"; "+("IsAbstract = "+dE.prettyPrint(eN.IsAbstract))+"}";};dA.p$15=function(eN){return"{"+("Kind = "+dE.prettyPrint(eN.Kind))+"}";};dA.p$13=function(eN){return"{"+("File = "+dE.prettyPrint(eN.File))+"; "+("Errors = "+dE.printArray(function(eO){return dA.p$14(eO);},eN.Errors))+"}";};dA.p$14=function(eN){return"{"+("FileName = "+dE.prettyPrint(eN.FileName))+"; "+("StartLine = "+dE.prettyPrint(eN.StartLine))+"; "+("EndLine = "+dE.prettyPrint(eN.EndLine))+"; "+("StartColumn = "+dE.prettyPrint(eN.StartColumn))+"; "+("EndColumn = "+dE.prettyPrint(eN.EndColumn))+"; "+("Severity = "+dE.prettyPrint(eN.Severity))+"; "+("Message = "+dE.prettyPrint(eN.Message))+"; "+("Subcategory = "+dE.prettyPrint(eN.Subcategory))+"}";};dA.p$10=function(eN){return"{"+("Name = "+dE.prettyPrint(eN.Name))+"; "+("CurrentParameter = "+dE.prettyPrint(eN.CurrentParameter))+"; "+("Overloads = "+dE.printList(function(eO){return dA.p$11(eO);},eN.Overloads))+"}";};dA.p$11=function(eN){return"{"+("Tip = "+dE.printList(function(eO){return dE.printList(function(eP){return dA.p$6(eP);},eO);},eN.Tip))+"; "+("TypeText = "+dE.prettyPrint(eN.TypeText))+"; "+("Parameters = "+dE.printList(function(eO){return dA.p$12(eO);},eN.Parameters))+"; "+("IsStaticArguments = "+dE.prettyPrint(eN.IsStaticArguments))+"}";};dA.p$12=function(eN){return"{"+("Name = "+dE.prettyPrint(eN.Name))+"; "+("CanonicalTypeTextForSorting = "+dE.prettyPrint(eN.CanonicalTypeTextForSorting))+"; "+("Display = "+dE.prettyPrint(eN.Display))+"; "+("Description = "+dE.prettyPrint(eN.Description))+"}";};dA.p$8=function(eN){return"{"+("Name = "+dE.prettyPrint(eN.Name))+"; "+("Uses = "+dE.printList(function(eO){return dA.p$9(eO);},eN.Uses))+"}";};dA.p$9=function(eN){return"{"+("FileName = "+dE.prettyPrint(eN.FileName))+"; "+("StartLine = "+dE.prettyPrint(eN.StartLine))+"; "+("StartColumn = "+dE.prettyPrint(eN.StartColumn))+"; "+("EndLine = "+dE.prettyPrint(eN.EndLine))+"; "+("EndColumn = "+dE.prettyPrint(eN.EndColumn))+"; "+("IsFromDefinition = "+dE.prettyPrint(eN.IsFromDefinition))+"; "+("IsFromAttribute = "+dE.prettyPrint(eN.IsFromAttribute))+"; "+("IsFromComputationExpression = "+dE.prettyPrint(eN.IsFromComputationExpression))+"; "+("IsFromDispatchSlotImplementation = "+dE.prettyPrint(eN.IsFromDispatchSlotImplementation))+"; "+("IsFromPattern = "+dE.prettyPrint(eN.IsFromPattern))+"; "+("IsFromType = "+dE.prettyPrint(eN.IsFromType))+"}";};dA.p$7=function(eN){return"{"+("Name = "+dE.prettyPrint(eN.Name))+"; "+("ReplacementText = "+dE.prettyPrint(eN.ReplacementText))+"; "+("Glyph = "+dE.prettyPrint(eN.Glyph))+"; "+("GlyphChar = "+dE.prettyPrint(eN.GlyphChar))+"}";};dA.p$5=function(eN){return"{"+("Name = "+dE.prettyPrint(eN.Name))+"; "+("Overloads = "+dE.printList(function(eO){return dE.printList(function(eP){return dA.p$6(eP);},eO);},eN.Overloads))+"}";};dA.p$6=function(eN){return"{"+("Signature = "+dE.prettyPrint(eN.Signature))+"; "+("Comment = "+dE.prettyPrint(eN.Comment))+"; "+("Footer = "+dE.prettyPrint(eN.Footer))+"}";};dA.p$4=function(eN){return"{"+("Code = "+dE.prettyPrint(eN.Code))+"; "+("Message = "+dE.prettyPrint(eN.Message))+"}";};dw.j$1=function(){return dw._v$1?dw._v$1:dw._v$1=(et.EncodeUnion(co,"$",[[0,[["$0","address",et.Id(),0]]]]))();};dw.j$2=function(){return dw._v$2?dw._v$2:dw._v$2=(et.EncodeUnion(void 0,"type",[["MsgInformation",[]],["MsgRequest",[]],["MsgReply",[]],["MsgFromBroker",[]],["MsgRequestForId",[]],["MsgRequestForEcho",[]]]))();};dw.j$3=function(){return dw._v$3?dw._v$3:dw._v$3=(et.EncodeUnion(void 0,"type",[["NoReply",[]],["Broker",[]],["Receiver",[]]]))();};dw.j=function(){return dw._v?dw._v:dw._v=(et.EncodeRecord(void 0,[["from",dw.j$1,0],["destination",dw.j$1,0],["msgType",dw.j$2,0],["subtype",et.Id(),0],["id",et.Id(),0],["payload",et.Id(),0],["replier",dw.j$3,0]]))();};dB.j$1=function(){return dB._v$1?dB._v$1:dB._v$1=(et.DecodeUnion(co,"$",[[0,[["$0","address",et.Id(),0]]]]))();};dB.j$2=function(){return dB._v$2?dB._v$2:dB._v$2=(et.DecodeUnion(void 0,"type",[["MsgInformation",[]],["MsgRequest",[]],["MsgReply",[]],["MsgFromBroker",[]],["MsgRequestForId",[]],["MsgRequestForEcho",[]]]))();};dB.j$3=function(){return dB._v$3?dB._v$3:dB._v$3=(et.DecodeUnion(void 0,"type",[["NoReply",[]],["Broker",[]],["Receiver",[]]]))();};dB.j=function(){return dB._v?dB._v:dB._v=(et.DecodeRecord(void 0,[["from",dB.j$1,0],["destination",dB.j$1,0],["msgType",dB.j$2,0],["subtype",et.Id(),0],["id",et.Id(),0],["payload",et.Id(),0],["replier",dB.j$3,0]]))();};}());

//# sourceMappingURL=FSharpStation.min.map