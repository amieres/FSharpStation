(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6;a=self;b=a.FsRoot=a.FsRoot||{};c=b.Library=b.Library||{};d=c.ResultMessage=c.ResultMessage||{};e=c.ResultMessageHelpers=c.ResultMessageHelpers||{};f=c.Monads=c.Monads||{};g=f.Seq=f.Seq||{};h=f.Option=f.Option||{};i=f.Async=f.Async||{};j=a.WebSharper;k=j&&j.Obj;l=f.Result=f.Result||{};m=l.Builder=l.Builder||{};n=l.Operators=l.Operators||{};o=l.BuilderP=l.BuilderP||{};p=f.FusionM=f.FusionM||{};q=p.Operators=p.Operators||{};r=p.Builder=p.Builder||{};s=r.Builder=r.Builder||{};t=f.FusionAsyncM=f.FusionAsyncM||{};u=t.Operators=t.Operators||{};v=t.Builder=t.Builder||{};w=v.Builder=v.Builder||{};x=f.ResultM=f.ResultM||{};y=x.Builder=x.Builder||{};z=x.Operators=x.Operators||{};A=f.ResultMAutoOpen=f.ResultMAutoOpen||{};B=f.AsyncResult=f.AsyncResult||{};C=f.AsyncResultBuilder=f.AsyncResultBuilder||{};D=f.AsyncResultBuilderP=f.AsyncResultBuilderP||{};E=f.Extensions=f.Extensions||{};F=f.AsyncResultM=f.AsyncResultM||{};G=F.AsyncResultMBuilder=F.AsyncResultMBuilder||{};H=F.Operators=F.Operators||{};I=f.AsyncResultMAutoOpen=f.AsyncResultMAutoOpen||{};J=c.String=c.String||{};K=c.ParseO=c.ParseO||{};L=c.MailboxProcessorExt=c.MailboxProcessorExt||{};M=c.Mailbox=c.Mailbox||{};N=M.StateFull=M.StateFull||{};O=c.ResourceAgentState=c.ResourceAgentState||{};P=c.ResourceAgent=c.ResourceAgent||{};Q=c.AgentReaderM=c.AgentReaderM||{};R=c.CommArgRoot=c.CommArgRoot||{};S=R.CommArg=R.CommArg||{};T=R.CommArgCollection=R.CommArgCollection||{};U=R.TypedCommArg=R.TypedCommArg||{};V=R.CommArgModule=R.CommArgModule||{};W=c.FsCodeModule=c.FsCodeModule||{};X=W.PreproDirective=W.PreproDirective||{};Y=W.PrepState=W.PrepState||{};Z=c.SnippetId=c.SnippetId||{};_0=c.Snippet=c.Snippet||{};_1=c.SnippetCollection=c.SnippetCollection||{};_2=c.SnippetModule=c.SnippetModule||{};_3=c.Hole=c.Hole||{};_4=c.TreeReader=c.TreeReader||{};_5=_4.Node=_4.Node||{};_6=b.LibraryJS=b.LibraryJS||{};_7=_6.Promise=_6.Promise||{};_8=_6.PromiseM=_6.PromiseM||{};_9=_6.View=_6.View||{};_=_6.Pojo=_6.Pojo||{};$=_6.GenEditor=_6.GenEditor||{};ba=$.Position=$.Position||{};bb=$.AnnotationType=$.AnnotationType||{};bc=$.Annotation=$.Annotation||{};bd=$.Completion=$.Completion||{};be=$.GenEditorHook=$.GenEditorHook||{};bf=$.GenEditor=$.GenEditor||{};bg=_6.Serializer=_6.Serializer||{};bh=_6.REGEX=_6.REGEX||{};bi=_6.Hoverable=_6.Hoverable||{};bj=bi.Hoverable=bi.Hoverable||{};bk=_6.ResizeObserver=_6.ResizeObserver||{};bl=_6.WebComponent=_6.WebComponent||{};bm=bl.WcTabStrip=bl.WcTabStrip||{};bn=bm.WcTabStripT=bm.WcTabStripT||{};bo=bl.WcSplitter=bl.WcSplitter||{};bp=bo.WcSplitterT=bo.WcSplitterT||{};bq=_6.Monaco=_6.Monaco||{};br=bq.Position=bq.Position||{};bs=bq.Range=bq.Range||{};bt=bq.Uri=bq.Uri||{};bu=bq.Location=bq.Location||{};bv=bq.FindMatch=bq.FindMatch||{};bw=bq.WordAtPosition=bq.WordAtPosition||{};bx=bq.Model=bq.Model||{};by=bq.MarkDownString=bq.MarkDownString||{};bz=bq.MarkerData=bq.MarkerData||{};bA=bq.CompletionItem=bq.CompletionItem||{};bB=bq.Hover=bq.Hover||{};bC=bq.Editor=bq.Editor||{};bD=bq.MonacoConfig=bq.MonacoConfig||{};bE=_6.MonacoGenAdapter=_6.MonacoGenAdapter||{};bF=bE.MonacoRT=bE.MonacoRT||{};bG=bE.CompletionItemProvider=bE.CompletionItemProvider||{};bH=bE.HoverProvider=bE.HoverProvider||{};bI=bE.DefinitionProvider=bE.DefinitionProvider||{};bJ=b.Library2=b.Library2||{};bK=bJ.FsiAgent=bJ.FsiAgent||{};bL=bJ.WebSockets=bJ.WebSockets||{};bM=bL.Address=bL.Address||{};bN=bL.BrokerRequest=bL.BrokerRequest||{};bO=bL.MessageType=bL.MessageType||{};bP=bL.BrokerMessage=bL.BrokerMessage||{};bQ=bL.Replier=bL.Replier||{};bR=bL.MessageGeneric=bL.MessageGeneric||{};bS=bL.ClientTypeFSharp=bL.ClientTypeFSharp||{};bT=bL.ClientTypeFSStation=bL.ClientTypeFSStation||{};bU=bL.ClientTypeJScript=bL.ClientTypeJScript||{};bV=bL.ReplyHandler=bL.ReplyHandler||{};bW=bV.Handler=bV.Handler||{};bX=bL.WSMessagingClient=bL.WSMessagingClient||{};bY=bJ.FSMessage=bJ.FSMessage||{};bZ=bJ.FsAutoComplete=bJ.FsAutoComplete||{};b0=bZ.CommTypes=bZ.CommTypes||{};b1=b0.ResponseError=b0.ResponseError||{};b2=b0.Location=b0.Location||{};b3=b0.CompletionResponse=b0.CompletionResponse||{};b4=b0.OverloadDescription=b0.OverloadDescription||{};b5=b0.OverloadParameter=b0.OverloadParameter||{};b6=b0.Overload=b0.Overload||{};b7=b0.Parameter=b0.Parameter||{};b8=b0.SignatureData=b0.SignatureData||{};b9=b0.MethodResponse=b0.MethodResponse||{};b_=b0.SymbolUseRange=b0.SymbolUseRange||{};b$=b0.SymbolUseResponse=b0.SymbolUseResponse||{};ca=b0.HelpTextResponse=b0.HelpTextResponse||{};cb=b0.CompilerLocationResponse=b0.CompilerLocationResponse||{};cc=b0.FSharpErrorInfo=b0.FSharpErrorInfo||{};cd=b0.ErrorResponse=b0.ErrorResponse||{};ce=b0.Colorization=b0.Colorization||{};cf=b0.Declaration=b0.Declaration||{};cg=b0.DeclarationResponse=b0.DeclarationResponse||{};ch=b0.OpenNamespace=b0.OpenNamespace||{};ci=b0.QualifySymbol=b0.QualifySymbol||{};cj=b0.ResolveNamespaceResponse=b0.ResolveNamespaceResponse||{};ck=b0.UnionCaseResponse=b0.UnionCaseResponse||{};cl=bZ.MsgTypes=bZ.MsgTypes||{};cm=cl.ParseRequest=cl.ParseRequest||{};cn=cl.DeclarationsRequest=cl.DeclarationsRequest||{};co=cl.CompletionRequest=cl.CompletionRequest||{};cp=cl.PositionRequest=cl.PositionRequest||{};cq=cl.ProjectRequest=cl.ProjectRequest||{};cr=cl.LintRequest=cl.LintRequest||{};cs=cl.HelptextRequest=cl.HelptextRequest||{};ct=cl.WorkspacePeekRequest=cl.WorkspacePeekRequest||{};cu=bZ.Calls=bZ.Calls||{};cv=b.FSharpStation=b.FSharpStation||{};cw=cv.FStation=cv.FStation||{};cx=cv.Snippets=cv.Snippets||{};cy=cv.DragDrop=cv.DragDrop||{};cz=cy.DragInfo=cy.DragInfo||{};cA=cv.Templating=cv.Templating||{};cB=cv.RenderSnippets=cv.RenderSnippets||{};cC=cv.RenderProperties=cv.RenderProperties||{};cD=cv.Monaco=cv.Monaco||{};cE=cD.HoverProvider=cD.HoverProvider||{};cF=cD.CompletionItemProvider=cD.CompletionItemProvider||{};cG=cD.DefinitionProvider=cD.DefinitionProvider||{};cH=cD.MonacoOptions=cD.MonacoOptions||{};cI=cD.ITextModelService=cD.ITextModelService||{};cJ=cv.JumpTo=cv.JumpTo||{};cK=cv.CustomAction=cv.CustomAction||{};cL=cv.Serializer=cv.Serializer||{};cM=cL.Model=cL.Model||{};cN=cv.LoadSave=cv.LoadSave||{};cO=cv.Importer=cv.Importer||{};cP=cv.MainProgram=cv.MainProgram||{};cQ=cP.EndPoint=cP.EndPoint||{};cR=cv.Messaging=cv.Messaging||{};cS=cv.Server=cv.Server||{};cT=a.StartupCode$FSharpStation$FSharpStation=a.StartupCode$FSharpStation$FSharpStation||{};cU=a.FSharpStation_JsonEncoder=a.FSharpStation_JsonEncoder||{};cV=a.FSharpStation_JsonDecoder=a.FSharpStation_JsonDecoder||{};cW=a.FSharpStation_GeneratedPrintf=a.FSharpStation_GeneratedPrintf||{};cX=a.FSharpStation_Router=a.FSharpStation_Router||{};cY=a.FSharpStation_Templates=a.FSharpStation_Templates||{};cZ=a.GeneratedPrintf=a.GeneratedPrintf||{};c0=a.IntelliFactory;c1=c0&&c0.Runtime;c2=j&&j.Utils;c3=j&&j.Strings;c4=j&&j.Seq;c5=j&&j.List;c6=j&&j.Arrays;c7=j&&j.Concurrency;c8=j&&j.Enumerator;c9=j&&j.Result;c_=j&&j.Operators;c$=j&&j.Unchecked;da=j&&j.Slice;db=j&&j.Control;dc=db&&db.MailboxProcessor;dd=a.System;de=dd&&dd.Guid;df=j&&j.Collections;dg=df&&df.FSharpSet;dh=j&&j.Option;di=a.Date;dj=j&&j.Char;dk=j&&j.CancellationTokenSource;dl=a.console;dm=j&&j.UI;dn=dm&&dm.View;_do=dm&&dm.Var$1;dp=df&&df.FSharpMap;dq=df&&df.BalancedTree;dr=dm&&dm.DomUtility;ds=dm&&dm.Doc;dt=dm&&dm.AttrModule;du=dm&&dm.AttrProxy;dv=a.Node;dw=dm&&dm.Client;dx=dw&&dw.Templates;dy=a.Reflect;dz=a.Object;dA=df&&df.Map;dB=a.JSON;dC=j&&j.TimeoutException;dD=j&&j.ClientSideJson;dE=dD&&dD.Provider;dF=j&&j.Owin;dG=dF&&dF.WebSocket;dH=dG&&dG.Client;dI=dH&&dH.WithEncoding;dJ=dG&&dG.Endpoint;dK=a.location;dL=j&&j.Remoting;dM=dL&&dL.AjaxRemotingProvider;dN=dm&&dm.FromView;dO=dm&&dm.Templating;dP=dO&&dO.Runtime;dQ=dP&&dP.Server;dR=dQ&&dQ.ProviderBuilder;dS=dQ&&dQ.Handler;dT=dQ&&dQ.TemplateInstance;dU=j&&j.JavaScript;dV=dU&&dU.Promise;dW=_6&&_6.AppFramework;dX=dW&&dW.PlugIn;dY=j&&j.Lazy;dZ=_6&&_6.LayoutEngineModule;d0=j&&j.DateUtil;d1=j&&j.Numeric;d2=dm&&dm.ListModel;d3=df&&df.Dictionary;d4=dm&&dm.Router;d5=j&&j.Sitelets;d6=d5&&d5.RouterOperators;d=c.ResultMessage=c1.Class({toString:function(){return this.$==1?(function(d7){return function(d8){return d7("Error    : "+c2.toSafe(d8));};}(a.id))(this.$0):this.$==2?(function(d7){return function(d8){return d7("Warning  : "+c2.toSafe(d8));};}(a.id))(this.$0):this.$==3?this.$0:this.$==4?(function(d7){return function(d8){return d7(a.String(d8));};}(a.id))(this.$0):this.$==5?(((c1.Curried3(function(d7,d8,d9){return d7("Exception: "+c2.toSafe(d8)+", "+c2.toSafe(d9));}))(a.id))(this.$0))(this.$1):this.$==6?c3.concat("\n",c4.map(a.String,c4.filter(function(d7){return d7.$!=0;},this.$0))):"";}},null,d);d.NoMsg=new d({$:0});e.infof=function(d7){return d7(function(d8){return new d({$:3,$0:d8});});};e.warningf=function(d7){return d7(function(d8){return new d({$:2,$0:d8});});};e.errorMsgf=function(d7){return d7(function(d8){return new d({$:1,$0:d8});});};d.summarizedI=function(d7){return d.summarizedF(function(){return[0,0,1];},d7);};d.summarizedW=function(d7){return d.summarizedF(function(){return[0,1,0];},d7);};d.summarized=function(d7){return d.summarizedF(function(){return[1,0,0];},d7);};d.summarizedF=function(d7,d8){return c3.concat("\n",c4.filter(function(d9){return""!==d9;},c5.ofArray([a.String(d8),d.summaryF(d7,d8)])));};d.summaryF=function(d7,d8){var d9,d_;d_=d.countF(d7,d8);switch(d_[0]===0?d_[1]===0?0:d_[1]===1?d_[2]===0?0:(d9=d_[1],2):(d9=d_[1],2):d_[0]===1?d_[1]===0?d_[2]===0?0:(d9=d_[0],1):(d9=[d_[0],d_[1]],3):d_[1]===0?(d9=d_[0],1):(d9=[d_[0],d_[1]],3)){case 0:return"";case 1:return(function(d$){return function(ea){return d$("Errors   : "+a.String(ea)+"\n");};}(a.id))(d9);case 2:return(function(d$){return function(ea){return d$("Warnings : "+a.String(ea)+"\n");};}(a.id))(d9);case 3:return(((c1.Curried3(function(d$,ea,eb){return d$("Errors   : "+a.String(ea)+", Warnings: "+a.String(eb)+"\n");}))(a.id))(d9[0]))(d9[1]);}};d.reduceMsgs=function(d7){return c4.fold(d.addMsg,d.NoMsg,d7);};d.addMsg=function(d7,d8){return d7.$==0?d8:d7.$==6?d8.$==0?d7:d8.$==6?new d({$:6,$0:d7.$0.concat(d8.$0)}):new d({$:6,$0:d7.$0.concat([d8])}):d8.$==0?d7:d8.$==6?new d({$:6,$0:[d7].concat(d8.$0)}):new d({$:6,$0:[d7,d8]});};d.countI=function(d7){return d.countF(function(){return[0,0,1];},d7);};d.countW=function(d7){return d.countF(function(){return[0,1,0];},d7);};d.count=function(d7){return d.countF(function(){return[1,0,0];},d7);};d.countF=function(d7,d8){function d9(d_,d$,ea){return function(eb){return[d_+eb[0],d$+eb[1],ea+eb[2]];};}return d8.$==0?[0,0,0]:d8.$==3?[0,0,1]:d8.$==2?[0,1,0]:d8.$==4?d7(d8.$0):d8.$==6?c4.fold(function(d_,d$){return(function(ea){return d9(ea[0],ea[1],ea[2]);}(d_))(d$);},[0,0,0],c4.map(function(d_){return d.countF(d7,d_);},d.exclnoMsg(d8.$0))):[1,0,0];};d.isFatalW=function(d7){return d.isFatalF(function(){return false;},d7);};d.isFatal=function(d7){return d.isFatalF(function(){return true;},d7);};d.isFatalF=function(d7,d8){return d8.$==0?false:d8.$==3?false:d8.$==2?false:d8.$==4?d7(d8.$0):d8.$==6?c4.exists(function(d9){return d.isFatalF(d7,d9);},d8.$0):true;};d.isWarningOrInfoW=function(d7){return d.isWarningOrInfoF(function(){return true;},d7);};d.isWarningOrInfo=function(d7){return d.isWarningOrInfoF(function(){return false;},d7);};d.isWarningOrInfoF=function(d7,d8){return d8.$==2||(d8.$==4?d7(d8.$0):d8.$==6&&c4.forall(function(d9){return d.isWarningOrInfoF(d7,d9)||d.isInfoF(d7,d9);},d.exclnoMsg(d8.$0)));};d.isInfoI=function(d7){return d.isInfoF(function(){return true;},d7);};d.isInfo=function(d7){return d.isInfoF(function(){return false;},d7);};d.isInfoF=function(d7,d8){return d8.$==3||(d8.$==4?d7(d8.$0):d8.$==6&&c4.forall(function(d9){return d.isInfoF(d7,d9);},d.exclnoMsg(d8.$0)));};d.freeMessageI=function(d7){var d8;function d9(d_){return new d({$:3,$0:d_});}return d.freeMessageF((d8=function(d_){return function(d$){return d_(a.String(d$));};}(a.id),function(d_){return d9(d8(d_));}),d7);};d.freeMessageW=function(d7){var d8;function d9(d_){return new d({$:2,$0:d_});}return d.freeMessageF((d8=function(d_){return function(d$){return d_(a.String(d$));};}(a.id),function(d_){return d9(d8(d_));}),d7);};d.freeMessage=function(d7){var d8;function d9(d_){return new d({$:1,$0:d_});}return d.freeMessageF((d8=function(d_){return function(d$){return d_(a.String(d$));};}(a.id),function(d_){return d9(d8(d_));}),d7);};d.freeMessageF=function(d7,d8){return d.bindMessage(d7,d8);};d.bindMessage=function(d7,d8){return d8.$==4?d7(d8.$0):d8.$==1?new d({$:1,$0:d8.$0}):d8.$==3?new d({$:3,$0:d8.$0}):d8.$==2?new d({$:2,$0:d8.$0}):d8.$==5?new d({$:5,$0:d8.$0,$1:d8.$1}):d8.$==6?new d({$:6,$0:c6.map(function(d9){return d.bindMessage(d7,d9);},d8.$0)}):d.NoMsg;};d.exclnoMsg=function(d7){function d8(d9){return!d9;}return c4.filter(function(d9){return d8(d.noMsg(d9));},d7);};d.noMsg=function(d7){return d7.$==0;};g.ofOption=function(d7){return d7==null?[]:[d7.$0];};g.absorbR=function(d7){return c4.choose(function(d8){return d8.$==0?{$:1,$0:d8.$0}:null;},d7);};g.absorbO=function(d7){return c4.choose(a.id,d7);};g.insertR=function(d7){return d7.$==0?c4.map(function(d8){return{$:0,$0:d8};},d7.$0):(g.rtn())(c.Error$1(d7.$0));};g.insertO=function(d7){var d8;d8=d7==null?null:{$:1,$0:c4.map(function(d9){return{$:1,$0:d9};},d7.$0)};return d8==null?(g.rtn())(null):d8.$0;};g.rtn=function(){cT.$cctor();return cT.rtn;};h.absorbR=function(d7){var d8,d9;return d7!=null&&d7.$==1&&(d9=d7.$0,d9.$==0&&(d8=d9.$0,true))?{$:1,$0:d8}:null;};h.insertR=function(d7){var d8;return d7.$==0?(d8=d7.$0,d8==null?null:{$:1,$0:{$:0,$0:d8.$0}}):h.rtn(c.Error$1(d7.$0));};h.sequenceSeq=function(d7){return h.traverseSeq(a.id,d7);};h.traverseSeq=function(d7,d8){var d9;d9=c6.foldBack(function(d_,d$){return h.op_GreaterGreaterEquals(d7(d_),function(ea){return h.op_GreaterGreaterEquals(d$,function(eb){return h.rtn(new c5.T({$:1,$0:ea,$1:eb}));});});},c6.ofSeq(d8),h.rtn(c5.T.Empty));return d9==null?null:{$:1,$0:d9.$0};};h.op_GreaterGreaterEquals=function(d7,d8){return d7==null?null:d8(d7.$0);};h.bindNone=function(d7,d8){return d8!=null&&d8.$==1?{$:1,$0:d8.$0}:d7();};h.mapNone=function(d7,d8){return d8==null?d7():d8.$0;};h.apply=function(d7,d8){var d9;return d7!=null&&d7.$==1&&(d8!=null&&d8.$==1&&(d9=[d7.$0,d8.$0],true))?{$:1,$0:d9[0](d9[1])}:null;};h.join=function(d7){return d7==null?null:d7.$0;};h.iter=function(d7){function d8(d_){return d_==null?null:{$:1,$0:d7(d_.$0)};}function d9(d_){if(d_==null);}return function(d_){return d9(d8(d_));};};h.rtn=function(d7){return{$:1,$0:d7};};i.insertR=function(d7){function d8(d_){return{$:0,$0:d_};}function d9(d_){return c7.Return(d_);}return d7.$==0?c7.Bind(d7.$0,function(d_){return d9(d8(d_));}):c7.Return(c.Error$1(d7.$0));};i.insertO=function(d7){var d8;function d9(d$){return{$:1,$0:d$};}function d_(d$){return c7.Return(d$);}d8=d7==null?null:{$:1,$0:c7.Bind(d7.$0,function(d$){return d_(d9(d$));})};return d8==null?c7.Return(null):d8.$0;};i.sequenceSeq=function(d7){return i.traverseSeq(a.id,d7);};i.traverseSeq=function(d7,d8){function d9(d_){return c7.Return(d_);}return c7.Bind(c6.foldBack(function(d_,d$){return i.op_GreaterGreaterEquals(d7(d_),function(ea){return i.op_GreaterGreaterEquals(d$,function(eb){return c7.Return(new c5.T({$:1,$0:ea,$1:eb}));});});},c6.ofSeq(d8),c7.Return(c5.T.Empty)),function(d_){return d9(a.id(d_));});};i.op_GreaterGreaterEquals=function(d7,d8){return c7.Bind(d7,d8);};i.sleepThen=function(d7,d8){var d9;d9=null;return c7.Delay(function(){return c7.Bind(c7.Sleep(d8),function(){return c7.Return(d7());});});};i.apply=function(d7,d8){var d9;d9=null;return c7.Delay(function(){return c7.Bind(c7.StartChild(d7,null),function(d_){return c7.Bind(c7.StartChild(d8,null),function(d$){return c7.Bind(d_,function(ea){return c7.Bind(d$,function(eb){return c7.Return(ea(eb));});});});});});};m=l.Builder=c1.Class({For:function(d7,d8){var d9;d9=this;return this.Using(c8.Get(d7),function(d_){return d9.While(function(){return d_.MoveNext();},d9.Delay(function(){return d8(d_.Current());}));});},While:function(d7,d8){function d9(d_,d$){return d_()?c9.Bind(function(){return d9(d_,d$);},d$()):l.rtn();}return d9(d7,d8);},Using:function(d7,d8){try{return d8(d7);}finally{d7.Dispose();}},TryFinally:function(d7,d8){try{return d7();}finally{d8();}},TryWith:function(d7,d8){try{return d7();}catch(d9){return d8(d9);}},Run:function(d7){return c9.Bind(d7,{$:0,$0:null});},Combine:function(d7,d8){return c9.Bind(d8,d7);},Delay:a.id,Zero:function(){return l.rtn();},Bind:function(d7,d8){return c9.Bind(d8,d7);},ReturnFrom:a.id,Return:function(d7){return l.rtn(d7);}},k,m);m.New=c1.Ctor(function(){k.New.call(this);},m);n.result=function(){cT.$cctor();return cT.result$1;};n.rtn=function(d7){return l.rtn(d7);};n.op_GreaterEqualsGreater=function(d7,d8,d9){return n.op_GreaterGreaterEquals(d7(d9),d8);};n.op_RightShift=function(d7,d8,d9){return n.op_BarGreaterGreater(d7(d9),d8);};n.op_GreaterGreaterEquals=function(d7,d8){return c9.Bind(d8,d7);};n.op_BarGreaterGreater=function(d7,d8){return c9.Map(d8,d7);};o=l.BuilderP=c1.Class({For:function(d7,d8){var d9;d9=this;return this.Using(c8.Get(d7),function(d_){return d9.While(function(){return d_.MoveNext();},d9.Delay(function(){return d8(d_.Current());}));});},While:function(d7,d8){function d9(d_,d$){return d_()?c9.Bind(function(){return d9(d_,d$);},d$()):l.rtn();}return d9(d7,d8);},Using:function(d7,d8){try{return d8(d7);}finally{d7.Dispose();}},TryFinally:function(d7,d8){try{return d7();}finally{d8();}},TryWith:function(d7,d8){try{return d7();}catch(d9){return d8(d9);}},Run:function(d7){return l.bindP(d7,{$:0,$0:null});},Combine:function(d7,d8){return c9.Bind(d8,d7);},Delay:a.id,Zero:function(){return l.rtn();},Bind:function(d7,d8){return c9.Bind(d8,d7);},ReturnFrom:a.id,Return:function(d7){return l.rtn(d7);}},k,o);o.New=c1.Ctor(function(){k.New.call(this);},o);l.resultP=function(){cT.$cctor();return cT.resultP;};l.iterP=function(d7,d8,d9){l.defaultWith(d7,l.mapP(d8,d9));};l.mapP=function(d7,d8){return l.bindP(function(d9){return l.rtn(d7(d9));},d8);};l.bindP=function(d7,d8){if(d8.$==1)return c.Error$1(d8.$0);else try{return d7(d8.$0);}catch(d9){return c.Error$1(new d({$:5,$0:d9.message,$1:d9.stack}));}};l.freeMessage=function(d7){return d7.$==1?c.Error$1(d.freeMessage(d7.$0)):{$:0,$0:d7.$0};};l.result=function(){cT.$cctor();return cT.result;};l.sequenceSeq=function(d7){return l.traverseSeq(a.id,d7);};l.traverseSeq=function(d7,d8){return c9.Map(a.id,c6.foldBack(function(d9,d_){return l.op_GreaterGreaterEquals(d7(d9),function(d$){return l.op_GreaterGreaterEquals(d_,function(ea){return l.rtn(new c5.T({$:1,$0:d$,$1:ea}));});});},c6.ofSeq(d8),l.rtn(c5.T.Empty)));};l.op_GreaterGreaterEquals=function(d7,d8){return c9.Bind(d8,d7);};l.absorbO=function(d7,d8){return c9.Bind(function(d9){return l.ofOption(d7,d9);},d8);};l.insertO=function(d7){var d8;d8=d7==null?null:{$:1,$0:c9.Map(function(d9){return{$:1,$0:d9};},d7.$0)};return d8==null?{$:0,$0:null}:d8.$0;};l.ofOption=function(d7,d8){var d9;d9=d8==null?null:{$:1,$0:{$:0,$0:d8.$0}};return d9==null?function(d_){return c.Error$1(d7(d_));}():d9.$0;};l.get=function(d7){return l.defaultWith(function(d8){return c_.FailWith(a.String(d8));},d7);};l.iter=function(d7,d8,d9){l.defaultWith(d7,c9.Map(d8,d9));};l.failIfFalse=function(d7,d8){return!d8?c.Error$1(d7):{$:0,$0:null};};l.failIfTrue=function(d7,d8){return d8?c.Error$1(d7):{$:0,$0:null};};l.defaultValue=function(d7,d8){return d8.$==1?d7:d8.$0;};l.defaultWith=function(d7,d8){return d8.$==1?d7(d8.$0):d8.$0;};l.toOption=function(d7){return d7.$==0?{$:1,$0:d7.$0}:null;};l.flatten=function(d7){return c9.Bind(a.id,d7);};l.join=function(d7){return c9.Bind(a.id,d7);};l.rtn=function(d7){return{$:0,$0:d7};};l.errorf=function(d7){return d7(c.Error$1);};q.rtn=function(d7){return p.rtn(d7);};q.op_GreaterEqualsGreater=function(d7,d8,d9){return q.op_GreaterGreaterEquals(d7(d9),d8);};q.op_RightShift=function(d7,d8,d9){return q.op_BarGreaterGreater(d7(d9),d8);};q.op_GreaterGreaterEquals=function(d7,d8){return p.bind(d8,d7);};q.op_BarGreaterGreater=function(d7,d8){return p.map(d8,d7);};q.op_LessMultiplyGreater=function(d7,d8){return p.apply(d7,d8);};s=r.Builder=c1.Class({For:function(d7,d8){var d9;d9=this;return this.Using(c8.Get(d7),function(d_){return d9.While(function(){return d_.MoveNext();},d9.Delay(function(){return d8(d_.Current());}));});},Using:function(d7,d8){return this.TryFinally(function(){return d8(d7);},function(){if(!c$.Equals(d7,null))d7.Dispose();});},TryFinally:function(d7,d8){return p.wrap(function(d9){try{return(p.getFun(d7()))(d9);}finally{d8();}});},TryWith:function(d7,d8){return p.wrap(function(d9){try{return(p.getFun(d7()))(d9);}catch(d_){return d8(d_);}});},While:function(d7,d8){function d9(d_,d$){return d_()?p.bind(function(){return d9(d_,d$);},d$()):p.rtn();}return d9(d7,d8);},Run:function(d7){return p.wrap(function(d8){return(p.getFun(d7()))(d8);});},Combine:function(d7,d8){return p.bind(d8,d7);},Delay:a.id,Zero:function(){return p.rtn();},Bind:function(d7,d8){return p.bind(d8,d7);},ReturnFrom:function(d7){return p.from(d7);},Return:function(d7){return p.rtn(d7);}},k,s);s.New=c1.Ctor(function(){k.New.call(this);},s);p.fusion=function(){cT.$cctor();return cT.fusion;};p.absorbO=function(d7,d8){return p.absorbR(p.map(function(d9){return l.ofOption(d7,d9);},d8));};p.absorbR=function(d7){return p.bind(p.ofResultRM,d7);};p.insertSnd=function(d7,d8){return p.map(function(d9){return[d9,d8];},d7);};p.insertFst=function(d7,d8){return p.map(function(d9){return[d7,d9];},d8);};p.insertR=function(d7){return d7.$==0?p.map(function(d8){return{$:0,$0:d8};},d7.$0):p.rtn(c.Error$1(d7.$0));};p.insertO=function(d7){var d8;d8=d7==null?null:{$:1,$0:p.map(function(d9){return{$:1,$0:d9};},d7.$0)};return d8==null?p.rtn(null):d8.$0;};p.iterResultPrint=function(d7){function d8(d9){c.print$1(d9);}p.iterReader(function(d9){return d8(d.summarized(d9));},function(d9){c.print$1(d9);},null,d7);};p.iterResult=function(d7,d8,d9){p.iterReader(d7,d8,null,d9);};p.runResult=function(d7){return p.runReader(null,d7);};p.runReader=function(d7,d8){var d9,d_,d$;d9=p.run(d7,d8);d_=d9[2];return l.ofOption(function(){return d_;},(d$=d9[0],d$==null?null:{$:1,$0:[d$.$0,d_]}));};p.mapReader=function(d7,d8){return p.mapState(function(){return d7;},a.id,d8);};p.readerFun=function(d7){return p.map(d7,p.getS());};p.sequenceSeq=function(d7){return p.traverseSeq(a.id,d7);};p.traverseSeq=function(d7,d8){return p.map(a.id,c6.foldBack(function(d9,d_){return p.op_GreaterGreaterEquals(d7(d9),function(d$){return p.op_GreaterGreaterEquals(d_,function(ea){return p.rtn(new c5.T({$:1,$0:d$,$1:ea}));});});},c6.ofSeq(d8),p.rtn(c5.T.Empty)));};p.op_GreaterGreaterEquals=function(d7,d8){return p.bind(d8,d7);};p.apply=function(d7,d8){return p.bind(function(d9){return p.map(d9,d8);},d7);};p.memoizeRm=function(d7,d8,d9){return{$:0,$0:function(d_){var d$,ea,eb,ec,ed;function ee(ef,eg){return(eb(ef))(function(){return eg;});}d$=d_[0];ea=d7(d$);eb=ea[1];return p.run(d$,(ec=(ed=ea[0](d9),ed==null?null:{$:1,$0:p.rtn(ed.$0)}),ec==null?p.map(function(ef){return ee(d9,ef);},d8(d9)):ec.$0));}};};p.iterReader=function(d7,d8,d9,d_){var d$,ea;d$=p.run(d9,p.map(d8,d_));ea=d$[2];(h.iter(a.ignore))(d$[0]);ea.$!==0?d7(ea):void 0;};p.mapState=function(d7,d8,d9){return{$:0,$0:function(d_){var d$,ea;d$=d_[0];ea=(p.getFun(d9))([d7(d$),d_[1]]);return[ea[0],d8(d$,ea[1]),ea[2]];}};};p.freeMessageW=function(d7){var d8;function d9(d_){return new d({$:2,$0:d_});}return p.freeMessageF((d8=function(d_){return function(d$){return d_(a.String(d$));};}(a.id),function(d_){return d9(d8(d_));}),d7);};p.freeMessage=function(d7){var d8;function d9(d_){return new d({$:1,$0:d_});}return p.freeMessageF((d8=function(d_){return function(d$){return d_(a.String(d$));};}(a.id),function(d_){return d9(d8(d_));}),d7);};p.freeMessageF=function(d7,d8){return{$:0,$0:function(d9){var d_,d$,ea;d_=d9[0];d$=d9[1];try{ea=d8.$0([d_,d.freeMessage(d$)]);return[ea[0],ea[1],d.freeMessageF(d7,ea[2])];}catch(eb){return[null,d_,d.freeMessage(d.addMsg(d$,new d({$:5,$0:eb.message,$1:eb.stack})))];}}};};p.ofFusionM=function(d7){return p.from(d7);};p.ofResultMessage=function(d7){return p.OkFMsg(null,d7);};p.ofMessage=function(d7){return p.OkFMsg(null,new d({$:4,$0:d7}));};p.ofOption=function(d7,d8){return d8==null?p.ErrorF(d7()):p.OkF(d8.$0);};p.ofResult=function(d7){return d7.$==1?p.ErrorF(new d({$:1,$0:(function(d8){return function(d9){return d8(c2.prettyPrint(d9));};}(a.id))(d7.$0)})):p.OkF(d7.$0);};p.ofResultS=function(d7){return d7.$==1?p.ErrorF(new d({$:1,$0:d7.$0})):p.OkF(d7.$0);};p.ofResultM=function(d7){return d7.$==1?p.ErrorF(new d({$:4,$0:d7.$0})):p.OkF(d7.$0);};p.ofResultRM=function(d7){return d7.$==1?p.ErrorF(d7.$0):p.OkF(d7.$0);};p.inling=function(d7,d8){return{$:0,$0:function(d9){var d_,d$,ea;d_=d9[0];d$=d9[1];try{ea=d8.$0([d_,d$]);return[{$:1,$0:ea[0]},ea[1],ea[2]];}catch(eb){return[null,d_,d.addMsg(d$,new d({$:5,$0:eb.message,$1:eb.stack}))];}}};};p.check=function(){return{$:0,$0:function(d7){return[d.isFatal(d7[1])?null:{$:1,$0:null},d7[0],d.NoMsg];}};};p.putS=function(d7){return{$:0,$0:function(){return[{$:1,$0:null},d7,d.NoMsg];}};};p.getR=function(){return{$:0,$0:function(d7){return[{$:1,$0:d7[1]},d7[0],d.NoMsg];}};};p.getS=function(){return{$:0,$0:function(d7){var d8;d8=d7[0];return[{$:1,$0:d8},d8,d.NoMsg];}};};p.ErrorF=function(d7){return{$:0,$0:function(d8){return[null,d8[0],d7];}};};p.OkFMsg=function(d7,d8){return{$:0,$0:function(d9){return[{$:1,$0:d7},d9[0],d8];}};};p.OkF=function(d7){return{$:0,$0:function(d8){return[{$:1,$0:d7},d8[0],d.NoMsg];}};};p.run=function(d7,d8){return(p.getFun(d8))([d7,d.NoMsg]);};p.from=a.id;p.getFun=function(d7){return d7.$0;};p.wrap=function(d7){return{$:0,$0:d7};};p.map=function(d7,d8){return p.bind(function(d9){return p.rtn(d7(d9));},d8);};p.bind=function(d7,d8){return{$:0,$0:function(d9){var d_,d$,ea,eb,ec,ed,ee;d_=d9[0];d$=d9[1];try{ea=d8.$0([d_,d$]);eb=ea[0];ec=ea[1];ed=ea[2];return eb!=null&&eb.$==1?(ee=d7(eb.$0).$0([ec,d.addMsg(d$,ed)]),[ee[0],ee[1],d.addMsg(ed,ee[2])]):[null,ec,ed];}catch(ef){return[null,d_,d.addMsg(d$,new d({$:5,$0:ef.message,$1:ef.stack}))];}}};};p.rtn=function(d7){return{$:0,$0:function(d8){return[{$:1,$0:d7},d8[0],d.NoMsg];}};};u.rtn=function(d7){return t.rtn(d7);};u.op_GreaterEqualsGreater=function(d7,d8,d9){return u.op_GreaterGreaterEquals(d7(d9),d8);};u.op_RightShift=function(d7,d8,d9){return u.op_BarGreaterGreater(d7(d9),d8);};u.op_GreaterGreaterEquals=function(d7,d8){return t.bind(d8,d7);};u.op_BarGreaterGreater=function(d7,d8){return t.map(d8,d7);};u.op_LessMultiplyGreater=function(d7,d8){return t.apply(d7,d8);};w=v.Builder=c1.Class({For:function(d7,d8){var d9;d9=this;return this.Using(c8.Get(d7),function(d_){return d9.While(function(){return d_.MoveNext();},d9.Delay(function(){return d8(d_.Current());}));});},Using:function(d7,d8){function d9(d_,d$){return c7.Using(d7,function(ea){return(t.getFun(d8(ea)))([d_,d$]);});}return t.wrap(function(d_){return d9(d_[0],d_[1]);});},TryFinally:function(d7,d8){function d9(d_,d$){return c7.TryFinally((t.getFun(d7()))([d_,d$]),d8);}return t.wrap(function(d_){return d9(d_[0],d_[1]);});},TryWith:function(d7,d8){function d9(d_,d$){return c7.TryWith((t.getFun(d7()))([d_,d$]),d8);}return t.wrap(function(d_){return d9(d_[0],d_[1]);});},While:function(d7,d8){function d9(d_,d$){return d_()?t.bind(function(){return d9(d_,d$);},d$()):t.rtn();}return d9(d7,d8);},Run:function(d7){return t.wrap(function(d8){return(t.getFun(d7()))(d8);});},Combine:function(d7,d8){return t.bind(d8,d7);},Delay:a.id,Zero:function(){return t.rtn();},Bind:function(d7,d8){return t.bind(d8,d7);},ReturnFrom:function(d7){return t.from(d7);},Return:function(d7){return t.rtn(d7);}},k,w);w.New=c1.Ctor(function(){k.New.call(this);},w);t.fusion=function(){cT.$cctor();return cT.fusion$1;};t.iterResultPrintA=function(d7){function d8(d9){c.print$1(d9);}t.iterReaderA(function(d9){return d8(d.summarized(d9));},function(d9){c.print$1(d9);},null,d7);};t.iterResultPrint=function(d7){function d8(d9){c.print$1(d9);}t.iterReader(function(d9){return d8(d.summarized(d9));},function(d9){c.print$1(d9);},null,d7);};t.iterResultA=function(d7,d8,d9){t.iterReaderA(d7,d8,null,d9);};t.iterResult=function(d7,d8,d9){t.iterReader(d7,d8,null,d9);};t.runResult=function(d7){return t.runReader(null,d7);};t.runReader=function(d7,d8){function d9(d$,ea,eb){return l.ofOption(function(){return eb;},d$==null?null:{$:1,$0:[d$.$0,eb]});}function d_(d$){return c7.Return(d$);}return c7.Bind(t.run(d7,d8),function(d$){return d_(d9.apply(null,d$));});};t.mapReader=function(d7,d8){return t.mapState(function(){return d7;},a.id,d8);};t.absorbO=function(d7,d8){return t.absorbR(t.map(function(d9){return l.ofOption(d7,d9);},d8));};t.absorbR=function(d7){return t.bind(t.ofResultRM,d7);};t.insertSnd=function(d7,d8){return t.map(function(d9){return[d9,d8];},d7);};t.insertFst=function(d7,d8){return t.map(function(d9){return[d7,d9];},d8);};t.insertR=function(d7){return d7.$==0?t.map(function(d8){return{$:0,$0:d8};},d7.$0):t.rtn(c.Error$1(d7.$0));};t.insertO=function(d7){var d8;d8=d7==null?null:{$:1,$0:t.map(function(d9){return{$:1,$0:d9};},d7.$0)};return d8==null?t.rtn(null):d8.$0;};t.readerFun=function(d7){return t.map(d7,t.getS());};t.freeMessageW=function(d7){var d8;function d9(d_){return new d({$:2,$0:d_});}return t.freeMessageF((d8=function(d_){return function(d$){return d_(a.String(d$));};}(a.id),function(d_){return d9(d8(d_));}),d7);};t.freeMessage=function(d7){var d8;function d9(d_){return new d({$:1,$0:d_});}return t.freeMessageF((d8=function(d_){return function(d$){return d_(a.String(d$));};}(a.id),function(d_){return d9(d8(d_));}),d7);};t.sequenceSeq=function(d7){return t.traverseSeq(a.id,d7);};t.traverseSeq=function(d7,d8){return t.map(a.id,c6.foldBack(function(d9,d_){return t.op_GreaterGreaterEquals(d7(d9),function(d$){return t.op_GreaterGreaterEquals(d_,function(ea){return t.rtn(new c5.T({$:1,$0:d$,$1:ea}));});});},c6.ofSeq(d8),t.rtn(c5.T.Empty)));};t.op_GreaterGreaterEquals=function(d7,d8){return t.bind(d8,d7);};t.apply=function(d7,d8){return t.bind(function(d9){return t.map(d9,d8);},d7);};t.memoizeRm=function(d7,d8,d9){return{$:0,$0:function(d_){var d$,ea;d$=d_[0];ea=null;return c7.Delay(function(){var eb,ec,ed,ee;function ef(eg,eh){return(ec(eg))(function(){return eh;});}eb=d7(d$);ec=eb[1];return t.run(d$,(ed=(ee=eb[0](d9),ee==null?null:{$:1,$0:t.rtn(ee.$0)}),ed==null?t.map(function(eg){return ef(d9,eg);},d8(d9)):ed.$0));});}};};t.iterReaderA=function(d7,d8,d9,d_){function d$(eb,ec,ed){(h.iter(a.ignore))(eb);ed.$!==0?d7(ed):void 0;}function ea(eb){return c7.Return(eb);}c7.Start(c7.Bind(t.run(d9,t.map(d8,d_)),function(eb){return ea(d$.apply(null,eb));}),null);};t.iterReader=function(d7,d8,d9,d_){var d$;d$=t.run(d9,t.map(d8,d_));throw"iterS cannot be used in JavaScript!";};t.mapState=function(d7,d8,d9){return{$:0,$0:function(d_){var d$,ea,eb;d$=d_[0];ea=d_[1];eb=null;return c7.Delay(function(){return c7.Bind((t.getFun(d9))([d7(d$),ea]),function(ec){return c7.Return([ec[0],d8(d$,ec[1]),ec[2]]);});});}};};t.freeMessageF=function(d7,d8){return{$:0,$0:function(d9){var d_,d$,ea;d_=d9[0];d$=d9[1];ea=null;return c7.Delay(function(){return c7.TryWith(c7.Delay(function(){return c7.Bind(d8.$0([d_,d.freeMessage(d$)]),function(eb){return c7.Return([eb[0],eb[1],d.freeMessageF(d7,eb[2])]);});}),function(eb){return c7.Return([null,d_,d.freeMessage(d.addMsg(d$,new d({$:5,$0:eb.message,$1:eb.stack})))]);});});}};};t.ofFusionM=function(d7){var d8;d8=d7.$0;return{$:0,$0:function(d9){return c7.Return(d8([d9[0],d9[1]]));}};};t.ofAsyncResultRM=function(d7){return t.bind(t.ofResultRM,t.ofAsync(d7));};t.ofAsync=function(d7){return{$:0,$0:function(d8){var d9;function d_(ea){return[{$:1,$0:ea},d9,d.NoMsg];}function d$(ea){return c7.Return(ea);}d9=d8[0];return c7.Bind(d7,function(ea){return d$(d_(ea));});}};};t.ofResultMessage=function(d7){return t.OkFMsg(null,d7);};t.ofMessage=function(d7){return t.OkFMsg(null,new d({$:4,$0:d7}));};t.ofOption=function(d7,d8){var d9;d9=d8==null?null:{$:1,$0:t.OkF(d8.$0)};return d9==null?function(d_){return t.ErrorF(d7(d_));}():d9.$0;};t.ofResult=function(d7){return d7.$==1?t.ErrorF(new d({$:1,$0:(function(d8){return function(d9){return d8(c2.prettyPrint(d9));};}(a.id))(d7.$0)})):t.OkF(d7.$0);};t.ofResultS=function(d7){return d7.$==1?t.ErrorF(new d({$:1,$0:d7.$0})):t.OkF(d7.$0);};t.ofResultM=function(d7){return d7.$==1?t.ErrorF(new d({$:4,$0:d7.$0})):t.OkF(d7.$0);};t.ofResultRM=function(d7){return d7.$==1?t.ErrorF(d7.$0):t.OkF(d7.$0);};t.getOption=function(d7){return{$:0,$0:function(d8){var d9,d_,d$;d9=d8[0];d_=d8[1];d$=null;return c7.Delay(function(){return c7.TryWith(c7.Delay(function(){return c7.Bind(d7.$0([d9,d_]),function(ea){return c7.Return([{$:1,$0:ea[0]},ea[1],ea[2]]);});}),function(ea){return c7.Return([null,d9,d.addMsg(d_,new d({$:5,$0:ea.message,$1:ea.stack}))]);});});}};};t.check=function(){return{$:0,$0:function(d7){return c7.Return([d.isFatal(d7[1])?null:{$:1,$0:null},d7[0],d.NoMsg]);}};};t.putS=function(d7){return{$:0,$0:function(){return c7.Return([{$:1,$0:null},d7,d.NoMsg]);}};};t.getR=function(){return{$:0,$0:function(d7){return c7.Return([{$:1,$0:d7[1]},d7[0],d.NoMsg]);}};};t.getS=function(){return{$:0,$0:function(d7){var d8;d8=d7[0];return c7.Return([{$:1,$0:d8},d8,d.NoMsg]);}};};t.ErrorF=function(d7){return{$:0,$0:function(d8){return c7.Return([null,d8[0],d7]);}};};t.OkFMsg=function(d7,d8){return{$:0,$0:function(d9){return c7.Return([{$:1,$0:d7},d9[0],d8]);}};};t.OkF=function(d7){return{$:0,$0:function(d8){return c7.Return([{$:1,$0:d7},d8[0],d.NoMsg]);}};};t.run=function(d7,d8){return(t.getFun(d8))([d7,d.NoMsg]);};t.from=a.id;t.getFun=function(d7){return d7.$0;};t.wrap=function(d7){return{$:0,$0:d7};};t.map=function(d7,d8){return t.bind(function(d9){return t.rtn(d7(d9));},d8);};t.bind=function(d7,d8){return{$:0,$0:function(d9){var d_,d$,ea;d_=d9[0];d$=d9[1];ea=null;return c7.Delay(function(){return c7.TryWith(c7.Delay(function(){return c7.Bind(d8.$0([d_,d$]),function(eb){var ec,ed,ee;ec=eb[0];ed=eb[1];ee=eb[2];return ec!=null&&ec.$==1?c7.Bind(d7(ec.$0).$0([ed,d.addMsg(d$,ee)]),function(ef){return c7.Return([ef[0],ef[1],d.addMsg(ee,ef[2])]);}):c7.Return([null,ed,ee]);});}),function(eb){return c7.Return([null,d_,d.addMsg(d$,new d({$:5,$0:eb.message,$1:eb.stack}))]);});});}};};t.rtn=function(d7){return{$:0,$0:function(d8){return c7.Return([{$:1,$0:d7},d8[0],d.NoMsg]);}};};y=x.Builder=c1.Class({For:function(d7,d8){var d9;d9=this;return this.Using(c8.Get(d7),function(d_){return d9.While(function(){return d_.MoveNext();},d9.Delay(function(){return d8(d_.Current());}));});},While:function(d7,d8){function d9(d_,d$){return d_()?x.bind(function(){return d9(d_,d$);},d$()):x.rtn();}return d9(d7,d8);},Using:function(d7,d8){try{return d8(d7);}finally{d7.Dispose();}},TryFinally:function(d7,d8){try{return d7();}finally{d8();}},TryWith:function(d7,d8){try{return d7();}catch(d9){return d8(d9);}},Run:function(d7){return x.bindP(d7,f.OkM$1());},Combine:function(d7,d8){return x.bind(d8,d7);},Delay:a.id,Zero:function(){return x.rtn();},Bind:function(d7,d8){return x.bindM(d8,d7);},Bind$1:function(d7,d8){return x.bindP(d8,d7);},ReturnFrom:function(d7){return x.rtnM(d7);},ReturnFrom$1:a.id,ReturnFrom$2:a.id,Return:function(d7){return x.rtn(d7);}},k,y);y.New=c1.Ctor(function(){k.New.call(this);},y);z.rtn=function(d7){return x.rtn(d7);};z.op_GreaterEqualsGreater=function(d7,d8,d9){return z.op_GreaterGreaterEquals(d7(d9),d8);};z.op_RightShift=function(d7,d8,d9){return z.op_BarGreaterGreater(d7(d9),d8);};z.op_GreaterGreaterEquals=function(d7,d8){return x.bindP(d8,d7);};z.op_BarGreaterGreater=function(d7,d8){return x.mapP(d8,d7);};x.sequenceSeq=function(d7){return x.traverseSeq(a.id,d7);};x.traverseSeq=function(d7,d8){return x.map(a.id,c6.foldBack(function(d9,d_){return x.op_GreaterGreaterEquals(d7(d9),function(d$){return x.op_GreaterGreaterEquals(d_,function(ea){return x.rtn(new c5.T({$:1,$0:d$,$1:ea}));});});},c6.ofSeq(d8),x.rtn(c5.T.Empty)));};x.op_GreaterGreaterEquals=function(d7,d8){return x.bind(d8,d7);};x.failIfFatalMsgW=function(d7){var d8;d8=f.OkM(d7);return d8.$==0?d.isFatalW(d8.$0[1])?f.ErrorM(d8.$0[1]):d7:d7;};x.failIfFatalMsg=function(d7){var d8;d8=f.OkM(d7);return d8.$==0?d.isFatal(d8.$0[1])?f.ErrorM(d8.$0[1]):d7:d7;};x.failIfFatalMsgF=function(d7,d8){var d9;d9=f.OkM(d8);return d9.$==0?d.isFatalF(d7,d9.$0[1])?f.ErrorM(d9.$0[1]):d8:d8;};x.addMsg=function(d7,d8){return x.mapMessage(function(d9){return d.addMsg(d7,d9);},d8);};x.absorbO=function(d7,d8){return x.bindP(function(d9){return x.ofOption(d7,d9);},d8);};x.insertO=function(d7){var d8;d8=d7==null?null:{$:1,$0:x.map(function(d9){return{$:1,$0:d9};},d7.$0)};return d8==null?f.OkM$1(null):d8.$0;};x.ofResult=function(d7){return x.rtnr(d7);};x.ofOption=function(d7,d8){var d9;d9=d8==null?null:{$:1,$0:f.OkM$1(d8.$0)};return d9==null?function(d_){return f.ErrorM(d7(d_));}():d9.$0;};x.get=function(d7){return x.defaultWith(function(d8){return c_.FailWith(a.String(d8));},d7);};x.iter=function(d7,d8,d9){var d_;d_=x.mapP(d8,d9);d_.$0==null?d7(d_.$1):void 0;};x.mapP=function(d7,d8){return x.bindP(function(d9){return x.rtn(d7(d9));},d8);};x.check=function(d7,d8){var d9;return(d9=d8.$0,d9!=null&&d9.$==1)?d.isFatalF(d7.$0,d8.$1)?f.ErrorM(d8.$1):d8:d8;};x.bindM=function(d7,d8){return x.bindP(d7,x.rtnM(d8));};x.bindP=function(d7,d8){var d9;if(d8.$0==null)return{$:0,$0:null,$1:d8.$1};else{d9=d8.$1;try{return x.mapMessage(function(d_){return d.addMsg(d9,d_);},d7(d8.$0.$0));}catch(d_){return f.ErrorM(new d({$:5,$0:d_.message,$1:d_.stack}));}}};x.bind=function(d7,d8){var d9;return d8.$0==null?{$:0,$0:null,$1:d8.$1}:(d9=d8.$1,x.mapMessage(function(d_){return d.addMsg(d9,d_);},d7(d8.$0.$0)));};x.mapMessage=function(d7,d8){return{$:0,$0:d8.$0,$1:d7(d8.$1)};};x.map=function(d7,d8){var d9;return{$:0,$0:(d9=d8.$0,d9==null?null:{$:1,$0:d7(d9.$0)}),$1:d8.$1};};x.defaultValue=function(d7,d8){return l.defaultValue(d7,x.toResult(d8));};x.defaultWith=function(d7,d8){return l.defaultWith(d7,x.toResult(d8));};x.toOption=function(d7){return d7.$0;};x.toResultD=function(d7){return d7.$0==null?c.Error$1(d7.$1):{$:0,$0:[d7.$0.$0,d7.$1]};};x.toResult=function(d7){return d7.$0==null?c.Error$1(d7.$1):{$:0,$0:d7.$0.$0};};x.freeMessage=function(d7){return d7.$==1?c.Error$1(d.freeMessage(d7.$0)):{$:0,$0:d7.$0};};x.rtnr=function(d7){return l.defaultWith(f.ErrorM,c9.Map(f.OkM$1,d7));};x.rtnM=function(d7){return f.OkMWithMsg(null,d7);};x.rtn=function(d7){return f.OkM$1(d7);};x.checkErrorW=function(){return{$:0,$0:function(){return false;}};};x.checkError=function(){return{$:0,$0:function(){return true;}};};A.resultM=function(){cT.$cctor();return cT.resultM;};B.absorbO=function(d7,d8){function d9(d$){return l.absorbO(d7,d$);}function d_(d$){return c7.Return(d$);}return c7.Bind(d8,function(d$){return d_(d9(d$));});};B.absorbR=function(d7){function d8(d9){return c7.Return(d9);}return c7.Bind(d7,function(d9){return d8(l.join(d9));});};B.insertR=function(d7){return d7.$==0?B.map(function(d8){return{$:0,$0:d8};},d7.$0):B.rtn(c.Error$1(d7.$0));};B.insertO=function(d7){var d8;d8=d7==null?null:{$:1,$0:B.map(function(d9){return{$:1,$0:d9};},d7.$0)};return d8==null?B.rtn(null):d8.$0;};B.sequenceSeq=function(d7){return B.traverseSeq(a.id,d7);};B.traverseSeq=function(d7,d8){return B.map(a.id,c6.foldBack(function(d9,d_){return B.op_GreaterGreaterEquals(d7(d9),function(d$){return B.op_GreaterGreaterEquals(d_,function(ea){return B.rtn(new c5.T({$:1,$0:d$,$1:ea}));});});},c6.ofSeq(d8),B.rtn(c5.T.Empty)));};B.op_GreaterGreaterEquals=function(d7,d8){return B.bind(d8,d7);};B.whileLoop=function(d7,d8){return d7()?B.bind(function(){return B.whileLoop(d7,d8);},d8()):B.rtn();};B.mapP=function(d7,d8){return B.bindP(function(d9){return B.rtn(d7(d9));},d8);};B.map=function(d7,d8){return B.bind(function(d9){return B.rtn(d7(d9));},d8);};B.bindP=function(d7,d8){var d9;d9=null;return c7.Delay(function(){return c7.TryWith(c7.Delay(function(){return c7.Bind(d8,function(d_){return d_.$==1?c7.Return(c.Error$1(d_.$0)):d7(d_.$0);});}),function(d_){return c7.Return(c.Error$1(new d({$:5,$0:d_.message,$1:d_.stack})));});});};B.bind=function(d7,d8){var d9;d9=null;return c7.Delay(function(){return c7.Bind(d8,function(d_){return d_.$==1?c7.Return(c.Error$1(d_.$0)):d7(d_.$0);});});};B.iterA=function(d7,d8,d9){function d_(ea){l.iter(d7,d8,ea);}function d$(ea){return c7.Return(ea);}c7.Start(c7.Bind(d9,function(ea){return d$(d_(ea));}),null);};B.iterS=function(d7,d8,d9){throw"iterS cannot be used in JavaScript!";};B.rtnR=function(d7){return c7.Return(d7);};B.rtn=function(d7){return c7.Return({$:0,$0:d7});};B.freeMessage=function(d7){function d8(d9){return c7.Return(d9);}return c7.Bind(d7,function(d9){return d8(l.freeMessage(d9));});};B.mapError=function(d7,d8){function d9(d$){return c9.MapError(d7,d$);}function d_(d$){return c7.Return(d$);}return c7.Bind(d8,function(d$){return d_(d9(d$));});};C=f.AsyncResultBuilder=c1.Class({For:function(d7,d8){var d9;d9=this;return this.Using(c8.Get(d7),function(d_){return d9.While(function(){return d_.MoveNext();},d9.Delay(function(){return d8(d_.Current());}));});},While:function(d7,d8){return B.whileLoop(d7,d8);},Using:function(d7,d8){return c7.Using(d7,d8);},TryFinally:function(d7,d8){var d9;d9=null;return c7.Delay(function(){return c7.TryFinally(c7.Delay(function(){return d7();}),function(){d8();});});},TryWith:function(d7,d8){var d9;d9=null;return c7.Delay(function(){return c7.TryWith(c7.Delay(function(){return d7();}),function(d_){return d8(d_);});});},Run:function(d7){return B.bind(d7,B.rtn());},Delay:a.id,Combine:function(d7,d8){return B.bind(d8,B.rtnR(d7));},Combine$1:function(d7,d8){return B.bind(d8,d7);},Bind:function(d7,d8){return B.bind(d8,B.rtnR(d7));},Bind$1:function(d7,d8){return B.bind(d8,d7);},Zero:function(){return B.rtn();},Return:function(d7){return B.rtn(d7);},ReturnFrom:function(d7){return B.rtnR(d7);},ReturnFrom$1:a.id},k,C);C.New=c1.Ctor(function(){k.New.call(this);},C);D=f.AsyncResultBuilderP=c1.Class({For:function(d7,d8){var d9;d9=this;return this.Using(c8.Get(d7),function(d_){return d9.While(function(){return d_.MoveNext();},d9.Delay(function(){return d8(d_.Current());}));});},While:function(d7,d8){return B.whileLoop(d7,d8);},Using:function(d7,d8){return c7.Using(d7,d8);},TryFinally:function(d7,d8){var d9;d9=null;return c7.Delay(function(){try{return d7();}finally{d8();}});},TryWith:function(d7,d8){var d9;d9=null;return c7.Delay(function(){try{return d7();}catch(d_){return d8(d_);}});},Run:function(d7){return B.bindP(d7,B.rtn());},Delay:a.id,Combine:function(d7,d8){return B.bindP(d8,B.rtnR(d7));},Combine$1:function(d7,d8){return B.bindP(d8,d7);},Bind:function(d7,d8){return B.bindP(d8,B.rtnR(d7));},Bind$1:function(d7,d8){return B.bindP(d8,d7);},Zero:function(){return B.rtn();},Return:function(d7){return B.rtn(d7);},ReturnFrom:function(d7){return B.rtnR(d7);},ReturnFrom$1:a.id},k,D);D.New=c1.Ctor(function(){k.New.call(this);},D);E["AsyncResultBuilderP.Combine"]=function(d7,d8,d9){function d_(ea){return{$:0,$0:ea};}function d$(ea){return c7.Return(ea);}return B.bindP(d9,c7.Bind(d8,function(ea){return d$(d_(ea));}));};E["AsyncResultBuilderP.Bind"]=function(d7,d8,d9){function d_(ea){return{$:0,$0:ea};}function d$(ea){return c7.Return(ea);}return B.bindP(d9,c7.Bind(d8,function(ea){return d$(d_(ea));}));};E["AsyncResultBuilderP.ReturnFrom"]=function(d7,d8){function d9(d$){return{$:0,$0:d$};}function d_(d$){return c7.Return(d$);}return c7.Bind(d8,function(d$){return d_(d9(d$));});};E["AsyncResultBuilder.Combine"]=function(d7,d8,d9){function d_(ea){return{$:0,$0:ea};}function d$(ea){return c7.Return(ea);}return B.bind(d9,c7.Bind(d8,function(ea){return d$(d_(ea));}));};E["AsyncResultBuilder.Bind"]=function(d7,d8,d9){function d_(ea){return{$:0,$0:ea};}function d$(ea){return c7.Return(ea);}return B.bind(d9,c7.Bind(d8,function(ea){return d$(d_(ea));}));};E["AsyncResultBuilder.ReturnFrom"]=function(d7,d8){function d9(d$){return{$:0,$0:d$};}function d_(d$){return c7.Return(d$);}return c7.Bind(d8,function(d$){return d_(d9(d$));});};G=F.AsyncResultMBuilder=c1.Class({For:function(d7,d8){var d9;d9=this;return this.Using(c8.Get(d7),function(d_){return d9.While(function(){return d_.MoveNext();},d9.Delay(function(){return d8(d_.Current());}));});},While:function(d7,d8){return F.whileLoop(d7,d8);},Using:function(d7,d8){return c7.Using(d7,d8);},TryFinally:function(d7,d8){var d9;d9=null;return c7.Delay(function(){return c7.TryFinally(c7.Delay(function(){return d7();}),function(){d8();});});},TryWith:function(d7,d8){var d9;d9=null;return c7.Delay(function(){return c7.TryWith(c7.Delay(function(){return d7();}),function(d_){return d8(d_);});});},Run:function(d7){return F.bind(d7,F.rtn());},Delay:a.id,Combine:function(d7,d8){return F.bind(d8,F.rtnR(d7));},Combine$1:function(d7,d8){return F.bind(d8,d7);},Bind:function(d7,d8){return F.bindrA(d8,d7);},Bind$1:function(d7,d8){return F.bindR(d8,d7);},Bind$2:function(d7,d8){return F.bindM(d8,d7);},Bind$3:function(d7,d8){return F.bindr(d8,d7);},Bind$4:function(d7,d8){return F.bind(d8,d7);},Zero:function(){return F.rtn();},Return:function(d7){return F.rtn(d7);},ReturnFrom:function(d7){return F.rtnrA(d7);},ReturnFrom$1:function(d7){return F.rtnR(d7);},ReturnFrom$2:function(d7){return F.rtnM(d7);},ReturnFrom$3:function(d7){return F.rtnr(d7);},ReturnFrom$4:a.id},k,G);G.New=c1.Ctor(function(){k.New.call(this);},G);H.rtn=function(d7){return F.rtn(d7);};H.op_GreaterEqualsGreater=function(d7,d8,d9){return H.op_GreaterGreaterEquals(d7(d9),d8);};H.op_GreaterMinusGreater=function(d7,d8,d9){return H.op_BarGreaterGreater(d7(d9),d8);};H.op_GreaterGreaterEquals=function(d7,d8){return F.bind(d8,d7);};H.op_BarGreaterGreater=function(d7,d8){return F.map(d8,d7);};F.getResultM=function(d7){function d8(d9){return c7.Return(d9);}return c7.Bind(d7,function(d9){return d8(f.OkM$1(d9));});};F.absorbO=function(d7,d8){function d9(d$){return x.absorbO(d7,d$);}function d_(d$){return c7.Return(d$);}return c7.Bind(d8,function(d$){return d_(d9(d$));});};F.absorbR=function(d7){var d8;function d9(d_){return c7.Return(d_);}return c7.Bind(d7,(d8=function(d_){return x.bindP(a.id,d_);},function(d_){return d9(d8(d_));}));};F.insertR=function(d7){return d7.$==0?F.map(function(d8){return{$:0,$0:d8};},d7.$0):F.rtn(c.Error$1(d7.$0));};F.insertO=function(d7){var d8;d8=d7==null?null:{$:1,$0:F.map(function(d9){return{$:1,$0:d9};},d7.$0)};return d8==null?F.rtn(null):d8.$0;};F.sequenceSeq=function(d7){return F.traverseSeq(a.id,d7);};F.traverseSeq=function(d7,d8){return F.map(a.id,c6.foldBack(function(d9,d_){return F.op_GreaterGreaterEquals(d7(d9),function(d$){return F.op_GreaterGreaterEquals(d_,function(ea){return F.rtn(new c5.T({$:1,$0:d$,$1:ea}));});});},c6.ofSeq(d8),F.rtn(c5.T.Empty)));};F.op_GreaterGreaterEquals=function(d7,d8){return F.bind(d8,d7);};F.whileLoop=function(d7,d8){return d7()?F.bind(function(){return F.whileLoop(d7,d8);},d8()):F.rtn();};F.map=function(d7,d8){return F.bind(function(d9){return F.rtn(d7(d9));},d8);};F.bindR=function(d7,d8){return F.bind(d7,F.rtnR(d8));};F.bindrA=function(d7,d8){return F.bind(d7,F.rtnrA(d8));};F.bindM=function(d7,d8){return F.bind(d7,F.rtnM(d8));};F.bindr=function(d7,d8){return F.bind(d7,F.rtnr(d8));};F.bind=function(d7,d8){var d9;d9=null;return c7.Delay(function(){return c7.TryWith(c7.Delay(function(){return c7.Bind(d8,function(d_){var d$,ea;function eb(ed){return x.addMsg(ea,ed);}function ec(ed){return c7.Return(ed);}d$=f.OkM(d_);return d$.$==1?c7.Return(f.ErrorM(d$.$0)):(ea=d$.$0[1],c7.Bind(d7(d$.$0[0]),function(ed){return ec(eb(ed));}));});}),function(d_){return c7.Return(f.ErrorM(new d({$:5,$0:d_.message,$1:d_.stack})));});});};F.iterpA=function(d7,d8){function d9(d_){c.print$1(d_);}F.iterA(function(d_){return d9(d.summarized(d_));},d7,d8);};F.iterpS=function(d7,d8){function d9(d_){c.print$1(d_);}F.iterS(function(d_){return d9(d.summarized(d_));},d7,d8);};F.iterA=function(d7,d8,d9){function d_(ea){x.iter(d7,d8,ea);}function d$(ea){return c7.Return(ea);}c7.Start(c7.Bind(d9,function(ea){return d$(d_(ea));}),null);};F.iterS=function(d7,d8,d9){throw"iterS cannot be used in JavaScript!";};F.errorMsgf=function(d7){var d8;function d9(d$){return new d({$:1,$0:d$});}function d_(d$){return c7.Return(d$);}return d7((d8=function(d$){return f.ErrorM(d9(d$));},function(d$){return d_(d8(d$));}));};F.rtnrA=function(d7){function d8(d9){return c7.Return(d9);}return c7.Bind(d7,function(d9){return d8(x.ofResult(d9));});};F.rtnM=function(d7){return c7.Return(x.rtnM(d7));};F.rtnR=function(d7){return c7.Return(d7);};F.rtnr=function(d7){return c7.Return(x.rtnr(d7));};F.rtn=function(d7){return c7.Return(f.OkM$1(d7));};F.freeMessage=function(d7){function d8(d9){return c7.Return(d9);}return c7.Bind(d7,function(d9){return d8(x.freeMessage(d9));});};F.mapError=function(d7,d8){function d9(d$){return x.mapMessage(d7,d$);}function d_(d$){return c7.Return(d$);}return c7.Bind(d8,function(d$){return d_(d9(d$));});};I["AsyncResultMBuilder.Combine"]=function(d7,d8,d9){function d_(d$){return c7.Return(d$);}return F.bind(d9,c7.Bind(d8,function(d$){return d_(f.OkM$1(d$));}));};I["AsyncResultMBuilder.Bind"]=function(d7,d8,d9){function d_(d$){return c7.Return(d$);}return F.bind(d9,c7.Bind(d8,function(d$){return d_(f.OkM$1(d$));}));};I["AsyncResultMBuilder.ReturnFrom"]=function(d7,d8){function d9(d_){return c7.Return(d_);}return c7.Bind(d8,function(d_){return d9(f.OkM$1(d_));});};I.asyncResultM=function(){cT.$cctor();return cT.asyncResultM;};f.asyncResultP=function(){cT.$cctor();return cT.asyncResultP;};f.asyncResult=function(){cT.$cctor();return cT.asyncResult;};f.OkM=function(d7){return d7.$0==null?{$:1,$0:d7.$1}:{$:0,$0:[d7.$0.$0,d7.$1]};};f.ErrorM=function(d7){return{$:0,$0:null,$1:d7};};f.OkMWithMsg=function(d7,d8){return{$:0,$0:{$:1,$0:d7},$1:d8};};f.OkM$1=function(d7){return{$:0,$0:{$:1,$0:d7},$1:d.NoMsg};};J.thousands$1=function(d7){var d8,d9,d_;d8=a.String(d7);d9=d8.length%3;d_=d9===0?3:d9;return c3.concat(",",c5.ofSeq(c4.delay(function(){return c4.append([da.string(d8,{$:1,$0:0},{$:1,$0:d_-1})],c4.delay(function(){return c4.map(function(d$){return da.string(d8,{$:1,$0:d$*3+d_},{$:1,$0:d$*3+d_+2});},c_.range(0,((d8.length-d_)/3>>0)-1));}));})));};J.EndsWith$1=function(d7,d8){return c3.EndsWith(d8,d7)?{$:1,$0:da.string(d8,{$:1,$0:0},{$:1,$0:d8.length-d7.length-1})}:null;};J.StartsWith$1=function(d7,d8){return c3.StartsWith(d8,d7)?{$:1,$0:da.string(d8,{$:1,$0:d7.length},null)}:null;};J.skipLastLine$1=function(){cT.$cctor();return cT.skipLastLine;};J.indentStr$1=function(d7){function d8(d_){return J.indent$1(d7,d_);}function d9(d_){return c3.concat("\n",d_);}return function(d_){return d9(d8(d_));};};J.unindentStr$1=function(){cT.$cctor();return cT.unindentStr;};J.indent$1=function(d7,d8){var d9,d_;d9=c3.SplitChars(d8,["\n"],0);return c4.map((d_=c3.replicate(d7," "),function(d$){return d_+d$;}),d9);};J.unindent$1=function(d7){var d8,d9,d_,d$;d8=c3.SplitChars(d7,["\n"],0);d9=(d_=c4.tryFindIndex(function(ea){return" "!==ea;},(d$=c4.tryFind(function(ea){return c3.Trim(ea)!=="";},d8),d$==null?"":d$.$0)),d_==null?0:d_.$0);return c4.filter(function(ea){return!c3.StartsWith(ea,"# 1 ");},c4.map(function(ea){return ea.length<=d9?"":ea.substring(d9);},d8));};J.skipFirstLine$1=function(d7){var d8;d8=d7.indexOf("\n");return d8<0?"":da.string(d7,{$:1,$0:d8+1},null);};J.append$1=function(d7,d8){return d7+d8;};J.trim$1=function(d7){return c3.Trim(d7);};J.contains$1=function(d7,d8){return d8.indexOf(d7)!=-1;};J.delimitedO$1=function(d7,d8,d9){var d_,d$,ea,eb,ec;d_=J.splitInTwoO$1(d7,d9);return d_==null?null:(d$=d_.$0,(ea=d$[0],(eb=J.splitInTwoO$1(d8,d$[1]),eb==null?null:{$:1,$0:(ec=eb.$0,[ea,ec[0],ec[1]])})));};J.splitInTwoO$1=function(d7,d8){var d9;d9=d8.indexOf(d7);return d9===-1?null:{$:1,$0:[c["String.Left$1"](d8,d9),d8.substring(d9+d7.length)]};};J.splitByChar$1=function(d7,d8){return c3.SplitChars(d8,[d7],0);};K.Guid$1=function(){cT.$cctor();return cT["|Guid|_|"];};K.Double$1=function(){cT.$cctor();return cT["|Double|_|"];};K.Single$1=function(){cT.$cctor();return cT["|Single|_|"];};K.Int64$1=function(){cT.$cctor();return cT["|Int64|_|"];};K.Int$1=function(){cT.$cctor();return cT["|Int|_|"];};K.Date$1=function(){cT.$cctor();return cT["|Date|_|"];};K.parseGuidO$1=function(){cT.$cctor();return cT.parseGuidO;};K.parseDoubleO$1=function(){cT.$cctor();return cT.parseDoubleO;};K.parseSingleO$1=function(){cT.$cctor();return cT.parseSingleO;};K.parseInt64O$1=function(){cT.$cctor();return cT.parseInt64O;};K.parseIntO$1=function(){cT.$cctor();return cT.parseIntO;};K.parseDateO$1=function(){cT.$cctor();return cT.parseDateO;};K.parseDateO2$1=function(){cT.$cctor();return cT.parseDateO2;};K.tryParseWith$1=function(d7){function d8(d9,d_){return d9?{$:1,$0:d_}:null;}return function(d9){return d8.apply(null,d7(d9));};};L.PostAndAsyncReply=function(d7,d8,d9){return d7.PostAndAsyncReply(function(d_){return[d_,d8];},d9);};N.applyReply=function(d7,d8){return N.applyReplyA(function(d9){var d_;d_=null;return c7.Delay(function(){return c7.Return(d7(d9));});},d8);};N.applyReplyA=function(d7,d8){return d8.PostAndAsyncReply(function(d9){return function(d_){var d$;d$=null;return c7.Delay(function(){return c7.Bind(d7(d_),function(ea){d9(ea[1]);return c7.Return(ea[0]);});});};},null);};N.apply=function(d7,d8){N.applyA(function(d9){var d_;d_=null;return c7.Delay(function(){return c7.Return(d7(d9));});},d8);};N.applyA=function(d7,d8){d8.mailbox.AddLast(function(d9){var d_;d_=null;return c7.Delay(function(){return d7(d9);});});d8.resume();};N.setState=function(d7,d8){d8.mailbox.AddLast(function(){var d9;d9=null;return c7.Delay(function(){return c7.Return(d7);});});d8.resume();};N.getStateA=function(d7){return d7.PostAndAsyncReply(function(d8){return function(d9){var d_;d_=null;return c7.Delay(function(){d8(d9);return c7.Return(d9);});};},null);};M.defHandler=function(d7,d8){c.print$1(d7);return d8;};M.stateFull=function(d7,d8){return dc.Start(function(d9){function d_(d$){var ea;ea=null;return c7.Delay(function(){return c7.TryWith(c7.Delay(function(){return c7.Bind(d9.Receive(null),function(eb){return c7.Bind(eb(d$),function(ec){return d_(ec);});});}),function(eb){return d_(d7(eb,d$));});});}return d_(d8);},null);};M.fold=function(d7,d8,d9){return M.foldA(d7,function(d_,d$){var ea;ea=null;return c7.Delay(function(){return c7.Return(d8(d_,d$));});},d9);};M.foldA=function(d7,d8,d9){return dc.Start(function(d_){function d$(ea){var eb;eb=null;return c7.Delay(function(){return c7.TryWith(c7.Delay(function(){return c7.Bind(d_.Receive(null),function(ec){return c7.Bind(d8(ea,ec),function(ed){return d$(ed);});});}),function(ec){return d$(d7(ec,ea));});});}return d$(d9);},null);};M.call=function(d7,d8){return M.callA(d7,function(d9){var d_;d_=null;return c7.Delay(function(){return c7.Return(d8(d9));});});};M.callA=function(d7,d8){return M.iterA(d7,function(d9){var d_,d$,ea;d_=d9[0];d$=d9[1];ea=null;return c7.Delay(function(){return c7.Bind(d8(d$),function(eb){d_(eb);return c7.Zero();});});});};M.iter=function(d7,d8){return M.iterA(d7,function(d9){var d_;d_=null;return c7.Delay(function(){d8(d9);return c7.Zero();});});};M.iterA=function(d7,d8){return dc.Start(function(d9){var d_;d_=null;return c7.Delay(function(){return c7.While(function(){return true;},c7.Delay(function(){return c7.TryWith(c7.Delay(function(){return c7.Bind(d9.Receive(null),function(d$){return c7.Bind(d8(d$),function(){return c7.Return(null);});});}),function(d$){d7(d$);return c7.Zero();});}));});},null);};O.New=function(d7,d8,d9,d_){return{useCount:d7,limitCount:d8,resource:d9,configuration:d_};};P=c.ResourceAgent=c1.Class({increment:function(d7){var d8,d9;d8=this;return(this.respawnRightAfter?(d9=d7.configuration,function(d_){return d8.check(d9,d_);}):a.id)(O.New(d7.useCount+1,d7.limitCount,d7.resource,d7.configuration));},check:function(d7,d8){return d8.useCount<d8.limitCount&&this.alive(d8.resource)&&c$.Equals(d7,d8.configuration)?d8:this.respawn(O.New(d8.useCount,d8.limitCount,d8.resource,d7));},respawn:function(d7){this.clean(d7.resource);return O.New(0,d7.limitCount,this.ctor(d7.configuration),d7.configuration);},Respawn:function(){var d7;d7=this;N.apply(function(d8){return d7.respawn(d8);},this.agent);},set_Configuration:function(d7){var d8;d8=this;!c$.Equals(d7,this.get_Configuration())?N.apply(function(d9){return d8.respawn(O.New(d9.useCount,d9.limitCount,d9.resource,d7));},this.agent):void 0;},set_LimitCount:function(d7){N.apply(function(d8){return O.New(d8.useCount,d7,d8.resource,d8.configuration);},this.agent);},get_Configuration:function(){return this.get_State().configuration;},get_LimitCount:function(){return this.get_State().limitCount;},get_State:function(){throw"getState not available in JavaScript";},ProcessA:function(d7,d8){return this.AsyncProcessA(function(d9){var d_;d_=null;return c7.Delay(function(){return c7.Return(d7(d9));});},d8);},AsyncProcessA:function(d7,d8){var d9;d9=this;return N.applyReplyA(function(d_){var d$;d$=null;return c7.Delay(function(){var ea;ea=d9.check(d8==null?d_.configuration:d8.$0,d_);return c7.Bind(d7(ea.resource),function(eb){return c7.Return([d9.increment(ea),eb]);});});},this.agent);},Dispose:function(){try{this.clean(this.get_State().resource);}catch(d7){null;}}},k,P);P.New=c1.Ctor(function(d7,d8,d9,d_,d$,ea){var eb;eb=this;k.New.call(this);this.ctor=d8;this.clean=d_==null?a.ignore:d_.$0;this.alive=d$==null?function(){return true;}:d$.$0;this.respawnRightAfter=ea==null||ea.$0;this.agent=M.stateFull(function(ec,ed){c.print$1(ec);return eb.respawn(ed);},O.New(0,d7,this.ctor(d9),d9));},P);Q.runSameConfig=function(d7,d8){return t.runReader([d7,d7.get_Configuration()],d8);};Q.run=function(d7,d8,d9){return t.runReader([d7,d8],d9);};Q.ofResourceRm=function(d7){var d8;d8=d7.$0;return{$:0,$0:function(d9){var d_,d$,ea,eb;d_=d9[0];d$=d9[1];ea=d_[1];eb=d_[0];return eb.AsyncProcessA(function(ec){var ed;ed=null;return c7.Delay(function(){return c7.Bind(d8([ec,d$]),function(ee){return c7.Return([ee[0],[eb,ea],ee[2]]);});});},{$:1,$0:ea});}};};Q.createAgentRm=function(d7,d8){return u.op_GreaterGreaterEquals(t.readerFun(function(d9){return d9[0].AsyncProcessA(function(d_){return d7(d_,d8);},{$:1,$0:d9[1]});}),t.ofAsync);};S.New=function(d7,d8,d9,d_){return{cargId:d7,name:d8,unique:d9,build:d_};};T=R.CommArgCollection=c1.Class({get_CommArgs:function(){return this.$0;}},null,T);T.op_Addition=function(d7,d8){return T.addPairs(d8.$0,d7);};T.op_Addition$1=function(d7,d8){return T.addPair(d8[0],d8[1],d7);};T.op_Addition$2=function(d7,d8){return T.addPairs(d8,d7);};U=R.TypedCommArg=c1.Class({get_CommArg:function(){return this.$0;}},null,U);U.op_DivisionAssignment=function(d7,d8){return[d7.$0,q.op_BarGreaterGreater(q.op_BarGreaterGreater(p.getS(),d8),a.id)];};U.op_DivisionAssignment$1=function(d7,d8){return[d7.$0,q.op_BarGreaterGreater(d8,a.id)];};U.op_DivisionAssignment$2=function(d7,d8){return[d7.$0,q.op_BarGreaterGreater(q.rtn(d8),a.id)];};V.getFloatR=function(d7,d8){return d7.$0.build.$==3?{$:0,$0:d8}:c.Error$1(new d({$:1,$0:"expecting TFloat"}));};V.getBoolR=function(d7,d8){return d7.$0.build.$==2?{$:0,$0:d8}:c.Error$1(new d({$:1,$0:"expecting TBool"}));};V.getStringR=function(d7,d8){return d7.$0.build.$==1?{$:0,$0:d8}:c.Error$1(new d({$:1,$0:"expecting TString"}));};V.getIntR=function(d7,d8){return d7.$0.build.$==0?{$:0,$0:d8}:c.Error$1(new d({$:1,$0:"expecting TInt"}));};V.argumentTRm=function(d7,d8){return V.argumentRm(d7,d8);};V.argumentRm=function(d7,d8){var d9;d9=p.fusion();return d9.Run(d9.Delay(function(){return d9.Bind(d8,function(d_){var d$;return d9.Return((d$=d7.build,d$.$==1?d$.$0(d_):d$.$==2?d$.$0(d_):d$.$==3?d$.$0(d_):d$.$0(d_)));});}));};V.NewFloat=function(d7,d8,d9){return new U({$:0,$0:V.New0(d7,d8,{$:3,$0:d9})});};V.NewBool=function(d7,d8,d9){return new U({$:0,$0:V.New0(d7,d8,{$:2,$0:d9})});};V.NewString=function(d7,d8,d9){return new U({$:0,$0:V.New0(d7,d8,{$:1,$0:d9})});};V.NewInt=function(d7,d8,d9){return new U({$:0,$0:V.New0(d7,d8,{$:0,$0:d9})});};V.New0=function(d7,d8,d9){return S.New({$:0,$0:de.NewGuid()},d7,d8,d9);};T.addPairs=function(d7,d8){return T.append(d8,new T({$:0,$0:d7}));};T.append=function(d7,d8){var d9,d_;function d$(ea,eb){return function(ec){return T.addPair(ea,eb,ec);};}d9=(d_=function(ea){return d$.apply(null,a.id(ea));},function(ea){return function(eb){return(d_(eb))(ea);};});return c4.fold(function(ea,eb){return(d9(ea))(eb);},d7,d8.get_CommArgs());};T.addPair=function(d7,d8,d9){function d_(d$,ea){return!c$.Equals(d$.cargId,d7.cargId);}return new T({$:0,$0:c6.ofSeq(c4.append((d7.unique?function(d$){return c4.filter(function(ea){return d_(ea[0],ea[1]);},d$);}:a.id)(d9.$0),c5.ofArray([[d7,d8]])))});};T.getBoolR=function(d7,d8,d9){var d_,d$;d_=p.run(d9,T.getBoolRm(d7,d8));d$=d_[2];return l.ofOption(function(){return d$;},d_[0]);};T.getBoolRm=function(d7,d8){return q.op_BarGreaterGreater(T.tryGetBoolORm(d8),function(d9){return d9==null?d7:d9.$0;});};T.getFloatRm=function(d7){function d8(){return T.argumentNotFound(d7,void 0);}return q.op_GreaterGreaterEquals(T.tryGetFloatORm(d7),function(d9){return p.ofOption(d8,d9);});};T.getStringRm=function(d7){function d8(){return T.argumentNotFound(d7,void 0);}return q.op_GreaterGreaterEquals(T.tryGetStringORm(d7),function(d9){return p.ofOption(d8,d9);});};T.getIntRm=function(d7){function d8(){return T.argumentNotFound(d7,void 0);}return q.op_GreaterGreaterEquals(T.tryGetIntORm(d7),function(d9){return p.ofOption(d8,d9);});};T.findArgRm=function(d7){function d8(){return T.argumentNotFound(d7,void 0);}return q.op_GreaterGreaterEquals(T.tryFindArgORm(d7),function(d9){return p.ofOption(d8,d9);});};T.tryGetFloatORm=function(d7){function d8(d9,d_){return V.getFloatR(d7,d_);}return q.op_GreaterGreaterEquals(q.op_BarGreaterGreater(q.op_BarGreaterGreater(T.tryFindArgORm(d7),function(d9){var d_;return d9==null?null:{$:1,$0:(d_=d9.$0,d8(d_[0],d_[1]))};}),l.insertO),p.ofResultRM);};T.tryGetBoolORm=function(d7){function d8(d9,d_){return V.getBoolR(d7,d_);}return q.op_GreaterGreaterEquals(q.op_BarGreaterGreater(q.op_BarGreaterGreater(T.tryFindArgORm(d7),function(d9){var d_;return d9==null?null:{$:1,$0:(d_=d9.$0,d8(d_[0],d_[1]))};}),l.insertO),p.ofResultRM);};T.tryGetStringORm=function(d7){function d8(d9,d_){return V.getStringR(d7,d_);}return q.op_GreaterGreaterEquals(q.op_BarGreaterGreater(q.op_BarGreaterGreater(T.tryFindArgORm(d7),function(d9){var d_;return d9==null?null:{$:1,$0:(d_=d9.$0,d8(d_[0],d_[1]))};}),l.insertO),p.ofResultRM);};T.tryGetIntORm=function(d7){function d8(d9,d_){return V.getIntR(d7,d_);}return q.op_GreaterGreaterEquals(q.op_BarGreaterGreater(q.op_BarGreaterGreater(T.tryFindArgORm(d7),function(d9){var d_;return d9==null?null:{$:1,$0:(d_=d9.$0,d8(d_[0],d_[1]))};}),l.insertO),p.ofResultRM);};T.tryFindArgORm=function(d7){return q.op_GreaterGreaterEquals(p.readerFun(function(d8){var d9,d_;return p.insertO((d9=T.tryFindArgO(d7,d8),d9==null?null:{$:1,$0:(d_=d9.$0,p.insertFst(d_[0],d_[1]))}));}),a.id);};T.tryFindArgO=function(d7,d8){var d9;d9=d7.$0;return c4.tryFind(function(d_){return c$.Equals(d_[0].cargId,d9.cargId);},d8.$0);};T.argumentNotFound=function(d7,d8){return new d({$:1,$0:(function(d9){return function(d_){return d9("argument not found: "+c2.toSafe(d_));};}(a.id))(d7.$0.name)});};T.containsAnyOfRm=function(d7){return p.readerFun(function(d8){function d9(d_,d$){return d7.Contains(d_.cargId);}return c4.exists(function(d_){return d9(d_[0],d_[1]);},d8.$0);});};T.argumentsRm=function(d7){return q.op_GreaterGreaterEquals(T.filterRm(d7),function(d8){return p.traverseSeq(function(d9){return V.argumentTRm(d9[0],d9[1]);},d8);});};T.filterRm=function(d7){return p.readerFun(function(d8){return c4.filter(d7,d8.$0);});};T.existsRm=function(d7){return p.readerFun(function(d8){return c4.exists(d7,d8.$0);});};T.argsRm=function(){return p.readerFun(function(d7){return d7.$0;});};T.contains=function(d7,d8){function d9(d_,d$){return d_.cargId;}return c4.contains(d7.$0.cargId,c4.map(function(d_){return d9(d_[0],d_[1]);},d8.$0));};T.trueForAll=function(d7){return true;};X.NoPrepo={$:13};X.PrepoEndIf={$:10};X.PrepoElse={$:9};Y.LevelZero={$:0};W.getSourceDir=function(d7,d8){var d9,d_,d$,ea,eb,ec,ed,ee,ef,eg;d9=c6.get(d8,0);d_=c6.tryItem(1,d8);return(ea=J.StartsWith$1("////#cd @\"",d9),ea!=null&&ea.$==1?(d$=ea.$0,true):d_!=null&&d_.$==1&&(eb=J.StartsWith$1("////#cd @\"",d_.$0),eb!=null&&eb.$==1&&(d$=eb.$0,true)))?(ec=c3.Trim(d$),(ee=J.EndsWith$1("\"",ec),ee!=null&&ee.$==1?ed=ee.$0:ed=ec,(ef=J.StartsWith$1("\\",ed),ef!=null&&ef.$==1)?ed:(eg=J.StartsWith$1("/",ed),eg!=null&&eg.$==1)?ed:c$.Equals(c4.tryItem(1,ed),{$:1,$0:":"})?ed:d7+"/"+ed)):d7;};W.separateDirectives=function(d7){var d8,d9;d8=c6.ofSeq(c4.distinct(c4.choose(function(d_){return d_.$==2?{$:1,$0:d_.$0}:null;},d7)));d9=W.filterPreps(d7);return[c6.ofSeq(c4.distinct(c4.choose(function(d_){return d_.$==1?{$:1,$0:d_.$0}:null;},d9))),d8,c6.ofSeq(c4.distinct(c4.choose(function(d_){return d_.$==6?{$:1,$0:d_.$0}:null;},d9))),c6.ofSeq(c4.distinct(c4.choose(function(d_){return d_.$==5?{$:1,$0:d_.$0}:null;},d9))),c4.tryHead(c4.choose(function(d_){return d_.$==0?{$:1,$0:d_.$0}:null;},d9))];};W.getTopDirectives=function(d7){var d8;d8=c6.ofSeq(c4.filter(function(d9){return d9.$==2||(d9.$==1||(d9.$==6||(d9.$==5||(d9.$==0||(d9.$==7||(d9.$==10||(d9.$==8||d9.$==9)))))));},c4.map(function(d9){return d9[1];},d7)));return[c6.ofSeq(c4.map(function(d9){return d9[0];},d7)),d8];};W.filterPreps=function(d7){var d8;function d9(d$){var ea;ea=c4.contains(c3.Trim(c3.Replace(d$,"!","")),d8);return(c3.StartsWith(c3.Trim(d$),"!")?function(eb){return!eb;}:a.id)(ea);}function d_(d$,ea){var eb;switch(d$.$==0?ea.$==7?(eb=ea.$0,0):ea.$==10?2:7:d$.$==2?ea.$==7?1:ea.$==10?2:ea.$==8?(eb=[ea.$0,d$.$0],4):ea.$==9?(eb=d$.$0,5):8:d$.$==3?ea.$==7?1:ea.$==10?2:ea.$==8?(eb=d$.$0,6):ea.$==9?(eb=d$.$0,6):8:ea.$==7?(eb=ea.$0,0):ea.$==10?2:ea.$==8?(eb=d$.$0,3):ea.$==9?(eb=d$.$0,3):7){case 0:return[null,d9(eb)?{$:1,$0:d$}:{$:2,$0:d$}];case 1:return[null,{$:3,$0:d$}];case 2:return[null,W.prev(d$)];case 3:return[null,{$:3,$0:eb}];case 4:return[null,d9(eb[0])?{$:1,$0:d$}:{$:2,$0:eb[1]}];case 5:return[null,{$:1,$0:eb}];case 6:return[null,{$:3,$0:eb}];case 7:return[{$:1,$0:ea},d$];case 8:return[null,d$];}}d8=c6.ofSeq(c4.distinct(c4.choose(function(d$){return d$.$==2?{$:1,$0:d$.$0}:null;},d7)));return c6.ofSeq(c4.choose(a.id,((((c1.Curried3(c4.mapFold))(d_))(Y.LevelZero))(d7))[0]));};W.prev=function(d7){return d7.$==1?d7.$0:d7.$==2?d7.$0:d7.$==3?d7.$0:Y.LevelZero;};W.isActive=function(d7){return d7.$==1||(d7.$==2?false:d7.$!=3);};W.separatePrepros=function(d7){function d8(d$){var ea;ea=c4.tryLast(c3.SplitStrings(c3.Trim(d$),["\""],1));return ea==null?d$:ea.$0;}function d9(d$){var ea,eb;return c3.Trim((ea=(eb=J.splitInTwoO$1(" ",c3.Trim(d$)),eb==null?null:{$:1,$0:eb.$0[1]}),ea==null?"":ea.$0));}function d_(d$){return"//"+d$;}return c6.map(function(d$){var ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo;ea=true;return ea&&c3.StartsWith(d$,"#define")?[d_(d$),{$:2,$0:d9(d$)}]:ea&&c3.StartsWith(d$,"#cd")?[d_(d$),{$:0,$0:d8(d$)}]:ea&&c3.StartsWith(d$,"#r")?[d_(d$),{$:1,$0:d8(d$)}]:ea&&c3.StartsWith(d$,"#load")?[d_(d$),{$:3,$0:d8(d$)}]:ea&&c3.StartsWith(d$,"#nowarn")?[d_(d$),{$:5,$0:d8(d$)}]:ea&&c3.StartsWith(c3.Trim(d$),"# ")?[d_(d$),{$:4,$0:d8(d$)}]:ea&&c3.StartsWith(c3.Trim(d$),"#line")?[d_(d$),{$:4,$0:d8(d$)}]:ea&&c3.StartsWith(d$,"#I")?[d_(d$),{$:6,$0:d8(d$)}]:ea&&c3.StartsWith(d$,"#if")?[d$,{$:7,$0:d9(d$)}]:ea&&c3.StartsWith(d$,"#elif")?[d$,{$:8,$0:d9(d$)}]:ea&&c3.StartsWith(d$,"#else")?[d$,X.PrepoElse]:ea&&c3.StartsWith(d$,"#endif")?[d$,X.PrepoEndIf]:ea&&c3.StartsWith(d$,"#light")?[d$,{$:11,$0:false}]:ea&&c3.StartsWith(d$,"#")?[d_(d$),{$:12,$0:d$}]:[d$,X.NoPrepo];},d7);};W.extractDefines=function(d7){var d8;d8=d7.$0;return c3.StartsWith(d8,"////-d:")?da.string(d8,{$:1,$0:4},{$:1,$0:d8.indexOf("\n")-1}):"";};Z=c.SnippetId=c1.Class({get_Id:function(){return this.$0;}},null,Z);Z.get_Empty=function(){return new Z({$:0,$0:"00000000-0000-0000-0000-000000000000"});};_0.New=function(d7,d8,d9,d_,d$,ea,eb){return{snpId:d7,snpName:d8,snpContent:d9,snpParentIdO:d_,snpPredIds:d$,snpProperties:ea,snpModified:eb};};_1.New=function(d7,d8,d9,d_,d$,ea){return{generation:d7,ordered:d8,fetcher:d9,predecesorsCache:d_,reducedCache:d$,prepCode:ea};};_2.codeFsxRm=function(d7){return q.op_BarGreaterGreater(_2.fastCodeRm({$:1,$0:d7},{$:1,$0:d7}),function(d8){return d8[0];});};_2.fastCodeRm=function(d7,d8){var d9;d9=p.fusion();return d9.Run(d9.Delay(function(){return d9.Bind(_2.fastReducedRm(d7,d8),function(d_){return d9.Return(_2.finishCode(d_[0],d_[1],d_[2]));});}));};_2.fastReducedRm=function(d7,d8){var d9;d9=p.fusion();return d9.Run(d9.Delay(function(){return d9.Bind(p.insertO(d7==null?null:{$:1,$0:_2.snippetORm(d7.$0)}),function(d_){return d9.Bind(p.insertO(d8==null?null:{$:1,$0:_2.snippetORm(d8.$0)}),function(d$){var ea,eb,ec,ed;ea=d_==null?null:d_.$0;eb=d$==null?null:d$.$0;return(eb!=null&&eb.$==1?ea!=null&&ea.$==1?(ec=[ea.$0,eb.$0],false):true:true)?d9.ReturnFrom(_2.reducedCodeRm([])):(ed=ec[0],d9.Bind(_2.uniquePredsRm(ec[1]),function(ee){var ef;ef=new dg.New(ee);return d9.Bind((_2.reducedOthersORmMemo())([true,ed.snpId,ef]),function(eg){return d9.Bind((_2.reducedOthersORmMemo())([false,ed.snpId,ef]),function(eh){return d9.Bind(_2.separateCodeRm(ed),function(ei){var ej,ek,el,em;ej=(ek=eg==null?null:{$:1,$0:(function(en){var eo,ep,eq;eo=en[0];ep=en[1];eq=en[2];return function(er){return _2.addSeps(eo,ep,eq,er[0],er[1],er[2]);};}(eg.$0))(ei)},ek==null?ei:ek.$0);return d9.Return((el=eh==null?null:{$:1,$0:(em=eh.$0,_2.addSeps(ej[0],ej[1],ej[2],em[0],em[1],em[2]))},el==null?ej:el.$0));});});});}));});});}));};_2.reducedOthersORmMemo=function(){function d7(d8){return d8.reducedCache();}return function(d8){return p.memoizeRm(d7,function(d9){return _2.reducedOthersORm(d9[0],d9[1],d9[2]);},d8);};};_2.reducedOthersORm=function(d7,d8,d9){var d_;d_=p.fusion();return d_.Run(d_.Delay(function(){function d$(ea){return!c$.Equals(ea.snpId,d8)&&d9.Contains(ea.snpId);}return d_.Bind(q.op_BarGreaterGreater(q.op_BarGreaterGreater(_2.orderedRm(),(d7?function(ea){return function(eb){return c4.takeWhile(ea,eb);};}:function(ea){return function(eb){return c4.skipWhile(ea,eb);};})(function(ea){return!c$.Equals(ea.snpId,d8);})),function(ea){return c4.filter(d$,ea);}),function(ea){return c4.isEmpty(ea)?d_.Return(null):d_.Bind(_2.reducedCodeRm(ea),function(eb){return d_.Return({$:1,$0:eb});});});}));};_2.finishCode=function(d7,d8,d9){var d_,d$,ea,eb,ec,ed,ee;d_=W.separateDirectives(d9);d$=d_[2];ea=d_[3];eb=d_[4];ec=d_[0];ed=c3.concat(" ",c4.map(function(ef){return"-d:"+ef;},c4.sort(d_[1])));ee=c5.ofSeq(c4.delay(function(){return c4.append(ed!==""?["////"+ed]:[],c4.delay(function(){return c4.append(eb!=null?[(function(ef){return function(eg){return ef("////#cd @\""+c2.toSafe(eg)+"\"");};}(a.id))(eb.$0)]:[],c4.delay(function(){return c4.append(c4.map(function(ef){return function(eg){return ef("#I @\""+c2.toSafe(eg)+"\"");};}(a.id),d$),c4.delay(function(){return c4.append(c4.map(function(ef){return function(eg){return ef("#r @\""+c2.toSafe(eg)+"\"");};}(a.id),ec),c4.delay(function(){return c4.map(function(ef){return function(eg){return ef("#nowarn \""+c2.toSafe(eg)+"\"");};}(a.id),ea);}));}));}));}));}));return[c3.concat("\n",c4.append(ee,d8)),c6.ofSeq((c4.mapFold(function(ef,eg){var eh;eh=eg[2];return[[[eg[0],eg[1]],[eg[3],ef,ef+eh]],ef+eh];},ee.get_Length(),d7))[0])];};_2.reducedCodeRm=function(d7){var d8;d8=p.fusion();return d8.Run(d8.Delay(function(){return d8.Bind(p.traverseSeq(_2.separateCodeRm,d7),function(d9){var d_;return d8.Return((d_=c4.reduce(function(d$,ea){return(function(eb){var ec,ed,ee;ec=eb[0];ed=eb[1];ee=eb[2];return function(ef){return _2.addSeps(ec,ed,ee,ef[0],ef[1],ef[2]);};}(d$))(ea);},c4.isEmpty(d9)?[[[],[],[]]]:d9),[d_[0],[c3.concat("\n",d_[1])],d_[2]]));});}));};_2.addSeps=function(d7,d8,d9,d_,d$,ea){return[d7.concat(d_),d8.concat(d$),d9.concat(ea)];};_2.separateCodeRm=function(d7){var d8;d8=p.fusion();return d8.Run(d8.Delay(function(){return d8.Bind(_2.indentRm(d7),function(d9){var d_;function d$(ea,eb){return[c3.replicate(d9," ")+ea,eb];}d_=(d9===0?[a.id,""]:[function(ea){return c6.map(function(eb){return d$(eb[0],eb[1]);},ea);},(function(ea){return function(eb){return ea("("+a.String(eb)+")");};}(a.id))(d9)])[0];return d8.Bind(_2.prepareCodeRm(d7),function(ea){var eb,ec;eb=W.getTopDirectives(d_(W.separatePrepros(c3.SplitChars(ea,["\n"],0))));ec=eb[0];return d8.Return([[[d7.snpId,_2.snippetName(d7.snpName,d7.snpContent),c6.length(ec),d9]],ec,eb[1]]);});});}));};_2.ancestorsRm=function(d7){function d8(d9,d_){var d$;d$=p.fusion();return d$.Run(d$.Delay(function(){return d$.Bind(_2.parentORm(d9),function(ea){var eb;return ea==null?d$.Return(d_):(eb=ea.$0,d$.ReturnFrom(d8(eb,new c5.T({$:1,$0:eb,$1:d_}))));});}));}return d8(d7,c5.T.Empty);};_2.levelRm=function(d7){function d8(d9,d_){var d$;d$=p.fusion();return d$.Run(d$.Delay(function(){return d$.Bind(_2.parentORm(d9),function(ea){return ea!=null&&ea.$==1?d$.ReturnFrom(d8(ea.$0,d_+1)):d$.Return(d_);});}));}return d8(d7,0);};_2.indentRm=function(d7){function d8(d9){var d_;d_=p.fusion();return d_.Run(d_.Delay(function(){var d$,ea,eb,ec;d$=(ea=_2.propertyPairO("IndentChildren",d9),ea!=null&&ea.$==1?[(K.parseIntO$1())(ea.$0[0]),(K.parseIntO$1())(ea.$0[1])]:[null,null]);eb=d$[1];ec=d$[0];return d_.Bind(_2.parentORm(d9),function(ed){return ed==null?d_.Return([0,[ec==null?4:ec.$0,eb==null?4:eb.$0]]):d_.Bind(d8(ed.$0),function(ee){var ef,eg;ef=ee[1][1];eg=ee[1][0];return d_.Return([eg,[eg+(ec==null?ef:ec.$0),eb==null?ef:eb.$0]]);});});}));}return q.op_BarGreaterGreater(d8(d7),function(d9){return d9[0];});};_2.propertyHierORm=function(d7,d8){var d9;d9=p.fusion();return d9.Run(d9.Delay(function(){var d_;d_=_2.propertyO(d7,d8);return d_==null?d9.Bind(_2.parentORm(d8),function(d$){return d$==null?d9.Return(null):d9.Bind(_2.propertyHierORm(d7,d$.$0),function(ea){var eb,ec,ed;return d9.Return(ea==null?null:{$:1,$0:(eb=ea.$0,(ec=eb[0],(ed=eb[1][1],[ec,[ed,ed]])))});});}):d9.Return({$:1,$0:[d8,_2.propertyPair(d_.$0)]});}));};_2.modifiedRecRm=function(d7){var d8;d8=p.fusion();return d8.Run(d8.Delay(function(){return d8.Bind(_2.modifiedRm(d7),function(d9){return d9?d8.Return(true):d8.Bind(_2.uniquePredsRm(d7),function(d_){return d8.Bind(p.sequenceSeq(c4.map(_2.snippetORm,d_)),function(d$){return d8.Bind(p.sequenceSeq(c4.map(_2.modifiedRm,c4.choose(a.id,d$))),function(ea){return d8.Return(c4.contains(true,ea));});});});});}));};_2.predsGenerationRm=function(d7){var d8;d8=p.fusion();return d8.Run(d8.Delay(function(){return d8.Bind(q.op_GreaterGreaterEquals(_2.uniquePredsRm(d7),function(d9){return p.traverseSeq(_2.snippetRm,d9);}),function(d9){return d8.Return(c4.max(c4.map(function(d_){return d_.snpModified;},d9)));});}));};_2.uniquePredsRm=function(d7){return(_2.predsLRmMemo())(d7.snpId);};_2.predsLRmMemo=function(){function d7(d8){return d8.predecesorsCache();}return function(d8){return p.memoizeRm(d7,_2.predsLRm,d8);};};_2.predsLRm=function(d7){var d8;d8=p.fusion();return d8.Run(d8.Delay(function(){var d9,d_;d9=c5.ofArray([d7]);d_=c5.T.Empty;return d8.Combine(d8.While(function(){return!(d9.$==0);},d8.Delay(function(){var d$,ea;return d9.$==1?(d$=d9.$1,(ea=d9.$0,c5.contains(ea,d_)?(d9=d$,d8.Zero()):d8.Bind(_2.snippetORm(ea),function(eb){var ec,ed;d9=c5.append(d$,(ec=eb==null?null:{$:1,$0:(ed=eb.$0,c5.append(c5.ofSeq(ed.snpPredIds),dh.toList(ed.snpParentIdO)))},ec==null?c5.T.Empty:ec.$0));d_=new c5.T({$:1,$0:ea,$1:d_});return d8.Zero();}))):d8.Zero();})),d8.Delay(function(){return d8.Return(d_);}));}));};_2.snippetFromRefORm=function(d7){return d7.$==1?_2.snippetFromPathORm(d7.$0):_2.snippetORm(d7.$0);};_2.snippetFromPathORm=function(d7){var d8;d8=p.fusion();return d8.Run(d8.Delay(function(){return d8.Bind(_2.orderedRm(),function(d9){function d_(d$,ea){return function(eb){return d$.length===0?[null,[[],ea]]:_2.snippetName(eb.snpName,eb.snpContent)!==c6.get(d$,0)||!c$.Equals(eb.snpParentIdO,ea)?[null,[d$,ea]]:d$.length>1?[null,[da.array(d$,{$:1,$0:1},null),{$:1,$0:eb.snpId}]]:[{$:1,$0:eb},[[],ea]];};}return d8.Return(c4.tryHead(c4.choose(a.id,(c4.mapFold(function(d$,ea){return(function(eb){return d_(eb[0],eb[1]);}(d$))(ea);},[d7,null],d9))[0])));});}));};_2.pathRm=function(d7){var d8;function d9(d_){return q.op_BarGreaterGreater(_2.pathRm(d_.snpId),function(d$){return new c5.T({$:1,$0:d_.snpId,$1:d$});});}return q.op_BarGreaterGreater(q.op_GreaterGreaterEquals(q.op_BarGreaterGreater(q.op_BarGreaterGreater(q.op_GreaterGreaterEquals(q.op_BarGreaterGreater(_2.snippetORm(d7),function(d_){return d_==null?null:{$:1,$0:_2.parentORm(d_.$0)};}),p.insertO),function(d_){return d_==null?null:a.id(d_.$0);}),function(d_){return d_==null?null:{$:1,$0:d9(d_.$0)};}),p.insertO),(d8=c5.T.Empty,function(d_){return d_==null?d8:d_.$0;}));};_2.snippetNameRm=function(d7){return q.op_BarGreaterGreater(_2.snippetRm(d7),function(d8){return _2.snippetName(d8.snpName,d8.snpContent);});};_2.snippetRm=function(d7){return p.absorbO(function(){return new d({$:1,$0:(function(d8){return function(d9){return d8("Snippet not found "+cW.p(d9));};}(a.id))(d7)});},_2.snippetORm(d7));};_2.prepareCodeRm=function(d7){return p.readerFun(function(d8){return d8.prepCode(d7);});};_2.orderedRm=function(){return p.readerFun(function(d7){return d7.ordered;});};_2.childrenRm=function(d7){return p.readerFun(function(d8){return c4.filter(function(d9){return c$.Equals(d9.snpParentIdO,{$:1,$0:d7});},d8.ordered);});};_2.modifiedRm=function(d7){return p.readerFun(function(d8){return d7.snpModified>d8.generation;});};_2.maxGenerationRm=function(){return p.readerFun(function(d7){return c4.max(c4.map(function(d8){return d8.snpModified;},d7.ordered));});};_2.predecessorsRm=function(d7){return p.readerFun(function(d8){return c4.choose(d8.fetcher,d7.snpPredIds);});};_2.parentORm=function(d7){return p.readerFun(function(d8){var d9;d9=d7.snpParentIdO;return d9==null?null:d8.fetcher(d9.$0);});};_2.snippetORm=function(d7){return p.readerFun(function(d8){return d8.fetcher(d7);});};_2.propertyPairO=function(d7,d8){var d9;d9=_2.propertyO(d7,d8);return d9==null?null:{$:1,$0:_2.propertyPair(d9.$0)};};_2.propertyPair=function(d7){var d8,d9,d_;d8=c3.SplitStrings(d7,[_2.tieFighter()],0);return[c6.get(d8,0),(d9=c6.tryItem(1,d8),(d_=c6.get(d8,0),d9==null?d_:d9.$0))];};_2.tieFighter=function(){cT.$cctor();return cT.tieFighter;};_2.propertyO=function(d7,d8){function d9(d_,d$){return d_===d7?{$:1,$0:d$}:null;}return c6.tryPick(function(d_){return d9(d_[0],d_[1]);},d8.snpProperties);};_2.nameSanitized=function(d7){var d8,d9;d8=["\"","<",">","|","\u0000","\u0001","\u0002","\u0003","\u0004","\u0005","\u0006","\u0007","\u0008","\u0009","\n","\u000b","\u000c","\r","\u000e","\u000f","\u0010","\u0011","\u0012","\u0013","\u0014","\u0015","\u0016","\u0017","\u0018","\u0019","\u001a","\u001b","\u001c","\u001d","\u001e","\u001f",":","*","?","\\","/"];return c3.Filter(function(d_){return!c6.contains(d_,d8);},d7.snpName)+" "+(d9=d7.snpId.get_Id(),a.String(d9));};_2.snippetName=function(d7,d8){var d9;return d7!==""?d7:(d9=c4.tryHead(c4.filter(function(d_){return!(c3.StartsWith(d_,"#")||c3.StartsWith(d_,"[<")||c3.StartsWith(d_,"//"));},c4.map(c3.Trim,c3.SplitChars(d8,["\n"],1)))),d9==null?"<empty>":d9.$0);};_2.defaultSnippet=function(){cT.$cctor();return cT.defaultSnippet;};_2.New=function(d7,d8,d9){return _0.New(new Z({$:0,$0:de.NewGuid()}),d7,d8,d9,new dg.New$1(null),[],_2.getNextModified());};_2.getNextModified=function(){return di.now();};_3.Hole={$:0};_5.New=function(d7,d8,d9,d_,d$,ea,eb){return{id:d7,isExpandedRm:d8,canHaveChildrenRm:d9,childrenRm:d_,pathRm:d$,parentORm:ea,newChildrenRm:eb};};_4.removeNodeOutdentChildren=function(d7,d8){var d9;function d_(d$,ea){return q.op_GreaterGreaterEquals(d$,function(eb){return _4.outdentNode(ea,eb);});}return q.op_GreaterGreaterEquals(q.op_GreaterGreaterEquals(q.op_BarGreaterGreater(d7.childrenRm(),c6.ofSeq),(d9=q.rtn(d8),function(d$){return c4.fold(d_,d9,d$);})),function(d$){return _4.removeNode(d7,d$);});};_4.outdentNode=function(d7,d8){var d9;function d_(d$){return _4.moveToSibling(true,d7,d$,d8);}return q.op_GreaterGreaterEquals(q.op_BarGreaterGreater(d7.parentORm(d8),function(d$){return d$==null?null:{$:1,$0:d_(d$.$0)};}),(d9=q.rtn(d8),function(d$){return d$==null?d9:d$.$0;}));};_4.indentNode=function(d7,d8){var d9;function d_(ea){return!c$.Equals(d7.id(),ea.id());}function d$(ea,eb){return q.op_GreaterGreaterEquals(eb.canHaveChildrenRm(),function(ec){return ec?q.rtn({$:1,$0:eb}):ea;});}return q.op_GreaterGreaterEquals(q.op_GreaterGreaterEquals(q.op_BarGreaterGreater(q.op_GreaterGreaterEquals(d7.parentORm(d8),function(ea){return ea!=null&&ea.$==1?q.op_BarGreaterGreater(ea.$0.childrenRm(),function(eb){var ec;ec=c6.ofSeq(eb);return ec;}):q.rtn(d8);}),function(ea){return c4.takeWhile(d_,ea);}),(d9=q.rtn(null),function(ea){return c4.fold(d$,d9,ea);})),function(ea){var eb;return ea!=null&&ea.$==1?(eb=ea.$0,q.op_GreaterGreaterEquals(_4.removeNode(d7,d8),function(ec){return _4.addChild(true,d7,eb,ec);})):q.rtn(d8);});};_4.addChild=function(d7,d8,d9,d_){var d$;d$=p.fusion();return d$.Run(d$.Delay(function(){return d$.Bind(d9.pathRm(),function(ea){function eb(ec){var ed,ee;return c$.Equals(ec.id(),d9.id())?d7?q.op_GreaterGreaterEquals(q.op_BarGreaterGreater(q.op_BarGreaterGreater(q.op_BarGreaterGreater(ec.childrenRm(),c6.ofSeq),(ed=c5.ofArray([d8]),function(ef){return c4.append(ef,ed);})),c6.ofSeq),ec.newChildrenRm):q.op_GreaterGreaterEquals(q.op_BarGreaterGreater(q.op_BarGreaterGreater(q.op_BarGreaterGreater(ec.childrenRm(),c6.ofSeq),(ee=c5.ofArray([d8]),function(ef){return c4.append(ee,ef);})),c6.ofSeq),ec.newChildrenRm):c5.contains(ec.id(),ea)?q.op_GreaterGreaterEquals(q.op_BarGreaterGreater(q.op_GreaterGreaterEquals(q.op_BarGreaterGreater(q.op_BarGreaterGreater(ec.childrenRm(),c6.ofSeq),function(ef){return c4.map(eb,ef);}),p.sequenceSeq),c6.ofSeq),ec.newChildrenRm):q.rtn(ec);}return d$.ReturnFrom(p.sequenceSeq(c4.map(eb,d_)));});}));};_4.moveToSibling2=function(d7,d8,d9,d_){var d$;d$=p.fusion();return d$.Run(d$.Delay(function(){return d$.Bind(_4.tryFindId(d8,d_),function(ea){var eb;return ea!=null&&ea.$==1?(eb=ea.$0,d$.Bind(_4.tryFindId(d9,d_),function(ec){return ec!=null&&ec.$==1?d$.ReturnFrom(_4.moveToSibling(d7,eb,ec.$0,d_)):d$.Return(d_);})):d$.Return(d_);});}));};_4.moveToSibling=function(d7,d8,d9,d_){return q.op_GreaterGreaterEquals(_4.removeNode(d8,d_),function(d$){return _4.addSibling(d7,d8,d9,d$);});};_4.tryFindId=function(d7,d8){return _4.tryFind(function(d9){return c$.Equals(d9.id(),d7);},d8);};_4.tryFind=function(d7,d8){function d9(d_,d$){return q.op_GreaterGreaterEquals(d_,function(ea){var eb;return ea==null?d7(d$)?q.rtn({$:1,$0:d$}):q.op_GreaterGreaterEquals(d$.childrenRm(),(eb=q.rtn(null),function(ec){return c4.fold(d9,eb,ec);})):q.rtn({$:1,$0:ea.$0});});}return c4.fold(d9,q.rtn(null),d8);};_4.addSibling=function(d7,d8,d9,d_){function d$(ea){return c$.Equals(ea.id(),d9.id());}return q.op_GreaterGreaterEquals(d9.pathRm(),function(ea){var eb,ec;function ed(ee){return c$.Equals(ee.id(),ec)?q.op_GreaterGreaterEquals(q.op_BarGreaterGreater(ee.childrenRm(),c6.ofSeq),function(ef){return _4.addToParent(d7,d$,d8,ee,ef);}):c5.contains(ee.id(),eb)?q.op_GreaterGreaterEquals(q.op_BarGreaterGreater(q.op_GreaterGreaterEquals(q.op_BarGreaterGreater(q.op_BarGreaterGreater(ee.childrenRm(),c6.ofSeq),function(ef){return c4.map(ed,ef);}),p.sequenceSeq),c6.ofSeq),ee.newChildrenRm):q.rtn(ee);}return ea.$==1?(eb=ea.$1,(ec=ea.$0,p.sequenceSeq(c4.map(ed,d_)))):q.rtn(_4.addNodeToSeq(d7,d$,d8,d_));});};_4.addToParent=function(d7,d8,d9,d_,d$){return d_.newChildrenRm(c6.ofSeq(_4.addNodeToSeq(d7,d8,d9,d$)));};_4.addNodeToSeq=function(d7,d8,d9,d_){return c5.ofSeq(c4.delay(function(){return c4.collect(function(d$){return d8(d$)?d7?c4.append([d$],c4.delay(function(){return[d9];})):c4.append([d9],c4.delay(function(){return[d$];})):[d$];},d_);}));};_4.removeNodes=function(d7,d8){var d9;d9=p.fusion();return d9.Run(d9.Delay(function(){function d_(d$,ea){var eb;eb=p.fusion();return eb.Run(eb.Delay(function(){return eb.Bind(d$,function(ec){var ed,ee;ed=ec[1];ee=ec[0];return eb.Bind(q.op_BarGreaterGreater(ea.childrenRm(),c6.ofSeq),function(ef){return eb.Bind(c4.fold(d_,q.rtn([c5.T.Empty,ed]),ef),function(eg){var eh,ei;eh=eg[1];ei=eg[0];return d7(ea)?eb.Return([ee,c5.append(ei,eh)]):eb.Bind(ea.newChildrenRm(c6.ofSeq(c4.rev(ei))),function(ej){return eb.Return([new c5.T({$:1,$0:ej,$1:ee}),eh]);});});});});}));}return d9.Bind(c4.fold(d_,q.rtn([c5.T.Empty,c5.T.Empty]),d8),function(d$){return d9.Return(c5.rev(c5.append(d$[1],d$[0])));});}));};_4.removeNode=function(d7,d8){var d9;d9=p.fusion();return d9.Run(d9.Delay(function(){return d9.Bind(d7.pathRm(),function(d_){function d$(ea){var eb;eb=p.fusion();return eb.Run(eb.Delay(function(){return c$.Equals(ea.id(),d7.id())?eb.Return(null):c5.contains(ea.id(),d_)?eb.ReturnFrom(q.op_BarGreaterGreater(q.op_GreaterGreaterEquals(q.op_BarGreaterGreater(q.op_BarGreaterGreater(q.op_GreaterGreaterEquals(q.op_BarGreaterGreater(q.op_BarGreaterGreater(ea.childrenRm(),c6.ofSeq),function(ec){return c4.map(d$,ec);}),p.sequenceSeq),function(ec){return c4.choose(a.id,ec);}),c6.ofSeq),ea.newChildrenRm),function(ec){return{$:1,$0:ec};})):eb.Return({$:1,$0:ea});}));}return d9.ReturnFrom(q.op_BarGreaterGreater(p.sequenceSeq(c4.map(d$,d8)),function(ea){return c4.choose(a.id,ea);}));});}));};_4.listNodes=function(d7,d8){return q.op_BarGreaterGreater(p.sequenceSeq(c4.map(function(d9){return q.op_BarGreaterGreater(q.op_GreaterGreaterEquals(d9.isExpandedRm(),function(d_){var d$;return d_?q.op_GreaterGreaterEquals(q.op_BarGreaterGreater(d9.childrenRm(),c6.ofSeq),(d$=d7+1,function(ea){return _4.listNodes(d$,ea);})):q.rtn([]);}),function(d_){return c4.append([[d9,d7]],d_);});},d8)),function(d9){return c4.collect(a.id,d9);});};c["String.get_toUnderscore$1"]=function(d7,d8){return c6.ofSeq(c4.collect(a.id,c4.mapi(function(d9,d_){return d9>0&&dj.IsUpper(d_)?c5.ofArray(["_",d_]):c5.ofArray([d_]);},d7))).join("");};c["String.Right$1"]=function(d7,d8){var d9,d_;return c["String.Substring2$1"](d7,(d9=0,(d_=d7.length-d8,c$.Compare(d9,d_)===1?d9:d_)),d7.length);};c["String.Left$1"]=function(d7,d8){return d8<0?c["String.Substring2$1"](d7,0,d7.length+d8):c["String.Substring2$1"](d7,0,d8);};c["String.Substring2$1"]=function(d7,d8,d9){var d_,d$;while(true){if(d9<=0)return"";else if(d8>=d7.length)return"";else if(d8<0){d_=d8;d8=0;d9=d9+d_;}else return c3.Substring(d7,d8,(d$=d7.length-d8,c$.Compare(d9,d$)===-1?d9:d$));}};c.delayed$1=function(d7,d8){var d9;d9=[null];return function(d_){var d$,ea;d$=d9[0];d$==null?void 0:d$.$0.Cancel$1();d9[0]={$:1,$0:new dk.New()};c7.Start((ea=null,c7.Delay(function(){return c7.Bind(c7.Sleep(d7),function(){d8(d_);return c7.Zero();});})),{$:1,$0:d9[0].$0});};};c.print$1=function(d7){if(typeof d7=="string")((function(d8){return function(d9){return d8(c2.toSafe(d9));};}(function(d8){dl.log(d8);}))(d7));else((function(d8){return function(d9){return d8(c2.prettyPrint(d9));};}(function(d8){dl.log(d8);}))(d7));};c.Error$1=function(d7){return{$:1,$0:d7};};_7.ofAsyncResult=function(d7){return new a.Promise(function(d8,d9){c7.StartWithContinuations(d7,function(d_){if(d_.$==1)d9((function(d$){return function(ea){return d$(c2.prettyPrint(ea));};}(a.id))(d_.$0));else d8(d_.$0);},function(d_){d9(d_);},function(d_){d9(d_);},null);});};_8.ofAsyncResultM=function(d7){return new a.Promise(function(d8,d9){c7.StartWithContinuations(d7,function(d_){var d$;d$=f.OkM(d_);d$.$==1?d9(d.summarized(d$.$0)):d8(d$.$0[0]);},function(d_){d9(d_);},function(d_){d9(d_);},null);});};_9.sequenceSeq=function(d7){return _9.traverseSeq(a.id,d7);};_9.traverseSeq=function(d7,d8){return _9.map(a.id,c6.foldBack(function(d9,d_){return _9.op_GreaterGreaterEquals(d7(d9),function(d$){return _9.op_GreaterGreaterEquals(d_,function(ea){return _9.rtn(new c5.T({$:1,$0:d$,$1:ea}));});});},c6.ofSeq(d8),_9.rtn(c5.T.Empty)));};_9.op_GreaterGreaterEquals=function(d7,d8){return _9.bind(d8,d7);};_9.rtn=function(d7){return dn.Const(d7);};_9.map=function(d7,d8){return dn.Map(d7,d8);};_9.bind=function(d7,d8){return dn.Bind(d7,d8);};_9.insertWO=function(d7){return d7==null?dn.Const(null):dn.Map(function(d8){return{$:1,$0:d8};},d7.$0);};_.newPojoOpt=function(d7){function d8(d9,d_){return d_==null?null:{$:1,$0:[d9,d_.$0]};}return _.newPojo(c4.choose(function(d9){return d8(d9[0],d9[1]);},d7));};_.newPojo=function(d7){var d8,d9;function d_(ea,eb){return function(ec){return _.addProp(ea,eb,ec);};}function d$(ea){}d8={};c4.iter((d9=function(ea){return(function(eb){return d_(eb[0],eb[1]);}(ea))(d8);},function(ea){return d$(d9(ea));}),d7);return d8;};_.addProp=function(d7,d8,d9){d9[d7]=d8;return d9;};ba.New=function(d7,d8){return{line:d7,col:d8};};bb.Hint={$:3};bb.Info={$:2};bb.Warning={$:1};bb.Error={$:0};bc.New=function(d7,d8,d9,d_){return{startP:d7,endP:d8,severity:d9,message:d_};};bd.New=function(d7,d8,d9,d_){return{kind:d7,label:d8,detail:d9,replace:d_};};be.New=function(d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg){return{generateDoc:d7,getValue:d8,setValue:d9,setDisabled:d_,showAnnotations:d$,posFromIndex:ea,indexFromPos:eb,getWordAt:ec,getSelectionText:ed,getUri:ee,setUri:ef,hookOnChange:eg};};bf.New=function(d7,d8,d9,d_,d$,ea,eb,ec,ed,ee){return{"var":d7,disabled:d8,annotations:d9,onChange:d_,onRender:d$,autoCompletion:ea,toolTip:eb,declaration:ec,editorO:ed,editorHook:ee};};$.generateDoc=function(d7){var d8,d9,d_;d8=(d9=(d_=d7.onChange,d_==null?null:{$:1,$0:d_.$0(d7)}),d9==null?a.ignore:d9.$0);return(d7.editorHook.generateDoc(d7))(function(d$){d7.editorO={$:1,$0:d$};$.bindVarEditor(d7.editorHook.hookOnChange,d7.editorHook.getValue,d7.editorHook.setValue,d8,d7["var"]);dn.Sink(d7.editorHook.showAnnotations,d7.annotations);dn.Sink(d7.editorHook.setDisabled,d7.disabled);d7.onRender(d7);});};$.bindVarEditor=function(d7,d8,d9,d_,d$){var ea,eb;ea=[0];eb=[0];d7(function(){var ec;ec=d8();!c$.Equals(d$.Get(),ec)?(ea[0]=ea[0]+1,d$.Set(ec),d_(ec)):void 0;});dn.Sink(function(){if(ea[0]>eb[0])eb[0]=ea[0];else if(!c$.Equals(d8(),d$.Get()))d9(d$.Get());},d$.get_View());};$.newVarO=function(d7,d8){var d9;d9=$.newVar(d7,_do.Lens(d8,function(d_){return d_==null?"":d_.$0;},function(d_,d$){return d_==null?null:{$:1,$0:d$};}));return $.disabled(dn.Map(function(d_){return d_==null;},d8.get_View()),d9);};$.newText=function(d7,d8){return $.newVar(d7,_do.Create$1(d8));};$.newVar=function(d7,d8){return bf.New(d8,dn.Const(false),dn.Const([]),null,a.ignore,null,null,null,null,d7);};$["var"]=function(d7){return d7["var"];};$.disabled=function(d7,d8){return bf.New(d8["var"],d7,d8.annotations,d8.onChange,d8.onRender,d8.autoCompletion,d8.toolTip,d8.declaration,d8.editorO,d8.editorHook);};$.onRender=function(d7,d8){return bf.New(d8["var"],d8.disabled,d8.annotations,d8.onChange,d7,d8.autoCompletion,d8.toolTip,d8.declaration,d8.editorO,d8.editorHook);};$.onChange=function(d7,d8){return bf.New(d8["var"],d8.disabled,d8.annotations,d7,d8.onRender,d8.autoCompletion,d8.toolTip,d8.declaration,d8.editorO,d8.editorHook);};$.setVar=function(d7,d8){return bf.New(d7,d8.disabled,d8.annotations,d8.onChange,d8.onRender,d8.autoCompletion,d8.toolTip,d8.declaration,d8.editorO,d8.editorHook);};bg.serLMdField=function(d7,d8,d9,d_){var d$;function ea(eb,ec){d8(eb).Set(d$[1](ec));return eb;}d$=bg.serSeq(d9,d_);return[d7,function(eb){var ec;ec=(d8(eb))["var"].Get();return d$[0](ec);},function(eb){return function(ec){return ea(eb,ec);};}];};bg.serVarField=function(d7,d8,d9,d_){var d$;function ea(eb){return eb.Get();}return[d7,(d$=function(eb){return ea(d8(eb));},function(eb){return d9(d$(eb));}),function(eb){return function(ec){_do.Set(d8(eb),d_(ec));return eb;};}];};bg.serMap=function(d7,d8,d9,d_){var d$,ea,eb,ec,ed;function ee(eg){return[eg.K,eg.V];}function ef(eg){return new dp.New(eg);}d$=(ea=bg.serDup(d7,d8,d9,d_),bg.serSeq(ea[0],ea[1]));return[(eb=function(eg){return c4.map(ee,eg);},(ec=d$[0],function(eg){return ec(eb(eg));})),(ed=d$[1],function(eg){return ef(ed(eg));})];};bg.serDup=function(d7,d8,d9,d_){var d$,ea,eb;function ec(ee){return[d$[1](null),ea[1](null)];}function ed(ee){return[d$[1](c6.get(ee,0)),ea[1](c6.get(ee,1))];}d$=[d7,d8];ea=[d9,d_];return[function(ee){return(((c1.Curried3(function(ef,eg,eh){return ef("["+c2.toSafe(eg)+", "+c2.toSafe(eh)+"]");}))(a.id))(d$[0](ee[0])))(ea[0](ee[1]));},(eb=function(ee){return bg.ifUndefF(ec,ed,ee);},function(ee){return eb(a.id(ee));})];};bg.serOpt=function(d7,d8){var d9,d_,d$,ea,eb,ec;function ed(eg){return eg==null?"null":eg.$0;}function ee(eg){return null;}function ef(eg){return{$:1,$0:eg};}d9=[d7,d8];return[(d_=(d$=d9[0],function(eg){return eg==null?null:{$:1,$0:d$(eg.$0)};}),function(eg){return ed(d_(eg));}),(ea=(eb=(ec=d9[1],function(eg){return ef(ec(eg));}),function(eg){return bg.ifUndefF(ee,eb,eg);}),function(eg){return ea(a.id(eg));})];};bg.serSet=function(d7,d8){var d9,d_,d$,ea,eb,ec,ed;function ee(eg){return[];}function ef(eg){return new dg.New(eg);}d9=[d7,d8];return[(d_=(d$=d9[0],function(eg){return new dg.New$1(dq.OfSeq(c4.map(d$,eg)));}),function(eg){return bg.sprintA(d_(eg));}),(ea=(eb=(ec=(ed=d9[1],function(eg){return c4.map(ed,eg);}),function(eg){return bg.ifUndefF(ee,ec,eg);}),function(eg){return eb(a.id(eg));}),function(eg){return ef(ea(eg));})];};bg.serLst=function(d7,d8){var d9,d_,d$,ea,eb,ec,ed;function ee(ef){return[];}d9=[d7,d8];return[(d_=(d$=d9[0],function(ef){return c5.map(d$,ef);}),function(ef){return bg.sprintA(d_(ef));}),(ea=(eb=(ec=(ed=d9[1],function(ef){return c4.map(ed,ef);}),function(ef){return bg.ifUndefF(ee,ec,ef);}),function(ef){return eb(a.id(ef));}),function(ef){return c5.ofSeq(ea(ef));})];};bg.serArr=function(d7,d8){var d9,d_,d$,ea,eb,ec,ed;function ee(ef){return[];}d9=[d7,d8];return[(d_=(d$=d9[0],function(ef){return c6.map(d$,ef);}),function(ef){return bg.sprintA(d_(ef));}),(ea=(eb=(ec=(ed=d9[1],function(ef){return c4.map(ed,ef);}),function(ef){return bg.ifUndefF(ee,ec,ef);}),function(ef){return eb(a.id(ef));}),function(ef){return c6.ofSeq(ea(ef));})];};bg.serSeq=function(d7,d8){var d9,d_,d$,ea,eb,ec;function ed(ee){return[];}d9=[d7,d8];return[(d_=(d$=d9[0],function(ee){return c4.map(d$,ee);}),function(ee){return bg.sprintA(d_(ee));}),(ea=(eb=(ec=d9[1],function(ee){return c4.map(ec,ee);}),function(ee){return bg.ifUndefF(ed,eb,ee);}),function(ee){return ea(a.id(ee));})];};bg.serFieldO=function(d7,d8,d9,d_,d$){function ea(eb){return eb==null?null:{$:1,$0:d_(eb.$0)};}return[d7,function(eb){return ea(d8(eb));},function(eb){return function(ec){return d9(!ec?null:{$:1,$0:d$(ec)},eb);};}];};bg.serField=function(d7,d8,d9,d_,d$){var ea;function eb(ec){return{$:1,$0:ec};}return[d7,(ea=function(ec){return d_(d8(ec));},function(ec){return eb(ea(ec));}),function(ec){return function(ed){return d9(d$(ed),ec);};}];};bg.serDate=function(){cT.$cctor();return cT.serDate;};bg.serString=function(){cT.$cctor();return cT.serString;};bg.serBool=function(){cT.$cctor();return cT.serBool;};bg.serInt=function(){cT.$cctor();return cT.serInt;};bg.serFloat=function(){cT.$cctor();return cT.serFloat;};bg.sprintA=function(d7){var d8;d8=c3.concat(", ",d7);return(function(d9){return function(d_){return d9("["+c2.toSafe(d_)+"]");};}(a.id))(d8);};bg.deserGuid=function(){cT.$cctor();return cT.deserGuid;};bg.Exists=function(d7,d8){return!d8[d7]?null:{$:1,$0:d8[d7]};};bg.ifUndefF=function(d7,d8,d9){return!d9?d7(d9):d8(d9);};bg.ifUndef=function(d7,d8){return!d8?d7:d8;};bh.Identifier$1=function(d7){var d8,d9,d_;return(d9=_6.REGEX$2("^[$a-zA-Z_][0-9a-zA-Z_\\.\\-$]*$","",d7),d9!=null&&d9.$==1&&((d_=d9.$0,!c$.Equals(d_,null)&&d_.length===1)&&(d8=c6.get(d9.$0,0),true)))?{$:1,$0:d8}:null;};bh.getEndWord$1=function(d7,d8){var d9,d_;d9=_6.REGEX$2("^([a-zA-Z_]\\w*)","g",d7.substring(d8));return d9!=null&&d9.$==1?(d_=d9.$0,!c$.Equals(d_,null)&&d_.length===1)?c6.get(d9.$0,0):"":"";};bh.getStartWord$1=function(d7,d8){var d9,d_;d9=_6.REGEX$2("([a-zA-Z_]\\w*)$","g",c3.Substring(d7,0,d8));return d9!=null&&d9.$==1?(d_=d9.$0,!c$.Equals(d_,null)&&d_.length===1)?c6.get(d9.$0,0):"":"";};bj=bi.Hoverable=c1.Class({Content:function(d7){return d7.on("mouseenter",function(){return dr.AddClass(d7.elt,"hovering");}).on("mouseleave",function(){return dr.RemoveClass(d7.elt,"hovering");});},Content$1:function(d7){return ds.Element("div",this.get_Attributes(),d7);},get_Attributes:function(){var d7,d8;d7=this;return c5.ofArray([(d8=dn.Const("hovering"),dt.DynamicPred("class",this.hover.get_View(),d8)),du.HandlerImpl("mouseenter",function(){return function(){return d7.hover.Set(true);};}),du.HandlerImpl("mouseleave",function(){return function(){return d7.hover.Set(false);};})]);}},null,bj);bj.get_Demo$1=function(){return bj.New$3().Content(ds.Element("div",[du.Create("style","flex-flow: column;")],[ds.TextNode("Hover over me!")]));};bj.Content$2770$81=c1.Curried3(function(d7,d8,d9){return dr.RemoveClass(d7.elt,"hovering");});bj.get_Attributes$2766$69=c1.Curried3(function(d7,d8,d9){return d7.hover.Set(false);});bj.get_Attributes$2765$69=c1.Curried3(function(d7,d8,d9){return d7.hover.Set(true);});bj.New$3=function(){return bj.New$2(_do.Create$1(false));};bj.New$2=function(d7){return new bj({hover:d7});};bi.hoverable$1=function(d7){return bj.New$3().Content(d7);};bk.addResizeObserver$1=function(d7,d8){var d9,d_,d$,ea;try{d9=!(!a.ResizeObserver);}catch(eb){d9=false;}if(d9){d_=new a.ResizeObserver(d7);bk.set_observers$1(new c5.T({$:1,$0:d_,$1:bk.observers$1()}));d_.observe(d8);}else{d$=bk.dimsChanged$1(d8);c7.Start((ea=null,c7.Delay(function(){return c7.While(function(){return d8.isConnected;},c7.Delay(function(){return c7.Bind(c7.Sleep(110),function(){return d$()?(d7(),c7.Zero()):c7.Zero();});}));})),null);}};bk.dimsChanged$1=function(d7){var d8;d8=[d7.getBoundingClientRect()];return function(){var d9;d9=d7.getBoundingClientRect();return c$.Equals(bk.domRect2Tuple$1(d8[0]),bk.domRect2Tuple$1(d9))?false:(d8[0]=d9,true);};};bk.domRect2Tuple$1=function(d7){return[d7.top,d7.left,d7.width,d7.height];};bk.observers$1=function(){cT.$cctor();return cT.observers;};bk.set_observers$1=function(d7){cT.$cctor();cT.observers=d7;};bn=bm.WcTabStripT=c1.Class({connectedCallback:function(){var d7,d8,d9,d_;function d$(){var ea,eb,ec;eb=!d8.hasAttribute("bottom");ec=c5.ofSeq(c4.delay(function(){return c4.collect(function(ed){var ee;ee=d8.childNodes[ed-1];return c$.Equals(ee.nodeType,dv.ELEMENT_NODE)?[[ee.hasAttribute("tabname")?ee.getAttribute("tabname"):(function(ef){return function(eg){return ef("Tab "+a.String(eg));};}(a.id))(ed),ee]]:[];},c_.range(1,d8.childNodes.length));}));while(d_.childNodes.length>0)d_.removeChild(d_.lastChild);ea=bm.tabStrip$1(d7.selected,eb,true,ec,ds.Element("slot",c5.T.Empty,c5.T.Empty));dx.LoadLocalTemplates("");ds.Run(d_,ea);}d7=this;!this.added?(d8=this,d9=d8.attachShadow({mode:"open"}),d_=self.document.createElement("div"),d9.appendChild(d_),d$(),d8.addEventListener("DOMSubtreeModified",c.delayed$1(50,d$)),this.added=true):void 0;}},k,bn);bn.Constructor$1=function(){var d7,d8;d7=(d8=dy.construct(self.HTMLElement,[],this.__proto__.constructor),d8);self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New.call(d7);return d7;};bn.New$1=c1.Ctor(function(){k.New.call(this);this.added=false;this.selected=_do.Create$1(1);(function(d7){return d7("WcTabStripT initializer");}(function(d7){dl.log(d7);}));},bn);bm.init$1=function(){cT.$cctor();return cT.init;};bm.tabStrip$2912$64=function(d7,d8){return function(){return function(){return d8.Set(d7+1);};};};bm.tabStrip$1=function(d7,d8,d9,d_,d$){var ea;ea=ds.Element("div",[du.Create("class",(((c1.Curried3(function(eb,ec,ed){return eb("tab-strip "+c2.toSafe(ec)+" "+c2.toSafe(ed));}))(a.id))(d8?"top":"bottom"))(d9?"horizontal":"vertical"))],c5.ofSeq(c4.delay(function(){return c4.collect(function(eb){var ec;ec=eb[0];return[bj.New$3().Content(ds.Element("div",[dt.Dynamic("class",dn.Map(function(ed){return"tab"+(ed===ec+1?" selected":"");},d7.get_View())),du.Create("draggable","true"),du.HandlerImpl("click",function(){return function(){return d7.Set(ec+1);};})],[ds.TextNode(eb[1][0])]))];},c4.indexed(d_));})));return ds.Element("div",[du.Create("class","tab-panel")],c5.ofSeq(c4.delay(function(){return c4.append(d8?[ea]:[],c4.delay(function(){return c4.append([ds.Element("div",[du.Create("class","tab-content")],[d$])],c4.delay(function(){return c4.append(!d8?[ea]:[],c4.delay(function(){return c4.append([ds.Element("style",c5.T.Empty,c5.ofArray([ds.TextNode(bm.css$1())]))],c4.delay(function(){return[ds.Element("style",c5.T.Empty,c5.ofArray([ds.TextView(dn.Map(function(eb){return function(ec){return eb("\r\n                                              ::slotted(*              ) { display: none }\r\n                                              ::slotted(*:nth-child("+a.String(ec)+")) { display: grid }\r\n                                           ");};}(a.id),d7.get_View()))]))];}));}));}));}));})));};bm.css$1=function(){cT.$cctor();return cT.css;};bp=bo.WcSplitterT=c1.Class({connectedCallback:function(){var d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek;function el(et){var eu,ev,ew,ex;eu=ec?["padding-left","padding-right","grid-column-gap"]:["padding-top","padding-bottom","grid-row-gap"];ev=a.parseFloat("0"+a.jQuery(et.parentElement.parentElement).css(eu[0]));ew=a.parseFloat("0"+a.jQuery(et.parentElement.parentElement).css(eu[1]));ef.Set(a.parseFloat("0"+a.jQuery(et.parentElement.parentElement).css(eu[2])));ee[0]=ev+ew;ex=d7.getBoundingClientRect();return ec?eb?[ex.width,ex.height]:[-ex.width,ex.height]:eb?[ex.height,ex.width]:[-ex.height,ex.width];}function em(et){return ec?et.clientX:et.clientY;}function en(et){var eu,ev;eu=(em(et)-ei[0])*100/ed[0][0]+eh[0];ea.Set((ev=c$.Compare(d_,eu)===1?d_:eu,c$.Compare(d$,ev)===-1?d$:ev));}function eo(){if(eg[0]){eg[0]=false;self.removeEventListener("mousemove",en,false);self.removeEventListener("mouseup",eo,false);}}function ep(et){var eu,ev;if(!eg[0]){eg[0]=true;eh[0]=ea.Get();ei[0]=em(et);ed[0]=(eu=(ev=ej[0],ev==null?null:{$:1,$0:el(ev.$0)}),eu==null?[100,500]:eu.$0);self.addEventListener("mousemove",en,false);self.addEventListener("mouseup",eo,false);et.preventDefault();}}function eq(et,eu,ev,ew){return[(et-eu-ev)*ew/100,(et-eu-ev)*(100-ew)/100];}function er(et,eu){return(((((c1.Curried(function(ev,ew,ex,ey,ez){return ev(" "+ew.toFixed(2)+"px "+ex.toFixed(2)+"px ; "+c2.toSafe(ey)+" : "+ez.toFixed(2)+"px; ");},5))(a.id))(et))(eu))(ec?"height":"width"))(ed[0][1]);}function es(){var et;et=ej[0];(h.iter(function(eu){ed[0]=el(eu);}))(et);ea.Set(ea.Get());}if(!this.added){d7=this;d8=d7.attachShadow({mode:"open"});d9=self.document.createElement("div");d_=d7.hasAttribute("min")?a.parseFloat(d7.getAttribute("min")):4;d$=d7.hasAttribute("max")?a.parseFloat(d7.getAttribute("max")):96;ea=_do.Create$1(d7.hasAttribute("value")?a.parseFloat(d7.getAttribute("value")):50);eb=!d7.hasAttribute("second");ec=d7.hasAttribute("vertical");ed=[[0,0]];ee=[0];ef=_do.Create$1(0);eg=[false];eh=[0];ei=[0];ej=[null];ek=(((((ec?bo.layoutVertical$1():bo.layoutHorizontal$1())(dn.Map(function(et){var eu;eu=eq(ed[0][0],ef.Get(),ee[0],et);return er.apply(null,eu);},ea.get_View())))(function(){bk.addResizeObserver$1(es,d7);es();}))(function(et){ej[0]={$:1,$0:et};es();}))(function(et){ep(et);}))(dn.Map(function(et){return function(eu){return et(c2.prettyPrint(eu)+"px");};}(a.id),ef.get_View()));dx.LoadLocalTemplates("");ds.Run(d9,ek);d8.appendChild(d9.firstChild);this.added=true;}}},k,bp);bp.Constructor$1=function(){var d7,d8;d7=(d8=dy.construct(self.HTMLElement,[],this.__proto__.constructor),d8);self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New.call(d7);return d7;};bp.New$1=c1.Ctor(function(){k.New.call(this);this.added=false;(function(d7){return d7("WcSplitterT initializer");}(function(d7){dl.log(d7);}));},bp);bo.init$1=function(d7,d8){var d9;d9=new bp.New$1();bo.set_layoutHorizontal$1(d7);bo.set_layoutVertical$1(d8);bl.defineWebComponent$1("wcomp-splitter",bp.Constructor$1,self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New);};bo.layoutVertical$1=function(){cT.$cctor();return cT.layoutVertical;};bo.set_layoutVertical$1=function(d7){cT.$cctor();cT.layoutVertical=d7;};bo.layoutHorizontal$1=function(){cT.$cctor();return cT.layoutHorizontal;};bo.set_layoutHorizontal$1=function(d7){cT.$cctor();cT.layoutHorizontal=d7;};bl.defineWebComponent$1=function(d7,d8,d9){try{dl.log("defineWebComponent: "+d7);dz.setPrototypeOf(d9.prototype,self.HTMLElement.prototype);dz.setPrototypeOf(d9,self.HTMLElement);dz.setPrototypeOf(d8.prototype,d9.prototype);self.customElements.define(d7,d8);}catch(d_){(function(d$){return d$("Failed to define WebComponent. Not supported.");}(function(d$){dl.log(d$);}));}};br.New=function(d7,d8){return{column:d7,lineNumber:d8};};bs.New=function(d7,d8,d9,d_){return{startColumn:d7,endColumn:d8,startLineNumber:d9,endLineNumber:d_};};bt.New=function(d7,d8,d9,d_,d$,ea){return{authority:d7,fragment:d8,fsPath:d9,path:d_,query:d$,scheme:ea};};bu.New=function(d7,d8){return{range:d7,uri:d8};};bv.New=function(d7,d8){return{matches:d7,range:d8};};bw.New=function(d7,d8,d9){return{endColumn:d7,startColumn:d8,word:d9};};bx.New=function(d7){return{uri:d7};};by.New=function(d7,d8){return{value:d7,isTrusted:d8};};bz.New=function(d7,d8,d9,d_,d$,ea){return{startColumn:d7,endColumn:d8,startLineNumber:d9,endLineNumber:d_,severity:d$,message:ea};};bA.New=function(d7,d8,d9){return{kind:d7,label:d8,detail:d9};};bB.New=function(d7,d8){return{contents:d7,range:d8};};bC=bq.Editor=c1.Class({},k,bC);bC.New=c1.Ctor(function(){k.New.call(this);},bC);bD.New=function(d7,d8,d9,d_,d$,ea,eb){return{"var":d7,onChange:d8,onRender:d9,editorO:d_,disabled:d$,options:ea,overrides:eb};};bq.newVarO=function(d7){var d8;d8=bq.newVar(_do.Lens(d7,function(d9){return d9==null?"":d9.$0;},function(d9,d_){return d9==null?null:{$:1,$0:d_};}));return bq.disabled(dn.Map(function(d9){return d9==null;},d7.get_View()),d8);};bq.newText=function(d7){return bq.newVar(_do.Create$1(d7));};bq["var"]=function(d7){return d7["var"];};bq.disabled=function(d7,d8){return bD.New(d8["var"],d8.onChange,d8.onRender,d8.editorO,d7,d8.options,d8.overrides);};bq.onRender=function(d7,d8){return bD.New(d8["var"],d8.onChange,{$:1,$0:d7},d8.editorO,d8.disabled,d8.options,d8.overrides);};bq.onChange=function(d7,d8){return bD.New(d8["var"],d7,d8.onRender,d8.editorO,d8.disabled,d8.options,d8.overrides);};bq.setVar=function(d7,d8){return bD.New(d7,d8.onChange,d8.onRender,d8.editorO,d8.disabled,d8.options,d8.overrides);};bq.render$3272$48=function(d7){return function(d8){var d9,d_;d9=(d_=d8.parentElement,self.monaco.editor.create(d_,d7.options,d7.overrides));bk.addResizeObserver$1(function(){d9.layout();},d8.parentElement);d8.parentNode.removeChild(d8);d7.editorO={$:1,$0:d9};(h.iter(function(d$){d$(d9);}))(d7.onRender);$.bindVarEditor(function(d$){d9.onDidChangeModelContent(d$);},function(){return d9.getValue();},function(d$){d9.setValue(d$);},d7.onChange,d7["var"]);};};bq.render=function(d7){var d8;return ds.Async((d8=null,c7.Delay(function(){return c7.Bind(bq.loader(),function(){return c7.Return(ds.Element("div",[du.OnAfterRenderImpl(function(d9){var d_,d$;d_=(d$=d9.parentElement,self.monaco.editor.create(d$,d7.options,d7.overrides));bk.addResizeObserver$1(function(){d_.layout();},d9.parentElement);d9.parentNode.removeChild(d9);d7.editorO={$:1,$0:d_};(h.iter(function(ea){ea(d_);}))(d7.onRender);$.bindVarEditor(function(ea){d_.onDidChangeModelContent(ea);},function(){return d_.getValue();},function(ea){d_.setValue(ea);},d7.onChange,d7["var"]);})],[]));});})));};bq.loader=function(){cT.$cctor();return cT.loader;};bq.newVar=function(d7){return bD.New(d7,a.ignore,null,null,dn.Const(false),null,null);};bF.New=function(d7,d8,d9,d_){return{editorO:d7,onChange:d8,options:d9,overrides:d_};};bG=bE.CompletionItemProvider=c1.Class({resolveCompletionItem:function(d7,d8){return bA.New(d7.kind,d7.label,"more details");},provideCompletionItems:function(d7,d8,d9,d_){var d$,ea;d$=this;return _8.ofAsyncResultM((ea=I.asyncResultM(),ea.Run(ea.Delay(function(){return I["AsyncResultMBuilder.Bind"](ea,d$.autoComplete(ba.New(d8.lineNumber,d8.column)),function(eb){return ea.Return(c6.map(function(ec){return bA.New(bE.convertGlyphChar(ec.kind),ec.label,ec.detail);},eb));});}))));}},k,bG);bG.New=c1.Ctor(function(d7){k.New.call(this);this.autoComplete=d7;},bG);bH=bE.HoverProvider=c1.Class({provideHover:function(d7,d8,d9){var d_,d$;d_=this;return _8.ofAsyncResultM((d$=I.asyncResultM(),d$.Run(d$.Delay(function(){return I["AsyncResultMBuilder.Bind"](d$,d_.toolTip(ba.New(d8.lineNumber,d8.column)),function(ea){return ea!=null&&ea.$==1?d$.Return(bB.New([by.New(ea.$0,true)],null)):d$.Return(null);});}))));}},k,bH);bH.New=c1.Ctor(function(d7){k.New.call(this);this.toolTip=d7;},bH);bI=bE.DefinitionProvider=c1.Class({provideDefinition:function(d7,d8,d9){var d_,d$;d_=this;return _8.ofAsyncResultM((d$=I.asyncResultM(),d$.Run(d$.Delay(function(){return I["AsyncResultMBuilder.Bind"](d$,d_.declaration(ba.New(d8.lineNumber,d8.column)),function(ea){var eb;return ea!=null&&ea.$==1?(eb=ea.$0[0],d$.Return(bu.New(bs.New(eb.col,eb.col,eb.line,eb.line),self.monaco.Uri.parse(ea.$0[1])))):d$.Return(null);});}))));}},k,bI);bI.New=c1.Ctor(function(d7){k.New.call(this);this.declaration=d7;},bI);bE.newVar=function(d7,d8,d9){return $.newVar(bE.newHook(bE.newRT(d7,d8)),d9);};bE.newRT=function(d7,d8){return bF.New(null,a.ignore,d7,d8);};bE.newHook=function(d7){function d8(d9,d_){return bE.generateDoc(d7,d9,d_);}return be.New(function(d9){return function(d_){return d8(d9,d_);};},function(){return bE.getValue(d7);},function(d9){bE.setValue(d7,d9);},a.ignore,function(d9){bE.showAnnotations(d7,d9);},function(d9){return bE.posFromIndex(d7,d9);},function(d9){return bE.indexFromPos(d7,d9);},function(d9){return bE.getWordAt(d7,d9);},function(){return bE.getSelect(d7);},function(){return bE.getUri(d7);},function(d9){bE.setUri(d7,d9);},function(d9){d7.onChange=d9;});};bE.showAnnotations=function(d7,d8){bE.iterEditor(d7,function(d9){var d_,d$;d_=c6.ofSeq(c4.map(function(ea){var eb;return bz.New(ea.startP.col,ea.endP.col,ea.startP.line,ea.endP.line,(eb=ea.severity,eb.$==0?8:eb.$==1?4:eb.$==3?1:2),ea.message);},d8));d$=d9.getModel();self.monaco.editor.setModelMarkers(d$,"annotations",d_);});};bE.getSelect=function(d7){var d8;d8=bE.mapEditor(d7,function(d9){var d_;d_=d9.getSelection();return d9.getModel().getValueInRange(d_);});return d8==null?"":d8.$0;};bE.getWordAt=function(d7,d8){return bE.bindEditor(d7,function(d9){var d_;d_=d9.getModel().getWordAtPosition(br.New(d8.col,d8.line));return!d_?null:{$:1,$0:[d_.word,ba.New(d8.line,d_.startColumn)]};});};bE.setValue=function(d7,d8){bE.iterEditor(d7,function(d9){d9.setValue(d8);});};bE.getValue=function(d7){var d8;d8=bE.mapEditor(d7,function(d9){return d9.getValue();});return d8==null?"":d8.$0;};bE.setUri=function(d7,d8){bE.iterEditor(d7,function(d9){d9.getModel().uri=self.monaco.Uri.parse(d8);});};bE.getUri=function(d7){var d8;d8=bE.mapEditor(d7,function(d9){return a.String(d9.getModel().uri);});return d8==null?"":d8.$0;};bE.generateDoc$3414$48=function(d7,d8,d9){return function(d_){var d$,ea;d$=(ea=d_.parentElement,self.monaco.editor.create(ea,d7.options,d7.overrides));bk.addResizeObserver$1(function(){d$.layout();},d_.parentElement);d_.parentNode.removeChild(d_);d7.editorO={$:1,$0:d$};d8(d$);d$.onDidChangeModelContent(d7.onChange);(h.iter(function(eb){var ec;ec=new bH.New(eb(d9));self.monaco.languages.registerHoverProvider("fsharp",ec);}))(d9.toolTip);(h.iter(function(eb){var ec;ec=new bI.New(eb(d9));self.monaco.languages.registerDefinitionProvider("fsharp",ec);}))(d9.declaration);(h.iter(function(eb){var ec;ec=new bG.New(eb(d9));self.monaco.languages.registerCompletionItemProvider("fsharp",ec);}))(d9.autoCompletion);};};bE.generateDoc=function(d7,d8,d9){var d_;return ds.Async((d_=null,c7.Delay(function(){return c7.Bind(bq.loader(),function(){return c7.Return(ds.Element("div",[du.OnAfterRenderImpl(function(d$){var ea,eb;ea=(eb=d$.parentElement,self.monaco.editor.create(eb,d7.options,d7.overrides));bk.addResizeObserver$1(function(){ea.layout();},d$.parentElement);d$.parentNode.removeChild(d$);d7.editorO={$:1,$0:ea};d9(ea);ea.onDidChangeModelContent(d7.onChange);(h.iter(function(ec){var ed;ed=new bH.New(ec(d8));self.monaco.languages.registerHoverProvider("fsharp",ed);}))(d8.toolTip);(h.iter(function(ec){var ed;ed=new bI.New(ec(d8));self.monaco.languages.registerDefinitionProvider("fsharp",ed);}))(d8.declaration);(h.iter(function(ec){var ed;ed=new bG.New(ec(d8));self.monaco.languages.registerCompletionItemProvider("fsharp",ed);}))(d8.autoCompletion);})],[]));});})));};bE.convertGlyphChar=function(d7){return d7==="C"?6:d7==="E"?12:d7==="S"?11:d7==="I"?7:d7==="N"?8:d7==="M"?1:d7==="P"?9:d7==="F"?4:d7==="T"?6:d7==="K"?13:0;};bE.posFromIndex=function(d7,d8){var d9;d9=bE.mapEditor(d7,function(d_){return bE.posEd2Gen(d_.getModel().getPositionAt(d8));});return d9==null?ba.New(1,1):d9.$0;};bE.indexFromPos=function(d7,d8){var d9;d9=bE.mapEditor(d7,function(d_){return d_.getModel().getOffsetAt(bE.posGen2Ed(d8));});return d9==null?-1:d9.$0;};bE.posEd2Gen=function(d7){return ba.New(d7.lineNumber,d7.column);};bE.posGen2Ed=function(d7){return br.New(d7.col,d7.line);};bE.bindEditor=function(d7,d8){var d9;d9=d7.editorO;return d9!=null&&d9.$==1?d8(d9.$0):null;};bE.mapEditor=function(d7,d8){var d9;d9=d7.editorO;return d9!=null&&d9.$==1?{$:1,$0:d8(d9.$0)}:null;};bE.iterEditor=function(d7,d8){var d9;d9=d7.editorO;d9!=null&&d9.$==1?d8(d9.$0):void 0;};_6.rexEmail$1=function(){cT.$cctor();return cT.rexEmail;};_6.rexGuid$1=function(){cT.$cctor();return cT.rexGuid;};_6.REGEX$2=function(d7,d8,d9){var d_;return d9===null?null:(d_=(new a.String(d9)).match(new a.RegExp(d7,d8)),c$.Equals(d_,null)?null:!c$.Equals(d_,null)&&d_.length===0?null:{$:1,$0:d_});};bK.extractConfig=function(d7,d8){var d9,d_;d9=d8.$0;return{$:0,$0:W.getSourceDir(d7,J.splitByChar$1("\n",d9)),$1:(d_=new dg.New(J.splitByChar$1(" ",W.extractDefines({$:0,$0:d9}))),new dg.New$1(dq.OfSeq(c4.append(new dg.New(c5.ofArray([" --nologo","--quiet "])),d_))))};};bM=bL.Address=c1.Class({get_txt:function(){return this.$0;}},null,bM);bN.BRGetProcessId={$:1};bN.BRGetConnections={$:0};bO.MsgRequestForEcho={$:5};bO.MsgRequestForId={$:4};bO.MsgFromBroker={$:3};bO.MsgReply={$:2};bO.MsgRequest={$:1};bO.MsgInformation={$:0};bP.BMReceiverCantReply={$:4};bP.BMOnlyBrokerShouldUse={$:1};bP.BMOk={$:0};bQ.Receiver={$:2};bQ.Broker={$:1};bQ.NoReply={$:0};bR.New=function(d7,d8,d9,d_,d$,ea,eb){return{from:d7,destination:d8,msgType:d9,subtype:d_,id:d$,payload:ea,replier:eb};};bS.FSharp={$:0};bT.FSStation={$:0};bU.JScript={$:0};bW=bV.Handler=c1.Class({Cancel:function(d7,d8){var d9;d9=this.waitingAgent;d9.mailbox.AddLast({$:3,$0:d7,$1:d8});d9.resume();},Raise:function(d7,d8){var d9;d9=this.waitingAgent;d9.mailbox.AddLast({$:2,$0:d7,$1:d8});d9.resume();},Reply:function(d7,d8){var d9;d9=this.waitingAgent;d9.mailbox.AddLast({$:1,$0:d7,$1:d8});d9.resume();},Add:function(d7,d8){var d9;d9=this.waitingAgent;d9.mailbox.AddLast({$:0,$0:d7,$1:d8});d9.resume();}},k,bW);bW.New=c1.Ctor(function(d7){k.New.call(this);this.waitingAgent=M.fold(M.defHandler,function(d8,d9){var d_,d$,ea;function eb(ec,ed,ee){var ef,eg;ef=(eg=dA.TryFind(ec,d8),eg==null?null:{$:1,$0:ed(eg.$0)});ef==null?ee():void 0;return d8.Remove(ec);}return d9.$==1?(d_=d9.$1,eb(d9.$0,function(ec){ec[0](d_);},function(){d7(d_);})):d9.$==2?(d$=d9.$1,eb(d9.$0,function(ec){ec[1](d$);},a.ignore)):d9.$==3?(ea=d9.$1,eb(d9.$0,function(ec){ec[2](ea);},a.ignore)):d8.Add(d9.$0,d9.$1);},new dp.New([]));},bW);bX=bL.WSMessagingClient=c1.Class({sendMsg:function(d7){var d8,d9;d8=this;d9=f.asyncResult();return d9.Run(d9.Delay(function(){return d7.replier.$===0?d9.Bind$1(d8.sendAndForget(d7),function(){return d9.Return("");}):d9.ReturnFrom$1(d8.sendGetReply(d7));}));},getProcessId:function(){var d7,d8;d7=this;d8=f.asyncResult();return d8.Run(d8.Delay(function(){var d9,d_;return d8.Bind$1(d7.sendGetReply((d9=bL.MessageBrokerAddress(),(d_=dB.stringify((cU.j$9())(bN.BRGetProcessId)),bR.New(new bM({$:0,$0:""}),d9,bO.MsgRequest,"",de.NewGuid(),d_,bQ.NoReply)))),function(d$){var ea;ea=(cV.j$7())(dB.parse(d$));return ea.$==1?d8.Return(ea.$0):d8.ReturnFrom({$:1,$0:new d({$:4,$0:{$:6,$0:(function(eb){return function(ec){return eb(cW.p$4(ec));};}(a.id))(ea)}})});});}));},getListeners:function(){var d7,d8;d7=this;d8=f.asyncResult();return d8.Run(d8.Delay(function(){var d9,d_;return d8.Bind$1(d7.sendGetReply((d9=bL.MessageBrokerAddress(),(d_=dB.stringify((cU.j$9())(bN.BRGetConnections)),bR.New(new bM({$:0,$0:""}),d9,bO.MsgRequest,"",de.NewGuid(),d_,bQ.NoReply)))),function(d$){var ea;ea=(cV.j$7())(dB.parse(d$));return ea.$==0?d8.Return(ea.$0):d8.ReturnFrom({$:1,$0:new d({$:4,$0:{$:6,$0:(function(eb){return function(ec){return eb(cW.p$4(ec));};}(a.id))(ea)}})});});}));},sendGetReply:function(d7){var d8,d9;d8=this;d9=f.asyncResult();return d9.Run(d9.Delay(function(){return d9.Bind$1(d8.sendAndReply(bQ.Receiver,d7),function(d_){var d$;return d9.Bind((d$=d_.msgType,d$.$==2?{$:0,$0:d_.payload}:d$.$==3?{$:1,$0:new d({$:4,$0:(cV.j$8())(dB.parse(d_.payload))})}:{$:1,$0:new d({$:4,$0:{$:5,$0:d_.msgType}})}),function(ea){return d9.Return(ea);});});}));},sendAndVerify:function(d7){var d8,d9;d8=this;d9=f.asyncResult();return d9.Run(d9.Delay(function(){return d9.Bind$1(d8.sendAndReply(bQ.Broker,d7),function(d_){var d$;return d9.Bind(d_.msgType.$==3?(d$=(cV.j$8())(dB.parse(d_.payload)),d$.$===0?{$:0,$0:null}:{$:1,$0:new d({$:4,$0:d$})}):{$:1,$0:new d({$:4,$0:{$:5,$0:d_.msgType}})},function(){return d9.Return();});});}));},sendAndReply:function(d7,d8){var d9,d_;d9=this;d_=f.asyncResult();return d_.Run(d_.Delay(function(){return d_.Bind$1(d9.getServer(),function(d$){return E["AsyncResultBuilder.ReturnFrom"](d_,c7.FromContinuations(function(ea,eb,ec){var ed;d9.waiting.Add(d8.id,[ea,eb,ec]);d9.postR(d$,d7,d8);return d9.wsTimeout>0?c7.Start((ed=null,c7.Delay(function(){return c7.Bind(c7.Sleep(d9.wsTimeout),function(){d9.waiting.Raise(d8.id,new dC.New$1((((c1.Curried3(function(ee,ef,eg){return ee("Did not receive reply in "+a.String(ef)+" seconds for Message: "+cZ.p(eg));}))(a.id))(d9.wsTimeout/1000>>0))(d8)));return c7.Zero();});})),null):null;}));});}));},sendAndForget:function(d7){var d8,d9;d8=this;d9=f.asyncResult();return d9.Run(d9.Delay(function(){return d9.Bind$1(d8.getServer(),function(d_){d8.postR(d_,bQ.NoReply,d7);return d9.Zero();});}));},postR:function(d7,d8,d9){try{d7.FsRoot_Library2_WebSockets_IServer$Post(bL.replier(d8,bL.from(this.clientAddress,d9)));}catch(d_){this.serverO=null;throw d_;}},getServer:function(){return this.checkServer.PostAndAsyncReply(function(d7){return[d7,null];},null);},connectToWebSocketServer:function(){var d7,d8;d7=this;(function(d9){return d9("in connectToWebSocketServer");}(function(d9){dl.log(d9);}));d8=null;return c7.Delay(function(){return c7.Bind(((d7.connectStateful(d7.wsEndPoint))(d7.clientId))(function(d9){var d_;d_=null;return c7.Delay(function(){return c7.Return([0,function(d$){return function(ea){var eb;eb=null;return c7.Delay(function(){return c7.Combine(c7.TryWith(c7.Delay(function(){return ea.$==2?((function(ec){return function(ed){return ec("WebSocket "+c2.toSafe(ed)+" connection open.");};}(function(ec){dl.log(ec);}))(d7.clientId),d7.serverO={$:1,$0:d9},c7.Zero()):ea.$==3?((function(ec){return function(ed){return ec("WebSocket "+c2.toSafe(ed)+" connection closed.");};}(function(ec){dl.log(ec);}))(d7.clientId),d7.close(),c7.Zero()):ea.$==1?((function(ec){return function(ed){return ec("WebSocket "+c2.toSafe(ed)+" connection error!");};}(function(ec){dl.log(ec);}))(d7.clientId),c7.Zero()):(d7.processMessage(ea.$0),c7.Zero());}),function(ec){(((c1.Curried3(function(ed,ee,ef){return ed("msg: "+cW.p$8(ee)+" \nexn:"+c2.prettyPrint(ef));}))(function(ed){dl.log(ed);}))(ea))(ec);return c7.Zero();}),c7.Delay(function(){return c7.Return(d$);}));});};}]);});}),function(){(function(d9){return d9("connectToWebSocketServer with server");}(function(d9){dl.log(d9);}));return c7.Zero();});});},processMessage:function(d7){var d8,d9,d_,d$,ea,ed;d9=this;d_=d7.msgType;function eb(ee){d9.reply(ee);}function ec(ee){return c7.Return(ee);}switch(d_.$==2?0:d_.$==0?1:d_.$==1?2:d_.$==5?3:d_.$==4?4:0){case 0:this.processReply(d7);break;case 1:(((c1.Curried3(function(ee,ef,eg){return ee("Information from '"+c2.toSafe(ef)+"': "+c2.toSafe(eg));}))(function(ee){dl.log(ee);}))(d7.from.get_txt()))(((dE.Id())())(dB.parse(d7.payload)));break;case 2:d$=this.payloadProcessorO;d$!=null&&d$.$==1?c7.Start(c7.Bind(d9.mapPayloadWrap(d$.$0,d7),(ea=function(ee){return eb(bL.makeReply(ee));},function(ee){return ec(ea(ee));})),null):d7.replier.$===2?null:null;break;case 3:d9.reply(bL.msgType(bO.MsgInformation,bL.mapPayload(a.id,d7)));break;case 4:d9.reply(bL.msgType(bO.MsgInformation,(ed=bL.makeReply(d7),bR.New(ed.from,ed.destination,ed.msgType,ed.subtype,ed.id,dB.stringify(((dE.Id())())(this.clientId)),ed.replier))));break;}},mapPayloadWrap:function(d7,d8){var d9;d9=null;return c7.Delay(function(){return c7.Bind(d7(d8.payload),function(d_){return c7.Return(bL.mapPayload(function(){return d_;},d8));});});},processReply:function(d7){this.waiting.Reply(d7.id,d7);},close:function(){var d7,d8;d7=this;d8=this.serverO;(h.iter(function(d9){d9.FsRoot_Library2_WebSockets_IServer$Close();d7.serverO=null;}))(d8);},reply:function(d7){var d8,d9;d8=this;d9=this.serverO;(h.iter(function(d_){d_.FsRoot_Library2_WebSockets_IServer$Post(bL.destination(d7.from,bL.from(d8.clientAddress,d7)));}))(d9);},set_Out:function(d7){this.out=d7;},SendMsg:function(d7){return this.sendMsg(d7);},get_ClientId:function(){return this.clientId;},get_EndPoint:function(){return this.wsEndPoint;},get_MBProcessId:function(){return this.getProcessId();},get_MBListeners:function(){return this.getListeners();},Dispose:function(){this.close();}},k,bX);bX.New=c1.Ctor(function(d7,d8,d9){bX.New$1.call(this,c1.Curried3(function(d_,d$,ea){function eb(ed){}function ec(ed){return c7.Return(ed);}return c7.Bind(dI.ConnectStateful(function(ed){return dB.stringify((cU.j())(ed));},function(ed){return(cV.j())(dB.parse(ed));},dJ.CreateRemote((((c1.Curried3(function(ed,ee,ef){return ed("ws://"+c2.toSafe(ee)+"?ClientId="+c2.toSafe(ef));}))(a.id))(d_))(d$),{$:1,$0:dG.JsonEncoding.Readable}),function(ed){var ee;return ea((ee={FsRoot_Library2_WebSockets_IServer$Post:function(ef){return ed.Post(ef);},FsRoot_Library2_WebSockets_IServer$Close:function(){return ed.get_Connection().close(1000);}},(k.New.call(ee),ee)));}),function(ed){return ec(eb(ed));});}),d7,d8,d9);},bX);bX.New$1=c1.Ctor(function(d7,d8,d9,d_){var d$,ea;d$=this;k.New.call(this);this.connectStateful=d7;this.clientId=d8;this.wsEndPoint=(ea=bL.extractEndPoint()+"/ws",d_==null?ea:d_.$0);this.clientAddress=new bM({$:0,$0:this.clientId});this.wsTimeout=d9==null?60000:d9.$0;this.out=function(eb){return function(ec){return eb(c2.toSafe(ec));};}(function(eb){dl.log(eb);});this.serverO=null;this.payloadProcessorO=null;this.waiting=new bW.New(function(eb){(((c1.Curried3(function(ec,ed,ee){return ec("Reply from '"+c2.toSafe(ed)+"': "+c2.toSafe(ee));}))(function(ec){dl.log(ec);}))(eb.from.get_txt()))(eb.payload);});this.checkServer=M.callA(function(eb){c.print$1(eb);},function(){var eb;eb=null;return c7.Delay(function(){return c7.Combine(d$.serverO==null?(function(ec){return ec("getServer Connecting");}(function(ec){dl.log(ec);}),c7.Bind(d$.connectToWebSocketServer(),function(){return c7.Bind(c7.Sleep(200),function(){return c7.Return(null);});})):c7.Zero(),c7.Delay(function(){return c7.Return(l.ofOption(function(){return new d({$:1,$0:"could not connect to Server"});},d$.serverO));}));});});},bX);bL.extractEndPoint=function(){return c6.get(c3.SplitChars(dK.href.substring(dK.href.indexOf("//")+2),["/"],0),0);};bL.makeReply=function(d7){return bL.replier(bQ.NoReply,bL.msgType(bO.MsgReply,d7));};bL.mapPayload=function(d7,d8){return bR.New(d8.from,d8.destination,d8.msgType,d8.subtype,d8.id,d7(d8.payload),d8.replier);};bL.msgId=function(d7,d8){return bR.New(d8.from,d8.destination,d8.msgType,d8.subtype,d7,d8.payload,d8.replier);};bL.replier=function(d7,d8){return bR.New(d8.from,d8.destination,d8.msgType,d8.subtype,d8.id,d8.payload,d7);};bL.subtype=function(d7,d8){return bR.New(d8.from,d8.destination,d8.msgType,d7,d8.id,d8.payload,d8.replier);};bL.msgType=function(d7,d8){return bR.New(d8.from,d8.destination,d7,d8.subtype,d8.id,d8.payload,d8.replier);};bL.destination=function(d7,d8){return bR.New(d8.from,d7,d8.msgType,d8.subtype,d8.id,d8.payload,d8.replier);};bL.from=function(d7,d8){return bR.New(d7,d8.destination,d8.msgType,d8.subtype,d8.id,d8.payload,d8.replier);};bL.MessageBrokerAddress=function(){cT.$cctor();return cT.MessageBrokerAddress;};bL.MessageBrokerId=function(){cT.$cctor();return cT.MessageBrokerId;};bY.MsgGetUrl={$:5};bY.MsgGetId={$:0};b1.New=function(d7,d8){return{Code:d7,Message:d8};};b2.New=function(d7,d8,d9){return{File:d7,Line:d8,Column:d9};};b3.New=function(d7,d8,d9,d_){return{Name:d7,ReplacementText:d8,Glyph:d9,GlyphChar:d_};};b4.New=function(d7,d8,d9){return{Signature:d7,Comment:d8,Footer:d9};};b5.New=function(d7,d8,d9,d_){return{Name:d7,CanonicalTypeTextForSorting:d8,Display:d9,Description:d_};};b6.New=function(d7,d8,d9,d_){return{Tip:d7,TypeText:d8,Parameters:d9,IsStaticArguments:d_};};b7.New=function(d7,d8){return{Name:d7,Type:d8};};b8.New=function(d7,d8){return{OutputType:d7,Parameters:d8};};b9.New=function(d7,d8,d9){return{Name:d7,CurrentParameter:d8,Overloads:d9};};b_.New=function(d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef){return{FileName:d7,StartLine:d8,StartColumn:d9,EndLine:d_,EndColumn:d$,IsFromDefinition:ea,IsFromAttribute:eb,IsFromComputationExpression:ec,IsFromDispatchSlotImplementation:ed,IsFromPattern:ee,IsFromType:ef};};b$.New=function(d7,d8){return{Name:d7,Uses:d8};};ca.New=function(d7,d8){return{Name:d7,Overloads:d8};};cb.New=function(d7,d8,d9){return{Fsc:d7,Fsi:d8,MSBuild:d9};};cc.New=function(d7,d8,d9,d_,d$,ea,eb,ec){return{FileName:d7,StartLine:d8,EndLine:d9,StartColumn:d_,EndColumn:d$,Severity:ea,Message:eb,Subcategory:ec};};cd.New=function(d7,d8){return{File:d7,Errors:d8};};ce.New=function(d7){return{Kind:d7};};cf.New=function(d7,d8,d9,d_,d$,ea,eb,ec){return{UniqueName:d7,Name:d8,Glyph:d9,GlyphChar:d_,IsTopLevel:d$,File:ea,EnclosingEntity:eb,IsAbstract:ec};};cg.New=function(d7,d8){return{Declaration:d7,Nested:d8};};ch.New=function(d7,d8,d9,d_,d$,ea){return{Namespace:d7,Name:d8,Type:d9,Line:d_,Column:d$,MultipleNames:ea};};ci.New=function(d7,d8){return{Name:d7,Qualifier:d8};};cj.New=function(d7,d8,d9){return{Opens:d7,Qualifies:d8,Word:d9};};ck.New=function(d7){return{Text:d7};};cm.New=function(d7,d8,d9,d_){return{FileName:d7,IsAsync:d8,Lines:d9,Version:d_};};cn.New=function(d7,d8,d9){return{FileName:d7,Lines:d8,Version:d9};};co.New=function(d7,d8,d9,d_,d$,ea){return{FileName:d7,SourceLine:d8,Line:d9,Column:d_,Filter:d$,IncludeKeywords:ea};};cp.New=function(d7,d8,d9,d_){return{FileName:d7,Line:d8,Column:d9,Filter:d_};};cq.New=function(d7){return{FileName:d7};};cr.New=function(d7){return{FileName:d7};};cs.New=function(d7){return{Symbol:d7};};ct.New=function(d7,d8,d9){return{Directory:d7,Deep:d8,ExcludedDirs:d9};};cu.symbolUseProject=function(d7,d8,d9,d_){return cu.FSAutocompleteCall("symboluseproject",function(d$){return d$.$==4?{$:1,$0:d$.$0}:null;},{$:3,$0:cp.New(d7,d8,d9,d_)});};cu.symbolUse=function(d7,d8,d9,d_){return cu.FSAutocompleteCall("symboluse",function(d$){return d$.$==4?{$:1,$0:d$.$0}:null;},{$:3,$0:cp.New(d7,d8,d9,d_)});};cu.helpText=function(d7){return cu.FSAutocompleteCall("helptext",function(d8){return d8.$==2?{$:1,$0:d8.$0}:null;},{$:6,$0:cs.New(d7)});};cu.declarations=function(d7,d8,d9){return cu.FSAutocompleteCall("declarations",function(d_){return d_.$==10?{$:1,$0:d_.$0}:null;},{$:1,$0:cn.New(d7,d8,d9)});};cu.findDeclaration=function(d7,d8,d9,d_){return cu.FSAutocompleteCall("finddeclaration",function(d$){return d$.$==9?{$:1,$0:d$.$0}:null;},{$:3,$0:cp.New(d7,d8,d9,d_)});};cu.findTypeDecl=function(d7,d8,d9,d_){return cu.FSAutocompleteCall("findtypedeclaration",function(d$){return d$.$==9?{$:1,$0:d$.$0}:null;},{$:3,$0:cp.New(d7,d8,d9,d_)});};cu.completion=function(d7,d8,d9,d_,d$,ea){return cu.FSAutocompleteCall("completion",function(eb){return eb.$==3?{$:1,$0:eb.$0}:null;},{$:2,$0:co.New(d9,d7,d_,d$,ea,d8)});};cu.signatureData=function(d7,d8,d9,d_){return cu.FSAutocompleteCall("signatureData",function(d$){return d$.$==13?{$:1,$0:d$.$0}:null;},{$:3,$0:cp.New(d7,d8,d9,d_)});};cu.signature=function(d7,d8,d9,d_){return cu.FSAutocompleteCall("signature",function(d$){return d$.$==12?{$:1,$0:d$.$0}:null;},{$:3,$0:cp.New(d7,d8,d9,d_)});};cu.toolTip=function(d7,d8,d9,d_){return cu.FSAutocompleteCall("tooltip",function(d$){return d$.$==11?{$:1,$0:d$.$0}:null;},{$:3,$0:cp.New(d7,d8,d9,d_)});};cu.parseCode=function(d7,d8,d9,d_){return cu.FSAutocompleteCall("parse",function(d$){return d$.$==7?{$:1,$0:d$.$0}:null;},{$:0,$0:cm.New(d7,d9,d8,d_)});};cu.FSAutocompleteCall=function(d7,d8,d9){var d_;d_=f.asyncResult();return d_.Run(d_.Delay(function(){return d_.Bind$1((new dM.New()).Async("FSharpStation:FsRoot.Library2+FsAutoComplete.FSAutocompleteCall0:-1842881046",[d7,d9]),function(d$){var ea,eb;function ec(ed){return ed!=null;}ea=c6.partition(function(ed){return ec(d8(ed));},d$);eb=ea[1];return d_.Bind(l.ofOption(function(){return new d({$:4,$0:eb});},c4.tryHead(c4.choose(d8,ea[0]))),function(ed){return d_.Return([ed,eb]);});});}));};cw.appendMsgs=function(d7){cw.appendText(cw.outputMsgs(),d7);};cw.appendText=function(d7,d8){var d9;d7.Set((d9=d7.Get(),d9===""?d8:d8===""?d9:d9+"\n"+d8));};cw.outputMsgs=function(){cT.$cctor();return cT.outputMsgs;};cw.annotationsV=function(){cT.$cctor();return cT.annotationsV;};cw.srcDir=function(){cT.$cctor();return cT.srcDir;};cw.set_srcDir=function(d7){cT.$cctor();cT.srcDir=d7;};cw.rootDir=function(){cT.$cctor();return cT.rootDir;};cw.set_rootDir=function(d7){cT.$cctor();cT.rootDir=d7;};cw.id=function(){cT.$cctor();return cT.id;};cx.setProperty=function(d7,d8,d9){function d_(ea){return ea[0];}function d$(ea){return d8!==ea;}if(c4.contains([d8,d9],d7.snpProperties));else{cx.setSnippet(_0.New(d7.snpId,d7.snpName,d7.snpContent,d7.snpParentIdO,d7.snpPredIds,c6.ofSeq(c4.append(c4.filter(function(ea){return d$(d_(ea));},d7.snpProperties),c5.ofArray([[d8,d9]]))),d7.snpModified));}};cx.toggleCollapse=function(d7){var d8;d8=((cx.collapsedV().Get().Contains(d7)?function(d9){return function(d_){return d_.Remove(d9);};}:function(d9){return function(d_){return d_.Add(d9);};})(d7))(cx.collapsedV().Get());cx.collapsedV().Set(d8);};cx.newSnippet=function(d7){var d8;d8=_2.New("","",null);cx.iterReader(q.op_BarGreaterGreater(cx.addSnippetRm(d8),function(){cx.currentSnippetIdOV().Set({$:1,$0:d8.snpId});}));};cx.addSnippetRm=function(d7){var d8,d9,d_;cx.snippets().Append(d7);d8=(d9=cx.hierarchy().Get(),c4.append([cx.treenode(d7.snpId)],d9));return q.op_BarGreaterGreater(q.op_BarGreaterGreater(q.op_GreaterGreaterEquals(q.op_BarGreaterGreater(p.insertO((d_=cx.currentSnippetIdOV().Get(),d_==null?null:{$:1,$0:_2.snippetORm(d_.$0)})),function(d$){return d$==null?null:a.id(d$.$0);}),function(d$){return d$!=null&&d$.$==1?_4.moveToSibling2(true,d7.snpId,d$.$0.snpId,d8):q.rtn(d8);}),c6.ofSeq),function(d$){cx.hierarchy().Set(d$);});};cx.setSnippetsGen=function(d7,d8){function d9(d_){return cx.treenode(d_.snpId);}cx.collapsedV().Set(d8);cx.snippets().Set(d7);cx.updateGeneration();cx.iterReader(q.op_BarGreaterGreater(q.op_BarGreaterGreater(q.op_BarGreaterGreater(q.op_BarGreaterGreater(p.sequenceSeq(c4.map(function(d_){return q.op_BarGreaterGreater(_2.parentORm(d_),function(d$){return d$==null?{$:1,$0:d_}:null;});},d7)),function(d_){return c4.choose(a.id,d_);}),function(d_){return c4.map(d9,d_);}),c6.ofSeq),function(d_){cx.hierarchy().Set(d_);}));};cx.updateGeneration=function(){var d7;cx.iterReader((d7=p.fusion(),d7.Run(d7.Delay(function(){return d7.Bind(_2.maxGenerationRm(),function(d8){cx.generation().Set(d8);return d7.Zero();});}))));};cx.moveNode=function(d7,d8){cx.iterReader(q.op_BarGreaterGreater(q.op_BarGreaterGreater(_4.moveToSibling2(false,d7,d8,cx.hierarchy().Get()),c6.ofSeq),function(d9){cx.hierarchy().Set(d9);}));};cx.indentOut=function(d7){var d8;d8=cx.currentSnippetIdOV().Get();(h.iter(function(d9){var d_;cx.iterReader(q.op_BarGreaterGreater(q.op_BarGreaterGreater((d_=cx.hierarchy().Get(),_4.outdentNode(cx.treenode(d9),d_)),c6.ofSeq),function(d$){cx.hierarchy().Set(d$);}));}))(d8);};cx.indentIn=function(d7){var d8;d8=cx.currentSnippetIdOV().Get();(h.iter(function(d9){var d_;cx.iterReader(q.op_BarGreaterGreater(q.op_BarGreaterGreater((d_=cx.hierarchy().Get(),_4.indentNode(cx.treenode(d9),d_)),c6.ofSeq),function(d$){cx.hierarchy().Set(d$);}));}))(d8);};cx.deleteCurrentSnippet=function(d7){var d8;d8=cx.currentSnippetIdOV().Get();(h.iter(function(d9){var d_;cx.iterReader(q.op_BarGreaterGreater(q.op_BarGreaterGreater(q.op_BarGreaterGreater((d_=cx.hierarchy().Get(),_4.removeNodeOutdentChildren(cx.treenode(d9),d_)),c6.ofSeq),function(d$){cx.hierarchy().Set(d$);}),function(){cx.snippets().RemoveByKey(d9);}));}))(d8);};cx.expandClassW=function(d7){var d8;d8=cx.snippets().v;return dn.Map2(function(){return cx.runReader(cx.handleError,cx.expandClassRm(d7));},cx.collapsedV().get_View(),d8);};cx.expandClassRm=function(d7){return q.op_GreaterGreaterEquals(_2.childrenRm(d7),function(d8){return c4.isEmpty(d8)?q.rtn(""):q.op_BarGreaterGreater(cx.treenode(d7).isExpandedRm(),function(d9){return d9?"expanded":"collapsed";});});};cx.togglePredecessor=function(d7){var d8,d9;d8=_do.Lens(cx.currentSnippetV(),function(d_){return d_.snpPredIds;},function(d_,d$){return _0.New(d_.snpId,d_.snpName,d_.snpContent,d_.snpParentIdO,d$,d_.snpProperties,d_.snpModified);});d8.Set((d9=d8.Get(),((d8.Get().Contains(d7)?function(d_){return function(d$){return d$.Remove(d_);};}:function(d_){return function(d$){return d$.Add(d_);};})(d7))(d9)));cx.clearPredsCache();};cx.isIncludedPredecessorW=function(d7){return dn.Map(function(d8){return cx.runReader(function(){return false;},q.op_BarGreaterGreater(_2.uniquePredsRm(d8),function(d9){return c4.contains(d7,d9);}));},cx.codeSnippetW());};cx.isIndirectPredecessorW=function(d7){return dn.Map(function(d8){return cx.runReader(function(){return false;},q.op_BarGreaterGreater(_2.uniquePredsRm(d8),function(d9){return c4.contains(d7,d9);}));},cx.currentSnippetW());};cx.treenode=function(d7){return _5.New(function(){return d7;},function(){return q.rtn(!cx.collapsedV().Get().Contains(d7));},function(){return q.rtn(true);},function(){function d8(d9){return cx.treenode(d9.snpId);}return q.op_BarGreaterGreater(_2.childrenRm(d7),function(d9){return c4.map(d8,d9);});},function(){return _2.pathRm(d7);},function(){function d8(d9){return d9.snpParentIdO;}return q.op_BarGreaterGreater(q.op_BarGreaterGreater(_2.snippetORm(d7),function(d9){return d9==null?null:d8(d9.$0);}),function(d9){return d9==null?null:{$:1,$0:cx.treenode(d9.$0)};});},function(d8){return q.op_BarGreaterGreater(cx.setChildrenRm(d7,d8),function(){return cx.treenode(d7);});});};cx.setChildrenRm=function(d7,d8){var d9;d9=p.fusion();return d9.Run(d9.Delay(function(){var d_,d$,ea,eb,ec,ed;d_=c6.map(function(ee){return ee.id();},d8);c4.iter(function(ee){cx.setSnippet(ee);},c4.map(function(ee){return _0.New(ee.snpId,ee.snpName,ee.snpContent,{$:1,$0:d7},ee.snpPredIds,ee.snpProperties,ee.snpModified);},c4.filter(function(ee){return!c$.Equals(ee.snpParentIdO,{$:1,$0:d7})&&c6.contains(ee.snpId,d_);},cx.snippets())));c4.iter(function(ee){cx.setSnippet(ee);},c4.map(function(ee){return _0.New(ee.snpId,ee.snpName,ee.snpContent,null,ee.snpPredIds,ee.snpProperties,ee.snpModified);},c4.filter(function(ee){return c$.Equals(ee.snpParentIdO,{$:1,$0:d7})&&!c6.contains(ee.snpId,d_);},cx.snippets())));cx.clearPredsCache();d$=c6.partition(function(ee){return cx.isDescendantOf(d7,ee.snpId);},c6.ofSeq((cx.snippets())["var"].Get()));ea=d$[1];eb=d$[0];ec=c6.findIndex(function(ee){return c$.Equals(ee.snpId,d7);},ea);ed=c6.ofSeq(c4.delay(function(){return c4.append(da.array(ea,{$:1,$0:0},{$:1,$0:ec}),c4.delay(function(){return c4.append(c4.collect(function(ee){return c4.append([c4.find(function(ef){return c$.Equals(ef.snpId,ee);},eb)],c4.delay(function(){return c4.filter(function(ef){return cx.isDescendantOf(ee,ef.snpId);},eb);}));},d_),c4.delay(function(){return da.array(ea,{$:1,$0:ec+1},null);}));}));}));cx.snippets().Set(ed);return d9.Zero();}));};cx.currentLayoutJSDW=function(){cT.$cctor();return cT.currentLayoutJSDW;};cx.currentLayoutDW=function(){cT.$cctor();return cT.currentLayoutDW;};cx.currentPathW=function(){cT.$cctor();return cT.currentPathW;};cx.SaveAsClassW=function(){cT.$cctor();return cT.SaveAsClassW;};cx.hasChangedW=function(d7){return dn.Map(function(d8){return d8<d7.snpModified;},cx.generation().get_View());};cx.codeStartsW=function(){cT.$cctor();return cT.codeStartsW;};cx.FsCodeW=function(){cT.$cctor();return cT.FsCodeW;};cx.codeAndStartsW=function(){cT.$cctor();return cT.codeAndStartsW;};cx.getHierarchyW=function(){cT.$cctor();return cT.getHierarchyW;};cx.findSnippetV=function(d7){return new dN.New(cx.findSnippetW(d7),function(d8){cx.setSnippet(d8);});};cx.findSnippetW=function(d7){return dn.Map(function(d8){var d9;d9=_2.defaultSnippet();return d8==null?d9:d8.$0;},cx.snippets().TryFindByKeyAsView(d7));};cx.codeSnippetClassW=function(d7){return dn.Map(function(d8){return c$.Equals({$:1,$0:d7},d8)?"codeSnippet":"";},cx.codeSnippetIdOV().get_View());};cx.selectedClassW=function(d7){return dn.Map(function(d8){return c$.Equals({$:1,$0:d7},d8)?"selected":"";},cx.currentSnippetIdOV().get_View());};cx.currentSnippetV=function(){cT.$cctor();return cT.currentSnippetV;};cx.codeSnippetW=function(){cT.$cctor();return cT.codeSnippetW;};cx.currentSnippetW=function(){cT.$cctor();return cT.currentSnippetW;};cx.CurrentSnippetIdW=function(){cT.$cctor();return cT.CurrentSnippetIdW;};cx.isDescendantOf=function(d7,d8){var d9,d_,d$;return c$.Equals(d8,d7)?false:(d9=(d_=(cx.getParentIdO())(d8),d_==null?null:{$:1,$0:(d$=d_.$0,c$.Equals(d$,d7)||cx.isDescendantOf(d7,d$))}),d9==null?false:d9.$0);};cx.getParentIdO=function(){cT.$cctor();return cT.getParentIdO;};cx.getParentIdONotMemo=function(d7){var d8;d8=cx.snippets().TryFindByKey(d7);return d8==null?null:d8.$0.snpParentIdO;};cx.getSnippetsGen=function(){return[(cx.snippets())["var"].Get(),cx.generation().Get(),cx.collapsedV().Get()];};cx.setSnippet=function(d7){if(!c$.Equals(d7.snpId.get_Id(),"00000000-0000-0000-0000-000000000000"))cx.snippets().Append(_0.New(d7.snpId,d7.snpName,d7.snpContent,d7.snpParentIdO,d7.snpPredIds,d7.snpProperties,di.now()));};cx.setCurrentSnippetIdO=function(d7){(h.iter(function(d8){cx.expandParents(d8);}))(d7);cx.currentSnippetIdOV().Set(d7);};cx.expandParents=function(d7){cx.iterReader(q.op_BarGreaterGreater(_2.pathRm(d7),function(d8){var d9;d9=dg.op_Subtraction(cx.collapsedV().Get(),new dg.New(d8));cx.collapsedV().Set(d9);}));};cx.runReader=function(d7,d8){return l.defaultWith(d7,cx.runReaderResult(d8));};cx.runReaderResult=function(d7){return c9.Map(function(d8){return d8[0];},p.runReader(cx.snippetsColl(),d7));};cx.iterReader=function(d7){p.iterReader(function(d8){cx.handleError(d8);},a.ignore,cx.snippetsColl(),d7);};cx.handleError=function(d7){throw new a.Error(a.String(d7));};cx.snippetsColl=function(){return _1.New(cx.generation().Get(),c4.delay(function(){return(cx.snippets())["var"].Get();}),function(d7){return cx.snippets().TryFindByKey(d7);},cx.predsCache,cx.reducCache,cx.prepCode);};cx.prepCode=function(d7){return cx.prepAnyCode(d7.snpContent);};cx.prepAnyCode=function(d7){return c3.Replace(c3.Replace(c3.Replace(d7,"##"+"FSHARPSTATION_ID"+"##",cw.id()),"##"+"FSHARPSTATION_ENDPOINT"+"##",self.location.href),"##"+"FSHOME"+"##",cw.rootDir());};cx.clearPredsCache=function(){(cx.clearPreds())();(cx.clearReduc())();(cx.clearParent())();};cx.clearParent=function(){cT.$cctor();return cT.clearParent;};cx.parentCache=function(){cT.$cctor();return cT.parentCache;};cx.clearReduc=function(){cT.$cctor();return cT.clearReduc;};cx.reducCache=function(){cT.$cctor();return cT.reducCache;};cx.clearPreds=function(){cT.$cctor();return cT.clearPreds;};cx.predsCache=function(){cT.$cctor();return cT.predsCache;};cx.collapsedV=function(){cT.$cctor();return cT.collapsedV;};cx.codeSnippetIdOV=function(){cT.$cctor();return cT.codeSnippetIdOV;};cx.currentSnippetIdOV=function(){cT.$cctor();return cT.currentSnippetIdOV;};cx.generation=function(){cT.$cctor();return cT.generation;};cx.hierarchy=function(){cT.$cctor();return cT.hierarchy;};cx.snippets=function(){cT.$cctor();return cT.snippets;};cz.DragNone={$:0};cy.getDragNIdO=function(d7){var d8;return cy.drag().$==1&&(!c$.Equals(cy.drag().$0,d7)&&(d8=cy.drag().$0,true))?{$:1,$0:d8}:null;};cy.setDragNode=function(d7){cy.set_drag({$:1,$0:d7});};cy.setDragNone=function(){cy.set_drag(cz.DragNone);};cy.drag=function(){cT.$cctor();return cT.drag;};cy.set_drag=function(d7){cT.$cctor();cT.drag=d7;};cA.TemplatesFileName=function(){cT.$cctor();return cT.TemplatesFileName;};cA.rootdir=function(){cT.$cctor();return cT.rootdir;};cB.render=function(){var d7,d8,d9,d_;return(d7=(d8=cB.snippets(),dR.Make().WithHole({$:0,$0:"snippets",$1:d8})),(d9=dS.CompleteHoles(d7.k,d7.h,[]),(d_=new dT.New(d9[1],cY.snippetlist(d9[0])),(d7.i=d_,d_)))).get_Doc();};cB.snippets$5038$40=function(d7){return function(d8){var d9;d8.Event.preventDefault();d9=cy.getDragNIdO(d7);(h.iter(function(d_){cx.moveNode(d_,d7);}))(d9);};};cB.snippets$5037$40=function(d7){return function(d8){if(cy.getDragNIdO(d7)!=null)d8.Event.preventDefault();};};cB.snippets$5036$40=function(d7){return function(d8){cy.setDragNode(d7);d8.Event.stopPropagation();};};cB.snippets$5035$40=function(d7){return function(){cx.toggleCollapse(d7);};};cB.snippets$5034$40=function(d7){return function(){cx.togglePredecessor(d7);};};cB.snippets$5033$40=function(d7){var d8;d8=dn.Map(function(d9){return""!==d9;},cx.selectedClassW(d7));return function(d9){return cB.scrollIntoView(d8,d9);};};cB.snippets$5032$40=function(d7){return function(){cx.setCurrentSnippetIdO({$:1,$0:d7});};};cB.snippets=function(){function d7(d8,d9){var d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er;function es(et){return et?"ErrorMsg":"";}d_=(d$=dn.get_Do(),dn.Bind(function(et){return dn.Bind(function(eu){return dn.Const((eu?"*":"")+_2.snippetName(et.snpName,et.snpContent));},cx.hasChangedW(et));},cx.findSnippetW(d8)));ea=dn.Apply(dn.Map2(function(et,eu){return function(ev){return et.snpPredIds.Contains(d8)?"direct-predecessor":eu?"indirect-predecessor":ev?"included-predecessor":"";};},cx.currentSnippetV().get_View(),cx.isIndirectPredecessorW(d8)),cx.isIncludedPredecessorW(d8));eb=(ec=cw.annotationsV().get_View(),dn.Map((ed=(ee=(ef=d8.get_Id(),a.String(ef)),function(et){return J.contains$1(ee,et);}),function(et){return es(ed(et));}),ec));return(eg=(eh=(ei=(ej=(ek=(el=(em=(en=dn.Map(function(et){return""!==et;},cx.selectedClassW(d8)),function(et){return cB.scrollIntoView(en,et);}),(eo=(ep=cx.expandClassW(d8),dR.Make().WithHole({$:2,$0:"name",$1:d_}).WithHole({$:1,$0:"indent",$1:a.String(d9)}).WithHole({$:2,$0:"parent",$1:ep})).WithHole({$:2,$0:"predecessor",$1:ea}).WithHole({$:2,$0:"selected",$1:dn.Map2(function(et,eu){return c3.concat(" ",c5.ofArray([et,eu]));},cx.selectedClassW(d8),cx.codeSnippetClassW(d8))}).WithHole({$:2,$0:"errormsg",$1:eb}),eo.WithHole(dS.EventQ2(eo.k,"select",function(){return eo.i;},function(){cx.setCurrentSnippetIdO({$:1,$0:d8});}))).WithHole({$:7,$0:"afterrender",$1:em})),el.WithHole(dS.EventQ2(el.k,"togglepred",function(){return el.i;},function(){cx.togglePredecessor(d8);}))),ek.WithHole(dS.EventQ2(ek.k,"togglecollapse",function(){return ek.i;},function(){cx.toggleCollapse(d8);}))),ej.WithHole(dS.EventQ2(ej.k,"drag",function(){return ej.i;},function(et){cy.setDragNode(d8);et.Event.stopPropagation();}))),ei.WithHole(dS.EventQ2(ei.k,"dragover",function(){return ei.i;},function(et){if(cy.getDragNIdO(d8)!=null)et.Event.preventDefault();}))),eh.WithHole(dS.EventQ2(eh.k,"drop",function(){return eh.i;},function(et){var eu;et.Event.preventDefault();eu=cy.getDragNIdO(d8);(h.iter(function(ev){cx.moveNode(ev,d8);}))(eu);}))),(eq=dS.CompleteHoles(eg.k,eg.h,[]),(er=new dT.New(eq[1],cY.snippet(eq[0])),(eg.i=er,er)))).get_Doc();}return ds.Convert(function(d8){return d7(d8[0],d8[1]);},cx.getHierarchyW());};cB.scrollIntoView=function(d7,d8){dn.Sink(function(d9){if(d9)try{d8.scrollIntoViewIfNeeded();}catch(d_){((function(d$){return function(ea){return d$(c2.prettyPrint(ea));};}(function(d$){dl.log(d$);}))(d_));}},d7);};cC.render$5077$34=function(){return function(){cC.addProperty();};};cC.render=function(){var d7,d8,d9,d_,d$;return(d7=(d8=(d9=cC.properties(),dR.Make().WithHole({$:0,$0:"properties",$1:d9})),d8.WithHole(dS.EventQ2(d8.k,"addproperty",function(){return d8.i;},function(){cC.addProperty();}))),(d_=dS.CompleteHoles(d7.k,d7.h,[]),(d$=new dT.New(d_[1],cY.propertytable(d_[0])),(d7.i=d$,d$)))).get_Doc();};cC.properties$5070$33=function(d7){return function(){cC.remProperty(d7);};};cC.properties=function(){var d7;function d8(d_,d$){c6.set(d7.Get(),d_,[d$,(c6.get(d7.Get(),d_))[1]]);return d7.Set(d7.Get());}function d9(d_,d$){return(c6.get(d7.Get(),d_))[1].length>1000?null:(c6.set(d7.Get(),d_,[(c6.get(d7.Get(),d_))[0],d$]),d7.Set(d7.Get()));}d7=_do.Lens(cx.currentSnippetV(),function(d_){return d_.snpProperties;},function(d_,d$){return _0.New(d_.snpId,d_.snpName,d_.snpContent,d_.snpParentIdO,d_.snpPredIds,d$,d_.snpModified);});return ds.Convert(function(d_){var d$,ea,eb,ec,ed,ee;d$=new dN.New(dn.Map(function(ef){return(c6.get(ef,d_))[0];},d7.get_View()),function(ef){return d8(d_,ef);});ea=new dN.New(dn.Map(function(ef){var eg;eg=(c6.get(ef,d_))[1];return eg.length>1000?(((c1.Curried3(function(eh,ei,ej){return eh(c2.toSafe(ei)+"...<"+a.String(ej)+" chars>");}))(a.id))(da.string(eg,{$:1,$0:0},{$:1,$0:100})))(eg.length):eg;},d7.get_View()),function(ef){return d9(d_,ef);});return(eb=(ec=dR.Make().WithHole({$:8,$0:"name",$1:d$}).WithHole({$:8,$0:"value",$1:ea}),ec.WithHole(dS.EventQ2(ec.k,"remove",function(){return ec.i;},function(){cC.remProperty(d_);}))),(ed=dS.CompleteHoles(eb.k,eb.h,[["name",0],["value",0]]),(ee=new dT.New(ed[1],cY.property(ed[0])),(eb.i=ee,ee)))).get_Doc();},dn.Map(function(d_){return c6.ofSeq(c_.range(0,c6.length(d_)-1));},d7.get_View()));};cC.remProperty=function(d7){var d8;cx.currentSnippetV().Set((d8=cx.currentSnippetV().Get(),_0.New(d8.snpId,d8.snpName,d8.snpContent,d8.snpParentIdO,d8.snpPredIds,da.array(cx.currentSnippetV().Get().snpProperties,{$:1,$0:0},{$:1,$0:d7-1}).concat(da.array(cx.currentSnippetV().Get().snpProperties,{$:1,$0:d7+1},null)),d8.snpModified)));};cC.addProperty=function(){var d7;cx.currentSnippetV().Set((d7=cx.currentSnippetV().Get(),_0.New(d7.snpId,d7.snpName,d7.snpContent,d7.snpParentIdO,d7.snpPredIds,cx.currentSnippetV().Get().snpProperties.concat([["",""]]),d7.snpModified)));};cE=cD.HoverProvider=c1.Class({provideHover:function(d7,d8,d9){var d_;return _7.ofAsyncResult((d_=f.asyncResult(),d_.Run(d_.Delay(function(){var d$;d$=cD.getIndentAndFirst();return d_.Bind$1(cu.toolTip(cD.fileName(),d8.lineNumber+d$[1],d8.column+d$[0],""),function(ea){return E["AsyncResultBuilder.Bind"](d_,cD.overDescriptions(ea[0]),function(eb){return d_.Return(bB.New(c6.ofSeq(c4.map(function(ec){return by.New((c.print$1(ec),ec),true);},eb)),null));});});}))));}},k,cE);cE.New=c1.Ctor(function(d7){k.New.call(this);},cE);cF=cD.CompletionItemProvider=c1.Class({resolveCompletionItem:function(d7,d8){var d9;function d_(ea){return ea.$==1?c_.FailWith((function(eb){return function(ec){return eb(cW.p$9(ec));};}(a.id))(ea.$0)):ea.$0;}function d$(ea){return c7.Return(ea);}return dV.OfAsync(c7.Bind((d9=f.asyncResult(),d9.Run(d9.Delay(function(){return d9.Bind$1(cu.helpText(d7.label),function(ea){return d9.Return(bA.New(d7.kind,d7.label,c3.concat("\n",c4.collect(function(eb){return c5.ofSeq(c4.delay(function(){return c4.append(!(!eb.Signature)?[eb.Signature]:[],c4.delay(function(){return c4.append(!(!eb.Comment)?[eb.Comment]:[],c4.delay(function(){return!(!eb.Footer)?[eb.Footer]:[];}));}));}));},c4.collect(a.id,ea[0].Overloads)))));});}))),function(ea){return d$(d_(ea));}));},provideCompletionItems:function(d7,d8,d9,d_){var d$;function ea(ec){return ec.$==1?c_.FailWith((function(ed){return function(ee){return ed(cW.p$9(ee));};}(a.id))(ec.$0)):ec.$0;}function eb(ec){return c7.Return(ec);}return dV.OfAsync(c7.Bind((d$=f.asyncResult(),d$.Run(d$.Delay(function(){var ec,ed;ec=cD.getIndentAndFirst();ed=ec[0];return d$.Bind$1(cu.completion(c3.replicate(ed," ")+d7.getLineContent(d8.lineNumber),true,cD.fileName(),d8.lineNumber+ec[1],d8.column+ed,"Contains"),function(ee){return d$.Return(c6.map(function(ef){return bA.New(cD.convertGlyphChar(ef.GlyphChar),ef.Name,"");},ee[0]));});}))),function(ec){return eb(ea(ec));}));}},k,cF);cF.New=c1.Ctor(function(d7){k.New.call(this);},cF);cG=cD.DefinitionProvider=c1.Class({provideDefinition:function(d7,d8,d9){var d_;function d$(eb){return eb.$==1?c_.FailWith((function(ec){return function(ed){return ec(cW.p$9(ed));};}(a.id))(eb.$0)):eb.$0;}function ea(eb){return c7.Return(eb);}return dV.OfAsync(c7.Bind((d_=f.asyncResult(),d_.Run(d_.Delay(function(){var eb;eb=cD.getIndentAndFirst();return d_.Bind$1(cu.findDeclaration(cD.fileName(),d8.lineNumber+eb[1],d8.column+eb[0],""),function(ec){var ed,ee,ef,eg,eh,ei,ej,ek;ed=ec[0];ee=cD.getSnipIdIndentAndFirst(ed.Line);ef=ee[0];eg=ee[1];eh=ee[2];ei=(ej="snpId:"+(ek=ef.get_Id(),a.String(ek)),self.monaco.Uri.parse(ej));cD.getSnippetModel(ef);return d_.Return(bu.New(bs.New(ed.Column-eg,ed.Column-eg,ed.Line-eh,ed.Line-eh),ei));});}))),function(eb){return ea(d$(eb));}));}},k,cG);cG.New=c1.Ctor(function(d7){k.New.call(this);},cG);cH.New=function(d7,d8){return{fontSize:d7,lineHeight:d8};};cI.New=function(d7,d8){return{setEditor:d7,createModelReference:d8};};cD.getSelection=function(){var d7,d8,d9,d_;d7=(d8=cD.editorConfigO(),d8==null?null:d8.$0.editorO);return d7!=null&&d7.$==1?(d9=d7.$0,(d_=d9.getSelection(),d9.getModel().getValueInRange(d_))):"";};cD["goto"]=function(d7,d8,d9){var d_;d_=null;return c7.Delay(function(){var d$,ea;d$=(ea=cD.editorConfigO(),ea==null?null:ea.$0.editorO);return d$!=null&&d$.$==1?c7.Bind(cD.gotoEditor(d$.$0,d7,d8,d9),function(){return c7.Return(null);}):c7.Zero();});};cD.editorDoc=function(){var d7;return ds.Async((d7=null,c7.Delay(function(){return c7.Bind(bq.loader(),function(){return c7.Bind(cD.monacoNew(_do.Lens(cx.currentSnippetV(),function(d8){return d8.snpContent;},function(d8,d9){return _0.New(d8.snpId,d8.snpName,d9,d8.snpParentIdO,d8.snpPredIds,d8.snpProperties,d8.snpModified);}),{$:1,$0:dn.Map2(cD.transformAnnotations,cx.currentSnippetW(),cw.annotationsV().get_View())},null,null),function(d8){cD.set_editorConfigO({$:1,$0:d8});return c7.Return(bq.render(d8));});});})));};cD.editorConfigO=function(){cT.$cctor();return cT.editorConfigO;};cD.set_editorConfigO=function(d7){cT.$cctor();cT.editorConfigO=d7;};cD.parse=function(d7,d8){var d9;B.iterA(function(d_){c.print$1(d_);},function(){c.print$1();},(d9=f.asyncResult(),d9.Run(d9.Delay(function(){var d_,d$;d_="Parsing...\n"+J.skipFirstLine$1(cw.annotationsV().Get());cw.annotationsV().Set(d_);cD.startsV().Set(d8);d$=J.splitByChar$1("\n",d7);cD.set_fileName(W.getSourceDir(cw.srcDir(),d$)+"/"+cw.id()+".fsx");return d9.Bind$1(cu.parseCode(cD.fileName(),d$,true,0),function(ea){var eb;eb=c3.concat("\n",c4.append(c5.ofArray(["Parsed!"]),c4.map(function(ec){var ed,ee,ef,eg,eh;function ei(ej,ek){return ec.StartLine>ek[1]&&ec.StartLine<=ek[2];}ed=(ee=c4.tryFind(function(ej){return ei(ej[0],ej[1]);},d8),(cD.defaultStart())(ee));ef=ed[1][0];eg=ed[1][1];return((((((((((c1.Curried(function(ej,ek,el,em,en,eo,ep,eq,er,es){return ej(c2.toSafe(ek)+" ("+a.String(el)+", "+a.String(em)+") - ("+a.String(en)+", "+a.String(eo)+") "+c2.toSafe(ep)+"("+c2.toSafe(eq)+") \""+c2.toSafe(er)+": "+c2.toSafe(es)+"\".");},10))(a.id))(ec.Severity==="Error"?"Err":"Warn"))(ec.StartLine-eg))(ec.StartColumn-ef))(ec.EndLine-eg))(ec.EndColumn-ef))(ed[0][1]))((eh=ed[0][0].get_Id(),a.String(eh))))(ec.Subcategory))(ec.Message);},ea[0].Errors)));cw.annotationsV().Set(eb);c4.iter(function(ec){c.print$1(ec);},ea[1]);return d9.Zero();});}))));};cD.monacoNew=function(d7,d8,d9,d_){var d$;d$=null;return c7.Delay(function(){var ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es;eq=bq.newVar(d7);ei=eq.editorO;ej=_.newPojo([["fontSize",12],["lineHeight",14]]);er=a.require("vs/editor/standalone/browser/standaloneServices");es=new er.StaticServices.codeEditorService._factory();es.openCodeEditor=cD.openCodeEditor;ep=es;eo=["codeEditorService",ep];em=[eo,["textModelResolverService",cD.textModelResolverService()]];ek=_.newPojo(em);ee=bD.New(eq["var"],eq.onChange,eq.onRender,ei,eq.disabled,ej,ek);ec=bq.onRender(function(et){var eu,ev,ew,ex;function ey(eD,eE,eF){return ev.provideHover(eD,eE,eF);}function ez(eD,eE,eF,eG){return ew.provideCompletionItems(eD,eE,eF,eG);}function eA(eD,eE){return ew.resolveCompletionItem(eD,eE);}function eB(eD,eE,eF){return ex.provideDefinition(eD,eE,eF);}function eC(eD){var eE;eE=et.getModel();self.monaco.editor.setModelMarkers(eE,"annotations",eD);}eu=et.getModel();self.monaco.editor.setModelLanguage(eu,"fsharp");self.monaco.editor.setTheme("vs");ev=new cE.New(et);ew=new cF.New(et);ex=new cG.New(et);c.print$1(function(eD){return ey(eD[0],eD[1],eD[2]);});c.print$1(function(eD){return ez(eD[0],eD[1],eD[2],eD[3]);});c.print$1(function(eD){return eA(eD[0],eD[1]);});c.print$1(function(eD){return eB(eD[0],eD[1],eD[2]);});self.monaco.languages.registerHoverProvider("fsharp",ev);self.monaco.languages.registerCompletionItemProvider("fsharp",ew);self.monaco.languages.registerDefinitionProvider("fsharp",ex);(h.iter(function(eD){dn.Sink(eC,eD);}))(d8);},ee);return c7.Return(ec);});};cD.textModelResolverService=function(){var d7;d7=null;return cI.New(function(d8){d7={$:1,$0:d8};},function(d8){var d9;return dV.OfAsync((d9=null,c7.Delay(function(){var d_,d$,ea,eb;ea=cD.getSnippetModel(d8);eb=self.require("vs/base/common/lifecycle");d$=new eb.ImmortalReference(ea);return c7.Return(d$);})));});};cD.openCodeEditor=function(d7,d8,d9){var d_;return dV.OfAsync((d_=null,c7.Delay(function(){var d$,ea;d$=d7.resource.path;ea=(K.Guid$1())(d$);return ea!=null&&ea.$==1?c7.Bind(cD.gotoEditor(d8,new Z({$:0,$0:ea.$0}),d7.options.selection.startLineNumber,d7.options.selection.startColumn),function(){return c7.Return(d8);}):c7.Return(null);})));};cD.gotoEditor=function(d7,d8,d9,d_){var d$;d$=null;return c7.Delay(function(){cx.setCurrentSnippetIdO({$:1,$0:d8});return c7.Bind(c7.Sleep(200),function(){d7.focus();d7.setPosition(br.New(d_,d9));d7.revealPositionInCenter(br.New(d_,d9));return c7.Zero();});});};cD.transformAnnotations=function(d7,d8){var d9,d_;function d$(ea,eb,ec,ed,ee,ef,eg){var eh;return!c$.Equals((eh=(K.parseGuidO$1())(ef),eh==null?null:{$:1,$0:new Z({$:0,$0:eh.$0})}),{$:1,$0:d7.snpId})?null:{$:1,$0:bz.New(ec,ee,eb,ed,ea==="Err"?8:ea==="Warn"?4:ea==="Hint"?1:2,eg)};}d9="(Err|Warn|Info|Hint) \\((\\d+)\\,\\s*(\\d+)\\) - \\((\\d+)\\,\\s*(\\d+)\\).*\\("+_6.rexGuid$1()+"\\) \"([^\"]+?)\"\\.";return c6.choose(function(ea){return d$(ea[0],ea[1],ea[2],ea[3],ea[4],ea[5],ea[6]);},c6.choose(function(ea){var eb,ec,ed;return(ec=_6.REGEX$2(d9,"",ea),ec!=null&&ec.$==1&&((ed=ec.$0,!c$.Equals(ed,null)&&ed.length===8)&&(eb=[c6.get(ec.$0,3),c6.get(ec.$0,2),c6.get(ec.$0,6),c6.get(ec.$0,7),c6.get(ec.$0,5),c6.get(ec.$0,4),c6.get(ec.$0,1)],true)))?{$:1,$0:[eb[6],c_.toInt(a.Number(eb[1])),c_.toInt(a.Number(eb[0])),c_.toInt(a.Number(eb[5])),c_.toInt(a.Number(eb[4])),eb[2],eb[3]]}:null;},(d_=_6.REGEX$2(d9,"g",d8),d_!=null&&d_.$==1?d_.$0:[])));};cD.convertGlyphChar=function(d7){return d7==="C"?6:d7==="E"?12:d7==="S"?11:d7==="I"?7:d7==="N"?8:d7==="M"?1:d7==="P"?9:d7==="F"?4:d7==="T"?6:d7==="K"?13:0;};cD.fileName=function(){cT.$cctor();return cT.fileName;};cD.set_fileName=function(d7){cT.$cctor();cT.fileName=d7;};cD.overDescriptions=function(d7){return i.sequenceSeq(c4.collect(function(d8){return c5.ofSeq(c4.delay(function(){return c4.append(!(!d8.Signature)?[c7.Return("```\n"+d8.Signature+"\n```")]:[],c4.delay(function(){function d9(d_){return c7.Return(d_);}return c4.append(!(!d8.Comment)?[c7.Bind((new dM.New()).Async("FSharpStation:FsRoot.FSharpStation+Markdown.createCommentBlock:-1840423385",[d8.Comment]),function(d_){return d9(cD.fixMarkDown(d_));})]:[],c4.delay(function(){return!(!d8.Footer)?[c7.Return(cD.fixMarkDown(d8.Footer))]:[];}));}));}));},c4.collect(a.id,d7)));};cD.fixMarkDown=function(d7){return c3.concat("\n\n",c4.map(function(d8){var d9;d9=c4.length(c4.takeWhile(function(d_){return" "===d_;},d8));return c3.replicate(d9,"&nbsp;")+da.string(d8,{$:1,$0:d9},null);},c4.map(function(d8){return c3.Replace(d8,"\u0009","- ");},J.splitByChar$1("\n",d7))));};cD.getSnippetModel=function(d7){var d8,d9,d_;d8=(d9="snpId:"+(d_=d7.get_Id(),a.String(d_)),self.monaco.Uri.parse(d9));return cD.getModelUri(cx.runReader(function(d$){return c_.FailWith(a.String(d$));},_2.snippetRm(d7)).snpContent,d8);};cD.getModelUri=function(d7,d8){var d9,d_,d$;d9=(d_=(d$=self.monaco.editor.getModel(d8),!d$?null:{$:1,$0:d$}),d_==null?self.monaco.editor.createModel("","fsharp",d8):d_.$0);d9.getValue()!==d7?d9.setValue(d7):void 0;return d9;};cD.getSnipIdIndentAndFirst=function(d7){var d8,d9;function d_(d$,ea){return d7>=ea[1]&&d7<=ea[2];}d8=(d9=c4.tryFind(function(d$){return d_(d$[0],d$[1]);},cD.startsV().Get()),(cD.defaultStart())(d9));return[d8[0][0],d8[1][0],d8[1][1]];};cD.getIndentAndFirst=function(){var d7,d8,d9,d_;function d$(ec){return ec[0];}function ea(ec){return ec[0];}function eb(ec){return c$.Equals(d7,ec);}d7=cx.currentSnippetV().Get().snpId;d8=(d9=c4.tryFind((d_=function(ec){return ea(d$(ec));},function(ec){return eb(d_(ec));}),cD.startsV().Get()),(cD.defaultStart())(d9));return[d8[1][0],d8[1][1]];};cD.defaultStart=function(){cT.$cctor();return cT.defaultStart;};cD.startsV=function(){cT.$cctor();return cT.startsV;};cJ.jumpToRef=function(d7){var d8,d9;function d_(d$,ea,eb){return d9>=ea&&d9<eb?{$:1,$0:d$}:null;}d8=d7.value;d9=d7.selectionStart;cJ.jumpToLine(c4.pick(function(d$){return d_(d$[0],d$[1],d$[2]);},(c4.mapFold(function(d$,ea){return[[ea,d$,d$+ea.length+1],d$+ea.length+1];},0,c3.SplitChars(d8,["\n"],0)))[0]));};cJ.jumpToLine=function(d7){var d8,d9,d_,d$,ea;d8=_6.REGEX$2(cJ.rexGuid(),"",d7);d8!=null&&d8.$==1?(d9=d8.$0,!c$.Equals(d9,null)&&d9.length===6)?(d_=c6.get(d8.$0,2),d$=c6.get(d8.$0,5),ea=c6.get(d8.$0,1),c7.Start(cD["goto"](new Z({$:0,$0:d$}),c_.toInt(a.Number(ea)),c_.toInt(a.Number(d_))),null)):void 0:void 0;};cJ.rexGuid=function(){cT.$cctor();return cT.rexGuid$1;};cK.setScrollToBottom=function(){cT.$cctor();return cT.setScrollToBottom;};cK.scrollToBottom=function(d7){var d8;c7.Start((d8=null,c7.Delay(function(){return c7.Bind(c7.Sleep(100),function(){d7.scrollTop=d7.scrollHeight;return c7.Zero();});})),null);};cK.setCurrentProperty=function(d7,d8){cx.setProperty(cx.currentSnippetV().Get(),d7,d8);};cK.getCurrentProperty=function(d7){var d8;return B.absorbO(function(){return(e.errorMsgf(function(d9){return function(d_){return d9("Property "+c2.toSafe(d_)+" not found");};}))(d7);},B.map(function(d9){return d9[0];},(d8=cK.propO(cx.currentSnippetV().Get(),d7),t.runReader(cx.snippetsColl(),d8))));};cK.buttonClick=function(d7){cK.actionClick(c3.Trim(d7.textContent));};cK.actionClick=function(d7){var d8;d8=cK.actionClickRm(d7);t.iterReaderA(function(d9){c.print$1(d9);},function(d9){c.print$1(d9);},cx.snippetsColl(),d8);};cK.actionSnp=function(d7,d8){var d9;d9=cK.actionSnpRm(d7,d8);t.iterReaderA(function(d_){c.print$1(d_);},function(d_){c.print$1(d_);},cx.snippetsColl(),d9);};cK.actionSnpRm=function(d7,d8){var d9;d9=t.fusion();return d9.Run(d9.Delay(function(){return d9.Bind(t.ofFusionM(_2.snippetFromRefORm({$:1,$0:c3.SplitChars(d7,["/"],0)})),function(d_){var d$;function ea(eb){return cK.fetchValue(d8,eb);}return d_!=null&&d_.$==1?(d$=d_.$0,d9.Bind(u.op_BarGreaterGreater(cK.getCode(d$,d8),function(eb){return cK.translateString(ea,eb);}),function(eb){return d9.Bind(t.ofAsync((new dM.New()).Async("FSharpStation:FsRoot.Library2+FSharpStationClient.setAddress:-574353144",[new bM({$:0,$0:cw.id()})])),function(){return d9.Bind(u.op_BarGreaterGreater(t.ofFusionM(_2.fastCodeRm({$:1,$0:d$.snpId},{$:1,$0:d$.snpId})),function(ec){return ec[0];}),function(ec){return d9.Bind(t.ofFusionM(_2.predsGenerationRm(d$)),function(ed){return d9.ReturnFrom(t.ofAsync((new dM.New()).Async("FSharpStation:FsRoot.Library2+FsiAgent.evalCodeWithPresence:854633647",[cw.srcDir(),(function(ee){return function(ef){return ee(cW.p(ef));};}(a.id))(d$.snpId),(new di(ed)).toLocaleString(),{$:0,$0:ec},{$:0,$0:eb}])));});});});})):d9.ReturnFrom(t.ofResultRM(c.Error$1(new d({$:1,$0:(function(eb){return function(ec){return eb("Snippet "+c2.toSafe(ec)+" not found");};}(a.id))(d7)}))));});}));};cK.setSnippetContent=function(d7,d8){var d9,d_;d9=(d_=t.fusion(),d_.Run(d_.Delay(function(){return d_.Bind(t.ofFusionM(_2.snippetFromRefORm({$:1,$0:c3.SplitChars(d7,["/"],0)})),function(d$){var ea;return d$!=null&&d$.$==1?(ea=d$.$0,(cx.setSnippet(_0.New(ea.snpId,ea.snpName,d8,ea.snpParentIdO,ea.snpPredIds,ea.snpProperties,ea.snpModified)),d_.Zero())):d_.ReturnFrom(t.ofResultRM(c.Error$1(new d({$:1,$0:(function(eb){return function(ec){return eb("Snippet "+c2.toSafe(ec)+" not found");};}(a.id))(d7)}))));});})));t.iterReaderA(function(d$){c.print$1(d$);},function(){c.print$1();},cx.snippetsColl(),d9);};cK.actionClickRm=function(d7){var d8;d8=t.fusion();return d8.Run(d8.Delay(function(){var d9;d9=(function(d_){return function(d$){return d_("Action "+c2.toSafe(d$)+" ...");};}(a.id))(d7);cw.outputMsgs().Set(d9);return d8.Bind(cK.getBaseSnippet(),function(d_){function d$(ea){return cK.fetchValue(d7,ea);}return d8.Bind(u.op_BarGreaterGreater(cK.getCode(d_,d7),function(ea){return cK.translateString(d$,ea);}),function(ea){return d8.Bind(t.ofAsync((new dM.New()).Async("FSharpStation:FsRoot.Library2+FSharpStationClient.setAddress:-574353144",[new bM({$:0,$0:cw.id()})])),function(){return d8.Bind(u.op_BarGreaterGreater(t.ofFusionM(_2.fastCodeRm({$:1,$0:d_.snpId},{$:1,$0:d_.snpId})),function(eb){return eb[0];}),function(eb){return d8.Bind(t.ofFusionM(_2.predsGenerationRm(d_)),function(ec){return d8.ReturnFrom(t.ofAsync((new dM.New()).Async("FSharpStation:FsRoot.Library2+FsiAgent.evalCodeWithPresence:854633647",[cw.srcDir(),(function(ed){return function(ee){return ed(cW.p(ee));};}(a.id))(d_.snpId),(new di(ec)).toLocaleString(),{$:0,$0:eb},{$:0,$0:ea}])));});});});});});}));};cK.fetchValue=function(d7,d8){var d9,d_,d$;return d8==="button"?d7:(d9=(d_=(d$=(dW.splitName("Snp_"+c3.Replace(a.String(cx.currentSnippetV().Get().snpId.get_Id()),"-","")))(d8),dW.tryGetWoW(d$[0],d$[1])),d_==null?null:dn.TryGet(d_.$0)),d9==null?(function(ea){return function(eb){return ea("$[not found:"+c2.toSafe(eb)+"]");};}(a.id))(d8):d9.$0);};cK.getCode=function(d7,d8){var d9;d9=t.fusion();return d9.Run(d9.Delay(function(){var d_;return d9.Bind((d_=t.fusion(),d_.Run(d_.Delay(function(){return d_.Bind(cK.propO(d7,d8),function(d$){return d$==null?c3.StartsWith(d8,":")?d_.Return(da.string(d8,{$:1,$0:1},null)):d_.Bind(cK.propO(d7,"action-template"),function(ea){return d_.Return(ea==null?"${button}() |> printfn \"%A\"":ea.$0);}):d_.Return(d$.$0);});}))),function(d$){return d9.Bind(cK.codeModule(d7,d$),function(ea){return d9.Return(cx.prepAnyCode(ea));});});}));};cK.codeModule=function(d7,d8){var d9;d9=t.fusion();return d9.Run(d9.Delay(function(){return d9.Bind(cK.propO(d7,"Open"),function(d_){var d$;return d_!=null&&d_.$==1?d9.Return((d$=(J.indentStr$1(4))(d_.$0+"\n"+d8),(((c1.Curried3(function(ea,eb,ec){return ea("module Call"+c2.toSafe(eb)+" =\n"+c2.toSafe(ec));}))(a.id))(a.String(di.now())))(d$))):d9.Return(d8);});}));};cK.getBaseSnippet=function(){var d7;d7=t.fusion();return d7.Run(d7.Delay(function(){var d8;d8=cx.currentSnippetV().Get();return d7.Bind(cK.propO(d8,"BaseSnippet"),function(d9){return d7.ReturnFrom(u.op_BarGreaterGreater(u.op_BarGreaterGreater(t.insertO(d9==null?null:{$:1,$0:t.ofFusionM(_2.snippetFromRefORm({$:1,$0:c3.SplitChars(d9.$0,["/"],0)}))}),function(d_){return d_==null?null:d_.$0;}),function(d_){return d_==null?d8:d_.$0;}));});}));};cK.translateString=function(d7,d8){function d9(d_,d$){var ea;ea=J.delimitedO$1("${","}",d$);return ea!=null&&ea.$==1?d9(d_+ea.$0[0],d7(ea.$0[1])+ea.$0[2]):d_+d$;}return d9("",d8);};cK.propO=function(d7,d8){function d9(d_,d$){return d$[0];}return u.op_BarGreaterGreater(t.ofFusionM(_2.propertyHierORm(d8,d7)),function(d_){var d$;return d_==null?null:{$:1,$0:(d$=d_.$0,d9(d$[0],d$[1]))};});};cM.New=function(d7,d8,d9){return{snippets:d7,modified:d8,collapsed:d9};};cL.serModel=function(){cT.$cctor();return cT.serModel;};cL.getModel=function(d7,d8,d9){return cM.New(c6.ofSeq(d7),d8,d9);};cL.serSnippet=function(){cT.$cctor();return cT.serSnippet;};cL.serSnippetId=function(){cT.$cctor();return cT.serSnippetId;};cN.saveAs=function(){var d7,d8,d9,d_;d7=(d8=c4.last(c3.SplitChars(cN.fileName().Get(),["/","\\"],0)),d8===""?"noname.snippets":d8);a.saveAs(new a.Blob([(d9=(d_=cx.getSnippetsGen(),cL.getModel(d_[0],d_[1],d_[2])),(cL.serModel())[0](d9))],{type:"text/plain;charset=utf-8"}),d7);cx.updateGeneration();};cN.loadTextFile=function(d7){var d8,d9;if(cN.canLoad()){d8=d7.files;d8.length>0?(d9=new a.FileReader(),d9.onload=function(d_){return cN.parseText(d_.target.result);},cN.fileName().Set(d8.item(0).name),d9.readAsText(d8.item(0))):void 0;}};cN.parseText=function(d7){var d8,d9;try{d8=(d9=dB.parse(d7),(cL.serModel())[1](d9));cx.setSnippetsGen(d8.snippets,d8.collapsed);}catch(d_){a.alert(a.String(d_));((function(d$){return function(ea){return d$(c2.prettyPrint(ea));};}(function(d$){dl.log(d$);}))(d_));}};cN.canLoad=function(){return c$.Equals(dn.TryGet(cx.SaveAsClassW()),{$:1,$0:""})||a.confirm("Changes have not been saved, do you really want to load?");};cN.fileName=function(){cT.$cctor();return cT.fileName$1;};cO.importFile=function(d7){var d8,d9;if(cN.canLoad()){d8=d7.files;d8.length>0?(d9=new a.FileReader(),d9.onload=function(d_){return cO.parseText(d_.target.result);},d9.readAsText(d8.item(0))):void 0;}};cO.parseText=function(d7){var d8;try{cx.setSnippetsGen((d8=dB.parse(d7),(cO.serSnippets())[1](d8)),new dg.New$1(null));}catch(d9){a.alert(a.String(d9));((function(d_){return function(d$){return d_(c2.prettyPrint(d$));};}(function(d_){dl.log(d_);}))(d9));}};cO.serSnippets=function(){cT.$cctor();return cT.serSnippets;};cO.serSnippet2=function(){cT.$cctor();return cT.serSnippet2;};cO.serSnippetId2=function(){cT.$cctor();return cT.serSnippetId2;};cQ.NoSnippet={$:2};cP.mainProgram=function(){var d7,d8,d9,d_,d$,ea,eb,ec,ed;dW.addPlugIn(dX.New("FSharpStation",[dW.newVar("fileName",cN.fileName()),dW.newVar("SnippetName",_do.Lens(cx.currentSnippetV(),function(ee){return ee.snpName;},function(ee,ef){return _0.New(ee.snpId,ef,ee.snpContent,ee.snpParentIdO,ee.snpPredIds,ee.snpProperties,ee.snpModified);})),dW.newVar("Content",_do.Lens(cx.currentSnippetV(),function(ee){return ee.snpContent;},function(ee,ef){return _0.New(ee.snpId,ee.snpName,ef,ee.snpParentIdO,ee.snpPredIds,ee.snpProperties,ee.snpModified);})),dW.newVar("Output",cw.outputMsgs()),dW.newVar("Parser",cw.annotationsV())],[dW.newViw("FsCode",cx.FsCodeW()),dW.newViw("SaveNeeded",cx.SaveAsClassW()),dW.newViw("CurrentPath",cx.currentPathW()),dW.newViw("FStationId",dn.Const(cw.id())),dW.newViw("CurrentSid",dn.Map(function(ee){return a.String(ee.get_Id());},cx.CurrentSnippetIdW()))],[dW.newDoc("mainDoc",dY.Create(cP.mainDoc)),dW.newDoc("editor",dY.Create(function(){return ds.Element("div",[],[cD.editorDoc()]);})),dW.newDoc("Snippets",dY.Create(cB.render)),dW.newDoc("Properties",dY.Create(cC.render)),dW.newDoc("ButtonsRight",dY.Create(cP.buttonsRight))],[dW.newAct("AddSnippet",function(){cx.newSnippet();}),dW.newAct("RemoveSnippet",function(){cP.deleteSnippet();}),dW.newAct("IndentIn",function(){cx.indentIn();}),dW.newAct("IndentOut",function(){cx.indentOut();}),dW.newAct("AddProperty",function(){cC.addProperty();}),dW.newAct("SaveAs",function(){cN.saveAs();}),dW.newAct("RunFS",function(){cP.runFsCode();}),dW.newAct("SelectionToFsi",function(){cP.selectionToFsi();}),dW.newAct("AbortFsi",function(){(new dM.New()).Send("FSharpStation:FsRoot.Library2+FsiAgent.abortFsiExe:6",[]);}),dW.newAct("DisposeFsi",function(){(new dM.New()).Send("FSharpStation:FsRoot.Library2+FsiAgent.disposeFsiExe:6",[]);}),dW.newActF("LoadFile",{$:1,$0:function(ee){cN.loadTextFile(ee);},$1:"FileElement"}),dW.newActF("Import",{$:1,$0:function(ee){cO.importFile(ee);},$1:"FileElement"}),dW.newActF("JumpTo",{$:1,$0:function(ee){cJ.jumpToRef(ee);},$1:"textarea"}),dW.newActF("ButtonClick",{$:1,$0:function(ee){cK.buttonClick(ee);},$1:"button"}),dW.newActF("ActionClick",{$:1,$0:function(ee){cK.actionClick(ee);},$1:"name"}),dW.newActF("SetScrollToBottom",{$:1,$0:function(ee){(cK.setScrollToBottom())(ee);},$1:"textarea"}),dW.newActF("ActionSnp",{$:2,$0:function(ee){return function(ef){return cK.actionSnp(ee,ef);};},$1:"snpPath",$2:"name"}),dW.newActF("setCurrentProperty",{$:2,$0:function(ee){return function(ef){return cK.setCurrentProperty(ee,ef);};},$1:"name",$2:"value"}),dW.newActF("setSnippetContent",{$:2,$0:function(ee){return function(ef){return cK.setSnippetContent(ee,ef);};},$1:"path",$2:"value"})],[dW.newQry("PropertyRA",cK.getCurrentProperty)]));dZ.addLayout((d7=(d8=self.document.getElementById("GlobalLayout"),c$.Equals(d8,null)?"\n                    menuEditor       horizontal  65       menuLogo                  editorMessages\n                    double           horizontal  0-50-100 AppFramework.AppFwkClient menuEditor\n                    menuLogo         vertical    350      logo                      menu\n                    logo             span       \"margin:0; color:gray; font-size: 55px; font-weight:530\" \"F# Station\"\n                    editorMessages   horizontal 10-83-100 editorButtons             messages\n                    messages         vertical   0-50-100  messagesLeft              messagesRight\n                    editorButtons    vertical -120 snippetsSnippet buttons\n                    buttons div      \"overflow: hidden; display: grid; grid-template-columns: 100%; grid-template-rows: repeat(15, calc(100% / 15)); bxackground-color: #eee; box-sizing: border-box; padding : 5px; grid-gap: 5px; margin-right: 21px\" btnSaveAs none x btnAddSnippet btnDeleteSnippet btnIndentIn btnIndentOut none x btnRunFS btnInputFsi btnAbortFsi\n                    snippetsSnippet  vertical   0-20-100  snippets                  editorProperties\n                    snippets         horizontal 20        \"${FSharpStation.CurrentPath}\" FSharpStation.Snippets\n                    editorProperties vertical   0-100-100 snippet                   properties\n                    properties       div        \"\"        FSharpStation.Properties\n                    snippet          horizontal 35        Name                      FSharpStation.editor\n                    menu             span  \"\" btnLoad btnImport\n        \n                    btnSaveAs        button FSharpStation.SaveAs         \"class=btn ${FSharpStation.SaveNeeded}\" \"Save as...    \"\n                    btnAddSnippet    button FSharpStation.AddSnippet     \"\"                  \"Add Snippet   \"\n                    btnDeleteSnippet button FSharpStation.RemoveSnippet  \"\"                  \"Delete Snippet\"\n                    btnIndentIn      button FSharpStation.IndentIn       \"\"                  \"Indent In  >> \"\n                    btnIndentOut     button FSharpStation.IndentOut      \"\"                  \"Indent Out << \"\n                    btnRunFS         button FSharpStation.RunFS          \"\"                  \"Run F#        \"\n                    btnInputFsi      button FSharpStation.selectionToFsi   \"\"                  \"selection |> Fsi\"\n                    btnAbortFsi      button FSharpStation.AbortFsi       \"\"                  \"Abort Fsi     \"\n        \n                    messagesLeft     wcomp-tabstrip                      \"\"                  Output FsCode\n                    messagesRight    wcomp-tabstrip                      \"\"                  Parser\n        \n                    Output           textarea  FSharpStation.Output      \"tabname=Output ; placeholder=Output messages ; spellcheck=false\" \n                    FsCode           textarea  FSharpStation.FsCode      \"tabname=F# Code; placeholder=F# Code         ; spellcheck=false\" \n                    Parser           textarea  FSharpStation.Parser      \"tabname=Parser ; placeholder=Parser messages; dblclick=${FSharpStation.JumpTo} ; spellcheck=false\" \n                    Name             Doc       InputLabel                \"\"     \"Name:\"        FSharpStation.SnippetName\n                    btnLoad          Doc       InputFile                 \"\"     \"Load File...\" FSharpStation.LoadFile  FileName\n                    btnImport        Doc       InputFile                 \"\"     \"Import...\"    FSharpStation.Import    \"\"\n                    FileName         div                                 \"class=form-control\"  FSharpStation.fileName\n                  ":d8.textContent),dZ.newLyt(cP.FStationLyt(),d7)));dn.Sink(function(ee){(h.iter(function(ef){try{self["eval"].apply(self,["CIPHERSpaceLoadFilesDoAfter(function(){IntelliFactory.Runtime.Start()})"]);self["eval"].apply(self,[ef[1]]);}catch(eg){c.print(eg);}}))(ee);},(d9=cx.currentLayoutJSDW(),(d_=[_do.Create$1(null)],(dn.Sink(function(ee){if(!c$.Equals(d_[0].Get(),ee))d_[0].Set(ee);},d9),d_[0].get_View()))));dn.Sink(function(ee){var ef,eg,eh,ei,ej,ek;ef=(eg=ee==null?null:(eh=ee.$0,(ei=eh[0],(ej=eh[1],(dZ.addLayout(dZ.newLyt(ei,ej)),ej===""?null:{$:1,$0:ei})))),(ek=cP.FStationLyt(),eg==null?ek:eg.$0));dW.mainDocV().Set(ef);},(d$=cx.currentLayoutDW(),(ea=[_do.Create$1(null)],(dn.Sink(function(ee){if(!c$.Equals(ea[0].Get(),ee))ea[0].Set(ee);},d$),ea[0].get_View()))));dn.Sink(function(ee){var ef;c7.Start((ef=null,c7.Delay(function(){return c7.Bind(c7.Sleep(500),function(){self.document.title=ee;return c7.Zero();});})),null);},cx.currentPathW());eb=(ec=dW.getMainDoc().f(),dR.Make().WithHole({$:0,$0:"maincontent",$1:ec}));ed=dS.CompleteHoles(eb.k,eb.h,[]);eb.i=new dT.New(ed[1],dx.RunFullDocTemplate(ed[0]));};cP.mainDoc$5834$78=a.id;cP.mainDoc$5825$39=function(){return function(d7){cJ.jumpToRef(d7.Target);};};cP.mainDoc$5824$39=function(){return function(d7){d7.Target.value="";};};cP.mainDoc$5823$39=function(){return function(d7){cO.importFile(d7.Target);};};cP.mainDoc$5822$39=function(){return function(d7){d7.Target.value="";};};cP.mainDoc$5821$39=function(){return function(d7){cN.loadTextFile(d7.Target);};};cP.mainDoc=function(){var d7,d8,d9,d_,d$,ea,eb,ec;d7=cP.hookDoc("FSharpStation","ButtonsRight",function(ed,ee){return ed.WithHole({$:0,$0:"buttonsright",$1:ee});},cP.hookDoc("FSharpStation","Properties",function(ed,ee){return ed.WithHole({$:0,$0:"properties",$1:ee});},cP.hookDoc("FSharpStation","Snippets",function(ed,ee){return ed.WithHole({$:0,$0:"snippets",$1:ee});},cP.hookDoc("FSharpStation","editor",function(ed,ee){return ed.WithHole({$:0,$0:"codeeditor",$1:ee});},cP.hookAct("FSharpStation","SaveAs",function(ed,ee){return ed.WithHole(dS.EventQ2(ed.k,"saveas",function(){return ed.i;},ee));},cP.hookViw("FSharpStation","SaveNeeded",function(ed,ee){return ed.WithHole({$:2,$0:"saveasclass",$1:ee});},cP.hookViw("FSharpStation","FSCode",function(ed,ee){return ed.WithHole({$:8,$0:"fscode",$1:new dN.New(ee,a.ignore)});},cP.hookVar("FSharpStation","Parser",function(ed,ee){return ed.WithHole({$:8,$0:"parser",$1:ee});},cP.hookVar("FSharpStation","Output",function(ed,ee){return ed.WithHole({$:8,$0:"output",$1:ee});},cP.hookVar("FSharpStation","SnippetName",function(ed,ee){return ed.WithHole({$:8,$0:"name",$1:ee});},cP.hookVar("FSharpStation","fileName",function(ed,ee){return ed.WithHole({$:8,$0:"filename",$1:ee});},(d8=(d9=(d_=(d$=(ea=dR.Make(),ea.WithHole(dS.EventQ2(ea.k,"loadfilechanged",function(){return ea.i;},function(ed){cN.loadTextFile(ed.Target);}))),d$.WithHole(dS.EventQ2(d$.k,"loadfileclear",function(){return d$.i;},function(ed){ed.Target.value="";}))),d_.WithHole(dS.EventQ2(d_.k,"importfilechanged",function(){return d_.i;},function(ed){cO.importFile(ed.Target);}))),d9.WithHole(dS.EventQ2(d9.k,"importfileclear",function(){return d9.i;},function(ed){ed.Target.value="";}))),d8.WithHole(dS.EventQ2(d8.k,"jumpref",function(){return d8.i;},function(ed){cJ.jumpToRef(ed.Target);}))))))))))))));return(eb=dS.CompleteHoles(d7.k,d7.h,[["filename",0],["name",0],["output",0],["fscode",0],["parser",0]]),(ec=new dT.New(eb[1],cY.layout(eb[0])),(d7.i=ec,ec))).get_Doc();};cP.buttonsRight$5807$74=a.id;cP.buttonsRight$5806$74=a.id;cP.buttonsRight$5805$74=a.id;cP.buttonsRight$5804$74=a.id;cP.buttonsRight$5803$74=a.id;cP.buttonsRight=function(){var d7,d8,d9;d7=cP.hookAct("FSharpStation","RunFS",function(d_,d$){return d_.WithHole(dS.EventQ2(d_.k,"runfs",function(){return d_.i;},d$));},cP.hookAct("FSharpStation","IndentOut",function(d_,d$){return d_.WithHole(dS.EventQ2(d_.k,"indentout",function(){return d_.i;},d$));},cP.hookAct("FSharpStation","IndentIn",function(d_,d$){return d_.WithHole(dS.EventQ2(d_.k,"indentin",function(){return d_.i;},d$));},cP.hookAct("FSharpStation","RemoveSnippet",function(d_,d$){return d_.WithHole(dS.EventQ2(d_.k,"removesnippet",function(){return d_.i;},d$));},cP.hookAct("FSharpStation","AddSnippet",function(d_,d$){return d_.WithHole(dS.EventQ2(d_.k,"addsnippet",function(){return d_.i;},d$));},dR.Make())))));return(d8=dS.CompleteHoles(d7.k,d7.h,[]),(d9=new dT.New(d8[1],cY.buttonsright(d8[0])),(d7.i=d9,d9))).get_Doc();};cP.hookDoc=function(d7,d8,d9,d_){var d$,ea,eb;d$=(ea=dW.tryGetDoc(d7,d8),ea==null?null:{$:1,$0:(eb=ea.$0,((((c1.Curried3(function(ec,ed,ee){return ec("Doc    "+c2.toSafe(ed)+"."+c2.toSafe(ee)+" hooked");}))(function(ec){dl.log(ec);}))(d7))(d8),d9(d_,ds.EmbedView(dn.Map(function(){return dW.getLazyDoc(eb);},dW.mainDocV().get_View())))))});return d$==null?((((c1.Curried3(function(ec,ed,ee){return ec("Doc    "+c2.toSafe(ed)+"."+c2.toSafe(ee)+" not found");}))(function(ec){dl.log(ec);}))(d7))(d8),d_):d$.$0;};cP.hookAct=function(d7,d8,d9,d_){var d$,ea,eb;d$=(ea=dW.tryGetAct(d7,d8),ea==null?null:{$:1,$0:(eb=ea.$0,((((c1.Curried3(function(ec,ed,ee){return ec("Action "+c2.toSafe(ed)+"."+c2.toSafe(ee)+" hooked");}))(function(ec){dl.log(ec);}))(d7))(d8),d9(d_,function(){dW.callFunction(null,null,eb.actFunction);})))});return d$==null?((((c1.Curried3(function(ec,ed,ee){return ec("Action "+c2.toSafe(ed)+"."+c2.toSafe(ee)+" not found");}))(function(ec){dl.log(ec);}))(d7))(d8),d_):d$.$0;};cP.hookViw=function(d7,d8,d9,d_){var d$,ea;d$=(ea=dW.tryGetViw(d7,d8),ea==null?null:{$:1,$0:((((c1.Curried3(function(eb,ec,ed){return eb("View   "+c2.toSafe(ec)+"."+c2.toSafe(ed)+" hooked");}))(function(eb){dl.log(eb);}))(d7))(d8),d9(d_,ea.$0.viwView))});return d$==null?((((c1.Curried3(function(eb,ec,ed){return eb("View   "+c2.toSafe(ec)+"."+c2.toSafe(ed)+" not found");}))(function(eb){dl.log(eb);}))(d7))(d8),d_):d$.$0;};cP.hookVar=function(d7,d8,d9,d_){var d$,ea;d$=(ea=dW.tryGetVar(d7,d8),ea==null?null:{$:1,$0:((((c1.Curried3(function(eb,ec,ed){return eb("Var    "+c2.toSafe(ec)+"."+c2.toSafe(ed)+" hooked");}))(function(eb){dl.log(eb);}))(d7))(d8),d9(d_,ea.$0.varVar))});return d$==null?((((c1.Curried3(function(eb,ec,ed){return eb("Var    "+c2.toSafe(ec)+"."+c2.toSafe(ed)+" not found");}))(function(eb){dl.log(eb);}))(d7))(d8),d_):d$.$0;};cP.FStationLyt=function(){cT.$cctor();return cT.FStationLyt;};cP.deleteSnippet=function(){var d7;d7=cx.currentSnippetV().Get();!c$.Equals(d7.snpId,Z.get_Empty())&&a.confirm((function(d8){return function(d9){return d8("Do you want to delete "+c2.toSafe(d9)+"?");};}(a.id))(_2.snippetName(d7.snpName,d7.snpContent)))?cx.deleteCurrentSnippet():void 0;};cP.selectionToFsi=function(){var d7,d8,d9;function d_(d$){cw.appendMsgs(c3.Replace(d$,"xXxYyYyhH","Done!"));}d7=(d8=t.fusion(),d8.Run(d8.Delay(function(){return d8.Bind(t.ofAsync((new dM.New()).Async("FSharpStation:FsRoot.Library2+FSharpStationClient.setAddress:-574353144",[new bM({$:0,$0:cw.id()})])),function(){var d$;return d8.Bind((d$=cD.getSelection(),t.ofAsync((new dM.New()).Async("FSharpStation:FsRoot.Library2+FsiAgent.sendFsiInput:-1181784350",[d$+";;"]))),function(){return d8.Return();});});})));t.iterResultA((d9=function(d$){return function(ea){return d$("Error:\n"+cW.p$1(ea));};}(a.id),function(d$){return d_(d9(d$));}),a.ignore,d7);};cP.runFsCode=function(){var d7;function d8(d9){cw.appendMsgs(c3.Replace(d9,"xXxYyYyhH","Done!"));}d7=dn.TryGet(cx.FsCodeW());(h.iter(function(d9){var d_,d$,ea;d_=(d$=t.fusion(),d$.Run(d$.Delay(function(){cw.outputMsgs().Set("Running F#...");return d$.Bind(t.ofAsync((new dM.New()).Async("FSharpStation:FsRoot.Library2+FSharpStationClient.setAddress:-574353144",[new bM({$:0,$0:cw.id()})])),function(){return d$.ReturnFrom(t.ofAsync((new dM.New()).Async("FSharpStation:FsRoot.Library2+FsiAgent.evalCode:-623788033",[cw.srcDir(),{$:0,$0:d9}])));});})));t.iterResultA((ea=function(eb){return function(ec){return eb("Error:\n"+cW.p$1(ec));};}(a.id),function(eb){return d8(ea(eb));}),a.ignore,d_);}))(d7);};cP.endPointV=function(){cT.$cctor();return cT.endPointV;};cR.processMessage=function(d7){var d8,d9;return B.map(function(d_){return d_[0];},(d8=(d9=t.fusion(),d9.Run(d9.Delay(function(){var d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej;function ek(em){cx.setProperty(em,ei,ej);return"Ok";}switch(d7.$==1?(d_=d7.$0,1):d7.$==2?(d_=d7.$0,2):d7.$==8?(d_=d7.$0,3):d7.$==3?(d_=d7.$0,4):d7.$==4?(d$=d7.$0,!c$.Equals(d$,null)&&d$.length===2?c6.get(d7.$0,0)==="AddOutput"?(d_=c6.get(d7.$0,1),5):c6.get(d7.$0,0)==="ExecJS"?(d_=c6.get(d7.$0,1),6):(d_=[c6.get(d7.$0,0),c6.get(d7.$0,1)],9):(ea=d7.$0,!c$.Equals(ea,null)&&ea.length===4?c6.get(d7.$0,0)==="SetProperty"?(d_=[c6.get(d7.$0,1),c6.get(d7.$0,2),c6.get(d7.$0,3)],7):14:(eb=d7.$0,!c$.Equals(eb,null)&&eb.length===1?(d_=c6.get(d7.$0,0),8):(ec=d7.$0,!c$.Equals(ec,null)&&ec.length===3?(d_=[c6.get(d7.$0,0),c6.get(d7.$0,1),c6.get(d7.$0,2)],10):14)))):d7.$==6?(d_=d7.$0,11):d7.$==7?(d_=[d7.$1,d7.$0],12):d7.$==5?13:0){case 0:return d9.Return({$:0,$0:cw.id()});case 1:return d9.Bind(t.traverseSeq(function(el){return t.ofFusionM(_2.snippetFromRefORm(el));},d_),function(el){return d9.Return({$:1,$0:c6.ofSeq(c4.choose(a.id,el))});});case 2:cx.clearPredsCache();return d9.Bind(t.absorbO(function(){return new d({$:1,$0:(function(el){return function(em){return el("Snippet not found "+cW.p$2(em));};}(a.id))(d_)});},t.ofFusionM(_2.snippetFromRefORm(d_))),function(el){return d9.ReturnFrom(u.op_BarGreaterGreater(u.op_BarGreaterGreater(t.ofFusionM(_2.fastCodeRm({$:1,$0:el.snpId},{$:1,$0:el.snpId})),function(em){return em[0];}),function(em){return{$:0,$0:em};}));});case 3:return d9.Bind(t.absorbO(function(){return new d({$:1,$0:(function(el){return function(em){return el("Snippet not found "+cW.p$2(em));};}(a.id))(d_)});},t.ofFusionM(_2.snippetFromRefORm(d_))),function(el){return d9.Bind(t.ofFusionM(_2.predsLRm(el.snpId)),function(em){return d9.Bind(t.traverseSeq(function(en){return t.ofFusionM(_2.snippetORm(en));},em),function(en){function eo(ep){return ep.snpModified;}return d9.Return({$:2,$0:c4.max(c4.choose(function(ep){return ep==null?null:{$:1,$0:eo(ep.$0)};},en))});});});});case 4:return d9.Bind(t.absorbO(function(){return new d({$:1,$0:(function(el){return function(em){return el("Snippet not found "+cW.p$2(em));};}(a.id))(d_)});},t.ofFusionM(_2.snippetFromRefORm(d_))),function(el){return d9.Bind(t.ofFusionM(_2.predsLRm(el.snpId)),function(em){return d9.Bind(t.traverseSeq(function(en){return t.ofFusionM(_2.snippetORm(en));},em),function(en){return d9.Return({$:1,$0:c6.ofSeq(c4.choose(a.id,en))});});});});case 5:cw.appendMsgs(d_);return d9.Return({$:0,$0:"Ok"});case 6:try{ef={$:0,$0:(eg=self["eval"].apply(self,[d_]),c$.Equals(eg,null)?"":(function(el){return function(em){return el(c2.prettyPrint(em));};}(a.id))(eg))};}catch(el){ef=c.Error(new d({$:5,$0:el.message,$1:el.stack}));}ee=t.ofResultRM(ef);return d9.Bind(ee,function(em){return d9.Return({$:0,$0:em});});case 7:eh=d_[0];ei=d_[1];ej=d_[2];return d9.Bind(t.absorbO(function(){return new d({$:1,$0:(function(em){return function(en){return em("Snippet not found: "+c2.toSafe(en));};}(a.id))(eh)});},u.op_BarGreaterGreater(t.ofFusionM(_2.snippetFromRefORm({$:1,$0:c3.SplitChars(eh,["/"],0)})),function(em){return em==null?null:{$:1,$0:ek(em.$0)};})),function(em){return d9.Return({$:0,$0:em});});case 8:return d9.ReturnFrom(cR.actionCall(d_,null,null));case 9:return d9.ReturnFrom(cR.actionCall(d_[0],d_[1],null));case 10:return d9.ReturnFrom(cR.actionCall(d_[0],d_[1],d_[2]));case 11:return d9.ReturnFrom(cR.getValue(d_));case 12:return d9.ReturnFrom(cR.setValue(d_[1],d_[0]));case 13:return d9.Return({$:0,$0:self.document.baseURI});case 14:return d9.Return(_3.Hole[(function(em){return function(en){return em("TODO message: "+cW.p$3(en));};}(a.id))(d7)]);}}))),t.runReader(cx.snippetsColl(),d8)));};cR.setValue=function(d7,d8){var d9;d9=t.fusion();return d9.Run(d9.Delay(function(){var d_,d$;d_=(d$=(dW.splitName(cP.FStationLyt()))(d7),dW.tryGetVar(d$[0],d$[1]));return d_!=null&&d_.$==1?(d_.$0.varVar.Set(d8),d9.Return({$:0,$0:"Ok"})):d9.ReturnFrom(t.ofResultRM(c.Error(new d({$:1,$0:(function(ea){return function(eb){return ea("Var "+c2.toSafe(eb)+" not found");};}(a.id))(d7)}))));}));};cR.getValue=function(d7){var d8;d8=t.fusion();return d8.Run(d8.Delay(function(){var d9,d_;d9=(d_=(dW.splitName(cP.FStationLyt()))(d7),dW.tryGetWoW(d_[0],d_[1]));return d9!=null&&d9.$==1?d8.Bind(t.ofAsync(dn.GetAsync(d9.$0)),function(d$){return d8.Return({$:0,$0:d$});}):d8.ReturnFrom(t.ofResultRM(c.Error(new d({$:1,$0:(function(d$){return function(ea){return d$("Var or View "+c2.toSafe(ea)+" not found");};}(a.id))(d7)}))));}));};cR.actionCall=function(d7,d8,d9){var d_;d_=t.fusion();return d_.Run(d_.Delay(function(){var d$,ea;d$=(ea=(dW.splitName(cP.FStationLyt()))(d7),dW.tryGetAct(ea[0],ea[1]));return d$!=null&&d$.$==1?(dW.callFunction(d8,d9,d$.$0.actFunction),d_.Return({$:0,$0:"Ok"})):d_.ReturnFrom(t.ofResultRM(c.Error(new d({$:1,$0:(function(eb){return function(ec){return eb("Action "+c2.toSafe(ec)+" not found");};}(a.id))(d7)}))));}));};cR.wsStationClient=function(){cT.$cctor();return cT.wsStationClient;};cS.content$6100$54=function(){cP.mainProgram();return ds.TextNode("Initialized");};cT.$cctor=function(){var d8,ea,eg,ej,ek,el,ep,eq,eu,ev,ez,eA,eB,eC,eE,eF,eI,eJ,eM,eP,eQ,eS,eT,eU,eV,eY,eZ,e0,e1,e2,e3,e4,e5,e6,e7,e8,e9,e_,e$,fa,fb,fc,fd,fe,ff,fg,fh,fi,fj,fk,fl,fm,fn,fo,fp,fq,fr,fs,ft,fy,fz;cT.$cctor=a.ignore;cT.rtn=function(fA){return[fA];};cT.result=new m.New();cT.result$1=l.result();cT.resultP=new o.New();cT.fusion=new s.New();cT.fusion$1=new w.New();cT.resultM=new y.New();cT.asyncResult=new C.New();cT.asyncResultP=new D.New();cT.asyncResultM=new G.New();function d7(fA){return c3.concat("\n",fA);}cT.unindentStr=function(fA){return d7(J.unindent$1(fA));};function d9(fA){return J.splitByChar$1("\n",fA);}function d_(fA){var fB,fC;return da.array(fA,{$:1,$0:0},{$:1,$0:(fB=0,(fC=c6.length(fA)-2,c$.Compare(fB,fC)===1?fB:fC))});}function d$(fA){return c3.concat("\n",fA);}cT.skipLastLine=(d8=function(fA){return d_(d9(fA));},function(fA){return d$(d8(fA));});function eb(fA){return fA+"T00:00:00";}cT.parseDateO2=(ea=K.tryParseWith$1(function(fA){var fB,fC;fB=0;return[(fC=d0.TryParse(fA),fC!=null&&fC.$==1&&(fB=fC.$0,true)),fB];}),function(fA){return ea(eb(fA));});cT.parseDateO=K.tryParseWith$1(function(fA){var fB,fC;fB=0;return[(fC=d0.TryParse(fA),fC!=null&&fC.$==1&&(fB=fC.$0,true)),fB];});cT.parseIntO=K.tryParseWith$1(function(fA){var fB;fB=0;return[d1.TryParseInt32(fA,{get:function(){return fB;},set:function(fC){fB=fC;}}),fB];});cT.parseInt64O=K.tryParseWith$1(function(fA){var fB;fB=0;return[d1.TryParseInt64(fA,{get:function(){return fB;},set:function(fC){fB=fC;}}),fB];});cT.parseSingleO=K.tryParseWith$1(function(fA){var fB,fC;fB=0;return[(fC=a.Number(fA),a.isNaN(fC)?false:(fB=fC,true)),fB];});cT.parseDoubleO=K.tryParseWith$1(function(fA){var fB,fC;fB=0;return[(fC=a.Number(fA),a.isNaN(fC)?false:(fB=fC,true)),fB];});cT.parseGuidO=K.tryParseWith$1(function(fA){var fB;fB=null;return[de.TryParse(fA,{get:function(){return fB;},set:function(fC){fB=fC;}}),fB];});cT["|Date|_|"]=K.parseDateO$1();cT["|Int|_|"]=K.parseIntO$1();cT["|Int64|_|"]=K.parseInt64O$1();cT["|Single|_|"]=K.parseSingleO$1();cT["|Double|_|"]=K.parseDoubleO$1();cT["|Guid|_|"]=K.parseGuidO$1();cT.defaultSnippet=_0.New(new Z({$:0,$0:"00000000-0000-0000-0000-000000000000"}),"","",null,new dg.New$1(null),[],(new di(0)).getTime());cT.tieFighter="|"+"-"+"|";cT.deserGuid=function(fA){return bg.ifUndef("00000000-0000-0000-0000-000000000000",fA);};function ec(fA){return bg.ifUndef(0,fA);}cT.serFloat=[function(fA){return(function(fB){return function(fC){return fB(c2.prettyPrint(fC));};}(a.id))(fA);},function(fA){return ec(a.id(fA));}];function ed(fA){return bg.ifUndef(0,fA);}cT.serInt=[function(fA){return(function(fB){return function(fC){return fB(c2.prettyPrint(fC));};}(a.id))(fA);},function(fA){return ed(a.id(fA));}];function ee(fA){return bg.ifUndef(false,fA);}cT.serBool=[function(fA){return(function(fB){return function(fC){return fB(c2.prettyPrint(fC));};}(a.id))(fA);},function(fA){return ee(a.id(fA));}];function ef(fA){return bg.ifUndef("",fA);}cT.serString=[function(fA){return dB.stringify(((dE.Id())())(fA));},function(fA){return ef(a.id(fA));}];function eh(fA){return(function(fB){return function(fC){return fB(c2.prettyPrint(fC));};}(a.id))(fA);}function ei(fA){return bg.ifUndef(0,fA);}cT.serDate=[function(fA){return eh(a.id(fA));},(eg=function(fA){return ei(a.id(fA));},function(fA){var fB;fB=eg(fA);return fB;})];cT.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";cT.rexEmail="(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@[*[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+]*";cT.observers=c5.T.Empty;cT.css="\r\n                .tab-panel {\r\n                 overflow  : hidden   ;\r\n                 display   : flex     ;\r\n                 flex-flow : column   ;\r\n                 background: lightgray;\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                }\r\n                .tab-content {\r\n                 flex      : 1 1     ;\r\n                 overflow  : auto    ;\r\n                 position  : relative;\r\n                }\r\n                .tab-children {\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                 position  : absolute;\r\n                 display   : grid    ;\r\n                }\r\n                .tab-strip {\r\n                 padding   : 0pt     ;\r\n                 flex      : 0 0     ;\r\n                }\r\n                .tab {\r\n                 border     : 0.2pt solid transparent;\r\n                 padding    : 0pt 4pt;\r\n                 display    : inline-block;\r\n                 font-family: sans-serif;\r\n                 font-weight: 200;\r\n                 font-size  : small;\r\n                 color      : #666;\r\n                 cursor     : pointer;\r\n                }\r\n                .top>.tab {\r\n                 border-radius: 2pt 2pt 0pt 0pt;\r\n                 border-bottom-width: 0pt;\r\n                 vertical-align: bottom;\r\n                }\r\n                .bottom>.tab {\r\n                 border-top-width: 0pt;\r\n                 border-radius: 0pt 0pt 2pt 2pt;\r\n                 vertical-align: top;\r\n                }\r\n                .horizontal>.tab:not(:first-child) {\r\n                 border-left-width: 0pt;\r\n                }\r\n                .tab.hovering {\r\n                 background: red;\r\n                }\r\n                .tab.selected {\r\n                 background: white;\r\n                 border-left-width: 0.2pt;\r\n                 color: black;\r\n                 font-weight: 500;\r\n                 border-color: black;\r\n                }\r\n                .horizontal>.tab.selected {\r\n                 border-left-width: 0.2pt;\r\n                }\r\n                ::slotted(*              ) { \r\n                 width : 100%;\r\n                 height: 100%;\r\n                }\r\n                        ";cT.init=dY.Create(function(){var fA;fA=new bn.New$1();bl.defineWebComponent$1("wcomp-tabstrip",bn.Constructor$1,self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New);});cT.layoutHorizontal=c1.Curried(function(fA,fB,fC,fD,fE){return ds.get_Empty();},5);cT.layoutVertical=c1.Curried(function(fA,fB,fC,fD,fE){return ds.get_Empty();},5);cT.loader=(ej=null,c7.Delay(function(){self.require.config({paths:{vs:"/EPFileX/monaco/package/min/vs"}});return c7.Bind(c7.FromContinuations(function(fA,fB){return self.require(["vs/editor/editor.main"],fA,fB);}),function(){return c7.Return(null);});}));cT.MessageBrokerId="<MessageBroker>";cT.MessageBrokerAddress=new bM({$:0,$0:bL.MessageBrokerId()});cT.id="FSharpStation"+a.String(di.now());cT.rootDir=".";cT.srcDir=".";c7.Start((ek=null,c7.Delay(function(){return c7.Bind((new dM.New()).Async("FSharpStation:FsRoot.FSharpStation+FStation.getRootDirs:-589054433",[]),function(fA){cw.set_rootDir(fA[1]);cw.set_srcDir(fA[2]);(((c1.Curried3(function(fB,fC,fD){return fB("fileName = "+c2.toSafe(fC)+"\\"+c2.toSafe(fD)+".fsx");}))(function(fB){dl.log(fB);}))(cw.srcDir()))(cw.id());return c7.Zero();});})),null);cT.annotationsV=_do.Create$1("");cT.outputMsgs=_do.Create$1("");cT.snippets=new d2.New$1(function(fA){return fA.snpId;});cT.hierarchy=_do.Create$1([]);cT.generation=_do.Create$1(-8640000000000000);cT.currentSnippetIdOV=_do.Create$1(null);cT.codeSnippetIdOV=_do.Create$1(null);cT.collapsedV=_do.Create$1(new dg.New$1(null));function em(fA){var fB;fB=null;return el.TryGetValue(fA,{get:function(){return fB;},set:function(fC){fB=fC;}})?{$:1,$0:fB}:null;}function en(fA,fB){el.set_Item(fA,fB);return fB;}function eo(fA,fB){var fC;fC=em(fA);return fC==null?en(fA,fB(fA)):fC.$0;}ep=(el=new d3.New$5(),[[em,function(fA){return function(fB){return eo(fA,fB);};}],function(){el.Clear();}]);cT.predsCache=ep[0];cT.clearPreds=ep[1];function er(fA){var fB;fB=null;return eq.TryGetValue(fA,{get:function(){return fB;},set:function(fC){fB=fC;}})?{$:1,$0:fB}:null;}function es(fA,fB){eq.set_Item(fA,fB);return fB;}function et(fA,fB){var fC;fC=er(fA);return fC==null?es(fA,fB(fA)):fC.$0;}eu=(eq=new d3.New$5(),[[er,function(fA){return function(fB){return et(fA,fB);};}],function(){eq.Clear();}]);cT.reducCache=eu[0];cT.clearReduc=eu[1];function ew(fA){var fB;fB=null;return ev.TryGetValue(fA,{get:function(){return fB;},set:function(fC){fB=fC;}})?{$:1,$0:fB}:null;}function ex(fA,fB){ev.set_Item(fA,fB);return fB;}function ey(fA,fB){var fC;fC=ew(fA);return fC==null?ex(fA,fB(fA)):fC.$0;}ez=(ev=new d3.New$5(),[[ew,function(fA){return function(fB){return ey(fA,fB);};}],function(){ev.Clear();}]);cT.parentCache=ez[0];cT.clearParent=ez[1];cT.getParentIdO=(eA=(cx.parentCache())[1],function(fA){return(eA(fA))(cx.getParentIdONotMemo);});dn.Sink(function(fA){var fB,fC;if(fA!=null&&fA.$==1){fB=fA.$0;fC=cx.codeSnippetIdOV().Get();fC!=null&&fC.$==1?(cx.iterReader(q.op_BarGreaterGreater(q.op_BarGreaterGreater(q.op_BarGreaterGreater(q.op_BarGreaterGreater(q.op_GreaterGreaterEquals(q.op_BarGreaterGreater(_2.snippetORm(fC.$0),function(fD){return fD==null?null:{$:1,$0:_2.uniquePredsRm(fD.$0)};}),p.insertO),dh.toList),function(fD){return c5.collect(a.id,fD);}),function(fD){return c5.contains(fB,fD);}),function(fD){if(fD);else cx.codeSnippetIdOV().Set({$:1,$0:fB});})),cx.clearPredsCache()):cx.codeSnippetIdOV().Set({$:1,$0:fB});}},cx.currentSnippetIdOV().get_View());function eD(fA){return fA.id();}dn.Sink(function(fA){var fB;cx.clearPredsCache();fB=c6.ofSeq(c4.delay(function(){return c4.collect(function(fC){return c4.append([cx.snippets().FindByKey(fC)],c4.delay(function(){return c4.filter(function(fD){return cx.isDescendantOf(fC,fD.snpId);},(cx.snippets())["var"].Get());}));},fA);}));cx.snippets().Set(fB);},(eB=dn.Map(function(fA){return c6.map(eD,fA);},cx.hierarchy().get_View()),(eC=[_do.Create$1(null)],(dn.Sink(function(fA){if(!c$.Equals(eC[0].Get(),fA))eC[0].Set(fA);},eB),eC[0].get_View()))));cT.CurrentSnippetIdW=dn.Map(function(fA){var fB;fB=_2.defaultSnippet().snpId;return fA==null?fB:fA.$0;},cx.currentSnippetIdOV().get_View());function eG(fA){var fB;fB=_2.defaultSnippet();return fA==null?fB:fA.$0;}function eH(fA){return cx.snippets().TryFindByKeyAsView(fA);}cT.currentSnippetW=dn.Map((eE=function(fA){return fA==null?null:a.id(fA.$0);},function(fA){return eG(eE(fA));}),dn.Bind((eF=function(fA){return fA==null?null:{$:1,$0:eH(fA.$0)};},function(fA){return _9.insertWO(eF(fA));}),cx.currentSnippetIdOV().get_View()));function eK(fA){var fB;fB=_2.defaultSnippet();return fA==null?fB:fA.$0;}function eL(fA){return cx.snippets().TryFindByKeyAsView(fA);}cT.codeSnippetW=dn.Map((eI=function(fA){return fA==null?null:a.id(fA.$0);},function(fA){return eK(eI(fA));}),dn.Bind((eJ=function(fA){return fA==null?null:{$:1,$0:eL(fA.$0)};},function(fA){return _9.insertWO(eJ(fA));}),cx.codeSnippetIdOV().get_View()));cT.currentSnippetV=new dN.New(cx.currentSnippetW(),function(fA){cx.setSnippet(fA);});function eN(fA,fB){return[fA.id(),fB];}function eO(fA){function fB(fD){return _4.listNodes(0,fD);}function fC(fD){return cx.runReader(cx.handleError,fD);}return function(fD){return fC(fB(fD));};}cT.getHierarchyW=dn.Map(c6.ofSeq,dn.Map(function(fA){return c4.map(function(fB){return eN(fB[0],fB[1]);},fA);},(eM=cx.hierarchy().get_View(),dn.Map2(function(fA,fB){return(eO(fA))(fB);},cx.collapsedV().get_View(),eM))));function eR(fA,fB){var fC;fC=null;return c7.Delay(function(){return c7.Bind(c7.Sleep(350),function(){return c7.Return(cx.runReader(cx.handleError,_2.fastCodeRm(cx.currentSnippetIdOV().Get(),cx.codeSnippetIdOV().Get())));});});}cT.codeAndStartsW=(eP=cx.codeSnippetW(),(eQ=cx.snippets().v,(((c1.Curried3(dn.MapAsync2))(eR))(eP))(eQ)));cT.FsCodeW=dn.Map(function(fA){return fA[0];},cx.codeAndStartsW());cT.codeStartsW=dn.Map(function(fA){return fA[1];},cx.codeAndStartsW());cT.SaveAsClassW=dn.Map2(function(fA,fB){return c4.exists(function(fC){return fC.snpModified>fB;},fA)?"btn-primary":"";},cx.snippets().v,cx.generation().get_View());cT.currentPathW=dn.Map(function(fA){var fB;return cx.runReader(function(){return"";},(fB=p.fusion(),fB.Run(fB.Delay(function(){return fB.Bind(_2.pathRm(fA.snpId),function(fC){return fB.Bind(p.traverseSeq(_2.snippetNameRm,new c5.T({$:1,$0:fA.snpId,$1:fC})),function(fD){return fB.Return(c3.concat("/",c4.rev(fD)));});});}))));},cx.currentSnippetW());cT.currentLayoutDW=dn.Map(function(fA){var fB;return cx.runReader(function(){return null;},(fB=p.fusion(),fB.Run(fB.Delay(function(){function fC(fD,fE){var fF,fG,fH,fI;fF=(fG=c3.SplitChars(c3.Trim(fE[0]),["\n"],0),c3.StartsWith(c6.get(fG,0),"\"")?[da.array(fG,{$:1,$0:1},null),c6.get(fG,0)]:[fG,"\"\""]);fH=fF[1];fI=c4.mapi(function(fJ,fK){var fL;fL=c3.StartsWith(fK,":")?da.string(fK,{$:1,$0:1},null):(function(fM){return function(fN){return fM("button \"click=@{FSharpStation.ButtonClick}\" "+c2.prettyPrint(fN));};}(a.id))(fK);return(((c1.Curried3(function(fM,fN,fO){return fM("btn"+a.String(fN)+" "+c2.toSafe(fO));}))(a.id))(fJ))(fL);},c4.filter(function(fJ){return c3.Trim(fJ)!=="";},fF[0]));return["Snp_"+c3.Replace(a.String(fD.snpId.get_Id()),"-",""),c3.concat("\n",c5.ofSeq(c4.delay(function(){return c4.append(["editorButtons vertical 0-85-100 FStationLyt.menuEditor buttons"],c4.delay(function(){return c4.append(fI,c4.delay(function(){var fJ,fK;return[(fJ=c3.concat(" ",(fK=c5.ofSeq(c_.range(0,c4.length(fI)-1)),c4.map(function(fL){return function(fM){return fL("btn"+a.String(fM));};}(a.id),fK))),(((c1.Curried3(function(fL,fM,fN){return fL("buttons div "+c2.toSafe(fM)+" "+c2.toSafe(fN)+" ");}))(a.id))(fH))(fJ))];}));}));})))];}return fB.Bind(q.op_BarGreaterGreater(_2.propertyHierORm("Buttons",fA),function(fD){var fE;return fD==null?null:{$:1,$0:(fE=fD.$0,fC(fE[0],fE[1]))};}),function(fD){function fE(fG,fH){var fI,fJ,fK;fI=fH[0];return["Snp_"+c3.Replace(a.String(fG.snpId.get_Id()),"-",""),(fJ=fD==null?null:{$:1,$0:(fK=fD.$0,(fK[0],c3.concat("\n",c5.ofArray([fI,fK[1]]))))},fJ==null?fI:fJ.$0)];}function fF(){return fD;}return fB.ReturnFrom(q.op_BarGreaterGreater(q.op_BarGreaterGreater(_2.propertyHierORm("Layout",fA),function(fG){var fH;return fG==null?null:{$:1,$0:(fH=fG.$0,fE(fH[0],fH[1]))};}),function(fG){return h.bindNone(fF,fG);}));});}))));},cx.currentSnippetW());cT.currentLayoutJSDW=dn.Map(function(fA){function fB(fC,fD){return[fC.snpId,fD[0]];}return cx.runReader(function(){return null;},q.op_BarGreaterGreater(_2.propertyHierORm("LayoutJS",fA),function(fC){var fD;return fC==null?null:{$:1,$0:(fD=fC.$0,fB(fD[0],fD[1]))};}));},cx.currentSnippetW());cT.drag=cz.DragNone;cT.rootdir="..\\website";cT.TemplatesFileName="..\\website"+"\\Templates.html";((function(fA){return function(fB){return fA(c2.toSafe(fB));};}(function(fA){dl.log(fA);}))("..\\website\\Templates.html"));cT.startsV=_do.Create$1([]);cT.defaultStart=(eS=[[Z.get_Empty(),""],[0,1,0]],function(fA){return fA==null?eS:fA.$0;});cT.fileName="none.fsx";cT.editorConfigO=null;dn.Sink(function(fA){var fB,fC;try{fB=(fC=cD.editorConfigO(),fC==null?null:fC.$0.editorO);(h.iter(function(fD){fD.setModel(cD.getSnippetModel(fA));cw.annotationsV().Set(cw.annotationsV().Get());}))(fB);}catch(fD){null;}},cx.CurrentSnippetIdW());cT.rexGuid$1="\\((\\d+)\\,\\s*(\\d+)\\) - \\((\\d+)\\,\\s*(\\d+)\\).*([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";cT.setScrollToBottom=(eT=null,dn.Sink(function(){(h.iter(function(fA){cK.scrollToBottom(fA);}))(eT);},cw.outputMsgs().get_View()),function(fA){eT={$:1,$0:fA};(function(fB){return fB("setScrollToBottom");}(function(fB){dl.log(fB);}));});function eW(fA){return fA.$0;}function eX(fA){return new Z({$:0,$0:fA});}cT.serSnippetId=(eU=c6.head(c3.SplitChars((function(fA){return function(fB){return fA(cW.p(fB));};}(a.id))(eX("00000000-0000-0000-0000-000000000000")),[" "],0)),(eV=(function(fA){return function(fB){return fA(c2.prettyPrint(fB));};}(a.id))(eU),[function(fA){var fB;fB=eW(fA);return(((c1.Curried3(function(fC,fD,fE){return fC("{"+c3.PadLeft(c2.toSafe(fD),10)+" :"+c2.prettyPrint(fE)+"}");}))(a.id))(eV))(fB);},function(fA){var fB;return eX((fB=fA[eU],(bg.deserGuid())(fB)));}]));cT.serSnippet=(eY=[(eZ=cL.serSnippetId(),bg.serField("snpId",function(fA){return fA.snpId;},function(fA,fB){return _0.New(fA,fB.snpName,fB.snpContent,fB.snpParentIdO,fB.snpPredIds,fB.snpProperties,fB.snpModified);},eZ[0],eZ[1])),(e0=bg.serString(),bg.serField("snpName",function(fA){return fA.snpName;},function(fA,fB){return _0.New(fB.snpId,fA,fB.snpContent,fB.snpParentIdO,fB.snpPredIds,fB.snpProperties,fB.snpModified);},e0[0],e0[1])),(e1=bg.serString(),bg.serField("snpContent",function(fA){return fA.snpContent;},function(fA,fB){return _0.New(fB.snpId,fB.snpName,fA,fB.snpParentIdO,fB.snpPredIds,fB.snpProperties,fB.snpModified);},e1[0],e1[1])),(e2=(e3=cL.serSnippetId(),bg.serOpt(e3[0],e3[1])),bg.serField("snpParentIdO",function(fA){return fA.snpParentIdO;},function(fA,fB){return _0.New(fB.snpId,fB.snpName,fB.snpContent,fA,fB.snpPredIds,fB.snpProperties,fB.snpModified);},e2[0],e2[1])),(e4=(e5=cL.serSnippetId(),bg.serSet(e5[0],e5[1])),bg.serField("snpPredIds",function(fA){return fA.snpPredIds;},function(fA,fB){return _0.New(fB.snpId,fB.snpName,fB.snpContent,fB.snpParentIdO,fA,fB.snpProperties,fB.snpModified);},e4[0],e4[1])),(e6=(e7=(e8=bg.serString(),bg.serDup((bg.serString())[0],(bg.serString())[1],e8[0],e8[1])),bg.serArr(e7[0],e7[1])),bg.serField("snpProperties",function(fA){return fA.snpProperties;},function(fA,fB){return _0.New(fB.snpId,fB.snpName,fB.snpContent,fB.snpParentIdO,fB.snpPredIds,fA,fB.snpModified);},e6[0],e6[1])),(e9=bg.serInt(),bg.serFieldO("snpGeneration",function(){return null;},function(fA,fB){return fA!=null&&fA.$==1?_0.New(fB.snpId,fB.snpName,fB.snpContent,fB.snpParentIdO,fB.snpPredIds,fB.snpProperties,(new di(0)).getTime()+fA.$0*3600000):fB;},e9[0],e9[1])),(e_=bg.serDate(),bg.serField("snpModified",function(fA){return fA.snpModified;},function(fA,fB){return _0.New(fB.snpId,fB.snpName,fB.snpContent,fB.snpParentIdO,fB.snpPredIds,fB.snpProperties,fA);},e_[0],e_[1]))],(e$=_2.New("","",null),[function(fA){var fB;function fC(fD,fE,fF){var fG,fH;fG=fE(fA);fH=((c1.Curried3(function(fI,fJ,fK){return fI(c2.prettyPrint(fJ)+": "+c2.toSafe(fK));}))(a.id))(fD);return fG==null?null:{$:1,$0:fH(fG.$0)};}fB=c3.concat(", ",c4.choose(function(fD){return fC(fD[0],fD[1],fD[2]);},eY));return(function(fD){return function(fE){return fD("{"+c2.toSafe(fE)+"}");};}(a.id))(fB);},function(fA){return!fA?e$:c4.fold(function(fB,fC){return(fC[2](fB))(fA[fC[0]]);},e$,eY);}]));cT.serModel=(fa=[(fb=(fc=cL.serSnippet(),bg.serArr(fc[0],fc[1])),bg.serField("snippets",function(fA){return fA.snippets;},function(fA,fB){return cM.New(fA,fB.modified,fB.collapsed);},fb[0],fb[1])),(fd=bg.serInt(),bg.serFieldO("generation",function(){return null;},function(fA,fB){return fA!=null&&fA.$==1?cM.New(fB.snippets,(new di(0)).getTime()+fA.$0*3600000,fB.collapsed):fB;},fd[0],fd[1])),(fe=bg.serDate(),bg.serField("modified",function(fA){return fA.modified;},function(fA,fB){return cM.New(fB.snippets,fA,fB.collapsed);},fe[0],fe[1])),(ff=(fg=cL.serSnippetId(),bg.serSet(fg[0],fg[1])),bg.serField("collapsed",function(fA){return fA.collapsed;},function(fA,fB){return cM.New(fB.snippets,fB.modified,fA);},ff[0],ff[1]))],(fh=cM.New([],(new di(0)).getTime(),new dg.New$1(null)),[function(fA){var fB;function fC(fD,fE,fF){var fG,fH;fG=fE(fA);fH=((c1.Curried3(function(fI,fJ,fK){return fI(c2.prettyPrint(fJ)+": "+c2.toSafe(fK));}))(a.id))(fD);return fG==null?null:{$:1,$0:fH(fG.$0)};}fB=c3.concat(", ",c4.choose(function(fD){return fC(fD[0],fD[1],fD[2]);},fa));return(function(fD){return function(fE){return fD("{"+c2.toSafe(fE)+"}");};}(a.id))(fB);},function(fA){return!fA?fh:c4.fold(function(fB,fC){return(fC[2](fB))(fA[fC[0]]);},fh,fa);}]));cT.fileName$1=_do.Create$1("");cT.serSnippetId2=[function(fA){return(function(fB){return function(fC){return fB(c2.prettyPrint(fC));};}(a.id))(fA);},function(fA){var fB;return new Z({$:0,$0:(fB=fA.Item,(bg.deserGuid())(fB))});}];cT.serSnippet2=(fi=[(fj=cO.serSnippetId2(),bg.serField("id",function(fA){return fA.snpId;},function(fA,fB){return _0.New(c$.Equals(fA,Z.get_Empty())?new Z({$:0,$0:de.NewGuid()}):fA,fB.snpName,fB.snpContent,fB.snpParentIdO,fB.snpPredIds,fB.snpProperties,fB.snpModified);},fj[0],fj[1])),(fk=bg.serString(),bg.serField("name",function(fA){return fA.snpName;},function(fA,fB){return _0.New(fB.snpId,fA,fB.snpContent,fB.snpParentIdO,fB.snpPredIds,fB.snpProperties,fB.snpModified);},fk[0],fk[1])),(fl=bg.serString(),bg.serField("content",function(fA){return fA.snpContent;},function(fA,fB){return _0.New(fB.snpId,fB.snpName,fA,fB.snpParentIdO,fB.snpPredIds,fB.snpProperties,fB.snpModified);},fl[0],fl[1])),(fm=(fn=cO.serSnippetId2(),bg.serOpt(fn[0],fn[1])),bg.serField("parent",function(fA){return fA.snpParentIdO;},function(fA,fB){return _0.New(fB.snpId,fB.snpName,fB.snpContent,c$.Equals(fA,{$:1,$0:Z.get_Empty()})?null:fA,fB.snpPredIds,fB.snpProperties,fB.snpModified);},fm[0],fm[1])),(fo=(fp=cO.serSnippetId2(),bg.serArr(fp[0],fp[1])),bg.serField("predecessors",function(fA){return c6.ofSeq(fA.snpPredIds);},function(fA,fB){return _0.New(fB.snpId,fB.snpName,fB.snpContent,fB.snpParentIdO,new dg.New(fA),fB.snpProperties,fB.snpModified);},fo[0],fo[1]))],(fq=_2.New("","",null),[function(fA){var fB;function fC(fD,fE,fF){var fG,fH;fG=fE(fA);fH=((c1.Curried3(function(fI,fJ,fK){return fI(c2.prettyPrint(fJ)+": "+c2.toSafe(fK));}))(a.id))(fD);return fG==null?null:{$:1,$0:fH(fG.$0)};}fB=c3.concat(", ",c4.choose(function(fD){return fC(fD[0],fD[1],fD[2]);},fi));return(function(fD){return function(fE){return fD("{"+c2.toSafe(fE)+"}");};}(a.id))(fB);},function(fA){return!fA?fq:c4.fold(function(fB,fC){return(fC[2](fB))(fA[fC[0]]);},fq,fi);}]));cT.serSnippets=(fr=cO.serSnippet2(),bg.serArr(fr[0],fr[1]));cT.endPointV=d4.InstallHash(cQ.NoSnippet,cX.r());function fu(fA){var fB;return fA.$==0?_9.rtn({$:1,$0:new Z({$:0,$0:fA.$0})}):fA.$==1?(fB=fA.$0,dn.Map(function(fC){function fD(fE){return fE.snpId;}return fC===c3.concat("/",fB)?cx.currentSnippetIdOV().Get():cx.runReader(cx.handleError,p.map(function(fE){return fE==null?null:{$:1,$0:fD(fE.$0)};},_2.snippetFromPathORm(fB)));},cx.currentPathW())):_9.rtn(null);}function fv(fA){if(!c$.Equals(cx.currentSnippetIdOV().Get(),fA))cx.setCurrentSnippetIdO(fA);}function fw(fA){var fB;return fA!=null&&fA.$==1?(fB=fA.$0.$0,dn.Map(function(fC){return c$.Equals({$:1,$0:c3.SplitChars(fC,["/"],0)},cP.endPointV().Get())?cP.endPointV().Get():{$:0,$0:fB};},cx.currentPathW())):_9.rtn(cQ.NoSnippet);}function fx(fA){if(!c$.Equals(cP.endPointV().Get(),fA))cP.endPointV().Set(fA);}dn.Sink((fs=function(fA){dn.Get(fv,fA);},function(fA){return fs(fu(fA));}),cP.endPointV().get_View());dn.Sink((ft=function(fA){dn.Get(fx,fA);},function(fA){return ft(fw(fA));}),cx.currentSnippetIdOV().get_View());cT.FStationLyt="FStationLyt";fy=cx.codeAndStartsW();dn.Sink(c.delayed(300,function(fA){cD.parse(fA[0],fA[1]);}),fy);dn.Sink(function(fA){self.onbeforeunload=fA!==""?function(fB){fB.returnValue="Changes you made may not be saved.";}:null;},cx.SaveAsClassW());cT.wsStationClient=new bX.New(cw.id(),null,null);c7.Start((fz=null,c7.Delay(function(){return c7.Bind(c7.Sleep(1000),function(){return c7.While(function(){return true;},c7.Delay(function(){return c7.TryWith(c7.Delay(function(){var fA,fB,fC,fD,fE,fF;function fG(fK){return(cV.j$4())(dB.parse(fK));}function fH(fK){return dB.stringify((cU.j$4())(fK));}function fI(fK){return c7.Return(fK);}function fJ(fK){c_.FailWith(fK);}fA=cR.wsStationClient();fA.payloadProcessorO={$:1,$0:(fB=function(fK){return cR.processMessage(fG(fK));},(fC=(fD=function(fK){return fI(fH(fK));},function(fK){return c7.Bind(fK,fD);}),function(fK){return fC(fB(fK));}))};B.iterA(function(fK){return fJ(a.String(fK));},a.ignore,fA.sendAndForget(bL.msgType(bO.MsgInformation,(fE=bL.MessageBrokerAddress(),(fF=dB.stringify(((dE.Id())())("Registering Processor")),bR.New(new bM({$:0,$0:""}),fE,bO.MsgRequest,"",de.NewGuid(),fF,bQ.NoReply))))));return c7.Bind(c7.Sleep(60000),function(){return c7.Return(null);});}),function(fA){((function(fB){return function(fC){return fB(c2.toSafe(fC));};}(function(fB){dl.log(fB);}))(fA.message));return c7.Bind(c7.Sleep(1000),function(){return c7.Return(null);});});}));});})),null);};cU.j$4=function(){return cU._v$4?cU._v$4:cU._v$4=(dE.EncodeUnion(void 0,"$",[[0,[["$0","ResultValue",cU.j$6,0]]],[1,[["$0","ErrorValue",cU.j$5,0]]]]))();};cU.j$6=function(){return cU._v$6?cU._v$6:cU._v$6=(dE.EncodeUnion(void 0,"$",[[0,[["$0","Item",dE.Id(),0]]],[1,[["$0","Item",dE.EncodeArray(cU.j$7),0]]],[2,[["$0","Item",dE.EncodeDateTime(),0]]]]))();};cV.j$6=function(){return cV._v$6?cV._v$6:cV._v$6=(dE.DecodeUnion(Z,"$",[[0,[["$0","Item",dE.Id(),0]]]]))();};cV.j$5=function(){return cV._v$5?cV._v$5:cV._v$5=(dE.DecodeUnion(void 0,"$",[[0,[["$0","Item",cV.j$6,0]]],[1,[["$0","Item",dE.DecodeArray(dE.Id()),0]]]]))();};cW.p=function(d7){return"SnippetId "+c2.prettyPrint(d7.$0);};cX.r=function(){return d6.JSUnion(void 0,[[null,[[null,["Snippet"]]],[d6.rGuid()]],[null,[[null,["Path"]]],[d6.rWildcardArray(d6.rString())]],[null,[[null,[]]],[]]]);};cU.j$5=function(){return cU._v$5?cU._v$5:cU._v$5=(dE.EncodeUnion(d,"$",[[0,[]],[1,[["$0","Item",dE.Id(),0]]],[2,[["$0","Item",dE.Id(),0]]],[3,[["$0","Item",dE.Id(),0]]],[4,[["$0","Item",dE.Id(),0]]],[5,[["$0","Item1",dE.Id(),0],["$1","Item2",dE.Id(),0]]],[6,[["$0","Item",dE.EncodeArray(cU.j$5),0]]]]))();};cU.j$7=function(){return cU._v$7?cU._v$7:cU._v$7=(dE.EncodeRecord(void 0,[["snpId",cU.j$8,0],["snpName",dE.Id(),0],["snpContent",dE.Id(),0],["snpParentIdO",cU.j$8,1],["snpPredIds",dE.EncodeSet(cU.j$8),0],["snpProperties",dE.EncodeArray(dE.EncodeTuple([dE.Id(),dE.Id()])),0],["snpModified",dE.EncodeDateTime(),0]]))();};cU.j$8=function(){return cU._v$8?cU._v$8:cU._v$8=(dE.EncodeUnion(Z,"$",[[0,[["$0","Item",dE.Id(),0]]]]))();};cY.snippetlist=function(d7){dx.LoadLocalTemplates("templates");return d7?dx.NamedTemplate("templates",{$:1,$0:"snippetlist"},d7):void 0;};cY.snippet=function(d7){dx.LoadLocalTemplates("templates");return d7?dx.NamedTemplate("templates",{$:1,$0:"snippet"},d7):void 0;};cY.propertytable=function(d7){dx.LoadLocalTemplates("templates");return d7?dx.NamedTemplate("templates",{$:1,$0:"propertytable"},d7):void 0;};cY.property=function(d7){dx.LoadLocalTemplates("templates");return d7?dx.NamedTemplate("templates",{$:1,$0:"property"},d7):void 0;};cY.layout=function(d7){cY.fixedsplitterhor();cY.fixedsplitterver();dx.LoadLocalTemplates("templates");return d7?dx.NamedTemplate("templates",{$:1,$0:"layout"},d7):void 0;};cY.fixedsplitterver=function(d7){dx.LoadLocalTemplates("templates");return d7?dx.NamedTemplate("templates",{$:1,$0:"fixedsplitterver"},d7):void 0;};cY.fixedsplitterhor=function(d7){dx.LoadLocalTemplates("templates");return d7?dx.NamedTemplate("templates",{$:1,$0:"fixedsplitterhor"},d7):void 0;};cY.buttonsright=function(d7){dx.LoadLocalTemplates("templates");return d7?dx.NamedTemplate("templates",{$:1,$0:"buttonsright"},d7):void 0;};cW.p$1=function(d7){return d7.$==6?"RMessages "+c2.printArray(function(d8){return cW.p$1(d8);},d7.$0):d7.$==5?"ExceptMsg ("+c2.prettyPrint(d7.$0)+", "+c2.prettyPrint(d7.$1)+")":d7.$==4?"Message "+c2.prettyPrint(d7.$0):d7.$==3?"Info "+c2.prettyPrint(d7.$0):d7.$==2?"Warning "+c2.prettyPrint(d7.$0):d7.$==1?"ErrorMsg "+c2.prettyPrint(d7.$0):"NoMsg";};cW.p$3=function(d7){return d7.$==8?"MsgGetModified "+cW.p$2(d7.$0):d7.$==7?"MsgSetValue ("+c2.prettyPrint(d7.$0)+", "+c2.prettyPrint(d7.$1)+")":d7.$==6?"MsgGetValue "+c2.prettyPrint(d7.$0):d7.$==5?"MsgGetUrl":d7.$==4?"MsgAction "+c2.printArray(c2.prettyPrint,d7.$0):d7.$==3?"MsgGetPredecessors "+cW.p$2(d7.$0):d7.$==2?"MsgGetCode "+cW.p$2(d7.$0):d7.$==1?"MsgGetSnippets "+c2.printArray(function(d8){return cW.p$2(d8);},d7.$0):"MsgGetId";};cW.p$2=function(d7){return d7.$==1?"RefSnippetPath "+c2.printArray(c2.prettyPrint,d7.$0):"RefSnippetId "+cW.p(d7.$0);};cU.j$9=function(){return cU._v$9?cU._v$9:cU._v$9=(dE.EncodeUnion(void 0,"type",[["BRGetConnections",[]],["BRGetProcessId",[]]]))();};cW.p$4=function(d7){return d7.$==2?"BRString "+c2.prettyPrint(d7.$0):d7.$==1?"BRPid "+c2.prettyPrint(d7.$0):"BRConnections "+c2.printArray(c2.prettyPrint,d7.$0);};cV.j$7=function(){return cV._v$7?cV._v$7:cV._v$7=(dE.DecodeUnion(void 0,"type",[["BRConnections",[["$0","Item",dE.DecodeArray(dE.Id()),0]]],["BRPid",[["$0","Item",dE.Id(),0]]],["BRString",[["$0","Item",dE.Id(),0]]]]))();};cV.j$8=function(){return cV._v$8?cV._v$8:cV._v$8=(dE.DecodeUnion(void 0,"type",[["BMOk",[]],["BMOnlyBrokerShouldUse",[]],["BMDestinationNotFound",[["$0","Item",cV.j$1,0]]],["BMWebSocketError",[["$0","Item",dE.Id(),0]]],["BMReceiverCantReply",[]],["BMUnexpectedMsgType",[["$0","Item",cV.j$2,0]]],["BMUnexpectedResponse",[["$0","Item",dE.Id(),0]]]]))();};cW.p$7=function(d7){return d7.$==2?"Receiver":d7.$==1?"Broker":"NoReply";};cW.p$6=function(d7){return d7.$==5?"MsgRequestForEcho":d7.$==4?"MsgRequestForId":d7.$==3?"MsgFromBroker":d7.$==2?"MsgReply":d7.$==1?"MsgRequest":"MsgInformation";};cZ.p=function(d7){return"{"+("from = "+cW.p$5(d7.from))+"; "+("destination = "+cW.p$5(d7.destination))+"; "+("msgType = "+cW.p$6(d7.msgType))+"; "+("subtype = "+c2.prettyPrint(d7.subtype))+"; "+("id = "+c2.prettyPrint(d7.id))+"; "+("payload = "+c2.prettyPrint(d7.payload))+"; "+("replier = "+cW.p$7(d7.replier))+"}";};cW.p$5=function(d7){return"Address "+c2.prettyPrint(d7.$0);};cW.p$8=function(d7){return d7.$==3?"Close":d7.$==2?"Open":d7.$==1?"Error":"Message "+cZ.p(d7.$0);};cW.p$9=function(d7){return d7.$==6?"RMessages "+c2.printArray(function(d8){return cW.p$9(d8);},d7.$0):d7.$==5?"ExceptMsg ("+c2.prettyPrint(d7.$0)+", "+c2.prettyPrint(d7.$1)+")":d7.$==4?"Message "+c2.printArray(function(d8){return cW.p$10(d8);},d7.$0):d7.$==3?"Info "+c2.prettyPrint(d7.$0):d7.$==2?"Warning "+c2.prettyPrint(d7.$0):d7.$==1?"ErrorMsg "+c2.prettyPrint(d7.$0):"NoMsg";};cW.p$10=function(d7){return d7.$==17?"KMultiple "+c2.printArray(function(d8){return cW.p$10(d8);},d7.$0):d7.$==16?"KUnionCase "+cZ.p$22(d7.$0):d7.$==15?"KNamespaces "+cZ.p$19(d7.$0):d7.$==14?"KCompilerLocation "+cZ.p$18(d7.$0):d7.$==13?"KSignatureData "+cZ.p$16(d7.$0):d7.$==12?"KTypeSig "+c2.prettyPrint(d7.$0):d7.$==11?"KToolTip "+c2.printArray(function(d8){return c2.printArray(function(d9){return cZ.p$3(d9);},d8);},d7.$0):d7.$==10?"KDeclarations "+c2.printArray(function(d8){return cZ.p$14(d8);},d7.$0):d7.$==9?"KFindDecl "+cZ.p$13(d7.$0):d7.$==8?"KColorizations "+c2.printList(function(d8){return cZ.p$12(d8);},d7.$0):d7.$==7?"KErrors "+cZ.p$10(d7.$0):d7.$==6?"KMethod "+cZ.p$7(d7.$0):d7.$==5?"KHelp "+c2.prettyPrint(d7.$0):d7.$==4?"KSymbolUse "+cZ.p$5(d7.$0):d7.$==3?"KCompletion "+c2.printArray(function(d8){return cZ.p$4(d8);},d7.$0):d7.$==2?"KHelpText "+cZ.p$2(d7.$0):d7.$==1?"KError "+cZ.p$1(d7.$0):"KInfo "+c2.prettyPrint(d7.$0);};cZ.p$22=function(d7){return"{"+("Text = "+c2.prettyPrint(d7.Text))+"}";};cZ.p$21=function(d7){return"{"+("Name = "+c2.prettyPrint(d7.Name))+"; "+("Qualifier = "+c2.prettyPrint(d7.Qualifier))+"}";};cZ.p$20=function(d7){return"{"+("Namespace = "+c2.prettyPrint(d7.Namespace))+"; "+("Name = "+c2.prettyPrint(d7.Name))+"; "+("Type = "+c2.prettyPrint(d7.Type))+"; "+("Line = "+c2.prettyPrint(d7.Line))+"; "+("Column = "+c2.prettyPrint(d7.Column))+"; "+("MultipleNames = "+c2.prettyPrint(d7.MultipleNames))+"}";};cZ.p$18=function(d7){return"{"+("Fsc = "+c2.prettyPrint(d7.Fsc))+"; "+("Fsi = "+c2.prettyPrint(d7.Fsi))+"; "+("MSBuild = "+c2.prettyPrint(d7.MSBuild))+"}";};cZ.p$16=function(d7){return"{"+("OutputType = "+c2.prettyPrint(d7.OutputType))+"; "+("Parameters = "+c2.printList(function(d8){return c2.printList(function(d9){return cZ.p$17(d9);},d8);},d7.Parameters))+"}";};cZ.p$19=function(d7){return"{"+("Opens = "+c2.printArray(function(d8){return cZ.p$20(d8);},d7.Opens))+"; "+("Qualifies = "+c2.printArray(function(d8){return cZ.p$21(d8);},d7.Qualifies))+"; "+("Word = "+c2.prettyPrint(d7.Word))+"}";};cZ.p$17=function(d7){return"{"+("Name = "+c2.prettyPrint(d7.Name))+"; "+("Type = "+c2.prettyPrint(d7.Type))+"}";};cZ.p$14=function(d7){return"{"+("Declaration = "+cZ.p$15(d7.Declaration))+"; "+("Nested = "+c2.printArray(function(d8){return cZ.p$15(d8);},d7.Nested))+"}";};cZ.p$13=function(d7){return"{"+("File = "+c2.prettyPrint(d7.File))+"; "+("Line = "+c2.prettyPrint(d7.Line))+"; "+("Column = "+c2.prettyPrint(d7.Column))+"}";};cZ.p$15=function(d7){return"{"+("UniqueName = "+c2.prettyPrint(d7.UniqueName))+"; "+("Name = "+c2.prettyPrint(d7.Name))+"; "+("Glyph = "+c2.prettyPrint(d7.Glyph))+"; "+("GlyphChar = "+c2.prettyPrint(d7.GlyphChar))+"; "+("IsTopLevel = "+c2.prettyPrint(d7.IsTopLevel))+"; "+("File = "+c2.prettyPrint(d7.File))+"; "+("EnclosingEntity = "+c2.prettyPrint(d7.EnclosingEntity))+"; "+("IsAbstract = "+c2.prettyPrint(d7.IsAbstract))+"}";};cZ.p$12=function(d7){return"{"+("Kind = "+c2.prettyPrint(d7.Kind))+"}";};cZ.p$10=function(d7){return"{"+("File = "+c2.prettyPrint(d7.File))+"; "+("Errors = "+c2.printArray(function(d8){return cZ.p$11(d8);},d7.Errors))+"}";};cZ.p$11=function(d7){return"{"+("FileName = "+c2.prettyPrint(d7.FileName))+"; "+("StartLine = "+c2.prettyPrint(d7.StartLine))+"; "+("EndLine = "+c2.prettyPrint(d7.EndLine))+"; "+("StartColumn = "+c2.prettyPrint(d7.StartColumn))+"; "+("EndColumn = "+c2.prettyPrint(d7.EndColumn))+"; "+("Severity = "+c2.prettyPrint(d7.Severity))+"; "+("Message = "+c2.prettyPrint(d7.Message))+"; "+("Subcategory = "+c2.prettyPrint(d7.Subcategory))+"}";};cZ.p$7=function(d7){return"{"+("Name = "+c2.prettyPrint(d7.Name))+"; "+("CurrentParameter = "+c2.prettyPrint(d7.CurrentParameter))+"; "+("Overloads = "+c2.printList(function(d8){return cZ.p$8(d8);},d7.Overloads))+"}";};cZ.p$8=function(d7){return"{"+("Tip = "+c2.printList(function(d8){return c2.printList(function(d9){return cZ.p$3(d9);},d8);},d7.Tip))+"; "+("TypeText = "+c2.prettyPrint(d7.TypeText))+"; "+("Parameters = "+c2.printList(function(d8){return cZ.p$9(d8);},d7.Parameters))+"; "+("IsStaticArguments = "+c2.prettyPrint(d7.IsStaticArguments))+"}";};cZ.p$9=function(d7){return"{"+("Name = "+c2.prettyPrint(d7.Name))+"; "+("CanonicalTypeTextForSorting = "+c2.prettyPrint(d7.CanonicalTypeTextForSorting))+"; "+("Display = "+c2.prettyPrint(d7.Display))+"; "+("Description = "+c2.prettyPrint(d7.Description))+"}";};cZ.p$5=function(d7){return"{"+("Name = "+c2.prettyPrint(d7.Name))+"; "+("Uses = "+c2.printList(function(d8){return cZ.p$6(d8);},d7.Uses))+"}";};cZ.p$6=function(d7){return"{"+("FileName = "+c2.prettyPrint(d7.FileName))+"; "+("StartLine = "+c2.prettyPrint(d7.StartLine))+"; "+("StartColumn = "+c2.prettyPrint(d7.StartColumn))+"; "+("EndLine = "+c2.prettyPrint(d7.EndLine))+"; "+("EndColumn = "+c2.prettyPrint(d7.EndColumn))+"; "+("IsFromDefinition = "+c2.prettyPrint(d7.IsFromDefinition))+"; "+("IsFromAttribute = "+c2.prettyPrint(d7.IsFromAttribute))+"; "+("IsFromComputationExpression = "+c2.prettyPrint(d7.IsFromComputationExpression))+"; "+("IsFromDispatchSlotImplementation = "+c2.prettyPrint(d7.IsFromDispatchSlotImplementation))+"; "+("IsFromPattern = "+c2.prettyPrint(d7.IsFromPattern))+"; "+("IsFromType = "+c2.prettyPrint(d7.IsFromType))+"}";};cZ.p$4=function(d7){return"{"+("Name = "+c2.prettyPrint(d7.Name))+"; "+("ReplacementText = "+c2.prettyPrint(d7.ReplacementText))+"; "+("Glyph = "+c2.prettyPrint(d7.Glyph))+"; "+("GlyphChar = "+c2.prettyPrint(d7.GlyphChar))+"}";};cZ.p$2=function(d7){return"{"+("Name = "+c2.prettyPrint(d7.Name))+"; "+("Overloads = "+c2.printList(function(d8){return c2.printList(function(d9){return cZ.p$3(d9);},d8);},d7.Overloads))+"}";};cZ.p$3=function(d7){return"{"+("Signature = "+c2.prettyPrint(d7.Signature))+"; "+("Comment = "+c2.prettyPrint(d7.Comment))+"; "+("Footer = "+c2.prettyPrint(d7.Footer))+"}";};cZ.p$1=function(d7){return"{"+("Code = "+c2.prettyPrint(d7.Code))+"; "+("Message = "+c2.prettyPrint(d7.Message))+"}";};cU.j$1=function(){return cU._v$1?cU._v$1:cU._v$1=(dE.EncodeUnion(bM,"$",[[0,[["$0","address",dE.Id(),0]]]]))();};cU.j$2=function(){return cU._v$2?cU._v$2:cU._v$2=(dE.EncodeUnion(void 0,"type",[["MsgInformation",[]],["MsgRequest",[]],["MsgReply",[]],["MsgFromBroker",[]],["MsgRequestForId",[]],["MsgRequestForEcho",[]]]))();};cU.j$3=function(){return cU._v$3?cU._v$3:cU._v$3=(dE.EncodeUnion(void 0,"type",[["NoReply",[]],["Broker",[]],["Receiver",[]]]))();};cU.j=function(){return cU._v?cU._v:cU._v=(dE.EncodeRecord(void 0,[["from",cU.j$1,0],["destination",cU.j$1,0],["msgType",cU.j$2,0],["subtype",dE.Id(),0],["id",dE.Id(),0],["payload",dE.Id(),0],["replier",cU.j$3,0]]))();};cV.j$1=function(){return cV._v$1?cV._v$1:cV._v$1=(dE.DecodeUnion(bM,"$",[[0,[["$0","address",dE.Id(),0]]]]))();};cV.j$2=function(){return cV._v$2?cV._v$2:cV._v$2=(dE.DecodeUnion(void 0,"type",[["MsgInformation",[]],["MsgRequest",[]],["MsgReply",[]],["MsgFromBroker",[]],["MsgRequestForId",[]],["MsgRequestForEcho",[]]]))();};cV.j$3=function(){return cV._v$3?cV._v$3:cV._v$3=(dE.DecodeUnion(void 0,"type",[["NoReply",[]],["Broker",[]],["Receiver",[]]]))();};cV.j=function(){return cV._v?cV._v:cV._v=(dE.DecodeRecord(void 0,[["from",cV.j$1,0],["destination",cV.j$1,0],["msgType",cV.j$2,0],["subtype",dE.Id(),0],["id",dE.Id(),0],["payload",dE.Id(),0],["replier",cV.j$3,0]]))();};cV.j$4=function(){return cV._v$4?cV._v$4:cV._v$4=(dE.DecodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",dE.DecodeArray(cV.j$5),0]]],[2,[["$0","Item",cV.j$5,0]]],[3,[["$0","Item",cV.j$5,0]]],[4,[["$0","Item",dE.DecodeArray(dE.Id()),0]]],[5,[]],[6,[["$0","Item",dE.Id(),0]]],[7,[["$0","Item1",dE.Id(),0],["$1","Item2",dE.Id(),0]]],[8,[["$0","Item",cV.j$5,0]]]]))();};}());

//# sourceMappingURL=FSharpStation.min.map