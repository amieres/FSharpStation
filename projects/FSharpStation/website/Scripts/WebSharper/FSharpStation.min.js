(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds;a=self;b=a.FsRoot=a.FsRoot||{};c=b.Library=b.Library||{};d=c.ResultMessage=c.ResultMessage||{};e=c.Monads=c.Monads||{};f=e.Seq=e.Seq||{};g=e.Async=e.Async||{};h=a.WebSharper;i=h&&h.Obj;j=e.Result=e.Result||{};k=j.Builder=j.Builder||{};l=j.Operators=j.Operators||{};m=e.AsyncResult=e.AsyncResult||{};n=e.AsyncResultBuilder=e.AsyncResultBuilder||{};o=e.AsyncResultBuilderP=e.AsyncResultBuilderP||{};p=e.Extensions=e.Extensions||{};q=e.ReaderMonads=e.ReaderMonads||{};r=q.ReaderMBasic=q.ReaderMBasic||{};s=r.Builder=r.Builder||{};t=r.Operators=r.Operators||{};u=q.ReaderMResult=q.ReaderMResult||{};v=u.Builder=u.Builder||{};w=u.Operators=u.Operators||{};x=q.ReaderMAsyncResult=q.ReaderMAsyncResult||{};y=x.Builder=x.Builder||{};z=x.Operators=x.Operators||{};A=c.String=c.String||{};B=c.ParseO=c.ParseO||{};C=c.MailboxProcessorExt=c.MailboxProcessorExt||{};D=c.Mailbox=c.Mailbox||{};E=D.StateFull=D.StateFull||{};F=c.ResourceAgentState=c.ResourceAgentState||{};G=c.ResourceAgent=c.ResourceAgent||{};H=c.AgentReaderM=c.AgentReaderM||{};I=c.CommArgRoot=c.CommArgRoot||{};J=I.CommArg=I.CommArg||{};K=I.CommArgCollection=I.CommArgCollection||{};L=I.TypedCommArg=I.TypedCommArg||{};M=I.CommArgModule=I.CommArgModule||{};N=c.FsCodeModule=c.FsCodeModule||{};O=N.PreproDirective=N.PreproDirective||{};P=c.SnippetId=c.SnippetId||{};Q=c.Snippet=c.Snippet||{};R=c.SnippetCollection=c.SnippetCollection||{};S=c.SnippetModule=c.SnippetModule||{};T=c.Hole=c.Hole||{};U=c.TreeReader=c.TreeReader||{};V=U.Node=U.Node||{};W=b.LibraryJS=b.LibraryJS||{};X=W.Promise=W.Promise||{};Y=W.View=W.View||{};Z=W.Serializer=W.Serializer||{};_0=W.LoadFiles=W.LoadFiles||{};_1=W.REGEX=W.REGEX||{};_2=W.Hoverable=W.Hoverable||{};_3=_2.Hoverable=_2.Hoverable||{};_4=W.ResizeObserver=W.ResizeObserver||{};_5=W.WebComponent=W.WebComponent||{};_6=_5.WcTabStrip=_5.WcTabStrip||{};_7=_6.WcTabStripT=_6.WcTabStripT||{};_8=_5.WcSplitter=_5.WcSplitter||{};_9=_8.WcSplitterT=_8.WcSplitterT||{};_=W.Monaco=W.Monaco||{};$=_.Position=_.Position||{};ba=_.Range=_.Range||{};bb=_.Uri=_.Uri||{};bc=_.Location=_.Location||{};bd=_.FindMatch=_.FindMatch||{};be=_.WordAtPosition=_.WordAtPosition||{};bf=_.Model=_.Model||{};bg=_.MarkDownString=_.MarkDownString||{};bh=_.MarkerData=_.MarkerData||{};bi=_.CompletionItem=_.CompletionItem||{};bj=_.Hover=_.Hover||{};bk=_.Editor=_.Editor||{};bl=_.MonacoConfig=_.MonacoConfig||{};bm=b.Library2=b.Library2||{};bn=bm.FsiAgent=bm.FsiAgent||{};bo=bm.WebSockets=bm.WebSockets||{};bp=bo.Address=bo.Address||{};bq=bo.BrokerRequest=bo.BrokerRequest||{};br=bo.MessageType=bo.MessageType||{};bs=bo.BrokerMessage=bo.BrokerMessage||{};bt=bo.Replier=bo.Replier||{};bu=bo.MessageGeneric=bo.MessageGeneric||{};bv=bo.ClientTypeFSharp=bo.ClientTypeFSharp||{};bw=bo.ClientTypeFSStation=bo.ClientTypeFSStation||{};bx=bo.ClientTypeJScript=bo.ClientTypeJScript||{};by=bo.ReplyHandler=bo.ReplyHandler||{};bz=by.Handler=by.Handler||{};bA=bo.WSMessagingClient=bo.WSMessagingClient||{};bB=bm.FsAutoComplete=bm.FsAutoComplete||{};bC=bB.CommTypes=bB.CommTypes||{};bD=bC.ResponseError=bC.ResponseError||{};bE=bC.Location=bC.Location||{};bF=bC.CompletionResponse=bC.CompletionResponse||{};bG=bC.OverloadDescription=bC.OverloadDescription||{};bH=bC.OverloadParameter=bC.OverloadParameter||{};bI=bC.Overload=bC.Overload||{};bJ=bC.Parameter=bC.Parameter||{};bK=bC.SignatureData=bC.SignatureData||{};bL=bC.MethodResponse=bC.MethodResponse||{};bM=bC.SymbolUseRange=bC.SymbolUseRange||{};bN=bC.SymbolUseResponse=bC.SymbolUseResponse||{};bO=bC.HelpTextResponse=bC.HelpTextResponse||{};bP=bC.CompilerLocationResponse=bC.CompilerLocationResponse||{};bQ=bC.FSharpErrorInfo=bC.FSharpErrorInfo||{};bR=bC.ErrorResponse=bC.ErrorResponse||{};bS=bC.Colorization=bC.Colorization||{};bT=bC.Declaration=bC.Declaration||{};bU=bC.DeclarationResponse=bC.DeclarationResponse||{};bV=bC.OpenNamespace=bC.OpenNamespace||{};bW=bC.QualifySymbol=bC.QualifySymbol||{};bX=bC.ResolveNamespaceResponse=bC.ResolveNamespaceResponse||{};bY=bC.UnionCaseResponse=bC.UnionCaseResponse||{};bZ=bB.Calls=bB.Calls||{};b0=b.FSharpStation=b.FSharpStation||{};b1=b0.FStation=b0.FStation||{};b2=b0.Snippets=b0.Snippets||{};b3=b0.DragDrop=b0.DragDrop||{};b4=b3.DragInfo=b3.DragInfo||{};b5=b0.Templating=b0.Templating||{};b6=b0.RenderSnippets=b0.RenderSnippets||{};b7=b0.RenderProperties=b0.RenderProperties||{};b8=b0.Monaco=b0.Monaco||{};b9=b8.HoverProvider=b8.HoverProvider||{};b_=b8.CompletionItemProvider=b8.CompletionItemProvider||{};b$=b8.DefinitionProvider=b8.DefinitionProvider||{};ca=b8.MonacoOptions=b8.MonacoOptions||{};cb=b8.ITextModelService=b8.ITextModelService||{};cc=b0.JumpTo=b0.JumpTo||{};cd=b0.Serializer=b0.Serializer||{};ce=cd.Model=cd.Model||{};cf=b0.LoadSave=b0.LoadSave||{};cg=b0.Importer=b0.Importer||{};ch=b0.MainProgram=b0.MainProgram||{};ci=b0.Messaging=b0.Messaging||{};cj=a.StartupCode$FSharpStation$FSharpStation=a.StartupCode$FSharpStation$FSharpStation||{};ck=a.FSharpStation_JsonEncoder=a.FSharpStation_JsonEncoder||{};cl=a.FSharpStation_JsonDecoder=a.FSharpStation_JsonDecoder||{};cm=a.FSharpStation_GeneratedPrintf=a.FSharpStation_GeneratedPrintf||{};cn=a.FSharpStation_Templates=a.FSharpStation_Templates||{};co=a.GeneratedPrintf=a.GeneratedPrintf||{};cp=a.IntelliFactory;cq=cp&&cp.Runtime;cr=h&&h.Utils;cs=h&&h.Seq;ct=h&&h.Concurrency;cu=h&&h.Arrays;cv=h&&h.List;cw=h&&h.Enumerator;cx=h&&h.Result;cy=h&&h.Operators;cz=h&&h.Strings;cA=h&&h.Slice;cB=h&&h.Control;cC=cB&&cB.MailboxProcessor;cD=h&&h.Unchecked;cE=a.System;cF=cE&&cE.Guid;cG=h&&h.Collections;cH=cG&&cG.FSharpSet;cI=h&&h.Option;cJ=h&&h.CancellationTokenSource;cK=a.console;cL=h&&h.UI;cM=cL&&cL.View;cN=cL&&cL.Var$1;cO=cG&&cG.FSharpMap;cP=cG&&cG.BalancedTree;cQ=cL&&cL.DomUtility;cR=cL&&cL.Doc;cS=cL&&cL.AttrModule;cT=cL&&cL.AttrProxy;cU=a.Node;cV=cL&&cL.Client;cW=cV&&cV.Templates;cX=a.Reflect;cY=a.Object;cZ=cG&&cG.Map;c0=a.JSON;c1=h&&h.TimeoutException;c2=h&&h.ClientSideJson;c3=c2&&c2.Provider;c4=h&&h.Owin;c5=c4&&c4.WebSocket;c6=c5&&c5.Client;c7=c6&&c6.WithEncoding;c8=c5&&c5.Endpoint;c9=a.location;c_=h&&h.Remoting;c$=c_&&c_.AjaxRemotingProvider;da=cL&&cL.FromView;db=cL&&cL.Templating;dc=db&&db.Runtime;dd=dc&&dc.Server;de=dd&&dd.ProviderBuilder;df=dd&&dd.Handler;dg=dd&&dd.TemplateInstance;dh=h&&h.JavaScript;di=dh&&dh.Promise;dj=W&&W.AppFramework;dk=dj&&dj.PlugIn;dl=h&&h.Lazy;dm=W&&W.LayoutEngineModule;dn=h&&h.DateUtil;_do=h&&h.Numeric;dp=a.Date;dq=cL&&cL.ListModel;dr=cG&&cG.Dictionary;ds=a.LayoutEngine_Templates;d=c.ResultMessage=cq.Class({toString:function(){return this.$==1?(function(dt){return function(du){return dt("Warning  : "+cr.toSafe(du));};}(a.id))(this.$0):this.$==2?(function(dt){return function(du){return dt(a.String(du));};}(a.id))(this.$0):this.$==3?(((cq.Curried3(function(dt,du,dv){return dt("Exception: "+cr.toSafe(du)+", "+cr.toSafe(dv));}))(a.id))(this.$0))(this.$1):(function(dt){return function(du){return dt("Error    : "+cr.toSafe(du));};}(a.id))(this.$0);}},null,d);d.freeMessage=function(dt){return dt.$==0?new d({$:0,$0:dt.$0}):dt.$==1?new d({$:1,$0:dt.$0}):dt.$==3?new d({$:3,$0:dt.$0,$1:dt.$1}):new d({$:0,$0:(function(du){return function(dv){return du(a.String(dv));};}(a.id))(dt.$0)});};f.absorbR=function(dt){return cs.choose(function(du){return du.$==0?{$:1,$0:du.$0}:null;},dt);};f.absorbO=function(dt){return cs.choose(a.id,dt);};f.insertR=function(dt){return dt.$==0?cs.map(function(du){return{$:0,$0:du};},dt.$0):(f.rtn())(c.Error$1(dt.$0));};f.insertO=function(dt){var du;du=dt==null?null:{$:1,$0:cs.map(function(dv){return{$:1,$0:dv};},dt.$0)};return du==null?(f.rtn())(null):du.$0;};f.rtn=function(){cj.$cctor();return cj.rtn;};g.insertR=function(dt){function du(dw){return{$:0,$0:dw};}function dv(dw){return ct.Return(dw);}return dt.$==0?ct.Bind(dt.$0,function(dw){return dv(du(dw));}):ct.Return(c.Error$1(dt.$0));};g.insertO=function(dt){var du;function dv(dx){return{$:1,$0:dx};}function dw(dx){return ct.Return(dx);}du=dt==null?null:{$:1,$0:ct.Bind(dt.$0,function(dx){return dw(dv(dx));})};return du==null?ct.Return(null):du.$0;};g.sequenceSeq=function(dt){return g.traverseSeq(a.id,dt);};g.traverseSeq=function(dt,du){function dv(dw){return ct.Return(dw);}return ct.Bind(cu.foldBack(function(dw,dx){return g.op_GreaterGreaterEquals(dt(dw),function(dy){return g.op_GreaterGreaterEquals(dx,function(dz){return ct.Return(new cv.T({$:1,$0:dy,$1:dz}));});});},cu.ofSeq(du),ct.Return(cv.T.Empty)),function(dw){return dv(a.id(dw));});};g.op_GreaterGreaterEquals=function(dt,du){return ct.Bind(dt,du);};g.sleepThen=function(dt,du){var dv;dv=null;return ct.Delay(function(){return ct.Bind(ct.Sleep(du),function(){return ct.Return(dt());});});};g.apply=function(dt,du){var dv;dv=null;return ct.Delay(function(){return ct.Bind(ct.StartChild(dt,null),function(dw){return ct.Bind(ct.StartChild(du,null),function(dx){return ct.Bind(dw,function(dy){return ct.Bind(dx,function(dz){return ct.Return(dy(dz));});});});});});};k=j.Builder=cq.Class({For:function(dt,du){var dv;dv=this;return this.Using(cw.Get(dt),function(dw){return dv.While(function(){return dw.MoveNext();},dv.Delay(function(){return du(dw.Current());}));});},While:function(dt,du){function dv(dw,dx){return dw()?cx.Bind(function(){return dv(dw,dx);},dx()):j.rtn();}return dv(dt,du);},Using:function(dt,du){try{return du(dt);}finally{dt.Dispose();}},TryFinally:function(dt,du){try{return dt();}finally{du();}},TryWith:function(dt,du){try{return dt();}catch(dv){return du(dv);}},Run:function(dt){return j.bindP(dt,{$:0,$0:null});},Combine:function(dt,du){return cx.Bind(du,dt);},Delay:a.id,Zero:function(){return j.rtn();},Bind:function(dt,du){return j.bindP(du,dt);},ReturnFrom:a.id,Return:function(dt){return j.rtn(dt);}},i,k);k.New=cq.Ctor(function(){i.New.call(this);},k);l.result=function(){cj.$cctor();return cj.result$1;};l.rtn=function(dt){return j.rtn(dt);};l.op_GreaterEqualsGreater=function(dt,du,dv){return l.op_GreaterGreaterEquals(dt(dv),du);};l.op_RightShift=function(dt,du,dv){return l.op_BarGreaterGreater(dt(dv),du);};l.op_GreaterGreaterEquals=function(dt,du){return j.bindP(du,dt);};l.op_BarGreaterGreater=function(dt,du){return j.mapP(du,dt);};j.result=function(){cj.$cctor();return cj.result;};j.sequenceSeq=function(dt){return j.traverseSeq(a.id,dt);};j.traverseSeq=function(dt,du){return cx.Map(a.id,cu.foldBack(function(dv,dw){return j.op_GreaterGreaterEquals(dt(dv),function(dx){return j.op_GreaterGreaterEquals(dw,function(dy){return j.rtn(new cv.T({$:1,$0:dx,$1:dy}));});});},cu.ofSeq(du),j.rtn(cv.T.Empty)));};j.op_GreaterGreaterEquals=function(dt,du){return cx.Bind(du,dt);};j.absorbO=function(dt,du){return j.bindP(function(dv){return j.ofOption(dt,dv);},du);};j.insertO=function(dt){var du;du=dt==null?null:{$:1,$0:cx.Map(function(dv){return{$:1,$0:dv};},dt.$0)};return du==null?{$:0,$0:null}:du.$0;};j.ofOption=function(dt,du){var dv;dv=du==null?null:{$:1,$0:{$:0,$0:du.$0}};return dv==null?function(dw){return c.Error$1(dt(dw));}():dv.$0;};j.get=function(dt){return j.defaultWith(function(du){return cy.FailWith(a.String(du));},dt);};j.iter=function(dt,du,dv){j.defaultWith(dt,j.mapP(du,dv));};j.mapP=function(dt,du){return j.bindP(function(dv){return j.rtn(dt(dv));},du);};j.bindP=function(dt,du){if(du.$==1)return c.Error$1(du.$0);else try{return dt(du.$0);}catch(dv){return c.Error$1(new d({$:3,$0:dv.message,$1:dv.stack}));}};j.failIfFalse=function(dt,du){return!du?c.Error$1(dt):{$:0,$0:null};};j.failIfTrue=function(dt,du){return du?c.Error$1(dt):{$:0,$0:null};};j.defaultValue=function(dt,du){return du.$==1?dt:du.$0;};j.defaultWith=function(dt,du){return du.$==1?dt(du.$0):du.$0;};j.toOption=function(dt){return dt.$==0?{$:1,$0:dt.$0}:null;};j.rtn=function(dt){return{$:0,$0:dt};};j.freeMessage=function(dt){return dt.$==1?c.Error$1(d.freeMessage(dt.$0)):{$:0,$0:dt.$0};};m.absorbO=function(dt,du){function dv(dx){return j.absorbO(dt,dx);}function dw(dx){return ct.Return(dx);}return ct.Bind(du,function(dx){return dw(dv(dx));});};m.absorbR=function(dt){var du;function dv(dw){return ct.Return(dw);}return ct.Bind(dt,(du=function(dw){return j.bindP(a.id,dw);},function(dw){return dv(du(dw));}));};m.insertR=function(dt){return dt.$==0?m.map(function(du){return{$:0,$0:du};},dt.$0):m.rtn(c.Error$1(dt.$0));};m.insertO=function(dt){var du;du=dt==null?null:{$:1,$0:m.map(function(dv){return{$:1,$0:dv};},dt.$0)};return du==null?m.rtn(null):du.$0;};m.sequenceSeq=function(dt){return m.traverseSeq(a.id,dt);};m.traverseSeq=function(dt,du){return m.map(a.id,cu.foldBack(function(dv,dw){return m.op_GreaterGreaterEquals(dt(dv),function(dx){return m.op_GreaterGreaterEquals(dw,function(dy){return m.rtn(new cv.T({$:1,$0:dx,$1:dy}));});});},cu.ofSeq(du),m.rtn(cv.T.Empty)));};m.op_GreaterGreaterEquals=function(dt,du){return m.bind(du,dt);};m.whileLoop=function(dt,du){return dt()?m.bind(function(){return m.whileLoop(dt,du);},du()):m.rtn();};m.mapP=function(dt,du){return m.bindP(function(dv){return m.rtn(dt(dv));},du);};m.map=function(dt,du){return m.bind(function(dv){return m.rtn(dt(dv));},du);};m.bindP=function(dt,du){var dv;dv=null;return ct.Delay(function(){return ct.TryWith(ct.Delay(function(){return ct.Bind(du,function(dw){return dw.$==1?ct.Return(c.Error$1(dw.$0)):dt(dw.$0);});}),function(dw){return ct.Return(c.Error$1(new d({$:3,$0:dw.message,$1:dw.stack})));});});};m.bind=function(dt,du){var dv;dv=null;return ct.Delay(function(){return ct.Bind(du,function(dw){var dx,dy;return dw.$==1?(dx=dw.$0,(dy=null,ct.Delay(function(){return ct.Return(c.Error$1(dx));}))):dt(dw.$0);});});};m.iterA=function(dt,du,dv){function dw(dy){j.iter(dt,du,dy);}function dx(dy){return ct.Return(dy);}ct.Start(ct.Bind(dv,function(dy){return dx(dw(dy));}),null);};m.iterS=function(dt,du,dv){throw"iterS cannot be used in JavaScript!";};m.rtnR=function(dt){return ct.Return(dt);};m.rtn=function(dt){return ct.Return({$:0,$0:dt});};m.freeMessage=function(dt){function du(dv){return ct.Return(dv);}return ct.Bind(dt,function(dv){return du(j.freeMessage(dv));});};n=e.AsyncResultBuilder=cq.Class({For:function(dt,du){var dv;dv=this;return this.Using(cw.Get(dt),function(dw){return dv.While(function(){return dw.MoveNext();},dv.Delay(function(){return du(dw.Current());}));});},While:function(dt,du){return m.whileLoop(dt,du);},Using:function(dt,du){return ct.Using(dt,du);},TryFinally:function(dt,du){var dv;dv=null;return ct.Delay(function(){try{return dt();}finally{du();}});},TryWith:function(dt,du){var dv;dv=null;return ct.Delay(function(){try{return dt();}catch(dw){return du(dw);}});},Run:function(dt){return dt();},Delay:a.id,Combine:function(dt,du){return m.bind(du,m.rtnR(dt));},Combine$1:function(dt,du){return m.bind(du,dt);},Bind:function(dt,du){return m.bind(du,m.rtnR(dt));},Bind$1:function(dt,du){return m.bind(du,dt);},Zero:function(){return m.rtn();},Return:function(dt){return m.rtn(dt);},ReturnFrom:function(dt){return m.rtnR(dt);},ReturnFrom$1:a.id},i,n);n.New=cq.Ctor(function(){i.New.call(this);},n);o=e.AsyncResultBuilderP=cq.Class({For:function(dt,du){var dv;dv=this;return this.Using(cw.Get(dt),function(dw){return dv.While(function(){return dw.MoveNext();},dv.Delay(function(){return du(dw.Current());}));});},While:function(dt,du){return m.whileLoop(dt,du);},Using:function(dt,du){return ct.Using(dt,du);},TryFinally:function(dt,du){var dv;dv=null;return ct.Delay(function(){try{return dt();}finally{du();}});},TryWith:function(dt,du){var dv;dv=null;return ct.Delay(function(){try{return dt();}catch(dw){return du(dw);}});},Run:function(dt){return m.bindP(dt,m.rtn());},Delay:a.id,Combine:function(dt,du){return m.bindP(du,m.rtnR(dt));},Combine$1:function(dt,du){return m.bindP(du,dt);},Bind:function(dt,du){return m.bindP(du,m.rtnR(dt));},Bind$1:function(dt,du){return m.bindP(du,dt);},Zero:function(){return m.rtn();},Return:function(dt){return m.rtn(dt);},ReturnFrom:function(dt){return m.rtnR(dt);},ReturnFrom$1:a.id},i,o);o.New=cq.Ctor(function(){i.New.call(this);},o);p["AsyncResultBuilderP.Combine"]=function(dt,du,dv){function dw(dy){return{$:0,$0:dy};}function dx(dy){return ct.Return(dy);}return m.bindP(dv,ct.Bind(du,function(dy){return dx(dw(dy));}));};p["AsyncResultBuilderP.Bind"]=function(dt,du,dv){function dw(dy){return{$:0,$0:dy};}function dx(dy){return ct.Return(dy);}return m.bindP(dv,ct.Bind(du,function(dy){return dx(dw(dy));}));};p["AsyncResultBuilderP.ReturnFrom"]=function(dt,du){function dv(dx){return{$:0,$0:dx};}function dw(dx){return ct.Return(dx);}return ct.Bind(du,function(dx){return dw(dv(dx));});};p["AsyncResultBuilder.Combine"]=function(dt,du,dv){function dw(dy){return{$:0,$0:dy};}function dx(dy){return ct.Return(dy);}return m.bind(dv,ct.Bind(du,function(dy){return dx(dw(dy));}));};p["AsyncResultBuilder.Bind"]=function(dt,du,dv){function dw(dy){return{$:0,$0:dy};}function dx(dy){return ct.Return(dy);}return m.bind(dv,ct.Bind(du,function(dy){return dx(dw(dy));}));};p["AsyncResultBuilder.ReturnFrom"]=function(dt,du){function dv(dx){return{$:0,$0:dx};}function dw(dx){return ct.Return(dx);}return ct.Bind(du,function(dx){return dw(dv(dx));});};s=r.Builder=cq.Class({For:function(dt,du){var dv;dv=this;return this.Using(cw.Get(dt),function(dw){return dv.While(function(){return dw.MoveNext();},dv.Delay(function(){return du(dw.Current());}));});},Using:function(dt,du){return r.wrap(function(dv){try{return r.run(dv,du(dt));}finally{dt.Dispose();}});},TryFinally:function(dt,du){return r.wrap(function(dv){try{return r.run(dv,dt());}finally{du();}});},TryWith:function(dt,du){return r.wrap(function(dv){try{return r.run(dv,dt());}catch(dw){return du(dw);}});},While:function(dt,du){function dv(dw,dx){return dw()?r.bind(function(){return dv(dw,dx);},dx()):r.rtn();}return dv(dt,du);},Run:function(dt){return r.delayRun(dt);},Combine:function(dt,du){return r.bind(du,dt);},Delay:a.id,Zero:function(){return r.rtn();},Bind:function(dt,du){return r.bind(du,dt);},ReturnFrom:a.id,Return:function(dt){return r.rtn(dt);}},i,s);s.New=cq.Ctor(function(){i.New.call(this);},s);t.reader=function(){cj.$cctor();return cj.reader$1;};t.rtn=function(dt){return r.rtn(dt);};t.op_GreaterEqualsGreater=function(dt,du,dv){return t.op_GreaterGreaterEquals(dt(dv),du);};t.op_RightShift=function(dt,du,dv){return t.op_BarGreaterGreater(dt(dv),du);};t.op_GreaterGreaterEquals=function(dt,du){return r.bind(du,dt);};t.op_BarGreaterGreater=function(dt,du){return r.map(du,dt);};t.op_LessMultiplyGreater=function(dt,du){return r.apply(dt,du);};r.reader=function(){cj.$cctor();return cj.reader;};r.memoizeRm=function(dt,du,dv){return r.wrap(function(dw){var dx,dy,dz;dx=dt(dw);dy=dx[0](dv);return dy==null?(dz=(r.getFun(du(dv)))(dw),(dx[1](dv))(dz)):dy.$0;});};r.iter=function(dt,du){function dv(dw){return r.run(du,dw);}return function(dw){return dt(dv(dw));};};r.absorbO=function(dt,du){return r.absorbR(r.map(function(dv){return j.ofOption(dt,dv);},du));};r.absorbR=function(dt){return r.map(j.get,dt);};r.insertSnd=function(dt,du){return r.map(function(dv){return[dv,du];},dt);};r.insertFst=function(dt,du){return r.map(function(dv){return[dt,dv];},du);};r.insertR=function(dt){return dt.$==0?r.map(function(du){return{$:0,$0:du};},dt.$0):r.rtn(c.Error$1(dt.$0));};r.insertO=function(dt){var du;du=dt==null?null:{$:1,$0:r.map(function(dv){return{$:1,$0:dv};},dt.$0)};return du==null?r.rtn(null):du.$0;};r.sequenceSeq=function(dt){return r.traverseSeq(a.id,dt);};r.traverseSeq=function(dt,du){return r.map(a.id,cu.foldBack(function(dv,dw){return r.op_GreaterGreaterEquals(dt(dv),function(dx){return r.op_GreaterGreaterEquals(dw,function(dy){return r.rtn(new cv.T({$:1,$0:dx,$1:dy}));});});},cu.ofSeq(du),r.rtn(cv.T.Empty)));};r.op_GreaterGreaterEquals=function(dt,du){return r.bind(du,dt);};r.run=function(dt,du){return(r.getFun(du))(dt);};r.apply=function(dt,du){return r.bind(function(dv){return r.map(dv,du);},dt);};r.map=function(dt,du){return r.bind(function(dv){return r.rtn(dt(dv));},du);};r.delayRun=function(dt){return r.wrap(function(du){return(r.getFun(dt()))(du);});};r.bind=function(dt,du){return r.wrap(function(dv){return(r.getFun(dt((r.getFun(du))(dv))))(dv);});};r.rtn=function(dt){return r.wrap(function(){return dt;});};r.ofFun=function(dt){return r.wrap(dt);};r.getFun=function(dt){return dt.$0;};r.wrap=function(dt){return{$:0,$0:dt};};v=u.Builder=cq.Class({For:function(dt,du){var dv;dv=this;return this.Using(cw.Get(dt),function(dw){return dv.While(function(){return dw.MoveNext();},dv.Delay(function(){return du(dw.Current());}));});},Using:function(dt,du){return u.wrap(function(dv){try{return u.run(dv,du(dt));}finally{dt.Dispose();}});},TryFinally:function(dt,du){return u.wrap(function(dv){try{return u.run(dv,dt());}finally{du();}});},TryWith:function(dt,du){return u.wrap(function(dv){try{return u.run(dv,dt());}catch(dw){return du(dw);}});},While:function(dt,du){function dv(dw,dx){return dw()?u.bind(function(){return dv(dw,dx);},dx()):u.rtn();}return dv(dt,du);},Run:function(dt){return u.delayRun(dt);},Combine:function(dt,du){return u.bind(du,dt);},Delay:a.id,Zero:function(){return u.rtn();},Bind:function(dt,du){return u.bind(du,dt);},ReturnFrom:function(dt){return u.rtnR(dt);},ReturnFrom$1:a.id,Return:function(dt){return u.rtn(dt);}},i,v);v.New=cq.Ctor(function(){i.New.call(this);},v);w.reader=function(){cj.$cctor();return cj.reader$3;};w.rtn=function(dt){return u.rtn(dt);};w.op_GreaterEqualsGreater=function(dt,du,dv){return w.op_GreaterGreaterEquals(dt(dv),du);};w.op_RightShift=function(dt,du,dv){return w.op_BarGreaterGreater(dt(dv),du);};w.op_GreaterGreaterEquals=function(dt,du){return u.bind(du,dt);};w.op_BarGreaterGreater=function(dt,du){return u.map(du,dt);};w.op_LessMultiplyGreater=function(dt,du){return u.apply(dt,du);};u.reader=function(){cj.$cctor();return cj.reader$2;};u.memoizeRm=function(dt,du,dv){return u.wrap(function(dw){var dx,dy,dz,dA;dx=dt(dw);return u.run(dw,(dy=(dz=dx[0](dv),dz==null?null:{$:1,$0:u.rtn(dz.$0)}),dy==null?(dA=du(dv),u.map(dx[1](dv),dA)):dy.$0));});};u.iter=function(dt,du,dv,dw){j.iter(dt,du,u.run(dv,dw));};u.absorbO=function(dt,du){return u.absorbR(u.map(function(dv){return j.ofOption(dt,dv);},du));};u.absorbR=function(dt){return u.bind(u.rtnR,dt);};u.insertSnd=function(dt,du){return u.map(function(dv){return[dv,du];},dt);};u.insertFst=function(dt,du){return u.map(function(dv){return[dt,dv];},du);};u.insertR=function(dt){return dt.$==0?u.map(function(du){return{$:0,$0:du};},dt.$0):u.rtn(c.Error$1(dt.$0));};u.insertO=function(dt){var du;du=dt==null?null:{$:1,$0:u.map(function(dv){return{$:1,$0:dv};},dt.$0)};return du==null?u.rtn(null):du.$0;};u.sequenceSeq=function(dt){return u.traverseSeq(a.id,dt);};u.traverseSeq=function(dt,du){return u.map(a.id,cu.foldBack(function(dv,dw){return u.op_GreaterGreaterEquals(dt(dv),function(dx){return u.op_GreaterGreaterEquals(dw,function(dy){return u.rtn(new cv.T({$:1,$0:dx,$1:dy}));});});},cu.ofSeq(du),u.rtn(cv.T.Empty)));};u.op_GreaterGreaterEquals=function(dt,du){return u.bind(du,dt);};u.run=function(dt,du){return(u.getFun(du))(dt);};u.getResult2=function(dt){return u.map(function(du){return{$:0,$0:du};},dt);};u.getResult=function(dt){return{$:0,$0:function(du){return{$:0,$0:(u.getFun(dt))(du)};}};};u.apply=function(dt,du){return u.bind(function(dv){return u.map(dv,du);},dt);};u.map=function(dt,du){return u.bind(function(dv){return u.rtn(dt(dv));},du);};u.delayRun=function(dt){return u.wrap(function(du){return(u.getFun(dt()))(du);});};u.bindR=function(dt,du){return u.bind(dt,u.rtnR(du));};u.bind=function(dt,du){return u.wrap(function(dv){return cx.Bind(function(dw){return(u.getFun(dt(dw)))(dv);},(u.getFun(du))(dv));});};u.rtnR=function(dt){return u.wrap(function(){return dt;});};u.rtn=function(dt){return u.wrap(function(){return j.rtn(dt);});};u.ofFun=function(dt){return u.wrap(function(du){return j.rtn(dt(du));});};u.getFun=function(dt){return dt.$0;};u.wrap=function(dt){return{$:0,$0:dt};};y=x.Builder=cq.Class({For:function(dt,du){var dv;dv=this;return this.Using(cw.Get(dt),function(dw){return dv.While(function(){return dw.MoveNext();},dv.Delay(function(){return du(dw.Current());}));});},Using:function(dt,du){return x.wrap(function(dv){function dw(dx){return x.run(dv,dx);}return ct.Using(dt,function(dx){return dw(du(dx));});});},TryFinally:function(dt,du){return x.wrap(function(dv){return ct.TryFinally(x.run(dv,dt()),du);});},TryWith:function(dt,du){return x.wrap(function(dv){return ct.TryWith(x.run(dv,dt()),du);});},While:function(dt,du){function dv(dw,dx){return dw()?x.bind(function(){return dv(dw,dx);},dx()):x.rtn();}return dv(dt,du);},Run:function(dt){return x.delayRun(dt);},Combine:function(dt,du){return x.bind(du,dt);},Delay:a.id,Zero:function(){return x.rtn();},Bind:function(dt,du){return x.bindRmr(du,dt);},Bind$1:function(dt,du){return x.bindRA(du,dt);},Bind$2:function(dt,du){return x.bindA(du,dt);},Bind$3:function(dt,du){return x.bindR(du,dt);},Bind$4:function(dt,du){return x.bind(du,dt);},ReturnFrom:function(dt){return x.rtnRmr(dt);},ReturnFrom$1:function(dt){return x.rtnRA(dt);},ReturnFrom$2:function(dt){return x.rtnA(dt);},ReturnFrom$3:function(dt){return x.rtnR(dt);},ReturnFrom$4:a.id,Return:function(dt){return x.rtn(dt);}},i,y);y.New=cq.Ctor(function(){i.New.call(this);},y);z.reader=function(){cj.$cctor();return cj.reader$5;};z.rtn=function(dt){return x.rtn(dt);};z.op_GreaterEqualsGreater=function(dt,du,dv){return z.op_GreaterGreaterEquals(dt(dv),du);};z.op_RightShift=function(dt,du,dv){return z.op_BarGreaterGreater(dt(dv),du);};z.op_GreaterGreaterEquals=function(dt,du){return x.bind(du,dt);};z.op_BarGreaterGreater=function(dt,du){return x.map(du,dt);};z.op_LessMultiplyGreater=function(dt,du){return x.apply(dt,du);};x.reader=function(){cj.$cctor();return cj.reader$4;};x.memoizeRm=function(dt,du,dv){return x.wrap(function(dw){var dx,dy,dz;dx=dt(dw);dy=dx[0](dv);return dy==null?(dz=(x.getFun(du(dv)))(dw),(dx[1](dv))(dz)):dy.$0;});};x.iterS=function(dt,du,dv){function dw(dy){return x.run(dv,dy);}function dx(dy){m.iterS(dt,du,dy);}return function(dy){return dx(dw(dy));};};x.iterA=function(dt,du,dv){function dw(dy){return x.run(dv,dy);}function dx(dy){m.iterA(dt,du,dy);}return function(dy){return dx(dw(dy));};};x.absorbO=function(dt,du){return x.absorbR(x.map(function(dv){return j.ofOption(dt,dv);},du));};x.absorbR=function(dt){return x.bind(x.rtnR,dt);};x.insertSnd=function(dt,du){return x.map(function(dv){return[dv,du];},dt);};x.insertFst=function(dt,du){return x.map(function(dv){return[dt,dv];},du);};x.insertR=function(dt){return dt.$==0?x.map(function(du){return{$:0,$0:du};},dt.$0):x.rtn(c.Error$1(dt.$0));};x.insertO=function(dt){var du;du=dt==null?null:{$:1,$0:x.map(function(dv){return{$:1,$0:dv};},dt.$0)};return du==null?x.rtn(null):du.$0;};x.sequenceSeq=function(dt){return x.traverseSeq(a.id,dt);};x.traverseSeq=function(dt,du){return x.map(a.id,cu.foldBack(function(dv,dw){return x.op_GreaterGreaterEquals(dt(dv),function(dx){return x.op_GreaterGreaterEquals(dw,function(dy){return x.rtn(new cv.T({$:1,$0:dx,$1:dy}));});});},cu.ofSeq(du),x.rtn(cv.T.Empty)));};x.op_GreaterGreaterEquals=function(dt,du){return x.bind(du,dt);};x.run=function(dt,du){return(x.getFun(du))(dt);};x.getAsyncResult=function(dt){return{$:0,$0:function(du){return m.mapP(m.rtn,(x.getFun(dt))(du));}};};x.getAsync=function(dt){return{$:0,$0:function(du){return m.mapP(function(dv){return ct.Return(dv);},(x.getFun(dt))(du));}};};x.getResult=function(dt){return{$:0,$0:function(du){function dv(dx){return{$:0,$0:dx};}function dw(dx){return ct.Return(dx);}return ct.Bind((x.getFun(dt))(du),function(dx){return dw(dv(dx));});}};};x.apply=function(dt,du){return x.bind(function(dv){return x.map(dv,du);},dt);};x.map=function(dt,du){return x.bind(function(dv){return x.rtn(dt(dv));},du);};x.delayRun=function(dt){return x.wrap(function(du){return(x.getFun(dt()))(du);});};x.bindRmr=function(dt,du){return x.bind(dt,x.rtnRmr(du));};x.bindRA=function(dt,du){return x.bind(dt,x.rtnRA(du));};x.bindA=function(dt,du){return x.bind(dt,x.rtnA(du));};x.bindR=function(dt,du){return x.bind(dt,x.rtnR(du));};x.bind=function(dt,du){return x.wrap(function(dv){return m.bindP(function(dw){return(x.getFun(dt(dw)))(dv);},(x.getFun(du))(dv));});};x.rtnRmr=function(dt){return x.wrap(function(du){return ct.Return((u.getFun(dt))(du));});};x.rtnRA=function(dt){return x.wrap(function(){return dt;});};x.rtnA=function(dt){return x.wrap(function(){function du(dw){return{$:0,$0:dw};}function dv(dw){return ct.Return(dw);}return ct.Bind(dt,function(dw){return dv(du(dw));});});};x.rtnR=function(dt){return x.wrap(function(){return ct.Return(dt);});};x.rtn=function(dt){return x.wrap(function(){return m.rtn(dt);});};x.ofFun=function(dt){return x.wrap(function(du){return m.rtn(dt(du));});};x.getFun=function(dt){return dt.$0;};x.wrap=function(dt){return{$:0,$0:dt};};e.asyncResultP=function(){cj.$cctor();return cj.asyncResultP;};e.asyncResult=function(){cj.$cctor();return cj.asyncResult;};A.EndsWith$1=function(dt,du){return cz.EndsWith(du,dt)?{$:1,$0:cA.string(du,{$:1,$0:0},{$:1,$0:du.length-dt.length-1})}:null;};A.StartsWith$1=function(dt,du){return cz.StartsWith(du,dt)?{$:1,$0:cA.string(du,{$:1,$0:dt.length},null)}:null;};A.skipLastLine$1=function(){cj.$cctor();return cj.skipLastLine;};A.indentStr$1=function(dt){function du(dw){return A.indent$1(dt,dw);}function dv(dw){return cz.concat("\n",dw);}return function(dw){return dv(du(dw));};};A.unindentStr$1=function(){cj.$cctor();return cj.unindentStr;};A.indent$1=function(dt,du){var dv,dw;dv=cz.SplitChars(du,["\n"],0);return cs.map((dw=cz.replicate(dt," "),function(dx){return dw+dx;}),dv);};A.unindent$1=function(dt){var du,dv,dw,dx;du=cz.SplitChars(dt,["\n"],0);dv=(dw=cs.tryFindIndex(function(dy){return" "!==dy;},(dx=cs.tryFind(function(dy){return cz.Trim(dy)!=="";},du),dx==null?"":dx.$0)),dw==null?0:dw.$0);return cs.filter(function(dy){return!cz.StartsWith(dy,"# 1 ");},cs.map(function(dy){return dy.length<=dv?"":dy.substring(dv);},du));};A.skipFirstLine$1=function(dt){var du;du=dt.indexOf("\n");return du<0?"":cA.string(dt,{$:1,$0:du+1},null);};A.append$1=function(dt,du){return dt+du;};A.trim$1=function(dt){return cz.Trim(dt);};A.contains$1=function(dt,du){return du.indexOf(dt)!=-1;};A.delimitedO$1=function(dt,du,dv){var dw,dx,dy,dz,dA;dw=A.splitInTwoO$1(dt,dv);return dw==null?null:(dx=dw.$0,(dy=dx[0],(dz=A.splitInTwoO$1(du,dx[1]),dz==null?null:{$:1,$0:(dA=dz.$0,[dy,dA[0],dA[1]])})));};A.splitInTwoO$1=function(dt,du){var dv;dv=du.indexOf(dt);return dv===-1?null:{$:1,$0:[c["String.Left$1"](du,dv),du.substring(dv+dt.length)]};};A.splitByChar$1=function(dt,du){return cz.SplitChars(du,[dt],0);};B.Guid$1=function(){cj.$cctor();return cj["|Guid|_|"];};B.Double$1=function(){cj.$cctor();return cj["|Double|_|"];};B.Single$1=function(){cj.$cctor();return cj["|Single|_|"];};B.Int$1=function(){cj.$cctor();return cj["|Int|_|"];};B.Date$1=function(){cj.$cctor();return cj["|Date|_|"];};B.parseGuidO$1=function(){cj.$cctor();return cj.parseGuidO;};B.parseDoubleO$1=function(){cj.$cctor();return cj.parseDoubleO;};B.parseSingleO$1=function(){cj.$cctor();return cj.parseSingleO;};B.parseIntO$1=function(){cj.$cctor();return cj.parseIntO;};B.parseDateO$1=function(){cj.$cctor();return cj.parseDateO;};B.tryParseWith$1=function(dt){function du(dv,dw){return dv?{$:1,$0:dw}:null;}return function(dv){return du.apply(null,dt(dv));};};C.PostAndAsyncReply=function(dt,du,dv){return dt.PostAndAsyncReply(function(dw){return[dw,du];},dv);};E.applyReply=function(dt,du){return E.applyReplyA(function(dv){var dw;dw=null;return ct.Delay(function(){return ct.Return(dt(dv));});},du);};E.applyReplyA=function(dt,du){return du.PostAndAsyncReply(function(dv){return function(dw){var dx;dx=null;return ct.Delay(function(){return ct.Bind(dt(dw),function(dy){dv(dy[1]);return ct.Return(dy[0]);});});};},null);};E.apply=function(dt,du){E.applyA(function(dv){var dw;dw=null;return ct.Delay(function(){return ct.Return(dt(dv));});},du);};E.applyA=function(dt,du){du.mailbox.AddLast(function(dv){var dw;dw=null;return ct.Delay(function(){return dt(dv);});});du.resume();};E.setState=function(dt,du){du.mailbox.AddLast(function(){var dv;dv=null;return ct.Delay(function(){return ct.Return(dt);});});du.resume();};E.getStateA=function(dt){return dt.PostAndAsyncReply(function(du){return function(dv){var dw;dw=null;return ct.Delay(function(){du(dv);return ct.Return(dv);});};},null);};D.defHandler=function(dt,du){c.print(dt);return du;};D.stateFull=function(dt,du){return cC.Start(function(dv){function dw(dx){var dy;dy=null;return ct.Delay(function(){return ct.TryWith(ct.Delay(function(){return ct.Bind(dv.Receive(null),function(dz){return ct.Bind(dz(dx),function(dA){return dw(dA);});});}),function(dz){return dw(dt(dz,dx));});});}return dw(du);},null);};D.fold=function(dt,du,dv){return D.foldA(dt,function(dw,dx){var dy;dy=null;return ct.Delay(function(){return ct.Return(du(dw,dx));});},dv);};D.foldA=function(dt,du,dv){return cC.Start(function(dw){function dx(dy){var dz;dz=null;return ct.Delay(function(){return ct.TryWith(ct.Delay(function(){return ct.Bind(dw.Receive(null),function(dA){return ct.Bind(du(dy,dA),function(dB){return dx(dB);});});}),function(dA){return dx(dt(dA,dy));});});}return dx(dv);},null);};D.call=function(dt,du){return D.callA(dt,function(dv){var dw;dw=null;return ct.Delay(function(){return ct.Return(du(dv));});});};D.callA=function(dt,du){return D.iterA(dt,function(dv){var dw,dx,dy;dw=dv[0];dx=dv[1];dy=null;return ct.Delay(function(){return ct.Bind(du(dx),function(dz){dw(dz);return ct.Zero();});});});};D.iter=function(dt,du){return D.iterA(dt,function(dv){var dw;dw=null;return ct.Delay(function(){du(dv);return ct.Zero();});});};D.iterA=function(dt,du){return cC.Start(function(dv){var dw;dw=null;return ct.Delay(function(){return ct.While(function(){return true;},ct.Delay(function(){return ct.TryWith(ct.Delay(function(){return ct.Bind(dv.Receive(null),function(dx){return ct.Bind(du(dx),function(){return ct.Return(null);});});}),function(dx){dt(dx);return ct.Zero();});}));});},null);};F.New=function(dt,du,dv,dw){return{useCount:dt,limitCount:du,resource:dv,configuration:dw};};G=c.ResourceAgent=cq.Class({increment:function(dt){var du,dv;du=this;return(this.respawnRightAfter?(dv=dt.configuration,function(dw){return du.check(dv,dw);}):a.id)(F.New(dt.useCount+1,dt.limitCount,dt.resource,dt.configuration));},check:function(dt,du){return du.useCount<du.limitCount&&this.alive(du.resource)&&cD.Equals(dt,du.configuration)?du:this.respawn(F.New(du.useCount,du.limitCount,du.resource,dt));},respawn:function(dt){this.clean(dt.resource);return F.New(0,dt.limitCount,this.ctor(dt.configuration),dt.configuration);},Respawn:function(){var dt;dt=this;E.apply(function(du){return dt.respawn(du);},this.agent);},set_Configuration:function(dt){var du;du=this;!cD.Equals(dt,this.get_Configuration())?E.apply(function(dv){return du.respawn(F.New(dv.useCount,dv.limitCount,dv.resource,dt));},this.agent):void 0;},set_LimitCount:function(dt){E.apply(function(du){return F.New(du.useCount,dt,du.resource,du.configuration);},this.agent);},get_Configuration:function(){return this.get_State().configuration;},get_LimitCount:function(){return this.get_State().limitCount;},get_State:function(){throw"getState not available in JavaScript";},AsyncProcessA:function(dt,du){var dv;dv=this;return E.applyReplyA(function(dw){var dx;dx=null;return ct.Delay(function(){var dy;dy=dv.check(du==null?dw.configuration:du.$0,dw);return ct.Bind(dt(dy.resource),function(dz){return ct.Return([dv.increment(dy),dz]);});});},this.agent);},ProcessA:function(dt,du){return this.AsyncProcessA(function(dv){var dw;dw=null;return ct.Delay(function(){return ct.Return(dt(dv));});},du);},Dispose:function(){try{this.clean(this.get_State().resource);}catch(dt){null;}}},i,G);G.New=cq.Ctor(function(dt,du,dv,dw,dx,dy){var dz;dz=this;i.New.call(this);this.ctor=du;this.clean=dw==null?a.ignore:dw.$0;this.alive=dx==null?function(){return true;}:dx.$0;this.respawnRightAfter=dy==null||dy.$0;this.agent=D.stateFull(function(dA,dB){c.print(dA);return dz.respawn(dB);},F.New(0,dt,this.ctor(dv),dv));},G);H.runSameConfig=function(dt,du){return x.run([dt,dt.get_Configuration()],du);};H.run=function(dt,du,dv){return x.run([dt,du],dv);};H.fromResourceRm=function(dt){return x.wrap(function(du){return du[0].AsyncProcessA(x.getFun(dt),{$:1,$0:du[1]});});};H.createAgentRm=function(dt,du){return x.ofFun(function(dv){return dv[0].AsyncProcessA(function(dw){return dt(dw,du);},{$:1,$0:dv[1]});});};J.New=function(dt,du,dv,dw){return{cargId:dt,name:du,unique:dv,build:dw};};K=I.CommArgCollection=cq.Class({get_CommArgs:function(){return this.$0;}},null,K);K.op_Addition=function(dt,du){return K.addPairs(du.$0,dt);};K.op_Addition$1=function(dt,du){return K.addPair(du[0],du[1],dt);};K.op_Addition$2=function(dt,du){return K.addPairs(du,dt);};L=I.TypedCommArg=cq.Class({get_CommArg:function(){return this.$0;}},null,L);L.op_DivisionAssignment=function(dt,du){return[dt.$0,u.map(a.id,u.ofFun(du))];};L.op_DivisionAssignment$1=function(dt,du){return[dt.$0,u.map(a.id,du)];};L.op_DivisionAssignment$2=function(dt,du){return[dt.$0,u.map(a.id,u.rtn(du))];};M.getFloatR=function(dt,du){return dt.$0.build.$==3?{$:0,$0:du}:c.Error$1(new d({$:0,$0:"expecting TFloat"}));};M.getBoolR=function(dt,du){return dt.$0.build.$==2?{$:0,$0:du}:c.Error$1(new d({$:0,$0:"expecting TBool"}));};M.getStringR=function(dt,du){return dt.$0.build.$==1?{$:0,$0:du}:c.Error$1(new d({$:0,$0:"expecting TString"}));};M.getIntR=function(dt,du){return dt.$0.build.$==0?{$:0,$0:du}:c.Error$1(new d({$:0,$0:"expecting TInt"}));};M.argumentTRm=function(dt,du){return M.argumentRm(dt,du);};M.argumentRm=function(dt,du){var dv;dv=w.reader();return dv.Run(dv.Delay(function(){return dv.Bind(du,function(dw){var dx;return dv.Return((dx=dt.build,dx.$==1?dx.$0(dw):dx.$==2?dx.$0(dw):dx.$==3?dx.$0(dw):dx.$0(dw)));});}));};M.NewFloat=function(dt,du,dv){return new L({$:0,$0:M.New0(dt,du,{$:3,$0:dv})});};M.NewBool=function(dt,du,dv){return new L({$:0,$0:M.New0(dt,du,{$:2,$0:dv})});};M.NewString=function(dt,du,dv){return new L({$:0,$0:M.New0(dt,du,{$:1,$0:dv})});};M.NewInt=function(dt,du,dv){return new L({$:0,$0:M.New0(dt,du,{$:0,$0:dv})});};M.New0=function(dt,du,dv){return J.New({$:0,$0:cF.NewGuid()},dt,du,dv);};K.addPairs=function(dt,du){return K.append(du,new K({$:0,$0:dt}));};K.append=function(dt,du){var dv,dw;function dx(dy,dz){return function(dA){return K.addPair(dy,dz,dA);};}dv=(dw=function(dy){return dx.apply(null,a.id(dy));},function(dy){return function(dz){return(dw(dz))(dy);};});return cs.fold(function(dy,dz){return(dv(dy))(dz);},dt,du.get_CommArgs());};K.addPair=function(dt,du,dv){function dw(dx,dy){return!cD.Equals(dx.cargId,dt.cargId);}return new K({$:0,$0:cu.ofSeq(cs.append((dt.unique?function(dx){return cs.filter(function(dy){return dw(dy[0],dy[1]);},dx);}:a.id)(dv.$0),cv.ofArray([[dt,du]])))});};K.getBoolRm=function(dt,du){return w.op_BarGreaterGreater(K.tryGetBoolORm(du),function(dv){return dv==null?dt:dv.$0;});};K.getFloatRm=function(dt){return u.absorbO(function(){return K.argumentNotFound(dt,void 0);},K.tryGetFloatORm(dt));};K.getStringRm=function(dt){return u.absorbO(function(){return K.argumentNotFound(dt,void 0);},K.tryGetStringORm(dt));};K.getIntRm=function(dt){return u.absorbO(function(){return K.argumentNotFound(dt,void 0);},K.tryGetIntORm(dt));};K.findArgRm=function(dt){return u.absorbO(function(){return K.argumentNotFound(dt,void 0);},K.tryFindArgORm(dt));};K.tryGetFloatORm=function(dt){function du(dv,dw){return M.getFloatR(dt,dw);}return u.absorbR(w.op_BarGreaterGreater(w.op_BarGreaterGreater(K.tryFindArgORm(dt),function(dv){var dw;return dv==null?null:{$:1,$0:(dw=dv.$0,du(dw[0],dw[1]))};}),j.insertO));};K.tryGetBoolORm=function(dt){function du(dv,dw){return M.getBoolR(dt,dw);}return u.absorbR(w.op_BarGreaterGreater(w.op_BarGreaterGreater(K.tryFindArgORm(dt),function(dv){var dw;return dv==null?null:{$:1,$0:(dw=dv.$0,du(dw[0],dw[1]))};}),j.insertO));};K.tryGetStringORm=function(dt){function du(dv,dw){return M.getStringR(dt,dw);}return u.absorbR(w.op_BarGreaterGreater(w.op_BarGreaterGreater(K.tryFindArgORm(dt),function(dv){var dw;return dv==null?null:{$:1,$0:(dw=dv.$0,du(dw[0],dw[1]))};}),j.insertO));};K.tryGetIntORm=function(dt){function du(dv,dw){return M.getIntR(dt,dw);}return u.absorbR(w.op_BarGreaterGreater(w.op_BarGreaterGreater(K.tryFindArgORm(dt),function(dv){var dw;return dv==null?null:{$:1,$0:(dw=dv.$0,du(dw[0],dw[1]))};}),j.insertO));};K.tryFindArgORm=function(dt){return u.bind(a.id,u.ofFun(function(du){var dv,dw;return u.insertO((dv=K.tryFindArgO(dt,du),dv==null?null:{$:1,$0:(dw=dv.$0,u.insertFst(dw[0],dw[1]))}));}));};K.tryFindArgO=function(dt,du){var dv;dv=dt.$0;return cs.tryFind(function(dw){return cD.Equals(dw[0].cargId,dv.cargId);},du.$0);};K.argumentNotFound=function(dt,du){return new d({$:0,$0:(function(dv){return function(dw){return dv("argument not found: "+cr.toSafe(dw));};}(a.id))(dt.$0.name)});};K.containsAnyOfRm=function(dt){return u.ofFun(function(du){function dv(dw,dx){return dt.Contains(dw.cargId);}return cs.exists(function(dw){return dv(dw[0],dw[1]);},du.$0);});};K.argumentsRm=function(dt){return w.op_GreaterGreaterEquals(K.filterRm(dt),function(du){return u.traverseSeq(function(dv){return M.argumentTRm(dv[0],dv[1]);},du);});};K.filterRm=function(dt){return u.ofFun(function(du){return cs.filter(dt,du.$0);});};K.existsRm=function(dt){return u.ofFun(function(du){return cs.exists(dt,du.$0);});};K.argsRm=function(){return u.ofFun(function(dt){return dt.$0;});};K.contains=function(dt,du){function dv(dw,dx){return dw.cargId;}return cs.contains(dt.$0.cargId,cs.map(function(dw){return dv(dw[0],dw[1]);},du.$0));};K.trueForAll=function(dt){return true;};O.NoPrepo={$:12};O.PrepoEndIf={$:9};O.PrepoElse={$:8};N.getSourceDir=function(dt,du){var dv,dw,dx,dy,dz,dA,dB,dC,dD,dE;dv=cu.get(du,0);dw=cu.tryItem(1,du);return(dy=A.StartsWith$1("////#cd @\"",dv),dy!=null&&dy.$==1?(dx=dy.$0,true):dw!=null&&dw.$==1&&(dz=A.StartsWith$1("////#cd @\"",dw.$0),dz!=null&&dz.$==1&&(dx=dz.$0,true)))?(dA=cz.Trim(dx),(dC=A.EndsWith$1("\"",dA),dC!=null&&dC.$==1?dB=dC.$0:dB=dA,(dD=A.StartsWith$1("\\",dB),dD!=null&&dD.$==1)?dB:(dE=A.StartsWith$1("/",dB),dE!=null&&dE.$==1)?dB:cD.Equals(cs.tryItem(1,dB),{$:1,$0:":"})?dB:dt+"/"+dB)):dt;};N.separateDirectives=function(dt){var du,dv,dw,dx,dy;function dz(dJ){return dJ[1];}function dA(dJ){return dJ.$==1?{$:1,$0:dJ.$0}:null;}function dB(dJ){return dJ[1];}function dC(dJ){return dJ.$==2?{$:1,$0:dJ.$0}:null;}function dD(dJ){return dJ[1];}function dE(dJ){return dJ.$==6?{$:1,$0:dJ.$0}:null;}function dF(dJ){return dJ[1];}function dG(dJ){return dJ.$==5?{$:1,$0:dJ.$0}:null;}function dH(dJ){return dJ[1];}function dI(dJ){return dJ.$==0?{$:1,$0:dJ.$0}:null;}du=cu.ofSeq(cs.distinct(cs.choose(function(dJ){return dA(dz(dJ));},dt)));dv=cu.ofSeq(cs.distinct(cs.choose(function(dJ){return dC(dB(dJ));},dt)));dw=cu.ofSeq(cs.distinct(cs.choose(function(dJ){return dE(dD(dJ));},dt)));dx=cu.ofSeq(cs.distinct(cs.choose(function(dJ){return dG(dF(dJ));},dt)));dy=cs.tryHead(cs.choose(function(dJ){return dI(dH(dJ));},dt));return[cu.ofSeq(cs.map(function(dJ){return dJ[0];},dt)),du,dv,dw,dx,dy];};N.separatePrepros=function(dt){function du(dx){var dy;dy=cs.tryLast(cz.SplitStrings(cz.Trim(dx),["\""],1));return dy==null?dx:dy.$0;}function dv(dx){var dy;dy=cs.tryHead(cz.SplitStrings(cz.Trim(dx),["#define "],1));return dy==null?"":dy.$0;}function dw(dx){return"//"+dx;}return cu.map(function(dx){var dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL;dy=true;return dy&&cz.StartsWith(dx,"#define")?[dw(dx),{$:2,$0:dv(dx)}]:dy&&cz.StartsWith(dx,"#cd")?[dw(dx),{$:0,$0:du(dx)}]:dy&&cz.StartsWith(dx,"#r")?[dw(dx),{$:1,$0:du(dx)}]:dy&&cz.StartsWith(dx,"#load")?[dw(dx),{$:3,$0:du(dx)}]:dy&&cz.StartsWith(dx,"#nowarn")?[dw(dx),{$:5,$0:du(dx)}]:dy&&cz.StartsWith(cz.Trim(dx),"# ")?[dw(dx),{$:4,$0:du(dx)}]:dy&&cz.StartsWith(cz.Trim(dx),"#line")?[dw(dx),{$:4,$0:du(dx)}]:dy&&cz.StartsWith(dx,"#I")?[dw(dx),{$:6,$0:du(dx)}]:dy&&cz.StartsWith(dx,"#if")?[dx,{$:7,$0:dx}]:dy&&cz.StartsWith(dx,"#else")?[dx,O.PrepoElse]:dy&&cz.StartsWith(dx,"#endif")?[dx,O.PrepoEndIf]:dy&&cz.StartsWith(dx,"#light")?[dx,{$:10,$0:false}]:dy&&cz.StartsWith(dx,"#")?[dw(dx),{$:11,$0:dx}]:[dx,O.NoPrepo];},dt);};N.extractDefines=function(dt){var du;du=dt.$0;return cz.StartsWith(du,"////-d:")?cA.string(du,{$:1,$0:4},{$:1,$0:du.indexOf("\n")-1}):"";};P=c.SnippetId=cq.Class({get_Id:function(){return this.$0;}},null,P);P.get_Empty=function(){return new P({$:0,$0:"00000000-0000-0000-0000-000000000000"});};Q.New=function(dt,du,dv,dw,dx,dy,dz){return{snpId:dt,snpName:du,snpContent:dv,snpParentIdO:dw,snpPredIds:dx,snpProperties:dy,snpGeneration:dz};};R.New=function(dt,du,dv,dw,dx,dy){return{generation:dt,ordered:du,fetcher:dv,predecesorsCache:dw,reducedCache:dx,prepCode:dy};};S.codeFsxRm=function(dt){return u.map(function(du){return du[0];},S.fastCodeRm({$:1,$0:dt},{$:1,$0:dt}));};S.fastCodeRm=function(dt,du){var dv;dv=w.reader();return dv.Run(dv.Delay(function(){return dv.Bind(S.fastReducedRm(dt,du),function(dw){return dv.Return(S.finishCode(dw[0],dw[1],dw[2],dw[3],dw[4],dw[5],dw[6]));});}));};S.fastReducedRm=function(dt,du){var dv;dv=w.reader();return dv.Run(dv.Delay(function(){return dv.Bind(u.insertO(dt==null?null:{$:1,$0:S.snippetORm(dt.$0)}),function(dw){return dv.Bind(u.insertO(du==null?null:{$:1,$0:S.snippetORm(du.$0)}),function(dx){var dy,dz,dA,dB;dy=dw==null?null:dw.$0;dz=dx==null?null:dx.$0;return(dz!=null&&dz.$==1?dy!=null&&dy.$==1?(dA=[dy.$0,dz.$0],false):true:true)?dv.ReturnFrom$1(S.reducedCodeRm([])):(dB=dA[0],dv.Bind(S.uniquePredsRm(dA[1]),function(dC){var dD;dD=new cH.New(dC);return dv.Bind((S.reducedOthersORmMemo())([true,dB.snpId,dD]),function(dE){return dv.Bind((S.reducedOthersORmMemo())([false,dB.snpId,dD]),function(dF){return dv.Bind(S.separateCodeRm(dB),function(dG){var dH,dI,dJ,dK;dH=(dI=dE==null?null:{$:1,$0:(function(dL){var dM,dN,dO,dP,dQ,dR,dS;dM=dL[0];dN=dL[1];dO=dL[2];dP=dL[3];dQ=dL[4];dR=dL[5];dS=dL[6];return function(dT){return S.addSeps(dM,dN,dO,dP,dQ,dR,dS,dT[0],dT[1],dT[2],dT[3],dT[4],dT[5],dT[6]);};}(dE.$0))(dG)},dI==null?dG:dI.$0);return dv.Return((dJ=dF==null?null:{$:1,$0:(dK=dF.$0,S.addSeps(dH[0],dH[1],dH[2],dH[3],dH[4],dH[5],dH[6],dK[0],dK[1],dK[2],dK[3],dK[4],dK[5],dK[6]))},dJ==null?dH:dJ.$0));});});});}));});});}));};S.reducedOthersORmMemo=function(){cj.$cctor();return cj.reducedOthersORmMemo;};S.reducedOthersORm=function(dt,du,dv){var dw;dw=w.reader();return dw.Run(dw.Delay(function(){function dx(dy){return!cD.Equals(dy.snpId,du)&&dv.Contains(dy.snpId);}return dw.Bind(w.op_BarGreaterGreater(w.op_BarGreaterGreater(S.orderedRm(),(dt?function(dy){return function(dz){return cs.takeWhile(dy,dz);};}:function(dy){return function(dz){return cs.skipWhile(dy,dz);};})(function(dy){return!cD.Equals(dy.snpId,du);})),function(dy){return cs.filter(dx,dy);}),function(dy){return cs.isEmpty(dy)?dw.Return(null):dw.Bind(S.reducedCodeRm(dy),function(dz){return dw.Return({$:1,$0:dz});});});}));};S.finishCode=function(dt,du,dv,dw,dx,dy,dz){var dA,dB;dA=cz.concat(" ",cs.map(function(dC){return"-d:"+dC;},cs.sort(dw)));dB=cv.ofSeq(cs.delay(function(){return cs.append(dA!==""?["////"+dA]:[],cs.delay(function(){return cs.append(dz!=null?[(function(dC){return function(dD){return dC("////#cd @\""+cr.toSafe(dD)+"\"");};}(a.id))(dz.$0)]:[],cs.delay(function(){return cs.append(cs.map(function(dC){return function(dD){return dC("#I @\""+cr.toSafe(dD)+"\"");};}(a.id),dx),cs.delay(function(){return cs.append(cs.map(function(dC){return function(dD){return dC("#r @\""+cr.toSafe(dD)+"\"");};}(a.id),dv),cs.delay(function(){return cs.map(function(dC){return function(dD){return dC("#nowarn \""+cr.toSafe(dD)+"\"");};}(a.id),dy);}));}));}));}));}));return[cz.concat("\n",cs.append(dB,du)),cu.ofSeq((cs.mapFold(function(dC,dD){var dE;dE=dD[2];return[[[dD[0],dD[1]],[dD[3],dC,dC+dE]],dC+dE];},dB.get_Length(),dt))[0])];};S.reducedCodeRm=function(dt){var du;du=w.reader();return du.Run(du.Delay(function(){return du.Bind(u.traverseSeq(S.separateCodeRm,dt),function(dv){var dw;return du.Return((dw=cs.reduce(function(dx,dy){return(function(dz){var dA,dB,dC,dD,dE,dF,dG;dA=dz[0];dB=dz[1];dC=dz[2];dD=dz[3];dE=dz[4];dF=dz[5];dG=dz[6];return function(dH){return S.addSeps(dA,dB,dC,dD,dE,dF,dG,dH[0],dH[1],dH[2],dH[3],dH[4],dH[5],dH[6]);};}(dx))(dy);},cs.isEmpty(dv)?[[[],[],[],[],[],[],null]]:dv),[dw[0],[cz.concat("\n",dw[1])],dw[2],dw[3],dw[4],dw[5],dw[6]]));});}));};S.addSeps=function(dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG){return[dt.concat(dA),du.concat(dB),cu.ofSeq(cs.distinct(cs.append(dv,dC))),cu.ofSeq(cs.distinct(cs.append(dw,dD))),cu.ofSeq(cs.distinct(cs.append(dx,dE))),cu.ofSeq(cs.distinct(cs.append(dy,dF))),dz==null?dG:dz];};S.separateCodeRm=function(dt){var du;du=w.reader();return du.Run(du.Delay(function(){return du.Bind(S.indentRm(dt),function(dv){var dw;function dx(dy,dz){return[cz.replicate(dv," ")+dy,dz];}dw=(dv===0?[a.id,""]:[function(dy){return cu.map(function(dz){return dx(dz[0],dz[1]);},dy);},(function(dy){return function(dz){return dy("("+a.String(dz)+")");};}(a.id))(dv)])[0];return du.Bind(S.prepareCodeRm(dt),function(dy){var dz,dA;dz=N.separateDirectives(dw(N.separatePrepros(cz.SplitChars(dy,["\n"],0))));dA=dz[0];return du.Return([[[dt.snpId,S.snippetName(dt.snpName,dt.snpContent),cu.length(dA),dv]],dA,dz[1],dz[2],dz[3],dz[4],dz[5]]);});});}));};S.ancestorsRm=function(dt){function du(dv,dw){var dx;dx=w.reader();return dx.Run(dx.Delay(function(){return dx.Bind(S.parentORm(dv),function(dy){var dz;return dy==null?dx.Return(dw):(dz=dy.$0,dx.ReturnFrom$1(du(dz,new cv.T({$:1,$0:dz,$1:dw}))));});}));}return du(dt,cv.T.Empty);};S.levelRm=function(dt){function du(dv,dw){var dx;dx=w.reader();return dx.Run(dx.Delay(function(){return dx.Bind(S.parentORm(dv),function(dy){return dy!=null&&dy.$==1?dx.ReturnFrom$1(du(dy.$0,dw+1)):dx.Return(dw);});}));}return du(dt,0);};S.indentRm=function(dt){function du(dv){var dw;dw=w.reader();return dw.Run(dw.Delay(function(){var dx,dy,dz,dA;dx=(dy=S.propertyPairO("IndentChildren",dv),dy!=null&&dy.$==1?[(B.parseIntO$1())(dy.$0[0]),(B.parseIntO$1())(dy.$0[1])]:[null,null]);dz=dx[1];dA=dx[0];return dw.Bind(S.parentORm(dv),function(dB){return dB==null?dw.Return([0,[dA==null?4:dA.$0,dz==null?4:dz.$0]]):dw.Bind(du(dB.$0),function(dC){var dD,dE;dD=dC[1][1];dE=dC[1][0];return dw.Return([dE,[dE+(dA==null?dD:dA.$0),dz==null?dD:dz.$0]]);});});}));}return u.map(function(dv){return dv[0];},du(dt));};S.propertyHierORm=function(dt,du){var dv;dv=w.reader();return dv.Run(dv.Delay(function(){var dw,dx;dw=S.propertyO(dt,du);return dw==null?dv.Bind(S.parentORm(du),function(dy){return dy==null?dv.Return(null):dv.Bind(S.propertyHierORm(dt,dy.$0),function(dz){var dA,dB;return dv.Return(dz==null?null:{$:1,$0:(dA=dz.$0,(dA[0],dB=dA[1],[dB,dB]))});});}):dv.Return({$:1,$0:(dx=cz.SplitStrings(dw.$0,["|-|"],1),[cu.get(dx,0),cu.length(dx)>0?cu.get(dx,1):cu.get(dx,0)])});}));};S.modifiedRecRm=function(dt){var du;du=w.reader();return du.Run(du.Delay(function(){return du.Bind(S.modifiedRm(dt),function(dv){return dv?du.Return(true):du.Bind(S.uniquePredsRm(dt),function(dw){return du.Bind(u.sequenceSeq(cs.map(S.snippetORm,dw)),function(dx){return du.Bind(u.sequenceSeq(cs.map(S.modifiedRm,cs.choose(a.id,dx))),function(dy){return du.Return(cs.contains(true,dy));});});});});}));};S.uniquePredsRm=function(dt){return(S.predsLRmMemo())(dt.snpId);};S.predsLRmMemo=function(){cj.$cctor();return cj.predsLRmMemo;};S.predsLRm=function(dt){var du;du=w.reader();return du.Run(du.Delay(function(){var dv,dw;dv=cv.ofArray([dt]);dw=cv.T.Empty;return du.Combine(du.While(function(){return!(dv.$==0);},du.Delay(function(){var dx,dy;return dv.$==1?(dx=dv.$1,(dy=dv.$0,cv.contains(dy,dw)?(dv=dx,du.Zero()):du.Bind(S.snippetORm(dy),function(dz){var dA,dB;dv=cv.append(dx,(dA=dz==null?null:{$:1,$0:(dB=dz.$0,cv.append(cv.ofSeq(dB.snpPredIds),cI.toList(dB.snpParentIdO)))},dA==null?cv.T.Empty:dA.$0));dw=new cv.T({$:1,$0:dy,$1:dw});return du.Zero();}))):du.Zero();})),du.Delay(function(){return du.Return(dw);}));}));};S.snippetFromRefORm=function(dt){return dt.$==1?S.snippetFromPathORm(dt.$0):S.snippetORm(dt.$0);};S.snippetFromPathORm=function(dt){var du;du=w.reader();return du.Run(du.Delay(function(){return du.Bind(S.orderedRm(),function(dv){function dw(dx,dy){return function(dz){return dx.length===0?[null,[[],dy]]:S.snippetName(dz.snpName,dz.snpContent)!==cu.get(dx,0)||!cD.Equals(dz.snpParentIdO,dy)?[null,[dx,dy]]:dx.length>1?[null,[cA.array(dx,{$:1,$0:1},null),{$:1,$0:dz.snpId}]]:[{$:1,$0:dz},[[],dy]];};}return du.Return(cs.tryHead(cs.choose(a.id,(cs.mapFold(function(dx,dy){return(function(dz){return dw(dz[0],dz[1]);}(dx))(dy);},[dt,null],dv))[0])));});}));};S.pathRm=function(dt){var du;function dv(dw){return w.op_BarGreaterGreater(S.pathRm(dw.snpId),function(dx){return new cv.T({$:1,$0:dw.snpId,$1:dx});});}return w.op_BarGreaterGreater(w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(w.op_BarGreaterGreater(w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(S.snippetORm(dt),function(dw){return dw==null?null:{$:1,$0:S.parentORm(dw.$0)};}),u.insertO),function(dw){return dw==null?null:a.id(dw.$0);}),function(dw){return dw==null?null:{$:1,$0:dv(dw.$0)};}),u.insertO),(du=cv.T.Empty,function(dw){return dw==null?du:dw.$0;}));};S.snippetRm=function(dt){return u.absorbO(function(){return new d({$:0,$0:(function(du){return function(dv){return du("Snippet not found "+cm.p(dv));};}(a.id))(dt)});},S.snippetORm(dt));};S.prepareCodeRm=function(dt){return u.ofFun(function(du){return du.prepCode(dt);});};S.orderedRm=function(){return u.ofFun(function(dt){return dt.ordered;});};S.childrenRm=function(dt){return u.ofFun(function(du){return cs.filter(function(dv){return cD.Equals(dv.snpParentIdO,{$:1,$0:dt});},du.ordered);});};S.modifiedRm=function(dt){return u.ofFun(function(du){return dt.snpGeneration>du.generation;});};S.maxGenerationRm=function(){return u.ofFun(function(dt){return cs.max(cs.map(function(du){return du.snpGeneration;},dt.ordered));});};S.predecessorsRm=function(dt){return u.ofFun(function(du){return cs.choose(du.fetcher,dt.snpPredIds);});};S.parentORm=function(dt){return u.ofFun(function(du){var dv;dv=dt.snpParentIdO;return dv==null?null:du.fetcher(dv.$0);});};S.snippetORm=function(dt){return u.ofFun(function(du){return du.fetcher(dt);});};S.propertyPairO=function(dt,du){var dv,dw,dx,dy;dv=S.propertyO(dt,du);return dv==null?null:{$:1,$0:(dw=cz.SplitStrings(dv.$0,["|-|"],1),[cu.get(dw,0),(dx=cu.tryItem(1,dw),(dy=cu.get(dw,0),dx==null?dy:dx.$0))])};};S.propertyO=function(dt,du){function dv(dw,dx){return dw===dt?{$:1,$0:dx}:null;}return cu.tryPick(function(dw){return dv(dw[0],dw[1]);},du.snpProperties);};S.nameSanitized=function(dt){var du,dv;du=["\"","<",">","|","\u0000","\u0001","\u0002","\u0003","\u0004","\u0005","\u0006","\u0007","\u0008","\u0009","\n","\u000b","\u000c","\r","\u000e","\u000f","\u0010","\u0011","\u0012","\u0013","\u0014","\u0015","\u0016","\u0017","\u0018","\u0019","\u001a","\u001b","\u001c","\u001d","\u001e","\u001f",":","*","?","\\","/"];return cz.Filter(function(dw){return!cu.contains(dw,du);},dt.snpName)+" "+(dv=dt.snpId.get_Id(),a.String(dv));};S.snippetName=function(dt,du){var dv;return dt!==""?dt:(dv=cs.tryHead(cs.filter(function(dw){return!(cz.StartsWith(dw,"#")||cz.StartsWith(dw,"[<")||cz.StartsWith(dw,"//"));},cs.map(cz.Trim,cz.SplitChars(du,["\n"],1)))),dv==null?"<empty>":dv.$0);};S.defaultSnippet=function(){cj.$cctor();return cj.defaultSnippet;};S.New=function(dt,du,dv){return Q.New(new P({$:0,$0:cF.NewGuid()}),dt,du,dv,new cH.New$1(null),[],(S.getNextGeneration())());};S.getNextGeneration=function(){cj.$cctor();return cj.getNextGeneration;};S.setGeneration=function(){cj.$cctor();return cj.setGeneration;};T.Hole={$:0};V.New=function(dt,du,dv,dw,dx,dy,dz){return{id:dt,isExpandedRm:du,canHaveChildrenRm:dv,childrenRm:dw,pathRm:dx,parentORm:dy,newChildrenRm:dz};};U.removeNodeOutdentChildren=function(dt,du){var dv;function dw(dx,dy){return w.op_GreaterGreaterEquals(dx,function(dz){return U.outdentNode(dy,dz);});}return w.op_GreaterGreaterEquals(w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(dt.childrenRm(),cu.ofSeq),(dv=w.rtn(du),function(dx){return cs.fold(dw,dv,dx);})),function(dx){return U.removeNode(dt,dx);});};U.outdentNode=function(dt,du){var dv;function dw(dx){return U.moveToSibling(true,dt,dx,du);}return w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(dt.parentORm(du),function(dx){return dx==null?null:{$:1,$0:dw(dx.$0)};}),(dv=w.rtn(du),function(dx){return dx==null?dv:dx.$0;}));};U.indentNode=function(dt,du){var dv;function dw(dy){return!cD.Equals(dt.id(),dy.id());}function dx(dy,dz){return w.op_GreaterGreaterEquals(dz.canHaveChildrenRm(),function(dA){return dA?w.rtn({$:1,$0:dz}):dy;});}return w.op_GreaterGreaterEquals(w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(w.op_GreaterGreaterEquals(dt.parentORm(du),function(dy){return dy!=null&&dy.$==1?w.op_BarGreaterGreater(dy.$0.childrenRm(),function(dz){var dA;dA=cu.ofSeq(dz);return dA;}):w.rtn(du);}),function(dy){return cs.takeWhile(dw,dy);}),(dv=w.rtn(null),function(dy){return cs.fold(dx,dv,dy);})),function(dy){var dz;return dy!=null&&dy.$==1?(dz=dy.$0,w.op_GreaterGreaterEquals(U.removeNode(dt,du),function(dA){return U.addChild(true,dt,dz,dA);})):w.rtn(du);});};U.addChild=function(dt,du,dv,dw){var dx;dx=w.reader();return dx.Run(dx.Delay(function(){return dx.Bind(dv.pathRm(),function(dy){function dz(dA){var dB,dC;return cD.Equals(dA.id(),dv.id())?dt?w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(w.op_BarGreaterGreater(w.op_BarGreaterGreater(dA.childrenRm(),cu.ofSeq),(dB=cv.ofArray([du]),function(dD){return cs.append(dD,dB);})),cu.ofSeq),dA.newChildrenRm):w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(w.op_BarGreaterGreater(w.op_BarGreaterGreater(dA.childrenRm(),cu.ofSeq),(dC=cv.ofArray([du]),function(dD){return cs.append(dC,dD);})),cu.ofSeq),dA.newChildrenRm):cv.contains(dA.id(),dy)?w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(w.op_BarGreaterGreater(dA.childrenRm(),cu.ofSeq),function(dD){return cs.map(dz,dD);}),u.sequenceSeq),cu.ofSeq),dA.newChildrenRm):w.rtn(dA);}return dx.ReturnFrom$1(u.sequenceSeq(cs.map(dz,dw)));});}));};U.moveToSibling2=function(dt,du,dv,dw){var dx;dx=w.reader();return dx.Run(dx.Delay(function(){return dx.Bind(U.tryFindId(du,dw),function(dy){var dz;return dy!=null&&dy.$==1?(dz=dy.$0,dx.Bind(U.tryFindId(dv,dw),function(dA){return dA!=null&&dA.$==1?dx.ReturnFrom$1(U.moveToSibling(dt,dz,dA.$0,dw)):dx.Return(dw);})):dx.Return(dw);});}));};U.moveToSibling=function(dt,du,dv,dw){return w.op_GreaterGreaterEquals(U.removeNode(du,dw),function(dx){return U.addSibling(dt,du,dv,dx);});};U.tryFindId=function(dt,du){return U.tryFind(function(dv){return cD.Equals(dv.id(),dt);},du);};U.tryFind=function(dt,du){function dv(dw,dx){return w.op_GreaterGreaterEquals(dw,function(dy){var dz;return dy==null?dt(dx)?w.rtn({$:1,$0:dx}):w.op_GreaterGreaterEquals(dx.childrenRm(),(dz=w.rtn(null),function(dA){return cs.fold(dv,dz,dA);})):w.rtn({$:1,$0:dy.$0});});}return cs.fold(dv,w.rtn(null),du);};U.addSibling=function(dt,du,dv,dw){function dx(dy){return cD.Equals(dy.id(),dv.id());}return w.op_GreaterGreaterEquals(dv.pathRm(),function(dy){var dz,dA;function dB(dC){return cD.Equals(dC.id(),dA)?w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(dC.childrenRm(),cu.ofSeq),function(dD){return U.addToParent(dt,dx,du,dC,dD);}):cv.contains(dC.id(),dz)?w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(w.op_BarGreaterGreater(dC.childrenRm(),cu.ofSeq),function(dD){return cs.map(dB,dD);}),u.sequenceSeq),cu.ofSeq),dC.newChildrenRm):w.rtn(dC);}return dy.$==1?(dz=dy.$1,(dA=dy.$0,u.sequenceSeq(cs.map(dB,dw)))):w.rtn(U.addNodeToSeq(dt,dx,du,dw));});};U.addToParent=function(dt,du,dv,dw,dx){return dw.newChildrenRm(cu.ofSeq(U.addNodeToSeq(dt,du,dv,dx)));};U.addNodeToSeq=function(dt,du,dv,dw){return cv.ofSeq(cs.delay(function(){return cs.collect(function(dx){return du(dx)?dt?cs.append([dx],cs.delay(function(){return[dv];})):cs.append([dv],cs.delay(function(){return[dx];})):[dx];},dw);}));};U.removeNodes=function(dt,du){var dv;dv=w.reader();return dv.Run(dv.Delay(function(){function dw(dx,dy){var dz;dz=w.reader();return dz.Run(dz.Delay(function(){return dz.Bind(dx,function(dA){var dB,dC;dB=dA[1];dC=dA[0];return dz.Bind(w.op_BarGreaterGreater(dy.childrenRm(),cu.ofSeq),function(dD){return dz.Bind(cs.fold(dw,w.rtn([cv.T.Empty,dB]),dD),function(dE){var dF,dG;dF=dE[1];dG=dE[0];return dt(dy)?dz.Return([dC,cv.append(dG,dF)]):dz.Bind(dy.newChildrenRm(cu.ofSeq(cs.rev(dG))),function(dH){return dz.Return([new cv.T({$:1,$0:dH,$1:dC}),dF]);});});});});}));}return dv.Bind(cs.fold(dw,w.rtn([cv.T.Empty,cv.T.Empty]),du),function(dx){return dv.Return(cv.rev(cv.append(dx[1],dx[0])));});}));};U.removeNode=function(dt,du){var dv;dv=w.reader();return dv.Run(dv.Delay(function(){return dv.Bind(dt.pathRm(),function(dw){function dx(dy){var dz;dz=w.reader();return dz.Run(dz.Delay(function(){return cD.Equals(dy.id(),dt.id())?dz.Return(null):cv.contains(dy.id(),dw)?dz.ReturnFrom$1(w.op_BarGreaterGreater(w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(w.op_BarGreaterGreater(w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(w.op_BarGreaterGreater(dy.childrenRm(),cu.ofSeq),function(dA){return cs.map(dx,dA);}),u.sequenceSeq),function(dA){return cs.choose(a.id,dA);}),cu.ofSeq),dy.newChildrenRm),function(dA){return{$:1,$0:dA};})):dz.Return({$:1,$0:dy});}));}return dv.ReturnFrom$1(w.op_BarGreaterGreater(u.sequenceSeq(cs.map(dx,du)),function(dy){return cs.choose(a.id,dy);}));});}));};U.listNodes=function(dt,du){return w.op_BarGreaterGreater(u.sequenceSeq(cs.map(function(dv){return w.op_BarGreaterGreater(w.op_GreaterGreaterEquals(dv.isExpandedRm(),function(dw){var dx;return dw?w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(dv.childrenRm(),cu.ofSeq),(dx=dt+1,function(dy){return U.listNodes(dx,dy);})):w.rtn([]);}),function(dw){return cs.append([[dv,dt]],dw);});},du)),function(dv){return cs.collect(a.id,dv);});};c["String.Right$1"]=function(dt,du){var dv,dw;return c["String.Substring2$1"](dt,(dv=0,(dw=dt.length-du,cD.Compare(dv,dw)===1?dv:dw)),dt.length);};c["String.Left$1"]=function(dt,du){return c["String.Substring2$1"](dt,0,du);};c["String.Substring2$1"]=function(dt,du,dv){var dw,dx;while(true){if(dv<=0)return"";else if(du<0){dw=du;du=0;dv=dv+dw;}else return du>=dt.length?"":cz.Substring(dt,du,(dx=dt.length-du,cD.Compare(dv,dx)===-1?dv:dx));}};c.delayed$1=function(dt,du){var dv;dv=[null];return function(dw){var dx,dy;dx=dv[0];dx==null?void 0:dx.$0.Cancel$1();dv[0]={$:1,$0:new cJ.New()};ct.Start((dy=null,ct.Delay(function(){return ct.Bind(ct.Sleep(dt),function(){du(dw);return ct.Zero();});})),{$:1,$0:dv[0].$0});};};c.print=function(dt){((function(du){return function(dv){return du(cr.prettyPrint(dv));};}(function(du){cK.log(du);}))(dt));};c.Error$1=function(dt){return{$:1,$0:dt};};X.ofAsyncResult=function(dt){return new a.Promise(function(du,dv){ct.StartWithContinuations(dt,function(dw){if(dw.$==1)dv((function(dx){return function(dy){return dx(cr.prettyPrint(dy));};}(a.id))(dw.$0));else du(dw.$0);},function(dw){dv(dw);},function(dw){dv(dw);},null);});};Y.sequenceSeq=function(dt){return Y.traverseSeq(a.id,dt);};Y.traverseSeq=function(dt,du){return Y.map(a.id,cu.foldBack(function(dv,dw){return Y.op_GreaterGreaterEquals(dt(dv),function(dx){return Y.op_GreaterGreaterEquals(dw,function(dy){return Y.rtn(new cv.T({$:1,$0:dx,$1:dy}));});});},cu.ofSeq(du),Y.rtn(cv.T.Empty)));};Y.op_GreaterGreaterEquals=function(dt,du){return Y.bind(du,dt);};Y.rtn=function(dt){return cM.Const(dt);};Y.map=function(dt,du){return cM.Map(dt,du);};Y.bind=function(dt,du){return cM.Bind(dt,du);};Y.insertWO=function(dt){return dt==null?cM.Const(null):cM.Map(function(du){return{$:1,$0:du};},dt.$0);};Z.serLMdField=function(dt,du,dv,dw){var dx;function dy(dz,dA){du(dz).Set(dx[1](dA));return dz;}dx=Z.serSeq(dv,dw);return[dt,function(dz){var dA;dA=(du(dz))["var"].Get();return dx[0](dA);},function(dz){return function(dA){return dy(dz,dA);};}];};Z.serVarField=function(dt,du,dv,dw){var dx;function dy(dz){return dz.Get();}return[dt,(dx=function(dz){return dy(du(dz));},function(dz){return dv(dx(dz));}),function(dz){return function(dA){cN.Set(du(dz),dw(dA));return dz;};}];};Z.serMap=function(dt,du,dv,dw){var dx,dy,dz,dA,dB;function dC(dE){return[dE.K,dE.V];}function dD(dE){return new cO.New(dE);}dx=(dy=Z.serDup(dt,du,dv,dw),Z.serSeq(dy[0],dy[1]));return[(dz=function(dE){return cs.map(dC,dE);},(dA=dx[0],function(dE){return dA(dz(dE));})),(dB=dx[1],function(dE){return dD(dB(dE));})];};Z.serDup=function(dt,du,dv,dw){var dx,dy,dz;function dA(dC){return[dx[1](null),dy[1](null)];}function dB(dC){return[dx[1](cu.get(dC,0)),dy[1](cu.get(dC,1))];}dx=[dt,du];dy=[dv,dw];return[function(dC){return(((cq.Curried3(function(dD,dE,dF){return dD("["+cr.toSafe(dE)+", "+cr.toSafe(dF)+"]");}))(a.id))(dx[0](dC[0])))(dy[0](dC[1]));},(dz=function(dC){return Z.ifUndefF(dA,dB,dC);},function(dC){return dz(a.id(dC));})];};Z.serOpt=function(dt,du){var dv,dw,dx,dy,dz,dA;function dB(dE){return dE==null?"null":dE.$0;}function dC(dE){return null;}function dD(dE){return{$:1,$0:dE};}dv=[dt,du];return[(dw=(dx=dv[0],function(dE){return dE==null?null:{$:1,$0:dx(dE.$0)};}),function(dE){return dB(dw(dE));}),(dy=(dz=(dA=dv[1],function(dE){return dD(dA(dE));}),function(dE){return Z.ifUndefF(dC,dz,dE);}),function(dE){return dy(a.id(dE));})];};Z.serSet=function(dt,du){var dv,dw,dx,dy,dz,dA,dB;function dC(dE){return[];}function dD(dE){return new cH.New(dE);}dv=[dt,du];return[(dw=(dx=dv[0],function(dE){return new cH.New$1(cP.OfSeq(cs.map(dx,dE)));}),function(dE){return Z.sprintA(dw(dE));}),(dy=(dz=(dA=(dB=dv[1],function(dE){return cs.map(dB,dE);}),function(dE){return Z.ifUndefF(dC,dA,dE);}),function(dE){return dz(a.id(dE));}),function(dE){return dD(dy(dE));})];};Z.serLst=function(dt,du){var dv,dw,dx,dy,dz,dA,dB;function dC(dD){return[];}dv=[dt,du];return[(dw=(dx=dv[0],function(dD){return cv.map(dx,dD);}),function(dD){return Z.sprintA(dw(dD));}),(dy=(dz=(dA=(dB=dv[1],function(dD){return cs.map(dB,dD);}),function(dD){return Z.ifUndefF(dC,dA,dD);}),function(dD){return dz(a.id(dD));}),function(dD){return cv.ofSeq(dy(dD));})];};Z.serArr=function(dt,du){var dv,dw,dx,dy,dz,dA,dB;function dC(dD){return[];}dv=[dt,du];return[(dw=(dx=dv[0],function(dD){return cu.map(dx,dD);}),function(dD){return Z.sprintA(dw(dD));}),(dy=(dz=(dA=(dB=dv[1],function(dD){return cs.map(dB,dD);}),function(dD){return Z.ifUndefF(dC,dA,dD);}),function(dD){return dz(a.id(dD));}),function(dD){return cu.ofSeq(dy(dD));})];};Z.serSeq=function(dt,du){var dv,dw,dx,dy,dz,dA;function dB(dC){return[];}dv=[dt,du];return[(dw=(dx=dv[0],function(dC){return cs.map(dx,dC);}),function(dC){return Z.sprintA(dw(dC));}),(dy=(dz=(dA=dv[1],function(dC){return cs.map(dA,dC);}),function(dC){return Z.ifUndefF(dB,dz,dC);}),function(dC){return dy(a.id(dC));})];};Z.serField=function(dt,du,dv,dw,dx){return[dt,function(dy){return dw(du(dy));},function(dy){return function(dz){return dv(dx(dz),dy);};}];};Z.serString=function(){cj.$cctor();return cj.serString;};Z.serBool=function(){cj.$cctor();return cj.serBool;};Z.serInt=function(){cj.$cctor();return cj.serInt;};Z.serFloat=function(){cj.$cctor();return cj.serFloat;};Z.sprintA=function(dt){var du;du=cz.concat(", ",dt);return(function(dv){return function(dw){return dv("["+cr.toSafe(dw)+"]");};}(a.id))(du);};Z.deserGuid=function(){cj.$cctor();return cj.deserGuid;};Z.Exists=function(dt,du){return!du[dt]?null:{$:1,$0:du[dt]};};Z.ifUndefF=function(dt,du,dv){return!dv?dt(dv):du(dv);};Z.ifUndef=function(dt,du){return!du?dt:du;};_0.LoadFilesAsync=function(dt){var du;du=null;return ct.Delay(function(){return ct.For(dt,function(dv){return ct.Bind(_0.LoadFile(dv),function(){return ct.Return(null);});});});};_0.LoadFile=function(dt){var du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH;function dI(dK,dL){return cz.EndsWith(dL,dK)?{$:1,$0:null}:null;}function dJ(dK,dL){try{dG.onload=dK;self.document.head.appendChild(dG);}catch(dM){dL(dM);}}du=(dv=((dx=dI(".js",dt),dx!=null&&dx.$==1)?!self.document.querySelector("script[src='"+dt+"']")||((dy=dI(".fsx",dt),dy!=null&&dy.$==1)?!self.document.querySelector("script[src='"+dt+"']")||(dz=dI(".fs",dt),dz!=null&&dz.$==1)&&!self.document.querySelector("script[src='"+dt+"']"):(dA=dI(".fs",dt),dA!=null&&dA.$==1)&&!self.document.querySelector("script[src='"+dt+"']")):(dB=dI(".fsx",dt),dB!=null&&dB.$==1)?!self.document.querySelector("script[src='"+dt+"']")||(dC=dI(".fs",dt),dC!=null&&dC.$==1)&&!self.document.querySelector("script[src='"+dt+"']"):(dD=dI(".fs",dt),dD!=null&&dD.$==1)&&!self.document.querySelector("script[src='"+dt+"']"))?{$:1,$0:_0.createScript(dt)}:(dE=dI(".css",dt),dE!=null&&dE.$==1)?{$:1,$0:_0.createCss(dt)}:(dF=dI(".html",dt),dF!=null&&dF.$==1)?{$:1,$0:_0.createHtml(dt)}:null,dv==null?null:{$:1,$0:(dG=dv.$0,ct.FromContinuations(function(dK,dL,dM){return dJ.apply(null,[dK,dL,dM]);}))});return du==null?(dH=null,ct.Delay(function(){return ct.Return(null);})):du.$0;};_0.createHtml=function(dt){var du;du=self.document.createElement("link");du.setAttribute("rel","import");du.setAttribute("type","text/html");du.setAttribute("href",dt);return du;};_0.createCss=function(dt){var du;du=self.document.createElement("link");du.setAttribute("rel","stylesheet");du.setAttribute("type","text/css");du.setAttribute("href",dt);return du;};_0.createScript=function(dt){var du;du=self.document.createElement("script");du.setAttribute("type","text/javascript");du.setAttribute("src",dt);return du;};_1.getEndWord$1=function(dt,du){var dv,dw;dv=W.REGEX$2("^([a-zA-Z_]\\w*)","g",dt.substring(du));return dv!=null&&dv.$==1?(dw=dv.$0,!cD.Equals(dw,null)&&dw.length===1)?cu.get(dv.$0,0):"":"";};_1.getStartWord$1=function(dt,du){var dv,dw;dv=W.REGEX$2("([a-zA-Z_]\\w*)$","g",cz.Substring(dt,0,du));return dv!=null&&dv.$==1?(dw=dv.$0,!cD.Equals(dw,null)&&dw.length===1)?cu.get(dv.$0,0):"":"";};_3=_2.Hoverable=cq.Class({Content:function(dt){return dt.on("mouseenter",function(){return cQ.AddClass(dt.elt,"hovering");}).on("mouseleave",function(){return cQ.RemoveClass(dt.elt,"hovering");});},Content$1:function(dt){return cR.Element("div",this.get_Attributes(),dt);},get_Attributes:function(){var dt,du;dt=this;return cv.ofArray([(du=cM.Const("hovering"),cS.DynamicPred("class",this.hover.get_View(),du)),cT.HandlerImpl("mouseenter",function(){return function(){return dt.hover.Set(true);};}),cT.HandlerImpl("mouseleave",function(){return function(){return dt.hover.Set(false);};})]);}},null,_3);_3.get_Demo$1=function(){return _3.New$3().Content(cR.Element("div",[cT.Create("style","flex-flow: column;")],[cR.TextNode("Hover over me!")]));};_3.Content$2112$81=cq.Curried3(function(dt,du,dv){return cQ.RemoveClass(dt.elt,"hovering");});_3.get_Attributes$2108$69=cq.Curried3(function(dt,du,dv){return dt.hover.Set(false);});_3.get_Attributes$2107$69=cq.Curried3(function(dt,du,dv){return dt.hover.Set(true);});_3.New$3=function(){return _3.New$2(cN.Create$1(false));};_3.New$2=function(dt){return new _3({hover:dt});};_2.hoverable$1=function(dt){return _3.New$3().Content(dt);};_4.addResizeObserver$1=function(dt,du){var dv,dw,dx,dy;try{dv=!(!a.ResizeObserver);}catch(dz){dv=false;}if(dv){dw=new a.ResizeObserver(dt);_4.set_observers$1(new cv.T({$:1,$0:dw,$1:_4.observers$1()}));dw.observe(du);}else{dx=_4.dimsChanged$1(du);ct.Start((dy=null,ct.Delay(function(){return ct.While(function(){return du.isConnected;},ct.Delay(function(){return ct.Bind(ct.Sleep(110),function(){return dx()?(dt(),ct.Zero()):ct.Zero();});}));})),null);}};_4.dimsChanged$1=function(dt){var du;du=[dt.getBoundingClientRect()];return function(){var dv;dv=dt.getBoundingClientRect();return cD.Equals(_4.domRect2Tuple$1(du[0]),_4.domRect2Tuple$1(dv))?false:(du[0]=dv,true);};};_4.domRect2Tuple$1=function(dt){return[dt.top,dt.left,dt.width,dt.height];};_4.observers$1=function(){cj.$cctor();return cj.observers;};_4.set_observers$1=function(dt){cj.$cctor();cj.observers=dt;};_7=_6.WcTabStripT=cq.Class({connectedCallback:function(){var dt,du,dv,dw;function dx(){var dy,dz,dA;dz=!du.hasAttribute("bottom");dA=cv.ofSeq(cs.delay(function(){return cs.collect(function(dB){var dC;dC=du.childNodes[dB-1];return cD.Equals(dC.nodeType,cU.ELEMENT_NODE)?[[dC.hasAttribute("tabname")?dC.getAttribute("tabname"):(function(dD){return function(dE){return dD("Tab "+a.String(dE));};}(a.id))(dB),dC]]:[];},cy.range(1,du.childNodes.length));}));while(dw.childNodes.length>0)dw.removeChild(dw.lastChild);dy=_6.tabStrip$1(dt.selected,dz,true,dA,cR.Element("slot",cv.T.Empty,cv.T.Empty));cW.LoadLocalTemplates("");cR.Run(dw,dy);}dt=this;!this.added?(du=this,dv=du.attachShadow({mode:"open"}),dw=self.document.createElement("div"),dv.appendChild(dw),dx(),du.addEventListener("DOMSubtreeModified",c.delayed$1(50,dx)),this.added=true):void 0;}},i,_7);_7.Constructor$1=function(){var dt,du;dt=(du=cX.construct(self.HTMLElement,[],this.__proto__.constructor),du);self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New.call(dt);return dt;};_7.New$1=cq.Ctor(function(){i.New.call(this);this.added=false;this.selected=cN.Create$1(1);(function(dt){return dt("WcTabStripT initializer");}(function(dt){cK.log(dt);}));},_7);_6.init$1=function(){cj.$cctor();return cj.init;};_6.tabStrip$2250$64=function(dt,du){return function(){return function(){return du.Set(dt+1);};};};_6.tabStrip$1=function(dt,du,dv,dw,dx){var dy;dy=cR.Element("div",[cT.Create("class",(((cq.Curried3(function(dz,dA,dB){return dz("tab-strip "+cr.toSafe(dA)+" "+cr.toSafe(dB));}))(a.id))(du?"top":"bottom"))(dv?"horizontal":"vertical"))],cv.ofSeq(cs.delay(function(){return cs.collect(function(dz){var dA;dA=dz[0];return[_3.New$3().Content(cR.Element("div",[cS.Dynamic("class",cM.Map(function(dB){return"tab"+(dB===dA+1?" selected":"");},dt.get_View())),cT.Create("draggable","true"),cT.HandlerImpl("click",function(){return function(){return dt.Set(dA+1);};})],[cR.TextNode(dz[1][0])]))];},cs.indexed(dw));})));return cR.Element("div",[cT.Create("class","tab-panel")],cv.ofSeq(cs.delay(function(){return cs.append(du?[dy]:[],cs.delay(function(){return cs.append([cR.Element("div",[cT.Create("class","tab-content")],[dx])],cs.delay(function(){return cs.append(!du?[dy]:[],cs.delay(function(){return cs.append([cR.Element("style",cv.T.Empty,cv.ofArray([cR.TextNode(_6.css$1())]))],cs.delay(function(){return[cR.Element("style",cv.T.Empty,cv.ofArray([cR.TextView(cM.Map(function(dz){return function(dA){return dz("\r\n                                              ::slotted(*              ) { display: none }\r\n                                              ::slotted(*:nth-child("+a.String(dA)+")) { display: grid }\r\n                                           ");};}(a.id),dt.get_View()))]))];}));}));}));}));})));};_6.css$1=function(){cj.$cctor();return cj.css;};_9=_8.WcSplitterT=cq.Class({connectedCallback:function(){var dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI;function dJ(dR){var dS,dT,dU,dV;dS=dA?["padding-left","padding-right","grid-column-gap"]:["padding-top","padding-bottom","grid-row-gap"];dT=a.parseFloat("0"+a.jQuery(dR.parentElement.parentElement).css(dS[0]));dU=a.parseFloat("0"+a.jQuery(dR.parentElement.parentElement).css(dS[1]));dD.Set(a.parseFloat("0"+a.jQuery(dR.parentElement.parentElement).css(dS[2])));dC[0]=dT+dU;dV=dt.getBoundingClientRect();return dA?dz?[dV.width,dV.height]:[-dV.width,dV.height]:dz?[dV.height,dV.width]:[-dV.height,dV.width];}function dK(dR){return dA?dR.clientX:dR.clientY;}function dL(dR){var dS,dT;dS=(dK(dR)-dG[0])*100/dB[0][0]+dF[0];dy.Set((dT=cD.Compare(dw,dS)===1?dw:dS,cD.Compare(dx,dT)===-1?dx:dT));}function dM(){if(dE[0]){dE[0]=false;self.removeEventListener("mousemove",dL,false);self.removeEventListener("mouseup",dM,false);}}function dN(dR){var dS,dT;if(!dE[0]){dE[0]=true;dF[0]=dy.Get();dG[0]=dK(dR);dB[0]=(dS=(dT=dH[0],dT==null?null:{$:1,$0:dJ(dT.$0)}),dS==null?[100,500]:dS.$0);self.addEventListener("mousemove",dL,false);self.addEventListener("mouseup",dM,false);dR.preventDefault();}}function dO(dR,dS,dT,dU){return[(dR-dS-dT)*dU/100,(dR-dS-dT)*(100-dU)/100];}function dP(dR,dS){return(((((cq.Curried(function(dT,dU,dV,dW,dX){return dT(" "+dU.toFixed(2)+"px "+dV.toFixed(2)+"px ; "+cr.toSafe(dW)+" : "+dX.toFixed(2)+"px; ");},5))(a.id))(dR))(dS))(dA?"height":"width"))(dB[0][1]);}function dQ(){var dR;dR=dH[0];dR==null?void 0:dB[0]=dJ(dR.$0);dy.Set(dy.Get());}if(!this.added){dt=this;du=dt.attachShadow({mode:"open"});dv=self.document.createElement("div");dw=dt.hasAttribute("min")?a.parseFloat(dt.getAttribute("min")):4;dx=dt.hasAttribute("max")?a.parseFloat(dt.getAttribute("max")):96;dy=cN.Create$1(dt.hasAttribute("value")?a.parseFloat(dt.getAttribute("value")):50);dz=!dt.hasAttribute("second");dA=dt.hasAttribute("vertical");dB=[[0,0]];dC=[0];dD=cN.Create$1(0);dE=[false];dF=[0];dG=[0];dH=[null];dI=(((((dA?_8.layoutVertical$1():_8.layoutHorizontal$1())(cM.Map(function(dR){var dS;dS=dO(dB[0][0],dD.Get(),dC[0],dR);return dP.apply(null,dS);},dy.get_View())))(function(){_4.addResizeObserver$1(dQ,dt);dQ();}))(function(dR){dH[0]={$:1,$0:dR};dQ();}))(function(dR){dN(dR);}))(cM.Map(function(dR){return function(dS){return dR(cr.prettyPrint(dS)+"px");};}(a.id),dD.get_View()));cW.LoadLocalTemplates("");cR.Run(dv,dI);du.appendChild(dv.firstChild);this.added=true;}}},i,_9);_9.Constructor$1=function(){var dt,du;dt=(du=cX.construct(self.HTMLElement,[],this.__proto__.constructor),du);self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New.call(dt);return dt;};_9.New$1=cq.Ctor(function(){i.New.call(this);this.added=false;(function(dt){return dt("WcSplitterT initializer");}(function(dt){cK.log(dt);}));},_9);_8.init$1=function(dt,du){var dv,dw,dx;dv=new _9.New$1();_8.set_layoutHorizontal$1(dt);_8.set_layoutVertical$1(du);dw="wcomp-splitter";dx=self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New;cK.log("defineWebComponent: "+dw);cY.setPrototypeOf(dx.prototype,self.HTMLElement.prototype);cY.setPrototypeOf(dx,self.HTMLElement);cY.setPrototypeOf(_9.Constructor$1.prototype,dx.prototype);self.customElements.define(dw,_9.Constructor$1);};_8.layoutVertical$1=function(){cj.$cctor();return cj.layoutVertical;};_8.set_layoutVertical$1=function(dt){cj.$cctor();cj.layoutVertical=dt;};_8.layoutHorizontal$1=function(){cj.$cctor();return cj.layoutHorizontal;};_8.set_layoutHorizontal$1=function(dt){cj.$cctor();cj.layoutHorizontal=dt;};$.New=function(dt,du){return{column:dt,lineNumber:du};};ba.New=function(dt,du,dv,dw){return{startColumn:dt,endColumn:du,startLineNumber:dv,endLineNumber:dw};};bb.New=function(dt,du,dv,dw,dx,dy){return{authority:dt,fragment:du,fsPath:dv,path:dw,query:dx,scheme:dy};};bc.New=function(dt,du){return{range:dt,uri:du};};bd.New=function(dt,du){return{matches:dt,range:du};};be.New=function(dt,du,dv){return{endColumn:dt,startColumn:du,word:dv};};bf.New=function(dt){return{uri:dt};};bg.New=function(dt,du){return{value:dt,isTrusted:du};};bh.New=function(dt,du,dv,dw,dx,dy){return{startColumn:dt,endColumn:du,startLineNumber:dv,endLineNumber:dw,severity:dx,message:dy};};bi.New=function(dt,du,dv){return{kind:dt,label:du,detail:dv};};bj.New=function(dt,du){return{contents:dt,range:du};};bk=_.Editor=cq.Class({},i,bk);bk.New=cq.Ctor(function(){i.New.call(this);},bk);bl.New=function(dt,du,dv,dw,dx,dy,dz){return{"var":dt,onChange:du,onRender:dv,editorO:dw,disabled:dx,options:dy,overrides:dz};};_.newVarO=function(dt){var du;du=_.newVar(cN.Lens(dt,function(dv){return dv==null?"":dv.$0;},function(dv,dw){return dv==null?null:{$:1,$0:dw};}));return _.disabled(cM.Map(function(dv){return dv==null;},dt.get_View()),du);};_.newText=function(dt){return _.newVar(cN.Create$1(dt));};_["var"]=function(dt){return dt["var"];};_.disabled=function(dt,du){return bl.New(du["var"],du.onChange,du.onRender,du.editorO,dt,du.options,du.overrides);};_.onRender=function(dt,du){return bl.New(du["var"],du.onChange,{$:1,$0:dt},du.editorO,du.disabled,du.options,du.overrides);};_.onChange=function(dt,du){return bl.New(du["var"],dt,du.onRender,du.editorO,du.disabled,du.options,du.overrides);};_.setVar=function(dt,du){return bl.New(dt,du.onChange,du.onRender,du.editorO,du.disabled,du.options,du.overrides);};_.render$2594$42=function(dt){return function(du){var dv;ct.Start((dv=null,ct.Delay(function(){return ct.Bind(_.loader(),function(){var dw,dx,dy;dw=(dx=du.parentElement,self.monaco.editor.create(dx,dt.options,dt.overrides));_4.addResizeObserver$1(function(){dw.layout();},du.parentElement);du.parentNode.removeChild(du);dt.editorO={$:1,$0:dw};dy=dt.onRender;dy==null?void 0:dy.$0(dw);W.bindVarEditor(function(dz){dw.onDidChangeModelContent(dz);},function(){return dw.getValue();},function(dz){dw.setValue(dz);},dt.onChange,dt["var"]);return ct.Zero();});})),null);};};_.render=function(dt){return cR.Element("div",[cT.OnAfterRenderImpl(function(du){var dv;ct.Start((dv=null,ct.Delay(function(){return ct.Bind(_.loader(),function(){var dw,dx,dy;dw=(dx=du.parentElement,self.monaco.editor.create(dx,dt.options,dt.overrides));_4.addResizeObserver$1(function(){dw.layout();},du.parentElement);du.parentNode.removeChild(du);dt.editorO={$:1,$0:dw};dy=dt.onRender;dy==null?void 0:dy.$0(dw);W.bindVarEditor(function(dz){dw.onDidChangeModelContent(dz);},function(){return dw.getValue();},function(dz){dw.setValue(dz);},dt.onChange,dt["var"]);return ct.Zero();});})),null);})],[]);};_.loader=function(){cj.$cctor();return cj.loader;};_.includes=function(){cj.$cctor();return cj.includes;};_.newVar=function(dt){return bl.New(dt,a.ignore,null,null,cM.Const(false),null,null);};W.rexGuid$1=function(){cj.$cctor();return cj.rexGuid;};W.REGEX$2=function(dt,du,dv){var dw;if(dv===null)return null;else try{dw=(new a.String(dv)).match(new a.RegExp(dt,du));return cD.Equals(dw,null)?null:!cD.Equals(dw,null)&&dw.length===0?null:{$:1,$0:dw};}catch(dx){return null;}};W.bindVarEditor=function(dt,du,dv,dw,dx){var dy,dz;dy=[0];dz=[0];dt(function(){var dA;dA=du();dx.Get()!==dA?(dy[0]=dy[0]+1,dx.Set(dA),dw()):void 0;});cM.Sink(function(){if(dy[0]>dz[0])dz[0]=dy[0];else if(du()!==dx.Get())dv(dx.Get());},dx.get_View());};bn.extractConfig=function(dt,du){var dv;dv=du.$0;return{$:0,$0:N.getSourceDir(dt,A.splitByChar$1("\n",dv)),$1:" --nologo --quiet "+N.extractDefines({$:0,$0:dv})};};bp=bo.Address=cq.Class({get_txt:function(){return this.$0;}},null,bp);bq.BRGetProcessId={$:1};bq.BRGetConnections={$:0};br.MsgRequestForEcho={$:5};br.MsgRequestForId={$:4};br.MsgFromBroker={$:3};br.MsgReply={$:2};br.MsgRequest={$:1};br.MsgInformation={$:0};bs.BMReceiverCantReply={$:4};bs.BMOnlyBrokerShouldUse={$:1};bs.BMOk={$:0};bt.Receiver={$:2};bt.Broker={$:1};bt.NoReply={$:0};bu.New=function(dt,du,dv,dw,dx,dy,dz){return{from:dt,destination:du,msgType:dv,subtype:dw,id:dx,payload:dy,replier:dz};};bv.FSharp={$:0};bw.FSStation={$:0};bx.JScript={$:0};bz=by.Handler=cq.Class({Cancel:function(dt,du){var dv;dv=this.waitingAgent;dv.mailbox.AddLast({$:3,$0:dt,$1:du});dv.resume();},Raise:function(dt,du){var dv;dv=this.waitingAgent;dv.mailbox.AddLast({$:2,$0:dt,$1:du});dv.resume();},Reply:function(dt,du){var dv;dv=this.waitingAgent;dv.mailbox.AddLast({$:1,$0:dt,$1:du});dv.resume();},Add:function(dt,du){var dv;dv=this.waitingAgent;dv.mailbox.AddLast({$:0,$0:dt,$1:du});dv.resume();}},i,bz);bz.New=cq.Ctor(function(dt){i.New.call(this);this.waitingAgent=D.fold(D.defHandler,function(du,dv){var dw,dx,dy;function dz(dA,dB,dC){var dD,dE;dD=(dE=cZ.TryFind(dA,du),dE==null?null:{$:1,$0:dB(dE.$0)});dD==null?dC():void 0;return du.Remove(dA);}return dv.$==1?(dw=dv.$1,dz(dv.$0,function(dA){dA[0](dw);},function(){dt(dw);})):dv.$==2?(dx=dv.$1,dz(dv.$0,function(dA){dA[1](dx);},a.ignore)):dv.$==3?(dy=dv.$1,dz(dv.$0,function(dA){dA[2](dy);},a.ignore)):du.Add(dv.$0,dv.$1);},new cO.New([]));},bz);bA=bo.WSMessagingClient=cq.Class({sendMsg:function(dt){var du,dv;du=this;dv=e.asyncResult();return dv.Run(dv.Delay(function(){return dt.replier.$===0?dv.Bind$1(du.sendAndForget(dt),function(){return dv.Return("");}):dv.ReturnFrom$1(du.sendGetReply(dt));}));},getProcessId:function(){var dt,du;dt=this;du=e.asyncResult();return du.Run(du.Delay(function(){var dv,dw;return du.Bind$1(dt.sendGetReply((dv=bo.MessageBrokerAddress(),(dw=c0.stringify((ck.j$9())(bq.BRGetProcessId)),bu.New(new bp({$:0,$0:""}),dv,br.MsgRequest,"",cF.NewGuid(),dw,bt.NoReply)))),function(dx){var dy;dy=(cl.j$7())(c0.parse(dx));return dy.$==1?du.Return(dy.$0):du.ReturnFrom({$:1,$0:new d({$:2,$0:{$:6,$0:(function(dz){return function(dA){return dz(cm.p$5(dA));};}(a.id))(dy)}})});});}));},getListeners:function(){var dt,du;dt=this;du=e.asyncResult();return du.Run(du.Delay(function(){var dv,dw;return du.Bind$1(dt.sendGetReply((dv=bo.MessageBrokerAddress(),(dw=c0.stringify((ck.j$9())(bq.BRGetConnections)),bu.New(new bp({$:0,$0:""}),dv,br.MsgRequest,"",cF.NewGuid(),dw,bt.NoReply)))),function(dx){var dy;dy=(cl.j$7())(c0.parse(dx));return dy.$==0?du.Return(dy.$0):du.ReturnFrom({$:1,$0:new d({$:2,$0:{$:6,$0:(function(dz){return function(dA){return dz(cm.p$5(dA));};}(a.id))(dy)}})});});}));},sendGetReply:function(dt){var du,dv;du=this;dv=e.asyncResult();return dv.Run(dv.Delay(function(){return dv.Bind$1(du.sendAndReply(bt.Receiver,dt),function(dw){var dx;return dv.Bind((dx=dw.msgType,dx.$==2?{$:0,$0:dw.payload}:dx.$==3?{$:1,$0:new d({$:2,$0:(cl.j$8())(c0.parse(dw.payload))})}:{$:1,$0:new d({$:2,$0:{$:5,$0:dw.msgType}})}),function(dy){return dv.Return(dy);});});}));},sendAndVerify:function(dt){var du,dv;du=this;dv=e.asyncResult();return dv.Run(dv.Delay(function(){return dv.Bind$1(du.sendAndReply(bt.Broker,dt),function(dw){var dx;return dv.Bind(dw.msgType.$==3?(dx=(cl.j$8())(c0.parse(dw.payload)),dx.$===0?{$:0,$0:null}:{$:1,$0:new d({$:2,$0:dx})}):{$:1,$0:new d({$:2,$0:{$:5,$0:dw.msgType}})},function(){return dv.Return();});});}));},sendAndReply:function(dt,du){var dv,dw;dv=this;dw=e.asyncResult();return dw.Run(dw.Delay(function(){return dw.Bind$1(dv.getServer(),function(dx){return p["AsyncResultBuilder.ReturnFrom"](dw,ct.FromContinuations(function(dy,dz,dA){var dB;dv.waiting.Add(du.id,[dy,dz,dA]);dv.postR(dx,dt,du);return dv.wsTimeout>0?ct.Start((dB=null,ct.Delay(function(){return ct.Bind(ct.Sleep(dv.wsTimeout),function(){dv.waiting.Raise(du.id,new c1.New$1((((cq.Curried3(function(dC,dD,dE){return dC("Did not receive reply in "+a.String(dD)+" seconds for Message: "+co.p(dE));}))(a.id))(dv.wsTimeout/1000>>0))(du)));return ct.Zero();});})),null):null;}));});}));},sendAndForget:function(dt){var du,dv;du=this;dv=e.asyncResult();return dv.Run(dv.Delay(function(){return dv.Bind$1(du.getServer(),function(dw){du.postR(dw,bt.NoReply,dt);return dv.Zero();});}));},postR:function(dt,du,dv){try{dt.FsRoot_Library2_WebSockets_IServer$Post(bo.replier(du,bo.from(this.clientAddress,dv)));}catch(dw){this.serverO=null;throw dw;}},getServer:function(){return this.checkServer.PostAndAsyncReply(function(dt){return[dt,null];},null);},connectToWebSocketServer:function(){var dt,du;dt=this;(function(dv){return dv("in connectToWebSocketServer");}(function(dv){cK.log(dv);}));du=null;return ct.Delay(function(){return ct.Bind(((dt.connectStateful(dt.wsEndPoint))(dt.clientId))(function(dv){var dw;dw=null;return ct.Delay(function(){return ct.Return([0,function(dx){return function(dy){var dz;dz=null;return ct.Delay(function(){return ct.Combine(ct.TryWith(ct.Delay(function(){return dy.$==2?((function(dA){return function(dB){return dA("WebSocket "+cr.toSafe(dB)+" connection open.");};}(function(dA){cK.log(dA);}))(dt.clientId),dt.serverO={$:1,$0:dv},ct.Zero()):dy.$==3?((function(dA){return function(dB){return dA("WebSocket "+cr.toSafe(dB)+" connection closed.");};}(function(dA){cK.log(dA);}))(dt.clientId),dt.close(),ct.Zero()):dy.$==1?((function(dA){return function(dB){return dA("WebSocket "+cr.toSafe(dB)+" connection error!");};}(function(dA){cK.log(dA);}))(dt.clientId),ct.Zero()):(dt.processMessage(dy.$0),ct.Zero());}),function(dA){(((cq.Curried3(function(dB,dC,dD){return dB("msg: "+cm.p$9(dC)+" \nexn:"+cr.prettyPrint(dD));}))(function(dB){cK.log(dB);}))(dy))(dA);return ct.Zero();}),ct.Delay(function(){return ct.Return(dx);}));});};}]);});}),function(){(function(dv){return dv("connectToWebSocketServer with server");}(function(dv){cK.log(dv);}));return ct.Zero();});});},processMessage:function(dt){var du,dv,dw,dx,dy,dB;dv=this;dw=dt.msgType;function dz(dC){dv.reply(dC);}function dA(dC){return ct.Return(dC);}switch(dw.$==2?0:dw.$==0?1:dw.$==1?2:dw.$==5?3:dw.$==4?4:0){case 0:this.processReply(dt);break;case 1:(((cq.Curried3(function(dC,dD,dE){return dC("Information from '"+cr.toSafe(dD)+"': "+cr.toSafe(dE));}))(function(dC){cK.log(dC);}))(dt.from.get_txt()))(((c3.Id())())(c0.parse(dt.payload)));break;case 2:dx=this.payloadProcessorO;dx!=null&&dx.$==1?ct.Start(ct.Bind(dv.mapPayloadWrap(dx.$0,dt),(dy=function(dC){return dz(bo.makeReply(dC));},function(dC){return dA(dy(dC));})),null):dt.replier.$===2?null:null;break;case 3:dv.reply(bo.msgType(br.MsgInformation,bo.mapPayload(a.id,dt)));break;case 4:dv.reply(bo.msgType(br.MsgInformation,(dB=bo.makeReply(dt),bu.New(dB.from,dB.destination,dB.msgType,dB.subtype,dB.id,c0.stringify(((c3.Id())())(this.clientId)),dB.replier))));break;}},mapPayloadWrap:function(dt,du){var dv;dv=null;return ct.Delay(function(){return ct.Bind(dt(du.payload),function(dw){return ct.Return(bo.mapPayload(function(){return dw;},du));});});},processReply:function(dt){this.waiting.Reply(dt.id,dt);},close:function(){var dt;dt=this.serverO;dt==null?void 0:(dt.$0.FsRoot_Library2_WebSockets_IServer$Close(),this.serverO=null);},reply:function(dt){var du;du=this.serverO;du==null?void 0:du.$0.FsRoot_Library2_WebSockets_IServer$Post(bo.destination(dt.from,bo.from(this.clientAddress,dt)));},set_Out:function(dt){this.out=dt;},SendMsg:function(dt){return this.sendMsg(dt);},get_ClientId:function(){return this.clientId;},get_EndPoint:function(){return this.wsEndPoint;},get_MBProcessId:function(){return this.getProcessId();},get_MBListeners:function(){return this.getListeners();},Dispose:function(){this.close();}},i,bA);bA.New=cq.Ctor(function(dt,du,dv){bA.New$1.call(this,cq.Curried3(function(dw,dx,dy){function dz(dB){}function dA(dB){return ct.Return(dB);}return ct.Bind(c7.ConnectStateful(function(dB){return c0.stringify((ck.j())(dB));},function(dB){return(cl.j())(c0.parse(dB));},c8.CreateRemote((((cq.Curried3(function(dB,dC,dD){return dB("ws://"+cr.toSafe(dC)+"?ClientId="+cr.toSafe(dD));}))(a.id))(dw))(dx),{$:1,$0:c5.JsonEncoding.Readable}),function(dB){var dC;return dy((dC={FsRoot_Library2_WebSockets_IServer$Post:function(dD){return dB.Post(dD);},FsRoot_Library2_WebSockets_IServer$Close:function(){return dB.get_Connection().close(1000);}},(i.New.call(dC),dC)));}),function(dB){return dA(dz(dB));});}),dt,du,dv);},bA);bA.New$1=cq.Ctor(function(dt,du,dv,dw){var dx,dy;dx=this;i.New.call(this);this.connectStateful=dt;this.clientId=du;this.wsEndPoint=(dy=bo.extractEndPoint()+"/ws",dw==null?dy:dw.$0);this.clientAddress=new bp({$:0,$0:this.clientId});this.wsTimeout=dv==null?60000:dv.$0;this.out=function(dz){return function(dA){return dz(cr.toSafe(dA));};}(function(dz){cK.log(dz);});this.serverO=null;this.payloadProcessorO=null;this.waiting=new bz.New(function(dz){(((cq.Curried3(function(dA,dB,dC){return dA("Reply from '"+cr.toSafe(dB)+"': "+cr.toSafe(dC));}))(function(dA){cK.log(dA);}))(dz.from.get_txt()))(dz.payload);});this.checkServer=D.callA(function(dz){c.print(dz);},function(){var dz;dz=null;return ct.Delay(function(){(function(dA){return dA("getServer");}(function(dA){cK.log(dA);}));return ct.Combine(dx.serverO==null?(function(dA){return dA("getServer Connecting");}(function(dA){cK.log(dA);}),ct.Bind(dx.connectToWebSocketServer(),function(){return ct.Bind(ct.Sleep(200),function(){return ct.Return(null);});})):ct.Zero(),ct.Delay(function(){return ct.Return(j.ofOption(function(){return new d({$:0,$0:"could not connect to Server"});},dx.serverO));}));});});},bA);bo.extractEndPoint=function(){return cu.get(cz.SplitChars(c9.href.substring(c9.href.indexOf("//")+2),["/"],0),0);};bo.makeReply=function(dt){return bo.replier(bt.NoReply,bo.msgType(br.MsgReply,dt));};bo.mapPayload=function(dt,du){return bu.New(du.from,du.destination,du.msgType,du.subtype,du.id,dt(du.payload),du.replier);};bo.msgId=function(dt,du){return bu.New(du.from,du.destination,du.msgType,du.subtype,dt,du.payload,du.replier);};bo.replier=function(dt,du){return bu.New(du.from,du.destination,du.msgType,du.subtype,du.id,du.payload,dt);};bo.subtype=function(dt,du){return bu.New(du.from,du.destination,du.msgType,dt,du.id,du.payload,du.replier);};bo.msgType=function(dt,du){return bu.New(du.from,du.destination,dt,du.subtype,du.id,du.payload,du.replier);};bo.destination=function(dt,du){return bu.New(du.from,dt,du.msgType,du.subtype,du.id,du.payload,du.replier);};bo.from=function(dt,du){return bu.New(dt,du.destination,du.msgType,du.subtype,du.id,du.payload,du.replier);};bo.MessageBrokerAddress=function(){cj.$cctor();return cj.MessageBrokerAddress;};bo.MessageBrokerId=function(){cj.$cctor();return cj.MessageBrokerId;};bD.New=function(dt,du){return{Code:dt,Message:du};};bE.New=function(dt,du,dv){return{File:dt,Line:du,Column:dv};};bF.New=function(dt,du,dv,dw){return{Name:dt,ReplacementText:du,Glyph:dv,GlyphChar:dw};};bG.New=function(dt,du,dv){return{Signature:dt,Comment:du,Footer:dv};};bH.New=function(dt,du,dv,dw){return{Name:dt,CanonicalTypeTextForSorting:du,Display:dv,Description:dw};};bI.New=function(dt,du,dv,dw){return{Tip:dt,TypeText:du,Parameters:dv,IsStaticArguments:dw};};bJ.New=function(dt,du){return{Name:dt,Type:du};};bK.New=function(dt,du){return{OutputType:dt,Parameters:du};};bL.New=function(dt,du,dv){return{Name:dt,CurrentParameter:du,Overloads:dv};};bM.New=function(dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD){return{FileName:dt,StartLine:du,StartColumn:dv,EndLine:dw,EndColumn:dx,IsFromDefinition:dy,IsFromAttribute:dz,IsFromComputationExpression:dA,IsFromDispatchSlotImplementation:dB,IsFromPattern:dC,IsFromType:dD};};bN.New=function(dt,du){return{Name:dt,Uses:du};};bO.New=function(dt,du){return{Name:dt,Overloads:du};};bP.New=function(dt,du,dv){return{Fsc:dt,Fsi:du,MSBuild:dv};};bQ.New=function(dt,du,dv,dw,dx,dy,dz,dA){return{FileName:dt,StartLine:du,EndLine:dv,StartColumn:dw,EndColumn:dx,Severity:dy,Message:dz,Subcategory:dA};};bR.New=function(dt,du){return{File:dt,Errors:du};};bS.New=function(dt){return{Kind:dt};};bT.New=function(dt,du,dv,dw,dx,dy,dz,dA){return{UniqueName:dt,Name:du,Glyph:dv,GlyphChar:dw,IsTopLevel:dx,File:dy,EnclosingEntity:dz,IsAbstract:dA};};bU.New=function(dt,du){return{Declaration:dt,Nested:du};};bV.New=function(dt,du,dv,dw,dx,dy){return{Namespace:dt,Name:du,Type:dv,Line:dw,Column:dx,MultipleNames:dy};};bW.New=function(dt,du){return{Name:dt,Qualifier:du};};bX.New=function(dt,du,dv){return{Opens:dt,Qualifies:du,Word:dv};};bY.New=function(dt){return{Text:dt};};bZ.symbolUseProject=function(dt,du,dv,dw){return bZ.FSAutocompleteCall("symboluseproject",function(dx){return dx.$==4?{$:1,$0:dx.$0}:null;},{$:3,$0:{FileName:dt,Line:du,Column:dv,Filter:dw}});};bZ.symbolUse=function(dt,du,dv,dw){return bZ.FSAutocompleteCall("symboluse",function(dx){return dx.$==4?{$:1,$0:dx.$0}:null;},{$:3,$0:{FileName:dt,Line:du,Column:dv,Filter:dw}});};bZ.helpText=function(dt){return bZ.FSAutocompleteCall("helptext",function(du){return du.$==2?{$:1,$0:du.$0}:null;},{$:6,$0:{Symbol:dt}});};bZ.declarations=function(dt,du,dv){return bZ.FSAutocompleteCall("declarations",function(dw){return dw.$==10?{$:1,$0:dw.$0}:null;},{$:1,$0:{FileName:dt,Lines:du,Version:dv}});};bZ.findDeclaration=function(dt,du,dv,dw){return bZ.FSAutocompleteCall("finddeclaration",function(dx){return dx.$==9?{$:1,$0:dx.$0}:null;},{$:3,$0:{FileName:dt,Line:du,Column:dv,Filter:dw}});};bZ.findTypeDecl=function(dt,du,dv,dw){return bZ.FSAutocompleteCall("findtypedeclaration",function(dx){return dx.$==9?{$:1,$0:dx.$0}:null;},{$:3,$0:{FileName:dt,Line:du,Column:dv,Filter:dw}});};bZ.completion=function(dt,du,dv,dw,dx,dy){return bZ.FSAutocompleteCall("completion",function(dz){return dz.$==3?{$:1,$0:dz.$0}:null;},{$:2,$0:{FileName:dv,SourceLine:dt,Line:dw,Column:dx,Filter:dy,IncludeKeywords:du}});};bZ.signatureData=function(dt,du,dv,dw){return bZ.FSAutocompleteCall("signatureData",function(dx){return dx.$==13?{$:1,$0:dx.$0}:null;},{$:3,$0:{FileName:dt,Line:du,Column:dv,Filter:dw}});};bZ.signature=function(dt,du,dv,dw){return bZ.FSAutocompleteCall("signature",function(dx){return dx.$==12?{$:1,$0:dx.$0}:null;},{$:3,$0:{FileName:dt,Line:du,Column:dv,Filter:dw}});};bZ.toolTip=function(dt,du,dv,dw){return bZ.FSAutocompleteCall("tooltip",function(dx){return dx.$==11?{$:1,$0:dx.$0}:null;},{$:3,$0:{FileName:dt,Line:du,Column:dv,Filter:dw}});};bZ.parseCode=function(dt,du,dv,dw){return bZ.FSAutocompleteCall("parse",function(dx){return dx.$==7?{$:1,$0:dx.$0}:null;},{$:0,$0:{FileName:dt,IsAsync:dv,Lines:du,Version:dw}});};bZ.FSAutocompleteCall=function(dt,du,dv){var dw;dw=e.asyncResult();return dw.Run(dw.Delay(function(){return dw.Bind$1((new c$.New()).Async("FSharpStation:FsRoot.Library2+FsAutoComplete.FSAutocompleteCall0:10255296",[dt,dv]),function(dx){var dy,dz;function dA(dB){return dB!=null;}dy=cu.partition(function(dB){return dA(du(dB));},dx);dz=dy[1];return dw.Bind(j.ofOption(function(){return new d({$:2,$0:dz});},cs.tryHead(cs.choose(du,dy[0]))),function(dB){return dw.Return([dB,dz]);});});}));};b1.annotationsV=function(){cj.$cctor();return cj.annotationsV;};b1.srcDir=function(){cj.$cctor();return cj.srcDir;};b1.set_srcDir=function(dt){cj.$cctor();cj.srcDir=dt;};b1.rootDir=function(){cj.$cctor();return cj.rootDir;};b1.set_rootDir=function(dt){cj.$cctor();cj.rootDir=dt;};b1.id=function(){cj.$cctor();return cj.id;};b2.expandParents=function(dt){b2.iterReader(w.op_BarGreaterGreater(S.pathRm(dt),function(du){var dv;dv=cH.op_Subtraction(b2.collapsedV().Get(),new cH.New(du));b2.collapsedV().Set(dv);}));};b2.toggleCollapse=function(dt){var du;du=((b2.collapsedV().Get().Contains(dt)?function(dv){return function(dw){return dw.Remove(dv);};}:function(dv){return function(dw){return dw.Add(dv);};})(dt))(b2.collapsedV().Get());b2.collapsedV().Set(du);};b2.newSnippet=function(dt){var du;du=S.New("","",null);b2.iterReader(w.op_BarGreaterGreater(b2.addSnippetRm(du),function(){b2.currentSnippetIdOV().Set({$:1,$0:du.snpId});}));};b2.addSnippetRm=function(dt){var du,dv,dw;b2.snippets().Append(dt);du=(dv=b2.hierarchy().Get(),cs.append([b2.treenode(dt.snpId)],dv));return w.op_BarGreaterGreater(w.op_BarGreaterGreater(w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(u.insertO((dw=b2.currentSnippetIdOV().Get(),dw==null?null:{$:1,$0:S.snippetORm(dw.$0)})),function(dx){return dx==null?null:a.id(dx.$0);}),function(dx){return dx!=null&&dx.$==1?U.moveToSibling2(true,dt.snpId,dx.$0.snpId,du):w.rtn(du);}),cu.ofSeq),function(dx){b2.hierarchy().Set(dx);});};b2.setSnippetsGen=function(dt,du){function dv(dw){return b2.treenode(dw.snpId);}b2.collapsedV().Set(du);b2.snippets().Set(dt);b2.updateGeneration();b2.iterReader(w.op_BarGreaterGreater(w.op_BarGreaterGreater(w.op_BarGreaterGreater(w.op_BarGreaterGreater(u.sequenceSeq(cs.map(function(dw){return w.op_BarGreaterGreater(S.parentORm(dw),function(dx){return dx==null?{$:1,$0:dw}:null;});},dt)),function(dw){return cs.choose(a.id,dw);}),function(dw){return cs.map(dv,dw);}),cu.ofSeq),function(dw){b2.hierarchy().Set(dw);}));};b2.updateGeneration=function(){var dt;b2.iterReader((dt=w.reader(),dt.Run(dt.Delay(function(){return dt.Bind(S.maxGenerationRm(),function(du){b2.generation().Set(du);return dt.Zero();});}))));};b2.moveNode=function(dt,du){b2.iterReader(w.op_BarGreaterGreater(w.op_BarGreaterGreater(U.moveToSibling2(false,dt,du,b2.hierarchy().Get()),cu.ofSeq),function(dv){b2.hierarchy().Set(dv);}));};b2.indentOut=function(dt){var du,dv;du=b2.currentSnippetIdOV().Get();du==null?void 0:b2.iterReader(w.op_BarGreaterGreater(w.op_BarGreaterGreater((dv=b2.hierarchy().Get(),U.outdentNode(b2.treenode(du.$0),dv)),cu.ofSeq),function(dw){b2.hierarchy().Set(dw);}));};b2.indentIn=function(dt){var du,dv;du=b2.currentSnippetIdOV().Get();du==null?void 0:b2.iterReader(w.op_BarGreaterGreater(w.op_BarGreaterGreater((dv=b2.hierarchy().Get(),U.indentNode(b2.treenode(du.$0),dv)),cu.ofSeq),function(dw){b2.hierarchy().Set(dw);}));};b2.deleteCurrentSnippet=function(dt){var du,dv,dw;du=b2.currentSnippetIdOV().Get();du==null?void 0:(dv=du.$0,b2.iterReader(w.op_BarGreaterGreater(w.op_BarGreaterGreater(w.op_BarGreaterGreater((dw=b2.hierarchy().Get(),U.removeNodeOutdentChildren(b2.treenode(dv),dw)),cu.ofSeq),function(dx){b2.hierarchy().Set(dx);}),function(){b2.snippets().RemoveByKey(dv);})));};b2.expandClassW=function(dt){var du;du=b2.snippets().v;return cM.Map2(function(){return b2.runReader(b2.handleError,b2.expandClassRm(dt));},b2.collapsedV().get_View(),du);};b2.expandClassRm=function(dt){return w.op_GreaterGreaterEquals(S.childrenRm(dt),function(du){return cs.isEmpty(du)?w.rtn(""):w.op_BarGreaterGreater(b2.treenode(dt).isExpandedRm(),function(dv){return dv?"expanded":"collapsed";});});};b2.togglePredecessor=function(dt){var du,dv;du=cN.Lens(b2.currentSnippetV(),function(dw){return dw.snpPredIds;},function(dw,dx){return Q.New(dw.snpId,dw.snpName,dw.snpContent,dw.snpParentIdO,dx,dw.snpProperties,dw.snpGeneration);});du.Set((dv=du.Get(),((du.Get().Contains(dt)?function(dw){return function(dx){return dx.Remove(dw);};}:function(dw){return function(dx){return dx.Add(dw);};})(dt))(dv)));b2.clearPredsCache();};b2.isIncludedPredecessorW=function(dt){return cM.Map(function(du){return b2.runReader(function(){return false;},w.op_BarGreaterGreater(S.uniquePredsRm(du),function(dv){return cs.contains(dt,dv);}));},b2.codeSnippetW());};b2.isIndirectPredecessorW=function(dt){return cM.Map(function(du){return b2.runReader(function(){return false;},w.op_BarGreaterGreater(S.uniquePredsRm(du),function(dv){return cs.contains(dt,dv);}));},b2.currentSnippetW());};b2.treenode=function(dt){return V.New(function(){return dt;},function(){return w.rtn(!b2.collapsedV().Get().Contains(dt));},function(){return w.rtn(true);},function(){function du(dv){return b2.treenode(dv.snpId);}return w.op_BarGreaterGreater(S.childrenRm(dt),function(dv){return cs.map(du,dv);});},function(){return S.pathRm(dt);},function(){function du(dv){return dv.snpParentIdO;}return w.op_BarGreaterGreater(w.op_BarGreaterGreater(S.snippetORm(dt),function(dv){return dv==null?null:du(dv.$0);}),function(dv){return dv==null?null:{$:1,$0:b2.treenode(dv.$0)};});},function(du){return w.op_BarGreaterGreater(b2.setChildrenRm(dt,du),function(){return b2.treenode(dt);});});};b2.setChildrenRm=function(dt,du){var dv;dv=w.reader();return dv.Run(dv.Delay(function(){var dw,dx,dy,dz,dA,dB;dw=cu.map(function(dC){return dC.id();},du);cs.iter(function(dC){b2.setSnippet(dC);},cs.map(function(dC){return Q.New(dC.snpId,dC.snpName,dC.snpContent,{$:1,$0:dt},dC.snpPredIds,dC.snpProperties,dC.snpGeneration);},cs.filter(function(dC){return!cD.Equals(dC.snpParentIdO,{$:1,$0:dt})&&cu.contains(dC.snpId,dw);},b2.snippets())));cs.iter(function(dC){b2.setSnippet(dC);},cs.map(function(dC){return Q.New(dC.snpId,dC.snpName,dC.snpContent,null,dC.snpPredIds,dC.snpProperties,dC.snpGeneration);},cs.filter(function(dC){return cD.Equals(dC.snpParentIdO,{$:1,$0:dt})&&!cu.contains(dC.snpId,dw);},b2.snippets())));b2.clearPredsCache();dx=cu.partition(function(dC){return b2.isDescendantOf(dt,dC.snpId);},cu.ofSeq((b2.snippets())["var"].Get()));dy=dx[1];dz=dx[0];dA=cu.findIndex(function(dC){return cD.Equals(dC.snpId,dt);},dy);dB=cu.ofSeq(cs.delay(function(){return cs.append(cA.array(dy,{$:1,$0:0},{$:1,$0:dA}),cs.delay(function(){return cs.append(cs.collect(function(dC){return cs.append([cs.find(function(dD){return cD.Equals(dD.snpId,dC);},dz)],cs.delay(function(){return cs.filter(function(dD){return b2.isDescendantOf(dC,dD.snpId);},dz);}));},dw),cs.delay(function(){return cA.array(dy,{$:1,$0:dA+1},null);}));}));}));b2.snippets().Set(dB);return dv.Zero();}));};b2.SaveAsClassW=function(){cj.$cctor();return cj.SaveAsClassW;};b2.hasChangedW=function(dt){return cM.Map(function(du){return du<dt.snpGeneration;},b2.generation().get_View());};b2.codeStartsW=function(){cj.$cctor();return cj.codeStartsW;};b2.FsCodeW=function(){cj.$cctor();return cj.FsCodeW;};b2.codeAndStartsW=function(){cj.$cctor();return cj.codeAndStartsW;};b2.getHierarchyW=function(){cj.$cctor();return cj.getHierarchyW;};b2.findSnippetV=function(dt){return new da.New(b2.findSnippetW(dt),function(du){b2.setSnippet(du);});};b2.findSnippetW=function(dt){return cM.Map(function(du){var dv;dv=S.defaultSnippet();return du==null?dv:du.$0;},b2.snippets().TryFindByKeyAsView(dt));};b2.codeSnippetClassW=function(dt){return cM.Map(function(du){return cD.Equals({$:1,$0:dt},du)?"codeSnippet":"";},b2.codeSnippetIdOV().get_View());};b2.selectedClassW=function(dt){return cM.Map(function(du){return cD.Equals({$:1,$0:dt},du)?"selected":"";},b2.currentSnippetIdOV().get_View());};b2.currentSnippetV=function(){cj.$cctor();return cj.currentSnippetV;};b2.codeSnippetW=function(){cj.$cctor();return cj.codeSnippetW;};b2.currentSnippetW=function(){cj.$cctor();return cj.currentSnippetW;};b2.CurrentSnippetIdW=function(){cj.$cctor();return cj.CurrentSnippetIdW;};b2.isDescendantOf=function(dt,du){var dv,dw,dx;return cD.Equals(du,dt)?false:(dv=(dw=(b2.getParentIdO())(du),dw==null?null:{$:1,$0:(dx=dw.$0,cD.Equals(dx,dt)||b2.isDescendantOf(dt,dx))}),dv==null?false:dv.$0);};b2.getParentIdO=function(){cj.$cctor();return cj.getParentIdO;};b2.getParentIdONotMemo=function(dt){var du;du=b2.snippets().TryFindByKey(dt);return du==null?null:du.$0.snpParentIdO;};b2.getSnippetsGen=function(){return[(b2.snippets())["var"].Get(),b2.generation().Get(),b2.collapsedV().Get()];};b2.setSnippet=function(dt){if(!cD.Equals(dt.snpId.get_Id(),"00000000-0000-0000-0000-000000000000"))b2.snippets().Append(Q.New(dt.snpId,dt.snpName,dt.snpContent,dt.snpParentIdO,dt.snpPredIds,dt.snpProperties,b2.generation().Get()+1));};b2.setCurrentSnippetIdO=function(dt){b2.currentSnippetIdOV().Set(dt);};b2.runReader=function(dt,du){return j.defaultWith(dt,b2.runReaderResult(du));};b2.runReaderResult=function(dt){return u.run(b2.snippetsColl(),dt);};b2.iterReader=function(dt){u.iter(function(du){b2.handleError(du);},a.ignore,b2.snippetsColl(),dt);};b2.handleError=function(dt){throw new a.Error(a.String(dt));};b2.snippetsColl=function(){return R.New(b2.generation().Get(),(b2.snippets())["var"].Get(),function(dt){return b2.snippets().TryFindByKey(dt);},b2.predsCache,b2.reducCache,b2.prepCode);};b2.prepCode=function(dt){return cz.Replace(cz.Replace(dt.snpContent,"##"+"FSHARPSTATION_ID"+"##",b1.id()),"##"+"FSHARPSTATION_ENDPOINT"+"##",self.location.href);};b2.clearPredsCache=function(){(b2.clearPreds())();(b2.clearReduc())();(b2.clearParent())();};b2.clearParent=function(){cj.$cctor();return cj.clearParent;};b2.parentCache=function(){cj.$cctor();return cj.parentCache;};b2.clearReduc=function(){cj.$cctor();return cj.clearReduc;};b2.reducCache=function(){cj.$cctor();return cj.reducCache;};b2.clearPreds=function(){cj.$cctor();return cj.clearPreds;};b2.predsCache=function(){cj.$cctor();return cj.predsCache;};b2.collapsedV=function(){cj.$cctor();return cj.collapsedV;};b2.codeSnippetIdOV=function(){cj.$cctor();return cj.codeSnippetIdOV;};b2.currentSnippetIdOV=function(){cj.$cctor();return cj.currentSnippetIdOV;};b2.generation=function(){cj.$cctor();return cj.generation;};b2.hierarchy=function(){cj.$cctor();return cj.hierarchy;};b2.snippets=function(){cj.$cctor();return cj.snippets;};b4.DragNone={$:0};b3.getDragNIdO=function(dt){var du;return b3.drag().$==1&&(!cD.Equals(b3.drag().$0,dt)&&(du=b3.drag().$0,true))?{$:1,$0:du}:null;};b3.setDragNode=function(dt){b3.set_drag({$:1,$0:dt});};b3.setDragNone=function(){b3.set_drag(b4.DragNone);};b3.drag=function(){cj.$cctor();return cj.drag;};b3.set_drag=function(dt){cj.$cctor();cj.drag=dt;};b5.TemplatesFileName=function(){cj.$cctor();return cj.TemplatesFileName;};b5.rootdir=function(){cj.$cctor();return cj.rootdir;};b6.render=function(){var dt,du,dv,dw;return(dt=(du=b6.snippets(),de.Make().WithHole({$:0,$0:"snippets",$1:du})),(dv=df.CompleteHoles(dt.k,dt.h,[]),(dw=new dg.New(dv[1],cn.snippetlist(dv[0])),(dt.i=dw,dw)))).get_Doc();};b6.snippets$4039$40=function(dt){return function(du){var dv;du.Event.preventDefault();dv=b3.getDragNIdO(dt);dv==null?void 0:b2.moveNode(dv.$0,dt);};};b6.snippets$4038$40=function(dt){return function(du){if(b3.getDragNIdO(dt)!=null)du.Event.preventDefault();};};b6.snippets$4037$40=function(dt){return function(du){b3.setDragNode(dt);du.Event.stopPropagation();};};b6.snippets$4036$40=function(dt){return function(){b2.toggleCollapse(dt);};};b6.snippets$4035$40=function(dt){return function(){b2.togglePredecessor(dt);};};b6.snippets$4034$40=function(dt){var du;du=cM.Map(function(dv){return""!==dv;},b2.selectedClassW(dt));return function(dv){return b6.scrollIntoView(du,dv);};};b6.snippets$4033$40=function(dt){return function(){b2.setCurrentSnippetIdO({$:1,$0:dt});};};b6.snippets=function(){function dt(du,dv){var dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP;function dQ(dR){return dR?"ErrorMsg":"";}dw=(dx=cM.get_Do(),cM.Bind(function(dR){return cM.Bind(function(dS){return cM.Const((dS?"*":"")+S.snippetName(dR.snpName,dR.snpContent));},b2.hasChangedW(dR));},b2.findSnippetW(du)));dy=cM.Apply(cM.Map2(function(dR,dS){return function(dT){return dR.snpPredIds.Contains(du)?"direct-predecessor":dS?"indirect-predecessor":dT?"included-predecessor":"";};},b2.currentSnippetV().get_View(),b2.isIndirectPredecessorW(du)),b2.isIncludedPredecessorW(du));dz=(dA=b1.annotationsV().get_View(),cM.Map((dB=(dC=(dD=du.get_Id(),a.String(dD)),function(dR){return A.contains$1(dC,dR);}),function(dR){return dQ(dB(dR));}),dA));return(dE=(dF=(dG=(dH=(dI=(dJ=(dK=(dL=cM.Map(function(dR){return""!==dR;},b2.selectedClassW(du)),function(dR){return b6.scrollIntoView(dL,dR);}),(dM=(dN=b2.expandClassW(du),de.Make().WithHole({$:2,$0:"name",$1:dw}).WithHole({$:1,$0:"indent",$1:a.String(dv)}).WithHole({$:2,$0:"parent",$1:dN})).WithHole({$:2,$0:"predecessor",$1:dy}).WithHole({$:2,$0:"selected",$1:cM.Map2(function(dR,dS){return cz.concat(" ",cv.ofArray([dR,dS]));},b2.selectedClassW(du),b2.codeSnippetClassW(du))}).WithHole({$:2,$0:"errormsg",$1:dz}),dM.WithHole(df.EventQ2(dM.k,"select",function(){return dM.i;},function(){b2.setCurrentSnippetIdO({$:1,$0:du});}))).WithHole({$:7,$0:"afterrender",$1:dK})),dJ.WithHole(df.EventQ2(dJ.k,"togglepred",function(){return dJ.i;},function(){b2.togglePredecessor(du);}))),dI.WithHole(df.EventQ2(dI.k,"togglecollapse",function(){return dI.i;},function(){b2.toggleCollapse(du);}))),dH.WithHole(df.EventQ2(dH.k,"drag",function(){return dH.i;},function(dR){b3.setDragNode(du);dR.Event.stopPropagation();}))),dG.WithHole(df.EventQ2(dG.k,"dragover",function(){return dG.i;},function(dR){if(b3.getDragNIdO(du)!=null)dR.Event.preventDefault();}))),dF.WithHole(df.EventQ2(dF.k,"drop",function(){return dF.i;},function(dR){var dS;dR.Event.preventDefault();dS=b3.getDragNIdO(du);dS==null?void 0:b2.moveNode(dS.$0,du);}))),(dO=df.CompleteHoles(dE.k,dE.h,[]),(dP=new dg.New(dO[1],cn.snippet(dO[0])),(dE.i=dP,dP)))).get_Doc();}return cR.Convert(function(du){return dt(du[0],du[1]);},b2.getHierarchyW());};b6.scrollIntoView=function(dt,du){cM.Sink(function(dv){if(dv)du.scrollIntoViewIfNeeded();},dt);};b7.render$4076$34=function(){return function(){b7.addProperty();};};b7.render=function(){var dt,du,dv,dw,dx;return(dt=(du=(dv=b7.properties(),de.Make().WithHole({$:0,$0:"properties",$1:dv})),du.WithHole(df.EventQ2(du.k,"addproperty",function(){return du.i;},function(){b7.addProperty();}))),(dw=df.CompleteHoles(dt.k,dt.h,[]),(dx=new dg.New(dw[1],cn.propertytable(dw[0])),(dt.i=dx,dx)))).get_Doc();};b7.properties$4069$33=function(dt){return function(){b7.remProperty(dt);};};b7.properties=function(){var dt;function du(dw,dx){cu.set(dt.Get(),dw,[dx,(cu.get(dt.Get(),dw))[1]]);return dt.Set(dt.Get());}function dv(dw,dx){cu.set(dt.Get(),dw,[(cu.get(dt.Get(),dw))[0],dx]);return dt.Set(dt.Get());}dt=cN.Lens(b2.currentSnippetV(),function(dw){return dw.snpProperties;},function(dw,dx){return Q.New(dw.snpId,dw.snpName,dw.snpContent,dw.snpParentIdO,dw.snpPredIds,dx,dw.snpGeneration);});return cR.Convert(function(dw){var dx,dy,dz,dA,dB,dC;dx=new da.New(cM.Map(function(dD){return(cu.get(dD,dw))[0];},dt.get_View()),function(dD){return du(dw,dD);});dy=new da.New(cM.Map(function(dD){return(cu.get(dD,dw))[1];},dt.get_View()),function(dD){return dv(dw,dD);});return(dz=(dA=de.Make().WithHole({$:8,$0:"name",$1:dx}).WithHole({$:8,$0:"value",$1:dy}),dA.WithHole(df.EventQ2(dA.k,"remove",function(){return dA.i;},function(){b7.remProperty(dw);}))),(dB=df.CompleteHoles(dz.k,dz.h,[["name",0],["value",0]]),(dC=new dg.New(dB[1],cn.property(dB[0])),(dz.i=dC,dC)))).get_Doc();},cM.Map(function(dw){return cu.ofSeq(cy.range(0,cu.length(dw)-1));},dt.get_View()));};b7.remProperty=function(dt){var du;b2.currentSnippetV().Set((du=b2.currentSnippetV().Get(),Q.New(du.snpId,du.snpName,du.snpContent,du.snpParentIdO,du.snpPredIds,cA.array(b2.currentSnippetV().Get().snpProperties,{$:1,$0:0},{$:1,$0:dt-1}).concat(cA.array(b2.currentSnippetV().Get().snpProperties,{$:1,$0:dt+1},null)),du.snpGeneration)));};b7.addProperty=function(){var dt;b2.currentSnippetV().Set((dt=b2.currentSnippetV().Get(),Q.New(dt.snpId,dt.snpName,dt.snpContent,dt.snpParentIdO,dt.snpPredIds,b2.currentSnippetV().Get().snpProperties.concat([["",""]]),dt.snpGeneration)));};b9=b8.HoverProvider=cq.Class({provideHover:function(dt,du,dv){var dw;return X.ofAsyncResult((dw=e.asyncResult(),dw.Run(dw.Delay(function(){var dx;dx=b8.getIndentAndFirst();return dw.Bind$1(bZ.toolTip(b8.fileName(),du.lineNumber+dx[1],du.column+dx[0],""),function(dy){return p["AsyncResultBuilder.Bind"](dw,b8.overDescriptions(dy[0]),function(dz){return dw.Return(bj.New(cu.ofSeq(cs.map(function(dA){return bg.New((c.print(dA),dA),true);},dz)),null));});});}))));}},i,b9);b9.New=cq.Ctor(function(dt){i.New.call(this);},b9);b_=b8.CompletionItemProvider=cq.Class({resolveCompletionItem:function(dt,du){var dv;function dw(dy){return dy.$==1?cy.FailWith((function(dz){return function(dA){return dz(cm.p$10(dA));};}(a.id))(dy.$0)):dy.$0;}function dx(dy){return ct.Return(dy);}return di.OfAsync(ct.Bind((dv=e.asyncResult(),dv.Run(dv.Delay(function(){return dv.Bind$1(bZ.helpText(dt.label),function(dy){return dv.Return(bi.New(dt.kind,dt.label,cz.concat("\n",cs.collect(function(dz){return cv.ofSeq(cs.delay(function(){return cs.append(!(!dz.Signature)?[dz.Signature]:[],cs.delay(function(){return cs.append(!(!dz.Comment)?[dz.Comment]:[],cs.delay(function(){return!(!dz.Footer)?[dz.Footer]:[];}));}));}));},cs.collect(a.id,dy[0].Overloads)))));});}))),function(dy){return dx(dw(dy));}));},provideCompletionItems:function(dt,du,dv,dw){var dx;function dy(dA){return dA.$==1?cy.FailWith((function(dB){return function(dC){return dB(cm.p$10(dC));};}(a.id))(dA.$0)):dA.$0;}function dz(dA){return ct.Return(dA);}return di.OfAsync(ct.Bind((dx=e.asyncResult(),dx.Run(dx.Delay(function(){var dA,dB;dA=b8.getIndentAndFirst();dB=dA[0];return dx.Bind$1(bZ.completion(cz.replicate(dB," ")+dt.getLineContent(du.lineNumber),true,b8.fileName(),du.lineNumber+dA[1],du.column+dB,"Contains"),function(dC){return dx.Return(cu.map(function(dD){return bi.New(b8.convertGlyphChar(dD.GlyphChar),dD.Name,"");},dC[0]));});}))),function(dA){return dz(dy(dA));}));}},i,b_);b_.New=cq.Ctor(function(dt){i.New.call(this);},b_);b$=b8.DefinitionProvider=cq.Class({provideDefinition:function(dt,du,dv){var dw;function dx(dz){return dz.$==1?cy.FailWith((function(dA){return function(dB){return dA(cm.p$10(dB));};}(a.id))(dz.$0)):dz.$0;}function dy(dz){return ct.Return(dz);}return di.OfAsync(ct.Bind((dw=e.asyncResult(),dw.Run(dw.Delay(function(){var dz;dz=b8.getIndentAndFirst();return dw.Bind$1(bZ.findDeclaration(b8.fileName(),du.lineNumber+dz[1],du.column+dz[0],""),function(dA){var dB,dC,dD,dE,dF,dG,dH,dI;dB=dA[0];dC=b8.getSnipIdIndentAndFirst(dB.Line);dD=dC[0];dE=dC[1];dF=dC[2];dG=(dH="snpId:"+(dI=dD.get_Id(),a.String(dI)),self.monaco.Uri.parse(dH));b8.getSnippetModel(dD);return dw.Return(bc.New(ba.New(dB.Column-dE,dB.Column-dE,dB.Line-dF,dB.Line-dF),dG));});}))),function(dz){return dy(dx(dz));}));}},i,b$);b$.New=cq.Ctor(function(dt){i.New.call(this);},b$);ca.New=function(dt,du){return{fontSize:dt,lineHeight:du};};cb.New=function(dt,du){return{setEditor:dt,createModelReference:du};};b8["goto"]=function(dt,du,dv){var dw;dw=null;return ct.Delay(function(){var dx,dy;dx=(dy=b8.editorConfigO(),dy==null?null:dy.$0.editorO);return dx!=null&&dx.$==1?ct.Bind(b8.gotoEditor(dx.$0,dt,du,dv),function(){return ct.Return(null);}):ct.Zero();});};b8.getEditorConfigO=function(){var dt;dt={$:1,$0:b8.monacoNew(cN.Lens(b2.currentSnippetV(),function(du){return du.snpContent;},function(du,dv){return Q.New(du.snpId,du.snpName,dv,du.snpParentIdO,du.snpPredIds,du.snpProperties,du.snpGeneration);}),{$:1,$0:cM.Map2(b8.transformAnnotations,b2.currentSnippetW(),b1.annotationsV().get_View())},null,null)};b8.set_editorConfigO(dt);return dt;};b8.editorConfigO=function(){cj.$cctor();return cj.editorConfigO;};b8.set_editorConfigO=function(dt){cj.$cctor();cj.editorConfigO=dt;};b8.parse=function(dt,du){var dv;m.iterA(function(dw){c.print(dw);},function(){c.print();},(dv=e.asyncResult(),dv.Run(dv.Delay(function(){var dw,dx;dw="Parsing...\n"+A.skipFirstLine$1(b1.annotationsV().Get());b1.annotationsV().Set(dw);b8.startsV().Set(du);dx=A.splitByChar$1("\n",dt);b8.set_fileName(N.getSourceDir(b1.srcDir(),dx)+"/"+b1.id()+".fsx");return dv.Bind$1(bZ.parseCode(b8.fileName(),dx,true,0),function(dy){var dz;dz=cz.concat("\n",cs.append(cv.ofArray(["Parsed!"]),cs.map(function(dA){var dB,dC,dD,dE,dF;function dG(dH,dI){return dA.StartLine>dI[1]&&dA.StartLine<=dI[2];}dB=(dC=cs.tryFind(function(dH){return dG(dH[0],dH[1]);},du),(b8.defaultStart())(dC));dD=dB[1][0];dE=dB[1][1];return((((((((((cq.Curried(function(dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ){return dH(cr.toSafe(dI)+" ("+a.String(dJ)+", "+a.String(dK)+") - ("+a.String(dL)+", "+a.String(dM)+") "+cr.toSafe(dN)+"("+cr.toSafe(dO)+") \""+cr.toSafe(dP)+": "+cr.toSafe(dQ)+"\".");},10))(a.id))(dA.Severity==="Error"?"Err":"Warn"))(dA.StartLine-dE))(dA.StartColumn-dD))(dA.EndLine-dE))(dA.EndColumn-dD))(dB[0][1]))((dF=dB[0][0].get_Id(),a.String(dF))))(dA.Subcategory))(dA.Message);},dy[0].Errors)));b1.annotationsV().Set(dz);cs.iter(function(dA){c.print(dA);},dy[1]);return dv.Zero();});}))));};b8.monacoNew=function(dt,du,dv,dw){var dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM;dK=_.newVar(dt);dC=dK.editorO;dD=b8.newPojo([["fontSize",12],["lineHeight",14]]);dL=a.require("vs/editor/standalone/browser/standaloneServices");dM=new dL.StaticServices.codeEditorService._factory();dM.openCodeEditor=b8.openCodeEditor;dJ=dM;dI=["codeEditorService",dJ];dG=[dI,["textModelResolverService",b8.textModelResolverService()]];dE=b8.newPojo(dG);dy=bl.New(dK["var"],dK.onChange,dK.onRender,dC,dK.disabled,dD,dE);return _.onRender(function(dN){var dO,dP,dQ,dR;function dS(dW,dX,dY){return dP.provideHover(dW,dX,dY);}function dT(dW,dX,dY,dZ){return dQ.provideCompletionItems(dW,dX,dY,dZ);}function dU(dW,dX){return dQ.resolveCompletionItem(dW,dX);}function dV(dW,dX,dY){return dR.provideDefinition(dW,dX,dY);}dO=dN.getModel();self.monaco.editor.setModelLanguage(dO,"fsharp");self.monaco.editor.setTheme("vs");dP=new b9.New(dN);dQ=new b_.New(dN);dR=new b$.New(dN);c.print(function(dW){return dS(dW[0],dW[1],dW[2]);});c.print(function(dW){return dT(dW[0],dW[1],dW[2],dW[3]);});c.print(function(dW){return dU(dW[0],dW[1]);});c.print(function(dW){return dV(dW[0],dW[1],dW[2]);});self.monaco.languages.registerHoverProvider("fsharp",dP);self.monaco.languages.registerCompletionItemProvider("fsharp",dQ);self.monaco.languages.registerDefinitionProvider("fsharp",dR);du==null?void 0:cM.Sink(function(dW){var dX;dX=dN.getModel();self.monaco.editor.setModelMarkers(dX,"annotations",dW);},du.$0);},dy);};b8.textModelResolverService=function(){var dt;dt=null;return cb.New(function(du){dt={$:1,$0:du};},function(du){var dv;return di.OfAsync((dv=null,ct.Delay(function(){var dw,dx,dy,dz;dy=b8.getSnippetModel(du);dz=self.require("vs/base/common/lifecycle");dx=new dz.ImmortalReference(dy);return ct.Return(dx);})));});};b8.openCodeEditor=function(dt,du,dv){var dw;return di.OfAsync((dw=null,ct.Delay(function(){var dx,dy;dx=dt.resource.path;dy=(B.Guid$1())(dx);return dy!=null&&dy.$==1?ct.Bind(b8.gotoEditor(du,new P({$:0,$0:dy.$0}),dt.options.selection.startLineNumber,dt.options.selection.startColumn),function(){return ct.Return(du);}):ct.Return(null);})));};b8.gotoEditor=function(dt,du,dv,dw){var dx;dx=null;return ct.Delay(function(){b2.expandParents(du);b2.setCurrentSnippetIdO({$:1,$0:du});return ct.Bind(ct.Sleep(200),function(){dt.focus();dt.setPosition($.New(dw,dv));dt.revealPositionInCenter($.New(dw,dv));return ct.Zero();});});};b8.newPojo=function(dt){var du,dv;function dw(dy,dz){return function(dA){return b8.addProp(dy,dz,dA);};}function dx(dy){}du={};cs.iter((dv=function(dy){return(function(dz){return dw(dz[0],dz[1]);}(dy))(du);},function(dy){return dx(dv(dy));}),dt);return du;};b8.addProp=function(dt,du,dv){dv[dt]=du;return dv;};b8.transformAnnotations=function(dt,du){var dv,dw;function dx(dy,dz,dA,dB,dC,dD,dE){var dF;return!cD.Equals((dF=(B.parseGuidO$1())(dD),dF==null?null:{$:1,$0:new P({$:0,$0:dF.$0})}),{$:1,$0:dt.snpId})?null:{$:1,$0:bh.New(dA,dC,dz,dB,dy==="Err"?8:dy==="Warn"?4:dy==="Hint"?1:2,dE)};}dv="(Err|Warn|Info|Hint) \\((\\d+)\\,\\s*(\\d+)\\) - \\((\\d+)\\,\\s*(\\d+)\\).*\\("+W.rexGuid$1()+"\\) \"([^\"]+?)\"\\.";return cu.choose(function(dy){return dx(dy[0],dy[1],dy[2],dy[3],dy[4],dy[5],dy[6]);},cu.choose(function(dy){var dz,dA,dB;return(dA=W.REGEX$2(dv,"",dy),dA!=null&&dA.$==1&&((dB=dA.$0,!cD.Equals(dB,null)&&dB.length===8)&&(dz=[cu.get(dA.$0,3),cu.get(dA.$0,2),cu.get(dA.$0,6),cu.get(dA.$0,7),cu.get(dA.$0,5),cu.get(dA.$0,4),cu.get(dA.$0,1)],true)))?{$:1,$0:[dz[6],cy.toInt(a.Number(dz[1])),cy.toInt(a.Number(dz[0])),cy.toInt(a.Number(dz[5])),cy.toInt(a.Number(dz[4])),dz[2],dz[3]]}:null;},(dw=W.REGEX$2(dv,"g",du),dw!=null&&dw.$==1?dw.$0:[])));};b8.convertGlyphChar=function(dt){return dt==="C"?6:dt==="E"?12:dt==="S"?11:dt==="I"?7:dt==="N"?8:dt==="M"?1:dt==="P"?9:dt==="F"?4:dt==="T"?6:dt==="K"?13:0;};b8.fileName=function(){cj.$cctor();return cj.fileName;};b8.set_fileName=function(dt){cj.$cctor();cj.fileName=dt;};b8.overDescriptions=function(dt){return g.sequenceSeq(cs.collect(function(du){return cv.ofSeq(cs.delay(function(){return cs.append(!(!du.Signature)?[ct.Return("```\n"+du.Signature+"\n```")]:[],cs.delay(function(){function dv(dw){return ct.Return(dw);}return cs.append(!(!du.Comment)?[ct.Bind((new c$.New()).Async("FSharpStation:FsRoot.FSharpStation+Markdown.createCommentBlock:-1840423385",[du.Comment]),function(dw){return dv(b8.fixMarkDown(dw));})]:[],cs.delay(function(){return!(!du.Footer)?[ct.Return(b8.fixMarkDown(du.Footer))]:[];}));}));}));},cs.collect(a.id,dt)));};b8.fixMarkDown=function(dt){return cz.concat("\n\n",cs.map(function(du){var dv;dv=cs.length(cs.takeWhile(function(dw){return" "===dw;},du));return cz.replicate(dv,"&nbsp;")+cA.string(du,{$:1,$0:dv},null);},cs.map(function(du){return cz.Replace(du,"\u0009","- ");},A.splitByChar$1("\n",dt))));};b8.getSnippetModel=function(dt){var du,dv,dw;du=(dv="snpId:"+(dw=dt.get_Id(),a.String(dw)),self.monaco.Uri.parse(dv));return b8.getModelUri(b2.runReader(function(dx){return cy.FailWith(a.String(dx));},S.snippetRm(dt)).snpContent,du);};b8.getModelUri=function(dt,du){var dv,dw,dx;dv=(dw=(dx=self.monaco.editor.getModel(du),!dx?null:{$:1,$0:dx}),dw==null?self.monaco.editor.createModel("","fsharp",du):dw.$0);dv.getValue()!==dt?dv.setValue(dt):void 0;return dv;};b8.getSnipIdIndentAndFirst=function(dt){var du,dv;function dw(dx,dy){return dt>=dy[1]&&dt<=dy[2];}du=(dv=cs.tryFind(function(dx){return dw(dx[0],dx[1]);},b8.startsV().Get()),(b8.defaultStart())(dv));return[du[0][0],du[1][0],du[1][1]];};b8.getIndentAndFirst=function(){var dt,du,dv,dw;function dx(dA){return dA[0];}function dy(dA){return dA[0];}function dz(dA){return cD.Equals(dt,dA);}dt=b2.currentSnippetV().Get().snpId;du=(dv=cs.tryFind((dw=function(dA){return dy(dx(dA));},function(dA){return dz(dw(dA));}),b8.startsV().Get()),(b8.defaultStart())(dv));return[du[1][0],du[1][1]];};b8.defaultStart=function(){cj.$cctor();return cj.defaultStart;};b8.startsV=function(){cj.$cctor();return cj.startsV;};cc.jumpToRef=function(dt){var du,dv;function dw(dx,dy,dz){return dv>=dy&&dv<dz?{$:1,$0:dx}:null;}du=dt.value;dv=dt.selectionStart;cc.jumpToLine(cs.pick(function(dx){return dw(dx[0],dx[1],dx[2]);},(cs.mapFold(function(dx,dy){return[[dy,dx,dx+dy.length+1],dx+dy.length+1];},0,cz.SplitChars(du,["\n"],0)))[0]));};cc.jumpToLine=function(dt){var du,dv,dw,dx,dy;du=W.REGEX$2(cc.rexGuid(),"",dt);du!=null&&du.$==1?(dv=du.$0,!cD.Equals(dv,null)&&dv.length===6)?(dw=cu.get(du.$0,2),dx=cu.get(du.$0,5),dy=cu.get(du.$0,1),ct.Start(b8["goto"](new P({$:0,$0:dx}),cy.toInt(a.Number(dy)),cy.toInt(a.Number(dw))),null)):void 0:void 0;};cc.rexGuid=function(){cj.$cctor();return cj.rexGuid$1;};ce.New=function(dt,du,dv){return{snippets:dt,generation:du,collapsed:dv};};cd.serModel=function(){cj.$cctor();return cj.serModel;};cd.getModel=function(dt,du,dv){return ce.New(cu.ofSeq(dt),du,dv);};cd.serSnippet=function(){cj.$cctor();return cj.serSnippet;};cd.serSnippetId=function(){cj.$cctor();return cj.serSnippetId;};cf.saveAs=function(){var dt,du,dv,dw;dt=(du=cs.last(cz.SplitChars(cf.fileName().Get(),["/","\\"],0)),du===""?"noname.snippets":du);a.saveAs(new a.Blob([(dv=(dw=b2.getSnippetsGen(),cd.getModel(dw[0],dw[1],dw[2])),(cd.serModel())[0](dv))],{type:"text/plain;charset=utf-8"}),dt);b2.updateGeneration();};cf.loadTextFile=function(dt){var du,dv;if(cf.canLoad()){du=dt.files;du.length>0?(dv=new a.FileReader(),dv.onload=function(dw){return cf.parseText(dw.target.result);},cf.fileName().Set(du.item(0).name),dv.readAsText(du.item(0))):void 0;}};cf.parseText=function(dt){var du,dv;try{du=(dv=c0.parse(dt),(cd.serModel())[1](dv));b2.setSnippetsGen(du.snippets,du.collapsed);}catch(dw){a.alert(a.String(dw));((function(dx){return function(dy){return dx(cr.prettyPrint(dy));};}(function(dx){cK.log(dx);}))(dw));}};cf.canLoad=function(){return cD.Equals(cM.TryGet(b2.SaveAsClassW()),{$:1,$0:""})||a.confirm("Changes have not been saved, do you really want to load?");};cf.fileName=function(){cj.$cctor();return cj.fileName$1;};cg.importFile=function(dt){var du,dv;if(cf.canLoad()){du=dt.files;du.length>0?(dv=new a.FileReader(),dv.onload=function(dw){return cg.parseText(dw.target.result);},dv.readAsText(du.item(0))):void 0;}};cg.parseText=function(dt){var du;try{b2.setSnippetsGen((du=c0.parse(dt),(cg.serSnippets())[1](du)),new cH.New$1(null));}catch(dv){a.alert(a.String(dv));((function(dw){return function(dx){return dw(cr.prettyPrint(dx));};}(function(dw){cK.log(dw);}))(dv));}};cg.serSnippets=function(){cj.$cctor();return cj.serSnippets;};cg.serSnippet2=function(){cj.$cctor();return cj.serSnippet2;};cg.serSnippetId2=function(){cj.$cctor();return cj.serSnippetId2;};ch.mainProgram=function(){var dt;dj.plugIns().Append(dk.New("FSharpStation",[dj.newVar("fileName",cf.fileName()),dj.newVar("SnippetName",cN.Lens(b2.currentSnippetV(),function(du){return du.snpName;},function(du,dv){return Q.New(du.snpId,dv,du.snpContent,du.snpParentIdO,du.snpPredIds,du.snpProperties,du.snpGeneration);})),dj.newVar("Content",cN.Lens(b2.currentSnippetV(),function(du){return du.snpContent;},function(du,dv){return Q.New(du.snpId,du.snpName,dv,du.snpParentIdO,du.snpPredIds,du.snpProperties,du.snpGeneration);})),dj.newVar("Output",ch.outputMsgs()),dj.newVar("Parser",b1.annotationsV())],[dj.newViw("FsCode",b2.FsCodeW()),dj.newViw("SaveNeeded",b2.SaveAsClassW())],[dj.newDoc("mainDoc",dl.Create(ch.mainDoc)),dj.newDoc("editor",dl.Create(function(){var du,dv,dw;return cR.Element("div",[],[(du=(dv=b8.getEditorConfigO(),dv==null?null:{$:1,$0:_.render(dv.$0)}),(dw=cR.get_Empty(),du==null?dw:du.$0))]);})),dj.newDoc("Snippets",dl.Create(b6.render)),dj.newDoc("Properties",dl.Create(b7.render)),dj.newDoc("ButtonsRight",dl.Create(ch.buttonsRight))],[dj.newAct("AddSnippet",function(){b2.newSnippet();}),dj.newAct("RemoveSnippet",function(){ch.deleteSnippet();}),dj.newAct("IndentIn",function(){b2.indentIn();}),dj.newAct("IndentOut",function(){b2.indentOut();}),dj.newAct("AddProperty",function(){b7.addProperty();}),dj.newAct("SaveAs",function(){cf.saveAs();}),dj.newAct("RunFS",function(){ch.runFsCode();}),dj.newActF("LoadFile",{$:1,$0:function(du){cf.loadTextFile(du);},$1:"FileElement"}),dj.newActF("Import",{$:1,$0:function(du){cg.importFile(du);},$1:"FileElement"}),dj.newActF("JumpTo",{$:1,$0:function(du){cc.jumpToRef(du);},$1:"textarea"})],[]));dm.addLayout(dm.newLyt("FStationLyt",(A.unindentStr())("\n                    double           horizontal  0-50-100 AppFramework.AppFwkClient menuEditor\n        \n                    menuEditor       horizontal  65       menuLogo                  editorMessages\n                    menuLogo         vertical    350      logo                      menu\n                    logo             span       \"margin:0; color:gray; font-size: 55px; font-weight:530\" \"F# Station\"\n                    editorMessages   horizontal 10-83-100 editorButtons             messages\n                    messages         vertical   0-50-100  messagesLeft              messagesRight\n                    editorButtons    vertical -200 snippetsSnippet buttons\n                    buttons div      \"overflow: hidden; display: grid; grid-template-columns: 100%; grid-template-rows: repeat(15, calc(100% / 15)); bxackground-color: #eee; box-sizing: border-box; padding : 5px; grid-gap: 5px; margin-right: 21px\" btnSaveAs none x btnAddSnippet btnDeleteSnippet btnIndentIn btnIndentOut none x btnRunFS\n                    snippetsSnippet  vertical   0-20-100  FSharpStation.Snippets    editorProperties\n                    editorProperties vertical   0-100-100 snippet                   properties\n                    properties       div        \"\"        FSharpStation.Properties\n                    snippet          horizontal 35        Name                      FSharpStation.editor\n                    menu             span  \"\" btnLoad btnImport\n                    \n                    btnSaveAs        button FSharpStation.SaveAs         \"class=btn ${FSharpStation.SaveNeeded}\" \"Save as...    \"\n                    btnAddSnippet    button FSharpStation.AddSnippet     \"\"                  \"Add Snippet   \"\n                    btnDeleteSnippet button FSharpStation.DeleteSnippet  \"\"                  \"Delete Snippet\"\n                    btnIndentIn      button FSharpStation.IndentIn       \"\"                  \"Indent In  >> \"\n                    btnIndentOut     button FSharpStation.IndentOut      \"\"                  \"Indent Out << \"\n                    btnRunFS         button FSharpStation.RunFS          \"\"                  \"Run F#        \"\n         \n                    messagesLeft     wcomp-tabstrip                      \"\"                  Output FsCode\n                    messagesRight    wcomp-tabstrip                      \"\"                  Parser\n         \n                    Output           textarea  FSharpStation.Output      \"tabname=Output ; placeholder=Output messages ; spellcheck=false\" \n                    FsCode           textarea  FSharpStation.FsCode      \"tabname=F# Code; placeholder=F# Code         ; spellcheck=false\" \n                    Parser           textarea  FSharpStation.Parser      \"tabname=Parser ; placeholder=Parser messages; dblclick=${FSharpStation.JumpTo} ; spellcheck=false\" \n                    Name             Doc       InputLabel                \"\"     \"Name:\"        FSharpStation.SnippetName\n                    btnLoad          Doc       InputFile                 \"\"     \"Load File...\" FSharpStation.LoadFile  FileName\n                    btnImport        Doc       InputFile                 \"\"     \"Import...\"    FSharpStation.Import    \"\"\n                    FileName         div                                 \"class=form-control\"  FSharpStation.fileName\n                ")));dj.mainDocV().Set("FStationLyt.menuEditor");return cR.Async((dt=null,ct.Delay(function(){return ct.Bind(_.loader(),function(){var du,dv,dw;du=(dv=b8.getEditorConfigO(),dv==null?null:{$:1,$0:_.render(dv.$0)});dw=cR.get_Empty();du==null?void 0:void 0;return ct.Return(dj.getMainDoc().f());});})));};ch.mainDoc$4674$78=a.id;ch.mainDoc$4666$39=function(){return function(dt){cc.jumpToRef(dt.Target);};};ch.mainDoc$4665$39=function(){return function(dt){dt.Target.value="";};};ch.mainDoc$4664$39=function(){return function(dt){cg.importFile(dt.Target);};};ch.mainDoc$4663$39=function(){return function(dt){dt.Target.value="";};};ch.mainDoc$4662$39=function(){return function(dt){cf.loadTextFile(dt.Target);};};ch.mainDoc=function(){var dt,du,dv,dw,dx,dy,dz,dA;dt=ch.hookDoc("FSharpStation","ButtonsRight",function(dB,dC){return dB.WithHole({$:0,$0:"buttonsright",$1:dC});},ch.hookDoc("FSharpStation","Properties",function(dB,dC){return dB.WithHole({$:0,$0:"properties",$1:dC});},ch.hookDoc("FSharpStation","Snippets",function(dB,dC){return dB.WithHole({$:0,$0:"snippets",$1:dC});},ch.hookDoc("FSharpStation","editor",function(dB,dC){return dB.WithHole({$:0,$0:"codeeditor",$1:dC});},ch.hookAct("FSharpStation","SaveAs",function(dB,dC){return dB.WithHole(df.EventQ2(dB.k,"saveas",function(){return dB.i;},dC));},ch.hookViw("FSharpStation","SaveNeeded",function(dB,dC){return dB.WithHole({$:2,$0:"saveasclass",$1:dC});},ch.hookViw("FSharpStation","FSCode",function(dB,dC){return dB.WithHole({$:8,$0:"fscode",$1:new da.New(dC,a.ignore)});},ch.hookVar("FSharpStation","Parser",function(dB,dC){return dB.WithHole({$:8,$0:"parser",$1:dC});},ch.hookVar("FSharpStation","Output",function(dB,dC){return dB.WithHole({$:8,$0:"output",$1:dC});},ch.hookVar("FSharpStation","SnippetName",function(dB,dC){return dB.WithHole({$:8,$0:"name",$1:dC});},ch.hookVar("FSharpStation","fileName",function(dB,dC){return dB.WithHole({$:8,$0:"filename",$1:dC});},(du=(dv=(dw=(dx=(dy=de.Make(),dy.WithHole(df.EventQ2(dy.k,"loadfilechanged",function(){return dy.i;},function(dB){cf.loadTextFile(dB.Target);}))),dx.WithHole(df.EventQ2(dx.k,"loadfileclear",function(){return dx.i;},function(dB){dB.Target.value="";}))),dw.WithHole(df.EventQ2(dw.k,"importfilechanged",function(){return dw.i;},function(dB){cg.importFile(dB.Target);}))),dv.WithHole(df.EventQ2(dv.k,"importfileclear",function(){return dv.i;},function(dB){dB.Target.value="";}))),du.WithHole(df.EventQ2(du.k,"jumpref",function(){return du.i;},function(dB){cc.jumpToRef(dB.Target);}))))))))))))));return(dz=df.CompleteHoles(dt.k,dt.h,[["filename",0],["name",0],["output",0],["fscode",0],["parser",0]]),(dA=new dg.New(dz[1],cn.layout(dz[0])),(dt.i=dA,dA))).get_Doc();};ch.buttonsRight$4648$74=a.id;ch.buttonsRight$4647$74=a.id;ch.buttonsRight$4646$74=a.id;ch.buttonsRight$4645$74=a.id;ch.buttonsRight$4644$74=a.id;ch.buttonsRight=function(){var dt,du,dv;dt=ch.hookAct("FSharpStation","RunFS",function(dw,dx){return dw.WithHole(df.EventQ2(dw.k,"runfs",function(){return dw.i;},dx));},ch.hookAct("FSharpStation","IndentOut",function(dw,dx){return dw.WithHole(df.EventQ2(dw.k,"indentout",function(){return dw.i;},dx));},ch.hookAct("FSharpStation","IndentIn",function(dw,dx){return dw.WithHole(df.EventQ2(dw.k,"indentin",function(){return dw.i;},dx));},ch.hookAct("FSharpStation","RemoveSnippet",function(dw,dx){return dw.WithHole(df.EventQ2(dw.k,"removesnippet",function(){return dw.i;},dx));},ch.hookAct("FSharpStation","AddSnippet",function(dw,dx){return dw.WithHole(df.EventQ2(dw.k,"addsnippet",function(){return dw.i;},dx));},de.Make())))));return(du=df.CompleteHoles(dt.k,dt.h,[]),(dv=new dg.New(du[1],cn.buttonsright(du[0])),(dt.i=dv,dv))).get_Doc();};ch.hookDoc=function(dt,du,dv,dw){var dx,dy,dz;dx=(dy=dj.tryGetDoc(dt,du),dy==null?null:{$:1,$0:(dz=dy.$0,((((cq.Curried3(function(dA,dB,dC){return dA("Doc    "+cr.toSafe(dB)+"."+cr.toSafe(dC)+" hooked");}))(function(dA){cK.log(dA);}))(dt))(du),dv(dw,cR.EmbedView(cM.Map(function(){return dj.getLazyDoc(dz);},dj.mainDocV().get_View())))))});return dx==null?((((cq.Curried3(function(dA,dB,dC){return dA("Doc    "+cr.toSafe(dB)+"."+cr.toSafe(dC)+" not found");}))(function(dA){cK.log(dA);}))(dt))(du),dw):dx.$0;};ch.hookAct=function(dt,du,dv,dw){var dx,dy,dz;dx=(dy=dj.tryGetAct(dt,du),dy==null?null:{$:1,$0:(dz=dy.$0,((((cq.Curried3(function(dA,dB,dC){return dA("Action "+cr.toSafe(dB)+"."+cr.toSafe(dC)+" hooked");}))(function(dA){cK.log(dA);}))(dt))(du),dv(dw,function(){dj.callFunction(null,null,dz.actFunction);})))});return dx==null?((((cq.Curried3(function(dA,dB,dC){return dA("Action "+cr.toSafe(dB)+"."+cr.toSafe(dC)+" not found");}))(function(dA){cK.log(dA);}))(dt))(du),dw):dx.$0;};ch.hookViw=function(dt,du,dv,dw){var dx,dy;dx=(dy=dj.tryGetViw(dt,du),dy==null?null:{$:1,$0:((((cq.Curried3(function(dz,dA,dB){return dz("View   "+cr.toSafe(dA)+"."+cr.toSafe(dB)+" hooked");}))(function(dz){cK.log(dz);}))(dt))(du),dv(dw,dy.$0.viwView))});return dx==null?((((cq.Curried3(function(dz,dA,dB){return dz("View   "+cr.toSafe(dA)+"."+cr.toSafe(dB)+" not found");}))(function(dz){cK.log(dz);}))(dt))(du),dw):dx.$0;};ch.hookVar=function(dt,du,dv,dw){var dx,dy;dx=(dy=dj.tryGetVar(dt,du),dy==null?null:{$:1,$0:((((cq.Curried3(function(dz,dA,dB){return dz("Var    "+cr.toSafe(dA)+"."+cr.toSafe(dB)+" hooked");}))(function(dz){cK.log(dz);}))(dt))(du),dv(dw,dy.$0.varVar))});return dx==null?((((cq.Curried3(function(dz,dA,dB){return dz("Var    "+cr.toSafe(dA)+"."+cr.toSafe(dB)+" not found");}))(function(dz){cK.log(dz);}))(dt))(du),dw):dx.$0;};ch.deleteSnippet=function(){var dt;dt=b2.currentSnippetV().Get();!cD.Equals(dt.snpId,P.get_Empty())&&a.confirm((function(du){return function(dv){return du("Do you want to delete "+cr.toSafe(dv)+"?");};}(a.id))(S.snippetName(dt.snpName,dt.snpContent)))?b2.deleteCurrentSnippet():void 0;};ch.runFsCode=function(){var dt,du,dv,dw,dx;function dy(dz){ch.appendMsgs(cz.Replace(dz,"xXxYyYyhH","Done!"));}dt=cM.TryGet(b2.FsCodeW());dt==null?void 0:(du=dt.$0,dv=(dw=e.asyncResultP(),dw.Run(dw.Delay(function(){var dz;ch.outputMsgs().Set("Running F#...");return p["AsyncResultBuilderP.Bind"](dw,(dz=new bp({$:0,$0:b1.id()}),(new c$.New()).Async("FSharpStation:FsRoot.Library2+FSharpStationClient.setAddress:-574353144",[dz])),function(){return dw.ReturnFrom$1((new c$.New()).Async("FSharpStation:FsRoot.Library2+FsiAgent.evalCode:-510387286",[b1.srcDir(),{$:0,$0:du}]));});}))),m.iterA((dx=function(dz){return function(dA){return dz("Error:\n"+cm.p$1(dA));};}(a.id),function(dz){return dy(dx(dz));}),a.ignore,dv));};ch.appendMsgs=function(dt){ch.appendText(ch.outputMsgs(),dt);};ch.outputMsgs=function(){cj.$cctor();return cj.outputMsgs;};ch.appendText=function(dt,du){var dv;dt.Set((dv=dt.Get(),dv===""?du:du===""?dv:dv+"\n"+du));};ci.processMessage=function(dt){var du;return ct.Return(b2.runReaderResult((du=w.reader(),du.Run(du.Delay(function(){var dv,dw;switch(dt.$==1?(dv=dt.$0,1):dt.$==2?(dv=dt.$0,2):dt.$==3?(dv=dt.$0,3):dt.$==4?(dw=dt.$0,!cD.Equals(dw,null)&&dw.length===2?cu.get(dt.$0,0)==="AddOutput"?(dv=cu.get(dt.$0,1),4):6:6):dt.$==5?5:0){case 0:return du.Return({$:0,$0:b1.id()});case 1:return du.Bind(u.traverseSeq(S.snippetFromRefORm,dv),function(dx){return du.Return({$:1,$0:cu.ofSeq(cs.choose(a.id,dx))});});case 2:b2.clearPredsCache();return du.Bind(u.absorbO(function(){return new d({$:0,$0:(function(dx){return function(dy){return dx("Snippet not found "+cm.p$3(dy));};}(a.id))(dv)});},S.snippetFromRefORm(dv)),function(dx){return du.ReturnFrom$1(w.op_BarGreaterGreater(w.op_BarGreaterGreater(S.fastCodeRm({$:1,$0:dx.snpId},{$:1,$0:dx.snpId}),function(dy){return dy[0];}),function(dy){return{$:0,$0:dy};}));});case 3:b2.clearPredsCache();return du.Return(T.Hole.TODO_GetPredecessors);case 4:ch.appendMsgs(dv);return du.Return({$:0,$0:"Ok"});case 5:return du.Return({$:0,$0:self.document.baseURI});case 6:return du.Return(T.Hole[(function(dx){return function(dy){return dx("TODO message: "+cm.p$4(dy));};}(a.id))(dt)]);}})))));};ci.wsStationClient=function(){cj.$cctor();return cj.wsStationClient;};cj.$cctor=function(){var du,dy,dz,dG,dH,dI,dK,dL,dN,dO,dQ,dR,dS,dT,dU,dV,dX,dY,d1,d2,d5,d8,d9,d$,ea,eb,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ;cj.$cctor=a.ignore;cj.rtn=function(eK){return[eK];};cj.result=new k.New();cj.result$1=j.result();cj.asyncResult=new n.New();cj.asyncResultP=new o.New();cj.reader=new s.New();cj.reader$1=r.reader();cj.reader$2=new v.New();cj.reader$3=u.reader();cj.reader$4=new y.New();cj.reader$5=x.reader();function dt(eK){return cz.concat("\n",eK);}cj.unindentStr=function(eK){return dt(A.unindent$1(eK));};function dv(eK){return A.splitByChar$1("\n",eK);}function dw(eK){var eL,eM;return cA.array(eK,{$:1,$0:0},{$:1,$0:(eL=0,(eM=cu.length(eK)-2,cD.Compare(eL,eM)===1?eL:eM))});}function dx(eK){return cz.concat("\n",eK);}cj.skipLastLine=(du=function(eK){return dw(dv(eK));},function(eK){return dx(du(eK));});cj.parseDateO=B.tryParseWith$1(function(eK){var eL,eM;eL=0;return[(eM=dn.TryParse(eK),eM!=null&&eM.$==1&&(eL=eM.$0,true)),eL];});cj.parseIntO=B.tryParseWith$1(function(eK){var eL;eL=0;return[_do.TryParseInt32(eK,{get:function(){return eL;},set:function(eM){eL=eM;}}),eL];});cj.parseSingleO=B.tryParseWith$1(function(eK){var eL,eM;eL=0;return[(eM=a.Number(eK),a.isNaN(eM)?false:(eL=eM,true)),eL];});cj.parseDoubleO=B.tryParseWith$1(function(eK){var eL,eM;eL=0;return[(eM=a.Number(eK),a.isNaN(eM)?false:(eL=eM,true)),eL];});cj.parseGuidO=B.tryParseWith$1(function(eK){var eL;eL=null;return[cF.TryParse(eK,{get:function(){return eL;},set:function(eM){eL=eM;}}),eL];});cj["|Date|_|"]=B.parseDateO$1();cj["|Int|_|"]=B.parseIntO$1();cj["|Single|_|"]=B.parseSingleO$1();cj["|Double|_|"]=B.parseDoubleO$1();cj["|Guid|_|"]=B.parseGuidO$1();dz=(dy=1,[function(){dy=dy+1;return dy;},function(eK){dy=eK;}]);cj.setGeneration=dz[1];cj.getNextGeneration=dz[0];cj.defaultSnippet=Q.New(new P({$:0,$0:"00000000-0000-0000-0000-000000000000"}),"","",null,new cH.New$1(null),[],0);function dA(eK){return eK.predecesorsCache();}cj.predsLRmMemo=function(eK){return u.memoizeRm(dA,S.predsLRm,eK);};function dB(eK){return eK.reducedCache();}cj.reducedOthersORmMemo=function(eK){return u.memoizeRm(dB,function(eL){return S.reducedOthersORm(eL[0],eL[1],eL[2]);},eK);};cj.deserGuid=function(eK){return Z.ifUndef("00000000-0000-0000-0000-000000000000",eK);};function dC(eK){return Z.ifUndef(0,eK);}cj.serFloat=[function(eK){return(function(eL){return function(eM){return eL(cr.prettyPrint(eM));};}(a.id))(eK);},function(eK){return dC(a.id(eK));}];function dD(eK){return Z.ifUndef(0,eK);}cj.serInt=[function(eK){return(function(eL){return function(eM){return eL(cr.prettyPrint(eM));};}(a.id))(eK);},function(eK){return dD(a.id(eK));}];function dE(eK){return Z.ifUndef(false,eK);}cj.serBool=[function(eK){return(function(eL){return function(eM){return eL(cr.prettyPrint(eM));};}(a.id))(eK);},function(eK){return dE(a.id(eK));}];function dF(eK){return Z.ifUndef("",eK);}cj.serString=[function(eK){return c0.stringify(((c3.Id())())(eK));},function(eK){return dF(a.id(eK));}];cj.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";cj.observers=cv.T.Empty;cj.css="\r\n                .tab-panel {\r\n                 overflow  : hidden   ;\r\n                 display   : flex     ;\r\n                 flex-flow : column   ;\r\n                 background: lightgray;\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                }\r\n                .tab-content {\r\n                 flex      : 1 1     ;\r\n                 overflow  : auto    ;\r\n                 position  : relative;\r\n                }\r\n                .tab-children {\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                 position  : absolute;\r\n                 display   : grid    ;\r\n                }\r\n                .tab-strip {\r\n                 padding   : 0pt     ;\r\n                 flex      : 0 0     ;\r\n                }\r\n                .tab {\r\n                 border     : 0.2pt solid transparent;\r\n                 padding    : 0pt 4pt;\r\n                 display    : inline-block;\r\n                 font-family: sans-serif;\r\n                 font-weight: 200;\r\n                 font-size  : small;\r\n                 color      : #666;\r\n                 cursor     : pointer;\r\n                }\r\n                .top>.tab {\r\n                 border-radius: 2pt 2pt 0pt 0pt;\r\n                 border-bottom-width: 0pt;\r\n                 vertical-align: bottom;\r\n                }\r\n                .bottom>.tab {\r\n                 border-top-width: 0pt;\r\n                 border-radius: 0pt 0pt 2pt 2pt;\r\n                 vertical-align: top;\r\n                }\r\n                .horizontal>.tab:not(:first-child) {\r\n                 border-left-width: 0pt;\r\n                }\r\n                .tab.hovering {\r\n                 background: red;\r\n                }\r\n                .tab.selected {\r\n                 background: white;\r\n                 border-left-width: 0.2pt;\r\n                 color: black;\r\n                 font-weight: 500;\r\n                 border-color: black;\r\n                }\r\n                .horizontal>.tab.selected {\r\n                 border-left-width: 0.2pt;\r\n                }\r\n                ::slotted(*              ) { \r\n                 width : 100%;\r\n                 height: 100%;\r\n                }\r\n                        ";cj.init=dl.Create(function(){var eK,eL,eM;eK=new _7.New$1();eL="wcomp-tabstrip";eM=self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New;cK.log("defineWebComponent: "+eL);cY.setPrototypeOf(eM.prototype,self.HTMLElement.prototype);cY.setPrototypeOf(eM,self.HTMLElement);cY.setPrototypeOf(_7.Constructor$1.prototype,eM.prototype);self.customElements.define(eL,_7.Constructor$1);});cj.layoutHorizontal=cq.Curried(function(eK,eL,eM,eN,eO){return cR.get_Empty();},5);cj.layoutVertical=cq.Curried(function(eK,eL,eM,eN,eO){return cR.get_Empty();},5);cj.includes=["/EPFileX/monaco/package/min/vs/loader.js"];cj.loader=(dG=null,ct.Delay(function(){return ct.Bind(_0.LoadFilesAsync(_.includes()),function(){self.require.config({paths:{vs:"/EPFileX/monaco/package/min/vs"}});return ct.Bind(ct.FromContinuations(function(eK,eL){return self.require(["vs/editor/editor.main"],eK,eL);}),function(){return ct.Return(null);});});}));cj.MessageBrokerId="<MessageBroker>";cj.MessageBrokerAddress=new bp({$:0,$0:bo.MessageBrokerId()});cj.id="FSharpStation"+a.String(dp.now());cj.rootDir=".";cj.srcDir=".";ct.Start((dH=null,ct.Delay(function(){return ct.Bind((new c$.New()).Async("FSharpStation:FsRoot.FSharpStation+FStation.getRootDir:-447555547",[]),function(eK){b1.set_rootDir(eK+"/"+"..");b1.set_srcDir(eK+"/"+"..\\src");(((cq.Curried3(function(eL,eM,eN){return eL("fileName = "+cr.toSafe(eM)+"\\"+cr.toSafe(eN)+".fsx");}))(function(eL){cK.log(eL);}))(b1.srcDir()))(b1.id());return ct.Zero();});})),null);cj.annotationsV=cN.Create$1("");cj.snippets=new dq.New$1(function(eK){return eK.snpId;});cj.hierarchy=cN.Create$1([]);cj.generation=cN.Create$1(5);cj.currentSnippetIdOV=cN.Create$1(null);cj.codeSnippetIdOV=cN.Create$1(null);cj.collapsedV=cN.Create$1(new cH.New$1(null));function dJ(eK,eL){dI.set_Item(eK,eL);return eL;}dK=(dI=new dr.New$5(),[[function(eK){var eL;eL=null;return dI.TryGetValue(eK,{get:function(){return eL;},set:function(eM){eL=eM;}})?{$:1,$0:eL}:null;},function(eK){return function(eL){return dJ(eK,eL);};}],function(){dI.Clear();}]);cj.predsCache=dK[0];cj.clearPreds=dK[1];function dM(eK,eL){dL.set_Item(eK,eL);return eL;}dN=(dL=new dr.New$5(),[[function(eK){var eL;eL=null;return dL.TryGetValue(eK,{get:function(){return eL;},set:function(eM){eL=eM;}})?{$:1,$0:eL}:null;},function(eK){return function(eL){return dM(eK,eL);};}],function(){dL.Clear();}]);cj.reducCache=dN[0];cj.clearReduc=dN[1];function dP(eK,eL){dO.set_Item(eK,eL);return eL;}dQ=(dO=new dr.New$5(),[[function(eK){var eL;eL=null;return dO.TryGetValue(eK,{get:function(){return eL;},set:function(eM){eL=eM;}})?{$:1,$0:eL}:null;},function(eK){return function(eL){return dP(eK,eL);};}],function(){dO.Clear();}]);cj.parentCache=dQ[0];cj.clearParent=dQ[1];cj.getParentIdO=(dR=b2.parentCache(),(dS=dR[1],(dT=dR[0],function(eK){var eL,eM;eL=dT(eK);return eL==null?(eM=b2.getParentIdONotMemo(eK),(dS(eK))(eM)):eL.$0;})));cM.Sink(function(eK){var eL,eM;if(eK!=null&&eK.$==1){eL=eK.$0;eM=b2.codeSnippetIdOV().Get();eM!=null&&eM.$==1?(b2.iterReader(w.op_BarGreaterGreater(w.op_BarGreaterGreater(w.op_BarGreaterGreater(w.op_BarGreaterGreater(w.op_GreaterGreaterEquals(w.op_BarGreaterGreater(S.snippetORm(eM.$0),function(eN){return eN==null?null:{$:1,$0:S.uniquePredsRm(eN.$0)};}),u.insertO),cI.toList),function(eN){return cv.collect(a.id,eN);}),function(eN){return cv.contains(eL,eN);}),function(eN){if(eN);else b2.codeSnippetIdOV().Set({$:1,$0:eL});})),b2.clearPredsCache()):b2.codeSnippetIdOV().Set({$:1,$0:eL});}},b2.currentSnippetIdOV().get_View());function dW(eK){return eK.id();}cM.Sink(function(eK){var eL;b2.clearPredsCache();eL=cu.ofSeq(cs.delay(function(){return cs.collect(function(eM){return cs.append([b2.snippets().FindByKey(eM)],cs.delay(function(){return cs.filter(function(eN){return b2.isDescendantOf(eM,eN.snpId);},(b2.snippets())["var"].Get());}));},eK);}));b2.snippets().Set(eL);},(dU=cM.Map(function(eK){return cu.map(dW,eK);},b2.hierarchy().get_View()),(dV=[cN.Create$1(null)],(cM.Sink(function(eK){if(!cD.Equals(dV[0].Get(),eK))dV[0].Set(eK);},dU),dV[0].get_View()))));cj.CurrentSnippetIdW=cM.Map(function(eK){var eL;eL=S.defaultSnippet().snpId;return eK==null?eL:eK.$0;},b2.currentSnippetIdOV().get_View());function dZ(eK){var eL;eL=S.defaultSnippet();return eK==null?eL:eK.$0;}function d0(eK){return b2.snippets().TryFindByKeyAsView(eK);}cj.currentSnippetW=cM.Map((dX=function(eK){return eK==null?null:a.id(eK.$0);},function(eK){return dZ(dX(eK));}),cM.Bind((dY=function(eK){return eK==null?null:{$:1,$0:d0(eK.$0)};},function(eK){return Y.insertWO(dY(eK));}),b2.currentSnippetIdOV().get_View()));function d3(eK){var eL;eL=S.defaultSnippet();return eK==null?eL:eK.$0;}function d4(eK){return b2.snippets().TryFindByKeyAsView(eK);}cj.codeSnippetW=cM.Map((d1=function(eK){return eK==null?null:a.id(eK.$0);},function(eK){return d3(d1(eK));}),cM.Bind((d2=function(eK){return eK==null?null:{$:1,$0:d4(eK.$0)};},function(eK){return Y.insertWO(d2(eK));}),b2.codeSnippetIdOV().get_View()));cj.currentSnippetV=new da.New(b2.currentSnippetW(),function(eK){b2.setSnippet(eK);});function d6(eK,eL){return[eK.id(),eL];}function d7(eK){function eL(eN){return U.listNodes(0,eN);}function eM(eN){return b2.runReader(b2.handleError,eN);}return function(eN){return eM(eL(eN));};}cj.getHierarchyW=cM.Map(cu.ofSeq,cM.Map(function(eK){return cs.map(function(eL){return d6(eL[0],eL[1]);},eK);},(d5=b2.hierarchy().get_View(),cM.Map2(function(eK,eL){return(d7(eK))(eL);},b2.collapsedV().get_View(),d5))));function d_(eK,eL){var eM;eM=null;return ct.Delay(function(){return ct.Bind(ct.Sleep(350),function(){return ct.Return(b2.runReader(b2.handleError,S.fastCodeRm(b2.currentSnippetIdOV().Get(),b2.codeSnippetIdOV().Get())));});});}cj.codeAndStartsW=(d8=b2.codeSnippetW(),(d9=b2.snippets().v,(((cq.Curried3(cM.MapAsync2))(d_))(d8))(d9)));cj.FsCodeW=cM.Map(function(eK){return eK[0];},b2.codeAndStartsW());cj.codeStartsW=cM.Map(function(eK){return eK[1];},b2.codeAndStartsW());cj.SaveAsClassW=cM.Map2(function(eK,eL){return cs.exists(function(eM){return eM.snpGeneration>eL;},eK)?"btn-primary":"";},b2.snippets().v,b2.generation().get_View());cj.drag=b4.DragNone;cj.rootdir="..\\website";cj.TemplatesFileName="..\\website"+"\\Templates.html";((function(eK){return function(eL){return eK(cr.toSafe(eL));};}(function(eK){cK.log(eK);}))("..\\website\\Templates.html"));cj.startsV=cN.Create$1([]);cj.defaultStart=(d$=[[P.get_Empty(),""],[0,1,0]],function(eK){return eK==null?d$:eK.$0;});cj.fileName="none.fsx";cj.editorConfigO=null;cM.Sink(function(eK){var eL,eM;try{eL=(eM=b8.editorConfigO(),eM==null?null:eM.$0.editorO);eL==null?null:(eL.$0.setModel(b8.getSnippetModel(eK)),b1.annotationsV().Set(b1.annotationsV().Get()));}catch(eN){null;}},b2.CurrentSnippetIdW());cj.rexGuid$1="\\((\\d+)\\,\\s*(\\d+)\\) - \\((\\d+)\\,\\s*(\\d+)\\).*([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";function ec(eK){return eK.$0;}function ed(eK){return new P({$:0,$0:eK});}cj.serSnippetId=(ea=cu.head(cz.SplitChars((function(eK){return function(eL){return eK(cm.p(eL));};}(a.id))(ed("00000000-0000-0000-0000-000000000000")),[" "],0)),(eb=(function(eK){return function(eL){return eK(cr.prettyPrint(eL));};}(a.id))(ea),[function(eK){var eL;eL=ec(eK);return(((cq.Curried3(function(eM,eN,eO){return eM("{"+cz.PadLeft(cr.toSafe(eN),10)+" :"+cr.prettyPrint(eO)+"}");}))(a.id))(eb))(eL);},function(eK){var eL;return ed((eL=eK[ea],(Z.deserGuid())(eL)));}]));cj.serSnippet=(ee=[(ef=cd.serSnippetId(),Z.serField("snpId",function(eK){return eK.snpId;},function(eK,eL){return Q.New(eK,eL.snpName,eL.snpContent,eL.snpParentIdO,eL.snpPredIds,eL.snpProperties,eL.snpGeneration);},ef[0],ef[1])),(eg=Z.serString(),Z.serField("snpName",function(eK){return eK.snpName;},function(eK,eL){return Q.New(eL.snpId,eK,eL.snpContent,eL.snpParentIdO,eL.snpPredIds,eL.snpProperties,eL.snpGeneration);},eg[0],eg[1])),(eh=Z.serString(),Z.serField("snpContent",function(eK){return eK.snpContent;},function(eK,eL){return Q.New(eL.snpId,eL.snpName,eK,eL.snpParentIdO,eL.snpPredIds,eL.snpProperties,eL.snpGeneration);},eh[0],eh[1])),(ei=(ej=cd.serSnippetId(),Z.serOpt(ej[0],ej[1])),Z.serField("snpParentIdO",function(eK){return eK.snpParentIdO;},function(eK,eL){return Q.New(eL.snpId,eL.snpName,eL.snpContent,eK,eL.snpPredIds,eL.snpProperties,eL.snpGeneration);},ei[0],ei[1])),(ek=(el=cd.serSnippetId(),Z.serSet(el[0],el[1])),Z.serField("snpPredIds",function(eK){return eK.snpPredIds;},function(eK,eL){return Q.New(eL.snpId,eL.snpName,eL.snpContent,eL.snpParentIdO,eK,eL.snpProperties,eL.snpGeneration);},ek[0],ek[1])),(em=(en=(eo=Z.serString(),Z.serDup((Z.serString())[0],(Z.serString())[1],eo[0],eo[1])),Z.serArr(en[0],en[1])),Z.serField("snpProperties",function(eK){return eK.snpProperties;},function(eK,eL){return Q.New(eL.snpId,eL.snpName,eL.snpContent,eL.snpParentIdO,eL.snpPredIds,eK,eL.snpGeneration);},em[0],em[1])),(ep=Z.serInt(),Z.serField("snpGeneration",function(eK){return eK.snpGeneration;},function(eK,eL){return Q.New(eL.snpId,eL.snpName,eL.snpContent,eL.snpParentIdO,eL.snpPredIds,eL.snpProperties,eK);},ep[0],ep[1]))],(eq=S.New("","",null),[function(eK){var eL;function eM(eN,eO,eP){return(((cq.Curried3(function(eQ,eR,eS){return eQ(cr.prettyPrint(eR)+": "+cr.toSafe(eS));}))(a.id))(eN))(eO(eK));}eL=cz.concat(", ",cs.map(function(eN){return eM(eN[0],eN[1],eN[2]);},ee));return(function(eN){return function(eO){return eN("{"+cr.toSafe(eO)+"}");};}(a.id))(eL);},function(eK){return!eK?eq:cs.fold(function(eL,eM){return(eM[2](eL))(eK[eM[0]]);},eq,ee);}]));cj.serModel=(er=[(es=(et=cd.serSnippet(),Z.serArr(et[0],et[1])),Z.serField("snippets",function(eK){return eK.snippets;},function(eK,eL){return ce.New(eK,eL.generation,eL.collapsed);},es[0],es[1])),(eu=Z.serInt(),Z.serField("generation",function(eK){return eK.generation;},function(eK,eL){return ce.New(eL.snippets,eK,eL.collapsed);},eu[0],eu[1])),(ev=(ew=cd.serSnippetId(),Z.serSet(ew[0],ew[1])),Z.serField("collapsed",function(eK){return eK.collapsed;},function(eK,eL){return ce.New(eL.snippets,eL.generation,eK);},ev[0],ev[1]))],(ex=ce.New([],0,new cH.New$1(null)),[function(eK){var eL;function eM(eN,eO,eP){return(((cq.Curried3(function(eQ,eR,eS){return eQ(cr.prettyPrint(eR)+": "+cr.toSafe(eS));}))(a.id))(eN))(eO(eK));}eL=cz.concat(", ",cs.map(function(eN){return eM(eN[0],eN[1],eN[2]);},er));return(function(eN){return function(eO){return eN("{"+cr.toSafe(eO)+"}");};}(a.id))(eL);},function(eK){return!eK?ex:cs.fold(function(eL,eM){return(eM[2](eL))(eK[eM[0]]);},ex,er);}]));cj.fileName$1=cN.Create$1("");cj.serSnippetId2=[function(eK){return(function(eL){return function(eM){return eL(cr.prettyPrint(eM));};}(a.id))(eK);},function(eK){var eL;return new P({$:0,$0:(eL=eK.Item,(Z.deserGuid())(eL))});}];cj.serSnippet2=(ey=[(ez=cg.serSnippetId2(),Z.serField("id",function(eK){return eK.snpId;},function(eK,eL){return Q.New(cD.Equals(eK,P.get_Empty())?new P({$:0,$0:cF.NewGuid()}):eK,eL.snpName,eL.snpContent,eL.snpParentIdO,eL.snpPredIds,eL.snpProperties,eL.snpGeneration);},ez[0],ez[1])),(eA=Z.serString(),Z.serField("name",function(eK){return eK.snpName;},function(eK,eL){return Q.New(eL.snpId,eK,eL.snpContent,eL.snpParentIdO,eL.snpPredIds,eL.snpProperties,eL.snpGeneration);},eA[0],eA[1])),(eB=Z.serString(),Z.serField("content",function(eK){return eK.snpContent;},function(eK,eL){return Q.New(eL.snpId,eL.snpName,eK,eL.snpParentIdO,eL.snpPredIds,eL.snpProperties,eL.snpGeneration);},eB[0],eB[1])),(eC=(eD=cg.serSnippetId2(),Z.serOpt(eD[0],eD[1])),Z.serField("parent",function(eK){return eK.snpParentIdO;},function(eK,eL){return Q.New(eL.snpId,eL.snpName,eL.snpContent,cD.Equals(eK,{$:1,$0:P.get_Empty()})?null:eK,eL.snpPredIds,eL.snpProperties,eL.snpGeneration);},eC[0],eC[1])),(eE=(eF=cg.serSnippetId2(),Z.serArr(eF[0],eF[1])),Z.serField("predecessors",function(eK){return cu.ofSeq(eK.snpPredIds);},function(eK,eL){return Q.New(eL.snpId,eL.snpName,eL.snpContent,eL.snpParentIdO,new cH.New(eK),eL.snpProperties,eL.snpGeneration);},eE[0],eE[1]))],(eG=S.New("","",null),[function(eK){var eL;function eM(eN,eO,eP){return(((cq.Curried3(function(eQ,eR,eS){return eQ(cr.prettyPrint(eR)+": "+cr.toSafe(eS));}))(a.id))(eN))(eO(eK));}eL=cz.concat(", ",cs.map(function(eN){return eM(eN[0],eN[1],eN[2]);},ey));return(function(eN){return function(eO){return eN("{"+cr.toSafe(eO)+"}");};}(a.id))(eL);},function(eK){return!eK?eG:cs.fold(function(eL,eM){return(eM[2](eL))(eK[eM[0]]);},eG,ey);}]));cj.serSnippets=(eH=cg.serSnippet2(),Z.serArr(eH[0],eH[1]));cj.outputMsgs=cN.Create$1("");eI=b2.codeAndStartsW();cM.Sink(c.delayed(300,function(eK){b8.parse(eK[0],eK[1]);}),eI);cM.Sink(function(eK){self.onbeforeunload=eK!==""?function(eL){eL.returnValue="Changes you made may not be saved.";}:null;},b2.SaveAsClassW());cj.wsStationClient=new bA.New(b1.id(),null,null);ct.Start((eJ=null,ct.Delay(function(){return ct.Bind(ct.Sleep(1000),function(){return ct.While(function(){return true;},ct.Delay(function(){return ct.TryWith(ct.Delay(function(){var eK,eL,eM,eN,eO,eP;function eQ(eU){return(cl.j$4())(c0.parse(eU));}function eR(eU){return c0.stringify((ck.j$4())(eU));}function eS(eU){return ct.Return(eU);}function eT(eU){cy.FailWith(eU);}eK=ci.wsStationClient();eK.payloadProcessorO={$:1,$0:(eL=function(eU){return ci.processMessage(eQ(eU));},(eM=(eN=function(eU){return eS(eR(eU));},function(eU){return ct.Bind(eU,eN);}),function(eU){return eM(eL(eU));}))};m.iterA(function(eU){return eT(a.String(eU));},a.ignore,eK.sendAndForget(bo.msgType(br.MsgInformation,(eO=bo.MessageBrokerAddress(),(eP=c0.stringify(((c3.Id())())("Registering Processor")),bu.New(new bp({$:0,$0:""}),eO,br.MsgRequest,"",cF.NewGuid(),eP,bt.NoReply))))));return ct.Bind(ct.Sleep(60000),function(){return ct.Return(null);});}),function(eK){((function(eL){return function(eM){return eL(cr.toSafe(eM));};}(function(eL){cK.log(eL);}))(eK.message));return ct.Bind(ct.Sleep(1000),function(){return ct.Return(null);});});}));});})),null);};ck.j$4=function(){return ck._v$4?ck._v$4:ck._v$4=(c3.EncodeUnion(void 0,"$",[[0,[["$0","ResultValue",ck.j$6,0]]],[1,[["$0","ErrorValue",ck.j$5,0]]]]))();};cl.j$5=function(){return cl._v$5?cl._v$5:cl._v$5=(c3.DecodeUnion(void 0,"$",[[0,[["$0","Item",cl.j$6,0]]],[1,[["$0","Item",c3.DecodeArray(c3.Id()),0]]]]))();};cl.j$4=function(){return cl._v$4?cl._v$4:cl._v$4=(c3.DecodeUnion(void 0,"$",[[0,[]],[1,[["$0","Item",c3.DecodeArray(cl.j$5),0]]],[2,[["$0","Item",cl.j$5,0]]],[3,[["$0","Item",cl.j$5,0]]],[4,[["$0","Item",c3.DecodeArray(c3.Id()),0]]],[5,[]]]))();};cl.j$6=function(){return cl._v$6?cl._v$6:cl._v$6=(c3.DecodeUnion(P,"$",[[0,[["$0","Item",c3.Id(),0]]]]))();};cm.p=function(dt){return"SnippetId "+cr.prettyPrint(dt.$0);};ck.j$5=function(){return ck._v$5?ck._v$5:ck._v$5=(c3.EncodeUnion(d,"$",[[0,[["$0","Item",c3.Id(),0]]],[1,[["$0","Item",c3.Id(),0]]],[2,[["$0","Item",c3.Id(),0]]],[3,[["$0","Item1",c3.Id(),0],["$1","Item2",c3.Id(),0]]]]))();};ck.j$6=function(){return ck._v$6?ck._v$6:ck._v$6=(c3.EncodeUnion(void 0,"$",[[0,[["$0","Item",c3.Id(),0]]],[1,[["$0","Item",c3.EncodeArray(ck.j$7),0]]]]))();};ck.j$7=function(){return ck._v$7?ck._v$7:ck._v$7=(c3.EncodeRecord(void 0,[["snpId",ck.j$8,0],["snpName",c3.Id(),0],["snpContent",c3.Id(),0],["snpParentIdO",ck.j$8,1],["snpPredIds",c3.EncodeSet(ck.j$8),0],["snpProperties",c3.EncodeArray(c3.EncodeTuple([c3.Id(),c3.Id()])),0],["snpGeneration",c3.Id(),0]]))();};ck.j$8=function(){return ck._v$8?ck._v$8:ck._v$8=(c3.EncodeUnion(P,"$",[[0,[["$0","Item",c3.Id(),0]]]]))();};cn.snippetlist=function(dt){cW.LoadLocalTemplates("templates");return dt?cW.NamedTemplate("templates",{$:1,$0:"snippetlist"},dt):void 0;};cn.snippet=function(dt){cW.LoadLocalTemplates("templates");return dt?cW.NamedTemplate("templates",{$:1,$0:"snippet"},dt):void 0;};cn.propertytable=function(dt){cW.LoadLocalTemplates("templates");return dt?cW.NamedTemplate("templates",{$:1,$0:"propertytable"},dt):void 0;};cn.property=function(dt){cW.LoadLocalTemplates("templates");return dt?cW.NamedTemplate("templates",{$:1,$0:"property"},dt):void 0;};cn.layout=function(dt){ds.fixedsplitterhor();ds.fixedsplitterver();cW.LoadLocalTemplates("templates");return dt?cW.NamedTemplate("templates",{$:1,$0:"layout"},dt):void 0;};cn.buttonsright=function(dt){cW.LoadLocalTemplates("templates");return dt?cW.NamedTemplate("templates",{$:1,$0:"buttonsright"},dt):void 0;};cm.p$1=function(dt){return dt.$==3?"ExceptMsg ("+cr.prettyPrint(dt.$0)+", "+cr.prettyPrint(dt.$1)+")":dt.$==2?"Message "+cm.p$2(dt.$0):dt.$==1?"Warning "+cr.prettyPrint(dt.$0):"ErrorMsg "+cr.prettyPrint(dt.$0);};cm.p$2=function(dt){return dt.$==3?"ShellCrashed ("+cr.prettyPrint(dt.$0)+", "+cr.prettyPrint(dt.$1)+")":dt.$==2?"ShellNoExit ("+cr.prettyPrint(dt.$0)+", "+cr.prettyPrint(dt.$1)+")":dt.$==1?"ShellExit ("+cr.prettyPrint(dt.$0)+", "+cr.prettyPrint(dt.$1)+", "+cr.prettyPrint(dt.$2)+")":"ShellDidNotStart";};cm.p$4=function(dt){return dt.$==5?"MsgGetUrl":dt.$==4?"MsgAction "+cr.printArray(cr.prettyPrint,dt.$0):dt.$==3?"MsgGetPredecessors "+cm.p$3(dt.$0):dt.$==2?"MsgGetCode "+cm.p$3(dt.$0):dt.$==1?"MsgGetSnippets "+cr.printArray(function(du){return cm.p$3(du);},dt.$0):"MsgGetId";};cm.p$3=function(dt){return dt.$==1?"RefSnippetPath "+cr.printArray(cr.prettyPrint,dt.$0):"RefSnippetId "+cm.p(dt.$0);};ck.j$9=function(){return ck._v$9?ck._v$9:ck._v$9=(c3.EncodeUnion(void 0,"type",[["BRGetConnections",[]],["BRGetProcessId",[]]]))();};cm.p$5=function(dt){return dt.$==2?"BRString "+cr.prettyPrint(dt.$0):dt.$==1?"BRPid "+cr.prettyPrint(dt.$0):"BRConnections "+cr.printArray(cr.prettyPrint,dt.$0);};cl.j$7=function(){return cl._v$7?cl._v$7:cl._v$7=(c3.DecodeUnion(void 0,"type",[["BRConnections",[["$0","Item",c3.DecodeArray(c3.Id()),0]]],["BRPid",[["$0","Item",c3.Id(),0]]],["BRString",[["$0","Item",c3.Id(),0]]]]))();};cl.j$8=function(){return cl._v$8?cl._v$8:cl._v$8=(c3.DecodeUnion(void 0,"type",[["BMOk",[]],["BMOnlyBrokerShouldUse",[]],["BMDestinationNotFound",[["$0","Item",cl.j$1,0]]],["BMWebSocketError",[["$0","Item",c3.Id(),0]]],["BMReceiverCantReply",[]],["BMUnexpectedMsgType",[["$0","Item",cl.j$2,0]]],["BMUnexpectedResponse",[["$0","Item",c3.Id(),0]]]]))();};cm.p$8=function(dt){return dt.$==2?"Receiver":dt.$==1?"Broker":"NoReply";};cm.p$7=function(dt){return dt.$==5?"MsgRequestForEcho":dt.$==4?"MsgRequestForId":dt.$==3?"MsgFromBroker":dt.$==2?"MsgReply":dt.$==1?"MsgRequest":"MsgInformation";};co.p=function(dt){return"{"+("from = "+cm.p$6(dt.from))+"; "+("destination = "+cm.p$6(dt.destination))+"; "+("msgType = "+cm.p$7(dt.msgType))+"; "+("subtype = "+cr.prettyPrint(dt.subtype))+"; "+("id = "+cr.prettyPrint(dt.id))+"; "+("payload = "+cr.prettyPrint(dt.payload))+"; "+("replier = "+cm.p$8(dt.replier))+"}";};cm.p$6=function(dt){return"Address "+cr.prettyPrint(dt.$0);};cm.p$9=function(dt){return dt.$==3?"Close":dt.$==2?"Open":dt.$==1?"Error":"Message "+co.p(dt.$0);};cm.p$10=function(dt){return dt.$==3?"ExceptMsg ("+cr.prettyPrint(dt.$0)+", "+cr.prettyPrint(dt.$1)+")":dt.$==2?"Message "+cr.printArray(function(du){return cm.p$11(du);},dt.$0):dt.$==1?"Warning "+cr.prettyPrint(dt.$0):"ErrorMsg "+cr.prettyPrint(dt.$0);};cm.p$11=function(dt){return dt.$==17?"KMultiple "+cr.printArray(function(du){return cm.p$11(du);},dt.$0):dt.$==16?"KUnionCase "+co.p$22(dt.$0):dt.$==15?"KNamespaces "+co.p$19(dt.$0):dt.$==14?"KCompilerLocation "+co.p$18(dt.$0):dt.$==13?"KSignatureData "+co.p$16(dt.$0):dt.$==12?"KTypeSig "+cr.prettyPrint(dt.$0):dt.$==11?"KToolTip "+cr.printArray(function(du){return cr.printArray(function(dv){return co.p$3(dv);},du);},dt.$0):dt.$==10?"KDeclarations "+cr.printArray(function(du){return co.p$14(du);},dt.$0):dt.$==9?"KFindDecl "+co.p$13(dt.$0):dt.$==8?"KColorizations "+cr.printList(function(du){return co.p$12(du);},dt.$0):dt.$==7?"KErrors "+co.p$10(dt.$0):dt.$==6?"KMethod "+co.p$7(dt.$0):dt.$==5?"KHelp "+cr.prettyPrint(dt.$0):dt.$==4?"KSymbolUse "+co.p$5(dt.$0):dt.$==3?"KCompletion "+cr.printArray(function(du){return co.p$4(du);},dt.$0):dt.$==2?"KHelpText "+co.p$2(dt.$0):dt.$==1?"KError "+co.p$1(dt.$0):"KInfo "+cr.prettyPrint(dt.$0);};co.p$22=function(dt){return"{"+("Text = "+cr.prettyPrint(dt.Text))+"}";};co.p$21=function(dt){return"{"+("Name = "+cr.prettyPrint(dt.Name))+"; "+("Qualifier = "+cr.prettyPrint(dt.Qualifier))+"}";};co.p$20=function(dt){return"{"+("Namespace = "+cr.prettyPrint(dt.Namespace))+"; "+("Name = "+cr.prettyPrint(dt.Name))+"; "+("Type = "+cr.prettyPrint(dt.Type))+"; "+("Line = "+cr.prettyPrint(dt.Line))+"; "+("Column = "+cr.prettyPrint(dt.Column))+"; "+("MultipleNames = "+cr.prettyPrint(dt.MultipleNames))+"}";};co.p$18=function(dt){return"{"+("Fsc = "+cr.prettyPrint(dt.Fsc))+"; "+("Fsi = "+cr.prettyPrint(dt.Fsi))+"; "+("MSBuild = "+cr.prettyPrint(dt.MSBuild))+"}";};co.p$16=function(dt){return"{"+("OutputType = "+cr.prettyPrint(dt.OutputType))+"; "+("Parameters = "+cr.printList(function(du){return cr.printList(function(dv){return co.p$17(dv);},du);},dt.Parameters))+"}";};co.p$19=function(dt){return"{"+("Opens = "+cr.printArray(function(du){return co.p$20(du);},dt.Opens))+"; "+("Qualifies = "+cr.printArray(function(du){return co.p$21(du);},dt.Qualifies))+"; "+("Word = "+cr.prettyPrint(dt.Word))+"}";};co.p$17=function(dt){return"{"+("Name = "+cr.prettyPrint(dt.Name))+"; "+("Type = "+cr.prettyPrint(dt.Type))+"}";};co.p$14=function(dt){return"{"+("Declaration = "+co.p$15(dt.Declaration))+"; "+("Nested = "+cr.printArray(function(du){return co.p$15(du);},dt.Nested))+"}";};co.p$13=function(dt){return"{"+("File = "+cr.prettyPrint(dt.File))+"; "+("Line = "+cr.prettyPrint(dt.Line))+"; "+("Column = "+cr.prettyPrint(dt.Column))+"}";};co.p$15=function(dt){return"{"+("UniqueName = "+cr.prettyPrint(dt.UniqueName))+"; "+("Name = "+cr.prettyPrint(dt.Name))+"; "+("Glyph = "+cr.prettyPrint(dt.Glyph))+"; "+("GlyphChar = "+cr.prettyPrint(dt.GlyphChar))+"; "+("IsTopLevel = "+cr.prettyPrint(dt.IsTopLevel))+"; "+("File = "+cr.prettyPrint(dt.File))+"; "+("EnclosingEntity = "+cr.prettyPrint(dt.EnclosingEntity))+"; "+("IsAbstract = "+cr.prettyPrint(dt.IsAbstract))+"}";};co.p$12=function(dt){return"{"+("Kind = "+cr.prettyPrint(dt.Kind))+"}";};co.p$10=function(dt){return"{"+("File = "+cr.prettyPrint(dt.File))+"; "+("Errors = "+cr.printArray(function(du){return co.p$11(du);},dt.Errors))+"}";};co.p$11=function(dt){return"{"+("FileName = "+cr.prettyPrint(dt.FileName))+"; "+("StartLine = "+cr.prettyPrint(dt.StartLine))+"; "+("EndLine = "+cr.prettyPrint(dt.EndLine))+"; "+("StartColumn = "+cr.prettyPrint(dt.StartColumn))+"; "+("EndColumn = "+cr.prettyPrint(dt.EndColumn))+"; "+("Severity = "+cr.prettyPrint(dt.Severity))+"; "+("Message = "+cr.prettyPrint(dt.Message))+"; "+("Subcategory = "+cr.prettyPrint(dt.Subcategory))+"}";};co.p$7=function(dt){return"{"+("Name = "+cr.prettyPrint(dt.Name))+"; "+("CurrentParameter = "+cr.prettyPrint(dt.CurrentParameter))+"; "+("Overloads = "+cr.printList(function(du){return co.p$8(du);},dt.Overloads))+"}";};co.p$8=function(dt){return"{"+("Tip = "+cr.printList(function(du){return cr.printList(function(dv){return co.p$3(dv);},du);},dt.Tip))+"; "+("TypeText = "+cr.prettyPrint(dt.TypeText))+"; "+("Parameters = "+cr.printList(function(du){return co.p$9(du);},dt.Parameters))+"; "+("IsStaticArguments = "+cr.prettyPrint(dt.IsStaticArguments))+"}";};co.p$9=function(dt){return"{"+("Name = "+cr.prettyPrint(dt.Name))+"; "+("CanonicalTypeTextForSorting = "+cr.prettyPrint(dt.CanonicalTypeTextForSorting))+"; "+("Display = "+cr.prettyPrint(dt.Display))+"; "+("Description = "+cr.prettyPrint(dt.Description))+"}";};co.p$5=function(dt){return"{"+("Name = "+cr.prettyPrint(dt.Name))+"; "+("Uses = "+cr.printList(function(du){return co.p$6(du);},dt.Uses))+"}";};co.p$6=function(dt){return"{"+("FileName = "+cr.prettyPrint(dt.FileName))+"; "+("StartLine = "+cr.prettyPrint(dt.StartLine))+"; "+("StartColumn = "+cr.prettyPrint(dt.StartColumn))+"; "+("EndLine = "+cr.prettyPrint(dt.EndLine))+"; "+("EndColumn = "+cr.prettyPrint(dt.EndColumn))+"; "+("IsFromDefinition = "+cr.prettyPrint(dt.IsFromDefinition))+"; "+("IsFromAttribute = "+cr.prettyPrint(dt.IsFromAttribute))+"; "+("IsFromComputationExpression = "+cr.prettyPrint(dt.IsFromComputationExpression))+"; "+("IsFromDispatchSlotImplementation = "+cr.prettyPrint(dt.IsFromDispatchSlotImplementation))+"; "+("IsFromPattern = "+cr.prettyPrint(dt.IsFromPattern))+"; "+("IsFromType = "+cr.prettyPrint(dt.IsFromType))+"}";};co.p$4=function(dt){return"{"+("Name = "+cr.prettyPrint(dt.Name))+"; "+("ReplacementText = "+cr.prettyPrint(dt.ReplacementText))+"; "+("Glyph = "+cr.prettyPrint(dt.Glyph))+"; "+("GlyphChar = "+cr.prettyPrint(dt.GlyphChar))+"}";};co.p$2=function(dt){return"{"+("Name = "+cr.prettyPrint(dt.Name))+"; "+("Overloads = "+cr.printList(function(du){return cr.printList(function(dv){return co.p$3(dv);},du);},dt.Overloads))+"}";};co.p$3=function(dt){return"{"+("Signature = "+cr.prettyPrint(dt.Signature))+"; "+("Comment = "+cr.prettyPrint(dt.Comment))+"; "+("Footer = "+cr.prettyPrint(dt.Footer))+"}";};co.p$1=function(dt){return"{"+("Code = "+cr.prettyPrint(dt.Code))+"; "+("Message = "+cr.prettyPrint(dt.Message))+"}";};ck.j$1=function(){return ck._v$1?ck._v$1:ck._v$1=(c3.EncodeUnion(bp,"$",[[0,[["$0","address",c3.Id(),0]]]]))();};ck.j$2=function(){return ck._v$2?ck._v$2:ck._v$2=(c3.EncodeUnion(void 0,"type",[["MsgInformation",[]],["MsgRequest",[]],["MsgReply",[]],["MsgFromBroker",[]],["MsgRequestForId",[]],["MsgRequestForEcho",[]]]))();};ck.j$3=function(){return ck._v$3?ck._v$3:ck._v$3=(c3.EncodeUnion(void 0,"type",[["NoReply",[]],["Broker",[]],["Receiver",[]]]))();};ck.j=function(){return ck._v?ck._v:ck._v=(c3.EncodeRecord(void 0,[["from",ck.j$1,0],["destination",ck.j$1,0],["msgType",ck.j$2,0],["subtype",c3.Id(),0],["id",c3.Id(),0],["payload",c3.Id(),0],["replier",ck.j$3,0]]))();};cl.j$1=function(){return cl._v$1?cl._v$1:cl._v$1=(c3.DecodeUnion(bp,"$",[[0,[["$0","address",c3.Id(),0]]]]))();};cl.j$2=function(){return cl._v$2?cl._v$2:cl._v$2=(c3.DecodeUnion(void 0,"type",[["MsgInformation",[]],["MsgRequest",[]],["MsgReply",[]],["MsgFromBroker",[]],["MsgRequestForId",[]],["MsgRequestForEcho",[]]]))();};cl.j$3=function(){return cl._v$3?cl._v$3:cl._v$3=(c3.DecodeUnion(void 0,"type",[["NoReply",[]],["Broker",[]],["Receiver",[]]]))();};cl.j=function(){return cl._v?cl._v:cl._v=(c3.DecodeRecord(void 0,[["from",cl.j$1,0],["destination",cl.j$1,0],["msgType",cl.j$2,0],["subtype",c3.Id(),0],["id",c3.Id(),0],["payload",c3.Id(),0],["replier",cl.j$3,0]]))();};}());

//# sourceMappingURL=FSharpStation.min.map