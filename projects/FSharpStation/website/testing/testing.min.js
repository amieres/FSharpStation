function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT;a=self;b=a.FsRoot=a.FsRoot||{};c=b.LibraryJS=b.LibraryJS||{};d=c.Monaco=c.Monaco||{};e=d.Range=d.Range||{};f=d.Location=d.Location||{};g=d.MarkDownString=d.MarkDownString||{};h=d.MarkerData=d.MarkerData||{};i=d.CompletionItem=d.CompletionItem||{};j=d.Hover=d.Hover||{};k=a.WebSharper=a.WebSharper||{};l=k.Obj=k.Obj||{};m=d.Editor=d.Editor||{};n=d.MonacoConfig=d.MonacoConfig||{};o=b.TestingJS=b.TestingJS||{};p=o.Monaco=o.Monaco||{};q=p.HoverProvider=p.HoverProvider||{};r=p.CompletionItemProvider=p.CompletionItemProvider||{};s=p.DefinitionProvider=p.DefinitionProvider||{};t=k.UI=k.UI||{};u=t.Var=t.Var||{};v=t.View=t.View||{};w=k.Operators=k.Operators||{};x=k.Unchecked=k.Unchecked||{};y=a.StartupCode$testing$testing=a.StartupCode$testing$testing||{};z=a.EventTarget;A=c.ResizeObserver=c.ResizeObserver||{};B=t.Var$1=t.Var$1||{};C=k.JavaScript=k.JavaScript||{};D=C.Pervasives=C.Pervasives||{};E=k.Utils=k.Utils||{};F=k.Arrays=k.Arrays||{};G=b.Library=b.Library||{};H=t.HtmlModule=t.HtmlModule||{};I=H.attr=H.attr||{};J=a.Node;K=C.JS=C.JS||{};L=t.Snap=t.Snap||{};M=G.String=G.String||{};N=k.Strings=k.Strings||{};O=k.Slice=k.Slice||{};P=k.List=k.List||{};Q=P.T=P.T||{};R=t.AttrProxy=t.AttrProxy||{};S=k.Concurrency=k.Concurrency||{};T=t.ConcreteVar=t.ConcreteVar||{};U=t.Abbrev=t.Abbrev||{};V=U.Fresh=U.Fresh||{};W=a.Object;X=t.Doc=t.Doc||{};Y=t.Client=t.Client||{};Z=Y.Templates=Y.Templates||{};_0=a.WindowOrWorkerGlobalScope;_1=k.Seq=k.Seq||{};_2=S.AsyncBody=S.AsyncBody||{};_3=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};_4=S.CT=S.CT||{};_5=t.Attrs=t.Attrs||{};_6=t.DomUtility=t.DomUtility||{};_7=t.AttrModule=t.AttrModule||{};_8=t.Docs=t.Docs||{};_9=k.Collections=k.Collections||{};_=_9.Dictionary=_9.Dictionary||{};$=k.Enumerator=k.Enumerator||{};ba=$.T=$.T||{};bb=S.Scheduler=S.Scheduler||{};bc=k.CancellationTokenSource=k.CancellationTokenSource||{};bd=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};be=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};bf=_9.HashSet=_9.HashSet||{};bg=t.An=t.An||{};bh=Y.Settings=Y.Settings||{};bi=U.Mailbox=U.Mailbox||{};bj=t.Elt=t.Elt||{};bk=t.Array=t.Array||{};bl=a.Error;bm=k.OperationCanceledException=k.OperationCanceledException||{};bn=t.DocElemNode=t.DocElemNode||{};bo=a.CharacterData;bp=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};bq=_9.DictionaryUtil=_9.DictionaryUtil||{};br=Z.Prepare=Z.Prepare||{};bs=_9.KeyCollection=_9.KeyCollection||{};bt=Y.Docs=Y.Docs||{};bu=bt.RunState=bt.RunState||{};bv=bt.NodeSet=bt.NodeSet||{};bw=t.Anims=t.Anims||{};bx=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};by=t.Updates=t.Updates||{};bz=k.Queue=k.Queue||{};bA=Y.Attrs=Y.Attrs||{};bB=bA.Dyn=bA.Dyn||{};bC=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};bD=t.AppendList=t.AppendList||{};bE=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};bF=t.Easing=t.Easing||{};bG=U.HashSet=U.HashSet||{};bH=t.DynamicAttrNode=t.DynamicAttrNode||{};bI=bt.DomNodes=bt.DomNodes||{};bJ=_9.HashSetUtil=_9.HashSetUtil||{};bK=k.Lazy=k.Lazy||{};bL=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};bM=k.LazyExtensionsProxy=k.LazyExtensionsProxy||{};bN=bM.LazyRecord=bM.LazyRecord||{};bO=a.IntelliFactory;bP=bO&&bO.Runtime;bQ=a.Math;bR=a.console;bS=a.jQuery;bT=a.Date;d.newVar=function(bU){return n.New(bU,a.ignore,null,null,v.Const(false),null,null);};d.loader=function(){y.$cctor();return y.loader;};d.render=function(bU){return X.Element("div",[R.OnAfterRenderImpl(function(bV){var bW;S.Start((bW=null,S.Delay(function(){return S.Bind(d.loader(),function(){var bX,bY,bZ;bX=(bY=bV.parentElement,self.monaco.editor.create(bY,bU.options,bU.overrides));A.addResizeObserver(function(){bX.layout();},bV.parentElement);bV.parentNode.removeChild(bV);bU.editorO={$:1,$0:bX};bZ=bU.onRender;bZ==null?void 0:bZ.$0(bX);c.bindVarEditor(function(b0){bX.onDidChangeModelContent(b0);},function(){return bX.getValue();},function(b0){bX.setValue(b0);},bU.onChange,bU["var"]);return S.Zero();});})),null);})],[]);};d.setVar=function(bU,bV){return n.New(bU,bV.onChange,bV.onRender,bV.editorO,bV.disabled,bV.options,bV.overrides);};d.onChange=function(bU,bV){return n.New(bV["var"],bU,bV.onRender,bV.editorO,bV.disabled,bV.options,bV.overrides);};d.onRender=function(bU,bV){return n.New(bV["var"],bV.onChange,{$:1,$0:bU},bV.editorO,bV.disabled,bV.options,bV.overrides);};d.disabled=function(bU,bV){return n.New(bV["var"],bV.onChange,bV.onRender,bV.editorO,bU,bV.options,bV.overrides);};d["var"]=function(bU){return bU["var"];};d.newText=function(bU){return d.newVar(B.Create$1(bU));};d.newVarO=function(bU){var bV;bV=d.newVar(B.Lens(bU,function(bW){return bW==null?"":bW.$0;},function(bW,bX){return bW==null?null:{$:1,$0:bX};}));return d.disabled(v.Map(function(bW){return bW==null;},bU.get_View()),bV);};e.New=function(bU,bV,bW,bX){return{startColumn:bU,endColumn:bV,startLineNumber:bW,endLineNumber:bX};};f.New=function(bU,bV){return{range:bU,uri:bV};};g.New=function(bU,bV){return{value:bU,isTrusted:bV};};h.New=function(bU,bV,bW,bX,bY,bZ){return{startColumn:bU,endColumn:bV,startLineNumber:bW,endLineNumber:bX,severity:bY,message:bZ};};i.New=function(bU,bV,bW){return{kind:bU,label:bV,detail:bW};};j.New=function(bU,bV){return{contents:bU,range:bV};};l=k.Obj=bP.Class({Equals:function(bU){return this===bU;},GetHashCode:function(){return -1;}},null,l);l.New=bP.Ctor(function(){},l);m=d.Editor=bP.Class({},l,m);m.New=bP.Ctor(function(){l.New.call(this);},m);n.New=function(bU,bV,bW,bX,bY,bZ,b0){return{"var":bU,onChange:bV,onRender:bW,editorO:bX,disabled:bY,options:bZ,overrides:b0};};p.annotationsV=function(){y.$cctor();return y.annotationsV;};p.transformAnnotations=function(bU){var bV,bW;function bX(bY,bZ,b0,b1,b2,b3){return h.New(b0,b2,bZ,b1,bY==="Err"?8:bY==="Warn"?4:bY==="Hint"?1:2,b3);}bV="(Err|Warn|Info|Hint) \\((\\d+)\\,\\s*(\\d+)\\) - \\((\\d+)\\,\\s*(\\d+)\\)\\: \"([^\"]+?)\"\\.";return F.map(function(bY){return bX(bY[0],bY[1],bY[2],bY[3],bY[4],bY[5]);},F.choose(function(bY){var bZ,b0,b1;return(b0=c.REGEX$1(bV,"",bY),b0!=null&&b0.$==1&&((b1=b0.$0,!x.Equals(b1,null)&&b1.length===7)&&(bZ=[F.get(b0.$0,3),F.get(b0.$0,2),F.get(b0.$0,6),F.get(b0.$0,5),F.get(b0.$0,4),F.get(b0.$0,1)],true)))?{$:1,$0:[bZ[5],w.toInt(a.Number(bZ[1])),w.toInt(a.Number(bZ[0])),w.toInt(a.Number(bZ[4])),w.toInt(a.Number(bZ[3])),bZ[2]]}:null;},(bW=c.REGEX$1(bV,"g",bU),bW!=null&&bW.$==1?bW.$0:[])));};p.monacoNew=function(bU,bV,bW,bX){return d.onRender(function(bY){var bZ,b0,b1,b2;function b3(b7,b8,b9){return b0.provideHover(b7,b8,b9);}function b4(b7,b8,b9,b_){return b1.provideCompletionItems(b7,b8,b9,b_);}function b5(b7,b8){return b1.resolveCompletionItem(b7,b8);}function b6(b7,b8,b9){return b2.provideDefinition(b7,b8,b9);}bZ=bY.getModel();self.monaco.editor.setModelLanguage(bZ,"fsharp");self.monaco.editor.setTheme("vs-dark");b0=new q.New(bY);b1=new r.New(bY);b2=new s.New(bY);G.print(function(b7){return b3(b7[0],b7[1],b7[2]);});G.print(function(b7){return b4(b7[0],b7[1],b7[2],b7[3]);});G.print(function(b7){return b5(b7[0],b7[1]);});G.print(function(b7){return b6(b7[0],b7[1],b7[2]);});self.monaco.languages.registerHoverProvider("fsharp",b0);self.monaco.languages.registerCompletionItemProvider("fsharp",b1);self.monaco.languages.registerDefinitionProvider("fsharp",b2);bV==null?void 0:v.Sink(function(b7){var b8;b8=bY.getModel();self.monaco.editor.setModelMarkers(b8,"annotations",b7);},bV.$0);},d.newVar(bU));};p.main=function(){var bU,bV,bW,bX;bU=B.Create$1("Hello there.\nHello there.\nHello there.\nHello there.\n");bV=p.monacoNew(bU,{$:1,$0:v.Map2(function(bY,bZ){return bY===""?[]:p.transformAnnotations(bZ);},bU.get_View(),p.annotationsV().get_View())},null,null);bW=X.Element("div",[],[X.Element("div",[R.Create("style","height: 400px; width: 800px")],[d.render(bV)]),X.Element("div",[],[X.TextNode("These are the annotations that create tooltips, warnings and errors:")]),X.InputArea([R.Create("style","height: 100px; width: 600px")],B.Lens(p.annotationsV(),a.id,function(bY,bZ){return bZ;})),X.Element("div",[],[X.TextView(bU.get_View())])]);bX=self.document.body;Z.LoadLocalTemplates("");X.Run(bX,bW);};q=p.HoverProvider=bP.Class({provideHover:function(bU,bV,bW){var bX,bY;bX=bU.getWordAtPosition(bV);return!bX?null:j.New([g.New((bY=bX.word,(function(bZ){return function(b0){return bZ("The word is: "+E.toSafe(b0));};}(a.id))(bY)),true)],e.New(bX.startColumn,bX.endColumn,bV.lineNumber,bV.lineNumber));}},l,q);q.New=bP.Ctor(function(bU){l.New.call(this);},q);r=p.CompletionItemProvider=bP.Class({provideCompletionItems:function(bU,bV,bW,bX){var bY;bY=bU.getWordAtPosition(bV);return!bY?null:[i.New(2,"Hello",""),i.New(2,"How",""),i.New(2,"Are",""),i.New(2,"You",""),i.New(2,bY.word,"")];},resolveCompletionItem:function(bU,bV){return i.New(bU.kind,bU.label,"more details");}},l,r);r.New=bP.Ctor(function(bU){l.New.call(this);},r);s=p.DefinitionProvider=bP.Class({provideDefinition:function(bU,bV,bW){var bX,bY;bX=bU.getWordAtPosition(bV);return!bX?null:(bY=bU.findMatches(bX.word,false,false,true," <>()+-=.,/#@$%^&*\"",false,1),F.length(bY)===0?null:f.New(F.get(bY,0).range,bU.uri));}},l,s);s.New=bP.Ctor(function(bU){l.New.call(this);},s);u=t.Var=bP.Class({},l,u);u.New=bP.Ctor(function(){l.New.call(this);},u);v=t.View=bP.Class({},null,v);w.toInt=function(bU){var bV;bV=w.toUInt(bU);return bV>=2147483648?bV-4294967296:bV;};w.toUInt=function(bU){return(bU<0?bQ.ceil(bU):bQ.floor(bU))>>>0;};w.FailWith=function(bU){throw new bl(bU);};w.KeyValue=function(bU){return[bU.K,bU.V];};v.Const=function(bU){var bV;bV=L.New({$:0,$0:bU});return function(){return bV;};};v.Map=function(bU,bV){return v.CreateLazy(function(){return L.Map(bU,bV());});};v.Sink=function(bU,bV){function bW(){L.WhenRun(bV(),bU,function(){S.scheduler().Fork(bW);});}S.scheduler().Fork(bW);};v.Map2=function(bU,bV,bW){return v.CreateLazy(function(){return L.Map2(bU,bV(),bW());});};v.CreateLazy=function(bU){var bV;bV={c:null,o:bU};return function(){var bW,bX;bW=bV.c;return bW===null?(bW=bV.o(),bV.c=bW,(bX=bW.s,bX!=null&&bX.$==0)?bV.o=null:L.WhenObsoleteRun(bW,function(){bV.c=null;}),bW):bW;};};v.Map2Unit=function(bU,bV){return v.CreateLazy(function(){return L.Map2Unit(bU(),bV());});};x.Equals=function(bU,bV){var bW,bX,bY,bZ;if(bU===bV)return true;else{bW=typeof bU;if(bW=="object"){if(bU===null||bU===void 0||bV===null||bV===void 0)return false;else if("Equals"in bU)return bU.Equals(bV);else if(bU instanceof a.Array&&bV instanceof a.Array)return x.arrayEquals(bU,bV);else if(bU instanceof a.Date&&bV instanceof a.Date)return x.dateEquals(bU,bV);else{bX=[true];for(var b0 in bU)if(function(b1){bX[0]=!bU.hasOwnProperty(b1)||bV.hasOwnProperty(b1)&&x.Equals(bU[b1],bV[b1]);return!bX[0];}(b0))break;if(bX[0]){for(var b1 in bV)if(function(b2){bX[0]=!bV.hasOwnProperty(b2)||bU.hasOwnProperty(b2);return!bX[0];}(b1))break;}return bX[0];}}else return bW=="function"&&("$Func"in bU?bU.$Func===bV.$Func&&bU.$Target===bV.$Target:"$Invokes"in bU&&"$Invokes"in bV&&x.arrayEquals(bU.$Invokes,bV.$Invokes));}};x.arrayEquals=function(bU,bV){var bW,bX;if(F.length(bU)===F.length(bV)){bW=true;bX=0;while(bW&&bX<F.length(bU)){!x.Equals(F.get(bU,bX),F.get(bV,bX))?bW=false:void 0;bX=bX+1;}return bW;}else return false;};x.dateEquals=function(bU,bV){return bU.getTime()===bV.getTime();};x.Compare=function(bU,bV){var bW,bX,bY,bZ,b0,b1;if(bU===bV)return 0;else{bX=typeof bU;switch(bX=="function"?1:bX=="boolean"?2:bX=="number"?2:bX=="string"?2:bX=="object"?3:0){case 0:return typeof bV=="undefined"?0:-1;case 1:return w.FailWith("Cannot compare function values.");case 2:return bU<bV?-1:1;case 3:if(bU===null)bY=-1;else if(bV===null)bY=1;else if("CompareTo"in bU)bY=bU.CompareTo(bV);else if("CompareTo0"in bU)bY=bU.CompareTo0(bV);else if(bU instanceof a.Array&&bV instanceof a.Array)bY=x.compareArrays(bU,bV);else if(bU instanceof a.Date&&bV instanceof a.Date)bY=x.compareDates(bU,bV);else{bZ=[0];for(var b2 in bU)if(function(b3){return!bU.hasOwnProperty(b3)?false:!bV.hasOwnProperty(b3)?(bZ[0]=1,true):(bZ[0]=x.Compare(bU[b3],bV[b3]),bZ[0]!==0);}(b2))break;if(bZ[0]===0){for(var b3 in bV)if(function(b4){return!bV.hasOwnProperty(b4)?false:!bU.hasOwnProperty(b4)&&(bZ[0]=-1,true);}(b3))break;}bY=bZ[0];}return bY;}}};x.compareArrays=function(bU,bV){var bW,bX;if(F.length(bU)<F.length(bV))return -1;else if(F.length(bU)>F.length(bV))return 1;else{bW=0;bX=0;while(bW===0&&bX<F.length(bU)){bW=x.Compare(F.get(bU,bX),F.get(bV,bX));bX=bX+1;}return bW;}};x.compareDates=function(bU,bV){return x.Compare(bU.getTime(),bV.getTime());};x.Hash=function(bU){var bV;bV=typeof bU;return bV=="function"?0:bV=="boolean"?bU?1:0:bV=="number"?bU:bV=="string"?x.hashString(bU):bV=="object"?bU==null?0:bU instanceof a.Array?x.hashArray(bU):x.hashObject(bU):0;};x.hashString=function(bU){var bV,bW,bX;if(bU===null)return 0;else{bV=5381;for(bW=0,bX=bU.length-1;bW<=bX;bW++)bV=x.hashMix(bV,bU[bW].charCodeAt());return bV;}};x.hashArray=function(bU){var bV,bW,bX;bV=-34948909;for(bW=0,bX=F.length(bU)-1;bW<=bX;bW++)bV=x.hashMix(bV,x.Hash(F.get(bU,bW)));return bV;};x.hashObject=function(bU){var bV,bW;if("GetHashCode"in bU)return bU.GetHashCode();else{bV=[0];for(var bX in bU)if(function(bY){bV[0]=x.hashMix(x.hashMix(bV[0],x.hashString(bY)),x.Hash(bU[bY]));return false;}(bX))break;return bV[0];}};x.hashMix=function(bU,bV){return(bU<<5)+bU+bV;};y.$cctor=function(){var bU,bV;y.$cctor=a.ignore;function bW(b0){return N.concat("\n",b0);}function bX(b0){return M.splitByChar("\n",b0);}function bY(b0){var b1,b2;return O.array(b0,{$:1,$0:0},{$:1,$0:(b1=0,(b2=F.length(b0)-2,x.Compare(b1,b2)===1?b1:b2))});}function bZ(b0){return N.concat("\n",b0);}y.unindentStr=function(b0){return bW(M.unindent(b0));};y.skipLastLine=(bU=function(b0){return bY(bX(b0));},function(b0){return bZ(bU(b0));});y.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";y.observers=Q.Empty;y.loader=(bV=null,S.Delay(function(){self.require.config({paths:{vs:"/EPFileX/monaco/package/min/vs"}});return S.Bind(S.FromContinuations(function(b0,b1){return self.require(["vs/editor/editor.main"],b0,b1);}),function(){return S.Return(null);});}));y.annotationsV=B.Create$1("Err (1, 7) - (1, 12): \"This shows over there as an error\".\nWarn (2, 7) - (2, 12): \"This shows over there as a warning\".\nInfo (3, 7) - (3, 12): \"This shows over there as information\".\nHint (4, 7) - (4, 12): \"This shows over there as a hint\".");};A.addResizeObserver=function(bU,bV){var bW,bX,bY,bZ;try{bW=!(!a.ResizeObserver);}catch(b0){bW=false;}if(bW){bX=new a.ResizeObserver(bU);A.set_observers(new Q({$:1,$0:bX,$1:A.observers()}));bX.observe(bV);}else{bY=A.dimsChanged(bV);S.Start((bZ=null,S.Delay(function(){return S.While(function(){return bV.isConnected;},S.Delay(function(){return S.Bind(S.Sleep(110),function(){return bY()?(bU(),S.Zero()):S.Zero();});}));})),null);}};A.set_observers=function(bU){y.$cctor();y.observers=bU;};A.observers=function(){y.$cctor();return y.observers;};A.dimsChanged=function(bU){var bV;bV=[bU.getBoundingClientRect()];return function(){var bW;bW=bU.getBoundingClientRect();return x.Equals(A.domRect2Tuple(bV[0]),A.domRect2Tuple(bW))?false:(bV[0]=bW,true);};};A.domRect2Tuple=function(bU){return[bU.top,bU.left,bU.width,bU.height];};c.bindVarEditor=function(bU,bV,bW,bX,bY){var bZ,b0;bZ=[0];b0=[0];bU(function(){var b1;b1=bV();bY.Get()!==b1?(bZ[0]=bZ[0]+1,bY.Set(b1),bX()):void 0;});v.Sink(function(){if(bZ[0]>b0[0])b0[0]=bZ[0];else if(bV()!==bY.Get())bW(bY.Get());},bY.get_View());};c.REGEX$1=function(bU,bV,bW){var bX;if(bW===null)return null;else try{bX=(new a.String(bW)).match(new a.RegExp(bU,bV));return x.Equals(bX,null)?null:!x.Equals(bX,null)&&bX.length===0?null:{$:1,$0:bX};}catch(bY){return null;}};B=t.Var$1=bP.Class({},l,B);B.Create$1=function(bU){return new T.New(false,L.New({$:2,$0:bU,$1:[]}),bU);};B.Lens=function(bU,bV,bW){var bX,bY,bZ;bX=V.Id();bY=v.Map(bV,bU.get_View());bZ=new u({Get:function(){return bV(bU.Get());},Set:function(b0){return bU.Update(function(b1){return bW(b1,b0);});},SetFinal:function(b0){return this.Set(b0);},Update:function(b0){return bU.Update(function(b1){return bW(b1,b0(bV(b1)));});},UpdateMaybe:function(b0){return bU.UpdateMaybe(function(b1){var b2;b2=b0(bV(b1));return b2==null?null:{$:1,$0:bW(b1,b2.$0)};});},get_View:function(){return bY;},get_Id:function(){return bX;}});u.New.call(bZ);return bZ;};D.NewFromSeq=function(bU){var bV,bW,bX;bV={};bW=$.Get(bU);try{while(bW.MoveNext()){bX=bW.Current();bV[bX[0]]=bX[1];}}finally{if(typeof bW=="object"&&"Dispose"in bW)bW.Dispose();}return bV;};E.toSafe=function(bU){return bU==null?"":bU;};E.prettyPrint=function(bU){var bV,bW;function bX(bY,bZ){return bY+" = "+E.prettyPrint(bZ);}return bU===null?"null":(bV=typeof bU,bV=="string"?"\""+bU+"\"":bV=="object"?bU instanceof a.Array?"[|"+N.concat("; ",F.map(E.prettyPrint,bU))+"|]":(bW=a.String(bU),bW==="[object Object]"?"{"+N.concat("; ",F.map(function(bY){return bX(bY[0],bY[1]);},K.GetFields(bU)))+"}":bW):a.String(bU));};F.choose=function(bU,bV){var bW,bX,bY,bZ;bW=[];for(bX=0,bY=bV.length-1;bX<=bY;bX++){bZ=bU(bV[bX]);bZ==null?void 0:bW.push(bZ.$0);}return bW;};F.map=function(bU,bV){var bW,bX,bY;bW=new a.Array(bV.length);for(bX=0,bY=bV.length-1;bX<=bY;bX++)bW[bX]=bU(bV[bX]);return bW;};F.ofSeq=function(bU){var bV,bW;if(bU instanceof a.Array)return bU.slice();else if(bU instanceof Q)return F.ofList(bU);else{bV=[];bW=$.Get(bU);try{while(bW.MoveNext())bV.push(bW.Current());return bV;}finally{if(typeof bW=="object"&&"Dispose"in bW)bW.Dispose();}}};F.ofList=function(bU){var bV,bW;bW=[];bV=bU;while(!(bV.$==0)){bW.push(P.head(bV));bV=P.tail(bV);}return bW;};F.exists=function(bU,bV){var bW,bX,bY,bZ;bW=false;bX=0;bZ=F.length(bV);while(!bW&&bX<bZ)if(bU(bV[bX]))bW=true;else bX=bX+1;return bW;};F.tryPick=function(bU,bV){var bW,bX,bY;bW=null;bX=0;while(bX<bV.length&&bW==null){bY=bU(bV[bX]);bY!=null&&bY.$==1?bW=bY:void 0;bX=bX+1;}return bW;};F.tryFindIndex=function(bU,bV){var bW,bX;bW=null;bX=0;while(bX<bV.length&&bW==null){bU(bV[bX])?bW={$:1,$0:bX}:void 0;bX=bX+1;}return bW;};F.foldBack=function(bU,bV,bW){var bX,bY,bZ,b0,b1;bX=bW;bZ=bV.length;for(b0=1,b1=bZ;b0<=b1;b0++)bX=bU(bV[bZ-b0],bX);return bX;};F.filter=function(bU,bV){var bW,bX,bY;bW=[];for(bX=0,bY=bV.length-1;bX<=bY;bX++)if(bU(bV[bX]))bW.push(bV[bX]);return bW;};F.iter=function(bU,bV){var bW,bX;for(bW=0,bX=bV.length-1;bW<=bX;bW++)bU(bV[bW]);};F.pick=function(bU,bV){var bW;bW=F.tryPick(bU,bV);return bW==null?w.FailWith("KeyNotFoundException"):bW.$0;};F.create=function(bU,bV){var bW,bX,bY;bW=new a.Array(bU);for(bX=0,bY=bU-1;bX<=bY;bX++)bW[bX]=bV;return bW;};F.concat=function(bU){return a.Array.prototype.concat.apply([],F.ofSeq(bU));};F.init=function(bU,bV){var bW,bX,bY;bU<0?w.FailWith("Negative size given."):null;bW=new a.Array(bU);for(bX=0,bY=bU-1;bX<=bY;bX++)bW[bX]=bV(bX);return bW;};F.forall=function(bU,bV){var bW,bX,bY,bZ;bW=true;bX=0;bZ=F.length(bV);while(bW&&bX<bZ)if(bU(bV[bX]))bX=bX+1;else bW=false;return bW;};F.get=function(bU,bV){F.checkBounds(bU,bV);return bU[bV];};F.length=function(bU){return bU.dims===2?bU.length*bU.length:bU.length;};F.checkBounds=function(bU,bV){if(bV<0||bV>=bU.length)w.FailWith("Index was outside the bounds of the array.");};F.set=function(bU,bV,bW){F.checkBounds(bU,bV);bU[bV]=bW;};G.print=function(bU){if(typeof bU=="string")((function(bV){return function(bW){return bV(E.toSafe(bW));};}(function(bV){bR.log(bV);}))(bU));else((function(bV){return function(bW){return bV(E.prettyPrint(bW));};}(function(bV){bR.log(bV);}))(bU));};I=H.attr=bP.Class({},l,I);K.GetFields=function(bU){var bV,bW;bV=[];for(var bX in bU)bV.push([bX,bU[bX]]);return bV;};K.GetFieldValues=function(bU){var bV,bW;bV=[];for(var bX in bU)bV.push(bU[bX]);return bV;};L.Map=function(bU,bV){var bW,bX;bW=bV.s;return bW!=null&&bW.$==0?L.New({$:0,$0:bU(bW.$0)}):(bX=L.New({$:3,$0:[],$1:[]}),(L.When(bV,function(bY){L.MarkDone(bX,bV,bU(bY));},bX),bX));};L.WhenRun=function(bU,bV,bW){var bX;bX=bU.s;bX==null?bW():bX!=null&&bX.$==2?(bX.$1.push(bW),bV(bX.$0)):bX!=null&&bX.$==3?(bX.$0.push(bV),bX.$1.push(bW)):bV(bX.$0);};L.Map2=function(bU,bV,bW){var bX,bY,bZ;function b0(b1){var b2,b3,b4;if(!(b2=bZ.s,b2!=null&&b2.$==0||b2!=null&&b2.$==2)){b3=L.ValueAndForever(bV);b4=L.ValueAndForever(bW);b3!=null&&b3.$==1?b4!=null&&b4.$==1?b3.$0[1]&&b4.$0[1]?L.MarkForever(bZ,bU(b3.$0[0],b4.$0[0])):L.MarkReady(bZ,bU(b3.$0[0],b4.$0[0])):void 0:void 0;}}bX=bV.s;bY=bW.s;return bX!=null&&bX.$==0?bY!=null&&bY.$==0?L.New({$:0,$0:bU(bX.$0,bY.$0)}):L.Map2Opt1(bU,bX.$0,bW):bY!=null&&bY.$==0?L.Map2Opt2(bU,bY.$0,bV):(bZ=L.New({$:3,$0:[],$1:[]}),(L.When(bV,b0,bZ),L.When(bW,b0,bZ),bZ));};L.WhenObsoleteRun=function(bU,bV){var bW;bW=bU.s;bW==null?bV():bW!=null&&bW.$==2?bW.$1.push(bV):bW!=null&&bW.$==3?bW.$1.push(bV):void 0;};L.When=function(bU,bV,bW){var bX;bX=bU.s;bX==null?L.Obsolete(bW):bX!=null&&bX.$==2?(L.EnqueueSafe(bX.$1,bW),bV(bX.$0)):bX!=null&&bX.$==3?(bX.$0.push(bV),L.EnqueueSafe(bX.$1,bW)):bV(bX.$0);};L.MarkDone=function(bU,bV,bW){var bX;if(bX=bV.s,bX!=null&&bX.$==0)L.MarkForever(bU,bW);else L.MarkReady(bU,bW);};L.Map2Opt1=function(bU,bV,bW){return L.Map(function(bX){return bU(bV,bX);},bW);};L.Map2Opt2=function(bU,bV,bW){return L.Map(function(bX){return bU(bX,bV);},bW);};L.ValueAndForever=function(bU){var bV;bV=bU.s;return bV!=null&&bV.$==0?{$:1,$0:[bV.$0,true]}:bV!=null&&bV.$==2?{$:1,$0:[bV.$0,false]}:null;};L.MarkForever=function(bU,bV){var bW,bX,bY,bZ;bW=bU.s;if(bW!=null&&bW.$==3){bU.s={$:0,$0:bV};bX=bW.$0;for(bY=0,bZ=F.length(bX)-1;bY<=bZ;bY++)(F.get(bX,bY))(bV);}else void 0;};L.MarkReady=function(bU,bV){var bW,bX,bY,bZ;bW=bU.s;if(bW!=null&&bW.$==3){bU.s={$:2,$0:bV,$1:bW.$1};bX=bW.$0;for(bY=0,bZ=F.length(bX)-1;bY<=bZ;bY++)(F.get(bX,bY))(bV);}else void 0;};L.EnqueueSafe=function(bU,bV){var bW,bX,bY,bZ;bU.push(bV);if(bU.length%20===0){bW=bU.slice(0);bz.Clear(bU);for(bX=0,bY=F.length(bW)-1;bX<=bY;bX++){bZ=F.get(bW,bX);typeof bZ=="object"?function(b0){if(b0.s)bU.push(b0);}(bZ):function(b0){bU.push(b0);}(bZ);}}else void 0;};L.Copy=function(bU){var bV,bW,bX;bV=bU.s;return bV==null?bU:bV!=null&&bV.$==2?(bW=L.New({$:2,$0:bV.$0,$1:[]}),(L.WhenObsolete(bU,bW),bW)):bV!=null&&bV.$==3?(bX=L.New({$:3,$0:[],$1:[]}),(L.When(bU,function(bY){L.MarkDone(bX,bU,bY);},bX),bX)):bU;};L.Map2Unit=function(bU,bV){var bW,bX,bY;function bZ(){var b0,b1,b2;if(!(b0=bY.s,b0!=null&&b0.$==0||b0!=null&&b0.$==2)){b1=L.ValueAndForever(bU);b2=L.ValueAndForever(bV);b1!=null&&b1.$==1?b2!=null&&b2.$==1?b1.$0[1]&&b2.$0[1]?L.MarkForever(bY,null):L.MarkReady(bY,null):void 0:void 0;}}bW=bU.s;bX=bV.s;return bW!=null&&bW.$==0?bX!=null&&bX.$==0?L.New({$:0,$0:null}):bV:bX!=null&&bX.$==0?bU:(bY=L.New({$:3,$0:[],$1:[]}),(L.When(bU,bZ,bY),L.When(bV,bZ,bY),bY));};L.WhenObsolete=function(bU,bV){var bW;bW=bU.s;bW==null?L.Obsolete(bV):bW!=null&&bW.$==2?L.EnqueueSafe(bW.$1,bV):bW!=null&&bW.$==3?L.EnqueueSafe(bW.$1,bV):void 0;};M.unindent=function(bU){var bV,bW,bX,bY;bV=N.SplitChars(bU,["\n"],0);bW=(bX=_1.tryFindIndex(function(bZ){return" "!==bZ;},(bY=_1.tryFind(function(bZ){return N.Trim(bZ)!=="";},bV),bY==null?"":bY.$0)),bX==null?0:bX.$0);return _1.filter(function(bZ){return!N.StartsWith(bZ,"# 1 ");},_1.map(function(bZ){return bZ.length<=bW?"":bZ.substring(bW);},bV));};M.splitByChar=function(bU,bV){return N.SplitChars(bV,[bU],0);};N.concat=function(bU,bV){return F.ofSeq(bV).join(bU);};N.SplitChars=function(bU,bV,bW){return N.Split(bU,new a.RegExp("["+N.RegexEscape(bV.join(""))+"]"),bW);};N.Trim=function(bU){return bU.replace(new a.RegExp("^\\s+"),"").replace(new a.RegExp("\\s+$"),"");};N.StartsWith=function(bU,bV){return bU.substring(0,bV.length)==bV;};N.Split=function(bU,bV,bW){return bW===1?F.filter(function(bX){return bX!=="";},N.SplitWith(bU,bV)):N.SplitWith(bU,bV);};N.RegexEscape=function(bU){return bU.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};N.SplitWith=function(bU,bV){return bU.split(bV);};O.array=function(bU,bV,bW){return bV==null?bW!=null&&bW.$==1?bU.slice(0,bW.$0+1):[]:bW==null?bU.slice(bV.$0):bU.slice(bV.$0,bW.$0+1);};O.string=function(bU,bV,bW){return bV==null?bW!=null&&bW.$==1?bU.slice(0,bW.$0+1):"":bW==null?bU.slice(bV.$0):bU.slice(bV.$0,bW.$0+1);};Q=P.T=bP.Class({GetEnumerator:function(){return new ba.New(this,null,function(bU){var bV;bV=bU.s;return bV.$==0?false:(bU.c=bV.$0,bU.s=bV.$1,true);},void 0);},GetEnumerator0:function(){return $.Get(this);}},null,Q);Q.Empty=new Q({$:0});R=t.AttrProxy=bP.Class({},null,R);R.OnAfterRenderImpl=function(bU){return new R({$:4,$0:bU});};R.Create=function(bU,bV){return _5.Static(function(bW){_6.SetAttr(bW,bU,bV);});};R.Concat=function(bU){var bV;bV=bk.ofSeqNonCopying(bU);return bk.TreeReduce(_5.EmptyAttr(),R.Append,bV);};R.Append=function(bU,bV){return _5.AppendTree(bU,bV);};S.Delay=function(bU){return function(bV){try{(bU(null))(bV);}catch(bW){bV.k({$:1,$0:bW});}};};S.Bind=function(bU,bV){return S.checkCancel(function(bW){bU(_2.New(function(bX){var bY;if(bX.$==0){bY=bX.$0;S.scheduler().Fork(function(){try{(bV(bY))(bW);}catch(bZ){bW.k({$:1,$0:bZ});}});}else S.scheduler().Fork(function(){bW.k(bX);});},bW.ct));});};S.Zero=function(){_3.$cctor();return _3.Zero;};S.Start=function(bU,bV){var bW,bX;bW=(bX=(S.defCTS())[0],bV==null?bX:bV.$0);S.scheduler().Fork(function(){if(!bW.c)bU(_2.New(function(bY){if(bY.$==1)S.UncaughtAsyncError(bY.$0);},bW));});};S.FromContinuations=function(bU){return function(bV){var bW;function bX(bY){if(bW[0])w.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{bW[0]=true;S.scheduler().Fork(bY);}}bW=[false];bU(function(bY){bX(function(){bV.k({$:0,$0:bY});});},function(bY){bX(function(){bV.k({$:1,$0:bY});});},function(bY){bX(function(){bV.k({$:2,$0:bY});});});};};S.Return=function(bU){return function(bV){bV.k({$:0,$0:bU});};};S.checkCancel=function(bU){return function(bV){if(bV.ct.c)S.cancel(bV);else bU(bV);};};S.While=function(bU,bV){return bU()?S.Bind(bV,function(){return S.While(bU,bV);}):S.Return();};S.Sleep=function(bU){return function(bV){var bW,bX;bW=void 0;bX=void 0;bW=a.setTimeout(function(){bX.Dispose();S.scheduler().Fork(function(){bV.k({$:0,$0:null});});},bU);bX=S.Register(bV.ct,function(){a.clearTimeout(bW);S.scheduler().Fork(function(){S.cancel(bV);});});};};S.defCTS=function(){_3.$cctor();return _3.defCTS;};S.UncaughtAsyncError=function(bU){bR.log("WebSharper: Uncaught asynchronous exception",bU);};S.cancel=function(bU){bU.k({$:2,$0:new bm.New(bU.ct)});};S.scheduler=function(){_3.$cctor();return _3.scheduler;};S.Register=function(bU,bV){var bW;return bU===S.noneCT()?{Dispose:function(){return null;}}:(bW=bU.r.push(bV)-1,{Dispose:function(){return F.set(bU.r,bW,a.ignore);}});};S.noneCT=function(){_3.$cctor();return _3.noneCT;};T=t.ConcreteVar=bP.Class({get_View:function(){return this.view;},Get:function(){return this.current;},Update:function(bU){this.Set(bU(this.Get()));},Set:function(bU){if(this.isConst)(function(bV){return bV("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal");}(function(bV){bR.log(bV);}));else{L.Obsolete(this.snap);this.current=bU;this.snap=L.New({$:2,$0:bU,$1:[]});}},UpdateMaybe:function(bU){var bV;bV=bU(this.Get());bV!=null&&bV.$==1?this.Set(bV.$0):void 0;}},u,T);T.New=bP.Ctor(function(bU,bV,bW){var bX;bX=this;u.New.call(this);this.isConst=bU;this.current=bW;this.snap=bV;this.view=function(){return bX.snap;};this.id=V.Int();},T);V.Id=function(){V.set_counter(V.counter()+1);return"uid"+a.String(V.counter());};V.Int=function(){V.set_counter(V.counter()+1);return V.counter();};V.set_counter=function(bU){bd.$cctor();bd.counter=bU;};V.counter=function(){bd.$cctor();return bd.counter;};X=t.Doc=bP.Class({},l,X);X.TextNode=function(bU){return X.Mk({$:5,$0:_6.CreateText(bU)},v.Const());};X.InputArea=function(bU,bV){return X.InputInternal("textarea",function(){return _1.append(bU,[_7.Value(bV)]);});};X.TextView=function(bU){var bV;bV=_8.CreateTextNode();return X.Mk({$:4,$0:bV},v.Map(function(bW){_8.UpdateTextNode(bV,bW);},bU));};X.Run=function(bU,bV){_8.LinkElement(bU,bV.docNode);X.RunInPlace(false,bU,bV);};X.Element=function(bU,bV,bW){var bX,bY;bX=R.Concat(bV);bY=X.Concat(bW);return bj.New(_6.CreateElement(bU),bX,bY);};X.Mk=function(bU,bV){return new X.New(bU,bV);};X.InputInternal=function(bU,bV){var bW;bW=_6.CreateElement(bU);return bj.New(bW,R.Concat(bV(bW)),X.get_Empty());};X.RunInPlace=function(bU,bV,bW){var bX;bX=_8.CreateRunState(bV,bW.docNode);v.Sink(bg.get_UseAnimations()||bh.BatchUpdatesEnabled()?bi.StartProcessor(_8.PerformAnimatedUpdate(bU,bX,bW.docNode)):function(){_8.PerformSyncUpdate(bU,bX,bW.docNode);},bW.updates);};X.Concat=function(bU){var bV;bV=bk.ofSeqNonCopying(bU);return bk.TreeReduce(X.get_Empty(),X.Append,bV);};X.get_Empty=function(){return X.Mk(null,v.Const());};X.Append=function(bU,bV){return X.Mk({$:0,$0:bU.docNode,$1:bV.docNode},v.Map2Unit(bU.updates,bV.updates));};X.New=bP.Ctor(function(bU,bV){l.New.call(this);this.docNode=bU;this.updates=bV;},X);Z.LoadLocalTemplates=function(bU){!Z.LocalTemplatesLoaded()?(Z.set_LocalTemplatesLoaded(true),Z.LoadNestedTemplates(self.document.body,"")):void 0;Z.LoadedTemplates().set_Item(bU,Z.LoadedTemplateFile(""));};Z.LocalTemplatesLoaded=function(){be.$cctor();return be.LocalTemplatesLoaded;};Z.set_LocalTemplatesLoaded=function(bU){be.$cctor();be.LocalTemplatesLoaded=bU;};Z.LoadNestedTemplates=function(bU,bV){var bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_;function bW(b$){var ca,cb;if(!bX.ContainsKey(b$)){ca=(cb=null,[bY.TryGetValue(b$,{get:function(){return cb;},set:function(cc){cb=cc;}}),cb]);ca[0]?(b_.Add(b$),bY.Remove(b$),Z.PrepareTemplateStrict(bV,{$:1,$0:b$},ca[1][0],{$:1,$0:ca[1][1]},{$:1,$0:bW})):bR.warn(b_.Contains(b$)?"Encountered loop when instantiating "+b$:"Local template does not exist: "+b$);}}bX=Z.LoadedTemplateFile(bV);bY=new _.New$5();bZ=bU.querySelectorAll("[ws-template]");for(b0=0,b1=bZ.length-1;b0<=b1;b0++){b2=bZ[b0];b3=b2.getAttribute("ws-template").toLowerCase();b2.removeAttribute("ws-template");bY.set_Item(b3,[[b2],Z.FakeRootSingle(b2)]);}b4=bU.querySelectorAll("[ws-children-template]");for(b5=0,b6=b4.length-1;b5<=b6;b5++){b7=b4[b5];b8=b7.getAttribute("ws-children-template").toLowerCase();b7.removeAttribute("ws-children-template");bY.set_Item(b8,(b9=_6.ChildrenArray(b7),[b9,Z.FakeRoot(b9)]));}b_=new bf.New$3();while(bY.count>0)bW(_1.head(bY.get_Keys()));};Z.LoadedTemplates=function(){be.$cctor();return be.LoadedTemplates;};Z.LoadedTemplateFile=function(bU){var bV,bW,bX;bV=(bW=null,[Z.LoadedTemplates().TryGetValue(bU,{get:function(){return bW;},set:function(bY){bW=bY;}}),bW]);return bV[0]?bV[1]:(bX=new _.New$5(),(Z.LoadedTemplates().set_Item(bU,bX),bX));};Z.FakeRootSingle=function(bU){var bV,bW,bX;bU.removeAttribute("ws-template");bV=bU.getAttribute("ws-replace");bV===null?void 0:(bU.removeAttribute("ws-replace"),bW=bU.parentNode,x.Equals(bW,null)?void 0:(bX=self.document.createElement(bU.tagName),bX.setAttribute("ws-replace",bV),bW.replaceChild(bX,bU)));return Z.FakeRoot([bU]);};Z.FakeRoot=function(bU){var bV,bW,bX;bV=self.document.createElement("div");for(bW=0,bX=bU.length-1;bW<=bX;bW++)bV.appendChild(F.get(bU,bW));return bV;};Z.PrepareTemplateStrict=function(bU,bV,bW,bX,bY){var bZ,b0;function b1(b6,b7){var b8,b9,b_,b$,ca,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw;function cb(cx){}while(true)switch(b6){case 0:if(b7!==null){b8=b7.nextSibling;if(x.Equals(b7.nodeType,J.TEXT_NODE))br.convertTextNode(b7);else if(x.Equals(b7.nodeType,J.ELEMENT_NODE))b3(b7);b7=b8;}else return null;break;case 1:cc=O.string(b7.nodeName,{$:1,$0:3},null).toLowerCase();cd=(b9=cc.indexOf("."),b9===-1?[bU,cc]:[O.string(cc,null,{$:1,$0:b9-1}),O.string(cc,{$:1,$0:b9+1},null)]);ce=cd[1];cf=cd[0];if(cf!==""&&!Z.LoadedTemplates().ContainsKey(cf))return br.failNotLoaded(ce);else{if(cf===""&&bY!=null)bY.$0(ce);cg=Z.LoadedTemplates().get_Item(cf);if(!cg.ContainsKey(ce))return br.failNotLoaded(ce);else{ch=cg.get_Item(ce);ci=ch.cloneNode(true);cj=new bf.New$3();ck=new _.New$5();cl=b7.attributes;for(cm=0,cn=cl.length-1;cm<=cn;cm++){co=cl.item(cm).name.toLowerCase();ck.set_Item(co,(cp=cl.item(cm).nodeValue,cp===""?co:cp.toLowerCase()));!cj.Add(co)?bR.warn("Hole mapped twice",co):void 0;}for(cq=0,cr=b7.childNodes.length-1;cq<=cr;cq++){cs=b7.childNodes[cq];x.Equals(cs.nodeType,J.ELEMENT_NODE)?!cj.Add(cs.nodeName.toLowerCase())?bR.warn("Hole filled twice",ce):void 0:void 0;}ct=b7.childNodes.length===1&&x.Equals(b7.firstChild.nodeType,J.TEXT_NODE);if(ct){b$=br.fillTextHole(ci,b7.firstChild.textContent,ce);((function(cx){return function(cy){if(cy!=null)cx(cy.$0);};}((ca=function(cx){return function(cy){return cx.Add(cy);};}(cj),function(cx){return cb(ca(cx));})))(b$));}br.removeHolesExcept(ci,cj);if(!ct){for(cu=0,cv=b7.childNodes.length-1;cu<=cv;cu++){cw=b7.childNodes[cu];x.Equals(cw.nodeType,J.ELEMENT_NODE)?cw.hasAttributes()?br.fillInstanceAttrs(ci,cw):b2(ci,cw):void 0;}}br.mapHoles(ci,ck);br.fill(ci,b7.parentNode,b7);b7.parentNode.removeChild(b7);return;}}break;}}function b2(b6,b7){var b8,b_,b$;function b9(ca,cb){var cc,cd,ce;if(b_==="title"&&b7.hasChildNodes()){cc=bS.parseHTML(b7.textContent);b7.removeChild(b7.firstChild);for(cd=0,ce=cc.length-1;cd<=ce;cd++)b7.appendChild(F.get(cc,cd));}else null;b3(b7);return br.fill(b7,ca,cb);}b_=b7.nodeName.toLowerCase();_6.IterSelector(b6,"[ws-attr-holes]",function(ca){var cb,cc,cd,ce,cf;cb=N.SplitChars(ca.getAttribute("ws-attr-holes"),[" "],1);for(cc=0,cd=cb.length-1;cc<=cd;cc++){ce=F.get(cb,cc);ca.setAttribute(ce,(cf=new a.RegExp("\\${"+b_+"}","ig"),ca.getAttribute(ce).replace(cf,b7.textContent)));}});b$=b6.querySelector("[ws-hole="+b_+"]");if(x.Equals(b$,null)){b8=b6.querySelector("[ws-replace="+b_+"]");return x.Equals(b8,null)?null:(b9(b8.parentNode,b8),void b8.parentNode.removeChild(b8));}else{while(b$.hasChildNodes())b$.removeChild(b$.lastChild);b$.removeAttribute("ws-hole");return b9(b$,null);}}function b3(b6){if(N.StartsWith(b6.nodeName.toLowerCase(),"ws-"))b5(b6);else{br.convertAttrs(b6);b4(b6.firstChild);}}function b4(b6){return b1(0,b6);}function b5(b6){return b1(1,b6);}bZ=bX==null?Z.FakeRoot(bW):bX.$0;b0=(bV==null?"":bV.$0).toLowerCase();Z.LoadedTemplateFile(bU).set_Item(b0,bZ);F.length(bW)>0?(function(b6){var b7,b8,b9,b_;while(true){b7=b6.querySelector("[ws-template]");if(x.Equals(b7,null)){b8=b6.querySelector("[ws-children-template]");if(x.Equals(b8,null))return null;else{b9=b8.getAttribute("ws-children-template");b8.removeAttribute("ws-children-template");Z.PrepareTemplateStrict(bU,{$:1,$0:b9},_6.ChildrenArray(b8),null,null);b6=b6;}}else{b_=b7.getAttribute("ws-template");(Z.PrepareSingleTemplate(bU,{$:1,$0:b_},b7))(null);b6=b6;}}}(bZ),b4(F.get(bW,0))):void 0;};Z.PrepareSingleTemplate=function(bU,bV,bW){var bX,bY,bZ;bX=Z.FakeRootSingle(bW);bY=[bW];bZ={$:1,$0:bX};return function(b0){Z.PrepareTemplateStrict(bU,bV,bY,bZ,b0);};};Z.TextHoleRE=function(){be.$cctor();return be.TextHoleRE;};_1.tryFind=function(bU,bV){var bW,bX,bY;bW=$.Get(bV);try{bX=null;while(bX==null&&bW.MoveNext()){bY=bW.Current();bU(bY)?bX={$:1,$0:bY}:void 0;}return bX;}finally{if(typeof bW=="object"&&"Dispose"in bW)bW.Dispose();}};_1.tryFindIndex=function(bU,bV){var bW,bX,bY;bW=$.Get(bV);try{bX=true;bY=0;while(bX&&bW.MoveNext())if(bU(bW.Current()))bX=false;else bY=bY+1;return bX?null:{$:1,$0:bY};}finally{if(typeof bW=="object"&&"Dispose"in bW)bW.Dispose();}};_1.map=function(bU,bV){return{GetEnumerator:function(){var bW;bW=$.Get(bV);return new ba.New(null,null,function(bX){return bW.MoveNext()&&(bX.c=bU(bW.Current()),true);},function(){bW.Dispose();});}};};_1.filter=function(bU,bV){return{GetEnumerator:function(){var bW;bW=$.Get(bV);return new ba.New(null,null,function(bX){var bY,bZ,b0;bY=bW.MoveNext();bZ=bW.Current();b0=false;while(bY)if(bU(bZ)){bX.c=bZ;b0=true;bY=false;}else if(bW.MoveNext())bZ=bW.Current();else bY=false;return b0;},function(){bW.Dispose();});}};};_1.append=function(bU,bV){return{GetEnumerator:function(){var bW,bX;bW=$.Get(bU);bX=[true];return new ba.New(bW,null,function(bY){var bZ;return bY.s.MoveNext()?(bY.c=bY.s.Current(),true):(bZ=bY.s,!x.Equals(bZ,null)?bZ.Dispose():void 0,bY.s=null,bX[0]&&(bX[0]=false,bY.s=$.Get(bV),bY.s.MoveNext()?(bY.c=bY.s.Current(),true):(bY.s.Dispose(),bY.s=null,false)));},function(bY){var bZ;bZ=bY.s;!x.Equals(bZ,null)?bZ.Dispose():void 0;});}};};_1.head=function(bU){var bV;bV=$.Get(bU);try{return bV.MoveNext()?bV.Current():_1.insufficient();}finally{if(typeof bV=="object"&&"Dispose"in bV)bV.Dispose();}};_1.fold=function(bU,bV,bW){var bX,bY;bX=bV;bY=$.Get(bW);try{while(bY.MoveNext())bX=bU(bX,bY.Current());return bX;}finally{if(typeof bY=="object"&&"Dispose"in bY)bY.Dispose();}};_1.iter=function(bU,bV){var bW;bW=$.Get(bV);try{while(bW.MoveNext())bU(bW.Current());}finally{if(typeof bW=="object"&&"Dispose"in bW)bW.Dispose();}};_1.max=function(bU){var bV,bW,bX;bV=$.Get(bU);try{if(!bV.MoveNext())_1.seqEmpty();bW=bV.Current();while(bV.MoveNext()){bX=bV.Current();x.Compare(bX,bW)===1?bW=bX:void 0;}return bW;}finally{if(typeof bV=="object"&&"Dispose"in bV)bV.Dispose();}};_1.seqEmpty=function(){return w.FailWith("The input sequence was empty.");};_2.New=function(bU,bV){return{k:bU,ct:bV};};_3.$cctor=function(){_3.$cctor=a.ignore;_3.noneCT=_4.New(false,[]);_3.scheduler=new bb.New();_3.defCTS=[new bc.New()];_3.Zero=S.Return();_3.GetCT=function(bU){bU.k({$:0,$0:bU.ct});};};_4.New=function(bU,bV){return{c:bU,r:bV};};L.Obsolete=function(bU){var bV,bW,bX,bY,bZ;bW=bU.s;if(bW==null||(bW!=null&&bW.$==2?(bV=bW.$1,false):bW!=null&&bW.$==3?(bV=bW.$1,false):true))void 0;else{bU.s=null;for(bX=0,bY=F.length(bV)-1;bX<=bY;bX++){bZ=F.get(bV,bX);typeof bZ=="object"?function(b0){L.Obsolete(b0);}(bZ):bZ();}}};L.New=function(bU){return{s:bU};};_5.Static=function(bU){return new R({$:3,$0:bU});};_5.Updates=function(bU){return bk.MapTreeReduce(function(bV){return bV.NChanged();},v.Const(),v.Map2Unit,bU.DynNodes);};_5.AppendTree=function(bU,bV){var bW;return bU===null?bV:bV===null?bU:(bW=new R({$:2,$0:bU,$1:bV}),(_5.SetFlags(bW,_5.Flags(bU)|_5.Flags(bV)),bW));};_5.EmptyAttr=function(){bE.$cctor();return bE.EmptyAttr;};_5.Insert=function(bU,bV){var bW,bX,bY;function bZ(b0){if(!(b0===null))if(b0!=null&&b0.$==1)bW.push(b0.$0);else if(b0!=null&&b0.$==2){bZ(b0.$0);bZ(b0.$1);}else if(b0!=null&&b0.$==3)b0.$0(bU);else if(b0!=null&&b0.$==4)bX.push(b0.$0);}bW=[];bX=[];bZ(bV);bY=bW.slice(0);return bB.New(bU,_5.Flags(bV),bY,bX.length===0?null:{$:1,$0:function(b0){_1.iter(function(b1){b1(b0);},bX);}});};_5.HasExitAnim=function(bU){var bV;bV=2;return(bU.DynFlags&bV)===bV;};_5.GetExitAnim=function(bU){return _5.GetAnim(bU,function(bV,bW){return bV.NGetExitAnim(bW);});};_5.HasEnterAnim=function(bU){var bV;bV=1;return(bU.DynFlags&bV)===bV;};_5.GetEnterAnim=function(bU){return _5.GetAnim(bU,function(bV,bW){return bV.NGetEnterAnim(bW);});};_5.HasChangeAnim=function(bU){var bV;bV=4;return(bU.DynFlags&bV)===bV;};_5.GetChangeAnim=function(bU){return _5.GetAnim(bU,function(bV,bW){return bV.NGetChangeAnim(bW);});};_5.SetFlags=function(bU,bV){bU.flags=bV;};_5.Flags=function(bU){return bU!==null&&bU.hasOwnProperty("flags")?bU.flags:0;};_5.Dynamic=function(bU,bV){return new R({$:1,$0:new bH.New(bU,bV)});};_5.GetAnim=function(bU,bV){return bg.Concat(F.map(function(bW){return bV(bW,bU.DynElem);},bU.DynNodes));};_5.Sync=function(bU,bV){F.iter(function(bW){bW.NSync(bU);},bV.DynNodes);};_6.SetAttr=function(bU,bV,bW){bU.setAttribute(bV,bW);};_6.CreateText=function(bU){return _6.Doc().createTextNode(bU);};_6.CreateElement=function(bU){return _6.Doc().createElement(bU);};_6.Doc=function(){bp.$cctor();return bp.Doc;};_6.ChildrenArray=function(bU){var bV,bW,bX;bV=[];for(bW=0,bX=bU.childNodes.length-1;bW<=bX;bW++)bV.push(bU.childNodes[bW]);return bV;};_6.IterSelector=function(bU,bV,bW){var bX,bY,bZ;bX=bU.querySelectorAll(bV);for(bY=0,bZ=bX.length-1;bY<=bZ;bY++)bW(bX[bY]);};_6.InsertAt=function(bU,bV,bW){var bX;if(!(bW.parentNode===bU&&bV===(bX=bW.nextSibling,x.Equals(bX,null)?null:bX)))bU.insertBefore(bW,bV);};_6.RemoveNode=function(bU,bV){if(bV.parentNode===bU)bU.removeChild(bV);};_7.Value=function(bU){function bV(bW){return{$:1,$0:bW};}return _7.CustomValue(bU,a.id,function(bW){return bV(a.id(bW));});};_7.CustomValue=function(bU,bV,bW){return _7.CustomVar(bU,function(bX,bY){bX.value=bV(bY);},function(bX){return bW(bX.value);});};_7.CustomVar=function(bU,bV,bW){function bX(bZ,b0){return bU.UpdateMaybe(function(b1){var b2,b3;b2=bW(bZ);return b2!=null&&b2.$==1&&(!x.Equals(b2.$0,b1)&&(b3=[b2,b2.$0],true))?b3[0]:null;});}function bY(bZ,b0){var b1,b2;b1=bW(bZ);return b1!=null&&b1.$==1&&(x.Equals(b1.$0,b0)&&(b2=b1.$0,true))?null:bV(bZ,b0);}return R.Concat([_7.Handler("change",function(bZ){return function(b0){return bX(bZ,b0);};}),_7.Handler("input",function(bZ){return function(b0){return bX(bZ,b0);};}),_7.Handler("keypress",function(bZ){return function(b0){return bX(bZ,b0);};}),_7.DynamicCustom(function(bZ){return function(b0){return bY(bZ,b0);};},bU.get_View())]);};_7.Handler=function(bU,bV){return _5.Static(function(bW){bW.addEventListener(bU,function(bX){return(bV(bW))(bX);},false);});};_7.DynamicCustom=function(bU,bV){return _5.Dynamic(bV,bU);};_8.CreateTextNode=function(){return{Text:_6.CreateText(""),Dirty:false,Value:""};};_8.UpdateTextNode=function(bU,bV){bU.Value=bV;bU.Dirty=true;};_8.LinkElement=function(bU,bV){_8.InsertDoc(bU,bV,null);};_8.InsertDoc=function(bU,bV,bW){var bX;return bV!=null&&bV.$==1?_8.InsertNode(bU,bV.$0.El,bW):bV!=null&&bV.$==2?(bX=bV.$0,(bX.Dirty=false,_8.InsertDoc(bU,bX.Current,bW))):bV==null?bW:bV!=null&&bV.$==4?_8.InsertNode(bU,bV.$0.Text,bW):bV!=null&&bV.$==5?_8.InsertNode(bU,bV.$0,bW):bV!=null&&bV.$==6?F.foldBack(function(bY,bZ){return bY==null||bY.constructor===W?_8.InsertDoc(bU,bY,bZ):_8.InsertNode(bU,bY,bZ);},bV.$0.Els,bW):_8.InsertDoc(bU,bV.$0,_8.InsertDoc(bU,bV.$1,bW));};_8.CreateRunState=function(bU,bV){return bu.New(bv.get_Empty(),_8.CreateElemNode(bU,_5.EmptyAttr(),bV));};_8.PerformAnimatedUpdate=function(bU,bV,bW){var bX;return bg.get_UseAnimations()?(bX=null,S.Delay(function(){var bY,bZ,b0;bY=bv.FindAll(bW);bZ=_8.ComputeChangeAnim(bV,bY);b0=_8.ComputeEnterAnim(bV,bY);return S.Bind(bg.Play(bg.Append(bZ,_8.ComputeExitAnim(bV,bY))),function(){return S.Bind(_8.SyncElemNodesNextFrame(bU,bV),function(){return S.Bind(bg.Play(b0),function(){bV.PreviousNodes=bY;return S.Return(null);});});});})):_8.SyncElemNodesNextFrame(bU,bV);};_8.PerformSyncUpdate=function(bU,bV,bW){var bX;bX=bv.FindAll(bW);_8.SyncElemNode(bU,bV.Top);bV.PreviousNodes=bX;};_8.InsertNode=function(bU,bV,bW){_6.InsertAt(bU,bW,bV);return bV;};_8.CreateElemNode=function(bU,bV,bW){var bX;_8.LinkElement(bU,bW);bX=_5.Insert(bU,bV);return bn.New(bX,bW,null,bU,V.Int(),bP.GetOptional(bX.OnAfterRender));};_8.SyncElemNodesNextFrame=function(bU,bV){function bW(bX){a.requestAnimationFrame(function(){_8.SyncElemNode(bU,bV.Top);bX();});}return bh.BatchUpdatesEnabled()?S.FromContinuations(function(bX,bY,bZ){return bW.apply(null,[bX,bY,bZ]);}):(_8.SyncElemNode(bU,bV.Top),S.Return(null));};_8.ComputeExitAnim=function(bU,bV){return bg.Concat(F.map(function(bW){return _5.GetExitAnim(bW.Attr);},bv.ToArray(bv.Except(bV,bv.Filter(function(bW){return _5.HasExitAnim(bW.Attr);},bU.PreviousNodes)))));};_8.ComputeEnterAnim=function(bU,bV){return bg.Concat(F.map(function(bW){return _5.GetEnterAnim(bW.Attr);},bv.ToArray(bv.Except(bU.PreviousNodes,bv.Filter(function(bW){return _5.HasEnterAnim(bW.Attr);},bV)))));};_8.ComputeChangeAnim=function(bU,bV){var bW;function bX(bY){return _5.HasChangeAnim(bY.Attr);}bW=function(bY){return bv.Filter(bX,bY);};return bg.Concat(F.map(function(bY){return _5.GetChangeAnim(bY.Attr);},bv.ToArray(bv.Intersect(bW(bU.PreviousNodes),bW(bV)))));};_8.SyncElemNode=function(bU,bV){!bU?_8.SyncElement(bV):void 0;_8.Sync(bV.Children);_8.AfterRender(bV);};_8.SyncElement=function(bU){function bV(bW){function bX(bY){var bZ,b0;return bY!=null&&bY.$==0?bX(bY.$0)||bX(bY.$1):bY!=null&&bY.$==2?(bZ=bY.$0,bZ.Dirty||bX(bZ.Current)):bY!=null&&bY.$==6&&(b0=bY.$0,b0.Dirty||F.exists(bV,b0.Holes));}return bX(bW.Children);}_5.Sync(bU.El,bU.Attr);bV(bU)?_8.DoSyncElement(bU):void 0;};_8.Sync=function(bU){var bV,bW;if(bU!=null&&bU.$==1)_8.SyncElemNode(false,bU.$0);else if(bU!=null&&bU.$==2)_8.Sync(bU.$0.Current);else if(bU==null);else if(bU!=null&&bU.$==5);else if(bU!=null&&bU.$==4){bV=bU.$0;bV.Dirty?(bV.Text.nodeValue=bV.Value,bV.Dirty=false):void 0;}else if(bU!=null&&bU.$==6){bW=bU.$0;F.iter(function(bX){_8.SyncElemNode(false,bX);},bW.Holes);F.iter(function(bX){_5.Sync(bX[0],bX[1]);},bW.Attrs);_8.AfterRender(bW);}else{_8.Sync(bU.$0);_8.Sync(bU.$1);}};_8.AfterRender=function(bU){var bV;bV=bP.GetOptional(bU.Render);bV!=null&&bV.$==1?(bV.$0(bU.El),bP.SetOptional(bU,"Render",null)):void 0;};_8.DoSyncElement=function(bU){var bV,bW,bX;function bY(bZ,b0){var b1,b2;return bZ!=null&&bZ.$==1?bZ.$0.El:bZ!=null&&bZ.$==2?(b1=bZ.$0,b1.Dirty?(b1.Dirty=false,_8.InsertDoc(bV,b1.Current,b0)):bY(b1.Current,b0)):bZ==null?b0:bZ!=null&&bZ.$==4?bZ.$0.Text:bZ!=null&&bZ.$==5?bZ.$0:bZ!=null&&bZ.$==6?(b2=bZ.$0,(b2.Dirty?b2.Dirty=false:void 0,F.foldBack(function(b3,b4){return b3==null||b3.constructor===W?bY(b3,b4):b3;},b2.Els,b0))):bY(bZ.$0,bY(bZ.$1,b0));}bV=bU.El;bI.Iter((bW=bU.El,function(bZ){_6.RemoveNode(bW,bZ);}),bI.Except(bI.DocChildren(bU),bI.Children(bU.El,bP.GetOptional(bU.Delimiters))));bY(bU.Children,(bX=bP.GetOptional(bU.Delimiters),bX!=null&&bX.$==1?bX.$0[1]:null));};_=_9.Dictionary=bP.Class({set_Item:function(bU,bV){this.set(bU,bV);},ContainsKey:function(bU){var bV,bW;bV=this;bW=this.data[this.hash(bU)];return bW==null?false:F.exists(function(bX){return bV.equals.apply(null,[(w.KeyValue(bX))[0],bU]);},bW);},TryGetValue:function(bU,bV){var bW,bX,bY;bW=this;bX=this.data[this.hash(bU)];return bX==null?false:(bY=F.tryPick(function(bZ){var b0;b0=w.KeyValue(bZ);return bW.equals.apply(null,[b0[0],bU])?{$:1,$0:b0[1]}:null;},bX),bY!=null&&bY.$==1&&(bV.set(bY.$0),true));},Remove:function(bU){return this.remove(bU);},get_Keys:function(){return new bs.New(this);},set:function(bU,bV){var bW,bX,bY,bZ;bW=this;bX=this.hash(bU);bY=this.data[bX];bY==null?(this.count=this.count+1,this.data[bX]=new a.Array({K:bU,V:bV})):(bZ=F.tryFindIndex(function(b0){return bW.equals.apply(null,[(w.KeyValue(b0))[0],bU]);},bY),bZ==null?(this.count=this.count+1,bY.push({K:bU,V:bV})):bY[bZ.$0]={K:bU,V:bV});},remove:function(bU){var bV,bW,bX,bY;bV=this;bW=this.hash(bU);bX=this.data[bW];return bX==null?false:(bY=F.filter(function(bZ){return!bV.equals.apply(null,[(w.KeyValue(bZ))[0],bU]);},bX),F.length(bY)<bX.length&&(this.count=this.count-1,this.data[bW]=bY,true));},get_Item:function(bU){return this.get(bU);},get:function(bU){var bV,bW;bV=this;bW=this.data[this.hash(bU)];return bW==null?bq.notPresent():F.pick(function(bX){var bY;bY=w.KeyValue(bX);return bV.equals.apply(null,[bY[0],bU])?{$:1,$0:bY[1]}:null;},bW);},GetEnumerator:function(){return $.Get0(this);},GetEnumerator0:function(){return $.Get0(F.concat(K.GetFieldValues(this.data)));}},l,_);_.New$5=bP.Ctor(function(){_.New$6.call(this,[],x.Equals,x.Hash);},_);_.New$6=bP.Ctor(function(bU,bV,bW){var bX,bY;l.New.call(this);this.equals=bV;this.hash=bW;this.count=0;this.data=[];bX=$.Get(bU);try{while(bX.MoveNext()){bY=bX.Current();this.set(bY.K,bY.V);}}finally{if(typeof bX=="object"&&"Dispose"in bX)bX.Dispose();}},_);$.Get=function(bU){return bU instanceof a.Array?$.ArrayEnumerator(bU):x.Equals(typeof bU,"string")?$.StringEnumerator(bU):bU.GetEnumerator();};$.ArrayEnumerator=function(bU){return new ba.New(0,null,function(bV){var bW;bW=bV.s;return bW<F.length(bU)&&(bV.c=F.get(bU,bW),bV.s=bW+1,true);},void 0);};$.StringEnumerator=function(bU){return new ba.New(0,null,function(bV){var bW;bW=bV.s;return bW<bU.length&&(bV.c=bU[bW],bV.s=bW+1,true);},void 0);};$.Get0=function(bU){return bU instanceof a.Array?$.ArrayEnumerator(bU):x.Equals(typeof bU,"string")?$.StringEnumerator(bU):"GetEnumerator0"in bU?bU.GetEnumerator0():bU.GetEnumerator();};ba=$.T=bP.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},l,ba);ba.New=bP.Ctor(function(bU,bV,bW,bX){l.New.call(this);this.s=bU;this.c=bV;this.n=bW;this.d=bX;},ba);bb=S.Scheduler=bP.Class({Fork:function(bU){var bV;bV=this;this.robin.push(bU);this.idle?(this.idle=false,a.setTimeout(function(){bV.tick();},0)):void 0;},tick:function(){var bU,bV,bW;bV=this;bW=bT.now();bU=true;while(bU)if(this.robin.length===0){this.idle=true;bU=false;}else{(this.robin.shift())();bT.now()-bW>40?(a.setTimeout(function(){bV.tick();},0),bU=false):void 0;}}},l,bb);bb.New=bP.Ctor(function(){l.New.call(this);this.idle=true;this.robin=[];},bb);bc=k.CancellationTokenSource=bP.Class({},l,bc);bc.New=bP.Ctor(function(){l.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},bc);bd.$cctor=function(){bd.$cctor=a.ignore;bd.counter=0;};be.$cctor=function(){be.$cctor=a.ignore;be.LoadedTemplates=new _.New$5();be.LocalTemplatesLoaded=false;be.TextHoleRE="\\${([^}]+)}";};bf=_9.HashSet=bP.Class({Add:function(bU){return this.add(bU);},Contains:function(bU){var bV;bV=this.data[this.hash(bU)];return bV==null?false:this.arrContains(bU,bV);},add:function(bU){var bV,bW;bV=this.hash(bU);bW=this.data[bV];return bW==null?(this.data[bV]=[bU],this.count=this.count+1,true):this.arrContains(bU,bW)?false:(bW.push(bU),this.count=this.count+1,true);},arrContains:function(bU,bV){var bW,bX,bY,bZ;bW=true;bX=0;bZ=bV.length;while(bW&&bX<bZ)if(this.equals.apply(null,[bV[bX],bU]))bW=false;else bX=bX+1;return!bW;},ExceptWith:function(bU){var bV;bV=$.Get(bU);try{while(bV.MoveNext())this.Remove(bV.Current());}finally{if(typeof bV=="object"&&"Dispose"in bV)bV.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(bU){var bV,bW,bX,bY;bV=0;bW=bJ.concat(this.data);for(bX=0,bY=bW.length-1;bX<=bY;bX++)F.set(bU,bX,bW[bX]);},IntersectWith:function(bU){var bV,bW,bX,bY,bZ;bV=new bf.New$4(bU,this.equals,this.hash);bW=bJ.concat(this.data);for(bX=0,bY=bW.length-1;bX<=bY;bX++){bZ=bW[bX];!bV.Contains(bZ)?this.Remove(bZ):void 0;}},Remove:function(bU){var bV;bV=this.data[this.hash(bU)];return bV==null?false:this.arrRemove(bU,bV)&&(this.count=this.count-1,true);},arrRemove:function(bU,bV){var bW,bX,bY,bZ;bW=true;bX=0;bZ=bV.length;while(bW&&bX<bZ)if(this.equals.apply(null,[bV[bX],bU])){bV.splice.apply(bV,[bX,1]);bW=false;}else bX=bX+1;return!bW;},GetEnumerator:function(){return $.Get(bJ.concat(this.data));},GetEnumerator0:function(){return $.Get(bJ.concat(this.data));}},l,bf);bf.New$3=bP.Ctor(function(){bf.New$4.call(this,[],x.Equals,x.Hash);},bf);bf.New$4=bP.Ctor(function(bU,bV,bW){var bX;l.New.call(this);this.equals=bV;this.hash=bW;this.data=[];this.count=0;bX=$.Get(bU);try{while(bX.MoveNext())this.add(bX.Current());}finally{if(typeof bX=="object"&&"Dispose"in bX)bX.Dispose();}},bf);bf.New$2=bP.Ctor(function(bU){bf.New$4.call(this,bU,x.Equals,x.Hash);},bf);bg.get_UseAnimations=function(){return bw.UseAnimations();};bg.Play=function(bU){var bV;bV=null;return S.Delay(function(){return S.Bind(bg.Run(a.ignore,bw.Actions(bU)),function(){bw.Finalize(bU);return S.Return(null);});});};bg.Append=function(bU,bV){return{$:0,$0:bD.Append(bU.$0,bV.$0)};};bg.Run=function(bU,bV){var bW;function bX(bY){function bZ(b0,b1){var b2;b2=b1-b0;bV.Compute(b2);bU();return b2<=bW?void a.requestAnimationFrame(function(b3){bZ(b0,b3);}):bY();}a.requestAnimationFrame(function(b0){bZ(b0,b0);});}bW=bV.Duration;return bW===0?S.Zero():S.FromContinuations(function(bY,bZ,b0){return bX.apply(null,[bY,bZ,b0]);});};bg.Concat=function(bU){return{$:0,$0:bD.Concat(_1.map(bw.List,bU))};};bg.get_Empty=function(){return{$:0,$0:bD.Empty()};};bh.BatchUpdatesEnabled=function(){bx.$cctor();return bx.BatchUpdatesEnabled;};bi.StartProcessor=function(bU){var bV;function bW(){var bX;bX=null;return S.Delay(function(){return S.Bind(bU,function(){var bY;bY=bV[0];return bY===1?(bV[0]=0,S.Zero()):bY===2?(bV[0]=1,bW()):S.Zero();});});}bV=[0];return function(){var bX;bX=bV[0];bX===0?(bV[0]=1,S.Start(bW(),null)):bX===1?bV[0]=2:void 0;};};bj=t.Elt=bP.Class({},X,bj);bj.New=function(bU,bV,bW){var bX,bY;bX=_8.CreateElemNode(bU,bV,bW.docNode);bY=by.Create(bW.updates);return new bj.New$1({$:1,$0:bX},v.Map2Unit(_5.Updates(bX.Attr),bY.v),bU,bY);};bj.New$1=bP.Ctor(function(bU,bV,bW,bX){X.New.call(this,bU,bV);this.docNode$1=bU;this.updates$1=bV;this.elt=bW;this.rvUpdates=bX;},bj);bk.ofSeqNonCopying=function(bU){var bV,bW;if(bU instanceof a.Array)return bU;else if(bU instanceof Q)return F.ofList(bU);else if(bU===null)return[];else{bV=[];bW=$.Get(bU);try{while(bW.MoveNext())bV.push(bW.Current());return bV;}finally{if(typeof bW=="object"&&"Dispose"in bW)bW.Dispose();}}};bk.TreeReduce=function(bU,bV,bW){var bX;function bY(bZ,b0){var b1,b2;return b0<=0?bU:b0===1&&(bZ>=0&&bZ<bX)?F.get(bW,bZ):(b2=b0/2>>0,bV(bY(bZ,b2),bY(bZ+b2,b0-b2)));}bX=F.length(bW);return bY(0,bX);};bk.MapTreeReduce=function(bU,bV,bW,bX){var bY;function bZ(b0,b1){var b2,b3;return b1<=0?bV:b1===1&&(b0>=0&&b0<bY)?bU(F.get(bX,b0)):(b3=b1/2>>0,bW(bZ(b0,b3),bZ(b0+b3,b1-b3)));}bY=F.length(bX);return bZ(0,bY);};bm=k.OperationCanceledException=bP.Class({},bl,bm);bm.New=bP.Ctor(function(bU){bm.New$1.call(this,"The operation was canceled.",null,bU);},bm);bm.New$1=bP.Ctor(function(bU,bV,bW){this.message=bU;this.inner=bV;W.setPrototypeOf(this,bm.prototype);this.ct=bW;},bm);bn=t.DocElemNode=bP.Class({Equals:function(bU){return this.ElKey===bU.ElKey;},GetHashCode:function(){return this.ElKey;}},null,bn);bn.New=function(bU,bV,bW,bX,bY,bZ){var b0;return new bn((b0={Attr:bU,Children:bV,El:bX,ElKey:bY},(bP.SetOptional(b0,"Delimiters",bW),bP.SetOptional(b0,"Render",bZ),b0)));};bp.$cctor=function(){bp.$cctor=a.ignore;bp.Doc=self.document;};bq.notPresent=function(){return w.FailWith("The given key was not present in the dictionary.");};br.convertTextNode=function(bU){var bV,bW,bX,bY,bZ,b0;bV=null;bW=0;bY=bU.textContent;bZ=new a.RegExp(Z.TextHoleRE(),"g");while(bV=bZ.exec(bY),bV!==null){bU.parentNode.insertBefore(self.document.createTextNode(O.string(bY,{$:1,$0:bW},{$:1,$0:bZ.lastIndex-F.get(bV,0).length-1})),bU);bW=bZ.lastIndex;b0=self.document.createElement("span");b0.setAttribute("ws-replace",F.get(bV,1).toLowerCase());bU.parentNode.insertBefore(b0,bU);}bZ.lastIndex=0;bU.textContent=O.string(bY,{$:1,$0:bW},null);};br.failNotLoaded=function(bU){bR.warn("Instantiating non-loaded template",bU);};br.fillTextHole=function(bU,bV,bW){var bX;bX=bU.querySelector("[ws-replace]");return x.Equals(bX,null)?(bR.warn("Filling non-existent text hole",bW),null):(bX.parentNode.replaceChild(new a.Text(bV),bX),{$:1,$0:bX.getAttribute("ws-replace")});};br.removeHolesExcept=function(bU,bV){function bW(bX){_6.IterSelector(bU,"["+bX+"]",function(bY){if(!bV.Contains(bY.getAttribute(bX)))bY.removeAttribute(bX);});}bW("ws-attr");bW("ws-onafterrender");bW("ws-var");_6.IterSelector(bU,"[ws-hole]",function(bX){if(!bV.Contains(bX.getAttribute("ws-hole"))){bX.removeAttribute("ws-hole");while(bX.hasChildNodes())bX.removeChild(bX.lastChild);}});_6.IterSelector(bU,"[ws-replace]",function(bX){if(!bV.Contains(bX.getAttribute("ws-replace")))bX.parentNode.removeChild(bX);});_6.IterSelector(bU,"[ws-on]",function(bX){bX.setAttribute("ws-on",N.concat(" ",F.filter(function(bY){return bV.Contains(F.get(N.SplitChars(bY,[":"],1),1));},N.SplitChars(bX.getAttribute("ws-on"),[" "],1))));});_6.IterSelector(bU,"[ws-attr-holes]",function(bX){var bY,bZ,b0,b1,b2;bY=N.SplitChars(bX.getAttribute("ws-attr-holes"),[" "],1);for(bZ=0,b0=bY.length-1;bZ<=b0;bZ++){b1=F.get(bY,bZ);bX.setAttribute(b1,(b2=new a.RegExp(Z.TextHoleRE(),"g"),bX.getAttribute(b1).replace(b2,function(b3,b4){return bV.Contains(b4)?b3:"";})));}});};br.fillInstanceAttrs=function(bU,bV){var bW,bX,bY,bZ,b0;br.convertAttrs(bV);bW=bV.nodeName.toLowerCase();bX=bU.querySelector("[ws-attr="+bW+"]");if(x.Equals(bX,null))bR.warn("Filling non-existent attr hole",bW);else{bX.removeAttribute("ws-attr");for(bY=0,bZ=bV.attributes.length-1;bY<=bZ;bY++){b0=bV.attributes.item(bY);b0.name==="class"&&bX.hasAttribute("class")?bX.setAttribute("class",bX.getAttribute("class")+" "+b0.nodeValue):bX.setAttribute(b0.name,b0.nodeValue);}}};br.mapHoles=function(bU,bV){function bW(bX){_6.IterSelector(bU,"["+bX+"]",function(bY){var bZ,b0;bZ=(b0=null,[bV.TryGetValue(bY.getAttribute(bX).toLowerCase(),{get:function(){return b0;},set:function(b1){b0=b1;}}),b0]);bZ[0]?bY.setAttribute(bX,bZ[1]):void 0;});}bW("ws-hole");bW("ws-replace");bW("ws-attr");bW("ws-onafterrender");bW("ws-var");_6.IterSelector(bU,"[ws-on]",function(bX){bX.setAttribute("ws-on",N.concat(" ",F.map(function(bY){var bZ,b0,b1;bZ=N.SplitChars(bY,[":"],1);b0=(b1=null,[bV.TryGetValue(F.get(bZ,1),{get:function(){return b1;},set:function(b2){b1=b2;}}),b1]);return b0[0]?F.get(bZ,0)+":"+b0[1]:bY;},N.SplitChars(bX.getAttribute("ws-on"),[" "],1))));});_6.IterSelector(bU,"[ws-attr-holes]",function(bX){var bY,bZ,b0;bY=N.SplitChars(bX.getAttribute("ws-attr-holes"),[" "],1);for(bZ=0,b0=bY.length-1;bZ<=b0;bZ++)(function(){var b1;function b2(b3,b4){var b5;b5=w.KeyValue(b4);return b3.replace(new a.RegExp("\\${"+b5[0]+"}","ig"),"${"+b5[1]+"}");}b1=F.get(bY,bZ);return bX.setAttribute(b1,(((bP.Curried3(_1.fold))(b2))(bX.getAttribute(b1)))(bV));}());});};br.fill=function(bU,bV,bW){while(true)if(bU.hasChildNodes())bW=bV.insertBefore(bU.lastChild,bW);else return null;};br.convertAttrs=function(bU){var bW,bX,bY,bZ,b0,b1,b2,b3;function bV(b4){var b5;b5=bU.getAttribute(b4);b5===null?void 0:bU.setAttribute(b4,b5.toLowerCase());}bW=bU.attributes;bX=[];bY=[];bZ=[];for(b0=0,b1=bW.length-1;b0<=b1;b0++){b2=bW.item(b0);N.StartsWith(b2.nodeName,"ws-on")&&b2.nodeName!=="ws-onafterrender"&&b2.nodeName!=="ws-on"?(bX.push(b2.nodeName),bY.push(O.string(b2.nodeName,{$:1,$0:"ws-on".length},null)+":"+b2.nodeValue.toLowerCase())):!N.StartsWith(b2.nodeName,"ws-")&&(new a.RegExp(Z.TextHoleRE())).test(b2.nodeValue)?(b2.nodeValue=(b3=new a.RegExp(Z.TextHoleRE(),"g"),b2.nodeValue.replace(b3,function(b4,b5){return"${"+b5.toLowerCase()+"}";})),bZ.push(b2.nodeName)):void 0;}!(bY.length==0)?bU.setAttribute("ws-on",N.concat(" ",bY)):void 0;!(bZ.length==0)?bU.setAttribute("ws-attr-holes",N.concat(" ",bZ)):void 0;bV("ws-hole");bV("ws-replace");bV("ws-attr");bV("ws-onafterrender");bV("ws-var");F.iter(function(b4){bU.removeAttribute(b4);},bX);};_1.insufficient=function(){return w.FailWith("The input sequence has an insufficient number of elements.");};bs=_9.KeyCollection=bP.Class({GetEnumerator$1:function(){return $.Get(_1.map(function(bU){return bU.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},l,bs);bs.New=bP.Ctor(function(bU){l.New.call(this);this.d=bU;},bs);bu.New=function(bU,bV){return{PreviousNodes:bU,Top:bV};};bv.get_Empty=function(){return{$:0,$0:new bf.New$3()};};bv.FindAll=function(bU){var bV;function bW(bY){if(bY!=null&&bY.$==0){bW(bY.$0);bW(bY.$1);}else if(bY!=null&&bY.$==1)bX(bY.$0);else if(bY!=null&&bY.$==2)bW(bY.$0.Current);else if(bY!=null&&bY.$==6)F.iter(bX,bY.$0.Holes);}function bX(bY){bV.push(bY);bW(bY.Children);}bV=[];bW(bU);return{$:0,$0:new bf.New$2(bV)};};bv.Filter=function(bU,bV){return{$:0,$0:bG.Filter(bU,bV.$0)};};bv.Except=function(bU,bV){return{$:0,$0:bG.Except(bU.$0,bV.$0)};};bv.ToArray=function(bU){return bG.ToArray(bU.$0);};bv.Intersect=function(bU,bV){return{$:0,$0:bG.Intersect(bU.$0,bV.$0)};};bw.UseAnimations=function(){bC.$cctor();return bC.UseAnimations;};bw.Actions=function(bU){return bw.ConcatActions(F.choose(function(bV){return bV.$==1?{$:1,$0:bV.$0}:null;},bD.ToArray(bU.$0)));};bw.Finalize=function(bU){F.iter(function(bV){if(bV.$==0)bV.$0();},bD.ToArray(bU.$0));};bw.ConcatActions=function(bU){var bV,bW,bX,bY;bV=bk.ofSeqNonCopying(bU);bW=F.length(bV);return bW===0?bw.Const():bW===1?F.get(bV,0):(bX=_1.max(_1.map(function(bZ){return bZ.Duration;},bV)),(bY=F.map(function(bZ){return bw.Prolong(bX,bZ);},bV),bw.Def(bX,function(bZ){F.iter(function(b0){b0.Compute(bZ);},bY);})));};bw.List=function(bU){return bU.$0;};bw.Const=function(bU){return bw.Def(0,function(){return bU;});};bw.Def=function(bU,bV){return{Compute:bV,Duration:bU};};bw.Prolong=function(bU,bV){var bW,bX,bY;bW=bV.Compute;bX=bV.Duration;bY=bK.Create(function(){return bV.Compute(bV.Duration);});return{Compute:function(bZ){return bZ>=bX?bY.f():bW(bZ);},Duration:bU};};bx.$cctor=function(){bx.$cctor=a.ignore;bx.BatchUpdatesEnabled=true;};P.head=function(bU){return bU.$==1?bU.$0:P.listEmpty();};P.tail=function(bU){return bU.$==1?bU.$1:P.listEmpty();};P.listEmpty=function(){return w.FailWith("The input list was empty.");};by=t.Updates=bP.Class({},null,by);by.Create=function(bU){var bV;bV=null;bV=by.New(bU,null,function(){var bW;bW=bV.s;return bW===null?(bW=L.Copy(bV.c()),bV.s=bW,L.WhenObsoleteRun(bW,function(){bV.s=null;}),bW):bW;});return bV;};by.New=function(bU,bV,bW){return new by({c:bU,s:bV,v:bW});};bz.Clear=function(bU){bU.splice(0,F.length(bU));};bB.New=function(bU,bV,bW,bX){var bY;bY={DynElem:bU,DynFlags:bV,DynNodes:bW};bP.SetOptional(bY,"OnAfterRender",bX);return bY;};bC.$cctor=function(){bC.$cctor=a.ignore;bC.CubicInOut=bF.Custom(function(bU){var bV;bV=bU*bU;return 3*bV-2*(bV*bU);});bC.UseAnimations=true;};bD.Append=function(bU,bV){return bU.$==0?bV:bV.$==0?bU:{$:2,$0:bU,$1:bV};};bD.ToArray=function(bU){var bV;function bW(bX){if(bX.$==1)bV.push(bX.$0);else if(bX.$==2){bW(bX.$0);bW(bX.$1);}else if(bX.$==3)F.iter(function(bY){bV.push(bY);},bX.$0);}bV=[];bW(bU);return bV.slice(0);};bD.Concat=function(bU){var bV;bV=bk.ofSeqNonCopying(bU);return bk.TreeReduce(bD.Empty(),bD.Append,bV);};bD.Empty=function(){bL.$cctor();return bL.Empty;};bE.$cctor=function(){bE.$cctor=a.ignore;bE.EmptyAttr=null;};bF=t.Easing=bP.Class({},l,bF);bF.Custom=function(bU){return new bF.New(bU);};bF.New=bP.Ctor(function(bU){l.New.call(this);this.transformTime=bU;},bF);bG.Filter=function(bU,bV){return new bf.New$2(F.filter(bU,bG.ToArray(bV)));};bG.Except=function(bU,bV){var bW;bW=new bf.New$2(bG.ToArray(bV));bW.ExceptWith(bG.ToArray(bU));return bW;};bG.ToArray=function(bU){var bV;bV=F.create(bU.get_Count(),void 0);bU.CopyTo(bV);return bV;};bG.Intersect=function(bU,bV){var bW;bW=new bf.New$2(bG.ToArray(bU));bW.IntersectWith(bG.ToArray(bV));return bW;};bH=t.DynamicAttrNode=bP.Class({NChanged:function(){return this.updates;},NGetExitAnim:function(bU){return bg.get_Empty();},NGetEnterAnim:function(bU){return bg.get_Empty();},NGetChangeAnim:function(bU){return bg.get_Empty();},NSync:function(bU){if(this.dirty){(this.push(bU))(this.value);this.dirty=false;}}},l,bH);bH.New=bP.Ctor(function(bU,bV){var bW;bW=this;l.New.call(this);this.push=bV;this.value=void 0;this.dirty=false;this.updates=v.Map(function(bX){bW.value=bX;bW.dirty=true;},bU);},bH);bI.Children=function(bU,bV){var bW,bX,bY;if(bV!=null&&bV.$==1){bY=[];bW=bV.$0[0].nextSibling;while(bW!==bV.$0[1]){bY.push(bW);bW=bW.nextSibling;}return{$:0,$0:bY};}else return{$:0,$0:F.init(bU.childNodes.length,(bX=bU.childNodes,function(bZ){return bX[bZ];}))};};bI.Except=function(bU,bV){var bW;bW=bU.$0;return{$:0,$0:F.filter(function(bX){return F.forall(function(bY){return!(bX===bY);},bW);},bV.$0)};};bI.Iter=function(bU,bV){F.iter(bU,bV.$0);};bI.DocChildren=function(bU){var bV;function bW(bX){if(bX!=null&&bX.$==2)bW(bX.$0.Current);else if(bX!=null&&bX.$==1)bV.push(bX.$0.El);else if(bX==null);else if(bX!=null&&bX.$==5)bV.push(bX.$0);else if(bX!=null&&bX.$==4)bV.push(bX.$0.Text);else if(bX!=null&&bX.$==6)F.iter(function(bY){if(bY==null||bY.constructor===W)bW(bY);else bV.push(bY);},bX.$0.Els);else{bW(bX.$0);bW(bX.$1);}}bV=[];bW(bU.Children);return{$:0,$0:bk.ofSeqNonCopying(bV)};};bJ.concat=function(bU){var bV,bW;bV=[];for(var bX in bU)bV.push.apply(bV,bU[bX]);return bV;};bK.Create=function(bU){return bN.New(false,bU,bK.forceLazy);};bK.forceLazy=function(){var bU;bU=this.v();this.c=true;this.v=bU;this.f=bK.cachedLazy;return bU;};bK.cachedLazy=function(){return this.v;};bL.$cctor=function(){bL.$cctor=a.ignore;bL.Empty={$:0};};bN.New=function(bU,bV,bW){return{c:bU,v:bV,f:bW};};bP.OnLoad(function(){p.main();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
//# sourceMappingURL=testing.min.map
