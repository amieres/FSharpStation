function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
var JSON;JSON||(JSON={}),function(){"use strict";function i(n){return n<10?"0"+n:n}function f(n){return o.lastIndex=0,o.test(n)?'"'+n.replace(o,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function r(i,e){var s,l,h,a,v=n,c,o=e[i];o&&typeof o=="object"&&typeof o.toJSON=="function"&&(o=o.toJSON(i));typeof t=="function"&&(o=t.call(e,i,o));switch(typeof o){case"string":return f(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(n+=u,c=[],Object.prototype.toString.apply(o)==="[object Array]"){for(a=o.length,s=0;s<a;s+=1)c[s]=r(s,o)||"null";return h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+v+"]":"["+c.join(",")+"]",n=v,h}if(t&&typeof t=="object")for(a=t.length,s=0;s<a;s+=1)typeof t[s]=="string"&&(l=t[s],h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));else for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));return h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+v+"}":"{"+c.join(",")+"}",n=v,h}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,u,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(n="",u="",typeof e=="number")for(o=0;o<e;o+=1)u+=" ";else typeof e=="string"&&(u=e);if(t=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return r("",{"":i})});typeof JSON.parse!="function"&&(JSON.parse=function(n,t){function r(n,i){var f,e,u=n[i];if(u&&typeof u=="object")for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&(e=r(u,f),e!==undefined?u[f]=e:delete u[f]);return t.call(n,i,u)}var i;if(n=String(n),e.lastIndex=0,e.test(n)&&(n=n.replace(e,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?r({"":i},""):i;throw new SyntaxError("JSON.parse");})}();
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF;a=self;b=a.FsRoot=a.FsRoot||{};c=b.ProzperServer=b.ProzperServer||{};d=c.ClientSide=c.ClientSide||{};e=d.MainProgram=d.MainProgram||{};f=a.WebSharper=a.WebSharper||{};g=f.Obj=f.Obj||{};h=f.UI=f.UI||{};i=h.Var$1=h.Var$1||{};j=b.LibraryJS=b.LibraryJS||{};k=j.AppFramework=j.AppFramework||{};l=k.PlugIn=k.PlugIn||{};m=d.ModeloUI=d.ModeloUI||{};n=m.Aliado=m.Aliado||{};o=f.Operators=f.Operators||{};p=h.View=h.View||{};q=h.Var=h.Var||{};r=f.Lazy=f.Lazy||{};s=m.RenderAliados=m.RenderAliados||{};t=m.RenderAliado=m.RenderAliado||{};u=m.FormaRegistro=m.FormaRegistro||{};v=m.FormaDatos=m.FormaDatos||{};w=m.FormaContactos=m.FormaContactos||{};x=m.FormaFormasPago=m.FormaFormasPago||{};y=m.ReporteConsolidado=m.ReporteConsolidado||{};z=m.TablaPagos=m.TablaPagos||{};A=m.ListaDocs=m.ListaDocs||{};B=m.FormaAutorizacion=m.FormaAutorizacion||{};C=m.FormaContrato=m.FormaContrato||{};D=m.Transacciones=m.Transacciones||{};E=m.Pendientes=m.Pendientes||{};F=a.EventTarget;G=a.Node;H=f.JavaScript=f.JavaScript||{};I=H.JS=H.JS||{};J=f.Unchecked=f.Unchecked||{};K=j.LayoutEngineModule=j.LayoutEngineModule||{};L=f.Option=f.Option||{};M=c.TypesV0=c.TypesV0||{};N=M.Aliado=M.Aliado||{};O=c.Aliado=c.Aliado||{};P=h.Templating=h.Templating||{};Q=P.Runtime=P.Runtime||{};R=Q.Server=Q.Server||{};S=R.TemplateInstance=R.TemplateInstance||{};T=f.Arrays=f.Arrays||{};U=R.ProviderBuilder=R.ProviderBuilder||{};V=R.Handler=R.Handler||{};W=a.prozperDes$js_Templates=a.prozperDes$js_Templates||{};X=a.prozperDes$js_GeneratedPrintf=a.prozperDes$js_GeneratedPrintf||{};Y=a.prozperDes$js_Router=a.prozperDes$js_Router||{};Z=h.Doc=h.Doc||{};_0=m.Rpc=m.Rpc||{};_1=M.IdAliado=M.IdAliado||{};_2=M.Modelo=M.Modelo||{};_3=h.ConcreteVar=h.ConcreteVar||{};_4=h.Snap=h.Snap||{};_5=a.StartupCode$prozperDes_js$prozperDes_js=a.StartupCode$prozperDes_js$prozperDes_js||{};_6=h.ListModel=h.ListModel||{};_7=k.PlugInVar=k.PlugInVar||{};_8=k.PlugInView=k.PlugInView||{};_9=k.PlugInDoc=k.PlugInDoc||{};_=H.Pervasives=H.Pervasives||{};$=f.LazyExtensionsProxy=f.LazyExtensionsProxy||{};ba=$.LazyRecord=$.LazyRecord||{};bb=a.ProzperServer_GeneratedPrintf=a.ProzperServer_GeneratedPrintf||{};bc=f.Seq=f.Seq||{};bd=b.Library=b.Library||{};be=bd.SortWith=bd.SortWith||{};bf=O.Buscar=O.Buscar||{};bg=f.Collections=f.Collections||{};bh=bg.FSharpSet=bg.FSharpSet||{};bi=bg.Set=bg.Set||{};bj=f.Strings=f.Strings||{};bk=M.CorreoElectronico=M.CorreoElectronico||{};bl=m.DatosPersonales=m.DatosPersonales||{};bm=m.CorreoElectronico=m.CorreoElectronico||{};bn=m.Telefono=m.Telefono||{};bo=m.Direccion=m.Direccion||{};bp=bd.Monads=bd.Monads||{};bq=bp.AsyncResultBuilder=bp.AsyncResultBuilder||{};br=m.Refresh=m.Refresh||{};bs=a.System=a.System||{};bt=bs.Guid=bs.Guid||{};bu=m.VariousUI=m.VariousUI||{};bv=h.HtmlModule=h.HtmlModule||{};bw=bv.attr=bv.attr||{};bx=h.ViewBuilder=h.ViewBuilder||{};by=M.StatusAliado=M.StatusAliado||{};bz=f.List=f.List||{};bA=M.CuentaBancaria=M.CuentaBancaria||{};bB=M.RoutingNumber=M.RoutingNumber||{};bC=M.NumeroCuenta=M.NumeroCuenta||{};bD=f.Utils=f.Utils||{};bE=M.FormaPago=M.FormaPago||{};bF=bp.Result=bp.Result||{};bG=M.Archivo=M.Archivo||{};bH=bp.Extensions=bp.Extensions||{};bI=j.ListModel=j.ListModel||{};bJ=j.Date=j.Date||{};bK=bd.String=bd.String||{};bL=M.TipoArchivo=M.TipoArchivo||{};bM=M.StatusArchivo=M.StatusArchivo||{};bN=a.Blob;bO=M.CuentaPago=M.CuentaPago||{};bP=m.FormaFirma=m.FormaFirma||{};bQ=M.PremisasCalculo=M.PremisasCalculo||{};bR=k.PlugInAction=k.PlugInAction||{};bS=d.Msal=d.Msal||{};bT=a.WindowOrWorkerGlobalScope;bU=j.LayoutEngine=j.LayoutEngine||{};bV=a.StartupCode$LayoutEngine$LayoutEngine=a.StartupCode$LayoutEngine$LayoutEngine||{};bW=M.IdForAuthorize=M.IdForAuthorize||{};bX=M.DatosPersonales=M.DatosPersonales||{};bY=M.DiaPago=M.DiaPago||{};bZ=M.TipoAliado=M.TipoAliado||{};b0=f.Numeric=f.Numeric||{};b1=a.StartupCode$ProzperServer$ProzperServer=a.StartupCode$ProzperServer$ProzperServer||{};b2=bg.List=bg.List||{};b3=bg.Dictionary=bg.Dictionary||{};b4=bg.HashSet=bg.HashSet||{};b5=Q.Client=Q.Client||{};b6=h.Abbrev=h.Abbrev||{};b7=b6.Async=b6.Async||{};b8=b6.Fresh=b6.Fresh||{};b9=bF.Builder=bF.Builder||{};b_=bF.BuilderP=bF.BuilderP||{};b$=bp.Eff=bp.Eff||{};ca=b$.EffBuilder=b$.EffBuilder||{};cb=bp.AsyncResultBuilderP=bp.AsyncResultBuilderP||{};cc=f.Slice=f.Slice||{};cd=j.Msal=j.Msal||{};ce=cd.Policy=cd.Policy||{};cf=cd.Configuration=cd.Configuration||{};cg=cd.AuthOptions=cd.AuthOptions||{};ch=f.Control=f.Control||{};ci=ch.MailboxProcessor=ch.MailboxProcessor||{};cj=bd.Mailbox=bd.Mailbox||{};ck=m.EndPoint=m.EndPoint||{};cl=h.Router=h.Router||{};cm=f.Remoting=f.Remoting||{};cn=c.Rpc0=c.Rpc0||{};co=M.IdPayment=M.IdPayment||{};cp=m.Calculado=m.Calculado||{};cq=cp.ExternalKeyList=cp.ExternalKeyList||{};cr=cp.AF=cp.AF||{};cs=k.PlugInQuery=k.PlugInQuery||{};ct=bg.FSharpMap=bg.FSharpMap||{};cu=f.Enumerator=f.Enumerator||{};cv=cu.T=cu.T||{};cw=bg.BalancedTree=bg.BalancedTree||{};cx=bz.T=bz.T||{};cy=M.Genero=M.Genero||{};cz=bd.ParseO=bd.ParseO||{};cA=M.Pais=M.Pais||{};cB=M.Telefono=M.Telefono||{};cC=M.TipoTelefono=M.TipoTelefono||{};cD=M.Direccion=M.Direccion||{};cE=M.TipoDireccion=M.TipoDireccion||{};cF=M.Estado=M.Estado||{};cG=M.ZonaPostal=M.ZonaPostal||{};cH=bp.AsyncResult=bp.AsyncResult||{};cI=cm.AjaxRemotingProvider=cm.AjaxRemotingProvider||{};cJ=bd.Array=bd.Array||{};cK=M.TarjetaCredito=M.TarjetaCredito||{};cL=M.Subscripcion=M.Subscripcion||{};cM=M.NumeroTarjeta=M.NumeroTarjeta||{};cN=m.CuentaBancaria=m.CuentaBancaria||{};cO=m.TarjetaCredito=m.TarjetaCredito||{};cP=a.Object;cQ=h.FromView=h.FromView||{};cR=f.Concurrency=f.Concurrency||{};cS=h.AttrProxy=h.AttrProxy||{};cT=h.Array=h.Array||{};cU=M.TipoCuenta=M.TipoCuenta||{};cV=h.Storage=h.Storage||{};cW=h.AttrModule=h.AttrModule||{};cX=a.GeneratedPrintf=a.GeneratedPrintf||{};cY=a.LayoutEngine_Templates=a.LayoutEngine_Templates||{};cZ=a.LayoutEngine_GeneratedPrintf=a.LayoutEngine_GeneratedPrintf||{};c0=j.WebComponent=j.WebComponent||{};c1=c0.WcTabStrip=c0.WcTabStrip||{};c2=c1.WcTabStripT=c1.WcTabStripT||{};c3=c0.WcSplitter=c0.WcSplitter||{};c4=bd.Serializer=bd.Serializer||{};c5=M.Expiracion=M.Expiracion||{};c6=M.TipoTarjeta=M.TipoTarjeta||{};c7=bg.DictionaryUtil=bg.DictionaryUtil||{};c8=h.CheckedInput=h.CheckedInput||{};c9=h.Client=h.Client||{};c_=c9.Templates=c9.Templates||{};c$=j.Pojo=j.Pojo||{};da=a.Error;db=f.TimeoutException=f.TimeoutException||{};dc=H.Promise=H.Promise||{};dd=f.Sitelets=f.Sitelets||{};de=dd.RouterOperators=dd.RouterOperators||{};df=dd.RouterModule=dd.RouterModule||{};dg=dd.Route=dd.Route||{};dh=a.StartupCode$WebSharper_Main$Remoting=a.StartupCode$WebSharper_Main$Remoting||{};di=cp.Calculado=cp.Calculado||{};dj=bg.MapUtil=bg.MapUtil||{};dk=cw.Tree=cw.Tree||{};dl=M.IdAddress=M.IdAddress||{};dm=M.IdSubscription=M.IdSubscription||{};dn=h.Docs=h.Docs||{};_do=cR.AsyncBody=cR.AsyncBody||{};dp=cR.CT=cR.CT||{};dq=h.Attrs=h.Attrs||{};dr=h.DomUtility=h.DomUtility||{};ds=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};dt=cV.ArrayStorage=cV.ArrayStorage||{};du=j.Var=j.Var||{};dv=M.ConceptoPago=M.ConceptoPago||{};dw=E.Enlace=E.Enlace||{};dx=K.Layout=K.Layout||{};dy=f.DateUtil=f.DateUtil||{};dz=c3.WcSplitterT=c3.WcSplitterT||{};dA=f.MatchFailureException=f.MatchFailureException||{};dB=h.DocElemNode=h.DocElemNode||{};dC=a.CharacterData;dD=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};dE=ch.FSharpEvent=ch.FSharpEvent||{};dF=bg.LinkedList=bg.LinkedList||{};dG=cd.AuthenticationParameters=cd.AuthenticationParameters||{};dH=cd.Account=cd.Account||{};dI=dd.Router=dd.Router||{};dJ=dd.List=dd.List||{};dK=cm.XhrProvider=cm.XhrProvider||{};dL=bg.Pair=bg.Pair||{};dM=f.Result=f.Result||{};dN=cR.Scheduler=cR.Scheduler||{};dO=f.CancellationTokenSource=f.CancellationTokenSource||{};dP=h.DynamicAttrNode=h.DynamicAttrNode||{};dQ=K.Measures=K.Measures||{};dR=j.Hoverable=j.Hoverable||{};dS=dR.Hoverable=dR.Hoverable||{};dT=a.Event;dU=a.UIEvent;dV=j.ResizeObserver=j.ResizeObserver||{};dW=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};dX=h.Elt=h.Elt||{};dY=c9.Attrs=c9.Attrs||{};dZ=dY.Dyn=dY.Dyn||{};d0=c_.Prepare=c_.Prepare||{};d1=h.An=h.An||{};d2=c9.Settings=c9.Settings||{};d3=b6.Mailbox=b6.Mailbox||{};d4=bg.HashSetUtil=bg.HashSetUtil||{};d5=ch.Event=ch.Event||{};d6=d5.Event=d5.Event||{};d7=H.NonStandardPromiseRejectionException=H.NonStandardPromiseRejectionException||{};d8=a.StartupCode$WebSharper_Sitelets$Router=a.StartupCode$WebSharper_Sitelets$Router||{};d9=bg.Map=bg.Map||{};d_=f.OperationCanceledException=f.OperationCanceledException||{};d$=f.Queue=f.Queue||{};ea=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};eb=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};ec=f.AggregateException=f.AggregateException||{};ed=bg.KeyCollection=bg.KeyCollection||{};ee=h.Updates=h.Updates||{};ef=c9.Docs=c9.Docs||{};eg=ef.RunState=ef.RunState||{};eh=ef.NodeSet=ef.NodeSet||{};ei=h.Anims=h.Anims||{};ej=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};ek=f.Char=f.Char||{};el=f.Json=f.Json||{};em=dd.StringEncoding=dd.StringEncoding||{};en=f.FormatException=f.FormatException||{};eo=h.String=h.String||{};ep=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};eq=h.AppendList=h.AppendList||{};er=bg.LinkedListEnumerator=bg.LinkedListEnumerator||{};es=dd.PathUtil=dd.PathUtil||{};et=h.Easing=h.Easing||{};eu=b6.HashSet=b6.HashSet||{};ev=ef.DomNodes=ef.DomNodes||{};ew=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};ex=a.IntelliFactory;ey=ex&&ex.Runtime;ez=a.Math;eA=a.jQuery;eB=a.console;eC=a.Date;eD=a.JSON;eE=a.Reflect;eF=a.String;e.mainProgram=function(){var eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY;eG=i.Create$1(e.appName());eH=p.Map(function(eZ){return e.mesToString(eZ.periodoActual);},m.modeloV().get_View());eI=p.Map(function(eZ){return a.String(eZ.anoActual);},m.modeloV().get_View());eJ=p.Map(function(eZ){return O.nombre2(eZ.datosPersonales);},m.aliadoW());eK=p.Map(function(eZ){return eZ.id.get_Id();},m.aliadoW());eL=p.Map(function(eZ){return a.String(eZ.status);},m.aliadoW());eM=p.Map(function(eZ){return a.String(eZ.comision);},m.aliadoW());eN=p.Map(function(eZ){return a.String(eZ.nReferidos);},m.aliadoW());k.addPlugIn(l.New(e.appName(),[k.newVar("title",eG),k.newVar("contentVar",m.contentVar()),k.newVar("invitaciones",m.invitacionesV()),k.newVar("influencer",e.influencerV())],[k.newViw("mesActual",eH),k.newViw("anoActual",eI),k.newViw("aliado",eJ),k.newViw("idAliado",eK),k.newViw("status",eL),k.newViw("comision",eM),k.newViw("datos",eN),k.newViw("emailsInvitar",m.emailsInvitarW()),k.newViw("invitacionesDisabled",m.invitacionesDisabledW()),k.newViw("VideoW",p.Map(function(eZ){return eZ.$==5?eZ.$0:"";},m.endPointV().get_View())),k.newViw("influencerClassW",e.influencerClassW())],[k.newDoc("Aliados",r.Create(s.aliados)),k.newDoc("Aliado",r.Create(t.aliado)),k.newDoc("Calculo",r.Create(t.calculo)),k.newDoc("FormaRegistro",r.Create(u.formaDoc)),k.newDoc("FormaDatos",r.Create(v.formaDoc)),k.newDoc("FormaContactos",r.Create(w.formaDoc)),k.newDoc("FormaFormasPago",r.Create(x.formaDoc)),k.newDoc("contentDoc",r.Create(e.getContentDoc)),k.newDoc("ReporteConsolidado",r.Create(y.consolidado)),k.newDoc("TablaPagos",r.Create(z.comisiones)),k.newDoc("ListaDocs",r.Create(A.listaDocs)),k.newDoc("FormaAutorizacion",r.Create(B.formaAutorizacion)),k.newDoc("FormaContrato",r.Create(C.formaContrato)),k.newDoc("Transacciones",r.Create(D.transacciones)),k.newDoc("Pendientes",r.Create(function(){return E.pendientes(m.aliadoW());}))],[k.newAct("Logout",function(){e.logout();}),k.newAct("LogIn",function(){e.login();}),k.newAct("enviarInvitaciones",function(){e.enviarCorreosInvitacion();}),k.newAct("gotoInfluencer",function(){e.gotoInfluencer();})],[]));K.addLayout((eO=(eP=self.document.getElementById("GlobalLayout"),J.Equals(eP,null)?"\r\n                            menuEditor layout\r\n                            |          main\r\n            \r\n                            main div \"\"\r\n                            :                 template  header     \"id=header\"           brand  brandV   logout \"@{Prozper.Logout}\" afiliado \"@{Prozper.aliado}\"\r\n                            :                 Doc       Prozper.contentDoc\r\n                            :                 template  sidedrawer \"id=sidedrawer\"       brand  brandV   idaliado \"@{Prozper.idAliado}\" \r\n                            :                 template  footer     \"id=footer\"           brand  brandV   madeby \"CIPHER Bsc\" madebylink \"www.cipherbsc.com\"\r\n             \r\n                            mainContent          template  content    \"id=content-wrapper\"  content aliados                  fecha \"@{Prozper.mesActual} @{Prozper.anoActual}\" idaliado \"@{Prozper.aliado}\"\r\n                            cntFormaRegistro     template  content    \"id=content-wrapper\"  content Prozper.FormaRegistro    titulo \"Referido por: @{Prozper.aliado}\"  \r\n                            cntFormaDatos        template  content    \"id=content-wrapper\"  content Prozper.FormaDatos       titulo \" \"\r\n                            cntFormaContactos    template  content    \"id=content-wrapper\"  content Prozper.FormaContactos   titulo \" \" \r\n                            cntFormaFormasPago   template  content    \"id=content-wrapper\"  content Prozper.FormaFormasPago  titulo \" \" \r\n                            cntFormaCuentas      template  content    \"id=content-wrapper\"  content ProzperLyt.FormaCuentas  titulo \" \"  \r\n                            cntFormaDocumentos   template  content    \"id=content-wrapper\"  content Prozper.FormaDocumentos  titulo \" \"  \r\n                            cntFormaNoUser       template  content    \"id=content-wrapper\"  content botonLogin               titulo \" \"  \r\n                            cntFormaInvitaciones template  content    \"id=content-wrapper\"  content invitaciones             titulo \" \"  \r\n            \r\n                            aliados          div       \"class=row\"\r\n                            :                div       \"class=mui-col-md-6\"\r\n                            ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" Prozper.Aliados\r\n                            :                div       \"class=mui-col-md-6\"\r\n                            ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" Aliado Comisiones\r\n                            brandV           Var       \"Prozper\"\r\n            \r\n                            botonLogin       div       \"class=row\"\r\n                            :                div       \"class=mui-col-md-6\"\r\n                            ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" \r\n                            :::              button    Prozper.LogIn \"class=mui-btn mui-btn--primary\" \"Ingresar al Sistema\"\r\n            \r\n                            invitaciones     div       \"class=row\"\r\n                            :                div       \"class=mui-col-md-6 mui-col-md-offset-1\"\r\n                            ::               div       \"class=mui-panel mui--z5 scrollbar; max-height:550px ; overflow:auto\" \r\n                            :::              h1        \"\" \"Enviar Invitaciones\"\r\n                            :::              textarea  Prozper.invitaciones  \"width:100% ; height:30rem; placeholder=Copie aqui las direcciones de correo electronico\" \r\n                            :                div       \"white-space: pre-wrap\" \"@{Prozper.emailsInvitar}\"\r\n                            :                button    Prozper.enviarInvitaciones \"class=mui-btn mui-btn--raised mui-btn--primary;@{Prozper.invitacionesDisabled}\" \"Enviar\"\r\n            \r\n                            Aliado           div       \"class=mui-col-md-8\"\r\n                            :                Doc Prozper.Aliado\r\n            \r\n                            Comisiones       template    tablacomisiones \"class=mui-col-md-3\"  tbody filasComisiones\r\n                            filasComisiones  concat      \"\"\r\n                            :                template    filacomision    \"\"  periodo \"Ene 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Feb 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Mar 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Abr 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"May 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Jun 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Jul 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Ago 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Sep 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Oct 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Nov 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Dec 2018\" comision \"$1,000\"\r\n                    \r\n                            menuEditorx      horizontal  65          menuLogo                  editorMessages\r\n                            double           horizontal  0-50-100    AppFramework.AppFwkClient menuEditor\r\n                            menuLogo         vertical    350         logo                      menu\r\n                            logo             span       \"margin:0;   color:gray; font-size: 55px; font-weight:530\" \"StackOverflow\"\r\n                            editorMessages   horizontal  10-83-100   editorButtons             messages\r\n                            messages         vertical    0-50-100    messagesLeft              messagesRight\r\n                            editorButtons    vertical    150 buttons snippetsSnippet \r\n                            snippetsSnippet  vertical    0-20-100    snippets                  editorProperties\r\n                            snippets         horizontal  20          \"@{FSharpStation.CurrentPath}\" tblDimensions2\r\n                            editorProperties vertical    0-100-100   snippet                   properties\r\n                            properties       div        \"\"           FSharpStation.Properties\r\n                            snippet          horizontal  35          Name                      FSharpStation.editor\r\n                            menu             span       \"display: grid; grid-template-columns: 30% 20% 20% 10%; grid-gap: 25px; margin:5px; grid-template-rows:50px\" inpServer btnLoad btnSaveAs\r\n                             \r\n                            severalTabs      wcomp-tabstrip  \"\" \r\n                            :                div \"tabname=Dimensions\" \r\n                            ::               div \"\" btnAddDimension RuleEditor.Dimensions\r\n                            :                div \"tabname=Cubes\"\r\n                            :                div \"tabname=Global Definitions\" RuleEditor.globalDefs\r\n                    \r\n                            btnSaveAs        button RuleEditor.SaveAs         \"class=btn @{RuleEditor.SaveNeeded}\" \"Save as...    \"\r\n                            btnAddDimension  button RuleEditor.AddDimension      \"\"                  \"new dim...\"\r\n                            btnDeleteSnippet button FSharpStation.RemoveSnippet  \"\"                  \"Delete Snippet\"\r\n                            btnIndentIn      button FSharpStation.IndentIn       \"\"                  \"Indent In  >> \"\r\n                            btnIndentOut     button FSharpStation.IndentOut      \"\"                  \"Indent Out << \"\r\n                            btnRunFS         button FSharpStation.RunFS          \"\"                  \"Run F#        \"\r\n                            btnAbortFsi      button FSharpStation.AbortFsi       \"\"                  \"Abort Fsi     \"\r\n                    \r\n                            messagesLeft     wcomp-tabstrip                      \"\"                  Output FsCode\r\n                            messagesRight    wcomp-tabstrip                      \"\"                  Parser\r\n                    \r\n                            buttons          div \"overflow: hidden; display: grid; grid-template-columns: 100%; grid-template-rows: repeat(15, calc(100% / 15)); bxackground-color: #eee; box-sizing: border-box; padding : 5px; grid-gap: 5px; margin-right: 21px\"\r\n                            :                button RuleEditor.AddCalculation    \"\"                 \"Add Calculation\"\r\n                            :                button RuleEditor.AddTotal          \"\"                 \"Add Total\"\r\n                            :                Doc       none x\r\n                            :                button RuleEditor.IndentIn          \"\"                  \"Indent In  >> \"\r\n                            :                button RuleEditor.IndentOut         \"\"                  \"Indent Out << \"\r\n                    \r\n                            Output           textarea  RuleEditor.Output         \"tabname=Output ; placeholder=Output messages ; spellcheck=false\" \r\n                            FsCode           textarea  RuleEditor.CodeFS         \"tabname=F# Code; placeholder=F# Code         ; spellcheck=false\" \r\n                            Parser           textarea  RuleEditor.Parser         \"tabname=Parser ; placeholder=Parser messages; dblclick=@{FSharpStation.JumpTo} ; spellcheck=false\" \r\n                            Name             Doc       InputLabel                \"\"     \"Name:\"        FSharpStation.SnippetName\r\n                            inpServer        Doc       InputLabel                \"\"     \"Server:\"      RuleEditor.Server\r\n                            btnLoad          Doc       InputFile                 \"\"     \"Load File...\" RuleEditor.LoadFile  FileName\r\n                            btnImport        Doc       InputFile                 \"\"     \"Import...\"    FSharpStation.Import    \"\"\r\n                            FileName         div                                 \"class=form-control\"  RuleEditor.fileName\r\n            \r\n                       ":eP.textContent),K.newLyt(e.layoutName(),eO)));eQ=(eR=null,(eS=e.layoutName(),eR==null?eS:eR.$0));k.mainDocV().Set(eQ);Z.BindView(function(eZ){var e0,e1,e2;return J.Equals(eZ.id,O.empty().id)?(e0=U.Make(),(e1=V.CompleteHoles(e0.k,e0.h,[]),(e2=new S.New(e1[1],W.opcionesadministrador(e1[0])),(e0.i=e2,e2)))).get_Doc():Z.get_Empty();},m.aliadoW());eT=(eU=(eV=e.getDocView(e.layoutName(),"headerCenter"),(eW=e.getMenuDoc(),(eX=e.getContentDoc(),U.Make().WithHole({$:0,$0:"maincontent",$1:eX})).WithHole({$:0,$0:"menu",$1:eW})).WithHole({$:0,$0:"headercenter",$1:eV})),eU.WithHole(V.EventQ2(eU.k,"logout",function(){return eU.i;},function(){e.logout();}))).WithHole({$:2,$0:"cortina",$1:p.Map(function(eZ){return eZ>0?"mui-overlay":"not-mui-overlay";},_0.llamadas())});eY=V.CompleteHoles(eT.k,eT.h,[]);eT.i=new S.New(eY[1],c_.RunFullDocTemplate(eY[0]));p.Sink(function(eZ){self.document.title=eZ;},eG.get_View());};e.appName=function(){_5.$cctor();return _5.appName;};e.influencerV=function(){_5.$cctor();return _5.influencerV;};e.influencerClassW=function(){_5.$cctor();return _5.influencerClassW;};e.getContentDoc=function(){return Z.EmbedView(p.Map(function(eG){return e.getDoc(e.appName(),eG);},m.contentVar().get_View()));};e.logout=function(){bS.logout();};e.login=function(){bS.logout();};e.enviarCorreosInvitacion=function(){var eG;_0.iterA((eG=bp.asyncResult(),eG.Run(eG.Delay(function(){return bH["AsyncResultBuilder.Bind"](eG,p.GetAsync(m.emailsInvitarW()),function(eH){return bH["AsyncResultBuilder.Bind"](eG,p.GetAsync(p.Map(function(eI){return eI.id.get_Id();},m.aliadoW())),function(){var eI;eI=T.filter(function(eJ){return bj.Trim(eJ)!=="";},bj.SplitChars(eH,["\n"],0));return eG.Bind$1(_0.enviarCorreosInvitacion("Invitacion a Prozper",eI),function(){var eJ;eJ=T.length(eI);return eJ===0?(a.alert("Ningun correo valido ha sido encontrado"),eG.Zero()):eJ===1?(a.alert("Invitacion ha sido enviada"),eG.Zero()):(a.alert("Invitaciones han sido enviadas"),eG.Zero());});});});}))));};e.gotoInfluencer=function(){var eG;cR.Start((eG=null,cR.Delay(function(){return cR.Bind(_0.obtenerIdInfluyente(e.influencerV().Get()),function(eH){return eH.$==0?(self.location.href="/Register/"+e.influencerV().Get(),cR.Zero()):(self.alert("Código inválido:"+e.influencerV().Get()),cR.Zero());});})),null);};e.layoutName=function(){_5.$cctor();return _5.layoutName;};e.getMenuDoc=function(){return Z.EmbedView(p.Map2(function(eG,eH){var eI;eI=eG!=null&&eG.$==1?J.Equals(eH.id,O.empty().id)?"ProzperLyt.mnuAdministrador":"ProzperLyt.mnuUsuario":"ProzperLyt.mnuNoUsuario";return e.getDoc(e.appName(),eI);},bS.userO().get_View(),m.aliadoW()));};e.getDocView=function(eG,eH){return K.turnToView(function(){return e.getDoc(eG,eH);});};e.mesToString=function(eG){return eG===1?"Ene":eG===2?"Feb":eG===3?"Mar":eG===4?"Abr":eG===5?"May":eG===6?"Jun":eG===7?"Jul":eG===8?"Ago":eG===9?"Sep":eG===10?"Oct":eG===11?"Nov":eG===12?"Dic":"---";};e.getDoc=function(eG,eH){var eI,eJ,eK;eI=(eJ=(eK=((K.splitName())(eG))(eH),k.tryGetDoc(eK[0],eK[1])),eJ==null?null:{$:1,$0:K.getDocFinal(cx.Empty,eJ.$0)});return eI==null?K.errDoc((function(eL){return function(eM){return eL("Doc not found "+bD.toSafe(eM));};}(a.id))(eH)):eI.$0;};g=f.Obj=ey.Class({Equals:function(eG){return this===eG;},GetHashCode:function(){return -1;}},null,g);g.New=ey.Ctor(function(){},g);i=h.Var$1=ey.Class({},g,i);i.Create$1=function(eG){return new _3.New(false,_4.New({$:2,$0:eG,$1:[]}),eG);};i.Lens=function(eG,eH,eI){var eJ,eK,eL;eJ=b8.Id();eK=p.Map(eH,eG.get_View());eL=new q({Get:function(){return eH(eG.Get());},Set:function(eM){return eG.Update(function(eN){return eI(eN,eM);});},SetFinal:function(eM){return this.Set(eM);},Update:function(eM){return eG.Update(function(eN){return eI(eN,eM(eH(eN)));});},UpdateMaybe:function(eM){return eG.UpdateMaybe(function(eN){var eO;eO=eM(eH(eN));return eO==null?null:{$:1,$0:eI(eN,eO.$0)};});},get_View:function(){return eK;},get_Id:function(){return eJ;}});q.New.call(eL);return eL;};i.Set=function(eG,eH){eG.Set(eH);};k.addPlugIn=function(eG){k.plugIns().Append(eG);k.mainDocV().Set(k.mainDocV().Get());};k.newVar=function(eG,eH){return _7.New(eG,eH);};k.newViw=function(eG,eH){return _8.New(eG,eH);};k.newDoc=function(eG,eH){return _9.New(eG,{$:0,$0:eH});};k.newAct=function(eG,eH){return bR.New(eG,{$:0,$0:eH},p.Const(true));};k.mainDocV=function(){bV.$cctor();return bV.mainDocV;};k.plugIns=function(){bV.$cctor();return bV.plugIns;};k.newDocF=function(eG,eH){return _9.New(eG,eH);};k.tryGetDoc=function(eG,eH){var eI;eI=k.tryGetPlugIn(eG);return eI==null?null:T.tryFind(function(eJ){return eJ.docName===eH;},eI.$0.plgDocs);};k.tryGetAct=function(eG,eH){var eI;eI=k.tryGetPlugIn(eG);return eI==null?null:T.tryFind(function(eJ){return eJ.actName===eH;},eI.$0.plgActions);};k.callFunction=function(eG,eH,eI){if(eI.$==1)eI.$0(eG);else if(eI.$==2)(eI.$0(eG))(eH);else eI.$0();};k.tryGetVar=function(eG,eH){var eI;eI=k.tryGetPlugIn(eG);return eI==null?null:T.tryFind(function(eJ){return eJ.varName===eH;},eI.$0.plgVars);};k.selectionPlugInO=function(){bV.$cctor();return bV.selectionPlugInO;};k.defaultPlugIn=function(){bV.$cctor();return bV.defaultPlugIn;};k.currentPlugInW=function(){bV.$cctor();return bV.currentPlugInW;};k.renderPlugIns=function(){return Z.Flatten(k.plugIns().MapLens(function(eG){var eH,eI,eJ,eK;return(eH=(eI=U.Make().WithHole({$:1,$0:"name",$1:eG}),eI.WithHole(V.EventQ2(eI.k,"select",function(){return eI.i;},function(){k.selectionPlugInO().Set({$:1,$0:eG});}))).WithHole({$:2,$0:"selected",$1:p.Map(function(eL){return J.Equals(eL,{$:1,$0:eG})?"selected":"";},k.selectionPlugInO().get_View())}),(eJ=V.CompleteHoles(eH.k,eH.h,[]),(eK=new S.New(eJ[1],cY.tile(eJ[0])),(eH.i=eK,eK)))).get_Doc();}));};k.renderVars=function(){function eG(eI,eJ){return[eI.plgName,eJ.varName];}function eH(eI,eJ){var eK,eL,eM;return(eK=U.Make().WithHole({$:1,$0:"name",$1:eJ.varName}).WithHole({$:8,$0:"value",$1:eJ.varVar}),(eL=V.CompleteHoles(eK.k,eK.h,[["value",0]]),(eM=new S.New(eL[1],cY.namevalueinput(eL[0])),(eK.i=eM,eM)))).get_Doc();}return Z.ConvertBy(function(eI){return eG(eI[0],eI[1]);},function(eI){return eH(eI[0],eI[1]);},p.Map(function(eI){return bc.map(function(eJ){return[eI,eJ];},eI.plgVars);},k.currentPlugInW()));};k.renderViews=function(){function eG(eI,eJ){return[eI.plgName,eJ.viwName];}function eH(eI,eJ){var eK,eL,eM;return(eK=U.Make().WithHole({$:1,$0:"name",$1:eJ.viwName}).WithHole({$:2,$0:"value",$1:eJ.viwView}),(eL=V.CompleteHoles(eK.k,eK.h,[]),(eM=new S.New(eL[1],cY.namevalue(eL[0])),(eK.i=eM,eM)))).get_Doc();}return Z.ConvertBy(function(eI){return eG(eI[0],eI[1]);},function(eI){return eH(eI[0],eI[1]);},p.Map(function(eI){return bc.map(function(eJ){return[eI,eJ];},eI.plgViews);},k.currentPlugInW()));};k.renderDocs=function(){function eG(eI,eJ){return[eI.plgName,eJ.docName];}function eH(eI,eJ){var eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU;return(eK=(eL=(eM=eJ.docName+(eN=eJ.docDoc,eN.$==1?(eO=bj.concat(", ",bz.ofArray([eN.$1])),(function(eV){return function(eW){return eV("("+bD.toSafe(eW)+")");};}(a.id))(eO)):eN.$==2?(eP=bj.concat(", ",bz.ofArray([eN.$1,eN.$2])),(function(eV){return function(eW){return eV("("+bD.toSafe(eW)+")");};}(a.id))(eP)):eN.$==3?(eQ=bj.concat(", ",bz.ofArray([eN.$1,eN.$2,eN.$3])),(function(eV){return function(eW){return eV("("+bD.toSafe(eW)+")");};}(a.id))(eQ)):eN.$==4?(eR=bj.concat(", ",bz.ofArray([eN.$1,eN.$2,eN.$3,eN.$4])),(function(eV){return function(eW){return eV("("+bD.toSafe(eW)+")");};}(a.id))(eR)):eN.$==5?(eS=bj.concat(", ",bz.ofArray([eN.$1,eN.$2,eN.$3,eN.$4,eN.$5])),(function(eV){return function(eW){return eV("("+bD.toSafe(eW)+")");};}(a.id))(eS)):""),U.Make().WithHole({$:1,$0:"name",$1:eM})),eL.WithHole(V.EventQ2(eL.k,"select",function(){return eL.i;},function(){p.Get(function(eV){k.mainDocV().Set(eV.plgName+"."+eJ.docName);},k.currentPlugInW());}))),(eT=V.CompleteHoles(eK.k,eK.h,[]),(eU=new S.New(eT[1],cY.tile(eT[0])),(eK.i=eU,eU)))).get_Doc();}return Z.ConvertBy(function(eI){return eG(eI[0],eI[1]);},function(eI){return eH(eI[0],eI[1]);},p.Map(function(eI){return bc.map(function(eJ){return[eI,eJ];},eI.plgDocs);},k.currentPlugInW()));};k.renderActions=function(){function eG(eI,eJ){return[eI.plgName,eJ.actName];}function eH(eI,eJ){var eK,eL,eM,eN;eK=(eL=eJ.actFunction,eL.$==1?(eM=bj.concat(", ",bz.ofArray([eL.$1])),(function(eO){return function(eP){return eO("("+bD.toSafe(eP)+")");};}(a.id))(eM)):eL.$==2?(eN=bj.concat(", ",bz.ofArray([eL.$1,eL.$2])),(function(eO){return function(eP){return eO("("+bD.toSafe(eP)+")");};}(a.id))(eN)):"");return Z.EmbedView(p.Map(function(eO){var eP,eQ,eR,eS,eT,eU,eV,eW;return eO?(eP=(eQ=U.Make().WithHole({$:1,$0:"name",$1:eJ.actName+eK}),eQ.WithHole(V.EventQ2(eQ.k,"click",function(){return eQ.i;},function(eX){k.callFunction(eX,null,eJ.actFunction);}))),(eR=V.CompleteHoles(eP.k,eP.h,[]),(eS=new S.New(eR[1],cY.action(eR[0])),(eP.i=eS,eS)))).get_Doc():(eT=(eU=U.Make().WithHole({$:1,$0:"name",$1:eJ.actName}),eU.WithHole(V.EventQ2(eU.k,"click",function(){return eU.i;},function(eX){k.callFunction(eX,null,eJ.actFunction);}))),(eV=V.CompleteHoles(eT.k,eT.h,[]),(eW=new S.New(eV[1],cY.actiondisabled(eV[0])),(eT.i=eW,eW)))).get_Doc();},eJ.actEnabled));}return Z.ConvertBy(function(eI){return eG(eI[0],eI[1]);},function(eI){return eH(eI[0],eI[1]);},p.Map(function(eI){return bc.map(function(eJ){return[eI,eJ];},eI.plgActions);},k.currentPlugInW()));};k.renderQueries=function(){function eG(eI,eJ){return[eI.plgName,eJ.qryName];}function eH(eI,eJ){var eK,eL,eM,eN;return(eK=(eL=U.Make().WithHole({$:1,$0:"name",$1:eJ.qryName}),eL.WithHole(V.EventQ2(eL.k,"select",function(){return eL.i;},function(){a.alert(eJ.qryFunction(null));}))),(eM=V.CompleteHoles(eK.k,eK.h,[]),(eN=new S.New(eM[1],cY.tile(eM[0])),(eK.i=eN,eN)))).get_Doc();}return Z.ConvertBy(function(eI){return eG(eI[0],eI[1]);},function(eI){return eH(eI[0],eI[1]);},p.Map(function(eI){return bc.map(function(eJ){return[eI,eJ];},eI.plgQueries);},k.currentPlugInW()));};k.newQry=function(eG,eH){return cs.New(eG,eH);};k.AppFwkClient=function(){bV.$cctor();return bV.AppFwkClient;};k.actHello=function(){bV.$cctor();return bV.actHello;};k.qryDocs=function(){bV.$cctor();return bV.qryDocs;};k.horizontal=function(eG,eH,eI,eJ,eK){var eL,eM,eN,eO;return(eL=(eM=U.Make().WithHole({$:2,$0:"partsizes",$1:eG}).WithHole({$:7,$0:"afterrender",$1:eH}).WithHole({$:7,$0:"afterrendersp",$1:eI}),eM.WithHole(V.EventQ2(eM.k,"mousedown",function(){return eM.i;},function(eP){eJ(eP.Event);}))).WithHole({$:2,$0:"gap",$1:eK}),(eN=V.CompleteHoles(eL.k,eL.h,[]),(eO=new S.New(eN[1],cY.wcompsplitterhor(eN[0])),(eL.i=eO,eO)))).get_Doc();};k.vertical=function(eG,eH,eI,eJ,eK){var eL,eM,eN,eO;return(eL=(eM=U.Make().WithHole({$:2,$0:"partsizes",$1:eG}).WithHole({$:7,$0:"afterrender",$1:eH}).WithHole({$:7,$0:"afterrendersp",$1:eI}),eM.WithHole(V.EventQ2(eM.k,"mousedown",function(){return eM.i;},function(eP){eJ(eP.Event);}))).WithHole({$:2,$0:"gap",$1:eK}),(eN=V.CompleteHoles(eL.k,eL.h,[]),(eO=new S.New(eN[1],cY.wcompsplitterver(eN[0])),(eL.i=eO,eO)))).get_Doc();};k.mainDoc=function(){var eG,eH,eI,eJ,eK,eL;return(eG=(eH=k.getMainClientDoc(),(eI=(eJ=k.mainDocV().get_View(),U.Make().WithHole({$:2,$0:"maindoc",$1:eJ})),eI.WithHole(V.EventQ2(eI.k,"goclient",function(){return eI.i;},function(){k.mainDocV().Set("AppFramework.AppFwkClient");}))).WithHole({$:0,$0:"mainclient",$1:eH})),(eK=V.CompleteHoles(eG.k,eG.h,[]),(eL=new S.New(eK[1],cY.appframework(eK[0])),(eG.i=eL,eL)))).get_Doc();};k.splitName=function(eG){function eH(eJ){return bK.splitByChar(".",eJ);}function eI(eJ){return T.length(eJ)===1?[eG,T.get(eJ,0)]:[T.get(eJ,0),T.get(eJ,1)];}return function(eJ){return eI(eH(eJ));};};k.tryGetPlugIn=function(eG){return k.plugIns().TryFindByKey(eG);};k.newActF=function(eG,eH){return bR.New(eG,eH,p.Const(true));};k.tryGetViw=function(eG,eH){var eI;eI=k.tryGetPlugIn(eG);return eI==null?null:T.tryFind(function(eJ){return eJ.viwName===eH;},eI.$0.plgViews);};k.tryGetWoW=function(eG,eH){var eI,eJ,eK;eI=(eJ=k.tryGetViw(eG,eH),eJ==null?null:{$:1,$0:{$:1,$0:eJ.$0.viwView}});return eI==null?(eK=k.tryGetVar(eG,eH),eK==null?null:{$:1,$0:eK.$0.varVar.get_View()}):eI.$0;};k.getMainClientDoc=function(){var eG;return Z.EmbedView((eG=k.plugIns().v,p.Map2(function(eH,eI){var eJ,eK;eJ=bc.tryPick(function(eL){var eM;eM=bc.tryFind(function(eN){return eL.plgName===eH||eL.plgName+"."+eN.docName===eH;},eL.plgDocs);return eM==null?null:{$:1,$0:k.getLazyDoc(eM.$0)};},eI);eK=k.AppFwkClient().f();return eJ==null?eK:eJ.$0;},k.mainDocV().get_View(),eG)));};k.tryGetVoV=function(eG,eH){var eI,eJ,eK;eI=(eJ=k.tryGetVar(eG,eH),eJ==null?null:{$:1,$0:{$:1,$0:eJ.$0.varVar}});return eI==null?(eK=k.tryGetViw(eG,eH),eK==null?null:{$:1,$0:new cQ.New(eK.$0.viwView,a.ignore)}):eI.$0;};k.getLazyDoc=function(eG){var eH;eH=eG.docDoc;return eH.$==0?eH.$0.f():Z.Element("div",[],[Z.TextNode((function(eI){return function(eJ){return eI("Doc with parameters not allowed here: "+cX.p(eJ));};}(a.id))(eG))]);};l.New=function(eG,eH,eI,eJ,eK,eL){return{plgName:eG,plgVars:eH,plgViews:eI,plgDocs:eJ,plgActions:eK,plgQueries:eL};};m.contentVar=function(){_5.$cctor();return _5.contentVar;};m.invitacionesV=function(){_5.$cctor();return _5.invitacionesV;};m.emailsInvitarW=function(){_5.$cctor();return _5.emailsInvitarW;};m.invitacionesDisabledW=function(){_5.$cctor();return _5.invitacionesDisabledW;};m.endPointV=function(){_5.$cctor();return _5.endPointV;};m.aliadoW=function(){_5.$cctor();return _5.aliadoW;};m.modeloV=function(){_5.$cctor();return _5.modeloV;};m.selAliadoIdOV=function(){_5.$cctor();return _5.selAliadoIdOV;};m.money=function(eG){return"$"+m.separate(a.String(eG),cx.Empty);};m.selAliadoIdDoc=function(eG){var eH;return Z.BindView(a.id,(eH=p.get_Do(),p.Bind(function(eI){return p.Bind(function(eJ){var eK,eL;eK=eJ==null?null:(eL=eJ.$0,bc.tryFind(function(eM){return J.Equals(eM.id,eL);},eI.aliados));return p.Const(eK!=null&&eK.$==1?eG(p.Const(eK.$0)):Z.get_Empty());},m.selAliadoIdOV().get_View());},m.modeloV().get_View())));};m.aliadoIdDoc=function(eG){var eH;return Z.BindView(a.id,(eH=p.get_Do(),p.Bind(function(eI){var eJ,eK;eJ=eI.idAliado;eK=bc.tryFind(function(eL){return J.Equals(eL.id,eJ);},eI.aliados);return p.Const(eK!=null&&eK.$==1?eG(p.Const(eK.$0)):Z.get_Empty());},m.modeloV().get_View())));};n.get_LoggedId=function(){var eG,eH;return new _1({$:0,$0:(eG=(eH=bS.userO().Get(),eH==null?null:{$:1,$0:eH.$0.idToken.oid}),eG==null?"":eG.$0)});};m.separate=function(eG,eH){var eI;while(true)if(eG==="")return(function(eJ){return function(eK){return bj.concat(eJ,eK);};}(","))(eH);else{eI=eG;eG=bd["String.Left"](eI,-3);eH=new cx({$:1,$0:bd["String.Right"](eI,3),$1:eH});}};m.formasPagoAliadoV=function(){_5.$cctor();return _5.formasPagoAliadoV;};o.FailWith=function(eG){throw new da(eG);};o.range=function(eG,eH){var eI;eI=1+eH-eG;return eI<=0?[]:bc.init(eI,function(eJ){return eJ+eG;});};o.toInt=function(eG){var eH;eH=o.toUInt(eG);return eH>=2147483648?eH-4294967296:eH;};o.toUInt=function(eG){return(eG<0?ez.ceil(eG):ez.floor(eG))>>>0;};o.KeyValue=function(eG){return[eG.K,eG.V];};p.Map=function(eG,eH){return p.CreateLazy(function(){return _4.Map(eG,eH());});};p.Sink=function(eG,eH){function eI(){_4.WhenRun(eH(),eG,function(){cR.scheduler().Fork(eI);});}cR.scheduler().Fork(eI);};p.CreateLazy=function(eG){var eH;eH={c:null,o:eG};return function(){var eI,eJ;eI=eH.c;return eI===null?(eI=eH.o(),eH.c=eI,(eJ=eI.s,eJ!=null&&eJ.$==0)?eH.o=null:_4.WhenObsoleteRun(eI,function(){eH.c=null;}),eI):eI;};};p.Map2=function(eG,eH,eI){return p.CreateLazy(function(){return _4.Map2(eG,eH(),eI());});};p.Apply=function(eG,eH){return p.Map2(function(eI,eJ){return eI(eJ);},eG,eH);};p.Map3=function(eG,eH,eI,eJ){return p.CreateLazy(function(){return _4.Map3(eG,eH(),eI(),eJ());});};p.get_Do=function(){return bx.B;};p.Const=function(eG){var eH;eH=_4.New({$:0,$0:eG});return function(){return eH;};};p.MapAsync=function(eG,eH){return p.CreateLazy(function(){return _4.MapAsync(eG,eH());});};p.GetAsync=function(eG){return cR.FromContinuations(function(eH){return p.Get(eH,eG);});};p.Get=function(eG,eH){var eI;function eJ(){_4.WhenRun(eH(),function(eK){if(!eI[0]){eI[0]=true;eG(eK);}},function(){if(!eI[0])eJ();});}eI=[false];eJ();};p.TryGet=function(eG){return _4.TryGet(eG());};p.Bind=function(eG,eH){return p.Join(p.Map(eG,eH));};p.MapSeqCachedViewBy=function(eG,eH,eI){var eJ;eJ=[new b3.New$5()];return p.Map(function(eK){var eL,eM,eN;eL=eJ[0];eM=new b3.New$5();eN=cT.mapInPlace(function(eO){var eP,eQ,eR;eP=eG(eO);eQ=eL.ContainsKey(eP)?(eR=eL.get_Item(eP),(i.Set(eR.r,eO),eR)):p.ConvertSeqNode(function(eS){return eH(eP,eS);},eO);eM.set_Item(eP,eQ);return eQ.e;},T.ofSeq(eK));eJ[0]=eM;return eN;},eI);};p.Join=function(eG){return p.CreateLazy(function(){return _4.Join(eG());});};p.Map2Unit=function(eG,eH){return p.CreateLazy(function(){return _4.Map2Unit(eG(),eH());});};p.Sequence=function(eG){return p.CreateLazy(function(){return _4.Sequence(bc.map(function(eH){return eH();},eG));});};p.ConvertSeqNode=function(eG,eH){var eI,eJ;eI=i.Create$1(eH);eJ=eI.get_View();return{e:eG(eJ),r:eI,w:eJ};};p.MapSeqCachedBy=function(eG,eH,eI){var eJ;eJ=[new b3.New$5()];return p.Map(function(eK){var eL,eM,eN;eL=eJ[0];eM=new b3.New$5();eN=cT.mapInPlace(function(eO){var eP,eQ;eP=eG(eO);eQ=eL.ContainsKey(eP)?eL.get_Item(eP):eH(eO);eM.set_Item(eP,eQ);return eQ;},T.ofSeq(eK));eJ[0]=eM;return eN;},eI);};q=h.Var=ey.Class({},g,q);q.New=ey.Ctor(function(){g.New.call(this);},q);r.Create=function(eG){return ba.New(false,eG,r.forceLazy);};r.forceLazy=function(){var eG;eG=this.v();this.c=true;this.v=eG;this.f=r.cachedLazy;return eG;};r.cachedLazy=function(){return this.v;};r.CreateFromValue=function(eG){return ba.New(true,eG,r.cachedLazy);};s.aliados=function(){var eG,eH,eI,eJ,eK,eL,eM;function eN(eW){var eX,eY;eX=(eY=eH.Get(),eY==null?null:{$:1,$0:eY.$0(eW)});return eX==null?[]:eX.$0;}function eO(eW){return eW.nReferidos===0?"-":(((ey.Curried3(function(eX,eY,eZ){return eX(a.String(eY)+"/"+a.String(eZ));}))(a.id))(eW.nRefActivos))(eW.nReferidos);}function eP(eW){return eW.nDescendientes===0?"-":(((ey.Curried3(function(eX,eY,eZ){return eX(a.String(eY)+"/"+a.String(eZ));}))(a.id))(eW.nDescActivos))(eW.nDescendientes);}function eQ(eW){return eW===0?"-":m.money(eW);}function eR(eW){return p.Map(function(eX){return bc.isEmpty(eN(eW))?"":J.Equals(eX==null?null:{$:1,$0:eX.$0.Contains(eW)},{$:1,$0:true})?"Expandido":"Colapsado";},eG.get_View());}function eS(eW){var eX,eY,eZ;eG.Set({$:1,$0:((J.Equals((eX=eG.Get(),eX==null?null:{$:1,$0:eX.$0.Contains(eW)}),{$:1,$0:true})?function(e0){return function(e1){return e1.Remove(e0);};}:function(e0){return function(e1){return e1.Add(e0);};})(eW))((eY=eG.Get(),(eZ=new bh.New$1(null),eY==null?eZ:eY.$0)))});}function eT(eW){m.selAliadoIdOV().Set({$:1,$0:eW});}function eU(eW){var eX,eY,eZ,e0,e1,e2,e3,e4,e5,e6,e7,e8,e9,fe,ff;function e_(fg){return fg.comision;}function e$(fg){return fg.status;}function fa(fg){return[fg.nRefActivos,fg.nReferidos];}function fb(fg){return[fg.nDescActivos,fg.nDescendientes];}function fc(fg){return O.nombre(fg.datosPersonales);}function fd(fg){return bc.delay(function(){return bc.append([fg],bc.delay(function(){var fh,fi;return(fh=(fi=eG.Get(),fi==null?null:{$:1,$0:fi.$0.Contains(fg.id)}),fh==null?false:fh.$0)?bc.collect(fd,ff.hijos(fg)):[];}));});}fe=(eX=(eY=(eZ=(e0=(e1=(ey.Curried3(be.desc))(e_),e2=(ey.Curried3(be.asc))(e$),ey.Curried(be.op_AmpGreater,2,[function(fg,fh){return(e1(fg))(fh);},function(fg,fh){return(e2(fg))(fh);}])),e3=(ey.Curried3(be.desc))(fa),ey.Curried(be.op_AmpGreater,2,[function(fg,fh){return(e0(fg))(fh);},function(fg,fh){return(e3(fg))(fh);}])),e4=(ey.Curried3(be.desc))(fb),ey.Curried(be.op_AmpGreater,2,[function(fg,fh){return(eZ(fg))(fh);},function(fg,fh){return(e4(fg))(fh);}])),e5=(ey.Curried3(be.asc))(fc),ey.Curried(be.op_AmpGreater,2,[function(fg,fh){return(eY(fg))(fh);},function(fg,fh){return(e5(fg))(fh);}])),bc.sortWith(function(fg,fh){return(eX(fg))(fh);},eW));ff=O.busqueda(fe);eH.Set({$:1,$0:ff.hijosDe});try{e7=bc.min(bc.map(function(fg){return fg.nivel;},fe));}catch(fg){e7=1;}e8=bc.filter(function(fh){return fh.nivel===e7;},fe);bc.isEmpty(e8)?eG.Set(null):eG.Get()==null?(eG.Set({$:1,$0:new bh.New(bc.map(function(fh){return fh.id;},e8))}),e9=bc.tryHead(bc.map(function(fh){return fh.id;},e8)),e9==null?void 0:eT(e9.$0)):void 0;return bc.delay(function(){return bc.collect(fd,e8);});}function eV(eW,eX){var eY,eZ,e0,e1,e2,e3;return(eY=(eZ=(e0=(e1=eR(eW),U.Make().WithHole({$:2,$0:"nombre",$1:p.Map(function(e4){return O.nombre(e4.datosPersonales);},eX)}).WithHole({$:2,$0:"status",$1:p.Map(function(e4){return(function(e5){return function(e6){return e5(bb.p(e6));};}(a.id))(e4.status);},eX)}).WithHole({$:2,$0:"tipo",$1:p.Map(function(e4){return(function(e5){return function(e6){return e5(bb.p$1(e6));};}(a.id))(e4.tipo);},eX)}).WithHole({$:2,$0:"nivel",$1:p.Map(function(e4){return a.String(e4.nivel);},eX)}).WithHole({$:2,$0:"referidos",$1:p.Map(eO,eX)}).WithHole({$:2,$0:"descendientes",$1:p.Map(eP,eX)}).WithHole({$:2,$0:"comision",$1:p.Map(function(e4){return eQ(e4.comision);},eX)}).WithHole({$:2,$0:"expandido",$1:e1})),e0.WithHole(V.EventQ2(e0.k,"expandir",function(){return e0.i;},function(){eS(eW);}))).WithHole({$:2,$0:"seleccionado",$1:p.Map(function(e4){return J.Equals({$:1,$0:eW},e4)?"seleccionado":"";},m.selAliadoIdOV().get_View())}),eZ.WithHole(V.EventQ2(eZ.k,"seleccionar",function(){return eZ.i;},function(){eT(eW);}))),(e2=V.CompleteHoles(eY.k,eY.h,[]),(e3=new S.New(e2[1],W.filaaliado(e2[0])),(eY.i=e3,e3)))).get_Doc();}eG=i.Create$1(null);eH=i.Create$1(null);return(eI=(eJ=Z.ConvertSeqBy(function(eW){return eW.id;},function(eW){return function(eX){return eV(eW,eX);};},(eK=p.Map(function(eW){return eW.aliados;},m.modeloV().get_View()),p.Map2(function(eW,eX){return eU(eX);},eG.get_View(),eK))),U.Make().WithHole({$:0,$0:"tbody",$1:eJ})),(eL=V.CompleteHoles(eI.k,eI.h,[]),(eM=new S.New(eL[1],W.tablaaliados(eL[0])),(eI.i=eM,eM)))).get_Doc();};t.aliado=function(){function eG(eH){var eI;eI=bc.tryPick(function(eJ){return eJ.$==1?{$:1,$0:eJ.$0.email}:null;},eH.contactos);return eI==null?"correo no encontrado!":eI.$0;}return m.selAliadoIdDoc(function(eH){var eI,eJ,eK,eL;return(eI=(eJ=t.calculo(),U.Make().WithHole({$:2,$0:"nombre",$1:p.Map(function(eM){return O.nombre2(eM.datosPersonales);},eH)}).WithHole({$:2,$0:"status",$1:p.Map(function(eM){return(function(eN){return function(eO){return eN(bb.p(eO));};}(a.id))(eM.status);},eH)}).WithHole({$:2,$0:"tipo",$1:p.Map(function(eM){return(function(eN){return function(eO){return eN(bb.p$1(eO));};}(a.id))(eM.tipo);},eH)}).WithHole({$:2,$0:"contacto",$1:p.Map(eG,eH)}).WithHole({$:0,$0:"calculo",$1:eJ})),(eK=V.CompleteHoles(eI.k,eI.h,[]),(eL=new S.New(eK[1],W.aliado(eK[0])),(eI.i=eL,eL)))).get_Doc();});};t.calculo=function(){var eG,eH;eG=p.Map(function(eI){return eI.premisas;},m.modeloV().get_View());eH=p.Map(function(eI){return eI.aliados;},m.modeloV().get_View());p.Map2(function(eI,eJ){return bc.tryFind(function(eK){return J.Equals(eK.id,eI);},eJ);},p.Map(function(eI){return eI.idAliado;},m.modeloV().get_View()),eH);return m.selAliadoIdDoc(function(eI){var eJ,eK,eL,eM,eN;eJ=p.Map2(O.comision,eG,eI);eK=p.Map2(O.premisas,eG,eI);return(eL=U.Make().WithHole({$:2,$0:"referidos",$1:p.Map(function(eO){return(function(eP){return function(eQ){return eP(a.String(eQ));};}(a.id))(eO.nReferidos);},eI)}).WithHole({$:2,$0:"refactivos",$1:p.Map(function(eO){return(function(eP){return function(eQ){return eP(a.String(eQ));};}(a.id))(eO.nRefActivos);},eI)}).WithHole({$:2,$0:"comreferido",$1:p.Map(function(eO){return(function(eP){return function(eQ){return eP(a.String(eQ));};}(a.id))(eO.nRefActivos);},eI)}).WithHole({$:2,$0:"descendientes",$1:p.Map(function(eO){return(function(eP){return function(eQ){return eP(a.String(eQ));};}(a.id))(eO.nDescendientes);},eI)}).WithHole({$:2,$0:"desactivos",$1:p.Map(function(eO){return(function(eP){return function(eQ){return eP(a.String(eQ));};}(a.id))(eO.nDescActivos);},eI)}).WithHole({$:2,$0:"comision",$1:p.Map(function(eO){return m.money(eO[0]+eO[1]);},eJ)}).WithHole({$:2,$0:"comreferido",$1:p.Map(function(eO){return m.money(eO[0]);},eJ)}).WithHole({$:2,$0:"comdescendiente",$1:p.Map(function(eO){return m.money(eO[1]);},eJ)}).WithHole({$:2,$0:"porreferido",$1:p.Map(function(eO){return m.money(eO[0]);},eK)}).WithHole({$:2,$0:"pordescendiente",$1:p.Map(function(eO){return m.money(eO[1]);},eK)}),(eM=V.CompleteHoles(eL.k,eL.h,[]),(eN=new S.New(eM[1],W.calculo(eM[0])),(eL.i=eN,eN)))).get_Doc();});};u.formaDoc=function(){var eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU;eG=i.Create$1("");eH=i.Create$1(false);eI=i.Create$1(null);eJ=i.Create$1(null);eK=i.Create$1(null);eL=i.Create$1(null);eM=bl.formaDoc(eI);eN=bm.formaDoc(eJ);eO=bn.formaDoc(eK);eP=bo.formaDoc(eL);eQ=(eR=(eS=U.Make().WithHole({$:2,$0:"mensajes",$1:p.Map2(function(eV,eW){return eV?eW:"";},eH.get_View(),eG.get_View())}).WithHole({$:0,$0:"datospersonales",$1:eM[1]}).WithHole({$:0,$0:"correo",$1:eN[1]}).WithHole({$:0,$0:"telefono",$1:eO[1]}).WithHole({$:0,$0:"direccion",$1:eP[1]}),eS.WithHole(V.EventQ2(eS.k,"registrarse",function(){return eS.i;},function(){var eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4,e5;eH.Set(true);eV=eG.Get();bj.Trim(eV)!==""?a.alert(eV):(eW=eI.Get(),eX=eJ.Get(),eY=eK.Get(),eZ=eL.Get(),eW!=null&&eW.$==1&&(eX!=null&&eX.$==1&&(eY!=null&&eY.$==1&&(eZ!=null&&eZ.$==1&&(e0=[eX.$0,eW.$0,eZ.$0,eY.$0],true))))?(e1=e0[0],e2=e0[1],e3=e0[2],e4=e0[3],_0.iterA((e5=bp.asyncResult(),e5.Run(e5.Delay(function(){var e6;return e5.Bind$1(_0.ejecutarDataEventoNuevo({$:3,$0:[new _1({$:0,$0:bj.Substring(bj.Replace((e6=bt.NewGuid(),a.String(e6)),"-",""),0,20)}),e2,{$:1,$0:m.modeloV().Get().idAliado},[{$:1,$0:e1},{$:2,$0:e4},{$:0,$0:e3}]]}),function(e7){br.refrescarData(true);a.alert((function(e8){return function(e9){return e8(X.p$3(e9));};}(a.id))(e7));return e5.Zero();});}))))):a.alert("Error not caught FormaRegistro"));}))),(eT=V.CompleteHoles(eR.k,eR.h,[]),(eU=new S.New(eT[1],W.formaregistro(eT[0])),(eR.i=eU,eU))));p.Sink(function(eV){eG.Set(eV);},p.Apply(p.Apply(p.Map2(function(eV,eW){return function(eX){return function(eY){var eZ;eZ=bj.concat(", ",bc.delay(function(){return bc.append(eV,bc.delay(function(){return bc.append(eW,bc.delay(function(){return bc.append(eX,bc.delay(function(){return eY;}));}));}));}));return eZ!==""?"Campos requeridos: "+eZ:"";};};},eM[0],eN[0]),eO[0]),eP[0]));return eQ.get_Doc();};v.formaDoc=function(){return m.aliadoIdDoc(v.formaAliado);};v.formaAliado=function(eG){var eH,eI,eJ,eK,eL,eM,eN,eO,eP;function eQ(eS){return{$:1,$0:eS};}function eR(eS){eJ.Set(eS);}eH=i.Create$1("");eI=i.Create$1(false);eJ=i.Create$1(null);p.Sink(function(eS){return eR(eQ(eS));},p.Map(function(eS){return eS.datosPersonales;},eG));eK=bl.formaDoc(eJ);eL=(eM=(eN=U.Make().WithHole({$:2,$0:"mensajes",$1:p.Map2(function(eS,eT){return eS?eT:"";},eI.get_View(),eH.get_View())}).WithHole({$:2,$0:"changed",$1:p.Map2(function(eS,eT){return J.Equals({$:1,$0:eS.datosPersonales},eT)?"":"mui-btn--primary";},eG,eJ.get_View())}).WithHole({$:0,$0:"datospersonales",$1:eK[1]}),eN.WithHole(V.EventQ2(eN.k,"salvar",function(){return eN.i;},function(){var eS,eT,eU,eV,eW,eX,eY;eI.Set(true);eS=eH.Get();bj.Trim(eS)!==""?a.alert(eS):(eT=eJ.Get(),eU=p.TryGet(eG),eT!=null&&eT.$==1&&(eU!=null&&eU.$==1&&(eV=[eU.$0,eT.$0],true))?(eW=eV[0],eX=eV[1],_0.iterA((eY=bp.asyncResult(),eY.Run(eY.Delay(function(){return eY.Bind$1(_0.ejecutarDataEventoNuevo({$:4,$0:[eW.id,eX]}),function(eZ){br.refrescarData(true);a.alert((function(e0){return function(e1){return e0(X.p$3(e1));};}(a.id))(eZ));return eY.Zero();});}))))):a.alert("Error not caught FormaDatos"));}))),(eO=V.CompleteHoles(eM.k,eM.h,[]),(eP=new S.New(eO[1],W.formadatospersonales(eO[0])),(eM.i=eP,eP))));p.Sink(function(eS){eH.Set(eS);},p.Map(function(eS){var eT;eT=bj.concat(", ",bc.delay(function(){return eS;}));return eT!==""?"Campos requeridos: "+eT:"";},eK[0]));return eL.get_Doc();};w.formaDoc=function(){return m.aliadoIdDoc(w.formaContactos);};w.formaContactos=function(eG){var eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0;function e1(e2,e3){return function(e4){return new cQ.New(p.Map(function(e5){var e6;e6=bc.tryItem(e4,e5);return e6==null?null:e2(e6.$0);},eJ.get_View()),function(e5){if(e5!=null&&e5.$==1)eJ.Set(cJ.replace(e4,e3(e5.$0),eJ.Get()));});};}eH=i.Create$1("");eI=i.Create$1(false);eJ=i.Create$1([]);p.Sink(function(e2){eJ.Set(e2);},p.Map(function(e2){return e2.contactos;},eG));eK=p.Map(bc.indexed,eJ.get_View());eL=[function(e2){return e2.$==2?{$:1,$0:e2.$0}:null;},function(e2){return{$:2,$0:e2};}];eM=[function(e2){return e2.$==1?{$:1,$0:e2.$0}:null;},function(e2){return{$:1,$0:e2};}];eN=[function(e2){return e2.$==0?{$:1,$0:e2.$0}:null;},function(e2){return{$:0,$0:e2};}];eO=p.Map(function(e2){function e3(e4,e5){return eL[0](e5)==null?null:{$:1,$0:e4};}return bc.choose(function(e4){return e3(e4[0],e4[1]);},e2);},eK);eP=p.Map(function(e2){function e3(e4,e5){return eM[0](e5)==null?null:{$:1,$0:e4};}return bc.choose(function(e4){return e3(e4[0],e4[1]);},e2);},eK);eQ=p.Map(function(e2){function e3(e4,e5){return eN[0](e5)==null?null:{$:1,$0:e4};}return bc.choose(function(e4){return e3(e4[0],e4[1]);},e2);},eK);eR=Z.ConvertBy(a.id,function(e2){return bu.removeButton(function(){eJ.Set(cJ.remove(e2,eJ.Get()));},(bn.formaDoc((function(e3){return e1(e3[0],e3[1]);}(eL))(e2)))[1]);},eO);eS=Z.ConvertBy(a.id,function(e2){return bu.removeButton(function(){eJ.Set(cJ.remove(e2,eJ.Get()));},(bm.formaDoc((function(e3){return e1(e3[0],e3[1]);}(eM))(e2)))[1]);},eP);eT=Z.ConvertBy(a.id,function(e2){return bu.removeButton(function(){eJ.Set(cJ.remove(e2,eJ.Get()));},(bo.formaDoc((function(e3){return e1(e3[0],e3[1]);}(eN))(e2)))[1]);},eQ);return(eU=(eV=(eW=(eX=(eY=U.Make().WithHole({$:2,$0:"mensajes",$1:p.Map2(function(e2,e3){return e2?e3:"";},eI.get_View(),eH.get_View())}).WithHole({$:2,$0:"changed",$1:p.Map2(function(e2,e3){return J.Equals(e2.contactos,e3)?"":"mui-btn--primary";},eG,eJ.get_View())}).WithHole({$:0,$0:"telefonos",$1:eR}).WithHole({$:0,$0:"correos",$1:eS}).WithHole({$:0,$0:"direcciones",$1:eT}),eY.WithHole(V.EventQ2(eY.k,"mastelefono",function(){return eY.i;},function(){eJ.Set(eJ.Get().concat([{$:2,$0:M.telVacio()}]));}))),eX.WithHole(V.EventQ2(eX.k,"mascorreo",function(){return eX.i;},function(){eJ.Set(eJ.Get().concat([{$:1,$0:M.correoVacio()}]));}))),eW.WithHole(V.EventQ2(eW.k,"masdireccion",function(){return eW.i;},function(){eJ.Set(eJ.Get().concat([{$:0,$0:M.dirVacio()}]));}))),eV.WithHole(V.EventQ2(eV.k,"salvar",function(){return eV.i;},function(){var e2,e3,e4,e5;eI.Set(true);e2=eH.Get();bj.Trim(e2)!==""?a.alert(e2):(e3=p.TryGet(eG),e3!=null&&e3.$==1?(e4=e3.$0,_0.iterA((e5=bp.asyncResult(),e5.Run(e5.Delay(function(){return e5.Bind$1(_0.ejecutarDataEventoNuevo({$:5,$0:[e4.id,eJ.Get()]}),function(e6){br.refrescarData(true);a.alert((function(e7){return function(e8){return e7(X.p$3(e8));};}(a.id))(e6));return e5.Zero();});}))))):a.alert("Error not caught FormaDatos"));}))),(eZ=V.CompleteHoles(eU.k,eU.h,[]),(e0=new S.New(eZ[1],W.formacontactos(eZ[0])),(eU.i=e0,e0)))).get_Doc();};x.formaDoc=function(){return m.aliadoIdDoc(x.formaFormasPago);};x.formaFormasPago=function(eG){var eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU;function eV(e0,e1){return function(e2){return new cQ.New(p.Map(function(e3){var e4;e4=bc.tryItem(e2,e3);return e4==null?null:e0(e4.$0);},eJ.get_View()),function(e3){var e4;if(e3!=null&&e3.$==1){e4=e3.$0;eJ.Set(cJ.replace(e2,(e1(T.get(eJ.Get(),e2)))(bu.fst3(e4[0],e4[1],e4[2])),eJ.Get()));}});};}function eW(e0){var e1;_0.iterA((e1=bp.asyncResult(),e1.Run(e1.Delay(function(){return e1.Bind(e0.authorizeIdR,function(e2){return e1.Bind$1(_0.validarFormaPago(e2),function(e3){a.alert(e3);return e1.Zero();});});}))));}function eX(e0,e1){return bu.removeButton(function(){eJ.Set(cJ.remove(e0,eJ.Get()));},Z.Concat(bz.ofSeq(bc.delay(function(){return bc.append([Z.Button("AUTORIZAR DEBITO",[cS.Create("class","mui-btn mui-btn--raised mui-btn--primary"),cS.Create("title","Autorizar pago recurrente"),cW.Dynamic("style",p.Map(function(e2){return T.get(e2,e0).authorizeIdR.$==0?"":"display:None";},eJ.get_View()))],function(){var e2,e3,e4,e5,e6;e3=T.get(eJ.Get(),e0).authorizeIdR;e4=T.get(eJ.Get(),e0).cuentaPago;switch(e3.$==0?e4.$==0?(e2=[e3.$0,e4.$0.titular],1):e4.$==1?(e2=[e3.$0,e4.$0.titular],1):2:(e2=e3.$0,0)){case 0:a.alert("Pago no está verificado en Authorize: "+e2);break;case 1:e5={$:1,$0:T.get(eJ.Get(),e0).cuentaPago};B.cuentaPagoO().Set(e5);e6=e1();B.cuentaAutorizar().Set(e6);B.titular().Set(e2[1]);B.set_pid(e2[0]);m.endPointV().Set({$:3,$0:"ProzperLyt.cntAutorizacion"});break;case 2:a.alert("Autorizacion no esta implementada");break;}})],bc.delay(function(){return bc.append([Z.Element("br",[],[])],bc.delay(function(){return bc.append([Z.Element("br",[],[])],bc.delay(function(){return bc.append([e1()],bc.delay(function(){return bc.append([Z.BindView(a.id,p.Map(function(e2){var e3;e3=T.get(e2,e0).subscripcion;return e3!=null&&e3.$==1?Z.Element("div",[],[Z.TextNode((function(e4){return function(e5){return e4("Subscripcion: "+bD.toSafe(e5));};}(a.id))(e3.$0.get_Short()))]):Z.get_Empty();},eJ.get_View()))],bc.delay(function(){return[Z.Button("validar",[cS.Create("title","validar forma de pago"),cW.Dynamic("style",p.Map(function(e2){return T.get(e2,e0).authorizeIdR.$==0?"":"display:None";},eJ.get_View()))],function(){eW(T.get(eJ.Get(),e0));})];}));}));}));}));}));}))));}function eY(e0){return bE.New("",bd.Error(""),e0,null);}function eZ(e0){return new bh.New(bc.choose(function(e1){var e2;e2=e1.authorizeIdR;return e2.$==0?{$:1,$0:e2.$0}:null;},e0));}eH=i.Create$1("");eI=i.Create$1(false);eJ=i.Create$1([]);p.Sink(function(e0){eJ.Set(e0);},m.formasPagoAliadoV().get_View());x.refrescarFormasPago();eK=p.Map(bc.indexed,eJ.get_View());eL=p.Map(function(e0){function e1(e2,e3){return(x.ftar())[0](e3)==null?null:{$:1,$0:e2};}return bc.choose(function(e2){return e1(e2[0],e2[1]);},e0);},eK);eM=p.Map(function(e0){function e1(e2,e3){return(x.fcta())[0](e3)==null?null:{$:1,$0:e2};}return bc.choose(function(e2){return e1(e2[0],e2[1]);},e0);},eK);eN=Z.ConvertBy(a.id,function(e0){var e1;return eX(e0,(e1=(function(e2){return eV(e2[0],e2[1]);}(x.ftar()))(e0),function(){return(cO.formaDocO(e1))[1];}));},eL);eO=Z.ConvertBy(a.id,function(e0){var e1;return eX(e0,(e1=(function(e2){return eV(e2[0],e2[1]);}(x.fcta()))(e0),function(){return(cN.formaDocO(e1))[1];}));},eM);return(eP=(eQ=(eR=(eS=U.Make().WithHole({$:2,$0:"mensajes",$1:p.Map2(function(e0,e1){return e0?e1:"";},eI.get_View(),eH.get_View())}).WithHole({$:0,$0:"tarjetas",$1:eN}).WithHole({$:0,$0:"cuentas",$1:eO}),eS.WithHole(V.EventQ2(eS.k,"mastarjeta",function(){return eS.i;},function(){eJ.Set(eJ.Get().concat([eY(new bO({$:1,$0:M.tarVacio()}))]));}))),eR.WithHole(V.EventQ2(eR.k,"mascuenta",function(){return eR.i;},function(){eJ.Set(eJ.Get().concat([eY(new bO({$:0,$0:M.ctaVacio()}))]));}))).WithHole({$:2,$0:"changed",$1:p.Map2(function(e0,e1){return J.Equals(e0,e1)?"":"mui-btn--primary";},m.formasPagoAliadoV().get_View(),eJ.get_View())}),eQ.WithHole(V.EventQ2(eQ.k,"salvar",function(){return eQ.i;},function(){var e0,e1,e2;eI.Set(true);e0=eH.Get();bj.Trim(e0)!==""?a.alert(e0):(e1=p.TryGet(eG),e1!=null&&e1.$==1?_0.iterA((e2=bp.asyncResult(),e2.Run(e2.Delay(function(){return e2.Combine$1(e2.For(bh.op_Subtraction(eZ(m.formasPagoAliadoV().Get()),eZ(eJ.Get())),function(e3){return e2.Bind$1(_0.borrarFormaPago(e3),function(){return e2.Zero();});}),e2.Delay(function(){return e2.Combine$1(e2.For(eJ.Get(),function(e3){var e4,e5,e6,e7;e4=(e5=e3.cuentaPago,e5.$==1&&(!(e5.$0.numero.get_Id().indexOf("X")!=-1)&&(e6=e5.$0,true))?{$:1,$0:_0.registrarTarjeta(e6)}:e5.$==0&&(!(e5.$0.numero.get_Id().indexOf("X")!=-1)&&(e7=e5.$0,true))?{$:1,$0:_0.registrarCuenta(e7)}:null);return e4!=null&&e4.$==1?e2.Bind$1(e4.$0,function(){return e2.Zero();}):e2.Zero();}),e2.Delay(function(){x.refrescarFormasPago();br.refrescarData(true);return e2.Zero();}));}));})))):a.alert("Error not caught FormaDatos"));}))),(eT=V.CompleteHoles(eP.k,eP.h,[]),(eU=new S.New(eT[1],W.formacuentas(eT[0])),(eP.i=eU,eU)))).get_Doc();};x.msg=function(eG){var eH;eH=eG.authorizeIdR;return eH.$==0?(function(eI){return function(eJ){return eI("Cuenta verificada: "+X.p$4(eJ));};}(a.id))(eH.$0):eH.$0===""?"La cuenta aun no ha sido verificada":eH.$0;};x.refrescarFormasPago=function(){_0.iterA(cH.map(function(eG){m.formasPagoAliadoV().Set(eG);},_0.obtenerFormasDePago()));};x.fcta=function(){_5.$cctor();return _5.fcta;};x.ftar=function(){_5.$cctor();return _5.ftar;};y.consolidado=function(){var eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4,e5;function e6(fe){function ff(fg,fh,fi){return fi(fe);}return T.map(function(fg){return ff(fg[0],fg[1],fg[2]);},y.definicion());}function e7(fe,ff,fg){return function(fh){var fi;fi=fh[0];return[fi===fe?1:fi<fe?fi+1:fi,fe===fi&&fe===1?!fh[1]:fh[1],fh[2]];};}function e8(fe){var ff;eH.Set((ff=eH.Get(),T.map(e7.apply(null,fe),ff)));}function e9(fe,ff){return eG.Set(T.map(function(fg){return J.Equals(fg.id,fe)?ff(fg):fg;},eG.Get()));}function e_(fe,ff){return e9(fe,function(fg){return N.New(fg.id,fg.idPadreO,fg.idForAuthorize,fg.idForAdminSeg,fg.influyente,fg.datosPersonales,fg.contactos,fg.identificacion,fg.isInternal,by.tryParse(ff),fg.diaPago,fg.tipo,fg.fechaRegistro,fg.fechaStatus,fg.nReferidos,fg.nRefActivos,fg.nDescendientes,fg.nDescActivos,fg.comision,fg.nivel,fg.documentos,fg.docPendientes);});}function e$(fe,ff){return e9(fe,function(fg){return N.New(fg.id,fg.idPadreO,fg.idForAuthorize,fg.idForAdminSeg,bj.Trim(ff)===""?null:{$:1,$0:bj.Trim(ff)},fg.datosPersonales,fg.contactos,fg.identificacion,fg.isInternal,fg.status,fg.diaPago,fg.tipo,fg.fechaRegistro,fg.fechaStatus,fg.nReferidos,fg.nRefActivos,fg.nDescendientes,fg.nDescActivos,fg.comision,fg.nivel,fg.documentos,fg.docPendientes);});}function fa(fe,ff){var fg;fg=ff===""?null:{$:1,$0:new _1({$:0,$0:ff})};return e9(fe,function(fh){return N.New(fh.id,fg,fh.idForAuthorize,fh.idForAdminSeg,fh.influyente,fh.datosPersonales,fh.contactos,fh.identificacion,fh.isInternal,fh.status,fh.diaPago,fh.tipo,fh.fechaRegistro,fh.fechaStatus,fh.nReferidos,fh.nRefActivos,fh.nDescendientes,fh.nDescActivos,fh.comision,fh.nivel,fh.documentos,fh.docPendientes);});}function fb(fe){return bc.tryFind(function(ff){return J.Equals(ff.id,fe);},m.modeloV().Get().aliados);}function fc(){var fe;_0.iterA((fe=bp.asyncResult(),fe.Run(fe.Delay(function(){return fe.Combine$1(fe.For(eG.Get(),function(ff){var fg,fh;fg=fb(ff.id);return fg!=null&&fg.$==1?(fh=fg.$0,!J.Equals(ff.status,fh.status)||!J.Equals(ff.idPadreO,fh.idPadreO)||!J.Equals(ff.influyente,fh.influyente)?fe.Bind$1(_0.ejecutarDataEventoNuevo({$:8,$0:[ff.id,ff.status,ff.idPadreO,ff.influyente]}),function(){return fe.Zero();}):fe.Zero()):fe.Zero();}),fe.Delay(function(){br.refrescarData(true);return fe.Zero();}));}))));}function fd(fe,ff){var fg,fh,fi,fj,fk,fl,fm,fn,fo,fp,fq,fr;return(fg=(fh=(fi=Z.BindView(a.id,p.Map(function(fs){return J.Equals(fs,{$:1,$0:new _1({$:0,$0:fe})})?eM.f():Z.get_Empty();},A.expandedOV().get_View())),(fj=Z.BindView(bu.crearOptions,bu.statuses().get_View()),(fk=new cQ.New(p.Map(function(fs){return T.get(fs,y.i_influyente());},ff),(fl=new _1({$:0,$0:fe}),function(fs){return e$(fl,fs);})),(fm=new cQ.New(p.Map(function(fs){return T.get(fs,y.i_status());},ff),(fn=new _1({$:0,$0:fe}),function(fs){return e_(fn,fs);})),(fo=new cQ.New(p.Map(function(fs){return T.get(fs,y.i_referido());},ff),(fp=new _1({$:0,$0:fe}),function(fs){return fa(fp,fs);})),U.Make().WithHole({$:2,$0:"nombre",$1:p.Map(function(fs){return T.get(fs,y.i_nombre());},ff)}).WithHole({$:2,$0:"correo",$1:p.Map(function(fs){return T.get(fs,y.i_correo());},ff)}).WithHole({$:2,$0:"tipo",$1:p.Map(function(fs){return T.get(fs,y.i_tipo());},ff)}).WithHole({$:8,$0:"referido",$1:fo})).WithHole({$:8,$0:"status",$1:fm})).WithHole({$:8,$0:"influyente",$1:fk})).WithHole({$:0,$0:"statuses",$1:fj})).WithHole({$:2,$0:"nivel",$1:p.Map(function(fs){return T.get(fs,y.i_nivel());},ff)}).WithHole({$:2,$0:"referidos",$1:p.Map(function(fs){return T.get(fs,y.i_referidos());},ff)}).WithHole({$:2,$0:"descendientes",$1:p.Map(function(fs){return T.get(fs,y.i_descendientes());},ff)}).WithHole({$:2,$0:"comision",$1:p.Map(function(fs){return T.get(fs,y.i_comision());},ff)}).WithHole({$:2,$0:"diapago",$1:p.Map(function(fs){return T.get(fs,y.i_diaPago());},ff)}).WithHole({$:2,$0:"desde",$1:p.Map(function(fs){return T.get(fs,y.i_desde());},ff)}).WithHole({$:2,$0:"id",$1:p.Map(function(fs){return T.get(fs,y.i_Id());},ff)}).WithHole({$:0,$0:"detalles",$1:fi})),fh.WithHole(V.EventQ2(fh.k,"expandfiles",function(){return fh.i;},function(){var fs;cR.Start((fs=null,cR.Delay(function(){return cR.Bind((_0.addLlamadas())(1),function(){var ft;ft=J.Equals(A.expandedOV().Get(),{$:1,$0:new _1({$:0,$0:fe})})?null:{$:1,$0:new _1({$:0,$0:fe})};A.expandedOV().Set(ft);return cR.Bind((_0.addLlamadas())(-1),function(){return cR.Return(null);});});})),null);}))).WithHole({$:2,$0:"expanded",$1:p.Map(function(fs){return T.get(fs,y.i_archivos());},ff)}),(fq=V.CompleteHoles(fg.k,fg.h,[["status",0],["influyente",0],["referido",0]]),(fr=new S.New(fq[1],W.filaconsolidado(fq[0])),(fg.i=fr,fr)))).get_Doc();}eG=i.Create$1([]);p.Sink(function(fe){eG.Set(fe);},p.Map(function(fe){return fe.aliados;},m.modeloV().get_View()));eH=i.Create$1(T.mapi(function(fe,ff){return[ff[0],ff[1],function(fg){return T.get(fg,fe).toUpperCase();}];},y.definicion()));eI=i.Create$1("");eJ=Z.BindView(function(fe){return bu.crearOptions2(bc.map(function(ff){return[O.nombre2(ff.datosPersonales),ff.id.get_Id()];},fe.aliados));},m.modeloV().get_View());eK=Z.BindView(a.id,(eL=p.get_Do(),p.Bind(function(fe){var ff;return fe!=null&&fe.$==1?(ff=fe.$0,p.Bind(function(fg){var fh;fh=bc.tryFind(function(fi){return J.Equals(fi.id,ff);},fg);return fh!=null&&fh.$==1?p.Const(E.pendientes(p.Const(fh.$0))):p.Const(Z.get_Empty());},eG.get_View())):p.Const(Z.get_Empty());},A.expandedOV().get_View())));eM=r.Create(function(){return Z.Element("tr",[cS.Create("bgcolor","beige")],[Z.Element("td",[cS.Create("colspan","12")],[eK,A.listaDocs()])]);});return(eN=(eO=Z.ConvertSeqBy(function(fe){return T.get(fe,y.i_Id());},function(fe){return function(ff){return fd(fe,ff);};},p.Map3(function(fe,ff,fg){var fh,fi,fj;function fk(fn,fo,fp){return fp;}function fl(fn,fo,fp,fq){return be.op_AmpGreater(function(fr,fs){return(fn(fr))(fs);},function(fr,fs){return(fo(fr))(fs);},fp,fq);}function fm(fn,fo,fp){return(fo?ey.Curried3(be.asc):ey.Curried3(be.desc))(fp);}fh=bj.Trim(fg).toUpperCase();fi=T.map(function(fn){return fk(fn[0],fn[1],fn[2]);},a.id(ff));fj=T.reduce(function(fn,fo){return ey.Curried(fl,2,[fn,fo]);},T.map(function(fn){return fm(fn[0],fn[1],fn[2]);},T.sortBy(function(fn){return a.id(fn[0],fn[1],fn[2]);},a.id(ff))));return bc.sortWith(function(fn,fo){return(fj(fn))(fo);},bc.filter(function(fn){return fh===""||bc.exists(function(fo){return fo(fn).indexOf(fh)!=-1;},fi);},bc.map(e6,fe)));},p.Map(function(fe){return fe.aliados;},m.modeloV().get_View()),eH.get_View(),eI.get_View())),(eP=(eQ=(eR=(eS=(eT=(eU=(eV=(eW=(eX=(eY=(eZ=(e0=(e1=(e2=(e3=U.Make(),e3.WithHole(V.EventQ2(e3.k,"salvar",function(){return e3.i;},function(){fc();}))),e2.WithHole(V.EventQ2(e2.k,"cancelar",function(){return e2.i;},function(){eG.Set(m.modeloV().Get().aliados);}))).WithHole({$:2,$0:"changed",$1:p.Map2(function(fe,ff){return J.Equals(fe.aliados,ff)?"":"mui-btn--primary";},m.modeloV().get_View(),eG.get_View())}).WithHole({$:8,$0:"filtro",$1:eI}).WithHole({$:0,$0:"referidores",$1:eJ}),e1.WithHole(V.EventQ2(e1.k,"sort_archivos",function(){return e1.i;},function(){e8(T.get(eH.Get(),y.i_archivos()));}))),e0.WithHole(V.EventQ2(e0.k,"sort_nombre",function(){return e0.i;},function(){e8(T.get(eH.Get(),y.i_nombre()));}))),eZ.WithHole(V.EventQ2(eZ.k,"sort_correo",function(){return eZ.i;},function(){e8(T.get(eH.Get(),y.i_correo()));}))),eY.WithHole(V.EventQ2(eY.k,"sort_status",function(){return eY.i;},function(){e8(T.get(eH.Get(),y.i_status()));}))),eX.WithHole(V.EventQ2(eX.k,"sort_influyente",function(){return eX.i;},function(){e8(T.get(eH.Get(),y.i_influyente()));}))),eW.WithHole(V.EventQ2(eW.k,"sort_tipo",function(){return eW.i;},function(){e8(T.get(eH.Get(),y.i_tipo()));}))),eV.WithHole(V.EventQ2(eV.k,"sort_referido",function(){return eV.i;},function(){e8(T.get(eH.Get(),y.i_referido()));}))),eU.WithHole(V.EventQ2(eU.k,"sort_nivel",function(){return eU.i;},function(){e8(T.get(eH.Get(),y.i_nivel()));}))),eT.WithHole(V.EventQ2(eT.k,"sort_referidos",function(){return eT.i;},function(){e8(T.get(eH.Get(),y.i_referidos()));}))),eS.WithHole(V.EventQ2(eS.k,"sort_descendientes",function(){return eS.i;},function(){e8(T.get(eH.Get(),y.i_descendientes()));}))),eR.WithHole(V.EventQ2(eR.k,"sort_comision",function(){return eR.i;},function(){e8(T.get(eH.Get(),y.i_comision()));}))),eQ.WithHole(V.EventQ2(eQ.k,"sort_diapago",function(){return eQ.i;},function(){e8(T.get(eH.Get(),y.i_diaPago()));}))),eP.WithHole(V.EventQ2(eP.k,"sort_desde",function(){return eP.i;},function(){e8(T.get(eH.Get(),y.i_desde()));}))).WithHole({$:2,$0:"flecha_archivos",$1:p.Map(function(fe){var ff;ff=T.get(fe,y.i_archivos());return y.flecha(ff[0],ff[1],ff[2]);},eH.get_View())}).WithHole({$:2,$0:"flecha_nombre",$1:p.Map(function(fe){var ff;ff=T.get(fe,y.i_nombre());return y.flecha(ff[0],ff[1],ff[2]);},eH.get_View())}).WithHole({$:2,$0:"flecha_correo",$1:p.Map(function(fe){var ff;ff=T.get(fe,y.i_correo());return y.flecha(ff[0],ff[1],ff[2]);},eH.get_View())}).WithHole({$:2,$0:"flecha_status",$1:p.Map(function(fe){var ff;ff=T.get(fe,y.i_status());return y.flecha(ff[0],ff[1],ff[2]);},eH.get_View())}).WithHole({$:2,$0:"flecha_influyente",$1:p.Map(function(fe){var ff;ff=T.get(fe,y.i_influyente());return y.flecha(ff[0],ff[1],ff[2]);},eH.get_View())}).WithHole({$:2,$0:"flecha_tipo",$1:p.Map(function(fe){var ff;ff=T.get(fe,y.i_tipo());return y.flecha(ff[0],ff[1],ff[2]);},eH.get_View())}).WithHole({$:2,$0:"flecha_referido",$1:p.Map(function(fe){var ff;ff=T.get(fe,y.i_referido());return y.flecha(ff[0],ff[1],ff[2]);},eH.get_View())}).WithHole({$:2,$0:"flecha_nivel",$1:p.Map(function(fe){var ff;ff=T.get(fe,y.i_nivel());return y.flecha(ff[0],ff[1],ff[2]);},eH.get_View())}).WithHole({$:2,$0:"flecha_referidos",$1:p.Map(function(fe){var ff;ff=T.get(fe,y.i_referidos());return y.flecha(ff[0],ff[1],ff[2]);},eH.get_View())}).WithHole({$:2,$0:"flecha_descendientes",$1:p.Map(function(fe){var ff;ff=T.get(fe,y.i_descendientes());return y.flecha(ff[0],ff[1],ff[2]);},eH.get_View())}).WithHole({$:2,$0:"flecha_comision",$1:p.Map(function(fe){var ff;ff=T.get(fe,y.i_comision());return y.flecha(ff[0],ff[1],ff[2]);},eH.get_View())}).WithHole({$:2,$0:"flecha_diapago",$1:p.Map(function(fe){var ff;ff=T.get(fe,y.i_diaPago());return y.flecha(ff[0],ff[1],ff[2]);},eH.get_View())}).WithHole({$:2,$0:"flecha_desde",$1:p.Map(function(fe){var ff;ff=T.get(fe,y.i_desde());return y.flecha(ff[0],ff[1],ff[2]);},eH.get_View())}).WithHole({$:0,$0:"tbody",$1:eO})),(e4=V.CompleteHoles(eN.k,eN.h,[["filtro",0]]),(e5=new S.New(e4[1],W.consolidado(e4[0])),(eN.i=e5,e5)))).get_Doc();};y.definicion=function(){_5.$cctor();return _5.definicion;};y.i_desde=function(){_5.$cctor();return _5.i_desde;};y.flecha=function(eG,eH,eI){return eG===1?eH?"\u2191":"\u2193":"";};y.i_diaPago=function(){_5.$cctor();return _5.i_diaPago;};y.i_comision=function(){_5.$cctor();return _5.i_comision;};y.i_descendientes=function(){_5.$cctor();return _5.i_descendientes;};y.i_referidos=function(){_5.$cctor();return _5.i_referidos;};y.i_nivel=function(){_5.$cctor();return _5.i_nivel;};y.i_referido=function(){_5.$cctor();return _5.i_referido;};y.i_tipo=function(){_5.$cctor();return _5.i_tipo;};y.i_influyente=function(){_5.$cctor();return _5.i_influyente;};y.i_status=function(){_5.$cctor();return _5.i_status;};y.i_correo=function(){_5.$cctor();return _5.i_correo;};y.i_nombre=function(){_5.$cctor();return _5.i_nombre;};y.i_archivos=function(){_5.$cctor();return _5.i_archivos;};y.i_Id=function(){_5.$cctor();return _5.i_Id;};y.agregarCampo=function(eG,eH,eI){y.set_definicion(y.definicion().concat([[eG,eH,eI]]));return T.length(y.definicion())-1;};y.nombreReferidor=function(eG){var eH,eI,eJ;eH=(eI=eG==null?null:(eJ=eG.$0,bc.tryFind(function(eK){return J.Equals(eK.id,eJ);},m.modeloV().Get().aliados)),eI==null?null:{$:1,$0:O.nombre(eI.$0.datosPersonales)});return eH==null?"-":eH.$0;};y.referidos=function(eG){return eG.nReferidos===0?"-":(((ey.Curried3(function(eH,eI,eJ){return eH(a.String(eI)+"/"+a.String(eJ));}))(a.id))(eG.nRefActivos))(eG.nReferidos);};y.descendientes=function(eG){return eG.nDescendientes===0?"-":(((ey.Curried3(function(eH,eI,eJ){return eH(a.String(eI)+"/"+a.String(eJ));}))(a.id))(eG.nDescActivos))(eG.nDescendientes);};y.comision=function(eG){return eG===0?"-":m.money(eG);};y.set_definicion=function(eG){_5.$cctor();_5.definicion=eG;};z.comisiones=function(){var eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR;function eS(eW,eX){return eX===""?eW:eX;}function eT(){var eW;cR.Start((eW=null,cR.Delay(function(){return cR.Bind(p.GetAsync(eG),function(eX){a.saveAs(new bN([bj.concat("\r\n",bc.map(function(eY){var eZ,e0;eZ=eY[0];e0=eY[1];return(((((((ey.Curried(function(e1,e2,e3,e4,e5,e6,e7){return e1(bD.toSafe(e2)+","+bD.toSafe(e3)+","+bD.toSafe(e4)+","+bD.toSafe(e5)+","+bD.prettyPrint(e6)+","+bD.prettyPrint(e7));},7))(a.id))("22"))(eS("----------",e0.numero.get_Id())))(eS("----------",e0.routing.get_Id())))((function(e1){return function(e2){return e1(a.String(e2)+".00");};}(a.id))(eZ.comision)))("----------"))(e0.titular===""?O.nombre2(eZ.datosPersonales):e0.titular);},eX))],{type:"text/plain;charset=utf-8"}),"pagos.csv");return cR.Zero();});})),null);}function eU(eW,eX){return eW.id;}function eV(eW,eX){var eY,eZ,e0,e1,e2;eY=p.Map(function(e3){return e3[0];},eX);eZ=p.Map(function(e3){return e3[1];},eX);return(e0=U.Make().WithHole({$:1,$0:"codigo",$1:"22"}).WithHole({$:2,$0:"cuenta",$1:p.Map(function(e3){return eS("----------",e3.numero.get_Id());},eZ)}).WithHole({$:2,$0:"aba",$1:p.Map(function(e3){return eS("----------",e3.routing.get_Id());},eZ)}).WithHole({$:2,$0:"monto",$1:p.Map(function(e3){return(function(e4){return function(e5){return e4(a.String(e5)+".00");};}(a.id))(e3.comision);},eY)}).WithHole({$:1,$0:"identificacion",$1:"---------"}).WithHole({$:2,$0:"nombre",$1:p.Map2(function(e3,e4){return eS(O.nombre2(e3.datosPersonales),e4.titular);},eY,eZ)}),(e1=V.CompleteHoles(e0.k,e0.h,[]),(e2=new S.New(e1[1],W.filapago(e1[0])),(e0.i=e2,e2)))).get_Doc();}eG=p.MapAsync(function(eW){var eX,eY,eZ;function e0(e1){return cR.Return(e1);}return cR.Bind((eX=bp.asyncResult(),eX.Run(eX.Delay(function(){var e1;e1=bc.filter(function(e2){return e2.comision>0;},eW);return eX.Bind$1(_0.obtenerFormasDePagoPara(T.ofSeq(bc.map(function(e2){return e2.id;},e1))),function(e2){function e3(e5,e6){return J.Equals(e5.id,e6[0])?{$:1,$0:[e5,e6[1]]}:null;}function e4(e5,e6){var e7,e8;return[e5,(e7=bc.tryPick(function(e9){var e_;e_=e9.cuentaPago;return e_.$==0?{$:1,$0:e_.$0}:null;},e6),(e8=M.ctaVacio(),e7==null?e8:e7.$0))];}return eX.Return(bc.choose(function(e5){return e3(e5[0],e5[1]);},bc.zip(e1,bc.map(function(e5){return e4(e5[0],e5[1]);},e2))));});}))),(eY=(eZ=[],function(e1){return bF.defaultValue(eZ,e1);}),function(e1){return e0(eY(e1));}));},p.Map(function(eW){return eW.aliados;},m.modeloV().get_View()));return(eH=(eI=bz.ofArray([(eJ=U.Make().WithHole({$:2,$0:"codigo",$1:p.Map(function(eW){return(function(eX){return function(eY){return eX(a.String(eY));};}(a.id))(bc.length(eW));},eG)}).WithHole({$:1,$0:"cuenta",$1:""}).WithHole({$:1,$0:"aba",$1:""}).WithHole({$:2,$0:"monto",$1:p.Map(function(eW){function eX(eY,eZ){return eY.comision;}return(function(eY){return function(eZ){return eY(a.String(eZ)+".00");};}(a.id))(bc.sumBy(function(eY){return eX(eY[0],eY[1]);},eW));},eG)}).WithHole({$:1,$0:"identificacion",$1:""}).WithHole({$:1,$0:"nombre",$1:""}),(eK=V.CompleteHoles(eJ.k,eJ.h,[]),(eL=new S.New(eK[1],W.filapago(eK[0])),(eJ.i=eL,eL)))).get_Doc(),(eM=U.Make().WithHole({$:1,$0:"codigo",$1:""}).WithHole({$:1,$0:"cuenta",$1:""}).WithHole({$:1,$0:"aba",$1:""}).WithHole({$:1,$0:"monto",$1:"--------------------"}).WithHole({$:1,$0:"identificacion",$1:""}).WithHole({$:1,$0:"nombre",$1:""}),(eN=V.CompleteHoles(eM.k,eM.h,[]),(eO=new S.New(eN[1],W.filapago(eN[0])),(eM.i=eO,eO)))).get_Doc(),Z.ConvertSeqBy(function(eW){return eU(eW[0],eW[1]);},function(eW){return function(eX){return eV(eW,eX);};},eG)]),(eP=U.Make(),eP.WithHole(V.EventQ2(eP.k,"exportar",function(){return eP.i;},function(){eT();}))).WithHole({$:0,$0:"tbody",$1:Z.Concat(eI)})),(eQ=V.CompleteHoles(eH.k,eH.h,[]),(eR=new S.New(eQ[1],W.tablapagos(eQ[0])),(eH.i=eR,eR)))).get_Doc();};A.listaDocs=function(){var eG,eH,eI,eJ,eK,eL,eM,eN,eO;function eP(){var eS;_0.iterA((eS=bp.asyncResult(),eS.Run(eS.Delay(function(){eH.Set([]);eG.Set([]);return bH["AsyncResultBuilder.Bind"](eS,p.GetAsync(A.aliadoIdW()),function(eT){return eS.Bind$1(_0.obtenerListaDocs(eT),function(eU){eH.Set(eU);eG.Set(eU);return eS.Zero();});});}))));}function eQ(eS){return function(eT,eU){var eV;return _0.iterA((eV=bp.asyncResult(),eV.Run(eV.Delay(function(){eP();return eV.Bind$1(_0.ejecutarDataEventoNuevo({$:9,$0:[new _1({$:0,$0:eS}),T.ofSeq(eG["var"].Get())]}),function(){br.refrescarData(true);a.alert(eU);return eV.Zero();});}))));};}function eR(eS,eT){var eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3;eS.preventDefault();eY=a.jQuery("#SubirDocumentos");eZ=new a.FormData();e0=eY.serializeArray();for(e1=0,e2=e0.length-1;e1<=e2;e1++){e3=T.get(e0,e1);eZ.append(e3.name,e3.value);}eV=eY.children("input[type=file]").first().get(0).files.item(0);eW=eV.name;eZ.append("file",eV);eA.ajax((eX={},eX.type="POST",eX.url="/api/subir/"+eT+"/"+eW,eX.data=eZ,eX.contentType=false,eX.processData=false,eX.success=eQ(eT),eX));}eG=_6.Create(function(eS){return eS.nombre;},[]);eH=_6.Create(function(eS){return eS.nombre;},[]);p.Sink(function(eS){if(!J.Equals(eS,new _1({$:0,$0:""})))eP();},A.aliadoIdW());return(eI=(eJ=(eK=Z.EmbedView(p.Map(bu.crearOptions,bu.tiposAr().get_View())),(eL=(eM=bI.docLensMapView(a.id,function(eS,eT){var eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4,e5,e6,e7,e8,e9,e_;eU=p.Map(function(e$){return J.Equals(e$.idAliado,n.get_LoggedId());},eT.get_View());eV=(eW=(eX=p.Map(function(e$){return e$.get_Id();},A.aliadoIdW()),U.Make().WithHole({$:2,$0:"idaliado",$1:eX})).WithHole({$:2,$0:"archivo",$1:p.Map(function(e$){return e$.nombre;},eT.get_View())}).WithHole({$:2,$0:"nombre",$1:p.Map(function(e$){return e$.nombre;},eT.get_View())}),(eY=V.CompleteHoles(eW.k,eW.h,[]),(eZ=new S.New(eY[1],W.enlacedocumento(eY[0])),(eW.i=eZ,eZ)))).get_Doc();return(e0=(e1=cW.DynamicPred("disabled",eU,p.Const("")),(e2=Z.EmbedView(p.Map(bu.crearOptions,bu.statusAr().get_View())),(e3=new cQ.New(p.Map(function(e$){return a.String(e$.status);},eT.get_View()),(e4=(e5=i.Lens(eT,function(e$){return e$.status;},function(e$,fa){return bG.New(e$.idAliado,e$.tipo,e$.nombre,e$.modificado,e$.tamano,fa,e$.comentario);}),function(e$){e5.Set(e$);}),function(e$){return e4(bM.Parse(e$));})),(e6=new cQ.New(p.Map(function(e$){return a.String(e$.tipo);},eT.get_View()),(e7=(e8=i.Lens(eT,function(e$){return e$.tipo;},function(e$,fa){return bG.New(e$.idAliado,fa,e$.nombre,e$.modificado,e$.tamano,e$.status,e$.comentario);}),function(e$){e8.Set(e$);}),function(e$){return e7(bL.Parse(e$));})),U.Make().WithHole({$:0,$0:"enlace",$1:eV}).WithHole({$:8,$0:"tipo",$1:e6})).WithHole({$:8,$0:"status",$1:e3})).WithHole({$:2,$0:"tamano",$1:p.Map(function(e$){return bK.thousands(e$.tamano);},eT.get_View())}).WithHole({$:2,$0:"modificado",$1:p.Map(function(e$){return bJ.toYYYYMMDDHHMM("-",e$.modificado);},eT.get_View())}).WithHole({$:0,$0:"statuses",$1:e2})).WithHole({$:3,$0:"disabled",$1:e1})),(e9=V.CompleteHoles(e0.k,e0.h,[["tipo",0],["status",0]]),(e_=new S.New(e9[1],W.filadocs(e9[0])),(e0.i=e_,e_)))).get_Doc();},eG),U.Make().WithHole({$:0,$0:"tbody",$1:eM})),eL.WithHole(V.EventQ2(eL.k,"subir",function(){return eL.i;},function(eS){var eT;p.Get((eT=eS.Event,function(eU){return eR(eT,eU);}),p.Map(function(eU){return eU.get_Id();},A.aliadoIdW()));}))).WithHole({$:0,$0:"tiposarchivo",$1:eK})).WithHole({$:2,$0:"changed",$1:p.Map2(function(eS,eT){return J.Equals(eS,eT)?"":"mui-btn--primary";},eH.v,eG.v)}),eJ.WithHole(V.EventQ2(eJ.k,"salvar",function(){return eJ.i;},function(){var eS;_0.iterA((eS=bp.asyncResult(),eS.Run(eS.Delay(function(){var eT;eT=T.ofSeq(bc.filter(function(eU){return!J.Equals(bc.tryFind(function(eV){return eV.nombre===eU.nombre;},eH["var"].Get()),{$:1,$0:eU});},eG["var"].Get()));return!bc.isEmpty(eT)?bH["AsyncResultBuilder.Bind"](eS,p.GetAsync(A.aliadoIdW()),function(eU){return eS.Bind$1(_0.ejecutarDataEventoNuevo({$:9,$0:[eU,eT]}),function(eV){eP();br.refrescarData(true);a.alert((function(eW){return function(eX){return eW(X.p$3(eX));};}(a.id))(eV));return eS.Zero();});}):eS.Zero();}))));}))),(eN=V.CompleteHoles(eI.k,eI.h,[]),(eO=new S.New(eN[1],W.subirdocumentos(eN[0])),(eI.i=eO,eO)))).get_Doc();};A.expandedOV=function(){_5.$cctor();return _5.expandedOV;};A.aliadoIdW=function(){_5.$cctor();return _5.aliadoIdW;};B.formaAutorizacion=function(){var eG,eH,eI,eJ,eK,eL,eM,eN;eG=(eH=(eI=Z.EmbedView(B.cuentaAutorizar().get_View()),U.Make().WithHole({$:2,$0:"titular",$1:B.titular().get_View()}).WithHole({$:2,$0:"montoafiliacion",$1:p.Map(function(eO){return(function(eP){return function(eQ){return eP("$"+a.String(eQ)+".00");};}(a.id))(eO.premisas.montoAfiliacion);},m.modeloV().get_View())}).WithHole({$:2,$0:"dia",$1:p.Map(function(eO){return a.String(O.dia(eO.diaPago));},m.aliadoW())}).WithHole({$:0,$0:"cuentadebitar",$1:eI})),(eJ=V.CompleteHoles(eH.k,eH.h,[]),(eK=new S.New(eJ[1],W.autorizacionpago(eJ[0])),(eH.i=eK,eK)))).get_Doc();eL=(eM=(eN=B.cuentaPagoO().Get(),eN==null?null:{$:1,$0:eN.$0.get_AutorizacionPre()}),eM==null?"Autorizacion -- ------":eM.$0);return bP.formaFirma(B.titular().get_View(),eG,bL.Autorizacion,B.actualizarSubscripcion,eL);};B.cuentaPagoO=function(){_5.$cctor();return _5.cuentaPagoO;};B.actualizarSubscripcion=function(){var eG;eG=_0.actualizarSubscripcion(B.pid());return cH.map(function(eH){return function(eI){return eH("Subscripción #"+bD.toSafe(eI)+" creada.");};}(a.id),eG);};B.titular=function(){_5.$cctor();return _5.titular;};B.cuentaAutorizar=function(){_5.$cctor();return _5.cuentaAutorizar;};B.set_pid=function(eG){_5.$cctor();_5.pid=eG;};B.pid=function(){_5.$cctor();return _5.pid;};C.formaContrato=function(){var eG,eH,eI,eJ;eG=p.Map(function(eK){return O.nombre2(eK.datosPersonales);},m.aliadoW());return bP.formaFirma(eG,(eH=U.Make().WithHole({$:2,$0:"aliado",$1:eG}),(eI=V.CompleteHoles(eH.k,eH.h,[]),(eJ=new S.New(eI[1],W.contrato(eI[0])),(eH.i=eJ,eJ)))).get_Doc(),bL.Contrato,C.firmarContrato,"Contrato");};C.firmarContrato=function(){return cH.rtn("Contrato firmado!");};D.transacciones=function(){return m.selAliadoIdDoc(D.docTransacciones);};D.docTransacciones=function(eG){var eH,eI,eJ,eK;function eL(eN,eO){var eP,eQ,eR;return(eP=U.Make().WithHole({$:2,$0:"fecha",$1:p.Map(function(eS){return bJ.toYYYYMMDDHHMM("-",eS.fechaPago);},eO)}).WithHole({$:2,$0:"transid",$1:p.Map(function(eS){return eS.transaccion;},eO)}).WithHole({$:2,$0:"cuenta",$1:p.Map(function(eS){return a.String(eS.concepto);},eO)}).WithHole({$:2,$0:"status",$1:p.Map(function(eS){return eS.statusTran;},eO)}).WithHole({$:2,$0:"monto",$1:p.Map(function(eS){return(function(eT){return function(eU){return eT(eU.toFixed(2));};}(a.id))(eS.monto/100);},eO)}),(eQ=V.CompleteHoles(eP.k,eP.h,[]),(eR=new S.New(eQ[1],W.transaccion(eQ[0])),(eP.i=eR,eR)))).get_Doc();}function eM(eN,eO){return bc.sortBy(function(eP){return eP.fechaPago;},bc.filter(function(eP){return J.Equals(eP.idAliado,eO.id);},eN));}return(eH=(eI=Z.ConvertSeqBy(function(eN){return eN.transaccion;},function(eN){return function(eO){return eL(eN,eO);};},(((ey.Curried3(p.Map2))(eM))(D.transaccionesW()))(eG)),U.Make().WithHole({$:0,$0:"tbody",$1:eI})),(eJ=V.CompleteHoles(eH.k,eH.h,[]),(eK=new S.New(eJ[1],W.transacciones(eJ[0])),(eH.i=eK,eK)))).get_Doc();};D.transaccionesW=function(){_5.$cctor();return _5.transaccionesW;};E.pendientes=function(eG){return Z.BindView(a.id,p.MapAsync(function(eH){var eI;eI=null;return cR.Delay(function(){return cR.Bind(E.chequearStatusAliado(eH,_0.obtenerListaDocs(eH.id),_0.obtenerFormasDePagoId(eH.id)),function(eJ){var eK,eL,eM,eN,eO;return eJ.$==0&&bc.isEmpty(eJ.$0)?cR.Return(Z.get_Empty()):eJ.$==1?cR.Return(Z.TextNode(eJ.$0)):cR.Return((eL=(eM=Z.Concat(bc.map(E.pendiente,eJ.$0)),U.Make().WithHole({$:0,$0:"pasos",$1:eM})),(eN=V.CompleteHoles(eL.k,eL.h,[]),(eO=new S.New(eN[1],W.pendientes(eN[0])),(eL.i=eO,eO)))).get_Doc());});});},eG));};E.chequearStatusAliado=function(eG,eH,eI){var eJ;eJ=bp.asyncResult();return eJ.Run(eJ.Delay(function(){return eG.status.$==0?eJ.Bind$1(eH,function(eK){return eJ.Bind$1(eI,function(eL){var eM;eM=bc.filter(function(eN){return eN.authorizeIdR.$==0;},eL);return eJ.Return(bz.ofSeq(bc.delay(function(){var eN;return bc.append(E.chequearArchivos((eN=bL.Contrato,function(eO){return E.esArchivoTipo(eN,eO);}),E.firmarContrato,eK),bc.delay(function(){return bc.append(E.chequearCuentas(function(){return true;},E.agregarCuenta,eL),bc.delay(function(){return bc.append(bc.length(eM)>0?E.chequearArchivos(function(eO){return E.esAutorizacion(eM,eO);},E.firmarAutorizacion,eK):[],bc.delay(function(){var eO;return bc.append(E.chequearArchivos((eO=bL.FormaW9,function(eP){return E.esArchivoTipo(eO,eP);}),function(){return E.subirArchivoTipo(bL.FormaW9);},eK),bc.delay(function(){var eP;return bc.append(E.chequearArchivos((eP=bL.FormaW8BEN,function(eQ){return E.esArchivoTipo(eP,eQ);}),function(){return E.subirArchivoTipo(bL.FormaW8BEN);},eK),bc.delay(function(){return E.chequearArchivos(E.esIdentificacion,E.subirIdentificacion,eK);}));}));}));}));}));})));});}):eJ.Return(cx.Empty);}));};E.pendiente=function(eG){return Z.Element("li",[],eG);};E.chequearArchivos=function(eG,eH,eI){var eJ,eK,eL;eJ=E.filtroArchivo(eG,eI);return!J.Equals(eJ,null)&&eJ.length===0?[eH()]:(eK=bc.tryFind(function(eM){return eM.status.$===1;},eJ),eK==null?(eL=bc.map(E.verificarArchivo,eJ),bc.exists(function(eM){return eM.status.$!==2;},eJ)?eL:bc.append(eL,[eH()])):[E.verificarArchivo(eK.$0)]);};E.firmarContrato=function(){return bz.ofArray([Z.Element("i",[cS.Create("class","far fa-square")],[]),Z.TextNode(" Firmar "),E.enlace(dw.FormaContrato(),"Contrato")]);};E.esArchivoTipo=function(eG,eH){return J.Equals(eH.tipo,eG);};E.chequearCuentas=function(eG,eH,eI){var eJ;eJ=E.filtroCuenta(eG,eI);return!J.Equals(eJ,null)&&eJ.length===0?[eH()]:bc.map(E.verificarCuenta,eJ);};E.agregarCuenta=function(){return bz.ofArray([Z.Element("i",[cS.Create("class","far fa-square")],[]),Z.TextNode(" Agregar Forma de pago: "),E.enlace(dw.FormasPago(),"Tarjeta de Credito o Cuenta Bancaria")]);};E.firmarAutorizacion=function(){return bz.ofArray([Z.Element("i",[cS.Create("class","far fa-square")],[]),Z.TextNode(" Firmar "),E.enlace(dw.FormasPago(),"Autorizacion (Haga click en: AUTORIZAR DEBITO)")]);};E.esAutorizacion=function(eG,eH){return eH.tipo.$===1&&bc.exists(function(eI){return eH.nombre.indexOf(eI.cuentaPago.get_MaskedCuenta())!=-1;},eG);};E.subirArchivoTipo=function(eG){var eH;eH=E.tarchivo2String(eG);return bz.ofArray([Z.Element("i",[cS.Create("class","far fa-square")],[]),E.enlace(dw.Subir()," Subir "+eH[0][0]+"."),E.enlace(eH[1],"(Descargar aqui)")]);};E.esIdentificacion=function(eG){var eH;eH=eG.tipo;return eH.$==2||(eH.$==3||eH.$==4);};E.subirIdentificacion=function(){return bz.ofArray([Z.Element("i",[cS.Create("class","far fa-square")],[]),E.enlace(dw.Subir()," Subir "),Z.TextNode("documento de identidad: "),E.enlace(dw.Subir(),"Cedula, Pasaporte, Licencia de Conducir")]);};E.filtroArchivo=function(eG,eH){return T.ofSeq(bc.filter(eG,bc.filter(function(eI){return eI.status.$!==3&&eI.status.$!==4;},eH)));};E.verificarArchivo=function(eG){var eH;eH=eG.status;return eH.$==1?bz.ofArray([Z.Element("i",[cS.Create("class","fas fa-check-double")],[]),Z.TextNode(" "),E.enlaceArchivo(eG),Z.TextNode((function(eI){return function(eJ){return eI(" Verificad"+bD.toSafe(eJ));};}(a.id))(E.sufijo(eG)))]):eH.$==2?bz.ofArray([Z.Element("i",[cS.Create("class","fas fa-times-circle")],[]),Z.TextNode(" "),E.enlaceArchivo(eG),Z.TextNode((function(eI){return function(eJ){return eI(" Rechazad"+bD.toSafe(eJ));};}(a.id))(E.sufijo(eG)))]):E.pendienteArchivo(eG);};E.enlace=function(eG,eH){return Z.Element("a",[cS.Create("href",eG)],[Z.TextNode(eH)]);};E.filtroCuenta=function(eG,eH){return T.ofSeq(bc.filter(eG,eH));};E.verificarCuenta=function(eG){var eH,eI,eJ,eK;eH=(eI=(eJ=eG.subscripcion,eJ==null?null:{$:1,$0:"Subscripción: "+eJ.$0.get_Short()}),eI==null?"":eI.$0);eK=eG.authorizeIdR;return eK.$==1?bz.ofArray([Z.Element("i",[cS.Create("class","far fa-square")],[]),Z.TextNode(((((ey.Curried(function(eL,eM,eN,eO){return eL(" "+bD.toSafe(eM)+" "+bD.toSafe(eN)+" NO REGISTRADA en Authorize ("+bD.toSafe(eO)+")");},4))(a.id))(eG.cuentaPago.get_TipoLargo()))(eG.cuentaPago.get_MaskedCuenta()))(eK.$0))]):bz.ofArray([Z.Element("i",[cS.Create("class","far fa-check-square")],[]),Z.TextNode((((((ey.Curried(function(eL,eM,eN,eO,eP){return eL(" "+bD.toSafe(eM)+" "+bD.toSafe(eN)+" Registrada. ("+bD.toSafe(eO)+") "+bD.toSafe(eP));},5))(a.id))(eG.cuentaPago.get_TipoLargo()))(eG.cuentaPago.get_MaskedCuenta()))(eK.$0.get_Id()))(eH))]);};E.tarchivo2String=function(eG){return eG.$==6?[["Formulario W-8BEN","o"],dw.FormaW8BEN()]:eG.$==1?[["Autorización de pago","a"],dw.FormasPago()]:eG.$==0?[["Contrato","o"],dw.FormaContrato()]:eG.$==3?[["Cedula","a"],dw.Subir()]:eG.$==4?[["Licencia de Conducir","a"],dw.Subir()]:eG.$==2?[["Pasaporte","o"],dw.Subir()]:eG.$==7?[[eG.$0,"o(a)"],dw.Subir()]:[["Formulario W-9","o"],dw.FormaW9()];};E.enlaceArchivo=function(eG){var eH,eI,eJ,eK;return(eH=(eI=(E.tarchivo2String(eG.tipo))[0][0],U.Make().WithHole({$:1,$0:"idaliado",$1:eG.idAliado.get_Id()}).WithHole({$:1,$0:"archivo",$1:eG.nombre}).WithHole({$:1,$0:"title",$1:eG.nombre}).WithHole({$:1,$0:"nombre",$1:eI})),(eJ=V.CompleteHoles(eH.k,eH.h,[]),(eK=new S.New(eJ[1],W.enlacedocumento(eJ[0])),(eH.i=eK,eK)))).get_Doc();};E.sufijo=function(eG){return(E.tarchivo2String(eG.tipo))[0][1];};E.pendienteArchivo=function(eG){return bz.ofArray([Z.Element("i",[cS.Create("class","far fa-check-square")],[]),Z.TextNode(" "),E.enlaceArchivo(eG),Z.TextNode((function(eH){return function(eI){return eH(" subid"+bD.toSafe(eI)+". ");};}(a.id))(E.sufijo(eG))),Z.Element("i",[cS.Create("class","far fa-square")],[]),Z.TextNode(" Pendiente de Verificacion")]);};I.GetFields=function(eG){var eH,eI;eH=[];for(var eJ in eG)eH.push([eJ,eG[eJ]]);return eH;};I.GetFieldValues=function(eG){var eH,eI;eH=[];for(var eJ in eG)eH.push(eG[eJ]);return eH;};J.Equals=function(eG,eH){var eI,eJ,eK,eL;if(eG===eH)return true;else{eI=typeof eG;if(eI=="object"){if(eG===null||eG===void 0||eH===null||eH===void 0)return false;else if("Equals"in eG)return eG.Equals(eH);else if(eG instanceof a.Array&&eH instanceof a.Array)return J.arrayEquals(eG,eH);else if(eG instanceof a.Date&&eH instanceof a.Date)return J.dateEquals(eG,eH);else{eJ=[true];for(var eM in eG)if(function(eN){eJ[0]=!eG.hasOwnProperty(eN)||eH.hasOwnProperty(eN)&&J.Equals(eG[eN],eH[eN]);return!eJ[0];}(eM))break;if(eJ[0]){for(var eN in eH)if(function(eO){eJ[0]=!eH.hasOwnProperty(eO)||eG.hasOwnProperty(eO);return!eJ[0];}(eN))break;}return eJ[0];}}else return eI=="function"&&("$Func"in eG?eG.$Func===eH.$Func&&eG.$Target===eH.$Target:"$Invokes"in eG&&"$Invokes"in eH&&J.arrayEquals(eG.$Invokes,eH.$Invokes));}};J.arrayEquals=function(eG,eH){var eI,eJ;if(T.length(eG)===T.length(eH)){eI=true;eJ=0;while(eI&&eJ<T.length(eG)){!J.Equals(T.get(eG,eJ),T.get(eH,eJ))?eI=false:void 0;eJ=eJ+1;}return eI;}else return false;};J.dateEquals=function(eG,eH){return eG.getTime()===eH.getTime();};J.Compare=function(eG,eH){var eI,eJ,eK,eL,eM,eN;if(eG===eH)return 0;else{eJ=typeof eG;switch(eJ=="function"?1:eJ=="boolean"?2:eJ=="number"?2:eJ=="string"?2:eJ=="object"?3:0){case 0:return typeof eH=="undefined"?0:-1;case 1:return o.FailWith("Cannot compare function values.");case 2:return eG<eH?-1:1;case 3:if(eG===null)eK=-1;else if(eH===null)eK=1;else if("CompareTo"in eG)eK=eG.CompareTo(eH);else if("CompareTo0"in eG)eK=eG.CompareTo0(eH);else if(eG instanceof a.Array&&eH instanceof a.Array)eK=J.compareArrays(eG,eH);else if(eG instanceof a.Date&&eH instanceof a.Date)eK=J.compareDates(eG,eH);else{eL=[0];for(var eO in eG)if(function(eP){return!eG.hasOwnProperty(eP)?false:!eH.hasOwnProperty(eP)?(eL[0]=1,true):(eL[0]=J.Compare(eG[eP],eH[eP]),eL[0]!==0);}(eO))break;if(eL[0]===0){for(var eP in eH)if(function(eQ){return!eH.hasOwnProperty(eQ)?false:!eG.hasOwnProperty(eQ)&&(eL[0]=-1,true);}(eP))break;}eK=eL[0];}return eK;}}};J.compareArrays=function(eG,eH){var eI,eJ;if(T.length(eG)<T.length(eH))return -1;else if(T.length(eG)>T.length(eH))return 1;else{eI=0;eJ=0;while(eI===0&&eJ<T.length(eG)){eI=J.Compare(T.get(eG,eJ),T.get(eH,eJ));eJ=eJ+1;}return eI;}};J.compareDates=function(eG,eH){return J.Compare(eG.getTime(),eH.getTime());};J.Hash=function(eG){var eH;eH=typeof eG;return eH=="function"?0:eH=="boolean"?eG?1:0:eH=="number"?eG:eH=="string"?J.hashString(eG):eH=="object"?eG==null?0:eG instanceof a.Array?J.hashArray(eG):J.hashObject(eG):0;};J.hashString=function(eG){var eH,eI,eJ;if(eG===null)return 0;else{eH=5381;for(eI=0,eJ=eG.length-1;eI<=eJ;eI++)eH=J.hashMix(eH,eG[eI].charCodeAt());return eH;}};J.hashArray=function(eG){var eH,eI,eJ;eH=-34948909;for(eI=0,eJ=T.length(eG)-1;eI<=eJ;eI++)eH=J.hashMix(eH,J.Hash(T.get(eG,eI)));return eH;};J.hashObject=function(eG){var eH,eI;if("GetHashCode"in eG)return eG.GetHashCode();else{eH=[0];for(var eJ in eG)if(function(eK){eH[0]=J.hashMix(J.hashMix(eH[0],J.hashString(eK)),J.Hash(eG[eK]));return false;}(eJ))break;return eH[0];}};J.hashMix=function(eG,eH){return(eG<<5)+eG+eH;};K.newLyt=function(eG,eH){return bU.New(eG,i.Create$1(eH));};K.addLayout=function(eG){p.Sink(function(eH){var eI;eI=K.createEntries(eG.lytName,eH);k.addPlugIn(l.New(eG.lytName,T.ofSeq(bc.delay(function(){return bc.append([k.newVar("Layout",eG.lytDefinition)],bc.delay(function(){return K.getVarEntries(eI);}));})),T.ofSeq(bc.delay(function(){return K.getViewEntries(eI);})),T.ofSeq(bc.delay(function(){return bc.append(K.getDocEntries(eI),bc.delay(function(){var eJ;return bc.append([k.newDocF("InputFile",{$:4,$0:(eJ=eG.lytName,ey.Curried(K.inputFile,4,[eJ])),$1:"attrs",$2:"Label",$3:"Action",$4:"[Doc]"})],bc.delay(function(){var eK;return bc.append([k.newDocF("InputLabel",{$:3,$0:(eK=eG.lytName,ey.Curried(K.inputLabel,3,[eK])),$1:"attrs",$2:"Label",$3:"Var"})],bc.delay(function(){var eL;return bc.append([k.newDocF("HtmlDoc",{$:1,$0:(eL=eG.lytName,function(eM){return K.htmlDoc(eL,eM);}),$1:"html"})],bc.delay(function(){return[k.newDocF("none",{$:1,$0:K.none,$1:"x"})];}));}));}));}));})),T.ofSeq(bc.delay(function(){return K.getActionEntries(eI);})),T.ofSeq(bc.delay(function(){return K.getQueryEntries(eI);}))));k.mainDocV().Set(k.mainDocV().Get());},eG.lytDefinition.get_View());};K.createEntries=function(eG,eH){return K.processLines(function(eI){return K.createEntryO(eG,eI);},bK.splitByChar("\n",eH));};K.getVarEntries=function(eG){function eH(eI){return eI[1];}return bc.map(function(eI){return bc.last(eH(eI));},bc.groupBy(function(eI){return eI.varName;},bc.choose(function(eI){return eI.$==0?{$:1,$0:eI.$0}:null;},eG)));};K.getViewEntries=function(eG){function eH(eI){return eI[1];}return bc.map(function(eI){return bc.last(eH(eI));},bc.groupBy(function(eI){return eI.viwName;},bc.choose(function(eI){return eI.$==1?{$:1,$0:eI.$0}:null;},eG)));};K.getDocEntries=function(eG){function eH(eI){return eI[1];}return bc.map(function(eI){return bc.last(eH(eI));},bc.groupBy(function(eI){return eI.docName;},bc.choose(function(eI){return eI.$==2?{$:1,$0:eI.$0}:null;},eG)));};K.inputFile=function(eG,eH,eI,eJ,eK){var eL,eM,eN,eO;eL=(eM=(eN=((K.splitName())(eG))(eJ),k.tryGetAct(eN[0],eN[1])),eM==null?null:{$:1,$0:(eO=eM.$0,Z.Element("div",K.getAttrs(eG,eH,true),[Z.Element("div",[cS.Create("class","input-group")],[Z.Element("span",[cS.Create("class","input-group-btn")],[Z.Element("label",[cS.Create("class","btn")],[K.getText(eG,eI,true),Z.Element("input",[cS.Create("class","form-control"),cS.Create("type","file"),cW.Style("display","none"),cS.HandlerImpl("click",function(eP){return function(){eP.value="";};}),cS.HandlerImpl("change",function(eP){return function(){return k.callFunction(eP,null,eO.actFunction);};})],[])])]),eK!==""?K.singleDoc(eG,bz.ofArray([[eK,false]])):Z.get_Empty()])]))});return eL==null?K.errDoc((function(eP){return function(eQ){return eP("Action not found "+bD.toSafe(eQ));};}(a.id))(eJ)):eL.$0;};K.inputLabel=function(eG,eH,eI,eJ){var eK,eL,eM;eK=(eL=(eM=((K.splitName())(eG))(eJ),k.tryGetVar(eM[0],eM[1])),eL==null?null:{$:1,$0:Z.Element("div",K.getAttrs(eG,eH,true),[Z.Element("div",[cS.Create("class","input-group")],[Z.Element("span",[cS.Create("class","input-group-addon")],[K.getText(eG,eI,true)]),Z.Input([cS.Create("class","form-control")],eL.$0.varVar)])])});return eK==null?K.errDoc((function(eN){return function(eO){return eN("Var not found "+bD.toSafe(eO));};}(a.id))(eJ)):eK.$0;};K.htmlDoc=function(eG,eH){var eI;eI=K.getTextData(eG,eH);return eI.$==1?Z.BindView(Z.Verbatim,eI.$0):eI.$==2?K.errDoc((function(eJ){return function(eK){return eJ("HtmlDoc: unexpected action "+cX.p$1(eK));};}(a.id))(eI.$0)):Z.Verbatim(eI.$0);};K.none=function(eG){return Z.Element("span",[],[]);};K.getActionEntries=function(eG){function eH(eI){return eI[1];}return bc.map(function(eI){return bc.last(eH(eI));},bc.groupBy(function(eI){return eI.actName;},bc.choose(function(eI){return eI.$==3?{$:1,$0:eI.$0}:null;},eG)));};K.getQueryEntries=function(eG){function eH(eI){return eI[1];}return bc.map(function(eI){return bc.last(eH(eI));},bc.groupBy(function(eI){return eI.qryName;},bc.choose(function(eI){return eI.$==4?{$:1,$0:eI.$0}:null;},eG)));};K.turnToView=function(eG){return Z.EmbedView(p.Map(eG,k.mainDocV().get_View()));};K.splitName=function(){bV.$cctor();return bV.splitName;};K.getDocFinal=function(eG,eH){var eI;eI=K.getDocF(eG,eH);return eI[1].$==0?eI[0]:K.errDoc((((ey.Curried3(function(eJ,eK,eL){return eJ("Too many parameters "+cX.p(eK)+" "+bD.printList(function(eM){return"("+bD.prettyPrint(eM[0])+", "+bD.prettyPrint(eM[1])+")";},eL));}))(a.id))(eH))(eG));};K.errDoc=function(eG){return Z.Element("div",[],[Z.TextNode(eG)]);};K.processLines=function(eG,eH){function eI(eJ){var eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX;eK=bc.tryHead(eJ);return eK!=null&&eK.$==1?(eL=eK.$0,(eM=K.splitTokens(eL),eM.$==1&&(eO=(eP=eM.$0,K.Identifier(eP[0],eP[1])),eO!=null&&eO.$==1&&(eM.$1.$==1&&((eQ=eM.$1.$0,K.Vertical(eQ[0],eQ[1])).$==2&&(eM.$1.$1.$==0&&(eN=eO.$0,true)))))?(eR=K.getExtraLines(function(eY){return bj.StartsWith(bj.Trim(eY),"|");},eJ),eI((dx.createLayoutDefinitions(eN,dx.extractNodes(eR[0])))[1].concat(eR[1]))):eM.$==0?eI(cc.array(eJ,{$:1,$0:1},null)):(eS=K.getExtraLines(function(eY){return bj.StartsWith(bj.Trim(eY),":");},eJ),(eT=eS[1],(eU=eS[0],T.length(eU)>0?((function(eY){return function(eZ){return eY("l = ;"+bD.toSafe(eZ)+";");};}(function(eY){eB.log(eY);}))(eL),eV=K.createLines(bc.nth(0,bj.SplitChars(eL,[" "],1)),1,[],[],1,eU),eW=eV[0],eX=eV[1],eI(T.ofSeq(bc.delay(function(){return bc.append([eL+" "+bj.concat(" ",eW)],bc.delay(function(){return bc.append(eX,bc.delay(function(){return eT;}));}));})))):T.ofSeq(bc.delay(function(){var eY;return bc.append((eY=eG(eL),eY!=null&&eY.$==1?[eY.$0]:[]),bc.delay(function(){return eI(eT);}));}))))))):[];}return eI(eH);};K.createEntryO=function(eG,eH){var eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4,e5,e6,e7,e8,e9,e_,e$,fa,fb,fc,fd,fe,ff,fg,fh,fi,fj,fk,fl,fm,fn,fo,fp,fq,fr,fs,ft,fu,fv,fw,fx,fy,fz,fA,fB,fC,fD,fE,fF,fG,fH,fI,fJ,fK,fL,fM,fN,fO;try{eI=K.splitTokens(eH);return eI.$==1&&(eK=(eL=eI.$0,K.Identifier(eL[0],eL[1])),eK!=null&&eK.$==1&&(eI.$1.$==1&&((eM=eI.$1.$0,K.Vertical(eM[0],eM[1])).$==0&&(eI.$1.$1.$==1&&(eN=(eO=eI.$1.$1.$0,K.Measures$1(eO[0],eO[1])),eN!=null&&eN.$==1&&(eJ=[eI.$1.$1.$1,eN.$0,eK.$0],true))))))?(eP=eJ[2],K.entryDoc(eP,(K.createSplitterM())([eG,eP,true,eJ[1],eJ[0]]))):eI.$==1&&(eR=(eS=eI.$0,K.Identifier(eS[0],eS[1])),eR!=null&&eR.$==1&&(eI.$1.$==1&&((eT=eI.$1.$0,K.Vertical(eT[0],eT[1])).$==1&&(eI.$1.$1.$==1&&(eU=(eV=eI.$1.$1.$0,K.Measures$1(eV[0],eV[1])),eU!=null&&eU.$==1&&(eQ=[eI.$1.$1.$1,eU.$0,eR.$0],true))))))?(eW=eQ[2],K.entryDoc(eW,(K.createSplitterM())([eG,eW,false,eQ[1],eQ[0]]))):eI.$==1&&(eY=(eZ=eI.$0,K.Identifier(eZ[0],eZ[1])),eY!=null&&eY.$==1&&(eI.$1.$==1&&((e0=eI.$1.$0,K.Button(e0[0],e0[1])).$==0&&(eI.$1.$1.$==1&&(e1=(e2=eI.$1.$1.$0,K.Identifier(e2[0],e2[1])),e1!=null&&e1.$==1&&(eI.$1.$1.$1.$==1&&(eI.$1.$1.$1.$1.$==1&&(eI.$1.$1.$1.$1.$1.$==0&&(eX=[e1.$0,eI.$1.$1.$1.$0,eY.$0,eI.$1.$1.$1.$1.$0],true)))))))))?(e3=eX[2],K.entryDoc(e3,(K.createButtonM())([eG,e3,eX[0],eX[1],eX[3]]))):eI.$==1&&(e5=(e6=eI.$0,K.Identifier(e6[0],e6[1])),e5!=null&&e5.$==1&&(eI.$1.$==1&&((e7=eI.$1.$0,K.Button(e7[0],e7[1])).$==1&&(eI.$1.$1.$==1&&(e8=(e9=eI.$1.$1.$0,K.Identifier(e9[0],e9[1])),e8!=null&&e8.$==1&&(eI.$1.$1.$1.$==1&&(eI.$1.$1.$1.$1.$==0&&(e4=[eI.$1.$1.$1.$0,e5.$0,e8.$0],true))))))))?(e_=e4[1],K.entryDoc(e_,(K.createInputM())([eG,e_,e4[2],e4[0]]))):eI.$==1&&(fa=(fb=eI.$0,K.Identifier(fb[0],fb[1])),fa!=null&&fa.$==1&&(eI.$1.$==1&&((fc=eI.$1.$0,K.Button(fc[0],fc[1])).$==2&&(eI.$1.$1.$==1&&(fd=(fe=eI.$1.$1.$0,K.Identifier(fe[0],fe[1])),fd!=null&&fd.$==1&&(eI.$1.$1.$1.$==1&&(eI.$1.$1.$1.$1.$==0&&(e$=[eI.$1.$1.$1.$0,fa.$0,fd.$0],true))))))))?(ff=e$[1],K.entryDoc(ff,(K.createTextAreaM())([eG,ff,e$[2],e$[0]]))):eI.$==1&&(fh=(fi=eI.$0,K.Identifier(fi[0],fi[1])),fh!=null&&fh.$==1&&(eI.$1.$==1&&((fj=eI.$1.$0,K.Var(fj[0],fj[1])).$==0&&(eI.$1.$1.$==1&&(eI.$1.$1.$1.$==0&&(fg=[fh.$0,eI.$1.$1.$0],true))))))?(fk=fg[0],K.entryVar(fk,(K.createVarM())([eG,fk,fg[1][0]]))):eI.$==1&&(fm=(fn=eI.$0,K.Identifier(fn[0],fn[1])),fm!=null&&fm.$==1&&(eI.$1.$==1&&((fo=eI.$1.$0,K.Var(fo[0],fo[1])).$==1&&(eI.$1.$1.$==1&&(fl=[eI.$1.$1.$0,fm.$0,eI.$1.$1.$1],true)))))?(fp=fl[1],K.entryDoc(fp,(K.createDocM())([eG,fp,fl[0][0],fl[2]]))):eI.$==1&&(fr=(fs=eI.$0,K.Identifier(fs[0],fs[1])),fr!=null&&fr.$==1&&(eI.$1.$==1&&((ft=eI.$1.$0,K.Var(ft[0],ft[1])).$==2&&(eI.$1.$1.$==1&&(fq=[eI.$1.$1.$0,fr.$0,eI.$1.$1.$1],true)))))?(fu=fq[1],K.entryView(fu,(K.createViewM())([eG,fu,fq[0][0],fq[2]]))):eI.$==1&&(fw=(fx=eI.$0,K.Identifier(fx[0],fx[1])),fw!=null&&fw.$==1&&(eI.$1.$==1&&((fy=eI.$1.$0,K.Vertical(fy[0],fy[1])).$==4&&(eI.$1.$1.$==1&&(eI.$1.$1.$1.$==1&&(fv=[eI.$1.$1.$1.$0,eI.$1.$1.$1.$1,fw.$0,eI.$1.$1.$0],true))))))?(fz=fv[2],K.entryDoc(fz,(K.createTemplateM())([eG,fz,fv[3],fv[0],fv[1]]))):eI.$==1&&(fB=(fC=eI.$0,K.Identifier(fC[0],fC[1])),fB!=null&&fB.$==1&&(eI.$1.$==1&&((fD=eI.$1.$0,K.Var(fD[0],fD[1])).$==3&&(fA=[eI.$1.$1,fB.$0],true))))?(fE=fA[1],K.entryDoc(fE,(K.createConcatM())([eG,fE,fA[0]]))):eI.$==1&&(fG=(fH=eI.$0,K.Identifier(fH[0],fH[1])),fG!=null&&fG.$==1&&(eI.$1.$==1&&((fI=eI.$1.$0,K.Vertical(fI[0],fI[1])).$==3&&(eI.$1.$1.$==1&&(eI.$1.$1.$1.$==1&&(eI.$1.$1.$1.$1.$==1&&(fF=[eI.$1.$1.$1.$1.$0,eI.$1.$1.$0,eI.$1.$1.$1.$1.$1,fG.$0,eI.$1.$1.$1.$0],true)))))))?null:eI.$==1&&(fK=(fL=eI.$0,K.Identifier(fL[0],fL[1])),fK!=null&&fK.$==1&&(eI.$1.$==1&&(fM=(fN=eI.$1.$0,K.Vertical(fN[0],fN[1])),fM.$==5&&(eI.$1.$1.$==1&&(fJ=[eI.$1.$1.$0,eI.$1.$1.$1,fM.$0,fK.$0],true)))))?(fO=fJ[3],K.entryDoc(fO,(K.createElementM())([eG,fO,fJ[2],fJ[0],fJ[1]]))):null;}catch(fP){((function(fQ){return function(fR){return fQ(bD.prettyPrint(fR));};}(function(fQ){eB.log(fQ);}))(fP));return null;}};K.getAttrs=function(eG,eH,eI){var eJ;eJ=[eH,eI];return bz.ofSeq(bc.delay(function(){return bc.append(bc.choose(function(eK){var eL,eM,eN,eO,eP,eQ;return!J.Equals(eK,null)&&eK.length===2&&(eM=T.get(eK,1),bj.Trim(T.get(eK,0))!==""&&bj.Trim(eM)!=="")?(eN=T.get(eK,1),(eO=T.get(eK,0),{$:1,$0:(eP=K.getTextData(eG,bj.Trim(eN)),eP.$==1?cW.Dynamic(bj.Trim(eO),eP.$0):eP.$==2?(eQ=eP.$0,cW.Handler(bj.Trim(eO),function(eR){return function(eS){return k.callFunction(eR,eS,eQ.actFunction);};})):cS.Create(bj.Trim(eO),bj.Trim(eP.$0)))})):null;},bc.map(function(eK){return bK.splitByChar("=",eK);},bK.splitByChar(";",eJ[0]))),bc.delay(function(){return bc.choose(function(eK){var eL,eM,eN,eO,eP;return!J.Equals(eK,null)&&eK.length===2&&(eM=T.get(eK,1),bj.Trim(T.get(eK,0))!==""&&bj.Trim(eM)!=="")?(eN=T.get(eK,1),(eO=T.get(eK,0),{$:1,$0:(eP=K.getTextData(eG,bj.Trim(eN)),eP.$==1?cW.DynamicStyle(bj.Trim(eO),eP.$0):eP.$==2?cW.Style(bj.Trim(eO),(function(eQ){return function(eR){return eQ("${"+bD.toSafe(eR)+"}");};}(a.id))(eP.$0.actName)):cW.Style(bj.Trim(eO),bj.Trim(eP.$0)))})):null;},bc.map(function(eK){return bK.splitByChar(":",eK);},bK.splitByChar(";",eJ[0])));}));}));};K.getText=function(eG,eH,eI){var eJ,eK,eL,eM,eN,eO,eP,eQ,eR;eJ=K.Identifier(eH,eI);return eJ!=null&&eJ.$==1?(eK=eJ.$0,(eL=((K.splitName())(eG))(eK),(eM=eL[0],(eN=eL[1],(eO=(eP=k.tryGetViw(eM,eN),eP==null?null:{$:1,$0:Z.TextView(eP.$0.viwView)}),eO==null?(eQ=(eR=k.tryGetVar(eM,eN),eR==null?null:{$:1,$0:Z.TextView(eR.$0.varVar.get_View())}),eQ==null?Z.TextNode(eK):eQ.$0):eO.$0))))):Z.TextNode(eH);};K.singleDoc=function(eG,eH){return Z.EmbedView(p.Map(function(eI){var eJ;return eI.$==1&&(eI.$1.$==0&&(eJ=eI.$0,true))?eJ:K.errDoc((function(eK){return function(eL){return eK("expected exactly 1 element "+bD.printList(function(eM){return"("+bD.prettyPrint(eM[0])+", "+bD.prettyPrint(eM[1])+")";},eL));};}(a.id))(eH));},p.Map(function(){return K.getDocs(eG,eH);},k.mainDocV().get_View())));};K.getTextData=function(eG,eH){var eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU;eI=(eJ=bK.delimitedO("@{","}",eH),eJ==null?null:{$:1,$0:(eK=eJ.$0,(eL=eK[0],(eM=eK[1],(eN=eK[2],(eO=((K.splitName())(eG))(eM),(eP=eO[0],(eQ=eO[1],(eR=(eS=k.tryGetWoW(eP,eQ),eS==null?null:{$:1,$0:function(eV){var eW,eX;eX=K.getTextData(eG,eN);switch(eL===""?eX.$==1?(eW=eX.$0,2):eX.$==2?(eW=eX.$0,3):eX.$0===""?0:(eW=eX.$0,1):eX.$==1?(eW=eX.$0,2):eX.$==2?(eW=eX.$0,3):(eW=eX.$0,1)){case 0:return{$:1,$0:eV};case 1:return{$:1,$0:p.Map(function(eY){return eL+eY+eW;},eV)};case 2:return{$:1,$0:p.Map2(function(eY,eZ){return eL+eY+eZ;},eV,eW)};case 3:return{$:2,$0:eW};}}(eS.$0)}),eR==null?(eT=(eU=k.tryGetAct(eP,eQ),eU==null?null:{$:1,$0:{$:2,$0:eU.$0}}),eT==null?{$:0,$0:((((ey.Curried(function(eV,eW,eX,eY){return eV(bD.toSafe(eW)+" ${Missing "+bD.toSafe(eX)+"}"+bD.toSafe(eY));},4))(a.id))(eL))(eM))(eN)}:eT.$0):eR.$0))))))))});return eI==null?{$:0,$0:eH}:eI.$0;};K.createSplitter=function(eG,eH,eI,eJ,eK){var eL;eL=K.pairOfDocs(eG,eK);return eJ.$==1?K.variableSplitter(eI,eJ.$0,eJ.$1,eJ.$2,eL[0],eL[1]):K.fixedSplitter(eI,eJ.$0,eJ.$1,eL[0],eL[1]);};K.createButton=function(eG,eH,eI,eJ,eK){return K.turnToView(function(){var eL,eM,eN,eO,eP;function eQ(eR,eS){return k.callFunction(null,null,eR.actFunction);}eL=(eM=(eN=(eO=((K.splitName())(eG))(eI),k.tryGetAct(eO[0],eO[1])),eN==null?null:{$:1,$0:(eP=eN.$0,function(eR){return eQ(eP,eR);})}),eM==null?a.ignore:eM.$0);return Z.Button(eK[0],K.getAttrs(eG,eJ[0],eJ[1]),eL);});};K.createInput=function(eG,eH,eI,eJ){return K.turnToView(function(){var eK,eL,eM,eN,eO;eK=(eL=(eM=((K.splitName())(eG))(eI),k.tryGetVoV(eM[0],eM[1])),(eN=(eO=K.getAttrs(eG,eJ[0],eJ[1]),function(eP){return Z.Input(eO,eP);}),eL==null?null:{$:1,$0:eN(eL.$0)}));return eK==null?K.errDoc((function(eP){return function(eQ){return eP("Missing var: "+bD.toSafe(eQ));};}(a.id))(eI)):eK.$0;});};K.createTextArea=function(eG,eH,eI,eJ){return K.turnToView(function(){var eK,eL,eM,eN,eO;eK=(eL=(eM=((K.splitName())(eG))(eI),k.tryGetVoV(eM[0],eM[1])),(eN=(eO=K.getAttrs(eG,eJ[0],eJ[1]),function(eP){return Z.InputArea(eO,eP);}),eL==null?null:{$:1,$0:eN(eL.$0)}));return eK==null?K.errDoc((function(eP){return function(eQ){return eP("Missing var: "+bD.toSafe(eQ));};}(a.id))(eI)):eK.$0;});};K.createElement=function(eG,eH,eI,eJ,eK){var eL;eL=[K.turnToView(function(){return Z.Concat(K.getDocs(eG,eK));})];return Z.Element(eI,K.getAttrs(eG,eJ[0],eJ[1]),eL);};K.createDoc=function(eG,eH,eI,eJ){return K.turnToView(function(){var eK,eL,eM;eK=(eL=(eM=((K.splitName())(eG))(eI),k.tryGetDoc(eM[0],eM[1])),eL==null?null:{$:1,$0:K.getDocFinal(eJ,eL.$0)});return eK==null?K.errDoc((function(eN){return function(eO){return eN("Missing doc: "+bD.toSafe(eO));};}(a.id))(eI)):eK.$0;});};K.createTemplate=function(eG,eH,eI,eJ,eK){return K.turnToView(function(){var eL,eM,eN,eO,eP,eQ;eN=K.getAttrs(eG,eJ[0],eJ[1]);c_.LoadLocalTemplates("local");function eR(eT,eU){var eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4,e5,e6;eV=K.Identifier(eU[0],eU[1]);return eV!=null&&eV.$==1?(eW=eV.$0,eX=eT[0],eY=(eZ=(e0=(e1=((K.splitName())(eG))(eW),k.tryGetDoc(e1[0],e1[1])),e0==null?null:{$:1,$0:{$:0,$0:eX.toLowerCase(),$1:(K.getDocF(cx.Empty,e0.$0))[0]}}),eZ==null?(e2=(e3=((K.splitName())(eG))(eW),k.tryGetVar(e3[0],e3[1])),e2==null?null:{$:1,$0:{$:8,$0:eX.toLowerCase(),$1:e2.$0.varVar}}):eZ),eY==null?{$:0,$0:eX.toLowerCase(),$1:K.errDoc((function(e7){return function(e8){return e7("Missing element: "+bD.toSafe(e8));};}(a.id))(eW))}:eY.$0):(e4=eT[0],e5=K.getTextData(eG,eU[0]),e5.$==1?{$:2,$0:e4.toLowerCase(),$1:e5.$0}:e5.$==2?(e6=e5.$0,{$:4,$0:e4.toLowerCase(),$1:function(e7){return function(e8){return k.callFunction(e7,e8,e6.actFunction);};}}):{$:1,$0:e4.toLowerCase(),$1:e5.$0});}function eS(eT,eU){return eT%2===0;}try{eM={$:1,$0:(eO=(eP=bc.map(function(eT){return eR(eT[0],eT[1]);},bc.map(function(eT){return eT[1];},bc.filter(function(eT){return eS(eT[0],eT[1]);},bc.indexed(bc.pairwise(eK))))),(bc.isEmpty(eN)?a.id:(eQ=[{$:3,$0:"attrs",$1:cS.Concat(eN)}],function(eT){return bc.append(eQ,eT);}))(eP)),c_.NamedTemplate("local",{$:1,$0:eI[0].toLowerCase()},eO))};}catch(eT){eM=null;}return eM==null?K.errDoc((function(eU){return function(eV){return eU("Missing template: "+bD.toSafe(eV));};}(a.id))(eI[0])):eM.$0;});};K.createConcat=function(eG,eH,eI){return K.turnToView(function(){return Z.Concat(K.getDocs(eG,eI));});};K.createVar=function(eG,eH,eI){return i.Create$1(eI);};K.createView=function(eG,eH,eI,eJ){return p.Bind(function(){var eK,eM;function eL(eN,eO){var eP,eQ,eR,eS,eT,eU,eV,eW,eX;eP=K.Identifier(eN,eO);return eP!=null&&eP.$==1?(eQ=eP.$0,(eR=(eS=(eT=(eU=((K.splitName())(eG))(eQ),k.tryGetDoc(eU[0],eU[1])),eT==null?null:{$:1,$0:p.Const((K.getDocF(cx.Empty,eT.$0))[0])}),eS==null?(eV=(eW=((K.splitName())(eG))(eQ),k.tryGetWoW(eW[0],eW[1])),eV==null?null:{$:1,$0:p.Map(a.id,eV.$0)}):eS),eR==null?p.Const((function(eY){return function(eZ){return eY("Missing element: "+bD.toSafe(eZ));};}(a.id))(eQ)):eR.$0)):(eX=K.getTextData(eG,eN),eX.$==1?p.Map(a.id,eX.$0):eX.$==2?p.Const(eX.$0):p.Const(eX.$0));}eM=K.findJSEntry(eI);if(eM!=null&&eM.$==1){if(!(eM.$0 instanceof a.Function))return p.Const((function(eN){return function(eO){return eN("Not a JavaScript function: "+bD.toSafe(eO));};}(a.id))(eI));else if(eM!=null&&eM.$==1){eK=eM.$0;return eJ.$==0?p.Const(eK()):p.Map(function(eN){return eK.apply(null,eN);},p.Sequence(bc.map(function(eN){return eL(eN[0],eN[1]);},eJ)));}else throw new dA.New("D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\LayoutEngine\\src\\LayoutEngine.fs",1232,27);}else return p.Const((function(eN){return function(eO){return eN("Missing JavaScript function: "+bD.toSafe(eO));};}(a.id))(eI));},k.mainDocV().get_View());};K.addNewLayout=function(eG,eH){var eI,eJ;K.addLayout((eI=(eJ=!J.Equals(eH,null)?eH:"\r\n            split horizontal 0-50-100 AppFramework.AppFwkClient Hello\r\n            Hello h1 \"color:blue; class=btn-primary\" \"How are you today?\" Ask\r\n            Ask Doc InputLabel \"placeholder=Type you answer here...\" \"Answer:\" AppFramework.mainDocV  \r\n            ",(bK.unindentStr())(eJ)),K.newLyt(!J.Equals(eH,null)?eG:"Lyt_"+bj.Replace(a.String(bt.NewGuid()),"-",""),eI)));};K.getDocF=function(eG,eH){var eI,eJ;eJ=eH.docDoc;switch(eJ.$==1?eG.$==1?(eI=[eJ.$0,eG.$0[0],eG.$1],1):6:eJ.$==2?eG.$==1?eG.$1.$==1?(eI=[eJ.$0,eG.$0[0],eG.$1.$0[0],eG.$1.$1],2):6:6:eJ.$==3?eG.$==1?eG.$1.$==1?eG.$1.$1.$==1?(eI=[eJ.$0,eG.$0[0],eG.$1.$0[0],eG.$1.$1.$0[0],eG.$1.$1.$1],3):6:6:6:eJ.$==4?eG.$==1?eG.$1.$==1?eG.$1.$1.$==1?eG.$1.$1.$1.$==1?(eI=[eJ.$0,eG.$0[0],eG.$1.$0[0],eG.$1.$1.$0[0],eG.$1.$1.$1.$0[0],eG.$1.$1.$1.$1],4):6:6:6:6:eJ.$==5?eG.$==1?eG.$1.$==1?eG.$1.$1.$==1?eG.$1.$1.$1.$==1?eG.$1.$1.$1.$1.$==1?(eI=[eJ.$0,eG.$0[0],eG.$1.$0[0],eG.$1.$1.$0[0],eG.$1.$1.$1.$0[0],eG.$1.$1.$1.$1.$0[0],eG.$1.$1.$1.$1.$1],5):6:6:6:6:6:(eI=[eJ.$0,eG],0)){case 0:return[eI[0].f(),eI[1]];case 1:return[eI[0](eI[1]),eI[2]];case 2:return[(eI[0](eI[1]))(eI[2]),eI[3]];case 3:return[((eI[0](eI[1]))(eI[2]))(eI[3]),eI[4]];case 4:return[(((eI[0](eI[1]))(eI[2]))(eI[3]))(eI[4]),eI[5]];case 5:return[((((eI[0](eI[1]))(eI[2]))(eI[3]))(eI[4]))(eI[5]),eI[6]];case 6:return[Z.Element("div",[],[Z.TextNode((((ey.Curried3(function(eK,eL,eM){return eK("Parameters do not coincide with definition "+cX.p(eL)+" - "+bD.printList(function(eN){return"("+bD.prettyPrint(eN[0])+", "+bD.prettyPrint(eN[1])+")";},eM));}))(a.id))(eH))(eG))]),cx.Empty];}};K.splitTokens=function(eG){return bz.ofSeq(bc.collect(a.id,bc.mapi(function(eH,eI){var eJ;return eH%2===1?[[eI,true]]:(eJ=bj.Trim(eI),eJ===""?[]:T.map(function(eK){return[eK,false];},bj.SplitChars(eJ,[" "],1)));},bK.splitByChar("\"",eG))));};K.Identifier=function(eG,eH){var eI,eJ,eK;return(eJ=j.REGEX$1("^[$a-zA-Z_][0-9a-zA-Z_\\.\\-$]*$","",eG),eJ!=null&&eJ.$==1&&((eK=eJ.$0,!J.Equals(eK,null)&&eK.length===1)&&(eH?false:(eI=T.get(eJ.$0,0),true))))?{$:1,$0:eI}:null;};K.Vertical=function(eG,eH){var eI,eJ,eK,eL,eM,eN;return(eH?false:eG==="vertical")?{$:0,$0:null}:(eH?false:eG==="horizontal")?{$:1,$0:null}:(eH?false:eG==="layout")?{$:2,$0:null}:(eH?false:eG==="grid")?{$:3,$0:null}:(eH?false:eG==="template")?{$:4,$0:null}:(eN=K.Identifier(eG,eH),eN!=null&&eN.$==1?{$:5,$0:eN.$0}:{$:6,$0:null});};K.getExtraLines=function(eG,eH){var eI,eJ,eK,eL;eI=(eJ=(eK=bc.tryFindIndex(function(eM){return bj.Trim(eM)!==""&&!eG(eM);},bc.skip(1,eH)),eK==null?null:{$:1,$0:1+eK.$0}),(eL=T.length(eH),eJ==null?eL:eJ.$0));return[cc.array(eH,{$:1,$0:1},{$:1,$0:eI-1}),cc.array(eH,{$:1,$0:eI},null)];};K.createLines=function(eG,eH,eI,eJ,eK,eL){var eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV;eM=bj.replicate(eH,":");eN=":"+eM;eO=bc.tryHead(eL);return eO!=null&&eO.$==1?(eP=bK.StartsWith(eM,bj.Trim(eO.$0)),eP!=null&&eP.$==1?(eQ=eP.$0,(eR=K.getExtraLines(function(eW){return bj.StartsWith(bj.Trim(eW),eN);},eL),(eS=(((ey.Curried3(function(eW,eX,eY){return eW(bD.toSafe(eX)+"_"+a.String(eY));}))(a.id))(eG))(eK),(eT=K.createLines(eS,eH+1,[],[],1,eR[0]),(eU=eT[1],(eV=eT[0],K.createLines(eG,eH,T.ofSeq(bc.delay(function(){return bc.append(eI,bc.delay(function(){return[eS];}));})),T.ofSeq(bc.delay(function(){return bc.append(eJ,bc.delay(function(){return bc.append([eS+" "+eQ+" "+bj.concat(" ",eV)],bc.delay(function(){return eU;}));}));})),eK+1,eR[1]))))))):[eI,eJ]):[eI,eJ];};K.Measures$1=function(eG,eH){var eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR;eI=[eG,eH];return eI[1]?null:(eJ=bK.splitByChar("-",eI[0]),!J.Equals(eJ,null)&&eJ.length===1&&(eL=(cz.Double())(T.get(eJ,0)),eL!=null&&eL.$==1&&(eK=eL.$0,true))?{$:1,$0:new dQ({$:0,$0:eK,$1:true})}:!J.Equals(eJ,null)&&eJ.length===2&&(T.get(eJ,0)===""&&(eN=(cz.Double())(T.get(eJ,1)),eN!=null&&eN.$==1&&(eM=eN.$0,true)))?{$:1,$0:new dQ({$:0,$0:eM,$1:false})}:!J.Equals(eJ,null)&&eJ.length===3&&(eP=(cz.Double())(T.get(eJ,0)),eP!=null&&eP.$==1&&(eQ=(cz.Double())(T.get(eJ,1)),eQ!=null&&eQ.$==1&&(eR=(cz.Double())(T.get(eJ,2)),eR!=null&&eR.$==1&&(eO=[eR.$0,eP.$0,eQ.$0],true))))?{$:1,$0:new dQ({$:1,$0:eO[1],$1:eO[2],$2:eO[0]})}:null);};K.entryDoc=function(eG,eH){return{$:1,$0:{$:2,$0:k.newDoc(eG,r.Create(function(){return eH;}))}};};K.createSplitterM=function(){bV.$cctor();return bV.createSplitterM;};K.Button=function(eG,eH){var eI,eJ,eK,eL;return(eH?false:eG==="button")?{$:0,$0:null}:(eH?false:eG==="input")?{$:1,$0:null}:(eH?false:eG==="textarea")?{$:2,$0:null}:(eH?false:eG==="select")?{$:3,$0:null}:{$:4,$0:null};};K.createButtonM=function(){bV.$cctor();return bV.createButtonM;};K.createInputM=function(){bV.$cctor();return bV.createInputM;};K.createTextAreaM=function(){bV.$cctor();return bV.createTextAreaM;};K.Var=function(eG,eH){var eI,eJ,eK,eL;return(eH?false:eG==="Var")?{$:0,$0:null}:(eH?false:eG==="Doc")?{$:1,$0:null}:(eH?false:eG==="View")?{$:2,$0:null}:(eH?false:eG==="concat")?{$:3,$0:null}:{$:4,$0:null};};K.entryVar=function(eG,eH){return{$:1,$0:{$:0,$0:k.newVar(eG,eH)}};};K.createVarM=function(){bV.$cctor();return bV.createVarM;};K.createDocM=function(){bV.$cctor();return bV.createDocM;};K.entryView=function(eG,eH){return{$:1,$0:{$:1,$0:k.newViw(eG,eH)}};};K.createViewM=function(){bV.$cctor();return bV.createViewM;};K.createTemplateM=function(){bV.$cctor();return bV.createTemplateM;};K.createConcatM=function(){bV.$cctor();return bV.createConcatM;};K.createElementM=function(){bV.$cctor();return bV.createElementM;};K.getDocs=function(eG,eH){var eI;return eH.$==0?cx.Empty:(eI=K.getOneDoc(eG,eH),new cx({$:1,$0:eI[0],$1:K.getDocs(eG,eI[1])}));};K.pairOfDocs=function(eG,eH){var eI;eI=p.Map(function(eJ){var eK;return eJ.$==1&&(eJ.$1.$==1&&(eJ.$1.$1.$==0&&(eK=[eJ.$0,eJ.$1.$0],true)))?[eK[0],eK[1]]:[K.errDoc((function(eL){return function(eM){return eL("splitter expects exactly 2 elements "+bD.printList(function(eN){return"("+bD.prettyPrint(eN[0])+", "+bD.prettyPrint(eN[1])+")";},eM));};}(a.id))(eH)),K.errDoc("part 2")];},p.Map(function(){return K.getDocs(eG,eH);},k.mainDocV().get_View()));return[Z.EmbedView(p.Map(function(eJ){return eJ[0];},eI)),Z.EmbedView(p.Map(function(eJ){return eJ[1];},eI))];};K.variableSplitter=function(eG,eH,eI,eJ,eK,eL){return Z.Element("wcomp-splitter",bz.ofSeq(bc.delay(function(){return bc.append(eG?[cS.Create("vertical","")]:[],bc.delay(function(){return bc.append([cS.Create("min",a.String(eH))],bc.delay(function(){return bc.append([cS.Create("value",a.String(eI))],bc.delay(function(){return[cS.Create("max",a.String(eJ))];}));}));}));})),bz.ofArray([eK,eL]));};K.fixedSplitter=function(eG,eH,eI,eJ,eK){var eL,eM,eN,eO,eP,eQ,eR;eL=(((eI?ey.Curried3(function(eS,eT,eU){return eS(eT.toFixed(6)+"px calc(100% - "+eU.toFixed(6)+"px)");}):ey.Curried3(function(eS,eT,eU){return eS("calc(100% - "+eT.toFixed(6)+"px) "+eU.toFixed(6)+"px");}))(a.id))(eH))(eH);return eG?(eM=U.Make().WithHole({$:1,$0:"partsizes",$1:eL}).WithHole({$:0,$0:"first",$1:eJ}).WithHole({$:0,$0:"second",$1:eK}),(eN=V.CompleteHoles(eM.k,eM.h,[]),(eO=new S.New(eN[1],cY.fixedsplitterver(eN[0])),(eM.i=eO,eO)))).get_Doc():(eP=U.Make().WithHole({$:1,$0:"partsizes",$1:eL}).WithHole({$:0,$0:"first",$1:eJ}).WithHole({$:0,$0:"second",$1:eK}),(eQ=V.CompleteHoles(eP.k,eP.h,[]),(eR=new S.New(eQ[1],cY.fixedsplitterhor(eQ[0])),(eP.i=eR,eR)))).get_Doc();};K.findJSEntry=function(eG){return bc.fold(function(eH,eI){var eJ;return eH==null?null:(eJ=eH.$0,!eJ[eI]?null:{$:1,$0:eJ[eI]});},{$:1,$0:a},bK.splitByChar(".",eG));};K.getOneDoc=function(eG,eH){var eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW;return eH.$==1&&(eJ=(eK=eH.$0,K.Identifier(eK[0],eK[1])),eJ!=null&&eJ.$==1&&(eI=[eJ.$0,eH.$1],true))?(eL=eI[0],(eM=eI[1],(eN=((K.splitName())(eG))(eL),(eO=eN[0],(eP=eN[1],(eQ=(eR=k.tryGetDoc(eO,eP),eR==null?null:{$:1,$0:K.getDocF(eM,eR.$0)}),eQ==null?(eS=(eT=k.tryGetWoW(eO,eP),eT==null?null:{$:1,$0:[Z.TextView(eT.$0),eM]}),eS==null?[K.errDoc((eU=(function(eX){return function(eY){return eX("Missing doc: "+bD.toSafe(eY));};}(a.id))(eL),(bd.print(eU),eU))),eM]:eS.$0):eQ.$0)))))):eH.$==0?[Z.get_Empty(),cx.Empty]:(eV=eH.$1,(eW=K.getTextData(eG,eH.$0[0]),eW.$==1?[Z.TextView(eW.$0),eV]:eW.$==2?[K.errDoc((function(eX){return function(eY){return eX("Unexpected action: "+bD.toSafe(eY));};}(a.id))(eW.$0.actName)),eV]:[Z.TextNode(eW.$0),eV]));};L.ofObj=function(eG){return eG==null?null:{$:1,$0:eG};};N.New=function(eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1){return{id:eG,idPadreO:eH,idForAuthorize:eI,idForAdminSeg:eJ,influyente:eK,datosPersonales:eL,contactos:eM,identificacion:eN,isInternal:eO,status:eP,diaPago:eQ,tipo:eR,fechaRegistro:eS,fechaStatus:eT,nReferidos:eU,nRefActivos:eV,nDescendientes:eW,nDescActivos:eX,comision:eY,nivel:eZ,documentos:e0,docPendientes:e1};};O.empty=function(){b1.$cctor();return b1.empty;};O.nombre2=function(eG){var eH,eI;return(eH=(eI=eG.titulo,eI==null?null:{$:1,$0:" "+eI.$0}),eH==null?"":eH.$0)+bj.Trim(eG.nombre1+" "+eG.nombre2)+" "+bj.Trim(eG.apellido1+" "+eG.apellido2);};O.nombre=function(eG){var eH,eI;return(eH=(eI=eG.titulo,eI==null?null:{$:1,$0:" "+eI.$0}),eH==null?"":eH.$0)+(eG.apellido1===""?"":bj.Trim(eG.apellido1+" "+eG.apellido2)+", ")+eG.nombre1+" "+eG.nombre2;};O.busqueda=function(eG){var eH,eI;function eJ(eP,eQ){return[eP,T.ofSeq(bc.map(function(eR){return eR[1];},eQ))];}function eK(eP){var eQ,eR;eQ=(eR=null,[eI.TryGetValue(eP,{get:function(){return eR;},set:function(eS){eR=eS;}}),eR]);return eQ[0]?{$:1,$0:eQ[1]}:null;}function eL(eP){var eQ,eR;eQ=(eR=null,[eH.TryGetValue({$:1,$0:eP},{get:function(){return eR;},set:function(eS){eR=eS;}}),eR]);return eQ[0]?eQ[1]:[];}function eM(eP){var eQ,eR;eQ=(eR=eP==null?null:eK(eP.$0),eR==null?null:{$:1,$0:1+eM(eR.$0.idPadreO)});return eQ==null?0:eQ.$0;}function eN(eP){return T.choose(eK,eL(eP.id));}function eO(eP){return T.ofSeq(bc.delay(function(){return bc.collect(function(eQ){return bc.append([eQ],bc.delay(function(){return eO(eQ);}));},eN(eP));}));}eH=new ct.New(bc.map(function(eP){return eJ(eP[0],eP[1]);},bc.groupBy(function(eP){return eP[0];},bc.map(function(eP){return[eP.idPadreO,eP.id];},eG))));eI=new ct.New(bc.map(function(eP){return[eP.id,eP];},eG));return bf.New(eL,eM,function(eP){try{return eI.get_Item(eP);}catch(eQ){return(function(eR){return function(eS){return eR("buscarAliado failed: "+bb.p$11(eS));};}(o.FailWith))(eP);}},eK,eN,eO);};O.comision=function(eG,eH){var eI;eI=O.premisas(eG,eH);return[eH.nRefActivos*eI[0],eH.nDescActivos*eI[1]];};O.premisas=function(eG,eH){var eI;eI=eH.tipo.$==0?[eG.comisionReferidosMaster,eG.comisionDescendientesMaster]:[eG.comisionReferidosRegular,eG.comisionDescendientesRegular];return eH.status.$==1?[eI[0],eI[1]]:[0,0];};O.dia=function(eG){return eG.$==1?5:eG.$==2?10:eG.$==3?15:eG.$==4?20:eG.$==5?25:1;};O.correo=function(eG){var eH;eH=bc.tryHead(bc.choose(function(eI){return eI.$==1?{$:1,$0:eI.$0.email}:null;},eG.contactos));return eH==null?"":eH.$0;};S=R.TemplateInstance=ey.Class({get_Doc:function(){return this.doc;},Hole:function(eG){return this.allVars.get_Item(eG);}},g,S);S.New=ey.Ctor(function(eG,eH){g.New.call(this);this.doc=eH;this.allVars=eG.$==0?eG.$0:o.FailWith("Should not happen");},S);T.get=function(eG,eH){T.checkBounds(eG,eH);return eG[eH];};T.checkBounds=function(eG,eH){if(eH<0||eH>=eG.length)o.FailWith("Index was outside the bounds of the array.");};T.length=function(eG){return eG.dims===2?eG.length*eG.length:eG.length;};T.set=function(eG,eH,eI){T.checkBounds(eG,eH);eG[eH]=eI;};U=R.ProviderBuilder=ey.Class({WithHole:function(eG){this.h.push(eG);return this;}},null,U);U.Make=function(){var eG;return U.New(null,(eG=bt.NewGuid(),a.String(eG)),[]);};U.New=function(eG,eH,eI){return new U({i:eG,k:eH,h:eI});};V.CompleteHoles=function(eG,eH,eI){var eK,eL,eM,eN,eO,eP;function eJ(eQ,eR){var eS,eT,eU,eV;return eL.Contains(eQ)?null:(eS=eR===0?(eT=i.Create$1(""),[{$:8,$0:eQ,$1:eT},eT]):eR===1?(eU=i.Create$1(0),[{$:13,$0:eQ,$1:eU},eU]):eR===2?(eV=i.Create$1(false),[{$:9,$0:eQ,$1:eV},eV]):o.FailWith("Invalid value type"),(eK.set_Item(eQ,eS[1]),{$:1,$0:eS[0]}));}eK=new b3.New$5();eL=new b4.New$3();eM=cu.Get(eH);try{while(eM.MoveNext()){eN=eM.Current();(eN.$==8?(eO=[eN.$0,b5.Box(eN.$1)],true):eN.$==11?(eO=[eN.$0,b5.Box(eN.$1)],true):eN.$==10?(eO=[eN.$0,b5.Box(eN.$1)],true):eN.$==13?(eO=[eN.$0,b5.Box(eN.$1)],true):eN.$==12?(eO=[eN.$0,b5.Box(eN.$1)],true):eN.$==9&&(eO=[eN.$0,b5.Box(eN.$1)],true))?(eP=eO[0],eL.Add(eP),eK.set_Item(eP,eO[1])):void 0;}}finally{if(typeof eM=="object"&&"Dispose"in eM)eM.Dispose();}return[bc.append(eH,T.choose(function(eQ){return eJ(eQ[0],eQ[1]);},eI)),{$:0,$0:eK}];};V.EventQ2=function(eG,eH,eI,eJ){return{$:5,$0:eH,$1:true,$2:function(eK){return function(eL){return eJ({Vars:eI(),Target:eK,Event:eL});};}};};W.opcionesadministrador=function(eG){c_.LoadLocalTemplates("indexdes");return eG?c_.NamedTemplate("indexdes",{$:1,$0:"opcionesadministrador"},eG):void 0;};W.filaaliado=function(eG){c_.LoadLocalTemplates("indexdes");return eG?c_.NamedTemplate("indexdes",{$:1,$0:"filaaliado"},eG):void 0;};W.tablaaliados=function(eG){c_.LoadLocalTemplates("indexdes");return eG?c_.NamedTemplate("indexdes",{$:1,$0:"tablaaliados"},eG):void 0;};W.aliado=function(eG){c_.LoadLocalTemplates("indexdes");return eG?c_.NamedTemplate("indexdes",{$:1,$0:"aliado"},eG):void 0;};W.calculo=function(eG){c_.LoadLocalTemplates("indexdes");return eG?c_.NamedTemplate("indexdes",{$:1,$0:"calculo"},eG):void 0;};X.p$3=function(eG){return eG.$==2?"Mensaje "+bD.prettyPrint(eG.$0):eG.$==1?"NuevoRegistro "+bD.prettyPrint(eG.$0):"ROk";};W.formaregistro=function(eG){c_.LoadLocalTemplates("indexdes");return eG?c_.NamedTemplate("indexdes",{$:1,$0:"formaregistro"},eG):void 0;};W.filaconsolidado=function(eG){c_.LoadLocalTemplates("indexdes");return eG?c_.NamedTemplate("indexdes",{$:1,$0:"filaconsolidado"},eG):void 0;};W.consolidado=function(eG){c_.LoadLocalTemplates("indexdes");return eG?c_.NamedTemplate("indexdes",{$:1,$0:"consolidado"},eG):void 0;};W.filapago=function(eG){c_.LoadLocalTemplates("indexdes");return eG?c_.NamedTemplate("indexdes",{$:1,$0:"filapago"},eG):void 0;};W.tablapagos=function(eG){c_.LoadLocalTemplates("indexdes");return eG?c_.NamedTemplate("indexdes",{$:1,$0:"tablapagos"},eG):void 0;};W.filadocs=function(eG){c_.LoadLocalTemplates("indexdes");return eG?c_.NamedTemplate("indexdes",{$:1,$0:"filadocs"},eG):void 0;};W.enlacedocumento=function(eG){c_.LoadLocalTemplates("indexdes");return eG?c_.NamedTemplate("indexdes",{$:1,$0:"enlacedocumento"},eG):void 0;};W.subirdocumentos=function(eG){c_.LoadLocalTemplates("indexdes");return eG?c_.NamedTemplate("indexdes",{$:1,$0:"subirdocumentos"},eG):void 0;};W.autorizacionpago=function(eG){c_.LoadLocalTemplates("indexdes");return eG?c_.NamedTemplate("indexdes",{$:1,$0:"autorizacionpago"},eG):void 0;};W.contrato=function(eG){c_.LoadLocalTemplates("indexdes");return eG?c_.NamedTemplate("indexdes",{$:1,$0:"contrato"},eG):void 0;};W.pendientes=function(eG){c_.LoadLocalTemplates("indexdes");return eG?c_.NamedTemplate("indexdes",{$:1,$0:"pendientes"},eG):void 0;};Y.r=function(){return de.JSUnion(void 0,[[null,[[null,[]]],[]],[null,[[null,["NoUser"]]],[]],[null,[[null,["PreRegister"]]],[]],[null,[[null,["Content"]]],[de.rString()]],[null,[[null,["Pdf"]]],[de.rWildcard()]],[null,[[null,["Video"]]],[de.rWildcard()]]]);};X.p=function(eG){return eG.$==5?"Dia25":eG.$==4?"Dia20":eG.$==3?"Dia15":eG.$==2?"Dia10":eG.$==1?"Dia05":"Dia01";};W.datospersonales=function(eG){c_.LoadLocalTemplates("indexdes");return eG?c_.NamedTemplate("indexdes",{$:1,$0:"datospersonales"},eG):void 0;};X.p$2=function(eG){return eG.$==2?"Empresa":eG.$==1?"Femenino":"Masculino";};W.correo=function(eG){c_.LoadLocalTemplates("indexdes");return eG?c_.NamedTemplate("indexdes",{$:1,$0:"correo"},eG):void 0;};W.telefono=function(eG){c_.LoadLocalTemplates("indexdes");return eG?c_.NamedTemplate("indexdes",{$:1,$0:"telefono"},eG):void 0;};W.direccion=function(eG){c_.LoadLocalTemplates("indexdes");return eG?c_.NamedTemplate("indexdes",{$:1,$0:"direccion"},eG):void 0;};W.formadatospersonales=function(eG){c_.LoadLocalTemplates("indexdes");return eG?c_.NamedTemplate("indexdes",{$:1,$0:"formadatospersonales"},eG):void 0;};W.formacontactos=function(eG){c_.LoadLocalTemplates("indexdes");return eG?c_.NamedTemplate("indexdes",{$:1,$0:"formacontactos"},eG):void 0;};W.formacuentas=function(eG){c_.LoadLocalTemplates("indexdes");return eG?c_.NamedTemplate("indexdes",{$:1,$0:"formacuentas"},eG):void 0;};W.formafirma=function(eG){c_.LoadLocalTemplates("indexdes");return eG?c_.NamedTemplate("indexdes",{$:1,$0:"formafirma"},eG):void 0;};W.transaccion=function(eG){c_.LoadLocalTemplates("indexdes");return eG?c_.NamedTemplate("indexdes",{$:1,$0:"transaccion"},eG):void 0;};W.transacciones=function(eG){c_.LoadLocalTemplates("indexdes");return eG?c_.NamedTemplate("indexdes",{$:1,$0:"transacciones"},eG):void 0;};X.p$4=function(eG){return"IdPayment "+bD.prettyPrint(eG.$0);};W.cuentabancaria=function(eG){c_.LoadLocalTemplates("indexdes");return eG?c_.NamedTemplate("indexdes",{$:1,$0:"cuentabancaria"},eG):void 0;};W.tarjetacredito=function(eG){c_.LoadLocalTemplates("indexdes");return eG?c_.NamedTemplate("indexdes",{$:1,$0:"tarjetacredito"},eG):void 0;};X.p$1=function(eG){return eG.$==3?"ResetPassword":eG.$==2?"EditProfile":eG.$==1?"SignUp":"SignIn";};Z=h.Doc=ey.Class({},g,Z);Z.get_Empty=function(){return Z.Mk(null,p.Const());};Z.Concat=function(eG){var eH;eH=cT.ofSeqNonCopying(eG);return cT.TreeReduce(Z.get_Empty(),Z.Append,eH);};Z.BindView=function(eG,eH){return Z.EmbedView(p.Map(eG,eH));};Z.Mk=function(eG,eH){return new Z.New(eG,eH);};Z.ConvertSeqBy=function(eG,eH,eI){return Z.Flatten(p.MapSeqCachedViewBy(eG,function(eJ,eK){return(eH(eJ))(eK);},eI));};Z.EmbedView=function(eG){var eH;eH=dn.CreateEmbedNode();return Z.Mk({$:2,$0:eH},p.Map(a.ignore,p.Bind(function(eI){dn.UpdateEmbedNode(eH,eI.docNode);return eI.updates;},eG)));};Z.Append=function(eG,eH){return Z.Mk({$:0,$0:eG.docNode,$1:eH.docNode},p.Map2Unit(eG.updates,eH.updates));};Z.TextNode=function(eG){return Z.Mk({$:5,$0:dr.CreateText(eG)},p.Const());};Z.Verbatim=function(eG){var eH;return Z.Mk(cT.MapTreeReduce(function(eI){return J.Equals(eI.nodeType,G.TEXT_NODE)?{$:5,$0:eI}:{$:1,$0:dn.CreateElemNode(eI,dq.EmptyAttr(),null)};},null,function(eI,eJ){return{$:0,$0:eI,$1:eJ};},(eH=eA.parseHTML(eG),J.Equals(eH,null)?[]:eH)),p.Const());};Z.Flatten=function(eG){return Z.EmbedView(p.Map(Z.Concat,eG));};Z.ConvertBy=function(eG,eH,eI){return Z.Flatten(p.MapSeqCachedBy(eG,eH,eI));};Z.Button=function(eG,eH,eI){var eJ;eJ=cS.Concat(eH);return dX.New(Z.Clickable("button",eI),eJ,Z.TextNode(eG));};Z.Element=function(eG,eH,eI){var eJ,eK;eJ=cS.Concat(eH);eK=Z.Concat(eI);return dX.New(dr.CreateElement(eG),eJ,eK);};Z.Input=function(eG,eH){return Z.InputInternal("input",function(){return bc.append(eG,[cW.Value(eH)]);});};Z.RunInPlace=function(eG,eH,eI){var eJ;eJ=dn.CreateRunState(eH,eI.docNode);p.Sink(d1.get_UseAnimations()||d2.BatchUpdatesEnabled()?d3.StartProcessor(dn.PerformAnimatedUpdate(eG,eJ,eI.docNode)):function(){dn.PerformSyncUpdate(eG,eJ,eI.docNode);},eI.updates);};Z.Clickable=function(eG,eH){var eI;eI=dr.CreateElement(eG);eI.addEventListener("click",function(eJ){eJ.preventDefault();return eH();},false);return eI;};Z.TextView=function(eG){var eH;eH=dn.CreateTextNode();return Z.Mk({$:4,$0:eH},p.Map(function(eI){dn.UpdateTextNode(eH,eI);},eG));};Z.InputInternal=function(eG,eH){var eI;eI=dr.CreateElement(eG);return dX.New(eI,cS.Concat(eH(eI)),Z.get_Empty());};Z.Run=function(eG,eH){dn.LinkElement(eG,eH.docNode);Z.RunInPlace(false,eG,eH);};Z.InputArea=function(eG,eH){return Z.InputInternal("textarea",function(){return bc.append(eG,[cW.Value(eH)]);});};Z.New=ey.Ctor(function(eG,eH){g.New.call(this);this.docNode=eG;this.updates=eH;},Z);_0.llamadas=function(){_5.$cctor();return _5.llamadas;};_0.ejecutarDataEventoNuevo=function(eG){var eH;function eI(eJ,eK){return(function(eL){var eM;eM=n.get_LoggedId();return function(eN){return(new cI.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc0.ejecutarDataEventoNuevo:181407377",[eL,eM,eN]);};}(eJ))(eK);}eH=bp.asyncResult();return eH.Run(eH.Delay(function(){return eH.TryFinally(eH.Delay(function(){return bH["AsyncResultBuilder.Bind"](eH,(_0.addLlamadas())(1),function(){function eJ(eK){return cR.Return(eK);}return eH.Bind$1(cH.absorbO(function(){self.location.href="/Login";return"User not logged in";},cR.Bind((bS.getTokenO())(),function(eK){return eJ(bF.rtn(eK));})),function(eK){return eH.ReturnFrom$1(eI(eK,eG));});});}),function(){cR.Start((_0.addLlamadas())(-1),null);});}));};_0.iterA=function(eG){cH.iterA(function(eH){a.alert(eH);},a.ignore,eG);};_0.addLlamadas=function(){_5.$cctor();return _5.addLlamadas;};_0.obtenerFormasDePagoPara=function(eG){var eH;function eI(eJ,eK){return(new cI.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc0.obtenerFormasDePagoPara:-1929458241",[eJ,eK]);}eH=bp.asyncResult();return eH.Run(eH.Delay(function(){return eH.TryFinally(eH.Delay(function(){return bH["AsyncResultBuilder.Bind"](eH,(_0.addLlamadas())(1),function(){function eJ(eK){return cR.Return(eK);}return eH.Bind$1(cH.absorbO(function(){self.location.href="/Login";return"User not logged in";},cR.Bind((bS.getTokenO())(),function(eK){return eJ(bF.rtn(eK));})),function(eK){return eH.ReturnFrom$1(eI(eK,eG));});});}),function(){cR.Start((_0.addLlamadas())(-1),null);});}));};_0.obtenerListaDocs=function(eG){var eH;function eI(eJ,eK){return(new cI.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc0.obtenerListaDocs:-881142106",[eJ,eK]);}eH=bp.asyncResult();return eH.Run(eH.Delay(function(){return eH.TryFinally(eH.Delay(function(){return bH["AsyncResultBuilder.Bind"](eH,(_0.addLlamadas())(1),function(){function eJ(eK){return cR.Return(eK);}return eH.Bind$1(cH.absorbO(function(){self.location.href="/Login";return"User not logged in";},cR.Bind((bS.getTokenO())(),function(eK){return eJ(bF.rtn(eK));})),function(eK){return eH.ReturnFrom$1(eI(eK,eG));});});}),function(){cR.Start((_0.addLlamadas())(-1),null);});}));};_0.obtenerFormasDePagoId=function(eG){var eH;function eI(eJ,eK){return(new cI.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc0.obtenerFormasDePagoId:2063455187",[eJ,eK]);}eH=bp.asyncResult();return eH.Run(eH.Delay(function(){return eH.TryFinally(eH.Delay(function(){return bH["AsyncResultBuilder.Bind"](eH,(_0.addLlamadas())(1),function(){function eJ(eK){return cR.Return(eK);}return eH.Bind$1(cH.absorbO(function(){self.location.href="/Login";return"User not logged in";},cR.Bind((bS.getTokenO())(),function(eK){return eJ(bF.rtn(eK));})),function(eK){return eH.ReturnFrom$1(eI(eK,eG));});});}),function(){cR.Start((_0.addLlamadas())(-1),null);});}));};_0.enviarCorreosInvitacion=function(eG,eH){var eI,eJ;function eK(eL,eM){return(function(eN){var eO;eO=n.get_LoggedId();return function(eP){return(new cI.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc0.enviarCorreosInvitacion:1622714317",[eN,eO,eP[0],eP[1]]);};}(eL))(eM);}eI=[eG,eH];eJ=bp.asyncResult();return eJ.Run(eJ.Delay(function(){return eJ.TryFinally(eJ.Delay(function(){return bH["AsyncResultBuilder.Bind"](eJ,(_0.addLlamadas())(1),function(){function eL(eM){return cR.Return(eM);}return eJ.Bind$1(cH.absorbO(function(){self.location.href="/Login";return"User not logged in";},cR.Bind((bS.getTokenO())(),function(eM){return eL(bF.rtn(eM));})),function(eM){return eJ.ReturnFrom$1(eK(eM,eI));});});}),function(){cR.Start((_0.addLlamadas())(-1),null);});}));};_0.obtenerIdInfluyente=function(eG){var eH;function eI(eJ){return(new cI.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc0.obtenerIdInfluyente:231616815",[eJ]);}eH=null;return cR.Delay(function(){return cR.TryFinally(cR.Delay(function(){return cR.Bind((_0.addLlamadas())(1),function(){return eI(eG);});}),function(){cR.Start((_0.addLlamadas())(-1),null);});});};_0.obtenerUnions=function(){var eG;function eH(){return(new cI.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc0.obtenerUnions:-1742744641",[]);}eG=null;return cR.Delay(function(){return cR.TryFinally(cR.Delay(function(){return cR.Bind((_0.addLlamadas())(1),function(){return eH(void 0);});}),function(){cR.Start((_0.addLlamadas())(-1),null);});});};_0.obtenerTransaccionesPara=function(eG){var eH,eI;function eJ(eK,eL){return(new cI.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc0.obtenerTransaccionesPara:-1914339047",[eK,eL]);}eH=n.get_LoggedId();eI=bp.asyncResult();return eI.Run(eI.Delay(function(){return eI.TryFinally(eI.Delay(function(){return bH["AsyncResultBuilder.Bind"](eI,(_0.addLlamadas())(1),function(){function eK(eL){return cR.Return(eL);}return eI.Bind$1(cH.absorbO(function(){self.location.href="/Login";return"User not logged in";},cR.Bind((bS.getTokenO())(),function(eL){return eK(bF.rtn(eL));})),function(eL){return eI.ReturnFrom$1(eJ(eL,eH));});});}),function(){cR.Start((_0.addLlamadas())(-1),null);});}));};_0.agregarUsuarioSiEsNuevo=function(eG){var eH;function eI(eJ,eK){return(function(eL){var eM;eM=n.get_LoggedId();return function(eN){return(new cI.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc0.agregarUsuarioSiEsNuevo:1579629588",[eL,eM,eN]);};}(eJ))(eK);}eH=bp.asyncResult();return eH.Run(eH.Delay(function(){return eH.TryFinally(eH.Delay(function(){return bH["AsyncResultBuilder.Bind"](eH,(_0.addLlamadas())(1),function(){function eJ(eK){return cR.Return(eK);}return eH.Bind$1(cH.absorbO(function(){self.location.href="/Login";return"User not logged in";},cR.Bind((bS.getTokenO())(),function(eK){return eJ(bF.rtn(eK));})),function(eK){return eH.ReturnFrom$1(eI(eK,eG));});});}),function(){cR.Start((_0.addLlamadas())(-1),null);});}));};_0.obtenerEstadoParaUsuario=function(eG){var eH,eI;function eJ(eK,eL){return(new cI.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc0.obtenerEstadoParaUsuario:-1561662925",[eK,eL]);}eH=n.get_LoggedId();eI=bp.asyncResult();return eI.Run(eI.Delay(function(){return eI.TryFinally(eI.Delay(function(){return bH["AsyncResultBuilder.Bind"](eI,(_0.addLlamadas())(1),function(){function eK(eL){return cR.Return(eL);}return eI.Bind$1(cH.absorbO(function(){self.location.href="/Login";return"User not logged in";},cR.Bind((bS.getTokenO())(),function(eL){return eK(bF.rtn(eL));})),function(eL){return eI.ReturnFrom$1(eJ(eL,eH));});});}),function(){cR.Start((_0.addLlamadas())(-1),null);});}));};_0.borrarFormaPago=function(eG){var eH;function eI(eJ,eK){return(function(eL){var eM;eM=n.get_LoggedId();return function(eN){return(new cI.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc0.borrarFormaPago:-384331266",[eL,eM,eN]);};}(eJ))(eK);}eH=bp.asyncResult();return eH.Run(eH.Delay(function(){return eH.TryFinally(eH.Delay(function(){return bH["AsyncResultBuilder.Bind"](eH,(_0.addLlamadas())(1),function(){function eJ(eK){return cR.Return(eK);}return eH.Bind$1(cH.absorbO(function(){self.location.href="/Login";return"User not logged in";},cR.Bind((bS.getTokenO())(),function(eK){return eJ(bF.rtn(eK));})),function(eK){return eH.ReturnFrom$1(eI(eK,eG));});});}),function(){cR.Start((_0.addLlamadas())(-1),null);});}));};_0.registrarTarjeta=function(eG){var eH;function eI(eJ,eK){return(function(eL){var eM;eM=n.get_LoggedId();return function(eN){return(new cI.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc0.registrarTarjeta:-1859341136",[eL,eM,eN]);};}(eJ))(eK);}eH=bp.asyncResult();return eH.Run(eH.Delay(function(){return eH.TryFinally(eH.Delay(function(){return bH["AsyncResultBuilder.Bind"](eH,(_0.addLlamadas())(1),function(){function eJ(eK){return cR.Return(eK);}return eH.Bind$1(cH.absorbO(function(){self.location.href="/Login";return"User not logged in";},cR.Bind((bS.getTokenO())(),function(eK){return eJ(bF.rtn(eK));})),function(eK){return eH.ReturnFrom$1(eI(eK,eG));});});}),function(){cR.Start((_0.addLlamadas())(-1),null);});}));};_0.registrarCuenta=function(eG){var eH;function eI(eJ,eK){return(function(eL){var eM;eM=n.get_LoggedId();return function(eN){return(new cI.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc0.registrarCuenta:244739382",[eL,eM,eN]);};}(eJ))(eK);}eH=bp.asyncResult();return eH.Run(eH.Delay(function(){return eH.TryFinally(eH.Delay(function(){return bH["AsyncResultBuilder.Bind"](eH,(_0.addLlamadas())(1),function(){function eJ(eK){return cR.Return(eK);}return eH.Bind$1(cH.absorbO(function(){self.location.href="/Login";return"User not logged in";},cR.Bind((bS.getTokenO())(),function(eK){return eJ(bF.rtn(eK));})),function(eK){return eH.ReturnFrom$1(eI(eK,eG));});});}),function(){cR.Start((_0.addLlamadas())(-1),null);});}));};_0.validarFormaPago=function(eG){var eH;function eI(eJ,eK){return(function(eL){var eM;eM=n.get_LoggedId();return function(eN){return(new cI.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc0.validarFormaPago:-384331266",[eL,eM,eN]);};}(eJ))(eK);}eH=bp.asyncResult();return eH.Run(eH.Delay(function(){return eH.TryFinally(eH.Delay(function(){return bH["AsyncResultBuilder.Bind"](eH,(_0.addLlamadas())(1),function(){function eJ(eK){return cR.Return(eK);}return eH.Bind$1(cH.absorbO(function(){self.location.href="/Login";return"User not logged in";},cR.Bind((bS.getTokenO())(),function(eK){return eJ(bF.rtn(eK));})),function(eK){return eH.ReturnFrom$1(eI(eK,eG));});});}),function(){cR.Start((_0.addLlamadas())(-1),null);});}));};_0.actualizarSubscripcion=function(eG){var eH;function eI(eJ,eK){return(function(eL){var eM;eM=n.get_LoggedId();return function(eN){return(new cI.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc0.actualizarSubscripcion:-384331266",[eL,eM,eN]);};}(eJ))(eK);}eH=bp.asyncResult();return eH.Run(eH.Delay(function(){return eH.TryFinally(eH.Delay(function(){return bH["AsyncResultBuilder.Bind"](eH,(_0.addLlamadas())(1),function(){function eJ(eK){return cR.Return(eK);}return eH.Bind$1(cH.absorbO(function(){self.location.href="/Login";return"User not logged in";},cR.Bind((bS.getTokenO())(),function(eK){return eJ(bF.rtn(eK));})),function(eK){return eH.ReturnFrom$1(eI(eK,eG));});});}),function(){cR.Start((_0.addLlamadas())(-1),null);});}));};_0.obtenerFormasDePago=function(){var eG;function eH(eI,eJ){return(new cI.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc0.obtenerFormasDePagoId:2063455187",[eI,n.get_LoggedId()]);}eG=bp.asyncResult();return eG.Run(eG.Delay(function(){return eG.TryFinally(eG.Delay(function(){return bH["AsyncResultBuilder.Bind"](eG,(_0.addLlamadas())(1),function(){function eI(eJ){return cR.Return(eJ);}return eG.Bind$1(cH.absorbO(function(){self.location.href="/Login";return"User not logged in";},cR.Bind((bS.getTokenO())(),function(eJ){return eI(bF.rtn(eJ));})),function(eJ){return eG.ReturnFrom$1(eH(eJ,void 0));});});}),function(){cR.Start((_0.addLlamadas())(-1),null);});}));};_1=M.IdAliado=ey.Class({get_Id:function(){return this.$0;}},null,_1);_2.New=function(eG,eH,eI,eJ,eK,eL){return{idAliado:eG,aliados:eH,anoActual:eI,periodoActual:eJ,premisas:eK,nevento:eL};};_3=h.ConcreteVar=ey.Class({get_View:function(){return this.view;},Set:function(eG){if(this.isConst)(function(eH){return eH("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal");}(function(eH){eB.log(eH);}));else{_4.Obsolete(this.snap);this.current=eG;this.snap=_4.New({$:2,$0:eG,$1:[]});}},Get:function(){return this.current;},Update:function(eG){this.Set(eG(this.Get()));},UpdateMaybe:function(eG){var eH;eH=eG(this.Get());eH!=null&&eH.$==1?this.Set(eH.$0):void 0;}},q,_3);_3.New=ey.Ctor(function(eG,eH,eI){var eJ;eJ=this;q.New.call(this);this.isConst=eG;this.current=eI;this.snap=eH;this.view=function(){return eJ.snap;};this.id=b8.Int();},_3);_4.Map=function(eG,eH){var eI,eJ;eI=eH.s;return eI!=null&&eI.$==0?_4.New({$:0,$0:eG(eI.$0)}):(eJ=_4.New({$:3,$0:[],$1:[]}),(_4.When(eH,function(eK){_4.MarkDone(eJ,eH,eG(eK));},eJ),eJ));};_4.WhenRun=function(eG,eH,eI){var eJ;eJ=eG.s;eJ==null?eI():eJ!=null&&eJ.$==2?(eJ.$1.push(eI),eH(eJ.$0)):eJ!=null&&eJ.$==3?(eJ.$0.push(eH),eJ.$1.push(eI)):eH(eJ.$0);};_4.WhenObsoleteRun=function(eG,eH){var eI;eI=eG.s;eI==null?eH():eI!=null&&eI.$==2?eI.$1.push(eH):eI!=null&&eI.$==3?eI.$1.push(eH):void 0;};_4.When=function(eG,eH,eI){var eJ;eJ=eG.s;eJ==null?_4.Obsolete(eI):eJ!=null&&eJ.$==2?(_4.EnqueueSafe(eJ.$1,eI),eH(eJ.$0)):eJ!=null&&eJ.$==3?(eJ.$0.push(eH),_4.EnqueueSafe(eJ.$1,eI)):eH(eJ.$0);};_4.MarkDone=function(eG,eH,eI){var eJ;if(eJ=eH.s,eJ!=null&&eJ.$==0)_4.MarkForever(eG,eI);else _4.MarkReady(eG,eI);};_4.Map2=function(eG,eH,eI){var eJ,eK,eL;function eM(eN){var eO,eP,eQ;if(!(eO=eL.s,eO!=null&&eO.$==0||eO!=null&&eO.$==2)){eP=_4.ValueAndForever(eH);eQ=_4.ValueAndForever(eI);eP!=null&&eP.$==1?eQ!=null&&eQ.$==1?eP.$0[1]&&eQ.$0[1]?_4.MarkForever(eL,eG(eP.$0[0],eQ.$0[0])):_4.MarkReady(eL,eG(eP.$0[0],eQ.$0[0])):void 0:void 0;}}eJ=eH.s;eK=eI.s;return eJ!=null&&eJ.$==0?eK!=null&&eK.$==0?_4.New({$:0,$0:eG(eJ.$0,eK.$0)}):_4.Map2Opt1(eG,eJ.$0,eI):eK!=null&&eK.$==0?_4.Map2Opt2(eG,eK.$0,eH):(eL=_4.New({$:3,$0:[],$1:[]}),(_4.When(eH,eM,eL),_4.When(eI,eM,eL),eL));};_4.Map3=function(eG,eH,eI,eJ){var eK,eL,eM,eN;function eO(eP){var eQ,eR,eS,eT;if(!(eQ=eN.s,eQ!=null&&eQ.$==0||eQ!=null&&eQ.$==2)){eR=_4.ValueAndForever(eH);eS=_4.ValueAndForever(eI);eT=_4.ValueAndForever(eJ);eR!=null&&eR.$==1?eS!=null&&eS.$==1?eT!=null&&eT.$==1?eR.$0[1]&&eS.$0[1]&&eT.$0[1]?_4.MarkForever(eN,eG(eR.$0[0],eS.$0[0],eT.$0[0])):_4.MarkReady(eN,eG(eR.$0[0],eS.$0[0],eT.$0[0])):void 0:void 0:void 0;}}eK=eH.s;eL=eI.s;eM=eJ.s;return eK!=null&&eK.$==0?eL!=null&&eL.$==0?eM!=null&&eM.$==0?_4.New({$:0,$0:eG(eK.$0,eL.$0,eM.$0)}):_4.Map3Opt1(eG,eK.$0,eL.$0,eJ):eM!=null&&eM.$==0?_4.Map3Opt2(eG,eK.$0,eM.$0,eI):_4.Map3Opt3(eG,eK.$0,eI,eJ):eL!=null&&eL.$==0?eM!=null&&eM.$==0?_4.Map3Opt4(eG,eL.$0,eM.$0,eH):_4.Map3Opt5(eG,eL.$0,eH,eJ):eM!=null&&eM.$==0?_4.Map3Opt6(eG,eM.$0,eH,eI):(eN=_4.New({$:3,$0:[],$1:[]}),(_4.When(eH,eO,eN),_4.When(eI,eO,eN),_4.When(eJ,eO,eN),eN));};_4.MapAsync=function(eG,eH){var eI;eI=_4.New({$:3,$0:[],$1:[]});_4.When(eH,function(eJ){b7.StartTo(eG(eJ),function(eK){_4.MarkDone(eI,eH,eK);});},eI);return eI;};_4.EnqueueSafe=function(eG,eH){var eI,eJ,eK,eL;eG.push(eH);if(eG.length%20===0){eI=eG.slice(0);d$.Clear(eG);for(eJ=0,eK=T.length(eI)-1;eJ<=eK;eJ++){eL=T.get(eI,eJ);typeof eL=="object"?function(eM){if(eM.s)eG.push(eM);}(eL):function(eM){eG.push(eM);}(eL);}}else void 0;};_4.MarkForever=function(eG,eH){var eI,eJ,eK,eL;eI=eG.s;if(eI!=null&&eI.$==3){eG.s={$:0,$0:eH};eJ=eI.$0;for(eK=0,eL=T.length(eJ)-1;eK<=eL;eK++)(T.get(eJ,eK))(eH);}else void 0;};_4.MarkReady=function(eG,eH){var eI,eJ,eK,eL;eI=eG.s;if(eI!=null&&eI.$==3){eG.s={$:2,$0:eH,$1:eI.$1};eJ=eI.$0;for(eK=0,eL=T.length(eJ)-1;eK<=eL;eK++)(T.get(eJ,eK))(eH);}else void 0;};_4.Map2Opt1=function(eG,eH,eI){return _4.Map(function(eJ){return eG(eH,eJ);},eI);};_4.Map2Opt2=function(eG,eH,eI){return _4.Map(function(eJ){return eG(eJ,eH);},eI);};_4.ValueAndForever=function(eG){var eH;eH=eG.s;return eH!=null&&eH.$==0?{$:1,$0:[eH.$0,true]}:eH!=null&&eH.$==2?{$:1,$0:[eH.$0,false]}:null;};_4.TryGet=function(eG){var eH,eI;eH=eG.s;return(eH!=null&&eH.$==0?(eI=eH.$0,true):eH!=null&&eH.$==2&&(eI=eH.$0,true))?{$:1,$0:eI}:null;};_4.Map3Opt1=function(eG,eH,eI,eJ){return _4.Map(function(eK){return eG(eH,eI,eK);},eJ);};_4.Map3Opt2=function(eG,eH,eI,eJ){return _4.Map(function(eK){return eG(eH,eK,eI);},eJ);};_4.Map3Opt3=function(eG,eH,eI,eJ){return _4.Map2(function(eK,eL){return eG(eH,eK,eL);},eI,eJ);};_4.Map3Opt4=function(eG,eH,eI,eJ){return _4.Map(function(eK){return eG(eK,eH,eI);},eJ);};_4.Map3Opt5=function(eG,eH,eI,eJ){return _4.Map2(function(eK,eL){return eG(eK,eH,eL);},eI,eJ);};_4.Map3Opt6=function(eG,eH,eI,eJ){return _4.Map2(function(eK,eL){return eG(eK,eL,eH);},eI,eJ);};_4.Join=function(eG){var eH;eH=_4.New({$:3,$0:[],$1:[]});_4.When(eG,function(eI){var eJ;eJ=eI();_4.When(eJ,function(eK){var eL,eM;if((eL=eJ.s,eL!=null&&eL.$==0)&&(eM=eG.s,eM!=null&&eM.$==0))_4.MarkForever(eH,eK);else _4.MarkReady(eH,eK);},eH);},eH);return eH;};_4.Map2Unit=function(eG,eH){var eI,eJ,eK;function eL(){var eM,eN,eO;if(!(eM=eK.s,eM!=null&&eM.$==0||eM!=null&&eM.$==2)){eN=_4.ValueAndForever(eG);eO=_4.ValueAndForever(eH);eN!=null&&eN.$==1?eO!=null&&eO.$==1?eN.$0[1]&&eO.$0[1]?_4.MarkForever(eK,null):_4.MarkReady(eK,null):void 0:void 0;}}eI=eG.s;eJ=eH.s;return eI!=null&&eI.$==0?eJ!=null&&eJ.$==0?_4.New({$:0,$0:null}):eH:eJ!=null&&eJ.$==0?eG:(eK=_4.New({$:3,$0:[],$1:[]}),(_4.When(eG,eL,eK),_4.When(eH,eL,eK),eK));};_4.Sequence=function(eG){var eH,eI,eJ;function eK(eL){var eM;if(eJ[0]===0){eM=T.map(function(eN){var eO;eO=eN.s;return eO!=null&&eO.$==0?eO.$0:eO!=null&&eO.$==2?eO.$0:o.FailWith("value not found by View.Sequence");},eH);T.forall(function(eN){var eO;eO=eN.s;return eO!=null&&eO.$==0;},eH)?_4.MarkForever(eI,eM):_4.MarkReady(eI,eM);}else eJ[0]--;}eH=T.ofSeq(eG);return eH.length==0?_4.New({$:0,$0:[]}):(eI=_4.New({$:3,$0:[],$1:[]}),(eJ=[T.length(eH)-1],(T.iter(function(eL){_4.When(eL,eK,eI);},eH),eI)));};_4.Copy=function(eG){var eH,eI,eJ;eH=eG.s;return eH==null?eG:eH!=null&&eH.$==2?(eI=_4.New({$:2,$0:eH.$0,$1:[]}),(_4.WhenObsolete(eG,eI),eI)):eH!=null&&eH.$==3?(eJ=_4.New({$:3,$0:[],$1:[]}),(_4.When(eG,function(eK){_4.MarkDone(eJ,eG,eK);},eJ),eJ)):eG;};_4.WhenObsolete=function(eG,eH){var eI;eI=eG.s;eI==null?_4.Obsolete(eH):eI!=null&&eI.$==2?_4.EnqueueSafe(eI.$1,eH):eI!=null&&eI.$==3?_4.EnqueueSafe(eI.$1,eH):void 0;};_5.$cctor=function(){var eH,eL,eM,eN,eO,eP,eQ,eR,eW,eX,eY,eZ,e0,e1;_5.$cctor=a.ignore;_5.rtn=function(e2){return[e2];};_5.result=new b9.New$1();_5.result$1=bF.result$1();_5.resultP=new b_.New();_5.eff=new ca.New$1();_5.asyncResult=new bq.New();_5.asyncResultP=new cb.New();function eG(e2){return bj.concat("\n",e2);}_5.unindentStr=function(e2){return eG(bK.unindent$1(e2));};function eI(e2){return bK.splitByChar$1("\n",e2);}function eJ(e2){var e3,e4;return cc.array(e2,{$:1,$0:0},{$:1,$0:(e3=0,(e4=T.length(e2)-2,J.Compare(e3,e4)===1?e3:e4))});}function eK(e2){return bj.concat("\n",e2);}_5.skipLastLine=(eH=function(e2){return eJ(eI(e2));},function(e2){return eK(eH(e2));});_5.counter=1;_5.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";_5.rexEmail="(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@[*[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+]*";_5.policies=bz.ofArray([ce.SignIn,ce.SignUp,ce.EditProfile,ce.ResetPassword]);_5.rootdir="d:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperServer\\website";_5.TemplatesFileName="d:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperServer\\website"+"\\indexDes.html";((function(e2){return function(e3){return e2(bD.toSafe(e3));};}(function(e2){eB.log(e2);}))("d:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperServer\\website\\indexDes.html"));_5.appId=bj.StartsWith(self.location.host,"prozper0")?"76703639-1d21-4bc3-bd46-c764f5ea78ee":"70ad4f9b-9a2b-409e-9c1e-d04dbb2e7cf2";_5.applicationId=bS.storeValue("applicationId",bS.appId());_5.tenantName=bS.storeValue("tenantName","prozper");_5.ref=bS.storeValue("ref","");_5.extraQueryParms=bS.storeValue("extraQueryParms","mkt=es-us");_5.refreshBefore=bS.storeValue("refreshBefore","0");_5.createOnStart=bS.storeValue("createOnStart","1");_5.forceLogin=bS.storeValue("forceLogin","1");_5.signInPolicy=bS.storeValue("signInPolicy","B2C_1_SignIn");_5.signUpPolicy=bS.storeValue("signUpPolicy","B2C_1_Registrarse");_5.editProfilePolicy=bS.storeValue("editProfilePolicy","B2C_1_EditarPerfil");_5.resetPasswordPolicy=bS.storeValue("resetPasswordPolicy","B2C_1_PasswordReset");_5.policyType=bS.storeValue("policyType","SignIn");eL=bS.storageGetItem("preambleState");eL==="InPreamble"||(eL===""||eL===null)?bS.storeValue("preambleState","GoToSignIn"):void 0;_5.authority=bS.getAuthority(bS.tenantName(),bS.signInPolicy());_5.userO=i.Create$1(null);_5.agent=r.Create(function(){var e2,e3;e2=(e3=cf.New$1({$:1,$0:cg.New$1(bS.applicationId(),{$:1,$0:bS.authority()},{$:1,$0:false},null,null,null)},null,null,null),new self.Msal.UserAgentApplication(e3));e2.handleRedirectCallback(function(e4,e5){bS.redirectCallback(e4,e5);});return e2;});_5.getTokenO=(eN=cj.callA(function(e2){bd.print(e2);},bS.getTokenO0),function(){return eN.PostAndAsyncReply(function(e2){return[e2,null];},null);});_5.modeloV=i.Create$1(_2.New(new _1({$:0,$0:":"}),[],(eO=eC.now(),(new eC(eO)).getFullYear()),(eP=eC.now(),(new eC(eP)).getMonth()+1),M.premisasCalculo(),-2));_5.formasPagoAliadoV=i.Create$1([]);_5.invitacionesV=i.Create$1("");function eS(e2){var e3;e3=j.REGEX$1(j.rexEmail(),"gi",e2);return e3!=null&&e3.$==1?e3.$0:[];}function eT(e2){return bj.concat("\n",e2);}_5.emailsInvitarW=p.Map((eQ=(eR=function(e2){return bc.distinct(eS(e2));},function(e2){return bc.sort(eR(e2));}),function(e2){return eT(eQ(e2));}),m.invitacionesV().get_View());_5.invitacionesDisabledW=p.Map(function(e2){return e2===""?"disabled":"";},m.emailsInvitarW());_5.selAliadoIdOV=i.Create$1(null);_5.refAliadoIdOV=i.Create$1(null);_5.endPointV=cl.InstallHash(ck.DefaultEP,Y.r());p.Sink(function(e2){if(e2.$==1);else if(e2.$==2);else if(e2.$==4)a.showPDF(e2.$0);else if(e2.$==5)a.playVideo();else bS.checkUser();},m.endPointV().get_View());function eU(e2){return e2==="ProzperLyt.mainContent"?ck.DefaultEP:{$:3,$0:e2};}function eV(e2){if(!J.Equals(m.endPointV().Get(),e2))m.endPointV().Set(e2);}_5.contentVar=new cQ.New(p.Map2(function(e2,e3){var e4,e5;return e3.$==0&&!J.Equals(bS.userO().Get(),null)?"ProzperLyt.mainContent":e3.$==3&&(!J.Equals(bS.userO().Get(),null)&&(e5=e3.$0,true))?e5:e3.$==2?"ProzperLyt.cntPreRegister":e3.$==4?"ProzperLyt.cntPDF":e3.$==5?"ProzperLyt.cntVideo":"ProzperLyt.cntFormaNoUser";},bS.userO().get_View(),m.endPointV().get_View()),function(e2){return eV(eU(e2));});_5.aliadoW=(eW=p.get_Do(),p.Bind(function(e2){var e3,e4;e3=e2.idAliado;e4=bc.tryFind(function(e5){return J.Equals(e5.id,e3);},e2.aliados);return p.Const(e4!=null&&e4.$==1?e4.$0:O.empty());},m.modeloV().get_View()));eY=(eX=i.Create$1(0),[eX.get_View(),function(e2){var e3;e3=null;return cR.Delay(function(){eX.Set(eX.Get()+e2);return cR.Bind(cR.Sleep(50),function(){return cR.Return(null);});});}]);_5.llamadas=eY[0];_5.addLlamadas=eY[1];cm.set_EndPoint(cn.serverEndPoint().f()+"rpc/rpc");_5.shouldRefresh=true;p.Sink(function(){br.refrescarData(true);},bS.userO().get_View());cR.Start((eZ=null,cR.Delay(function(){return cR.While(function(){return true;},cR.Delay(function(){return cR.Bind(cR.Sleep(5*60*1000),function(){return cR.Return(null);});}));})),null);try{self.document.addEventListener("visibilityChange",function(){return null;},false);}catch(e2){null;}_5.paises=i.Create$1([]);_5.estados=i.Create$1([]);_5.tiposDir=i.Create$1([]);_5.tiposTel=i.Create$1([]);_5.generos=i.Create$1([]);_5.tiposCta=i.Create$1([]);_5.tiposTar=i.Create$1([]);_5.statuses=i.Create$1([]);_5.aniosV=i.Create$1([]);_5.mesesV=i.Create$1([]);_5.tiposAr=i.Create$1([]);_5.statusAr=i.Create$1([]);_0.iterA((e0=bp.asyncResult(),e0.Run(e0.Delay(function(){return e0.Bind$1(_0.obtenerUnions(),function(e3){bu.paises().Set(e3[0]);bu.estados().Set(e3[1]);bu.tiposDir().Set(e3[2]);bu.tiposTel().Set(e3[3]);bu.generos().Set(e3[4]);bu.tiposCta().Set(e3[5]);bu.tiposTar().Set(e3[6]);bu.statuses().Set(e3[7]);bu.aniosV().Set(e3[9]);bu.mesesV().Set(e3[8]);bu.tiposAr().Set(e3[10]);bu.statusAr().Set(e3[11]);return e0.Zero();});}))));_5.ftel=[function(e3){return e3.$==2?{$:1,$0:e3.$0}:null;},function(e3){return{$:2,$0:e3};}];_5.fcor=[function(e3){return e3.$==1?{$:1,$0:e3.$0}:null;},function(e3){return{$:1,$0:e3};}];_5.fdir=[function(e3){return e3.$==0?{$:1,$0:e3.$0}:null;},function(e3){return{$:0,$0:e3};}];_5.mensajes=i.Create$1("");_5.firmanteV=i.Create$1("");_5.fechaHoraV=i.Create$1("");_5.locationV=i.Create$1({});_5.firmadoV=i.Create$1(false);cR.Start((e1=null,cR.Delay(function(){return cR.While(function(){return true;},cR.Delay(function(){return cR.Bind(cR.Sleep(1000),function(){var e3;e3=bd["String.Left"](function(e4){return e4.getFullYear()+"-"+("0"+(e4.getMonth()+1)).slice(-2)+"-"+("0"+e4.getDate()).slice(-2)+" "+("0"+e4.getHours()).slice(-2)+":"+("0"+e4.getMinutes()).slice(-2)+":"+("0"+e4.getSeconds()).slice(-2)+":"+("00"+e4.getMilliseconds()).slice(-3);}(new eC(eC.now())),19);bP.fechaHoraV().Set(e3);return cR.Zero();});}));})),null);_5.uploaded=function(e3,e4){return bd.print(e4);};_5.cuentaPagoO=i.Create$1(null);_5.cuentaAutorizar=i.Create$1(Z.TextNode("No hay cuenta seleccionada"));_5.titular=i.Create$1("");_5.pid=new co({$:0,$0:""});_5.ftar=[function(e3){var e4;e4=e3.cuentaPago;return e4.$==1?{$:1,$0:[e4.$0,x.msg(e3),e3.authorizeIdR.$==0]}:null;},function(e3){return function(e4){return bE.New(e3.nombre,bd.Error(""),new bO({$:1,$0:e4}),e3.subscripcion);};}];_5.fcta=[function(e3){var e4;e4=e3.cuentaPago;return e4.$==0?{$:1,$0:[e4.$0,x.msg(e3),e3.authorizeIdR.$==0]}:null;},function(e3){return function(e4){return bE.New(e3.nombre,bd.Error(""),new bO({$:0,$0:e4}),e3.subscripcion);};}];_5.transaccionesW=p.MapAsync(function(){var e3,e4;function e5(e6){return cR.Return(e6);}return cR.Bind(_0.obtenerTransaccionesPara(n.get_LoggedId()),(e3=(e4=[],function(e6){return bF.defaultValue(e4,e6);}),function(e6){return e5(e3(e6));}));},m.modeloV().get_View());_5.expandedOV=i.Create$1(null);_5.aliadoIdW=p.Map2(function(e3,e4){return e3==null?e4.id:e3.$0;},A.expandedOV().get_View(),m.aliadoW());_5.FormaW9="/#/Pdf/blob/Inscripcion/07 Form W-9.pdf";_5.FormaW8BEN="/#/Pdf/blob/Inscripcion/05 Form W-8BEN.pdf";_5.FormasPago="/#/Content/ProzperLyt.cntFormaFormasPago";_5.FormaContrato="/#/Content/ProzperLyt.cntFormaContrato";_5.Subir="/#/Content/ProzperLyt.cntSubirDocumentos";_5.definicion=[];_5.i_archivos=y.agregarCampo(1,false,function(e3){return e3.docPendientes===0?(function(e4){return function(e5){return e4(bj.PadLeft(a.String(e5),2));};}(a.id))(e3.documentos):(((ey.Curried3(function(e4,e5,e6){return e4("("+bj.PadLeft(a.String(e5),2)+")"+bj.PadLeft(a.String(e6),2));}))(a.id))(e3.docPendientes))(e3.documentos);});_5.i_nombre=y.agregarCampo(14,true,function(e3){return O.nombre(e3.datosPersonales);});_5.i_correo=y.agregarCampo(13,true,O.correo);_5.i_status=y.agregarCampo(3,true,function(e3){return(function(e4){return function(e5){return e4(bb.p(e5));};}(a.id))(e3.status);});_5.i_influyente=y.agregarCampo(4,false,function(e3){var e4;e4=e3.influyente;return e4==null?"":e4.$0;});_5.i_tipo=y.agregarCampo(5,true,function(e3){return(function(e4){return function(e5){return e4(bb.p$1(e5));};}(a.id))(e3.tipo);});_5.i_referido=y.agregarCampo(6,true,function(e3){return y.nombreReferidor(e3.idPadreO);});_5.i_nivel=y.agregarCampo(7,true,function(e3){return(function(e4){return function(e5){return e4(bj.PadLeft(a.String(e5),9));};}(a.id))(e3.nivel);});_5.i_referidos=y.agregarCampo(8,true,function(e3){return(function(e4){return function(e5){return e4(bj.PadLeft(bD.toSafe(e5),9));};}(a.id))(y.referidos(e3));});_5.i_descendientes=y.agregarCampo(2,false,function(e3){return(function(e4){return function(e5){return e4(bj.PadLeft(bD.toSafe(e5),9));};}(a.id))(y.descendientes(e3));});_5.i_comision=y.agregarCampo(9,true,function(e3){return(function(e4){return function(e5){return e4(bj.PadLeft(bD.toSafe(e5),9));};}(a.id))(y.comision(e3.comision));});_5.i_diaPago=y.agregarCampo(10,true,function(e3){return bd["String.Right"]((function(e4){return function(e5){return e4(X.p(e5));};}(a.id))(e3.diaPago),2);});_5.i_desde=y.agregarCampo(11,true,function(e3){return bJ.toYYYYMMDD("-",e3.fechaRegistro);});_5.i_Id=y.agregarCampo(12,true,function(e3){return(function(e4){return function(e5){return e4(bD.toSafe(e5));};}(a.id))(e3.id.get_Id());});cr.addDocs("Calc",bz.ofArray([["Calc",cq.lazyDocGuid(cp.calcUI,cp.newCalc)]]));_5.layoutName="ProzperLyt";_5.appName="Prozper";_5.influencerV=i.Create$1("");_5.influencerClassW=p.MapAsync(function(e3){var e4;e4=null;return cR.Delay(function(){return cR.Bind(_0.obtenerIdInfluyente(e3),function(e5){return e5.$==0?cR.Return("mui-btn--primary"):cR.Return("");});});},e.influencerV().get_View());};_6=h.ListModel=ey.Class({Set:function(eG){this["var"].Set(this.storage.SSet(eG));this.ObsoleteAll();},Append:function(eG){var eH,eI,eJ,eK;eH=this;eI=this["var"].Get();eJ=this.key(eG);eK=T.tryFindIndex(function(eL){return J.Equals(eH.key(eL),eJ);},eI);eK!=null&&eK.$==1?this["var"].Set(this.storage.SSetAt(eK.$0,eG,eI)):this["var"].Set(this.storage.SAppend(eG,eI));this.ObsoleteKey(eJ);},ObsoleteAll:function(){bc.iter(function(eG){_4.Obsolete(eG.V);},this.it);this.it.Clear();},TryFindByKey:function(eG){var eH;eH=this;return T.tryFind(function(eI){return J.Equals(eH.key(eI),eG);},this["var"].Get());},ObsoleteKey:function(eG){var eH,eI;eH=(eI=null,[this.it.TryGetValue(eG,{get:function(){return eI;},set:function(eJ){eI=eJ;}}),eI]);eH[0]?(_4.Obsolete(eH[1]),this.it.Remove(eG)):void 0;},FindByKey:function(eG){var eH;eH=this;return T.find(function(eI){return J.Equals(eH.key(eI),eG);},this["var"].Get());},UpdateBy:function(eG,eH){var eI,eJ,eK,eL,eM;eI=this;eJ=this["var"].Get();eK=T.tryFindIndex(function(eN){return J.Equals(eI.key(eN),eH);},eJ);eK!=null&&eK.$==1?(eL=eK.$0,eM=eG(T.get(eJ,eL)),eM!=null&&eM.$==1?(this["var"].Set(this.storage.SSetAt(eL,eM.$0,eJ)),this.ObsoleteKey(eH)):void 0):void 0;},RemoveByKey:function(eG){var eH;eH=this;this["var"].Set(this.storage.SRemoveIf(function(eI){return J.Equals(eH.key(eI),eG);},this["var"].Get()));this.ObsoleteKey(eG);},MapLens:function(eG){var eH;eH=this;return p.MapSeqCachedViewBy(eH.key,function(eI,eJ){return eG(eI,eH["LensInto'"](a.id,function(eK,eL){return eL;},eI,eJ));},this["var"].get_View());},"LensInto'":function(eG,eH,eI,eJ){var eK,eL,eM;eK=this;eL=b8.Id();eM=new q({Get:function(){return eG(eK.FindByKey(eI));},Set:function(eN){return eK.UpdateBy(function(eO){return{$:1,$0:eH(eO,eN)};},eI);},SetFinal:function(eN){return this.Set(eN);},Update:function(eN){return eK.UpdateBy(function(eO){return{$:1,$0:eH(eO,eN(eG(eO)))};},eI);},UpdateMaybe:function(eN){return eK.UpdateBy(function(eO){var eP;eP=eN(eG(eO));return eP==null?null:{$:1,$0:eH(eO,eP.$0)};},eI);},get_View:function(){return eJ;},get_Id:function(){return eL;}});q.New.call(eM);return eM;},GetEnumerator:function(){return cu.Get(this["var"].Get());},GetEnumerator0:function(){return cu.Get0(this["var"].Get());}},g,_6);_6.New$1=ey.Ctor(function(eG){_6.New$2.call(this,eG,[]);},_6);_6.New=ey.Ctor(function(eG,eH){_6.New$3.call(this,eG,i.Create$1(T.ofSeq(bc.distinctBy(eG,eH.SInit()))),eH);},_6);_6.New$2=ey.Ctor(function(eG,eH){var eI;eI=T.ofSeq(eH);_6.New$3.call(this,eG,i.Create$1(eI),cV.InMemory(eI));},_6);_6.New$3=ey.Ctor(function(eG,eH,eI){g.New.call(this);this.key=eG;this["var"]=eH;this.storage=eI;this.v=p.Map(function(eJ){return eJ.slice();},this["var"].get_View());this.it=new b3.New$5();},_6);_7.New=function(eG,eH){return{varName:eG,varVar:eH};};_8.New=function(eG,eH){return{viwName:eG,viwView:eH};};_9.New=function(eG,eH){return{docName:eG,docDoc:eH};};_.NewFromSeq=function(eG){var eH,eI,eJ;eH={};eI=cu.Get(eG);try{while(eI.MoveNext()){eJ=eI.Current();eH[eJ[0]]=eJ[1];}}finally{if(typeof eI=="object"&&"Dispose"in eI)eI.Dispose();}return eH;};ba.New=function(eG,eH,eI){return{c:eG,v:eH,f:eI};};bb.p$1=function(eG){return eG.$==1?"Regular":"Master";};bb.p=function(eG){return eG.$==3?"Cancelado":eG.$==2?"Inactivo":eG.$==1?"Activo":"CuentaCreada";};bb.p$11=function(eG){return"IdAliado "+bD.prettyPrint(eG.$0);};bb.p$2=function(eG){return eG.$==3?"OtroP "+bD.prettyPrint(eG.$0):eG.$==2?"Argentina":eG.$==1?"Venezuela":"USA";};bb.p$7=function(eG){return eG.$==2?"Otra "+bD.prettyPrint(eG.$0):eG.$==1?"Corriente":"Ahorro";};bb.p$4=function(eG){return eG.$==7?"Otro "+bD.prettyPrint(eG.$0):eG.$==6?"FormaW8BEN":eG.$==5?"FormaW9":eG.$==4?"LicenciaConducir":eG.$==3?"Cedula":eG.$==2?"Pasaporte":eG.$==1?"Autorizacion":"Contrato";};bb.p$5=function(eG){return eG.$==5?"Cambiado":eG.$==4?"Cancelado":eG.$==3?"Expirado":eG.$==2?"Rechazado":eG.$==1?"Verificado":"Subido";};bb.p$3=function(eG){return eG.$==2?"OtroS "+bD.prettyPrint(eG.$0):eG.$==1?"Florida":"Texas";};bb.p$10=function(eG){return eG.$==3?"Voip":eG.$==2?"Habitacion":eG.$==1?"Oficina":"Movil";};bb.p$9=function(eG){return eG.$==3?"Otro "+bD.prettyPrint(eG.$0):eG.$==2?"ServicioPostal":eG.$==1?"Oficina":"Habitacion";};bb.p$6=function(eG){return eG.$==3?"Otra "+bD.prettyPrint(eG.$0):eG.$==2?"Amex":eG.$==1?"MasterCard":"Visa";};bb.p$8=function(eG){return eG.$==2?"Otro "+bD.prettyPrint(eG.$0):eG.$==1?"PagoComision":"PagoAfiliacion";};bc.sortWith=function(eG,eH){return bc.delay(function(){var eI;eI=T.ofSeq(eH);T.sortInPlaceWith(eG,eI);return eI;});};bc.filter=function(eG,eH){return{GetEnumerator:function(){var eI;eI=cu.Get(eH);return new cv.New(null,null,function(eJ){var eK,eL,eM;eK=eI.MoveNext();eL=eI.Current();eM=false;while(eK)if(eG(eL)){eJ.c=eL;eM=true;eK=false;}else if(eI.MoveNext())eL=eI.Current();else eK=false;return eM;},function(){eI.Dispose();});}};};bc.isEmpty=function(eG){var eH;eH=cu.Get(eG);try{return!eH.MoveNext();}finally{if(typeof eH=="object"&&"Dispose"in eH)eH.Dispose();}};bc.map=function(eG,eH){return{GetEnumerator:function(){var eI;eI=cu.Get(eH);return new cv.New(null,null,function(eJ){return eI.MoveNext()&&(eJ.c=eG(eI.Current()),true);},function(){eI.Dispose();});}};};bc.delay=function(eG){return{GetEnumerator:function(){return cu.Get(eG());}};};bc.append=function(eG,eH){return{GetEnumerator:function(){var eI,eJ;eI=cu.Get(eG);eJ=[true];return new cv.New(eI,null,function(eK){var eL;return eK.s.MoveNext()?(eK.c=eK.s.Current(),true):(eL=eK.s,!J.Equals(eL,null)?eL.Dispose():void 0,eK.s=null,eJ[0]&&(eJ[0]=false,eK.s=cu.Get(eH),eK.s.MoveNext()?(eK.c=eK.s.Current(),true):(eK.s.Dispose(),eK.s=null,false)));},function(eK){var eL;eL=eK.s;!J.Equals(eL,null)?eL.Dispose():void 0;});}};};bc.collect=function(eG,eH){return bc.concat(bc.map(eG,eH));};bc.min=function(eG){var eH,eI,eJ;eH=cu.Get(eG);try{if(!eH.MoveNext())bc.seqEmpty();eI=eH.Current();while(eH.MoveNext()){eJ=eH.Current();J.Compare(eJ,eI)===-1?eI=eJ:void 0;}return eI;}finally{if(typeof eH=="object"&&"Dispose"in eH)eH.Dispose();}};bc.tryPick=function(eG,eH){var eI,eJ;eI=cu.Get(eH);try{eJ=null;while(J.Equals(eJ,null)&&eI.MoveNext())eJ=eG(eI.Current());return eJ;}finally{if(typeof eI=="object"&&"Dispose"in eI)eI.Dispose();}};bc.tryFind=function(eG,eH){var eI,eJ,eK;eI=cu.Get(eH);try{eJ=null;while(eJ==null&&eI.MoveNext()){eK=eI.Current();eG(eK)?eJ={$:1,$0:eK}:void 0;}return eJ;}finally{if(typeof eI=="object"&&"Dispose"in eI)eI.Dispose();}};bc.exists=function(eG,eH){var eI,eJ;eI=cu.Get(eH);try{eJ=false;while(!eJ&&eI.MoveNext())eJ=eG(eI.Current());return eJ;}finally{if(typeof eI=="object"&&"Dispose"in eI)eI.Dispose();}};bc.sumBy=function(eG,eH){return bc.fold(function(eI,eJ){return eI+eG(eJ);},0,eH);};bc.length=function(eG){var eH,eI;eH=0;eI=cu.Get(eG);try{while(eI.MoveNext())eH=eH+1;return eH;}finally{if(typeof eI=="object"&&"Dispose"in eI)eI.Dispose();}};bc.zip=function(eG,eH){return bc.map2(function(eI,eJ){return[eI,eJ];},eG,eH);};bc.choose=function(eG,eH){return bc.collect(function(eI){var eJ;eJ=eG(eI);return eJ==null?cx.Empty:bz.ofArray([eJ.$0]);},eH);};bc.distinct=function(eG){return bc.distinctBy(a.id,eG);};bc.sort=function(eG){return bc.sortBy(a.id,eG);};bc.groupBy=function(eG,eH){return bc.delay(function(){return T.groupBy(eG,T.ofSeq(eH));});};bc.concat=function(eG){return{GetEnumerator:function(){var eH;eH=cu.Get(eG);return new cv.New(null,null,function(eI){var eJ;while(true){eJ=eI.s;if(J.Equals(eJ,null)){if(eH.MoveNext()){eI.s=cu.Get(eH.Current());eI=eI;}else{eH.Dispose();return false;}}else if(eJ.MoveNext()){eI.c=eJ.Current();return true;}else{eI.Dispose();eI.s=null;eI=eI;}}},function(eI){var eJ;eJ=eI.s;!J.Equals(eJ,null)?eJ.Dispose():void 0;!J.Equals(eH,null)?eH.Dispose():void 0;});}};};bc.seqEmpty=function(){return o.FailWith("The input sequence was empty.");};bc.indexed=function(eG){return bc.mapi(function(eH,eI){return[eH,eI];},eG);};bc.fold=function(eG,eH,eI){var eJ,eK;eJ=eH;eK=cu.Get(eI);try{while(eK.MoveNext())eJ=eG(eJ,eK.Current());return eJ;}finally{if(typeof eK=="object"&&"Dispose"in eK)eK.Dispose();}};bc.map2=function(eG,eH,eI){return{GetEnumerator:function(){var eJ,eK;eJ=cu.Get(eH);eK=cu.Get(eI);return new cv.New(null,null,function(eL){return eJ.MoveNext()&&eK.MoveNext()&&(eL.c=eG(eJ.Current(),eK.Current()),true);},function(){eJ.Dispose();eK.Dispose();});}};};bc.sortBy=function(eG,eH){return bc.delay(function(){var eI;eI=T.ofSeq(eH);T.sortInPlaceBy(eG,eI);return eI;});};bc.tryFindIndex=function(eG,eH){var eI,eJ,eK;eI=cu.Get(eH);try{eJ=true;eK=0;while(eJ&&eI.MoveNext())if(eG(eI.Current()))eJ=false;else eK=eK+1;return eJ?null:{$:1,$0:eK};}finally{if(typeof eI=="object"&&"Dispose"in eI)eI.Dispose();}};bc.distinctBy=function(eG,eH){return{GetEnumerator:function(){var eI,eJ;eI=cu.Get(eH);eJ=new b4.New$3();return new cv.New(null,null,function(eK){var eL,eM;if(eI.MoveNext()){eL=eI.Current();eM=eJ.Add(eG(eL));while(!eM&&eI.MoveNext()){eL=eI.Current();eM=eJ.Add(eG(eL));}return eM&&(eK.c=eL,true);}else return false;},function(){eI.Dispose();});}};};bc.mapi=function(eG,eH){return bc.map2(eG,bc.initInfinite(a.id),eH);};bc.iter=function(eG,eH){var eI;eI=cu.Get(eH);try{while(eI.MoveNext())eG(eI.Current());}finally{if(typeof eI=="object"&&"Dispose"in eI)eI.Dispose();}};bc.init=function(eG,eH){return bc.take(eG,bc.initInfinite(eH));};bc.pairwise=function(eG){return bc.map(function(eH){return[T.get(eH,0),T.get(eH,1)];},bc.windowed(2,eG));};bc.forall2=function(eG,eH,eI){return!bc.exists2(function(eJ,eK){return!eG(eJ,eK);},eH,eI);};bc.iteri=function(eG,eH){var eI,eJ;eI=0;eJ=cu.Get(eH);try{while(eJ.MoveNext()){eG(eI,eJ.Current());eI=eI+1;}}finally{if(typeof eJ=="object"&&"Dispose"in eJ)eJ.Dispose();}};bc.initInfinite=function(eG){return{GetEnumerator:function(){return new cv.New(0,null,function(eH){eH.c=eG(eH.s);eH.s=eH.s+1;return true;},void 0);}};};bc.take=function(eG,eH){eG<0?bc.nonNegative():void 0;return{GetEnumerator:function(){var eI;eI=[cu.Get(eH)];return new cv.New(0,null,function(eJ){var eK;eJ.s=eJ.s+1;return eJ.s>eG?false:(eK=eI[0],J.Equals(eK,null)?bc.insufficient():eK.MoveNext()?(eJ.c=eK.Current(),eJ.s===eG?(eK.Dispose(),eI[0]=null):void 0,true):(eK.Dispose(),eI[0]=null,bc.insufficient()));},function(){var eJ;eJ=eI[0];!J.Equals(eJ,null)?eJ.Dispose():void 0;});}};};bc.skip=function(eG,eH){return{GetEnumerator:function(){var eI;eI=cu.Get(eH);return new cv.New(true,null,function(eJ){var eK,eL;if(eJ.s){for(eK=1,eL=eG;eK<=eL;eK++)if(!eI.MoveNext())bc.insufficient();eJ.s=false;}else null;return eI.MoveNext()&&(eJ.c=eI.Current(),true);},function(){eI.Dispose();});}};};bc.nth=function(eG,eH){var eI,eJ;if(eG<0)o.FailWith("negative index requested");eI=-1;eJ=cu.Get(eH);try{while(eI<eG){!eJ.MoveNext()?bc.insufficient():void 0;eI=eI+1;}return eJ.Current();}finally{if(typeof eJ=="object"&&"Dispose"in eJ)eJ.Dispose();}};bc.windowed=function(eG,eH){eG<=0?o.FailWith("The input must be positive."):void 0;return bc.delay(function(){return bc.enumUsing(cu.Get(eH),function(eI){var eJ;eJ=[];return bc.append(bc.enumWhile(function(){return eJ.length<eG&&eI.MoveNext();},bc.delay(function(){eJ.push(eI.Current());return[];})),bc.delay(function(){return eJ.length===eG?bc.append([eJ.slice(0)],bc.delay(function(){return bc.enumWhile(function(){return eI.MoveNext();},bc.delay(function(){eJ.shift();eJ.push(eI.Current());return[eJ.slice(0)];}));})):[];}));});});};bc.head=function(eG){var eH;eH=cu.Get(eG);try{return eH.MoveNext()?eH.Current():bc.insufficient();}finally{if(typeof eH=="object"&&"Dispose"in eH)eH.Dispose();}};bc.exists2=function(eG,eH,eI){var eJ,eK,eL,eM;eJ=cu.Get(eH);try{eL=cu.Get(eI);try{eM=false;while(!eM&&eJ.MoveNext()&&eL.MoveNext())eM=eG(eJ.Current(),eL.Current());eK=eM;}finally{if(typeof eL=="object"&&"Dispose"in eL)eL.Dispose();}return eK;}finally{if(typeof eJ=="object"&&"Dispose"in eJ)eJ.Dispose();}};bc.compareWith=function(eG,eH,eI){var eJ,eK,eL,eM,eN;eJ=cu.Get(eH);try{eL=cu.Get(eI);try{eM=0;eN=true;while(eN&&eM===0)if(eJ.MoveNext())eM=eL.MoveNext()?eG(eJ.Current(),eL.Current()):1;else if(eL.MoveNext())eM=-1;else eN=false;eK=eM;}finally{if(typeof eL=="object"&&"Dispose"in eL)eL.Dispose();}return eK;}finally{if(typeof eJ=="object"&&"Dispose"in eJ)eJ.Dispose();}};bc.unfold=function(eG,eH){return{GetEnumerator:function(){return new cv.New(eH,null,function(eI){var eJ;eJ=eG(eI.s);return eJ==null?false:(eI.c=eJ.$0[0],eI.s=eJ.$0[1],true);},void 0);}};};bc.max=function(eG){var eH,eI,eJ;eH=cu.Get(eG);try{if(!eH.MoveNext())bc.seqEmpty();eI=eH.Current();while(eH.MoveNext()){eJ=eH.Current();J.Compare(eJ,eI)===1?eI=eJ:void 0;}return eI;}finally{if(typeof eH=="object"&&"Dispose"in eH)eH.Dispose();}};bc.forall=function(eG,eH){return!bc.exists(function(eI){return!eG(eI);},eH);};be.op_AmpGreater=function(eG,eH,eI,eJ){var eK;eK=eG(eI,eJ);return eK===0?eH(eI,eJ):eK;};be.asc=function(eG,eH,eI){return J.Compare(eG(eH),eG(eI));};be.desc=function(eG,eH,eI){return J.Compare(eG(eI),eG(eH));};bf.New=function(eG,eH,eI,eJ,eK,eL){return{hijosDe:eG,nivelDe:eH,aliado:eI,aliadoO:eJ,hijos:eK,descendientes:eL};};bh=bg.FSharpSet=ey.Class({Contains:function(eG){return cw.Contains(eG,this.tree);},Remove:function(eG){return new bh.New$1(cw.Remove(eG,this.tree));},Add:function(eG){return new bh.New$1(cw.Add(eG,this.tree));},Equals:function(eG){return this.get_Count()===eG.get_Count()&&bc.forall2(J.Equals,this,eG);},GetEnumerator$1:function(){return cu.Get(cw.Enumerate(false,this.tree));},get_Count:function(){var eG;eG=this.tree;return eG==null?0:eG.Count;},GetHashCode:function(){return -1741749453+J.Hash(T.ofSeq(this));},GetEnumerator:function(){return this.GetEnumerator$1();},CompareTo0:function(eG){return bc.compareWith(J.Compare,this,eG);},GetEnumerator0:function(){return this.GetEnumerator$1();}},g,bh);bh.op_Subtraction=function(eG,eH){return bi.Filter(function(eI){return!eH.Contains(eI);},eG);};bh.New=ey.Ctor(function(eG){bh.New$1.call(this,cw.OfSeq(eG));},bh);bh.New$1=ey.Ctor(function(eG){g.New.call(this);this.tree=eG;},bh);bi.Filter=function(eG,eH){var eI;return new bh.New$1((eI=T.ofSeq(bc.filter(eG,eH)),cw.Build(eI,0,eI.length-1)));};bj.PadLeft=function(eG,eH){return bj.PadLeftWith(eG,eH," ");};bj.concat=function(eG,eH){return T.ofSeq(eH).join(eG);};bj.PadLeftWith=function(eG,eH,eI){return eH>eG.length?a.Array(eH-eG.length+1).join(eI)+eG:eG;};bj.Trim=function(eG){return eG.replace(new a.RegExp("^\\s+"),"").replace(new a.RegExp("\\s+$"),"");};bj.Substring=function(eG,eH,eI){return eG.substr(eH,eI);};bj.Replace=function(eG,eH,eI){function eJ(eK){var eL,eM,eN;eL=eK.indexOf(eH);return eL!==-1?(eM=bj.ReplaceOnce(eK,eH,eI),(eN=eL+eI.length,bj.Substring(eM,0,eL+eI.length)+eJ(eM.substring(eN)))):eK;}return eJ(eG);};bj.SplitChars=function(eG,eH,eI){return bj.Split(eG,new a.RegExp("["+bj.RegexEscape(eH.join(""))+"]"),eI);};bj.StartsWith=function(eG,eH){return eG.substring(0,eH.length)==eH;};bj.ReplaceOnce=function(eG,eH,eI){return eG.replace(eH,eI);};bj.Split=function(eG,eH,eI){return eI===1?T.filter(function(eJ){return eJ!=="";},bj.SplitWith(eG,eH)):bj.SplitWith(eG,eH);};bj.RegexEscape=function(eG){return eG.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};bj.SplitWith=function(eG,eH){return eG.split(eH);};bj.replicate=function(eG,eH){return T.create(eG,eH).join("");};bj.IsNullOrEmpty=function(eG){return eG==null||eG=="";};bj.ReplaceChar=function(eG,eH,eI){return bj.Replace(eG,eH,eI);};bj.SplitStrings=function(eG,eH,eI){return bj.Split(eG,new a.RegExp(bj.concat("|",T.map(bj.RegexEscape,eH))),eI);};bj.forall=function(eG,eH){return bc.forall(eG,bj.protect(eH));};bj.protect=function(eG){return eG===null?"":eG;};bj.Join=function(eG,eH){return eH.join(eG);};bk=M.CorreoElectronico=ey.Class({toString:function(){return this.email;}},null,bk);bk.New=function(eG,eH,eI){return new bk({email:eG,enviado:eH,recibido:eI});};bl.formaDoc=function(eG){var eH,eI,eJ,eK,eL,eM;eH=(eI=(eJ=Z.EmbedView(p.Map(bu.crearOptions,bu.generos().get_View())),U.Make().WithHole({$:0,$0:"generos",$1:eJ})),(eK=V.CompleteHoles(eI.k,eI.h,[["nombres",0],["apellidos",0],["fechanacimiento",0],["genero",0]]),(eL=new S.New(eK[1],W.datospersonales(eK[0])),(eI.i=eL,eL))));p.Sink(function(eN){var eO;if(eN!=null&&eN.$==1){eO=eN.$0;eH.Hole("nombres").Set(bj.Trim(eO.nombre1+" "+eO.nombre2));eH.Hole("apellidos").Set(bj.Trim(eO.apellido1+" "+eO.apellido2));eH.Hole("fechanacimiento").Set(bJ.toYYYYMMDD("-",eO.fechaNacimiento));eH.Hole("genero").Set((function(eP){return function(eQ){return eP(X.p$2(eQ));};}(a.id))(eO.genero));}},eG.get_View());eM=p.Apply(p.Apply(p.Map2(function(eN,eO){return function(eP){return function(eQ){return bc.map(function(eR){return eR[1];},bc.filter(function(eR){return eR[0];},bz.ofArray([[bj.Trim(eN)==="","Nombres"],[bj.Trim(eO)==="","Apellidos"],[bj.Trim(eP)==="","Fecha de Nacimiento"],[bj.Trim(eQ)==="","Genero"]])));};};},eH.Hole("nombres").get_View(),eH.Hole("apellidos").get_View()),eH.Hole("fechanacimiento").get_View()),eH.Hole("genero").get_View());p.Sink(function(eN){if(!J.Equals(eG.Get(),eN))eG.Set(eN);},p.Apply(p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(eN,eO){return ey.Curried(function(eP,eQ,eR,eS,eT){return!bc.isEmpty(eN)?null:bu.alertIfNone("Genero",cy.tryParse(eO),function(eU){return bu.alertIfNone("Fecha incorrecta",(cz.parseDateO2())(eP),function(eV){return{$:1,$0:bX.New(null,T.get(bj.SplitChars(bj.Trim(eQ),[" "],0),0),bj.concat(" ",cc.array(bj.SplitChars(bj.Trim(eR),[" "],0),{$:1,$0:1},null)),T.get(bj.SplitChars(bj.Trim(eS),[" "],0),0),bj.concat(" ",cc.array(bj.SplitChars(bj.Trim(eT),[" "],0),{$:1,$0:1},null)),new cA({$:3,$0:""}),eU,eV)};});});},5);},eM,eH.Hole("genero").get_View()),eH.Hole("fechanacimiento").get_View()),eH.Hole("nombres").get_View()),eH.Hole("nombres").get_View()),eH.Hole("apellidos").get_View()),eH.Hole("apellidos").get_View()));return[eM,eH.get_Doc()];};bm.formaDoc=function(eG){var eH,eI,eJ,eK,eL,eM,eN;eH=i.Create$1("");eI=(eJ=U.Make().WithHole({$:2,$0:"mensaje",$1:eH.get_View()}),(eK=V.CompleteHoles(eJ.k,eJ.h,[["correo",0],["confirmarcorreo",0]]),(eL=new S.New(eK[1],W.correo(eK[0])),(eJ.i=eL,eL))));eM=eG.Get();eM!=null&&eM.$==1?eI.Hole("confirmarcorreo").Set(a.String(eM.$0)):void 0;p.Sink(function(eO){eH.Set(eO);},p.Apply(p.Apply(p.Map2(function(eO,eP){return function(eQ){return function(eR){return bj.Trim(eO)===""||bj.Trim(eP)===""||bj.Trim(eQ)===bj.Trim(eR)?"":"Correos no son iguales";};};},eI.Hole("correo").get_View(),eI.Hole("confirmarcorreo").get_View()),eI.Hole("correo").get_View()),eI.Hole("confirmarcorreo").get_View()));p.Sink(function(eO){if(eO!=null&&eO.$==1)eI.Hole("correo").Set(eO.$0.email);},eG.get_View());eN=p.Apply(p.Apply(p.Map2(function(eO,eP){return function(eQ){return function(eR){return bc.map(function(eS){return eS[1];},bc.filter(function(eS){return eS[0];},bz.ofArray([[bj.Trim(eO)==="","Correo"],[bj.Trim(eP)==="","ConfirmarCorreo"],[eQ!=="",eR]])));};};},eI.Hole("correo").get_View(),eI.Hole("confirmarcorreo").get_View()),eH.get_View()),eH.get_View());p.Sink(function(eO){if(!J.Equals(eG.Get(),eO))eG.Set(eO);},p.Map2(function(eO,eP){var eQ,eR,eS,eT;return!bc.isEmpty(eO)?null:(eQ=(eR=eG.Get(),(eS={$:1,$0:M.correoVacio()},eR==null?eS:eR)),eQ==null?null:{$:1,$0:(eT=eQ.$0,bk.New(eP,eT.enviado,eT.recibido))});},eN,eI.Hole("correo").get_View()));return[eN,eI.get_Doc()];};bn.formaDoc=function(eG){var eH,eI,eJ,eK,eL,eM;eH=(eI=(eJ=Z.EmbedView(p.Map(bu.crearOptions,bu.tiposTel().get_View())),U.Make().WithHole({$:0,$0:"tipos",$1:eJ})),(eK=V.CompleteHoles(eI.k,eI.h,[["tipotelefono",0],["codigopais",0],["codigoarea",0],["telefono",0],["extension",0]]),(eL=new S.New(eK[1],W.telefono(eK[0])),(eI.i=eL,eL))));p.Sink(function(eN){var eO;if(eN!=null&&eN.$==1){eO=eN.$0;eH.Hole("codigoarea").Set(eO.codigoArea);eH.Hole("codigopais").Set(eO.codigoPais);eH.Hole("telefono").Set(eO.numero);eH.Hole("extension").Set(eO.extension);eH.Hole("tipotelefono").Set((function(eP){return function(eQ){return eP(a.String(eQ));};}(a.id))(eO.tipoTelefono));}},eG.get_View());eM=p.Apply(p.Map2(function(eN,eO){return function(eP){return bc.map(function(eQ){return eQ[1];},bc.filter(function(eQ){return eQ[0];},bz.ofArray([[bj.Trim(eN)==="","CodigoPais"],[bj.Trim(eO)==="","Telefono"],[bj.Trim(eP)==="","TipoTelefono"]])));};},eH.Hole("codigopais").get_View(),eH.Hole("telefono").get_View()),eH.Hole("tipotelefono").get_View());p.Sink(function(eN){if(!J.Equals(eG.Get(),eN))eG.Set(eN);},p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(eN,eO){return ey.Curried(function(eP,eQ,eR,eS){return!bc.isEmpty(eN)?null:bu.alertIfNone("TipoTelefono",(cC.get_tryParse())(bj.Trim(eO)),function(eT){var eU;return{$:1,$0:(eU=bj.Trim(eP),cB.New(eT,bj.Trim(eQ),eU,bj.Trim(eR),bj.Trim(eS),false))};});},4);},eM,eH.Hole("tipotelefono").get_View()),eH.Hole("codigoarea").get_View()),eH.Hole("codigopais").get_View()),eH.Hole("telefono").get_View()),eH.Hole("extension").get_View()));return[eM,eH.get_Doc()];};bo.formaDoc=function(eG){var eH,eI,eJ,eK,eL,eM,eN,eO;eH=(eI=(eJ=Z.EmbedView(p.Map(bu.crearOptions,bu.tiposDir().get_View())),(eK=Z.EmbedView(p.Map(bu.crearOptions,bu.estados().get_View())),(eL=Z.EmbedView(p.Map(bu.crearOptions,bu.paises().get_View())),U.Make().WithHole({$:0,$0:"paises",$1:eL})).WithHole({$:0,$0:"estados",$1:eK})).WithHole({$:0,$0:"tipos",$1:eJ})),(eM=V.CompleteHoles(eI.k,eI.h,[["tipodireccion",0],["direccion1",0],["direccion2",0],["ciudad",0],["estado",0],["codigopostal",0],["pais",0]]),(eN=new S.New(eM[1],W.direccion(eM[0])),(eI.i=eN,eN))));p.Sink(function(eP){var eQ;if(eP!=null&&eP.$==1){eQ=eP.$0;eH.Hole("direccion1").Set(eQ.linea1);eH.Hole("direccion2").Set(eQ.linea2);eH.Hole("ciudad").Set(eQ.ciudad);eH.Hole("estado").Set((function(eR){return function(eS){return eR(a.String(eS));};}(a.id))(eQ.estado));eH.Hole("pais").Set((function(eR){return function(eS){return eR(a.String(eS));};}(a.id))(eQ.pais));eH.Hole("codigopostal").Set((function(eR){return function(eS){return eR(a.String(eS));};}(a.id))(eQ.zonaPostal));eH.Hole("tipodireccion").Set((function(eR){return function(eS){return eR(a.String(eS));};}(a.id))(eQ.tipoDireccion));}},eG.get_View());eO=p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(eP,eQ){return ey.Curried(function(eR,eS,eT,eU){return bc.map(function(eV){return eV[1];},bc.filter(function(eV){return eV[0];},bz.ofArray([[bj.Trim(eP)==="","Direccion1"],[bj.Trim(eQ)==="","Ciudad"],[bj.Trim(eR)==="","Estado"],[bj.Trim(eS)==="","Pais"],[bj.Trim(eT)==="","CodigoPostal"],[bj.Trim(eU)==="","TipoDireccion"]])));},4);},eH.Hole("direccion1").get_View(),eH.Hole("ciudad").get_View()),eH.Hole("estado").get_View()),eH.Hole("pais").get_View()),eH.Hole("codigopostal").get_View()),eH.Hole("tipodireccion").get_View());p.Sink(function(eP){if(!J.Equals(eG.Get(),eP))eG.Set(eP);},p.Apply(p.Apply(p.Apply(p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(eP,eQ){return ey.Curried(function(eR,eS,eT,eU,eV,eW,eX){return!bc.isEmpty(eP)?null:bu.alertIfNone("TipoDireccion",cE.tryParse(bj.Trim(eQ)),function(eY){return bu.alertIfNone("Estado",cF.tryParse(bj.Trim(eR)),function(eZ){return bu.alertIfNone("Pais",cA.tryParse(bj.Trim(eS)),function(e0){return bu.alertIfNone("CodigoPostal",cG.tryParse(bj.Trim(eT)),function(e1){var e2;return{$:1,$0:cD.New((e2=eX==null?null:{$:1,$0:eX.$0.authorizeIdR},e2==null?bd.Error(""):e2.$0),eY,bj.Trim(eU),bj.Trim(eV),bj.Trim(eW),eZ,e0,e1)};});});});});},7);},eO,eH.Hole("tipodireccion").get_View()),eH.Hole("estado").get_View()),eH.Hole("pais").get_View()),eH.Hole("codigopostal").get_View()),eH.Hole("direccion1").get_View()),eH.Hole("direccion2").get_View()),eH.Hole("ciudad").get_View()),eG.get_View()));return[eO,eH.get_Doc()];};bp.asyncResult=function(){_5.$cctor();return _5.asyncResult;};bq=bp.AsyncResultBuilder=ey.Class({Run:function(eG){return cH.bind(eG,cH.rtn());},Delay:a.id,Bind$1:function(eG,eH){return cH.bind(eH,eG);},Zero:function(){return cH.rtn();},Combine$1:function(eG,eH){return cH.bind(eH,eG);},For:function(eG,eH){var eI;eI=this;return this.Using(cu.Get(eG),function(eJ){return eI.While(function(){return eJ.MoveNext();},eI.Delay(function(){return eH(eJ.Current());}));});},Return:function(eG){return cH.rtn(eG);},Bind:function(eG,eH){return cH.bind(eH,cH.rtnR(eG));},Using:function(eG,eH){return cR.Using(eG,eH);},While:function(eG,eH){return cH.whileLoop(eG,eH);},TryFinally:function(eG,eH){var eI;eI=null;return cR.Delay(function(){return cR.TryFinally(cR.Delay(function(){return eG();}),function(){eH();});});},ReturnFrom$1:a.id},g,bq);bq.New=ey.Ctor(function(){g.New.call(this);},bq);br.refrescarData=function(eG){var eH,eI,eJ;eG?br.set_shouldRefresh(true):void 0;eH=bS.userO().Get();eH!=null&&eH.$==1?(eI=eH.$0,_0.iterA((eJ=bp.asyncResult(),eJ.Run(eJ.Delay(function(){return eJ.Combine$1(bS.referidoPor()!==""?eJ.Bind$1(_0.agregarUsuarioSiEsNuevo(bS.claims(eI)),function(){return eJ.Return();}):eJ.Zero(),eJ.Delay(function(){return!self.document.hidden?br.shouldRefresh()?eJ.Bind$1(_0.obtenerEstadoParaUsuario(),function(eK){br.set_shouldRefresh(false);m.modeloV().Set(eK);return eJ.Zero();}):eJ.Zero():eJ.Zero();}));}))))):m.modeloV().Set(M.modeloVacio());};br.set_shouldRefresh=function(eG){_5.$cctor();_5.shouldRefresh=eG;};br.shouldRefresh=function(){_5.$cctor();return _5.shouldRefresh;};bt.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new a.RegExp("[xy]","g"),function(eG){var eH,eI;eH=ez.random()*16|0;eI=eG=="x"?eH:eH&3|8;return eI.toString(16);});};bt.TryParse=function(eG,eH){try{eH.set(bt.Parse(eG));return true;}catch(eI){return false;}};bt.Parse=function(eG){var eH,eI,eJ;try{return bt.ParseExact(eG,"D");}catch(eK){try{eH=bt.ParseExact(eG,"B");}catch(eL){try{eI=bt.ParseExact(eG,"P");}catch(eM){try{eJ=bt.ParseExact(eG,"N");}catch(eN){eJ=bt.ParseExact(eG,"X");}eI=eJ;}eH=eI;}return eH;}};bt.ParseExact=function(eG,eH){var eI,eJ,eK,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV;function eL(eW){var eX,eY,eZ,e0;for(eX=0,eY=35;eX<=eY;eX++){eX===8||(eX===13||(eX===18||eX===23))?eW[eX]!=="-"?bt.ShapeError():void 0:(e0=eW[eX],!("0"<=e0&&e0<="9"||"a"<=e0&&e0<="f")?bt.ShapeError():void 0);}return eW;}eM=eH.toUpperCase();if(eM==="N"){eN=bj.Trim(eG).toLowerCase();if(eN.length!==32)bt.ShapeError();for(eO=0,eP=31;eO<=eP;eO++){eQ=eN[eO];!("0"<=eQ&&eQ<="9"||"a"<=eQ&&eQ<="f")?bt.ShapeError():void 0;}return bj.Substring(eN,0,8)+"-"+bj.Substring(eN,8,4)+"-"+bj.Substring(eN,12,4)+"-"+bj.Substring(eN,16,4)+"-"+eN.substring(20);}else if(eM==="D"){eI=bj.Trim(eG).toLowerCase();eI.length!==36?bt.ShapeError():void 0;return eL(eI);}else if(eM==="B"){eJ=bj.Trim(eG).toLowerCase();eJ.length!==38||eJ[0]!=="{"||eJ[17]!=="}"?bt.ShapeError():void 0;return eL(bj.Substring(eJ,1,36));}else if(eM==="P"){eK=bj.Trim(eG).toLowerCase();eK.length!==38||eK[0]!=="("||eK[17]!==")"?bt.ShapeError():void 0;return eL(bj.Substring(eK,1,36));}else if(eM==="X"){eR=bj.Trim(eG).toLowerCase();if(eR.length!==68)bt.ShapeError();for(eS=0,eT=67;eS<=eT;eS++){switch(eS){case 26:case 0:if(eR[eS]!=="{")bt.ShapeError();break;case 62:case 57:case 52:case 47:case 42:case 37:case 32:case 27:case 19:case 12:case 1:if(eR[eS]!=="0")bt.ShapeError();break;case 63:case 58:case 53:case 48:case 43:case 38:case 33:case 28:case 20:case 13:case 2:if(eR[eS]!=="x")bt.ShapeError();break;case 61:case 56:case 51:case 46:case 41:case 36:case 31:case 25:case 18:case 11:if(eR[eS]!==",")bt.ShapeError();break;case 67:case 66:if(eR[eS]!=="{")bt.ShapeError();break;default:eV=eR[eS];!("0"<=eV&&eV<="9"||"a"<=eV&&eV<="f")?bt.ShapeError():void 0;break;}}return bj.Substring(eR,3,8)+"-"+bj.Substring(eR,14,4)+"-"+bj.Substring(eR,21,4)+"-"+bj.Substring(eR,29,2)+bj.Substring(eR,34,2)+"-"+bj.Substring(eR,39,2)+bj.Substring(eR,44,2)+bj.Substring(eR,49,2)+bj.Substring(eR,54,2)+bj.Substring(eR,59,2)+bj.Substring(eR,64,2);}else return bt.FormatError();};bt.ShapeError=function(){throw new en.New$1("Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");};bt.FormatError=function(){throw new en.New$1("Format String can be only \"D\", \"d\", \"N\", \"n\", \"P\", \"p\", \"B\", \"b\", \"X\" or \"x\".");};T.mapi=function(eG,eH){var eI,eJ,eK;eI=new a.Array(eH.length);for(eJ=0,eK=eH.length-1;eJ<=eK;eJ++)eI[eJ]=eG(eJ,eH[eJ]);return eI;};T.map=function(eG,eH){var eI,eJ,eK;eI=new a.Array(eH.length);for(eJ=0,eK=eH.length-1;eJ<=eK;eJ++)eI[eJ]=eG(eH[eJ]);return eI;};T.sortBy=function(eG,eH){return T.map(function(eI){return eI[0];},T.mapi(function(eI,eJ){return[eJ,[eG(eJ),eI]];},eH).sort(function(eI,eJ){return J.Compare(eI[1],eJ[1]);}));};T.reduce=function(eG,eH){var eI,eJ,eK;T.nonEmpty(eH);eI=eH[0];for(eJ=1,eK=eH.length-1;eJ<=eK;eJ++)eI=eG(eI,eH[eJ]);return eI;};T.filter=function(eG,eH){var eI,eJ,eK;eI=[];for(eJ=0,eK=eH.length-1;eJ<=eK;eJ++)if(eG(eH[eJ]))eI.push(eH[eJ]);return eI;};T.choose=function(eG,eH){var eI,eJ,eK,eL;eI=[];for(eJ=0,eK=eH.length-1;eJ<=eK;eJ++){eL=eG(eH[eJ]);eL==null?void 0:eI.push(eL.$0);}return eI;};T.ofSeq=function(eG){var eH,eI;if(eG instanceof a.Array)return eG.slice();else if(eG instanceof cx)return T.ofList(eG);else{eH=[];eI=cu.Get(eG);try{while(eI.MoveNext())eH.push(eI.Current());return eH;}finally{if(typeof eI=="object"&&"Dispose"in eI)eI.Dispose();}}};T.sortInPlaceWith=function(eG,eH){eH.sort(eG);};T.nonEmpty=function(eG){if(eG.length===0)o.FailWith("The input array was empty.");};T.tryFindIndex=function(eG,eH){var eI,eJ;eI=null;eJ=0;while(eJ<eH.length&&eI==null){eG(eH[eJ])?eI={$:1,$0:eJ}:void 0;eJ=eJ+1;}return eI;};T.ofList=function(eG){var eH,eI;eI=[];eH=eG;while(!(eH.$==0)){eI.push(bz.head(eH));eH=bz.tail(eH);}return eI;};T.sortInPlace=function(eG){T.mapInPlace(function(eH){return eH[0];},T.mapiInPlace(function(eH,eI){return[eI,eH];},eG).sort(J.Compare));};T.tryFind=function(eG,eH){var eI,eJ;eI=null;eJ=0;while(eJ<eH.length&&eI==null){eG(eH[eJ])?eI={$:1,$0:eH[eJ]}:void 0;eJ=eJ+1;}return eI;};T.sortInPlaceBy=function(eG,eH){T.mapInPlace(function(eI){return eI[0];},T.mapiInPlace(function(eI,eJ){return[eJ,[eG(eJ),eI]];},eH).sort(function(eI,eJ){return J.Compare(eI[1],eJ[1]);}));};T.map2=function(eG,eH,eI){var eJ,eK,eL;T.checkLength(eH,eI);eJ=new a.Array(eI.length);for(eK=0,eL=eI.length-1;eK<=eL;eK++)eJ[eK]=eG(eH[eK],eI[eK]);return eJ;};T.forall=function(eG,eH){var eI,eJ,eK,eL;eI=true;eJ=0;eL=T.length(eH);while(eI&&eJ<eL)if(eG(eH[eJ]))eJ=eJ+1;else eI=false;return eI;};T.init=function(eG,eH){var eI,eJ,eK;eG<0?o.FailWith("Negative size given."):null;eI=new a.Array(eG);for(eJ=0,eK=eG-1;eJ<=eK;eJ++)eI[eJ]=eH(eJ);return eI;};T.find=function(eG,eH){var eI;eI=T.tryFind(eG,eH);return eI==null?o.FailWith("KeyNotFoundException"):eI.$0;};T.tryPick=function(eG,eH){var eI,eJ,eK;eI=null;eJ=0;while(eJ<eH.length&&eI==null){eK=eG(eH[eJ]);eK!=null&&eK.$==1?eI=eK:void 0;eJ=eJ+1;}return eI;};T.concat=function(eG){return a.Array.prototype.concat.apply([],T.ofSeq(eG));};T.checkLength=function(eG,eH){if(eG.length!==eH.length)o.FailWith("The arrays have different lengths.");};T.exists=function(eG,eH){var eI,eJ,eK,eL;eI=false;eJ=0;eL=T.length(eH);while(!eI&&eJ<eL)if(eG(eH[eJ]))eI=true;else eJ=eJ+1;return eI;};T.pick=function(eG,eH){var eI;eI=T.tryPick(eG,eH);return eI==null?o.FailWith("KeyNotFoundException"):eI.$0;};T.create=function(eG,eH){var eI,eJ,eK;eI=new a.Array(eG);for(eJ=0,eK=eG-1;eJ<=eK;eJ++)eI[eJ]=eH;return eI;};T.iter=function(eG,eH){var eI,eJ;for(eI=0,eJ=eH.length-1;eI<=eJ;eI++)eG(eH[eI]);};T.foldBack=function(eG,eH,eI){var eJ,eK,eL,eM,eN;eJ=eI;eL=eH.length;for(eM=1,eN=eL;eM<=eN;eM++)eJ=eG(eH[eL-eM],eJ);return eJ;};bu.statuses=function(){_5.$cctor();return _5.statuses;};bu.crearOptions=function(eG){return Z.Concat(bc.map(bu.crearOption,eG));};bu.crearOptions2=function(eG){return Z.Concat(bc.map(function(eH){return bu.crearOption2(eH[0],eH[1]);},eG));};bu.statusAr=function(){_5.$cctor();return _5.statusAr;};bu.tiposAr=function(){_5.$cctor();return _5.tiposAr;};bu.paises=function(){_5.$cctor();return _5.paises;};bu.estados=function(){_5.$cctor();return _5.estados;};bu.tiposDir=function(){_5.$cctor();return _5.tiposDir;};bu.tiposTel=function(){_5.$cctor();return _5.tiposTel;};bu.generos=function(){_5.$cctor();return _5.generos;};bu.tiposCta=function(){_5.$cctor();return _5.tiposCta;};bu.tiposTar=function(){_5.$cctor();return _5.tiposTar;};bu.aniosV=function(){_5.$cctor();return _5.aniosV;};bu.mesesV=function(){_5.$cctor();return _5.mesesV;};bu.alertIfNone=function(eG,eH,eI){return eH!=null&&eH.$==1?eI(eH.$0):(a.alert("Error not caught: "+eG),null);};bu.removeButton=function(eG,eH){return Z.Element("form",[cS.Create("class","mui-panel")],[eH,Z.Button("borrar",[cS.Create("title","borrar")],eG)]);};bu.fst3=a.id;bu.crearOption=function(eG){return Z.Element("option",[],[Z.TextNode(eG)]);};bu.crearOption2=function(eG,eH){return Z.Element("option",[cS.Create("value",eH)],[Z.TextNode(eG)]);};bu.thr3=function(eG,eH,eI){return eI;};bu.snd3=function(eG,eH,eI){return eH;};bw=bv.attr=ey.Class({},g,bw);bx.B={$:0};by=M.StatusAliado=ey.Class({toString:function(){return(function(eG){return function(eH){return eG(bb.p(eH));};}(a.id))(this);}},null,by);by.tryParse=function(eG){var eH;eH=bj.Trim(eG).toUpperCase();return eH==="CUENTACREADA"?by.CuentaCreada:eH==="ACTIVO"?by.Activo:eH==="CANCELADO"?by.Cancelado:by.Inactivo;};by.CuentaCreada=new by({$:0});by.Activo=new by({$:1});by.Cancelado=new by({$:3});by.Inactivo=new by({$:2});bz.ofArray=function(eG){var eH,eI,eJ;eH=cx.Empty;for(eI=T.length(eG)-1,eJ=0;eI>=eJ;eI--)eH=new cx({$:1,$0:T.get(eG,eI),$1:eH});return eH;};bz.ofSeq=function(eG){var eH,eI,eJ,eK,eL,eM;if(eG instanceof cx)return eG;else if(eG instanceof a.Array)return bz.ofArray(eG);else{eH=cu.Get(eG);try{eJ=eH.MoveNext();if(!eJ)eI=cx.Empty;else{eL=new cx({$:1});eK=eL;while(eJ){eK.$0=eH.Current();eH.MoveNext()?eK=(eM=new cx({$:1}),eK.$1=eM,eM):eJ=false;}eK.$1=cx.Empty;eI=eL;}return eI;}finally{if(typeof eH=="object"&&"Dispose"in eH)eH.Dispose();}}};bz.rev=function(eG){var eH,eI;eH=cx.Empty;eI=eG;while(eI.$==1){eH=new cx({$:1,$0:eI.$0,$1:eH});eI=eI.$1;}return eH;};bz.head=function(eG){return eG.$==1?eG.$0:bz.listEmpty();};bz.tail=function(eG){return eG.$==1?eG.$1:bz.listEmpty();};bz.listEmpty=function(){return o.FailWith("The input list was empty.");};bz.iter=function(eG,eH){var eI;eI=eH;while(eI.$==1){eG(bz.head(eI));eI=bz.tail(eI);}};bA.New=function(eG,eH,eI,eJ,eK){return{titular:eG,banco:eH,tipo:eI,numero:eJ,routing:eK};};bB=M.RoutingNumber=ey.Class({get_Id:function(){return this.$0;}},null,bB);bC=M.NumeroCuenta=ey.Class({get_Id:function(){return this.$0;}},null,bC);bD.toSafe=function(eG){return eG==null?"":eG;};bD.prettyPrint=function(eG){var eH,eI;function eJ(eK,eL){return eK+" = "+bD.prettyPrint(eL);}return eG===null?"null":(eH=typeof eG,eH=="string"?"\""+eG+"\"":eH=="object"?eG instanceof a.Array?"[|"+bj.concat("; ",T.map(bD.prettyPrint,eG))+"|]":(eI=a.String(eG),eI==="[object Object]"?"{"+bj.concat("; ",T.map(function(eK){return eJ(eK[0],eK[1]);},I.GetFields(eG)))+"}":eI):a.String(eG));};bD.padNumLeft=function(eG,eH){var eI;eI=T.get(eG,0);return eI===" "||eI==="+"||eI==="-"?eI+bj.PadLeftWith(eG.substr(1),eH-1,"0"):bj.PadLeftWith(eG,eH,"0");};bD.printList=function(eG,eH){return"["+bj.concat("; ",bc.map(eG,eH))+"]";};bE.New=function(eG,eH,eI,eJ){return{nombre:eG,authorizeIdR:eH,cuentaPago:eI,subscripcion:eJ};};M.ctaVacio=function(){b1.$cctor();return b1.ctaVacio;};M.premisasCalculo=function(){b1.$cctor();return b1.premisasCalculo;};M.correoVacio=function(){b1.$cctor();return b1.correoVacio;};M.modeloVacio=function(){b1.$cctor();return b1.modeloVacio;};M.telVacio=function(){b1.$cctor();return b1.telVacio;};M.dirVacio=function(){b1.$cctor();return b1.dirVacio;};M.tarVacio=function(){b1.$cctor();return b1.tarVacio;};bF.defaultValue=function(eG,eH){return eH.$==1?eG:eH.$0;};bF.result=function(){b1.$cctor();return b1.result;};bF.rtn=function(eG){return{$:0,$0:eG};};_6.Create=function(eG,eH){return _6.CreateWithStorage(eG,cV.InMemory(T.ofSeq(eH)));};_6.CreateWithStorage=function(eG,eH){return new _6.New(eG,eH);};bG.New=function(eG,eH,eI,eJ,eK,eL,eM){return{idAliado:eG,tipo:eH,nombre:eI,modificado:eJ,tamano:eK,status:eL,comentario:eM};};bH["AsyncResultBuilder.Bind"]=function(eG,eH,eI){function eJ(eL){return{$:0,$0:eL};}function eK(eL){return cR.Return(eL);}return cH.bind(eI,cR.Bind(eH,function(eL){return eK(eJ(eL));}));};bI.docLensMapView=function(eG,eH,eI){function eJ(eK,eL){return eH(eK,bI["lensInto'"](eI,a.id,function(){return a.id;},eK,eL));}return Z.ConvertSeqBy(eI.key,function(eK){return function(eL){return eJ(eK,eL);};},p.Map(eG,eI.v));};bI["lensInto'"]=function(eG,eH,eI,eJ,eK){var eL,eM;eL=du.freshId();eM=new q({Get:function(){return eH(eG.FindByKey(eJ));},Set:function(eN){return eG.UpdateBy(function(eO){return{$:1,$0:(eI(eO))(eN)};},eJ);},Update:function(eN){return eG.UpdateBy(function(eO){var eP;return{$:1,$0:(eP=eN(eH(eO)),(eI(eO))(eP))};},eJ);},UpdateMaybe:function(eN){return eG.UpdateBy(function(eO){var eP,eQ;eP=eN(eH(eO));eQ=eI(eO);return eP==null?null:{$:1,$0:eQ(eP.$0)};},eJ);},SetFinal:function(eN){return this.Set(eN);},get_View:function(){return eK;},get_Id:function(){return eL;}});q.New.call(eM);return eM;};bJ.toYYYYMMDDHHMM=function(eG,eH){return(((ey.Curried3(function(eI,eJ,eK){return eI(bD.toSafe(eJ)+" "+bD.toSafe(eK));}))(a.id))(bJ.toYYYYMMDD(eG,eH)))(bJ.toHHMM(eH));};bJ.toYYYYMMDD=function(eG,eH){return((((((ey.Curried(function(eI,eJ,eK,eL,eM,eN){return eI(a.String(eJ)+bD.toSafe(eK)+bD.padNumLeft(a.String(eL),2)+bD.toSafe(eM)+bD.padNumLeft(a.String(eN),2));},6))(a.id))((new eC(eH)).getFullYear()))(eG))((new eC(eH)).getMonth()+1))(eG))((new eC(eH)).getDate());};bJ.toHHMM=function(eG){return(((ey.Curried3(function(eH,eI,eJ){return eH(bD.padNumLeft(a.String(eI),2)+":"+bD.padNumLeft(a.String(eJ),2));}))(a.id))((new eC(eG)).getHours()))((new eC(eG)).getMinutes());};bK.thousands=function(eG){var eH,eI,eJ;eH=a.String(eG);eI=eH.length%3;eJ=eI===0?3:eI;return bj.concat(",",bz.ofSeq(bc.delay(function(){return bc.append([cc.string(eH,{$:1,$0:0},{$:1,$0:eJ-1})],bc.delay(function(){return bc.map(function(eK){return cc.string(eH,{$:1,$0:eK*3+eJ},{$:1,$0:eK*3+eJ+2});},o.range(0,((eH.length-eJ)/3>>0)-1));}));})));};bK.StartsWith=function(eG,eH){return bj.StartsWith(eH,eG)?{$:1,$0:cc.string(eH,{$:1,$0:eG.length},null)}:null;};bK.unindent=function(eG){var eH,eI,eJ,eK;eH=bj.SplitChars(eG,["\n"],0);eI=(eJ=bc.tryFindIndex(function(eL){return" "!==eL;},(eK=bc.tryFind(function(eL){return bj.Trim(eL)!=="";},eH),eK==null?"":eK.$0)),eJ==null?0:eJ.$0);return bc.filter(function(eL){return!bj.StartsWith(eL,"# 1 ");},bc.map(function(eL){return eL.length<=eI?"":eL.substring(eI);},eH));};bK.splitByChar=function(eG,eH){return bj.SplitChars(eH,[eG],0);};bL=M.TipoArchivo=ey.Class({toString:function(){return this.$==7?this.$0:(function(eG){return function(eH){return eG(bb.p$4(eH));};}(a.id))(this);}},null,bL);bL.Parse=function(eG){var eH;eH=bK.StartsWith("Otro ",eG);return eH!=null&&eH.$==1?new bL({$:7,$0:eH.$0}):eG==="Contrato"?bL.Contrato:eG==="FormaW9"?bL.FormaW9:eG==="FormaW8BEN"?bL.FormaW8BEN:eG==="Autorizacion"?bL.Autorizacion:eG==="Pasaporte"?bL.Pasaporte:eG==="Cedula"?bL.Cedula:eG==="LicenciaConducir"?bL.LicenciaConducir:new bL({$:7,$0:bj.Trim(eG)});};bL.Autorizacion=new bL({$:1});bL.Contrato=new bL({$:0});bL.FormaW9=new bL({$:5});bL.FormaW8BEN=new bL({$:6});bL.Pasaporte=new bL({$:2});bL.Cedula=new bL({$:3});bL.LicenciaConducir=new bL({$:4});bM=M.StatusArchivo=ey.Class({toString:function(){return(function(eG){return function(eH){return eG(bb.p$5(eH));};}(a.id))(this);}},null,bM);bM.Parse=function(eG){return eG==="Cambiado"?bM.Cambiado:eG==="Expirado"?bM.Expirado:eG==="Cancelado"?bM.Cancelado:eG==="Verificado"?bM.Verificado:eG==="Rechazado"?bM.Rechazado:bM.Subido;};bM.Cambiado=new bM({$:5});bM.Expirado=new bM({$:3});bM.Cancelado=new bM({$:4});bM.Verificado=new bM({$:1});bM.Rechazado=new bM({$:2});bM.Subido=new bM({$:0});p=h.View=ey.Class({get_V:function(){return o.FailWith("View<'T>.V can only be called in an argument to a V-enabled function or if 'T = Doc.");}},null,p);bO=M.CuentaPago=ey.Class({get_AutorizacionPre:function(){return(((ey.Curried3(function(eG,eH,eI){return eG("Autorizacion "+bD.toSafe(eH)+" "+bD.toSafe(eI));}))(a.id))(this.get_TipoCorto()))(this.get_MaskedCuenta());},get_TipoCorto:function(){return this.$==0?"CB":this.$==2?"TE":"TC";},get_MaskedCuenta:function(){return this.$==0?this.$0.numero.get_Id():this.$==2?this.$0:this.$0.numero.get_Id();},get_TipoLargo:function(){return this.$==0?"Cuenta Bancaria":this.$==2?"Transferencia Electronica":"Tarjeta de Credito";}},null,bO);bP.formaFirma=function(eG,eH,eI,eJ,eK){var eL,eM,eN,eO,eP,eQ,eR;function eS(){var eT;_0.iterA((eT=bp.asyncResult(),eT.Run(eT.Delay(function(){return bP.mensajes().Get()!==""?(a.alert(bP.mensajes().Get()),eT.Zero()):eT.Bind$1(bP.subirScreenShot(eI,eK),function(){return eT.Bind$1(cH.map(function(eU){a.alert(eU);},eJ()),function(){m.endPointV().Set(ck.DefaultEP);return eT.Zero();});});}))));}eL=i.Create$1(false);eM=(eN=(eO=n.get_LoggedId().get_Id(),(eP=U.Make().WithHole({$:2,$0:"firmarclass",$1:p.Map(function(eT){return eT===""?"mui-btn--primary":"";},bP.mensajes().get_View())}).WithHole({$:2,$0:"mensaje",$1:bP.mensajes().get_View()}).WithHole({$:0,$0:"contenido",$1:eH}).WithHole({$:9,$0:"acepto",$1:i.Lens(eL,a.id,function(eT,eU){return eU;})}),eP.WithHole(V.EventQ2(eP.k,"firmar",function(){return eP.i;},function(){eS();}))).WithHole({$:2,$0:"datetime",$1:bP.fechaHoraV().get_View()}).WithHole({$:1,$0:"idloggedin",$1:eO})).WithHole({$:2,$0:"textobotonfirmar",$1:p.Map(function(eT){return eT?"FIRMADO!":"Firmar y Procesar";},bP.firmadoV().get_View())}),(eQ=V.CompleteHoles(eN.k,eN.h,[["firmante",0],["fecha",0],["acepto",2]]),(eR=new S.New(eQ[1],W.formafirma(eQ[0])),(eN.i=eR,eR))));p.Sink(function(eT){bP.mensajes().Set(eT);},p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(eT,eU){return ey.Curried(function(eV,eW,eX,eY){return bj.concat(", ",bc.map(function(eZ){return eZ[1];},bc.filter(function(eZ){return eZ[0];},bz.ofArray([[bj.Trim(eT)!==eU.toUpperCase(),"Nombre en MAYUSCULAS debe coincidir"],[eV!==bd["String.Left"](eW,10),"Introduzca fecha de hoy (YYYY-MM-DD)"],[!J.Equals(eX,true),"Acepte los terminos indicados"],[!J.Equals(n.get_LoggedId(),eY.id),"El documento solo debe ser firmado por el titular de la cuenta"]]))));},4);},eM.Hole("firmante").get_View(),eG),eM.Hole("fecha").get_View()),bP.fechaHoraV().get_View()),eM.Hole("acepto").get_View()),m.aliadoW()));return eM.get_Doc();};bP.fechaHoraV=function(){_5.$cctor();return _5.fechaHoraV;};bP.firmadoV=function(){_5.$cctor();return _5.firmadoV;};bP.mensajes=function(){_5.$cctor();return _5.mensajes;};bP.subirScreenShot=function(eG,eH){var eI;eI=null;return cR.Delay(function(){return cR.TryFinally(cR.Delay(function(){bP.firmadoV().Set(true);return cR.Bind(cR.FromContinuations(function(eJ){eA.getJSON("https://ipapi.co/json/",function(eK){eJ(eK);});}),function(eJ){bc.iter(function(eK){eJ[eK]=self.navigator[eK];},bz.ofArray(["appVersion","platform","product","productSub","vendor","languages"]));a.obj2Table(eJ);return cR.Bind(cR.Sleep(100),function(){return cR.Bind(dc.AsAsync(a.html2canvas(self.document.querySelector("#FormaFirma"))),function(eK){var eL;self.document.body.appendChild(eK);eL=(((ey.Curried3(function(eM,eN,eO){return eM(bD.toSafe(eN)+" "+bD.toSafe(eO)+".png");}))(a.id))(eH))(bj.Replace(bP.fechaHoraV().Get(),":","."));bP.toBlob(eK,function(eM){var eN,eO;eN=new a.FormData();eN.append("fname",eL);eN.append("data",eM);eA.ajax((eO={},eO.type="POST",eO.url="/api/subir/"+m.modeloV().Get().idAliado.get_Id()+"/"+eL,eO.data=eN,eO.contentType=false,eO.processData=false,eO.success=bP.uploaded(),eO));});self.document.body.removeChild(eK);return _0.ejecutarDataEventoNuevo({$:9,$0:[n.get_LoggedId(),[bG.New(m.modeloV().Get().idAliado,eG,eL,eC.now(),0,bM.Subido,"Firma Electronica")]]});});});});}),function(){br.refrescarData(true);bP.firmadoV().Set(false);});});};bP.toBlob=function(eG,eH){if(!(!eG.toBlob))eG.toBlob(eH);else if(!(!eG.msToBlob))eH(eG.msToBlob());else a.alert("Browser no es compatible: toBlob");};bP.uploaded=function(){_5.$cctor();return _5.uploaded;};bQ.New=function(eG,eH,eI,eJ,eK,eL,eM,eN){return{comisionReferidosRegular:eG,comisionReferidosMaster:eH,comisionDescendientesMaster:eI,comisionDescendientesRegular:eJ,montoAfiliacion:eK,numeroReferidosMaster:eL,diaCorte1:eM,diaCorte2:eN};};bR.New=function(eG,eH,eI){return{actName:eG,actFunction:eH,actEnabled:eI};};bS.logout=function(){bS.executePolicy(true,ce.SignIn);};bS.userO=function(){_5.$cctor();return _5.userO;};bS.storeValue=function(eG,eH){self.localStorage.setItem(eG,eH);return eH;};bS.appId=function(){_5.$cctor();return _5.appId;};bS.storageGetItem=function(eG){return self.localStorage.getItem(eG);};bS.getAuthority=function(eG,eH){return((((ey.Curried(function(eI,eJ,eK,eL){return eI("https://"+bD.toSafe(eJ)+".b2clogin.com/tfp/"+bD.toSafe(eK)+".onmicrosoft.com/"+bD.toSafe(eL));},4))(a.id))(eG))(eG))(eH);};bS.tenantName=function(){_5.$cctor();return _5.tenantName;};bS.signInPolicy=function(){_5.$cctor();return _5.signInPolicy;};bS.applicationId=function(){_5.$cctor();return _5.applicationId;};bS.authority=function(){_5.$cctor();return _5.authority;};bS.redirectCallback=function(eG,eH){try{!J.Equals(eG,null)?eB.log(["redirectCallback ERROR: ",eG]):void 0;!J.Equals(eH,null)?eB.log(["redirectCallback: ",eH]):null;}catch(eI){(((ey.Curried3(function(eJ,eK,eL){return eJ(bD.prettyPrint(eK)+" "+bD.toSafe(eL));}))(function(eJ){eB.log(eJ);}))(eI))(eI.stack);}};bS.getTokenO0=function(){var eG;eG=null;return cR.Delay(function(){function eH(eI,eJ){return J.Equals(eJ,null)?(eB.log(eI+" token is null!!"),null):{$:1,$0:eJ};}return bS.userO().Get()==null?(eB.log("getTokenO0 (4): No user connected!"),cR.Return(null)):cR.TryWith(cR.Delay(function(){return cR.Bind(dc.AsAsync(bS.agent().f().acquireTokenSilent(bS.authParms())),function(eI){return cR.Return(eH("getTokenO0 (0): ",eI.accessToken));});}),function(eI){eB.log(["getTokenO0 (1): ",eI.message]);return cR.TryWith(cR.Delay(function(){return cR.Bind(cR.FromContinuations(function(eJ,eK){bS.agent().f().handleRedirectCallback(function(eL,eM){try{!J.Equals(eL,null)?(eB.log(["redirectCallback ERROR: ",eL]),eK(new da(eL.errorMessage))):!J.Equals(eM,null)?(eB.log(["redirectCallback: ",eM]),eJ(eM)):null;}catch(eN){(((ey.Curried3(function(eO,eP,eQ){return eO(bD.prettyPrint(eP)+" "+bD.toSafe(eQ));}))(function(eO){eB.log(eO);}))(eN))(eN.stack);}});return bS.agent().f().acquireTokenRedirect(bS.authParms());}),function(eJ){return cR.Return(eH("getTokenO0 (2): ",eJ.accessToken));});}),function(eJ){eB.log(["getTokenO0 (3): ",eJ.message]);return cR.Return(null);});});});};bS.checkUser=function(){var eG;cR.Start((eG=null,cR.Delay(function(){return cR.Bind(cR.Sleep(100),function(){return cR.While(function(){return true;},cR.Delay(function(){var eH,eI;eH=(eI=bS.agent().f().getAccount(),J.Equals(eI,null)?null:{$:1,$0:eI});return cR.Combine(bS.getId(eH)!==bS.getId(bS.userO().Get())?(bS.userO().Set(eH),cR.Zero()):cR.Zero(),cR.Delay(function(){return cR.Combine(J.Equals(bS.userO().Get(),null)?(bS.executePolicy(false,ce.SignIn),cR.Zero()):cR.Zero(),cR.Delay(function(){return cR.Bind(cR.Sleep(9000),function(){return cR.Return(null);});}));}));}));});})),null);};bS.referidoPor=function(){return bS.storageGetItem("referidoPor");};bS.claims=function(eG){var eH;eH=[["oid",eG.idToken.oid],["city",eG.idToken.city],["country",eG.idToken.country],["extension_DateOfBirth",eG.idToken.extension_DateOfBirth],["given_name",eG.idToken.given_name],["postalCode",eG.idToken.postalCode],["state",eG.idToken.state],["streetAddress",eG.idToken.streetAddress],["family_name",eG.idToken.family_name],["emails",T.get(eG.idToken.emails,0)],["referidoPor",bS.referidoPor()]];bS.storageSetItem("referidoPor","");return eH;};bS.executePolicy=function(eG,eH){bS.storeValue("forceLogin",eG?"1":"0");bS.storeValue("goInsideLink",self.location.href);bS.storeValue("policyType",a.String(eH));self.location.replace("blob/Msal.html");};bS.authParms=function(){return dG.New$1(null,null,null,null,null,null,null,null,{$:1,$0:[(((ey.Curried3(function(eG,eH,eI){return eG("https://"+bD.toSafe(eH)+".onmicrosoft.com/"+bD.toSafe(eI)+"/user_impersonation");}))(a.id))(bS.tenantName()))(bS.appId()),(((ey.Curried3(function(eG,eH,eI){return eG("https://"+bD.toSafe(eH)+".onmicrosoft.com/"+bD.toSafe(eI)+"/Prozper.Admin");}))(a.id))(bS.tenantName()))(bS.appId())]},null,null);};bS.agent=function(){_5.$cctor();return _5.agent;};bS.getId=function(eG){var eH;eH=eG==null?null:{$:1,$0:eG.$0.idToken.oid};return eH==null?"":eH.$0;};bS.getTokenO=function(){_5.$cctor();return _5.getTokenO;};bS.storageSetItem=function(eG,eH){self.localStorage.setItem(eG,eH);};bU.New=function(eG,eH){return{lytName:eG,lytDefinition:eH};};bV.$cctor=function(){var eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4,e5,e6,e7,e8,e9,e_,e$,fa,fb,fc;bV.$cctor=a.ignore;function fd(fN){return bj.concat("\n",fN);}function fe(fN){return bK.splitByChar("\n",fN);}function ff(fN){var fO,fP;return cc.array(fN,{$:1,$0:0},{$:1,$0:(fO=0,(fP=T.length(fN)-2,J.Compare(fO,fP)===1?fO:fP))});}function fg(fN){return bj.concat("\n",fN);}function fh(fN){return fN+"T00:00:00";}function fi(fN){var fO;function fP(fR){return k.plugIns().TryFindByKey(fR);}function fQ(fR){var fS;fS=k.defaultPlugIn();return fR==null?fS:fR.$0;}fO=function(fR){return fR==null?null:fP(fR.$0);};return function(fR){return fQ(fO(fR));};}function fj(fN){var fO;fO=null;return eK.TryGetValue(fN,{get:function(){return fO;},set:function(fP){fO=fP;}})?{$:1,$0:fO}:null;}function fk(fN,fO){eK.set_Item(fN,fO);return fO;}function fl(fN,fO){var fP;fP=fj(fN);return fP==null?fk(fN,fO(fN)):fP.$0;}function fm(fN){var fO;fO=null;return eN.TryGetValue(fN,{get:function(){return fO;},set:function(fP){fO=fP;}})?{$:1,$0:fO}:null;}function fn(fN,fO){eN.set_Item(fN,fO);return fO;}function fo(fN,fO){var fP;fP=fm(fN);return fP==null?fn(fN,fO(fN)):fP.$0;}function fp(fN){var fO;fO=null;return eQ.TryGetValue(fN,{get:function(){return fO;},set:function(fP){fO=fP;}})?{$:1,$0:fO}:null;}function fq(fN,fO){eQ.set_Item(fN,fO);return fO;}function fr(fN,fO){var fP;fP=fp(fN);return fP==null?fq(fN,fO(fN)):fP.$0;}function fs(fN){var fO;fO=null;return eT.TryGetValue(fN,{get:function(){return fO;},set:function(fP){fO=fP;}})?{$:1,$0:fO}:null;}function ft(fN,fO){eT.set_Item(fN,fO);return fO;}function fu(fN,fO){var fP;fP=fs(fN);return fP==null?ft(fN,fO(fN)):fP.$0;}function fv(fN){var fO;fO=null;return eW.TryGetValue(fN,{get:function(){return fO;},set:function(fP){fO=fP;}})?{$:1,$0:fO}:null;}function fw(fN,fO){eW.set_Item(fN,fO);return fO;}function fx(fN,fO){var fP;fP=fv(fN);return fP==null?fw(fN,fO(fN)):fP.$0;}function fy(fN){var fO;fO=null;return eZ.TryGetValue(fN,{get:function(){return fO;},set:function(fP){fO=fP;}})?{$:1,$0:fO}:null;}function fz(fN,fO){eZ.set_Item(fN,fO);return fO;}function fA(fN,fO){var fP;fP=fy(fN);return fP==null?fz(fN,fO(fN)):fP.$0;}function fB(fN){var fO;fO=null;return e2.TryGetValue(fN,{get:function(){return fO;},set:function(fP){fO=fP;}})?{$:1,$0:fO}:null;}function fC(fN,fO){e2.set_Item(fN,fO);return fO;}function fD(fN,fO){var fP;fP=fB(fN);return fP==null?fC(fN,fO(fN)):fP.$0;}function fE(fN){var fO;fO=null;return e5.TryGetValue(fN,{get:function(){return fO;},set:function(fP){fO=fP;}})?{$:1,$0:fO}:null;}function fF(fN,fO){e5.set_Item(fN,fO);return fO;}function fG(fN,fO){var fP;fP=fE(fN);return fP==null?fF(fN,fO(fN)):fP.$0;}function fH(fN){var fO;fO=null;return e8.TryGetValue(fN,{get:function(){return fO;},set:function(fP){fO=fP;}})?{$:1,$0:fO}:null;}function fI(fN,fO){e8.set_Item(fN,fO);return fO;}function fJ(fN,fO){var fP;fP=fH(fN);return fP==null?fI(fN,fO(fN)):fP.$0;}function fK(fN){var fO;fO=null;return e$.TryGetValue(fN,{get:function(){return fO;},set:function(fP){fO=fP;}})?{$:1,$0:fO}:null;}function fL(fN,fO){e$.set_Item(fN,fO);return fO;}function fM(fN,fO){var fP;fP=fK(fN);return fP==null?fL(fN,fO(fN)):fP.$0;}bV.unindentStr=function(fN){return fd(bK.unindent(fN));};bV.skipLastLine=(eG=function(fN){return ff(fe(fN));},function(fN){return fg(eG(fN));});bV.parseDateO2=(eH=cz.tryParseWith(function(fN){var fO,fP;fO=0;return[(fP=dy.TryParse(fN),fP!=null&&fP.$==1&&(fO=fP.$0,true)),fO];}),function(fN){return eH(fh(fN));});bV.parseDateO=cz.tryParseWith(function(fN){var fO,fP;fO=0;return[(fP=dy.TryParse(fN),fP!=null&&fP.$==1&&(fO=fP.$0,true)),fO];});bV.parseIntO=cz.tryParseWith(function(fN){var fO;fO=0;return[b0.TryParseInt32(fN,{get:function(){return fO;},set:function(fP){fO=fP;}}),fO];});bV.parseInt64O=cz.tryParseWith(function(fN){var fO;fO=0;return[b0.TryParseInt64(fN,{get:function(){return fO;},set:function(fP){fO=fP;}}),fO];});bV.parseSingleO=cz.tryParseWith(function(fN){var fO,fP;fO=0;return[(fP=a.Number(fN),a.isNaN(fP)?false:(fO=fP,true)),fO];});bV.parseDoubleO=cz.tryParseWith(function(fN){var fO,fP;fO=0;return[(fP=a.Number(fN),a.isNaN(fP)?false:(fO=fP,true)),fO];});bV.parseGuidO=cz.tryParseWith(function(fN){var fO;fO=null;return[bt.TryParse(fN,{get:function(){return fO;},set:function(fP){fO=fP;}}),fO];});bV["|Date|_|"]=cz.parseDateO();bV["|Int|_|"]=cz.parseIntO();bV["|Int64|_|"]=cz.parseInt64O();bV["|Single|_|"]=cz.parseSingleO();bV["|Double|_|"]=cz.parseDoubleO();bV["|Guid|_|"]=cz.parseGuidO();bV.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";bV.rexEmail="(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@[*[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+]*";bV.observers=cx.Empty;bV.css="\r\n                .tab-panel {\r\n                 overflow  : hidden   ;\r\n                 display   : flex     ;\r\n                 flex-flow : column   ;\r\n                 background: lightgray;\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                }\r\n                .tab-content {\r\n                 flex      : 1 1     ;\r\n                 overflow  : auto    ;\r\n                 position  : relative;\r\n                }\r\n                .tab-children {\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                 position  : absolute;\r\n                 display   : grid    ;\r\n                }\r\n                .tab-strip {\r\n                 padding   : 0pt     ;\r\n                 flex      : 0 0     ;\r\n                }\r\n                .tab {\r\n                 border     : 0.2pt solid transparent;\r\n                 padding    : 0pt 4pt;\r\n                 display    : inline-block;\r\n                 font-family: sans-serif;\r\n                 font-weight: 200;\r\n                 font-size  : small;\r\n                 color      : #666;\r\n                 cursor     : pointer;\r\n                }\r\n                .top>.tab {\r\n                 border-radius: 2pt 2pt 0pt 0pt;\r\n                 border-bottom-width: 0pt;\r\n                 vertical-align: bottom;\r\n                }\r\n                .bottom>.tab {\r\n                 border-top-width: 0pt;\r\n                 border-radius: 0pt 0pt 2pt 2pt;\r\n                 vertical-align: top;\r\n                }\r\n                .horizontal>.tab:not(:first-child) {\r\n                 border-left-width: 0pt;\r\n                }\r\n                .tab.hovering {\r\n                 background: red;\r\n                }\r\n                .tab.selected {\r\n                 background: white;\r\n                 border-left-width: 0.2pt;\r\n                 color: black;\r\n                 font-weight: 500;\r\n                 border-color: black;\r\n                }\r\n                .horizontal>.tab.selected {\r\n                 border-left-width: 0.2pt;\r\n                }\r\n                ::slotted(*              ) { \r\n                 width : 100%;\r\n                 height: 100%;\r\n                }\r\n                        ";bV.init=r.Create(function(){var fN;fN=new c2.New();c0.defineWebComponent("wcomp-tabstrip",c2.Constructor,self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New);});bV.layoutHorizontal=ey.Curried(function(fN,fO,fP,fQ,fR){return Z.get_Empty();},5);bV.layoutVertical=ey.Curried(function(fN,fO,fP,fQ,fR){return Z.get_Empty();},5);bV.plugIns=new _6.New$1(function(fN){return fN.plgName;});bV.mainDocV=i.Create$1("AppFramework.AppFwkClient");bV.TemplateFileName="..\\website\\AppFramework.html";bV.defaultPlugIn=l.New("",[],[],[],[],[]);bV.selectionPlugInO=i.Create$1({$:1,$0:"AppFramework"});bV.currentPlugInW=(eI=k.selectionPlugInO().get_View(),p.Map2(function(fN,fO){return(fi(fN))(fO);},k.plugIns().v,eI));bV.currentPlugInV=new cQ.New(k.currentPlugInW(),function(fN){k.plugIns().Append(fN);});bV.AppFwkClient=r.Create(function(){var fN,fO,fP,fQ,fR,fS,fT,fU,fV;return(fN=(fO=k.renderQueries(),(fP=k.renderActions(),(fQ=k.renderDocs(),(fR=k.renderViews(),(fS=k.renderVars(),(fT=k.renderPlugIns(),U.Make().WithHole({$:0,$0:"plugins",$1:fT})).WithHole({$:2,$0:"pluginname",$1:p.Map(function(fW){return fW.plgName;},k.currentPlugInW())}).WithHole({$:0,$0:"vars",$1:fS})).WithHole({$:0,$0:"views",$1:fR})).WithHole({$:0,$0:"docs",$1:fQ})).WithHole({$:0,$0:"actions",$1:fP})).WithHole({$:0,$0:"queries",$1:fO})),(fU=V.CompleteHoles(fN.k,fN.h,[]),(fV=new S.New(fU[1],cY.appfwkclient(fU[0])),(fN.i=fV,fV)))).get_Doc();});bV.actHello=k.newAct("Hello",function(){self.alert("Hello!");});bV.qryDocs=k.newQry("getDocNames",function(){return T.ofSeq(bc.collect(function(fN){return bc.map(function(fO){return fN.plgName+"."+fO.docName;},fN.plgDocs);},(k.plugIns())["var"].Get()));});k.plugIns().Append(l.New("AppFramework",[k.newVar("mainDocV",k.mainDocV())],[],[k.newDoc("AppFwkClient",k.AppFwkClient())],[k.actHello()],[k.qryDocs()]));bV.getMainDoc=r.Create(function(){c3.init(ey.Curried(k.horizontal,5),ey.Curried(k.vertical,5));c1.init().f();return k.mainDoc();});bV.splitName=k.splitName;bV.createSplitterM=(eJ=(eK=new b3.New$5(),[[fj,function(fN){return function(fO){return fl(fN,fO);};}],function(){eK.Clear();}]),(eL=eJ[0][1],[function(fN){return(eL(fN))(function(fO){return K.createSplitter(fO[0],fO[1],fO[2],fO[3],fO[4]);});},eJ[1]]))[0];bV.createButtonM=(eM=(eN=new b3.New$5(),[[fm,function(fN){return function(fO){return fo(fN,fO);};}],function(){eN.Clear();}]),(eO=eM[0][1],[function(fN){return(eO(fN))(function(fO){return K.createButton(fO[0],fO[1],fO[2],fO[3],fO[4]);});},eM[1]]))[0];bV.createInputM=(eP=(eQ=new b3.New$5(),[[fp,function(fN){return function(fO){return fr(fN,fO);};}],function(){eQ.Clear();}]),(eR=eP[0][1],[function(fN){return(eR(fN))(function(fO){return K.createInput(fO[0],fO[1],fO[2],fO[3]);});},eP[1]]))[0];bV.createTextAreaM=(eS=(eT=new b3.New$5(),[[fs,function(fN){return function(fO){return fu(fN,fO);};}],function(){eT.Clear();}]),(eU=eS[0][1],[function(fN){return(eU(fN))(function(fO){return K.createTextArea(fO[0],fO[1],fO[2],fO[3]);});},eS[1]]))[0];bV.createElementM=(eV=(eW=new b3.New$5(),[[fv,function(fN){return function(fO){return fx(fN,fO);};}],function(){eW.Clear();}]),(eX=eV[0][1],[function(fN){return(eX(fN))(function(fO){return K.createElement(fO[0],fO[1],fO[2],fO[3],fO[4]);});},eV[1]]))[0];bV.createDocM=(eY=(eZ=new b3.New$5(),[[fy,function(fN){return function(fO){return fA(fN,fO);};}],function(){eZ.Clear();}]),(e0=eY[0][1],[function(fN){return(e0(fN))(function(fO){return K.createDoc(fO[0],fO[1],fO[2],fO[3]);});},eY[1]]))[0];bV.createTemplateM=(e1=(e2=new b3.New$5(),[[fB,function(fN){return function(fO){return fD(fN,fO);};}],function(){e2.Clear();}]),(e3=e1[0][1],[function(fN){return(e3(fN))(function(fO){return K.createTemplate(fO[0],fO[1],fO[2],fO[3],fO[4]);});},e1[1]]))[0];bV.createConcatM=(e4=(e5=new b3.New$5(),[[fE,function(fN){return function(fO){return fG(fN,fO);};}],function(){e5.Clear();}]),(e6=e4[0][1],[function(fN){return(e6(fN))(function(fO){return K.createConcat(fO[0],fO[1],fO[2]);});},e4[1]]))[0];bV.createVarM=(e7=(e8=new b3.New$5(),[[fH,function(fN){return function(fO){return fJ(fN,fO);};}],function(){e8.Clear();}]),(e9=e7[0][1],[function(fN){return(e9(fN))(function(fO){return K.createVar(fO[0],fO[1],fO[2]);});},e7[1]]))[0];bV.createViewM=(e_=(e$=new b3.New$5(),[[fK,function(fN){return function(fO){return fM(fN,fO);};}],function(){e$.Clear();}]),(fa=e_[0][1],[function(fN){return(fa(fN))(function(fO){return K.createView(fO[0],fO[1],fO[2],fO[3]);});},e_[1]]))[0];fb=k.tryGetPlugIn("AppFramework");fb==null?void 0:(fc=fb.$0,k.addPlugIn(l.New(fc.plgName,fc.plgVars,fc.plgViews,fc.plgDocs,fc.plgActions.concat([k.newActF("AddLayout",{$:2,$0:function(fN){return function(fO){return K.addNewLayout(fN,fO);};},$1:"[Name]",$2:"[Layout]"})]),fc.plgQueries)));};bW=M.IdForAuthorize=ey.Class({},null,bW);bX.New=function(eG,eH,eI,eJ,eK,eL,eM,eN){return{titulo:eG,nombre1:eH,nombre2:eI,apellido1:eJ,apellido2:eK,nacionalidad:eL,genero:eM,fechaNacimiento:eN};};bY.Dia01={$:0};bZ=M.TipoAliado=ey.Class({toString:function(){return(function(eG){return function(eH){return eG(bb.p$1(eH));};}(a.id))(this);}},null,bZ);bZ.Regular=new bZ({$:1});b0.TryParseInt32=function(eG,eH){return b0.TryParse(eG,-2147483648,2147483647,eH);};b1.$cctor=function(){var eG,eH,eI,eJ,eK;b1.$cctor=a.ignore;function eL(eQ){return bj.concat("\n",eQ);}function eM(eQ){return bK.splitByChar("\n",eQ);}function eN(eQ){var eR,eS;return cc.array(eQ,{$:1,$0:0},{$:1,$0:(eR=0,(eS=T.length(eQ)-2,J.Compare(eR,eS)===1?eR:eS))});}function eO(eQ){return bj.concat("\n",eQ);}function eP(eQ){return eQ+"T00:00:00";}b1.rtn=function(eQ){return[eQ];};b1.result=new b9.New();b1.result$1=bF.result();b1.eff=new ca.New();b1.unindentStr=function(eQ){return eL(bK.unindent(eQ));};b1.skipLastLine=(eG=function(eQ){return eN(eM(eQ));},function(eQ){return eO(eG(eQ));});b1.parseDateO2=(eH=cz.tryParseWith(function(eQ){var eR,eS;eR=0;return[(eS=dy.TryParse(eQ),eS!=null&&eS.$==1&&(eR=eS.$0,true)),eR];}),function(eQ){return eH(eP(eQ));});b1.parseDateO=cz.tryParseWith(function(eQ){var eR,eS;eR=0;return[(eS=dy.TryParse(eQ),eS!=null&&eS.$==1&&(eR=eS.$0,true)),eR];});b1.parseIntO=cz.tryParseWith(function(eQ){var eR;eR=0;return[b0.TryParseInt32(eQ,{get:function(){return eR;},set:function(eS){eR=eS;}}),eR];});b1.parseInt64O=cz.tryParseWith(function(eQ){var eR;eR=0;return[b0.TryParseInt64(eQ,{get:function(){return eR;},set:function(eS){eR=eS;}}),eR];});b1.parseSingleO=cz.tryParseWith(function(eQ){var eR,eS;eR=0;return[(eS=a.Number(eQ),a.isNaN(eS)?false:(eR=eS,true)),eR];});b1.parseDoubleO=cz.tryParseWith(function(eQ){var eR,eS;eR=0;return[(eS=a.Number(eQ),a.isNaN(eS)?false:(eR=eS,true)),eR];});b1.parseGuidO=cz.tryParseWith(function(eQ){var eR;eR=null;return[bt.TryParse(eQ,{get:function(){return eR;},set:function(eS){eR=eS;}}),eR];});b1["|Date|_|"]=cz.parseDateO();b1["|Int|_|"]=cz.parseIntO();b1["|Int64|_|"]=cz.parseInt64O();b1["|Single|_|"]=cz.parseSingleO();b1["|Double|_|"]=cz.parseDoubleO();b1["|Guid|_|"]=cz.parseGuidO();b1.serString=[c4.toJsonString,function(eQ){return eQ.tryString();}];b1.serFloat=[function(eQ){return(function(eR){return function(eS){return eR(bD.prettyPrint(eS));};}(a.id))(eQ);},function(eQ){return eQ.tryFloat();}];b1.serInt=[function(eQ){return(function(eR){return function(eS){return eR(bD.prettyPrint(eS));};}(a.id))(eQ);},function(eQ){var eR;eR=eQ.tryInt();return eR==null?null:{$:1,$0:o.toInt(eR.$0)};}];b1.serInt64=[a.String,function(eQ){return eQ.tryInt();}];b1.serBool=[function(eQ){return(function(eR){return function(eS){return eR(bD.prettyPrint(eS));};}(a.id))(eQ);},function(eQ){return eQ.tryBool();}];b1.serDate=[function(eQ){return a.String(a.id(eQ));},function(eQ){var eR;eR=eQ.tryInt();return eR==null?null:{$:1,$0:eR.$0};}];b1.serTypedRegisters=new b3.New$5();b1.premisasCalculo=bQ.New(15,25,25,0,75,31,26,28);b1.telVacio=cB.New(cC.Movil,"","","","",false);b1.dirVacio=cD.New(bd.Error(""),cE.Habitacion,"","","",new cF({$:2,$0:""}),new cA({$:3,$0:""}),new cG({$:0,$0:""}));b1.tarVacio=cK.New("",c6.Visa,new cM({$:0,$0:""}),c5.New(2000,1));b1.ctaVacio=bA.New("","",cU.Ahorro,new bC({$:0,$0:""}),new bB({$:0,$0:""}));b1.modeloVacio=_2.New(new _1({$:0,$0:""}),[],(eI=eC.now(),(new eC(eI)).getFullYear()),(eJ=eC.now(),(new eC(eJ)).getMonth()+1),M.premisasCalculo(),0);b1.correoVacio=bk.New("",null,null);b1.empty=(eK=bX.New(null,"","","","",cA.USA,cy.Masculino,(new eC(2000,1-1,1)).getTime()),N.New(new _1({$:0,$0:""}),null,null,null,null,eK,[],[],false,by.Inactivo,bY.Dia01,bZ.Regular,(new eC(2000,1-1,1)).getTime(),(new eC(2000,1-1,1)).getTime(),0,0,0,0,0,0,0,0));b1.serverEndPoint=r.Create(function(){return self.location.protocol==="http:"?"http://localhost:7071/api/":(function(eQ){return function(eR){return eQ("https://"+bD.toSafe(eR)+"/api/");};}(a.id))(self.location.host);});b1.originalProvider=cm.AjaxProvider();b1.getTokenOA=function(){var eQ;eQ=null;return cR.Delay(function(){return cR.Return(null);});};};b2=bg.List=ey.Class({GetEnumerator:function(){return cu.Get(this);},GetEnumerator0:function(){return cu.Get0(this);}},null,b2);b3=bg.Dictionary=ey.Class({set_Item:function(eG,eH){this.set(eG,eH);},set:function(eG,eH){var eI,eJ,eK,eL;eI=this;eJ=this.hash(eG);eK=this.data[eJ];eK==null?(this.count=this.count+1,this.data[eJ]=new a.Array({K:eG,V:eH})):(eL=T.tryFindIndex(function(eM){return eI.equals.apply(null,[(o.KeyValue(eM))[0],eG]);},eK),eL==null?(this.count=this.count+1,eK.push({K:eG,V:eH})):eK[eL.$0]={K:eG,V:eH});},get_Item:function(eG){return this.get(eG);},Clear:function(){this.data=[];this.count=0;},TryGetValue:function(eG,eH){var eI,eJ,eK;eI=this;eJ=this.data[this.hash(eG)];return eJ==null?false:(eK=T.tryPick(function(eL){var eM;eM=o.KeyValue(eL);return eI.equals.apply(null,[eM[0],eG])?{$:1,$0:eM[1]}:null;},eJ),eK!=null&&eK.$==1&&(eH.set(eK.$0),true));},Remove:function(eG){return this.remove(eG);},ContainsKey:function(eG){var eH,eI;eH=this;eI=this.data[this.hash(eG)];return eI==null?false:T.exists(function(eJ){return eH.equals.apply(null,[(o.KeyValue(eJ))[0],eG]);},eI);},Add:function(eG,eH){this.add(eG,eH);},get:function(eG){var eH,eI;eH=this;eI=this.data[this.hash(eG)];return eI==null?c7.notPresent():T.pick(function(eJ){var eK;eK=o.KeyValue(eJ);return eH.equals.apply(null,[eK[0],eG])?{$:1,$0:eK[1]}:null;},eI);},get_Keys:function(){return new ed.New(this);},remove:function(eG){var eH,eI,eJ,eK;eH=this;eI=this.hash(eG);eJ=this.data[eI];return eJ==null?false:(eK=T.filter(function(eL){return!eH.equals.apply(null,[(o.KeyValue(eL))[0],eG]);},eJ),T.length(eK)<eJ.length&&(this.count=this.count-1,this.data[eI]=eK,true));},add:function(eG,eH){var eI,eJ,eK;eI=this;eJ=this.hash(eG);eK=this.data[eJ];eK==null?(this.count=this.count+1,this.data[eJ]=new a.Array({K:eG,V:eH})):(T.exists(function(eL){return eI.equals.apply(null,[(o.KeyValue(eL))[0],eG]);},eK)?c7.alreadyAdded():void 0,this.count=this.count+1,eK.push({K:eG,V:eH}));},GetEnumerator:function(){return cu.Get0(this);},GetEnumerator0:function(){return cu.Get0(T.concat(I.GetFieldValues(this.data)));}},g,b3);b3.New$5=ey.Ctor(function(){b3.New$6.call(this,[],J.Equals,J.Hash);},b3);b3.New$6=ey.Ctor(function(eG,eH,eI){var eJ,eK;g.New.call(this);this.equals=eH;this.hash=eI;this.count=0;this.data=[];eJ=cu.Get(eG);try{while(eJ.MoveNext()){eK=eJ.Current();this.set(eK.K,eK.V);}}finally{if(typeof eJ=="object"&&"Dispose"in eJ)eJ.Dispose();}},b3);b4=bg.HashSet=ey.Class({Add:function(eG){return this.add(eG);},Contains:function(eG){var eH;eH=this.data[this.hash(eG)];return eH==null?false:this.arrContains(eG,eH);},add:function(eG){var eH,eI;eH=this.hash(eG);eI=this.data[eH];return eI==null?(this.data[eH]=[eG],this.count=this.count+1,true):this.arrContains(eG,eI)?false:(eI.push(eG),this.count=this.count+1,true);},arrContains:function(eG,eH){var eI,eJ,eK,eL;eI=true;eJ=0;eL=eH.length;while(eI&&eJ<eL)if(this.equals.apply(null,[eH[eJ],eG]))eI=false;else eJ=eJ+1;return!eI;},ExceptWith:function(eG){var eH;eH=cu.Get(eG);try{while(eH.MoveNext())this.Remove(eH.Current());}finally{if(typeof eH=="object"&&"Dispose"in eH)eH.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(eG){var eH,eI,eJ,eK;eH=0;eI=d4.concat(this.data);for(eJ=0,eK=eI.length-1;eJ<=eK;eJ++)T.set(eG,eJ,eI[eJ]);},IntersectWith:function(eG){var eH,eI,eJ,eK,eL;eH=new b4.New$4(eG,this.equals,this.hash);eI=d4.concat(this.data);for(eJ=0,eK=eI.length-1;eJ<=eK;eJ++){eL=eI[eJ];!eH.Contains(eL)?this.Remove(eL):void 0;}},Remove:function(eG){var eH;eH=this.data[this.hash(eG)];return eH==null?false:this.arrRemove(eG,eH)&&(this.count=this.count-1,true);},arrRemove:function(eG,eH){var eI,eJ,eK,eL;eI=true;eJ=0;eL=eH.length;while(eI&&eJ<eL)if(this.equals.apply(null,[eH[eJ],eG])){eH.splice.apply(eH,[eJ,1]);eI=false;}else eJ=eJ+1;return!eI;},GetEnumerator:function(){return cu.Get(d4.concat(this.data));},GetEnumerator0:function(){return cu.Get(d4.concat(this.data));}},g,b4);b4.New$3=ey.Ctor(function(){b4.New$4.call(this,[],J.Equals,J.Hash);},b4);b4.New$4=ey.Ctor(function(eG,eH,eI){var eJ;g.New.call(this);this.equals=eH;this.hash=eI;this.data=[];this.count=0;eJ=cu.Get(eG);try{while(eJ.MoveNext())this.add(eJ.Current());}finally{if(typeof eJ=="object"&&"Dispose"in eJ)eJ.Dispose();}},b4);b4.New$2=ey.Ctor(function(eG){b4.New$4.call(this,eG,J.Equals,J.Hash);},b4);b5.Box=a.id;b7.StartTo=function(eG,eH){cR.StartWithContinuations(eG,eH,function(eI){b7.OnError(eI);},a.ignore,null);};b7.OnError=function(eG){return eB.log("WebSharper UI: Uncaught asynchronous exception",eG);};b0.TryParseInt64=function(eG,eH){return b0.TryParse(eG,-9223372036854775808,9223372036854775807,eH);};b8.Int=function(){b8.set_counter(b8.counter()+1);return b8.counter();};b8.Id=function(){b8.set_counter(b8.counter()+1);return"uid"+a.String(b8.counter());};b8.set_counter=function(eG){dD.$cctor();dD.counter=eG;};b8.counter=function(){dD.$cctor();return dD.counter;};b9=bF.Builder=ey.Class({},g,b9);b9.New$1=ey.Ctor(function(){g.New.call(this);},b9);bF.result$1=function(){_5.$cctor();return _5.result;};bF.iter$1=function(eG,eH,eI){bF.defaultWith$1(eG,dM.Map(eH,eI));};bF.absorbO$1=function(eG,eH){return dM.Bind(function(eI){return bF.ofOption$1(eG,eI);},eH);};bF.defaultWith$1=function(eG,eH){return eH.$==1?eG(eH.$0):eH.$0;};bF.ofOption$1=function(eG,eH){var eI;eI=eH==null?null:{$:1,$0:{$:0,$0:eH.$0}};return eI==null?function(eJ){return bd.Error$1(eG(eJ));}():eI.$0;};b_=bF.BuilderP=ey.Class({},g,b_);b_.New=ey.Ctor(function(){g.New.call(this);},b_);ca=b$.EffBuilder=ey.Class({},g,ca);ca.New$1=ey.Ctor(function(){g.New.call(this);},ca);cb=bp.AsyncResultBuilderP=ey.Class({},g,cb);cb.New=ey.Ctor(function(){g.New.call(this);},cb);bK.unindent$1=function(eG){var eH,eI,eJ,eK;eH=bj.SplitChars(eG,["\n"],0);eI=(eJ=bc.tryFindIndex(function(eL){return" "!==eL;},(eK=bc.tryFind(function(eL){return bj.Trim(eL)!=="";},eH),eK==null?"":eK.$0)),eJ==null?0:eJ.$0);return bc.filter(function(eL){return!bj.StartsWith(eL,"# 1 ");},bc.map(function(eL){return eL.length<=eI?"":eL.substring(eI);},eH));};bK.splitByChar$1=function(eG,eH){return bj.SplitChars(eH,[eG],0);};cc.array=function(eG,eH,eI){return eH==null?eI!=null&&eI.$==1?eG.slice(0,eI.$0+1):[]:eI==null?eG.slice(eH.$0):eG.slice(eH.$0,eI.$0+1);};cc.string=function(eG,eH,eI){return eH==null?eI!=null&&eI.$==1?eG.slice(0,eI.$0+1):"":eI==null?eG.slice(eH.$0):eG.slice(eH.$0,eI.$0+1);};ce=cd.Policy=ey.Class({toString:function(){return bj.ReplaceChar(bd["String.get_toUnderscore$1"]((function(eG){return function(eH){return eG(X.p$1(eH));};}(a.id))(this)),"_"," ");}},null,ce);ce.SignIn=new ce({$:0});ce.SignUp=new ce({$:1});ce.EditProfile=new ce({$:2});ce.ResetPassword=new ce({$:3});cf.New$1=function(eG,eH,eI,eJ){return c$.newPojoOpt([cd.op_EqualsEqualsGreater("auth",eG),cd.op_EqualsEqualsGreater("cache",eH),cd.op_EqualsEqualsGreater("system",eI),cd.op_EqualsEqualsGreater("framework",eJ)]);};cg.New$1=function(eG,eH,eI,eJ,eK,eL){return c$.newPojoOpt([cd.op_MinusMinusGreater("clientId",eG),cd.op_EqualsEqualsGreater("authority",eH),cd.op_EqualsEqualsGreater("validateAuthority",eI),cd.op_EqualsEqualsGreater("redirectUri",eJ),cd.op_EqualsEqualsGreater("postLogoutRedirectUri",eK),cd.op_EqualsEqualsGreater("navigateToLoginRequestUrl",eL)]);};ci=ch.MailboxProcessor=ey.Class({PostAndAsyncReply:function(eG,eH){var eI,eJ;eI=this;eJ=null;return cR.Delay(function(){return cR.Bind(eI.PostAndTryAsyncReply(eG,eH),function(eK){var eL,eM;if(eK!=null&&eK.$==1)eM=eK.$0;else throw new db.New();return cR.Return(eM);});});},PostAndTryAsyncReply:function(eG,eH){var eI,eJ,eK;function eL(eM){var eO;function eN(eP){return{$:1,$0:eP};}if(eJ<0){eI.mailbox.AddLast(eG(function(eP){return eM(eN(eP));}));eI.resume();}else{eO=[true];eI.mailbox.AddLast(eG(function(eP){if(eO[0]){eO[0]=false;eM({$:1,$0:eP});}}));eI.resume();a.setTimeout(function(){if(eO[0]){eO[0]=false;eM(null);}},eJ);}}eI=this;eJ=(eK=this.get_DefaultTimeout(),eH==null?eK:eH.$0);return cR.FromContinuations(function(eM,eN,eO){return eL.apply(null,[eM,eN,eO]);});},get_DefaultTimeout:function(){return this.DefaultTimeout;},Receive:function(eG){var eH,eI;eH=this;eI=null;return cR.Delay(function(){return cR.Bind(eH.TryReceive(eG),function(eJ){var eK,eL;if(eJ!=null&&eJ.$==1)eL=eJ.$0;else throw new db.New();return cR.Return(eL);});});},resume:function(){var eG;eG=this.savedCont;eG!=null&&eG.$==1?(this.savedCont=null,this.startAsync(eG.$0)):void 0;},Start:function(){var eG,eH;eG=this;this.started?o.FailWith("The MailboxProcessor has already been started."):(this.started=true,eG.startAsync((eH=null,cR.Delay(function(){return cR.TryWith(cR.Delay(function(){return cR.Bind(eG.initial(eG),function(){return cR.Return(null);});}),function(eI){eG.errorEvent.event.Trigger(eI);return cR.Zero();});}))));},TryReceive:function(eG){var eH,eI,eJ;function eK(eL){var eM,eN,eO,eP;if(J.Equals(eH.mailbox.n,null)){if(eI<0){eH.savedCont={$:1,$0:(eM=null,cR.Delay(function(){eL({$:1,$0:eH.dequeue()});return cR.Zero();}))};}else{eN=[true];eO=a.setTimeout(function(){if(eN[0]){eN[0]=false;eH.savedCont=null;eL(null);}},eI);eH.savedCont={$:1,$0:(eP=null,cR.Delay(function(){return eN[0]?(eN[0]=false,a.clearTimeout(eO),eL({$:1,$0:eH.dequeue()}),cR.Zero()):cR.Zero();}))};}}else eL({$:1,$0:eH.dequeue()});}eH=this;eI=(eJ=this.get_DefaultTimeout(),eG==null?eJ:eG.$0);return cR.FromContinuations(function(eL,eM,eN){return eK.apply(null,[eL,eM,eN]);});},startAsync:function(eG){cR.Start(eG,this.token);},dequeue:function(){var eG;eG=this.mailbox.n.v;this.mailbox.RemoveFirst();return eG;}},g,ci);ci.Start=function(eG,eH){var eI;eI=new ci.New(eG,eH);eI.Start();return eI;};ci.New=ey.Ctor(function(eG,eH){var eI,eJ;function eK(eL){return eI.resume();}eI=this;g.New.call(this);this.initial=eG;this.token=eH;this.started=false;this.errorEvent=new dE.New();this.mailbox=new dF.New();this.savedCont=null;eJ=this.token;eJ==null?void 0:cR.Register(eJ.$0,function(){eK();});this.DefaultTimeout=-1;},ci);cj.callA=function(eG,eH){return cj.iterA(eG,function(eI){var eJ,eK,eL;eJ=eI[0];eK=eI[1];eL=null;return cR.Delay(function(){return cR.Bind(eH(eK),function(eM){eJ(eM);return cR.Zero();});});});};cj.iterA=function(eG,eH){return ci.Start(function(eI){var eJ;eJ=null;return cR.Delay(function(){return cR.While(function(){return true;},cR.Delay(function(){return cR.TryWith(cR.Delay(function(){return cR.Bind(eI.Receive(null),function(eK){return cR.Bind(eH(eK),function(){return cR.Return(null);});});}),function(eK){eG(eK);return cR.Zero();});}));});},null);};bd.print=function(eG){if(typeof eG=="string")((function(eH){return function(eI){return eH(bD.toSafe(eI));};}(function(eH){eB.log(eH);}))(eG));else((function(eH){return function(eI){return eH(bD.prettyPrint(eI));};}(function(eH){eB.log(eH);}))(eG));};bd["String.Left"]=function(eG,eH){return eH<0?bd["String.Substring2"](eG,0,eG.length+eH):bd["String.Substring2"](eG,0,eH);};bd.Error=function(eG){return{$:1,$0:eG};};bd["String.Right"]=function(eG,eH){var eI,eJ;return bd["String.Substring2"](eG,(eI=0,(eJ=eG.length-eH,J.Compare(eI,eJ)===1?eI:eJ)),eG.length);};bd["String.Substring2"]=function(eG,eH,eI){var eJ,eK;while(true){if(eI<=0)return"";else if(eH>=eG.length)return"";else if(eH<0){eJ=eH;eH=0;eI=eI+eJ;}else return bj.Substring(eG,eH,(eK=eG.length-eH,J.Compare(eI,eK)===-1?eI:eK));}};j.REGEX$1=function(eG,eH,eI){var eJ;return eI===null?null:(eJ=(new a.String(eI)).match(new a.RegExp(eG,eH)),J.Equals(eJ,null)?null:!J.Equals(eJ,null)&&eJ.length===0?null:{$:1,$0:eJ});};j.rexEmail=function(){bV.$cctor();return bV.rexEmail;};ck.DefaultEP={$:0};cl.InstallHash=function(eG,eH){var eI;eI=i.Create$1(cl.getCurrentHash(function(eJ){return df.Parse(eH,dg.FromHash(eJ,{$:1,$0:true}));},eG));cl.InstallHashInto(eI,eG,eH);return eI;};cl.InstallHashInto=function(eG,eH,eI){function eJ(eM){return df.Parse(eI,dg.FromHash(eM,{$:1,$0:true}));}function eK(){return cl.getCurrentHash(eJ,eH);}function eL(eM){if(!J.Equals(eG.Get(),eM))eG.Set(eM);}self.addEventListener("popstate",function(){return eL(eK());},false);self.addEventListener("hashchange",function(){return eL(eK());},false);self.document.body.addEventListener("click",function(eM){var eN,eO,eP;eN=(eO=cl.findLinkHref(eM.target),eO==null?null:(eP=eO.$0,bj.StartsWith(eP,"#")?eJ(eP):null));return eN==null?null:(eL(eN.$0),eM.preventDefault());},false);p.Sink(function(eM){var eN;if(!J.Equals(eM,eK())){eN=df.HashLink(eI,eM);self.history.pushState(null,null,eN);}},eG.get_View());};cl.getCurrentHash=function(eG,eH){var eI,eJ;eI=self.location.hash;eJ=eG(eI);return eJ==null?((function(eK){return function(eL){return eK("Failed to parse route: "+bD.toSafe(eL));};}(function(eK){eB.log(eK);}))(eI),eH):eJ.$0;};cl.findLinkHref=function(eG){while(true)if(eG.tagName==="A")return L.ofObj(eG.getAttribute("href"));else if(eG===self.document.body)return null;else eG=eG.parentNode;};cm.set_EndPoint=function(eG){dh.$cctor();dh.EndPoint=eG;};cm.AjaxProvider=function(){dh.$cctor();return dh.AjaxProvider;};cm.makePayload=function(eG){return eD.stringify(eG);};cm.makeHeaders=function(eG){return{"content-type":"application/json","x-websharper-rpc":eG};};cm.EndPoint=function(){dh.$cctor();return dh.EndPoint;};cm.ajax=function(eG,eH,eI,eJ,eK,eL,eM){var eN,eO,eP;eN=new a.XMLHttpRequest();eO=a.document.cookie.replace(new a.RegExp("(?:(?:^|.*;)\\s*csrftoken\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1");eN.open("POST",eH,eG);if(eG==true)eN.withCredentials=true;for(var eR in eI)eN.setRequestHeader(eR,eI[eR]);if(eO)eN.setRequestHeader("x-csrftoken",eO);function eQ(){var eS;if(eN.status==200)eK(eN.responseText);else if(eM&&eN.status==403&&eN.responseText=="CSRF")eM();else{eS="Response status is not 200: ";eL(new da(eS+eN.status));}}if("onload"in eN)eN.onload=eN.onerror=eN.onabort=eQ;else eN.onreadystatechange=function(){if(eN.readyState==4)eQ();};eN.send(eJ);};cn.serverEndPoint=function(){b1.$cctor();return b1.serverEndPoint;};bd.Error$1=function(eG){return{$:1,$0:eG};};bd["String.get_toUnderscore$1"]=function(eG,eH){return T.ofSeq(bc.collect(a.id,bc.mapi(function(eI,eJ){return eI>0&&ek.IsUpper(eJ)?bz.ofArray(["_",eJ]):bz.ofArray([eJ]);},eG))).join("");};co=M.IdPayment=ey.Class({get_Id:function(){return this.$0;}},null,co);cq.lazyDocGuid=function(eG,eH){return cq.lazyDoc(bt.NewGuid(),function(){return bt.NewGuid();},eG,eH);};cq.lazyDoc=function(eG,eH,eI,eJ){var eK,eL,eM;eK=cq.createListModel(eG,eH,eJ,eI);eL=eK[2];eM=eK[1];return r.Create(function(){return cq.elemsUI(eL,eM);});};cq.createListModel=function(eG,eH,eI,eJ){var eK,eL;function eM(eN,eO){return eK.RemoveByKey(eN);}eK=_6.Create(function(eN){return eN[0];},cx.Empty);return[eK,(eL=eG,function(){eK.Append([eL,eI()]);eL=eH(eL);}),Z.Flatten(eK.MapLens(function(eN,eO){function eP(eQ,eR){return[eQ,eR];}return eJ(function(eQ){return eM(eN,eQ);},i.Lens(eO,function(eQ){return eQ[1];},function(eQ,eR){return(function(eS){var eT;eT=eS[0];return function(eU){return eP(eT,eU);};}(eQ))(eR);}));}))];};cq.elemsUI=function(eG,eH){return Z.Element("div",[],[eG,Z.Button("New",[],eH)]);};cp.calcUI=function(eG,eH){var eI,eJ,eK,eL,eM,eN;eI=cp.lensVarStr(i.Lens(eH,function(eO){return eO.valorA;},function(eO,eP){return di.New(eP,eO.valorB,eO.valorC);}));eJ=cp.lensVarStr(i.Lens(eH,function(eO){return eO.valorB;},function(eO,eP){return di.New(eO.valorA,eP,eO.valorC);}));eK=cp.lensVarStr(i.Lens(eH,function(eO){return eO.valorC;},function(eO,eP){return di.New(eO.valorA,eO.valorB,eP);}));eL=p.Map(function(eO){return eO.valorA*2;},eH.get_View());eM=p.Map2(function(eO,eP){return eO.valorA*eP.valorB;},eH.get_View(),eH.get_View());eN=p.Map2(function(eO,eP){return eO+eP.valorC;},eM,eH.get_View());return Z.Element("div",[],[Z.Button("x",[],eG),cp.inputLabel([],"valor A: ",eI),cp.inputLabel([],"valor B: ",eJ),cp.inputLabel([],"valor C: ",eK),cp.textLine(p.Map2(function(eO,eP){return(((ey.Curried3(function(eQ,eR,eS){return eQ(bD.prettyPrint(eR)+" = "+bD.toSafe(eS)+" * 2");}))(a.id))(eO))(eP);},eL,eI.get_View())),cp.textLine(p.Apply(p.Map2(function(eO,eP){return function(eQ){return((((ey.Curried(function(eR,eS,eT,eU){return eR(bD.prettyPrint(eS)+" = "+bD.toSafe(eT)+" * "+bD.toSafe(eU));},4))(a.id))(eO))(eP))(eQ);};},eM,eI.get_View()),eJ.get_View())),cp.textLine(p.Apply(p.Apply(p.Map2(function(eO,eP){return function(eQ){return function(eR){return(((((ey.Curried(function(eS,eT,eU,eV,eW){return eS(bD.prettyPrint(eT)+" = "+bD.toSafe(eU)+" * "+bD.toSafe(eV)+" + "+bD.toSafe(eW));},5))(a.id))(eO))(eP))(eQ))(eR);};};},eN,eI.get_View()),eJ.get_View()),eK.get_View()))]);};cp.newCalc=function(){return di.New(0,0,0);};cp.lensVarStr=function(eG){var eH;function eI(eJ){if(eJ!=null&&eJ.$==1)if(eJ.$0!==eG.Get())eG.Set(eJ.$0);}return new cQ.New(p.Map(function(eJ){return(function(eK){return function(eL){return eK(bD.prettyPrint(eL));};}(a.id))(eJ);},eG.get_View()),(eH=cz.parseDoubleO(),function(eJ){return eI(eH(eJ));}));};cp.inputLabel=function(eG,eH,eI){return Z.Element("div",eG,[Z.Element("div",[cS.Create("class","input-group")],[Z.Element("span",[cS.Create("class","input-group-addon")],[Z.TextNode(eH)]),Z.Input([cS.Create("class","form-control")],eI)])]);};cp.textLine=function(eG){return Z.Element("div",[],[Z.TextView(eG)]);};cr.addDocs=function(eG,eH){k.addPlugIn(l.New(eG,[],[],T.ofSeq(bc.delay(function(){return bc.collect(function(eI){return[k.newDoc(eI[0],eI[1])];},eH);})),[],[]));};cs.New=function(eG,eH){return{qryName:eG,qryFunction:eH};};_4.Obsolete=function(eG){var eH,eI,eJ,eK,eL;eI=eG.s;if(eI==null||(eI!=null&&eI.$==2?(eH=eI.$1,false):eI!=null&&eI.$==3?(eH=eI.$1,false):true))void 0;else{eG.s=null;for(eJ=0,eK=T.length(eH)-1;eJ<=eK;eJ++){eL=T.get(eH,eJ);typeof eL=="object"?function(eM){_4.Obsolete(eM);}(eL):eL();}}};_4.New=function(eG){return{s:eG};};ct=bg.FSharpMap=ey.Class({TryGetValue:function(eG,eH){var eI;eI=this.TryFind(eG);return eI!=null&&eI.$==1&&(eH.set(eI.$0),true);},get_Item:function(eG){var eH;eH=this.TryFind(eG);return eH==null?o.FailWith("The given key was not present in the dictionary."):eH.$0;},TryFind:function(eG){var eH;eH=cw.TryFind(dL.New(eG,void 0),this.tree);return eH==null?null:{$:1,$0:eH.$0.Value};},Equals:function(eG){return this.get_Count()===eG.get_Count()&&bc.forall2(J.Equals,this,eG);},GetEnumerator$1:function(){return cu.Get(bc.map(function(eG){return{K:eG.Key,V:eG.Value};},cw.Enumerate(false,this.tree)));},get_Count:function(){var eG;eG=this.tree;return eG==null?0:eG.Count;},GetHashCode:function(){return J.Hash(T.ofSeq(this));},Add:function(eG,eH){return new ct.New$1(cw.Add(dL.New(eG,eH),this.tree));},get_IsEmpty:function(){return this.tree==null;},get_Tree:function(){return this.tree;},GetEnumerator:function(){return this.GetEnumerator$1();},CompareTo0:function(eG){return bc.compareWith(J.Compare,this,eG);},GetEnumerator0:function(){return this.GetEnumerator$1();}},g,ct);ct.New=ey.Ctor(function(eG){ct.New$1.call(this,dj.fromSeq(eG));},ct);ct.New$1=ey.Ctor(function(eG){g.New.call(this);this.tree=eG;},ct);cu.Get=function(eG){return eG instanceof a.Array?cu.ArrayEnumerator(eG):J.Equals(typeof eG,"string")?cu.StringEnumerator(eG):eG.GetEnumerator();};cu.ArrayEnumerator=function(eG){return new cv.New(0,null,function(eH){var eI;eI=eH.s;return eI<T.length(eG)&&(eH.c=T.get(eG,eI),eH.s=eI+1,true);},void 0);};cu.StringEnumerator=function(eG){return new cv.New(0,null,function(eH){var eI;eI=eH.s;return eI<eG.length&&(eH.c=eG[eI],eH.s=eI+1,true);},void 0);};cu.Get0=function(eG){return eG instanceof a.Array?cu.ArrayEnumerator(eG):J.Equals(typeof eG,"string")?cu.StringEnumerator(eG):"GetEnumerator0"in eG?eG.GetEnumerator0():eG.GetEnumerator();};cv=cu.T=ey.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},g,cv);cv.New=ey.Ctor(function(eG,eH,eI,eJ){g.New.call(this);this.s=eG;this.c=eH;this.n=eI;this.d=eJ;},cv);cw.OfSeq=function(eG){var eH;eH=T.ofSeq(bc.distinct(eG));T.sortInPlace(eH);return cw.Build(eH,0,eH.length-1);};cw.Contains=function(eG,eH){return!((cw.Lookup(eG,eH))[0]==null);};cw.Remove=function(eG,eH){var eI,eJ,eK,eL;eI=cw.Lookup(eG,eH);eJ=eI[0];eK=eI[1];return eJ==null?eH:eJ.Right==null?cw.Rebuild(eK,eJ.Left):eJ.Left==null?cw.Rebuild(eK,eJ.Right):cw.Rebuild(eK,(eL=T.ofSeq(bc.append(cw.Enumerate(false,eJ.Left),cw.Enumerate(false,eJ.Right))),cw.Build(eL,0,eL.length-1)));};cw.Add=function(eG,eH){return cw.Put(function(eI,eJ){return eJ;},eG,eH);};cw.TryFind=function(eG,eH){var eI;eI=(cw.Lookup(eG,eH))[0];return eI==null?null:{$:1,$0:eI.Node};};cw.Build=function(eG,eH,eI){var eJ,eK,eL;return eI-eH+1<=0?null:(eJ=(eH+eI)/2>>0,(eK=cw.Build(eG,eH,eJ-1),(eL=cw.Build(eG,eJ+1,eI),cw.Branch(T.get(eG,eJ),eK,eL))));};cw.Lookup=function(eG,eH){var eI,eJ,eK,eL;eI=[];eJ=eH;eK=true;while(eK)if(eJ==null)eK=false;else{eL=J.Compare(eG,eJ.Node);eL===0?eK=false:eL===1?(eI.unshift([true,eJ.Node,eJ.Left]),eJ=eJ.Right):(eI.unshift([false,eJ.Node,eJ.Right]),eJ=eJ.Left);}return[eJ,eI];};cw.Rebuild=function(eG,eH){var eI,eK,eL,eM,eN,eO,eP,eQ,eR,eS;function eJ(eT){return eT==null?0:eT.Height;}eI=eH;for(eK=0,eL=T.length(eG)-1;eK<=eL;eK++){eI=(eM=T.get(eG,eK),eM[0]?(eN=eM[1],(eO=eM[2],eJ(eI)>eJ(eO)+1?eJ(eI.Left)===eJ(eI.Right)+1?(eP=eI.Left,cw.Branch(eP.Node,cw.Branch(eN,eO,eP.Left),cw.Branch(eI.Node,eP.Right,eI.Right))):cw.Branch(eI.Node,cw.Branch(eN,eO,eI.Left),eI.Right):cw.Branch(eN,eO,eI))):(eQ=eM[1],(eR=eM[2],eJ(eI)>eJ(eR)+1?eJ(eI.Right)===eJ(eI.Left)+1?(eS=eI.Right,cw.Branch(eS.Node,cw.Branch(eI.Node,eI.Left,eS.Left),cw.Branch(eQ,eS.Right,eR))):cw.Branch(eI.Node,eI.Left,cw.Branch(eQ,eI.Right,eR)):cw.Branch(eQ,eI,eR))));}return eI;};cw.Put=function(eG,eH,eI){var eJ,eK;eJ=cw.Lookup(eH,eI);eK=eJ[0];return eK==null?cw.Rebuild(eJ[1],cw.Branch(eH,null,null)):cw.Rebuild(eJ[1],cw.Branch(eG(eK.Node,eH),eK.Left,eK.Right));};cw.Branch=function(eG,eH,eI){var eJ,eK;return dk.New(eG,eH,eI,1+(eJ=eH==null?0:eH.Height,(eK=eI==null?0:eI.Height,J.Compare(eJ,eK)===1?eJ:eK)),1+(eH==null?0:eH.Count)+(eI==null?0:eI.Count));};cw.Enumerate=function(eG,eH){function eI(eJ,eK){var eL;while(true)if(eJ==null)return eK.$==1?{$:1,$0:[eK.$0[0],[eK.$0[1],eK.$1]]}:null;else if(eG){eL=eJ;eJ=eL.Right;eK=new cx({$:1,$0:[eL.Node,eL.Left],$1:eK});}else{eL=eJ;eJ=eL.Left;eK=new cx({$:1,$0:[eL.Node,eL.Right],$1:eK});}}return bc.unfold(function(eJ){return eI(eJ[0],eJ[1]);},[eH,cx.Empty]);};bc.tryHead=function(eG){var eH;eH=cu.Get(eG);try{return eH.MoveNext()?{$:1,$0:eH.Current()}:null;}finally{if(typeof eH=="object"&&"Dispose"in eH)eH.Dispose();}};T.groupBy=function(eG,eH){var eI,eJ,eK,eL,eM,eN;eI=new b3.New$5();eJ=[];for(eK=0,eL=T.length(eH)-1;eK<=eL;eK++){eM=eH[eK];eN=eG(eM);eI.ContainsKey(eN)?eI.get_Item(eN).push(eM):(eJ.push(eN),eI.Add(eN,[eM]));}T.mapInPlace(function(eO){return[eO,eI.get_Item(eO)];},eJ);return eJ;};bc.tryItem=function(eG,eH){var eI,eJ,eK;if(eG<0)return null;else{eI=0;eJ=cu.Get(eH);try{eK=true;while(eK&&eI<=eG)if(eJ.MoveNext())eI=eI+1;else eK=false;return eK?{$:1,$0:eJ.Current()}:null;}finally{if(typeof eJ=="object"&&"Dispose"in eJ)eJ.Dispose();}}};bc.last=function(eG){var eH,eI;eH=cu.Get(eG);try{if(!eH.MoveNext())eI=bc.insufficient();else{while(eH.MoveNext());eI=eH.Current();}return eI;}finally{if(typeof eH=="object"&&"Dispose"in eH)eH.Dispose();}};T.mapInPlace=function(eG,eH){var eI,eJ;for(eI=0,eJ=eH.length-1;eI<=eJ;eI++)eH[eI]=eG(eH[eI]);};T.mapiInPlace=function(eG,eH){var eI,eJ;for(eI=0,eJ=eH.length-1;eI<=eJ;eI++)eH[eI]=eG(eI,eH[eI]);return eH;};bc.insufficient=function(){return o.FailWith("The input sequence has an insufficient number of elements.");};bc.nonNegative=function(){return o.FailWith("The input must be non-negative.");};cx=bz.T=ey.Class({GetEnumerator:function(){return new cv.New(this,null,function(eG){var eH;eH=eG.s;return eH.$==0?false:(eG.c=eH.$0,eG.s=eH.$1,true);},void 0);},GetEnumerator0:function(){return cu.Get(this);}},null,cx);cx.Empty=new cx({$:0});cy.tryParse=function(eG){var eH;eH=bj.Trim(eG);return eH==="Masculino"?{$:1,$0:cy.Masculino}:eH==="Femenino"?{$:1,$0:cy.Femenino}:eH==="Empresa"?{$:1,$0:cy.Empresa}:null;};cy.Masculino={$:0};cy.Femenino={$:1};cy.Empresa={$:2};cz.parseDateO2=function(){b1.$cctor();return b1.parseDateO2;};cz.tryParseWith=function(eG){function eH(eI,eJ){return eI?{$:1,$0:eJ}:null;}return function(eI){return eH.apply(null,eG(eI));};};cz.parseDateO=function(){b1.$cctor();return b1.parseDateO;};cz.parseIntO=function(){b1.$cctor();return b1.parseIntO;};cz.parseInt64O=function(){b1.$cctor();return b1.parseInt64O;};cz.parseSingleO=function(){b1.$cctor();return b1.parseSingleO;};cz.parseDoubleO=function(){b1.$cctor();return b1.parseDoubleO;};cz.parseGuidO=function(){b1.$cctor();return b1.parseGuidO;};cA=M.Pais=ey.Class({toString:function(){return this.$==3?this.$0:(function(eG){return function(eH){return eG(bb.p$2(eH));};}(a.id))(this);}},null,cA);cA.tryParse=function(eG){var eH,eI;eI=bj.Trim(eG).toUpperCase();switch(eI){case"":return null;case"USA":case"AMERICA":case"E.E.U.U.":case"US":case"UNITED STATES OF AMERICA":case"UNITED STATES":case"EEUU":return{$:1,$0:cA.USA};case"VENEZUELA":return{$:1,$0:cA.Venezuela};case"ARGENTINA":return{$:1,$0:cA.Argentina};default:return{$:1,$0:new cA({$:3,$0:bj.Trim(eG)})};}};cA.USA=new cA({$:0});cA.Venezuela=new cA({$:1});cA.Argentina=new cA({$:2});cB.New=function(eG,eH,eI,eJ,eK,eL){return{tipoTelefono:eG,codigoPais:eH,codigoArea:eI,numero:eJ,extension:eK,mensajes:eL};};cC=M.TipoTelefono=ey.Class({toString:function(){return(function(eG){return function(eH){return eG(bb.p$10(eH));};}(a.id))(this);}},null,cC);cC.get_tryParse=function(){return function(eG){return eG==="Movil"?{$:1,$0:cC.Movil}:eG==="Oficina"?{$:1,$0:cC.Oficina}:eG==="Habitacion"?{$:1,$0:cC.Habitacion}:null;};};cC.Movil=new cC({$:0});cC.Oficina=new cC({$:1});cC.Habitacion=new cC({$:2});cD.New=function(eG,eH,eI,eJ,eK,eL,eM,eN){return{authorizeIdR:eG,tipoDireccion:eH,linea1:eI,linea2:eJ,ciudad:eK,estado:eL,pais:eM,zonaPostal:eN};};cE=M.TipoDireccion=ey.Class({toString:function(){return this.$==3?this.$0:(function(eG){return function(eH){return eG(bb.p$9(eH));};}(a.id))(this);}},null,cE);cE.tryParse=function(eG){var eH;eH=bj.Trim(eG);return eH===""?null:eH==="Habitacion"?{$:1,$0:cE.Habitacion}:eH==="Oficina"?{$:1,$0:cE.Oficina}:eH==="ServicioPostal"?{$:1,$0:cE.ServicioPostal}:{$:1,$0:new cE({$:3,$0:eH})};};cE.Habitacion=new cE({$:0});cE.Oficina=new cE({$:1});cE.ServicioPostal=new cE({$:2});cF=M.Estado=ey.Class({toString:function(){return this.$==2?this.$0:(function(eG){return function(eH){return eG(bb.p$3(eH));};}(a.id))(this);}},null,cF);cF.tryParse=function(eG){var eH,eI;eI=bj.Trim(eG).toUpperCase();switch(eI){case"":return null;case"TEXAS":case"TX":return{$:1,$0:cF.Texas};case"FLORIDA":case"FL":return{$:1,$0:cF.Florida};default:return{$:1,$0:new cF({$:2,$0:bj.Trim(eG)})};}};cF.Texas=new cF({$:0});cF.Florida=new cF({$:1});cG=M.ZonaPostal=ey.Class({toString:function(){return this.$0;}},null,cG);cG.tryParse=function(eG){return bj.Trim(eG)!==""?{$:1,$0:new cG({$:0,$0:bj.Trim(eG)})}:null;};cH.rtn=function(eG){return cR.Return({$:0,$0:eG});};cH.bind=function(eG,eH){var eI;eI=null;return cR.Delay(function(){return cR.Bind(eH,function(eJ){return eJ.$==1?cR.Return(bd.Error$1(eJ.$0)):eG(eJ.$0);});});};cH.iterA=function(eG,eH,eI){function eJ(eL){bF.iter$1(eG,eH,eL);}function eK(eL){return cR.Return(eL);}cR.Start(cR.Bind(eI,function(eL){return eK(eJ(eL));}),null);};cH.map=function(eG,eH){return cH.bind(function(eI){return cH.rtn(eG(eI));},eH);};cH.absorbO=function(eG,eH){function eI(eK){return bF.absorbO$1(eG,eK);}function eJ(eK){return cR.Return(eK);}return cR.Bind(eH,function(eK){return eJ(eI(eK));});};cH.rtnR=function(eG){return cR.Return(eG);};cH.whileLoop=function(eG,eH){return eG()?cH.bind(function(){return cH.whileLoop(eG,eH);},eH()):cH.rtn();};cI=cm.AjaxRemotingProvider=ey.Class({AsyncBase:function(eG,eH){var eI,eJ;eI=this;eJ=null;return cR.Delay(function(){var eK,eL;eK=cm.makeHeaders(eG);eL=cm.makePayload(eH);return cR.Bind(cR.GetCT(),function(eM){return cR.FromContinuations(function(eN,eO,eP){var eQ,eR,eS;function eT(eU){return eQ[0]?(eQ[0]=false,eP(new d_.New(eM))):null;}eQ=[true];eR=cR.Register(eM,function(){eT();});eS=eI.get_EndPoint();return cm.AjaxProvider().Async(eS,eK,eL,function(eU){if(eQ[0]){eQ[0]=false;eR.Dispose();eN(el.Activate(eD.parse(eU)));}},function(eU){if(eQ[0]){eQ[0]=false;eR.Dispose();eO(eU);}});});});});},get_EndPoint:function(){return cm.EndPoint();},Async:function(eG,eH){return this.AsyncBase(eG,eH);}},g,cI);cI.New=ey.Ctor(function(){g.New.call(this);},cI);cJ.replace=function(eG,eH,eI){return T.ofSeq(bc.delay(function(){return bc.append(eG>0?cc.array(eI,null,{$:1,$0:eG-1}):[],bc.delay(function(){return bc.append([eH],bc.delay(function(){return eG<T.length(eI)?cc.array(eI,{$:1,$0:eG+1},null):[];}));}));}));};cJ.remove=function(eG,eH){return T.ofSeq(bc.delay(function(){return bc.append(eG>0?cc.array(eH,null,{$:1,$0:eG-1}):[],bc.delay(function(){return eG<T.length(eH)?cc.array(eH,{$:1,$0:eG+1},null):[];}));}));};cK.New=function(eG,eH,eI,eJ){return{titular:eG,tipoTarjeta:eH,numero:eI,expiracion:eJ};};cL=M.Subscripcion=ey.Class({get_Short:function(){return((((((ey.Curried(function(eG,eH,eI,eJ,eK,eL){return eG(bD.toSafe(eH)+" "+bD.toSafe(eI)+" $"+a.String(eJ)+".00 "+bD.toSafe(eK)+" "+a.String(eL));},6))(a.id))(this.idSubscripcion.get_Id()))(bJ.toYYYYMMDD("-",this.inicio)))(this.monto))(this.descripcion))(this.status);}},null,cL);cM=M.NumeroTarjeta=ey.Class({get_Id:function(){return this.$0;}},null,cM);cN.formaDocO=function(eG){var eH;return cN.formaDoc(i.Lens(eG,(eH=[M.ctaVacio(),"",false],function(eI){return eI==null?eH:eI.$0;}),function(eI,eJ){return{$:1,$0:eJ};}));};cN.formaDoc=function(eG){var eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS;function eT(eU,eV,eW){eI.Hole("titular").Set(eU.titular);eI.Hole("banco").Set(eU.banco);eI.Hole("tipocuenta").Set((function(eX){return function(eY){return eX(a.String(eY));};}(a.id))(eU.tipo));eI.Hole("numero").Set(eU.numero.$0);eI.Hole("routing").Set(eU.routing.$0);}eH=p.Map(function(eU){return bu.thr3(eU[0],eU[1],eU[2]);},eG.get_View());eI=(eJ=(eK=cW.DynamicPred("disabled",eH,p.Const("")),(eL=cW.DynamicPred("disabled",eH,p.Const("")),(eM=cW.DynamicPred("disabled",eH,p.Const("")),(eN=cW.DynamicPred("disabled",eH,p.Const("")),(eO=cW.DynamicPred("disabled",eH,p.Const("")),(eP=Z.EmbedView(p.Map(bu.crearOptions,bu.tiposCta().get_View())),U.Make().WithHole({$:0,$0:"tiposcuenta",$1:eP})).WithHole({$:2,$0:"mensaje",$1:p.Map(function(eU){return bu.snd3(eU[0],eU[1],eU[2]);},eG.get_View())}).WithHole({$:3,$0:"disabled1",$1:eO})).WithHole({$:3,$0:"disabled2",$1:eN})).WithHole({$:3,$0:"disabled3",$1:eM})).WithHole({$:3,$0:"disabled4",$1:eL})).WithHole({$:3,$0:"disabled5",$1:eK})),(eQ=V.CompleteHoles(eJ.k,eJ.h,[["tipocuenta",0],["titular",0],["numero",0],["banco",0],["routing",0]]),(eR=new S.New(eQ[1],W.cuentabancaria(eQ[0])),(eJ.i=eR,eR))));p.Sink(function(eU){return eT(eU[0],eU[1],eU[2]);},eG.get_View());eS=p.Apply(p.Apply(p.Map2(function(eU,eV){return function(eW){return function(eX){return bc.map(function(eY){return eY[1];},bc.filter(function(eY){return eY[0];},bz.ofArray([[bj.Trim(eU)==="","Titular"],[bj.Trim(eV)==="","Banco"],[bj.Trim(eW)==="","Numero de Cuenta"],[bj.Trim(eX)==="","ABA/Routing Number"]])));};};},eI.Hole("titular").get_View(),eI.Hole("banco").get_View()),eI.Hole("numero").get_View()),eI.Hole("routing").get_View());p.Sink(function(eU){var eV,eW;if(eU!=null&&eU.$==1){eV=eU.$0;!J.Equals((eW=eG.Get(),bu.fst3(eW[0],eW[1],eW[2])),eV)?eG.Set([eV,"",false]):void 0;}},p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(eU,eV){return ey.Curried(function(eW,eX,eY,eZ){return!bc.isEmpty(eU)?null:bu.alertIfNone("TipoCuenta",cU.tryParse(bj.Trim(eV)),function(e0){var e1;return{$:1,$0:(e1=bj.Trim(eW),bA.New(bj.Trim(eX),e1,e0,new bC({$:0,$0:bj.Trim(eY)}),new bB({$:0,$0:bj.Trim(eZ)})))};});},4);},eS,eI.Hole("tipocuenta").get_View()),eI.Hole("banco").get_View()),eI.Hole("titular").get_View()),eI.Hole("numero").get_View()),eI.Hole("routing").get_View()));return[eS,eI.get_Doc()];};cO.formaDocO=function(eG){var eH;return cO.formaDoc(i.Lens(eG,(eH=[M.tarVacio(),"",false],function(eI){return eI==null?eH:eI.$0;}),function(eI,eJ){return{$:1,$0:eJ};}));};cO.formaDoc=function(eG){var eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV;function eW(eX,eY,eZ){var e0;eI.Hole("titular").Set(eX.titular);eI.Hole("tipotarjeta").Set((function(e1){return function(e2){return e1(a.String(e2));};}(a.id))(eX.tipoTarjeta));eI.Hole("numero").Set(eX.numero.$0);eI.Hole("aniovenc").Set((function(e1){return function(e2){return e1(bD.padNumLeft(a.String(e2),4));};}(a.id))(eX.expiracion.anio));eI.Hole("mesvenc").Set((e0=eX.expiracion.mes,e0===1?"Enero":e0===2?"Febrero":e0===3?"Marzo":e0===4?"Abril":e0===5?"Mayo":e0===6?"Junio":e0===7?"Julio":e0===8?"Agosto":e0===9?"Septiembre":e0===10?"Octubre":e0===11?"Noviembre":e0===12?"Diciembre":"XX"));}eH=p.Map(function(eX){return bu.thr3(eX[0],eX[1],eX[2]);},eG.get_View());eI=(eJ=(eK=cW.Dynamic("style",p.Map(function(eX){return eX?"display:None":"";},eH)),(eL=cW.DynamicPred("disabled",eH,p.Const("")),(eM=cW.DynamicPred("disabled",eH,p.Const("")),(eN=cW.DynamicPred("disabled",eH,p.Const("")),(eO=cW.DynamicPred("disabled",eH,p.Const("")),(eP=cW.DynamicPred("disabled",eH,p.Const("")),(eQ=Z.EmbedView(p.Map(function(eX){return bu.crearOptions(bc.map(a.String,eX));},bu.mesesV().get_View())),(eR=Z.EmbedView(p.Map(function(eX){return bu.crearOptions(bc.map(a.String,eX));},bu.aniosV().get_View())),(eS=Z.EmbedView(p.Map(bu.crearOptions,bu.tiposTar().get_View())),U.Make().WithHole({$:0,$0:"tipostarjeta",$1:eS})).WithHole({$:2,$0:"mensaje",$1:p.Map(function(eX){return bu.snd3(eX[0],eX[1],eX[2]);},eG.get_View())}).WithHole({$:0,$0:"anios",$1:eR})).WithHole({$:0,$0:"meses",$1:eQ})).WithHole({$:3,$0:"disabled1",$1:eP})).WithHole({$:3,$0:"disabled2",$1:eO})).WithHole({$:3,$0:"disabled3",$1:eN})).WithHole({$:3,$0:"disabled4",$1:eM})).WithHole({$:3,$0:"disabled5",$1:eL})).WithHole({$:3,$0:"visible",$1:eK})),(eT=V.CompleteHoles(eJ.k,eJ.h,[["tipotarjeta",0],["titular",0],["numero",0],["aniovenc",0],["mesvenc",0]]),(eU=new S.New(eT[1],W.tarjetacredito(eT[0])),(eJ.i=eU,eU))));p.Sink(function(eX){return eW(eX[0],eX[1],eX[2]);},eG.get_View());eV=p.Apply(p.Apply(p.Apply(p.Map2(function(eX,eY){return ey.Curried3(function(eZ,e0,e1){return bc.map(function(e2){return e2[1];},bc.filter(function(e2){return e2[0];},bz.ofArray([[bj.Trim(eX)==="","Titular"],[bj.Trim(eY)==="","TipoTarjeta"],[bj.Trim(eZ)==="","Numero"],[bj.Trim(e0)==="","Ano de Vencimiento"],[bj.Trim(e1)==="","Mes de Vencimiento"]])));});},eI.Hole("titular").get_View(),eI.Hole("tipotarjeta").get_View()),eI.Hole("numero").get_View()),eI.Hole("aniovenc").get_View()),eI.Hole("mesvenc").get_View());p.Sink(function(eX){var eY,eZ;if(eX!=null&&eX.$==1){eY=eX.$0;!J.Equals((eZ=eG.Get(),bu.fst3(eZ[0],eZ[1],eZ[2])),eY)?eG.Set([eY,"",false]):void 0;}},p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(eX,eY){return ey.Curried(function(eZ,e0,e1,e2){return!bc.isEmpty(eX)?null:bu.alertIfNone("Tipo Tarjeta",c6.tryParse(bj.Trim(eY)),function(e3){var e4,e5,e6;return{$:1,$0:cK.New(bj.Trim(eZ),e3,new cM({$:0,$0:bj.Trim(e0)}),c5.New((e4=(e5=bj.Trim(e1),(cz.parseIntO())(e5)),e4==null?0:e4.$0),(e6=bj.Trim(e2),e6==="Febrero"?2:e6==="Marzo"?3:e6==="Abril"?4:e6==="Mayo"?5:e6==="Junio"?6:e6==="Julio"?7:e6==="Agosto"?8:e6==="Septiembre"?9:e6==="Octubre"?10:e6==="Noviembre"?11:e6==="Diciembre"?12:1)))};});},4);},eV,eI.Hole("tipotarjeta").get_View()),eI.Hole("titular").get_View()),eI.Hole("numero").get_View()),eI.Hole("aniovenc").get_View()),eI.Hole("mesvenc").get_View()));return[eV,eI.get_Doc()];};cQ=h.FromView=ey.Class({get_View:function(){return this.view;},Set:function(eG){this.set(eG);},Get:function(){return this.current;},Update:function(eG){var eH;p.Get((eH=this.set,function(eI){return eH(eG(eI));}),this.view);},UpdateMaybe:function(eG){var eH;eH=this;p.Get(function(eI){var eJ;eJ=eG(eI);eJ!=null&&eJ.$==1?eH.set(eJ.$0):void 0;},this.view);}},q,cQ);cQ.New=ey.Ctor(function(eG,eH){var eI,eJ;eI=this;q.New.call(this);this.set=eH;this.id=b8.Int();this.current=(eJ=p.TryGet(eG),eJ==null?null:eJ.$0);this.view=p.Map(function(eK){eI.current=eK;return eK;},eG);},cQ);cR.Delay=function(eG){return function(eH){try{(eG(null))(eH);}catch(eI){eH.k({$:1,$0:eI});}};};cR.Bind=function(eG,eH){return cR.checkCancel(function(eI){eG(_do.New(function(eJ){var eK;if(eJ.$==0){eK=eJ.$0;cR.scheduler().Fork(function(){try{(eH(eK))(eI);}catch(eL){eI.k({$:1,$0:eL});}});}else cR.scheduler().Fork(function(){eI.k(eJ);});},eI.ct));});};cR.Return=function(eG){return function(eH){eH.k({$:0,$0:eG});};};cR.Start=function(eG,eH){var eI,eJ;eI=(eJ=(cR.defCTS())[0],eH==null?eJ:eH.$0);cR.scheduler().Fork(function(){if(!eI.c)eG(_do.New(function(eK){if(eK.$==1)cR.UncaughtAsyncError(eK.$0);},eI));});};cR.Zero=function(){ds.$cctor();return ds.Zero;};cR.Sleep=function(eG){return function(eH){var eI,eJ;eI=void 0;eJ=void 0;eI=a.setTimeout(function(){eJ.Dispose();cR.scheduler().Fork(function(){eH.k({$:0,$0:null});});},eG);eJ=cR.Register(eH.ct,function(){a.clearTimeout(eI);cR.scheduler().Fork(function(){cR.cancel(eH);});});};};cR.While=function(eG,eH){return eG()?cR.Bind(eH,function(){return cR.While(eG,eH);}):cR.Return();};cR.checkCancel=function(eG){return function(eH){if(eH.ct.c)cR.cancel(eH);else eG(eH);};};cR.defCTS=function(){ds.$cctor();return ds.defCTS;};cR.UncaughtAsyncError=function(eG){eB.log("WebSharper: Uncaught asynchronous exception",eG);};cR.FromContinuations=function(eG){return function(eH){var eI;function eJ(eK){if(eI[0])o.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{eI[0]=true;cR.scheduler().Fork(eK);}}eI=[false];eG(function(eK){eJ(function(){eH.k({$:0,$0:eK});});},function(eK){eJ(function(){eH.k({$:1,$0:eK});});},function(eK){eJ(function(){eH.k({$:2,$0:eK});});});};};cR.TryWith=function(eG,eH){return function(eI){eG(_do.New(function(eJ){if(eJ.$==0)eI.k({$:0,$0:eJ.$0});else if(eJ.$==1)try{(eH(eJ.$0))(eI);}catch(eK){eI.k(eJ);}else eI.k(eJ);},eI.ct));};};cR.Combine=function(eG,eH){return cR.Bind(eG,function(){return eH;});};cR.Register=function(eG,eH){var eI;return eG===cR.noneCT()?{Dispose:function(){return null;}}:(eI=eG.r.push(eH)-1,{Dispose:function(){return T.set(eG.r,eI,a.ignore);}});};cR.cancel=function(eG){eG.k({$:2,$0:new d_.New(eG.ct)});};cR.scheduler=function(){ds.$cctor();return ds.scheduler;};cR.Using=function(eG,eH){return cR.TryFinally(eH(eG),function(){eG.Dispose();});};cR.TryFinally=function(eG,eH){return function(eI){eG(_do.New(function(eJ){try{eH();eI.k(eJ);}catch(eK){eI.k({$:1,$0:eK});}},eI.ct));};};cR.noneCT=function(){ds.$cctor();return ds.noneCT;};cR.StartWithContinuations=function(eG,eH,eI,eJ,eK){var eL,eM;eL=(eM=(cR.defCTS())[0],eK==null?eM:eK.$0);!eL.c?eG(_do.New(function(eN){if(eN.$==1)eI(eN.$0);else if(eN.$==2)eJ(eN.$0);else eH(eN.$0);},eL)):void 0;};cR.GetCT=function(){ds.$cctor();return ds.GetCT;};cS=h.AttrProxy=ey.Class({},null,cS);cS.Create=function(eG,eH){return dq.Static(function(eI){dr.SetAttr(eI,eG,eH);});};cS.HandlerImpl=function(eG,eH){return dq.Static(function(eI){eI.addEventListener(eG,function(eJ){return(eH(eI))(eJ);},false);});};cS.Concat=function(eG){var eH;eH=cT.ofSeqNonCopying(eG);return cT.TreeReduce(dq.EmptyAttr(),cS.Append,eH);};cS.Append=function(eG,eH){return dq.AppendTree(eG,eH);};cS.Handler=function(eG,eH){return cS.HandlerImpl(eG,eH);};cT.ofSeqNonCopying=function(eG){var eH,eI;if(eG instanceof a.Array)return eG;else if(eG instanceof cx)return T.ofList(eG);else if(eG===null)return[];else{eH=[];eI=cu.Get(eG);try{while(eI.MoveNext())eH.push(eI.Current());return eH;}finally{if(typeof eI=="object"&&"Dispose"in eI)eI.Dispose();}}};cT.TreeReduce=function(eG,eH,eI){var eJ;function eK(eL,eM){var eN,eO;return eM<=0?eG:eM===1&&(eL>=0&&eL<eJ)?T.get(eI,eL):(eO=eM/2>>0,eH(eK(eL,eO),eK(eL+eO,eM-eO)));}eJ=T.length(eI);return eK(0,eJ);};cT.MapTreeReduce=function(eG,eH,eI,eJ){var eK;function eL(eM,eN){var eO,eP;return eN<=0?eH:eN===1&&(eM>=0&&eM<eK)?eG(T.get(eJ,eM)):(eP=eN/2>>0,eI(eL(eM,eP),eL(eM+eP,eN-eP)));}eK=T.length(eJ);return eL(0,eK);};cT.mapInPlace=function(eG,eH){var eI,eJ;for(eI=0,eJ=eH.length-1;eI<=eJ;eI++)eH[eI]=eG(eH[eI]);return eH;};cU=M.TipoCuenta=ey.Class({toString:function(){return this.$==2?this.$0:(function(eG){return function(eH){return eG(bb.p$7(eH));};}(a.id))(this);}},null,cU);cU.Ahorro=new cU({$:0});cU.tryParse=function(eG){var eH,eI;eI=bj.Trim(eG).toUpperCase();switch(eI){case"":return null;case"AHORRO":case"SAVINGS":return{$:1,$0:cU.Ahorro};case"CORRIENTE":case"CHECKING":return{$:1,$0:cU.Corriente};default:return{$:1,$0:new cU({$:2,$0:bj.Trim(eG)})};}};cU.Corriente=new cU({$:1});cV.InMemory=function(eG){return new dt.New(eG);};cW.DynamicPred=function(eG,eH,eI){function eJ(eK,eL){return eL[0]?dr.SetAttr(eK,eG,eL[1]):dr.RemoveAttr(eK,eG);}return dq.Dynamic(p.Map2(function(eK,eL){return[eK,eL];},eH,eI),function(eK){return function(eL){return eJ(eK,eL);};});};cW.Style=function(eG,eH){return dq.Static(function(eI){dr.SetStyle(eI,eG,eH);});};cW.Dynamic=function(eG,eH){return dq.Dynamic(eH,function(eI){return function(eJ){return dr.SetAttr(eI,eG,eJ);};});};cW.Handler=function(eG,eH){return dq.Static(function(eI){eI.addEventListener(eG,function(eJ){return(eH(eI))(eJ);},false);});};cW.DynamicStyle=function(eG,eH){return dq.Dynamic(eH,function(eI){return function(eJ){return dr.SetStyle(eI,eG,eJ);};});};cW.Value=function(eG){function eH(eI){return{$:1,$0:eI};}return cW.CustomValue(eG,a.id,function(eI){return eH(a.id(eI));});};cW.CustomValue=function(eG,eH,eI){return cW.CustomVar(eG,function(eJ,eK){eJ.value=eH(eK);},function(eJ){return eI(eJ.value);});};cW.OnAfterRender=function(eG){return new cS({$:4,$0:eG});};cW.Checked=function(eG){function eH(eI,eJ){return!J.Equals(eG.Get(),eI.checked)?eG.Set(eI.checked):null;}return cS.Concat([cW.DynamicProp("checked",eG.get_View()),cW.Handler("change",function(eI){return function(eJ){return eH(eI,eJ);};})]);};cW.IntValue=function(eG){return cW.CustomVar(eG,function(eH,eI){var eJ;eJ=eI.get_Input();return eH.value!==eJ?void(eH.value=eJ):null;},function(eH){var eI,eJ,eK;eI=eH.value;return{$:1,$0:eo.isBlank(eI)?(eH.checkValidity?eH.checkValidity():true)?new c8({$:2,$0:eI}):new c8({$:1,$0:eI}):(eJ=(eK=0,[b0.TryParseInt32(eI,{get:function(){return eK;},set:function(eL){eK=eL;}}),eK]),eJ[0]?new c8({$:0,$0:eJ[1],$1:eI}):new c8({$:1,$0:eI}))};});};cW.IntValueUnchecked=function(eG){return cW.CustomValue(eG,a.String,function(eH){var eI;return eo.isBlank(eH)?{$:1,$0:0}:(eI=+eH,eI!==eI>>0?null:{$:1,$0:eI});});};cW.FloatValue=function(eG){return cW.CustomVar(eG,function(eH,eI){var eJ;eJ=eI.get_Input();return eH.value!==eJ?void(eH.value=eJ):null;},function(eH){var eI,eJ;eI=eH.value;return{$:1,$0:eo.isBlank(eI)?(eH.checkValidity?eH.checkValidity():true)?new c8({$:2,$0:eI}):new c8({$:1,$0:eI}):(eJ=+eI,a.isNaN(eJ)?new c8({$:1,$0:eI}):new c8({$:0,$0:eJ,$1:eI}))};});};cW.FloatValueUnchecked=function(eG){return cW.CustomValue(eG,a.String,function(eH){var eI;return eo.isBlank(eH)?{$:1,$0:0}:(eI=+eH,a.isNaN(eI)?null:{$:1,$0:eI});});};cW.CustomVar=function(eG,eH,eI){function eJ(eL,eM){return eG.UpdateMaybe(function(eN){var eO,eP;eO=eI(eL);return eO!=null&&eO.$==1&&(!J.Equals(eO.$0,eN)&&(eP=[eO,eO.$0],true))?eP[0]:null;});}function eK(eL,eM){var eN,eO;eN=eI(eL);return eN!=null&&eN.$==1&&(J.Equals(eN.$0,eM)&&(eO=eN.$0,true))?null:eH(eL,eM);}return cS.Concat([cW.Handler("change",function(eL){return function(eM){return eJ(eL,eM);};}),cW.Handler("input",function(eL){return function(eM){return eJ(eL,eM);};}),cW.Handler("keypress",function(eL){return function(eM){return eJ(eL,eM);};}),cW.DynamicCustom(function(eL){return function(eM){return eK(eL,eM);};},eG.get_View())]);};cW.DynamicProp=function(eG,eH){return dq.Dynamic(eH,function(eI){return function(eJ){eI[eG]=eJ;};});};cW.DynamicCustom=function(eG,eH){return dq.Dynamic(eH,eG);};bK.splitByChar=function(eG,eH){return bj.SplitChars(eH,[eG],0);};bK.unindent=function(eG){var eH,eI,eJ,eK;eH=bj.SplitChars(eG,["\n"],0);eI=(eJ=bc.tryFindIndex(function(eL){return" "!==eL;},(eK=bc.tryFind(function(eL){return bj.Trim(eL)!=="";},eH),eK==null?"":eK.$0)),eJ==null?0:eJ.$0);return bc.filter(function(eL){return!bj.StartsWith(eL,"# 1 ");},bc.map(function(eL){return eL.length<=eI?"":eL.substring(eI);},eH));};bK.delimitedO=function(eG,eH,eI){var eJ,eK,eL,eM,eN;eJ=bK.splitInTwoO(eG,eI);return eJ==null?null:(eK=eJ.$0,(eL=eK[0],(eM=bK.splitInTwoO(eH,eK[1]),eM==null?null:{$:1,$0:(eN=eM.$0,[eL,eN[0],eN[1]])})));};bK.unindentStr=function(){bV.$cctor();return bV.unindentStr;};bK.StartsWith=function(eG,eH){return bj.StartsWith(eH,eG)?{$:1,$0:cc.string(eH,{$:1,$0:eG.length},null)}:null;};bK.splitInTwoO=function(eG,eH){var eI;eI=eH.indexOf(eG);return eI===-1?null:{$:1,$0:[bd["String.Left"](eH,eI),eH.substring(eI+eG.length)]};};cX.p$1=function(eG){return"{"+("actName = "+bD.prettyPrint(eG.actName))+"; "+("actFunction = "+cZ.p$1(eG.actFunction))+"; "+("actEnabled = "+cZ.p$2(eG.actEnabled))+"}";};cY.appfwkclient=function(eG){cY.fixedsplitterhor();cY.fixedsplitterver();c_.LoadLocalTemplates("appframework");return eG?c_.NamedTemplate("appframework",{$:1,$0:"appfwkclient"},eG):void 0;};cX.p=function(eG){return"{"+("docName = "+bD.prettyPrint(eG.docName))+"; "+("docDoc = "+cZ.p(eG.docDoc))+"}";};cZ.p$1=function(eG){return eG.$==2?"FunAct2 (<fun>, "+bD.prettyPrint(eG.$1)+", "+bD.prettyPrint(eG.$2)+")":eG.$==1?"FunAct1 (<fun>, "+bD.prettyPrint(eG.$1)+")":"FunAct0 <fun>";};cZ.p$2=function(eG){return"View <fun>";};cY.tile=function(eG){c_.LoadLocalTemplates("appframework");return eG?c_.NamedTemplate("appframework",{$:1,$0:"tile"},eG):void 0;};cY.namevalueinput=function(eG){c_.LoadLocalTemplates("appframework");return eG?c_.NamedTemplate("appframework",{$:1,$0:"namevalueinput"},eG):void 0;};cY.namevalue=function(eG){c_.LoadLocalTemplates("appframework");return eG?c_.NamedTemplate("appframework",{$:1,$0:"namevalue"},eG):void 0;};cY.action=function(eG){c_.LoadLocalTemplates("appframework");return eG?c_.NamedTemplate("appframework",{$:1,$0:"action"},eG):void 0;};cY.actiondisabled=function(eG){c_.LoadLocalTemplates("appframework");return eG?c_.NamedTemplate("appframework",{$:1,$0:"actiondisabled"},eG):void 0;};cY.fixedsplitterhor=function(eG){c_.LoadLocalTemplates("appframework");return eG?c_.NamedTemplate("appframework",{$:1,$0:"fixedsplitterhor"},eG):void 0;};cY.fixedsplitterver=function(eG){c_.LoadLocalTemplates("appframework");return eG?c_.NamedTemplate("appframework",{$:1,$0:"fixedsplitterver"},eG):void 0;};cY.wcompsplitterhor=function(eG){c_.LoadLocalTemplates("appframework");return eG?c_.NamedTemplate("appframework",{$:1,$0:"wcompsplitterhor"},eG):void 0;};cY.wcompsplitterver=function(eG){c_.LoadLocalTemplates("appframework");return eG?c_.NamedTemplate("appframework",{$:1,$0:"wcompsplitterver"},eG):void 0;};cY.appframework=function(eG){c_.LoadLocalTemplates("appframework");return eG?c_.NamedTemplate("appframework",{$:1,$0:"appframework"},eG):void 0;};cZ.p=function(eG){return eG.$==5?"FunDoc5 (<fun>, "+bD.prettyPrint(eG.$1)+", "+bD.prettyPrint(eG.$2)+", "+bD.prettyPrint(eG.$3)+", "+bD.prettyPrint(eG.$4)+", "+bD.prettyPrint(eG.$5)+")":eG.$==4?"FunDoc4 (<fun>, "+bD.prettyPrint(eG.$1)+", "+bD.prettyPrint(eG.$2)+", "+bD.prettyPrint(eG.$3)+", "+bD.prettyPrint(eG.$4)+")":eG.$==3?"FunDoc3 (<fun>, "+bD.prettyPrint(eG.$1)+", "+bD.prettyPrint(eG.$2)+", "+bD.prettyPrint(eG.$3)+")":eG.$==2?"FunDoc2 (<fun>, "+bD.prettyPrint(eG.$1)+", "+bD.prettyPrint(eG.$2)+")":eG.$==1?"FunDoc1 (<fun>, "+bD.prettyPrint(eG.$1)+")":"LazyDoc "+bD.prettyPrint(eG.$0);};cz.tryParseWith=function(eG){function eH(eI,eJ){return eI?{$:1,$0:eJ}:null;}return function(eI){return eH.apply(null,eG(eI));};};cz.parseDateO=function(){bV.$cctor();return bV.parseDateO;};cz.parseIntO=function(){bV.$cctor();return bV.parseIntO;};cz.parseInt64O=function(){bV.$cctor();return bV.parseInt64O;};cz.parseSingleO=function(){bV.$cctor();return bV.parseSingleO;};cz.parseDoubleO=function(){bV.$cctor();return bV.parseDoubleO;};cz.parseGuidO=function(){bV.$cctor();return bV.parseGuidO;};cz.Double=function(){bV.$cctor();return bV["|Double|_|"];};cz.Int=function(){bV.$cctor();return bV["|Int|_|"];};c2=c1.WcTabStripT=ey.Class({connectedCallback:function(){var eG,eH,eI,eJ;function eK(){var eL,eM,eN;eM=!eH.hasAttribute("bottom");eN=bz.ofSeq(bc.delay(function(){return bc.collect(function(eO){var eP;eP=eH.childNodes[eO-1];return J.Equals(eP.nodeType,G.ELEMENT_NODE)?[[eP.hasAttribute("tabname")?eP.getAttribute("tabname"):(function(eQ){return function(eR){return eQ("Tab "+a.String(eR));};}(a.id))(eO),eP]]:[];},o.range(1,eH.childNodes.length));}));while(eJ.childNodes.length>0)eJ.removeChild(eJ.lastChild);eL=c1.tabStrip(eG.selected,eM,true,eN,Z.Element("slot",cx.Empty,cx.Empty));c_.LoadLocalTemplates("");Z.Run(eJ,eL);}eG=this;!this.added?(eH=this,eI=eH.attachShadow({mode:"open"}),eJ=self.document.createElement("div"),eI.appendChild(eJ),eK(),eH.addEventListener("DOMSubtreeModified",bd.delayed(50,eK)),this.added=true):void 0;}},g,c2);c2.Constructor=function(){var eG,eH;eG=(eH=eE.construct(self.HTMLElement,[],this.__proto__.constructor),eH);self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New.call(eG);return eG;};c2.New=ey.Ctor(function(){g.New.call(this);this.added=false;this.selected=i.Create$1(1);(function(eG){return eG("WcTabStripT initializer");}(function(eG){eB.log(eG);}));},c2);c0.defineWebComponent=function(eG,eH,eI){try{eB.log("defineWebComponent: "+eG);cP.setPrototypeOf(eI.prototype,self.HTMLElement.prototype);cP.setPrototypeOf(eI,self.HTMLElement);cP.setPrototypeOf(eH.prototype,eI.prototype);self.customElements.define(eG,eH);}catch(eJ){(function(eK){return eK("Failed to define WebComponent. Not supported.");}(function(eK){eB.log(eK);}));}};c3.init=function(eG,eH){var eI;eI=new dz.New();c3.set_layoutHorizontal(eG);c3.set_layoutVertical(eH);c0.defineWebComponent("wcomp-splitter",dz.Constructor,self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New);};c3.set_layoutHorizontal=function(eG){bV.$cctor();bV.layoutHorizontal=eG;};c3.set_layoutVertical=function(eG){bV.$cctor();bV.layoutVertical=eG;};c3.layoutVertical=function(){bV.$cctor();return bV.layoutVertical;};c3.layoutHorizontal=function(){bV.$cctor();return bV.layoutHorizontal;};c1.init=function(){bV.$cctor();return bV.init;};c1.tabStrip=function(eG,eH,eI,eJ,eK){var eL;eL=Z.Element("div",[cS.Create("class",(((ey.Curried3(function(eM,eN,eO){return eM("tab-strip "+bD.toSafe(eN)+" "+bD.toSafe(eO));}))(a.id))(eH?"top":"bottom"))(eI?"horizontal":"vertical"))],bz.ofSeq(bc.delay(function(){return bc.collect(function(eM){var eN;eN=eM[0];return[dS.New$1().Content(Z.Element("div",[cW.Dynamic("class",p.Map(function(eO){return"tab"+(eO===eN+1?" selected":"");},eG.get_View())),cS.Create("draggable","true"),cS.HandlerImpl("click",function(){return function(){return eG.Set(eN+1);};})],[Z.TextNode(eM[1][0])]))];},bc.indexed(eJ));})));return Z.Element("div",[cS.Create("class","tab-panel")],bz.ofSeq(bc.delay(function(){return bc.append(eH?[eL]:[],bc.delay(function(){return bc.append([Z.Element("div",[cS.Create("class","tab-content")],[eK])],bc.delay(function(){return bc.append(!eH?[eL]:[],bc.delay(function(){return bc.append([Z.Element("style",cx.Empty,bz.ofArray([Z.TextNode(c1.css())]))],bc.delay(function(){return[Z.Element("style",cx.Empty,bz.ofArray([Z.TextView(p.Map(function(eM){return function(eN){return eM("\r\n                                              ::slotted(*              ) { display: none }\r\n                                              ::slotted(*:nth-child("+a.String(eN)+")) { display: grid }\r\n                                           ");};}(a.id),eG.get_View()))]))];}));}));}));}));})));};c1.css=function(){bV.$cctor();return bV.css;};b9=bF.Builder=ey.Class({},g,b9);b9.New=ey.Ctor(function(){g.New.call(this);},b9);ca=b$.EffBuilder=ey.Class({},g,ca);ca.New=ey.Ctor(function(){g.New.call(this);},ca);c4.toJsonString=function(eG){return T.ofSeq(bc.delay(function(){return bc.append(["\""],bc.delay(function(){return bc.append(!bj.IsNullOrEmpty(eG)?bc.collect(function(eH){var eI,eJ;eI=eG[eH];eJ=eI.charCodeAt();return eJ>=0&&eJ<=7||eJ===11||eJ>=14&&eJ<=31?(function(eK){return function(eL){return eK("\\u"+bD.padNumLeft(eL.toString(16),4));};}(a.id))(eJ):eI==="\u0008"?"\\b":eI==="\u0009"?"\\t":eI==="\n"?"\\n":eI==="\u000c"?"\\f":eI==="\r"?"\\r":eI==="\""?"\\\"":eI==="\\"?"\\\\":[eI];},o.range(0,eG.length-1)):[],bc.delay(function(){return["\""];}));}));})).join("");};c5=M.Expiracion=ey.Class({},null,c5);c5.New=function(eG,eH){return new c5({anio:eG,mes:eH});};c6=M.TipoTarjeta=ey.Class({toString:function(){return this.$==3?this.$0:(function(eG){return function(eH){return eG(bb.p$6(eH));};}(a.id))(this);}},null,c6);c6.Visa=new c6({$:0});c6.tryParse=function(eG){var eH,eI;eI=bj.Trim(eG).toUpperCase();switch(eI){case"":return null;case"VISA":return{$:1,$0:c6.Visa};case"MASTERCARD":return{$:1,$0:c6.MasterCard};case"AMERICAN EXPRESS":case"AMEX":return{$:1,$0:c6.Amex};default:return{$:1,$0:new c6({$:3,$0:bj.Trim(eG)})};}};c6.MasterCard=new c6({$:1});c6.Amex=new c6({$:2});c7.notPresent=function(){return o.FailWith("The given key was not present in the dictionary.");};c7.alreadyAdded=function(){return o.FailWith("An item with the same key has already been added.");};c8=h.CheckedInput=ey.Class({get_Input:function(){return this.$==1?this.$0:this.$==2?this.$0:this.$1;}},null,c8);c_.LoadLocalTemplates=function(eG){!c_.LocalTemplatesLoaded()?(c_.set_LocalTemplatesLoaded(true),c_.LoadNestedTemplates(self.document.body,"")):void 0;c_.LoadedTemplates().set_Item(eG,c_.LoadedTemplateFile(""));};c_.NamedTemplate=function(eG,eH,eI){var eJ,eK;eJ=(eK=null,[c_.LoadedTemplateFile(eG).TryGetValue(eH==null?"":eH.$0,{get:function(){return eK;},set:function(eL){eK=eL;}}),eK]);return eJ[0]?c_.ChildrenTemplate(eJ[1].cloneNode(true),eI):(eB.warn("Local template doesn't exist",eH),Z.get_Empty());};c_.RunFullDocTemplate=function(eG){var eH,eI;c_.LoadLocalTemplates("");c_.PrepareTemplateStrict("",null,dr.ChildrenArray(self.document.body),{$:1,$0:self.document.body},null);eH=c_.ChildrenTemplate(self.document.body,eG);eI=self.document.body;(function(eJ){Z.RunInPlace(true,eI,eJ);}(eH));return eH;};c_.LocalTemplatesLoaded=function(){dW.$cctor();return dW.LocalTemplatesLoaded;};c_.set_LocalTemplatesLoaded=function(eG){dW.$cctor();dW.LocalTemplatesLoaded=eG;};c_.LoadNestedTemplates=function(eG,eH){var eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW;function eI(eX){var eY,eZ;if(!eJ.ContainsKey(eX)){eY=(eZ=null,[eK.TryGetValue(eX,{get:function(){return eZ;},set:function(e0){eZ=e0;}}),eZ]);eY[0]?(eW.Add(eX),eK.Remove(eX),c_.PrepareTemplateStrict(eH,{$:1,$0:eX},eY[1][0],{$:1,$0:eY[1][1]},{$:1,$0:eI})):eB.warn(eW.Contains(eX)?"Encountered loop when instantiating "+eX:"Local template does not exist: "+eX);}}eJ=c_.LoadedTemplateFile(eH);eK=new b3.New$5();eL=eG.querySelectorAll("[ws-template]");for(eM=0,eN=eL.length-1;eM<=eN;eM++){eO=eL[eM];eP=eO.getAttribute("ws-template").toLowerCase();eO.removeAttribute("ws-template");eK.set_Item(eP,[[eO],c_.FakeRootSingle(eO)]);}eQ=eG.querySelectorAll("[ws-children-template]");for(eR=0,eS=eQ.length-1;eR<=eS;eR++){eT=eQ[eR];eU=eT.getAttribute("ws-children-template").toLowerCase();eT.removeAttribute("ws-children-template");eK.set_Item(eU,(eV=dr.ChildrenArray(eT),[eV,c_.FakeRoot(eV)]));}eW=new b4.New$3();while(eK.count>0)eI(bc.head(eK.get_Keys()));};c_.LoadedTemplates=function(){dW.$cctor();return dW.LoadedTemplates;};c_.LoadedTemplateFile=function(eG){var eH,eI,eJ;eH=(eI=null,[c_.LoadedTemplates().TryGetValue(eG,{get:function(){return eI;},set:function(eK){eI=eK;}}),eI]);return eH[0]?eH[1]:(eJ=new b3.New$5(),(c_.LoadedTemplates().set_Item(eG,eJ),eJ));};c_.ChildrenTemplate=function(eG,eH){var eI,eJ,eK,eL,eM;eI=c_.InlineTemplate(eG,eH);eJ=eI[1];eK=eI[0];eL=eK.Els;return!J.Equals(eL,null)&&eL.length===1&&(T.get(eL,0)instanceof G&&(J.Equals(T.get(eL,0).nodeType,G.ELEMENT_NODE)&&(eM=T.get(eL,0),true)))?dX.TreeNode(eK,eJ):Z.Mk({$:6,$0:eK},eJ);};c_.PrepareTemplateStrict=function(eG,eH,eI,eJ,eK){var eL,eM;function eN(eS,eT){var eU,eV,eW,eX,eY,e0,e1,e2,e3,e4,e5,e6,e7,e8,e9,e_,e$,fa,fb,fc,fd,fe,ff,fg,fh,fi;function eZ(fj){}while(true)switch(eS){case 0:if(eT!==null){eU=eT.nextSibling;if(J.Equals(eT.nodeType,G.TEXT_NODE))d0.convertTextNode(eT);else if(J.Equals(eT.nodeType,G.ELEMENT_NODE))eP(eT);eT=eU;}else return null;break;case 1:e0=cc.string(eT.nodeName,{$:1,$0:3},null).toLowerCase();e1=(eV=e0.indexOf("."),eV===-1?[eG,e0]:[cc.string(e0,null,{$:1,$0:eV-1}),cc.string(e0,{$:1,$0:eV+1},null)]);e2=e1[1];e3=e1[0];if(e3!==""&&!c_.LoadedTemplates().ContainsKey(e3))return d0.failNotLoaded(e2);else{if(e3===""&&eK!=null)eK.$0(e2);e4=c_.LoadedTemplates().get_Item(e3);if(!e4.ContainsKey(e2))return d0.failNotLoaded(e2);else{e5=e4.get_Item(e2);e6=e5.cloneNode(true);e7=new b4.New$3();e8=new b3.New$5();e9=eT.attributes;for(e_=0,e$=e9.length-1;e_<=e$;e_++){fa=e9.item(e_).name.toLowerCase();e8.set_Item(fa,(fb=e9.item(e_).nodeValue,fb===""?fa:fb.toLowerCase()));!e7.Add(fa)?eB.warn("Hole mapped twice",fa):void 0;}for(fc=0,fd=eT.childNodes.length-1;fc<=fd;fc++){fe=eT.childNodes[fc];J.Equals(fe.nodeType,G.ELEMENT_NODE)?!e7.Add(fe.nodeName.toLowerCase())?eB.warn("Hole filled twice",e2):void 0:void 0;}ff=eT.childNodes.length===1&&J.Equals(eT.firstChild.nodeType,G.TEXT_NODE);if(ff){eX=d0.fillTextHole(e6,eT.firstChild.textContent,e2);((function(fj){return function(fk){if(fk!=null)fj(fk.$0);};}((eY=function(fj){return function(fk){return fj.Add(fk);};}(e7),function(fj){return eZ(eY(fj));})))(eX));}d0.removeHolesExcept(e6,e7);if(!ff){for(fg=0,fh=eT.childNodes.length-1;fg<=fh;fg++){fi=eT.childNodes[fg];J.Equals(fi.nodeType,G.ELEMENT_NODE)?fi.hasAttributes()?d0.fillInstanceAttrs(e6,fi):eO(e6,fi):void 0;}}d0.mapHoles(e6,e8);d0.fill(e6,eT.parentNode,eT);eT.parentNode.removeChild(eT);return;}}break;}}function eO(eS,eT){var eU,eW,eX;function eV(eY,eZ){var e0,e1,e2;if(eW==="title"&&eT.hasChildNodes()){e0=eA.parseHTML(eT.textContent);eT.removeChild(eT.firstChild);for(e1=0,e2=e0.length-1;e1<=e2;e1++)eT.appendChild(T.get(e0,e1));}else null;eP(eT);return d0.fill(eT,eY,eZ);}eW=eT.nodeName.toLowerCase();dr.IterSelector(eS,"[ws-attr-holes]",function(eY){var eZ,e0,e1,e2,e3;eZ=bj.SplitChars(eY.getAttribute("ws-attr-holes"),[" "],1);for(e0=0,e1=eZ.length-1;e0<=e1;e0++){e2=T.get(eZ,e0);eY.setAttribute(e2,(e3=new a.RegExp("\\${"+eW+"}","ig"),eY.getAttribute(e2).replace(e3,eT.textContent)));}});eX=eS.querySelector("[ws-hole="+eW+"]");if(J.Equals(eX,null)){eU=eS.querySelector("[ws-replace="+eW+"]");return J.Equals(eU,null)?null:(eV(eU.parentNode,eU),void eU.parentNode.removeChild(eU));}else{while(eX.hasChildNodes())eX.removeChild(eX.lastChild);eX.removeAttribute("ws-hole");return eV(eX,null);}}function eP(eS){if(bj.StartsWith(eS.nodeName.toLowerCase(),"ws-"))eR(eS);else{d0.convertAttrs(eS);eQ(eS.firstChild);}}function eQ(eS){return eN(0,eS);}function eR(eS){return eN(1,eS);}eL=eJ==null?c_.FakeRoot(eI):eJ.$0;eM=(eH==null?"":eH.$0).toLowerCase();c_.LoadedTemplateFile(eG).set_Item(eM,eL);T.length(eI)>0?(function(eS){var eT,eU,eV,eW;while(true){eT=eS.querySelector("[ws-template]");if(J.Equals(eT,null)){eU=eS.querySelector("[ws-children-template]");if(J.Equals(eU,null))return null;else{eV=eU.getAttribute("ws-children-template");eU.removeAttribute("ws-children-template");c_.PrepareTemplateStrict(eG,{$:1,$0:eV},dr.ChildrenArray(eU),null,null);eS=eS;}}else{eW=eT.getAttribute("ws-template");(c_.PrepareSingleTemplate(eG,{$:1,$0:eW},eT))(null);eS=eS;}}}(eL),eQ(T.get(eI,0))):void 0;};c_.FakeRootSingle=function(eG){var eH,eI,eJ;eG.removeAttribute("ws-template");eH=eG.getAttribute("ws-replace");eH===null?void 0:(eG.removeAttribute("ws-replace"),eI=eG.parentNode,J.Equals(eI,null)?void 0:(eJ=self.document.createElement(eG.tagName),eJ.setAttribute("ws-replace",eH),eI.replaceChild(eJ,eG)));return c_.FakeRoot([eG]);};c_.FakeRoot=function(eG){var eH,eI,eJ;eH=self.document.createElement("div");for(eI=0,eJ=eG.length-1;eI<=eJ;eI++)eH.appendChild(T.get(eG,eI));return eH;};c_.InlineTemplate=function(eG,eH){var eI,eJ,eK,eL,eO,eP,eQ,eR,eS,eT,eU;function eM(eV,eW){var eX,eY,eZ;eX=dq.Insert(eV,eW);eP.push(dq.Updates(eX));eQ.push([eV,eX]);eY=ey.GetOptional(eX.OnAfterRender);return eY==null?null:(eZ=eY.$0,void eR.push(function(){eZ(eV);}));}function eN(eV){var eW,eX;eW=(eX=null,[eS.TryGetValue(eV,{get:function(){return eX;},set:function(eY){eX=eY;}}),eX]);return eW[0]?eW[1].$==0?{$:1,$0:eW[1].$1}:eW[1].$==1?{$:1,$0:Z.TextNode(eW[1].$1)}:eW[1].$==2?{$:1,$0:Z.TextView(eW[1].$1)}:eW[1].$==8?{$:1,$0:Z.TextView(eW[1].$1.get_View())}:eW[1].$==9?{$:1,$0:Z.TextView(p.Map(a.String,eW[1].$1.get_View()))}:eW[1].$==10?{$:1,$0:Z.TextView(p.Map(function(eY){return eY.get_Input();},eW[1].$1.get_View()))}:eW[1].$==11?{$:1,$0:Z.TextView(p.Map(a.String,eW[1].$1.get_View()))}:eW[1].$==12?{$:1,$0:Z.TextView(p.Map(function(eY){return eY.get_Input();},eW[1].$1.get_View()))}:eW[1].$==13?{$:1,$0:Z.TextView(p.Map(a.String,eW[1].$1.get_View()))}:(eB.warn("Content hole filled with attribute data",eV),null):null;}eO=[];eP=[];eQ=[];eR=[];eS=new b3.New$5();eT=cu.Get(eH);try{while(eT.MoveNext()){eU=eT.Current();eS.set_Item(eU.$0,eU);}}finally{if(typeof eT=="object"&&"Dispose"in eT)eT.Dispose();}eI=dr.ChildrenArray(eG);dr.IterSelector(eG,"[ws-hole]",function(eV){var eW,eX,eY;eY=eV.getAttribute("ws-hole");eV.removeAttribute("ws-hole");while(eV.hasChildNodes())eV.removeChild(eV.lastChild);eW=eN(eY);eW!=null&&eW.$==1?(eX=eW.$0,dn.LinkElement(eV,eX.docNode),eO.push(dB.New(dq.Empty(eV),eX.docNode,null,eV,b8.Int(),null)),eP.push(eX.updates)):void 0;});dr.IterSelector(eG,"[ws-replace]",function(eV){var eW,eX,eY,eZ,e0,e1;eW=eN(eV.getAttribute("ws-replace"));eW!=null&&eW.$==1?(eX=eW.$0,eY=eV.parentNode,eZ=self.document.createTextNode(""),eY.replaceChild(eZ,eV),e0=dn.InsertBeforeDelim(eZ,eX.docNode),e1=T.tryFindIndex(function(e2){return eV===e2;},eI),e1==null?void 0:T.set(eI,e1.$0,eX.docNode),eO.push(dB.New(dq.Empty(eY),eX.docNode,{$:1,$0:[e0,eZ]},eY,b8.Int(),null)),eP.push(eX.updates)):void 0;});dr.IterSelector(eG,"[ws-attr]",function(eV){var eW,eX,eY;eW=eV.getAttribute("ws-attr");eV.removeAttribute("ws-attr");eX=(eY=null,[eS.TryGetValue(eW,{get:function(){return eY;},set:function(eZ){eY=eZ;}}),eY]);eX[0]?eX[1].$==3?eM(eV,eX[1].$1):eB.warn("Attribute hole filled with non-attribute data",eW):void 0;});dr.IterSelector(eG,"[ws-on]",function(eV){eM(eV,cS.Concat(T.choose(function(eW){var eX,eY,eZ;eX=bj.SplitChars(eW,[":"],1);eY=(eZ=null,[eS.TryGetValue(T.get(eX,1),{get:function(){return eZ;},set:function(e0){eZ=e0;}}),eZ]);return eY[0]?eY[1].$==4?{$:1,$0:cW.Handler(T.get(eX,0),eY[1].$1)}:eY[1].$==5?{$:1,$0:cS.Handler(T.get(eX,0),eY[1].$2)}:(eB.warn("Event hole on"+T.get(eX,0)+" filled with non-event data",T.get(eX,1)),null):null;},bj.SplitChars(eV.getAttribute("ws-on"),[" "],1))));eV.removeAttribute("ws-on");});dr.IterSelector(eG,"[ws-onafterrender]",function(eV){var eW,eX,eY;eW=eV.getAttribute("ws-onafterrender");eX=(eY=null,[eS.TryGetValue(eW,{get:function(){return eY;},set:function(eZ){eY=eZ;}}),eY]);eX[0]?eX[1].$==6?(eV.removeAttribute("ws-onafterrender"),eM(eV,cW.OnAfterRender(eX[1].$1))):eX[1].$==7?(eV.removeAttribute("ws-onafterrender"),eM(eV,cW.OnAfterRender(eX[1].$1))):eB.warn("onafterrender hole filled with non-onafterrender data",eW):void 0;});dr.IterSelector(eG,"[ws-var]",function(eV){var eW,eX,eY;eW=eV.getAttribute("ws-var");eV.removeAttribute("ws-var");eX=(eY=null,[eS.TryGetValue(eW,{get:function(){return eY;},set:function(eZ){eY=eZ;}}),eY]);eX[0]?eX[1].$==8?eM(eV,cW.Value(eX[1].$1)):eX[1].$==9?eM(eV,cW.Checked(eX[1].$1)):eX[1].$==10?eM(eV,cW.IntValue(eX[1].$1)):eX[1].$==11?eM(eV,cW.IntValueUnchecked(eX[1].$1)):eX[1].$==12?eM(eV,cW.FloatValue(eX[1].$1)):eX[1].$==13?eM(eV,cW.FloatValueUnchecked(eX[1].$1)):eB.warn("Var hole filled with non-Var data",eW):void 0;});dr.IterSelector(eG,"[ws-attr-holes]",function(eV){var eW,eX,eY,eZ;eW=new a.RegExp(c_.TextHoleRE(),"g");eX=bj.SplitChars(eV.getAttribute("ws-attr-holes"),[" "],1);eV.removeAttribute("ws-attr-holes");for(eY=0,eZ=eX.length-1;eY<=eZ;eY++)(function(){var e0,e1,e2,e3,e4,e5,e6,e7,e8,e9,e_,e$,fa;e9=T.get(eX,eY);e_=eV.getAttribute(e9);e0=null;e1=0;e$=[];while(e0=eW.exec(e_),e0!==null){fa=cc.string(e_,{$:1,$0:e1},{$:1,$0:eW.lastIndex-T.get(e0,0).length-1});e1=eW.lastIndex;e$.push([fa,T.get(e0,1)]);}e3=cc.string(e_,{$:1,$0:e1},null);eW.lastIndex=0;e4=T.foldBack(function(fb,fc){return(function(fd){var fe,ff;fe=fd[0];ff=fd[1];return function(fg){var fh,fi,fj,fk,fl;fh=fg[0];fi=fg[1];fj=(fk=(fl=null,[eS.TryGetValue(ff,{get:function(){return fl;},set:function(fm){fl=fm;}}),fl]),fk[0]?fk[1].$==1?{$:0,$0:fk[1].$1}:fk[1].$==2?{$:1,$0:fk[1].$1}:fk[1].$==8?{$:1,$0:fk[1].$1.get_View()}:fk[1].$==9?{$:1,$0:p.Map(a.String,fk[1].$1.get_View())}:fk[1].$==10?{$:1,$0:p.Map(function(fm){return fm.get_Input();},fk[1].$1.get_View())}:fk[1].$==11?{$:1,$0:p.Map(a.String,fk[1].$1.get_View())}:fk[1].$==12?{$:1,$0:p.Map(function(fm){return fm.get_Input();},fk[1].$1.get_View())}:fk[1].$==13?{$:1,$0:p.Map(a.String,fk[1].$1.get_View())}:(eB.warn("Attribute value hole filled with non-text data",ff),{$:0,$0:""}):{$:0,$0:""});return fj.$==1?[fe,new cx({$:1,$0:fh===""?fj.$0:p.Map(function(fm){return fm+fh;},fj.$0),$1:fi})]:[fe+fj.$0+fh,fi];};}(fb))(fc);},e$,[e3,cx.Empty]);return eM(eV,e4[1].$==1?e4[1].$1.$==1?e4[1].$1.$1.$==1?e4[1].$1.$1.$1.$==0?(e5=e4[0],cW.Dynamic(e9,p.Map3(function(fb,fc,fd){return e5+fb+fc+fd;},e4[1].$0,e4[1].$1.$0,e4[1].$1.$1.$0))):(e6=e4[0],cW.Dynamic(e9,p.Map(function(fb){return e6+bj.concat("",fb);},p.Sequence(e4[1])))):(e7=e4[0],cW.Dynamic(e9,p.Map2(function(fb,fc){return e7+fb+fc;},e4[1].$0,e4[1].$1.$0))):e4[0]===""?cW.Dynamic(e9,e4[1].$0):(e8=e4[0],cW.Dynamic(e9,p.Map(function(fb){return e8+fb;},e4[1].$0))):cS.Create(e9,e4[0]));}());});return[ey.DeleteEmptyFields({Els:eI,Dirty:true,Holes:eO,Attrs:eQ,Render:(eJ=eR.length==0?null:{$:1,$0:function(eV){T.iter(function(eW){eW(eV);},eR);}},eJ?eJ.$0:void 0),El:(eK=!J.Equals(eI,null)&&eI.length===1&&(T.get(eI,0)instanceof G&&(T.get(eI,0)instanceof a.Element&&(eL=T.get(eI,0),true)))?{$:1,$0:eL}:null,eK?eK.$0:void 0)},["Render","El"]),cT.TreeReduce(p.Const(),p.Map2Unit,eP)];};c_.PrepareSingleTemplate=function(eG,eH,eI){var eJ,eK,eL;eJ=c_.FakeRootSingle(eI);eK=[eI];eL={$:1,$0:eJ};return function(eM){c_.PrepareTemplateStrict(eG,eH,eK,eL,eM);};};c_.TextHoleRE=function(){dW.$cctor();return dW.TextHoleRE;};c$.newPojoOpt=function(eG){function eH(eI,eJ){return eJ==null?null:{$:1,$0:[eI,eJ.$0]};}return c$.newPojo(bc.choose(function(eI){return eH(eI[0],eI[1]);},eG));};c$.newPojo=function(eG){var eH,eI;function eJ(eL,eM){return function(eN){return c$.addProp(eL,eM,eN);};}function eK(eL){}eH={};bc.iter((eI=function(eL){return(function(eM){return eJ(eM[0],eM[1]);}(eL))(eH);},function(eL){return eK(eI(eL));}),eG);return eH;};c$.addProp=function(eG,eH,eI){eI[eG]=eH;return eI;};cd.op_EqualsEqualsGreater=function(eG,eH){return[eG,eH==null?null:{$:1,$0:eH.$0}];};cd.op_MinusMinusGreater=function(eG,eH){return[eG,{$:1,$0:eH}];};db=f.TimeoutException=ey.Class({},da,db);db.New=ey.Ctor(function(){db.New$1.call(this,"The operation has timed out.");},db);db.New$1=ey.Ctor(function(eG){this.message=eG;cP.setPrototypeOf(this,db.prototype);},db);dc.AsAsync=function(eG){return cR.FromContinuations(function(eH,eI){eG.then(eH,function(eJ){return eI(dc.unwrapExn(eJ));});});};dc.unwrapExn=function(eG){return eG instanceof da?eG:new d7.New(eG);};de.JSUnion=function(eG,eH){var eI;function eJ(eN){var eO;function eP(eQ){return eQ!=null&&eQ.$==1&&J.Equals(eN,eQ.$0);}eO=bc.tryFindIndex(function(eQ){return eP(eQ[0]);},eH);return eO!=null&&eO.$==1?eO.$0:eN.$;}function eK(eN,eO){return T.init(T.length((T.get(eH,eN))[2]),function(eP){return eO["$"+a.String(eP)];});}function eL(eN,eO){var eP,eQ,eR;eP=eG==null?{}:new eG();eQ=T.get(eH,eN);return(eR=eQ[0],eR!=null&&eR.$==1)?eQ[0].$0:(eP.$=eN,bc.iteri(function(eS,eT){eP["$"+a.String(eS)]=eT;},eO),eP);}function eM(eN,eO){var eP;function eQ(eR,eS){return[eN,eR,eS,eP];}eP=eO[2];return bc.map(function(eR){return eQ(eR[0],eR[1]);},eO[1]);}eI=bc.collect(function(eN){return eM(eN[0],eN[1]);},bc.indexed(eH));return dI.New$1(function(eN){function eO(eP,eQ,eR,eS){var eT,eU,eV;function eW(eX,eY,eZ){var e0;function e1(e2,e3){return eW(e0,e2,new cx({$:1,$0:e3,$1:eZ}));}return eX.$==1?(e0=eX.$1,bc.collect(function(e2){return e1(e2[0],e2[1]);},eX.$0.Parse(eY))):[[eY,eL(eP,T.ofList(bz.rev(eZ)))]];}return de.isCorrectMethod(eQ,eN.Method)?(eT=dJ.startsWith(bz.ofArray(eR),eN.Segments),eT==null?[]:(eU=eT.$0,(eV=bz.ofArray(eS),eV.$==0?[[dg.New(eU,eN.QueryArgs,eN.FormData,eN.Method,eN.Body),eL(eP,[])]]:eW(eV,dg.New(eU,eN.QueryArgs,eN.FormData,eN.Method,eN.Body),cx.Empty)))):[];}return bc.collect(function(eP){return eO(eP[0],eP[1],eP[2],eP[3]);},eI);},function(eN){var eO,eP,eQ,eR,eS,eT;function eU(eV,eW){return eW.Write(eV);}eO=eJ(eN);eP=T.get(eH,eO);eQ=eP[2];eR=T.get(eP[1],0);eS=[dg.Segment(bz.ofArray(eR[1]),eR[0])];return!J.Equals(eQ,null)&&eQ.length===0?{$:1,$0:eS}:(eT=(((ey.Curried3(T.map2))(eU))(eK(eO,eN)))(eQ),T.forall(function(eV){return eV!=null;},eT)?{$:1,$0:bc.append(eS,bc.collect(function(eV){return eV.$0;},eT))}:null);});};de.isCorrectMethod=function(eG,eH){return eH!=null&&eH.$==1?eG!=null&&eG.$==1?J.Equals(eH.$0,eG.$0):true:!(eG!=null&&eG.$==1);};de.rString=function(){d8.$cctor();return d8.rString;};de.rWildcard=function(){d8.$cctor();return d8.rWildcard;};df.Parse=function(eG,eH){function eI(eJ,eK){return eJ.Segments.$==0?{$:1,$0:eK}:null;}return bc.tryPick(function(eJ){return eI(eJ[0],eJ[1]);},eG.Parse(eH));};df.HashLink=function(eG,eH){return"#"+df.Link(eG,eH);};df.Link=function(eG,eH){var eI;eI=df.Write(eG,eH);return eI==null?"":eI.$0.ToLink();};df.Write=function(eG,eH){var eI;eI=eG.Write(eH);return eI==null?null:{$:1,$0:dg.Combine(eI.$0)};};dg=dd.Route=ey.Class({ToLink:function(){return es.WriteLink(this.Segments,this.QueryArgs);}},null,dg);dg.FromHash=function(eG,eH){var eI,eJ;eI=eG.indexOf("#");return eI===-1?dg.get_Empty():(eJ=eG.substring(eI+1),eH!=null&&eH.$0?eJ===""||eJ==="/"?dg.get_Empty():bj.StartsWith(eJ,"/")?dg.FromUrl(eJ.substring(1),{$:1,$0:true}):dg.Segment$2(eJ):dg.FromUrl(eG.substring(eI),{$:1,$0:false}));};dg.Segment=function(eG,eH){var eI;eI=dg.get_Empty();return dg.New(eG,eI.QueryArgs,eI.FormData,eH,eI.Body);};dg.get_Empty=function(){return dg.New(cx.Empty,new ct.New([]),new ct.New([]),null,r.CreateFromValue(null));};dg.FromUrl=function(eG,eH){var eI,eJ,eK;eI=(eJ=eG.indexOf("?"),eJ===-1?[eG,new ct.New([])]:[bj.Substring(eG,0,eJ),dg.ParseQuery(eG.substring(eJ+1))]);eK=dg.get_Empty();return dg.New(bz.ofArray(bj.SplitChars(eI[0],["/"],eH!=null&&eH.$0?0:1)),eI[1],eK.FormData,eK.Method,eK.Body);};dg.Segment$2=function(eG){var eH;eH=dg.get_Empty();return dg.New(bz.ofArray([eG]),eH.QueryArgs,eH.FormData,eH.Method,eH.Body);};dg.ParseQuery=function(eG){return d9.OfArray(T.ofSeq(T.choose(function(eH){var eI,eJ;eI=bj.SplitChars(eH,["="],0);return!J.Equals(eI,null)&&eI.length===2?(eJ=T.get(eI,1),{$:1,$0:[T.get(eI,0),eJ]}):((function(eK){return function(eL){return eK("wrong format for query argument: "+bD.toSafe(eL));};}(function(eK){eB.log(eK);}))(eH),null);},bj.SplitChars(eG,["&"],0))));};dg.Combine=function(eG){var eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ;eN=T.ofSeq(eG);eO=T.length(eN);if(eO===0)return dg.get_Empty();else if(eO===1)return T.get(eN,0);else{eH=null;eI=null;eP=[];eJ=new ct.New([]);eK=new ct.New([]);eL=0;eQ=T.length(eN);while(eL<eQ)(function(){var eR,eS,eT;eR=T.get(eN,eL);eS=eR.Method;eS!=null&&eS.$==1?eH=eS:void 0;eT=eR.Body.f();eT===null?void 0:eI=eT;eJ=d9.FoldBack(function(eU,eV,eW){return eW.Add(eU,eV);},eJ,eR.QueryArgs);eK=d9.FoldBack(function(eU,eV,eW){return eW.Add(eU,eV);},eK,eR.FormData);bz.iter(function(eU){eP.push(eU);},eR.Segments);eL=eL+1;}());return dg.New(bz.ofSeq(eP),eJ,eK,eH,r.CreateFromValue(eI));}};dg.New=function(eG,eH,eI,eJ,eK){return new dg({Segments:eG,QueryArgs:eH,FormData:eI,Method:eJ,Body:eK});};dh.$cctor=function(){dh.$cctor=a.ignore;dh.EndPoint="?";dh.AjaxProvider=new dK.New();};di.New=function(eG,eH,eI){return{valorA:eG,valorB:eH,valorC:eI};};dj.fromSeq=function(eG){var eH;eH=T.ofSeq(bc.delay(function(){return bc.collect(function(eI){return[dL.New(eI[0],eI[1])];},bc.distinctBy(function(eI){return eI[0];},eG));}));T.sortInPlace(eH);return cw.Build(eH,0,eH.length-1);};dk.New=function(eG,eH,eI,eJ,eK){return{Node:eG,Left:eH,Right:eI,Height:eJ,Count:eK};};dl=M.IdAddress=ey.Class({},null,dl);dm=M.IdSubscription=ey.Class({get_Id:function(){return this.$0;}},null,dm);dn.CreateEmbedNode=function(){return{Current:null,Dirty:false};};dn.UpdateEmbedNode=function(eG,eH){eG.Current=eH;eG.Dirty=true;};dn.CreateElemNode=function(eG,eH,eI){var eJ;dn.LinkElement(eG,eI);eJ=dq.Insert(eG,eH);return dB.New(eJ,eI,null,eG,b8.Int(),ey.GetOptional(eJ.OnAfterRender));};dn.LinkElement=function(eG,eH){dn.InsertDoc(eG,eH,null);};dn.CreateRunState=function(eG,eH){return eg.New(eh.get_Empty(),dn.CreateElemNode(eG,dq.EmptyAttr(),eH));};dn.PerformAnimatedUpdate=function(eG,eH,eI){var eJ;return d1.get_UseAnimations()?(eJ=null,cR.Delay(function(){var eK,eL,eM;eK=eh.FindAll(eI);eL=dn.ComputeChangeAnim(eH,eK);eM=dn.ComputeEnterAnim(eH,eK);return cR.Bind(d1.Play(d1.Append(eL,dn.ComputeExitAnim(eH,eK))),function(){return cR.Bind(dn.SyncElemNodesNextFrame(eG,eH),function(){return cR.Bind(d1.Play(eM),function(){eH.PreviousNodes=eK;return cR.Return(null);});});});})):dn.SyncElemNodesNextFrame(eG,eH);};dn.PerformSyncUpdate=function(eG,eH,eI){var eJ;eJ=eh.FindAll(eI);dn.SyncElemNode(eG,eH.Top);eH.PreviousNodes=eJ;};dn.CreateTextNode=function(){return{Text:dr.CreateText(""),Dirty:false,Value:""};};dn.UpdateTextNode=function(eG,eH){eG.Value=eH;eG.Dirty=true;};dn.InsertDoc=function(eG,eH,eI){var eJ;return eH!=null&&eH.$==1?dn.InsertNode(eG,eH.$0.El,eI):eH!=null&&eH.$==2?(eJ=eH.$0,(eJ.Dirty=false,dn.InsertDoc(eG,eJ.Current,eI))):eH==null?eI:eH!=null&&eH.$==4?dn.InsertNode(eG,eH.$0.Text,eI):eH!=null&&eH.$==5?dn.InsertNode(eG,eH.$0,eI):eH!=null&&eH.$==6?T.foldBack(function(eK,eL){return eK==null||eK.constructor===cP?dn.InsertDoc(eG,eK,eL):dn.InsertNode(eG,eK,eL);},eH.$0.Els,eI):dn.InsertDoc(eG,eH.$0,dn.InsertDoc(eG,eH.$1,eI));};dn.InsertBeforeDelim=function(eG,eH){var eI,eJ;eI=eG.parentNode;eJ=self.document.createTextNode("");eI.insertBefore(eJ,eG);dn.LinkPrevElement(eG,eH);return eJ;};dn.SyncElemNodesNextFrame=function(eG,eH){function eI(eJ){a.requestAnimationFrame(function(){dn.SyncElemNode(eG,eH.Top);eJ();});}return d2.BatchUpdatesEnabled()?cR.FromContinuations(function(eJ,eK,eL){return eI.apply(null,[eJ,eK,eL]);}):(dn.SyncElemNode(eG,eH.Top),cR.Return(null));};dn.ComputeExitAnim=function(eG,eH){return d1.Concat(T.map(function(eI){return dq.GetExitAnim(eI.Attr);},eh.ToArray(eh.Except(eH,eh.Filter(function(eI){return dq.HasExitAnim(eI.Attr);},eG.PreviousNodes)))));};dn.ComputeEnterAnim=function(eG,eH){return d1.Concat(T.map(function(eI){return dq.GetEnterAnim(eI.Attr);},eh.ToArray(eh.Except(eG.PreviousNodes,eh.Filter(function(eI){return dq.HasEnterAnim(eI.Attr);},eH)))));};dn.ComputeChangeAnim=function(eG,eH){var eI;function eJ(eK){return dq.HasChangeAnim(eK.Attr);}eI=function(eK){return eh.Filter(eJ,eK);};return d1.Concat(T.map(function(eK){return dq.GetChangeAnim(eK.Attr);},eh.ToArray(eh.Intersect(eI(eG.PreviousNodes),eI(eH)))));};dn.SyncElemNode=function(eG,eH){!eG?dn.SyncElement(eH):void 0;dn.Sync(eH.Children);dn.AfterRender(eH);};dn.InsertNode=function(eG,eH,eI){dr.InsertAt(eG,eI,eH);return eH;};dn.LinkPrevElement=function(eG,eH){dn.InsertDoc(eG.parentNode,eH,eG);};dn.SyncElement=function(eG){function eH(eI){function eJ(eK){var eL,eM;return eK!=null&&eK.$==0?eJ(eK.$0)||eJ(eK.$1):eK!=null&&eK.$==2?(eL=eK.$0,eL.Dirty||eJ(eL.Current)):eK!=null&&eK.$==6&&(eM=eK.$0,eM.Dirty||T.exists(eH,eM.Holes));}return eJ(eI.Children);}dq.Sync(eG.El,eG.Attr);eH(eG)?dn.DoSyncElement(eG):void 0;};dn.Sync=function(eG){var eH,eI;if(eG!=null&&eG.$==1)dn.SyncElemNode(false,eG.$0);else if(eG!=null&&eG.$==2)dn.Sync(eG.$0.Current);else if(eG==null);else if(eG!=null&&eG.$==5);else if(eG!=null&&eG.$==4){eH=eG.$0;eH.Dirty?(eH.Text.nodeValue=eH.Value,eH.Dirty=false):void 0;}else if(eG!=null&&eG.$==6){eI=eG.$0;T.iter(function(eJ){dn.SyncElemNode(false,eJ);},eI.Holes);T.iter(function(eJ){dq.Sync(eJ[0],eJ[1]);},eI.Attrs);dn.AfterRender(eI);}else{dn.Sync(eG.$0);dn.Sync(eG.$1);}};dn.AfterRender=function(eG){var eH;eH=ey.GetOptional(eG.Render);eH!=null&&eH.$==1?(eH.$0(eG.El),ey.SetOptional(eG,"Render",null)):void 0;};dn.DoSyncElement=function(eG){var eH,eI,eJ;function eK(eL,eM){var eN,eO;return eL!=null&&eL.$==1?eL.$0.El:eL!=null&&eL.$==2?(eN=eL.$0,eN.Dirty?(eN.Dirty=false,dn.InsertDoc(eH,eN.Current,eM)):eK(eN.Current,eM)):eL==null?eM:eL!=null&&eL.$==4?eL.$0.Text:eL!=null&&eL.$==5?eL.$0:eL!=null&&eL.$==6?(eO=eL.$0,(eO.Dirty?eO.Dirty=false:void 0,T.foldBack(function(eP,eQ){return eP==null||eP.constructor===cP?eK(eP,eQ):eP;},eO.Els,eM))):eK(eL.$0,eK(eL.$1,eM));}eH=eG.El;ev.Iter((eI=eG.El,function(eL){dr.RemoveNode(eI,eL);}),ev.Except(ev.DocChildren(eG),ev.Children(eG.El,ey.GetOptional(eG.Delimiters))));eK(eG.Children,(eJ=ey.GetOptional(eG.Delimiters),eJ!=null&&eJ.$==1?eJ.$0[1]:null));};_do.New=function(eG,eH){return{k:eG,ct:eH};};dp.New=function(eG,eH){return{c:eG,r:eH};};dq.Static=function(eG){return new cS({$:3,$0:eG});};dq.Dynamic=function(eG,eH){return new cS({$:1,$0:new dP.New(eG,eH)});};dq.Insert=function(eG,eH){var eI,eJ,eK;function eL(eM){if(!(eM===null))if(eM!=null&&eM.$==1)eI.push(eM.$0);else if(eM!=null&&eM.$==2){eL(eM.$0);eL(eM.$1);}else if(eM!=null&&eM.$==3)eM.$0(eG);else if(eM!=null&&eM.$==4)eJ.push(eM.$0);}eI=[];eJ=[];eL(eH);eK=eI.slice(0);return dZ.New(eG,dq.Flags(eH),eK,eJ.length===0?null:{$:1,$0:function(eM){bc.iter(function(eN){eN(eM);},eJ);}});};dq.EmptyAttr=function(){eb.$cctor();return eb.EmptyAttr;};dq.Flags=function(eG){return eG!==null&&eG.hasOwnProperty("flags")?eG.flags:0;};dq.AppendTree=function(eG,eH){var eI;return eG===null?eH:eH===null?eG:(eI=new cS({$:2,$0:eG,$1:eH}),(dq.SetFlags(eI,dq.Flags(eG)|dq.Flags(eH)),eI));};dq.Updates=function(eG){return cT.MapTreeReduce(function(eH){return eH.NChanged();},p.Const(),p.Map2Unit,eG.DynNodes);};dq.Empty=function(eG){return dZ.New(eG,0,[],null);};dq.SetFlags=function(eG,eH){eG.flags=eH;};dq.HasExitAnim=function(eG){var eH;eH=2;return(eG.DynFlags&eH)===eH;};dq.GetExitAnim=function(eG){return dq.GetAnim(eG,function(eH,eI){return eH.NGetExitAnim(eI);});};dq.HasEnterAnim=function(eG){var eH;eH=1;return(eG.DynFlags&eH)===eH;};dq.GetEnterAnim=function(eG){return dq.GetAnim(eG,function(eH,eI){return eH.NGetEnterAnim(eI);});};dq.HasChangeAnim=function(eG){var eH;eH=4;return(eG.DynFlags&eH)===eH;};dq.GetChangeAnim=function(eG){return dq.GetAnim(eG,function(eH,eI){return eH.NGetChangeAnim(eI);});};dq.GetAnim=function(eG,eH){return d1.Concat(T.map(function(eI){return eH(eI,eG.DynElem);},eG.DynNodes));};dq.Sync=function(eG,eH){T.iter(function(eI){eI.NSync(eG);},eH.DynNodes);};dr.SetAttr=function(eG,eH,eI){eG.setAttribute(eH,eI);};dr.RemoveAttr=function(eG,eH){eG.removeAttribute(eH);};dr.CreateText=function(eG){return dr.Doc().createTextNode(eG);};dr.SetStyle=function(eG,eH,eI){dr.SetProperty(eG.style,eH,eI);};dr.ChildrenArray=function(eG){var eH,eI,eJ;eH=[];for(eI=0,eJ=eG.childNodes.length-1;eI<=eJ;eI++)eH.push(eG.childNodes[eI]);return eH;};dr.CreateElement=function(eG){return dr.Doc().createElement(eG);};dr.Doc=function(){ea.$cctor();return ea.Doc;};dr.SetProperty=function(eG,eH,eI){return eG.setProperty(eH,eI);};dr.IterSelector=function(eG,eH,eI){var eJ,eK,eL;eJ=eG.querySelectorAll(eH);for(eK=0,eL=eJ.length-1;eK<=eL;eK++)eI(eJ[eK]);};dr.InsertAt=function(eG,eH,eI){var eJ;if(!(eI.parentNode===eG&&eH===(eJ=eI.nextSibling,J.Equals(eJ,null)?null:eJ)))eG.insertBefore(eI,eH);};dr.RemoveClass=function(eG,eH){var eI;dr.setClass(eG,(eI=dr.clsRE(eH),dr.getClass(eG).replace(eI,function(eJ,eK,eL){return eK===""||eL===""?"":" ";})));};dr.AddClass=function(eG,eH){var eI;eI=dr.getClass(eG);eI===""?dr.setClass(eG,eH):!dr.clsRE(eH).test(eI)?dr.setClass(eG,eI+" "+eH):void 0;};dr.setClass=function(eG,eH){if(eG instanceof a.SVGElement)eG.setAttribute("class",eH);else eG.className=eH;};dr.getClass=function(eG){return eG instanceof a.SVGElement?eG.getAttribute("class"):eG.className;};dr.clsRE=function(eG){return new a.RegExp("(\\s+|^)"+eG+"(?:\\s+"+eG+")*(\\s+|$)","g");};dr.RemoveNode=function(eG,eH){if(eH.parentNode===eG)eG.removeChild(eH);};ds.$cctor=function(){ds.$cctor=a.ignore;ds.noneCT=dp.New(false,[]);ds.scheduler=new dN.New();ds.defCTS=[new dO.New()];ds.Zero=cR.Return();ds.GetCT=function(eG){eG.k({$:0,$0:eG.ct});};};dt=cV.ArrayStorage=ey.Class({SSet:function(eG){return T.ofSeq(eG);},SSetAt:function(eG,eH,eI){T.set(eI,eG,eH);return eI;},SAppend:function(eG,eH){eH.push(eG);return eH;},SInit:function(){return this.init;},SRemoveIf:function(eG,eH){return T.filter(function(eI){return!eG(eI);},eH);}},g,dt);dt.New=ey.Ctor(function(eG){g.New.call(this);this.init=eG;},dt);du.freshId=function(){du.set_counter(du.counter()+1);return"varuid"+a.String(du.counter());};du.set_counter=function(eG){_5.$cctor();_5.counter=eG;};du.counter=function(){_5.$cctor();return _5.counter;};dv=M.ConceptoPago=ey.Class({toString:function(){return this.$==2?this.$0:(function(eG){return function(eH){return eG(bb.p$8(eH));};}(a.id))(this);}},null,dv);dw.FormaContrato=function(){_5.$cctor();return _5.FormaContrato;};dw.FormasPago=function(){_5.$cctor();return _5.FormasPago;};dw.Subir=function(){_5.$cctor();return _5.Subir;};dw.FormaW8BEN=function(){_5.$cctor();return _5.FormaW8BEN;};dw.FormaW9=function(){_5.$cctor();return _5.FormaW9;};dx.extractNodes=function(eG){var eH,eI;function eJ(eK,eL,eM,eN){var eO,eP,eQ,eR,eS,eT;eO=dx.extractNodes(eM);eP=dx.extractNodes(eN);return(eO.$==0?(eR=eO.$0,!J.Equals(eR,null)&&eR.length===0)?(eQ=eP,true):eP.$==0?(eS=eP.$0,!J.Equals(eS,null)&&eS.length===0)?(eQ=eO,true):(eQ=[eO,eP],false):(eQ=[eO,eP],false):eP.$==0?(eT=eP.$0,!J.Equals(eT,null)&&eT.length===0)?(eQ=eO,true):(eQ=[eO,eP],false):(eQ=[eO,eP],false))?eQ:{$:1,$0:{$:0,$0:eK,$1:eL,$2:eQ[0],$3:eQ[1]}};}eH=dx.horizontalSplit(eG);return eH!=null&&eH.$==1?eJ(false,eH.$0[2],eH.$0[0],eH.$0[1]):(eI=dx.verticalSplit(eG),eI!=null&&eI.$==1?eJ(true,eI.$0[2],eI.$0[0],eI.$0[1]):{$:0,$0:dx.cleanSpaces(eG)});};dx.createLayoutDefinitions=function(eG,eH){var eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR;return eH.$==1?(eI=eH.$0.$0,(eJ=eH.$0.$1,(eK=dx.createLayoutDefinitions(eG+"_1",eH.$0.$2),(eL=eK[0],(eM=eK[1],(eN=dx.createLayoutDefinitions(eG+"_2",eH.$0.$3),(eO=eN[0],(eP=eN[1],[eG,T.ofSeq(bc.delay(function(){return bc.append([bj.concat(" ",bz.ofArray([eG,eI?"vertical":"horizontal",a.String(eJ),eL,eO]))],bc.delay(function(){return bc.append(eM,bc.delay(function(){return eP;}));}));}))])))))))):(eQ=eH.$0,!J.Equals(eQ,null)&&eQ.length===0)?["___",[]]:(eR=eH.$0,!J.Equals(eR,null)&&eR.length===1)?[T.get(eH.$0,0),[]]:[eG,[eG+" div \"\" "+bj.concat(" ",eH.$0)]];};dx.horizontalSplit=function(eG){var eH,eI,eJ,eK,eL;function eM(eN,eO){var eP,eQ,eR,eS;eP=j.REGEX$1("^ *--+([ ^v0-9]*)-* *$","",eO);return eP!=null&&eP.$==1?{$:1,$0:[[eN,(eQ=(eR=bc.tryItem(1,eP.$0),eR==null?null:dx.extractMeasuresO(bj.Replace(bj.Replace(eR.$0,"^",""),"v","-"))),(eS=new dQ({$:1,$0:5,$1:50,$2:95}),eQ==null?eS:eQ.$0))],eO.indexOf("-")]}:null;}eH=(eI=bc.tryHead(bc.sortBy(function(eN){return eN[1];},bc.choose(function(eN){return eM(eN[0],eN[1]);},bc.indexed(eG)))),eI==null?null:{$:1,$0:eI.$0[0]});return eH==null?null:{$:1,$0:(eJ=eH.$0,(eK=eJ[0],(eL=eJ[1],[cc.array(eG,null,{$:1,$0:eK-1}),cc.array(eG,{$:1,$0:eK+1},null),eL])))};};dx.verticalSplit=function(eG){var eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ;function eR(eU,eV){var eW,eX,eY;return(eX=j.REGEX$1("^ *\\|+ *$","",eV),eX!=null&&eX.$==1&&(eY=eX.$0,!J.Equals(eY,null)&&eY.length===1))?{$:1,$0:[eU,eV.indexOf("|")]}:null;}function eS(eU){return J.Equals(null,eU);}function eT(eU){return J.Equals(null,eU);}eH=dx.transpose(eG);eI=(eJ=(eK=bc.tryHead(bc.sortBy(function(eU){return eU[1];},bc.choose(function(eU){return eR(eU[0],eU[1]);},bc.indexed(eH)))),eK==null?null:{$:1,$0:eK.$0[0]}),eJ==null?null:{$:1,$0:(eL=eJ.$0,[dx.transpose(cc.array(eH,null,{$:1,$0:eL-1})),dx.transpose(cc.array(eH,{$:1,$0:eL+1},null))])});return eI==null?null:{$:1,$0:(eM=eI.$0,(eN=eM[0],(eO=eM[1],[T.filter(function(eU){return eS(dx.extractMeasuresO(eU));},eN),T.filter(function(eU){return eT(dx.extractMeasuresO(eU));},eO),(eP=bc.tryHead(bc.delay(function(){return bc.append(bc.choose(dx.extractMeasuresO,eN),bc.delay(function(){return bc.map(function(eU){return eU.$==0?eU.$1?new dQ({$:0,$0:eU.$0,$1:false}):eU:eU;},bc.choose(dx.extractMeasuresO,eO));}));})),(eQ=new dQ({$:1,$0:5,$1:50,$2:95}),eP==null?eQ:eP.$0))])))};};dx.cleanSpaces=function(eG){return T.filter(function(eH){var eI;return!(eI=(cz.Int())(eH),eI!=null&&eI.$==1);},bj.SplitStrings(bj.concat(" ",eG),[" "],1));};dx.extractMeasuresO=function(eG){var eH,eI,eJ,eK,eL,eM,eN;eH=bj.SplitChars(eG,[" "],1);return!J.Equals(eH,null)&&eH.length===1&&(eJ=(cz.Int())(T.get(eH,0)),eJ!=null&&eJ.$==1&&(eI=eJ.$0,true))?{$:1,$0:new dQ({$:0,$0:ez.abs(eI),$1:eI>=0})}:!J.Equals(eH,null)&&eH.length===3&&(eL=(cz.Int())(T.get(eH,0)),eL!=null&&eL.$==1&&(eM=(cz.Int())(T.get(eH,1)),eM!=null&&eM.$==1&&(eN=(cz.Int())(T.get(eH,2)),eN!=null&&eN.$==1&&(eK=[eN.$0,eL.$0,eM.$0],true))))?{$:1,$0:new dQ({$:1,$0:eK[1],$1:eK[2],$2:eK[0]})}:null;};dx.transpose=function(eG){var eH;eH=bc.max(bc.map(function(eI){return eI.length;},eG));return T.ofSeq(bc.delay(function(){return bc.map(function(eI){return T.ofSeq(bc.delay(function(){return bc.map(function(eJ){return eJ.length>eI?eJ[eI]:" ";},eG);})).join("");},o.range(0,eH-1));}));};dy.TryParse=function(eG){var eH;eH=eC.parse(eG);return a.isNaN(eH)?null:{$:1,$0:eH};};b0.TryParse=function(eG,eH,eI,eJ){var eK,eL;eK=+eG;eL=eK===eK-eK%1&&eK>=eH&&eK<=eI;eL?eJ.set(eK):void 0;return eL;};b0.TryParseBool=function(eG,eH){var eI;eI=eG.toLowerCase();return eI==="true"?(eH.set(true),true):eI==="false"&&(eH.set(false),true);};bd.delayed=function(eG,eH){var eI;eI=[null];return function(eJ){var eK,eL;eK=eI[0];eK==null?void 0:eK.$0.Cancel$1();eI[0]={$:1,$0:new dO.New()};cR.Start((eL=null,cR.Delay(function(){return cR.Bind(cR.Sleep(eG),function(){eH(eJ);return cR.Zero();});})),{$:1,$0:eI[0].$0});};};bd.print=function(eG){if(typeof eG=="string")((function(eH){return function(eI){return eH(bD.toSafe(eI));};}(function(eH){eB.log(eH);}))(eG));else((function(eH){return function(eI){return eH(bD.prettyPrint(eI));};}(function(eH){eB.log(eH);}))(eG));};bd["String.Left"]=function(eG,eH){return eH<0?bd["String.Substring2"](eG,0,eG.length+eH):bd["String.Substring2"](eG,0,eH);};bd["String.Substring2"]=function(eG,eH,eI){var eJ,eK;while(true){if(eI<=0)return"";else if(eH<0){eJ=eH;eH=0;eI=eI+eJ;}else return eH>=eG.length?"":bj.Substring(eG,eH,(eK=eG.length-eH,J.Compare(eI,eK)===-1?eI:eK));}};dz=c3.WcSplitterT=ey.Class({connectedCallback:function(){var eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV;function eW(e4){var e5,e6,e7,e8;e5=eN?["padding-left","padding-right","grid-column-gap"]:["padding-top","padding-bottom","grid-row-gap"];e6=a.parseFloat("0"+eA(e4.parentElement.parentElement).css(e5[0]));e7=a.parseFloat("0"+eA(e4.parentElement.parentElement).css(e5[1]));eQ.Set(a.parseFloat("0"+eA(e4.parentElement.parentElement).css(e5[2])));eP[0]=e6+e7;e8=eG.getBoundingClientRect();return eN?eM?[e8.width,e8.height]:[-e8.width,e8.height]:eM?[e8.height,e8.width]:[-e8.height,e8.width];}function eX(e4){return eN?e4.clientX:e4.clientY;}function eY(e4){var e5,e6;e5=(eX(e4)-eT[0])*100/eO[0][0]+eS[0];eL.Set((e6=J.Compare(eJ,e5)===1?eJ:e5,J.Compare(eK,e6)===-1?eK:e6));}function eZ(){if(eR[0]){eR[0]=false;self.removeEventListener("mousemove",eY,false);self.removeEventListener("mouseup",eZ,false);}}function e0(e4){var e5,e6;if(!eR[0]){eR[0]=true;eS[0]=eL.Get();eT[0]=eX(e4);eO[0]=(e5=(e6=eU[0],e6==null?null:{$:1,$0:eW(e6.$0)}),e5==null?[100,500]:e5.$0);self.addEventListener("mousemove",eY,false);self.addEventListener("mouseup",eZ,false);e4.preventDefault();}}function e1(e4,e5,e6,e7){return[(e4-e5-e6)*e7/100,(e4-e5-e6)*(100-e7)/100];}function e2(e4,e5){return(((((ey.Curried(function(e6,e7,e8,e9,e_){return e6(" "+e7.toFixed(2)+"px "+e8.toFixed(2)+"px ; "+bD.toSafe(e9)+" : "+e_.toFixed(2)+"px; ");},5))(a.id))(e4))(e5))(eN?"height":"width"))(eO[0][1]);}function e3(){var e4;e4=eU[0];e4==null?void 0:eO[0]=eW(e4.$0);eL.Set(eL.Get());}if(!this.added){eG=this;eH=eG.attachShadow({mode:"open"});eI=self.document.createElement("div");eJ=eG.hasAttribute("min")?a.parseFloat(eG.getAttribute("min")):4;eK=eG.hasAttribute("max")?a.parseFloat(eG.getAttribute("max")):96;eL=i.Create$1(eG.hasAttribute("value")?a.parseFloat(eG.getAttribute("value")):50);eM=!eG.hasAttribute("second");eN=eG.hasAttribute("vertical");eO=[[0,0]];eP=[0];eQ=i.Create$1(0);eR=[false];eS=[0];eT=[0];eU=[null];eV=(((((eN?c3.layoutVertical():c3.layoutHorizontal())(p.Map(function(e4){var e5;e5=e1(eO[0][0],eQ.Get(),eP[0],e4);return e2.apply(null,e5);},eL.get_View())))(function(){dV.addResizeObserver(e3,eG);e3();}))(function(e4){eU[0]={$:1,$0:e4};e3();}))(function(e4){e0(e4);}))(p.Map(function(e4){return function(e5){return e4(bD.prettyPrint(e5)+"px");};}(a.id),eQ.get_View()));c_.LoadLocalTemplates("");Z.Run(eI,eV);eH.appendChild(eI.firstChild);this.added=true;}}},g,dz);dz.Constructor=function(){var eG,eH;eG=(eH=eE.construct(self.HTMLElement,[],this.__proto__.constructor),eH);self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New.call(eG);return eG;};dz.New=ey.Ctor(function(){g.New.call(this);this.added=false;(function(eG){return eG("WcSplitterT initializer");}(function(eG){eB.log(eG);}));},dz);dA=f.MatchFailureException=ey.Class({},da,dA);dA.New=ey.Ctor(function(eG,eH,eI){this.message=eG+" at "+a.String(eH)+":"+a.String(eI);cP.setPrototypeOf(this,dA.prototype);},dA);dB=h.DocElemNode=ey.Class({Equals:function(eG){return this.ElKey===eG.ElKey;},GetHashCode:function(){return this.ElKey;}},null,dB);dB.New=function(eG,eH,eI,eJ,eK,eL){var eM;return new dB((eM={Attr:eG,Children:eH,El:eJ,ElKey:eK},(ey.SetOptional(eM,"Delimiters",eI),ey.SetOptional(eM,"Render",eL),eM)));};dD.$cctor=function(){dD.$cctor=a.ignore;dD.counter=0;};dE=ch.FSharpEvent=ey.Class({},g,dE);dE.New=ey.Ctor(function(){g.New.call(this);this.event=d6.New([]);},dE);dF=bg.LinkedList=ey.Class({AddLast:function(eG){var eH;return this.c===0?(eH={p:null,n:null,v:eG},(this.n=eH,this.p=this.n,this.c=1,eH)):this.AddAfter(this.p,eG);},GetEnumerator$1:function(){return new er.New(this);},AddAfter:function(eG,eH){var eI,eJ;eI=eG.n;eJ={p:eG,n:eI,v:eH};J.Equals(eG.n,null)?this.p=eJ:void 0;eG.n=eJ;!J.Equals(eI,null)?eI.p=eJ:void 0;this.c=this.c+1;return eJ;},RemoveFirst:function(){this.Remove$1(this.n);},Remove$1:function(eG){var eH,eI;eH=eG.p;eI=eG.n;J.Equals(eH,null)?this.n=eI:eH.n=eI;J.Equals(eI,null)?this.p=eH:eI.p=eH;this.c=this.c-1;},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},g,dF);dF.New=ey.Ctor(function(){dF.New$1.call(this,[]);},dF);dF.New$1=ey.Ctor(function(eG){var eH,eI;g.New.call(this);this.c=0;this.n=null;this.p=null;eH=cu.Get(eG);eH.MoveNext()?(this.n={p:null,n:null,v:eH.Current()},this.p=this.n,this.c=1):void 0;while(eH.MoveNext()){eI={p:this.p,n:null,v:eH.Current()};this.p.n=eI;this.p=eI;this.c=this.c+1;}},dF);dG.New$1=function(eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ){return c$.newPojoOpt([cd.op_EqualsEqualsGreater("account",eG),cd.op_EqualsEqualsGreater("authority",eH),cd.op_EqualsEqualsGreater("claimsRequest",eI),cd.op_EqualsEqualsGreater("correlationId",eJ),cd.op_EqualsEqualsGreater("extraQueryParameters",eK),cd.op_EqualsEqualsGreater("extraScopesToConsent",eL),cd.op_EqualsEqualsGreater("loginHint",eM),cd.op_EqualsEqualsGreater("prompt",eN),cd.op_EqualsEqualsGreater("scopes",eO),cd.op_EqualsEqualsGreater("sid",eP),cd.op_EqualsEqualsGreater("state",eQ)]);};dH=cd.Account=ey.Class({},g,dH);dI.New$1=function(eG,eH){return{Parse:eG,Write:eH};};dJ.startsWith=function(eG,eH){var eI;switch(eG.$==1?eH.$==1?J.Equals(eG.$0,eH.$0)?(eI=[eH.$0,eH.$1,eG.$0,eG.$1],1):2:2:0){case 0:return{$:1,$0:eH};case 1:return dJ.startsWith(eI[3],eI[1]);case 2:return null;}};dK=cm.XhrProvider=ey.Class({Async:function(eG,eH,eI,eJ,eK){cm.ajax(true,eG,eH,eI,eJ,eK,function(){cm.ajax(true,eG,eH,eI,eJ,eK,void 0);});}},g,dK);dK.New=ey.Ctor(function(){g.New.call(this);},dK);dL=bg.Pair=ey.Class({Equals:function(eG){return J.Equals(this.Key,eG.Key);},GetHashCode:function(){return J.Hash(this.Key);},CompareTo0:function(eG){return J.Compare(this.Key,eG.Key);}},null,dL);dL.New=function(eG,eH){return new dL({Key:eG,Value:eH});};dM.Map=function(eG,eH){return eH.$==1?{$:1,$0:eH.$0}:{$:0,$0:eG(eH.$0)};};dM.Bind=function(eG,eH){return eH.$==1?{$:1,$0:eH.$0}:eG(eH.$0);};dN=cR.Scheduler=ey.Class({Fork:function(eG){var eH;eH=this;this.robin.push(eG);this.idle?(this.idle=false,a.setTimeout(function(){eH.tick();},0)):void 0;},tick:function(){var eG,eH,eI;eH=this;eI=eC.now();eG=true;while(eG)if(this.robin.length===0){this.idle=true;eG=false;}else{(this.robin.shift())();eC.now()-eI>40?(a.setTimeout(function(){eH.tick();},0),eG=false):void 0;}}},g,dN);dN.New=ey.Ctor(function(){g.New.call(this);this.idle=true;this.robin=[];},dN);dO=f.CancellationTokenSource=ey.Class({Cancel$1:function(){var eG;if(!this.c){this.c=true;eG=T.choose(function(eH){try{eH();return null;}catch(eI){return{$:1,$0:eI};}},this.r);if(T.length(eG)>0)throw new ec.New$3(eG);else void 0;}}},g,dO);dO.New=ey.Ctor(function(){g.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},dO);dP=h.DynamicAttrNode=ey.Class({NChanged:function(){return this.updates;},NGetExitAnim:function(eG){return d1.get_Empty();},NGetEnterAnim:function(eG){return d1.get_Empty();},NGetChangeAnim:function(eG){return d1.get_Empty();},NSync:function(eG){if(this.dirty){(this.push(eG))(this.value);this.dirty=false;}}},g,dP);dP.New=ey.Ctor(function(eG,eH){var eI;eI=this;g.New.call(this);this.push=eH;this.value=void 0;this.dirty=false;this.updates=p.Map(function(eJ){eI.value=eJ;eI.dirty=true;},eG);},dP);dQ=K.Measures=ey.Class({toString:function(){return this.$==1?((((ey.Curried(function(eG,eH,eI,eJ){return eG(a.String(eH)+"-"+a.String(eI)+"-"+a.String(eJ));},4))(a.id))(o.toInt(this.$0)))(o.toInt(this.$1)))(o.toInt(this.$2)):a.String(o.toInt(this.$1?this.$0:-this.$0));}},null,dQ);dS=dR.Hoverable=ey.Class({Content:function(eG){return eG.on("mouseenter",function(){return dr.AddClass(eG.elt,"hovering");}).on("mouseleave",function(){return dr.RemoveClass(eG.elt,"hovering");});}},null,dS);dS.New$1=function(){return dS.New(i.Create$1(false));};dS.New=function(eG){return new dS({hover:eG});};dV.addResizeObserver=function(eG,eH){var eI,eJ,eK,eL;try{eI=!(!a.ResizeObserver);}catch(eM){eI=false;}if(eI){eJ=new a.ResizeObserver(eG);dV.set_observers(new cx({$:1,$0:eJ,$1:dV.observers()}));eJ.observe(eH);}else{eK=dV.dimsChanged(eH);cR.Start((eL=null,cR.Delay(function(){return cR.While(function(){return eH.isConnected;},cR.Delay(function(){return cR.Bind(cR.Sleep(110),function(){return eK()?(eG(),cR.Zero()):cR.Zero();});}));})),null);}};dV.set_observers=function(eG){bV.$cctor();bV.observers=eG;};dV.observers=function(){bV.$cctor();return bV.observers;};dV.dimsChanged=function(eG){var eH;eH=[eG.getBoundingClientRect()];return function(){var eI;eI=eG.getBoundingClientRect();return J.Equals(dV.domRect2Tuple(eH[0]),dV.domRect2Tuple(eI))?false:(eH[0]=eI,true);};};dV.domRect2Tuple=function(eG){return[eG.top,eG.left,eG.width,eG.height];};dW.$cctor=function(){dW.$cctor=a.ignore;dW.LoadedTemplates=new b3.New$5();dW.LocalTemplatesLoaded=false;dW.TextHoleRE="\\${([^}]+)}";};dX=h.Elt=ey.Class({on:function(eG,eH){var eI;eI=this;this.elt.addEventListener(eG,function(eJ){return eH(eI.elt,eJ);},false);return this;}},Z,dX);dX.TreeNode=function(eG,eH){var eI,eJ;function eK(eL){return eL[1];}eI=ee.Create(eH);return new dX.New$1({$:6,$0:eG},p.Map2Unit((eJ=T.map(function(eL){return dq.Updates(eK(eL));},eG.Attrs),cT.TreeReduce(p.Const(),p.Map2Unit,eJ)),eI.v),T.get(eG.Els,0),eI);};dX.New=function(eG,eH,eI){var eJ,eK;eJ=dn.CreateElemNode(eG,eH,eI.docNode);eK=ee.Create(eI.updates);return new dX.New$1({$:1,$0:eJ},p.Map2Unit(dq.Updates(eJ.Attr),eK.v),eG,eK);};dX.New$1=ey.Ctor(function(eG,eH,eI,eJ){Z.New.call(this,eG,eH);this.docNode$1=eG;this.updates$1=eH;this.elt=eI;this.rvUpdates=eJ;},dX);dZ.New=function(eG,eH,eI,eJ){var eK;eK={DynElem:eG,DynFlags:eH,DynNodes:eI};ey.SetOptional(eK,"OnAfterRender",eJ);return eK;};d0.convertTextNode=function(eG){var eH,eI,eJ,eK,eL,eM;eH=null;eI=0;eK=eG.textContent;eL=new a.RegExp(c_.TextHoleRE(),"g");while(eH=eL.exec(eK),eH!==null){eG.parentNode.insertBefore(self.document.createTextNode(cc.string(eK,{$:1,$0:eI},{$:1,$0:eL.lastIndex-T.get(eH,0).length-1})),eG);eI=eL.lastIndex;eM=self.document.createElement("span");eM.setAttribute("ws-replace",T.get(eH,1).toLowerCase());eG.parentNode.insertBefore(eM,eG);}eL.lastIndex=0;eG.textContent=cc.string(eK,{$:1,$0:eI},null);};d0.failNotLoaded=function(eG){eB.warn("Instantiating non-loaded template",eG);};d0.fillTextHole=function(eG,eH,eI){var eJ;eJ=eG.querySelector("[ws-replace]");return J.Equals(eJ,null)?(eB.warn("Filling non-existent text hole",eI),null):(eJ.parentNode.replaceChild(new a.Text(eH),eJ),{$:1,$0:eJ.getAttribute("ws-replace")});};d0.removeHolesExcept=function(eG,eH){function eI(eJ){dr.IterSelector(eG,"["+eJ+"]",function(eK){if(!eH.Contains(eK.getAttribute(eJ)))eK.removeAttribute(eJ);});}eI("ws-attr");eI("ws-onafterrender");eI("ws-var");dr.IterSelector(eG,"[ws-hole]",function(eJ){if(!eH.Contains(eJ.getAttribute("ws-hole"))){eJ.removeAttribute("ws-hole");while(eJ.hasChildNodes())eJ.removeChild(eJ.lastChild);}});dr.IterSelector(eG,"[ws-replace]",function(eJ){if(!eH.Contains(eJ.getAttribute("ws-replace")))eJ.parentNode.removeChild(eJ);});dr.IterSelector(eG,"[ws-on]",function(eJ){eJ.setAttribute("ws-on",bj.concat(" ",T.filter(function(eK){return eH.Contains(T.get(bj.SplitChars(eK,[":"],1),1));},bj.SplitChars(eJ.getAttribute("ws-on"),[" "],1))));});dr.IterSelector(eG,"[ws-attr-holes]",function(eJ){var eK,eL,eM,eN,eO;eK=bj.SplitChars(eJ.getAttribute("ws-attr-holes"),[" "],1);for(eL=0,eM=eK.length-1;eL<=eM;eL++){eN=T.get(eK,eL);eJ.setAttribute(eN,(eO=new a.RegExp(c_.TextHoleRE(),"g"),eJ.getAttribute(eN).replace(eO,function(eP,eQ){return eH.Contains(eQ)?eP:"";})));}});};d0.fillInstanceAttrs=function(eG,eH){var eI,eJ,eK,eL,eM;d0.convertAttrs(eH);eI=eH.nodeName.toLowerCase();eJ=eG.querySelector("[ws-attr="+eI+"]");if(J.Equals(eJ,null))eB.warn("Filling non-existent attr hole",eI);else{eJ.removeAttribute("ws-attr");for(eK=0,eL=eH.attributes.length-1;eK<=eL;eK++){eM=eH.attributes.item(eK);eM.name==="class"&&eJ.hasAttribute("class")?eJ.setAttribute("class",eJ.getAttribute("class")+" "+eM.nodeValue):eJ.setAttribute(eM.name,eM.nodeValue);}}};d0.mapHoles=function(eG,eH){function eI(eJ){dr.IterSelector(eG,"["+eJ+"]",function(eK){var eL,eM;eL=(eM=null,[eH.TryGetValue(eK.getAttribute(eJ).toLowerCase(),{get:function(){return eM;},set:function(eN){eM=eN;}}),eM]);eL[0]?eK.setAttribute(eJ,eL[1]):void 0;});}eI("ws-hole");eI("ws-replace");eI("ws-attr");eI("ws-onafterrender");eI("ws-var");dr.IterSelector(eG,"[ws-on]",function(eJ){eJ.setAttribute("ws-on",bj.concat(" ",T.map(function(eK){var eL,eM,eN;eL=bj.SplitChars(eK,[":"],1);eM=(eN=null,[eH.TryGetValue(T.get(eL,1),{get:function(){return eN;},set:function(eO){eN=eO;}}),eN]);return eM[0]?T.get(eL,0)+":"+eM[1]:eK;},bj.SplitChars(eJ.getAttribute("ws-on"),[" "],1))));});dr.IterSelector(eG,"[ws-attr-holes]",function(eJ){var eK,eL,eM;eK=bj.SplitChars(eJ.getAttribute("ws-attr-holes"),[" "],1);for(eL=0,eM=eK.length-1;eL<=eM;eL++)(function(){var eN;function eO(eP,eQ){var eR;eR=o.KeyValue(eQ);return eP.replace(new a.RegExp("\\${"+eR[0]+"}","ig"),"${"+eR[1]+"}");}eN=T.get(eK,eL);return eJ.setAttribute(eN,(((ey.Curried3(bc.fold))(eO))(eJ.getAttribute(eN)))(eH));}());});};d0.fill=function(eG,eH,eI){while(true)if(eG.hasChildNodes())eI=eH.insertBefore(eG.lastChild,eI);else return null;};d0.convertAttrs=function(eG){var eI,eJ,eK,eL,eM,eN,eO,eP;function eH(eQ){var eR;eR=eG.getAttribute(eQ);eR===null?void 0:eG.setAttribute(eQ,eR.toLowerCase());}eI=eG.attributes;eJ=[];eK=[];eL=[];for(eM=0,eN=eI.length-1;eM<=eN;eM++){eO=eI.item(eM);bj.StartsWith(eO.nodeName,"ws-on")&&eO.nodeName!=="ws-onafterrender"&&eO.nodeName!=="ws-on"?(eJ.push(eO.nodeName),eK.push(cc.string(eO.nodeName,{$:1,$0:"ws-on".length},null)+":"+eO.nodeValue.toLowerCase())):!bj.StartsWith(eO.nodeName,"ws-")&&(new a.RegExp(c_.TextHoleRE())).test(eO.nodeValue)?(eO.nodeValue=(eP=new a.RegExp(c_.TextHoleRE(),"g"),eO.nodeValue.replace(eP,function(eQ,eR){return"${"+eR.toLowerCase()+"}";})),eL.push(eO.nodeName)):void 0;}!(eK.length==0)?eG.setAttribute("ws-on",bj.concat(" ",eK)):void 0;!(eL.length==0)?eG.setAttribute("ws-attr-holes",bj.concat(" ",eL)):void 0;eH("ws-hole");eH("ws-replace");eH("ws-attr");eH("ws-onafterrender");eH("ws-var");T.iter(function(eQ){eG.removeAttribute(eQ);},eJ);};d1.get_UseAnimations=function(){return ei.UseAnimations();};d1.Play=function(eG){var eH;eH=null;return cR.Delay(function(){return cR.Bind(d1.Run(a.ignore,ei.Actions(eG)),function(){ei.Finalize(eG);return cR.Return(null);});});};d1.Append=function(eG,eH){return{$:0,$0:eq.Append(eG.$0,eH.$0)};};d1.Run=function(eG,eH){var eI;function eJ(eK){function eL(eM,eN){var eO;eO=eN-eM;eH.Compute(eO);eG();return eO<=eI?void a.requestAnimationFrame(function(eP){eL(eM,eP);}):eK();}a.requestAnimationFrame(function(eM){eL(eM,eM);});}eI=eH.Duration;return eI===0?cR.Zero():cR.FromContinuations(function(eK,eL,eM){return eJ.apply(null,[eK,eL,eM]);});};d1.Concat=function(eG){return{$:0,$0:eq.Concat(bc.map(ei.List,eG))};};d1.get_Empty=function(){return{$:0,$0:eq.Empty()};};d2.BatchUpdatesEnabled=function(){ej.$cctor();return ej.BatchUpdatesEnabled;};d3.StartProcessor=function(eG){var eH;function eI(){var eJ;eJ=null;return cR.Delay(function(){return cR.Bind(eG,function(){var eK;eK=eH[0];return eK===1?(eH[0]=0,cR.Zero()):eK===2?(eH[0]=1,eI()):cR.Zero();});});}eH=[0];return function(){var eJ;eJ=eH[0];eJ===0?(eH[0]=1,cR.Start(eI(),null)):eJ===1?eH[0]=2:void 0;};};d4.concat=function(eG){var eH,eI;eH=[];for(var eJ in eG)eH.push.apply(eH,eG[eJ]);return eH;};d6=d5.Event=ey.Class({Trigger:function(eG){var eH,eI,eJ;eH=this.Handlers.slice();for(eI=0,eJ=eH.length-1;eI<=eJ;eI++)(T.get(eH,eI))(null,eG);},Dispose:a.ignore},null,d6);d6.New=function(eG){return new d6({Handlers:eG});};d7=H.NonStandardPromiseRejectionException=ey.Class({},da,d7);d7.New=ey.Ctor(function(eG){this.message="Promise rejected";cP.setPrototypeOf(this,d7.prototype);this.reason=eG;},d7);d8.$cctor=function(){d8.$cctor=a.ignore;function eG(eH){var eI,eJ;eI=(eJ=0,[b0.TryParseInt32(eH,{get:function(){return eJ;},set:function(eK){eJ=eK;}}),eJ]);return eI[0]?{$:1,$0:eI[1]}:null;}d8.Empty=dI.New$1(function(){return[];},function(){return null;});d8.rRoot=dI.New(function(eH){return[eH];},[]);d8.rString=dI.New$1(function(eH){var eI,eJ;eI=eH.Segments;return eI.$==1?(eJ=em.read(eI.$0),eJ!=null&&eJ.$==1?[[dg.New(eI.$1,eH.QueryArgs,eH.FormData,eH.Method,eH.Body),eJ.$0]]:[]):[];},function(eH){return{$:1,$0:[dg.Segment$2(eH==null?"null":em.write(eH))]};});d8.rChar=dI.New$1(function(eH){var eI,eJ,eK;eI=eH.Segments;return eI.$==1?(eJ=em.read(eI.$0),eJ!=null&&eJ.$==1&&(eJ.$0.length===1&&(eK=eJ.$0,true))?[[dg.New(eI.$1,eH.QueryArgs,eH.FormData,eH.Method,eH.Body),ek.Parse(eK)]]:[]):[];},function(eH){return{$:1,$0:[dg.Segment$2(eH)]};});d8.rGuid=dI.New$1(function(eH){var eI,eJ;eI=eH.Segments;return eI.$==1?(eJ=null,bt.TryParse(eI.$0,{get:function(){return eJ;},set:function(eK){eJ=eK;}})?[[dg.New(eI.$1,eH.QueryArgs,eH.FormData,eH.Method,eH.Body),eJ]]:[]):[];},function(eH){return{$:1,$0:[dg.Segment$2(a.String(eH))]};});d8.rInt=dI.New$1(function(eH){var eI,eJ;eI=eH.Segments;return eI.$==1?(eJ=0,b0.TryParseInt32(eI.$0,{get:function(){return eJ;},set:function(eK){eJ=eK;}})?[[dg.New(eI.$1,eH.QueryArgs,eH.FormData,eH.Method,eH.Body),eJ]]:[]):[];},function(eH){return{$:1,$0:[dg.Segment$2(a.String(eH))]};});d8.rDouble=dI.New$1(function(eH){var eI,eJ,eK;eI=eH.Segments;return eI.$==1?(eJ=0,(eK=a.Number(eI.$0),a.isNaN(eK)?false:(eJ=eK,true))?[[dg.New(eI.$1,eH.QueryArgs,eH.FormData,eH.Method,eH.Body),eJ]]:[]):[];},function(eH){return{$:1,$0:[dg.Segment$2(a.String(eH))]};});d8.rSByte=dI.New$1(function(eH){var eI,eJ;eI=eH.Segments;return eI.$==1?(eJ=0,b0.TryParseSByte(eI.$0,{get:function(){return eJ;},set:function(eK){eJ=eK;}})?[[dg.New(eI.$1,eH.QueryArgs,eH.FormData,eH.Method,eH.Body),eJ]]:[]):[];},function(eH){return{$:1,$0:[dg.Segment$2(a.String(eH))]};});d8.rByte=dI.New$1(function(eH){var eI,eJ;eI=eH.Segments;return eI.$==1?(eJ=0,b0.TryParseByte(eI.$0,{get:function(){return eJ;},set:function(eK){eJ=eK;}})?[[dg.New(eI.$1,eH.QueryArgs,eH.FormData,eH.Method,eH.Body),eJ]]:[]):[];},function(eH){return{$:1,$0:[dg.Segment$2(a.String(eH))]};});d8.rInt16=dI.New$1(function(eH){var eI,eJ;eI=eH.Segments;return eI.$==1?(eJ=0,b0.TryParseInt16(eI.$0,{get:function(){return eJ;},set:function(eK){eJ=eK;}})?[[dg.New(eI.$1,eH.QueryArgs,eH.FormData,eH.Method,eH.Body),eJ]]:[]):[];},function(eH){return{$:1,$0:[dg.Segment$2(a.String(eH))]};});d8.rUInt16=dI.New$1(function(eH){var eI,eJ;eI=eH.Segments;return eI.$==1?(eJ=0,b0.TryParseUInt16(eI.$0,{get:function(){return eJ;},set:function(eK){eJ=eK;}})?[[dg.New(eI.$1,eH.QueryArgs,eH.FormData,eH.Method,eH.Body),eJ]]:[]):[];},function(eH){return{$:1,$0:[dg.Segment$2(a.String(eH))]};});d8.rUInt=dI.New$1(function(eH){var eI,eJ;eI=eH.Segments;return eI.$==1?(eJ=0,b0.TryParseUInt32(eI.$0,{get:function(){return eJ;},set:function(eK){eJ=eK;}})?[[dg.New(eI.$1,eH.QueryArgs,eH.FormData,eH.Method,eH.Body),eJ]]:[]):[];},function(eH){return{$:1,$0:[dg.Segment$2(a.String(eH))]};});d8.rInt64=dI.New$1(function(eH){var eI,eJ;eI=eH.Segments;return eI.$==1?(eJ=0,b0.TryParseInt64(eI.$0,{get:function(){return eJ;},set:function(eK){eJ=eK;}})?[[dg.New(eI.$1,eH.QueryArgs,eH.FormData,eH.Method,eH.Body),eJ]]:[]):[];},function(eH){return{$:1,$0:[dg.Segment$2(a.String(eH))]};});d8.rUInt64=dI.New$1(function(eH){var eI,eJ;eI=eH.Segments;return eI.$==1?(eJ=0,b0.TryParseUInt64(eI.$0,{get:function(){return eJ;},set:function(eK){eJ=eK;}})?[[dg.New(eI.$1,eH.QueryArgs,eH.FormData,eH.Method,eH.Body),eJ]]:[]):[];},function(eH){return{$:1,$0:[dg.Segment$2(a.String(eH))]};});d8.rSingle=dI.New$1(function(eH){var eI,eJ,eK;eI=eH.Segments;return eI.$==1?(eJ=0,(eK=a.Number(eI.$0),a.isNaN(eK)?false:(eJ=eK,true))?[[dg.New(eI.$1,eH.QueryArgs,eH.FormData,eH.Method,eH.Body),eJ]]:[]):[];},function(eH){return{$:1,$0:[dg.Segment$2(a.String(eH))]};});d8.rBool=dI.New$1(function(eH){var eI,eJ,eK;eI=eH.Segments;return eI.$==1?(eJ=(eK=null,[b0.TryParseBool(eI.$0,{get:function(){return eK;},set:function(eL){eK=eL;}}),eK]),eJ[0]?[[dg.New(eI.$1,eH.QueryArgs,eH.FormData,eH.Method,eH.Body),eJ[1]]]:[]):[];},function(eH){return{$:1,$0:[dg.Segment$2(eH?"True":"False")]};});d8.rWildcard=dI.New$1(function(eH){return[[dg.New(cx.Empty,eH.QueryArgs,eH.FormData,eH.Method,eH.Body),bj.concat("/",eH.Segments)]];},function(eH){return{$:1,$0:[dg.Segment$2(eH)]};});d8.rDateTime=dI.New$1(function(eH){var eI,eJ,eK,eL,eM,eN,eO,eP,eQ;eI=eH.Segments;return eI.$==1?(eJ=eI.$0,eJ.length===19&&eJ[4]==="-"&&eJ[7]==="-"&&eJ[10]==="-"&&eJ[13]==="."&&eJ[16]==="."?(eK=eG(cc.string(eJ,{$:1,$0:0},{$:1,$0:3})),(eL=eG(cc.string(eJ,{$:1,$0:5},{$:1,$0:6})),(eM=eG(cc.string(eJ,{$:1,$0:8},{$:1,$0:9})),(eN=eG(cc.string(eJ,{$:1,$0:11},{$:1,$0:12})),(eO=eG(cc.string(eJ,{$:1,$0:14},{$:1,$0:15})),(eP=eG(cc.string(eJ,{$:1,$0:17},{$:1,$0:18})),eK!=null&&eK.$==1&&(eL!=null&&eL.$==1&&(eM!=null&&eM.$==1&&(eN!=null&&eN.$==1&&(eO!=null&&eO.$==1&&(eP!=null&&eP.$==1&&(eQ=[eM.$0,eN.$0,eL.$0,eO.$0,eP.$0,eK.$0],true))))))?[[dg.New(eI.$1,eH.QueryArgs,eH.FormData,eH.Method,eH.Body),(new eC(eQ[5],eQ[2]-1,eQ[0],eQ[1],eQ[3],eQ[4])).getTime()]]:[])))))):[]):[];},function(eH){var eI,eJ;function eK(eL){var eM;eM=a.String(eL);return eM.length===1?"0"+eM:eM;}return{$:1,$0:[dg.Segment$2((eI=a.String((new eC(eH)).getFullYear()),(eJ=eI.length,eJ===1?"000"+eI:eJ===2?"00"+eI:eJ===3?"0"+eI:eI))+"-"+eK((new eC(eH)).getMonth()+1)+"-"+eK((new eC(eH)).getDate())+"-"+eK((new eC(eH)).getHours())+"."+eK((new eC(eH)).getMinutes())+"."+eK((new eC(eH)).getSeconds()))]};});};d9.OfArray=function(eG){return new ct.New$1(cw.OfSeq(bc.map(function(eH){return dL.New(eH[0],eH[1]);},eG)));};d9.FoldBack=function(eG,eH,eI){return bc.fold(function(eJ,eK){return eG(eK.Key,eK.Value,eJ);},eI,cw.Enumerate(true,eH.get_Tree()));};d9.ToSeq=function(eG){return bc.map(function(eH){return[eH.Key,eH.Value];},cw.Enumerate(false,eG.get_Tree()));};d_=f.OperationCanceledException=ey.Class({},da,d_);d_.New=ey.Ctor(function(eG){d_.New$1.call(this,"The operation was canceled.",null,eG);},d_);d_.New$1=ey.Ctor(function(eG,eH,eI){this.message=eG;this.inner=eH;cP.setPrototypeOf(this,d_.prototype);this.ct=eI;},d_);d$.Clear=function(eG){eG.splice(0,T.length(eG));};ea.$cctor=function(){ea.$cctor=a.ignore;ea.Doc=self.document;};eb.$cctor=function(){eb.$cctor=a.ignore;eb.EmptyAttr=null;};ec=f.AggregateException=ey.Class({},da,ec);ec.New$3=ey.Ctor(function(eG){ec.New$4.call(this,"One or more errors occurred.",eG);},ec);ec.New$4=ey.Ctor(function(eG,eH){this.message=eG;cP.setPrototypeOf(this,ec.prototype);this.innerExceptions=eH;},ec);bc.enumUsing=function(eG,eH){return{GetEnumerator:function(){var eI;try{eI=cu.Get(eH(eG));}catch(eJ){eG.Dispose();throw eJ;}return new cv.New(null,null,function(eK){return eI.MoveNext()&&(eK.c=eI.Current(),true);},function(){eI.Dispose();eG.Dispose();});}};};bc.enumWhile=function(eG,eH){return{GetEnumerator:function(){return new cv.New(null,null,function(eI){var eJ;while(true){eJ=eI.s;if(J.Equals(eJ,null)){if(eG()){eI.s=cu.Get(eH);eI=eI;}else return false;}else if(eJ.MoveNext()){eI.c=eJ.Current();return true;}else{eJ.Dispose();eI.s=null;eI=eI;}}},function(eI){var eJ;eJ=eI.s;!J.Equals(eJ,null)?eJ.Dispose():void 0;});}};};ed=bg.KeyCollection=ey.Class({GetEnumerator$1:function(){return cu.Get(bc.map(function(eG){return eG.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},g,ed);ed.New=ey.Ctor(function(eG){g.New.call(this);this.d=eG;},ed);ee=h.Updates=ey.Class({},null,ee);ee.Create=function(eG){var eH;eH=null;eH=ee.New(eG,null,function(){var eI;eI=eH.s;return eI===null?(eI=_4.Copy(eH.c()),eH.s=eI,_4.WhenObsoleteRun(eI,function(){eH.s=null;}),eI):eI;});return eH;};ee.New=function(eG,eH,eI){return new ee({c:eG,s:eH,v:eI});};eg.New=function(eG,eH){return{PreviousNodes:eG,Top:eH};};eh.get_Empty=function(){return{$:0,$0:new b4.New$3()};};eh.FindAll=function(eG){var eH;function eI(eK){if(eK!=null&&eK.$==0){eI(eK.$0);eI(eK.$1);}else if(eK!=null&&eK.$==1)eJ(eK.$0);else if(eK!=null&&eK.$==2)eI(eK.$0.Current);else if(eK!=null&&eK.$==6)T.iter(eJ,eK.$0.Holes);}function eJ(eK){eH.push(eK);eI(eK.Children);}eH=[];eI(eG);return{$:0,$0:new b4.New$2(eH)};};eh.Filter=function(eG,eH){return{$:0,$0:eu.Filter(eG,eH.$0)};};eh.Except=function(eG,eH){return{$:0,$0:eu.Except(eG.$0,eH.$0)};};eh.ToArray=function(eG){return eu.ToArray(eG.$0);};eh.Intersect=function(eG,eH){return{$:0,$0:eu.Intersect(eG.$0,eH.$0)};};ei.UseAnimations=function(){ep.$cctor();return ep.UseAnimations;};ei.Actions=function(eG){return ei.ConcatActions(T.choose(function(eH){return eH.$==1?{$:1,$0:eH.$0}:null;},eq.ToArray(eG.$0)));};ei.Finalize=function(eG){T.iter(function(eH){if(eH.$==0)eH.$0();},eq.ToArray(eG.$0));};ei.ConcatActions=function(eG){var eH,eI,eJ,eK;eH=cT.ofSeqNonCopying(eG);eI=T.length(eH);return eI===0?ei.Const():eI===1?T.get(eH,0):(eJ=bc.max(bc.map(function(eL){return eL.Duration;},eH)),(eK=T.map(function(eL){return ei.Prolong(eJ,eL);},eH),ei.Def(eJ,function(eL){T.iter(function(eM){eM.Compute(eL);},eK);})));};ei.List=function(eG){return eG.$0;};ei.Const=function(eG){return ei.Def(0,function(){return eG;});};ei.Def=function(eG,eH){return{Compute:eH,Duration:eG};};ei.Prolong=function(eG,eH){var eI,eJ,eK;eI=eH.Compute;eJ=eH.Duration;eK=r.Create(function(){return eH.Compute(eH.Duration);});return{Compute:function(eL){return eL>=eJ?eK.f():eI(eL);},Duration:eG};};ej.$cctor=function(){ej.$cctor=a.ignore;ej.BatchUpdatesEnabled=true;};ek.IsUpper=function(eG){return eG>="A"&&eG<="Z";};ek.Parse=function(eG){return eG.length===1?eG:o.FailWith("String must be exactly one character long.");};ek.IsWhiteSpace=function(eG){return eG.match(new a.RegExp("\\s"))!==null;};el.Activate=function(eG){var eH,eJ,eK,eL,eM,eN,eO;function eI(eP){var eQ,eR,eS,eT,eU;if(J.Equals(eP,null))return eP;else if(typeof eP=="object"){if(eP instanceof a.Array)return el.shallowMap(eI,eP);else{eQ=el.shallowMap(eI,eP.$V);eR=eP.$T;if(eR===void 0)return eQ;else{eS=T.get(eJ,eR);if(eS===1)return bz.ofArray(eQ);else if(eS===2)return self.WebSharper.Decimal.CreateDecimalBits(eQ);else{eT=new(T.get(eJ,eR))();for(var eV in eQ)if(function(eW){eT[eW]=eQ[eW];return false;}(eV))break;return eT;}}}}else return eP;}eJ=eG?eG.$TYPES:void 0;if(eJ===void 0)eH=eG;else{for(eK=0,eL=T.length(eJ)-1;eK<=eL;eK++){eO=T.get(eJ,eK);switch(!J.Equals(eO,null)&&eO.length===3?T.get(eO,0)==="WebSharper"?T.get(eO,1)==="List"?T.get(eO,2)==="T"?0:(eN=eO,2):(eN=eO,2):(eN=eO,2):!J.Equals(eO,null)&&eO.length===2?T.get(eO,0)==="WebSharper"?T.get(eO,1)==="Decimal"?1:(eN=eO,2):(eN=eO,2):(eN=eO,2)){case 0:eM=1;break;case 1:eM=2;break;case 2:eM=el.lookup(eN);break;}T.set(eJ,eK,eM);}eH=eG.$DATA;}return eI(eH);};el.shallowMap=function(eG,eH){var eI,eJ;if(eH instanceof a.Array)return T.map(eG,eH);else if(typeof eH=="object"){eI={};for(var eK in eH)if(function(eL){eI[eL]=eG(eH[eL]);return false;}(eK))break;return eI;}else return eH;};el.lookup=function(eG){var eH,eI,eJ,eK,eL;eJ=T.length(eG);eH=self;eI=0;while(eI<eJ){eK=T.get(eG,eI);eL=eH[eK];!J.Equals(typeof eL,void 0)?(eH=eL,eI=eI+1):o.FailWith("Invalid server reply. Failed to find type: "+eK);}return eH;};dI.New=function(eG,eH){return{Parse:eG,Segment:eH};};em.read=function(eG){var eH;eH=[];return function(eI){var eJ;while(true){eJ=em.readEscapedFromChars(eI);if(eJ[0]===-2)return null;else if(eJ[0]===-1)return{$:1,$0:(function(eK){return function(eL){return bj.concat(eK,eL);};}(""))(eH)};else{eH.push(eF.fromCharCode(eJ[0]));eI=eJ[1];}}}(bz.ofSeq(bc.map(function(eI){return eI.charCodeAt();},eG)));};em.write=function(eG){return bj.concat("",bc.mapi(function(eH,eI){return em.writeEscapedAsString(eH+1===eG.length,eI);},eG));};em.readEscapedFromChars=function(eG){var eH,eI,eJ,eK,eL,eM,eN,eO;function eP(){var eR,eS;return eH.$==1?(eR=eH.$1,(eS=eH.$0,(eH=eR,eS))):-1;}function eQ(eR){return eR>="0".charCodeAt()&&eR<="9".charCodeAt()?eR-"0".charCodeAt():eR>="a".charCodeAt()&&eR<="f".charCodeAt()?eR-"a".charCodeAt()+10:eR>="A".charCodeAt()&&eR<="F".charCodeAt()?eR-"A".charCodeAt()+10:-2;}eH=eG;return[(eI=eP(),eI==="~".charCodeAt()?(eJ=eP(),eJ==="u".charCodeAt()?(eK=eP(),(eL=eP(),(eM=eP(),(eN=eP(),eK>=0&&eL>=0&&eM>=0&&eN>=0?em.op_PlusPlus(em.op_PlusPlus(em.op_PlusPlus(eQ(eK),eQ(eL)),eQ(eM)),eQ(eN)):-2)))):(eO=eP(),eJ>=0&&eO>=0?em.op_PlusPlus(eQ(eJ),eQ(eO)):-2)):eI),eH];};em.writeEscapedAsString=function(eG,eH){var eI;eI=eH.charCodeAt();return em.isUnreserved(eG,eH)?eH:eI<256?"~"+bj.PadLeftWith(eI.toString(16),2,"0"):"~u"+bj.PadLeftWith(eI.toString(16),4,"0");};em.op_PlusPlus=function(eG,eH){return(eG<<4)+eH;};em.isUnreserved=function(eG,eH){return eH==="-"||(eH==="."?!eG:eH==="_"||(eH>="A"&&eH<="Z"||(eH>="a"&&eH<="z"||eH>="0"&&eH<="9")));};b0.TryParseSByte=function(eG,eH){return b0.TryParse(eG,-128,127,eH);};b0.TryParseByte=function(eG,eH){return b0.TryParse(eG,0,255,eH);};b0.TryParseInt16=function(eG,eH){return b0.TryParse(eG,-32768,32767,eH);};b0.TryParseUInt16=function(eG,eH){return b0.TryParse(eG,0,65535,eH);};b0.TryParseUInt32=function(eG,eH){return b0.TryParse(eG,0,4294967295,eH);};b0.TryParseUInt64=function(eG,eH){return b0.TryParse(eG,0,18446744073709551615,eH);};en=f.FormatException=ey.Class({},da,en);en.New$1=ey.Ctor(function(eG){this.message=eG;cP.setPrototypeOf(this,en.prototype);},en);eo.isBlank=function(eG){return bj.forall(ek.IsWhiteSpace,eG);};ep.$cctor=function(){ep.$cctor=a.ignore;ep.CubicInOut=et.Custom(function(eG){var eH;eH=eG*eG;return 3*eH-2*(eH*eG);});ep.UseAnimations=true;};eq.Append=function(eG,eH){return eG.$==0?eH:eH.$==0?eG:{$:2,$0:eG,$1:eH};};eq.ToArray=function(eG){var eH;function eI(eJ){if(eJ.$==1)eH.push(eJ.$0);else if(eJ.$==2){eI(eJ.$0);eI(eJ.$1);}else if(eJ.$==3)T.iter(function(eK){eH.push(eK);},eJ.$0);}eH=[];eI(eG);return eH.slice(0);};eq.Concat=function(eG){var eH;eH=cT.ofSeqNonCopying(eG);return cT.TreeReduce(eq.Empty(),eq.Append,eH);};eq.Empty=function(){ew.$cctor();return ew.Empty;};er=bg.LinkedListEnumerator=ey.Class({MoveNext:function(){this.c=this.c.n;return!J.Equals(this.c,null);},Current:function(){return this.c.v;},Dispose:a.ignore},g,er);er.New=ey.Ctor(function(eG){g.New.call(this);this.c=eG;},er);es.WriteLink=function(eG,eH){var eI;eI=eH.get_IsEmpty()?"":"?"+es.WriteQuery(eH);return"/"+es.Concat(eG)+eI;};es.Concat=function(eG){var eH,eI;eH=[];eI=true;bz.iter(function(eJ){if(!bj.IsNullOrEmpty(eJ)){eI?eI=false:eH.push("/");eH.push(eJ);}},eG);return bj.Join("",T.ofSeq(eH));};es.WriteQuery=function(eG){function eH(eI,eJ){return eI+"="+eJ;}return bj.concat("&",bc.map(function(eI){return eH(eI[0],eI[1]);},d9.ToSeq(eG)));};et=h.Easing=ey.Class({},g,et);et.Custom=function(eG){return new et.New(eG);};et.New=ey.Ctor(function(eG){g.New.call(this);this.transformTime=eG;},et);eu.Filter=function(eG,eH){return new b4.New$2(T.filter(eG,eu.ToArray(eH)));};eu.Except=function(eG,eH){var eI;eI=new b4.New$2(eu.ToArray(eH));eI.ExceptWith(eu.ToArray(eG));return eI;};eu.ToArray=function(eG){var eH;eH=T.create(eG.get_Count(),void 0);eG.CopyTo(eH);return eH;};eu.Intersect=function(eG,eH){var eI;eI=new b4.New$2(eu.ToArray(eG));eI.IntersectWith(eu.ToArray(eH));return eI;};ev.Children=function(eG,eH){var eI,eJ,eK;if(eH!=null&&eH.$==1){eK=[];eI=eH.$0[0].nextSibling;while(eI!==eH.$0[1]){eK.push(eI);eI=eI.nextSibling;}return{$:0,$0:eK};}else return{$:0,$0:T.init(eG.childNodes.length,(eJ=eG.childNodes,function(eL){return eJ[eL];}))};};ev.Except=function(eG,eH){var eI;eI=eG.$0;return{$:0,$0:T.filter(function(eJ){return T.forall(function(eK){return!(eJ===eK);},eI);},eH.$0)};};ev.Iter=function(eG,eH){T.iter(eG,eH.$0);};ev.DocChildren=function(eG){var eH;function eI(eJ){if(eJ!=null&&eJ.$==2)eI(eJ.$0.Current);else if(eJ!=null&&eJ.$==1)eH.push(eJ.$0.El);else if(eJ==null);else if(eJ!=null&&eJ.$==5)eH.push(eJ.$0);else if(eJ!=null&&eJ.$==4)eH.push(eJ.$0.Text);else if(eJ!=null&&eJ.$==6)T.iter(function(eK){if(eK==null||eK.constructor===cP)eI(eK);else eH.push(eK);},eJ.$0.Els);else{eI(eJ.$0);eI(eJ.$1);}}eH=[];eI(eG.Children);return{$:0,$0:cT.ofSeqNonCopying(eH)};};ew.$cctor=function(){ew.$cctor=a.ignore;ew.Empty={$:0};};ey.OnLoad(function(){e.mainProgram();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
//# sourceMappingURL=prozperDes.js.min.map
