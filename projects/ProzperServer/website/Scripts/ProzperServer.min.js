function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
var JSON;JSON||(JSON={}),function(){"use strict";function i(n){return n<10?"0"+n:n}function f(n){return o.lastIndex=0,o.test(n)?'"'+n.replace(o,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function r(i,e){var s,l,h,a,v=n,c,o=e[i];o&&typeof o=="object"&&typeof o.toJSON=="function"&&(o=o.toJSON(i));typeof t=="function"&&(o=t.call(e,i,o));switch(typeof o){case"string":return f(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(n+=u,c=[],Object.prototype.toString.apply(o)==="[object Array]"){for(a=o.length,s=0;s<a;s+=1)c[s]=r(s,o)||"null";return h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+v+"]":"["+c.join(",")+"]",n=v,h}if(t&&typeof t=="object")for(a=t.length,s=0;s<a;s+=1)typeof t[s]=="string"&&(l=t[s],h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));else for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));return h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+v+"}":"{"+c.join(",")+"}",n=v,h}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,u,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(n="",u="",typeof e=="number")for(o=0;o<e;o+=1)u+=" ";else typeof e=="string"&&(u=e);if(t=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return r("",{"":i})});typeof JSON.parse!="function"&&(JSON.parse=function(n,t){function r(n,i){var f,e,u=n[i];if(u&&typeof u=="object")for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&(e=r(u,f),e!==undefined?u[f]=e:delete u[f]);return t.call(n,i,u)}var i;if(n=String(n),e.lastIndex=0,e.test(n)&&(n=n.replace(e,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?r({"":i},""):i;throw new SyntaxError("JSON.parse");})}();
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey;a=self;b=a.FsRoot=a.FsRoot||{};c=b.ProzperServer=b.ProzperServer||{};d=c.ClientSide=c.ClientSide||{};e=d.MainProgram=d.MainProgram||{};f=a.WebSharper=a.WebSharper||{};g=f.Obj=f.Obj||{};h=f.UI=f.UI||{};i=h.Var$1=h.Var$1||{};j=b.LibraryJS=b.LibraryJS||{};k=j.AppFramework=j.AppFramework||{};l=k.PlugIn=k.PlugIn||{};m=d.ModeloUI=d.ModeloUI||{};n=m.Aliado=m.Aliado||{};o=f.Operators=f.Operators||{};p=h.View=h.View||{};q=h.Var=h.Var||{};r=f.Lazy=f.Lazy||{};s=m.RenderAliados=m.RenderAliados||{};t=m.RenderAliado=m.RenderAliado||{};u=m.FormaRegistro=m.FormaRegistro||{};v=m.FormaDatos=m.FormaDatos||{};w=m.FormaContactos=m.FormaContactos||{};x=m.FormaFormasPago=m.FormaFormasPago||{};y=m.ReporteConsolidado=m.ReporteConsolidado||{};z=m.TablaPagos=m.TablaPagos||{};A=m.ListaDocs=m.ListaDocs||{};B=m.FormaAutorizacion=m.FormaAutorizacion||{};C=m.FormaContrato=m.FormaContrato||{};D=m.Transacciones=m.Transacciones||{};E=m.Pendientes=m.Pendientes||{};F=a.EventTarget;G=a.Node;H=f.JavaScript=f.JavaScript||{};I=H.JS=H.JS||{};J=f.Unchecked=f.Unchecked||{};K=j.LayoutEngineModule=j.LayoutEngineModule||{};L=f.Option=f.Option||{};M=c.TypesV0=c.TypesV0||{};N=M.Aliado=M.Aliado||{};O=c.Aliado=c.Aliado||{};P=h.Templating=h.Templating||{};Q=P.Runtime=P.Runtime||{};R=Q.Server=Q.Server||{};S=R.TemplateInstance=R.TemplateInstance||{};T=f.Arrays=f.Arrays||{};U=R.ProviderBuilder=R.ProviderBuilder||{};V=R.Handler=R.Handler||{};W=a.ProzperServer_Templates=a.ProzperServer_Templates||{};X=a.ProzperServer_GeneratedPrintf=a.ProzperServer_GeneratedPrintf||{};Y=a.ProzperServer_Router=a.ProzperServer_Router||{};Z=a.GeneratedPrintf=a.GeneratedPrintf||{};_0=h.Doc=h.Doc||{};_1=m.Rpc=m.Rpc||{};_2=M.IdAliado=M.IdAliado||{};_3=M.Modelo=M.Modelo||{};_4=h.ConcreteVar=h.ConcreteVar||{};_5=h.Snap=h.Snap||{};_6=a.StartupCode$ProzperServer$ProzperServer=a.StartupCode$ProzperServer$ProzperServer||{};_7=h.ListModel=h.ListModel||{};_8=k.PlugInVar=k.PlugInVar||{};_9=k.PlugInView=k.PlugInView||{};_=k.PlugInDoc=k.PlugInDoc||{};$=H.Pervasives=H.Pervasives||{};ba=f.LazyExtensionsProxy=f.LazyExtensionsProxy||{};bb=ba.LazyRecord=ba.LazyRecord||{};bc=f.Seq=f.Seq||{};bd=b.Library=b.Library||{};be=bd.SortWith=bd.SortWith||{};bf=O.Buscar=O.Buscar||{};bg=f.Collections=f.Collections||{};bh=bg.FSharpSet=bg.FSharpSet||{};bi=bg.Set=bg.Set||{};bj=f.Strings=f.Strings||{};bk=M.CorreoElectronico=M.CorreoElectronico||{};bl=m.DatosPersonales=m.DatosPersonales||{};bm=m.CorreoElectronico=m.CorreoElectronico||{};bn=m.Telefono=m.Telefono||{};bo=m.Direccion=m.Direccion||{};bp=bd.Monads=bd.Monads||{};bq=bp.AsyncResultBuilder=bp.AsyncResultBuilder||{};br=m.Refresh=m.Refresh||{};bs=a.System=a.System||{};bt=bs.Guid=bs.Guid||{};bu=y.Fila=y.Fila||{};bv=m.VariousUI=m.VariousUI||{};bw=h.HtmlModule=h.HtmlModule||{};bx=bw.attr=bw.attr||{};by=M.StatusAliado=M.StatusAliado||{};bz=f.Utils=f.Utils||{};bA=j.Date=j.Date||{};bB=f.List=f.List||{};bC=M.CuentaBancaria=M.CuentaBancaria||{};bD=M.RoutingNumber=M.RoutingNumber||{};bE=M.NumeroCuenta=M.NumeroCuenta||{};bF=M.FormaPago=M.FormaPago||{};bG=bp.Result=bp.Result||{};bH=M.Archivo=M.Archivo||{};bI=bp.Extensions=bp.Extensions||{};bJ=j.ListModel=j.ListModel||{};bK=bd.String=bd.String||{};bL=M.TipoArchivo=M.TipoArchivo||{};bM=M.StatusArchivo=M.StatusArchivo||{};bN=a.Blob;bO=m.FormaFirma=m.FormaFirma||{};bP=M.PremisasCalculo=M.PremisasCalculo||{};bQ=c.Rpc=c.Rpc||{};bR=f.Remoting=f.Remoting||{};bS=bR.AjaxRemotingProvider=bR.AjaxRemotingProvider||{};bT=k.PlugInAction=k.PlugInAction||{};bU=d.Msal=d.Msal||{};bV=a.WindowOrWorkerGlobalScope;bW=j.LayoutEngine=j.LayoutEngine||{};bX=a.StartupCode$LayoutEngine$LayoutEngine=a.StartupCode$LayoutEngine$LayoutEngine||{};bY=M.IdForAuthorize=M.IdForAuthorize||{};bZ=M.DatosPersonales=M.DatosPersonales||{};b0=M.DiaPago=M.DiaPago||{};b1=M.TipoAliado=M.TipoAliado||{};b2=f.Numeric=f.Numeric||{};b3=bg.List=bg.List||{};b4=bg.Dictionary=bg.Dictionary||{};b5=bg.HashSet=bg.HashSet||{};b6=Q.Client=Q.Client||{};b7=h.Abbrev=h.Abbrev||{};b8=b7.Async=b7.Async||{};b9=b7.Fresh=b7.Fresh||{};b_=bG.Builder=bG.Builder||{};b$=bG.BuilderP=bG.BuilderP||{};ca=bp.Eff=bp.Eff||{};cb=ca.EffBuilder=ca.EffBuilder||{};cc=bp.AsyncResultBuilderP=bp.AsyncResultBuilderP||{};cd=f.Slice=f.Slice||{};ce=bd.ParseO=bd.ParseO||{};cf=bd.Serializer=bd.Serializer||{};cg=j.Msal=j.Msal||{};ch=cg.Policy=cg.Policy||{};ci=M.Telefono=M.Telefono||{};cj=M.TipoTelefono=M.TipoTelefono||{};ck=M.Direccion=M.Direccion||{};cl=M.TipoDireccion=M.TipoDireccion||{};cm=M.Estado=M.Estado||{};cn=M.Pais=M.Pais||{};co=M.ZonaPostal=M.ZonaPostal||{};cp=M.TarjetaCredito=M.TarjetaCredito||{};cq=M.Expiracion=M.Expiracion||{};cr=M.NumeroTarjeta=M.NumeroTarjeta||{};cs=M.TipoTarjeta=M.TipoTarjeta||{};ct=M.TipoCuenta=M.TipoCuenta||{};cu=M.Genero=M.Genero||{};cv=cg.Configuration=cg.Configuration||{};cw=cg.AuthOptions=cg.AuthOptions||{};cx=f.Control=f.Control||{};cy=cx.MailboxProcessor=cx.MailboxProcessor||{};cz=bd.Mailbox=bd.Mailbox||{};cA=m.EndPoint=m.EndPoint||{};cB=h.Router=h.Router||{};cC=h.ViewBuilder=h.ViewBuilder||{};cD=c.Remoting=c.Remoting||{};cE=M.IdPayment=M.IdPayment||{};cF=M.CuentaPago=M.CuentaPago||{};cG=k.PlugInQuery=k.PlugInQuery||{};cH=bg.FSharpMap=bg.FSharpMap||{};cI=f.Enumerator=f.Enumerator||{};cJ=cI.T=cI.T||{};cK=bg.BalancedTree=bg.BalancedTree||{};cL=bB.T=bB.T||{};cM=bp.AsyncResult=bp.AsyncResult||{};cN=bd.Array=bd.Array||{};cO=m.CuentaBancaria=m.CuentaBancaria||{};cP=m.TarjetaCredito=m.TarjetaCredito||{};cQ=a.Object;cR=h.FromView=h.FromView||{};cS=h.AttrProxy=h.AttrProxy||{};cT=h.Array=h.Array||{};cU=f.Concurrency=f.Concurrency||{};cV=h.Storage=h.Storage||{};cW=h.AttrModule=h.AttrModule||{};cX=a.LayoutEngine_Templates=a.LayoutEngine_Templates||{};cY=a.LayoutEngine_GeneratedPrintf=a.LayoutEngine_GeneratedPrintf||{};cZ=j.WebComponent=j.WebComponent||{};c0=cZ.WcTabStrip=cZ.WcTabStrip||{};c1=c0.WcTabStripT=c0.WcTabStripT||{};c2=cZ.WcSplitter=cZ.WcSplitter||{};c3=bg.DictionaryUtil=bg.DictionaryUtil||{};c4=h.CheckedInput=h.CheckedInput||{};c5=h.Client=h.Client||{};c6=c5.Templates=c5.Templates||{};c7=f.DateUtil=f.DateUtil||{};c8=a.StartupCode$WebSharper_Main$Remoting=a.StartupCode$WebSharper_Main$Remoting||{};c9=j.Pojo=j.Pojo||{};c_=a.Error;c$=f.TimeoutException=f.TimeoutException||{};da=H.Promise=H.Promise||{};db=f.Sitelets=f.Sitelets||{};dc=db.RouterOperators=db.RouterOperators||{};dd=db.RouterModule=db.RouterModule||{};de=db.Route=db.Route||{};df=cD.CustomXhrProvider=cD.CustomXhrProvider||{};dg=M.ConceptoPago=M.ConceptoPago||{};dh=bg.MapUtil=bg.MapUtil||{};di=cK.Tree=cK.Tree||{};dj=M.IdAddress=M.IdAddress||{};dk=h.Docs=h.Docs||{};dl=h.Attrs=h.Attrs||{};dm=h.DomUtility=h.DomUtility||{};dn=cU.AsyncBody=cU.AsyncBody||{};_do=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};dp=cU.CT=cU.CT||{};dq=cV.ArrayStorage=cV.ArrayStorage||{};dr=j.Var=j.Var||{};ds=K.Layout=K.Layout||{};dt=c2.WcSplitterT=c2.WcSplitterT||{};du=h.DocElemNode=h.DocElemNode||{};dv=a.CharacterData;dw=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};dx=bR.XhrProvider=bR.XhrProvider||{};dy=cx.FSharpEvent=cx.FSharpEvent||{};dz=bg.LinkedList=bg.LinkedList||{};dA=cg.AuthenticationParameters=cg.AuthenticationParameters||{};dB=cg.Account=cg.Account||{};dC=db.Router=db.Router||{};dD=db.List=db.List||{};dE=bg.Pair=bg.Pair||{};dF=f.Result=f.Result||{};dG=cU.Scheduler=cU.Scheduler||{};dH=f.CancellationTokenSource=f.CancellationTokenSource||{};dI=h.DynamicAttrNode=h.DynamicAttrNode||{};dJ=K.Measures=K.Measures||{};dK=j.Hoverable=j.Hoverable||{};dL=dK.Hoverable=dK.Hoverable||{};dM=a.Event;dN=a.UIEvent;dO=j.ResizeObserver=j.ResizeObserver||{};dP=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};dQ=h.Elt=h.Elt||{};dR=c5.Attrs=c5.Attrs||{};dS=dR.Dyn=dR.Dyn||{};dT=c6.Prepare=c6.Prepare||{};dU=h.An=h.An||{};dV=c5.Settings=c5.Settings||{};dW=b7.Mailbox=b7.Mailbox||{};dX=f.OperationCanceledException=f.OperationCanceledException||{};dY=f.Json=f.Json||{};dZ=bg.HashSetUtil=bg.HashSetUtil||{};d0=cx.Event=cx.Event||{};d1=d0.Event=d0.Event||{};d2=H.NonStandardPromiseRejectionException=H.NonStandardPromiseRejectionException||{};d3=a.StartupCode$WebSharper_Sitelets$Router=a.StartupCode$WebSharper_Sitelets$Router||{};d4=bg.Map=bg.Map||{};d5=f.Queue=f.Queue||{};d6=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};d7=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};d8=f.AggregateException=f.AggregateException||{};d9=bg.KeyCollection=bg.KeyCollection||{};d_=h.Updates=h.Updates||{};d$=c5.Docs=c5.Docs||{};ea=d$.RunState=d$.RunState||{};eb=d$.NodeSet=d$.NodeSet||{};ec=h.Anims=h.Anims||{};ed=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};ee=f.Char=f.Char||{};ef=f.FormatException=f.FormatException||{};eg=db.StringEncoding=db.StringEncoding||{};eh=h.String=h.String||{};ei=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};ej=h.AppendList=h.AppendList||{};ek=bg.LinkedListEnumerator=bg.LinkedListEnumerator||{};el=db.PathUtil=db.PathUtil||{};em=h.Easing=h.Easing||{};en=b7.HashSet=b7.HashSet||{};eo=d$.DomNodes=d$.DomNodes||{};ep=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};eq=a.IntelliFactory;er=eq&&eq.Runtime;es=a.Math;et=a.jQuery;eu=a.console;ev=a.Date;ew=a.JSON;ex=a.Reflect;ey=a.String;e.mainProgram=function(){var ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR;ez=i.Create$1(e.appName());eA=p.Map(function(eS){return e.mesToString(eS.periodoActual);},m.modeloV().get_View());eB=p.Map(function(eS){return a.String(eS.anoActual);},m.modeloV().get_View());eC=p.Map(function(eS){return O.nombre2(eS.datosPersonales);},m.aliadoW());eD=p.Map(function(eS){return eS.id.get_Id();},m.aliadoW());eE=p.Map(function(eS){return a.String(eS.status);},m.aliadoW());eF=p.Map(function(eS){return a.String(eS.comision);},m.aliadoW());eG=p.Map(function(eS){return a.String(eS.nReferidos);},m.aliadoW());k.addPlugIn(l.New(e.appName(),[k.newVar("title",ez),k.newVar("contentVar",m.contentVar()),k.newVar("invitaciones",m.invitacionesV()),k.newVar("influencer",e.influencerV())],[k.newViw("mesActual",eA),k.newViw("anoActual",eB),k.newViw("aliado",eC),k.newViw("idAliado",eD),k.newViw("status",eE),k.newViw("comision",eF),k.newViw("datos",eG),k.newViw("emailsInvitar",m.emailsInvitarW()),k.newViw("invitacionesDisabled",m.invitacionesDisabledW()),k.newViw("VideoW",p.Map(function(eS){return eS.$==5?eS.$0:"";},m.endPointV().get_View())),k.newViw("influencerClassW",e.influencerClassW())],[k.newDoc("Aliados",r.Create(s.aliados)),k.newDoc("Aliado",r.Create(t.aliado)),k.newDoc("Calculo",r.Create(t.calculo)),k.newDoc("FormaRegistro",r.Create(u.formaDoc)),k.newDoc("FormaDatos",r.Create(v.formaDoc)),k.newDoc("FormaContactos",r.Create(w.formaDoc)),k.newDoc("FormaFormasPago",r.Create(x.formaDoc)),k.newDoc("contentDoc",r.Create(e.getContentDoc)),k.newDoc("ReporteConsolidado",r.Create(y.consolidado)),k.newDoc("TablaPagos",r.Create(z.comisiones)),k.newDoc("ListaDocs",r.Create(A.listaDocs)),k.newDoc("FormaAutorizacion",r.Create(B.formaAutorizacion)),k.newDoc("FormaContrato",r.Create(C.formaContrato)),k.newDoc("Transacciones",r.Create(D.transacciones)),k.newDoc("Pendientes",r.Create(function(){return E.pendientes(m.aliadoW());}))],[k.newAct("Logout",function(){e.logout();}),k.newAct("LogIn",function(){e.login();}),k.newAct("enviarInvitaciones",function(){e.enviarCorreosInvitacion();}),k.newAct("gotoInfluencer",function(){e.gotoInfluencer();})],[]));K.addLayout((eH=(eI=self.document.getElementById("GlobalLayout"),J.Equals(eI,null)?"\r\n                            menuEditor layout\r\n                            |          main\r\n            \r\n                            main div \"\"\r\n                            :                 template  header     \"id=header\"           brand  brandV   logout \"@{Prozper.Logout}\" afiliado \"@{Prozper.aliado}\"\r\n                            :                 Doc       Prozper.contentDoc\r\n                            :                 template  sidedrawer \"id=sidedrawer\"       brand  brandV   idaliado \"@{Prozper.idAliado}\" \r\n                            :                 template  footer     \"id=footer\"           brand  brandV   madeby \"CIPHER Bsc\" madebylink \"www.cipherbsc.com\"\r\n             \r\n                            mainContent          template  content    \"id=content-wrapper\"  content aliados                  fecha \"@{Prozper.mesActual} @{Prozper.anoActual}\" idaliado \"@{Prozper.aliado}\"\r\n                            cntFormaRegistro     template  content    \"id=content-wrapper\"  content Prozper.FormaRegistro    titulo \"Referido por: @{Prozper.aliado}\"  \r\n                            cntFormaDatos        template  content    \"id=content-wrapper\"  content Prozper.FormaDatos       titulo \" \"\r\n                            cntFormaContactos    template  content    \"id=content-wrapper\"  content Prozper.FormaContactos   titulo \" \" \r\n                            cntFormaFormasPago   template  content    \"id=content-wrapper\"  content Prozper.FormaFormasPago  titulo \" \" \r\n                            cntFormaCuentas      template  content    \"id=content-wrapper\"  content ProzperLyt.FormaCuentas  titulo \" \"  \r\n                            cntFormaDocumentos   template  content    \"id=content-wrapper\"  content Prozper.FormaDocumentos  titulo \" \"  \r\n                            cntFormaNoUser       template  content    \"id=content-wrapper\"  content botonLogin               titulo \" \"  \r\n                            cntFormaInvitaciones template  content    \"id=content-wrapper\"  content invitaciones             titulo \" \"  \r\n            \r\n                            aliados          div       \"class=row\"\r\n                            :                div       \"class=mui-col-md-6\"\r\n                            ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" Prozper.Aliados\r\n                            :                div       \"class=mui-col-md-6\"\r\n                            ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" Aliado Comisiones\r\n                            brandV           Var       \"Prozper\"\r\n            \r\n                            botonLogin       div       \"class=row\"\r\n                            :                div       \"class=mui-col-md-6\"\r\n                            ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" \r\n                            :::              button    Prozper.LogIn \"class=mui-btn mui-btn--primary\" \"Ingresar al Sistema\"\r\n            \r\n                            invitaciones     div       \"class=row\"\r\n                            :                div       \"class=mui-col-md-6 mui-col-md-offset-1\"\r\n                            ::               div       \"class=mui-panel mui--z5 scrollbar; max-height:550px ; overflow:auto\" \r\n                            :::              h1        \"\" \"Enviar Invitaciones\"\r\n                            :::              textarea  Prozper.invitaciones  \"width:100% ; height:30rem; placeholder=Copie aqui las direcciones de correo electronico\" \r\n                            :                div       \"white-space: pre-wrap\" \"@{Prozper.emailsInvitar}\"\r\n                            :                button    Prozper.enviarInvitaciones \"class=mui-btn mui-btn--raised mui-btn--primary;@{Prozper.invitacionesDisabled}\" \"Enviar\"\r\n            \r\n                            Aliado           div       \"class=mui-col-md-8\"\r\n                            :                Doc Prozper.Aliado\r\n            \r\n                            Comisiones       template    tablacomisiones \"class=mui-col-md-3\"  tbody filasComisiones\r\n                            filasComisiones  concat      \"\"\r\n                            :                template    filacomision    \"\"  periodo \"Ene 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Feb 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Mar 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Abr 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"May 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Jun 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Jul 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Ago 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Sep 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Oct 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Nov 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Dec 2018\" comision \"$1,000\"\r\n                    \r\n                            menuEditorx      horizontal  65          menuLogo                  editorMessages\r\n                            double           horizontal  0-50-100    AppFramework.AppFwkClient menuEditor\r\n                            menuLogo         vertical    350         logo                      menu\r\n                            logo             span       \"margin:0;   color:gray; font-size: 55px; font-weight:530\" \"StackOverflow\"\r\n                            editorMessages   horizontal  10-83-100   editorButtons             messages\r\n                            messages         vertical    0-50-100    messagesLeft              messagesRight\r\n                            editorButtons    vertical    150 buttons snippetsSnippet \r\n                            snippetsSnippet  vertical    0-20-100    snippets                  editorProperties\r\n                            snippets         horizontal  20          \"@{FSharpStation.CurrentPath}\" tblDimensions2\r\n                            editorProperties vertical    0-100-100   snippet                   properties\r\n                            properties       div        \"\"           FSharpStation.Properties\r\n                            snippet          horizontal  35          Name                      FSharpStation.editor\r\n                            menu             span       \"display: grid; grid-template-columns: 30% 20% 20% 10%; grid-gap: 25px; margin:5px; grid-template-rows:50px\" inpServer btnLoad btnSaveAs\r\n                             \r\n                            severalTabs      wcomp-tabstrip  \"\" \r\n                            :                div \"tabname=Dimensions\" \r\n                            ::               div \"\" btnAddDimension RuleEditor.Dimensions\r\n                            :                div \"tabname=Cubes\"\r\n                            :                div \"tabname=Global Definitions\" RuleEditor.globalDefs\r\n                    \r\n                            btnSaveAs        button RuleEditor.SaveAs         \"class=btn @{RuleEditor.SaveNeeded}\" \"Save as...    \"\r\n                            btnAddDimension  button RuleEditor.AddDimension      \"\"                  \"new dim...\"\r\n                            btnDeleteSnippet button FSharpStation.RemoveSnippet  \"\"                  \"Delete Snippet\"\r\n                            btnIndentIn      button FSharpStation.IndentIn       \"\"                  \"Indent In  >> \"\r\n                            btnIndentOut     button FSharpStation.IndentOut      \"\"                  \"Indent Out << \"\r\n                            btnRunFS         button FSharpStation.RunFS          \"\"                  \"Run F#        \"\r\n                            btnAbortFsi      button FSharpStation.AbortFsi       \"\"                  \"Abort Fsi     \"\r\n                    \r\n                            messagesLeft     wcomp-tabstrip                      \"\"                  Output FsCode\r\n                            messagesRight    wcomp-tabstrip                      \"\"                  Parser\r\n                    \r\n                            buttons          div \"overflow: hidden; display: grid; grid-template-columns: 100%; grid-template-rows: repeat(15, calc(100% / 15)); bxackground-color: #eee; box-sizing: border-box; padding : 5px; grid-gap: 5px; margin-right: 21px\"\r\n                            :                button RuleEditor.AddCalculation    \"\"                 \"Add Calculation\"\r\n                            :                button RuleEditor.AddTotal          \"\"                 \"Add Total\"\r\n                            :                Doc       none x\r\n                            :                button RuleEditor.IndentIn          \"\"                  \"Indent In  >> \"\r\n                            :                button RuleEditor.IndentOut         \"\"                  \"Indent Out << \"\r\n                    \r\n                            Output           textarea  RuleEditor.Output         \"tabname=Output ; placeholder=Output messages ; spellcheck=false\" \r\n                            FsCode           textarea  RuleEditor.CodeFS         \"tabname=F# Code; placeholder=F# Code         ; spellcheck=false\" \r\n                            Parser           textarea  RuleEditor.Parser         \"tabname=Parser ; placeholder=Parser messages; dblclick=@{FSharpStation.JumpTo} ; spellcheck=false\" \r\n                            Name             Doc       InputLabel                \"\"     \"Name:\"        FSharpStation.SnippetName\r\n                            inpServer        Doc       InputLabel                \"\"     \"Server:\"      RuleEditor.Server\r\n                            btnLoad          Doc       InputFile                 \"\"     \"Load File...\" RuleEditor.LoadFile  FileName\r\n                            btnImport        Doc       InputFile                 \"\"     \"Import...\"    FSharpStation.Import    \"\"\r\n                            FileName         div                                 \"class=form-control\"  RuleEditor.fileName\r\n            \r\n                       ":eI.textContent),K.newLyt(e.layoutName(),eH)));eJ=(eK=null,(eL=e.layoutName(),eK==null?eL:eK.$0));k.mainDocV().Set(eJ);_0.BindView(function(eS){var eT,eU,eV;return J.Equals(eS.id,O.empty().id)?(eT=U.Make(),(eU=V.CompleteHoles(eT.k,eT.h,[]),(eV=new S.New(eU[1],W.opcionesadministrador(eU[0])),(eT.i=eV,eV)))).get_Doc():_0.get_Empty();},m.aliadoW());eM=(eN=(eO=e.getDocView(e.layoutName(),"headerCenter"),(eP=e.getMenuDoc(),(eQ=e.getContentDoc(),U.Make().WithHole({$:0,$0:"maincontent",$1:eQ})).WithHole({$:0,$0:"menu",$1:eP})).WithHole({$:0,$0:"headercenter",$1:eO})),eN.WithHole(V.EventQ2(eN.k,"logout",function(){return eN.i;},function(){e.logout();}))).WithHole({$:2,$0:"cortina",$1:p.Map(function(eS){return eS>0?"mui-overlay":"not-mui-overlay";},_1.llamadas().get_View())});eR=V.CompleteHoles(eM.k,eM.h,[]);eM.i=new S.New(eR[1],c6.RunFullDocTemplate(eR[0]));p.Sink(function(eS){self.document.title=eS;},ez.get_View());};e.appName=function(){_6.$cctor();return _6.appName;};e.influencerV=function(){_6.$cctor();return _6.influencerV;};e.influencerClassW=function(){_6.$cctor();return _6.influencerClassW;};e.getContentDoc=function(){return _0.EmbedView(p.Map(function(ez){return e.getDoc(e.appName(),ez);},m.contentVar().get_View()));};e.logout=function(){bU.logout();};e.login=function(){bU.logout();};e.enviarCorreosInvitacion=function(){var ez;_1.iterA((ez=bp.asyncResult(),ez.Run(ez.Delay(function(){return bI["AsyncResultBuilder.Bind"](ez,p.GetAsync(m.emailsInvitarW()),function(eA){return bI["AsyncResultBuilder.Bind"](ez,p.GetAsync(p.Map(function(eB){return eB.id.get_Id();},m.aliadoW())),function(){var eB;eB=T.filter(function(eC){return bj.Trim(eC)!=="";},bj.SplitChars(eA,["\n"],0));return ez.Bind$1(_1.enviarCorreosInvitacion("Invitacion a Prozper",eB),function(){var eC;eC=T.length(eB);return eC===0?(a.alert("Ningun correo valido ha sido encontrado"),ez.Zero()):eC===1?(a.alert("Invitacion ha sido enviada"),ez.Zero()):(a.alert("Invitaciones han sido enviadas"),ez.Zero());});});});}))));};e.gotoInfluencer=function(){var ez;cU.Start((ez=null,cU.Delay(function(){return cU.Bind(_1.obtenerIdInfluyente(e.influencerV().Get()),function(eA){return eA.$==0?(self.location.href="/Register/"+e.influencerV().Get(),cU.Zero()):(self.alert("Código inválido:"+e.influencerV().Get()),cU.Zero());});})),null);};e.layoutName=function(){_6.$cctor();return _6.layoutName;};e.getMenuDoc=function(){return _0.EmbedView(p.Map2(function(ez,eA){var eB;eB=ez!=null&&ez.$==1?J.Equals(eA.id,O.empty().id)?"ProzperLyt.mnuAdministrador":"ProzperLyt.mnuUsuario":"ProzperLyt.mnuNoUsuario";return e.getDoc(e.appName(),eB);},bU.userO().get_View(),m.aliadoW()));};e.getDocView=function(ez,eA){return K.turnToView(function(){return e.getDoc(ez,eA);});};e.mesToString=function(ez){return ez===1?"Ene":ez===2?"Feb":ez===3?"Mar":ez===4?"Abr":ez===5?"May":ez===6?"Jun":ez===7?"Jul":ez===8?"Ago":ez===9?"Sep":ez===10?"Oct":ez===11?"Nov":ez===12?"Dic":"---";};e.getDoc=function(ez,eA){var eB,eC,eD;eB=(eC=(eD=((K.splitName())(ez))(eA),k.tryGetDoc(eD[0],eD[1])),eC==null?null:{$:1,$0:K.getDocFinal(cL.Empty,eC.$0)});return eB==null?K.errDoc((function(eE){return function(eF){return eE("Doc not found "+bz.toSafe(eF));};}(a.id))(eA)):eB.$0;};g=f.Obj=er.Class({Equals:function(ez){return this===ez;},GetHashCode:function(){return -1;}},null,g);g.New=er.Ctor(function(){},g);i=h.Var$1=er.Class({},g,i);i.Create$1=function(ez){return new _4.New(false,_5.New({$:2,$0:ez,$1:[]}),ez);};i.Lens=function(ez,eA,eB){var eC,eD,eE;eC=b9.Id();eD=p.Map(eA,ez.get_View());eE=new q({Get:function(){return eA(ez.Get());},Set:function(eF){return ez.Update(function(eG){return eB(eG,eF);});},SetFinal:function(eF){return this.Set(eF);},Update:function(eF){return ez.Update(function(eG){return eB(eG,eF(eA(eG)));});},UpdateMaybe:function(eF){return ez.UpdateMaybe(function(eG){var eH;eH=eF(eA(eG));return eH==null?null:{$:1,$0:eB(eG,eH.$0)};});},get_View:function(){return eD;},get_Id:function(){return eC;}});q.New.call(eE);return eE;};i.Set=function(ez,eA){ez.Set(eA);};k.addPlugIn=function(ez){k.plugIns().Append(ez);k.mainDocV().Set(k.mainDocV().Get());};k.newVar=function(ez,eA){return _8.New(ez,eA);};k.newViw=function(ez,eA){return _9.New(ez,eA);};k.newDoc=function(ez,eA){return _.New(ez,{$:0,$0:eA});};k.newAct=function(ez,eA){return bT.New(ez,{$:0,$0:eA},p.Const(true));};k.mainDocV=function(){bX.$cctor();return bX.mainDocV;};k.plugIns=function(){bX.$cctor();return bX.plugIns;};k.newDocF=function(ez,eA){return _.New(ez,eA);};k.tryGetDoc=function(ez,eA){var eB;eB=k.tryGetPlugIn(ez);return eB==null?null:T.tryFind(function(eC){return eC.docName===eA;},eB.$0.plgDocs);};k.tryGetAct=function(ez,eA){var eB;eB=k.tryGetPlugIn(ez);return eB==null?null:T.tryFind(function(eC){return eC.actName===eA;},eB.$0.plgActions);};k.callFunction=function(ez,eA,eB){if(eB.$==1)eB.$0(ez);else if(eB.$==2)(eB.$0(ez))(eA);else eB.$0();};k.tryGetVar=function(ez,eA){var eB;eB=k.tryGetPlugIn(ez);return eB==null?null:T.tryFind(function(eC){return eC.varName===eA;},eB.$0.plgVars);};k.selectionPlugInO=function(){bX.$cctor();return bX.selectionPlugInO;};k.defaultPlugIn=function(){bX.$cctor();return bX.defaultPlugIn;};k.currentPlugInW=function(){bX.$cctor();return bX.currentPlugInW;};k.renderPlugIns=function(){return _0.Flatten(k.plugIns().MapLens(function(ez){var eA,eB,eC,eD;return(eA=(eB=U.Make().WithHole({$:1,$0:"name",$1:ez}),eB.WithHole(V.EventQ2(eB.k,"select",function(){return eB.i;},function(){k.selectionPlugInO().Set({$:1,$0:ez});}))).WithHole({$:2,$0:"selected",$1:p.Map(function(eE){return J.Equals(eE,{$:1,$0:ez})?"selected":"";},k.selectionPlugInO().get_View())}),(eC=V.CompleteHoles(eA.k,eA.h,[]),(eD=new S.New(eC[1],cX.tile(eC[0])),(eA.i=eD,eD)))).get_Doc();}));};k.renderVars=function(){function ez(eB,eC){return[eB.plgName,eC.varName];}function eA(eB,eC){var eD,eE,eF;return(eD=U.Make().WithHole({$:1,$0:"name",$1:eC.varName}).WithHole({$:8,$0:"value",$1:eC.varVar}),(eE=V.CompleteHoles(eD.k,eD.h,[["value",0]]),(eF=new S.New(eE[1],cX.namevalueinput(eE[0])),(eD.i=eF,eF)))).get_Doc();}return _0.ConvertBy(function(eB){return ez(eB[0],eB[1]);},function(eB){return eA(eB[0],eB[1]);},p.Map(function(eB){return bc.map(function(eC){return[eB,eC];},eB.plgVars);},k.currentPlugInW()));};k.renderViews=function(){function ez(eB,eC){return[eB.plgName,eC.viwName];}function eA(eB,eC){var eD,eE,eF;return(eD=U.Make().WithHole({$:1,$0:"name",$1:eC.viwName}).WithHole({$:2,$0:"value",$1:eC.viwView}),(eE=V.CompleteHoles(eD.k,eD.h,[]),(eF=new S.New(eE[1],cX.namevalue(eE[0])),(eD.i=eF,eF)))).get_Doc();}return _0.ConvertBy(function(eB){return ez(eB[0],eB[1]);},function(eB){return eA(eB[0],eB[1]);},p.Map(function(eB){return bc.map(function(eC){return[eB,eC];},eB.plgViews);},k.currentPlugInW()));};k.renderDocs=function(){function ez(eB,eC){return[eB.plgName,eC.docName];}function eA(eB,eC){var eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN;return(eD=(eE=(eF=eC.docName+(eG=eC.docDoc,eG.$==1?(eH=bj.concat(", ",bB.ofArray([eG.$1])),(function(eO){return function(eP){return eO("("+bz.toSafe(eP)+")");};}(a.id))(eH)):eG.$==2?(eI=bj.concat(", ",bB.ofArray([eG.$1,eG.$2])),(function(eO){return function(eP){return eO("("+bz.toSafe(eP)+")");};}(a.id))(eI)):eG.$==3?(eJ=bj.concat(", ",bB.ofArray([eG.$1,eG.$2,eG.$3])),(function(eO){return function(eP){return eO("("+bz.toSafe(eP)+")");};}(a.id))(eJ)):eG.$==4?(eK=bj.concat(", ",bB.ofArray([eG.$1,eG.$2,eG.$3,eG.$4])),(function(eO){return function(eP){return eO("("+bz.toSafe(eP)+")");};}(a.id))(eK)):eG.$==5?(eL=bj.concat(", ",bB.ofArray([eG.$1,eG.$2,eG.$3,eG.$4,eG.$5])),(function(eO){return function(eP){return eO("("+bz.toSafe(eP)+")");};}(a.id))(eL)):""),U.Make().WithHole({$:1,$0:"name",$1:eF})),eE.WithHole(V.EventQ2(eE.k,"select",function(){return eE.i;},function(){p.Get(function(eO){k.mainDocV().Set(eO.plgName+"."+eC.docName);},k.currentPlugInW());}))),(eM=V.CompleteHoles(eD.k,eD.h,[]),(eN=new S.New(eM[1],cX.tile(eM[0])),(eD.i=eN,eN)))).get_Doc();}return _0.ConvertBy(function(eB){return ez(eB[0],eB[1]);},function(eB){return eA(eB[0],eB[1]);},p.Map(function(eB){return bc.map(function(eC){return[eB,eC];},eB.plgDocs);},k.currentPlugInW()));};k.renderActions=function(){function ez(eB,eC){return[eB.plgName,eC.actName];}function eA(eB,eC){var eD,eE,eF,eG;eD=(eE=eC.actFunction,eE.$==1?(eF=bj.concat(", ",bB.ofArray([eE.$1])),(function(eH){return function(eI){return eH("("+bz.toSafe(eI)+")");};}(a.id))(eF)):eE.$==2?(eG=bj.concat(", ",bB.ofArray([eE.$1,eE.$2])),(function(eH){return function(eI){return eH("("+bz.toSafe(eI)+")");};}(a.id))(eG)):"");return _0.EmbedView(p.Map(function(eH){var eI,eJ,eK,eL,eM,eN,eO,eP;return eH?(eI=(eJ=U.Make().WithHole({$:1,$0:"name",$1:eC.actName+eD}),eJ.WithHole(V.EventQ2(eJ.k,"click",function(){return eJ.i;},function(eQ){k.callFunction(eQ,null,eC.actFunction);}))),(eK=V.CompleteHoles(eI.k,eI.h,[]),(eL=new S.New(eK[1],cX.action(eK[0])),(eI.i=eL,eL)))).get_Doc():(eM=(eN=U.Make().WithHole({$:1,$0:"name",$1:eC.actName}),eN.WithHole(V.EventQ2(eN.k,"click",function(){return eN.i;},function(eQ){k.callFunction(eQ,null,eC.actFunction);}))),(eO=V.CompleteHoles(eM.k,eM.h,[]),(eP=new S.New(eO[1],cX.actiondisabled(eO[0])),(eM.i=eP,eP)))).get_Doc();},eC.actEnabled));}return _0.ConvertBy(function(eB){return ez(eB[0],eB[1]);},function(eB){return eA(eB[0],eB[1]);},p.Map(function(eB){return bc.map(function(eC){return[eB,eC];},eB.plgActions);},k.currentPlugInW()));};k.renderQueries=function(){function ez(eB,eC){return[eB.plgName,eC.qryName];}function eA(eB,eC){var eD,eE,eF,eG;return(eD=(eE=U.Make().WithHole({$:1,$0:"name",$1:eC.qryName}),eE.WithHole(V.EventQ2(eE.k,"select",function(){return eE.i;},function(){a.alert(eC.qryFunction(null));}))),(eF=V.CompleteHoles(eD.k,eD.h,[]),(eG=new S.New(eF[1],cX.tile(eF[0])),(eD.i=eG,eG)))).get_Doc();}return _0.ConvertBy(function(eB){return ez(eB[0],eB[1]);},function(eB){return eA(eB[0],eB[1]);},p.Map(function(eB){return bc.map(function(eC){return[eB,eC];},eB.plgQueries);},k.currentPlugInW()));};k.newQry=function(ez,eA){return cG.New(ez,eA);};k.AppFwkClient=function(){bX.$cctor();return bX.AppFwkClient;};k.actHello=function(){bX.$cctor();return bX.actHello;};k.qryDocs=function(){bX.$cctor();return bX.qryDocs;};k.horizontal=function(ez,eA,eB,eC,eD){var eE,eF,eG,eH;return(eE=(eF=U.Make().WithHole({$:2,$0:"partsizes",$1:ez}).WithHole({$:7,$0:"afterrender",$1:eA}).WithHole({$:7,$0:"afterrendersp",$1:eB}),eF.WithHole(V.EventQ2(eF.k,"mousedown",function(){return eF.i;},function(eI){eC(eI.Event);}))).WithHole({$:2,$0:"gap",$1:eD}),(eG=V.CompleteHoles(eE.k,eE.h,[]),(eH=new S.New(eG[1],cX.wcompsplitterhor(eG[0])),(eE.i=eH,eH)))).get_Doc();};k.vertical=function(ez,eA,eB,eC,eD){var eE,eF,eG,eH;return(eE=(eF=U.Make().WithHole({$:2,$0:"partsizes",$1:ez}).WithHole({$:7,$0:"afterrender",$1:eA}).WithHole({$:7,$0:"afterrendersp",$1:eB}),eF.WithHole(V.EventQ2(eF.k,"mousedown",function(){return eF.i;},function(eI){eC(eI.Event);}))).WithHole({$:2,$0:"gap",$1:eD}),(eG=V.CompleteHoles(eE.k,eE.h,[]),(eH=new S.New(eG[1],cX.wcompsplitterver(eG[0])),(eE.i=eH,eH)))).get_Doc();};k.mainDoc=function(){var ez,eA,eB,eC,eD,eE;return(ez=(eA=k.getMainClientDoc(),(eB=(eC=k.mainDocV().get_View(),U.Make().WithHole({$:2,$0:"maindoc",$1:eC})),eB.WithHole(V.EventQ2(eB.k,"goclient",function(){return eB.i;},function(){k.mainDocV().Set("AppFramework.AppFwkClient");}))).WithHole({$:0,$0:"mainclient",$1:eA})),(eD=V.CompleteHoles(ez.k,ez.h,[]),(eE=new S.New(eD[1],cX.appframework(eD[0])),(ez.i=eE,eE)))).get_Doc();};k.splitName=function(ez){function eA(eC){return bK.splitByChar(".",eC);}function eB(eC){return T.length(eC)===1?[ez,T.get(eC,0)]:[T.get(eC,0),T.get(eC,1)];}return function(eC){return eB(eA(eC));};};k.tryGetPlugIn=function(ez){return k.plugIns().TryFindByKey(ez);};k.newActF=function(ez,eA){return bT.New(ez,eA,p.Const(true));};k.tryGetViw=function(ez,eA){var eB;eB=k.tryGetPlugIn(ez);return eB==null?null:T.tryFind(function(eC){return eC.viwName===eA;},eB.$0.plgViews);};k.tryGetWoW=function(ez,eA){var eB,eC,eD;eB=(eC=k.tryGetViw(ez,eA),eC==null?null:{$:1,$0:{$:1,$0:eC.$0.viwView}});return eB==null?(eD=k.tryGetVar(ez,eA),eD==null?null:{$:1,$0:eD.$0.varVar.get_View()}):eB.$0;};k.getMainClientDoc=function(){var ez;return _0.EmbedView((ez=k.plugIns().v,p.Map2(function(eA,eB){var eC,eD;eC=bc.tryPick(function(eE){var eF;eF=bc.tryFind(function(eG){return eE.plgName===eA||eE.plgName+"."+eG.docName===eA;},eE.plgDocs);return eF==null?null:{$:1,$0:k.getLazyDoc(eF.$0)};},eB);eD=k.AppFwkClient().f();return eC==null?eD:eC.$0;},k.mainDocV().get_View(),ez)));};k.tryGetVoV=function(ez,eA){var eB,eC,eD;eB=(eC=k.tryGetVar(ez,eA),eC==null?null:{$:1,$0:{$:1,$0:eC.$0.varVar}});return eB==null?(eD=k.tryGetViw(ez,eA),eD==null?null:{$:1,$0:new cR.New(eD.$0.viwView,a.ignore)}):eB.$0;};k.getLazyDoc=function(ez){var eA;eA=ez.docDoc;return eA.$==0?eA.$0.f():_0.Element("div",[],[_0.TextNode((function(eB){return function(eC){return eB("Doc with parameters not allowed here: "+Z.p(eC));};}(a.id))(ez))]);};l.New=function(ez,eA,eB,eC,eD,eE){return{plgName:ez,plgVars:eA,plgViews:eB,plgDocs:eC,plgActions:eD,plgQueries:eE};};m.contentVar=function(){_6.$cctor();return _6.contentVar;};m.invitacionesV=function(){_6.$cctor();return _6.invitacionesV;};m.emailsInvitarW=function(){_6.$cctor();return _6.emailsInvitarW;};m.invitacionesDisabledW=function(){_6.$cctor();return _6.invitacionesDisabledW;};m.endPointV=function(){_6.$cctor();return _6.endPointV;};m.aliadoW=function(){_6.$cctor();return _6.aliadoW;};m.modeloV=function(){_6.$cctor();return _6.modeloV;};m.selAliadoIdOV=function(){_6.$cctor();return _6.selAliadoIdOV;};m.money=function(ez){return"$"+m.separate(a.String(ez),cL.Empty);};m.selAliadoIdDoc=function(ez){var eA;return _0.BindView(a.id,(eA=p.get_Do(),p.Bind(function(eB){return p.Bind(function(eC){var eD,eE;eD=eC==null?null:(eE=eC.$0,bc.tryFind(function(eF){return J.Equals(eF.id,eE);},eB.aliados));return p.Const(eD!=null&&eD.$==1?ez(p.Const(eD.$0)):_0.get_Empty());},m.selAliadoIdOV().get_View());},m.modeloV().get_View())));};m.aliadoIdDoc=function(ez){var eA;return _0.BindView(a.id,(eA=p.get_Do(),p.Bind(function(eB){var eC,eD;eC=eB.idAliado;eD=bc.tryFind(function(eE){return J.Equals(eE.id,eC);},eB.aliados);return p.Const(eD!=null&&eD.$==1?ez(p.Const(eD.$0)):_0.get_Empty());},m.modeloV().get_View())));};n.get_LoggedId=function(){var ez,eA;return new _2({$:0,$0:(ez=(eA=bU.userO().Get(),eA==null?null:{$:1,$0:eA.$0.idToken.oid}),ez==null?"":ez.$0)});};m.separate=function(ez,eA){var eB;while(true)if(ez==="")return(function(eC){return function(eD){return bj.concat(eC,eD);};}(","))(eA);else{eB=ez;ez=bd["String.Left$1"](eB,-3);eA=new cL({$:1,$0:bd["String.Right$1"](eB,3),$1:eA});}};m.formasPagoAliadoV=function(){_6.$cctor();return _6.formasPagoAliadoV;};o.FailWith=function(ez){throw new c_(ez);};o.toInt=function(ez){var eA;eA=o.toUInt(ez);return eA>=2147483648?eA-4294967296:eA;};o.range=function(ez,eA){var eB;eB=1+eA-ez;return eB<=0?[]:bc.init(eB,function(eC){return eC+ez;});};o.toUInt=function(ez){return(ez<0?es.ceil(ez):es.floor(ez))>>>0;};o.KeyValue=function(ez){return[ez.K,ez.V];};p.Map=function(ez,eA){return p.CreateLazy(function(){return _5.Map(ez,eA());});};p.Sink=function(ez,eA){function eB(){_5.WhenRun(eA(),ez,function(){cU.scheduler().Fork(eB);});}cU.scheduler().Fork(eB);};p.CreateLazy=function(ez){var eA;eA={c:null,o:ez};return function(){var eB,eC;eB=eA.c;return eB===null?(eB=eA.o(),eA.c=eB,(eC=eB.s,eC!=null&&eC.$==0)?eA.o=null:_5.WhenObsoleteRun(eB,function(){eA.c=null;}),eB):eB;};};p.Map2=function(ez,eA,eB){return p.CreateLazy(function(){return _5.Map2(ez,eA(),eB());});};p.Apply=function(ez,eA){return p.Map2(function(eB,eC){return eB(eC);},ez,eA);};p.Map3=function(ez,eA,eB,eC){return p.CreateLazy(function(){return _5.Map3(ez,eA(),eB(),eC());});};p.MapAsync=function(ez,eA){return p.CreateLazy(function(){return _5.MapAsync(ez,eA());});};p.GetAsync=function(ez){return cU.FromContinuations(function(eA){return p.Get(eA,ez);});};p.Const=function(ez){var eA;eA=_5.New({$:0,$0:ez});return function(){return eA;};};p.Get=function(ez,eA){var eB;function eC(){_5.WhenRun(eA(),function(eD){if(!eB[0]){eB[0]=true;ez(eD);}},function(){if(!eB[0])eC();});}eB=[false];eC();};p.get_Do=function(){return cC.B;};p.TryGet=function(ez){return _5.TryGet(ez());};p.Bind=function(ez,eA){return p.Join(p.Map(ez,eA));};p.MapSeqCachedViewBy=function(ez,eA,eB){var eC;eC=[new b4.New$5()];return p.Map(function(eD){var eE,eF,eG;eE=eC[0];eF=new b4.New$5();eG=cT.mapInPlace(function(eH){var eI,eJ,eK;eI=ez(eH);eJ=eE.ContainsKey(eI)?(eK=eE.get_Item(eI),(i.Set(eK.r,eH),eK)):p.ConvertSeqNode(function(eL){return eA(eI,eL);},eH);eF.set_Item(eI,eJ);return eJ.e;},T.ofSeq(eD));eC[0]=eF;return eG;},eB);};p.Map2Unit=function(ez,eA){return p.CreateLazy(function(){return _5.Map2Unit(ez(),eA());});};p.Join=function(ez){return p.CreateLazy(function(){return _5.Join(ez());});};p.ConvertSeqNode=function(ez,eA){var eB,eC;eB=i.Create$1(eA);eC=eB.get_View();return{e:ez(eC),r:eB,w:eC};};p.MapSeqCachedBy=function(ez,eA,eB){var eC;eC=[new b4.New$5()];return p.Map(function(eD){var eE,eF,eG;eE=eC[0];eF=new b4.New$5();eG=cT.mapInPlace(function(eH){var eI,eJ;eI=ez(eH);eJ=eE.ContainsKey(eI)?eE.get_Item(eI):eA(eH);eF.set_Item(eI,eJ);return eJ;},T.ofSeq(eD));eC[0]=eF;return eG;},eB);};p.Sequence=function(ez){return p.CreateLazy(function(){return _5.Sequence(bc.map(function(eA){return eA();},ez));});};q=h.Var=er.Class({},g,q);q.New=er.Ctor(function(){g.New.call(this);},q);r.Create=function(ez){return bb.New(false,ez,r.forceLazy);};r.forceLazy=function(){var ez;ez=this.v();this.c=true;this.v=ez;this.f=r.cachedLazy;return ez;};r.cachedLazy=function(){return this.v;};r.CreateFromValue=function(ez){return bb.New(true,ez,r.cachedLazy);};s.aliados=function(){var ez,eA,eB,eC,eD,eE,eF;function eG(eP){var eQ,eR;eQ=(eR=eA.Get(),eR==null?null:{$:1,$0:eR.$0(eP)});return eQ==null?[]:eQ.$0;}function eH(eP){return eP.nReferidos===0?"-":(((er.Curried3(function(eQ,eR,eS){return eQ(a.String(eR)+"/"+a.String(eS));}))(a.id))(eP.nRefActivos))(eP.nReferidos);}function eI(eP){return eP.nDescendientes===0?"-":(((er.Curried3(function(eQ,eR,eS){return eQ(a.String(eR)+"/"+a.String(eS));}))(a.id))(eP.nDescActivos))(eP.nDescendientes);}function eJ(eP){return eP===0?"-":m.money(eP);}function eK(eP){return p.Map(function(eQ){return bc.isEmpty(eG(eP))?"":J.Equals(eQ==null?null:{$:1,$0:eQ.$0.Contains(eP)},{$:1,$0:true})?"Expandido":"Colapsado";},ez.get_View());}function eL(eP){var eQ,eR,eS;ez.Set({$:1,$0:((J.Equals((eQ=ez.Get(),eQ==null?null:{$:1,$0:eQ.$0.Contains(eP)}),{$:1,$0:true})?function(eT){return function(eU){return eU.Remove(eT);};}:function(eT){return function(eU){return eU.Add(eT);};})(eP))((eR=ez.Get(),(eS=new bh.New$1(null),eR==null?eS:eR.$0)))});}function eM(eP){m.selAliadoIdOV().Set({$:1,$0:eP});}function eN(eP){var eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e9,e_;function e3(e$){return e$.comision;}function e4(e$){return e$.status;}function e5(e$){return[e$.nRefActivos,e$.nReferidos];}function e6(e$){return[e$.nDescActivos,e$.nDescendientes];}function e7(e$){return O.nombre(e$.datosPersonales);}function e8(e$){return bc.delay(function(){return bc.append([e$],bc.delay(function(){var fa,fb;return(fa=(fb=ez.Get(),fb==null?null:{$:1,$0:fb.$0.Contains(e$.id)}),fa==null?false:fa.$0)?bc.collect(e8,e_.hijos(e$)):[];}));});}e9=(eQ=(eR=(eS=(eT=(eU=(er.Curried3(be.desc))(e3),eV=(er.Curried3(be.asc))(e4),er.Curried(be.op_AmpGreater,2,[function(e$,fa){return(eU(e$))(fa);},function(e$,fa){return(eV(e$))(fa);}])),eW=(er.Curried3(be.desc))(e5),er.Curried(be.op_AmpGreater,2,[function(e$,fa){return(eT(e$))(fa);},function(e$,fa){return(eW(e$))(fa);}])),eX=(er.Curried3(be.desc))(e6),er.Curried(be.op_AmpGreater,2,[function(e$,fa){return(eS(e$))(fa);},function(e$,fa){return(eX(e$))(fa);}])),eY=(er.Curried3(be.asc))(e7),er.Curried(be.op_AmpGreater,2,[function(e$,fa){return(eR(e$))(fa);},function(e$,fa){return(eY(e$))(fa);}])),bc.sortWith(function(e$,fa){return(eQ(e$))(fa);},eP));e_=O.busqueda(e9);eA.Set({$:1,$0:e_.hijosDe});try{e0=bc.min(bc.map(function(e$){return e$.nivel;},e9));}catch(e$){e0=1;}e1=bc.filter(function(fa){return fa.nivel===e0;},e9);bc.isEmpty(e1)?ez.Set(null):ez.Get()==null?(ez.Set({$:1,$0:new bh.New(bc.map(function(fa){return fa.id;},e1))}),e2=bc.tryHead(bc.map(function(fa){return fa.id;},e1)),e2==null?void 0:eM(e2.$0)):void 0;return bc.delay(function(){return bc.collect(e8,e1);});}function eO(eP,eQ){var eR,eS,eT,eU,eV,eW;return(eR=(eS=(eT=(eU=eK(eP),U.Make().WithHole({$:2,$0:"nombre",$1:p.Map(function(eX){return O.nombre(eX.datosPersonales);},eQ)}).WithHole({$:2,$0:"status",$1:p.Map(function(eX){return(function(eY){return function(eZ){return eY(X.p$1(eZ));};}(a.id))(eX.status);},eQ)}).WithHole({$:2,$0:"tipo",$1:p.Map(function(eX){return(function(eY){return function(eZ){return eY(X.p$2(eZ));};}(a.id))(eX.tipo);},eQ)}).WithHole({$:2,$0:"nivel",$1:p.Map(function(eX){return a.String(eX.nivel);},eQ)}).WithHole({$:2,$0:"referidos",$1:p.Map(eH,eQ)}).WithHole({$:2,$0:"descendientes",$1:p.Map(eI,eQ)}).WithHole({$:2,$0:"comision",$1:p.Map(function(eX){return eJ(eX.comision);},eQ)}).WithHole({$:2,$0:"expandido",$1:eU})),eT.WithHole(V.EventQ2(eT.k,"expandir",function(){return eT.i;},function(){eL(eP);}))).WithHole({$:2,$0:"seleccionado",$1:p.Map(function(eX){return J.Equals({$:1,$0:eP},eX)?"seleccionado":"";},m.selAliadoIdOV().get_View())}),eS.WithHole(V.EventQ2(eS.k,"seleccionar",function(){return eS.i;},function(){eM(eP);}))),(eV=V.CompleteHoles(eR.k,eR.h,[]),(eW=new S.New(eV[1],W.filaaliado(eV[0])),(eR.i=eW,eW)))).get_Doc();}ez=i.Create$1(null);eA=i.Create$1(null);return(eB=(eC=_0.ConvertSeqBy(function(eP){return eP.id;},function(eP){return function(eQ){return eO(eP,eQ);};},(eD=p.Map(function(eP){return eP.aliados;},m.modeloV().get_View()),p.Map2(function(eP,eQ){return eN(eQ);},ez.get_View(),eD))),U.Make().WithHole({$:0,$0:"tbody",$1:eC})),(eE=V.CompleteHoles(eB.k,eB.h,[]),(eF=new S.New(eE[1],W.tablaaliados(eE[0])),(eB.i=eF,eF)))).get_Doc();};t.aliado=function(){function ez(eA){var eB;eB=bc.tryPick(function(eC){return eC.$==1?{$:1,$0:eC.$0.email}:null;},eA.contactos);return eB==null?"correo no encontrado!":eB.$0;}return m.selAliadoIdDoc(function(eA){var eB,eC,eD,eE;return(eB=(eC=t.calculo(),U.Make().WithHole({$:2,$0:"nombre",$1:p.Map(function(eF){return O.nombre2(eF.datosPersonales);},eA)}).WithHole({$:2,$0:"status",$1:p.Map(function(eF){return(function(eG){return function(eH){return eG(X.p$1(eH));};}(a.id))(eF.status);},eA)}).WithHole({$:2,$0:"tipo",$1:p.Map(function(eF){return(function(eG){return function(eH){return eG(X.p$2(eH));};}(a.id))(eF.tipo);},eA)}).WithHole({$:2,$0:"contacto",$1:p.Map(ez,eA)}).WithHole({$:0,$0:"calculo",$1:eC})),(eD=V.CompleteHoles(eB.k,eB.h,[]),(eE=new S.New(eD[1],W.aliado(eD[0])),(eB.i=eE,eE)))).get_Doc();});};t.calculo=function(){var ez,eA;ez=p.Map(function(eB){return eB.premisas;},m.modeloV().get_View());eA=p.Map(function(eB){return eB.aliados;},m.modeloV().get_View());p.Map2(function(eB,eC){return bc.tryFind(function(eD){return J.Equals(eD.id,eB);},eC);},p.Map(function(eB){return eB.idAliado;},m.modeloV().get_View()),eA);return m.selAliadoIdDoc(function(eB){var eC,eD,eE,eF,eG;eC=p.Map2(O.comision,ez,eB);eD=p.Map2(O.premisas,ez,eB);return(eE=U.Make().WithHole({$:2,$0:"referidos",$1:p.Map(function(eH){return(function(eI){return function(eJ){return eI(a.String(eJ));};}(a.id))(eH.nReferidos);},eB)}).WithHole({$:2,$0:"refactivos",$1:p.Map(function(eH){return(function(eI){return function(eJ){return eI(a.String(eJ));};}(a.id))(eH.nRefActivos);},eB)}).WithHole({$:2,$0:"comreferido",$1:p.Map(function(eH){return(function(eI){return function(eJ){return eI(a.String(eJ));};}(a.id))(eH.nRefActivos);},eB)}).WithHole({$:2,$0:"descendientes",$1:p.Map(function(eH){return(function(eI){return function(eJ){return eI(a.String(eJ));};}(a.id))(eH.nDescendientes);},eB)}).WithHole({$:2,$0:"desactivos",$1:p.Map(function(eH){return(function(eI){return function(eJ){return eI(a.String(eJ));};}(a.id))(eH.nDescActivos);},eB)}).WithHole({$:2,$0:"comision",$1:p.Map(function(eH){return m.money(eH[0]+eH[1]);},eC)}).WithHole({$:2,$0:"comreferido",$1:p.Map(function(eH){return m.money(eH[0]);},eC)}).WithHole({$:2,$0:"comdescendiente",$1:p.Map(function(eH){return m.money(eH[1]);},eC)}).WithHole({$:2,$0:"porreferido",$1:p.Map(function(eH){return m.money(eH[0]);},eD)}).WithHole({$:2,$0:"pordescendiente",$1:p.Map(function(eH){return m.money(eH[1]);},eD)}),(eF=V.CompleteHoles(eE.k,eE.h,[]),(eG=new S.New(eF[1],W.calculo(eF[0])),(eE.i=eG,eG)))).get_Doc();});};u.formaDoc=function(){var ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN;ez=i.Create$1("");eA=i.Create$1(false);eB=i.Create$1(null);eC=i.Create$1(null);eD=i.Create$1(null);eE=i.Create$1(null);eF=bl.formaDoc(eB);eG=bm.formaDoc(eC);eH=bn.formaDoc(eD);eI=bo.formaDoc(eE);eJ=(eK=(eL=U.Make().WithHole({$:2,$0:"mensajes",$1:p.Map2(function(eO,eP){return eO?eP:"";},eA.get_View(),ez.get_View())}).WithHole({$:0,$0:"datospersonales",$1:eF[1]}).WithHole({$:0,$0:"correo",$1:eG[1]}).WithHole({$:0,$0:"telefono",$1:eH[1]}).WithHole({$:0,$0:"direccion",$1:eI[1]}),eL.WithHole(V.EventQ2(eL.k,"registrarse",function(){return eL.i;},function(){var eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY;eA.Set(true);eO=ez.Get();bj.Trim(eO)!==""?a.alert(eO):(eP=eB.Get(),eQ=eC.Get(),eR=eD.Get(),eS=eE.Get(),eP!=null&&eP.$==1&&(eQ!=null&&eQ.$==1&&(eR!=null&&eR.$==1&&(eS!=null&&eS.$==1&&(eT=[eQ.$0,eP.$0,eS.$0,eR.$0],true))))?(eU=eT[0],eV=eT[1],eW=eT[2],eX=eT[3],_1.iterA((eY=bp.asyncResult(),eY.Run(eY.Delay(function(){var eZ;return eY.Bind$1(_1.ejecutarDataEventoNuevo({$:3,$0:[new _2({$:0,$0:bj.Substring(bj.Replace((eZ=bt.NewGuid(),a.String(eZ)),"-",""),0,20)}),eV,{$:1,$0:m.modeloV().Get().idAliado},[{$:1,$0:eU},{$:2,$0:eX},{$:0,$0:eW}]]}),function(e0){br.refrescarData(true);a.alert((function(e1){return function(e2){return e1(X.p$15(e2));};}(a.id))(e0));return eY.Zero();});}))))):a.alert("Error not caught FormaRegistro"));}))),(eM=V.CompleteHoles(eK.k,eK.h,[]),(eN=new S.New(eM[1],W.formaregistro(eM[0])),(eK.i=eN,eN))));p.Sink(function(eO){ez.Set(eO);},p.Apply(p.Apply(p.Map2(function(eO,eP){return function(eQ){return function(eR){var eS;eS=bj.concat(", ",bc.delay(function(){return bc.append(eO,bc.delay(function(){return bc.append(eP,bc.delay(function(){return bc.append(eQ,bc.delay(function(){return eR;}));}));}));}));return eS!==""?"Campos requeridos: "+eS:"";};};},eF[0],eG[0]),eH[0]),eI[0]));return eJ.get_Doc();};v.formaDoc=function(){return m.aliadoIdDoc(v.formaAliado);};v.formaAliado=function(ez){var eA,eB,eC,eD,eE,eF,eG,eH,eI;function eJ(eL){return{$:1,$0:eL};}function eK(eL){eC.Set(eL);}eA=i.Create$1("");eB=i.Create$1(false);eC=i.Create$1(null);p.Sink(function(eL){return eK(eJ(eL));},p.Map(function(eL){return eL.datosPersonales;},ez));eD=bl.formaDoc(eC);eE=(eF=(eG=U.Make().WithHole({$:2,$0:"mensajes",$1:p.Map2(function(eL,eM){return eL?eM:"";},eB.get_View(),eA.get_View())}).WithHole({$:2,$0:"changed",$1:p.Map2(function(eL,eM){return J.Equals({$:1,$0:eL.datosPersonales},eM)?"":"mui-btn--primary";},ez,eC.get_View())}).WithHole({$:0,$0:"datospersonales",$1:eD[1]}),eG.WithHole(V.EventQ2(eG.k,"salvar",function(){return eG.i;},function(){var eL,eM,eN,eO,eP,eQ,eR;eB.Set(true);eL=eA.Get();bj.Trim(eL)!==""?a.alert(eL):(eM=eC.Get(),eN=p.TryGet(ez),eM!=null&&eM.$==1&&(eN!=null&&eN.$==1&&(eO=[eN.$0,eM.$0],true))?(eP=eO[0],eQ=eO[1],_1.iterA((eR=bp.asyncResult(),eR.Run(eR.Delay(function(){return eR.Bind$1(_1.ejecutarDataEventoNuevo({$:4,$0:[eP.id,eQ]}),function(eS){br.refrescarData(true);a.alert((function(eT){return function(eU){return eT(X.p$15(eU));};}(a.id))(eS));return eR.Zero();});}))))):a.alert("Error not caught FormaDatos"));}))),(eH=V.CompleteHoles(eF.k,eF.h,[]),(eI=new S.New(eH[1],W.formadatospersonales(eH[0])),(eF.i=eI,eI))));p.Sink(function(eL){eA.Set(eL);},p.Map(function(eL){var eM;eM=bj.concat(", ",bc.delay(function(){return eL;}));return eM!==""?"Campos requeridos: "+eM:"";},eD[0]));return eE.get_Doc();};w.formaDoc=function(){return m.aliadoIdDoc(w.formaContactos);};w.formaContactos=function(ez){var eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT;function eU(eV,eW){return function(eX){return new cR.New(p.Map(function(eY){var eZ;eZ=bc.tryItem(eX,eY);return eZ==null?null:eV(eZ.$0);},eC.get_View()),function(eY){if(eY!=null&&eY.$==1)eC.Set(cN.replace(eX,eW(eY.$0),eC.Get()));});};}eA=i.Create$1("");eB=i.Create$1(false);eC=i.Create$1([]);p.Sink(function(eV){eC.Set(eV);},p.Map(function(eV){return eV.contactos;},ez));eD=p.Map(bc.indexed,eC.get_View());eE=[function(eV){return eV.$==2?{$:1,$0:eV.$0}:null;},function(eV){return{$:2,$0:eV};}];eF=[function(eV){return eV.$==1?{$:1,$0:eV.$0}:null;},function(eV){return{$:1,$0:eV};}];eG=[function(eV){return eV.$==0?{$:1,$0:eV.$0}:null;},function(eV){return{$:0,$0:eV};}];eH=p.Map(function(eV){function eW(eX,eY){return eE[0](eY)==null?null:{$:1,$0:eX};}return bc.choose(function(eX){return eW(eX[0],eX[1]);},eV);},eD);eI=p.Map(function(eV){function eW(eX,eY){return eF[0](eY)==null?null:{$:1,$0:eX};}return bc.choose(function(eX){return eW(eX[0],eX[1]);},eV);},eD);eJ=p.Map(function(eV){function eW(eX,eY){return eG[0](eY)==null?null:{$:1,$0:eX};}return bc.choose(function(eX){return eW(eX[0],eX[1]);},eV);},eD);eK=_0.ConvertBy(a.id,function(eV){return bv.removeButton(function(){eC.Set(cN.remove(eV,eC.Get()));},(bn.formaDoc((function(eW){return eU(eW[0],eW[1]);}(eE))(eV)))[1]);},eH);eL=_0.ConvertBy(a.id,function(eV){return bv.removeButton(function(){eC.Set(cN.remove(eV,eC.Get()));},(bm.formaDoc((function(eW){return eU(eW[0],eW[1]);}(eF))(eV)))[1]);},eI);eM=_0.ConvertBy(a.id,function(eV){return bv.removeButton(function(){eC.Set(cN.remove(eV,eC.Get()));},(bo.formaDoc((function(eW){return eU(eW[0],eW[1]);}(eG))(eV)))[1]);},eJ);return(eN=(eO=(eP=(eQ=(eR=U.Make().WithHole({$:2,$0:"mensajes",$1:p.Map2(function(eV,eW){return eV?eW:"";},eB.get_View(),eA.get_View())}).WithHole({$:2,$0:"changed",$1:p.Map2(function(eV,eW){return J.Equals(eV.contactos,eW)?"":"mui-btn--primary";},ez,eC.get_View())}).WithHole({$:0,$0:"telefonos",$1:eK}).WithHole({$:0,$0:"correos",$1:eL}).WithHole({$:0,$0:"direcciones",$1:eM}),eR.WithHole(V.EventQ2(eR.k,"mastelefono",function(){return eR.i;},function(){eC.Set(eC.Get().concat([{$:2,$0:M.telVacio()}]));}))),eQ.WithHole(V.EventQ2(eQ.k,"mascorreo",function(){return eQ.i;},function(){eC.Set(eC.Get().concat([{$:1,$0:M.correoVacio()}]));}))),eP.WithHole(V.EventQ2(eP.k,"masdireccion",function(){return eP.i;},function(){eC.Set(eC.Get().concat([{$:0,$0:M.dirVacio()}]));}))),eO.WithHole(V.EventQ2(eO.k,"salvar",function(){return eO.i;},function(){var eV,eW,eX,eY;eB.Set(true);eV=eA.Get();bj.Trim(eV)!==""?a.alert(eV):(eW=p.TryGet(ez),eW!=null&&eW.$==1?(eX=eW.$0,_1.iterA((eY=bp.asyncResult(),eY.Run(eY.Delay(function(){return eY.Bind$1(_1.ejecutarDataEventoNuevo({$:5,$0:[eX.id,eC.Get()]}),function(eZ){br.refrescarData(true);a.alert((function(e0){return function(e1){return e0(X.p$15(e1));};}(a.id))(eZ));return eY.Zero();});}))))):a.alert("Error not caught FormaDatos"));}))),(eS=V.CompleteHoles(eN.k,eN.h,[]),(eT=new S.New(eS[1],W.formacontactos(eS[0])),(eN.i=eT,eT)))).get_Doc();};x.formaDoc=function(){return m.aliadoIdDoc(x.formaFormasPago);};x.formaFormasPago=function(ez){var eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN;function eO(eT,eU){return function(eV){return new cR.New(p.Map(function(eW){var eX;eX=bc.tryItem(eV,eW);return eX==null?null:eT(eX.$0);},eC.get_View()),function(eW){var eX;if(eW!=null&&eW.$==1){eX=eW.$0;eC.Set(cN.replace(eV,(eU(T.get(eC.Get(),eV)))(bv.fst3(eX[0],eX[1],eX[2])),eC.Get()));}});};}function eP(eT){var eU;_1.iterA((eU=bp.asyncResult(),eU.Run(eU.Delay(function(){return eU.Bind(eT.authorizeIdR,function(eV){return eU.Bind$1(_1.validarFormaPago(eV),function(eW){a.alert(eW);return eU.Zero();});});}))));}function eQ(eT,eU){return bv.removeButton(function(){eC.Set(cN.remove(eT,eC.Get()));},_0.Concat(bB.ofSeq(bc.delay(function(){return bc.append([_0.Button("AUTORIZAR DEBITO",[cS.Create("title","Autorizar pago recurrente"),cW.Dynamic("style",p.Map(function(eV){return T.get(eV,eT).authorizeIdR.$==0?"":"display:None";},eC.get_View()))],function(){var eV,eW,eX,eY;eW=T.get(eC.Get(),eT).authorizeIdR;eX=T.get(eC.Get(),eT).cuentaPago;switch(eW.$==0?eX.$==0?(eV=[eW.$0,eX.$0.titular],1):eX.$==1?(eV=[eW.$0,eX.$0.titular],1):2:(eV=eW.$0,0)){case 0:a.alert("Pago no está verificado en Authorize: "+eV);break;case 1:eY=eU();B.cuentaAutorizar().Set(eY);B.titular().Set(eV[1]);B.set_pid(eV[0]);m.endPointV().Set({$:3,$0:"ProzperLyt.cntAutorizacion"});break;case 2:a.alert("Autorizacion no esta implementada");break;}})],bc.delay(function(){return bc.append([_0.Element("br",[],[])],bc.delay(function(){return bc.append([eU()],bc.delay(function(){return[_0.Button("validar",[cS.Create("title","validar forma de pago"),cW.Dynamic("style",p.Map(function(eV){return T.get(eV,eT).authorizeIdR.$==0?"":"display:None";},eC.get_View()))],function(){eP(T.get(eC.Get(),eT));})];}));}));}));}))));}function eR(eT){return bF.New("",bd.Error$1(""),eT);}function eS(eT){return new bh.New(bc.choose(function(eU){var eV;eV=eU.authorizeIdR;return eV.$==0?{$:1,$0:eV.$0}:null;},eT));}eA=i.Create$1("");eB=i.Create$1(false);eC=i.Create$1([]);p.Sink(function(eT){eC.Set(eT);},m.formasPagoAliadoV().get_View());x.refrescarFormasPago();eD=p.Map(bc.indexed,eC.get_View());eE=p.Map(function(eT){function eU(eV,eW){return(x.ftar())[0](eW)==null?null:{$:1,$0:eV};}return bc.choose(function(eV){return eU(eV[0],eV[1]);},eT);},eD);eF=p.Map(function(eT){function eU(eV,eW){return(x.fcta())[0](eW)==null?null:{$:1,$0:eV};}return bc.choose(function(eV){return eU(eV[0],eV[1]);},eT);},eD);eG=_0.ConvertBy(a.id,function(eT){var eU;return eQ(eT,(eU=(function(eV){return eO(eV[0],eV[1]);}(x.ftar()))(eT),function(){return(cP.formaDocO(eU))[1];}));},eE);eH=_0.ConvertBy(a.id,function(eT){var eU;return eQ(eT,(eU=(function(eV){return eO(eV[0],eV[1]);}(x.fcta()))(eT),function(){return(cO.formaDocO(eU))[1];}));},eF);return(eI=(eJ=(eK=(eL=U.Make().WithHole({$:2,$0:"mensajes",$1:p.Map2(function(eT,eU){return eT?eU:"";},eB.get_View(),eA.get_View())}).WithHole({$:0,$0:"tarjetas",$1:eG}).WithHole({$:0,$0:"cuentas",$1:eH}),eL.WithHole(V.EventQ2(eL.k,"mastarjeta",function(){return eL.i;},function(){eC.Set(eC.Get().concat([eR(new cF({$:1,$0:M.tarVacio()}))]));}))),eK.WithHole(V.EventQ2(eK.k,"mascuenta",function(){return eK.i;},function(){eC.Set(eC.Get().concat([eR(new cF({$:0,$0:M.ctaVacio()}))]));}))).WithHole({$:2,$0:"changed",$1:p.Map2(function(eT,eU){return J.Equals(eT,eU)?"":"mui-btn--primary";},m.formasPagoAliadoV().get_View(),eC.get_View())}),eJ.WithHole(V.EventQ2(eJ.k,"salvar",function(){return eJ.i;},function(){var eT,eU,eV;eB.Set(true);eT=eA.Get();bj.Trim(eT)!==""?a.alert(eT):(eU=p.TryGet(ez),eU!=null&&eU.$==1?_1.iterA((eV=bp.asyncResult(),eV.Run(eV.Delay(function(){return eV.Combine$1(eV.For(bh.op_Subtraction(eS(m.formasPagoAliadoV().Get()),eS(eC.Get())),function(eW){return eV.Bind$1(_1.borrarFormaPago(eW),function(){return eV.Zero();});}),eV.Delay(function(){return eV.Combine$1(eV.For(eC.Get(),function(eW){var eX,eY,eZ,e0;eX=(eY=eW.cuentaPago,eY.$==1&&(!(eY.$0.numero.get_Id().indexOf("X")!=-1)&&(eZ=eY.$0,true))?{$:1,$0:_1.registrarTarjeta(eZ)}:eY.$==0&&(!(eY.$0.numero.get_Id().indexOf("X")!=-1)&&(e0=eY.$0,true))?{$:1,$0:_1.registrarCuenta(e0)}:null);return eX!=null&&eX.$==1?eV.Bind$1(eX.$0,function(){return eV.Zero();}):eV.Zero();}),eV.Delay(function(){x.refrescarFormasPago();br.refrescarData(true);return eV.Zero();}));}));})))):a.alert("Error not caught FormaDatos"));}))),(eM=V.CompleteHoles(eI.k,eI.h,[]),(eN=new S.New(eM[1],W.formacuentas(eM[0])),(eI.i=eN,eN)))).get_Doc();};x.msg=function(ez){var eA;eA=ez.authorizeIdR;return eA.$==0?(function(eB){return function(eC){return eB("Cuenta verificada: "+X.p$16(eC));};}(a.id))(eA.$0):eA.$0===""?"La cuenta aun no ha sido verificada":eA.$0;};x.refrescarFormasPago=function(){_1.iterA(cM.map(function(ez){m.formasPagoAliadoV().Set(ez);},_1.obtenerFormasDePago()));};x.fcta=function(){_6.$cctor();return _6.fcta;};x.ftar=function(){_6.$cctor();return _6.ftar;};y.consolidado=function(){var ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX;function eY(fb){return fb.nReferidos===0?"-":(((er.Curried3(function(fc,fd,fe){return fc(a.String(fd)+"/"+a.String(fe));}))(a.id))(fb.nRefActivos))(fb.nReferidos);}function eZ(fb){return fb.nDescendientes===0?"-":(((er.Curried3(function(fc,fd,fe){return fc(a.String(fd)+"/"+a.String(fe));}))(a.id))(fb.nDescActivos))(fb.nDescendientes);}function e0(fb){return fb===0?"-":m.money(fb);}function e1(fb){var fc,fd,fe;fc=(fd=fb==null?null:(fe=fb.$0,bc.tryFind(function(ff){return J.Equals(ff.id,fe);},m.modeloV().Get().aliados)),fd==null?null:{$:1,$0:O.nombre(fd.$0.datosPersonales)});return fc==null?"-":fc.$0;}function e2(fb){var fc;return bu.New(fb.docPendientes===0?(function(fd){return function(fe){return fd(bj.PadLeft(a.String(fe),2));};}(a.id))(fb.documentos):(((er.Curried3(function(fd,fe,ff){return fd("("+bj.PadLeft(a.String(fe),2)+")"+bj.PadLeft(a.String(ff),2));}))(a.id))(fb.docPendientes))(fb.documentos),O.nombre(fb.datosPersonales),O.correo(fb),(function(fd){return function(fe){return fd(X.p$1(fe));};}(a.id))(fb.status),(fc=fb.influyente,fc==null?"":fc.$0),(function(fd){return function(fe){return fd(X.p$2(fe));};}(a.id))(fb.tipo),e1(fb.idPadreO),(function(fd){return function(fe){return fd(bj.PadLeft(a.String(fe),9));};}(a.id))(fb.nivel),(function(fd){return function(fe){return fd(bj.PadLeft(bz.toSafe(fe),9));};}(a.id))(eY(fb)),(function(fd){return function(fe){return fd(bj.PadLeft(bz.toSafe(fe),9));};}(a.id))(eZ(fb)),(function(fd){return function(fe){return fd(bj.PadLeft(bz.toSafe(fe),9));};}(a.id))(e0(fb.comision)),bd["String.Right$1"]((function(fd){return function(fe){return fd(X.p$17(fe));};}(a.id))(fb.diaPago),2),bA.toYYYYMMDD("-",fb.fechaRegistro),(function(fd){return function(fe){return fd(bz.toSafe(fe));};}(a.id))(fb.id.get_Id()));}function e3(fb){return[fb.archivos,fb.nombre,fb.correo,fb.status,fb.influyente,fb.tipo,fb.referido,fb.nivel,fb.referidos,fb.descendientes,fb.comision,fb.diaPago,fb.desde,fb.Id];}function e4(fb,fc,fd){return function(fe){var ff;ff=fe[0];return[ff===fb?1:ff<fb?ff+1:ff,fb===ff&&fb===1?!fe[1]:fe[1],fe[2]];};}function e5(fb){eA.Set(bu.New((function(fc){return e4(fc[0],fc[1],fc[2]);}(fb))(eA.Get().archivos),(function(fc){return e4(fc[0],fc[1],fc[2]);}(fb))(eA.Get().nombre),(function(fc){return e4(fc[0],fc[1],fc[2]);}(fb))(eA.Get().correo),(function(fc){return e4(fc[0],fc[1],fc[2]);}(fb))(eA.Get().status),(function(fc){return e4(fc[0],fc[1],fc[2]);}(fb))(eA.Get().influyente),(function(fc){return e4(fc[0],fc[1],fc[2]);}(fb))(eA.Get().tipo),(function(fc){return e4(fc[0],fc[1],fc[2]);}(fb))(eA.Get().referido),(function(fc){return e4(fc[0],fc[1],fc[2]);}(fb))(eA.Get().nivel),(function(fc){return e4(fc[0],fc[1],fc[2]);}(fb))(eA.Get().referidos),(function(fc){return e4(fc[0],fc[1],fc[2]);}(fb))(eA.Get().descendientes),(function(fc){return e4(fc[0],fc[1],fc[2]);}(fb))(eA.Get().comision),(function(fc){return e4(fc[0],fc[1],fc[2]);}(fb))(eA.Get().diaPago),(function(fc){return e4(fc[0],fc[1],fc[2]);}(fb))(eA.Get().desde),(function(fc){return e4(fc[0],fc[1],fc[2]);}(fb))(eA.Get().Id)));}function e6(fb,fc){return ez.Set(T.map(function(fd){return J.Equals(fd.id,fb)?fc(fd):fd;},ez.Get()));}function e7(fb,fc){return e6(fb,function(fd){return N.New(fd.id,fd.idPadreO,fd.idForAuthorize,fd.influyente,fd.datosPersonales,fd.contactos,fd.identificacion,fd.isInternal,by.tryParse(fc),fd.diaPago,fd.tipo,fd.fechaRegistro,fd.fechaStatus,fd.nReferidos,fd.nRefActivos,fd.nDescendientes,fd.nDescActivos,fd.comision,fd.nivel,fd.documentos,fd.docPendientes);});}function e8(fb,fc){return e6(fb,function(fd){return N.New(fd.id,fd.idPadreO,fd.idForAuthorize,bj.Trim(fc)===""?null:{$:1,$0:bj.Trim(fc)},fd.datosPersonales,fd.contactos,fd.identificacion,fd.isInternal,fd.status,fd.diaPago,fd.tipo,fd.fechaRegistro,fd.fechaStatus,fd.nReferidos,fd.nRefActivos,fd.nDescendientes,fd.nDescActivos,fd.comision,fd.nivel,fd.documentos,fd.docPendientes);});}function e9(fb,fc){var fd;fd=fc===""?null:{$:1,$0:new _2({$:0,$0:fc})};return e6(fb,function(fe){return N.New(fe.id,fd,fe.idForAuthorize,fe.influyente,fe.datosPersonales,fe.contactos,fe.identificacion,fe.isInternal,fe.status,fe.diaPago,fe.tipo,fe.fechaRegistro,fe.fechaStatus,fe.nReferidos,fe.nRefActivos,fe.nDescendientes,fe.nDescActivos,fe.comision,fe.nivel,fe.documentos,fe.docPendientes);});}function e_(fb){return bc.tryFind(function(fc){return J.Equals(fc.id,fb);},m.modeloV().Get().aliados);}function e$(){var fb;_1.iterA((fb=bp.asyncResult(),fb.Run(fb.Delay(function(){return fb.Combine$1(fb.For(ez.Get(),function(fc){var fd,fe;fd=e_(fc.id);return fd!=null&&fd.$==1?(fe=fd.$0,!J.Equals(fc.status,fe.status)||!J.Equals(fc.idPadreO,fe.idPadreO)||!J.Equals(fc.influyente,fe.influyente)?fb.Bind$1(_1.ejecutarDataEventoNuevo({$:8,$0:[fc.id,fc.status,fc.idPadreO,fc.influyente]}),function(){return fb.Zero();}):fb.Zero()):fb.Zero();}),fb.Delay(function(){br.refrescarData(true);return fb.Zero();}));}))));}function fa(fb,fc){var fd,fe,ff,fg,fh,fi,fj,fk,fl,fm,fn,fo;return(fd=(fe=(ff=_0.BindView(a.id,p.Map(function(fp){return J.Equals(fp,{$:1,$0:new _2({$:0,$0:fb})})?eD.f():_0.get_Empty();},A.expandedOV().get_View())),(fg=_0.BindView(bv.crearOptions,bv.statuses().get_View()),(fh=new cR.New(p.Map(function(fp){return fp.influyente;},fc),(fi=new _2({$:0,$0:fb}),function(fp){return e8(fi,fp);})),(fj=new cR.New(p.Map(function(fp){return fp.status;},fc),(fk=new _2({$:0,$0:fb}),function(fp){return e7(fk,fp);})),(fl=new cR.New(p.Map(function(fp){return fp.referido;},fc),(fm=new _2({$:0,$0:fb}),function(fp){return e9(fm,fp);})),U.Make().WithHole({$:2,$0:"nombre",$1:p.Map(function(fp){return fp.nombre;},fc)}).WithHole({$:2,$0:"correo",$1:p.Map(function(fp){return fp.correo;},fc)}).WithHole({$:2,$0:"tipo",$1:p.Map(function(fp){return fp.tipo;},fc)}).WithHole({$:8,$0:"referido",$1:fl})).WithHole({$:8,$0:"status",$1:fj})).WithHole({$:8,$0:"influyente",$1:fh})).WithHole({$:0,$0:"statuses",$1:fg})).WithHole({$:2,$0:"nivel",$1:p.Map(function(fp){return fp.nivel;},fc)}).WithHole({$:2,$0:"referidos",$1:p.Map(function(fp){return fp.referidos;},fc)}).WithHole({$:2,$0:"descendientes",$1:p.Map(function(fp){return fp.descendientes;},fc)}).WithHole({$:2,$0:"comision",$1:p.Map(function(fp){return fp.comision;},fc)}).WithHole({$:2,$0:"diapago",$1:p.Map(function(fp){return fp.diaPago;},fc)}).WithHole({$:2,$0:"desde",$1:p.Map(function(fp){return fp.desde;},fc)}).WithHole({$:2,$0:"id",$1:p.Map(function(fp){return fp.Id;},fc)}).WithHole({$:0,$0:"detalles",$1:ff})),fe.WithHole(V.EventQ2(fe.k,"expandfiles",function(){return fe.i;},function(){var fp;fp=J.Equals(A.expandedOV().Get(),{$:1,$0:new _2({$:0,$0:fb})})?null:{$:1,$0:new _2({$:0,$0:fb})};A.expandedOV().Set(fp);}))).WithHole({$:2,$0:"expanded",$1:p.Map(function(fp){return fp.archivos;},fc)}),(fn=V.CompleteHoles(fd.k,fd.h,[["influyente",0],["status",0],["referido",0]]),(fo=new S.New(fn[1],W.filaconsolidado(fn[0])),(fd.i=fo,fo)))).get_Doc();}ez=i.Create$1([]);p.Sink(function(fb){ez.Set(fb);},p.Map(function(fb){return fb.aliados;},m.modeloV().get_View()));eA=i.Create$1(bu.New([1,false,function(fb){return fb.archivos.toUpperCase();}],[14,true,function(fb){return fb.nombre.toUpperCase();}],[13,true,function(fb){return fb.correo.toUpperCase();}],[3,true,function(fb){return fb.status.toUpperCase();}],[4,false,function(fb){return fb.influyente.toUpperCase();}],[5,true,function(fb){return fb.tipo.toUpperCase();}],[6,true,function(fb){return fb.referido.toUpperCase();}],[7,true,function(fb){return fb.nivel.toUpperCase();}],[8,true,function(fb){return fb.referidos.toUpperCase();}],[2,false,function(fb){return fb.descendientes.toUpperCase();}],[9,true,function(fb){return fb.comision.toUpperCase();}],[10,true,function(fb){return fb.diaPago.toUpperCase();}],[11,true,function(fb){return fb.desde.toUpperCase();}],[12,true,function(fb){return fb.Id.toUpperCase();}]));eB=i.Create$1("");eC=_0.BindView(function(fb){return bv.crearOptions2(bc.map(function(fc){return[O.nombre2(fc.datosPersonales),fc.id.get_Id()];},fb.aliados));},m.modeloV().get_View());eD=r.Create(function(){return _0.Element("tr",[cS.Create("bgcolor","beige")],[_0.Element("td",[cS.Create("colspan","12")],[A.listaDocs()])]);});return(eE=(eF=_0.ConvertSeqBy(function(fb){return fb.Id;},function(fb){return function(fc){return fa(fb,fc);};},p.Map3(function(fb,fc,fd){var fe,ff,fg;function fh(fk,fl,fm){return fm;}function fi(fk,fl,fm,fn){return be.op_AmpGreater(function(fo,fp){return(fk(fo))(fp);},function(fo,fp){return(fl(fo))(fp);},fm,fn);}function fj(fk,fl,fm){return(fl?er.Curried3(be.asc):er.Curried3(be.desc))(fm);}fe=bj.Trim(fd).toUpperCase();ff=T.map(function(fk){return fh(fk[0],fk[1],fk[2]);},e3(fc));fg=T.reduce(function(fk,fl){return er.Curried(fi,2,[fk,fl]);},T.map(function(fk){return fj(fk[0],fk[1],fk[2]);},T.sortBy(function(fk){return a.id(fk[0],fk[1],fk[2]);},e3(fc))));return bc.sortWith(function(fk,fl){return(fg(fk))(fl);},bc.filter(function(fk){return fe===""||bc.exists(function(fl){return fl(fk).indexOf(fe)!=-1;},ff);},bc.map(e2,fb)));},p.Map(function(fb){return fb.aliados;},m.modeloV().get_View()),eA.get_View(),eB.get_View())),(eG=(eH=(eI=(eJ=(eK=(eL=(eM=(eN=(eO=(eP=(eQ=(eR=(eS=(eT=(eU=(eV=U.Make(),eV.WithHole(V.EventQ2(eV.k,"salvar",function(){return eV.i;},function(){e$();}))),eU.WithHole(V.EventQ2(eU.k,"cancelar",function(){return eU.i;},function(){ez.Set(m.modeloV().Get().aliados);}))).WithHole({$:2,$0:"changed",$1:p.Map2(function(fb,fc){return J.Equals(fb.aliados,fc)?"":"mui-btn--primary";},m.modeloV().get_View(),ez.get_View())}).WithHole({$:8,$0:"filtro",$1:eB}).WithHole({$:0,$0:"referidores",$1:eC}),eT.WithHole(V.EventQ2(eT.k,"sort_archivos",function(){return eT.i;},function(){e5(eA.Get().archivos);}))),eS.WithHole(V.EventQ2(eS.k,"sort_nombre",function(){return eS.i;},function(){e5(eA.Get().nombre);}))),eR.WithHole(V.EventQ2(eR.k,"sort_correo",function(){return eR.i;},function(){e5(eA.Get().correo);}))),eQ.WithHole(V.EventQ2(eQ.k,"sort_status",function(){return eQ.i;},function(){e5(eA.Get().status);}))),eP.WithHole(V.EventQ2(eP.k,"sort_influyente",function(){return eP.i;},function(){e5(eA.Get().influyente);}))),eO.WithHole(V.EventQ2(eO.k,"sort_tipo",function(){return eO.i;},function(){e5(eA.Get().tipo);}))),eN.WithHole(V.EventQ2(eN.k,"sort_referido",function(){return eN.i;},function(){e5(eA.Get().referido);}))),eM.WithHole(V.EventQ2(eM.k,"sort_nivel",function(){return eM.i;},function(){e5(eA.Get().nivel);}))),eL.WithHole(V.EventQ2(eL.k,"sort_referidos",function(){return eL.i;},function(){e5(eA.Get().referidos);}))),eK.WithHole(V.EventQ2(eK.k,"sort_descendientes",function(){return eK.i;},function(){e5(eA.Get().descendientes);}))),eJ.WithHole(V.EventQ2(eJ.k,"sort_comision",function(){return eJ.i;},function(){e5(eA.Get().comision);}))),eI.WithHole(V.EventQ2(eI.k,"sort_diapago",function(){return eI.i;},function(){e5(eA.Get().diaPago);}))),eH.WithHole(V.EventQ2(eH.k,"sort_desde",function(){return eH.i;},function(){e5(eA.Get().desde);}))),eG.WithHole(V.EventQ2(eG.k,"sort_id",function(){return eG.i;},function(){e5(eA.Get().Id);}))).WithHole({$:0,$0:"tbody",$1:eF})),(eW=V.CompleteHoles(eE.k,eE.h,[["filtro",0]]),(eX=new S.New(eW[1],W.consolidado(eW[0])),(eE.i=eX,eX)))).get_Doc();};z.comisiones=function(){var ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK;function eL(eP,eQ){return eQ===""?eP:eQ;}function eM(){var eP;cU.Start((eP=null,cU.Delay(function(){return cU.Bind(p.GetAsync(ez),function(eQ){a.saveAs(new bN([bj.concat("\r\n",bc.map(function(eR){var eS,eT;eS=eR[0];eT=eR[1];return(((((((er.Curried(function(eU,eV,eW,eX,eY,eZ,e0){return eU(bz.toSafe(eV)+","+bz.toSafe(eW)+","+bz.toSafe(eX)+","+bz.toSafe(eY)+","+bz.prettyPrint(eZ)+","+bz.prettyPrint(e0));},7))(a.id))("22"))(eL("----------",eT.numero.get_Id())))(eL("----------",eT.routing.get_Id())))((function(eU){return function(eV){return eU(a.String(eV)+".00");};}(a.id))(eS.comision)))("----------"))(eT.titular===""?O.nombre2(eS.datosPersonales):eT.titular);},eQ))],{type:"text/plain;charset=utf-8"}),"pagos.csv");return cU.Zero();});})),null);}function eN(eP,eQ){return eP.id;}function eO(eP,eQ){var eR,eS,eT,eU,eV;eR=p.Map(function(eW){return eW[0];},eQ);eS=p.Map(function(eW){return eW[1];},eQ);return(eT=U.Make().WithHole({$:1,$0:"codigo",$1:"22"}).WithHole({$:2,$0:"cuenta",$1:p.Map(function(eW){return eL("----------",eW.numero.get_Id());},eS)}).WithHole({$:2,$0:"aba",$1:p.Map(function(eW){return eL("----------",eW.routing.get_Id());},eS)}).WithHole({$:2,$0:"monto",$1:p.Map(function(eW){return(function(eX){return function(eY){return eX(a.String(eY)+".00");};}(a.id))(eW.comision);},eR)}).WithHole({$:1,$0:"identificacion",$1:"---------"}).WithHole({$:2,$0:"nombre",$1:p.Map2(function(eW,eX){return eL(O.nombre2(eW.datosPersonales),eX.titular);},eR,eS)}),(eU=V.CompleteHoles(eT.k,eT.h,[]),(eV=new S.New(eU[1],W.filapago(eU[0])),(eT.i=eV,eV)))).get_Doc();}ez=p.MapAsync(function(eP){var eQ,eR,eS;function eT(eU){return cU.Return(eU);}return cU.Bind((eQ=bp.asyncResult(),eQ.Run(eQ.Delay(function(){var eU;eU=bc.filter(function(eV){return eV.comision>0;},eP);return eQ.Bind$1(_1.obtenerFormasDePagoPara(T.ofSeq(bc.map(function(eV){return eV.id;},eU))),function(eV){function eW(eY,eZ){return J.Equals(eY.id,eZ[0])?{$:1,$0:[eY,eZ[1]]}:null;}function eX(eY,eZ){var e0,e1;return[eY,(e0=bc.tryPick(function(e2){var e3;e3=e2.cuentaPago;return e3.$==0?{$:1,$0:e3.$0}:null;},eZ),(e1=M.ctaVacio(),e0==null?e1:e0.$0))];}return eQ.Return(bc.choose(function(eY){return eW(eY[0],eY[1]);},bc.zip(eU,bc.map(function(eY){return eX(eY[0],eY[1]);},eV))));});}))),(eR=(eS=[],function(eU){return bG.defaultValue(eS,eU);}),function(eU){return eT(eR(eU));}));},p.Map(function(eP){return eP.aliados;},m.modeloV().get_View()));return(eA=(eB=bB.ofArray([(eC=U.Make().WithHole({$:2,$0:"codigo",$1:p.Map(function(eP){return(function(eQ){return function(eR){return eQ(a.String(eR));};}(a.id))(bc.length(eP));},ez)}).WithHole({$:1,$0:"cuenta",$1:""}).WithHole({$:1,$0:"aba",$1:""}).WithHole({$:2,$0:"monto",$1:p.Map(function(eP){function eQ(eR,eS){return eR.comision;}return(function(eR){return function(eS){return eR(a.String(eS)+".00");};}(a.id))(bc.sumBy(function(eR){return eQ(eR[0],eR[1]);},eP));},ez)}).WithHole({$:1,$0:"identificacion",$1:""}).WithHole({$:1,$0:"nombre",$1:""}),(eD=V.CompleteHoles(eC.k,eC.h,[]),(eE=new S.New(eD[1],W.filapago(eD[0])),(eC.i=eE,eE)))).get_Doc(),(eF=U.Make().WithHole({$:1,$0:"codigo",$1:""}).WithHole({$:1,$0:"cuenta",$1:""}).WithHole({$:1,$0:"aba",$1:""}).WithHole({$:1,$0:"monto",$1:"--------------------"}).WithHole({$:1,$0:"identificacion",$1:""}).WithHole({$:1,$0:"nombre",$1:""}),(eG=V.CompleteHoles(eF.k,eF.h,[]),(eH=new S.New(eG[1],W.filapago(eG[0])),(eF.i=eH,eH)))).get_Doc(),_0.ConvertSeqBy(function(eP){return eN(eP[0],eP[1]);},function(eP){return function(eQ){return eO(eP,eQ);};},ez)]),(eI=U.Make(),eI.WithHole(V.EventQ2(eI.k,"exportar",function(){return eI.i;},function(){eM();}))).WithHole({$:0,$0:"tbody",$1:_0.Concat(eB)})),(eJ=V.CompleteHoles(eA.k,eA.h,[]),(eK=new S.New(eJ[1],W.tablapagos(eJ[0])),(eA.i=eK,eK)))).get_Doc();};A.listaDocs=function(){var ez,eA,eB,eC,eD,eE,eF,eG,eH;function eI(){var eL;_1.iterA((eL=bp.asyncResult(),eL.Run(eL.Delay(function(){eA.Set([]);ez.Set([]);return bI["AsyncResultBuilder.Bind"](eL,p.GetAsync(A.aliadoIdW()),function(eM){return eL.Bind$1(_1.obtenerListaDocs(eM),function(eN){eA.Set(eN);ez.Set(eN);return eL.Zero();});});}))));}function eJ(eL){return function(eM,eN){var eO;return _1.iterA((eO=bp.asyncResult(),eO.Run(eO.Delay(function(){eI();return eO.Bind$1(_1.ejecutarDataEventoNuevo({$:9,$0:[new _2({$:0,$0:eL}),T.ofSeq(ez["var"].Get())]}),function(){br.refrescarData(true);a.alert(eN);return eO.Zero();});}))));};}function eK(eL,eM){var eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW;eL.preventDefault();eR=a.jQuery("#SubirDocumentos");eS=new a.FormData();eT=eR.serializeArray();for(eU=0,eV=eT.length-1;eU<=eV;eU++){eW=T.get(eT,eU);eS.append(eW.name,eW.value);}eO=eR.children("input[type=file]").first().get(0).files.item(0);eP=eO.name;eS.append("file",eO);et.ajax((eQ={},eQ.type="POST",eQ.url="/api/subir/"+eM+"/"+eP,eQ.data=eS,eQ.contentType=false,eQ.processData=false,eQ.success=eJ(eM),eQ));}ez=_7.Create(function(eL){return eL.nombre;},[]);eA=_7.Create(function(eL){return eL.nombre;},[]);p.Sink(function(eL){if(!J.Equals(eL,new _2({$:0,$0:""})))eI();},A.aliadoIdW());return(eB=(eC=(eD=_0.EmbedView(p.Map(bv.crearOptions,bv.tiposAr().get_View())),(eE=(eF=bJ.docLensMapView(a.id,function(eL,eM){var eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY;return(eN=(eO=cW.DynamicPred("disabled",p.Map(function(eZ){return J.Equals(eZ.idAliado,n.get_LoggedId());},eM.get_View()),p.Const("")),(eP=_0.EmbedView(p.Map(bv.crearOptions,bv.statusAr().get_View())),(eQ=p.Map(function(eZ){return eZ.get_Id();},A.aliadoIdW()),(eR=new cR.New(p.Map(function(eZ){return a.String(eZ.status);},eM.get_View()),(eS=(eT=i.Lens(eM,function(eZ){return eZ.status;},function(eZ,e0){return bH.New(eZ.idAliado,eZ.tipo,eZ.nombre,eZ.modificado,eZ.tamano,e0,eZ.comentario);}),function(eZ){eT.Set(eZ);}),function(eZ){return eS(bM.Parse(eZ));})),(eU=new cR.New(p.Map(function(eZ){return a.String(eZ.tipo);},eM.get_View()),(eV=(eW=i.Lens(eM,function(eZ){return eZ.tipo;},function(eZ,e0){return bH.New(eZ.idAliado,e0,eZ.nombre,eZ.modificado,eZ.tamano,eZ.status,eZ.comentario);}),function(eZ){eW.Set(eZ);}),function(eZ){return eV(bL.Parse(eZ));})),U.Make().WithHole({$:2,$0:"nombre",$1:p.Map(function(eZ){return eZ.nombre;},eM.get_View())}).WithHole({$:8,$0:"tipo",$1:eU})).WithHole({$:8,$0:"status",$1:eR})).WithHole({$:2,$0:"tamano",$1:p.Map(function(eZ){return bK.thousands(eZ.tamano);},eM.get_View())}).WithHole({$:2,$0:"modificado",$1:p.Map(function(eZ){return bA.toYYYYMMDDHHMM("-",eZ.modificado);},eM.get_View())}).WithHole({$:2,$0:"idaliado",$1:eQ})).WithHole({$:0,$0:"statuses",$1:eP})).WithHole({$:3,$0:"disabled",$1:eO})),(eX=V.CompleteHoles(eN.k,eN.h,[["tipo",0],["status",0]]),(eY=new S.New(eX[1],W.filadocs(eX[0])),(eN.i=eY,eY)))).get_Doc();},ez),U.Make().WithHole({$:0,$0:"tbody",$1:eF})),eE.WithHole(V.EventQ2(eE.k,"subir",function(){return eE.i;},function(eL){var eM;p.Get((eM=eL.Event,function(eN){return eK(eM,eN);}),p.Map(function(eN){return eN.get_Id();},A.aliadoIdW()));}))).WithHole({$:0,$0:"tiposarchivo",$1:eD})).WithHole({$:2,$0:"changed",$1:p.Map2(function(eL,eM){return J.Equals(eL,eM)?"":"mui-btn--primary";},eA.v,ez.v)}),eC.WithHole(V.EventQ2(eC.k,"salvar",function(){return eC.i;},function(){var eL;_1.iterA((eL=bp.asyncResult(),eL.Run(eL.Delay(function(){var eM;eM=T.ofSeq(bc.filter(function(eN){return!J.Equals(bc.tryFind(function(eO){return eO.nombre===eN.nombre;},eA["var"].Get()),{$:1,$0:eN});},ez["var"].Get()));return!bc.isEmpty(eM)?bI["AsyncResultBuilder.Bind"](eL,p.GetAsync(A.aliadoIdW()),function(eN){return eL.Bind$1(_1.ejecutarDataEventoNuevo({$:9,$0:[eN,eM]}),function(eO){eI();a.alert((function(eP){return function(eQ){return eP(X.p$15(eQ));};}(a.id))(eO));return eL.Zero();});}):eL.Zero();}))));}))),(eG=V.CompleteHoles(eB.k,eB.h,[]),(eH=new S.New(eG[1],W.subirdocumentos(eG[0])),(eB.i=eH,eH)))).get_Doc();};A.expandedOV=function(){_6.$cctor();return _6.expandedOV;};A.aliadoIdW=function(){_6.$cctor();return _6.aliadoIdW;};B.formaAutorizacion=function(){var ez,eA,eB,eC,eD;ez=(eA=(eB=_0.EmbedView(B.cuentaAutorizar().get_View()),U.Make().WithHole({$:2,$0:"titular",$1:B.titular().get_View()}).WithHole({$:2,$0:"montoafiliacion",$1:p.Map(function(eE){return(function(eF){return function(eG){return eF("$"+a.String(eG)+".00");};}(a.id))(eE.premisas.montoAfiliacion);},m.modeloV().get_View())}).WithHole({$:2,$0:"dia",$1:p.Map(function(eE){return a.String(O.dia(eE.diaPago));},m.aliadoW())}).WithHole({$:0,$0:"cuentadebitar",$1:eB})),(eC=V.CompleteHoles(eA.k,eA.h,[]),(eD=new S.New(eC[1],W.autorizacionpago(eC[0])),(eA.i=eD,eD)))).get_Doc();return bO.formaFirma(B.titular().get_View(),ez,bL.Autorizacion,B.actualizarSubscripcion,"AutorizacionPago");};B.titular=function(){_6.$cctor();return _6.titular;};B.actualizarSubscripcion=function(){var ez;ez=_1.actualizarSubscripcion(B.pid());return cM.map(function(eA){return function(eB){return eA("Subscripción #"+bz.toSafe(eB)+" creada.");};}(a.id),ez);};B.cuentaAutorizar=function(){_6.$cctor();return _6.cuentaAutorizar;};B.set_pid=function(ez){_6.$cctor();_6.pid=ez;};B.pid=function(){_6.$cctor();return _6.pid;};C.formaContrato=function(){var ez,eA,eB,eC;ez=p.Map(function(eD){return O.nombre2(eD.datosPersonales);},m.aliadoW());return bO.formaFirma(ez,(eA=U.Make().WithHole({$:2,$0:"aliado",$1:ez}),(eB=V.CompleteHoles(eA.k,eA.h,[]),(eC=new S.New(eB[1],W.contrato(eB[0])),(eA.i=eC,eC)))).get_Doc(),bL.Contrato,C.firmarContrato,"Contrato");};C.firmarContrato=function(){return cM.rtn("Contrato firmado!");};D.transacciones=function(){return m.selAliadoIdDoc(D.docTransacciones);};D.docTransacciones=function(ez){var eA,eB,eC,eD;function eE(eG,eH){var eI,eJ,eK;return(eI=U.Make().WithHole({$:2,$0:"fecha",$1:p.Map(function(eL){return bA.toYYYYMMDDHHMM("-",eL.fechaPago);},eH)}).WithHole({$:2,$0:"transid",$1:p.Map(function(eL){return eL.transaccion;},eH)}).WithHole({$:2,$0:"cuenta",$1:p.Map(function(eL){return a.String(eL.concepto);},eH)}).WithHole({$:2,$0:"status",$1:p.Map(function(eL){return eL.statusTran;},eH)}).WithHole({$:2,$0:"monto",$1:p.Map(function(eL){return(function(eM){return function(eN){return eM(eN.toFixed(2));};}(a.id))(eL.monto/100);},eH)}),(eJ=V.CompleteHoles(eI.k,eI.h,[]),(eK=new S.New(eJ[1],W.transaccion(eJ[0])),(eI.i=eK,eK)))).get_Doc();}function eF(eG,eH){return bc.sortBy(function(eI){return eI.fechaPago;},bc.filter(function(eI){return J.Equals(eI.idAliado,eH.id);},eG));}return(eA=(eB=_0.ConvertSeqBy(function(eG){return eG.transaccion;},function(eG){return function(eH){return eE(eG,eH);};},(((er.Curried3(p.Map2))(eF))(D.transaccionesW()))(ez)),U.Make().WithHole({$:0,$0:"tbody",$1:eB})),(eC=V.CompleteHoles(eA.k,eA.h,[]),(eD=new S.New(eC[1],W.transacciones(eC[0])),(eA.i=eD,eD)))).get_Doc();};D.transaccionesW=function(){_6.$cctor();return _6.transaccionesW;};E.pendientes=function(ez){return _0.BindView(a.id,p.MapAsync(function(eA){var eB;eB=null;return cU.Delay(function(){return cU.Bind(E.chequearStatusAliado(eA,_1.obtenerListaDocs(eA.id),(new bS.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerFormasDePagoId:-1441558235",[eA.id])),function(eC){return eC.$==1?cU.Return(_0.TextNode(eC.$0)):cU.Return(eC.$0);});});},ez));};E.chequearStatusAliado=function(ez,eA,eB){var eC;eC=bp.asyncResult();return eC.Run(eC.Delay(function(){return ez.status.$==0?eC.Bind$1(eA,function(eD){return eC.Bind$1(eB,function(eE){var eF;eF=bc.filter(function(eG){return eG.authorizeIdR.$==0;},eE);return eC.Return(_0.Concat(bB.ofSeq(bc.delay(function(){var eG;return bc.append([E.chequearArchivos((eG=bL.Contrato,function(eH){return E.esArchivoTipo(eG,eH);}),E.firmarContrato,eD)],bc.delay(function(){return bc.append([E.chequearCuentas(function(){return true;},E.agregarCuenta,eE)],bc.delay(function(){return bc.append(bc.length(eF)>0?[E.chequearArchivos(function(eH){return E.esAutorizacion(eF,eH);},E.firmarAutorizacion,eD)]:[],bc.delay(function(){var eH;return bc.append([E.chequearArchivos((eH=bL.FormaW9,function(eI){return E.esArchivoTipo(eH,eI);}),function(){return E.subirArchivoTipo(bL.FormaW9);},eD)],bc.delay(function(){var eI;return bc.append([E.chequearArchivos((eI=bL.FormaW8BEN,function(eJ){return E.esArchivoTipo(eI,eJ);}),function(){return E.subirArchivoTipo(bL.FormaW8BEN);},eD)],bc.delay(function(){return[E.chequearArchivos(E.esIdentificacion,E.subirIdentificacion,eD)];}));}));}));}));}));}))));});}):eC.Return(_0.get_Empty());}));};E.chequearArchivos=function(ez,eA,eB){var eC;eC=E.filtroArchivo(ez,eB);return!J.Equals(eC,null)&&eC.length===0?eA():_0.Concat(bc.map(E.verificarArchivo,eC));};E.firmarContrato=function(){return E.pendiente(bB.ofArray([_0.TextNode("Firmar "),_0.Element("a",[cS.Create("href","/#/Content/ProzperLyt.cntFormaContrato")],[_0.TextNode("Contrato")])]));};E.esArchivoTipo=function(ez,eA){return J.Equals(eA.tipo,ez);};E.chequearCuentas=function(ez,eA,eB){var eC;eC=E.filtroCuenta(ez,eB);return!J.Equals(eC,null)&&eC.length===0?eA():_0.Concat(bc.map(E.verificarCuenta,eC));};E.agregarCuenta=function(){return E.pendiente(bB.ofArray([_0.TextNode("Agregar Forma de pago: "),_0.Element("a",[cS.Create("href","/#/Content/ProzperLyt.cntFormaFormasPago")],[_0.TextNode("Tarjeta de Credito o Cuenta Bancaria")])]));};E.firmarAutorizacion=function(){return E.pendiente(bB.ofArray([_0.TextNode("Firmar "),_0.Element("a",[cS.Create("href","/#/Content/ProzperLyt.cntFormaFormasPago")],[_0.TextNode("Autorizacion (de click en: AUTORIZAR DEBITO)")])]));};E.esAutorizacion=function(ez,eA){return eA.tipo.$===1&&bc.exists(function(eB){return eA.nombre.indexOf(eB.cuentaPago.get_MaskedCuenta())!=-1;},ez);};E.subirArchivoTipo=function(ez){return E.pendiente(bB.ofArray([_0.TextNode("Subir "),_0.Element("a",[cS.Create("href","/#/Content/ProzperLyt.cntSubirDocumentos")],[_0.TextNode((function(eA){return function(eB){return eA(X.p$5(eB));};}(a.id))(ez))])]));};E.esIdentificacion=function(ez){var eA;eA=ez.tipo;return eA.$==2||(eA.$==3||eA.$==4);};E.subirIdentificacion=function(){return E.pendiente(bB.ofArray([_0.TextNode("Subir documento de identidad: "),_0.Element("a",[cS.Create("href","/#/Content/ProzperLyt.cntSubirDocumentos")],[_0.TextNode("Cedula, Pasaporte, Licencia de Conducir")])]));};E.filtroArchivo=function(ez,eA){return T.ofSeq(bc.filter(ez,bc.filter(function(eB){return eB.status.$!==3&&eB.status.$!==4;},eA)));};E.verificarArchivo=function(ez){var eA;eA=ez.status;return eA.$==1?_0.TextNode((((er.Curried3(function(eB,eC,eD){return eB(X.p$5(eC)+" Verificado ("+bz.toSafe(eD)+")");}))(a.id))(ez.tipo))(eA.$0)):E.pendienteArchivo(ez);};E.pendiente=function(ez){return _0.Element("li",[],ez);};E.filtroCuenta=function(ez,eA){return T.ofSeq(bc.filter(ez,eA));};E.verificarCuenta=function(ez){var eA;eA=ez.authorizeIdR;return eA.$==1?_0.TextNode((((er.Curried3(function(eB,eC,eD){return eB(bz.toSafe(eC)+" NO REGISTRADA en Authorize ("+bz.toSafe(eD)+")");}))(a.id))(a.String(ez.cuentaPago)))(eA.$0)):_0.TextNode((((er.Curried3(function(eB,eC,eD){return eB(bz.toSafe(eC)+" Registrada ("+bz.toSafe(eD)+")");}))(a.id))(a.String(ez.cuentaPago)))(eA.$0.get_Id()));};E.pendienteArchivo=function(ez){return E.pendiente(bB.ofArray([_0.Element("a",[cS.Create("href",(((er.Curried3(function(eA,eB,eC){return eA("https://prozper0.azurewebsites.net/documentos/"+bz.toSafe(eB)+"/"+bz.toSafe(eC));}))(a.id))(ez.idAliado.get_Id()))(ez.nombre))],[_0.TextNode((function(eA){return function(eB){return eA(X.p$5(eB));};}(a.id))(ez.tipo))]),_0.TextNode(" pendiente de Verificacion")]));};I.GetFields=function(ez){var eA,eB;eA=[];for(var eC in ez)eA.push([eC,ez[eC]]);return eA;};I.GetFieldValues=function(ez){var eA,eB;eA=[];for(var eC in ez)eA.push(ez[eC]);return eA;};J.Equals=function(ez,eA){var eB,eC,eD,eE;if(ez===eA)return true;else{eB=typeof ez;if(eB=="object"){if(ez===null||ez===void 0||eA===null||eA===void 0)return false;else if("Equals"in ez)return ez.Equals(eA);else if(ez instanceof a.Array&&eA instanceof a.Array)return J.arrayEquals(ez,eA);else if(ez instanceof a.Date&&eA instanceof a.Date)return J.dateEquals(ez,eA);else{eC=[true];for(var eF in ez)if(function(eG){eC[0]=!ez.hasOwnProperty(eG)||eA.hasOwnProperty(eG)&&J.Equals(ez[eG],eA[eG]);return!eC[0];}(eF))break;if(eC[0]){for(var eG in eA)if(function(eH){eC[0]=!eA.hasOwnProperty(eH)||ez.hasOwnProperty(eH);return!eC[0];}(eG))break;}return eC[0];}}else return eB=="function"&&("$Func"in ez?ez.$Func===eA.$Func&&ez.$Target===eA.$Target:"$Invokes"in ez&&"$Invokes"in eA&&J.arrayEquals(ez.$Invokes,eA.$Invokes));}};J.arrayEquals=function(ez,eA){var eB,eC;if(T.length(ez)===T.length(eA)){eB=true;eC=0;while(eB&&eC<T.length(ez)){!J.Equals(T.get(ez,eC),T.get(eA,eC))?eB=false:void 0;eC=eC+1;}return eB;}else return false;};J.dateEquals=function(ez,eA){return ez.getTime()===eA.getTime();};J.Compare=function(ez,eA){var eB,eC,eD,eE,eF,eG;if(ez===eA)return 0;else{eC=typeof ez;switch(eC=="function"?1:eC=="boolean"?2:eC=="number"?2:eC=="string"?2:eC=="object"?3:0){case 0:return typeof eA=="undefined"?0:-1;case 1:return o.FailWith("Cannot compare function values.");case 2:return ez<eA?-1:1;case 3:if(ez===null)eD=-1;else if(eA===null)eD=1;else if("CompareTo"in ez)eD=ez.CompareTo(eA);else if("CompareTo0"in ez)eD=ez.CompareTo0(eA);else if(ez instanceof a.Array&&eA instanceof a.Array)eD=J.compareArrays(ez,eA);else if(ez instanceof a.Date&&eA instanceof a.Date)eD=J.compareDates(ez,eA);else{eE=[0];for(var eH in ez)if(function(eI){return!ez.hasOwnProperty(eI)?false:!eA.hasOwnProperty(eI)?(eE[0]=1,true):(eE[0]=J.Compare(ez[eI],eA[eI]),eE[0]!==0);}(eH))break;if(eE[0]===0){for(var eI in eA)if(function(eJ){return!eA.hasOwnProperty(eJ)?false:!ez.hasOwnProperty(eJ)&&(eE[0]=-1,true);}(eI))break;}eD=eE[0];}return eD;}}};J.compareArrays=function(ez,eA){var eB,eC;if(T.length(ez)<T.length(eA))return -1;else if(T.length(ez)>T.length(eA))return 1;else{eB=0;eC=0;while(eB===0&&eC<T.length(ez)){eB=J.Compare(T.get(ez,eC),T.get(eA,eC));eC=eC+1;}return eB;}};J.compareDates=function(ez,eA){return J.Compare(ez.getTime(),eA.getTime());};J.Hash=function(ez){var eA;eA=typeof ez;return eA=="function"?0:eA=="boolean"?ez?1:0:eA=="number"?ez:eA=="string"?J.hashString(ez):eA=="object"?ez==null?0:ez instanceof a.Array?J.hashArray(ez):J.hashObject(ez):0;};J.hashString=function(ez){var eA,eB,eC;if(ez===null)return 0;else{eA=5381;for(eB=0,eC=ez.length-1;eB<=eC;eB++)eA=J.hashMix(eA,ez[eB].charCodeAt());return eA;}};J.hashArray=function(ez){var eA,eB,eC;eA=-34948909;for(eB=0,eC=T.length(ez)-1;eB<=eC;eB++)eA=J.hashMix(eA,J.Hash(T.get(ez,eB)));return eA;};J.hashObject=function(ez){var eA,eB;if("GetHashCode"in ez)return ez.GetHashCode();else{eA=[0];for(var eC in ez)if(function(eD){eA[0]=J.hashMix(J.hashMix(eA[0],J.hashString(eD)),J.Hash(ez[eD]));return false;}(eC))break;return eA[0];}};J.hashMix=function(ez,eA){return(ez<<5)+ez+eA;};K.newLyt=function(ez,eA){return bW.New(ez,i.Create$1(eA));};K.addLayout=function(ez){p.Sink(function(eA){var eB;eB=K.createEntries(ez.lytName,eA);k.addPlugIn(l.New(ez.lytName,T.ofSeq(bc.delay(function(){return bc.append([k.newVar("Layout",ez.lytDefinition)],bc.delay(function(){return K.getVarEntries(eB);}));})),[],T.ofSeq(bc.delay(function(){return bc.append(K.getDocEntries(eB),bc.delay(function(){var eC;return bc.append([k.newDocF("InputFile",{$:4,$0:(eC=ez.lytName,er.Curried(K.inputFile,4,[eC])),$1:"attrs",$2:"Label",$3:"Action",$4:"[Doc]"})],bc.delay(function(){var eD;return bc.append([k.newDocF("InputLabel",{$:3,$0:(eD=ez.lytName,er.Curried(K.inputLabel,3,[eD])),$1:"attrs",$2:"Label",$3:"Var"})],bc.delay(function(){var eE;return bc.append([k.newDocF("HtmlDoc",{$:1,$0:(eE=ez.lytName,function(eF){return K.htmlDoc(eE,eF);}),$1:"html"})],bc.delay(function(){return[k.newDocF("none",{$:1,$0:K.none,$1:"x"})];}));}));}));}));})),[],[]));k.mainDocV().Set(k.mainDocV().Get());},ez.lytDefinition.get_View());};K.createEntries=function(ez,eA){return K.processLines(function(eB){return K.createEntryO(ez,eB);},bK.splitByChar("\n",eA));};K.getVarEntries=function(ez){function eA(eB){return eB[1];}return bc.map(function(eB){return bc.last(eA(eB));},bc.groupBy(function(eB){return eB.varName;},bc.choose(function(eB){return eB.$==0?{$:1,$0:eB.$0}:null;},ez)));};K.getDocEntries=function(ez){function eA(eB){return eB[1];}return bc.map(function(eB){return bc.last(eA(eB));},bc.groupBy(function(eB){return eB.docName;},bc.choose(function(eB){return eB.$==2?{$:1,$0:eB.$0}:null;},ez)));};K.inputFile=function(ez,eA,eB,eC,eD){var eE,eF,eG,eH;eE=(eF=(eG=((K.splitName())(ez))(eC),k.tryGetAct(eG[0],eG[1])),eF==null?null:{$:1,$0:(eH=eF.$0,_0.Element("div",K.getAttrs(ez,eA,true),[_0.Element("div",[cS.Create("class","input-group")],[_0.Element("span",[cS.Create("class","input-group-btn")],[_0.Element("label",[cS.Create("class","btn")],[K.getText(ez,eB,true),_0.Element("input",[cS.Create("class","form-control"),cS.Create("type","file"),cW.Style("display","none"),cS.HandlerImpl("click",function(eI){return function(){eI.value="";};}),cS.HandlerImpl("change",function(eI){return function(){return k.callFunction(eI,null,eH.actFunction);};})],[])])]),eD!==""?K.singleDoc(ez,bB.ofArray([[eD,false]])):_0.get_Empty()])]))});return eE==null?K.errDoc((function(eI){return function(eJ){return eI("Action not found "+bz.toSafe(eJ));};}(a.id))(eC)):eE.$0;};K.inputLabel=function(ez,eA,eB,eC){var eD,eE,eF;eD=(eE=(eF=((K.splitName())(ez))(eC),k.tryGetVar(eF[0],eF[1])),eE==null?null:{$:1,$0:_0.Element("div",K.getAttrs(ez,eA,true),[_0.Element("div",[cS.Create("class","input-group")],[_0.Element("span",[cS.Create("class","input-group-addon")],[K.getText(ez,eB,true)]),_0.Input([cS.Create("class","form-control")],eE.$0.varVar)])])});return eD==null?K.errDoc((function(eG){return function(eH){return eG("Var not found "+bz.toSafe(eH));};}(a.id))(eC)):eD.$0;};K.htmlDoc=function(ez,eA){var eB;eB=K.getTextData(ez,eA);return eB.$==1?_0.BindView(_0.Verbatim,eB.$0):eB.$==2?K.errDoc((function(eC){return function(eD){return eC("HtmlDoc: unexpected action "+Z.p$1(eD));};}(a.id))(eB.$0)):_0.Verbatim(eB.$0);};K.none=function(ez){return _0.Element("span",[],[]);};K.turnToView=function(ez){return _0.EmbedView(p.Map(ez,k.mainDocV().get_View()));};K.splitName=function(){bX.$cctor();return bX.splitName;};K.getDocFinal=function(ez,eA){var eB;eB=K.getDocF(ez,eA);return eB[1].$==0?eB[0]:K.errDoc((((er.Curried3(function(eC,eD,eE){return eC("Too many parameters "+Z.p(eD)+" "+bz.printList(function(eF){return"("+bz.prettyPrint(eF[0])+", "+bz.prettyPrint(eF[1])+")";},eE));}))(a.id))(eA))(ez));};K.errDoc=function(ez){return _0.Element("div",[],[_0.TextNode(ez)]);};K.processLines=function(ez,eA){function eB(eC){var eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ;eD=bc.tryHead(eC);return eD!=null&&eD.$==1?(eE=eD.$0,(eF=K.splitTokens(eE),eF.$==1&&(eH=(eI=eF.$0,K.Identifier(eI[0],eI[1])),eH!=null&&eH.$==1&&(eF.$1.$==1&&((eJ=eF.$1.$0,K.Vertical(eJ[0],eJ[1])).$==2&&(eF.$1.$1.$==0&&(eG=eH.$0,true)))))?(eK=K.getExtraLines(function(eR){return bj.StartsWith(bj.Trim(eR),"|");},eC),eB((ds.createLayoutDefinitions(eG,ds.extractNodes(eK[0])))[1].concat(eK[1]))):eF.$==0?eB(cd.array(eC,{$:1,$0:1},null)):(eL=K.getExtraLines(function(eR){return bj.StartsWith(bj.Trim(eR),":");},eC),(eM=eL[1],(eN=eL[0],T.length(eN)>0?((function(eR){return function(eS){return eR("l = ;"+bz.toSafe(eS)+";");};}(function(eR){eu.log(eR);}))(eE),eO=K.createLines(bc.nth(0,bj.SplitChars(eE,[" "],1)),1,[],[],1,eN),eP=eO[0],eQ=eO[1],eB(T.ofSeq(bc.delay(function(){return bc.append([eE+" "+bj.concat(" ",eP)],bc.delay(function(){return bc.append(eQ,bc.delay(function(){return eM;}));}));})))):T.ofSeq(bc.delay(function(){var eR;return bc.append((eR=ez(eE),eR!=null&&eR.$==1?[eR.$0]:[]),bc.delay(function(){return eB(eM);}));}))))))):[];}return eB(eA);};K.createEntryO=function(ez,eA){var eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4,e5,e6,e7,e8,e9,e_,e$,fa,fb,fc,fd,fe,ff,fg,fh,fi,fj,fk,fl,fm,fn,fo,fp,fq,fr,fs,ft,fu,fv,fw,fx,fy,fz,fA,fB,fC;try{eB=K.splitTokens(eA);return eB.$==1&&(eD=(eE=eB.$0,K.Identifier(eE[0],eE[1])),eD!=null&&eD.$==1&&(eB.$1.$==1&&((eF=eB.$1.$0,K.Vertical(eF[0],eF[1])).$==0&&(eB.$1.$1.$==1&&(eG=(eH=eB.$1.$1.$0,K.Measures$1(eH[0],eH[1])),eG!=null&&eG.$==1&&(eC=[eB.$1.$1.$1,eG.$0,eD.$0],true))))))?(eI=eC[2],K.entryDoc(eI,(K.createSplitterM())([ez,eI,true,eC[1],eC[0]]))):eB.$==1&&(eK=(eL=eB.$0,K.Identifier(eL[0],eL[1])),eK!=null&&eK.$==1&&(eB.$1.$==1&&((eM=eB.$1.$0,K.Vertical(eM[0],eM[1])).$==1&&(eB.$1.$1.$==1&&(eN=(eO=eB.$1.$1.$0,K.Measures$1(eO[0],eO[1])),eN!=null&&eN.$==1&&(eJ=[eB.$1.$1.$1,eN.$0,eK.$0],true))))))?(eP=eJ[2],K.entryDoc(eP,(K.createSplitterM())([ez,eP,false,eJ[1],eJ[0]]))):eB.$==1&&(eR=(eS=eB.$0,K.Identifier(eS[0],eS[1])),eR!=null&&eR.$==1&&(eB.$1.$==1&&((eT=eB.$1.$0,K.Var(eT[0],eT[1])).$==2&&(eB.$1.$1.$==1&&(eU=(eV=eB.$1.$1.$0,K.Identifier(eV[0],eV[1])),eU!=null&&eU.$==1&&(eB.$1.$1.$1.$==1&&(eB.$1.$1.$1.$1.$==1&&(eB.$1.$1.$1.$1.$1.$==0&&(eQ=[eU.$0,eB.$1.$1.$1.$0,eR.$0,eB.$1.$1.$1.$1.$0],true)))))))))?(eW=eQ[2],K.entryDoc(eW,(K.createButtonM())([ez,eW,eQ[0],eQ[1],eQ[3]]))):eB.$==1&&(eY=(eZ=eB.$0,K.Identifier(eZ[0],eZ[1])),eY!=null&&eY.$==1&&(eB.$1.$==1&&((e0=eB.$1.$0,K.Var(e0[0],e0[1])).$==3&&(eB.$1.$1.$==1&&(e1=(e2=eB.$1.$1.$0,K.Identifier(e2[0],e2[1])),e1!=null&&e1.$==1&&(eB.$1.$1.$1.$==1&&(eB.$1.$1.$1.$1.$==0&&(eX=[eB.$1.$1.$1.$0,eY.$0,e1.$0],true))))))))?(e3=eX[1],K.entryDoc(e3,(K.createInputM())([ez,e3,eX[2],eX[0]]))):eB.$==1&&(e5=(e6=eB.$0,K.Identifier(e6[0],e6[1])),e5!=null&&e5.$==1&&(eB.$1.$==1&&((e7=eB.$1.$0,K.Var(e7[0],e7[1])).$==4&&(eB.$1.$1.$==1&&(e8=(e9=eB.$1.$1.$0,K.Identifier(e9[0],e9[1])),e8!=null&&e8.$==1&&(eB.$1.$1.$1.$==1&&(eB.$1.$1.$1.$1.$==0&&(e4=[eB.$1.$1.$1.$0,e5.$0,e8.$0],true))))))))?(e_=e4[1],K.entryDoc(e_,(K.createTextAreaM())([ez,e_,e4[2],e4[0]]))):eB.$==1&&(fa=(fb=eB.$0,K.Identifier(fb[0],fb[1])),fa!=null&&fa.$==1&&(eB.$1.$==1&&((fc=eB.$1.$0,K.Var(fc[0],fc[1])).$==0&&(eB.$1.$1.$==1&&(eB.$1.$1.$1.$==0&&(e$=[fa.$0,eB.$1.$1.$0],true))))))?(fd=e$[0],K.entryVar(fd,(K.createVarM())([ez,fd,e$[1][0]]))):eB.$==1&&(ff=(fg=eB.$0,K.Identifier(fg[0],fg[1])),ff!=null&&ff.$==1&&(eB.$1.$==1&&((fh=eB.$1.$0,K.Var(fh[0],fh[1])).$==1&&(eB.$1.$1.$==1&&(fe=[eB.$1.$1.$0,ff.$0,eB.$1.$1.$1],true)))))?(fi=fe[1],K.entryDoc(fi,(K.createDocM())([ez,fi,fe[0][0],fe[2]]))):eB.$==1&&(fk=(fl=eB.$0,K.Identifier(fl[0],fl[1])),fk!=null&&fk.$==1&&(eB.$1.$==1&&((fm=eB.$1.$0,K.Vertical(fm[0],fm[1])).$==4&&(eB.$1.$1.$==1&&(eB.$1.$1.$1.$==1&&(fj=[eB.$1.$1.$1.$0,eB.$1.$1.$1.$1,fk.$0,eB.$1.$1.$0],true))))))?(fn=fj[2],K.entryDoc(fn,(K.createTemplateM())([ez,fn,fj[3],fj[0],fj[1]]))):eB.$==1&&(fp=(fq=eB.$0,K.Identifier(fq[0],fq[1])),fp!=null&&fp.$==1&&(eB.$1.$==1&&((fr=eB.$1.$0,K.Concat(fr[0],fr[1])).$==0&&(fo=[eB.$1.$1,fp.$0],true))))?(fs=fo[1],K.entryDoc(fs,(K.createConcatM())([ez,fs,fo[0]]))):eB.$==1&&(fu=(fv=eB.$0,K.Identifier(fv[0],fv[1])),fu!=null&&fu.$==1&&(eB.$1.$==1&&((fw=eB.$1.$0,K.Vertical(fw[0],fw[1])).$==3&&(eB.$1.$1.$==1&&(eB.$1.$1.$1.$==1&&(eB.$1.$1.$1.$1.$==1&&(ft=[eB.$1.$1.$1.$1.$0,eB.$1.$1.$0,eB.$1.$1.$1.$1.$1,fu.$0,eB.$1.$1.$1.$0],true)))))))?null:eB.$==1&&(fy=(fz=eB.$0,K.Identifier(fz[0],fz[1])),fy!=null&&fy.$==1&&(eB.$1.$==1&&(fA=(fB=eB.$1.$0,K.Vertical(fB[0],fB[1])),fA.$==5&&(eB.$1.$1.$==1&&(fx=[eB.$1.$1.$0,eB.$1.$1.$1,fA.$0,fy.$0],true)))))?(fC=fx[3],K.entryDoc(fC,(K.createElementM())([ez,fC,fx[2],fx[0],fx[1]]))):null;}catch(fD){((function(fE){return function(fF){return fE(bz.prettyPrint(fF));};}(function(fE){eu.log(fE);}))(fD));return null;}};K.getAttrs=function(ez,eA,eB){var eC;eC=[eA,eB];return bB.ofSeq(bc.delay(function(){return bc.append(bc.choose(function(eD){var eE,eF,eG,eH,eI,eJ;return!J.Equals(eD,null)&&eD.length===2&&(eF=T.get(eD,1),bj.Trim(T.get(eD,0))!==""&&bj.Trim(eF)!=="")?(eG=T.get(eD,1),(eH=T.get(eD,0),{$:1,$0:(eI=K.getTextData(ez,bj.Trim(eG)),eI.$==1?cW.Dynamic(bj.Trim(eH),eI.$0):eI.$==2?(eJ=eI.$0,cW.Handler(bj.Trim(eH),function(eK){return function(eL){return k.callFunction(eK,eL,eJ.actFunction);};})):cS.Create(bj.Trim(eH),bj.Trim(eI.$0)))})):null;},bc.map(function(eD){return bK.splitByChar("=",eD);},bK.splitByChar(";",eC[0]))),bc.delay(function(){return bc.choose(function(eD){var eE,eF,eG,eH,eI;return!J.Equals(eD,null)&&eD.length===2&&(eF=T.get(eD,1),bj.Trim(T.get(eD,0))!==""&&bj.Trim(eF)!=="")?(eG=T.get(eD,1),(eH=T.get(eD,0),{$:1,$0:(eI=K.getTextData(ez,bj.Trim(eG)),eI.$==1?cW.DynamicStyle(bj.Trim(eH),eI.$0):eI.$==2?cW.Style(bj.Trim(eH),(function(eJ){return function(eK){return eJ("${"+bz.toSafe(eK)+"}");};}(a.id))(eI.$0.actName)):cW.Style(bj.Trim(eH),bj.Trim(eI.$0)))})):null;},bc.map(function(eD){return bK.splitByChar(":",eD);},bK.splitByChar(";",eC[0])));}));}));};K.getText=function(ez,eA,eB){var eC,eD,eE,eF,eG,eH,eI,eJ,eK;eC=K.Identifier(eA,eB);return eC!=null&&eC.$==1?(eD=eC.$0,(eE=((K.splitName())(ez))(eD),(eF=eE[0],(eG=eE[1],(eH=(eI=k.tryGetViw(eF,eG),eI==null?null:{$:1,$0:_0.TextView(eI.$0.viwView)}),eH==null?(eJ=(eK=k.tryGetVar(eF,eG),eK==null?null:{$:1,$0:_0.TextView(eK.$0.varVar.get_View())}),eJ==null?_0.TextNode(eD):eJ.$0):eH.$0))))):_0.TextNode(eA);};K.singleDoc=function(ez,eA){return _0.EmbedView(p.Map(function(eB){var eC;return eB.$==1&&(eB.$1.$==0&&(eC=eB.$0,true))?eC:K.errDoc((function(eD){return function(eE){return eD("expected exactly 1 element "+bz.printList(function(eF){return"("+bz.prettyPrint(eF[0])+", "+bz.prettyPrint(eF[1])+")";},eE));};}(a.id))(eA));},p.Map(function(){return K.getDocs(ez,eA);},k.mainDocV().get_View())));};K.getTextData=function(ez,eA){var eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN;eB=(eC=bK.delimitedO("@{","}",eA),eC==null?null:{$:1,$0:(eD=eC.$0,(eE=eD[0],(eF=eD[1],(eG=eD[2],(eH=((K.splitName())(ez))(eF),(eI=eH[0],(eJ=eH[1],(eK=(eL=k.tryGetWoW(eI,eJ),eL==null?null:{$:1,$0:function(eO){var eP,eQ;eQ=K.getTextData(ez,eG);switch(eE===""?eQ.$==1?(eP=eQ.$0,2):eQ.$==2?(eP=eQ.$0,3):eQ.$0===""?0:(eP=eQ.$0,1):eQ.$==1?(eP=eQ.$0,2):eQ.$==2?(eP=eQ.$0,3):(eP=eQ.$0,1)){case 0:return{$:1,$0:eO};case 1:return{$:1,$0:p.Map(function(eR){return eE+eR+eP;},eO)};case 2:return{$:1,$0:p.Map2(function(eR,eS){return eE+eR+eS;},eO,eP)};case 3:return{$:2,$0:eP};}}(eL.$0)}),eK==null?(eM=(eN=k.tryGetAct(eI,eJ),eN==null?null:{$:1,$0:{$:2,$0:eN.$0}}),eM==null?{$:0,$0:((((er.Curried(function(eO,eP,eQ,eR){return eO(bz.toSafe(eP)+" ${Missing "+bz.toSafe(eQ)+"}"+bz.toSafe(eR));},4))(a.id))(eE))(eF))(eG)}:eM.$0):eK.$0))))))))});return eB==null?{$:0,$0:eA}:eB.$0;};K.createSplitter=function(ez,eA,eB,eC,eD){var eE;eE=K.pairOfDocs(ez,eD);return eC.$==1?K.variableSplitter(eB,eC.$0,eC.$1,eC.$2,eE[0],eE[1]):K.fixedSplitter(eB,eC.$0,eC.$1,eE[0],eE[1]);};K.createButton=function(ez,eA,eB,eC,eD){return K.turnToView(function(){var eE,eF,eG,eH,eI;function eJ(eK,eL){return k.callFunction(null,null,eK.actFunction);}eE=(eF=(eG=(eH=((K.splitName())(ez))(eB),k.tryGetAct(eH[0],eH[1])),eG==null?null:{$:1,$0:(eI=eG.$0,function(eK){return eJ(eI,eK);})}),eF==null?a.ignore:eF.$0);return _0.Button(eD[0],K.getAttrs(ez,eC[0],eC[1]),eE);});};K.createInput=function(ez,eA,eB,eC){return K.turnToView(function(){var eD,eE,eF,eG,eH;eD=(eE=(eF=((K.splitName())(ez))(eB),k.tryGetVoV(eF[0],eF[1])),(eG=(eH=K.getAttrs(ez,eC[0],eC[1]),function(eI){return _0.Input(eH,eI);}),eE==null?null:{$:1,$0:eG(eE.$0)}));return eD==null?K.errDoc((function(eI){return function(eJ){return eI("Missing var: "+bz.toSafe(eJ));};}(a.id))(eB)):eD.$0;});};K.createTextArea=function(ez,eA,eB,eC){return K.turnToView(function(){var eD,eE,eF,eG,eH;eD=(eE=(eF=((K.splitName())(ez))(eB),k.tryGetVoV(eF[0],eF[1])),(eG=(eH=K.getAttrs(ez,eC[0],eC[1]),function(eI){return _0.InputArea(eH,eI);}),eE==null?null:{$:1,$0:eG(eE.$0)}));return eD==null?K.errDoc((function(eI){return function(eJ){return eI("Missing var: "+bz.toSafe(eJ));};}(a.id))(eB)):eD.$0;});};K.createElement=function(ez,eA,eB,eC,eD){var eE;eE=[K.turnToView(function(){return _0.Concat(K.getDocs(ez,eD));})];return _0.Element(eB,K.getAttrs(ez,eC[0],eC[1]),eE);};K.createDoc=function(ez,eA,eB,eC){return K.turnToView(function(){var eD,eE,eF;eD=(eE=(eF=((K.splitName())(ez))(eB),k.tryGetDoc(eF[0],eF[1])),eE==null?null:{$:1,$0:K.getDocFinal(eC,eE.$0)});return eD==null?K.errDoc((function(eG){return function(eH){return eG("Missing doc: "+bz.toSafe(eH));};}(a.id))(eB)):eD.$0;});};K.createTemplate=function(ez,eA,eB,eC,eD){return K.turnToView(function(){var eE,eF,eG,eH,eI,eJ;eG=K.getAttrs(ez,eC[0],eC[1]);c6.LoadLocalTemplates("local");function eK(eM,eN){var eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ;eO=K.Identifier(eN[0],eN[1]);return eO!=null&&eO.$==1?(eP=eO.$0,eQ=eM[0],eR=(eS=(eT=(eU=((K.splitName())(ez))(eP),k.tryGetDoc(eU[0],eU[1])),eT==null?null:{$:1,$0:{$:0,$0:eQ.toLowerCase(),$1:(K.getDocF(cL.Empty,eT.$0))[0]}}),eS==null?(eV=(eW=((K.splitName())(ez))(eP),k.tryGetVar(eW[0],eW[1])),eV==null?null:{$:1,$0:{$:8,$0:eQ.toLowerCase(),$1:eV.$0.varVar}}):eS),eR==null?{$:0,$0:eQ.toLowerCase(),$1:K.errDoc((function(e0){return function(e1){return e0("Missing element: "+bz.toSafe(e1));};}(a.id))(eP))}:eR.$0):(eX=eM[0],eY=K.getTextData(ez,eN[0]),eY.$==1?{$:2,$0:eX.toLowerCase(),$1:eY.$0}:eY.$==2?(eZ=eY.$0,{$:4,$0:eX.toLowerCase(),$1:function(e0){return function(e1){return k.callFunction(e0,e1,eZ.actFunction);};}}):{$:1,$0:eX.toLowerCase(),$1:eY.$0});}function eL(eM,eN){return eM%2===0;}try{eF={$:1,$0:(eH=(eI=bc.map(function(eM){return eK(eM[0],eM[1]);},bc.map(function(eM){return eM[1];},bc.filter(function(eM){return eL(eM[0],eM[1]);},bc.indexed(bc.pairwise(eD))))),(bc.isEmpty(eG)?a.id:(eJ=[{$:3,$0:"attrs",$1:cS.Concat(eG)}],function(eM){return bc.append(eJ,eM);}))(eI)),c6.NamedTemplate("local",{$:1,$0:eB[0].toLowerCase()},eH))};}catch(eM){eF=null;}return eF==null?K.errDoc((function(eN){return function(eO){return eN("Missing template: "+bz.toSafe(eO));};}(a.id))(eB[0])):eF.$0;});};K.createConcat=function(ez,eA,eB){return K.turnToView(function(){return _0.Concat(K.getDocs(ez,eB));});};K.createVar=function(ez,eA,eB){return i.Create$1(eB);};K.addNewLayout=function(ez,eA){var eB,eC;K.addLayout((eB=(eC=!J.Equals(eA,null)?eA:"\r\n            split horizontal 0-50-100 AppFramework.AppFwkClient Hello\r\n            Hello h1 \"color:blue; class=btn-primary\" \"How are you today?\" Ask\r\n            Ask Doc InputLabel \"placeholder=Type you answer here...\" \"Answer:\" AppFramework.mainDocV  \r\n            ",(bK.unindentStr())(eC)),K.newLyt(!J.Equals(eA,null)?ez:"Lyt_"+bj.Replace(a.String(bt.NewGuid()),"-",""),eB)));};K.getDocF=function(ez,eA){var eB,eC;eC=eA.docDoc;switch(eC.$==1?ez.$==1?(eB=[eC.$0,ez.$0[0],ez.$1],1):6:eC.$==2?ez.$==1?ez.$1.$==1?(eB=[eC.$0,ez.$0[0],ez.$1.$0[0],ez.$1.$1],2):6:6:eC.$==3?ez.$==1?ez.$1.$==1?ez.$1.$1.$==1?(eB=[eC.$0,ez.$0[0],ez.$1.$0[0],ez.$1.$1.$0[0],ez.$1.$1.$1],3):6:6:6:eC.$==4?ez.$==1?ez.$1.$==1?ez.$1.$1.$==1?ez.$1.$1.$1.$==1?(eB=[eC.$0,ez.$0[0],ez.$1.$0[0],ez.$1.$1.$0[0],ez.$1.$1.$1.$0[0],ez.$1.$1.$1.$1],4):6:6:6:6:eC.$==5?ez.$==1?ez.$1.$==1?ez.$1.$1.$==1?ez.$1.$1.$1.$==1?ez.$1.$1.$1.$1.$==1?(eB=[eC.$0,ez.$0[0],ez.$1.$0[0],ez.$1.$1.$0[0],ez.$1.$1.$1.$0[0],ez.$1.$1.$1.$1.$0[0],ez.$1.$1.$1.$1.$1],5):6:6:6:6:6:(eB=[eC.$0,ez],0)){case 0:return[eB[0].f(),eB[1]];case 1:return[eB[0](eB[1]),eB[2]];case 2:return[(eB[0](eB[1]))(eB[2]),eB[3]];case 3:return[((eB[0](eB[1]))(eB[2]))(eB[3]),eB[4]];case 4:return[(((eB[0](eB[1]))(eB[2]))(eB[3]))(eB[4]),eB[5]];case 5:return[((((eB[0](eB[1]))(eB[2]))(eB[3]))(eB[4]))(eB[5]),eB[6]];case 6:return[_0.Element("div",[],[_0.TextNode((((er.Curried3(function(eD,eE,eF){return eD("Parameters do not coincide with definition "+Z.p(eE)+" - "+bz.printList(function(eG){return"("+bz.prettyPrint(eG[0])+", "+bz.prettyPrint(eG[1])+")";},eF));}))(a.id))(eA))(ez))]),cL.Empty];}};K.splitTokens=function(ez){return bB.ofSeq(bc.collect(a.id,bc.mapi(function(eA,eB){var eC;return eA%2===1?[[eB,true]]:(eC=bj.Trim(eB),eC===""?[]:T.map(function(eD){return[eD,false];},bj.SplitChars(eC,[" "],1)));},bK.splitByChar("\"",ez))));};K.Identifier=function(ez,eA){var eB,eC,eD;return(eC=j.REGEX$1("^[$a-zA-Z_][0-9a-zA-Z_\\.\\-$]*$","",ez),eC!=null&&eC.$==1&&((eD=eC.$0,!J.Equals(eD,null)&&eD.length===1)&&(eA?false:(eB=T.get(eC.$0,0),true))))?{$:1,$0:eB}:null;};K.Vertical=function(ez,eA){var eB,eC,eD,eE,eF,eG;return(eA?false:ez==="vertical")?{$:0,$0:null}:(eA?false:ez==="horizontal")?{$:1,$0:null}:(eA?false:ez==="layout")?{$:2,$0:null}:(eA?false:ez==="grid")?{$:3,$0:null}:(eA?false:ez==="template")?{$:4,$0:null}:(eG=K.Identifier(ez,eA),eG!=null&&eG.$==1?{$:5,$0:eG.$0}:{$:6,$0:null});};K.getExtraLines=function(ez,eA){var eB,eC,eD,eE;eB=(eC=(eD=bc.tryFindIndex(function(eF){return bj.Trim(eF)!==""&&!ez(eF);},bc.skip(1,eA)),eD==null?null:{$:1,$0:1+eD.$0}),(eE=T.length(eA),eC==null?eE:eC.$0));return[cd.array(eA,{$:1,$0:1},{$:1,$0:eB-1}),cd.array(eA,{$:1,$0:eB},null)];};K.createLines=function(ez,eA,eB,eC,eD,eE){var eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO;eF=bj.replicate(eA,":");eG=":"+eF;eH=bc.tryHead(eE);return eH!=null&&eH.$==1?(eI=bK.StartsWith(eF,bj.Trim(eH.$0)),eI!=null&&eI.$==1?(eJ=eI.$0,(eK=K.getExtraLines(function(eP){return bj.StartsWith(bj.Trim(eP),eG);},eE),(eL=(((er.Curried3(function(eP,eQ,eR){return eP(bz.toSafe(eQ)+"_"+a.String(eR));}))(a.id))(ez))(eD),(eM=K.createLines(eL,eA+1,[],[],1,eK[0]),(eN=eM[1],(eO=eM[0],K.createLines(ez,eA,T.ofSeq(bc.delay(function(){return bc.append(eB,bc.delay(function(){return[eL];}));})),T.ofSeq(bc.delay(function(){return bc.append(eC,bc.delay(function(){return bc.append([eL+" "+eJ+" "+bj.concat(" ",eO)],bc.delay(function(){return eN;}));}));})),eD+1,eK[1]))))))):[eB,eC]):[eB,eC];};K.Measures$1=function(ez,eA){var eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK;eB=[ez,eA];return eB[1]?null:(eC=bK.splitByChar("-",eB[0]),!J.Equals(eC,null)&&eC.length===1&&(eE=(ce.Double())(T.get(eC,0)),eE!=null&&eE.$==1&&(eD=eE.$0,true))?{$:1,$0:new dJ({$:0,$0:eD,$1:true})}:!J.Equals(eC,null)&&eC.length===2&&(T.get(eC,0)===""&&(eG=(ce.Double())(T.get(eC,1)),eG!=null&&eG.$==1&&(eF=eG.$0,true)))?{$:1,$0:new dJ({$:0,$0:eF,$1:false})}:!J.Equals(eC,null)&&eC.length===3&&(eI=(ce.Double())(T.get(eC,0)),eI!=null&&eI.$==1&&(eJ=(ce.Double())(T.get(eC,1)),eJ!=null&&eJ.$==1&&(eK=(ce.Double())(T.get(eC,2)),eK!=null&&eK.$==1&&(eH=[eK.$0,eI.$0,eJ.$0],true))))?{$:1,$0:new dJ({$:1,$0:eH[1],$1:eH[2],$2:eH[0]})}:null);};K.entryDoc=function(ez,eA){return{$:1,$0:{$:2,$0:k.newDoc(ez,r.Create(function(){return eA;}))}};};K.createSplitterM=function(){bX.$cctor();return bX.createSplitterM;};K.Var=function(ez,eA){var eB,eC,eD,eE,eF,eG;return(eA?false:ez==="Var")?{$:0,$0:null}:(eA?false:ez==="Doc")?{$:1,$0:null}:(eA?false:ez==="button")?{$:2,$0:null}:(eA?false:ez==="input")?{$:3,$0:null}:(eA?false:ez==="textarea")?{$:4,$0:null}:(eA?false:ez==="select")?{$:5,$0:null}:{$:6,$0:null};};K.createButtonM=function(){bX.$cctor();return bX.createButtonM;};K.createInputM=function(){bX.$cctor();return bX.createInputM;};K.createTextAreaM=function(){bX.$cctor();return bX.createTextAreaM;};K.entryVar=function(ez,eA){return{$:1,$0:{$:0,$0:k.newVar(ez,eA)}};};K.createVarM=function(){bX.$cctor();return bX.createVarM;};K.createDocM=function(){bX.$cctor();return bX.createDocM;};K.createTemplateM=function(){bX.$cctor();return bX.createTemplateM;};K.Concat=function(ez,eA){var eB;return(eA?false:ez==="concat")?{$:0,$0:null}:{$:1,$0:null};};K.createConcatM=function(){bX.$cctor();return bX.createConcatM;};K.createElementM=function(){bX.$cctor();return bX.createElementM;};K.getDocs=function(ez,eA){var eB;return eA.$==0?cL.Empty:(eB=K.getOneDoc(ez,eA),new cL({$:1,$0:eB[0],$1:K.getDocs(ez,eB[1])}));};K.pairOfDocs=function(ez,eA){var eB;eB=p.Map(function(eC){var eD;return eC.$==1&&(eC.$1.$==1&&(eC.$1.$1.$==0&&(eD=[eC.$0,eC.$1.$0],true)))?[eD[0],eD[1]]:[K.errDoc((function(eE){return function(eF){return eE("splitter expects exactly 2 elements "+bz.printList(function(eG){return"("+bz.prettyPrint(eG[0])+", "+bz.prettyPrint(eG[1])+")";},eF));};}(a.id))(eA)),K.errDoc("part 2")];},p.Map(function(){return K.getDocs(ez,eA);},k.mainDocV().get_View()));return[_0.EmbedView(p.Map(function(eC){return eC[0];},eB)),_0.EmbedView(p.Map(function(eC){return eC[1];},eB))];};K.variableSplitter=function(ez,eA,eB,eC,eD,eE){return _0.Element("wcomp-splitter",bB.ofSeq(bc.delay(function(){return bc.append(ez?[cS.Create("vertical","")]:[],bc.delay(function(){return bc.append([cS.Create("min",a.String(eA))],bc.delay(function(){return bc.append([cS.Create("value",a.String(eB))],bc.delay(function(){return[cS.Create("max",a.String(eC))];}));}));}));})),bB.ofArray([eD,eE]));};K.fixedSplitter=function(ez,eA,eB,eC,eD){var eE,eF,eG,eH,eI,eJ,eK;eE=(((eB?er.Curried3(function(eL,eM,eN){return eL(eM.toFixed(6)+"px calc(100% - "+eN.toFixed(6)+"px)");}):er.Curried3(function(eL,eM,eN){return eL("calc(100% - "+eM.toFixed(6)+"px) "+eN.toFixed(6)+"px");}))(a.id))(eA))(eA);return ez?(eF=U.Make().WithHole({$:1,$0:"partsizes",$1:eE}).WithHole({$:0,$0:"first",$1:eC}).WithHole({$:0,$0:"second",$1:eD}),(eG=V.CompleteHoles(eF.k,eF.h,[]),(eH=new S.New(eG[1],cX.fixedsplitterver(eG[0])),(eF.i=eH,eH)))).get_Doc():(eI=U.Make().WithHole({$:1,$0:"partsizes",$1:eE}).WithHole({$:0,$0:"first",$1:eC}).WithHole({$:0,$0:"second",$1:eD}),(eJ=V.CompleteHoles(eI.k,eI.h,[]),(eK=new S.New(eJ[1],cX.fixedsplitterhor(eJ[0])),(eI.i=eK,eK)))).get_Doc();};K.getOneDoc=function(ez,eA){var eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP;return eA.$==1&&(eC=(eD=eA.$0,K.Identifier(eD[0],eD[1])),eC!=null&&eC.$==1&&(eB=[eC.$0,eA.$1],true))?(eE=eB[0],(eF=eB[1],(eG=((K.splitName())(ez))(eE),(eH=eG[0],(eI=eG[1],(eJ=(eK=k.tryGetDoc(eH,eI),eK==null?null:{$:1,$0:K.getDocF(eF,eK.$0)}),eJ==null?(eL=(eM=k.tryGetWoW(eH,eI),eM==null?null:{$:1,$0:[_0.TextView(eM.$0),eF]}),eL==null?[K.errDoc((eN=(function(eQ){return function(eR){return eQ("Missing doc: "+bz.toSafe(eR));};}(a.id))(eE),(bd.print(eN),eN))),eF]:eL.$0):eJ.$0)))))):eA.$==0?[_0.get_Empty(),cL.Empty]:(eO=eA.$1,(eP=K.getTextData(ez,eA.$0[0]),eP.$==1?[_0.TextView(eP.$0),eO]:eP.$==2?[K.errDoc((function(eQ){return function(eR){return eQ("Unexpected action: "+bz.toSafe(eR));};}(a.id))(eP.$0.actName)),eO]:[_0.TextNode(eP.$0),eO]));};L.ofObj=function(ez){return ez==null?null:{$:1,$0:ez};};N.New=function(ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT){return{id:ez,idPadreO:eA,idForAuthorize:eB,influyente:eC,datosPersonales:eD,contactos:eE,identificacion:eF,isInternal:eG,status:eH,diaPago:eI,tipo:eJ,fechaRegistro:eK,fechaStatus:eL,nReferidos:eM,nRefActivos:eN,nDescendientes:eO,nDescActivos:eP,comision:eQ,nivel:eR,documentos:eS,docPendientes:eT};};O.empty=function(){_6.$cctor();return _6.empty;};O.nombre2=function(ez){var eA,eB;return(eA=(eB=ez.titulo,eB==null?null:{$:1,$0:" "+eB.$0}),eA==null?"":eA.$0)+bj.Trim(ez.nombre1+" "+ez.nombre2)+" "+bj.Trim(ez.apellido1+" "+ez.apellido2);};O.nombre=function(ez){var eA,eB;return(eA=(eB=ez.titulo,eB==null?null:{$:1,$0:" "+eB.$0}),eA==null?"":eA.$0)+(ez.apellido1===""?"":bj.Trim(ez.apellido1+" "+ez.apellido2)+", ")+ez.nombre1+" "+ez.nombre2;};O.busqueda=function(ez){var eA,eB;function eC(eI,eJ){return[eI,T.ofSeq(bc.map(function(eK){return eK[1];},eJ))];}function eD(eI){var eJ,eK;eJ=(eK=null,[eB.TryGetValue(eI,{get:function(){return eK;},set:function(eL){eK=eL;}}),eK]);return eJ[0]?{$:1,$0:eJ[1]}:null;}function eE(eI){var eJ,eK;eJ=(eK=null,[eA.TryGetValue({$:1,$0:eI},{get:function(){return eK;},set:function(eL){eK=eL;}}),eK]);return eJ[0]?eJ[1]:[];}function eF(eI){var eJ,eK;eJ=(eK=eI==null?null:eD(eI.$0),eK==null?null:{$:1,$0:1+eF(eK.$0.idPadreO)});return eJ==null?0:eJ.$0;}function eG(eI){return T.choose(eD,eE(eI.id));}function eH(eI){return T.ofSeq(bc.delay(function(){return bc.collect(function(eJ){return bc.append([eJ],bc.delay(function(){return eH(eJ);}));},eG(eI));}));}eA=new cH.New(bc.map(function(eI){return eC(eI[0],eI[1]);},bc.groupBy(function(eI){return eI[0];},bc.map(function(eI){return[eI.idPadreO,eI.id];},ez))));eB=new cH.New(bc.map(function(eI){return[eI.id,eI];},ez));return bf.New(eE,eF,function(eI){try{return eB.get_Item(eI);}catch(eJ){return(function(eK){return function(eL){return eK("buscarAliado failed: "+X.p$12(eL));};}(o.FailWith))(eI);}},eD,eG,eH);};O.comision=function(ez,eA){var eB;eB=O.premisas(ez,eA);return[eA.nRefActivos*eB[0],eA.nDescActivos*eB[1]];};O.premisas=function(ez,eA){var eB;eB=eA.tipo.$==0?[ez.comisionReferidosMaster,ez.comisionDescendientesMaster]:[ez.comisionReferidosRegular,ez.comisionDescendientesRegular];return eA.status.$==1?[eB[0],eB[1]]:[0,0];};O.correo=function(ez){var eA;eA=bc.tryHead(bc.choose(function(eB){return eB.$==1?{$:1,$0:eB.$0.email}:null;},ez.contactos));return eA==null?"":eA.$0;};O.dia=function(ez){return ez.$==1?5:ez.$==2?10:ez.$==3?15:ez.$==4?20:ez.$==5?25:1;};S=R.TemplateInstance=er.Class({get_Doc:function(){return this.doc;},Hole:function(ez){return this.allVars.get_Item(ez);}},g,S);S.New=er.Ctor(function(ez,eA){g.New.call(this);this.doc=eA;this.allVars=ez.$==0?ez.$0:o.FailWith("Should not happen");},S);T.get=function(ez,eA){T.checkBounds(ez,eA);return ez[eA];};T.checkBounds=function(ez,eA){if(eA<0||eA>=ez.length)o.FailWith("Index was outside the bounds of the array.");};T.length=function(ez){return ez.dims===2?ez.length*ez.length:ez.length;};T.set=function(ez,eA,eB){T.checkBounds(ez,eA);ez[eA]=eB;};U=R.ProviderBuilder=er.Class({WithHole:function(ez){this.h.push(ez);return this;}},null,U);U.Make=function(){var ez;return U.New(null,(ez=bt.NewGuid(),a.String(ez)),[]);};U.New=function(ez,eA,eB){return new U({i:ez,k:eA,h:eB});};V.CompleteHoles=function(ez,eA,eB){var eD,eE,eF,eG,eH,eI;function eC(eJ,eK){var eL,eM,eN,eO;return eE.Contains(eJ)?null:(eL=eK===0?(eM=i.Create$1(""),[{$:8,$0:eJ,$1:eM},eM]):eK===1?(eN=i.Create$1(0),[{$:13,$0:eJ,$1:eN},eN]):eK===2?(eO=i.Create$1(false),[{$:9,$0:eJ,$1:eO},eO]):o.FailWith("Invalid value type"),(eD.set_Item(eJ,eL[1]),{$:1,$0:eL[0]}));}eD=new b4.New$5();eE=new b5.New$3();eF=cI.Get(eA);try{while(eF.MoveNext()){eG=eF.Current();(eG.$==8?(eH=[eG.$0,b6.Box(eG.$1)],true):eG.$==11?(eH=[eG.$0,b6.Box(eG.$1)],true):eG.$==10?(eH=[eG.$0,b6.Box(eG.$1)],true):eG.$==13?(eH=[eG.$0,b6.Box(eG.$1)],true):eG.$==12?(eH=[eG.$0,b6.Box(eG.$1)],true):eG.$==9&&(eH=[eG.$0,b6.Box(eG.$1)],true))?(eI=eH[0],eE.Add(eI),eD.set_Item(eI,eH[1])):void 0;}}finally{if(typeof eF=="object"&&"Dispose"in eF)eF.Dispose();}return[bc.append(eA,T.choose(function(eJ){return eC(eJ[0],eJ[1]);},eB)),{$:0,$0:eD}];};V.EventQ2=function(ez,eA,eB,eC){return{$:5,$0:eA,$1:true,$2:function(eD){return function(eE){return eC({Vars:eB(),Target:eD,Event:eE});};}};};W.opcionesadministrador=function(ez){c6.LoadLocalTemplates("index0");return ez?c6.NamedTemplate("index0",{$:1,$0:"opcionesadministrador"},ez):void 0;};X.p$2=function(ez){return ez.$==1?"Regular":"Master";};X.p$1=function(ez){return ez.$==3?"Cancelado":ez.$==2?"Inactivo":ez.$==1?"Activo":"CuentaCreada";};W.filaaliado=function(ez){c6.LoadLocalTemplates("index0");return ez?c6.NamedTemplate("index0",{$:1,$0:"filaaliado"},ez):void 0;};W.tablaaliados=function(ez){c6.LoadLocalTemplates("index0");return ez?c6.NamedTemplate("index0",{$:1,$0:"tablaaliados"},ez):void 0;};W.aliado=function(ez){c6.LoadLocalTemplates("index0");return ez?c6.NamedTemplate("index0",{$:1,$0:"aliado"},ez):void 0;};W.calculo=function(ez){c6.LoadLocalTemplates("index0");return ez?c6.NamedTemplate("index0",{$:1,$0:"calculo"},ez):void 0;};X.p$15=function(ez){return ez.$==2?"Mensaje "+bz.prettyPrint(ez.$0):ez.$==1?"NuevoRegistro "+bz.prettyPrint(ez.$0):"ROk";};W.formaregistro=function(ez){c6.LoadLocalTemplates("index0");return ez?c6.NamedTemplate("index0",{$:1,$0:"formaregistro"},ez):void 0;};W.filaconsolidado=function(ez){c6.LoadLocalTemplates("index0");return ez?c6.NamedTemplate("index0",{$:1,$0:"filaconsolidado"},ez):void 0;};W.consolidado=function(ez){c6.LoadLocalTemplates("index0");return ez?c6.NamedTemplate("index0",{$:1,$0:"consolidado"},ez):void 0;};X.p$17=function(ez){return ez.$==5?"Dia25":ez.$==4?"Dia20":ez.$==3?"Dia15":ez.$==2?"Dia10":ez.$==1?"Dia05":"Dia01";};W.filapago=function(ez){c6.LoadLocalTemplates("index0");return ez?c6.NamedTemplate("index0",{$:1,$0:"filapago"},ez):void 0;};W.tablapagos=function(ez){c6.LoadLocalTemplates("index0");return ez?c6.NamedTemplate("index0",{$:1,$0:"tablapagos"},ez):void 0;};W.filadocs=function(ez){c6.LoadLocalTemplates("index0");return ez?c6.NamedTemplate("index0",{$:1,$0:"filadocs"},ez):void 0;};W.subirdocumentos=function(ez){c6.LoadLocalTemplates("index0");return ez?c6.NamedTemplate("index0",{$:1,$0:"subirdocumentos"},ez):void 0;};W.autorizacionpago=function(ez){c6.LoadLocalTemplates("index0");return ez?c6.NamedTemplate("index0",{$:1,$0:"autorizacionpago"},ez):void 0;};W.contrato=function(ez){c6.LoadLocalTemplates("index0");return ez?c6.NamedTemplate("index0",{$:1,$0:"contrato"},ez):void 0;};Y.r=function(){return dc.JSUnion(void 0,[[null,[[null,[]]],[]],[null,[[null,["NoUser"]]],[]],[null,[[null,["PreRegister"]]],[]],[null,[[null,["Content"]]],[dc.rString()]],[null,[[null,["Pdf"]]],[dc.rWildcard()]],[null,[[null,["Video"]]],[dc.rWildcard()]]]);};X.p$12=function(ez){return"IdAliado "+bz.prettyPrint(ez.$0);};W.datospersonales=function(ez){c6.LoadLocalTemplates("index0");return ez?c6.NamedTemplate("index0",{$:1,$0:"datospersonales"},ez):void 0;};X.p$14=function(ez){return ez.$==2?"Empresa":ez.$==1?"Femenino":"Masculino";};W.correo=function(ez){c6.LoadLocalTemplates("index0");return ez?c6.NamedTemplate("index0",{$:1,$0:"correo"},ez):void 0;};W.telefono=function(ez){c6.LoadLocalTemplates("index0");return ez?c6.NamedTemplate("index0",{$:1,$0:"telefono"},ez):void 0;};W.direccion=function(ez){c6.LoadLocalTemplates("index0");return ez?c6.NamedTemplate("index0",{$:1,$0:"direccion"},ez):void 0;};W.formadatospersonales=function(ez){c6.LoadLocalTemplates("index0");return ez?c6.NamedTemplate("index0",{$:1,$0:"formadatospersonales"},ez):void 0;};W.formacontactos=function(ez){c6.LoadLocalTemplates("index0");return ez?c6.NamedTemplate("index0",{$:1,$0:"formacontactos"},ez):void 0;};W.formacuentas=function(ez){c6.LoadLocalTemplates("index0");return ez?c6.NamedTemplate("index0",{$:1,$0:"formacuentas"},ez):void 0;};W.formafirma=function(ez){c6.LoadLocalTemplates("index0");return ez?c6.NamedTemplate("index0",{$:1,$0:"formafirma"},ez):void 0;};W.transaccion=function(ez){c6.LoadLocalTemplates("index0");return ez?c6.NamedTemplate("index0",{$:1,$0:"transaccion"},ez):void 0;};W.transacciones=function(ez){c6.LoadLocalTemplates("index0");return ez?c6.NamedTemplate("index0",{$:1,$0:"transacciones"},ez):void 0;};Z.p=function(ez){return"{"+("errorCode = "+bz.prettyPrint(ez.errorCode))+"; "+("errorMessage = "+bz.prettyPrint(ez.errorMessage))+"; "+("message = "+bz.prettyPrint(ez.message))+"; "+("name = "+bz.prettyPrint(ez.name))+"; "+("stack = "+X.p$13(ez.stack))+"}";};Z.p$1=function(ez){return"{"+("accessToken = "+bz.prettyPrint(ez.accessToken))+"; "+("account = "+bz.prettyPrint(ez.account))+"; "+("accountState = "+bz.prettyPrint(ez.accountState))+"; "+("expiresOn = "+bz.prettyPrint(ez.expiresOn))+"; "+("idToken = "+bz.prettyPrint(ez.idToken))+"; "+("scopes = "+bz.prettyPrint(ez.scopes))+"; "+("tenantId = "+bz.prettyPrint(ez.tenantId))+"; "+("tokenType = "+bz.prettyPrint(ez.tokenType))+"; "+("uniqueId = "+bz.prettyPrint(ez.uniqueId))+"}";};X.p$16=function(ez){return"IdPayment "+bz.prettyPrint(ez.$0);};X.p$5=function(ez){return ez.$==7?"Otro "+bz.prettyPrint(ez.$0):ez.$==6?"FormaW8BEN":ez.$==5?"FormaW9":ez.$==4?"LicenciaConducir":ez.$==3?"Cedula":ez.$==2?"Pasaporte":ez.$==1?"Autorizacion":"Contrato";};X.p$4=function(ez){return ez.$==2?"OtroS "+bz.prettyPrint(ez.$0):ez.$==1?"Florida":"Texas";};X.p$3=function(ez){return ez.$==3?"OtroP "+bz.prettyPrint(ez.$0):ez.$==2?"Argentina":ez.$==1?"Venezuela":"USA";};X.p$8=function(ez){return ez.$==2?"Otra "+bz.prettyPrint(ez.$0):ez.$==1?"Corriente":"Ahorro";};X.p$6=function(ez){return ez.$==5?"Cambiado":ez.$==4?"Cancelado":ez.$==3?"Expirado":ez.$==2?"Rechazado "+bz.prettyPrint(ez.$0):ez.$==1?"Verificado "+bz.prettyPrint(ez.$0):"Subido";};X.p$13=function(ez){return ez==null?"null":"Some "+bz.prettyPrint(ez.$0);};W.cuentabancaria=function(ez){c6.LoadLocalTemplates("index0");return ez?c6.NamedTemplate("index0",{$:1,$0:"cuentabancaria"},ez):void 0;};W.tarjetacredito=function(ez){c6.LoadLocalTemplates("index0");return ez?c6.NamedTemplate("index0",{$:1,$0:"tarjetacredito"},ez):void 0;};X.p=function(ez){return ez.$==3?"ResetPassword":ez.$==2?"EditProfile":ez.$==1?"SignUp":"SignIn";};X.p$11=function(ez){return ez.$==3?"Voip":ez.$==2?"Habitacion":ez.$==1?"Oficina":"Movil";};X.p$10=function(ez){return ez.$==3?"Otro "+bz.prettyPrint(ez.$0):ez.$==2?"ServicioPostal":ez.$==1?"Oficina":"Habitacion";};X.p$7=function(ez){return ez.$==3?"Otra "+bz.prettyPrint(ez.$0):ez.$==2?"Amex":ez.$==1?"MasterCard":"Visa";};X.p$9=function(ez){return ez.$==2?"Otro "+bz.prettyPrint(ez.$0):ez.$==1?"PagoComision":"PagoAfiliacion";};_0=h.Doc=er.Class({},g,_0);_0.get_Empty=function(){return _0.Mk(null,p.Const());};_0.Concat=function(ez){var eA;eA=cT.ofSeqNonCopying(ez);return cT.TreeReduce(_0.get_Empty(),_0.Append,eA);};_0.BindView=function(ez,eA){return _0.EmbedView(p.Map(ez,eA));};_0.Mk=function(ez,eA){return new _0.New(ez,eA);};_0.ConvertSeqBy=function(ez,eA,eB){return _0.Flatten(p.MapSeqCachedViewBy(ez,function(eC,eD){return(eA(eC))(eD);},eB));};_0.EmbedView=function(ez){var eA;eA=dk.CreateEmbedNode();return _0.Mk({$:2,$0:eA},p.Map(a.ignore,p.Bind(function(eB){dk.UpdateEmbedNode(eA,eB.docNode);return eB.updates;},ez)));};_0.Append=function(ez,eA){return _0.Mk({$:0,$0:ez.docNode,$1:eA.docNode},p.Map2Unit(ez.updates,eA.updates));};_0.TextNode=function(ez){return _0.Mk({$:5,$0:dm.CreateText(ez)},p.Const());};_0.Verbatim=function(ez){var eA;return _0.Mk(cT.MapTreeReduce(function(eB){return J.Equals(eB.nodeType,G.TEXT_NODE)?{$:5,$0:eB}:{$:1,$0:dk.CreateElemNode(eB,dl.EmptyAttr(),null)};},null,function(eB,eC){return{$:0,$0:eB,$1:eC};},(eA=et.parseHTML(ez),J.Equals(eA,null)?[]:eA)),p.Const());};_0.Flatten=function(ez){return _0.EmbedView(p.Map(_0.Concat,ez));};_0.ConvertBy=function(ez,eA,eB){return _0.Flatten(p.MapSeqCachedBy(ez,eA,eB));};_0.Button=function(ez,eA,eB){var eC;eC=cS.Concat(eA);return dQ.New(_0.Clickable("button",eB),eC,_0.TextNode(ez));};_0.Element=function(ez,eA,eB){var eC,eD;eC=cS.Concat(eA);eD=_0.Concat(eB);return dQ.New(dm.CreateElement(ez),eC,eD);};_0.Input=function(ez,eA){return _0.InputInternal("input",function(){return bc.append(ez,[cW.Value(eA)]);});};_0.RunInPlace=function(ez,eA,eB){var eC;eC=dk.CreateRunState(eA,eB.docNode);p.Sink(dU.get_UseAnimations()||dV.BatchUpdatesEnabled()?dW.StartProcessor(dk.PerformAnimatedUpdate(ez,eC,eB.docNode)):function(){dk.PerformSyncUpdate(ez,eC,eB.docNode);},eB.updates);};_0.Clickable=function(ez,eA){var eB;eB=dm.CreateElement(ez);eB.addEventListener("click",function(eC){eC.preventDefault();return eA();},false);return eB;};_0.TextView=function(ez){var eA;eA=dk.CreateTextNode();return _0.Mk({$:4,$0:eA},p.Map(function(eB){dk.UpdateTextNode(eA,eB);},ez));};_0.InputInternal=function(ez,eA){var eB;eB=dm.CreateElement(ez);return dQ.New(eB,cS.Concat(eA(eB)),_0.get_Empty());};_0.Run=function(ez,eA){dk.LinkElement(ez,eA.docNode);_0.RunInPlace(false,ez,eA);};_0.InputArea=function(ez,eA){return _0.InputInternal("textarea",function(){return bc.append(ez,[cW.Value(eA)]);});};_0.New=er.Ctor(function(ez,eA){g.New.call(this);this.docNode=ez;this.updates=eA;},_0);_1.llamadas=function(){_6.$cctor();return _6.llamadas;};_1.ejecutarDataEventoNuevo=function(ez){var eA,eB,eC;eA=(eB=n.get_LoggedId(),function(eD){return(new bS.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.ejecutarDataEventoNuevo:1305833807",[eB,eD]);});eC=bp.asyncResult();return eC.Run(eC.Delay(function(){var eD;eD=_1.llamadas().Get()+1;_1.llamadas().Set(eD);return eC.TryFinally(eC.Delay(function(){return eC.ReturnFrom$1(eA(ez));}),function(){var eE;eE=_1.llamadas().Get()-1;_1.llamadas().Set(eE);});}));};_1.iterA=function(ez){cM.iterA(function(eA){a.alert(eA);},a.ignore,ez);};_1.obtenerFormasDePagoPara=function(ez){var eA;function eB(eC){return(new bS.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerFormasDePagoPara:2142892534",[eC]);}eA=bp.asyncResult();return eA.Run(eA.Delay(function(){var eC;eC=_1.llamadas().Get()+1;_1.llamadas().Set(eC);return eA.TryFinally(eA.Delay(function(){return eA.ReturnFrom$1(eB(ez));}),function(){var eD;eD=_1.llamadas().Get()-1;_1.llamadas().Set(eD);});}));};_1.obtenerListaDocs=function(ez){var eA;function eB(eC){return(new bS.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerListaDocs:462722128",[eC]);}eA=bp.asyncResult();return eA.Run(eA.Delay(function(){var eC;eC=_1.llamadas().Get()+1;_1.llamadas().Set(eC);return eA.TryFinally(eA.Delay(function(){return eA.ReturnFrom$1(eB(ez));}),function(){var eD;eD=_1.llamadas().Get()-1;_1.llamadas().Set(eD);});}));};_1.enviarCorreosInvitacion=function(ez,eA){var eB,eC,eD,eE;eB=(eC=n.get_LoggedId(),function(eF){return(new bS.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.enviarCorreosInvitacion:921486630",[eC,eF[0],eF[1]]);});eD=[ez,eA];eE=bp.asyncResult();return eE.Run(eE.Delay(function(){var eF;eF=_1.llamadas().Get()+1;_1.llamadas().Set(eF);return eE.TryFinally(eE.Delay(function(){return eE.ReturnFrom$1(eB(eD));}),function(){var eG;eG=_1.llamadas().Get()-1;_1.llamadas().Set(eG);});}));};_1.obtenerIdInfluyente=function(ez){var eA;function eB(eC){return(new bS.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerIdInfluyente:231616815",[eC]);}eA=bp.asyncResult();return eA.Run(eA.Delay(function(){var eC;eC=_1.llamadas().Get()+1;_1.llamadas().Set(eC);return eA.TryFinally(eA.Delay(function(){return eA.ReturnFrom$1(eB(ez));}),function(){var eD;eD=_1.llamadas().Get()-1;_1.llamadas().Set(eD);});}));};_1.obtenerUnions=function(){var ez;function eA(){return(new bS.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerUnions:-1742744641",[]);}ez=bp.asyncResult();return ez.Run(ez.Delay(function(){var eB;eB=_1.llamadas().Get()+1;_1.llamadas().Set(eB);return ez.TryFinally(ez.Delay(function(){return ez.ReturnFrom$1(eA(void 0));}),function(){var eC;eC=_1.llamadas().Get()-1;_1.llamadas().Set(eC);});}));};_1.agregarUsuarioSiEsNuevo=function(ez){var eA,eB,eC;eA=(eB=n.get_LoggedId(),function(eD){return(new bS.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.agregarUsuarioSiEsNuevo:2096926511",[eB,eD]);});eC=bp.asyncResult();return eC.Run(eC.Delay(function(){var eD;eD=_1.llamadas().Get()+1;_1.llamadas().Set(eD);return eC.TryFinally(eC.Delay(function(){return eC.ReturnFrom$1(eA(ez));}),function(){var eE;eE=_1.llamadas().Get()-1;_1.llamadas().Set(eE);});}));};_1.obtenerEstadoParaUsuario=function(ez){var eA,eB;function eC(eD){return(new bS.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerEstadoParaUsuario:1912907973",[eD]);}eA=n.get_LoggedId();eB=bp.asyncResult();return eB.Run(eB.Delay(function(){var eD;eD=_1.llamadas().Get()+1;_1.llamadas().Set(eD);return eB.TryFinally(eB.Delay(function(){return eB.ReturnFrom$1(eC(eA));}),function(){var eE;eE=_1.llamadas().Get()-1;_1.llamadas().Set(eE);});}));};_1.borrarFormaPago=function(ez){var eA,eB,eC;eA=(eB=n.get_LoggedId(),function(eD){return(new bS.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.borrarFormaPago:1837795433",[eB,eD]);});eC=bp.asyncResult();return eC.Run(eC.Delay(function(){var eD;eD=_1.llamadas().Get()+1;_1.llamadas().Set(eD);return eC.TryFinally(eC.Delay(function(){return eC.ReturnFrom$1(eA(ez));}),function(){var eE;eE=_1.llamadas().Get()-1;_1.llamadas().Set(eE);});}));};_1.registrarTarjeta=function(ez){var eA,eB,eC;eA=(eB=n.get_LoggedId(),function(eD){return(new bS.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.registrarTarjeta:1914379366",[eB,eD]);});eC=bp.asyncResult();return eC.Run(eC.Delay(function(){var eD;eD=_1.llamadas().Get()+1;_1.llamadas().Set(eD);return eC.TryFinally(eC.Delay(function(){return eC.ReturnFrom$1(eA(ez));}),function(){var eE;eE=_1.llamadas().Get()-1;_1.llamadas().Set(eE);});}));};_1.registrarCuenta=function(ez){var eA,eB,eC;eA=(eB=n.get_LoggedId(),function(eD){return(new bS.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.registrarCuenta:1678015656",[eB,eD]);});eC=bp.asyncResult();return eC.Run(eC.Delay(function(){var eD;eD=_1.llamadas().Get()+1;_1.llamadas().Set(eD);return eC.TryFinally(eC.Delay(function(){return eC.ReturnFrom$1(eA(ez));}),function(){var eE;eE=_1.llamadas().Get()-1;_1.llamadas().Set(eE);});}));};_1.validarFormaPago=function(ez){var eA,eB,eC;eA=(eB=n.get_LoggedId(),function(eD){return(new bS.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.validarFormaPago:1837795433",[eB,eD]);});eC=bp.asyncResult();return eC.Run(eC.Delay(function(){var eD;eD=_1.llamadas().Get()+1;_1.llamadas().Set(eD);return eC.TryFinally(eC.Delay(function(){return eC.ReturnFrom$1(eA(ez));}),function(){var eE;eE=_1.llamadas().Get()-1;_1.llamadas().Set(eE);});}));};_1.actualizarSubscripcion=function(ez){var eA,eB,eC;eA=(eB=n.get_LoggedId(),function(eD){return(new bS.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.actualizarSubscripcion:1837795433",[eB,eD]);});eC=bp.asyncResult();return eC.Run(eC.Delay(function(){var eD;eD=_1.llamadas().Get()+1;_1.llamadas().Set(eD);return eC.TryFinally(eC.Delay(function(){return eC.ReturnFrom$1(eA(ez));}),function(){var eE;eE=_1.llamadas().Get()-1;_1.llamadas().Set(eE);});}));};_1.obtenerFormasDePago=function(){var ez;function eA(){return(new bS.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerFormasDePagoId:-1441558235",[n.get_LoggedId()]);}ez=bp.asyncResult();return ez.Run(ez.Delay(function(){var eB;eB=_1.llamadas().Get()+1;_1.llamadas().Set(eB);return ez.TryFinally(ez.Delay(function(){return ez.ReturnFrom$1(eA(void 0));}),function(){var eC;eC=_1.llamadas().Get()-1;_1.llamadas().Set(eC);});}));};_2=M.IdAliado=er.Class({get_Id:function(){return this.$0;}},null,_2);_3.New=function(ez,eA,eB,eC,eD,eE){return{idAliado:ez,aliados:eA,anoActual:eB,periodoActual:eC,premisas:eD,nevento:eE};};_4=h.ConcreteVar=er.Class({get_View:function(){return this.view;},Set:function(ez){if(this.isConst)(function(eA){return eA("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal");}(function(eA){eu.log(eA);}));else{_5.Obsolete(this.snap);this.current=ez;this.snap=_5.New({$:2,$0:ez,$1:[]});}},Get:function(){return this.current;},Update:function(ez){this.Set(ez(this.Get()));},UpdateMaybe:function(ez){var eA;eA=ez(this.Get());eA!=null&&eA.$==1?this.Set(eA.$0):void 0;}},q,_4);_4.New=er.Ctor(function(ez,eA,eB){var eC;eC=this;q.New.call(this);this.isConst=ez;this.current=eB;this.snap=eA;this.view=function(){return eC.snap;};this.id=b9.Int();},_4);_5.Map=function(ez,eA){var eB,eC;eB=eA.s;return eB!=null&&eB.$==0?_5.New({$:0,$0:ez(eB.$0)}):(eC=_5.New({$:3,$0:[],$1:[]}),(_5.When(eA,function(eD){_5.MarkDone(eC,eA,ez(eD));},eC),eC));};_5.WhenRun=function(ez,eA,eB){var eC;eC=ez.s;eC==null?eB():eC!=null&&eC.$==2?(eC.$1.push(eB),eA(eC.$0)):eC!=null&&eC.$==3?(eC.$0.push(eA),eC.$1.push(eB)):eA(eC.$0);};_5.WhenObsoleteRun=function(ez,eA){var eB;eB=ez.s;eB==null?eA():eB!=null&&eB.$==2?eB.$1.push(eA):eB!=null&&eB.$==3?eB.$1.push(eA):void 0;};_5.When=function(ez,eA,eB){var eC;eC=ez.s;eC==null?_5.Obsolete(eB):eC!=null&&eC.$==2?(_5.EnqueueSafe(eC.$1,eB),eA(eC.$0)):eC!=null&&eC.$==3?(eC.$0.push(eA),_5.EnqueueSafe(eC.$1,eB)):eA(eC.$0);};_5.MarkDone=function(ez,eA,eB){var eC;if(eC=eA.s,eC!=null&&eC.$==0)_5.MarkForever(ez,eB);else _5.MarkReady(ez,eB);};_5.Map2=function(ez,eA,eB){var eC,eD,eE;function eF(eG){var eH,eI,eJ;if(!(eH=eE.s,eH!=null&&eH.$==0||eH!=null&&eH.$==2)){eI=_5.ValueAndForever(eA);eJ=_5.ValueAndForever(eB);eI!=null&&eI.$==1?eJ!=null&&eJ.$==1?eI.$0[1]&&eJ.$0[1]?_5.MarkForever(eE,ez(eI.$0[0],eJ.$0[0])):_5.MarkReady(eE,ez(eI.$0[0],eJ.$0[0])):void 0:void 0;}}eC=eA.s;eD=eB.s;return eC!=null&&eC.$==0?eD!=null&&eD.$==0?_5.New({$:0,$0:ez(eC.$0,eD.$0)}):_5.Map2Opt1(ez,eC.$0,eB):eD!=null&&eD.$==0?_5.Map2Opt2(ez,eD.$0,eA):(eE=_5.New({$:3,$0:[],$1:[]}),(_5.When(eA,eF,eE),_5.When(eB,eF,eE),eE));};_5.Map3=function(ez,eA,eB,eC){var eD,eE,eF,eG;function eH(eI){var eJ,eK,eL,eM;if(!(eJ=eG.s,eJ!=null&&eJ.$==0||eJ!=null&&eJ.$==2)){eK=_5.ValueAndForever(eA);eL=_5.ValueAndForever(eB);eM=_5.ValueAndForever(eC);eK!=null&&eK.$==1?eL!=null&&eL.$==1?eM!=null&&eM.$==1?eK.$0[1]&&eL.$0[1]&&eM.$0[1]?_5.MarkForever(eG,ez(eK.$0[0],eL.$0[0],eM.$0[0])):_5.MarkReady(eG,ez(eK.$0[0],eL.$0[0],eM.$0[0])):void 0:void 0:void 0;}}eD=eA.s;eE=eB.s;eF=eC.s;return eD!=null&&eD.$==0?eE!=null&&eE.$==0?eF!=null&&eF.$==0?_5.New({$:0,$0:ez(eD.$0,eE.$0,eF.$0)}):_5.Map3Opt1(ez,eD.$0,eE.$0,eC):eF!=null&&eF.$==0?_5.Map3Opt2(ez,eD.$0,eF.$0,eB):_5.Map3Opt3(ez,eD.$0,eB,eC):eE!=null&&eE.$==0?eF!=null&&eF.$==0?_5.Map3Opt4(ez,eE.$0,eF.$0,eA):_5.Map3Opt5(ez,eE.$0,eA,eC):eF!=null&&eF.$==0?_5.Map3Opt6(ez,eF.$0,eA,eB):(eG=_5.New({$:3,$0:[],$1:[]}),(_5.When(eA,eH,eG),_5.When(eB,eH,eG),_5.When(eC,eH,eG),eG));};_5.MapAsync=function(ez,eA){var eB;eB=_5.New({$:3,$0:[],$1:[]});_5.When(eA,function(eC){b8.StartTo(ez(eC),function(eD){_5.MarkDone(eB,eA,eD);});},eB);return eB;};_5.EnqueueSafe=function(ez,eA){var eB,eC,eD,eE;ez.push(eA);if(ez.length%20===0){eB=ez.slice(0);d5.Clear(ez);for(eC=0,eD=T.length(eB)-1;eC<=eD;eC++){eE=T.get(eB,eC);typeof eE=="object"?function(eF){if(eF.s)ez.push(eF);}(eE):function(eF){ez.push(eF);}(eE);}}else void 0;};_5.MarkForever=function(ez,eA){var eB,eC,eD,eE;eB=ez.s;if(eB!=null&&eB.$==3){ez.s={$:0,$0:eA};eC=eB.$0;for(eD=0,eE=T.length(eC)-1;eD<=eE;eD++)(T.get(eC,eD))(eA);}else void 0;};_5.MarkReady=function(ez,eA){var eB,eC,eD,eE;eB=ez.s;if(eB!=null&&eB.$==3){ez.s={$:2,$0:eA,$1:eB.$1};eC=eB.$0;for(eD=0,eE=T.length(eC)-1;eD<=eE;eD++)(T.get(eC,eD))(eA);}else void 0;};_5.Map2Opt1=function(ez,eA,eB){return _5.Map(function(eC){return ez(eA,eC);},eB);};_5.Map2Opt2=function(ez,eA,eB){return _5.Map(function(eC){return ez(eC,eA);},eB);};_5.ValueAndForever=function(ez){var eA;eA=ez.s;return eA!=null&&eA.$==0?{$:1,$0:[eA.$0,true]}:eA!=null&&eA.$==2?{$:1,$0:[eA.$0,false]}:null;};_5.TryGet=function(ez){var eA,eB;eA=ez.s;return(eA!=null&&eA.$==0?(eB=eA.$0,true):eA!=null&&eA.$==2&&(eB=eA.$0,true))?{$:1,$0:eB}:null;};_5.Map3Opt1=function(ez,eA,eB,eC){return _5.Map(function(eD){return ez(eA,eB,eD);},eC);};_5.Map3Opt2=function(ez,eA,eB,eC){return _5.Map(function(eD){return ez(eA,eD,eB);},eC);};_5.Map3Opt3=function(ez,eA,eB,eC){return _5.Map2(function(eD,eE){return ez(eA,eD,eE);},eB,eC);};_5.Map3Opt4=function(ez,eA,eB,eC){return _5.Map(function(eD){return ez(eD,eA,eB);},eC);};_5.Map3Opt5=function(ez,eA,eB,eC){return _5.Map2(function(eD,eE){return ez(eD,eA,eE);},eB,eC);};_5.Map3Opt6=function(ez,eA,eB,eC){return _5.Map2(function(eD,eE){return ez(eD,eE,eA);},eB,eC);};_5.Map2Unit=function(ez,eA){var eB,eC,eD;function eE(){var eF,eG,eH;if(!(eF=eD.s,eF!=null&&eF.$==0||eF!=null&&eF.$==2)){eG=_5.ValueAndForever(ez);eH=_5.ValueAndForever(eA);eG!=null&&eG.$==1?eH!=null&&eH.$==1?eG.$0[1]&&eH.$0[1]?_5.MarkForever(eD,null):_5.MarkReady(eD,null):void 0:void 0;}}eB=ez.s;eC=eA.s;return eB!=null&&eB.$==0?eC!=null&&eC.$==0?_5.New({$:0,$0:null}):eA:eC!=null&&eC.$==0?ez:(eD=_5.New({$:3,$0:[],$1:[]}),(_5.When(ez,eE,eD),_5.When(eA,eE,eD),eD));};_5.Join=function(ez){var eA;eA=_5.New({$:3,$0:[],$1:[]});_5.When(ez,function(eB){var eC;eC=eB();_5.When(eC,function(eD){var eE,eF;if((eE=eC.s,eE!=null&&eE.$==0)&&(eF=ez.s,eF!=null&&eF.$==0))_5.MarkForever(eA,eD);else _5.MarkReady(eA,eD);},eA);},eA);return eA;};_5.Sequence=function(ez){var eA,eB,eC;function eD(eE){var eF;if(eC[0]===0){eF=T.map(function(eG){var eH;eH=eG.s;return eH!=null&&eH.$==0?eH.$0:eH!=null&&eH.$==2?eH.$0:o.FailWith("value not found by View.Sequence");},eA);T.forall(function(eG){var eH;eH=eG.s;return eH!=null&&eH.$==0;},eA)?_5.MarkForever(eB,eF):_5.MarkReady(eB,eF);}else eC[0]--;}eA=T.ofSeq(ez);return eA.length==0?_5.New({$:0,$0:[]}):(eB=_5.New({$:3,$0:[],$1:[]}),(eC=[T.length(eA)-1],(T.iter(function(eE){_5.When(eE,eD,eB);},eA),eB)));};_5.Copy=function(ez){var eA,eB,eC;eA=ez.s;return eA==null?ez:eA!=null&&eA.$==2?(eB=_5.New({$:2,$0:eA.$0,$1:[]}),(_5.WhenObsolete(ez,eB),eB)):eA!=null&&eA.$==3?(eC=_5.New({$:3,$0:[],$1:[]}),(_5.When(ez,function(eD){_5.MarkDone(eC,ez,eD);},eC),eC)):ez;};_5.WhenObsolete=function(ez,eA){var eB;eB=ez.s;eB==null?_5.Obsolete(eA):eB!=null&&eB.$==2?_5.EnqueueSafe(eB.$1,eA):eB!=null&&eB.$==3?_5.EnqueueSafe(eB.$1,eA):void 0;};_6.$cctor=function(){var ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO;_6.$cctor=a.ignore;function eP(eZ){return bj.concat("\n",eZ);}function eQ(eZ){return bK.splitByChar$1("\n",eZ);}function eR(eZ){var e0,e1;return cd.array(eZ,{$:1,$0:0},{$:1,$0:(e0=0,(e1=T.length(eZ)-2,J.Compare(e0,e1)===1?e0:e1))});}function eS(eZ){return bj.concat("\n",eZ);}function eT(eZ){return eZ+"T00:00:00";}function eU(eZ){return(function(e0){return function(e1){return e0(bz.prettyPrint(e1));};}(a.id))(eZ);}function eV(eZ){var e0;e0=j.REGEX$2(j.rexEmail$1(),"gi",eZ);return e0!=null&&e0.$==1?e0.$0:[];}function eW(eZ){return bj.concat("\n",eZ);}function eX(eZ){return eZ==="ProzperLyt.mainContent"?cA.DefaultEP:{$:3,$0:eZ};}function eY(eZ){if(!J.Equals(m.endPointV().Get(),eZ))m.endPointV().Set(eZ);}_6.rtn=function(eZ){return[eZ];};_6.result=new b_.New();_6.result$1=bG.result();_6.resultP=new b$.New();_6.eff=new cb.New();_6.asyncResult=new bq.New();_6.asyncResultP=new cc.New();_6.unindentStr=function(eZ){return eP(bK.unindent$1(eZ));};_6.skipLastLine=(ez=function(eZ){return eR(eQ(eZ));},function(eZ){return eS(ez(eZ));});_6.parseDateO2=(eA=ce.tryParseWith$1(function(eZ){var e0,e1;e0=0;return[(e1=c7.TryParse(eZ),e1!=null&&e1.$==1&&(e0=e1.$0,true)),e0];}),function(eZ){return eA(eT(eZ));});_6.parseDateO=ce.tryParseWith$1(function(eZ){var e0,e1;e0=0;return[(e1=c7.TryParse(eZ),e1!=null&&e1.$==1&&(e0=e1.$0,true)),e0];});_6.parseIntO=ce.tryParseWith$1(function(eZ){var e0;e0=0;return[b2.TryParseInt32(eZ,{get:function(){return e0;},set:function(e1){e0=e1;}}),e0];});_6.parseInt64O=ce.tryParseWith$1(function(eZ){var e0;e0=0;return[b2.TryParseInt64(eZ,{get:function(){return e0;},set:function(e1){e0=e1;}}),e0];});_6.parseSingleO=ce.tryParseWith$1(function(eZ){var e0,e1;e0=0;return[(e1=a.Number(eZ),a.isNaN(e1)?false:(e0=e1,true)),e0];});_6.parseDoubleO=ce.tryParseWith$1(function(eZ){var e0,e1;e0=0;return[(e1=a.Number(eZ),a.isNaN(e1)?false:(e0=e1,true)),e0];});_6.parseGuidO=ce.tryParseWith$1(function(eZ){var e0;e0=null;return[bt.TryParse(eZ,{get:function(){return e0;},set:function(e1){e0=e1;}}),e0];});_6["|Date|_|"]=ce.parseDateO$1();_6["|Int|_|"]=ce.parseIntO$1();_6["|Int64|_|"]=ce.parseInt64O$1();_6["|Single|_|"]=ce.parseSingleO$1();_6["|Double|_|"]=ce.parseDoubleO$1();_6["|Guid|_|"]=ce.parseGuidO$1();_6.serString=[cf.toJsonString,function(eZ){return eZ.tryString();}];_6.serFloat=[function(eZ){return(function(e0){return function(e1){return e0(bz.prettyPrint(e1));};}(a.id))(eZ);},function(eZ){return eZ.tryFloat();}];_6.serInt=[function(eZ){return(function(e0){return function(e1){return e0(bz.prettyPrint(e1));};}(a.id))(eZ);},function(eZ){var e0;e0=eZ.tryInt();return e0==null?null:{$:1,$0:o.toInt(e0.$0)};}];_6.serInt64=[function(eZ){return function(e0){return eZ(a.String(e0));};}(a.id),function(eZ){return eZ.tryInt();}];_6.serBool=[function(eZ){return(function(e0){return function(e1){return e0(bz.prettyPrint(e1));};}(a.id))(eZ);},function(eZ){return eZ.tryBool();}];_6.serDate=[function(eZ){return eU(a.id(eZ));},function(eZ){var e0;e0=eZ.tryInt();return e0==null?null:{$:1,$0:e0.$0};}];_6.counter=1;_6.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";_6.rexEmail="(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@[*[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+]*";_6.policies=bB.ofArray([ch.SignIn,ch.SignUp,ch.EditProfile,ch.ResetPassword]);_6.premisasCalculo=bP.New(15,25,25,0,75,31,26,28);_6.telVacio=ci.New(cj.Movil,"","","","",false);_6.dirVacio=ck.New(bd.Error$1(""),cl.Habitacion,"","","",new cm({$:2,$0:""}),new cn({$:3,$0:""}),new co({$:0,$0:""}));_6.tarVacio=cp.New("",cs.Visa,new cr({$:0,$0:""}),cq.New(2000,1));_6.ctaVacio=bC.New("","",ct.Ahorro,new bE({$:0,$0:""}),new bD({$:0,$0:""}));_6.modeloVacio=_3.New(new _2({$:0,$0:""}),[],(eB=ev.now(),(new ev(eB)).getFullYear()),(eC=ev.now(),(new ev(eC)).getMonth()+1),M.premisasCalculo(),0);_6.correoVacio=bk.New("",null,null);_6.empty=(eD=bZ.New(null,"","","","",cn.USA,cu.Masculino,(new ev(2000,1-1,1)).getTime()),N.New(new _2({$:0,$0:""}),null,null,null,eD,[],[],false,by.Inactivo,b0.Dia01,b1.Regular,(new ev(2000,1-1,1)).getTime(),(new ev(2000,1-1,1)).getTime(),0,0,0,0,0,0,0,0));_6.serverEndPoint=r.Create(function(){return self.location.protocol==="http:"?"http://localhost:7071/api/":(function(eZ){return function(e0){return eZ("https://"+bz.toSafe(e0)+"/api/");};}(a.id))(self.location.host);});_6.originalProvider=bR.AjaxProvider();_6.getTokenOA=function(){var eZ;eZ=null;return cU.Delay(function(){return cU.Return(null);});};_6.rootdir="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperServer\\website";_6.TemplatesFileName="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperServer\\website"+"\\index0.html";((function(eZ){return function(e0){return eZ(bz.toSafe(e0));};}(function(eZ){eu.log(eZ);}))("D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperServer\\website\\index0.html"));_6.appId=bj.StartsWith(self.location.host,"prozper0")?"76703639-1d21-4bc3-bd46-c764f5ea78ee":"70ad4f9b-9a2b-409e-9c1e-d04dbb2e7cf2";_6.applicationId=bU.storeValue("applicationId",bU.appId());_6.tenantName=bU.storeValue("tenantName","prozper");_6.ref=bU.storeValue("ref","");_6.extraQueryParms=bU.storeValue("extraQueryParms","mkt=es-us");_6.refreshBefore=bU.storeValue("refreshBefore","0");_6.createOnStart=bU.storeValue("createOnStart","1");_6.forceLogin=bU.storeValue("forceLogin","1");_6.signInPolicy=bU.storeValue("signInPolicy","B2C_1_SignIn");_6.signUpPolicy=bU.storeValue("signUpPolicy","B2C_1_Registrarse");_6.editProfilePolicy=bU.storeValue("editProfilePolicy","B2C_1_EditarPerfil");_6.resetPasswordPolicy=bU.storeValue("resetPasswordPolicy","B2C_1_PasswordReset");_6.policyType=bU.storeValue("policyType","SignIn");eE=bU.storageGetItem("preambleState");eE==="InPreamble"||(eE===""||eE===null)?void bU.storeValue("preambleState","GoToSignIn"):null;_6.authority=bU.getAuthority(bU.tenantName(),bU.signInPolicy());_6.userO=i.Create$1(null);_6.agent=r.Create(function(){var eZ,e0;eZ=(e0=cv.New$1({$:1,$0:cw.New$1(bU.applicationId(),{$:1,$0:bU.authority()},{$:1,$0:false},null,null,null)},null,null,null),new self.Msal.UserAgentApplication(e0));eZ.handleRedirectCallback(function(e1,e2){bU.redirectCallback(e1,e2);});return eZ;});_6.getTokenO=(eG=cz.callA(function(eZ){bd.print$1(eZ);},bU.getTokenO0),function(){return eG.PostAndAsyncReply(function(eZ){return[eZ,null];},null);});_6.modeloV=i.Create$1(_3.New(new _2({$:0,$0:":"}),[],(eH=ev.now(),(new ev(eH)).getFullYear()),(eI=ev.now(),(new ev(eI)).getMonth()+1),M.premisasCalculo(),-2));_6.formasPagoAliadoV=i.Create$1([]);_6.invitacionesV=i.Create$1("");_6.emailsInvitarW=p.Map((eJ=(eK=function(eZ){return bc.distinct(eV(eZ));},function(eZ){return bc.sort(eK(eZ));}),function(eZ){return eW(eJ(eZ));}),m.invitacionesV().get_View());_6.invitacionesDisabledW=p.Map(function(eZ){return eZ===""?"disabled":"";},m.emailsInvitarW());_6.selAliadoIdOV=i.Create$1(null);_6.refAliadoIdOV=i.Create$1(null);_6.endPointV=cB.InstallHash(cA.DefaultEP,Y.r());p.Sink(function(eZ){if(eZ.$==1);else if(eZ.$==2);else if(eZ.$==4)a.showPDF(eZ.$0);else if(eZ.$==5)a.playVideo();else bU.checkUser();},m.endPointV().get_View());_6.contentVar=new cR.New(p.Map2(function(eZ,e0){var e1,e2;return e0.$==0&&!J.Equals(bU.userO().Get(),null)?"ProzperLyt.mainContent":e0.$==3&&(!J.Equals(bU.userO().Get(),null)&&(e2=e0.$0,true))?e2:e0.$==2?"ProzperLyt.cntPreRegister":e0.$==4?"ProzperLyt.cntPDF":e0.$==5?"ProzperLyt.cntVideo":"ProzperLyt.cntFormaNoUser";},bU.userO().get_View(),m.endPointV().get_View()),function(eZ){return eY(eX(eZ));});_6.aliadoW=(eL=p.get_Do(),p.Bind(function(eZ){var e0,e1;e0=eZ.idAliado;e1=bc.tryFind(function(e2){return J.Equals(e2.id,e0);},eZ.aliados);return p.Const(e1!=null&&e1.$==1?e1.$0:O.empty());},m.modeloV().get_View()));cD.installBearer(bU.getTokenO());_6.llamadas=i.Create$1(0);bR.set_EndPoint(bQ.serverEndPoint().f()+"rpc/rpc");_6.shouldRefresh=true;p.Sink(function(){br.refrescarData(true);},bU.userO().get_View());cU.Start((eM=null,cU.Delay(function(){return cU.While(function(){return true;},cU.Delay(function(){return cU.Bind(cU.Sleep(5*60*1000),function(){return cU.Return(null);});}));})),null);try{self.document.addEventListener("visibilityChange",function(){return null;},false);}catch(eZ){null;}_6.paises=i.Create$1([]);_6.estados=i.Create$1([]);_6.tiposDir=i.Create$1([]);_6.tiposTel=i.Create$1([]);_6.generos=i.Create$1([]);_6.tiposCta=i.Create$1([]);_6.tiposTar=i.Create$1([]);_6.statuses=i.Create$1([]);_6.aniosV=i.Create$1([]);_6.mesesV=i.Create$1([]);_6.tiposAr=i.Create$1([]);_6.statusAr=i.Create$1([]);_1.iterA((eN=bp.asyncResult(),eN.Run(eN.Delay(function(){return eN.Bind$1(_1.obtenerUnions(),function(e0){bv.paises().Set(e0[0]);bv.estados().Set(e0[1]);bv.tiposDir().Set(e0[2]);bv.tiposTel().Set(e0[3]);bv.generos().Set(e0[4]);bv.tiposCta().Set(e0[5]);bv.tiposTar().Set(e0[6]);bv.statuses().Set(e0[7]);bv.aniosV().Set(e0[9]);bv.mesesV().Set(e0[8]);bv.tiposAr().Set(e0[10]);bv.statusAr().Set(e0[11]);return eN.Zero();});}))));_6.ftel=[function(e0){return e0.$==2?{$:1,$0:e0.$0}:null;},function(e0){return{$:2,$0:e0};}];_6.fcor=[function(e0){return e0.$==1?{$:1,$0:e0.$0}:null;},function(e0){return{$:1,$0:e0};}];_6.fdir=[function(e0){return e0.$==0?{$:1,$0:e0.$0}:null;},function(e0){return{$:0,$0:e0};}];_6.mensajes=i.Create$1("");_6.firmanteV=i.Create$1("");_6.fechaHoraV=i.Create$1("");_6.locationV=i.Create$1({});cU.Start((eO=null,cU.Delay(function(){return cU.While(function(){return true;},cU.Delay(function(){return cU.Bind(cU.Sleep(1000),function(){var e0;e0=bd["String.Left$1"](function(e1){return e1.getFullYear()+"-"+("0"+(e1.getMonth()+1)).slice(-2)+"-"+("0"+e1.getDate()).slice(-2)+" "+("0"+e1.getHours()).slice(-2)+":"+("0"+e1.getMinutes()).slice(-2)+":"+("0"+e1.getSeconds()).slice(-2)+":"+("00"+e1.getMilliseconds()).slice(-3);}(new ev(ev.now())),19);bO.fechaHoraV().Set(e0);return cU.Zero();});}));})),null);_6.uploaded=function(e0,e1){return bd.print$1(e1);};_6.cuentaAutorizar=i.Create$1(_0.TextNode("No hay cuenta seleccionada"));_6.titular=i.Create$1("");_6.pid=new cE({$:0,$0:""});_6.ftar=[function(e0){var e1;e1=e0.cuentaPago;return e1.$==1?{$:1,$0:[e1.$0,x.msg(e0),e0.authorizeIdR.$==0]}:null;},function(e0){return function(e1){var e2;e2=new cF({$:1,$0:e1});return bF.New(e0.nombre,bd.Error$1(""),e2);};}];_6.fcta=[function(e0){var e1;e1=e0.cuentaPago;return e1.$==0?{$:1,$0:[e1.$0,x.msg(e0),e0.authorizeIdR.$==0]}:null;},function(e0){return function(e1){var e2;e2=new cF({$:0,$0:e1});return bF.New(e0.nombre,bd.Error$1(""),e2);};}];_6.transaccionesW=p.MapAsync(function(){var e0,e1;function e2(e3){return cU.Return(e3);}return cU.Bind((new bS.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerTransaccionesPara:1561052143",[n.get_LoggedId()]),(e0=(e1=[],function(e3){return bG.defaultValue(e1,e3);}),function(e3){return e2(e0(e3));}));},m.modeloV().get_View());_6.expandedOV=i.Create$1(null);_6.aliadoIdW=p.Map2(function(e0,e1){return e0==null?e1.id:e0.$0;},A.expandedOV().get_View(),m.aliadoW());_6.layoutName="ProzperLyt";_6.appName="Prozper";_6.influencerV=i.Create$1("");_6.influencerClassW=p.MapAsync(function(e0){var e1;e1=null;return cU.Delay(function(){return cU.Bind(_1.obtenerIdInfluyente(e0),function(e2){return e2.$==0?cU.Return("mui-btn--primary"):cU.Return("");});});},e.influencerV().get_View());};_7=h.ListModel=er.Class({Set:function(ez){this["var"].Set(this.storage.SSet(ez));this.ObsoleteAll();},Append:function(ez){var eA,eB,eC,eD;eA=this;eB=this["var"].Get();eC=this.key(ez);eD=T.tryFindIndex(function(eE){return J.Equals(eA.key(eE),eC);},eB);eD!=null&&eD.$==1?this["var"].Set(this.storage.SSetAt(eD.$0,ez,eB)):this["var"].Set(this.storage.SAppend(ez,eB));this.ObsoleteKey(eC);},ObsoleteAll:function(){bc.iter(function(ez){_5.Obsolete(ez.V);},this.it);this.it.Clear();},TryFindByKey:function(ez){var eA;eA=this;return T.tryFind(function(eB){return J.Equals(eA.key(eB),ez);},this["var"].Get());},ObsoleteKey:function(ez){var eA,eB;eA=(eB=null,[this.it.TryGetValue(ez,{get:function(){return eB;},set:function(eC){eB=eC;}}),eB]);eA[0]?(_5.Obsolete(eA[1]),this.it.Remove(ez)):void 0;},FindByKey:function(ez){var eA;eA=this;return T.find(function(eB){return J.Equals(eA.key(eB),ez);},this["var"].Get());},UpdateBy:function(ez,eA){var eB,eC,eD,eE,eF;eB=this;eC=this["var"].Get();eD=T.tryFindIndex(function(eG){return J.Equals(eB.key(eG),eA);},eC);eD!=null&&eD.$==1?(eE=eD.$0,eF=ez(T.get(eC,eE)),eF!=null&&eF.$==1?(this["var"].Set(this.storage.SSetAt(eE,eF.$0,eC)),this.ObsoleteKey(eA)):void 0):void 0;},MapLens:function(ez){var eA;eA=this;return p.MapSeqCachedViewBy(eA.key,function(eB,eC){return ez(eB,eA["LensInto'"](a.id,function(eD,eE){return eE;},eB,eC));},this["var"].get_View());},"LensInto'":function(ez,eA,eB,eC){var eD,eE,eF;eD=this;eE=b9.Id();eF=new q({Get:function(){return ez(eD.FindByKey(eB));},Set:function(eG){return eD.UpdateBy(function(eH){return{$:1,$0:eA(eH,eG)};},eB);},SetFinal:function(eG){return this.Set(eG);},Update:function(eG){return eD.UpdateBy(function(eH){return{$:1,$0:eA(eH,eG(ez(eH)))};},eB);},UpdateMaybe:function(eG){return eD.UpdateBy(function(eH){var eI;eI=eG(ez(eH));return eI==null?null:{$:1,$0:eA(eH,eI.$0)};},eB);},get_View:function(){return eC;},get_Id:function(){return eE;}});q.New.call(eF);return eF;},GetEnumerator:function(){return cI.Get(this["var"].Get());},GetEnumerator0:function(){return cI.Get0(this["var"].Get());}},g,_7);_7.New$1=er.Ctor(function(ez){_7.New$2.call(this,ez,[]);},_7);_7.New=er.Ctor(function(ez,eA){_7.New$3.call(this,ez,i.Create$1(T.ofSeq(bc.distinctBy(ez,eA.SInit()))),eA);},_7);_7.New$2=er.Ctor(function(ez,eA){var eB;eB=T.ofSeq(eA);_7.New$3.call(this,ez,i.Create$1(eB),cV.InMemory(eB));},_7);_7.New$3=er.Ctor(function(ez,eA,eB){g.New.call(this);this.key=ez;this["var"]=eA;this.storage=eB;this.v=p.Map(function(eC){return eC.slice();},this["var"].get_View());this.it=new b4.New$5();},_7);_8.New=function(ez,eA){return{varName:ez,varVar:eA};};_9.New=function(ez,eA){return{viwName:ez,viwView:eA};};_.New=function(ez,eA){return{docName:ez,docDoc:eA};};$.NewFromSeq=function(ez){var eA,eB,eC;eA={};eB=cI.Get(ez);try{while(eB.MoveNext()){eC=eB.Current();eA[eC[0]]=eC[1];}}finally{if(typeof eB=="object"&&"Dispose"in eB)eB.Dispose();}return eA;};bb.New=function(ez,eA,eB){return{c:ez,v:eA,f:eB};};bc.sortWith=function(ez,eA){return bc.delay(function(){var eB;eB=T.ofSeq(eA);T.sortInPlaceWith(ez,eB);return eB;});};bc.filter=function(ez,eA){return{GetEnumerator:function(){var eB;eB=cI.Get(eA);return new cJ.New(null,null,function(eC){var eD,eE,eF;eD=eB.MoveNext();eE=eB.Current();eF=false;while(eD)if(ez(eE)){eC.c=eE;eF=true;eD=false;}else if(eB.MoveNext())eE=eB.Current();else eD=false;return eF;},function(){eB.Dispose();});}};};bc.isEmpty=function(ez){var eA;eA=cI.Get(ez);try{return!eA.MoveNext();}finally{if(typeof eA=="object"&&"Dispose"in eA)eA.Dispose();}};bc.map=function(ez,eA){return{GetEnumerator:function(){var eB;eB=cI.Get(eA);return new cJ.New(null,null,function(eC){return eB.MoveNext()&&(eC.c=ez(eB.Current()),true);},function(){eB.Dispose();});}};};bc.delay=function(ez){return{GetEnumerator:function(){return cI.Get(ez());}};};bc.append=function(ez,eA){return{GetEnumerator:function(){var eB,eC;eB=cI.Get(ez);eC=[true];return new cJ.New(eB,null,function(eD){var eE;return eD.s.MoveNext()?(eD.c=eD.s.Current(),true):(eE=eD.s,!J.Equals(eE,null)?eE.Dispose():void 0,eD.s=null,eC[0]&&(eC[0]=false,eD.s=cI.Get(eA),eD.s.MoveNext()?(eD.c=eD.s.Current(),true):(eD.s.Dispose(),eD.s=null,false)));},function(eD){var eE;eE=eD.s;!J.Equals(eE,null)?eE.Dispose():void 0;});}};};bc.collect=function(ez,eA){return bc.concat(bc.map(ez,eA));};bc.min=function(ez){var eA,eB,eC;eA=cI.Get(ez);try{if(!eA.MoveNext())bc.seqEmpty();eB=eA.Current();while(eA.MoveNext()){eC=eA.Current();J.Compare(eC,eB)===-1?eB=eC:void 0;}return eB;}finally{if(typeof eA=="object"&&"Dispose"in eA)eA.Dispose();}};bc.tryPick=function(ez,eA){var eB,eC;eB=cI.Get(eA);try{eC=null;while(J.Equals(eC,null)&&eB.MoveNext())eC=ez(eB.Current());return eC;}finally{if(typeof eB=="object"&&"Dispose"in eB)eB.Dispose();}};bc.tryFind=function(ez,eA){var eB,eC,eD;eB=cI.Get(eA);try{eC=null;while(eC==null&&eB.MoveNext()){eD=eB.Current();ez(eD)?eC={$:1,$0:eD}:void 0;}return eC;}finally{if(typeof eB=="object"&&"Dispose"in eB)eB.Dispose();}};bc.exists=function(ez,eA){var eB,eC;eB=cI.Get(eA);try{eC=false;while(!eC&&eB.MoveNext())eC=ez(eB.Current());return eC;}finally{if(typeof eB=="object"&&"Dispose"in eB)eB.Dispose();}};bc.sumBy=function(ez,eA){return bc.fold(function(eB,eC){return eB+ez(eC);},0,eA);};bc.length=function(ez){var eA,eB;eA=0;eB=cI.Get(ez);try{while(eB.MoveNext())eA=eA+1;return eA;}finally{if(typeof eB=="object"&&"Dispose"in eB)eB.Dispose();}};bc.zip=function(ez,eA){return bc.map2(function(eB,eC){return[eB,eC];},ez,eA);};bc.choose=function(ez,eA){return bc.collect(function(eB){var eC;eC=ez(eB);return eC==null?cL.Empty:bB.ofArray([eC.$0]);},eA);};bc.distinct=function(ez){return bc.distinctBy(a.id,ez);};bc.sort=function(ez){return bc.sortBy(a.id,ez);};bc.groupBy=function(ez,eA){return bc.delay(function(){return T.groupBy(ez,T.ofSeq(eA));});};bc.concat=function(ez){return{GetEnumerator:function(){var eA;eA=cI.Get(ez);return new cJ.New(null,null,function(eB){var eC;while(true){eC=eB.s;if(J.Equals(eC,null)){if(eA.MoveNext()){eB.s=cI.Get(eA.Current());eB=eB;}else{eA.Dispose();return false;}}else if(eC.MoveNext()){eB.c=eC.Current();return true;}else{eB.Dispose();eB.s=null;eB=eB;}}},function(eB){var eC;eC=eB.s;!J.Equals(eC,null)?eC.Dispose():void 0;!J.Equals(eA,null)?eA.Dispose():void 0;});}};};bc.seqEmpty=function(){return o.FailWith("The input sequence was empty.");};bc.indexed=function(ez){return bc.mapi(function(eA,eB){return[eA,eB];},ez);};bc.fold=function(ez,eA,eB){var eC,eD;eC=eA;eD=cI.Get(eB);try{while(eD.MoveNext())eC=ez(eC,eD.Current());return eC;}finally{if(typeof eD=="object"&&"Dispose"in eD)eD.Dispose();}};bc.map2=function(ez,eA,eB){return{GetEnumerator:function(){var eC,eD;eC=cI.Get(eA);eD=cI.Get(eB);return new cJ.New(null,null,function(eE){return eC.MoveNext()&&eD.MoveNext()&&(eE.c=ez(eC.Current(),eD.Current()),true);},function(){eC.Dispose();eD.Dispose();});}};};bc.sortBy=function(ez,eA){return bc.delay(function(){var eB;eB=T.ofSeq(eA);T.sortInPlaceBy(ez,eB);return eB;});};bc.tryFindIndex=function(ez,eA){var eB,eC,eD;eB=cI.Get(eA);try{eC=true;eD=0;while(eC&&eB.MoveNext())if(ez(eB.Current()))eC=false;else eD=eD+1;return eC?null:{$:1,$0:eD};}finally{if(typeof eB=="object"&&"Dispose"in eB)eB.Dispose();}};bc.distinctBy=function(ez,eA){return{GetEnumerator:function(){var eB,eC;eB=cI.Get(eA);eC=new b5.New$3();return new cJ.New(null,null,function(eD){var eE,eF;if(eB.MoveNext()){eE=eB.Current();eF=eC.Add(ez(eE));while(!eF&&eB.MoveNext()){eE=eB.Current();eF=eC.Add(ez(eE));}return eF&&(eD.c=eE,true);}else return false;},function(){eB.Dispose();});}};};bc.mapi=function(ez,eA){return bc.map2(ez,bc.initInfinite(a.id),eA);};bc.iter=function(ez,eA){var eB;eB=cI.Get(eA);try{while(eB.MoveNext())ez(eB.Current());}finally{if(typeof eB=="object"&&"Dispose"in eB)eB.Dispose();}};bc.init=function(ez,eA){return bc.take(ez,bc.initInfinite(eA));};bc.pairwise=function(ez){return bc.map(function(eA){return[T.get(eA,0),T.get(eA,1)];},bc.windowed(2,ez));};bc.forall2=function(ez,eA,eB){return!bc.exists2(function(eC,eD){return!ez(eC,eD);},eA,eB);};bc.iteri=function(ez,eA){var eB,eC;eB=0;eC=cI.Get(eA);try{while(eC.MoveNext()){ez(eB,eC.Current());eB=eB+1;}}finally{if(typeof eC=="object"&&"Dispose"in eC)eC.Dispose();}};bc.initInfinite=function(ez){return{GetEnumerator:function(){return new cJ.New(0,null,function(eA){eA.c=ez(eA.s);eA.s=eA.s+1;return true;},void 0);}};};bc.take=function(ez,eA){ez<0?bc.nonNegative():void 0;return{GetEnumerator:function(){var eB;eB=[cI.Get(eA)];return new cJ.New(0,null,function(eC){var eD;eC.s=eC.s+1;return eC.s>ez?false:(eD=eB[0],J.Equals(eD,null)?bc.insufficient():eD.MoveNext()?(eC.c=eD.Current(),eC.s===ez?(eD.Dispose(),eB[0]=null):void 0,true):(eD.Dispose(),eB[0]=null,bc.insufficient()));},function(){var eC;eC=eB[0];!J.Equals(eC,null)?eC.Dispose():void 0;});}};};bc.skip=function(ez,eA){return{GetEnumerator:function(){var eB;eB=cI.Get(eA);return new cJ.New(true,null,function(eC){var eD,eE;if(eC.s){for(eD=1,eE=ez;eD<=eE;eD++)if(!eB.MoveNext())bc.insufficient();eC.s=false;}else null;return eB.MoveNext()&&(eC.c=eB.Current(),true);},function(){eB.Dispose();});}};};bc.nth=function(ez,eA){var eB,eC;if(ez<0)o.FailWith("negative index requested");eB=-1;eC=cI.Get(eA);try{while(eB<ez){!eC.MoveNext()?bc.insufficient():void 0;eB=eB+1;}return eC.Current();}finally{if(typeof eC=="object"&&"Dispose"in eC)eC.Dispose();}};bc.windowed=function(ez,eA){ez<=0?o.FailWith("The input must be positive."):void 0;return bc.delay(function(){return bc.enumUsing(cI.Get(eA),function(eB){var eC;eC=[];return bc.append(bc.enumWhile(function(){return eC.length<ez&&eB.MoveNext();},bc.delay(function(){eC.push(eB.Current());return[];})),bc.delay(function(){return eC.length===ez?bc.append([eC.slice(0)],bc.delay(function(){return bc.enumWhile(function(){return eB.MoveNext();},bc.delay(function(){eC.shift();eC.push(eB.Current());return[eC.slice(0)];}));})):[];}));});});};bc.head=function(ez){var eA;eA=cI.Get(ez);try{return eA.MoveNext()?eA.Current():bc.insufficient();}finally{if(typeof eA=="object"&&"Dispose"in eA)eA.Dispose();}};bc.exists2=function(ez,eA,eB){var eC,eD,eE,eF;eC=cI.Get(eA);try{eE=cI.Get(eB);try{eF=false;while(!eF&&eC.MoveNext()&&eE.MoveNext())eF=ez(eC.Current(),eE.Current());eD=eF;}finally{if(typeof eE=="object"&&"Dispose"in eE)eE.Dispose();}return eD;}finally{if(typeof eC=="object"&&"Dispose"in eC)eC.Dispose();}};bc.compareWith=function(ez,eA,eB){var eC,eD,eE,eF,eG;eC=cI.Get(eA);try{eE=cI.Get(eB);try{eF=0;eG=true;while(eG&&eF===0)if(eC.MoveNext())eF=eE.MoveNext()?ez(eC.Current(),eE.Current()):1;else if(eE.MoveNext())eF=-1;else eG=false;eD=eF;}finally{if(typeof eE=="object"&&"Dispose"in eE)eE.Dispose();}return eD;}finally{if(typeof eC=="object"&&"Dispose"in eC)eC.Dispose();}};bc.unfold=function(ez,eA){return{GetEnumerator:function(){return new cJ.New(eA,null,function(eB){var eC;eC=ez(eB.s);return eC==null?false:(eB.c=eC.$0[0],eB.s=eC.$0[1],true);},void 0);}};};bc.max=function(ez){var eA,eB,eC;eA=cI.Get(ez);try{if(!eA.MoveNext())bc.seqEmpty();eB=eA.Current();while(eA.MoveNext()){eC=eA.Current();J.Compare(eC,eB)===1?eB=eC:void 0;}return eB;}finally{if(typeof eA=="object"&&"Dispose"in eA)eA.Dispose();}};bc.forall=function(ez,eA){return!bc.exists(function(eB){return!ez(eB);},eA);};be.op_AmpGreater=function(ez,eA,eB,eC){var eD;eD=ez(eB,eC);return eD===0?eA(eB,eC):eD;};be.asc=function(ez,eA,eB){return J.Compare(ez(eA),ez(eB));};be.desc=function(ez,eA,eB){return J.Compare(ez(eB),ez(eA));};bf.New=function(ez,eA,eB,eC,eD,eE){return{hijosDe:ez,nivelDe:eA,aliado:eB,aliadoO:eC,hijos:eD,descendientes:eE};};bh=bg.FSharpSet=er.Class({Contains:function(ez){return cK.Contains(ez,this.tree);},Remove:function(ez){return new bh.New$1(cK.Remove(ez,this.tree));},Add:function(ez){return new bh.New$1(cK.Add(ez,this.tree));},Equals:function(ez){return this.get_Count()===ez.get_Count()&&bc.forall2(J.Equals,this,ez);},GetEnumerator$1:function(){return cI.Get(cK.Enumerate(false,this.tree));},get_Count:function(){var ez;ez=this.tree;return ez==null?0:ez.Count;},GetHashCode:function(){return -1741749453+J.Hash(T.ofSeq(this));},GetEnumerator:function(){return this.GetEnumerator$1();},CompareTo0:function(ez){return bc.compareWith(J.Compare,this,ez);},GetEnumerator0:function(){return this.GetEnumerator$1();}},g,bh);bh.op_Subtraction=function(ez,eA){return bi.Filter(function(eB){return!eA.Contains(eB);},ez);};bh.New=er.Ctor(function(ez){bh.New$1.call(this,cK.OfSeq(ez));},bh);bh.New$1=er.Ctor(function(ez){g.New.call(this);this.tree=ez;},bh);bi.Filter=function(ez,eA){var eB;return new bh.New$1((eB=T.ofSeq(bc.filter(ez,eA)),cK.Build(eB,0,eB.length-1)));};bj.PadLeft=function(ez,eA){return bj.PadLeftWith(ez,eA," ");};bj.concat=function(ez,eA){return T.ofSeq(eA).join(ez);};bj.PadLeftWith=function(ez,eA,eB){return eA>ez.length?a.Array(eA-ez.length+1).join(eB)+ez:ez;};bj.Trim=function(ez){return ez.replace(new a.RegExp("^\\s+"),"").replace(new a.RegExp("\\s+$"),"");};bj.Substring=function(ez,eA,eB){return ez.substr(eA,eB);};bj.Replace=function(ez,eA,eB){function eC(eD){var eE,eF,eG;eE=eD.indexOf(eA);return eE!==-1?(eF=bj.ReplaceOnce(eD,eA,eB),(eG=eE+eB.length,bj.Substring(eF,0,eE+eB.length)+eC(eF.substring(eG)))):eD;}return eC(ez);};bj.SplitChars=function(ez,eA,eB){return bj.Split(ez,new a.RegExp("["+bj.RegexEscape(eA.join(""))+"]"),eB);};bj.StartsWith=function(ez,eA){return ez.substring(0,eA.length)==eA;};bj.ReplaceOnce=function(ez,eA,eB){return ez.replace(eA,eB);};bj.Split=function(ez,eA,eB){return eB===1?T.filter(function(eC){return eC!=="";},bj.SplitWith(ez,eA)):bj.SplitWith(ez,eA);};bj.RegexEscape=function(ez){return ez.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};bj.IsNullOrEmpty=function(ez){return ez==null||ez=="";};bj.SplitWith=function(ez,eA){return ez.split(eA);};bj.replicate=function(ez,eA){return T.create(ez,eA).join("");};bj.ReplaceChar=function(ez,eA,eB){return bj.Replace(ez,eA,eB);};bj.SplitStrings=function(ez,eA,eB){return bj.Split(ez,new a.RegExp(bj.concat("|",T.map(bj.RegexEscape,eA))),eB);};bj.forall=function(ez,eA){return bc.forall(ez,bj.protect(eA));};bj.protect=function(ez){return ez===null?"":ez;};bj.Join=function(ez,eA){return eA.join(ez);};bk=M.CorreoElectronico=er.Class({toString:function(){return this.email;}},null,bk);bk.New=function(ez,eA,eB){return new bk({email:ez,enviado:eA,recibido:eB});};bl.formaDoc=function(ez){var eA,eB,eC,eD,eE,eF;eA=(eB=(eC=_0.EmbedView(p.Map(bv.crearOptions,bv.generos().get_View())),U.Make().WithHole({$:0,$0:"generos",$1:eC})),(eD=V.CompleteHoles(eB.k,eB.h,[["nombres",0],["apellidos",0],["fechanacimiento",0],["genero",0]]),(eE=new S.New(eD[1],W.datospersonales(eD[0])),(eB.i=eE,eE))));p.Sink(function(eG){var eH;if(eG!=null&&eG.$==1){eH=eG.$0;eA.Hole("nombres").Set(bj.Trim(eH.nombre1+" "+eH.nombre2));eA.Hole("apellidos").Set(bj.Trim(eH.apellido1+" "+eH.apellido2));eA.Hole("fechanacimiento").Set(bA.toYYYYMMDD("-",eH.fechaNacimiento));eA.Hole("genero").Set((function(eI){return function(eJ){return eI(X.p$14(eJ));};}(a.id))(eH.genero));}},ez.get_View());eF=p.Apply(p.Apply(p.Map2(function(eG,eH){return function(eI){return function(eJ){return bc.map(function(eK){return eK[1];},bc.filter(function(eK){return eK[0];},bB.ofArray([[bj.Trim(eG)==="","Nombres"],[bj.Trim(eH)==="","Apellidos"],[bj.Trim(eI)==="","Fecha de Nacimiento"],[bj.Trim(eJ)==="","Genero"]])));};};},eA.Hole("nombres").get_View(),eA.Hole("apellidos").get_View()),eA.Hole("fechanacimiento").get_View()),eA.Hole("genero").get_View());p.Sink(function(eG){if(!J.Equals(ez.Get(),eG))ez.Set(eG);},p.Apply(p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(eG,eH){return er.Curried(function(eI,eJ,eK,eL,eM){return!bc.isEmpty(eG)?null:bv.alertIfNone("Genero",cu.tryParse(eH),function(eN){return bv.alertIfNone("Fecha incorrecta",(ce.parseDateO2$1())(eI),function(eO){return{$:1,$0:bZ.New(null,T.get(bj.SplitChars(bj.Trim(eJ),[" "],0),0),bj.concat(" ",cd.array(bj.SplitChars(bj.Trim(eK),[" "],0),{$:1,$0:1},null)),T.get(bj.SplitChars(bj.Trim(eL),[" "],0),0),bj.concat(" ",cd.array(bj.SplitChars(bj.Trim(eM),[" "],0),{$:1,$0:1},null)),new cn({$:3,$0:""}),eN,eO)};});});},5);},eF,eA.Hole("genero").get_View()),eA.Hole("fechanacimiento").get_View()),eA.Hole("nombres").get_View()),eA.Hole("nombres").get_View()),eA.Hole("apellidos").get_View()),eA.Hole("apellidos").get_View()));return[eF,eA.get_Doc()];};bm.formaDoc=function(ez){var eA,eB,eC,eD,eE,eF,eG;eA=i.Create$1("");eB=(eC=U.Make().WithHole({$:2,$0:"mensaje",$1:eA.get_View()}),(eD=V.CompleteHoles(eC.k,eC.h,[["correo",0],["confirmarcorreo",0]]),(eE=new S.New(eD[1],W.correo(eD[0])),(eC.i=eE,eE))));eF=ez.Get();eF!=null&&eF.$==1?eB.Hole("confirmarcorreo").Set(a.String(eF.$0)):void 0;p.Sink(function(eH){eA.Set(eH);},p.Apply(p.Apply(p.Map2(function(eH,eI){return function(eJ){return function(eK){return bj.Trim(eH)===""||bj.Trim(eI)===""||bj.Trim(eJ)===bj.Trim(eK)?"":"Correos no son iguales";};};},eB.Hole("correo").get_View(),eB.Hole("confirmarcorreo").get_View()),eB.Hole("correo").get_View()),eB.Hole("confirmarcorreo").get_View()));p.Sink(function(eH){if(eH!=null&&eH.$==1)eB.Hole("correo").Set(eH.$0.email);},ez.get_View());eG=p.Apply(p.Apply(p.Map2(function(eH,eI){return function(eJ){return function(eK){return bc.map(function(eL){return eL[1];},bc.filter(function(eL){return eL[0];},bB.ofArray([[bj.Trim(eH)==="","Correo"],[bj.Trim(eI)==="","ConfirmarCorreo"],[eJ!=="",eK]])));};};},eB.Hole("correo").get_View(),eB.Hole("confirmarcorreo").get_View()),eA.get_View()),eA.get_View());p.Sink(function(eH){if(!J.Equals(ez.Get(),eH))ez.Set(eH);},p.Map2(function(eH,eI){var eJ,eK,eL,eM;return!bc.isEmpty(eH)?null:(eJ=(eK=ez.Get(),(eL={$:1,$0:M.correoVacio()},eK==null?eL:eK)),eJ==null?null:{$:1,$0:(eM=eJ.$0,bk.New(eI,eM.enviado,eM.recibido))});},eG,eB.Hole("correo").get_View()));return[eG,eB.get_Doc()];};bn.formaDoc=function(ez){var eA,eB,eC,eD,eE,eF;eA=(eB=(eC=_0.EmbedView(p.Map(bv.crearOptions,bv.tiposTel().get_View())),U.Make().WithHole({$:0,$0:"tipos",$1:eC})),(eD=V.CompleteHoles(eB.k,eB.h,[["tipotelefono",0],["codigopais",0],["codigoarea",0],["telefono",0],["extension",0]]),(eE=new S.New(eD[1],W.telefono(eD[0])),(eB.i=eE,eE))));p.Sink(function(eG){var eH;if(eG!=null&&eG.$==1){eH=eG.$0;eA.Hole("codigoarea").Set(eH.codigoArea);eA.Hole("codigopais").Set(eH.codigoPais);eA.Hole("telefono").Set(eH.numero);eA.Hole("extension").Set(eH.extension);eA.Hole("tipotelefono").Set((function(eI){return function(eJ){return eI(a.String(eJ));};}(a.id))(eH.tipoTelefono));}},ez.get_View());eF=p.Apply(p.Map2(function(eG,eH){return function(eI){return bc.map(function(eJ){return eJ[1];},bc.filter(function(eJ){return eJ[0];},bB.ofArray([[bj.Trim(eG)==="","CodigoPais"],[bj.Trim(eH)==="","Telefono"],[bj.Trim(eI)==="","TipoTelefono"]])));};},eA.Hole("codigopais").get_View(),eA.Hole("telefono").get_View()),eA.Hole("tipotelefono").get_View());p.Sink(function(eG){if(!J.Equals(ez.Get(),eG))ez.Set(eG);},p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(eG,eH){return er.Curried(function(eI,eJ,eK,eL){return!bc.isEmpty(eG)?null:bv.alertIfNone("TipoTelefono",(cj.get_tryParse())(bj.Trim(eH)),function(eM){var eN;return{$:1,$0:(eN=bj.Trim(eI),ci.New(eM,bj.Trim(eJ),eN,bj.Trim(eK),bj.Trim(eL),false))};});},4);},eF,eA.Hole("tipotelefono").get_View()),eA.Hole("codigoarea").get_View()),eA.Hole("codigopais").get_View()),eA.Hole("telefono").get_View()),eA.Hole("extension").get_View()));return[eF,eA.get_Doc()];};bo.formaDoc=function(ez){var eA,eB,eC,eD,eE,eF,eG,eH;eA=(eB=(eC=_0.EmbedView(p.Map(bv.crearOptions,bv.tiposDir().get_View())),(eD=_0.EmbedView(p.Map(bv.crearOptions,bv.estados().get_View())),(eE=_0.EmbedView(p.Map(bv.crearOptions,bv.paises().get_View())),U.Make().WithHole({$:0,$0:"paises",$1:eE})).WithHole({$:0,$0:"estados",$1:eD})).WithHole({$:0,$0:"tipos",$1:eC})),(eF=V.CompleteHoles(eB.k,eB.h,[["tipodireccion",0],["direccion1",0],["direccion2",0],["ciudad",0],["estado",0],["codigopostal",0],["pais",0]]),(eG=new S.New(eF[1],W.direccion(eF[0])),(eB.i=eG,eG))));p.Sink(function(eI){var eJ;if(eI!=null&&eI.$==1){eJ=eI.$0;eA.Hole("direccion1").Set(eJ.linea1);eA.Hole("direccion2").Set(eJ.linea2);eA.Hole("ciudad").Set(eJ.ciudad);eA.Hole("estado").Set((function(eK){return function(eL){return eK(a.String(eL));};}(a.id))(eJ.estado));eA.Hole("pais").Set((function(eK){return function(eL){return eK(a.String(eL));};}(a.id))(eJ.pais));eA.Hole("codigopostal").Set((function(eK){return function(eL){return eK(a.String(eL));};}(a.id))(eJ.zonaPostal));eA.Hole("tipodireccion").Set((function(eK){return function(eL){return eK(a.String(eL));};}(a.id))(eJ.tipoDireccion));}},ez.get_View());eH=p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(eI,eJ){return er.Curried(function(eK,eL,eM,eN){return bc.map(function(eO){return eO[1];},bc.filter(function(eO){return eO[0];},bB.ofArray([[bj.Trim(eI)==="","Direccion1"],[bj.Trim(eJ)==="","Ciudad"],[bj.Trim(eK)==="","Estado"],[bj.Trim(eL)==="","Pais"],[bj.Trim(eM)==="","CodigoPostal"],[bj.Trim(eN)==="","TipoDireccion"]])));},4);},eA.Hole("direccion1").get_View(),eA.Hole("ciudad").get_View()),eA.Hole("estado").get_View()),eA.Hole("pais").get_View()),eA.Hole("codigopostal").get_View()),eA.Hole("tipodireccion").get_View());p.Sink(function(eI){if(!J.Equals(ez.Get(),eI))ez.Set(eI);},p.Apply(p.Apply(p.Apply(p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(eI,eJ){return er.Curried(function(eK,eL,eM,eN,eO,eP,eQ){return!bc.isEmpty(eI)?null:bv.alertIfNone("TipoDireccion",cl.tryParse(bj.Trim(eJ)),function(eR){return bv.alertIfNone("Estado",cm.tryParse(bj.Trim(eK)),function(eS){return bv.alertIfNone("Pais",cn.tryParse(bj.Trim(eL)),function(eT){return bv.alertIfNone("CodigoPostal",co.tryParse(bj.Trim(eM)),function(eU){var eV;return{$:1,$0:ck.New((eV=eQ==null?null:{$:1,$0:eQ.$0.authorizeIdR},eV==null?bd.Error$1(""):eV.$0),eR,bj.Trim(eN),bj.Trim(eO),bj.Trim(eP),eS,eT,eU)};});});});});},7);},eH,eA.Hole("tipodireccion").get_View()),eA.Hole("estado").get_View()),eA.Hole("pais").get_View()),eA.Hole("codigopostal").get_View()),eA.Hole("direccion1").get_View()),eA.Hole("direccion2").get_View()),eA.Hole("ciudad").get_View()),ez.get_View()));return[eH,eA.get_Doc()];};bp.asyncResult=function(){_6.$cctor();return _6.asyncResult;};bq=bp.AsyncResultBuilder=er.Class({Run:function(ez){return cM.bind(ez,cM.rtn());},Delay:a.id,Bind$1:function(ez,eA){return cM.bind(eA,ez);},Zero:function(){return cM.rtn();},Combine$1:function(ez,eA){return cM.bind(eA,ez);},For:function(ez,eA){var eB;eB=this;return this.Using(cI.Get(ez),function(eC){return eB.While(function(){return eC.MoveNext();},eB.Delay(function(){return eA(eC.Current());}));});},Return:function(ez){return cM.rtn(ez);},Bind:function(ez,eA){return cM.bind(eA,cM.rtnR(ez));},Using:function(ez,eA){return cU.Using(ez,eA);},While:function(ez,eA){return cM.whileLoop(ez,eA);},ReturnFrom$1:a.id,TryFinally:function(ez,eA){var eB;eB=null;return cU.Delay(function(){return cU.TryFinally(cU.Delay(function(){return ez();}),function(){eA();});});}},g,bq);bq.New=er.Ctor(function(){g.New.call(this);},bq);br.refrescarData=function(ez){var eA,eB,eC;ez?br.set_shouldRefresh(true):void 0;eA=bU.userO().Get();eA!=null&&eA.$==1?(eB=eA.$0,_1.iterA((eC=bp.asyncResult(),eC.Run(eC.Delay(function(){return eC.Combine$1(bU.referidoPor()!==""?eC.Bind$1(_1.agregarUsuarioSiEsNuevo(bU.claims(eB)),function(){return eC.Return();}):eC.Zero(),eC.Delay(function(){return!self.document.hidden?br.shouldRefresh()?eC.Bind$1(_1.obtenerEstadoParaUsuario(),function(eD){br.set_shouldRefresh(false);return!J.Equals(m.modeloV().Get(),eD)?(m.modeloV().Set(eD),eC.Zero()):eC.Zero();}):eC.Zero():eC.Zero();}));}))))):m.modeloV().Set(M.modeloVacio());};br.set_shouldRefresh=function(ez){_6.$cctor();_6.shouldRefresh=ez;};br.shouldRefresh=function(){_6.$cctor();return _6.shouldRefresh;};bt.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new a.RegExp("[xy]","g"),function(ez){var eA,eB;eA=es.random()*16|0;eB=ez=="x"?eA:eA&3|8;return eB.toString(16);});};bt.TryParse=function(ez,eA){try{eA.set(bt.Parse(ez));return true;}catch(eB){return false;}};bt.Parse=function(ez){var eA,eB,eC;try{return bt.ParseExact(ez,"D");}catch(eD){try{eA=bt.ParseExact(ez,"B");}catch(eE){try{eB=bt.ParseExact(ez,"P");}catch(eF){try{eC=bt.ParseExact(ez,"N");}catch(eG){eC=bt.ParseExact(ez,"X");}eB=eC;}eA=eB;}return eA;}};bt.ParseExact=function(ez,eA){var eB,eC,eD,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO;function eE(eP){var eQ,eR,eS,eT;for(eQ=0,eR=35;eQ<=eR;eQ++){eQ===8||(eQ===13||(eQ===18||eQ===23))?eP[eQ]!=="-"?bt.ShapeError():void 0:(eT=eP[eQ],!("0"<=eT&&eT<="9"||"a"<=eT&&eT<="f")?bt.ShapeError():void 0);}return eP;}eF=eA.toUpperCase();if(eF==="N"){eG=bj.Trim(ez).toLowerCase();if(eG.length!==32)bt.ShapeError();for(eH=0,eI=31;eH<=eI;eH++){eJ=eG[eH];!("0"<=eJ&&eJ<="9"||"a"<=eJ&&eJ<="f")?bt.ShapeError():void 0;}return bj.Substring(eG,0,8)+"-"+bj.Substring(eG,8,4)+"-"+bj.Substring(eG,12,4)+"-"+bj.Substring(eG,16,4)+"-"+eG.substring(20);}else if(eF==="D"){eB=bj.Trim(ez).toLowerCase();eB.length!==36?bt.ShapeError():void 0;return eE(eB);}else if(eF==="B"){eC=bj.Trim(ez).toLowerCase();eC.length!==38||eC[0]!=="{"||eC[17]!=="}"?bt.ShapeError():void 0;return eE(bj.Substring(eC,1,36));}else if(eF==="P"){eD=bj.Trim(ez).toLowerCase();eD.length!==38||eD[0]!=="("||eD[17]!==")"?bt.ShapeError():void 0;return eE(bj.Substring(eD,1,36));}else if(eF==="X"){eK=bj.Trim(ez).toLowerCase();if(eK.length!==68)bt.ShapeError();for(eL=0,eM=67;eL<=eM;eL++){switch(eL){case 26:case 0:if(eK[eL]!=="{")bt.ShapeError();break;case 62:case 57:case 52:case 47:case 42:case 37:case 32:case 27:case 19:case 12:case 1:if(eK[eL]!=="0")bt.ShapeError();break;case 63:case 58:case 53:case 48:case 43:case 38:case 33:case 28:case 20:case 13:case 2:if(eK[eL]!=="x")bt.ShapeError();break;case 61:case 56:case 51:case 46:case 41:case 36:case 31:case 25:case 18:case 11:if(eK[eL]!==",")bt.ShapeError();break;case 67:case 66:if(eK[eL]!=="{")bt.ShapeError();break;default:eO=eK[eL];!("0"<=eO&&eO<="9"||"a"<=eO&&eO<="f")?bt.ShapeError():void 0;break;}}return bj.Substring(eK,3,8)+"-"+bj.Substring(eK,14,4)+"-"+bj.Substring(eK,21,4)+"-"+bj.Substring(eK,29,2)+bj.Substring(eK,34,2)+"-"+bj.Substring(eK,39,2)+bj.Substring(eK,44,2)+bj.Substring(eK,49,2)+bj.Substring(eK,54,2)+bj.Substring(eK,59,2)+bj.Substring(eK,64,2);}else return bt.FormatError();};bt.ShapeError=function(){throw new ef.New$1("Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");};bt.FormatError=function(){throw new ef.New$1("Format String can be only \"D\", \"d\", \"N\", \"n\", \"P\", \"p\", \"B\", \"b\", \"X\" or \"x\".");};bu.New=function(ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM){return{archivos:ez,nombre:eA,correo:eB,status:eC,influyente:eD,tipo:eE,referido:eF,nivel:eG,referidos:eH,descendientes:eI,comision:eJ,diaPago:eK,desde:eL,Id:eM};};T.map=function(ez,eA){var eB,eC,eD;eB=new a.Array(eA.length);for(eC=0,eD=eA.length-1;eC<=eD;eC++)eB[eC]=ez(eA[eC]);return eB;};T.sortBy=function(ez,eA){return T.map(function(eB){return eB[0];},T.mapi(function(eB,eC){return[eC,[ez(eC),eB]];},eA).sort(function(eB,eC){return J.Compare(eB[1],eC[1]);}));};T.reduce=function(ez,eA){var eB,eC,eD;T.nonEmpty(eA);eB=eA[0];for(eC=1,eD=eA.length-1;eC<=eD;eC++)eB=ez(eB,eA[eC]);return eB;};T.filter=function(ez,eA){var eB,eC,eD;eB=[];for(eC=0,eD=eA.length-1;eC<=eD;eC++)if(ez(eA[eC]))eB.push(eA[eC]);return eB;};T.choose=function(ez,eA){var eB,eC,eD,eE;eB=[];for(eC=0,eD=eA.length-1;eC<=eD;eC++){eE=ez(eA[eC]);eE==null?void 0:eB.push(eE.$0);}return eB;};T.ofSeq=function(ez){var eA,eB;if(ez instanceof a.Array)return ez.slice();else if(ez instanceof cL)return T.ofList(ez);else{eA=[];eB=cI.Get(ez);try{while(eB.MoveNext())eA.push(eB.Current());return eA;}finally{if(typeof eB=="object"&&"Dispose"in eB)eB.Dispose();}}};T.sortInPlaceWith=function(ez,eA){eA.sort(ez);};T.mapi=function(ez,eA){var eB,eC,eD;eB=new a.Array(eA.length);for(eC=0,eD=eA.length-1;eC<=eD;eC++)eB[eC]=ez(eC,eA[eC]);return eB;};T.nonEmpty=function(ez){if(ez.length===0)o.FailWith("The input array was empty.");};T.tryFindIndex=function(ez,eA){var eB,eC;eB=null;eC=0;while(eC<eA.length&&eB==null){ez(eA[eC])?eB={$:1,$0:eC}:void 0;eC=eC+1;}return eB;};T.ofList=function(ez){var eA,eB;eB=[];eA=ez;while(!(eA.$==0)){eB.push(bB.head(eA));eA=bB.tail(eA);}return eB;};T.sortInPlace=function(ez){T.mapInPlace(function(eA){return eA[0];},T.mapiInPlace(function(eA,eB){return[eB,eA];},ez).sort(J.Compare));};T.tryFind=function(ez,eA){var eB,eC;eB=null;eC=0;while(eC<eA.length&&eB==null){ez(eA[eC])?eB={$:1,$0:eA[eC]}:void 0;eC=eC+1;}return eB;};T.sortInPlaceBy=function(ez,eA){T.mapInPlace(function(eB){return eB[0];},T.mapiInPlace(function(eB,eC){return[eC,[ez(eC),eB]];},eA).sort(function(eB,eC){return J.Compare(eB[1],eC[1]);}));};T.map2=function(ez,eA,eB){var eC,eD,eE;T.checkLength(eA,eB);eC=new a.Array(eB.length);for(eD=0,eE=eB.length-1;eD<=eE;eD++)eC[eD]=ez(eA[eD],eB[eD]);return eC;};T.forall=function(ez,eA){var eB,eC,eD,eE;eB=true;eC=0;eE=T.length(eA);while(eB&&eC<eE)if(ez(eA[eC]))eC=eC+1;else eB=false;return eB;};T.init=function(ez,eA){var eB,eC,eD;ez<0?o.FailWith("Negative size given."):null;eB=new a.Array(ez);for(eC=0,eD=ez-1;eC<=eD;eC++)eB[eC]=eA(eC);return eB;};T.find=function(ez,eA){var eB;eB=T.tryFind(ez,eA);return eB==null?o.FailWith("KeyNotFoundException"):eB.$0;};T.tryPick=function(ez,eA){var eB,eC,eD;eB=null;eC=0;while(eC<eA.length&&eB==null){eD=ez(eA[eC]);eD!=null&&eD.$==1?eB=eD:void 0;eC=eC+1;}return eB;};T.concat=function(ez){return a.Array.prototype.concat.apply([],T.ofSeq(ez));};T.checkLength=function(ez,eA){if(ez.length!==eA.length)o.FailWith("The arrays have different lengths.");};T.exists=function(ez,eA){var eB,eC,eD,eE;eB=false;eC=0;eE=T.length(eA);while(!eB&&eC<eE)if(ez(eA[eC]))eB=true;else eC=eC+1;return eB;};T.pick=function(ez,eA){var eB;eB=T.tryPick(ez,eA);return eB==null?o.FailWith("KeyNotFoundException"):eB.$0;};T.create=function(ez,eA){var eB,eC,eD;eB=new a.Array(ez);for(eC=0,eD=ez-1;eC<=eD;eC++)eB[eC]=eA;return eB;};T.foldBack=function(ez,eA,eB){var eC,eD,eE,eF,eG;eC=eB;eE=eA.length;for(eF=1,eG=eE;eF<=eG;eF++)eC=ez(eA[eE-eF],eC);return eC;};T.iter=function(ez,eA){var eB,eC;for(eB=0,eC=eA.length-1;eB<=eC;eB++)ez(eA[eB]);};bv.statuses=function(){_6.$cctor();return _6.statuses;};bv.crearOptions=function(ez){return _0.Concat(bc.map(bv.crearOption,ez));};bv.crearOptions2=function(ez){return _0.Concat(bc.map(function(eA){return bv.crearOption2(eA[0],eA[1]);},ez));};bv.statusAr=function(){_6.$cctor();return _6.statusAr;};bv.tiposAr=function(){_6.$cctor();return _6.tiposAr;};bv.paises=function(){_6.$cctor();return _6.paises;};bv.estados=function(){_6.$cctor();return _6.estados;};bv.tiposDir=function(){_6.$cctor();return _6.tiposDir;};bv.tiposTel=function(){_6.$cctor();return _6.tiposTel;};bv.generos=function(){_6.$cctor();return _6.generos;};bv.tiposCta=function(){_6.$cctor();return _6.tiposCta;};bv.tiposTar=function(){_6.$cctor();return _6.tiposTar;};bv.aniosV=function(){_6.$cctor();return _6.aniosV;};bv.mesesV=function(){_6.$cctor();return _6.mesesV;};bv.alertIfNone=function(ez,eA,eB){return eA!=null&&eA.$==1?eB(eA.$0):(a.alert("Error not caught: "+ez),null);};bv.removeButton=function(ez,eA){return _0.Element("form",[cS.Create("class","mui-panel")],[eA,_0.Button("borrar",[cS.Create("title","borrar")],ez)]);};bv.fst3=a.id;bv.crearOption=function(ez){return _0.Element("option",[],[_0.TextNode(ez)]);};bv.crearOption2=function(ez,eA){return _0.Element("option",[cS.Create("value",eA)],[_0.TextNode(ez)]);};bv.thr3=function(ez,eA,eB){return eB;};bv.snd3=function(ez,eA,eB){return eA;};bx=bw.attr=er.Class({},g,bx);by=M.StatusAliado=er.Class({toString:function(){return(function(ez){return function(eA){return ez(X.p$1(eA));};}(a.id))(this);}},null,by);by.tryParse=function(ez){var eA;eA=bj.Trim(ez).toUpperCase();return eA==="CUENTACREADA"?by.CuentaCreada:eA==="ACTIVO"?by.Activo:eA==="CANCELADO"?by.Cancelado:by.Inactivo;};by.Inactivo=new by({$:2});by.CuentaCreada=new by({$:0});by.Activo=new by({$:1});by.Cancelado=new by({$:3});bz.toSafe=function(ez){return ez==null?"":ez;};bz.prettyPrint=function(ez){var eA,eB;function eC(eD,eE){return eD+" = "+bz.prettyPrint(eE);}return ez===null?"null":(eA=typeof ez,eA=="string"?"\""+ez+"\"":eA=="object"?ez instanceof a.Array?"[|"+bj.concat("; ",T.map(bz.prettyPrint,ez))+"|]":(eB=a.String(ez),eB==="[object Object]"?"{"+bj.concat("; ",T.map(function(eD){return eC(eD[0],eD[1]);},I.GetFields(ez)))+"}":eB):a.String(ez));};bz.padNumLeft=function(ez,eA){var eB;eB=T.get(ez,0);return eB===" "||eB==="+"||eB==="-"?eB+bj.PadLeftWith(ez.substr(1),eA-1,"0"):bj.PadLeftWith(ez,eA,"0");};bz.printList=function(ez,eA){return"["+bj.concat("; ",bc.map(ez,eA))+"]";};bd["String.Right$1"]=function(ez,eA){var eB,eC;return bd["String.Substring2$1"](ez,(eB=0,(eC=ez.length-eA,J.Compare(eB,eC)===1?eB:eC)),ez.length);};bd.Error$1=function(ez){return{$:1,$0:ez};};bd.print$1=function(ez){if(typeof ez=="string")((function(eA){return function(eB){return eA(bz.toSafe(eB));};}(function(eA){eu.log(eA);}))(ez));else((function(eA){return function(eB){return eA(bz.prettyPrint(eB));};}(function(eA){eu.log(eA);}))(ez));};bd["String.Left$1"]=function(ez,eA){return eA<0?bd["String.Substring2$1"](ez,0,ez.length+eA):bd["String.Substring2$1"](ez,0,eA);};bd["String.Substring2$1"]=function(ez,eA,eB){var eC,eD;while(true){if(eB<=0)return"";else if(eA<0){eC=eA;eA=0;eB=eB+eC;}else return eA>=ez.length?"":bj.Substring(ez,eA,(eD=ez.length-eA,J.Compare(eB,eD)===-1?eB:eD));}};bd["String.get_toUnderscore$1"]=function(ez,eA){return T.ofSeq(bc.collect(a.id,bc.mapi(function(eB,eC){return eB>0&&ee.IsUpper(eC)?bB.ofArray(["_",eC]):bB.ofArray([eC]);},ez))).join("");};bA.toYYYYMMDD=function(ez,eA){return((((((er.Curried(function(eB,eC,eD,eE,eF,eG){return eB(a.String(eC)+bz.toSafe(eD)+bz.padNumLeft(a.String(eE),2)+bz.toSafe(eF)+bz.padNumLeft(a.String(eG),2));},6))(a.id))((new ev(eA)).getFullYear()))(ez))((new ev(eA)).getMonth()+1))(ez))((new ev(eA)).getDate());};bA.toYYYYMMDDHHMM=function(ez,eA){return(((er.Curried3(function(eB,eC,eD){return eB(bz.toSafe(eC)+" "+bz.toSafe(eD));}))(a.id))(bA.toYYYYMMDD(ez,eA)))(bA.toHHMM(eA));};bA.toHHMM=function(ez){return(((er.Curried3(function(eA,eB,eC){return eA(bz.padNumLeft(a.String(eB),2)+":"+bz.padNumLeft(a.String(eC),2));}))(a.id))((new ev(ez)).getHours()))((new ev(ez)).getMinutes());};bB.ofArray=function(ez){var eA,eB,eC;eA=cL.Empty;for(eB=T.length(ez)-1,eC=0;eB>=eC;eB--)eA=new cL({$:1,$0:T.get(ez,eB),$1:eA});return eA;};bB.ofSeq=function(ez){var eA,eB,eC,eD,eE,eF;if(ez instanceof cL)return ez;else if(ez instanceof a.Array)return bB.ofArray(ez);else{eA=cI.Get(ez);try{eC=eA.MoveNext();if(!eC)eB=cL.Empty;else{eE=new cL({$:1});eD=eE;while(eC){eD.$0=eA.Current();eA.MoveNext()?eD=(eF=new cL({$:1}),eD.$1=eF,eF):eC=false;}eD.$1=cL.Empty;eB=eE;}return eB;}finally{if(typeof eA=="object"&&"Dispose"in eA)eA.Dispose();}}};bB.rev=function(ez){var eA,eB;eA=cL.Empty;eB=ez;while(eB.$==1){eA=new cL({$:1,$0:eB.$0,$1:eA});eB=eB.$1;}return eA;};bB.head=function(ez){return ez.$==1?ez.$0:bB.listEmpty();};bB.tail=function(ez){return ez.$==1?ez.$1:bB.listEmpty();};bB.listEmpty=function(){return o.FailWith("The input list was empty.");};bB.iter=function(ez,eA){var eB;eB=eA;while(eB.$==1){ez(bB.head(eB));eB=bB.tail(eB);}};bC.New=function(ez,eA,eB,eC,eD){return{titular:ez,banco:eA,tipo:eB,numero:eC,routing:eD};};bD=M.RoutingNumber=er.Class({get_Id:function(){return this.$0;}},null,bD);bE=M.NumeroCuenta=er.Class({get_Id:function(){return this.$0;}},null,bE);bF.New=function(ez,eA,eB){return{nombre:ez,authorizeIdR:eA,cuentaPago:eB};};M.ctaVacio=function(){_6.$cctor();return _6.ctaVacio;};M.premisasCalculo=function(){_6.$cctor();return _6.premisasCalculo;};M.correoVacio=function(){_6.$cctor();return _6.correoVacio;};M.modeloVacio=function(){_6.$cctor();return _6.modeloVacio;};M.telVacio=function(){_6.$cctor();return _6.telVacio;};M.dirVacio=function(){_6.$cctor();return _6.dirVacio;};M.tarVacio=function(){_6.$cctor();return _6.tarVacio;};bG.defaultValue=function(ez,eA){return eA.$==1?ez:eA.$0;};bG.result=function(){_6.$cctor();return _6.result;};bG.iter=function(ez,eA,eB){bG.defaultWith(ez,dF.Map(eA,eB));};bG.defaultWith=function(ez,eA){return eA.$==1?ez(eA.$0):eA.$0;};_7.Create=function(ez,eA){return _7.CreateWithStorage(ez,cV.InMemory(T.ofSeq(eA)));};_7.CreateWithStorage=function(ez,eA){return new _7.New(ez,eA);};bH.New=function(ez,eA,eB,eC,eD,eE,eF){return{idAliado:ez,tipo:eA,nombre:eB,modificado:eC,tamano:eD,status:eE,comentario:eF};};bI["AsyncResultBuilder.Bind"]=function(ez,eA,eB){function eC(eE){return{$:0,$0:eE};}function eD(eE){return cU.Return(eE);}return cM.bind(eB,cU.Bind(eA,function(eE){return eD(eC(eE));}));};bJ.docLensMapView=function(ez,eA,eB){function eC(eD,eE){return eA(eD,bJ["lensInto'"](eB,a.id,function(){return a.id;},eD,eE));}return _0.ConvertSeqBy(eB.key,function(eD){return function(eE){return eC(eD,eE);};},p.Map(ez,eB.v));};bJ["lensInto'"]=function(ez,eA,eB,eC,eD){var eE,eF;eE=dr.freshId();eF=new q({Get:function(){return eA(ez.FindByKey(eC));},Set:function(eG){return ez.UpdateBy(function(eH){return{$:1,$0:(eB(eH))(eG)};},eC);},Update:function(eG){return ez.UpdateBy(function(eH){var eI;return{$:1,$0:(eI=eG(eA(eH)),(eB(eH))(eI))};},eC);},UpdateMaybe:function(eG){return ez.UpdateBy(function(eH){var eI,eJ;eI=eG(eA(eH));eJ=eB(eH);return eI==null?null:{$:1,$0:eJ(eI.$0)};},eC);},SetFinal:function(eG){return this.Set(eG);},get_View:function(){return eD;},get_Id:function(){return eE;}});q.New.call(eF);return eF;};bK.thousands=function(ez){var eA,eB,eC;eA=a.String(ez);eB=eA.length%3;eC=eB===0?3:eB;return bj.concat(",",bB.ofSeq(bc.delay(function(){return bc.append([cd.string(eA,{$:1,$0:0},{$:1,$0:eC-1})],bc.delay(function(){return bc.map(function(eD){return cd.string(eA,{$:1,$0:eD*3+eC},{$:1,$0:eD*3+eC+2});},o.range(0,((eA.length-eC)/3>>0)-1));}));})));};bK.unindent$1=function(ez){var eA,eB,eC,eD;eA=bj.SplitChars(ez,["\n"],0);eB=(eC=bc.tryFindIndex(function(eE){return" "!==eE;},(eD=bc.tryFind(function(eE){return bj.Trim(eE)!=="";},eA),eD==null?"":eD.$0)),eC==null?0:eC.$0);return bc.filter(function(eE){return!bj.StartsWith(eE,"# 1 ");},bc.map(function(eE){return eE.length<=eB?"":eE.substring(eB);},eA));};bK.splitByChar$1=function(ez,eA){return bj.SplitChars(eA,[ez],0);};bK.StartsWith$1=function(ez,eA){return bj.StartsWith(eA,ez)?{$:1,$0:cd.string(eA,{$:1,$0:ez.length},null)}:null;};bL=M.TipoArchivo=er.Class({toString:function(){return this.$==7?this.$0:(function(ez){return function(eA){return ez(X.p$5(eA));};}(a.id))(this);}},null,bL);bL.Parse=function(ez){var eA;eA=bK.StartsWith$1("Otro ",ez);return eA!=null&&eA.$==1?new bL({$:7,$0:eA.$0}):ez==="Contrato"?bL.Contrato:ez==="FormaW9"?bL.FormaW9:ez==="FormaW8BEN"?bL.FormaW8BEN:ez==="Autorizacion"?bL.Autorizacion:ez==="Pasaporte"?bL.Pasaporte:ez==="Cedula"?bL.Cedula:ez==="LicenciaConducir"?bL.LicenciaConducir:new bL({$:7,$0:bj.Trim(ez)});};bL.Autorizacion=new bL({$:1});bL.Contrato=new bL({$:0});bL.FormaW9=new bL({$:5});bL.FormaW8BEN=new bL({$:6});bL.Pasaporte=new bL({$:2});bL.Cedula=new bL({$:3});bL.LicenciaConducir=new bL({$:4});bM=M.StatusArchivo=er.Class({toString:function(){return(function(ez){return function(eA){return ez(X.p$6(eA));};}(a.id))(this);}},null,bM);bM.Parse=function(ez){var eA,eB;return ez==="Cambiado"?bM.Cambiado:ez==="Expirado"?bM.Expirado:ez==="Cancelado"?bM.Cancelado:(eA=bK.StartsWith$1("Verificado ",ez),eA!=null&&eA.$==1?new bM({$:1,$0:eA.$0}):(eB=bK.StartsWith$1("Rechazado ",ez),eB!=null&&eB.$==1?new bM({$:2,$0:eB.$0}):bM.Subido));};bM.Cambiado=new bM({$:5});bM.Expirado=new bM({$:3});bM.Cancelado=new bM({$:4});bM.Subido=new bM({$:0});p=h.View=er.Class({get_V:function(){return o.FailWith("View<'T>.V can only be called in an argument to a V-enabled function or if 'T = Doc.");}},null,p);bO.formaFirma=function(ez,eA,eB,eC,eD){var eE,eF,eG,eH,eI,eJ,eK;function eL(){var eM;_1.iterA((eM=bp.asyncResult(),eM.Run(eM.Delay(function(){return bO.mensajes().Get()!==""?(a.alert(bO.mensajes().Get()),eM.Zero()):eM.Bind$1(bO.subirScreenShot(eB,eD),function(){return eM.ReturnFrom$1(cM.map(function(eN){a.alert(eN);},eC()));});}))));}eE=i.Create$1(false);eF=(eG=(eH=n.get_LoggedId().get_Id(),(eI=U.Make().WithHole({$:2,$0:"firmarclass",$1:p.Map(function(eM){return eM===""?"mui-btn--primary":"";},bO.mensajes().get_View())}).WithHole({$:2,$0:"mensaje",$1:bO.mensajes().get_View()}).WithHole({$:0,$0:"contenido",$1:eA}).WithHole({$:9,$0:"acepto",$1:i.Lens(eE,a.id,function(eM,eN){return eN;})}),eI.WithHole(V.EventQ2(eI.k,"firmar",function(){return eI.i;},function(){eL();}))).WithHole({$:2,$0:"datetime",$1:bO.fechaHoraV().get_View()}).WithHole({$:1,$0:"idloggedin",$1:eH})).WithHole({$:2,$0:"location",$1:p.Map(function(eM){return(function(eN){return function(eO){return eN(bz.prettyPrint(eO));};}(a.id))(eM);},bO.locationV().get_View())}),(eJ=V.CompleteHoles(eG.k,eG.h,[["firmante",0],["fecha",0],["acepto",2]]),(eK=new S.New(eJ[1],W.formafirma(eJ[0])),(eG.i=eK,eK))));p.Sink(function(eM){bO.mensajes().Set(eM);},p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(eM,eN){return er.Curried(function(eO,eP,eQ,eR){return bj.concat(", ",bc.map(function(eS){return eS[1];},bc.filter(function(eS){return eS[0];},bB.ofArray([[bj.Trim(eM)!==eN.toUpperCase(),"Nombre en MAYUSCULAS debe coincidir"],[eO!==bd["String.Left$1"](eP,10),"Introduzca fecha de hoy (YYYY-MM-DD)"],[!J.Equals(eQ,true),"Acepte los terminos indicados"],[!J.Equals(n.get_LoggedId(),eR.id),"El documento solo debe ser firmado por el titular de la cuenta"]]))));},4);},eF.Hole("firmante").get_View(),ez),eF.Hole("fecha").get_View()),bO.fechaHoraV().get_View()),eF.Hole("acepto").get_View()),m.aliadoW()));return eF.get_Doc();};bO.fechaHoraV=function(){_6.$cctor();return _6.fechaHoraV;};bO.locationV=function(){_6.$cctor();return _6.locationV;};bO.mensajes=function(){_6.$cctor();return _6.mensajes;};bO.subirScreenShot=function(ez,eA){var eB;eB=null;return cU.Delay(function(){return cU.Bind(cU.FromContinuations(function(eC){et.getJSON("https://ipapi.co/json/",function(eD){eC(eD);});}),function(eC){bO.locationV().Set(eC);return cU.Bind(cU.Sleep(100),function(){return cU.Bind(da.AsAsync(a.html2canvas(self.document.querySelector("#content-wrapper"))),function(eD){var eE;self.document.body.appendChild(eD);eE=(((er.Curried3(function(eF,eG,eH){return eF(bz.toSafe(eG)+" "+bz.toSafe(eH)+".png");}))(a.id))(eA))(bj.Replace(bO.fechaHoraV().Get(),":","."));eD.toBlob(function(eF){var eG,eH;eG=new a.FormData();eG.append("fname",eE);eG.append("data",eF);et.ajax((eH={},eH.type="POST",eH.url="/api/subir/"+m.modeloV().Get().idAliado.get_Id()+"/"+eE,eH.data=eG,eH.contentType=false,eH.processData=false,eH.success=bO.uploaded(),eH));});self.document.body.removeChild(eD);return cU.Bind(_1.ejecutarDataEventoNuevo({$:9,$0:[n.get_LoggedId(),[bH.New(m.modeloV().Get().idAliado,ez,eE,ev.now(),0,bM.Subido,"Firma Electronica")]]}),function(eF){br.refrescarData(true);return cU.Return(eF);});});});});});};bO.uploaded=function(){_6.$cctor();return _6.uploaded;};bP.New=function(ez,eA,eB,eC,eD,eE,eF,eG){return{comisionReferidosRegular:ez,comisionReferidosMaster:eA,comisionDescendientesMaster:eB,comisionDescendientesRegular:eC,montoAfiliacion:eD,numeroReferidosMaster:eE,diaCorte1:eF,diaCorte2:eG};};bQ.serverEndPoint=function(){_6.$cctor();return _6.serverEndPoint;};bS=bR.AjaxRemotingProvider=er.Class({AsyncBase:function(ez,eA){var eB,eC;eB=this;eC=null;return cU.Delay(function(){var eD,eE;eD=bR.makeHeaders(ez);eE=bR.makePayload(eA);return cU.Bind(cU.GetCT(),function(eF){return cU.FromContinuations(function(eG,eH,eI){var eJ,eK,eL;function eM(eN){return eJ[0]?(eJ[0]=false,eI(new dX.New(eF))):null;}eJ=[true];eK=cU.Register(eF,function(){eM();});eL=eB.get_EndPoint();return bR.AjaxProvider().Async(eL,eD,eE,function(eN){if(eJ[0]){eJ[0]=false;eK.Dispose();eG(dY.Activate(ew.parse(eN)));}},function(eN){if(eJ[0]){eJ[0]=false;eK.Dispose();eH(eN);}});});});});},get_EndPoint:function(){return bR.EndPoint();},Async:function(ez,eA){return this.AsyncBase(ez,eA);}},g,bS);bS.New=er.Ctor(function(){g.New.call(this);},bS);bT.New=function(ez,eA,eB){return{actName:ez,actFunction:eA,actEnabled:eB};};bU.logout=function(){bU.executePolicy(true,ch.SignIn);};bU.userO=function(){_6.$cctor();return _6.userO;};bU.storeValue=function(ez,eA){self.localStorage.setItem(ez,eA);return eA;};bU.appId=function(){_6.$cctor();return _6.appId;};bU.storageGetItem=function(ez){return self.localStorage.getItem(ez);};bU.getAuthority=function(ez,eA){return((((er.Curried(function(eB,eC,eD,eE){return eB("https://"+bz.toSafe(eC)+".b2clogin.com/tfp/"+bz.toSafe(eD)+".onmicrosoft.com/"+bz.toSafe(eE));},4))(a.id))(ez))(ez))(eA);};bU.tenantName=function(){_6.$cctor();return _6.tenantName;};bU.signInPolicy=function(){_6.$cctor();return _6.signInPolicy;};bU.applicationId=function(){_6.$cctor();return _6.applicationId;};bU.authority=function(){_6.$cctor();return _6.authority;};bU.redirectCallback=function(ez,eA){try{!J.Equals(ez,null)?(function(eB){return function(eC){return eB("error: "+Z.p(eC));};}(function(eB){eu.log(eB);}))(ez):void 0;!J.Equals(eA,null)?(function(eB){return function(eC){return eB("resp : "+Z.p$1(eC));};}(function(eB){eu.log(eB);}))(eA):null;}catch(eB){(((er.Curried3(function(eC,eD,eE){return eC(bz.prettyPrint(eD)+" "+bz.toSafe(eE));}))(function(eC){eu.log(eC);}))(eB))(eB.stack);}};bU.getTokenO0=function(){var ez;ez=null;return cU.Delay(function(){return bU.userO().Get()==null?cU.Return(null):cU.TryWith(cU.Delay(function(){return cU.Bind(da.AsAsync(bU.agent().f().acquireTokenSilent(bU.authParms())),function(eA){return cU.Return({$:1,$0:eA.accessToken});});}),function(){return cU.Bind(da.AsAsync(bU.agent().f().acquireTokenPopup(bU.authParms())),function(eA){return cU.Return({$:1,$0:eA.accessToken});});});});};bU.checkUser=function(){var ez;cU.Start((ez=null,cU.Delay(function(){return cU.Bind(cU.Sleep(100),function(){return cU.While(function(){return true;},cU.Delay(function(){var eA,eB;eA=(eB=bU.agent().f().getAccount(),J.Equals(eB,null)?null:{$:1,$0:eB});return cU.Combine(bU.getId(eA)!==bU.getId(bU.userO().Get())?(bU.userO().Set(eA),cU.Zero()):cU.Zero(),cU.Delay(function(){return cU.Combine(J.Equals(bU.userO().Get(),null)?(bU.executePolicy(false,ch.SignIn),cU.Zero()):cU.Zero(),cU.Delay(function(){return cU.Bind(cU.Sleep(9000),function(){return cU.Return(null);});}));}));}));});})),null);};bU.getTokenO=function(){_6.$cctor();return _6.getTokenO;};bU.referidoPor=function(){return bU.storageGetItem("referidoPor");};bU.claims=function(ez){var eA;eA=[["oid",ez.idToken.oid],["city",ez.idToken.city],["country",ez.idToken.country],["extension_DateOfBirth",ez.idToken.extension_DateOfBirth],["given_name",ez.idToken.given_name],["postalCode",ez.idToken.postalCode],["state",ez.idToken.state],["streetAddress",ez.idToken.streetAddress],["family_name",ez.idToken.family_name],["emails",T.get(ez.idToken.emails,0)],["referidoPor",bU.referidoPor()]];bU.storageSetItem("referidoPor","");return eA;};bU.executePolicy=function(ez,eA){bU.storeValue("forceLogin",ez?"1":"0");bU.storeValue("goInsideLink",self.location.href);bU.storeValue("policyType",a.String(eA));self.location.replace("blob/Msal.html");};bU.authParms=function(){return dA.New$1(null,null,null,null,null,null,null,null,{$:1,$0:[(((er.Curried3(function(ez,eA,eB){return ez("https://"+bz.toSafe(eA)+".onmicrosoft.com/"+bz.toSafe(eB)+"/user_impersonation");}))(a.id))(bU.tenantName()))(bU.appId())]},null,null);};bU.agent=function(){_6.$cctor();return _6.agent;};bU.getId=function(ez){var eA;eA=ez==null?null:{$:1,$0:ez.$0.idToken.oid};return eA==null?"":eA.$0;};bU.storageSetItem=function(ez,eA){self.localStorage.setItem(ez,eA);};bW.New=function(ez,eA){return{lytName:ez,lytDefinition:eA};};bX.$cctor=function(){var ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4;bX.$cctor=a.ignore;function e5(fA){return bj.concat("\n",fA);}function e6(fA){return bK.splitByChar("\n",fA);}function e7(fA){var fB,fC;return cd.array(fA,{$:1,$0:0},{$:1,$0:(fB=0,(fC=T.length(fA)-2,J.Compare(fB,fC)===1?fB:fC))});}function e8(fA){return bj.concat("\n",fA);}function e9(fA){return fA+"T00:00:00";}function e_(fA){var fB;function fC(fE){return k.plugIns().TryFindByKey(fE);}function fD(fE){var fF;fF=k.defaultPlugIn();return fE==null?fF:fE.$0;}fB=function(fE){return fE==null?null:fC(fE.$0);};return function(fE){return fD(fB(fE));};}function e$(fA){var fB;fB=null;return eD.TryGetValue(fA,{get:function(){return fB;},set:function(fC){fB=fC;}})?{$:1,$0:fB}:null;}function fa(fA,fB){eD.set_Item(fA,fB);return fB;}function fb(fA,fB){var fC;fC=e$(fA);return fC==null?fa(fA,fB(fA)):fC.$0;}function fc(fA){var fB;fB=null;return eG.TryGetValue(fA,{get:function(){return fB;},set:function(fC){fB=fC;}})?{$:1,$0:fB}:null;}function fd(fA,fB){eG.set_Item(fA,fB);return fB;}function fe(fA,fB){var fC;fC=fc(fA);return fC==null?fd(fA,fB(fA)):fC.$0;}function ff(fA){var fB;fB=null;return eJ.TryGetValue(fA,{get:function(){return fB;},set:function(fC){fB=fC;}})?{$:1,$0:fB}:null;}function fg(fA,fB){eJ.set_Item(fA,fB);return fB;}function fh(fA,fB){var fC;fC=ff(fA);return fC==null?fg(fA,fB(fA)):fC.$0;}function fi(fA){var fB;fB=null;return eM.TryGetValue(fA,{get:function(){return fB;},set:function(fC){fB=fC;}})?{$:1,$0:fB}:null;}function fj(fA,fB){eM.set_Item(fA,fB);return fB;}function fk(fA,fB){var fC;fC=fi(fA);return fC==null?fj(fA,fB(fA)):fC.$0;}function fl(fA){var fB;fB=null;return eP.TryGetValue(fA,{get:function(){return fB;},set:function(fC){fB=fC;}})?{$:1,$0:fB}:null;}function fm(fA,fB){eP.set_Item(fA,fB);return fB;}function fn(fA,fB){var fC;fC=fl(fA);return fC==null?fm(fA,fB(fA)):fC.$0;}function fo(fA){var fB;fB=null;return eS.TryGetValue(fA,{get:function(){return fB;},set:function(fC){fB=fC;}})?{$:1,$0:fB}:null;}function fp(fA,fB){eS.set_Item(fA,fB);return fB;}function fq(fA,fB){var fC;fC=fo(fA);return fC==null?fp(fA,fB(fA)):fC.$0;}function fr(fA){var fB;fB=null;return eV.TryGetValue(fA,{get:function(){return fB;},set:function(fC){fB=fC;}})?{$:1,$0:fB}:null;}function fs(fA,fB){eV.set_Item(fA,fB);return fB;}function ft(fA,fB){var fC;fC=fr(fA);return fC==null?fs(fA,fB(fA)):fC.$0;}function fu(fA){var fB;fB=null;return eY.TryGetValue(fA,{get:function(){return fB;},set:function(fC){fB=fC;}})?{$:1,$0:fB}:null;}function fv(fA,fB){eY.set_Item(fA,fB);return fB;}function fw(fA,fB){var fC;fC=fu(fA);return fC==null?fv(fA,fB(fA)):fC.$0;}function fx(fA){var fB;fB=null;return e1.TryGetValue(fA,{get:function(){return fB;},set:function(fC){fB=fC;}})?{$:1,$0:fB}:null;}function fy(fA,fB){e1.set_Item(fA,fB);return fB;}function fz(fA,fB){var fC;fC=fx(fA);return fC==null?fy(fA,fB(fA)):fC.$0;}bX.unindentStr=function(fA){return e5(bK.unindent(fA));};bX.skipLastLine=(ez=function(fA){return e7(e6(fA));},function(fA){return e8(ez(fA));});bX.parseDateO2=(eA=ce.tryParseWith(function(fA){var fB,fC;fB=0;return[(fC=c7.TryParse(fA),fC!=null&&fC.$==1&&(fB=fC.$0,true)),fB];}),function(fA){return eA(e9(fA));});bX.parseDateO=ce.tryParseWith(function(fA){var fB,fC;fB=0;return[(fC=c7.TryParse(fA),fC!=null&&fC.$==1&&(fB=fC.$0,true)),fB];});bX.parseIntO=ce.tryParseWith(function(fA){var fB;fB=0;return[b2.TryParseInt32(fA,{get:function(){return fB;},set:function(fC){fB=fC;}}),fB];});bX.parseInt64O=ce.tryParseWith(function(fA){var fB;fB=0;return[b2.TryParseInt64(fA,{get:function(){return fB;},set:function(fC){fB=fC;}}),fB];});bX.parseSingleO=ce.tryParseWith(function(fA){var fB,fC;fB=0;return[(fC=a.Number(fA),a.isNaN(fC)?false:(fB=fC,true)),fB];});bX.parseDoubleO=ce.tryParseWith(function(fA){var fB,fC;fB=0;return[(fC=a.Number(fA),a.isNaN(fC)?false:(fB=fC,true)),fB];});bX.parseGuidO=ce.tryParseWith(function(fA){var fB;fB=null;return[bt.TryParse(fA,{get:function(){return fB;},set:function(fC){fB=fC;}}),fB];});bX["|Date|_|"]=ce.parseDateO();bX["|Int|_|"]=ce.parseIntO();bX["|Int64|_|"]=ce.parseInt64O();bX["|Single|_|"]=ce.parseSingleO();bX["|Double|_|"]=ce.parseDoubleO();bX["|Guid|_|"]=ce.parseGuidO();bX.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";bX.rexEmail="(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@[*[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+]*";bX.observers=cL.Empty;bX.css="\r\n                .tab-panel {\r\n                 overflow  : hidden   ;\r\n                 display   : flex     ;\r\n                 flex-flow : column   ;\r\n                 background: lightgray;\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                }\r\n                .tab-content {\r\n                 flex      : 1 1     ;\r\n                 overflow  : auto    ;\r\n                 position  : relative;\r\n                }\r\n                .tab-children {\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                 position  : absolute;\r\n                 display   : grid    ;\r\n                }\r\n                .tab-strip {\r\n                 padding   : 0pt     ;\r\n                 flex      : 0 0     ;\r\n                }\r\n                .tab {\r\n                 border     : 0.2pt solid transparent;\r\n                 padding    : 0pt 4pt;\r\n                 display    : inline-block;\r\n                 font-family: sans-serif;\r\n                 font-weight: 200;\r\n                 font-size  : small;\r\n                 color      : #666;\r\n                 cursor     : pointer;\r\n                }\r\n                .top>.tab {\r\n                 border-radius: 2pt 2pt 0pt 0pt;\r\n                 border-bottom-width: 0pt;\r\n                 vertical-align: bottom;\r\n                }\r\n                .bottom>.tab {\r\n                 border-top-width: 0pt;\r\n                 border-radius: 0pt 0pt 2pt 2pt;\r\n                 vertical-align: top;\r\n                }\r\n                .horizontal>.tab:not(:first-child) {\r\n                 border-left-width: 0pt;\r\n                }\r\n                .tab.hovering {\r\n                 background: red;\r\n                }\r\n                .tab.selected {\r\n                 background: white;\r\n                 border-left-width: 0.2pt;\r\n                 color: black;\r\n                 font-weight: 500;\r\n                 border-color: black;\r\n                }\r\n                .horizontal>.tab.selected {\r\n                 border-left-width: 0.2pt;\r\n                }\r\n                ::slotted(*              ) { \r\n                 width : 100%;\r\n                 height: 100%;\r\n                }\r\n                        ";bX.init=r.Create(function(){var fA;fA=new c1.New();cZ.defineWebComponent("wcomp-tabstrip",c1.Constructor,self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New);});bX.layoutHorizontal=er.Curried(function(fA,fB,fC,fD,fE){return _0.get_Empty();},5);bX.layoutVertical=er.Curried(function(fA,fB,fC,fD,fE){return _0.get_Empty();},5);bX.plugIns=new _7.New$1(function(fA){return fA.plgName;});bX.mainDocV=i.Create$1("AppFramework.AppFwkClient");bX.TemplateFileName="..\\website\\AppFramework.html";bX.defaultPlugIn=l.New("",[],[],[],[],[]);bX.selectionPlugInO=i.Create$1({$:1,$0:"AppFramework"});bX.currentPlugInW=(eB=k.selectionPlugInO().get_View(),p.Map2(function(fA,fB){return(e_(fA))(fB);},k.plugIns().v,eB));bX.currentPlugInV=new cR.New(k.currentPlugInW(),function(fA){k.plugIns().Append(fA);});bX.AppFwkClient=r.Create(function(){var fA,fB,fC,fD,fE,fF,fG,fH,fI;return(fA=(fB=k.renderQueries(),(fC=k.renderActions(),(fD=k.renderDocs(),(fE=k.renderViews(),(fF=k.renderVars(),(fG=k.renderPlugIns(),U.Make().WithHole({$:0,$0:"plugins",$1:fG})).WithHole({$:2,$0:"pluginname",$1:p.Map(function(fJ){return fJ.plgName;},k.currentPlugInW())}).WithHole({$:0,$0:"vars",$1:fF})).WithHole({$:0,$0:"views",$1:fE})).WithHole({$:0,$0:"docs",$1:fD})).WithHole({$:0,$0:"actions",$1:fC})).WithHole({$:0,$0:"queries",$1:fB})),(fH=V.CompleteHoles(fA.k,fA.h,[]),(fI=new S.New(fH[1],cX.appfwkclient(fH[0])),(fA.i=fI,fI)))).get_Doc();});bX.actHello=k.newAct("Hello",function(){self.alert("Hello!");});bX.qryDocs=k.newQry("getDocNames",function(){return T.ofSeq(bc.collect(function(fA){return bc.map(function(fB){return fA.plgName+"."+fB.docName;},fA.plgDocs);},(k.plugIns())["var"].Get()));});k.plugIns().Append(l.New("AppFramework",[k.newVar("mainDocV",k.mainDocV())],[],[k.newDoc("AppFwkClient",k.AppFwkClient())],[k.actHello()],[k.qryDocs()]));bX.getMainDoc=r.Create(function(){c2.init(er.Curried(k.horizontal,5),er.Curried(k.vertical,5));c0.init().f();return k.mainDoc();});bX.splitName=k.splitName;bX.createSplitterM=(eC=(eD=new b4.New$5(),[[e$,function(fA){return function(fB){return fb(fA,fB);};}],function(){eD.Clear();}]),(eE=eC[0][1],[function(fA){return(eE(fA))(function(fB){return K.createSplitter(fB[0],fB[1],fB[2],fB[3],fB[4]);});},eC[1]]))[0];bX.createButtonM=(eF=(eG=new b4.New$5(),[[fc,function(fA){return function(fB){return fe(fA,fB);};}],function(){eG.Clear();}]),(eH=eF[0][1],[function(fA){return(eH(fA))(function(fB){return K.createButton(fB[0],fB[1],fB[2],fB[3],fB[4]);});},eF[1]]))[0];bX.createInputM=(eI=(eJ=new b4.New$5(),[[ff,function(fA){return function(fB){return fh(fA,fB);};}],function(){eJ.Clear();}]),(eK=eI[0][1],[function(fA){return(eK(fA))(function(fB){return K.createInput(fB[0],fB[1],fB[2],fB[3]);});},eI[1]]))[0];bX.createTextAreaM=(eL=(eM=new b4.New$5(),[[fi,function(fA){return function(fB){return fk(fA,fB);};}],function(){eM.Clear();}]),(eN=eL[0][1],[function(fA){return(eN(fA))(function(fB){return K.createTextArea(fB[0],fB[1],fB[2],fB[3]);});},eL[1]]))[0];bX.createElementM=(eO=(eP=new b4.New$5(),[[fl,function(fA){return function(fB){return fn(fA,fB);};}],function(){eP.Clear();}]),(eQ=eO[0][1],[function(fA){return(eQ(fA))(function(fB){return K.createElement(fB[0],fB[1],fB[2],fB[3],fB[4]);});},eO[1]]))[0];bX.createDocM=(eR=(eS=new b4.New$5(),[[fo,function(fA){return function(fB){return fq(fA,fB);};}],function(){eS.Clear();}]),(eT=eR[0][1],[function(fA){return(eT(fA))(function(fB){return K.createDoc(fB[0],fB[1],fB[2],fB[3]);});},eR[1]]))[0];bX.createTemplateM=(eU=(eV=new b4.New$5(),[[fr,function(fA){return function(fB){return ft(fA,fB);};}],function(){eV.Clear();}]),(eW=eU[0][1],[function(fA){return(eW(fA))(function(fB){return K.createTemplate(fB[0],fB[1],fB[2],fB[3],fB[4]);});},eU[1]]))[0];bX.createConcatM=(eX=(eY=new b4.New$5(),[[fu,function(fA){return function(fB){return fw(fA,fB);};}],function(){eY.Clear();}]),(eZ=eX[0][1],[function(fA){return(eZ(fA))(function(fB){return K.createConcat(fB[0],fB[1],fB[2]);});},eX[1]]))[0];bX.createVarM=(e0=(e1=new b4.New$5(),[[fx,function(fA){return function(fB){return fz(fA,fB);};}],function(){e1.Clear();}]),(e2=e0[0][1],[function(fA){return(e2(fA))(function(fB){return K.createVar(fB[0],fB[1],fB[2]);});},e0[1]]))[0];e3=k.tryGetPlugIn("AppFramework");e3==null?void 0:(e4=e3.$0,k.addPlugIn(l.New(e4.plgName,e4.plgVars,e4.plgViews,e4.plgDocs,e4.plgActions.concat([k.newActF("AddLayout",{$:2,$0:function(fA){return function(fB){return K.addNewLayout(fA,fB);};},$1:"[Name]",$2:"[Layout]"})]),e4.plgQueries)));};bY=M.IdForAuthorize=er.Class({},null,bY);bZ.New=function(ez,eA,eB,eC,eD,eE,eF,eG){return{titulo:ez,nombre1:eA,nombre2:eB,apellido1:eC,apellido2:eD,nacionalidad:eE,genero:eF,fechaNacimiento:eG};};b0.Dia01={$:0};b1=M.TipoAliado=er.Class({toString:function(){return(function(ez){return function(eA){return ez(X.p$2(eA));};}(a.id))(this);}},null,b1);b1.Regular=new b1({$:1});b2.TryParseInt32=function(ez,eA){return b2.TryParse(ez,-2147483648,2147483647,eA);};b3=bg.List=er.Class({GetEnumerator:function(){return cI.Get(this);},GetEnumerator0:function(){return cI.Get0(this);}},null,b3);b4=bg.Dictionary=er.Class({set_Item:function(ez,eA){this.set(ez,eA);},set:function(ez,eA){var eB,eC,eD,eE;eB=this;eC=this.hash(ez);eD=this.data[eC];eD==null?(this.count=this.count+1,this.data[eC]=new a.Array({K:ez,V:eA})):(eE=T.tryFindIndex(function(eF){return eB.equals.apply(null,[(o.KeyValue(eF))[0],ez]);},eD),eE==null?(this.count=this.count+1,eD.push({K:ez,V:eA})):eD[eE.$0]={K:ez,V:eA});},get_Item:function(ez){return this.get(ez);},Clear:function(){this.data=[];this.count=0;},TryGetValue:function(ez,eA){var eB,eC,eD;eB=this;eC=this.data[this.hash(ez)];return eC==null?false:(eD=T.tryPick(function(eE){var eF;eF=o.KeyValue(eE);return eB.equals.apply(null,[eF[0],ez])?{$:1,$0:eF[1]}:null;},eC),eD!=null&&eD.$==1&&(eA.set(eD.$0),true));},Remove:function(ez){return this.remove(ez);},ContainsKey:function(ez){var eA,eB;eA=this;eB=this.data[this.hash(ez)];return eB==null?false:T.exists(function(eC){return eA.equals.apply(null,[(o.KeyValue(eC))[0],ez]);},eB);},Add:function(ez,eA){this.add(ez,eA);},get:function(ez){var eA,eB;eA=this;eB=this.data[this.hash(ez)];return eB==null?c3.notPresent():T.pick(function(eC){var eD;eD=o.KeyValue(eC);return eA.equals.apply(null,[eD[0],ez])?{$:1,$0:eD[1]}:null;},eB);},get_Keys:function(){return new d9.New(this);},remove:function(ez){var eA,eB,eC,eD;eA=this;eB=this.hash(ez);eC=this.data[eB];return eC==null?false:(eD=T.filter(function(eE){return!eA.equals.apply(null,[(o.KeyValue(eE))[0],ez]);},eC),T.length(eD)<eC.length&&(this.count=this.count-1,this.data[eB]=eD,true));},add:function(ez,eA){var eB,eC,eD;eB=this;eC=this.hash(ez);eD=this.data[eC];eD==null?(this.count=this.count+1,this.data[eC]=new a.Array({K:ez,V:eA})):(T.exists(function(eE){return eB.equals.apply(null,[(o.KeyValue(eE))[0],ez]);},eD)?c3.alreadyAdded():void 0,this.count=this.count+1,eD.push({K:ez,V:eA}));},GetEnumerator:function(){return cI.Get0(this);},GetEnumerator0:function(){return cI.Get0(T.concat(I.GetFieldValues(this.data)));}},g,b4);b4.New$5=er.Ctor(function(){b4.New$6.call(this,[],J.Equals,J.Hash);},b4);b4.New$6=er.Ctor(function(ez,eA,eB){var eC,eD;g.New.call(this);this.equals=eA;this.hash=eB;this.count=0;this.data=[];eC=cI.Get(ez);try{while(eC.MoveNext()){eD=eC.Current();this.set(eD.K,eD.V);}}finally{if(typeof eC=="object"&&"Dispose"in eC)eC.Dispose();}},b4);b5=bg.HashSet=er.Class({Add:function(ez){return this.add(ez);},Contains:function(ez){var eA;eA=this.data[this.hash(ez)];return eA==null?false:this.arrContains(ez,eA);},add:function(ez){var eA,eB;eA=this.hash(ez);eB=this.data[eA];return eB==null?(this.data[eA]=[ez],this.count=this.count+1,true):this.arrContains(ez,eB)?false:(eB.push(ez),this.count=this.count+1,true);},arrContains:function(ez,eA){var eB,eC,eD,eE;eB=true;eC=0;eE=eA.length;while(eB&&eC<eE)if(this.equals.apply(null,[eA[eC],ez]))eB=false;else eC=eC+1;return!eB;},ExceptWith:function(ez){var eA;eA=cI.Get(ez);try{while(eA.MoveNext())this.Remove(eA.Current());}finally{if(typeof eA=="object"&&"Dispose"in eA)eA.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(ez){var eA,eB,eC,eD;eA=0;eB=dZ.concat(this.data);for(eC=0,eD=eB.length-1;eC<=eD;eC++)T.set(ez,eC,eB[eC]);},IntersectWith:function(ez){var eA,eB,eC,eD,eE;eA=new b5.New$4(ez,this.equals,this.hash);eB=dZ.concat(this.data);for(eC=0,eD=eB.length-1;eC<=eD;eC++){eE=eB[eC];!eA.Contains(eE)?this.Remove(eE):void 0;}},Remove:function(ez){var eA;eA=this.data[this.hash(ez)];return eA==null?false:this.arrRemove(ez,eA)&&(this.count=this.count-1,true);},arrRemove:function(ez,eA){var eB,eC,eD,eE;eB=true;eC=0;eE=eA.length;while(eB&&eC<eE)if(this.equals.apply(null,[eA[eC],ez])){eA.splice.apply(eA,[eC,1]);eB=false;}else eC=eC+1;return!eB;},GetEnumerator:function(){return cI.Get(dZ.concat(this.data));},GetEnumerator0:function(){return cI.Get(dZ.concat(this.data));}},g,b5);b5.New$3=er.Ctor(function(){b5.New$4.call(this,[],J.Equals,J.Hash);},b5);b5.New$4=er.Ctor(function(ez,eA,eB){var eC;g.New.call(this);this.equals=eA;this.hash=eB;this.data=[];this.count=0;eC=cI.Get(ez);try{while(eC.MoveNext())this.add(eC.Current());}finally{if(typeof eC=="object"&&"Dispose"in eC)eC.Dispose();}},b5);b5.New$2=er.Ctor(function(ez){b5.New$4.call(this,ez,J.Equals,J.Hash);},b5);b6.Box=a.id;b8.StartTo=function(ez,eA){cU.StartWithContinuations(ez,eA,function(eB){b8.OnError(eB);},a.ignore,null);};b8.OnError=function(ez){return eu.log("WebSharper UI: Uncaught asynchronous exception",ez);};b2.TryParseInt64=function(ez,eA){return b2.TryParse(ez,-9223372036854775808,9223372036854775807,eA);};b9.Int=function(){b9.set_counter(b9.counter()+1);return b9.counter();};b9.Id=function(){b9.set_counter(b9.counter()+1);return"uid"+a.String(b9.counter());};b9.set_counter=function(ez){dw.$cctor();dw.counter=ez;};b9.counter=function(){dw.$cctor();return dw.counter;};b_=bG.Builder=er.Class({},g,b_);b_.New=er.Ctor(function(){g.New.call(this);},b_);b$=bG.BuilderP=er.Class({},g,b$);b$.New=er.Ctor(function(){g.New.call(this);},b$);cb=ca.EffBuilder=er.Class({},g,cb);cb.New=er.Ctor(function(){g.New.call(this);},cb);cc=bp.AsyncResultBuilderP=er.Class({},g,cc);cc.New=er.Ctor(function(){g.New.call(this);},cc);cd.array=function(ez,eA,eB){return eA==null?eB!=null&&eB.$==1?ez.slice(0,eB.$0+1):[]:eB==null?ez.slice(eA.$0):ez.slice(eA.$0,eB.$0+1);};cd.string=function(ez,eA,eB){return eA==null?eB!=null&&eB.$==1?ez.slice(0,eB.$0+1):"":eB==null?ez.slice(eA.$0):ez.slice(eA.$0,eB.$0+1);};ce.tryParseWith$1=function(ez){function eA(eB,eC){return eB?{$:1,$0:eC}:null;}return function(eB){return eA.apply(null,ez(eB));};};ce.parseDateO$1=function(){_6.$cctor();return _6.parseDateO;};ce.parseIntO$1=function(){_6.$cctor();return _6.parseIntO;};ce.parseInt64O$1=function(){_6.$cctor();return _6.parseInt64O;};ce.parseSingleO$1=function(){_6.$cctor();return _6.parseSingleO;};ce.parseDoubleO$1=function(){_6.$cctor();return _6.parseDoubleO;};ce.parseGuidO$1=function(){_6.$cctor();return _6.parseGuidO;};ce.parseDateO2$1=function(){_6.$cctor();return _6.parseDateO2;};cf.toJsonString=function(ez){return T.ofSeq(bc.delay(function(){return bc.append(["\""],bc.delay(function(){return bc.append(!bj.IsNullOrEmpty(ez)?bc.collect(function(eA){var eB,eC;eB=ez[eA];eC=eB.charCodeAt();return eC>=0&&eC<=7||eC===11||eC>=14&&eC<=31?(function(eD){return function(eE){return eD("\\u"+bz.padNumLeft(eE.toString(16),4));};}(a.id))(eC):eB==="\u0008"?"\\b":eB==="\u0009"?"\\t":eB==="\n"?"\\n":eB==="\u000c"?"\\f":eB==="\r"?"\\r":eB==="\""?"\\\"":eB==="\\"?"\\\\":[eB];},o.range(0,ez.length-1)):[],bc.delay(function(){return["\""];}));}));})).join("");};ch=cg.Policy=er.Class({toString:function(){return bj.ReplaceChar(bd["String.get_toUnderscore$1"]((function(ez){return function(eA){return ez(X.p(eA));};}(a.id))(this)),"_"," ");}},null,ch);ch.SignIn=new ch({$:0});ch.SignUp=new ch({$:1});ch.EditProfile=new ch({$:2});ch.ResetPassword=new ch({$:3});ci.New=function(ez,eA,eB,eC,eD,eE){return{tipoTelefono:ez,codigoPais:eA,codigoArea:eB,numero:eC,extension:eD,mensajes:eE};};cj=M.TipoTelefono=er.Class({toString:function(){return(function(ez){return function(eA){return ez(X.p$11(eA));};}(a.id))(this);}},null,cj);cj.Movil=new cj({$:0});cj.get_tryParse=function(){return function(ez){return ez==="Movil"?{$:1,$0:cj.Movil}:ez==="Oficina"?{$:1,$0:cj.Oficina}:ez==="Habitacion"?{$:1,$0:cj.Habitacion}:null;};};cj.Oficina=new cj({$:1});cj.Habitacion=new cj({$:2});ck.New=function(ez,eA,eB,eC,eD,eE,eF,eG){return{authorizeIdR:ez,tipoDireccion:eA,linea1:eB,linea2:eC,ciudad:eD,estado:eE,pais:eF,zonaPostal:eG};};cl=M.TipoDireccion=er.Class({toString:function(){return this.$==3?this.$0:(function(ez){return function(eA){return ez(X.p$10(eA));};}(a.id))(this);}},null,cl);cl.Habitacion=new cl({$:0});cl.tryParse=function(ez){var eA;eA=bj.Trim(ez);return eA===""?null:eA==="Habitacion"?{$:1,$0:cl.Habitacion}:eA==="Oficina"?{$:1,$0:cl.Oficina}:eA==="ServicioPostal"?{$:1,$0:cl.ServicioPostal}:{$:1,$0:new cl({$:3,$0:eA})};};cl.Oficina=new cl({$:1});cl.ServicioPostal=new cl({$:2});cm=M.Estado=er.Class({toString:function(){return this.$==2?this.$0:(function(ez){return function(eA){return ez(X.p$4(eA));};}(a.id))(this);}},null,cm);cm.tryParse=function(ez){var eA,eB;eB=bj.Trim(ez).toUpperCase();switch(eB){case"":return null;case"TEXAS":case"TX":return{$:1,$0:cm.Texas};case"FLORIDA":case"FL":return{$:1,$0:cm.Florida};default:return{$:1,$0:new cm({$:2,$0:bj.Trim(ez)})};}};cm.Texas=new cm({$:0});cm.Florida=new cm({$:1});cn=M.Pais=er.Class({toString:function(){return this.$==3?this.$0:(function(ez){return function(eA){return ez(X.p$3(eA));};}(a.id))(this);}},null,cn);cn.USA=new cn({$:0});cn.tryParse=function(ez){var eA,eB;eB=bj.Trim(ez).toUpperCase();switch(eB){case"":return null;case"USA":case"AMERICA":case"E.E.U.U.":case"US":case"UNITED STATES OF AMERICA":case"UNITED STATES":case"EEUU":return{$:1,$0:cn.USA};case"VENEZUELA":return{$:1,$0:cn.Venezuela};case"ARGENTINA":return{$:1,$0:cn.Argentina};default:return{$:1,$0:new cn({$:3,$0:bj.Trim(ez)})};}};cn.Venezuela=new cn({$:1});cn.Argentina=new cn({$:2});co=M.ZonaPostal=er.Class({toString:function(){return this.$0;}},null,co);co.tryParse=function(ez){return bj.Trim(ez)!==""?{$:1,$0:new co({$:0,$0:bj.Trim(ez)})}:null;};cp.New=function(ez,eA,eB,eC){return{titular:ez,tipoTarjeta:eA,numero:eB,expiracion:eC};};cq=M.Expiracion=er.Class({},null,cq);cq.New=function(ez,eA){return new cq({anio:ez,mes:eA});};cr=M.NumeroTarjeta=er.Class({get_Id:function(){return this.$0;}},null,cr);cs=M.TipoTarjeta=er.Class({toString:function(){return this.$==3?this.$0:(function(ez){return function(eA){return ez(X.p$7(eA));};}(a.id))(this);}},null,cs);cs.Visa=new cs({$:0});cs.tryParse=function(ez){var eA,eB;eB=bj.Trim(ez).toUpperCase();switch(eB){case"":return null;case"VISA":return{$:1,$0:cs.Visa};case"MASTERCARD":return{$:1,$0:cs.MasterCard};case"AMERICAN EXPRESS":case"AMEX":return{$:1,$0:cs.Amex};default:return{$:1,$0:new cs({$:3,$0:bj.Trim(ez)})};}};cs.MasterCard=new cs({$:1});cs.Amex=new cs({$:2});ct=M.TipoCuenta=er.Class({toString:function(){return this.$==2?this.$0:(function(ez){return function(eA){return ez(X.p$8(eA));};}(a.id))(this);}},null,ct);ct.Ahorro=new ct({$:0});ct.tryParse=function(ez){var eA,eB;eB=bj.Trim(ez).toUpperCase();switch(eB){case"":return null;case"AHORRO":case"SAVINGS":return{$:1,$0:ct.Ahorro};case"CORRIENTE":case"CHECKING":return{$:1,$0:ct.Corriente};default:return{$:1,$0:new ct({$:2,$0:bj.Trim(ez)})};}};ct.Corriente=new ct({$:1});cu.Masculino={$:0};cu.tryParse=function(ez){var eA;eA=bj.Trim(ez);return eA==="Masculino"?{$:1,$0:cu.Masculino}:eA==="Femenino"?{$:1,$0:cu.Femenino}:eA==="Empresa"?{$:1,$0:cu.Empresa}:null;};cu.Femenino={$:1};cu.Empresa={$:2};bR.AjaxProvider=function(){c8.$cctor();return c8.AjaxProvider;};bR.set_EndPoint=function(ez){c8.$cctor();c8.EndPoint=ez;};bR.set_AjaxProvider=function(ez){c8.$cctor();c8.AjaxProvider=ez;};bR.makePayload=function(ez){return ew.stringify(ez);};bR.makeHeaders=function(ez){return{"content-type":"application/json","x-websharper-rpc":ez};};bR.EndPoint=function(){c8.$cctor();return c8.EndPoint;};bR.ajax=function(ez,eA,eB,eC,eD,eE,eF){var eG,eH,eI;eG=new a.XMLHttpRequest();eH=a.document.cookie.replace(new a.RegExp("(?:(?:^|.*;)\\s*csrftoken\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1");eG.open("POST",eA,ez);if(ez==true)eG.withCredentials=true;for(var eK in eB)eG.setRequestHeader(eK,eB[eK]);if(eH)eG.setRequestHeader("x-csrftoken",eH);function eJ(){var eL;if(eG.status==200)eD(eG.responseText);else if(eF&&eG.status==403&&eG.responseText=="CSRF")eF();else{eL="Response status is not 200: ";eE(new c_(eL+eG.status));}}if("onload"in eG)eG.onload=eG.onerror=eG.onabort=eJ;else eG.onreadystatechange=function(){if(eG.readyState==4)eJ();};eG.send(eC);};cv.New$1=function(ez,eA,eB,eC){return c9.newPojoOpt([cg.op_EqualsEqualsGreater("auth",ez),cg.op_EqualsEqualsGreater("cache",eA),cg.op_EqualsEqualsGreater("system",eB),cg.op_EqualsEqualsGreater("framework",eC)]);};cw.New$1=function(ez,eA,eB,eC,eD,eE){return c9.newPojoOpt([cg.op_MinusMinusGreater("clientId",ez),cg.op_EqualsEqualsGreater("authority",eA),cg.op_EqualsEqualsGreater("validateAuthority",eB),cg.op_EqualsEqualsGreater("redirectUri",eC),cg.op_EqualsEqualsGreater("postLogoutRedirectUri",eD),cg.op_EqualsEqualsGreater("navigateToLoginRequestUrl",eE)]);};cy=cx.MailboxProcessor=er.Class({PostAndAsyncReply:function(ez,eA){var eB,eC;eB=this;eC=null;return cU.Delay(function(){return cU.Bind(eB.PostAndTryAsyncReply(ez,eA),function(eD){var eE,eF;if(eD!=null&&eD.$==1)eF=eD.$0;else throw new c$.New();return cU.Return(eF);});});},PostAndTryAsyncReply:function(ez,eA){var eB,eC,eD;function eE(eF){var eH;function eG(eI){return{$:1,$0:eI};}if(eC<0){eB.mailbox.AddLast(ez(function(eI){return eF(eG(eI));}));eB.resume();}else{eH=[true];eB.mailbox.AddLast(ez(function(eI){if(eH[0]){eH[0]=false;eF({$:1,$0:eI});}}));eB.resume();a.setTimeout(function(){if(eH[0]){eH[0]=false;eF(null);}},eC);}}eB=this;eC=(eD=this.get_DefaultTimeout(),eA==null?eD:eA.$0);return cU.FromContinuations(function(eF,eG,eH){return eE.apply(null,[eF,eG,eH]);});},get_DefaultTimeout:function(){return this.DefaultTimeout;},Receive:function(ez){var eA,eB;eA=this;eB=null;return cU.Delay(function(){return cU.Bind(eA.TryReceive(ez),function(eC){var eD,eE;if(eC!=null&&eC.$==1)eE=eC.$0;else throw new c$.New();return cU.Return(eE);});});},resume:function(){var ez;ez=this.savedCont;ez!=null&&ez.$==1?(this.savedCont=null,this.startAsync(ez.$0)):void 0;},Start:function(){var ez,eA;ez=this;this.started?o.FailWith("The MailboxProcessor has already been started."):(this.started=true,ez.startAsync((eA=null,cU.Delay(function(){return cU.TryWith(cU.Delay(function(){return cU.Bind(ez.initial(ez),function(){return cU.Return(null);});}),function(eB){ez.errorEvent.event.Trigger(eB);return cU.Zero();});}))));},TryReceive:function(ez){var eA,eB,eC;function eD(eE){var eF,eG,eH,eI;if(J.Equals(eA.mailbox.n,null)){if(eB<0){eA.savedCont={$:1,$0:(eF=null,cU.Delay(function(){eE({$:1,$0:eA.dequeue()});return cU.Zero();}))};}else{eG=[true];eH=a.setTimeout(function(){if(eG[0]){eG[0]=false;eA.savedCont=null;eE(null);}},eB);eA.savedCont={$:1,$0:(eI=null,cU.Delay(function(){return eG[0]?(eG[0]=false,a.clearTimeout(eH),eE({$:1,$0:eA.dequeue()}),cU.Zero()):cU.Zero();}))};}}else eE({$:1,$0:eA.dequeue()});}eA=this;eB=(eC=this.get_DefaultTimeout(),ez==null?eC:ez.$0);return cU.FromContinuations(function(eE,eF,eG){return eD.apply(null,[eE,eF,eG]);});},startAsync:function(ez){cU.Start(ez,this.token);},dequeue:function(){var ez;ez=this.mailbox.n.v;this.mailbox.RemoveFirst();return ez;}},g,cy);cy.Start=function(ez,eA){var eB;eB=new cy.New(ez,eA);eB.Start();return eB;};cy.New=er.Ctor(function(ez,eA){var eB,eC;function eD(eE){return eB.resume();}eB=this;g.New.call(this);this.initial=ez;this.token=eA;this.started=false;this.errorEvent=new dy.New();this.mailbox=new dz.New();this.savedCont=null;eC=this.token;eC==null?void 0:cU.Register(eC.$0,function(){eD();});this.DefaultTimeout=-1;},cy);cz.callA=function(ez,eA){return cz.iterA(ez,function(eB){var eC,eD,eE;eC=eB[0];eD=eB[1];eE=null;return cU.Delay(function(){return cU.Bind(eA(eD),function(eF){eC(eF);return cU.Zero();});});});};cz.iterA=function(ez,eA){return cy.Start(function(eB){var eC;eC=null;return cU.Delay(function(){return cU.While(function(){return true;},cU.Delay(function(){return cU.TryWith(cU.Delay(function(){return cU.Bind(eB.Receive(null),function(eD){return cU.Bind(eA(eD),function(){return cU.Return(null);});});}),function(eD){ez(eD);return cU.Zero();});}));});},null);};j.REGEX$2=function(ez,eA,eB){var eC;return eB===null?null:(eC=(new a.String(eB)).match(new a.RegExp(ez,eA)),J.Equals(eC,null)?null:!J.Equals(eC,null)&&eC.length===0?null:{$:1,$0:eC});};j.rexEmail$1=function(){_6.$cctor();return _6.rexEmail;};cA.DefaultEP={$:0};cB.InstallHash=function(ez,eA){var eB;eB=i.Create$1(cB.getCurrentHash(function(eC){return dd.Parse(eA,de.FromHash(eC,{$:1,$0:true}));},ez));cB.InstallHashInto(eB,ez,eA);return eB;};cB.InstallHashInto=function(ez,eA,eB){function eC(eF){return dd.Parse(eB,de.FromHash(eF,{$:1,$0:true}));}function eD(){return cB.getCurrentHash(eC,eA);}function eE(eF){if(!J.Equals(ez.Get(),eF))ez.Set(eF);}self.addEventListener("popstate",function(){return eE(eD());},false);self.addEventListener("hashchange",function(){return eE(eD());},false);self.document.body.addEventListener("click",function(eF){var eG,eH,eI;eG=(eH=cB.findLinkHref(eF.target),eH==null?null:(eI=eH.$0,bj.StartsWith(eI,"#")?eC(eI):null));return eG==null?null:(eE(eG.$0),eF.preventDefault());},false);p.Sink(function(eF){var eG;if(!J.Equals(eF,eD())){eG=dd.HashLink(eB,eF);self.history.pushState(null,null,eG);}},ez.get_View());};cB.getCurrentHash=function(ez,eA){var eB,eC;eB=self.location.hash;eC=ez(eB);return eC==null?((function(eD){return function(eE){return eD("Failed to parse route: "+bz.toSafe(eE));};}(function(eD){eu.log(eD);}))(eB),eA):eC.$0;};cB.findLinkHref=function(ez){while(true)if(ez.tagName==="A")return L.ofObj(ez.getAttribute("href"));else if(ez===self.document.body)return null;else ez=ez.parentNode;};cC.B={$:0};cD.installBearer=function(ez){cD.set_getTokenOA(ez);bR.set_AjaxProvider(new df.New());};cD.set_getTokenOA=function(ez){_6.$cctor();_6.getTokenOA=ez;};cD.getTokenOA=function(){_6.$cctor();return _6.getTokenOA;};cD.originalProvider=function(){_6.$cctor();return _6.originalProvider;};cE=M.IdPayment=er.Class({get_Id:function(){return this.$0;}},null,cE);cF=M.CuentaPago=er.Class({get_MaskedCuenta:function(){return this.$==0?this.$0.numero.get_Id():this.$==2?this.$0:this.$0.numero.get_Id();}},null,cF);cG.New=function(ez,eA){return{qryName:ez,qryFunction:eA};};_5.Obsolete=function(ez){var eA,eB,eC,eD,eE;eB=ez.s;if(eB==null||(eB!=null&&eB.$==2?(eA=eB.$1,false):eB!=null&&eB.$==3?(eA=eB.$1,false):true))void 0;else{ez.s=null;for(eC=0,eD=T.length(eA)-1;eC<=eD;eC++){eE=T.get(eA,eC);typeof eE=="object"?function(eF){_5.Obsolete(eF);}(eE):eE();}}};_5.New=function(ez){return{s:ez};};cH=bg.FSharpMap=er.Class({TryGetValue:function(ez,eA){var eB;eB=this.TryFind(ez);return eB!=null&&eB.$==1&&(eA.set(eB.$0),true);},get_Item:function(ez){var eA;eA=this.TryFind(ez);return eA==null?o.FailWith("The given key was not present in the dictionary."):eA.$0;},TryFind:function(ez){var eA;eA=cK.TryFind(dE.New(ez,void 0),this.tree);return eA==null?null:{$:1,$0:eA.$0.Value};},Equals:function(ez){return this.get_Count()===ez.get_Count()&&bc.forall2(J.Equals,this,ez);},GetEnumerator$1:function(){return cI.Get(bc.map(function(ez){return{K:ez.Key,V:ez.Value};},cK.Enumerate(false,this.tree)));},get_Count:function(){var ez;ez=this.tree;return ez==null?0:ez.Count;},GetHashCode:function(){return J.Hash(T.ofSeq(this));},Add:function(ez,eA){return new cH.New$1(cK.Add(dE.New(ez,eA),this.tree));},get_IsEmpty:function(){return this.tree==null;},get_Tree:function(){return this.tree;},GetEnumerator:function(){return this.GetEnumerator$1();},CompareTo0:function(ez){return bc.compareWith(J.Compare,this,ez);},GetEnumerator0:function(){return this.GetEnumerator$1();}},g,cH);cH.New=er.Ctor(function(ez){cH.New$1.call(this,dh.fromSeq(ez));},cH);cH.New$1=er.Ctor(function(ez){g.New.call(this);this.tree=ez;},cH);cI.Get=function(ez){return ez instanceof a.Array?cI.ArrayEnumerator(ez):J.Equals(typeof ez,"string")?cI.StringEnumerator(ez):ez.GetEnumerator();};cI.ArrayEnumerator=function(ez){return new cJ.New(0,null,function(eA){var eB;eB=eA.s;return eB<T.length(ez)&&(eA.c=T.get(ez,eB),eA.s=eB+1,true);},void 0);};cI.StringEnumerator=function(ez){return new cJ.New(0,null,function(eA){var eB;eB=eA.s;return eB<ez.length&&(eA.c=ez[eB],eA.s=eB+1,true);},void 0);};cI.Get0=function(ez){return ez instanceof a.Array?cI.ArrayEnumerator(ez):J.Equals(typeof ez,"string")?cI.StringEnumerator(ez):"GetEnumerator0"in ez?ez.GetEnumerator0():ez.GetEnumerator();};cJ=cI.T=er.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},g,cJ);cJ.New=er.Ctor(function(ez,eA,eB,eC){g.New.call(this);this.s=ez;this.c=eA;this.n=eB;this.d=eC;},cJ);cK.OfSeq=function(ez){var eA;eA=T.ofSeq(bc.distinct(ez));T.sortInPlace(eA);return cK.Build(eA,0,eA.length-1);};cK.Contains=function(ez,eA){return!((cK.Lookup(ez,eA))[0]==null);};cK.Remove=function(ez,eA){var eB,eC,eD,eE;eB=cK.Lookup(ez,eA);eC=eB[0];eD=eB[1];return eC==null?eA:eC.Right==null?cK.Rebuild(eD,eC.Left):eC.Left==null?cK.Rebuild(eD,eC.Right):cK.Rebuild(eD,(eE=T.ofSeq(bc.append(cK.Enumerate(false,eC.Left),cK.Enumerate(false,eC.Right))),cK.Build(eE,0,eE.length-1)));};cK.Add=function(ez,eA){return cK.Put(function(eB,eC){return eC;},ez,eA);};cK.TryFind=function(ez,eA){var eB;eB=(cK.Lookup(ez,eA))[0];return eB==null?null:{$:1,$0:eB.Node};};cK.Build=function(ez,eA,eB){var eC,eD,eE;return eB-eA+1<=0?null:(eC=(eA+eB)/2>>0,(eD=cK.Build(ez,eA,eC-1),(eE=cK.Build(ez,eC+1,eB),cK.Branch(T.get(ez,eC),eD,eE))));};cK.Lookup=function(ez,eA){var eB,eC,eD,eE;eB=[];eC=eA;eD=true;while(eD)if(eC==null)eD=false;else{eE=J.Compare(ez,eC.Node);eE===0?eD=false:eE===1?(eB.unshift([true,eC.Node,eC.Left]),eC=eC.Right):(eB.unshift([false,eC.Node,eC.Right]),eC=eC.Left);}return[eC,eB];};cK.Rebuild=function(ez,eA){var eB,eD,eE,eF,eG,eH,eI,eJ,eK,eL;function eC(eM){return eM==null?0:eM.Height;}eB=eA;for(eD=0,eE=T.length(ez)-1;eD<=eE;eD++){eB=(eF=T.get(ez,eD),eF[0]?(eG=eF[1],(eH=eF[2],eC(eB)>eC(eH)+1?eC(eB.Left)===eC(eB.Right)+1?(eI=eB.Left,cK.Branch(eI.Node,cK.Branch(eG,eH,eI.Left),cK.Branch(eB.Node,eI.Right,eB.Right))):cK.Branch(eB.Node,cK.Branch(eG,eH,eB.Left),eB.Right):cK.Branch(eG,eH,eB))):(eJ=eF[1],(eK=eF[2],eC(eB)>eC(eK)+1?eC(eB.Right)===eC(eB.Left)+1?(eL=eB.Right,cK.Branch(eL.Node,cK.Branch(eB.Node,eB.Left,eL.Left),cK.Branch(eJ,eL.Right,eK))):cK.Branch(eB.Node,eB.Left,cK.Branch(eJ,eB.Right,eK)):cK.Branch(eJ,eB,eK))));}return eB;};cK.Put=function(ez,eA,eB){var eC,eD;eC=cK.Lookup(eA,eB);eD=eC[0];return eD==null?cK.Rebuild(eC[1],cK.Branch(eA,null,null)):cK.Rebuild(eC[1],cK.Branch(ez(eD.Node,eA),eD.Left,eD.Right));};cK.Branch=function(ez,eA,eB){var eC,eD;return di.New(ez,eA,eB,1+(eC=eA==null?0:eA.Height,(eD=eB==null?0:eB.Height,J.Compare(eC,eD)===1?eC:eD)),1+(eA==null?0:eA.Count)+(eB==null?0:eB.Count));};cK.Enumerate=function(ez,eA){function eB(eC,eD){var eE;while(true)if(eC==null)return eD.$==1?{$:1,$0:[eD.$0[0],[eD.$0[1],eD.$1]]}:null;else if(ez){eE=eC;eC=eE.Right;eD=new cL({$:1,$0:[eE.Node,eE.Left],$1:eD});}else{eE=eC;eC=eE.Left;eD=new cL({$:1,$0:[eE.Node,eE.Right],$1:eD});}}return bc.unfold(function(eC){return eB(eC[0],eC[1]);},[eA,cL.Empty]);};bc.tryHead=function(ez){var eA;eA=cI.Get(ez);try{return eA.MoveNext()?{$:1,$0:eA.Current()}:null;}finally{if(typeof eA=="object"&&"Dispose"in eA)eA.Dispose();}};T.groupBy=function(ez,eA){var eB,eC,eD,eE,eF,eG;eB=new b4.New$5();eC=[];for(eD=0,eE=T.length(eA)-1;eD<=eE;eD++){eF=eA[eD];eG=ez(eF);eB.ContainsKey(eG)?eB.get_Item(eG).push(eF):(eC.push(eG),eB.Add(eG,[eF]));}T.mapInPlace(function(eH){return[eH,eB.get_Item(eH)];},eC);return eC;};bc.tryItem=function(ez,eA){var eB,eC,eD;if(ez<0)return null;else{eB=0;eC=cI.Get(eA);try{eD=true;while(eD&&eB<=ez)if(eC.MoveNext())eB=eB+1;else eD=false;return eD?{$:1,$0:eC.Current()}:null;}finally{if(typeof eC=="object"&&"Dispose"in eC)eC.Dispose();}}};bc.last=function(ez){var eA,eB;eA=cI.Get(ez);try{if(!eA.MoveNext())eB=bc.insufficient();else{while(eA.MoveNext());eB=eA.Current();}return eB;}finally{if(typeof eA=="object"&&"Dispose"in eA)eA.Dispose();}};T.mapInPlace=function(ez,eA){var eB,eC;for(eB=0,eC=eA.length-1;eB<=eC;eB++)eA[eB]=ez(eA[eB]);};T.mapiInPlace=function(ez,eA){var eB,eC;for(eB=0,eC=eA.length-1;eB<=eC;eB++)eA[eB]=ez(eB,eA[eB]);return eA;};bc.insufficient=function(){return o.FailWith("The input sequence has an insufficient number of elements.");};bc.nonNegative=function(){return o.FailWith("The input must be non-negative.");};cL=bB.T=er.Class({GetEnumerator:function(){return new cJ.New(this,null,function(ez){var eA;eA=ez.s;return eA.$==0?false:(ez.c=eA.$0,ez.s=eA.$1,true);},void 0);},GetEnumerator0:function(){return cI.Get(this);}},null,cL);cL.Empty=new cL({$:0});cM.rtn=function(ez){return cU.Return({$:0,$0:ez});};cM.bind=function(ez,eA){var eB;eB=null;return cU.Delay(function(){return cU.Bind(eA,function(eC){return eC.$==1?cU.Return(bd.Error$1(eC.$0)):ez(eC.$0);});});};cM.iterA=function(ez,eA,eB){function eC(eE){bG.iter(ez,eA,eE);}function eD(eE){return cU.Return(eE);}cU.Start(cU.Bind(eB,function(eE){return eD(eC(eE));}),null);};cM.map=function(ez,eA){return cM.bind(function(eB){return cM.rtn(ez(eB));},eA);};cM.rtnR=function(ez){return cU.Return(ez);};cM.whileLoop=function(ez,eA){return ez()?cM.bind(function(){return cM.whileLoop(ez,eA);},eA()):cM.rtn();};cN.replace=function(ez,eA,eB){return T.ofSeq(bc.delay(function(){return bc.append(ez>0?cd.array(eB,null,{$:1,$0:ez-1}):[],bc.delay(function(){return bc.append([eA],bc.delay(function(){return ez<T.length(eB)?cd.array(eB,{$:1,$0:ez+1},null):[];}));}));}));};cN.remove=function(ez,eA){return T.ofSeq(bc.delay(function(){return bc.append(ez>0?cd.array(eA,null,{$:1,$0:ez-1}):[],bc.delay(function(){return ez<T.length(eA)?cd.array(eA,{$:1,$0:ez+1},null):[];}));}));};cO.formaDocO=function(ez){var eA;return cO.formaDoc(i.Lens(ez,(eA=[M.ctaVacio(),"",false],function(eB){return eB==null?eA:eB.$0;}),function(eB,eC){return{$:1,$0:eC};}));};cO.formaDoc=function(ez){var eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL;function eM(eN,eO,eP){eB.Hole("titular").Set(eN.titular);eB.Hole("banco").Set(eN.banco);eB.Hole("tipocuenta").Set((function(eQ){return function(eR){return eQ(a.String(eR));};}(a.id))(eN.tipo));eB.Hole("numero").Set(eN.numero.$0);eB.Hole("routing").Set(eN.routing.$0);}eA=p.Map(function(eN){return bv.thr3(eN[0],eN[1],eN[2]);},ez.get_View());eB=(eC=(eD=cW.DynamicPred("disabled",eA,p.Const("")),(eE=cW.DynamicPred("disabled",eA,p.Const("")),(eF=cW.DynamicPred("disabled",eA,p.Const("")),(eG=cW.DynamicPred("disabled",eA,p.Const("")),(eH=cW.DynamicPred("disabled",eA,p.Const("")),(eI=_0.EmbedView(p.Map(bv.crearOptions,bv.tiposCta().get_View())),U.Make().WithHole({$:0,$0:"tiposcuenta",$1:eI})).WithHole({$:2,$0:"mensaje",$1:p.Map(function(eN){return bv.snd3(eN[0],eN[1],eN[2]);},ez.get_View())}).WithHole({$:3,$0:"disabled1",$1:eH})).WithHole({$:3,$0:"disabled2",$1:eG})).WithHole({$:3,$0:"disabled3",$1:eF})).WithHole({$:3,$0:"disabled4",$1:eE})).WithHole({$:3,$0:"disabled5",$1:eD})),(eJ=V.CompleteHoles(eC.k,eC.h,[["tipocuenta",0],["titular",0],["numero",0],["banco",0],["routing",0]]),(eK=new S.New(eJ[1],W.cuentabancaria(eJ[0])),(eC.i=eK,eK))));p.Sink(function(eN){return eM(eN[0],eN[1],eN[2]);},ez.get_View());eL=p.Apply(p.Apply(p.Map2(function(eN,eO){return function(eP){return function(eQ){return bc.map(function(eR){return eR[1];},bc.filter(function(eR){return eR[0];},bB.ofArray([[bj.Trim(eN)==="","Titular"],[bj.Trim(eO)==="","Banco"],[bj.Trim(eP)==="","Numero de Cuenta"],[bj.Trim(eQ)==="","ABA/Routing Number"]])));};};},eB.Hole("titular").get_View(),eB.Hole("banco").get_View()),eB.Hole("numero").get_View()),eB.Hole("routing").get_View());p.Sink(function(eN){var eO,eP;if(eN!=null&&eN.$==1){eO=eN.$0;!J.Equals((eP=ez.Get(),bv.fst3(eP[0],eP[1],eP[2])),eO)?ez.Set([eO,"",false]):void 0;}},p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(eN,eO){return er.Curried(function(eP,eQ,eR,eS){return!bc.isEmpty(eN)?null:bv.alertIfNone("TipoCuenta",ct.tryParse(bj.Trim(eO)),function(eT){var eU;return{$:1,$0:(eU=bj.Trim(eP),bC.New(bj.Trim(eQ),eU,eT,new bE({$:0,$0:bj.Trim(eR)}),new bD({$:0,$0:bj.Trim(eS)})))};});},4);},eL,eB.Hole("tipocuenta").get_View()),eB.Hole("banco").get_View()),eB.Hole("titular").get_View()),eB.Hole("numero").get_View()),eB.Hole("routing").get_View()));return[eL,eB.get_Doc()];};cP.formaDocO=function(ez){var eA;return cP.formaDoc(i.Lens(ez,(eA=[M.tarVacio(),"",false],function(eB){return eB==null?eA:eB.$0;}),function(eB,eC){return{$:1,$0:eC};}));};cP.formaDoc=function(ez){var eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN;function eO(eP,eQ,eR){var eS;eB.Hole("titular").Set(eP.titular);eB.Hole("tipotarjeta").Set((function(eT){return function(eU){return eT(a.String(eU));};}(a.id))(eP.tipoTarjeta));eB.Hole("numero").Set(eP.numero.$0);eB.Hole("aniovenc").Set((function(eT){return function(eU){return eT(bz.padNumLeft(a.String(eU),4));};}(a.id))(eP.expiracion.anio));eB.Hole("mesvenc").Set((eS=eP.expiracion.mes,eS===1?"Enero":eS===2?"Febrero":eS===3?"Marzo":eS===4?"Abril":eS===5?"Mayo":eS===6?"Junio":eS===7?"Julio":eS===8?"Agosto":eS===9?"Septiembre":eS===10?"Octubre":eS===11?"Noviembre":eS===12?"Diciembre":"XX"));}eA=p.Map(function(eP){return bv.thr3(eP[0],eP[1],eP[2]);},ez.get_View());eB=(eC=(eD=cW.DynamicPred("disabled",eA,p.Const("")),(eE=cW.DynamicPred("disabled",eA,p.Const("")),(eF=cW.DynamicPred("disabled",eA,p.Const("")),(eG=cW.DynamicPred("disabled",eA,p.Const("")),(eH=cW.DynamicPred("disabled",eA,p.Const("")),(eI=_0.EmbedView(p.Map(function(eP){return bv.crearOptions(bc.map(a.String,eP));},bv.mesesV().get_View())),(eJ=_0.EmbedView(p.Map(function(eP){return bv.crearOptions(bc.map(a.String,eP));},bv.aniosV().get_View())),(eK=_0.EmbedView(p.Map(bv.crearOptions,bv.tiposTar().get_View())),U.Make().WithHole({$:0,$0:"tipostarjeta",$1:eK})).WithHole({$:2,$0:"mensaje",$1:p.Map(function(eP){return bv.snd3(eP[0],eP[1],eP[2]);},ez.get_View())}).WithHole({$:0,$0:"anios",$1:eJ})).WithHole({$:0,$0:"meses",$1:eI})).WithHole({$:3,$0:"disabled1",$1:eH})).WithHole({$:3,$0:"disabled2",$1:eG})).WithHole({$:3,$0:"disabled3",$1:eF})).WithHole({$:3,$0:"disabled4",$1:eE})).WithHole({$:3,$0:"disabled5",$1:eD})).WithHole({$:2,$0:"visible",$1:p.Map(function(eP){return eP?"display:None":"";},eA)}),(eL=V.CompleteHoles(eC.k,eC.h,[["tipotarjeta",0],["titular",0],["numero",0],["aniovenc",0],["mesvenc",0]]),(eM=new S.New(eL[1],W.tarjetacredito(eL[0])),(eC.i=eM,eM))));p.Sink(function(eP){return eO(eP[0],eP[1],eP[2]);},ez.get_View());eN=p.Apply(p.Apply(p.Apply(p.Map2(function(eP,eQ){return er.Curried3(function(eR,eS,eT){return bc.map(function(eU){return eU[1];},bc.filter(function(eU){return eU[0];},bB.ofArray([[bj.Trim(eP)==="","Titular"],[bj.Trim(eQ)==="","TipoTarjeta"],[bj.Trim(eR)==="","Numero"],[bj.Trim(eS)==="","Ano de Vencimiento"],[bj.Trim(eT)==="","Mes de Vencimiento"]])));});},eB.Hole("titular").get_View(),eB.Hole("tipotarjeta").get_View()),eB.Hole("numero").get_View()),eB.Hole("aniovenc").get_View()),eB.Hole("mesvenc").get_View());p.Sink(function(eP){var eQ,eR;if(eP!=null&&eP.$==1){eQ=eP.$0;!J.Equals((eR=ez.Get(),bv.fst3(eR[0],eR[1],eR[2])),eQ)?ez.Set([eQ,"",false]):void 0;}},p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(eP,eQ){return er.Curried(function(eR,eS,eT,eU){return!bc.isEmpty(eP)?null:bv.alertIfNone("Tipo Tarjeta",cs.tryParse(bj.Trim(eQ)),function(eV){var eW,eX,eY;return{$:1,$0:cp.New(bj.Trim(eR),eV,new cr({$:0,$0:bj.Trim(eS)}),cq.New((eW=(eX=bj.Trim(eT),(ce.parseIntO$1())(eX)),eW==null?0:eW.$0),(eY=bj.Trim(eU),eY==="Febrero"?2:eY==="Marzo"?3:eY==="Abril"?4:eY==="Mayo"?5:eY==="Junio"?6:eY==="Julio"?7:eY==="Agosto"?8:eY==="Septiembre"?9:eY==="Octubre"?10:eY==="Noviembre"?11:eY==="Diciembre"?12:1)))};});},4);},eN,eB.Hole("tipotarjeta").get_View()),eB.Hole("titular").get_View()),eB.Hole("numero").get_View()),eB.Hole("aniovenc").get_View()),eB.Hole("mesvenc").get_View()));return[eN,eB.get_Doc()];};cR=h.FromView=er.Class({get_View:function(){return this.view;},Set:function(ez){this.set(ez);},Get:function(){return this.current;},Update:function(ez){var eA;p.Get((eA=this.set,function(eB){return eA(ez(eB));}),this.view);},UpdateMaybe:function(ez){var eA;eA=this;p.Get(function(eB){var eC;eC=ez(eB);eC!=null&&eC.$==1?eA.set(eC.$0):void 0;},this.view);}},q,cR);cR.New=er.Ctor(function(ez,eA){var eB,eC;eB=this;q.New.call(this);this.set=eA;this.id=b9.Int();this.current=(eC=p.TryGet(ez),eC==null?null:eC.$0);this.view=p.Map(function(eD){eB.current=eD;return eD;},ez);},cR);cS=h.AttrProxy=er.Class({},null,cS);cS.Create=function(ez,eA){return dl.Static(function(eB){dm.SetAttr(eB,ez,eA);});};cS.HandlerImpl=function(ez,eA){return dl.Static(function(eB){eB.addEventListener(ez,function(eC){return(eA(eB))(eC);},false);});};cS.Concat=function(ez){var eA;eA=cT.ofSeqNonCopying(ez);return cT.TreeReduce(dl.EmptyAttr(),cS.Append,eA);};cS.Append=function(ez,eA){return dl.AppendTree(ez,eA);};cS.Handler=function(ez,eA){return cS.HandlerImpl(ez,eA);};cT.ofSeqNonCopying=function(ez){var eA,eB;if(ez instanceof a.Array)return ez;else if(ez instanceof cL)return T.ofList(ez);else if(ez===null)return[];else{eA=[];eB=cI.Get(ez);try{while(eB.MoveNext())eA.push(eB.Current());return eA;}finally{if(typeof eB=="object"&&"Dispose"in eB)eB.Dispose();}}};cT.TreeReduce=function(ez,eA,eB){var eC;function eD(eE,eF){var eG,eH;return eF<=0?ez:eF===1&&(eE>=0&&eE<eC)?T.get(eB,eE):(eH=eF/2>>0,eA(eD(eE,eH),eD(eE+eH,eF-eH)));}eC=T.length(eB);return eD(0,eC);};cT.MapTreeReduce=function(ez,eA,eB,eC){var eD;function eE(eF,eG){var eH,eI;return eG<=0?eA:eG===1&&(eF>=0&&eF<eD)?ez(T.get(eC,eF)):(eI=eG/2>>0,eB(eE(eF,eI),eE(eF+eI,eG-eI)));}eD=T.length(eC);return eE(0,eD);};cT.mapInPlace=function(ez,eA){var eB,eC;for(eB=0,eC=eA.length-1;eB<=eC;eB++)eA[eB]=ez(eA[eB]);return eA;};cU.Delay=function(ez){return function(eA){try{(ez(null))(eA);}catch(eB){eA.k({$:1,$0:eB});}};};cU.Bind=function(ez,eA){return cU.checkCancel(function(eB){ez(dn.New(function(eC){var eD;if(eC.$==0){eD=eC.$0;cU.scheduler().Fork(function(){try{(eA(eD))(eB);}catch(eE){eB.k({$:1,$0:eE});}});}else cU.scheduler().Fork(function(){eB.k(eC);});},eB.ct));});};cU.Zero=function(){_do.$cctor();return _do.Zero;};cU.Start=function(ez,eA){var eB,eC;eB=(eC=(cU.defCTS())[0],eA==null?eC:eA.$0);cU.scheduler().Fork(function(){if(!eB.c)ez(dn.New(function(eD){if(eD.$==1)cU.UncaughtAsyncError(eD.$0);},eB));});};cU.Return=function(ez){return function(eA){eA.k({$:0,$0:ez});};};cU.While=function(ez,eA){return ez()?cU.Bind(eA,function(){return cU.While(ez,eA);}):cU.Return();};cU.Sleep=function(ez){return function(eA){var eB,eC;eB=void 0;eC=void 0;eB=a.setTimeout(function(){eC.Dispose();cU.scheduler().Fork(function(){eA.k({$:0,$0:null});});},ez);eC=cU.Register(eA.ct,function(){a.clearTimeout(eB);cU.scheduler().Fork(function(){cU.cancel(eA);});});};};cU.checkCancel=function(ez){return function(eA){if(eA.ct.c)cU.cancel(eA);else ez(eA);};};cU.FromContinuations=function(ez){return function(eA){var eB;function eC(eD){if(eB[0])o.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{eB[0]=true;cU.scheduler().Fork(eD);}}eB=[false];ez(function(eD){eC(function(){eA.k({$:0,$0:eD});});},function(eD){eC(function(){eA.k({$:1,$0:eD});});},function(eD){eC(function(){eA.k({$:2,$0:eD});});});};};cU.defCTS=function(){_do.$cctor();return _do.defCTS;};cU.UncaughtAsyncError=function(ez){eu.log("WebSharper: Uncaught asynchronous exception",ez);};cU.TryWith=function(ez,eA){return function(eB){ez(dn.New(function(eC){if(eC.$==0)eB.k({$:0,$0:eC.$0});else if(eC.$==1)try{(eA(eC.$0))(eB);}catch(eD){eB.k(eC);}else eB.k(eC);},eB.ct));};};cU.Combine=function(ez,eA){return cU.Bind(ez,function(){return eA;});};cU.Register=function(ez,eA){var eB;return ez===cU.noneCT()?{Dispose:function(){return null;}}:(eB=ez.r.push(eA)-1,{Dispose:function(){return T.set(ez.r,eB,a.ignore);}});};cU.cancel=function(ez){ez.k({$:2,$0:new dX.New(ez.ct)});};cU.Using=function(ez,eA){return cU.TryFinally(eA(ez),function(){ez.Dispose();});};cU.scheduler=function(){_do.$cctor();return _do.scheduler;};cU.noneCT=function(){_do.$cctor();return _do.noneCT;};cU.TryFinally=function(ez,eA){return function(eB){ez(dn.New(function(eC){try{eA();eB.k(eC);}catch(eD){eB.k({$:1,$0:eD});}},eB.ct));};};cU.StartWithContinuations=function(ez,eA,eB,eC,eD){var eE,eF;eE=(eF=(cU.defCTS())[0],eD==null?eF:eD.$0);!eE.c?ez(dn.New(function(eG){if(eG.$==1)eB(eG.$0);else if(eG.$==2)eC(eG.$0);else eA(eG.$0);},eE)):void 0;};cU.GetCT=function(){_do.$cctor();return _do.GetCT;};cV.InMemory=function(ez){return new dq.New(ez);};cW.DynamicPred=function(ez,eA,eB){function eC(eD,eE){return eE[0]?dm.SetAttr(eD,ez,eE[1]):dm.RemoveAttr(eD,ez);}return dl.Dynamic(p.Map2(function(eD,eE){return[eD,eE];},eA,eB),function(eD){return function(eE){return eC(eD,eE);};});};cW.Style=function(ez,eA){return dl.Static(function(eB){dm.SetStyle(eB,ez,eA);});};cW.Dynamic=function(ez,eA){return dl.Dynamic(eA,function(eB){return function(eC){return dm.SetAttr(eB,ez,eC);};});};cW.Handler=function(ez,eA){return dl.Static(function(eB){eB.addEventListener(ez,function(eC){return(eA(eB))(eC);},false);});};cW.DynamicStyle=function(ez,eA){return dl.Dynamic(eA,function(eB){return function(eC){return dm.SetStyle(eB,ez,eC);};});};cW.Value=function(ez){function eA(eB){return{$:1,$0:eB};}return cW.CustomValue(ez,a.id,function(eB){return eA(a.id(eB));});};cW.CustomValue=function(ez,eA,eB){return cW.CustomVar(ez,function(eC,eD){eC.value=eA(eD);},function(eC){return eB(eC.value);});};cW.OnAfterRender=function(ez){return new cS({$:4,$0:ez});};cW.Checked=function(ez){function eA(eB,eC){return!J.Equals(ez.Get(),eB.checked)?ez.Set(eB.checked):null;}return cS.Concat([cW.DynamicProp("checked",ez.get_View()),cW.Handler("change",function(eB){return function(eC){return eA(eB,eC);};})]);};cW.IntValue=function(ez){return cW.CustomVar(ez,function(eA,eB){var eC;eC=eB.get_Input();return eA.value!==eC?void(eA.value=eC):null;},function(eA){var eB,eC,eD;eB=eA.value;return{$:1,$0:eh.isBlank(eB)?(eA.checkValidity?eA.checkValidity():true)?new c4({$:2,$0:eB}):new c4({$:1,$0:eB}):(eC=(eD=0,[b2.TryParseInt32(eB,{get:function(){return eD;},set:function(eE){eD=eE;}}),eD]),eC[0]?new c4({$:0,$0:eC[1],$1:eB}):new c4({$:1,$0:eB}))};});};cW.IntValueUnchecked=function(ez){return cW.CustomValue(ez,a.String,function(eA){var eB;return eh.isBlank(eA)?{$:1,$0:0}:(eB=+eA,eB!==eB>>0?null:{$:1,$0:eB});});};cW.FloatValue=function(ez){return cW.CustomVar(ez,function(eA,eB){var eC;eC=eB.get_Input();return eA.value!==eC?void(eA.value=eC):null;},function(eA){var eB,eC;eB=eA.value;return{$:1,$0:eh.isBlank(eB)?(eA.checkValidity?eA.checkValidity():true)?new c4({$:2,$0:eB}):new c4({$:1,$0:eB}):(eC=+eB,a.isNaN(eC)?new c4({$:1,$0:eB}):new c4({$:0,$0:eC,$1:eB}))};});};cW.FloatValueUnchecked=function(ez){return cW.CustomValue(ez,a.String,function(eA){var eB;return eh.isBlank(eA)?{$:1,$0:0}:(eB=+eA,a.isNaN(eB)?null:{$:1,$0:eB});});};cW.CustomVar=function(ez,eA,eB){function eC(eE,eF){return ez.UpdateMaybe(function(eG){var eH,eI;eH=eB(eE);return eH!=null&&eH.$==1&&(!J.Equals(eH.$0,eG)&&(eI=[eH,eH.$0],true))?eI[0]:null;});}function eD(eE,eF){var eG,eH;eG=eB(eE);return eG!=null&&eG.$==1&&(J.Equals(eG.$0,eF)&&(eH=eG.$0,true))?null:eA(eE,eF);}return cS.Concat([cW.Handler("change",function(eE){return function(eF){return eC(eE,eF);};}),cW.Handler("input",function(eE){return function(eF){return eC(eE,eF);};}),cW.Handler("keypress",function(eE){return function(eF){return eC(eE,eF);};}),cW.DynamicCustom(function(eE){return function(eF){return eD(eE,eF);};},ez.get_View())]);};cW.DynamicProp=function(ez,eA){return dl.Dynamic(eA,function(eB){return function(eC){eB[ez]=eC;};});};cW.DynamicCustom=function(ez,eA){return dl.Dynamic(eA,ez);};bK.splitByChar=function(ez,eA){return bj.SplitChars(eA,[ez],0);};bK.unindent=function(ez){var eA,eB,eC,eD;eA=bj.SplitChars(ez,["\n"],0);eB=(eC=bc.tryFindIndex(function(eE){return" "!==eE;},(eD=bc.tryFind(function(eE){return bj.Trim(eE)!=="";},eA),eD==null?"":eD.$0)),eC==null?0:eC.$0);return bc.filter(function(eE){return!bj.StartsWith(eE,"# 1 ");},bc.map(function(eE){return eE.length<=eB?"":eE.substring(eB);},eA));};bK.delimitedO=function(ez,eA,eB){var eC,eD,eE,eF,eG;eC=bK.splitInTwoO(ez,eB);return eC==null?null:(eD=eC.$0,(eE=eD[0],(eF=bK.splitInTwoO(eA,eD[1]),eF==null?null:{$:1,$0:(eG=eF.$0,[eE,eG[0],eG[1]])})));};bK.unindentStr=function(){bX.$cctor();return bX.unindentStr;};bK.StartsWith=function(ez,eA){return bj.StartsWith(eA,ez)?{$:1,$0:cd.string(eA,{$:1,$0:ez.length},null)}:null;};bK.splitInTwoO=function(ez,eA){var eB;eB=eA.indexOf(ez);return eB===-1?null:{$:1,$0:[bd["String.Left"](eA,eB),eA.substring(eB+ez.length)]};};Z.p$1=function(ez){return"{"+("actName = "+bz.prettyPrint(ez.actName))+"; "+("actFunction = "+cY.p$1(ez.actFunction))+"; "+("actEnabled = "+cY.p$2(ez.actEnabled))+"}";};cX.appfwkclient=function(ez){cX.fixedsplitterhor();cX.fixedsplitterver();c6.LoadLocalTemplates("appframework");return ez?c6.NamedTemplate("appframework",{$:1,$0:"appfwkclient"},ez):void 0;};Z.p=function(ez){return"{"+("docName = "+bz.prettyPrint(ez.docName))+"; "+("docDoc = "+cY.p(ez.docDoc))+"}";};cY.p$1=function(ez){return ez.$==2?"FunAct2 (<fun>, "+bz.prettyPrint(ez.$1)+", "+bz.prettyPrint(ez.$2)+")":ez.$==1?"FunAct1 (<fun>, "+bz.prettyPrint(ez.$1)+")":"FunAct0 <fun>";};cY.p$2=function(ez){return"View <fun>";};cX.tile=function(ez){c6.LoadLocalTemplates("appframework");return ez?c6.NamedTemplate("appframework",{$:1,$0:"tile"},ez):void 0;};cX.namevalueinput=function(ez){c6.LoadLocalTemplates("appframework");return ez?c6.NamedTemplate("appframework",{$:1,$0:"namevalueinput"},ez):void 0;};cX.namevalue=function(ez){c6.LoadLocalTemplates("appframework");return ez?c6.NamedTemplate("appframework",{$:1,$0:"namevalue"},ez):void 0;};cX.action=function(ez){c6.LoadLocalTemplates("appframework");return ez?c6.NamedTemplate("appframework",{$:1,$0:"action"},ez):void 0;};cX.actiondisabled=function(ez){c6.LoadLocalTemplates("appframework");return ez?c6.NamedTemplate("appframework",{$:1,$0:"actiondisabled"},ez):void 0;};cX.fixedsplitterhor=function(ez){c6.LoadLocalTemplates("appframework");return ez?c6.NamedTemplate("appframework",{$:1,$0:"fixedsplitterhor"},ez):void 0;};cX.fixedsplitterver=function(ez){c6.LoadLocalTemplates("appframework");return ez?c6.NamedTemplate("appframework",{$:1,$0:"fixedsplitterver"},ez):void 0;};cX.wcompsplitterhor=function(ez){c6.LoadLocalTemplates("appframework");return ez?c6.NamedTemplate("appframework",{$:1,$0:"wcompsplitterhor"},ez):void 0;};cX.wcompsplitterver=function(ez){c6.LoadLocalTemplates("appframework");return ez?c6.NamedTemplate("appframework",{$:1,$0:"wcompsplitterver"},ez):void 0;};cX.appframework=function(ez){c6.LoadLocalTemplates("appframework");return ez?c6.NamedTemplate("appframework",{$:1,$0:"appframework"},ez):void 0;};cY.p=function(ez){return ez.$==5?"FunDoc5 (<fun>, "+bz.prettyPrint(ez.$1)+", "+bz.prettyPrint(ez.$2)+", "+bz.prettyPrint(ez.$3)+", "+bz.prettyPrint(ez.$4)+", "+bz.prettyPrint(ez.$5)+")":ez.$==4?"FunDoc4 (<fun>, "+bz.prettyPrint(ez.$1)+", "+bz.prettyPrint(ez.$2)+", "+bz.prettyPrint(ez.$3)+", "+bz.prettyPrint(ez.$4)+")":ez.$==3?"FunDoc3 (<fun>, "+bz.prettyPrint(ez.$1)+", "+bz.prettyPrint(ez.$2)+", "+bz.prettyPrint(ez.$3)+")":ez.$==2?"FunDoc2 (<fun>, "+bz.prettyPrint(ez.$1)+", "+bz.prettyPrint(ez.$2)+")":ez.$==1?"FunDoc1 (<fun>, "+bz.prettyPrint(ez.$1)+")":"LazyDoc "+bz.prettyPrint(ez.$0);};ce.tryParseWith=function(ez){function eA(eB,eC){return eB?{$:1,$0:eC}:null;}return function(eB){return eA.apply(null,ez(eB));};};ce.parseDateO=function(){bX.$cctor();return bX.parseDateO;};ce.parseIntO=function(){bX.$cctor();return bX.parseIntO;};ce.parseInt64O=function(){bX.$cctor();return bX.parseInt64O;};ce.parseSingleO=function(){bX.$cctor();return bX.parseSingleO;};ce.parseDoubleO=function(){bX.$cctor();return bX.parseDoubleO;};ce.parseGuidO=function(){bX.$cctor();return bX.parseGuidO;};ce.Double=function(){bX.$cctor();return bX["|Double|_|"];};ce.Int=function(){bX.$cctor();return bX["|Int|_|"];};c1=c0.WcTabStripT=er.Class({connectedCallback:function(){var ez,eA,eB,eC;function eD(){var eE,eF,eG;eF=!eA.hasAttribute("bottom");eG=bB.ofSeq(bc.delay(function(){return bc.collect(function(eH){var eI;eI=eA.childNodes[eH-1];return J.Equals(eI.nodeType,G.ELEMENT_NODE)?[[eI.hasAttribute("tabname")?eI.getAttribute("tabname"):(function(eJ){return function(eK){return eJ("Tab "+a.String(eK));};}(a.id))(eH),eI]]:[];},o.range(1,eA.childNodes.length));}));while(eC.childNodes.length>0)eC.removeChild(eC.lastChild);eE=c0.tabStrip(ez.selected,eF,true,eG,_0.Element("slot",cL.Empty,cL.Empty));c6.LoadLocalTemplates("");_0.Run(eC,eE);}ez=this;!this.added?(eA=this,eB=eA.attachShadow({mode:"open"}),eC=self.document.createElement("div"),eB.appendChild(eC),eD(),eA.addEventListener("DOMSubtreeModified",bd.delayed(50,eD)),this.added=true):void 0;}},g,c1);c1.Constructor=function(){var ez,eA;ez=(eA=ex.construct(self.HTMLElement,[],this.__proto__.constructor),eA);self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New.call(ez);return ez;};c1.New=er.Ctor(function(){g.New.call(this);this.added=false;this.selected=i.Create$1(1);(function(ez){return ez("WcTabStripT initializer");}(function(ez){eu.log(ez);}));},c1);cZ.defineWebComponent=function(ez,eA,eB){try{eu.log("defineWebComponent: "+ez);cQ.setPrototypeOf(eB.prototype,self.HTMLElement.prototype);cQ.setPrototypeOf(eB,self.HTMLElement);cQ.setPrototypeOf(eA.prototype,eB.prototype);self.customElements.define(ez,eA);}catch(eC){(function(eD){return eD("Failed to define WebComponent. Not supported.");}(function(eD){eu.log(eD);}));}};c2.init=function(ez,eA){var eB;eB=new dt.New();c2.set_layoutHorizontal(ez);c2.set_layoutVertical(eA);cZ.defineWebComponent("wcomp-splitter",dt.Constructor,self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New);};c2.set_layoutHorizontal=function(ez){bX.$cctor();bX.layoutHorizontal=ez;};c2.set_layoutVertical=function(ez){bX.$cctor();bX.layoutVertical=ez;};c2.layoutVertical=function(){bX.$cctor();return bX.layoutVertical;};c2.layoutHorizontal=function(){bX.$cctor();return bX.layoutHorizontal;};c0.init=function(){bX.$cctor();return bX.init;};c0.tabStrip=function(ez,eA,eB,eC,eD){var eE;eE=_0.Element("div",[cS.Create("class",(((er.Curried3(function(eF,eG,eH){return eF("tab-strip "+bz.toSafe(eG)+" "+bz.toSafe(eH));}))(a.id))(eA?"top":"bottom"))(eB?"horizontal":"vertical"))],bB.ofSeq(bc.delay(function(){return bc.collect(function(eF){var eG;eG=eF[0];return[dL.New$1().Content(_0.Element("div",[cW.Dynamic("class",p.Map(function(eH){return"tab"+(eH===eG+1?" selected":"");},ez.get_View())),cS.Create("draggable","true"),cS.HandlerImpl("click",function(){return function(){return ez.Set(eG+1);};})],[_0.TextNode(eF[1][0])]))];},bc.indexed(eC));})));return _0.Element("div",[cS.Create("class","tab-panel")],bB.ofSeq(bc.delay(function(){return bc.append(eA?[eE]:[],bc.delay(function(){return bc.append([_0.Element("div",[cS.Create("class","tab-content")],[eD])],bc.delay(function(){return bc.append(!eA?[eE]:[],bc.delay(function(){return bc.append([_0.Element("style",cL.Empty,bB.ofArray([_0.TextNode(c0.css())]))],bc.delay(function(){return[_0.Element("style",cL.Empty,bB.ofArray([_0.TextView(p.Map(function(eF){return function(eG){return eF("\r\n                                              ::slotted(*              ) { display: none }\r\n                                              ::slotted(*:nth-child("+a.String(eG)+")) { display: grid }\r\n                                           ");};}(a.id),ez.get_View()))]))];}));}));}));}));})));};c0.css=function(){bX.$cctor();return bX.css;};c3.notPresent=function(){return o.FailWith("The given key was not present in the dictionary.");};c3.alreadyAdded=function(){return o.FailWith("An item with the same key has already been added.");};c4=h.CheckedInput=er.Class({get_Input:function(){return this.$==1?this.$0:this.$==2?this.$0:this.$1;}},null,c4);c6.LoadLocalTemplates=function(ez){!c6.LocalTemplatesLoaded()?(c6.set_LocalTemplatesLoaded(true),c6.LoadNestedTemplates(self.document.body,"")):void 0;c6.LoadedTemplates().set_Item(ez,c6.LoadedTemplateFile(""));};c6.NamedTemplate=function(ez,eA,eB){var eC,eD;eC=(eD=null,[c6.LoadedTemplateFile(ez).TryGetValue(eA==null?"":eA.$0,{get:function(){return eD;},set:function(eE){eD=eE;}}),eD]);return eC[0]?c6.ChildrenTemplate(eC[1].cloneNode(true),eB):(eu.warn("Local template doesn't exist",eA),_0.get_Empty());};c6.RunFullDocTemplate=function(ez){var eA,eB;c6.LoadLocalTemplates("");c6.PrepareTemplateStrict("",null,dm.ChildrenArray(self.document.body),{$:1,$0:self.document.body},null);eA=c6.ChildrenTemplate(self.document.body,ez);eB=self.document.body;(function(eC){_0.RunInPlace(true,eB,eC);}(eA));return eA;};c6.LocalTemplatesLoaded=function(){dP.$cctor();return dP.LocalTemplatesLoaded;};c6.set_LocalTemplatesLoaded=function(ez){dP.$cctor();dP.LocalTemplatesLoaded=ez;};c6.LoadNestedTemplates=function(ez,eA){var eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP;function eB(eQ){var eR,eS;if(!eC.ContainsKey(eQ)){eR=(eS=null,[eD.TryGetValue(eQ,{get:function(){return eS;},set:function(eT){eS=eT;}}),eS]);eR[0]?(eP.Add(eQ),eD.Remove(eQ),c6.PrepareTemplateStrict(eA,{$:1,$0:eQ},eR[1][0],{$:1,$0:eR[1][1]},{$:1,$0:eB})):eu.warn(eP.Contains(eQ)?"Encountered loop when instantiating "+eQ:"Local template does not exist: "+eQ);}}eC=c6.LoadedTemplateFile(eA);eD=new b4.New$5();eE=ez.querySelectorAll("[ws-template]");for(eF=0,eG=eE.length-1;eF<=eG;eF++){eH=eE[eF];eI=eH.getAttribute("ws-template").toLowerCase();eH.removeAttribute("ws-template");eD.set_Item(eI,[[eH],c6.FakeRootSingle(eH)]);}eJ=ez.querySelectorAll("[ws-children-template]");for(eK=0,eL=eJ.length-1;eK<=eL;eK++){eM=eJ[eK];eN=eM.getAttribute("ws-children-template").toLowerCase();eM.removeAttribute("ws-children-template");eD.set_Item(eN,(eO=dm.ChildrenArray(eM),[eO,c6.FakeRoot(eO)]));}eP=new b5.New$3();while(eD.count>0)eB(bc.head(eD.get_Keys()));};c6.LoadedTemplates=function(){dP.$cctor();return dP.LoadedTemplates;};c6.LoadedTemplateFile=function(ez){var eA,eB,eC;eA=(eB=null,[c6.LoadedTemplates().TryGetValue(ez,{get:function(){return eB;},set:function(eD){eB=eD;}}),eB]);return eA[0]?eA[1]:(eC=new b4.New$5(),(c6.LoadedTemplates().set_Item(ez,eC),eC));};c6.ChildrenTemplate=function(ez,eA){var eB,eC,eD,eE,eF;eB=c6.InlineTemplate(ez,eA);eC=eB[1];eD=eB[0];eE=eD.Els;return!J.Equals(eE,null)&&eE.length===1&&(T.get(eE,0)instanceof G&&(J.Equals(T.get(eE,0).nodeType,G.ELEMENT_NODE)&&(eF=T.get(eE,0),true)))?dQ.TreeNode(eD,eC):_0.Mk({$:6,$0:eD},eC);};c6.PrepareTemplateStrict=function(ez,eA,eB,eC,eD){var eE,eF;function eG(eL,eM){var eN,eO,eP,eQ,eR,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4,e5,e6,e7,e8,e9,e_,e$,fa,fb;function eS(fc){}while(true)switch(eL){case 0:if(eM!==null){eN=eM.nextSibling;if(J.Equals(eM.nodeType,G.TEXT_NODE))dT.convertTextNode(eM);else if(J.Equals(eM.nodeType,G.ELEMENT_NODE))eI(eM);eM=eN;}else return null;break;case 1:eT=cd.string(eM.nodeName,{$:1,$0:3},null).toLowerCase();eU=(eO=eT.indexOf("."),eO===-1?[ez,eT]:[cd.string(eT,null,{$:1,$0:eO-1}),cd.string(eT,{$:1,$0:eO+1},null)]);eV=eU[1];eW=eU[0];if(eW!==""&&!c6.LoadedTemplates().ContainsKey(eW))return dT.failNotLoaded(eV);else{if(eW===""&&eD!=null)eD.$0(eV);eX=c6.LoadedTemplates().get_Item(eW);if(!eX.ContainsKey(eV))return dT.failNotLoaded(eV);else{eY=eX.get_Item(eV);eZ=eY.cloneNode(true);e0=new b5.New$3();e1=new b4.New$5();e2=eM.attributes;for(e3=0,e4=e2.length-1;e3<=e4;e3++){e5=e2.item(e3).name.toLowerCase();e1.set_Item(e5,(e6=e2.item(e3).nodeValue,e6===""?e5:e6.toLowerCase()));!e0.Add(e5)?eu.warn("Hole mapped twice",e5):void 0;}for(e7=0,e8=eM.childNodes.length-1;e7<=e8;e7++){e9=eM.childNodes[e7];J.Equals(e9.nodeType,G.ELEMENT_NODE)?!e0.Add(e9.nodeName.toLowerCase())?eu.warn("Hole filled twice",eV):void 0:void 0;}e_=eM.childNodes.length===1&&J.Equals(eM.firstChild.nodeType,G.TEXT_NODE);if(e_){eQ=dT.fillTextHole(eZ,eM.firstChild.textContent,eV);((function(fc){return function(fd){if(fd!=null)fc(fd.$0);};}((eR=function(fc){return function(fd){return fc.Add(fd);};}(e0),function(fc){return eS(eR(fc));})))(eQ));}dT.removeHolesExcept(eZ,e0);if(!e_){for(e$=0,fa=eM.childNodes.length-1;e$<=fa;e$++){fb=eM.childNodes[e$];J.Equals(fb.nodeType,G.ELEMENT_NODE)?fb.hasAttributes()?dT.fillInstanceAttrs(eZ,fb):eH(eZ,fb):void 0;}}dT.mapHoles(eZ,e1);dT.fill(eZ,eM.parentNode,eM);eM.parentNode.removeChild(eM);return;}}break;}}function eH(eL,eM){var eN,eP,eQ;function eO(eR,eS){var eT,eU,eV;if(eP==="title"&&eM.hasChildNodes()){eT=et.parseHTML(eM.textContent);eM.removeChild(eM.firstChild);for(eU=0,eV=eT.length-1;eU<=eV;eU++)eM.appendChild(T.get(eT,eU));}else null;eI(eM);return dT.fill(eM,eR,eS);}eP=eM.nodeName.toLowerCase();dm.IterSelector(eL,"[ws-attr-holes]",function(eR){var eS,eT,eU,eV,eW;eS=bj.SplitChars(eR.getAttribute("ws-attr-holes"),[" "],1);for(eT=0,eU=eS.length-1;eT<=eU;eT++){eV=T.get(eS,eT);eR.setAttribute(eV,(eW=new a.RegExp("\\${"+eP+"}","ig"),eR.getAttribute(eV).replace(eW,eM.textContent)));}});eQ=eL.querySelector("[ws-hole="+eP+"]");if(J.Equals(eQ,null)){eN=eL.querySelector("[ws-replace="+eP+"]");return J.Equals(eN,null)?null:(eO(eN.parentNode,eN),void eN.parentNode.removeChild(eN));}else{while(eQ.hasChildNodes())eQ.removeChild(eQ.lastChild);eQ.removeAttribute("ws-hole");return eO(eQ,null);}}function eI(eL){if(bj.StartsWith(eL.nodeName.toLowerCase(),"ws-"))eK(eL);else{dT.convertAttrs(eL);eJ(eL.firstChild);}}function eJ(eL){return eG(0,eL);}function eK(eL){return eG(1,eL);}eE=eC==null?c6.FakeRoot(eB):eC.$0;eF=(eA==null?"":eA.$0).toLowerCase();c6.LoadedTemplateFile(ez).set_Item(eF,eE);T.length(eB)>0?(function(eL){var eM,eN,eO,eP;while(true){eM=eL.querySelector("[ws-template]");if(J.Equals(eM,null)){eN=eL.querySelector("[ws-children-template]");if(J.Equals(eN,null))return null;else{eO=eN.getAttribute("ws-children-template");eN.removeAttribute("ws-children-template");c6.PrepareTemplateStrict(ez,{$:1,$0:eO},dm.ChildrenArray(eN),null,null);eL=eL;}}else{eP=eM.getAttribute("ws-template");(c6.PrepareSingleTemplate(ez,{$:1,$0:eP},eM))(null);eL=eL;}}}(eE),eJ(T.get(eB,0))):void 0;};c6.FakeRootSingle=function(ez){var eA,eB,eC;ez.removeAttribute("ws-template");eA=ez.getAttribute("ws-replace");eA===null?void 0:(ez.removeAttribute("ws-replace"),eB=ez.parentNode,J.Equals(eB,null)?void 0:(eC=self.document.createElement(ez.tagName),eC.setAttribute("ws-replace",eA),eB.replaceChild(eC,ez)));return c6.FakeRoot([ez]);};c6.FakeRoot=function(ez){var eA,eB,eC;eA=self.document.createElement("div");for(eB=0,eC=ez.length-1;eB<=eC;eB++)eA.appendChild(T.get(ez,eB));return eA;};c6.InlineTemplate=function(ez,eA){var eB,eC,eD,eE,eH,eI,eJ,eK,eL,eM,eN;function eF(eO,eP){var eQ,eR,eS;eQ=dl.Insert(eO,eP);eI.push(dl.Updates(eQ));eJ.push([eO,eQ]);eR=er.GetOptional(eQ.OnAfterRender);return eR==null?null:(eS=eR.$0,void eK.push(function(){eS(eO);}));}function eG(eO){var eP,eQ;eP=(eQ=null,[eL.TryGetValue(eO,{get:function(){return eQ;},set:function(eR){eQ=eR;}}),eQ]);return eP[0]?eP[1].$==0?{$:1,$0:eP[1].$1}:eP[1].$==1?{$:1,$0:_0.TextNode(eP[1].$1)}:eP[1].$==2?{$:1,$0:_0.TextView(eP[1].$1)}:eP[1].$==8?{$:1,$0:_0.TextView(eP[1].$1.get_View())}:eP[1].$==9?{$:1,$0:_0.TextView(p.Map(a.String,eP[1].$1.get_View()))}:eP[1].$==10?{$:1,$0:_0.TextView(p.Map(function(eR){return eR.get_Input();},eP[1].$1.get_View()))}:eP[1].$==11?{$:1,$0:_0.TextView(p.Map(a.String,eP[1].$1.get_View()))}:eP[1].$==12?{$:1,$0:_0.TextView(p.Map(function(eR){return eR.get_Input();},eP[1].$1.get_View()))}:eP[1].$==13?{$:1,$0:_0.TextView(p.Map(a.String,eP[1].$1.get_View()))}:(eu.warn("Content hole filled with attribute data",eO),null):null;}eH=[];eI=[];eJ=[];eK=[];eL=new b4.New$5();eM=cI.Get(eA);try{while(eM.MoveNext()){eN=eM.Current();eL.set_Item(eN.$0,eN);}}finally{if(typeof eM=="object"&&"Dispose"in eM)eM.Dispose();}eB=dm.ChildrenArray(ez);dm.IterSelector(ez,"[ws-hole]",function(eO){var eP,eQ,eR;eR=eO.getAttribute("ws-hole");eO.removeAttribute("ws-hole");while(eO.hasChildNodes())eO.removeChild(eO.lastChild);eP=eG(eR);eP!=null&&eP.$==1?(eQ=eP.$0,dk.LinkElement(eO,eQ.docNode),eH.push(du.New(dl.Empty(eO),eQ.docNode,null,eO,b9.Int(),null)),eI.push(eQ.updates)):void 0;});dm.IterSelector(ez,"[ws-replace]",function(eO){var eP,eQ,eR,eS,eT,eU;eP=eG(eO.getAttribute("ws-replace"));eP!=null&&eP.$==1?(eQ=eP.$0,eR=eO.parentNode,eS=self.document.createTextNode(""),eR.replaceChild(eS,eO),eT=dk.InsertBeforeDelim(eS,eQ.docNode),eU=T.tryFindIndex(function(eV){return eO===eV;},eB),eU==null?void 0:T.set(eB,eU.$0,eQ.docNode),eH.push(du.New(dl.Empty(eR),eQ.docNode,{$:1,$0:[eT,eS]},eR,b9.Int(),null)),eI.push(eQ.updates)):void 0;});dm.IterSelector(ez,"[ws-attr]",function(eO){var eP,eQ,eR;eP=eO.getAttribute("ws-attr");eO.removeAttribute("ws-attr");eQ=(eR=null,[eL.TryGetValue(eP,{get:function(){return eR;},set:function(eS){eR=eS;}}),eR]);eQ[0]?eQ[1].$==3?eF(eO,eQ[1].$1):eu.warn("Attribute hole filled with non-attribute data",eP):void 0;});dm.IterSelector(ez,"[ws-on]",function(eO){eF(eO,cS.Concat(T.choose(function(eP){var eQ,eR,eS;eQ=bj.SplitChars(eP,[":"],1);eR=(eS=null,[eL.TryGetValue(T.get(eQ,1),{get:function(){return eS;},set:function(eT){eS=eT;}}),eS]);return eR[0]?eR[1].$==4?{$:1,$0:cW.Handler(T.get(eQ,0),eR[1].$1)}:eR[1].$==5?{$:1,$0:cS.Handler(T.get(eQ,0),eR[1].$2)}:(eu.warn("Event hole on"+T.get(eQ,0)+" filled with non-event data",T.get(eQ,1)),null):null;},bj.SplitChars(eO.getAttribute("ws-on"),[" "],1))));eO.removeAttribute("ws-on");});dm.IterSelector(ez,"[ws-onafterrender]",function(eO){var eP,eQ,eR;eP=eO.getAttribute("ws-onafterrender");eQ=(eR=null,[eL.TryGetValue(eP,{get:function(){return eR;},set:function(eS){eR=eS;}}),eR]);eQ[0]?eQ[1].$==6?(eO.removeAttribute("ws-onafterrender"),eF(eO,cW.OnAfterRender(eQ[1].$1))):eQ[1].$==7?(eO.removeAttribute("ws-onafterrender"),eF(eO,cW.OnAfterRender(eQ[1].$1))):eu.warn("onafterrender hole filled with non-onafterrender data",eP):void 0;});dm.IterSelector(ez,"[ws-var]",function(eO){var eP,eQ,eR;eP=eO.getAttribute("ws-var");eO.removeAttribute("ws-var");eQ=(eR=null,[eL.TryGetValue(eP,{get:function(){return eR;},set:function(eS){eR=eS;}}),eR]);eQ[0]?eQ[1].$==8?eF(eO,cW.Value(eQ[1].$1)):eQ[1].$==9?eF(eO,cW.Checked(eQ[1].$1)):eQ[1].$==10?eF(eO,cW.IntValue(eQ[1].$1)):eQ[1].$==11?eF(eO,cW.IntValueUnchecked(eQ[1].$1)):eQ[1].$==12?eF(eO,cW.FloatValue(eQ[1].$1)):eQ[1].$==13?eF(eO,cW.FloatValueUnchecked(eQ[1].$1)):eu.warn("Var hole filled with non-Var data",eP):void 0;});dm.IterSelector(ez,"[ws-attr-holes]",function(eO){var eP,eQ,eR,eS;eP=new a.RegExp(c6.TextHoleRE(),"g");eQ=bj.SplitChars(eO.getAttribute("ws-attr-holes"),[" "],1);eO.removeAttribute("ws-attr-holes");for(eR=0,eS=eQ.length-1;eR<=eS;eR++)(function(){var eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4,e5;e2=T.get(eQ,eR);e3=eO.getAttribute(e2);eT=null;eU=0;e4=[];while(eT=eP.exec(e3),eT!==null){e5=cd.string(e3,{$:1,$0:eU},{$:1,$0:eP.lastIndex-T.get(eT,0).length-1});eU=eP.lastIndex;e4.push([e5,T.get(eT,1)]);}eW=cd.string(e3,{$:1,$0:eU},null);eP.lastIndex=0;eX=T.foldBack(function(e6,e7){return(function(e8){var e9,e_;e9=e8[0];e_=e8[1];return function(e$){var fa,fb,fc,fd,fe;fa=e$[0];fb=e$[1];fc=(fd=(fe=null,[eL.TryGetValue(e_,{get:function(){return fe;},set:function(ff){fe=ff;}}),fe]),fd[0]?fd[1].$==1?{$:0,$0:fd[1].$1}:fd[1].$==2?{$:1,$0:fd[1].$1}:fd[1].$==8?{$:1,$0:fd[1].$1.get_View()}:fd[1].$==9?{$:1,$0:p.Map(a.String,fd[1].$1.get_View())}:fd[1].$==10?{$:1,$0:p.Map(function(ff){return ff.get_Input();},fd[1].$1.get_View())}:fd[1].$==11?{$:1,$0:p.Map(a.String,fd[1].$1.get_View())}:fd[1].$==12?{$:1,$0:p.Map(function(ff){return ff.get_Input();},fd[1].$1.get_View())}:fd[1].$==13?{$:1,$0:p.Map(a.String,fd[1].$1.get_View())}:(eu.warn("Attribute value hole filled with non-text data",e_),{$:0,$0:""}):{$:0,$0:""});return fc.$==1?[e9,new cL({$:1,$0:fa===""?fc.$0:p.Map(function(ff){return ff+fa;},fc.$0),$1:fb})]:[e9+fc.$0+fa,fb];};}(e6))(e7);},e4,[eW,cL.Empty]);return eF(eO,eX[1].$==1?eX[1].$1.$==1?eX[1].$1.$1.$==1?eX[1].$1.$1.$1.$==0?(eY=eX[0],cW.Dynamic(e2,p.Map3(function(e6,e7,e8){return eY+e6+e7+e8;},eX[1].$0,eX[1].$1.$0,eX[1].$1.$1.$0))):(eZ=eX[0],cW.Dynamic(e2,p.Map(function(e6){return eZ+bj.concat("",e6);},p.Sequence(eX[1])))):(e0=eX[0],cW.Dynamic(e2,p.Map2(function(e6,e7){return e0+e6+e7;},eX[1].$0,eX[1].$1.$0))):eX[0]===""?cW.Dynamic(e2,eX[1].$0):(e1=eX[0],cW.Dynamic(e2,p.Map(function(e6){return e1+e6;},eX[1].$0))):cS.Create(e2,eX[0]));}());});return[er.DeleteEmptyFields({Els:eB,Dirty:true,Holes:eH,Attrs:eJ,Render:(eC=eK.length==0?null:{$:1,$0:function(eO){T.iter(function(eP){eP(eO);},eK);}},eC?eC.$0:void 0),El:(eD=!J.Equals(eB,null)&&eB.length===1&&(T.get(eB,0)instanceof G&&(T.get(eB,0)instanceof a.Element&&(eE=T.get(eB,0),true)))?{$:1,$0:eE}:null,eD?eD.$0:void 0)},["Render","El"]),cT.TreeReduce(p.Const(),p.Map2Unit,eI)];};c6.PrepareSingleTemplate=function(ez,eA,eB){var eC,eD,eE;eC=c6.FakeRootSingle(eB);eD=[eB];eE={$:1,$0:eC};return function(eF){c6.PrepareTemplateStrict(ez,eA,eD,eE,eF);};};c6.TextHoleRE=function(){dP.$cctor();return dP.TextHoleRE;};c7.TryParse=function(ez){var eA;eA=ev.parse(ez);return a.isNaN(eA)?null:{$:1,$0:eA};};b2.TryParse=function(ez,eA,eB,eC){var eD,eE;eD=+ez;eE=eD===eD-eD%1&&eD>=eA&&eD<=eB;eE?eC.set(eD):void 0;return eE;};b2.TryParseBool=function(ez,eA){var eB;eB=ez.toLowerCase();return eB==="true"?(eA.set(true),true):eB==="false"&&(eA.set(false),true);};c8.$cctor=function(){c8.$cctor=a.ignore;c8.EndPoint="?";c8.AjaxProvider=new dx.New();};c9.newPojoOpt=function(ez){function eA(eB,eC){return eC==null?null:{$:1,$0:[eB,eC.$0]};}return c9.newPojo(bc.choose(function(eB){return eA(eB[0],eB[1]);},ez));};c9.newPojo=function(ez){var eA,eB;function eC(eE,eF){return function(eG){return c9.addProp(eE,eF,eG);};}function eD(eE){}eA={};bc.iter((eB=function(eE){return(function(eF){return eC(eF[0],eF[1]);}(eE))(eA);},function(eE){return eD(eB(eE));}),ez);return eA;};c9.addProp=function(ez,eA,eB){eB[ez]=eA;return eB;};cg.op_EqualsEqualsGreater=function(ez,eA){return[ez,eA==null?null:{$:1,$0:eA.$0}];};cg.op_MinusMinusGreater=function(ez,eA){return[ez,{$:1,$0:eA}];};c$=f.TimeoutException=er.Class({},c_,c$);c$.New=er.Ctor(function(){c$.New$1.call(this,"The operation has timed out.");},c$);c$.New$1=er.Ctor(function(ez){this.message=ez;cQ.setPrototypeOf(this,c$.prototype);},c$);da.AsAsync=function(ez){return cU.FromContinuations(function(eA,eB){ez.then(eA,function(eC){return eB(da.unwrapExn(eC));});});};da.unwrapExn=function(ez){return ez instanceof c_?ez:new d2.New(ez);};dc.JSUnion=function(ez,eA){var eB;function eC(eG){var eH;function eI(eJ){return eJ!=null&&eJ.$==1&&J.Equals(eG,eJ.$0);}eH=bc.tryFindIndex(function(eJ){return eI(eJ[0]);},eA);return eH!=null&&eH.$==1?eH.$0:eG.$;}function eD(eG,eH){return T.init(T.length((T.get(eA,eG))[2]),function(eI){return eH["$"+a.String(eI)];});}function eE(eG,eH){var eI,eJ,eK;eI=ez==null?{}:new ez();eJ=T.get(eA,eG);return(eK=eJ[0],eK!=null&&eK.$==1)?eJ[0].$0:(eI.$=eG,bc.iteri(function(eL,eM){eI["$"+a.String(eL)]=eM;},eH),eI);}function eF(eG,eH){var eI;function eJ(eK,eL){return[eG,eK,eL,eI];}eI=eH[2];return bc.map(function(eK){return eJ(eK[0],eK[1]);},eH[1]);}eB=bc.collect(function(eG){return eF(eG[0],eG[1]);},bc.indexed(eA));return dC.New$1(function(eG){function eH(eI,eJ,eK,eL){var eM,eN,eO;function eP(eQ,eR,eS){var eT;function eU(eV,eW){return eP(eT,eV,new cL({$:1,$0:eW,$1:eS}));}return eQ.$==1?(eT=eQ.$1,bc.collect(function(eV){return eU(eV[0],eV[1]);},eQ.$0.Parse(eR))):[[eR,eE(eI,T.ofList(bB.rev(eS)))]];}return dc.isCorrectMethod(eJ,eG.Method)?(eM=dD.startsWith(bB.ofArray(eK),eG.Segments),eM==null?[]:(eN=eM.$0,(eO=bB.ofArray(eL),eO.$==0?[[de.New(eN,eG.QueryArgs,eG.FormData,eG.Method,eG.Body),eE(eI,[])]]:eP(eO,de.New(eN,eG.QueryArgs,eG.FormData,eG.Method,eG.Body),cL.Empty)))):[];}return bc.collect(function(eI){return eH(eI[0],eI[1],eI[2],eI[3]);},eB);},function(eG){var eH,eI,eJ,eK,eL,eM;function eN(eO,eP){return eP.Write(eO);}eH=eC(eG);eI=T.get(eA,eH);eJ=eI[2];eK=T.get(eI[1],0);eL=[de.Segment(bB.ofArray(eK[1]),eK[0])];return!J.Equals(eJ,null)&&eJ.length===0?{$:1,$0:eL}:(eM=(((er.Curried3(T.map2))(eN))(eD(eH,eG)))(eJ),T.forall(function(eO){return eO!=null;},eM)?{$:1,$0:bc.append(eL,bc.collect(function(eO){return eO.$0;},eM))}:null);});};dc.isCorrectMethod=function(ez,eA){return eA!=null&&eA.$==1?ez!=null&&ez.$==1?J.Equals(eA.$0,ez.$0):true:!(ez!=null&&ez.$==1);};dc.rString=function(){d3.$cctor();return d3.rString;};dc.rWildcard=function(){d3.$cctor();return d3.rWildcard;};dd.Parse=function(ez,eA){function eB(eC,eD){return eC.Segments.$==0?{$:1,$0:eD}:null;}return bc.tryPick(function(eC){return eB(eC[0],eC[1]);},ez.Parse(eA));};dd.HashLink=function(ez,eA){return"#"+dd.Link(ez,eA);};dd.Link=function(ez,eA){var eB;eB=dd.Write(ez,eA);return eB==null?"":eB.$0.ToLink();};dd.Write=function(ez,eA){var eB;eB=ez.Write(eA);return eB==null?null:{$:1,$0:de.Combine(eB.$0)};};de=db.Route=er.Class({ToLink:function(){return el.WriteLink(this.Segments,this.QueryArgs);}},null,de);de.FromHash=function(ez,eA){var eB,eC;eB=ez.indexOf("#");return eB===-1?de.get_Empty():(eC=ez.substring(eB+1),eA!=null&&eA.$0?eC===""||eC==="/"?de.get_Empty():bj.StartsWith(eC,"/")?de.FromUrl(eC.substring(1),{$:1,$0:true}):de.Segment$2(eC):de.FromUrl(ez.substring(eB),{$:1,$0:false}));};de.Segment=function(ez,eA){var eB;eB=de.get_Empty();return de.New(ez,eB.QueryArgs,eB.FormData,eA,eB.Body);};de.get_Empty=function(){return de.New(cL.Empty,new cH.New([]),new cH.New([]),null,r.CreateFromValue(null));};de.FromUrl=function(ez,eA){var eB,eC,eD;eB=(eC=ez.indexOf("?"),eC===-1?[ez,new cH.New([])]:[bj.Substring(ez,0,eC),de.ParseQuery(ez.substring(eC+1))]);eD=de.get_Empty();return de.New(bB.ofArray(bj.SplitChars(eB[0],["/"],eA!=null&&eA.$0?0:1)),eB[1],eD.FormData,eD.Method,eD.Body);};de.Segment$2=function(ez){var eA;eA=de.get_Empty();return de.New(bB.ofArray([ez]),eA.QueryArgs,eA.FormData,eA.Method,eA.Body);};de.ParseQuery=function(ez){return d4.OfArray(T.ofSeq(T.choose(function(eA){var eB,eC;eB=bj.SplitChars(eA,["="],0);return!J.Equals(eB,null)&&eB.length===2?(eC=T.get(eB,1),{$:1,$0:[T.get(eB,0),eC]}):((function(eD){return function(eE){return eD("wrong format for query argument: "+bz.toSafe(eE));};}(function(eD){eu.log(eD);}))(eA),null);},bj.SplitChars(ez,["&"],0))));};de.Combine=function(ez){var eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ;eG=T.ofSeq(ez);eH=T.length(eG);if(eH===0)return de.get_Empty();else if(eH===1)return T.get(eG,0);else{eA=null;eB=null;eI=[];eC=new cH.New([]);eD=new cH.New([]);eE=0;eJ=T.length(eG);while(eE<eJ)(function(){var eK,eL,eM;eK=T.get(eG,eE);eL=eK.Method;eL!=null&&eL.$==1?eA=eL:void 0;eM=eK.Body.f();eM===null?void 0:eB=eM;eC=d4.FoldBack(function(eN,eO,eP){return eP.Add(eN,eO);},eC,eK.QueryArgs);eD=d4.FoldBack(function(eN,eO,eP){return eP.Add(eN,eO);},eD,eK.FormData);bB.iter(function(eN){eI.push(eN);},eK.Segments);eE=eE+1;}());return de.New(bB.ofSeq(eI),eC,eD,eA,r.CreateFromValue(eB));}};de.New=function(ez,eA,eB,eC,eD){return new de({Segments:ez,QueryArgs:eA,FormData:eB,Method:eC,Body:eD});};df=cD.CustomXhrProvider=er.Class({Async:function(ez,eA,eB,eC,eD){var eE;cU.Start((eE=null,cU.Delay(function(){return cU.Bind((cD.getTokenOA())(),function(eF){eF==null?void 0:eA.Authorization=(function(eG){return function(eH){return eG("Bearer "+bz.toSafe(eH));};}(a.id))(eF.$0);cD.originalProvider().Async(ez,eA,eB,eC,eD);return cU.Zero();});})),null);}},g,df);df.New=er.Ctor(function(){g.New.call(this);},df);dg=M.ConceptoPago=er.Class({toString:function(){return this.$==2?this.$0:(function(ez){return function(eA){return ez(X.p$9(eA));};}(a.id))(this);}},null,dg);dh.fromSeq=function(ez){var eA;eA=T.ofSeq(bc.delay(function(){return bc.collect(function(eB){return[dE.New(eB[0],eB[1])];},bc.distinctBy(function(eB){return eB[0];},ez));}));T.sortInPlace(eA);return cK.Build(eA,0,eA.length-1);};di.New=function(ez,eA,eB,eC,eD){return{Node:ez,Left:eA,Right:eB,Height:eC,Count:eD};};dj=M.IdAddress=er.Class({},null,dj);dk.CreateEmbedNode=function(){return{Current:null,Dirty:false};};dk.UpdateEmbedNode=function(ez,eA){ez.Current=eA;ez.Dirty=true;};dk.CreateElemNode=function(ez,eA,eB){var eC;dk.LinkElement(ez,eB);eC=dl.Insert(ez,eA);return du.New(eC,eB,null,ez,b9.Int(),er.GetOptional(eC.OnAfterRender));};dk.LinkElement=function(ez,eA){dk.InsertDoc(ez,eA,null);};dk.CreateRunState=function(ez,eA){return ea.New(eb.get_Empty(),dk.CreateElemNode(ez,dl.EmptyAttr(),eA));};dk.PerformAnimatedUpdate=function(ez,eA,eB){var eC;return dU.get_UseAnimations()?(eC=null,cU.Delay(function(){var eD,eE,eF;eD=eb.FindAll(eB);eE=dk.ComputeChangeAnim(eA,eD);eF=dk.ComputeEnterAnim(eA,eD);return cU.Bind(dU.Play(dU.Append(eE,dk.ComputeExitAnim(eA,eD))),function(){return cU.Bind(dk.SyncElemNodesNextFrame(ez,eA),function(){return cU.Bind(dU.Play(eF),function(){eA.PreviousNodes=eD;return cU.Return(null);});});});})):dk.SyncElemNodesNextFrame(ez,eA);};dk.PerformSyncUpdate=function(ez,eA,eB){var eC;eC=eb.FindAll(eB);dk.SyncElemNode(ez,eA.Top);eA.PreviousNodes=eC;};dk.CreateTextNode=function(){return{Text:dm.CreateText(""),Dirty:false,Value:""};};dk.UpdateTextNode=function(ez,eA){ez.Value=eA;ez.Dirty=true;};dk.InsertDoc=function(ez,eA,eB){var eC;return eA!=null&&eA.$==1?dk.InsertNode(ez,eA.$0.El,eB):eA!=null&&eA.$==2?(eC=eA.$0,(eC.Dirty=false,dk.InsertDoc(ez,eC.Current,eB))):eA==null?eB:eA!=null&&eA.$==4?dk.InsertNode(ez,eA.$0.Text,eB):eA!=null&&eA.$==5?dk.InsertNode(ez,eA.$0,eB):eA!=null&&eA.$==6?T.foldBack(function(eD,eE){return eD==null||eD.constructor===cQ?dk.InsertDoc(ez,eD,eE):dk.InsertNode(ez,eD,eE);},eA.$0.Els,eB):dk.InsertDoc(ez,eA.$0,dk.InsertDoc(ez,eA.$1,eB));};dk.InsertBeforeDelim=function(ez,eA){var eB,eC;eB=ez.parentNode;eC=self.document.createTextNode("");eB.insertBefore(eC,ez);dk.LinkPrevElement(ez,eA);return eC;};dk.SyncElemNodesNextFrame=function(ez,eA){function eB(eC){a.requestAnimationFrame(function(){dk.SyncElemNode(ez,eA.Top);eC();});}return dV.BatchUpdatesEnabled()?cU.FromContinuations(function(eC,eD,eE){return eB.apply(null,[eC,eD,eE]);}):(dk.SyncElemNode(ez,eA.Top),cU.Return(null));};dk.ComputeExitAnim=function(ez,eA){return dU.Concat(T.map(function(eB){return dl.GetExitAnim(eB.Attr);},eb.ToArray(eb.Except(eA,eb.Filter(function(eB){return dl.HasExitAnim(eB.Attr);},ez.PreviousNodes)))));};dk.ComputeEnterAnim=function(ez,eA){return dU.Concat(T.map(function(eB){return dl.GetEnterAnim(eB.Attr);},eb.ToArray(eb.Except(ez.PreviousNodes,eb.Filter(function(eB){return dl.HasEnterAnim(eB.Attr);},eA)))));};dk.ComputeChangeAnim=function(ez,eA){var eB;function eC(eD){return dl.HasChangeAnim(eD.Attr);}eB=function(eD){return eb.Filter(eC,eD);};return dU.Concat(T.map(function(eD){return dl.GetChangeAnim(eD.Attr);},eb.ToArray(eb.Intersect(eB(ez.PreviousNodes),eB(eA)))));};dk.SyncElemNode=function(ez,eA){!ez?dk.SyncElement(eA):void 0;dk.Sync(eA.Children);dk.AfterRender(eA);};dk.InsertNode=function(ez,eA,eB){dm.InsertAt(ez,eB,eA);return eA;};dk.LinkPrevElement=function(ez,eA){dk.InsertDoc(ez.parentNode,eA,ez);};dk.SyncElement=function(ez){function eA(eB){function eC(eD){var eE,eF;return eD!=null&&eD.$==0?eC(eD.$0)||eC(eD.$1):eD!=null&&eD.$==2?(eE=eD.$0,eE.Dirty||eC(eE.Current)):eD!=null&&eD.$==6&&(eF=eD.$0,eF.Dirty||T.exists(eA,eF.Holes));}return eC(eB.Children);}dl.Sync(ez.El,ez.Attr);eA(ez)?dk.DoSyncElement(ez):void 0;};dk.Sync=function(ez){var eA,eB;if(ez!=null&&ez.$==1)dk.SyncElemNode(false,ez.$0);else if(ez!=null&&ez.$==2)dk.Sync(ez.$0.Current);else if(ez==null);else if(ez!=null&&ez.$==5);else if(ez!=null&&ez.$==4){eA=ez.$0;eA.Dirty?(eA.Text.nodeValue=eA.Value,eA.Dirty=false):void 0;}else if(ez!=null&&ez.$==6){eB=ez.$0;T.iter(function(eC){dk.SyncElemNode(false,eC);},eB.Holes);T.iter(function(eC){dl.Sync(eC[0],eC[1]);},eB.Attrs);dk.AfterRender(eB);}else{dk.Sync(ez.$0);dk.Sync(ez.$1);}};dk.AfterRender=function(ez){var eA;eA=er.GetOptional(ez.Render);eA!=null&&eA.$==1?(eA.$0(ez.El),er.SetOptional(ez,"Render",null)):void 0;};dk.DoSyncElement=function(ez){var eA,eB,eC;function eD(eE,eF){var eG,eH;return eE!=null&&eE.$==1?eE.$0.El:eE!=null&&eE.$==2?(eG=eE.$0,eG.Dirty?(eG.Dirty=false,dk.InsertDoc(eA,eG.Current,eF)):eD(eG.Current,eF)):eE==null?eF:eE!=null&&eE.$==4?eE.$0.Text:eE!=null&&eE.$==5?eE.$0:eE!=null&&eE.$==6?(eH=eE.$0,(eH.Dirty?eH.Dirty=false:void 0,T.foldBack(function(eI,eJ){return eI==null||eI.constructor===cQ?eD(eI,eJ):eI;},eH.Els,eF))):eD(eE.$0,eD(eE.$1,eF));}eA=ez.El;eo.Iter((eB=ez.El,function(eE){dm.RemoveNode(eB,eE);}),eo.Except(eo.DocChildren(ez),eo.Children(ez.El,er.GetOptional(ez.Delimiters))));eD(ez.Children,(eC=er.GetOptional(ez.Delimiters),eC!=null&&eC.$==1?eC.$0[1]:null));};dl.Static=function(ez){return new cS({$:3,$0:ez});};dl.Dynamic=function(ez,eA){return new cS({$:1,$0:new dI.New(ez,eA)});};dl.Insert=function(ez,eA){var eB,eC,eD;function eE(eF){if(!(eF===null))if(eF!=null&&eF.$==1)eB.push(eF.$0);else if(eF!=null&&eF.$==2){eE(eF.$0);eE(eF.$1);}else if(eF!=null&&eF.$==3)eF.$0(ez);else if(eF!=null&&eF.$==4)eC.push(eF.$0);}eB=[];eC=[];eE(eA);eD=eB.slice(0);return dS.New(ez,dl.Flags(eA),eD,eC.length===0?null:{$:1,$0:function(eF){bc.iter(function(eG){eG(eF);},eC);}});};dl.EmptyAttr=function(){d7.$cctor();return d7.EmptyAttr;};dl.Flags=function(ez){return ez!==null&&ez.hasOwnProperty("flags")?ez.flags:0;};dl.AppendTree=function(ez,eA){var eB;return ez===null?eA:eA===null?ez:(eB=new cS({$:2,$0:ez,$1:eA}),(dl.SetFlags(eB,dl.Flags(ez)|dl.Flags(eA)),eB));};dl.Updates=function(ez){return cT.MapTreeReduce(function(eA){return eA.NChanged();},p.Const(),p.Map2Unit,ez.DynNodes);};dl.Empty=function(ez){return dS.New(ez,0,[],null);};dl.SetFlags=function(ez,eA){ez.flags=eA;};dl.HasExitAnim=function(ez){var eA;eA=2;return(ez.DynFlags&eA)===eA;};dl.GetExitAnim=function(ez){return dl.GetAnim(ez,function(eA,eB){return eA.NGetExitAnim(eB);});};dl.HasEnterAnim=function(ez){var eA;eA=1;return(ez.DynFlags&eA)===eA;};dl.GetEnterAnim=function(ez){return dl.GetAnim(ez,function(eA,eB){return eA.NGetEnterAnim(eB);});};dl.HasChangeAnim=function(ez){var eA;eA=4;return(ez.DynFlags&eA)===eA;};dl.GetChangeAnim=function(ez){return dl.GetAnim(ez,function(eA,eB){return eA.NGetChangeAnim(eB);});};dl.GetAnim=function(ez,eA){return dU.Concat(T.map(function(eB){return eA(eB,ez.DynElem);},ez.DynNodes));};dl.Sync=function(ez,eA){T.iter(function(eB){eB.NSync(ez);},eA.DynNodes);};dm.SetAttr=function(ez,eA,eB){ez.setAttribute(eA,eB);};dm.RemoveAttr=function(ez,eA){ez.removeAttribute(eA);};dm.CreateText=function(ez){return dm.Doc().createTextNode(ez);};dm.SetStyle=function(ez,eA,eB){dm.SetProperty(ez.style,eA,eB);};dm.ChildrenArray=function(ez){var eA,eB,eC;eA=[];for(eB=0,eC=ez.childNodes.length-1;eB<=eC;eB++)eA.push(ez.childNodes[eB]);return eA;};dm.CreateElement=function(ez){return dm.Doc().createElement(ez);};dm.Doc=function(){d6.$cctor();return d6.Doc;};dm.SetProperty=function(ez,eA,eB){return ez.setProperty(eA,eB);};dm.IterSelector=function(ez,eA,eB){var eC,eD,eE;eC=ez.querySelectorAll(eA);for(eD=0,eE=eC.length-1;eD<=eE;eD++)eB(eC[eD]);};dm.InsertAt=function(ez,eA,eB){var eC;if(!(eB.parentNode===ez&&eA===(eC=eB.nextSibling,J.Equals(eC,null)?null:eC)))ez.insertBefore(eB,eA);};dm.RemoveClass=function(ez,eA){var eB;dm.setClass(ez,(eB=dm.clsRE(eA),dm.getClass(ez).replace(eB,function(eC,eD,eE){return eD===""||eE===""?"":" ";})));};dm.AddClass=function(ez,eA){var eB;eB=dm.getClass(ez);eB===""?dm.setClass(ez,eA):!dm.clsRE(eA).test(eB)?dm.setClass(ez,eB+" "+eA):void 0;};dm.setClass=function(ez,eA){if(ez instanceof a.SVGElement)ez.setAttribute("class",eA);else ez.className=eA;};dm.getClass=function(ez){return ez instanceof a.SVGElement?ez.getAttribute("class"):ez.className;};dm.clsRE=function(ez){return new a.RegExp("(\\s+|^)"+ez+"(?:\\s+"+ez+")*(\\s+|$)","g");};dm.RemoveNode=function(ez,eA){if(eA.parentNode===ez)ez.removeChild(eA);};dn.New=function(ez,eA){return{k:ez,ct:eA};};_do.$cctor=function(){_do.$cctor=a.ignore;_do.noneCT=dp.New(false,[]);_do.scheduler=new dG.New();_do.defCTS=[new dH.New()];_do.Zero=cU.Return();_do.GetCT=function(ez){ez.k({$:0,$0:ez.ct});};};dp.New=function(ez,eA){return{c:ez,r:eA};};dq=cV.ArrayStorage=er.Class({SSet:function(ez){return T.ofSeq(ez);},SSetAt:function(ez,eA,eB){T.set(eB,ez,eA);return eB;},SAppend:function(ez,eA){eA.push(ez);return eA;},SInit:function(){return this.init;}},g,dq);dq.New=er.Ctor(function(ez){g.New.call(this);this.init=ez;},dq);dr.freshId=function(){dr.set_counter(dr.counter()+1);return"varuid"+a.String(dr.counter());};dr.set_counter=function(ez){_6.$cctor();_6.counter=ez;};dr.counter=function(){_6.$cctor();return _6.counter;};ds.extractNodes=function(ez){var eA,eB;function eC(eD,eE,eF,eG){var eH,eI,eJ,eK,eL,eM;eH=ds.extractNodes(eF);eI=ds.extractNodes(eG);return(eH.$==0?(eK=eH.$0,!J.Equals(eK,null)&&eK.length===0)?(eJ=eI,true):eI.$==0?(eL=eI.$0,!J.Equals(eL,null)&&eL.length===0)?(eJ=eH,true):(eJ=[eH,eI],false):(eJ=[eH,eI],false):eI.$==0?(eM=eI.$0,!J.Equals(eM,null)&&eM.length===0)?(eJ=eH,true):(eJ=[eH,eI],false):(eJ=[eH,eI],false))?eJ:{$:1,$0:{$:0,$0:eD,$1:eE,$2:eJ[0],$3:eJ[1]}};}eA=ds.horizontalSplit(ez);return eA!=null&&eA.$==1?eC(false,eA.$0[2],eA.$0[0],eA.$0[1]):(eB=ds.verticalSplit(ez),eB!=null&&eB.$==1?eC(true,eB.$0[2],eB.$0[0],eB.$0[1]):{$:0,$0:ds.cleanSpaces(ez)});};ds.createLayoutDefinitions=function(ez,eA){var eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK;return eA.$==1?(eB=eA.$0.$0,(eC=eA.$0.$1,(eD=ds.createLayoutDefinitions(ez+"_1",eA.$0.$2),(eE=eD[0],(eF=eD[1],(eG=ds.createLayoutDefinitions(ez+"_2",eA.$0.$3),(eH=eG[0],(eI=eG[1],[ez,T.ofSeq(bc.delay(function(){return bc.append([bj.concat(" ",bB.ofArray([ez,eB?"vertical":"horizontal",a.String(eC),eE,eH]))],bc.delay(function(){return bc.append(eF,bc.delay(function(){return eI;}));}));}))])))))))):(eJ=eA.$0,!J.Equals(eJ,null)&&eJ.length===0)?["___",[]]:(eK=eA.$0,!J.Equals(eK,null)&&eK.length===1)?[T.get(eA.$0,0),[]]:[ez,[ez+" div \"\" "+bj.concat(" ",eA.$0)]];};ds.horizontalSplit=function(ez){var eA,eB,eC,eD,eE;function eF(eG,eH){var eI,eJ,eK,eL;eI=j.REGEX$1("^ *--+([ ^v0-9]*)-* *$","",eH);return eI!=null&&eI.$==1?{$:1,$0:[[eG,(eJ=(eK=bc.tryItem(1,eI.$0),eK==null?null:ds.extractMeasuresO(bj.Replace(bj.Replace(eK.$0,"^",""),"v","-"))),(eL=new dJ({$:1,$0:5,$1:50,$2:95}),eJ==null?eL:eJ.$0))],eH.indexOf("-")]}:null;}eA=(eB=bc.tryHead(bc.sortBy(function(eG){return eG[1];},bc.choose(function(eG){return eF(eG[0],eG[1]);},bc.indexed(ez)))),eB==null?null:{$:1,$0:eB.$0[0]});return eA==null?null:{$:1,$0:(eC=eA.$0,(eD=eC[0],(eE=eC[1],[cd.array(ez,null,{$:1,$0:eD-1}),cd.array(ez,{$:1,$0:eD+1},null),eE])))};};ds.verticalSplit=function(ez){var eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ;function eK(eN,eO){var eP,eQ,eR;return(eQ=j.REGEX$1("^ *\\|+ *$","",eO),eQ!=null&&eQ.$==1&&(eR=eQ.$0,!J.Equals(eR,null)&&eR.length===1))?{$:1,$0:[eN,eO.indexOf("|")]}:null;}function eL(eN){return J.Equals(null,eN);}function eM(eN){return J.Equals(null,eN);}eA=ds.transpose(ez);eB=(eC=(eD=bc.tryHead(bc.sortBy(function(eN){return eN[1];},bc.choose(function(eN){return eK(eN[0],eN[1]);},bc.indexed(eA)))),eD==null?null:{$:1,$0:eD.$0[0]}),eC==null?null:{$:1,$0:(eE=eC.$0,[ds.transpose(cd.array(eA,null,{$:1,$0:eE-1})),ds.transpose(cd.array(eA,{$:1,$0:eE+1},null))])});return eB==null?null:{$:1,$0:(eF=eB.$0,(eG=eF[0],(eH=eF[1],[T.filter(function(eN){return eL(ds.extractMeasuresO(eN));},eG),T.filter(function(eN){return eM(ds.extractMeasuresO(eN));},eH),(eI=bc.tryHead(bc.delay(function(){return bc.append(bc.choose(ds.extractMeasuresO,eG),bc.delay(function(){return bc.map(function(eN){return eN.$==0?eN.$1?new dJ({$:0,$0:eN.$0,$1:false}):eN:eN;},bc.choose(ds.extractMeasuresO,eH));}));})),(eJ=new dJ({$:1,$0:5,$1:50,$2:95}),eI==null?eJ:eI.$0))])))};};ds.cleanSpaces=function(ez){return T.filter(function(eA){var eB;return!(eB=(ce.Int())(eA),eB!=null&&eB.$==1);},bj.SplitStrings(bj.concat(" ",ez),[" "],1));};ds.extractMeasuresO=function(ez){var eA,eB,eC,eD,eE,eF,eG;eA=bj.SplitChars(ez,[" "],1);return!J.Equals(eA,null)&&eA.length===1&&(eC=(ce.Int())(T.get(eA,0)),eC!=null&&eC.$==1&&(eB=eC.$0,true))?{$:1,$0:new dJ({$:0,$0:es.abs(eB),$1:eB>=0})}:!J.Equals(eA,null)&&eA.length===3&&(eE=(ce.Int())(T.get(eA,0)),eE!=null&&eE.$==1&&(eF=(ce.Int())(T.get(eA,1)),eF!=null&&eF.$==1&&(eG=(ce.Int())(T.get(eA,2)),eG!=null&&eG.$==1&&(eD=[eG.$0,eE.$0,eF.$0],true))))?{$:1,$0:new dJ({$:1,$0:eD[1],$1:eD[2],$2:eD[0]})}:null;};ds.transpose=function(ez){var eA;eA=bc.max(bc.map(function(eB){return eB.length;},ez));return T.ofSeq(bc.delay(function(){return bc.map(function(eB){return T.ofSeq(bc.delay(function(){return bc.map(function(eC){return eC.length>eB?eC[eB]:" ";},ez);})).join("");},o.range(0,eA-1));}));};bd.delayed=function(ez,eA){var eB;eB=[null];return function(eC){var eD,eE;eD=eB[0];eD==null?void 0:eD.$0.Cancel$1();eB[0]={$:1,$0:new dH.New()};cU.Start((eE=null,cU.Delay(function(){return cU.Bind(cU.Sleep(ez),function(){eA(eC);return cU.Zero();});})),{$:1,$0:eB[0].$0});};};bd.print=function(ez){if(typeof ez=="string")((function(eA){return function(eB){return eA(bz.toSafe(eB));};}(function(eA){eu.log(eA);}))(ez));else((function(eA){return function(eB){return eA(bz.prettyPrint(eB));};}(function(eA){eu.log(eA);}))(ez));};bd["String.Left"]=function(ez,eA){return eA<0?bd["String.Substring2"](ez,0,ez.length+eA):bd["String.Substring2"](ez,0,eA);};bd["String.Substring2"]=function(ez,eA,eB){var eC,eD;while(true){if(eB<=0)return"";else if(eA<0){eC=eA;eA=0;eB=eB+eC;}else return eA>=ez.length?"":bj.Substring(ez,eA,(eD=ez.length-eA,J.Compare(eB,eD)===-1?eB:eD));}};dt=c2.WcSplitterT=er.Class({connectedCallback:function(){var ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO;function eP(eX){var eY,eZ,e0,e1;eY=eG?["padding-left","padding-right","grid-column-gap"]:["padding-top","padding-bottom","grid-row-gap"];eZ=a.parseFloat("0"+et(eX.parentElement.parentElement).css(eY[0]));e0=a.parseFloat("0"+et(eX.parentElement.parentElement).css(eY[1]));eJ.Set(a.parseFloat("0"+et(eX.parentElement.parentElement).css(eY[2])));eI[0]=eZ+e0;e1=ez.getBoundingClientRect();return eG?eF?[e1.width,e1.height]:[-e1.width,e1.height]:eF?[e1.height,e1.width]:[-e1.height,e1.width];}function eQ(eX){return eG?eX.clientX:eX.clientY;}function eR(eX){var eY,eZ;eY=(eQ(eX)-eM[0])*100/eH[0][0]+eL[0];eE.Set((eZ=J.Compare(eC,eY)===1?eC:eY,J.Compare(eD,eZ)===-1?eD:eZ));}function eS(){if(eK[0]){eK[0]=false;self.removeEventListener("mousemove",eR,false);self.removeEventListener("mouseup",eS,false);}}function eT(eX){var eY,eZ;if(!eK[0]){eK[0]=true;eL[0]=eE.Get();eM[0]=eQ(eX);eH[0]=(eY=(eZ=eN[0],eZ==null?null:{$:1,$0:eP(eZ.$0)}),eY==null?[100,500]:eY.$0);self.addEventListener("mousemove",eR,false);self.addEventListener("mouseup",eS,false);eX.preventDefault();}}function eU(eX,eY,eZ,e0){return[(eX-eY-eZ)*e0/100,(eX-eY-eZ)*(100-e0)/100];}function eV(eX,eY){return(((((er.Curried(function(eZ,e0,e1,e2,e3){return eZ(" "+e0.toFixed(2)+"px "+e1.toFixed(2)+"px ; "+bz.toSafe(e2)+" : "+e3.toFixed(2)+"px; ");},5))(a.id))(eX))(eY))(eG?"height":"width"))(eH[0][1]);}function eW(){var eX;eX=eN[0];eX==null?void 0:eH[0]=eP(eX.$0);eE.Set(eE.Get());}if(!this.added){ez=this;eA=ez.attachShadow({mode:"open"});eB=self.document.createElement("div");eC=ez.hasAttribute("min")?a.parseFloat(ez.getAttribute("min")):4;eD=ez.hasAttribute("max")?a.parseFloat(ez.getAttribute("max")):96;eE=i.Create$1(ez.hasAttribute("value")?a.parseFloat(ez.getAttribute("value")):50);eF=!ez.hasAttribute("second");eG=ez.hasAttribute("vertical");eH=[[0,0]];eI=[0];eJ=i.Create$1(0);eK=[false];eL=[0];eM=[0];eN=[null];eO=(((((eG?c2.layoutVertical():c2.layoutHorizontal())(p.Map(function(eX){var eY;eY=eU(eH[0][0],eJ.Get(),eI[0],eX);return eV.apply(null,eY);},eE.get_View())))(function(){dO.addResizeObserver(eW,ez);eW();}))(function(eX){eN[0]={$:1,$0:eX};eW();}))(function(eX){eT(eX);}))(p.Map(function(eX){return function(eY){return eX(bz.prettyPrint(eY)+"px");};}(a.id),eJ.get_View()));c6.LoadLocalTemplates("");_0.Run(eB,eO);eA.appendChild(eB.firstChild);this.added=true;}}},g,dt);dt.Constructor=function(){var ez,eA;ez=(eA=ex.construct(self.HTMLElement,[],this.__proto__.constructor),eA);self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New.call(ez);return ez;};dt.New=er.Ctor(function(){g.New.call(this);this.added=false;(function(ez){return ez("WcSplitterT initializer");}(function(ez){eu.log(ez);}));},dt);du=h.DocElemNode=er.Class({Equals:function(ez){return this.ElKey===ez.ElKey;},GetHashCode:function(){return this.ElKey;}},null,du);du.New=function(ez,eA,eB,eC,eD,eE){var eF;return new du((eF={Attr:ez,Children:eA,El:eC,ElKey:eD},(er.SetOptional(eF,"Delimiters",eB),er.SetOptional(eF,"Render",eE),eF)));};dw.$cctor=function(){dw.$cctor=a.ignore;dw.counter=0;};dx=bR.XhrProvider=er.Class({Async:function(ez,eA,eB,eC,eD){bR.ajax(true,ez,eA,eB,eC,eD,function(){bR.ajax(true,ez,eA,eB,eC,eD,void 0);});}},g,dx);dx.New=er.Ctor(function(){g.New.call(this);},dx);dy=cx.FSharpEvent=er.Class({},g,dy);dy.New=er.Ctor(function(){g.New.call(this);this.event=d1.New([]);},dy);dz=bg.LinkedList=er.Class({AddLast:function(ez){var eA;return this.c===0?(eA={p:null,n:null,v:ez},(this.n=eA,this.p=this.n,this.c=1,eA)):this.AddAfter(this.p,ez);},GetEnumerator$1:function(){return new ek.New(this);},AddAfter:function(ez,eA){var eB,eC;eB=ez.n;eC={p:ez,n:eB,v:eA};J.Equals(ez.n,null)?this.p=eC:void 0;ez.n=eC;!J.Equals(eB,null)?eB.p=eC:void 0;this.c=this.c+1;return eC;},RemoveFirst:function(){this.Remove$1(this.n);},Remove$1:function(ez){var eA,eB;eA=ez.p;eB=ez.n;J.Equals(eA,null)?this.n=eB:eA.n=eB;J.Equals(eB,null)?this.p=eA:eB.p=eA;this.c=this.c-1;},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},g,dz);dz.New=er.Ctor(function(){dz.New$1.call(this,[]);},dz);dz.New$1=er.Ctor(function(ez){var eA,eB;g.New.call(this);this.c=0;this.n=null;this.p=null;eA=cI.Get(ez);eA.MoveNext()?(this.n={p:null,n:null,v:eA.Current()},this.p=this.n,this.c=1):void 0;while(eA.MoveNext()){eB={p:this.p,n:null,v:eA.Current()};this.p.n=eB;this.p=eB;this.c=this.c+1;}},dz);dA.New$1=function(ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ){return c9.newPojoOpt([cg.op_EqualsEqualsGreater("account",ez),cg.op_EqualsEqualsGreater("authority",eA),cg.op_EqualsEqualsGreater("claimsRequest",eB),cg.op_EqualsEqualsGreater("correlationId",eC),cg.op_EqualsEqualsGreater("extraQueryParameters",eD),cg.op_EqualsEqualsGreater("extraScopesToConsent",eE),cg.op_EqualsEqualsGreater("loginHint",eF),cg.op_EqualsEqualsGreater("prompt",eG),cg.op_EqualsEqualsGreater("scopes",eH),cg.op_EqualsEqualsGreater("sid",eI),cg.op_EqualsEqualsGreater("state",eJ)]);};dB=cg.Account=er.Class({},g,dB);dC.New$1=function(ez,eA){return{Parse:ez,Write:eA};};dD.startsWith=function(ez,eA){var eB;switch(ez.$==1?eA.$==1?J.Equals(ez.$0,eA.$0)?(eB=[eA.$0,eA.$1,ez.$0,ez.$1],1):2:2:0){case 0:return{$:1,$0:eA};case 1:return dD.startsWith(eB[3],eB[1]);case 2:return null;}};dE=bg.Pair=er.Class({Equals:function(ez){return J.Equals(this.Key,ez.Key);},GetHashCode:function(){return J.Hash(this.Key);},CompareTo0:function(ez){return J.Compare(this.Key,ez.Key);}},null,dE);dE.New=function(ez,eA){return new dE({Key:ez,Value:eA});};dF.Map=function(ez,eA){return eA.$==1?{$:1,$0:eA.$0}:{$:0,$0:ez(eA.$0)};};dG=cU.Scheduler=er.Class({Fork:function(ez){var eA;eA=this;this.robin.push(ez);this.idle?(this.idle=false,a.setTimeout(function(){eA.tick();},0)):void 0;},tick:function(){var ez,eA,eB;eA=this;eB=ev.now();ez=true;while(ez)if(this.robin.length===0){this.idle=true;ez=false;}else{(this.robin.shift())();ev.now()-eB>40?(a.setTimeout(function(){eA.tick();},0),ez=false):void 0;}}},g,dG);dG.New=er.Ctor(function(){g.New.call(this);this.idle=true;this.robin=[];},dG);dH=f.CancellationTokenSource=er.Class({Cancel$1:function(){var ez;if(!this.c){this.c=true;ez=T.choose(function(eA){try{eA();return null;}catch(eB){return{$:1,$0:eB};}},this.r);if(T.length(ez)>0)throw new d8.New$3(ez);else void 0;}}},g,dH);dH.New=er.Ctor(function(){g.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},dH);dI=h.DynamicAttrNode=er.Class({NChanged:function(){return this.updates;},NGetExitAnim:function(ez){return dU.get_Empty();},NGetEnterAnim:function(ez){return dU.get_Empty();},NGetChangeAnim:function(ez){return dU.get_Empty();},NSync:function(ez){if(this.dirty){(this.push(ez))(this.value);this.dirty=false;}}},g,dI);dI.New=er.Ctor(function(ez,eA){var eB;eB=this;g.New.call(this);this.push=eA;this.value=void 0;this.dirty=false;this.updates=p.Map(function(eC){eB.value=eC;eB.dirty=true;},ez);},dI);j.REGEX$1=function(ez,eA,eB){var eC;return eB===null?null:(eC=(new a.String(eB)).match(new a.RegExp(ez,eA)),J.Equals(eC,null)?null:!J.Equals(eC,null)&&eC.length===0?null:{$:1,$0:eC});};dJ=K.Measures=er.Class({toString:function(){return this.$==1?((((er.Curried(function(ez,eA,eB,eC){return ez(a.String(eA)+"-"+a.String(eB)+"-"+a.String(eC));},4))(a.id))(o.toInt(this.$0)))(o.toInt(this.$1)))(o.toInt(this.$2)):a.String(o.toInt(this.$1?this.$0:-this.$0));}},null,dJ);dL=dK.Hoverable=er.Class({Content:function(ez){return ez.on("mouseenter",function(){return dm.AddClass(ez.elt,"hovering");}).on("mouseleave",function(){return dm.RemoveClass(ez.elt,"hovering");});}},null,dL);dL.New$1=function(){return dL.New(i.Create$1(false));};dL.New=function(ez){return new dL({hover:ez});};dO.addResizeObserver=function(ez,eA){var eB,eC,eD,eE;try{eB=!(!a.ResizeObserver);}catch(eF){eB=false;}if(eB){eC=new a.ResizeObserver(ez);dO.set_observers(new cL({$:1,$0:eC,$1:dO.observers()}));eC.observe(eA);}else{eD=dO.dimsChanged(eA);cU.Start((eE=null,cU.Delay(function(){return cU.While(function(){return eA.isConnected;},cU.Delay(function(){return cU.Bind(cU.Sleep(110),function(){return eD()?(ez(),cU.Zero()):cU.Zero();});}));})),null);}};dO.set_observers=function(ez){bX.$cctor();bX.observers=ez;};dO.observers=function(){bX.$cctor();return bX.observers;};dO.dimsChanged=function(ez){var eA;eA=[ez.getBoundingClientRect()];return function(){var eB;eB=ez.getBoundingClientRect();return J.Equals(dO.domRect2Tuple(eA[0]),dO.domRect2Tuple(eB))?false:(eA[0]=eB,true);};};dO.domRect2Tuple=function(ez){return[ez.top,ez.left,ez.width,ez.height];};dP.$cctor=function(){dP.$cctor=a.ignore;dP.LoadedTemplates=new b4.New$5();dP.LocalTemplatesLoaded=false;dP.TextHoleRE="\\${([^}]+)}";};dQ=h.Elt=er.Class({on:function(ez,eA){var eB;eB=this;this.elt.addEventListener(ez,function(eC){return eA(eB.elt,eC);},false);return this;}},_0,dQ);dQ.TreeNode=function(ez,eA){var eB,eC;function eD(eE){return eE[1];}eB=d_.Create(eA);return new dQ.New$1({$:6,$0:ez},p.Map2Unit((eC=T.map(function(eE){return dl.Updates(eD(eE));},ez.Attrs),cT.TreeReduce(p.Const(),p.Map2Unit,eC)),eB.v),T.get(ez.Els,0),eB);};dQ.New=function(ez,eA,eB){var eC,eD;eC=dk.CreateElemNode(ez,eA,eB.docNode);eD=d_.Create(eB.updates);return new dQ.New$1({$:1,$0:eC},p.Map2Unit(dl.Updates(eC.Attr),eD.v),ez,eD);};dQ.New$1=er.Ctor(function(ez,eA,eB,eC){_0.New.call(this,ez,eA);this.docNode$1=ez;this.updates$1=eA;this.elt=eB;this.rvUpdates=eC;},dQ);dS.New=function(ez,eA,eB,eC){var eD;eD={DynElem:ez,DynFlags:eA,DynNodes:eB};er.SetOptional(eD,"OnAfterRender",eC);return eD;};dT.convertTextNode=function(ez){var eA,eB,eC,eD,eE,eF;eA=null;eB=0;eD=ez.textContent;eE=new a.RegExp(c6.TextHoleRE(),"g");while(eA=eE.exec(eD),eA!==null){ez.parentNode.insertBefore(self.document.createTextNode(cd.string(eD,{$:1,$0:eB},{$:1,$0:eE.lastIndex-T.get(eA,0).length-1})),ez);eB=eE.lastIndex;eF=self.document.createElement("span");eF.setAttribute("ws-replace",T.get(eA,1).toLowerCase());ez.parentNode.insertBefore(eF,ez);}eE.lastIndex=0;ez.textContent=cd.string(eD,{$:1,$0:eB},null);};dT.failNotLoaded=function(ez){eu.warn("Instantiating non-loaded template",ez);};dT.fillTextHole=function(ez,eA,eB){var eC;eC=ez.querySelector("[ws-replace]");return J.Equals(eC,null)?(eu.warn("Filling non-existent text hole",eB),null):(eC.parentNode.replaceChild(new a.Text(eA),eC),{$:1,$0:eC.getAttribute("ws-replace")});};dT.removeHolesExcept=function(ez,eA){function eB(eC){dm.IterSelector(ez,"["+eC+"]",function(eD){if(!eA.Contains(eD.getAttribute(eC)))eD.removeAttribute(eC);});}eB("ws-attr");eB("ws-onafterrender");eB("ws-var");dm.IterSelector(ez,"[ws-hole]",function(eC){if(!eA.Contains(eC.getAttribute("ws-hole"))){eC.removeAttribute("ws-hole");while(eC.hasChildNodes())eC.removeChild(eC.lastChild);}});dm.IterSelector(ez,"[ws-replace]",function(eC){if(!eA.Contains(eC.getAttribute("ws-replace")))eC.parentNode.removeChild(eC);});dm.IterSelector(ez,"[ws-on]",function(eC){eC.setAttribute("ws-on",bj.concat(" ",T.filter(function(eD){return eA.Contains(T.get(bj.SplitChars(eD,[":"],1),1));},bj.SplitChars(eC.getAttribute("ws-on"),[" "],1))));});dm.IterSelector(ez,"[ws-attr-holes]",function(eC){var eD,eE,eF,eG,eH;eD=bj.SplitChars(eC.getAttribute("ws-attr-holes"),[" "],1);for(eE=0,eF=eD.length-1;eE<=eF;eE++){eG=T.get(eD,eE);eC.setAttribute(eG,(eH=new a.RegExp(c6.TextHoleRE(),"g"),eC.getAttribute(eG).replace(eH,function(eI,eJ){return eA.Contains(eJ)?eI:"";})));}});};dT.fillInstanceAttrs=function(ez,eA){var eB,eC,eD,eE,eF;dT.convertAttrs(eA);eB=eA.nodeName.toLowerCase();eC=ez.querySelector("[ws-attr="+eB+"]");if(J.Equals(eC,null))eu.warn("Filling non-existent attr hole",eB);else{eC.removeAttribute("ws-attr");for(eD=0,eE=eA.attributes.length-1;eD<=eE;eD++){eF=eA.attributes.item(eD);eF.name==="class"&&eC.hasAttribute("class")?eC.setAttribute("class",eC.getAttribute("class")+" "+eF.nodeValue):eC.setAttribute(eF.name,eF.nodeValue);}}};dT.mapHoles=function(ez,eA){function eB(eC){dm.IterSelector(ez,"["+eC+"]",function(eD){var eE,eF;eE=(eF=null,[eA.TryGetValue(eD.getAttribute(eC).toLowerCase(),{get:function(){return eF;},set:function(eG){eF=eG;}}),eF]);eE[0]?eD.setAttribute(eC,eE[1]):void 0;});}eB("ws-hole");eB("ws-replace");eB("ws-attr");eB("ws-onafterrender");eB("ws-var");dm.IterSelector(ez,"[ws-on]",function(eC){eC.setAttribute("ws-on",bj.concat(" ",T.map(function(eD){var eE,eF,eG;eE=bj.SplitChars(eD,[":"],1);eF=(eG=null,[eA.TryGetValue(T.get(eE,1),{get:function(){return eG;},set:function(eH){eG=eH;}}),eG]);return eF[0]?T.get(eE,0)+":"+eF[1]:eD;},bj.SplitChars(eC.getAttribute("ws-on"),[" "],1))));});dm.IterSelector(ez,"[ws-attr-holes]",function(eC){var eD,eE,eF;eD=bj.SplitChars(eC.getAttribute("ws-attr-holes"),[" "],1);for(eE=0,eF=eD.length-1;eE<=eF;eE++)(function(){var eG;function eH(eI,eJ){var eK;eK=o.KeyValue(eJ);return eI.replace(new a.RegExp("\\${"+eK[0]+"}","ig"),"${"+eK[1]+"}");}eG=T.get(eD,eE);return eC.setAttribute(eG,(((er.Curried3(bc.fold))(eH))(eC.getAttribute(eG)))(eA));}());});};dT.fill=function(ez,eA,eB){while(true)if(ez.hasChildNodes())eB=eA.insertBefore(ez.lastChild,eB);else return null;};dT.convertAttrs=function(ez){var eB,eC,eD,eE,eF,eG,eH,eI;function eA(eJ){var eK;eK=ez.getAttribute(eJ);eK===null?void 0:ez.setAttribute(eJ,eK.toLowerCase());}eB=ez.attributes;eC=[];eD=[];eE=[];for(eF=0,eG=eB.length-1;eF<=eG;eF++){eH=eB.item(eF);bj.StartsWith(eH.nodeName,"ws-on")&&eH.nodeName!=="ws-onafterrender"&&eH.nodeName!=="ws-on"?(eC.push(eH.nodeName),eD.push(cd.string(eH.nodeName,{$:1,$0:"ws-on".length},null)+":"+eH.nodeValue.toLowerCase())):!bj.StartsWith(eH.nodeName,"ws-")&&(new a.RegExp(c6.TextHoleRE())).test(eH.nodeValue)?(eH.nodeValue=(eI=new a.RegExp(c6.TextHoleRE(),"g"),eH.nodeValue.replace(eI,function(eJ,eK){return"${"+eK.toLowerCase()+"}";})),eE.push(eH.nodeName)):void 0;}!(eD.length==0)?ez.setAttribute("ws-on",bj.concat(" ",eD)):void 0;!(eE.length==0)?ez.setAttribute("ws-attr-holes",bj.concat(" ",eE)):void 0;eA("ws-hole");eA("ws-replace");eA("ws-attr");eA("ws-onafterrender");eA("ws-var");T.iter(function(eJ){ez.removeAttribute(eJ);},eC);};dU.get_UseAnimations=function(){return ec.UseAnimations();};dU.Play=function(ez){var eA;eA=null;return cU.Delay(function(){return cU.Bind(dU.Run(a.ignore,ec.Actions(ez)),function(){ec.Finalize(ez);return cU.Return(null);});});};dU.Append=function(ez,eA){return{$:0,$0:ej.Append(ez.$0,eA.$0)};};dU.Run=function(ez,eA){var eB;function eC(eD){function eE(eF,eG){var eH;eH=eG-eF;eA.Compute(eH);ez();return eH<=eB?void a.requestAnimationFrame(function(eI){eE(eF,eI);}):eD();}a.requestAnimationFrame(function(eF){eE(eF,eF);});}eB=eA.Duration;return eB===0?cU.Zero():cU.FromContinuations(function(eD,eE,eF){return eC.apply(null,[eD,eE,eF]);});};dU.Concat=function(ez){return{$:0,$0:ej.Concat(bc.map(ec.List,ez))};};dU.get_Empty=function(){return{$:0,$0:ej.Empty()};};dV.BatchUpdatesEnabled=function(){ed.$cctor();return ed.BatchUpdatesEnabled;};dW.StartProcessor=function(ez){var eA;function eB(){var eC;eC=null;return cU.Delay(function(){return cU.Bind(ez,function(){var eD;eD=eA[0];return eD===1?(eA[0]=0,cU.Zero()):eD===2?(eA[0]=1,eB()):cU.Zero();});});}eA=[0];return function(){var eC;eC=eA[0];eC===0?(eA[0]=1,cU.Start(eB(),null)):eC===1?eA[0]=2:void 0;};};dX=f.OperationCanceledException=er.Class({},c_,dX);dX.New=er.Ctor(function(ez){dX.New$1.call(this,"The operation was canceled.",null,ez);},dX);dX.New$1=er.Ctor(function(ez,eA,eB){this.message=ez;this.inner=eA;cQ.setPrototypeOf(this,dX.prototype);this.ct=eB;},dX);dY.Activate=function(ez){var eA,eC,eD,eE,eF,eG,eH;function eB(eI){var eJ,eK,eL,eM,eN;if(J.Equals(eI,null))return eI;else if(typeof eI=="object"){if(eI instanceof a.Array)return dY.shallowMap(eB,eI);else{eJ=dY.shallowMap(eB,eI.$V);eK=eI.$T;if(eK===void 0)return eJ;else{eL=T.get(eC,eK);if(eL===1)return bB.ofArray(eJ);else if(eL===2)return self.WebSharper.Decimal.CreateDecimalBits(eJ);else{eM=new(T.get(eC,eK))();for(var eO in eJ)if(function(eP){eM[eP]=eJ[eP];return false;}(eO))break;return eM;}}}}else return eI;}eC=ez?ez.$TYPES:void 0;if(eC===void 0)eA=ez;else{for(eD=0,eE=T.length(eC)-1;eD<=eE;eD++){eH=T.get(eC,eD);switch(!J.Equals(eH,null)&&eH.length===3?T.get(eH,0)==="WebSharper"?T.get(eH,1)==="List"?T.get(eH,2)==="T"?0:(eG=eH,2):(eG=eH,2):(eG=eH,2):!J.Equals(eH,null)&&eH.length===2?T.get(eH,0)==="WebSharper"?T.get(eH,1)==="Decimal"?1:(eG=eH,2):(eG=eH,2):(eG=eH,2)){case 0:eF=1;break;case 1:eF=2;break;case 2:eF=dY.lookup(eG);break;}T.set(eC,eD,eF);}eA=ez.$DATA;}return eB(eA);};dY.shallowMap=function(ez,eA){var eB,eC;if(eA instanceof a.Array)return T.map(ez,eA);else if(typeof eA=="object"){eB={};for(var eD in eA)if(function(eE){eB[eE]=ez(eA[eE]);return false;}(eD))break;return eB;}else return eA;};dY.lookup=function(ez){var eA,eB,eC,eD,eE;eC=T.length(ez);eA=self;eB=0;while(eB<eC){eD=T.get(ez,eB);eE=eA[eD];!J.Equals(typeof eE,void 0)?(eA=eE,eB=eB+1):o.FailWith("Invalid server reply. Failed to find type: "+eD);}return eA;};dZ.concat=function(ez){var eA,eB;eA=[];for(var eC in ez)eA.push.apply(eA,ez[eC]);return eA;};d1=d0.Event=er.Class({Trigger:function(ez){var eA,eB,eC;eA=this.Handlers.slice();for(eB=0,eC=eA.length-1;eB<=eC;eB++)(T.get(eA,eB))(null,ez);},Dispose:a.ignore},null,d1);d1.New=function(ez){return new d1({Handlers:ez});};d2=H.NonStandardPromiseRejectionException=er.Class({},c_,d2);d2.New=er.Ctor(function(ez){this.message="Promise rejected";cQ.setPrototypeOf(this,d2.prototype);this.reason=ez;},d2);d3.$cctor=function(){d3.$cctor=a.ignore;function ez(eA){var eB,eC;eB=(eC=0,[b2.TryParseInt32(eA,{get:function(){return eC;},set:function(eD){eC=eD;}}),eC]);return eB[0]?{$:1,$0:eB[1]}:null;}d3.Empty=dC.New$1(function(){return[];},function(){return null;});d3.rRoot=dC.New(function(eA){return[eA];},[]);d3.rString=dC.New$1(function(eA){var eB,eC;eB=eA.Segments;return eB.$==1?(eC=eg.read(eB.$0),eC!=null&&eC.$==1?[[de.New(eB.$1,eA.QueryArgs,eA.FormData,eA.Method,eA.Body),eC.$0]]:[]):[];},function(eA){return{$:1,$0:[de.Segment$2(eA==null?"null":eg.write(eA))]};});d3.rChar=dC.New$1(function(eA){var eB,eC,eD;eB=eA.Segments;return eB.$==1?(eC=eg.read(eB.$0),eC!=null&&eC.$==1&&(eC.$0.length===1&&(eD=eC.$0,true))?[[de.New(eB.$1,eA.QueryArgs,eA.FormData,eA.Method,eA.Body),ee.Parse(eD)]]:[]):[];},function(eA){return{$:1,$0:[de.Segment$2(eA)]};});d3.rGuid=dC.New$1(function(eA){var eB,eC;eB=eA.Segments;return eB.$==1?(eC=null,bt.TryParse(eB.$0,{get:function(){return eC;},set:function(eD){eC=eD;}})?[[de.New(eB.$1,eA.QueryArgs,eA.FormData,eA.Method,eA.Body),eC]]:[]):[];},function(eA){return{$:1,$0:[de.Segment$2(a.String(eA))]};});d3.rInt=dC.New$1(function(eA){var eB,eC;eB=eA.Segments;return eB.$==1?(eC=0,b2.TryParseInt32(eB.$0,{get:function(){return eC;},set:function(eD){eC=eD;}})?[[de.New(eB.$1,eA.QueryArgs,eA.FormData,eA.Method,eA.Body),eC]]:[]):[];},function(eA){return{$:1,$0:[de.Segment$2(a.String(eA))]};});d3.rDouble=dC.New$1(function(eA){var eB,eC,eD;eB=eA.Segments;return eB.$==1?(eC=0,(eD=a.Number(eB.$0),a.isNaN(eD)?false:(eC=eD,true))?[[de.New(eB.$1,eA.QueryArgs,eA.FormData,eA.Method,eA.Body),eC]]:[]):[];},function(eA){return{$:1,$0:[de.Segment$2(a.String(eA))]};});d3.rSByte=dC.New$1(function(eA){var eB,eC;eB=eA.Segments;return eB.$==1?(eC=0,b2.TryParseSByte(eB.$0,{get:function(){return eC;},set:function(eD){eC=eD;}})?[[de.New(eB.$1,eA.QueryArgs,eA.FormData,eA.Method,eA.Body),eC]]:[]):[];},function(eA){return{$:1,$0:[de.Segment$2(a.String(eA))]};});d3.rByte=dC.New$1(function(eA){var eB,eC;eB=eA.Segments;return eB.$==1?(eC=0,b2.TryParseByte(eB.$0,{get:function(){return eC;},set:function(eD){eC=eD;}})?[[de.New(eB.$1,eA.QueryArgs,eA.FormData,eA.Method,eA.Body),eC]]:[]):[];},function(eA){return{$:1,$0:[de.Segment$2(a.String(eA))]};});d3.rInt16=dC.New$1(function(eA){var eB,eC;eB=eA.Segments;return eB.$==1?(eC=0,b2.TryParseInt16(eB.$0,{get:function(){return eC;},set:function(eD){eC=eD;}})?[[de.New(eB.$1,eA.QueryArgs,eA.FormData,eA.Method,eA.Body),eC]]:[]):[];},function(eA){return{$:1,$0:[de.Segment$2(a.String(eA))]};});d3.rUInt16=dC.New$1(function(eA){var eB,eC;eB=eA.Segments;return eB.$==1?(eC=0,b2.TryParseUInt16(eB.$0,{get:function(){return eC;},set:function(eD){eC=eD;}})?[[de.New(eB.$1,eA.QueryArgs,eA.FormData,eA.Method,eA.Body),eC]]:[]):[];},function(eA){return{$:1,$0:[de.Segment$2(a.String(eA))]};});d3.rUInt=dC.New$1(function(eA){var eB,eC;eB=eA.Segments;return eB.$==1?(eC=0,b2.TryParseUInt32(eB.$0,{get:function(){return eC;},set:function(eD){eC=eD;}})?[[de.New(eB.$1,eA.QueryArgs,eA.FormData,eA.Method,eA.Body),eC]]:[]):[];},function(eA){return{$:1,$0:[de.Segment$2(a.String(eA))]};});d3.rInt64=dC.New$1(function(eA){var eB,eC;eB=eA.Segments;return eB.$==1?(eC=0,b2.TryParseInt64(eB.$0,{get:function(){return eC;},set:function(eD){eC=eD;}})?[[de.New(eB.$1,eA.QueryArgs,eA.FormData,eA.Method,eA.Body),eC]]:[]):[];},function(eA){return{$:1,$0:[de.Segment$2(a.String(eA))]};});d3.rUInt64=dC.New$1(function(eA){var eB,eC;eB=eA.Segments;return eB.$==1?(eC=0,b2.TryParseUInt64(eB.$0,{get:function(){return eC;},set:function(eD){eC=eD;}})?[[de.New(eB.$1,eA.QueryArgs,eA.FormData,eA.Method,eA.Body),eC]]:[]):[];},function(eA){return{$:1,$0:[de.Segment$2(a.String(eA))]};});d3.rSingle=dC.New$1(function(eA){var eB,eC,eD;eB=eA.Segments;return eB.$==1?(eC=0,(eD=a.Number(eB.$0),a.isNaN(eD)?false:(eC=eD,true))?[[de.New(eB.$1,eA.QueryArgs,eA.FormData,eA.Method,eA.Body),eC]]:[]):[];},function(eA){return{$:1,$0:[de.Segment$2(a.String(eA))]};});d3.rBool=dC.New$1(function(eA){var eB,eC,eD;eB=eA.Segments;return eB.$==1?(eC=(eD=null,[b2.TryParseBool(eB.$0,{get:function(){return eD;},set:function(eE){eD=eE;}}),eD]),eC[0]?[[de.New(eB.$1,eA.QueryArgs,eA.FormData,eA.Method,eA.Body),eC[1]]]:[]):[];},function(eA){return{$:1,$0:[de.Segment$2(eA?"True":"False")]};});d3.rWildcard=dC.New$1(function(eA){return[[de.New(cL.Empty,eA.QueryArgs,eA.FormData,eA.Method,eA.Body),bj.concat("/",eA.Segments)]];},function(eA){return{$:1,$0:[de.Segment$2(eA)]};});d3.rDateTime=dC.New$1(function(eA){var eB,eC,eD,eE,eF,eG,eH,eI,eJ;eB=eA.Segments;return eB.$==1?(eC=eB.$0,eC.length===19&&eC[4]==="-"&&eC[7]==="-"&&eC[10]==="-"&&eC[13]==="."&&eC[16]==="."?(eD=ez(cd.string(eC,{$:1,$0:0},{$:1,$0:3})),(eE=ez(cd.string(eC,{$:1,$0:5},{$:1,$0:6})),(eF=ez(cd.string(eC,{$:1,$0:8},{$:1,$0:9})),(eG=ez(cd.string(eC,{$:1,$0:11},{$:1,$0:12})),(eH=ez(cd.string(eC,{$:1,$0:14},{$:1,$0:15})),(eI=ez(cd.string(eC,{$:1,$0:17},{$:1,$0:18})),eD!=null&&eD.$==1&&(eE!=null&&eE.$==1&&(eF!=null&&eF.$==1&&(eG!=null&&eG.$==1&&(eH!=null&&eH.$==1&&(eI!=null&&eI.$==1&&(eJ=[eF.$0,eG.$0,eE.$0,eH.$0,eI.$0,eD.$0],true))))))?[[de.New(eB.$1,eA.QueryArgs,eA.FormData,eA.Method,eA.Body),(new ev(eJ[5],eJ[2]-1,eJ[0],eJ[1],eJ[3],eJ[4])).getTime()]]:[])))))):[]):[];},function(eA){var eB,eC;function eD(eE){var eF;eF=a.String(eE);return eF.length===1?"0"+eF:eF;}return{$:1,$0:[de.Segment$2((eB=a.String((new ev(eA)).getFullYear()),(eC=eB.length,eC===1?"000"+eB:eC===2?"00"+eB:eC===3?"0"+eB:eB))+"-"+eD((new ev(eA)).getMonth()+1)+"-"+eD((new ev(eA)).getDate())+"-"+eD((new ev(eA)).getHours())+"."+eD((new ev(eA)).getMinutes())+"."+eD((new ev(eA)).getSeconds()))]};});};d4.OfArray=function(ez){return new cH.New$1(cK.OfSeq(bc.map(function(eA){return dE.New(eA[0],eA[1]);},ez)));};d4.FoldBack=function(ez,eA,eB){return bc.fold(function(eC,eD){return ez(eD.Key,eD.Value,eC);},eB,cK.Enumerate(true,eA.get_Tree()));};d4.ToSeq=function(ez){return bc.map(function(eA){return[eA.Key,eA.Value];},cK.Enumerate(false,ez.get_Tree()));};d5.Clear=function(ez){ez.splice(0,T.length(ez));};d6.$cctor=function(){d6.$cctor=a.ignore;d6.Doc=self.document;};d7.$cctor=function(){d7.$cctor=a.ignore;d7.EmptyAttr=null;};d8=f.AggregateException=er.Class({},c_,d8);d8.New$3=er.Ctor(function(ez){d8.New$4.call(this,"One or more errors occurred.",ez);},d8);d8.New$4=er.Ctor(function(ez,eA){this.message=ez;cQ.setPrototypeOf(this,d8.prototype);this.innerExceptions=eA;},d8);bc.enumUsing=function(ez,eA){return{GetEnumerator:function(){var eB;try{eB=cI.Get(eA(ez));}catch(eC){ez.Dispose();throw eC;}return new cJ.New(null,null,function(eD){return eB.MoveNext()&&(eD.c=eB.Current(),true);},function(){eB.Dispose();ez.Dispose();});}};};bc.enumWhile=function(ez,eA){return{GetEnumerator:function(){return new cJ.New(null,null,function(eB){var eC;while(true){eC=eB.s;if(J.Equals(eC,null)){if(ez()){eB.s=cI.Get(eA);eB=eB;}else return false;}else if(eC.MoveNext()){eB.c=eC.Current();return true;}else{eC.Dispose();eB.s=null;eB=eB;}}},function(eB){var eC;eC=eB.s;!J.Equals(eC,null)?eC.Dispose():void 0;});}};};d9=bg.KeyCollection=er.Class({GetEnumerator$1:function(){return cI.Get(bc.map(function(ez){return ez.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},g,d9);d9.New=er.Ctor(function(ez){g.New.call(this);this.d=ez;},d9);d_=h.Updates=er.Class({},null,d_);d_.Create=function(ez){var eA;eA=null;eA=d_.New(ez,null,function(){var eB;eB=eA.s;return eB===null?(eB=_5.Copy(eA.c()),eA.s=eB,_5.WhenObsoleteRun(eB,function(){eA.s=null;}),eB):eB;});return eA;};d_.New=function(ez,eA,eB){return new d_({c:ez,s:eA,v:eB});};ea.New=function(ez,eA){return{PreviousNodes:ez,Top:eA};};eb.get_Empty=function(){return{$:0,$0:new b5.New$3()};};eb.FindAll=function(ez){var eA;function eB(eD){if(eD!=null&&eD.$==0){eB(eD.$0);eB(eD.$1);}else if(eD!=null&&eD.$==1)eC(eD.$0);else if(eD!=null&&eD.$==2)eB(eD.$0.Current);else if(eD!=null&&eD.$==6)T.iter(eC,eD.$0.Holes);}function eC(eD){eA.push(eD);eB(eD.Children);}eA=[];eB(ez);return{$:0,$0:new b5.New$2(eA)};};eb.Filter=function(ez,eA){return{$:0,$0:en.Filter(ez,eA.$0)};};eb.Except=function(ez,eA){return{$:0,$0:en.Except(ez.$0,eA.$0)};};eb.ToArray=function(ez){return en.ToArray(ez.$0);};eb.Intersect=function(ez,eA){return{$:0,$0:en.Intersect(ez.$0,eA.$0)};};ec.UseAnimations=function(){ei.$cctor();return ei.UseAnimations;};ec.Actions=function(ez){return ec.ConcatActions(T.choose(function(eA){return eA.$==1?{$:1,$0:eA.$0}:null;},ej.ToArray(ez.$0)));};ec.Finalize=function(ez){T.iter(function(eA){if(eA.$==0)eA.$0();},ej.ToArray(ez.$0));};ec.ConcatActions=function(ez){var eA,eB,eC,eD;eA=cT.ofSeqNonCopying(ez);eB=T.length(eA);return eB===0?ec.Const():eB===1?T.get(eA,0):(eC=bc.max(bc.map(function(eE){return eE.Duration;},eA)),(eD=T.map(function(eE){return ec.Prolong(eC,eE);},eA),ec.Def(eC,function(eE){T.iter(function(eF){eF.Compute(eE);},eD);})));};ec.List=function(ez){return ez.$0;};ec.Const=function(ez){return ec.Def(0,function(){return ez;});};ec.Def=function(ez,eA){return{Compute:eA,Duration:ez};};ec.Prolong=function(ez,eA){var eB,eC,eD;eB=eA.Compute;eC=eA.Duration;eD=r.Create(function(){return eA.Compute(eA.Duration);});return{Compute:function(eE){return eE>=eC?eD.f():eB(eE);},Duration:ez};};ed.$cctor=function(){ed.$cctor=a.ignore;ed.BatchUpdatesEnabled=true;};ee.IsUpper=function(ez){return ez>="A"&&ez<="Z";};ee.Parse=function(ez){return ez.length===1?ez:o.FailWith("String must be exactly one character long.");};ee.IsWhiteSpace=function(ez){return ez.match(new a.RegExp("\\s"))!==null;};ef=f.FormatException=er.Class({},c_,ef);ef.New$1=er.Ctor(function(ez){this.message=ez;cQ.setPrototypeOf(this,ef.prototype);},ef);dC.New=function(ez,eA){return{Parse:ez,Segment:eA};};eg.read=function(ez){var eA;eA=[];return function(eB){var eC;while(true){eC=eg.readEscapedFromChars(eB);if(eC[0]===-2)return null;else if(eC[0]===-1)return{$:1,$0:(function(eD){return function(eE){return bj.concat(eD,eE);};}(""))(eA)};else{eA.push(ey.fromCharCode(eC[0]));eB=eC[1];}}}(bB.ofSeq(bc.map(function(eB){return eB.charCodeAt();},ez)));};eg.write=function(ez){return bj.concat("",bc.mapi(function(eA,eB){return eg.writeEscapedAsString(eA+1===ez.length,eB);},ez));};eg.readEscapedFromChars=function(ez){var eA,eB,eC,eD,eE,eF,eG,eH;function eI(){var eK,eL;return eA.$==1?(eK=eA.$1,(eL=eA.$0,(eA=eK,eL))):-1;}function eJ(eK){return eK>="0".charCodeAt()&&eK<="9".charCodeAt()?eK-"0".charCodeAt():eK>="a".charCodeAt()&&eK<="f".charCodeAt()?eK-"a".charCodeAt()+10:eK>="A".charCodeAt()&&eK<="F".charCodeAt()?eK-"A".charCodeAt()+10:-2;}eA=ez;return[(eB=eI(),eB==="~".charCodeAt()?(eC=eI(),eC==="u".charCodeAt()?(eD=eI(),(eE=eI(),(eF=eI(),(eG=eI(),eD>=0&&eE>=0&&eF>=0&&eG>=0?eg.op_PlusPlus(eg.op_PlusPlus(eg.op_PlusPlus(eJ(eD),eJ(eE)),eJ(eF)),eJ(eG)):-2)))):(eH=eI(),eC>=0&&eH>=0?eg.op_PlusPlus(eJ(eC),eJ(eH)):-2)):eB),eA];};eg.writeEscapedAsString=function(ez,eA){var eB;eB=eA.charCodeAt();return eg.isUnreserved(ez,eA)?eA:eB<256?"~"+bj.PadLeftWith(eB.toString(16),2,"0"):"~u"+bj.PadLeftWith(eB.toString(16),4,"0");};eg.op_PlusPlus=function(ez,eA){return(ez<<4)+eA;};eg.isUnreserved=function(ez,eA){return eA==="-"||(eA==="."?!ez:eA==="_"||(eA>="A"&&eA<="Z"||(eA>="a"&&eA<="z"||eA>="0"&&eA<="9")));};b2.TryParseSByte=function(ez,eA){return b2.TryParse(ez,-128,127,eA);};b2.TryParseByte=function(ez,eA){return b2.TryParse(ez,0,255,eA);};b2.TryParseInt16=function(ez,eA){return b2.TryParse(ez,-32768,32767,eA);};b2.TryParseUInt16=function(ez,eA){return b2.TryParse(ez,0,65535,eA);};b2.TryParseUInt32=function(ez,eA){return b2.TryParse(ez,0,4294967295,eA);};b2.TryParseUInt64=function(ez,eA){return b2.TryParse(ez,0,18446744073709551615,eA);};eh.isBlank=function(ez){return bj.forall(ee.IsWhiteSpace,ez);};ei.$cctor=function(){ei.$cctor=a.ignore;ei.CubicInOut=em.Custom(function(ez){var eA;eA=ez*ez;return 3*eA-2*(eA*ez);});ei.UseAnimations=true;};ej.Append=function(ez,eA){return ez.$==0?eA:eA.$==0?ez:{$:2,$0:ez,$1:eA};};ej.ToArray=function(ez){var eA;function eB(eC){if(eC.$==1)eA.push(eC.$0);else if(eC.$==2){eB(eC.$0);eB(eC.$1);}else if(eC.$==3)T.iter(function(eD){eA.push(eD);},eC.$0);}eA=[];eB(ez);return eA.slice(0);};ej.Concat=function(ez){var eA;eA=cT.ofSeqNonCopying(ez);return cT.TreeReduce(ej.Empty(),ej.Append,eA);};ej.Empty=function(){ep.$cctor();return ep.Empty;};ek=bg.LinkedListEnumerator=er.Class({MoveNext:function(){this.c=this.c.n;return!J.Equals(this.c,null);},Current:function(){return this.c.v;},Dispose:a.ignore},g,ek);ek.New=er.Ctor(function(ez){g.New.call(this);this.c=ez;},ek);el.WriteLink=function(ez,eA){var eB;eB=eA.get_IsEmpty()?"":"?"+el.WriteQuery(eA);return"/"+el.Concat(ez)+eB;};el.Concat=function(ez){var eA,eB;eA=[];eB=true;bB.iter(function(eC){if(!bj.IsNullOrEmpty(eC)){eB?eB=false:eA.push("/");eA.push(eC);}},ez);return bj.Join("",T.ofSeq(eA));};el.WriteQuery=function(ez){function eA(eB,eC){return eB+"="+eC;}return bj.concat("&",bc.map(function(eB){return eA(eB[0],eB[1]);},d4.ToSeq(ez)));};em=h.Easing=er.Class({},g,em);em.Custom=function(ez){return new em.New(ez);};em.New=er.Ctor(function(ez){g.New.call(this);this.transformTime=ez;},em);en.Filter=function(ez,eA){return new b5.New$2(T.filter(ez,en.ToArray(eA)));};en.Except=function(ez,eA){var eB;eB=new b5.New$2(en.ToArray(eA));eB.ExceptWith(en.ToArray(ez));return eB;};en.ToArray=function(ez){var eA;eA=T.create(ez.get_Count(),void 0);ez.CopyTo(eA);return eA;};en.Intersect=function(ez,eA){var eB;eB=new b5.New$2(en.ToArray(ez));eB.IntersectWith(en.ToArray(eA));return eB;};eo.Children=function(ez,eA){var eB,eC,eD;if(eA!=null&&eA.$==1){eD=[];eB=eA.$0[0].nextSibling;while(eB!==eA.$0[1]){eD.push(eB);eB=eB.nextSibling;}return{$:0,$0:eD};}else return{$:0,$0:T.init(ez.childNodes.length,(eC=ez.childNodes,function(eE){return eC[eE];}))};};eo.Except=function(ez,eA){var eB;eB=ez.$0;return{$:0,$0:T.filter(function(eC){return T.forall(function(eD){return!(eC===eD);},eB);},eA.$0)};};eo.Iter=function(ez,eA){T.iter(ez,eA.$0);};eo.DocChildren=function(ez){var eA;function eB(eC){if(eC!=null&&eC.$==2)eB(eC.$0.Current);else if(eC!=null&&eC.$==1)eA.push(eC.$0.El);else if(eC==null);else if(eC!=null&&eC.$==5)eA.push(eC.$0);else if(eC!=null&&eC.$==4)eA.push(eC.$0.Text);else if(eC!=null&&eC.$==6)T.iter(function(eD){if(eD==null||eD.constructor===cQ)eB(eD);else eA.push(eD);},eC.$0.Els);else{eB(eC.$0);eB(eC.$1);}}eA=[];eB(ez.Children);return{$:0,$0:cT.ofSeqNonCopying(eA)};};ep.$cctor=function(){ep.$cctor=a.ignore;ep.Empty={$:0};};er.OnLoad(function(){e.mainProgram();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
//# sourceMappingURL=ProzperServer.min.map
