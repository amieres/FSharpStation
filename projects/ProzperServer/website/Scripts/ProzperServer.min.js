function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
var JSON;JSON||(JSON={}),function(){"use strict";function i(n){return n<10?"0"+n:n}function f(n){return o.lastIndex=0,o.test(n)?'"'+n.replace(o,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function r(i,e){var s,l,h,a,v=n,c,o=e[i];o&&typeof o=="object"&&typeof o.toJSON=="function"&&(o=o.toJSON(i));typeof t=="function"&&(o=t.call(e,i,o));switch(typeof o){case"string":return f(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(n+=u,c=[],Object.prototype.toString.apply(o)==="[object Array]"){for(a=o.length,s=0;s<a;s+=1)c[s]=r(s,o)||"null";return h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+v+"]":"["+c.join(",")+"]",n=v,h}if(t&&typeof t=="object")for(a=t.length,s=0;s<a;s+=1)typeof t[s]=="string"&&(l=t[s],h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));else for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));return h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+v+"}":"{"+c.join(",")+"}",n=v,h}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,u,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(n="",u="",typeof e=="number")for(o=0;o<e;o+=1)u+=" ";else typeof e=="string"&&(u=e);if(t=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return r("",{"":i})});typeof JSON.parse!="function"&&(JSON.parse=function(n,t){function r(n,i){var f,e,u=n[i];if(u&&typeof u=="object")for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&(e=r(u,f),e!==undefined?u[f]=e:delete u[f]);return t.call(n,i,u)}var i;if(n=String(n),e.lastIndex=0,e.test(n)&&(n=n.replace(e,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?r({"":i},""):i;throw new SyntaxError("JSON.parse");})}();
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er;a=self;b=a.FsRoot=a.FsRoot||{};c=b.ProzperServer=b.ProzperServer||{};d=c.ClientSide=c.ClientSide||{};e=d.MainProgram=d.MainProgram||{};f=a.WebSharper=a.WebSharper||{};g=f.Obj=f.Obj||{};h=f.UI=f.UI||{};i=h.Var$1=h.Var$1||{};j=b.LibraryJS=b.LibraryJS||{};k=j.AppFramework=j.AppFramework||{};l=k.PlugIn=k.PlugIn||{};m=d.ModeloUI=d.ModeloUI||{};n=m.Aliado=m.Aliado||{};o=f.Operators=f.Operators||{};p=h.View=h.View||{};q=h.Var=h.Var||{};r=f.Lazy=f.Lazy||{};s=m.RenderAliados=m.RenderAliados||{};t=m.RenderAliado=m.RenderAliado||{};u=m.FormaRegistro=m.FormaRegistro||{};v=m.FormaDatos=m.FormaDatos||{};w=m.FormaContactos=m.FormaContactos||{};x=m.FormaFormasPago=m.FormaFormasPago||{};y=m.ReporteConsolidado=m.ReporteConsolidado||{};z=m.TablaPagos=m.TablaPagos||{};A=m.ListaDocs=m.ListaDocs||{};B=m.FormaAutorizacion=m.FormaAutorizacion||{};C=m.FormaContrato=m.FormaContrato||{};D=m.Transacciones=m.Transacciones||{};E=a.EventTarget;F=a.Node;G=f.JavaScript=f.JavaScript||{};H=G.JS=G.JS||{};I=f.Unchecked=f.Unchecked||{};J=j.LayoutEngineModule=j.LayoutEngineModule||{};K=f.Option=f.Option||{};L=c.TypesV0=c.TypesV0||{};M=L.Aliado=L.Aliado||{};N=c.Aliado=c.Aliado||{};O=h.Templating=h.Templating||{};P=O.Runtime=O.Runtime||{};Q=P.Server=P.Server||{};R=Q.TemplateInstance=Q.TemplateInstance||{};S=f.Arrays=f.Arrays||{};T=Q.ProviderBuilder=Q.ProviderBuilder||{};U=Q.Handler=Q.Handler||{};V=a.ProzperServer_Templates=a.ProzperServer_Templates||{};W=a.ProzperServer_GeneratedPrintf=a.ProzperServer_GeneratedPrintf||{};X=a.ProzperServer_Router=a.ProzperServer_Router||{};Y=a.GeneratedPrintf=a.GeneratedPrintf||{};Z=h.Doc=h.Doc||{};_0=m.Rpc=m.Rpc||{};_1=L.IdAliado=L.IdAliado||{};_2=L.Modelo=L.Modelo||{};_3=h.ConcreteVar=h.ConcreteVar||{};_4=h.Snap=h.Snap||{};_5=a.StartupCode$ProzperServer$ProzperServer=a.StartupCode$ProzperServer$ProzperServer||{};_6=h.ListModel=h.ListModel||{};_7=k.PlugInVar=k.PlugInVar||{};_8=k.PlugInView=k.PlugInView||{};_9=k.PlugInDoc=k.PlugInDoc||{};_=G.Pervasives=G.Pervasives||{};$=f.LazyExtensionsProxy=f.LazyExtensionsProxy||{};ba=$.LazyRecord=$.LazyRecord||{};bb=f.Seq=f.Seq||{};bc=b.Library=b.Library||{};bd=bc.SortWith=bc.SortWith||{};be=N.Buscar=N.Buscar||{};bf=f.Collections=f.Collections||{};bg=bf.FSharpSet=bf.FSharpSet||{};bh=bf.Set=bf.Set||{};bi=f.Strings=f.Strings||{};bj=L.CorreoElectronico=L.CorreoElectronico||{};bk=m.DatosPersonales=m.DatosPersonales||{};bl=m.CorreoElectronico=m.CorreoElectronico||{};bm=m.Telefono=m.Telefono||{};bn=m.Direccion=m.Direccion||{};bo=bc.Monads=bc.Monads||{};bp=bo.AsyncResultBuilder=bo.AsyncResultBuilder||{};bq=m.Refresh=m.Refresh||{};br=a.System=a.System||{};bs=br.Guid=br.Guid||{};bt=y.Fila=y.Fila||{};bu=m.VariousUI=m.VariousUI||{};bv=L.StatusAliado=L.StatusAliado||{};bw=f.Utils=f.Utils||{};bx=j.Date=j.Date||{};by=f.List=f.List||{};bz=L.CuentaBancaria=L.CuentaBancaria||{};bA=L.RoutingNumber=L.RoutingNumber||{};bB=L.NumeroCuenta=L.NumeroCuenta||{};bC=L.FormaPago=L.FormaPago||{};bD=bo.Result=bo.Result||{};bE=m.FormaFirma=m.FormaFirma||{};bF=L.PremisasCalculo=L.PremisasCalculo||{};bG=k.PlugInAction=k.PlugInAction||{};bH=d.Msal=d.Msal||{};bI=bo.Extensions=bo.Extensions||{};bJ=a.WindowOrWorkerGlobalScope;bK=j.LayoutEngine=j.LayoutEngine||{};bL=a.StartupCode$LayoutEngine$LayoutEngine=a.StartupCode$LayoutEngine$LayoutEngine||{};bM=L.IdForAuthorize=L.IdForAuthorize||{};bN=L.DatosPersonales=L.DatosPersonales||{};bO=L.DiaPago=L.DiaPago||{};bP=L.TipoAliado=L.TipoAliado||{};bQ=f.Numeric=f.Numeric||{};bR=bf.List=bf.List||{};bS=bf.Dictionary=bf.Dictionary||{};bT=bf.HashSet=bf.HashSet||{};bU=P.Client=P.Client||{};bV=h.Abbrev=h.Abbrev||{};bW=bV.Async=bV.Async||{};bX=bV.Fresh=bV.Fresh||{};bY=bD.Builder=bD.Builder||{};bZ=bD.BuilderP=bD.BuilderP||{};b0=bo.Eff=bo.Eff||{};b1=b0.EffBuilder=b0.EffBuilder||{};b2=bo.AsyncResultBuilderP=bo.AsyncResultBuilderP||{};b3=bc.String=bc.String||{};b4=f.Slice=f.Slice||{};b5=bc.ParseO=bc.ParseO||{};b6=bc.Serializer=bc.Serializer||{};b7=j.Msal=j.Msal||{};b8=b7.Policy=b7.Policy||{};b9=L.Telefono=L.Telefono||{};b_=L.TipoTelefono=L.TipoTelefono||{};b$=L.Direccion=L.Direccion||{};ca=L.TipoDireccion=L.TipoDireccion||{};cb=L.Estado=L.Estado||{};cc=L.Pais=L.Pais||{};cd=L.ZonaPostal=L.ZonaPostal||{};ce=L.TarjetaCredito=L.TarjetaCredito||{};cf=L.Expiracion=L.Expiracion||{};cg=L.NumeroTarjeta=L.NumeroTarjeta||{};ch=L.TipoTarjeta=L.TipoTarjeta||{};ci=L.TipoCuenta=L.TipoCuenta||{};cj=L.Genero=L.Genero||{};ck=f.Remoting=f.Remoting||{};cl=b7.Configuration=b7.Configuration||{};cm=b7.AuthOptions=b7.AuthOptions||{};cn=f.Control=f.Control||{};co=cn.MailboxProcessor=cn.MailboxProcessor||{};cp=bc.Mailbox=bc.Mailbox||{};cq=m.EndPoint=m.EndPoint||{};cr=h.Router=h.Router||{};cs=h.ViewBuilder=h.ViewBuilder||{};ct=c.Remoting=c.Remoting||{};cu=c.Rpc=c.Rpc||{};cv=L.IdPayment=L.IdPayment||{};cw=k.PlugInQuery=k.PlugInQuery||{};cx=bf.FSharpMap=bf.FSharpMap||{};cy=f.Enumerator=f.Enumerator||{};cz=cy.T=cy.T||{};cA=bf.BalancedTree=bf.BalancedTree||{};cB=by.T=by.T||{};cC=bo.AsyncResult=bo.AsyncResult||{};cD=ck.AjaxRemotingProvider=ck.AjaxRemotingProvider||{};cE=bc.Array=bc.Array||{};cF=h.HtmlModule=h.HtmlModule||{};cG=cF.attr=cF.attr||{};cH=m.CuentaBancaria=m.CuentaBancaria||{};cI=m.TarjetaCredito=m.TarjetaCredito||{};cJ=a.Object;cK=h.FromView=h.FromView||{};cL=h.Array=h.Array||{};cM=f.Concurrency=f.Concurrency||{};cN=a.Blob;cO=h.AttrModule=h.AttrModule||{};cP=a.LayoutEngine_Templates=a.LayoutEngine_Templates||{};cQ=a.LayoutEngine_GeneratedPrintf=a.LayoutEngine_GeneratedPrintf||{};cR=j.WebComponent=j.WebComponent||{};cS=cR.WcTabStrip=cR.WcTabStrip||{};cT=cS.WcTabStripT=cS.WcTabStripT||{};cU=cR.WcSplitter=cR.WcSplitter||{};cV=bf.DictionaryUtil=bf.DictionaryUtil||{};cW=h.AttrProxy=h.AttrProxy||{};cX=h.CheckedInput=h.CheckedInput||{};cY=h.Client=h.Client||{};cZ=cY.Templates=cY.Templates||{};c0=f.DateUtil=f.DateUtil||{};c1=a.StartupCode$WebSharper_Main$Remoting=a.StartupCode$WebSharper_Main$Remoting||{};c2=j.Pojo=j.Pojo||{};c3=a.Error;c4=f.TimeoutException=f.TimeoutException||{};c5=G.Promise=G.Promise||{};c6=f.Sitelets=f.Sitelets||{};c7=c6.RouterOperators=c6.RouterOperators||{};c8=c6.RouterModule=c6.RouterModule||{};c9=c6.Route=c6.Route||{};c_=ct.CustomXhrProvider=ct.CustomXhrProvider||{};c$=bf.MapUtil=bf.MapUtil||{};da=cA.Tree=cA.Tree||{};db=L.IdAddress=L.IdAddress||{};dc=h.Docs=h.Docs||{};dd=cM.AsyncBody=cM.AsyncBody||{};de=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};df=cM.CT=cM.CT||{};dg=L.ConceptoPago=L.ConceptoPago||{};dh=J.Layout=J.Layout||{};di=h.Attrs=h.Attrs||{};dj=h.DomUtility=h.DomUtility||{};dk=cU.WcSplitterT=cU.WcSplitterT||{};dl=h.DocElemNode=h.DocElemNode||{};dm=a.CharacterData;dn=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};_do=ck.XhrProvider=ck.XhrProvider||{};dp=cn.FSharpEvent=cn.FSharpEvent||{};dq=bf.LinkedList=bf.LinkedList||{};dr=b7.AuthenticationParameters=b7.AuthenticationParameters||{};ds=b7.Account=b7.Account||{};dt=c6.Router=c6.Router||{};du=c6.List=c6.List||{};dv=bf.Pair=bf.Pair||{};dw=f.Result=f.Result||{};dx=cM.Scheduler=cM.Scheduler||{};dy=f.CancellationTokenSource=f.CancellationTokenSource||{};dz=J.Measures=J.Measures||{};dA=j.Hoverable=j.Hoverable||{};dB=dA.Hoverable=dA.Hoverable||{};dC=h.Storage=h.Storage||{};dD=a.Event;dE=a.UIEvent;dF=j.ResizeObserver=j.ResizeObserver||{};dG=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};dH=h.Elt=h.Elt||{};dI=cY.Attrs=cY.Attrs||{};dJ=dI.Dyn=dI.Dyn||{};dK=cZ.Prepare=cZ.Prepare||{};dL=h.An=h.An||{};dM=cY.Settings=cY.Settings||{};dN=bV.Mailbox=bV.Mailbox||{};dO=bf.HashSetUtil=bf.HashSetUtil||{};dP=cn.Event=cn.Event||{};dQ=dP.Event=dP.Event||{};dR=G.NonStandardPromiseRejectionException=G.NonStandardPromiseRejectionException||{};dS=a.StartupCode$WebSharper_Sitelets$Router=a.StartupCode$WebSharper_Sitelets$Router||{};dT=bf.Map=bf.Map||{};dU=f.OperationCanceledException=f.OperationCanceledException||{};dV=f.Queue=f.Queue||{};dW=h.DynamicAttrNode=h.DynamicAttrNode||{};dX=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};dY=f.AggregateException=f.AggregateException||{};dZ=dC.ArrayStorage=dC.ArrayStorage||{};d0=bf.KeyCollection=bf.KeyCollection||{};d1=h.Updates=h.Updates||{};d2=cY.Docs=cY.Docs||{};d3=d2.RunState=d2.RunState||{};d4=d2.NodeSet=d2.NodeSet||{};d5=h.Anims=h.Anims||{};d6=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};d7=f.Char=f.Char||{};d8=f.Json=f.Json||{};d9=f.FormatException=f.FormatException||{};d_=c6.StringEncoding=c6.StringEncoding||{};d$=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};ea=h.String=h.String||{};eb=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};ec=h.AppendList=h.AppendList||{};ed=bf.LinkedListEnumerator=bf.LinkedListEnumerator||{};ee=c6.PathUtil=c6.PathUtil||{};ef=h.Easing=h.Easing||{};eg=bV.HashSet=bV.HashSet||{};eh=d2.DomNodes=d2.DomNodes||{};ei=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};ej=a.IntelliFactory;ek=ej&&ej.Runtime;el=a.Math;em=a.jQuery;en=a.console;eo=a.Date;ep=a.JSON;eq=a.Reflect;er=a.String;e.mainProgram=function(){var es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK;es=i.Create$1(e.appName());et=p.Map(function(eL){return e.mesToString(eL.periodoActual);},m.modeloV().get_View());eu=p.Map(function(eL){return a.String(eL.anoActual);},m.modeloV().get_View());ev=p.Map(function(eL){return N.nombre2(eL.datosPersonales);},m.aliadoW());ew=p.Map(function(eL){return eL.id.get_Id();},m.aliadoW());ex=p.Map(function(eL){return a.String(eL.status);},m.aliadoW());ey=p.Map(function(eL){return a.String(eL.comision);},m.aliadoW());ez=p.Map(function(eL){return a.String(eL.nReferidos);},m.aliadoW());k.addPlugIn(l.New(e.appName(),[k.newVar("title",es),k.newVar("contentVar",m.contentVar()),k.newVar("invitaciones",m.invitacionesV()),k.newVar("influencer",e.influencerV())],[k.newViw("mesActual",et),k.newViw("anoActual",eu),k.newViw("aliado",ev),k.newViw("idAliado",ew),k.newViw("status",ex),k.newViw("comision",ey),k.newViw("datos",ez),k.newViw("emailsInvitar",m.emailsInvitarW()),k.newViw("invitacionesDisabled",m.invitacionesDisabledW()),k.newViw("VideoW",p.Map(function(eL){return eL.$==5?eL.$0:"";},m.endPointV().get_View())),k.newViw("influencerClassW",e.influencerClassW())],[k.newDoc("Aliados",r.Create(s.aliados)),k.newDoc("Aliado",r.Create(t.aliado)),k.newDoc("Calculo",r.Create(t.calculo)),k.newDoc("FormaRegistro",r.Create(u.formaDoc)),k.newDoc("FormaDatos",r.Create(v.formaDoc)),k.newDoc("FormaContactos",r.Create(w.formaDoc)),k.newDoc("FormaFormasPago",r.Create(x.formaDoc)),k.newDoc("contentDoc",r.Create(e.getContentDoc)),k.newDoc("ReporteConsolidado",r.Create(y.consolidado)),k.newDoc("TablaPagos",r.Create(z.comisiones)),k.newDoc("ListaDocs",r.Create(A.listaDocs)),k.newDoc("FormaAutorizacion",r.Create(B.formaAutorizacion)),k.newDoc("FormaContrato",r.Create(C.formaContrato)),k.newDoc("Transacciones",r.Create(D.transacciones))],[k.newAct("Logout",function(){e.logout();}),k.newAct("LogIn",function(){e.login();}),k.newAct("enviarInvitaciones",function(){e.enviarCorreosInvitacion();}),k.newAct("gotoInfluencer",function(){e.gotoInfluencer();})],[]));J.addLayout((eA=(eB=self.document.getElementById("GlobalLayout"),I.Equals(eB,null)?"\r\n                            menuEditor layout\r\n                            |          main\r\n            \r\n                            main div \"\"\r\n                            :                 template  header     \"id=header\"           brand  brandV   logout \"@{Prozper.Logout}\" afiliado \"@{Prozper.aliado}\"\r\n                            :                 Doc       Prozper.contentDoc\r\n                            :                 template  sidedrawer \"id=sidedrawer\"       brand  brandV   idaliado \"@{Prozper.idAliado}\" \r\n                            :                 template  footer     \"id=footer\"           brand  brandV   madeby \"CIPHER Bsc\" madebylink \"www.cipherbsc.com\"\r\n             \r\n                            mainContent          template  content    \"id=content-wrapper\"  content aliados                  fecha \"@{Prozper.mesActual} @{Prozper.anoActual}\" idaliado \"@{Prozper.aliado}\"\r\n                            cntFormaRegistro     template  content    \"id=content-wrapper\"  content Prozper.FormaRegistro    titulo \"Referido por: @{Prozper.aliado}\"  \r\n                            cntFormaDatos        template  content    \"id=content-wrapper\"  content Prozper.FormaDatos       titulo \" \"\r\n                            cntFormaContactos    template  content    \"id=content-wrapper\"  content Prozper.FormaContactos   titulo \" \" \r\n                            cntFormaFormasPago   template  content    \"id=content-wrapper\"  content Prozper.FormaFormasPago  titulo \" \" \r\n                            cntFormaCuentas      template  content    \"id=content-wrapper\"  content ProzperLyt.FormaCuentas  titulo \" \"  \r\n                            cntFormaDocumentos   template  content    \"id=content-wrapper\"  content Prozper.FormaDocumentos  titulo \" \"  \r\n                            cntFormaNoUser       template  content    \"id=content-wrapper\"  content botonLogin               titulo \" \"  \r\n                            cntFormaInvitaciones template  content    \"id=content-wrapper\"  content invitaciones             titulo \" \"  \r\n            \r\n                            aliados          div       \"class=row\"\r\n                            :                div       \"class=mui-col-md-6\"\r\n                            ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" Prozper.Aliados\r\n                            :                div       \"class=mui-col-md-6\"\r\n                            ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" Aliado Comisiones\r\n                            brandV           Var       \"Prozper\"\r\n            \r\n                            botonLogin       div       \"class=row\"\r\n                            :                div       \"class=mui-col-md-6\"\r\n                            ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" \r\n                            :::              button    Prozper.LogIn \"class=mui-btn mui-btn--primary\" \"Ingresar al Sistema\"\r\n            \r\n                            invitaciones     div       \"class=row\"\r\n                            :                div       \"class=mui-col-md-6 mui-col-md-offset-1\"\r\n                            ::               div       \"class=mui-panel mui--z5 scrollbar; max-height:550px ; overflow:auto\" \r\n                            :::              h1        \"\" \"Enviar Invitaciones\"\r\n                            :::              textarea  Prozper.invitaciones  \"width:100% ; height:30rem; placeholder=Copie aqui las direcciones de correo electronico\" \r\n                            :                div       \"white-space: pre-wrap\" \"@{Prozper.emailsInvitar}\"\r\n                            :                button    Prozper.enviarInvitaciones \"class=mui-btn mui-btn--raised mui-btn--primary;@{Prozper.invitacionesDisabled}\" \"Enviar\"\r\n            \r\n                            Aliado           div       \"class=mui-col-md-8\"\r\n                            :                Doc Prozper.Aliado\r\n            \r\n                            Comisiones       template    tablacomisiones \"class=mui-col-md-3\"  tbody filasComisiones\r\n                            filasComisiones  concat      \"\"\r\n                            :                template    filacomision    \"\"  periodo \"Ene 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Feb 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Mar 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Abr 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"May 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Jun 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Jul 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Ago 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Sep 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Oct 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Nov 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Dec 2018\" comision \"$1,000\"\r\n                    \r\n                            menuEditorx      horizontal  65          menuLogo                  editorMessages\r\n                            double           horizontal  0-50-100    AppFramework.AppFwkClient menuEditor\r\n                            menuLogo         vertical    350         logo                      menu\r\n                            logo             span       \"margin:0;   color:gray; font-size: 55px; font-weight:530\" \"StackOverflow\"\r\n                            editorMessages   horizontal  10-83-100   editorButtons             messages\r\n                            messages         vertical    0-50-100    messagesLeft              messagesRight\r\n                            editorButtons    vertical    150 buttons snippetsSnippet \r\n                            snippetsSnippet  vertical    0-20-100    snippets                  editorProperties\r\n                            snippets         horizontal  20          \"@{FSharpStation.CurrentPath}\" tblDimensions2\r\n                            editorProperties vertical    0-100-100   snippet                   properties\r\n                            properties       div        \"\"           FSharpStation.Properties\r\n                            snippet          horizontal  35          Name                      FSharpStation.editor\r\n                            menu             span       \"display: grid; grid-template-columns: 30% 20% 20% 10%; grid-gap: 25px; margin:5px; grid-template-rows:50px\" inpServer btnLoad btnSaveAs\r\n                             \r\n                            severalTabs      wcomp-tabstrip  \"\" \r\n                            :                div \"tabname=Dimensions\" \r\n                            ::               div \"\" btnAddDimension RuleEditor.Dimensions\r\n                            :                div \"tabname=Cubes\"\r\n                            :                div \"tabname=Global Definitions\" RuleEditor.globalDefs\r\n                    \r\n                            btnSaveAs        button RuleEditor.SaveAs         \"class=btn @{RuleEditor.SaveNeeded}\" \"Save as...    \"\r\n                            btnAddDimension  button RuleEditor.AddDimension      \"\"                  \"new dim...\"\r\n                            btnDeleteSnippet button FSharpStation.RemoveSnippet  \"\"                  \"Delete Snippet\"\r\n                            btnIndentIn      button FSharpStation.IndentIn       \"\"                  \"Indent In  >> \"\r\n                            btnIndentOut     button FSharpStation.IndentOut      \"\"                  \"Indent Out << \"\r\n                            btnRunFS         button FSharpStation.RunFS          \"\"                  \"Run F#        \"\r\n                            btnAbortFsi      button FSharpStation.AbortFsi       \"\"                  \"Abort Fsi     \"\r\n                    \r\n                            messagesLeft     wcomp-tabstrip                      \"\"                  Output FsCode\r\n                            messagesRight    wcomp-tabstrip                      \"\"                  Parser\r\n                    \r\n                            buttons          div \"overflow: hidden; display: grid; grid-template-columns: 100%; grid-template-rows: repeat(15, calc(100% / 15)); bxackground-color: #eee; box-sizing: border-box; padding : 5px; grid-gap: 5px; margin-right: 21px\"\r\n                            :                button RuleEditor.AddCalculation    \"\"                 \"Add Calculation\"\r\n                            :                button RuleEditor.AddTotal          \"\"                 \"Add Total\"\r\n                            :                Doc       none x\r\n                            :                button RuleEditor.IndentIn          \"\"                  \"Indent In  >> \"\r\n                            :                button RuleEditor.IndentOut         \"\"                  \"Indent Out << \"\r\n                    \r\n                            Output           textarea  RuleEditor.Output         \"tabname=Output ; placeholder=Output messages ; spellcheck=false\" \r\n                            FsCode           textarea  RuleEditor.CodeFS         \"tabname=F# Code; placeholder=F# Code         ; spellcheck=false\" \r\n                            Parser           textarea  RuleEditor.Parser         \"tabname=Parser ; placeholder=Parser messages; dblclick=@{FSharpStation.JumpTo} ; spellcheck=false\" \r\n                            Name             Doc       InputLabel                \"\"     \"Name:\"        FSharpStation.SnippetName\r\n                            inpServer        Doc       InputLabel                \"\"     \"Server:\"      RuleEditor.Server\r\n                            btnLoad          Doc       InputFile                 \"\"     \"Load File...\" RuleEditor.LoadFile  FileName\r\n                            btnImport        Doc       InputFile                 \"\"     \"Import...\"    FSharpStation.Import    \"\"\r\n                            FileName         div                                 \"class=form-control\"  RuleEditor.fileName\r\n            \r\n                       ":eB.textContent),J.newLyt(e.layoutName(),eA)));eC=(eD=null,(eE=e.layoutName(),eD==null?eE:eD.$0));k.mainDocV().Set(eC);Z.BindView(function(eL){var eM,eN,eO;return I.Equals(eL.id,N.empty().id)?(eM=T.Make(),(eN=U.CompleteHoles(eM.k,eM.h,[]),(eO=new R.New(eN[1],V.opcionesadministrador(eN[0])),(eM.i=eO,eO)))).get_Doc():Z.get_Empty();},m.aliadoW());eF=(eG=(eH=e.getDocView(e.layoutName(),"headerCenter"),(eI=e.getMenuDoc(),(eJ=e.getContentDoc(),T.Make().WithHole({$:0,$0:"maincontent",$1:eJ})).WithHole({$:0,$0:"menu",$1:eI})).WithHole({$:0,$0:"headercenter",$1:eH})),eG.WithHole(U.EventQ2(eG.k,"logout",function(){return eG.i;},function(){e.logout();}))).WithHole({$:2,$0:"cortina",$1:p.Map(function(eL){return eL>0?"mui-overlay":"not-mui-overlay";},_0.llamadas().get_View())});eK=U.CompleteHoles(eF.k,eF.h,[]);eF.i=new R.New(eK[1],cZ.RunFullDocTemplate(eK[0]));p.Sink(function(eL){self.document.title=eL;},es.get_View());};e.appName=function(){_5.$cctor();return _5.appName;};e.influencerV=function(){_5.$cctor();return _5.influencerV;};e.influencerClassW=function(){_5.$cctor();return _5.influencerClassW;};e.getContentDoc=function(){return Z.EmbedView(p.Map(function(es){return e.getDoc(e.appName(),es);},m.contentVar().get_View()));};e.logout=function(){bH.logout();};e.login=function(){bH.logout();};e.enviarCorreosInvitacion=function(){var es;_0.iterA((es=bo.asyncResult(),es.Run(es.Delay(function(){return bI["AsyncResultBuilder.Bind"](es,p.GetAsync(m.emailsInvitarW()),function(et){return bI["AsyncResultBuilder.Bind"](es,p.GetAsync(p.Map(function(eu){return eu.id.get_Id();},m.aliadoW())),function(){var eu;eu=S.filter(function(ev){return bi.Trim(ev)!=="";},bi.SplitChars(et,["\n"],0));return es.Bind$1(_0.enviarCorreosInvitacion("Invitacion a Prozper",eu),function(){var ev;ev=S.length(eu);return ev===0?(a.alert("Ningun correo valido ha sido encontrado"),es.Zero()):ev===1?(a.alert("Invitacion ha sido enviada"),es.Zero()):(a.alert("Invitaciones han sido enviadas"),es.Zero());});});});}))));};e.gotoInfluencer=function(){var es;cM.Start((es=null,cM.Delay(function(){return cM.Bind(_0.obtenerIdInfluyente(e.influencerV().Get()),function(et){return et.$==0?(self.location.href="/Register/"+e.influencerV().Get(),cM.Zero()):(self.alert("Código inválido:"+e.influencerV().Get()),cM.Zero());});})),null);};e.layoutName=function(){_5.$cctor();return _5.layoutName;};e.getMenuDoc=function(){return Z.EmbedView(p.Map2(function(es,et){var eu;eu=es!=null&&es.$==1?I.Equals(et.id,N.empty().id)?"ProzperLyt.mnuAdministrador":"ProzperLyt.mnuUsuario":"ProzperLyt.mnuNoUsuario";return e.getDoc(e.appName(),eu);},bH.userO().get_View(),m.aliadoW()));};e.getDocView=function(es,et){return J.turnToView(function(){return e.getDoc(es,et);});};e.mesToString=function(es){return es===1?"Ene":es===2?"Feb":es===3?"Mar":es===4?"Abr":es===5?"May":es===6?"Jun":es===7?"Jul":es===8?"Ago":es===9?"Sep":es===10?"Oct":es===11?"Nov":es===12?"Dic":"---";};e.getDoc=function(es,et){var eu,ev,ew;eu=(ev=(ew=((J.splitName())(es))(et),k.tryGetDoc(ew[0],ew[1])),ev==null?null:{$:1,$0:J.getDocFinal(cB.Empty,ev.$0)});return eu==null?J.errDoc((function(ex){return function(ey){return ex("Doc not found "+bw.toSafe(ey));};}(a.id))(et)):eu.$0;};g=f.Obj=ek.Class({Equals:function(es){return this===es;},GetHashCode:function(){return -1;}},null,g);g.New=ek.Ctor(function(){},g);i=h.Var$1=ek.Class({},g,i);i.Create$1=function(es){return new _3.New(false,_4.New({$:2,$0:es,$1:[]}),es);};i.Lens=function(es,et,eu){var ev,ew,ex;ev=bX.Id();ew=p.Map(et,es.get_View());ex=new q({Get:function(){return et(es.Get());},Set:function(ey){return es.Update(function(ez){return eu(ez,ey);});},SetFinal:function(ey){return this.Set(ey);},Update:function(ey){return es.Update(function(ez){return eu(ez,ey(et(ez)));});},UpdateMaybe:function(ey){return es.UpdateMaybe(function(ez){var eA;eA=ey(et(ez));return eA==null?null:{$:1,$0:eu(ez,eA.$0)};});},get_View:function(){return ew;},get_Id:function(){return ev;}});q.New.call(ex);return ex;};i.Set=function(es,et){es.Set(et);};k.addPlugIn=function(es){k.plugIns().Append(es);k.mainDocV().Set(k.mainDocV().Get());};k.newVar=function(es,et){return _7.New(es,et);};k.newViw=function(es,et){return _8.New(es,et);};k.newDoc=function(es,et){return _9.New(es,{$:0,$0:et});};k.newAct=function(es,et){return bG.New(es,{$:0,$0:et},p.Const(true));};k.mainDocV=function(){bL.$cctor();return bL.mainDocV;};k.plugIns=function(){bL.$cctor();return bL.plugIns;};k.newDocF=function(es,et){return _9.New(es,et);};k.tryGetDoc=function(es,et){var eu;eu=k.tryGetPlugIn(es);return eu==null?null:S.tryFind(function(ev){return ev.docName===et;},eu.$0.plgDocs);};k.tryGetAct=function(es,et){var eu;eu=k.tryGetPlugIn(es);return eu==null?null:S.tryFind(function(ev){return ev.actName===et;},eu.$0.plgActions);};k.callFunction=function(es,et,eu){if(eu.$==1)eu.$0(es);else if(eu.$==2)(eu.$0(es))(et);else eu.$0();};k.tryGetVar=function(es,et){var eu;eu=k.tryGetPlugIn(es);return eu==null?null:S.tryFind(function(ev){return ev.varName===et;},eu.$0.plgVars);};k.selectionPlugInO=function(){bL.$cctor();return bL.selectionPlugInO;};k.defaultPlugIn=function(){bL.$cctor();return bL.defaultPlugIn;};k.currentPlugInW=function(){bL.$cctor();return bL.currentPlugInW;};k.renderPlugIns=function(){return Z.Flatten(k.plugIns().MapLens(function(es){var et,eu,ev,ew;return(et=(eu=T.Make().WithHole({$:1,$0:"name",$1:es}),eu.WithHole(U.EventQ2(eu.k,"select",function(){return eu.i;},function(){k.selectionPlugInO().Set({$:1,$0:es});}))).WithHole({$:2,$0:"selected",$1:p.Map(function(ex){return I.Equals(ex,{$:1,$0:es})?"selected":"";},k.selectionPlugInO().get_View())}),(ev=U.CompleteHoles(et.k,et.h,[]),(ew=new R.New(ev[1],cP.tile(ev[0])),(et.i=ew,ew)))).get_Doc();}));};k.renderVars=function(){function es(eu,ev){return[eu.plgName,ev.varName];}function et(eu,ev){var ew,ex,ey;return(ew=T.Make().WithHole({$:1,$0:"name",$1:ev.varName}).WithHole({$:8,$0:"value",$1:ev.varVar}),(ex=U.CompleteHoles(ew.k,ew.h,[["value",0]]),(ey=new R.New(ex[1],cP.namevalueinput(ex[0])),(ew.i=ey,ey)))).get_Doc();}return Z.ConvertBy(function(eu){return es(eu[0],eu[1]);},function(eu){return et(eu[0],eu[1]);},p.Map(function(eu){return bb.map(function(ev){return[eu,ev];},eu.plgVars);},k.currentPlugInW()));};k.renderViews=function(){function es(eu,ev){return[eu.plgName,ev.viwName];}function et(eu,ev){var ew,ex,ey;return(ew=T.Make().WithHole({$:1,$0:"name",$1:ev.viwName}).WithHole({$:2,$0:"value",$1:ev.viwView}),(ex=U.CompleteHoles(ew.k,ew.h,[]),(ey=new R.New(ex[1],cP.namevalue(ex[0])),(ew.i=ey,ey)))).get_Doc();}return Z.ConvertBy(function(eu){return es(eu[0],eu[1]);},function(eu){return et(eu[0],eu[1]);},p.Map(function(eu){return bb.map(function(ev){return[eu,ev];},eu.plgViews);},k.currentPlugInW()));};k.renderDocs=function(){function es(eu,ev){return[eu.plgName,ev.docName];}function et(eu,ev){var ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG;return(ew=(ex=(ey=ev.docName+(ez=ev.docDoc,ez.$==1?(eA=bi.concat(", ",by.ofArray([ez.$1])),(function(eH){return function(eI){return eH("("+bw.toSafe(eI)+")");};}(a.id))(eA)):ez.$==2?(eB=bi.concat(", ",by.ofArray([ez.$1,ez.$2])),(function(eH){return function(eI){return eH("("+bw.toSafe(eI)+")");};}(a.id))(eB)):ez.$==3?(eC=bi.concat(", ",by.ofArray([ez.$1,ez.$2,ez.$3])),(function(eH){return function(eI){return eH("("+bw.toSafe(eI)+")");};}(a.id))(eC)):ez.$==4?(eD=bi.concat(", ",by.ofArray([ez.$1,ez.$2,ez.$3,ez.$4])),(function(eH){return function(eI){return eH("("+bw.toSafe(eI)+")");};}(a.id))(eD)):ez.$==5?(eE=bi.concat(", ",by.ofArray([ez.$1,ez.$2,ez.$3,ez.$4,ez.$5])),(function(eH){return function(eI){return eH("("+bw.toSafe(eI)+")");};}(a.id))(eE)):""),T.Make().WithHole({$:1,$0:"name",$1:ey})),ex.WithHole(U.EventQ2(ex.k,"select",function(){return ex.i;},function(){p.Get(function(eH){k.mainDocV().Set(eH.plgName+"."+ev.docName);},k.currentPlugInW());}))),(eF=U.CompleteHoles(ew.k,ew.h,[]),(eG=new R.New(eF[1],cP.tile(eF[0])),(ew.i=eG,eG)))).get_Doc();}return Z.ConvertBy(function(eu){return es(eu[0],eu[1]);},function(eu){return et(eu[0],eu[1]);},p.Map(function(eu){return bb.map(function(ev){return[eu,ev];},eu.plgDocs);},k.currentPlugInW()));};k.renderActions=function(){function es(eu,ev){return[eu.plgName,ev.actName];}function et(eu,ev){var ew,ex,ey,ez;ew=(ex=ev.actFunction,ex.$==1?(ey=bi.concat(", ",by.ofArray([ex.$1])),(function(eA){return function(eB){return eA("("+bw.toSafe(eB)+")");};}(a.id))(ey)):ex.$==2?(ez=bi.concat(", ",by.ofArray([ex.$1,ex.$2])),(function(eA){return function(eB){return eA("("+bw.toSafe(eB)+")");};}(a.id))(ez)):"");return Z.EmbedView(p.Map(function(eA){var eB,eC,eD,eE,eF,eG,eH,eI;return eA?(eB=(eC=T.Make().WithHole({$:1,$0:"name",$1:ev.actName+ew}),eC.WithHole(U.EventQ2(eC.k,"click",function(){return eC.i;},function(eJ){k.callFunction(eJ,null,ev.actFunction);}))),(eD=U.CompleteHoles(eB.k,eB.h,[]),(eE=new R.New(eD[1],cP.action(eD[0])),(eB.i=eE,eE)))).get_Doc():(eF=(eG=T.Make().WithHole({$:1,$0:"name",$1:ev.actName}),eG.WithHole(U.EventQ2(eG.k,"click",function(){return eG.i;},function(eJ){k.callFunction(eJ,null,ev.actFunction);}))),(eH=U.CompleteHoles(eF.k,eF.h,[]),(eI=new R.New(eH[1],cP.actiondisabled(eH[0])),(eF.i=eI,eI)))).get_Doc();},ev.actEnabled));}return Z.ConvertBy(function(eu){return es(eu[0],eu[1]);},function(eu){return et(eu[0],eu[1]);},p.Map(function(eu){return bb.map(function(ev){return[eu,ev];},eu.plgActions);},k.currentPlugInW()));};k.renderQueries=function(){function es(eu,ev){return[eu.plgName,ev.qryName];}function et(eu,ev){var ew,ex,ey,ez;return(ew=(ex=T.Make().WithHole({$:1,$0:"name",$1:ev.qryName}),ex.WithHole(U.EventQ2(ex.k,"select",function(){return ex.i;},function(){a.alert(ev.qryFunction(null));}))),(ey=U.CompleteHoles(ew.k,ew.h,[]),(ez=new R.New(ey[1],cP.tile(ey[0])),(ew.i=ez,ez)))).get_Doc();}return Z.ConvertBy(function(eu){return es(eu[0],eu[1]);},function(eu){return et(eu[0],eu[1]);},p.Map(function(eu){return bb.map(function(ev){return[eu,ev];},eu.plgQueries);},k.currentPlugInW()));};k.newQry=function(es,et){return cw.New(es,et);};k.AppFwkClient=function(){bL.$cctor();return bL.AppFwkClient;};k.actHello=function(){bL.$cctor();return bL.actHello;};k.qryDocs=function(){bL.$cctor();return bL.qryDocs;};k.horizontal=function(es,et,eu,ev,ew){var ex,ey,ez,eA;return(ex=(ey=T.Make().WithHole({$:2,$0:"partsizes",$1:es}).WithHole({$:7,$0:"afterrender",$1:et}).WithHole({$:7,$0:"afterrendersp",$1:eu}),ey.WithHole(U.EventQ2(ey.k,"mousedown",function(){return ey.i;},function(eB){ev(eB.Event);}))).WithHole({$:2,$0:"gap",$1:ew}),(ez=U.CompleteHoles(ex.k,ex.h,[]),(eA=new R.New(ez[1],cP.wcompsplitterhor(ez[0])),(ex.i=eA,eA)))).get_Doc();};k.vertical=function(es,et,eu,ev,ew){var ex,ey,ez,eA;return(ex=(ey=T.Make().WithHole({$:2,$0:"partsizes",$1:es}).WithHole({$:7,$0:"afterrender",$1:et}).WithHole({$:7,$0:"afterrendersp",$1:eu}),ey.WithHole(U.EventQ2(ey.k,"mousedown",function(){return ey.i;},function(eB){ev(eB.Event);}))).WithHole({$:2,$0:"gap",$1:ew}),(ez=U.CompleteHoles(ex.k,ex.h,[]),(eA=new R.New(ez[1],cP.wcompsplitterver(ez[0])),(ex.i=eA,eA)))).get_Doc();};k.mainDoc=function(){var es,et,eu,ev,ew,ex;return(es=(et=k.getMainClientDoc(),(eu=(ev=k.mainDocV().get_View(),T.Make().WithHole({$:2,$0:"maindoc",$1:ev})),eu.WithHole(U.EventQ2(eu.k,"goclient",function(){return eu.i;},function(){k.mainDocV().Set("AppFramework.AppFwkClient");}))).WithHole({$:0,$0:"mainclient",$1:et})),(ew=U.CompleteHoles(es.k,es.h,[]),(ex=new R.New(ew[1],cP.appframework(ew[0])),(es.i=ex,ex)))).get_Doc();};k.splitName=function(es){function et(ev){return b3.splitByChar(".",ev);}function eu(ev){return S.length(ev)===1?[es,S.get(ev,0)]:[S.get(ev,0),S.get(ev,1)];}return function(ev){return eu(et(ev));};};k.tryGetPlugIn=function(es){return k.plugIns().TryFindByKey(es);};k.newActF=function(es,et){return bG.New(es,et,p.Const(true));};k.tryGetViw=function(es,et){var eu;eu=k.tryGetPlugIn(es);return eu==null?null:S.tryFind(function(ev){return ev.viwName===et;},eu.$0.plgViews);};k.tryGetWoW=function(es,et){var eu,ev,ew;eu=(ev=k.tryGetViw(es,et),ev==null?null:{$:1,$0:{$:1,$0:ev.$0.viwView}});return eu==null?(ew=k.tryGetVar(es,et),ew==null?null:{$:1,$0:ew.$0.varVar.get_View()}):eu.$0;};k.getMainClientDoc=function(){var es;return Z.EmbedView((es=k.plugIns().v,p.Map2(function(et,eu){var ev,ew;ev=bb.tryPick(function(ex){var ey;ey=bb.tryFind(function(ez){return ex.plgName===et||ex.plgName+"."+ez.docName===et;},ex.plgDocs);return ey==null?null:{$:1,$0:k.getLazyDoc(ey.$0)};},eu);ew=k.AppFwkClient().f();return ev==null?ew:ev.$0;},k.mainDocV().get_View(),es)));};k.tryGetVoV=function(es,et){var eu,ev,ew;eu=(ev=k.tryGetVar(es,et),ev==null?null:{$:1,$0:{$:1,$0:ev.$0.varVar}});return eu==null?(ew=k.tryGetViw(es,et),ew==null?null:{$:1,$0:new cK.New(ew.$0.viwView,a.ignore)}):eu.$0;};k.getLazyDoc=function(es){var et;et=es.docDoc;return et.$==0?et.$0.f():Z.Element("div",[],[Z.TextNode((function(eu){return function(ev){return eu("Doc with parameters not allowed here: "+Y.p(ev));};}(a.id))(es))]);};l.New=function(es,et,eu,ev,ew,ex){return{plgName:es,plgVars:et,plgViews:eu,plgDocs:ev,plgActions:ew,plgQueries:ex};};m.contentVar=function(){_5.$cctor();return _5.contentVar;};m.invitacionesV=function(){_5.$cctor();return _5.invitacionesV;};m.emailsInvitarW=function(){_5.$cctor();return _5.emailsInvitarW;};m.invitacionesDisabledW=function(){_5.$cctor();return _5.invitacionesDisabledW;};m.endPointV=function(){_5.$cctor();return _5.endPointV;};m.aliadoW=function(){_5.$cctor();return _5.aliadoW;};m.modeloV=function(){_5.$cctor();return _5.modeloV;};m.selAliadoIdOV=function(){_5.$cctor();return _5.selAliadoIdOV;};m.money=function(es){return"$"+m.separate(a.String(es),cB.Empty);};m.selAliadoIdDoc=function(es){var et;return Z.BindView(a.id,(et=p.get_Do(),p.Bind(function(eu){return p.Bind(function(ev){var ew,ex;ew=ev==null?null:(ex=ev.$0,bb.tryFind(function(ey){return I.Equals(ey.id,ex);},eu.aliados));return p.Const(ew!=null&&ew.$==1?es(p.Const(ew.$0)):Z.get_Empty());},m.selAliadoIdOV().get_View());},m.modeloV().get_View())));};m.aliadoIdDoc=function(es){var et;return Z.BindView(a.id,(et=p.get_Do(),p.Bind(function(eu){var ev,ew;ev=eu.idAliado;ew=bb.tryFind(function(ex){return I.Equals(ex.id,ev);},eu.aliados);return p.Const(ew!=null&&ew.$==1?es(p.Const(ew.$0)):Z.get_Empty());},m.modeloV().get_View())));};m.separate=function(es,et){var eu;while(true)if(es==="")return(function(ev){return function(ew){return bi.concat(ev,ew);};}(","))(et);else{eu=es;es=bc["String.Left$1"](eu,-3);et=new cB({$:1,$0:bc["String.Right$1"](eu,3),$1:et});}};n.get_LoggedId=function(){var es,et;return new _1({$:0,$0:(es=(et=bH.userO().Get(),et==null?null:{$:1,$0:et.$0.idToken.oid}),es==null?"":es.$0)});};m.formasPagoAliadoV=function(){_5.$cctor();return _5.formasPagoAliadoV;};o.FailWith=function(es){throw new c3(es);};o.toInt=function(es){var et;et=o.toUInt(es);return et>=2147483648?et-4294967296:et;};o.range=function(es,et){var eu;eu=1+et-es;return eu<=0?[]:bb.init(eu,function(ev){return ev+es;});};o.toUInt=function(es){return(es<0?el.ceil(es):el.floor(es))>>>0;};o.KeyValue=function(es){return[es.K,es.V];};p.Map=function(es,et){return p.CreateLazy(function(){return _4.Map(es,et());});};p.Sink=function(es,et){function eu(){_4.WhenRun(et(),es,function(){cM.scheduler().Fork(eu);});}cM.scheduler().Fork(eu);};p.CreateLazy=function(es){var et;et={c:null,o:es};return function(){var eu,ev;eu=et.c;return eu===null?(eu=et.o(),et.c=eu,(ev=eu.s,ev!=null&&ev.$==0)?et.o=null:_4.WhenObsoleteRun(eu,function(){et.c=null;}),eu):eu;};};p.Map2=function(es,et,eu){return p.CreateLazy(function(){return _4.Map2(es,et(),eu());});};p.Apply=function(es,et){return p.Map2(function(eu,ev){return eu(ev);},es,et);};p.Map3=function(es,et,eu,ev){return p.CreateLazy(function(){return _4.Map3(es,et(),eu(),ev());});};p.MapAsync=function(es,et){return p.CreateLazy(function(){return _4.MapAsync(es,et());});};p.GetAsync=function(es){return cM.FromContinuations(function(et){return p.Get(et,es);});};p.TryGet=function(es){return _4.TryGet(es());};p.Const=function(es){var et;et=_4.New({$:0,$0:es});return function(){return et;};};p.get_Do=function(){return cs.B;};p.Get=function(es,et){var eu;function ev(){_4.WhenRun(et(),function(ew){if(!eu[0]){eu[0]=true;es(ew);}},function(){if(!eu[0])ev();});}eu=[false];ev();};p.Bind=function(es,et){return p.Join(p.Map(es,et));};p.MapSeqCachedViewBy=function(es,et,eu){var ev;ev=[new bS.New$5()];return p.Map(function(ew){var ex,ey,ez;ex=ev[0];ey=new bS.New$5();ez=cL.mapInPlace(function(eA){var eB,eC,eD;eB=es(eA);eC=ex.ContainsKey(eB)?(eD=ex.get_Item(eB),(i.Set(eD.r,eA),eD)):p.ConvertSeqNode(function(eE){return et(eB,eE);},eA);ey.set_Item(eB,eC);return eC.e;},S.ofSeq(ew));ev[0]=ey;return ez;},eu);};p.Map2Unit=function(es,et){return p.CreateLazy(function(){return _4.Map2Unit(es(),et());});};p.Join=function(es){return p.CreateLazy(function(){return _4.Join(es());});};p.ConvertSeqNode=function(es,et){var eu,ev;eu=i.Create$1(et);ev=eu.get_View();return{e:es(ev),r:eu,w:ev};};p.MapSeqCachedBy=function(es,et,eu){var ev;ev=[new bS.New$5()];return p.Map(function(ew){var ex,ey,ez;ex=ev[0];ey=new bS.New$5();ez=cL.mapInPlace(function(eA){var eB,eC;eB=es(eA);eC=ex.ContainsKey(eB)?ex.get_Item(eB):et(eA);ey.set_Item(eB,eC);return eC;},S.ofSeq(ew));ev[0]=ey;return ez;},eu);};p.Sequence=function(es){return p.CreateLazy(function(){return _4.Sequence(bb.map(function(et){return et();},es));});};q=h.Var=ek.Class({},g,q);q.New=ek.Ctor(function(){g.New.call(this);},q);r.Create=function(es){return ba.New(false,es,r.forceLazy);};r.forceLazy=function(){var es;es=this.v();this.c=true;this.v=es;this.f=r.cachedLazy;return es;};r.cachedLazy=function(){return this.v;};r.CreateFromValue=function(es){return ba.New(true,es,r.cachedLazy);};s.aliados=function(){var es,et,eu,ev,ew,ex,ey;function ez(eI){var eJ,eK;eJ=(eK=et.Get(),eK==null?null:{$:1,$0:eK.$0(eI)});return eJ==null?[]:eJ.$0;}function eA(eI){return eI.nReferidos===0?"-":(((ek.Curried3(function(eJ,eK,eL){return eJ(a.String(eK)+"/"+a.String(eL));}))(a.id))(eI.nRefActivos))(eI.nReferidos);}function eB(eI){return eI.nDescendientes===0?"-":(((ek.Curried3(function(eJ,eK,eL){return eJ(a.String(eK)+"/"+a.String(eL));}))(a.id))(eI.nDescActivos))(eI.nDescendientes);}function eC(eI){return eI===0?"-":m.money(eI);}function eD(eI){return p.Map(function(eJ){return bb.isEmpty(ez(eI))?"":I.Equals(eJ==null?null:{$:1,$0:eJ.$0.Contains(eI)},{$:1,$0:true})?"Expandido":"Colapsado";},es.get_View());}function eE(eI){var eJ,eK,eL;es.Set({$:1,$0:((I.Equals((eJ=es.Get(),eJ==null?null:{$:1,$0:eJ.$0.Contains(eI)}),{$:1,$0:true})?function(eM){return function(eN){return eN.Remove(eM);};}:function(eM){return function(eN){return eN.Add(eM);};})(eI))((eK=es.Get(),(eL=new bg.New$1(null),eK==null?eL:eK.$0)))});}function eF(eI){m.selAliadoIdOV().Set({$:1,$0:eI});}function eG(eI){var eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,e2,e3;function eW(e4){return e4.comision;}function eX(e4){return e4.status;}function eY(e4){return[e4.nRefActivos,e4.nReferidos];}function eZ(e4){return[e4.nDescActivos,e4.nDescendientes];}function e0(e4){return N.nombre(e4.datosPersonales);}function e1(e4){return bb.delay(function(){return bb.append([e4],bb.delay(function(){var e5,e6;return(e5=(e6=es.Get(),e6==null?null:{$:1,$0:e6.$0.Contains(e4.id)}),e5==null?false:e5.$0)?bb.collect(e1,e3.hijos(e4)):[];}));});}e2=(eJ=(eK=(eL=(eM=(eN=(ek.Curried3(bd.desc))(eW),eO=(ek.Curried3(bd.asc))(eX),ek.Curried(bd.op_AmpGreater,2,[function(e4,e5){return(eN(e4))(e5);},function(e4,e5){return(eO(e4))(e5);}])),eP=(ek.Curried3(bd.desc))(eY),ek.Curried(bd.op_AmpGreater,2,[function(e4,e5){return(eM(e4))(e5);},function(e4,e5){return(eP(e4))(e5);}])),eQ=(ek.Curried3(bd.desc))(eZ),ek.Curried(bd.op_AmpGreater,2,[function(e4,e5){return(eL(e4))(e5);},function(e4,e5){return(eQ(e4))(e5);}])),eR=(ek.Curried3(bd.asc))(e0),ek.Curried(bd.op_AmpGreater,2,[function(e4,e5){return(eK(e4))(e5);},function(e4,e5){return(eR(e4))(e5);}])),bb.sortWith(function(e4,e5){return(eJ(e4))(e5);},eI));e3=N.busqueda(e2);et.Set({$:1,$0:e3.hijosDe});try{eT=bb.min(bb.map(function(e4){return e4.nivel;},e2));}catch(e4){eT=1;}eU=bb.filter(function(e5){return e5.nivel===eT;},e2);bb.isEmpty(eU)?es.Set(null):es.Get()==null?(es.Set({$:1,$0:new bg.New(bb.map(function(e5){return e5.id;},eU))}),eV=bb.tryHead(bb.map(function(e5){return e5.id;},eU)),eV==null?void 0:eF(eV.$0)):void 0;return bb.delay(function(){return bb.collect(e1,eU);});}function eH(eI,eJ){var eK,eL,eM,eN,eO,eP;return(eK=(eL=(eM=(eN=eD(eI),T.Make().WithHole({$:2,$0:"nombre",$1:p.Map(function(eQ){return N.nombre(eQ.datosPersonales);},eJ)}).WithHole({$:2,$0:"status",$1:p.Map(function(eQ){return(function(eR){return function(eS){return eR(W.p$1(eS));};}(a.id))(eQ.status);},eJ)}).WithHole({$:2,$0:"tipo",$1:p.Map(function(eQ){return(function(eR){return function(eS){return eR(W.p$2(eS));};}(a.id))(eQ.tipo);},eJ)}).WithHole({$:2,$0:"nivel",$1:p.Map(function(eQ){return a.String(eQ.nivel);},eJ)}).WithHole({$:2,$0:"referidos",$1:p.Map(eA,eJ)}).WithHole({$:2,$0:"descendientes",$1:p.Map(eB,eJ)}).WithHole({$:2,$0:"comision",$1:p.Map(function(eQ){return eC(eQ.comision);},eJ)}).WithHole({$:2,$0:"expandido",$1:eN})),eM.WithHole(U.EventQ2(eM.k,"expandir",function(){return eM.i;},function(){eE(eI);}))).WithHole({$:2,$0:"seleccionado",$1:p.Map(function(eQ){return I.Equals({$:1,$0:eI},eQ)?"seleccionado":"";},m.selAliadoIdOV().get_View())}),eL.WithHole(U.EventQ2(eL.k,"seleccionar",function(){return eL.i;},function(){eF(eI);}))),(eO=U.CompleteHoles(eK.k,eK.h,[]),(eP=new R.New(eO[1],V.filaaliado(eO[0])),(eK.i=eP,eP)))).get_Doc();}es=i.Create$1(null);et=i.Create$1(null);return(eu=(ev=Z.ConvertSeqBy(function(eI){return eI.id;},function(eI){return function(eJ){return eH(eI,eJ);};},(ew=p.Map(function(eI){return eI.aliados;},m.modeloV().get_View()),p.Map2(function(eI,eJ){return eG(eJ);},es.get_View(),ew))),T.Make().WithHole({$:0,$0:"tbody",$1:ev})),(ex=U.CompleteHoles(eu.k,eu.h,[]),(ey=new R.New(ex[1],V.tablaaliados(ex[0])),(eu.i=ey,ey)))).get_Doc();};t.aliado=function(){function es(et){var eu;eu=bb.tryPick(function(ev){return ev.$==1?{$:1,$0:ev.$0.email}:null;},et.contactos);return eu==null?"correo no encontrado!":eu.$0;}return m.selAliadoIdDoc(function(et){var eu,ev,ew,ex;return(eu=(ev=t.calculo(),T.Make().WithHole({$:2,$0:"nombre",$1:p.Map(function(ey){return N.nombre2(ey.datosPersonales);},et)}).WithHole({$:2,$0:"status",$1:p.Map(function(ey){return(function(ez){return function(eA){return ez(W.p$1(eA));};}(a.id))(ey.status);},et)}).WithHole({$:2,$0:"tipo",$1:p.Map(function(ey){return(function(ez){return function(eA){return ez(W.p$2(eA));};}(a.id))(ey.tipo);},et)}).WithHole({$:2,$0:"contacto",$1:p.Map(es,et)}).WithHole({$:0,$0:"calculo",$1:ev})),(ew=U.CompleteHoles(eu.k,eu.h,[]),(ex=new R.New(ew[1],V.aliado(ew[0])),(eu.i=ex,ex)))).get_Doc();});};t.calculo=function(){var es,et;es=p.Map(function(eu){return eu.premisas;},m.modeloV().get_View());et=p.Map(function(eu){return eu.aliados;},m.modeloV().get_View());p.Map2(function(eu,ev){return bb.tryFind(function(ew){return I.Equals(ew.id,eu);},ev);},p.Map(function(eu){return eu.idAliado;},m.modeloV().get_View()),et);return m.selAliadoIdDoc(function(eu){var ev,ew,ex,ey,ez;ev=p.Map2(N.comision,es,eu);ew=p.Map2(N.premisas,es,eu);return(ex=T.Make().WithHole({$:2,$0:"referidos",$1:p.Map(function(eA){return(function(eB){return function(eC){return eB(a.String(eC));};}(a.id))(eA.nReferidos);},eu)}).WithHole({$:2,$0:"refactivos",$1:p.Map(function(eA){return(function(eB){return function(eC){return eB(a.String(eC));};}(a.id))(eA.nRefActivos);},eu)}).WithHole({$:2,$0:"comreferido",$1:p.Map(function(eA){return(function(eB){return function(eC){return eB(a.String(eC));};}(a.id))(eA.nRefActivos);},eu)}).WithHole({$:2,$0:"descendientes",$1:p.Map(function(eA){return(function(eB){return function(eC){return eB(a.String(eC));};}(a.id))(eA.nDescendientes);},eu)}).WithHole({$:2,$0:"desactivos",$1:p.Map(function(eA){return(function(eB){return function(eC){return eB(a.String(eC));};}(a.id))(eA.nDescActivos);},eu)}).WithHole({$:2,$0:"comision",$1:p.Map(function(eA){return m.money(eA[0]+eA[1]);},ev)}).WithHole({$:2,$0:"comreferido",$1:p.Map(function(eA){return m.money(eA[0]);},ev)}).WithHole({$:2,$0:"comdescendiente",$1:p.Map(function(eA){return m.money(eA[1]);},ev)}).WithHole({$:2,$0:"porreferido",$1:p.Map(function(eA){return m.money(eA[0]);},ew)}).WithHole({$:2,$0:"pordescendiente",$1:p.Map(function(eA){return m.money(eA[1]);},ew)}),(ey=U.CompleteHoles(ex.k,ex.h,[]),(ez=new R.New(ey[1],V.calculo(ey[0])),(ex.i=ez,ez)))).get_Doc();});};u.formaDoc=function(){var es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG;es=i.Create$1("");et=i.Create$1(false);eu=i.Create$1(null);ev=i.Create$1(null);ew=i.Create$1(null);ex=i.Create$1(null);ey=bk.formaDoc(eu);ez=bl.formaDoc(ev);eA=bm.formaDoc(ew);eB=bn.formaDoc(ex);eC=(eD=(eE=T.Make().WithHole({$:2,$0:"mensajes",$1:p.Map2(function(eH,eI){return eH?eI:"";},et.get_View(),es.get_View())}).WithHole({$:0,$0:"datospersonales",$1:ey[1]}).WithHole({$:0,$0:"correo",$1:ez[1]}).WithHole({$:0,$0:"telefono",$1:eA[1]}).WithHole({$:0,$0:"direccion",$1:eB[1]}),eE.WithHole(U.EventQ2(eE.k,"registrarse",function(){return eE.i;},function(){var eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR;et.Set(true);eH=es.Get();bi.Trim(eH)!==""?a.alert(eH):(eI=eu.Get(),eJ=ev.Get(),eK=ew.Get(),eL=ex.Get(),eI!=null&&eI.$==1&&(eJ!=null&&eJ.$==1&&(eK!=null&&eK.$==1&&(eL!=null&&eL.$==1&&(eM=[eJ.$0,eI.$0,eL.$0,eK.$0],true))))?(eN=eM[0],eO=eM[1],eP=eM[2],eQ=eM[3],_0.iterA((eR=bo.asyncResult(),eR.Run(eR.Delay(function(){var eS;return eR.Bind$1(_0.ejecutarDataEventoNuevo({$:3,$0:[new _1({$:0,$0:bi.Substring(bi.Replace((eS=bs.NewGuid(),a.String(eS)),"-",""),0,20)}),eO,{$:1,$0:m.modeloV().Get().idAliado},[{$:1,$0:eN},{$:2,$0:eQ},{$:0,$0:eP}]]}),function(eT){bq.refrescarData(true);a.alert((function(eU){return function(eV){return eU(W.p$13(eV));};}(a.id))(eT));return eR.Zero();});}))))):a.alert("Error not caught FormaRegistro"));}))),(eF=U.CompleteHoles(eD.k,eD.h,[]),(eG=new R.New(eF[1],V.formaregistro(eF[0])),(eD.i=eG,eG))));p.Sink(function(eH){es.Set(eH);},p.Apply(p.Apply(p.Map2(function(eH,eI){return function(eJ){return function(eK){var eL;eL=bi.concat(", ",bb.delay(function(){return bb.append(eH,bb.delay(function(){return bb.append(eI,bb.delay(function(){return bb.append(eJ,bb.delay(function(){return eK;}));}));}));}));return eL!==""?"Campos requeridos: "+eL:"";};};},ey[0],ez[0]),eA[0]),eB[0]));return eC.get_Doc();};v.formaDoc=function(){return m.aliadoIdDoc(v.formaAliado);};v.formaAliado=function(es){var et,eu,ev,ew,ex,ey,ez,eA,eB;function eC(eE){return{$:1,$0:eE};}function eD(eE){ev.Set(eE);}et=i.Create$1("");eu=i.Create$1(false);ev=i.Create$1(null);p.Sink(function(eE){return eD(eC(eE));},p.Map(function(eE){return eE.datosPersonales;},es));ew=bk.formaDoc(ev);ex=(ey=(ez=T.Make().WithHole({$:2,$0:"mensajes",$1:p.Map2(function(eE,eF){return eE?eF:"";},eu.get_View(),et.get_View())}).WithHole({$:2,$0:"changed",$1:p.Map2(function(eE,eF){return I.Equals({$:1,$0:eE.datosPersonales},eF)?"":"mui-btn--primary";},es,ev.get_View())}).WithHole({$:0,$0:"datospersonales",$1:ew[1]}),ez.WithHole(U.EventQ2(ez.k,"salvar",function(){return ez.i;},function(){var eE,eF,eG,eH,eI,eJ,eK;eu.Set(true);eE=et.Get();bi.Trim(eE)!==""?a.alert(eE):(eF=ev.Get(),eG=p.TryGet(es),eF!=null&&eF.$==1&&(eG!=null&&eG.$==1&&(eH=[eG.$0,eF.$0],true))?(eI=eH[0],eJ=eH[1],_0.iterA((eK=bo.asyncResult(),eK.Run(eK.Delay(function(){return eK.Bind$1(_0.ejecutarDataEventoNuevo({$:4,$0:[eI.id,eJ]}),function(eL){bq.refrescarData(true);a.alert((function(eM){return function(eN){return eM(W.p$13(eN));};}(a.id))(eL));return eK.Zero();});}))))):a.alert("Error not caught FormaDatos"));}))),(eA=U.CompleteHoles(ey.k,ey.h,[]),(eB=new R.New(eA[1],V.formadatospersonales(eA[0])),(ey.i=eB,eB))));p.Sink(function(eE){et.Set(eE);},p.Map(function(eE){var eF;eF=bi.concat(", ",bb.delay(function(){return eE;}));return eF!==""?"Campos requeridos: "+eF:"";},ew[0]));return ex.get_Doc();};w.formaDoc=function(){return m.aliadoIdDoc(w.formaContactos);};w.formaContactos=function(es){var et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM;function eN(eO,eP){return function(eQ){return new cK.New(p.Map(function(eR){var eS;eS=bb.tryItem(eQ,eR);return eS==null?null:eO(eS.$0);},ev.get_View()),function(eR){if(eR!=null&&eR.$==1)ev.Set(cE.replace(eQ,eP(eR.$0),ev.Get()));});};}et=i.Create$1("");eu=i.Create$1(false);ev=i.Create$1([]);p.Sink(function(eO){ev.Set(eO);},p.Map(function(eO){return eO.contactos;},es));ew=p.Map(bb.indexed,ev.get_View());ex=[function(eO){return eO.$==2?{$:1,$0:eO.$0}:null;},function(eO){return{$:2,$0:eO};}];ey=[function(eO){return eO.$==1?{$:1,$0:eO.$0}:null;},function(eO){return{$:1,$0:eO};}];ez=[function(eO){return eO.$==0?{$:1,$0:eO.$0}:null;},function(eO){return{$:0,$0:eO};}];eA=p.Map(function(eO){function eP(eQ,eR){return ex[0](eR)==null?null:{$:1,$0:eQ};}return bb.choose(function(eQ){return eP(eQ[0],eQ[1]);},eO);},ew);eB=p.Map(function(eO){function eP(eQ,eR){return ey[0](eR)==null?null:{$:1,$0:eQ};}return bb.choose(function(eQ){return eP(eQ[0],eQ[1]);},eO);},ew);eC=p.Map(function(eO){function eP(eQ,eR){return ez[0](eR)==null?null:{$:1,$0:eQ};}return bb.choose(function(eQ){return eP(eQ[0],eQ[1]);},eO);},ew);eD=Z.ConvertBy(a.id,function(eO){return bu.removeButton(function(){ev.Set(cE.remove(eO,ev.Get()));},(bm.formaDoc((function(eP){return eN(eP[0],eP[1]);}(ex))(eO)))[1]);},eA);eE=Z.ConvertBy(a.id,function(eO){return bu.removeButton(function(){ev.Set(cE.remove(eO,ev.Get()));},(bl.formaDoc((function(eP){return eN(eP[0],eP[1]);}(ey))(eO)))[1]);},eB);eF=Z.ConvertBy(a.id,function(eO){return bu.removeButton(function(){ev.Set(cE.remove(eO,ev.Get()));},(bn.formaDoc((function(eP){return eN(eP[0],eP[1]);}(ez))(eO)))[1]);},eC);return(eG=(eH=(eI=(eJ=(eK=T.Make().WithHole({$:2,$0:"mensajes",$1:p.Map2(function(eO,eP){return eO?eP:"";},eu.get_View(),et.get_View())}).WithHole({$:2,$0:"changed",$1:p.Map2(function(eO,eP){return I.Equals(eO.contactos,eP)?"":"mui-btn--primary";},es,ev.get_View())}).WithHole({$:0,$0:"telefonos",$1:eD}).WithHole({$:0,$0:"correos",$1:eE}).WithHole({$:0,$0:"direcciones",$1:eF}),eK.WithHole(U.EventQ2(eK.k,"mastelefono",function(){return eK.i;},function(){ev.Set(ev.Get().concat([{$:2,$0:L.telVacio()}]));}))),eJ.WithHole(U.EventQ2(eJ.k,"mascorreo",function(){return eJ.i;},function(){ev.Set(ev.Get().concat([{$:1,$0:L.correoVacio()}]));}))),eI.WithHole(U.EventQ2(eI.k,"masdireccion",function(){return eI.i;},function(){ev.Set(ev.Get().concat([{$:0,$0:L.dirVacio()}]));}))),eH.WithHole(U.EventQ2(eH.k,"salvar",function(){return eH.i;},function(){var eO,eP,eQ,eR;eu.Set(true);eO=et.Get();bi.Trim(eO)!==""?a.alert(eO):(eP=p.TryGet(es),eP!=null&&eP.$==1?(eQ=eP.$0,_0.iterA((eR=bo.asyncResult(),eR.Run(eR.Delay(function(){return eR.Bind$1(_0.ejecutarDataEventoNuevo({$:5,$0:[eQ.id,ev.Get()]}),function(eS){bq.refrescarData(true);a.alert((function(eT){return function(eU){return eT(W.p$13(eU));};}(a.id))(eS));return eR.Zero();});}))))):a.alert("Error not caught FormaDatos"));}))),(eL=U.CompleteHoles(eG.k,eG.h,[]),(eM=new R.New(eL[1],V.formacontactos(eL[0])),(eG.i=eM,eM)))).get_Doc();};x.formaDoc=function(){return m.aliadoIdDoc(x.formaFormasPago);};x.formaFormasPago=function(es){var et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG;function eH(eM,eN){return function(eO){return new cK.New(p.Map(function(eP){var eQ;eQ=bb.tryItem(eO,eP);return eQ==null?null:eM(eQ.$0);},ev.get_View()),function(eP){var eQ;if(eP!=null&&eP.$==1){eQ=eP.$0;ev.Set(cE.replace(eO,(eN(S.get(ev.Get(),eO)))(bu.fst3(eQ[0],eQ[1],eQ[2])),ev.Get()));}});};}function eI(eM){var eN;_0.iterA((eN=bo.asyncResult(),eN.Run(eN.Delay(function(){return eN.Bind(eM.authorizeIdR,function(eO){return eN.Bind$1(_0.validarFormaPago(eO),function(eP){a.alert(eP);return eN.Zero();});});}))));}function eJ(eM,eN){return bu.removeButton(function(){ev.Set(cE.remove(eM,ev.Get()));},Z.Concat(by.ofSeq(bb.delay(function(){return bb.append([Z.Button("AUTORIZAR DEBITO",[cW.Create("title","Autorizar pago recurrente"),cO.Dynamic("style",p.Map(function(eO){return S.get(eO,eM).authorizeIdR.$==0?"":"display:None";},ev.get_View()))],function(){var eO,eP,eQ,eR;eP=S.get(ev.Get(),eM).authorizeIdR;eQ=S.get(ev.Get(),eM).cuentaPago;switch(eP.$==0?eQ.$==0?(eO=[eP.$0,eQ.$0.titular],1):eQ.$==1?(eO=[eP.$0,eQ.$0.titular],1):2:(eO=eP.$0,0)){case 0:a.alert("Pago no está verificado en Authorize: "+eO);break;case 1:eR=eN();B.cuentaAutorizar().Set(eR);B.titular().Set(eO[1]);B.set_pid(eO[0]);m.endPointV().Set({$:3,$0:"ProzperLyt.cntAutorizacion"});break;case 2:a.alert("Autorizacion no esta implementada");break;}})],bb.delay(function(){return bb.append([Z.Element("br",[],[])],bb.delay(function(){return bb.append([eN()],bb.delay(function(){return[Z.Button("validar",[cW.Create("title","validar forma de pago"),cO.Dynamic("style",p.Map(function(eO){return S.get(eO,eM).authorizeIdR.$==0?"":"display:None";},ev.get_View()))],function(){eI(S.get(ev.Get(),eM));})];}));}));}));}))));}function eK(eM){return bC.New("",bc.Error$1(""),eM);}function eL(eM){return new bg.New(bb.choose(function(eN){var eO;eO=eN.authorizeIdR;return eO.$==0?{$:1,$0:eO.$0}:null;},eM));}et=i.Create$1("");eu=i.Create$1(false);ev=i.Create$1([]);p.Sink(function(eM){ev.Set(eM);},m.formasPagoAliadoV().get_View());x.refrescarFormasPago();ew=p.Map(bb.indexed,ev.get_View());ex=p.Map(function(eM){function eN(eO,eP){return(x.ftar())[0](eP)==null?null:{$:1,$0:eO};}return bb.choose(function(eO){return eN(eO[0],eO[1]);},eM);},ew);ey=p.Map(function(eM){function eN(eO,eP){return(x.fcta())[0](eP)==null?null:{$:1,$0:eO};}return bb.choose(function(eO){return eN(eO[0],eO[1]);},eM);},ew);ez=Z.ConvertBy(a.id,function(eM){var eN;return eJ(eM,(eN=(function(eO){return eH(eO[0],eO[1]);}(x.ftar()))(eM),function(){return(cI.formaDocO(eN))[1];}));},ex);eA=Z.ConvertBy(a.id,function(eM){var eN;return eJ(eM,(eN=(function(eO){return eH(eO[0],eO[1]);}(x.fcta()))(eM),function(){return(cH.formaDocO(eN))[1];}));},ey);return(eB=(eC=(eD=(eE=T.Make().WithHole({$:2,$0:"mensajes",$1:p.Map2(function(eM,eN){return eM?eN:"";},eu.get_View(),et.get_View())}).WithHole({$:0,$0:"tarjetas",$1:ez}).WithHole({$:0,$0:"cuentas",$1:eA}),eE.WithHole(U.EventQ2(eE.k,"mastarjeta",function(){return eE.i;},function(){ev.Set(ev.Get().concat([eK({$:1,$0:L.tarVacio()})]));}))),eD.WithHole(U.EventQ2(eD.k,"mascuenta",function(){return eD.i;},function(){ev.Set(ev.Get().concat([eK({$:0,$0:L.ctaVacio()})]));}))).WithHole({$:2,$0:"changed",$1:p.Map2(function(eM,eN){return I.Equals(eM,eN)?"":"mui-btn--primary";},m.formasPagoAliadoV().get_View(),ev.get_View())}),eC.WithHole(U.EventQ2(eC.k,"salvar",function(){return eC.i;},function(){var eM,eN,eO;eu.Set(true);eM=et.Get();bi.Trim(eM)!==""?a.alert(eM):(eN=p.TryGet(es),eN!=null&&eN.$==1?_0.iterA((eO=bo.asyncResult(),eO.Run(eO.Delay(function(){return eO.Combine$1(eO.For(bg.op_Subtraction(eL(m.formasPagoAliadoV().Get()),eL(ev.Get())),function(eP){return eO.Bind$1(_0.borrarFormaPago(eP),function(){return eO.Zero();});}),eO.Delay(function(){return eO.Combine$1(eO.For(ev.Get(),function(eP){var eQ,eR,eS,eT;eQ=(eR=eP.cuentaPago,eR.$==1&&(!(eR.$0.numero.get_Id().indexOf("X")!=-1)&&(eS=eR.$0,true))?{$:1,$0:_0.registrarTarjeta(eS)}:eR.$==0&&(!(eR.$0.numero.get_Id().indexOf("X")!=-1)&&(eT=eR.$0,true))?{$:1,$0:_0.registrarCuenta(eT)}:null);return eQ!=null&&eQ.$==1?eO.Bind$1(eQ.$0,function(){return eO.Zero();}):eO.Zero();}),eO.Delay(function(){x.refrescarFormasPago();return eO.Zero();}));}));})))):a.alert("Error not caught FormaDatos"));}))),(eF=U.CompleteHoles(eB.k,eB.h,[]),(eG=new R.New(eF[1],V.formacuentas(eF[0])),(eB.i=eG,eG)))).get_Doc();};x.msg=function(es){var et;et=es.authorizeIdR;return et.$==0?(function(eu){return function(ev){return eu("Cuenta verificada: "+W.p$14(ev));};}(a.id))(et.$0):et.$0===""?"La cuenta aun no ha sido verificada":et.$0;};x.refrescarFormasPago=function(){_0.iterA(cC.map(function(es){m.formasPagoAliadoV().Set(es);},_0.obtenerFormasDePago()));};x.fcta=function(){_5.$cctor();return _5.fcta;};x.ftar=function(){_5.$cctor();return _5.ftar;};y.consolidado=function(){var es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN;function eO(e3){return e3.nReferidos===0?"-":(((ek.Curried3(function(e4,e5,e6){return e4(a.String(e5)+"/"+a.String(e6));}))(a.id))(e3.nRefActivos))(e3.nReferidos);}function eP(e3){return e3.nDescendientes===0?"-":(((ek.Curried3(function(e4,e5,e6){return e4(a.String(e5)+"/"+a.String(e6));}))(a.id))(e3.nDescActivos))(e3.nDescendientes);}function eQ(e3){return e3===0?"-":m.money(e3);}function eR(e3){var e4,e5,e6;e4=(e5=e3==null?null:(e6=e3.$0,bb.tryFind(function(e7){return I.Equals(e7.id,e6);},m.modeloV().Get().aliados)),e5==null?null:{$:1,$0:N.nombre(e5.$0.datosPersonales)});return e4==null?"-":e4.$0;}function eS(e3){var e4;return bt.New(N.nombre(e3.datosPersonales),(function(e5){return function(e6){return e5(W.p$1(e6));};}(a.id))(e3.status),(e4=e3.influyente,e4==null?"":e4.$0),(function(e5){return function(e6){return e5(W.p$2(e6));};}(a.id))(e3.tipo),eR(e3.idPadreO),(function(e5){return function(e6){return e5(bi.PadLeft(a.String(e6),9));};}(a.id))(e3.nivel),(function(e5){return function(e6){return e5(bi.PadLeft(bw.toSafe(e6),9));};}(a.id))(eO(e3)),(function(e5){return function(e6){return e5(bi.PadLeft(bw.toSafe(e6),9));};}(a.id))(eP(e3)),(function(e5){return function(e6){return e5(bi.PadLeft(bw.toSafe(e6),9));};}(a.id))(eQ(e3.comision)),bc["String.Right$1"]((function(e5){return function(e6){return e5(W.p$15(e6));};}(a.id))(e3.diaPago),2),bx.toYYYYMMDD("-",e3.fechaRegistro),(function(e5){return function(e6){return e5(bw.toSafe(e6));};}(a.id))(e3.id.get_Id()));}function eT(e3){return[e3.nombre,e3.status,e3.influyente,e3.tipo,e3.referido,e3.nivel,e3.referidos,e3.descendientes,e3.comision,e3.diaPago,e3.desde,e3.Id];}function eU(e3,e4,e5){return function(e6){var e7;e7=e6[0];return[e7===e3?1:e7<e3?e7+1:e7,e3===e7&&e3===1?!e6[1]:e6[1],e6[2]];};}function eV(e3){et.Set(bt.New((function(e4){return eU(e4[0],e4[1],e4[2]);}(e3))(et.Get().nombre),(function(e4){return eU(e4[0],e4[1],e4[2]);}(e3))(et.Get().status),(function(e4){return eU(e4[0],e4[1],e4[2]);}(e3))(et.Get().influyente),(function(e4){return eU(e4[0],e4[1],e4[2]);}(e3))(et.Get().tipo),(function(e4){return eU(e4[0],e4[1],e4[2]);}(e3))(et.Get().referido),(function(e4){return eU(e4[0],e4[1],e4[2]);}(e3))(et.Get().nivel),(function(e4){return eU(e4[0],e4[1],e4[2]);}(e3))(et.Get().referidos),(function(e4){return eU(e4[0],e4[1],e4[2]);}(e3))(et.Get().descendientes),(function(e4){return eU(e4[0],e4[1],e4[2]);}(e3))(et.Get().comision),(function(e4){return eU(e4[0],e4[1],e4[2]);}(e3))(et.Get().diaPago),(function(e4){return eU(e4[0],e4[1],e4[2]);}(e3))(et.Get().desde),(function(e4){return eU(e4[0],e4[1],e4[2]);}(e3))(et.Get().Id)));}function eW(e3,e4){return es.Set(S.map(function(e5){return I.Equals(e5.id,e3)?e4(e5):e5;},es.Get()));}function eX(e3,e4){return eW(e3,function(e5){return M.New(e5.id,e5.idPadreO,e5.idForAuthorize,e5.influyente,e5.datosPersonales,e5.contactos,e5.identificacion,e5.isInternal,bv.tryParse(e4),e5.diaPago,e5.tipo,e5.fechaRegistro,e5.fechaStatus,e5.nReferidos,e5.nRefActivos,e5.nDescendientes,e5.nDescActivos,e5.comision,e5.nivel);});}function eY(e3,e4){return eW(e3,function(e5){return M.New(e5.id,e5.idPadreO,e5.idForAuthorize,bi.Trim(e4)===""?null:{$:1,$0:bi.Trim(e4)},e5.datosPersonales,e5.contactos,e5.identificacion,e5.isInternal,e5.status,e5.diaPago,e5.tipo,e5.fechaRegistro,e5.fechaStatus,e5.nReferidos,e5.nRefActivos,e5.nDescendientes,e5.nDescActivos,e5.comision,e5.nivel);});}function eZ(e3,e4){var e5;e5=e4===""?null:{$:1,$0:new _1({$:0,$0:e4})};return eW(e3,function(e6){return M.New(e6.id,e5,e6.idForAuthorize,e6.influyente,e6.datosPersonales,e6.contactos,e6.identificacion,e6.isInternal,e6.status,e6.diaPago,e6.tipo,e6.fechaRegistro,e6.fechaStatus,e6.nReferidos,e6.nRefActivos,e6.nDescendientes,e6.nDescActivos,e6.comision,e6.nivel);});}function e0(e3){return bb.tryFind(function(e4){return I.Equals(e4.id,e3);},m.modeloV().Get().aliados);}function e1(){var e3;_0.iterA((e3=bo.asyncResult(),e3.Run(e3.Delay(function(){return e3.Combine$1(e3.For(es.Get(),function(e4){var e5,e6;e5=e0(e4.id);return e5!=null&&e5.$==1?(e6=e5.$0,!I.Equals(e4.status,e6.status)||!I.Equals(e4.idPadreO,e6.idPadreO)||!I.Equals(e4.influyente,e6.influyente)?e3.Bind$1(_0.ejecutarDataEventoNuevo({$:8,$0:[e4.id,e4.status,e4.idPadreO,e4.influyente]}),function(){return e3.Zero();}):e3.Zero()):e3.Zero();}),e3.Delay(function(){bq.refrescarData(true);return e3.Zero();}));}))));}function e2(e3,e4){var e5,e6,e7,e8,e9,e_,e$,fa,fb,fc;return(e5=(e6=Z.BindView(bu.crearOptions,bu.statuses().get_View()),(e7=new cK.New(p.Map(function(fd){return fd.influyente;},e4),(e8=new _1({$:0,$0:e3}),function(fd){return eY(e8,fd);})),(e9=new cK.New(p.Map(function(fd){return fd.status;},e4),(e_=new _1({$:0,$0:e3}),function(fd){return eX(e_,fd);})),(e$=new cK.New(p.Map(function(fd){return fd.referido;},e4),(fa=new _1({$:0,$0:e3}),function(fd){return eZ(fa,fd);})),T.Make().WithHole({$:2,$0:"nombre",$1:p.Map(function(fd){return fd.nombre;},e4)}).WithHole({$:2,$0:"tipo",$1:p.Map(function(fd){return fd.tipo;},e4)}).WithHole({$:8,$0:"referido",$1:e$})).WithHole({$:8,$0:"status",$1:e9})).WithHole({$:8,$0:"influyente",$1:e7})).WithHole({$:0,$0:"statuses",$1:e6})).WithHole({$:2,$0:"nivel",$1:p.Map(function(fd){return fd.nivel;},e4)}).WithHole({$:2,$0:"referidos",$1:p.Map(function(fd){return fd.referidos;},e4)}).WithHole({$:2,$0:"descendientes",$1:p.Map(function(fd){return fd.descendientes;},e4)}).WithHole({$:2,$0:"comision",$1:p.Map(function(fd){return fd.comision;},e4)}).WithHole({$:2,$0:"diapago",$1:p.Map(function(fd){return fd.diaPago;},e4)}).WithHole({$:2,$0:"desde",$1:p.Map(function(fd){return fd.desde;},e4)}).WithHole({$:2,$0:"id",$1:p.Map(function(fd){return fd.Id;},e4)}),(fb=U.CompleteHoles(e5.k,e5.h,[["influyente",0],["status",0],["referido",0]]),(fc=new R.New(fb[1],V.filaconsolidado(fb[0])),(e5.i=fc,fc)))).get_Doc();}es=i.Create$1([]);p.Sink(function(e3){es.Set(e3);},p.Map(function(e3){return e3.aliados;},m.modeloV().get_View()));et=i.Create$1(bt.New([2,true,function(e3){return e3.nombre.toUpperCase();}],[3,true,function(e3){return e3.status.toUpperCase();}],[4,false,function(e3){return e3.influyente.toUpperCase();}],[5,true,function(e3){return e3.tipo.toUpperCase();}],[6,true,function(e3){return e3.referido.toUpperCase();}],[7,true,function(e3){return e3.nivel.toUpperCase();}],[8,true,function(e3){return e3.referidos.toUpperCase();}],[1,false,function(e3){return e3.descendientes.toUpperCase();}],[9,true,function(e3){return e3.comision.toUpperCase();}],[10,true,function(e3){return e3.diaPago.toUpperCase();}],[11,true,function(e3){return e3.desde.toUpperCase();}],[12,true,function(e3){return e3.Id.toUpperCase();}]));eu=i.Create$1("");ev=Z.BindView(function(e3){return bu.crearOptions2(bb.map(function(e4){return[N.nombre2(e4.datosPersonales),e4.id.get_Id()];},e3.aliados));},m.modeloV().get_View());return(ew=(ex=Z.ConvertSeqBy(function(e3){return e3.Id;},function(e3){return function(e4){return e2(e3,e4);};},p.Map3(function(e3,e4,e5){var e6,e7,e8;function e9(fa,fb,fc){return fc;}function e_(fa,fb,fc,fd){return bd.op_AmpGreater(function(fe,ff){return(fa(fe))(ff);},function(fe,ff){return(fb(fe))(ff);},fc,fd);}function e$(fa,fb,fc){return(fb?ek.Curried3(bd.asc):ek.Curried3(bd.desc))(fc);}e6=bi.Trim(e5).toUpperCase();e7=S.map(function(fa){return e9(fa[0],fa[1],fa[2]);},eT(e4));e8=S.reduce(function(fa,fb){return ek.Curried(e_,2,[fa,fb]);},S.map(function(fa){return e$(fa[0],fa[1],fa[2]);},S.sortBy(function(fa){return a.id(fa[0],fa[1],fa[2]);},eT(e4))));return bb.sortWith(function(fa,fb){return(e8(fa))(fb);},bb.filter(function(fa){return e6===""||bb.exists(function(fb){return fb(fa).indexOf(e6)!=-1;},e7);},bb.map(eS,e3)));},p.Map(function(e3){return e3.aliados;},m.modeloV().get_View()),et.get_View(),eu.get_View())),(ey=(ez=(eA=(eB=(eC=(eD=(eE=(eF=(eG=(eH=(eI=(eJ=(eK=(eL=T.Make(),eL.WithHole(U.EventQ2(eL.k,"salvar",function(){return eL.i;},function(){e1();}))),eK.WithHole(U.EventQ2(eK.k,"cancelar",function(){return eK.i;},function(){es.Set(m.modeloV().Get().aliados);}))).WithHole({$:2,$0:"changed",$1:p.Map2(function(e3,e4){return I.Equals(e3.aliados,e4)?"":"mui-btn--primary";},m.modeloV().get_View(),es.get_View())}).WithHole({$:8,$0:"filtro",$1:eu}).WithHole({$:0,$0:"referidores",$1:ev}),eJ.WithHole(U.EventQ2(eJ.k,"sort_nombre",function(){return eJ.i;},function(){eV(et.Get().nombre);}))),eI.WithHole(U.EventQ2(eI.k,"sort_status",function(){return eI.i;},function(){eV(et.Get().status);}))),eH.WithHole(U.EventQ2(eH.k,"sort_influyente",function(){return eH.i;},function(){eV(et.Get().influyente);}))),eG.WithHole(U.EventQ2(eG.k,"sort_tipo",function(){return eG.i;},function(){eV(et.Get().tipo);}))),eF.WithHole(U.EventQ2(eF.k,"sort_referido",function(){return eF.i;},function(){eV(et.Get().referido);}))),eE.WithHole(U.EventQ2(eE.k,"sort_nivel",function(){return eE.i;},function(){eV(et.Get().nivel);}))),eD.WithHole(U.EventQ2(eD.k,"sort_referidos",function(){return eD.i;},function(){eV(et.Get().referidos);}))),eC.WithHole(U.EventQ2(eC.k,"sort_descendientes",function(){return eC.i;},function(){eV(et.Get().descendientes);}))),eB.WithHole(U.EventQ2(eB.k,"sort_comision",function(){return eB.i;},function(){eV(et.Get().comision);}))),eA.WithHole(U.EventQ2(eA.k,"sort_diapago",function(){return eA.i;},function(){eV(et.Get().diaPago);}))),ez.WithHole(U.EventQ2(ez.k,"sort_desde",function(){return ez.i;},function(){eV(et.Get().desde);}))),ey.WithHole(U.EventQ2(ey.k,"sort_id",function(){return ey.i;},function(){eV(et.Get().Id);}))).WithHole({$:0,$0:"tbody",$1:ex})),(eM=U.CompleteHoles(ew.k,ew.h,[["filtro",0]]),(eN=new R.New(eM[1],V.consolidado(eM[0])),(ew.i=eN,eN)))).get_Doc();};z.comisiones=function(){var es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD;function eE(eI,eJ){return eJ===""?eI:eJ;}function eF(){var eI;cM.Start((eI=null,cM.Delay(function(){return cM.Bind(p.GetAsync(es),function(eJ){a.saveAs(new cN([bi.concat("\r\n",bb.map(function(eK){var eL,eM;eL=eK[0];eM=eK[1];return(((((((ek.Curried(function(eN,eO,eP,eQ,eR,eS,eT){return eN(bw.toSafe(eO)+","+bw.toSafe(eP)+","+bw.toSafe(eQ)+","+bw.toSafe(eR)+","+bw.prettyPrint(eS)+","+bw.prettyPrint(eT));},7))(a.id))("22"))(eE("----------",eM.numero.get_Id())))(eE("----------",eM.routing.get_Id())))((function(eN){return function(eO){return eN(a.String(eO)+".00");};}(a.id))(eL.comision)))("----------"))(eM.titular===""?N.nombre2(eL.datosPersonales):eM.titular);},eJ))],{type:"text/plain;charset=utf-8"}),"pagos.csv");return cM.Zero();});})),null);}function eG(eI,eJ){return eI.id;}function eH(eI,eJ){var eK,eL,eM,eN,eO;eK=p.Map(function(eP){return eP[0];},eJ);eL=p.Map(function(eP){return eP[1];},eJ);return(eM=T.Make().WithHole({$:1,$0:"codigo",$1:"22"}).WithHole({$:2,$0:"cuenta",$1:p.Map(function(eP){return eE("----------",eP.numero.get_Id());},eL)}).WithHole({$:2,$0:"aba",$1:p.Map(function(eP){return eE("----------",eP.routing.get_Id());},eL)}).WithHole({$:2,$0:"monto",$1:p.Map(function(eP){return(function(eQ){return function(eR){return eQ(a.String(eR)+".00");};}(a.id))(eP.comision);},eK)}).WithHole({$:1,$0:"identificacion",$1:"---------"}).WithHole({$:2,$0:"nombre",$1:p.Map2(function(eP,eQ){return eE(N.nombre2(eP.datosPersonales),eQ.titular);},eK,eL)}),(eN=U.CompleteHoles(eM.k,eM.h,[]),(eO=new R.New(eN[1],V.filapago(eN[0])),(eM.i=eO,eO)))).get_Doc();}es=p.MapAsync(function(eI){var eJ,eK,eL;function eM(eN){return cM.Return(eN);}return cM.Bind((eJ=bo.asyncResult(),eJ.Run(eJ.Delay(function(){var eN;eN=bb.filter(function(eO){return eO.comision>0;},eI);return eJ.Bind$1(_0.obtenerFormasDePagoPara(S.ofSeq(bb.map(function(eO){return eO.id;},eN))),function(eO){function eP(eR,eS){return I.Equals(eR.id,eS[0])?{$:1,$0:[eR,eS[1]]}:null;}function eQ(eR,eS){var eT,eU;return[eR,(eT=bb.tryPick(function(eV){var eW;eW=eV.cuentaPago;return eW.$==0?{$:1,$0:eW.$0}:null;},eS),(eU=L.ctaVacio(),eT==null?eU:eT.$0))];}return eJ.Return(bb.choose(function(eR){return eP(eR[0],eR[1]);},bb.zip(eN,bb.map(function(eR){return eQ(eR[0],eR[1]);},eO))));});}))),(eK=(eL=[],function(eN){return bD.defaultValue(eL,eN);}),function(eN){return eM(eK(eN));}));},p.Map(function(eI){return eI.aliados;},m.modeloV().get_View()));return(et=(eu=by.ofArray([(ev=T.Make().WithHole({$:2,$0:"codigo",$1:p.Map(function(eI){return(function(eJ){return function(eK){return eJ(a.String(eK));};}(a.id))(bb.length(eI));},es)}).WithHole({$:1,$0:"cuenta",$1:""}).WithHole({$:1,$0:"aba",$1:""}).WithHole({$:2,$0:"monto",$1:p.Map(function(eI){function eJ(eK,eL){return eK.comision;}return(function(eK){return function(eL){return eK(a.String(eL)+".00");};}(a.id))(bb.sumBy(function(eK){return eJ(eK[0],eK[1]);},eI));},es)}).WithHole({$:1,$0:"identificacion",$1:""}).WithHole({$:1,$0:"nombre",$1:""}),(ew=U.CompleteHoles(ev.k,ev.h,[]),(ex=new R.New(ew[1],V.filapago(ew[0])),(ev.i=ex,ex)))).get_Doc(),(ey=T.Make().WithHole({$:1,$0:"codigo",$1:""}).WithHole({$:1,$0:"cuenta",$1:""}).WithHole({$:1,$0:"aba",$1:""}).WithHole({$:1,$0:"monto",$1:"--------------------"}).WithHole({$:1,$0:"identificacion",$1:""}).WithHole({$:1,$0:"nombre",$1:""}),(ez=U.CompleteHoles(ey.k,ey.h,[]),(eA=new R.New(ez[1],V.filapago(ez[0])),(ey.i=eA,eA)))).get_Doc(),Z.ConvertSeqBy(function(eI){return eG(eI[0],eI[1]);},function(eI){return function(eJ){return eH(eI,eJ);};},es)]),(eB=T.Make(),eB.WithHole(U.EventQ2(eB.k,"exportar",function(){return eB.i;},function(){eF();}))).WithHole({$:0,$0:"tbody",$1:Z.Concat(eu)})),(eC=U.CompleteHoles(et.k,et.h,[]),(eD=new R.New(eC[1],V.tablapagos(eC[0])),(et.i=eD,eD)))).get_Doc();};A.listaDocs=function(){var es,et,eu,ev,ew;function ex(ey,ez){var eA,eB,eC,eD;return(eA=(eB=p.Map(function(eE){return eE.id.get_Id();},m.aliadoW()),T.Make().WithHole({$:2,$0:"nombre",$1:ez}).WithHole({$:2,$0:"idaliado",$1:eB})),(eC=U.CompleteHoles(eA.k,eA.h,[]),(eD=new R.New(eC[1],V.filadocs(eC[0])),(eA.i=eD,eD)))).get_Doc();}A.refrescarListaDocs();return(es=(et=(eu=Z.ConvertSeqBy(a.id,function(ey){return function(ez){return ex(ey,ez);};},A.docsV().get_View()),T.Make().WithHole({$:0,$0:"tbody",$1:eu})),et.WithHole(U.EventQ2(et.k,"subir",function(){return et.i;},function(ey){var ez;ez=p.TryGet(m.aliadoW());ez==null?void 0:A.subir(ey.Event,ez.$0.id.get_Id());}))),(ev=U.CompleteHoles(es.k,es.h,[]),(ew=new R.New(ev[1],V.subirdocumentos(ev[0])),(es.i=ew,ew)))).get_Doc();};A.refrescarListaDocs=function(){_0.iterA(cC.map(function(es){A.docsV().Set(es);},_0.obtenerListaDocs()));};A.docsV=function(){_5.$cctor();return _5.docsV;};A.subir=function(es,et){var eu,ev,ew,ex,ey,ez,eA,eB,eC,eD;es.preventDefault();ey=a.jQuery("#SubirDocumentos");ez=new a.FormData();eA=ey.serializeArray();for(eB=0,eC=eA.length-1;eB<=eC;eB++){eD=S.get(eA,eB);ez.append(eD.name,eD.value);}ev=ey.children("input[type=file]").first().get(0).files.item(0);ew=ev.name;ez.append("file",ev);em.ajax((ex={},ex.type="POST",ex.url="/api/subir/"+et+"/"+ew,ex.data=ez,ex.contentType=false,ex.processData=false,ex.success=A.uploaded(),ex));};A.uploaded=function(){_5.$cctor();return _5.uploaded$1;};B.formaAutorizacion=function(){var es,et,eu,ev,ew;es=(et=(eu=Z.EmbedView(B.cuentaAutorizar().get_View()),T.Make().WithHole({$:2,$0:"titular",$1:B.titular().get_View()}).WithHole({$:2,$0:"montoafiliacion",$1:p.Map(function(ex){return(function(ey){return function(ez){return ey("$"+a.String(ez)+".00");};}(a.id))(ex.premisas.montoAfiliacion);},m.modeloV().get_View())}).WithHole({$:2,$0:"dia",$1:p.Map(function(ex){return a.String(N.dia(ex.diaPago));},m.aliadoW())}).WithHole({$:0,$0:"cuentadebitar",$1:eu})),(ev=U.CompleteHoles(et.k,et.h,[]),(ew=new R.New(ev[1],V.autorizacionpago(ev[0])),(et.i=ew,ew)))).get_Doc();return bE.formaFirma(B.titular().get_View(),es,B.actualizarSubscripcion,"AutorizacionPago");};B.titular=function(){_5.$cctor();return _5.titular;};B.actualizarSubscripcion=function(){var es;es=_0.actualizarSubscripcion(B.pid());return cC.map(function(et){return function(eu){return et("Subscripción #"+bw.toSafe(eu)+" creada.");};}(a.id),es);};B.cuentaAutorizar=function(){_5.$cctor();return _5.cuentaAutorizar;};B.set_pid=function(es){_5.$cctor();_5.pid=es;};B.pid=function(){_5.$cctor();return _5.pid;};C.formaContrato=function(){var es,et,eu,ev;es=p.Map(function(ew){return N.nombre2(ew.datosPersonales);},m.aliadoW());return bE.formaFirma(es,(et=T.Make().WithHole({$:2,$0:"aliado",$1:es}),(eu=U.CompleteHoles(et.k,et.h,[]),(ev=new R.New(eu[1],V.contrato(eu[0])),(et.i=ev,ev)))).get_Doc(),C.firmarContrato,"Contrato");};C.firmarContrato=function(){return cC.rtn("Contrato firmado!");};D.transacciones=function(){return m.selAliadoIdDoc(D.docTransacciones);};D.docTransacciones=function(es){var et,eu,ev,ew;function ex(ez,eA){var eB,eC,eD;return(eB=T.Make().WithHole({$:2,$0:"fecha",$1:p.Map(function(eE){return bx.toYYYYMMDDHHMM("-",eE.fechaPago);},eA)}).WithHole({$:2,$0:"transid",$1:p.Map(function(eE){return eE.transaccion;},eA)}).WithHole({$:2,$0:"cuenta",$1:p.Map(function(eE){return a.String(eE.concepto);},eA)}).WithHole({$:2,$0:"status",$1:p.Map(function(eE){return eE.statusTran;},eA)}).WithHole({$:2,$0:"monto",$1:p.Map(function(eE){return(function(eF){return function(eG){return eF(eG.toFixed(2));};}(a.id))(eE.monto/100);},eA)}),(eC=U.CompleteHoles(eB.k,eB.h,[]),(eD=new R.New(eC[1],V.transaccion(eC[0])),(eB.i=eD,eD)))).get_Doc();}function ey(ez,eA){return bb.filter(function(eB){return I.Equals(eB.idAliado,eA.id);},ez);}return(et=(eu=Z.ConvertSeqBy(function(ez){return ez.transaccion;},function(ez){return function(eA){return ex(ez,eA);};},(((ek.Curried3(p.Map2))(ey))(D.transaccionesW()))(es)),T.Make().WithHole({$:0,$0:"tbody",$1:eu})),(ev=U.CompleteHoles(et.k,et.h,[]),(ew=new R.New(ev[1],V.transacciones(ev[0])),(et.i=ew,ew)))).get_Doc();};D.transaccionesW=function(){_5.$cctor();return _5.transaccionesW;};H.GetFields=function(es){var et,eu;et=[];for(var ev in es)et.push([ev,es[ev]]);return et;};H.GetFieldValues=function(es){var et,eu;et=[];for(var ev in es)et.push(es[ev]);return et;};I.Equals=function(es,et){var eu,ev,ew,ex;if(es===et)return true;else{eu=typeof es;if(eu=="object"){if(es===null||es===void 0||et===null||et===void 0)return false;else if("Equals"in es)return es.Equals(et);else if(es instanceof a.Array&&et instanceof a.Array)return I.arrayEquals(es,et);else if(es instanceof a.Date&&et instanceof a.Date)return I.dateEquals(es,et);else{ev=[true];for(var ey in es)if(function(ez){ev[0]=!es.hasOwnProperty(ez)||et.hasOwnProperty(ez)&&I.Equals(es[ez],et[ez]);return!ev[0];}(ey))break;if(ev[0]){for(var ez in et)if(function(eA){ev[0]=!et.hasOwnProperty(eA)||es.hasOwnProperty(eA);return!ev[0];}(ez))break;}return ev[0];}}else return eu=="function"&&("$Func"in es?es.$Func===et.$Func&&es.$Target===et.$Target:"$Invokes"in es&&"$Invokes"in et&&I.arrayEquals(es.$Invokes,et.$Invokes));}};I.arrayEquals=function(es,et){var eu,ev;if(S.length(es)===S.length(et)){eu=true;ev=0;while(eu&&ev<S.length(es)){!I.Equals(S.get(es,ev),S.get(et,ev))?eu=false:void 0;ev=ev+1;}return eu;}else return false;};I.dateEquals=function(es,et){return es.getTime()===et.getTime();};I.Compare=function(es,et){var eu,ev,ew,ex,ey,ez;if(es===et)return 0;else{ev=typeof es;switch(ev=="function"?1:ev=="boolean"?2:ev=="number"?2:ev=="string"?2:ev=="object"?3:0){case 0:return typeof et=="undefined"?0:-1;case 1:return o.FailWith("Cannot compare function values.");case 2:return es<et?-1:1;case 3:if(es===null)ew=-1;else if(et===null)ew=1;else if("CompareTo"in es)ew=es.CompareTo(et);else if("CompareTo0"in es)ew=es.CompareTo0(et);else if(es instanceof a.Array&&et instanceof a.Array)ew=I.compareArrays(es,et);else if(es instanceof a.Date&&et instanceof a.Date)ew=I.compareDates(es,et);else{ex=[0];for(var eA in es)if(function(eB){return!es.hasOwnProperty(eB)?false:!et.hasOwnProperty(eB)?(ex[0]=1,true):(ex[0]=I.Compare(es[eB],et[eB]),ex[0]!==0);}(eA))break;if(ex[0]===0){for(var eB in et)if(function(eC){return!et.hasOwnProperty(eC)?false:!es.hasOwnProperty(eC)&&(ex[0]=-1,true);}(eB))break;}ew=ex[0];}return ew;}}};I.compareArrays=function(es,et){var eu,ev;if(S.length(es)<S.length(et))return -1;else if(S.length(es)>S.length(et))return 1;else{eu=0;ev=0;while(eu===0&&ev<S.length(es)){eu=I.Compare(S.get(es,ev),S.get(et,ev));ev=ev+1;}return eu;}};I.compareDates=function(es,et){return I.Compare(es.getTime(),et.getTime());};I.Hash=function(es){var et;et=typeof es;return et=="function"?0:et=="boolean"?es?1:0:et=="number"?es:et=="string"?I.hashString(es):et=="object"?es==null?0:es instanceof a.Array?I.hashArray(es):I.hashObject(es):0;};I.hashString=function(es){var et,eu,ev;if(es===null)return 0;else{et=5381;for(eu=0,ev=es.length-1;eu<=ev;eu++)et=I.hashMix(et,es[eu].charCodeAt());return et;}};I.hashArray=function(es){var et,eu,ev;et=-34948909;for(eu=0,ev=S.length(es)-1;eu<=ev;eu++)et=I.hashMix(et,I.Hash(S.get(es,eu)));return et;};I.hashObject=function(es){var et,eu;if("GetHashCode"in es)return es.GetHashCode();else{et=[0];for(var ev in es)if(function(ew){et[0]=I.hashMix(I.hashMix(et[0],I.hashString(ew)),I.Hash(es[ew]));return false;}(ev))break;return et[0];}};I.hashMix=function(es,et){return(es<<5)+es+et;};J.newLyt=function(es,et){return bK.New(es,i.Create$1(et));};J.addLayout=function(es){p.Sink(function(et){var eu;eu=J.createEntries(es.lytName,et);k.addPlugIn(l.New(es.lytName,S.ofSeq(bb.delay(function(){return bb.append([k.newVar("Layout",es.lytDefinition)],bb.delay(function(){return J.getVarEntries(eu);}));})),[],S.ofSeq(bb.delay(function(){return bb.append(J.getDocEntries(eu),bb.delay(function(){var ev;return bb.append([k.newDocF("InputFile",{$:4,$0:(ev=es.lytName,ek.Curried(J.inputFile,4,[ev])),$1:"attrs",$2:"Label",$3:"Action",$4:"[Doc]"})],bb.delay(function(){var ew;return bb.append([k.newDocF("InputLabel",{$:3,$0:(ew=es.lytName,ek.Curried(J.inputLabel,3,[ew])),$1:"attrs",$2:"Label",$3:"Var"})],bb.delay(function(){var ex;return bb.append([k.newDocF("HtmlDoc",{$:1,$0:(ex=es.lytName,function(ey){return J.htmlDoc(ex,ey);}),$1:"html"})],bb.delay(function(){return[k.newDocF("none",{$:1,$0:J.none,$1:"x"})];}));}));}));}));})),[],[]));k.mainDocV().Set(k.mainDocV().Get());},es.lytDefinition.get_View());};J.createEntries=function(es,et){return J.processLines(function(eu){return J.createEntryO(es,eu);},b3.splitByChar("\n",et));};J.getVarEntries=function(es){function et(eu){return eu[1];}return bb.map(function(eu){return bb.last(et(eu));},bb.groupBy(function(eu){return eu.varName;},bb.choose(function(eu){return eu.$==0?{$:1,$0:eu.$0}:null;},es)));};J.getDocEntries=function(es){function et(eu){return eu[1];}return bb.map(function(eu){return bb.last(et(eu));},bb.groupBy(function(eu){return eu.docName;},bb.choose(function(eu){return eu.$==2?{$:1,$0:eu.$0}:null;},es)));};J.inputFile=function(es,et,eu,ev,ew){var ex,ey,ez,eA;ex=(ey=(ez=((J.splitName())(es))(ev),k.tryGetAct(ez[0],ez[1])),ey==null?null:{$:1,$0:(eA=ey.$0,Z.Element("div",J.getAttrs(es,et,true),[Z.Element("div",[cW.Create("class","input-group")],[Z.Element("span",[cW.Create("class","input-group-btn")],[Z.Element("label",[cW.Create("class","btn")],[J.getText(es,eu,true),Z.Element("input",[cW.Create("class","form-control"),cW.Create("type","file"),cO.Style("display","none"),cW.HandlerImpl("click",function(eB){return function(){eB.value="";};}),cW.HandlerImpl("change",function(eB){return function(){return k.callFunction(eB,null,eA.actFunction);};})],[])])]),ew!==""?J.singleDoc(es,by.ofArray([[ew,false]])):Z.get_Empty()])]))});return ex==null?J.errDoc((function(eB){return function(eC){return eB("Action not found "+bw.toSafe(eC));};}(a.id))(ev)):ex.$0;};J.inputLabel=function(es,et,eu,ev){var ew,ex,ey;ew=(ex=(ey=((J.splitName())(es))(ev),k.tryGetVar(ey[0],ey[1])),ex==null?null:{$:1,$0:Z.Element("div",J.getAttrs(es,et,true),[Z.Element("div",[cW.Create("class","input-group")],[Z.Element("span",[cW.Create("class","input-group-addon")],[J.getText(es,eu,true)]),Z.Input([cW.Create("class","form-control")],ex.$0.varVar)])])});return ew==null?J.errDoc((function(ez){return function(eA){return ez("Var not found "+bw.toSafe(eA));};}(a.id))(ev)):ew.$0;};J.htmlDoc=function(es,et){var eu;eu=J.getTextData(es,et);return eu.$==1?Z.BindView(Z.Verbatim,eu.$0):eu.$==2?J.errDoc((function(ev){return function(ew){return ev("HtmlDoc: unexpected action "+Y.p$1(ew));};}(a.id))(eu.$0)):Z.Verbatim(eu.$0);};J.none=function(es){return Z.Element("span",[],[]);};J.turnToView=function(es){return Z.EmbedView(p.Map(es,k.mainDocV().get_View()));};J.splitName=function(){bL.$cctor();return bL.splitName;};J.getDocFinal=function(es,et){var eu;eu=J.getDocF(es,et);return eu[1].$==0?eu[0]:J.errDoc((((ek.Curried3(function(ev,ew,ex){return ev("Too many parameters "+Y.p(ew)+" "+bw.printList(function(ey){return"("+bw.prettyPrint(ey[0])+", "+bw.prettyPrint(ey[1])+")";},ex));}))(a.id))(et))(es));};J.errDoc=function(es){return Z.Element("div",[],[Z.TextNode(es)]);};J.processLines=function(es,et){function eu(ev){var ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ;ew=bb.tryHead(ev);return ew!=null&&ew.$==1?(ex=ew.$0,(ey=J.splitTokens(ex),ey.$==1&&(eA=(eB=ey.$0,J.Identifier(eB[0],eB[1])),eA!=null&&eA.$==1&&(ey.$1.$==1&&((eC=ey.$1.$0,J.Vertical(eC[0],eC[1])).$==2&&(ey.$1.$1.$==0&&(ez=eA.$0,true)))))?(eD=J.getExtraLines(function(eK){return bi.StartsWith(bi.Trim(eK),"|");},ev),eu((dh.createLayoutDefinitions(ez,dh.extractNodes(eD[0])))[1].concat(eD[1]))):ey.$==0?eu(b4.array(ev,{$:1,$0:1},null)):(eE=J.getExtraLines(function(eK){return bi.StartsWith(bi.Trim(eK),":");},ev),(eF=eE[1],(eG=eE[0],S.length(eG)>0?((function(eK){return function(eL){return eK("l = ;"+bw.toSafe(eL)+";");};}(function(eK){en.log(eK);}))(ex),eH=J.createLines(bb.nth(0,bi.SplitChars(ex,[" "],1)),1,[],[],1,eG),eI=eH[0],eJ=eH[1],eu(S.ofSeq(bb.delay(function(){return bb.append([ex+" "+bi.concat(" ",eI)],bb.delay(function(){return bb.append(eJ,bb.delay(function(){return eF;}));}));})))):S.ofSeq(bb.delay(function(){var eK;return bb.append((eK=es(ex),eK!=null&&eK.$==1?[eK.$0]:[]),bb.delay(function(){return eu(eF);}));}))))))):[];}return eu(et);};J.createEntryO=function(es,et){var eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4,e5,e6,e7,e8,e9,e_,e$,fa,fb,fc,fd,fe,ff,fg,fh,fi,fj,fk,fl,fm,fn,fo,fp,fq,fr,fs,ft,fu,fv;try{eu=J.splitTokens(et);return eu.$==1&&(ew=(ex=eu.$0,J.Identifier(ex[0],ex[1])),ew!=null&&ew.$==1&&(eu.$1.$==1&&((ey=eu.$1.$0,J.Vertical(ey[0],ey[1])).$==0&&(eu.$1.$1.$==1&&(ez=(eA=eu.$1.$1.$0,J.Measures$1(eA[0],eA[1])),ez!=null&&ez.$==1&&(ev=[eu.$1.$1.$1,ez.$0,ew.$0],true))))))?(eB=ev[2],J.entryDoc(eB,(J.createSplitterM())([es,eB,true,ev[1],ev[0]]))):eu.$==1&&(eD=(eE=eu.$0,J.Identifier(eE[0],eE[1])),eD!=null&&eD.$==1&&(eu.$1.$==1&&((eF=eu.$1.$0,J.Vertical(eF[0],eF[1])).$==1&&(eu.$1.$1.$==1&&(eG=(eH=eu.$1.$1.$0,J.Measures$1(eH[0],eH[1])),eG!=null&&eG.$==1&&(eC=[eu.$1.$1.$1,eG.$0,eD.$0],true))))))?(eI=eC[2],J.entryDoc(eI,(J.createSplitterM())([es,eI,false,eC[1],eC[0]]))):eu.$==1&&(eK=(eL=eu.$0,J.Identifier(eL[0],eL[1])),eK!=null&&eK.$==1&&(eu.$1.$==1&&((eM=eu.$1.$0,J.Var(eM[0],eM[1])).$==2&&(eu.$1.$1.$==1&&(eN=(eO=eu.$1.$1.$0,J.Identifier(eO[0],eO[1])),eN!=null&&eN.$==1&&(eu.$1.$1.$1.$==1&&(eu.$1.$1.$1.$1.$==1&&(eu.$1.$1.$1.$1.$1.$==0&&(eJ=[eN.$0,eu.$1.$1.$1.$0,eK.$0,eu.$1.$1.$1.$1.$0],true)))))))))?(eP=eJ[2],J.entryDoc(eP,(J.createButtonM())([es,eP,eJ[0],eJ[1],eJ[3]]))):eu.$==1&&(eR=(eS=eu.$0,J.Identifier(eS[0],eS[1])),eR!=null&&eR.$==1&&(eu.$1.$==1&&((eT=eu.$1.$0,J.Var(eT[0],eT[1])).$==3&&(eu.$1.$1.$==1&&(eU=(eV=eu.$1.$1.$0,J.Identifier(eV[0],eV[1])),eU!=null&&eU.$==1&&(eu.$1.$1.$1.$==1&&(eu.$1.$1.$1.$1.$==0&&(eQ=[eu.$1.$1.$1.$0,eR.$0,eU.$0],true))))))))?(eW=eQ[1],J.entryDoc(eW,(J.createInputM())([es,eW,eQ[2],eQ[0]]))):eu.$==1&&(eY=(eZ=eu.$0,J.Identifier(eZ[0],eZ[1])),eY!=null&&eY.$==1&&(eu.$1.$==1&&((e0=eu.$1.$0,J.Var(e0[0],e0[1])).$==4&&(eu.$1.$1.$==1&&(e1=(e2=eu.$1.$1.$0,J.Identifier(e2[0],e2[1])),e1!=null&&e1.$==1&&(eu.$1.$1.$1.$==1&&(eu.$1.$1.$1.$1.$==0&&(eX=[eu.$1.$1.$1.$0,eY.$0,e1.$0],true))))))))?(e3=eX[1],J.entryDoc(e3,(J.createTextAreaM())([es,e3,eX[2],eX[0]]))):eu.$==1&&(e5=(e6=eu.$0,J.Identifier(e6[0],e6[1])),e5!=null&&e5.$==1&&(eu.$1.$==1&&((e7=eu.$1.$0,J.Var(e7[0],e7[1])).$==0&&(eu.$1.$1.$==1&&(eu.$1.$1.$1.$==0&&(e4=[e5.$0,eu.$1.$1.$0],true))))))?(e8=e4[0],J.entryVar(e8,(J.createVarM())([es,e8,e4[1][0]]))):eu.$==1&&(e_=(e$=eu.$0,J.Identifier(e$[0],e$[1])),e_!=null&&e_.$==1&&(eu.$1.$==1&&((fa=eu.$1.$0,J.Var(fa[0],fa[1])).$==1&&(eu.$1.$1.$==1&&(e9=[eu.$1.$1.$0,e_.$0,eu.$1.$1.$1],true)))))?(fb=e9[1],J.entryDoc(fb,(J.createDocM())([es,fb,e9[0][0],e9[2]]))):eu.$==1&&(fd=(fe=eu.$0,J.Identifier(fe[0],fe[1])),fd!=null&&fd.$==1&&(eu.$1.$==1&&((ff=eu.$1.$0,J.Vertical(ff[0],ff[1])).$==4&&(eu.$1.$1.$==1&&(eu.$1.$1.$1.$==1&&(fc=[eu.$1.$1.$1.$0,eu.$1.$1.$1.$1,fd.$0,eu.$1.$1.$0],true))))))?(fg=fc[2],J.entryDoc(fg,(J.createTemplateM())([es,fg,fc[3],fc[0],fc[1]]))):eu.$==1&&(fi=(fj=eu.$0,J.Identifier(fj[0],fj[1])),fi!=null&&fi.$==1&&(eu.$1.$==1&&((fk=eu.$1.$0,J.Concat(fk[0],fk[1])).$==0&&(fh=[eu.$1.$1,fi.$0],true))))?(fl=fh[1],J.entryDoc(fl,(J.createConcatM())([es,fl,fh[0]]))):eu.$==1&&(fn=(fo=eu.$0,J.Identifier(fo[0],fo[1])),fn!=null&&fn.$==1&&(eu.$1.$==1&&((fp=eu.$1.$0,J.Vertical(fp[0],fp[1])).$==3&&(eu.$1.$1.$==1&&(eu.$1.$1.$1.$==1&&(eu.$1.$1.$1.$1.$==1&&(fm=[eu.$1.$1.$1.$1.$0,eu.$1.$1.$0,eu.$1.$1.$1.$1.$1,fn.$0,eu.$1.$1.$1.$0],true)))))))?null:eu.$==1&&(fr=(fs=eu.$0,J.Identifier(fs[0],fs[1])),fr!=null&&fr.$==1&&(eu.$1.$==1&&(ft=(fu=eu.$1.$0,J.Vertical(fu[0],fu[1])),ft.$==5&&(eu.$1.$1.$==1&&(fq=[eu.$1.$1.$0,eu.$1.$1.$1,ft.$0,fr.$0],true)))))?(fv=fq[3],J.entryDoc(fv,(J.createElementM())([es,fv,fq[2],fq[0],fq[1]]))):null;}catch(fw){((function(fx){return function(fy){return fx(bw.prettyPrint(fy));};}(function(fx){en.log(fx);}))(fw));return null;}};J.getAttrs=function(es,et,eu){var ev;ev=[et,eu];return by.ofSeq(bb.delay(function(){return bb.append(bb.choose(function(ew){var ex,ey,ez,eA,eB,eC;return!I.Equals(ew,null)&&ew.length===2&&(ey=S.get(ew,1),bi.Trim(S.get(ew,0))!==""&&bi.Trim(ey)!=="")?(ez=S.get(ew,1),(eA=S.get(ew,0),{$:1,$0:(eB=J.getTextData(es,bi.Trim(ez)),eB.$==1?cO.Dynamic(bi.Trim(eA),eB.$0):eB.$==2?(eC=eB.$0,cO.Handler(bi.Trim(eA),function(eD){return function(eE){return k.callFunction(eD,eE,eC.actFunction);};})):cW.Create(bi.Trim(eA),bi.Trim(eB.$0)))})):null;},bb.map(function(ew){return b3.splitByChar("=",ew);},b3.splitByChar(";",ev[0]))),bb.delay(function(){return bb.choose(function(ew){var ex,ey,ez,eA,eB;return!I.Equals(ew,null)&&ew.length===2&&(ey=S.get(ew,1),bi.Trim(S.get(ew,0))!==""&&bi.Trim(ey)!=="")?(ez=S.get(ew,1),(eA=S.get(ew,0),{$:1,$0:(eB=J.getTextData(es,bi.Trim(ez)),eB.$==1?cO.DynamicStyle(bi.Trim(eA),eB.$0):eB.$==2?cO.Style(bi.Trim(eA),(function(eC){return function(eD){return eC("${"+bw.toSafe(eD)+"}");};}(a.id))(eB.$0.actName)):cO.Style(bi.Trim(eA),bi.Trim(eB.$0)))})):null;},bb.map(function(ew){return b3.splitByChar(":",ew);},b3.splitByChar(";",ev[0])));}));}));};J.getText=function(es,et,eu){var ev,ew,ex,ey,ez,eA,eB,eC,eD;ev=J.Identifier(et,eu);return ev!=null&&ev.$==1?(ew=ev.$0,(ex=((J.splitName())(es))(ew),(ey=ex[0],(ez=ex[1],(eA=(eB=k.tryGetViw(ey,ez),eB==null?null:{$:1,$0:Z.TextView(eB.$0.viwView)}),eA==null?(eC=(eD=k.tryGetVar(ey,ez),eD==null?null:{$:1,$0:Z.TextView(eD.$0.varVar.get_View())}),eC==null?Z.TextNode(ew):eC.$0):eA.$0))))):Z.TextNode(et);};J.singleDoc=function(es,et){return Z.EmbedView(p.Map(function(eu){var ev;return eu.$==1&&(eu.$1.$==0&&(ev=eu.$0,true))?ev:J.errDoc((function(ew){return function(ex){return ew("expected exactly 1 element "+bw.printList(function(ey){return"("+bw.prettyPrint(ey[0])+", "+bw.prettyPrint(ey[1])+")";},ex));};}(a.id))(et));},p.Map(function(){return J.getDocs(es,et);},k.mainDocV().get_View())));};J.getTextData=function(es,et){var eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG;eu=(ev=b3.delimitedO("@{","}",et),ev==null?null:{$:1,$0:(ew=ev.$0,(ex=ew[0],(ey=ew[1],(ez=ew[2],(eA=((J.splitName())(es))(ey),(eB=eA[0],(eC=eA[1],(eD=(eE=k.tryGetWoW(eB,eC),eE==null?null:{$:1,$0:function(eH){var eI,eJ;eJ=J.getTextData(es,ez);switch(ex===""?eJ.$==1?(eI=eJ.$0,2):eJ.$==2?(eI=eJ.$0,3):eJ.$0===""?0:(eI=eJ.$0,1):eJ.$==1?(eI=eJ.$0,2):eJ.$==2?(eI=eJ.$0,3):(eI=eJ.$0,1)){case 0:return{$:1,$0:eH};case 1:return{$:1,$0:p.Map(function(eK){return ex+eK+eI;},eH)};case 2:return{$:1,$0:p.Map2(function(eK,eL){return ex+eK+eL;},eH,eI)};case 3:return{$:2,$0:eI};}}(eE.$0)}),eD==null?(eF=(eG=k.tryGetAct(eB,eC),eG==null?null:{$:1,$0:{$:2,$0:eG.$0}}),eF==null?{$:0,$0:((((ek.Curried(function(eH,eI,eJ,eK){return eH(bw.toSafe(eI)+" ${Missing "+bw.toSafe(eJ)+"}"+bw.toSafe(eK));},4))(a.id))(ex))(ey))(ez)}:eF.$0):eD.$0))))))))});return eu==null?{$:0,$0:et}:eu.$0;};J.createSplitter=function(es,et,eu,ev,ew){var ex;ex=J.pairOfDocs(es,ew);return ev.$==1?J.variableSplitter(eu,ev.$0,ev.$1,ev.$2,ex[0],ex[1]):J.fixedSplitter(eu,ev.$0,ev.$1,ex[0],ex[1]);};J.createButton=function(es,et,eu,ev,ew){return J.turnToView(function(){var ex,ey,ez,eA,eB;function eC(eD,eE){return k.callFunction(null,null,eD.actFunction);}ex=(ey=(ez=(eA=((J.splitName())(es))(eu),k.tryGetAct(eA[0],eA[1])),ez==null?null:{$:1,$0:(eB=ez.$0,function(eD){return eC(eB,eD);})}),ey==null?a.ignore:ey.$0);return Z.Button(ew[0],J.getAttrs(es,ev[0],ev[1]),ex);});};J.createInput=function(es,et,eu,ev){return J.turnToView(function(){var ew,ex,ey,ez,eA;ew=(ex=(ey=((J.splitName())(es))(eu),k.tryGetVoV(ey[0],ey[1])),(ez=(eA=J.getAttrs(es,ev[0],ev[1]),function(eB){return Z.Input(eA,eB);}),ex==null?null:{$:1,$0:ez(ex.$0)}));return ew==null?J.errDoc((function(eB){return function(eC){return eB("Missing var: "+bw.toSafe(eC));};}(a.id))(eu)):ew.$0;});};J.createTextArea=function(es,et,eu,ev){return J.turnToView(function(){var ew,ex,ey,ez,eA;ew=(ex=(ey=((J.splitName())(es))(eu),k.tryGetVoV(ey[0],ey[1])),(ez=(eA=J.getAttrs(es,ev[0],ev[1]),function(eB){return Z.InputArea(eA,eB);}),ex==null?null:{$:1,$0:ez(ex.$0)}));return ew==null?J.errDoc((function(eB){return function(eC){return eB("Missing var: "+bw.toSafe(eC));};}(a.id))(eu)):ew.$0;});};J.createElement=function(es,et,eu,ev,ew){var ex;ex=[J.turnToView(function(){return Z.Concat(J.getDocs(es,ew));})];return Z.Element(eu,J.getAttrs(es,ev[0],ev[1]),ex);};J.createDoc=function(es,et,eu,ev){return J.turnToView(function(){var ew,ex,ey;ew=(ex=(ey=((J.splitName())(es))(eu),k.tryGetDoc(ey[0],ey[1])),ex==null?null:{$:1,$0:J.getDocFinal(ev,ex.$0)});return ew==null?J.errDoc((function(ez){return function(eA){return ez("Missing doc: "+bw.toSafe(eA));};}(a.id))(eu)):ew.$0;});};J.createTemplate=function(es,et,eu,ev,ew){return J.turnToView(function(){var ex,ey,ez,eA,eB,eC;ez=J.getAttrs(es,ev[0],ev[1]);cZ.LoadLocalTemplates("local");function eD(eF,eG){var eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS;eH=J.Identifier(eG[0],eG[1]);return eH!=null&&eH.$==1?(eI=eH.$0,eJ=eF[0],eK=(eL=(eM=(eN=((J.splitName())(es))(eI),k.tryGetDoc(eN[0],eN[1])),eM==null?null:{$:1,$0:{$:0,$0:eJ.toLowerCase(),$1:(J.getDocF(cB.Empty,eM.$0))[0]}}),eL==null?(eO=(eP=((J.splitName())(es))(eI),k.tryGetVar(eP[0],eP[1])),eO==null?null:{$:1,$0:{$:8,$0:eJ.toLowerCase(),$1:eO.$0.varVar}}):eL),eK==null?{$:0,$0:eJ.toLowerCase(),$1:J.errDoc((function(eT){return function(eU){return eT("Missing element: "+bw.toSafe(eU));};}(a.id))(eI))}:eK.$0):(eQ=eF[0],eR=J.getTextData(es,eG[0]),eR.$==1?{$:2,$0:eQ.toLowerCase(),$1:eR.$0}:eR.$==2?(eS=eR.$0,{$:4,$0:eQ.toLowerCase(),$1:function(eT){return function(eU){return k.callFunction(eT,eU,eS.actFunction);};}}):{$:1,$0:eQ.toLowerCase(),$1:eR.$0});}function eE(eF,eG){return eF%2===0;}try{ey={$:1,$0:(eA=(eB=bb.map(function(eF){return eD(eF[0],eF[1]);},bb.map(function(eF){return eF[1];},bb.filter(function(eF){return eE(eF[0],eF[1]);},bb.indexed(bb.pairwise(ew))))),(bb.isEmpty(ez)?a.id:(eC=[{$:3,$0:"attrs",$1:cW.Concat(ez)}],function(eF){return bb.append(eC,eF);}))(eB)),cZ.NamedTemplate("local",{$:1,$0:eu[0].toLowerCase()},eA))};}catch(eF){ey=null;}return ey==null?J.errDoc((function(eG){return function(eH){return eG("Missing template: "+bw.toSafe(eH));};}(a.id))(eu[0])):ey.$0;});};J.createConcat=function(es,et,eu){return J.turnToView(function(){return Z.Concat(J.getDocs(es,eu));});};J.createVar=function(es,et,eu){return i.Create$1(eu);};J.addNewLayout=function(es,et){var eu,ev;J.addLayout((eu=(ev=!I.Equals(et,null)?et:"\r\n            split horizontal 0-50-100 AppFramework.AppFwkClient Hello\r\n            Hello h1 \"color:blue; class=btn-primary\" \"How are you today?\" Ask\r\n            Ask Doc InputLabel \"placeholder=Type you answer here...\" \"Answer:\" AppFramework.mainDocV  \r\n            ",(b3.unindentStr())(ev)),J.newLyt(!I.Equals(et,null)?es:"Lyt_"+bi.Replace(a.String(bs.NewGuid()),"-",""),eu)));};J.getDocF=function(es,et){var eu,ev;ev=et.docDoc;switch(ev.$==1?es.$==1?(eu=[ev.$0,es.$0[0],es.$1],1):6:ev.$==2?es.$==1?es.$1.$==1?(eu=[ev.$0,es.$0[0],es.$1.$0[0],es.$1.$1],2):6:6:ev.$==3?es.$==1?es.$1.$==1?es.$1.$1.$==1?(eu=[ev.$0,es.$0[0],es.$1.$0[0],es.$1.$1.$0[0],es.$1.$1.$1],3):6:6:6:ev.$==4?es.$==1?es.$1.$==1?es.$1.$1.$==1?es.$1.$1.$1.$==1?(eu=[ev.$0,es.$0[0],es.$1.$0[0],es.$1.$1.$0[0],es.$1.$1.$1.$0[0],es.$1.$1.$1.$1],4):6:6:6:6:ev.$==5?es.$==1?es.$1.$==1?es.$1.$1.$==1?es.$1.$1.$1.$==1?es.$1.$1.$1.$1.$==1?(eu=[ev.$0,es.$0[0],es.$1.$0[0],es.$1.$1.$0[0],es.$1.$1.$1.$0[0],es.$1.$1.$1.$1.$0[0],es.$1.$1.$1.$1.$1],5):6:6:6:6:6:(eu=[ev.$0,es],0)){case 0:return[eu[0].f(),eu[1]];case 1:return[eu[0](eu[1]),eu[2]];case 2:return[(eu[0](eu[1]))(eu[2]),eu[3]];case 3:return[((eu[0](eu[1]))(eu[2]))(eu[3]),eu[4]];case 4:return[(((eu[0](eu[1]))(eu[2]))(eu[3]))(eu[4]),eu[5]];case 5:return[((((eu[0](eu[1]))(eu[2]))(eu[3]))(eu[4]))(eu[5]),eu[6]];case 6:return[Z.Element("div",[],[Z.TextNode((((ek.Curried3(function(ew,ex,ey){return ew("Parameters do not coincide with definition "+Y.p(ex)+" - "+bw.printList(function(ez){return"("+bw.prettyPrint(ez[0])+", "+bw.prettyPrint(ez[1])+")";},ey));}))(a.id))(et))(es))]),cB.Empty];}};J.splitTokens=function(es){return by.ofSeq(bb.collect(a.id,bb.mapi(function(et,eu){var ev;return et%2===1?[[eu,true]]:(ev=bi.Trim(eu),ev===""?[]:S.map(function(ew){return[ew,false];},bi.SplitChars(ev,[" "],1)));},b3.splitByChar("\"",es))));};J.Identifier=function(es,et){var eu,ev,ew;return(ev=j.REGEX$1("^[$a-zA-Z_][0-9a-zA-Z_\\.\\-$]*$","",es),ev!=null&&ev.$==1&&((ew=ev.$0,!I.Equals(ew,null)&&ew.length===1)&&(et?false:(eu=S.get(ev.$0,0),true))))?{$:1,$0:eu}:null;};J.Vertical=function(es,et){var eu,ev,ew,ex,ey,ez;return(et?false:es==="vertical")?{$:0,$0:null}:(et?false:es==="horizontal")?{$:1,$0:null}:(et?false:es==="layout")?{$:2,$0:null}:(et?false:es==="grid")?{$:3,$0:null}:(et?false:es==="template")?{$:4,$0:null}:(ez=J.Identifier(es,et),ez!=null&&ez.$==1?{$:5,$0:ez.$0}:{$:6,$0:null});};J.getExtraLines=function(es,et){var eu,ev,ew,ex;eu=(ev=(ew=bb.tryFindIndex(function(ey){return bi.Trim(ey)!==""&&!es(ey);},bb.skip(1,et)),ew==null?null:{$:1,$0:1+ew.$0}),(ex=S.length(et),ev==null?ex:ev.$0));return[b4.array(et,{$:1,$0:1},{$:1,$0:eu-1}),b4.array(et,{$:1,$0:eu},null)];};J.createLines=function(es,et,eu,ev,ew,ex){var ey,ez,eA,eB,eC,eD,eE,eF,eG,eH;ey=bi.replicate(et,":");ez=":"+ey;eA=bb.tryHead(ex);return eA!=null&&eA.$==1?(eB=b3.StartsWith(ey,bi.Trim(eA.$0)),eB!=null&&eB.$==1?(eC=eB.$0,(eD=J.getExtraLines(function(eI){return bi.StartsWith(bi.Trim(eI),ez);},ex),(eE=(((ek.Curried3(function(eI,eJ,eK){return eI(bw.toSafe(eJ)+"_"+a.String(eK));}))(a.id))(es))(ew),(eF=J.createLines(eE,et+1,[],[],1,eD[0]),(eG=eF[1],(eH=eF[0],J.createLines(es,et,S.ofSeq(bb.delay(function(){return bb.append(eu,bb.delay(function(){return[eE];}));})),S.ofSeq(bb.delay(function(){return bb.append(ev,bb.delay(function(){return bb.append([eE+" "+eC+" "+bi.concat(" ",eH)],bb.delay(function(){return eG;}));}));})),ew+1,eD[1]))))))):[eu,ev]):[eu,ev];};J.Measures$1=function(es,et){var eu,ev,ew,ex,ey,ez,eA,eB,eC,eD;eu=[es,et];return eu[1]?null:(ev=b3.splitByChar("-",eu[0]),!I.Equals(ev,null)&&ev.length===1&&(ex=(b5.Double())(S.get(ev,0)),ex!=null&&ex.$==1&&(ew=ex.$0,true))?{$:1,$0:new dz({$:0,$0:ew,$1:true})}:!I.Equals(ev,null)&&ev.length===2&&(S.get(ev,0)===""&&(ez=(b5.Double())(S.get(ev,1)),ez!=null&&ez.$==1&&(ey=ez.$0,true)))?{$:1,$0:new dz({$:0,$0:ey,$1:false})}:!I.Equals(ev,null)&&ev.length===3&&(eB=(b5.Double())(S.get(ev,0)),eB!=null&&eB.$==1&&(eC=(b5.Double())(S.get(ev,1)),eC!=null&&eC.$==1&&(eD=(b5.Double())(S.get(ev,2)),eD!=null&&eD.$==1&&(eA=[eD.$0,eB.$0,eC.$0],true))))?{$:1,$0:new dz({$:1,$0:eA[1],$1:eA[2],$2:eA[0]})}:null);};J.entryDoc=function(es,et){return{$:1,$0:{$:2,$0:k.newDoc(es,r.Create(function(){return et;}))}};};J.createSplitterM=function(){bL.$cctor();return bL.createSplitterM;};J.Var=function(es,et){var eu,ev,ew,ex,ey,ez;return(et?false:es==="Var")?{$:0,$0:null}:(et?false:es==="Doc")?{$:1,$0:null}:(et?false:es==="button")?{$:2,$0:null}:(et?false:es==="input")?{$:3,$0:null}:(et?false:es==="textarea")?{$:4,$0:null}:(et?false:es==="select")?{$:5,$0:null}:{$:6,$0:null};};J.createButtonM=function(){bL.$cctor();return bL.createButtonM;};J.createInputM=function(){bL.$cctor();return bL.createInputM;};J.createTextAreaM=function(){bL.$cctor();return bL.createTextAreaM;};J.entryVar=function(es,et){return{$:1,$0:{$:0,$0:k.newVar(es,et)}};};J.createVarM=function(){bL.$cctor();return bL.createVarM;};J.createDocM=function(){bL.$cctor();return bL.createDocM;};J.createTemplateM=function(){bL.$cctor();return bL.createTemplateM;};J.Concat=function(es,et){var eu;return(et?false:es==="concat")?{$:0,$0:null}:{$:1,$0:null};};J.createConcatM=function(){bL.$cctor();return bL.createConcatM;};J.createElementM=function(){bL.$cctor();return bL.createElementM;};J.getDocs=function(es,et){var eu;return et.$==0?cB.Empty:(eu=J.getOneDoc(es,et),new cB({$:1,$0:eu[0],$1:J.getDocs(es,eu[1])}));};J.pairOfDocs=function(es,et){var eu;eu=p.Map(function(ev){var ew;return ev.$==1&&(ev.$1.$==1&&(ev.$1.$1.$==0&&(ew=[ev.$0,ev.$1.$0],true)))?[ew[0],ew[1]]:[J.errDoc((function(ex){return function(ey){return ex("splitter expects exactly 2 elements "+bw.printList(function(ez){return"("+bw.prettyPrint(ez[0])+", "+bw.prettyPrint(ez[1])+")";},ey));};}(a.id))(et)),J.errDoc("part 2")];},p.Map(function(){return J.getDocs(es,et);},k.mainDocV().get_View()));return[Z.EmbedView(p.Map(function(ev){return ev[0];},eu)),Z.EmbedView(p.Map(function(ev){return ev[1];},eu))];};J.variableSplitter=function(es,et,eu,ev,ew,ex){return Z.Element("wcomp-splitter",by.ofSeq(bb.delay(function(){return bb.append(es?[cW.Create("vertical","")]:[],bb.delay(function(){return bb.append([cW.Create("min",a.String(et))],bb.delay(function(){return bb.append([cW.Create("value",a.String(eu))],bb.delay(function(){return[cW.Create("max",a.String(ev))];}));}));}));})),by.ofArray([ew,ex]));};J.fixedSplitter=function(es,et,eu,ev,ew){var ex,ey,ez,eA,eB,eC,eD;ex=(((eu?ek.Curried3(function(eE,eF,eG){return eE(eF.toFixed(6)+"px calc(100% - "+eG.toFixed(6)+"px)");}):ek.Curried3(function(eE,eF,eG){return eE("calc(100% - "+eF.toFixed(6)+"px) "+eG.toFixed(6)+"px");}))(a.id))(et))(et);return es?(ey=T.Make().WithHole({$:1,$0:"partsizes",$1:ex}).WithHole({$:0,$0:"first",$1:ev}).WithHole({$:0,$0:"second",$1:ew}),(ez=U.CompleteHoles(ey.k,ey.h,[]),(eA=new R.New(ez[1],cP.fixedsplitterver(ez[0])),(ey.i=eA,eA)))).get_Doc():(eB=T.Make().WithHole({$:1,$0:"partsizes",$1:ex}).WithHole({$:0,$0:"first",$1:ev}).WithHole({$:0,$0:"second",$1:ew}),(eC=U.CompleteHoles(eB.k,eB.h,[]),(eD=new R.New(eC[1],cP.fixedsplitterhor(eC[0])),(eB.i=eD,eD)))).get_Doc();};J.getOneDoc=function(es,et){var eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI;return et.$==1&&(ev=(ew=et.$0,J.Identifier(ew[0],ew[1])),ev!=null&&ev.$==1&&(eu=[ev.$0,et.$1],true))?(ex=eu[0],(ey=eu[1],(ez=((J.splitName())(es))(ex),(eA=ez[0],(eB=ez[1],(eC=(eD=k.tryGetDoc(eA,eB),eD==null?null:{$:1,$0:J.getDocF(ey,eD.$0)}),eC==null?(eE=(eF=k.tryGetWoW(eA,eB),eF==null?null:{$:1,$0:[Z.TextView(eF.$0),ey]}),eE==null?[J.errDoc((eG=(function(eJ){return function(eK){return eJ("Missing doc: "+bw.toSafe(eK));};}(a.id))(ex),(bc.print(eG),eG))),ey]:eE.$0):eC.$0)))))):et.$==0?[Z.get_Empty(),cB.Empty]:(eH=et.$1,(eI=J.getTextData(es,et.$0[0]),eI.$==1?[Z.TextView(eI.$0),eH]:eI.$==2?[J.errDoc((function(eJ){return function(eK){return eJ("Unexpected action: "+bw.toSafe(eK));};}(a.id))(eI.$0.actName)),eH]:[Z.TextNode(eI.$0),eH]));};K.ofObj=function(es){return es==null?null:{$:1,$0:es};};M.New=function(es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK){return{id:es,idPadreO:et,idForAuthorize:eu,influyente:ev,datosPersonales:ew,contactos:ex,identificacion:ey,isInternal:ez,status:eA,diaPago:eB,tipo:eC,fechaRegistro:eD,fechaStatus:eE,nReferidos:eF,nRefActivos:eG,nDescendientes:eH,nDescActivos:eI,comision:eJ,nivel:eK};};N.empty=function(){_5.$cctor();return _5.empty;};N.nombre2=function(es){var et,eu;return(et=(eu=es.titulo,eu==null?null:{$:1,$0:" "+eu.$0}),et==null?"":et.$0)+bi.Trim(es.nombre1+" "+es.nombre2)+" "+bi.Trim(es.apellido1+" "+es.apellido2);};N.nombre=function(es){var et,eu;return(et=(eu=es.titulo,eu==null?null:{$:1,$0:" "+eu.$0}),et==null?"":et.$0)+(es.apellido1===""?"":bi.Trim(es.apellido1+" "+es.apellido2)+", ")+es.nombre1+" "+es.nombre2;};N.busqueda=function(es){var et,eu;function ev(eB,eC){return[eB,S.ofSeq(bb.map(function(eD){return eD[1];},eC))];}function ew(eB){var eC,eD;eC=(eD=null,[eu.TryGetValue(eB,{get:function(){return eD;},set:function(eE){eD=eE;}}),eD]);return eC[0]?{$:1,$0:eC[1]}:null;}function ex(eB){var eC,eD;eC=(eD=null,[et.TryGetValue({$:1,$0:eB},{get:function(){return eD;},set:function(eE){eD=eE;}}),eD]);return eC[0]?eC[1]:[];}function ey(eB){var eC,eD;eC=(eD=eB==null?null:ew(eB.$0),eD==null?null:{$:1,$0:1+ey(eD.$0.idPadreO)});return eC==null?0:eC.$0;}function ez(eB){return S.choose(ew,ex(eB.id));}function eA(eB){return S.ofSeq(bb.delay(function(){return bb.collect(function(eC){return bb.append([eC],bb.delay(function(){return eA(eC);}));},ez(eB));}));}et=new cx.New(bb.map(function(eB){return ev(eB[0],eB[1]);},bb.groupBy(function(eB){return eB[0];},bb.map(function(eB){return[eB.idPadreO,eB.id];},es))));eu=new cx.New(bb.map(function(eB){return[eB.id,eB];},es));return be.New(ex,ey,function(eB){try{return eu.get_Item(eB);}catch(eC){return(function(eD){return function(eE){return eD("buscarAliado failed: "+W.p$10(eE));};}(o.FailWith))(eB);}},ew,ez,eA);};N.comision=function(es,et){var eu;eu=N.premisas(es,et);return[et.nRefActivos*eu[0],et.nDescActivos*eu[1]];};N.premisas=function(es,et){var eu;eu=et.tipo.$==0?[es.comisionReferidosMaster,es.comisionDescendientesMaster]:[es.comisionReferidosRegular,es.comisionDescendientesRegular];return et.status.$==2?[eu[0],eu[1]]:[0,0];};N.dia=function(es){return es.$==1?5:es.$==2?10:es.$==3?15:es.$==4?20:es.$==5?25:1;};R=Q.TemplateInstance=ek.Class({get_Doc:function(){return this.doc;},Hole:function(es){return this.allVars.get_Item(es);}},g,R);R.New=ek.Ctor(function(es,et){g.New.call(this);this.doc=et;this.allVars=es.$==0?es.$0:o.FailWith("Should not happen");},R);S.get=function(es,et){S.checkBounds(es,et);return es[et];};S.length=function(es){return es.dims===2?es.length*es.length:es.length;};S.checkBounds=function(es,et){if(et<0||et>=es.length)o.FailWith("Index was outside the bounds of the array.");};S.set=function(es,et,eu){S.checkBounds(es,et);es[et]=eu;};T=Q.ProviderBuilder=ek.Class({WithHole:function(es){this.h.push(es);return this;}},null,T);T.Make=function(){var es;return T.New(null,(es=bs.NewGuid(),a.String(es)),[]);};T.New=function(es,et,eu){return new T({i:es,k:et,h:eu});};U.CompleteHoles=function(es,et,eu){var ew,ex,ey,ez,eA,eB;function ev(eC,eD){var eE,eF,eG,eH;return ex.Contains(eC)?null:(eE=eD===0?(eF=i.Create$1(""),[{$:8,$0:eC,$1:eF},eF]):eD===1?(eG=i.Create$1(0),[{$:13,$0:eC,$1:eG},eG]):eD===2?(eH=i.Create$1(false),[{$:9,$0:eC,$1:eH},eH]):o.FailWith("Invalid value type"),(ew.set_Item(eC,eE[1]),{$:1,$0:eE[0]}));}ew=new bS.New$5();ex=new bT.New$3();ey=cy.Get(et);try{while(ey.MoveNext()){ez=ey.Current();(ez.$==8?(eA=[ez.$0,bU.Box(ez.$1)],true):ez.$==11?(eA=[ez.$0,bU.Box(ez.$1)],true):ez.$==10?(eA=[ez.$0,bU.Box(ez.$1)],true):ez.$==13?(eA=[ez.$0,bU.Box(ez.$1)],true):ez.$==12?(eA=[ez.$0,bU.Box(ez.$1)],true):ez.$==9&&(eA=[ez.$0,bU.Box(ez.$1)],true))?(eB=eA[0],ex.Add(eB),ew.set_Item(eB,eA[1])):void 0;}}finally{if(typeof ey=="object"&&"Dispose"in ey)ey.Dispose();}return[bb.append(et,S.choose(function(eC){return ev(eC[0],eC[1]);},eu)),{$:0,$0:ew}];};U.EventQ2=function(es,et,eu,ev){return{$:5,$0:et,$1:true,$2:function(ew){return function(ex){return ev({Vars:eu(),Target:ew,Event:ex});};}};};V.opcionesadministrador=function(es){cZ.LoadLocalTemplates("index0");return es?cZ.NamedTemplate("index0",{$:1,$0:"opcionesadministrador"},es):void 0;};W.p$2=function(es){return es.$==1?"Regular":"Master";};W.p$1=function(es){return es.$==4?"Cancelado":es.$==3?"Inactivo":es.$==2?"Activo":es.$==1?"DatosBancariosIngresados":"CuentaCreada";};V.filaaliado=function(es){cZ.LoadLocalTemplates("index0");return es?cZ.NamedTemplate("index0",{$:1,$0:"filaaliado"},es):void 0;};V.tablaaliados=function(es){cZ.LoadLocalTemplates("index0");return es?cZ.NamedTemplate("index0",{$:1,$0:"tablaaliados"},es):void 0;};V.aliado=function(es){cZ.LoadLocalTemplates("index0");return es?cZ.NamedTemplate("index0",{$:1,$0:"aliado"},es):void 0;};V.calculo=function(es){cZ.LoadLocalTemplates("index0");return es?cZ.NamedTemplate("index0",{$:1,$0:"calculo"},es):void 0;};W.p$13=function(es){return es.$==2?"Mensaje "+bw.prettyPrint(es.$0):es.$==1?"NuevoRegistro "+bw.prettyPrint(es.$0):"ROk";};V.formaregistro=function(es){cZ.LoadLocalTemplates("index0");return es?cZ.NamedTemplate("index0",{$:1,$0:"formaregistro"},es):void 0;};V.filaconsolidado=function(es){cZ.LoadLocalTemplates("index0");return es?cZ.NamedTemplate("index0",{$:1,$0:"filaconsolidado"},es):void 0;};V.consolidado=function(es){cZ.LoadLocalTemplates("index0");return es?cZ.NamedTemplate("index0",{$:1,$0:"consolidado"},es):void 0;};W.p$15=function(es){return es.$==5?"Dia25":es.$==4?"Dia20":es.$==3?"Dia15":es.$==2?"Dia10":es.$==1?"Dia05":"Dia01";};V.filapago=function(es){cZ.LoadLocalTemplates("index0");return es?cZ.NamedTemplate("index0",{$:1,$0:"filapago"},es):void 0;};V.tablapagos=function(es){cZ.LoadLocalTemplates("index0");return es?cZ.NamedTemplate("index0",{$:1,$0:"tablapagos"},es):void 0;};V.filadocs=function(es){cZ.LoadLocalTemplates("index0");return es?cZ.NamedTemplate("index0",{$:1,$0:"filadocs"},es):void 0;};V.subirdocumentos=function(es){cZ.LoadLocalTemplates("index0");return es?cZ.NamedTemplate("index0",{$:1,$0:"subirdocumentos"},es):void 0;};V.autorizacionpago=function(es){cZ.LoadLocalTemplates("index0");return es?cZ.NamedTemplate("index0",{$:1,$0:"autorizacionpago"},es):void 0;};V.contrato=function(es){cZ.LoadLocalTemplates("index0");return es?cZ.NamedTemplate("index0",{$:1,$0:"contrato"},es):void 0;};X.r=function(){return c7.JSUnion(void 0,[[null,[[null,[]]],[]],[null,[[null,["NoUser"]]],[]],[null,[[null,["PreRegister"]]],[]],[null,[[null,["Content"]]],[c7.rString()]],[null,[[null,["Pdf"]]],[c7.rWildcard()]],[null,[[null,["Video"]]],[c7.rWildcard()]]]);};W.p$10=function(es){return"IdAliado "+bw.prettyPrint(es.$0);};V.datospersonales=function(es){cZ.LoadLocalTemplates("index0");return es?cZ.NamedTemplate("index0",{$:1,$0:"datospersonales"},es):void 0;};W.p$12=function(es){return es.$==2?"Empresa":es.$==1?"Femenino":"Masculino";};V.correo=function(es){cZ.LoadLocalTemplates("index0");return es?cZ.NamedTemplate("index0",{$:1,$0:"correo"},es):void 0;};V.telefono=function(es){cZ.LoadLocalTemplates("index0");return es?cZ.NamedTemplate("index0",{$:1,$0:"telefono"},es):void 0;};V.direccion=function(es){cZ.LoadLocalTemplates("index0");return es?cZ.NamedTemplate("index0",{$:1,$0:"direccion"},es):void 0;};V.formadatospersonales=function(es){cZ.LoadLocalTemplates("index0");return es?cZ.NamedTemplate("index0",{$:1,$0:"formadatospersonales"},es):void 0;};V.formacontactos=function(es){cZ.LoadLocalTemplates("index0");return es?cZ.NamedTemplate("index0",{$:1,$0:"formacontactos"},es):void 0;};V.formacuentas=function(es){cZ.LoadLocalTemplates("index0");return es?cZ.NamedTemplate("index0",{$:1,$0:"formacuentas"},es):void 0;};V.formafirma=function(es){cZ.LoadLocalTemplates("index0");return es?cZ.NamedTemplate("index0",{$:1,$0:"formafirma"},es):void 0;};V.transaccion=function(es){cZ.LoadLocalTemplates("index0");return es?cZ.NamedTemplate("index0",{$:1,$0:"transaccion"},es):void 0;};V.transacciones=function(es){cZ.LoadLocalTemplates("index0");return es?cZ.NamedTemplate("index0",{$:1,$0:"transacciones"},es):void 0;};Y.p=function(es){return"{"+("errorCode = "+bw.prettyPrint(es.errorCode))+"; "+("errorMessage = "+bw.prettyPrint(es.errorMessage))+"; "+("message = "+bw.prettyPrint(es.message))+"; "+("name = "+bw.prettyPrint(es.name))+"; "+("stack = "+W.p$11(es.stack))+"}";};Y.p$1=function(es){return"{"+("accessToken = "+bw.prettyPrint(es.accessToken))+"; "+("account = "+bw.prettyPrint(es.account))+"; "+("accountState = "+bw.prettyPrint(es.accountState))+"; "+("expiresOn = "+bw.prettyPrint(es.expiresOn))+"; "+("idToken = "+bw.prettyPrint(es.idToken))+"; "+("scopes = "+bw.prettyPrint(es.scopes))+"; "+("tenantId = "+bw.prettyPrint(es.tenantId))+"; "+("tokenType = "+bw.prettyPrint(es.tokenType))+"; "+("uniqueId = "+bw.prettyPrint(es.uniqueId))+"}";};W.p$14=function(es){return"IdPayment "+bw.prettyPrint(es.$0);};W.p$4=function(es){return es.$==2?"OtroS "+bw.prettyPrint(es.$0):es.$==1?"Florida":"Texas";};W.p$3=function(es){return es.$==3?"OtroP "+bw.prettyPrint(es.$0):es.$==2?"Argentina":es.$==1?"Venezuela":"USA";};W.p$6=function(es){return es.$==2?"Otra "+bw.prettyPrint(es.$0):es.$==1?"Corriente":"Ahorro";};W.p$11=function(es){return es==null?"null":"Some "+bw.prettyPrint(es.$0);};V.cuentabancaria=function(es){cZ.LoadLocalTemplates("index0");return es?cZ.NamedTemplate("index0",{$:1,$0:"cuentabancaria"},es):void 0;};V.tarjetacredito=function(es){cZ.LoadLocalTemplates("index0");return es?cZ.NamedTemplate("index0",{$:1,$0:"tarjetacredito"},es):void 0;};W.p=function(es){return es.$==3?"ResetPassword":es.$==2?"EditProfile":es.$==1?"SignUp":"SignIn";};W.p$9=function(es){return es.$==3?"Voip":es.$==2?"Habitacion":es.$==1?"Oficina":"Movil";};W.p$8=function(es){return es.$==3?"Otro "+bw.prettyPrint(es.$0):es.$==2?"ServicioPostal":es.$==1?"Oficina":"Habitacion";};W.p$5=function(es){return es.$==3?"Otra "+bw.prettyPrint(es.$0):es.$==2?"Amex":es.$==1?"MasterCard":"Visa";};W.p$7=function(es){return es.$==2?"Otro "+bw.prettyPrint(es.$0):es.$==1?"PagoComision":"PagoAfiliacion";};Z=h.Doc=ek.Class({},g,Z);Z.get_Empty=function(){return Z.Mk(null,p.Const());};Z.Concat=function(es){var et;et=cL.ofSeqNonCopying(es);return cL.TreeReduce(Z.get_Empty(),Z.Append,et);};Z.BindView=function(es,et){return Z.EmbedView(p.Map(es,et));};Z.Mk=function(es,et){return new Z.New(es,et);};Z.ConvertSeqBy=function(es,et,eu){return Z.Flatten(p.MapSeqCachedViewBy(es,function(ev,ew){return(et(ev))(ew);},eu));};Z.EmbedView=function(es){var et;et=dc.CreateEmbedNode();return Z.Mk({$:2,$0:et},p.Map(a.ignore,p.Bind(function(eu){dc.UpdateEmbedNode(et,eu.docNode);return eu.updates;},es)));};Z.Append=function(es,et){return Z.Mk({$:0,$0:es.docNode,$1:et.docNode},p.Map2Unit(es.updates,et.updates));};Z.Verbatim=function(es){var et;return Z.Mk(cL.MapTreeReduce(function(eu){return I.Equals(eu.nodeType,F.TEXT_NODE)?{$:5,$0:eu}:{$:1,$0:dc.CreateElemNode(eu,di.EmptyAttr(),null)};},null,function(eu,ev){return{$:0,$0:eu,$1:ev};},(et=em.parseHTML(es),I.Equals(et,null)?[]:et)),p.Const());};Z.TextNode=function(es){return Z.Mk({$:5,$0:dj.CreateText(es)},p.Const());};Z.Flatten=function(es){return Z.EmbedView(p.Map(Z.Concat,es));};Z.ConvertBy=function(es,et,eu){return Z.Flatten(p.MapSeqCachedBy(es,et,eu));};Z.Button=function(es,et,eu){var ev;ev=cW.Concat(et);return dH.New(Z.Clickable("button",eu),ev,Z.TextNode(es));};Z.Input=function(es,et){return Z.InputInternal("input",function(){return bb.append(es,[cO.Value(et)]);});};Z.Element=function(es,et,eu){var ev,ew;ev=cW.Concat(et);ew=Z.Concat(eu);return dH.New(dj.CreateElement(es),ev,ew);};Z.RunInPlace=function(es,et,eu){var ev;ev=dc.CreateRunState(et,eu.docNode);p.Sink(dL.get_UseAnimations()||dM.BatchUpdatesEnabled()?dN.StartProcessor(dc.PerformAnimatedUpdate(es,ev,eu.docNode)):function(){dc.PerformSyncUpdate(es,ev,eu.docNode);},eu.updates);};Z.Clickable=function(es,et){var eu;eu=dj.CreateElement(es);eu.addEventListener("click",function(ev){ev.preventDefault();return et();},false);return eu;};Z.TextView=function(es){var et;et=dc.CreateTextNode();return Z.Mk({$:4,$0:et},p.Map(function(eu){dc.UpdateTextNode(et,eu);},es));};Z.InputInternal=function(es,et){var eu;eu=dj.CreateElement(es);return dH.New(eu,cW.Concat(et(eu)),Z.get_Empty());};Z.Run=function(es,et){dc.LinkElement(es,et.docNode);Z.RunInPlace(false,es,et);};Z.InputArea=function(es,et){return Z.InputInternal("textarea",function(){return bb.append(es,[cO.Value(et)]);});};Z.New=ek.Ctor(function(es,et){g.New.call(this);this.docNode=es;this.updates=et;},Z);_0.llamadas=function(){_5.$cctor();return _5.llamadas;};_0.ejecutarDataEventoNuevo=function(es){var et,eu,ev;et=(eu=n.get_LoggedId(),function(ew){return(new cD.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.ejecutarDataEventoNuevo:1305833807",[eu,ew]);});ev=bo.asyncResult();return ev.Run(ev.Delay(function(){var ew;ew=_0.llamadas().Get()+1;_0.llamadas().Set(ew);return ev.TryFinally(ev.Delay(function(){return ev.ReturnFrom$1(et(es));}),function(){var ex;ex=_0.llamadas().Get()-1;_0.llamadas().Set(ex);});}));};_0.iterA=function(es){cC.iterA(function(et){a.alert(et);},a.ignore,es);};_0.obtenerFormasDePagoPara=function(es){var et;function eu(ev){return(new cD.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerFormasDePagoPara:2142892534",[ev]);}et=bo.asyncResult();return et.Run(et.Delay(function(){var ev;ev=_0.llamadas().Get()+1;_0.llamadas().Set(ev);return et.TryFinally(et.Delay(function(){return et.ReturnFrom$1(eu(es));}),function(){var ew;ew=_0.llamadas().Get()-1;_0.llamadas().Set(ew);});}));};_0.enviarCorreosInvitacion=function(es,et){var eu,ev,ew,ex;eu=(ev=n.get_LoggedId(),function(ey){return(new cD.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.enviarCorreosInvitacion:921486630",[ev,ey[0],ey[1]]);});ew=[es,et];ex=bo.asyncResult();return ex.Run(ex.Delay(function(){var ey;ey=_0.llamadas().Get()+1;_0.llamadas().Set(ey);return ex.TryFinally(ex.Delay(function(){return ex.ReturnFrom$1(eu(ew));}),function(){var ez;ez=_0.llamadas().Get()-1;_0.llamadas().Set(ez);});}));};_0.obtenerIdInfluyente=function(es){var et;function eu(ev){return(new cD.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerIdInfluyente:231616815",[ev]);}et=bo.asyncResult();return et.Run(et.Delay(function(){var ev;ev=_0.llamadas().Get()+1;_0.llamadas().Set(ev);return et.TryFinally(et.Delay(function(){return et.ReturnFrom$1(eu(es));}),function(){var ew;ew=_0.llamadas().Get()-1;_0.llamadas().Set(ew);});}));};_0.obtenerUnions=function(){var es;function et(){return(new cD.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerUnions:1877296388",[]);}es=bo.asyncResult();return es.Run(es.Delay(function(){var eu;eu=_0.llamadas().Get()+1;_0.llamadas().Set(eu);return es.TryFinally(es.Delay(function(){return es.ReturnFrom$1(et(void 0));}),function(){var ev;ev=_0.llamadas().Get()-1;_0.llamadas().Set(ev);});}));};_0.obtenerTransaccionesPara=function(es){var et,eu;function ev(ew){return(new cD.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerTransaccionesPara:1561052143",[ew]);}et=n.get_LoggedId();eu=bo.asyncResult();return eu.Run(eu.Delay(function(){var ew;ew=_0.llamadas().Get()+1;_0.llamadas().Set(ew);return eu.TryFinally(eu.Delay(function(){return eu.ReturnFrom$1(ev(et));}),function(){var ex;ex=_0.llamadas().Get()-1;_0.llamadas().Set(ex);});}));};_0.agregarUsuarioSiEsNuevo=function(es){var et,eu,ev;et=(eu=n.get_LoggedId(),function(ew){return(new cD.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.agregarUsuarioSiEsNuevo:2096926511",[eu,ew]);});ev=bo.asyncResult();return ev.Run(ev.Delay(function(){var ew;ew=_0.llamadas().Get()+1;_0.llamadas().Set(ew);return ev.TryFinally(ev.Delay(function(){return ev.ReturnFrom$1(et(es));}),function(){var ex;ex=_0.llamadas().Get()-1;_0.llamadas().Set(ex);});}));};_0.obtenerEstadoParaUsuario=function(es){var et,eu;function ev(ew){return(new cD.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerEstadoParaUsuario:1912907973",[ew]);}et=n.get_LoggedId();eu=bo.asyncResult();return eu.Run(eu.Delay(function(){var ew;ew=_0.llamadas().Get()+1;_0.llamadas().Set(ew);return eu.TryFinally(eu.Delay(function(){return eu.ReturnFrom$1(ev(et));}),function(){var ex;ex=_0.llamadas().Get()-1;_0.llamadas().Set(ex);});}));};_0.borrarFormaPago=function(es){var et,eu,ev;et=(eu=n.get_LoggedId(),function(ew){return(new cD.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.borrarFormaPago:1837795433",[eu,ew]);});ev=bo.asyncResult();return ev.Run(ev.Delay(function(){var ew;ew=_0.llamadas().Get()+1;_0.llamadas().Set(ew);return ev.TryFinally(ev.Delay(function(){return ev.ReturnFrom$1(et(es));}),function(){var ex;ex=_0.llamadas().Get()-1;_0.llamadas().Set(ex);});}));};_0.registrarTarjeta=function(es){var et,eu,ev;et=(eu=n.get_LoggedId(),function(ew){return(new cD.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.registrarTarjeta:1914379366",[eu,ew]);});ev=bo.asyncResult();return ev.Run(ev.Delay(function(){var ew;ew=_0.llamadas().Get()+1;_0.llamadas().Set(ew);return ev.TryFinally(ev.Delay(function(){return ev.ReturnFrom$1(et(es));}),function(){var ex;ex=_0.llamadas().Get()-1;_0.llamadas().Set(ex);});}));};_0.registrarCuenta=function(es){var et,eu,ev;et=(eu=n.get_LoggedId(),function(ew){return(new cD.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.registrarCuenta:1678015656",[eu,ew]);});ev=bo.asyncResult();return ev.Run(ev.Delay(function(){var ew;ew=_0.llamadas().Get()+1;_0.llamadas().Set(ew);return ev.TryFinally(ev.Delay(function(){return ev.ReturnFrom$1(et(es));}),function(){var ex;ex=_0.llamadas().Get()-1;_0.llamadas().Set(ex);});}));};_0.validarFormaPago=function(es){var et,eu,ev;et=(eu=n.get_LoggedId(),function(ew){return(new cD.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.validarFormaPago:1837795433",[eu,ew]);});ev=bo.asyncResult();return ev.Run(ev.Delay(function(){var ew;ew=_0.llamadas().Get()+1;_0.llamadas().Set(ew);return ev.TryFinally(ev.Delay(function(){return ev.ReturnFrom$1(et(es));}),function(){var ex;ex=_0.llamadas().Get()-1;_0.llamadas().Set(ex);});}));};_0.obtenerListaDocs=function(){var es;function et(){return(new cD.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerListaDocs:244796561",[n.get_LoggedId()]);}es=bo.asyncResult();return es.Run(es.Delay(function(){var eu;eu=_0.llamadas().Get()+1;_0.llamadas().Set(eu);return es.TryFinally(es.Delay(function(){return es.ReturnFrom$1(et(void 0));}),function(){var ev;ev=_0.llamadas().Get()-1;_0.llamadas().Set(ev);});}));};_0.actualizarSubscripcion=function(es){var et,eu,ev;et=(eu=n.get_LoggedId(),function(ew){return(new cD.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.actualizarSubscripcion:1837795433",[eu,ew]);});ev=bo.asyncResult();return ev.Run(ev.Delay(function(){var ew;ew=_0.llamadas().Get()+1;_0.llamadas().Set(ew);return ev.TryFinally(ev.Delay(function(){return ev.ReturnFrom$1(et(es));}),function(){var ex;ex=_0.llamadas().Get()-1;_0.llamadas().Set(ex);});}));};_0.obtenerFormasDePago=function(){var es;function et(){return(new cD.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerFormasDePagoId:-1441558235",[n.get_LoggedId()]);}es=bo.asyncResult();return es.Run(es.Delay(function(){var eu;eu=_0.llamadas().Get()+1;_0.llamadas().Set(eu);return es.TryFinally(es.Delay(function(){return es.ReturnFrom$1(et(void 0));}),function(){var ev;ev=_0.llamadas().Get()-1;_0.llamadas().Set(ev);});}));};_1=L.IdAliado=ek.Class({get_Id:function(){return this.$0;}},null,_1);_2.New=function(es,et,eu,ev,ew,ex){return{idAliado:es,aliados:et,anoActual:eu,periodoActual:ev,premisas:ew,nevento:ex};};_3=h.ConcreteVar=ek.Class({get_View:function(){return this.view;},Set:function(es){if(this.isConst)(function(et){return et("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal");}(function(et){en.log(et);}));else{_4.Obsolete(this.snap);this.current=es;this.snap=_4.New({$:2,$0:es,$1:[]});}},Get:function(){return this.current;},Update:function(es){this.Set(es(this.Get()));},UpdateMaybe:function(es){var et;et=es(this.Get());et!=null&&et.$==1?this.Set(et.$0):void 0;}},q,_3);_3.New=ek.Ctor(function(es,et,eu){var ev;ev=this;q.New.call(this);this.isConst=es;this.current=eu;this.snap=et;this.view=function(){return ev.snap;};this.id=bX.Int();},_3);_4.Map=function(es,et){var eu,ev;eu=et.s;return eu!=null&&eu.$==0?_4.New({$:0,$0:es(eu.$0)}):(ev=_4.New({$:3,$0:[],$1:[]}),(_4.When(et,function(ew){_4.MarkDone(ev,et,es(ew));},ev),ev));};_4.WhenRun=function(es,et,eu){var ev;ev=es.s;ev==null?eu():ev!=null&&ev.$==2?(ev.$1.push(eu),et(ev.$0)):ev!=null&&ev.$==3?(ev.$0.push(et),ev.$1.push(eu)):et(ev.$0);};_4.WhenObsoleteRun=function(es,et){var eu;eu=es.s;eu==null?et():eu!=null&&eu.$==2?eu.$1.push(et):eu!=null&&eu.$==3?eu.$1.push(et):void 0;};_4.When=function(es,et,eu){var ev;ev=es.s;ev==null?_4.Obsolete(eu):ev!=null&&ev.$==2?(_4.EnqueueSafe(ev.$1,eu),et(ev.$0)):ev!=null&&ev.$==3?(ev.$0.push(et),_4.EnqueueSafe(ev.$1,eu)):et(ev.$0);};_4.MarkDone=function(es,et,eu){var ev;if(ev=et.s,ev!=null&&ev.$==0)_4.MarkForever(es,eu);else _4.MarkReady(es,eu);};_4.Map2=function(es,et,eu){var ev,ew,ex;function ey(ez){var eA,eB,eC;if(!(eA=ex.s,eA!=null&&eA.$==0||eA!=null&&eA.$==2)){eB=_4.ValueAndForever(et);eC=_4.ValueAndForever(eu);eB!=null&&eB.$==1?eC!=null&&eC.$==1?eB.$0[1]&&eC.$0[1]?_4.MarkForever(ex,es(eB.$0[0],eC.$0[0])):_4.MarkReady(ex,es(eB.$0[0],eC.$0[0])):void 0:void 0;}}ev=et.s;ew=eu.s;return ev!=null&&ev.$==0?ew!=null&&ew.$==0?_4.New({$:0,$0:es(ev.$0,ew.$0)}):_4.Map2Opt1(es,ev.$0,eu):ew!=null&&ew.$==0?_4.Map2Opt2(es,ew.$0,et):(ex=_4.New({$:3,$0:[],$1:[]}),(_4.When(et,ey,ex),_4.When(eu,ey,ex),ex));};_4.Map3=function(es,et,eu,ev){var ew,ex,ey,ez;function eA(eB){var eC,eD,eE,eF;if(!(eC=ez.s,eC!=null&&eC.$==0||eC!=null&&eC.$==2)){eD=_4.ValueAndForever(et);eE=_4.ValueAndForever(eu);eF=_4.ValueAndForever(ev);eD!=null&&eD.$==1?eE!=null&&eE.$==1?eF!=null&&eF.$==1?eD.$0[1]&&eE.$0[1]&&eF.$0[1]?_4.MarkForever(ez,es(eD.$0[0],eE.$0[0],eF.$0[0])):_4.MarkReady(ez,es(eD.$0[0],eE.$0[0],eF.$0[0])):void 0:void 0:void 0;}}ew=et.s;ex=eu.s;ey=ev.s;return ew!=null&&ew.$==0?ex!=null&&ex.$==0?ey!=null&&ey.$==0?_4.New({$:0,$0:es(ew.$0,ex.$0,ey.$0)}):_4.Map3Opt1(es,ew.$0,ex.$0,ev):ey!=null&&ey.$==0?_4.Map3Opt2(es,ew.$0,ey.$0,eu):_4.Map3Opt3(es,ew.$0,eu,ev):ex!=null&&ex.$==0?ey!=null&&ey.$==0?_4.Map3Opt4(es,ex.$0,ey.$0,et):_4.Map3Opt5(es,ex.$0,et,ev):ey!=null&&ey.$==0?_4.Map3Opt6(es,ey.$0,et,eu):(ez=_4.New({$:3,$0:[],$1:[]}),(_4.When(et,eA,ez),_4.When(eu,eA,ez),_4.When(ev,eA,ez),ez));};_4.MapAsync=function(es,et){var eu;eu=_4.New({$:3,$0:[],$1:[]});_4.When(et,function(ev){bW.StartTo(es(ev),function(ew){_4.MarkDone(eu,et,ew);});},eu);return eu;};_4.TryGet=function(es){var et,eu;et=es.s;return(et!=null&&et.$==0?(eu=et.$0,true):et!=null&&et.$==2&&(eu=et.$0,true))?{$:1,$0:eu}:null;};_4.EnqueueSafe=function(es,et){var eu,ev,ew,ex;es.push(et);if(es.length%20===0){eu=es.slice(0);dV.Clear(es);for(ev=0,ew=S.length(eu)-1;ev<=ew;ev++){ex=S.get(eu,ev);typeof ex=="object"?function(ey){if(ey.s)es.push(ey);}(ex):function(ey){es.push(ey);}(ex);}}else void 0;};_4.MarkForever=function(es,et){var eu,ev,ew,ex;eu=es.s;if(eu!=null&&eu.$==3){es.s={$:0,$0:et};ev=eu.$0;for(ew=0,ex=S.length(ev)-1;ew<=ex;ew++)(S.get(ev,ew))(et);}else void 0;};_4.MarkReady=function(es,et){var eu,ev,ew,ex;eu=es.s;if(eu!=null&&eu.$==3){es.s={$:2,$0:et,$1:eu.$1};ev=eu.$0;for(ew=0,ex=S.length(ev)-1;ew<=ex;ew++)(S.get(ev,ew))(et);}else void 0;};_4.Map2Opt1=function(es,et,eu){return _4.Map(function(ev){return es(et,ev);},eu);};_4.Map2Opt2=function(es,et,eu){return _4.Map(function(ev){return es(ev,et);},eu);};_4.ValueAndForever=function(es){var et;et=es.s;return et!=null&&et.$==0?{$:1,$0:[et.$0,true]}:et!=null&&et.$==2?{$:1,$0:[et.$0,false]}:null;};_4.Map3Opt1=function(es,et,eu,ev){return _4.Map(function(ew){return es(et,eu,ew);},ev);};_4.Map3Opt2=function(es,et,eu,ev){return _4.Map(function(ew){return es(et,ew,eu);},ev);};_4.Map3Opt3=function(es,et,eu,ev){return _4.Map2(function(ew,ex){return es(et,ew,ex);},eu,ev);};_4.Map3Opt4=function(es,et,eu,ev){return _4.Map(function(ew){return es(ew,et,eu);},ev);};_4.Map3Opt5=function(es,et,eu,ev){return _4.Map2(function(ew,ex){return es(ew,et,ex);},eu,ev);};_4.Map3Opt6=function(es,et,eu,ev){return _4.Map2(function(ew,ex){return es(ew,ex,et);},eu,ev);};_4.Map2Unit=function(es,et){var eu,ev,ew;function ex(){var ey,ez,eA;if(!(ey=ew.s,ey!=null&&ey.$==0||ey!=null&&ey.$==2)){ez=_4.ValueAndForever(es);eA=_4.ValueAndForever(et);ez!=null&&ez.$==1?eA!=null&&eA.$==1?ez.$0[1]&&eA.$0[1]?_4.MarkForever(ew,null):_4.MarkReady(ew,null):void 0:void 0;}}eu=es.s;ev=et.s;return eu!=null&&eu.$==0?ev!=null&&ev.$==0?_4.New({$:0,$0:null}):et:ev!=null&&ev.$==0?es:(ew=_4.New({$:3,$0:[],$1:[]}),(_4.When(es,ex,ew),_4.When(et,ex,ew),ew));};_4.Join=function(es){var et;et=_4.New({$:3,$0:[],$1:[]});_4.When(es,function(eu){var ev;ev=eu();_4.When(ev,function(ew){var ex,ey;if((ex=ev.s,ex!=null&&ex.$==0)&&(ey=es.s,ey!=null&&ey.$==0))_4.MarkForever(et,ew);else _4.MarkReady(et,ew);},et);},et);return et;};_4.Sequence=function(es){var et,eu,ev;function ew(ex){var ey;if(ev[0]===0){ey=S.map(function(ez){var eA;eA=ez.s;return eA!=null&&eA.$==0?eA.$0:eA!=null&&eA.$==2?eA.$0:o.FailWith("value not found by View.Sequence");},et);S.forall(function(ez){var eA;eA=ez.s;return eA!=null&&eA.$==0;},et)?_4.MarkForever(eu,ey):_4.MarkReady(eu,ey);}else ev[0]--;}et=S.ofSeq(es);return et.length==0?_4.New({$:0,$0:[]}):(eu=_4.New({$:3,$0:[],$1:[]}),(ev=[S.length(et)-1],(S.iter(function(ex){_4.When(ex,ew,eu);},et),eu)));};_4.Copy=function(es){var et,eu,ev;et=es.s;return et==null?es:et!=null&&et.$==2?(eu=_4.New({$:2,$0:et.$0,$1:[]}),(_4.WhenObsolete(es,eu),eu)):et!=null&&et.$==3?(ev=_4.New({$:3,$0:[],$1:[]}),(_4.When(es,function(ew){_4.MarkDone(ev,es,ew);},ev),ev)):es;};_4.WhenObsolete=function(es,et){var eu;eu=es.s;eu==null?_4.Obsolete(et):eu!=null&&eu.$==2?_4.EnqueueSafe(eu.$1,et):eu!=null&&eu.$==3?_4.EnqueueSafe(eu.$1,et):void 0;};_5.$cctor=function(){var es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH;_5.$cctor=a.ignore;function eI(eR){return bi.concat("\n",eR);}function eJ(eR){return b3.splitByChar$1("\n",eR);}function eK(eR){var eS,eT;return b4.array(eR,{$:1,$0:0},{$:1,$0:(eS=0,(eT=S.length(eR)-2,I.Compare(eS,eT)===1?eS:eT))});}function eL(eR){return bi.concat("\n",eR);}function eM(eR){return eR+"T00:00:00";}function eN(eR){var eS;eS=j.REGEX$2(j.rexEmail$1(),"gi",eR);return eS!=null&&eS.$==1?eS.$0:[];}function eO(eR){return bi.concat("\n",eR);}function eP(eR){return eR==="ProzperLyt.mainContent"?cq.DefaultEP:{$:3,$0:eR};}function eQ(eR){if(!I.Equals(m.endPointV().Get(),eR))m.endPointV().Set(eR);}_5.rtn=function(eR){return[eR];};_5.result=new bY.New();_5.result$1=bD.result();_5.resultP=new bZ.New();_5.eff=new b1.New();_5.asyncResult=new bp.New();_5.asyncResultP=new b2.New();_5.unindentStr=function(eR){return eI(b3.unindent$1(eR));};_5.skipLastLine=(es=function(eR){return eK(eJ(eR));},function(eR){return eL(es(eR));});_5.parseDateO2=(et=b5.tryParseWith$1(function(eR){var eS,eT;eS=0;return[(eT=c0.TryParse(eR),eT!=null&&eT.$==1&&(eS=eT.$0,true)),eS];}),function(eR){return et(eM(eR));});_5.parseDateO=b5.tryParseWith$1(function(eR){var eS,eT;eS=0;return[(eT=c0.TryParse(eR),eT!=null&&eT.$==1&&(eS=eT.$0,true)),eS];});_5.parseIntO=b5.tryParseWith$1(function(eR){var eS;eS=0;return[bQ.TryParseInt32(eR,{get:function(){return eS;},set:function(eT){eS=eT;}}),eS];});_5.parseInt64O=b5.tryParseWith$1(function(eR){var eS;eS=0;return[bQ.TryParseInt64(eR,{get:function(){return eS;},set:function(eT){eS=eT;}}),eS];});_5.parseSingleO=b5.tryParseWith$1(function(eR){var eS,eT;eS=0;return[(eT=a.Number(eR),a.isNaN(eT)?false:(eS=eT,true)),eS];});_5.parseDoubleO=b5.tryParseWith$1(function(eR){var eS,eT;eS=0;return[(eT=a.Number(eR),a.isNaN(eT)?false:(eS=eT,true)),eS];});_5.parseGuidO=b5.tryParseWith$1(function(eR){var eS;eS=null;return[bs.TryParse(eR,{get:function(){return eS;},set:function(eT){eS=eT;}}),eS];});_5["|Date|_|"]=b5.parseDateO$1();_5["|Int|_|"]=b5.parseIntO$1();_5["|Int64|_|"]=b5.parseInt64O$1();_5["|Single|_|"]=b5.parseSingleO$1();_5["|Double|_|"]=b5.parseDoubleO$1();_5["|Guid|_|"]=b5.parseGuidO$1();_5.serString=[b6.toJsonString,function(eR){return eR.tryString();}];_5.serFloat=[function(eR){return(function(eS){return function(eT){return eS(bw.prettyPrint(eT));};}(a.id))(eR);},function(eR){return eR.tryFloat();}];_5.serInt=[function(eR){return(function(eS){return function(eT){return eS(bw.prettyPrint(eT));};}(a.id))(eR);},function(eR){var eS;eS=eR.tryInt();return eS==null?null:{$:1,$0:o.toInt(eS.$0)};}];_5.serInt64=[function(eR){return function(eS){return eR(a.String(eS));};}(a.id),function(eR){return eR.tryInt();}];_5.serBool=[function(eR){return(function(eS){return function(eT){return eS(bw.prettyPrint(eT));};}(a.id))(eR);},function(eR){return eR.tryBool();}];_5.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";_5.rexEmail="(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@[*[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+]*";_5.policies=by.ofArray([b8.SignIn,b8.SignUp,b8.EditProfile,b8.ResetPassword]);_5.premisasCalculo=bF.New(15,25,25,0,75,31,26,28);_5.telVacio=b9.New(b_.Movil,"","","","",false);_5.dirVacio=b$.New(bc.Error$1(""),ca.Habitacion,"","","",new cb({$:2,$0:""}),new cc({$:3,$0:""}),new cd({$:0,$0:""}));_5.tarVacio=ce.New("",ch.Visa,new cg({$:0,$0:""}),cf.New(2000,1));_5.ctaVacio=bz.New("","",ci.Ahorro,new bB({$:0,$0:""}),new bA({$:0,$0:""}));_5.modeloVacio=_2.New(new _1({$:0,$0:""}),[],(eu=eo.now(),(new eo(eu)).getFullYear()),(ev=eo.now(),(new eo(ev)).getMonth()+1),L.premisasCalculo(),0);_5.correoVacio=bj.New("",null,null);_5.empty=(ew=bN.New(null,"","","","",cc.USA,cj.Masculino,(new eo(2000,1-1,1)).getTime()),M.New(new _1({$:0,$0:""}),null,null,null,ew,[],[],false,bv.Inactivo,bO.Dia01,bP.Regular,(new eo(2000,1-1,1)).getTime(),(new eo(2000,1-1,1)).getTime(),0,0,0,0,0,0));_5.serverEndPoint=r.Create(function(){return self.location.protocol==="http:"?"http://localhost:7071/api/":(function(eR){return function(eS){return eR("https://"+bw.toSafe(eS)+"/api/");};}(a.id))(self.location.host);});_5.originalProvider=ck.AjaxProvider();_5.getTokenOA=function(){var eR;eR=null;return cM.Delay(function(){return cM.Return(null);});};_5.rootdir="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperServer\\website";_5.TemplatesFileName="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperServer\\website"+"\\index0.html";((function(eR){return function(eS){return eR(bw.toSafe(eS));};}(function(eR){en.log(eR);}))("D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperServer\\website\\index0.html"));_5.appId=bi.StartsWith(self.location.host,"prozper0")?"76703639-1d21-4bc3-bd46-c764f5ea78ee":"70ad4f9b-9a2b-409e-9c1e-d04dbb2e7cf2";_5.applicationId=bH.storeValue("applicationId",bH.appId());_5.tenantName=bH.storeValue("tenantName","prozper");_5.ref=bH.storeValue("ref","");_5.extraQueryParms=bH.storeValue("extraQueryParms","mkt=es-us");_5.refreshBefore=bH.storeValue("refreshBefore","0");_5.createOnStart=bH.storeValue("createOnStart","1");_5.forceLogin=bH.storeValue("forceLogin","1");_5.signInPolicy=bH.storeValue("signInPolicy","B2C_1_SignIn");_5.signUpPolicy=bH.storeValue("signUpPolicy","B2C_1_Registrarse");_5.editProfilePolicy=bH.storeValue("editProfilePolicy","B2C_1_EditarPerfil");_5.resetPasswordPolicy=bH.storeValue("resetPasswordPolicy","B2C_1_PasswordReset");_5.policyType=bH.storeValue("policyType","SignIn");ex=bH.storageGetItem("preambleState");ex==="InPreamble"||(ex===""||ex===null)?void bH.storeValue("preambleState","GoToSignIn"):null;_5.authority=bH.getAuthority(bH.tenantName(),bH.signInPolicy());_5.userO=i.Create$1(null);_5.agent=r.Create(function(){var eR,eS;eR=(eS=cl.New$1({$:1,$0:cm.New$1(bH.applicationId(),{$:1,$0:bH.authority()},{$:1,$0:false},null,null,null)},null,null,null),new self.Msal.UserAgentApplication(eS));eR.handleRedirectCallback(function(eT,eU){bH.redirectCallback(eT,eU);});return eR;});_5.getTokenO=(ez=cp.callA(function(eR){bc.print$1(eR);},bH.getTokenO0),function(){return ez.PostAndAsyncReply(function(eR){return[eR,null];},null);});_5.modeloV=i.Create$1(_2.New(new _1({$:0,$0:":"}),[],(eA=eo.now(),(new eo(eA)).getFullYear()),(eB=eo.now(),(new eo(eB)).getMonth()+1),L.premisasCalculo(),-2));_5.formasPagoAliadoV=i.Create$1([]);_5.invitacionesV=i.Create$1("");_5.emailsInvitarW=p.Map((eC=(eD=function(eR){return bb.distinct(eN(eR));},function(eR){return bb.sort(eD(eR));}),function(eR){return eO(eC(eR));}),m.invitacionesV().get_View());_5.invitacionesDisabledW=p.Map(function(eR){return eR===""?"disabled":"";},m.emailsInvitarW());_5.selAliadoIdOV=i.Create$1(null);_5.refAliadoIdOV=i.Create$1(null);_5.endPointV=cr.InstallHash(cq.DefaultEP,X.r());p.Sink(function(eR){if(eR.$==1);else if(eR.$==2);else if(eR.$==4)a.showPDF(eR.$0);else if(eR.$==5)a.playVideo();else bH.checkUser();},m.endPointV().get_View());_5.contentVar=new cK.New(p.Map2(function(eR,eS){var eT,eU;return eS.$==0&&!I.Equals(bH.userO().Get(),null)?"ProzperLyt.mainContent":eS.$==3&&(!I.Equals(bH.userO().Get(),null)&&(eU=eS.$0,true))?eU:eS.$==2?"ProzperLyt.cntPreRegister":eS.$==4?"ProzperLyt.cntPDF":eS.$==5?"ProzperLyt.cntVideo":"ProzperLyt.cntFormaNoUser";},bH.userO().get_View(),m.endPointV().get_View()),function(eR){return eQ(eP(eR));});_5.aliadoW=(eE=p.get_Do(),p.Bind(function(eR){var eS,eT;eS=eR.idAliado;eT=bb.tryFind(function(eU){return I.Equals(eU.id,eS);},eR.aliados);return p.Const(eT!=null&&eT.$==1?eT.$0:N.empty());},m.modeloV().get_View()));ct.installBearer(bH.getTokenO());_5.llamadas=i.Create$1(0);ck.set_EndPoint(cu.serverEndPoint().f()+"rpc/rpc");_5.shouldRefresh=true;p.Sink(function(){bq.refrescarData(true);},bH.userO().get_View());cM.Start((eF=null,cM.Delay(function(){return cM.While(function(){return true;},cM.Delay(function(){return cM.Bind(cM.Sleep(5*60*1000),function(){return cM.Return(null);});}));})),null);try{self.document.addEventListener("visibilityChange",function(){return null;},false);}catch(eR){null;}_5.paises=i.Create$1([]);_5.estados=i.Create$1([]);_5.tiposDir=i.Create$1([]);_5.tiposTel=i.Create$1([]);_5.generos=i.Create$1([]);_5.tiposCta=i.Create$1([]);_5.tiposTar=i.Create$1([]);_5.statuses=i.Create$1([]);_5.aniosV=i.Create$1([]);_5.mesesV=i.Create$1([]);_0.iterA((eG=bo.asyncResult(),eG.Run(eG.Delay(function(){return eG.Bind$1(_0.obtenerUnions(),function(eS){bu.paises().Set(eS[0]);bu.estados().Set(eS[1]);bu.tiposDir().Set(eS[2]);bu.tiposTel().Set(eS[3]);bu.generos().Set(eS[4]);bu.tiposCta().Set(eS[5]);bu.tiposTar().Set(eS[6]);bu.statuses().Set(eS[7]);bu.aniosV().Set(eS[9]);bu.mesesV().Set(eS[8]);return eG.Zero();});}))));_5.ftel=[function(eS){return eS.$==2?{$:1,$0:eS.$0}:null;},function(eS){return{$:2,$0:eS};}];_5.fcor=[function(eS){return eS.$==1?{$:1,$0:eS.$0}:null;},function(eS){return{$:1,$0:eS};}];_5.fdir=[function(eS){return eS.$==0?{$:1,$0:eS.$0}:null;},function(eS){return{$:0,$0:eS};}];_5.mensajes=i.Create$1("");_5.firmanteV=i.Create$1("");_5.fechaHoraV=i.Create$1("");cM.Start((eH=null,cM.Delay(function(){return cM.While(function(){return true;},cM.Delay(function(){return cM.Bind(cM.Sleep(1000),function(){var eS;eS=bc["String.Left$1"](function(eT){return eT.getFullYear()+"-"+("0"+(eT.getMonth()+1)).slice(-2)+"-"+("0"+eT.getDate()).slice(-2)+" "+("0"+eT.getHours()).slice(-2)+":"+("0"+eT.getMinutes()).slice(-2)+":"+("0"+eT.getSeconds()).slice(-2)+":"+("00"+eT.getMilliseconds()).slice(-3);}(new eo(eo.now())),19);bE.fechaHoraV().Set(eS);return cM.Zero();});}));})),null);_5.uploaded=function(eS,eT){return bc.print$1(eT);};_5.cuentaAutorizar=i.Create$1(Z.TextNode("No hay cuenta seleccionada"));_5.titular=i.Create$1("");_5.pid=new cv({$:0,$0:""});_5.ftar=[function(eS){var eT;eT=eS.cuentaPago;return eT.$==1?{$:1,$0:[eT.$0,x.msg(eS),eS.authorizeIdR.$==0]}:null;},function(eS){return function(eT){return bC.New(eS.nombre,bc.Error$1(""),{$:1,$0:eT});};}];_5.fcta=[function(eS){var eT;eT=eS.cuentaPago;return eT.$==0?{$:1,$0:[eT.$0,x.msg(eS),eS.authorizeIdR.$==0]}:null;},function(eS){return function(eT){return bC.New(eS.nombre,bc.Error$1(""),{$:0,$0:eT});};}];_5.transaccionesW=p.MapAsync(function(eS){var eT,eU;function eV(eW){return cM.Return(eW);}return cM.Bind(_0.obtenerTransaccionesPara(eS.idAliado),(eT=(eU=[],function(eW){return bD.defaultValue(eU,eW);}),function(eW){return eV(eT(eW));}));},m.modeloV().get_View());_5.docsV=i.Create$1([]);_5.uploaded$1=function(eS,eT){A.refrescarListaDocs();return a.alert(eT);};_5.layoutName="ProzperLyt";_5.appName="Prozper";_5.influencerV=i.Create$1("");_5.influencerClassW=p.MapAsync(function(eS){var eT;eT=null;return cM.Delay(function(){return cM.Bind(_0.obtenerIdInfluyente(eS),function(eU){return eU.$==0?cM.Return("mui-btn--primary"):cM.Return("");});});},e.influencerV().get_View());};_6=h.ListModel=ek.Class({Append:function(es){var et,eu,ev,ew;et=this;eu=this["var"].Get();ev=this.key(es);ew=S.tryFindIndex(function(ex){return I.Equals(et.key(ex),ev);},eu);ew!=null&&ew.$==1?this["var"].Set(this.storage.SSetAt(ew.$0,es,eu)):this["var"].Set(this.storage.SAppend(es,eu));this.ObsoleteKey(ev);},TryFindByKey:function(es){var et;et=this;return S.tryFind(function(eu){return I.Equals(et.key(eu),es);},this["var"].Get());},ObsoleteKey:function(es){var et,eu;et=(eu=null,[this.it.TryGetValue(es,{get:function(){return eu;},set:function(ev){eu=ev;}}),eu]);et[0]?(_4.Obsolete(et[1]),this.it.Remove(es)):void 0;},MapLens:function(es){var et;et=this;return p.MapSeqCachedViewBy(et.key,function(eu,ev){return es(eu,et["LensInto'"](a.id,function(ew,ex){return ex;},eu,ev));},this["var"].get_View());},"LensInto'":function(es,et,eu,ev){var ew,ex,ey;ew=this;ex=bX.Id();ey=new q({Get:function(){return es(ew.FindByKey(eu));},Set:function(ez){return ew.UpdateBy(function(eA){return{$:1,$0:et(eA,ez)};},eu);},SetFinal:function(ez){return this.Set(ez);},Update:function(ez){return ew.UpdateBy(function(eA){return{$:1,$0:et(eA,ez(es(eA)))};},eu);},UpdateMaybe:function(ez){return ew.UpdateBy(function(eA){var eB;eB=ez(es(eA));return eB==null?null:{$:1,$0:et(eA,eB.$0)};},eu);},get_View:function(){return ev;},get_Id:function(){return ex;}});q.New.call(ey);return ey;},FindByKey:function(es){var et;et=this;return S.find(function(eu){return I.Equals(et.key(eu),es);},this["var"].Get());},UpdateBy:function(es,et){var eu,ev,ew,ex,ey;eu=this;ev=this["var"].Get();ew=S.tryFindIndex(function(ez){return I.Equals(eu.key(ez),et);},ev);ew!=null&&ew.$==1?(ex=ew.$0,ey=es(S.get(ev,ex)),ey!=null&&ey.$==1?(this["var"].Set(this.storage.SSetAt(ex,ey.$0,ev)),this.ObsoleteKey(et)):void 0):void 0;},GetEnumerator:function(){return cy.Get(this["var"].Get());},GetEnumerator0:function(){return cy.Get0(this["var"].Get());}},g,_6);_6.New$1=ek.Ctor(function(es){_6.New$2.call(this,es,[]);},_6);_6.New$2=ek.Ctor(function(es,et){var eu;eu=S.ofSeq(et);_6.New$3.call(this,es,i.Create$1(eu),dC.InMemory(eu));},_6);_6.New$3=ek.Ctor(function(es,et,eu){g.New.call(this);this.key=es;this["var"]=et;this.storage=eu;this.v=p.Map(function(ev){return ev.slice();},this["var"].get_View());this.it=new bS.New$5();},_6);_7.New=function(es,et){return{varName:es,varVar:et};};_8.New=function(es,et){return{viwName:es,viwView:et};};_9.New=function(es,et){return{docName:es,docDoc:et};};_.NewFromSeq=function(es){var et,eu,ev;et={};eu=cy.Get(es);try{while(eu.MoveNext()){ev=eu.Current();et[ev[0]]=ev[1];}}finally{if(typeof eu=="object"&&"Dispose"in eu)eu.Dispose();}return et;};ba.New=function(es,et,eu){return{c:es,v:et,f:eu};};bb.sortWith=function(es,et){return bb.delay(function(){var eu;eu=S.ofSeq(et);S.sortInPlaceWith(es,eu);return eu;});};bb.filter=function(es,et){return{GetEnumerator:function(){var eu;eu=cy.Get(et);return new cz.New(null,null,function(ev){var ew,ex,ey;ew=eu.MoveNext();ex=eu.Current();ey=false;while(ew)if(es(ex)){ev.c=ex;ey=true;ew=false;}else if(eu.MoveNext())ex=eu.Current();else ew=false;return ey;},function(){eu.Dispose();});}};};bb.isEmpty=function(es){var et;et=cy.Get(es);try{return!et.MoveNext();}finally{if(typeof et=="object"&&"Dispose"in et)et.Dispose();}};bb.map=function(es,et){return{GetEnumerator:function(){var eu;eu=cy.Get(et);return new cz.New(null,null,function(ev){return eu.MoveNext()&&(ev.c=es(eu.Current()),true);},function(){eu.Dispose();});}};};bb.delay=function(es){return{GetEnumerator:function(){return cy.Get(es());}};};bb.append=function(es,et){return{GetEnumerator:function(){var eu,ev;eu=cy.Get(es);ev=[true];return new cz.New(eu,null,function(ew){var ex;return ew.s.MoveNext()?(ew.c=ew.s.Current(),true):(ex=ew.s,!I.Equals(ex,null)?ex.Dispose():void 0,ew.s=null,ev[0]&&(ev[0]=false,ew.s=cy.Get(et),ew.s.MoveNext()?(ew.c=ew.s.Current(),true):(ew.s.Dispose(),ew.s=null,false)));},function(ew){var ex;ex=ew.s;!I.Equals(ex,null)?ex.Dispose():void 0;});}};};bb.collect=function(es,et){return bb.concat(bb.map(es,et));};bb.min=function(es){var et,eu,ev;et=cy.Get(es);try{if(!et.MoveNext())bb.seqEmpty();eu=et.Current();while(et.MoveNext()){ev=et.Current();I.Compare(ev,eu)===-1?eu=ev:void 0;}return eu;}finally{if(typeof et=="object"&&"Dispose"in et)et.Dispose();}};bb.tryPick=function(es,et){var eu,ev;eu=cy.Get(et);try{ev=null;while(I.Equals(ev,null)&&eu.MoveNext())ev=es(eu.Current());return ev;}finally{if(typeof eu=="object"&&"Dispose"in eu)eu.Dispose();}};bb.tryFind=function(es,et){var eu,ev,ew;eu=cy.Get(et);try{ev=null;while(ev==null&&eu.MoveNext()){ew=eu.Current();es(ew)?ev={$:1,$0:ew}:void 0;}return ev;}finally{if(typeof eu=="object"&&"Dispose"in eu)eu.Dispose();}};bb.exists=function(es,et){var eu,ev;eu=cy.Get(et);try{ev=false;while(!ev&&eu.MoveNext())ev=es(eu.Current());return ev;}finally{if(typeof eu=="object"&&"Dispose"in eu)eu.Dispose();}};bb.sumBy=function(es,et){return bb.fold(function(eu,ev){return eu+es(ev);},0,et);};bb.length=function(es){var et,eu;et=0;eu=cy.Get(es);try{while(eu.MoveNext())et=et+1;return et;}finally{if(typeof eu=="object"&&"Dispose"in eu)eu.Dispose();}};bb.zip=function(es,et){return bb.map2(function(eu,ev){return[eu,ev];},es,et);};bb.choose=function(es,et){return bb.collect(function(eu){var ev;ev=es(eu);return ev==null?cB.Empty:by.ofArray([ev.$0]);},et);};bb.distinct=function(es){return bb.distinctBy(a.id,es);};bb.sort=function(es){return bb.sortBy(a.id,es);};bb.groupBy=function(es,et){return bb.delay(function(){return S.groupBy(es,S.ofSeq(et));});};bb.concat=function(es){return{GetEnumerator:function(){var et;et=cy.Get(es);return new cz.New(null,null,function(eu){var ev;while(true){ev=eu.s;if(I.Equals(ev,null)){if(et.MoveNext()){eu.s=cy.Get(et.Current());eu=eu;}else{et.Dispose();return false;}}else if(ev.MoveNext()){eu.c=ev.Current();return true;}else{eu.Dispose();eu.s=null;eu=eu;}}},function(eu){var ev;ev=eu.s;!I.Equals(ev,null)?ev.Dispose():void 0;!I.Equals(et,null)?et.Dispose():void 0;});}};};bb.seqEmpty=function(){return o.FailWith("The input sequence was empty.");};bb.indexed=function(es){return bb.mapi(function(et,eu){return[et,eu];},es);};bb.fold=function(es,et,eu){var ev,ew;ev=et;ew=cy.Get(eu);try{while(ew.MoveNext())ev=es(ev,ew.Current());return ev;}finally{if(typeof ew=="object"&&"Dispose"in ew)ew.Dispose();}};bb.map2=function(es,et,eu){return{GetEnumerator:function(){var ev,ew;ev=cy.Get(et);ew=cy.Get(eu);return new cz.New(null,null,function(ex){return ev.MoveNext()&&ew.MoveNext()&&(ex.c=es(ev.Current(),ew.Current()),true);},function(){ev.Dispose();ew.Dispose();});}};};bb.tryFindIndex=function(es,et){var eu,ev,ew;eu=cy.Get(et);try{ev=true;ew=0;while(ev&&eu.MoveNext())if(es(eu.Current()))ev=false;else ew=ew+1;return ev?null:{$:1,$0:ew};}finally{if(typeof eu=="object"&&"Dispose"in eu)eu.Dispose();}};bb.distinctBy=function(es,et){return{GetEnumerator:function(){var eu,ev;eu=cy.Get(et);ev=new bT.New$3();return new cz.New(null,null,function(ew){var ex,ey;if(eu.MoveNext()){ex=eu.Current();ey=ev.Add(es(ex));while(!ey&&eu.MoveNext()){ex=eu.Current();ey=ev.Add(es(ex));}return ey&&(ew.c=ex,true);}else return false;},function(){eu.Dispose();});}};};bb.sortBy=function(es,et){return bb.delay(function(){var eu;eu=S.ofSeq(et);S.sortInPlaceBy(es,eu);return eu;});};bb.mapi=function(es,et){return bb.map2(es,bb.initInfinite(a.id),et);};bb.pairwise=function(es){return bb.map(function(et){return[S.get(et,0),S.get(et,1)];},bb.windowed(2,es));};bb.forall2=function(es,et,eu){return!bb.exists2(function(ev,ew){return!es(ev,ew);},et,eu);};bb.init=function(es,et){return bb.take(es,bb.initInfinite(et));};bb.iteri=function(es,et){var eu,ev;eu=0;ev=cy.Get(et);try{while(ev.MoveNext()){es(eu,ev.Current());eu=eu+1;}}finally{if(typeof ev=="object"&&"Dispose"in ev)ev.Dispose();}};bb.initInfinite=function(es){return{GetEnumerator:function(){return new cz.New(0,null,function(et){et.c=es(et.s);et.s=et.s+1;return true;},void 0);}};};bb.skip=function(es,et){return{GetEnumerator:function(){var eu;eu=cy.Get(et);return new cz.New(true,null,function(ev){var ew,ex;if(ev.s){for(ew=1,ex=es;ew<=ex;ew++)if(!eu.MoveNext())bb.insufficient();ev.s=false;}else null;return eu.MoveNext()&&(ev.c=eu.Current(),true);},function(){eu.Dispose();});}};};bb.nth=function(es,et){var eu,ev;if(es<0)o.FailWith("negative index requested");eu=-1;ev=cy.Get(et);try{while(eu<es){!ev.MoveNext()?bb.insufficient():void 0;eu=eu+1;}return ev.Current();}finally{if(typeof ev=="object"&&"Dispose"in ev)ev.Dispose();}};bb.windowed=function(es,et){es<=0?o.FailWith("The input must be positive."):void 0;return bb.delay(function(){return bb.enumUsing(cy.Get(et),function(eu){var ev;ev=[];return bb.append(bb.enumWhile(function(){return ev.length<es&&eu.MoveNext();},bb.delay(function(){ev.push(eu.Current());return[];})),bb.delay(function(){return ev.length===es?bb.append([ev.slice(0)],bb.delay(function(){return bb.enumWhile(function(){return eu.MoveNext();},bb.delay(function(){ev.shift();ev.push(eu.Current());return[ev.slice(0)];}));})):[];}));});});};bb.head=function(es){var et;et=cy.Get(es);try{return et.MoveNext()?et.Current():bb.insufficient();}finally{if(typeof et=="object"&&"Dispose"in et)et.Dispose();}};bb.exists2=function(es,et,eu){var ev,ew,ex,ey;ev=cy.Get(et);try{ex=cy.Get(eu);try{ey=false;while(!ey&&ev.MoveNext()&&ex.MoveNext())ey=es(ev.Current(),ex.Current());ew=ey;}finally{if(typeof ex=="object"&&"Dispose"in ex)ex.Dispose();}return ew;}finally{if(typeof ev=="object"&&"Dispose"in ev)ev.Dispose();}};bb.compareWith=function(es,et,eu){var ev,ew,ex,ey,ez;ev=cy.Get(et);try{ex=cy.Get(eu);try{ey=0;ez=true;while(ez&&ey===0)if(ev.MoveNext())ey=ex.MoveNext()?es(ev.Current(),ex.Current()):1;else if(ex.MoveNext())ey=-1;else ez=false;ew=ey;}finally{if(typeof ex=="object"&&"Dispose"in ex)ex.Dispose();}return ew;}finally{if(typeof ev=="object"&&"Dispose"in ev)ev.Dispose();}};bb.take=function(es,et){es<0?bb.nonNegative():void 0;return{GetEnumerator:function(){var eu;eu=[cy.Get(et)];return new cz.New(0,null,function(ev){var ew;ev.s=ev.s+1;return ev.s>es?false:(ew=eu[0],I.Equals(ew,null)?bb.insufficient():ew.MoveNext()?(ev.c=ew.Current(),ev.s===es?(ew.Dispose(),eu[0]=null):void 0,true):(ew.Dispose(),eu[0]=null,bb.insufficient()));},function(){var ev;ev=eu[0];!I.Equals(ev,null)?ev.Dispose():void 0;});}};};bb.iter=function(es,et){var eu;eu=cy.Get(et);try{while(eu.MoveNext())es(eu.Current());}finally{if(typeof eu=="object"&&"Dispose"in eu)eu.Dispose();}};bb.unfold=function(es,et){return{GetEnumerator:function(){return new cz.New(et,null,function(eu){var ev;ev=es(eu.s);return ev==null?false:(eu.c=ev.$0[0],eu.s=ev.$0[1],true);},void 0);}};};bb.max=function(es){var et,eu,ev;et=cy.Get(es);try{if(!et.MoveNext())bb.seqEmpty();eu=et.Current();while(et.MoveNext()){ev=et.Current();I.Compare(ev,eu)===1?eu=ev:void 0;}return eu;}finally{if(typeof et=="object"&&"Dispose"in et)et.Dispose();}};bb.forall=function(es,et){return!bb.exists(function(eu){return!es(eu);},et);};bd.op_AmpGreater=function(es,et,eu,ev){var ew;ew=es(eu,ev);return ew===0?et(eu,ev):ew;};bd.asc=function(es,et,eu){return I.Compare(es(et),es(eu));};bd.desc=function(es,et,eu){return I.Compare(es(eu),es(et));};be.New=function(es,et,eu,ev,ew,ex){return{hijosDe:es,nivelDe:et,aliado:eu,aliadoO:ev,hijos:ew,descendientes:ex};};bg=bf.FSharpSet=ek.Class({Contains:function(es){return cA.Contains(es,this.tree);},Remove:function(es){return new bg.New$1(cA.Remove(es,this.tree));},Add:function(es){return new bg.New$1(cA.Add(es,this.tree));},Equals:function(es){return this.get_Count()===es.get_Count()&&bb.forall2(I.Equals,this,es);},GetEnumerator$1:function(){return cy.Get(cA.Enumerate(false,this.tree));},get_Count:function(){var es;es=this.tree;return es==null?0:es.Count;},GetHashCode:function(){return -1741749453+I.Hash(S.ofSeq(this));},GetEnumerator:function(){return this.GetEnumerator$1();},CompareTo0:function(es){return bb.compareWith(I.Compare,this,es);},GetEnumerator0:function(){return this.GetEnumerator$1();}},g,bg);bg.op_Subtraction=function(es,et){return bh.Filter(function(eu){return!et.Contains(eu);},es);};bg.New=ek.Ctor(function(es){bg.New$1.call(this,cA.OfSeq(es));},bg);bg.New$1=ek.Ctor(function(es){g.New.call(this);this.tree=es;},bg);bh.Filter=function(es,et){var eu;return new bg.New$1((eu=S.ofSeq(bb.filter(es,et)),cA.Build(eu,0,eu.length-1)));};bi.PadLeft=function(es,et){return bi.PadLeftWith(es,et," ");};bi.concat=function(es,et){return S.ofSeq(et).join(es);};bi.PadLeftWith=function(es,et,eu){return et>es.length?a.Array(et-es.length+1).join(eu)+es:es;};bi.Trim=function(es){return es.replace(new a.RegExp("^\\s+"),"").replace(new a.RegExp("\\s+$"),"");};bi.Substring=function(es,et,eu){return es.substr(et,eu);};bi.Replace=function(es,et,eu){function ev(ew){var ex,ey,ez;ex=ew.indexOf(et);return ex!==-1?(ey=bi.ReplaceOnce(ew,et,eu),(ez=ex+eu.length,bi.Substring(ey,0,ex+eu.length)+ev(ey.substring(ez)))):ew;}return ev(es);};bi.SplitChars=function(es,et,eu){return bi.Split(es,new a.RegExp("["+bi.RegexEscape(et.join(""))+"]"),eu);};bi.StartsWith=function(es,et){return es.substring(0,et.length)==et;};bi.ReplaceOnce=function(es,et,eu){return es.replace(et,eu);};bi.Split=function(es,et,eu){return eu===1?S.filter(function(ev){return ev!=="";},bi.SplitWith(es,et)):bi.SplitWith(es,et);};bi.RegexEscape=function(es){return es.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};bi.IsNullOrEmpty=function(es){return es==null||es=="";};bi.SplitWith=function(es,et){return es.split(et);};bi.replicate=function(es,et){return S.create(es,et).join("");};bi.ReplaceChar=function(es,et,eu){return bi.Replace(es,et,eu);};bi.SplitStrings=function(es,et,eu){return bi.Split(es,new a.RegExp(bi.concat("|",S.map(bi.RegexEscape,et))),eu);};bi.forall=function(es,et){return bb.forall(es,bi.protect(et));};bi.protect=function(es){return es===null?"":es;};bi.Join=function(es,et){return et.join(es);};bj=L.CorreoElectronico=ek.Class({toString:function(){return this.email;}},null,bj);bj.New=function(es,et,eu){return new bj({email:es,enviado:et,recibido:eu});};bk.formaDoc=function(es){var et,eu,ev,ew,ex,ey;et=(eu=(ev=Z.EmbedView(p.Map(bu.crearOptions,bu.generos().get_View())),T.Make().WithHole({$:0,$0:"generos",$1:ev})),(ew=U.CompleteHoles(eu.k,eu.h,[["nombres",0],["apellidos",0],["fechanacimiento",0],["genero",0]]),(ex=new R.New(ew[1],V.datospersonales(ew[0])),(eu.i=ex,ex))));p.Sink(function(ez){var eA;if(ez!=null&&ez.$==1){eA=ez.$0;et.Hole("nombres").Set(bi.Trim(eA.nombre1+" "+eA.nombre2));et.Hole("apellidos").Set(bi.Trim(eA.apellido1+" "+eA.apellido2));et.Hole("fechanacimiento").Set(bx.toYYYYMMDD("-",eA.fechaNacimiento));et.Hole("genero").Set((function(eB){return function(eC){return eB(W.p$12(eC));};}(a.id))(eA.genero));}},es.get_View());ey=p.Apply(p.Apply(p.Map2(function(ez,eA){return function(eB){return function(eC){return bb.map(function(eD){return eD[1];},bb.filter(function(eD){return eD[0];},by.ofArray([[bi.Trim(ez)==="","Nombres"],[bi.Trim(eA)==="","Apellidos"],[bi.Trim(eB)==="","Fecha de Nacimiento"],[bi.Trim(eC)==="","Genero"]])));};};},et.Hole("nombres").get_View(),et.Hole("apellidos").get_View()),et.Hole("fechanacimiento").get_View()),et.Hole("genero").get_View());p.Sink(function(ez){if(!I.Equals(es.Get(),ez))es.Set(ez);},p.Apply(p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(ez,eA){return ek.Curried(function(eB,eC,eD,eE,eF){return!bb.isEmpty(ez)?null:bu.alertIfNone("Genero",cj.tryParse(eA),function(eG){return bu.alertIfNone("Fecha incorrecta",(b5.parseDateO2$1())(eB),function(eH){return{$:1,$0:bN.New(null,S.get(bi.SplitChars(bi.Trim(eC),[" "],0),0),bi.concat(" ",b4.array(bi.SplitChars(bi.Trim(eD),[" "],0),{$:1,$0:1},null)),S.get(bi.SplitChars(bi.Trim(eE),[" "],0),0),bi.concat(" ",b4.array(bi.SplitChars(bi.Trim(eF),[" "],0),{$:1,$0:1},null)),new cc({$:3,$0:""}),eG,eH)};});});},5);},ey,et.Hole("genero").get_View()),et.Hole("fechanacimiento").get_View()),et.Hole("nombres").get_View()),et.Hole("nombres").get_View()),et.Hole("apellidos").get_View()),et.Hole("apellidos").get_View()));return[ey,et.get_Doc()];};bl.formaDoc=function(es){var et,eu,ev,ew,ex,ey,ez;et=i.Create$1("");eu=(ev=T.Make().WithHole({$:2,$0:"mensaje",$1:et.get_View()}),(ew=U.CompleteHoles(ev.k,ev.h,[["correo",0],["confirmarcorreo",0]]),(ex=new R.New(ew[1],V.correo(ew[0])),(ev.i=ex,ex))));ey=es.Get();ey!=null&&ey.$==1?eu.Hole("confirmarcorreo").Set(a.String(ey.$0)):void 0;p.Sink(function(eA){et.Set(eA);},p.Apply(p.Apply(p.Map2(function(eA,eB){return function(eC){return function(eD){return bi.Trim(eA)===""||bi.Trim(eB)===""||bi.Trim(eC)===bi.Trim(eD)?"":"Correos no son iguales";};};},eu.Hole("correo").get_View(),eu.Hole("confirmarcorreo").get_View()),eu.Hole("correo").get_View()),eu.Hole("confirmarcorreo").get_View()));p.Sink(function(eA){if(eA!=null&&eA.$==1)eu.Hole("correo").Set(eA.$0.email);},es.get_View());ez=p.Apply(p.Apply(p.Map2(function(eA,eB){return function(eC){return function(eD){return bb.map(function(eE){return eE[1];},bb.filter(function(eE){return eE[0];},by.ofArray([[bi.Trim(eA)==="","Correo"],[bi.Trim(eB)==="","ConfirmarCorreo"],[eC!=="",eD]])));};};},eu.Hole("correo").get_View(),eu.Hole("confirmarcorreo").get_View()),et.get_View()),et.get_View());p.Sink(function(eA){if(!I.Equals(es.Get(),eA))es.Set(eA);},p.Map2(function(eA,eB){var eC,eD,eE,eF;return!bb.isEmpty(eA)?null:(eC=(eD=es.Get(),(eE={$:1,$0:L.correoVacio()},eD==null?eE:eD)),eC==null?null:{$:1,$0:(eF=eC.$0,bj.New(eB,eF.enviado,eF.recibido))});},ez,eu.Hole("correo").get_View()));return[ez,eu.get_Doc()];};bm.formaDoc=function(es){var et,eu,ev,ew,ex,ey;et=(eu=(ev=Z.EmbedView(p.Map(bu.crearOptions,bu.tiposTel().get_View())),T.Make().WithHole({$:0,$0:"tipos",$1:ev})),(ew=U.CompleteHoles(eu.k,eu.h,[["tipotelefono",0],["codigopais",0],["codigoarea",0],["telefono",0],["extension",0]]),(ex=new R.New(ew[1],V.telefono(ew[0])),(eu.i=ex,ex))));p.Sink(function(ez){var eA;if(ez!=null&&ez.$==1){eA=ez.$0;et.Hole("codigoarea").Set(eA.codigoArea);et.Hole("codigopais").Set(eA.codigoPais);et.Hole("telefono").Set(eA.numero);et.Hole("extension").Set(eA.extension);et.Hole("tipotelefono").Set((function(eB){return function(eC){return eB(a.String(eC));};}(a.id))(eA.tipoTelefono));}},es.get_View());ey=p.Apply(p.Map2(function(ez,eA){return function(eB){return bb.map(function(eC){return eC[1];},bb.filter(function(eC){return eC[0];},by.ofArray([[bi.Trim(ez)==="","CodigoPais"],[bi.Trim(eA)==="","Telefono"],[bi.Trim(eB)==="","TipoTelefono"]])));};},et.Hole("codigopais").get_View(),et.Hole("telefono").get_View()),et.Hole("tipotelefono").get_View());p.Sink(function(ez){if(!I.Equals(es.Get(),ez))es.Set(ez);},p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(ez,eA){return ek.Curried(function(eB,eC,eD,eE){return!bb.isEmpty(ez)?null:bu.alertIfNone("TipoTelefono",(b_.get_tryParse())(bi.Trim(eA)),function(eF){var eG;return{$:1,$0:(eG=bi.Trim(eB),b9.New(eF,bi.Trim(eC),eG,bi.Trim(eD),bi.Trim(eE),false))};});},4);},ey,et.Hole("tipotelefono").get_View()),et.Hole("codigoarea").get_View()),et.Hole("codigopais").get_View()),et.Hole("telefono").get_View()),et.Hole("extension").get_View()));return[ey,et.get_Doc()];};bn.formaDoc=function(es){var et,eu,ev,ew,ex,ey,ez,eA;et=(eu=(ev=Z.EmbedView(p.Map(bu.crearOptions,bu.tiposDir().get_View())),(ew=Z.EmbedView(p.Map(bu.crearOptions,bu.estados().get_View())),(ex=Z.EmbedView(p.Map(bu.crearOptions,bu.paises().get_View())),T.Make().WithHole({$:0,$0:"paises",$1:ex})).WithHole({$:0,$0:"estados",$1:ew})).WithHole({$:0,$0:"tipos",$1:ev})),(ey=U.CompleteHoles(eu.k,eu.h,[["tipodireccion",0],["direccion1",0],["direccion2",0],["ciudad",0],["estado",0],["codigopostal",0],["pais",0]]),(ez=new R.New(ey[1],V.direccion(ey[0])),(eu.i=ez,ez))));p.Sink(function(eB){var eC;if(eB!=null&&eB.$==1){eC=eB.$0;et.Hole("direccion1").Set(eC.linea1);et.Hole("direccion2").Set(eC.linea2);et.Hole("ciudad").Set(eC.ciudad);et.Hole("estado").Set((function(eD){return function(eE){return eD(a.String(eE));};}(a.id))(eC.estado));et.Hole("pais").Set((function(eD){return function(eE){return eD(a.String(eE));};}(a.id))(eC.pais));et.Hole("codigopostal").Set((function(eD){return function(eE){return eD(a.String(eE));};}(a.id))(eC.zonaPostal));et.Hole("tipodireccion").Set((function(eD){return function(eE){return eD(a.String(eE));};}(a.id))(eC.tipoDireccion));}},es.get_View());eA=p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(eB,eC){return ek.Curried(function(eD,eE,eF,eG){return bb.map(function(eH){return eH[1];},bb.filter(function(eH){return eH[0];},by.ofArray([[bi.Trim(eB)==="","Direccion1"],[bi.Trim(eC)==="","Ciudad"],[bi.Trim(eD)==="","Estado"],[bi.Trim(eE)==="","Pais"],[bi.Trim(eF)==="","CodigoPostal"],[bi.Trim(eG)==="","TipoDireccion"]])));},4);},et.Hole("direccion1").get_View(),et.Hole("ciudad").get_View()),et.Hole("estado").get_View()),et.Hole("pais").get_View()),et.Hole("codigopostal").get_View()),et.Hole("tipodireccion").get_View());p.Sink(function(eB){if(!I.Equals(es.Get(),eB))es.Set(eB);},p.Apply(p.Apply(p.Apply(p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(eB,eC){return ek.Curried(function(eD,eE,eF,eG,eH,eI,eJ){return!bb.isEmpty(eB)?null:bu.alertIfNone("TipoDireccion",ca.tryParse(bi.Trim(eC)),function(eK){return bu.alertIfNone("Estado",cb.tryParse(bi.Trim(eD)),function(eL){return bu.alertIfNone("Pais",cc.tryParse(bi.Trim(eE)),function(eM){return bu.alertIfNone("CodigoPostal",cd.tryParse(bi.Trim(eF)),function(eN){var eO;return{$:1,$0:b$.New((eO=eJ==null?null:{$:1,$0:eJ.$0.authorizeIdR},eO==null?bc.Error$1(""):eO.$0),eK,bi.Trim(eG),bi.Trim(eH),bi.Trim(eI),eL,eM,eN)};});});});});},7);},eA,et.Hole("tipodireccion").get_View()),et.Hole("estado").get_View()),et.Hole("pais").get_View()),et.Hole("codigopostal").get_View()),et.Hole("direccion1").get_View()),et.Hole("direccion2").get_View()),et.Hole("ciudad").get_View()),es.get_View()));return[eA,et.get_Doc()];};bo.asyncResult=function(){_5.$cctor();return _5.asyncResult;};bp=bo.AsyncResultBuilder=ek.Class({Run:function(es){return cC.bind(es,cC.rtn());},Delay:a.id,Bind$1:function(es,et){return cC.bind(et,es);},Zero:function(){return cC.rtn();},Combine$1:function(es,et){return cC.bind(et,es);},For:function(es,et){var eu;eu=this;return this.Using(cy.Get(es),function(ev){return eu.While(function(){return ev.MoveNext();},eu.Delay(function(){return et(ev.Current());}));});},Return:function(es){return cC.rtn(es);},Bind:function(es,et){return cC.bind(et,cC.rtnR(es));},Using:function(es,et){return cM.Using(es,et);},While:function(es,et){return cC.whileLoop(es,et);},ReturnFrom$1:a.id,TryFinally:function(es,et){var eu;eu=null;return cM.Delay(function(){return cM.TryFinally(cM.Delay(function(){return es();}),function(){et();});});}},g,bp);bp.New=ek.Ctor(function(){g.New.call(this);},bp);bq.refrescarData=function(es){var et,eu,ev;es?bq.set_shouldRefresh(true):void 0;et=bH.userO().Get();et!=null&&et.$==1?(eu=et.$0,_0.iterA((ev=bo.asyncResult(),ev.Run(ev.Delay(function(){return ev.Combine$1(bH.referidoPor()!==""?ev.Bind$1(_0.agregarUsuarioSiEsNuevo(bH.claims(eu)),function(){return ev.Return();}):ev.Zero(),ev.Delay(function(){return!self.document.hidden?bq.shouldRefresh()?ev.Bind$1(_0.obtenerEstadoParaUsuario(),function(ew){bq.set_shouldRefresh(false);return!I.Equals(m.modeloV().Get(),ew)?(m.modeloV().Set(ew),ev.Zero()):ev.Zero();}):ev.Zero():ev.Zero();}));}))))):m.modeloV().Set(L.modeloVacio());};bq.set_shouldRefresh=function(es){_5.$cctor();_5.shouldRefresh=es;};bq.shouldRefresh=function(){_5.$cctor();return _5.shouldRefresh;};bs.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new a.RegExp("[xy]","g"),function(es){var et,eu;et=el.random()*16|0;eu=es=="x"?et:et&3|8;return eu.toString(16);});};bs.TryParse=function(es,et){try{et.set(bs.Parse(es));return true;}catch(eu){return false;}};bs.Parse=function(es){var et,eu,ev;try{return bs.ParseExact(es,"D");}catch(ew){try{et=bs.ParseExact(es,"B");}catch(ex){try{eu=bs.ParseExact(es,"P");}catch(ey){try{ev=bs.ParseExact(es,"N");}catch(ez){ev=bs.ParseExact(es,"X");}eu=ev;}et=eu;}return et;}};bs.ParseExact=function(es,et){var eu,ev,ew,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH;function ex(eI){var eJ,eK,eL,eM;for(eJ=0,eK=35;eJ<=eK;eJ++){eJ===8||(eJ===13||(eJ===18||eJ===23))?eI[eJ]!=="-"?bs.ShapeError():void 0:(eM=eI[eJ],!("0"<=eM&&eM<="9"||"a"<=eM&&eM<="f")?bs.ShapeError():void 0);}return eI;}ey=et.toUpperCase();if(ey==="N"){ez=bi.Trim(es).toLowerCase();if(ez.length!==32)bs.ShapeError();for(eA=0,eB=31;eA<=eB;eA++){eC=ez[eA];!("0"<=eC&&eC<="9"||"a"<=eC&&eC<="f")?bs.ShapeError():void 0;}return bi.Substring(ez,0,8)+"-"+bi.Substring(ez,8,4)+"-"+bi.Substring(ez,12,4)+"-"+bi.Substring(ez,16,4)+"-"+ez.substring(20);}else if(ey==="D"){eu=bi.Trim(es).toLowerCase();eu.length!==36?bs.ShapeError():void 0;return ex(eu);}else if(ey==="B"){ev=bi.Trim(es).toLowerCase();ev.length!==38||ev[0]!=="{"||ev[17]!=="}"?bs.ShapeError():void 0;return ex(bi.Substring(ev,1,36));}else if(ey==="P"){ew=bi.Trim(es).toLowerCase();ew.length!==38||ew[0]!=="("||ew[17]!==")"?bs.ShapeError():void 0;return ex(bi.Substring(ew,1,36));}else if(ey==="X"){eD=bi.Trim(es).toLowerCase();if(eD.length!==68)bs.ShapeError();for(eE=0,eF=67;eE<=eF;eE++){switch(eE){case 26:case 0:if(eD[eE]!=="{")bs.ShapeError();break;case 62:case 57:case 52:case 47:case 42:case 37:case 32:case 27:case 19:case 12:case 1:if(eD[eE]!=="0")bs.ShapeError();break;case 63:case 58:case 53:case 48:case 43:case 38:case 33:case 28:case 20:case 13:case 2:if(eD[eE]!=="x")bs.ShapeError();break;case 61:case 56:case 51:case 46:case 41:case 36:case 31:case 25:case 18:case 11:if(eD[eE]!==",")bs.ShapeError();break;case 67:case 66:if(eD[eE]!=="{")bs.ShapeError();break;default:eH=eD[eE];!("0"<=eH&&eH<="9"||"a"<=eH&&eH<="f")?bs.ShapeError():void 0;break;}}return bi.Substring(eD,3,8)+"-"+bi.Substring(eD,14,4)+"-"+bi.Substring(eD,21,4)+"-"+bi.Substring(eD,29,2)+bi.Substring(eD,34,2)+"-"+bi.Substring(eD,39,2)+bi.Substring(eD,44,2)+bi.Substring(eD,49,2)+bi.Substring(eD,54,2)+bi.Substring(eD,59,2)+bi.Substring(eD,64,2);}else return bs.FormatError();};bs.ShapeError=function(){throw new d9.New$1("Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");};bs.FormatError=function(){throw new d9.New$1("Format String can be only \"D\", \"d\", \"N\", \"n\", \"P\", \"p\", \"B\", \"b\", \"X\" or \"x\".");};bt.New=function(es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD){return{nombre:es,status:et,influyente:eu,tipo:ev,referido:ew,nivel:ex,referidos:ey,descendientes:ez,comision:eA,diaPago:eB,desde:eC,Id:eD};};S.map=function(es,et){var eu,ev,ew;eu=new a.Array(et.length);for(ev=0,ew=et.length-1;ev<=ew;ev++)eu[ev]=es(et[ev]);return eu;};S.sortBy=function(es,et){return S.map(function(eu){return eu[0];},S.mapi(function(eu,ev){return[ev,[es(ev),eu]];},et).sort(function(eu,ev){return I.Compare(eu[1],ev[1]);}));};S.reduce=function(es,et){var eu,ev,ew;S.nonEmpty(et);eu=et[0];for(ev=1,ew=et.length-1;ev<=ew;ev++)eu=es(eu,et[ev]);return eu;};S.filter=function(es,et){var eu,ev,ew;eu=[];for(ev=0,ew=et.length-1;ev<=ew;ev++)if(es(et[ev]))eu.push(et[ev]);return eu;};S.choose=function(es,et){var eu,ev,ew,ex;eu=[];for(ev=0,ew=et.length-1;ev<=ew;ev++){ex=es(et[ev]);ex==null?void 0:eu.push(ex.$0);}return eu;};S.ofSeq=function(es){var et,eu;if(es instanceof a.Array)return es.slice();else if(es instanceof cB)return S.ofList(es);else{et=[];eu=cy.Get(es);try{while(eu.MoveNext())et.push(eu.Current());return et;}finally{if(typeof eu=="object"&&"Dispose"in eu)eu.Dispose();}}};S.sortInPlaceWith=function(es,et){et.sort(es);};S.mapi=function(es,et){var eu,ev,ew;eu=new a.Array(et.length);for(ev=0,ew=et.length-1;ev<=ew;ev++)eu[ev]=es(ev,et[ev]);return eu;};S.nonEmpty=function(es){if(es.length===0)o.FailWith("The input array was empty.");};S.tryFindIndex=function(es,et){var eu,ev;eu=null;ev=0;while(ev<et.length&&eu==null){es(et[ev])?eu={$:1,$0:ev}:void 0;ev=ev+1;}return eu;};S.ofList=function(es){var et,eu;eu=[];et=es;while(!(et.$==0)){eu.push(by.head(et));et=by.tail(et);}return eu;};S.sortInPlace=function(es){S.mapInPlace(function(et){return et[0];},S.mapiInPlace(function(et,eu){return[eu,et];},es).sort(I.Compare));};S.tryFind=function(es,et){var eu,ev;eu=null;ev=0;while(ev<et.length&&eu==null){es(et[ev])?eu={$:1,$0:et[ev]}:void 0;ev=ev+1;}return eu;};S.sortInPlaceBy=function(es,et){S.mapInPlace(function(eu){return eu[0];},S.mapiInPlace(function(eu,ev){return[ev,[es(ev),eu]];},et).sort(function(eu,ev){return I.Compare(eu[1],ev[1]);}));};S.map2=function(es,et,eu){var ev,ew,ex;S.checkLength(et,eu);ev=new a.Array(eu.length);for(ew=0,ex=eu.length-1;ew<=ex;ew++)ev[ew]=es(et[ew],eu[ew]);return ev;};S.forall=function(es,et){var eu,ev,ew,ex;eu=true;ev=0;ex=S.length(et);while(eu&&ev<ex)if(es(et[ev]))ev=ev+1;else eu=false;return eu;};S.init=function(es,et){var eu,ev,ew;es<0?o.FailWith("Negative size given."):null;eu=new a.Array(es);for(ev=0,ew=es-1;ev<=ew;ev++)eu[ev]=et(ev);return eu;};S.tryPick=function(es,et){var eu,ev,ew;eu=null;ev=0;while(ev<et.length&&eu==null){ew=es(et[ev]);ew!=null&&ew.$==1?eu=ew:void 0;ev=ev+1;}return eu;};S.concat=function(es){return a.Array.prototype.concat.apply([],S.ofSeq(es));};S.checkLength=function(es,et){if(es.length!==et.length)o.FailWith("The arrays have different lengths.");};S.exists=function(es,et){var eu,ev,ew,ex;eu=false;ev=0;ex=S.length(et);while(!eu&&ev<ex)if(es(et[ev]))eu=true;else ev=ev+1;return eu;};S.pick=function(es,et){var eu;eu=S.tryPick(es,et);return eu==null?o.FailWith("KeyNotFoundException"):eu.$0;};S.create=function(es,et){var eu,ev,ew;eu=new a.Array(es);for(ev=0,ew=es-1;ev<=ew;ev++)eu[ev]=et;return eu;};S.foldBack=function(es,et,eu){var ev,ew,ex,ey,ez;ev=eu;ex=et.length;for(ey=1,ez=ex;ey<=ez;ey++)ev=es(et[ex-ey],ev);return ev;};S.iter=function(es,et){var eu,ev;for(eu=0,ev=et.length-1;eu<=ev;eu++)es(et[eu]);};S.find=function(es,et){var eu;eu=S.tryFind(es,et);return eu==null?o.FailWith("KeyNotFoundException"):eu.$0;};bu.statuses=function(){_5.$cctor();return _5.statuses;};bu.crearOptions=function(es){return Z.Concat(bb.map(bu.crearOption,es));};bu.crearOptions2=function(es){return Z.Concat(bb.map(function(et){return bu.crearOption2(et[0],et[1]);},es));};bu.paises=function(){_5.$cctor();return _5.paises;};bu.estados=function(){_5.$cctor();return _5.estados;};bu.tiposDir=function(){_5.$cctor();return _5.tiposDir;};bu.tiposTel=function(){_5.$cctor();return _5.tiposTel;};bu.generos=function(){_5.$cctor();return _5.generos;};bu.tiposCta=function(){_5.$cctor();return _5.tiposCta;};bu.tiposTar=function(){_5.$cctor();return _5.tiposTar;};bu.aniosV=function(){_5.$cctor();return _5.aniosV;};bu.mesesV=function(){_5.$cctor();return _5.mesesV;};bu.alertIfNone=function(es,et,eu){return et!=null&&et.$==1?eu(et.$0):(a.alert("Error not caught: "+es),null);};bu.removeButton=function(es,et){return Z.Element("form",[cW.Create("class","mui-panel")],[et,Z.Button("borrar",[cW.Create("title","borrar")],es)]);};bu.fst3=a.id;bu.crearOption=function(es){return Z.Element("option",[],[Z.TextNode(es)]);};bu.crearOption2=function(es,et){return Z.Element("option",[cW.Create("value",et)],[Z.TextNode(es)]);};bu.thr3=function(es,et,eu){return eu;};bu.snd3=function(es,et,eu){return et;};bv=L.StatusAliado=ek.Class({toString:function(){return(function(es){return function(et){return es(W.p$1(et));};}(a.id))(this);}},null,bv);bv.tryParse=function(es){var et;et=bi.Trim(es).toUpperCase();return et==="CUENTACREADA"?bv.CuentaCreada:et==="DATOSBANCARIOSINGRESADOS"?bv.DatosBancariosIngresados:et==="ACTIVO"?bv.Activo:et==="CANCELADO"?bv.Cancelado:bv.Inactivo;};bv.Inactivo=new bv({$:3});bv.CuentaCreada=new bv({$:0});bv.DatosBancariosIngresados=new bv({$:1});bv.Activo=new bv({$:2});bv.Cancelado=new bv({$:4});bw.toSafe=function(es){return es==null?"":es;};bw.prettyPrint=function(es){var et,eu;function ev(ew,ex){return ew+" = "+bw.prettyPrint(ex);}return es===null?"null":(et=typeof es,et=="string"?"\""+es+"\"":et=="object"?es instanceof a.Array?"[|"+bi.concat("; ",S.map(bw.prettyPrint,es))+"|]":(eu=a.String(es),eu==="[object Object]"?"{"+bi.concat("; ",S.map(function(ew){return ev(ew[0],ew[1]);},H.GetFields(es)))+"}":eu):a.String(es));};bw.padNumLeft=function(es,et){var eu;eu=S.get(es,0);return eu===" "||eu==="+"||eu==="-"?eu+bi.PadLeftWith(es.substr(1),et-1,"0"):bi.PadLeftWith(es,et,"0");};bw.printList=function(es,et){return"["+bi.concat("; ",bb.map(es,et))+"]";};bc["String.Right$1"]=function(es,et){var eu,ev;return bc["String.Substring2$1"](es,(eu=0,(ev=es.length-et,I.Compare(eu,ev)===1?eu:ev)),es.length);};bc.Error$1=function(es){return{$:1,$0:es};};bc.print$1=function(es){if(typeof es=="string")((function(et){return function(eu){return et(bw.toSafe(eu));};}(function(et){en.log(et);}))(es));else((function(et){return function(eu){return et(bw.prettyPrint(eu));};}(function(et){en.log(et);}))(es));};bc["String.Left$1"]=function(es,et){return et<0?bc["String.Substring2$1"](es,0,es.length+et):bc["String.Substring2$1"](es,0,et);};bc["String.Substring2$1"]=function(es,et,eu){var ev,ew;while(true){if(eu<=0)return"";else if(et<0){ev=et;et=0;eu=eu+ev;}else return et>=es.length?"":bi.Substring(es,et,(ew=es.length-et,I.Compare(eu,ew)===-1?eu:ew));}};bc["String.get_toUnderscore$1"]=function(es,et){return S.ofSeq(bb.collect(a.id,bb.mapi(function(eu,ev){return eu>0&&d7.IsUpper(ev)?by.ofArray(["_",ev]):by.ofArray([ev]);},es))).join("");};bx.toYYYYMMDD=function(es,et){return((((((ek.Curried(function(eu,ev,ew,ex,ey,ez){return eu(a.String(ev)+bw.toSafe(ew)+bw.padNumLeft(a.String(ex),2)+bw.toSafe(ey)+bw.padNumLeft(a.String(ez),2));},6))(a.id))((new eo(et)).getFullYear()))(es))((new eo(et)).getMonth()+1))(es))((new eo(et)).getDate());};bx.toYYYYMMDDHHMM=function(es,et){return(((ek.Curried3(function(eu,ev,ew){return eu(bw.toSafe(ev)+" "+bw.toSafe(ew));}))(a.id))(bx.toYYYYMMDD(es,et)))(bx.toHHMM(et));};bx.toHHMM=function(es){return(((ek.Curried3(function(et,eu,ev){return et(bw.padNumLeft(a.String(eu),2)+":"+bw.padNumLeft(a.String(ev),2));}))(a.id))((new eo(es)).getHours()))((new eo(es)).getMinutes());};by.ofArray=function(es){var et,eu,ev;et=cB.Empty;for(eu=S.length(es)-1,ev=0;eu>=ev;eu--)et=new cB({$:1,$0:S.get(es,eu),$1:et});return et;};by.ofSeq=function(es){var et,eu,ev,ew,ex,ey;if(es instanceof cB)return es;else if(es instanceof a.Array)return by.ofArray(es);else{et=cy.Get(es);try{ev=et.MoveNext();if(!ev)eu=cB.Empty;else{ex=new cB({$:1});ew=ex;while(ev){ew.$0=et.Current();et.MoveNext()?ew=(ey=new cB({$:1}),ew.$1=ey,ey):ev=false;}ew.$1=cB.Empty;eu=ex;}return eu;}finally{if(typeof et=="object"&&"Dispose"in et)et.Dispose();}}};by.rev=function(es){var et,eu;et=cB.Empty;eu=es;while(eu.$==1){et=new cB({$:1,$0:eu.$0,$1:et});eu=eu.$1;}return et;};by.head=function(es){return es.$==1?es.$0:by.listEmpty();};by.tail=function(es){return es.$==1?es.$1:by.listEmpty();};by.listEmpty=function(){return o.FailWith("The input list was empty.");};by.iter=function(es,et){var eu;eu=et;while(eu.$==1){es(by.head(eu));eu=by.tail(eu);}};bz.New=function(es,et,eu,ev,ew){return{titular:es,banco:et,tipo:eu,numero:ev,routing:ew};};bA=L.RoutingNumber=ek.Class({get_Id:function(){return this.$0;}},null,bA);bB=L.NumeroCuenta=ek.Class({get_Id:function(){return this.$0;}},null,bB);bC.New=function(es,et,eu){return{nombre:es,authorizeIdR:et,cuentaPago:eu};};L.ctaVacio=function(){_5.$cctor();return _5.ctaVacio;};L.premisasCalculo=function(){_5.$cctor();return _5.premisasCalculo;};L.correoVacio=function(){_5.$cctor();return _5.correoVacio;};L.modeloVacio=function(){_5.$cctor();return _5.modeloVacio;};L.telVacio=function(){_5.$cctor();return _5.telVacio;};L.dirVacio=function(){_5.$cctor();return _5.dirVacio;};L.tarVacio=function(){_5.$cctor();return _5.tarVacio;};bD.defaultValue=function(es,et){return et.$==1?es:et.$0;};bD.result=function(){_5.$cctor();return _5.result;};bD.iter=function(es,et,eu){bD.defaultWith(es,dw.Map(et,eu));};bD.defaultWith=function(es,et){return et.$==1?es(et.$0):et.$0;};bE.formaFirma=function(es,et,eu,ev){var ew,ex,ey,ez,eA,eB;function eC(){var eD;_0.iterA((eD=bo.asyncResult(),eD.Run(eD.Delay(function(){return bE.mensajes().Get()!==""?(a.alert(bE.mensajes().Get()),eD.Zero()):bI["AsyncResultBuilder.Bind"](eD,bE.subirScreenShot(ev),function(){return eD.ReturnFrom$1(cC.map(function(eE){a.alert(eE);},eu()));});}))));}ew=i.Create$1(false);ex=(ey=(ez=T.Make().WithHole({$:2,$0:"firmarclass",$1:p.Map(function(eD){return eD===""?"mui-btn--primary":"";},bE.mensajes().get_View())}).WithHole({$:2,$0:"mensaje",$1:bE.mensajes().get_View()}).WithHole({$:0,$0:"contenido",$1:et}).WithHole({$:9,$0:"acepto",$1:i.Lens(ew,a.id,function(eD,eE){return eE;})}),ez.WithHole(U.EventQ2(ez.k,"firmar",function(){return ez.i;},function(){eC();}))).WithHole({$:2,$0:"datetime",$1:bE.fechaHoraV().get_View()}),(eA=U.CompleteHoles(ey.k,ey.h,[["firmante",0],["fecha",0],["acepto",2]]),(eB=new R.New(eA[1],V.formafirma(eA[0])),(ey.i=eB,eB))));p.Sink(function(eD){bE.mensajes().Set(eD);},p.Apply(p.Apply(p.Apply(p.Map2(function(eD,eE){return ek.Curried3(function(eF,eG,eH){return bi.concat(", ",bb.map(function(eI){return eI[1];},bb.filter(function(eI){return eI[0];},by.ofArray([[bi.Trim(eD)!==eE.toUpperCase(),"Nombre en MAYUSCULAS debe coincidir"],[eF!==bc["String.Left$1"](eG,10),"Introduzca fecha de hoy (YYYY-MM-DD)"],[!I.Equals(eH,true),"Acepte los terminos indicados"]]))));});},ex.Hole("firmante").get_View(),es),ex.Hole("fecha").get_View()),bE.fechaHoraV().get_View()),ex.Hole("acepto").get_View()));return ex.get_Doc();};bE.fechaHoraV=function(){_5.$cctor();return _5.fechaHoraV;};bE.mensajes=function(){_5.$cctor();return _5.mensajes;};bE.subirScreenShot=function(es){var et;et=null;return cM.Delay(function(){return cM.Bind(c5.AsAsync(a.html2canvas(self.document.querySelector("#content-wrapper"))),function(eu){self.document.body.appendChild(eu);eu.toBlob(function(ev){var ew,ex,ey;ew=(((ek.Curried3(function(ez,eA,eB){return ez(bw.toSafe(eA)+" "+bw.toSafe(eB)+".png");}))(a.id))(es))(bi.Replace(bE.fechaHoraV().Get(),":","."));ex=new a.FormData();ex.append("fname",ew);ex.append("data",ev);em.ajax((ey={},ey.type="POST",ey.url="/api/subir/"+m.modeloV().Get().idAliado.get_Id()+"/"+ew,ey.data=ex,ey.contentType=false,ey.processData=false,ey.success=bE.uploaded(),ey));});self.document.body.removeChild(eu);return cM.Zero();});});};bE.uploaded=function(){_5.$cctor();return _5.uploaded;};bF.New=function(es,et,eu,ev,ew,ex,ey,ez){return{comisionReferidosRegular:es,comisionReferidosMaster:et,comisionDescendientesMaster:eu,comisionDescendientesRegular:ev,montoAfiliacion:ew,numeroReferidosMaster:ex,diaCorte1:ey,diaCorte2:ez};};bG.New=function(es,et,eu){return{actName:es,actFunction:et,actEnabled:eu};};bH.logout=function(){bH.executePolicy(true,b8.SignIn);};bH.userO=function(){_5.$cctor();return _5.userO;};bH.storeValue=function(es,et){self.localStorage.setItem(es,et);return et;};bH.appId=function(){_5.$cctor();return _5.appId;};bH.storageGetItem=function(es){return self.localStorage.getItem(es);};bH.getAuthority=function(es,et){return((((ek.Curried(function(eu,ev,ew,ex){return eu("https://"+bw.toSafe(ev)+".b2clogin.com/tfp/"+bw.toSafe(ew)+".onmicrosoft.com/"+bw.toSafe(ex));},4))(a.id))(es))(es))(et);};bH.tenantName=function(){_5.$cctor();return _5.tenantName;};bH.signInPolicy=function(){_5.$cctor();return _5.signInPolicy;};bH.applicationId=function(){_5.$cctor();return _5.applicationId;};bH.authority=function(){_5.$cctor();return _5.authority;};bH.redirectCallback=function(es,et){try{!I.Equals(es,null)?(function(eu){return function(ev){return eu("error: "+Y.p(ev));};}(function(eu){en.log(eu);}))(es):void 0;!I.Equals(et,null)?(function(eu){return function(ev){return eu("resp : "+Y.p$1(ev));};}(function(eu){en.log(eu);}))(et):null;}catch(eu){(((ek.Curried3(function(ev,ew,ex){return ev(bw.prettyPrint(ew)+" "+bw.toSafe(ex));}))(function(ev){en.log(ev);}))(eu))(eu.stack);}};bH.getTokenO0=function(){var es;es=null;return cM.Delay(function(){return bH.userO().Get()==null?cM.Return(null):cM.Bind(c5.AsAsync(bH.agent().f().acquireTokenSilent(bH.authParms())),function(et){return cM.Return({$:1,$0:et.accessToken});});});};bH.checkUser=function(){var es;cM.Start((es=null,cM.Delay(function(){return cM.Bind(cM.Sleep(100),function(){return cM.While(function(){return true;},cM.Delay(function(){var et,eu;et=(eu=bH.agent().f().getAccount(),I.Equals(eu,null)?null:{$:1,$0:eu});return cM.Combine(bH.getId(et)!==bH.getId(bH.userO().Get())?(bH.userO().Set(et),cM.Zero()):cM.Zero(),cM.Delay(function(){return cM.Combine(I.Equals(bH.userO().Get(),null)?(bH.executePolicy(false,b8.SignIn),cM.Zero()):cM.Zero(),cM.Delay(function(){return cM.Bind(cM.Sleep(9000),function(){return cM.Return(null);});}));}));}));});})),null);};bH.getTokenO=function(){_5.$cctor();return _5.getTokenO;};bH.referidoPor=function(){return bH.storageGetItem("referidoPor");};bH.claims=function(es){var et;et=[["oid",es.idToken.oid],["city",es.idToken.city],["country",es.idToken.country],["extension_DateOfBirth",es.idToken.extension_DateOfBirth],["given_name",es.idToken.given_name],["postalCode",es.idToken.postalCode],["state",es.idToken.state],["streetAddress",es.idToken.streetAddress],["family_name",es.idToken.family_name],["emails",S.get(es.idToken.emails,0)],["referidoPor",bH.referidoPor()]];bH.storageSetItem("referidoPor","");return et;};bH.executePolicy=function(es,et){bH.storeValue("forceLogin",es?"1":"0");bH.storeValue("goInsideLink",self.location.href);bH.storeValue("policyType",a.String(et));self.location.replace("blob/Msal.html");};bH.authParms=function(){return dr.New$1(null,null,null,null,null,null,null,null,{$:1,$0:[(((ek.Curried3(function(es,et,eu){return es("https://"+bw.toSafe(et)+".onmicrosoft.com/"+bw.toSafe(eu)+"/user_impersonation");}))(a.id))(bH.tenantName()))(bH.appId())]},null,null);};bH.agent=function(){_5.$cctor();return _5.agent;};bH.getId=function(es){var et;et=es==null?null:{$:1,$0:es.$0.idToken.oid};return et==null?"":et.$0;};bH.storageSetItem=function(es,et){self.localStorage.setItem(es,et);};bI["AsyncResultBuilder.Bind"]=function(es,et,eu){function ev(ex){return{$:0,$0:ex};}function ew(ex){return cM.Return(ex);}return cC.bind(eu,cM.Bind(et,function(ex){return ew(ev(ex));}));};bK.New=function(es,et){return{lytName:es,lytDefinition:et};};bL.$cctor=function(){var es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX;bL.$cctor=a.ignore;function eY(ft){return bi.concat("\n",ft);}function eZ(ft){return b3.splitByChar("\n",ft);}function e0(ft){var fu,fv;return b4.array(ft,{$:1,$0:0},{$:1,$0:(fu=0,(fv=S.length(ft)-2,I.Compare(fu,fv)===1?fu:fv))});}function e1(ft){return bi.concat("\n",ft);}function e2(ft){return ft+"T00:00:00";}function e3(ft){var fu;function fv(fx){return k.plugIns().TryFindByKey(fx);}function fw(fx){var fy;fy=k.defaultPlugIn();return fx==null?fy:fx.$0;}fu=function(fx){return fx==null?null:fv(fx.$0);};return function(fx){return fw(fu(fx));};}function e4(ft){var fu;fu=null;return ew.TryGetValue(ft,{get:function(){return fu;},set:function(fv){fu=fv;}})?{$:1,$0:fu}:null;}function e5(ft,fu){ew.set_Item(ft,fu);return fu;}function e6(ft,fu){var fv;fv=e4(ft);return fv==null?e5(ft,fu(ft)):fv.$0;}function e7(ft){var fu;fu=null;return ez.TryGetValue(ft,{get:function(){return fu;},set:function(fv){fu=fv;}})?{$:1,$0:fu}:null;}function e8(ft,fu){ez.set_Item(ft,fu);return fu;}function e9(ft,fu){var fv;fv=e7(ft);return fv==null?e8(ft,fu(ft)):fv.$0;}function e_(ft){var fu;fu=null;return eC.TryGetValue(ft,{get:function(){return fu;},set:function(fv){fu=fv;}})?{$:1,$0:fu}:null;}function e$(ft,fu){eC.set_Item(ft,fu);return fu;}function fa(ft,fu){var fv;fv=e_(ft);return fv==null?e$(ft,fu(ft)):fv.$0;}function fb(ft){var fu;fu=null;return eF.TryGetValue(ft,{get:function(){return fu;},set:function(fv){fu=fv;}})?{$:1,$0:fu}:null;}function fc(ft,fu){eF.set_Item(ft,fu);return fu;}function fd(ft,fu){var fv;fv=fb(ft);return fv==null?fc(ft,fu(ft)):fv.$0;}function fe(ft){var fu;fu=null;return eI.TryGetValue(ft,{get:function(){return fu;},set:function(fv){fu=fv;}})?{$:1,$0:fu}:null;}function ff(ft,fu){eI.set_Item(ft,fu);return fu;}function fg(ft,fu){var fv;fv=fe(ft);return fv==null?ff(ft,fu(ft)):fv.$0;}function fh(ft){var fu;fu=null;return eL.TryGetValue(ft,{get:function(){return fu;},set:function(fv){fu=fv;}})?{$:1,$0:fu}:null;}function fi(ft,fu){eL.set_Item(ft,fu);return fu;}function fj(ft,fu){var fv;fv=fh(ft);return fv==null?fi(ft,fu(ft)):fv.$0;}function fk(ft){var fu;fu=null;return eO.TryGetValue(ft,{get:function(){return fu;},set:function(fv){fu=fv;}})?{$:1,$0:fu}:null;}function fl(ft,fu){eO.set_Item(ft,fu);return fu;}function fm(ft,fu){var fv;fv=fk(ft);return fv==null?fl(ft,fu(ft)):fv.$0;}function fn(ft){var fu;fu=null;return eR.TryGetValue(ft,{get:function(){return fu;},set:function(fv){fu=fv;}})?{$:1,$0:fu}:null;}function fo(ft,fu){eR.set_Item(ft,fu);return fu;}function fp(ft,fu){var fv;fv=fn(ft);return fv==null?fo(ft,fu(ft)):fv.$0;}function fq(ft){var fu;fu=null;return eU.TryGetValue(ft,{get:function(){return fu;},set:function(fv){fu=fv;}})?{$:1,$0:fu}:null;}function fr(ft,fu){eU.set_Item(ft,fu);return fu;}function fs(ft,fu){var fv;fv=fq(ft);return fv==null?fr(ft,fu(ft)):fv.$0;}bL.unindentStr=function(ft){return eY(b3.unindent(ft));};bL.skipLastLine=(es=function(ft){return e0(eZ(ft));},function(ft){return e1(es(ft));});bL.parseDateO2=(et=b5.tryParseWith(function(ft){var fu,fv;fu=0;return[(fv=c0.TryParse(ft),fv!=null&&fv.$==1&&(fu=fv.$0,true)),fu];}),function(ft){return et(e2(ft));});bL.parseDateO=b5.tryParseWith(function(ft){var fu,fv;fu=0;return[(fv=c0.TryParse(ft),fv!=null&&fv.$==1&&(fu=fv.$0,true)),fu];});bL.parseIntO=b5.tryParseWith(function(ft){var fu;fu=0;return[bQ.TryParseInt32(ft,{get:function(){return fu;},set:function(fv){fu=fv;}}),fu];});bL.parseInt64O=b5.tryParseWith(function(ft){var fu;fu=0;return[bQ.TryParseInt64(ft,{get:function(){return fu;},set:function(fv){fu=fv;}}),fu];});bL.parseSingleO=b5.tryParseWith(function(ft){var fu,fv;fu=0;return[(fv=a.Number(ft),a.isNaN(fv)?false:(fu=fv,true)),fu];});bL.parseDoubleO=b5.tryParseWith(function(ft){var fu,fv;fu=0;return[(fv=a.Number(ft),a.isNaN(fv)?false:(fu=fv,true)),fu];});bL.parseGuidO=b5.tryParseWith(function(ft){var fu;fu=null;return[bs.TryParse(ft,{get:function(){return fu;},set:function(fv){fu=fv;}}),fu];});bL["|Date|_|"]=b5.parseDateO();bL["|Int|_|"]=b5.parseIntO();bL["|Int64|_|"]=b5.parseInt64O();bL["|Single|_|"]=b5.parseSingleO();bL["|Double|_|"]=b5.parseDoubleO();bL["|Guid|_|"]=b5.parseGuidO();bL.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";bL.rexEmail="(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@[*[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+]*";bL.observers=cB.Empty;bL.css="\r\n                .tab-panel {\r\n                 overflow  : hidden   ;\r\n                 display   : flex     ;\r\n                 flex-flow : column   ;\r\n                 background: lightgray;\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                }\r\n                .tab-content {\r\n                 flex      : 1 1     ;\r\n                 overflow  : auto    ;\r\n                 position  : relative;\r\n                }\r\n                .tab-children {\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                 position  : absolute;\r\n                 display   : grid    ;\r\n                }\r\n                .tab-strip {\r\n                 padding   : 0pt     ;\r\n                 flex      : 0 0     ;\r\n                }\r\n                .tab {\r\n                 border     : 0.2pt solid transparent;\r\n                 padding    : 0pt 4pt;\r\n                 display    : inline-block;\r\n                 font-family: sans-serif;\r\n                 font-weight: 200;\r\n                 font-size  : small;\r\n                 color      : #666;\r\n                 cursor     : pointer;\r\n                }\r\n                .top>.tab {\r\n                 border-radius: 2pt 2pt 0pt 0pt;\r\n                 border-bottom-width: 0pt;\r\n                 vertical-align: bottom;\r\n                }\r\n                .bottom>.tab {\r\n                 border-top-width: 0pt;\r\n                 border-radius: 0pt 0pt 2pt 2pt;\r\n                 vertical-align: top;\r\n                }\r\n                .horizontal>.tab:not(:first-child) {\r\n                 border-left-width: 0pt;\r\n                }\r\n                .tab.hovering {\r\n                 background: red;\r\n                }\r\n                .tab.selected {\r\n                 background: white;\r\n                 border-left-width: 0.2pt;\r\n                 color: black;\r\n                 font-weight: 500;\r\n                 border-color: black;\r\n                }\r\n                .horizontal>.tab.selected {\r\n                 border-left-width: 0.2pt;\r\n                }\r\n                ::slotted(*              ) { \r\n                 width : 100%;\r\n                 height: 100%;\r\n                }\r\n                        ";bL.init=r.Create(function(){var ft;ft=new cT.New();cR.defineWebComponent("wcomp-tabstrip",cT.Constructor,self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New);});bL.layoutHorizontal=ek.Curried(function(ft,fu,fv,fw,fx){return Z.get_Empty();},5);bL.layoutVertical=ek.Curried(function(ft,fu,fv,fw,fx){return Z.get_Empty();},5);bL.plugIns=new _6.New$1(function(ft){return ft.plgName;});bL.mainDocV=i.Create$1("AppFramework.AppFwkClient");bL.TemplateFileName="..\\website\\AppFramework.html";bL.defaultPlugIn=l.New("",[],[],[],[],[]);bL.selectionPlugInO=i.Create$1({$:1,$0:"AppFramework"});bL.currentPlugInW=(eu=k.selectionPlugInO().get_View(),p.Map2(function(ft,fu){return(e3(ft))(fu);},k.plugIns().v,eu));bL.currentPlugInV=new cK.New(k.currentPlugInW(),function(ft){k.plugIns().Append(ft);});bL.AppFwkClient=r.Create(function(){var ft,fu,fv,fw,fx,fy,fz,fA,fB;return(ft=(fu=k.renderQueries(),(fv=k.renderActions(),(fw=k.renderDocs(),(fx=k.renderViews(),(fy=k.renderVars(),(fz=k.renderPlugIns(),T.Make().WithHole({$:0,$0:"plugins",$1:fz})).WithHole({$:2,$0:"pluginname",$1:p.Map(function(fC){return fC.plgName;},k.currentPlugInW())}).WithHole({$:0,$0:"vars",$1:fy})).WithHole({$:0,$0:"views",$1:fx})).WithHole({$:0,$0:"docs",$1:fw})).WithHole({$:0,$0:"actions",$1:fv})).WithHole({$:0,$0:"queries",$1:fu})),(fA=U.CompleteHoles(ft.k,ft.h,[]),(fB=new R.New(fA[1],cP.appfwkclient(fA[0])),(ft.i=fB,fB)))).get_Doc();});bL.actHello=k.newAct("Hello",function(){self.alert("Hello!");});bL.qryDocs=k.newQry("getDocNames",function(){return S.ofSeq(bb.collect(function(ft){return bb.map(function(fu){return ft.plgName+"."+fu.docName;},ft.plgDocs);},(k.plugIns())["var"].Get()));});k.plugIns().Append(l.New("AppFramework",[k.newVar("mainDocV",k.mainDocV())],[],[k.newDoc("AppFwkClient",k.AppFwkClient())],[k.actHello()],[k.qryDocs()]));bL.getMainDoc=r.Create(function(){cU.init(ek.Curried(k.horizontal,5),ek.Curried(k.vertical,5));cS.init().f();return k.mainDoc();});bL.splitName=k.splitName;bL.createSplitterM=(ev=(ew=new bS.New$5(),[[e4,function(ft){return function(fu){return e6(ft,fu);};}],function(){ew.Clear();}]),(ex=ev[0][1],[function(ft){return(ex(ft))(function(fu){return J.createSplitter(fu[0],fu[1],fu[2],fu[3],fu[4]);});},ev[1]]))[0];bL.createButtonM=(ey=(ez=new bS.New$5(),[[e7,function(ft){return function(fu){return e9(ft,fu);};}],function(){ez.Clear();}]),(eA=ey[0][1],[function(ft){return(eA(ft))(function(fu){return J.createButton(fu[0],fu[1],fu[2],fu[3],fu[4]);});},ey[1]]))[0];bL.createInputM=(eB=(eC=new bS.New$5(),[[e_,function(ft){return function(fu){return fa(ft,fu);};}],function(){eC.Clear();}]),(eD=eB[0][1],[function(ft){return(eD(ft))(function(fu){return J.createInput(fu[0],fu[1],fu[2],fu[3]);});},eB[1]]))[0];bL.createTextAreaM=(eE=(eF=new bS.New$5(),[[fb,function(ft){return function(fu){return fd(ft,fu);};}],function(){eF.Clear();}]),(eG=eE[0][1],[function(ft){return(eG(ft))(function(fu){return J.createTextArea(fu[0],fu[1],fu[2],fu[3]);});},eE[1]]))[0];bL.createElementM=(eH=(eI=new bS.New$5(),[[fe,function(ft){return function(fu){return fg(ft,fu);};}],function(){eI.Clear();}]),(eJ=eH[0][1],[function(ft){return(eJ(ft))(function(fu){return J.createElement(fu[0],fu[1],fu[2],fu[3],fu[4]);});},eH[1]]))[0];bL.createDocM=(eK=(eL=new bS.New$5(),[[fh,function(ft){return function(fu){return fj(ft,fu);};}],function(){eL.Clear();}]),(eM=eK[0][1],[function(ft){return(eM(ft))(function(fu){return J.createDoc(fu[0],fu[1],fu[2],fu[3]);});},eK[1]]))[0];bL.createTemplateM=(eN=(eO=new bS.New$5(),[[fk,function(ft){return function(fu){return fm(ft,fu);};}],function(){eO.Clear();}]),(eP=eN[0][1],[function(ft){return(eP(ft))(function(fu){return J.createTemplate(fu[0],fu[1],fu[2],fu[3],fu[4]);});},eN[1]]))[0];bL.createConcatM=(eQ=(eR=new bS.New$5(),[[fn,function(ft){return function(fu){return fp(ft,fu);};}],function(){eR.Clear();}]),(eS=eQ[0][1],[function(ft){return(eS(ft))(function(fu){return J.createConcat(fu[0],fu[1],fu[2]);});},eQ[1]]))[0];bL.createVarM=(eT=(eU=new bS.New$5(),[[fq,function(ft){return function(fu){return fs(ft,fu);};}],function(){eU.Clear();}]),(eV=eT[0][1],[function(ft){return(eV(ft))(function(fu){return J.createVar(fu[0],fu[1],fu[2]);});},eT[1]]))[0];eW=k.tryGetPlugIn("AppFramework");eW==null?void 0:(eX=eW.$0,k.addPlugIn(l.New(eX.plgName,eX.plgVars,eX.plgViews,eX.plgDocs,eX.plgActions.concat([k.newActF("AddLayout",{$:2,$0:function(ft){return function(fu){return J.addNewLayout(ft,fu);};},$1:"[Name]",$2:"[Layout]"})]),eX.plgQueries)));};bM=L.IdForAuthorize=ek.Class({},null,bM);bN.New=function(es,et,eu,ev,ew,ex,ey,ez){return{titulo:es,nombre1:et,nombre2:eu,apellido1:ev,apellido2:ew,nacionalidad:ex,genero:ey,fechaNacimiento:ez};};bO.Dia01={$:0};bP=L.TipoAliado=ek.Class({toString:function(){return(function(es){return function(et){return es(W.p$2(et));};}(a.id))(this);}},null,bP);bP.Regular=new bP({$:1});bQ.TryParseInt32=function(es,et){return bQ.TryParse(es,-2147483648,2147483647,et);};bR=bf.List=ek.Class({GetEnumerator:function(){return cy.Get(this);},GetEnumerator0:function(){return cy.Get0(this);}},null,bR);bS=bf.Dictionary=ek.Class({set_Item:function(es,et){this.set(es,et);},set:function(es,et){var eu,ev,ew,ex;eu=this;ev=this.hash(es);ew=this.data[ev];ew==null?(this.count=this.count+1,this.data[ev]=new a.Array({K:es,V:et})):(ex=S.tryFindIndex(function(ey){return eu.equals.apply(null,[(o.KeyValue(ey))[0],es]);},ew),ex==null?(this.count=this.count+1,ew.push({K:es,V:et})):ew[ex.$0]={K:es,V:et});},get_Item:function(es){return this.get(es);},TryGetValue:function(es,et){var eu,ev,ew;eu=this;ev=this.data[this.hash(es)];return ev==null?false:(ew=S.tryPick(function(ex){var ey;ey=o.KeyValue(ex);return eu.equals.apply(null,[ey[0],es])?{$:1,$0:ey[1]}:null;},ev),ew!=null&&ew.$==1&&(et.set(ew.$0),true));},Remove:function(es){return this.remove(es);},ContainsKey:function(es){var et,eu;et=this;eu=this.data[this.hash(es)];return eu==null?false:S.exists(function(ev){return et.equals.apply(null,[(o.KeyValue(ev))[0],es]);},eu);},Add:function(es,et){this.add(es,et);},get:function(es){var et,eu;et=this;eu=this.data[this.hash(es)];return eu==null?cV.notPresent():S.pick(function(ev){var ew;ew=o.KeyValue(ev);return et.equals.apply(null,[ew[0],es])?{$:1,$0:ew[1]}:null;},eu);},get_Keys:function(){return new d0.New(this);},remove:function(es){var et,eu,ev,ew;et=this;eu=this.hash(es);ev=this.data[eu];return ev==null?false:(ew=S.filter(function(ex){return!et.equals.apply(null,[(o.KeyValue(ex))[0],es]);},ev),S.length(ew)<ev.length&&(this.count=this.count-1,this.data[eu]=ew,true));},add:function(es,et){var eu,ev,ew;eu=this;ev=this.hash(es);ew=this.data[ev];ew==null?(this.count=this.count+1,this.data[ev]=new a.Array({K:es,V:et})):(S.exists(function(ex){return eu.equals.apply(null,[(o.KeyValue(ex))[0],es]);},ew)?cV.alreadyAdded():void 0,this.count=this.count+1,ew.push({K:es,V:et}));},Clear:function(){this.data=[];this.count=0;},GetEnumerator:function(){return cy.Get0(this);},GetEnumerator0:function(){return cy.Get0(S.concat(H.GetFieldValues(this.data)));}},g,bS);bS.New$5=ek.Ctor(function(){bS.New$6.call(this,[],I.Equals,I.Hash);},bS);bS.New$6=ek.Ctor(function(es,et,eu){var ev,ew;g.New.call(this);this.equals=et;this.hash=eu;this.count=0;this.data=[];ev=cy.Get(es);try{while(ev.MoveNext()){ew=ev.Current();this.set(ew.K,ew.V);}}finally{if(typeof ev=="object"&&"Dispose"in ev)ev.Dispose();}},bS);bT=bf.HashSet=ek.Class({Add:function(es){return this.add(es);},Contains:function(es){var et;et=this.data[this.hash(es)];return et==null?false:this.arrContains(es,et);},add:function(es){var et,eu;et=this.hash(es);eu=this.data[et];return eu==null?(this.data[et]=[es],this.count=this.count+1,true):this.arrContains(es,eu)?false:(eu.push(es),this.count=this.count+1,true);},arrContains:function(es,et){var eu,ev,ew,ex;eu=true;ev=0;ex=et.length;while(eu&&ev<ex)if(this.equals.apply(null,[et[ev],es]))eu=false;else ev=ev+1;return!eu;},ExceptWith:function(es){var et;et=cy.Get(es);try{while(et.MoveNext())this.Remove(et.Current());}finally{if(typeof et=="object"&&"Dispose"in et)et.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(es){var et,eu,ev,ew;et=0;eu=dO.concat(this.data);for(ev=0,ew=eu.length-1;ev<=ew;ev++)S.set(es,ev,eu[ev]);},IntersectWith:function(es){var et,eu,ev,ew,ex;et=new bT.New$4(es,this.equals,this.hash);eu=dO.concat(this.data);for(ev=0,ew=eu.length-1;ev<=ew;ev++){ex=eu[ev];!et.Contains(ex)?this.Remove(ex):void 0;}},Remove:function(es){var et;et=this.data[this.hash(es)];return et==null?false:this.arrRemove(es,et)&&(this.count=this.count-1,true);},arrRemove:function(es,et){var eu,ev,ew,ex;eu=true;ev=0;ex=et.length;while(eu&&ev<ex)if(this.equals.apply(null,[et[ev],es])){et.splice.apply(et,[ev,1]);eu=false;}else ev=ev+1;return!eu;},GetEnumerator:function(){return cy.Get(dO.concat(this.data));},GetEnumerator0:function(){return cy.Get(dO.concat(this.data));}},g,bT);bT.New$3=ek.Ctor(function(){bT.New$4.call(this,[],I.Equals,I.Hash);},bT);bT.New$4=ek.Ctor(function(es,et,eu){var ev;g.New.call(this);this.equals=et;this.hash=eu;this.data=[];this.count=0;ev=cy.Get(es);try{while(ev.MoveNext())this.add(ev.Current());}finally{if(typeof ev=="object"&&"Dispose"in ev)ev.Dispose();}},bT);bT.New$2=ek.Ctor(function(es){bT.New$4.call(this,es,I.Equals,I.Hash);},bT);bU.Box=a.id;bW.StartTo=function(es,et){cM.StartWithContinuations(es,et,function(eu){bW.OnError(eu);},a.ignore,null);};bW.OnError=function(es){return en.log("WebSharper UI: Uncaught asynchronous exception",es);};bQ.TryParseInt64=function(es,et){return bQ.TryParse(es,-9223372036854775808,9223372036854775807,et);};bX.Int=function(){bX.set_counter(bX.counter()+1);return bX.counter();};bX.set_counter=function(es){dn.$cctor();dn.counter=es;};bX.counter=function(){dn.$cctor();return dn.counter;};bX.Id=function(){bX.set_counter(bX.counter()+1);return"uid"+a.String(bX.counter());};bY=bD.Builder=ek.Class({},g,bY);bY.New=ek.Ctor(function(){g.New.call(this);},bY);bZ=bD.BuilderP=ek.Class({},g,bZ);bZ.New=ek.Ctor(function(){g.New.call(this);},bZ);b1=b0.EffBuilder=ek.Class({},g,b1);b1.New=ek.Ctor(function(){g.New.call(this);},b1);b2=bo.AsyncResultBuilderP=ek.Class({},g,b2);b2.New=ek.Ctor(function(){g.New.call(this);},b2);b3.unindent$1=function(es){var et,eu,ev,ew;et=bi.SplitChars(es,["\n"],0);eu=(ev=bb.tryFindIndex(function(ex){return" "!==ex;},(ew=bb.tryFind(function(ex){return bi.Trim(ex)!=="";},et),ew==null?"":ew.$0)),ev==null?0:ev.$0);return bb.filter(function(ex){return!bi.StartsWith(ex,"# 1 ");},bb.map(function(ex){return ex.length<=eu?"":ex.substring(eu);},et));};b3.splitByChar$1=function(es,et){return bi.SplitChars(et,[es],0);};b4.array=function(es,et,eu){return et==null?eu!=null&&eu.$==1?es.slice(0,eu.$0+1):[]:eu==null?es.slice(et.$0):es.slice(et.$0,eu.$0+1);};b4.string=function(es,et,eu){return et==null?eu!=null&&eu.$==1?es.slice(0,eu.$0+1):"":eu==null?es.slice(et.$0):es.slice(et.$0,eu.$0+1);};b5.tryParseWith$1=function(es){function et(eu,ev){return eu?{$:1,$0:ev}:null;}return function(eu){return et.apply(null,es(eu));};};b5.parseDateO$1=function(){_5.$cctor();return _5.parseDateO;};b5.parseIntO$1=function(){_5.$cctor();return _5.parseIntO;};b5.parseInt64O$1=function(){_5.$cctor();return _5.parseInt64O;};b5.parseSingleO$1=function(){_5.$cctor();return _5.parseSingleO;};b5.parseDoubleO$1=function(){_5.$cctor();return _5.parseDoubleO;};b5.parseGuidO$1=function(){_5.$cctor();return _5.parseGuidO;};b5.parseDateO2$1=function(){_5.$cctor();return _5.parseDateO2;};b6.toJsonString=function(es){return S.ofSeq(bb.delay(function(){return bb.append(["\""],bb.delay(function(){return bb.append(!bi.IsNullOrEmpty(es)?bb.collect(function(et){var eu,ev;eu=es[et];ev=eu.charCodeAt();return ev>=0&&ev<=7||ev===11||ev>=14&&ev<=31?(function(ew){return function(ex){return ew("\\u"+bw.padNumLeft(ex.toString(16),4));};}(a.id))(ev):eu==="\u0008"?"\\b":eu==="\u0009"?"\\t":eu==="\n"?"\\n":eu==="\u000c"?"\\f":eu==="\r"?"\\r":eu==="\""?"\\\"":eu==="\\"?"\\\\":[eu];},o.range(0,es.length-1)):[],bb.delay(function(){return["\""];}));}));})).join("");};b8=b7.Policy=ek.Class({toString:function(){return bi.ReplaceChar(bc["String.get_toUnderscore$1"]((function(es){return function(et){return es(W.p(et));};}(a.id))(this)),"_"," ");}},null,b8);b8.SignIn=new b8({$:0});b8.SignUp=new b8({$:1});b8.EditProfile=new b8({$:2});b8.ResetPassword=new b8({$:3});b9.New=function(es,et,eu,ev,ew,ex){return{tipoTelefono:es,codigoPais:et,codigoArea:eu,numero:ev,extension:ew,mensajes:ex};};b_=L.TipoTelefono=ek.Class({toString:function(){return(function(es){return function(et){return es(W.p$9(et));};}(a.id))(this);}},null,b_);b_.Movil=new b_({$:0});b_.get_tryParse=function(){return function(es){return es==="Movil"?{$:1,$0:b_.Movil}:es==="Oficina"?{$:1,$0:b_.Oficina}:es==="Habitacion"?{$:1,$0:b_.Habitacion}:null;};};b_.Oficina=new b_({$:1});b_.Habitacion=new b_({$:2});b$.New=function(es,et,eu,ev,ew,ex,ey,ez){return{authorizeIdR:es,tipoDireccion:et,linea1:eu,linea2:ev,ciudad:ew,estado:ex,pais:ey,zonaPostal:ez};};ca=L.TipoDireccion=ek.Class({toString:function(){return this.$==3?this.$0:(function(es){return function(et){return es(W.p$8(et));};}(a.id))(this);}},null,ca);ca.Habitacion=new ca({$:0});ca.tryParse=function(es){var et;et=bi.Trim(es);return et===""?null:et==="Habitacion"?{$:1,$0:ca.Habitacion}:et==="Oficina"?{$:1,$0:ca.Oficina}:et==="ServicioPostal"?{$:1,$0:ca.ServicioPostal}:{$:1,$0:new ca({$:3,$0:et})};};ca.Oficina=new ca({$:1});ca.ServicioPostal=new ca({$:2});cb=L.Estado=ek.Class({toString:function(){return this.$==2?this.$0:(function(es){return function(et){return es(W.p$4(et));};}(a.id))(this);}},null,cb);cb.tryParse=function(es){var et,eu;eu=bi.Trim(es).toUpperCase();switch(eu){case"":return null;case"TEXAS":case"TX":return{$:1,$0:cb.Texas};case"FLORIDA":case"FL":return{$:1,$0:cb.Florida};default:return{$:1,$0:new cb({$:2,$0:bi.Trim(es)})};}};cb.Texas=new cb({$:0});cb.Florida=new cb({$:1});cc=L.Pais=ek.Class({toString:function(){return this.$==3?this.$0:(function(es){return function(et){return es(W.p$3(et));};}(a.id))(this);}},null,cc);cc.USA=new cc({$:0});cc.tryParse=function(es){var et,eu;eu=bi.Trim(es).toUpperCase();switch(eu){case"":return null;case"USA":case"AMERICA":case"E.E.U.U.":case"US":case"UNITED STATES OF AMERICA":case"UNITED STATES":case"EEUU":return{$:1,$0:cc.USA};case"VENEZUELA":return{$:1,$0:cc.Venezuela};case"ARGENTINA":return{$:1,$0:cc.Argentina};default:return{$:1,$0:new cc({$:3,$0:bi.Trim(es)})};}};cc.Venezuela=new cc({$:1});cc.Argentina=new cc({$:2});cd=L.ZonaPostal=ek.Class({toString:function(){return this.$0;}},null,cd);cd.tryParse=function(es){return bi.Trim(es)!==""?{$:1,$0:new cd({$:0,$0:bi.Trim(es)})}:null;};ce.New=function(es,et,eu,ev){return{titular:es,tipoTarjeta:et,numero:eu,expiracion:ev};};cf=L.Expiracion=ek.Class({},null,cf);cf.New=function(es,et){return new cf({anio:es,mes:et});};cg=L.NumeroTarjeta=ek.Class({get_Id:function(){return this.$0;}},null,cg);ch=L.TipoTarjeta=ek.Class({toString:function(){return this.$==3?this.$0:(function(es){return function(et){return es(W.p$5(et));};}(a.id))(this);}},null,ch);ch.Visa=new ch({$:0});ch.tryParse=function(es){var et,eu;eu=bi.Trim(es).toUpperCase();switch(eu){case"":return null;case"VISA":return{$:1,$0:ch.Visa};case"MASTERCARD":return{$:1,$0:ch.MasterCard};case"AMERICAN EXPRESS":case"AMEX":return{$:1,$0:ch.Amex};default:return{$:1,$0:new ch({$:3,$0:bi.Trim(es)})};}};ch.MasterCard=new ch({$:1});ch.Amex=new ch({$:2});ci=L.TipoCuenta=ek.Class({toString:function(){return this.$==2?this.$0:(function(es){return function(et){return es(W.p$6(et));};}(a.id))(this);}},null,ci);ci.Ahorro=new ci({$:0});ci.tryParse=function(es){var et,eu;eu=bi.Trim(es).toUpperCase();switch(eu){case"":return null;case"AHORRO":case"SAVINGS":return{$:1,$0:ci.Ahorro};case"CORRIENTE":case"CHECKING":return{$:1,$0:ci.Corriente};default:return{$:1,$0:new ci({$:2,$0:bi.Trim(es)})};}};ci.Corriente=new ci({$:1});cj.Masculino={$:0};cj.tryParse=function(es){var et;et=bi.Trim(es);return et==="Masculino"?{$:1,$0:cj.Masculino}:et==="Femenino"?{$:1,$0:cj.Femenino}:et==="Empresa"?{$:1,$0:cj.Empresa}:null;};cj.Femenino={$:1};cj.Empresa={$:2};ck.AjaxProvider=function(){c1.$cctor();return c1.AjaxProvider;};ck.set_EndPoint=function(es){c1.$cctor();c1.EndPoint=es;};ck.set_AjaxProvider=function(es){c1.$cctor();c1.AjaxProvider=es;};ck.makePayload=function(es){return ep.stringify(es);};ck.makeHeaders=function(es){return{"content-type":"application/json","x-websharper-rpc":es};};ck.EndPoint=function(){c1.$cctor();return c1.EndPoint;};ck.ajax=function(es,et,eu,ev,ew,ex,ey){var ez,eA,eB;ez=new a.XMLHttpRequest();eA=a.document.cookie.replace(new a.RegExp("(?:(?:^|.*;)\\s*csrftoken\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1");ez.open("POST",et,es);if(es==true)ez.withCredentials=true;for(var eD in eu)ez.setRequestHeader(eD,eu[eD]);if(eA)ez.setRequestHeader("x-csrftoken",eA);function eC(){var eE;if(ez.status==200)ew(ez.responseText);else if(ey&&ez.status==403&&ez.responseText=="CSRF")ey();else{eE="Response status is not 200: ";ex(new c3(eE+ez.status));}}if("onload"in ez)ez.onload=ez.onerror=ez.onabort=eC;else ez.onreadystatechange=function(){if(ez.readyState==4)eC();};ez.send(ev);};cl.New$1=function(es,et,eu,ev){return c2.newPojoOpt([b7.op_EqualsEqualsGreater("auth",es),b7.op_EqualsEqualsGreater("cache",et),b7.op_EqualsEqualsGreater("system",eu),b7.op_EqualsEqualsGreater("framework",ev)]);};cm.New$1=function(es,et,eu,ev,ew,ex){return c2.newPojoOpt([b7.op_MinusMinusGreater("clientId",es),b7.op_EqualsEqualsGreater("authority",et),b7.op_EqualsEqualsGreater("validateAuthority",eu),b7.op_EqualsEqualsGreater("redirectUri",ev),b7.op_EqualsEqualsGreater("postLogoutRedirectUri",ew),b7.op_EqualsEqualsGreater("navigateToLoginRequestUrl",ex)]);};co=cn.MailboxProcessor=ek.Class({PostAndAsyncReply:function(es,et){var eu,ev;eu=this;ev=null;return cM.Delay(function(){return cM.Bind(eu.PostAndTryAsyncReply(es,et),function(ew){var ex,ey;if(ew!=null&&ew.$==1)ey=ew.$0;else throw new c4.New();return cM.Return(ey);});});},PostAndTryAsyncReply:function(es,et){var eu,ev,ew;function ex(ey){var eA;function ez(eB){return{$:1,$0:eB};}if(ev<0){eu.mailbox.AddLast(es(function(eB){return ey(ez(eB));}));eu.resume();}else{eA=[true];eu.mailbox.AddLast(es(function(eB){if(eA[0]){eA[0]=false;ey({$:1,$0:eB});}}));eu.resume();a.setTimeout(function(){if(eA[0]){eA[0]=false;ey(null);}},ev);}}eu=this;ev=(ew=this.get_DefaultTimeout(),et==null?ew:et.$0);return cM.FromContinuations(function(ey,ez,eA){return ex.apply(null,[ey,ez,eA]);});},get_DefaultTimeout:function(){return this.DefaultTimeout;},Receive:function(es){var et,eu;et=this;eu=null;return cM.Delay(function(){return cM.Bind(et.TryReceive(es),function(ev){var ew,ex;if(ev!=null&&ev.$==1)ex=ev.$0;else throw new c4.New();return cM.Return(ex);});});},resume:function(){var es;es=this.savedCont;es!=null&&es.$==1?(this.savedCont=null,this.startAsync(es.$0)):void 0;},Start:function(){var es,et;es=this;this.started?o.FailWith("The MailboxProcessor has already been started."):(this.started=true,es.startAsync((et=null,cM.Delay(function(){return cM.TryWith(cM.Delay(function(){return cM.Bind(es.initial(es),function(){return cM.Return(null);});}),function(eu){es.errorEvent.event.Trigger(eu);return cM.Zero();});}))));},TryReceive:function(es){var et,eu,ev;function ew(ex){var ey,ez,eA,eB;if(I.Equals(et.mailbox.n,null)){if(eu<0){et.savedCont={$:1,$0:(ey=null,cM.Delay(function(){ex({$:1,$0:et.dequeue()});return cM.Zero();}))};}else{ez=[true];eA=a.setTimeout(function(){if(ez[0]){ez[0]=false;et.savedCont=null;ex(null);}},eu);et.savedCont={$:1,$0:(eB=null,cM.Delay(function(){return ez[0]?(ez[0]=false,a.clearTimeout(eA),ex({$:1,$0:et.dequeue()}),cM.Zero()):cM.Zero();}))};}}else ex({$:1,$0:et.dequeue()});}et=this;eu=(ev=this.get_DefaultTimeout(),es==null?ev:es.$0);return cM.FromContinuations(function(ex,ey,ez){return ew.apply(null,[ex,ey,ez]);});},startAsync:function(es){cM.Start(es,this.token);},dequeue:function(){var es;es=this.mailbox.n.v;this.mailbox.RemoveFirst();return es;}},g,co);co.Start=function(es,et){var eu;eu=new co.New(es,et);eu.Start();return eu;};co.New=ek.Ctor(function(es,et){var eu,ev;function ew(ex){return eu.resume();}eu=this;g.New.call(this);this.initial=es;this.token=et;this.started=false;this.errorEvent=new dp.New();this.mailbox=new dq.New();this.savedCont=null;ev=this.token;ev==null?void 0:cM.Register(ev.$0,function(){ew();});this.DefaultTimeout=-1;},co);cp.callA=function(es,et){return cp.iterA(es,function(eu){var ev,ew,ex;ev=eu[0];ew=eu[1];ex=null;return cM.Delay(function(){return cM.Bind(et(ew),function(ey){ev(ey);return cM.Zero();});});});};cp.iterA=function(es,et){return co.Start(function(eu){var ev;ev=null;return cM.Delay(function(){return cM.While(function(){return true;},cM.Delay(function(){return cM.TryWith(cM.Delay(function(){return cM.Bind(eu.Receive(null),function(ew){return cM.Bind(et(ew),function(){return cM.Return(null);});});}),function(ew){es(ew);return cM.Zero();});}));});},null);};j.REGEX$2=function(es,et,eu){var ev;return eu===null?null:(ev=(new a.String(eu)).match(new a.RegExp(es,et)),I.Equals(ev,null)?null:!I.Equals(ev,null)&&ev.length===0?null:{$:1,$0:ev});};j.rexEmail$1=function(){_5.$cctor();return _5.rexEmail;};cq.DefaultEP={$:0};cr.InstallHash=function(es,et){var eu;eu=i.Create$1(cr.getCurrentHash(function(ev){return c8.Parse(et,c9.FromHash(ev,{$:1,$0:true}));},es));cr.InstallHashInto(eu,es,et);return eu;};cr.InstallHashInto=function(es,et,eu){function ev(ey){return c8.Parse(eu,c9.FromHash(ey,{$:1,$0:true}));}function ew(){return cr.getCurrentHash(ev,et);}function ex(ey){if(!I.Equals(es.Get(),ey))es.Set(ey);}self.addEventListener("popstate",function(){return ex(ew());},false);self.addEventListener("hashchange",function(){return ex(ew());},false);self.document.body.addEventListener("click",function(ey){var ez,eA,eB;ez=(eA=cr.findLinkHref(ey.target),eA==null?null:(eB=eA.$0,bi.StartsWith(eB,"#")?ev(eB):null));return ez==null?null:(ex(ez.$0),ey.preventDefault());},false);p.Sink(function(ey){var ez;if(!I.Equals(ey,ew())){ez=c8.HashLink(eu,ey);self.history.pushState(null,null,ez);}},es.get_View());};cr.getCurrentHash=function(es,et){var eu,ev;eu=self.location.hash;ev=es(eu);return ev==null?((function(ew){return function(ex){return ew("Failed to parse route: "+bw.toSafe(ex));};}(function(ew){en.log(ew);}))(eu),et):ev.$0;};cr.findLinkHref=function(es){while(true)if(es.tagName==="A")return K.ofObj(es.getAttribute("href"));else if(es===self.document.body)return null;else es=es.parentNode;};cs.B={$:0};ct.installBearer=function(es){ct.set_getTokenOA(es);ck.set_AjaxProvider(new c_.New());};ct.set_getTokenOA=function(es){_5.$cctor();_5.getTokenOA=es;};ct.getTokenOA=function(){_5.$cctor();return _5.getTokenOA;};ct.originalProvider=function(){_5.$cctor();return _5.originalProvider;};cu.serverEndPoint=function(){_5.$cctor();return _5.serverEndPoint;};cv=L.IdPayment=ek.Class({},null,cv);cw.New=function(es,et){return{qryName:es,qryFunction:et};};_4.Obsolete=function(es){var et,eu,ev,ew,ex;eu=es.s;if(eu==null||(eu!=null&&eu.$==2?(et=eu.$1,false):eu!=null&&eu.$==3?(et=eu.$1,false):true))void 0;else{es.s=null;for(ev=0,ew=S.length(et)-1;ev<=ew;ev++){ex=S.get(et,ev);typeof ex=="object"?function(ey){_4.Obsolete(ey);}(ex):ex();}}};_4.New=function(es){return{s:es};};cx=bf.FSharpMap=ek.Class({TryGetValue:function(es,et){var eu;eu=this.TryFind(es);return eu!=null&&eu.$==1&&(et.set(eu.$0),true);},get_Item:function(es){var et;et=this.TryFind(es);return et==null?o.FailWith("The given key was not present in the dictionary."):et.$0;},TryFind:function(es){var et;et=cA.TryFind(dv.New(es,void 0),this.tree);return et==null?null:{$:1,$0:et.$0.Value};},Equals:function(es){return this.get_Count()===es.get_Count()&&bb.forall2(I.Equals,this,es);},GetEnumerator$1:function(){return cy.Get(bb.map(function(es){return{K:es.Key,V:es.Value};},cA.Enumerate(false,this.tree)));},get_Count:function(){var es;es=this.tree;return es==null?0:es.Count;},GetHashCode:function(){return I.Hash(S.ofSeq(this));},Add:function(es,et){return new cx.New$1(cA.Add(dv.New(es,et),this.tree));},get_IsEmpty:function(){return this.tree==null;},get_Tree:function(){return this.tree;},GetEnumerator:function(){return this.GetEnumerator$1();},CompareTo0:function(es){return bb.compareWith(I.Compare,this,es);},GetEnumerator0:function(){return this.GetEnumerator$1();}},g,cx);cx.New=ek.Ctor(function(es){cx.New$1.call(this,c$.fromSeq(es));},cx);cx.New$1=ek.Ctor(function(es){g.New.call(this);this.tree=es;},cx);cy.Get=function(es){return es instanceof a.Array?cy.ArrayEnumerator(es):I.Equals(typeof es,"string")?cy.StringEnumerator(es):es.GetEnumerator();};cy.ArrayEnumerator=function(es){return new cz.New(0,null,function(et){var eu;eu=et.s;return eu<S.length(es)&&(et.c=S.get(es,eu),et.s=eu+1,true);},void 0);};cy.StringEnumerator=function(es){return new cz.New(0,null,function(et){var eu;eu=et.s;return eu<es.length&&(et.c=es[eu],et.s=eu+1,true);},void 0);};cy.Get0=function(es){return es instanceof a.Array?cy.ArrayEnumerator(es):I.Equals(typeof es,"string")?cy.StringEnumerator(es):"GetEnumerator0"in es?es.GetEnumerator0():es.GetEnumerator();};cz=cy.T=ek.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},g,cz);cz.New=ek.Ctor(function(es,et,eu,ev){g.New.call(this);this.s=es;this.c=et;this.n=eu;this.d=ev;},cz);cA.OfSeq=function(es){var et;et=S.ofSeq(bb.distinct(es));S.sortInPlace(et);return cA.Build(et,0,et.length-1);};cA.Contains=function(es,et){return!((cA.Lookup(es,et))[0]==null);};cA.Remove=function(es,et){var eu,ev,ew,ex;eu=cA.Lookup(es,et);ev=eu[0];ew=eu[1];return ev==null?et:ev.Right==null?cA.Rebuild(ew,ev.Left):ev.Left==null?cA.Rebuild(ew,ev.Right):cA.Rebuild(ew,(ex=S.ofSeq(bb.append(cA.Enumerate(false,ev.Left),cA.Enumerate(false,ev.Right))),cA.Build(ex,0,ex.length-1)));};cA.Add=function(es,et){return cA.Put(function(eu,ev){return ev;},es,et);};cA.TryFind=function(es,et){var eu;eu=(cA.Lookup(es,et))[0];return eu==null?null:{$:1,$0:eu.Node};};cA.Build=function(es,et,eu){var ev,ew,ex;return eu-et+1<=0?null:(ev=(et+eu)/2>>0,(ew=cA.Build(es,et,ev-1),(ex=cA.Build(es,ev+1,eu),cA.Branch(S.get(es,ev),ew,ex))));};cA.Lookup=function(es,et){var eu,ev,ew,ex;eu=[];ev=et;ew=true;while(ew)if(ev==null)ew=false;else{ex=I.Compare(es,ev.Node);ex===0?ew=false:ex===1?(eu.unshift([true,ev.Node,ev.Left]),ev=ev.Right):(eu.unshift([false,ev.Node,ev.Right]),ev=ev.Left);}return[ev,eu];};cA.Rebuild=function(es,et){var eu,ew,ex,ey,ez,eA,eB,eC,eD,eE;function ev(eF){return eF==null?0:eF.Height;}eu=et;for(ew=0,ex=S.length(es)-1;ew<=ex;ew++){eu=(ey=S.get(es,ew),ey[0]?(ez=ey[1],(eA=ey[2],ev(eu)>ev(eA)+1?ev(eu.Left)===ev(eu.Right)+1?(eB=eu.Left,cA.Branch(eB.Node,cA.Branch(ez,eA,eB.Left),cA.Branch(eu.Node,eB.Right,eu.Right))):cA.Branch(eu.Node,cA.Branch(ez,eA,eu.Left),eu.Right):cA.Branch(ez,eA,eu))):(eC=ey[1],(eD=ey[2],ev(eu)>ev(eD)+1?ev(eu.Right)===ev(eu.Left)+1?(eE=eu.Right,cA.Branch(eE.Node,cA.Branch(eu.Node,eu.Left,eE.Left),cA.Branch(eC,eE.Right,eD))):cA.Branch(eu.Node,eu.Left,cA.Branch(eC,eu.Right,eD)):cA.Branch(eC,eu,eD))));}return eu;};cA.Put=function(es,et,eu){var ev,ew;ev=cA.Lookup(et,eu);ew=ev[0];return ew==null?cA.Rebuild(ev[1],cA.Branch(et,null,null)):cA.Rebuild(ev[1],cA.Branch(es(ew.Node,et),ew.Left,ew.Right));};cA.Branch=function(es,et,eu){var ev,ew;return da.New(es,et,eu,1+(ev=et==null?0:et.Height,(ew=eu==null?0:eu.Height,I.Compare(ev,ew)===1?ev:ew)),1+(et==null?0:et.Count)+(eu==null?0:eu.Count));};cA.Enumerate=function(es,et){function eu(ev,ew){var ex;while(true)if(ev==null)return ew.$==1?{$:1,$0:[ew.$0[0],[ew.$0[1],ew.$1]]}:null;else if(es){ex=ev;ev=ex.Right;ew=new cB({$:1,$0:[ex.Node,ex.Left],$1:ew});}else{ex=ev;ev=ex.Left;ew=new cB({$:1,$0:[ex.Node,ex.Right],$1:ew});}}return bb.unfold(function(ev){return eu(ev[0],ev[1]);},[et,cB.Empty]);};bb.tryHead=function(es){var et;et=cy.Get(es);try{return et.MoveNext()?{$:1,$0:et.Current()}:null;}finally{if(typeof et=="object"&&"Dispose"in et)et.Dispose();}};S.groupBy=function(es,et){var eu,ev,ew,ex,ey,ez;eu=new bS.New$5();ev=[];for(ew=0,ex=S.length(et)-1;ew<=ex;ew++){ey=et[ew];ez=es(ey);eu.ContainsKey(ez)?eu.get_Item(ez).push(ey):(ev.push(ez),eu.Add(ez,[ey]));}S.mapInPlace(function(eA){return[eA,eu.get_Item(eA)];},ev);return ev;};bb.tryItem=function(es,et){var eu,ev,ew;if(es<0)return null;else{eu=0;ev=cy.Get(et);try{ew=true;while(ew&&eu<=es)if(ev.MoveNext())eu=eu+1;else ew=false;return ew?{$:1,$0:ev.Current()}:null;}finally{if(typeof ev=="object"&&"Dispose"in ev)ev.Dispose();}}};bb.last=function(es){var et,eu;et=cy.Get(es);try{if(!et.MoveNext())eu=bb.insufficient();else{while(et.MoveNext());eu=et.Current();}return eu;}finally{if(typeof et=="object"&&"Dispose"in et)et.Dispose();}};S.mapInPlace=function(es,et){var eu,ev;for(eu=0,ev=et.length-1;eu<=ev;eu++)et[eu]=es(et[eu]);};S.mapiInPlace=function(es,et){var eu,ev;for(eu=0,ev=et.length-1;eu<=ev;eu++)et[eu]=es(eu,et[eu]);return et;};bb.insufficient=function(){return o.FailWith("The input sequence has an insufficient number of elements.");};bb.nonNegative=function(){return o.FailWith("The input must be non-negative.");};cB=by.T=ek.Class({GetEnumerator:function(){return new cz.New(this,null,function(es){var et;et=es.s;return et.$==0?false:(es.c=et.$0,es.s=et.$1,true);},void 0);},GetEnumerator0:function(){return cy.Get(this);}},null,cB);cB.Empty=new cB({$:0});p=h.View=ek.Class({get_V:function(){return o.FailWith("View<'T>.V can only be called in an argument to a V-enabled function or if 'T = Doc.");}},null,p);cC.rtn=function(es){return cM.Return({$:0,$0:es});};cC.bind=function(es,et){var eu;eu=null;return cM.Delay(function(){return cM.Bind(et,function(ev){return ev.$==1?cM.Return(bc.Error$1(ev.$0)):es(ev.$0);});});};cC.iterA=function(es,et,eu){function ev(ex){bD.iter(es,et,ex);}function ew(ex){return cM.Return(ex);}cM.Start(cM.Bind(eu,function(ex){return ew(ev(ex));}),null);};cC.map=function(es,et){return cC.bind(function(eu){return cC.rtn(es(eu));},et);};cC.rtnR=function(es){return cM.Return(es);};cC.whileLoop=function(es,et){return es()?cC.bind(function(){return cC.whileLoop(es,et);},et()):cC.rtn();};cD=ck.AjaxRemotingProvider=ek.Class({AsyncBase:function(es,et){var eu,ev;eu=this;ev=null;return cM.Delay(function(){var ew,ex;ew=ck.makeHeaders(es);ex=ck.makePayload(et);return cM.Bind(cM.GetCT(),function(ey){return cM.FromContinuations(function(ez,eA,eB){var eC,eD,eE;function eF(eG){return eC[0]?(eC[0]=false,eB(new dU.New(ey))):null;}eC=[true];eD=cM.Register(ey,function(){eF();});eE=eu.get_EndPoint();return ck.AjaxProvider().Async(eE,ew,ex,function(eG){if(eC[0]){eC[0]=false;eD.Dispose();ez(d8.Activate(ep.parse(eG)));}},function(eG){if(eC[0]){eC[0]=false;eD.Dispose();eA(eG);}});});});});},get_EndPoint:function(){return ck.EndPoint();},Async:function(es,et){return this.AsyncBase(es,et);}},g,cD);cD.New=ek.Ctor(function(){g.New.call(this);},cD);cE.replace=function(es,et,eu){return S.ofSeq(bb.delay(function(){return bb.append(es>0?b4.array(eu,null,{$:1,$0:es-1}):[],bb.delay(function(){return bb.append([et],bb.delay(function(){return es<S.length(eu)?b4.array(eu,{$:1,$0:es+1},null):[];}));}));}));};cE.remove=function(es,et){return S.ofSeq(bb.delay(function(){return bb.append(es>0?b4.array(et,null,{$:1,$0:es-1}):[],bb.delay(function(){return es<S.length(et)?b4.array(et,{$:1,$0:es+1},null):[];}));}));};cG=cF.attr=ek.Class({},g,cG);cH.formaDocO=function(es){var et;return cH.formaDoc(i.Lens(es,(et=[L.ctaVacio(),"",false],function(eu){return eu==null?et:eu.$0;}),function(eu,ev){return{$:1,$0:ev};}));};cH.formaDoc=function(es){var et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE;function eF(eG,eH,eI){eu.Hole("titular").Set(eG.titular);eu.Hole("banco").Set(eG.banco);eu.Hole("tipocuenta").Set((function(eJ){return function(eK){return eJ(a.String(eK));};}(a.id))(eG.tipo));eu.Hole("numero").Set(eG.numero.$0);eu.Hole("routing").Set(eG.routing.$0);}et=p.Map(function(eG){return bu.thr3(eG[0],eG[1],eG[2]);},es.get_View());eu=(ev=(ew=cO.DynamicPred("disabled",et,p.Const("")),(ex=cO.DynamicPred("disabled",et,p.Const("")),(ey=cO.DynamicPred("disabled",et,p.Const("")),(ez=cO.DynamicPred("disabled",et,p.Const("")),(eA=cO.DynamicPred("disabled",et,p.Const("")),(eB=Z.EmbedView(p.Map(bu.crearOptions,bu.tiposCta().get_View())),T.Make().WithHole({$:0,$0:"tiposcuenta",$1:eB})).WithHole({$:2,$0:"mensaje",$1:p.Map(function(eG){return bu.snd3(eG[0],eG[1],eG[2]);},es.get_View())}).WithHole({$:3,$0:"disabled1",$1:eA})).WithHole({$:3,$0:"disabled2",$1:ez})).WithHole({$:3,$0:"disabled3",$1:ey})).WithHole({$:3,$0:"disabled4",$1:ex})).WithHole({$:3,$0:"disabled5",$1:ew})),(eC=U.CompleteHoles(ev.k,ev.h,[["tipocuenta",0],["titular",0],["numero",0],["banco",0],["routing",0]]),(eD=new R.New(eC[1],V.cuentabancaria(eC[0])),(ev.i=eD,eD))));p.Sink(function(eG){return eF(eG[0],eG[1],eG[2]);},es.get_View());eE=p.Apply(p.Apply(p.Map2(function(eG,eH){return function(eI){return function(eJ){return bb.map(function(eK){return eK[1];},bb.filter(function(eK){return eK[0];},by.ofArray([[bi.Trim(eG)==="","Titular"],[bi.Trim(eH)==="","Banco"],[bi.Trim(eI)==="","Numero de Cuenta"],[bi.Trim(eJ)==="","ABA/Routing Number"]])));};};},eu.Hole("titular").get_View(),eu.Hole("banco").get_View()),eu.Hole("numero").get_View()),eu.Hole("routing").get_View());p.Sink(function(eG){var eH,eI;if(eG!=null&&eG.$==1){eH=eG.$0;!I.Equals((eI=es.Get(),bu.fst3(eI[0],eI[1],eI[2])),eH)?es.Set([eH,"",false]):void 0;}},p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(eG,eH){return ek.Curried(function(eI,eJ,eK,eL){return!bb.isEmpty(eG)?null:bu.alertIfNone("TipoCuenta",ci.tryParse(bi.Trim(eH)),function(eM){var eN;return{$:1,$0:(eN=bi.Trim(eI),bz.New(bi.Trim(eJ),eN,eM,new bB({$:0,$0:bi.Trim(eK)}),new bA({$:0,$0:bi.Trim(eL)})))};});},4);},eE,eu.Hole("tipocuenta").get_View()),eu.Hole("banco").get_View()),eu.Hole("titular").get_View()),eu.Hole("numero").get_View()),eu.Hole("routing").get_View()));return[eE,eu.get_Doc()];};cI.formaDocO=function(es){var et;return cI.formaDoc(i.Lens(es,(et=[L.tarVacio(),"",false],function(eu){return eu==null?et:eu.$0;}),function(eu,ev){return{$:1,$0:ev};}));};cI.formaDoc=function(es){var et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG;function eH(eI,eJ,eK){var eL;eu.Hole("titular").Set(eI.titular);eu.Hole("tipotarjeta").Set((function(eM){return function(eN){return eM(a.String(eN));};}(a.id))(eI.tipoTarjeta));eu.Hole("numero").Set(eI.numero.$0);eu.Hole("aniovenc").Set((function(eM){return function(eN){return eM(bw.padNumLeft(a.String(eN),4));};}(a.id))(eI.expiracion.anio));eu.Hole("mesvenc").Set((eL=eI.expiracion.mes,eL===1?"Enero":eL===2?"Febrero":eL===3?"Marzo":eL===4?"Abril":eL===5?"Mayo":eL===6?"Junio":eL===7?"Julio":eL===8?"Agosto":eL===9?"Septiembre":eL===10?"Octubre":eL===11?"Noviembre":eL===12?"Diciembre":"XX"));}et=p.Map(function(eI){return bu.thr3(eI[0],eI[1],eI[2]);},es.get_View());eu=(ev=(ew=cO.DynamicPred("disabled",et,p.Const("")),(ex=cO.DynamicPred("disabled",et,p.Const("")),(ey=cO.DynamicPred("disabled",et,p.Const("")),(ez=cO.DynamicPred("disabled",et,p.Const("")),(eA=cO.DynamicPred("disabled",et,p.Const("")),(eB=Z.EmbedView(p.Map(function(eI){return bu.crearOptions(bb.map(a.String,eI));},bu.mesesV().get_View())),(eC=Z.EmbedView(p.Map(function(eI){return bu.crearOptions(bb.map(a.String,eI));},bu.aniosV().get_View())),(eD=Z.EmbedView(p.Map(bu.crearOptions,bu.tiposTar().get_View())),T.Make().WithHole({$:0,$0:"tipostarjeta",$1:eD})).WithHole({$:2,$0:"mensaje",$1:p.Map(function(eI){return bu.snd3(eI[0],eI[1],eI[2]);},es.get_View())}).WithHole({$:0,$0:"anios",$1:eC})).WithHole({$:0,$0:"meses",$1:eB})).WithHole({$:3,$0:"disabled1",$1:eA})).WithHole({$:3,$0:"disabled2",$1:ez})).WithHole({$:3,$0:"disabled3",$1:ey})).WithHole({$:3,$0:"disabled4",$1:ex})).WithHole({$:3,$0:"disabled5",$1:ew})).WithHole({$:2,$0:"visible",$1:p.Map(function(eI){return eI?"display:None":"";},et)}),(eE=U.CompleteHoles(ev.k,ev.h,[["tipotarjeta",0],["titular",0],["numero",0],["aniovenc",0],["mesvenc",0]]),(eF=new R.New(eE[1],V.tarjetacredito(eE[0])),(ev.i=eF,eF))));p.Sink(function(eI){return eH(eI[0],eI[1],eI[2]);},es.get_View());eG=p.Apply(p.Apply(p.Apply(p.Map2(function(eI,eJ){return ek.Curried3(function(eK,eL,eM){return bb.map(function(eN){return eN[1];},bb.filter(function(eN){return eN[0];},by.ofArray([[bi.Trim(eI)==="","Titular"],[bi.Trim(eJ)==="","TipoTarjeta"],[bi.Trim(eK)==="","Numero"],[bi.Trim(eL)==="","Ano de Vencimiento"],[bi.Trim(eM)==="","Mes de Vencimiento"]])));});},eu.Hole("titular").get_View(),eu.Hole("tipotarjeta").get_View()),eu.Hole("numero").get_View()),eu.Hole("aniovenc").get_View()),eu.Hole("mesvenc").get_View());p.Sink(function(eI){var eJ,eK;if(eI!=null&&eI.$==1){eJ=eI.$0;!I.Equals((eK=es.Get(),bu.fst3(eK[0],eK[1],eK[2])),eJ)?es.Set([eJ,"",false]):void 0;}},p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(eI,eJ){return ek.Curried(function(eK,eL,eM,eN){return!bb.isEmpty(eI)?null:bu.alertIfNone("Tipo Tarjeta",ch.tryParse(bi.Trim(eJ)),function(eO){var eP,eQ,eR;return{$:1,$0:ce.New(bi.Trim(eK),eO,new cg({$:0,$0:bi.Trim(eL)}),cf.New((eP=(eQ=bi.Trim(eM),(b5.parseIntO$1())(eQ)),eP==null?0:eP.$0),(eR=bi.Trim(eN),eR==="Febrero"?2:eR==="Marzo"?3:eR==="Abril"?4:eR==="Mayo"?5:eR==="Junio"?6:eR==="Julio"?7:eR==="Agosto"?8:eR==="Septiembre"?9:eR==="Octubre"?10:eR==="Noviembre"?11:eR==="Diciembre"?12:1)))};});},4);},eG,eu.Hole("tipotarjeta").get_View()),eu.Hole("titular").get_View()),eu.Hole("numero").get_View()),eu.Hole("aniovenc").get_View()),eu.Hole("mesvenc").get_View()));return[eG,eu.get_Doc()];};cK=h.FromView=ek.Class({get_View:function(){return this.view;},Set:function(es){this.set(es);},Get:function(){return this.current;},Update:function(es){var et;p.Get((et=this.set,function(eu){return et(es(eu));}),this.view);},UpdateMaybe:function(es){var et;et=this;p.Get(function(eu){var ev;ev=es(eu);ev!=null&&ev.$==1?et.set(ev.$0):void 0;},this.view);}},q,cK);cK.New=ek.Ctor(function(es,et){var eu,ev;eu=this;q.New.call(this);this.set=et;this.id=bX.Int();this.current=(ev=p.TryGet(es),ev==null?null:ev.$0);this.view=p.Map(function(ew){eu.current=ew;return ew;},es);},cK);cL.ofSeqNonCopying=function(es){var et,eu;if(es instanceof a.Array)return es;else if(es instanceof cB)return S.ofList(es);else if(es===null)return[];else{et=[];eu=cy.Get(es);try{while(eu.MoveNext())et.push(eu.Current());return et;}finally{if(typeof eu=="object"&&"Dispose"in eu)eu.Dispose();}}};cL.TreeReduce=function(es,et,eu){var ev;function ew(ex,ey){var ez,eA;return ey<=0?es:ey===1&&(ex>=0&&ex<ev)?S.get(eu,ex):(eA=ey/2>>0,et(ew(ex,eA),ew(ex+eA,ey-eA)));}ev=S.length(eu);return ew(0,ev);};cL.MapTreeReduce=function(es,et,eu,ev){var ew;function ex(ey,ez){var eA,eB;return ez<=0?et:ez===1&&(ey>=0&&ey<ew)?es(S.get(ev,ey)):(eB=ez/2>>0,eu(ex(ey,eB),ex(ey+eB,ez-eB)));}ew=S.length(ev);return ex(0,ew);};cL.mapInPlace=function(es,et){var eu,ev;for(eu=0,ev=et.length-1;eu<=ev;eu++)et[eu]=es(et[eu]);return et;};cM.Delay=function(es){return function(et){try{(es(null))(et);}catch(eu){et.k({$:1,$0:eu});}};};cM.Bind=function(es,et){return cM.checkCancel(function(eu){es(dd.New(function(ev){var ew;if(ev.$==0){ew=ev.$0;cM.scheduler().Fork(function(){try{(et(ew))(eu);}catch(ex){eu.k({$:1,$0:ex});}});}else cM.scheduler().Fork(function(){eu.k(ev);});},eu.ct));});};cM.Zero=function(){de.$cctor();return de.Zero;};cM.Start=function(es,et){var eu,ev;eu=(ev=(cM.defCTS())[0],et==null?ev:et.$0);cM.scheduler().Fork(function(){if(!eu.c)es(dd.New(function(ew){if(ew.$==1)cM.UncaughtAsyncError(ew.$0);},eu));});};cM.Return=function(es){return function(et){et.k({$:0,$0:es});};};cM.While=function(es,et){return es()?cM.Bind(et,function(){return cM.While(es,et);}):cM.Return();};cM.Sleep=function(es){return function(et){var eu,ev;eu=void 0;ev=void 0;eu=a.setTimeout(function(){ev.Dispose();cM.scheduler().Fork(function(){et.k({$:0,$0:null});});},es);ev=cM.Register(et.ct,function(){a.clearTimeout(eu);cM.scheduler().Fork(function(){cM.cancel(et);});});};};cM.checkCancel=function(es){return function(et){if(et.ct.c)cM.cancel(et);else es(et);};};cM.FromContinuations=function(es){return function(et){var eu;function ev(ew){if(eu[0])o.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{eu[0]=true;cM.scheduler().Fork(ew);}}eu=[false];es(function(ew){ev(function(){et.k({$:0,$0:ew});});},function(ew){ev(function(){et.k({$:1,$0:ew});});},function(ew){ev(function(){et.k({$:2,$0:ew});});});};};cM.defCTS=function(){de.$cctor();return de.defCTS;};cM.UncaughtAsyncError=function(es){en.log("WebSharper: Uncaught asynchronous exception",es);};cM.Combine=function(es,et){return cM.Bind(es,function(){return et;});};cM.Register=function(es,et){var eu;return es===cM.noneCT()?{Dispose:function(){return null;}}:(eu=es.r.push(et)-1,{Dispose:function(){return S.set(es.r,eu,a.ignore);}});};cM.cancel=function(es){es.k({$:2,$0:new dU.New(es.ct)});};cM.Using=function(es,et){return cM.TryFinally(et(es),function(){es.Dispose();});};cM.scheduler=function(){de.$cctor();return de.scheduler;};cM.TryWith=function(es,et){return function(eu){es(dd.New(function(ev){if(ev.$==0)eu.k({$:0,$0:ev.$0});else if(ev.$==1)try{(et(ev.$0))(eu);}catch(ew){eu.k(ev);}else eu.k(ev);},eu.ct));};};cM.noneCT=function(){de.$cctor();return de.noneCT;};cM.TryFinally=function(es,et){return function(eu){es(dd.New(function(ev){try{et();eu.k(ev);}catch(ew){eu.k({$:1,$0:ew});}},eu.ct));};};cM.StartWithContinuations=function(es,et,eu,ev,ew){var ex,ey;ex=(ey=(cM.defCTS())[0],ew==null?ey:ew.$0);!ex.c?es(dd.New(function(ez){if(ez.$==1)eu(ez.$0);else if(ez.$==2)ev(ez.$0);else et(ez.$0);},ex)):void 0;};cM.GetCT=function(){de.$cctor();return de.GetCT;};b3.splitByChar=function(es,et){return bi.SplitChars(et,[es],0);};b3.unindent=function(es){var et,eu,ev,ew;et=bi.SplitChars(es,["\n"],0);eu=(ev=bb.tryFindIndex(function(ex){return" "!==ex;},(ew=bb.tryFind(function(ex){return bi.Trim(ex)!=="";},et),ew==null?"":ew.$0)),ev==null?0:ev.$0);return bb.filter(function(ex){return!bi.StartsWith(ex,"# 1 ");},bb.map(function(ex){return ex.length<=eu?"":ex.substring(eu);},et));};b3.delimitedO=function(es,et,eu){var ev,ew,ex,ey,ez;ev=b3.splitInTwoO(es,eu);return ev==null?null:(ew=ev.$0,(ex=ew[0],(ey=b3.splitInTwoO(et,ew[1]),ey==null?null:{$:1,$0:(ez=ey.$0,[ex,ez[0],ez[1]])})));};b3.unindentStr=function(){bL.$cctor();return bL.unindentStr;};b3.StartsWith=function(es,et){return bi.StartsWith(et,es)?{$:1,$0:b4.string(et,{$:1,$0:es.length},null)}:null;};b3.splitInTwoO=function(es,et){var eu;eu=et.indexOf(es);return eu===-1?null:{$:1,$0:[bc["String.Left"](et,eu),et.substring(eu+es.length)]};};cO.Style=function(es,et){return di.Static(function(eu){dj.SetStyle(eu,es,et);});};cO.Dynamic=function(es,et){return di.Dynamic(et,function(eu){return function(ev){return dj.SetAttr(eu,es,ev);};});};cO.Handler=function(es,et){return di.Static(function(eu){eu.addEventListener(es,function(ev){return(et(eu))(ev);},false);});};cO.DynamicStyle=function(es,et){return di.Dynamic(et,function(eu){return function(ev){return dj.SetStyle(eu,es,ev);};});};cO.Value=function(es){function et(eu){return{$:1,$0:eu};}return cO.CustomValue(es,a.id,function(eu){return et(a.id(eu));});};cO.DynamicPred=function(es,et,eu){function ev(ew,ex){return ex[0]?dj.SetAttr(ew,es,ex[1]):dj.RemoveAttr(ew,es);}return di.Dynamic(p.Map2(function(ew,ex){return[ew,ex];},et,eu),function(ew){return function(ex){return ev(ew,ex);};});};cO.CustomValue=function(es,et,eu){return cO.CustomVar(es,function(ev,ew){ev.value=et(ew);},function(ev){return eu(ev.value);});};cO.OnAfterRender=function(es){return new cW({$:4,$0:es});};cO.Checked=function(es){function et(eu,ev){return!I.Equals(es.Get(),eu.checked)?es.Set(eu.checked):null;}return cW.Concat([cO.DynamicProp("checked",es.get_View()),cO.Handler("change",function(eu){return function(ev){return et(eu,ev);};})]);};cO.IntValue=function(es){return cO.CustomVar(es,function(et,eu){var ev;ev=eu.get_Input();return et.value!==ev?void(et.value=ev):null;},function(et){var eu,ev,ew;eu=et.value;return{$:1,$0:ea.isBlank(eu)?(et.checkValidity?et.checkValidity():true)?new cX({$:2,$0:eu}):new cX({$:1,$0:eu}):(ev=(ew=0,[bQ.TryParseInt32(eu,{get:function(){return ew;},set:function(ex){ew=ex;}}),ew]),ev[0]?new cX({$:0,$0:ev[1],$1:eu}):new cX({$:1,$0:eu}))};});};cO.IntValueUnchecked=function(es){return cO.CustomValue(es,a.String,function(et){var eu;return ea.isBlank(et)?{$:1,$0:0}:(eu=+et,eu!==eu>>0?null:{$:1,$0:eu});});};cO.FloatValue=function(es){return cO.CustomVar(es,function(et,eu){var ev;ev=eu.get_Input();return et.value!==ev?void(et.value=ev):null;},function(et){var eu,ev;eu=et.value;return{$:1,$0:ea.isBlank(eu)?(et.checkValidity?et.checkValidity():true)?new cX({$:2,$0:eu}):new cX({$:1,$0:eu}):(ev=+eu,a.isNaN(ev)?new cX({$:1,$0:eu}):new cX({$:0,$0:ev,$1:eu}))};});};cO.FloatValueUnchecked=function(es){return cO.CustomValue(es,a.String,function(et){var eu;return ea.isBlank(et)?{$:1,$0:0}:(eu=+et,a.isNaN(eu)?null:{$:1,$0:eu});});};cO.CustomVar=function(es,et,eu){function ev(ex,ey){return es.UpdateMaybe(function(ez){var eA,eB;eA=eu(ex);return eA!=null&&eA.$==1&&(!I.Equals(eA.$0,ez)&&(eB=[eA,eA.$0],true))?eB[0]:null;});}function ew(ex,ey){var ez,eA;ez=eu(ex);return ez!=null&&ez.$==1&&(I.Equals(ez.$0,ey)&&(eA=ez.$0,true))?null:et(ex,ey);}return cW.Concat([cO.Handler("change",function(ex){return function(ey){return ev(ex,ey);};}),cO.Handler("input",function(ex){return function(ey){return ev(ex,ey);};}),cO.Handler("keypress",function(ex){return function(ey){return ev(ex,ey);};}),cO.DynamicCustom(function(ex){return function(ey){return ew(ex,ey);};},es.get_View())]);};cO.DynamicProp=function(es,et){return di.Dynamic(et,function(eu){return function(ev){eu[es]=ev;};});};cO.DynamicCustom=function(es,et){return di.Dynamic(et,es);};Y.p$1=function(es){return"{"+("actName = "+bw.prettyPrint(es.actName))+"; "+("actFunction = "+cQ.p$1(es.actFunction))+"; "+("actEnabled = "+cQ.p$2(es.actEnabled))+"}";};cP.appfwkclient=function(es){cP.fixedsplitterhor();cP.fixedsplitterver();cZ.LoadLocalTemplates("appframework");return es?cZ.NamedTemplate("appframework",{$:1,$0:"appfwkclient"},es):void 0;};Y.p=function(es){return"{"+("docName = "+bw.prettyPrint(es.docName))+"; "+("docDoc = "+cQ.p(es.docDoc))+"}";};cQ.p$1=function(es){return es.$==2?"FunAct2 (<fun>, "+bw.prettyPrint(es.$1)+", "+bw.prettyPrint(es.$2)+")":es.$==1?"FunAct1 (<fun>, "+bw.prettyPrint(es.$1)+")":"FunAct0 <fun>";};cQ.p$2=function(es){return"View <fun>";};cP.tile=function(es){cZ.LoadLocalTemplates("appframework");return es?cZ.NamedTemplate("appframework",{$:1,$0:"tile"},es):void 0;};cP.namevalueinput=function(es){cZ.LoadLocalTemplates("appframework");return es?cZ.NamedTemplate("appframework",{$:1,$0:"namevalueinput"},es):void 0;};cP.namevalue=function(es){cZ.LoadLocalTemplates("appframework");return es?cZ.NamedTemplate("appframework",{$:1,$0:"namevalue"},es):void 0;};cP.action=function(es){cZ.LoadLocalTemplates("appframework");return es?cZ.NamedTemplate("appframework",{$:1,$0:"action"},es):void 0;};cP.actiondisabled=function(es){cZ.LoadLocalTemplates("appframework");return es?cZ.NamedTemplate("appframework",{$:1,$0:"actiondisabled"},es):void 0;};cP.fixedsplitterhor=function(es){cZ.LoadLocalTemplates("appframework");return es?cZ.NamedTemplate("appframework",{$:1,$0:"fixedsplitterhor"},es):void 0;};cP.fixedsplitterver=function(es){cZ.LoadLocalTemplates("appframework");return es?cZ.NamedTemplate("appframework",{$:1,$0:"fixedsplitterver"},es):void 0;};cP.wcompsplitterhor=function(es){cZ.LoadLocalTemplates("appframework");return es?cZ.NamedTemplate("appframework",{$:1,$0:"wcompsplitterhor"},es):void 0;};cP.wcompsplitterver=function(es){cZ.LoadLocalTemplates("appframework");return es?cZ.NamedTemplate("appframework",{$:1,$0:"wcompsplitterver"},es):void 0;};cP.appframework=function(es){cZ.LoadLocalTemplates("appframework");return es?cZ.NamedTemplate("appframework",{$:1,$0:"appframework"},es):void 0;};cQ.p=function(es){return es.$==5?"FunDoc5 (<fun>, "+bw.prettyPrint(es.$1)+", "+bw.prettyPrint(es.$2)+", "+bw.prettyPrint(es.$3)+", "+bw.prettyPrint(es.$4)+", "+bw.prettyPrint(es.$5)+")":es.$==4?"FunDoc4 (<fun>, "+bw.prettyPrint(es.$1)+", "+bw.prettyPrint(es.$2)+", "+bw.prettyPrint(es.$3)+", "+bw.prettyPrint(es.$4)+")":es.$==3?"FunDoc3 (<fun>, "+bw.prettyPrint(es.$1)+", "+bw.prettyPrint(es.$2)+", "+bw.prettyPrint(es.$3)+")":es.$==2?"FunDoc2 (<fun>, "+bw.prettyPrint(es.$1)+", "+bw.prettyPrint(es.$2)+")":es.$==1?"FunDoc1 (<fun>, "+bw.prettyPrint(es.$1)+")":"LazyDoc "+bw.prettyPrint(es.$0);};b5.tryParseWith=function(es){function et(eu,ev){return eu?{$:1,$0:ev}:null;}return function(eu){return et.apply(null,es(eu));};};b5.parseDateO=function(){bL.$cctor();return bL.parseDateO;};b5.parseIntO=function(){bL.$cctor();return bL.parseIntO;};b5.parseInt64O=function(){bL.$cctor();return bL.parseInt64O;};b5.parseSingleO=function(){bL.$cctor();return bL.parseSingleO;};b5.parseDoubleO=function(){bL.$cctor();return bL.parseDoubleO;};b5.parseGuidO=function(){bL.$cctor();return bL.parseGuidO;};b5.Double=function(){bL.$cctor();return bL["|Double|_|"];};b5.Int=function(){bL.$cctor();return bL["|Int|_|"];};cT=cS.WcTabStripT=ek.Class({connectedCallback:function(){var es,et,eu,ev;function ew(){var ex,ey,ez;ey=!et.hasAttribute("bottom");ez=by.ofSeq(bb.delay(function(){return bb.collect(function(eA){var eB;eB=et.childNodes[eA-1];return I.Equals(eB.nodeType,F.ELEMENT_NODE)?[[eB.hasAttribute("tabname")?eB.getAttribute("tabname"):(function(eC){return function(eD){return eC("Tab "+a.String(eD));};}(a.id))(eA),eB]]:[];},o.range(1,et.childNodes.length));}));while(ev.childNodes.length>0)ev.removeChild(ev.lastChild);ex=cS.tabStrip(es.selected,ey,true,ez,Z.Element("slot",cB.Empty,cB.Empty));cZ.LoadLocalTemplates("");Z.Run(ev,ex);}es=this;!this.added?(et=this,eu=et.attachShadow({mode:"open"}),ev=self.document.createElement("div"),eu.appendChild(ev),ew(),et.addEventListener("DOMSubtreeModified",bc.delayed(50,ew)),this.added=true):void 0;}},g,cT);cT.Constructor=function(){var es,et;es=(et=eq.construct(self.HTMLElement,[],this.__proto__.constructor),et);self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New.call(es);return es;};cT.New=ek.Ctor(function(){g.New.call(this);this.added=false;this.selected=i.Create$1(1);(function(es){return es("WcTabStripT initializer");}(function(es){en.log(es);}));},cT);cR.defineWebComponent=function(es,et,eu){try{en.log("defineWebComponent: "+es);cJ.setPrototypeOf(eu.prototype,self.HTMLElement.prototype);cJ.setPrototypeOf(eu,self.HTMLElement);cJ.setPrototypeOf(et.prototype,eu.prototype);self.customElements.define(es,et);}catch(ev){(function(ew){return ew("Failed to define WebComponent. Not supported.");}(function(ew){en.log(ew);}));}};cU.init=function(es,et){var eu;eu=new dk.New();cU.set_layoutHorizontal(es);cU.set_layoutVertical(et);cR.defineWebComponent("wcomp-splitter",dk.Constructor,self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New);};cU.set_layoutHorizontal=function(es){bL.$cctor();bL.layoutHorizontal=es;};cU.set_layoutVertical=function(es){bL.$cctor();bL.layoutVertical=es;};cU.layoutVertical=function(){bL.$cctor();return bL.layoutVertical;};cU.layoutHorizontal=function(){bL.$cctor();return bL.layoutHorizontal;};cS.init=function(){bL.$cctor();return bL.init;};cS.tabStrip=function(es,et,eu,ev,ew){var ex;ex=Z.Element("div",[cW.Create("class",(((ek.Curried3(function(ey,ez,eA){return ey("tab-strip "+bw.toSafe(ez)+" "+bw.toSafe(eA));}))(a.id))(et?"top":"bottom"))(eu?"horizontal":"vertical"))],by.ofSeq(bb.delay(function(){return bb.collect(function(ey){var ez;ez=ey[0];return[dB.New$1().Content(Z.Element("div",[cO.Dynamic("class",p.Map(function(eA){return"tab"+(eA===ez+1?" selected":"");},es.get_View())),cW.Create("draggable","true"),cW.HandlerImpl("click",function(){return function(){return es.Set(ez+1);};})],[Z.TextNode(ey[1][0])]))];},bb.indexed(ev));})));return Z.Element("div",[cW.Create("class","tab-panel")],by.ofSeq(bb.delay(function(){return bb.append(et?[ex]:[],bb.delay(function(){return bb.append([Z.Element("div",[cW.Create("class","tab-content")],[ew])],bb.delay(function(){return bb.append(!et?[ex]:[],bb.delay(function(){return bb.append([Z.Element("style",cB.Empty,by.ofArray([Z.TextNode(cS.css())]))],bb.delay(function(){return[Z.Element("style",cB.Empty,by.ofArray([Z.TextView(p.Map(function(ey){return function(ez){return ey("\r\n                                              ::slotted(*              ) { display: none }\r\n                                              ::slotted(*:nth-child("+a.String(ez)+")) { display: grid }\r\n                                           ");};}(a.id),es.get_View()))]))];}));}));}));}));})));};cS.css=function(){bL.$cctor();return bL.css;};cV.notPresent=function(){return o.FailWith("The given key was not present in the dictionary.");};cV.alreadyAdded=function(){return o.FailWith("An item with the same key has already been added.");};cW=h.AttrProxy=ek.Class({},null,cW);cW.Create=function(es,et){return di.Static(function(eu){dj.SetAttr(eu,es,et);});};cW.HandlerImpl=function(es,et){return di.Static(function(eu){eu.addEventListener(es,function(ev){return(et(eu))(ev);},false);});};cW.Concat=function(es){var et;et=cL.ofSeqNonCopying(es);return cL.TreeReduce(di.EmptyAttr(),cW.Append,et);};cW.Append=function(es,et){return di.AppendTree(es,et);};cW.Handler=function(es,et){return cW.HandlerImpl(es,et);};cX=h.CheckedInput=ek.Class({get_Input:function(){return this.$==1?this.$0:this.$==2?this.$0:this.$1;}},null,cX);cZ.LoadLocalTemplates=function(es){!cZ.LocalTemplatesLoaded()?(cZ.set_LocalTemplatesLoaded(true),cZ.LoadNestedTemplates(self.document.body,"")):void 0;cZ.LoadedTemplates().set_Item(es,cZ.LoadedTemplateFile(""));};cZ.NamedTemplate=function(es,et,eu){var ev,ew;ev=(ew=null,[cZ.LoadedTemplateFile(es).TryGetValue(et==null?"":et.$0,{get:function(){return ew;},set:function(ex){ew=ex;}}),ew]);return ev[0]?cZ.ChildrenTemplate(ev[1].cloneNode(true),eu):(en.warn("Local template doesn't exist",et),Z.get_Empty());};cZ.RunFullDocTemplate=function(es){var et,eu;cZ.LoadLocalTemplates("");cZ.PrepareTemplateStrict("",null,dj.ChildrenArray(self.document.body),{$:1,$0:self.document.body},null);et=cZ.ChildrenTemplate(self.document.body,es);eu=self.document.body;(function(ev){Z.RunInPlace(true,eu,ev);}(et));return et;};cZ.LocalTemplatesLoaded=function(){dG.$cctor();return dG.LocalTemplatesLoaded;};cZ.set_LocalTemplatesLoaded=function(es){dG.$cctor();dG.LocalTemplatesLoaded=es;};cZ.LoadNestedTemplates=function(es,et){var ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI;function eu(eJ){var eK,eL;if(!ev.ContainsKey(eJ)){eK=(eL=null,[ew.TryGetValue(eJ,{get:function(){return eL;},set:function(eM){eL=eM;}}),eL]);eK[0]?(eI.Add(eJ),ew.Remove(eJ),cZ.PrepareTemplateStrict(et,{$:1,$0:eJ},eK[1][0],{$:1,$0:eK[1][1]},{$:1,$0:eu})):en.warn(eI.Contains(eJ)?"Encountered loop when instantiating "+eJ:"Local template does not exist: "+eJ);}}ev=cZ.LoadedTemplateFile(et);ew=new bS.New$5();ex=es.querySelectorAll("[ws-template]");for(ey=0,ez=ex.length-1;ey<=ez;ey++){eA=ex[ey];eB=eA.getAttribute("ws-template").toLowerCase();eA.removeAttribute("ws-template");ew.set_Item(eB,[[eA],cZ.FakeRootSingle(eA)]);}eC=es.querySelectorAll("[ws-children-template]");for(eD=0,eE=eC.length-1;eD<=eE;eD++){eF=eC[eD];eG=eF.getAttribute("ws-children-template").toLowerCase();eF.removeAttribute("ws-children-template");ew.set_Item(eG,(eH=dj.ChildrenArray(eF),[eH,cZ.FakeRoot(eH)]));}eI=new bT.New$3();while(ew.count>0)eu(bb.head(ew.get_Keys()));};cZ.LoadedTemplates=function(){dG.$cctor();return dG.LoadedTemplates;};cZ.LoadedTemplateFile=function(es){var et,eu,ev;et=(eu=null,[cZ.LoadedTemplates().TryGetValue(es,{get:function(){return eu;},set:function(ew){eu=ew;}}),eu]);return et[0]?et[1]:(ev=new bS.New$5(),(cZ.LoadedTemplates().set_Item(es,ev),ev));};cZ.ChildrenTemplate=function(es,et){var eu,ev,ew,ex,ey;eu=cZ.InlineTemplate(es,et);ev=eu[1];ew=eu[0];ex=ew.Els;return!I.Equals(ex,null)&&ex.length===1&&(S.get(ex,0)instanceof F&&(I.Equals(S.get(ex,0).nodeType,F.ELEMENT_NODE)&&(ey=S.get(ex,0),true)))?dH.TreeNode(ew,ev):Z.Mk({$:6,$0:ew},ev);};cZ.PrepareTemplateStrict=function(es,et,eu,ev,ew){var ex,ey;function ez(eE,eF){var eG,eH,eI,eJ,eK,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4,e5,e6;function eL(e7){}while(true)switch(eE){case 0:if(eF!==null){eG=eF.nextSibling;if(I.Equals(eF.nodeType,F.TEXT_NODE))dK.convertTextNode(eF);else if(I.Equals(eF.nodeType,F.ELEMENT_NODE))eB(eF);eF=eG;}else return null;break;case 1:eM=b4.string(eF.nodeName,{$:1,$0:3},null).toLowerCase();eN=(eH=eM.indexOf("."),eH===-1?[es,eM]:[b4.string(eM,null,{$:1,$0:eH-1}),b4.string(eM,{$:1,$0:eH+1},null)]);eO=eN[1];eP=eN[0];if(eP!==""&&!cZ.LoadedTemplates().ContainsKey(eP))return dK.failNotLoaded(eO);else{if(eP===""&&ew!=null)ew.$0(eO);eQ=cZ.LoadedTemplates().get_Item(eP);if(!eQ.ContainsKey(eO))return dK.failNotLoaded(eO);else{eR=eQ.get_Item(eO);eS=eR.cloneNode(true);eT=new bT.New$3();eU=new bS.New$5();eV=eF.attributes;for(eW=0,eX=eV.length-1;eW<=eX;eW++){eY=eV.item(eW).name.toLowerCase();eU.set_Item(eY,(eZ=eV.item(eW).nodeValue,eZ===""?eY:eZ.toLowerCase()));!eT.Add(eY)?en.warn("Hole mapped twice",eY):void 0;}for(e0=0,e1=eF.childNodes.length-1;e0<=e1;e0++){e2=eF.childNodes[e0];I.Equals(e2.nodeType,F.ELEMENT_NODE)?!eT.Add(e2.nodeName.toLowerCase())?en.warn("Hole filled twice",eO):void 0:void 0;}e3=eF.childNodes.length===1&&I.Equals(eF.firstChild.nodeType,F.TEXT_NODE);if(e3){eJ=dK.fillTextHole(eS,eF.firstChild.textContent,eO);((function(e7){return function(e8){if(e8!=null)e7(e8.$0);};}((eK=function(e7){return function(e8){return e7.Add(e8);};}(eT),function(e7){return eL(eK(e7));})))(eJ));}dK.removeHolesExcept(eS,eT);if(!e3){for(e4=0,e5=eF.childNodes.length-1;e4<=e5;e4++){e6=eF.childNodes[e4];I.Equals(e6.nodeType,F.ELEMENT_NODE)?e6.hasAttributes()?dK.fillInstanceAttrs(eS,e6):eA(eS,e6):void 0;}}dK.mapHoles(eS,eU);dK.fill(eS,eF.parentNode,eF);eF.parentNode.removeChild(eF);return;}}break;}}function eA(eE,eF){var eG,eI,eJ;function eH(eK,eL){var eM,eN,eO;if(eI==="title"&&eF.hasChildNodes()){eM=em.parseHTML(eF.textContent);eF.removeChild(eF.firstChild);for(eN=0,eO=eM.length-1;eN<=eO;eN++)eF.appendChild(S.get(eM,eN));}else null;eB(eF);return dK.fill(eF,eK,eL);}eI=eF.nodeName.toLowerCase();dj.IterSelector(eE,"[ws-attr-holes]",function(eK){var eL,eM,eN,eO,eP;eL=bi.SplitChars(eK.getAttribute("ws-attr-holes"),[" "],1);for(eM=0,eN=eL.length-1;eM<=eN;eM++){eO=S.get(eL,eM);eK.setAttribute(eO,(eP=new a.RegExp("\\${"+eI+"}","ig"),eK.getAttribute(eO).replace(eP,eF.textContent)));}});eJ=eE.querySelector("[ws-hole="+eI+"]");if(I.Equals(eJ,null)){eG=eE.querySelector("[ws-replace="+eI+"]");return I.Equals(eG,null)?null:(eH(eG.parentNode,eG),void eG.parentNode.removeChild(eG));}else{while(eJ.hasChildNodes())eJ.removeChild(eJ.lastChild);eJ.removeAttribute("ws-hole");return eH(eJ,null);}}function eB(eE){if(bi.StartsWith(eE.nodeName.toLowerCase(),"ws-"))eD(eE);else{dK.convertAttrs(eE);eC(eE.firstChild);}}function eC(eE){return ez(0,eE);}function eD(eE){return ez(1,eE);}ex=ev==null?cZ.FakeRoot(eu):ev.$0;ey=(et==null?"":et.$0).toLowerCase();cZ.LoadedTemplateFile(es).set_Item(ey,ex);S.length(eu)>0?(function(eE){var eF,eG,eH,eI;while(true){eF=eE.querySelector("[ws-template]");if(I.Equals(eF,null)){eG=eE.querySelector("[ws-children-template]");if(I.Equals(eG,null))return null;else{eH=eG.getAttribute("ws-children-template");eG.removeAttribute("ws-children-template");cZ.PrepareTemplateStrict(es,{$:1,$0:eH},dj.ChildrenArray(eG),null,null);eE=eE;}}else{eI=eF.getAttribute("ws-template");(cZ.PrepareSingleTemplate(es,{$:1,$0:eI},eF))(null);eE=eE;}}}(ex),eC(S.get(eu,0))):void 0;};cZ.FakeRootSingle=function(es){var et,eu,ev;es.removeAttribute("ws-template");et=es.getAttribute("ws-replace");et===null?void 0:(es.removeAttribute("ws-replace"),eu=es.parentNode,I.Equals(eu,null)?void 0:(ev=self.document.createElement(es.tagName),ev.setAttribute("ws-replace",et),eu.replaceChild(ev,es)));return cZ.FakeRoot([es]);};cZ.FakeRoot=function(es){var et,eu,ev;et=self.document.createElement("div");for(eu=0,ev=es.length-1;eu<=ev;eu++)et.appendChild(S.get(es,eu));return et;};cZ.InlineTemplate=function(es,et){var eu,ev,ew,ex,eA,eB,eC,eD,eE,eF,eG;function ey(eH,eI){var eJ,eK,eL;eJ=di.Insert(eH,eI);eB.push(di.Updates(eJ));eC.push([eH,eJ]);eK=ek.GetOptional(eJ.OnAfterRender);return eK==null?null:(eL=eK.$0,void eD.push(function(){eL(eH);}));}function ez(eH){var eI,eJ;eI=(eJ=null,[eE.TryGetValue(eH,{get:function(){return eJ;},set:function(eK){eJ=eK;}}),eJ]);return eI[0]?eI[1].$==0?{$:1,$0:eI[1].$1}:eI[1].$==1?{$:1,$0:Z.TextNode(eI[1].$1)}:eI[1].$==2?{$:1,$0:Z.TextView(eI[1].$1)}:eI[1].$==8?{$:1,$0:Z.TextView(eI[1].$1.get_View())}:eI[1].$==9?{$:1,$0:Z.TextView(p.Map(a.String,eI[1].$1.get_View()))}:eI[1].$==10?{$:1,$0:Z.TextView(p.Map(function(eK){return eK.get_Input();},eI[1].$1.get_View()))}:eI[1].$==11?{$:1,$0:Z.TextView(p.Map(a.String,eI[1].$1.get_View()))}:eI[1].$==12?{$:1,$0:Z.TextView(p.Map(function(eK){return eK.get_Input();},eI[1].$1.get_View()))}:eI[1].$==13?{$:1,$0:Z.TextView(p.Map(a.String,eI[1].$1.get_View()))}:(en.warn("Content hole filled with attribute data",eH),null):null;}eA=[];eB=[];eC=[];eD=[];eE=new bS.New$5();eF=cy.Get(et);try{while(eF.MoveNext()){eG=eF.Current();eE.set_Item(eG.$0,eG);}}finally{if(typeof eF=="object"&&"Dispose"in eF)eF.Dispose();}eu=dj.ChildrenArray(es);dj.IterSelector(es,"[ws-hole]",function(eH){var eI,eJ,eK;eK=eH.getAttribute("ws-hole");eH.removeAttribute("ws-hole");while(eH.hasChildNodes())eH.removeChild(eH.lastChild);eI=ez(eK);eI!=null&&eI.$==1?(eJ=eI.$0,dc.LinkElement(eH,eJ.docNode),eA.push(dl.New(di.Empty(eH),eJ.docNode,null,eH,bX.Int(),null)),eB.push(eJ.updates)):void 0;});dj.IterSelector(es,"[ws-replace]",function(eH){var eI,eJ,eK,eL,eM,eN;eI=ez(eH.getAttribute("ws-replace"));eI!=null&&eI.$==1?(eJ=eI.$0,eK=eH.parentNode,eL=self.document.createTextNode(""),eK.replaceChild(eL,eH),eM=dc.InsertBeforeDelim(eL,eJ.docNode),eN=S.tryFindIndex(function(eO){return eH===eO;},eu),eN==null?void 0:S.set(eu,eN.$0,eJ.docNode),eA.push(dl.New(di.Empty(eK),eJ.docNode,{$:1,$0:[eM,eL]},eK,bX.Int(),null)),eB.push(eJ.updates)):void 0;});dj.IterSelector(es,"[ws-attr]",function(eH){var eI,eJ,eK;eI=eH.getAttribute("ws-attr");eH.removeAttribute("ws-attr");eJ=(eK=null,[eE.TryGetValue(eI,{get:function(){return eK;},set:function(eL){eK=eL;}}),eK]);eJ[0]?eJ[1].$==3?ey(eH,eJ[1].$1):en.warn("Attribute hole filled with non-attribute data",eI):void 0;});dj.IterSelector(es,"[ws-on]",function(eH){ey(eH,cW.Concat(S.choose(function(eI){var eJ,eK,eL;eJ=bi.SplitChars(eI,[":"],1);eK=(eL=null,[eE.TryGetValue(S.get(eJ,1),{get:function(){return eL;},set:function(eM){eL=eM;}}),eL]);return eK[0]?eK[1].$==4?{$:1,$0:cO.Handler(S.get(eJ,0),eK[1].$1)}:eK[1].$==5?{$:1,$0:cW.Handler(S.get(eJ,0),eK[1].$2)}:(en.warn("Event hole on"+S.get(eJ,0)+" filled with non-event data",S.get(eJ,1)),null):null;},bi.SplitChars(eH.getAttribute("ws-on"),[" "],1))));eH.removeAttribute("ws-on");});dj.IterSelector(es,"[ws-onafterrender]",function(eH){var eI,eJ,eK;eI=eH.getAttribute("ws-onafterrender");eJ=(eK=null,[eE.TryGetValue(eI,{get:function(){return eK;},set:function(eL){eK=eL;}}),eK]);eJ[0]?eJ[1].$==6?(eH.removeAttribute("ws-onafterrender"),ey(eH,cO.OnAfterRender(eJ[1].$1))):eJ[1].$==7?(eH.removeAttribute("ws-onafterrender"),ey(eH,cO.OnAfterRender(eJ[1].$1))):en.warn("onafterrender hole filled with non-onafterrender data",eI):void 0;});dj.IterSelector(es,"[ws-var]",function(eH){var eI,eJ,eK;eI=eH.getAttribute("ws-var");eH.removeAttribute("ws-var");eJ=(eK=null,[eE.TryGetValue(eI,{get:function(){return eK;},set:function(eL){eK=eL;}}),eK]);eJ[0]?eJ[1].$==8?ey(eH,cO.Value(eJ[1].$1)):eJ[1].$==9?ey(eH,cO.Checked(eJ[1].$1)):eJ[1].$==10?ey(eH,cO.IntValue(eJ[1].$1)):eJ[1].$==11?ey(eH,cO.IntValueUnchecked(eJ[1].$1)):eJ[1].$==12?ey(eH,cO.FloatValue(eJ[1].$1)):eJ[1].$==13?ey(eH,cO.FloatValueUnchecked(eJ[1].$1)):en.warn("Var hole filled with non-Var data",eI):void 0;});dj.IterSelector(es,"[ws-attr-holes]",function(eH){var eI,eJ,eK,eL;eI=new a.RegExp(cZ.TextHoleRE(),"g");eJ=bi.SplitChars(eH.getAttribute("ws-attr-holes"),[" "],1);eH.removeAttribute("ws-attr-holes");for(eK=0,eL=eJ.length-1;eK<=eL;eK++)(function(){var eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY;eV=S.get(eJ,eK);eW=eH.getAttribute(eV);eM=null;eN=0;eX=[];while(eM=eI.exec(eW),eM!==null){eY=b4.string(eW,{$:1,$0:eN},{$:1,$0:eI.lastIndex-S.get(eM,0).length-1});eN=eI.lastIndex;eX.push([eY,S.get(eM,1)]);}eP=b4.string(eW,{$:1,$0:eN},null);eI.lastIndex=0;eQ=S.foldBack(function(eZ,e0){return(function(e1){var e2,e3;e2=e1[0];e3=e1[1];return function(e4){var e5,e6,e7,e8,e9;e5=e4[0];e6=e4[1];e7=(e8=(e9=null,[eE.TryGetValue(e3,{get:function(){return e9;},set:function(e_){e9=e_;}}),e9]),e8[0]?e8[1].$==1?{$:0,$0:e8[1].$1}:e8[1].$==2?{$:1,$0:e8[1].$1}:e8[1].$==8?{$:1,$0:e8[1].$1.get_View()}:e8[1].$==9?{$:1,$0:p.Map(a.String,e8[1].$1.get_View())}:e8[1].$==10?{$:1,$0:p.Map(function(e_){return e_.get_Input();},e8[1].$1.get_View())}:e8[1].$==11?{$:1,$0:p.Map(a.String,e8[1].$1.get_View())}:e8[1].$==12?{$:1,$0:p.Map(function(e_){return e_.get_Input();},e8[1].$1.get_View())}:e8[1].$==13?{$:1,$0:p.Map(a.String,e8[1].$1.get_View())}:(en.warn("Attribute value hole filled with non-text data",e3),{$:0,$0:""}):{$:0,$0:""});return e7.$==1?[e2,new cB({$:1,$0:e5===""?e7.$0:p.Map(function(e_){return e_+e5;},e7.$0),$1:e6})]:[e2+e7.$0+e5,e6];};}(eZ))(e0);},eX,[eP,cB.Empty]);return ey(eH,eQ[1].$==1?eQ[1].$1.$==1?eQ[1].$1.$1.$==1?eQ[1].$1.$1.$1.$==0?(eR=eQ[0],cO.Dynamic(eV,p.Map3(function(eZ,e0,e1){return eR+eZ+e0+e1;},eQ[1].$0,eQ[1].$1.$0,eQ[1].$1.$1.$0))):(eS=eQ[0],cO.Dynamic(eV,p.Map(function(eZ){return eS+bi.concat("",eZ);},p.Sequence(eQ[1])))):(eT=eQ[0],cO.Dynamic(eV,p.Map2(function(eZ,e0){return eT+eZ+e0;},eQ[1].$0,eQ[1].$1.$0))):eQ[0]===""?cO.Dynamic(eV,eQ[1].$0):(eU=eQ[0],cO.Dynamic(eV,p.Map(function(eZ){return eU+eZ;},eQ[1].$0))):cW.Create(eV,eQ[0]));}());});return[ek.DeleteEmptyFields({Els:eu,Dirty:true,Holes:eA,Attrs:eC,Render:(ev=eD.length==0?null:{$:1,$0:function(eH){S.iter(function(eI){eI(eH);},eD);}},ev?ev.$0:void 0),El:(ew=!I.Equals(eu,null)&&eu.length===1&&(S.get(eu,0)instanceof F&&(S.get(eu,0)instanceof a.Element&&(ex=S.get(eu,0),true)))?{$:1,$0:ex}:null,ew?ew.$0:void 0)},["Render","El"]),cL.TreeReduce(p.Const(),p.Map2Unit,eB)];};cZ.PrepareSingleTemplate=function(es,et,eu){var ev,ew,ex;ev=cZ.FakeRootSingle(eu);ew=[eu];ex={$:1,$0:ev};return function(ey){cZ.PrepareTemplateStrict(es,et,ew,ex,ey);};};cZ.TextHoleRE=function(){dG.$cctor();return dG.TextHoleRE;};c0.TryParse=function(es){var et;et=eo.parse(es);return a.isNaN(et)?null:{$:1,$0:et};};bQ.TryParse=function(es,et,eu,ev){var ew,ex;ew=+es;ex=ew===ew-ew%1&&ew>=et&&ew<=eu;ex?ev.set(ew):void 0;return ex;};bQ.TryParseBool=function(es,et){var eu;eu=es.toLowerCase();return eu==="true"?(et.set(true),true):eu==="false"&&(et.set(false),true);};c1.$cctor=function(){c1.$cctor=a.ignore;c1.EndPoint="?";c1.AjaxProvider=new _do.New();};c2.newPojoOpt=function(es){function et(eu,ev){return ev==null?null:{$:1,$0:[eu,ev.$0]};}return c2.newPojo(bb.choose(function(eu){return et(eu[0],eu[1]);},es));};c2.newPojo=function(es){var et,eu;function ev(ex,ey){return function(ez){return c2.addProp(ex,ey,ez);};}function ew(ex){}et={};bb.iter((eu=function(ex){return(function(ey){return ev(ey[0],ey[1]);}(ex))(et);},function(ex){return ew(eu(ex));}),es);return et;};c2.addProp=function(es,et,eu){eu[es]=et;return eu;};b7.op_EqualsEqualsGreater=function(es,et){return[es,et==null?null:{$:1,$0:et.$0}];};b7.op_MinusMinusGreater=function(es,et){return[es,{$:1,$0:et}];};c4=f.TimeoutException=ek.Class({},c3,c4);c4.New=ek.Ctor(function(){c4.New$1.call(this,"The operation has timed out.");},c4);c4.New$1=ek.Ctor(function(es){this.message=es;cJ.setPrototypeOf(this,c4.prototype);},c4);c5.AsAsync=function(es){return cM.FromContinuations(function(et,eu){es.then(et,function(ev){return eu(c5.unwrapExn(ev));});});};c5.unwrapExn=function(es){return es instanceof c3?es:new dR.New(es);};c7.JSUnion=function(es,et){var eu;function ev(ez){var eA;function eB(eC){return eC!=null&&eC.$==1&&I.Equals(ez,eC.$0);}eA=bb.tryFindIndex(function(eC){return eB(eC[0]);},et);return eA!=null&&eA.$==1?eA.$0:ez.$;}function ew(ez,eA){return S.init(S.length((S.get(et,ez))[2]),function(eB){return eA["$"+a.String(eB)];});}function ex(ez,eA){var eB,eC,eD;eB=es==null?{}:new es();eC=S.get(et,ez);return(eD=eC[0],eD!=null&&eD.$==1)?eC[0].$0:(eB.$=ez,bb.iteri(function(eE,eF){eB["$"+a.String(eE)]=eF;},eA),eB);}function ey(ez,eA){var eB;function eC(eD,eE){return[ez,eD,eE,eB];}eB=eA[2];return bb.map(function(eD){return eC(eD[0],eD[1]);},eA[1]);}eu=bb.collect(function(ez){return ey(ez[0],ez[1]);},bb.indexed(et));return dt.New$1(function(ez){function eA(eB,eC,eD,eE){var eF,eG,eH;function eI(eJ,eK,eL){var eM;function eN(eO,eP){return eI(eM,eO,new cB({$:1,$0:eP,$1:eL}));}return eJ.$==1?(eM=eJ.$1,bb.collect(function(eO){return eN(eO[0],eO[1]);},eJ.$0.Parse(eK))):[[eK,ex(eB,S.ofList(by.rev(eL)))]];}return c7.isCorrectMethod(eC,ez.Method)?(eF=du.startsWith(by.ofArray(eD),ez.Segments),eF==null?[]:(eG=eF.$0,(eH=by.ofArray(eE),eH.$==0?[[c9.New(eG,ez.QueryArgs,ez.FormData,ez.Method,ez.Body),ex(eB,[])]]:eI(eH,c9.New(eG,ez.QueryArgs,ez.FormData,ez.Method,ez.Body),cB.Empty)))):[];}return bb.collect(function(eB){return eA(eB[0],eB[1],eB[2],eB[3]);},eu);},function(ez){var eA,eB,eC,eD,eE,eF;function eG(eH,eI){return eI.Write(eH);}eA=ev(ez);eB=S.get(et,eA);eC=eB[2];eD=S.get(eB[1],0);eE=[c9.Segment(by.ofArray(eD[1]),eD[0])];return!I.Equals(eC,null)&&eC.length===0?{$:1,$0:eE}:(eF=(((ek.Curried3(S.map2))(eG))(ew(eA,ez)))(eC),S.forall(function(eH){return eH!=null;},eF)?{$:1,$0:bb.append(eE,bb.collect(function(eH){return eH.$0;},eF))}:null);});};c7.isCorrectMethod=function(es,et){return et!=null&&et.$==1?es!=null&&es.$==1?I.Equals(et.$0,es.$0):true:!(es!=null&&es.$==1);};c7.rString=function(){dS.$cctor();return dS.rString;};c7.rWildcard=function(){dS.$cctor();return dS.rWildcard;};c8.Parse=function(es,et){function eu(ev,ew){return ev.Segments.$==0?{$:1,$0:ew}:null;}return bb.tryPick(function(ev){return eu(ev[0],ev[1]);},es.Parse(et));};c8.HashLink=function(es,et){return"#"+c8.Link(es,et);};c8.Link=function(es,et){var eu;eu=c8.Write(es,et);return eu==null?"":eu.$0.ToLink();};c8.Write=function(es,et){var eu;eu=es.Write(et);return eu==null?null:{$:1,$0:c9.Combine(eu.$0)};};c9=c6.Route=ek.Class({ToLink:function(){return ee.WriteLink(this.Segments,this.QueryArgs);}},null,c9);c9.FromHash=function(es,et){var eu,ev;eu=es.indexOf("#");return eu===-1?c9.get_Empty():(ev=es.substring(eu+1),et!=null&&et.$0?ev===""||ev==="/"?c9.get_Empty():bi.StartsWith(ev,"/")?c9.FromUrl(ev.substring(1),{$:1,$0:true}):c9.Segment$2(ev):c9.FromUrl(es.substring(eu),{$:1,$0:false}));};c9.Segment=function(es,et){var eu;eu=c9.get_Empty();return c9.New(es,eu.QueryArgs,eu.FormData,et,eu.Body);};c9.get_Empty=function(){return c9.New(cB.Empty,new cx.New([]),new cx.New([]),null,r.CreateFromValue(null));};c9.FromUrl=function(es,et){var eu,ev,ew;eu=(ev=es.indexOf("?"),ev===-1?[es,new cx.New([])]:[bi.Substring(es,0,ev),c9.ParseQuery(es.substring(ev+1))]);ew=c9.get_Empty();return c9.New(by.ofArray(bi.SplitChars(eu[0],["/"],et!=null&&et.$0?0:1)),eu[1],ew.FormData,ew.Method,ew.Body);};c9.Segment$2=function(es){var et;et=c9.get_Empty();return c9.New(by.ofArray([es]),et.QueryArgs,et.FormData,et.Method,et.Body);};c9.ParseQuery=function(es){return dT.OfArray(S.ofSeq(S.choose(function(et){var eu,ev;eu=bi.SplitChars(et,["="],0);return!I.Equals(eu,null)&&eu.length===2?(ev=S.get(eu,1),{$:1,$0:[S.get(eu,0),ev]}):((function(ew){return function(ex){return ew("wrong format for query argument: "+bw.toSafe(ex));};}(function(ew){en.log(ew);}))(et),null);},bi.SplitChars(es,["&"],0))));};c9.Combine=function(es){var et,eu,ev,ew,ex,ey,ez,eA,eB,eC;ez=S.ofSeq(es);eA=S.length(ez);if(eA===0)return c9.get_Empty();else if(eA===1)return S.get(ez,0);else{et=null;eu=null;eB=[];ev=new cx.New([]);ew=new cx.New([]);ex=0;eC=S.length(ez);while(ex<eC)(function(){var eD,eE,eF;eD=S.get(ez,ex);eE=eD.Method;eE!=null&&eE.$==1?et=eE:void 0;eF=eD.Body.f();eF===null?void 0:eu=eF;ev=dT.FoldBack(function(eG,eH,eI){return eI.Add(eG,eH);},ev,eD.QueryArgs);ew=dT.FoldBack(function(eG,eH,eI){return eI.Add(eG,eH);},ew,eD.FormData);by.iter(function(eG){eB.push(eG);},eD.Segments);ex=ex+1;}());return c9.New(by.ofSeq(eB),ev,ew,et,r.CreateFromValue(eu));}};c9.New=function(es,et,eu,ev,ew){return new c9({Segments:es,QueryArgs:et,FormData:eu,Method:ev,Body:ew});};c_=ct.CustomXhrProvider=ek.Class({Async:function(es,et,eu,ev,ew){var ex;cM.Start((ex=null,cM.Delay(function(){return cM.Bind((ct.getTokenOA())(),function(ey){ey==null?void 0:et.Authorization=(function(ez){return function(eA){return ez("Bearer "+bw.toSafe(eA));};}(a.id))(ey.$0);ct.originalProvider().Async(es,et,eu,ev,ew);return cM.Zero();});})),null);}},g,c_);c_.New=ek.Ctor(function(){g.New.call(this);},c_);c$.fromSeq=function(es){var et;et=S.ofSeq(bb.delay(function(){return bb.collect(function(eu){return[dv.New(eu[0],eu[1])];},bb.distinctBy(function(eu){return eu[0];},es));}));S.sortInPlace(et);return cA.Build(et,0,et.length-1);};da.New=function(es,et,eu,ev,ew){return{Node:es,Left:et,Right:eu,Height:ev,Count:ew};};db=L.IdAddress=ek.Class({},null,db);dc.CreateEmbedNode=function(){return{Current:null,Dirty:false};};dc.UpdateEmbedNode=function(es,et){es.Current=et;es.Dirty=true;};dc.CreateElemNode=function(es,et,eu){var ev;dc.LinkElement(es,eu);ev=di.Insert(es,et);return dl.New(ev,eu,null,es,bX.Int(),ek.GetOptional(ev.OnAfterRender));};dc.LinkElement=function(es,et){dc.InsertDoc(es,et,null);};dc.CreateRunState=function(es,et){return d3.New(d4.get_Empty(),dc.CreateElemNode(es,di.EmptyAttr(),et));};dc.PerformAnimatedUpdate=function(es,et,eu){var ev;return dL.get_UseAnimations()?(ev=null,cM.Delay(function(){var ew,ex,ey;ew=d4.FindAll(eu);ex=dc.ComputeChangeAnim(et,ew);ey=dc.ComputeEnterAnim(et,ew);return cM.Bind(dL.Play(dL.Append(ex,dc.ComputeExitAnim(et,ew))),function(){return cM.Bind(dc.SyncElemNodesNextFrame(es,et),function(){return cM.Bind(dL.Play(ey),function(){et.PreviousNodes=ew;return cM.Return(null);});});});})):dc.SyncElemNodesNextFrame(es,et);};dc.PerformSyncUpdate=function(es,et,eu){var ev;ev=d4.FindAll(eu);dc.SyncElemNode(es,et.Top);et.PreviousNodes=ev;};dc.CreateTextNode=function(){return{Text:dj.CreateText(""),Dirty:false,Value:""};};dc.UpdateTextNode=function(es,et){es.Value=et;es.Dirty=true;};dc.InsertDoc=function(es,et,eu){var ev;return et!=null&&et.$==1?dc.InsertNode(es,et.$0.El,eu):et!=null&&et.$==2?(ev=et.$0,(ev.Dirty=false,dc.InsertDoc(es,ev.Current,eu))):et==null?eu:et!=null&&et.$==4?dc.InsertNode(es,et.$0.Text,eu):et!=null&&et.$==5?dc.InsertNode(es,et.$0,eu):et!=null&&et.$==6?S.foldBack(function(ew,ex){return ew==null||ew.constructor===cJ?dc.InsertDoc(es,ew,ex):dc.InsertNode(es,ew,ex);},et.$0.Els,eu):dc.InsertDoc(es,et.$0,dc.InsertDoc(es,et.$1,eu));};dc.InsertBeforeDelim=function(es,et){var eu,ev;eu=es.parentNode;ev=self.document.createTextNode("");eu.insertBefore(ev,es);dc.LinkPrevElement(es,et);return ev;};dc.SyncElemNodesNextFrame=function(es,et){function eu(ev){a.requestAnimationFrame(function(){dc.SyncElemNode(es,et.Top);ev();});}return dM.BatchUpdatesEnabled()?cM.FromContinuations(function(ev,ew,ex){return eu.apply(null,[ev,ew,ex]);}):(dc.SyncElemNode(es,et.Top),cM.Return(null));};dc.ComputeExitAnim=function(es,et){return dL.Concat(S.map(function(eu){return di.GetExitAnim(eu.Attr);},d4.ToArray(d4.Except(et,d4.Filter(function(eu){return di.HasExitAnim(eu.Attr);},es.PreviousNodes)))));};dc.ComputeEnterAnim=function(es,et){return dL.Concat(S.map(function(eu){return di.GetEnterAnim(eu.Attr);},d4.ToArray(d4.Except(es.PreviousNodes,d4.Filter(function(eu){return di.HasEnterAnim(eu.Attr);},et)))));};dc.ComputeChangeAnim=function(es,et){var eu;function ev(ew){return di.HasChangeAnim(ew.Attr);}eu=function(ew){return d4.Filter(ev,ew);};return dL.Concat(S.map(function(ew){return di.GetChangeAnim(ew.Attr);},d4.ToArray(d4.Intersect(eu(es.PreviousNodes),eu(et)))));};dc.SyncElemNode=function(es,et){!es?dc.SyncElement(et):void 0;dc.Sync(et.Children);dc.AfterRender(et);};dc.InsertNode=function(es,et,eu){dj.InsertAt(es,eu,et);return et;};dc.LinkPrevElement=function(es,et){dc.InsertDoc(es.parentNode,et,es);};dc.SyncElement=function(es){function et(eu){function ev(ew){var ex,ey;return ew!=null&&ew.$==0?ev(ew.$0)||ev(ew.$1):ew!=null&&ew.$==2?(ex=ew.$0,ex.Dirty||ev(ex.Current)):ew!=null&&ew.$==6&&(ey=ew.$0,ey.Dirty||S.exists(et,ey.Holes));}return ev(eu.Children);}di.Sync(es.El,es.Attr);et(es)?dc.DoSyncElement(es):void 0;};dc.Sync=function(es){var et,eu;if(es!=null&&es.$==1)dc.SyncElemNode(false,es.$0);else if(es!=null&&es.$==2)dc.Sync(es.$0.Current);else if(es==null);else if(es!=null&&es.$==5);else if(es!=null&&es.$==4){et=es.$0;et.Dirty?(et.Text.nodeValue=et.Value,et.Dirty=false):void 0;}else if(es!=null&&es.$==6){eu=es.$0;S.iter(function(ev){dc.SyncElemNode(false,ev);},eu.Holes);S.iter(function(ev){di.Sync(ev[0],ev[1]);},eu.Attrs);dc.AfterRender(eu);}else{dc.Sync(es.$0);dc.Sync(es.$1);}};dc.AfterRender=function(es){var et;et=ek.GetOptional(es.Render);et!=null&&et.$==1?(et.$0(es.El),ek.SetOptional(es,"Render",null)):void 0;};dc.DoSyncElement=function(es){var et,eu,ev;function ew(ex,ey){var ez,eA;return ex!=null&&ex.$==1?ex.$0.El:ex!=null&&ex.$==2?(ez=ex.$0,ez.Dirty?(ez.Dirty=false,dc.InsertDoc(et,ez.Current,ey)):ew(ez.Current,ey)):ex==null?ey:ex!=null&&ex.$==4?ex.$0.Text:ex!=null&&ex.$==5?ex.$0:ex!=null&&ex.$==6?(eA=ex.$0,(eA.Dirty?eA.Dirty=false:void 0,S.foldBack(function(eB,eC){return eB==null||eB.constructor===cJ?ew(eB,eC):eB;},eA.Els,ey))):ew(ex.$0,ew(ex.$1,ey));}et=es.El;eh.Iter((eu=es.El,function(ex){dj.RemoveNode(eu,ex);}),eh.Except(eh.DocChildren(es),eh.Children(es.El,ek.GetOptional(es.Delimiters))));ew(es.Children,(ev=ek.GetOptional(es.Delimiters),ev!=null&&ev.$==1?ev.$0[1]:null));};dd.New=function(es,et){return{k:es,ct:et};};de.$cctor=function(){de.$cctor=a.ignore;de.noneCT=df.New(false,[]);de.scheduler=new dx.New();de.defCTS=[new dy.New()];de.Zero=cM.Return();de.GetCT=function(es){es.k({$:0,$0:es.ct});};};df.New=function(es,et){return{c:es,r:et};};dg=L.ConceptoPago=ek.Class({toString:function(){return this.$==2?this.$0:(function(es){return function(et){return es(W.p$7(et));};}(a.id))(this);}},null,dg);dh.extractNodes=function(es){var et,eu;function ev(ew,ex,ey,ez){var eA,eB,eC,eD,eE,eF;eA=dh.extractNodes(ey);eB=dh.extractNodes(ez);return(eA.$==0?(eD=eA.$0,!I.Equals(eD,null)&&eD.length===0)?(eC=eB,true):eB.$==0?(eE=eB.$0,!I.Equals(eE,null)&&eE.length===0)?(eC=eA,true):(eC=[eA,eB],false):(eC=[eA,eB],false):eB.$==0?(eF=eB.$0,!I.Equals(eF,null)&&eF.length===0)?(eC=eA,true):(eC=[eA,eB],false):(eC=[eA,eB],false))?eC:{$:1,$0:{$:0,$0:ew,$1:ex,$2:eC[0],$3:eC[1]}};}et=dh.horizontalSplit(es);return et!=null&&et.$==1?ev(false,et.$0[2],et.$0[0],et.$0[1]):(eu=dh.verticalSplit(es),eu!=null&&eu.$==1?ev(true,eu.$0[2],eu.$0[0],eu.$0[1]):{$:0,$0:dh.cleanSpaces(es)});};dh.createLayoutDefinitions=function(es,et){var eu,ev,ew,ex,ey,ez,eA,eB,eC,eD;return et.$==1?(eu=et.$0.$0,(ev=et.$0.$1,(ew=dh.createLayoutDefinitions(es+"_1",et.$0.$2),(ex=ew[0],(ey=ew[1],(ez=dh.createLayoutDefinitions(es+"_2",et.$0.$3),(eA=ez[0],(eB=ez[1],[es,S.ofSeq(bb.delay(function(){return bb.append([bi.concat(" ",by.ofArray([es,eu?"vertical":"horizontal",a.String(ev),ex,eA]))],bb.delay(function(){return bb.append(ey,bb.delay(function(){return eB;}));}));}))])))))))):(eC=et.$0,!I.Equals(eC,null)&&eC.length===0)?["___",[]]:(eD=et.$0,!I.Equals(eD,null)&&eD.length===1)?[S.get(et.$0,0),[]]:[es,[es+" div \"\" "+bi.concat(" ",et.$0)]];};dh.horizontalSplit=function(es){var et,eu,ev,ew,ex;function ey(ez,eA){var eB,eC,eD,eE;eB=j.REGEX$1("^ *--+([ ^v0-9]*)-* *$","",eA);return eB!=null&&eB.$==1?{$:1,$0:[[ez,(eC=(eD=bb.tryItem(1,eB.$0),eD==null?null:dh.extractMeasuresO(bi.Replace(bi.Replace(eD.$0,"^",""),"v","-"))),(eE=new dz({$:1,$0:5,$1:50,$2:95}),eC==null?eE:eC.$0))],eA.indexOf("-")]}:null;}et=(eu=bb.tryHead(bb.sortBy(function(ez){return ez[1];},bb.choose(function(ez){return ey(ez[0],ez[1]);},bb.indexed(es)))),eu==null?null:{$:1,$0:eu.$0[0]});return et==null?null:{$:1,$0:(ev=et.$0,(ew=ev[0],(ex=ev[1],[b4.array(es,null,{$:1,$0:ew-1}),b4.array(es,{$:1,$0:ew+1},null),ex])))};};dh.verticalSplit=function(es){var et,eu,ev,ew,ex,ey,ez,eA,eB,eC;function eD(eG,eH){var eI,eJ,eK;return(eJ=j.REGEX$1("^ *\\|+ *$","",eH),eJ!=null&&eJ.$==1&&(eK=eJ.$0,!I.Equals(eK,null)&&eK.length===1))?{$:1,$0:[eG,eH.indexOf("|")]}:null;}function eE(eG){return I.Equals(null,eG);}function eF(eG){return I.Equals(null,eG);}et=dh.transpose(es);eu=(ev=(ew=bb.tryHead(bb.sortBy(function(eG){return eG[1];},bb.choose(function(eG){return eD(eG[0],eG[1]);},bb.indexed(et)))),ew==null?null:{$:1,$0:ew.$0[0]}),ev==null?null:{$:1,$0:(ex=ev.$0,[dh.transpose(b4.array(et,null,{$:1,$0:ex-1})),dh.transpose(b4.array(et,{$:1,$0:ex+1},null))])});return eu==null?null:{$:1,$0:(ey=eu.$0,(ez=ey[0],(eA=ey[1],[S.filter(function(eG){return eE(dh.extractMeasuresO(eG));},ez),S.filter(function(eG){return eF(dh.extractMeasuresO(eG));},eA),(eB=bb.tryHead(bb.delay(function(){return bb.append(bb.choose(dh.extractMeasuresO,ez),bb.delay(function(){return bb.map(function(eG){return eG.$==0?eG.$1?new dz({$:0,$0:eG.$0,$1:false}):eG:eG;},bb.choose(dh.extractMeasuresO,eA));}));})),(eC=new dz({$:1,$0:5,$1:50,$2:95}),eB==null?eC:eB.$0))])))};};dh.cleanSpaces=function(es){return S.filter(function(et){var eu;return!(eu=(b5.Int())(et),eu!=null&&eu.$==1);},bi.SplitStrings(bi.concat(" ",es),[" "],1));};dh.extractMeasuresO=function(es){var et,eu,ev,ew,ex,ey,ez;et=bi.SplitChars(es,[" "],1);return!I.Equals(et,null)&&et.length===1&&(ev=(b5.Int())(S.get(et,0)),ev!=null&&ev.$==1&&(eu=ev.$0,true))?{$:1,$0:new dz({$:0,$0:el.abs(eu),$1:eu>=0})}:!I.Equals(et,null)&&et.length===3&&(ex=(b5.Int())(S.get(et,0)),ex!=null&&ex.$==1&&(ey=(b5.Int())(S.get(et,1)),ey!=null&&ey.$==1&&(ez=(b5.Int())(S.get(et,2)),ez!=null&&ez.$==1&&(ew=[ez.$0,ex.$0,ey.$0],true))))?{$:1,$0:new dz({$:1,$0:ew[1],$1:ew[2],$2:ew[0]})}:null;};dh.transpose=function(es){var et;et=bb.max(bb.map(function(eu){return eu.length;},es));return S.ofSeq(bb.delay(function(){return bb.map(function(eu){return S.ofSeq(bb.delay(function(){return bb.map(function(ev){return ev.length>eu?ev[eu]:" ";},es);})).join("");},o.range(0,et-1));}));};di.Static=function(es){return new cW({$:3,$0:es});};di.Dynamic=function(es,et){return new cW({$:1,$0:new dW.New(es,et)});};di.Insert=function(es,et){var eu,ev,ew;function ex(ey){if(!(ey===null))if(ey!=null&&ey.$==1)eu.push(ey.$0);else if(ey!=null&&ey.$==2){ex(ey.$0);ex(ey.$1);}else if(ey!=null&&ey.$==3)ey.$0(es);else if(ey!=null&&ey.$==4)ev.push(ey.$0);}eu=[];ev=[];ex(et);ew=eu.slice(0);return dJ.New(es,di.Flags(et),ew,ev.length===0?null:{$:1,$0:function(ey){bb.iter(function(ez){ez(ey);},ev);}});};di.EmptyAttr=function(){dX.$cctor();return dX.EmptyAttr;};di.Flags=function(es){return es!==null&&es.hasOwnProperty("flags")?es.flags:0;};di.AppendTree=function(es,et){var eu;return es===null?et:et===null?es:(eu=new cW({$:2,$0:es,$1:et}),(di.SetFlags(eu,di.Flags(es)|di.Flags(et)),eu));};di.Updates=function(es){return cL.MapTreeReduce(function(et){return et.NChanged();},p.Const(),p.Map2Unit,es.DynNodes);};di.Empty=function(es){return dJ.New(es,0,[],null);};di.SetFlags=function(es,et){es.flags=et;};di.HasExitAnim=function(es){var et;et=2;return(es.DynFlags&et)===et;};di.GetExitAnim=function(es){return di.GetAnim(es,function(et,eu){return et.NGetExitAnim(eu);});};di.HasEnterAnim=function(es){var et;et=1;return(es.DynFlags&et)===et;};di.GetEnterAnim=function(es){return di.GetAnim(es,function(et,eu){return et.NGetEnterAnim(eu);});};di.HasChangeAnim=function(es){var et;et=4;return(es.DynFlags&et)===et;};di.GetChangeAnim=function(es){return di.GetAnim(es,function(et,eu){return et.NGetChangeAnim(eu);});};di.GetAnim=function(es,et){return dL.Concat(S.map(function(eu){return et(eu,es.DynElem);},es.DynNodes));};di.Sync=function(es,et){S.iter(function(eu){eu.NSync(es);},et.DynNodes);};dj.SetStyle=function(es,et,eu){dj.SetProperty(es.style,et,eu);};dj.ChildrenArray=function(es){var et,eu,ev;et=[];for(eu=0,ev=es.childNodes.length-1;eu<=ev;eu++)et.push(es.childNodes[eu]);return et;};dj.CreateText=function(es){return dj.Doc().createTextNode(es);};dj.SetAttr=function(es,et,eu){es.setAttribute(et,eu);};dj.SetProperty=function(es,et,eu){return es.setProperty(et,eu);};dj.CreateElement=function(es){return dj.Doc().createElement(es);};dj.IterSelector=function(es,et,eu){var ev,ew,ex;ev=es.querySelectorAll(et);for(ew=0,ex=ev.length-1;ew<=ex;ew++)eu(ev[ew]);};dj.Doc=function(){d$.$cctor();return d$.Doc;};dj.RemoveAttr=function(es,et){es.removeAttribute(et);};dj.InsertAt=function(es,et,eu){var ev;if(!(eu.parentNode===es&&et===(ev=eu.nextSibling,I.Equals(ev,null)?null:ev)))es.insertBefore(eu,et);};dj.RemoveClass=function(es,et){var eu;dj.setClass(es,(eu=dj.clsRE(et),dj.getClass(es).replace(eu,function(ev,ew,ex){return ew===""||ex===""?"":" ";})));};dj.AddClass=function(es,et){var eu;eu=dj.getClass(es);eu===""?dj.setClass(es,et):!dj.clsRE(et).test(eu)?dj.setClass(es,eu+" "+et):void 0;};dj.setClass=function(es,et){if(es instanceof a.SVGElement)es.setAttribute("class",et);else es.className=et;};dj.getClass=function(es){return es instanceof a.SVGElement?es.getAttribute("class"):es.className;};dj.clsRE=function(es){return new a.RegExp("(\\s+|^)"+es+"(?:\\s+"+es+")*(\\s+|$)","g");};dj.RemoveNode=function(es,et){if(et.parentNode===es)es.removeChild(et);};bc.delayed=function(es,et){var eu;eu=[null];return function(ev){var ew,ex;ew=eu[0];ew==null?void 0:ew.$0.Cancel$1();eu[0]={$:1,$0:new dy.New()};cM.Start((ex=null,cM.Delay(function(){return cM.Bind(cM.Sleep(es),function(){et(ev);return cM.Zero();});})),{$:1,$0:eu[0].$0});};};bc.print=function(es){if(typeof es=="string")((function(et){return function(eu){return et(bw.toSafe(eu));};}(function(et){en.log(et);}))(es));else((function(et){return function(eu){return et(bw.prettyPrint(eu));};}(function(et){en.log(et);}))(es));};bc["String.Left"]=function(es,et){return et<0?bc["String.Substring2"](es,0,es.length+et):bc["String.Substring2"](es,0,et);};bc["String.Substring2"]=function(es,et,eu){var ev,ew;while(true){if(eu<=0)return"";else if(et<0){ev=et;et=0;eu=eu+ev;}else return et>=es.length?"":bi.Substring(es,et,(ew=es.length-et,I.Compare(eu,ew)===-1?eu:ew));}};dk=cU.WcSplitterT=ek.Class({connectedCallback:function(){var es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH;function eI(eQ){var eR,eS,eT,eU;eR=ez?["padding-left","padding-right","grid-column-gap"]:["padding-top","padding-bottom","grid-row-gap"];eS=a.parseFloat("0"+em(eQ.parentElement.parentElement).css(eR[0]));eT=a.parseFloat("0"+em(eQ.parentElement.parentElement).css(eR[1]));eC.Set(a.parseFloat("0"+em(eQ.parentElement.parentElement).css(eR[2])));eB[0]=eS+eT;eU=es.getBoundingClientRect();return ez?ey?[eU.width,eU.height]:[-eU.width,eU.height]:ey?[eU.height,eU.width]:[-eU.height,eU.width];}function eJ(eQ){return ez?eQ.clientX:eQ.clientY;}function eK(eQ){var eR,eS;eR=(eJ(eQ)-eF[0])*100/eA[0][0]+eE[0];ex.Set((eS=I.Compare(ev,eR)===1?ev:eR,I.Compare(ew,eS)===-1?ew:eS));}function eL(){if(eD[0]){eD[0]=false;self.removeEventListener("mousemove",eK,false);self.removeEventListener("mouseup",eL,false);}}function eM(eQ){var eR,eS;if(!eD[0]){eD[0]=true;eE[0]=ex.Get();eF[0]=eJ(eQ);eA[0]=(eR=(eS=eG[0],eS==null?null:{$:1,$0:eI(eS.$0)}),eR==null?[100,500]:eR.$0);self.addEventListener("mousemove",eK,false);self.addEventListener("mouseup",eL,false);eQ.preventDefault();}}function eN(eQ,eR,eS,eT){return[(eQ-eR-eS)*eT/100,(eQ-eR-eS)*(100-eT)/100];}function eO(eQ,eR){return(((((ek.Curried(function(eS,eT,eU,eV,eW){return eS(" "+eT.toFixed(2)+"px "+eU.toFixed(2)+"px ; "+bw.toSafe(eV)+" : "+eW.toFixed(2)+"px; ");},5))(a.id))(eQ))(eR))(ez?"height":"width"))(eA[0][1]);}function eP(){var eQ;eQ=eG[0];eQ==null?void 0:eA[0]=eI(eQ.$0);ex.Set(ex.Get());}if(!this.added){es=this;et=es.attachShadow({mode:"open"});eu=self.document.createElement("div");ev=es.hasAttribute("min")?a.parseFloat(es.getAttribute("min")):4;ew=es.hasAttribute("max")?a.parseFloat(es.getAttribute("max")):96;ex=i.Create$1(es.hasAttribute("value")?a.parseFloat(es.getAttribute("value")):50);ey=!es.hasAttribute("second");ez=es.hasAttribute("vertical");eA=[[0,0]];eB=[0];eC=i.Create$1(0);eD=[false];eE=[0];eF=[0];eG=[null];eH=(((((ez?cU.layoutVertical():cU.layoutHorizontal())(p.Map(function(eQ){var eR;eR=eN(eA[0][0],eC.Get(),eB[0],eQ);return eO.apply(null,eR);},ex.get_View())))(function(){dF.addResizeObserver(eP,es);eP();}))(function(eQ){eG[0]={$:1,$0:eQ};eP();}))(function(eQ){eM(eQ);}))(p.Map(function(eQ){return function(eR){return eQ(bw.prettyPrint(eR)+"px");};}(a.id),eC.get_View()));cZ.LoadLocalTemplates("");Z.Run(eu,eH);et.appendChild(eu.firstChild);this.added=true;}}},g,dk);dk.Constructor=function(){var es,et;es=(et=eq.construct(self.HTMLElement,[],this.__proto__.constructor),et);self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New.call(es);return es;};dk.New=ek.Ctor(function(){g.New.call(this);this.added=false;(function(es){return es("WcSplitterT initializer");}(function(es){en.log(es);}));},dk);dl=h.DocElemNode=ek.Class({Equals:function(es){return this.ElKey===es.ElKey;},GetHashCode:function(){return this.ElKey;}},null,dl);dl.New=function(es,et,eu,ev,ew,ex){var ey;return new dl((ey={Attr:es,Children:et,El:ev,ElKey:ew},(ek.SetOptional(ey,"Delimiters",eu),ek.SetOptional(ey,"Render",ex),ey)));};dn.$cctor=function(){dn.$cctor=a.ignore;dn.counter=0;};_do=ck.XhrProvider=ek.Class({Async:function(es,et,eu,ev,ew){ck.ajax(true,es,et,eu,ev,ew,function(){ck.ajax(true,es,et,eu,ev,ew,void 0);});}},g,_do);_do.New=ek.Ctor(function(){g.New.call(this);},_do);dp=cn.FSharpEvent=ek.Class({},g,dp);dp.New=ek.Ctor(function(){g.New.call(this);this.event=dQ.New([]);},dp);dq=bf.LinkedList=ek.Class({AddLast:function(es){var et;return this.c===0?(et={p:null,n:null,v:es},(this.n=et,this.p=this.n,this.c=1,et)):this.AddAfter(this.p,es);},GetEnumerator$1:function(){return new ed.New(this);},AddAfter:function(es,et){var eu,ev;eu=es.n;ev={p:es,n:eu,v:et};I.Equals(es.n,null)?this.p=ev:void 0;es.n=ev;!I.Equals(eu,null)?eu.p=ev:void 0;this.c=this.c+1;return ev;},RemoveFirst:function(){this.Remove$1(this.n);},Remove$1:function(es){var et,eu;et=es.p;eu=es.n;I.Equals(et,null)?this.n=eu:et.n=eu;I.Equals(eu,null)?this.p=et:eu.p=et;this.c=this.c-1;},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},g,dq);dq.New=ek.Ctor(function(){dq.New$1.call(this,[]);},dq);dq.New$1=ek.Ctor(function(es){var et,eu;g.New.call(this);this.c=0;this.n=null;this.p=null;et=cy.Get(es);et.MoveNext()?(this.n={p:null,n:null,v:et.Current()},this.p=this.n,this.c=1):void 0;while(et.MoveNext()){eu={p:this.p,n:null,v:et.Current()};this.p.n=eu;this.p=eu;this.c=this.c+1;}},dq);dr.New$1=function(es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC){return c2.newPojoOpt([b7.op_EqualsEqualsGreater("account",es),b7.op_EqualsEqualsGreater("authority",et),b7.op_EqualsEqualsGreater("claimsRequest",eu),b7.op_EqualsEqualsGreater("correlationId",ev),b7.op_EqualsEqualsGreater("extraQueryParameters",ew),b7.op_EqualsEqualsGreater("extraScopesToConsent",ex),b7.op_EqualsEqualsGreater("loginHint",ey),b7.op_EqualsEqualsGreater("prompt",ez),b7.op_EqualsEqualsGreater("scopes",eA),b7.op_EqualsEqualsGreater("sid",eB),b7.op_EqualsEqualsGreater("state",eC)]);};ds=b7.Account=ek.Class({},g,ds);dt.New$1=function(es,et){return{Parse:es,Write:et};};du.startsWith=function(es,et){var eu;switch(es.$==1?et.$==1?I.Equals(es.$0,et.$0)?(eu=[et.$0,et.$1,es.$0,es.$1],1):2:2:0){case 0:return{$:1,$0:et};case 1:return du.startsWith(eu[3],eu[1]);case 2:return null;}};dv=bf.Pair=ek.Class({Equals:function(es){return I.Equals(this.Key,es.Key);},GetHashCode:function(){return I.Hash(this.Key);},CompareTo0:function(es){return I.Compare(this.Key,es.Key);}},null,dv);dv.New=function(es,et){return new dv({Key:es,Value:et});};dw.Map=function(es,et){return et.$==1?{$:1,$0:et.$0}:{$:0,$0:es(et.$0)};};dx=cM.Scheduler=ek.Class({Fork:function(es){var et;et=this;this.robin.push(es);this.idle?(this.idle=false,a.setTimeout(function(){et.tick();},0)):void 0;},tick:function(){var es,et,eu;et=this;eu=eo.now();es=true;while(es)if(this.robin.length===0){this.idle=true;es=false;}else{(this.robin.shift())();eo.now()-eu>40?(a.setTimeout(function(){et.tick();},0),es=false):void 0;}}},g,dx);dx.New=ek.Ctor(function(){g.New.call(this);this.idle=true;this.robin=[];},dx);dy=f.CancellationTokenSource=ek.Class({Cancel$1:function(){var es;if(!this.c){this.c=true;es=S.choose(function(et){try{et();return null;}catch(eu){return{$:1,$0:eu};}},this.r);if(S.length(es)>0)throw new dY.New$3(es);else void 0;}}},g,dy);dy.New=ek.Ctor(function(){g.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},dy);j.REGEX$1=function(es,et,eu){var ev;return eu===null?null:(ev=(new a.String(eu)).match(new a.RegExp(es,et)),I.Equals(ev,null)?null:!I.Equals(ev,null)&&ev.length===0?null:{$:1,$0:ev});};dz=J.Measures=ek.Class({toString:function(){return this.$==1?((((ek.Curried(function(es,et,eu,ev){return es(a.String(et)+"-"+a.String(eu)+"-"+a.String(ev));},4))(a.id))(o.toInt(this.$0)))(o.toInt(this.$1)))(o.toInt(this.$2)):a.String(o.toInt(this.$1?this.$0:-this.$0));}},null,dz);dB=dA.Hoverable=ek.Class({Content:function(es){return es.on("mouseenter",function(){return dj.AddClass(es.elt,"hovering");}).on("mouseleave",function(){return dj.RemoveClass(es.elt,"hovering");});}},null,dB);dB.New$1=function(){return dB.New(i.Create$1(false));};dB.New=function(es){return new dB({hover:es});};dC.InMemory=function(es){return new dZ.New(es);};dF.addResizeObserver=function(es,et){var eu,ev,ew,ex;try{eu=!(!a.ResizeObserver);}catch(ey){eu=false;}if(eu){ev=new a.ResizeObserver(es);dF.set_observers(new cB({$:1,$0:ev,$1:dF.observers()}));ev.observe(et);}else{ew=dF.dimsChanged(et);cM.Start((ex=null,cM.Delay(function(){return cM.While(function(){return et.isConnected;},cM.Delay(function(){return cM.Bind(cM.Sleep(110),function(){return ew()?(es(),cM.Zero()):cM.Zero();});}));})),null);}};dF.set_observers=function(es){bL.$cctor();bL.observers=es;};dF.observers=function(){bL.$cctor();return bL.observers;};dF.dimsChanged=function(es){var et;et=[es.getBoundingClientRect()];return function(){var eu;eu=es.getBoundingClientRect();return I.Equals(dF.domRect2Tuple(et[0]),dF.domRect2Tuple(eu))?false:(et[0]=eu,true);};};dF.domRect2Tuple=function(es){return[es.top,es.left,es.width,es.height];};dG.$cctor=function(){dG.$cctor=a.ignore;dG.LoadedTemplates=new bS.New$5();dG.LocalTemplatesLoaded=false;dG.TextHoleRE="\\${([^}]+)}";};dH=h.Elt=ek.Class({on:function(es,et){var eu;eu=this;this.elt.addEventListener(es,function(ev){return et(eu.elt,ev);},false);return this;}},Z,dH);dH.TreeNode=function(es,et){var eu,ev;function ew(ex){return ex[1];}eu=d1.Create(et);return new dH.New$1({$:6,$0:es},p.Map2Unit((ev=S.map(function(ex){return di.Updates(ew(ex));},es.Attrs),cL.TreeReduce(p.Const(),p.Map2Unit,ev)),eu.v),S.get(es.Els,0),eu);};dH.New=function(es,et,eu){var ev,ew;ev=dc.CreateElemNode(es,et,eu.docNode);ew=d1.Create(eu.updates);return new dH.New$1({$:1,$0:ev},p.Map2Unit(di.Updates(ev.Attr),ew.v),es,ew);};dH.New$1=ek.Ctor(function(es,et,eu,ev){Z.New.call(this,es,et);this.docNode$1=es;this.updates$1=et;this.elt=eu;this.rvUpdates=ev;},dH);dJ.New=function(es,et,eu,ev){var ew;ew={DynElem:es,DynFlags:et,DynNodes:eu};ek.SetOptional(ew,"OnAfterRender",ev);return ew;};dK.convertTextNode=function(es){var et,eu,ev,ew,ex,ey;et=null;eu=0;ew=es.textContent;ex=new a.RegExp(cZ.TextHoleRE(),"g");while(et=ex.exec(ew),et!==null){es.parentNode.insertBefore(self.document.createTextNode(b4.string(ew,{$:1,$0:eu},{$:1,$0:ex.lastIndex-S.get(et,0).length-1})),es);eu=ex.lastIndex;ey=self.document.createElement("span");ey.setAttribute("ws-replace",S.get(et,1).toLowerCase());es.parentNode.insertBefore(ey,es);}ex.lastIndex=0;es.textContent=b4.string(ew,{$:1,$0:eu},null);};dK.failNotLoaded=function(es){en.warn("Instantiating non-loaded template",es);};dK.fillTextHole=function(es,et,eu){var ev;ev=es.querySelector("[ws-replace]");return I.Equals(ev,null)?(en.warn("Filling non-existent text hole",eu),null):(ev.parentNode.replaceChild(new a.Text(et),ev),{$:1,$0:ev.getAttribute("ws-replace")});};dK.removeHolesExcept=function(es,et){function eu(ev){dj.IterSelector(es,"["+ev+"]",function(ew){if(!et.Contains(ew.getAttribute(ev)))ew.removeAttribute(ev);});}eu("ws-attr");eu("ws-onafterrender");eu("ws-var");dj.IterSelector(es,"[ws-hole]",function(ev){if(!et.Contains(ev.getAttribute("ws-hole"))){ev.removeAttribute("ws-hole");while(ev.hasChildNodes())ev.removeChild(ev.lastChild);}});dj.IterSelector(es,"[ws-replace]",function(ev){if(!et.Contains(ev.getAttribute("ws-replace")))ev.parentNode.removeChild(ev);});dj.IterSelector(es,"[ws-on]",function(ev){ev.setAttribute("ws-on",bi.concat(" ",S.filter(function(ew){return et.Contains(S.get(bi.SplitChars(ew,[":"],1),1));},bi.SplitChars(ev.getAttribute("ws-on"),[" "],1))));});dj.IterSelector(es,"[ws-attr-holes]",function(ev){var ew,ex,ey,ez,eA;ew=bi.SplitChars(ev.getAttribute("ws-attr-holes"),[" "],1);for(ex=0,ey=ew.length-1;ex<=ey;ex++){ez=S.get(ew,ex);ev.setAttribute(ez,(eA=new a.RegExp(cZ.TextHoleRE(),"g"),ev.getAttribute(ez).replace(eA,function(eB,eC){return et.Contains(eC)?eB:"";})));}});};dK.fillInstanceAttrs=function(es,et){var eu,ev,ew,ex,ey;dK.convertAttrs(et);eu=et.nodeName.toLowerCase();ev=es.querySelector("[ws-attr="+eu+"]");if(I.Equals(ev,null))en.warn("Filling non-existent attr hole",eu);else{ev.removeAttribute("ws-attr");for(ew=0,ex=et.attributes.length-1;ew<=ex;ew++){ey=et.attributes.item(ew);ey.name==="class"&&ev.hasAttribute("class")?ev.setAttribute("class",ev.getAttribute("class")+" "+ey.nodeValue):ev.setAttribute(ey.name,ey.nodeValue);}}};dK.mapHoles=function(es,et){function eu(ev){dj.IterSelector(es,"["+ev+"]",function(ew){var ex,ey;ex=(ey=null,[et.TryGetValue(ew.getAttribute(ev).toLowerCase(),{get:function(){return ey;},set:function(ez){ey=ez;}}),ey]);ex[0]?ew.setAttribute(ev,ex[1]):void 0;});}eu("ws-hole");eu("ws-replace");eu("ws-attr");eu("ws-onafterrender");eu("ws-var");dj.IterSelector(es,"[ws-on]",function(ev){ev.setAttribute("ws-on",bi.concat(" ",S.map(function(ew){var ex,ey,ez;ex=bi.SplitChars(ew,[":"],1);ey=(ez=null,[et.TryGetValue(S.get(ex,1),{get:function(){return ez;},set:function(eA){ez=eA;}}),ez]);return ey[0]?S.get(ex,0)+":"+ey[1]:ew;},bi.SplitChars(ev.getAttribute("ws-on"),[" "],1))));});dj.IterSelector(es,"[ws-attr-holes]",function(ev){var ew,ex,ey;ew=bi.SplitChars(ev.getAttribute("ws-attr-holes"),[" "],1);for(ex=0,ey=ew.length-1;ex<=ey;ex++)(function(){var ez;function eA(eB,eC){var eD;eD=o.KeyValue(eC);return eB.replace(new a.RegExp("\\${"+eD[0]+"}","ig"),"${"+eD[1]+"}");}ez=S.get(ew,ex);return ev.setAttribute(ez,(((ek.Curried3(bb.fold))(eA))(ev.getAttribute(ez)))(et));}());});};dK.fill=function(es,et,eu){while(true)if(es.hasChildNodes())eu=et.insertBefore(es.lastChild,eu);else return null;};dK.convertAttrs=function(es){var eu,ev,ew,ex,ey,ez,eA,eB;function et(eC){var eD;eD=es.getAttribute(eC);eD===null?void 0:es.setAttribute(eC,eD.toLowerCase());}eu=es.attributes;ev=[];ew=[];ex=[];for(ey=0,ez=eu.length-1;ey<=ez;ey++){eA=eu.item(ey);bi.StartsWith(eA.nodeName,"ws-on")&&eA.nodeName!=="ws-onafterrender"&&eA.nodeName!=="ws-on"?(ev.push(eA.nodeName),ew.push(b4.string(eA.nodeName,{$:1,$0:"ws-on".length},null)+":"+eA.nodeValue.toLowerCase())):!bi.StartsWith(eA.nodeName,"ws-")&&(new a.RegExp(cZ.TextHoleRE())).test(eA.nodeValue)?(eA.nodeValue=(eB=new a.RegExp(cZ.TextHoleRE(),"g"),eA.nodeValue.replace(eB,function(eC,eD){return"${"+eD.toLowerCase()+"}";})),ex.push(eA.nodeName)):void 0;}!(ew.length==0)?es.setAttribute("ws-on",bi.concat(" ",ew)):void 0;!(ex.length==0)?es.setAttribute("ws-attr-holes",bi.concat(" ",ex)):void 0;et("ws-hole");et("ws-replace");et("ws-attr");et("ws-onafterrender");et("ws-var");S.iter(function(eC){es.removeAttribute(eC);},ev);};dL.get_UseAnimations=function(){return d5.UseAnimations();};dL.Play=function(es){var et;et=null;return cM.Delay(function(){return cM.Bind(dL.Run(a.ignore,d5.Actions(es)),function(){d5.Finalize(es);return cM.Return(null);});});};dL.Append=function(es,et){return{$:0,$0:ec.Append(es.$0,et.$0)};};dL.Run=function(es,et){var eu;function ev(ew){function ex(ey,ez){var eA;eA=ez-ey;et.Compute(eA);es();return eA<=eu?void a.requestAnimationFrame(function(eB){ex(ey,eB);}):ew();}a.requestAnimationFrame(function(ey){ex(ey,ey);});}eu=et.Duration;return eu===0?cM.Zero():cM.FromContinuations(function(ew,ex,ey){return ev.apply(null,[ew,ex,ey]);});};dL.Concat=function(es){return{$:0,$0:ec.Concat(bb.map(d5.List,es))};};dL.get_Empty=function(){return{$:0,$0:ec.Empty()};};dM.BatchUpdatesEnabled=function(){d6.$cctor();return d6.BatchUpdatesEnabled;};dN.StartProcessor=function(es){var et;function eu(){var ev;ev=null;return cM.Delay(function(){return cM.Bind(es,function(){var ew;ew=et[0];return ew===1?(et[0]=0,cM.Zero()):ew===2?(et[0]=1,eu()):cM.Zero();});});}et=[0];return function(){var ev;ev=et[0];ev===0?(et[0]=1,cM.Start(eu(),null)):ev===1?et[0]=2:void 0;};};dO.concat=function(es){var et,eu;et=[];for(var ev in es)et.push.apply(et,es[ev]);return et;};dQ=dP.Event=ek.Class({Trigger:function(es){var et,eu,ev;et=this.Handlers.slice();for(eu=0,ev=et.length-1;eu<=ev;eu++)(S.get(et,eu))(null,es);},Dispose:a.ignore},null,dQ);dQ.New=function(es){return new dQ({Handlers:es});};dR=G.NonStandardPromiseRejectionException=ek.Class({},c3,dR);dR.New=ek.Ctor(function(es){this.message="Promise rejected";cJ.setPrototypeOf(this,dR.prototype);this.reason=es;},dR);dS.$cctor=function(){dS.$cctor=a.ignore;function es(et){var eu,ev;eu=(ev=0,[bQ.TryParseInt32(et,{get:function(){return ev;},set:function(ew){ev=ew;}}),ev]);return eu[0]?{$:1,$0:eu[1]}:null;}dS.Empty=dt.New$1(function(){return[];},function(){return null;});dS.rRoot=dt.New(function(et){return[et];},[]);dS.rString=dt.New$1(function(et){var eu,ev;eu=et.Segments;return eu.$==1?(ev=d_.read(eu.$0),ev!=null&&ev.$==1?[[c9.New(eu.$1,et.QueryArgs,et.FormData,et.Method,et.Body),ev.$0]]:[]):[];},function(et){return{$:1,$0:[c9.Segment$2(et==null?"null":d_.write(et))]};});dS.rChar=dt.New$1(function(et){var eu,ev,ew;eu=et.Segments;return eu.$==1?(ev=d_.read(eu.$0),ev!=null&&ev.$==1&&(ev.$0.length===1&&(ew=ev.$0,true))?[[c9.New(eu.$1,et.QueryArgs,et.FormData,et.Method,et.Body),d7.Parse(ew)]]:[]):[];},function(et){return{$:1,$0:[c9.Segment$2(et)]};});dS.rGuid=dt.New$1(function(et){var eu,ev;eu=et.Segments;return eu.$==1?(ev=null,bs.TryParse(eu.$0,{get:function(){return ev;},set:function(ew){ev=ew;}})?[[c9.New(eu.$1,et.QueryArgs,et.FormData,et.Method,et.Body),ev]]:[]):[];},function(et){return{$:1,$0:[c9.Segment$2(a.String(et))]};});dS.rInt=dt.New$1(function(et){var eu,ev;eu=et.Segments;return eu.$==1?(ev=0,bQ.TryParseInt32(eu.$0,{get:function(){return ev;},set:function(ew){ev=ew;}})?[[c9.New(eu.$1,et.QueryArgs,et.FormData,et.Method,et.Body),ev]]:[]):[];},function(et){return{$:1,$0:[c9.Segment$2(a.String(et))]};});dS.rDouble=dt.New$1(function(et){var eu,ev,ew;eu=et.Segments;return eu.$==1?(ev=0,(ew=a.Number(eu.$0),a.isNaN(ew)?false:(ev=ew,true))?[[c9.New(eu.$1,et.QueryArgs,et.FormData,et.Method,et.Body),ev]]:[]):[];},function(et){return{$:1,$0:[c9.Segment$2(a.String(et))]};});dS.rSByte=dt.New$1(function(et){var eu,ev;eu=et.Segments;return eu.$==1?(ev=0,bQ.TryParseSByte(eu.$0,{get:function(){return ev;},set:function(ew){ev=ew;}})?[[c9.New(eu.$1,et.QueryArgs,et.FormData,et.Method,et.Body),ev]]:[]):[];},function(et){return{$:1,$0:[c9.Segment$2(a.String(et))]};});dS.rByte=dt.New$1(function(et){var eu,ev;eu=et.Segments;return eu.$==1?(ev=0,bQ.TryParseByte(eu.$0,{get:function(){return ev;},set:function(ew){ev=ew;}})?[[c9.New(eu.$1,et.QueryArgs,et.FormData,et.Method,et.Body),ev]]:[]):[];},function(et){return{$:1,$0:[c9.Segment$2(a.String(et))]};});dS.rInt16=dt.New$1(function(et){var eu,ev;eu=et.Segments;return eu.$==1?(ev=0,bQ.TryParseInt16(eu.$0,{get:function(){return ev;},set:function(ew){ev=ew;}})?[[c9.New(eu.$1,et.QueryArgs,et.FormData,et.Method,et.Body),ev]]:[]):[];},function(et){return{$:1,$0:[c9.Segment$2(a.String(et))]};});dS.rUInt16=dt.New$1(function(et){var eu,ev;eu=et.Segments;return eu.$==1?(ev=0,bQ.TryParseUInt16(eu.$0,{get:function(){return ev;},set:function(ew){ev=ew;}})?[[c9.New(eu.$1,et.QueryArgs,et.FormData,et.Method,et.Body),ev]]:[]):[];},function(et){return{$:1,$0:[c9.Segment$2(a.String(et))]};});dS.rUInt=dt.New$1(function(et){var eu,ev;eu=et.Segments;return eu.$==1?(ev=0,bQ.TryParseUInt32(eu.$0,{get:function(){return ev;},set:function(ew){ev=ew;}})?[[c9.New(eu.$1,et.QueryArgs,et.FormData,et.Method,et.Body),ev]]:[]):[];},function(et){return{$:1,$0:[c9.Segment$2(a.String(et))]};});dS.rInt64=dt.New$1(function(et){var eu,ev;eu=et.Segments;return eu.$==1?(ev=0,bQ.TryParseInt64(eu.$0,{get:function(){return ev;},set:function(ew){ev=ew;}})?[[c9.New(eu.$1,et.QueryArgs,et.FormData,et.Method,et.Body),ev]]:[]):[];},function(et){return{$:1,$0:[c9.Segment$2(a.String(et))]};});dS.rUInt64=dt.New$1(function(et){var eu,ev;eu=et.Segments;return eu.$==1?(ev=0,bQ.TryParseUInt64(eu.$0,{get:function(){return ev;},set:function(ew){ev=ew;}})?[[c9.New(eu.$1,et.QueryArgs,et.FormData,et.Method,et.Body),ev]]:[]):[];},function(et){return{$:1,$0:[c9.Segment$2(a.String(et))]};});dS.rSingle=dt.New$1(function(et){var eu,ev,ew;eu=et.Segments;return eu.$==1?(ev=0,(ew=a.Number(eu.$0),a.isNaN(ew)?false:(ev=ew,true))?[[c9.New(eu.$1,et.QueryArgs,et.FormData,et.Method,et.Body),ev]]:[]):[];},function(et){return{$:1,$0:[c9.Segment$2(a.String(et))]};});dS.rBool=dt.New$1(function(et){var eu,ev,ew;eu=et.Segments;return eu.$==1?(ev=(ew=null,[bQ.TryParseBool(eu.$0,{get:function(){return ew;},set:function(ex){ew=ex;}}),ew]),ev[0]?[[c9.New(eu.$1,et.QueryArgs,et.FormData,et.Method,et.Body),ev[1]]]:[]):[];},function(et){return{$:1,$0:[c9.Segment$2(et?"True":"False")]};});dS.rWildcard=dt.New$1(function(et){return[[c9.New(cB.Empty,et.QueryArgs,et.FormData,et.Method,et.Body),bi.concat("/",et.Segments)]];},function(et){return{$:1,$0:[c9.Segment$2(et)]};});dS.rDateTime=dt.New$1(function(et){var eu,ev,ew,ex,ey,ez,eA,eB,eC;eu=et.Segments;return eu.$==1?(ev=eu.$0,ev.length===19&&ev[4]==="-"&&ev[7]==="-"&&ev[10]==="-"&&ev[13]==="."&&ev[16]==="."?(ew=es(b4.string(ev,{$:1,$0:0},{$:1,$0:3})),(ex=es(b4.string(ev,{$:1,$0:5},{$:1,$0:6})),(ey=es(b4.string(ev,{$:1,$0:8},{$:1,$0:9})),(ez=es(b4.string(ev,{$:1,$0:11},{$:1,$0:12})),(eA=es(b4.string(ev,{$:1,$0:14},{$:1,$0:15})),(eB=es(b4.string(ev,{$:1,$0:17},{$:1,$0:18})),ew!=null&&ew.$==1&&(ex!=null&&ex.$==1&&(ey!=null&&ey.$==1&&(ez!=null&&ez.$==1&&(eA!=null&&eA.$==1&&(eB!=null&&eB.$==1&&(eC=[ey.$0,ez.$0,ex.$0,eA.$0,eB.$0,ew.$0],true))))))?[[c9.New(eu.$1,et.QueryArgs,et.FormData,et.Method,et.Body),(new eo(eC[5],eC[2]-1,eC[0],eC[1],eC[3],eC[4])).getTime()]]:[])))))):[]):[];},function(et){var eu,ev;function ew(ex){var ey;ey=a.String(ex);return ey.length===1?"0"+ey:ey;}return{$:1,$0:[c9.Segment$2((eu=a.String((new eo(et)).getFullYear()),(ev=eu.length,ev===1?"000"+eu:ev===2?"00"+eu:ev===3?"0"+eu:eu))+"-"+ew((new eo(et)).getMonth()+1)+"-"+ew((new eo(et)).getDate())+"-"+ew((new eo(et)).getHours())+"."+ew((new eo(et)).getMinutes())+"."+ew((new eo(et)).getSeconds()))]};});};dT.OfArray=function(es){return new cx.New$1(cA.OfSeq(bb.map(function(et){return dv.New(et[0],et[1]);},es)));};dT.FoldBack=function(es,et,eu){return bb.fold(function(ev,ew){return es(ew.Key,ew.Value,ev);},eu,cA.Enumerate(true,et.get_Tree()));};dT.ToSeq=function(es){return bb.map(function(et){return[et.Key,et.Value];},cA.Enumerate(false,es.get_Tree()));};dU=f.OperationCanceledException=ek.Class({},c3,dU);dU.New=ek.Ctor(function(es){dU.New$1.call(this,"The operation was canceled.",null,es);},dU);dU.New$1=ek.Ctor(function(es,et,eu){this.message=es;this.inner=et;cJ.setPrototypeOf(this,dU.prototype);this.ct=eu;},dU);dV.Clear=function(es){es.splice(0,S.length(es));};dW=h.DynamicAttrNode=ek.Class({NChanged:function(){return this.updates;},NGetExitAnim:function(es){return dL.get_Empty();},NGetEnterAnim:function(es){return dL.get_Empty();},NGetChangeAnim:function(es){return dL.get_Empty();},NSync:function(es){if(this.dirty){(this.push(es))(this.value);this.dirty=false;}}},g,dW);dW.New=ek.Ctor(function(es,et){var eu;eu=this;g.New.call(this);this.push=et;this.value=void 0;this.dirty=false;this.updates=p.Map(function(ev){eu.value=ev;eu.dirty=true;},es);},dW);dX.$cctor=function(){dX.$cctor=a.ignore;dX.EmptyAttr=null;};dY=f.AggregateException=ek.Class({},c3,dY);dY.New$3=ek.Ctor(function(es){dY.New$4.call(this,"One or more errors occurred.",es);},dY);dY.New$4=ek.Ctor(function(es,et){this.message=es;cJ.setPrototypeOf(this,dY.prototype);this.innerExceptions=et;},dY);dZ=dC.ArrayStorage=ek.Class({SSetAt:function(es,et,eu){S.set(eu,es,et);return eu;},SAppend:function(es,et){et.push(es);return et;}},g,dZ);dZ.New=ek.Ctor(function(es){g.New.call(this);this.init=es;},dZ);bb.enumUsing=function(es,et){return{GetEnumerator:function(){var eu;try{eu=cy.Get(et(es));}catch(ev){es.Dispose();throw ev;}return new cz.New(null,null,function(ew){return eu.MoveNext()&&(ew.c=eu.Current(),true);},function(){eu.Dispose();es.Dispose();});}};};bb.enumWhile=function(es,et){return{GetEnumerator:function(){return new cz.New(null,null,function(eu){var ev;while(true){ev=eu.s;if(I.Equals(ev,null)){if(es()){eu.s=cy.Get(et);eu=eu;}else return false;}else if(ev.MoveNext()){eu.c=ev.Current();return true;}else{ev.Dispose();eu.s=null;eu=eu;}}},function(eu){var ev;ev=eu.s;!I.Equals(ev,null)?ev.Dispose():void 0;});}};};d0=bf.KeyCollection=ek.Class({GetEnumerator$1:function(){return cy.Get(bb.map(function(es){return es.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},g,d0);d0.New=ek.Ctor(function(es){g.New.call(this);this.d=es;},d0);d1=h.Updates=ek.Class({},null,d1);d1.Create=function(es){var et;et=null;et=d1.New(es,null,function(){var eu;eu=et.s;return eu===null?(eu=_4.Copy(et.c()),et.s=eu,_4.WhenObsoleteRun(eu,function(){et.s=null;}),eu):eu;});return et;};d1.New=function(es,et,eu){return new d1({c:es,s:et,v:eu});};d3.New=function(es,et){return{PreviousNodes:es,Top:et};};d4.get_Empty=function(){return{$:0,$0:new bT.New$3()};};d4.FindAll=function(es){var et;function eu(ew){if(ew!=null&&ew.$==0){eu(ew.$0);eu(ew.$1);}else if(ew!=null&&ew.$==1)ev(ew.$0);else if(ew!=null&&ew.$==2)eu(ew.$0.Current);else if(ew!=null&&ew.$==6)S.iter(ev,ew.$0.Holes);}function ev(ew){et.push(ew);eu(ew.Children);}et=[];eu(es);return{$:0,$0:new bT.New$2(et)};};d4.Filter=function(es,et){return{$:0,$0:eg.Filter(es,et.$0)};};d4.Except=function(es,et){return{$:0,$0:eg.Except(es.$0,et.$0)};};d4.ToArray=function(es){return eg.ToArray(es.$0);};d4.Intersect=function(es,et){return{$:0,$0:eg.Intersect(es.$0,et.$0)};};d5.UseAnimations=function(){eb.$cctor();return eb.UseAnimations;};d5.Actions=function(es){return d5.ConcatActions(S.choose(function(et){return et.$==1?{$:1,$0:et.$0}:null;},ec.ToArray(es.$0)));};d5.Finalize=function(es){S.iter(function(et){if(et.$==0)et.$0();},ec.ToArray(es.$0));};d5.ConcatActions=function(es){var et,eu,ev,ew;et=cL.ofSeqNonCopying(es);eu=S.length(et);return eu===0?d5.Const():eu===1?S.get(et,0):(ev=bb.max(bb.map(function(ex){return ex.Duration;},et)),(ew=S.map(function(ex){return d5.Prolong(ev,ex);},et),d5.Def(ev,function(ex){S.iter(function(ey){ey.Compute(ex);},ew);})));};d5.List=function(es){return es.$0;};d5.Const=function(es){return d5.Def(0,function(){return es;});};d5.Def=function(es,et){return{Compute:et,Duration:es};};d5.Prolong=function(es,et){var eu,ev,ew;eu=et.Compute;ev=et.Duration;ew=r.Create(function(){return et.Compute(et.Duration);});return{Compute:function(ex){return ex>=ev?ew.f():eu(ex);},Duration:es};};d6.$cctor=function(){d6.$cctor=a.ignore;d6.BatchUpdatesEnabled=true;};d7.IsUpper=function(es){return es>="A"&&es<="Z";};d7.Parse=function(es){return es.length===1?es:o.FailWith("String must be exactly one character long.");};d7.IsWhiteSpace=function(es){return es.match(new a.RegExp("\\s"))!==null;};d8.Activate=function(es){var et,ev,ew,ex,ey,ez,eA;function eu(eB){var eC,eD,eE,eF,eG;if(I.Equals(eB,null))return eB;else if(typeof eB=="object"){if(eB instanceof a.Array)return d8.shallowMap(eu,eB);else{eC=d8.shallowMap(eu,eB.$V);eD=eB.$T;if(eD===void 0)return eC;else{eE=S.get(ev,eD);if(eE===1)return by.ofArray(eC);else if(eE===2)return self.WebSharper.Decimal.CreateDecimalBits(eC);else{eF=new(S.get(ev,eD))();for(var eH in eC)if(function(eI){eF[eI]=eC[eI];return false;}(eH))break;return eF;}}}}else return eB;}ev=es?es.$TYPES:void 0;if(ev===void 0)et=es;else{for(ew=0,ex=S.length(ev)-1;ew<=ex;ew++){eA=S.get(ev,ew);switch(!I.Equals(eA,null)&&eA.length===3?S.get(eA,0)==="WebSharper"?S.get(eA,1)==="List"?S.get(eA,2)==="T"?0:(ez=eA,2):(ez=eA,2):(ez=eA,2):!I.Equals(eA,null)&&eA.length===2?S.get(eA,0)==="WebSharper"?S.get(eA,1)==="Decimal"?1:(ez=eA,2):(ez=eA,2):(ez=eA,2)){case 0:ey=1;break;case 1:ey=2;break;case 2:ey=d8.lookup(ez);break;}S.set(ev,ew,ey);}et=es.$DATA;}return eu(et);};d8.shallowMap=function(es,et){var eu,ev;if(et instanceof a.Array)return S.map(es,et);else if(typeof et=="object"){eu={};for(var ew in et)if(function(ex){eu[ex]=es(et[ex]);return false;}(ew))break;return eu;}else return et;};d8.lookup=function(es){var et,eu,ev,ew,ex;ev=S.length(es);et=self;eu=0;while(eu<ev){ew=S.get(es,eu);ex=et[ew];!I.Equals(typeof ex,void 0)?(et=ex,eu=eu+1):o.FailWith("Invalid server reply. Failed to find type: "+ew);}return et;};d9=f.FormatException=ek.Class({},c3,d9);d9.New$1=ek.Ctor(function(es){this.message=es;cJ.setPrototypeOf(this,d9.prototype);},d9);dt.New=function(es,et){return{Parse:es,Segment:et};};d_.read=function(es){var et;et=[];return function(eu){var ev;while(true){ev=d_.readEscapedFromChars(eu);if(ev[0]===-2)return null;else if(ev[0]===-1)return{$:1,$0:(function(ew){return function(ex){return bi.concat(ew,ex);};}(""))(et)};else{et.push(er.fromCharCode(ev[0]));eu=ev[1];}}}(by.ofSeq(bb.map(function(eu){return eu.charCodeAt();},es)));};d_.write=function(es){return bi.concat("",bb.mapi(function(et,eu){return d_.writeEscapedAsString(et+1===es.length,eu);},es));};d_.readEscapedFromChars=function(es){var et,eu,ev,ew,ex,ey,ez,eA;function eB(){var eD,eE;return et.$==1?(eD=et.$1,(eE=et.$0,(et=eD,eE))):-1;}function eC(eD){return eD>="0".charCodeAt()&&eD<="9".charCodeAt()?eD-"0".charCodeAt():eD>="a".charCodeAt()&&eD<="f".charCodeAt()?eD-"a".charCodeAt()+10:eD>="A".charCodeAt()&&eD<="F".charCodeAt()?eD-"A".charCodeAt()+10:-2;}et=es;return[(eu=eB(),eu==="~".charCodeAt()?(ev=eB(),ev==="u".charCodeAt()?(ew=eB(),(ex=eB(),(ey=eB(),(ez=eB(),ew>=0&&ex>=0&&ey>=0&&ez>=0?d_.op_PlusPlus(d_.op_PlusPlus(d_.op_PlusPlus(eC(ew),eC(ex)),eC(ey)),eC(ez)):-2)))):(eA=eB(),ev>=0&&eA>=0?d_.op_PlusPlus(eC(ev),eC(eA)):-2)):eu),et];};d_.writeEscapedAsString=function(es,et){var eu;eu=et.charCodeAt();return d_.isUnreserved(es,et)?et:eu<256?"~"+bi.PadLeftWith(eu.toString(16),2,"0"):"~u"+bi.PadLeftWith(eu.toString(16),4,"0");};d_.op_PlusPlus=function(es,et){return(es<<4)+et;};d_.isUnreserved=function(es,et){return et==="-"||(et==="."?!es:et==="_"||(et>="A"&&et<="Z"||(et>="a"&&et<="z"||et>="0"&&et<="9")));};bQ.TryParseSByte=function(es,et){return bQ.TryParse(es,-128,127,et);};bQ.TryParseByte=function(es,et){return bQ.TryParse(es,0,255,et);};bQ.TryParseInt16=function(es,et){return bQ.TryParse(es,-32768,32767,et);};bQ.TryParseUInt16=function(es,et){return bQ.TryParse(es,0,65535,et);};bQ.TryParseUInt32=function(es,et){return bQ.TryParse(es,0,4294967295,et);};bQ.TryParseUInt64=function(es,et){return bQ.TryParse(es,0,18446744073709551615,et);};d$.$cctor=function(){d$.$cctor=a.ignore;d$.Doc=self.document;};ea.isBlank=function(es){return bi.forall(d7.IsWhiteSpace,es);};eb.$cctor=function(){eb.$cctor=a.ignore;eb.CubicInOut=ef.Custom(function(es){var et;et=es*es;return 3*et-2*(et*es);});eb.UseAnimations=true;};ec.Append=function(es,et){return es.$==0?et:et.$==0?es:{$:2,$0:es,$1:et};};ec.ToArray=function(es){var et;function eu(ev){if(ev.$==1)et.push(ev.$0);else if(ev.$==2){eu(ev.$0);eu(ev.$1);}else if(ev.$==3)S.iter(function(ew){et.push(ew);},ev.$0);}et=[];eu(es);return et.slice(0);};ec.Concat=function(es){var et;et=cL.ofSeqNonCopying(es);return cL.TreeReduce(ec.Empty(),ec.Append,et);};ec.Empty=function(){ei.$cctor();return ei.Empty;};ed=bf.LinkedListEnumerator=ek.Class({MoveNext:function(){this.c=this.c.n;return!I.Equals(this.c,null);},Current:function(){return this.c.v;},Dispose:a.ignore},g,ed);ed.New=ek.Ctor(function(es){g.New.call(this);this.c=es;},ed);ee.WriteLink=function(es,et){var eu;eu=et.get_IsEmpty()?"":"?"+ee.WriteQuery(et);return"/"+ee.Concat(es)+eu;};ee.Concat=function(es){var et,eu;et=[];eu=true;by.iter(function(ev){if(!bi.IsNullOrEmpty(ev)){eu?eu=false:et.push("/");et.push(ev);}},es);return bi.Join("",S.ofSeq(et));};ee.WriteQuery=function(es){function et(eu,ev){return eu+"="+ev;}return bi.concat("&",bb.map(function(eu){return et(eu[0],eu[1]);},dT.ToSeq(es)));};ef=h.Easing=ek.Class({},g,ef);ef.Custom=function(es){return new ef.New(es);};ef.New=ek.Ctor(function(es){g.New.call(this);this.transformTime=es;},ef);eg.Filter=function(es,et){return new bT.New$2(S.filter(es,eg.ToArray(et)));};eg.Except=function(es,et){var eu;eu=new bT.New$2(eg.ToArray(et));eu.ExceptWith(eg.ToArray(es));return eu;};eg.ToArray=function(es){var et;et=S.create(es.get_Count(),void 0);es.CopyTo(et);return et;};eg.Intersect=function(es,et){var eu;eu=new bT.New$2(eg.ToArray(es));eu.IntersectWith(eg.ToArray(et));return eu;};eh.Children=function(es,et){var eu,ev,ew;if(et!=null&&et.$==1){ew=[];eu=et.$0[0].nextSibling;while(eu!==et.$0[1]){ew.push(eu);eu=eu.nextSibling;}return{$:0,$0:ew};}else return{$:0,$0:S.init(es.childNodes.length,(ev=es.childNodes,function(ex){return ev[ex];}))};};eh.Except=function(es,et){var eu;eu=es.$0;return{$:0,$0:S.filter(function(ev){return S.forall(function(ew){return!(ev===ew);},eu);},et.$0)};};eh.Iter=function(es,et){S.iter(es,et.$0);};eh.DocChildren=function(es){var et;function eu(ev){if(ev!=null&&ev.$==2)eu(ev.$0.Current);else if(ev!=null&&ev.$==1)et.push(ev.$0.El);else if(ev==null);else if(ev!=null&&ev.$==5)et.push(ev.$0);else if(ev!=null&&ev.$==4)et.push(ev.$0.Text);else if(ev!=null&&ev.$==6)S.iter(function(ew){if(ew==null||ew.constructor===cJ)eu(ew);else et.push(ew);},ev.$0.Els);else{eu(ev.$0);eu(ev.$1);}}et=[];eu(es.Children);return{$:0,$0:cL.ofSeqNonCopying(et)};};ei.$cctor=function(){ei.$cctor=a.ignore;ei.Empty={$:0};};ek.OnLoad(function(){e.mainProgram();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
//# sourceMappingURL=ProzperServer.min.map
