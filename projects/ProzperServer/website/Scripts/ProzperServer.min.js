function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
var JSON;JSON||(JSON={}),function(){"use strict";function i(n){return n<10?"0"+n:n}function f(n){return o.lastIndex=0,o.test(n)?'"'+n.replace(o,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function r(i,e){var s,l,h,a,v=n,c,o=e[i];o&&typeof o=="object"&&typeof o.toJSON=="function"&&(o=o.toJSON(i));typeof t=="function"&&(o=t.call(e,i,o));switch(typeof o){case"string":return f(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(n+=u,c=[],Object.prototype.toString.apply(o)==="[object Array]"){for(a=o.length,s=0;s<a;s+=1)c[s]=r(s,o)||"null";return h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+v+"]":"["+c.join(",")+"]",n=v,h}if(t&&typeof t=="object")for(a=t.length,s=0;s<a;s+=1)typeof t[s]=="string"&&(l=t[s],h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));else for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));return h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+v+"}":"{"+c.join(",")+"}",n=v,h}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,u,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(n="",u="",typeof e=="number")for(o=0;o<e;o+=1)u+=" ";else typeof e=="string"&&(u=e);if(t=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return r("",{"":i})});typeof JSON.parse!="function"&&(JSON.parse=function(n,t){function r(n,i){var f,e,u=n[i];if(u&&typeof u=="object")for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&(e=r(u,f),e!==undefined?u[f]=e:delete u[f]);return t.call(n,i,u)}var i;if(n=String(n),e.lastIndex=0,e.test(n)&&(n=n.replace(e,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?r({"":i},""):i;throw new SyntaxError("JSON.parse");})}();
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez;a=self;b=a.FsRoot=a.FsRoot||{};c=b.ProzperServer=b.ProzperServer||{};d=c.ClientSide=c.ClientSide||{};e=d.MainProgram=d.MainProgram||{};f=a.WebSharper=a.WebSharper||{};g=f.Obj=f.Obj||{};h=f.UI=f.UI||{};i=h.Var$1=h.Var$1||{};j=b.LibraryJS=b.LibraryJS||{};k=j.AppFramework=j.AppFramework||{};l=k.PlugIn=k.PlugIn||{};m=d.ModeloUI=d.ModeloUI||{};n=m.Aliado=m.Aliado||{};o=f.Operators=f.Operators||{};p=h.View=h.View||{};q=h.Var=h.Var||{};r=f.Lazy=f.Lazy||{};s=m.RenderAliados=m.RenderAliados||{};t=m.RenderAliado=m.RenderAliado||{};u=m.FormaRegistro=m.FormaRegistro||{};v=m.FormaDatos=m.FormaDatos||{};w=m.FormaContactos=m.FormaContactos||{};x=m.FormaFormasPago=m.FormaFormasPago||{};y=m.ReporteConsolidado=m.ReporteConsolidado||{};z=m.TablaPagos=m.TablaPagos||{};A=m.ListaDocs=m.ListaDocs||{};B=m.FormaAutorizacion=m.FormaAutorizacion||{};C=m.FormaContrato=m.FormaContrato||{};D=m.Transacciones=m.Transacciones||{};E=m.Pendientes=m.Pendientes||{};F=a.EventTarget;G=a.Node;H=f.JavaScript=f.JavaScript||{};I=H.JS=H.JS||{};J=f.Unchecked=f.Unchecked||{};K=j.LayoutEngineModule=j.LayoutEngineModule||{};L=f.Option=f.Option||{};M=c.TypesV0=c.TypesV0||{};N=M.Aliado=M.Aliado||{};O=c.Aliado=c.Aliado||{};P=h.Templating=h.Templating||{};Q=P.Runtime=P.Runtime||{};R=Q.Server=Q.Server||{};S=R.TemplateInstance=R.TemplateInstance||{};T=f.Arrays=f.Arrays||{};U=R.ProviderBuilder=R.ProviderBuilder||{};V=R.Handler=R.Handler||{};W=a.ProzperServer_Templates=a.ProzperServer_Templates||{};X=a.ProzperServer_GeneratedPrintf=a.ProzperServer_GeneratedPrintf||{};Y=a.ProzperServer_Router=a.ProzperServer_Router||{};Z=a.GeneratedPrintf=a.GeneratedPrintf||{};_0=h.Doc=h.Doc||{};_1=m.Rpc=m.Rpc||{};_2=M.IdAliado=M.IdAliado||{};_3=M.Modelo=M.Modelo||{};_4=h.ConcreteVar=h.ConcreteVar||{};_5=h.Snap=h.Snap||{};_6=a.StartupCode$ProzperServer$ProzperServer=a.StartupCode$ProzperServer$ProzperServer||{};_7=h.ListModel=h.ListModel||{};_8=k.PlugInVar=k.PlugInVar||{};_9=k.PlugInView=k.PlugInView||{};_=k.PlugInDoc=k.PlugInDoc||{};$=H.Pervasives=H.Pervasives||{};ba=f.LazyExtensionsProxy=f.LazyExtensionsProxy||{};bb=ba.LazyRecord=ba.LazyRecord||{};bc=f.Seq=f.Seq||{};bd=b.Library=b.Library||{};be=bd.SortWith=bd.SortWith||{};bf=O.Buscar=O.Buscar||{};bg=f.Collections=f.Collections||{};bh=bg.FSharpSet=bg.FSharpSet||{};bi=bg.Set=bg.Set||{};bj=f.Strings=f.Strings||{};bk=M.CorreoElectronico=M.CorreoElectronico||{};bl=m.DatosPersonales=m.DatosPersonales||{};bm=m.CorreoElectronico=m.CorreoElectronico||{};bn=m.Telefono=m.Telefono||{};bo=m.Direccion=m.Direccion||{};bp=bd.Monads=bd.Monads||{};bq=bp.AsyncResultBuilder=bp.AsyncResultBuilder||{};br=m.Refresh=m.Refresh||{};bs=a.System=a.System||{};bt=bs.Guid=bs.Guid||{};bu=y.Fila=y.Fila||{};bv=m.VariousUI=m.VariousUI||{};bw=h.HtmlModule=h.HtmlModule||{};bx=bw.attr=bw.attr||{};by=M.StatusAliado=M.StatusAliado||{};bz=f.Utils=f.Utils||{};bA=j.Date=j.Date||{};bB=f.List=f.List||{};bC=M.CuentaBancaria=M.CuentaBancaria||{};bD=M.RoutingNumber=M.RoutingNumber||{};bE=M.NumeroCuenta=M.NumeroCuenta||{};bF=M.FormaPago=M.FormaPago||{};bG=bp.Result=bp.Result||{};bH=M.Archivo=M.Archivo||{};bI=bp.Extensions=bp.Extensions||{};bJ=j.ListModel=j.ListModel||{};bK=bd.String=bd.String||{};bL=M.TipoArchivo=M.TipoArchivo||{};bM=M.StatusArchivo=M.StatusArchivo||{};bN=a.Blob;bO=M.CuentaPago=M.CuentaPago||{};bP=m.FormaFirma=m.FormaFirma||{};bQ=M.PremisasCalculo=M.PremisasCalculo||{};bR=c.Rpc=c.Rpc||{};bS=f.Remoting=f.Remoting||{};bT=bS.AjaxRemotingProvider=bS.AjaxRemotingProvider||{};bU=k.PlugInAction=k.PlugInAction||{};bV=d.Msal=d.Msal||{};bW=a.WindowOrWorkerGlobalScope;bX=j.LayoutEngine=j.LayoutEngine||{};bY=a.StartupCode$LayoutEngine$LayoutEngine=a.StartupCode$LayoutEngine$LayoutEngine||{};bZ=M.IdForAuthorize=M.IdForAuthorize||{};b0=M.DatosPersonales=M.DatosPersonales||{};b1=M.DiaPago=M.DiaPago||{};b2=M.TipoAliado=M.TipoAliado||{};b3=f.Numeric=f.Numeric||{};b4=bg.List=bg.List||{};b5=bg.Dictionary=bg.Dictionary||{};b6=bg.HashSet=bg.HashSet||{};b7=Q.Client=Q.Client||{};b8=h.Abbrev=h.Abbrev||{};b9=b8.Async=b8.Async||{};b_=b8.Fresh=b8.Fresh||{};b$=bG.Builder=bG.Builder||{};ca=bG.BuilderP=bG.BuilderP||{};cb=bp.Eff=bp.Eff||{};cc=cb.EffBuilder=cb.EffBuilder||{};cd=bp.AsyncResultBuilderP=bp.AsyncResultBuilderP||{};ce=f.Slice=f.Slice||{};cf=bd.ParseO=bd.ParseO||{};cg=bd.Serializer=bd.Serializer||{};ch=j.Msal=j.Msal||{};ci=ch.Policy=ch.Policy||{};cj=M.Telefono=M.Telefono||{};ck=M.TipoTelefono=M.TipoTelefono||{};cl=M.Direccion=M.Direccion||{};cm=M.TipoDireccion=M.TipoDireccion||{};cn=M.Estado=M.Estado||{};co=M.Pais=M.Pais||{};cp=M.ZonaPostal=M.ZonaPostal||{};cq=M.TarjetaCredito=M.TarjetaCredito||{};cr=M.Expiracion=M.Expiracion||{};cs=M.NumeroTarjeta=M.NumeroTarjeta||{};ct=M.TipoTarjeta=M.TipoTarjeta||{};cu=M.TipoCuenta=M.TipoCuenta||{};cv=M.Genero=M.Genero||{};cw=ch.Configuration=ch.Configuration||{};cx=ch.AuthOptions=ch.AuthOptions||{};cy=f.Control=f.Control||{};cz=cy.MailboxProcessor=cy.MailboxProcessor||{};cA=bd.Mailbox=bd.Mailbox||{};cB=m.EndPoint=m.EndPoint||{};cC=h.Router=h.Router||{};cD=h.ViewBuilder=h.ViewBuilder||{};cE=c.Remoting=c.Remoting||{};cF=M.IdPayment=M.IdPayment||{};cG=k.PlugInQuery=k.PlugInQuery||{};cH=bg.FSharpMap=bg.FSharpMap||{};cI=f.Enumerator=f.Enumerator||{};cJ=cI.T=cI.T||{};cK=bg.BalancedTree=bg.BalancedTree||{};cL=bB.T=bB.T||{};cM=bp.AsyncResult=bp.AsyncResult||{};cN=bd.Array=bd.Array||{};cO=m.CuentaBancaria=m.CuentaBancaria||{};cP=m.TarjetaCredito=m.TarjetaCredito||{};cQ=a.Object;cR=h.FromView=h.FromView||{};cS=h.AttrProxy=h.AttrProxy||{};cT=h.Array=h.Array||{};cU=f.Concurrency=f.Concurrency||{};cV=h.Storage=h.Storage||{};cW=h.AttrModule=h.AttrModule||{};cX=a.LayoutEngine_Templates=a.LayoutEngine_Templates||{};cY=a.LayoutEngine_GeneratedPrintf=a.LayoutEngine_GeneratedPrintf||{};cZ=j.WebComponent=j.WebComponent||{};c0=cZ.WcTabStrip=cZ.WcTabStrip||{};c1=c0.WcTabStripT=c0.WcTabStripT||{};c2=cZ.WcSplitter=cZ.WcSplitter||{};c3=bg.DictionaryUtil=bg.DictionaryUtil||{};c4=h.CheckedInput=h.CheckedInput||{};c5=h.Client=h.Client||{};c6=c5.Templates=c5.Templates||{};c7=f.DateUtil=f.DateUtil||{};c8=a.StartupCode$WebSharper_Main$Remoting=a.StartupCode$WebSharper_Main$Remoting||{};c9=j.Pojo=j.Pojo||{};c_=a.Error;c$=f.TimeoutException=f.TimeoutException||{};da=H.Promise=H.Promise||{};db=f.Sitelets=f.Sitelets||{};dc=db.RouterOperators=db.RouterOperators||{};dd=db.RouterModule=db.RouterModule||{};de=db.Route=db.Route||{};df=cE.CustomXhrProvider=cE.CustomXhrProvider||{};dg=M.ConceptoPago=M.ConceptoPago||{};dh=bg.MapUtil=bg.MapUtil||{};di=cK.Tree=cK.Tree||{};dj=M.IdAddress=M.IdAddress||{};dk=h.Docs=h.Docs||{};dl=h.Attrs=h.Attrs||{};dm=h.DomUtility=h.DomUtility||{};dn=cU.AsyncBody=cU.AsyncBody||{};_do=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};dp=cU.CT=cU.CT||{};dq=cV.ArrayStorage=cV.ArrayStorage||{};dr=j.Var=j.Var||{};ds=E.Enlace=E.Enlace||{};dt=K.Layout=K.Layout||{};du=c2.WcSplitterT=c2.WcSplitterT||{};dv=h.DocElemNode=h.DocElemNode||{};dw=a.CharacterData;dx=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};dy=bS.XhrProvider=bS.XhrProvider||{};dz=cy.FSharpEvent=cy.FSharpEvent||{};dA=bg.LinkedList=bg.LinkedList||{};dB=ch.AuthenticationParameters=ch.AuthenticationParameters||{};dC=ch.Account=ch.Account||{};dD=db.Router=db.Router||{};dE=db.List=db.List||{};dF=bg.Pair=bg.Pair||{};dG=f.Result=f.Result||{};dH=cU.Scheduler=cU.Scheduler||{};dI=f.CancellationTokenSource=f.CancellationTokenSource||{};dJ=h.DynamicAttrNode=h.DynamicAttrNode||{};dK=K.Measures=K.Measures||{};dL=j.Hoverable=j.Hoverable||{};dM=dL.Hoverable=dL.Hoverable||{};dN=a.Event;dO=a.UIEvent;dP=j.ResizeObserver=j.ResizeObserver||{};dQ=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};dR=h.Elt=h.Elt||{};dS=c5.Attrs=c5.Attrs||{};dT=dS.Dyn=dS.Dyn||{};dU=c6.Prepare=c6.Prepare||{};dV=h.An=h.An||{};dW=c5.Settings=c5.Settings||{};dX=b8.Mailbox=b8.Mailbox||{};dY=f.OperationCanceledException=f.OperationCanceledException||{};dZ=f.Json=f.Json||{};d0=bg.HashSetUtil=bg.HashSetUtil||{};d1=cy.Event=cy.Event||{};d2=d1.Event=d1.Event||{};d3=H.NonStandardPromiseRejectionException=H.NonStandardPromiseRejectionException||{};d4=a.StartupCode$WebSharper_Sitelets$Router=a.StartupCode$WebSharper_Sitelets$Router||{};d5=bg.Map=bg.Map||{};d6=f.Queue=f.Queue||{};d7=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};d8=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};d9=f.AggregateException=f.AggregateException||{};d_=bg.KeyCollection=bg.KeyCollection||{};d$=h.Updates=h.Updates||{};ea=c5.Docs=c5.Docs||{};eb=ea.RunState=ea.RunState||{};ec=ea.NodeSet=ea.NodeSet||{};ed=h.Anims=h.Anims||{};ee=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};ef=f.Char=f.Char||{};eg=f.FormatException=f.FormatException||{};eh=db.StringEncoding=db.StringEncoding||{};ei=h.String=h.String||{};ej=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};ek=h.AppendList=h.AppendList||{};el=bg.LinkedListEnumerator=bg.LinkedListEnumerator||{};em=db.PathUtil=db.PathUtil||{};en=h.Easing=h.Easing||{};eo=b8.HashSet=b8.HashSet||{};ep=ea.DomNodes=ea.DomNodes||{};eq=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};er=a.IntelliFactory;es=er&&er.Runtime;et=a.Math;eu=a.jQuery;ev=a.console;ew=a.Date;ex=a.JSON;ey=a.Reflect;ez=a.String;e.mainProgram=function(){var eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS;eA=i.Create$1(e.appName());eB=p.Map(function(eT){return e.mesToString(eT.periodoActual);},m.modeloV().get_View());eC=p.Map(function(eT){return a.String(eT.anoActual);},m.modeloV().get_View());eD=p.Map(function(eT){return O.nombre2(eT.datosPersonales);},m.aliadoW());eE=p.Map(function(eT){return eT.id.get_Id();},m.aliadoW());eF=p.Map(function(eT){return a.String(eT.status);},m.aliadoW());eG=p.Map(function(eT){return a.String(eT.comision);},m.aliadoW());eH=p.Map(function(eT){return a.String(eT.nReferidos);},m.aliadoW());k.addPlugIn(l.New(e.appName(),[k.newVar("title",eA),k.newVar("contentVar",m.contentVar()),k.newVar("invitaciones",m.invitacionesV()),k.newVar("influencer",e.influencerV())],[k.newViw("mesActual",eB),k.newViw("anoActual",eC),k.newViw("aliado",eD),k.newViw("idAliado",eE),k.newViw("status",eF),k.newViw("comision",eG),k.newViw("datos",eH),k.newViw("emailsInvitar",m.emailsInvitarW()),k.newViw("invitacionesDisabled",m.invitacionesDisabledW()),k.newViw("VideoW",p.Map(function(eT){return eT.$==5?eT.$0:"";},m.endPointV().get_View())),k.newViw("influencerClassW",e.influencerClassW())],[k.newDoc("Aliados",r.Create(s.aliados)),k.newDoc("Aliado",r.Create(t.aliado)),k.newDoc("Calculo",r.Create(t.calculo)),k.newDoc("FormaRegistro",r.Create(u.formaDoc)),k.newDoc("FormaDatos",r.Create(v.formaDoc)),k.newDoc("FormaContactos",r.Create(w.formaDoc)),k.newDoc("FormaFormasPago",r.Create(x.formaDoc)),k.newDoc("contentDoc",r.Create(e.getContentDoc)),k.newDoc("ReporteConsolidado",r.Create(y.consolidado)),k.newDoc("TablaPagos",r.Create(z.comisiones)),k.newDoc("ListaDocs",r.Create(A.listaDocs)),k.newDoc("FormaAutorizacion",r.Create(B.formaAutorizacion)),k.newDoc("FormaContrato",r.Create(C.formaContrato)),k.newDoc("Transacciones",r.Create(D.transacciones)),k.newDoc("Pendientes",r.Create(function(){return E.pendientes(m.aliadoW());}))],[k.newAct("Logout",function(){e.logout();}),k.newAct("LogIn",function(){e.login();}),k.newAct("enviarInvitaciones",function(){e.enviarCorreosInvitacion();}),k.newAct("gotoInfluencer",function(){e.gotoInfluencer();})],[]));K.addLayout((eI=(eJ=self.document.getElementById("GlobalLayout"),J.Equals(eJ,null)?"\r\n                            menuEditor layout\r\n                            |          main\r\n            \r\n                            main div \"\"\r\n                            :                 template  header     \"id=header\"           brand  brandV   logout \"@{Prozper.Logout}\" afiliado \"@{Prozper.aliado}\"\r\n                            :                 Doc       Prozper.contentDoc\r\n                            :                 template  sidedrawer \"id=sidedrawer\"       brand  brandV   idaliado \"@{Prozper.idAliado}\" \r\n                            :                 template  footer     \"id=footer\"           brand  brandV   madeby \"CIPHER Bsc\" madebylink \"www.cipherbsc.com\"\r\n             \r\n                            mainContent          template  content    \"id=content-wrapper\"  content aliados                  fecha \"@{Prozper.mesActual} @{Prozper.anoActual}\" idaliado \"@{Prozper.aliado}\"\r\n                            cntFormaRegistro     template  content    \"id=content-wrapper\"  content Prozper.FormaRegistro    titulo \"Referido por: @{Prozper.aliado}\"  \r\n                            cntFormaDatos        template  content    \"id=content-wrapper\"  content Prozper.FormaDatos       titulo \" \"\r\n                            cntFormaContactos    template  content    \"id=content-wrapper\"  content Prozper.FormaContactos   titulo \" \" \r\n                            cntFormaFormasPago   template  content    \"id=content-wrapper\"  content Prozper.FormaFormasPago  titulo \" \" \r\n                            cntFormaCuentas      template  content    \"id=content-wrapper\"  content ProzperLyt.FormaCuentas  titulo \" \"  \r\n                            cntFormaDocumentos   template  content    \"id=content-wrapper\"  content Prozper.FormaDocumentos  titulo \" \"  \r\n                            cntFormaNoUser       template  content    \"id=content-wrapper\"  content botonLogin               titulo \" \"  \r\n                            cntFormaInvitaciones template  content    \"id=content-wrapper\"  content invitaciones             titulo \" \"  \r\n            \r\n                            aliados          div       \"class=row\"\r\n                            :                div       \"class=mui-col-md-6\"\r\n                            ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" Prozper.Aliados\r\n                            :                div       \"class=mui-col-md-6\"\r\n                            ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" Aliado Comisiones\r\n                            brandV           Var       \"Prozper\"\r\n            \r\n                            botonLogin       div       \"class=row\"\r\n                            :                div       \"class=mui-col-md-6\"\r\n                            ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" \r\n                            :::              button    Prozper.LogIn \"class=mui-btn mui-btn--primary\" \"Ingresar al Sistema\"\r\n            \r\n                            invitaciones     div       \"class=row\"\r\n                            :                div       \"class=mui-col-md-6 mui-col-md-offset-1\"\r\n                            ::               div       \"class=mui-panel mui--z5 scrollbar; max-height:550px ; overflow:auto\" \r\n                            :::              h1        \"\" \"Enviar Invitaciones\"\r\n                            :::              textarea  Prozper.invitaciones  \"width:100% ; height:30rem; placeholder=Copie aqui las direcciones de correo electronico\" \r\n                            :                div       \"white-space: pre-wrap\" \"@{Prozper.emailsInvitar}\"\r\n                            :                button    Prozper.enviarInvitaciones \"class=mui-btn mui-btn--raised mui-btn--primary;@{Prozper.invitacionesDisabled}\" \"Enviar\"\r\n            \r\n                            Aliado           div       \"class=mui-col-md-8\"\r\n                            :                Doc Prozper.Aliado\r\n            \r\n                            Comisiones       template    tablacomisiones \"class=mui-col-md-3\"  tbody filasComisiones\r\n                            filasComisiones  concat      \"\"\r\n                            :                template    filacomision    \"\"  periodo \"Ene 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Feb 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Mar 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Abr 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"May 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Jun 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Jul 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Ago 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Sep 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Oct 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Nov 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Dec 2018\" comision \"$1,000\"\r\n                    \r\n                            menuEditorx      horizontal  65          menuLogo                  editorMessages\r\n                            double           horizontal  0-50-100    AppFramework.AppFwkClient menuEditor\r\n                            menuLogo         vertical    350         logo                      menu\r\n                            logo             span       \"margin:0;   color:gray; font-size: 55px; font-weight:530\" \"StackOverflow\"\r\n                            editorMessages   horizontal  10-83-100   editorButtons             messages\r\n                            messages         vertical    0-50-100    messagesLeft              messagesRight\r\n                            editorButtons    vertical    150 buttons snippetsSnippet \r\n                            snippetsSnippet  vertical    0-20-100    snippets                  editorProperties\r\n                            snippets         horizontal  20          \"@{FSharpStation.CurrentPath}\" tblDimensions2\r\n                            editorProperties vertical    0-100-100   snippet                   properties\r\n                            properties       div        \"\"           FSharpStation.Properties\r\n                            snippet          horizontal  35          Name                      FSharpStation.editor\r\n                            menu             span       \"display: grid; grid-template-columns: 30% 20% 20% 10%; grid-gap: 25px; margin:5px; grid-template-rows:50px\" inpServer btnLoad btnSaveAs\r\n                             \r\n                            severalTabs      wcomp-tabstrip  \"\" \r\n                            :                div \"tabname=Dimensions\" \r\n                            ::               div \"\" btnAddDimension RuleEditor.Dimensions\r\n                            :                div \"tabname=Cubes\"\r\n                            :                div \"tabname=Global Definitions\" RuleEditor.globalDefs\r\n                    \r\n                            btnSaveAs        button RuleEditor.SaveAs         \"class=btn @{RuleEditor.SaveNeeded}\" \"Save as...    \"\r\n                            btnAddDimension  button RuleEditor.AddDimension      \"\"                  \"new dim...\"\r\n                            btnDeleteSnippet button FSharpStation.RemoveSnippet  \"\"                  \"Delete Snippet\"\r\n                            btnIndentIn      button FSharpStation.IndentIn       \"\"                  \"Indent In  >> \"\r\n                            btnIndentOut     button FSharpStation.IndentOut      \"\"                  \"Indent Out << \"\r\n                            btnRunFS         button FSharpStation.RunFS          \"\"                  \"Run F#        \"\r\n                            btnAbortFsi      button FSharpStation.AbortFsi       \"\"                  \"Abort Fsi     \"\r\n                    \r\n                            messagesLeft     wcomp-tabstrip                      \"\"                  Output FsCode\r\n                            messagesRight    wcomp-tabstrip                      \"\"                  Parser\r\n                    \r\n                            buttons          div \"overflow: hidden; display: grid; grid-template-columns: 100%; grid-template-rows: repeat(15, calc(100% / 15)); bxackground-color: #eee; box-sizing: border-box; padding : 5px; grid-gap: 5px; margin-right: 21px\"\r\n                            :                button RuleEditor.AddCalculation    \"\"                 \"Add Calculation\"\r\n                            :                button RuleEditor.AddTotal          \"\"                 \"Add Total\"\r\n                            :                Doc       none x\r\n                            :                button RuleEditor.IndentIn          \"\"                  \"Indent In  >> \"\r\n                            :                button RuleEditor.IndentOut         \"\"                  \"Indent Out << \"\r\n                    \r\n                            Output           textarea  RuleEditor.Output         \"tabname=Output ; placeholder=Output messages ; spellcheck=false\" \r\n                            FsCode           textarea  RuleEditor.CodeFS         \"tabname=F# Code; placeholder=F# Code         ; spellcheck=false\" \r\n                            Parser           textarea  RuleEditor.Parser         \"tabname=Parser ; placeholder=Parser messages; dblclick=@{FSharpStation.JumpTo} ; spellcheck=false\" \r\n                            Name             Doc       InputLabel                \"\"     \"Name:\"        FSharpStation.SnippetName\r\n                            inpServer        Doc       InputLabel                \"\"     \"Server:\"      RuleEditor.Server\r\n                            btnLoad          Doc       InputFile                 \"\"     \"Load File...\" RuleEditor.LoadFile  FileName\r\n                            btnImport        Doc       InputFile                 \"\"     \"Import...\"    FSharpStation.Import    \"\"\r\n                            FileName         div                                 \"class=form-control\"  RuleEditor.fileName\r\n            \r\n                       ":eJ.textContent),K.newLyt(e.layoutName(),eI)));eK=(eL=null,(eM=e.layoutName(),eL==null?eM:eL.$0));k.mainDocV().Set(eK);_0.BindView(function(eT){var eU,eV,eW;return J.Equals(eT.id,O.empty().id)?(eU=U.Make(),(eV=V.CompleteHoles(eU.k,eU.h,[]),(eW=new S.New(eV[1],W.opcionesadministrador(eV[0])),(eU.i=eW,eW)))).get_Doc():_0.get_Empty();},m.aliadoW());eN=(eO=(eP=e.getDocView(e.layoutName(),"headerCenter"),(eQ=e.getMenuDoc(),(eR=e.getContentDoc(),U.Make().WithHole({$:0,$0:"maincontent",$1:eR})).WithHole({$:0,$0:"menu",$1:eQ})).WithHole({$:0,$0:"headercenter",$1:eP})),eO.WithHole(V.EventQ2(eO.k,"logout",function(){return eO.i;},function(){e.logout();}))).WithHole({$:2,$0:"cortina",$1:p.Map(function(eT){return eT>0?"mui-overlay":"not-mui-overlay";},_1.llamadas().get_View())});eS=V.CompleteHoles(eN.k,eN.h,[]);eN.i=new S.New(eS[1],c6.RunFullDocTemplate(eS[0]));p.Sink(function(eT){self.document.title=eT;},eA.get_View());};e.appName=function(){_6.$cctor();return _6.appName;};e.influencerV=function(){_6.$cctor();return _6.influencerV;};e.influencerClassW=function(){_6.$cctor();return _6.influencerClassW;};e.getContentDoc=function(){return _0.EmbedView(p.Map(function(eA){return e.getDoc(e.appName(),eA);},m.contentVar().get_View()));};e.logout=function(){bV.logout();};e.login=function(){bV.logout();};e.enviarCorreosInvitacion=function(){var eA;_1.iterA((eA=bp.asyncResult(),eA.Run(eA.Delay(function(){return bI["AsyncResultBuilder.Bind"](eA,p.GetAsync(m.emailsInvitarW()),function(eB){return bI["AsyncResultBuilder.Bind"](eA,p.GetAsync(p.Map(function(eC){return eC.id.get_Id();},m.aliadoW())),function(){var eC;eC=T.filter(function(eD){return bj.Trim(eD)!=="";},bj.SplitChars(eB,["\n"],0));return eA.Bind$1(_1.enviarCorreosInvitacion("Invitacion a Prozper",eC),function(){var eD;eD=T.length(eC);return eD===0?(a.alert("Ningun correo valido ha sido encontrado"),eA.Zero()):eD===1?(a.alert("Invitacion ha sido enviada"),eA.Zero()):(a.alert("Invitaciones han sido enviadas"),eA.Zero());});});});}))));};e.gotoInfluencer=function(){var eA;cU.Start((eA=null,cU.Delay(function(){return cU.Bind(_1.obtenerIdInfluyente(e.influencerV().Get()),function(eB){return eB.$==0?(self.location.href="/Register/"+e.influencerV().Get(),cU.Zero()):(self.alert("Código inválido:"+e.influencerV().Get()),cU.Zero());});})),null);};e.layoutName=function(){_6.$cctor();return _6.layoutName;};e.getMenuDoc=function(){return _0.EmbedView(p.Map2(function(eA,eB){var eC;eC=eA!=null&&eA.$==1?J.Equals(eB.id,O.empty().id)?"ProzperLyt.mnuAdministrador":"ProzperLyt.mnuUsuario":"ProzperLyt.mnuNoUsuario";return e.getDoc(e.appName(),eC);},bV.userO().get_View(),m.aliadoW()));};e.getDocView=function(eA,eB){return K.turnToView(function(){return e.getDoc(eA,eB);});};e.mesToString=function(eA){return eA===1?"Ene":eA===2?"Feb":eA===3?"Mar":eA===4?"Abr":eA===5?"May":eA===6?"Jun":eA===7?"Jul":eA===8?"Ago":eA===9?"Sep":eA===10?"Oct":eA===11?"Nov":eA===12?"Dic":"---";};e.getDoc=function(eA,eB){var eC,eD,eE;eC=(eD=(eE=((K.splitName())(eA))(eB),k.tryGetDoc(eE[0],eE[1])),eD==null?null:{$:1,$0:K.getDocFinal(cL.Empty,eD.$0)});return eC==null?K.errDoc((function(eF){return function(eG){return eF("Doc not found "+bz.toSafe(eG));};}(a.id))(eB)):eC.$0;};g=f.Obj=es.Class({Equals:function(eA){return this===eA;},GetHashCode:function(){return -1;}},null,g);g.New=es.Ctor(function(){},g);i=h.Var$1=es.Class({},g,i);i.Create$1=function(eA){return new _4.New(false,_5.New({$:2,$0:eA,$1:[]}),eA);};i.Lens=function(eA,eB,eC){var eD,eE,eF;eD=b_.Id();eE=p.Map(eB,eA.get_View());eF=new q({Get:function(){return eB(eA.Get());},Set:function(eG){return eA.Update(function(eH){return eC(eH,eG);});},SetFinal:function(eG){return this.Set(eG);},Update:function(eG){return eA.Update(function(eH){return eC(eH,eG(eB(eH)));});},UpdateMaybe:function(eG){return eA.UpdateMaybe(function(eH){var eI;eI=eG(eB(eH));return eI==null?null:{$:1,$0:eC(eH,eI.$0)};});},get_View:function(){return eE;},get_Id:function(){return eD;}});q.New.call(eF);return eF;};i.Set=function(eA,eB){eA.Set(eB);};k.addPlugIn=function(eA){k.plugIns().Append(eA);k.mainDocV().Set(k.mainDocV().Get());};k.newVar=function(eA,eB){return _8.New(eA,eB);};k.newViw=function(eA,eB){return _9.New(eA,eB);};k.newDoc=function(eA,eB){return _.New(eA,{$:0,$0:eB});};k.newAct=function(eA,eB){return bU.New(eA,{$:0,$0:eB},p.Const(true));};k.mainDocV=function(){bY.$cctor();return bY.mainDocV;};k.plugIns=function(){bY.$cctor();return bY.plugIns;};k.newDocF=function(eA,eB){return _.New(eA,eB);};k.tryGetDoc=function(eA,eB){var eC;eC=k.tryGetPlugIn(eA);return eC==null?null:T.tryFind(function(eD){return eD.docName===eB;},eC.$0.plgDocs);};k.tryGetAct=function(eA,eB){var eC;eC=k.tryGetPlugIn(eA);return eC==null?null:T.tryFind(function(eD){return eD.actName===eB;},eC.$0.plgActions);};k.callFunction=function(eA,eB,eC){if(eC.$==1)eC.$0(eA);else if(eC.$==2)(eC.$0(eA))(eB);else eC.$0();};k.tryGetVar=function(eA,eB){var eC;eC=k.tryGetPlugIn(eA);return eC==null?null:T.tryFind(function(eD){return eD.varName===eB;},eC.$0.plgVars);};k.selectionPlugInO=function(){bY.$cctor();return bY.selectionPlugInO;};k.defaultPlugIn=function(){bY.$cctor();return bY.defaultPlugIn;};k.currentPlugInW=function(){bY.$cctor();return bY.currentPlugInW;};k.renderPlugIns=function(){return _0.Flatten(k.plugIns().MapLens(function(eA){var eB,eC,eD,eE;return(eB=(eC=U.Make().WithHole({$:1,$0:"name",$1:eA}),eC.WithHole(V.EventQ2(eC.k,"select",function(){return eC.i;},function(){k.selectionPlugInO().Set({$:1,$0:eA});}))).WithHole({$:2,$0:"selected",$1:p.Map(function(eF){return J.Equals(eF,{$:1,$0:eA})?"selected":"";},k.selectionPlugInO().get_View())}),(eD=V.CompleteHoles(eB.k,eB.h,[]),(eE=new S.New(eD[1],cX.tile(eD[0])),(eB.i=eE,eE)))).get_Doc();}));};k.renderVars=function(){function eA(eC,eD){return[eC.plgName,eD.varName];}function eB(eC,eD){var eE,eF,eG;return(eE=U.Make().WithHole({$:1,$0:"name",$1:eD.varName}).WithHole({$:8,$0:"value",$1:eD.varVar}),(eF=V.CompleteHoles(eE.k,eE.h,[["value",0]]),(eG=new S.New(eF[1],cX.namevalueinput(eF[0])),(eE.i=eG,eG)))).get_Doc();}return _0.ConvertBy(function(eC){return eA(eC[0],eC[1]);},function(eC){return eB(eC[0],eC[1]);},p.Map(function(eC){return bc.map(function(eD){return[eC,eD];},eC.plgVars);},k.currentPlugInW()));};k.renderViews=function(){function eA(eC,eD){return[eC.plgName,eD.viwName];}function eB(eC,eD){var eE,eF,eG;return(eE=U.Make().WithHole({$:1,$0:"name",$1:eD.viwName}).WithHole({$:2,$0:"value",$1:eD.viwView}),(eF=V.CompleteHoles(eE.k,eE.h,[]),(eG=new S.New(eF[1],cX.namevalue(eF[0])),(eE.i=eG,eG)))).get_Doc();}return _0.ConvertBy(function(eC){return eA(eC[0],eC[1]);},function(eC){return eB(eC[0],eC[1]);},p.Map(function(eC){return bc.map(function(eD){return[eC,eD];},eC.plgViews);},k.currentPlugInW()));};k.renderDocs=function(){function eA(eC,eD){return[eC.plgName,eD.docName];}function eB(eC,eD){var eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO;return(eE=(eF=(eG=eD.docName+(eH=eD.docDoc,eH.$==1?(eI=bj.concat(", ",bB.ofArray([eH.$1])),(function(eP){return function(eQ){return eP("("+bz.toSafe(eQ)+")");};}(a.id))(eI)):eH.$==2?(eJ=bj.concat(", ",bB.ofArray([eH.$1,eH.$2])),(function(eP){return function(eQ){return eP("("+bz.toSafe(eQ)+")");};}(a.id))(eJ)):eH.$==3?(eK=bj.concat(", ",bB.ofArray([eH.$1,eH.$2,eH.$3])),(function(eP){return function(eQ){return eP("("+bz.toSafe(eQ)+")");};}(a.id))(eK)):eH.$==4?(eL=bj.concat(", ",bB.ofArray([eH.$1,eH.$2,eH.$3,eH.$4])),(function(eP){return function(eQ){return eP("("+bz.toSafe(eQ)+")");};}(a.id))(eL)):eH.$==5?(eM=bj.concat(", ",bB.ofArray([eH.$1,eH.$2,eH.$3,eH.$4,eH.$5])),(function(eP){return function(eQ){return eP("("+bz.toSafe(eQ)+")");};}(a.id))(eM)):""),U.Make().WithHole({$:1,$0:"name",$1:eG})),eF.WithHole(V.EventQ2(eF.k,"select",function(){return eF.i;},function(){p.Get(function(eP){k.mainDocV().Set(eP.plgName+"."+eD.docName);},k.currentPlugInW());}))),(eN=V.CompleteHoles(eE.k,eE.h,[]),(eO=new S.New(eN[1],cX.tile(eN[0])),(eE.i=eO,eO)))).get_Doc();}return _0.ConvertBy(function(eC){return eA(eC[0],eC[1]);},function(eC){return eB(eC[0],eC[1]);},p.Map(function(eC){return bc.map(function(eD){return[eC,eD];},eC.plgDocs);},k.currentPlugInW()));};k.renderActions=function(){function eA(eC,eD){return[eC.plgName,eD.actName];}function eB(eC,eD){var eE,eF,eG,eH;eE=(eF=eD.actFunction,eF.$==1?(eG=bj.concat(", ",bB.ofArray([eF.$1])),(function(eI){return function(eJ){return eI("("+bz.toSafe(eJ)+")");};}(a.id))(eG)):eF.$==2?(eH=bj.concat(", ",bB.ofArray([eF.$1,eF.$2])),(function(eI){return function(eJ){return eI("("+bz.toSafe(eJ)+")");};}(a.id))(eH)):"");return _0.EmbedView(p.Map(function(eI){var eJ,eK,eL,eM,eN,eO,eP,eQ;return eI?(eJ=(eK=U.Make().WithHole({$:1,$0:"name",$1:eD.actName+eE}),eK.WithHole(V.EventQ2(eK.k,"click",function(){return eK.i;},function(eR){k.callFunction(eR,null,eD.actFunction);}))),(eL=V.CompleteHoles(eJ.k,eJ.h,[]),(eM=new S.New(eL[1],cX.action(eL[0])),(eJ.i=eM,eM)))).get_Doc():(eN=(eO=U.Make().WithHole({$:1,$0:"name",$1:eD.actName}),eO.WithHole(V.EventQ2(eO.k,"click",function(){return eO.i;},function(eR){k.callFunction(eR,null,eD.actFunction);}))),(eP=V.CompleteHoles(eN.k,eN.h,[]),(eQ=new S.New(eP[1],cX.actiondisabled(eP[0])),(eN.i=eQ,eQ)))).get_Doc();},eD.actEnabled));}return _0.ConvertBy(function(eC){return eA(eC[0],eC[1]);},function(eC){return eB(eC[0],eC[1]);},p.Map(function(eC){return bc.map(function(eD){return[eC,eD];},eC.plgActions);},k.currentPlugInW()));};k.renderQueries=function(){function eA(eC,eD){return[eC.plgName,eD.qryName];}function eB(eC,eD){var eE,eF,eG,eH;return(eE=(eF=U.Make().WithHole({$:1,$0:"name",$1:eD.qryName}),eF.WithHole(V.EventQ2(eF.k,"select",function(){return eF.i;},function(){a.alert(eD.qryFunction(null));}))),(eG=V.CompleteHoles(eE.k,eE.h,[]),(eH=new S.New(eG[1],cX.tile(eG[0])),(eE.i=eH,eH)))).get_Doc();}return _0.ConvertBy(function(eC){return eA(eC[0],eC[1]);},function(eC){return eB(eC[0],eC[1]);},p.Map(function(eC){return bc.map(function(eD){return[eC,eD];},eC.plgQueries);},k.currentPlugInW()));};k.newQry=function(eA,eB){return cG.New(eA,eB);};k.AppFwkClient=function(){bY.$cctor();return bY.AppFwkClient;};k.actHello=function(){bY.$cctor();return bY.actHello;};k.qryDocs=function(){bY.$cctor();return bY.qryDocs;};k.horizontal=function(eA,eB,eC,eD,eE){var eF,eG,eH,eI;return(eF=(eG=U.Make().WithHole({$:2,$0:"partsizes",$1:eA}).WithHole({$:7,$0:"afterrender",$1:eB}).WithHole({$:7,$0:"afterrendersp",$1:eC}),eG.WithHole(V.EventQ2(eG.k,"mousedown",function(){return eG.i;},function(eJ){eD(eJ.Event);}))).WithHole({$:2,$0:"gap",$1:eE}),(eH=V.CompleteHoles(eF.k,eF.h,[]),(eI=new S.New(eH[1],cX.wcompsplitterhor(eH[0])),(eF.i=eI,eI)))).get_Doc();};k.vertical=function(eA,eB,eC,eD,eE){var eF,eG,eH,eI;return(eF=(eG=U.Make().WithHole({$:2,$0:"partsizes",$1:eA}).WithHole({$:7,$0:"afterrender",$1:eB}).WithHole({$:7,$0:"afterrendersp",$1:eC}),eG.WithHole(V.EventQ2(eG.k,"mousedown",function(){return eG.i;},function(eJ){eD(eJ.Event);}))).WithHole({$:2,$0:"gap",$1:eE}),(eH=V.CompleteHoles(eF.k,eF.h,[]),(eI=new S.New(eH[1],cX.wcompsplitterver(eH[0])),(eF.i=eI,eI)))).get_Doc();};k.mainDoc=function(){var eA,eB,eC,eD,eE,eF;return(eA=(eB=k.getMainClientDoc(),(eC=(eD=k.mainDocV().get_View(),U.Make().WithHole({$:2,$0:"maindoc",$1:eD})),eC.WithHole(V.EventQ2(eC.k,"goclient",function(){return eC.i;},function(){k.mainDocV().Set("AppFramework.AppFwkClient");}))).WithHole({$:0,$0:"mainclient",$1:eB})),(eE=V.CompleteHoles(eA.k,eA.h,[]),(eF=new S.New(eE[1],cX.appframework(eE[0])),(eA.i=eF,eF)))).get_Doc();};k.splitName=function(eA){function eB(eD){return bK.splitByChar(".",eD);}function eC(eD){return T.length(eD)===1?[eA,T.get(eD,0)]:[T.get(eD,0),T.get(eD,1)];}return function(eD){return eC(eB(eD));};};k.tryGetPlugIn=function(eA){return k.plugIns().TryFindByKey(eA);};k.newActF=function(eA,eB){return bU.New(eA,eB,p.Const(true));};k.tryGetViw=function(eA,eB){var eC;eC=k.tryGetPlugIn(eA);return eC==null?null:T.tryFind(function(eD){return eD.viwName===eB;},eC.$0.plgViews);};k.tryGetWoW=function(eA,eB){var eC,eD,eE;eC=(eD=k.tryGetViw(eA,eB),eD==null?null:{$:1,$0:{$:1,$0:eD.$0.viwView}});return eC==null?(eE=k.tryGetVar(eA,eB),eE==null?null:{$:1,$0:eE.$0.varVar.get_View()}):eC.$0;};k.getMainClientDoc=function(){var eA;return _0.EmbedView((eA=k.plugIns().v,p.Map2(function(eB,eC){var eD,eE;eD=bc.tryPick(function(eF){var eG;eG=bc.tryFind(function(eH){return eF.plgName===eB||eF.plgName+"."+eH.docName===eB;},eF.plgDocs);return eG==null?null:{$:1,$0:k.getLazyDoc(eG.$0)};},eC);eE=k.AppFwkClient().f();return eD==null?eE:eD.$0;},k.mainDocV().get_View(),eA)));};k.tryGetVoV=function(eA,eB){var eC,eD,eE;eC=(eD=k.tryGetVar(eA,eB),eD==null?null:{$:1,$0:{$:1,$0:eD.$0.varVar}});return eC==null?(eE=k.tryGetViw(eA,eB),eE==null?null:{$:1,$0:new cR.New(eE.$0.viwView,a.ignore)}):eC.$0;};k.getLazyDoc=function(eA){var eB;eB=eA.docDoc;return eB.$==0?eB.$0.f():_0.Element("div",[],[_0.TextNode((function(eC){return function(eD){return eC("Doc with parameters not allowed here: "+Z.p(eD));};}(a.id))(eA))]);};l.New=function(eA,eB,eC,eD,eE,eF){return{plgName:eA,plgVars:eB,plgViews:eC,plgDocs:eD,plgActions:eE,plgQueries:eF};};m.contentVar=function(){_6.$cctor();return _6.contentVar;};m.invitacionesV=function(){_6.$cctor();return _6.invitacionesV;};m.emailsInvitarW=function(){_6.$cctor();return _6.emailsInvitarW;};m.invitacionesDisabledW=function(){_6.$cctor();return _6.invitacionesDisabledW;};m.endPointV=function(){_6.$cctor();return _6.endPointV;};m.aliadoW=function(){_6.$cctor();return _6.aliadoW;};m.modeloV=function(){_6.$cctor();return _6.modeloV;};m.selAliadoIdOV=function(){_6.$cctor();return _6.selAliadoIdOV;};m.money=function(eA){return"$"+m.separate(a.String(eA),cL.Empty);};m.selAliadoIdDoc=function(eA){var eB;return _0.BindView(a.id,(eB=p.get_Do(),p.Bind(function(eC){return p.Bind(function(eD){var eE,eF;eE=eD==null?null:(eF=eD.$0,bc.tryFind(function(eG){return J.Equals(eG.id,eF);},eC.aliados));return p.Const(eE!=null&&eE.$==1?eA(p.Const(eE.$0)):_0.get_Empty());},m.selAliadoIdOV().get_View());},m.modeloV().get_View())));};m.aliadoIdDoc=function(eA){var eB;return _0.BindView(a.id,(eB=p.get_Do(),p.Bind(function(eC){var eD,eE;eD=eC.idAliado;eE=bc.tryFind(function(eF){return J.Equals(eF.id,eD);},eC.aliados);return p.Const(eE!=null&&eE.$==1?eA(p.Const(eE.$0)):_0.get_Empty());},m.modeloV().get_View())));};n.get_LoggedId=function(){var eA,eB;return new _2({$:0,$0:(eA=(eB=bV.userO().Get(),eB==null?null:{$:1,$0:eB.$0.idToken.oid}),eA==null?"":eA.$0)});};m.separate=function(eA,eB){var eC;while(true)if(eA==="")return(function(eD){return function(eE){return bj.concat(eD,eE);};}(","))(eB);else{eC=eA;eA=bd["String.Left$1"](eC,-3);eB=new cL({$:1,$0:bd["String.Right$1"](eC,3),$1:eB});}};m.formasPagoAliadoV=function(){_6.$cctor();return _6.formasPagoAliadoV;};o.FailWith=function(eA){throw new c_(eA);};o.toInt=function(eA){var eB;eB=o.toUInt(eA);return eB>=2147483648?eB-4294967296:eB;};o.range=function(eA,eB){var eC;eC=1+eB-eA;return eC<=0?[]:bc.init(eC,function(eD){return eD+eA;});};o.toUInt=function(eA){return(eA<0?et.ceil(eA):et.floor(eA))>>>0;};o.KeyValue=function(eA){return[eA.K,eA.V];};p.Map=function(eA,eB){return p.CreateLazy(function(){return _5.Map(eA,eB());});};p.Sink=function(eA,eB){function eC(){_5.WhenRun(eB(),eA,function(){cU.scheduler().Fork(eC);});}cU.scheduler().Fork(eC);};p.CreateLazy=function(eA){var eB;eB={c:null,o:eA};return function(){var eC,eD;eC=eB.c;return eC===null?(eC=eB.o(),eB.c=eC,(eD=eC.s,eD!=null&&eD.$==0)?eB.o=null:_5.WhenObsoleteRun(eC,function(){eB.c=null;}),eC):eC;};};p.Map2=function(eA,eB,eC){return p.CreateLazy(function(){return _5.Map2(eA,eB(),eC());});};p.Apply=function(eA,eB){return p.Map2(function(eC,eD){return eC(eD);},eA,eB);};p.Map3=function(eA,eB,eC,eD){return p.CreateLazy(function(){return _5.Map3(eA,eB(),eC(),eD());});};p.MapAsync=function(eA,eB){return p.CreateLazy(function(){return _5.MapAsync(eA,eB());});};p.GetAsync=function(eA){return cU.FromContinuations(function(eB){return p.Get(eB,eA);});};p.Const=function(eA){var eB;eB=_5.New({$:0,$0:eA});return function(){return eB;};};p.Get=function(eA,eB){var eC;function eD(){_5.WhenRun(eB(),function(eE){if(!eC[0]){eC[0]=true;eA(eE);}},function(){if(!eC[0])eD();});}eC=[false];eD();};p.get_Do=function(){return cD.B;};p.TryGet=function(eA){return _5.TryGet(eA());};p.Bind=function(eA,eB){return p.Join(p.Map(eA,eB));};p.MapSeqCachedViewBy=function(eA,eB,eC){var eD;eD=[new b5.New$5()];return p.Map(function(eE){var eF,eG,eH;eF=eD[0];eG=new b5.New$5();eH=cT.mapInPlace(function(eI){var eJ,eK,eL;eJ=eA(eI);eK=eF.ContainsKey(eJ)?(eL=eF.get_Item(eJ),(i.Set(eL.r,eI),eL)):p.ConvertSeqNode(function(eM){return eB(eJ,eM);},eI);eG.set_Item(eJ,eK);return eK.e;},T.ofSeq(eE));eD[0]=eG;return eH;},eC);};p.Map2Unit=function(eA,eB){return p.CreateLazy(function(){return _5.Map2Unit(eA(),eB());});};p.Join=function(eA){return p.CreateLazy(function(){return _5.Join(eA());});};p.ConvertSeqNode=function(eA,eB){var eC,eD;eC=i.Create$1(eB);eD=eC.get_View();return{e:eA(eD),r:eC,w:eD};};p.MapSeqCachedBy=function(eA,eB,eC){var eD;eD=[new b5.New$5()];return p.Map(function(eE){var eF,eG,eH;eF=eD[0];eG=new b5.New$5();eH=cT.mapInPlace(function(eI){var eJ,eK;eJ=eA(eI);eK=eF.ContainsKey(eJ)?eF.get_Item(eJ):eB(eI);eG.set_Item(eJ,eK);return eK;},T.ofSeq(eE));eD[0]=eG;return eH;},eC);};p.Sequence=function(eA){return p.CreateLazy(function(){return _5.Sequence(bc.map(function(eB){return eB();},eA));});};q=h.Var=es.Class({},g,q);q.New=es.Ctor(function(){g.New.call(this);},q);r.Create=function(eA){return bb.New(false,eA,r.forceLazy);};r.forceLazy=function(){var eA;eA=this.v();this.c=true;this.v=eA;this.f=r.cachedLazy;return eA;};r.cachedLazy=function(){return this.v;};r.CreateFromValue=function(eA){return bb.New(true,eA,r.cachedLazy);};s.aliados=function(){var eA,eB,eC,eD,eE,eF,eG;function eH(eQ){var eR,eS;eR=(eS=eB.Get(),eS==null?null:{$:1,$0:eS.$0(eQ)});return eR==null?[]:eR.$0;}function eI(eQ){return eQ.nReferidos===0?"-":(((es.Curried3(function(eR,eS,eT){return eR(a.String(eS)+"/"+a.String(eT));}))(a.id))(eQ.nRefActivos))(eQ.nReferidos);}function eJ(eQ){return eQ.nDescendientes===0?"-":(((es.Curried3(function(eR,eS,eT){return eR(a.String(eS)+"/"+a.String(eT));}))(a.id))(eQ.nDescActivos))(eQ.nDescendientes);}function eK(eQ){return eQ===0?"-":m.money(eQ);}function eL(eQ){return p.Map(function(eR){return bc.isEmpty(eH(eQ))?"":J.Equals(eR==null?null:{$:1,$0:eR.$0.Contains(eQ)},{$:1,$0:true})?"Expandido":"Colapsado";},eA.get_View());}function eM(eQ){var eR,eS,eT;eA.Set({$:1,$0:((J.Equals((eR=eA.Get(),eR==null?null:{$:1,$0:eR.$0.Contains(eQ)}),{$:1,$0:true})?function(eU){return function(eV){return eV.Remove(eU);};}:function(eU){return function(eV){return eV.Add(eU);};})(eQ))((eS=eA.Get(),(eT=new bh.New$1(null),eS==null?eT:eS.$0)))});}function eN(eQ){m.selAliadoIdOV().Set({$:1,$0:eQ});}function eO(eQ){var eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3,e_,e$;function e4(fa){return fa.comision;}function e5(fa){return fa.status;}function e6(fa){return[fa.nRefActivos,fa.nReferidos];}function e7(fa){return[fa.nDescActivos,fa.nDescendientes];}function e8(fa){return O.nombre(fa.datosPersonales);}function e9(fa){return bc.delay(function(){return bc.append([fa],bc.delay(function(){var fb,fc;return(fb=(fc=eA.Get(),fc==null?null:{$:1,$0:fc.$0.Contains(fa.id)}),fb==null?false:fb.$0)?bc.collect(e9,e$.hijos(fa)):[];}));});}e_=(eR=(eS=(eT=(eU=(eV=(es.Curried3(be.desc))(e4),eW=(es.Curried3(be.asc))(e5),es.Curried(be.op_AmpGreater,2,[function(fa,fb){return(eV(fa))(fb);},function(fa,fb){return(eW(fa))(fb);}])),eX=(es.Curried3(be.desc))(e6),es.Curried(be.op_AmpGreater,2,[function(fa,fb){return(eU(fa))(fb);},function(fa,fb){return(eX(fa))(fb);}])),eY=(es.Curried3(be.desc))(e7),es.Curried(be.op_AmpGreater,2,[function(fa,fb){return(eT(fa))(fb);},function(fa,fb){return(eY(fa))(fb);}])),eZ=(es.Curried3(be.asc))(e8),es.Curried(be.op_AmpGreater,2,[function(fa,fb){return(eS(fa))(fb);},function(fa,fb){return(eZ(fa))(fb);}])),bc.sortWith(function(fa,fb){return(eR(fa))(fb);},eQ));e$=O.busqueda(e_);eB.Set({$:1,$0:e$.hijosDe});try{e1=bc.min(bc.map(function(fa){return fa.nivel;},e_));}catch(fa){e1=1;}e2=bc.filter(function(fb){return fb.nivel===e1;},e_);bc.isEmpty(e2)?eA.Set(null):eA.Get()==null?(eA.Set({$:1,$0:new bh.New(bc.map(function(fb){return fb.id;},e2))}),e3=bc.tryHead(bc.map(function(fb){return fb.id;},e2)),e3==null?void 0:eN(e3.$0)):void 0;return bc.delay(function(){return bc.collect(e9,e2);});}function eP(eQ,eR){var eS,eT,eU,eV,eW,eX;return(eS=(eT=(eU=(eV=eL(eQ),U.Make().WithHole({$:2,$0:"nombre",$1:p.Map(function(eY){return O.nombre(eY.datosPersonales);},eR)}).WithHole({$:2,$0:"status",$1:p.Map(function(eY){return(function(eZ){return function(e0){return eZ(X.p$1(e0));};}(a.id))(eY.status);},eR)}).WithHole({$:2,$0:"tipo",$1:p.Map(function(eY){return(function(eZ){return function(e0){return eZ(X.p$2(e0));};}(a.id))(eY.tipo);},eR)}).WithHole({$:2,$0:"nivel",$1:p.Map(function(eY){return a.String(eY.nivel);},eR)}).WithHole({$:2,$0:"referidos",$1:p.Map(eI,eR)}).WithHole({$:2,$0:"descendientes",$1:p.Map(eJ,eR)}).WithHole({$:2,$0:"comision",$1:p.Map(function(eY){return eK(eY.comision);},eR)}).WithHole({$:2,$0:"expandido",$1:eV})),eU.WithHole(V.EventQ2(eU.k,"expandir",function(){return eU.i;},function(){eM(eQ);}))).WithHole({$:2,$0:"seleccionado",$1:p.Map(function(eY){return J.Equals({$:1,$0:eQ},eY)?"seleccionado":"";},m.selAliadoIdOV().get_View())}),eT.WithHole(V.EventQ2(eT.k,"seleccionar",function(){return eT.i;},function(){eN(eQ);}))),(eW=V.CompleteHoles(eS.k,eS.h,[]),(eX=new S.New(eW[1],W.filaaliado(eW[0])),(eS.i=eX,eX)))).get_Doc();}eA=i.Create$1(null);eB=i.Create$1(null);return(eC=(eD=_0.ConvertSeqBy(function(eQ){return eQ.id;},function(eQ){return function(eR){return eP(eQ,eR);};},(eE=p.Map(function(eQ){return eQ.aliados;},m.modeloV().get_View()),p.Map2(function(eQ,eR){return eO(eR);},eA.get_View(),eE))),U.Make().WithHole({$:0,$0:"tbody",$1:eD})),(eF=V.CompleteHoles(eC.k,eC.h,[]),(eG=new S.New(eF[1],W.tablaaliados(eF[0])),(eC.i=eG,eG)))).get_Doc();};t.aliado=function(){function eA(eB){var eC;eC=bc.tryPick(function(eD){return eD.$==1?{$:1,$0:eD.$0.email}:null;},eB.contactos);return eC==null?"correo no encontrado!":eC.$0;}return m.selAliadoIdDoc(function(eB){var eC,eD,eE,eF;return(eC=(eD=t.calculo(),U.Make().WithHole({$:2,$0:"nombre",$1:p.Map(function(eG){return O.nombre2(eG.datosPersonales);},eB)}).WithHole({$:2,$0:"status",$1:p.Map(function(eG){return(function(eH){return function(eI){return eH(X.p$1(eI));};}(a.id))(eG.status);},eB)}).WithHole({$:2,$0:"tipo",$1:p.Map(function(eG){return(function(eH){return function(eI){return eH(X.p$2(eI));};}(a.id))(eG.tipo);},eB)}).WithHole({$:2,$0:"contacto",$1:p.Map(eA,eB)}).WithHole({$:0,$0:"calculo",$1:eD})),(eE=V.CompleteHoles(eC.k,eC.h,[]),(eF=new S.New(eE[1],W.aliado(eE[0])),(eC.i=eF,eF)))).get_Doc();});};t.calculo=function(){var eA,eB;eA=p.Map(function(eC){return eC.premisas;},m.modeloV().get_View());eB=p.Map(function(eC){return eC.aliados;},m.modeloV().get_View());p.Map2(function(eC,eD){return bc.tryFind(function(eE){return J.Equals(eE.id,eC);},eD);},p.Map(function(eC){return eC.idAliado;},m.modeloV().get_View()),eB);return m.selAliadoIdDoc(function(eC){var eD,eE,eF,eG,eH;eD=p.Map2(O.comision,eA,eC);eE=p.Map2(O.premisas,eA,eC);return(eF=U.Make().WithHole({$:2,$0:"referidos",$1:p.Map(function(eI){return(function(eJ){return function(eK){return eJ(a.String(eK));};}(a.id))(eI.nReferidos);},eC)}).WithHole({$:2,$0:"refactivos",$1:p.Map(function(eI){return(function(eJ){return function(eK){return eJ(a.String(eK));};}(a.id))(eI.nRefActivos);},eC)}).WithHole({$:2,$0:"comreferido",$1:p.Map(function(eI){return(function(eJ){return function(eK){return eJ(a.String(eK));};}(a.id))(eI.nRefActivos);},eC)}).WithHole({$:2,$0:"descendientes",$1:p.Map(function(eI){return(function(eJ){return function(eK){return eJ(a.String(eK));};}(a.id))(eI.nDescendientes);},eC)}).WithHole({$:2,$0:"desactivos",$1:p.Map(function(eI){return(function(eJ){return function(eK){return eJ(a.String(eK));};}(a.id))(eI.nDescActivos);},eC)}).WithHole({$:2,$0:"comision",$1:p.Map(function(eI){return m.money(eI[0]+eI[1]);},eD)}).WithHole({$:2,$0:"comreferido",$1:p.Map(function(eI){return m.money(eI[0]);},eD)}).WithHole({$:2,$0:"comdescendiente",$1:p.Map(function(eI){return m.money(eI[1]);},eD)}).WithHole({$:2,$0:"porreferido",$1:p.Map(function(eI){return m.money(eI[0]);},eE)}).WithHole({$:2,$0:"pordescendiente",$1:p.Map(function(eI){return m.money(eI[1]);},eE)}),(eG=V.CompleteHoles(eF.k,eF.h,[]),(eH=new S.New(eG[1],W.calculo(eG[0])),(eF.i=eH,eH)))).get_Doc();});};u.formaDoc=function(){var eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO;eA=i.Create$1("");eB=i.Create$1(false);eC=i.Create$1(null);eD=i.Create$1(null);eE=i.Create$1(null);eF=i.Create$1(null);eG=bl.formaDoc(eC);eH=bm.formaDoc(eD);eI=bn.formaDoc(eE);eJ=bo.formaDoc(eF);eK=(eL=(eM=U.Make().WithHole({$:2,$0:"mensajes",$1:p.Map2(function(eP,eQ){return eP?eQ:"";},eB.get_View(),eA.get_View())}).WithHole({$:0,$0:"datospersonales",$1:eG[1]}).WithHole({$:0,$0:"correo",$1:eH[1]}).WithHole({$:0,$0:"telefono",$1:eI[1]}).WithHole({$:0,$0:"direccion",$1:eJ[1]}),eM.WithHole(V.EventQ2(eM.k,"registrarse",function(){return eM.i;},function(){var eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ;eB.Set(true);eP=eA.Get();bj.Trim(eP)!==""?a.alert(eP):(eQ=eC.Get(),eR=eD.Get(),eS=eE.Get(),eT=eF.Get(),eQ!=null&&eQ.$==1&&(eR!=null&&eR.$==1&&(eS!=null&&eS.$==1&&(eT!=null&&eT.$==1&&(eU=[eR.$0,eQ.$0,eT.$0,eS.$0],true))))?(eV=eU[0],eW=eU[1],eX=eU[2],eY=eU[3],_1.iterA((eZ=bp.asyncResult(),eZ.Run(eZ.Delay(function(){var e0;return eZ.Bind$1(_1.ejecutarDataEventoNuevo({$:3,$0:[new _2({$:0,$0:bj.Substring(bj.Replace((e0=bt.NewGuid(),a.String(e0)),"-",""),0,20)}),eW,{$:1,$0:m.modeloV().Get().idAliado},[{$:1,$0:eV},{$:2,$0:eY},{$:0,$0:eX}]]}),function(e1){br.refrescarData(true);a.alert((function(e2){return function(e3){return e2(X.p$15(e3));};}(a.id))(e1));return eZ.Zero();});}))))):a.alert("Error not caught FormaRegistro"));}))),(eN=V.CompleteHoles(eL.k,eL.h,[]),(eO=new S.New(eN[1],W.formaregistro(eN[0])),(eL.i=eO,eO))));p.Sink(function(eP){eA.Set(eP);},p.Apply(p.Apply(p.Map2(function(eP,eQ){return function(eR){return function(eS){var eT;eT=bj.concat(", ",bc.delay(function(){return bc.append(eP,bc.delay(function(){return bc.append(eQ,bc.delay(function(){return bc.append(eR,bc.delay(function(){return eS;}));}));}));}));return eT!==""?"Campos requeridos: "+eT:"";};};},eG[0],eH[0]),eI[0]),eJ[0]));return eK.get_Doc();};v.formaDoc=function(){return m.aliadoIdDoc(v.formaAliado);};v.formaAliado=function(eA){var eB,eC,eD,eE,eF,eG,eH,eI,eJ;function eK(eM){return{$:1,$0:eM};}function eL(eM){eD.Set(eM);}eB=i.Create$1("");eC=i.Create$1(false);eD=i.Create$1(null);p.Sink(function(eM){return eL(eK(eM));},p.Map(function(eM){return eM.datosPersonales;},eA));eE=bl.formaDoc(eD);eF=(eG=(eH=U.Make().WithHole({$:2,$0:"mensajes",$1:p.Map2(function(eM,eN){return eM?eN:"";},eC.get_View(),eB.get_View())}).WithHole({$:2,$0:"changed",$1:p.Map2(function(eM,eN){return J.Equals({$:1,$0:eM.datosPersonales},eN)?"":"mui-btn--primary";},eA,eD.get_View())}).WithHole({$:0,$0:"datospersonales",$1:eE[1]}),eH.WithHole(V.EventQ2(eH.k,"salvar",function(){return eH.i;},function(){var eM,eN,eO,eP,eQ,eR,eS;eC.Set(true);eM=eB.Get();bj.Trim(eM)!==""?a.alert(eM):(eN=eD.Get(),eO=p.TryGet(eA),eN!=null&&eN.$==1&&(eO!=null&&eO.$==1&&(eP=[eO.$0,eN.$0],true))?(eQ=eP[0],eR=eP[1],_1.iterA((eS=bp.asyncResult(),eS.Run(eS.Delay(function(){return eS.Bind$1(_1.ejecutarDataEventoNuevo({$:4,$0:[eQ.id,eR]}),function(eT){br.refrescarData(true);a.alert((function(eU){return function(eV){return eU(X.p$15(eV));};}(a.id))(eT));return eS.Zero();});}))))):a.alert("Error not caught FormaDatos"));}))),(eI=V.CompleteHoles(eG.k,eG.h,[]),(eJ=new S.New(eI[1],W.formadatospersonales(eI[0])),(eG.i=eJ,eJ))));p.Sink(function(eM){eB.Set(eM);},p.Map(function(eM){var eN;eN=bj.concat(", ",bc.delay(function(){return eM;}));return eN!==""?"Campos requeridos: "+eN:"";},eE[0]));return eF.get_Doc();};w.formaDoc=function(){return m.aliadoIdDoc(w.formaContactos);};w.formaContactos=function(eA){var eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU;function eV(eW,eX){return function(eY){return new cR.New(p.Map(function(eZ){var e0;e0=bc.tryItem(eY,eZ);return e0==null?null:eW(e0.$0);},eD.get_View()),function(eZ){if(eZ!=null&&eZ.$==1)eD.Set(cN.replace(eY,eX(eZ.$0),eD.Get()));});};}eB=i.Create$1("");eC=i.Create$1(false);eD=i.Create$1([]);p.Sink(function(eW){eD.Set(eW);},p.Map(function(eW){return eW.contactos;},eA));eE=p.Map(bc.indexed,eD.get_View());eF=[function(eW){return eW.$==2?{$:1,$0:eW.$0}:null;},function(eW){return{$:2,$0:eW};}];eG=[function(eW){return eW.$==1?{$:1,$0:eW.$0}:null;},function(eW){return{$:1,$0:eW};}];eH=[function(eW){return eW.$==0?{$:1,$0:eW.$0}:null;},function(eW){return{$:0,$0:eW};}];eI=p.Map(function(eW){function eX(eY,eZ){return eF[0](eZ)==null?null:{$:1,$0:eY};}return bc.choose(function(eY){return eX(eY[0],eY[1]);},eW);},eE);eJ=p.Map(function(eW){function eX(eY,eZ){return eG[0](eZ)==null?null:{$:1,$0:eY};}return bc.choose(function(eY){return eX(eY[0],eY[1]);},eW);},eE);eK=p.Map(function(eW){function eX(eY,eZ){return eH[0](eZ)==null?null:{$:1,$0:eY};}return bc.choose(function(eY){return eX(eY[0],eY[1]);},eW);},eE);eL=_0.ConvertBy(a.id,function(eW){return bv.removeButton(function(){eD.Set(cN.remove(eW,eD.Get()));},(bn.formaDoc((function(eX){return eV(eX[0],eX[1]);}(eF))(eW)))[1]);},eI);eM=_0.ConvertBy(a.id,function(eW){return bv.removeButton(function(){eD.Set(cN.remove(eW,eD.Get()));},(bm.formaDoc((function(eX){return eV(eX[0],eX[1]);}(eG))(eW)))[1]);},eJ);eN=_0.ConvertBy(a.id,function(eW){return bv.removeButton(function(){eD.Set(cN.remove(eW,eD.Get()));},(bo.formaDoc((function(eX){return eV(eX[0],eX[1]);}(eH))(eW)))[1]);},eK);return(eO=(eP=(eQ=(eR=(eS=U.Make().WithHole({$:2,$0:"mensajes",$1:p.Map2(function(eW,eX){return eW?eX:"";},eC.get_View(),eB.get_View())}).WithHole({$:2,$0:"changed",$1:p.Map2(function(eW,eX){return J.Equals(eW.contactos,eX)?"":"mui-btn--primary";},eA,eD.get_View())}).WithHole({$:0,$0:"telefonos",$1:eL}).WithHole({$:0,$0:"correos",$1:eM}).WithHole({$:0,$0:"direcciones",$1:eN}),eS.WithHole(V.EventQ2(eS.k,"mastelefono",function(){return eS.i;},function(){eD.Set(eD.Get().concat([{$:2,$0:M.telVacio()}]));}))),eR.WithHole(V.EventQ2(eR.k,"mascorreo",function(){return eR.i;},function(){eD.Set(eD.Get().concat([{$:1,$0:M.correoVacio()}]));}))),eQ.WithHole(V.EventQ2(eQ.k,"masdireccion",function(){return eQ.i;},function(){eD.Set(eD.Get().concat([{$:0,$0:M.dirVacio()}]));}))),eP.WithHole(V.EventQ2(eP.k,"salvar",function(){return eP.i;},function(){var eW,eX,eY,eZ;eC.Set(true);eW=eB.Get();bj.Trim(eW)!==""?a.alert(eW):(eX=p.TryGet(eA),eX!=null&&eX.$==1?(eY=eX.$0,_1.iterA((eZ=bp.asyncResult(),eZ.Run(eZ.Delay(function(){return eZ.Bind$1(_1.ejecutarDataEventoNuevo({$:5,$0:[eY.id,eD.Get()]}),function(e0){br.refrescarData(true);a.alert((function(e1){return function(e2){return e1(X.p$15(e2));};}(a.id))(e0));return eZ.Zero();});}))))):a.alert("Error not caught FormaDatos"));}))),(eT=V.CompleteHoles(eO.k,eO.h,[]),(eU=new S.New(eT[1],W.formacontactos(eT[0])),(eO.i=eU,eU)))).get_Doc();};x.formaDoc=function(){return m.aliadoIdDoc(x.formaFormasPago);};x.formaFormasPago=function(eA){var eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO;function eP(eU,eV){return function(eW){return new cR.New(p.Map(function(eX){var eY;eY=bc.tryItem(eW,eX);return eY==null?null:eU(eY.$0);},eD.get_View()),function(eX){var eY;if(eX!=null&&eX.$==1){eY=eX.$0;eD.Set(cN.replace(eW,(eV(T.get(eD.Get(),eW)))(bv.fst3(eY[0],eY[1],eY[2])),eD.Get()));}});};}function eQ(eU){var eV;_1.iterA((eV=bp.asyncResult(),eV.Run(eV.Delay(function(){return eV.Bind(eU.authorizeIdR,function(eW){return eV.Bind$1(_1.validarFormaPago(eW),function(eX){a.alert(eX);return eV.Zero();});});}))));}function eR(eU,eV){return bv.removeButton(function(){eD.Set(cN.remove(eU,eD.Get()));},_0.Concat(bB.ofSeq(bc.delay(function(){return bc.append([_0.Button("AUTORIZAR DEBITO",[cS.Create("class","mui-btn mui-btn--raised mui-btn--primary"),cS.Create("title","Autorizar pago recurrente"),cW.Dynamic("style",p.Map(function(eW){return T.get(eW,eU).authorizeIdR.$==0?"":"display:None";},eD.get_View()))],function(){var eW,eX,eY,eZ,e0;eX=T.get(eD.Get(),eU).authorizeIdR;eY=T.get(eD.Get(),eU).cuentaPago;switch(eX.$==0?eY.$==0?(eW=[eX.$0,eY.$0.titular],1):eY.$==1?(eW=[eX.$0,eY.$0.titular],1):2:(eW=eX.$0,0)){case 0:a.alert("Pago no está verificado en Authorize: "+eW);break;case 1:eZ={$:1,$0:T.get(eD.Get(),eU).cuentaPago};B.cuentaPagoO().Set(eZ);e0=eV();B.cuentaAutorizar().Set(e0);B.titular().Set(eW[1]);B.set_pid(eW[0]);m.endPointV().Set({$:3,$0:"ProzperLyt.cntAutorizacion"});break;case 2:a.alert("Autorizacion no esta implementada");break;}})],bc.delay(function(){return bc.append([_0.Element("br",[],[])],bc.delay(function(){return bc.append([eV()],bc.delay(function(){return[_0.Button("validar",[cS.Create("title","validar forma de pago"),cW.Dynamic("style",p.Map(function(eW){return T.get(eW,eU).authorizeIdR.$==0?"":"display:None";},eD.get_View()))],function(){eQ(T.get(eD.Get(),eU));})];}));}));}));}))));}function eS(eU){return bF.New("",bd.Error$1(""),eU);}function eT(eU){return new bh.New(bc.choose(function(eV){var eW;eW=eV.authorizeIdR;return eW.$==0?{$:1,$0:eW.$0}:null;},eU));}eB=i.Create$1("");eC=i.Create$1(false);eD=i.Create$1([]);p.Sink(function(eU){eD.Set(eU);},m.formasPagoAliadoV().get_View());x.refrescarFormasPago();eE=p.Map(bc.indexed,eD.get_View());eF=p.Map(function(eU){function eV(eW,eX){return(x.ftar())[0](eX)==null?null:{$:1,$0:eW};}return bc.choose(function(eW){return eV(eW[0],eW[1]);},eU);},eE);eG=p.Map(function(eU){function eV(eW,eX){return(x.fcta())[0](eX)==null?null:{$:1,$0:eW};}return bc.choose(function(eW){return eV(eW[0],eW[1]);},eU);},eE);eH=_0.ConvertBy(a.id,function(eU){var eV;return eR(eU,(eV=(function(eW){return eP(eW[0],eW[1]);}(x.ftar()))(eU),function(){return(cP.formaDocO(eV))[1];}));},eF);eI=_0.ConvertBy(a.id,function(eU){var eV;return eR(eU,(eV=(function(eW){return eP(eW[0],eW[1]);}(x.fcta()))(eU),function(){return(cO.formaDocO(eV))[1];}));},eG);return(eJ=(eK=(eL=(eM=U.Make().WithHole({$:2,$0:"mensajes",$1:p.Map2(function(eU,eV){return eU?eV:"";},eC.get_View(),eB.get_View())}).WithHole({$:0,$0:"tarjetas",$1:eH}).WithHole({$:0,$0:"cuentas",$1:eI}),eM.WithHole(V.EventQ2(eM.k,"mastarjeta",function(){return eM.i;},function(){eD.Set(eD.Get().concat([eS(new bO({$:1,$0:M.tarVacio()}))]));}))),eL.WithHole(V.EventQ2(eL.k,"mascuenta",function(){return eL.i;},function(){eD.Set(eD.Get().concat([eS(new bO({$:0,$0:M.ctaVacio()}))]));}))).WithHole({$:2,$0:"changed",$1:p.Map2(function(eU,eV){return J.Equals(eU,eV)?"":"mui-btn--primary";},m.formasPagoAliadoV().get_View(),eD.get_View())}),eK.WithHole(V.EventQ2(eK.k,"salvar",function(){return eK.i;},function(){var eU,eV,eW;eC.Set(true);eU=eB.Get();bj.Trim(eU)!==""?a.alert(eU):(eV=p.TryGet(eA),eV!=null&&eV.$==1?_1.iterA((eW=bp.asyncResult(),eW.Run(eW.Delay(function(){return eW.Combine$1(eW.For(bh.op_Subtraction(eT(m.formasPagoAliadoV().Get()),eT(eD.Get())),function(eX){return eW.Bind$1(_1.borrarFormaPago(eX),function(){return eW.Zero();});}),eW.Delay(function(){return eW.Combine$1(eW.For(eD.Get(),function(eX){var eY,eZ,e0,e1;eY=(eZ=eX.cuentaPago,eZ.$==1&&(!(eZ.$0.numero.get_Id().indexOf("X")!=-1)&&(e0=eZ.$0,true))?{$:1,$0:_1.registrarTarjeta(e0)}:eZ.$==0&&(!(eZ.$0.numero.get_Id().indexOf("X")!=-1)&&(e1=eZ.$0,true))?{$:1,$0:_1.registrarCuenta(e1)}:null);return eY!=null&&eY.$==1?eW.Bind$1(eY.$0,function(){return eW.Zero();}):eW.Zero();}),eW.Delay(function(){x.refrescarFormasPago();br.refrescarData(true);return eW.Zero();}));}));})))):a.alert("Error not caught FormaDatos"));}))),(eN=V.CompleteHoles(eJ.k,eJ.h,[]),(eO=new S.New(eN[1],W.formacuentas(eN[0])),(eJ.i=eO,eO)))).get_Doc();};x.msg=function(eA){var eB;eB=eA.authorizeIdR;return eB.$==0?(function(eC){return function(eD){return eC("Cuenta verificada: "+X.p$16(eD));};}(a.id))(eB.$0):eB.$0===""?"La cuenta aun no ha sido verificada":eB.$0;};x.refrescarFormasPago=function(){_1.iterA(cM.map(function(eA){m.formasPagoAliadoV().Set(eA);},_1.obtenerFormasDePago()));};x.fcta=function(){_6.$cctor();return _6.fcta;};x.ftar=function(){_6.$cctor();return _6.ftar;};y.consolidado=function(){var eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY;function eZ(fc){return fc.nReferidos===0?"-":(((es.Curried3(function(fd,fe,ff){return fd(a.String(fe)+"/"+a.String(ff));}))(a.id))(fc.nRefActivos))(fc.nReferidos);}function e0(fc){return fc.nDescendientes===0?"-":(((es.Curried3(function(fd,fe,ff){return fd(a.String(fe)+"/"+a.String(ff));}))(a.id))(fc.nDescActivos))(fc.nDescendientes);}function e1(fc){return fc===0?"-":m.money(fc);}function e2(fc){var fd,fe,ff;fd=(fe=fc==null?null:(ff=fc.$0,bc.tryFind(function(fg){return J.Equals(fg.id,ff);},m.modeloV().Get().aliados)),fe==null?null:{$:1,$0:O.nombre(fe.$0.datosPersonales)});return fd==null?"-":fd.$0;}function e3(fc){var fd;return bu.New(fc.docPendientes===0?(function(fe){return function(ff){return fe(bj.PadLeft(a.String(ff),2));};}(a.id))(fc.documentos):(((es.Curried3(function(fe,ff,fg){return fe("("+bj.PadLeft(a.String(ff),2)+")"+bj.PadLeft(a.String(fg),2));}))(a.id))(fc.docPendientes))(fc.documentos),O.nombre(fc.datosPersonales),O.correo(fc),(function(fe){return function(ff){return fe(X.p$1(ff));};}(a.id))(fc.status),(fd=fc.influyente,fd==null?"":fd.$0),(function(fe){return function(ff){return fe(X.p$2(ff));};}(a.id))(fc.tipo),e2(fc.idPadreO),(function(fe){return function(ff){return fe(bj.PadLeft(a.String(ff),9));};}(a.id))(fc.nivel),(function(fe){return function(ff){return fe(bj.PadLeft(bz.toSafe(ff),9));};}(a.id))(eZ(fc)),(function(fe){return function(ff){return fe(bj.PadLeft(bz.toSafe(ff),9));};}(a.id))(e0(fc)),(function(fe){return function(ff){return fe(bj.PadLeft(bz.toSafe(ff),9));};}(a.id))(e1(fc.comision)),bd["String.Right$1"]((function(fe){return function(ff){return fe(X.p$17(ff));};}(a.id))(fc.diaPago),2),bA.toYYYYMMDD("-",fc.fechaRegistro),(function(fe){return function(ff){return fe(bz.toSafe(ff));};}(a.id))(fc.id.get_Id()));}function e4(fc){return[fc.archivos,fc.nombre,fc.correo,fc.status,fc.influyente,fc.tipo,fc.referido,fc.nivel,fc.referidos,fc.descendientes,fc.comision,fc.diaPago,fc.desde,fc.Id];}function e5(fc,fd,fe){return function(ff){var fg;fg=ff[0];return[fg===fc?1:fg<fc?fg+1:fg,fc===fg&&fc===1?!ff[1]:ff[1],ff[2]];};}function e6(fc){eB.Set(bu.New((function(fd){return e5(fd[0],fd[1],fd[2]);}(fc))(eB.Get().archivos),(function(fd){return e5(fd[0],fd[1],fd[2]);}(fc))(eB.Get().nombre),(function(fd){return e5(fd[0],fd[1],fd[2]);}(fc))(eB.Get().correo),(function(fd){return e5(fd[0],fd[1],fd[2]);}(fc))(eB.Get().status),(function(fd){return e5(fd[0],fd[1],fd[2]);}(fc))(eB.Get().influyente),(function(fd){return e5(fd[0],fd[1],fd[2]);}(fc))(eB.Get().tipo),(function(fd){return e5(fd[0],fd[1],fd[2]);}(fc))(eB.Get().referido),(function(fd){return e5(fd[0],fd[1],fd[2]);}(fc))(eB.Get().nivel),(function(fd){return e5(fd[0],fd[1],fd[2]);}(fc))(eB.Get().referidos),(function(fd){return e5(fd[0],fd[1],fd[2]);}(fc))(eB.Get().descendientes),(function(fd){return e5(fd[0],fd[1],fd[2]);}(fc))(eB.Get().comision),(function(fd){return e5(fd[0],fd[1],fd[2]);}(fc))(eB.Get().diaPago),(function(fd){return e5(fd[0],fd[1],fd[2]);}(fc))(eB.Get().desde),(function(fd){return e5(fd[0],fd[1],fd[2]);}(fc))(eB.Get().Id)));}function e7(fc,fd){return eA.Set(T.map(function(fe){return J.Equals(fe.id,fc)?fd(fe):fe;},eA.Get()));}function e8(fc,fd){return e7(fc,function(fe){return N.New(fe.id,fe.idPadreO,fe.idForAuthorize,fe.influyente,fe.datosPersonales,fe.contactos,fe.identificacion,fe.isInternal,by.tryParse(fd),fe.diaPago,fe.tipo,fe.fechaRegistro,fe.fechaStatus,fe.nReferidos,fe.nRefActivos,fe.nDescendientes,fe.nDescActivos,fe.comision,fe.nivel,fe.documentos,fe.docPendientes);});}function e9(fc,fd){return e7(fc,function(fe){return N.New(fe.id,fe.idPadreO,fe.idForAuthorize,bj.Trim(fd)===""?null:{$:1,$0:bj.Trim(fd)},fe.datosPersonales,fe.contactos,fe.identificacion,fe.isInternal,fe.status,fe.diaPago,fe.tipo,fe.fechaRegistro,fe.fechaStatus,fe.nReferidos,fe.nRefActivos,fe.nDescendientes,fe.nDescActivos,fe.comision,fe.nivel,fe.documentos,fe.docPendientes);});}function e_(fc,fd){var fe;fe=fd===""?null:{$:1,$0:new _2({$:0,$0:fd})};return e7(fc,function(ff){return N.New(ff.id,fe,ff.idForAuthorize,ff.influyente,ff.datosPersonales,ff.contactos,ff.identificacion,ff.isInternal,ff.status,ff.diaPago,ff.tipo,ff.fechaRegistro,ff.fechaStatus,ff.nReferidos,ff.nRefActivos,ff.nDescendientes,ff.nDescActivos,ff.comision,ff.nivel,ff.documentos,ff.docPendientes);});}function e$(fc){return bc.tryFind(function(fd){return J.Equals(fd.id,fc);},m.modeloV().Get().aliados);}function fa(){var fc;_1.iterA((fc=bp.asyncResult(),fc.Run(fc.Delay(function(){return fc.Combine$1(fc.For(eA.Get(),function(fd){var fe,ff;fe=e$(fd.id);return fe!=null&&fe.$==1?(ff=fe.$0,!J.Equals(fd.status,ff.status)||!J.Equals(fd.idPadreO,ff.idPadreO)||!J.Equals(fd.influyente,ff.influyente)?fc.Bind$1(_1.ejecutarDataEventoNuevo({$:8,$0:[fd.id,fd.status,fd.idPadreO,fd.influyente]}),function(){return fc.Zero();}):fc.Zero()):fc.Zero();}),fc.Delay(function(){br.refrescarData(true);return fc.Zero();}));}))));}function fb(fc,fd){var fe,ff,fg,fh,fi,fj,fk,fl,fm,fn,fo,fp;return(fe=(ff=(fg=_0.BindView(a.id,p.Map(function(fq){return J.Equals(fq,{$:1,$0:new _2({$:0,$0:fc})})?eE.f():_0.get_Empty();},A.expandedOV().get_View())),(fh=_0.BindView(bv.crearOptions,bv.statuses().get_View()),(fi=new cR.New(p.Map(function(fq){return fq.influyente;},fd),(fj=new _2({$:0,$0:fc}),function(fq){return e9(fj,fq);})),(fk=new cR.New(p.Map(function(fq){return fq.status;},fd),(fl=new _2({$:0,$0:fc}),function(fq){return e8(fl,fq);})),(fm=new cR.New(p.Map(function(fq){return fq.referido;},fd),(fn=new _2({$:0,$0:fc}),function(fq){return e_(fn,fq);})),U.Make().WithHole({$:2,$0:"nombre",$1:p.Map(function(fq){return fq.nombre;},fd)}).WithHole({$:2,$0:"correo",$1:p.Map(function(fq){return fq.correo;},fd)}).WithHole({$:2,$0:"tipo",$1:p.Map(function(fq){return fq.tipo;},fd)}).WithHole({$:8,$0:"referido",$1:fm})).WithHole({$:8,$0:"status",$1:fk})).WithHole({$:8,$0:"influyente",$1:fi})).WithHole({$:0,$0:"statuses",$1:fh})).WithHole({$:2,$0:"nivel",$1:p.Map(function(fq){return fq.nivel;},fd)}).WithHole({$:2,$0:"referidos",$1:p.Map(function(fq){return fq.referidos;},fd)}).WithHole({$:2,$0:"descendientes",$1:p.Map(function(fq){return fq.descendientes;},fd)}).WithHole({$:2,$0:"comision",$1:p.Map(function(fq){return fq.comision;},fd)}).WithHole({$:2,$0:"diapago",$1:p.Map(function(fq){return fq.diaPago;},fd)}).WithHole({$:2,$0:"desde",$1:p.Map(function(fq){return fq.desde;},fd)}).WithHole({$:2,$0:"id",$1:p.Map(function(fq){return fq.Id;},fd)}).WithHole({$:0,$0:"detalles",$1:fg})),ff.WithHole(V.EventQ2(ff.k,"expandfiles",function(){return ff.i;},function(){var fq;fq=J.Equals(A.expandedOV().Get(),{$:1,$0:new _2({$:0,$0:fc})})?null:{$:1,$0:new _2({$:0,$0:fc})};A.expandedOV().Set(fq);}))).WithHole({$:2,$0:"expanded",$1:p.Map(function(fq){return fq.archivos;},fd)}),(fo=V.CompleteHoles(fe.k,fe.h,[["status",0],["influyente",0],["referido",0]]),(fp=new S.New(fo[1],W.filaconsolidado(fo[0])),(fe.i=fp,fp)))).get_Doc();}eA=i.Create$1([]);p.Sink(function(fc){eA.Set(fc);},p.Map(function(fc){return fc.aliados;},m.modeloV().get_View()));eB=i.Create$1(bu.New([1,false,function(fc){return fc.archivos.toUpperCase();}],[14,true,function(fc){return fc.nombre.toUpperCase();}],[13,true,function(fc){return fc.correo.toUpperCase();}],[3,true,function(fc){return fc.status.toUpperCase();}],[4,false,function(fc){return fc.influyente.toUpperCase();}],[5,true,function(fc){return fc.tipo.toUpperCase();}],[6,true,function(fc){return fc.referido.toUpperCase();}],[7,true,function(fc){return fc.nivel.toUpperCase();}],[8,true,function(fc){return fc.referidos.toUpperCase();}],[2,false,function(fc){return fc.descendientes.toUpperCase();}],[9,true,function(fc){return fc.comision.toUpperCase();}],[10,true,function(fc){return fc.diaPago.toUpperCase();}],[11,true,function(fc){return fc.desde.toUpperCase();}],[12,true,function(fc){return fc.Id.toUpperCase();}]));eC=i.Create$1("");eD=_0.BindView(function(fc){return bv.crearOptions2(bc.map(function(fd){return[O.nombre2(fd.datosPersonales),fd.id.get_Id()];},fc.aliados));},m.modeloV().get_View());eE=r.Create(function(){return _0.Element("tr",[cS.Create("bgcolor","beige")],[_0.Element("td",[cS.Create("colspan","12")],[A.listaDocs()])]);});return(eF=(eG=_0.ConvertSeqBy(function(fc){return fc.Id;},function(fc){return function(fd){return fb(fc,fd);};},p.Map3(function(fc,fd,fe){var ff,fg,fh;function fi(fl,fm,fn){return fn;}function fj(fl,fm,fn,fo){return be.op_AmpGreater(function(fp,fq){return(fl(fp))(fq);},function(fp,fq){return(fm(fp))(fq);},fn,fo);}function fk(fl,fm,fn){return(fm?es.Curried3(be.asc):es.Curried3(be.desc))(fn);}ff=bj.Trim(fe).toUpperCase();fg=T.map(function(fl){return fi(fl[0],fl[1],fl[2]);},e4(fd));fh=T.reduce(function(fl,fm){return es.Curried(fj,2,[fl,fm]);},T.map(function(fl){return fk(fl[0],fl[1],fl[2]);},T.sortBy(function(fl){return a.id(fl[0],fl[1],fl[2]);},e4(fd))));return bc.sortWith(function(fl,fm){return(fh(fl))(fm);},bc.filter(function(fl){return ff===""||bc.exists(function(fm){return fm(fl).indexOf(ff)!=-1;},fg);},bc.map(e3,fc)));},p.Map(function(fc){return fc.aliados;},m.modeloV().get_View()),eB.get_View(),eC.get_View())),(eH=(eI=(eJ=(eK=(eL=(eM=(eN=(eO=(eP=(eQ=(eR=(eS=(eT=(eU=(eV=(eW=U.Make(),eW.WithHole(V.EventQ2(eW.k,"salvar",function(){return eW.i;},function(){fa();}))),eV.WithHole(V.EventQ2(eV.k,"cancelar",function(){return eV.i;},function(){eA.Set(m.modeloV().Get().aliados);}))).WithHole({$:2,$0:"changed",$1:p.Map2(function(fc,fd){return J.Equals(fc.aliados,fd)?"":"mui-btn--primary";},m.modeloV().get_View(),eA.get_View())}).WithHole({$:8,$0:"filtro",$1:eC}).WithHole({$:0,$0:"referidores",$1:eD}),eU.WithHole(V.EventQ2(eU.k,"sort_archivos",function(){return eU.i;},function(){e6(eB.Get().archivos);}))),eT.WithHole(V.EventQ2(eT.k,"sort_nombre",function(){return eT.i;},function(){e6(eB.Get().nombre);}))),eS.WithHole(V.EventQ2(eS.k,"sort_correo",function(){return eS.i;},function(){e6(eB.Get().correo);}))),eR.WithHole(V.EventQ2(eR.k,"sort_status",function(){return eR.i;},function(){e6(eB.Get().status);}))),eQ.WithHole(V.EventQ2(eQ.k,"sort_influyente",function(){return eQ.i;},function(){e6(eB.Get().influyente);}))),eP.WithHole(V.EventQ2(eP.k,"sort_tipo",function(){return eP.i;},function(){e6(eB.Get().tipo);}))),eO.WithHole(V.EventQ2(eO.k,"sort_referido",function(){return eO.i;},function(){e6(eB.Get().referido);}))),eN.WithHole(V.EventQ2(eN.k,"sort_nivel",function(){return eN.i;},function(){e6(eB.Get().nivel);}))),eM.WithHole(V.EventQ2(eM.k,"sort_referidos",function(){return eM.i;},function(){e6(eB.Get().referidos);}))),eL.WithHole(V.EventQ2(eL.k,"sort_descendientes",function(){return eL.i;},function(){e6(eB.Get().descendientes);}))),eK.WithHole(V.EventQ2(eK.k,"sort_comision",function(){return eK.i;},function(){e6(eB.Get().comision);}))),eJ.WithHole(V.EventQ2(eJ.k,"sort_diapago",function(){return eJ.i;},function(){e6(eB.Get().diaPago);}))),eI.WithHole(V.EventQ2(eI.k,"sort_desde",function(){return eI.i;},function(){e6(eB.Get().desde);}))),eH.WithHole(V.EventQ2(eH.k,"sort_id",function(){return eH.i;},function(){e6(eB.Get().Id);}))).WithHole({$:0,$0:"tbody",$1:eG})),(eX=V.CompleteHoles(eF.k,eF.h,[["filtro",0]]),(eY=new S.New(eX[1],W.consolidado(eX[0])),(eF.i=eY,eY)))).get_Doc();};z.comisiones=function(){var eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL;function eM(eQ,eR){return eR===""?eQ:eR;}function eN(){var eQ;cU.Start((eQ=null,cU.Delay(function(){return cU.Bind(p.GetAsync(eA),function(eR){a.saveAs(new bN([bj.concat("\r\n",bc.map(function(eS){var eT,eU;eT=eS[0];eU=eS[1];return(((((((es.Curried(function(eV,eW,eX,eY,eZ,e0,e1){return eV(bz.toSafe(eW)+","+bz.toSafe(eX)+","+bz.toSafe(eY)+","+bz.toSafe(eZ)+","+bz.prettyPrint(e0)+","+bz.prettyPrint(e1));},7))(a.id))("22"))(eM("----------",eU.numero.get_Id())))(eM("----------",eU.routing.get_Id())))((function(eV){return function(eW){return eV(a.String(eW)+".00");};}(a.id))(eT.comision)))("----------"))(eU.titular===""?O.nombre2(eT.datosPersonales):eU.titular);},eR))],{type:"text/plain;charset=utf-8"}),"pagos.csv");return cU.Zero();});})),null);}function eO(eQ,eR){return eQ.id;}function eP(eQ,eR){var eS,eT,eU,eV,eW;eS=p.Map(function(eX){return eX[0];},eR);eT=p.Map(function(eX){return eX[1];},eR);return(eU=U.Make().WithHole({$:1,$0:"codigo",$1:"22"}).WithHole({$:2,$0:"cuenta",$1:p.Map(function(eX){return eM("----------",eX.numero.get_Id());},eT)}).WithHole({$:2,$0:"aba",$1:p.Map(function(eX){return eM("----------",eX.routing.get_Id());},eT)}).WithHole({$:2,$0:"monto",$1:p.Map(function(eX){return(function(eY){return function(eZ){return eY(a.String(eZ)+".00");};}(a.id))(eX.comision);},eS)}).WithHole({$:1,$0:"identificacion",$1:"---------"}).WithHole({$:2,$0:"nombre",$1:p.Map2(function(eX,eY){return eM(O.nombre2(eX.datosPersonales),eY.titular);},eS,eT)}),(eV=V.CompleteHoles(eU.k,eU.h,[]),(eW=new S.New(eV[1],W.filapago(eV[0])),(eU.i=eW,eW)))).get_Doc();}eA=p.MapAsync(function(eQ){var eR,eS,eT;function eU(eV){return cU.Return(eV);}return cU.Bind((eR=bp.asyncResult(),eR.Run(eR.Delay(function(){var eV;eV=bc.filter(function(eW){return eW.comision>0;},eQ);return eR.Bind$1(_1.obtenerFormasDePagoPara(T.ofSeq(bc.map(function(eW){return eW.id;},eV))),function(eW){function eX(eZ,e0){return J.Equals(eZ.id,e0[0])?{$:1,$0:[eZ,e0[1]]}:null;}function eY(eZ,e0){var e1,e2;return[eZ,(e1=bc.tryPick(function(e3){var e4;e4=e3.cuentaPago;return e4.$==0?{$:1,$0:e4.$0}:null;},e0),(e2=M.ctaVacio(),e1==null?e2:e1.$0))];}return eR.Return(bc.choose(function(eZ){return eX(eZ[0],eZ[1]);},bc.zip(eV,bc.map(function(eZ){return eY(eZ[0],eZ[1]);},eW))));});}))),(eS=(eT=[],function(eV){return bG.defaultValue(eT,eV);}),function(eV){return eU(eS(eV));}));},p.Map(function(eQ){return eQ.aliados;},m.modeloV().get_View()));return(eB=(eC=bB.ofArray([(eD=U.Make().WithHole({$:2,$0:"codigo",$1:p.Map(function(eQ){return(function(eR){return function(eS){return eR(a.String(eS));};}(a.id))(bc.length(eQ));},eA)}).WithHole({$:1,$0:"cuenta",$1:""}).WithHole({$:1,$0:"aba",$1:""}).WithHole({$:2,$0:"monto",$1:p.Map(function(eQ){function eR(eS,eT){return eS.comision;}return(function(eS){return function(eT){return eS(a.String(eT)+".00");};}(a.id))(bc.sumBy(function(eS){return eR(eS[0],eS[1]);},eQ));},eA)}).WithHole({$:1,$0:"identificacion",$1:""}).WithHole({$:1,$0:"nombre",$1:""}),(eE=V.CompleteHoles(eD.k,eD.h,[]),(eF=new S.New(eE[1],W.filapago(eE[0])),(eD.i=eF,eF)))).get_Doc(),(eG=U.Make().WithHole({$:1,$0:"codigo",$1:""}).WithHole({$:1,$0:"cuenta",$1:""}).WithHole({$:1,$0:"aba",$1:""}).WithHole({$:1,$0:"monto",$1:"--------------------"}).WithHole({$:1,$0:"identificacion",$1:""}).WithHole({$:1,$0:"nombre",$1:""}),(eH=V.CompleteHoles(eG.k,eG.h,[]),(eI=new S.New(eH[1],W.filapago(eH[0])),(eG.i=eI,eI)))).get_Doc(),_0.ConvertSeqBy(function(eQ){return eO(eQ[0],eQ[1]);},function(eQ){return function(eR){return eP(eQ,eR);};},eA)]),(eJ=U.Make(),eJ.WithHole(V.EventQ2(eJ.k,"exportar",function(){return eJ.i;},function(){eN();}))).WithHole({$:0,$0:"tbody",$1:_0.Concat(eC)})),(eK=V.CompleteHoles(eB.k,eB.h,[]),(eL=new S.New(eK[1],W.tablapagos(eK[0])),(eB.i=eL,eL)))).get_Doc();};A.listaDocs=function(){var eA,eB,eC,eD,eE,eF,eG,eH,eI;function eJ(){var eM;_1.iterA((eM=bp.asyncResult(),eM.Run(eM.Delay(function(){eB.Set([]);eA.Set([]);return bI["AsyncResultBuilder.Bind"](eM,p.GetAsync(A.aliadoIdW()),function(eN){return eM.Bind$1(_1.obtenerListaDocs(eN),function(eO){eB.Set(eO);eA.Set(eO);return eM.Zero();});});}))));}function eK(eM){return function(eN,eO){var eP;return _1.iterA((eP=bp.asyncResult(),eP.Run(eP.Delay(function(){eJ();return eP.Bind$1(_1.ejecutarDataEventoNuevo({$:9,$0:[new _2({$:0,$0:eM}),T.ofSeq(eA["var"].Get())]}),function(){br.refrescarData(true);a.alert(eO);return eP.Zero();});}))));};}function eL(eM,eN){var eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX;eM.preventDefault();eS=a.jQuery("#SubirDocumentos");eT=new a.FormData();eU=eS.serializeArray();for(eV=0,eW=eU.length-1;eV<=eW;eV++){eX=T.get(eU,eV);eT.append(eX.name,eX.value);}eP=eS.children("input[type=file]").first().get(0).files.item(0);eQ=eP.name;eT.append("file",eP);eu.ajax((eR={},eR.type="POST",eR.url="/api/subir/"+eN+"/"+eQ,eR.data=eT,eR.contentType=false,eR.processData=false,eR.success=eK(eN),eR));}eA=_7.Create(function(eM){return eM.nombre;},[]);eB=_7.Create(function(eM){return eM.nombre;},[]);p.Sink(function(eM){if(!J.Equals(eM,new _2({$:0,$0:""})))eJ();},A.aliadoIdW());return(eC=(eD=(eE=_0.EmbedView(p.Map(bv.crearOptions,bv.tiposAr().get_View())),(eF=(eG=bJ.docLensMapView(a.id,function(eM,eN){var eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ;return(eO=(eP=cW.DynamicPred("disabled",p.Map(function(e0){return J.Equals(e0.idAliado,n.get_LoggedId());},eN.get_View()),p.Const("")),(eQ=_0.EmbedView(p.Map(bv.crearOptions,bv.statusAr().get_View())),(eR=p.Map(function(e0){return e0.get_Id();},A.aliadoIdW()),(eS=new cR.New(p.Map(function(e0){return a.String(e0.status);},eN.get_View()),(eT=(eU=i.Lens(eN,function(e0){return e0.status;},function(e0,e1){return bH.New(e0.idAliado,e0.tipo,e0.nombre,e0.modificado,e0.tamano,e1,e0.comentario);}),function(e0){eU.Set(e0);}),function(e0){return eT(bM.Parse(e0));})),(eV=new cR.New(p.Map(function(e0){return a.String(e0.tipo);},eN.get_View()),(eW=(eX=i.Lens(eN,function(e0){return e0.tipo;},function(e0,e1){return bH.New(e0.idAliado,e1,e0.nombre,e0.modificado,e0.tamano,e0.status,e0.comentario);}),function(e0){eX.Set(e0);}),function(e0){return eW(bL.Parse(e0));})),U.Make().WithHole({$:2,$0:"nombre",$1:p.Map(function(e0){return e0.nombre;},eN.get_View())}).WithHole({$:8,$0:"tipo",$1:eV})).WithHole({$:8,$0:"status",$1:eS})).WithHole({$:2,$0:"tamano",$1:p.Map(function(e0){return bK.thousands(e0.tamano);},eN.get_View())}).WithHole({$:2,$0:"modificado",$1:p.Map(function(e0){return bA.toYYYYMMDDHHMM("-",e0.modificado);},eN.get_View())}).WithHole({$:2,$0:"idaliado",$1:eR})).WithHole({$:0,$0:"statuses",$1:eQ})).WithHole({$:3,$0:"disabled",$1:eP})),(eY=V.CompleteHoles(eO.k,eO.h,[["tipo",0],["status",0]]),(eZ=new S.New(eY[1],W.filadocs(eY[0])),(eO.i=eZ,eZ)))).get_Doc();},eA),U.Make().WithHole({$:0,$0:"tbody",$1:eG})),eF.WithHole(V.EventQ2(eF.k,"subir",function(){return eF.i;},function(eM){var eN;p.Get((eN=eM.Event,function(eO){return eL(eN,eO);}),p.Map(function(eO){return eO.get_Id();},A.aliadoIdW()));}))).WithHole({$:0,$0:"tiposarchivo",$1:eE})).WithHole({$:2,$0:"changed",$1:p.Map2(function(eM,eN){return J.Equals(eM,eN)?"":"mui-btn--primary";},eB.v,eA.v)}),eD.WithHole(V.EventQ2(eD.k,"salvar",function(){return eD.i;},function(){var eM;_1.iterA((eM=bp.asyncResult(),eM.Run(eM.Delay(function(){var eN;eN=T.ofSeq(bc.filter(function(eO){return!J.Equals(bc.tryFind(function(eP){return eP.nombre===eO.nombre;},eB["var"].Get()),{$:1,$0:eO});},eA["var"].Get()));return!bc.isEmpty(eN)?bI["AsyncResultBuilder.Bind"](eM,p.GetAsync(A.aliadoIdW()),function(eO){return eM.Bind$1(_1.ejecutarDataEventoNuevo({$:9,$0:[eO,eN]}),function(eP){eJ();br.refrescarData(true);a.alert((function(eQ){return function(eR){return eQ(X.p$15(eR));};}(a.id))(eP));return eM.Zero();});}):eM.Zero();}))));}))),(eH=V.CompleteHoles(eC.k,eC.h,[]),(eI=new S.New(eH[1],W.subirdocumentos(eH[0])),(eC.i=eI,eI)))).get_Doc();};A.expandedOV=function(){_6.$cctor();return _6.expandedOV;};A.aliadoIdW=function(){_6.$cctor();return _6.aliadoIdW;};B.formaAutorizacion=function(){var eA,eB,eC,eD,eE,eF,eG,eH;eA=(eB=(eC=_0.EmbedView(B.cuentaAutorizar().get_View()),U.Make().WithHole({$:2,$0:"titular",$1:B.titular().get_View()}).WithHole({$:2,$0:"montoafiliacion",$1:p.Map(function(eI){return(function(eJ){return function(eK){return eJ("$"+a.String(eK)+".00");};}(a.id))(eI.premisas.montoAfiliacion);},m.modeloV().get_View())}).WithHole({$:2,$0:"dia",$1:p.Map(function(eI){return a.String(O.dia(eI.diaPago));},m.aliadoW())}).WithHole({$:0,$0:"cuentadebitar",$1:eC})),(eD=V.CompleteHoles(eB.k,eB.h,[]),(eE=new S.New(eD[1],W.autorizacionpago(eD[0])),(eB.i=eE,eE)))).get_Doc();eF=(eG=(eH=B.cuentaPagoO().Get(),eH==null?null:{$:1,$0:eH.$0.get_AutorizacionPre()}),eG==null?"Autorizacion -- ------":eG.$0);return bP.formaFirma(B.titular().get_View(),eA,bL.Autorizacion,B.actualizarSubscripcion,eF);};B.cuentaPagoO=function(){_6.$cctor();return _6.cuentaPagoO;};B.actualizarSubscripcion=function(){var eA;eA=_1.actualizarSubscripcion(B.pid());return cM.map(function(eB){return function(eC){return eB("Subscripción #"+bz.toSafe(eC)+" creada.");};}(a.id),eA);};B.titular=function(){_6.$cctor();return _6.titular;};B.cuentaAutorizar=function(){_6.$cctor();return _6.cuentaAutorizar;};B.set_pid=function(eA){_6.$cctor();_6.pid=eA;};B.pid=function(){_6.$cctor();return _6.pid;};C.formaContrato=function(){var eA,eB,eC,eD;eA=p.Map(function(eE){return O.nombre2(eE.datosPersonales);},m.aliadoW());return bP.formaFirma(eA,(eB=U.Make().WithHole({$:2,$0:"aliado",$1:eA}),(eC=V.CompleteHoles(eB.k,eB.h,[]),(eD=new S.New(eC[1],W.contrato(eC[0])),(eB.i=eD,eD)))).get_Doc(),bL.Contrato,C.firmarContrato,"Contrato");};C.firmarContrato=function(){return cM.rtn("Contrato firmado!");};D.transacciones=function(){return m.selAliadoIdDoc(D.docTransacciones);};D.docTransacciones=function(eA){var eB,eC,eD,eE;function eF(eH,eI){var eJ,eK,eL;return(eJ=U.Make().WithHole({$:2,$0:"fecha",$1:p.Map(function(eM){return bA.toYYYYMMDDHHMM("-",eM.fechaPago);},eI)}).WithHole({$:2,$0:"transid",$1:p.Map(function(eM){return eM.transaccion;},eI)}).WithHole({$:2,$0:"cuenta",$1:p.Map(function(eM){return a.String(eM.concepto);},eI)}).WithHole({$:2,$0:"status",$1:p.Map(function(eM){return eM.statusTran;},eI)}).WithHole({$:2,$0:"monto",$1:p.Map(function(eM){return(function(eN){return function(eO){return eN(eO.toFixed(2));};}(a.id))(eM.monto/100);},eI)}),(eK=V.CompleteHoles(eJ.k,eJ.h,[]),(eL=new S.New(eK[1],W.transaccion(eK[0])),(eJ.i=eL,eL)))).get_Doc();}function eG(eH,eI){return bc.sortBy(function(eJ){return eJ.fechaPago;},bc.filter(function(eJ){return J.Equals(eJ.idAliado,eI.id);},eH));}return(eB=(eC=_0.ConvertSeqBy(function(eH){return eH.transaccion;},function(eH){return function(eI){return eF(eH,eI);};},(((es.Curried3(p.Map2))(eG))(D.transaccionesW()))(eA)),U.Make().WithHole({$:0,$0:"tbody",$1:eC})),(eD=V.CompleteHoles(eB.k,eB.h,[]),(eE=new S.New(eD[1],W.transacciones(eD[0])),(eB.i=eE,eE)))).get_Doc();};D.transaccionesW=function(){_6.$cctor();return _6.transaccionesW;};E.pendientes=function(eA){return _0.BindView(a.id,p.MapAsync(function(eB){var eC;eC=null;return cU.Delay(function(){return cU.Bind(E.chequearStatusAliado(eB,_1.obtenerListaDocs(eB.id),(new bT.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerFormasDePagoId:-1441558235",[eB.id])),function(eD){var eE,eF,eG,eH,eI;return eD.$==0&&bc.isEmpty(eD.$0)?cU.Return(_0.get_Empty()):eD.$==1?cU.Return(_0.TextNode(eD.$0)):cU.Return((eF=(eG=_0.Concat(bc.map(E.pendiente,eD.$0)),U.Make().WithHole({$:0,$0:"pasos",$1:eG})),(eH=V.CompleteHoles(eF.k,eF.h,[]),(eI=new S.New(eH[1],W.pendientes(eH[0])),(eF.i=eI,eI)))).get_Doc());});});},eA));};E.chequearStatusAliado=function(eA,eB,eC){var eD;eD=bp.asyncResult();return eD.Run(eD.Delay(function(){return eA.status.$==0?eD.Bind$1(eB,function(eE){return eD.Bind$1(eC,function(eF){var eG;eG=bc.filter(function(eH){return eH.authorizeIdR.$==0;},eF);return eD.Return(bB.ofSeq(bc.delay(function(){var eH;return bc.append(E.chequearArchivos((eH=bL.Contrato,function(eI){return E.esArchivoTipo(eH,eI);}),E.firmarContrato,eE),bc.delay(function(){return bc.append(E.chequearCuentas(function(){return true;},E.agregarCuenta,eF),bc.delay(function(){return bc.append(bc.length(eG)>0?E.chequearArchivos(function(eI){return E.esAutorizacion(eG,eI);},E.firmarAutorizacion,eE):[],bc.delay(function(){var eI;return bc.append(E.chequearArchivos((eI=bL.FormaW9,function(eJ){return E.esArchivoTipo(eI,eJ);}),function(){return E.subirArchivoTipo(bL.FormaW9);},eE),bc.delay(function(){var eJ;return bc.append(E.chequearArchivos((eJ=bL.FormaW8BEN,function(eK){return E.esArchivoTipo(eJ,eK);}),function(){return E.subirArchivoTipo(bL.FormaW8BEN);},eE),bc.delay(function(){return E.chequearArchivos(E.esIdentificacion,E.subirIdentificacion,eE);}));}));}));}));}));})));});}):eD.Return(cL.Empty);}));};E.pendiente=function(eA){return _0.Element("li",[],eA);};E.chequearArchivos=function(eA,eB,eC){var eD;eD=E.filtroArchivo(eA,eC);return!J.Equals(eD,null)&&eD.length===0?[eB()]:bc.map(E.verificarArchivo,eD);};E.firmarContrato=function(){return bB.ofArray([_0.Element("i",[cS.Create("class","far fa-square")],[]),_0.TextNode(" Firmar "),E.enlace(ds.FormaContrato(),"Contrato")]);};E.esArchivoTipo=function(eA,eB){return J.Equals(eB.tipo,eA);};E.chequearCuentas=function(eA,eB,eC){var eD;eD=E.filtroCuenta(eA,eC);return!J.Equals(eD,null)&&eD.length===0?[eB()]:bc.map(E.verificarCuenta,eD);};E.agregarCuenta=function(){return bB.ofArray([_0.Element("i",[cS.Create("class","far fa-square")],[]),_0.TextNode(" Agregar Forma de pago: "),E.enlace(ds.FormasPago(),"Tarjeta de Credito o Cuenta Bancaria")]);};E.firmarAutorizacion=function(){return bB.ofArray([_0.Element("i",[cS.Create("class","far fa-square")],[]),_0.TextNode(" Firmar "),E.enlace(ds.FormasPago(),"Autorizacion (Haga click en: AUTORIZAR DEBITO)")]);};E.esAutorizacion=function(eA,eB){return eB.tipo.$===1&&bc.exists(function(eC){return eB.nombre.indexOf(eC.cuentaPago.get_MaskedCuenta())!=-1;},eA);};E.subirArchivoTipo=function(eA){var eB;eB=E.tarchivo2String(eA);return bB.ofArray([_0.Element("i",[cS.Create("class","far fa-square")],[]),E.enlace(ds.Subir()," Subir "),E.enlace(eB[1],eB[0])]);};E.esIdentificacion=function(eA){var eB;eB=eA.tipo;return eB.$==2||(eB.$==3||eB.$==4);};E.subirIdentificacion=function(){return bB.ofArray([_0.Element("i",[cS.Create("class","far fa-square")],[]),E.enlace(ds.Subir()," Subir "),_0.TextNode("documento de identidad: "),E.enlace(ds.Subir(),"Cedula, Pasaporte, Licencia de Conducir")]);};E.filtroArchivo=function(eA,eB){return T.ofSeq(bc.filter(eA,bc.filter(function(eC){return eC.status.$!==3&&eC.status.$!==4;},eB)));};E.verificarArchivo=function(eA){var eB;eB=eA.status;return eB.$==1?bB.ofArray([_0.Element("i",[cS.Create("class","fas fa-check-double")],[]),_0.TextNode(" "),E.enlaceArchivo(eA),_0.TextNode(" Verificado")]):eB.$==2?bB.ofArray([_0.Element("i",[cS.Create("class","fas fa-times-circle")],[]),_0.TextNode(" "),E.enlaceArchivo(eA),_0.TextNode(" Rechazado")]):E.pendienteArchivo(eA);};E.enlace=function(eA,eB){return _0.Element("a",[cS.Create("href",eA)],[_0.TextNode(eB)]);};E.filtroCuenta=function(eA,eB){return T.ofSeq(bc.filter(eA,eB));};E.verificarCuenta=function(eA){var eB;eB=eA.authorizeIdR;return eB.$==1?bB.ofArray([_0.Element("i",[cS.Create("class","far fa-square")],[]),_0.TextNode(((((es.Curried(function(eC,eD,eE,eF){return eC(" "+bz.toSafe(eD)+" "+bz.toSafe(eE)+" NO REGISTRADA en Authorize ("+bz.toSafe(eF)+")");},4))(a.id))(eA.cuentaPago.get_TipoLargo()))(eA.cuentaPago.get_MaskedCuenta()))(eB.$0))]):bB.ofArray([_0.Element("i",[cS.Create("class","far fa-check-square")],[]),_0.TextNode(((((es.Curried(function(eC,eD,eE,eF){return eC(" "+bz.toSafe(eD)+" "+bz.toSafe(eE)+" Registrada ("+bz.toSafe(eF)+")");},4))(a.id))(eA.cuentaPago.get_TipoLargo()))(eA.cuentaPago.get_MaskedCuenta()))(eB.$0.get_Id()))]);};E.tarchivo2String=function(eA){return eA.$==6?["Formulario W-8BEN",ds.FormaW8BEN()]:eA.$==1?["Autorización de pago",ds.FormasPago()]:eA.$==0?["Contrato",ds.FormaContrato()]:eA.$==3?["Cedula",ds.Subir()]:eA.$==4?["Licencia de Conducir",ds.Subir()]:eA.$==2?["Pasaporte",ds.Subir()]:eA.$==7?[eA.$0,ds.Subir()]:["Formulario W-9",ds.FormaW9()];};E.enlaceArchivo=function(eA){return E.enlace(ds.documento(eA.idAliado,eA.nombre),(E.tarchivo2String(eA.tipo))[0]);};E.pendienteArchivo=function(eA){return bB.ofArray([_0.Element("i",[cS.Create("class","far fa-check-square")],[]),_0.TextNode(" "),E.enlaceArchivo(eA),_0.TextNode(" subido. "),_0.Element("i",[cS.Create("class","far fa-square")],[]),_0.TextNode(" Pendiente de Verificacion")]);};I.GetFields=function(eA){var eB,eC;eB=[];for(var eD in eA)eB.push([eD,eA[eD]]);return eB;};I.GetFieldValues=function(eA){var eB,eC;eB=[];for(var eD in eA)eB.push(eA[eD]);return eB;};J.Equals=function(eA,eB){var eC,eD,eE,eF;if(eA===eB)return true;else{eC=typeof eA;if(eC=="object"){if(eA===null||eA===void 0||eB===null||eB===void 0)return false;else if("Equals"in eA)return eA.Equals(eB);else if(eA instanceof a.Array&&eB instanceof a.Array)return J.arrayEquals(eA,eB);else if(eA instanceof a.Date&&eB instanceof a.Date)return J.dateEquals(eA,eB);else{eD=[true];for(var eG in eA)if(function(eH){eD[0]=!eA.hasOwnProperty(eH)||eB.hasOwnProperty(eH)&&J.Equals(eA[eH],eB[eH]);return!eD[0];}(eG))break;if(eD[0]){for(var eH in eB)if(function(eI){eD[0]=!eB.hasOwnProperty(eI)||eA.hasOwnProperty(eI);return!eD[0];}(eH))break;}return eD[0];}}else return eC=="function"&&("$Func"in eA?eA.$Func===eB.$Func&&eA.$Target===eB.$Target:"$Invokes"in eA&&"$Invokes"in eB&&J.arrayEquals(eA.$Invokes,eB.$Invokes));}};J.arrayEquals=function(eA,eB){var eC,eD;if(T.length(eA)===T.length(eB)){eC=true;eD=0;while(eC&&eD<T.length(eA)){!J.Equals(T.get(eA,eD),T.get(eB,eD))?eC=false:void 0;eD=eD+1;}return eC;}else return false;};J.dateEquals=function(eA,eB){return eA.getTime()===eB.getTime();};J.Compare=function(eA,eB){var eC,eD,eE,eF,eG,eH;if(eA===eB)return 0;else{eD=typeof eA;switch(eD=="function"?1:eD=="boolean"?2:eD=="number"?2:eD=="string"?2:eD=="object"?3:0){case 0:return typeof eB=="undefined"?0:-1;case 1:return o.FailWith("Cannot compare function values.");case 2:return eA<eB?-1:1;case 3:if(eA===null)eE=-1;else if(eB===null)eE=1;else if("CompareTo"in eA)eE=eA.CompareTo(eB);else if("CompareTo0"in eA)eE=eA.CompareTo0(eB);else if(eA instanceof a.Array&&eB instanceof a.Array)eE=J.compareArrays(eA,eB);else if(eA instanceof a.Date&&eB instanceof a.Date)eE=J.compareDates(eA,eB);else{eF=[0];for(var eI in eA)if(function(eJ){return!eA.hasOwnProperty(eJ)?false:!eB.hasOwnProperty(eJ)?(eF[0]=1,true):(eF[0]=J.Compare(eA[eJ],eB[eJ]),eF[0]!==0);}(eI))break;if(eF[0]===0){for(var eJ in eB)if(function(eK){return!eB.hasOwnProperty(eK)?false:!eA.hasOwnProperty(eK)&&(eF[0]=-1,true);}(eJ))break;}eE=eF[0];}return eE;}}};J.compareArrays=function(eA,eB){var eC,eD;if(T.length(eA)<T.length(eB))return -1;else if(T.length(eA)>T.length(eB))return 1;else{eC=0;eD=0;while(eC===0&&eD<T.length(eA)){eC=J.Compare(T.get(eA,eD),T.get(eB,eD));eD=eD+1;}return eC;}};J.compareDates=function(eA,eB){return J.Compare(eA.getTime(),eB.getTime());};J.Hash=function(eA){var eB;eB=typeof eA;return eB=="function"?0:eB=="boolean"?eA?1:0:eB=="number"?eA:eB=="string"?J.hashString(eA):eB=="object"?eA==null?0:eA instanceof a.Array?J.hashArray(eA):J.hashObject(eA):0;};J.hashString=function(eA){var eB,eC,eD;if(eA===null)return 0;else{eB=5381;for(eC=0,eD=eA.length-1;eC<=eD;eC++)eB=J.hashMix(eB,eA[eC].charCodeAt());return eB;}};J.hashArray=function(eA){var eB,eC,eD;eB=-34948909;for(eC=0,eD=T.length(eA)-1;eC<=eD;eC++)eB=J.hashMix(eB,J.Hash(T.get(eA,eC)));return eB;};J.hashObject=function(eA){var eB,eC;if("GetHashCode"in eA)return eA.GetHashCode();else{eB=[0];for(var eD in eA)if(function(eE){eB[0]=J.hashMix(J.hashMix(eB[0],J.hashString(eE)),J.Hash(eA[eE]));return false;}(eD))break;return eB[0];}};J.hashMix=function(eA,eB){return(eA<<5)+eA+eB;};K.newLyt=function(eA,eB){return bX.New(eA,i.Create$1(eB));};K.addLayout=function(eA){p.Sink(function(eB){var eC;eC=K.createEntries(eA.lytName,eB);k.addPlugIn(l.New(eA.lytName,T.ofSeq(bc.delay(function(){return bc.append([k.newVar("Layout",eA.lytDefinition)],bc.delay(function(){return K.getVarEntries(eC);}));})),[],T.ofSeq(bc.delay(function(){return bc.append(K.getDocEntries(eC),bc.delay(function(){var eD;return bc.append([k.newDocF("InputFile",{$:4,$0:(eD=eA.lytName,es.Curried(K.inputFile,4,[eD])),$1:"attrs",$2:"Label",$3:"Action",$4:"[Doc]"})],bc.delay(function(){var eE;return bc.append([k.newDocF("InputLabel",{$:3,$0:(eE=eA.lytName,es.Curried(K.inputLabel,3,[eE])),$1:"attrs",$2:"Label",$3:"Var"})],bc.delay(function(){var eF;return bc.append([k.newDocF("HtmlDoc",{$:1,$0:(eF=eA.lytName,function(eG){return K.htmlDoc(eF,eG);}),$1:"html"})],bc.delay(function(){return[k.newDocF("none",{$:1,$0:K.none,$1:"x"})];}));}));}));}));})),[],[]));k.mainDocV().Set(k.mainDocV().Get());},eA.lytDefinition.get_View());};K.createEntries=function(eA,eB){return K.processLines(function(eC){return K.createEntryO(eA,eC);},bK.splitByChar("\n",eB));};K.getVarEntries=function(eA){function eB(eC){return eC[1];}return bc.map(function(eC){return bc.last(eB(eC));},bc.groupBy(function(eC){return eC.varName;},bc.choose(function(eC){return eC.$==0?{$:1,$0:eC.$0}:null;},eA)));};K.getDocEntries=function(eA){function eB(eC){return eC[1];}return bc.map(function(eC){return bc.last(eB(eC));},bc.groupBy(function(eC){return eC.docName;},bc.choose(function(eC){return eC.$==2?{$:1,$0:eC.$0}:null;},eA)));};K.inputFile=function(eA,eB,eC,eD,eE){var eF,eG,eH,eI;eF=(eG=(eH=((K.splitName())(eA))(eD),k.tryGetAct(eH[0],eH[1])),eG==null?null:{$:1,$0:(eI=eG.$0,_0.Element("div",K.getAttrs(eA,eB,true),[_0.Element("div",[cS.Create("class","input-group")],[_0.Element("span",[cS.Create("class","input-group-btn")],[_0.Element("label",[cS.Create("class","btn")],[K.getText(eA,eC,true),_0.Element("input",[cS.Create("class","form-control"),cS.Create("type","file"),cW.Style("display","none"),cS.HandlerImpl("click",function(eJ){return function(){eJ.value="";};}),cS.HandlerImpl("change",function(eJ){return function(){return k.callFunction(eJ,null,eI.actFunction);};})],[])])]),eE!==""?K.singleDoc(eA,bB.ofArray([[eE,false]])):_0.get_Empty()])]))});return eF==null?K.errDoc((function(eJ){return function(eK){return eJ("Action not found "+bz.toSafe(eK));};}(a.id))(eD)):eF.$0;};K.inputLabel=function(eA,eB,eC,eD){var eE,eF,eG;eE=(eF=(eG=((K.splitName())(eA))(eD),k.tryGetVar(eG[0],eG[1])),eF==null?null:{$:1,$0:_0.Element("div",K.getAttrs(eA,eB,true),[_0.Element("div",[cS.Create("class","input-group")],[_0.Element("span",[cS.Create("class","input-group-addon")],[K.getText(eA,eC,true)]),_0.Input([cS.Create("class","form-control")],eF.$0.varVar)])])});return eE==null?K.errDoc((function(eH){return function(eI){return eH("Var not found "+bz.toSafe(eI));};}(a.id))(eD)):eE.$0;};K.htmlDoc=function(eA,eB){var eC;eC=K.getTextData(eA,eB);return eC.$==1?_0.BindView(_0.Verbatim,eC.$0):eC.$==2?K.errDoc((function(eD){return function(eE){return eD("HtmlDoc: unexpected action "+Z.p$1(eE));};}(a.id))(eC.$0)):_0.Verbatim(eC.$0);};K.none=function(eA){return _0.Element("span",[],[]);};K.turnToView=function(eA){return _0.EmbedView(p.Map(eA,k.mainDocV().get_View()));};K.splitName=function(){bY.$cctor();return bY.splitName;};K.getDocFinal=function(eA,eB){var eC;eC=K.getDocF(eA,eB);return eC[1].$==0?eC[0]:K.errDoc((((es.Curried3(function(eD,eE,eF){return eD("Too many parameters "+Z.p(eE)+" "+bz.printList(function(eG){return"("+bz.prettyPrint(eG[0])+", "+bz.prettyPrint(eG[1])+")";},eF));}))(a.id))(eB))(eA));};K.errDoc=function(eA){return _0.Element("div",[],[_0.TextNode(eA)]);};K.processLines=function(eA,eB){function eC(eD){var eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR;eE=bc.tryHead(eD);return eE!=null&&eE.$==1?(eF=eE.$0,(eG=K.splitTokens(eF),eG.$==1&&(eI=(eJ=eG.$0,K.Identifier(eJ[0],eJ[1])),eI!=null&&eI.$==1&&(eG.$1.$==1&&((eK=eG.$1.$0,K.Vertical(eK[0],eK[1])).$==2&&(eG.$1.$1.$==0&&(eH=eI.$0,true)))))?(eL=K.getExtraLines(function(eS){return bj.StartsWith(bj.Trim(eS),"|");},eD),eC((dt.createLayoutDefinitions(eH,dt.extractNodes(eL[0])))[1].concat(eL[1]))):eG.$==0?eC(ce.array(eD,{$:1,$0:1},null)):(eM=K.getExtraLines(function(eS){return bj.StartsWith(bj.Trim(eS),":");},eD),(eN=eM[1],(eO=eM[0],T.length(eO)>0?((function(eS){return function(eT){return eS("l = ;"+bz.toSafe(eT)+";");};}(function(eS){ev.log(eS);}))(eF),eP=K.createLines(bc.nth(0,bj.SplitChars(eF,[" "],1)),1,[],[],1,eO),eQ=eP[0],eR=eP[1],eC(T.ofSeq(bc.delay(function(){return bc.append([eF+" "+bj.concat(" ",eQ)],bc.delay(function(){return bc.append(eR,bc.delay(function(){return eN;}));}));})))):T.ofSeq(bc.delay(function(){var eS;return bc.append((eS=eA(eF),eS!=null&&eS.$==1?[eS.$0]:[]),bc.delay(function(){return eC(eN);}));}))))))):[];}return eC(eB);};K.createEntryO=function(eA,eB){var eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4,e5,e6,e7,e8,e9,e_,e$,fa,fb,fc,fd,fe,ff,fg,fh,fi,fj,fk,fl,fm,fn,fo,fp,fq,fr,fs,ft,fu,fv,fw,fx,fy,fz,fA,fB,fC,fD;try{eC=K.splitTokens(eB);return eC.$==1&&(eE=(eF=eC.$0,K.Identifier(eF[0],eF[1])),eE!=null&&eE.$==1&&(eC.$1.$==1&&((eG=eC.$1.$0,K.Vertical(eG[0],eG[1])).$==0&&(eC.$1.$1.$==1&&(eH=(eI=eC.$1.$1.$0,K.Measures$1(eI[0],eI[1])),eH!=null&&eH.$==1&&(eD=[eC.$1.$1.$1,eH.$0,eE.$0],true))))))?(eJ=eD[2],K.entryDoc(eJ,(K.createSplitterM())([eA,eJ,true,eD[1],eD[0]]))):eC.$==1&&(eL=(eM=eC.$0,K.Identifier(eM[0],eM[1])),eL!=null&&eL.$==1&&(eC.$1.$==1&&((eN=eC.$1.$0,K.Vertical(eN[0],eN[1])).$==1&&(eC.$1.$1.$==1&&(eO=(eP=eC.$1.$1.$0,K.Measures$1(eP[0],eP[1])),eO!=null&&eO.$==1&&(eK=[eC.$1.$1.$1,eO.$0,eL.$0],true))))))?(eQ=eK[2],K.entryDoc(eQ,(K.createSplitterM())([eA,eQ,false,eK[1],eK[0]]))):eC.$==1&&(eS=(eT=eC.$0,K.Identifier(eT[0],eT[1])),eS!=null&&eS.$==1&&(eC.$1.$==1&&((eU=eC.$1.$0,K.Var(eU[0],eU[1])).$==2&&(eC.$1.$1.$==1&&(eV=(eW=eC.$1.$1.$0,K.Identifier(eW[0],eW[1])),eV!=null&&eV.$==1&&(eC.$1.$1.$1.$==1&&(eC.$1.$1.$1.$1.$==1&&(eC.$1.$1.$1.$1.$1.$==0&&(eR=[eV.$0,eC.$1.$1.$1.$0,eS.$0,eC.$1.$1.$1.$1.$0],true)))))))))?(eX=eR[2],K.entryDoc(eX,(K.createButtonM())([eA,eX,eR[0],eR[1],eR[3]]))):eC.$==1&&(eZ=(e0=eC.$0,K.Identifier(e0[0],e0[1])),eZ!=null&&eZ.$==1&&(eC.$1.$==1&&((e1=eC.$1.$0,K.Var(e1[0],e1[1])).$==3&&(eC.$1.$1.$==1&&(e2=(e3=eC.$1.$1.$0,K.Identifier(e3[0],e3[1])),e2!=null&&e2.$==1&&(eC.$1.$1.$1.$==1&&(eC.$1.$1.$1.$1.$==0&&(eY=[eC.$1.$1.$1.$0,eZ.$0,e2.$0],true))))))))?(e4=eY[1],K.entryDoc(e4,(K.createInputM())([eA,e4,eY[2],eY[0]]))):eC.$==1&&(e6=(e7=eC.$0,K.Identifier(e7[0],e7[1])),e6!=null&&e6.$==1&&(eC.$1.$==1&&((e8=eC.$1.$0,K.Var(e8[0],e8[1])).$==4&&(eC.$1.$1.$==1&&(e9=(e_=eC.$1.$1.$0,K.Identifier(e_[0],e_[1])),e9!=null&&e9.$==1&&(eC.$1.$1.$1.$==1&&(eC.$1.$1.$1.$1.$==0&&(e5=[eC.$1.$1.$1.$0,e6.$0,e9.$0],true))))))))?(e$=e5[1],K.entryDoc(e$,(K.createTextAreaM())([eA,e$,e5[2],e5[0]]))):eC.$==1&&(fb=(fc=eC.$0,K.Identifier(fc[0],fc[1])),fb!=null&&fb.$==1&&(eC.$1.$==1&&((fd=eC.$1.$0,K.Var(fd[0],fd[1])).$==0&&(eC.$1.$1.$==1&&(eC.$1.$1.$1.$==0&&(fa=[fb.$0,eC.$1.$1.$0],true))))))?(fe=fa[0],K.entryVar(fe,(K.createVarM())([eA,fe,fa[1][0]]))):eC.$==1&&(fg=(fh=eC.$0,K.Identifier(fh[0],fh[1])),fg!=null&&fg.$==1&&(eC.$1.$==1&&((fi=eC.$1.$0,K.Var(fi[0],fi[1])).$==1&&(eC.$1.$1.$==1&&(ff=[eC.$1.$1.$0,fg.$0,eC.$1.$1.$1],true)))))?(fj=ff[1],K.entryDoc(fj,(K.createDocM())([eA,fj,ff[0][0],ff[2]]))):eC.$==1&&(fl=(fm=eC.$0,K.Identifier(fm[0],fm[1])),fl!=null&&fl.$==1&&(eC.$1.$==1&&((fn=eC.$1.$0,K.Vertical(fn[0],fn[1])).$==4&&(eC.$1.$1.$==1&&(eC.$1.$1.$1.$==1&&(fk=[eC.$1.$1.$1.$0,eC.$1.$1.$1.$1,fl.$0,eC.$1.$1.$0],true))))))?(fo=fk[2],K.entryDoc(fo,(K.createTemplateM())([eA,fo,fk[3],fk[0],fk[1]]))):eC.$==1&&(fq=(fr=eC.$0,K.Identifier(fr[0],fr[1])),fq!=null&&fq.$==1&&(eC.$1.$==1&&((fs=eC.$1.$0,K.Concat(fs[0],fs[1])).$==0&&(fp=[eC.$1.$1,fq.$0],true))))?(ft=fp[1],K.entryDoc(ft,(K.createConcatM())([eA,ft,fp[0]]))):eC.$==1&&(fv=(fw=eC.$0,K.Identifier(fw[0],fw[1])),fv!=null&&fv.$==1&&(eC.$1.$==1&&((fx=eC.$1.$0,K.Vertical(fx[0],fx[1])).$==3&&(eC.$1.$1.$==1&&(eC.$1.$1.$1.$==1&&(eC.$1.$1.$1.$1.$==1&&(fu=[eC.$1.$1.$1.$1.$0,eC.$1.$1.$0,eC.$1.$1.$1.$1.$1,fv.$0,eC.$1.$1.$1.$0],true)))))))?null:eC.$==1&&(fz=(fA=eC.$0,K.Identifier(fA[0],fA[1])),fz!=null&&fz.$==1&&(eC.$1.$==1&&(fB=(fC=eC.$1.$0,K.Vertical(fC[0],fC[1])),fB.$==5&&(eC.$1.$1.$==1&&(fy=[eC.$1.$1.$0,eC.$1.$1.$1,fB.$0,fz.$0],true)))))?(fD=fy[3],K.entryDoc(fD,(K.createElementM())([eA,fD,fy[2],fy[0],fy[1]]))):null;}catch(fE){((function(fF){return function(fG){return fF(bz.prettyPrint(fG));};}(function(fF){ev.log(fF);}))(fE));return null;}};K.getAttrs=function(eA,eB,eC){var eD;eD=[eB,eC];return bB.ofSeq(bc.delay(function(){return bc.append(bc.choose(function(eE){var eF,eG,eH,eI,eJ,eK;return!J.Equals(eE,null)&&eE.length===2&&(eG=T.get(eE,1),bj.Trim(T.get(eE,0))!==""&&bj.Trim(eG)!=="")?(eH=T.get(eE,1),(eI=T.get(eE,0),{$:1,$0:(eJ=K.getTextData(eA,bj.Trim(eH)),eJ.$==1?cW.Dynamic(bj.Trim(eI),eJ.$0):eJ.$==2?(eK=eJ.$0,cW.Handler(bj.Trim(eI),function(eL){return function(eM){return k.callFunction(eL,eM,eK.actFunction);};})):cS.Create(bj.Trim(eI),bj.Trim(eJ.$0)))})):null;},bc.map(function(eE){return bK.splitByChar("=",eE);},bK.splitByChar(";",eD[0]))),bc.delay(function(){return bc.choose(function(eE){var eF,eG,eH,eI,eJ;return!J.Equals(eE,null)&&eE.length===2&&(eG=T.get(eE,1),bj.Trim(T.get(eE,0))!==""&&bj.Trim(eG)!=="")?(eH=T.get(eE,1),(eI=T.get(eE,0),{$:1,$0:(eJ=K.getTextData(eA,bj.Trim(eH)),eJ.$==1?cW.DynamicStyle(bj.Trim(eI),eJ.$0):eJ.$==2?cW.Style(bj.Trim(eI),(function(eK){return function(eL){return eK("${"+bz.toSafe(eL)+"}");};}(a.id))(eJ.$0.actName)):cW.Style(bj.Trim(eI),bj.Trim(eJ.$0)))})):null;},bc.map(function(eE){return bK.splitByChar(":",eE);},bK.splitByChar(";",eD[0])));}));}));};K.getText=function(eA,eB,eC){var eD,eE,eF,eG,eH,eI,eJ,eK,eL;eD=K.Identifier(eB,eC);return eD!=null&&eD.$==1?(eE=eD.$0,(eF=((K.splitName())(eA))(eE),(eG=eF[0],(eH=eF[1],(eI=(eJ=k.tryGetViw(eG,eH),eJ==null?null:{$:1,$0:_0.TextView(eJ.$0.viwView)}),eI==null?(eK=(eL=k.tryGetVar(eG,eH),eL==null?null:{$:1,$0:_0.TextView(eL.$0.varVar.get_View())}),eK==null?_0.TextNode(eE):eK.$0):eI.$0))))):_0.TextNode(eB);};K.singleDoc=function(eA,eB){return _0.EmbedView(p.Map(function(eC){var eD;return eC.$==1&&(eC.$1.$==0&&(eD=eC.$0,true))?eD:K.errDoc((function(eE){return function(eF){return eE("expected exactly 1 element "+bz.printList(function(eG){return"("+bz.prettyPrint(eG[0])+", "+bz.prettyPrint(eG[1])+")";},eF));};}(a.id))(eB));},p.Map(function(){return K.getDocs(eA,eB);},k.mainDocV().get_View())));};K.getTextData=function(eA,eB){var eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO;eC=(eD=bK.delimitedO("@{","}",eB),eD==null?null:{$:1,$0:(eE=eD.$0,(eF=eE[0],(eG=eE[1],(eH=eE[2],(eI=((K.splitName())(eA))(eG),(eJ=eI[0],(eK=eI[1],(eL=(eM=k.tryGetWoW(eJ,eK),eM==null?null:{$:1,$0:function(eP){var eQ,eR;eR=K.getTextData(eA,eH);switch(eF===""?eR.$==1?(eQ=eR.$0,2):eR.$==2?(eQ=eR.$0,3):eR.$0===""?0:(eQ=eR.$0,1):eR.$==1?(eQ=eR.$0,2):eR.$==2?(eQ=eR.$0,3):(eQ=eR.$0,1)){case 0:return{$:1,$0:eP};case 1:return{$:1,$0:p.Map(function(eS){return eF+eS+eQ;},eP)};case 2:return{$:1,$0:p.Map2(function(eS,eT){return eF+eS+eT;},eP,eQ)};case 3:return{$:2,$0:eQ};}}(eM.$0)}),eL==null?(eN=(eO=k.tryGetAct(eJ,eK),eO==null?null:{$:1,$0:{$:2,$0:eO.$0}}),eN==null?{$:0,$0:((((es.Curried(function(eP,eQ,eR,eS){return eP(bz.toSafe(eQ)+" ${Missing "+bz.toSafe(eR)+"}"+bz.toSafe(eS));},4))(a.id))(eF))(eG))(eH)}:eN.$0):eL.$0))))))))});return eC==null?{$:0,$0:eB}:eC.$0;};K.createSplitter=function(eA,eB,eC,eD,eE){var eF;eF=K.pairOfDocs(eA,eE);return eD.$==1?K.variableSplitter(eC,eD.$0,eD.$1,eD.$2,eF[0],eF[1]):K.fixedSplitter(eC,eD.$0,eD.$1,eF[0],eF[1]);};K.createButton=function(eA,eB,eC,eD,eE){return K.turnToView(function(){var eF,eG,eH,eI,eJ;function eK(eL,eM){return k.callFunction(null,null,eL.actFunction);}eF=(eG=(eH=(eI=((K.splitName())(eA))(eC),k.tryGetAct(eI[0],eI[1])),eH==null?null:{$:1,$0:(eJ=eH.$0,function(eL){return eK(eJ,eL);})}),eG==null?a.ignore:eG.$0);return _0.Button(eE[0],K.getAttrs(eA,eD[0],eD[1]),eF);});};K.createInput=function(eA,eB,eC,eD){return K.turnToView(function(){var eE,eF,eG,eH,eI;eE=(eF=(eG=((K.splitName())(eA))(eC),k.tryGetVoV(eG[0],eG[1])),(eH=(eI=K.getAttrs(eA,eD[0],eD[1]),function(eJ){return _0.Input(eI,eJ);}),eF==null?null:{$:1,$0:eH(eF.$0)}));return eE==null?K.errDoc((function(eJ){return function(eK){return eJ("Missing var: "+bz.toSafe(eK));};}(a.id))(eC)):eE.$0;});};K.createTextArea=function(eA,eB,eC,eD){return K.turnToView(function(){var eE,eF,eG,eH,eI;eE=(eF=(eG=((K.splitName())(eA))(eC),k.tryGetVoV(eG[0],eG[1])),(eH=(eI=K.getAttrs(eA,eD[0],eD[1]),function(eJ){return _0.InputArea(eI,eJ);}),eF==null?null:{$:1,$0:eH(eF.$0)}));return eE==null?K.errDoc((function(eJ){return function(eK){return eJ("Missing var: "+bz.toSafe(eK));};}(a.id))(eC)):eE.$0;});};K.createElement=function(eA,eB,eC,eD,eE){var eF;eF=[K.turnToView(function(){return _0.Concat(K.getDocs(eA,eE));})];return _0.Element(eC,K.getAttrs(eA,eD[0],eD[1]),eF);};K.createDoc=function(eA,eB,eC,eD){return K.turnToView(function(){var eE,eF,eG;eE=(eF=(eG=((K.splitName())(eA))(eC),k.tryGetDoc(eG[0],eG[1])),eF==null?null:{$:1,$0:K.getDocFinal(eD,eF.$0)});return eE==null?K.errDoc((function(eH){return function(eI){return eH("Missing doc: "+bz.toSafe(eI));};}(a.id))(eC)):eE.$0;});};K.createTemplate=function(eA,eB,eC,eD,eE){return K.turnToView(function(){var eF,eG,eH,eI,eJ,eK;eH=K.getAttrs(eA,eD[0],eD[1]);c6.LoadLocalTemplates("local");function eL(eN,eO){var eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0;eP=K.Identifier(eO[0],eO[1]);return eP!=null&&eP.$==1?(eQ=eP.$0,eR=eN[0],eS=(eT=(eU=(eV=((K.splitName())(eA))(eQ),k.tryGetDoc(eV[0],eV[1])),eU==null?null:{$:1,$0:{$:0,$0:eR.toLowerCase(),$1:(K.getDocF(cL.Empty,eU.$0))[0]}}),eT==null?(eW=(eX=((K.splitName())(eA))(eQ),k.tryGetVar(eX[0],eX[1])),eW==null?null:{$:1,$0:{$:8,$0:eR.toLowerCase(),$1:eW.$0.varVar}}):eT),eS==null?{$:0,$0:eR.toLowerCase(),$1:K.errDoc((function(e1){return function(e2){return e1("Missing element: "+bz.toSafe(e2));};}(a.id))(eQ))}:eS.$0):(eY=eN[0],eZ=K.getTextData(eA,eO[0]),eZ.$==1?{$:2,$0:eY.toLowerCase(),$1:eZ.$0}:eZ.$==2?(e0=eZ.$0,{$:4,$0:eY.toLowerCase(),$1:function(e1){return function(e2){return k.callFunction(e1,e2,e0.actFunction);};}}):{$:1,$0:eY.toLowerCase(),$1:eZ.$0});}function eM(eN,eO){return eN%2===0;}try{eG={$:1,$0:(eI=(eJ=bc.map(function(eN){return eL(eN[0],eN[1]);},bc.map(function(eN){return eN[1];},bc.filter(function(eN){return eM(eN[0],eN[1]);},bc.indexed(bc.pairwise(eE))))),(bc.isEmpty(eH)?a.id:(eK=[{$:3,$0:"attrs",$1:cS.Concat(eH)}],function(eN){return bc.append(eK,eN);}))(eJ)),c6.NamedTemplate("local",{$:1,$0:eC[0].toLowerCase()},eI))};}catch(eN){eG=null;}return eG==null?K.errDoc((function(eO){return function(eP){return eO("Missing template: "+bz.toSafe(eP));};}(a.id))(eC[0])):eG.$0;});};K.createConcat=function(eA,eB,eC){return K.turnToView(function(){return _0.Concat(K.getDocs(eA,eC));});};K.createVar=function(eA,eB,eC){return i.Create$1(eC);};K.addNewLayout=function(eA,eB){var eC,eD;K.addLayout((eC=(eD=!J.Equals(eB,null)?eB:"\r\n            split horizontal 0-50-100 AppFramework.AppFwkClient Hello\r\n            Hello h1 \"color:blue; class=btn-primary\" \"How are you today?\" Ask\r\n            Ask Doc InputLabel \"placeholder=Type you answer here...\" \"Answer:\" AppFramework.mainDocV  \r\n            ",(bK.unindentStr())(eD)),K.newLyt(!J.Equals(eB,null)?eA:"Lyt_"+bj.Replace(a.String(bt.NewGuid()),"-",""),eC)));};K.getDocF=function(eA,eB){var eC,eD;eD=eB.docDoc;switch(eD.$==1?eA.$==1?(eC=[eD.$0,eA.$0[0],eA.$1],1):6:eD.$==2?eA.$==1?eA.$1.$==1?(eC=[eD.$0,eA.$0[0],eA.$1.$0[0],eA.$1.$1],2):6:6:eD.$==3?eA.$==1?eA.$1.$==1?eA.$1.$1.$==1?(eC=[eD.$0,eA.$0[0],eA.$1.$0[0],eA.$1.$1.$0[0],eA.$1.$1.$1],3):6:6:6:eD.$==4?eA.$==1?eA.$1.$==1?eA.$1.$1.$==1?eA.$1.$1.$1.$==1?(eC=[eD.$0,eA.$0[0],eA.$1.$0[0],eA.$1.$1.$0[0],eA.$1.$1.$1.$0[0],eA.$1.$1.$1.$1],4):6:6:6:6:eD.$==5?eA.$==1?eA.$1.$==1?eA.$1.$1.$==1?eA.$1.$1.$1.$==1?eA.$1.$1.$1.$1.$==1?(eC=[eD.$0,eA.$0[0],eA.$1.$0[0],eA.$1.$1.$0[0],eA.$1.$1.$1.$0[0],eA.$1.$1.$1.$1.$0[0],eA.$1.$1.$1.$1.$1],5):6:6:6:6:6:(eC=[eD.$0,eA],0)){case 0:return[eC[0].f(),eC[1]];case 1:return[eC[0](eC[1]),eC[2]];case 2:return[(eC[0](eC[1]))(eC[2]),eC[3]];case 3:return[((eC[0](eC[1]))(eC[2]))(eC[3]),eC[4]];case 4:return[(((eC[0](eC[1]))(eC[2]))(eC[3]))(eC[4]),eC[5]];case 5:return[((((eC[0](eC[1]))(eC[2]))(eC[3]))(eC[4]))(eC[5]),eC[6]];case 6:return[_0.Element("div",[],[_0.TextNode((((es.Curried3(function(eE,eF,eG){return eE("Parameters do not coincide with definition "+Z.p(eF)+" - "+bz.printList(function(eH){return"("+bz.prettyPrint(eH[0])+", "+bz.prettyPrint(eH[1])+")";},eG));}))(a.id))(eB))(eA))]),cL.Empty];}};K.splitTokens=function(eA){return bB.ofSeq(bc.collect(a.id,bc.mapi(function(eB,eC){var eD;return eB%2===1?[[eC,true]]:(eD=bj.Trim(eC),eD===""?[]:T.map(function(eE){return[eE,false];},bj.SplitChars(eD,[" "],1)));},bK.splitByChar("\"",eA))));};K.Identifier=function(eA,eB){var eC,eD,eE;return(eD=j.REGEX$1("^[$a-zA-Z_][0-9a-zA-Z_\\.\\-$]*$","",eA),eD!=null&&eD.$==1&&((eE=eD.$0,!J.Equals(eE,null)&&eE.length===1)&&(eB?false:(eC=T.get(eD.$0,0),true))))?{$:1,$0:eC}:null;};K.Vertical=function(eA,eB){var eC,eD,eE,eF,eG,eH;return(eB?false:eA==="vertical")?{$:0,$0:null}:(eB?false:eA==="horizontal")?{$:1,$0:null}:(eB?false:eA==="layout")?{$:2,$0:null}:(eB?false:eA==="grid")?{$:3,$0:null}:(eB?false:eA==="template")?{$:4,$0:null}:(eH=K.Identifier(eA,eB),eH!=null&&eH.$==1?{$:5,$0:eH.$0}:{$:6,$0:null});};K.getExtraLines=function(eA,eB){var eC,eD,eE,eF;eC=(eD=(eE=bc.tryFindIndex(function(eG){return bj.Trim(eG)!==""&&!eA(eG);},bc.skip(1,eB)),eE==null?null:{$:1,$0:1+eE.$0}),(eF=T.length(eB),eD==null?eF:eD.$0));return[ce.array(eB,{$:1,$0:1},{$:1,$0:eC-1}),ce.array(eB,{$:1,$0:eC},null)];};K.createLines=function(eA,eB,eC,eD,eE,eF){var eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP;eG=bj.replicate(eB,":");eH=":"+eG;eI=bc.tryHead(eF);return eI!=null&&eI.$==1?(eJ=bK.StartsWith(eG,bj.Trim(eI.$0)),eJ!=null&&eJ.$==1?(eK=eJ.$0,(eL=K.getExtraLines(function(eQ){return bj.StartsWith(bj.Trim(eQ),eH);},eF),(eM=(((es.Curried3(function(eQ,eR,eS){return eQ(bz.toSafe(eR)+"_"+a.String(eS));}))(a.id))(eA))(eE),(eN=K.createLines(eM,eB+1,[],[],1,eL[0]),(eO=eN[1],(eP=eN[0],K.createLines(eA,eB,T.ofSeq(bc.delay(function(){return bc.append(eC,bc.delay(function(){return[eM];}));})),T.ofSeq(bc.delay(function(){return bc.append(eD,bc.delay(function(){return bc.append([eM+" "+eK+" "+bj.concat(" ",eP)],bc.delay(function(){return eO;}));}));})),eE+1,eL[1]))))))):[eC,eD]):[eC,eD];};K.Measures$1=function(eA,eB){var eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL;eC=[eA,eB];return eC[1]?null:(eD=bK.splitByChar("-",eC[0]),!J.Equals(eD,null)&&eD.length===1&&(eF=(cf.Double())(T.get(eD,0)),eF!=null&&eF.$==1&&(eE=eF.$0,true))?{$:1,$0:new dK({$:0,$0:eE,$1:true})}:!J.Equals(eD,null)&&eD.length===2&&(T.get(eD,0)===""&&(eH=(cf.Double())(T.get(eD,1)),eH!=null&&eH.$==1&&(eG=eH.$0,true)))?{$:1,$0:new dK({$:0,$0:eG,$1:false})}:!J.Equals(eD,null)&&eD.length===3&&(eJ=(cf.Double())(T.get(eD,0)),eJ!=null&&eJ.$==1&&(eK=(cf.Double())(T.get(eD,1)),eK!=null&&eK.$==1&&(eL=(cf.Double())(T.get(eD,2)),eL!=null&&eL.$==1&&(eI=[eL.$0,eJ.$0,eK.$0],true))))?{$:1,$0:new dK({$:1,$0:eI[1],$1:eI[2],$2:eI[0]})}:null);};K.entryDoc=function(eA,eB){return{$:1,$0:{$:2,$0:k.newDoc(eA,r.Create(function(){return eB;}))}};};K.createSplitterM=function(){bY.$cctor();return bY.createSplitterM;};K.Var=function(eA,eB){var eC,eD,eE,eF,eG,eH;return(eB?false:eA==="Var")?{$:0,$0:null}:(eB?false:eA==="Doc")?{$:1,$0:null}:(eB?false:eA==="button")?{$:2,$0:null}:(eB?false:eA==="input")?{$:3,$0:null}:(eB?false:eA==="textarea")?{$:4,$0:null}:(eB?false:eA==="select")?{$:5,$0:null}:{$:6,$0:null};};K.createButtonM=function(){bY.$cctor();return bY.createButtonM;};K.createInputM=function(){bY.$cctor();return bY.createInputM;};K.createTextAreaM=function(){bY.$cctor();return bY.createTextAreaM;};K.entryVar=function(eA,eB){return{$:1,$0:{$:0,$0:k.newVar(eA,eB)}};};K.createVarM=function(){bY.$cctor();return bY.createVarM;};K.createDocM=function(){bY.$cctor();return bY.createDocM;};K.createTemplateM=function(){bY.$cctor();return bY.createTemplateM;};K.Concat=function(eA,eB){var eC;return(eB?false:eA==="concat")?{$:0,$0:null}:{$:1,$0:null};};K.createConcatM=function(){bY.$cctor();return bY.createConcatM;};K.createElementM=function(){bY.$cctor();return bY.createElementM;};K.getDocs=function(eA,eB){var eC;return eB.$==0?cL.Empty:(eC=K.getOneDoc(eA,eB),new cL({$:1,$0:eC[0],$1:K.getDocs(eA,eC[1])}));};K.pairOfDocs=function(eA,eB){var eC;eC=p.Map(function(eD){var eE;return eD.$==1&&(eD.$1.$==1&&(eD.$1.$1.$==0&&(eE=[eD.$0,eD.$1.$0],true)))?[eE[0],eE[1]]:[K.errDoc((function(eF){return function(eG){return eF("splitter expects exactly 2 elements "+bz.printList(function(eH){return"("+bz.prettyPrint(eH[0])+", "+bz.prettyPrint(eH[1])+")";},eG));};}(a.id))(eB)),K.errDoc("part 2")];},p.Map(function(){return K.getDocs(eA,eB);},k.mainDocV().get_View()));return[_0.EmbedView(p.Map(function(eD){return eD[0];},eC)),_0.EmbedView(p.Map(function(eD){return eD[1];},eC))];};K.variableSplitter=function(eA,eB,eC,eD,eE,eF){return _0.Element("wcomp-splitter",bB.ofSeq(bc.delay(function(){return bc.append(eA?[cS.Create("vertical","")]:[],bc.delay(function(){return bc.append([cS.Create("min",a.String(eB))],bc.delay(function(){return bc.append([cS.Create("value",a.String(eC))],bc.delay(function(){return[cS.Create("max",a.String(eD))];}));}));}));})),bB.ofArray([eE,eF]));};K.fixedSplitter=function(eA,eB,eC,eD,eE){var eF,eG,eH,eI,eJ,eK,eL;eF=(((eC?es.Curried3(function(eM,eN,eO){return eM(eN.toFixed(6)+"px calc(100% - "+eO.toFixed(6)+"px)");}):es.Curried3(function(eM,eN,eO){return eM("calc(100% - "+eN.toFixed(6)+"px) "+eO.toFixed(6)+"px");}))(a.id))(eB))(eB);return eA?(eG=U.Make().WithHole({$:1,$0:"partsizes",$1:eF}).WithHole({$:0,$0:"first",$1:eD}).WithHole({$:0,$0:"second",$1:eE}),(eH=V.CompleteHoles(eG.k,eG.h,[]),(eI=new S.New(eH[1],cX.fixedsplitterver(eH[0])),(eG.i=eI,eI)))).get_Doc():(eJ=U.Make().WithHole({$:1,$0:"partsizes",$1:eF}).WithHole({$:0,$0:"first",$1:eD}).WithHole({$:0,$0:"second",$1:eE}),(eK=V.CompleteHoles(eJ.k,eJ.h,[]),(eL=new S.New(eK[1],cX.fixedsplitterhor(eK[0])),(eJ.i=eL,eL)))).get_Doc();};K.getOneDoc=function(eA,eB){var eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ;return eB.$==1&&(eD=(eE=eB.$0,K.Identifier(eE[0],eE[1])),eD!=null&&eD.$==1&&(eC=[eD.$0,eB.$1],true))?(eF=eC[0],(eG=eC[1],(eH=((K.splitName())(eA))(eF),(eI=eH[0],(eJ=eH[1],(eK=(eL=k.tryGetDoc(eI,eJ),eL==null?null:{$:1,$0:K.getDocF(eG,eL.$0)}),eK==null?(eM=(eN=k.tryGetWoW(eI,eJ),eN==null?null:{$:1,$0:[_0.TextView(eN.$0),eG]}),eM==null?[K.errDoc((eO=(function(eR){return function(eS){return eR("Missing doc: "+bz.toSafe(eS));};}(a.id))(eF),(bd.print(eO),eO))),eG]:eM.$0):eK.$0)))))):eB.$==0?[_0.get_Empty(),cL.Empty]:(eP=eB.$1,(eQ=K.getTextData(eA,eB.$0[0]),eQ.$==1?[_0.TextView(eQ.$0),eP]:eQ.$==2?[K.errDoc((function(eR){return function(eS){return eR("Unexpected action: "+bz.toSafe(eS));};}(a.id))(eQ.$0.actName)),eP]:[_0.TextNode(eQ.$0),eP]));};L.ofObj=function(eA){return eA==null?null:{$:1,$0:eA};};N.New=function(eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU){return{id:eA,idPadreO:eB,idForAuthorize:eC,influyente:eD,datosPersonales:eE,contactos:eF,identificacion:eG,isInternal:eH,status:eI,diaPago:eJ,tipo:eK,fechaRegistro:eL,fechaStatus:eM,nReferidos:eN,nRefActivos:eO,nDescendientes:eP,nDescActivos:eQ,comision:eR,nivel:eS,documentos:eT,docPendientes:eU};};O.empty=function(){_6.$cctor();return _6.empty;};O.nombre2=function(eA){var eB,eC;return(eB=(eC=eA.titulo,eC==null?null:{$:1,$0:" "+eC.$0}),eB==null?"":eB.$0)+bj.Trim(eA.nombre1+" "+eA.nombre2)+" "+bj.Trim(eA.apellido1+" "+eA.apellido2);};O.nombre=function(eA){var eB,eC;return(eB=(eC=eA.titulo,eC==null?null:{$:1,$0:" "+eC.$0}),eB==null?"":eB.$0)+(eA.apellido1===""?"":bj.Trim(eA.apellido1+" "+eA.apellido2)+", ")+eA.nombre1+" "+eA.nombre2;};O.busqueda=function(eA){var eB,eC;function eD(eJ,eK){return[eJ,T.ofSeq(bc.map(function(eL){return eL[1];},eK))];}function eE(eJ){var eK,eL;eK=(eL=null,[eC.TryGetValue(eJ,{get:function(){return eL;},set:function(eM){eL=eM;}}),eL]);return eK[0]?{$:1,$0:eK[1]}:null;}function eF(eJ){var eK,eL;eK=(eL=null,[eB.TryGetValue({$:1,$0:eJ},{get:function(){return eL;},set:function(eM){eL=eM;}}),eL]);return eK[0]?eK[1]:[];}function eG(eJ){var eK,eL;eK=(eL=eJ==null?null:eE(eJ.$0),eL==null?null:{$:1,$0:1+eG(eL.$0.idPadreO)});return eK==null?0:eK.$0;}function eH(eJ){return T.choose(eE,eF(eJ.id));}function eI(eJ){return T.ofSeq(bc.delay(function(){return bc.collect(function(eK){return bc.append([eK],bc.delay(function(){return eI(eK);}));},eH(eJ));}));}eB=new cH.New(bc.map(function(eJ){return eD(eJ[0],eJ[1]);},bc.groupBy(function(eJ){return eJ[0];},bc.map(function(eJ){return[eJ.idPadreO,eJ.id];},eA))));eC=new cH.New(bc.map(function(eJ){return[eJ.id,eJ];},eA));return bf.New(eF,eG,function(eJ){try{return eC.get_Item(eJ);}catch(eK){return(function(eL){return function(eM){return eL("buscarAliado failed: "+X.p$12(eM));};}(o.FailWith))(eJ);}},eE,eH,eI);};O.comision=function(eA,eB){var eC;eC=O.premisas(eA,eB);return[eB.nRefActivos*eC[0],eB.nDescActivos*eC[1]];};O.premisas=function(eA,eB){var eC;eC=eB.tipo.$==0?[eA.comisionReferidosMaster,eA.comisionDescendientesMaster]:[eA.comisionReferidosRegular,eA.comisionDescendientesRegular];return eB.status.$==1?[eC[0],eC[1]]:[0,0];};O.correo=function(eA){var eB;eB=bc.tryHead(bc.choose(function(eC){return eC.$==1?{$:1,$0:eC.$0.email}:null;},eA.contactos));return eB==null?"":eB.$0;};O.dia=function(eA){return eA.$==1?5:eA.$==2?10:eA.$==3?15:eA.$==4?20:eA.$==5?25:1;};S=R.TemplateInstance=es.Class({get_Doc:function(){return this.doc;},Hole:function(eA){return this.allVars.get_Item(eA);}},g,S);S.New=es.Ctor(function(eA,eB){g.New.call(this);this.doc=eB;this.allVars=eA.$==0?eA.$0:o.FailWith("Should not happen");},S);T.get=function(eA,eB){T.checkBounds(eA,eB);return eA[eB];};T.checkBounds=function(eA,eB){if(eB<0||eB>=eA.length)o.FailWith("Index was outside the bounds of the array.");};T.length=function(eA){return eA.dims===2?eA.length*eA.length:eA.length;};T.set=function(eA,eB,eC){T.checkBounds(eA,eB);eA[eB]=eC;};U=R.ProviderBuilder=es.Class({WithHole:function(eA){this.h.push(eA);return this;}},null,U);U.Make=function(){var eA;return U.New(null,(eA=bt.NewGuid(),a.String(eA)),[]);};U.New=function(eA,eB,eC){return new U({i:eA,k:eB,h:eC});};V.CompleteHoles=function(eA,eB,eC){var eE,eF,eG,eH,eI,eJ;function eD(eK,eL){var eM,eN,eO,eP;return eF.Contains(eK)?null:(eM=eL===0?(eN=i.Create$1(""),[{$:8,$0:eK,$1:eN},eN]):eL===1?(eO=i.Create$1(0),[{$:13,$0:eK,$1:eO},eO]):eL===2?(eP=i.Create$1(false),[{$:9,$0:eK,$1:eP},eP]):o.FailWith("Invalid value type"),(eE.set_Item(eK,eM[1]),{$:1,$0:eM[0]}));}eE=new b5.New$5();eF=new b6.New$3();eG=cI.Get(eB);try{while(eG.MoveNext()){eH=eG.Current();(eH.$==8?(eI=[eH.$0,b7.Box(eH.$1)],true):eH.$==11?(eI=[eH.$0,b7.Box(eH.$1)],true):eH.$==10?(eI=[eH.$0,b7.Box(eH.$1)],true):eH.$==13?(eI=[eH.$0,b7.Box(eH.$1)],true):eH.$==12?(eI=[eH.$0,b7.Box(eH.$1)],true):eH.$==9&&(eI=[eH.$0,b7.Box(eH.$1)],true))?(eJ=eI[0],eF.Add(eJ),eE.set_Item(eJ,eI[1])):void 0;}}finally{if(typeof eG=="object"&&"Dispose"in eG)eG.Dispose();}return[bc.append(eB,T.choose(function(eK){return eD(eK[0],eK[1]);},eC)),{$:0,$0:eE}];};V.EventQ2=function(eA,eB,eC,eD){return{$:5,$0:eB,$1:true,$2:function(eE){return function(eF){return eD({Vars:eC(),Target:eE,Event:eF});};}};};W.opcionesadministrador=function(eA){c6.LoadLocalTemplates("index0");return eA?c6.NamedTemplate("index0",{$:1,$0:"opcionesadministrador"},eA):void 0;};X.p$2=function(eA){return eA.$==1?"Regular":"Master";};X.p$1=function(eA){return eA.$==3?"Cancelado":eA.$==2?"Inactivo":eA.$==1?"Activo":"CuentaCreada";};W.filaaliado=function(eA){c6.LoadLocalTemplates("index0");return eA?c6.NamedTemplate("index0",{$:1,$0:"filaaliado"},eA):void 0;};W.tablaaliados=function(eA){c6.LoadLocalTemplates("index0");return eA?c6.NamedTemplate("index0",{$:1,$0:"tablaaliados"},eA):void 0;};W.aliado=function(eA){c6.LoadLocalTemplates("index0");return eA?c6.NamedTemplate("index0",{$:1,$0:"aliado"},eA):void 0;};W.calculo=function(eA){c6.LoadLocalTemplates("index0");return eA?c6.NamedTemplate("index0",{$:1,$0:"calculo"},eA):void 0;};X.p$15=function(eA){return eA.$==2?"Mensaje "+bz.prettyPrint(eA.$0):eA.$==1?"NuevoRegistro "+bz.prettyPrint(eA.$0):"ROk";};W.formaregistro=function(eA){c6.LoadLocalTemplates("index0");return eA?c6.NamedTemplate("index0",{$:1,$0:"formaregistro"},eA):void 0;};W.filaconsolidado=function(eA){c6.LoadLocalTemplates("index0");return eA?c6.NamedTemplate("index0",{$:1,$0:"filaconsolidado"},eA):void 0;};W.consolidado=function(eA){c6.LoadLocalTemplates("index0");return eA?c6.NamedTemplate("index0",{$:1,$0:"consolidado"},eA):void 0;};X.p$17=function(eA){return eA.$==5?"Dia25":eA.$==4?"Dia20":eA.$==3?"Dia15":eA.$==2?"Dia10":eA.$==1?"Dia05":"Dia01";};W.filapago=function(eA){c6.LoadLocalTemplates("index0");return eA?c6.NamedTemplate("index0",{$:1,$0:"filapago"},eA):void 0;};W.tablapagos=function(eA){c6.LoadLocalTemplates("index0");return eA?c6.NamedTemplate("index0",{$:1,$0:"tablapagos"},eA):void 0;};W.filadocs=function(eA){c6.LoadLocalTemplates("index0");return eA?c6.NamedTemplate("index0",{$:1,$0:"filadocs"},eA):void 0;};W.subirdocumentos=function(eA){c6.LoadLocalTemplates("index0");return eA?c6.NamedTemplate("index0",{$:1,$0:"subirdocumentos"},eA):void 0;};W.autorizacionpago=function(eA){c6.LoadLocalTemplates("index0");return eA?c6.NamedTemplate("index0",{$:1,$0:"autorizacionpago"},eA):void 0;};W.contrato=function(eA){c6.LoadLocalTemplates("index0");return eA?c6.NamedTemplate("index0",{$:1,$0:"contrato"},eA):void 0;};W.pendientes=function(eA){c6.LoadLocalTemplates("index0");return eA?c6.NamedTemplate("index0",{$:1,$0:"pendientes"},eA):void 0;};Y.r=function(){return dc.JSUnion(void 0,[[null,[[null,[]]],[]],[null,[[null,["NoUser"]]],[]],[null,[[null,["PreRegister"]]],[]],[null,[[null,["Content"]]],[dc.rString()]],[null,[[null,["Pdf"]]],[dc.rWildcard()]],[null,[[null,["Video"]]],[dc.rWildcard()]]]);};X.p$12=function(eA){return"IdAliado "+bz.prettyPrint(eA.$0);};W.datospersonales=function(eA){c6.LoadLocalTemplates("index0");return eA?c6.NamedTemplate("index0",{$:1,$0:"datospersonales"},eA):void 0;};X.p$14=function(eA){return eA.$==2?"Empresa":eA.$==1?"Femenino":"Masculino";};W.correo=function(eA){c6.LoadLocalTemplates("index0");return eA?c6.NamedTemplate("index0",{$:1,$0:"correo"},eA):void 0;};W.telefono=function(eA){c6.LoadLocalTemplates("index0");return eA?c6.NamedTemplate("index0",{$:1,$0:"telefono"},eA):void 0;};W.direccion=function(eA){c6.LoadLocalTemplates("index0");return eA?c6.NamedTemplate("index0",{$:1,$0:"direccion"},eA):void 0;};W.formadatospersonales=function(eA){c6.LoadLocalTemplates("index0");return eA?c6.NamedTemplate("index0",{$:1,$0:"formadatospersonales"},eA):void 0;};W.formacontactos=function(eA){c6.LoadLocalTemplates("index0");return eA?c6.NamedTemplate("index0",{$:1,$0:"formacontactos"},eA):void 0;};W.formacuentas=function(eA){c6.LoadLocalTemplates("index0");return eA?c6.NamedTemplate("index0",{$:1,$0:"formacuentas"},eA):void 0;};W.formafirma=function(eA){c6.LoadLocalTemplates("index0");return eA?c6.NamedTemplate("index0",{$:1,$0:"formafirma"},eA):void 0;};W.transaccion=function(eA){c6.LoadLocalTemplates("index0");return eA?c6.NamedTemplate("index0",{$:1,$0:"transaccion"},eA):void 0;};W.transacciones=function(eA){c6.LoadLocalTemplates("index0");return eA?c6.NamedTemplate("index0",{$:1,$0:"transacciones"},eA):void 0;};Z.p=function(eA){return"{"+("errorCode = "+bz.prettyPrint(eA.errorCode))+"; "+("errorMessage = "+bz.prettyPrint(eA.errorMessage))+"; "+("message = "+bz.prettyPrint(eA.message))+"; "+("name = "+bz.prettyPrint(eA.name))+"; "+("stack = "+X.p$13(eA.stack))+"}";};Z.p$1=function(eA){return"{"+("accessToken = "+bz.prettyPrint(eA.accessToken))+"; "+("account = "+bz.prettyPrint(eA.account))+"; "+("accountState = "+bz.prettyPrint(eA.accountState))+"; "+("expiresOn = "+bz.prettyPrint(eA.expiresOn))+"; "+("idToken = "+bz.prettyPrint(eA.idToken))+"; "+("scopes = "+bz.prettyPrint(eA.scopes))+"; "+("tenantId = "+bz.prettyPrint(eA.tenantId))+"; "+("tokenType = "+bz.prettyPrint(eA.tokenType))+"; "+("uniqueId = "+bz.prettyPrint(eA.uniqueId))+"}";};X.p$16=function(eA){return"IdPayment "+bz.prettyPrint(eA.$0);};X.p$4=function(eA){return eA.$==2?"OtroS "+bz.prettyPrint(eA.$0):eA.$==1?"Florida":"Texas";};X.p$3=function(eA){return eA.$==3?"OtroP "+bz.prettyPrint(eA.$0):eA.$==2?"Argentina":eA.$==1?"Venezuela":"USA";};X.p$8=function(eA){return eA.$==2?"Otra "+bz.prettyPrint(eA.$0):eA.$==1?"Corriente":"Ahorro";};X.p$5=function(eA){return eA.$==7?"Otro "+bz.prettyPrint(eA.$0):eA.$==6?"FormaW8BEN":eA.$==5?"FormaW9":eA.$==4?"LicenciaConducir":eA.$==3?"Cedula":eA.$==2?"Pasaporte":eA.$==1?"Autorizacion":"Contrato";};X.p$6=function(eA){return eA.$==5?"Cambiado":eA.$==4?"Cancelado":eA.$==3?"Expirado":eA.$==2?"Rechazado":eA.$==1?"Verificado":"Subido";};X.p$13=function(eA){return eA==null?"null":"Some "+bz.prettyPrint(eA.$0);};W.cuentabancaria=function(eA){c6.LoadLocalTemplates("index0");return eA?c6.NamedTemplate("index0",{$:1,$0:"cuentabancaria"},eA):void 0;};W.tarjetacredito=function(eA){c6.LoadLocalTemplates("index0");return eA?c6.NamedTemplate("index0",{$:1,$0:"tarjetacredito"},eA):void 0;};X.p=function(eA){return eA.$==3?"ResetPassword":eA.$==2?"EditProfile":eA.$==1?"SignUp":"SignIn";};X.p$11=function(eA){return eA.$==3?"Voip":eA.$==2?"Habitacion":eA.$==1?"Oficina":"Movil";};X.p$10=function(eA){return eA.$==3?"Otro "+bz.prettyPrint(eA.$0):eA.$==2?"ServicioPostal":eA.$==1?"Oficina":"Habitacion";};X.p$7=function(eA){return eA.$==3?"Otra "+bz.prettyPrint(eA.$0):eA.$==2?"Amex":eA.$==1?"MasterCard":"Visa";};X.p$9=function(eA){return eA.$==2?"Otro "+bz.prettyPrint(eA.$0):eA.$==1?"PagoComision":"PagoAfiliacion";};_0=h.Doc=es.Class({},g,_0);_0.get_Empty=function(){return _0.Mk(null,p.Const());};_0.Concat=function(eA){var eB;eB=cT.ofSeqNonCopying(eA);return cT.TreeReduce(_0.get_Empty(),_0.Append,eB);};_0.BindView=function(eA,eB){return _0.EmbedView(p.Map(eA,eB));};_0.Mk=function(eA,eB){return new _0.New(eA,eB);};_0.ConvertSeqBy=function(eA,eB,eC){return _0.Flatten(p.MapSeqCachedViewBy(eA,function(eD,eE){return(eB(eD))(eE);},eC));};_0.EmbedView=function(eA){var eB;eB=dk.CreateEmbedNode();return _0.Mk({$:2,$0:eB},p.Map(a.ignore,p.Bind(function(eC){dk.UpdateEmbedNode(eB,eC.docNode);return eC.updates;},eA)));};_0.Append=function(eA,eB){return _0.Mk({$:0,$0:eA.docNode,$1:eB.docNode},p.Map2Unit(eA.updates,eB.updates));};_0.TextNode=function(eA){return _0.Mk({$:5,$0:dm.CreateText(eA)},p.Const());};_0.Verbatim=function(eA){var eB;return _0.Mk(cT.MapTreeReduce(function(eC){return J.Equals(eC.nodeType,G.TEXT_NODE)?{$:5,$0:eC}:{$:1,$0:dk.CreateElemNode(eC,dl.EmptyAttr(),null)};},null,function(eC,eD){return{$:0,$0:eC,$1:eD};},(eB=eu.parseHTML(eA),J.Equals(eB,null)?[]:eB)),p.Const());};_0.Flatten=function(eA){return _0.EmbedView(p.Map(_0.Concat,eA));};_0.ConvertBy=function(eA,eB,eC){return _0.Flatten(p.MapSeqCachedBy(eA,eB,eC));};_0.Button=function(eA,eB,eC){var eD;eD=cS.Concat(eB);return dR.New(_0.Clickable("button",eC),eD,_0.TextNode(eA));};_0.Element=function(eA,eB,eC){var eD,eE;eD=cS.Concat(eB);eE=_0.Concat(eC);return dR.New(dm.CreateElement(eA),eD,eE);};_0.Input=function(eA,eB){return _0.InputInternal("input",function(){return bc.append(eA,[cW.Value(eB)]);});};_0.RunInPlace=function(eA,eB,eC){var eD;eD=dk.CreateRunState(eB,eC.docNode);p.Sink(dV.get_UseAnimations()||dW.BatchUpdatesEnabled()?dX.StartProcessor(dk.PerformAnimatedUpdate(eA,eD,eC.docNode)):function(){dk.PerformSyncUpdate(eA,eD,eC.docNode);},eC.updates);};_0.Clickable=function(eA,eB){var eC;eC=dm.CreateElement(eA);eC.addEventListener("click",function(eD){eD.preventDefault();return eB();},false);return eC;};_0.TextView=function(eA){var eB;eB=dk.CreateTextNode();return _0.Mk({$:4,$0:eB},p.Map(function(eC){dk.UpdateTextNode(eB,eC);},eA));};_0.InputInternal=function(eA,eB){var eC;eC=dm.CreateElement(eA);return dR.New(eC,cS.Concat(eB(eC)),_0.get_Empty());};_0.Run=function(eA,eB){dk.LinkElement(eA,eB.docNode);_0.RunInPlace(false,eA,eB);};_0.InputArea=function(eA,eB){return _0.InputInternal("textarea",function(){return bc.append(eA,[cW.Value(eB)]);});};_0.New=es.Ctor(function(eA,eB){g.New.call(this);this.docNode=eA;this.updates=eB;},_0);_1.llamadas=function(){_6.$cctor();return _6.llamadas;};_1.ejecutarDataEventoNuevo=function(eA){var eB,eC,eD;eB=(eC=n.get_LoggedId(),function(eE){return(new bT.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.ejecutarDataEventoNuevo:1305833807",[eC,eE]);});eD=bp.asyncResult();return eD.Run(eD.Delay(function(){var eE;eE=_1.llamadas().Get()+1;_1.llamadas().Set(eE);return eD.TryFinally(eD.Delay(function(){return eD.ReturnFrom$1(eB(eA));}),function(){var eF;eF=_1.llamadas().Get()-1;_1.llamadas().Set(eF);});}));};_1.iterA=function(eA){cM.iterA(function(eB){a.alert(eB);},a.ignore,eA);};_1.obtenerFormasDePagoPara=function(eA){var eB;function eC(eD){return(new bT.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerFormasDePagoPara:2142892534",[eD]);}eB=bp.asyncResult();return eB.Run(eB.Delay(function(){var eD;eD=_1.llamadas().Get()+1;_1.llamadas().Set(eD);return eB.TryFinally(eB.Delay(function(){return eB.ReturnFrom$1(eC(eA));}),function(){var eE;eE=_1.llamadas().Get()-1;_1.llamadas().Set(eE);});}));};_1.obtenerListaDocs=function(eA){var eB;function eC(eD){return(new bT.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerListaDocs:462722128",[eD]);}eB=bp.asyncResult();return eB.Run(eB.Delay(function(){var eD;eD=_1.llamadas().Get()+1;_1.llamadas().Set(eD);return eB.TryFinally(eB.Delay(function(){return eB.ReturnFrom$1(eC(eA));}),function(){var eE;eE=_1.llamadas().Get()-1;_1.llamadas().Set(eE);});}));};_1.enviarCorreosInvitacion=function(eA,eB){var eC,eD,eE,eF;eC=(eD=n.get_LoggedId(),function(eG){return(new bT.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.enviarCorreosInvitacion:921486630",[eD,eG[0],eG[1]]);});eE=[eA,eB];eF=bp.asyncResult();return eF.Run(eF.Delay(function(){var eG;eG=_1.llamadas().Get()+1;_1.llamadas().Set(eG);return eF.TryFinally(eF.Delay(function(){return eF.ReturnFrom$1(eC(eE));}),function(){var eH;eH=_1.llamadas().Get()-1;_1.llamadas().Set(eH);});}));};_1.obtenerIdInfluyente=function(eA){var eB;function eC(eD){return(new bT.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerIdInfluyente:231616815",[eD]);}eB=bp.asyncResult();return eB.Run(eB.Delay(function(){var eD;eD=_1.llamadas().Get()+1;_1.llamadas().Set(eD);return eB.TryFinally(eB.Delay(function(){return eB.ReturnFrom$1(eC(eA));}),function(){var eE;eE=_1.llamadas().Get()-1;_1.llamadas().Set(eE);});}));};_1.obtenerUnions=function(){var eA;function eB(){return(new bT.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerUnions:-1742744641",[]);}eA=bp.asyncResult();return eA.Run(eA.Delay(function(){var eC;eC=_1.llamadas().Get()+1;_1.llamadas().Set(eC);return eA.TryFinally(eA.Delay(function(){return eA.ReturnFrom$1(eB(void 0));}),function(){var eD;eD=_1.llamadas().Get()-1;_1.llamadas().Set(eD);});}));};_1.agregarUsuarioSiEsNuevo=function(eA){var eB,eC,eD;eB=(eC=n.get_LoggedId(),function(eE){return(new bT.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.agregarUsuarioSiEsNuevo:2096926511",[eC,eE]);});eD=bp.asyncResult();return eD.Run(eD.Delay(function(){var eE;eE=_1.llamadas().Get()+1;_1.llamadas().Set(eE);return eD.TryFinally(eD.Delay(function(){return eD.ReturnFrom$1(eB(eA));}),function(){var eF;eF=_1.llamadas().Get()-1;_1.llamadas().Set(eF);});}));};_1.obtenerEstadoParaUsuario=function(eA){var eB,eC;function eD(eE){return(new bT.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerEstadoParaUsuario:1912907973",[eE]);}eB=n.get_LoggedId();eC=bp.asyncResult();return eC.Run(eC.Delay(function(){var eE;eE=_1.llamadas().Get()+1;_1.llamadas().Set(eE);return eC.TryFinally(eC.Delay(function(){return eC.ReturnFrom$1(eD(eB));}),function(){var eF;eF=_1.llamadas().Get()-1;_1.llamadas().Set(eF);});}));};_1.borrarFormaPago=function(eA){var eB,eC,eD;eB=(eC=n.get_LoggedId(),function(eE){return(new bT.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.borrarFormaPago:1837795433",[eC,eE]);});eD=bp.asyncResult();return eD.Run(eD.Delay(function(){var eE;eE=_1.llamadas().Get()+1;_1.llamadas().Set(eE);return eD.TryFinally(eD.Delay(function(){return eD.ReturnFrom$1(eB(eA));}),function(){var eF;eF=_1.llamadas().Get()-1;_1.llamadas().Set(eF);});}));};_1.registrarTarjeta=function(eA){var eB,eC,eD;eB=(eC=n.get_LoggedId(),function(eE){return(new bT.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.registrarTarjeta:1914379366",[eC,eE]);});eD=bp.asyncResult();return eD.Run(eD.Delay(function(){var eE;eE=_1.llamadas().Get()+1;_1.llamadas().Set(eE);return eD.TryFinally(eD.Delay(function(){return eD.ReturnFrom$1(eB(eA));}),function(){var eF;eF=_1.llamadas().Get()-1;_1.llamadas().Set(eF);});}));};_1.registrarCuenta=function(eA){var eB,eC,eD;eB=(eC=n.get_LoggedId(),function(eE){return(new bT.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.registrarCuenta:1678015656",[eC,eE]);});eD=bp.asyncResult();return eD.Run(eD.Delay(function(){var eE;eE=_1.llamadas().Get()+1;_1.llamadas().Set(eE);return eD.TryFinally(eD.Delay(function(){return eD.ReturnFrom$1(eB(eA));}),function(){var eF;eF=_1.llamadas().Get()-1;_1.llamadas().Set(eF);});}));};_1.validarFormaPago=function(eA){var eB,eC,eD;eB=(eC=n.get_LoggedId(),function(eE){return(new bT.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.validarFormaPago:1837795433",[eC,eE]);});eD=bp.asyncResult();return eD.Run(eD.Delay(function(){var eE;eE=_1.llamadas().Get()+1;_1.llamadas().Set(eE);return eD.TryFinally(eD.Delay(function(){return eD.ReturnFrom$1(eB(eA));}),function(){var eF;eF=_1.llamadas().Get()-1;_1.llamadas().Set(eF);});}));};_1.actualizarSubscripcion=function(eA){var eB,eC,eD;eB=(eC=n.get_LoggedId(),function(eE){return(new bT.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.actualizarSubscripcion:1837795433",[eC,eE]);});eD=bp.asyncResult();return eD.Run(eD.Delay(function(){var eE;eE=_1.llamadas().Get()+1;_1.llamadas().Set(eE);return eD.TryFinally(eD.Delay(function(){return eD.ReturnFrom$1(eB(eA));}),function(){var eF;eF=_1.llamadas().Get()-1;_1.llamadas().Set(eF);});}));};_1.obtenerFormasDePago=function(){var eA;function eB(){return(new bT.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerFormasDePagoId:-1441558235",[n.get_LoggedId()]);}eA=bp.asyncResult();return eA.Run(eA.Delay(function(){var eC;eC=_1.llamadas().Get()+1;_1.llamadas().Set(eC);return eA.TryFinally(eA.Delay(function(){return eA.ReturnFrom$1(eB(void 0));}),function(){var eD;eD=_1.llamadas().Get()-1;_1.llamadas().Set(eD);});}));};_2=M.IdAliado=es.Class({get_Id:function(){return this.$0;}},null,_2);_3.New=function(eA,eB,eC,eD,eE,eF){return{idAliado:eA,aliados:eB,anoActual:eC,periodoActual:eD,premisas:eE,nevento:eF};};_4=h.ConcreteVar=es.Class({get_View:function(){return this.view;},Set:function(eA){if(this.isConst)(function(eB){return eB("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal");}(function(eB){ev.log(eB);}));else{_5.Obsolete(this.snap);this.current=eA;this.snap=_5.New({$:2,$0:eA,$1:[]});}},Get:function(){return this.current;},Update:function(eA){this.Set(eA(this.Get()));},UpdateMaybe:function(eA){var eB;eB=eA(this.Get());eB!=null&&eB.$==1?this.Set(eB.$0):void 0;}},q,_4);_4.New=es.Ctor(function(eA,eB,eC){var eD;eD=this;q.New.call(this);this.isConst=eA;this.current=eC;this.snap=eB;this.view=function(){return eD.snap;};this.id=b_.Int();},_4);_5.Map=function(eA,eB){var eC,eD;eC=eB.s;return eC!=null&&eC.$==0?_5.New({$:0,$0:eA(eC.$0)}):(eD=_5.New({$:3,$0:[],$1:[]}),(_5.When(eB,function(eE){_5.MarkDone(eD,eB,eA(eE));},eD),eD));};_5.WhenRun=function(eA,eB,eC){var eD;eD=eA.s;eD==null?eC():eD!=null&&eD.$==2?(eD.$1.push(eC),eB(eD.$0)):eD!=null&&eD.$==3?(eD.$0.push(eB),eD.$1.push(eC)):eB(eD.$0);};_5.WhenObsoleteRun=function(eA,eB){var eC;eC=eA.s;eC==null?eB():eC!=null&&eC.$==2?eC.$1.push(eB):eC!=null&&eC.$==3?eC.$1.push(eB):void 0;};_5.When=function(eA,eB,eC){var eD;eD=eA.s;eD==null?_5.Obsolete(eC):eD!=null&&eD.$==2?(_5.EnqueueSafe(eD.$1,eC),eB(eD.$0)):eD!=null&&eD.$==3?(eD.$0.push(eB),_5.EnqueueSafe(eD.$1,eC)):eB(eD.$0);};_5.MarkDone=function(eA,eB,eC){var eD;if(eD=eB.s,eD!=null&&eD.$==0)_5.MarkForever(eA,eC);else _5.MarkReady(eA,eC);};_5.Map2=function(eA,eB,eC){var eD,eE,eF;function eG(eH){var eI,eJ,eK;if(!(eI=eF.s,eI!=null&&eI.$==0||eI!=null&&eI.$==2)){eJ=_5.ValueAndForever(eB);eK=_5.ValueAndForever(eC);eJ!=null&&eJ.$==1?eK!=null&&eK.$==1?eJ.$0[1]&&eK.$0[1]?_5.MarkForever(eF,eA(eJ.$0[0],eK.$0[0])):_5.MarkReady(eF,eA(eJ.$0[0],eK.$0[0])):void 0:void 0;}}eD=eB.s;eE=eC.s;return eD!=null&&eD.$==0?eE!=null&&eE.$==0?_5.New({$:0,$0:eA(eD.$0,eE.$0)}):_5.Map2Opt1(eA,eD.$0,eC):eE!=null&&eE.$==0?_5.Map2Opt2(eA,eE.$0,eB):(eF=_5.New({$:3,$0:[],$1:[]}),(_5.When(eB,eG,eF),_5.When(eC,eG,eF),eF));};_5.Map3=function(eA,eB,eC,eD){var eE,eF,eG,eH;function eI(eJ){var eK,eL,eM,eN;if(!(eK=eH.s,eK!=null&&eK.$==0||eK!=null&&eK.$==2)){eL=_5.ValueAndForever(eB);eM=_5.ValueAndForever(eC);eN=_5.ValueAndForever(eD);eL!=null&&eL.$==1?eM!=null&&eM.$==1?eN!=null&&eN.$==1?eL.$0[1]&&eM.$0[1]&&eN.$0[1]?_5.MarkForever(eH,eA(eL.$0[0],eM.$0[0],eN.$0[0])):_5.MarkReady(eH,eA(eL.$0[0],eM.$0[0],eN.$0[0])):void 0:void 0:void 0;}}eE=eB.s;eF=eC.s;eG=eD.s;return eE!=null&&eE.$==0?eF!=null&&eF.$==0?eG!=null&&eG.$==0?_5.New({$:0,$0:eA(eE.$0,eF.$0,eG.$0)}):_5.Map3Opt1(eA,eE.$0,eF.$0,eD):eG!=null&&eG.$==0?_5.Map3Opt2(eA,eE.$0,eG.$0,eC):_5.Map3Opt3(eA,eE.$0,eC,eD):eF!=null&&eF.$==0?eG!=null&&eG.$==0?_5.Map3Opt4(eA,eF.$0,eG.$0,eB):_5.Map3Opt5(eA,eF.$0,eB,eD):eG!=null&&eG.$==0?_5.Map3Opt6(eA,eG.$0,eB,eC):(eH=_5.New({$:3,$0:[],$1:[]}),(_5.When(eB,eI,eH),_5.When(eC,eI,eH),_5.When(eD,eI,eH),eH));};_5.MapAsync=function(eA,eB){var eC;eC=_5.New({$:3,$0:[],$1:[]});_5.When(eB,function(eD){b9.StartTo(eA(eD),function(eE){_5.MarkDone(eC,eB,eE);});},eC);return eC;};_5.EnqueueSafe=function(eA,eB){var eC,eD,eE,eF;eA.push(eB);if(eA.length%20===0){eC=eA.slice(0);d6.Clear(eA);for(eD=0,eE=T.length(eC)-1;eD<=eE;eD++){eF=T.get(eC,eD);typeof eF=="object"?function(eG){if(eG.s)eA.push(eG);}(eF):function(eG){eA.push(eG);}(eF);}}else void 0;};_5.MarkForever=function(eA,eB){var eC,eD,eE,eF;eC=eA.s;if(eC!=null&&eC.$==3){eA.s={$:0,$0:eB};eD=eC.$0;for(eE=0,eF=T.length(eD)-1;eE<=eF;eE++)(T.get(eD,eE))(eB);}else void 0;};_5.MarkReady=function(eA,eB){var eC,eD,eE,eF;eC=eA.s;if(eC!=null&&eC.$==3){eA.s={$:2,$0:eB,$1:eC.$1};eD=eC.$0;for(eE=0,eF=T.length(eD)-1;eE<=eF;eE++)(T.get(eD,eE))(eB);}else void 0;};_5.Map2Opt1=function(eA,eB,eC){return _5.Map(function(eD){return eA(eB,eD);},eC);};_5.Map2Opt2=function(eA,eB,eC){return _5.Map(function(eD){return eA(eD,eB);},eC);};_5.ValueAndForever=function(eA){var eB;eB=eA.s;return eB!=null&&eB.$==0?{$:1,$0:[eB.$0,true]}:eB!=null&&eB.$==2?{$:1,$0:[eB.$0,false]}:null;};_5.TryGet=function(eA){var eB,eC;eB=eA.s;return(eB!=null&&eB.$==0?(eC=eB.$0,true):eB!=null&&eB.$==2&&(eC=eB.$0,true))?{$:1,$0:eC}:null;};_5.Map3Opt1=function(eA,eB,eC,eD){return _5.Map(function(eE){return eA(eB,eC,eE);},eD);};_5.Map3Opt2=function(eA,eB,eC,eD){return _5.Map(function(eE){return eA(eB,eE,eC);},eD);};_5.Map3Opt3=function(eA,eB,eC,eD){return _5.Map2(function(eE,eF){return eA(eB,eE,eF);},eC,eD);};_5.Map3Opt4=function(eA,eB,eC,eD){return _5.Map(function(eE){return eA(eE,eB,eC);},eD);};_5.Map3Opt5=function(eA,eB,eC,eD){return _5.Map2(function(eE,eF){return eA(eE,eB,eF);},eC,eD);};_5.Map3Opt6=function(eA,eB,eC,eD){return _5.Map2(function(eE,eF){return eA(eE,eF,eB);},eC,eD);};_5.Map2Unit=function(eA,eB){var eC,eD,eE;function eF(){var eG,eH,eI;if(!(eG=eE.s,eG!=null&&eG.$==0||eG!=null&&eG.$==2)){eH=_5.ValueAndForever(eA);eI=_5.ValueAndForever(eB);eH!=null&&eH.$==1?eI!=null&&eI.$==1?eH.$0[1]&&eI.$0[1]?_5.MarkForever(eE,null):_5.MarkReady(eE,null):void 0:void 0;}}eC=eA.s;eD=eB.s;return eC!=null&&eC.$==0?eD!=null&&eD.$==0?_5.New({$:0,$0:null}):eB:eD!=null&&eD.$==0?eA:(eE=_5.New({$:3,$0:[],$1:[]}),(_5.When(eA,eF,eE),_5.When(eB,eF,eE),eE));};_5.Join=function(eA){var eB;eB=_5.New({$:3,$0:[],$1:[]});_5.When(eA,function(eC){var eD;eD=eC();_5.When(eD,function(eE){var eF,eG;if((eF=eD.s,eF!=null&&eF.$==0)&&(eG=eA.s,eG!=null&&eG.$==0))_5.MarkForever(eB,eE);else _5.MarkReady(eB,eE);},eB);},eB);return eB;};_5.Sequence=function(eA){var eB,eC,eD;function eE(eF){var eG;if(eD[0]===0){eG=T.map(function(eH){var eI;eI=eH.s;return eI!=null&&eI.$==0?eI.$0:eI!=null&&eI.$==2?eI.$0:o.FailWith("value not found by View.Sequence");},eB);T.forall(function(eH){var eI;eI=eH.s;return eI!=null&&eI.$==0;},eB)?_5.MarkForever(eC,eG):_5.MarkReady(eC,eG);}else eD[0]--;}eB=T.ofSeq(eA);return eB.length==0?_5.New({$:0,$0:[]}):(eC=_5.New({$:3,$0:[],$1:[]}),(eD=[T.length(eB)-1],(T.iter(function(eF){_5.When(eF,eE,eC);},eB),eC)));};_5.Copy=function(eA){var eB,eC,eD;eB=eA.s;return eB==null?eA:eB!=null&&eB.$==2?(eC=_5.New({$:2,$0:eB.$0,$1:[]}),(_5.WhenObsolete(eA,eC),eC)):eB!=null&&eB.$==3?(eD=_5.New({$:3,$0:[],$1:[]}),(_5.When(eA,function(eE){_5.MarkDone(eD,eA,eE);},eD),eD)):eA;};_5.WhenObsolete=function(eA,eB){var eC;eC=eA.s;eC==null?_5.Obsolete(eB):eC!=null&&eC.$==2?_5.EnqueueSafe(eC.$1,eB):eC!=null&&eC.$==3?_5.EnqueueSafe(eC.$1,eB):void 0;};_6.$cctor=function(){var eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP;_6.$cctor=a.ignore;function eQ(e0){return bj.concat("\n",e0);}function eR(e0){return bK.splitByChar$1("\n",e0);}function eS(e0){var e1,e2;return ce.array(e0,{$:1,$0:0},{$:1,$0:(e1=0,(e2=T.length(e0)-2,J.Compare(e1,e2)===1?e1:e2))});}function eT(e0){return bj.concat("\n",e0);}function eU(e0){return e0+"T00:00:00";}function eV(e0){return(function(e1){return function(e2){return e1(bz.prettyPrint(e2));};}(a.id))(e0);}function eW(e0){var e1;e1=j.REGEX$2(j.rexEmail$1(),"gi",e0);return e1!=null&&e1.$==1?e1.$0:[];}function eX(e0){return bj.concat("\n",e0);}function eY(e0){return e0==="ProzperLyt.mainContent"?cB.DefaultEP:{$:3,$0:e0};}function eZ(e0){if(!J.Equals(m.endPointV().Get(),e0))m.endPointV().Set(e0);}_6.rtn=function(e0){return[e0];};_6.result=new b$.New();_6.result$1=bG.result();_6.resultP=new ca.New();_6.eff=new cc.New();_6.asyncResult=new bq.New();_6.asyncResultP=new cd.New();_6.unindentStr=function(e0){return eQ(bK.unindent$1(e0));};_6.skipLastLine=(eA=function(e0){return eS(eR(e0));},function(e0){return eT(eA(e0));});_6.parseDateO2=(eB=cf.tryParseWith$1(function(e0){var e1,e2;e1=0;return[(e2=c7.TryParse(e0),e2!=null&&e2.$==1&&(e1=e2.$0,true)),e1];}),function(e0){return eB(eU(e0));});_6.parseDateO=cf.tryParseWith$1(function(e0){var e1,e2;e1=0;return[(e2=c7.TryParse(e0),e2!=null&&e2.$==1&&(e1=e2.$0,true)),e1];});_6.parseIntO=cf.tryParseWith$1(function(e0){var e1;e1=0;return[b3.TryParseInt32(e0,{get:function(){return e1;},set:function(e2){e1=e2;}}),e1];});_6.parseInt64O=cf.tryParseWith$1(function(e0){var e1;e1=0;return[b3.TryParseInt64(e0,{get:function(){return e1;},set:function(e2){e1=e2;}}),e1];});_6.parseSingleO=cf.tryParseWith$1(function(e0){var e1,e2;e1=0;return[(e2=a.Number(e0),a.isNaN(e2)?false:(e1=e2,true)),e1];});_6.parseDoubleO=cf.tryParseWith$1(function(e0){var e1,e2;e1=0;return[(e2=a.Number(e0),a.isNaN(e2)?false:(e1=e2,true)),e1];});_6.parseGuidO=cf.tryParseWith$1(function(e0){var e1;e1=null;return[bt.TryParse(e0,{get:function(){return e1;},set:function(e2){e1=e2;}}),e1];});_6["|Date|_|"]=cf.parseDateO$1();_6["|Int|_|"]=cf.parseIntO$1();_6["|Int64|_|"]=cf.parseInt64O$1();_6["|Single|_|"]=cf.parseSingleO$1();_6["|Double|_|"]=cf.parseDoubleO$1();_6["|Guid|_|"]=cf.parseGuidO$1();_6.serString=[cg.toJsonString,function(e0){return e0.tryString();}];_6.serFloat=[function(e0){return(function(e1){return function(e2){return e1(bz.prettyPrint(e2));};}(a.id))(e0);},function(e0){return e0.tryFloat();}];_6.serInt=[function(e0){return(function(e1){return function(e2){return e1(bz.prettyPrint(e2));};}(a.id))(e0);},function(e0){var e1;e1=e0.tryInt();return e1==null?null:{$:1,$0:o.toInt(e1.$0)};}];_6.serInt64=[function(e0){return function(e1){return e0(a.String(e1));};}(a.id),function(e0){return e0.tryInt();}];_6.serBool=[function(e0){return(function(e1){return function(e2){return e1(bz.prettyPrint(e2));};}(a.id))(e0);},function(e0){return e0.tryBool();}];_6.serDate=[function(e0){return eV(a.id(e0));},function(e0){var e1;e1=e0.tryInt();return e1==null?null:{$:1,$0:e1.$0};}];_6.counter=1;_6.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";_6.rexEmail="(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@[*[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+]*";_6.policies=bB.ofArray([ci.SignIn,ci.SignUp,ci.EditProfile,ci.ResetPassword]);_6.premisasCalculo=bQ.New(15,25,25,0,75,31,26,28);_6.telVacio=cj.New(ck.Movil,"","","","",false);_6.dirVacio=cl.New(bd.Error$1(""),cm.Habitacion,"","","",new cn({$:2,$0:""}),new co({$:3,$0:""}),new cp({$:0,$0:""}));_6.tarVacio=cq.New("",ct.Visa,new cs({$:0,$0:""}),cr.New(2000,1));_6.ctaVacio=bC.New("","",cu.Ahorro,new bE({$:0,$0:""}),new bD({$:0,$0:""}));_6.modeloVacio=_3.New(new _2({$:0,$0:""}),[],(eC=ew.now(),(new ew(eC)).getFullYear()),(eD=ew.now(),(new ew(eD)).getMonth()+1),M.premisasCalculo(),0);_6.correoVacio=bk.New("",null,null);_6.empty=(eE=b0.New(null,"","","","",co.USA,cv.Masculino,(new ew(2000,1-1,1)).getTime()),N.New(new _2({$:0,$0:""}),null,null,null,eE,[],[],false,by.Inactivo,b1.Dia01,b2.Regular,(new ew(2000,1-1,1)).getTime(),(new ew(2000,1-1,1)).getTime(),0,0,0,0,0,0,0,0));_6.serverEndPoint=r.Create(function(){return self.location.protocol==="http:"?"http://localhost:7071/api/":(function(e0){return function(e1){return e0("https://"+bz.toSafe(e1)+"/api/");};}(a.id))(self.location.host);});_6.originalProvider=bS.AjaxProvider();_6.getTokenOA=function(){var e0;e0=null;return cU.Delay(function(){return cU.Return(null);});};_6.rootdir="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperServer\\website";_6.TemplatesFileName="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperServer\\website"+"\\index0.html";((function(e0){return function(e1){return e0(bz.toSafe(e1));};}(function(e0){ev.log(e0);}))("D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperServer\\website\\index0.html"));_6.appId=bj.StartsWith(self.location.host,"prozper0")?"76703639-1d21-4bc3-bd46-c764f5ea78ee":"70ad4f9b-9a2b-409e-9c1e-d04dbb2e7cf2";_6.applicationId=bV.storeValue("applicationId",bV.appId());_6.tenantName=bV.storeValue("tenantName","prozper");_6.ref=bV.storeValue("ref","");_6.extraQueryParms=bV.storeValue("extraQueryParms","mkt=es-us");_6.refreshBefore=bV.storeValue("refreshBefore","0");_6.createOnStart=bV.storeValue("createOnStart","1");_6.forceLogin=bV.storeValue("forceLogin","1");_6.signInPolicy=bV.storeValue("signInPolicy","B2C_1_SignIn");_6.signUpPolicy=bV.storeValue("signUpPolicy","B2C_1_Registrarse");_6.editProfilePolicy=bV.storeValue("editProfilePolicy","B2C_1_EditarPerfil");_6.resetPasswordPolicy=bV.storeValue("resetPasswordPolicy","B2C_1_PasswordReset");_6.policyType=bV.storeValue("policyType","SignIn");eF=bV.storageGetItem("preambleState");eF==="InPreamble"||(eF===""||eF===null)?void bV.storeValue("preambleState","GoToSignIn"):null;_6.authority=bV.getAuthority(bV.tenantName(),bV.signInPolicy());_6.userO=i.Create$1(null);_6.agent=r.Create(function(){var e0,e1;e0=(e1=cw.New$1({$:1,$0:cx.New$1(bV.applicationId(),{$:1,$0:bV.authority()},{$:1,$0:false},null,null,null)},null,null,null),new self.Msal.UserAgentApplication(e1));e0.handleRedirectCallback(function(e2,e3){bV.redirectCallback(e2,e3);});return e0;});_6.getTokenO=(eH=cA.callA(function(e0){bd.print$1(e0);},bV.getTokenO0),function(){return eH.PostAndAsyncReply(function(e0){return[e0,null];},null);});_6.modeloV=i.Create$1(_3.New(new _2({$:0,$0:":"}),[],(eI=ew.now(),(new ew(eI)).getFullYear()),(eJ=ew.now(),(new ew(eJ)).getMonth()+1),M.premisasCalculo(),-2));_6.formasPagoAliadoV=i.Create$1([]);_6.invitacionesV=i.Create$1("");_6.emailsInvitarW=p.Map((eK=(eL=function(e0){return bc.distinct(eW(e0));},function(e0){return bc.sort(eL(e0));}),function(e0){return eX(eK(e0));}),m.invitacionesV().get_View());_6.invitacionesDisabledW=p.Map(function(e0){return e0===""?"disabled":"";},m.emailsInvitarW());_6.selAliadoIdOV=i.Create$1(null);_6.refAliadoIdOV=i.Create$1(null);_6.endPointV=cC.InstallHash(cB.DefaultEP,Y.r());p.Sink(function(e0){if(e0.$==1);else if(e0.$==2);else if(e0.$==4)a.showPDF(e0.$0);else if(e0.$==5)a.playVideo();else bV.checkUser();},m.endPointV().get_View());_6.contentVar=new cR.New(p.Map2(function(e0,e1){var e2,e3;return e1.$==0&&!J.Equals(bV.userO().Get(),null)?"ProzperLyt.mainContent":e1.$==3&&(!J.Equals(bV.userO().Get(),null)&&(e3=e1.$0,true))?e3:e1.$==2?"ProzperLyt.cntPreRegister":e1.$==4?"ProzperLyt.cntPDF":e1.$==5?"ProzperLyt.cntVideo":"ProzperLyt.cntFormaNoUser";},bV.userO().get_View(),m.endPointV().get_View()),function(e0){return eZ(eY(e0));});_6.aliadoW=(eM=p.get_Do(),p.Bind(function(e0){var e1,e2;e1=e0.idAliado;e2=bc.tryFind(function(e3){return J.Equals(e3.id,e1);},e0.aliados);return p.Const(e2!=null&&e2.$==1?e2.$0:O.empty());},m.modeloV().get_View()));cE.installBearer(bV.getTokenO());_6.llamadas=i.Create$1(0);bS.set_EndPoint(bR.serverEndPoint().f()+"rpc/rpc");_6.shouldRefresh=true;p.Sink(function(){br.refrescarData(true);},bV.userO().get_View());cU.Start((eN=null,cU.Delay(function(){return cU.While(function(){return true;},cU.Delay(function(){return cU.Bind(cU.Sleep(5*60*1000),function(){return cU.Return(null);});}));})),null);try{self.document.addEventListener("visibilityChange",function(){return null;},false);}catch(e0){null;}_6.paises=i.Create$1([]);_6.estados=i.Create$1([]);_6.tiposDir=i.Create$1([]);_6.tiposTel=i.Create$1([]);_6.generos=i.Create$1([]);_6.tiposCta=i.Create$1([]);_6.tiposTar=i.Create$1([]);_6.statuses=i.Create$1([]);_6.aniosV=i.Create$1([]);_6.mesesV=i.Create$1([]);_6.tiposAr=i.Create$1([]);_6.statusAr=i.Create$1([]);_1.iterA((eO=bp.asyncResult(),eO.Run(eO.Delay(function(){return eO.Bind$1(_1.obtenerUnions(),function(e1){bv.paises().Set(e1[0]);bv.estados().Set(e1[1]);bv.tiposDir().Set(e1[2]);bv.tiposTel().Set(e1[3]);bv.generos().Set(e1[4]);bv.tiposCta().Set(e1[5]);bv.tiposTar().Set(e1[6]);bv.statuses().Set(e1[7]);bv.aniosV().Set(e1[9]);bv.mesesV().Set(e1[8]);bv.tiposAr().Set(e1[10]);bv.statusAr().Set(e1[11]);return eO.Zero();});}))));_6.ftel=[function(e1){return e1.$==2?{$:1,$0:e1.$0}:null;},function(e1){return{$:2,$0:e1};}];_6.fcor=[function(e1){return e1.$==1?{$:1,$0:e1.$0}:null;},function(e1){return{$:1,$0:e1};}];_6.fdir=[function(e1){return e1.$==0?{$:1,$0:e1.$0}:null;},function(e1){return{$:0,$0:e1};}];_6.mensajes=i.Create$1("");_6.firmanteV=i.Create$1("");_6.fechaHoraV=i.Create$1("");_6.locationV=i.Create$1({});cU.Start((eP=null,cU.Delay(function(){return cU.While(function(){return true;},cU.Delay(function(){return cU.Bind(cU.Sleep(1000),function(){var e1;e1=bd["String.Left$1"](function(e2){return e2.getFullYear()+"-"+("0"+(e2.getMonth()+1)).slice(-2)+"-"+("0"+e2.getDate()).slice(-2)+" "+("0"+e2.getHours()).slice(-2)+":"+("0"+e2.getMinutes()).slice(-2)+":"+("0"+e2.getSeconds()).slice(-2)+":"+("00"+e2.getMilliseconds()).slice(-3);}(new ew(ew.now())),19);bP.fechaHoraV().Set(e1);return cU.Zero();});}));})),null);_6.uploaded=function(e1,e2){return bd.print$1(e2);};_6.cuentaPagoO=i.Create$1(null);_6.cuentaAutorizar=i.Create$1(_0.TextNode("No hay cuenta seleccionada"));_6.titular=i.Create$1("");_6.pid=new cF({$:0,$0:""});_6.ftar=[function(e1){var e2;e2=e1.cuentaPago;return e2.$==1?{$:1,$0:[e2.$0,x.msg(e1),e1.authorizeIdR.$==0]}:null;},function(e1){return function(e2){var e3;e3=new bO({$:1,$0:e2});return bF.New(e1.nombre,bd.Error$1(""),e3);};}];_6.fcta=[function(e1){var e2;e2=e1.cuentaPago;return e2.$==0?{$:1,$0:[e2.$0,x.msg(e1),e1.authorizeIdR.$==0]}:null;},function(e1){return function(e2){var e3;e3=new bO({$:0,$0:e2});return bF.New(e1.nombre,bd.Error$1(""),e3);};}];_6.transaccionesW=p.MapAsync(function(){var e1,e2;function e3(e4){return cU.Return(e4);}return cU.Bind((new bT.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerTransaccionesPara:1561052143",[n.get_LoggedId()]),(e1=(e2=[],function(e4){return bG.defaultValue(e2,e4);}),function(e4){return e3(e1(e4));}));},m.modeloV().get_View());_6.expandedOV=i.Create$1(null);_6.aliadoIdW=p.Map2(function(e1,e2){return e1==null?e2.id:e1.$0;},A.expandedOV().get_View(),m.aliadoW());_6.FormaW9="/#/Pdf/blob/Inscripcion/07 Form W-9.pdf";_6.FormaW8BEN="/#/Pdf/blob/Inscripcion/05 Form W-8BEN.pdf";_6.FormasPago="/#/Content/ProzperLyt.cntFormaFormasPago";_6.FormaContrato="/#/Content/ProzperLyt.cntFormaContrato";_6.Subir="/#/Content/ProzperLyt.cntSubirDocumentos";_6.layoutName="ProzperLyt";_6.appName="Prozper";_6.influencerV=i.Create$1("");_6.influencerClassW=p.MapAsync(function(e1){var e2;e2=null;return cU.Delay(function(){return cU.Bind(_1.obtenerIdInfluyente(e1),function(e3){return e3.$==0?cU.Return("mui-btn--primary"):cU.Return("");});});},e.influencerV().get_View());};_7=h.ListModel=es.Class({Set:function(eA){this["var"].Set(this.storage.SSet(eA));this.ObsoleteAll();},Append:function(eA){var eB,eC,eD,eE;eB=this;eC=this["var"].Get();eD=this.key(eA);eE=T.tryFindIndex(function(eF){return J.Equals(eB.key(eF),eD);},eC);eE!=null&&eE.$==1?this["var"].Set(this.storage.SSetAt(eE.$0,eA,eC)):this["var"].Set(this.storage.SAppend(eA,eC));this.ObsoleteKey(eD);},ObsoleteAll:function(){bc.iter(function(eA){_5.Obsolete(eA.V);},this.it);this.it.Clear();},TryFindByKey:function(eA){var eB;eB=this;return T.tryFind(function(eC){return J.Equals(eB.key(eC),eA);},this["var"].Get());},ObsoleteKey:function(eA){var eB,eC;eB=(eC=null,[this.it.TryGetValue(eA,{get:function(){return eC;},set:function(eD){eC=eD;}}),eC]);eB[0]?(_5.Obsolete(eB[1]),this.it.Remove(eA)):void 0;},FindByKey:function(eA){var eB;eB=this;return T.find(function(eC){return J.Equals(eB.key(eC),eA);},this["var"].Get());},UpdateBy:function(eA,eB){var eC,eD,eE,eF,eG;eC=this;eD=this["var"].Get();eE=T.tryFindIndex(function(eH){return J.Equals(eC.key(eH),eB);},eD);eE!=null&&eE.$==1?(eF=eE.$0,eG=eA(T.get(eD,eF)),eG!=null&&eG.$==1?(this["var"].Set(this.storage.SSetAt(eF,eG.$0,eD)),this.ObsoleteKey(eB)):void 0):void 0;},MapLens:function(eA){var eB;eB=this;return p.MapSeqCachedViewBy(eB.key,function(eC,eD){return eA(eC,eB["LensInto'"](a.id,function(eE,eF){return eF;},eC,eD));},this["var"].get_View());},"LensInto'":function(eA,eB,eC,eD){var eE,eF,eG;eE=this;eF=b_.Id();eG=new q({Get:function(){return eA(eE.FindByKey(eC));},Set:function(eH){return eE.UpdateBy(function(eI){return{$:1,$0:eB(eI,eH)};},eC);},SetFinal:function(eH){return this.Set(eH);},Update:function(eH){return eE.UpdateBy(function(eI){return{$:1,$0:eB(eI,eH(eA(eI)))};},eC);},UpdateMaybe:function(eH){return eE.UpdateBy(function(eI){var eJ;eJ=eH(eA(eI));return eJ==null?null:{$:1,$0:eB(eI,eJ.$0)};},eC);},get_View:function(){return eD;},get_Id:function(){return eF;}});q.New.call(eG);return eG;},GetEnumerator:function(){return cI.Get(this["var"].Get());},GetEnumerator0:function(){return cI.Get0(this["var"].Get());}},g,_7);_7.New$1=es.Ctor(function(eA){_7.New$2.call(this,eA,[]);},_7);_7.New=es.Ctor(function(eA,eB){_7.New$3.call(this,eA,i.Create$1(T.ofSeq(bc.distinctBy(eA,eB.SInit()))),eB);},_7);_7.New$2=es.Ctor(function(eA,eB){var eC;eC=T.ofSeq(eB);_7.New$3.call(this,eA,i.Create$1(eC),cV.InMemory(eC));},_7);_7.New$3=es.Ctor(function(eA,eB,eC){g.New.call(this);this.key=eA;this["var"]=eB;this.storage=eC;this.v=p.Map(function(eD){return eD.slice();},this["var"].get_View());this.it=new b5.New$5();},_7);_8.New=function(eA,eB){return{varName:eA,varVar:eB};};_9.New=function(eA,eB){return{viwName:eA,viwView:eB};};_.New=function(eA,eB){return{docName:eA,docDoc:eB};};$.NewFromSeq=function(eA){var eB,eC,eD;eB={};eC=cI.Get(eA);try{while(eC.MoveNext()){eD=eC.Current();eB[eD[0]]=eD[1];}}finally{if(typeof eC=="object"&&"Dispose"in eC)eC.Dispose();}return eB;};bb.New=function(eA,eB,eC){return{c:eA,v:eB,f:eC};};bc.sortWith=function(eA,eB){return bc.delay(function(){var eC;eC=T.ofSeq(eB);T.sortInPlaceWith(eA,eC);return eC;});};bc.filter=function(eA,eB){return{GetEnumerator:function(){var eC;eC=cI.Get(eB);return new cJ.New(null,null,function(eD){var eE,eF,eG;eE=eC.MoveNext();eF=eC.Current();eG=false;while(eE)if(eA(eF)){eD.c=eF;eG=true;eE=false;}else if(eC.MoveNext())eF=eC.Current();else eE=false;return eG;},function(){eC.Dispose();});}};};bc.isEmpty=function(eA){var eB;eB=cI.Get(eA);try{return!eB.MoveNext();}finally{if(typeof eB=="object"&&"Dispose"in eB)eB.Dispose();}};bc.map=function(eA,eB){return{GetEnumerator:function(){var eC;eC=cI.Get(eB);return new cJ.New(null,null,function(eD){return eC.MoveNext()&&(eD.c=eA(eC.Current()),true);},function(){eC.Dispose();});}};};bc.delay=function(eA){return{GetEnumerator:function(){return cI.Get(eA());}};};bc.append=function(eA,eB){return{GetEnumerator:function(){var eC,eD;eC=cI.Get(eA);eD=[true];return new cJ.New(eC,null,function(eE){var eF;return eE.s.MoveNext()?(eE.c=eE.s.Current(),true):(eF=eE.s,!J.Equals(eF,null)?eF.Dispose():void 0,eE.s=null,eD[0]&&(eD[0]=false,eE.s=cI.Get(eB),eE.s.MoveNext()?(eE.c=eE.s.Current(),true):(eE.s.Dispose(),eE.s=null,false)));},function(eE){var eF;eF=eE.s;!J.Equals(eF,null)?eF.Dispose():void 0;});}};};bc.collect=function(eA,eB){return bc.concat(bc.map(eA,eB));};bc.min=function(eA){var eB,eC,eD;eB=cI.Get(eA);try{if(!eB.MoveNext())bc.seqEmpty();eC=eB.Current();while(eB.MoveNext()){eD=eB.Current();J.Compare(eD,eC)===-1?eC=eD:void 0;}return eC;}finally{if(typeof eB=="object"&&"Dispose"in eB)eB.Dispose();}};bc.tryPick=function(eA,eB){var eC,eD;eC=cI.Get(eB);try{eD=null;while(J.Equals(eD,null)&&eC.MoveNext())eD=eA(eC.Current());return eD;}finally{if(typeof eC=="object"&&"Dispose"in eC)eC.Dispose();}};bc.tryFind=function(eA,eB){var eC,eD,eE;eC=cI.Get(eB);try{eD=null;while(eD==null&&eC.MoveNext()){eE=eC.Current();eA(eE)?eD={$:1,$0:eE}:void 0;}return eD;}finally{if(typeof eC=="object"&&"Dispose"in eC)eC.Dispose();}};bc.exists=function(eA,eB){var eC,eD;eC=cI.Get(eB);try{eD=false;while(!eD&&eC.MoveNext())eD=eA(eC.Current());return eD;}finally{if(typeof eC=="object"&&"Dispose"in eC)eC.Dispose();}};bc.sumBy=function(eA,eB){return bc.fold(function(eC,eD){return eC+eA(eD);},0,eB);};bc.length=function(eA){var eB,eC;eB=0;eC=cI.Get(eA);try{while(eC.MoveNext())eB=eB+1;return eB;}finally{if(typeof eC=="object"&&"Dispose"in eC)eC.Dispose();}};bc.zip=function(eA,eB){return bc.map2(function(eC,eD){return[eC,eD];},eA,eB);};bc.choose=function(eA,eB){return bc.collect(function(eC){var eD;eD=eA(eC);return eD==null?cL.Empty:bB.ofArray([eD.$0]);},eB);};bc.distinct=function(eA){return bc.distinctBy(a.id,eA);};bc.sort=function(eA){return bc.sortBy(a.id,eA);};bc.groupBy=function(eA,eB){return bc.delay(function(){return T.groupBy(eA,T.ofSeq(eB));});};bc.concat=function(eA){return{GetEnumerator:function(){var eB;eB=cI.Get(eA);return new cJ.New(null,null,function(eC){var eD;while(true){eD=eC.s;if(J.Equals(eD,null)){if(eB.MoveNext()){eC.s=cI.Get(eB.Current());eC=eC;}else{eB.Dispose();return false;}}else if(eD.MoveNext()){eC.c=eD.Current();return true;}else{eC.Dispose();eC.s=null;eC=eC;}}},function(eC){var eD;eD=eC.s;!J.Equals(eD,null)?eD.Dispose():void 0;!J.Equals(eB,null)?eB.Dispose():void 0;});}};};bc.seqEmpty=function(){return o.FailWith("The input sequence was empty.");};bc.indexed=function(eA){return bc.mapi(function(eB,eC){return[eB,eC];},eA);};bc.fold=function(eA,eB,eC){var eD,eE;eD=eB;eE=cI.Get(eC);try{while(eE.MoveNext())eD=eA(eD,eE.Current());return eD;}finally{if(typeof eE=="object"&&"Dispose"in eE)eE.Dispose();}};bc.map2=function(eA,eB,eC){return{GetEnumerator:function(){var eD,eE;eD=cI.Get(eB);eE=cI.Get(eC);return new cJ.New(null,null,function(eF){return eD.MoveNext()&&eE.MoveNext()&&(eF.c=eA(eD.Current(),eE.Current()),true);},function(){eD.Dispose();eE.Dispose();});}};};bc.sortBy=function(eA,eB){return bc.delay(function(){var eC;eC=T.ofSeq(eB);T.sortInPlaceBy(eA,eC);return eC;});};bc.tryFindIndex=function(eA,eB){var eC,eD,eE;eC=cI.Get(eB);try{eD=true;eE=0;while(eD&&eC.MoveNext())if(eA(eC.Current()))eD=false;else eE=eE+1;return eD?null:{$:1,$0:eE};}finally{if(typeof eC=="object"&&"Dispose"in eC)eC.Dispose();}};bc.distinctBy=function(eA,eB){return{GetEnumerator:function(){var eC,eD;eC=cI.Get(eB);eD=new b6.New$3();return new cJ.New(null,null,function(eE){var eF,eG;if(eC.MoveNext()){eF=eC.Current();eG=eD.Add(eA(eF));while(!eG&&eC.MoveNext()){eF=eC.Current();eG=eD.Add(eA(eF));}return eG&&(eE.c=eF,true);}else return false;},function(){eC.Dispose();});}};};bc.mapi=function(eA,eB){return bc.map2(eA,bc.initInfinite(a.id),eB);};bc.iter=function(eA,eB){var eC;eC=cI.Get(eB);try{while(eC.MoveNext())eA(eC.Current());}finally{if(typeof eC=="object"&&"Dispose"in eC)eC.Dispose();}};bc.init=function(eA,eB){return bc.take(eA,bc.initInfinite(eB));};bc.pairwise=function(eA){return bc.map(function(eB){return[T.get(eB,0),T.get(eB,1)];},bc.windowed(2,eA));};bc.forall2=function(eA,eB,eC){return!bc.exists2(function(eD,eE){return!eA(eD,eE);},eB,eC);};bc.iteri=function(eA,eB){var eC,eD;eC=0;eD=cI.Get(eB);try{while(eD.MoveNext()){eA(eC,eD.Current());eC=eC+1;}}finally{if(typeof eD=="object"&&"Dispose"in eD)eD.Dispose();}};bc.initInfinite=function(eA){return{GetEnumerator:function(){return new cJ.New(0,null,function(eB){eB.c=eA(eB.s);eB.s=eB.s+1;return true;},void 0);}};};bc.take=function(eA,eB){eA<0?bc.nonNegative():void 0;return{GetEnumerator:function(){var eC;eC=[cI.Get(eB)];return new cJ.New(0,null,function(eD){var eE;eD.s=eD.s+1;return eD.s>eA?false:(eE=eC[0],J.Equals(eE,null)?bc.insufficient():eE.MoveNext()?(eD.c=eE.Current(),eD.s===eA?(eE.Dispose(),eC[0]=null):void 0,true):(eE.Dispose(),eC[0]=null,bc.insufficient()));},function(){var eD;eD=eC[0];!J.Equals(eD,null)?eD.Dispose():void 0;});}};};bc.skip=function(eA,eB){return{GetEnumerator:function(){var eC;eC=cI.Get(eB);return new cJ.New(true,null,function(eD){var eE,eF;if(eD.s){for(eE=1,eF=eA;eE<=eF;eE++)if(!eC.MoveNext())bc.insufficient();eD.s=false;}else null;return eC.MoveNext()&&(eD.c=eC.Current(),true);},function(){eC.Dispose();});}};};bc.nth=function(eA,eB){var eC,eD;if(eA<0)o.FailWith("negative index requested");eC=-1;eD=cI.Get(eB);try{while(eC<eA){!eD.MoveNext()?bc.insufficient():void 0;eC=eC+1;}return eD.Current();}finally{if(typeof eD=="object"&&"Dispose"in eD)eD.Dispose();}};bc.windowed=function(eA,eB){eA<=0?o.FailWith("The input must be positive."):void 0;return bc.delay(function(){return bc.enumUsing(cI.Get(eB),function(eC){var eD;eD=[];return bc.append(bc.enumWhile(function(){return eD.length<eA&&eC.MoveNext();},bc.delay(function(){eD.push(eC.Current());return[];})),bc.delay(function(){return eD.length===eA?bc.append([eD.slice(0)],bc.delay(function(){return bc.enumWhile(function(){return eC.MoveNext();},bc.delay(function(){eD.shift();eD.push(eC.Current());return[eD.slice(0)];}));})):[];}));});});};bc.head=function(eA){var eB;eB=cI.Get(eA);try{return eB.MoveNext()?eB.Current():bc.insufficient();}finally{if(typeof eB=="object"&&"Dispose"in eB)eB.Dispose();}};bc.exists2=function(eA,eB,eC){var eD,eE,eF,eG;eD=cI.Get(eB);try{eF=cI.Get(eC);try{eG=false;while(!eG&&eD.MoveNext()&&eF.MoveNext())eG=eA(eD.Current(),eF.Current());eE=eG;}finally{if(typeof eF=="object"&&"Dispose"in eF)eF.Dispose();}return eE;}finally{if(typeof eD=="object"&&"Dispose"in eD)eD.Dispose();}};bc.compareWith=function(eA,eB,eC){var eD,eE,eF,eG,eH;eD=cI.Get(eB);try{eF=cI.Get(eC);try{eG=0;eH=true;while(eH&&eG===0)if(eD.MoveNext())eG=eF.MoveNext()?eA(eD.Current(),eF.Current()):1;else if(eF.MoveNext())eG=-1;else eH=false;eE=eG;}finally{if(typeof eF=="object"&&"Dispose"in eF)eF.Dispose();}return eE;}finally{if(typeof eD=="object"&&"Dispose"in eD)eD.Dispose();}};bc.unfold=function(eA,eB){return{GetEnumerator:function(){return new cJ.New(eB,null,function(eC){var eD;eD=eA(eC.s);return eD==null?false:(eC.c=eD.$0[0],eC.s=eD.$0[1],true);},void 0);}};};bc.max=function(eA){var eB,eC,eD;eB=cI.Get(eA);try{if(!eB.MoveNext())bc.seqEmpty();eC=eB.Current();while(eB.MoveNext()){eD=eB.Current();J.Compare(eD,eC)===1?eC=eD:void 0;}return eC;}finally{if(typeof eB=="object"&&"Dispose"in eB)eB.Dispose();}};bc.forall=function(eA,eB){return!bc.exists(function(eC){return!eA(eC);},eB);};be.op_AmpGreater=function(eA,eB,eC,eD){var eE;eE=eA(eC,eD);return eE===0?eB(eC,eD):eE;};be.asc=function(eA,eB,eC){return J.Compare(eA(eB),eA(eC));};be.desc=function(eA,eB,eC){return J.Compare(eA(eC),eA(eB));};bf.New=function(eA,eB,eC,eD,eE,eF){return{hijosDe:eA,nivelDe:eB,aliado:eC,aliadoO:eD,hijos:eE,descendientes:eF};};bh=bg.FSharpSet=es.Class({Contains:function(eA){return cK.Contains(eA,this.tree);},Remove:function(eA){return new bh.New$1(cK.Remove(eA,this.tree));},Add:function(eA){return new bh.New$1(cK.Add(eA,this.tree));},Equals:function(eA){return this.get_Count()===eA.get_Count()&&bc.forall2(J.Equals,this,eA);},GetEnumerator$1:function(){return cI.Get(cK.Enumerate(false,this.tree));},get_Count:function(){var eA;eA=this.tree;return eA==null?0:eA.Count;},GetHashCode:function(){return -1741749453+J.Hash(T.ofSeq(this));},GetEnumerator:function(){return this.GetEnumerator$1();},CompareTo0:function(eA){return bc.compareWith(J.Compare,this,eA);},GetEnumerator0:function(){return this.GetEnumerator$1();}},g,bh);bh.op_Subtraction=function(eA,eB){return bi.Filter(function(eC){return!eB.Contains(eC);},eA);};bh.New=es.Ctor(function(eA){bh.New$1.call(this,cK.OfSeq(eA));},bh);bh.New$1=es.Ctor(function(eA){g.New.call(this);this.tree=eA;},bh);bi.Filter=function(eA,eB){var eC;return new bh.New$1((eC=T.ofSeq(bc.filter(eA,eB)),cK.Build(eC,0,eC.length-1)));};bj.PadLeft=function(eA,eB){return bj.PadLeftWith(eA,eB," ");};bj.concat=function(eA,eB){return T.ofSeq(eB).join(eA);};bj.PadLeftWith=function(eA,eB,eC){return eB>eA.length?a.Array(eB-eA.length+1).join(eC)+eA:eA;};bj.Trim=function(eA){return eA.replace(new a.RegExp("^\\s+"),"").replace(new a.RegExp("\\s+$"),"");};bj.Substring=function(eA,eB,eC){return eA.substr(eB,eC);};bj.Replace=function(eA,eB,eC){function eD(eE){var eF,eG,eH;eF=eE.indexOf(eB);return eF!==-1?(eG=bj.ReplaceOnce(eE,eB,eC),(eH=eF+eC.length,bj.Substring(eG,0,eF+eC.length)+eD(eG.substring(eH)))):eE;}return eD(eA);};bj.SplitChars=function(eA,eB,eC){return bj.Split(eA,new a.RegExp("["+bj.RegexEscape(eB.join(""))+"]"),eC);};bj.StartsWith=function(eA,eB){return eA.substring(0,eB.length)==eB;};bj.ReplaceOnce=function(eA,eB,eC){return eA.replace(eB,eC);};bj.Split=function(eA,eB,eC){return eC===1?T.filter(function(eD){return eD!=="";},bj.SplitWith(eA,eB)):bj.SplitWith(eA,eB);};bj.RegexEscape=function(eA){return eA.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};bj.IsNullOrEmpty=function(eA){return eA==null||eA=="";};bj.SplitWith=function(eA,eB){return eA.split(eB);};bj.replicate=function(eA,eB){return T.create(eA,eB).join("");};bj.ReplaceChar=function(eA,eB,eC){return bj.Replace(eA,eB,eC);};bj.SplitStrings=function(eA,eB,eC){return bj.Split(eA,new a.RegExp(bj.concat("|",T.map(bj.RegexEscape,eB))),eC);};bj.forall=function(eA,eB){return bc.forall(eA,bj.protect(eB));};bj.protect=function(eA){return eA===null?"":eA;};bj.Join=function(eA,eB){return eB.join(eA);};bk=M.CorreoElectronico=es.Class({toString:function(){return this.email;}},null,bk);bk.New=function(eA,eB,eC){return new bk({email:eA,enviado:eB,recibido:eC});};bl.formaDoc=function(eA){var eB,eC,eD,eE,eF,eG;eB=(eC=(eD=_0.EmbedView(p.Map(bv.crearOptions,bv.generos().get_View())),U.Make().WithHole({$:0,$0:"generos",$1:eD})),(eE=V.CompleteHoles(eC.k,eC.h,[["nombres",0],["apellidos",0],["fechanacimiento",0],["genero",0]]),(eF=new S.New(eE[1],W.datospersonales(eE[0])),(eC.i=eF,eF))));p.Sink(function(eH){var eI;if(eH!=null&&eH.$==1){eI=eH.$0;eB.Hole("nombres").Set(bj.Trim(eI.nombre1+" "+eI.nombre2));eB.Hole("apellidos").Set(bj.Trim(eI.apellido1+" "+eI.apellido2));eB.Hole("fechanacimiento").Set(bA.toYYYYMMDD("-",eI.fechaNacimiento));eB.Hole("genero").Set((function(eJ){return function(eK){return eJ(X.p$14(eK));};}(a.id))(eI.genero));}},eA.get_View());eG=p.Apply(p.Apply(p.Map2(function(eH,eI){return function(eJ){return function(eK){return bc.map(function(eL){return eL[1];},bc.filter(function(eL){return eL[0];},bB.ofArray([[bj.Trim(eH)==="","Nombres"],[bj.Trim(eI)==="","Apellidos"],[bj.Trim(eJ)==="","Fecha de Nacimiento"],[bj.Trim(eK)==="","Genero"]])));};};},eB.Hole("nombres").get_View(),eB.Hole("apellidos").get_View()),eB.Hole("fechanacimiento").get_View()),eB.Hole("genero").get_View());p.Sink(function(eH){if(!J.Equals(eA.Get(),eH))eA.Set(eH);},p.Apply(p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(eH,eI){return es.Curried(function(eJ,eK,eL,eM,eN){return!bc.isEmpty(eH)?null:bv.alertIfNone("Genero",cv.tryParse(eI),function(eO){return bv.alertIfNone("Fecha incorrecta",(cf.parseDateO2$1())(eJ),function(eP){return{$:1,$0:b0.New(null,T.get(bj.SplitChars(bj.Trim(eK),[" "],0),0),bj.concat(" ",ce.array(bj.SplitChars(bj.Trim(eL),[" "],0),{$:1,$0:1},null)),T.get(bj.SplitChars(bj.Trim(eM),[" "],0),0),bj.concat(" ",ce.array(bj.SplitChars(bj.Trim(eN),[" "],0),{$:1,$0:1},null)),new co({$:3,$0:""}),eO,eP)};});});},5);},eG,eB.Hole("genero").get_View()),eB.Hole("fechanacimiento").get_View()),eB.Hole("nombres").get_View()),eB.Hole("nombres").get_View()),eB.Hole("apellidos").get_View()),eB.Hole("apellidos").get_View()));return[eG,eB.get_Doc()];};bm.formaDoc=function(eA){var eB,eC,eD,eE,eF,eG,eH;eB=i.Create$1("");eC=(eD=U.Make().WithHole({$:2,$0:"mensaje",$1:eB.get_View()}),(eE=V.CompleteHoles(eD.k,eD.h,[["correo",0],["confirmarcorreo",0]]),(eF=new S.New(eE[1],W.correo(eE[0])),(eD.i=eF,eF))));eG=eA.Get();eG!=null&&eG.$==1?eC.Hole("confirmarcorreo").Set(a.String(eG.$0)):void 0;p.Sink(function(eI){eB.Set(eI);},p.Apply(p.Apply(p.Map2(function(eI,eJ){return function(eK){return function(eL){return bj.Trim(eI)===""||bj.Trim(eJ)===""||bj.Trim(eK)===bj.Trim(eL)?"":"Correos no son iguales";};};},eC.Hole("correo").get_View(),eC.Hole("confirmarcorreo").get_View()),eC.Hole("correo").get_View()),eC.Hole("confirmarcorreo").get_View()));p.Sink(function(eI){if(eI!=null&&eI.$==1)eC.Hole("correo").Set(eI.$0.email);},eA.get_View());eH=p.Apply(p.Apply(p.Map2(function(eI,eJ){return function(eK){return function(eL){return bc.map(function(eM){return eM[1];},bc.filter(function(eM){return eM[0];},bB.ofArray([[bj.Trim(eI)==="","Correo"],[bj.Trim(eJ)==="","ConfirmarCorreo"],[eK!=="",eL]])));};};},eC.Hole("correo").get_View(),eC.Hole("confirmarcorreo").get_View()),eB.get_View()),eB.get_View());p.Sink(function(eI){if(!J.Equals(eA.Get(),eI))eA.Set(eI);},p.Map2(function(eI,eJ){var eK,eL,eM,eN;return!bc.isEmpty(eI)?null:(eK=(eL=eA.Get(),(eM={$:1,$0:M.correoVacio()},eL==null?eM:eL)),eK==null?null:{$:1,$0:(eN=eK.$0,bk.New(eJ,eN.enviado,eN.recibido))});},eH,eC.Hole("correo").get_View()));return[eH,eC.get_Doc()];};bn.formaDoc=function(eA){var eB,eC,eD,eE,eF,eG;eB=(eC=(eD=_0.EmbedView(p.Map(bv.crearOptions,bv.tiposTel().get_View())),U.Make().WithHole({$:0,$0:"tipos",$1:eD})),(eE=V.CompleteHoles(eC.k,eC.h,[["tipotelefono",0],["codigopais",0],["codigoarea",0],["telefono",0],["extension",0]]),(eF=new S.New(eE[1],W.telefono(eE[0])),(eC.i=eF,eF))));p.Sink(function(eH){var eI;if(eH!=null&&eH.$==1){eI=eH.$0;eB.Hole("codigoarea").Set(eI.codigoArea);eB.Hole("codigopais").Set(eI.codigoPais);eB.Hole("telefono").Set(eI.numero);eB.Hole("extension").Set(eI.extension);eB.Hole("tipotelefono").Set((function(eJ){return function(eK){return eJ(a.String(eK));};}(a.id))(eI.tipoTelefono));}},eA.get_View());eG=p.Apply(p.Map2(function(eH,eI){return function(eJ){return bc.map(function(eK){return eK[1];},bc.filter(function(eK){return eK[0];},bB.ofArray([[bj.Trim(eH)==="","CodigoPais"],[bj.Trim(eI)==="","Telefono"],[bj.Trim(eJ)==="","TipoTelefono"]])));};},eB.Hole("codigopais").get_View(),eB.Hole("telefono").get_View()),eB.Hole("tipotelefono").get_View());p.Sink(function(eH){if(!J.Equals(eA.Get(),eH))eA.Set(eH);},p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(eH,eI){return es.Curried(function(eJ,eK,eL,eM){return!bc.isEmpty(eH)?null:bv.alertIfNone("TipoTelefono",(ck.get_tryParse())(bj.Trim(eI)),function(eN){var eO;return{$:1,$0:(eO=bj.Trim(eJ),cj.New(eN,bj.Trim(eK),eO,bj.Trim(eL),bj.Trim(eM),false))};});},4);},eG,eB.Hole("tipotelefono").get_View()),eB.Hole("codigoarea").get_View()),eB.Hole("codigopais").get_View()),eB.Hole("telefono").get_View()),eB.Hole("extension").get_View()));return[eG,eB.get_Doc()];};bo.formaDoc=function(eA){var eB,eC,eD,eE,eF,eG,eH,eI;eB=(eC=(eD=_0.EmbedView(p.Map(bv.crearOptions,bv.tiposDir().get_View())),(eE=_0.EmbedView(p.Map(bv.crearOptions,bv.estados().get_View())),(eF=_0.EmbedView(p.Map(bv.crearOptions,bv.paises().get_View())),U.Make().WithHole({$:0,$0:"paises",$1:eF})).WithHole({$:0,$0:"estados",$1:eE})).WithHole({$:0,$0:"tipos",$1:eD})),(eG=V.CompleteHoles(eC.k,eC.h,[["tipodireccion",0],["direccion1",0],["direccion2",0],["ciudad",0],["estado",0],["codigopostal",0],["pais",0]]),(eH=new S.New(eG[1],W.direccion(eG[0])),(eC.i=eH,eH))));p.Sink(function(eJ){var eK;if(eJ!=null&&eJ.$==1){eK=eJ.$0;eB.Hole("direccion1").Set(eK.linea1);eB.Hole("direccion2").Set(eK.linea2);eB.Hole("ciudad").Set(eK.ciudad);eB.Hole("estado").Set((function(eL){return function(eM){return eL(a.String(eM));};}(a.id))(eK.estado));eB.Hole("pais").Set((function(eL){return function(eM){return eL(a.String(eM));};}(a.id))(eK.pais));eB.Hole("codigopostal").Set((function(eL){return function(eM){return eL(a.String(eM));};}(a.id))(eK.zonaPostal));eB.Hole("tipodireccion").Set((function(eL){return function(eM){return eL(a.String(eM));};}(a.id))(eK.tipoDireccion));}},eA.get_View());eI=p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(eJ,eK){return es.Curried(function(eL,eM,eN,eO){return bc.map(function(eP){return eP[1];},bc.filter(function(eP){return eP[0];},bB.ofArray([[bj.Trim(eJ)==="","Direccion1"],[bj.Trim(eK)==="","Ciudad"],[bj.Trim(eL)==="","Estado"],[bj.Trim(eM)==="","Pais"],[bj.Trim(eN)==="","CodigoPostal"],[bj.Trim(eO)==="","TipoDireccion"]])));},4);},eB.Hole("direccion1").get_View(),eB.Hole("ciudad").get_View()),eB.Hole("estado").get_View()),eB.Hole("pais").get_View()),eB.Hole("codigopostal").get_View()),eB.Hole("tipodireccion").get_View());p.Sink(function(eJ){if(!J.Equals(eA.Get(),eJ))eA.Set(eJ);},p.Apply(p.Apply(p.Apply(p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(eJ,eK){return es.Curried(function(eL,eM,eN,eO,eP,eQ,eR){return!bc.isEmpty(eJ)?null:bv.alertIfNone("TipoDireccion",cm.tryParse(bj.Trim(eK)),function(eS){return bv.alertIfNone("Estado",cn.tryParse(bj.Trim(eL)),function(eT){return bv.alertIfNone("Pais",co.tryParse(bj.Trim(eM)),function(eU){return bv.alertIfNone("CodigoPostal",cp.tryParse(bj.Trim(eN)),function(eV){var eW;return{$:1,$0:cl.New((eW=eR==null?null:{$:1,$0:eR.$0.authorizeIdR},eW==null?bd.Error$1(""):eW.$0),eS,bj.Trim(eO),bj.Trim(eP),bj.Trim(eQ),eT,eU,eV)};});});});});},7);},eI,eB.Hole("tipodireccion").get_View()),eB.Hole("estado").get_View()),eB.Hole("pais").get_View()),eB.Hole("codigopostal").get_View()),eB.Hole("direccion1").get_View()),eB.Hole("direccion2").get_View()),eB.Hole("ciudad").get_View()),eA.get_View()));return[eI,eB.get_Doc()];};bp.asyncResult=function(){_6.$cctor();return _6.asyncResult;};bq=bp.AsyncResultBuilder=es.Class({Run:function(eA){return cM.bind(eA,cM.rtn());},Delay:a.id,Bind$1:function(eA,eB){return cM.bind(eB,eA);},Zero:function(){return cM.rtn();},Combine$1:function(eA,eB){return cM.bind(eB,eA);},For:function(eA,eB){var eC;eC=this;return this.Using(cI.Get(eA),function(eD){return eC.While(function(){return eD.MoveNext();},eC.Delay(function(){return eB(eD.Current());}));});},Return:function(eA){return cM.rtn(eA);},Bind:function(eA,eB){return cM.bind(eB,cM.rtnR(eA));},Using:function(eA,eB){return cU.Using(eA,eB);},While:function(eA,eB){return cM.whileLoop(eA,eB);},ReturnFrom$1:a.id,TryFinally:function(eA,eB){var eC;eC=null;return cU.Delay(function(){return cU.TryFinally(cU.Delay(function(){return eA();}),function(){eB();});});}},g,bq);bq.New=es.Ctor(function(){g.New.call(this);},bq);br.refrescarData=function(eA){var eB,eC,eD;eA?br.set_shouldRefresh(true):void 0;eB=bV.userO().Get();eB!=null&&eB.$==1?(eC=eB.$0,_1.iterA((eD=bp.asyncResult(),eD.Run(eD.Delay(function(){return eD.Combine$1(bV.referidoPor()!==""?eD.Bind$1(_1.agregarUsuarioSiEsNuevo(bV.claims(eC)),function(){return eD.Return();}):eD.Zero(),eD.Delay(function(){return!self.document.hidden?br.shouldRefresh()?eD.Bind$1(_1.obtenerEstadoParaUsuario(),function(eE){br.set_shouldRefresh(false);m.modeloV().Set(eE);return eD.Zero();}):eD.Zero():eD.Zero();}));}))))):m.modeloV().Set(M.modeloVacio());};br.set_shouldRefresh=function(eA){_6.$cctor();_6.shouldRefresh=eA;};br.shouldRefresh=function(){_6.$cctor();return _6.shouldRefresh;};bt.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new a.RegExp("[xy]","g"),function(eA){var eB,eC;eB=et.random()*16|0;eC=eA=="x"?eB:eB&3|8;return eC.toString(16);});};bt.TryParse=function(eA,eB){try{eB.set(bt.Parse(eA));return true;}catch(eC){return false;}};bt.Parse=function(eA){var eB,eC,eD;try{return bt.ParseExact(eA,"D");}catch(eE){try{eB=bt.ParseExact(eA,"B");}catch(eF){try{eC=bt.ParseExact(eA,"P");}catch(eG){try{eD=bt.ParseExact(eA,"N");}catch(eH){eD=bt.ParseExact(eA,"X");}eC=eD;}eB=eC;}return eB;}};bt.ParseExact=function(eA,eB){var eC,eD,eE,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP;function eF(eQ){var eR,eS,eT,eU;for(eR=0,eS=35;eR<=eS;eR++){eR===8||(eR===13||(eR===18||eR===23))?eQ[eR]!=="-"?bt.ShapeError():void 0:(eU=eQ[eR],!("0"<=eU&&eU<="9"||"a"<=eU&&eU<="f")?bt.ShapeError():void 0);}return eQ;}eG=eB.toUpperCase();if(eG==="N"){eH=bj.Trim(eA).toLowerCase();if(eH.length!==32)bt.ShapeError();for(eI=0,eJ=31;eI<=eJ;eI++){eK=eH[eI];!("0"<=eK&&eK<="9"||"a"<=eK&&eK<="f")?bt.ShapeError():void 0;}return bj.Substring(eH,0,8)+"-"+bj.Substring(eH,8,4)+"-"+bj.Substring(eH,12,4)+"-"+bj.Substring(eH,16,4)+"-"+eH.substring(20);}else if(eG==="D"){eC=bj.Trim(eA).toLowerCase();eC.length!==36?bt.ShapeError():void 0;return eF(eC);}else if(eG==="B"){eD=bj.Trim(eA).toLowerCase();eD.length!==38||eD[0]!=="{"||eD[17]!=="}"?bt.ShapeError():void 0;return eF(bj.Substring(eD,1,36));}else if(eG==="P"){eE=bj.Trim(eA).toLowerCase();eE.length!==38||eE[0]!=="("||eE[17]!==")"?bt.ShapeError():void 0;return eF(bj.Substring(eE,1,36));}else if(eG==="X"){eL=bj.Trim(eA).toLowerCase();if(eL.length!==68)bt.ShapeError();for(eM=0,eN=67;eM<=eN;eM++){switch(eM){case 26:case 0:if(eL[eM]!=="{")bt.ShapeError();break;case 62:case 57:case 52:case 47:case 42:case 37:case 32:case 27:case 19:case 12:case 1:if(eL[eM]!=="0")bt.ShapeError();break;case 63:case 58:case 53:case 48:case 43:case 38:case 33:case 28:case 20:case 13:case 2:if(eL[eM]!=="x")bt.ShapeError();break;case 61:case 56:case 51:case 46:case 41:case 36:case 31:case 25:case 18:case 11:if(eL[eM]!==",")bt.ShapeError();break;case 67:case 66:if(eL[eM]!=="{")bt.ShapeError();break;default:eP=eL[eM];!("0"<=eP&&eP<="9"||"a"<=eP&&eP<="f")?bt.ShapeError():void 0;break;}}return bj.Substring(eL,3,8)+"-"+bj.Substring(eL,14,4)+"-"+bj.Substring(eL,21,4)+"-"+bj.Substring(eL,29,2)+bj.Substring(eL,34,2)+"-"+bj.Substring(eL,39,2)+bj.Substring(eL,44,2)+bj.Substring(eL,49,2)+bj.Substring(eL,54,2)+bj.Substring(eL,59,2)+bj.Substring(eL,64,2);}else return bt.FormatError();};bt.ShapeError=function(){throw new eg.New$1("Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");};bt.FormatError=function(){throw new eg.New$1("Format String can be only \"D\", \"d\", \"N\", \"n\", \"P\", \"p\", \"B\", \"b\", \"X\" or \"x\".");};bu.New=function(eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN){return{archivos:eA,nombre:eB,correo:eC,status:eD,influyente:eE,tipo:eF,referido:eG,nivel:eH,referidos:eI,descendientes:eJ,comision:eK,diaPago:eL,desde:eM,Id:eN};};T.map=function(eA,eB){var eC,eD,eE;eC=new a.Array(eB.length);for(eD=0,eE=eB.length-1;eD<=eE;eD++)eC[eD]=eA(eB[eD]);return eC;};T.sortBy=function(eA,eB){return T.map(function(eC){return eC[0];},T.mapi(function(eC,eD){return[eD,[eA(eD),eC]];},eB).sort(function(eC,eD){return J.Compare(eC[1],eD[1]);}));};T.reduce=function(eA,eB){var eC,eD,eE;T.nonEmpty(eB);eC=eB[0];for(eD=1,eE=eB.length-1;eD<=eE;eD++)eC=eA(eC,eB[eD]);return eC;};T.filter=function(eA,eB){var eC,eD,eE;eC=[];for(eD=0,eE=eB.length-1;eD<=eE;eD++)if(eA(eB[eD]))eC.push(eB[eD]);return eC;};T.choose=function(eA,eB){var eC,eD,eE,eF;eC=[];for(eD=0,eE=eB.length-1;eD<=eE;eD++){eF=eA(eB[eD]);eF==null?void 0:eC.push(eF.$0);}return eC;};T.ofSeq=function(eA){var eB,eC;if(eA instanceof a.Array)return eA.slice();else if(eA instanceof cL)return T.ofList(eA);else{eB=[];eC=cI.Get(eA);try{while(eC.MoveNext())eB.push(eC.Current());return eB;}finally{if(typeof eC=="object"&&"Dispose"in eC)eC.Dispose();}}};T.sortInPlaceWith=function(eA,eB){eB.sort(eA);};T.mapi=function(eA,eB){var eC,eD,eE;eC=new a.Array(eB.length);for(eD=0,eE=eB.length-1;eD<=eE;eD++)eC[eD]=eA(eD,eB[eD]);return eC;};T.nonEmpty=function(eA){if(eA.length===0)o.FailWith("The input array was empty.");};T.tryFindIndex=function(eA,eB){var eC,eD;eC=null;eD=0;while(eD<eB.length&&eC==null){eA(eB[eD])?eC={$:1,$0:eD}:void 0;eD=eD+1;}return eC;};T.ofList=function(eA){var eB,eC;eC=[];eB=eA;while(!(eB.$==0)){eC.push(bB.head(eB));eB=bB.tail(eB);}return eC;};T.sortInPlace=function(eA){T.mapInPlace(function(eB){return eB[0];},T.mapiInPlace(function(eB,eC){return[eC,eB];},eA).sort(J.Compare));};T.tryFind=function(eA,eB){var eC,eD;eC=null;eD=0;while(eD<eB.length&&eC==null){eA(eB[eD])?eC={$:1,$0:eB[eD]}:void 0;eD=eD+1;}return eC;};T.sortInPlaceBy=function(eA,eB){T.mapInPlace(function(eC){return eC[0];},T.mapiInPlace(function(eC,eD){return[eD,[eA(eD),eC]];},eB).sort(function(eC,eD){return J.Compare(eC[1],eD[1]);}));};T.map2=function(eA,eB,eC){var eD,eE,eF;T.checkLength(eB,eC);eD=new a.Array(eC.length);for(eE=0,eF=eC.length-1;eE<=eF;eE++)eD[eE]=eA(eB[eE],eC[eE]);return eD;};T.forall=function(eA,eB){var eC,eD,eE,eF;eC=true;eD=0;eF=T.length(eB);while(eC&&eD<eF)if(eA(eB[eD]))eD=eD+1;else eC=false;return eC;};T.init=function(eA,eB){var eC,eD,eE;eA<0?o.FailWith("Negative size given."):null;eC=new a.Array(eA);for(eD=0,eE=eA-1;eD<=eE;eD++)eC[eD]=eB(eD);return eC;};T.find=function(eA,eB){var eC;eC=T.tryFind(eA,eB);return eC==null?o.FailWith("KeyNotFoundException"):eC.$0;};T.tryPick=function(eA,eB){var eC,eD,eE;eC=null;eD=0;while(eD<eB.length&&eC==null){eE=eA(eB[eD]);eE!=null&&eE.$==1?eC=eE:void 0;eD=eD+1;}return eC;};T.concat=function(eA){return a.Array.prototype.concat.apply([],T.ofSeq(eA));};T.checkLength=function(eA,eB){if(eA.length!==eB.length)o.FailWith("The arrays have different lengths.");};T.exists=function(eA,eB){var eC,eD,eE,eF;eC=false;eD=0;eF=T.length(eB);while(!eC&&eD<eF)if(eA(eB[eD]))eC=true;else eD=eD+1;return eC;};T.pick=function(eA,eB){var eC;eC=T.tryPick(eA,eB);return eC==null?o.FailWith("KeyNotFoundException"):eC.$0;};T.create=function(eA,eB){var eC,eD,eE;eC=new a.Array(eA);for(eD=0,eE=eA-1;eD<=eE;eD++)eC[eD]=eB;return eC;};T.foldBack=function(eA,eB,eC){var eD,eE,eF,eG,eH;eD=eC;eF=eB.length;for(eG=1,eH=eF;eG<=eH;eG++)eD=eA(eB[eF-eG],eD);return eD;};T.iter=function(eA,eB){var eC,eD;for(eC=0,eD=eB.length-1;eC<=eD;eC++)eA(eB[eC]);};bv.statuses=function(){_6.$cctor();return _6.statuses;};bv.crearOptions=function(eA){return _0.Concat(bc.map(bv.crearOption,eA));};bv.crearOptions2=function(eA){return _0.Concat(bc.map(function(eB){return bv.crearOption2(eB[0],eB[1]);},eA));};bv.statusAr=function(){_6.$cctor();return _6.statusAr;};bv.tiposAr=function(){_6.$cctor();return _6.tiposAr;};bv.paises=function(){_6.$cctor();return _6.paises;};bv.estados=function(){_6.$cctor();return _6.estados;};bv.tiposDir=function(){_6.$cctor();return _6.tiposDir;};bv.tiposTel=function(){_6.$cctor();return _6.tiposTel;};bv.generos=function(){_6.$cctor();return _6.generos;};bv.tiposCta=function(){_6.$cctor();return _6.tiposCta;};bv.tiposTar=function(){_6.$cctor();return _6.tiposTar;};bv.aniosV=function(){_6.$cctor();return _6.aniosV;};bv.mesesV=function(){_6.$cctor();return _6.mesesV;};bv.alertIfNone=function(eA,eB,eC){return eB!=null&&eB.$==1?eC(eB.$0):(a.alert("Error not caught: "+eA),null);};bv.removeButton=function(eA,eB){return _0.Element("form",[cS.Create("class","mui-panel")],[eB,_0.Button("borrar",[cS.Create("title","borrar")],eA)]);};bv.fst3=a.id;bv.crearOption=function(eA){return _0.Element("option",[],[_0.TextNode(eA)]);};bv.crearOption2=function(eA,eB){return _0.Element("option",[cS.Create("value",eB)],[_0.TextNode(eA)]);};bv.thr3=function(eA,eB,eC){return eC;};bv.snd3=function(eA,eB,eC){return eB;};bx=bw.attr=es.Class({},g,bx);by=M.StatusAliado=es.Class({toString:function(){return(function(eA){return function(eB){return eA(X.p$1(eB));};}(a.id))(this);}},null,by);by.tryParse=function(eA){var eB;eB=bj.Trim(eA).toUpperCase();return eB==="CUENTACREADA"?by.CuentaCreada:eB==="ACTIVO"?by.Activo:eB==="CANCELADO"?by.Cancelado:by.Inactivo;};by.Inactivo=new by({$:2});by.CuentaCreada=new by({$:0});by.Activo=new by({$:1});by.Cancelado=new by({$:3});bz.toSafe=function(eA){return eA==null?"":eA;};bz.prettyPrint=function(eA){var eB,eC;function eD(eE,eF){return eE+" = "+bz.prettyPrint(eF);}return eA===null?"null":(eB=typeof eA,eB=="string"?"\""+eA+"\"":eB=="object"?eA instanceof a.Array?"[|"+bj.concat("; ",T.map(bz.prettyPrint,eA))+"|]":(eC=a.String(eA),eC==="[object Object]"?"{"+bj.concat("; ",T.map(function(eE){return eD(eE[0],eE[1]);},I.GetFields(eA)))+"}":eC):a.String(eA));};bz.padNumLeft=function(eA,eB){var eC;eC=T.get(eA,0);return eC===" "||eC==="+"||eC==="-"?eC+bj.PadLeftWith(eA.substr(1),eB-1,"0"):bj.PadLeftWith(eA,eB,"0");};bz.printList=function(eA,eB){return"["+bj.concat("; ",bc.map(eA,eB))+"]";};bd["String.Right$1"]=function(eA,eB){var eC,eD;return bd["String.Substring2$1"](eA,(eC=0,(eD=eA.length-eB,J.Compare(eC,eD)===1?eC:eD)),eA.length);};bd.Error$1=function(eA){return{$:1,$0:eA};};bd.print$1=function(eA){if(typeof eA=="string")((function(eB){return function(eC){return eB(bz.toSafe(eC));};}(function(eB){ev.log(eB);}))(eA));else((function(eB){return function(eC){return eB(bz.prettyPrint(eC));};}(function(eB){ev.log(eB);}))(eA));};bd["String.Left$1"]=function(eA,eB){return eB<0?bd["String.Substring2$1"](eA,0,eA.length+eB):bd["String.Substring2$1"](eA,0,eB);};bd["String.Substring2$1"]=function(eA,eB,eC){var eD,eE;while(true){if(eC<=0)return"";else if(eB<0){eD=eB;eB=0;eC=eC+eD;}else return eB>=eA.length?"":bj.Substring(eA,eB,(eE=eA.length-eB,J.Compare(eC,eE)===-1?eC:eE));}};bd["String.get_toUnderscore$1"]=function(eA,eB){return T.ofSeq(bc.collect(a.id,bc.mapi(function(eC,eD){return eC>0&&ef.IsUpper(eD)?bB.ofArray(["_",eD]):bB.ofArray([eD]);},eA))).join("");};bA.toYYYYMMDD=function(eA,eB){return((((((es.Curried(function(eC,eD,eE,eF,eG,eH){return eC(a.String(eD)+bz.toSafe(eE)+bz.padNumLeft(a.String(eF),2)+bz.toSafe(eG)+bz.padNumLeft(a.String(eH),2));},6))(a.id))((new ew(eB)).getFullYear()))(eA))((new ew(eB)).getMonth()+1))(eA))((new ew(eB)).getDate());};bA.toYYYYMMDDHHMM=function(eA,eB){return(((es.Curried3(function(eC,eD,eE){return eC(bz.toSafe(eD)+" "+bz.toSafe(eE));}))(a.id))(bA.toYYYYMMDD(eA,eB)))(bA.toHHMM(eB));};bA.toHHMM=function(eA){return(((es.Curried3(function(eB,eC,eD){return eB(bz.padNumLeft(a.String(eC),2)+":"+bz.padNumLeft(a.String(eD),2));}))(a.id))((new ew(eA)).getHours()))((new ew(eA)).getMinutes());};bB.ofArray=function(eA){var eB,eC,eD;eB=cL.Empty;for(eC=T.length(eA)-1,eD=0;eC>=eD;eC--)eB=new cL({$:1,$0:T.get(eA,eC),$1:eB});return eB;};bB.ofSeq=function(eA){var eB,eC,eD,eE,eF,eG;if(eA instanceof cL)return eA;else if(eA instanceof a.Array)return bB.ofArray(eA);else{eB=cI.Get(eA);try{eD=eB.MoveNext();if(!eD)eC=cL.Empty;else{eF=new cL({$:1});eE=eF;while(eD){eE.$0=eB.Current();eB.MoveNext()?eE=(eG=new cL({$:1}),eE.$1=eG,eG):eD=false;}eE.$1=cL.Empty;eC=eF;}return eC;}finally{if(typeof eB=="object"&&"Dispose"in eB)eB.Dispose();}}};bB.rev=function(eA){var eB,eC;eB=cL.Empty;eC=eA;while(eC.$==1){eB=new cL({$:1,$0:eC.$0,$1:eB});eC=eC.$1;}return eB;};bB.head=function(eA){return eA.$==1?eA.$0:bB.listEmpty();};bB.tail=function(eA){return eA.$==1?eA.$1:bB.listEmpty();};bB.listEmpty=function(){return o.FailWith("The input list was empty.");};bB.iter=function(eA,eB){var eC;eC=eB;while(eC.$==1){eA(bB.head(eC));eC=bB.tail(eC);}};bC.New=function(eA,eB,eC,eD,eE){return{titular:eA,banco:eB,tipo:eC,numero:eD,routing:eE};};bD=M.RoutingNumber=es.Class({get_Id:function(){return this.$0;}},null,bD);bE=M.NumeroCuenta=es.Class({get_Id:function(){return this.$0;}},null,bE);bF.New=function(eA,eB,eC){return{nombre:eA,authorizeIdR:eB,cuentaPago:eC};};M.ctaVacio=function(){_6.$cctor();return _6.ctaVacio;};M.premisasCalculo=function(){_6.$cctor();return _6.premisasCalculo;};M.correoVacio=function(){_6.$cctor();return _6.correoVacio;};M.modeloVacio=function(){_6.$cctor();return _6.modeloVacio;};M.telVacio=function(){_6.$cctor();return _6.telVacio;};M.dirVacio=function(){_6.$cctor();return _6.dirVacio;};M.tarVacio=function(){_6.$cctor();return _6.tarVacio;};bG.defaultValue=function(eA,eB){return eB.$==1?eA:eB.$0;};bG.result=function(){_6.$cctor();return _6.result;};bG.iter=function(eA,eB,eC){bG.defaultWith(eA,dG.Map(eB,eC));};bG.defaultWith=function(eA,eB){return eB.$==1?eA(eB.$0):eB.$0;};_7.Create=function(eA,eB){return _7.CreateWithStorage(eA,cV.InMemory(T.ofSeq(eB)));};_7.CreateWithStorage=function(eA,eB){return new _7.New(eA,eB);};bH.New=function(eA,eB,eC,eD,eE,eF,eG){return{idAliado:eA,tipo:eB,nombre:eC,modificado:eD,tamano:eE,status:eF,comentario:eG};};bI["AsyncResultBuilder.Bind"]=function(eA,eB,eC){function eD(eF){return{$:0,$0:eF};}function eE(eF){return cU.Return(eF);}return cM.bind(eC,cU.Bind(eB,function(eF){return eE(eD(eF));}));};bJ.docLensMapView=function(eA,eB,eC){function eD(eE,eF){return eB(eE,bJ["lensInto'"](eC,a.id,function(){return a.id;},eE,eF));}return _0.ConvertSeqBy(eC.key,function(eE){return function(eF){return eD(eE,eF);};},p.Map(eA,eC.v));};bJ["lensInto'"]=function(eA,eB,eC,eD,eE){var eF,eG;eF=dr.freshId();eG=new q({Get:function(){return eB(eA.FindByKey(eD));},Set:function(eH){return eA.UpdateBy(function(eI){return{$:1,$0:(eC(eI))(eH)};},eD);},Update:function(eH){return eA.UpdateBy(function(eI){var eJ;return{$:1,$0:(eJ=eH(eB(eI)),(eC(eI))(eJ))};},eD);},UpdateMaybe:function(eH){return eA.UpdateBy(function(eI){var eJ,eK;eJ=eH(eB(eI));eK=eC(eI);return eJ==null?null:{$:1,$0:eK(eJ.$0)};},eD);},SetFinal:function(eH){return this.Set(eH);},get_View:function(){return eE;},get_Id:function(){return eF;}});q.New.call(eG);return eG;};bK.thousands=function(eA){var eB,eC,eD;eB=a.String(eA);eC=eB.length%3;eD=eC===0?3:eC;return bj.concat(",",bB.ofSeq(bc.delay(function(){return bc.append([ce.string(eB,{$:1,$0:0},{$:1,$0:eD-1})],bc.delay(function(){return bc.map(function(eE){return ce.string(eB,{$:1,$0:eE*3+eD},{$:1,$0:eE*3+eD+2});},o.range(0,((eB.length-eD)/3>>0)-1));}));})));};bK.unindent$1=function(eA){var eB,eC,eD,eE;eB=bj.SplitChars(eA,["\n"],0);eC=(eD=bc.tryFindIndex(function(eF){return" "!==eF;},(eE=bc.tryFind(function(eF){return bj.Trim(eF)!=="";},eB),eE==null?"":eE.$0)),eD==null?0:eD.$0);return bc.filter(function(eF){return!bj.StartsWith(eF,"# 1 ");},bc.map(function(eF){return eF.length<=eC?"":eF.substring(eC);},eB));};bK.splitByChar$1=function(eA,eB){return bj.SplitChars(eB,[eA],0);};bK.StartsWith$1=function(eA,eB){return bj.StartsWith(eB,eA)?{$:1,$0:ce.string(eB,{$:1,$0:eA.length},null)}:null;};bL=M.TipoArchivo=es.Class({toString:function(){return this.$==7?this.$0:(function(eA){return function(eB){return eA(X.p$5(eB));};}(a.id))(this);}},null,bL);bL.Parse=function(eA){var eB;eB=bK.StartsWith$1("Otro ",eA);return eB!=null&&eB.$==1?new bL({$:7,$0:eB.$0}):eA==="Contrato"?bL.Contrato:eA==="FormaW9"?bL.FormaW9:eA==="FormaW8BEN"?bL.FormaW8BEN:eA==="Autorizacion"?bL.Autorizacion:eA==="Pasaporte"?bL.Pasaporte:eA==="Cedula"?bL.Cedula:eA==="LicenciaConducir"?bL.LicenciaConducir:new bL({$:7,$0:bj.Trim(eA)});};bL.Autorizacion=new bL({$:1});bL.Contrato=new bL({$:0});bL.FormaW9=new bL({$:5});bL.FormaW8BEN=new bL({$:6});bL.Pasaporte=new bL({$:2});bL.Cedula=new bL({$:3});bL.LicenciaConducir=new bL({$:4});bM=M.StatusArchivo=es.Class({toString:function(){return(function(eA){return function(eB){return eA(X.p$6(eB));};}(a.id))(this);}},null,bM);bM.Parse=function(eA){return eA==="Cambiado"?bM.Cambiado:eA==="Expirado"?bM.Expirado:eA==="Cancelado"?bM.Cancelado:eA==="Verificado"?bM.Verificado:eA==="Rechazado"?bM.Rechazado:bM.Subido;};bM.Cambiado=new bM({$:5});bM.Expirado=new bM({$:3});bM.Cancelado=new bM({$:4});bM.Verificado=new bM({$:1});bM.Rechazado=new bM({$:2});bM.Subido=new bM({$:0});p=h.View=es.Class({get_V:function(){return o.FailWith("View<'T>.V can only be called in an argument to a V-enabled function or if 'T = Doc.");}},null,p);bO=M.CuentaPago=es.Class({get_AutorizacionPre:function(){return(((es.Curried3(function(eA,eB,eC){return eA("Autorizacion "+bz.toSafe(eB)+" "+bz.toSafe(eC));}))(a.id))(this.get_TipoCorto()))(this.get_MaskedCuenta());},get_TipoCorto:function(){return this.$==0?"CB":this.$==2?"TE":"TC";},get_MaskedCuenta:function(){return this.$==0?this.$0.numero.get_Id():this.$==2?this.$0:this.$0.numero.get_Id();},get_TipoLargo:function(){return this.$==0?"Cuenta Bancaria":this.$==2?"Transferencia Electronica":"Tarjeta de Credito";}},null,bO);bP.formaFirma=function(eA,eB,eC,eD,eE){var eF,eG,eH,eI,eJ,eK,eL;function eM(){var eN;_1.iterA((eN=bp.asyncResult(),eN.Run(eN.Delay(function(){return bP.mensajes().Get()!==""?(a.alert(bP.mensajes().Get()),eN.Zero()):eN.Bind$1(bP.subirScreenShot(eC,eE),function(){return eN.ReturnFrom$1(cM.map(function(eO){a.alert(eO);},eD()));});}))));}eF=i.Create$1(false);eG=(eH=(eI=n.get_LoggedId().get_Id(),(eJ=U.Make().WithHole({$:2,$0:"firmarclass",$1:p.Map(function(eN){return eN===""?"mui-btn--primary":"";},bP.mensajes().get_View())}).WithHole({$:2,$0:"mensaje",$1:bP.mensajes().get_View()}).WithHole({$:0,$0:"contenido",$1:eB}).WithHole({$:9,$0:"acepto",$1:i.Lens(eF,a.id,function(eN,eO){return eO;})}),eJ.WithHole(V.EventQ2(eJ.k,"firmar",function(){return eJ.i;},function(){eM();}))).WithHole({$:2,$0:"datetime",$1:bP.fechaHoraV().get_View()}).WithHole({$:1,$0:"idloggedin",$1:eI})).WithHole({$:2,$0:"location",$1:p.Map(function(eN){return(function(eO){return function(eP){return eO(bz.prettyPrint(eP));};}(a.id))(eN);},bP.locationV().get_View())}),(eK=V.CompleteHoles(eH.k,eH.h,[["firmante",0],["fecha",0],["acepto",2]]),(eL=new S.New(eK[1],W.formafirma(eK[0])),(eH.i=eL,eL))));p.Sink(function(eN){bP.mensajes().Set(eN);},p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(eN,eO){return es.Curried(function(eP,eQ,eR,eS){return bj.concat(", ",bc.map(function(eT){return eT[1];},bc.filter(function(eT){return eT[0];},bB.ofArray([[bj.Trim(eN)!==eO.toUpperCase(),"Nombre en MAYUSCULAS debe coincidir"],[eP!==bd["String.Left$1"](eQ,10),"Introduzca fecha de hoy (YYYY-MM-DD)"],[!J.Equals(eR,true),"Acepte los terminos indicados"],[!J.Equals(n.get_LoggedId(),eS.id),"El documento solo debe ser firmado por el titular de la cuenta"]]))));},4);},eG.Hole("firmante").get_View(),eA),eG.Hole("fecha").get_View()),bP.fechaHoraV().get_View()),eG.Hole("acepto").get_View()),m.aliadoW()));return eG.get_Doc();};bP.fechaHoraV=function(){_6.$cctor();return _6.fechaHoraV;};bP.locationV=function(){_6.$cctor();return _6.locationV;};bP.mensajes=function(){_6.$cctor();return _6.mensajes;};bP.subirScreenShot=function(eA,eB){var eC;eC=null;return cU.Delay(function(){return cU.Bind(cU.FromContinuations(function(eD){eu.getJSON("https://ipapi.co/json/",function(eE){eD(eE);});}),function(eD){bP.locationV().Set(eD);return cU.Bind(cU.Sleep(100),function(){return cU.Bind(da.AsAsync(a.html2canvas(self.document.querySelector("#content-wrapper"))),function(eE){var eF;self.document.body.appendChild(eE);eF=(((es.Curried3(function(eG,eH,eI){return eG(bz.toSafe(eH)+" "+bz.toSafe(eI)+".png");}))(a.id))(eB))(bj.Replace(bP.fechaHoraV().Get(),":","."));eE.toBlob(function(eG){var eH,eI;eH=new a.FormData();eH.append("fname",eF);eH.append("data",eG);eu.ajax((eI={},eI.type="POST",eI.url="/api/subir/"+m.modeloV().Get().idAliado.get_Id()+"/"+eF,eI.data=eH,eI.contentType=false,eI.processData=false,eI.success=bP.uploaded(),eI));});self.document.body.removeChild(eE);return cU.Bind(_1.ejecutarDataEventoNuevo({$:9,$0:[n.get_LoggedId(),[bH.New(m.modeloV().Get().idAliado,eA,eF,ew.now(),0,bM.Subido,"Firma Electronica")]]}),function(eG){br.refrescarData(true);return cU.Return(eG);});});});});});};bP.uploaded=function(){_6.$cctor();return _6.uploaded;};bQ.New=function(eA,eB,eC,eD,eE,eF,eG,eH){return{comisionReferidosRegular:eA,comisionReferidosMaster:eB,comisionDescendientesMaster:eC,comisionDescendientesRegular:eD,montoAfiliacion:eE,numeroReferidosMaster:eF,diaCorte1:eG,diaCorte2:eH};};bR.serverEndPoint=function(){_6.$cctor();return _6.serverEndPoint;};bT=bS.AjaxRemotingProvider=es.Class({AsyncBase:function(eA,eB){var eC,eD;eC=this;eD=null;return cU.Delay(function(){var eE,eF;eE=bS.makeHeaders(eA);eF=bS.makePayload(eB);return cU.Bind(cU.GetCT(),function(eG){return cU.FromContinuations(function(eH,eI,eJ){var eK,eL,eM;function eN(eO){return eK[0]?(eK[0]=false,eJ(new dY.New(eG))):null;}eK=[true];eL=cU.Register(eG,function(){eN();});eM=eC.get_EndPoint();return bS.AjaxProvider().Async(eM,eE,eF,function(eO){if(eK[0]){eK[0]=false;eL.Dispose();eH(dZ.Activate(ex.parse(eO)));}},function(eO){if(eK[0]){eK[0]=false;eL.Dispose();eI(eO);}});});});});},get_EndPoint:function(){return bS.EndPoint();},Async:function(eA,eB){return this.AsyncBase(eA,eB);}},g,bT);bT.New=es.Ctor(function(){g.New.call(this);},bT);bU.New=function(eA,eB,eC){return{actName:eA,actFunction:eB,actEnabled:eC};};bV.logout=function(){bV.executePolicy(true,ci.SignIn);};bV.userO=function(){_6.$cctor();return _6.userO;};bV.storeValue=function(eA,eB){self.localStorage.setItem(eA,eB);return eB;};bV.appId=function(){_6.$cctor();return _6.appId;};bV.storageGetItem=function(eA){return self.localStorage.getItem(eA);};bV.getAuthority=function(eA,eB){return((((es.Curried(function(eC,eD,eE,eF){return eC("https://"+bz.toSafe(eD)+".b2clogin.com/tfp/"+bz.toSafe(eE)+".onmicrosoft.com/"+bz.toSafe(eF));},4))(a.id))(eA))(eA))(eB);};bV.tenantName=function(){_6.$cctor();return _6.tenantName;};bV.signInPolicy=function(){_6.$cctor();return _6.signInPolicy;};bV.applicationId=function(){_6.$cctor();return _6.applicationId;};bV.authority=function(){_6.$cctor();return _6.authority;};bV.redirectCallback=function(eA,eB){try{!J.Equals(eA,null)?(function(eC){return function(eD){return eC("error: "+Z.p(eD));};}(function(eC){ev.log(eC);}))(eA):void 0;!J.Equals(eB,null)?(function(eC){return function(eD){return eC("resp : "+Z.p$1(eD));};}(function(eC){ev.log(eC);}))(eB):null;}catch(eC){(((es.Curried3(function(eD,eE,eF){return eD(bz.prettyPrint(eE)+" "+bz.toSafe(eF));}))(function(eD){ev.log(eD);}))(eC))(eC.stack);}};bV.getTokenO0=function(){var eA;eA=null;return cU.Delay(function(){return bV.userO().Get()==null?cU.Return(null):cU.TryWith(cU.Delay(function(){return cU.Bind(da.AsAsync(bV.agent().f().acquireTokenSilent(bV.authParms())),function(eB){return cU.Return({$:1,$0:eB.accessToken});});}),function(){return cU.Bind(da.AsAsync(bV.agent().f().acquireTokenPopup(bV.authParms())),function(eB){return cU.Return({$:1,$0:eB.accessToken});});});});};bV.checkUser=function(){var eA;cU.Start((eA=null,cU.Delay(function(){return cU.Bind(cU.Sleep(100),function(){return cU.While(function(){return true;},cU.Delay(function(){var eB,eC;eB=(eC=bV.agent().f().getAccount(),J.Equals(eC,null)?null:{$:1,$0:eC});return cU.Combine(bV.getId(eB)!==bV.getId(bV.userO().Get())?(bV.userO().Set(eB),cU.Zero()):cU.Zero(),cU.Delay(function(){return cU.Combine(J.Equals(bV.userO().Get(),null)?(bV.executePolicy(false,ci.SignIn),cU.Zero()):cU.Zero(),cU.Delay(function(){return cU.Bind(cU.Sleep(9000),function(){return cU.Return(null);});}));}));}));});})),null);};bV.getTokenO=function(){_6.$cctor();return _6.getTokenO;};bV.referidoPor=function(){return bV.storageGetItem("referidoPor");};bV.claims=function(eA){var eB;eB=[["oid",eA.idToken.oid],["city",eA.idToken.city],["country",eA.idToken.country],["extension_DateOfBirth",eA.idToken.extension_DateOfBirth],["given_name",eA.idToken.given_name],["postalCode",eA.idToken.postalCode],["state",eA.idToken.state],["streetAddress",eA.idToken.streetAddress],["family_name",eA.idToken.family_name],["emails",T.get(eA.idToken.emails,0)],["referidoPor",bV.referidoPor()]];bV.storageSetItem("referidoPor","");return eB;};bV.executePolicy=function(eA,eB){bV.storeValue("forceLogin",eA?"1":"0");bV.storeValue("goInsideLink",self.location.href);bV.storeValue("policyType",a.String(eB));self.location.replace("blob/Msal.html");};bV.authParms=function(){return dB.New$1(null,null,null,null,null,null,null,null,{$:1,$0:[(((es.Curried3(function(eA,eB,eC){return eA("https://"+bz.toSafe(eB)+".onmicrosoft.com/"+bz.toSafe(eC)+"/user_impersonation");}))(a.id))(bV.tenantName()))(bV.appId())]},null,null);};bV.agent=function(){_6.$cctor();return _6.agent;};bV.getId=function(eA){var eB;eB=eA==null?null:{$:1,$0:eA.$0.idToken.oid};return eB==null?"":eB.$0;};bV.storageSetItem=function(eA,eB){self.localStorage.setItem(eA,eB);};bX.New=function(eA,eB){return{lytName:eA,lytDefinition:eB};};bY.$cctor=function(){var eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4,e5;bY.$cctor=a.ignore;function e6(fB){return bj.concat("\n",fB);}function e7(fB){return bK.splitByChar("\n",fB);}function e8(fB){var fC,fD;return ce.array(fB,{$:1,$0:0},{$:1,$0:(fC=0,(fD=T.length(fB)-2,J.Compare(fC,fD)===1?fC:fD))});}function e9(fB){return bj.concat("\n",fB);}function e_(fB){return fB+"T00:00:00";}function e$(fB){var fC;function fD(fF){return k.plugIns().TryFindByKey(fF);}function fE(fF){var fG;fG=k.defaultPlugIn();return fF==null?fG:fF.$0;}fC=function(fF){return fF==null?null:fD(fF.$0);};return function(fF){return fE(fC(fF));};}function fa(fB){var fC;fC=null;return eE.TryGetValue(fB,{get:function(){return fC;},set:function(fD){fC=fD;}})?{$:1,$0:fC}:null;}function fb(fB,fC){eE.set_Item(fB,fC);return fC;}function fc(fB,fC){var fD;fD=fa(fB);return fD==null?fb(fB,fC(fB)):fD.$0;}function fd(fB){var fC;fC=null;return eH.TryGetValue(fB,{get:function(){return fC;},set:function(fD){fC=fD;}})?{$:1,$0:fC}:null;}function fe(fB,fC){eH.set_Item(fB,fC);return fC;}function ff(fB,fC){var fD;fD=fd(fB);return fD==null?fe(fB,fC(fB)):fD.$0;}function fg(fB){var fC;fC=null;return eK.TryGetValue(fB,{get:function(){return fC;},set:function(fD){fC=fD;}})?{$:1,$0:fC}:null;}function fh(fB,fC){eK.set_Item(fB,fC);return fC;}function fi(fB,fC){var fD;fD=fg(fB);return fD==null?fh(fB,fC(fB)):fD.$0;}function fj(fB){var fC;fC=null;return eN.TryGetValue(fB,{get:function(){return fC;},set:function(fD){fC=fD;}})?{$:1,$0:fC}:null;}function fk(fB,fC){eN.set_Item(fB,fC);return fC;}function fl(fB,fC){var fD;fD=fj(fB);return fD==null?fk(fB,fC(fB)):fD.$0;}function fm(fB){var fC;fC=null;return eQ.TryGetValue(fB,{get:function(){return fC;},set:function(fD){fC=fD;}})?{$:1,$0:fC}:null;}function fn(fB,fC){eQ.set_Item(fB,fC);return fC;}function fo(fB,fC){var fD;fD=fm(fB);return fD==null?fn(fB,fC(fB)):fD.$0;}function fp(fB){var fC;fC=null;return eT.TryGetValue(fB,{get:function(){return fC;},set:function(fD){fC=fD;}})?{$:1,$0:fC}:null;}function fq(fB,fC){eT.set_Item(fB,fC);return fC;}function fr(fB,fC){var fD;fD=fp(fB);return fD==null?fq(fB,fC(fB)):fD.$0;}function fs(fB){var fC;fC=null;return eW.TryGetValue(fB,{get:function(){return fC;},set:function(fD){fC=fD;}})?{$:1,$0:fC}:null;}function ft(fB,fC){eW.set_Item(fB,fC);return fC;}function fu(fB,fC){var fD;fD=fs(fB);return fD==null?ft(fB,fC(fB)):fD.$0;}function fv(fB){var fC;fC=null;return eZ.TryGetValue(fB,{get:function(){return fC;},set:function(fD){fC=fD;}})?{$:1,$0:fC}:null;}function fw(fB,fC){eZ.set_Item(fB,fC);return fC;}function fx(fB,fC){var fD;fD=fv(fB);return fD==null?fw(fB,fC(fB)):fD.$0;}function fy(fB){var fC;fC=null;return e2.TryGetValue(fB,{get:function(){return fC;},set:function(fD){fC=fD;}})?{$:1,$0:fC}:null;}function fz(fB,fC){e2.set_Item(fB,fC);return fC;}function fA(fB,fC){var fD;fD=fy(fB);return fD==null?fz(fB,fC(fB)):fD.$0;}bY.unindentStr=function(fB){return e6(bK.unindent(fB));};bY.skipLastLine=(eA=function(fB){return e8(e7(fB));},function(fB){return e9(eA(fB));});bY.parseDateO2=(eB=cf.tryParseWith(function(fB){var fC,fD;fC=0;return[(fD=c7.TryParse(fB),fD!=null&&fD.$==1&&(fC=fD.$0,true)),fC];}),function(fB){return eB(e_(fB));});bY.parseDateO=cf.tryParseWith(function(fB){var fC,fD;fC=0;return[(fD=c7.TryParse(fB),fD!=null&&fD.$==1&&(fC=fD.$0,true)),fC];});bY.parseIntO=cf.tryParseWith(function(fB){var fC;fC=0;return[b3.TryParseInt32(fB,{get:function(){return fC;},set:function(fD){fC=fD;}}),fC];});bY.parseInt64O=cf.tryParseWith(function(fB){var fC;fC=0;return[b3.TryParseInt64(fB,{get:function(){return fC;},set:function(fD){fC=fD;}}),fC];});bY.parseSingleO=cf.tryParseWith(function(fB){var fC,fD;fC=0;return[(fD=a.Number(fB),a.isNaN(fD)?false:(fC=fD,true)),fC];});bY.parseDoubleO=cf.tryParseWith(function(fB){var fC,fD;fC=0;return[(fD=a.Number(fB),a.isNaN(fD)?false:(fC=fD,true)),fC];});bY.parseGuidO=cf.tryParseWith(function(fB){var fC;fC=null;return[bt.TryParse(fB,{get:function(){return fC;},set:function(fD){fC=fD;}}),fC];});bY["|Date|_|"]=cf.parseDateO();bY["|Int|_|"]=cf.parseIntO();bY["|Int64|_|"]=cf.parseInt64O();bY["|Single|_|"]=cf.parseSingleO();bY["|Double|_|"]=cf.parseDoubleO();bY["|Guid|_|"]=cf.parseGuidO();bY.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";bY.rexEmail="(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@[*[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+]*";bY.observers=cL.Empty;bY.css="\r\n                .tab-panel {\r\n                 overflow  : hidden   ;\r\n                 display   : flex     ;\r\n                 flex-flow : column   ;\r\n                 background: lightgray;\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                }\r\n                .tab-content {\r\n                 flex      : 1 1     ;\r\n                 overflow  : auto    ;\r\n                 position  : relative;\r\n                }\r\n                .tab-children {\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                 position  : absolute;\r\n                 display   : grid    ;\r\n                }\r\n                .tab-strip {\r\n                 padding   : 0pt     ;\r\n                 flex      : 0 0     ;\r\n                }\r\n                .tab {\r\n                 border     : 0.2pt solid transparent;\r\n                 padding    : 0pt 4pt;\r\n                 display    : inline-block;\r\n                 font-family: sans-serif;\r\n                 font-weight: 200;\r\n                 font-size  : small;\r\n                 color      : #666;\r\n                 cursor     : pointer;\r\n                }\r\n                .top>.tab {\r\n                 border-radius: 2pt 2pt 0pt 0pt;\r\n                 border-bottom-width: 0pt;\r\n                 vertical-align: bottom;\r\n                }\r\n                .bottom>.tab {\r\n                 border-top-width: 0pt;\r\n                 border-radius: 0pt 0pt 2pt 2pt;\r\n                 vertical-align: top;\r\n                }\r\n                .horizontal>.tab:not(:first-child) {\r\n                 border-left-width: 0pt;\r\n                }\r\n                .tab.hovering {\r\n                 background: red;\r\n                }\r\n                .tab.selected {\r\n                 background: white;\r\n                 border-left-width: 0.2pt;\r\n                 color: black;\r\n                 font-weight: 500;\r\n                 border-color: black;\r\n                }\r\n                .horizontal>.tab.selected {\r\n                 border-left-width: 0.2pt;\r\n                }\r\n                ::slotted(*              ) { \r\n                 width : 100%;\r\n                 height: 100%;\r\n                }\r\n                        ";bY.init=r.Create(function(){var fB;fB=new c1.New();cZ.defineWebComponent("wcomp-tabstrip",c1.Constructor,self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New);});bY.layoutHorizontal=es.Curried(function(fB,fC,fD,fE,fF){return _0.get_Empty();},5);bY.layoutVertical=es.Curried(function(fB,fC,fD,fE,fF){return _0.get_Empty();},5);bY.plugIns=new _7.New$1(function(fB){return fB.plgName;});bY.mainDocV=i.Create$1("AppFramework.AppFwkClient");bY.TemplateFileName="..\\website\\AppFramework.html";bY.defaultPlugIn=l.New("",[],[],[],[],[]);bY.selectionPlugInO=i.Create$1({$:1,$0:"AppFramework"});bY.currentPlugInW=(eC=k.selectionPlugInO().get_View(),p.Map2(function(fB,fC){return(e$(fB))(fC);},k.plugIns().v,eC));bY.currentPlugInV=new cR.New(k.currentPlugInW(),function(fB){k.plugIns().Append(fB);});bY.AppFwkClient=r.Create(function(){var fB,fC,fD,fE,fF,fG,fH,fI,fJ;return(fB=(fC=k.renderQueries(),(fD=k.renderActions(),(fE=k.renderDocs(),(fF=k.renderViews(),(fG=k.renderVars(),(fH=k.renderPlugIns(),U.Make().WithHole({$:0,$0:"plugins",$1:fH})).WithHole({$:2,$0:"pluginname",$1:p.Map(function(fK){return fK.plgName;},k.currentPlugInW())}).WithHole({$:0,$0:"vars",$1:fG})).WithHole({$:0,$0:"views",$1:fF})).WithHole({$:0,$0:"docs",$1:fE})).WithHole({$:0,$0:"actions",$1:fD})).WithHole({$:0,$0:"queries",$1:fC})),(fI=V.CompleteHoles(fB.k,fB.h,[]),(fJ=new S.New(fI[1],cX.appfwkclient(fI[0])),(fB.i=fJ,fJ)))).get_Doc();});bY.actHello=k.newAct("Hello",function(){self.alert("Hello!");});bY.qryDocs=k.newQry("getDocNames",function(){return T.ofSeq(bc.collect(function(fB){return bc.map(function(fC){return fB.plgName+"."+fC.docName;},fB.plgDocs);},(k.plugIns())["var"].Get()));});k.plugIns().Append(l.New("AppFramework",[k.newVar("mainDocV",k.mainDocV())],[],[k.newDoc("AppFwkClient",k.AppFwkClient())],[k.actHello()],[k.qryDocs()]));bY.getMainDoc=r.Create(function(){c2.init(es.Curried(k.horizontal,5),es.Curried(k.vertical,5));c0.init().f();return k.mainDoc();});bY.splitName=k.splitName;bY.createSplitterM=(eD=(eE=new b5.New$5(),[[fa,function(fB){return function(fC){return fc(fB,fC);};}],function(){eE.Clear();}]),(eF=eD[0][1],[function(fB){return(eF(fB))(function(fC){return K.createSplitter(fC[0],fC[1],fC[2],fC[3],fC[4]);});},eD[1]]))[0];bY.createButtonM=(eG=(eH=new b5.New$5(),[[fd,function(fB){return function(fC){return ff(fB,fC);};}],function(){eH.Clear();}]),(eI=eG[0][1],[function(fB){return(eI(fB))(function(fC){return K.createButton(fC[0],fC[1],fC[2],fC[3],fC[4]);});},eG[1]]))[0];bY.createInputM=(eJ=(eK=new b5.New$5(),[[fg,function(fB){return function(fC){return fi(fB,fC);};}],function(){eK.Clear();}]),(eL=eJ[0][1],[function(fB){return(eL(fB))(function(fC){return K.createInput(fC[0],fC[1],fC[2],fC[3]);});},eJ[1]]))[0];bY.createTextAreaM=(eM=(eN=new b5.New$5(),[[fj,function(fB){return function(fC){return fl(fB,fC);};}],function(){eN.Clear();}]),(eO=eM[0][1],[function(fB){return(eO(fB))(function(fC){return K.createTextArea(fC[0],fC[1],fC[2],fC[3]);});},eM[1]]))[0];bY.createElementM=(eP=(eQ=new b5.New$5(),[[fm,function(fB){return function(fC){return fo(fB,fC);};}],function(){eQ.Clear();}]),(eR=eP[0][1],[function(fB){return(eR(fB))(function(fC){return K.createElement(fC[0],fC[1],fC[2],fC[3],fC[4]);});},eP[1]]))[0];bY.createDocM=(eS=(eT=new b5.New$5(),[[fp,function(fB){return function(fC){return fr(fB,fC);};}],function(){eT.Clear();}]),(eU=eS[0][1],[function(fB){return(eU(fB))(function(fC){return K.createDoc(fC[0],fC[1],fC[2],fC[3]);});},eS[1]]))[0];bY.createTemplateM=(eV=(eW=new b5.New$5(),[[fs,function(fB){return function(fC){return fu(fB,fC);};}],function(){eW.Clear();}]),(eX=eV[0][1],[function(fB){return(eX(fB))(function(fC){return K.createTemplate(fC[0],fC[1],fC[2],fC[3],fC[4]);});},eV[1]]))[0];bY.createConcatM=(eY=(eZ=new b5.New$5(),[[fv,function(fB){return function(fC){return fx(fB,fC);};}],function(){eZ.Clear();}]),(e0=eY[0][1],[function(fB){return(e0(fB))(function(fC){return K.createConcat(fC[0],fC[1],fC[2]);});},eY[1]]))[0];bY.createVarM=(e1=(e2=new b5.New$5(),[[fy,function(fB){return function(fC){return fA(fB,fC);};}],function(){e2.Clear();}]),(e3=e1[0][1],[function(fB){return(e3(fB))(function(fC){return K.createVar(fC[0],fC[1],fC[2]);});},e1[1]]))[0];e4=k.tryGetPlugIn("AppFramework");e4==null?void 0:(e5=e4.$0,k.addPlugIn(l.New(e5.plgName,e5.plgVars,e5.plgViews,e5.plgDocs,e5.plgActions.concat([k.newActF("AddLayout",{$:2,$0:function(fB){return function(fC){return K.addNewLayout(fB,fC);};},$1:"[Name]",$2:"[Layout]"})]),e5.plgQueries)));};bZ=M.IdForAuthorize=es.Class({},null,bZ);b0.New=function(eA,eB,eC,eD,eE,eF,eG,eH){return{titulo:eA,nombre1:eB,nombre2:eC,apellido1:eD,apellido2:eE,nacionalidad:eF,genero:eG,fechaNacimiento:eH};};b1.Dia01={$:0};b2=M.TipoAliado=es.Class({toString:function(){return(function(eA){return function(eB){return eA(X.p$2(eB));};}(a.id))(this);}},null,b2);b2.Regular=new b2({$:1});b3.TryParseInt32=function(eA,eB){return b3.TryParse(eA,-2147483648,2147483647,eB);};b4=bg.List=es.Class({GetEnumerator:function(){return cI.Get(this);},GetEnumerator0:function(){return cI.Get0(this);}},null,b4);b5=bg.Dictionary=es.Class({set_Item:function(eA,eB){this.set(eA,eB);},set:function(eA,eB){var eC,eD,eE,eF;eC=this;eD=this.hash(eA);eE=this.data[eD];eE==null?(this.count=this.count+1,this.data[eD]=new a.Array({K:eA,V:eB})):(eF=T.tryFindIndex(function(eG){return eC.equals.apply(null,[(o.KeyValue(eG))[0],eA]);},eE),eF==null?(this.count=this.count+1,eE.push({K:eA,V:eB})):eE[eF.$0]={K:eA,V:eB});},get_Item:function(eA){return this.get(eA);},Clear:function(){this.data=[];this.count=0;},TryGetValue:function(eA,eB){var eC,eD,eE;eC=this;eD=this.data[this.hash(eA)];return eD==null?false:(eE=T.tryPick(function(eF){var eG;eG=o.KeyValue(eF);return eC.equals.apply(null,[eG[0],eA])?{$:1,$0:eG[1]}:null;},eD),eE!=null&&eE.$==1&&(eB.set(eE.$0),true));},Remove:function(eA){return this.remove(eA);},ContainsKey:function(eA){var eB,eC;eB=this;eC=this.data[this.hash(eA)];return eC==null?false:T.exists(function(eD){return eB.equals.apply(null,[(o.KeyValue(eD))[0],eA]);},eC);},Add:function(eA,eB){this.add(eA,eB);},get:function(eA){var eB,eC;eB=this;eC=this.data[this.hash(eA)];return eC==null?c3.notPresent():T.pick(function(eD){var eE;eE=o.KeyValue(eD);return eB.equals.apply(null,[eE[0],eA])?{$:1,$0:eE[1]}:null;},eC);},get_Keys:function(){return new d_.New(this);},remove:function(eA){var eB,eC,eD,eE;eB=this;eC=this.hash(eA);eD=this.data[eC];return eD==null?false:(eE=T.filter(function(eF){return!eB.equals.apply(null,[(o.KeyValue(eF))[0],eA]);},eD),T.length(eE)<eD.length&&(this.count=this.count-1,this.data[eC]=eE,true));},add:function(eA,eB){var eC,eD,eE;eC=this;eD=this.hash(eA);eE=this.data[eD];eE==null?(this.count=this.count+1,this.data[eD]=new a.Array({K:eA,V:eB})):(T.exists(function(eF){return eC.equals.apply(null,[(o.KeyValue(eF))[0],eA]);},eE)?c3.alreadyAdded():void 0,this.count=this.count+1,eE.push({K:eA,V:eB}));},GetEnumerator:function(){return cI.Get0(this);},GetEnumerator0:function(){return cI.Get0(T.concat(I.GetFieldValues(this.data)));}},g,b5);b5.New$5=es.Ctor(function(){b5.New$6.call(this,[],J.Equals,J.Hash);},b5);b5.New$6=es.Ctor(function(eA,eB,eC){var eD,eE;g.New.call(this);this.equals=eB;this.hash=eC;this.count=0;this.data=[];eD=cI.Get(eA);try{while(eD.MoveNext()){eE=eD.Current();this.set(eE.K,eE.V);}}finally{if(typeof eD=="object"&&"Dispose"in eD)eD.Dispose();}},b5);b6=bg.HashSet=es.Class({Add:function(eA){return this.add(eA);},Contains:function(eA){var eB;eB=this.data[this.hash(eA)];return eB==null?false:this.arrContains(eA,eB);},add:function(eA){var eB,eC;eB=this.hash(eA);eC=this.data[eB];return eC==null?(this.data[eB]=[eA],this.count=this.count+1,true):this.arrContains(eA,eC)?false:(eC.push(eA),this.count=this.count+1,true);},arrContains:function(eA,eB){var eC,eD,eE,eF;eC=true;eD=0;eF=eB.length;while(eC&&eD<eF)if(this.equals.apply(null,[eB[eD],eA]))eC=false;else eD=eD+1;return!eC;},ExceptWith:function(eA){var eB;eB=cI.Get(eA);try{while(eB.MoveNext())this.Remove(eB.Current());}finally{if(typeof eB=="object"&&"Dispose"in eB)eB.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(eA){var eB,eC,eD,eE;eB=0;eC=d0.concat(this.data);for(eD=0,eE=eC.length-1;eD<=eE;eD++)T.set(eA,eD,eC[eD]);},IntersectWith:function(eA){var eB,eC,eD,eE,eF;eB=new b6.New$4(eA,this.equals,this.hash);eC=d0.concat(this.data);for(eD=0,eE=eC.length-1;eD<=eE;eD++){eF=eC[eD];!eB.Contains(eF)?this.Remove(eF):void 0;}},Remove:function(eA){var eB;eB=this.data[this.hash(eA)];return eB==null?false:this.arrRemove(eA,eB)&&(this.count=this.count-1,true);},arrRemove:function(eA,eB){var eC,eD,eE,eF;eC=true;eD=0;eF=eB.length;while(eC&&eD<eF)if(this.equals.apply(null,[eB[eD],eA])){eB.splice.apply(eB,[eD,1]);eC=false;}else eD=eD+1;return!eC;},GetEnumerator:function(){return cI.Get(d0.concat(this.data));},GetEnumerator0:function(){return cI.Get(d0.concat(this.data));}},g,b6);b6.New$3=es.Ctor(function(){b6.New$4.call(this,[],J.Equals,J.Hash);},b6);b6.New$4=es.Ctor(function(eA,eB,eC){var eD;g.New.call(this);this.equals=eB;this.hash=eC;this.data=[];this.count=0;eD=cI.Get(eA);try{while(eD.MoveNext())this.add(eD.Current());}finally{if(typeof eD=="object"&&"Dispose"in eD)eD.Dispose();}},b6);b6.New$2=es.Ctor(function(eA){b6.New$4.call(this,eA,J.Equals,J.Hash);},b6);b7.Box=a.id;b9.StartTo=function(eA,eB){cU.StartWithContinuations(eA,eB,function(eC){b9.OnError(eC);},a.ignore,null);};b9.OnError=function(eA){return ev.log("WebSharper UI: Uncaught asynchronous exception",eA);};b3.TryParseInt64=function(eA,eB){return b3.TryParse(eA,-9223372036854775808,9223372036854775807,eB);};b_.Int=function(){b_.set_counter(b_.counter()+1);return b_.counter();};b_.Id=function(){b_.set_counter(b_.counter()+1);return"uid"+a.String(b_.counter());};b_.set_counter=function(eA){dx.$cctor();dx.counter=eA;};b_.counter=function(){dx.$cctor();return dx.counter;};b$=bG.Builder=es.Class({},g,b$);b$.New=es.Ctor(function(){g.New.call(this);},b$);ca=bG.BuilderP=es.Class({},g,ca);ca.New=es.Ctor(function(){g.New.call(this);},ca);cc=cb.EffBuilder=es.Class({},g,cc);cc.New=es.Ctor(function(){g.New.call(this);},cc);cd=bp.AsyncResultBuilderP=es.Class({},g,cd);cd.New=es.Ctor(function(){g.New.call(this);},cd);ce.array=function(eA,eB,eC){return eB==null?eC!=null&&eC.$==1?eA.slice(0,eC.$0+1):[]:eC==null?eA.slice(eB.$0):eA.slice(eB.$0,eC.$0+1);};ce.string=function(eA,eB,eC){return eB==null?eC!=null&&eC.$==1?eA.slice(0,eC.$0+1):"":eC==null?eA.slice(eB.$0):eA.slice(eB.$0,eC.$0+1);};cf.tryParseWith$1=function(eA){function eB(eC,eD){return eC?{$:1,$0:eD}:null;}return function(eC){return eB.apply(null,eA(eC));};};cf.parseDateO$1=function(){_6.$cctor();return _6.parseDateO;};cf.parseIntO$1=function(){_6.$cctor();return _6.parseIntO;};cf.parseInt64O$1=function(){_6.$cctor();return _6.parseInt64O;};cf.parseSingleO$1=function(){_6.$cctor();return _6.parseSingleO;};cf.parseDoubleO$1=function(){_6.$cctor();return _6.parseDoubleO;};cf.parseGuidO$1=function(){_6.$cctor();return _6.parseGuidO;};cf.parseDateO2$1=function(){_6.$cctor();return _6.parseDateO2;};cg.toJsonString=function(eA){return T.ofSeq(bc.delay(function(){return bc.append(["\""],bc.delay(function(){return bc.append(!bj.IsNullOrEmpty(eA)?bc.collect(function(eB){var eC,eD;eC=eA[eB];eD=eC.charCodeAt();return eD>=0&&eD<=7||eD===11||eD>=14&&eD<=31?(function(eE){return function(eF){return eE("\\u"+bz.padNumLeft(eF.toString(16),4));};}(a.id))(eD):eC==="\u0008"?"\\b":eC==="\u0009"?"\\t":eC==="\n"?"\\n":eC==="\u000c"?"\\f":eC==="\r"?"\\r":eC==="\""?"\\\"":eC==="\\"?"\\\\":[eC];},o.range(0,eA.length-1)):[],bc.delay(function(){return["\""];}));}));})).join("");};ci=ch.Policy=es.Class({toString:function(){return bj.ReplaceChar(bd["String.get_toUnderscore$1"]((function(eA){return function(eB){return eA(X.p(eB));};}(a.id))(this)),"_"," ");}},null,ci);ci.SignIn=new ci({$:0});ci.SignUp=new ci({$:1});ci.EditProfile=new ci({$:2});ci.ResetPassword=new ci({$:3});cj.New=function(eA,eB,eC,eD,eE,eF){return{tipoTelefono:eA,codigoPais:eB,codigoArea:eC,numero:eD,extension:eE,mensajes:eF};};ck=M.TipoTelefono=es.Class({toString:function(){return(function(eA){return function(eB){return eA(X.p$11(eB));};}(a.id))(this);}},null,ck);ck.Movil=new ck({$:0});ck.get_tryParse=function(){return function(eA){return eA==="Movil"?{$:1,$0:ck.Movil}:eA==="Oficina"?{$:1,$0:ck.Oficina}:eA==="Habitacion"?{$:1,$0:ck.Habitacion}:null;};};ck.Oficina=new ck({$:1});ck.Habitacion=new ck({$:2});cl.New=function(eA,eB,eC,eD,eE,eF,eG,eH){return{authorizeIdR:eA,tipoDireccion:eB,linea1:eC,linea2:eD,ciudad:eE,estado:eF,pais:eG,zonaPostal:eH};};cm=M.TipoDireccion=es.Class({toString:function(){return this.$==3?this.$0:(function(eA){return function(eB){return eA(X.p$10(eB));};}(a.id))(this);}},null,cm);cm.Habitacion=new cm({$:0});cm.tryParse=function(eA){var eB;eB=bj.Trim(eA);return eB===""?null:eB==="Habitacion"?{$:1,$0:cm.Habitacion}:eB==="Oficina"?{$:1,$0:cm.Oficina}:eB==="ServicioPostal"?{$:1,$0:cm.ServicioPostal}:{$:1,$0:new cm({$:3,$0:eB})};};cm.Oficina=new cm({$:1});cm.ServicioPostal=new cm({$:2});cn=M.Estado=es.Class({toString:function(){return this.$==2?this.$0:(function(eA){return function(eB){return eA(X.p$4(eB));};}(a.id))(this);}},null,cn);cn.tryParse=function(eA){var eB,eC;eC=bj.Trim(eA).toUpperCase();switch(eC){case"":return null;case"TEXAS":case"TX":return{$:1,$0:cn.Texas};case"FLORIDA":case"FL":return{$:1,$0:cn.Florida};default:return{$:1,$0:new cn({$:2,$0:bj.Trim(eA)})};}};cn.Texas=new cn({$:0});cn.Florida=new cn({$:1});co=M.Pais=es.Class({toString:function(){return this.$==3?this.$0:(function(eA){return function(eB){return eA(X.p$3(eB));};}(a.id))(this);}},null,co);co.USA=new co({$:0});co.tryParse=function(eA){var eB,eC;eC=bj.Trim(eA).toUpperCase();switch(eC){case"":return null;case"USA":case"AMERICA":case"E.E.U.U.":case"US":case"UNITED STATES OF AMERICA":case"UNITED STATES":case"EEUU":return{$:1,$0:co.USA};case"VENEZUELA":return{$:1,$0:co.Venezuela};case"ARGENTINA":return{$:1,$0:co.Argentina};default:return{$:1,$0:new co({$:3,$0:bj.Trim(eA)})};}};co.Venezuela=new co({$:1});co.Argentina=new co({$:2});cp=M.ZonaPostal=es.Class({toString:function(){return this.$0;}},null,cp);cp.tryParse=function(eA){return bj.Trim(eA)!==""?{$:1,$0:new cp({$:0,$0:bj.Trim(eA)})}:null;};cq.New=function(eA,eB,eC,eD){return{titular:eA,tipoTarjeta:eB,numero:eC,expiracion:eD};};cr=M.Expiracion=es.Class({},null,cr);cr.New=function(eA,eB){return new cr({anio:eA,mes:eB});};cs=M.NumeroTarjeta=es.Class({get_Id:function(){return this.$0;}},null,cs);ct=M.TipoTarjeta=es.Class({toString:function(){return this.$==3?this.$0:(function(eA){return function(eB){return eA(X.p$7(eB));};}(a.id))(this);}},null,ct);ct.Visa=new ct({$:0});ct.tryParse=function(eA){var eB,eC;eC=bj.Trim(eA).toUpperCase();switch(eC){case"":return null;case"VISA":return{$:1,$0:ct.Visa};case"MASTERCARD":return{$:1,$0:ct.MasterCard};case"AMERICAN EXPRESS":case"AMEX":return{$:1,$0:ct.Amex};default:return{$:1,$0:new ct({$:3,$0:bj.Trim(eA)})};}};ct.MasterCard=new ct({$:1});ct.Amex=new ct({$:2});cu=M.TipoCuenta=es.Class({toString:function(){return this.$==2?this.$0:(function(eA){return function(eB){return eA(X.p$8(eB));};}(a.id))(this);}},null,cu);cu.Ahorro=new cu({$:0});cu.tryParse=function(eA){var eB,eC;eC=bj.Trim(eA).toUpperCase();switch(eC){case"":return null;case"AHORRO":case"SAVINGS":return{$:1,$0:cu.Ahorro};case"CORRIENTE":case"CHECKING":return{$:1,$0:cu.Corriente};default:return{$:1,$0:new cu({$:2,$0:bj.Trim(eA)})};}};cu.Corriente=new cu({$:1});cv.Masculino={$:0};cv.tryParse=function(eA){var eB;eB=bj.Trim(eA);return eB==="Masculino"?{$:1,$0:cv.Masculino}:eB==="Femenino"?{$:1,$0:cv.Femenino}:eB==="Empresa"?{$:1,$0:cv.Empresa}:null;};cv.Femenino={$:1};cv.Empresa={$:2};bS.AjaxProvider=function(){c8.$cctor();return c8.AjaxProvider;};bS.set_EndPoint=function(eA){c8.$cctor();c8.EndPoint=eA;};bS.set_AjaxProvider=function(eA){c8.$cctor();c8.AjaxProvider=eA;};bS.makePayload=function(eA){return ex.stringify(eA);};bS.makeHeaders=function(eA){return{"content-type":"application/json","x-websharper-rpc":eA};};bS.EndPoint=function(){c8.$cctor();return c8.EndPoint;};bS.ajax=function(eA,eB,eC,eD,eE,eF,eG){var eH,eI,eJ;eH=new a.XMLHttpRequest();eI=a.document.cookie.replace(new a.RegExp("(?:(?:^|.*;)\\s*csrftoken\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1");eH.open("POST",eB,eA);if(eA==true)eH.withCredentials=true;for(var eL in eC)eH.setRequestHeader(eL,eC[eL]);if(eI)eH.setRequestHeader("x-csrftoken",eI);function eK(){var eM;if(eH.status==200)eE(eH.responseText);else if(eG&&eH.status==403&&eH.responseText=="CSRF")eG();else{eM="Response status is not 200: ";eF(new c_(eM+eH.status));}}if("onload"in eH)eH.onload=eH.onerror=eH.onabort=eK;else eH.onreadystatechange=function(){if(eH.readyState==4)eK();};eH.send(eD);};cw.New$1=function(eA,eB,eC,eD){return c9.newPojoOpt([ch.op_EqualsEqualsGreater("auth",eA),ch.op_EqualsEqualsGreater("cache",eB),ch.op_EqualsEqualsGreater("system",eC),ch.op_EqualsEqualsGreater("framework",eD)]);};cx.New$1=function(eA,eB,eC,eD,eE,eF){return c9.newPojoOpt([ch.op_MinusMinusGreater("clientId",eA),ch.op_EqualsEqualsGreater("authority",eB),ch.op_EqualsEqualsGreater("validateAuthority",eC),ch.op_EqualsEqualsGreater("redirectUri",eD),ch.op_EqualsEqualsGreater("postLogoutRedirectUri",eE),ch.op_EqualsEqualsGreater("navigateToLoginRequestUrl",eF)]);};cz=cy.MailboxProcessor=es.Class({PostAndAsyncReply:function(eA,eB){var eC,eD;eC=this;eD=null;return cU.Delay(function(){return cU.Bind(eC.PostAndTryAsyncReply(eA,eB),function(eE){var eF,eG;if(eE!=null&&eE.$==1)eG=eE.$0;else throw new c$.New();return cU.Return(eG);});});},PostAndTryAsyncReply:function(eA,eB){var eC,eD,eE;function eF(eG){var eI;function eH(eJ){return{$:1,$0:eJ};}if(eD<0){eC.mailbox.AddLast(eA(function(eJ){return eG(eH(eJ));}));eC.resume();}else{eI=[true];eC.mailbox.AddLast(eA(function(eJ){if(eI[0]){eI[0]=false;eG({$:1,$0:eJ});}}));eC.resume();a.setTimeout(function(){if(eI[0]){eI[0]=false;eG(null);}},eD);}}eC=this;eD=(eE=this.get_DefaultTimeout(),eB==null?eE:eB.$0);return cU.FromContinuations(function(eG,eH,eI){return eF.apply(null,[eG,eH,eI]);});},get_DefaultTimeout:function(){return this.DefaultTimeout;},Receive:function(eA){var eB,eC;eB=this;eC=null;return cU.Delay(function(){return cU.Bind(eB.TryReceive(eA),function(eD){var eE,eF;if(eD!=null&&eD.$==1)eF=eD.$0;else throw new c$.New();return cU.Return(eF);});});},resume:function(){var eA;eA=this.savedCont;eA!=null&&eA.$==1?(this.savedCont=null,this.startAsync(eA.$0)):void 0;},Start:function(){var eA,eB;eA=this;this.started?o.FailWith("The MailboxProcessor has already been started."):(this.started=true,eA.startAsync((eB=null,cU.Delay(function(){return cU.TryWith(cU.Delay(function(){return cU.Bind(eA.initial(eA),function(){return cU.Return(null);});}),function(eC){eA.errorEvent.event.Trigger(eC);return cU.Zero();});}))));},TryReceive:function(eA){var eB,eC,eD;function eE(eF){var eG,eH,eI,eJ;if(J.Equals(eB.mailbox.n,null)){if(eC<0){eB.savedCont={$:1,$0:(eG=null,cU.Delay(function(){eF({$:1,$0:eB.dequeue()});return cU.Zero();}))};}else{eH=[true];eI=a.setTimeout(function(){if(eH[0]){eH[0]=false;eB.savedCont=null;eF(null);}},eC);eB.savedCont={$:1,$0:(eJ=null,cU.Delay(function(){return eH[0]?(eH[0]=false,a.clearTimeout(eI),eF({$:1,$0:eB.dequeue()}),cU.Zero()):cU.Zero();}))};}}else eF({$:1,$0:eB.dequeue()});}eB=this;eC=(eD=this.get_DefaultTimeout(),eA==null?eD:eA.$0);return cU.FromContinuations(function(eF,eG,eH){return eE.apply(null,[eF,eG,eH]);});},startAsync:function(eA){cU.Start(eA,this.token);},dequeue:function(){var eA;eA=this.mailbox.n.v;this.mailbox.RemoveFirst();return eA;}},g,cz);cz.Start=function(eA,eB){var eC;eC=new cz.New(eA,eB);eC.Start();return eC;};cz.New=es.Ctor(function(eA,eB){var eC,eD;function eE(eF){return eC.resume();}eC=this;g.New.call(this);this.initial=eA;this.token=eB;this.started=false;this.errorEvent=new dz.New();this.mailbox=new dA.New();this.savedCont=null;eD=this.token;eD==null?void 0:cU.Register(eD.$0,function(){eE();});this.DefaultTimeout=-1;},cz);cA.callA=function(eA,eB){return cA.iterA(eA,function(eC){var eD,eE,eF;eD=eC[0];eE=eC[1];eF=null;return cU.Delay(function(){return cU.Bind(eB(eE),function(eG){eD(eG);return cU.Zero();});});});};cA.iterA=function(eA,eB){return cz.Start(function(eC){var eD;eD=null;return cU.Delay(function(){return cU.While(function(){return true;},cU.Delay(function(){return cU.TryWith(cU.Delay(function(){return cU.Bind(eC.Receive(null),function(eE){return cU.Bind(eB(eE),function(){return cU.Return(null);});});}),function(eE){eA(eE);return cU.Zero();});}));});},null);};j.REGEX$2=function(eA,eB,eC){var eD;return eC===null?null:(eD=(new a.String(eC)).match(new a.RegExp(eA,eB)),J.Equals(eD,null)?null:!J.Equals(eD,null)&&eD.length===0?null:{$:1,$0:eD});};j.rexEmail$1=function(){_6.$cctor();return _6.rexEmail;};cB.DefaultEP={$:0};cC.InstallHash=function(eA,eB){var eC;eC=i.Create$1(cC.getCurrentHash(function(eD){return dd.Parse(eB,de.FromHash(eD,{$:1,$0:true}));},eA));cC.InstallHashInto(eC,eA,eB);return eC;};cC.InstallHashInto=function(eA,eB,eC){function eD(eG){return dd.Parse(eC,de.FromHash(eG,{$:1,$0:true}));}function eE(){return cC.getCurrentHash(eD,eB);}function eF(eG){if(!J.Equals(eA.Get(),eG))eA.Set(eG);}self.addEventListener("popstate",function(){return eF(eE());},false);self.addEventListener("hashchange",function(){return eF(eE());},false);self.document.body.addEventListener("click",function(eG){var eH,eI,eJ;eH=(eI=cC.findLinkHref(eG.target),eI==null?null:(eJ=eI.$0,bj.StartsWith(eJ,"#")?eD(eJ):null));return eH==null?null:(eF(eH.$0),eG.preventDefault());},false);p.Sink(function(eG){var eH;if(!J.Equals(eG,eE())){eH=dd.HashLink(eC,eG);self.history.pushState(null,null,eH);}},eA.get_View());};cC.getCurrentHash=function(eA,eB){var eC,eD;eC=self.location.hash;eD=eA(eC);return eD==null?((function(eE){return function(eF){return eE("Failed to parse route: "+bz.toSafe(eF));};}(function(eE){ev.log(eE);}))(eC),eB):eD.$0;};cC.findLinkHref=function(eA){while(true)if(eA.tagName==="A")return L.ofObj(eA.getAttribute("href"));else if(eA===self.document.body)return null;else eA=eA.parentNode;};cD.B={$:0};cE.installBearer=function(eA){cE.set_getTokenOA(eA);bS.set_AjaxProvider(new df.New());};cE.set_getTokenOA=function(eA){_6.$cctor();_6.getTokenOA=eA;};cE.getTokenOA=function(){_6.$cctor();return _6.getTokenOA;};cE.originalProvider=function(){_6.$cctor();return _6.originalProvider;};cF=M.IdPayment=es.Class({get_Id:function(){return this.$0;}},null,cF);cG.New=function(eA,eB){return{qryName:eA,qryFunction:eB};};_5.Obsolete=function(eA){var eB,eC,eD,eE,eF;eC=eA.s;if(eC==null||(eC!=null&&eC.$==2?(eB=eC.$1,false):eC!=null&&eC.$==3?(eB=eC.$1,false):true))void 0;else{eA.s=null;for(eD=0,eE=T.length(eB)-1;eD<=eE;eD++){eF=T.get(eB,eD);typeof eF=="object"?function(eG){_5.Obsolete(eG);}(eF):eF();}}};_5.New=function(eA){return{s:eA};};cH=bg.FSharpMap=es.Class({TryGetValue:function(eA,eB){var eC;eC=this.TryFind(eA);return eC!=null&&eC.$==1&&(eB.set(eC.$0),true);},get_Item:function(eA){var eB;eB=this.TryFind(eA);return eB==null?o.FailWith("The given key was not present in the dictionary."):eB.$0;},TryFind:function(eA){var eB;eB=cK.TryFind(dF.New(eA,void 0),this.tree);return eB==null?null:{$:1,$0:eB.$0.Value};},Equals:function(eA){return this.get_Count()===eA.get_Count()&&bc.forall2(J.Equals,this,eA);},GetEnumerator$1:function(){return cI.Get(bc.map(function(eA){return{K:eA.Key,V:eA.Value};},cK.Enumerate(false,this.tree)));},get_Count:function(){var eA;eA=this.tree;return eA==null?0:eA.Count;},GetHashCode:function(){return J.Hash(T.ofSeq(this));},Add:function(eA,eB){return new cH.New$1(cK.Add(dF.New(eA,eB),this.tree));},get_IsEmpty:function(){return this.tree==null;},get_Tree:function(){return this.tree;},GetEnumerator:function(){return this.GetEnumerator$1();},CompareTo0:function(eA){return bc.compareWith(J.Compare,this,eA);},GetEnumerator0:function(){return this.GetEnumerator$1();}},g,cH);cH.New=es.Ctor(function(eA){cH.New$1.call(this,dh.fromSeq(eA));},cH);cH.New$1=es.Ctor(function(eA){g.New.call(this);this.tree=eA;},cH);cI.Get=function(eA){return eA instanceof a.Array?cI.ArrayEnumerator(eA):J.Equals(typeof eA,"string")?cI.StringEnumerator(eA):eA.GetEnumerator();};cI.ArrayEnumerator=function(eA){return new cJ.New(0,null,function(eB){var eC;eC=eB.s;return eC<T.length(eA)&&(eB.c=T.get(eA,eC),eB.s=eC+1,true);},void 0);};cI.StringEnumerator=function(eA){return new cJ.New(0,null,function(eB){var eC;eC=eB.s;return eC<eA.length&&(eB.c=eA[eC],eB.s=eC+1,true);},void 0);};cI.Get0=function(eA){return eA instanceof a.Array?cI.ArrayEnumerator(eA):J.Equals(typeof eA,"string")?cI.StringEnumerator(eA):"GetEnumerator0"in eA?eA.GetEnumerator0():eA.GetEnumerator();};cJ=cI.T=es.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},g,cJ);cJ.New=es.Ctor(function(eA,eB,eC,eD){g.New.call(this);this.s=eA;this.c=eB;this.n=eC;this.d=eD;},cJ);cK.OfSeq=function(eA){var eB;eB=T.ofSeq(bc.distinct(eA));T.sortInPlace(eB);return cK.Build(eB,0,eB.length-1);};cK.Contains=function(eA,eB){return!((cK.Lookup(eA,eB))[0]==null);};cK.Remove=function(eA,eB){var eC,eD,eE,eF;eC=cK.Lookup(eA,eB);eD=eC[0];eE=eC[1];return eD==null?eB:eD.Right==null?cK.Rebuild(eE,eD.Left):eD.Left==null?cK.Rebuild(eE,eD.Right):cK.Rebuild(eE,(eF=T.ofSeq(bc.append(cK.Enumerate(false,eD.Left),cK.Enumerate(false,eD.Right))),cK.Build(eF,0,eF.length-1)));};cK.Add=function(eA,eB){return cK.Put(function(eC,eD){return eD;},eA,eB);};cK.TryFind=function(eA,eB){var eC;eC=(cK.Lookup(eA,eB))[0];return eC==null?null:{$:1,$0:eC.Node};};cK.Build=function(eA,eB,eC){var eD,eE,eF;return eC-eB+1<=0?null:(eD=(eB+eC)/2>>0,(eE=cK.Build(eA,eB,eD-1),(eF=cK.Build(eA,eD+1,eC),cK.Branch(T.get(eA,eD),eE,eF))));};cK.Lookup=function(eA,eB){var eC,eD,eE,eF;eC=[];eD=eB;eE=true;while(eE)if(eD==null)eE=false;else{eF=J.Compare(eA,eD.Node);eF===0?eE=false:eF===1?(eC.unshift([true,eD.Node,eD.Left]),eD=eD.Right):(eC.unshift([false,eD.Node,eD.Right]),eD=eD.Left);}return[eD,eC];};cK.Rebuild=function(eA,eB){var eC,eE,eF,eG,eH,eI,eJ,eK,eL,eM;function eD(eN){return eN==null?0:eN.Height;}eC=eB;for(eE=0,eF=T.length(eA)-1;eE<=eF;eE++){eC=(eG=T.get(eA,eE),eG[0]?(eH=eG[1],(eI=eG[2],eD(eC)>eD(eI)+1?eD(eC.Left)===eD(eC.Right)+1?(eJ=eC.Left,cK.Branch(eJ.Node,cK.Branch(eH,eI,eJ.Left),cK.Branch(eC.Node,eJ.Right,eC.Right))):cK.Branch(eC.Node,cK.Branch(eH,eI,eC.Left),eC.Right):cK.Branch(eH,eI,eC))):(eK=eG[1],(eL=eG[2],eD(eC)>eD(eL)+1?eD(eC.Right)===eD(eC.Left)+1?(eM=eC.Right,cK.Branch(eM.Node,cK.Branch(eC.Node,eC.Left,eM.Left),cK.Branch(eK,eM.Right,eL))):cK.Branch(eC.Node,eC.Left,cK.Branch(eK,eC.Right,eL)):cK.Branch(eK,eC,eL))));}return eC;};cK.Put=function(eA,eB,eC){var eD,eE;eD=cK.Lookup(eB,eC);eE=eD[0];return eE==null?cK.Rebuild(eD[1],cK.Branch(eB,null,null)):cK.Rebuild(eD[1],cK.Branch(eA(eE.Node,eB),eE.Left,eE.Right));};cK.Branch=function(eA,eB,eC){var eD,eE;return di.New(eA,eB,eC,1+(eD=eB==null?0:eB.Height,(eE=eC==null?0:eC.Height,J.Compare(eD,eE)===1?eD:eE)),1+(eB==null?0:eB.Count)+(eC==null?0:eC.Count));};cK.Enumerate=function(eA,eB){function eC(eD,eE){var eF;while(true)if(eD==null)return eE.$==1?{$:1,$0:[eE.$0[0],[eE.$0[1],eE.$1]]}:null;else if(eA){eF=eD;eD=eF.Right;eE=new cL({$:1,$0:[eF.Node,eF.Left],$1:eE});}else{eF=eD;eD=eF.Left;eE=new cL({$:1,$0:[eF.Node,eF.Right],$1:eE});}}return bc.unfold(function(eD){return eC(eD[0],eD[1]);},[eB,cL.Empty]);};bc.tryHead=function(eA){var eB;eB=cI.Get(eA);try{return eB.MoveNext()?{$:1,$0:eB.Current()}:null;}finally{if(typeof eB=="object"&&"Dispose"in eB)eB.Dispose();}};T.groupBy=function(eA,eB){var eC,eD,eE,eF,eG,eH;eC=new b5.New$5();eD=[];for(eE=0,eF=T.length(eB)-1;eE<=eF;eE++){eG=eB[eE];eH=eA(eG);eC.ContainsKey(eH)?eC.get_Item(eH).push(eG):(eD.push(eH),eC.Add(eH,[eG]));}T.mapInPlace(function(eI){return[eI,eC.get_Item(eI)];},eD);return eD;};bc.tryItem=function(eA,eB){var eC,eD,eE;if(eA<0)return null;else{eC=0;eD=cI.Get(eB);try{eE=true;while(eE&&eC<=eA)if(eD.MoveNext())eC=eC+1;else eE=false;return eE?{$:1,$0:eD.Current()}:null;}finally{if(typeof eD=="object"&&"Dispose"in eD)eD.Dispose();}}};bc.last=function(eA){var eB,eC;eB=cI.Get(eA);try{if(!eB.MoveNext())eC=bc.insufficient();else{while(eB.MoveNext());eC=eB.Current();}return eC;}finally{if(typeof eB=="object"&&"Dispose"in eB)eB.Dispose();}};T.mapInPlace=function(eA,eB){var eC,eD;for(eC=0,eD=eB.length-1;eC<=eD;eC++)eB[eC]=eA(eB[eC]);};T.mapiInPlace=function(eA,eB){var eC,eD;for(eC=0,eD=eB.length-1;eC<=eD;eC++)eB[eC]=eA(eC,eB[eC]);return eB;};bc.insufficient=function(){return o.FailWith("The input sequence has an insufficient number of elements.");};bc.nonNegative=function(){return o.FailWith("The input must be non-negative.");};cL=bB.T=es.Class({GetEnumerator:function(){return new cJ.New(this,null,function(eA){var eB;eB=eA.s;return eB.$==0?false:(eA.c=eB.$0,eA.s=eB.$1,true);},void 0);},GetEnumerator0:function(){return cI.Get(this);}},null,cL);cL.Empty=new cL({$:0});cM.rtn=function(eA){return cU.Return({$:0,$0:eA});};cM.bind=function(eA,eB){var eC;eC=null;return cU.Delay(function(){return cU.Bind(eB,function(eD){return eD.$==1?cU.Return(bd.Error$1(eD.$0)):eA(eD.$0);});});};cM.iterA=function(eA,eB,eC){function eD(eF){bG.iter(eA,eB,eF);}function eE(eF){return cU.Return(eF);}cU.Start(cU.Bind(eC,function(eF){return eE(eD(eF));}),null);};cM.map=function(eA,eB){return cM.bind(function(eC){return cM.rtn(eA(eC));},eB);};cM.rtnR=function(eA){return cU.Return(eA);};cM.whileLoop=function(eA,eB){return eA()?cM.bind(function(){return cM.whileLoop(eA,eB);},eB()):cM.rtn();};cN.replace=function(eA,eB,eC){return T.ofSeq(bc.delay(function(){return bc.append(eA>0?ce.array(eC,null,{$:1,$0:eA-1}):[],bc.delay(function(){return bc.append([eB],bc.delay(function(){return eA<T.length(eC)?ce.array(eC,{$:1,$0:eA+1},null):[];}));}));}));};cN.remove=function(eA,eB){return T.ofSeq(bc.delay(function(){return bc.append(eA>0?ce.array(eB,null,{$:1,$0:eA-1}):[],bc.delay(function(){return eA<T.length(eB)?ce.array(eB,{$:1,$0:eA+1},null):[];}));}));};cO.formaDocO=function(eA){var eB;return cO.formaDoc(i.Lens(eA,(eB=[M.ctaVacio(),"",false],function(eC){return eC==null?eB:eC.$0;}),function(eC,eD){return{$:1,$0:eD};}));};cO.formaDoc=function(eA){var eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM;function eN(eO,eP,eQ){eC.Hole("titular").Set(eO.titular);eC.Hole("banco").Set(eO.banco);eC.Hole("tipocuenta").Set((function(eR){return function(eS){return eR(a.String(eS));};}(a.id))(eO.tipo));eC.Hole("numero").Set(eO.numero.$0);eC.Hole("routing").Set(eO.routing.$0);}eB=p.Map(function(eO){return bv.thr3(eO[0],eO[1],eO[2]);},eA.get_View());eC=(eD=(eE=cW.DynamicPred("disabled",eB,p.Const("")),(eF=cW.DynamicPred("disabled",eB,p.Const("")),(eG=cW.DynamicPred("disabled",eB,p.Const("")),(eH=cW.DynamicPred("disabled",eB,p.Const("")),(eI=cW.DynamicPred("disabled",eB,p.Const("")),(eJ=_0.EmbedView(p.Map(bv.crearOptions,bv.tiposCta().get_View())),U.Make().WithHole({$:0,$0:"tiposcuenta",$1:eJ})).WithHole({$:2,$0:"mensaje",$1:p.Map(function(eO){return bv.snd3(eO[0],eO[1],eO[2]);},eA.get_View())}).WithHole({$:3,$0:"disabled1",$1:eI})).WithHole({$:3,$0:"disabled2",$1:eH})).WithHole({$:3,$0:"disabled3",$1:eG})).WithHole({$:3,$0:"disabled4",$1:eF})).WithHole({$:3,$0:"disabled5",$1:eE})),(eK=V.CompleteHoles(eD.k,eD.h,[["tipocuenta",0],["titular",0],["numero",0],["banco",0],["routing",0]]),(eL=new S.New(eK[1],W.cuentabancaria(eK[0])),(eD.i=eL,eL))));p.Sink(function(eO){return eN(eO[0],eO[1],eO[2]);},eA.get_View());eM=p.Apply(p.Apply(p.Map2(function(eO,eP){return function(eQ){return function(eR){return bc.map(function(eS){return eS[1];},bc.filter(function(eS){return eS[0];},bB.ofArray([[bj.Trim(eO)==="","Titular"],[bj.Trim(eP)==="","Banco"],[bj.Trim(eQ)==="","Numero de Cuenta"],[bj.Trim(eR)==="","ABA/Routing Number"]])));};};},eC.Hole("titular").get_View(),eC.Hole("banco").get_View()),eC.Hole("numero").get_View()),eC.Hole("routing").get_View());p.Sink(function(eO){var eP,eQ;if(eO!=null&&eO.$==1){eP=eO.$0;!J.Equals((eQ=eA.Get(),bv.fst3(eQ[0],eQ[1],eQ[2])),eP)?eA.Set([eP,"",false]):void 0;}},p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(eO,eP){return es.Curried(function(eQ,eR,eS,eT){return!bc.isEmpty(eO)?null:bv.alertIfNone("TipoCuenta",cu.tryParse(bj.Trim(eP)),function(eU){var eV;return{$:1,$0:(eV=bj.Trim(eQ),bC.New(bj.Trim(eR),eV,eU,new bE({$:0,$0:bj.Trim(eS)}),new bD({$:0,$0:bj.Trim(eT)})))};});},4);},eM,eC.Hole("tipocuenta").get_View()),eC.Hole("banco").get_View()),eC.Hole("titular").get_View()),eC.Hole("numero").get_View()),eC.Hole("routing").get_View()));return[eM,eC.get_Doc()];};cP.formaDocO=function(eA){var eB;return cP.formaDoc(i.Lens(eA,(eB=[M.tarVacio(),"",false],function(eC){return eC==null?eB:eC.$0;}),function(eC,eD){return{$:1,$0:eD};}));};cP.formaDoc=function(eA){var eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO;function eP(eQ,eR,eS){var eT;eC.Hole("titular").Set(eQ.titular);eC.Hole("tipotarjeta").Set((function(eU){return function(eV){return eU(a.String(eV));};}(a.id))(eQ.tipoTarjeta));eC.Hole("numero").Set(eQ.numero.$0);eC.Hole("aniovenc").Set((function(eU){return function(eV){return eU(bz.padNumLeft(a.String(eV),4));};}(a.id))(eQ.expiracion.anio));eC.Hole("mesvenc").Set((eT=eQ.expiracion.mes,eT===1?"Enero":eT===2?"Febrero":eT===3?"Marzo":eT===4?"Abril":eT===5?"Mayo":eT===6?"Junio":eT===7?"Julio":eT===8?"Agosto":eT===9?"Septiembre":eT===10?"Octubre":eT===11?"Noviembre":eT===12?"Diciembre":"XX"));}eB=p.Map(function(eQ){return bv.thr3(eQ[0],eQ[1],eQ[2]);},eA.get_View());eC=(eD=(eE=cW.DynamicPred("disabled",eB,p.Const("")),(eF=cW.DynamicPred("disabled",eB,p.Const("")),(eG=cW.DynamicPred("disabled",eB,p.Const("")),(eH=cW.DynamicPred("disabled",eB,p.Const("")),(eI=cW.DynamicPred("disabled",eB,p.Const("")),(eJ=_0.EmbedView(p.Map(function(eQ){return bv.crearOptions(bc.map(a.String,eQ));},bv.mesesV().get_View())),(eK=_0.EmbedView(p.Map(function(eQ){return bv.crearOptions(bc.map(a.String,eQ));},bv.aniosV().get_View())),(eL=_0.EmbedView(p.Map(bv.crearOptions,bv.tiposTar().get_View())),U.Make().WithHole({$:0,$0:"tipostarjeta",$1:eL})).WithHole({$:2,$0:"mensaje",$1:p.Map(function(eQ){return bv.snd3(eQ[0],eQ[1],eQ[2]);},eA.get_View())}).WithHole({$:0,$0:"anios",$1:eK})).WithHole({$:0,$0:"meses",$1:eJ})).WithHole({$:3,$0:"disabled1",$1:eI})).WithHole({$:3,$0:"disabled2",$1:eH})).WithHole({$:3,$0:"disabled3",$1:eG})).WithHole({$:3,$0:"disabled4",$1:eF})).WithHole({$:3,$0:"disabled5",$1:eE})).WithHole({$:2,$0:"visible",$1:p.Map(function(eQ){return eQ?"display:None":"";},eB)}),(eM=V.CompleteHoles(eD.k,eD.h,[["tipotarjeta",0],["titular",0],["numero",0],["aniovenc",0],["mesvenc",0]]),(eN=new S.New(eM[1],W.tarjetacredito(eM[0])),(eD.i=eN,eN))));p.Sink(function(eQ){return eP(eQ[0],eQ[1],eQ[2]);},eA.get_View());eO=p.Apply(p.Apply(p.Apply(p.Map2(function(eQ,eR){return es.Curried3(function(eS,eT,eU){return bc.map(function(eV){return eV[1];},bc.filter(function(eV){return eV[0];},bB.ofArray([[bj.Trim(eQ)==="","Titular"],[bj.Trim(eR)==="","TipoTarjeta"],[bj.Trim(eS)==="","Numero"],[bj.Trim(eT)==="","Ano de Vencimiento"],[bj.Trim(eU)==="","Mes de Vencimiento"]])));});},eC.Hole("titular").get_View(),eC.Hole("tipotarjeta").get_View()),eC.Hole("numero").get_View()),eC.Hole("aniovenc").get_View()),eC.Hole("mesvenc").get_View());p.Sink(function(eQ){var eR,eS;if(eQ!=null&&eQ.$==1){eR=eQ.$0;!J.Equals((eS=eA.Get(),bv.fst3(eS[0],eS[1],eS[2])),eR)?eA.Set([eR,"",false]):void 0;}},p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(eQ,eR){return es.Curried(function(eS,eT,eU,eV){return!bc.isEmpty(eQ)?null:bv.alertIfNone("Tipo Tarjeta",ct.tryParse(bj.Trim(eR)),function(eW){var eX,eY,eZ;return{$:1,$0:cq.New(bj.Trim(eS),eW,new cs({$:0,$0:bj.Trim(eT)}),cr.New((eX=(eY=bj.Trim(eU),(cf.parseIntO$1())(eY)),eX==null?0:eX.$0),(eZ=bj.Trim(eV),eZ==="Febrero"?2:eZ==="Marzo"?3:eZ==="Abril"?4:eZ==="Mayo"?5:eZ==="Junio"?6:eZ==="Julio"?7:eZ==="Agosto"?8:eZ==="Septiembre"?9:eZ==="Octubre"?10:eZ==="Noviembre"?11:eZ==="Diciembre"?12:1)))};});},4);},eO,eC.Hole("tipotarjeta").get_View()),eC.Hole("titular").get_View()),eC.Hole("numero").get_View()),eC.Hole("aniovenc").get_View()),eC.Hole("mesvenc").get_View()));return[eO,eC.get_Doc()];};cR=h.FromView=es.Class({get_View:function(){return this.view;},Set:function(eA){this.set(eA);},Get:function(){return this.current;},Update:function(eA){var eB;p.Get((eB=this.set,function(eC){return eB(eA(eC));}),this.view);},UpdateMaybe:function(eA){var eB;eB=this;p.Get(function(eC){var eD;eD=eA(eC);eD!=null&&eD.$==1?eB.set(eD.$0):void 0;},this.view);}},q,cR);cR.New=es.Ctor(function(eA,eB){var eC,eD;eC=this;q.New.call(this);this.set=eB;this.id=b_.Int();this.current=(eD=p.TryGet(eA),eD==null?null:eD.$0);this.view=p.Map(function(eE){eC.current=eE;return eE;},eA);},cR);cS=h.AttrProxy=es.Class({},null,cS);cS.Create=function(eA,eB){return dl.Static(function(eC){dm.SetAttr(eC,eA,eB);});};cS.HandlerImpl=function(eA,eB){return dl.Static(function(eC){eC.addEventListener(eA,function(eD){return(eB(eC))(eD);},false);});};cS.Concat=function(eA){var eB;eB=cT.ofSeqNonCopying(eA);return cT.TreeReduce(dl.EmptyAttr(),cS.Append,eB);};cS.Append=function(eA,eB){return dl.AppendTree(eA,eB);};cS.Handler=function(eA,eB){return cS.HandlerImpl(eA,eB);};cT.ofSeqNonCopying=function(eA){var eB,eC;if(eA instanceof a.Array)return eA;else if(eA instanceof cL)return T.ofList(eA);else if(eA===null)return[];else{eB=[];eC=cI.Get(eA);try{while(eC.MoveNext())eB.push(eC.Current());return eB;}finally{if(typeof eC=="object"&&"Dispose"in eC)eC.Dispose();}}};cT.TreeReduce=function(eA,eB,eC){var eD;function eE(eF,eG){var eH,eI;return eG<=0?eA:eG===1&&(eF>=0&&eF<eD)?T.get(eC,eF):(eI=eG/2>>0,eB(eE(eF,eI),eE(eF+eI,eG-eI)));}eD=T.length(eC);return eE(0,eD);};cT.MapTreeReduce=function(eA,eB,eC,eD){var eE;function eF(eG,eH){var eI,eJ;return eH<=0?eB:eH===1&&(eG>=0&&eG<eE)?eA(T.get(eD,eG)):(eJ=eH/2>>0,eC(eF(eG,eJ),eF(eG+eJ,eH-eJ)));}eE=T.length(eD);return eF(0,eE);};cT.mapInPlace=function(eA,eB){var eC,eD;for(eC=0,eD=eB.length-1;eC<=eD;eC++)eB[eC]=eA(eB[eC]);return eB;};cU.Delay=function(eA){return function(eB){try{(eA(null))(eB);}catch(eC){eB.k({$:1,$0:eC});}};};cU.Bind=function(eA,eB){return cU.checkCancel(function(eC){eA(dn.New(function(eD){var eE;if(eD.$==0){eE=eD.$0;cU.scheduler().Fork(function(){try{(eB(eE))(eC);}catch(eF){eC.k({$:1,$0:eF});}});}else cU.scheduler().Fork(function(){eC.k(eD);});},eC.ct));});};cU.Zero=function(){_do.$cctor();return _do.Zero;};cU.Start=function(eA,eB){var eC,eD;eC=(eD=(cU.defCTS())[0],eB==null?eD:eB.$0);cU.scheduler().Fork(function(){if(!eC.c)eA(dn.New(function(eE){if(eE.$==1)cU.UncaughtAsyncError(eE.$0);},eC));});};cU.Return=function(eA){return function(eB){eB.k({$:0,$0:eA});};};cU.While=function(eA,eB){return eA()?cU.Bind(eB,function(){return cU.While(eA,eB);}):cU.Return();};cU.Sleep=function(eA){return function(eB){var eC,eD;eC=void 0;eD=void 0;eC=a.setTimeout(function(){eD.Dispose();cU.scheduler().Fork(function(){eB.k({$:0,$0:null});});},eA);eD=cU.Register(eB.ct,function(){a.clearTimeout(eC);cU.scheduler().Fork(function(){cU.cancel(eB);});});};};cU.checkCancel=function(eA){return function(eB){if(eB.ct.c)cU.cancel(eB);else eA(eB);};};cU.FromContinuations=function(eA){return function(eB){var eC;function eD(eE){if(eC[0])o.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{eC[0]=true;cU.scheduler().Fork(eE);}}eC=[false];eA(function(eE){eD(function(){eB.k({$:0,$0:eE});});},function(eE){eD(function(){eB.k({$:1,$0:eE});});},function(eE){eD(function(){eB.k({$:2,$0:eE});});});};};cU.defCTS=function(){_do.$cctor();return _do.defCTS;};cU.UncaughtAsyncError=function(eA){ev.log("WebSharper: Uncaught asynchronous exception",eA);};cU.TryWith=function(eA,eB){return function(eC){eA(dn.New(function(eD){if(eD.$==0)eC.k({$:0,$0:eD.$0});else if(eD.$==1)try{(eB(eD.$0))(eC);}catch(eE){eC.k(eD);}else eC.k(eD);},eC.ct));};};cU.Combine=function(eA,eB){return cU.Bind(eA,function(){return eB;});};cU.Register=function(eA,eB){var eC;return eA===cU.noneCT()?{Dispose:function(){return null;}}:(eC=eA.r.push(eB)-1,{Dispose:function(){return T.set(eA.r,eC,a.ignore);}});};cU.cancel=function(eA){eA.k({$:2,$0:new dY.New(eA.ct)});};cU.Using=function(eA,eB){return cU.TryFinally(eB(eA),function(){eA.Dispose();});};cU.scheduler=function(){_do.$cctor();return _do.scheduler;};cU.noneCT=function(){_do.$cctor();return _do.noneCT;};cU.TryFinally=function(eA,eB){return function(eC){eA(dn.New(function(eD){try{eB();eC.k(eD);}catch(eE){eC.k({$:1,$0:eE});}},eC.ct));};};cU.StartWithContinuations=function(eA,eB,eC,eD,eE){var eF,eG;eF=(eG=(cU.defCTS())[0],eE==null?eG:eE.$0);!eF.c?eA(dn.New(function(eH){if(eH.$==1)eC(eH.$0);else if(eH.$==2)eD(eH.$0);else eB(eH.$0);},eF)):void 0;};cU.GetCT=function(){_do.$cctor();return _do.GetCT;};cV.InMemory=function(eA){return new dq.New(eA);};cW.DynamicPred=function(eA,eB,eC){function eD(eE,eF){return eF[0]?dm.SetAttr(eE,eA,eF[1]):dm.RemoveAttr(eE,eA);}return dl.Dynamic(p.Map2(function(eE,eF){return[eE,eF];},eB,eC),function(eE){return function(eF){return eD(eE,eF);};});};cW.Style=function(eA,eB){return dl.Static(function(eC){dm.SetStyle(eC,eA,eB);});};cW.Dynamic=function(eA,eB){return dl.Dynamic(eB,function(eC){return function(eD){return dm.SetAttr(eC,eA,eD);};});};cW.Handler=function(eA,eB){return dl.Static(function(eC){eC.addEventListener(eA,function(eD){return(eB(eC))(eD);},false);});};cW.DynamicStyle=function(eA,eB){return dl.Dynamic(eB,function(eC){return function(eD){return dm.SetStyle(eC,eA,eD);};});};cW.Value=function(eA){function eB(eC){return{$:1,$0:eC};}return cW.CustomValue(eA,a.id,function(eC){return eB(a.id(eC));});};cW.CustomValue=function(eA,eB,eC){return cW.CustomVar(eA,function(eD,eE){eD.value=eB(eE);},function(eD){return eC(eD.value);});};cW.OnAfterRender=function(eA){return new cS({$:4,$0:eA});};cW.Checked=function(eA){function eB(eC,eD){return!J.Equals(eA.Get(),eC.checked)?eA.Set(eC.checked):null;}return cS.Concat([cW.DynamicProp("checked",eA.get_View()),cW.Handler("change",function(eC){return function(eD){return eB(eC,eD);};})]);};cW.IntValue=function(eA){return cW.CustomVar(eA,function(eB,eC){var eD;eD=eC.get_Input();return eB.value!==eD?void(eB.value=eD):null;},function(eB){var eC,eD,eE;eC=eB.value;return{$:1,$0:ei.isBlank(eC)?(eB.checkValidity?eB.checkValidity():true)?new c4({$:2,$0:eC}):new c4({$:1,$0:eC}):(eD=(eE=0,[b3.TryParseInt32(eC,{get:function(){return eE;},set:function(eF){eE=eF;}}),eE]),eD[0]?new c4({$:0,$0:eD[1],$1:eC}):new c4({$:1,$0:eC}))};});};cW.IntValueUnchecked=function(eA){return cW.CustomValue(eA,a.String,function(eB){var eC;return ei.isBlank(eB)?{$:1,$0:0}:(eC=+eB,eC!==eC>>0?null:{$:1,$0:eC});});};cW.FloatValue=function(eA){return cW.CustomVar(eA,function(eB,eC){var eD;eD=eC.get_Input();return eB.value!==eD?void(eB.value=eD):null;},function(eB){var eC,eD;eC=eB.value;return{$:1,$0:ei.isBlank(eC)?(eB.checkValidity?eB.checkValidity():true)?new c4({$:2,$0:eC}):new c4({$:1,$0:eC}):(eD=+eC,a.isNaN(eD)?new c4({$:1,$0:eC}):new c4({$:0,$0:eD,$1:eC}))};});};cW.FloatValueUnchecked=function(eA){return cW.CustomValue(eA,a.String,function(eB){var eC;return ei.isBlank(eB)?{$:1,$0:0}:(eC=+eB,a.isNaN(eC)?null:{$:1,$0:eC});});};cW.CustomVar=function(eA,eB,eC){function eD(eF,eG){return eA.UpdateMaybe(function(eH){var eI,eJ;eI=eC(eF);return eI!=null&&eI.$==1&&(!J.Equals(eI.$0,eH)&&(eJ=[eI,eI.$0],true))?eJ[0]:null;});}function eE(eF,eG){var eH,eI;eH=eC(eF);return eH!=null&&eH.$==1&&(J.Equals(eH.$0,eG)&&(eI=eH.$0,true))?null:eB(eF,eG);}return cS.Concat([cW.Handler("change",function(eF){return function(eG){return eD(eF,eG);};}),cW.Handler("input",function(eF){return function(eG){return eD(eF,eG);};}),cW.Handler("keypress",function(eF){return function(eG){return eD(eF,eG);};}),cW.DynamicCustom(function(eF){return function(eG){return eE(eF,eG);};},eA.get_View())]);};cW.DynamicProp=function(eA,eB){return dl.Dynamic(eB,function(eC){return function(eD){eC[eA]=eD;};});};cW.DynamicCustom=function(eA,eB){return dl.Dynamic(eB,eA);};bK.splitByChar=function(eA,eB){return bj.SplitChars(eB,[eA],0);};bK.unindent=function(eA){var eB,eC,eD,eE;eB=bj.SplitChars(eA,["\n"],0);eC=(eD=bc.tryFindIndex(function(eF){return" "!==eF;},(eE=bc.tryFind(function(eF){return bj.Trim(eF)!=="";},eB),eE==null?"":eE.$0)),eD==null?0:eD.$0);return bc.filter(function(eF){return!bj.StartsWith(eF,"# 1 ");},bc.map(function(eF){return eF.length<=eC?"":eF.substring(eC);},eB));};bK.delimitedO=function(eA,eB,eC){var eD,eE,eF,eG,eH;eD=bK.splitInTwoO(eA,eC);return eD==null?null:(eE=eD.$0,(eF=eE[0],(eG=bK.splitInTwoO(eB,eE[1]),eG==null?null:{$:1,$0:(eH=eG.$0,[eF,eH[0],eH[1]])})));};bK.unindentStr=function(){bY.$cctor();return bY.unindentStr;};bK.StartsWith=function(eA,eB){return bj.StartsWith(eB,eA)?{$:1,$0:ce.string(eB,{$:1,$0:eA.length},null)}:null;};bK.splitInTwoO=function(eA,eB){var eC;eC=eB.indexOf(eA);return eC===-1?null:{$:1,$0:[bd["String.Left"](eB,eC),eB.substring(eC+eA.length)]};};Z.p$1=function(eA){return"{"+("actName = "+bz.prettyPrint(eA.actName))+"; "+("actFunction = "+cY.p$1(eA.actFunction))+"; "+("actEnabled = "+cY.p$2(eA.actEnabled))+"}";};cX.appfwkclient=function(eA){cX.fixedsplitterhor();cX.fixedsplitterver();c6.LoadLocalTemplates("appframework");return eA?c6.NamedTemplate("appframework",{$:1,$0:"appfwkclient"},eA):void 0;};Z.p=function(eA){return"{"+("docName = "+bz.prettyPrint(eA.docName))+"; "+("docDoc = "+cY.p(eA.docDoc))+"}";};cY.p$1=function(eA){return eA.$==2?"FunAct2 (<fun>, "+bz.prettyPrint(eA.$1)+", "+bz.prettyPrint(eA.$2)+")":eA.$==1?"FunAct1 (<fun>, "+bz.prettyPrint(eA.$1)+")":"FunAct0 <fun>";};cY.p$2=function(eA){return"View <fun>";};cX.tile=function(eA){c6.LoadLocalTemplates("appframework");return eA?c6.NamedTemplate("appframework",{$:1,$0:"tile"},eA):void 0;};cX.namevalueinput=function(eA){c6.LoadLocalTemplates("appframework");return eA?c6.NamedTemplate("appframework",{$:1,$0:"namevalueinput"},eA):void 0;};cX.namevalue=function(eA){c6.LoadLocalTemplates("appframework");return eA?c6.NamedTemplate("appframework",{$:1,$0:"namevalue"},eA):void 0;};cX.action=function(eA){c6.LoadLocalTemplates("appframework");return eA?c6.NamedTemplate("appframework",{$:1,$0:"action"},eA):void 0;};cX.actiondisabled=function(eA){c6.LoadLocalTemplates("appframework");return eA?c6.NamedTemplate("appframework",{$:1,$0:"actiondisabled"},eA):void 0;};cX.fixedsplitterhor=function(eA){c6.LoadLocalTemplates("appframework");return eA?c6.NamedTemplate("appframework",{$:1,$0:"fixedsplitterhor"},eA):void 0;};cX.fixedsplitterver=function(eA){c6.LoadLocalTemplates("appframework");return eA?c6.NamedTemplate("appframework",{$:1,$0:"fixedsplitterver"},eA):void 0;};cX.wcompsplitterhor=function(eA){c6.LoadLocalTemplates("appframework");return eA?c6.NamedTemplate("appframework",{$:1,$0:"wcompsplitterhor"},eA):void 0;};cX.wcompsplitterver=function(eA){c6.LoadLocalTemplates("appframework");return eA?c6.NamedTemplate("appframework",{$:1,$0:"wcompsplitterver"},eA):void 0;};cX.appframework=function(eA){c6.LoadLocalTemplates("appframework");return eA?c6.NamedTemplate("appframework",{$:1,$0:"appframework"},eA):void 0;};cY.p=function(eA){return eA.$==5?"FunDoc5 (<fun>, "+bz.prettyPrint(eA.$1)+", "+bz.prettyPrint(eA.$2)+", "+bz.prettyPrint(eA.$3)+", "+bz.prettyPrint(eA.$4)+", "+bz.prettyPrint(eA.$5)+")":eA.$==4?"FunDoc4 (<fun>, "+bz.prettyPrint(eA.$1)+", "+bz.prettyPrint(eA.$2)+", "+bz.prettyPrint(eA.$3)+", "+bz.prettyPrint(eA.$4)+")":eA.$==3?"FunDoc3 (<fun>, "+bz.prettyPrint(eA.$1)+", "+bz.prettyPrint(eA.$2)+", "+bz.prettyPrint(eA.$3)+")":eA.$==2?"FunDoc2 (<fun>, "+bz.prettyPrint(eA.$1)+", "+bz.prettyPrint(eA.$2)+")":eA.$==1?"FunDoc1 (<fun>, "+bz.prettyPrint(eA.$1)+")":"LazyDoc "+bz.prettyPrint(eA.$0);};cf.tryParseWith=function(eA){function eB(eC,eD){return eC?{$:1,$0:eD}:null;}return function(eC){return eB.apply(null,eA(eC));};};cf.parseDateO=function(){bY.$cctor();return bY.parseDateO;};cf.parseIntO=function(){bY.$cctor();return bY.parseIntO;};cf.parseInt64O=function(){bY.$cctor();return bY.parseInt64O;};cf.parseSingleO=function(){bY.$cctor();return bY.parseSingleO;};cf.parseDoubleO=function(){bY.$cctor();return bY.parseDoubleO;};cf.parseGuidO=function(){bY.$cctor();return bY.parseGuidO;};cf.Double=function(){bY.$cctor();return bY["|Double|_|"];};cf.Int=function(){bY.$cctor();return bY["|Int|_|"];};c1=c0.WcTabStripT=es.Class({connectedCallback:function(){var eA,eB,eC,eD;function eE(){var eF,eG,eH;eG=!eB.hasAttribute("bottom");eH=bB.ofSeq(bc.delay(function(){return bc.collect(function(eI){var eJ;eJ=eB.childNodes[eI-1];return J.Equals(eJ.nodeType,G.ELEMENT_NODE)?[[eJ.hasAttribute("tabname")?eJ.getAttribute("tabname"):(function(eK){return function(eL){return eK("Tab "+a.String(eL));};}(a.id))(eI),eJ]]:[];},o.range(1,eB.childNodes.length));}));while(eD.childNodes.length>0)eD.removeChild(eD.lastChild);eF=c0.tabStrip(eA.selected,eG,true,eH,_0.Element("slot",cL.Empty,cL.Empty));c6.LoadLocalTemplates("");_0.Run(eD,eF);}eA=this;!this.added?(eB=this,eC=eB.attachShadow({mode:"open"}),eD=self.document.createElement("div"),eC.appendChild(eD),eE(),eB.addEventListener("DOMSubtreeModified",bd.delayed(50,eE)),this.added=true):void 0;}},g,c1);c1.Constructor=function(){var eA,eB;eA=(eB=ey.construct(self.HTMLElement,[],this.__proto__.constructor),eB);self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New.call(eA);return eA;};c1.New=es.Ctor(function(){g.New.call(this);this.added=false;this.selected=i.Create$1(1);(function(eA){return eA("WcTabStripT initializer");}(function(eA){ev.log(eA);}));},c1);cZ.defineWebComponent=function(eA,eB,eC){try{ev.log("defineWebComponent: "+eA);cQ.setPrototypeOf(eC.prototype,self.HTMLElement.prototype);cQ.setPrototypeOf(eC,self.HTMLElement);cQ.setPrototypeOf(eB.prototype,eC.prototype);self.customElements.define(eA,eB);}catch(eD){(function(eE){return eE("Failed to define WebComponent. Not supported.");}(function(eE){ev.log(eE);}));}};c2.init=function(eA,eB){var eC;eC=new du.New();c2.set_layoutHorizontal(eA);c2.set_layoutVertical(eB);cZ.defineWebComponent("wcomp-splitter",du.Constructor,self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New);};c2.set_layoutHorizontal=function(eA){bY.$cctor();bY.layoutHorizontal=eA;};c2.set_layoutVertical=function(eA){bY.$cctor();bY.layoutVertical=eA;};c2.layoutVertical=function(){bY.$cctor();return bY.layoutVertical;};c2.layoutHorizontal=function(){bY.$cctor();return bY.layoutHorizontal;};c0.init=function(){bY.$cctor();return bY.init;};c0.tabStrip=function(eA,eB,eC,eD,eE){var eF;eF=_0.Element("div",[cS.Create("class",(((es.Curried3(function(eG,eH,eI){return eG("tab-strip "+bz.toSafe(eH)+" "+bz.toSafe(eI));}))(a.id))(eB?"top":"bottom"))(eC?"horizontal":"vertical"))],bB.ofSeq(bc.delay(function(){return bc.collect(function(eG){var eH;eH=eG[0];return[dM.New$1().Content(_0.Element("div",[cW.Dynamic("class",p.Map(function(eI){return"tab"+(eI===eH+1?" selected":"");},eA.get_View())),cS.Create("draggable","true"),cS.HandlerImpl("click",function(){return function(){return eA.Set(eH+1);};})],[_0.TextNode(eG[1][0])]))];},bc.indexed(eD));})));return _0.Element("div",[cS.Create("class","tab-panel")],bB.ofSeq(bc.delay(function(){return bc.append(eB?[eF]:[],bc.delay(function(){return bc.append([_0.Element("div",[cS.Create("class","tab-content")],[eE])],bc.delay(function(){return bc.append(!eB?[eF]:[],bc.delay(function(){return bc.append([_0.Element("style",cL.Empty,bB.ofArray([_0.TextNode(c0.css())]))],bc.delay(function(){return[_0.Element("style",cL.Empty,bB.ofArray([_0.TextView(p.Map(function(eG){return function(eH){return eG("\r\n                                              ::slotted(*              ) { display: none }\r\n                                              ::slotted(*:nth-child("+a.String(eH)+")) { display: grid }\r\n                                           ");};}(a.id),eA.get_View()))]))];}));}));}));}));})));};c0.css=function(){bY.$cctor();return bY.css;};c3.notPresent=function(){return o.FailWith("The given key was not present in the dictionary.");};c3.alreadyAdded=function(){return o.FailWith("An item with the same key has already been added.");};c4=h.CheckedInput=es.Class({get_Input:function(){return this.$==1?this.$0:this.$==2?this.$0:this.$1;}},null,c4);c6.LoadLocalTemplates=function(eA){!c6.LocalTemplatesLoaded()?(c6.set_LocalTemplatesLoaded(true),c6.LoadNestedTemplates(self.document.body,"")):void 0;c6.LoadedTemplates().set_Item(eA,c6.LoadedTemplateFile(""));};c6.NamedTemplate=function(eA,eB,eC){var eD,eE;eD=(eE=null,[c6.LoadedTemplateFile(eA).TryGetValue(eB==null?"":eB.$0,{get:function(){return eE;},set:function(eF){eE=eF;}}),eE]);return eD[0]?c6.ChildrenTemplate(eD[1].cloneNode(true),eC):(ev.warn("Local template doesn't exist",eB),_0.get_Empty());};c6.RunFullDocTemplate=function(eA){var eB,eC;c6.LoadLocalTemplates("");c6.PrepareTemplateStrict("",null,dm.ChildrenArray(self.document.body),{$:1,$0:self.document.body},null);eB=c6.ChildrenTemplate(self.document.body,eA);eC=self.document.body;(function(eD){_0.RunInPlace(true,eC,eD);}(eB));return eB;};c6.LocalTemplatesLoaded=function(){dQ.$cctor();return dQ.LocalTemplatesLoaded;};c6.set_LocalTemplatesLoaded=function(eA){dQ.$cctor();dQ.LocalTemplatesLoaded=eA;};c6.LoadNestedTemplates=function(eA,eB){var eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ;function eC(eR){var eS,eT;if(!eD.ContainsKey(eR)){eS=(eT=null,[eE.TryGetValue(eR,{get:function(){return eT;},set:function(eU){eT=eU;}}),eT]);eS[0]?(eQ.Add(eR),eE.Remove(eR),c6.PrepareTemplateStrict(eB,{$:1,$0:eR},eS[1][0],{$:1,$0:eS[1][1]},{$:1,$0:eC})):ev.warn(eQ.Contains(eR)?"Encountered loop when instantiating "+eR:"Local template does not exist: "+eR);}}eD=c6.LoadedTemplateFile(eB);eE=new b5.New$5();eF=eA.querySelectorAll("[ws-template]");for(eG=0,eH=eF.length-1;eG<=eH;eG++){eI=eF[eG];eJ=eI.getAttribute("ws-template").toLowerCase();eI.removeAttribute("ws-template");eE.set_Item(eJ,[[eI],c6.FakeRootSingle(eI)]);}eK=eA.querySelectorAll("[ws-children-template]");for(eL=0,eM=eK.length-1;eL<=eM;eL++){eN=eK[eL];eO=eN.getAttribute("ws-children-template").toLowerCase();eN.removeAttribute("ws-children-template");eE.set_Item(eO,(eP=dm.ChildrenArray(eN),[eP,c6.FakeRoot(eP)]));}eQ=new b6.New$3();while(eE.count>0)eC(bc.head(eE.get_Keys()));};c6.LoadedTemplates=function(){dQ.$cctor();return dQ.LoadedTemplates;};c6.LoadedTemplateFile=function(eA){var eB,eC,eD;eB=(eC=null,[c6.LoadedTemplates().TryGetValue(eA,{get:function(){return eC;},set:function(eE){eC=eE;}}),eC]);return eB[0]?eB[1]:(eD=new b5.New$5(),(c6.LoadedTemplates().set_Item(eA,eD),eD));};c6.ChildrenTemplate=function(eA,eB){var eC,eD,eE,eF,eG;eC=c6.InlineTemplate(eA,eB);eD=eC[1];eE=eC[0];eF=eE.Els;return!J.Equals(eF,null)&&eF.length===1&&(T.get(eF,0)instanceof G&&(J.Equals(T.get(eF,0).nodeType,G.ELEMENT_NODE)&&(eG=T.get(eF,0),true)))?dR.TreeNode(eE,eD):_0.Mk({$:6,$0:eE},eD);};c6.PrepareTemplateStrict=function(eA,eB,eC,eD,eE){var eF,eG;function eH(eM,eN){var eO,eP,eQ,eR,eS,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4,e5,e6,e7,e8,e9,e_,e$,fa,fb,fc;function eT(fd){}while(true)switch(eM){case 0:if(eN!==null){eO=eN.nextSibling;if(J.Equals(eN.nodeType,G.TEXT_NODE))dU.convertTextNode(eN);else if(J.Equals(eN.nodeType,G.ELEMENT_NODE))eJ(eN);eN=eO;}else return null;break;case 1:eU=ce.string(eN.nodeName,{$:1,$0:3},null).toLowerCase();eV=(eP=eU.indexOf("."),eP===-1?[eA,eU]:[ce.string(eU,null,{$:1,$0:eP-1}),ce.string(eU,{$:1,$0:eP+1},null)]);eW=eV[1];eX=eV[0];if(eX!==""&&!c6.LoadedTemplates().ContainsKey(eX))return dU.failNotLoaded(eW);else{if(eX===""&&eE!=null)eE.$0(eW);eY=c6.LoadedTemplates().get_Item(eX);if(!eY.ContainsKey(eW))return dU.failNotLoaded(eW);else{eZ=eY.get_Item(eW);e0=eZ.cloneNode(true);e1=new b6.New$3();e2=new b5.New$5();e3=eN.attributes;for(e4=0,e5=e3.length-1;e4<=e5;e4++){e6=e3.item(e4).name.toLowerCase();e2.set_Item(e6,(e7=e3.item(e4).nodeValue,e7===""?e6:e7.toLowerCase()));!e1.Add(e6)?ev.warn("Hole mapped twice",e6):void 0;}for(e8=0,e9=eN.childNodes.length-1;e8<=e9;e8++){e_=eN.childNodes[e8];J.Equals(e_.nodeType,G.ELEMENT_NODE)?!e1.Add(e_.nodeName.toLowerCase())?ev.warn("Hole filled twice",eW):void 0:void 0;}e$=eN.childNodes.length===1&&J.Equals(eN.firstChild.nodeType,G.TEXT_NODE);if(e$){eR=dU.fillTextHole(e0,eN.firstChild.textContent,eW);((function(fd){return function(fe){if(fe!=null)fd(fe.$0);};}((eS=function(fd){return function(fe){return fd.Add(fe);};}(e1),function(fd){return eT(eS(fd));})))(eR));}dU.removeHolesExcept(e0,e1);if(!e$){for(fa=0,fb=eN.childNodes.length-1;fa<=fb;fa++){fc=eN.childNodes[fa];J.Equals(fc.nodeType,G.ELEMENT_NODE)?fc.hasAttributes()?dU.fillInstanceAttrs(e0,fc):eI(e0,fc):void 0;}}dU.mapHoles(e0,e2);dU.fill(e0,eN.parentNode,eN);eN.parentNode.removeChild(eN);return;}}break;}}function eI(eM,eN){var eO,eQ,eR;function eP(eS,eT){var eU,eV,eW;if(eQ==="title"&&eN.hasChildNodes()){eU=eu.parseHTML(eN.textContent);eN.removeChild(eN.firstChild);for(eV=0,eW=eU.length-1;eV<=eW;eV++)eN.appendChild(T.get(eU,eV));}else null;eJ(eN);return dU.fill(eN,eS,eT);}eQ=eN.nodeName.toLowerCase();dm.IterSelector(eM,"[ws-attr-holes]",function(eS){var eT,eU,eV,eW,eX;eT=bj.SplitChars(eS.getAttribute("ws-attr-holes"),[" "],1);for(eU=0,eV=eT.length-1;eU<=eV;eU++){eW=T.get(eT,eU);eS.setAttribute(eW,(eX=new a.RegExp("\\${"+eQ+"}","ig"),eS.getAttribute(eW).replace(eX,eN.textContent)));}});eR=eM.querySelector("[ws-hole="+eQ+"]");if(J.Equals(eR,null)){eO=eM.querySelector("[ws-replace="+eQ+"]");return J.Equals(eO,null)?null:(eP(eO.parentNode,eO),void eO.parentNode.removeChild(eO));}else{while(eR.hasChildNodes())eR.removeChild(eR.lastChild);eR.removeAttribute("ws-hole");return eP(eR,null);}}function eJ(eM){if(bj.StartsWith(eM.nodeName.toLowerCase(),"ws-"))eL(eM);else{dU.convertAttrs(eM);eK(eM.firstChild);}}function eK(eM){return eH(0,eM);}function eL(eM){return eH(1,eM);}eF=eD==null?c6.FakeRoot(eC):eD.$0;eG=(eB==null?"":eB.$0).toLowerCase();c6.LoadedTemplateFile(eA).set_Item(eG,eF);T.length(eC)>0?(function(eM){var eN,eO,eP,eQ;while(true){eN=eM.querySelector("[ws-template]");if(J.Equals(eN,null)){eO=eM.querySelector("[ws-children-template]");if(J.Equals(eO,null))return null;else{eP=eO.getAttribute("ws-children-template");eO.removeAttribute("ws-children-template");c6.PrepareTemplateStrict(eA,{$:1,$0:eP},dm.ChildrenArray(eO),null,null);eM=eM;}}else{eQ=eN.getAttribute("ws-template");(c6.PrepareSingleTemplate(eA,{$:1,$0:eQ},eN))(null);eM=eM;}}}(eF),eK(T.get(eC,0))):void 0;};c6.FakeRootSingle=function(eA){var eB,eC,eD;eA.removeAttribute("ws-template");eB=eA.getAttribute("ws-replace");eB===null?void 0:(eA.removeAttribute("ws-replace"),eC=eA.parentNode,J.Equals(eC,null)?void 0:(eD=self.document.createElement(eA.tagName),eD.setAttribute("ws-replace",eB),eC.replaceChild(eD,eA)));return c6.FakeRoot([eA]);};c6.FakeRoot=function(eA){var eB,eC,eD;eB=self.document.createElement("div");for(eC=0,eD=eA.length-1;eC<=eD;eC++)eB.appendChild(T.get(eA,eC));return eB;};c6.InlineTemplate=function(eA,eB){var eC,eD,eE,eF,eI,eJ,eK,eL,eM,eN,eO;function eG(eP,eQ){var eR,eS,eT;eR=dl.Insert(eP,eQ);eJ.push(dl.Updates(eR));eK.push([eP,eR]);eS=es.GetOptional(eR.OnAfterRender);return eS==null?null:(eT=eS.$0,void eL.push(function(){eT(eP);}));}function eH(eP){var eQ,eR;eQ=(eR=null,[eM.TryGetValue(eP,{get:function(){return eR;},set:function(eS){eR=eS;}}),eR]);return eQ[0]?eQ[1].$==0?{$:1,$0:eQ[1].$1}:eQ[1].$==1?{$:1,$0:_0.TextNode(eQ[1].$1)}:eQ[1].$==2?{$:1,$0:_0.TextView(eQ[1].$1)}:eQ[1].$==8?{$:1,$0:_0.TextView(eQ[1].$1.get_View())}:eQ[1].$==9?{$:1,$0:_0.TextView(p.Map(a.String,eQ[1].$1.get_View()))}:eQ[1].$==10?{$:1,$0:_0.TextView(p.Map(function(eS){return eS.get_Input();},eQ[1].$1.get_View()))}:eQ[1].$==11?{$:1,$0:_0.TextView(p.Map(a.String,eQ[1].$1.get_View()))}:eQ[1].$==12?{$:1,$0:_0.TextView(p.Map(function(eS){return eS.get_Input();},eQ[1].$1.get_View()))}:eQ[1].$==13?{$:1,$0:_0.TextView(p.Map(a.String,eQ[1].$1.get_View()))}:(ev.warn("Content hole filled with attribute data",eP),null):null;}eI=[];eJ=[];eK=[];eL=[];eM=new b5.New$5();eN=cI.Get(eB);try{while(eN.MoveNext()){eO=eN.Current();eM.set_Item(eO.$0,eO);}}finally{if(typeof eN=="object"&&"Dispose"in eN)eN.Dispose();}eC=dm.ChildrenArray(eA);dm.IterSelector(eA,"[ws-hole]",function(eP){var eQ,eR,eS;eS=eP.getAttribute("ws-hole");eP.removeAttribute("ws-hole");while(eP.hasChildNodes())eP.removeChild(eP.lastChild);eQ=eH(eS);eQ!=null&&eQ.$==1?(eR=eQ.$0,dk.LinkElement(eP,eR.docNode),eI.push(dv.New(dl.Empty(eP),eR.docNode,null,eP,b_.Int(),null)),eJ.push(eR.updates)):void 0;});dm.IterSelector(eA,"[ws-replace]",function(eP){var eQ,eR,eS,eT,eU,eV;eQ=eH(eP.getAttribute("ws-replace"));eQ!=null&&eQ.$==1?(eR=eQ.$0,eS=eP.parentNode,eT=self.document.createTextNode(""),eS.replaceChild(eT,eP),eU=dk.InsertBeforeDelim(eT,eR.docNode),eV=T.tryFindIndex(function(eW){return eP===eW;},eC),eV==null?void 0:T.set(eC,eV.$0,eR.docNode),eI.push(dv.New(dl.Empty(eS),eR.docNode,{$:1,$0:[eU,eT]},eS,b_.Int(),null)),eJ.push(eR.updates)):void 0;});dm.IterSelector(eA,"[ws-attr]",function(eP){var eQ,eR,eS;eQ=eP.getAttribute("ws-attr");eP.removeAttribute("ws-attr");eR=(eS=null,[eM.TryGetValue(eQ,{get:function(){return eS;},set:function(eT){eS=eT;}}),eS]);eR[0]?eR[1].$==3?eG(eP,eR[1].$1):ev.warn("Attribute hole filled with non-attribute data",eQ):void 0;});dm.IterSelector(eA,"[ws-on]",function(eP){eG(eP,cS.Concat(T.choose(function(eQ){var eR,eS,eT;eR=bj.SplitChars(eQ,[":"],1);eS=(eT=null,[eM.TryGetValue(T.get(eR,1),{get:function(){return eT;},set:function(eU){eT=eU;}}),eT]);return eS[0]?eS[1].$==4?{$:1,$0:cW.Handler(T.get(eR,0),eS[1].$1)}:eS[1].$==5?{$:1,$0:cS.Handler(T.get(eR,0),eS[1].$2)}:(ev.warn("Event hole on"+T.get(eR,0)+" filled with non-event data",T.get(eR,1)),null):null;},bj.SplitChars(eP.getAttribute("ws-on"),[" "],1))));eP.removeAttribute("ws-on");});dm.IterSelector(eA,"[ws-onafterrender]",function(eP){var eQ,eR,eS;eQ=eP.getAttribute("ws-onafterrender");eR=(eS=null,[eM.TryGetValue(eQ,{get:function(){return eS;},set:function(eT){eS=eT;}}),eS]);eR[0]?eR[1].$==6?(eP.removeAttribute("ws-onafterrender"),eG(eP,cW.OnAfterRender(eR[1].$1))):eR[1].$==7?(eP.removeAttribute("ws-onafterrender"),eG(eP,cW.OnAfterRender(eR[1].$1))):ev.warn("onafterrender hole filled with non-onafterrender data",eQ):void 0;});dm.IterSelector(eA,"[ws-var]",function(eP){var eQ,eR,eS;eQ=eP.getAttribute("ws-var");eP.removeAttribute("ws-var");eR=(eS=null,[eM.TryGetValue(eQ,{get:function(){return eS;},set:function(eT){eS=eT;}}),eS]);eR[0]?eR[1].$==8?eG(eP,cW.Value(eR[1].$1)):eR[1].$==9?eG(eP,cW.Checked(eR[1].$1)):eR[1].$==10?eG(eP,cW.IntValue(eR[1].$1)):eR[1].$==11?eG(eP,cW.IntValueUnchecked(eR[1].$1)):eR[1].$==12?eG(eP,cW.FloatValue(eR[1].$1)):eR[1].$==13?eG(eP,cW.FloatValueUnchecked(eR[1].$1)):ev.warn("Var hole filled with non-Var data",eQ):void 0;});dm.IterSelector(eA,"[ws-attr-holes]",function(eP){var eQ,eR,eS,eT;eQ=new a.RegExp(c6.TextHoleRE(),"g");eR=bj.SplitChars(eP.getAttribute("ws-attr-holes"),[" "],1);eP.removeAttribute("ws-attr-holes");for(eS=0,eT=eR.length-1;eS<=eT;eS++)(function(){var eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4,e5,e6;e3=T.get(eR,eS);e4=eP.getAttribute(e3);eU=null;eV=0;e5=[];while(eU=eQ.exec(e4),eU!==null){e6=ce.string(e4,{$:1,$0:eV},{$:1,$0:eQ.lastIndex-T.get(eU,0).length-1});eV=eQ.lastIndex;e5.push([e6,T.get(eU,1)]);}eX=ce.string(e4,{$:1,$0:eV},null);eQ.lastIndex=0;eY=T.foldBack(function(e7,e8){return(function(e9){var e_,e$;e_=e9[0];e$=e9[1];return function(fa){var fb,fc,fd,fe,ff;fb=fa[0];fc=fa[1];fd=(fe=(ff=null,[eM.TryGetValue(e$,{get:function(){return ff;},set:function(fg){ff=fg;}}),ff]),fe[0]?fe[1].$==1?{$:0,$0:fe[1].$1}:fe[1].$==2?{$:1,$0:fe[1].$1}:fe[1].$==8?{$:1,$0:fe[1].$1.get_View()}:fe[1].$==9?{$:1,$0:p.Map(a.String,fe[1].$1.get_View())}:fe[1].$==10?{$:1,$0:p.Map(function(fg){return fg.get_Input();},fe[1].$1.get_View())}:fe[1].$==11?{$:1,$0:p.Map(a.String,fe[1].$1.get_View())}:fe[1].$==12?{$:1,$0:p.Map(function(fg){return fg.get_Input();},fe[1].$1.get_View())}:fe[1].$==13?{$:1,$0:p.Map(a.String,fe[1].$1.get_View())}:(ev.warn("Attribute value hole filled with non-text data",e$),{$:0,$0:""}):{$:0,$0:""});return fd.$==1?[e_,new cL({$:1,$0:fb===""?fd.$0:p.Map(function(fg){return fg+fb;},fd.$0),$1:fc})]:[e_+fd.$0+fb,fc];};}(e7))(e8);},e5,[eX,cL.Empty]);return eG(eP,eY[1].$==1?eY[1].$1.$==1?eY[1].$1.$1.$==1?eY[1].$1.$1.$1.$==0?(eZ=eY[0],cW.Dynamic(e3,p.Map3(function(e7,e8,e9){return eZ+e7+e8+e9;},eY[1].$0,eY[1].$1.$0,eY[1].$1.$1.$0))):(e0=eY[0],cW.Dynamic(e3,p.Map(function(e7){return e0+bj.concat("",e7);},p.Sequence(eY[1])))):(e1=eY[0],cW.Dynamic(e3,p.Map2(function(e7,e8){return e1+e7+e8;},eY[1].$0,eY[1].$1.$0))):eY[0]===""?cW.Dynamic(e3,eY[1].$0):(e2=eY[0],cW.Dynamic(e3,p.Map(function(e7){return e2+e7;},eY[1].$0))):cS.Create(e3,eY[0]));}());});return[es.DeleteEmptyFields({Els:eC,Dirty:true,Holes:eI,Attrs:eK,Render:(eD=eL.length==0?null:{$:1,$0:function(eP){T.iter(function(eQ){eQ(eP);},eL);}},eD?eD.$0:void 0),El:(eE=!J.Equals(eC,null)&&eC.length===1&&(T.get(eC,0)instanceof G&&(T.get(eC,0)instanceof a.Element&&(eF=T.get(eC,0),true)))?{$:1,$0:eF}:null,eE?eE.$0:void 0)},["Render","El"]),cT.TreeReduce(p.Const(),p.Map2Unit,eJ)];};c6.PrepareSingleTemplate=function(eA,eB,eC){var eD,eE,eF;eD=c6.FakeRootSingle(eC);eE=[eC];eF={$:1,$0:eD};return function(eG){c6.PrepareTemplateStrict(eA,eB,eE,eF,eG);};};c6.TextHoleRE=function(){dQ.$cctor();return dQ.TextHoleRE;};c7.TryParse=function(eA){var eB;eB=ew.parse(eA);return a.isNaN(eB)?null:{$:1,$0:eB};};b3.TryParse=function(eA,eB,eC,eD){var eE,eF;eE=+eA;eF=eE===eE-eE%1&&eE>=eB&&eE<=eC;eF?eD.set(eE):void 0;return eF;};b3.TryParseBool=function(eA,eB){var eC;eC=eA.toLowerCase();return eC==="true"?(eB.set(true),true):eC==="false"&&(eB.set(false),true);};c8.$cctor=function(){c8.$cctor=a.ignore;c8.EndPoint="?";c8.AjaxProvider=new dy.New();};c9.newPojoOpt=function(eA){function eB(eC,eD){return eD==null?null:{$:1,$0:[eC,eD.$0]};}return c9.newPojo(bc.choose(function(eC){return eB(eC[0],eC[1]);},eA));};c9.newPojo=function(eA){var eB,eC;function eD(eF,eG){return function(eH){return c9.addProp(eF,eG,eH);};}function eE(eF){}eB={};bc.iter((eC=function(eF){return(function(eG){return eD(eG[0],eG[1]);}(eF))(eB);},function(eF){return eE(eC(eF));}),eA);return eB;};c9.addProp=function(eA,eB,eC){eC[eA]=eB;return eC;};ch.op_EqualsEqualsGreater=function(eA,eB){return[eA,eB==null?null:{$:1,$0:eB.$0}];};ch.op_MinusMinusGreater=function(eA,eB){return[eA,{$:1,$0:eB}];};c$=f.TimeoutException=es.Class({},c_,c$);c$.New=es.Ctor(function(){c$.New$1.call(this,"The operation has timed out.");},c$);c$.New$1=es.Ctor(function(eA){this.message=eA;cQ.setPrototypeOf(this,c$.prototype);},c$);da.AsAsync=function(eA){return cU.FromContinuations(function(eB,eC){eA.then(eB,function(eD){return eC(da.unwrapExn(eD));});});};da.unwrapExn=function(eA){return eA instanceof c_?eA:new d3.New(eA);};dc.JSUnion=function(eA,eB){var eC;function eD(eH){var eI;function eJ(eK){return eK!=null&&eK.$==1&&J.Equals(eH,eK.$0);}eI=bc.tryFindIndex(function(eK){return eJ(eK[0]);},eB);return eI!=null&&eI.$==1?eI.$0:eH.$;}function eE(eH,eI){return T.init(T.length((T.get(eB,eH))[2]),function(eJ){return eI["$"+a.String(eJ)];});}function eF(eH,eI){var eJ,eK,eL;eJ=eA==null?{}:new eA();eK=T.get(eB,eH);return(eL=eK[0],eL!=null&&eL.$==1)?eK[0].$0:(eJ.$=eH,bc.iteri(function(eM,eN){eJ["$"+a.String(eM)]=eN;},eI),eJ);}function eG(eH,eI){var eJ;function eK(eL,eM){return[eH,eL,eM,eJ];}eJ=eI[2];return bc.map(function(eL){return eK(eL[0],eL[1]);},eI[1]);}eC=bc.collect(function(eH){return eG(eH[0],eH[1]);},bc.indexed(eB));return dD.New$1(function(eH){function eI(eJ,eK,eL,eM){var eN,eO,eP;function eQ(eR,eS,eT){var eU;function eV(eW,eX){return eQ(eU,eW,new cL({$:1,$0:eX,$1:eT}));}return eR.$==1?(eU=eR.$1,bc.collect(function(eW){return eV(eW[0],eW[1]);},eR.$0.Parse(eS))):[[eS,eF(eJ,T.ofList(bB.rev(eT)))]];}return dc.isCorrectMethod(eK,eH.Method)?(eN=dE.startsWith(bB.ofArray(eL),eH.Segments),eN==null?[]:(eO=eN.$0,(eP=bB.ofArray(eM),eP.$==0?[[de.New(eO,eH.QueryArgs,eH.FormData,eH.Method,eH.Body),eF(eJ,[])]]:eQ(eP,de.New(eO,eH.QueryArgs,eH.FormData,eH.Method,eH.Body),cL.Empty)))):[];}return bc.collect(function(eJ){return eI(eJ[0],eJ[1],eJ[2],eJ[3]);},eC);},function(eH){var eI,eJ,eK,eL,eM,eN;function eO(eP,eQ){return eQ.Write(eP);}eI=eD(eH);eJ=T.get(eB,eI);eK=eJ[2];eL=T.get(eJ[1],0);eM=[de.Segment(bB.ofArray(eL[1]),eL[0])];return!J.Equals(eK,null)&&eK.length===0?{$:1,$0:eM}:(eN=(((es.Curried3(T.map2))(eO))(eE(eI,eH)))(eK),T.forall(function(eP){return eP!=null;},eN)?{$:1,$0:bc.append(eM,bc.collect(function(eP){return eP.$0;},eN))}:null);});};dc.isCorrectMethod=function(eA,eB){return eB!=null&&eB.$==1?eA!=null&&eA.$==1?J.Equals(eB.$0,eA.$0):true:!(eA!=null&&eA.$==1);};dc.rString=function(){d4.$cctor();return d4.rString;};dc.rWildcard=function(){d4.$cctor();return d4.rWildcard;};dd.Parse=function(eA,eB){function eC(eD,eE){return eD.Segments.$==0?{$:1,$0:eE}:null;}return bc.tryPick(function(eD){return eC(eD[0],eD[1]);},eA.Parse(eB));};dd.HashLink=function(eA,eB){return"#"+dd.Link(eA,eB);};dd.Link=function(eA,eB){var eC;eC=dd.Write(eA,eB);return eC==null?"":eC.$0.ToLink();};dd.Write=function(eA,eB){var eC;eC=eA.Write(eB);return eC==null?null:{$:1,$0:de.Combine(eC.$0)};};de=db.Route=es.Class({ToLink:function(){return em.WriteLink(this.Segments,this.QueryArgs);}},null,de);de.FromHash=function(eA,eB){var eC,eD;eC=eA.indexOf("#");return eC===-1?de.get_Empty():(eD=eA.substring(eC+1),eB!=null&&eB.$0?eD===""||eD==="/"?de.get_Empty():bj.StartsWith(eD,"/")?de.FromUrl(eD.substring(1),{$:1,$0:true}):de.Segment$2(eD):de.FromUrl(eA.substring(eC),{$:1,$0:false}));};de.Segment=function(eA,eB){var eC;eC=de.get_Empty();return de.New(eA,eC.QueryArgs,eC.FormData,eB,eC.Body);};de.get_Empty=function(){return de.New(cL.Empty,new cH.New([]),new cH.New([]),null,r.CreateFromValue(null));};de.FromUrl=function(eA,eB){var eC,eD,eE;eC=(eD=eA.indexOf("?"),eD===-1?[eA,new cH.New([])]:[bj.Substring(eA,0,eD),de.ParseQuery(eA.substring(eD+1))]);eE=de.get_Empty();return de.New(bB.ofArray(bj.SplitChars(eC[0],["/"],eB!=null&&eB.$0?0:1)),eC[1],eE.FormData,eE.Method,eE.Body);};de.Segment$2=function(eA){var eB;eB=de.get_Empty();return de.New(bB.ofArray([eA]),eB.QueryArgs,eB.FormData,eB.Method,eB.Body);};de.ParseQuery=function(eA){return d5.OfArray(T.ofSeq(T.choose(function(eB){var eC,eD;eC=bj.SplitChars(eB,["="],0);return!J.Equals(eC,null)&&eC.length===2?(eD=T.get(eC,1),{$:1,$0:[T.get(eC,0),eD]}):((function(eE){return function(eF){return eE("wrong format for query argument: "+bz.toSafe(eF));};}(function(eE){ev.log(eE);}))(eB),null);},bj.SplitChars(eA,["&"],0))));};de.Combine=function(eA){var eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK;eH=T.ofSeq(eA);eI=T.length(eH);if(eI===0)return de.get_Empty();else if(eI===1)return T.get(eH,0);else{eB=null;eC=null;eJ=[];eD=new cH.New([]);eE=new cH.New([]);eF=0;eK=T.length(eH);while(eF<eK)(function(){var eL,eM,eN;eL=T.get(eH,eF);eM=eL.Method;eM!=null&&eM.$==1?eB=eM:void 0;eN=eL.Body.f();eN===null?void 0:eC=eN;eD=d5.FoldBack(function(eO,eP,eQ){return eQ.Add(eO,eP);},eD,eL.QueryArgs);eE=d5.FoldBack(function(eO,eP,eQ){return eQ.Add(eO,eP);},eE,eL.FormData);bB.iter(function(eO){eJ.push(eO);},eL.Segments);eF=eF+1;}());return de.New(bB.ofSeq(eJ),eD,eE,eB,r.CreateFromValue(eC));}};de.New=function(eA,eB,eC,eD,eE){return new de({Segments:eA,QueryArgs:eB,FormData:eC,Method:eD,Body:eE});};df=cE.CustomXhrProvider=es.Class({Async:function(eA,eB,eC,eD,eE){var eF;cU.Start((eF=null,cU.Delay(function(){return cU.Bind((cE.getTokenOA())(),function(eG){eG==null?void 0:eB.Authorization=(function(eH){return function(eI){return eH("Bearer "+bz.toSafe(eI));};}(a.id))(eG.$0);cE.originalProvider().Async(eA,eB,eC,eD,eE);return cU.Zero();});})),null);}},g,df);df.New=es.Ctor(function(){g.New.call(this);},df);dg=M.ConceptoPago=es.Class({toString:function(){return this.$==2?this.$0:(function(eA){return function(eB){return eA(X.p$9(eB));};}(a.id))(this);}},null,dg);dh.fromSeq=function(eA){var eB;eB=T.ofSeq(bc.delay(function(){return bc.collect(function(eC){return[dF.New(eC[0],eC[1])];},bc.distinctBy(function(eC){return eC[0];},eA));}));T.sortInPlace(eB);return cK.Build(eB,0,eB.length-1);};di.New=function(eA,eB,eC,eD,eE){return{Node:eA,Left:eB,Right:eC,Height:eD,Count:eE};};dj=M.IdAddress=es.Class({},null,dj);dk.CreateEmbedNode=function(){return{Current:null,Dirty:false};};dk.UpdateEmbedNode=function(eA,eB){eA.Current=eB;eA.Dirty=true;};dk.CreateElemNode=function(eA,eB,eC){var eD;dk.LinkElement(eA,eC);eD=dl.Insert(eA,eB);return dv.New(eD,eC,null,eA,b_.Int(),es.GetOptional(eD.OnAfterRender));};dk.LinkElement=function(eA,eB){dk.InsertDoc(eA,eB,null);};dk.CreateRunState=function(eA,eB){return eb.New(ec.get_Empty(),dk.CreateElemNode(eA,dl.EmptyAttr(),eB));};dk.PerformAnimatedUpdate=function(eA,eB,eC){var eD;return dV.get_UseAnimations()?(eD=null,cU.Delay(function(){var eE,eF,eG;eE=ec.FindAll(eC);eF=dk.ComputeChangeAnim(eB,eE);eG=dk.ComputeEnterAnim(eB,eE);return cU.Bind(dV.Play(dV.Append(eF,dk.ComputeExitAnim(eB,eE))),function(){return cU.Bind(dk.SyncElemNodesNextFrame(eA,eB),function(){return cU.Bind(dV.Play(eG),function(){eB.PreviousNodes=eE;return cU.Return(null);});});});})):dk.SyncElemNodesNextFrame(eA,eB);};dk.PerformSyncUpdate=function(eA,eB,eC){var eD;eD=ec.FindAll(eC);dk.SyncElemNode(eA,eB.Top);eB.PreviousNodes=eD;};dk.CreateTextNode=function(){return{Text:dm.CreateText(""),Dirty:false,Value:""};};dk.UpdateTextNode=function(eA,eB){eA.Value=eB;eA.Dirty=true;};dk.InsertDoc=function(eA,eB,eC){var eD;return eB!=null&&eB.$==1?dk.InsertNode(eA,eB.$0.El,eC):eB!=null&&eB.$==2?(eD=eB.$0,(eD.Dirty=false,dk.InsertDoc(eA,eD.Current,eC))):eB==null?eC:eB!=null&&eB.$==4?dk.InsertNode(eA,eB.$0.Text,eC):eB!=null&&eB.$==5?dk.InsertNode(eA,eB.$0,eC):eB!=null&&eB.$==6?T.foldBack(function(eE,eF){return eE==null||eE.constructor===cQ?dk.InsertDoc(eA,eE,eF):dk.InsertNode(eA,eE,eF);},eB.$0.Els,eC):dk.InsertDoc(eA,eB.$0,dk.InsertDoc(eA,eB.$1,eC));};dk.InsertBeforeDelim=function(eA,eB){var eC,eD;eC=eA.parentNode;eD=self.document.createTextNode("");eC.insertBefore(eD,eA);dk.LinkPrevElement(eA,eB);return eD;};dk.SyncElemNodesNextFrame=function(eA,eB){function eC(eD){a.requestAnimationFrame(function(){dk.SyncElemNode(eA,eB.Top);eD();});}return dW.BatchUpdatesEnabled()?cU.FromContinuations(function(eD,eE,eF){return eC.apply(null,[eD,eE,eF]);}):(dk.SyncElemNode(eA,eB.Top),cU.Return(null));};dk.ComputeExitAnim=function(eA,eB){return dV.Concat(T.map(function(eC){return dl.GetExitAnim(eC.Attr);},ec.ToArray(ec.Except(eB,ec.Filter(function(eC){return dl.HasExitAnim(eC.Attr);},eA.PreviousNodes)))));};dk.ComputeEnterAnim=function(eA,eB){return dV.Concat(T.map(function(eC){return dl.GetEnterAnim(eC.Attr);},ec.ToArray(ec.Except(eA.PreviousNodes,ec.Filter(function(eC){return dl.HasEnterAnim(eC.Attr);},eB)))));};dk.ComputeChangeAnim=function(eA,eB){var eC;function eD(eE){return dl.HasChangeAnim(eE.Attr);}eC=function(eE){return ec.Filter(eD,eE);};return dV.Concat(T.map(function(eE){return dl.GetChangeAnim(eE.Attr);},ec.ToArray(ec.Intersect(eC(eA.PreviousNodes),eC(eB)))));};dk.SyncElemNode=function(eA,eB){!eA?dk.SyncElement(eB):void 0;dk.Sync(eB.Children);dk.AfterRender(eB);};dk.InsertNode=function(eA,eB,eC){dm.InsertAt(eA,eC,eB);return eB;};dk.LinkPrevElement=function(eA,eB){dk.InsertDoc(eA.parentNode,eB,eA);};dk.SyncElement=function(eA){function eB(eC){function eD(eE){var eF,eG;return eE!=null&&eE.$==0?eD(eE.$0)||eD(eE.$1):eE!=null&&eE.$==2?(eF=eE.$0,eF.Dirty||eD(eF.Current)):eE!=null&&eE.$==6&&(eG=eE.$0,eG.Dirty||T.exists(eB,eG.Holes));}return eD(eC.Children);}dl.Sync(eA.El,eA.Attr);eB(eA)?dk.DoSyncElement(eA):void 0;};dk.Sync=function(eA){var eB,eC;if(eA!=null&&eA.$==1)dk.SyncElemNode(false,eA.$0);else if(eA!=null&&eA.$==2)dk.Sync(eA.$0.Current);else if(eA==null);else if(eA!=null&&eA.$==5);else if(eA!=null&&eA.$==4){eB=eA.$0;eB.Dirty?(eB.Text.nodeValue=eB.Value,eB.Dirty=false):void 0;}else if(eA!=null&&eA.$==6){eC=eA.$0;T.iter(function(eD){dk.SyncElemNode(false,eD);},eC.Holes);T.iter(function(eD){dl.Sync(eD[0],eD[1]);},eC.Attrs);dk.AfterRender(eC);}else{dk.Sync(eA.$0);dk.Sync(eA.$1);}};dk.AfterRender=function(eA){var eB;eB=es.GetOptional(eA.Render);eB!=null&&eB.$==1?(eB.$0(eA.El),es.SetOptional(eA,"Render",null)):void 0;};dk.DoSyncElement=function(eA){var eB,eC,eD;function eE(eF,eG){var eH,eI;return eF!=null&&eF.$==1?eF.$0.El:eF!=null&&eF.$==2?(eH=eF.$0,eH.Dirty?(eH.Dirty=false,dk.InsertDoc(eB,eH.Current,eG)):eE(eH.Current,eG)):eF==null?eG:eF!=null&&eF.$==4?eF.$0.Text:eF!=null&&eF.$==5?eF.$0:eF!=null&&eF.$==6?(eI=eF.$0,(eI.Dirty?eI.Dirty=false:void 0,T.foldBack(function(eJ,eK){return eJ==null||eJ.constructor===cQ?eE(eJ,eK):eJ;},eI.Els,eG))):eE(eF.$0,eE(eF.$1,eG));}eB=eA.El;ep.Iter((eC=eA.El,function(eF){dm.RemoveNode(eC,eF);}),ep.Except(ep.DocChildren(eA),ep.Children(eA.El,es.GetOptional(eA.Delimiters))));eE(eA.Children,(eD=es.GetOptional(eA.Delimiters),eD!=null&&eD.$==1?eD.$0[1]:null));};dl.Static=function(eA){return new cS({$:3,$0:eA});};dl.Dynamic=function(eA,eB){return new cS({$:1,$0:new dJ.New(eA,eB)});};dl.Insert=function(eA,eB){var eC,eD,eE;function eF(eG){if(!(eG===null))if(eG!=null&&eG.$==1)eC.push(eG.$0);else if(eG!=null&&eG.$==2){eF(eG.$0);eF(eG.$1);}else if(eG!=null&&eG.$==3)eG.$0(eA);else if(eG!=null&&eG.$==4)eD.push(eG.$0);}eC=[];eD=[];eF(eB);eE=eC.slice(0);return dT.New(eA,dl.Flags(eB),eE,eD.length===0?null:{$:1,$0:function(eG){bc.iter(function(eH){eH(eG);},eD);}});};dl.EmptyAttr=function(){d8.$cctor();return d8.EmptyAttr;};dl.Flags=function(eA){return eA!==null&&eA.hasOwnProperty("flags")?eA.flags:0;};dl.AppendTree=function(eA,eB){var eC;return eA===null?eB:eB===null?eA:(eC=new cS({$:2,$0:eA,$1:eB}),(dl.SetFlags(eC,dl.Flags(eA)|dl.Flags(eB)),eC));};dl.Updates=function(eA){return cT.MapTreeReduce(function(eB){return eB.NChanged();},p.Const(),p.Map2Unit,eA.DynNodes);};dl.Empty=function(eA){return dT.New(eA,0,[],null);};dl.SetFlags=function(eA,eB){eA.flags=eB;};dl.HasExitAnim=function(eA){var eB;eB=2;return(eA.DynFlags&eB)===eB;};dl.GetExitAnim=function(eA){return dl.GetAnim(eA,function(eB,eC){return eB.NGetExitAnim(eC);});};dl.HasEnterAnim=function(eA){var eB;eB=1;return(eA.DynFlags&eB)===eB;};dl.GetEnterAnim=function(eA){return dl.GetAnim(eA,function(eB,eC){return eB.NGetEnterAnim(eC);});};dl.HasChangeAnim=function(eA){var eB;eB=4;return(eA.DynFlags&eB)===eB;};dl.GetChangeAnim=function(eA){return dl.GetAnim(eA,function(eB,eC){return eB.NGetChangeAnim(eC);});};dl.GetAnim=function(eA,eB){return dV.Concat(T.map(function(eC){return eB(eC,eA.DynElem);},eA.DynNodes));};dl.Sync=function(eA,eB){T.iter(function(eC){eC.NSync(eA);},eB.DynNodes);};dm.SetAttr=function(eA,eB,eC){eA.setAttribute(eB,eC);};dm.RemoveAttr=function(eA,eB){eA.removeAttribute(eB);};dm.CreateText=function(eA){return dm.Doc().createTextNode(eA);};dm.SetStyle=function(eA,eB,eC){dm.SetProperty(eA.style,eB,eC);};dm.ChildrenArray=function(eA){var eB,eC,eD;eB=[];for(eC=0,eD=eA.childNodes.length-1;eC<=eD;eC++)eB.push(eA.childNodes[eC]);return eB;};dm.CreateElement=function(eA){return dm.Doc().createElement(eA);};dm.Doc=function(){d7.$cctor();return d7.Doc;};dm.SetProperty=function(eA,eB,eC){return eA.setProperty(eB,eC);};dm.IterSelector=function(eA,eB,eC){var eD,eE,eF;eD=eA.querySelectorAll(eB);for(eE=0,eF=eD.length-1;eE<=eF;eE++)eC(eD[eE]);};dm.InsertAt=function(eA,eB,eC){var eD;if(!(eC.parentNode===eA&&eB===(eD=eC.nextSibling,J.Equals(eD,null)?null:eD)))eA.insertBefore(eC,eB);};dm.RemoveClass=function(eA,eB){var eC;dm.setClass(eA,(eC=dm.clsRE(eB),dm.getClass(eA).replace(eC,function(eD,eE,eF){return eE===""||eF===""?"":" ";})));};dm.AddClass=function(eA,eB){var eC;eC=dm.getClass(eA);eC===""?dm.setClass(eA,eB):!dm.clsRE(eB).test(eC)?dm.setClass(eA,eC+" "+eB):void 0;};dm.setClass=function(eA,eB){if(eA instanceof a.SVGElement)eA.setAttribute("class",eB);else eA.className=eB;};dm.getClass=function(eA){return eA instanceof a.SVGElement?eA.getAttribute("class"):eA.className;};dm.clsRE=function(eA){return new a.RegExp("(\\s+|^)"+eA+"(?:\\s+"+eA+")*(\\s+|$)","g");};dm.RemoveNode=function(eA,eB){if(eB.parentNode===eA)eA.removeChild(eB);};dn.New=function(eA,eB){return{k:eA,ct:eB};};_do.$cctor=function(){_do.$cctor=a.ignore;_do.noneCT=dp.New(false,[]);_do.scheduler=new dH.New();_do.defCTS=[new dI.New()];_do.Zero=cU.Return();_do.GetCT=function(eA){eA.k({$:0,$0:eA.ct});};};dp.New=function(eA,eB){return{c:eA,r:eB};};dq=cV.ArrayStorage=es.Class({SSet:function(eA){return T.ofSeq(eA);},SSetAt:function(eA,eB,eC){T.set(eC,eA,eB);return eC;},SAppend:function(eA,eB){eB.push(eA);return eB;},SInit:function(){return this.init;}},g,dq);dq.New=es.Ctor(function(eA){g.New.call(this);this.init=eA;},dq);dr.freshId=function(){dr.set_counter(dr.counter()+1);return"varuid"+a.String(dr.counter());};dr.set_counter=function(eA){_6.$cctor();_6.counter=eA;};dr.counter=function(){_6.$cctor();return _6.counter;};ds.FormaContrato=function(){_6.$cctor();return _6.FormaContrato;};ds.FormasPago=function(){_6.$cctor();return _6.FormasPago;};ds.Subir=function(){_6.$cctor();return _6.Subir;};ds.FormaW8BEN=function(){_6.$cctor();return _6.FormaW8BEN;};ds.FormaW9=function(){_6.$cctor();return _6.FormaW9;};ds.documento=function(eA,eB){return(((es.Curried3(function(eC,eD,eE){return eC("https://prozper0.azurewebsites.net/documentos/"+bz.toSafe(eD)+"/"+bz.toSafe(eE));}))(a.id))(eA.$0))(eB);};dt.extractNodes=function(eA){var eB,eC;function eD(eE,eF,eG,eH){var eI,eJ,eK,eL,eM,eN;eI=dt.extractNodes(eG);eJ=dt.extractNodes(eH);return(eI.$==0?(eL=eI.$0,!J.Equals(eL,null)&&eL.length===0)?(eK=eJ,true):eJ.$==0?(eM=eJ.$0,!J.Equals(eM,null)&&eM.length===0)?(eK=eI,true):(eK=[eI,eJ],false):(eK=[eI,eJ],false):eJ.$==0?(eN=eJ.$0,!J.Equals(eN,null)&&eN.length===0)?(eK=eI,true):(eK=[eI,eJ],false):(eK=[eI,eJ],false))?eK:{$:1,$0:{$:0,$0:eE,$1:eF,$2:eK[0],$3:eK[1]}};}eB=dt.horizontalSplit(eA);return eB!=null&&eB.$==1?eD(false,eB.$0[2],eB.$0[0],eB.$0[1]):(eC=dt.verticalSplit(eA),eC!=null&&eC.$==1?eD(true,eC.$0[2],eC.$0[0],eC.$0[1]):{$:0,$0:dt.cleanSpaces(eA)});};dt.createLayoutDefinitions=function(eA,eB){var eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL;return eB.$==1?(eC=eB.$0.$0,(eD=eB.$0.$1,(eE=dt.createLayoutDefinitions(eA+"_1",eB.$0.$2),(eF=eE[0],(eG=eE[1],(eH=dt.createLayoutDefinitions(eA+"_2",eB.$0.$3),(eI=eH[0],(eJ=eH[1],[eA,T.ofSeq(bc.delay(function(){return bc.append([bj.concat(" ",bB.ofArray([eA,eC?"vertical":"horizontal",a.String(eD),eF,eI]))],bc.delay(function(){return bc.append(eG,bc.delay(function(){return eJ;}));}));}))])))))))):(eK=eB.$0,!J.Equals(eK,null)&&eK.length===0)?["___",[]]:(eL=eB.$0,!J.Equals(eL,null)&&eL.length===1)?[T.get(eB.$0,0),[]]:[eA,[eA+" div \"\" "+bj.concat(" ",eB.$0)]];};dt.horizontalSplit=function(eA){var eB,eC,eD,eE,eF;function eG(eH,eI){var eJ,eK,eL,eM;eJ=j.REGEX$1("^ *--+([ ^v0-9]*)-* *$","",eI);return eJ!=null&&eJ.$==1?{$:1,$0:[[eH,(eK=(eL=bc.tryItem(1,eJ.$0),eL==null?null:dt.extractMeasuresO(bj.Replace(bj.Replace(eL.$0,"^",""),"v","-"))),(eM=new dK({$:1,$0:5,$1:50,$2:95}),eK==null?eM:eK.$0))],eI.indexOf("-")]}:null;}eB=(eC=bc.tryHead(bc.sortBy(function(eH){return eH[1];},bc.choose(function(eH){return eG(eH[0],eH[1]);},bc.indexed(eA)))),eC==null?null:{$:1,$0:eC.$0[0]});return eB==null?null:{$:1,$0:(eD=eB.$0,(eE=eD[0],(eF=eD[1],[ce.array(eA,null,{$:1,$0:eE-1}),ce.array(eA,{$:1,$0:eE+1},null),eF])))};};dt.verticalSplit=function(eA){var eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK;function eL(eO,eP){var eQ,eR,eS;return(eR=j.REGEX$1("^ *\\|+ *$","",eP),eR!=null&&eR.$==1&&(eS=eR.$0,!J.Equals(eS,null)&&eS.length===1))?{$:1,$0:[eO,eP.indexOf("|")]}:null;}function eM(eO){return J.Equals(null,eO);}function eN(eO){return J.Equals(null,eO);}eB=dt.transpose(eA);eC=(eD=(eE=bc.tryHead(bc.sortBy(function(eO){return eO[1];},bc.choose(function(eO){return eL(eO[0],eO[1]);},bc.indexed(eB)))),eE==null?null:{$:1,$0:eE.$0[0]}),eD==null?null:{$:1,$0:(eF=eD.$0,[dt.transpose(ce.array(eB,null,{$:1,$0:eF-1})),dt.transpose(ce.array(eB,{$:1,$0:eF+1},null))])});return eC==null?null:{$:1,$0:(eG=eC.$0,(eH=eG[0],(eI=eG[1],[T.filter(function(eO){return eM(dt.extractMeasuresO(eO));},eH),T.filter(function(eO){return eN(dt.extractMeasuresO(eO));},eI),(eJ=bc.tryHead(bc.delay(function(){return bc.append(bc.choose(dt.extractMeasuresO,eH),bc.delay(function(){return bc.map(function(eO){return eO.$==0?eO.$1?new dK({$:0,$0:eO.$0,$1:false}):eO:eO;},bc.choose(dt.extractMeasuresO,eI));}));})),(eK=new dK({$:1,$0:5,$1:50,$2:95}),eJ==null?eK:eJ.$0))])))};};dt.cleanSpaces=function(eA){return T.filter(function(eB){var eC;return!(eC=(cf.Int())(eB),eC!=null&&eC.$==1);},bj.SplitStrings(bj.concat(" ",eA),[" "],1));};dt.extractMeasuresO=function(eA){var eB,eC,eD,eE,eF,eG,eH;eB=bj.SplitChars(eA,[" "],1);return!J.Equals(eB,null)&&eB.length===1&&(eD=(cf.Int())(T.get(eB,0)),eD!=null&&eD.$==1&&(eC=eD.$0,true))?{$:1,$0:new dK({$:0,$0:et.abs(eC),$1:eC>=0})}:!J.Equals(eB,null)&&eB.length===3&&(eF=(cf.Int())(T.get(eB,0)),eF!=null&&eF.$==1&&(eG=(cf.Int())(T.get(eB,1)),eG!=null&&eG.$==1&&(eH=(cf.Int())(T.get(eB,2)),eH!=null&&eH.$==1&&(eE=[eH.$0,eF.$0,eG.$0],true))))?{$:1,$0:new dK({$:1,$0:eE[1],$1:eE[2],$2:eE[0]})}:null;};dt.transpose=function(eA){var eB;eB=bc.max(bc.map(function(eC){return eC.length;},eA));return T.ofSeq(bc.delay(function(){return bc.map(function(eC){return T.ofSeq(bc.delay(function(){return bc.map(function(eD){return eD.length>eC?eD[eC]:" ";},eA);})).join("");},o.range(0,eB-1));}));};bd.delayed=function(eA,eB){var eC;eC=[null];return function(eD){var eE,eF;eE=eC[0];eE==null?void 0:eE.$0.Cancel$1();eC[0]={$:1,$0:new dI.New()};cU.Start((eF=null,cU.Delay(function(){return cU.Bind(cU.Sleep(eA),function(){eB(eD);return cU.Zero();});})),{$:1,$0:eC[0].$0});};};bd.print=function(eA){if(typeof eA=="string")((function(eB){return function(eC){return eB(bz.toSafe(eC));};}(function(eB){ev.log(eB);}))(eA));else((function(eB){return function(eC){return eB(bz.prettyPrint(eC));};}(function(eB){ev.log(eB);}))(eA));};bd["String.Left"]=function(eA,eB){return eB<0?bd["String.Substring2"](eA,0,eA.length+eB):bd["String.Substring2"](eA,0,eB);};bd["String.Substring2"]=function(eA,eB,eC){var eD,eE;while(true){if(eC<=0)return"";else if(eB<0){eD=eB;eB=0;eC=eC+eD;}else return eB>=eA.length?"":bj.Substring(eA,eB,(eE=eA.length-eB,J.Compare(eC,eE)===-1?eC:eE));}};du=c2.WcSplitterT=es.Class({connectedCallback:function(){var eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP;function eQ(eY){var eZ,e0,e1,e2;eZ=eH?["padding-left","padding-right","grid-column-gap"]:["padding-top","padding-bottom","grid-row-gap"];e0=a.parseFloat("0"+eu(eY.parentElement.parentElement).css(eZ[0]));e1=a.parseFloat("0"+eu(eY.parentElement.parentElement).css(eZ[1]));eK.Set(a.parseFloat("0"+eu(eY.parentElement.parentElement).css(eZ[2])));eJ[0]=e0+e1;e2=eA.getBoundingClientRect();return eH?eG?[e2.width,e2.height]:[-e2.width,e2.height]:eG?[e2.height,e2.width]:[-e2.height,e2.width];}function eR(eY){return eH?eY.clientX:eY.clientY;}function eS(eY){var eZ,e0;eZ=(eR(eY)-eN[0])*100/eI[0][0]+eM[0];eF.Set((e0=J.Compare(eD,eZ)===1?eD:eZ,J.Compare(eE,e0)===-1?eE:e0));}function eT(){if(eL[0]){eL[0]=false;self.removeEventListener("mousemove",eS,false);self.removeEventListener("mouseup",eT,false);}}function eU(eY){var eZ,e0;if(!eL[0]){eL[0]=true;eM[0]=eF.Get();eN[0]=eR(eY);eI[0]=(eZ=(e0=eO[0],e0==null?null:{$:1,$0:eQ(e0.$0)}),eZ==null?[100,500]:eZ.$0);self.addEventListener("mousemove",eS,false);self.addEventListener("mouseup",eT,false);eY.preventDefault();}}function eV(eY,eZ,e0,e1){return[(eY-eZ-e0)*e1/100,(eY-eZ-e0)*(100-e1)/100];}function eW(eY,eZ){return(((((es.Curried(function(e0,e1,e2,e3,e4){return e0(" "+e1.toFixed(2)+"px "+e2.toFixed(2)+"px ; "+bz.toSafe(e3)+" : "+e4.toFixed(2)+"px; ");},5))(a.id))(eY))(eZ))(eH?"height":"width"))(eI[0][1]);}function eX(){var eY;eY=eO[0];eY==null?void 0:eI[0]=eQ(eY.$0);eF.Set(eF.Get());}if(!this.added){eA=this;eB=eA.attachShadow({mode:"open"});eC=self.document.createElement("div");eD=eA.hasAttribute("min")?a.parseFloat(eA.getAttribute("min")):4;eE=eA.hasAttribute("max")?a.parseFloat(eA.getAttribute("max")):96;eF=i.Create$1(eA.hasAttribute("value")?a.parseFloat(eA.getAttribute("value")):50);eG=!eA.hasAttribute("second");eH=eA.hasAttribute("vertical");eI=[[0,0]];eJ=[0];eK=i.Create$1(0);eL=[false];eM=[0];eN=[0];eO=[null];eP=(((((eH?c2.layoutVertical():c2.layoutHorizontal())(p.Map(function(eY){var eZ;eZ=eV(eI[0][0],eK.Get(),eJ[0],eY);return eW.apply(null,eZ);},eF.get_View())))(function(){dP.addResizeObserver(eX,eA);eX();}))(function(eY){eO[0]={$:1,$0:eY};eX();}))(function(eY){eU(eY);}))(p.Map(function(eY){return function(eZ){return eY(bz.prettyPrint(eZ)+"px");};}(a.id),eK.get_View()));c6.LoadLocalTemplates("");_0.Run(eC,eP);eB.appendChild(eC.firstChild);this.added=true;}}},g,du);du.Constructor=function(){var eA,eB;eA=(eB=ey.construct(self.HTMLElement,[],this.__proto__.constructor),eB);self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New.call(eA);return eA;};du.New=es.Ctor(function(){g.New.call(this);this.added=false;(function(eA){return eA("WcSplitterT initializer");}(function(eA){ev.log(eA);}));},du);dv=h.DocElemNode=es.Class({Equals:function(eA){return this.ElKey===eA.ElKey;},GetHashCode:function(){return this.ElKey;}},null,dv);dv.New=function(eA,eB,eC,eD,eE,eF){var eG;return new dv((eG={Attr:eA,Children:eB,El:eD,ElKey:eE},(es.SetOptional(eG,"Delimiters",eC),es.SetOptional(eG,"Render",eF),eG)));};dx.$cctor=function(){dx.$cctor=a.ignore;dx.counter=0;};dy=bS.XhrProvider=es.Class({Async:function(eA,eB,eC,eD,eE){bS.ajax(true,eA,eB,eC,eD,eE,function(){bS.ajax(true,eA,eB,eC,eD,eE,void 0);});}},g,dy);dy.New=es.Ctor(function(){g.New.call(this);},dy);dz=cy.FSharpEvent=es.Class({},g,dz);dz.New=es.Ctor(function(){g.New.call(this);this.event=d2.New([]);},dz);dA=bg.LinkedList=es.Class({AddLast:function(eA){var eB;return this.c===0?(eB={p:null,n:null,v:eA},(this.n=eB,this.p=this.n,this.c=1,eB)):this.AddAfter(this.p,eA);},GetEnumerator$1:function(){return new el.New(this);},AddAfter:function(eA,eB){var eC,eD;eC=eA.n;eD={p:eA,n:eC,v:eB};J.Equals(eA.n,null)?this.p=eD:void 0;eA.n=eD;!J.Equals(eC,null)?eC.p=eD:void 0;this.c=this.c+1;return eD;},RemoveFirst:function(){this.Remove$1(this.n);},Remove$1:function(eA){var eB,eC;eB=eA.p;eC=eA.n;J.Equals(eB,null)?this.n=eC:eB.n=eC;J.Equals(eC,null)?this.p=eB:eC.p=eB;this.c=this.c-1;},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},g,dA);dA.New=es.Ctor(function(){dA.New$1.call(this,[]);},dA);dA.New$1=es.Ctor(function(eA){var eB,eC;g.New.call(this);this.c=0;this.n=null;this.p=null;eB=cI.Get(eA);eB.MoveNext()?(this.n={p:null,n:null,v:eB.Current()},this.p=this.n,this.c=1):void 0;while(eB.MoveNext()){eC={p:this.p,n:null,v:eB.Current()};this.p.n=eC;this.p=eC;this.c=this.c+1;}},dA);dB.New$1=function(eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK){return c9.newPojoOpt([ch.op_EqualsEqualsGreater("account",eA),ch.op_EqualsEqualsGreater("authority",eB),ch.op_EqualsEqualsGreater("claimsRequest",eC),ch.op_EqualsEqualsGreater("correlationId",eD),ch.op_EqualsEqualsGreater("extraQueryParameters",eE),ch.op_EqualsEqualsGreater("extraScopesToConsent",eF),ch.op_EqualsEqualsGreater("loginHint",eG),ch.op_EqualsEqualsGreater("prompt",eH),ch.op_EqualsEqualsGreater("scopes",eI),ch.op_EqualsEqualsGreater("sid",eJ),ch.op_EqualsEqualsGreater("state",eK)]);};dC=ch.Account=es.Class({},g,dC);dD.New$1=function(eA,eB){return{Parse:eA,Write:eB};};dE.startsWith=function(eA,eB){var eC;switch(eA.$==1?eB.$==1?J.Equals(eA.$0,eB.$0)?(eC=[eB.$0,eB.$1,eA.$0,eA.$1],1):2:2:0){case 0:return{$:1,$0:eB};case 1:return dE.startsWith(eC[3],eC[1]);case 2:return null;}};dF=bg.Pair=es.Class({Equals:function(eA){return J.Equals(this.Key,eA.Key);},GetHashCode:function(){return J.Hash(this.Key);},CompareTo0:function(eA){return J.Compare(this.Key,eA.Key);}},null,dF);dF.New=function(eA,eB){return new dF({Key:eA,Value:eB});};dG.Map=function(eA,eB){return eB.$==1?{$:1,$0:eB.$0}:{$:0,$0:eA(eB.$0)};};dH=cU.Scheduler=es.Class({Fork:function(eA){var eB;eB=this;this.robin.push(eA);this.idle?(this.idle=false,a.setTimeout(function(){eB.tick();},0)):void 0;},tick:function(){var eA,eB,eC;eB=this;eC=ew.now();eA=true;while(eA)if(this.robin.length===0){this.idle=true;eA=false;}else{(this.robin.shift())();ew.now()-eC>40?(a.setTimeout(function(){eB.tick();},0),eA=false):void 0;}}},g,dH);dH.New=es.Ctor(function(){g.New.call(this);this.idle=true;this.robin=[];},dH);dI=f.CancellationTokenSource=es.Class({Cancel$1:function(){var eA;if(!this.c){this.c=true;eA=T.choose(function(eB){try{eB();return null;}catch(eC){return{$:1,$0:eC};}},this.r);if(T.length(eA)>0)throw new d9.New$3(eA);else void 0;}}},g,dI);dI.New=es.Ctor(function(){g.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},dI);dJ=h.DynamicAttrNode=es.Class({NChanged:function(){return this.updates;},NGetExitAnim:function(eA){return dV.get_Empty();},NGetEnterAnim:function(eA){return dV.get_Empty();},NGetChangeAnim:function(eA){return dV.get_Empty();},NSync:function(eA){if(this.dirty){(this.push(eA))(this.value);this.dirty=false;}}},g,dJ);dJ.New=es.Ctor(function(eA,eB){var eC;eC=this;g.New.call(this);this.push=eB;this.value=void 0;this.dirty=false;this.updates=p.Map(function(eD){eC.value=eD;eC.dirty=true;},eA);},dJ);j.REGEX$1=function(eA,eB,eC){var eD;return eC===null?null:(eD=(new a.String(eC)).match(new a.RegExp(eA,eB)),J.Equals(eD,null)?null:!J.Equals(eD,null)&&eD.length===0?null:{$:1,$0:eD});};dK=K.Measures=es.Class({toString:function(){return this.$==1?((((es.Curried(function(eA,eB,eC,eD){return eA(a.String(eB)+"-"+a.String(eC)+"-"+a.String(eD));},4))(a.id))(o.toInt(this.$0)))(o.toInt(this.$1)))(o.toInt(this.$2)):a.String(o.toInt(this.$1?this.$0:-this.$0));}},null,dK);dM=dL.Hoverable=es.Class({Content:function(eA){return eA.on("mouseenter",function(){return dm.AddClass(eA.elt,"hovering");}).on("mouseleave",function(){return dm.RemoveClass(eA.elt,"hovering");});}},null,dM);dM.New$1=function(){return dM.New(i.Create$1(false));};dM.New=function(eA){return new dM({hover:eA});};dP.addResizeObserver=function(eA,eB){var eC,eD,eE,eF;try{eC=!(!a.ResizeObserver);}catch(eG){eC=false;}if(eC){eD=new a.ResizeObserver(eA);dP.set_observers(new cL({$:1,$0:eD,$1:dP.observers()}));eD.observe(eB);}else{eE=dP.dimsChanged(eB);cU.Start((eF=null,cU.Delay(function(){return cU.While(function(){return eB.isConnected;},cU.Delay(function(){return cU.Bind(cU.Sleep(110),function(){return eE()?(eA(),cU.Zero()):cU.Zero();});}));})),null);}};dP.set_observers=function(eA){bY.$cctor();bY.observers=eA;};dP.observers=function(){bY.$cctor();return bY.observers;};dP.dimsChanged=function(eA){var eB;eB=[eA.getBoundingClientRect()];return function(){var eC;eC=eA.getBoundingClientRect();return J.Equals(dP.domRect2Tuple(eB[0]),dP.domRect2Tuple(eC))?false:(eB[0]=eC,true);};};dP.domRect2Tuple=function(eA){return[eA.top,eA.left,eA.width,eA.height];};dQ.$cctor=function(){dQ.$cctor=a.ignore;dQ.LoadedTemplates=new b5.New$5();dQ.LocalTemplatesLoaded=false;dQ.TextHoleRE="\\${([^}]+)}";};dR=h.Elt=es.Class({on:function(eA,eB){var eC;eC=this;this.elt.addEventListener(eA,function(eD){return eB(eC.elt,eD);},false);return this;}},_0,dR);dR.TreeNode=function(eA,eB){var eC,eD;function eE(eF){return eF[1];}eC=d$.Create(eB);return new dR.New$1({$:6,$0:eA},p.Map2Unit((eD=T.map(function(eF){return dl.Updates(eE(eF));},eA.Attrs),cT.TreeReduce(p.Const(),p.Map2Unit,eD)),eC.v),T.get(eA.Els,0),eC);};dR.New=function(eA,eB,eC){var eD,eE;eD=dk.CreateElemNode(eA,eB,eC.docNode);eE=d$.Create(eC.updates);return new dR.New$1({$:1,$0:eD},p.Map2Unit(dl.Updates(eD.Attr),eE.v),eA,eE);};dR.New$1=es.Ctor(function(eA,eB,eC,eD){_0.New.call(this,eA,eB);this.docNode$1=eA;this.updates$1=eB;this.elt=eC;this.rvUpdates=eD;},dR);dT.New=function(eA,eB,eC,eD){var eE;eE={DynElem:eA,DynFlags:eB,DynNodes:eC};es.SetOptional(eE,"OnAfterRender",eD);return eE;};dU.convertTextNode=function(eA){var eB,eC,eD,eE,eF,eG;eB=null;eC=0;eE=eA.textContent;eF=new a.RegExp(c6.TextHoleRE(),"g");while(eB=eF.exec(eE),eB!==null){eA.parentNode.insertBefore(self.document.createTextNode(ce.string(eE,{$:1,$0:eC},{$:1,$0:eF.lastIndex-T.get(eB,0).length-1})),eA);eC=eF.lastIndex;eG=self.document.createElement("span");eG.setAttribute("ws-replace",T.get(eB,1).toLowerCase());eA.parentNode.insertBefore(eG,eA);}eF.lastIndex=0;eA.textContent=ce.string(eE,{$:1,$0:eC},null);};dU.failNotLoaded=function(eA){ev.warn("Instantiating non-loaded template",eA);};dU.fillTextHole=function(eA,eB,eC){var eD;eD=eA.querySelector("[ws-replace]");return J.Equals(eD,null)?(ev.warn("Filling non-existent text hole",eC),null):(eD.parentNode.replaceChild(new a.Text(eB),eD),{$:1,$0:eD.getAttribute("ws-replace")});};dU.removeHolesExcept=function(eA,eB){function eC(eD){dm.IterSelector(eA,"["+eD+"]",function(eE){if(!eB.Contains(eE.getAttribute(eD)))eE.removeAttribute(eD);});}eC("ws-attr");eC("ws-onafterrender");eC("ws-var");dm.IterSelector(eA,"[ws-hole]",function(eD){if(!eB.Contains(eD.getAttribute("ws-hole"))){eD.removeAttribute("ws-hole");while(eD.hasChildNodes())eD.removeChild(eD.lastChild);}});dm.IterSelector(eA,"[ws-replace]",function(eD){if(!eB.Contains(eD.getAttribute("ws-replace")))eD.parentNode.removeChild(eD);});dm.IterSelector(eA,"[ws-on]",function(eD){eD.setAttribute("ws-on",bj.concat(" ",T.filter(function(eE){return eB.Contains(T.get(bj.SplitChars(eE,[":"],1),1));},bj.SplitChars(eD.getAttribute("ws-on"),[" "],1))));});dm.IterSelector(eA,"[ws-attr-holes]",function(eD){var eE,eF,eG,eH,eI;eE=bj.SplitChars(eD.getAttribute("ws-attr-holes"),[" "],1);for(eF=0,eG=eE.length-1;eF<=eG;eF++){eH=T.get(eE,eF);eD.setAttribute(eH,(eI=new a.RegExp(c6.TextHoleRE(),"g"),eD.getAttribute(eH).replace(eI,function(eJ,eK){return eB.Contains(eK)?eJ:"";})));}});};dU.fillInstanceAttrs=function(eA,eB){var eC,eD,eE,eF,eG;dU.convertAttrs(eB);eC=eB.nodeName.toLowerCase();eD=eA.querySelector("[ws-attr="+eC+"]");if(J.Equals(eD,null))ev.warn("Filling non-existent attr hole",eC);else{eD.removeAttribute("ws-attr");for(eE=0,eF=eB.attributes.length-1;eE<=eF;eE++){eG=eB.attributes.item(eE);eG.name==="class"&&eD.hasAttribute("class")?eD.setAttribute("class",eD.getAttribute("class")+" "+eG.nodeValue):eD.setAttribute(eG.name,eG.nodeValue);}}};dU.mapHoles=function(eA,eB){function eC(eD){dm.IterSelector(eA,"["+eD+"]",function(eE){var eF,eG;eF=(eG=null,[eB.TryGetValue(eE.getAttribute(eD).toLowerCase(),{get:function(){return eG;},set:function(eH){eG=eH;}}),eG]);eF[0]?eE.setAttribute(eD,eF[1]):void 0;});}eC("ws-hole");eC("ws-replace");eC("ws-attr");eC("ws-onafterrender");eC("ws-var");dm.IterSelector(eA,"[ws-on]",function(eD){eD.setAttribute("ws-on",bj.concat(" ",T.map(function(eE){var eF,eG,eH;eF=bj.SplitChars(eE,[":"],1);eG=(eH=null,[eB.TryGetValue(T.get(eF,1),{get:function(){return eH;},set:function(eI){eH=eI;}}),eH]);return eG[0]?T.get(eF,0)+":"+eG[1]:eE;},bj.SplitChars(eD.getAttribute("ws-on"),[" "],1))));});dm.IterSelector(eA,"[ws-attr-holes]",function(eD){var eE,eF,eG;eE=bj.SplitChars(eD.getAttribute("ws-attr-holes"),[" "],1);for(eF=0,eG=eE.length-1;eF<=eG;eF++)(function(){var eH;function eI(eJ,eK){var eL;eL=o.KeyValue(eK);return eJ.replace(new a.RegExp("\\${"+eL[0]+"}","ig"),"${"+eL[1]+"}");}eH=T.get(eE,eF);return eD.setAttribute(eH,(((es.Curried3(bc.fold))(eI))(eD.getAttribute(eH)))(eB));}());});};dU.fill=function(eA,eB,eC){while(true)if(eA.hasChildNodes())eC=eB.insertBefore(eA.lastChild,eC);else return null;};dU.convertAttrs=function(eA){var eC,eD,eE,eF,eG,eH,eI,eJ;function eB(eK){var eL;eL=eA.getAttribute(eK);eL===null?void 0:eA.setAttribute(eK,eL.toLowerCase());}eC=eA.attributes;eD=[];eE=[];eF=[];for(eG=0,eH=eC.length-1;eG<=eH;eG++){eI=eC.item(eG);bj.StartsWith(eI.nodeName,"ws-on")&&eI.nodeName!=="ws-onafterrender"&&eI.nodeName!=="ws-on"?(eD.push(eI.nodeName),eE.push(ce.string(eI.nodeName,{$:1,$0:"ws-on".length},null)+":"+eI.nodeValue.toLowerCase())):!bj.StartsWith(eI.nodeName,"ws-")&&(new a.RegExp(c6.TextHoleRE())).test(eI.nodeValue)?(eI.nodeValue=(eJ=new a.RegExp(c6.TextHoleRE(),"g"),eI.nodeValue.replace(eJ,function(eK,eL){return"${"+eL.toLowerCase()+"}";})),eF.push(eI.nodeName)):void 0;}!(eE.length==0)?eA.setAttribute("ws-on",bj.concat(" ",eE)):void 0;!(eF.length==0)?eA.setAttribute("ws-attr-holes",bj.concat(" ",eF)):void 0;eB("ws-hole");eB("ws-replace");eB("ws-attr");eB("ws-onafterrender");eB("ws-var");T.iter(function(eK){eA.removeAttribute(eK);},eD);};dV.get_UseAnimations=function(){return ed.UseAnimations();};dV.Play=function(eA){var eB;eB=null;return cU.Delay(function(){return cU.Bind(dV.Run(a.ignore,ed.Actions(eA)),function(){ed.Finalize(eA);return cU.Return(null);});});};dV.Append=function(eA,eB){return{$:0,$0:ek.Append(eA.$0,eB.$0)};};dV.Run=function(eA,eB){var eC;function eD(eE){function eF(eG,eH){var eI;eI=eH-eG;eB.Compute(eI);eA();return eI<=eC?void a.requestAnimationFrame(function(eJ){eF(eG,eJ);}):eE();}a.requestAnimationFrame(function(eG){eF(eG,eG);});}eC=eB.Duration;return eC===0?cU.Zero():cU.FromContinuations(function(eE,eF,eG){return eD.apply(null,[eE,eF,eG]);});};dV.Concat=function(eA){return{$:0,$0:ek.Concat(bc.map(ed.List,eA))};};dV.get_Empty=function(){return{$:0,$0:ek.Empty()};};dW.BatchUpdatesEnabled=function(){ee.$cctor();return ee.BatchUpdatesEnabled;};dX.StartProcessor=function(eA){var eB;function eC(){var eD;eD=null;return cU.Delay(function(){return cU.Bind(eA,function(){var eE;eE=eB[0];return eE===1?(eB[0]=0,cU.Zero()):eE===2?(eB[0]=1,eC()):cU.Zero();});});}eB=[0];return function(){var eD;eD=eB[0];eD===0?(eB[0]=1,cU.Start(eC(),null)):eD===1?eB[0]=2:void 0;};};dY=f.OperationCanceledException=es.Class({},c_,dY);dY.New=es.Ctor(function(eA){dY.New$1.call(this,"The operation was canceled.",null,eA);},dY);dY.New$1=es.Ctor(function(eA,eB,eC){this.message=eA;this.inner=eB;cQ.setPrototypeOf(this,dY.prototype);this.ct=eC;},dY);dZ.Activate=function(eA){var eB,eD,eE,eF,eG,eH,eI;function eC(eJ){var eK,eL,eM,eN,eO;if(J.Equals(eJ,null))return eJ;else if(typeof eJ=="object"){if(eJ instanceof a.Array)return dZ.shallowMap(eC,eJ);else{eK=dZ.shallowMap(eC,eJ.$V);eL=eJ.$T;if(eL===void 0)return eK;else{eM=T.get(eD,eL);if(eM===1)return bB.ofArray(eK);else if(eM===2)return self.WebSharper.Decimal.CreateDecimalBits(eK);else{eN=new(T.get(eD,eL))();for(var eP in eK)if(function(eQ){eN[eQ]=eK[eQ];return false;}(eP))break;return eN;}}}}else return eJ;}eD=eA?eA.$TYPES:void 0;if(eD===void 0)eB=eA;else{for(eE=0,eF=T.length(eD)-1;eE<=eF;eE++){eI=T.get(eD,eE);switch(!J.Equals(eI,null)&&eI.length===3?T.get(eI,0)==="WebSharper"?T.get(eI,1)==="List"?T.get(eI,2)==="T"?0:(eH=eI,2):(eH=eI,2):(eH=eI,2):!J.Equals(eI,null)&&eI.length===2?T.get(eI,0)==="WebSharper"?T.get(eI,1)==="Decimal"?1:(eH=eI,2):(eH=eI,2):(eH=eI,2)){case 0:eG=1;break;case 1:eG=2;break;case 2:eG=dZ.lookup(eH);break;}T.set(eD,eE,eG);}eB=eA.$DATA;}return eC(eB);};dZ.shallowMap=function(eA,eB){var eC,eD;if(eB instanceof a.Array)return T.map(eA,eB);else if(typeof eB=="object"){eC={};for(var eE in eB)if(function(eF){eC[eF]=eA(eB[eF]);return false;}(eE))break;return eC;}else return eB;};dZ.lookup=function(eA){var eB,eC,eD,eE,eF;eD=T.length(eA);eB=self;eC=0;while(eC<eD){eE=T.get(eA,eC);eF=eB[eE];!J.Equals(typeof eF,void 0)?(eB=eF,eC=eC+1):o.FailWith("Invalid server reply. Failed to find type: "+eE);}return eB;};d0.concat=function(eA){var eB,eC;eB=[];for(var eD in eA)eB.push.apply(eB,eA[eD]);return eB;};d2=d1.Event=es.Class({Trigger:function(eA){var eB,eC,eD;eB=this.Handlers.slice();for(eC=0,eD=eB.length-1;eC<=eD;eC++)(T.get(eB,eC))(null,eA);},Dispose:a.ignore},null,d2);d2.New=function(eA){return new d2({Handlers:eA});};d3=H.NonStandardPromiseRejectionException=es.Class({},c_,d3);d3.New=es.Ctor(function(eA){this.message="Promise rejected";cQ.setPrototypeOf(this,d3.prototype);this.reason=eA;},d3);d4.$cctor=function(){d4.$cctor=a.ignore;function eA(eB){var eC,eD;eC=(eD=0,[b3.TryParseInt32(eB,{get:function(){return eD;},set:function(eE){eD=eE;}}),eD]);return eC[0]?{$:1,$0:eC[1]}:null;}d4.Empty=dD.New$1(function(){return[];},function(){return null;});d4.rRoot=dD.New(function(eB){return[eB];},[]);d4.rString=dD.New$1(function(eB){var eC,eD;eC=eB.Segments;return eC.$==1?(eD=eh.read(eC.$0),eD!=null&&eD.$==1?[[de.New(eC.$1,eB.QueryArgs,eB.FormData,eB.Method,eB.Body),eD.$0]]:[]):[];},function(eB){return{$:1,$0:[de.Segment$2(eB==null?"null":eh.write(eB))]};});d4.rChar=dD.New$1(function(eB){var eC,eD,eE;eC=eB.Segments;return eC.$==1?(eD=eh.read(eC.$0),eD!=null&&eD.$==1&&(eD.$0.length===1&&(eE=eD.$0,true))?[[de.New(eC.$1,eB.QueryArgs,eB.FormData,eB.Method,eB.Body),ef.Parse(eE)]]:[]):[];},function(eB){return{$:1,$0:[de.Segment$2(eB)]};});d4.rGuid=dD.New$1(function(eB){var eC,eD;eC=eB.Segments;return eC.$==1?(eD=null,bt.TryParse(eC.$0,{get:function(){return eD;},set:function(eE){eD=eE;}})?[[de.New(eC.$1,eB.QueryArgs,eB.FormData,eB.Method,eB.Body),eD]]:[]):[];},function(eB){return{$:1,$0:[de.Segment$2(a.String(eB))]};});d4.rInt=dD.New$1(function(eB){var eC,eD;eC=eB.Segments;return eC.$==1?(eD=0,b3.TryParseInt32(eC.$0,{get:function(){return eD;},set:function(eE){eD=eE;}})?[[de.New(eC.$1,eB.QueryArgs,eB.FormData,eB.Method,eB.Body),eD]]:[]):[];},function(eB){return{$:1,$0:[de.Segment$2(a.String(eB))]};});d4.rDouble=dD.New$1(function(eB){var eC,eD,eE;eC=eB.Segments;return eC.$==1?(eD=0,(eE=a.Number(eC.$0),a.isNaN(eE)?false:(eD=eE,true))?[[de.New(eC.$1,eB.QueryArgs,eB.FormData,eB.Method,eB.Body),eD]]:[]):[];},function(eB){return{$:1,$0:[de.Segment$2(a.String(eB))]};});d4.rSByte=dD.New$1(function(eB){var eC,eD;eC=eB.Segments;return eC.$==1?(eD=0,b3.TryParseSByte(eC.$0,{get:function(){return eD;},set:function(eE){eD=eE;}})?[[de.New(eC.$1,eB.QueryArgs,eB.FormData,eB.Method,eB.Body),eD]]:[]):[];},function(eB){return{$:1,$0:[de.Segment$2(a.String(eB))]};});d4.rByte=dD.New$1(function(eB){var eC,eD;eC=eB.Segments;return eC.$==1?(eD=0,b3.TryParseByte(eC.$0,{get:function(){return eD;},set:function(eE){eD=eE;}})?[[de.New(eC.$1,eB.QueryArgs,eB.FormData,eB.Method,eB.Body),eD]]:[]):[];},function(eB){return{$:1,$0:[de.Segment$2(a.String(eB))]};});d4.rInt16=dD.New$1(function(eB){var eC,eD;eC=eB.Segments;return eC.$==1?(eD=0,b3.TryParseInt16(eC.$0,{get:function(){return eD;},set:function(eE){eD=eE;}})?[[de.New(eC.$1,eB.QueryArgs,eB.FormData,eB.Method,eB.Body),eD]]:[]):[];},function(eB){return{$:1,$0:[de.Segment$2(a.String(eB))]};});d4.rUInt16=dD.New$1(function(eB){var eC,eD;eC=eB.Segments;return eC.$==1?(eD=0,b3.TryParseUInt16(eC.$0,{get:function(){return eD;},set:function(eE){eD=eE;}})?[[de.New(eC.$1,eB.QueryArgs,eB.FormData,eB.Method,eB.Body),eD]]:[]):[];},function(eB){return{$:1,$0:[de.Segment$2(a.String(eB))]};});d4.rUInt=dD.New$1(function(eB){var eC,eD;eC=eB.Segments;return eC.$==1?(eD=0,b3.TryParseUInt32(eC.$0,{get:function(){return eD;},set:function(eE){eD=eE;}})?[[de.New(eC.$1,eB.QueryArgs,eB.FormData,eB.Method,eB.Body),eD]]:[]):[];},function(eB){return{$:1,$0:[de.Segment$2(a.String(eB))]};});d4.rInt64=dD.New$1(function(eB){var eC,eD;eC=eB.Segments;return eC.$==1?(eD=0,b3.TryParseInt64(eC.$0,{get:function(){return eD;},set:function(eE){eD=eE;}})?[[de.New(eC.$1,eB.QueryArgs,eB.FormData,eB.Method,eB.Body),eD]]:[]):[];},function(eB){return{$:1,$0:[de.Segment$2(a.String(eB))]};});d4.rUInt64=dD.New$1(function(eB){var eC,eD;eC=eB.Segments;return eC.$==1?(eD=0,b3.TryParseUInt64(eC.$0,{get:function(){return eD;},set:function(eE){eD=eE;}})?[[de.New(eC.$1,eB.QueryArgs,eB.FormData,eB.Method,eB.Body),eD]]:[]):[];},function(eB){return{$:1,$0:[de.Segment$2(a.String(eB))]};});d4.rSingle=dD.New$1(function(eB){var eC,eD,eE;eC=eB.Segments;return eC.$==1?(eD=0,(eE=a.Number(eC.$0),a.isNaN(eE)?false:(eD=eE,true))?[[de.New(eC.$1,eB.QueryArgs,eB.FormData,eB.Method,eB.Body),eD]]:[]):[];},function(eB){return{$:1,$0:[de.Segment$2(a.String(eB))]};});d4.rBool=dD.New$1(function(eB){var eC,eD,eE;eC=eB.Segments;return eC.$==1?(eD=(eE=null,[b3.TryParseBool(eC.$0,{get:function(){return eE;},set:function(eF){eE=eF;}}),eE]),eD[0]?[[de.New(eC.$1,eB.QueryArgs,eB.FormData,eB.Method,eB.Body),eD[1]]]:[]):[];},function(eB){return{$:1,$0:[de.Segment$2(eB?"True":"False")]};});d4.rWildcard=dD.New$1(function(eB){return[[de.New(cL.Empty,eB.QueryArgs,eB.FormData,eB.Method,eB.Body),bj.concat("/",eB.Segments)]];},function(eB){return{$:1,$0:[de.Segment$2(eB)]};});d4.rDateTime=dD.New$1(function(eB){var eC,eD,eE,eF,eG,eH,eI,eJ,eK;eC=eB.Segments;return eC.$==1?(eD=eC.$0,eD.length===19&&eD[4]==="-"&&eD[7]==="-"&&eD[10]==="-"&&eD[13]==="."&&eD[16]==="."?(eE=eA(ce.string(eD,{$:1,$0:0},{$:1,$0:3})),(eF=eA(ce.string(eD,{$:1,$0:5},{$:1,$0:6})),(eG=eA(ce.string(eD,{$:1,$0:8},{$:1,$0:9})),(eH=eA(ce.string(eD,{$:1,$0:11},{$:1,$0:12})),(eI=eA(ce.string(eD,{$:1,$0:14},{$:1,$0:15})),(eJ=eA(ce.string(eD,{$:1,$0:17},{$:1,$0:18})),eE!=null&&eE.$==1&&(eF!=null&&eF.$==1&&(eG!=null&&eG.$==1&&(eH!=null&&eH.$==1&&(eI!=null&&eI.$==1&&(eJ!=null&&eJ.$==1&&(eK=[eG.$0,eH.$0,eF.$0,eI.$0,eJ.$0,eE.$0],true))))))?[[de.New(eC.$1,eB.QueryArgs,eB.FormData,eB.Method,eB.Body),(new ew(eK[5],eK[2]-1,eK[0],eK[1],eK[3],eK[4])).getTime()]]:[])))))):[]):[];},function(eB){var eC,eD;function eE(eF){var eG;eG=a.String(eF);return eG.length===1?"0"+eG:eG;}return{$:1,$0:[de.Segment$2((eC=a.String((new ew(eB)).getFullYear()),(eD=eC.length,eD===1?"000"+eC:eD===2?"00"+eC:eD===3?"0"+eC:eC))+"-"+eE((new ew(eB)).getMonth()+1)+"-"+eE((new ew(eB)).getDate())+"-"+eE((new ew(eB)).getHours())+"."+eE((new ew(eB)).getMinutes())+"."+eE((new ew(eB)).getSeconds()))]};});};d5.OfArray=function(eA){return new cH.New$1(cK.OfSeq(bc.map(function(eB){return dF.New(eB[0],eB[1]);},eA)));};d5.FoldBack=function(eA,eB,eC){return bc.fold(function(eD,eE){return eA(eE.Key,eE.Value,eD);},eC,cK.Enumerate(true,eB.get_Tree()));};d5.ToSeq=function(eA){return bc.map(function(eB){return[eB.Key,eB.Value];},cK.Enumerate(false,eA.get_Tree()));};d6.Clear=function(eA){eA.splice(0,T.length(eA));};d7.$cctor=function(){d7.$cctor=a.ignore;d7.Doc=self.document;};d8.$cctor=function(){d8.$cctor=a.ignore;d8.EmptyAttr=null;};d9=f.AggregateException=es.Class({},c_,d9);d9.New$3=es.Ctor(function(eA){d9.New$4.call(this,"One or more errors occurred.",eA);},d9);d9.New$4=es.Ctor(function(eA,eB){this.message=eA;cQ.setPrototypeOf(this,d9.prototype);this.innerExceptions=eB;},d9);bc.enumUsing=function(eA,eB){return{GetEnumerator:function(){var eC;try{eC=cI.Get(eB(eA));}catch(eD){eA.Dispose();throw eD;}return new cJ.New(null,null,function(eE){return eC.MoveNext()&&(eE.c=eC.Current(),true);},function(){eC.Dispose();eA.Dispose();});}};};bc.enumWhile=function(eA,eB){return{GetEnumerator:function(){return new cJ.New(null,null,function(eC){var eD;while(true){eD=eC.s;if(J.Equals(eD,null)){if(eA()){eC.s=cI.Get(eB);eC=eC;}else return false;}else if(eD.MoveNext()){eC.c=eD.Current();return true;}else{eD.Dispose();eC.s=null;eC=eC;}}},function(eC){var eD;eD=eC.s;!J.Equals(eD,null)?eD.Dispose():void 0;});}};};d_=bg.KeyCollection=es.Class({GetEnumerator$1:function(){return cI.Get(bc.map(function(eA){return eA.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},g,d_);d_.New=es.Ctor(function(eA){g.New.call(this);this.d=eA;},d_);d$=h.Updates=es.Class({},null,d$);d$.Create=function(eA){var eB;eB=null;eB=d$.New(eA,null,function(){var eC;eC=eB.s;return eC===null?(eC=_5.Copy(eB.c()),eB.s=eC,_5.WhenObsoleteRun(eC,function(){eB.s=null;}),eC):eC;});return eB;};d$.New=function(eA,eB,eC){return new d$({c:eA,s:eB,v:eC});};eb.New=function(eA,eB){return{PreviousNodes:eA,Top:eB};};ec.get_Empty=function(){return{$:0,$0:new b6.New$3()};};ec.FindAll=function(eA){var eB;function eC(eE){if(eE!=null&&eE.$==0){eC(eE.$0);eC(eE.$1);}else if(eE!=null&&eE.$==1)eD(eE.$0);else if(eE!=null&&eE.$==2)eC(eE.$0.Current);else if(eE!=null&&eE.$==6)T.iter(eD,eE.$0.Holes);}function eD(eE){eB.push(eE);eC(eE.Children);}eB=[];eC(eA);return{$:0,$0:new b6.New$2(eB)};};ec.Filter=function(eA,eB){return{$:0,$0:eo.Filter(eA,eB.$0)};};ec.Except=function(eA,eB){return{$:0,$0:eo.Except(eA.$0,eB.$0)};};ec.ToArray=function(eA){return eo.ToArray(eA.$0);};ec.Intersect=function(eA,eB){return{$:0,$0:eo.Intersect(eA.$0,eB.$0)};};ed.UseAnimations=function(){ej.$cctor();return ej.UseAnimations;};ed.Actions=function(eA){return ed.ConcatActions(T.choose(function(eB){return eB.$==1?{$:1,$0:eB.$0}:null;},ek.ToArray(eA.$0)));};ed.Finalize=function(eA){T.iter(function(eB){if(eB.$==0)eB.$0();},ek.ToArray(eA.$0));};ed.ConcatActions=function(eA){var eB,eC,eD,eE;eB=cT.ofSeqNonCopying(eA);eC=T.length(eB);return eC===0?ed.Const():eC===1?T.get(eB,0):(eD=bc.max(bc.map(function(eF){return eF.Duration;},eB)),(eE=T.map(function(eF){return ed.Prolong(eD,eF);},eB),ed.Def(eD,function(eF){T.iter(function(eG){eG.Compute(eF);},eE);})));};ed.List=function(eA){return eA.$0;};ed.Const=function(eA){return ed.Def(0,function(){return eA;});};ed.Def=function(eA,eB){return{Compute:eB,Duration:eA};};ed.Prolong=function(eA,eB){var eC,eD,eE;eC=eB.Compute;eD=eB.Duration;eE=r.Create(function(){return eB.Compute(eB.Duration);});return{Compute:function(eF){return eF>=eD?eE.f():eC(eF);},Duration:eA};};ee.$cctor=function(){ee.$cctor=a.ignore;ee.BatchUpdatesEnabled=true;};ef.IsUpper=function(eA){return eA>="A"&&eA<="Z";};ef.Parse=function(eA){return eA.length===1?eA:o.FailWith("String must be exactly one character long.");};ef.IsWhiteSpace=function(eA){return eA.match(new a.RegExp("\\s"))!==null;};eg=f.FormatException=es.Class({},c_,eg);eg.New$1=es.Ctor(function(eA){this.message=eA;cQ.setPrototypeOf(this,eg.prototype);},eg);dD.New=function(eA,eB){return{Parse:eA,Segment:eB};};eh.read=function(eA){var eB;eB=[];return function(eC){var eD;while(true){eD=eh.readEscapedFromChars(eC);if(eD[0]===-2)return null;else if(eD[0]===-1)return{$:1,$0:(function(eE){return function(eF){return bj.concat(eE,eF);};}(""))(eB)};else{eB.push(ez.fromCharCode(eD[0]));eC=eD[1];}}}(bB.ofSeq(bc.map(function(eC){return eC.charCodeAt();},eA)));};eh.write=function(eA){return bj.concat("",bc.mapi(function(eB,eC){return eh.writeEscapedAsString(eB+1===eA.length,eC);},eA));};eh.readEscapedFromChars=function(eA){var eB,eC,eD,eE,eF,eG,eH,eI;function eJ(){var eL,eM;return eB.$==1?(eL=eB.$1,(eM=eB.$0,(eB=eL,eM))):-1;}function eK(eL){return eL>="0".charCodeAt()&&eL<="9".charCodeAt()?eL-"0".charCodeAt():eL>="a".charCodeAt()&&eL<="f".charCodeAt()?eL-"a".charCodeAt()+10:eL>="A".charCodeAt()&&eL<="F".charCodeAt()?eL-"A".charCodeAt()+10:-2;}eB=eA;return[(eC=eJ(),eC==="~".charCodeAt()?(eD=eJ(),eD==="u".charCodeAt()?(eE=eJ(),(eF=eJ(),(eG=eJ(),(eH=eJ(),eE>=0&&eF>=0&&eG>=0&&eH>=0?eh.op_PlusPlus(eh.op_PlusPlus(eh.op_PlusPlus(eK(eE),eK(eF)),eK(eG)),eK(eH)):-2)))):(eI=eJ(),eD>=0&&eI>=0?eh.op_PlusPlus(eK(eD),eK(eI)):-2)):eC),eB];};eh.writeEscapedAsString=function(eA,eB){var eC;eC=eB.charCodeAt();return eh.isUnreserved(eA,eB)?eB:eC<256?"~"+bj.PadLeftWith(eC.toString(16),2,"0"):"~u"+bj.PadLeftWith(eC.toString(16),4,"0");};eh.op_PlusPlus=function(eA,eB){return(eA<<4)+eB;};eh.isUnreserved=function(eA,eB){return eB==="-"||(eB==="."?!eA:eB==="_"||(eB>="A"&&eB<="Z"||(eB>="a"&&eB<="z"||eB>="0"&&eB<="9")));};b3.TryParseSByte=function(eA,eB){return b3.TryParse(eA,-128,127,eB);};b3.TryParseByte=function(eA,eB){return b3.TryParse(eA,0,255,eB);};b3.TryParseInt16=function(eA,eB){return b3.TryParse(eA,-32768,32767,eB);};b3.TryParseUInt16=function(eA,eB){return b3.TryParse(eA,0,65535,eB);};b3.TryParseUInt32=function(eA,eB){return b3.TryParse(eA,0,4294967295,eB);};b3.TryParseUInt64=function(eA,eB){return b3.TryParse(eA,0,18446744073709551615,eB);};ei.isBlank=function(eA){return bj.forall(ef.IsWhiteSpace,eA);};ej.$cctor=function(){ej.$cctor=a.ignore;ej.CubicInOut=en.Custom(function(eA){var eB;eB=eA*eA;return 3*eB-2*(eB*eA);});ej.UseAnimations=true;};ek.Append=function(eA,eB){return eA.$==0?eB:eB.$==0?eA:{$:2,$0:eA,$1:eB};};ek.ToArray=function(eA){var eB;function eC(eD){if(eD.$==1)eB.push(eD.$0);else if(eD.$==2){eC(eD.$0);eC(eD.$1);}else if(eD.$==3)T.iter(function(eE){eB.push(eE);},eD.$0);}eB=[];eC(eA);return eB.slice(0);};ek.Concat=function(eA){var eB;eB=cT.ofSeqNonCopying(eA);return cT.TreeReduce(ek.Empty(),ek.Append,eB);};ek.Empty=function(){eq.$cctor();return eq.Empty;};el=bg.LinkedListEnumerator=es.Class({MoveNext:function(){this.c=this.c.n;return!J.Equals(this.c,null);},Current:function(){return this.c.v;},Dispose:a.ignore},g,el);el.New=es.Ctor(function(eA){g.New.call(this);this.c=eA;},el);em.WriteLink=function(eA,eB){var eC;eC=eB.get_IsEmpty()?"":"?"+em.WriteQuery(eB);return"/"+em.Concat(eA)+eC;};em.Concat=function(eA){var eB,eC;eB=[];eC=true;bB.iter(function(eD){if(!bj.IsNullOrEmpty(eD)){eC?eC=false:eB.push("/");eB.push(eD);}},eA);return bj.Join("",T.ofSeq(eB));};em.WriteQuery=function(eA){function eB(eC,eD){return eC+"="+eD;}return bj.concat("&",bc.map(function(eC){return eB(eC[0],eC[1]);},d5.ToSeq(eA)));};en=h.Easing=es.Class({},g,en);en.Custom=function(eA){return new en.New(eA);};en.New=es.Ctor(function(eA){g.New.call(this);this.transformTime=eA;},en);eo.Filter=function(eA,eB){return new b6.New$2(T.filter(eA,eo.ToArray(eB)));};eo.Except=function(eA,eB){var eC;eC=new b6.New$2(eo.ToArray(eB));eC.ExceptWith(eo.ToArray(eA));return eC;};eo.ToArray=function(eA){var eB;eB=T.create(eA.get_Count(),void 0);eA.CopyTo(eB);return eB;};eo.Intersect=function(eA,eB){var eC;eC=new b6.New$2(eo.ToArray(eA));eC.IntersectWith(eo.ToArray(eB));return eC;};ep.Children=function(eA,eB){var eC,eD,eE;if(eB!=null&&eB.$==1){eE=[];eC=eB.$0[0].nextSibling;while(eC!==eB.$0[1]){eE.push(eC);eC=eC.nextSibling;}return{$:0,$0:eE};}else return{$:0,$0:T.init(eA.childNodes.length,(eD=eA.childNodes,function(eF){return eD[eF];}))};};ep.Except=function(eA,eB){var eC;eC=eA.$0;return{$:0,$0:T.filter(function(eD){return T.forall(function(eE){return!(eD===eE);},eC);},eB.$0)};};ep.Iter=function(eA,eB){T.iter(eA,eB.$0);};ep.DocChildren=function(eA){var eB;function eC(eD){if(eD!=null&&eD.$==2)eC(eD.$0.Current);else if(eD!=null&&eD.$==1)eB.push(eD.$0.El);else if(eD==null);else if(eD!=null&&eD.$==5)eB.push(eD.$0);else if(eD!=null&&eD.$==4)eB.push(eD.$0.Text);else if(eD!=null&&eD.$==6)T.iter(function(eE){if(eE==null||eE.constructor===cQ)eC(eE);else eB.push(eE);},eD.$0.Els);else{eC(eD.$0);eC(eD.$1);}}eB=[];eC(eA.Children);return{$:0,$0:cT.ofSeqNonCopying(eB)};};eq.$cctor=function(){eq.$cctor=a.ignore;eq.Empty={$:0};};es.OnLoad(function(){e.mainProgram();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
//# sourceMappingURL=ProzperServer.min.map
