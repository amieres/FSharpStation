function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
var JSON;JSON||(JSON={}),function(){"use strict";function i(n){return n<10?"0"+n:n}function f(n){return o.lastIndex=0,o.test(n)?'"'+n.replace(o,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function r(i,e){var s,l,h,a,v=n,c,o=e[i];o&&typeof o=="object"&&typeof o.toJSON=="function"&&(o=o.toJSON(i));typeof t=="function"&&(o=t.call(e,i,o));switch(typeof o){case"string":return f(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(n+=u,c=[],Object.prototype.toString.apply(o)==="[object Array]"){for(a=o.length,s=0;s<a;s+=1)c[s]=r(s,o)||"null";return h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+v+"]":"["+c.join(",")+"]",n=v,h}if(t&&typeof t=="object")for(a=t.length,s=0;s<a;s+=1)typeof t[s]=="string"&&(l=t[s],h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));else for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));return h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+v+"}":"{"+c.join(",")+"}",n=v,h}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,u,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(n="",u="",typeof e=="number")for(o=0;o<e;o+=1)u+=" ";else typeof e=="string"&&(u=e);if(t=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return r("",{"":i})});typeof JSON.parse!="function"&&(JSON.parse=function(n,t){function r(n,i){var f,e,u=n[i];if(u&&typeof u=="object")for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&(e=r(u,f),e!==undefined?u[f]=e:delete u[f]);return t.call(n,i,u)}var i;if(n=String(n),e.lastIndex=0,e.test(n)&&(n=n.replace(e,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?r({"":i},""):i;throw new SyntaxError("JSON.parse");})}();
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep;a=self;b=a.FsRoot=a.FsRoot||{};c=b.ProzperServer=b.ProzperServer||{};d=c.ClientSide=c.ClientSide||{};e=d.MainProgram=d.MainProgram||{};f=a.WebSharper=a.WebSharper||{};g=f.Obj=f.Obj||{};h=f.UI=f.UI||{};i=h.Var$1=h.Var$1||{};j=b.LibraryJS=b.LibraryJS||{};k=j.AppFramework=j.AppFramework||{};l=k.PlugIn=k.PlugIn||{};m=d.ModeloUI=d.ModeloUI||{};n=m.Aliado=m.Aliado||{};o=f.Operators=f.Operators||{};p=h.View=h.View||{};q=h.Var=h.Var||{};r=f.Lazy=f.Lazy||{};s=m.RenderAliados=m.RenderAliados||{};t=m.RenderAliado=m.RenderAliado||{};u=m.FormaRegistro=m.FormaRegistro||{};v=m.FormaDatos=m.FormaDatos||{};w=m.FormaContactos=m.FormaContactos||{};x=m.FormaFormasPago=m.FormaFormasPago||{};y=m.ReporteConsolidado=m.ReporteConsolidado||{};z=m.TablaPagos=m.TablaPagos||{};A=m.ListaDocs=m.ListaDocs||{};B=m.FormaAutorizacion=m.FormaAutorizacion||{};C=m.FormaContrato=m.FormaContrato||{};D=a.EventTarget;E=a.Node;F=f.JavaScript=f.JavaScript||{};G=F.JS=F.JS||{};H=f.Unchecked=f.Unchecked||{};I=j.LayoutEngineModule=j.LayoutEngineModule||{};J=f.Option=f.Option||{};K=c.TypesV0=c.TypesV0||{};L=K.Aliado=K.Aliado||{};M=c.Aliado=c.Aliado||{};N=h.Templating=h.Templating||{};O=N.Runtime=N.Runtime||{};P=O.Server=O.Server||{};Q=P.TemplateInstance=P.TemplateInstance||{};R=f.Arrays=f.Arrays||{};S=P.ProviderBuilder=P.ProviderBuilder||{};T=P.Handler=P.Handler||{};U=a.ProzperServer_Templates=a.ProzperServer_Templates||{};V=a.ProzperServer_GeneratedPrintf=a.ProzperServer_GeneratedPrintf||{};W=a.ProzperServer_Router=a.ProzperServer_Router||{};X=a.GeneratedPrintf=a.GeneratedPrintf||{};Y=h.Doc=h.Doc||{};Z=m.Rpc=m.Rpc||{};_0=K.IdAliado=K.IdAliado||{};_1=K.Modelo=K.Modelo||{};_2=h.ConcreteVar=h.ConcreteVar||{};_3=h.Snap=h.Snap||{};_4=a.StartupCode$ProzperServer$ProzperServer=a.StartupCode$ProzperServer$ProzperServer||{};_5=h.ListModel=h.ListModel||{};_6=k.PlugInVar=k.PlugInVar||{};_7=k.PlugInView=k.PlugInView||{};_8=k.PlugInDoc=k.PlugInDoc||{};_9=F.Pervasives=F.Pervasives||{};_=f.LazyExtensionsProxy=f.LazyExtensionsProxy||{};$=_.LazyRecord=_.LazyRecord||{};ba=f.Seq=f.Seq||{};bb=b.Library=b.Library||{};bc=bb.SortWith=bb.SortWith||{};bd=M.Buscar=M.Buscar||{};be=f.Collections=f.Collections||{};bf=be.FSharpSet=be.FSharpSet||{};bg=be.Set=be.Set||{};bh=f.Strings=f.Strings||{};bi=K.CorreoElectronico=K.CorreoElectronico||{};bj=m.DatosPersonales=m.DatosPersonales||{};bk=m.CorreoElectronico=m.CorreoElectronico||{};bl=m.Telefono=m.Telefono||{};bm=m.Direccion=m.Direccion||{};bn=bb.Monads=bb.Monads||{};bo=bn.AsyncResultBuilder=bn.AsyncResultBuilder||{};bp=m.Refresh=m.Refresh||{};bq=a.System=a.System||{};br=bq.Guid=bq.Guid||{};bs=y.Fila=y.Fila||{};bt=m.VariousUI=m.VariousUI||{};bu=K.StatusAliado=K.StatusAliado||{};bv=f.Utils=f.Utils||{};bw=j.Date=j.Date||{};bx=f.List=f.List||{};by=K.CuentaBancaria=K.CuentaBancaria||{};bz=K.RoutingNumber=K.RoutingNumber||{};bA=K.NumeroCuenta=K.NumeroCuenta||{};bB=K.FormaPago=K.FormaPago||{};bC=bn.Result=bn.Result||{};bD=m.FormaFirma=m.FormaFirma||{};bE=K.PremisasCalculo=K.PremisasCalculo||{};bF=k.PlugInAction=k.PlugInAction||{};bG=d.Msal=d.Msal||{};bH=bn.Extensions=bn.Extensions||{};bI=a.WindowOrWorkerGlobalScope;bJ=j.LayoutEngine=j.LayoutEngine||{};bK=a.StartupCode$LayoutEngine$LayoutEngine=a.StartupCode$LayoutEngine$LayoutEngine||{};bL=K.IdForAuthorize=K.IdForAuthorize||{};bM=K.DatosPersonales=K.DatosPersonales||{};bN=K.DiaPago=K.DiaPago||{};bO=K.TipoAliado=K.TipoAliado||{};bP=f.Numeric=f.Numeric||{};bQ=be.List=be.List||{};bR=be.Dictionary=be.Dictionary||{};bS=be.HashSet=be.HashSet||{};bT=O.Client=O.Client||{};bU=h.Abbrev=h.Abbrev||{};bV=bU.Async=bU.Async||{};bW=bU.Fresh=bU.Fresh||{};bX=bC.Builder=bC.Builder||{};bY=bC.BuilderP=bC.BuilderP||{};bZ=bn.Eff=bn.Eff||{};b0=bZ.EffBuilder=bZ.EffBuilder||{};b1=bn.AsyncResultBuilderP=bn.AsyncResultBuilderP||{};b2=bb.String=bb.String||{};b3=f.Slice=f.Slice||{};b4=bb.ParseO=bb.ParseO||{};b5=bb.Serializer=bb.Serializer||{};b6=j.Msal=j.Msal||{};b7=b6.Policy=b6.Policy||{};b8=K.Telefono=K.Telefono||{};b9=K.TipoTelefono=K.TipoTelefono||{};b_=K.Direccion=K.Direccion||{};b$=K.TipoDireccion=K.TipoDireccion||{};ca=K.Estado=K.Estado||{};cb=K.Pais=K.Pais||{};cc=K.ZonaPostal=K.ZonaPostal||{};cd=K.TarjetaCredito=K.TarjetaCredito||{};ce=K.Expiracion=K.Expiracion||{};cf=K.NumeroTarjeta=K.NumeroTarjeta||{};cg=K.TipoTarjeta=K.TipoTarjeta||{};ch=K.TipoCuenta=K.TipoCuenta||{};ci=K.Genero=K.Genero||{};cj=f.Remoting=f.Remoting||{};ck=b6.Configuration=b6.Configuration||{};cl=b6.AuthOptions=b6.AuthOptions||{};cm=f.Control=f.Control||{};cn=cm.MailboxProcessor=cm.MailboxProcessor||{};co=bb.Mailbox=bb.Mailbox||{};cp=m.EndPoint=m.EndPoint||{};cq=h.Router=h.Router||{};cr=h.ViewBuilder=h.ViewBuilder||{};cs=c.Remoting=c.Remoting||{};ct=c.Rpc=c.Rpc||{};cu=K.IdPayment=K.IdPayment||{};cv=k.PlugInQuery=k.PlugInQuery||{};cw=be.FSharpMap=be.FSharpMap||{};cx=f.Enumerator=f.Enumerator||{};cy=cx.T=cx.T||{};cz=be.BalancedTree=be.BalancedTree||{};cA=bx.T=bx.T||{};cB=bn.AsyncResult=bn.AsyncResult||{};cC=cj.AjaxRemotingProvider=cj.AjaxRemotingProvider||{};cD=bb.Array=bb.Array||{};cE=h.HtmlModule=h.HtmlModule||{};cF=cE.attr=cE.attr||{};cG=m.CuentaBancaria=m.CuentaBancaria||{};cH=m.TarjetaCredito=m.TarjetaCredito||{};cI=a.Object;cJ=h.FromView=h.FromView||{};cK=h.Array=h.Array||{};cL=f.Concurrency=f.Concurrency||{};cM=a.Blob;cN=h.AttrModule=h.AttrModule||{};cO=a.LayoutEngine_Templates=a.LayoutEngine_Templates||{};cP=a.LayoutEngine_GeneratedPrintf=a.LayoutEngine_GeneratedPrintf||{};cQ=j.WebComponent=j.WebComponent||{};cR=cQ.WcTabStrip=cQ.WcTabStrip||{};cS=cR.WcTabStripT=cR.WcTabStripT||{};cT=cQ.WcSplitter=cQ.WcSplitter||{};cU=be.DictionaryUtil=be.DictionaryUtil||{};cV=h.AttrProxy=h.AttrProxy||{};cW=h.CheckedInput=h.CheckedInput||{};cX=h.Client=h.Client||{};cY=cX.Templates=cX.Templates||{};cZ=f.DateUtil=f.DateUtil||{};c0=a.StartupCode$WebSharper_Main$Remoting=a.StartupCode$WebSharper_Main$Remoting||{};c1=j.Pojo=j.Pojo||{};c2=a.Error;c3=f.TimeoutException=f.TimeoutException||{};c4=F.Promise=F.Promise||{};c5=f.Sitelets=f.Sitelets||{};c6=c5.RouterOperators=c5.RouterOperators||{};c7=c5.RouterModule=c5.RouterModule||{};c8=c5.Route=c5.Route||{};c9=cs.CustomXhrProvider=cs.CustomXhrProvider||{};c_=be.MapUtil=be.MapUtil||{};c$=cz.Tree=cz.Tree||{};da=K.IdAddress=K.IdAddress||{};db=h.Docs=h.Docs||{};dc=cL.AsyncBody=cL.AsyncBody||{};dd=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};de=cL.CT=cL.CT||{};df=I.Layout=I.Layout||{};dg=h.Attrs=h.Attrs||{};dh=h.DomUtility=h.DomUtility||{};di=cT.WcSplitterT=cT.WcSplitterT||{};dj=h.DocElemNode=h.DocElemNode||{};dk=a.CharacterData;dl=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};dm=cj.XhrProvider=cj.XhrProvider||{};dn=cm.FSharpEvent=cm.FSharpEvent||{};_do=be.LinkedList=be.LinkedList||{};dp=b6.AuthenticationParameters=b6.AuthenticationParameters||{};dq=b6.Account=b6.Account||{};dr=c5.Router=c5.Router||{};ds=c5.List=c5.List||{};dt=be.Pair=be.Pair||{};du=f.Result=f.Result||{};dv=cL.Scheduler=cL.Scheduler||{};dw=f.CancellationTokenSource=f.CancellationTokenSource||{};dx=I.Measures=I.Measures||{};dy=j.Hoverable=j.Hoverable||{};dz=dy.Hoverable=dy.Hoverable||{};dA=h.Storage=h.Storage||{};dB=a.Event;dC=a.UIEvent;dD=j.ResizeObserver=j.ResizeObserver||{};dE=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};dF=h.Elt=h.Elt||{};dG=cX.Attrs=cX.Attrs||{};dH=dG.Dyn=dG.Dyn||{};dI=cY.Prepare=cY.Prepare||{};dJ=h.An=h.An||{};dK=cX.Settings=cX.Settings||{};dL=bU.Mailbox=bU.Mailbox||{};dM=be.HashSetUtil=be.HashSetUtil||{};dN=cm.Event=cm.Event||{};dO=dN.Event=dN.Event||{};dP=F.NonStandardPromiseRejectionException=F.NonStandardPromiseRejectionException||{};dQ=a.StartupCode$WebSharper_Sitelets$Router=a.StartupCode$WebSharper_Sitelets$Router||{};dR=be.Map=be.Map||{};dS=f.OperationCanceledException=f.OperationCanceledException||{};dT=f.Queue=f.Queue||{};dU=h.DynamicAttrNode=h.DynamicAttrNode||{};dV=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};dW=f.AggregateException=f.AggregateException||{};dX=dA.ArrayStorage=dA.ArrayStorage||{};dY=be.KeyCollection=be.KeyCollection||{};dZ=h.Updates=h.Updates||{};d0=cX.Docs=cX.Docs||{};d1=d0.RunState=d0.RunState||{};d2=d0.NodeSet=d0.NodeSet||{};d3=h.Anims=h.Anims||{};d4=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};d5=f.Char=f.Char||{};d6=f.Json=f.Json||{};d7=f.FormatException=f.FormatException||{};d8=c5.StringEncoding=c5.StringEncoding||{};d9=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};d_=h.String=h.String||{};d$=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};ea=h.AppendList=h.AppendList||{};eb=be.LinkedListEnumerator=be.LinkedListEnumerator||{};ec=c5.PathUtil=c5.PathUtil||{};ed=h.Easing=h.Easing||{};ee=bU.HashSet=bU.HashSet||{};ef=d0.DomNodes=d0.DomNodes||{};eg=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};eh=a.IntelliFactory;ei=eh&&eh.Runtime;ej=a.Math;ek=a.jQuery;el=a.console;em=a.Date;en=a.JSON;eo=a.Reflect;ep=a.String;e.mainProgram=function(){var eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI;eq=i.Create$1(e.appName());er=p.Map(function(eJ){return e.mesToString(eJ.periodoActual);},m.modeloV().get_View());es=p.Map(function(eJ){return a.String(eJ.anoActual);},m.modeloV().get_View());et=p.Map(function(eJ){return M.nombre2(eJ.datosPersonales);},m.aliadoW());eu=p.Map(function(eJ){return eJ.id.get_Id();},m.aliadoW());ev=p.Map(function(eJ){return a.String(eJ.status);},m.aliadoW());ew=p.Map(function(eJ){return a.String(eJ.comision);},m.aliadoW());ex=p.Map(function(eJ){return a.String(eJ.nReferidos);},m.aliadoW());k.addPlugIn(l.New(e.appName(),[k.newVar("title",eq),k.newVar("contentVar",m.contentVar()),k.newVar("invitaciones",m.invitacionesV()),k.newVar("influencer",e.influencerV())],[k.newViw("mesActual",er),k.newViw("anoActual",es),k.newViw("aliado",et),k.newViw("idAliado",eu),k.newViw("status",ev),k.newViw("comision",ew),k.newViw("datos",ex),k.newViw("emailsInvitar",m.emailsInvitarW()),k.newViw("invitacionesDisabled",m.invitacionesDisabledW()),k.newViw("VideoW",p.Map(function(eJ){return eJ.$==5?eJ.$0:"";},m.endPointV().get_View())),k.newViw("influencerClassW",e.influencerClassW())],[k.newDoc("Aliados",r.Create(s.aliados)),k.newDoc("Aliado",r.Create(t.aliado)),k.newDoc("Calculo",r.Create(t.calculo)),k.newDoc("FormaRegistro",r.Create(u.formaDoc)),k.newDoc("FormaDatos",r.Create(v.formaDoc)),k.newDoc("FormaContactos",r.Create(w.formaDoc)),k.newDoc("FormaFormasPago",r.Create(x.formaDoc)),k.newDoc("contentDoc",r.Create(e.getContentDoc)),k.newDoc("ReporteConsolidado",r.Create(y.consolidado)),k.newDoc("TablaPagos",r.Create(z.comisiones)),k.newDoc("ListaDocs",r.Create(A.listaDocs)),k.newDoc("FormaAutorizacion",r.Create(B.formaAutorizacion)),k.newDoc("FormaContrato",r.Create(C.formaContrato))],[k.newAct("Logout",function(){e.logout();}),k.newAct("LogIn",function(){e.login();}),k.newAct("enviarInvitaciones",function(){e.enviarCorreosInvitacion();}),k.newAct("gotoInfluencer",function(){e.gotoInfluencer();})],[]));I.addLayout((ey=(ez=self.document.getElementById("GlobalLayout"),H.Equals(ez,null)?"\r\n                            menuEditor layout\r\n                            |          main\r\n            \r\n                            main div \"\"\r\n                            :                 template  header     \"id=header\"           brand  brandV   logout \"@{Prozper.Logout}\" afiliado \"@{Prozper.aliado}\"\r\n                            :                 Doc       Prozper.contentDoc\r\n                            :                 template  sidedrawer \"id=sidedrawer\"       brand  brandV   idaliado \"@{Prozper.idAliado}\" \r\n                            :                 template  footer     \"id=footer\"           brand  brandV   madeby \"CIPHER Bsc\" madebylink \"www.cipherbsc.com\"\r\n             \r\n                            mainContent          template  content    \"id=content-wrapper\"  content aliados                  fecha \"@{Prozper.mesActual} @{Prozper.anoActual}\" idaliado \"@{Prozper.aliado}\"\r\n                            cntFormaRegistro     template  content    \"id=content-wrapper\"  content Prozper.FormaRegistro    titulo \"Referido por: @{Prozper.aliado}\"  \r\n                            cntFormaDatos        template  content    \"id=content-wrapper\"  content Prozper.FormaDatos       titulo \" \"\r\n                            cntFormaContactos    template  content    \"id=content-wrapper\"  content Prozper.FormaContactos   titulo \" \" \r\n                            cntFormaFormasPago   template  content    \"id=content-wrapper\"  content Prozper.FormaFormasPago  titulo \" \" \r\n                            cntFormaCuentas      template  content    \"id=content-wrapper\"  content ProzperLyt.FormaCuentas  titulo \" \"  \r\n                            cntFormaDocumentos   template  content    \"id=content-wrapper\"  content Prozper.FormaDocumentos  titulo \" \"  \r\n                            cntFormaNoUser       template  content    \"id=content-wrapper\"  content botonLogin               titulo \" \"  \r\n                            cntFormaInvitaciones template  content    \"id=content-wrapper\"  content invitaciones             titulo \" \"  \r\n            \r\n                            aliados          div       \"class=row\"\r\n                            :                div       \"class=mui-col-md-6\"\r\n                            ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" Prozper.Aliados\r\n                            :                div       \"class=mui-col-md-6\"\r\n                            ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" Aliado Comisiones\r\n                            brandV           Var       \"Prozper\"\r\n            \r\n                            botonLogin       div       \"class=row\"\r\n                            :                div       \"class=mui-col-md-6\"\r\n                            ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" \r\n                            :::              button    Prozper.LogIn \"class=mui-btn mui-btn--primary\" \"Ingresar al Sistema\"\r\n            \r\n                            invitaciones     div       \"class=row\"\r\n                            :                div       \"class=mui-col-md-6 mui-col-md-offset-1\"\r\n                            ::               div       \"class=mui-panel mui--z5 scrollbar; max-height:550px ; overflow:auto\" \r\n                            :::              h1        \"\" \"Enviar Invitaciones\"\r\n                            :::              textarea  Prozper.invitaciones  \"width:100% ; height:30rem; placeholder=Copie aqui las direcciones de correo electronico\" \r\n                            :                div       \"white-space: pre-wrap\" \"@{Prozper.emailsInvitar}\"\r\n                            :                button    Prozper.enviarInvitaciones \"class=mui-btn mui-btn--raised mui-btn--primary;@{Prozper.invitacionesDisabled}\" \"Enviar\"\r\n            \r\n                            Aliado           div       \"class=mui-col-md-8\"\r\n                            :                Doc Prozper.Aliado\r\n            \r\n                            Comisiones       template    tablacomisiones \"class=mui-col-md-3\"  tbody filasComisiones\r\n                            filasComisiones  concat      \"\"\r\n                            :                template    filacomision    \"\"  periodo \"Ene 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Feb 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Mar 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Abr 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"May 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Jun 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Jul 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Ago 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Sep 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Oct 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Nov 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Dec 2018\" comision \"$1,000\"\r\n                    \r\n                            menuEditorx      horizontal  65          menuLogo                  editorMessages\r\n                            double           horizontal  0-50-100    AppFramework.AppFwkClient menuEditor\r\n                            menuLogo         vertical    350         logo                      menu\r\n                            logo             span       \"margin:0;   color:gray; font-size: 55px; font-weight:530\" \"StackOverflow\"\r\n                            editorMessages   horizontal  10-83-100   editorButtons             messages\r\n                            messages         vertical    0-50-100    messagesLeft              messagesRight\r\n                            editorButtons    vertical    150 buttons snippetsSnippet \r\n                            snippetsSnippet  vertical    0-20-100    snippets                  editorProperties\r\n                            snippets         horizontal  20          \"@{FSharpStation.CurrentPath}\" tblDimensions2\r\n                            editorProperties vertical    0-100-100   snippet                   properties\r\n                            properties       div        \"\"           FSharpStation.Properties\r\n                            snippet          horizontal  35          Name                      FSharpStation.editor\r\n                            menu             span       \"display: grid; grid-template-columns: 30% 20% 20% 10%; grid-gap: 25px; margin:5px; grid-template-rows:50px\" inpServer btnLoad btnSaveAs\r\n                             \r\n                            severalTabs      wcomp-tabstrip  \"\" \r\n                            :                div \"tabname=Dimensions\" \r\n                            ::               div \"\" btnAddDimension RuleEditor.Dimensions\r\n                            :                div \"tabname=Cubes\"\r\n                            :                div \"tabname=Global Definitions\" RuleEditor.globalDefs\r\n                    \r\n                            btnSaveAs        button RuleEditor.SaveAs         \"class=btn @{RuleEditor.SaveNeeded}\" \"Save as...    \"\r\n                            btnAddDimension  button RuleEditor.AddDimension      \"\"                  \"new dim...\"\r\n                            btnDeleteSnippet button FSharpStation.RemoveSnippet  \"\"                  \"Delete Snippet\"\r\n                            btnIndentIn      button FSharpStation.IndentIn       \"\"                  \"Indent In  >> \"\r\n                            btnIndentOut     button FSharpStation.IndentOut      \"\"                  \"Indent Out << \"\r\n                            btnRunFS         button FSharpStation.RunFS          \"\"                  \"Run F#        \"\r\n                            btnAbortFsi      button FSharpStation.AbortFsi       \"\"                  \"Abort Fsi     \"\r\n                    \r\n                            messagesLeft     wcomp-tabstrip                      \"\"                  Output FsCode\r\n                            messagesRight    wcomp-tabstrip                      \"\"                  Parser\r\n                    \r\n                            buttons          div \"overflow: hidden; display: grid; grid-template-columns: 100%; grid-template-rows: repeat(15, calc(100% / 15)); bxackground-color: #eee; box-sizing: border-box; padding : 5px; grid-gap: 5px; margin-right: 21px\"\r\n                            :                button RuleEditor.AddCalculation    \"\"                 \"Add Calculation\"\r\n                            :                button RuleEditor.AddTotal          \"\"                 \"Add Total\"\r\n                            :                Doc       none x\r\n                            :                button RuleEditor.IndentIn          \"\"                  \"Indent In  >> \"\r\n                            :                button RuleEditor.IndentOut         \"\"                  \"Indent Out << \"\r\n                    \r\n                            Output           textarea  RuleEditor.Output         \"tabname=Output ; placeholder=Output messages ; spellcheck=false\" \r\n                            FsCode           textarea  RuleEditor.CodeFS         \"tabname=F# Code; placeholder=F# Code         ; spellcheck=false\" \r\n                            Parser           textarea  RuleEditor.Parser         \"tabname=Parser ; placeholder=Parser messages; dblclick=@{FSharpStation.JumpTo} ; spellcheck=false\" \r\n                            Name             Doc       InputLabel                \"\"     \"Name:\"        FSharpStation.SnippetName\r\n                            inpServer        Doc       InputLabel                \"\"     \"Server:\"      RuleEditor.Server\r\n                            btnLoad          Doc       InputFile                 \"\"     \"Load File...\" RuleEditor.LoadFile  FileName\r\n                            btnImport        Doc       InputFile                 \"\"     \"Import...\"    FSharpStation.Import    \"\"\r\n                            FileName         div                                 \"class=form-control\"  RuleEditor.fileName\r\n            \r\n                       ":ez.textContent),I.newLyt(e.layoutName(),ey)));eA=(eB=null,(eC=e.layoutName(),eB==null?eC:eB.$0));k.mainDocV().Set(eA);Y.BindView(function(eJ){var eK,eL,eM;return H.Equals(eJ.id,M.empty().id)?(eK=S.Make(),(eL=T.CompleteHoles(eK.k,eK.h,[]),(eM=new Q.New(eL[1],U.opcionesadministrador(eL[0])),(eK.i=eM,eM)))).get_Doc():Y.get_Empty();},m.aliadoW());eD=(eE=(eF=e.getDocView(e.layoutName(),"headerCenter"),(eG=e.getMenuDoc(),(eH=e.getContentDoc(),S.Make().WithHole({$:0,$0:"maincontent",$1:eH})).WithHole({$:0,$0:"menu",$1:eG})).WithHole({$:0,$0:"headercenter",$1:eF})),eE.WithHole(T.EventQ2(eE.k,"logout",function(){return eE.i;},function(){e.logout();}))).WithHole({$:2,$0:"cortina",$1:p.Map(function(eJ){return eJ>0?"mui-overlay":"not-mui-overlay";},Z.llamadas().get_View())});eI=T.CompleteHoles(eD.k,eD.h,[]);eD.i=new Q.New(eI[1],cY.RunFullDocTemplate(eI[0]));p.Sink(function(eJ){self.document.title=eJ;},eq.get_View());};e.appName=function(){_4.$cctor();return _4.appName;};e.influencerV=function(){_4.$cctor();return _4.influencerV;};e.influencerClassW=function(){_4.$cctor();return _4.influencerClassW;};e.getContentDoc=function(){return Y.EmbedView(p.Map(function(eq){return e.getDoc(e.appName(),eq);},m.contentVar().get_View()));};e.logout=function(){bG.logout();};e.login=function(){bG.logout();};e.enviarCorreosInvitacion=function(){var eq;Z.iterA((eq=bn.asyncResult(),eq.Run(eq.Delay(function(){return bH["AsyncResultBuilder.Bind"](eq,p.GetAsync(m.emailsInvitarW()),function(er){return bH["AsyncResultBuilder.Bind"](eq,p.GetAsync(p.Map(function(es){return es.id.get_Id();},m.aliadoW())),function(){var es;es=R.filter(function(et){return bh.Trim(et)!=="";},bh.SplitChars(er,["\n"],0));return eq.Bind$1(Z.enviarCorreosInvitacion("Invitacion a Prozper",es),function(){var et;et=R.length(es);return et===0?(a.alert("Ningun correo valido ha sido encontrado"),eq.Zero()):et===1?(a.alert("Invitacion ha sido enviada"),eq.Zero()):(a.alert("Invitaciones han sido enviadas"),eq.Zero());});});});}))));};e.gotoInfluencer=function(){var eq;cL.Start((eq=null,cL.Delay(function(){return cL.Bind(Z.obtenerIdInfluyente(e.influencerV().Get()),function(er){return er.$==0?(self.location.href="/Register/"+e.influencerV().Get(),cL.Zero()):(self.alert("Código inválido:"+e.influencerV().Get()),cL.Zero());});})),null);};e.layoutName=function(){_4.$cctor();return _4.layoutName;};e.getMenuDoc=function(){return Y.EmbedView(p.Map2(function(eq,er){var es;es=eq!=null&&eq.$==1?H.Equals(er.id,M.empty().id)?"ProzperLyt.mnuAdministrador":"ProzperLyt.mnuUsuario":"ProzperLyt.mnuNoUsuario";return e.getDoc(e.appName(),es);},bG.userO().get_View(),m.aliadoW()));};e.getDocView=function(eq,er){return I.turnToView(function(){return e.getDoc(eq,er);});};e.mesToString=function(eq){return eq===1?"Ene":eq===2?"Feb":eq===3?"Mar":eq===4?"Abr":eq===5?"May":eq===6?"Jun":eq===7?"Jul":eq===8?"Ago":eq===9?"Sep":eq===10?"Oct":eq===11?"Nov":eq===12?"Dic":"---";};e.getDoc=function(eq,er){var es,et,eu;es=(et=(eu=((I.splitName())(eq))(er),k.tryGetDoc(eu[0],eu[1])),et==null?null:{$:1,$0:I.getDocFinal(cA.Empty,et.$0)});return es==null?I.errDoc((function(ev){return function(ew){return ev("Doc not found "+bv.toSafe(ew));};}(a.id))(er)):es.$0;};g=f.Obj=ei.Class({Equals:function(eq){return this===eq;},GetHashCode:function(){return -1;}},null,g);g.New=ei.Ctor(function(){},g);i=h.Var$1=ei.Class({},g,i);i.Create$1=function(eq){return new _2.New(false,_3.New({$:2,$0:eq,$1:[]}),eq);};i.Lens=function(eq,er,es){var et,eu,ev;et=bW.Id();eu=p.Map(er,eq.get_View());ev=new q({Get:function(){return er(eq.Get());},Set:function(ew){return eq.Update(function(ex){return es(ex,ew);});},SetFinal:function(ew){return this.Set(ew);},Update:function(ew){return eq.Update(function(ex){return es(ex,ew(er(ex)));});},UpdateMaybe:function(ew){return eq.UpdateMaybe(function(ex){var ey;ey=ew(er(ex));return ey==null?null:{$:1,$0:es(ex,ey.$0)};});},get_View:function(){return eu;},get_Id:function(){return et;}});q.New.call(ev);return ev;};i.Set=function(eq,er){eq.Set(er);};k.addPlugIn=function(eq){k.plugIns().Append(eq);k.mainDocV().Set(k.mainDocV().Get());};k.newVar=function(eq,er){return _6.New(eq,er);};k.newViw=function(eq,er){return _7.New(eq,er);};k.newDoc=function(eq,er){return _8.New(eq,{$:0,$0:er});};k.newAct=function(eq,er){return bF.New(eq,{$:0,$0:er},p.Const(true));};k.mainDocV=function(){bK.$cctor();return bK.mainDocV;};k.plugIns=function(){bK.$cctor();return bK.plugIns;};k.newDocF=function(eq,er){return _8.New(eq,er);};k.tryGetDoc=function(eq,er){var es;es=k.tryGetPlugIn(eq);return es==null?null:R.tryFind(function(et){return et.docName===er;},es.$0.plgDocs);};k.tryGetAct=function(eq,er){var es;es=k.tryGetPlugIn(eq);return es==null?null:R.tryFind(function(et){return et.actName===er;},es.$0.plgActions);};k.callFunction=function(eq,er,es){if(es.$==1)es.$0(eq);else if(es.$==2)(es.$0(eq))(er);else es.$0();};k.tryGetVar=function(eq,er){var es;es=k.tryGetPlugIn(eq);return es==null?null:R.tryFind(function(et){return et.varName===er;},es.$0.plgVars);};k.selectionPlugInO=function(){bK.$cctor();return bK.selectionPlugInO;};k.defaultPlugIn=function(){bK.$cctor();return bK.defaultPlugIn;};k.currentPlugInW=function(){bK.$cctor();return bK.currentPlugInW;};k.renderPlugIns=function(){return Y.Flatten(k.plugIns().MapLens(function(eq){var er,es,et,eu;return(er=(es=S.Make().WithHole({$:1,$0:"name",$1:eq}),es.WithHole(T.EventQ2(es.k,"select",function(){return es.i;},function(){k.selectionPlugInO().Set({$:1,$0:eq});}))).WithHole({$:2,$0:"selected",$1:p.Map(function(ev){return H.Equals(ev,{$:1,$0:eq})?"selected":"";},k.selectionPlugInO().get_View())}),(et=T.CompleteHoles(er.k,er.h,[]),(eu=new Q.New(et[1],cO.tile(et[0])),(er.i=eu,eu)))).get_Doc();}));};k.renderVars=function(){function eq(es,et){return[es.plgName,et.varName];}function er(es,et){var eu,ev,ew;return(eu=S.Make().WithHole({$:1,$0:"name",$1:et.varName}).WithHole({$:8,$0:"value",$1:et.varVar}),(ev=T.CompleteHoles(eu.k,eu.h,[["value",0]]),(ew=new Q.New(ev[1],cO.namevalueinput(ev[0])),(eu.i=ew,ew)))).get_Doc();}return Y.ConvertBy(function(es){return eq(es[0],es[1]);},function(es){return er(es[0],es[1]);},p.Map(function(es){return ba.map(function(et){return[es,et];},es.plgVars);},k.currentPlugInW()));};k.renderViews=function(){function eq(es,et){return[es.plgName,et.viwName];}function er(es,et){var eu,ev,ew;return(eu=S.Make().WithHole({$:1,$0:"name",$1:et.viwName}).WithHole({$:2,$0:"value",$1:et.viwView}),(ev=T.CompleteHoles(eu.k,eu.h,[]),(ew=new Q.New(ev[1],cO.namevalue(ev[0])),(eu.i=ew,ew)))).get_Doc();}return Y.ConvertBy(function(es){return eq(es[0],es[1]);},function(es){return er(es[0],es[1]);},p.Map(function(es){return ba.map(function(et){return[es,et];},es.plgViews);},k.currentPlugInW()));};k.renderDocs=function(){function eq(es,et){return[es.plgName,et.docName];}function er(es,et){var eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE;return(eu=(ev=(ew=et.docName+(ex=et.docDoc,ex.$==1?(ey=bh.concat(", ",bx.ofArray([ex.$1])),(function(eF){return function(eG){return eF("("+bv.toSafe(eG)+")");};}(a.id))(ey)):ex.$==2?(ez=bh.concat(", ",bx.ofArray([ex.$1,ex.$2])),(function(eF){return function(eG){return eF("("+bv.toSafe(eG)+")");};}(a.id))(ez)):ex.$==3?(eA=bh.concat(", ",bx.ofArray([ex.$1,ex.$2,ex.$3])),(function(eF){return function(eG){return eF("("+bv.toSafe(eG)+")");};}(a.id))(eA)):ex.$==4?(eB=bh.concat(", ",bx.ofArray([ex.$1,ex.$2,ex.$3,ex.$4])),(function(eF){return function(eG){return eF("("+bv.toSafe(eG)+")");};}(a.id))(eB)):ex.$==5?(eC=bh.concat(", ",bx.ofArray([ex.$1,ex.$2,ex.$3,ex.$4,ex.$5])),(function(eF){return function(eG){return eF("("+bv.toSafe(eG)+")");};}(a.id))(eC)):""),S.Make().WithHole({$:1,$0:"name",$1:ew})),ev.WithHole(T.EventQ2(ev.k,"select",function(){return ev.i;},function(){p.Get(function(eF){k.mainDocV().Set(eF.plgName+"."+et.docName);},k.currentPlugInW());}))),(eD=T.CompleteHoles(eu.k,eu.h,[]),(eE=new Q.New(eD[1],cO.tile(eD[0])),(eu.i=eE,eE)))).get_Doc();}return Y.ConvertBy(function(es){return eq(es[0],es[1]);},function(es){return er(es[0],es[1]);},p.Map(function(es){return ba.map(function(et){return[es,et];},es.plgDocs);},k.currentPlugInW()));};k.renderActions=function(){function eq(es,et){return[es.plgName,et.actName];}function er(es,et){var eu,ev,ew,ex;eu=(ev=et.actFunction,ev.$==1?(ew=bh.concat(", ",bx.ofArray([ev.$1])),(function(ey){return function(ez){return ey("("+bv.toSafe(ez)+")");};}(a.id))(ew)):ev.$==2?(ex=bh.concat(", ",bx.ofArray([ev.$1,ev.$2])),(function(ey){return function(ez){return ey("("+bv.toSafe(ez)+")");};}(a.id))(ex)):"");return Y.EmbedView(p.Map(function(ey){var ez,eA,eB,eC,eD,eE,eF,eG;return ey?(ez=(eA=S.Make().WithHole({$:1,$0:"name",$1:et.actName+eu}),eA.WithHole(T.EventQ2(eA.k,"click",function(){return eA.i;},function(eH){k.callFunction(eH,null,et.actFunction);}))),(eB=T.CompleteHoles(ez.k,ez.h,[]),(eC=new Q.New(eB[1],cO.action(eB[0])),(ez.i=eC,eC)))).get_Doc():(eD=(eE=S.Make().WithHole({$:1,$0:"name",$1:et.actName}),eE.WithHole(T.EventQ2(eE.k,"click",function(){return eE.i;},function(eH){k.callFunction(eH,null,et.actFunction);}))),(eF=T.CompleteHoles(eD.k,eD.h,[]),(eG=new Q.New(eF[1],cO.actiondisabled(eF[0])),(eD.i=eG,eG)))).get_Doc();},et.actEnabled));}return Y.ConvertBy(function(es){return eq(es[0],es[1]);},function(es){return er(es[0],es[1]);},p.Map(function(es){return ba.map(function(et){return[es,et];},es.plgActions);},k.currentPlugInW()));};k.renderQueries=function(){function eq(es,et){return[es.plgName,et.qryName];}function er(es,et){var eu,ev,ew,ex;return(eu=(ev=S.Make().WithHole({$:1,$0:"name",$1:et.qryName}),ev.WithHole(T.EventQ2(ev.k,"select",function(){return ev.i;},function(){a.alert(et.qryFunction(null));}))),(ew=T.CompleteHoles(eu.k,eu.h,[]),(ex=new Q.New(ew[1],cO.tile(ew[0])),(eu.i=ex,ex)))).get_Doc();}return Y.ConvertBy(function(es){return eq(es[0],es[1]);},function(es){return er(es[0],es[1]);},p.Map(function(es){return ba.map(function(et){return[es,et];},es.plgQueries);},k.currentPlugInW()));};k.newQry=function(eq,er){return cv.New(eq,er);};k.AppFwkClient=function(){bK.$cctor();return bK.AppFwkClient;};k.actHello=function(){bK.$cctor();return bK.actHello;};k.qryDocs=function(){bK.$cctor();return bK.qryDocs;};k.horizontal=function(eq,er,es,et,eu){var ev,ew,ex,ey;return(ev=(ew=S.Make().WithHole({$:2,$0:"partsizes",$1:eq}).WithHole({$:7,$0:"afterrender",$1:er}).WithHole({$:7,$0:"afterrendersp",$1:es}),ew.WithHole(T.EventQ2(ew.k,"mousedown",function(){return ew.i;},function(ez){et(ez.Event);}))).WithHole({$:2,$0:"gap",$1:eu}),(ex=T.CompleteHoles(ev.k,ev.h,[]),(ey=new Q.New(ex[1],cO.wcompsplitterhor(ex[0])),(ev.i=ey,ey)))).get_Doc();};k.vertical=function(eq,er,es,et,eu){var ev,ew,ex,ey;return(ev=(ew=S.Make().WithHole({$:2,$0:"partsizes",$1:eq}).WithHole({$:7,$0:"afterrender",$1:er}).WithHole({$:7,$0:"afterrendersp",$1:es}),ew.WithHole(T.EventQ2(ew.k,"mousedown",function(){return ew.i;},function(ez){et(ez.Event);}))).WithHole({$:2,$0:"gap",$1:eu}),(ex=T.CompleteHoles(ev.k,ev.h,[]),(ey=new Q.New(ex[1],cO.wcompsplitterver(ex[0])),(ev.i=ey,ey)))).get_Doc();};k.mainDoc=function(){var eq,er,es,et,eu,ev;return(eq=(er=k.getMainClientDoc(),(es=(et=k.mainDocV().get_View(),S.Make().WithHole({$:2,$0:"maindoc",$1:et})),es.WithHole(T.EventQ2(es.k,"goclient",function(){return es.i;},function(){k.mainDocV().Set("AppFramework.AppFwkClient");}))).WithHole({$:0,$0:"mainclient",$1:er})),(eu=T.CompleteHoles(eq.k,eq.h,[]),(ev=new Q.New(eu[1],cO.appframework(eu[0])),(eq.i=ev,ev)))).get_Doc();};k.splitName=function(eq){function er(et){return b2.splitByChar(".",et);}function es(et){return R.length(et)===1?[eq,R.get(et,0)]:[R.get(et,0),R.get(et,1)];}return function(et){return es(er(et));};};k.tryGetPlugIn=function(eq){return k.plugIns().TryFindByKey(eq);};k.newActF=function(eq,er){return bF.New(eq,er,p.Const(true));};k.tryGetViw=function(eq,er){var es;es=k.tryGetPlugIn(eq);return es==null?null:R.tryFind(function(et){return et.viwName===er;},es.$0.plgViews);};k.tryGetWoW=function(eq,er){var es,et,eu;es=(et=k.tryGetViw(eq,er),et==null?null:{$:1,$0:{$:1,$0:et.$0.viwView}});return es==null?(eu=k.tryGetVar(eq,er),eu==null?null:{$:1,$0:eu.$0.varVar.get_View()}):es.$0;};k.getMainClientDoc=function(){var eq;return Y.EmbedView((eq=k.plugIns().v,p.Map2(function(er,es){var et,eu;et=ba.tryPick(function(ev){var ew;ew=ba.tryFind(function(ex){return ev.plgName===er||ev.plgName+"."+ex.docName===er;},ev.plgDocs);return ew==null?null:{$:1,$0:k.getLazyDoc(ew.$0)};},es);eu=k.AppFwkClient().f();return et==null?eu:et.$0;},k.mainDocV().get_View(),eq)));};k.tryGetVoV=function(eq,er){var es,et,eu;es=(et=k.tryGetVar(eq,er),et==null?null:{$:1,$0:{$:1,$0:et.$0.varVar}});return es==null?(eu=k.tryGetViw(eq,er),eu==null?null:{$:1,$0:new cJ.New(eu.$0.viwView,a.ignore)}):es.$0;};k.getLazyDoc=function(eq){var er;er=eq.docDoc;return er.$==0?er.$0.f():Y.Element("div",[],[Y.TextNode((function(es){return function(et){return es("Doc with parameters not allowed here: "+X.p(et));};}(a.id))(eq))]);};l.New=function(eq,er,es,et,eu,ev){return{plgName:eq,plgVars:er,plgViews:es,plgDocs:et,plgActions:eu,plgQueries:ev};};m.contentVar=function(){_4.$cctor();return _4.contentVar;};m.invitacionesV=function(){_4.$cctor();return _4.invitacionesV;};m.emailsInvitarW=function(){_4.$cctor();return _4.emailsInvitarW;};m.invitacionesDisabledW=function(){_4.$cctor();return _4.invitacionesDisabledW;};m.endPointV=function(){_4.$cctor();return _4.endPointV;};m.aliadoW=function(){_4.$cctor();return _4.aliadoW;};m.modeloV=function(){_4.$cctor();return _4.modeloV;};m.selAliadoIdOV=function(){_4.$cctor();return _4.selAliadoIdOV;};m.money=function(eq){return"$"+m.separate(a.String(eq),cA.Empty);};m.selAliadoIdDoc=function(eq){var er;return Y.BindView(a.id,(er=p.get_Do(),p.Bind(function(es){return p.Bind(function(et){var eu,ev;eu=et==null?null:(ev=et.$0,ba.tryFind(function(ew){return H.Equals(ew.id,ev);},es.aliados));return p.Const(eu!=null&&eu.$==1?eq(p.Const(eu.$0)):Y.get_Empty());},m.selAliadoIdOV().get_View());},m.modeloV().get_View())));};m.aliadoIdDoc=function(eq){var er;return Y.BindView(a.id,(er=p.get_Do(),p.Bind(function(es){var et,eu;et=es.idAliado;eu=ba.tryFind(function(ev){return H.Equals(ev.id,et);},es.aliados);return p.Const(eu!=null&&eu.$==1?eq(p.Const(eu.$0)):Y.get_Empty());},m.modeloV().get_View())));};m.separate=function(eq,er){var es;while(true)if(eq==="")return(function(et){return function(eu){return bh.concat(et,eu);};}(","))(er);else{es=eq;eq=bb["String.Left$1"](es,-3);er=new cA({$:1,$0:bb["String.Right$1"](es,3),$1:er});}};n.get_LoggedId=function(){var eq,er;return new _0({$:0,$0:(eq=(er=bG.userO().Get(),er==null?null:{$:1,$0:er.$0.idToken.oid}),eq==null?"":eq.$0)});};m.formasPagoAliadoV=function(){_4.$cctor();return _4.formasPagoAliadoV;};o.FailWith=function(eq){throw new c2(eq);};o.toInt=function(eq){var er;er=o.toUInt(eq);return er>=2147483648?er-4294967296:er;};o.range=function(eq,er){var es;es=1+er-eq;return es<=0?[]:ba.init(es,function(et){return et+eq;});};o.toUInt=function(eq){return(eq<0?ej.ceil(eq):ej.floor(eq))>>>0;};o.KeyValue=function(eq){return[eq.K,eq.V];};p.Map=function(eq,er){return p.CreateLazy(function(){return _3.Map(eq,er());});};p.Sink=function(eq,er){function es(){_3.WhenRun(er(),eq,function(){cL.scheduler().Fork(es);});}cL.scheduler().Fork(es);};p.CreateLazy=function(eq){var er;er={c:null,o:eq};return function(){var es,et;es=er.c;return es===null?(es=er.o(),er.c=es,(et=es.s,et!=null&&et.$==0)?er.o=null:_3.WhenObsoleteRun(es,function(){er.c=null;}),es):es;};};p.Map2=function(eq,er,es){return p.CreateLazy(function(){return _3.Map2(eq,er(),es());});};p.Apply=function(eq,er){return p.Map2(function(es,et){return es(et);},eq,er);};p.Map3=function(eq,er,es,et){return p.CreateLazy(function(){return _3.Map3(eq,er(),es(),et());});};p.MapAsync=function(eq,er){return p.CreateLazy(function(){return _3.MapAsync(eq,er());});};p.GetAsync=function(eq){return cL.FromContinuations(function(er){return p.Get(er,eq);});};p.TryGet=function(eq){return _3.TryGet(eq());};p.Const=function(eq){var er;er=_3.New({$:0,$0:eq});return function(){return er;};};p.get_Do=function(){return cr.B;};p.Get=function(eq,er){var es;function et(){_3.WhenRun(er(),function(eu){if(!es[0]){es[0]=true;eq(eu);}},function(){if(!es[0])et();});}es=[false];et();};p.Bind=function(eq,er){return p.Join(p.Map(eq,er));};p.MapSeqCachedViewBy=function(eq,er,es){var et;et=[new bR.New$5()];return p.Map(function(eu){var ev,ew,ex;ev=et[0];ew=new bR.New$5();ex=cK.mapInPlace(function(ey){var ez,eA,eB;ez=eq(ey);eA=ev.ContainsKey(ez)?(eB=ev.get_Item(ez),(i.Set(eB.r,ey),eB)):p.ConvertSeqNode(function(eC){return er(ez,eC);},ey);ew.set_Item(ez,eA);return eA.e;},R.ofSeq(eu));et[0]=ew;return ex;},es);};p.Map2Unit=function(eq,er){return p.CreateLazy(function(){return _3.Map2Unit(eq(),er());});};p.Join=function(eq){return p.CreateLazy(function(){return _3.Join(eq());});};p.ConvertSeqNode=function(eq,er){var es,et;es=i.Create$1(er);et=es.get_View();return{e:eq(et),r:es,w:et};};p.MapSeqCachedBy=function(eq,er,es){var et;et=[new bR.New$5()];return p.Map(function(eu){var ev,ew,ex;ev=et[0];ew=new bR.New$5();ex=cK.mapInPlace(function(ey){var ez,eA;ez=eq(ey);eA=ev.ContainsKey(ez)?ev.get_Item(ez):er(ey);ew.set_Item(ez,eA);return eA;},R.ofSeq(eu));et[0]=ew;return ex;},es);};p.Sequence=function(eq){return p.CreateLazy(function(){return _3.Sequence(ba.map(function(er){return er();},eq));});};q=h.Var=ei.Class({},g,q);q.New=ei.Ctor(function(){g.New.call(this);},q);r.Create=function(eq){return $.New(false,eq,r.forceLazy);};r.forceLazy=function(){var eq;eq=this.v();this.c=true;this.v=eq;this.f=r.cachedLazy;return eq;};r.cachedLazy=function(){return this.v;};r.CreateFromValue=function(eq){return $.New(true,eq,r.cachedLazy);};s.aliados=function(){var eq,er,es,et,eu,ev,ew;function ex(eG){var eH,eI;eH=(eI=er.Get(),eI==null?null:{$:1,$0:eI.$0(eG)});return eH==null?[]:eH.$0;}function ey(eG){return eG.nReferidos===0?"-":(((ei.Curried3(function(eH,eI,eJ){return eH(a.String(eI)+"/"+a.String(eJ));}))(a.id))(eG.nRefActivos))(eG.nReferidos);}function ez(eG){return eG.nDescendientes===0?"-":(((ei.Curried3(function(eH,eI,eJ){return eH(a.String(eI)+"/"+a.String(eJ));}))(a.id))(eG.nDescActivos))(eG.nDescendientes);}function eA(eG){return eG===0?"-":m.money(eG);}function eB(eG){return p.Map(function(eH){return ba.isEmpty(ex(eG))?"":H.Equals(eH==null?null:{$:1,$0:eH.$0.Contains(eG)},{$:1,$0:true})?"Expandido":"Colapsado";},eq.get_View());}function eC(eG){var eH,eI,eJ;eq.Set({$:1,$0:((H.Equals((eH=eq.Get(),eH==null?null:{$:1,$0:eH.$0.Contains(eG)}),{$:1,$0:true})?function(eK){return function(eL){return eL.Remove(eK);};}:function(eK){return function(eL){return eL.Add(eK);};})(eG))((eI=eq.Get(),(eJ=new bf.New$1(null),eI==null?eJ:eI.$0)))});}function eD(eG){m.selAliadoIdOV().Set({$:1,$0:eG});}function eE(eG){var eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,e0,e1;function eU(e2){return e2.comision;}function eV(e2){return e2.status;}function eW(e2){return[e2.nRefActivos,e2.nReferidos];}function eX(e2){return[e2.nDescActivos,e2.nDescendientes];}function eY(e2){return M.nombre(e2.datosPersonales);}function eZ(e2){return ba.delay(function(){return ba.append([e2],ba.delay(function(){var e3,e4;return(e3=(e4=eq.Get(),e4==null?null:{$:1,$0:e4.$0.Contains(e2.id)}),e3==null?false:e3.$0)?ba.collect(eZ,e1.hijos(e2)):[];}));});}e0=(eH=(eI=(eJ=(eK=(eL=(ei.Curried3(bc.desc))(eU),eM=(ei.Curried3(bc.asc))(eV),ei.Curried(bc.op_AmpGreater,2,[function(e2,e3){return(eL(e2))(e3);},function(e2,e3){return(eM(e2))(e3);}])),eN=(ei.Curried3(bc.desc))(eW),ei.Curried(bc.op_AmpGreater,2,[function(e2,e3){return(eK(e2))(e3);},function(e2,e3){return(eN(e2))(e3);}])),eO=(ei.Curried3(bc.desc))(eX),ei.Curried(bc.op_AmpGreater,2,[function(e2,e3){return(eJ(e2))(e3);},function(e2,e3){return(eO(e2))(e3);}])),eP=(ei.Curried3(bc.asc))(eY),ei.Curried(bc.op_AmpGreater,2,[function(e2,e3){return(eI(e2))(e3);},function(e2,e3){return(eP(e2))(e3);}])),ba.sortWith(function(e2,e3){return(eH(e2))(e3);},eG));e1=M.busqueda(e0);er.Set({$:1,$0:e1.hijosDe});try{eR=ba.min(ba.map(function(e2){return e2.nivel;},e0));}catch(e2){eR=1;}eS=ba.filter(function(e3){return e3.nivel===eR;},e0);ba.isEmpty(eS)?eq.Set(null):eq.Get()==null?(eq.Set({$:1,$0:new bf.New(ba.map(function(e3){return e3.id;},eS))}),eT=ba.tryHead(ba.map(function(e3){return e3.id;},eS)),eT==null?void 0:eD(eT.$0)):void 0;return ba.delay(function(){return ba.collect(eZ,eS);});}function eF(eG,eH){var eI,eJ,eK,eL,eM,eN;return(eI=(eJ=(eK=(eL=eB(eG),S.Make().WithHole({$:2,$0:"nombre",$1:p.Map(function(eO){return M.nombre(eO.datosPersonales);},eH)}).WithHole({$:2,$0:"status",$1:p.Map(function(eO){return(function(eP){return function(eQ){return eP(V.p$1(eQ));};}(a.id))(eO.status);},eH)}).WithHole({$:2,$0:"tipo",$1:p.Map(function(eO){return(function(eP){return function(eQ){return eP(V.p$2(eQ));};}(a.id))(eO.tipo);},eH)}).WithHole({$:2,$0:"nivel",$1:p.Map(function(eO){return a.String(eO.nivel);},eH)}).WithHole({$:2,$0:"referidos",$1:p.Map(ey,eH)}).WithHole({$:2,$0:"descendientes",$1:p.Map(ez,eH)}).WithHole({$:2,$0:"comision",$1:p.Map(function(eO){return eA(eO.comision);},eH)}).WithHole({$:2,$0:"expandido",$1:eL})),eK.WithHole(T.EventQ2(eK.k,"expandir",function(){return eK.i;},function(){eC(eG);}))).WithHole({$:2,$0:"seleccionado",$1:p.Map(function(eO){return H.Equals({$:1,$0:eG},eO)?"seleccionado":"";},m.selAliadoIdOV().get_View())}),eJ.WithHole(T.EventQ2(eJ.k,"seleccionar",function(){return eJ.i;},function(){eD(eG);}))),(eM=T.CompleteHoles(eI.k,eI.h,[]),(eN=new Q.New(eM[1],U.filaaliado(eM[0])),(eI.i=eN,eN)))).get_Doc();}eq=i.Create$1(null);er=i.Create$1(null);return(es=(et=Y.ConvertSeqBy(function(eG){return eG.id;},function(eG){return function(eH){return eF(eG,eH);};},(eu=p.Map(function(eG){return eG.aliados;},m.modeloV().get_View()),p.Map2(function(eG,eH){return eE(eH);},eq.get_View(),eu))),S.Make().WithHole({$:0,$0:"tbody",$1:et})),(ev=T.CompleteHoles(es.k,es.h,[]),(ew=new Q.New(ev[1],U.tablaaliados(ev[0])),(es.i=ew,ew)))).get_Doc();};t.aliado=function(){function eq(er){var es;es=ba.tryPick(function(et){return et.$==1?{$:1,$0:et.$0.email}:null;},er.contactos);return es==null?"correo no encontrado!":es.$0;}return m.selAliadoIdDoc(function(er){var es,et,eu,ev;return(es=(et=t.calculo(),S.Make().WithHole({$:2,$0:"nombre",$1:p.Map(function(ew){return M.nombre2(ew.datosPersonales);},er)}).WithHole({$:2,$0:"status",$1:p.Map(function(ew){return(function(ex){return function(ey){return ex(V.p$1(ey));};}(a.id))(ew.status);},er)}).WithHole({$:2,$0:"tipo",$1:p.Map(function(ew){return(function(ex){return function(ey){return ex(V.p$2(ey));};}(a.id))(ew.tipo);},er)}).WithHole({$:2,$0:"contacto",$1:p.Map(eq,er)}).WithHole({$:0,$0:"calculo",$1:et})),(eu=T.CompleteHoles(es.k,es.h,[]),(ev=new Q.New(eu[1],U.aliado(eu[0])),(es.i=ev,ev)))).get_Doc();});};t.calculo=function(){var eq,er;eq=p.Map(function(es){return es.premisas;},m.modeloV().get_View());er=p.Map(function(es){return es.aliados;},m.modeloV().get_View());p.Map2(function(es,et){return ba.tryFind(function(eu){return H.Equals(eu.id,es);},et);},p.Map(function(es){return es.idAliado;},m.modeloV().get_View()),er);return m.selAliadoIdDoc(function(es){var et,eu,ev,ew,ex;et=p.Map2(M.comision,eq,es);eu=p.Map2(M.premisas,eq,es);return(ev=S.Make().WithHole({$:2,$0:"referidos",$1:p.Map(function(ey){return(function(ez){return function(eA){return ez(a.String(eA));};}(a.id))(ey.nReferidos);},es)}).WithHole({$:2,$0:"refactivos",$1:p.Map(function(ey){return(function(ez){return function(eA){return ez(a.String(eA));};}(a.id))(ey.nRefActivos);},es)}).WithHole({$:2,$0:"comreferido",$1:p.Map(function(ey){return(function(ez){return function(eA){return ez(a.String(eA));};}(a.id))(ey.nRefActivos);},es)}).WithHole({$:2,$0:"descendientes",$1:p.Map(function(ey){return(function(ez){return function(eA){return ez(a.String(eA));};}(a.id))(ey.nDescendientes);},es)}).WithHole({$:2,$0:"desactivos",$1:p.Map(function(ey){return(function(ez){return function(eA){return ez(a.String(eA));};}(a.id))(ey.nDescActivos);},es)}).WithHole({$:2,$0:"comision",$1:p.Map(function(ey){return m.money(ey[0]+ey[1]);},et)}).WithHole({$:2,$0:"comreferido",$1:p.Map(function(ey){return m.money(ey[0]);},et)}).WithHole({$:2,$0:"comdescendiente",$1:p.Map(function(ey){return m.money(ey[1]);},et)}).WithHole({$:2,$0:"porreferido",$1:p.Map(function(ey){return m.money(ey[0]);},eu)}).WithHole({$:2,$0:"pordescendiente",$1:p.Map(function(ey){return m.money(ey[1]);},eu)}),(ew=T.CompleteHoles(ev.k,ev.h,[]),(ex=new Q.New(ew[1],U.calculo(ew[0])),(ev.i=ex,ex)))).get_Doc();});};u.formaDoc=function(){var eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE;eq=i.Create$1("");er=i.Create$1(false);es=i.Create$1(null);et=i.Create$1(null);eu=i.Create$1(null);ev=i.Create$1(null);ew=bj.formaDoc(es);ex=bk.formaDoc(et);ey=bl.formaDoc(eu);ez=bm.formaDoc(ev);eA=(eB=(eC=S.Make().WithHole({$:2,$0:"mensajes",$1:p.Map2(function(eF,eG){return eF?eG:"";},er.get_View(),eq.get_View())}).WithHole({$:0,$0:"datospersonales",$1:ew[1]}).WithHole({$:0,$0:"correo",$1:ex[1]}).WithHole({$:0,$0:"telefono",$1:ey[1]}).WithHole({$:0,$0:"direccion",$1:ez[1]}),eC.WithHole(T.EventQ2(eC.k,"registrarse",function(){return eC.i;},function(){var eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP;er.Set(true);eF=eq.Get();bh.Trim(eF)!==""?a.alert(eF):(eG=es.Get(),eH=et.Get(),eI=eu.Get(),eJ=ev.Get(),eG!=null&&eG.$==1&&(eH!=null&&eH.$==1&&(eI!=null&&eI.$==1&&(eJ!=null&&eJ.$==1&&(eK=[eH.$0,eG.$0,eJ.$0,eI.$0],true))))?(eL=eK[0],eM=eK[1],eN=eK[2],eO=eK[3],Z.iterA((eP=bn.asyncResult(),eP.Run(eP.Delay(function(){var eQ;return eP.Bind$1(Z.ejecutarDataEventoNuevo({$:3,$0:[new _0({$:0,$0:bh.Substring(bh.Replace((eQ=br.NewGuid(),a.String(eQ)),"-",""),0,20)}),eM,{$:1,$0:m.modeloV().Get().idAliado},[{$:1,$0:eL},{$:2,$0:eO},{$:0,$0:eN}]]}),function(eR){bp.refrescarData(true);a.alert((function(eS){return function(eT){return eS(V.p$13(eT));};}(a.id))(eR));return eP.Zero();});}))))):a.alert("Error not caught FormaRegistro"));}))),(eD=T.CompleteHoles(eB.k,eB.h,[]),(eE=new Q.New(eD[1],U.formaregistro(eD[0])),(eB.i=eE,eE))));p.Sink(function(eF){eq.Set(eF);},p.Apply(p.Apply(p.Map2(function(eF,eG){return function(eH){return function(eI){var eJ;eJ=bh.concat(", ",ba.delay(function(){return ba.append(eF,ba.delay(function(){return ba.append(eG,ba.delay(function(){return ba.append(eH,ba.delay(function(){return eI;}));}));}));}));return eJ!==""?"Campos requeridos: "+eJ:"";};};},ew[0],ex[0]),ey[0]),ez[0]));return eA.get_Doc();};v.formaDoc=function(){return m.aliadoIdDoc(v.formaAliado);};v.formaAliado=function(eq){var er,es,et,eu,ev,ew,ex,ey,ez;function eA(eC){return{$:1,$0:eC};}function eB(eC){et.Set(eC);}er=i.Create$1("");es=i.Create$1(false);et=i.Create$1(null);p.Sink(function(eC){return eB(eA(eC));},p.Map(function(eC){return eC.datosPersonales;},eq));eu=bj.formaDoc(et);ev=(ew=(ex=S.Make().WithHole({$:2,$0:"mensajes",$1:p.Map2(function(eC,eD){return eC?eD:"";},es.get_View(),er.get_View())}).WithHole({$:2,$0:"changed",$1:p.Map2(function(eC,eD){return H.Equals({$:1,$0:eC.datosPersonales},eD)?"":"mui-btn--primary";},eq,et.get_View())}).WithHole({$:0,$0:"datospersonales",$1:eu[1]}),ex.WithHole(T.EventQ2(ex.k,"salvar",function(){return ex.i;},function(){var eC,eD,eE,eF,eG,eH,eI;es.Set(true);eC=er.Get();bh.Trim(eC)!==""?a.alert(eC):(eD=et.Get(),eE=p.TryGet(eq),eD!=null&&eD.$==1&&(eE!=null&&eE.$==1&&(eF=[eE.$0,eD.$0],true))?(eG=eF[0],eH=eF[1],Z.iterA((eI=bn.asyncResult(),eI.Run(eI.Delay(function(){return eI.Bind$1(Z.ejecutarDataEventoNuevo({$:4,$0:[eG.id,eH]}),function(eJ){bp.refrescarData(true);a.alert((function(eK){return function(eL){return eK(V.p$13(eL));};}(a.id))(eJ));return eI.Zero();});}))))):a.alert("Error not caught FormaDatos"));}))),(ey=T.CompleteHoles(ew.k,ew.h,[]),(ez=new Q.New(ey[1],U.formadatospersonales(ey[0])),(ew.i=ez,ez))));p.Sink(function(eC){er.Set(eC);},p.Map(function(eC){var eD;eD=bh.concat(", ",ba.delay(function(){return eC;}));return eD!==""?"Campos requeridos: "+eD:"";},eu[0]));return ev.get_Doc();};w.formaDoc=function(){return m.aliadoIdDoc(w.formaContactos);};w.formaContactos=function(eq){var er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK;function eL(eM,eN){return function(eO){return new cJ.New(p.Map(function(eP){var eQ;eQ=ba.tryItem(eO,eP);return eQ==null?null:eM(eQ.$0);},et.get_View()),function(eP){if(eP!=null&&eP.$==1)et.Set(cD.replace(eO,eN(eP.$0),et.Get()));});};}er=i.Create$1("");es=i.Create$1(false);et=i.Create$1([]);p.Sink(function(eM){et.Set(eM);},p.Map(function(eM){return eM.contactos;},eq));eu=p.Map(ba.indexed,et.get_View());ev=[function(eM){return eM.$==2?{$:1,$0:eM.$0}:null;},function(eM){return{$:2,$0:eM};}];ew=[function(eM){return eM.$==1?{$:1,$0:eM.$0}:null;},function(eM){return{$:1,$0:eM};}];ex=[function(eM){return eM.$==0?{$:1,$0:eM.$0}:null;},function(eM){return{$:0,$0:eM};}];ey=p.Map(function(eM){function eN(eO,eP){return ev[0](eP)==null?null:{$:1,$0:eO};}return ba.choose(function(eO){return eN(eO[0],eO[1]);},eM);},eu);ez=p.Map(function(eM){function eN(eO,eP){return ew[0](eP)==null?null:{$:1,$0:eO};}return ba.choose(function(eO){return eN(eO[0],eO[1]);},eM);},eu);eA=p.Map(function(eM){function eN(eO,eP){return ex[0](eP)==null?null:{$:1,$0:eO};}return ba.choose(function(eO){return eN(eO[0],eO[1]);},eM);},eu);eB=Y.ConvertBy(a.id,function(eM){return bt.removeButton(function(){et.Set(cD.remove(eM,et.Get()));},(bl.formaDoc((function(eN){return eL(eN[0],eN[1]);}(ev))(eM)))[1]);},ey);eC=Y.ConvertBy(a.id,function(eM){return bt.removeButton(function(){et.Set(cD.remove(eM,et.Get()));},(bk.formaDoc((function(eN){return eL(eN[0],eN[1]);}(ew))(eM)))[1]);},ez);eD=Y.ConvertBy(a.id,function(eM){return bt.removeButton(function(){et.Set(cD.remove(eM,et.Get()));},(bm.formaDoc((function(eN){return eL(eN[0],eN[1]);}(ex))(eM)))[1]);},eA);return(eE=(eF=(eG=(eH=(eI=S.Make().WithHole({$:2,$0:"mensajes",$1:p.Map2(function(eM,eN){return eM?eN:"";},es.get_View(),er.get_View())}).WithHole({$:2,$0:"changed",$1:p.Map2(function(eM,eN){return H.Equals(eM.contactos,eN)?"":"mui-btn--primary";},eq,et.get_View())}).WithHole({$:0,$0:"telefonos",$1:eB}).WithHole({$:0,$0:"correos",$1:eC}).WithHole({$:0,$0:"direcciones",$1:eD}),eI.WithHole(T.EventQ2(eI.k,"mastelefono",function(){return eI.i;},function(){et.Set(et.Get().concat([{$:2,$0:K.telVacio()}]));}))),eH.WithHole(T.EventQ2(eH.k,"mascorreo",function(){return eH.i;},function(){et.Set(et.Get().concat([{$:1,$0:K.correoVacio()}]));}))),eG.WithHole(T.EventQ2(eG.k,"masdireccion",function(){return eG.i;},function(){et.Set(et.Get().concat([{$:0,$0:K.dirVacio()}]));}))),eF.WithHole(T.EventQ2(eF.k,"salvar",function(){return eF.i;},function(){var eM,eN,eO,eP;es.Set(true);eM=er.Get();bh.Trim(eM)!==""?a.alert(eM):(eN=p.TryGet(eq),eN!=null&&eN.$==1?(eO=eN.$0,Z.iterA((eP=bn.asyncResult(),eP.Run(eP.Delay(function(){return eP.Bind$1(Z.ejecutarDataEventoNuevo({$:5,$0:[eO.id,et.Get()]}),function(eQ){bp.refrescarData(true);a.alert((function(eR){return function(eS){return eR(V.p$13(eS));};}(a.id))(eQ));return eP.Zero();});}))))):a.alert("Error not caught FormaDatos"));}))),(eJ=T.CompleteHoles(eE.k,eE.h,[]),(eK=new Q.New(eJ[1],U.formacontactos(eJ[0])),(eE.i=eK,eK)))).get_Doc();};x.formaDoc=function(){return m.aliadoIdDoc(x.formaFormasPago);};x.formaFormasPago=function(eq){var er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE;function eF(eK,eL){return function(eM){return new cJ.New(p.Map(function(eN){var eO;eO=ba.tryItem(eM,eN);return eO==null?null:eK(eO.$0);},et.get_View()),function(eN){var eO;if(eN!=null&&eN.$==1){eO=eN.$0;et.Set(cD.replace(eM,(eL(R.get(et.Get(),eM)))(bt.fst3(eO[0],eO[1],eO[2])),et.Get()));}});};}function eG(eK){var eL;Z.iterA((eL=bn.asyncResult(),eL.Run(eL.Delay(function(){return eL.Bind(eK.authorizeIdR,function(eM){return eL.Bind$1(Z.validarFormaPago(eM),function(eN){a.alert(eN);return eL.Zero();});});}))));}function eH(eK,eL){return bt.removeButton(function(){et.Set(cD.remove(eK,et.Get()));},Y.Concat(bx.ofSeq(ba.delay(function(){return ba.append([Y.Button("AUTORIZAR DEBITO",[cV.Create("title","Autorizar pago recurrente"),cN.Dynamic("style",p.Map(function(eM){return R.get(eM,eK).authorizeIdR.$==0?"":"display:None";},et.get_View()))],function(){var eM,eN,eO,eP;eN=R.get(et.Get(),eK).authorizeIdR;eO=R.get(et.Get(),eK).cuentaPago;switch(eN.$==0?eO.$==0?(eM=[eN.$0,eO.$0.titular],1):eO.$==1?(eM=[eN.$0,eO.$0.titular],1):2:(eM=eN.$0,0)){case 0:a.alert("Pago no está verificado en Authorize: "+eM);break;case 1:eP=eL();B.cuentaAutorizar().Set(eP);B.titular().Set(eM[1]);B.set_pid(eM[0]);m.endPointV().Set({$:3,$0:"ProzperLyt.cntAutorizacion"});break;case 2:a.alert("Autorizacion no esta implementada");break;}})],ba.delay(function(){return ba.append([Y.Element("br",[],[])],ba.delay(function(){return ba.append([eL()],ba.delay(function(){return[Y.Button("validar",[cV.Create("title","validar forma de pago"),cN.Dynamic("style",p.Map(function(eM){return R.get(eM,eK).authorizeIdR.$==0?"":"display:None";},et.get_View()))],function(){eG(R.get(et.Get(),eK));})];}));}));}));}))));}function eI(eK){return bB.New("",bb.Error$1(""),eK);}function eJ(eK){return new bf.New(ba.choose(function(eL){var eM;eM=eL.authorizeIdR;return eM.$==0?{$:1,$0:eM.$0}:null;},eK));}er=i.Create$1("");es=i.Create$1(false);et=i.Create$1([]);p.Sink(function(eK){et.Set(eK);},m.formasPagoAliadoV().get_View());x.refrescarFormasPago();eu=p.Map(ba.indexed,et.get_View());ev=p.Map(function(eK){function eL(eM,eN){return(x.ftar())[0](eN)==null?null:{$:1,$0:eM};}return ba.choose(function(eM){return eL(eM[0],eM[1]);},eK);},eu);ew=p.Map(function(eK){function eL(eM,eN){return(x.fcta())[0](eN)==null?null:{$:1,$0:eM};}return ba.choose(function(eM){return eL(eM[0],eM[1]);},eK);},eu);ex=Y.ConvertBy(a.id,function(eK){var eL;return eH(eK,(eL=(function(eM){return eF(eM[0],eM[1]);}(x.ftar()))(eK),function(){return(cH.formaDocO(eL))[1];}));},ev);ey=Y.ConvertBy(a.id,function(eK){var eL;return eH(eK,(eL=(function(eM){return eF(eM[0],eM[1]);}(x.fcta()))(eK),function(){return(cG.formaDocO(eL))[1];}));},ew);return(ez=(eA=(eB=(eC=S.Make().WithHole({$:2,$0:"mensajes",$1:p.Map2(function(eK,eL){return eK?eL:"";},es.get_View(),er.get_View())}).WithHole({$:0,$0:"tarjetas",$1:ex}).WithHole({$:0,$0:"cuentas",$1:ey}),eC.WithHole(T.EventQ2(eC.k,"mastarjeta",function(){return eC.i;},function(){et.Set(et.Get().concat([eI({$:1,$0:K.tarVacio()})]));}))),eB.WithHole(T.EventQ2(eB.k,"mascuenta",function(){return eB.i;},function(){et.Set(et.Get().concat([eI({$:0,$0:K.ctaVacio()})]));}))).WithHole({$:2,$0:"changed",$1:p.Map2(function(eK,eL){return H.Equals(eK,eL)?"":"mui-btn--primary";},m.formasPagoAliadoV().get_View(),et.get_View())}),eA.WithHole(T.EventQ2(eA.k,"salvar",function(){return eA.i;},function(){var eK,eL,eM;es.Set(true);eK=er.Get();bh.Trim(eK)!==""?a.alert(eK):(eL=p.TryGet(eq),eL!=null&&eL.$==1?Z.iterA((eM=bn.asyncResult(),eM.Run(eM.Delay(function(){return eM.Combine$1(eM.For(bf.op_Subtraction(eJ(m.formasPagoAliadoV().Get()),eJ(et.Get())),function(eN){return eM.Bind$1(Z.borrarFormaPago(eN),function(){return eM.Zero();});}),eM.Delay(function(){return eM.Combine$1(eM.For(et.Get(),function(eN){var eO,eP,eQ,eR;eO=(eP=eN.cuentaPago,eP.$==1&&(!(eP.$0.numero.get_Id().indexOf("X")!=-1)&&(eQ=eP.$0,true))?{$:1,$0:Z.registrarTarjeta(eQ)}:eP.$==0&&(!(eP.$0.numero.get_Id().indexOf("X")!=-1)&&(eR=eP.$0,true))?{$:1,$0:Z.registrarCuenta(eR)}:null);return eO!=null&&eO.$==1?eM.Bind$1(eO.$0,function(){return eM.Zero();}):eM.Zero();}),eM.Delay(function(){x.refrescarFormasPago();return eM.Zero();}));}));})))):a.alert("Error not caught FormaDatos"));}))),(eD=T.CompleteHoles(ez.k,ez.h,[]),(eE=new Q.New(eD[1],U.formacuentas(eD[0])),(ez.i=eE,eE)))).get_Doc();};x.msg=function(eq){var er;er=eq.authorizeIdR;return er.$==0?(function(es){return function(et){return es("Cuenta verificada: "+V.p$14(et));};}(a.id))(er.$0):er.$0===""?"La cuenta aun no ha sido verificada":er.$0;};x.refrescarFormasPago=function(){Z.iterA(cB.map(function(eq){m.formasPagoAliadoV().Set(eq);},Z.obtenerFormasDePago()));};x.fcta=function(){_4.$cctor();return _4.fcta;};x.ftar=function(){_4.$cctor();return _4.ftar;};y.consolidado=function(){var eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL;function eM(e1){return e1.nReferidos===0?"-":(((ei.Curried3(function(e2,e3,e4){return e2(a.String(e3)+"/"+a.String(e4));}))(a.id))(e1.nRefActivos))(e1.nReferidos);}function eN(e1){return e1.nDescendientes===0?"-":(((ei.Curried3(function(e2,e3,e4){return e2(a.String(e3)+"/"+a.String(e4));}))(a.id))(e1.nDescActivos))(e1.nDescendientes);}function eO(e1){return e1===0?"-":m.money(e1);}function eP(e1){var e2,e3,e4;e2=(e3=e1==null?null:(e4=e1.$0,ba.tryFind(function(e5){return H.Equals(e5.id,e4);},m.modeloV().Get().aliados)),e3==null?null:{$:1,$0:M.nombre(e3.$0.datosPersonales)});return e2==null?"-":e2.$0;}function eQ(e1){var e2;return bs.New(M.nombre(e1.datosPersonales),(function(e3){return function(e4){return e3(V.p$1(e4));};}(a.id))(e1.status),(e2=e1.influyente,e2==null?"":e2.$0),(function(e3){return function(e4){return e3(V.p$2(e4));};}(a.id))(e1.tipo),eP(e1.idPadreO),(function(e3){return function(e4){return e3(bh.PadLeft(a.String(e4),9));};}(a.id))(e1.nivel),(function(e3){return function(e4){return e3(bh.PadLeft(bv.toSafe(e4),9));};}(a.id))(eM(e1)),(function(e3){return function(e4){return e3(bh.PadLeft(bv.toSafe(e4),9));};}(a.id))(eN(e1)),(function(e3){return function(e4){return e3(bh.PadLeft(bv.toSafe(e4),9));};}(a.id))(eO(e1.comision)),bb["String.Right$1"]((function(e3){return function(e4){return e3(V.p$15(e4));};}(a.id))(e1.diaPago),2),bw.toYYYYMMDD("-",e1.fechaRegistro),(function(e3){return function(e4){return e3(bv.toSafe(e4));};}(a.id))(e1.id.get_Id()));}function eR(e1){return[e1.nombre,e1.status,e1.influyente,e1.tipo,e1.referido,e1.nivel,e1.referidos,e1.descendientes,e1.comision,e1.diaPago,e1.desde,e1.Id];}function eS(e1,e2,e3){return function(e4){var e5;e5=e4[0];return[e5===e1?1:e5<e1?e5+1:e5,e1===e5&&e1===1?!e4[1]:e4[1],e4[2]];};}function eT(e1){er.Set(bs.New((function(e2){return eS(e2[0],e2[1],e2[2]);}(e1))(er.Get().nombre),(function(e2){return eS(e2[0],e2[1],e2[2]);}(e1))(er.Get().status),(function(e2){return eS(e2[0],e2[1],e2[2]);}(e1))(er.Get().influyente),(function(e2){return eS(e2[0],e2[1],e2[2]);}(e1))(er.Get().tipo),(function(e2){return eS(e2[0],e2[1],e2[2]);}(e1))(er.Get().referido),(function(e2){return eS(e2[0],e2[1],e2[2]);}(e1))(er.Get().nivel),(function(e2){return eS(e2[0],e2[1],e2[2]);}(e1))(er.Get().referidos),(function(e2){return eS(e2[0],e2[1],e2[2]);}(e1))(er.Get().descendientes),(function(e2){return eS(e2[0],e2[1],e2[2]);}(e1))(er.Get().comision),(function(e2){return eS(e2[0],e2[1],e2[2]);}(e1))(er.Get().diaPago),(function(e2){return eS(e2[0],e2[1],e2[2]);}(e1))(er.Get().desde),(function(e2){return eS(e2[0],e2[1],e2[2]);}(e1))(er.Get().Id)));}function eU(e1,e2){return eq.Set(R.map(function(e3){return H.Equals(e3.id,e1)?e2(e3):e3;},eq.Get()));}function eV(e1,e2){return eU(e1,function(e3){return L.New(e3.id,e3.idPadreO,e3.idForAuthorize,e3.influyente,e3.datosPersonales,e3.contactos,e3.identificacion,e3.isInternal,bu.tryParse(e2),e3.diaPago,e3.tipo,e3.fechaRegistro,e3.fechaStatus,e3.nReferidos,e3.nRefActivos,e3.nDescendientes,e3.nDescActivos,e3.comision,e3.nivel);});}function eW(e1,e2){return eU(e1,function(e3){return L.New(e3.id,e3.idPadreO,e3.idForAuthorize,bh.Trim(e2)===""?null:{$:1,$0:bh.Trim(e2)},e3.datosPersonales,e3.contactos,e3.identificacion,e3.isInternal,e3.status,e3.diaPago,e3.tipo,e3.fechaRegistro,e3.fechaStatus,e3.nReferidos,e3.nRefActivos,e3.nDescendientes,e3.nDescActivos,e3.comision,e3.nivel);});}function eX(e1,e2){var e3;e3=e2===""?null:{$:1,$0:new _0({$:0,$0:e2})};return eU(e1,function(e4){return L.New(e4.id,e3,e4.idForAuthorize,e4.influyente,e4.datosPersonales,e4.contactos,e4.identificacion,e4.isInternal,e4.status,e4.diaPago,e4.tipo,e4.fechaRegistro,e4.fechaStatus,e4.nReferidos,e4.nRefActivos,e4.nDescendientes,e4.nDescActivos,e4.comision,e4.nivel);});}function eY(e1){return ba.tryFind(function(e2){return H.Equals(e2.id,e1);},m.modeloV().Get().aliados);}function eZ(){var e1;Z.iterA((e1=bn.asyncResult(),e1.Run(e1.Delay(function(){return e1.Combine$1(e1.For(eq.Get(),function(e2){var e3,e4;e3=eY(e2.id);return e3!=null&&e3.$==1?(e4=e3.$0,!H.Equals(e2.status,e4.status)||!H.Equals(e2.idPadreO,e4.idPadreO)||!H.Equals(e2.influyente,e4.influyente)?e1.Bind$1(Z.ejecutarDataEventoNuevo({$:8,$0:[e2.id,e2.status,e2.idPadreO,e2.influyente]}),function(){return e1.Zero();}):e1.Zero()):e1.Zero();}),e1.Delay(function(){bp.refrescarData(true);return e1.Zero();}));}))));}function e0(e1,e2){var e3,e4,e5,e6,e7,e8,e9,e_,e$,fa;return(e3=(e4=Y.BindView(bt.crearOptions,bt.statuses().get_View()),(e5=new cJ.New(p.Map(function(fb){return fb.influyente;},e2),(e6=new _0({$:0,$0:e1}),function(fb){return eW(e6,fb);})),(e7=new cJ.New(p.Map(function(fb){return fb.status;},e2),(e8=new _0({$:0,$0:e1}),function(fb){return eV(e8,fb);})),(e9=new cJ.New(p.Map(function(fb){return fb.referido;},e2),(e_=new _0({$:0,$0:e1}),function(fb){return eX(e_,fb);})),S.Make().WithHole({$:2,$0:"nombre",$1:p.Map(function(fb){return fb.nombre;},e2)}).WithHole({$:2,$0:"tipo",$1:p.Map(function(fb){return fb.tipo;},e2)}).WithHole({$:8,$0:"referido",$1:e9})).WithHole({$:8,$0:"status",$1:e7})).WithHole({$:8,$0:"influyente",$1:e5})).WithHole({$:0,$0:"statuses",$1:e4})).WithHole({$:2,$0:"nivel",$1:p.Map(function(fb){return fb.nivel;},e2)}).WithHole({$:2,$0:"referidos",$1:p.Map(function(fb){return fb.referidos;},e2)}).WithHole({$:2,$0:"descendientes",$1:p.Map(function(fb){return fb.descendientes;},e2)}).WithHole({$:2,$0:"comision",$1:p.Map(function(fb){return fb.comision;},e2)}).WithHole({$:2,$0:"diapago",$1:p.Map(function(fb){return fb.diaPago;},e2)}).WithHole({$:2,$0:"desde",$1:p.Map(function(fb){return fb.desde;},e2)}).WithHole({$:2,$0:"id",$1:p.Map(function(fb){return fb.Id;},e2)}),(e$=T.CompleteHoles(e3.k,e3.h,[["influyente",0],["status",0],["referido",0]]),(fa=new Q.New(e$[1],U.filaconsolidado(e$[0])),(e3.i=fa,fa)))).get_Doc();}eq=i.Create$1([]);p.Sink(function(e1){eq.Set(e1);},p.Map(function(e1){return e1.aliados;},m.modeloV().get_View()));er=i.Create$1(bs.New([2,true,function(e1){return e1.nombre.toUpperCase();}],[3,true,function(e1){return e1.status.toUpperCase();}],[4,false,function(e1){return e1.influyente.toUpperCase();}],[5,true,function(e1){return e1.tipo.toUpperCase();}],[6,true,function(e1){return e1.referido.toUpperCase();}],[7,true,function(e1){return e1.nivel.toUpperCase();}],[8,true,function(e1){return e1.referidos.toUpperCase();}],[1,false,function(e1){return e1.descendientes.toUpperCase();}],[9,true,function(e1){return e1.comision.toUpperCase();}],[10,true,function(e1){return e1.diaPago.toUpperCase();}],[11,true,function(e1){return e1.desde.toUpperCase();}],[12,true,function(e1){return e1.Id.toUpperCase();}]));es=i.Create$1("");et=Y.BindView(function(e1){return bt.crearOptions2(ba.map(function(e2){return[M.nombre2(e2.datosPersonales),e2.id.get_Id()];},e1.aliados));},m.modeloV().get_View());return(eu=(ev=Y.ConvertSeqBy(function(e1){return e1.Id;},function(e1){return function(e2){return e0(e1,e2);};},p.Map3(function(e1,e2,e3){var e4,e5,e6;function e7(e_,e$,fa){return fa;}function e8(e_,e$,fa,fb){return bc.op_AmpGreater(function(fc,fd){return(e_(fc))(fd);},function(fc,fd){return(e$(fc))(fd);},fa,fb);}function e9(e_,e$,fa){return(e$?ei.Curried3(bc.asc):ei.Curried3(bc.desc))(fa);}e4=bh.Trim(e3).toUpperCase();e5=R.map(function(e_){return e7(e_[0],e_[1],e_[2]);},eR(e2));e6=R.reduce(function(e_,e$){return ei.Curried(e8,2,[e_,e$]);},R.map(function(e_){return e9(e_[0],e_[1],e_[2]);},R.sortBy(function(e_){return a.id(e_[0],e_[1],e_[2]);},eR(e2))));return ba.sortWith(function(e_,e$){return(e6(e_))(e$);},ba.filter(function(e_){return e4===""||ba.exists(function(e$){return e$(e_).indexOf(e4)!=-1;},e5);},ba.map(eQ,e1)));},p.Map(function(e1){return e1.aliados;},m.modeloV().get_View()),er.get_View(),es.get_View())),(ew=(ex=(ey=(ez=(eA=(eB=(eC=(eD=(eE=(eF=(eG=(eH=(eI=(eJ=S.Make(),eJ.WithHole(T.EventQ2(eJ.k,"salvar",function(){return eJ.i;},function(){eZ();}))),eI.WithHole(T.EventQ2(eI.k,"cancelar",function(){return eI.i;},function(){eq.Set(m.modeloV().Get().aliados);}))).WithHole({$:2,$0:"changed",$1:p.Map2(function(e1,e2){return H.Equals(e1.aliados,e2)?"":"mui-btn--primary";},m.modeloV().get_View(),eq.get_View())}).WithHole({$:8,$0:"filtro",$1:es}).WithHole({$:0,$0:"referidores",$1:et}),eH.WithHole(T.EventQ2(eH.k,"sort_nombre",function(){return eH.i;},function(){eT(er.Get().nombre);}))),eG.WithHole(T.EventQ2(eG.k,"sort_status",function(){return eG.i;},function(){eT(er.Get().status);}))),eF.WithHole(T.EventQ2(eF.k,"sort_influyente",function(){return eF.i;},function(){eT(er.Get().influyente);}))),eE.WithHole(T.EventQ2(eE.k,"sort_tipo",function(){return eE.i;},function(){eT(er.Get().tipo);}))),eD.WithHole(T.EventQ2(eD.k,"sort_referido",function(){return eD.i;},function(){eT(er.Get().referido);}))),eC.WithHole(T.EventQ2(eC.k,"sort_nivel",function(){return eC.i;},function(){eT(er.Get().nivel);}))),eB.WithHole(T.EventQ2(eB.k,"sort_referidos",function(){return eB.i;},function(){eT(er.Get().referidos);}))),eA.WithHole(T.EventQ2(eA.k,"sort_descendientes",function(){return eA.i;},function(){eT(er.Get().descendientes);}))),ez.WithHole(T.EventQ2(ez.k,"sort_comision",function(){return ez.i;},function(){eT(er.Get().comision);}))),ey.WithHole(T.EventQ2(ey.k,"sort_diapago",function(){return ey.i;},function(){eT(er.Get().diaPago);}))),ex.WithHole(T.EventQ2(ex.k,"sort_desde",function(){return ex.i;},function(){eT(er.Get().desde);}))),ew.WithHole(T.EventQ2(ew.k,"sort_id",function(){return ew.i;},function(){eT(er.Get().Id);}))).WithHole({$:0,$0:"tbody",$1:ev})),(eK=T.CompleteHoles(eu.k,eu.h,[["filtro",0]]),(eL=new Q.New(eK[1],U.consolidado(eK[0])),(eu.i=eL,eL)))).get_Doc();};z.comisiones=function(){var eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB;function eC(eG,eH){return eH===""?eG:eH;}function eD(){var eG;cL.Start((eG=null,cL.Delay(function(){return cL.Bind(p.GetAsync(eq),function(eH){a.saveAs(new cM([bh.concat("\r\n",ba.map(function(eI){var eJ,eK;eJ=eI[0];eK=eI[1];return(((((((ei.Curried(function(eL,eM,eN,eO,eP,eQ,eR){return eL(bv.toSafe(eM)+","+bv.toSafe(eN)+","+bv.toSafe(eO)+","+bv.toSafe(eP)+","+bv.prettyPrint(eQ)+","+bv.prettyPrint(eR));},7))(a.id))("22"))(eC("----------",eK.numero.get_Id())))(eC("----------",eK.routing.get_Id())))((function(eL){return function(eM){return eL(a.String(eM)+".00");};}(a.id))(eJ.comision)))("----------"))(eK.titular===""?M.nombre2(eJ.datosPersonales):eK.titular);},eH))],{type:"text/plain;charset=utf-8"}),"pagos.csv");return cL.Zero();});})),null);}function eE(eG,eH){return eG.id;}function eF(eG,eH){var eI,eJ,eK,eL,eM;eI=p.Map(function(eN){return eN[0];},eH);eJ=p.Map(function(eN){return eN[1];},eH);return(eK=S.Make().WithHole({$:1,$0:"codigo",$1:"22"}).WithHole({$:2,$0:"cuenta",$1:p.Map(function(eN){return eC("----------",eN.numero.get_Id());},eJ)}).WithHole({$:2,$0:"aba",$1:p.Map(function(eN){return eC("----------",eN.routing.get_Id());},eJ)}).WithHole({$:2,$0:"monto",$1:p.Map(function(eN){return(function(eO){return function(eP){return eO(a.String(eP)+".00");};}(a.id))(eN.comision);},eI)}).WithHole({$:1,$0:"identificacion",$1:"---------"}).WithHole({$:2,$0:"nombre",$1:p.Map2(function(eN,eO){return eC(M.nombre2(eN.datosPersonales),eO.titular);},eI,eJ)}),(eL=T.CompleteHoles(eK.k,eK.h,[]),(eM=new Q.New(eL[1],U.filapago(eL[0])),(eK.i=eM,eM)))).get_Doc();}eq=p.MapAsync(function(eG){var eH,eI,eJ;function eK(eL){return cL.Return(eL);}return cL.Bind((eH=bn.asyncResult(),eH.Run(eH.Delay(function(){var eL;eL=ba.filter(function(eM){return eM.comision>0;},eG);return eH.Bind$1(Z.obtenerFormasDePagoPara(R.ofSeq(ba.map(function(eM){return eM.id;},eL))),function(eM){function eN(eP,eQ){return H.Equals(eP.id,eQ[0])?{$:1,$0:[eP,eQ[1]]}:null;}function eO(eP,eQ){var eR,eS;return[eP,(eR=ba.tryPick(function(eT){var eU;eU=eT.cuentaPago;return eU.$==0?{$:1,$0:eU.$0}:null;},eQ),(eS=K.ctaVacio(),eR==null?eS:eR.$0))];}return eH.Return(ba.choose(function(eP){return eN(eP[0],eP[1]);},ba.zip(eL,ba.map(function(eP){return eO(eP[0],eP[1]);},eM))));});}))),(eI=(eJ=[],function(eL){return bC.defaultValue(eJ,eL);}),function(eL){return eK(eI(eL));}));},p.Map(function(eG){return eG.aliados;},m.modeloV().get_View()));return(er=(es=bx.ofArray([(et=S.Make().WithHole({$:2,$0:"codigo",$1:p.Map(function(eG){return(function(eH){return function(eI){return eH(a.String(eI));};}(a.id))(ba.length(eG));},eq)}).WithHole({$:1,$0:"cuenta",$1:""}).WithHole({$:1,$0:"aba",$1:""}).WithHole({$:2,$0:"monto",$1:p.Map(function(eG){function eH(eI,eJ){return eI.comision;}return(function(eI){return function(eJ){return eI(a.String(eJ)+".00");};}(a.id))(ba.sumBy(function(eI){return eH(eI[0],eI[1]);},eG));},eq)}).WithHole({$:1,$0:"identificacion",$1:""}).WithHole({$:1,$0:"nombre",$1:""}),(eu=T.CompleteHoles(et.k,et.h,[]),(ev=new Q.New(eu[1],U.filapago(eu[0])),(et.i=ev,ev)))).get_Doc(),(ew=S.Make().WithHole({$:1,$0:"codigo",$1:""}).WithHole({$:1,$0:"cuenta",$1:""}).WithHole({$:1,$0:"aba",$1:""}).WithHole({$:1,$0:"monto",$1:"--------------------"}).WithHole({$:1,$0:"identificacion",$1:""}).WithHole({$:1,$0:"nombre",$1:""}),(ex=T.CompleteHoles(ew.k,ew.h,[]),(ey=new Q.New(ex[1],U.filapago(ex[0])),(ew.i=ey,ey)))).get_Doc(),Y.ConvertSeqBy(function(eG){return eE(eG[0],eG[1]);},function(eG){return function(eH){return eF(eG,eH);};},eq)]),(ez=S.Make(),ez.WithHole(T.EventQ2(ez.k,"exportar",function(){return ez.i;},function(){eD();}))).WithHole({$:0,$0:"tbody",$1:Y.Concat(es)})),(eA=T.CompleteHoles(er.k,er.h,[]),(eB=new Q.New(eA[1],U.tablapagos(eA[0])),(er.i=eB,eB)))).get_Doc();};A.listaDocs=function(){var eq,er,es,et,eu;function ev(ew,ex){var ey,ez,eA,eB;return(ey=(ez=p.Map(function(eC){return eC.id.get_Id();},m.aliadoW()),S.Make().WithHole({$:2,$0:"nombre",$1:ex}).WithHole({$:2,$0:"idaliado",$1:ez})),(eA=T.CompleteHoles(ey.k,ey.h,[]),(eB=new Q.New(eA[1],U.filadocs(eA[0])),(ey.i=eB,eB)))).get_Doc();}A.refrescarListaDocs();return(eq=(er=(es=Y.ConvertSeqBy(a.id,function(ew){return function(ex){return ev(ew,ex);};},A.docsV().get_View()),S.Make().WithHole({$:0,$0:"tbody",$1:es})),er.WithHole(T.EventQ2(er.k,"subir",function(){return er.i;},function(ew){var ex;ex=p.TryGet(m.aliadoW());ex==null?void 0:A.subir(ew.Event,ex.$0.id.get_Id());}))),(et=T.CompleteHoles(eq.k,eq.h,[]),(eu=new Q.New(et[1],U.subirdocumentos(et[0])),(eq.i=eu,eu)))).get_Doc();};A.refrescarListaDocs=function(){Z.iterA(cB.map(function(eq){A.docsV().Set(eq);},Z.obtenerListaDocs()));};A.docsV=function(){_4.$cctor();return _4.docsV;};A.subir=function(eq,er){var es,et,eu,ev,ew,ex,ey,ez,eA,eB;eq.preventDefault();ew=a.jQuery("#SubirDocumentos");ex=new a.FormData();ey=ew.serializeArray();for(ez=0,eA=ey.length-1;ez<=eA;ez++){eB=R.get(ey,ez);ex.append(eB.name,eB.value);}et=ew.children("input[type=file]").first().get(0).files.item(0);eu=et.name;ex.append("file",et);ek.ajax((ev={},ev.type="POST",ev.url="/api/subir/"+er+"/"+eu,ev.data=ex,ev.contentType=false,ev.processData=false,ev.success=A.uploaded(),ev));};A.uploaded=function(){_4.$cctor();return _4.uploaded$1;};B.formaAutorizacion=function(){var eq,er,es,et,eu;eq=(er=(es=Y.EmbedView(B.cuentaAutorizar().get_View()),S.Make().WithHole({$:2,$0:"titular",$1:B.titular().get_View()}).WithHole({$:2,$0:"montoafiliacion",$1:p.Map(function(ev){return(function(ew){return function(ex){return ew("$"+a.String(ex)+".00");};}(a.id))(ev.premisas.montoAfiliacion);},m.modeloV().get_View())}).WithHole({$:2,$0:"dia",$1:p.Map(function(ev){return a.String(M.dia(ev.diaPago));},m.aliadoW())}).WithHole({$:0,$0:"cuentadebitar",$1:es})),(et=T.CompleteHoles(er.k,er.h,[]),(eu=new Q.New(et[1],U.autorizacionpago(et[0])),(er.i=eu,eu)))).get_Doc();return bD.formaFirma(B.titular().get_View(),eq,B.actualizarSubscripcion,"AutorizacionPago");};B.titular=function(){_4.$cctor();return _4.titular;};B.actualizarSubscripcion=function(){var eq;eq=Z.actualizarSubscripcion(B.pid());return cB.map(function(er){return function(es){return er("Subscripción #"+bv.toSafe(es)+" creada.");};}(a.id),eq);};B.cuentaAutorizar=function(){_4.$cctor();return _4.cuentaAutorizar;};B.set_pid=function(eq){_4.$cctor();_4.pid=eq;};B.pid=function(){_4.$cctor();return _4.pid;};C.formaContrato=function(){var eq,er,es,et;eq=p.Map(function(eu){return M.nombre2(eu.datosPersonales);},m.aliadoW());return bD.formaFirma(eq,(er=S.Make().WithHole({$:2,$0:"aliado",$1:eq}),(es=T.CompleteHoles(er.k,er.h,[]),(et=new Q.New(es[1],U.contrato(es[0])),(er.i=et,et)))).get_Doc(),C.firmarContrato,"Contrato");};C.firmarContrato=function(){return cB.rtn("Contrato firmado!");};G.GetFields=function(eq){var er,es;er=[];for(var et in eq)er.push([et,eq[et]]);return er;};G.GetFieldValues=function(eq){var er,es;er=[];for(var et in eq)er.push(eq[et]);return er;};H.Equals=function(eq,er){var es,et,eu,ev;if(eq===er)return true;else{es=typeof eq;if(es=="object"){if(eq===null||eq===void 0||er===null||er===void 0)return false;else if("Equals"in eq)return eq.Equals(er);else if(eq instanceof a.Array&&er instanceof a.Array)return H.arrayEquals(eq,er);else if(eq instanceof a.Date&&er instanceof a.Date)return H.dateEquals(eq,er);else{et=[true];for(var ew in eq)if(function(ex){et[0]=!eq.hasOwnProperty(ex)||er.hasOwnProperty(ex)&&H.Equals(eq[ex],er[ex]);return!et[0];}(ew))break;if(et[0]){for(var ex in er)if(function(ey){et[0]=!er.hasOwnProperty(ey)||eq.hasOwnProperty(ey);return!et[0];}(ex))break;}return et[0];}}else return es=="function"&&("$Func"in eq?eq.$Func===er.$Func&&eq.$Target===er.$Target:"$Invokes"in eq&&"$Invokes"in er&&H.arrayEquals(eq.$Invokes,er.$Invokes));}};H.arrayEquals=function(eq,er){var es,et;if(R.length(eq)===R.length(er)){es=true;et=0;while(es&&et<R.length(eq)){!H.Equals(R.get(eq,et),R.get(er,et))?es=false:void 0;et=et+1;}return es;}else return false;};H.dateEquals=function(eq,er){return eq.getTime()===er.getTime();};H.Compare=function(eq,er){var es,et,eu,ev,ew,ex;if(eq===er)return 0;else{et=typeof eq;switch(et=="function"?1:et=="boolean"?2:et=="number"?2:et=="string"?2:et=="object"?3:0){case 0:return typeof er=="undefined"?0:-1;case 1:return o.FailWith("Cannot compare function values.");case 2:return eq<er?-1:1;case 3:if(eq===null)eu=-1;else if(er===null)eu=1;else if("CompareTo"in eq)eu=eq.CompareTo(er);else if("CompareTo0"in eq)eu=eq.CompareTo0(er);else if(eq instanceof a.Array&&er instanceof a.Array)eu=H.compareArrays(eq,er);else if(eq instanceof a.Date&&er instanceof a.Date)eu=H.compareDates(eq,er);else{ev=[0];for(var ey in eq)if(function(ez){return!eq.hasOwnProperty(ez)?false:!er.hasOwnProperty(ez)?(ev[0]=1,true):(ev[0]=H.Compare(eq[ez],er[ez]),ev[0]!==0);}(ey))break;if(ev[0]===0){for(var ez in er)if(function(eA){return!er.hasOwnProperty(eA)?false:!eq.hasOwnProperty(eA)&&(ev[0]=-1,true);}(ez))break;}eu=ev[0];}return eu;}}};H.compareArrays=function(eq,er){var es,et;if(R.length(eq)<R.length(er))return -1;else if(R.length(eq)>R.length(er))return 1;else{es=0;et=0;while(es===0&&et<R.length(eq)){es=H.Compare(R.get(eq,et),R.get(er,et));et=et+1;}return es;}};H.compareDates=function(eq,er){return H.Compare(eq.getTime(),er.getTime());};H.Hash=function(eq){var er;er=typeof eq;return er=="function"?0:er=="boolean"?eq?1:0:er=="number"?eq:er=="string"?H.hashString(eq):er=="object"?eq==null?0:eq instanceof a.Array?H.hashArray(eq):H.hashObject(eq):0;};H.hashString=function(eq){var er,es,et;if(eq===null)return 0;else{er=5381;for(es=0,et=eq.length-1;es<=et;es++)er=H.hashMix(er,eq[es].charCodeAt());return er;}};H.hashArray=function(eq){var er,es,et;er=-34948909;for(es=0,et=R.length(eq)-1;es<=et;es++)er=H.hashMix(er,H.Hash(R.get(eq,es)));return er;};H.hashObject=function(eq){var er,es;if("GetHashCode"in eq)return eq.GetHashCode();else{er=[0];for(var et in eq)if(function(eu){er[0]=H.hashMix(H.hashMix(er[0],H.hashString(eu)),H.Hash(eq[eu]));return false;}(et))break;return er[0];}};H.hashMix=function(eq,er){return(eq<<5)+eq+er;};I.newLyt=function(eq,er){return bJ.New(eq,i.Create$1(er));};I.addLayout=function(eq){p.Sink(function(er){var es;es=I.createEntries(eq.lytName,er);k.addPlugIn(l.New(eq.lytName,R.ofSeq(ba.delay(function(){return ba.append([k.newVar("Layout",eq.lytDefinition)],ba.delay(function(){return I.getVarEntries(es);}));})),[],R.ofSeq(ba.delay(function(){return ba.append(I.getDocEntries(es),ba.delay(function(){var et;return ba.append([k.newDocF("InputFile",{$:4,$0:(et=eq.lytName,ei.Curried(I.inputFile,4,[et])),$1:"attrs",$2:"Label",$3:"Action",$4:"[Doc]"})],ba.delay(function(){var eu;return ba.append([k.newDocF("InputLabel",{$:3,$0:(eu=eq.lytName,ei.Curried(I.inputLabel,3,[eu])),$1:"attrs",$2:"Label",$3:"Var"})],ba.delay(function(){var ev;return ba.append([k.newDocF("HtmlDoc",{$:1,$0:(ev=eq.lytName,function(ew){return I.htmlDoc(ev,ew);}),$1:"html"})],ba.delay(function(){return[k.newDocF("none",{$:1,$0:I.none,$1:"x"})];}));}));}));}));})),[],[]));k.mainDocV().Set(k.mainDocV().Get());},eq.lytDefinition.get_View());};I.createEntries=function(eq,er){return I.processLines(function(es){return I.createEntryO(eq,es);},b2.splitByChar("\n",er));};I.getVarEntries=function(eq){function er(es){return es[1];}return ba.map(function(es){return ba.last(er(es));},ba.groupBy(function(es){return es.varName;},ba.choose(function(es){return es.$==0?{$:1,$0:es.$0}:null;},eq)));};I.getDocEntries=function(eq){function er(es){return es[1];}return ba.map(function(es){return ba.last(er(es));},ba.groupBy(function(es){return es.docName;},ba.choose(function(es){return es.$==2?{$:1,$0:es.$0}:null;},eq)));};I.inputFile=function(eq,er,es,et,eu){var ev,ew,ex,ey;ev=(ew=(ex=((I.splitName())(eq))(et),k.tryGetAct(ex[0],ex[1])),ew==null?null:{$:1,$0:(ey=ew.$0,Y.Element("div",I.getAttrs(eq,er,true),[Y.Element("div",[cV.Create("class","input-group")],[Y.Element("span",[cV.Create("class","input-group-btn")],[Y.Element("label",[cV.Create("class","btn")],[I.getText(eq,es,true),Y.Element("input",[cV.Create("class","form-control"),cV.Create("type","file"),cN.Style("display","none"),cV.HandlerImpl("click",function(ez){return function(){ez.value="";};}),cV.HandlerImpl("change",function(ez){return function(){return k.callFunction(ez,null,ey.actFunction);};})],[])])]),eu!==""?I.singleDoc(eq,bx.ofArray([[eu,false]])):Y.get_Empty()])]))});return ev==null?I.errDoc((function(ez){return function(eA){return ez("Action not found "+bv.toSafe(eA));};}(a.id))(et)):ev.$0;};I.inputLabel=function(eq,er,es,et){var eu,ev,ew;eu=(ev=(ew=((I.splitName())(eq))(et),k.tryGetVar(ew[0],ew[1])),ev==null?null:{$:1,$0:Y.Element("div",I.getAttrs(eq,er,true),[Y.Element("div",[cV.Create("class","input-group")],[Y.Element("span",[cV.Create("class","input-group-addon")],[I.getText(eq,es,true)]),Y.Input([cV.Create("class","form-control")],ev.$0.varVar)])])});return eu==null?I.errDoc((function(ex){return function(ey){return ex("Var not found "+bv.toSafe(ey));};}(a.id))(et)):eu.$0;};I.htmlDoc=function(eq,er){var es;es=I.getTextData(eq,er);return es.$==1?Y.BindView(Y.Verbatim,es.$0):es.$==2?I.errDoc((function(et){return function(eu){return et("HtmlDoc: unexpected action "+X.p$1(eu));};}(a.id))(es.$0)):Y.Verbatim(es.$0);};I.none=function(eq){return Y.Element("span",[],[]);};I.turnToView=function(eq){return Y.EmbedView(p.Map(eq,k.mainDocV().get_View()));};I.splitName=function(){bK.$cctor();return bK.splitName;};I.getDocFinal=function(eq,er){var es;es=I.getDocF(eq,er);return es[1].$==0?es[0]:I.errDoc((((ei.Curried3(function(et,eu,ev){return et("Too many parameters "+X.p(eu)+" "+bv.printList(function(ew){return"("+bv.prettyPrint(ew[0])+", "+bv.prettyPrint(ew[1])+")";},ev));}))(a.id))(er))(eq));};I.errDoc=function(eq){return Y.Element("div",[],[Y.TextNode(eq)]);};I.processLines=function(eq,er){function es(et){var eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH;eu=ba.tryHead(et);return eu!=null&&eu.$==1?(ev=eu.$0,(ew=I.splitTokens(ev),ew.$==1&&(ey=(ez=ew.$0,I.Identifier(ez[0],ez[1])),ey!=null&&ey.$==1&&(ew.$1.$==1&&((eA=ew.$1.$0,I.Vertical(eA[0],eA[1])).$==2&&(ew.$1.$1.$==0&&(ex=ey.$0,true)))))?(eB=I.getExtraLines(function(eI){return bh.StartsWith(bh.Trim(eI),"|");},et),es((df.createLayoutDefinitions(ex,df.extractNodes(eB[0])))[1].concat(eB[1]))):ew.$==0?es(b3.array(et,{$:1,$0:1},null)):(eC=I.getExtraLines(function(eI){return bh.StartsWith(bh.Trim(eI),":");},et),(eD=eC[1],(eE=eC[0],R.length(eE)>0?((function(eI){return function(eJ){return eI("l = ;"+bv.toSafe(eJ)+";");};}(function(eI){el.log(eI);}))(ev),eF=I.createLines(ba.nth(0,bh.SplitChars(ev,[" "],1)),1,[],[],1,eE),eG=eF[0],eH=eF[1],es(R.ofSeq(ba.delay(function(){return ba.append([ev+" "+bh.concat(" ",eG)],ba.delay(function(){return ba.append(eH,ba.delay(function(){return eD;}));}));})))):R.ofSeq(ba.delay(function(){var eI;return ba.append((eI=eq(ev),eI!=null&&eI.$==1?[eI.$0]:[]),ba.delay(function(){return es(eD);}));}))))))):[];}return es(er);};I.createEntryO=function(eq,er){var es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4,e5,e6,e7,e8,e9,e_,e$,fa,fb,fc,fd,fe,ff,fg,fh,fi,fj,fk,fl,fm,fn,fo,fp,fq,fr,fs,ft;try{es=I.splitTokens(er);return es.$==1&&(eu=(ev=es.$0,I.Identifier(ev[0],ev[1])),eu!=null&&eu.$==1&&(es.$1.$==1&&((ew=es.$1.$0,I.Vertical(ew[0],ew[1])).$==0&&(es.$1.$1.$==1&&(ex=(ey=es.$1.$1.$0,I.Measures$1(ey[0],ey[1])),ex!=null&&ex.$==1&&(et=[es.$1.$1.$1,ex.$0,eu.$0],true))))))?(ez=et[2],I.entryDoc(ez,(I.createSplitterM())([eq,ez,true,et[1],et[0]]))):es.$==1&&(eB=(eC=es.$0,I.Identifier(eC[0],eC[1])),eB!=null&&eB.$==1&&(es.$1.$==1&&((eD=es.$1.$0,I.Vertical(eD[0],eD[1])).$==1&&(es.$1.$1.$==1&&(eE=(eF=es.$1.$1.$0,I.Measures$1(eF[0],eF[1])),eE!=null&&eE.$==1&&(eA=[es.$1.$1.$1,eE.$0,eB.$0],true))))))?(eG=eA[2],I.entryDoc(eG,(I.createSplitterM())([eq,eG,false,eA[1],eA[0]]))):es.$==1&&(eI=(eJ=es.$0,I.Identifier(eJ[0],eJ[1])),eI!=null&&eI.$==1&&(es.$1.$==1&&((eK=es.$1.$0,I.Var(eK[0],eK[1])).$==2&&(es.$1.$1.$==1&&(eL=(eM=es.$1.$1.$0,I.Identifier(eM[0],eM[1])),eL!=null&&eL.$==1&&(es.$1.$1.$1.$==1&&(es.$1.$1.$1.$1.$==1&&(es.$1.$1.$1.$1.$1.$==0&&(eH=[eL.$0,es.$1.$1.$1.$0,eI.$0,es.$1.$1.$1.$1.$0],true)))))))))?(eN=eH[2],I.entryDoc(eN,(I.createButtonM())([eq,eN,eH[0],eH[1],eH[3]]))):es.$==1&&(eP=(eQ=es.$0,I.Identifier(eQ[0],eQ[1])),eP!=null&&eP.$==1&&(es.$1.$==1&&((eR=es.$1.$0,I.Var(eR[0],eR[1])).$==3&&(es.$1.$1.$==1&&(eS=(eT=es.$1.$1.$0,I.Identifier(eT[0],eT[1])),eS!=null&&eS.$==1&&(es.$1.$1.$1.$==1&&(es.$1.$1.$1.$1.$==0&&(eO=[es.$1.$1.$1.$0,eP.$0,eS.$0],true))))))))?(eU=eO[1],I.entryDoc(eU,(I.createInputM())([eq,eU,eO[2],eO[0]]))):es.$==1&&(eW=(eX=es.$0,I.Identifier(eX[0],eX[1])),eW!=null&&eW.$==1&&(es.$1.$==1&&((eY=es.$1.$0,I.Var(eY[0],eY[1])).$==4&&(es.$1.$1.$==1&&(eZ=(e0=es.$1.$1.$0,I.Identifier(e0[0],e0[1])),eZ!=null&&eZ.$==1&&(es.$1.$1.$1.$==1&&(es.$1.$1.$1.$1.$==0&&(eV=[es.$1.$1.$1.$0,eW.$0,eZ.$0],true))))))))?(e1=eV[1],I.entryDoc(e1,(I.createTextAreaM())([eq,e1,eV[2],eV[0]]))):es.$==1&&(e3=(e4=es.$0,I.Identifier(e4[0],e4[1])),e3!=null&&e3.$==1&&(es.$1.$==1&&((e5=es.$1.$0,I.Var(e5[0],e5[1])).$==0&&(es.$1.$1.$==1&&(es.$1.$1.$1.$==0&&(e2=[e3.$0,es.$1.$1.$0],true))))))?(e6=e2[0],I.entryVar(e6,(I.createVarM())([eq,e6,e2[1][0]]))):es.$==1&&(e8=(e9=es.$0,I.Identifier(e9[0],e9[1])),e8!=null&&e8.$==1&&(es.$1.$==1&&((e_=es.$1.$0,I.Var(e_[0],e_[1])).$==1&&(es.$1.$1.$==1&&(e7=[es.$1.$1.$0,e8.$0,es.$1.$1.$1],true)))))?(e$=e7[1],I.entryDoc(e$,(I.createDocM())([eq,e$,e7[0][0],e7[2]]))):es.$==1&&(fb=(fc=es.$0,I.Identifier(fc[0],fc[1])),fb!=null&&fb.$==1&&(es.$1.$==1&&((fd=es.$1.$0,I.Vertical(fd[0],fd[1])).$==4&&(es.$1.$1.$==1&&(es.$1.$1.$1.$==1&&(fa=[es.$1.$1.$1.$0,es.$1.$1.$1.$1,fb.$0,es.$1.$1.$0],true))))))?(fe=fa[2],I.entryDoc(fe,(I.createTemplateM())([eq,fe,fa[3],fa[0],fa[1]]))):es.$==1&&(fg=(fh=es.$0,I.Identifier(fh[0],fh[1])),fg!=null&&fg.$==1&&(es.$1.$==1&&((fi=es.$1.$0,I.Concat(fi[0],fi[1])).$==0&&(ff=[es.$1.$1,fg.$0],true))))?(fj=ff[1],I.entryDoc(fj,(I.createConcatM())([eq,fj,ff[0]]))):es.$==1&&(fl=(fm=es.$0,I.Identifier(fm[0],fm[1])),fl!=null&&fl.$==1&&(es.$1.$==1&&((fn=es.$1.$0,I.Vertical(fn[0],fn[1])).$==3&&(es.$1.$1.$==1&&(es.$1.$1.$1.$==1&&(es.$1.$1.$1.$1.$==1&&(fk=[es.$1.$1.$1.$1.$0,es.$1.$1.$0,es.$1.$1.$1.$1.$1,fl.$0,es.$1.$1.$1.$0],true)))))))?null:es.$==1&&(fp=(fq=es.$0,I.Identifier(fq[0],fq[1])),fp!=null&&fp.$==1&&(es.$1.$==1&&(fr=(fs=es.$1.$0,I.Vertical(fs[0],fs[1])),fr.$==5&&(es.$1.$1.$==1&&(fo=[es.$1.$1.$0,es.$1.$1.$1,fr.$0,fp.$0],true)))))?(ft=fo[3],I.entryDoc(ft,(I.createElementM())([eq,ft,fo[2],fo[0],fo[1]]))):null;}catch(fu){((function(fv){return function(fw){return fv(bv.prettyPrint(fw));};}(function(fv){el.log(fv);}))(fu));return null;}};I.getAttrs=function(eq,er,es){var et;et=[er,es];return bx.ofSeq(ba.delay(function(){return ba.append(ba.choose(function(eu){var ev,ew,ex,ey,ez,eA;return!H.Equals(eu,null)&&eu.length===2&&(ew=R.get(eu,1),bh.Trim(R.get(eu,0))!==""&&bh.Trim(ew)!=="")?(ex=R.get(eu,1),(ey=R.get(eu,0),{$:1,$0:(ez=I.getTextData(eq,bh.Trim(ex)),ez.$==1?cN.Dynamic(bh.Trim(ey),ez.$0):ez.$==2?(eA=ez.$0,cN.Handler(bh.Trim(ey),function(eB){return function(eC){return k.callFunction(eB,eC,eA.actFunction);};})):cV.Create(bh.Trim(ey),bh.Trim(ez.$0)))})):null;},ba.map(function(eu){return b2.splitByChar("=",eu);},b2.splitByChar(";",et[0]))),ba.delay(function(){return ba.choose(function(eu){var ev,ew,ex,ey,ez;return!H.Equals(eu,null)&&eu.length===2&&(ew=R.get(eu,1),bh.Trim(R.get(eu,0))!==""&&bh.Trim(ew)!=="")?(ex=R.get(eu,1),(ey=R.get(eu,0),{$:1,$0:(ez=I.getTextData(eq,bh.Trim(ex)),ez.$==1?cN.DynamicStyle(bh.Trim(ey),ez.$0):ez.$==2?cN.Style(bh.Trim(ey),(function(eA){return function(eB){return eA("${"+bv.toSafe(eB)+"}");};}(a.id))(ez.$0.actName)):cN.Style(bh.Trim(ey),bh.Trim(ez.$0)))})):null;},ba.map(function(eu){return b2.splitByChar(":",eu);},b2.splitByChar(";",et[0])));}));}));};I.getText=function(eq,er,es){var et,eu,ev,ew,ex,ey,ez,eA,eB;et=I.Identifier(er,es);return et!=null&&et.$==1?(eu=et.$0,(ev=((I.splitName())(eq))(eu),(ew=ev[0],(ex=ev[1],(ey=(ez=k.tryGetViw(ew,ex),ez==null?null:{$:1,$0:Y.TextView(ez.$0.viwView)}),ey==null?(eA=(eB=k.tryGetVar(ew,ex),eB==null?null:{$:1,$0:Y.TextView(eB.$0.varVar.get_View())}),eA==null?Y.TextNode(eu):eA.$0):ey.$0))))):Y.TextNode(er);};I.singleDoc=function(eq,er){return Y.EmbedView(p.Map(function(es){var et;return es.$==1&&(es.$1.$==0&&(et=es.$0,true))?et:I.errDoc((function(eu){return function(ev){return eu("expected exactly 1 element "+bv.printList(function(ew){return"("+bv.prettyPrint(ew[0])+", "+bv.prettyPrint(ew[1])+")";},ev));};}(a.id))(er));},p.Map(function(){return I.getDocs(eq,er);},k.mainDocV().get_View())));};I.getTextData=function(eq,er){var es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE;es=(et=b2.delimitedO("@{","}",er),et==null?null:{$:1,$0:(eu=et.$0,(ev=eu[0],(ew=eu[1],(ex=eu[2],(ey=((I.splitName())(eq))(ew),(ez=ey[0],(eA=ey[1],(eB=(eC=k.tryGetWoW(ez,eA),eC==null?null:{$:1,$0:function(eF){var eG,eH;eH=I.getTextData(eq,ex);switch(ev===""?eH.$==1?(eG=eH.$0,2):eH.$==2?(eG=eH.$0,3):eH.$0===""?0:(eG=eH.$0,1):eH.$==1?(eG=eH.$0,2):eH.$==2?(eG=eH.$0,3):(eG=eH.$0,1)){case 0:return{$:1,$0:eF};case 1:return{$:1,$0:p.Map(function(eI){return ev+eI+eG;},eF)};case 2:return{$:1,$0:p.Map2(function(eI,eJ){return ev+eI+eJ;},eF,eG)};case 3:return{$:2,$0:eG};}}(eC.$0)}),eB==null?(eD=(eE=k.tryGetAct(ez,eA),eE==null?null:{$:1,$0:{$:2,$0:eE.$0}}),eD==null?{$:0,$0:((((ei.Curried(function(eF,eG,eH,eI){return eF(bv.toSafe(eG)+" ${Missing "+bv.toSafe(eH)+"}"+bv.toSafe(eI));},4))(a.id))(ev))(ew))(ex)}:eD.$0):eB.$0))))))))});return es==null?{$:0,$0:er}:es.$0;};I.createSplitter=function(eq,er,es,et,eu){var ev;ev=I.pairOfDocs(eq,eu);return et.$==1?I.variableSplitter(es,et.$0,et.$1,et.$2,ev[0],ev[1]):I.fixedSplitter(es,et.$0,et.$1,ev[0],ev[1]);};I.createButton=function(eq,er,es,et,eu){return I.turnToView(function(){var ev,ew,ex,ey,ez;function eA(eB,eC){return k.callFunction(null,null,eB.actFunction);}ev=(ew=(ex=(ey=((I.splitName())(eq))(es),k.tryGetAct(ey[0],ey[1])),ex==null?null:{$:1,$0:(ez=ex.$0,function(eB){return eA(ez,eB);})}),ew==null?a.ignore:ew.$0);return Y.Button(eu[0],I.getAttrs(eq,et[0],et[1]),ev);});};I.createInput=function(eq,er,es,et){return I.turnToView(function(){var eu,ev,ew,ex,ey;eu=(ev=(ew=((I.splitName())(eq))(es),k.tryGetVoV(ew[0],ew[1])),(ex=(ey=I.getAttrs(eq,et[0],et[1]),function(ez){return Y.Input(ey,ez);}),ev==null?null:{$:1,$0:ex(ev.$0)}));return eu==null?I.errDoc((function(ez){return function(eA){return ez("Missing var: "+bv.toSafe(eA));};}(a.id))(es)):eu.$0;});};I.createTextArea=function(eq,er,es,et){return I.turnToView(function(){var eu,ev,ew,ex,ey;eu=(ev=(ew=((I.splitName())(eq))(es),k.tryGetVoV(ew[0],ew[1])),(ex=(ey=I.getAttrs(eq,et[0],et[1]),function(ez){return Y.InputArea(ey,ez);}),ev==null?null:{$:1,$0:ex(ev.$0)}));return eu==null?I.errDoc((function(ez){return function(eA){return ez("Missing var: "+bv.toSafe(eA));};}(a.id))(es)):eu.$0;});};I.createElement=function(eq,er,es,et,eu){var ev;ev=[I.turnToView(function(){return Y.Concat(I.getDocs(eq,eu));})];return Y.Element(es,I.getAttrs(eq,et[0],et[1]),ev);};I.createDoc=function(eq,er,es,et){return I.turnToView(function(){var eu,ev,ew;eu=(ev=(ew=((I.splitName())(eq))(es),k.tryGetDoc(ew[0],ew[1])),ev==null?null:{$:1,$0:I.getDocFinal(et,ev.$0)});return eu==null?I.errDoc((function(ex){return function(ey){return ex("Missing doc: "+bv.toSafe(ey));};}(a.id))(es)):eu.$0;});};I.createTemplate=function(eq,er,es,et,eu){return I.turnToView(function(){var ev,ew,ex,ey,ez,eA;ex=I.getAttrs(eq,et[0],et[1]);cY.LoadLocalTemplates("local");function eB(eD,eE){var eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ;eF=I.Identifier(eE[0],eE[1]);return eF!=null&&eF.$==1?(eG=eF.$0,eH=eD[0],eI=(eJ=(eK=(eL=((I.splitName())(eq))(eG),k.tryGetDoc(eL[0],eL[1])),eK==null?null:{$:1,$0:{$:0,$0:eH.toLowerCase(),$1:(I.getDocF(cA.Empty,eK.$0))[0]}}),eJ==null?(eM=(eN=((I.splitName())(eq))(eG),k.tryGetVar(eN[0],eN[1])),eM==null?null:{$:1,$0:{$:8,$0:eH.toLowerCase(),$1:eM.$0.varVar}}):eJ),eI==null?{$:0,$0:eH.toLowerCase(),$1:I.errDoc((function(eR){return function(eS){return eR("Missing element: "+bv.toSafe(eS));};}(a.id))(eG))}:eI.$0):(eO=eD[0],eP=I.getTextData(eq,eE[0]),eP.$==1?{$:2,$0:eO.toLowerCase(),$1:eP.$0}:eP.$==2?(eQ=eP.$0,{$:4,$0:eO.toLowerCase(),$1:function(eR){return function(eS){return k.callFunction(eR,eS,eQ.actFunction);};}}):{$:1,$0:eO.toLowerCase(),$1:eP.$0});}function eC(eD,eE){return eD%2===0;}try{ew={$:1,$0:(ey=(ez=ba.map(function(eD){return eB(eD[0],eD[1]);},ba.map(function(eD){return eD[1];},ba.filter(function(eD){return eC(eD[0],eD[1]);},ba.indexed(ba.pairwise(eu))))),(ba.isEmpty(ex)?a.id:(eA=[{$:3,$0:"attrs",$1:cV.Concat(ex)}],function(eD){return ba.append(eA,eD);}))(ez)),cY.NamedTemplate("local",{$:1,$0:es[0].toLowerCase()},ey))};}catch(eD){ew=null;}return ew==null?I.errDoc((function(eE){return function(eF){return eE("Missing template: "+bv.toSafe(eF));};}(a.id))(es[0])):ew.$0;});};I.createConcat=function(eq,er,es){return I.turnToView(function(){return Y.Concat(I.getDocs(eq,es));});};I.createVar=function(eq,er,es){return i.Create$1(es);};I.addNewLayout=function(eq,er){var es,et;I.addLayout((es=(et=!H.Equals(er,null)?er:"\r\n            split horizontal 0-50-100 AppFramework.AppFwkClient Hello\r\n            Hello h1 \"color:blue; class=btn-primary\" \"How are you today?\" Ask\r\n            Ask Doc InputLabel \"placeholder=Type you answer here...\" \"Answer:\" AppFramework.mainDocV  \r\n            ",(b2.unindentStr())(et)),I.newLyt(!H.Equals(er,null)?eq:"Lyt_"+bh.Replace(a.String(br.NewGuid()),"-",""),es)));};I.getDocF=function(eq,er){var es,et;et=er.docDoc;switch(et.$==1?eq.$==1?(es=[et.$0,eq.$0[0],eq.$1],1):6:et.$==2?eq.$==1?eq.$1.$==1?(es=[et.$0,eq.$0[0],eq.$1.$0[0],eq.$1.$1],2):6:6:et.$==3?eq.$==1?eq.$1.$==1?eq.$1.$1.$==1?(es=[et.$0,eq.$0[0],eq.$1.$0[0],eq.$1.$1.$0[0],eq.$1.$1.$1],3):6:6:6:et.$==4?eq.$==1?eq.$1.$==1?eq.$1.$1.$==1?eq.$1.$1.$1.$==1?(es=[et.$0,eq.$0[0],eq.$1.$0[0],eq.$1.$1.$0[0],eq.$1.$1.$1.$0[0],eq.$1.$1.$1.$1],4):6:6:6:6:et.$==5?eq.$==1?eq.$1.$==1?eq.$1.$1.$==1?eq.$1.$1.$1.$==1?eq.$1.$1.$1.$1.$==1?(es=[et.$0,eq.$0[0],eq.$1.$0[0],eq.$1.$1.$0[0],eq.$1.$1.$1.$0[0],eq.$1.$1.$1.$1.$0[0],eq.$1.$1.$1.$1.$1],5):6:6:6:6:6:(es=[et.$0,eq],0)){case 0:return[es[0].f(),es[1]];case 1:return[es[0](es[1]),es[2]];case 2:return[(es[0](es[1]))(es[2]),es[3]];case 3:return[((es[0](es[1]))(es[2]))(es[3]),es[4]];case 4:return[(((es[0](es[1]))(es[2]))(es[3]))(es[4]),es[5]];case 5:return[((((es[0](es[1]))(es[2]))(es[3]))(es[4]))(es[5]),es[6]];case 6:return[Y.Element("div",[],[Y.TextNode((((ei.Curried3(function(eu,ev,ew){return eu("Parameters do not coincide with definition "+X.p(ev)+" - "+bv.printList(function(ex){return"("+bv.prettyPrint(ex[0])+", "+bv.prettyPrint(ex[1])+")";},ew));}))(a.id))(er))(eq))]),cA.Empty];}};I.splitTokens=function(eq){return bx.ofSeq(ba.collect(a.id,ba.mapi(function(er,es){var et;return er%2===1?[[es,true]]:(et=bh.Trim(es),et===""?[]:R.map(function(eu){return[eu,false];},bh.SplitChars(et,[" "],1)));},b2.splitByChar("\"",eq))));};I.Identifier=function(eq,er){var es,et,eu;return(et=j.REGEX$1("^[$a-zA-Z_][0-9a-zA-Z_\\.\\-$]*$","",eq),et!=null&&et.$==1&&((eu=et.$0,!H.Equals(eu,null)&&eu.length===1)&&(er?false:(es=R.get(et.$0,0),true))))?{$:1,$0:es}:null;};I.Vertical=function(eq,er){var es,et,eu,ev,ew,ex;return(er?false:eq==="vertical")?{$:0,$0:null}:(er?false:eq==="horizontal")?{$:1,$0:null}:(er?false:eq==="layout")?{$:2,$0:null}:(er?false:eq==="grid")?{$:3,$0:null}:(er?false:eq==="template")?{$:4,$0:null}:(ex=I.Identifier(eq,er),ex!=null&&ex.$==1?{$:5,$0:ex.$0}:{$:6,$0:null});};I.getExtraLines=function(eq,er){var es,et,eu,ev;es=(et=(eu=ba.tryFindIndex(function(ew){return bh.Trim(ew)!==""&&!eq(ew);},ba.skip(1,er)),eu==null?null:{$:1,$0:1+eu.$0}),(ev=R.length(er),et==null?ev:et.$0));return[b3.array(er,{$:1,$0:1},{$:1,$0:es-1}),b3.array(er,{$:1,$0:es},null)];};I.createLines=function(eq,er,es,et,eu,ev){var ew,ex,ey,ez,eA,eB,eC,eD,eE,eF;ew=bh.replicate(er,":");ex=":"+ew;ey=ba.tryHead(ev);return ey!=null&&ey.$==1?(ez=b2.StartsWith(ew,bh.Trim(ey.$0)),ez!=null&&ez.$==1?(eA=ez.$0,(eB=I.getExtraLines(function(eG){return bh.StartsWith(bh.Trim(eG),ex);},ev),(eC=(((ei.Curried3(function(eG,eH,eI){return eG(bv.toSafe(eH)+"_"+a.String(eI));}))(a.id))(eq))(eu),(eD=I.createLines(eC,er+1,[],[],1,eB[0]),(eE=eD[1],(eF=eD[0],I.createLines(eq,er,R.ofSeq(ba.delay(function(){return ba.append(es,ba.delay(function(){return[eC];}));})),R.ofSeq(ba.delay(function(){return ba.append(et,ba.delay(function(){return ba.append([eC+" "+eA+" "+bh.concat(" ",eF)],ba.delay(function(){return eE;}));}));})),eu+1,eB[1]))))))):[es,et]):[es,et];};I.Measures$1=function(eq,er){var es,et,eu,ev,ew,ex,ey,ez,eA,eB;es=[eq,er];return es[1]?null:(et=b2.splitByChar("-",es[0]),!H.Equals(et,null)&&et.length===1&&(ev=(b4.Double())(R.get(et,0)),ev!=null&&ev.$==1&&(eu=ev.$0,true))?{$:1,$0:new dx({$:0,$0:eu,$1:true})}:!H.Equals(et,null)&&et.length===2&&(R.get(et,0)===""&&(ex=(b4.Double())(R.get(et,1)),ex!=null&&ex.$==1&&(ew=ex.$0,true)))?{$:1,$0:new dx({$:0,$0:ew,$1:false})}:!H.Equals(et,null)&&et.length===3&&(ez=(b4.Double())(R.get(et,0)),ez!=null&&ez.$==1&&(eA=(b4.Double())(R.get(et,1)),eA!=null&&eA.$==1&&(eB=(b4.Double())(R.get(et,2)),eB!=null&&eB.$==1&&(ey=[eB.$0,ez.$0,eA.$0],true))))?{$:1,$0:new dx({$:1,$0:ey[1],$1:ey[2],$2:ey[0]})}:null);};I.entryDoc=function(eq,er){return{$:1,$0:{$:2,$0:k.newDoc(eq,r.Create(function(){return er;}))}};};I.createSplitterM=function(){bK.$cctor();return bK.createSplitterM;};I.Var=function(eq,er){var es,et,eu,ev,ew,ex;return(er?false:eq==="Var")?{$:0,$0:null}:(er?false:eq==="Doc")?{$:1,$0:null}:(er?false:eq==="button")?{$:2,$0:null}:(er?false:eq==="input")?{$:3,$0:null}:(er?false:eq==="textarea")?{$:4,$0:null}:(er?false:eq==="select")?{$:5,$0:null}:{$:6,$0:null};};I.createButtonM=function(){bK.$cctor();return bK.createButtonM;};I.createInputM=function(){bK.$cctor();return bK.createInputM;};I.createTextAreaM=function(){bK.$cctor();return bK.createTextAreaM;};I.entryVar=function(eq,er){return{$:1,$0:{$:0,$0:k.newVar(eq,er)}};};I.createVarM=function(){bK.$cctor();return bK.createVarM;};I.createDocM=function(){bK.$cctor();return bK.createDocM;};I.createTemplateM=function(){bK.$cctor();return bK.createTemplateM;};I.Concat=function(eq,er){var es;return(er?false:eq==="concat")?{$:0,$0:null}:{$:1,$0:null};};I.createConcatM=function(){bK.$cctor();return bK.createConcatM;};I.createElementM=function(){bK.$cctor();return bK.createElementM;};I.getDocs=function(eq,er){var es;return er.$==0?cA.Empty:(es=I.getOneDoc(eq,er),new cA({$:1,$0:es[0],$1:I.getDocs(eq,es[1])}));};I.pairOfDocs=function(eq,er){var es;es=p.Map(function(et){var eu;return et.$==1&&(et.$1.$==1&&(et.$1.$1.$==0&&(eu=[et.$0,et.$1.$0],true)))?[eu[0],eu[1]]:[I.errDoc((function(ev){return function(ew){return ev("splitter expects exactly 2 elements "+bv.printList(function(ex){return"("+bv.prettyPrint(ex[0])+", "+bv.prettyPrint(ex[1])+")";},ew));};}(a.id))(er)),I.errDoc("part 2")];},p.Map(function(){return I.getDocs(eq,er);},k.mainDocV().get_View()));return[Y.EmbedView(p.Map(function(et){return et[0];},es)),Y.EmbedView(p.Map(function(et){return et[1];},es))];};I.variableSplitter=function(eq,er,es,et,eu,ev){return Y.Element("wcomp-splitter",bx.ofSeq(ba.delay(function(){return ba.append(eq?[cV.Create("vertical","")]:[],ba.delay(function(){return ba.append([cV.Create("min",a.String(er))],ba.delay(function(){return ba.append([cV.Create("value",a.String(es))],ba.delay(function(){return[cV.Create("max",a.String(et))];}));}));}));})),bx.ofArray([eu,ev]));};I.fixedSplitter=function(eq,er,es,et,eu){var ev,ew,ex,ey,ez,eA,eB;ev=(((es?ei.Curried3(function(eC,eD,eE){return eC(eD.toFixed(6)+"px calc(100% - "+eE.toFixed(6)+"px)");}):ei.Curried3(function(eC,eD,eE){return eC("calc(100% - "+eD.toFixed(6)+"px) "+eE.toFixed(6)+"px");}))(a.id))(er))(er);return eq?(ew=S.Make().WithHole({$:1,$0:"partsizes",$1:ev}).WithHole({$:0,$0:"first",$1:et}).WithHole({$:0,$0:"second",$1:eu}),(ex=T.CompleteHoles(ew.k,ew.h,[]),(ey=new Q.New(ex[1],cO.fixedsplitterver(ex[0])),(ew.i=ey,ey)))).get_Doc():(ez=S.Make().WithHole({$:1,$0:"partsizes",$1:ev}).WithHole({$:0,$0:"first",$1:et}).WithHole({$:0,$0:"second",$1:eu}),(eA=T.CompleteHoles(ez.k,ez.h,[]),(eB=new Q.New(eA[1],cO.fixedsplitterhor(eA[0])),(ez.i=eB,eB)))).get_Doc();};I.getOneDoc=function(eq,er){var es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG;return er.$==1&&(et=(eu=er.$0,I.Identifier(eu[0],eu[1])),et!=null&&et.$==1&&(es=[et.$0,er.$1],true))?(ev=es[0],(ew=es[1],(ex=((I.splitName())(eq))(ev),(ey=ex[0],(ez=ex[1],(eA=(eB=k.tryGetDoc(ey,ez),eB==null?null:{$:1,$0:I.getDocF(ew,eB.$0)}),eA==null?(eC=(eD=k.tryGetWoW(ey,ez),eD==null?null:{$:1,$0:[Y.TextView(eD.$0),ew]}),eC==null?[I.errDoc((eE=(function(eH){return function(eI){return eH("Missing doc: "+bv.toSafe(eI));};}(a.id))(ev),(bb.print(eE),eE))),ew]:eC.$0):eA.$0)))))):er.$==0?[Y.get_Empty(),cA.Empty]:(eF=er.$1,(eG=I.getTextData(eq,er.$0[0]),eG.$==1?[Y.TextView(eG.$0),eF]:eG.$==2?[I.errDoc((function(eH){return function(eI){return eH("Unexpected action: "+bv.toSafe(eI));};}(a.id))(eG.$0.actName)),eF]:[Y.TextNode(eG.$0),eF]));};J.ofObj=function(eq){return eq==null?null:{$:1,$0:eq};};L.New=function(eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI){return{id:eq,idPadreO:er,idForAuthorize:es,influyente:et,datosPersonales:eu,contactos:ev,identificacion:ew,isInternal:ex,status:ey,diaPago:ez,tipo:eA,fechaRegistro:eB,fechaStatus:eC,nReferidos:eD,nRefActivos:eE,nDescendientes:eF,nDescActivos:eG,comision:eH,nivel:eI};};M.empty=function(){_4.$cctor();return _4.empty;};M.nombre2=function(eq){var er,es;return(er=(es=eq.titulo,es==null?null:{$:1,$0:" "+es.$0}),er==null?"":er.$0)+bh.Trim(eq.nombre1+" "+eq.nombre2)+" "+bh.Trim(eq.apellido1+" "+eq.apellido2);};M.nombre=function(eq){var er,es;return(er=(es=eq.titulo,es==null?null:{$:1,$0:" "+es.$0}),er==null?"":er.$0)+(eq.apellido1===""?"":bh.Trim(eq.apellido1+" "+eq.apellido2)+", ")+eq.nombre1+" "+eq.nombre2;};M.busqueda=function(eq){var er,es;function et(ez,eA){return[ez,R.ofSeq(ba.map(function(eB){return eB[1];},eA))];}function eu(ez){var eA,eB;eA=(eB=null,[es.TryGetValue(ez,{get:function(){return eB;},set:function(eC){eB=eC;}}),eB]);return eA[0]?{$:1,$0:eA[1]}:null;}function ev(ez){var eA,eB;eA=(eB=null,[er.TryGetValue({$:1,$0:ez},{get:function(){return eB;},set:function(eC){eB=eC;}}),eB]);return eA[0]?eA[1]:[];}function ew(ez){var eA,eB;eA=(eB=ez==null?null:eu(ez.$0),eB==null?null:{$:1,$0:1+ew(eB.$0.idPadreO)});return eA==null?0:eA.$0;}function ex(ez){return R.choose(eu,ev(ez.id));}function ey(ez){return R.ofSeq(ba.delay(function(){return ba.collect(function(eA){return ba.append([eA],ba.delay(function(){return ey(eA);}));},ex(ez));}));}er=new cw.New(ba.map(function(ez){return et(ez[0],ez[1]);},ba.groupBy(function(ez){return ez[0];},ba.map(function(ez){return[ez.idPadreO,ez.id];},eq))));es=new cw.New(ba.map(function(ez){return[ez.id,ez];},eq));return bd.New(ev,ew,function(ez){try{return es.get_Item(ez);}catch(eA){return(function(eB){return function(eC){return eB("buscarAliado failed: "+V.p$10(eC));};}(o.FailWith))(ez);}},eu,ex,ey);};M.comision=function(eq,er){var es;es=M.premisas(eq,er);return[er.nRefActivos*es[0],er.nDescActivos*es[1]];};M.premisas=function(eq,er){var es;es=er.tipo.$==0?[eq.comisionReferidosMaster,eq.comisionDescendientesMaster]:[eq.comisionReferidosRegular,eq.comisionDescendientesRegular];return er.status.$==2?[es[0],es[1]]:[0,0];};M.dia=function(eq){return eq.$==1?5:eq.$==2?10:eq.$==3?15:eq.$==4?20:eq.$==5?25:1;};Q=P.TemplateInstance=ei.Class({get_Doc:function(){return this.doc;},Hole:function(eq){return this.allVars.get_Item(eq);}},g,Q);Q.New=ei.Ctor(function(eq,er){g.New.call(this);this.doc=er;this.allVars=eq.$==0?eq.$0:o.FailWith("Should not happen");},Q);R.get=function(eq,er){R.checkBounds(eq,er);return eq[er];};R.length=function(eq){return eq.dims===2?eq.length*eq.length:eq.length;};R.checkBounds=function(eq,er){if(er<0||er>=eq.length)o.FailWith("Index was outside the bounds of the array.");};R.set=function(eq,er,es){R.checkBounds(eq,er);eq[er]=es;};S=P.ProviderBuilder=ei.Class({WithHole:function(eq){this.h.push(eq);return this;}},null,S);S.Make=function(){var eq;return S.New(null,(eq=br.NewGuid(),a.String(eq)),[]);};S.New=function(eq,er,es){return new S({i:eq,k:er,h:es});};T.CompleteHoles=function(eq,er,es){var eu,ev,ew,ex,ey,ez;function et(eA,eB){var eC,eD,eE,eF;return ev.Contains(eA)?null:(eC=eB===0?(eD=i.Create$1(""),[{$:8,$0:eA,$1:eD},eD]):eB===1?(eE=i.Create$1(0),[{$:13,$0:eA,$1:eE},eE]):eB===2?(eF=i.Create$1(false),[{$:9,$0:eA,$1:eF},eF]):o.FailWith("Invalid value type"),(eu.set_Item(eA,eC[1]),{$:1,$0:eC[0]}));}eu=new bR.New$5();ev=new bS.New$3();ew=cx.Get(er);try{while(ew.MoveNext()){ex=ew.Current();(ex.$==8?(ey=[ex.$0,bT.Box(ex.$1)],true):ex.$==11?(ey=[ex.$0,bT.Box(ex.$1)],true):ex.$==10?(ey=[ex.$0,bT.Box(ex.$1)],true):ex.$==13?(ey=[ex.$0,bT.Box(ex.$1)],true):ex.$==12?(ey=[ex.$0,bT.Box(ex.$1)],true):ex.$==9&&(ey=[ex.$0,bT.Box(ex.$1)],true))?(ez=ey[0],ev.Add(ez),eu.set_Item(ez,ey[1])):void 0;}}finally{if(typeof ew=="object"&&"Dispose"in ew)ew.Dispose();}return[ba.append(er,R.choose(function(eA){return et(eA[0],eA[1]);},es)),{$:0,$0:eu}];};T.EventQ2=function(eq,er,es,et){return{$:5,$0:er,$1:true,$2:function(eu){return function(ev){return et({Vars:es(),Target:eu,Event:ev});};}};};U.opcionesadministrador=function(eq){cY.LoadLocalTemplates("index0");return eq?cY.NamedTemplate("index0",{$:1,$0:"opcionesadministrador"},eq):void 0;};V.p$2=function(eq){return eq.$==1?"Regular":"Master";};V.p$1=function(eq){return eq.$==4?"Cancelado":eq.$==3?"Inactivo":eq.$==2?"Activo":eq.$==1?"DatosBancariosIngresados":"CuentaCreada";};U.filaaliado=function(eq){cY.LoadLocalTemplates("index0");return eq?cY.NamedTemplate("index0",{$:1,$0:"filaaliado"},eq):void 0;};U.tablaaliados=function(eq){cY.LoadLocalTemplates("index0");return eq?cY.NamedTemplate("index0",{$:1,$0:"tablaaliados"},eq):void 0;};U.aliado=function(eq){cY.LoadLocalTemplates("index0");return eq?cY.NamedTemplate("index0",{$:1,$0:"aliado"},eq):void 0;};U.calculo=function(eq){cY.LoadLocalTemplates("index0");return eq?cY.NamedTemplate("index0",{$:1,$0:"calculo"},eq):void 0;};V.p$13=function(eq){return eq.$==2?"Mensaje "+bv.prettyPrint(eq.$0):eq.$==1?"NuevoRegistro "+bv.prettyPrint(eq.$0):"ROk";};U.formaregistro=function(eq){cY.LoadLocalTemplates("index0");return eq?cY.NamedTemplate("index0",{$:1,$0:"formaregistro"},eq):void 0;};U.filaconsolidado=function(eq){cY.LoadLocalTemplates("index0");return eq?cY.NamedTemplate("index0",{$:1,$0:"filaconsolidado"},eq):void 0;};U.consolidado=function(eq){cY.LoadLocalTemplates("index0");return eq?cY.NamedTemplate("index0",{$:1,$0:"consolidado"},eq):void 0;};V.p$15=function(eq){return eq.$==5?"Dia25":eq.$==4?"Dia20":eq.$==3?"Dia15":eq.$==2?"Dia10":eq.$==1?"Dia05":"Dia01";};U.filapago=function(eq){cY.LoadLocalTemplates("index0");return eq?cY.NamedTemplate("index0",{$:1,$0:"filapago"},eq):void 0;};U.tablapagos=function(eq){cY.LoadLocalTemplates("index0");return eq?cY.NamedTemplate("index0",{$:1,$0:"tablapagos"},eq):void 0;};U.filadocs=function(eq){cY.LoadLocalTemplates("index0");return eq?cY.NamedTemplate("index0",{$:1,$0:"filadocs"},eq):void 0;};U.subirdocumentos=function(eq){cY.LoadLocalTemplates("index0");return eq?cY.NamedTemplate("index0",{$:1,$0:"subirdocumentos"},eq):void 0;};U.autorizacionpago=function(eq){cY.LoadLocalTemplates("index0");return eq?cY.NamedTemplate("index0",{$:1,$0:"autorizacionpago"},eq):void 0;};U.contrato=function(eq){cY.LoadLocalTemplates("index0");return eq?cY.NamedTemplate("index0",{$:1,$0:"contrato"},eq):void 0;};W.r=function(){return c6.JSUnion(void 0,[[null,[[null,[]]],[]],[null,[[null,["NoUser"]]],[]],[null,[[null,["PreRegister"]]],[]],[null,[[null,["Content"]]],[c6.rString()]],[null,[[null,["Pdf"]]],[c6.rWildcard()]],[null,[[null,["Video"]]],[c6.rWildcard()]]]);};V.p$10=function(eq){return"IdAliado "+bv.prettyPrint(eq.$0);};U.datospersonales=function(eq){cY.LoadLocalTemplates("index0");return eq?cY.NamedTemplate("index0",{$:1,$0:"datospersonales"},eq):void 0;};V.p$12=function(eq){return eq.$==2?"Empresa":eq.$==1?"Femenino":"Masculino";};U.correo=function(eq){cY.LoadLocalTemplates("index0");return eq?cY.NamedTemplate("index0",{$:1,$0:"correo"},eq):void 0;};U.telefono=function(eq){cY.LoadLocalTemplates("index0");return eq?cY.NamedTemplate("index0",{$:1,$0:"telefono"},eq):void 0;};U.direccion=function(eq){cY.LoadLocalTemplates("index0");return eq?cY.NamedTemplate("index0",{$:1,$0:"direccion"},eq):void 0;};U.formadatospersonales=function(eq){cY.LoadLocalTemplates("index0");return eq?cY.NamedTemplate("index0",{$:1,$0:"formadatospersonales"},eq):void 0;};U.formacontactos=function(eq){cY.LoadLocalTemplates("index0");return eq?cY.NamedTemplate("index0",{$:1,$0:"formacontactos"},eq):void 0;};U.formacuentas=function(eq){cY.LoadLocalTemplates("index0");return eq?cY.NamedTemplate("index0",{$:1,$0:"formacuentas"},eq):void 0;};U.formafirma=function(eq){cY.LoadLocalTemplates("index0");return eq?cY.NamedTemplate("index0",{$:1,$0:"formafirma"},eq):void 0;};X.p=function(eq){return"{"+("errorCode = "+bv.prettyPrint(eq.errorCode))+"; "+("errorMessage = "+bv.prettyPrint(eq.errorMessage))+"; "+("message = "+bv.prettyPrint(eq.message))+"; "+("name = "+bv.prettyPrint(eq.name))+"; "+("stack = "+V.p$11(eq.stack))+"}";};X.p$1=function(eq){return"{"+("accessToken = "+bv.prettyPrint(eq.accessToken))+"; "+("account = "+bv.prettyPrint(eq.account))+"; "+("accountState = "+bv.prettyPrint(eq.accountState))+"; "+("expiresOn = "+bv.prettyPrint(eq.expiresOn))+"; "+("idToken = "+bv.prettyPrint(eq.idToken))+"; "+("scopes = "+bv.prettyPrint(eq.scopes))+"; "+("tenantId = "+bv.prettyPrint(eq.tenantId))+"; "+("tokenType = "+bv.prettyPrint(eq.tokenType))+"; "+("uniqueId = "+bv.prettyPrint(eq.uniqueId))+"}";};V.p$14=function(eq){return"IdPayment "+bv.prettyPrint(eq.$0);};V.p$4=function(eq){return eq.$==2?"OtroS "+bv.prettyPrint(eq.$0):eq.$==1?"Florida":"Texas";};V.p$3=function(eq){return eq.$==3?"OtroP "+bv.prettyPrint(eq.$0):eq.$==2?"Argentina":eq.$==1?"Venezuela":"USA";};V.p$6=function(eq){return eq.$==2?"Otra "+bv.prettyPrint(eq.$0):eq.$==1?"Corriente":"Ahorro";};V.p$11=function(eq){return eq==null?"null":"Some "+bv.prettyPrint(eq.$0);};U.cuentabancaria=function(eq){cY.LoadLocalTemplates("index0");return eq?cY.NamedTemplate("index0",{$:1,$0:"cuentabancaria"},eq):void 0;};U.tarjetacredito=function(eq){cY.LoadLocalTemplates("index0");return eq?cY.NamedTemplate("index0",{$:1,$0:"tarjetacredito"},eq):void 0;};V.p=function(eq){return eq.$==3?"ResetPassword":eq.$==2?"EditProfile":eq.$==1?"SignUp":"SignIn";};V.p$9=function(eq){return eq.$==3?"Voip":eq.$==2?"Habitacion":eq.$==1?"Oficina":"Movil";};V.p$8=function(eq){return eq.$==3?"Otro "+bv.prettyPrint(eq.$0):eq.$==2?"ServicioPostal":eq.$==1?"Oficina":"Habitacion";};V.p$5=function(eq){return eq.$==3?"Otra "+bv.prettyPrint(eq.$0):eq.$==2?"Amex":eq.$==1?"MasterCard":"Visa";};Y=h.Doc=ei.Class({},g,Y);Y.get_Empty=function(){return Y.Mk(null,p.Const());};Y.Concat=function(eq){var er;er=cK.ofSeqNonCopying(eq);return cK.TreeReduce(Y.get_Empty(),Y.Append,er);};Y.BindView=function(eq,er){return Y.EmbedView(p.Map(eq,er));};Y.Mk=function(eq,er){return new Y.New(eq,er);};Y.ConvertSeqBy=function(eq,er,es){return Y.Flatten(p.MapSeqCachedViewBy(eq,function(et,eu){return(er(et))(eu);},es));};Y.EmbedView=function(eq){var er;er=db.CreateEmbedNode();return Y.Mk({$:2,$0:er},p.Map(a.ignore,p.Bind(function(es){db.UpdateEmbedNode(er,es.docNode);return es.updates;},eq)));};Y.Append=function(eq,er){return Y.Mk({$:0,$0:eq.docNode,$1:er.docNode},p.Map2Unit(eq.updates,er.updates));};Y.Verbatim=function(eq){var er;return Y.Mk(cK.MapTreeReduce(function(es){return H.Equals(es.nodeType,E.TEXT_NODE)?{$:5,$0:es}:{$:1,$0:db.CreateElemNode(es,dg.EmptyAttr(),null)};},null,function(es,et){return{$:0,$0:es,$1:et};},(er=ek.parseHTML(eq),H.Equals(er,null)?[]:er)),p.Const());};Y.TextNode=function(eq){return Y.Mk({$:5,$0:dh.CreateText(eq)},p.Const());};Y.Flatten=function(eq){return Y.EmbedView(p.Map(Y.Concat,eq));};Y.ConvertBy=function(eq,er,es){return Y.Flatten(p.MapSeqCachedBy(eq,er,es));};Y.Button=function(eq,er,es){var et;et=cV.Concat(er);return dF.New(Y.Clickable("button",es),et,Y.TextNode(eq));};Y.Input=function(eq,er){return Y.InputInternal("input",function(){return ba.append(eq,[cN.Value(er)]);});};Y.Element=function(eq,er,es){var et,eu;et=cV.Concat(er);eu=Y.Concat(es);return dF.New(dh.CreateElement(eq),et,eu);};Y.RunInPlace=function(eq,er,es){var et;et=db.CreateRunState(er,es.docNode);p.Sink(dJ.get_UseAnimations()||dK.BatchUpdatesEnabled()?dL.StartProcessor(db.PerformAnimatedUpdate(eq,et,es.docNode)):function(){db.PerformSyncUpdate(eq,et,es.docNode);},es.updates);};Y.Clickable=function(eq,er){var es;es=dh.CreateElement(eq);es.addEventListener("click",function(et){et.preventDefault();return er();},false);return es;};Y.TextView=function(eq){var er;er=db.CreateTextNode();return Y.Mk({$:4,$0:er},p.Map(function(es){db.UpdateTextNode(er,es);},eq));};Y.InputInternal=function(eq,er){var es;es=dh.CreateElement(eq);return dF.New(es,cV.Concat(er(es)),Y.get_Empty());};Y.Run=function(eq,er){db.LinkElement(eq,er.docNode);Y.RunInPlace(false,eq,er);};Y.InputArea=function(eq,er){return Y.InputInternal("textarea",function(){return ba.append(eq,[cN.Value(er)]);});};Y.New=ei.Ctor(function(eq,er){g.New.call(this);this.docNode=eq;this.updates=er;},Y);Z.llamadas=function(){_4.$cctor();return _4.llamadas;};Z.ejecutarDataEventoNuevo=function(eq){var er,es,et;er=(es=n.get_LoggedId(),function(eu){return(new cC.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.ejecutarDataEventoNuevo:1305833807",[es,eu]);});et=bn.asyncResult();return et.Run(et.Delay(function(){var eu;eu=Z.llamadas().Get()+1;Z.llamadas().Set(eu);return et.TryFinally(et.Delay(function(){return et.ReturnFrom$1(er(eq));}),function(){var ev;ev=Z.llamadas().Get()-1;Z.llamadas().Set(ev);});}));};Z.iterA=function(eq){cB.iterA(function(er){a.alert(er);},a.ignore,eq);};Z.obtenerFormasDePagoPara=function(eq){var er;function es(et){return(new cC.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerFormasDePagoPara:2142892534",[et]);}er=bn.asyncResult();return er.Run(er.Delay(function(){var et;et=Z.llamadas().Get()+1;Z.llamadas().Set(et);return er.TryFinally(er.Delay(function(){return er.ReturnFrom$1(es(eq));}),function(){var eu;eu=Z.llamadas().Get()-1;Z.llamadas().Set(eu);});}));};Z.enviarCorreosInvitacion=function(eq,er){var es,et,eu,ev;es=(et=n.get_LoggedId(),function(ew){return(new cC.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.enviarCorreosInvitacion:921486630",[et,ew[0],ew[1]]);});eu=[eq,er];ev=bn.asyncResult();return ev.Run(ev.Delay(function(){var ew;ew=Z.llamadas().Get()+1;Z.llamadas().Set(ew);return ev.TryFinally(ev.Delay(function(){return ev.ReturnFrom$1(es(eu));}),function(){var ex;ex=Z.llamadas().Get()-1;Z.llamadas().Set(ex);});}));};Z.obtenerIdInfluyente=function(eq){var er;function es(et){return(new cC.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerIdInfluyente:231616815",[et]);}er=bn.asyncResult();return er.Run(er.Delay(function(){var et;et=Z.llamadas().Get()+1;Z.llamadas().Set(et);return er.TryFinally(er.Delay(function(){return er.ReturnFrom$1(es(eq));}),function(){var eu;eu=Z.llamadas().Get()-1;Z.llamadas().Set(eu);});}));};Z.obtenerUnions=function(){var eq;function er(){return(new cC.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerUnions:1877296388",[]);}eq=bn.asyncResult();return eq.Run(eq.Delay(function(){var es;es=Z.llamadas().Get()+1;Z.llamadas().Set(es);return eq.TryFinally(eq.Delay(function(){return eq.ReturnFrom$1(er(void 0));}),function(){var et;et=Z.llamadas().Get()-1;Z.llamadas().Set(et);});}));};Z.agregarUsuarioSiEsNuevo=function(eq){var er,es,et;er=(es=n.get_LoggedId(),function(eu){return(new cC.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.agregarUsuarioSiEsNuevo:2096926511",[es,eu]);});et=bn.asyncResult();return et.Run(et.Delay(function(){var eu;eu=Z.llamadas().Get()+1;Z.llamadas().Set(eu);return et.TryFinally(et.Delay(function(){return et.ReturnFrom$1(er(eq));}),function(){var ev;ev=Z.llamadas().Get()-1;Z.llamadas().Set(ev);});}));};Z.obtenerEstadoParaUsuario=function(eq){var er,es;function et(eu){return(new cC.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerEstadoParaUsuario:1912907973",[eu]);}er=n.get_LoggedId();es=bn.asyncResult();return es.Run(es.Delay(function(){var eu;eu=Z.llamadas().Get()+1;Z.llamadas().Set(eu);return es.TryFinally(es.Delay(function(){return es.ReturnFrom$1(et(er));}),function(){var ev;ev=Z.llamadas().Get()-1;Z.llamadas().Set(ev);});}));};Z.borrarFormaPago=function(eq){var er,es,et;er=(es=n.get_LoggedId(),function(eu){return(new cC.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.borrarFormaPago:1837795433",[es,eu]);});et=bn.asyncResult();return et.Run(et.Delay(function(){var eu;eu=Z.llamadas().Get()+1;Z.llamadas().Set(eu);return et.TryFinally(et.Delay(function(){return et.ReturnFrom$1(er(eq));}),function(){var ev;ev=Z.llamadas().Get()-1;Z.llamadas().Set(ev);});}));};Z.registrarTarjeta=function(eq){var er,es,et;er=(es=n.get_LoggedId(),function(eu){return(new cC.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.registrarTarjeta:1914379366",[es,eu]);});et=bn.asyncResult();return et.Run(et.Delay(function(){var eu;eu=Z.llamadas().Get()+1;Z.llamadas().Set(eu);return et.TryFinally(et.Delay(function(){return et.ReturnFrom$1(er(eq));}),function(){var ev;ev=Z.llamadas().Get()-1;Z.llamadas().Set(ev);});}));};Z.registrarCuenta=function(eq){var er,es,et;er=(es=n.get_LoggedId(),function(eu){return(new cC.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.registrarCuenta:1678015656",[es,eu]);});et=bn.asyncResult();return et.Run(et.Delay(function(){var eu;eu=Z.llamadas().Get()+1;Z.llamadas().Set(eu);return et.TryFinally(et.Delay(function(){return et.ReturnFrom$1(er(eq));}),function(){var ev;ev=Z.llamadas().Get()-1;Z.llamadas().Set(ev);});}));};Z.validarFormaPago=function(eq){var er,es,et;er=(es=n.get_LoggedId(),function(eu){return(new cC.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.validarFormaPago:1837795433",[es,eu]);});et=bn.asyncResult();return et.Run(et.Delay(function(){var eu;eu=Z.llamadas().Get()+1;Z.llamadas().Set(eu);return et.TryFinally(et.Delay(function(){return et.ReturnFrom$1(er(eq));}),function(){var ev;ev=Z.llamadas().Get()-1;Z.llamadas().Set(ev);});}));};Z.obtenerListaDocs=function(){var eq;function er(){return(new cC.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerListaDocs:244796561",[n.get_LoggedId()]);}eq=bn.asyncResult();return eq.Run(eq.Delay(function(){var es;es=Z.llamadas().Get()+1;Z.llamadas().Set(es);return eq.TryFinally(eq.Delay(function(){return eq.ReturnFrom$1(er(void 0));}),function(){var et;et=Z.llamadas().Get()-1;Z.llamadas().Set(et);});}));};Z.actualizarSubscripcion=function(eq){var er,es,et;er=(es=n.get_LoggedId(),function(eu){return(new cC.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.actualizarSubscripcion:1837795433",[es,eu]);});et=bn.asyncResult();return et.Run(et.Delay(function(){var eu;eu=Z.llamadas().Get()+1;Z.llamadas().Set(eu);return et.TryFinally(et.Delay(function(){return et.ReturnFrom$1(er(eq));}),function(){var ev;ev=Z.llamadas().Get()-1;Z.llamadas().Set(ev);});}));};Z.obtenerFormasDePago=function(){var eq;function er(){return(new cC.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerFormasDePagoId:-1441558235",[n.get_LoggedId()]);}eq=bn.asyncResult();return eq.Run(eq.Delay(function(){var es;es=Z.llamadas().Get()+1;Z.llamadas().Set(es);return eq.TryFinally(eq.Delay(function(){return eq.ReturnFrom$1(er(void 0));}),function(){var et;et=Z.llamadas().Get()-1;Z.llamadas().Set(et);});}));};_0=K.IdAliado=ei.Class({get_Id:function(){return this.$0;}},null,_0);_1.New=function(eq,er,es,et,eu,ev){return{idAliado:eq,aliados:er,anoActual:es,periodoActual:et,premisas:eu,nevento:ev};};_2=h.ConcreteVar=ei.Class({get_View:function(){return this.view;},Set:function(eq){if(this.isConst)(function(er){return er("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal");}(function(er){el.log(er);}));else{_3.Obsolete(this.snap);this.current=eq;this.snap=_3.New({$:2,$0:eq,$1:[]});}},Get:function(){return this.current;},Update:function(eq){this.Set(eq(this.Get()));},UpdateMaybe:function(eq){var er;er=eq(this.Get());er!=null&&er.$==1?this.Set(er.$0):void 0;}},q,_2);_2.New=ei.Ctor(function(eq,er,es){var et;et=this;q.New.call(this);this.isConst=eq;this.current=es;this.snap=er;this.view=function(){return et.snap;};this.id=bW.Int();},_2);_3.Map=function(eq,er){var es,et;es=er.s;return es!=null&&es.$==0?_3.New({$:0,$0:eq(es.$0)}):(et=_3.New({$:3,$0:[],$1:[]}),(_3.When(er,function(eu){_3.MarkDone(et,er,eq(eu));},et),et));};_3.WhenRun=function(eq,er,es){var et;et=eq.s;et==null?es():et!=null&&et.$==2?(et.$1.push(es),er(et.$0)):et!=null&&et.$==3?(et.$0.push(er),et.$1.push(es)):er(et.$0);};_3.WhenObsoleteRun=function(eq,er){var es;es=eq.s;es==null?er():es!=null&&es.$==2?es.$1.push(er):es!=null&&es.$==3?es.$1.push(er):void 0;};_3.When=function(eq,er,es){var et;et=eq.s;et==null?_3.Obsolete(es):et!=null&&et.$==2?(_3.EnqueueSafe(et.$1,es),er(et.$0)):et!=null&&et.$==3?(et.$0.push(er),_3.EnqueueSafe(et.$1,es)):er(et.$0);};_3.MarkDone=function(eq,er,es){var et;if(et=er.s,et!=null&&et.$==0)_3.MarkForever(eq,es);else _3.MarkReady(eq,es);};_3.Map2=function(eq,er,es){var et,eu,ev;function ew(ex){var ey,ez,eA;if(!(ey=ev.s,ey!=null&&ey.$==0||ey!=null&&ey.$==2)){ez=_3.ValueAndForever(er);eA=_3.ValueAndForever(es);ez!=null&&ez.$==1?eA!=null&&eA.$==1?ez.$0[1]&&eA.$0[1]?_3.MarkForever(ev,eq(ez.$0[0],eA.$0[0])):_3.MarkReady(ev,eq(ez.$0[0],eA.$0[0])):void 0:void 0;}}et=er.s;eu=es.s;return et!=null&&et.$==0?eu!=null&&eu.$==0?_3.New({$:0,$0:eq(et.$0,eu.$0)}):_3.Map2Opt1(eq,et.$0,es):eu!=null&&eu.$==0?_3.Map2Opt2(eq,eu.$0,er):(ev=_3.New({$:3,$0:[],$1:[]}),(_3.When(er,ew,ev),_3.When(es,ew,ev),ev));};_3.Map3=function(eq,er,es,et){var eu,ev,ew,ex;function ey(ez){var eA,eB,eC,eD;if(!(eA=ex.s,eA!=null&&eA.$==0||eA!=null&&eA.$==2)){eB=_3.ValueAndForever(er);eC=_3.ValueAndForever(es);eD=_3.ValueAndForever(et);eB!=null&&eB.$==1?eC!=null&&eC.$==1?eD!=null&&eD.$==1?eB.$0[1]&&eC.$0[1]&&eD.$0[1]?_3.MarkForever(ex,eq(eB.$0[0],eC.$0[0],eD.$0[0])):_3.MarkReady(ex,eq(eB.$0[0],eC.$0[0],eD.$0[0])):void 0:void 0:void 0;}}eu=er.s;ev=es.s;ew=et.s;return eu!=null&&eu.$==0?ev!=null&&ev.$==0?ew!=null&&ew.$==0?_3.New({$:0,$0:eq(eu.$0,ev.$0,ew.$0)}):_3.Map3Opt1(eq,eu.$0,ev.$0,et):ew!=null&&ew.$==0?_3.Map3Opt2(eq,eu.$0,ew.$0,es):_3.Map3Opt3(eq,eu.$0,es,et):ev!=null&&ev.$==0?ew!=null&&ew.$==0?_3.Map3Opt4(eq,ev.$0,ew.$0,er):_3.Map3Opt5(eq,ev.$0,er,et):ew!=null&&ew.$==0?_3.Map3Opt6(eq,ew.$0,er,es):(ex=_3.New({$:3,$0:[],$1:[]}),(_3.When(er,ey,ex),_3.When(es,ey,ex),_3.When(et,ey,ex),ex));};_3.MapAsync=function(eq,er){var es;es=_3.New({$:3,$0:[],$1:[]});_3.When(er,function(et){bV.StartTo(eq(et),function(eu){_3.MarkDone(es,er,eu);});},es);return es;};_3.TryGet=function(eq){var er,es;er=eq.s;return(er!=null&&er.$==0?(es=er.$0,true):er!=null&&er.$==2&&(es=er.$0,true))?{$:1,$0:es}:null;};_3.EnqueueSafe=function(eq,er){var es,et,eu,ev;eq.push(er);if(eq.length%20===0){es=eq.slice(0);dT.Clear(eq);for(et=0,eu=R.length(es)-1;et<=eu;et++){ev=R.get(es,et);typeof ev=="object"?function(ew){if(ew.s)eq.push(ew);}(ev):function(ew){eq.push(ew);}(ev);}}else void 0;};_3.MarkForever=function(eq,er){var es,et,eu,ev;es=eq.s;if(es!=null&&es.$==3){eq.s={$:0,$0:er};et=es.$0;for(eu=0,ev=R.length(et)-1;eu<=ev;eu++)(R.get(et,eu))(er);}else void 0;};_3.MarkReady=function(eq,er){var es,et,eu,ev;es=eq.s;if(es!=null&&es.$==3){eq.s={$:2,$0:er,$1:es.$1};et=es.$0;for(eu=0,ev=R.length(et)-1;eu<=ev;eu++)(R.get(et,eu))(er);}else void 0;};_3.Map2Opt1=function(eq,er,es){return _3.Map(function(et){return eq(er,et);},es);};_3.Map2Opt2=function(eq,er,es){return _3.Map(function(et){return eq(et,er);},es);};_3.ValueAndForever=function(eq){var er;er=eq.s;return er!=null&&er.$==0?{$:1,$0:[er.$0,true]}:er!=null&&er.$==2?{$:1,$0:[er.$0,false]}:null;};_3.Map3Opt1=function(eq,er,es,et){return _3.Map(function(eu){return eq(er,es,eu);},et);};_3.Map3Opt2=function(eq,er,es,et){return _3.Map(function(eu){return eq(er,eu,es);},et);};_3.Map3Opt3=function(eq,er,es,et){return _3.Map2(function(eu,ev){return eq(er,eu,ev);},es,et);};_3.Map3Opt4=function(eq,er,es,et){return _3.Map(function(eu){return eq(eu,er,es);},et);};_3.Map3Opt5=function(eq,er,es,et){return _3.Map2(function(eu,ev){return eq(eu,er,ev);},es,et);};_3.Map3Opt6=function(eq,er,es,et){return _3.Map2(function(eu,ev){return eq(eu,ev,er);},es,et);};_3.Map2Unit=function(eq,er){var es,et,eu;function ev(){var ew,ex,ey;if(!(ew=eu.s,ew!=null&&ew.$==0||ew!=null&&ew.$==2)){ex=_3.ValueAndForever(eq);ey=_3.ValueAndForever(er);ex!=null&&ex.$==1?ey!=null&&ey.$==1?ex.$0[1]&&ey.$0[1]?_3.MarkForever(eu,null):_3.MarkReady(eu,null):void 0:void 0;}}es=eq.s;et=er.s;return es!=null&&es.$==0?et!=null&&et.$==0?_3.New({$:0,$0:null}):er:et!=null&&et.$==0?eq:(eu=_3.New({$:3,$0:[],$1:[]}),(_3.When(eq,ev,eu),_3.When(er,ev,eu),eu));};_3.Join=function(eq){var er;er=_3.New({$:3,$0:[],$1:[]});_3.When(eq,function(es){var et;et=es();_3.When(et,function(eu){var ev,ew;if((ev=et.s,ev!=null&&ev.$==0)&&(ew=eq.s,ew!=null&&ew.$==0))_3.MarkForever(er,eu);else _3.MarkReady(er,eu);},er);},er);return er;};_3.Sequence=function(eq){var er,es,et;function eu(ev){var ew;if(et[0]===0){ew=R.map(function(ex){var ey;ey=ex.s;return ey!=null&&ey.$==0?ey.$0:ey!=null&&ey.$==2?ey.$0:o.FailWith("value not found by View.Sequence");},er);R.forall(function(ex){var ey;ey=ex.s;return ey!=null&&ey.$==0;},er)?_3.MarkForever(es,ew):_3.MarkReady(es,ew);}else et[0]--;}er=R.ofSeq(eq);return er.length==0?_3.New({$:0,$0:[]}):(es=_3.New({$:3,$0:[],$1:[]}),(et=[R.length(er)-1],(R.iter(function(ev){_3.When(ev,eu,es);},er),es)));};_3.Copy=function(eq){var er,es,et;er=eq.s;return er==null?eq:er!=null&&er.$==2?(es=_3.New({$:2,$0:er.$0,$1:[]}),(_3.WhenObsolete(eq,es),es)):er!=null&&er.$==3?(et=_3.New({$:3,$0:[],$1:[]}),(_3.When(eq,function(eu){_3.MarkDone(et,eq,eu);},et),et)):eq;};_3.WhenObsolete=function(eq,er){var es;es=eq.s;es==null?_3.Obsolete(er):es!=null&&es.$==2?_3.EnqueueSafe(es.$1,er):es!=null&&es.$==3?_3.EnqueueSafe(es.$1,er):void 0;};_4.$cctor=function(){var eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF;_4.$cctor=a.ignore;function eG(eP){return bh.concat("\n",eP);}function eH(eP){return b2.splitByChar$1("\n",eP);}function eI(eP){var eQ,eR;return b3.array(eP,{$:1,$0:0},{$:1,$0:(eQ=0,(eR=R.length(eP)-2,H.Compare(eQ,eR)===1?eQ:eR))});}function eJ(eP){return bh.concat("\n",eP);}function eK(eP){return eP+"T00:00:00";}function eL(eP){var eQ;eQ=j.REGEX$2(j.rexEmail$1(),"gi",eP);return eQ!=null&&eQ.$==1?eQ.$0:[];}function eM(eP){return bh.concat("\n",eP);}function eN(eP){return eP==="ProzperLyt.mainContent"?cp.DefaultEP:{$:3,$0:eP};}function eO(eP){if(!H.Equals(m.endPointV().Get(),eP))m.endPointV().Set(eP);}_4.rtn=function(eP){return[eP];};_4.result=new bX.New();_4.result$1=bC.result();_4.resultP=new bY.New();_4.eff=new b0.New();_4.asyncResult=new bo.New();_4.asyncResultP=new b1.New();_4.unindentStr=function(eP){return eG(b2.unindent$1(eP));};_4.skipLastLine=(eq=function(eP){return eI(eH(eP));},function(eP){return eJ(eq(eP));});_4.parseDateO2=(er=b4.tryParseWith$1(function(eP){var eQ,eR;eQ=0;return[(eR=cZ.TryParse(eP),eR!=null&&eR.$==1&&(eQ=eR.$0,true)),eQ];}),function(eP){return er(eK(eP));});_4.parseDateO=b4.tryParseWith$1(function(eP){var eQ,eR;eQ=0;return[(eR=cZ.TryParse(eP),eR!=null&&eR.$==1&&(eQ=eR.$0,true)),eQ];});_4.parseIntO=b4.tryParseWith$1(function(eP){var eQ;eQ=0;return[bP.TryParseInt32(eP,{get:function(){return eQ;},set:function(eR){eQ=eR;}}),eQ];});_4.parseInt64O=b4.tryParseWith$1(function(eP){var eQ;eQ=0;return[bP.TryParseInt64(eP,{get:function(){return eQ;},set:function(eR){eQ=eR;}}),eQ];});_4.parseSingleO=b4.tryParseWith$1(function(eP){var eQ,eR;eQ=0;return[(eR=a.Number(eP),a.isNaN(eR)?false:(eQ=eR,true)),eQ];});_4.parseDoubleO=b4.tryParseWith$1(function(eP){var eQ,eR;eQ=0;return[(eR=a.Number(eP),a.isNaN(eR)?false:(eQ=eR,true)),eQ];});_4.parseGuidO=b4.tryParseWith$1(function(eP){var eQ;eQ=null;return[br.TryParse(eP,{get:function(){return eQ;},set:function(eR){eQ=eR;}}),eQ];});_4["|Date|_|"]=b4.parseDateO$1();_4["|Int|_|"]=b4.parseIntO$1();_4["|Int64|_|"]=b4.parseInt64O$1();_4["|Single|_|"]=b4.parseSingleO$1();_4["|Double|_|"]=b4.parseDoubleO$1();_4["|Guid|_|"]=b4.parseGuidO$1();_4.serString=[b5.toJsonString,function(eP){return eP.tryString();}];_4.serFloat=[function(eP){return(function(eQ){return function(eR){return eQ(bv.prettyPrint(eR));};}(a.id))(eP);},function(eP){return eP.tryFloat();}];_4.serInt=[function(eP){return(function(eQ){return function(eR){return eQ(bv.prettyPrint(eR));};}(a.id))(eP);},function(eP){var eQ;eQ=eP.tryInt();return eQ==null?null:{$:1,$0:o.toInt(eQ.$0)};}];_4.serInt64=[function(eP){return function(eQ){return eP(a.String(eQ));};}(a.id),function(eP){return eP.tryInt();}];_4.serBool=[function(eP){return(function(eQ){return function(eR){return eQ(bv.prettyPrint(eR));};}(a.id))(eP);},function(eP){return eP.tryBool();}];_4.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";_4.rexEmail="(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@[*[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+]*";_4.policies=bx.ofArray([b7.SignIn,b7.SignUp,b7.EditProfile,b7.ResetPassword]);_4.premisasCalculo=bE.New(15,25,25,0,75,31,26,28);_4.telVacio=b8.New(b9.Movil,"","","","",false);_4.dirVacio=b_.New(bb.Error$1(""),b$.Habitacion,"","","",new ca({$:2,$0:""}),new cb({$:3,$0:""}),new cc({$:0,$0:""}));_4.tarVacio=cd.New("",cg.Visa,new cf({$:0,$0:""}),ce.New(2000,1));_4.ctaVacio=by.New("","",ch.Ahorro,new bA({$:0,$0:""}),new bz({$:0,$0:""}));_4.modeloVacio=_1.New(new _0({$:0,$0:""}),[],(es=em.now(),(new em(es)).getFullYear()),(et=em.now(),(new em(et)).getMonth()+1),K.premisasCalculo(),0);_4.correoVacio=bi.New("",null,null);_4.empty=(eu=bM.New(null,"","","","",cb.USA,ci.Masculino,(new em(2000,1-1,1)).getTime()),L.New(new _0({$:0,$0:""}),null,null,null,eu,[],[],false,bu.Inactivo,bN.Dia01,bO.Regular,(new em(2000,1-1,1)).getTime(),(new em(2000,1-1,1)).getTime(),0,0,0,0,0,0));_4.serverEndPoint=r.Create(function(){return self.location.protocol==="http:"?"http://localhost:7071/api/":(function(eP){return function(eQ){return eP("https://"+bv.toSafe(eQ)+"/api/");};}(a.id))(self.location.host);});_4.originalProvider=cj.AjaxProvider();_4.getTokenOA=function(){var eP;eP=null;return cL.Delay(function(){return cL.Return(null);});};_4.rootdir="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperServer\\website";_4.TemplatesFileName="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperServer\\website"+"\\index0.html";((function(eP){return function(eQ){return eP(bv.toSafe(eQ));};}(function(eP){el.log(eP);}))("D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperServer\\website\\index0.html"));_4.appId=bh.StartsWith(self.location.host,"prozper0")?"76703639-1d21-4bc3-bd46-c764f5ea78ee":"70ad4f9b-9a2b-409e-9c1e-d04dbb2e7cf2";_4.applicationId=bG.storeValue("applicationId",bG.appId());_4.tenantName=bG.storeValue("tenantName","prozper");_4.ref=bG.storeValue("ref","");_4.extraQueryParms=bG.storeValue("extraQueryParms","mkt=es-us");_4.refreshBefore=bG.storeValue("refreshBefore","0");_4.createOnStart=bG.storeValue("createOnStart","1");_4.forceLogin=bG.storeValue("forceLogin","1");_4.signInPolicy=bG.storeValue("signInPolicy","B2C_1_SignIn");_4.signUpPolicy=bG.storeValue("signUpPolicy","B2C_1_Registrarse");_4.editProfilePolicy=bG.storeValue("editProfilePolicy","B2C_1_EditarPerfil");_4.resetPasswordPolicy=bG.storeValue("resetPasswordPolicy","B2C_1_PasswordReset");_4.policyType=bG.storeValue("policyType","SignIn");ev=bG.storageGetItem("preambleState");ev==="InPreamble"||(ev===""||ev===null)?void bG.storeValue("preambleState","GoToSignIn"):null;_4.authority=bG.getAuthority(bG.tenantName(),bG.signInPolicy());_4.userO=i.Create$1(null);_4.agent=r.Create(function(){var eP,eQ;eP=(eQ=ck.New$1({$:1,$0:cl.New$1(bG.applicationId(),{$:1,$0:bG.authority()},{$:1,$0:false},null,null,null)},null,null,null),new self.Msal.UserAgentApplication(eQ));eP.handleRedirectCallback(function(eR,eS){bG.redirectCallback(eR,eS);});return eP;});_4.getTokenO=(ex=co.callA(function(eP){bb.print$1(eP);},bG.getTokenO0),function(){return ex.PostAndAsyncReply(function(eP){return[eP,null];},null);});_4.modeloV=i.Create$1(_1.New(new _0({$:0,$0:":"}),[],(ey=em.now(),(new em(ey)).getFullYear()),(ez=em.now(),(new em(ez)).getMonth()+1),K.premisasCalculo(),-2));_4.formasPagoAliadoV=i.Create$1([]);_4.invitacionesV=i.Create$1("");_4.emailsInvitarW=p.Map((eA=(eB=function(eP){return ba.distinct(eL(eP));},function(eP){return ba.sort(eB(eP));}),function(eP){return eM(eA(eP));}),m.invitacionesV().get_View());_4.invitacionesDisabledW=p.Map(function(eP){return eP===""?"disabled":"";},m.emailsInvitarW());_4.selAliadoIdOV=i.Create$1(null);_4.refAliadoIdOV=i.Create$1(null);_4.endPointV=cq.InstallHash(cp.DefaultEP,W.r());p.Sink(function(eP){if(eP.$==1);else if(eP.$==2);else if(eP.$==4)a.showPDF(eP.$0);else if(eP.$==5)a.playVideo();else bG.checkUser();},m.endPointV().get_View());_4.contentVar=new cJ.New(p.Map2(function(eP,eQ){var eR,eS;return eQ.$==0&&!H.Equals(bG.userO().Get(),null)?"ProzperLyt.mainContent":eQ.$==3&&(!H.Equals(bG.userO().Get(),null)&&(eS=eQ.$0,true))?eS:eQ.$==2?"ProzperLyt.cntPreRegister":eQ.$==4?"ProzperLyt.cntPDF":eQ.$==5?"ProzperLyt.cntVideo":"ProzperLyt.cntFormaNoUser";},bG.userO().get_View(),m.endPointV().get_View()),function(eP){return eO(eN(eP));});_4.aliadoW=(eC=p.get_Do(),p.Bind(function(eP){var eQ,eR;eQ=eP.idAliado;eR=ba.tryFind(function(eS){return H.Equals(eS.id,eQ);},eP.aliados);return p.Const(eR!=null&&eR.$==1?eR.$0:M.empty());},m.modeloV().get_View()));cs.installBearer(bG.getTokenO());_4.llamadas=i.Create$1(0);cj.set_EndPoint(ct.serverEndPoint().f()+"rpc/rpc");_4.shouldRefresh=true;p.Sink(function(){bp.refrescarData(true);},bG.userO().get_View());cL.Start((eD=null,cL.Delay(function(){return cL.While(function(){return true;},cL.Delay(function(){return cL.Bind(cL.Sleep(5*60*1000),function(){return cL.Return(null);});}));})),null);try{self.document.addEventListener("visibilityChange",function(){return null;},false);}catch(eP){null;}_4.paises=i.Create$1([]);_4.estados=i.Create$1([]);_4.tiposDir=i.Create$1([]);_4.tiposTel=i.Create$1([]);_4.generos=i.Create$1([]);_4.tiposCta=i.Create$1([]);_4.tiposTar=i.Create$1([]);_4.statuses=i.Create$1([]);_4.aniosV=i.Create$1([]);_4.mesesV=i.Create$1([]);Z.iterA((eE=bn.asyncResult(),eE.Run(eE.Delay(function(){return eE.Bind$1(Z.obtenerUnions(),function(eQ){bt.paises().Set(eQ[0]);bt.estados().Set(eQ[1]);bt.tiposDir().Set(eQ[2]);bt.tiposTel().Set(eQ[3]);bt.generos().Set(eQ[4]);bt.tiposCta().Set(eQ[5]);bt.tiposTar().Set(eQ[6]);bt.statuses().Set(eQ[7]);bt.aniosV().Set(eQ[9]);bt.mesesV().Set(eQ[8]);return eE.Zero();});}))));_4.ftel=[function(eQ){return eQ.$==2?{$:1,$0:eQ.$0}:null;},function(eQ){return{$:2,$0:eQ};}];_4.fcor=[function(eQ){return eQ.$==1?{$:1,$0:eQ.$0}:null;},function(eQ){return{$:1,$0:eQ};}];_4.fdir=[function(eQ){return eQ.$==0?{$:1,$0:eQ.$0}:null;},function(eQ){return{$:0,$0:eQ};}];_4.mensajes=i.Create$1("");_4.firmanteV=i.Create$1("");_4.fechaHoraV=i.Create$1("");cL.Start((eF=null,cL.Delay(function(){return cL.While(function(){return true;},cL.Delay(function(){return cL.Bind(cL.Sleep(1000),function(){var eQ;eQ=bb["String.Left$1"](function(eR){return eR.getFullYear()+"-"+("0"+(eR.getMonth()+1)).slice(-2)+"-"+("0"+eR.getDate()).slice(-2)+" "+("0"+eR.getHours()).slice(-2)+":"+("0"+eR.getMinutes()).slice(-2)+":"+("0"+eR.getSeconds()).slice(-2)+":"+("00"+eR.getMilliseconds()).slice(-3);}(new em(em.now())),19);bD.fechaHoraV().Set(eQ);return cL.Zero();});}));})),null);_4.uploaded=function(eQ,eR){return bb.print$1(eR);};_4.cuentaAutorizar=i.Create$1(Y.TextNode("No hay cuenta seleccionada"));_4.titular=i.Create$1("");_4.pid=new cu({$:0,$0:""});_4.ftar=[function(eQ){var eR;eR=eQ.cuentaPago;return eR.$==1?{$:1,$0:[eR.$0,x.msg(eQ),eQ.authorizeIdR.$==0]}:null;},function(eQ){return function(eR){return bB.New(eQ.nombre,bb.Error$1(""),{$:1,$0:eR});};}];_4.fcta=[function(eQ){var eR;eR=eQ.cuentaPago;return eR.$==0?{$:1,$0:[eR.$0,x.msg(eQ),eQ.authorizeIdR.$==0]}:null;},function(eQ){return function(eR){return bB.New(eQ.nombre,bb.Error$1(""),{$:0,$0:eR});};}];_4.docsV=i.Create$1([]);_4.uploaded$1=function(eQ,eR){A.refrescarListaDocs();return a.alert(eR);};_4.layoutName="ProzperLyt";_4.appName="Prozper";_4.influencerV=i.Create$1("");_4.influencerClassW=p.MapAsync(function(eQ){var eR;eR=null;return cL.Delay(function(){return cL.Bind(Z.obtenerIdInfluyente(eQ),function(eS){return eS.$==0?cL.Return("mui-btn--primary"):cL.Return("");});});},e.influencerV().get_View());};_5=h.ListModel=ei.Class({Append:function(eq){var er,es,et,eu;er=this;es=this["var"].Get();et=this.key(eq);eu=R.tryFindIndex(function(ev){return H.Equals(er.key(ev),et);},es);eu!=null&&eu.$==1?this["var"].Set(this.storage.SSetAt(eu.$0,eq,es)):this["var"].Set(this.storage.SAppend(eq,es));this.ObsoleteKey(et);},TryFindByKey:function(eq){var er;er=this;return R.tryFind(function(es){return H.Equals(er.key(es),eq);},this["var"].Get());},ObsoleteKey:function(eq){var er,es;er=(es=null,[this.it.TryGetValue(eq,{get:function(){return es;},set:function(et){es=et;}}),es]);er[0]?(_3.Obsolete(er[1]),this.it.Remove(eq)):void 0;},MapLens:function(eq){var er;er=this;return p.MapSeqCachedViewBy(er.key,function(es,et){return eq(es,er["LensInto'"](a.id,function(eu,ev){return ev;},es,et));},this["var"].get_View());},"LensInto'":function(eq,er,es,et){var eu,ev,ew;eu=this;ev=bW.Id();ew=new q({Get:function(){return eq(eu.FindByKey(es));},Set:function(ex){return eu.UpdateBy(function(ey){return{$:1,$0:er(ey,ex)};},es);},SetFinal:function(ex){return this.Set(ex);},Update:function(ex){return eu.UpdateBy(function(ey){return{$:1,$0:er(ey,ex(eq(ey)))};},es);},UpdateMaybe:function(ex){return eu.UpdateBy(function(ey){var ez;ez=ex(eq(ey));return ez==null?null:{$:1,$0:er(ey,ez.$0)};},es);},get_View:function(){return et;},get_Id:function(){return ev;}});q.New.call(ew);return ew;},FindByKey:function(eq){var er;er=this;return R.find(function(es){return H.Equals(er.key(es),eq);},this["var"].Get());},UpdateBy:function(eq,er){var es,et,eu,ev,ew;es=this;et=this["var"].Get();eu=R.tryFindIndex(function(ex){return H.Equals(es.key(ex),er);},et);eu!=null&&eu.$==1?(ev=eu.$0,ew=eq(R.get(et,ev)),ew!=null&&ew.$==1?(this["var"].Set(this.storage.SSetAt(ev,ew.$0,et)),this.ObsoleteKey(er)):void 0):void 0;},GetEnumerator:function(){return cx.Get(this["var"].Get());},GetEnumerator0:function(){return cx.Get0(this["var"].Get());}},g,_5);_5.New$1=ei.Ctor(function(eq){_5.New$2.call(this,eq,[]);},_5);_5.New$2=ei.Ctor(function(eq,er){var es;es=R.ofSeq(er);_5.New$3.call(this,eq,i.Create$1(es),dA.InMemory(es));},_5);_5.New$3=ei.Ctor(function(eq,er,es){g.New.call(this);this.key=eq;this["var"]=er;this.storage=es;this.v=p.Map(function(et){return et.slice();},this["var"].get_View());this.it=new bR.New$5();},_5);_6.New=function(eq,er){return{varName:eq,varVar:er};};_7.New=function(eq,er){return{viwName:eq,viwView:er};};_8.New=function(eq,er){return{docName:eq,docDoc:er};};_9.NewFromSeq=function(eq){var er,es,et;er={};es=cx.Get(eq);try{while(es.MoveNext()){et=es.Current();er[et[0]]=et[1];}}finally{if(typeof es=="object"&&"Dispose"in es)es.Dispose();}return er;};$.New=function(eq,er,es){return{c:eq,v:er,f:es};};ba.sortWith=function(eq,er){return ba.delay(function(){var es;es=R.ofSeq(er);R.sortInPlaceWith(eq,es);return es;});};ba.filter=function(eq,er){return{GetEnumerator:function(){var es;es=cx.Get(er);return new cy.New(null,null,function(et){var eu,ev,ew;eu=es.MoveNext();ev=es.Current();ew=false;while(eu)if(eq(ev)){et.c=ev;ew=true;eu=false;}else if(es.MoveNext())ev=es.Current();else eu=false;return ew;},function(){es.Dispose();});}};};ba.isEmpty=function(eq){var er;er=cx.Get(eq);try{return!er.MoveNext();}finally{if(typeof er=="object"&&"Dispose"in er)er.Dispose();}};ba.map=function(eq,er){return{GetEnumerator:function(){var es;es=cx.Get(er);return new cy.New(null,null,function(et){return es.MoveNext()&&(et.c=eq(es.Current()),true);},function(){es.Dispose();});}};};ba.delay=function(eq){return{GetEnumerator:function(){return cx.Get(eq());}};};ba.append=function(eq,er){return{GetEnumerator:function(){var es,et;es=cx.Get(eq);et=[true];return new cy.New(es,null,function(eu){var ev;return eu.s.MoveNext()?(eu.c=eu.s.Current(),true):(ev=eu.s,!H.Equals(ev,null)?ev.Dispose():void 0,eu.s=null,et[0]&&(et[0]=false,eu.s=cx.Get(er),eu.s.MoveNext()?(eu.c=eu.s.Current(),true):(eu.s.Dispose(),eu.s=null,false)));},function(eu){var ev;ev=eu.s;!H.Equals(ev,null)?ev.Dispose():void 0;});}};};ba.collect=function(eq,er){return ba.concat(ba.map(eq,er));};ba.min=function(eq){var er,es,et;er=cx.Get(eq);try{if(!er.MoveNext())ba.seqEmpty();es=er.Current();while(er.MoveNext()){et=er.Current();H.Compare(et,es)===-1?es=et:void 0;}return es;}finally{if(typeof er=="object"&&"Dispose"in er)er.Dispose();}};ba.tryPick=function(eq,er){var es,et;es=cx.Get(er);try{et=null;while(H.Equals(et,null)&&es.MoveNext())et=eq(es.Current());return et;}finally{if(typeof es=="object"&&"Dispose"in es)es.Dispose();}};ba.tryFind=function(eq,er){var es,et,eu;es=cx.Get(er);try{et=null;while(et==null&&es.MoveNext()){eu=es.Current();eq(eu)?et={$:1,$0:eu}:void 0;}return et;}finally{if(typeof es=="object"&&"Dispose"in es)es.Dispose();}};ba.exists=function(eq,er){var es,et;es=cx.Get(er);try{et=false;while(!et&&es.MoveNext())et=eq(es.Current());return et;}finally{if(typeof es=="object"&&"Dispose"in es)es.Dispose();}};ba.sumBy=function(eq,er){return ba.fold(function(es,et){return es+eq(et);},0,er);};ba.length=function(eq){var er,es;er=0;es=cx.Get(eq);try{while(es.MoveNext())er=er+1;return er;}finally{if(typeof es=="object"&&"Dispose"in es)es.Dispose();}};ba.zip=function(eq,er){return ba.map2(function(es,et){return[es,et];},eq,er);};ba.choose=function(eq,er){return ba.collect(function(es){var et;et=eq(es);return et==null?cA.Empty:bx.ofArray([et.$0]);},er);};ba.distinct=function(eq){return ba.distinctBy(a.id,eq);};ba.sort=function(eq){return ba.sortBy(a.id,eq);};ba.groupBy=function(eq,er){return ba.delay(function(){return R.groupBy(eq,R.ofSeq(er));});};ba.concat=function(eq){return{GetEnumerator:function(){var er;er=cx.Get(eq);return new cy.New(null,null,function(es){var et;while(true){et=es.s;if(H.Equals(et,null)){if(er.MoveNext()){es.s=cx.Get(er.Current());es=es;}else{er.Dispose();return false;}}else if(et.MoveNext()){es.c=et.Current();return true;}else{es.Dispose();es.s=null;es=es;}}},function(es){var et;et=es.s;!H.Equals(et,null)?et.Dispose():void 0;!H.Equals(er,null)?er.Dispose():void 0;});}};};ba.seqEmpty=function(){return o.FailWith("The input sequence was empty.");};ba.indexed=function(eq){return ba.mapi(function(er,es){return[er,es];},eq);};ba.fold=function(eq,er,es){var et,eu;et=er;eu=cx.Get(es);try{while(eu.MoveNext())et=eq(et,eu.Current());return et;}finally{if(typeof eu=="object"&&"Dispose"in eu)eu.Dispose();}};ba.map2=function(eq,er,es){return{GetEnumerator:function(){var et,eu;et=cx.Get(er);eu=cx.Get(es);return new cy.New(null,null,function(ev){return et.MoveNext()&&eu.MoveNext()&&(ev.c=eq(et.Current(),eu.Current()),true);},function(){et.Dispose();eu.Dispose();});}};};ba.tryFindIndex=function(eq,er){var es,et,eu;es=cx.Get(er);try{et=true;eu=0;while(et&&es.MoveNext())if(eq(es.Current()))et=false;else eu=eu+1;return et?null:{$:1,$0:eu};}finally{if(typeof es=="object"&&"Dispose"in es)es.Dispose();}};ba.distinctBy=function(eq,er){return{GetEnumerator:function(){var es,et;es=cx.Get(er);et=new bS.New$3();return new cy.New(null,null,function(eu){var ev,ew;if(es.MoveNext()){ev=es.Current();ew=et.Add(eq(ev));while(!ew&&es.MoveNext()){ev=es.Current();ew=et.Add(eq(ev));}return ew&&(eu.c=ev,true);}else return false;},function(){es.Dispose();});}};};ba.sortBy=function(eq,er){return ba.delay(function(){var es;es=R.ofSeq(er);R.sortInPlaceBy(eq,es);return es;});};ba.mapi=function(eq,er){return ba.map2(eq,ba.initInfinite(a.id),er);};ba.pairwise=function(eq){return ba.map(function(er){return[R.get(er,0),R.get(er,1)];},ba.windowed(2,eq));};ba.forall2=function(eq,er,es){return!ba.exists2(function(et,eu){return!eq(et,eu);},er,es);};ba.init=function(eq,er){return ba.take(eq,ba.initInfinite(er));};ba.iteri=function(eq,er){var es,et;es=0;et=cx.Get(er);try{while(et.MoveNext()){eq(es,et.Current());es=es+1;}}finally{if(typeof et=="object"&&"Dispose"in et)et.Dispose();}};ba.initInfinite=function(eq){return{GetEnumerator:function(){return new cy.New(0,null,function(er){er.c=eq(er.s);er.s=er.s+1;return true;},void 0);}};};ba.skip=function(eq,er){return{GetEnumerator:function(){var es;es=cx.Get(er);return new cy.New(true,null,function(et){var eu,ev;if(et.s){for(eu=1,ev=eq;eu<=ev;eu++)if(!es.MoveNext())ba.insufficient();et.s=false;}else null;return es.MoveNext()&&(et.c=es.Current(),true);},function(){es.Dispose();});}};};ba.nth=function(eq,er){var es,et;if(eq<0)o.FailWith("negative index requested");es=-1;et=cx.Get(er);try{while(es<eq){!et.MoveNext()?ba.insufficient():void 0;es=es+1;}return et.Current();}finally{if(typeof et=="object"&&"Dispose"in et)et.Dispose();}};ba.windowed=function(eq,er){eq<=0?o.FailWith("The input must be positive."):void 0;return ba.delay(function(){return ba.enumUsing(cx.Get(er),function(es){var et;et=[];return ba.append(ba.enumWhile(function(){return et.length<eq&&es.MoveNext();},ba.delay(function(){et.push(es.Current());return[];})),ba.delay(function(){return et.length===eq?ba.append([et.slice(0)],ba.delay(function(){return ba.enumWhile(function(){return es.MoveNext();},ba.delay(function(){et.shift();et.push(es.Current());return[et.slice(0)];}));})):[];}));});});};ba.head=function(eq){var er;er=cx.Get(eq);try{return er.MoveNext()?er.Current():ba.insufficient();}finally{if(typeof er=="object"&&"Dispose"in er)er.Dispose();}};ba.exists2=function(eq,er,es){var et,eu,ev,ew;et=cx.Get(er);try{ev=cx.Get(es);try{ew=false;while(!ew&&et.MoveNext()&&ev.MoveNext())ew=eq(et.Current(),ev.Current());eu=ew;}finally{if(typeof ev=="object"&&"Dispose"in ev)ev.Dispose();}return eu;}finally{if(typeof et=="object"&&"Dispose"in et)et.Dispose();}};ba.compareWith=function(eq,er,es){var et,eu,ev,ew,ex;et=cx.Get(er);try{ev=cx.Get(es);try{ew=0;ex=true;while(ex&&ew===0)if(et.MoveNext())ew=ev.MoveNext()?eq(et.Current(),ev.Current()):1;else if(ev.MoveNext())ew=-1;else ex=false;eu=ew;}finally{if(typeof ev=="object"&&"Dispose"in ev)ev.Dispose();}return eu;}finally{if(typeof et=="object"&&"Dispose"in et)et.Dispose();}};ba.take=function(eq,er){eq<0?ba.nonNegative():void 0;return{GetEnumerator:function(){var es;es=[cx.Get(er)];return new cy.New(0,null,function(et){var eu;et.s=et.s+1;return et.s>eq?false:(eu=es[0],H.Equals(eu,null)?ba.insufficient():eu.MoveNext()?(et.c=eu.Current(),et.s===eq?(eu.Dispose(),es[0]=null):void 0,true):(eu.Dispose(),es[0]=null,ba.insufficient()));},function(){var et;et=es[0];!H.Equals(et,null)?et.Dispose():void 0;});}};};ba.iter=function(eq,er){var es;es=cx.Get(er);try{while(es.MoveNext())eq(es.Current());}finally{if(typeof es=="object"&&"Dispose"in es)es.Dispose();}};ba.unfold=function(eq,er){return{GetEnumerator:function(){return new cy.New(er,null,function(es){var et;et=eq(es.s);return et==null?false:(es.c=et.$0[0],es.s=et.$0[1],true);},void 0);}};};ba.max=function(eq){var er,es,et;er=cx.Get(eq);try{if(!er.MoveNext())ba.seqEmpty();es=er.Current();while(er.MoveNext()){et=er.Current();H.Compare(et,es)===1?es=et:void 0;}return es;}finally{if(typeof er=="object"&&"Dispose"in er)er.Dispose();}};ba.forall=function(eq,er){return!ba.exists(function(es){return!eq(es);},er);};bc.op_AmpGreater=function(eq,er,es,et){var eu;eu=eq(es,et);return eu===0?er(es,et):eu;};bc.asc=function(eq,er,es){return H.Compare(eq(er),eq(es));};bc.desc=function(eq,er,es){return H.Compare(eq(es),eq(er));};bd.New=function(eq,er,es,et,eu,ev){return{hijosDe:eq,nivelDe:er,aliado:es,aliadoO:et,hijos:eu,descendientes:ev};};bf=be.FSharpSet=ei.Class({Contains:function(eq){return cz.Contains(eq,this.tree);},Remove:function(eq){return new bf.New$1(cz.Remove(eq,this.tree));},Add:function(eq){return new bf.New$1(cz.Add(eq,this.tree));},Equals:function(eq){return this.get_Count()===eq.get_Count()&&ba.forall2(H.Equals,this,eq);},GetEnumerator$1:function(){return cx.Get(cz.Enumerate(false,this.tree));},get_Count:function(){var eq;eq=this.tree;return eq==null?0:eq.Count;},GetHashCode:function(){return -1741749453+H.Hash(R.ofSeq(this));},GetEnumerator:function(){return this.GetEnumerator$1();},CompareTo0:function(eq){return ba.compareWith(H.Compare,this,eq);},GetEnumerator0:function(){return this.GetEnumerator$1();}},g,bf);bf.op_Subtraction=function(eq,er){return bg.Filter(function(es){return!er.Contains(es);},eq);};bf.New=ei.Ctor(function(eq){bf.New$1.call(this,cz.OfSeq(eq));},bf);bf.New$1=ei.Ctor(function(eq){g.New.call(this);this.tree=eq;},bf);bg.Filter=function(eq,er){var es;return new bf.New$1((es=R.ofSeq(ba.filter(eq,er)),cz.Build(es,0,es.length-1)));};bh.PadLeft=function(eq,er){return bh.PadLeftWith(eq,er," ");};bh.concat=function(eq,er){return R.ofSeq(er).join(eq);};bh.PadLeftWith=function(eq,er,es){return er>eq.length?a.Array(er-eq.length+1).join(es)+eq:eq;};bh.Trim=function(eq){return eq.replace(new a.RegExp("^\\s+"),"").replace(new a.RegExp("\\s+$"),"");};bh.Substring=function(eq,er,es){return eq.substr(er,es);};bh.Replace=function(eq,er,es){function et(eu){var ev,ew,ex;ev=eu.indexOf(er);return ev!==-1?(ew=bh.ReplaceOnce(eu,er,es),(ex=ev+es.length,bh.Substring(ew,0,ev+es.length)+et(ew.substring(ex)))):eu;}return et(eq);};bh.SplitChars=function(eq,er,es){return bh.Split(eq,new a.RegExp("["+bh.RegexEscape(er.join(""))+"]"),es);};bh.StartsWith=function(eq,er){return eq.substring(0,er.length)==er;};bh.ReplaceOnce=function(eq,er,es){return eq.replace(er,es);};bh.Split=function(eq,er,es){return es===1?R.filter(function(et){return et!=="";},bh.SplitWith(eq,er)):bh.SplitWith(eq,er);};bh.RegexEscape=function(eq){return eq.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};bh.IsNullOrEmpty=function(eq){return eq==null||eq=="";};bh.SplitWith=function(eq,er){return eq.split(er);};bh.replicate=function(eq,er){return R.create(eq,er).join("");};bh.ReplaceChar=function(eq,er,es){return bh.Replace(eq,er,es);};bh.SplitStrings=function(eq,er,es){return bh.Split(eq,new a.RegExp(bh.concat("|",R.map(bh.RegexEscape,er))),es);};bh.forall=function(eq,er){return ba.forall(eq,bh.protect(er));};bh.protect=function(eq){return eq===null?"":eq;};bh.Join=function(eq,er){return er.join(eq);};bi=K.CorreoElectronico=ei.Class({toString:function(){return this.email;}},null,bi);bi.New=function(eq,er,es){return new bi({email:eq,enviado:er,recibido:es});};bj.formaDoc=function(eq){var er,es,et,eu,ev,ew;er=(es=(et=Y.EmbedView(p.Map(bt.crearOptions,bt.generos().get_View())),S.Make().WithHole({$:0,$0:"generos",$1:et})),(eu=T.CompleteHoles(es.k,es.h,[["nombres",0],["apellidos",0],["fechanacimiento",0],["genero",0]]),(ev=new Q.New(eu[1],U.datospersonales(eu[0])),(es.i=ev,ev))));p.Sink(function(ex){var ey;if(ex!=null&&ex.$==1){ey=ex.$0;er.Hole("nombres").Set(bh.Trim(ey.nombre1+" "+ey.nombre2));er.Hole("apellidos").Set(bh.Trim(ey.apellido1+" "+ey.apellido2));er.Hole("fechanacimiento").Set(bw.toYYYYMMDD("-",ey.fechaNacimiento));er.Hole("genero").Set((function(ez){return function(eA){return ez(V.p$12(eA));};}(a.id))(ey.genero));}},eq.get_View());ew=p.Apply(p.Apply(p.Map2(function(ex,ey){return function(ez){return function(eA){return ba.map(function(eB){return eB[1];},ba.filter(function(eB){return eB[0];},bx.ofArray([[bh.Trim(ex)==="","Nombres"],[bh.Trim(ey)==="","Apellidos"],[bh.Trim(ez)==="","Fecha de Nacimiento"],[bh.Trim(eA)==="","Genero"]])));};};},er.Hole("nombres").get_View(),er.Hole("apellidos").get_View()),er.Hole("fechanacimiento").get_View()),er.Hole("genero").get_View());p.Sink(function(ex){if(!H.Equals(eq.Get(),ex))eq.Set(ex);},p.Apply(p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(ex,ey){return ei.Curried(function(ez,eA,eB,eC,eD){return!ba.isEmpty(ex)?null:bt.alertIfNone("Genero",ci.tryParse(ey),function(eE){return bt.alertIfNone("Fecha incorrecta",(b4.parseDateO2$1())(ez),function(eF){return{$:1,$0:bM.New(null,R.get(bh.SplitChars(bh.Trim(eA),[" "],0),0),bh.concat(" ",b3.array(bh.SplitChars(bh.Trim(eB),[" "],0),{$:1,$0:1},null)),R.get(bh.SplitChars(bh.Trim(eC),[" "],0),0),bh.concat(" ",b3.array(bh.SplitChars(bh.Trim(eD),[" "],0),{$:1,$0:1},null)),new cb({$:3,$0:""}),eE,eF)};});});},5);},ew,er.Hole("genero").get_View()),er.Hole("fechanacimiento").get_View()),er.Hole("nombres").get_View()),er.Hole("nombres").get_View()),er.Hole("apellidos").get_View()),er.Hole("apellidos").get_View()));return[ew,er.get_Doc()];};bk.formaDoc=function(eq){var er,es,et,eu,ev,ew,ex;er=i.Create$1("");es=(et=S.Make().WithHole({$:2,$0:"mensaje",$1:er.get_View()}),(eu=T.CompleteHoles(et.k,et.h,[["correo",0],["confirmarcorreo",0]]),(ev=new Q.New(eu[1],U.correo(eu[0])),(et.i=ev,ev))));ew=eq.Get();ew!=null&&ew.$==1?es.Hole("confirmarcorreo").Set(a.String(ew.$0)):void 0;p.Sink(function(ey){er.Set(ey);},p.Apply(p.Apply(p.Map2(function(ey,ez){return function(eA){return function(eB){return bh.Trim(ey)===""||bh.Trim(ez)===""||bh.Trim(eA)===bh.Trim(eB)?"":"Correos no son iguales";};};},es.Hole("correo").get_View(),es.Hole("confirmarcorreo").get_View()),es.Hole("correo").get_View()),es.Hole("confirmarcorreo").get_View()));p.Sink(function(ey){if(ey!=null&&ey.$==1)es.Hole("correo").Set(ey.$0.email);},eq.get_View());ex=p.Apply(p.Apply(p.Map2(function(ey,ez){return function(eA){return function(eB){return ba.map(function(eC){return eC[1];},ba.filter(function(eC){return eC[0];},bx.ofArray([[bh.Trim(ey)==="","Correo"],[bh.Trim(ez)==="","ConfirmarCorreo"],[eA!=="",eB]])));};};},es.Hole("correo").get_View(),es.Hole("confirmarcorreo").get_View()),er.get_View()),er.get_View());p.Sink(function(ey){if(!H.Equals(eq.Get(),ey))eq.Set(ey);},p.Map2(function(ey,ez){var eA,eB,eC,eD;return!ba.isEmpty(ey)?null:(eA=(eB=eq.Get(),(eC={$:1,$0:K.correoVacio()},eB==null?eC:eB)),eA==null?null:{$:1,$0:(eD=eA.$0,bi.New(ez,eD.enviado,eD.recibido))});},ex,es.Hole("correo").get_View()));return[ex,es.get_Doc()];};bl.formaDoc=function(eq){var er,es,et,eu,ev,ew;er=(es=(et=Y.EmbedView(p.Map(bt.crearOptions,bt.tiposTel().get_View())),S.Make().WithHole({$:0,$0:"tipos",$1:et})),(eu=T.CompleteHoles(es.k,es.h,[["tipotelefono",0],["codigopais",0],["codigoarea",0],["telefono",0],["extension",0]]),(ev=new Q.New(eu[1],U.telefono(eu[0])),(es.i=ev,ev))));p.Sink(function(ex){var ey;if(ex!=null&&ex.$==1){ey=ex.$0;er.Hole("codigoarea").Set(ey.codigoArea);er.Hole("codigopais").Set(ey.codigoPais);er.Hole("telefono").Set(ey.numero);er.Hole("extension").Set(ey.extension);er.Hole("tipotelefono").Set((function(ez){return function(eA){return ez(a.String(eA));};}(a.id))(ey.tipoTelefono));}},eq.get_View());ew=p.Apply(p.Map2(function(ex,ey){return function(ez){return ba.map(function(eA){return eA[1];},ba.filter(function(eA){return eA[0];},bx.ofArray([[bh.Trim(ex)==="","CodigoPais"],[bh.Trim(ey)==="","Telefono"],[bh.Trim(ez)==="","TipoTelefono"]])));};},er.Hole("codigopais").get_View(),er.Hole("telefono").get_View()),er.Hole("tipotelefono").get_View());p.Sink(function(ex){if(!H.Equals(eq.Get(),ex))eq.Set(ex);},p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(ex,ey){return ei.Curried(function(ez,eA,eB,eC){return!ba.isEmpty(ex)?null:bt.alertIfNone("TipoTelefono",(b9.get_tryParse())(bh.Trim(ey)),function(eD){var eE;return{$:1,$0:(eE=bh.Trim(ez),b8.New(eD,bh.Trim(eA),eE,bh.Trim(eB),bh.Trim(eC),false))};});},4);},ew,er.Hole("tipotelefono").get_View()),er.Hole("codigoarea").get_View()),er.Hole("codigopais").get_View()),er.Hole("telefono").get_View()),er.Hole("extension").get_View()));return[ew,er.get_Doc()];};bm.formaDoc=function(eq){var er,es,et,eu,ev,ew,ex,ey;er=(es=(et=Y.EmbedView(p.Map(bt.crearOptions,bt.tiposDir().get_View())),(eu=Y.EmbedView(p.Map(bt.crearOptions,bt.estados().get_View())),(ev=Y.EmbedView(p.Map(bt.crearOptions,bt.paises().get_View())),S.Make().WithHole({$:0,$0:"paises",$1:ev})).WithHole({$:0,$0:"estados",$1:eu})).WithHole({$:0,$0:"tipos",$1:et})),(ew=T.CompleteHoles(es.k,es.h,[["tipodireccion",0],["direccion1",0],["direccion2",0],["ciudad",0],["estado",0],["codigopostal",0],["pais",0]]),(ex=new Q.New(ew[1],U.direccion(ew[0])),(es.i=ex,ex))));p.Sink(function(ez){var eA;if(ez!=null&&ez.$==1){eA=ez.$0;er.Hole("direccion1").Set(eA.linea1);er.Hole("direccion2").Set(eA.linea2);er.Hole("ciudad").Set(eA.ciudad);er.Hole("estado").Set((function(eB){return function(eC){return eB(a.String(eC));};}(a.id))(eA.estado));er.Hole("pais").Set((function(eB){return function(eC){return eB(a.String(eC));};}(a.id))(eA.pais));er.Hole("codigopostal").Set((function(eB){return function(eC){return eB(a.String(eC));};}(a.id))(eA.zonaPostal));er.Hole("tipodireccion").Set((function(eB){return function(eC){return eB(a.String(eC));};}(a.id))(eA.tipoDireccion));}},eq.get_View());ey=p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(ez,eA){return ei.Curried(function(eB,eC,eD,eE){return ba.map(function(eF){return eF[1];},ba.filter(function(eF){return eF[0];},bx.ofArray([[bh.Trim(ez)==="","Direccion1"],[bh.Trim(eA)==="","Ciudad"],[bh.Trim(eB)==="","Estado"],[bh.Trim(eC)==="","Pais"],[bh.Trim(eD)==="","CodigoPostal"],[bh.Trim(eE)==="","TipoDireccion"]])));},4);},er.Hole("direccion1").get_View(),er.Hole("ciudad").get_View()),er.Hole("estado").get_View()),er.Hole("pais").get_View()),er.Hole("codigopostal").get_View()),er.Hole("tipodireccion").get_View());p.Sink(function(ez){if(!H.Equals(eq.Get(),ez))eq.Set(ez);},p.Apply(p.Apply(p.Apply(p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(ez,eA){return ei.Curried(function(eB,eC,eD,eE,eF,eG,eH){return!ba.isEmpty(ez)?null:bt.alertIfNone("TipoDireccion",b$.tryParse(bh.Trim(eA)),function(eI){return bt.alertIfNone("Estado",ca.tryParse(bh.Trim(eB)),function(eJ){return bt.alertIfNone("Pais",cb.tryParse(bh.Trim(eC)),function(eK){return bt.alertIfNone("CodigoPostal",cc.tryParse(bh.Trim(eD)),function(eL){var eM;return{$:1,$0:b_.New((eM=eH==null?null:{$:1,$0:eH.$0.authorizeIdR},eM==null?bb.Error$1(""):eM.$0),eI,bh.Trim(eE),bh.Trim(eF),bh.Trim(eG),eJ,eK,eL)};});});});});},7);},ey,er.Hole("tipodireccion").get_View()),er.Hole("estado").get_View()),er.Hole("pais").get_View()),er.Hole("codigopostal").get_View()),er.Hole("direccion1").get_View()),er.Hole("direccion2").get_View()),er.Hole("ciudad").get_View()),eq.get_View()));return[ey,er.get_Doc()];};bn.asyncResult=function(){_4.$cctor();return _4.asyncResult;};bo=bn.AsyncResultBuilder=ei.Class({Run:function(eq){return cB.bind(eq,cB.rtn());},Delay:a.id,Bind$1:function(eq,er){return cB.bind(er,eq);},Zero:function(){return cB.rtn();},Combine$1:function(eq,er){return cB.bind(er,eq);},For:function(eq,er){var es;es=this;return this.Using(cx.Get(eq),function(et){return es.While(function(){return et.MoveNext();},es.Delay(function(){return er(et.Current());}));});},Return:function(eq){return cB.rtn(eq);},Bind:function(eq,er){return cB.bind(er,cB.rtnR(eq));},Using:function(eq,er){return cL.Using(eq,er);},While:function(eq,er){return cB.whileLoop(eq,er);},ReturnFrom$1:a.id,TryFinally:function(eq,er){var es;es=null;return cL.Delay(function(){return cL.TryFinally(cL.Delay(function(){return eq();}),function(){er();});});}},g,bo);bo.New=ei.Ctor(function(){g.New.call(this);},bo);bp.refrescarData=function(eq){var er,es,et;eq?bp.set_shouldRefresh(true):void 0;er=bG.userO().Get();er!=null&&er.$==1?(es=er.$0,Z.iterA((et=bn.asyncResult(),et.Run(et.Delay(function(){return et.Combine$1(bG.referidoPor()!==""?et.Bind$1(Z.agregarUsuarioSiEsNuevo(bG.claims(es)),function(){return et.Return();}):et.Zero(),et.Delay(function(){return!self.document.hidden?bp.shouldRefresh()?et.Bind$1(Z.obtenerEstadoParaUsuario(),function(eu){bp.set_shouldRefresh(false);return!H.Equals(m.modeloV().Get(),eu)?(m.modeloV().Set(eu),et.Zero()):et.Zero();}):et.Zero():et.Zero();}));}))))):m.modeloV().Set(K.modeloVacio());};bp.set_shouldRefresh=function(eq){_4.$cctor();_4.shouldRefresh=eq;};bp.shouldRefresh=function(){_4.$cctor();return _4.shouldRefresh;};br.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new a.RegExp("[xy]","g"),function(eq){var er,es;er=ej.random()*16|0;es=eq=="x"?er:er&3|8;return es.toString(16);});};br.TryParse=function(eq,er){try{er.set(br.Parse(eq));return true;}catch(es){return false;}};br.Parse=function(eq){var er,es,et;try{return br.ParseExact(eq,"D");}catch(eu){try{er=br.ParseExact(eq,"B");}catch(ev){try{es=br.ParseExact(eq,"P");}catch(ew){try{et=br.ParseExact(eq,"N");}catch(ex){et=br.ParseExact(eq,"X");}es=et;}er=es;}return er;}};br.ParseExact=function(eq,er){var es,et,eu,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF;function ev(eG){var eH,eI,eJ,eK;for(eH=0,eI=35;eH<=eI;eH++){eH===8||(eH===13||(eH===18||eH===23))?eG[eH]!=="-"?br.ShapeError():void 0:(eK=eG[eH],!("0"<=eK&&eK<="9"||"a"<=eK&&eK<="f")?br.ShapeError():void 0);}return eG;}ew=er.toUpperCase();if(ew==="N"){ex=bh.Trim(eq).toLowerCase();if(ex.length!==32)br.ShapeError();for(ey=0,ez=31;ey<=ez;ey++){eA=ex[ey];!("0"<=eA&&eA<="9"||"a"<=eA&&eA<="f")?br.ShapeError():void 0;}return bh.Substring(ex,0,8)+"-"+bh.Substring(ex,8,4)+"-"+bh.Substring(ex,12,4)+"-"+bh.Substring(ex,16,4)+"-"+ex.substring(20);}else if(ew==="D"){es=bh.Trim(eq).toLowerCase();es.length!==36?br.ShapeError():void 0;return ev(es);}else if(ew==="B"){et=bh.Trim(eq).toLowerCase();et.length!==38||et[0]!=="{"||et[17]!=="}"?br.ShapeError():void 0;return ev(bh.Substring(et,1,36));}else if(ew==="P"){eu=bh.Trim(eq).toLowerCase();eu.length!==38||eu[0]!=="("||eu[17]!==")"?br.ShapeError():void 0;return ev(bh.Substring(eu,1,36));}else if(ew==="X"){eB=bh.Trim(eq).toLowerCase();if(eB.length!==68)br.ShapeError();for(eC=0,eD=67;eC<=eD;eC++){switch(eC){case 26:case 0:if(eB[eC]!=="{")br.ShapeError();break;case 62:case 57:case 52:case 47:case 42:case 37:case 32:case 27:case 19:case 12:case 1:if(eB[eC]!=="0")br.ShapeError();break;case 63:case 58:case 53:case 48:case 43:case 38:case 33:case 28:case 20:case 13:case 2:if(eB[eC]!=="x")br.ShapeError();break;case 61:case 56:case 51:case 46:case 41:case 36:case 31:case 25:case 18:case 11:if(eB[eC]!==",")br.ShapeError();break;case 67:case 66:if(eB[eC]!=="{")br.ShapeError();break;default:eF=eB[eC];!("0"<=eF&&eF<="9"||"a"<=eF&&eF<="f")?br.ShapeError():void 0;break;}}return bh.Substring(eB,3,8)+"-"+bh.Substring(eB,14,4)+"-"+bh.Substring(eB,21,4)+"-"+bh.Substring(eB,29,2)+bh.Substring(eB,34,2)+"-"+bh.Substring(eB,39,2)+bh.Substring(eB,44,2)+bh.Substring(eB,49,2)+bh.Substring(eB,54,2)+bh.Substring(eB,59,2)+bh.Substring(eB,64,2);}else return br.FormatError();};br.ShapeError=function(){throw new d7.New$1("Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");};br.FormatError=function(){throw new d7.New$1("Format String can be only \"D\", \"d\", \"N\", \"n\", \"P\", \"p\", \"B\", \"b\", \"X\" or \"x\".");};bs.New=function(eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB){return{nombre:eq,status:er,influyente:es,tipo:et,referido:eu,nivel:ev,referidos:ew,descendientes:ex,comision:ey,diaPago:ez,desde:eA,Id:eB};};R.map=function(eq,er){var es,et,eu;es=new a.Array(er.length);for(et=0,eu=er.length-1;et<=eu;et++)es[et]=eq(er[et]);return es;};R.sortBy=function(eq,er){return R.map(function(es){return es[0];},R.mapi(function(es,et){return[et,[eq(et),es]];},er).sort(function(es,et){return H.Compare(es[1],et[1]);}));};R.reduce=function(eq,er){var es,et,eu;R.nonEmpty(er);es=er[0];for(et=1,eu=er.length-1;et<=eu;et++)es=eq(es,er[et]);return es;};R.filter=function(eq,er){var es,et,eu;es=[];for(et=0,eu=er.length-1;et<=eu;et++)if(eq(er[et]))es.push(er[et]);return es;};R.choose=function(eq,er){var es,et,eu,ev;es=[];for(et=0,eu=er.length-1;et<=eu;et++){ev=eq(er[et]);ev==null?void 0:es.push(ev.$0);}return es;};R.ofSeq=function(eq){var er,es;if(eq instanceof a.Array)return eq.slice();else if(eq instanceof cA)return R.ofList(eq);else{er=[];es=cx.Get(eq);try{while(es.MoveNext())er.push(es.Current());return er;}finally{if(typeof es=="object"&&"Dispose"in es)es.Dispose();}}};R.sortInPlaceWith=function(eq,er){er.sort(eq);};R.mapi=function(eq,er){var es,et,eu;es=new a.Array(er.length);for(et=0,eu=er.length-1;et<=eu;et++)es[et]=eq(et,er[et]);return es;};R.nonEmpty=function(eq){if(eq.length===0)o.FailWith("The input array was empty.");};R.tryFindIndex=function(eq,er){var es,et;es=null;et=0;while(et<er.length&&es==null){eq(er[et])?es={$:1,$0:et}:void 0;et=et+1;}return es;};R.ofList=function(eq){var er,es;es=[];er=eq;while(!(er.$==0)){es.push(bx.head(er));er=bx.tail(er);}return es;};R.sortInPlace=function(eq){R.mapInPlace(function(er){return er[0];},R.mapiInPlace(function(er,es){return[es,er];},eq).sort(H.Compare));};R.tryFind=function(eq,er){var es,et;es=null;et=0;while(et<er.length&&es==null){eq(er[et])?es={$:1,$0:er[et]}:void 0;et=et+1;}return es;};R.sortInPlaceBy=function(eq,er){R.mapInPlace(function(es){return es[0];},R.mapiInPlace(function(es,et){return[et,[eq(et),es]];},er).sort(function(es,et){return H.Compare(es[1],et[1]);}));};R.map2=function(eq,er,es){var et,eu,ev;R.checkLength(er,es);et=new a.Array(es.length);for(eu=0,ev=es.length-1;eu<=ev;eu++)et[eu]=eq(er[eu],es[eu]);return et;};R.forall=function(eq,er){var es,et,eu,ev;es=true;et=0;ev=R.length(er);while(es&&et<ev)if(eq(er[et]))et=et+1;else es=false;return es;};R.init=function(eq,er){var es,et,eu;eq<0?o.FailWith("Negative size given."):null;es=new a.Array(eq);for(et=0,eu=eq-1;et<=eu;et++)es[et]=er(et);return es;};R.tryPick=function(eq,er){var es,et,eu;es=null;et=0;while(et<er.length&&es==null){eu=eq(er[et]);eu!=null&&eu.$==1?es=eu:void 0;et=et+1;}return es;};R.concat=function(eq){return a.Array.prototype.concat.apply([],R.ofSeq(eq));};R.checkLength=function(eq,er){if(eq.length!==er.length)o.FailWith("The arrays have different lengths.");};R.exists=function(eq,er){var es,et,eu,ev;es=false;et=0;ev=R.length(er);while(!es&&et<ev)if(eq(er[et]))es=true;else et=et+1;return es;};R.pick=function(eq,er){var es;es=R.tryPick(eq,er);return es==null?o.FailWith("KeyNotFoundException"):es.$0;};R.create=function(eq,er){var es,et,eu;es=new a.Array(eq);for(et=0,eu=eq-1;et<=eu;et++)es[et]=er;return es;};R.foldBack=function(eq,er,es){var et,eu,ev,ew,ex;et=es;ev=er.length;for(ew=1,ex=ev;ew<=ex;ew++)et=eq(er[ev-ew],et);return et;};R.iter=function(eq,er){var es,et;for(es=0,et=er.length-1;es<=et;es++)eq(er[es]);};R.find=function(eq,er){var es;es=R.tryFind(eq,er);return es==null?o.FailWith("KeyNotFoundException"):es.$0;};bt.statuses=function(){_4.$cctor();return _4.statuses;};bt.crearOptions=function(eq){return Y.Concat(ba.map(bt.crearOption,eq));};bt.crearOptions2=function(eq){return Y.Concat(ba.map(function(er){return bt.crearOption2(er[0],er[1]);},eq));};bt.paises=function(){_4.$cctor();return _4.paises;};bt.estados=function(){_4.$cctor();return _4.estados;};bt.tiposDir=function(){_4.$cctor();return _4.tiposDir;};bt.tiposTel=function(){_4.$cctor();return _4.tiposTel;};bt.generos=function(){_4.$cctor();return _4.generos;};bt.tiposCta=function(){_4.$cctor();return _4.tiposCta;};bt.tiposTar=function(){_4.$cctor();return _4.tiposTar;};bt.aniosV=function(){_4.$cctor();return _4.aniosV;};bt.mesesV=function(){_4.$cctor();return _4.mesesV;};bt.alertIfNone=function(eq,er,es){return er!=null&&er.$==1?es(er.$0):(a.alert("Error not caught: "+eq),null);};bt.removeButton=function(eq,er){return Y.Element("form",[cV.Create("class","mui-panel")],[er,Y.Button("borrar",[cV.Create("title","borrar")],eq)]);};bt.fst3=a.id;bt.crearOption=function(eq){return Y.Element("option",[],[Y.TextNode(eq)]);};bt.crearOption2=function(eq,er){return Y.Element("option",[cV.Create("value",er)],[Y.TextNode(eq)]);};bt.thr3=function(eq,er,es){return es;};bt.snd3=function(eq,er,es){return er;};bu=K.StatusAliado=ei.Class({toString:function(){return(function(eq){return function(er){return eq(V.p$1(er));};}(a.id))(this);}},null,bu);bu.tryParse=function(eq){var er;er=bh.Trim(eq).toUpperCase();return er==="CUENTACREADA"?bu.CuentaCreada:er==="DATOSBANCARIOSINGRESADOS"?bu.DatosBancariosIngresados:er==="ACTIVO"?bu.Activo:er==="CANCELADO"?bu.Cancelado:bu.Inactivo;};bu.Inactivo=new bu({$:3});bu.CuentaCreada=new bu({$:0});bu.DatosBancariosIngresados=new bu({$:1});bu.Activo=new bu({$:2});bu.Cancelado=new bu({$:4});bv.toSafe=function(eq){return eq==null?"":eq;};bv.prettyPrint=function(eq){var er,es;function et(eu,ev){return eu+" = "+bv.prettyPrint(ev);}return eq===null?"null":(er=typeof eq,er=="string"?"\""+eq+"\"":er=="object"?eq instanceof a.Array?"[|"+bh.concat("; ",R.map(bv.prettyPrint,eq))+"|]":(es=a.String(eq),es==="[object Object]"?"{"+bh.concat("; ",R.map(function(eu){return et(eu[0],eu[1]);},G.GetFields(eq)))+"}":es):a.String(eq));};bv.padNumLeft=function(eq,er){var es;es=R.get(eq,0);return es===" "||es==="+"||es==="-"?es+bh.PadLeftWith(eq.substr(1),er-1,"0"):bh.PadLeftWith(eq,er,"0");};bv.printList=function(eq,er){return"["+bh.concat("; ",ba.map(eq,er))+"]";};bb["String.Right$1"]=function(eq,er){var es,et;return bb["String.Substring2$1"](eq,(es=0,(et=eq.length-er,H.Compare(es,et)===1?es:et)),eq.length);};bb.Error$1=function(eq){return{$:1,$0:eq};};bb.print$1=function(eq){if(typeof eq=="string")((function(er){return function(es){return er(bv.toSafe(es));};}(function(er){el.log(er);}))(eq));else((function(er){return function(es){return er(bv.prettyPrint(es));};}(function(er){el.log(er);}))(eq));};bb["String.Left$1"]=function(eq,er){return er<0?bb["String.Substring2$1"](eq,0,eq.length+er):bb["String.Substring2$1"](eq,0,er);};bb["String.Substring2$1"]=function(eq,er,es){var et,eu;while(true){if(es<=0)return"";else if(er<0){et=er;er=0;es=es+et;}else return er>=eq.length?"":bh.Substring(eq,er,(eu=eq.length-er,H.Compare(es,eu)===-1?es:eu));}};bb["String.get_toUnderscore$1"]=function(eq,er){return R.ofSeq(ba.collect(a.id,ba.mapi(function(es,et){return es>0&&d5.IsUpper(et)?bx.ofArray(["_",et]):bx.ofArray([et]);},eq))).join("");};bw.toYYYYMMDD=function(eq,er){return((((((ei.Curried(function(es,et,eu,ev,ew,ex){return es(a.String(et)+bv.toSafe(eu)+bv.padNumLeft(a.String(ev),2)+bv.toSafe(ew)+bv.padNumLeft(a.String(ex),2));},6))(a.id))((new em(er)).getFullYear()))(eq))((new em(er)).getMonth()+1))(eq))((new em(er)).getDate());};bx.ofArray=function(eq){var er,es,et;er=cA.Empty;for(es=R.length(eq)-1,et=0;es>=et;es--)er=new cA({$:1,$0:R.get(eq,es),$1:er});return er;};bx.ofSeq=function(eq){var er,es,et,eu,ev,ew;if(eq instanceof cA)return eq;else if(eq instanceof a.Array)return bx.ofArray(eq);else{er=cx.Get(eq);try{et=er.MoveNext();if(!et)es=cA.Empty;else{ev=new cA({$:1});eu=ev;while(et){eu.$0=er.Current();er.MoveNext()?eu=(ew=new cA({$:1}),eu.$1=ew,ew):et=false;}eu.$1=cA.Empty;es=ev;}return es;}finally{if(typeof er=="object"&&"Dispose"in er)er.Dispose();}}};bx.rev=function(eq){var er,es;er=cA.Empty;es=eq;while(es.$==1){er=new cA({$:1,$0:es.$0,$1:er});es=es.$1;}return er;};bx.head=function(eq){return eq.$==1?eq.$0:bx.listEmpty();};bx.tail=function(eq){return eq.$==1?eq.$1:bx.listEmpty();};bx.listEmpty=function(){return o.FailWith("The input list was empty.");};bx.iter=function(eq,er){var es;es=er;while(es.$==1){eq(bx.head(es));es=bx.tail(es);}};by.New=function(eq,er,es,et,eu){return{titular:eq,banco:er,tipo:es,numero:et,routing:eu};};bz=K.RoutingNumber=ei.Class({get_Id:function(){return this.$0;}},null,bz);bA=K.NumeroCuenta=ei.Class({get_Id:function(){return this.$0;}},null,bA);bB.New=function(eq,er,es){return{nombre:eq,authorizeIdR:er,cuentaPago:es};};K.ctaVacio=function(){_4.$cctor();return _4.ctaVacio;};K.premisasCalculo=function(){_4.$cctor();return _4.premisasCalculo;};K.correoVacio=function(){_4.$cctor();return _4.correoVacio;};K.modeloVacio=function(){_4.$cctor();return _4.modeloVacio;};K.telVacio=function(){_4.$cctor();return _4.telVacio;};K.dirVacio=function(){_4.$cctor();return _4.dirVacio;};K.tarVacio=function(){_4.$cctor();return _4.tarVacio;};bC.defaultValue=function(eq,er){return er.$==1?eq:er.$0;};bC.result=function(){_4.$cctor();return _4.result;};bC.iter=function(eq,er,es){bC.defaultWith(eq,du.Map(er,es));};bC.defaultWith=function(eq,er){return er.$==1?eq(er.$0):er.$0;};bD.formaFirma=function(eq,er,es,et){var eu,ev,ew,ex,ey,ez;function eA(){var eB;Z.iterA((eB=bn.asyncResult(),eB.Run(eB.Delay(function(){return bD.mensajes().Get()!==""?(a.alert(bD.mensajes().Get()),eB.Zero()):bH["AsyncResultBuilder.Bind"](eB,bD.subirScreenShot(et),function(){return eB.ReturnFrom$1(cB.map(function(eC){a.alert(eC);},es()));});}))));}eu=i.Create$1(false);ev=(ew=(ex=S.Make().WithHole({$:2,$0:"firmarclass",$1:p.Map(function(eB){return eB===""?"mui-btn--primary":"";},bD.mensajes().get_View())}).WithHole({$:2,$0:"mensaje",$1:bD.mensajes().get_View()}).WithHole({$:0,$0:"contenido",$1:er}).WithHole({$:9,$0:"acepto",$1:i.Lens(eu,a.id,function(eB,eC){return eC;})}),ex.WithHole(T.EventQ2(ex.k,"firmar",function(){return ex.i;},function(){eA();}))).WithHole({$:2,$0:"datetime",$1:bD.fechaHoraV().get_View()}),(ey=T.CompleteHoles(ew.k,ew.h,[["firmante",0],["fecha",0],["acepto",2]]),(ez=new Q.New(ey[1],U.formafirma(ey[0])),(ew.i=ez,ez))));p.Sink(function(eB){bD.mensajes().Set(eB);},p.Apply(p.Apply(p.Apply(p.Map2(function(eB,eC){return ei.Curried3(function(eD,eE,eF){return bh.concat(", ",ba.map(function(eG){return eG[1];},ba.filter(function(eG){return eG[0];},bx.ofArray([[bh.Trim(eB)!==eC.toUpperCase(),"Nombre en MAYUSCULAS debe coincidir"],[eD!==bb["String.Left$1"](eE,10),"Introduzca fecha de hoy (YYYY-MM-DD)"],[!H.Equals(eF,true),"Acepte los terminos indicados"]]))));});},ev.Hole("firmante").get_View(),eq),ev.Hole("fecha").get_View()),bD.fechaHoraV().get_View()),ev.Hole("acepto").get_View()));return ev.get_Doc();};bD.fechaHoraV=function(){_4.$cctor();return _4.fechaHoraV;};bD.mensajes=function(){_4.$cctor();return _4.mensajes;};bD.subirScreenShot=function(eq){var er;er=null;return cL.Delay(function(){return cL.Bind(c4.AsAsync(a.html2canvas(self.document.querySelector("#content-wrapper"))),function(es){self.document.body.appendChild(es);es.toBlob(function(et){var eu,ev,ew;eu=(((ei.Curried3(function(ex,ey,ez){return ex(bv.toSafe(ey)+" "+bv.toSafe(ez)+".png");}))(a.id))(eq))(bh.Replace(bD.fechaHoraV().Get(),":","."));ev=new a.FormData();ev.append("fname",eu);ev.append("data",et);ek.ajax((ew={},ew.type="POST",ew.url="/api/subir/"+m.modeloV().Get().idAliado.get_Id()+"/"+eu,ew.data=ev,ew.contentType=false,ew.processData=false,ew.success=bD.uploaded(),ew));});self.document.body.removeChild(es);return cL.Zero();});});};bD.uploaded=function(){_4.$cctor();return _4.uploaded;};bE.New=function(eq,er,es,et,eu,ev,ew,ex){return{comisionReferidosRegular:eq,comisionReferidosMaster:er,comisionDescendientesMaster:es,comisionDescendientesRegular:et,montoAfiliacion:eu,numeroReferidosMaster:ev,diaCorte1:ew,diaCorte2:ex};};bF.New=function(eq,er,es){return{actName:eq,actFunction:er,actEnabled:es};};bG.logout=function(){bG.executePolicy(true,b7.SignIn);};bG.userO=function(){_4.$cctor();return _4.userO;};bG.storeValue=function(eq,er){self.localStorage.setItem(eq,er);return er;};bG.appId=function(){_4.$cctor();return _4.appId;};bG.storageGetItem=function(eq){return self.localStorage.getItem(eq);};bG.getAuthority=function(eq,er){return((((ei.Curried(function(es,et,eu,ev){return es("https://"+bv.toSafe(et)+".b2clogin.com/tfp/"+bv.toSafe(eu)+".onmicrosoft.com/"+bv.toSafe(ev));},4))(a.id))(eq))(eq))(er);};bG.tenantName=function(){_4.$cctor();return _4.tenantName;};bG.signInPolicy=function(){_4.$cctor();return _4.signInPolicy;};bG.applicationId=function(){_4.$cctor();return _4.applicationId;};bG.authority=function(){_4.$cctor();return _4.authority;};bG.redirectCallback=function(eq,er){try{!H.Equals(eq,null)?(function(es){return function(et){return es("error: "+X.p(et));};}(function(es){el.log(es);}))(eq):void 0;!H.Equals(er,null)?(function(es){return function(et){return es("resp : "+X.p$1(et));};}(function(es){el.log(es);}))(er):null;}catch(es){(((ei.Curried3(function(et,eu,ev){return et(bv.prettyPrint(eu)+" "+bv.toSafe(ev));}))(function(et){el.log(et);}))(es))(es.stack);}};bG.getTokenO0=function(){var eq;eq=null;return cL.Delay(function(){return bG.userO().Get()==null?cL.Return(null):cL.Bind(c4.AsAsync(bG.agent().f().acquireTokenSilent(bG.authParms())),function(er){return cL.Return({$:1,$0:er.accessToken});});});};bG.checkUser=function(){var eq;cL.Start((eq=null,cL.Delay(function(){return cL.Bind(cL.Sleep(100),function(){return cL.While(function(){return true;},cL.Delay(function(){var er,es;er=(es=bG.agent().f().getAccount(),H.Equals(es,null)?null:{$:1,$0:es});return cL.Combine(bG.getId(er)!==bG.getId(bG.userO().Get())?(bG.userO().Set(er),cL.Zero()):cL.Zero(),cL.Delay(function(){return cL.Combine(H.Equals(bG.userO().Get(),null)?(bG.executePolicy(false,b7.SignIn),cL.Zero()):cL.Zero(),cL.Delay(function(){return cL.Bind(cL.Sleep(9000),function(){return cL.Return(null);});}));}));}));});})),null);};bG.getTokenO=function(){_4.$cctor();return _4.getTokenO;};bG.referidoPor=function(){return bG.storageGetItem("referidoPor");};bG.claims=function(eq){var er;er=[["oid",eq.idToken.oid],["city",eq.idToken.city],["country",eq.idToken.country],["extension_DateOfBirth",eq.idToken.extension_DateOfBirth],["given_name",eq.idToken.given_name],["postalCode",eq.idToken.postalCode],["state",eq.idToken.state],["streetAddress",eq.idToken.streetAddress],["family_name",eq.idToken.family_name],["emails",R.get(eq.idToken.emails,0)],["referidoPor",bG.referidoPor()]];bG.storageSetItem("referidoPor","");return er;};bG.executePolicy=function(eq,er){bG.storeValue("forceLogin",eq?"1":"0");bG.storeValue("goInsideLink",self.location.href);bG.storeValue("policyType",a.String(er));self.location.replace("blob/Msal.html");};bG.authParms=function(){return dp.New$1(null,null,null,null,null,null,null,null,{$:1,$0:[(((ei.Curried3(function(eq,er,es){return eq("https://"+bv.toSafe(er)+".onmicrosoft.com/"+bv.toSafe(es)+"/user_impersonation");}))(a.id))(bG.tenantName()))(bG.appId())]},null,null);};bG.agent=function(){_4.$cctor();return _4.agent;};bG.getId=function(eq){var er;er=eq==null?null:{$:1,$0:eq.$0.idToken.oid};return er==null?"":er.$0;};bG.storageSetItem=function(eq,er){self.localStorage.setItem(eq,er);};bH["AsyncResultBuilder.Bind"]=function(eq,er,es){function et(ev){return{$:0,$0:ev};}function eu(ev){return cL.Return(ev);}return cB.bind(es,cL.Bind(er,function(ev){return eu(et(ev));}));};bJ.New=function(eq,er){return{lytName:eq,lytDefinition:er};};bK.$cctor=function(){var eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV;bK.$cctor=a.ignore;function eW(fr){return bh.concat("\n",fr);}function eX(fr){return b2.splitByChar("\n",fr);}function eY(fr){var fs,ft;return b3.array(fr,{$:1,$0:0},{$:1,$0:(fs=0,(ft=R.length(fr)-2,H.Compare(fs,ft)===1?fs:ft))});}function eZ(fr){return bh.concat("\n",fr);}function e0(fr){return fr+"T00:00:00";}function e1(fr){var fs;function ft(fv){return k.plugIns().TryFindByKey(fv);}function fu(fv){var fw;fw=k.defaultPlugIn();return fv==null?fw:fv.$0;}fs=function(fv){return fv==null?null:ft(fv.$0);};return function(fv){return fu(fs(fv));};}function e2(fr){var fs;fs=null;return eu.TryGetValue(fr,{get:function(){return fs;},set:function(ft){fs=ft;}})?{$:1,$0:fs}:null;}function e3(fr,fs){eu.set_Item(fr,fs);return fs;}function e4(fr,fs){var ft;ft=e2(fr);return ft==null?e3(fr,fs(fr)):ft.$0;}function e5(fr){var fs;fs=null;return ex.TryGetValue(fr,{get:function(){return fs;},set:function(ft){fs=ft;}})?{$:1,$0:fs}:null;}function e6(fr,fs){ex.set_Item(fr,fs);return fs;}function e7(fr,fs){var ft;ft=e5(fr);return ft==null?e6(fr,fs(fr)):ft.$0;}function e8(fr){var fs;fs=null;return eA.TryGetValue(fr,{get:function(){return fs;},set:function(ft){fs=ft;}})?{$:1,$0:fs}:null;}function e9(fr,fs){eA.set_Item(fr,fs);return fs;}function e_(fr,fs){var ft;ft=e8(fr);return ft==null?e9(fr,fs(fr)):ft.$0;}function e$(fr){var fs;fs=null;return eD.TryGetValue(fr,{get:function(){return fs;},set:function(ft){fs=ft;}})?{$:1,$0:fs}:null;}function fa(fr,fs){eD.set_Item(fr,fs);return fs;}function fb(fr,fs){var ft;ft=e$(fr);return ft==null?fa(fr,fs(fr)):ft.$0;}function fc(fr){var fs;fs=null;return eG.TryGetValue(fr,{get:function(){return fs;},set:function(ft){fs=ft;}})?{$:1,$0:fs}:null;}function fd(fr,fs){eG.set_Item(fr,fs);return fs;}function fe(fr,fs){var ft;ft=fc(fr);return ft==null?fd(fr,fs(fr)):ft.$0;}function ff(fr){var fs;fs=null;return eJ.TryGetValue(fr,{get:function(){return fs;},set:function(ft){fs=ft;}})?{$:1,$0:fs}:null;}function fg(fr,fs){eJ.set_Item(fr,fs);return fs;}function fh(fr,fs){var ft;ft=ff(fr);return ft==null?fg(fr,fs(fr)):ft.$0;}function fi(fr){var fs;fs=null;return eM.TryGetValue(fr,{get:function(){return fs;},set:function(ft){fs=ft;}})?{$:1,$0:fs}:null;}function fj(fr,fs){eM.set_Item(fr,fs);return fs;}function fk(fr,fs){var ft;ft=fi(fr);return ft==null?fj(fr,fs(fr)):ft.$0;}function fl(fr){var fs;fs=null;return eP.TryGetValue(fr,{get:function(){return fs;},set:function(ft){fs=ft;}})?{$:1,$0:fs}:null;}function fm(fr,fs){eP.set_Item(fr,fs);return fs;}function fn(fr,fs){var ft;ft=fl(fr);return ft==null?fm(fr,fs(fr)):ft.$0;}function fo(fr){var fs;fs=null;return eS.TryGetValue(fr,{get:function(){return fs;},set:function(ft){fs=ft;}})?{$:1,$0:fs}:null;}function fp(fr,fs){eS.set_Item(fr,fs);return fs;}function fq(fr,fs){var ft;ft=fo(fr);return ft==null?fp(fr,fs(fr)):ft.$0;}bK.unindentStr=function(fr){return eW(b2.unindent(fr));};bK.skipLastLine=(eq=function(fr){return eY(eX(fr));},function(fr){return eZ(eq(fr));});bK.parseDateO2=(er=b4.tryParseWith(function(fr){var fs,ft;fs=0;return[(ft=cZ.TryParse(fr),ft!=null&&ft.$==1&&(fs=ft.$0,true)),fs];}),function(fr){return er(e0(fr));});bK.parseDateO=b4.tryParseWith(function(fr){var fs,ft;fs=0;return[(ft=cZ.TryParse(fr),ft!=null&&ft.$==1&&(fs=ft.$0,true)),fs];});bK.parseIntO=b4.tryParseWith(function(fr){var fs;fs=0;return[bP.TryParseInt32(fr,{get:function(){return fs;},set:function(ft){fs=ft;}}),fs];});bK.parseInt64O=b4.tryParseWith(function(fr){var fs;fs=0;return[bP.TryParseInt64(fr,{get:function(){return fs;},set:function(ft){fs=ft;}}),fs];});bK.parseSingleO=b4.tryParseWith(function(fr){var fs,ft;fs=0;return[(ft=a.Number(fr),a.isNaN(ft)?false:(fs=ft,true)),fs];});bK.parseDoubleO=b4.tryParseWith(function(fr){var fs,ft;fs=0;return[(ft=a.Number(fr),a.isNaN(ft)?false:(fs=ft,true)),fs];});bK.parseGuidO=b4.tryParseWith(function(fr){var fs;fs=null;return[br.TryParse(fr,{get:function(){return fs;},set:function(ft){fs=ft;}}),fs];});bK["|Date|_|"]=b4.parseDateO();bK["|Int|_|"]=b4.parseIntO();bK["|Int64|_|"]=b4.parseInt64O();bK["|Single|_|"]=b4.parseSingleO();bK["|Double|_|"]=b4.parseDoubleO();bK["|Guid|_|"]=b4.parseGuidO();bK.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";bK.rexEmail="(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@[*[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+]*";bK.observers=cA.Empty;bK.css="\r\n                .tab-panel {\r\n                 overflow  : hidden   ;\r\n                 display   : flex     ;\r\n                 flex-flow : column   ;\r\n                 background: lightgray;\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                }\r\n                .tab-content {\r\n                 flex      : 1 1     ;\r\n                 overflow  : auto    ;\r\n                 position  : relative;\r\n                }\r\n                .tab-children {\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                 position  : absolute;\r\n                 display   : grid    ;\r\n                }\r\n                .tab-strip {\r\n                 padding   : 0pt     ;\r\n                 flex      : 0 0     ;\r\n                }\r\n                .tab {\r\n                 border     : 0.2pt solid transparent;\r\n                 padding    : 0pt 4pt;\r\n                 display    : inline-block;\r\n                 font-family: sans-serif;\r\n                 font-weight: 200;\r\n                 font-size  : small;\r\n                 color      : #666;\r\n                 cursor     : pointer;\r\n                }\r\n                .top>.tab {\r\n                 border-radius: 2pt 2pt 0pt 0pt;\r\n                 border-bottom-width: 0pt;\r\n                 vertical-align: bottom;\r\n                }\r\n                .bottom>.tab {\r\n                 border-top-width: 0pt;\r\n                 border-radius: 0pt 0pt 2pt 2pt;\r\n                 vertical-align: top;\r\n                }\r\n                .horizontal>.tab:not(:first-child) {\r\n                 border-left-width: 0pt;\r\n                }\r\n                .tab.hovering {\r\n                 background: red;\r\n                }\r\n                .tab.selected {\r\n                 background: white;\r\n                 border-left-width: 0.2pt;\r\n                 color: black;\r\n                 font-weight: 500;\r\n                 border-color: black;\r\n                }\r\n                .horizontal>.tab.selected {\r\n                 border-left-width: 0.2pt;\r\n                }\r\n                ::slotted(*              ) { \r\n                 width : 100%;\r\n                 height: 100%;\r\n                }\r\n                        ";bK.init=r.Create(function(){var fr;fr=new cS.New();cQ.defineWebComponent("wcomp-tabstrip",cS.Constructor,self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New);});bK.layoutHorizontal=ei.Curried(function(fr,fs,ft,fu,fv){return Y.get_Empty();},5);bK.layoutVertical=ei.Curried(function(fr,fs,ft,fu,fv){return Y.get_Empty();},5);bK.plugIns=new _5.New$1(function(fr){return fr.plgName;});bK.mainDocV=i.Create$1("AppFramework.AppFwkClient");bK.TemplateFileName="..\\website\\AppFramework.html";bK.defaultPlugIn=l.New("",[],[],[],[],[]);bK.selectionPlugInO=i.Create$1({$:1,$0:"AppFramework"});bK.currentPlugInW=(es=k.selectionPlugInO().get_View(),p.Map2(function(fr,fs){return(e1(fr))(fs);},k.plugIns().v,es));bK.currentPlugInV=new cJ.New(k.currentPlugInW(),function(fr){k.plugIns().Append(fr);});bK.AppFwkClient=r.Create(function(){var fr,fs,ft,fu,fv,fw,fx,fy,fz;return(fr=(fs=k.renderQueries(),(ft=k.renderActions(),(fu=k.renderDocs(),(fv=k.renderViews(),(fw=k.renderVars(),(fx=k.renderPlugIns(),S.Make().WithHole({$:0,$0:"plugins",$1:fx})).WithHole({$:2,$0:"pluginname",$1:p.Map(function(fA){return fA.plgName;},k.currentPlugInW())}).WithHole({$:0,$0:"vars",$1:fw})).WithHole({$:0,$0:"views",$1:fv})).WithHole({$:0,$0:"docs",$1:fu})).WithHole({$:0,$0:"actions",$1:ft})).WithHole({$:0,$0:"queries",$1:fs})),(fy=T.CompleteHoles(fr.k,fr.h,[]),(fz=new Q.New(fy[1],cO.appfwkclient(fy[0])),(fr.i=fz,fz)))).get_Doc();});bK.actHello=k.newAct("Hello",function(){self.alert("Hello!");});bK.qryDocs=k.newQry("getDocNames",function(){return R.ofSeq(ba.collect(function(fr){return ba.map(function(fs){return fr.plgName+"."+fs.docName;},fr.plgDocs);},(k.plugIns())["var"].Get()));});k.plugIns().Append(l.New("AppFramework",[k.newVar("mainDocV",k.mainDocV())],[],[k.newDoc("AppFwkClient",k.AppFwkClient())],[k.actHello()],[k.qryDocs()]));bK.getMainDoc=r.Create(function(){cT.init(ei.Curried(k.horizontal,5),ei.Curried(k.vertical,5));cR.init().f();return k.mainDoc();});bK.splitName=k.splitName;bK.createSplitterM=(et=(eu=new bR.New$5(),[[e2,function(fr){return function(fs){return e4(fr,fs);};}],function(){eu.Clear();}]),(ev=et[0][1],[function(fr){return(ev(fr))(function(fs){return I.createSplitter(fs[0],fs[1],fs[2],fs[3],fs[4]);});},et[1]]))[0];bK.createButtonM=(ew=(ex=new bR.New$5(),[[e5,function(fr){return function(fs){return e7(fr,fs);};}],function(){ex.Clear();}]),(ey=ew[0][1],[function(fr){return(ey(fr))(function(fs){return I.createButton(fs[0],fs[1],fs[2],fs[3],fs[4]);});},ew[1]]))[0];bK.createInputM=(ez=(eA=new bR.New$5(),[[e8,function(fr){return function(fs){return e_(fr,fs);};}],function(){eA.Clear();}]),(eB=ez[0][1],[function(fr){return(eB(fr))(function(fs){return I.createInput(fs[0],fs[1],fs[2],fs[3]);});},ez[1]]))[0];bK.createTextAreaM=(eC=(eD=new bR.New$5(),[[e$,function(fr){return function(fs){return fb(fr,fs);};}],function(){eD.Clear();}]),(eE=eC[0][1],[function(fr){return(eE(fr))(function(fs){return I.createTextArea(fs[0],fs[1],fs[2],fs[3]);});},eC[1]]))[0];bK.createElementM=(eF=(eG=new bR.New$5(),[[fc,function(fr){return function(fs){return fe(fr,fs);};}],function(){eG.Clear();}]),(eH=eF[0][1],[function(fr){return(eH(fr))(function(fs){return I.createElement(fs[0],fs[1],fs[2],fs[3],fs[4]);});},eF[1]]))[0];bK.createDocM=(eI=(eJ=new bR.New$5(),[[ff,function(fr){return function(fs){return fh(fr,fs);};}],function(){eJ.Clear();}]),(eK=eI[0][1],[function(fr){return(eK(fr))(function(fs){return I.createDoc(fs[0],fs[1],fs[2],fs[3]);});},eI[1]]))[0];bK.createTemplateM=(eL=(eM=new bR.New$5(),[[fi,function(fr){return function(fs){return fk(fr,fs);};}],function(){eM.Clear();}]),(eN=eL[0][1],[function(fr){return(eN(fr))(function(fs){return I.createTemplate(fs[0],fs[1],fs[2],fs[3],fs[4]);});},eL[1]]))[0];bK.createConcatM=(eO=(eP=new bR.New$5(),[[fl,function(fr){return function(fs){return fn(fr,fs);};}],function(){eP.Clear();}]),(eQ=eO[0][1],[function(fr){return(eQ(fr))(function(fs){return I.createConcat(fs[0],fs[1],fs[2]);});},eO[1]]))[0];bK.createVarM=(eR=(eS=new bR.New$5(),[[fo,function(fr){return function(fs){return fq(fr,fs);};}],function(){eS.Clear();}]),(eT=eR[0][1],[function(fr){return(eT(fr))(function(fs){return I.createVar(fs[0],fs[1],fs[2]);});},eR[1]]))[0];eU=k.tryGetPlugIn("AppFramework");eU==null?void 0:(eV=eU.$0,k.addPlugIn(l.New(eV.plgName,eV.plgVars,eV.plgViews,eV.plgDocs,eV.plgActions.concat([k.newActF("AddLayout",{$:2,$0:function(fr){return function(fs){return I.addNewLayout(fr,fs);};},$1:"[Name]",$2:"[Layout]"})]),eV.plgQueries)));};bL=K.IdForAuthorize=ei.Class({},null,bL);bM.New=function(eq,er,es,et,eu,ev,ew,ex){return{titulo:eq,nombre1:er,nombre2:es,apellido1:et,apellido2:eu,nacionalidad:ev,genero:ew,fechaNacimiento:ex};};bN.Dia01={$:0};bO=K.TipoAliado=ei.Class({toString:function(){return(function(eq){return function(er){return eq(V.p$2(er));};}(a.id))(this);}},null,bO);bO.Regular=new bO({$:1});bP.TryParseInt32=function(eq,er){return bP.TryParse(eq,-2147483648,2147483647,er);};bQ=be.List=ei.Class({GetEnumerator:function(){return cx.Get(this);},GetEnumerator0:function(){return cx.Get0(this);}},null,bQ);bR=be.Dictionary=ei.Class({set_Item:function(eq,er){this.set(eq,er);},set:function(eq,er){var es,et,eu,ev;es=this;et=this.hash(eq);eu=this.data[et];eu==null?(this.count=this.count+1,this.data[et]=new a.Array({K:eq,V:er})):(ev=R.tryFindIndex(function(ew){return es.equals.apply(null,[(o.KeyValue(ew))[0],eq]);},eu),ev==null?(this.count=this.count+1,eu.push({K:eq,V:er})):eu[ev.$0]={K:eq,V:er});},get_Item:function(eq){return this.get(eq);},TryGetValue:function(eq,er){var es,et,eu;es=this;et=this.data[this.hash(eq)];return et==null?false:(eu=R.tryPick(function(ev){var ew;ew=o.KeyValue(ev);return es.equals.apply(null,[ew[0],eq])?{$:1,$0:ew[1]}:null;},et),eu!=null&&eu.$==1&&(er.set(eu.$0),true));},Remove:function(eq){return this.remove(eq);},ContainsKey:function(eq){var er,es;er=this;es=this.data[this.hash(eq)];return es==null?false:R.exists(function(et){return er.equals.apply(null,[(o.KeyValue(et))[0],eq]);},es);},Add:function(eq,er){this.add(eq,er);},get:function(eq){var er,es;er=this;es=this.data[this.hash(eq)];return es==null?cU.notPresent():R.pick(function(et){var eu;eu=o.KeyValue(et);return er.equals.apply(null,[eu[0],eq])?{$:1,$0:eu[1]}:null;},es);},get_Keys:function(){return new dY.New(this);},remove:function(eq){var er,es,et,eu;er=this;es=this.hash(eq);et=this.data[es];return et==null?false:(eu=R.filter(function(ev){return!er.equals.apply(null,[(o.KeyValue(ev))[0],eq]);},et),R.length(eu)<et.length&&(this.count=this.count-1,this.data[es]=eu,true));},add:function(eq,er){var es,et,eu;es=this;et=this.hash(eq);eu=this.data[et];eu==null?(this.count=this.count+1,this.data[et]=new a.Array({K:eq,V:er})):(R.exists(function(ev){return es.equals.apply(null,[(o.KeyValue(ev))[0],eq]);},eu)?cU.alreadyAdded():void 0,this.count=this.count+1,eu.push({K:eq,V:er}));},Clear:function(){this.data=[];this.count=0;},GetEnumerator:function(){return cx.Get0(this);},GetEnumerator0:function(){return cx.Get0(R.concat(G.GetFieldValues(this.data)));}},g,bR);bR.New$5=ei.Ctor(function(){bR.New$6.call(this,[],H.Equals,H.Hash);},bR);bR.New$6=ei.Ctor(function(eq,er,es){var et,eu;g.New.call(this);this.equals=er;this.hash=es;this.count=0;this.data=[];et=cx.Get(eq);try{while(et.MoveNext()){eu=et.Current();this.set(eu.K,eu.V);}}finally{if(typeof et=="object"&&"Dispose"in et)et.Dispose();}},bR);bS=be.HashSet=ei.Class({Add:function(eq){return this.add(eq);},Contains:function(eq){var er;er=this.data[this.hash(eq)];return er==null?false:this.arrContains(eq,er);},add:function(eq){var er,es;er=this.hash(eq);es=this.data[er];return es==null?(this.data[er]=[eq],this.count=this.count+1,true):this.arrContains(eq,es)?false:(es.push(eq),this.count=this.count+1,true);},arrContains:function(eq,er){var es,et,eu,ev;es=true;et=0;ev=er.length;while(es&&et<ev)if(this.equals.apply(null,[er[et],eq]))es=false;else et=et+1;return!es;},ExceptWith:function(eq){var er;er=cx.Get(eq);try{while(er.MoveNext())this.Remove(er.Current());}finally{if(typeof er=="object"&&"Dispose"in er)er.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(eq){var er,es,et,eu;er=0;es=dM.concat(this.data);for(et=0,eu=es.length-1;et<=eu;et++)R.set(eq,et,es[et]);},IntersectWith:function(eq){var er,es,et,eu,ev;er=new bS.New$4(eq,this.equals,this.hash);es=dM.concat(this.data);for(et=0,eu=es.length-1;et<=eu;et++){ev=es[et];!er.Contains(ev)?this.Remove(ev):void 0;}},Remove:function(eq){var er;er=this.data[this.hash(eq)];return er==null?false:this.arrRemove(eq,er)&&(this.count=this.count-1,true);},arrRemove:function(eq,er){var es,et,eu,ev;es=true;et=0;ev=er.length;while(es&&et<ev)if(this.equals.apply(null,[er[et],eq])){er.splice.apply(er,[et,1]);es=false;}else et=et+1;return!es;},GetEnumerator:function(){return cx.Get(dM.concat(this.data));},GetEnumerator0:function(){return cx.Get(dM.concat(this.data));}},g,bS);bS.New$3=ei.Ctor(function(){bS.New$4.call(this,[],H.Equals,H.Hash);},bS);bS.New$4=ei.Ctor(function(eq,er,es){var et;g.New.call(this);this.equals=er;this.hash=es;this.data=[];this.count=0;et=cx.Get(eq);try{while(et.MoveNext())this.add(et.Current());}finally{if(typeof et=="object"&&"Dispose"in et)et.Dispose();}},bS);bS.New$2=ei.Ctor(function(eq){bS.New$4.call(this,eq,H.Equals,H.Hash);},bS);bT.Box=a.id;bV.StartTo=function(eq,er){cL.StartWithContinuations(eq,er,function(es){bV.OnError(es);},a.ignore,null);};bV.OnError=function(eq){return el.log("WebSharper UI: Uncaught asynchronous exception",eq);};bP.TryParseInt64=function(eq,er){return bP.TryParse(eq,-9223372036854775808,9223372036854775807,er);};bW.Int=function(){bW.set_counter(bW.counter()+1);return bW.counter();};bW.set_counter=function(eq){dl.$cctor();dl.counter=eq;};bW.counter=function(){dl.$cctor();return dl.counter;};bW.Id=function(){bW.set_counter(bW.counter()+1);return"uid"+a.String(bW.counter());};bX=bC.Builder=ei.Class({},g,bX);bX.New=ei.Ctor(function(){g.New.call(this);},bX);bY=bC.BuilderP=ei.Class({},g,bY);bY.New=ei.Ctor(function(){g.New.call(this);},bY);b0=bZ.EffBuilder=ei.Class({},g,b0);b0.New=ei.Ctor(function(){g.New.call(this);},b0);b1=bn.AsyncResultBuilderP=ei.Class({},g,b1);b1.New=ei.Ctor(function(){g.New.call(this);},b1);b2.unindent$1=function(eq){var er,es,et,eu;er=bh.SplitChars(eq,["\n"],0);es=(et=ba.tryFindIndex(function(ev){return" "!==ev;},(eu=ba.tryFind(function(ev){return bh.Trim(ev)!=="";},er),eu==null?"":eu.$0)),et==null?0:et.$0);return ba.filter(function(ev){return!bh.StartsWith(ev,"# 1 ");},ba.map(function(ev){return ev.length<=es?"":ev.substring(es);},er));};b2.splitByChar$1=function(eq,er){return bh.SplitChars(er,[eq],0);};b3.array=function(eq,er,es){return er==null?es!=null&&es.$==1?eq.slice(0,es.$0+1):[]:es==null?eq.slice(er.$0):eq.slice(er.$0,es.$0+1);};b3.string=function(eq,er,es){return er==null?es!=null&&es.$==1?eq.slice(0,es.$0+1):"":es==null?eq.slice(er.$0):eq.slice(er.$0,es.$0+1);};b4.tryParseWith$1=function(eq){function er(es,et){return es?{$:1,$0:et}:null;}return function(es){return er.apply(null,eq(es));};};b4.parseDateO$1=function(){_4.$cctor();return _4.parseDateO;};b4.parseIntO$1=function(){_4.$cctor();return _4.parseIntO;};b4.parseInt64O$1=function(){_4.$cctor();return _4.parseInt64O;};b4.parseSingleO$1=function(){_4.$cctor();return _4.parseSingleO;};b4.parseDoubleO$1=function(){_4.$cctor();return _4.parseDoubleO;};b4.parseGuidO$1=function(){_4.$cctor();return _4.parseGuidO;};b4.parseDateO2$1=function(){_4.$cctor();return _4.parseDateO2;};b5.toJsonString=function(eq){return R.ofSeq(ba.delay(function(){return ba.append(["\""],ba.delay(function(){return ba.append(!bh.IsNullOrEmpty(eq)?ba.collect(function(er){var es,et;es=eq[er];et=es.charCodeAt();return et>=0&&et<=7||et===11||et>=14&&et<=31?(function(eu){return function(ev){return eu("\\u"+bv.padNumLeft(ev.toString(16),4));};}(a.id))(et):es==="\u0008"?"\\b":es==="\u0009"?"\\t":es==="\n"?"\\n":es==="\u000c"?"\\f":es==="\r"?"\\r":es==="\""?"\\\"":es==="\\"?"\\\\":[es];},o.range(0,eq.length-1)):[],ba.delay(function(){return["\""];}));}));})).join("");};b7=b6.Policy=ei.Class({toString:function(){return bh.ReplaceChar(bb["String.get_toUnderscore$1"]((function(eq){return function(er){return eq(V.p(er));};}(a.id))(this)),"_"," ");}},null,b7);b7.SignIn=new b7({$:0});b7.SignUp=new b7({$:1});b7.EditProfile=new b7({$:2});b7.ResetPassword=new b7({$:3});b8.New=function(eq,er,es,et,eu,ev){return{tipoTelefono:eq,codigoPais:er,codigoArea:es,numero:et,extension:eu,mensajes:ev};};b9=K.TipoTelefono=ei.Class({toString:function(){return(function(eq){return function(er){return eq(V.p$9(er));};}(a.id))(this);}},null,b9);b9.Movil=new b9({$:0});b9.get_tryParse=function(){return function(eq){return eq==="Movil"?{$:1,$0:b9.Movil}:eq==="Oficina"?{$:1,$0:b9.Oficina}:eq==="Habitacion"?{$:1,$0:b9.Habitacion}:null;};};b9.Oficina=new b9({$:1});b9.Habitacion=new b9({$:2});b_.New=function(eq,er,es,et,eu,ev,ew,ex){return{authorizeIdR:eq,tipoDireccion:er,linea1:es,linea2:et,ciudad:eu,estado:ev,pais:ew,zonaPostal:ex};};b$=K.TipoDireccion=ei.Class({toString:function(){return this.$==3?this.$0:(function(eq){return function(er){return eq(V.p$8(er));};}(a.id))(this);}},null,b$);b$.Habitacion=new b$({$:0});b$.tryParse=function(eq){var er;er=bh.Trim(eq);return er===""?null:er==="Habitacion"?{$:1,$0:b$.Habitacion}:er==="Oficina"?{$:1,$0:b$.Oficina}:er==="ServicioPostal"?{$:1,$0:b$.ServicioPostal}:{$:1,$0:new b$({$:3,$0:er})};};b$.Oficina=new b$({$:1});b$.ServicioPostal=new b$({$:2});ca=K.Estado=ei.Class({toString:function(){return this.$==2?this.$0:(function(eq){return function(er){return eq(V.p$4(er));};}(a.id))(this);}},null,ca);ca.tryParse=function(eq){var er,es;es=bh.Trim(eq).toUpperCase();switch(es){case"":return null;case"TEXAS":case"TX":return{$:1,$0:ca.Texas};case"FLORIDA":case"FL":return{$:1,$0:ca.Florida};default:return{$:1,$0:new ca({$:2,$0:bh.Trim(eq)})};}};ca.Texas=new ca({$:0});ca.Florida=new ca({$:1});cb=K.Pais=ei.Class({toString:function(){return this.$==3?this.$0:(function(eq){return function(er){return eq(V.p$3(er));};}(a.id))(this);}},null,cb);cb.USA=new cb({$:0});cb.tryParse=function(eq){var er,es;es=bh.Trim(eq).toUpperCase();switch(es){case"":return null;case"USA":case"AMERICA":case"E.E.U.U.":case"US":case"UNITED STATES OF AMERICA":case"UNITED STATES":case"EEUU":return{$:1,$0:cb.USA};case"VENEZUELA":return{$:1,$0:cb.Venezuela};case"ARGENTINA":return{$:1,$0:cb.Argentina};default:return{$:1,$0:new cb({$:3,$0:bh.Trim(eq)})};}};cb.Venezuela=new cb({$:1});cb.Argentina=new cb({$:2});cc=K.ZonaPostal=ei.Class({toString:function(){return this.$0;}},null,cc);cc.tryParse=function(eq){return bh.Trim(eq)!==""?{$:1,$0:new cc({$:0,$0:bh.Trim(eq)})}:null;};cd.New=function(eq,er,es,et){return{titular:eq,tipoTarjeta:er,numero:es,expiracion:et};};ce=K.Expiracion=ei.Class({},null,ce);ce.New=function(eq,er){return new ce({anio:eq,mes:er});};cf=K.NumeroTarjeta=ei.Class({get_Id:function(){return this.$0;}},null,cf);cg=K.TipoTarjeta=ei.Class({toString:function(){return this.$==3?this.$0:(function(eq){return function(er){return eq(V.p$5(er));};}(a.id))(this);}},null,cg);cg.Visa=new cg({$:0});cg.tryParse=function(eq){var er,es;es=bh.Trim(eq).toUpperCase();switch(es){case"":return null;case"VISA":return{$:1,$0:cg.Visa};case"MASTERCARD":return{$:1,$0:cg.MasterCard};case"AMERICAN EXPRESS":case"AMEX":return{$:1,$0:cg.Amex};default:return{$:1,$0:new cg({$:3,$0:bh.Trim(eq)})};}};cg.MasterCard=new cg({$:1});cg.Amex=new cg({$:2});ch=K.TipoCuenta=ei.Class({toString:function(){return this.$==2?this.$0:(function(eq){return function(er){return eq(V.p$6(er));};}(a.id))(this);}},null,ch);ch.Ahorro=new ch({$:0});ch.tryParse=function(eq){var er,es;es=bh.Trim(eq).toUpperCase();switch(es){case"":return null;case"AHORRO":case"SAVINGS":return{$:1,$0:ch.Ahorro};case"CORRIENTE":case"CHECKING":return{$:1,$0:ch.Corriente};default:return{$:1,$0:new ch({$:2,$0:bh.Trim(eq)})};}};ch.Corriente=new ch({$:1});ci.Masculino={$:0};ci.tryParse=function(eq){var er;er=bh.Trim(eq);return er==="Masculino"?{$:1,$0:ci.Masculino}:er==="Femenino"?{$:1,$0:ci.Femenino}:er==="Empresa"?{$:1,$0:ci.Empresa}:null;};ci.Femenino={$:1};ci.Empresa={$:2};cj.AjaxProvider=function(){c0.$cctor();return c0.AjaxProvider;};cj.set_EndPoint=function(eq){c0.$cctor();c0.EndPoint=eq;};cj.set_AjaxProvider=function(eq){c0.$cctor();c0.AjaxProvider=eq;};cj.makePayload=function(eq){return en.stringify(eq);};cj.makeHeaders=function(eq){return{"content-type":"application/json","x-websharper-rpc":eq};};cj.EndPoint=function(){c0.$cctor();return c0.EndPoint;};cj.ajax=function(eq,er,es,et,eu,ev,ew){var ex,ey,ez;ex=new a.XMLHttpRequest();ey=a.document.cookie.replace(new a.RegExp("(?:(?:^|.*;)\\s*csrftoken\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1");ex.open("POST",er,eq);if(eq==true)ex.withCredentials=true;for(var eB in es)ex.setRequestHeader(eB,es[eB]);if(ey)ex.setRequestHeader("x-csrftoken",ey);function eA(){var eC;if(ex.status==200)eu(ex.responseText);else if(ew&&ex.status==403&&ex.responseText=="CSRF")ew();else{eC="Response status is not 200: ";ev(new c2(eC+ex.status));}}if("onload"in ex)ex.onload=ex.onerror=ex.onabort=eA;else ex.onreadystatechange=function(){if(ex.readyState==4)eA();};ex.send(et);};ck.New$1=function(eq,er,es,et){return c1.newPojoOpt([b6.op_EqualsEqualsGreater("auth",eq),b6.op_EqualsEqualsGreater("cache",er),b6.op_EqualsEqualsGreater("system",es),b6.op_EqualsEqualsGreater("framework",et)]);};cl.New$1=function(eq,er,es,et,eu,ev){return c1.newPojoOpt([b6.op_MinusMinusGreater("clientId",eq),b6.op_EqualsEqualsGreater("authority",er),b6.op_EqualsEqualsGreater("validateAuthority",es),b6.op_EqualsEqualsGreater("redirectUri",et),b6.op_EqualsEqualsGreater("postLogoutRedirectUri",eu),b6.op_EqualsEqualsGreater("navigateToLoginRequestUrl",ev)]);};cn=cm.MailboxProcessor=ei.Class({PostAndAsyncReply:function(eq,er){var es,et;es=this;et=null;return cL.Delay(function(){return cL.Bind(es.PostAndTryAsyncReply(eq,er),function(eu){var ev,ew;if(eu!=null&&eu.$==1)ew=eu.$0;else throw new c3.New();return cL.Return(ew);});});},PostAndTryAsyncReply:function(eq,er){var es,et,eu;function ev(ew){var ey;function ex(ez){return{$:1,$0:ez};}if(et<0){es.mailbox.AddLast(eq(function(ez){return ew(ex(ez));}));es.resume();}else{ey=[true];es.mailbox.AddLast(eq(function(ez){if(ey[0]){ey[0]=false;ew({$:1,$0:ez});}}));es.resume();a.setTimeout(function(){if(ey[0]){ey[0]=false;ew(null);}},et);}}es=this;et=(eu=this.get_DefaultTimeout(),er==null?eu:er.$0);return cL.FromContinuations(function(ew,ex,ey){return ev.apply(null,[ew,ex,ey]);});},get_DefaultTimeout:function(){return this.DefaultTimeout;},Receive:function(eq){var er,es;er=this;es=null;return cL.Delay(function(){return cL.Bind(er.TryReceive(eq),function(et){var eu,ev;if(et!=null&&et.$==1)ev=et.$0;else throw new c3.New();return cL.Return(ev);});});},resume:function(){var eq;eq=this.savedCont;eq!=null&&eq.$==1?(this.savedCont=null,this.startAsync(eq.$0)):void 0;},Start:function(){var eq,er;eq=this;this.started?o.FailWith("The MailboxProcessor has already been started."):(this.started=true,eq.startAsync((er=null,cL.Delay(function(){return cL.TryWith(cL.Delay(function(){return cL.Bind(eq.initial(eq),function(){return cL.Return(null);});}),function(es){eq.errorEvent.event.Trigger(es);return cL.Zero();});}))));},TryReceive:function(eq){var er,es,et;function eu(ev){var ew,ex,ey,ez;if(H.Equals(er.mailbox.n,null)){if(es<0){er.savedCont={$:1,$0:(ew=null,cL.Delay(function(){ev({$:1,$0:er.dequeue()});return cL.Zero();}))};}else{ex=[true];ey=a.setTimeout(function(){if(ex[0]){ex[0]=false;er.savedCont=null;ev(null);}},es);er.savedCont={$:1,$0:(ez=null,cL.Delay(function(){return ex[0]?(ex[0]=false,a.clearTimeout(ey),ev({$:1,$0:er.dequeue()}),cL.Zero()):cL.Zero();}))};}}else ev({$:1,$0:er.dequeue()});}er=this;es=(et=this.get_DefaultTimeout(),eq==null?et:eq.$0);return cL.FromContinuations(function(ev,ew,ex){return eu.apply(null,[ev,ew,ex]);});},startAsync:function(eq){cL.Start(eq,this.token);},dequeue:function(){var eq;eq=this.mailbox.n.v;this.mailbox.RemoveFirst();return eq;}},g,cn);cn.Start=function(eq,er){var es;es=new cn.New(eq,er);es.Start();return es;};cn.New=ei.Ctor(function(eq,er){var es,et;function eu(ev){return es.resume();}es=this;g.New.call(this);this.initial=eq;this.token=er;this.started=false;this.errorEvent=new dn.New();this.mailbox=new _do.New();this.savedCont=null;et=this.token;et==null?void 0:cL.Register(et.$0,function(){eu();});this.DefaultTimeout=-1;},cn);co.callA=function(eq,er){return co.iterA(eq,function(es){var et,eu,ev;et=es[0];eu=es[1];ev=null;return cL.Delay(function(){return cL.Bind(er(eu),function(ew){et(ew);return cL.Zero();});});});};co.iterA=function(eq,er){return cn.Start(function(es){var et;et=null;return cL.Delay(function(){return cL.While(function(){return true;},cL.Delay(function(){return cL.TryWith(cL.Delay(function(){return cL.Bind(es.Receive(null),function(eu){return cL.Bind(er(eu),function(){return cL.Return(null);});});}),function(eu){eq(eu);return cL.Zero();});}));});},null);};j.REGEX$2=function(eq,er,es){var et;return es===null?null:(et=(new a.String(es)).match(new a.RegExp(eq,er)),H.Equals(et,null)?null:!H.Equals(et,null)&&et.length===0?null:{$:1,$0:et});};j.rexEmail$1=function(){_4.$cctor();return _4.rexEmail;};cp.DefaultEP={$:0};cq.InstallHash=function(eq,er){var es;es=i.Create$1(cq.getCurrentHash(function(et){return c7.Parse(er,c8.FromHash(et,{$:1,$0:true}));},eq));cq.InstallHashInto(es,eq,er);return es;};cq.InstallHashInto=function(eq,er,es){function et(ew){return c7.Parse(es,c8.FromHash(ew,{$:1,$0:true}));}function eu(){return cq.getCurrentHash(et,er);}function ev(ew){if(!H.Equals(eq.Get(),ew))eq.Set(ew);}self.addEventListener("popstate",function(){return ev(eu());},false);self.addEventListener("hashchange",function(){return ev(eu());},false);self.document.body.addEventListener("click",function(ew){var ex,ey,ez;ex=(ey=cq.findLinkHref(ew.target),ey==null?null:(ez=ey.$0,bh.StartsWith(ez,"#")?et(ez):null));return ex==null?null:(ev(ex.$0),ew.preventDefault());},false);p.Sink(function(ew){var ex;if(!H.Equals(ew,eu())){ex=c7.HashLink(es,ew);self.history.pushState(null,null,ex);}},eq.get_View());};cq.getCurrentHash=function(eq,er){var es,et;es=self.location.hash;et=eq(es);return et==null?((function(eu){return function(ev){return eu("Failed to parse route: "+bv.toSafe(ev));};}(function(eu){el.log(eu);}))(es),er):et.$0;};cq.findLinkHref=function(eq){while(true)if(eq.tagName==="A")return J.ofObj(eq.getAttribute("href"));else if(eq===self.document.body)return null;else eq=eq.parentNode;};cr.B={$:0};cs.installBearer=function(eq){cs.set_getTokenOA(eq);cj.set_AjaxProvider(new c9.New());};cs.set_getTokenOA=function(eq){_4.$cctor();_4.getTokenOA=eq;};cs.getTokenOA=function(){_4.$cctor();return _4.getTokenOA;};cs.originalProvider=function(){_4.$cctor();return _4.originalProvider;};ct.serverEndPoint=function(){_4.$cctor();return _4.serverEndPoint;};cu=K.IdPayment=ei.Class({},null,cu);cv.New=function(eq,er){return{qryName:eq,qryFunction:er};};_3.Obsolete=function(eq){var er,es,et,eu,ev;es=eq.s;if(es==null||(es!=null&&es.$==2?(er=es.$1,false):es!=null&&es.$==3?(er=es.$1,false):true))void 0;else{eq.s=null;for(et=0,eu=R.length(er)-1;et<=eu;et++){ev=R.get(er,et);typeof ev=="object"?function(ew){_3.Obsolete(ew);}(ev):ev();}}};_3.New=function(eq){return{s:eq};};cw=be.FSharpMap=ei.Class({TryGetValue:function(eq,er){var es;es=this.TryFind(eq);return es!=null&&es.$==1&&(er.set(es.$0),true);},get_Item:function(eq){var er;er=this.TryFind(eq);return er==null?o.FailWith("The given key was not present in the dictionary."):er.$0;},TryFind:function(eq){var er;er=cz.TryFind(dt.New(eq,void 0),this.tree);return er==null?null:{$:1,$0:er.$0.Value};},Equals:function(eq){return this.get_Count()===eq.get_Count()&&ba.forall2(H.Equals,this,eq);},GetEnumerator$1:function(){return cx.Get(ba.map(function(eq){return{K:eq.Key,V:eq.Value};},cz.Enumerate(false,this.tree)));},get_Count:function(){var eq;eq=this.tree;return eq==null?0:eq.Count;},GetHashCode:function(){return H.Hash(R.ofSeq(this));},Add:function(eq,er){return new cw.New$1(cz.Add(dt.New(eq,er),this.tree));},get_IsEmpty:function(){return this.tree==null;},get_Tree:function(){return this.tree;},GetEnumerator:function(){return this.GetEnumerator$1();},CompareTo0:function(eq){return ba.compareWith(H.Compare,this,eq);},GetEnumerator0:function(){return this.GetEnumerator$1();}},g,cw);cw.New=ei.Ctor(function(eq){cw.New$1.call(this,c_.fromSeq(eq));},cw);cw.New$1=ei.Ctor(function(eq){g.New.call(this);this.tree=eq;},cw);cx.Get=function(eq){return eq instanceof a.Array?cx.ArrayEnumerator(eq):H.Equals(typeof eq,"string")?cx.StringEnumerator(eq):eq.GetEnumerator();};cx.ArrayEnumerator=function(eq){return new cy.New(0,null,function(er){var es;es=er.s;return es<R.length(eq)&&(er.c=R.get(eq,es),er.s=es+1,true);},void 0);};cx.StringEnumerator=function(eq){return new cy.New(0,null,function(er){var es;es=er.s;return es<eq.length&&(er.c=eq[es],er.s=es+1,true);},void 0);};cx.Get0=function(eq){return eq instanceof a.Array?cx.ArrayEnumerator(eq):H.Equals(typeof eq,"string")?cx.StringEnumerator(eq):"GetEnumerator0"in eq?eq.GetEnumerator0():eq.GetEnumerator();};cy=cx.T=ei.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},g,cy);cy.New=ei.Ctor(function(eq,er,es,et){g.New.call(this);this.s=eq;this.c=er;this.n=es;this.d=et;},cy);cz.OfSeq=function(eq){var er;er=R.ofSeq(ba.distinct(eq));R.sortInPlace(er);return cz.Build(er,0,er.length-1);};cz.Contains=function(eq,er){return!((cz.Lookup(eq,er))[0]==null);};cz.Remove=function(eq,er){var es,et,eu,ev;es=cz.Lookup(eq,er);et=es[0];eu=es[1];return et==null?er:et.Right==null?cz.Rebuild(eu,et.Left):et.Left==null?cz.Rebuild(eu,et.Right):cz.Rebuild(eu,(ev=R.ofSeq(ba.append(cz.Enumerate(false,et.Left),cz.Enumerate(false,et.Right))),cz.Build(ev,0,ev.length-1)));};cz.Add=function(eq,er){return cz.Put(function(es,et){return et;},eq,er);};cz.TryFind=function(eq,er){var es;es=(cz.Lookup(eq,er))[0];return es==null?null:{$:1,$0:es.Node};};cz.Build=function(eq,er,es){var et,eu,ev;return es-er+1<=0?null:(et=(er+es)/2>>0,(eu=cz.Build(eq,er,et-1),(ev=cz.Build(eq,et+1,es),cz.Branch(R.get(eq,et),eu,ev))));};cz.Lookup=function(eq,er){var es,et,eu,ev;es=[];et=er;eu=true;while(eu)if(et==null)eu=false;else{ev=H.Compare(eq,et.Node);ev===0?eu=false:ev===1?(es.unshift([true,et.Node,et.Left]),et=et.Right):(es.unshift([false,et.Node,et.Right]),et=et.Left);}return[et,es];};cz.Rebuild=function(eq,er){var es,eu,ev,ew,ex,ey,ez,eA,eB,eC;function et(eD){return eD==null?0:eD.Height;}es=er;for(eu=0,ev=R.length(eq)-1;eu<=ev;eu++){es=(ew=R.get(eq,eu),ew[0]?(ex=ew[1],(ey=ew[2],et(es)>et(ey)+1?et(es.Left)===et(es.Right)+1?(ez=es.Left,cz.Branch(ez.Node,cz.Branch(ex,ey,ez.Left),cz.Branch(es.Node,ez.Right,es.Right))):cz.Branch(es.Node,cz.Branch(ex,ey,es.Left),es.Right):cz.Branch(ex,ey,es))):(eA=ew[1],(eB=ew[2],et(es)>et(eB)+1?et(es.Right)===et(es.Left)+1?(eC=es.Right,cz.Branch(eC.Node,cz.Branch(es.Node,es.Left,eC.Left),cz.Branch(eA,eC.Right,eB))):cz.Branch(es.Node,es.Left,cz.Branch(eA,es.Right,eB)):cz.Branch(eA,es,eB))));}return es;};cz.Put=function(eq,er,es){var et,eu;et=cz.Lookup(er,es);eu=et[0];return eu==null?cz.Rebuild(et[1],cz.Branch(er,null,null)):cz.Rebuild(et[1],cz.Branch(eq(eu.Node,er),eu.Left,eu.Right));};cz.Branch=function(eq,er,es){var et,eu;return c$.New(eq,er,es,1+(et=er==null?0:er.Height,(eu=es==null?0:es.Height,H.Compare(et,eu)===1?et:eu)),1+(er==null?0:er.Count)+(es==null?0:es.Count));};cz.Enumerate=function(eq,er){function es(et,eu){var ev;while(true)if(et==null)return eu.$==1?{$:1,$0:[eu.$0[0],[eu.$0[1],eu.$1]]}:null;else if(eq){ev=et;et=ev.Right;eu=new cA({$:1,$0:[ev.Node,ev.Left],$1:eu});}else{ev=et;et=ev.Left;eu=new cA({$:1,$0:[ev.Node,ev.Right],$1:eu});}}return ba.unfold(function(et){return es(et[0],et[1]);},[er,cA.Empty]);};ba.tryHead=function(eq){var er;er=cx.Get(eq);try{return er.MoveNext()?{$:1,$0:er.Current()}:null;}finally{if(typeof er=="object"&&"Dispose"in er)er.Dispose();}};R.groupBy=function(eq,er){var es,et,eu,ev,ew,ex;es=new bR.New$5();et=[];for(eu=0,ev=R.length(er)-1;eu<=ev;eu++){ew=er[eu];ex=eq(ew);es.ContainsKey(ex)?es.get_Item(ex).push(ew):(et.push(ex),es.Add(ex,[ew]));}R.mapInPlace(function(ey){return[ey,es.get_Item(ey)];},et);return et;};ba.tryItem=function(eq,er){var es,et,eu;if(eq<0)return null;else{es=0;et=cx.Get(er);try{eu=true;while(eu&&es<=eq)if(et.MoveNext())es=es+1;else eu=false;return eu?{$:1,$0:et.Current()}:null;}finally{if(typeof et=="object"&&"Dispose"in et)et.Dispose();}}};ba.last=function(eq){var er,es;er=cx.Get(eq);try{if(!er.MoveNext())es=ba.insufficient();else{while(er.MoveNext());es=er.Current();}return es;}finally{if(typeof er=="object"&&"Dispose"in er)er.Dispose();}};R.mapInPlace=function(eq,er){var es,et;for(es=0,et=er.length-1;es<=et;es++)er[es]=eq(er[es]);};R.mapiInPlace=function(eq,er){var es,et;for(es=0,et=er.length-1;es<=et;es++)er[es]=eq(es,er[es]);return er;};ba.insufficient=function(){return o.FailWith("The input sequence has an insufficient number of elements.");};ba.nonNegative=function(){return o.FailWith("The input must be non-negative.");};cA=bx.T=ei.Class({GetEnumerator:function(){return new cy.New(this,null,function(eq){var er;er=eq.s;return er.$==0?false:(eq.c=er.$0,eq.s=er.$1,true);},void 0);},GetEnumerator0:function(){return cx.Get(this);}},null,cA);cA.Empty=new cA({$:0});p=h.View=ei.Class({get_V:function(){return o.FailWith("View<'T>.V can only be called in an argument to a V-enabled function or if 'T = Doc.");}},null,p);cB.rtn=function(eq){return cL.Return({$:0,$0:eq});};cB.bind=function(eq,er){var es;es=null;return cL.Delay(function(){return cL.Bind(er,function(et){return et.$==1?cL.Return(bb.Error$1(et.$0)):eq(et.$0);});});};cB.iterA=function(eq,er,es){function et(ev){bC.iter(eq,er,ev);}function eu(ev){return cL.Return(ev);}cL.Start(cL.Bind(es,function(ev){return eu(et(ev));}),null);};cB.map=function(eq,er){return cB.bind(function(es){return cB.rtn(eq(es));},er);};cB.rtnR=function(eq){return cL.Return(eq);};cB.whileLoop=function(eq,er){return eq()?cB.bind(function(){return cB.whileLoop(eq,er);},er()):cB.rtn();};cC=cj.AjaxRemotingProvider=ei.Class({AsyncBase:function(eq,er){var es,et;es=this;et=null;return cL.Delay(function(){var eu,ev;eu=cj.makeHeaders(eq);ev=cj.makePayload(er);return cL.Bind(cL.GetCT(),function(ew){return cL.FromContinuations(function(ex,ey,ez){var eA,eB,eC;function eD(eE){return eA[0]?(eA[0]=false,ez(new dS.New(ew))):null;}eA=[true];eB=cL.Register(ew,function(){eD();});eC=es.get_EndPoint();return cj.AjaxProvider().Async(eC,eu,ev,function(eE){if(eA[0]){eA[0]=false;eB.Dispose();ex(d6.Activate(en.parse(eE)));}},function(eE){if(eA[0]){eA[0]=false;eB.Dispose();ey(eE);}});});});});},get_EndPoint:function(){return cj.EndPoint();},Async:function(eq,er){return this.AsyncBase(eq,er);}},g,cC);cC.New=ei.Ctor(function(){g.New.call(this);},cC);cD.replace=function(eq,er,es){return R.ofSeq(ba.delay(function(){return ba.append(eq>0?b3.array(es,null,{$:1,$0:eq-1}):[],ba.delay(function(){return ba.append([er],ba.delay(function(){return eq<R.length(es)?b3.array(es,{$:1,$0:eq+1},null):[];}));}));}));};cD.remove=function(eq,er){return R.ofSeq(ba.delay(function(){return ba.append(eq>0?b3.array(er,null,{$:1,$0:eq-1}):[],ba.delay(function(){return eq<R.length(er)?b3.array(er,{$:1,$0:eq+1},null):[];}));}));};cF=cE.attr=ei.Class({},g,cF);cG.formaDocO=function(eq){var er;return cG.formaDoc(i.Lens(eq,(er=[K.ctaVacio(),"",false],function(es){return es==null?er:es.$0;}),function(es,et){return{$:1,$0:et};}));};cG.formaDoc=function(eq){var er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC;function eD(eE,eF,eG){es.Hole("titular").Set(eE.titular);es.Hole("banco").Set(eE.banco);es.Hole("tipocuenta").Set((function(eH){return function(eI){return eH(a.String(eI));};}(a.id))(eE.tipo));es.Hole("numero").Set(eE.numero.$0);es.Hole("routing").Set(eE.routing.$0);}er=p.Map(function(eE){return bt.thr3(eE[0],eE[1],eE[2]);},eq.get_View());es=(et=(eu=cN.DynamicPred("disabled",er,p.Const("")),(ev=cN.DynamicPred("disabled",er,p.Const("")),(ew=cN.DynamicPred("disabled",er,p.Const("")),(ex=cN.DynamicPred("disabled",er,p.Const("")),(ey=cN.DynamicPred("disabled",er,p.Const("")),(ez=Y.EmbedView(p.Map(bt.crearOptions,bt.tiposCta().get_View())),S.Make().WithHole({$:0,$0:"tiposcuenta",$1:ez})).WithHole({$:2,$0:"mensaje",$1:p.Map(function(eE){return bt.snd3(eE[0],eE[1],eE[2]);},eq.get_View())}).WithHole({$:3,$0:"disabled1",$1:ey})).WithHole({$:3,$0:"disabled2",$1:ex})).WithHole({$:3,$0:"disabled3",$1:ew})).WithHole({$:3,$0:"disabled4",$1:ev})).WithHole({$:3,$0:"disabled5",$1:eu})),(eA=T.CompleteHoles(et.k,et.h,[["tipocuenta",0],["titular",0],["numero",0],["banco",0],["routing",0]]),(eB=new Q.New(eA[1],U.cuentabancaria(eA[0])),(et.i=eB,eB))));p.Sink(function(eE){return eD(eE[0],eE[1],eE[2]);},eq.get_View());eC=p.Apply(p.Apply(p.Map2(function(eE,eF){return function(eG){return function(eH){return ba.map(function(eI){return eI[1];},ba.filter(function(eI){return eI[0];},bx.ofArray([[bh.Trim(eE)==="","Titular"],[bh.Trim(eF)==="","Banco"],[bh.Trim(eG)==="","Numero de Cuenta"],[bh.Trim(eH)==="","ABA/Routing Number"]])));};};},es.Hole("titular").get_View(),es.Hole("banco").get_View()),es.Hole("numero").get_View()),es.Hole("routing").get_View());p.Sink(function(eE){var eF,eG;if(eE!=null&&eE.$==1){eF=eE.$0;!H.Equals((eG=eq.Get(),bt.fst3(eG[0],eG[1],eG[2])),eF)?eq.Set([eF,"",false]):void 0;}},p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(eE,eF){return ei.Curried(function(eG,eH,eI,eJ){return!ba.isEmpty(eE)?null:bt.alertIfNone("TipoCuenta",ch.tryParse(bh.Trim(eF)),function(eK){var eL;return{$:1,$0:(eL=bh.Trim(eG),by.New(bh.Trim(eH),eL,eK,new bA({$:0,$0:bh.Trim(eI)}),new bz({$:0,$0:bh.Trim(eJ)})))};});},4);},eC,es.Hole("tipocuenta").get_View()),es.Hole("banco").get_View()),es.Hole("titular").get_View()),es.Hole("numero").get_View()),es.Hole("routing").get_View()));return[eC,es.get_Doc()];};cH.formaDocO=function(eq){var er;return cH.formaDoc(i.Lens(eq,(er=[K.tarVacio(),"",false],function(es){return es==null?er:es.$0;}),function(es,et){return{$:1,$0:et};}));};cH.formaDoc=function(eq){var er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE;function eF(eG,eH,eI){var eJ;es.Hole("titular").Set(eG.titular);es.Hole("tipotarjeta").Set((function(eK){return function(eL){return eK(a.String(eL));};}(a.id))(eG.tipoTarjeta));es.Hole("numero").Set(eG.numero.$0);es.Hole("aniovenc").Set((function(eK){return function(eL){return eK(bv.padNumLeft(a.String(eL),4));};}(a.id))(eG.expiracion.anio));es.Hole("mesvenc").Set((eJ=eG.expiracion.mes,eJ===1?"Enero":eJ===2?"Febrero":eJ===3?"Marzo":eJ===4?"Abril":eJ===5?"Mayo":eJ===6?"Junio":eJ===7?"Julio":eJ===8?"Agosto":eJ===9?"Septiembre":eJ===10?"Octubre":eJ===11?"Noviembre":eJ===12?"Diciembre":"XX"));}er=p.Map(function(eG){return bt.thr3(eG[0],eG[1],eG[2]);},eq.get_View());es=(et=(eu=cN.DynamicPred("disabled",er,p.Const("")),(ev=cN.DynamicPred("disabled",er,p.Const("")),(ew=cN.DynamicPred("disabled",er,p.Const("")),(ex=cN.DynamicPred("disabled",er,p.Const("")),(ey=cN.DynamicPred("disabled",er,p.Const("")),(ez=Y.EmbedView(p.Map(function(eG){return bt.crearOptions(ba.map(a.String,eG));},bt.mesesV().get_View())),(eA=Y.EmbedView(p.Map(function(eG){return bt.crearOptions(ba.map(a.String,eG));},bt.aniosV().get_View())),(eB=Y.EmbedView(p.Map(bt.crearOptions,bt.tiposTar().get_View())),S.Make().WithHole({$:0,$0:"tipostarjeta",$1:eB})).WithHole({$:2,$0:"mensaje",$1:p.Map(function(eG){return bt.snd3(eG[0],eG[1],eG[2]);},eq.get_View())}).WithHole({$:0,$0:"anios",$1:eA})).WithHole({$:0,$0:"meses",$1:ez})).WithHole({$:3,$0:"disabled1",$1:ey})).WithHole({$:3,$0:"disabled2",$1:ex})).WithHole({$:3,$0:"disabled3",$1:ew})).WithHole({$:3,$0:"disabled4",$1:ev})).WithHole({$:3,$0:"disabled5",$1:eu})).WithHole({$:2,$0:"visible",$1:p.Map(function(eG){return eG?"display:None":"";},er)}),(eC=T.CompleteHoles(et.k,et.h,[["tipotarjeta",0],["titular",0],["numero",0],["aniovenc",0],["mesvenc",0]]),(eD=new Q.New(eC[1],U.tarjetacredito(eC[0])),(et.i=eD,eD))));p.Sink(function(eG){return eF(eG[0],eG[1],eG[2]);},eq.get_View());eE=p.Apply(p.Apply(p.Apply(p.Map2(function(eG,eH){return ei.Curried3(function(eI,eJ,eK){return ba.map(function(eL){return eL[1];},ba.filter(function(eL){return eL[0];},bx.ofArray([[bh.Trim(eG)==="","Titular"],[bh.Trim(eH)==="","TipoTarjeta"],[bh.Trim(eI)==="","Numero"],[bh.Trim(eJ)==="","Ano de Vencimiento"],[bh.Trim(eK)==="","Mes de Vencimiento"]])));});},es.Hole("titular").get_View(),es.Hole("tipotarjeta").get_View()),es.Hole("numero").get_View()),es.Hole("aniovenc").get_View()),es.Hole("mesvenc").get_View());p.Sink(function(eG){var eH,eI;if(eG!=null&&eG.$==1){eH=eG.$0;!H.Equals((eI=eq.Get(),bt.fst3(eI[0],eI[1],eI[2])),eH)?eq.Set([eH,"",false]):void 0;}},p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(eG,eH){return ei.Curried(function(eI,eJ,eK,eL){return!ba.isEmpty(eG)?null:bt.alertIfNone("Tipo Tarjeta",cg.tryParse(bh.Trim(eH)),function(eM){var eN,eO,eP;return{$:1,$0:cd.New(bh.Trim(eI),eM,new cf({$:0,$0:bh.Trim(eJ)}),ce.New((eN=(eO=bh.Trim(eK),(b4.parseIntO$1())(eO)),eN==null?0:eN.$0),(eP=bh.Trim(eL),eP==="Febrero"?2:eP==="Marzo"?3:eP==="Abril"?4:eP==="Mayo"?5:eP==="Junio"?6:eP==="Julio"?7:eP==="Agosto"?8:eP==="Septiembre"?9:eP==="Octubre"?10:eP==="Noviembre"?11:eP==="Diciembre"?12:1)))};});},4);},eE,es.Hole("tipotarjeta").get_View()),es.Hole("titular").get_View()),es.Hole("numero").get_View()),es.Hole("aniovenc").get_View()),es.Hole("mesvenc").get_View()));return[eE,es.get_Doc()];};cJ=h.FromView=ei.Class({get_View:function(){return this.view;},Set:function(eq){this.set(eq);},Get:function(){return this.current;},Update:function(eq){var er;p.Get((er=this.set,function(es){return er(eq(es));}),this.view);},UpdateMaybe:function(eq){var er;er=this;p.Get(function(es){var et;et=eq(es);et!=null&&et.$==1?er.set(et.$0):void 0;},this.view);}},q,cJ);cJ.New=ei.Ctor(function(eq,er){var es,et;es=this;q.New.call(this);this.set=er;this.id=bW.Int();this.current=(et=p.TryGet(eq),et==null?null:et.$0);this.view=p.Map(function(eu){es.current=eu;return eu;},eq);},cJ);cK.ofSeqNonCopying=function(eq){var er,es;if(eq instanceof a.Array)return eq;else if(eq instanceof cA)return R.ofList(eq);else if(eq===null)return[];else{er=[];es=cx.Get(eq);try{while(es.MoveNext())er.push(es.Current());return er;}finally{if(typeof es=="object"&&"Dispose"in es)es.Dispose();}}};cK.TreeReduce=function(eq,er,es){var et;function eu(ev,ew){var ex,ey;return ew<=0?eq:ew===1&&(ev>=0&&ev<et)?R.get(es,ev):(ey=ew/2>>0,er(eu(ev,ey),eu(ev+ey,ew-ey)));}et=R.length(es);return eu(0,et);};cK.MapTreeReduce=function(eq,er,es,et){var eu;function ev(ew,ex){var ey,ez;return ex<=0?er:ex===1&&(ew>=0&&ew<eu)?eq(R.get(et,ew)):(ez=ex/2>>0,es(ev(ew,ez),ev(ew+ez,ex-ez)));}eu=R.length(et);return ev(0,eu);};cK.mapInPlace=function(eq,er){var es,et;for(es=0,et=er.length-1;es<=et;es++)er[es]=eq(er[es]);return er;};cL.Delay=function(eq){return function(er){try{(eq(null))(er);}catch(es){er.k({$:1,$0:es});}};};cL.Bind=function(eq,er){return cL.checkCancel(function(es){eq(dc.New(function(et){var eu;if(et.$==0){eu=et.$0;cL.scheduler().Fork(function(){try{(er(eu))(es);}catch(ev){es.k({$:1,$0:ev});}});}else cL.scheduler().Fork(function(){es.k(et);});},es.ct));});};cL.Zero=function(){dd.$cctor();return dd.Zero;};cL.Start=function(eq,er){var es,et;es=(et=(cL.defCTS())[0],er==null?et:er.$0);cL.scheduler().Fork(function(){if(!es.c)eq(dc.New(function(eu){if(eu.$==1)cL.UncaughtAsyncError(eu.$0);},es));});};cL.Return=function(eq){return function(er){er.k({$:0,$0:eq});};};cL.While=function(eq,er){return eq()?cL.Bind(er,function(){return cL.While(eq,er);}):cL.Return();};cL.Sleep=function(eq){return function(er){var es,et;es=void 0;et=void 0;es=a.setTimeout(function(){et.Dispose();cL.scheduler().Fork(function(){er.k({$:0,$0:null});});},eq);et=cL.Register(er.ct,function(){a.clearTimeout(es);cL.scheduler().Fork(function(){cL.cancel(er);});});};};cL.checkCancel=function(eq){return function(er){if(er.ct.c)cL.cancel(er);else eq(er);};};cL.FromContinuations=function(eq){return function(er){var es;function et(eu){if(es[0])o.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{es[0]=true;cL.scheduler().Fork(eu);}}es=[false];eq(function(eu){et(function(){er.k({$:0,$0:eu});});},function(eu){et(function(){er.k({$:1,$0:eu});});},function(eu){et(function(){er.k({$:2,$0:eu});});});};};cL.defCTS=function(){dd.$cctor();return dd.defCTS;};cL.UncaughtAsyncError=function(eq){el.log("WebSharper: Uncaught asynchronous exception",eq);};cL.Combine=function(eq,er){return cL.Bind(eq,function(){return er;});};cL.Register=function(eq,er){var es;return eq===cL.noneCT()?{Dispose:function(){return null;}}:(es=eq.r.push(er)-1,{Dispose:function(){return R.set(eq.r,es,a.ignore);}});};cL.cancel=function(eq){eq.k({$:2,$0:new dS.New(eq.ct)});};cL.Using=function(eq,er){return cL.TryFinally(er(eq),function(){eq.Dispose();});};cL.scheduler=function(){dd.$cctor();return dd.scheduler;};cL.TryWith=function(eq,er){return function(es){eq(dc.New(function(et){if(et.$==0)es.k({$:0,$0:et.$0});else if(et.$==1)try{(er(et.$0))(es);}catch(eu){es.k(et);}else es.k(et);},es.ct));};};cL.noneCT=function(){dd.$cctor();return dd.noneCT;};cL.TryFinally=function(eq,er){return function(es){eq(dc.New(function(et){try{er();es.k(et);}catch(eu){es.k({$:1,$0:eu});}},es.ct));};};cL.StartWithContinuations=function(eq,er,es,et,eu){var ev,ew;ev=(ew=(cL.defCTS())[0],eu==null?ew:eu.$0);!ev.c?eq(dc.New(function(ex){if(ex.$==1)es(ex.$0);else if(ex.$==2)et(ex.$0);else er(ex.$0);},ev)):void 0;};cL.GetCT=function(){dd.$cctor();return dd.GetCT;};b2.splitByChar=function(eq,er){return bh.SplitChars(er,[eq],0);};b2.unindent=function(eq){var er,es,et,eu;er=bh.SplitChars(eq,["\n"],0);es=(et=ba.tryFindIndex(function(ev){return" "!==ev;},(eu=ba.tryFind(function(ev){return bh.Trim(ev)!=="";},er),eu==null?"":eu.$0)),et==null?0:et.$0);return ba.filter(function(ev){return!bh.StartsWith(ev,"# 1 ");},ba.map(function(ev){return ev.length<=es?"":ev.substring(es);},er));};b2.delimitedO=function(eq,er,es){var et,eu,ev,ew,ex;et=b2.splitInTwoO(eq,es);return et==null?null:(eu=et.$0,(ev=eu[0],(ew=b2.splitInTwoO(er,eu[1]),ew==null?null:{$:1,$0:(ex=ew.$0,[ev,ex[0],ex[1]])})));};b2.unindentStr=function(){bK.$cctor();return bK.unindentStr;};b2.StartsWith=function(eq,er){return bh.StartsWith(er,eq)?{$:1,$0:b3.string(er,{$:1,$0:eq.length},null)}:null;};b2.splitInTwoO=function(eq,er){var es;es=er.indexOf(eq);return es===-1?null:{$:1,$0:[bb["String.Left"](er,es),er.substring(es+eq.length)]};};cN.Style=function(eq,er){return dg.Static(function(es){dh.SetStyle(es,eq,er);});};cN.Dynamic=function(eq,er){return dg.Dynamic(er,function(es){return function(et){return dh.SetAttr(es,eq,et);};});};cN.Handler=function(eq,er){return dg.Static(function(es){es.addEventListener(eq,function(et){return(er(es))(et);},false);});};cN.DynamicStyle=function(eq,er){return dg.Dynamic(er,function(es){return function(et){return dh.SetStyle(es,eq,et);};});};cN.Value=function(eq){function er(es){return{$:1,$0:es};}return cN.CustomValue(eq,a.id,function(es){return er(a.id(es));});};cN.DynamicPred=function(eq,er,es){function et(eu,ev){return ev[0]?dh.SetAttr(eu,eq,ev[1]):dh.RemoveAttr(eu,eq);}return dg.Dynamic(p.Map2(function(eu,ev){return[eu,ev];},er,es),function(eu){return function(ev){return et(eu,ev);};});};cN.CustomValue=function(eq,er,es){return cN.CustomVar(eq,function(et,eu){et.value=er(eu);},function(et){return es(et.value);});};cN.OnAfterRender=function(eq){return new cV({$:4,$0:eq});};cN.Checked=function(eq){function er(es,et){return!H.Equals(eq.Get(),es.checked)?eq.Set(es.checked):null;}return cV.Concat([cN.DynamicProp("checked",eq.get_View()),cN.Handler("change",function(es){return function(et){return er(es,et);};})]);};cN.IntValue=function(eq){return cN.CustomVar(eq,function(er,es){var et;et=es.get_Input();return er.value!==et?void(er.value=et):null;},function(er){var es,et,eu;es=er.value;return{$:1,$0:d_.isBlank(es)?(er.checkValidity?er.checkValidity():true)?new cW({$:2,$0:es}):new cW({$:1,$0:es}):(et=(eu=0,[bP.TryParseInt32(es,{get:function(){return eu;},set:function(ev){eu=ev;}}),eu]),et[0]?new cW({$:0,$0:et[1],$1:es}):new cW({$:1,$0:es}))};});};cN.IntValueUnchecked=function(eq){return cN.CustomValue(eq,a.String,function(er){var es;return d_.isBlank(er)?{$:1,$0:0}:(es=+er,es!==es>>0?null:{$:1,$0:es});});};cN.FloatValue=function(eq){return cN.CustomVar(eq,function(er,es){var et;et=es.get_Input();return er.value!==et?void(er.value=et):null;},function(er){var es,et;es=er.value;return{$:1,$0:d_.isBlank(es)?(er.checkValidity?er.checkValidity():true)?new cW({$:2,$0:es}):new cW({$:1,$0:es}):(et=+es,a.isNaN(et)?new cW({$:1,$0:es}):new cW({$:0,$0:et,$1:es}))};});};cN.FloatValueUnchecked=function(eq){return cN.CustomValue(eq,a.String,function(er){var es;return d_.isBlank(er)?{$:1,$0:0}:(es=+er,a.isNaN(es)?null:{$:1,$0:es});});};cN.CustomVar=function(eq,er,es){function et(ev,ew){return eq.UpdateMaybe(function(ex){var ey,ez;ey=es(ev);return ey!=null&&ey.$==1&&(!H.Equals(ey.$0,ex)&&(ez=[ey,ey.$0],true))?ez[0]:null;});}function eu(ev,ew){var ex,ey;ex=es(ev);return ex!=null&&ex.$==1&&(H.Equals(ex.$0,ew)&&(ey=ex.$0,true))?null:er(ev,ew);}return cV.Concat([cN.Handler("change",function(ev){return function(ew){return et(ev,ew);};}),cN.Handler("input",function(ev){return function(ew){return et(ev,ew);};}),cN.Handler("keypress",function(ev){return function(ew){return et(ev,ew);};}),cN.DynamicCustom(function(ev){return function(ew){return eu(ev,ew);};},eq.get_View())]);};cN.DynamicProp=function(eq,er){return dg.Dynamic(er,function(es){return function(et){es[eq]=et;};});};cN.DynamicCustom=function(eq,er){return dg.Dynamic(er,eq);};X.p$1=function(eq){return"{"+("actName = "+bv.prettyPrint(eq.actName))+"; "+("actFunction = "+cP.p$1(eq.actFunction))+"; "+("actEnabled = "+cP.p$2(eq.actEnabled))+"}";};cO.appfwkclient=function(eq){cO.fixedsplitterhor();cO.fixedsplitterver();cY.LoadLocalTemplates("appframework");return eq?cY.NamedTemplate("appframework",{$:1,$0:"appfwkclient"},eq):void 0;};X.p=function(eq){return"{"+("docName = "+bv.prettyPrint(eq.docName))+"; "+("docDoc = "+cP.p(eq.docDoc))+"}";};cP.p$1=function(eq){return eq.$==2?"FunAct2 (<fun>, "+bv.prettyPrint(eq.$1)+", "+bv.prettyPrint(eq.$2)+")":eq.$==1?"FunAct1 (<fun>, "+bv.prettyPrint(eq.$1)+")":"FunAct0 <fun>";};cP.p$2=function(eq){return"View <fun>";};cO.tile=function(eq){cY.LoadLocalTemplates("appframework");return eq?cY.NamedTemplate("appframework",{$:1,$0:"tile"},eq):void 0;};cO.namevalueinput=function(eq){cY.LoadLocalTemplates("appframework");return eq?cY.NamedTemplate("appframework",{$:1,$0:"namevalueinput"},eq):void 0;};cO.namevalue=function(eq){cY.LoadLocalTemplates("appframework");return eq?cY.NamedTemplate("appframework",{$:1,$0:"namevalue"},eq):void 0;};cO.action=function(eq){cY.LoadLocalTemplates("appframework");return eq?cY.NamedTemplate("appframework",{$:1,$0:"action"},eq):void 0;};cO.actiondisabled=function(eq){cY.LoadLocalTemplates("appframework");return eq?cY.NamedTemplate("appframework",{$:1,$0:"actiondisabled"},eq):void 0;};cO.fixedsplitterhor=function(eq){cY.LoadLocalTemplates("appframework");return eq?cY.NamedTemplate("appframework",{$:1,$0:"fixedsplitterhor"},eq):void 0;};cO.fixedsplitterver=function(eq){cY.LoadLocalTemplates("appframework");return eq?cY.NamedTemplate("appframework",{$:1,$0:"fixedsplitterver"},eq):void 0;};cO.wcompsplitterhor=function(eq){cY.LoadLocalTemplates("appframework");return eq?cY.NamedTemplate("appframework",{$:1,$0:"wcompsplitterhor"},eq):void 0;};cO.wcompsplitterver=function(eq){cY.LoadLocalTemplates("appframework");return eq?cY.NamedTemplate("appframework",{$:1,$0:"wcompsplitterver"},eq):void 0;};cO.appframework=function(eq){cY.LoadLocalTemplates("appframework");return eq?cY.NamedTemplate("appframework",{$:1,$0:"appframework"},eq):void 0;};cP.p=function(eq){return eq.$==5?"FunDoc5 (<fun>, "+bv.prettyPrint(eq.$1)+", "+bv.prettyPrint(eq.$2)+", "+bv.prettyPrint(eq.$3)+", "+bv.prettyPrint(eq.$4)+", "+bv.prettyPrint(eq.$5)+")":eq.$==4?"FunDoc4 (<fun>, "+bv.prettyPrint(eq.$1)+", "+bv.prettyPrint(eq.$2)+", "+bv.prettyPrint(eq.$3)+", "+bv.prettyPrint(eq.$4)+")":eq.$==3?"FunDoc3 (<fun>, "+bv.prettyPrint(eq.$1)+", "+bv.prettyPrint(eq.$2)+", "+bv.prettyPrint(eq.$3)+")":eq.$==2?"FunDoc2 (<fun>, "+bv.prettyPrint(eq.$1)+", "+bv.prettyPrint(eq.$2)+")":eq.$==1?"FunDoc1 (<fun>, "+bv.prettyPrint(eq.$1)+")":"LazyDoc "+bv.prettyPrint(eq.$0);};b4.tryParseWith=function(eq){function er(es,et){return es?{$:1,$0:et}:null;}return function(es){return er.apply(null,eq(es));};};b4.parseDateO=function(){bK.$cctor();return bK.parseDateO;};b4.parseIntO=function(){bK.$cctor();return bK.parseIntO;};b4.parseInt64O=function(){bK.$cctor();return bK.parseInt64O;};b4.parseSingleO=function(){bK.$cctor();return bK.parseSingleO;};b4.parseDoubleO=function(){bK.$cctor();return bK.parseDoubleO;};b4.parseGuidO=function(){bK.$cctor();return bK.parseGuidO;};b4.Double=function(){bK.$cctor();return bK["|Double|_|"];};b4.Int=function(){bK.$cctor();return bK["|Int|_|"];};cS=cR.WcTabStripT=ei.Class({connectedCallback:function(){var eq,er,es,et;function eu(){var ev,ew,ex;ew=!er.hasAttribute("bottom");ex=bx.ofSeq(ba.delay(function(){return ba.collect(function(ey){var ez;ez=er.childNodes[ey-1];return H.Equals(ez.nodeType,E.ELEMENT_NODE)?[[ez.hasAttribute("tabname")?ez.getAttribute("tabname"):(function(eA){return function(eB){return eA("Tab "+a.String(eB));};}(a.id))(ey),ez]]:[];},o.range(1,er.childNodes.length));}));while(et.childNodes.length>0)et.removeChild(et.lastChild);ev=cR.tabStrip(eq.selected,ew,true,ex,Y.Element("slot",cA.Empty,cA.Empty));cY.LoadLocalTemplates("");Y.Run(et,ev);}eq=this;!this.added?(er=this,es=er.attachShadow({mode:"open"}),et=self.document.createElement("div"),es.appendChild(et),eu(),er.addEventListener("DOMSubtreeModified",bb.delayed(50,eu)),this.added=true):void 0;}},g,cS);cS.Constructor=function(){var eq,er;eq=(er=eo.construct(self.HTMLElement,[],this.__proto__.constructor),er);self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New.call(eq);return eq;};cS.New=ei.Ctor(function(){g.New.call(this);this.added=false;this.selected=i.Create$1(1);(function(eq){return eq("WcTabStripT initializer");}(function(eq){el.log(eq);}));},cS);cQ.defineWebComponent=function(eq,er,es){try{el.log("defineWebComponent: "+eq);cI.setPrototypeOf(es.prototype,self.HTMLElement.prototype);cI.setPrototypeOf(es,self.HTMLElement);cI.setPrototypeOf(er.prototype,es.prototype);self.customElements.define(eq,er);}catch(et){(function(eu){return eu("Failed to define WebComponent. Not supported.");}(function(eu){el.log(eu);}));}};cT.init=function(eq,er){var es;es=new di.New();cT.set_layoutHorizontal(eq);cT.set_layoutVertical(er);cQ.defineWebComponent("wcomp-splitter",di.Constructor,self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New);};cT.set_layoutHorizontal=function(eq){bK.$cctor();bK.layoutHorizontal=eq;};cT.set_layoutVertical=function(eq){bK.$cctor();bK.layoutVertical=eq;};cT.layoutVertical=function(){bK.$cctor();return bK.layoutVertical;};cT.layoutHorizontal=function(){bK.$cctor();return bK.layoutHorizontal;};cR.init=function(){bK.$cctor();return bK.init;};cR.tabStrip=function(eq,er,es,et,eu){var ev;ev=Y.Element("div",[cV.Create("class",(((ei.Curried3(function(ew,ex,ey){return ew("tab-strip "+bv.toSafe(ex)+" "+bv.toSafe(ey));}))(a.id))(er?"top":"bottom"))(es?"horizontal":"vertical"))],bx.ofSeq(ba.delay(function(){return ba.collect(function(ew){var ex;ex=ew[0];return[dz.New$1().Content(Y.Element("div",[cN.Dynamic("class",p.Map(function(ey){return"tab"+(ey===ex+1?" selected":"");},eq.get_View())),cV.Create("draggable","true"),cV.HandlerImpl("click",function(){return function(){return eq.Set(ex+1);};})],[Y.TextNode(ew[1][0])]))];},ba.indexed(et));})));return Y.Element("div",[cV.Create("class","tab-panel")],bx.ofSeq(ba.delay(function(){return ba.append(er?[ev]:[],ba.delay(function(){return ba.append([Y.Element("div",[cV.Create("class","tab-content")],[eu])],ba.delay(function(){return ba.append(!er?[ev]:[],ba.delay(function(){return ba.append([Y.Element("style",cA.Empty,bx.ofArray([Y.TextNode(cR.css())]))],ba.delay(function(){return[Y.Element("style",cA.Empty,bx.ofArray([Y.TextView(p.Map(function(ew){return function(ex){return ew("\r\n                                              ::slotted(*              ) { display: none }\r\n                                              ::slotted(*:nth-child("+a.String(ex)+")) { display: grid }\r\n                                           ");};}(a.id),eq.get_View()))]))];}));}));}));}));})));};cR.css=function(){bK.$cctor();return bK.css;};cU.notPresent=function(){return o.FailWith("The given key was not present in the dictionary.");};cU.alreadyAdded=function(){return o.FailWith("An item with the same key has already been added.");};cV=h.AttrProxy=ei.Class({},null,cV);cV.Create=function(eq,er){return dg.Static(function(es){dh.SetAttr(es,eq,er);});};cV.HandlerImpl=function(eq,er){return dg.Static(function(es){es.addEventListener(eq,function(et){return(er(es))(et);},false);});};cV.Concat=function(eq){var er;er=cK.ofSeqNonCopying(eq);return cK.TreeReduce(dg.EmptyAttr(),cV.Append,er);};cV.Append=function(eq,er){return dg.AppendTree(eq,er);};cV.Handler=function(eq,er){return cV.HandlerImpl(eq,er);};cW=h.CheckedInput=ei.Class({get_Input:function(){return this.$==1?this.$0:this.$==2?this.$0:this.$1;}},null,cW);cY.LoadLocalTemplates=function(eq){!cY.LocalTemplatesLoaded()?(cY.set_LocalTemplatesLoaded(true),cY.LoadNestedTemplates(self.document.body,"")):void 0;cY.LoadedTemplates().set_Item(eq,cY.LoadedTemplateFile(""));};cY.NamedTemplate=function(eq,er,es){var et,eu;et=(eu=null,[cY.LoadedTemplateFile(eq).TryGetValue(er==null?"":er.$0,{get:function(){return eu;},set:function(ev){eu=ev;}}),eu]);return et[0]?cY.ChildrenTemplate(et[1].cloneNode(true),es):(el.warn("Local template doesn't exist",er),Y.get_Empty());};cY.RunFullDocTemplate=function(eq){var er,es;cY.LoadLocalTemplates("");cY.PrepareTemplateStrict("",null,dh.ChildrenArray(self.document.body),{$:1,$0:self.document.body},null);er=cY.ChildrenTemplate(self.document.body,eq);es=self.document.body;(function(et){Y.RunInPlace(true,es,et);}(er));return er;};cY.LocalTemplatesLoaded=function(){dE.$cctor();return dE.LocalTemplatesLoaded;};cY.set_LocalTemplatesLoaded=function(eq){dE.$cctor();dE.LocalTemplatesLoaded=eq;};cY.LoadNestedTemplates=function(eq,er){var et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG;function es(eH){var eI,eJ;if(!et.ContainsKey(eH)){eI=(eJ=null,[eu.TryGetValue(eH,{get:function(){return eJ;},set:function(eK){eJ=eK;}}),eJ]);eI[0]?(eG.Add(eH),eu.Remove(eH),cY.PrepareTemplateStrict(er,{$:1,$0:eH},eI[1][0],{$:1,$0:eI[1][1]},{$:1,$0:es})):el.warn(eG.Contains(eH)?"Encountered loop when instantiating "+eH:"Local template does not exist: "+eH);}}et=cY.LoadedTemplateFile(er);eu=new bR.New$5();ev=eq.querySelectorAll("[ws-template]");for(ew=0,ex=ev.length-1;ew<=ex;ew++){ey=ev[ew];ez=ey.getAttribute("ws-template").toLowerCase();ey.removeAttribute("ws-template");eu.set_Item(ez,[[ey],cY.FakeRootSingle(ey)]);}eA=eq.querySelectorAll("[ws-children-template]");for(eB=0,eC=eA.length-1;eB<=eC;eB++){eD=eA[eB];eE=eD.getAttribute("ws-children-template").toLowerCase();eD.removeAttribute("ws-children-template");eu.set_Item(eE,(eF=dh.ChildrenArray(eD),[eF,cY.FakeRoot(eF)]));}eG=new bS.New$3();while(eu.count>0)es(ba.head(eu.get_Keys()));};cY.LoadedTemplates=function(){dE.$cctor();return dE.LoadedTemplates;};cY.LoadedTemplateFile=function(eq){var er,es,et;er=(es=null,[cY.LoadedTemplates().TryGetValue(eq,{get:function(){return es;},set:function(eu){es=eu;}}),es]);return er[0]?er[1]:(et=new bR.New$5(),(cY.LoadedTemplates().set_Item(eq,et),et));};cY.ChildrenTemplate=function(eq,er){var es,et,eu,ev,ew;es=cY.InlineTemplate(eq,er);et=es[1];eu=es[0];ev=eu.Els;return!H.Equals(ev,null)&&ev.length===1&&(R.get(ev,0)instanceof E&&(H.Equals(R.get(ev,0).nodeType,E.ELEMENT_NODE)&&(ew=R.get(ev,0),true)))?dF.TreeNode(eu,et):Y.Mk({$:6,$0:eu},et);};cY.PrepareTemplateStrict=function(eq,er,es,et,eu){var ev,ew;function ex(eC,eD){var eE,eF,eG,eH,eI,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4;function eJ(e5){}while(true)switch(eC){case 0:if(eD!==null){eE=eD.nextSibling;if(H.Equals(eD.nodeType,E.TEXT_NODE))dI.convertTextNode(eD);else if(H.Equals(eD.nodeType,E.ELEMENT_NODE))ez(eD);eD=eE;}else return null;break;case 1:eK=b3.string(eD.nodeName,{$:1,$0:3},null).toLowerCase();eL=(eF=eK.indexOf("."),eF===-1?[eq,eK]:[b3.string(eK,null,{$:1,$0:eF-1}),b3.string(eK,{$:1,$0:eF+1},null)]);eM=eL[1];eN=eL[0];if(eN!==""&&!cY.LoadedTemplates().ContainsKey(eN))return dI.failNotLoaded(eM);else{if(eN===""&&eu!=null)eu.$0(eM);eO=cY.LoadedTemplates().get_Item(eN);if(!eO.ContainsKey(eM))return dI.failNotLoaded(eM);else{eP=eO.get_Item(eM);eQ=eP.cloneNode(true);eR=new bS.New$3();eS=new bR.New$5();eT=eD.attributes;for(eU=0,eV=eT.length-1;eU<=eV;eU++){eW=eT.item(eU).name.toLowerCase();eS.set_Item(eW,(eX=eT.item(eU).nodeValue,eX===""?eW:eX.toLowerCase()));!eR.Add(eW)?el.warn("Hole mapped twice",eW):void 0;}for(eY=0,eZ=eD.childNodes.length-1;eY<=eZ;eY++){e0=eD.childNodes[eY];H.Equals(e0.nodeType,E.ELEMENT_NODE)?!eR.Add(e0.nodeName.toLowerCase())?el.warn("Hole filled twice",eM):void 0:void 0;}e1=eD.childNodes.length===1&&H.Equals(eD.firstChild.nodeType,E.TEXT_NODE);if(e1){eH=dI.fillTextHole(eQ,eD.firstChild.textContent,eM);((function(e5){return function(e6){if(e6!=null)e5(e6.$0);};}((eI=function(e5){return function(e6){return e5.Add(e6);};}(eR),function(e5){return eJ(eI(e5));})))(eH));}dI.removeHolesExcept(eQ,eR);if(!e1){for(e2=0,e3=eD.childNodes.length-1;e2<=e3;e2++){e4=eD.childNodes[e2];H.Equals(e4.nodeType,E.ELEMENT_NODE)?e4.hasAttributes()?dI.fillInstanceAttrs(eQ,e4):ey(eQ,e4):void 0;}}dI.mapHoles(eQ,eS);dI.fill(eQ,eD.parentNode,eD);eD.parentNode.removeChild(eD);return;}}break;}}function ey(eC,eD){var eE,eG,eH;function eF(eI,eJ){var eK,eL,eM;if(eG==="title"&&eD.hasChildNodes()){eK=ek.parseHTML(eD.textContent);eD.removeChild(eD.firstChild);for(eL=0,eM=eK.length-1;eL<=eM;eL++)eD.appendChild(R.get(eK,eL));}else null;ez(eD);return dI.fill(eD,eI,eJ);}eG=eD.nodeName.toLowerCase();dh.IterSelector(eC,"[ws-attr-holes]",function(eI){var eJ,eK,eL,eM,eN;eJ=bh.SplitChars(eI.getAttribute("ws-attr-holes"),[" "],1);for(eK=0,eL=eJ.length-1;eK<=eL;eK++){eM=R.get(eJ,eK);eI.setAttribute(eM,(eN=new a.RegExp("\\${"+eG+"}","ig"),eI.getAttribute(eM).replace(eN,eD.textContent)));}});eH=eC.querySelector("[ws-hole="+eG+"]");if(H.Equals(eH,null)){eE=eC.querySelector("[ws-replace="+eG+"]");return H.Equals(eE,null)?null:(eF(eE.parentNode,eE),void eE.parentNode.removeChild(eE));}else{while(eH.hasChildNodes())eH.removeChild(eH.lastChild);eH.removeAttribute("ws-hole");return eF(eH,null);}}function ez(eC){if(bh.StartsWith(eC.nodeName.toLowerCase(),"ws-"))eB(eC);else{dI.convertAttrs(eC);eA(eC.firstChild);}}function eA(eC){return ex(0,eC);}function eB(eC){return ex(1,eC);}ev=et==null?cY.FakeRoot(es):et.$0;ew=(er==null?"":er.$0).toLowerCase();cY.LoadedTemplateFile(eq).set_Item(ew,ev);R.length(es)>0?(function(eC){var eD,eE,eF,eG;while(true){eD=eC.querySelector("[ws-template]");if(H.Equals(eD,null)){eE=eC.querySelector("[ws-children-template]");if(H.Equals(eE,null))return null;else{eF=eE.getAttribute("ws-children-template");eE.removeAttribute("ws-children-template");cY.PrepareTemplateStrict(eq,{$:1,$0:eF},dh.ChildrenArray(eE),null,null);eC=eC;}}else{eG=eD.getAttribute("ws-template");(cY.PrepareSingleTemplate(eq,{$:1,$0:eG},eD))(null);eC=eC;}}}(ev),eA(R.get(es,0))):void 0;};cY.FakeRootSingle=function(eq){var er,es,et;eq.removeAttribute("ws-template");er=eq.getAttribute("ws-replace");er===null?void 0:(eq.removeAttribute("ws-replace"),es=eq.parentNode,H.Equals(es,null)?void 0:(et=self.document.createElement(eq.tagName),et.setAttribute("ws-replace",er),es.replaceChild(et,eq)));return cY.FakeRoot([eq]);};cY.FakeRoot=function(eq){var er,es,et;er=self.document.createElement("div");for(es=0,et=eq.length-1;es<=et;es++)er.appendChild(R.get(eq,es));return er;};cY.InlineTemplate=function(eq,er){var es,et,eu,ev,ey,ez,eA,eB,eC,eD,eE;function ew(eF,eG){var eH,eI,eJ;eH=dg.Insert(eF,eG);ez.push(dg.Updates(eH));eA.push([eF,eH]);eI=ei.GetOptional(eH.OnAfterRender);return eI==null?null:(eJ=eI.$0,void eB.push(function(){eJ(eF);}));}function ex(eF){var eG,eH;eG=(eH=null,[eC.TryGetValue(eF,{get:function(){return eH;},set:function(eI){eH=eI;}}),eH]);return eG[0]?eG[1].$==0?{$:1,$0:eG[1].$1}:eG[1].$==1?{$:1,$0:Y.TextNode(eG[1].$1)}:eG[1].$==2?{$:1,$0:Y.TextView(eG[1].$1)}:eG[1].$==8?{$:1,$0:Y.TextView(eG[1].$1.get_View())}:eG[1].$==9?{$:1,$0:Y.TextView(p.Map(a.String,eG[1].$1.get_View()))}:eG[1].$==10?{$:1,$0:Y.TextView(p.Map(function(eI){return eI.get_Input();},eG[1].$1.get_View()))}:eG[1].$==11?{$:1,$0:Y.TextView(p.Map(a.String,eG[1].$1.get_View()))}:eG[1].$==12?{$:1,$0:Y.TextView(p.Map(function(eI){return eI.get_Input();},eG[1].$1.get_View()))}:eG[1].$==13?{$:1,$0:Y.TextView(p.Map(a.String,eG[1].$1.get_View()))}:(el.warn("Content hole filled with attribute data",eF),null):null;}ey=[];ez=[];eA=[];eB=[];eC=new bR.New$5();eD=cx.Get(er);try{while(eD.MoveNext()){eE=eD.Current();eC.set_Item(eE.$0,eE);}}finally{if(typeof eD=="object"&&"Dispose"in eD)eD.Dispose();}es=dh.ChildrenArray(eq);dh.IterSelector(eq,"[ws-hole]",function(eF){var eG,eH,eI;eI=eF.getAttribute("ws-hole");eF.removeAttribute("ws-hole");while(eF.hasChildNodes())eF.removeChild(eF.lastChild);eG=ex(eI);eG!=null&&eG.$==1?(eH=eG.$0,db.LinkElement(eF,eH.docNode),ey.push(dj.New(dg.Empty(eF),eH.docNode,null,eF,bW.Int(),null)),ez.push(eH.updates)):void 0;});dh.IterSelector(eq,"[ws-replace]",function(eF){var eG,eH,eI,eJ,eK,eL;eG=ex(eF.getAttribute("ws-replace"));eG!=null&&eG.$==1?(eH=eG.$0,eI=eF.parentNode,eJ=self.document.createTextNode(""),eI.replaceChild(eJ,eF),eK=db.InsertBeforeDelim(eJ,eH.docNode),eL=R.tryFindIndex(function(eM){return eF===eM;},es),eL==null?void 0:R.set(es,eL.$0,eH.docNode),ey.push(dj.New(dg.Empty(eI),eH.docNode,{$:1,$0:[eK,eJ]},eI,bW.Int(),null)),ez.push(eH.updates)):void 0;});dh.IterSelector(eq,"[ws-attr]",function(eF){var eG,eH,eI;eG=eF.getAttribute("ws-attr");eF.removeAttribute("ws-attr");eH=(eI=null,[eC.TryGetValue(eG,{get:function(){return eI;},set:function(eJ){eI=eJ;}}),eI]);eH[0]?eH[1].$==3?ew(eF,eH[1].$1):el.warn("Attribute hole filled with non-attribute data",eG):void 0;});dh.IterSelector(eq,"[ws-on]",function(eF){ew(eF,cV.Concat(R.choose(function(eG){var eH,eI,eJ;eH=bh.SplitChars(eG,[":"],1);eI=(eJ=null,[eC.TryGetValue(R.get(eH,1),{get:function(){return eJ;},set:function(eK){eJ=eK;}}),eJ]);return eI[0]?eI[1].$==4?{$:1,$0:cN.Handler(R.get(eH,0),eI[1].$1)}:eI[1].$==5?{$:1,$0:cV.Handler(R.get(eH,0),eI[1].$2)}:(el.warn("Event hole on"+R.get(eH,0)+" filled with non-event data",R.get(eH,1)),null):null;},bh.SplitChars(eF.getAttribute("ws-on"),[" "],1))));eF.removeAttribute("ws-on");});dh.IterSelector(eq,"[ws-onafterrender]",function(eF){var eG,eH,eI;eG=eF.getAttribute("ws-onafterrender");eH=(eI=null,[eC.TryGetValue(eG,{get:function(){return eI;},set:function(eJ){eI=eJ;}}),eI]);eH[0]?eH[1].$==6?(eF.removeAttribute("ws-onafterrender"),ew(eF,cN.OnAfterRender(eH[1].$1))):eH[1].$==7?(eF.removeAttribute("ws-onafterrender"),ew(eF,cN.OnAfterRender(eH[1].$1))):el.warn("onafterrender hole filled with non-onafterrender data",eG):void 0;});dh.IterSelector(eq,"[ws-var]",function(eF){var eG,eH,eI;eG=eF.getAttribute("ws-var");eF.removeAttribute("ws-var");eH=(eI=null,[eC.TryGetValue(eG,{get:function(){return eI;},set:function(eJ){eI=eJ;}}),eI]);eH[0]?eH[1].$==8?ew(eF,cN.Value(eH[1].$1)):eH[1].$==9?ew(eF,cN.Checked(eH[1].$1)):eH[1].$==10?ew(eF,cN.IntValue(eH[1].$1)):eH[1].$==11?ew(eF,cN.IntValueUnchecked(eH[1].$1)):eH[1].$==12?ew(eF,cN.FloatValue(eH[1].$1)):eH[1].$==13?ew(eF,cN.FloatValueUnchecked(eH[1].$1)):el.warn("Var hole filled with non-Var data",eG):void 0;});dh.IterSelector(eq,"[ws-attr-holes]",function(eF){var eG,eH,eI,eJ;eG=new a.RegExp(cY.TextHoleRE(),"g");eH=bh.SplitChars(eF.getAttribute("ws-attr-holes"),[" "],1);eF.removeAttribute("ws-attr-holes");for(eI=0,eJ=eH.length-1;eI<=eJ;eI++)(function(){var eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW;eT=R.get(eH,eI);eU=eF.getAttribute(eT);eK=null;eL=0;eV=[];while(eK=eG.exec(eU),eK!==null){eW=b3.string(eU,{$:1,$0:eL},{$:1,$0:eG.lastIndex-R.get(eK,0).length-1});eL=eG.lastIndex;eV.push([eW,R.get(eK,1)]);}eN=b3.string(eU,{$:1,$0:eL},null);eG.lastIndex=0;eO=R.foldBack(function(eX,eY){return(function(eZ){var e0,e1;e0=eZ[0];e1=eZ[1];return function(e2){var e3,e4,e5,e6,e7;e3=e2[0];e4=e2[1];e5=(e6=(e7=null,[eC.TryGetValue(e1,{get:function(){return e7;},set:function(e8){e7=e8;}}),e7]),e6[0]?e6[1].$==1?{$:0,$0:e6[1].$1}:e6[1].$==2?{$:1,$0:e6[1].$1}:e6[1].$==8?{$:1,$0:e6[1].$1.get_View()}:e6[1].$==9?{$:1,$0:p.Map(a.String,e6[1].$1.get_View())}:e6[1].$==10?{$:1,$0:p.Map(function(e8){return e8.get_Input();},e6[1].$1.get_View())}:e6[1].$==11?{$:1,$0:p.Map(a.String,e6[1].$1.get_View())}:e6[1].$==12?{$:1,$0:p.Map(function(e8){return e8.get_Input();},e6[1].$1.get_View())}:e6[1].$==13?{$:1,$0:p.Map(a.String,e6[1].$1.get_View())}:(el.warn("Attribute value hole filled with non-text data",e1),{$:0,$0:""}):{$:0,$0:""});return e5.$==1?[e0,new cA({$:1,$0:e3===""?e5.$0:p.Map(function(e8){return e8+e3;},e5.$0),$1:e4})]:[e0+e5.$0+e3,e4];};}(eX))(eY);},eV,[eN,cA.Empty]);return ew(eF,eO[1].$==1?eO[1].$1.$==1?eO[1].$1.$1.$==1?eO[1].$1.$1.$1.$==0?(eP=eO[0],cN.Dynamic(eT,p.Map3(function(eX,eY,eZ){return eP+eX+eY+eZ;},eO[1].$0,eO[1].$1.$0,eO[1].$1.$1.$0))):(eQ=eO[0],cN.Dynamic(eT,p.Map(function(eX){return eQ+bh.concat("",eX);},p.Sequence(eO[1])))):(eR=eO[0],cN.Dynamic(eT,p.Map2(function(eX,eY){return eR+eX+eY;},eO[1].$0,eO[1].$1.$0))):eO[0]===""?cN.Dynamic(eT,eO[1].$0):(eS=eO[0],cN.Dynamic(eT,p.Map(function(eX){return eS+eX;},eO[1].$0))):cV.Create(eT,eO[0]));}());});return[ei.DeleteEmptyFields({Els:es,Dirty:true,Holes:ey,Attrs:eA,Render:(et=eB.length==0?null:{$:1,$0:function(eF){R.iter(function(eG){eG(eF);},eB);}},et?et.$0:void 0),El:(eu=!H.Equals(es,null)&&es.length===1&&(R.get(es,0)instanceof E&&(R.get(es,0)instanceof a.Element&&(ev=R.get(es,0),true)))?{$:1,$0:ev}:null,eu?eu.$0:void 0)},["Render","El"]),cK.TreeReduce(p.Const(),p.Map2Unit,ez)];};cY.PrepareSingleTemplate=function(eq,er,es){var et,eu,ev;et=cY.FakeRootSingle(es);eu=[es];ev={$:1,$0:et};return function(ew){cY.PrepareTemplateStrict(eq,er,eu,ev,ew);};};cY.TextHoleRE=function(){dE.$cctor();return dE.TextHoleRE;};cZ.TryParse=function(eq){var er;er=em.parse(eq);return a.isNaN(er)?null:{$:1,$0:er};};bP.TryParse=function(eq,er,es,et){var eu,ev;eu=+eq;ev=eu===eu-eu%1&&eu>=er&&eu<=es;ev?et.set(eu):void 0;return ev;};bP.TryParseBool=function(eq,er){var es;es=eq.toLowerCase();return es==="true"?(er.set(true),true):es==="false"&&(er.set(false),true);};c0.$cctor=function(){c0.$cctor=a.ignore;c0.EndPoint="?";c0.AjaxProvider=new dm.New();};c1.newPojoOpt=function(eq){function er(es,et){return et==null?null:{$:1,$0:[es,et.$0]};}return c1.newPojo(ba.choose(function(es){return er(es[0],es[1]);},eq));};c1.newPojo=function(eq){var er,es;function et(ev,ew){return function(ex){return c1.addProp(ev,ew,ex);};}function eu(ev){}er={};ba.iter((es=function(ev){return(function(ew){return et(ew[0],ew[1]);}(ev))(er);},function(ev){return eu(es(ev));}),eq);return er;};c1.addProp=function(eq,er,es){es[eq]=er;return es;};b6.op_EqualsEqualsGreater=function(eq,er){return[eq,er==null?null:{$:1,$0:er.$0}];};b6.op_MinusMinusGreater=function(eq,er){return[eq,{$:1,$0:er}];};c3=f.TimeoutException=ei.Class({},c2,c3);c3.New=ei.Ctor(function(){c3.New$1.call(this,"The operation has timed out.");},c3);c3.New$1=ei.Ctor(function(eq){this.message=eq;cI.setPrototypeOf(this,c3.prototype);},c3);c4.AsAsync=function(eq){return cL.FromContinuations(function(er,es){eq.then(er,function(et){return es(c4.unwrapExn(et));});});};c4.unwrapExn=function(eq){return eq instanceof c2?eq:new dP.New(eq);};c6.JSUnion=function(eq,er){var es;function et(ex){var ey;function ez(eA){return eA!=null&&eA.$==1&&H.Equals(ex,eA.$0);}ey=ba.tryFindIndex(function(eA){return ez(eA[0]);},er);return ey!=null&&ey.$==1?ey.$0:ex.$;}function eu(ex,ey){return R.init(R.length((R.get(er,ex))[2]),function(ez){return ey["$"+a.String(ez)];});}function ev(ex,ey){var ez,eA,eB;ez=eq==null?{}:new eq();eA=R.get(er,ex);return(eB=eA[0],eB!=null&&eB.$==1)?eA[0].$0:(ez.$=ex,ba.iteri(function(eC,eD){ez["$"+a.String(eC)]=eD;},ey),ez);}function ew(ex,ey){var ez;function eA(eB,eC){return[ex,eB,eC,ez];}ez=ey[2];return ba.map(function(eB){return eA(eB[0],eB[1]);},ey[1]);}es=ba.collect(function(ex){return ew(ex[0],ex[1]);},ba.indexed(er));return dr.New$1(function(ex){function ey(ez,eA,eB,eC){var eD,eE,eF;function eG(eH,eI,eJ){var eK;function eL(eM,eN){return eG(eK,eM,new cA({$:1,$0:eN,$1:eJ}));}return eH.$==1?(eK=eH.$1,ba.collect(function(eM){return eL(eM[0],eM[1]);},eH.$0.Parse(eI))):[[eI,ev(ez,R.ofList(bx.rev(eJ)))]];}return c6.isCorrectMethod(eA,ex.Method)?(eD=ds.startsWith(bx.ofArray(eB),ex.Segments),eD==null?[]:(eE=eD.$0,(eF=bx.ofArray(eC),eF.$==0?[[c8.New(eE,ex.QueryArgs,ex.FormData,ex.Method,ex.Body),ev(ez,[])]]:eG(eF,c8.New(eE,ex.QueryArgs,ex.FormData,ex.Method,ex.Body),cA.Empty)))):[];}return ba.collect(function(ez){return ey(ez[0],ez[1],ez[2],ez[3]);},es);},function(ex){var ey,ez,eA,eB,eC,eD;function eE(eF,eG){return eG.Write(eF);}ey=et(ex);ez=R.get(er,ey);eA=ez[2];eB=R.get(ez[1],0);eC=[c8.Segment(bx.ofArray(eB[1]),eB[0])];return!H.Equals(eA,null)&&eA.length===0?{$:1,$0:eC}:(eD=(((ei.Curried3(R.map2))(eE))(eu(ey,ex)))(eA),R.forall(function(eF){return eF!=null;},eD)?{$:1,$0:ba.append(eC,ba.collect(function(eF){return eF.$0;},eD))}:null);});};c6.isCorrectMethod=function(eq,er){return er!=null&&er.$==1?eq!=null&&eq.$==1?H.Equals(er.$0,eq.$0):true:!(eq!=null&&eq.$==1);};c6.rString=function(){dQ.$cctor();return dQ.rString;};c6.rWildcard=function(){dQ.$cctor();return dQ.rWildcard;};c7.Parse=function(eq,er){function es(et,eu){return et.Segments.$==0?{$:1,$0:eu}:null;}return ba.tryPick(function(et){return es(et[0],et[1]);},eq.Parse(er));};c7.HashLink=function(eq,er){return"#"+c7.Link(eq,er);};c7.Link=function(eq,er){var es;es=c7.Write(eq,er);return es==null?"":es.$0.ToLink();};c7.Write=function(eq,er){var es;es=eq.Write(er);return es==null?null:{$:1,$0:c8.Combine(es.$0)};};c8=c5.Route=ei.Class({ToLink:function(){return ec.WriteLink(this.Segments,this.QueryArgs);}},null,c8);c8.FromHash=function(eq,er){var es,et;es=eq.indexOf("#");return es===-1?c8.get_Empty():(et=eq.substring(es+1),er!=null&&er.$0?et===""||et==="/"?c8.get_Empty():bh.StartsWith(et,"/")?c8.FromUrl(et.substring(1),{$:1,$0:true}):c8.Segment$2(et):c8.FromUrl(eq.substring(es),{$:1,$0:false}));};c8.Segment=function(eq,er){var es;es=c8.get_Empty();return c8.New(eq,es.QueryArgs,es.FormData,er,es.Body);};c8.get_Empty=function(){return c8.New(cA.Empty,new cw.New([]),new cw.New([]),null,r.CreateFromValue(null));};c8.FromUrl=function(eq,er){var es,et,eu;es=(et=eq.indexOf("?"),et===-1?[eq,new cw.New([])]:[bh.Substring(eq,0,et),c8.ParseQuery(eq.substring(et+1))]);eu=c8.get_Empty();return c8.New(bx.ofArray(bh.SplitChars(es[0],["/"],er!=null&&er.$0?0:1)),es[1],eu.FormData,eu.Method,eu.Body);};c8.Segment$2=function(eq){var er;er=c8.get_Empty();return c8.New(bx.ofArray([eq]),er.QueryArgs,er.FormData,er.Method,er.Body);};c8.ParseQuery=function(eq){return dR.OfArray(R.ofSeq(R.choose(function(er){var es,et;es=bh.SplitChars(er,["="],0);return!H.Equals(es,null)&&es.length===2?(et=R.get(es,1),{$:1,$0:[R.get(es,0),et]}):((function(eu){return function(ev){return eu("wrong format for query argument: "+bv.toSafe(ev));};}(function(eu){el.log(eu);}))(er),null);},bh.SplitChars(eq,["&"],0))));};c8.Combine=function(eq){var er,es,et,eu,ev,ew,ex,ey,ez,eA;ex=R.ofSeq(eq);ey=R.length(ex);if(ey===0)return c8.get_Empty();else if(ey===1)return R.get(ex,0);else{er=null;es=null;ez=[];et=new cw.New([]);eu=new cw.New([]);ev=0;eA=R.length(ex);while(ev<eA)(function(){var eB,eC,eD;eB=R.get(ex,ev);eC=eB.Method;eC!=null&&eC.$==1?er=eC:void 0;eD=eB.Body.f();eD===null?void 0:es=eD;et=dR.FoldBack(function(eE,eF,eG){return eG.Add(eE,eF);},et,eB.QueryArgs);eu=dR.FoldBack(function(eE,eF,eG){return eG.Add(eE,eF);},eu,eB.FormData);bx.iter(function(eE){ez.push(eE);},eB.Segments);ev=ev+1;}());return c8.New(bx.ofSeq(ez),et,eu,er,r.CreateFromValue(es));}};c8.New=function(eq,er,es,et,eu){return new c8({Segments:eq,QueryArgs:er,FormData:es,Method:et,Body:eu});};c9=cs.CustomXhrProvider=ei.Class({Async:function(eq,er,es,et,eu){var ev;cL.Start((ev=null,cL.Delay(function(){return cL.Bind((cs.getTokenOA())(),function(ew){ew==null?void 0:er.Authorization=(function(ex){return function(ey){return ex("Bearer "+bv.toSafe(ey));};}(a.id))(ew.$0);cs.originalProvider().Async(eq,er,es,et,eu);return cL.Zero();});})),null);}},g,c9);c9.New=ei.Ctor(function(){g.New.call(this);},c9);c_.fromSeq=function(eq){var er;er=R.ofSeq(ba.delay(function(){return ba.collect(function(es){return[dt.New(es[0],es[1])];},ba.distinctBy(function(es){return es[0];},eq));}));R.sortInPlace(er);return cz.Build(er,0,er.length-1);};c$.New=function(eq,er,es,et,eu){return{Node:eq,Left:er,Right:es,Height:et,Count:eu};};da=K.IdAddress=ei.Class({},null,da);db.CreateEmbedNode=function(){return{Current:null,Dirty:false};};db.UpdateEmbedNode=function(eq,er){eq.Current=er;eq.Dirty=true;};db.CreateElemNode=function(eq,er,es){var et;db.LinkElement(eq,es);et=dg.Insert(eq,er);return dj.New(et,es,null,eq,bW.Int(),ei.GetOptional(et.OnAfterRender));};db.LinkElement=function(eq,er){db.InsertDoc(eq,er,null);};db.CreateRunState=function(eq,er){return d1.New(d2.get_Empty(),db.CreateElemNode(eq,dg.EmptyAttr(),er));};db.PerformAnimatedUpdate=function(eq,er,es){var et;return dJ.get_UseAnimations()?(et=null,cL.Delay(function(){var eu,ev,ew;eu=d2.FindAll(es);ev=db.ComputeChangeAnim(er,eu);ew=db.ComputeEnterAnim(er,eu);return cL.Bind(dJ.Play(dJ.Append(ev,db.ComputeExitAnim(er,eu))),function(){return cL.Bind(db.SyncElemNodesNextFrame(eq,er),function(){return cL.Bind(dJ.Play(ew),function(){er.PreviousNodes=eu;return cL.Return(null);});});});})):db.SyncElemNodesNextFrame(eq,er);};db.PerformSyncUpdate=function(eq,er,es){var et;et=d2.FindAll(es);db.SyncElemNode(eq,er.Top);er.PreviousNodes=et;};db.CreateTextNode=function(){return{Text:dh.CreateText(""),Dirty:false,Value:""};};db.UpdateTextNode=function(eq,er){eq.Value=er;eq.Dirty=true;};db.InsertDoc=function(eq,er,es){var et;return er!=null&&er.$==1?db.InsertNode(eq,er.$0.El,es):er!=null&&er.$==2?(et=er.$0,(et.Dirty=false,db.InsertDoc(eq,et.Current,es))):er==null?es:er!=null&&er.$==4?db.InsertNode(eq,er.$0.Text,es):er!=null&&er.$==5?db.InsertNode(eq,er.$0,es):er!=null&&er.$==6?R.foldBack(function(eu,ev){return eu==null||eu.constructor===cI?db.InsertDoc(eq,eu,ev):db.InsertNode(eq,eu,ev);},er.$0.Els,es):db.InsertDoc(eq,er.$0,db.InsertDoc(eq,er.$1,es));};db.InsertBeforeDelim=function(eq,er){var es,et;es=eq.parentNode;et=self.document.createTextNode("");es.insertBefore(et,eq);db.LinkPrevElement(eq,er);return et;};db.SyncElemNodesNextFrame=function(eq,er){function es(et){a.requestAnimationFrame(function(){db.SyncElemNode(eq,er.Top);et();});}return dK.BatchUpdatesEnabled()?cL.FromContinuations(function(et,eu,ev){return es.apply(null,[et,eu,ev]);}):(db.SyncElemNode(eq,er.Top),cL.Return(null));};db.ComputeExitAnim=function(eq,er){return dJ.Concat(R.map(function(es){return dg.GetExitAnim(es.Attr);},d2.ToArray(d2.Except(er,d2.Filter(function(es){return dg.HasExitAnim(es.Attr);},eq.PreviousNodes)))));};db.ComputeEnterAnim=function(eq,er){return dJ.Concat(R.map(function(es){return dg.GetEnterAnim(es.Attr);},d2.ToArray(d2.Except(eq.PreviousNodes,d2.Filter(function(es){return dg.HasEnterAnim(es.Attr);},er)))));};db.ComputeChangeAnim=function(eq,er){var es;function et(eu){return dg.HasChangeAnim(eu.Attr);}es=function(eu){return d2.Filter(et,eu);};return dJ.Concat(R.map(function(eu){return dg.GetChangeAnim(eu.Attr);},d2.ToArray(d2.Intersect(es(eq.PreviousNodes),es(er)))));};db.SyncElemNode=function(eq,er){!eq?db.SyncElement(er):void 0;db.Sync(er.Children);db.AfterRender(er);};db.InsertNode=function(eq,er,es){dh.InsertAt(eq,es,er);return er;};db.LinkPrevElement=function(eq,er){db.InsertDoc(eq.parentNode,er,eq);};db.SyncElement=function(eq){function er(es){function et(eu){var ev,ew;return eu!=null&&eu.$==0?et(eu.$0)||et(eu.$1):eu!=null&&eu.$==2?(ev=eu.$0,ev.Dirty||et(ev.Current)):eu!=null&&eu.$==6&&(ew=eu.$0,ew.Dirty||R.exists(er,ew.Holes));}return et(es.Children);}dg.Sync(eq.El,eq.Attr);er(eq)?db.DoSyncElement(eq):void 0;};db.Sync=function(eq){var er,es;if(eq!=null&&eq.$==1)db.SyncElemNode(false,eq.$0);else if(eq!=null&&eq.$==2)db.Sync(eq.$0.Current);else if(eq==null);else if(eq!=null&&eq.$==5);else if(eq!=null&&eq.$==4){er=eq.$0;er.Dirty?(er.Text.nodeValue=er.Value,er.Dirty=false):void 0;}else if(eq!=null&&eq.$==6){es=eq.$0;R.iter(function(et){db.SyncElemNode(false,et);},es.Holes);R.iter(function(et){dg.Sync(et[0],et[1]);},es.Attrs);db.AfterRender(es);}else{db.Sync(eq.$0);db.Sync(eq.$1);}};db.AfterRender=function(eq){var er;er=ei.GetOptional(eq.Render);er!=null&&er.$==1?(er.$0(eq.El),ei.SetOptional(eq,"Render",null)):void 0;};db.DoSyncElement=function(eq){var er,es,et;function eu(ev,ew){var ex,ey;return ev!=null&&ev.$==1?ev.$0.El:ev!=null&&ev.$==2?(ex=ev.$0,ex.Dirty?(ex.Dirty=false,db.InsertDoc(er,ex.Current,ew)):eu(ex.Current,ew)):ev==null?ew:ev!=null&&ev.$==4?ev.$0.Text:ev!=null&&ev.$==5?ev.$0:ev!=null&&ev.$==6?(ey=ev.$0,(ey.Dirty?ey.Dirty=false:void 0,R.foldBack(function(ez,eA){return ez==null||ez.constructor===cI?eu(ez,eA):ez;},ey.Els,ew))):eu(ev.$0,eu(ev.$1,ew));}er=eq.El;ef.Iter((es=eq.El,function(ev){dh.RemoveNode(es,ev);}),ef.Except(ef.DocChildren(eq),ef.Children(eq.El,ei.GetOptional(eq.Delimiters))));eu(eq.Children,(et=ei.GetOptional(eq.Delimiters),et!=null&&et.$==1?et.$0[1]:null));};dc.New=function(eq,er){return{k:eq,ct:er};};dd.$cctor=function(){dd.$cctor=a.ignore;dd.noneCT=de.New(false,[]);dd.scheduler=new dv.New();dd.defCTS=[new dw.New()];dd.Zero=cL.Return();dd.GetCT=function(eq){eq.k({$:0,$0:eq.ct});};};de.New=function(eq,er){return{c:eq,r:er};};df.extractNodes=function(eq){var er,es;function et(eu,ev,ew,ex){var ey,ez,eA,eB,eC,eD;ey=df.extractNodes(ew);ez=df.extractNodes(ex);return(ey.$==0?(eB=ey.$0,!H.Equals(eB,null)&&eB.length===0)?(eA=ez,true):ez.$==0?(eC=ez.$0,!H.Equals(eC,null)&&eC.length===0)?(eA=ey,true):(eA=[ey,ez],false):(eA=[ey,ez],false):ez.$==0?(eD=ez.$0,!H.Equals(eD,null)&&eD.length===0)?(eA=ey,true):(eA=[ey,ez],false):(eA=[ey,ez],false))?eA:{$:1,$0:{$:0,$0:eu,$1:ev,$2:eA[0],$3:eA[1]}};}er=df.horizontalSplit(eq);return er!=null&&er.$==1?et(false,er.$0[2],er.$0[0],er.$0[1]):(es=df.verticalSplit(eq),es!=null&&es.$==1?et(true,es.$0[2],es.$0[0],es.$0[1]):{$:0,$0:df.cleanSpaces(eq)});};df.createLayoutDefinitions=function(eq,er){var es,et,eu,ev,ew,ex,ey,ez,eA,eB;return er.$==1?(es=er.$0.$0,(et=er.$0.$1,(eu=df.createLayoutDefinitions(eq+"_1",er.$0.$2),(ev=eu[0],(ew=eu[1],(ex=df.createLayoutDefinitions(eq+"_2",er.$0.$3),(ey=ex[0],(ez=ex[1],[eq,R.ofSeq(ba.delay(function(){return ba.append([bh.concat(" ",bx.ofArray([eq,es?"vertical":"horizontal",a.String(et),ev,ey]))],ba.delay(function(){return ba.append(ew,ba.delay(function(){return ez;}));}));}))])))))))):(eA=er.$0,!H.Equals(eA,null)&&eA.length===0)?["___",[]]:(eB=er.$0,!H.Equals(eB,null)&&eB.length===1)?[R.get(er.$0,0),[]]:[eq,[eq+" div \"\" "+bh.concat(" ",er.$0)]];};df.horizontalSplit=function(eq){var er,es,et,eu,ev;function ew(ex,ey){var ez,eA,eB,eC;ez=j.REGEX$1("^ *--+([ ^v0-9]*)-* *$","",ey);return ez!=null&&ez.$==1?{$:1,$0:[[ex,(eA=(eB=ba.tryItem(1,ez.$0),eB==null?null:df.extractMeasuresO(bh.Replace(bh.Replace(eB.$0,"^",""),"v","-"))),(eC=new dx({$:1,$0:5,$1:50,$2:95}),eA==null?eC:eA.$0))],ey.indexOf("-")]}:null;}er=(es=ba.tryHead(ba.sortBy(function(ex){return ex[1];},ba.choose(function(ex){return ew(ex[0],ex[1]);},ba.indexed(eq)))),es==null?null:{$:1,$0:es.$0[0]});return er==null?null:{$:1,$0:(et=er.$0,(eu=et[0],(ev=et[1],[b3.array(eq,null,{$:1,$0:eu-1}),b3.array(eq,{$:1,$0:eu+1},null),ev])))};};df.verticalSplit=function(eq){var er,es,et,eu,ev,ew,ex,ey,ez,eA;function eB(eE,eF){var eG,eH,eI;return(eH=j.REGEX$1("^ *\\|+ *$","",eF),eH!=null&&eH.$==1&&(eI=eH.$0,!H.Equals(eI,null)&&eI.length===1))?{$:1,$0:[eE,eF.indexOf("|")]}:null;}function eC(eE){return H.Equals(null,eE);}function eD(eE){return H.Equals(null,eE);}er=df.transpose(eq);es=(et=(eu=ba.tryHead(ba.sortBy(function(eE){return eE[1];},ba.choose(function(eE){return eB(eE[0],eE[1]);},ba.indexed(er)))),eu==null?null:{$:1,$0:eu.$0[0]}),et==null?null:{$:1,$0:(ev=et.$0,[df.transpose(b3.array(er,null,{$:1,$0:ev-1})),df.transpose(b3.array(er,{$:1,$0:ev+1},null))])});return es==null?null:{$:1,$0:(ew=es.$0,(ex=ew[0],(ey=ew[1],[R.filter(function(eE){return eC(df.extractMeasuresO(eE));},ex),R.filter(function(eE){return eD(df.extractMeasuresO(eE));},ey),(ez=ba.tryHead(ba.delay(function(){return ba.append(ba.choose(df.extractMeasuresO,ex),ba.delay(function(){return ba.map(function(eE){return eE.$==0?eE.$1?new dx({$:0,$0:eE.$0,$1:false}):eE:eE;},ba.choose(df.extractMeasuresO,ey));}));})),(eA=new dx({$:1,$0:5,$1:50,$2:95}),ez==null?eA:ez.$0))])))};};df.cleanSpaces=function(eq){return R.filter(function(er){var es;return!(es=(b4.Int())(er),es!=null&&es.$==1);},bh.SplitStrings(bh.concat(" ",eq),[" "],1));};df.extractMeasuresO=function(eq){var er,es,et,eu,ev,ew,ex;er=bh.SplitChars(eq,[" "],1);return!H.Equals(er,null)&&er.length===1&&(et=(b4.Int())(R.get(er,0)),et!=null&&et.$==1&&(es=et.$0,true))?{$:1,$0:new dx({$:0,$0:ej.abs(es),$1:es>=0})}:!H.Equals(er,null)&&er.length===3&&(ev=(b4.Int())(R.get(er,0)),ev!=null&&ev.$==1&&(ew=(b4.Int())(R.get(er,1)),ew!=null&&ew.$==1&&(ex=(b4.Int())(R.get(er,2)),ex!=null&&ex.$==1&&(eu=[ex.$0,ev.$0,ew.$0],true))))?{$:1,$0:new dx({$:1,$0:eu[1],$1:eu[2],$2:eu[0]})}:null;};df.transpose=function(eq){var er;er=ba.max(ba.map(function(es){return es.length;},eq));return R.ofSeq(ba.delay(function(){return ba.map(function(es){return R.ofSeq(ba.delay(function(){return ba.map(function(et){return et.length>es?et[es]:" ";},eq);})).join("");},o.range(0,er-1));}));};dg.Static=function(eq){return new cV({$:3,$0:eq});};dg.Dynamic=function(eq,er){return new cV({$:1,$0:new dU.New(eq,er)});};dg.Insert=function(eq,er){var es,et,eu;function ev(ew){if(!(ew===null))if(ew!=null&&ew.$==1)es.push(ew.$0);else if(ew!=null&&ew.$==2){ev(ew.$0);ev(ew.$1);}else if(ew!=null&&ew.$==3)ew.$0(eq);else if(ew!=null&&ew.$==4)et.push(ew.$0);}es=[];et=[];ev(er);eu=es.slice(0);return dH.New(eq,dg.Flags(er),eu,et.length===0?null:{$:1,$0:function(ew){ba.iter(function(ex){ex(ew);},et);}});};dg.EmptyAttr=function(){dV.$cctor();return dV.EmptyAttr;};dg.Flags=function(eq){return eq!==null&&eq.hasOwnProperty("flags")?eq.flags:0;};dg.AppendTree=function(eq,er){var es;return eq===null?er:er===null?eq:(es=new cV({$:2,$0:eq,$1:er}),(dg.SetFlags(es,dg.Flags(eq)|dg.Flags(er)),es));};dg.Updates=function(eq){return cK.MapTreeReduce(function(er){return er.NChanged();},p.Const(),p.Map2Unit,eq.DynNodes);};dg.Empty=function(eq){return dH.New(eq,0,[],null);};dg.SetFlags=function(eq,er){eq.flags=er;};dg.HasExitAnim=function(eq){var er;er=2;return(eq.DynFlags&er)===er;};dg.GetExitAnim=function(eq){return dg.GetAnim(eq,function(er,es){return er.NGetExitAnim(es);});};dg.HasEnterAnim=function(eq){var er;er=1;return(eq.DynFlags&er)===er;};dg.GetEnterAnim=function(eq){return dg.GetAnim(eq,function(er,es){return er.NGetEnterAnim(es);});};dg.HasChangeAnim=function(eq){var er;er=4;return(eq.DynFlags&er)===er;};dg.GetChangeAnim=function(eq){return dg.GetAnim(eq,function(er,es){return er.NGetChangeAnim(es);});};dg.GetAnim=function(eq,er){return dJ.Concat(R.map(function(es){return er(es,eq.DynElem);},eq.DynNodes));};dg.Sync=function(eq,er){R.iter(function(es){es.NSync(eq);},er.DynNodes);};dh.SetStyle=function(eq,er,es){dh.SetProperty(eq.style,er,es);};dh.ChildrenArray=function(eq){var er,es,et;er=[];for(es=0,et=eq.childNodes.length-1;es<=et;es++)er.push(eq.childNodes[es]);return er;};dh.CreateText=function(eq){return dh.Doc().createTextNode(eq);};dh.SetAttr=function(eq,er,es){eq.setAttribute(er,es);};dh.SetProperty=function(eq,er,es){return eq.setProperty(er,es);};dh.CreateElement=function(eq){return dh.Doc().createElement(eq);};dh.IterSelector=function(eq,er,es){var et,eu,ev;et=eq.querySelectorAll(er);for(eu=0,ev=et.length-1;eu<=ev;eu++)es(et[eu]);};dh.Doc=function(){d9.$cctor();return d9.Doc;};dh.RemoveAttr=function(eq,er){eq.removeAttribute(er);};dh.InsertAt=function(eq,er,es){var et;if(!(es.parentNode===eq&&er===(et=es.nextSibling,H.Equals(et,null)?null:et)))eq.insertBefore(es,er);};dh.RemoveClass=function(eq,er){var es;dh.setClass(eq,(es=dh.clsRE(er),dh.getClass(eq).replace(es,function(et,eu,ev){return eu===""||ev===""?"":" ";})));};dh.AddClass=function(eq,er){var es;es=dh.getClass(eq);es===""?dh.setClass(eq,er):!dh.clsRE(er).test(es)?dh.setClass(eq,es+" "+er):void 0;};dh.setClass=function(eq,er){if(eq instanceof a.SVGElement)eq.setAttribute("class",er);else eq.className=er;};dh.getClass=function(eq){return eq instanceof a.SVGElement?eq.getAttribute("class"):eq.className;};dh.clsRE=function(eq){return new a.RegExp("(\\s+|^)"+eq+"(?:\\s+"+eq+")*(\\s+|$)","g");};dh.RemoveNode=function(eq,er){if(er.parentNode===eq)eq.removeChild(er);};bb.delayed=function(eq,er){var es;es=[null];return function(et){var eu,ev;eu=es[0];eu==null?void 0:eu.$0.Cancel$1();es[0]={$:1,$0:new dw.New()};cL.Start((ev=null,cL.Delay(function(){return cL.Bind(cL.Sleep(eq),function(){er(et);return cL.Zero();});})),{$:1,$0:es[0].$0});};};bb.print=function(eq){if(typeof eq=="string")((function(er){return function(es){return er(bv.toSafe(es));};}(function(er){el.log(er);}))(eq));else((function(er){return function(es){return er(bv.prettyPrint(es));};}(function(er){el.log(er);}))(eq));};bb["String.Left"]=function(eq,er){return er<0?bb["String.Substring2"](eq,0,eq.length+er):bb["String.Substring2"](eq,0,er);};bb["String.Substring2"]=function(eq,er,es){var et,eu;while(true){if(es<=0)return"";else if(er<0){et=er;er=0;es=es+et;}else return er>=eq.length?"":bh.Substring(eq,er,(eu=eq.length-er,H.Compare(es,eu)===-1?es:eu));}};di=cT.WcSplitterT=ei.Class({connectedCallback:function(){var eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF;function eG(eO){var eP,eQ,eR,eS;eP=ex?["padding-left","padding-right","grid-column-gap"]:["padding-top","padding-bottom","grid-row-gap"];eQ=a.parseFloat("0"+ek(eO.parentElement.parentElement).css(eP[0]));eR=a.parseFloat("0"+ek(eO.parentElement.parentElement).css(eP[1]));eA.Set(a.parseFloat("0"+ek(eO.parentElement.parentElement).css(eP[2])));ez[0]=eQ+eR;eS=eq.getBoundingClientRect();return ex?ew?[eS.width,eS.height]:[-eS.width,eS.height]:ew?[eS.height,eS.width]:[-eS.height,eS.width];}function eH(eO){return ex?eO.clientX:eO.clientY;}function eI(eO){var eP,eQ;eP=(eH(eO)-eD[0])*100/ey[0][0]+eC[0];ev.Set((eQ=H.Compare(et,eP)===1?et:eP,H.Compare(eu,eQ)===-1?eu:eQ));}function eJ(){if(eB[0]){eB[0]=false;self.removeEventListener("mousemove",eI,false);self.removeEventListener("mouseup",eJ,false);}}function eK(eO){var eP,eQ;if(!eB[0]){eB[0]=true;eC[0]=ev.Get();eD[0]=eH(eO);ey[0]=(eP=(eQ=eE[0],eQ==null?null:{$:1,$0:eG(eQ.$0)}),eP==null?[100,500]:eP.$0);self.addEventListener("mousemove",eI,false);self.addEventListener("mouseup",eJ,false);eO.preventDefault();}}function eL(eO,eP,eQ,eR){return[(eO-eP-eQ)*eR/100,(eO-eP-eQ)*(100-eR)/100];}function eM(eO,eP){return(((((ei.Curried(function(eQ,eR,eS,eT,eU){return eQ(" "+eR.toFixed(2)+"px "+eS.toFixed(2)+"px ; "+bv.toSafe(eT)+" : "+eU.toFixed(2)+"px; ");},5))(a.id))(eO))(eP))(ex?"height":"width"))(ey[0][1]);}function eN(){var eO;eO=eE[0];eO==null?void 0:ey[0]=eG(eO.$0);ev.Set(ev.Get());}if(!this.added){eq=this;er=eq.attachShadow({mode:"open"});es=self.document.createElement("div");et=eq.hasAttribute("min")?a.parseFloat(eq.getAttribute("min")):4;eu=eq.hasAttribute("max")?a.parseFloat(eq.getAttribute("max")):96;ev=i.Create$1(eq.hasAttribute("value")?a.parseFloat(eq.getAttribute("value")):50);ew=!eq.hasAttribute("second");ex=eq.hasAttribute("vertical");ey=[[0,0]];ez=[0];eA=i.Create$1(0);eB=[false];eC=[0];eD=[0];eE=[null];eF=(((((ex?cT.layoutVertical():cT.layoutHorizontal())(p.Map(function(eO){var eP;eP=eL(ey[0][0],eA.Get(),ez[0],eO);return eM.apply(null,eP);},ev.get_View())))(function(){dD.addResizeObserver(eN,eq);eN();}))(function(eO){eE[0]={$:1,$0:eO};eN();}))(function(eO){eK(eO);}))(p.Map(function(eO){return function(eP){return eO(bv.prettyPrint(eP)+"px");};}(a.id),eA.get_View()));cY.LoadLocalTemplates("");Y.Run(es,eF);er.appendChild(es.firstChild);this.added=true;}}},g,di);di.Constructor=function(){var eq,er;eq=(er=eo.construct(self.HTMLElement,[],this.__proto__.constructor),er);self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New.call(eq);return eq;};di.New=ei.Ctor(function(){g.New.call(this);this.added=false;(function(eq){return eq("WcSplitterT initializer");}(function(eq){el.log(eq);}));},di);dj=h.DocElemNode=ei.Class({Equals:function(eq){return this.ElKey===eq.ElKey;},GetHashCode:function(){return this.ElKey;}},null,dj);dj.New=function(eq,er,es,et,eu,ev){var ew;return new dj((ew={Attr:eq,Children:er,El:et,ElKey:eu},(ei.SetOptional(ew,"Delimiters",es),ei.SetOptional(ew,"Render",ev),ew)));};dl.$cctor=function(){dl.$cctor=a.ignore;dl.counter=0;};dm=cj.XhrProvider=ei.Class({Async:function(eq,er,es,et,eu){cj.ajax(true,eq,er,es,et,eu,function(){cj.ajax(true,eq,er,es,et,eu,void 0);});}},g,dm);dm.New=ei.Ctor(function(){g.New.call(this);},dm);dn=cm.FSharpEvent=ei.Class({},g,dn);dn.New=ei.Ctor(function(){g.New.call(this);this.event=dO.New([]);},dn);_do=be.LinkedList=ei.Class({AddLast:function(eq){var er;return this.c===0?(er={p:null,n:null,v:eq},(this.n=er,this.p=this.n,this.c=1,er)):this.AddAfter(this.p,eq);},GetEnumerator$1:function(){return new eb.New(this);},AddAfter:function(eq,er){var es,et;es=eq.n;et={p:eq,n:es,v:er};H.Equals(eq.n,null)?this.p=et:void 0;eq.n=et;!H.Equals(es,null)?es.p=et:void 0;this.c=this.c+1;return et;},RemoveFirst:function(){this.Remove$1(this.n);},Remove$1:function(eq){var er,es;er=eq.p;es=eq.n;H.Equals(er,null)?this.n=es:er.n=es;H.Equals(es,null)?this.p=er:es.p=er;this.c=this.c-1;},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},g,_do);_do.New=ei.Ctor(function(){_do.New$1.call(this,[]);},_do);_do.New$1=ei.Ctor(function(eq){var er,es;g.New.call(this);this.c=0;this.n=null;this.p=null;er=cx.Get(eq);er.MoveNext()?(this.n={p:null,n:null,v:er.Current()},this.p=this.n,this.c=1):void 0;while(er.MoveNext()){es={p:this.p,n:null,v:er.Current()};this.p.n=es;this.p=es;this.c=this.c+1;}},_do);dp.New$1=function(eq,er,es,et,eu,ev,ew,ex,ey,ez,eA){return c1.newPojoOpt([b6.op_EqualsEqualsGreater("account",eq),b6.op_EqualsEqualsGreater("authority",er),b6.op_EqualsEqualsGreater("claimsRequest",es),b6.op_EqualsEqualsGreater("correlationId",et),b6.op_EqualsEqualsGreater("extraQueryParameters",eu),b6.op_EqualsEqualsGreater("extraScopesToConsent",ev),b6.op_EqualsEqualsGreater("loginHint",ew),b6.op_EqualsEqualsGreater("prompt",ex),b6.op_EqualsEqualsGreater("scopes",ey),b6.op_EqualsEqualsGreater("sid",ez),b6.op_EqualsEqualsGreater("state",eA)]);};dq=b6.Account=ei.Class({},g,dq);dr.New$1=function(eq,er){return{Parse:eq,Write:er};};ds.startsWith=function(eq,er){var es;switch(eq.$==1?er.$==1?H.Equals(eq.$0,er.$0)?(es=[er.$0,er.$1,eq.$0,eq.$1],1):2:2:0){case 0:return{$:1,$0:er};case 1:return ds.startsWith(es[3],es[1]);case 2:return null;}};dt=be.Pair=ei.Class({Equals:function(eq){return H.Equals(this.Key,eq.Key);},GetHashCode:function(){return H.Hash(this.Key);},CompareTo0:function(eq){return H.Compare(this.Key,eq.Key);}},null,dt);dt.New=function(eq,er){return new dt({Key:eq,Value:er});};du.Map=function(eq,er){return er.$==1?{$:1,$0:er.$0}:{$:0,$0:eq(er.$0)};};dv=cL.Scheduler=ei.Class({Fork:function(eq){var er;er=this;this.robin.push(eq);this.idle?(this.idle=false,a.setTimeout(function(){er.tick();},0)):void 0;},tick:function(){var eq,er,es;er=this;es=em.now();eq=true;while(eq)if(this.robin.length===0){this.idle=true;eq=false;}else{(this.robin.shift())();em.now()-es>40?(a.setTimeout(function(){er.tick();},0),eq=false):void 0;}}},g,dv);dv.New=ei.Ctor(function(){g.New.call(this);this.idle=true;this.robin=[];},dv);dw=f.CancellationTokenSource=ei.Class({Cancel$1:function(){var eq;if(!this.c){this.c=true;eq=R.choose(function(er){try{er();return null;}catch(es){return{$:1,$0:es};}},this.r);if(R.length(eq)>0)throw new dW.New$3(eq);else void 0;}}},g,dw);dw.New=ei.Ctor(function(){g.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},dw);j.REGEX$1=function(eq,er,es){var et;return es===null?null:(et=(new a.String(es)).match(new a.RegExp(eq,er)),H.Equals(et,null)?null:!H.Equals(et,null)&&et.length===0?null:{$:1,$0:et});};dx=I.Measures=ei.Class({toString:function(){return this.$==1?((((ei.Curried(function(eq,er,es,et){return eq(a.String(er)+"-"+a.String(es)+"-"+a.String(et));},4))(a.id))(o.toInt(this.$0)))(o.toInt(this.$1)))(o.toInt(this.$2)):a.String(o.toInt(this.$1?this.$0:-this.$0));}},null,dx);dz=dy.Hoverable=ei.Class({Content:function(eq){return eq.on("mouseenter",function(){return dh.AddClass(eq.elt,"hovering");}).on("mouseleave",function(){return dh.RemoveClass(eq.elt,"hovering");});}},null,dz);dz.New$1=function(){return dz.New(i.Create$1(false));};dz.New=function(eq){return new dz({hover:eq});};dA.InMemory=function(eq){return new dX.New(eq);};dD.addResizeObserver=function(eq,er){var es,et,eu,ev;try{es=!(!a.ResizeObserver);}catch(ew){es=false;}if(es){et=new a.ResizeObserver(eq);dD.set_observers(new cA({$:1,$0:et,$1:dD.observers()}));et.observe(er);}else{eu=dD.dimsChanged(er);cL.Start((ev=null,cL.Delay(function(){return cL.While(function(){return er.isConnected;},cL.Delay(function(){return cL.Bind(cL.Sleep(110),function(){return eu()?(eq(),cL.Zero()):cL.Zero();});}));})),null);}};dD.set_observers=function(eq){bK.$cctor();bK.observers=eq;};dD.observers=function(){bK.$cctor();return bK.observers;};dD.dimsChanged=function(eq){var er;er=[eq.getBoundingClientRect()];return function(){var es;es=eq.getBoundingClientRect();return H.Equals(dD.domRect2Tuple(er[0]),dD.domRect2Tuple(es))?false:(er[0]=es,true);};};dD.domRect2Tuple=function(eq){return[eq.top,eq.left,eq.width,eq.height];};dE.$cctor=function(){dE.$cctor=a.ignore;dE.LoadedTemplates=new bR.New$5();dE.LocalTemplatesLoaded=false;dE.TextHoleRE="\\${([^}]+)}";};dF=h.Elt=ei.Class({on:function(eq,er){var es;es=this;this.elt.addEventListener(eq,function(et){return er(es.elt,et);},false);return this;}},Y,dF);dF.TreeNode=function(eq,er){var es,et;function eu(ev){return ev[1];}es=dZ.Create(er);return new dF.New$1({$:6,$0:eq},p.Map2Unit((et=R.map(function(ev){return dg.Updates(eu(ev));},eq.Attrs),cK.TreeReduce(p.Const(),p.Map2Unit,et)),es.v),R.get(eq.Els,0),es);};dF.New=function(eq,er,es){var et,eu;et=db.CreateElemNode(eq,er,es.docNode);eu=dZ.Create(es.updates);return new dF.New$1({$:1,$0:et},p.Map2Unit(dg.Updates(et.Attr),eu.v),eq,eu);};dF.New$1=ei.Ctor(function(eq,er,es,et){Y.New.call(this,eq,er);this.docNode$1=eq;this.updates$1=er;this.elt=es;this.rvUpdates=et;},dF);dH.New=function(eq,er,es,et){var eu;eu={DynElem:eq,DynFlags:er,DynNodes:es};ei.SetOptional(eu,"OnAfterRender",et);return eu;};dI.convertTextNode=function(eq){var er,es,et,eu,ev,ew;er=null;es=0;eu=eq.textContent;ev=new a.RegExp(cY.TextHoleRE(),"g");while(er=ev.exec(eu),er!==null){eq.parentNode.insertBefore(self.document.createTextNode(b3.string(eu,{$:1,$0:es},{$:1,$0:ev.lastIndex-R.get(er,0).length-1})),eq);es=ev.lastIndex;ew=self.document.createElement("span");ew.setAttribute("ws-replace",R.get(er,1).toLowerCase());eq.parentNode.insertBefore(ew,eq);}ev.lastIndex=0;eq.textContent=b3.string(eu,{$:1,$0:es},null);};dI.failNotLoaded=function(eq){el.warn("Instantiating non-loaded template",eq);};dI.fillTextHole=function(eq,er,es){var et;et=eq.querySelector("[ws-replace]");return H.Equals(et,null)?(el.warn("Filling non-existent text hole",es),null):(et.parentNode.replaceChild(new a.Text(er),et),{$:1,$0:et.getAttribute("ws-replace")});};dI.removeHolesExcept=function(eq,er){function es(et){dh.IterSelector(eq,"["+et+"]",function(eu){if(!er.Contains(eu.getAttribute(et)))eu.removeAttribute(et);});}es("ws-attr");es("ws-onafterrender");es("ws-var");dh.IterSelector(eq,"[ws-hole]",function(et){if(!er.Contains(et.getAttribute("ws-hole"))){et.removeAttribute("ws-hole");while(et.hasChildNodes())et.removeChild(et.lastChild);}});dh.IterSelector(eq,"[ws-replace]",function(et){if(!er.Contains(et.getAttribute("ws-replace")))et.parentNode.removeChild(et);});dh.IterSelector(eq,"[ws-on]",function(et){et.setAttribute("ws-on",bh.concat(" ",R.filter(function(eu){return er.Contains(R.get(bh.SplitChars(eu,[":"],1),1));},bh.SplitChars(et.getAttribute("ws-on"),[" "],1))));});dh.IterSelector(eq,"[ws-attr-holes]",function(et){var eu,ev,ew,ex,ey;eu=bh.SplitChars(et.getAttribute("ws-attr-holes"),[" "],1);for(ev=0,ew=eu.length-1;ev<=ew;ev++){ex=R.get(eu,ev);et.setAttribute(ex,(ey=new a.RegExp(cY.TextHoleRE(),"g"),et.getAttribute(ex).replace(ey,function(ez,eA){return er.Contains(eA)?ez:"";})));}});};dI.fillInstanceAttrs=function(eq,er){var es,et,eu,ev,ew;dI.convertAttrs(er);es=er.nodeName.toLowerCase();et=eq.querySelector("[ws-attr="+es+"]");if(H.Equals(et,null))el.warn("Filling non-existent attr hole",es);else{et.removeAttribute("ws-attr");for(eu=0,ev=er.attributes.length-1;eu<=ev;eu++){ew=er.attributes.item(eu);ew.name==="class"&&et.hasAttribute("class")?et.setAttribute("class",et.getAttribute("class")+" "+ew.nodeValue):et.setAttribute(ew.name,ew.nodeValue);}}};dI.mapHoles=function(eq,er){function es(et){dh.IterSelector(eq,"["+et+"]",function(eu){var ev,ew;ev=(ew=null,[er.TryGetValue(eu.getAttribute(et).toLowerCase(),{get:function(){return ew;},set:function(ex){ew=ex;}}),ew]);ev[0]?eu.setAttribute(et,ev[1]):void 0;});}es("ws-hole");es("ws-replace");es("ws-attr");es("ws-onafterrender");es("ws-var");dh.IterSelector(eq,"[ws-on]",function(et){et.setAttribute("ws-on",bh.concat(" ",R.map(function(eu){var ev,ew,ex;ev=bh.SplitChars(eu,[":"],1);ew=(ex=null,[er.TryGetValue(R.get(ev,1),{get:function(){return ex;},set:function(ey){ex=ey;}}),ex]);return ew[0]?R.get(ev,0)+":"+ew[1]:eu;},bh.SplitChars(et.getAttribute("ws-on"),[" "],1))));});dh.IterSelector(eq,"[ws-attr-holes]",function(et){var eu,ev,ew;eu=bh.SplitChars(et.getAttribute("ws-attr-holes"),[" "],1);for(ev=0,ew=eu.length-1;ev<=ew;ev++)(function(){var ex;function ey(ez,eA){var eB;eB=o.KeyValue(eA);return ez.replace(new a.RegExp("\\${"+eB[0]+"}","ig"),"${"+eB[1]+"}");}ex=R.get(eu,ev);return et.setAttribute(ex,(((ei.Curried3(ba.fold))(ey))(et.getAttribute(ex)))(er));}());});};dI.fill=function(eq,er,es){while(true)if(eq.hasChildNodes())es=er.insertBefore(eq.lastChild,es);else return null;};dI.convertAttrs=function(eq){var es,et,eu,ev,ew,ex,ey,ez;function er(eA){var eB;eB=eq.getAttribute(eA);eB===null?void 0:eq.setAttribute(eA,eB.toLowerCase());}es=eq.attributes;et=[];eu=[];ev=[];for(ew=0,ex=es.length-1;ew<=ex;ew++){ey=es.item(ew);bh.StartsWith(ey.nodeName,"ws-on")&&ey.nodeName!=="ws-onafterrender"&&ey.nodeName!=="ws-on"?(et.push(ey.nodeName),eu.push(b3.string(ey.nodeName,{$:1,$0:"ws-on".length},null)+":"+ey.nodeValue.toLowerCase())):!bh.StartsWith(ey.nodeName,"ws-")&&(new a.RegExp(cY.TextHoleRE())).test(ey.nodeValue)?(ey.nodeValue=(ez=new a.RegExp(cY.TextHoleRE(),"g"),ey.nodeValue.replace(ez,function(eA,eB){return"${"+eB.toLowerCase()+"}";})),ev.push(ey.nodeName)):void 0;}!(eu.length==0)?eq.setAttribute("ws-on",bh.concat(" ",eu)):void 0;!(ev.length==0)?eq.setAttribute("ws-attr-holes",bh.concat(" ",ev)):void 0;er("ws-hole");er("ws-replace");er("ws-attr");er("ws-onafterrender");er("ws-var");R.iter(function(eA){eq.removeAttribute(eA);},et);};dJ.get_UseAnimations=function(){return d3.UseAnimations();};dJ.Play=function(eq){var er;er=null;return cL.Delay(function(){return cL.Bind(dJ.Run(a.ignore,d3.Actions(eq)),function(){d3.Finalize(eq);return cL.Return(null);});});};dJ.Append=function(eq,er){return{$:0,$0:ea.Append(eq.$0,er.$0)};};dJ.Run=function(eq,er){var es;function et(eu){function ev(ew,ex){var ey;ey=ex-ew;er.Compute(ey);eq();return ey<=es?void a.requestAnimationFrame(function(ez){ev(ew,ez);}):eu();}a.requestAnimationFrame(function(ew){ev(ew,ew);});}es=er.Duration;return es===0?cL.Zero():cL.FromContinuations(function(eu,ev,ew){return et.apply(null,[eu,ev,ew]);});};dJ.Concat=function(eq){return{$:0,$0:ea.Concat(ba.map(d3.List,eq))};};dJ.get_Empty=function(){return{$:0,$0:ea.Empty()};};dK.BatchUpdatesEnabled=function(){d4.$cctor();return d4.BatchUpdatesEnabled;};dL.StartProcessor=function(eq){var er;function es(){var et;et=null;return cL.Delay(function(){return cL.Bind(eq,function(){var eu;eu=er[0];return eu===1?(er[0]=0,cL.Zero()):eu===2?(er[0]=1,es()):cL.Zero();});});}er=[0];return function(){var et;et=er[0];et===0?(er[0]=1,cL.Start(es(),null)):et===1?er[0]=2:void 0;};};dM.concat=function(eq){var er,es;er=[];for(var et in eq)er.push.apply(er,eq[et]);return er;};dO=dN.Event=ei.Class({Trigger:function(eq){var er,es,et;er=this.Handlers.slice();for(es=0,et=er.length-1;es<=et;es++)(R.get(er,es))(null,eq);},Dispose:a.ignore},null,dO);dO.New=function(eq){return new dO({Handlers:eq});};dP=F.NonStandardPromiseRejectionException=ei.Class({},c2,dP);dP.New=ei.Ctor(function(eq){this.message="Promise rejected";cI.setPrototypeOf(this,dP.prototype);this.reason=eq;},dP);dQ.$cctor=function(){dQ.$cctor=a.ignore;function eq(er){var es,et;es=(et=0,[bP.TryParseInt32(er,{get:function(){return et;},set:function(eu){et=eu;}}),et]);return es[0]?{$:1,$0:es[1]}:null;}dQ.Empty=dr.New$1(function(){return[];},function(){return null;});dQ.rRoot=dr.New(function(er){return[er];},[]);dQ.rString=dr.New$1(function(er){var es,et;es=er.Segments;return es.$==1?(et=d8.read(es.$0),et!=null&&et.$==1?[[c8.New(es.$1,er.QueryArgs,er.FormData,er.Method,er.Body),et.$0]]:[]):[];},function(er){return{$:1,$0:[c8.Segment$2(er==null?"null":d8.write(er))]};});dQ.rChar=dr.New$1(function(er){var es,et,eu;es=er.Segments;return es.$==1?(et=d8.read(es.$0),et!=null&&et.$==1&&(et.$0.length===1&&(eu=et.$0,true))?[[c8.New(es.$1,er.QueryArgs,er.FormData,er.Method,er.Body),d5.Parse(eu)]]:[]):[];},function(er){return{$:1,$0:[c8.Segment$2(er)]};});dQ.rGuid=dr.New$1(function(er){var es,et;es=er.Segments;return es.$==1?(et=null,br.TryParse(es.$0,{get:function(){return et;},set:function(eu){et=eu;}})?[[c8.New(es.$1,er.QueryArgs,er.FormData,er.Method,er.Body),et]]:[]):[];},function(er){return{$:1,$0:[c8.Segment$2(a.String(er))]};});dQ.rInt=dr.New$1(function(er){var es,et;es=er.Segments;return es.$==1?(et=0,bP.TryParseInt32(es.$0,{get:function(){return et;},set:function(eu){et=eu;}})?[[c8.New(es.$1,er.QueryArgs,er.FormData,er.Method,er.Body),et]]:[]):[];},function(er){return{$:1,$0:[c8.Segment$2(a.String(er))]};});dQ.rDouble=dr.New$1(function(er){var es,et,eu;es=er.Segments;return es.$==1?(et=0,(eu=a.Number(es.$0),a.isNaN(eu)?false:(et=eu,true))?[[c8.New(es.$1,er.QueryArgs,er.FormData,er.Method,er.Body),et]]:[]):[];},function(er){return{$:1,$0:[c8.Segment$2(a.String(er))]};});dQ.rSByte=dr.New$1(function(er){var es,et;es=er.Segments;return es.$==1?(et=0,bP.TryParseSByte(es.$0,{get:function(){return et;},set:function(eu){et=eu;}})?[[c8.New(es.$1,er.QueryArgs,er.FormData,er.Method,er.Body),et]]:[]):[];},function(er){return{$:1,$0:[c8.Segment$2(a.String(er))]};});dQ.rByte=dr.New$1(function(er){var es,et;es=er.Segments;return es.$==1?(et=0,bP.TryParseByte(es.$0,{get:function(){return et;},set:function(eu){et=eu;}})?[[c8.New(es.$1,er.QueryArgs,er.FormData,er.Method,er.Body),et]]:[]):[];},function(er){return{$:1,$0:[c8.Segment$2(a.String(er))]};});dQ.rInt16=dr.New$1(function(er){var es,et;es=er.Segments;return es.$==1?(et=0,bP.TryParseInt16(es.$0,{get:function(){return et;},set:function(eu){et=eu;}})?[[c8.New(es.$1,er.QueryArgs,er.FormData,er.Method,er.Body),et]]:[]):[];},function(er){return{$:1,$0:[c8.Segment$2(a.String(er))]};});dQ.rUInt16=dr.New$1(function(er){var es,et;es=er.Segments;return es.$==1?(et=0,bP.TryParseUInt16(es.$0,{get:function(){return et;},set:function(eu){et=eu;}})?[[c8.New(es.$1,er.QueryArgs,er.FormData,er.Method,er.Body),et]]:[]):[];},function(er){return{$:1,$0:[c8.Segment$2(a.String(er))]};});dQ.rUInt=dr.New$1(function(er){var es,et;es=er.Segments;return es.$==1?(et=0,bP.TryParseUInt32(es.$0,{get:function(){return et;},set:function(eu){et=eu;}})?[[c8.New(es.$1,er.QueryArgs,er.FormData,er.Method,er.Body),et]]:[]):[];},function(er){return{$:1,$0:[c8.Segment$2(a.String(er))]};});dQ.rInt64=dr.New$1(function(er){var es,et;es=er.Segments;return es.$==1?(et=0,bP.TryParseInt64(es.$0,{get:function(){return et;},set:function(eu){et=eu;}})?[[c8.New(es.$1,er.QueryArgs,er.FormData,er.Method,er.Body),et]]:[]):[];},function(er){return{$:1,$0:[c8.Segment$2(a.String(er))]};});dQ.rUInt64=dr.New$1(function(er){var es,et;es=er.Segments;return es.$==1?(et=0,bP.TryParseUInt64(es.$0,{get:function(){return et;},set:function(eu){et=eu;}})?[[c8.New(es.$1,er.QueryArgs,er.FormData,er.Method,er.Body),et]]:[]):[];},function(er){return{$:1,$0:[c8.Segment$2(a.String(er))]};});dQ.rSingle=dr.New$1(function(er){var es,et,eu;es=er.Segments;return es.$==1?(et=0,(eu=a.Number(es.$0),a.isNaN(eu)?false:(et=eu,true))?[[c8.New(es.$1,er.QueryArgs,er.FormData,er.Method,er.Body),et]]:[]):[];},function(er){return{$:1,$0:[c8.Segment$2(a.String(er))]};});dQ.rBool=dr.New$1(function(er){var es,et,eu;es=er.Segments;return es.$==1?(et=(eu=null,[bP.TryParseBool(es.$0,{get:function(){return eu;},set:function(ev){eu=ev;}}),eu]),et[0]?[[c8.New(es.$1,er.QueryArgs,er.FormData,er.Method,er.Body),et[1]]]:[]):[];},function(er){return{$:1,$0:[c8.Segment$2(er?"True":"False")]};});dQ.rWildcard=dr.New$1(function(er){return[[c8.New(cA.Empty,er.QueryArgs,er.FormData,er.Method,er.Body),bh.concat("/",er.Segments)]];},function(er){return{$:1,$0:[c8.Segment$2(er)]};});dQ.rDateTime=dr.New$1(function(er){var es,et,eu,ev,ew,ex,ey,ez,eA;es=er.Segments;return es.$==1?(et=es.$0,et.length===19&&et[4]==="-"&&et[7]==="-"&&et[10]==="-"&&et[13]==="."&&et[16]==="."?(eu=eq(b3.string(et,{$:1,$0:0},{$:1,$0:3})),(ev=eq(b3.string(et,{$:1,$0:5},{$:1,$0:6})),(ew=eq(b3.string(et,{$:1,$0:8},{$:1,$0:9})),(ex=eq(b3.string(et,{$:1,$0:11},{$:1,$0:12})),(ey=eq(b3.string(et,{$:1,$0:14},{$:1,$0:15})),(ez=eq(b3.string(et,{$:1,$0:17},{$:1,$0:18})),eu!=null&&eu.$==1&&(ev!=null&&ev.$==1&&(ew!=null&&ew.$==1&&(ex!=null&&ex.$==1&&(ey!=null&&ey.$==1&&(ez!=null&&ez.$==1&&(eA=[ew.$0,ex.$0,ev.$0,ey.$0,ez.$0,eu.$0],true))))))?[[c8.New(es.$1,er.QueryArgs,er.FormData,er.Method,er.Body),(new em(eA[5],eA[2]-1,eA[0],eA[1],eA[3],eA[4])).getTime()]]:[])))))):[]):[];},function(er){var es,et;function eu(ev){var ew;ew=a.String(ev);return ew.length===1?"0"+ew:ew;}return{$:1,$0:[c8.Segment$2((es=a.String((new em(er)).getFullYear()),(et=es.length,et===1?"000"+es:et===2?"00"+es:et===3?"0"+es:es))+"-"+eu((new em(er)).getMonth()+1)+"-"+eu((new em(er)).getDate())+"-"+eu((new em(er)).getHours())+"."+eu((new em(er)).getMinutes())+"."+eu((new em(er)).getSeconds()))]};});};dR.OfArray=function(eq){return new cw.New$1(cz.OfSeq(ba.map(function(er){return dt.New(er[0],er[1]);},eq)));};dR.FoldBack=function(eq,er,es){return ba.fold(function(et,eu){return eq(eu.Key,eu.Value,et);},es,cz.Enumerate(true,er.get_Tree()));};dR.ToSeq=function(eq){return ba.map(function(er){return[er.Key,er.Value];},cz.Enumerate(false,eq.get_Tree()));};dS=f.OperationCanceledException=ei.Class({},c2,dS);dS.New=ei.Ctor(function(eq){dS.New$1.call(this,"The operation was canceled.",null,eq);},dS);dS.New$1=ei.Ctor(function(eq,er,es){this.message=eq;this.inner=er;cI.setPrototypeOf(this,dS.prototype);this.ct=es;},dS);dT.Clear=function(eq){eq.splice(0,R.length(eq));};dU=h.DynamicAttrNode=ei.Class({NChanged:function(){return this.updates;},NGetExitAnim:function(eq){return dJ.get_Empty();},NGetEnterAnim:function(eq){return dJ.get_Empty();},NGetChangeAnim:function(eq){return dJ.get_Empty();},NSync:function(eq){if(this.dirty){(this.push(eq))(this.value);this.dirty=false;}}},g,dU);dU.New=ei.Ctor(function(eq,er){var es;es=this;g.New.call(this);this.push=er;this.value=void 0;this.dirty=false;this.updates=p.Map(function(et){es.value=et;es.dirty=true;},eq);},dU);dV.$cctor=function(){dV.$cctor=a.ignore;dV.EmptyAttr=null;};dW=f.AggregateException=ei.Class({},c2,dW);dW.New$3=ei.Ctor(function(eq){dW.New$4.call(this,"One or more errors occurred.",eq);},dW);dW.New$4=ei.Ctor(function(eq,er){this.message=eq;cI.setPrototypeOf(this,dW.prototype);this.innerExceptions=er;},dW);dX=dA.ArrayStorage=ei.Class({SSetAt:function(eq,er,es){R.set(es,eq,er);return es;},SAppend:function(eq,er){er.push(eq);return er;}},g,dX);dX.New=ei.Ctor(function(eq){g.New.call(this);this.init=eq;},dX);ba.enumUsing=function(eq,er){return{GetEnumerator:function(){var es;try{es=cx.Get(er(eq));}catch(et){eq.Dispose();throw et;}return new cy.New(null,null,function(eu){return es.MoveNext()&&(eu.c=es.Current(),true);},function(){es.Dispose();eq.Dispose();});}};};ba.enumWhile=function(eq,er){return{GetEnumerator:function(){return new cy.New(null,null,function(es){var et;while(true){et=es.s;if(H.Equals(et,null)){if(eq()){es.s=cx.Get(er);es=es;}else return false;}else if(et.MoveNext()){es.c=et.Current();return true;}else{et.Dispose();es.s=null;es=es;}}},function(es){var et;et=es.s;!H.Equals(et,null)?et.Dispose():void 0;});}};};dY=be.KeyCollection=ei.Class({GetEnumerator$1:function(){return cx.Get(ba.map(function(eq){return eq.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},g,dY);dY.New=ei.Ctor(function(eq){g.New.call(this);this.d=eq;},dY);dZ=h.Updates=ei.Class({},null,dZ);dZ.Create=function(eq){var er;er=null;er=dZ.New(eq,null,function(){var es;es=er.s;return es===null?(es=_3.Copy(er.c()),er.s=es,_3.WhenObsoleteRun(es,function(){er.s=null;}),es):es;});return er;};dZ.New=function(eq,er,es){return new dZ({c:eq,s:er,v:es});};d1.New=function(eq,er){return{PreviousNodes:eq,Top:er};};d2.get_Empty=function(){return{$:0,$0:new bS.New$3()};};d2.FindAll=function(eq){var er;function es(eu){if(eu!=null&&eu.$==0){es(eu.$0);es(eu.$1);}else if(eu!=null&&eu.$==1)et(eu.$0);else if(eu!=null&&eu.$==2)es(eu.$0.Current);else if(eu!=null&&eu.$==6)R.iter(et,eu.$0.Holes);}function et(eu){er.push(eu);es(eu.Children);}er=[];es(eq);return{$:0,$0:new bS.New$2(er)};};d2.Filter=function(eq,er){return{$:0,$0:ee.Filter(eq,er.$0)};};d2.Except=function(eq,er){return{$:0,$0:ee.Except(eq.$0,er.$0)};};d2.ToArray=function(eq){return ee.ToArray(eq.$0);};d2.Intersect=function(eq,er){return{$:0,$0:ee.Intersect(eq.$0,er.$0)};};d3.UseAnimations=function(){d$.$cctor();return d$.UseAnimations;};d3.Actions=function(eq){return d3.ConcatActions(R.choose(function(er){return er.$==1?{$:1,$0:er.$0}:null;},ea.ToArray(eq.$0)));};d3.Finalize=function(eq){R.iter(function(er){if(er.$==0)er.$0();},ea.ToArray(eq.$0));};d3.ConcatActions=function(eq){var er,es,et,eu;er=cK.ofSeqNonCopying(eq);es=R.length(er);return es===0?d3.Const():es===1?R.get(er,0):(et=ba.max(ba.map(function(ev){return ev.Duration;},er)),(eu=R.map(function(ev){return d3.Prolong(et,ev);},er),d3.Def(et,function(ev){R.iter(function(ew){ew.Compute(ev);},eu);})));};d3.List=function(eq){return eq.$0;};d3.Const=function(eq){return d3.Def(0,function(){return eq;});};d3.Def=function(eq,er){return{Compute:er,Duration:eq};};d3.Prolong=function(eq,er){var es,et,eu;es=er.Compute;et=er.Duration;eu=r.Create(function(){return er.Compute(er.Duration);});return{Compute:function(ev){return ev>=et?eu.f():es(ev);},Duration:eq};};d4.$cctor=function(){d4.$cctor=a.ignore;d4.BatchUpdatesEnabled=true;};d5.IsUpper=function(eq){return eq>="A"&&eq<="Z";};d5.Parse=function(eq){return eq.length===1?eq:o.FailWith("String must be exactly one character long.");};d5.IsWhiteSpace=function(eq){return eq.match(new a.RegExp("\\s"))!==null;};d6.Activate=function(eq){var er,et,eu,ev,ew,ex,ey;function es(ez){var eA,eB,eC,eD,eE;if(H.Equals(ez,null))return ez;else if(typeof ez=="object"){if(ez instanceof a.Array)return d6.shallowMap(es,ez);else{eA=d6.shallowMap(es,ez.$V);eB=ez.$T;if(eB===void 0)return eA;else{eC=R.get(et,eB);if(eC===1)return bx.ofArray(eA);else if(eC===2)return self.WebSharper.Decimal.CreateDecimalBits(eA);else{eD=new(R.get(et,eB))();for(var eF in eA)if(function(eG){eD[eG]=eA[eG];return false;}(eF))break;return eD;}}}}else return ez;}et=eq?eq.$TYPES:void 0;if(et===void 0)er=eq;else{for(eu=0,ev=R.length(et)-1;eu<=ev;eu++){ey=R.get(et,eu);switch(!H.Equals(ey,null)&&ey.length===3?R.get(ey,0)==="WebSharper"?R.get(ey,1)==="List"?R.get(ey,2)==="T"?0:(ex=ey,2):(ex=ey,2):(ex=ey,2):!H.Equals(ey,null)&&ey.length===2?R.get(ey,0)==="WebSharper"?R.get(ey,1)==="Decimal"?1:(ex=ey,2):(ex=ey,2):(ex=ey,2)){case 0:ew=1;break;case 1:ew=2;break;case 2:ew=d6.lookup(ex);break;}R.set(et,eu,ew);}er=eq.$DATA;}return es(er);};d6.shallowMap=function(eq,er){var es,et;if(er instanceof a.Array)return R.map(eq,er);else if(typeof er=="object"){es={};for(var eu in er)if(function(ev){es[ev]=eq(er[ev]);return false;}(eu))break;return es;}else return er;};d6.lookup=function(eq){var er,es,et,eu,ev;et=R.length(eq);er=self;es=0;while(es<et){eu=R.get(eq,es);ev=er[eu];!H.Equals(typeof ev,void 0)?(er=ev,es=es+1):o.FailWith("Invalid server reply. Failed to find type: "+eu);}return er;};d7=f.FormatException=ei.Class({},c2,d7);d7.New$1=ei.Ctor(function(eq){this.message=eq;cI.setPrototypeOf(this,d7.prototype);},d7);dr.New=function(eq,er){return{Parse:eq,Segment:er};};d8.read=function(eq){var er;er=[];return function(es){var et;while(true){et=d8.readEscapedFromChars(es);if(et[0]===-2)return null;else if(et[0]===-1)return{$:1,$0:(function(eu){return function(ev){return bh.concat(eu,ev);};}(""))(er)};else{er.push(ep.fromCharCode(et[0]));es=et[1];}}}(bx.ofSeq(ba.map(function(es){return es.charCodeAt();},eq)));};d8.write=function(eq){return bh.concat("",ba.mapi(function(er,es){return d8.writeEscapedAsString(er+1===eq.length,es);},eq));};d8.readEscapedFromChars=function(eq){var er,es,et,eu,ev,ew,ex,ey;function ez(){var eB,eC;return er.$==1?(eB=er.$1,(eC=er.$0,(er=eB,eC))):-1;}function eA(eB){return eB>="0".charCodeAt()&&eB<="9".charCodeAt()?eB-"0".charCodeAt():eB>="a".charCodeAt()&&eB<="f".charCodeAt()?eB-"a".charCodeAt()+10:eB>="A".charCodeAt()&&eB<="F".charCodeAt()?eB-"A".charCodeAt()+10:-2;}er=eq;return[(es=ez(),es==="~".charCodeAt()?(et=ez(),et==="u".charCodeAt()?(eu=ez(),(ev=ez(),(ew=ez(),(ex=ez(),eu>=0&&ev>=0&&ew>=0&&ex>=0?d8.op_PlusPlus(d8.op_PlusPlus(d8.op_PlusPlus(eA(eu),eA(ev)),eA(ew)),eA(ex)):-2)))):(ey=ez(),et>=0&&ey>=0?d8.op_PlusPlus(eA(et),eA(ey)):-2)):es),er];};d8.writeEscapedAsString=function(eq,er){var es;es=er.charCodeAt();return d8.isUnreserved(eq,er)?er:es<256?"~"+bh.PadLeftWith(es.toString(16),2,"0"):"~u"+bh.PadLeftWith(es.toString(16),4,"0");};d8.op_PlusPlus=function(eq,er){return(eq<<4)+er;};d8.isUnreserved=function(eq,er){return er==="-"||(er==="."?!eq:er==="_"||(er>="A"&&er<="Z"||(er>="a"&&er<="z"||er>="0"&&er<="9")));};bP.TryParseSByte=function(eq,er){return bP.TryParse(eq,-128,127,er);};bP.TryParseByte=function(eq,er){return bP.TryParse(eq,0,255,er);};bP.TryParseInt16=function(eq,er){return bP.TryParse(eq,-32768,32767,er);};bP.TryParseUInt16=function(eq,er){return bP.TryParse(eq,0,65535,er);};bP.TryParseUInt32=function(eq,er){return bP.TryParse(eq,0,4294967295,er);};bP.TryParseUInt64=function(eq,er){return bP.TryParse(eq,0,18446744073709551615,er);};d9.$cctor=function(){d9.$cctor=a.ignore;d9.Doc=self.document;};d_.isBlank=function(eq){return bh.forall(d5.IsWhiteSpace,eq);};d$.$cctor=function(){d$.$cctor=a.ignore;d$.CubicInOut=ed.Custom(function(eq){var er;er=eq*eq;return 3*er-2*(er*eq);});d$.UseAnimations=true;};ea.Append=function(eq,er){return eq.$==0?er:er.$==0?eq:{$:2,$0:eq,$1:er};};ea.ToArray=function(eq){var er;function es(et){if(et.$==1)er.push(et.$0);else if(et.$==2){es(et.$0);es(et.$1);}else if(et.$==3)R.iter(function(eu){er.push(eu);},et.$0);}er=[];es(eq);return er.slice(0);};ea.Concat=function(eq){var er;er=cK.ofSeqNonCopying(eq);return cK.TreeReduce(ea.Empty(),ea.Append,er);};ea.Empty=function(){eg.$cctor();return eg.Empty;};eb=be.LinkedListEnumerator=ei.Class({MoveNext:function(){this.c=this.c.n;return!H.Equals(this.c,null);},Current:function(){return this.c.v;},Dispose:a.ignore},g,eb);eb.New=ei.Ctor(function(eq){g.New.call(this);this.c=eq;},eb);ec.WriteLink=function(eq,er){var es;es=er.get_IsEmpty()?"":"?"+ec.WriteQuery(er);return"/"+ec.Concat(eq)+es;};ec.Concat=function(eq){var er,es;er=[];es=true;bx.iter(function(et){if(!bh.IsNullOrEmpty(et)){es?es=false:er.push("/");er.push(et);}},eq);return bh.Join("",R.ofSeq(er));};ec.WriteQuery=function(eq){function er(es,et){return es+"="+et;}return bh.concat("&",ba.map(function(es){return er(es[0],es[1]);},dR.ToSeq(eq)));};ed=h.Easing=ei.Class({},g,ed);ed.Custom=function(eq){return new ed.New(eq);};ed.New=ei.Ctor(function(eq){g.New.call(this);this.transformTime=eq;},ed);ee.Filter=function(eq,er){return new bS.New$2(R.filter(eq,ee.ToArray(er)));};ee.Except=function(eq,er){var es;es=new bS.New$2(ee.ToArray(er));es.ExceptWith(ee.ToArray(eq));return es;};ee.ToArray=function(eq){var er;er=R.create(eq.get_Count(),void 0);eq.CopyTo(er);return er;};ee.Intersect=function(eq,er){var es;es=new bS.New$2(ee.ToArray(eq));es.IntersectWith(ee.ToArray(er));return es;};ef.Children=function(eq,er){var es,et,eu;if(er!=null&&er.$==1){eu=[];es=er.$0[0].nextSibling;while(es!==er.$0[1]){eu.push(es);es=es.nextSibling;}return{$:0,$0:eu};}else return{$:0,$0:R.init(eq.childNodes.length,(et=eq.childNodes,function(ev){return et[ev];}))};};ef.Except=function(eq,er){var es;es=eq.$0;return{$:0,$0:R.filter(function(et){return R.forall(function(eu){return!(et===eu);},es);},er.$0)};};ef.Iter=function(eq,er){R.iter(eq,er.$0);};ef.DocChildren=function(eq){var er;function es(et){if(et!=null&&et.$==2)es(et.$0.Current);else if(et!=null&&et.$==1)er.push(et.$0.El);else if(et==null);else if(et!=null&&et.$==5)er.push(et.$0);else if(et!=null&&et.$==4)er.push(et.$0.Text);else if(et!=null&&et.$==6)R.iter(function(eu){if(eu==null||eu.constructor===cI)es(eu);else er.push(eu);},et.$0.Els);else{es(et.$0);es(et.$1);}}er=[];es(eq.Children);return{$:0,$0:cK.ofSeqNonCopying(er)};};eg.$cctor=function(){eg.$cctor=a.ignore;eg.Empty={$:0};};ei.OnLoad(function(){e.mainProgram();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
//# sourceMappingURL=ProzperServer.min.map
