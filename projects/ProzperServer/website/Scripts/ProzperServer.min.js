function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
var JSON;JSON||(JSON={}),function(){"use strict";function i(n){return n<10?"0"+n:n}function f(n){return o.lastIndex=0,o.test(n)?'"'+n.replace(o,function(n){var t=s[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function r(i,e){var s,l,h,a,v=n,c,o=e[i];o&&typeof o=="object"&&typeof o.toJSON=="function"&&(o=o.toJSON(i));typeof t=="function"&&(o=t.call(e,i,o));switch(typeof o){case"string":return f(o);case"number":return isFinite(o)?String(o):"null";case"boolean":case"null":return String(o);case"object":if(!o)return"null";if(n+=u,c=[],Object.prototype.toString.apply(o)==="[object Array]"){for(a=o.length,s=0;s<a;s+=1)c[s]=r(s,o)||"null";return h=c.length===0?"[]":n?"[\n"+n+c.join(",\n"+n)+"\n"+v+"]":"["+c.join(",")+"]",n=v,h}if(t&&typeof t=="object")for(a=t.length,s=0;s<a;s+=1)typeof t[s]=="string"&&(l=t[s],h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));else for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(h=r(l,o),h&&c.push(f(l)+(n?": ":":")+h));return h=c.length===0?"{}":n?"{\n"+n+c.join(",\n"+n)+"\n"+v+"}":"{"+c.join(",")+"}",n=v,h}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,u,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},t;typeof JSON.stringify!="function"&&(JSON.stringify=function(i,f,e){var o;if(n="",u="",typeof e=="number")for(o=0;o<e;o+=1)u+=" ";else typeof e=="string"&&(u=e);if(t=f,f&&typeof f!="function"&&(typeof f!="object"||typeof f.length!="number"))throw new Error("JSON.stringify");return r("",{"":i})});typeof JSON.parse!="function"&&(JSON.parse=function(n,t){function r(n,i){var f,e,u=n[i];if(u&&typeof u=="object")for(f in u)Object.prototype.hasOwnProperty.call(u,f)&&(e=r(u,f),e!==undefined?u[f]=e:delete u[f]);return t.call(n,i,u)}var i;if(n=String(n),e.lastIndex=0,e.test(n)&&(n=n.replace(e,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(n.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return i=eval("("+n+")"),typeof t=="function"?r({"":i},""):i;throw new SyntaxError("JSON.parse");})}();
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo;a=self;b=a.FsRoot=a.FsRoot||{};c=b.ProzperServer=b.ProzperServer||{};d=c.ClientSide=c.ClientSide||{};e=d.MainProgram=d.MainProgram||{};f=a.WebSharper=a.WebSharper||{};g=f.Obj=f.Obj||{};h=f.UI=f.UI||{};i=h.Var$1=h.Var$1||{};j=b.LibraryJS=b.LibraryJS||{};k=j.AppFramework=j.AppFramework||{};l=k.PlugIn=k.PlugIn||{};m=d.ModeloUI=d.ModeloUI||{};n=m.Aliado=m.Aliado||{};o=f.Operators=f.Operators||{};p=h.View=h.View||{};q=h.Var=h.Var||{};r=f.Lazy=f.Lazy||{};s=m.RenderAliados=m.RenderAliados||{};t=m.RenderAliado=m.RenderAliado||{};u=m.FormaRegistro=m.FormaRegistro||{};v=m.FormaDatos=m.FormaDatos||{};w=m.FormaContactos=m.FormaContactos||{};x=m.FormaFormasPago=m.FormaFormasPago||{};y=m.ReporteConsolidado=m.ReporteConsolidado||{};z=m.TablaPagos=m.TablaPagos||{};A=m.ListaDocs=m.ListaDocs||{};B=m.FormaAutorizacion=m.FormaAutorizacion||{};C=a.EventTarget;D=a.Node;E=f.JavaScript=f.JavaScript||{};F=E.JS=E.JS||{};G=f.Unchecked=f.Unchecked||{};H=j.LayoutEngineModule=j.LayoutEngineModule||{};I=f.Option=f.Option||{};J=c.TypesV0=c.TypesV0||{};K=J.Aliado=J.Aliado||{};L=c.Aliado=c.Aliado||{};M=h.Templating=h.Templating||{};N=M.Runtime=M.Runtime||{};O=N.Server=N.Server||{};P=O.TemplateInstance=O.TemplateInstance||{};Q=f.Arrays=f.Arrays||{};R=O.ProviderBuilder=O.ProviderBuilder||{};S=O.Handler=O.Handler||{};T=a.ProzperServer_Templates=a.ProzperServer_Templates||{};U=a.ProzperServer_GeneratedPrintf=a.ProzperServer_GeneratedPrintf||{};V=a.ProzperServer_Router=a.ProzperServer_Router||{};W=a.GeneratedPrintf=a.GeneratedPrintf||{};X=h.Doc=h.Doc||{};Y=m.Rpc=m.Rpc||{};Z=J.IdAliado=J.IdAliado||{};_0=J.Modelo=J.Modelo||{};_1=h.ConcreteVar=h.ConcreteVar||{};_2=h.Snap=h.Snap||{};_3=a.StartupCode$ProzperServer$ProzperServer=a.StartupCode$ProzperServer$ProzperServer||{};_4=h.ListModel=h.ListModel||{};_5=k.PlugInVar=k.PlugInVar||{};_6=k.PlugInView=k.PlugInView||{};_7=k.PlugInDoc=k.PlugInDoc||{};_8=E.Pervasives=E.Pervasives||{};_9=f.LazyExtensionsProxy=f.LazyExtensionsProxy||{};_=_9.LazyRecord=_9.LazyRecord||{};$=f.Seq=f.Seq||{};ba=b.Library=b.Library||{};bb=ba.SortWith=ba.SortWith||{};bc=L.Buscar=L.Buscar||{};bd=f.Collections=f.Collections||{};be=bd.FSharpSet=bd.FSharpSet||{};bf=bd.Set=bd.Set||{};bg=f.Strings=f.Strings||{};bh=J.CorreoElectronico=J.CorreoElectronico||{};bi=m.DatosPersonales=m.DatosPersonales||{};bj=m.CorreoElectronico=m.CorreoElectronico||{};bk=m.Telefono=m.Telefono||{};bl=m.Direccion=m.Direccion||{};bm=ba.Monads=ba.Monads||{};bn=bm.AsyncResultBuilder=bm.AsyncResultBuilder||{};bo=m.Refresh=m.Refresh||{};bp=a.System=a.System||{};bq=bp.Guid=bp.Guid||{};br=y.Fila=y.Fila||{};bs=m.VariousUI=m.VariousUI||{};bt=J.StatusAliado=J.StatusAliado||{};bu=f.Utils=f.Utils||{};bv=j.Date=j.Date||{};bw=f.List=f.List||{};bx=J.CuentaBancaria=J.CuentaBancaria||{};by=J.RoutingNumber=J.RoutingNumber||{};bz=J.NumeroCuenta=J.NumeroCuenta||{};bA=J.FormaPago=J.FormaPago||{};bB=bm.Result=bm.Result||{};bC=m.FormaFirma=m.FormaFirma||{};bD=J.PremisasCalculo=J.PremisasCalculo||{};bE=k.PlugInAction=k.PlugInAction||{};bF=d.Msal=d.Msal||{};bG=bm.Extensions=bm.Extensions||{};bH=a.WindowOrWorkerGlobalScope;bI=j.LayoutEngine=j.LayoutEngine||{};bJ=a.StartupCode$LayoutEngine$LayoutEngine=a.StartupCode$LayoutEngine$LayoutEngine||{};bK=J.IdForAuthorize=J.IdForAuthorize||{};bL=J.DatosPersonales=J.DatosPersonales||{};bM=J.DiaPago=J.DiaPago||{};bN=J.TipoAliado=J.TipoAliado||{};bO=f.Numeric=f.Numeric||{};bP=bd.List=bd.List||{};bQ=bd.Dictionary=bd.Dictionary||{};bR=bd.HashSet=bd.HashSet||{};bS=N.Client=N.Client||{};bT=h.Abbrev=h.Abbrev||{};bU=bT.Async=bT.Async||{};bV=bT.Fresh=bT.Fresh||{};bW=bB.Builder=bB.Builder||{};bX=bB.BuilderP=bB.BuilderP||{};bY=bm.Eff=bm.Eff||{};bZ=bY.EffBuilder=bY.EffBuilder||{};b0=bm.AsyncResultBuilderP=bm.AsyncResultBuilderP||{};b1=ba.String=ba.String||{};b2=f.Slice=f.Slice||{};b3=ba.ParseO=ba.ParseO||{};b4=ba.Serializer=ba.Serializer||{};b5=j.Msal=j.Msal||{};b6=b5.Policy=b5.Policy||{};b7=J.Telefono=J.Telefono||{};b8=J.TipoTelefono=J.TipoTelefono||{};b9=J.Direccion=J.Direccion||{};b_=J.TipoDireccion=J.TipoDireccion||{};b$=J.Estado=J.Estado||{};ca=J.Pais=J.Pais||{};cb=J.ZonaPostal=J.ZonaPostal||{};cc=J.TarjetaCredito=J.TarjetaCredito||{};cd=J.Expiracion=J.Expiracion||{};ce=J.NumeroTarjeta=J.NumeroTarjeta||{};cf=J.TipoTarjeta=J.TipoTarjeta||{};cg=J.TipoCuenta=J.TipoCuenta||{};ch=J.Genero=J.Genero||{};ci=f.Remoting=f.Remoting||{};cj=b5.Configuration=b5.Configuration||{};ck=b5.AuthOptions=b5.AuthOptions||{};cl=f.Control=f.Control||{};cm=cl.MailboxProcessor=cl.MailboxProcessor||{};cn=ba.Mailbox=ba.Mailbox||{};co=m.EndPoint=m.EndPoint||{};cp=h.Router=h.Router||{};cq=h.ViewBuilder=h.ViewBuilder||{};cr=c.Remoting=c.Remoting||{};cs=c.Rpc=c.Rpc||{};ct=J.IdPayment=J.IdPayment||{};cu=k.PlugInQuery=k.PlugInQuery||{};cv=bd.FSharpMap=bd.FSharpMap||{};cw=f.Enumerator=f.Enumerator||{};cx=cw.T=cw.T||{};cy=bd.BalancedTree=bd.BalancedTree||{};cz=bw.T=bw.T||{};cA=bm.AsyncResult=bm.AsyncResult||{};cB=ci.AjaxRemotingProvider=ci.AjaxRemotingProvider||{};cC=ba.Array=ba.Array||{};cD=h.HtmlModule=h.HtmlModule||{};cE=cD.attr=cD.attr||{};cF=m.CuentaBancaria=m.CuentaBancaria||{};cG=m.TarjetaCredito=m.TarjetaCredito||{};cH=a.Object;cI=h.FromView=h.FromView||{};cJ=h.Array=h.Array||{};cK=f.Concurrency=f.Concurrency||{};cL=a.Blob;cM=h.AttrModule=h.AttrModule||{};cN=a.LayoutEngine_Templates=a.LayoutEngine_Templates||{};cO=a.LayoutEngine_GeneratedPrintf=a.LayoutEngine_GeneratedPrintf||{};cP=j.WebComponent=j.WebComponent||{};cQ=cP.WcTabStrip=cP.WcTabStrip||{};cR=cQ.WcTabStripT=cQ.WcTabStripT||{};cS=cP.WcSplitter=cP.WcSplitter||{};cT=bd.DictionaryUtil=bd.DictionaryUtil||{};cU=h.AttrProxy=h.AttrProxy||{};cV=h.CheckedInput=h.CheckedInput||{};cW=h.Client=h.Client||{};cX=cW.Templates=cW.Templates||{};cY=f.DateUtil=f.DateUtil||{};cZ=a.StartupCode$WebSharper_Main$Remoting=a.StartupCode$WebSharper_Main$Remoting||{};c0=j.Pojo=j.Pojo||{};c1=a.Error;c2=f.TimeoutException=f.TimeoutException||{};c3=E.Promise=E.Promise||{};c4=f.Sitelets=f.Sitelets||{};c5=c4.RouterOperators=c4.RouterOperators||{};c6=c4.RouterModule=c4.RouterModule||{};c7=c4.Route=c4.Route||{};c8=cr.CustomXhrProvider=cr.CustomXhrProvider||{};c9=bd.MapUtil=bd.MapUtil||{};c_=cy.Tree=cy.Tree||{};c$=J.IdAddress=J.IdAddress||{};da=h.Docs=h.Docs||{};db=cK.AsyncBody=cK.AsyncBody||{};dc=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};dd=cK.CT=cK.CT||{};de=H.Layout=H.Layout||{};df=h.Attrs=h.Attrs||{};dg=h.DomUtility=h.DomUtility||{};dh=cS.WcSplitterT=cS.WcSplitterT||{};di=h.DocElemNode=h.DocElemNode||{};dj=a.CharacterData;dk=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};dl=ci.XhrProvider=ci.XhrProvider||{};dm=cl.FSharpEvent=cl.FSharpEvent||{};dn=bd.LinkedList=bd.LinkedList||{};_do=b5.AuthenticationParameters=b5.AuthenticationParameters||{};dp=b5.Account=b5.Account||{};dq=c4.Router=c4.Router||{};dr=c4.List=c4.List||{};ds=bd.Pair=bd.Pair||{};dt=f.Result=f.Result||{};du=cK.Scheduler=cK.Scheduler||{};dv=f.CancellationTokenSource=f.CancellationTokenSource||{};dw=H.Measures=H.Measures||{};dx=j.Hoverable=j.Hoverable||{};dy=dx.Hoverable=dx.Hoverable||{};dz=h.Storage=h.Storage||{};dA=a.Event;dB=a.UIEvent;dC=j.ResizeObserver=j.ResizeObserver||{};dD=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};dE=h.Elt=h.Elt||{};dF=cW.Attrs=cW.Attrs||{};dG=dF.Dyn=dF.Dyn||{};dH=cX.Prepare=cX.Prepare||{};dI=h.An=h.An||{};dJ=cW.Settings=cW.Settings||{};dK=bT.Mailbox=bT.Mailbox||{};dL=bd.HashSetUtil=bd.HashSetUtil||{};dM=cl.Event=cl.Event||{};dN=dM.Event=dM.Event||{};dO=E.NonStandardPromiseRejectionException=E.NonStandardPromiseRejectionException||{};dP=a.StartupCode$WebSharper_Sitelets$Router=a.StartupCode$WebSharper_Sitelets$Router||{};dQ=bd.Map=bd.Map||{};dR=f.OperationCanceledException=f.OperationCanceledException||{};dS=f.Queue=f.Queue||{};dT=h.DynamicAttrNode=h.DynamicAttrNode||{};dU=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};dV=f.AggregateException=f.AggregateException||{};dW=dz.ArrayStorage=dz.ArrayStorage||{};dX=bd.KeyCollection=bd.KeyCollection||{};dY=h.Updates=h.Updates||{};dZ=cW.Docs=cW.Docs||{};d0=dZ.RunState=dZ.RunState||{};d1=dZ.NodeSet=dZ.NodeSet||{};d2=h.Anims=h.Anims||{};d3=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};d4=f.Char=f.Char||{};d5=f.Json=f.Json||{};d6=f.FormatException=f.FormatException||{};d7=c4.StringEncoding=c4.StringEncoding||{};d8=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};d9=h.String=h.String||{};d_=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};d$=h.AppendList=h.AppendList||{};ea=bd.LinkedListEnumerator=bd.LinkedListEnumerator||{};eb=c4.PathUtil=c4.PathUtil||{};ec=h.Easing=h.Easing||{};ed=bT.HashSet=bT.HashSet||{};ee=dZ.DomNodes=dZ.DomNodes||{};ef=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};eg=a.IntelliFactory;eh=eg&&eg.Runtime;ei=a.Math;ej=a.jQuery;ek=a.console;el=a.Date;em=a.JSON;en=a.Reflect;eo=a.String;e.mainProgram=function(){var ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH;ep=i.Create$1(e.appName());eq=p.Map(function(eI){return e.mesToString(eI.periodoActual);},m.modeloV().get_View());er=p.Map(function(eI){return a.String(eI.anoActual);},m.modeloV().get_View());es=p.Map(function(eI){return L.nombre2(eI.datosPersonales);},m.aliadoW());et=p.Map(function(eI){return eI.id.get_Id();},m.aliadoW());eu=p.Map(function(eI){return a.String(eI.status);},m.aliadoW());ev=p.Map(function(eI){return a.String(eI.comision);},m.aliadoW());ew=p.Map(function(eI){return a.String(eI.nReferidos);},m.aliadoW());k.addPlugIn(l.New(e.appName(),[k.newVar("title",ep),k.newVar("contentVar",m.contentVar()),k.newVar("invitaciones",m.invitacionesV()),k.newVar("influencer",e.influencerV())],[k.newViw("mesActual",eq),k.newViw("anoActual",er),k.newViw("aliado",es),k.newViw("idAliado",et),k.newViw("status",eu),k.newViw("comision",ev),k.newViw("datos",ew),k.newViw("emailsInvitar",m.emailsInvitarW()),k.newViw("invitacionesDisabled",m.invitacionesDisabledW()),k.newViw("VideoW",p.Map(function(eI){return eI.$==5?eI.$0:"";},m.endPointV().get_View())),k.newViw("influencerClassW",e.influencerClassW())],[k.newDoc("Aliados",r.Create(s.aliados)),k.newDoc("Aliado",r.Create(t.aliado)),k.newDoc("Calculo",r.Create(t.calculo)),k.newDoc("FormaRegistro",r.Create(u.formaDoc)),k.newDoc("FormaDatos",r.Create(v.formaDoc)),k.newDoc("FormaContactos",r.Create(w.formaDoc)),k.newDoc("FormaFormasPago",r.Create(x.formaDoc)),k.newDoc("contentDoc",r.Create(e.getContentDoc)),k.newDoc("ReporteConsolidado",r.Create(y.consolidado)),k.newDoc("TablaPagos",r.Create(z.comisiones)),k.newDoc("ListaDocs",r.Create(A.listaDocs)),k.newDoc("FormaAutorizacion",r.Create(B.formaAutorizacion))],[k.newAct("Logout",function(){e.logout();}),k.newAct("LogIn",function(){e.login();}),k.newAct("enviarInvitaciones",function(){e.enviarCorreosInvitacion();}),k.newAct("gotoInfluencer",function(){e.gotoInfluencer();})],[]));H.addLayout((ex=(ey=self.document.getElementById("GlobalLayout"),G.Equals(ey,null)?"\r\n                            menuEditor layout\r\n                            |          main\r\n            \r\n                            main div \"\"\r\n                            :                 template  header     \"id=header\"           brand  brandV   logout \"@{Prozper.Logout}\" afiliado \"@{Prozper.aliado}\"\r\n                            :                 Doc       Prozper.contentDoc\r\n                            :                 template  sidedrawer \"id=sidedrawer\"       brand  brandV   idaliado \"@{Prozper.idAliado}\" \r\n                            :                 template  footer     \"id=footer\"           brand  brandV   madeby \"CIPHER Bsc\" madebylink \"www.cipherbsc.com\"\r\n             \r\n                            mainContent          template  content    \"id=content-wrapper\"  content aliados                  fecha \"@{Prozper.mesActual} @{Prozper.anoActual}\" idaliado \"@{Prozper.aliado}\"\r\n                            cntFormaRegistro     template  content    \"id=content-wrapper\"  content Prozper.FormaRegistro    titulo \"Referido por: @{Prozper.aliado}\"  \r\n                            cntFormaDatos        template  content    \"id=content-wrapper\"  content Prozper.FormaDatos       titulo \" \"\r\n                            cntFormaContactos    template  content    \"id=content-wrapper\"  content Prozper.FormaContactos   titulo \" \" \r\n                            cntFormaFormasPago   template  content    \"id=content-wrapper\"  content Prozper.FormaFormasPago  titulo \" \" \r\n                            cntFormaCuentas      template  content    \"id=content-wrapper\"  content ProzperLyt.FormaCuentas  titulo \" \"  \r\n                            cntFormaDocumentos   template  content    \"id=content-wrapper\"  content Prozper.FormaDocumentos  titulo \" \"  \r\n                            cntFormaNoUser       template  content    \"id=content-wrapper\"  content botonLogin               titulo \" \"  \r\n                            cntFormaInvitaciones template  content    \"id=content-wrapper\"  content invitaciones             titulo \" \"  \r\n            \r\n                            aliados          div       \"class=row\"\r\n                            :                div       \"class=mui-col-md-6\"\r\n                            ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" Prozper.Aliados\r\n                            :                div       \"class=mui-col-md-6\"\r\n                            ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" Aliado Comisiones\r\n                            brandV           Var       \"Prozper\"\r\n            \r\n                            botonLogin       div       \"class=row\"\r\n                            :                div       \"class=mui-col-md-6\"\r\n                            ::               div       \"class=mui-panel mui--z5 scrollbar;max-height:550px;overflow:auto\" \r\n                            :::              button    Prozper.LogIn \"class=mui-btn mui-btn--primary\" \"Ingresar al Sistema\"\r\n            \r\n                            invitaciones     div       \"class=row\"\r\n                            :                div       \"class=mui-col-md-6 mui-col-md-offset-1\"\r\n                            ::               div       \"class=mui-panel mui--z5 scrollbar; max-height:550px ; overflow:auto\" \r\n                            :::              h1        \"\" \"Enviar Invitaciones\"\r\n                            :::              textarea  Prozper.invitaciones  \"width:100% ; height:30rem; placeholder=Copie aqui las direcciones de correo electronico\" \r\n                            :                div       \"white-space: pre-wrap\" \"@{Prozper.emailsInvitar}\"\r\n                            :                button    Prozper.enviarInvitaciones \"class=mui-btn mui-btn--raised mui-btn--primary;@{Prozper.invitacionesDisabled}\" \"Enviar\"\r\n            \r\n                            Aliado           div       \"class=mui-col-md-8\"\r\n                            :                Doc Prozper.Aliado\r\n            \r\n                            Comisiones       template    tablacomisiones \"class=mui-col-md-3\"  tbody filasComisiones\r\n                            filasComisiones  concat      \"\"\r\n                            :                template    filacomision    \"\"  periodo \"Ene 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Feb 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Mar 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Abr 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"May 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Jun 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Jul 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Ago 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Sep 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Oct 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Nov 2018\" comision \"$1,000\"\r\n                            :                template    filacomision    \"\"  periodo \"Dec 2018\" comision \"$1,000\"\r\n                    \r\n                            menuEditorx      horizontal  65          menuLogo                  editorMessages\r\n                            double           horizontal  0-50-100    AppFramework.AppFwkClient menuEditor\r\n                            menuLogo         vertical    350         logo                      menu\r\n                            logo             span       \"margin:0;   color:gray; font-size: 55px; font-weight:530\" \"StackOverflow\"\r\n                            editorMessages   horizontal  10-83-100   editorButtons             messages\r\n                            messages         vertical    0-50-100    messagesLeft              messagesRight\r\n                            editorButtons    vertical    150 buttons snippetsSnippet \r\n                            snippetsSnippet  vertical    0-20-100    snippets                  editorProperties\r\n                            snippets         horizontal  20          \"@{FSharpStation.CurrentPath}\" tblDimensions2\r\n                            editorProperties vertical    0-100-100   snippet                   properties\r\n                            properties       div        \"\"           FSharpStation.Properties\r\n                            snippet          horizontal  35          Name                      FSharpStation.editor\r\n                            menu             span       \"display: grid; grid-template-columns: 30% 20% 20% 10%; grid-gap: 25px; margin:5px; grid-template-rows:50px\" inpServer btnLoad btnSaveAs\r\n                             \r\n                            severalTabs      wcomp-tabstrip  \"\" \r\n                            :                div \"tabname=Dimensions\" \r\n                            ::               div \"\" btnAddDimension RuleEditor.Dimensions\r\n                            :                div \"tabname=Cubes\"\r\n                            :                div \"tabname=Global Definitions\" RuleEditor.globalDefs\r\n                    \r\n                            btnSaveAs        button RuleEditor.SaveAs         \"class=btn @{RuleEditor.SaveNeeded}\" \"Save as...    \"\r\n                            btnAddDimension  button RuleEditor.AddDimension      \"\"                  \"new dim...\"\r\n                            btnDeleteSnippet button FSharpStation.RemoveSnippet  \"\"                  \"Delete Snippet\"\r\n                            btnIndentIn      button FSharpStation.IndentIn       \"\"                  \"Indent In  >> \"\r\n                            btnIndentOut     button FSharpStation.IndentOut      \"\"                  \"Indent Out << \"\r\n                            btnRunFS         button FSharpStation.RunFS          \"\"                  \"Run F#        \"\r\n                            btnAbortFsi      button FSharpStation.AbortFsi       \"\"                  \"Abort Fsi     \"\r\n                    \r\n                            messagesLeft     wcomp-tabstrip                      \"\"                  Output FsCode\r\n                            messagesRight    wcomp-tabstrip                      \"\"                  Parser\r\n                    \r\n                            buttons          div \"overflow: hidden; display: grid; grid-template-columns: 100%; grid-template-rows: repeat(15, calc(100% / 15)); bxackground-color: #eee; box-sizing: border-box; padding : 5px; grid-gap: 5px; margin-right: 21px\"\r\n                            :                button RuleEditor.AddCalculation    \"\"                 \"Add Calculation\"\r\n                            :                button RuleEditor.AddTotal          \"\"                 \"Add Total\"\r\n                            :                Doc       none x\r\n                            :                button RuleEditor.IndentIn          \"\"                  \"Indent In  >> \"\r\n                            :                button RuleEditor.IndentOut         \"\"                  \"Indent Out << \"\r\n                    \r\n                            Output           textarea  RuleEditor.Output         \"tabname=Output ; placeholder=Output messages ; spellcheck=false\" \r\n                            FsCode           textarea  RuleEditor.CodeFS         \"tabname=F# Code; placeholder=F# Code         ; spellcheck=false\" \r\n                            Parser           textarea  RuleEditor.Parser         \"tabname=Parser ; placeholder=Parser messages; dblclick=@{FSharpStation.JumpTo} ; spellcheck=false\" \r\n                            Name             Doc       InputLabel                \"\"     \"Name:\"        FSharpStation.SnippetName\r\n                            inpServer        Doc       InputLabel                \"\"     \"Server:\"      RuleEditor.Server\r\n                            btnLoad          Doc       InputFile                 \"\"     \"Load File...\" RuleEditor.LoadFile  FileName\r\n                            btnImport        Doc       InputFile                 \"\"     \"Import...\"    FSharpStation.Import    \"\"\r\n                            FileName         div                                 \"class=form-control\"  RuleEditor.fileName\r\n            \r\n                       ":ey.textContent),H.newLyt(e.layoutName(),ex)));ez=(eA=null,(eB=e.layoutName(),eA==null?eB:eA.$0));k.mainDocV().Set(ez);X.BindView(function(eI){var eJ,eK,eL;return G.Equals(eI.id,L.empty().id)?(eJ=R.Make(),(eK=S.CompleteHoles(eJ.k,eJ.h,[]),(eL=new P.New(eK[1],T.opcionesadministrador(eK[0])),(eJ.i=eL,eL)))).get_Doc():X.get_Empty();},m.aliadoW());eC=(eD=(eE=e.getDocView(e.layoutName(),"headerCenter"),(eF=e.getMenuDoc(),(eG=e.getContentDoc(),R.Make().WithHole({$:0,$0:"maincontent",$1:eG})).WithHole({$:0,$0:"menu",$1:eF})).WithHole({$:0,$0:"headercenter",$1:eE})),eD.WithHole(S.EventQ2(eD.k,"logout",function(){return eD.i;},function(){e.logout();}))).WithHole({$:2,$0:"cortina",$1:p.Map(function(eI){return eI>0?"mui-overlay":"not-mui-overlay";},Y.llamadas().get_View())});eH=S.CompleteHoles(eC.k,eC.h,[]);eC.i=new P.New(eH[1],cX.RunFullDocTemplate(eH[0]));p.Sink(function(eI){self.document.title=eI;},ep.get_View());};e.appName=function(){_3.$cctor();return _3.appName;};e.influencerV=function(){_3.$cctor();return _3.influencerV;};e.influencerClassW=function(){_3.$cctor();return _3.influencerClassW;};e.getContentDoc=function(){return X.EmbedView(p.Map(function(ep){return e.getDoc(e.appName(),ep);},m.contentVar().get_View()));};e.logout=function(){bF.logout();};e.login=function(){bF.logout();};e.enviarCorreosInvitacion=function(){var ep;Y.iterA((ep=bm.asyncResult(),ep.Run(ep.Delay(function(){return bG["AsyncResultBuilder.Bind"](ep,p.GetAsync(m.emailsInvitarW()),function(eq){return bG["AsyncResultBuilder.Bind"](ep,p.GetAsync(p.Map(function(er){return er.id.get_Id();},m.aliadoW())),function(){var er;er=Q.filter(function(es){return bg.Trim(es)!=="";},bg.SplitChars(eq,["\n"],0));return ep.Bind$1(Y.enviarCorreosInvitacion("Invitacion a Prozper",er),function(){var es;es=Q.length(er);return es===0?(a.alert("Ningun correo valido ha sido encontrado"),ep.Zero()):es===1?(a.alert("Invitacion ha sido enviada"),ep.Zero()):(a.alert("Invitaciones han sido enviadas"),ep.Zero());});});});}))));};e.gotoInfluencer=function(){var ep;cK.Start((ep=null,cK.Delay(function(){return cK.Bind(Y.obtenerIdInfluyente(e.influencerV().Get()),function(eq){return eq.$==0?(self.location.href="/Register/"+e.influencerV().Get(),cK.Zero()):(self.alert("Código inválido:"+e.influencerV().Get()),cK.Zero());});})),null);};e.layoutName=function(){_3.$cctor();return _3.layoutName;};e.getMenuDoc=function(){return X.EmbedView(p.Map2(function(ep,eq){var er;er=ep!=null&&ep.$==1?G.Equals(eq.id,L.empty().id)?"ProzperLyt.mnuAdministrador":"ProzperLyt.mnuUsuario":"ProzperLyt.mnuNoUsuario";return e.getDoc(e.appName(),er);},bF.userO().get_View(),m.aliadoW()));};e.getDocView=function(ep,eq){return H.turnToView(function(){return e.getDoc(ep,eq);});};e.mesToString=function(ep){return ep===1?"Ene":ep===2?"Feb":ep===3?"Mar":ep===4?"Abr":ep===5?"May":ep===6?"Jun":ep===7?"Jul":ep===8?"Ago":ep===9?"Sep":ep===10?"Oct":ep===11?"Nov":ep===12?"Dic":"---";};e.getDoc=function(ep,eq){var er,es,et;er=(es=(et=((H.splitName())(ep))(eq),k.tryGetDoc(et[0],et[1])),es==null?null:{$:1,$0:H.getDocFinal(cz.Empty,es.$0)});return er==null?H.errDoc((function(eu){return function(ev){return eu("Doc not found "+bu.toSafe(ev));};}(a.id))(eq)):er.$0;};g=f.Obj=eh.Class({Equals:function(ep){return this===ep;},GetHashCode:function(){return -1;}},null,g);g.New=eh.Ctor(function(){},g);i=h.Var$1=eh.Class({},g,i);i.Create$1=function(ep){return new _1.New(false,_2.New({$:2,$0:ep,$1:[]}),ep);};i.Lens=function(ep,eq,er){var es,et,eu;es=bV.Id();et=p.Map(eq,ep.get_View());eu=new q({Get:function(){return eq(ep.Get());},Set:function(ev){return ep.Update(function(ew){return er(ew,ev);});},SetFinal:function(ev){return this.Set(ev);},Update:function(ev){return ep.Update(function(ew){return er(ew,ev(eq(ew)));});},UpdateMaybe:function(ev){return ep.UpdateMaybe(function(ew){var ex;ex=ev(eq(ew));return ex==null?null:{$:1,$0:er(ew,ex.$0)};});},get_View:function(){return et;},get_Id:function(){return es;}});q.New.call(eu);return eu;};i.Set=function(ep,eq){ep.Set(eq);};k.addPlugIn=function(ep){k.plugIns().Append(ep);k.mainDocV().Set(k.mainDocV().Get());};k.newVar=function(ep,eq){return _5.New(ep,eq);};k.newViw=function(ep,eq){return _6.New(ep,eq);};k.newDoc=function(ep,eq){return _7.New(ep,{$:0,$0:eq});};k.newAct=function(ep,eq){return bE.New(ep,{$:0,$0:eq},p.Const(true));};k.mainDocV=function(){bJ.$cctor();return bJ.mainDocV;};k.plugIns=function(){bJ.$cctor();return bJ.plugIns;};k.newDocF=function(ep,eq){return _7.New(ep,eq);};k.tryGetDoc=function(ep,eq){var er;er=k.tryGetPlugIn(ep);return er==null?null:Q.tryFind(function(es){return es.docName===eq;},er.$0.plgDocs);};k.tryGetAct=function(ep,eq){var er;er=k.tryGetPlugIn(ep);return er==null?null:Q.tryFind(function(es){return es.actName===eq;},er.$0.plgActions);};k.callFunction=function(ep,eq,er){if(er.$==1)er.$0(ep);else if(er.$==2)(er.$0(ep))(eq);else er.$0();};k.tryGetVar=function(ep,eq){var er;er=k.tryGetPlugIn(ep);return er==null?null:Q.tryFind(function(es){return es.varName===eq;},er.$0.plgVars);};k.selectionPlugInO=function(){bJ.$cctor();return bJ.selectionPlugInO;};k.defaultPlugIn=function(){bJ.$cctor();return bJ.defaultPlugIn;};k.currentPlugInW=function(){bJ.$cctor();return bJ.currentPlugInW;};k.renderPlugIns=function(){return X.Flatten(k.plugIns().MapLens(function(ep){var eq,er,es,et;return(eq=(er=R.Make().WithHole({$:1,$0:"name",$1:ep}),er.WithHole(S.EventQ2(er.k,"select",function(){return er.i;},function(){k.selectionPlugInO().Set({$:1,$0:ep});}))).WithHole({$:2,$0:"selected",$1:p.Map(function(eu){return G.Equals(eu,{$:1,$0:ep})?"selected":"";},k.selectionPlugInO().get_View())}),(es=S.CompleteHoles(eq.k,eq.h,[]),(et=new P.New(es[1],cN.tile(es[0])),(eq.i=et,et)))).get_Doc();}));};k.renderVars=function(){function ep(er,es){return[er.plgName,es.varName];}function eq(er,es){var et,eu,ev;return(et=R.Make().WithHole({$:1,$0:"name",$1:es.varName}).WithHole({$:8,$0:"value",$1:es.varVar}),(eu=S.CompleteHoles(et.k,et.h,[["value",0]]),(ev=new P.New(eu[1],cN.namevalueinput(eu[0])),(et.i=ev,ev)))).get_Doc();}return X.ConvertBy(function(er){return ep(er[0],er[1]);},function(er){return eq(er[0],er[1]);},p.Map(function(er){return $.map(function(es){return[er,es];},er.plgVars);},k.currentPlugInW()));};k.renderViews=function(){function ep(er,es){return[er.plgName,es.viwName];}function eq(er,es){var et,eu,ev;return(et=R.Make().WithHole({$:1,$0:"name",$1:es.viwName}).WithHole({$:2,$0:"value",$1:es.viwView}),(eu=S.CompleteHoles(et.k,et.h,[]),(ev=new P.New(eu[1],cN.namevalue(eu[0])),(et.i=ev,ev)))).get_Doc();}return X.ConvertBy(function(er){return ep(er[0],er[1]);},function(er){return eq(er[0],er[1]);},p.Map(function(er){return $.map(function(es){return[er,es];},er.plgViews);},k.currentPlugInW()));};k.renderDocs=function(){function ep(er,es){return[er.plgName,es.docName];}function eq(er,es){var et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD;return(et=(eu=(ev=es.docName+(ew=es.docDoc,ew.$==1?(ex=bg.concat(", ",bw.ofArray([ew.$1])),(function(eE){return function(eF){return eE("("+bu.toSafe(eF)+")");};}(a.id))(ex)):ew.$==2?(ey=bg.concat(", ",bw.ofArray([ew.$1,ew.$2])),(function(eE){return function(eF){return eE("("+bu.toSafe(eF)+")");};}(a.id))(ey)):ew.$==3?(ez=bg.concat(", ",bw.ofArray([ew.$1,ew.$2,ew.$3])),(function(eE){return function(eF){return eE("("+bu.toSafe(eF)+")");};}(a.id))(ez)):ew.$==4?(eA=bg.concat(", ",bw.ofArray([ew.$1,ew.$2,ew.$3,ew.$4])),(function(eE){return function(eF){return eE("("+bu.toSafe(eF)+")");};}(a.id))(eA)):ew.$==5?(eB=bg.concat(", ",bw.ofArray([ew.$1,ew.$2,ew.$3,ew.$4,ew.$5])),(function(eE){return function(eF){return eE("("+bu.toSafe(eF)+")");};}(a.id))(eB)):""),R.Make().WithHole({$:1,$0:"name",$1:ev})),eu.WithHole(S.EventQ2(eu.k,"select",function(){return eu.i;},function(){p.Get(function(eE){k.mainDocV().Set(eE.plgName+"."+es.docName);},k.currentPlugInW());}))),(eC=S.CompleteHoles(et.k,et.h,[]),(eD=new P.New(eC[1],cN.tile(eC[0])),(et.i=eD,eD)))).get_Doc();}return X.ConvertBy(function(er){return ep(er[0],er[1]);},function(er){return eq(er[0],er[1]);},p.Map(function(er){return $.map(function(es){return[er,es];},er.plgDocs);},k.currentPlugInW()));};k.renderActions=function(){function ep(er,es){return[er.plgName,es.actName];}function eq(er,es){var et,eu,ev,ew;et=(eu=es.actFunction,eu.$==1?(ev=bg.concat(", ",bw.ofArray([eu.$1])),(function(ex){return function(ey){return ex("("+bu.toSafe(ey)+")");};}(a.id))(ev)):eu.$==2?(ew=bg.concat(", ",bw.ofArray([eu.$1,eu.$2])),(function(ex){return function(ey){return ex("("+bu.toSafe(ey)+")");};}(a.id))(ew)):"");return X.EmbedView(p.Map(function(ex){var ey,ez,eA,eB,eC,eD,eE,eF;return ex?(ey=(ez=R.Make().WithHole({$:1,$0:"name",$1:es.actName+et}),ez.WithHole(S.EventQ2(ez.k,"click",function(){return ez.i;},function(eG){k.callFunction(eG,null,es.actFunction);}))),(eA=S.CompleteHoles(ey.k,ey.h,[]),(eB=new P.New(eA[1],cN.action(eA[0])),(ey.i=eB,eB)))).get_Doc():(eC=(eD=R.Make().WithHole({$:1,$0:"name",$1:es.actName}),eD.WithHole(S.EventQ2(eD.k,"click",function(){return eD.i;},function(eG){k.callFunction(eG,null,es.actFunction);}))),(eE=S.CompleteHoles(eC.k,eC.h,[]),(eF=new P.New(eE[1],cN.actiondisabled(eE[0])),(eC.i=eF,eF)))).get_Doc();},es.actEnabled));}return X.ConvertBy(function(er){return ep(er[0],er[1]);},function(er){return eq(er[0],er[1]);},p.Map(function(er){return $.map(function(es){return[er,es];},er.plgActions);},k.currentPlugInW()));};k.renderQueries=function(){function ep(er,es){return[er.plgName,es.qryName];}function eq(er,es){var et,eu,ev,ew;return(et=(eu=R.Make().WithHole({$:1,$0:"name",$1:es.qryName}),eu.WithHole(S.EventQ2(eu.k,"select",function(){return eu.i;},function(){a.alert(es.qryFunction(null));}))),(ev=S.CompleteHoles(et.k,et.h,[]),(ew=new P.New(ev[1],cN.tile(ev[0])),(et.i=ew,ew)))).get_Doc();}return X.ConvertBy(function(er){return ep(er[0],er[1]);},function(er){return eq(er[0],er[1]);},p.Map(function(er){return $.map(function(es){return[er,es];},er.plgQueries);},k.currentPlugInW()));};k.newQry=function(ep,eq){return cu.New(ep,eq);};k.AppFwkClient=function(){bJ.$cctor();return bJ.AppFwkClient;};k.actHello=function(){bJ.$cctor();return bJ.actHello;};k.qryDocs=function(){bJ.$cctor();return bJ.qryDocs;};k.horizontal=function(ep,eq,er,es,et){var eu,ev,ew,ex;return(eu=(ev=R.Make().WithHole({$:2,$0:"partsizes",$1:ep}).WithHole({$:7,$0:"afterrender",$1:eq}).WithHole({$:7,$0:"afterrendersp",$1:er}),ev.WithHole(S.EventQ2(ev.k,"mousedown",function(){return ev.i;},function(ey){es(ey.Event);}))).WithHole({$:2,$0:"gap",$1:et}),(ew=S.CompleteHoles(eu.k,eu.h,[]),(ex=new P.New(ew[1],cN.wcompsplitterhor(ew[0])),(eu.i=ex,ex)))).get_Doc();};k.vertical=function(ep,eq,er,es,et){var eu,ev,ew,ex;return(eu=(ev=R.Make().WithHole({$:2,$0:"partsizes",$1:ep}).WithHole({$:7,$0:"afterrender",$1:eq}).WithHole({$:7,$0:"afterrendersp",$1:er}),ev.WithHole(S.EventQ2(ev.k,"mousedown",function(){return ev.i;},function(ey){es(ey.Event);}))).WithHole({$:2,$0:"gap",$1:et}),(ew=S.CompleteHoles(eu.k,eu.h,[]),(ex=new P.New(ew[1],cN.wcompsplitterver(ew[0])),(eu.i=ex,ex)))).get_Doc();};k.mainDoc=function(){var ep,eq,er,es,et,eu;return(ep=(eq=k.getMainClientDoc(),(er=(es=k.mainDocV().get_View(),R.Make().WithHole({$:2,$0:"maindoc",$1:es})),er.WithHole(S.EventQ2(er.k,"goclient",function(){return er.i;},function(){k.mainDocV().Set("AppFramework.AppFwkClient");}))).WithHole({$:0,$0:"mainclient",$1:eq})),(et=S.CompleteHoles(ep.k,ep.h,[]),(eu=new P.New(et[1],cN.appframework(et[0])),(ep.i=eu,eu)))).get_Doc();};k.splitName=function(ep){function eq(es){return b1.splitByChar(".",es);}function er(es){return Q.length(es)===1?[ep,Q.get(es,0)]:[Q.get(es,0),Q.get(es,1)];}return function(es){return er(eq(es));};};k.tryGetPlugIn=function(ep){return k.plugIns().TryFindByKey(ep);};k.newActF=function(ep,eq){return bE.New(ep,eq,p.Const(true));};k.tryGetViw=function(ep,eq){var er;er=k.tryGetPlugIn(ep);return er==null?null:Q.tryFind(function(es){return es.viwName===eq;},er.$0.plgViews);};k.tryGetWoW=function(ep,eq){var er,es,et;er=(es=k.tryGetViw(ep,eq),es==null?null:{$:1,$0:{$:1,$0:es.$0.viwView}});return er==null?(et=k.tryGetVar(ep,eq),et==null?null:{$:1,$0:et.$0.varVar.get_View()}):er.$0;};k.getMainClientDoc=function(){var ep;return X.EmbedView((ep=k.plugIns().v,p.Map2(function(eq,er){var es,et;es=$.tryPick(function(eu){var ev;ev=$.tryFind(function(ew){return eu.plgName===eq||eu.plgName+"."+ew.docName===eq;},eu.plgDocs);return ev==null?null:{$:1,$0:k.getLazyDoc(ev.$0)};},er);et=k.AppFwkClient().f();return es==null?et:es.$0;},k.mainDocV().get_View(),ep)));};k.tryGetVoV=function(ep,eq){var er,es,et;er=(es=k.tryGetVar(ep,eq),es==null?null:{$:1,$0:{$:1,$0:es.$0.varVar}});return er==null?(et=k.tryGetViw(ep,eq),et==null?null:{$:1,$0:new cI.New(et.$0.viwView,a.ignore)}):er.$0;};k.getLazyDoc=function(ep){var eq;eq=ep.docDoc;return eq.$==0?eq.$0.f():X.Element("div",[],[X.TextNode((function(er){return function(es){return er("Doc with parameters not allowed here: "+W.p(es));};}(a.id))(ep))]);};l.New=function(ep,eq,er,es,et,eu){return{plgName:ep,plgVars:eq,plgViews:er,plgDocs:es,plgActions:et,plgQueries:eu};};m.contentVar=function(){_3.$cctor();return _3.contentVar;};m.invitacionesV=function(){_3.$cctor();return _3.invitacionesV;};m.emailsInvitarW=function(){_3.$cctor();return _3.emailsInvitarW;};m.invitacionesDisabledW=function(){_3.$cctor();return _3.invitacionesDisabledW;};m.endPointV=function(){_3.$cctor();return _3.endPointV;};m.aliadoW=function(){_3.$cctor();return _3.aliadoW;};m.modeloV=function(){_3.$cctor();return _3.modeloV;};m.selAliadoIdOV=function(){_3.$cctor();return _3.selAliadoIdOV;};m.money=function(ep){return"$"+m.separate(a.String(ep),cz.Empty);};m.selAliadoIdDoc=function(ep){var eq;return X.BindView(a.id,(eq=p.get_Do(),p.Bind(function(er){return p.Bind(function(es){var et,eu;et=es==null?null:(eu=es.$0,$.tryFind(function(ev){return G.Equals(ev.id,eu);},er.aliados));return p.Const(et!=null&&et.$==1?ep(p.Const(et.$0)):X.get_Empty());},m.selAliadoIdOV().get_View());},m.modeloV().get_View())));};m.aliadoIdDoc=function(ep){var eq;return X.BindView(a.id,(eq=p.get_Do(),p.Bind(function(er){var es,et;es=er.idAliado;et=$.tryFind(function(eu){return G.Equals(eu.id,es);},er.aliados);return p.Const(et!=null&&et.$==1?ep(p.Const(et.$0)):X.get_Empty());},m.modeloV().get_View())));};m.separate=function(ep,eq){var er;while(true)if(ep==="")return(function(es){return function(et){return bg.concat(es,et);};}(","))(eq);else{er=ep;ep=ba["String.Left$1"](er,-3);eq=new cz({$:1,$0:ba["String.Right$1"](er,3),$1:eq});}};n.get_LoggedId=function(){var ep,eq;return new Z({$:0,$0:(ep=(eq=bF.userO().Get(),eq==null?null:{$:1,$0:eq.$0.idToken.oid}),ep==null?"":ep.$0)});};m.formasPagoAliadoV=function(){_3.$cctor();return _3.formasPagoAliadoV;};o.FailWith=function(ep){throw new c1(ep);};o.toInt=function(ep){var eq;eq=o.toUInt(ep);return eq>=2147483648?eq-4294967296:eq;};o.range=function(ep,eq){var er;er=1+eq-ep;return er<=0?[]:$.init(er,function(es){return es+ep;});};o.toUInt=function(ep){return(ep<0?ei.ceil(ep):ei.floor(ep))>>>0;};o.KeyValue=function(ep){return[ep.K,ep.V];};p.Map=function(ep,eq){return p.CreateLazy(function(){return _2.Map(ep,eq());});};p.Sink=function(ep,eq){function er(){_2.WhenRun(eq(),ep,function(){cK.scheduler().Fork(er);});}cK.scheduler().Fork(er);};p.CreateLazy=function(ep){var eq;eq={c:null,o:ep};return function(){var er,es;er=eq.c;return er===null?(er=eq.o(),eq.c=er,(es=er.s,es!=null&&es.$==0)?eq.o=null:_2.WhenObsoleteRun(er,function(){eq.c=null;}),er):er;};};p.Map2=function(ep,eq,er){return p.CreateLazy(function(){return _2.Map2(ep,eq(),er());});};p.Apply=function(ep,eq){return p.Map2(function(er,es){return er(es);},ep,eq);};p.Map3=function(ep,eq,er,es){return p.CreateLazy(function(){return _2.Map3(ep,eq(),er(),es());});};p.MapAsync=function(ep,eq){return p.CreateLazy(function(){return _2.MapAsync(ep,eq());});};p.GetAsync=function(ep){return cK.FromContinuations(function(eq){return p.Get(eq,ep);});};p.TryGet=function(ep){return _2.TryGet(ep());};p.Const=function(ep){var eq;eq=_2.New({$:0,$0:ep});return function(){return eq;};};p.get_Do=function(){return cq.B;};p.Get=function(ep,eq){var er;function es(){_2.WhenRun(eq(),function(et){if(!er[0]){er[0]=true;ep(et);}},function(){if(!er[0])es();});}er=[false];es();};p.Bind=function(ep,eq){return p.Join(p.Map(ep,eq));};p.MapSeqCachedViewBy=function(ep,eq,er){var es;es=[new bQ.New$5()];return p.Map(function(et){var eu,ev,ew;eu=es[0];ev=new bQ.New$5();ew=cJ.mapInPlace(function(ex){var ey,ez,eA;ey=ep(ex);ez=eu.ContainsKey(ey)?(eA=eu.get_Item(ey),(i.Set(eA.r,ex),eA)):p.ConvertSeqNode(function(eB){return eq(ey,eB);},ex);ev.set_Item(ey,ez);return ez.e;},Q.ofSeq(et));es[0]=ev;return ew;},er);};p.Map2Unit=function(ep,eq){return p.CreateLazy(function(){return _2.Map2Unit(ep(),eq());});};p.Join=function(ep){return p.CreateLazy(function(){return _2.Join(ep());});};p.ConvertSeqNode=function(ep,eq){var er,es;er=i.Create$1(eq);es=er.get_View();return{e:ep(es),r:er,w:es};};p.MapSeqCachedBy=function(ep,eq,er){var es;es=[new bQ.New$5()];return p.Map(function(et){var eu,ev,ew;eu=es[0];ev=new bQ.New$5();ew=cJ.mapInPlace(function(ex){var ey,ez;ey=ep(ex);ez=eu.ContainsKey(ey)?eu.get_Item(ey):eq(ex);ev.set_Item(ey,ez);return ez;},Q.ofSeq(et));es[0]=ev;return ew;},er);};p.Sequence=function(ep){return p.CreateLazy(function(){return _2.Sequence($.map(function(eq){return eq();},ep));});};q=h.Var=eh.Class({},g,q);q.New=eh.Ctor(function(){g.New.call(this);},q);r.Create=function(ep){return _.New(false,ep,r.forceLazy);};r.forceLazy=function(){var ep;ep=this.v();this.c=true;this.v=ep;this.f=r.cachedLazy;return ep;};r.cachedLazy=function(){return this.v;};r.CreateFromValue=function(ep){return _.New(true,ep,r.cachedLazy);};s.aliados=function(){var ep,eq,er,es,et,eu,ev;function ew(eF){var eG,eH;eG=(eH=eq.Get(),eH==null?null:{$:1,$0:eH.$0(eF)});return eG==null?[]:eG.$0;}function ex(eF){return eF.nReferidos===0?"-":(((eh.Curried3(function(eG,eH,eI){return eG(a.String(eH)+"/"+a.String(eI));}))(a.id))(eF.nRefActivos))(eF.nReferidos);}function ey(eF){return eF.nDescendientes===0?"-":(((eh.Curried3(function(eG,eH,eI){return eG(a.String(eH)+"/"+a.String(eI));}))(a.id))(eF.nDescActivos))(eF.nDescendientes);}function ez(eF){return eF===0?"-":m.money(eF);}function eA(eF){return p.Map(function(eG){return $.isEmpty(ew(eF))?"":G.Equals(eG==null?null:{$:1,$0:eG.$0.Contains(eF)},{$:1,$0:true})?"Expandido":"Colapsado";},ep.get_View());}function eB(eF){var eG,eH,eI;ep.Set({$:1,$0:((G.Equals((eG=ep.Get(),eG==null?null:{$:1,$0:eG.$0.Contains(eF)}),{$:1,$0:true})?function(eJ){return function(eK){return eK.Remove(eJ);};}:function(eJ){return function(eK){return eK.Add(eJ);};})(eF))((eH=ep.Get(),(eI=new be.New$1(null),eH==null?eI:eH.$0)))});}function eC(eF){m.selAliadoIdOV().Set({$:1,$0:eF});}function eD(eF){var eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eZ,e0;function eT(e1){return e1.comision;}function eU(e1){return e1.status;}function eV(e1){return[e1.nRefActivos,e1.nReferidos];}function eW(e1){return[e1.nDescActivos,e1.nDescendientes];}function eX(e1){return L.nombre(e1.datosPersonales);}function eY(e1){return $.delay(function(){return $.append([e1],$.delay(function(){var e2,e3;return(e2=(e3=ep.Get(),e3==null?null:{$:1,$0:e3.$0.Contains(e1.id)}),e2==null?false:e2.$0)?$.collect(eY,e0.hijos(e1)):[];}));});}eZ=(eG=(eH=(eI=(eJ=(eK=(eh.Curried3(bb.desc))(eT),eL=(eh.Curried3(bb.asc))(eU),eh.Curried(bb.op_AmpGreater,2,[function(e1,e2){return(eK(e1))(e2);},function(e1,e2){return(eL(e1))(e2);}])),eM=(eh.Curried3(bb.desc))(eV),eh.Curried(bb.op_AmpGreater,2,[function(e1,e2){return(eJ(e1))(e2);},function(e1,e2){return(eM(e1))(e2);}])),eN=(eh.Curried3(bb.desc))(eW),eh.Curried(bb.op_AmpGreater,2,[function(e1,e2){return(eI(e1))(e2);},function(e1,e2){return(eN(e1))(e2);}])),eO=(eh.Curried3(bb.asc))(eX),eh.Curried(bb.op_AmpGreater,2,[function(e1,e2){return(eH(e1))(e2);},function(e1,e2){return(eO(e1))(e2);}])),$.sortWith(function(e1,e2){return(eG(e1))(e2);},eF));e0=L.busqueda(eZ);eq.Set({$:1,$0:e0.hijosDe});try{eQ=$.min($.map(function(e1){return e1.nivel;},eZ));}catch(e1){eQ=1;}eR=$.filter(function(e2){return e2.nivel===eQ;},eZ);$.isEmpty(eR)?ep.Set(null):ep.Get()==null?(ep.Set({$:1,$0:new be.New($.map(function(e2){return e2.id;},eR))}),eS=$.tryHead($.map(function(e2){return e2.id;},eR)),eS==null?void 0:eC(eS.$0)):void 0;return $.delay(function(){return $.collect(eY,eR);});}function eE(eF,eG){var eH,eI,eJ,eK,eL,eM;return(eH=(eI=(eJ=(eK=eA(eF),R.Make().WithHole({$:2,$0:"nombre",$1:p.Map(function(eN){return L.nombre(eN.datosPersonales);},eG)}).WithHole({$:2,$0:"status",$1:p.Map(function(eN){return(function(eO){return function(eP){return eO(U.p$1(eP));};}(a.id))(eN.status);},eG)}).WithHole({$:2,$0:"tipo",$1:p.Map(function(eN){return(function(eO){return function(eP){return eO(U.p$2(eP));};}(a.id))(eN.tipo);},eG)}).WithHole({$:2,$0:"nivel",$1:p.Map(function(eN){return a.String(eN.nivel);},eG)}).WithHole({$:2,$0:"referidos",$1:p.Map(ex,eG)}).WithHole({$:2,$0:"descendientes",$1:p.Map(ey,eG)}).WithHole({$:2,$0:"comision",$1:p.Map(function(eN){return ez(eN.comision);},eG)}).WithHole({$:2,$0:"expandido",$1:eK})),eJ.WithHole(S.EventQ2(eJ.k,"expandir",function(){return eJ.i;},function(){eB(eF);}))).WithHole({$:2,$0:"seleccionado",$1:p.Map(function(eN){return G.Equals({$:1,$0:eF},eN)?"seleccionado":"";},m.selAliadoIdOV().get_View())}),eI.WithHole(S.EventQ2(eI.k,"seleccionar",function(){return eI.i;},function(){eC(eF);}))),(eL=S.CompleteHoles(eH.k,eH.h,[]),(eM=new P.New(eL[1],T.filaaliado(eL[0])),(eH.i=eM,eM)))).get_Doc();}ep=i.Create$1(null);eq=i.Create$1(null);return(er=(es=X.ConvertSeqBy(function(eF){return eF.id;},function(eF){return function(eG){return eE(eF,eG);};},(et=p.Map(function(eF){return eF.aliados;},m.modeloV().get_View()),p.Map2(function(eF,eG){return eD(eG);},ep.get_View(),et))),R.Make().WithHole({$:0,$0:"tbody",$1:es})),(eu=S.CompleteHoles(er.k,er.h,[]),(ev=new P.New(eu[1],T.tablaaliados(eu[0])),(er.i=ev,ev)))).get_Doc();};t.aliado=function(){function ep(eq){var er;er=$.tryPick(function(es){return es.$==1?{$:1,$0:es.$0.email}:null;},eq.contactos);return er==null?"correo no encontrado!":er.$0;}return m.selAliadoIdDoc(function(eq){var er,es,et,eu;return(er=(es=t.calculo(),R.Make().WithHole({$:2,$0:"nombre",$1:p.Map(function(ev){return L.nombre2(ev.datosPersonales);},eq)}).WithHole({$:2,$0:"status",$1:p.Map(function(ev){return(function(ew){return function(ex){return ew(U.p$1(ex));};}(a.id))(ev.status);},eq)}).WithHole({$:2,$0:"tipo",$1:p.Map(function(ev){return(function(ew){return function(ex){return ew(U.p$2(ex));};}(a.id))(ev.tipo);},eq)}).WithHole({$:2,$0:"contacto",$1:p.Map(ep,eq)}).WithHole({$:0,$0:"calculo",$1:es})),(et=S.CompleteHoles(er.k,er.h,[]),(eu=new P.New(et[1],T.aliado(et[0])),(er.i=eu,eu)))).get_Doc();});};t.calculo=function(){var ep,eq;ep=p.Map(function(er){return er.premisas;},m.modeloV().get_View());eq=p.Map(function(er){return er.aliados;},m.modeloV().get_View());p.Map2(function(er,es){return $.tryFind(function(et){return G.Equals(et.id,er);},es);},p.Map(function(er){return er.idAliado;},m.modeloV().get_View()),eq);return m.selAliadoIdDoc(function(er){var es,et,eu,ev,ew;es=p.Map2(L.comision,ep,er);et=p.Map2(L.premisas,ep,er);return(eu=R.Make().WithHole({$:2,$0:"referidos",$1:p.Map(function(ex){return(function(ey){return function(ez){return ey(a.String(ez));};}(a.id))(ex.nReferidos);},er)}).WithHole({$:2,$0:"refactivos",$1:p.Map(function(ex){return(function(ey){return function(ez){return ey(a.String(ez));};}(a.id))(ex.nRefActivos);},er)}).WithHole({$:2,$0:"comreferido",$1:p.Map(function(ex){return(function(ey){return function(ez){return ey(a.String(ez));};}(a.id))(ex.nRefActivos);},er)}).WithHole({$:2,$0:"descendientes",$1:p.Map(function(ex){return(function(ey){return function(ez){return ey(a.String(ez));};}(a.id))(ex.nDescendientes);},er)}).WithHole({$:2,$0:"desactivos",$1:p.Map(function(ex){return(function(ey){return function(ez){return ey(a.String(ez));};}(a.id))(ex.nDescActivos);},er)}).WithHole({$:2,$0:"comision",$1:p.Map(function(ex){return m.money(ex[0]+ex[1]);},es)}).WithHole({$:2,$0:"comreferido",$1:p.Map(function(ex){return m.money(ex[0]);},es)}).WithHole({$:2,$0:"comdescendiente",$1:p.Map(function(ex){return m.money(ex[1]);},es)}).WithHole({$:2,$0:"porreferido",$1:p.Map(function(ex){return m.money(ex[0]);},et)}).WithHole({$:2,$0:"pordescendiente",$1:p.Map(function(ex){return m.money(ex[1]);},et)}),(ev=S.CompleteHoles(eu.k,eu.h,[]),(ew=new P.New(ev[1],T.calculo(ev[0])),(eu.i=ew,ew)))).get_Doc();});};u.formaDoc=function(){var ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD;ep=i.Create$1("");eq=i.Create$1(false);er=i.Create$1(null);es=i.Create$1(null);et=i.Create$1(null);eu=i.Create$1(null);ev=bi.formaDoc(er);ew=bj.formaDoc(es);ex=bk.formaDoc(et);ey=bl.formaDoc(eu);ez=(eA=(eB=R.Make().WithHole({$:2,$0:"mensajes",$1:p.Map2(function(eE,eF){return eE?eF:"";},eq.get_View(),ep.get_View())}).WithHole({$:0,$0:"datospersonales",$1:ev[1]}).WithHole({$:0,$0:"correo",$1:ew[1]}).WithHole({$:0,$0:"telefono",$1:ex[1]}).WithHole({$:0,$0:"direccion",$1:ey[1]}),eB.WithHole(S.EventQ2(eB.k,"registrarse",function(){return eB.i;},function(){var eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO;eq.Set(true);eE=ep.Get();bg.Trim(eE)!==""?a.alert(eE):(eF=er.Get(),eG=es.Get(),eH=et.Get(),eI=eu.Get(),eF!=null&&eF.$==1&&(eG!=null&&eG.$==1&&(eH!=null&&eH.$==1&&(eI!=null&&eI.$==1&&(eJ=[eG.$0,eF.$0,eI.$0,eH.$0],true))))?(eK=eJ[0],eL=eJ[1],eM=eJ[2],eN=eJ[3],Y.iterA((eO=bm.asyncResult(),eO.Run(eO.Delay(function(){var eP;return eO.Bind$1(Y.ejecutarDataEventoNuevo({$:3,$0:[new Z({$:0,$0:bg.Substring(bg.Replace((eP=bq.NewGuid(),a.String(eP)),"-",""),0,20)}),eL,{$:1,$0:m.modeloV().Get().idAliado},[{$:1,$0:eK},{$:2,$0:eN},{$:0,$0:eM}]]}),function(eQ){bo.refrescarData(true);a.alert((function(eR){return function(eS){return eR(U.p$13(eS));};}(a.id))(eQ));return eO.Zero();});}))))):a.alert("Error not caught FormaRegistro"));}))),(eC=S.CompleteHoles(eA.k,eA.h,[]),(eD=new P.New(eC[1],T.formaregistro(eC[0])),(eA.i=eD,eD))));p.Sink(function(eE){ep.Set(eE);},p.Apply(p.Apply(p.Map2(function(eE,eF){return function(eG){return function(eH){var eI;eI=bg.concat(", ",$.delay(function(){return $.append(eE,$.delay(function(){return $.append(eF,$.delay(function(){return $.append(eG,$.delay(function(){return eH;}));}));}));}));return eI!==""?"Campos requeridos: "+eI:"";};};},ev[0],ew[0]),ex[0]),ey[0]));return ez.get_Doc();};v.formaDoc=function(){return m.aliadoIdDoc(v.formaAliado);};v.formaAliado=function(ep){var eq,er,es,et,eu,ev,ew,ex,ey;function ez(eB){return{$:1,$0:eB};}function eA(eB){es.Set(eB);}eq=i.Create$1("");er=i.Create$1(false);es=i.Create$1(null);p.Sink(function(eB){return eA(ez(eB));},p.Map(function(eB){return eB.datosPersonales;},ep));et=bi.formaDoc(es);eu=(ev=(ew=R.Make().WithHole({$:2,$0:"mensajes",$1:p.Map2(function(eB,eC){return eB?eC:"";},er.get_View(),eq.get_View())}).WithHole({$:2,$0:"changed",$1:p.Map2(function(eB,eC){return G.Equals({$:1,$0:eB.datosPersonales},eC)?"":"mui-btn--primary";},ep,es.get_View())}).WithHole({$:0,$0:"datospersonales",$1:et[1]}),ew.WithHole(S.EventQ2(ew.k,"salvar",function(){return ew.i;},function(){var eB,eC,eD,eE,eF,eG,eH;er.Set(true);eB=eq.Get();bg.Trim(eB)!==""?a.alert(eB):(eC=es.Get(),eD=p.TryGet(ep),eC!=null&&eC.$==1&&(eD!=null&&eD.$==1&&(eE=[eD.$0,eC.$0],true))?(eF=eE[0],eG=eE[1],Y.iterA((eH=bm.asyncResult(),eH.Run(eH.Delay(function(){return eH.Bind$1(Y.ejecutarDataEventoNuevo({$:4,$0:[eF.id,eG]}),function(eI){bo.refrescarData(true);a.alert((function(eJ){return function(eK){return eJ(U.p$13(eK));};}(a.id))(eI));return eH.Zero();});}))))):a.alert("Error not caught FormaDatos"));}))),(ex=S.CompleteHoles(ev.k,ev.h,[]),(ey=new P.New(ex[1],T.formadatospersonales(ex[0])),(ev.i=ey,ey))));p.Sink(function(eB){eq.Set(eB);},p.Map(function(eB){var eC;eC=bg.concat(", ",$.delay(function(){return eB;}));return eC!==""?"Campos requeridos: "+eC:"";},et[0]));return eu.get_Doc();};w.formaDoc=function(){return m.aliadoIdDoc(w.formaContactos);};w.formaContactos=function(ep){var eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ;function eK(eL,eM){return function(eN){return new cI.New(p.Map(function(eO){var eP;eP=$.tryItem(eN,eO);return eP==null?null:eL(eP.$0);},es.get_View()),function(eO){if(eO!=null&&eO.$==1)es.Set(cC.replace(eN,eM(eO.$0),es.Get()));});};}eq=i.Create$1("");er=i.Create$1(false);es=i.Create$1([]);p.Sink(function(eL){es.Set(eL);},p.Map(function(eL){return eL.contactos;},ep));et=p.Map($.indexed,es.get_View());eu=[function(eL){return eL.$==2?{$:1,$0:eL.$0}:null;},function(eL){return{$:2,$0:eL};}];ev=[function(eL){return eL.$==1?{$:1,$0:eL.$0}:null;},function(eL){return{$:1,$0:eL};}];ew=[function(eL){return eL.$==0?{$:1,$0:eL.$0}:null;},function(eL){return{$:0,$0:eL};}];ex=p.Map(function(eL){function eM(eN,eO){return eu[0](eO)==null?null:{$:1,$0:eN};}return $.choose(function(eN){return eM(eN[0],eN[1]);},eL);},et);ey=p.Map(function(eL){function eM(eN,eO){return ev[0](eO)==null?null:{$:1,$0:eN};}return $.choose(function(eN){return eM(eN[0],eN[1]);},eL);},et);ez=p.Map(function(eL){function eM(eN,eO){return ew[0](eO)==null?null:{$:1,$0:eN};}return $.choose(function(eN){return eM(eN[0],eN[1]);},eL);},et);eA=X.ConvertBy(a.id,function(eL){return bs.removeButton(function(){es.Set(cC.remove(eL,es.Get()));},(bk.formaDoc((function(eM){return eK(eM[0],eM[1]);}(eu))(eL)))[1]);},ex);eB=X.ConvertBy(a.id,function(eL){return bs.removeButton(function(){es.Set(cC.remove(eL,es.Get()));},(bj.formaDoc((function(eM){return eK(eM[0],eM[1]);}(ev))(eL)))[1]);},ey);eC=X.ConvertBy(a.id,function(eL){return bs.removeButton(function(){es.Set(cC.remove(eL,es.Get()));},(bl.formaDoc((function(eM){return eK(eM[0],eM[1]);}(ew))(eL)))[1]);},ez);return(eD=(eE=(eF=(eG=(eH=R.Make().WithHole({$:2,$0:"mensajes",$1:p.Map2(function(eL,eM){return eL?eM:"";},er.get_View(),eq.get_View())}).WithHole({$:2,$0:"changed",$1:p.Map2(function(eL,eM){return G.Equals(eL.contactos,eM)?"":"mui-btn--primary";},ep,es.get_View())}).WithHole({$:0,$0:"telefonos",$1:eA}).WithHole({$:0,$0:"correos",$1:eB}).WithHole({$:0,$0:"direcciones",$1:eC}),eH.WithHole(S.EventQ2(eH.k,"mastelefono",function(){return eH.i;},function(){es.Set(es.Get().concat([{$:2,$0:J.telVacio()}]));}))),eG.WithHole(S.EventQ2(eG.k,"mascorreo",function(){return eG.i;},function(){es.Set(es.Get().concat([{$:1,$0:J.correoVacio()}]));}))),eF.WithHole(S.EventQ2(eF.k,"masdireccion",function(){return eF.i;},function(){es.Set(es.Get().concat([{$:0,$0:J.dirVacio()}]));}))),eE.WithHole(S.EventQ2(eE.k,"salvar",function(){return eE.i;},function(){var eL,eM,eN,eO;er.Set(true);eL=eq.Get();bg.Trim(eL)!==""?a.alert(eL):(eM=p.TryGet(ep),eM!=null&&eM.$==1?(eN=eM.$0,Y.iterA((eO=bm.asyncResult(),eO.Run(eO.Delay(function(){return eO.Bind$1(Y.ejecutarDataEventoNuevo({$:5,$0:[eN.id,es.Get()]}),function(eP){bo.refrescarData(true);a.alert((function(eQ){return function(eR){return eQ(U.p$13(eR));};}(a.id))(eP));return eO.Zero();});}))))):a.alert("Error not caught FormaDatos"));}))),(eI=S.CompleteHoles(eD.k,eD.h,[]),(eJ=new P.New(eI[1],T.formacontactos(eI[0])),(eD.i=eJ,eJ)))).get_Doc();};x.formaDoc=function(){return m.aliadoIdDoc(x.formaFormasPago);};x.formaFormasPago=function(ep){var eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD;function eE(eJ,eK){return function(eL){return new cI.New(p.Map(function(eM){var eN;eN=$.tryItem(eL,eM);return eN==null?null:eJ(eN.$0);},es.get_View()),function(eM){var eN;if(eM!=null&&eM.$==1){eN=eM.$0;es.Set(cC.replace(eL,(eK(Q.get(es.Get(),eL)))(bs.fst3(eN[0],eN[1],eN[2])),es.Get()));}});};}function eF(eJ){var eK;Y.iterA((eK=bm.asyncResult(),eK.Run(eK.Delay(function(){return eK.Bind(eJ.authorizeIdR,function(eL){return eK.Bind$1(Y.validarFormaPago(eL),function(eM){a.alert(eM);return eK.Zero();});});}))));}function eG(eJ,eK){return bs.removeButton(function(){es.Set(cC.remove(eJ,es.Get()));},X.Concat(bw.ofSeq($.delay(function(){return $.append([X.Button("AUTORIZAR DEBITO",[cU.Create("title","Autorizar pago recurrente"),cM.Dynamic("style",p.Map(function(eL){return Q.get(eL,eJ).authorizeIdR.$==0?"":"display:None";},es.get_View()))],function(){var eL,eM,eN,eO;eM=Q.get(es.Get(),eJ).authorizeIdR;eN=Q.get(es.Get(),eJ).cuentaPago;switch(eM.$==0?eN.$==0?(eL=[eM.$0,eN.$0.titular],1):eN.$==1?(eL=[eM.$0,eN.$0.titular],1):2:(eL=eM.$0,0)){case 0:a.alert("Pago no está verificado en Authorize: "+eL);break;case 1:eO=eK();B.cuentaAutorizar().Set(eO);B.titular().Set(eL[1]);B.set_pid(eL[0]);m.endPointV().Set({$:3,$0:"ProzperLyt.cntAutorizacion"});break;case 2:a.alert("Autorizacion no esta implementada");break;}})],$.delay(function(){return $.append([X.Element("br",[],[])],$.delay(function(){return $.append([eK()],$.delay(function(){return[X.Button("validar",[cU.Create("title","validar forma de pago"),cM.Dynamic("style",p.Map(function(eL){return Q.get(eL,eJ).authorizeIdR.$==0?"":"display:None";},es.get_View()))],function(){eF(Q.get(es.Get(),eJ));})];}));}));}));}))));}function eH(eJ){return bA.New("",ba.Error$1(""),eJ);}function eI(eJ){return new be.New($.choose(function(eK){var eL;eL=eK.authorizeIdR;return eL.$==0?{$:1,$0:eL.$0}:null;},eJ));}eq=i.Create$1("");er=i.Create$1(false);es=i.Create$1([]);p.Sink(function(eJ){es.Set(eJ);},m.formasPagoAliadoV().get_View());x.refrescarFormasPago();et=p.Map($.indexed,es.get_View());eu=p.Map(function(eJ){function eK(eL,eM){return(x.ftar())[0](eM)==null?null:{$:1,$0:eL};}return $.choose(function(eL){return eK(eL[0],eL[1]);},eJ);},et);ev=p.Map(function(eJ){function eK(eL,eM){return(x.fcta())[0](eM)==null?null:{$:1,$0:eL};}return $.choose(function(eL){return eK(eL[0],eL[1]);},eJ);},et);ew=X.ConvertBy(a.id,function(eJ){var eK;return eG(eJ,(eK=(function(eL){return eE(eL[0],eL[1]);}(x.ftar()))(eJ),function(){return(cG.formaDocO(eK))[1];}));},eu);ex=X.ConvertBy(a.id,function(eJ){var eK;return eG(eJ,(eK=(function(eL){return eE(eL[0],eL[1]);}(x.fcta()))(eJ),function(){return(cF.formaDocO(eK))[1];}));},ev);return(ey=(ez=(eA=(eB=R.Make().WithHole({$:2,$0:"mensajes",$1:p.Map2(function(eJ,eK){return eJ?eK:"";},er.get_View(),eq.get_View())}).WithHole({$:0,$0:"tarjetas",$1:ew}).WithHole({$:0,$0:"cuentas",$1:ex}),eB.WithHole(S.EventQ2(eB.k,"mastarjeta",function(){return eB.i;},function(){es.Set(es.Get().concat([eH({$:1,$0:J.tarVacio()})]));}))),eA.WithHole(S.EventQ2(eA.k,"mascuenta",function(){return eA.i;},function(){es.Set(es.Get().concat([eH({$:0,$0:J.ctaVacio()})]));}))).WithHole({$:2,$0:"changed",$1:p.Map2(function(eJ,eK){return G.Equals(eJ,eK)?"":"mui-btn--primary";},m.formasPagoAliadoV().get_View(),es.get_View())}),ez.WithHole(S.EventQ2(ez.k,"salvar",function(){return ez.i;},function(){var eJ,eK,eL;er.Set(true);eJ=eq.Get();bg.Trim(eJ)!==""?a.alert(eJ):(eK=p.TryGet(ep),eK!=null&&eK.$==1?Y.iterA((eL=bm.asyncResult(),eL.Run(eL.Delay(function(){return eL.Combine$1(eL.For(be.op_Subtraction(eI(m.formasPagoAliadoV().Get()),eI(es.Get())),function(eM){return eL.Bind$1(Y.borrarFormaPago(eM),function(){return eL.Zero();});}),eL.Delay(function(){return eL.Combine$1(eL.For(es.Get(),function(eM){var eN,eO,eP,eQ;eN=(eO=eM.cuentaPago,eO.$==1&&(!(eO.$0.numero.get_Id().indexOf("X")!=-1)&&(eP=eO.$0,true))?{$:1,$0:Y.registrarTarjeta(eP)}:eO.$==0&&(!(eO.$0.numero.get_Id().indexOf("X")!=-1)&&(eQ=eO.$0,true))?{$:1,$0:Y.registrarCuenta(eQ)}:null);return eN!=null&&eN.$==1?eL.Bind$1(eN.$0,function(){return eL.Zero();}):eL.Zero();}),eL.Delay(function(){x.refrescarFormasPago();return eL.Zero();}));}));})))):a.alert("Error not caught FormaDatos"));}))),(eC=S.CompleteHoles(ey.k,ey.h,[]),(eD=new P.New(eC[1],T.formacuentas(eC[0])),(ey.i=eD,eD)))).get_Doc();};x.msg=function(ep){var eq;eq=ep.authorizeIdR;return eq.$==0?(function(er){return function(es){return er("Cuenta verificada: "+U.p$14(es));};}(a.id))(eq.$0):eq.$0===""?"La cuenta aun no ha sido verificada":eq.$0;};x.refrescarFormasPago=function(){Y.iterA(cA.map(function(ep){m.formasPagoAliadoV().Set(ep);},Y.obtenerFormasDePago()));};x.fcta=function(){_3.$cctor();return _3.fcta;};x.ftar=function(){_3.$cctor();return _3.ftar;};y.consolidado=function(){var ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK;function eL(e0){return e0.nReferidos===0?"-":(((eh.Curried3(function(e1,e2,e3){return e1(a.String(e2)+"/"+a.String(e3));}))(a.id))(e0.nRefActivos))(e0.nReferidos);}function eM(e0){return e0.nDescendientes===0?"-":(((eh.Curried3(function(e1,e2,e3){return e1(a.String(e2)+"/"+a.String(e3));}))(a.id))(e0.nDescActivos))(e0.nDescendientes);}function eN(e0){return e0===0?"-":m.money(e0);}function eO(e0){var e1,e2,e3;e1=(e2=e0==null?null:(e3=e0.$0,$.tryFind(function(e4){return G.Equals(e4.id,e3);},m.modeloV().Get().aliados)),e2==null?null:{$:1,$0:L.nombre(e2.$0.datosPersonales)});return e1==null?"-":e1.$0;}function eP(e0){var e1;return br.New(L.nombre(e0.datosPersonales),(function(e2){return function(e3){return e2(U.p$1(e3));};}(a.id))(e0.status),(e1=e0.influyente,e1==null?"":e1.$0),(function(e2){return function(e3){return e2(U.p$2(e3));};}(a.id))(e0.tipo),eO(e0.idPadreO),(function(e2){return function(e3){return e2(bg.PadLeft(a.String(e3),9));};}(a.id))(e0.nivel),(function(e2){return function(e3){return e2(bg.PadLeft(bu.toSafe(e3),9));};}(a.id))(eL(e0)),(function(e2){return function(e3){return e2(bg.PadLeft(bu.toSafe(e3),9));};}(a.id))(eM(e0)),(function(e2){return function(e3){return e2(bg.PadLeft(bu.toSafe(e3),9));};}(a.id))(eN(e0.comision)),ba["String.Right$1"]((function(e2){return function(e3){return e2(U.p$15(e3));};}(a.id))(e0.diaPago),2),bv.toYYYYMMDD("-",e0.fechaRegistro),(function(e2){return function(e3){return e2(bu.toSafe(e3));};}(a.id))(e0.id.get_Id()));}function eQ(e0){return[e0.nombre,e0.status,e0.influyente,e0.tipo,e0.referido,e0.nivel,e0.referidos,e0.descendientes,e0.comision,e0.diaPago,e0.desde,e0.Id];}function eR(e0,e1,e2){return function(e3){var e4;e4=e3[0];return[e4===e0?1:e4<e0?e4+1:e4,e0===e4&&e0===1?!e3[1]:e3[1],e3[2]];};}function eS(e0){eq.Set(br.New((function(e1){return eR(e1[0],e1[1],e1[2]);}(e0))(eq.Get().nombre),(function(e1){return eR(e1[0],e1[1],e1[2]);}(e0))(eq.Get().status),(function(e1){return eR(e1[0],e1[1],e1[2]);}(e0))(eq.Get().influyente),(function(e1){return eR(e1[0],e1[1],e1[2]);}(e0))(eq.Get().tipo),(function(e1){return eR(e1[0],e1[1],e1[2]);}(e0))(eq.Get().referido),(function(e1){return eR(e1[0],e1[1],e1[2]);}(e0))(eq.Get().nivel),(function(e1){return eR(e1[0],e1[1],e1[2]);}(e0))(eq.Get().referidos),(function(e1){return eR(e1[0],e1[1],e1[2]);}(e0))(eq.Get().descendientes),(function(e1){return eR(e1[0],e1[1],e1[2]);}(e0))(eq.Get().comision),(function(e1){return eR(e1[0],e1[1],e1[2]);}(e0))(eq.Get().diaPago),(function(e1){return eR(e1[0],e1[1],e1[2]);}(e0))(eq.Get().desde),(function(e1){return eR(e1[0],e1[1],e1[2]);}(e0))(eq.Get().Id)));}function eT(e0,e1){return ep.Set(Q.map(function(e2){return G.Equals(e2.id,e0)?e1(e2):e2;},ep.Get()));}function eU(e0,e1){return eT(e0,function(e2){return K.New(e2.id,e2.idPadreO,e2.idForAuthorize,e2.influyente,e2.datosPersonales,e2.contactos,e2.identificacion,e2.isInternal,bt.tryParse(e1),e2.diaPago,e2.tipo,e2.fechaRegistro,e2.fechaStatus,e2.nReferidos,e2.nRefActivos,e2.nDescendientes,e2.nDescActivos,e2.comision,e2.nivel);});}function eV(e0,e1){return eT(e0,function(e2){return K.New(e2.id,e2.idPadreO,e2.idForAuthorize,bg.Trim(e1)===""?null:{$:1,$0:bg.Trim(e1)},e2.datosPersonales,e2.contactos,e2.identificacion,e2.isInternal,e2.status,e2.diaPago,e2.tipo,e2.fechaRegistro,e2.fechaStatus,e2.nReferidos,e2.nRefActivos,e2.nDescendientes,e2.nDescActivos,e2.comision,e2.nivel);});}function eW(e0,e1){var e2;e2=e1===""?null:{$:1,$0:new Z({$:0,$0:e1})};return eT(e0,function(e3){return K.New(e3.id,e2,e3.idForAuthorize,e3.influyente,e3.datosPersonales,e3.contactos,e3.identificacion,e3.isInternal,e3.status,e3.diaPago,e3.tipo,e3.fechaRegistro,e3.fechaStatus,e3.nReferidos,e3.nRefActivos,e3.nDescendientes,e3.nDescActivos,e3.comision,e3.nivel);});}function eX(e0){return $.tryFind(function(e1){return G.Equals(e1.id,e0);},m.modeloV().Get().aliados);}function eY(){var e0;Y.iterA((e0=bm.asyncResult(),e0.Run(e0.Delay(function(){return e0.Combine$1(e0.For(ep.Get(),function(e1){var e2,e3;e2=eX(e1.id);return e2!=null&&e2.$==1?(e3=e2.$0,!G.Equals(e1.status,e3.status)||!G.Equals(e1.idPadreO,e3.idPadreO)||!G.Equals(e1.influyente,e3.influyente)?e0.Bind$1(Y.ejecutarDataEventoNuevo({$:8,$0:[e1.id,e1.status,e1.idPadreO,e1.influyente]}),function(){return e0.Zero();}):e0.Zero()):e0.Zero();}),e0.Delay(function(){bo.refrescarData(true);return e0.Zero();}));}))));}function eZ(e0,e1){var e2,e3,e4,e5,e6,e7,e8,e9,e_,e$;return(e2=(e3=X.BindView(bs.crearOptions,bs.statuses().get_View()),(e4=new cI.New(p.Map(function(fa){return fa.influyente;},e1),(e5=new Z({$:0,$0:e0}),function(fa){return eV(e5,fa);})),(e6=new cI.New(p.Map(function(fa){return fa.status;},e1),(e7=new Z({$:0,$0:e0}),function(fa){return eU(e7,fa);})),(e8=new cI.New(p.Map(function(fa){return fa.referido;},e1),(e9=new Z({$:0,$0:e0}),function(fa){return eW(e9,fa);})),R.Make().WithHole({$:2,$0:"nombre",$1:p.Map(function(fa){return fa.nombre;},e1)}).WithHole({$:2,$0:"tipo",$1:p.Map(function(fa){return fa.tipo;},e1)}).WithHole({$:8,$0:"referido",$1:e8})).WithHole({$:8,$0:"status",$1:e6})).WithHole({$:8,$0:"influyente",$1:e4})).WithHole({$:0,$0:"statuses",$1:e3})).WithHole({$:2,$0:"nivel",$1:p.Map(function(fa){return fa.nivel;},e1)}).WithHole({$:2,$0:"referidos",$1:p.Map(function(fa){return fa.referidos;},e1)}).WithHole({$:2,$0:"descendientes",$1:p.Map(function(fa){return fa.descendientes;},e1)}).WithHole({$:2,$0:"comision",$1:p.Map(function(fa){return fa.comision;},e1)}).WithHole({$:2,$0:"diapago",$1:p.Map(function(fa){return fa.diaPago;},e1)}).WithHole({$:2,$0:"desde",$1:p.Map(function(fa){return fa.desde;},e1)}).WithHole({$:2,$0:"id",$1:p.Map(function(fa){return fa.Id;},e1)}),(e_=S.CompleteHoles(e2.k,e2.h,[["influyente",0],["status",0],["referido",0]]),(e$=new P.New(e_[1],T.filaconsolidado(e_[0])),(e2.i=e$,e$)))).get_Doc();}ep=i.Create$1([]);p.Sink(function(e0){ep.Set(e0);},p.Map(function(e0){return e0.aliados;},m.modeloV().get_View()));eq=i.Create$1(br.New([2,true,function(e0){return e0.nombre.toUpperCase();}],[3,true,function(e0){return e0.status.toUpperCase();}],[4,false,function(e0){return e0.influyente.toUpperCase();}],[5,true,function(e0){return e0.tipo.toUpperCase();}],[6,true,function(e0){return e0.referido.toUpperCase();}],[7,true,function(e0){return e0.nivel.toUpperCase();}],[8,true,function(e0){return e0.referidos.toUpperCase();}],[1,false,function(e0){return e0.descendientes.toUpperCase();}],[9,true,function(e0){return e0.comision.toUpperCase();}],[10,true,function(e0){return e0.diaPago.toUpperCase();}],[11,true,function(e0){return e0.desde.toUpperCase();}],[12,true,function(e0){return e0.Id.toUpperCase();}]));er=i.Create$1("");es=X.BindView(function(e0){return bs.crearOptions2($.map(function(e1){return[L.nombre2(e1.datosPersonales),e1.id.get_Id()];},e0.aliados));},m.modeloV().get_View());return(et=(eu=X.ConvertSeqBy(function(e0){return e0.Id;},function(e0){return function(e1){return eZ(e0,e1);};},p.Map3(function(e0,e1,e2){var e3,e4,e5;function e6(e9,e_,e$){return e$;}function e7(e9,e_,e$,fa){return bb.op_AmpGreater(function(fb,fc){return(e9(fb))(fc);},function(fb,fc){return(e_(fb))(fc);},e$,fa);}function e8(e9,e_,e$){return(e_?eh.Curried3(bb.asc):eh.Curried3(bb.desc))(e$);}e3=bg.Trim(e2).toUpperCase();e4=Q.map(function(e9){return e6(e9[0],e9[1],e9[2]);},eQ(e1));e5=Q.reduce(function(e9,e_){return eh.Curried(e7,2,[e9,e_]);},Q.map(function(e9){return e8(e9[0],e9[1],e9[2]);},Q.sortBy(function(e9){return a.id(e9[0],e9[1],e9[2]);},eQ(e1))));return $.sortWith(function(e9,e_){return(e5(e9))(e_);},$.filter(function(e9){return e3===""||$.exists(function(e_){return e_(e9).indexOf(e3)!=-1;},e4);},$.map(eP,e0)));},p.Map(function(e0){return e0.aliados;},m.modeloV().get_View()),eq.get_View(),er.get_View())),(ev=(ew=(ex=(ey=(ez=(eA=(eB=(eC=(eD=(eE=(eF=(eG=(eH=(eI=R.Make(),eI.WithHole(S.EventQ2(eI.k,"salvar",function(){return eI.i;},function(){eY();}))),eH.WithHole(S.EventQ2(eH.k,"cancelar",function(){return eH.i;},function(){ep.Set(m.modeloV().Get().aliados);}))).WithHole({$:2,$0:"changed",$1:p.Map2(function(e0,e1){return G.Equals(e0.aliados,e1)?"":"mui-btn--primary";},m.modeloV().get_View(),ep.get_View())}).WithHole({$:8,$0:"filtro",$1:er}).WithHole({$:0,$0:"referidores",$1:es}),eG.WithHole(S.EventQ2(eG.k,"sort_nombre",function(){return eG.i;},function(){eS(eq.Get().nombre);}))),eF.WithHole(S.EventQ2(eF.k,"sort_status",function(){return eF.i;},function(){eS(eq.Get().status);}))),eE.WithHole(S.EventQ2(eE.k,"sort_influyente",function(){return eE.i;},function(){eS(eq.Get().influyente);}))),eD.WithHole(S.EventQ2(eD.k,"sort_tipo",function(){return eD.i;},function(){eS(eq.Get().tipo);}))),eC.WithHole(S.EventQ2(eC.k,"sort_referido",function(){return eC.i;},function(){eS(eq.Get().referido);}))),eB.WithHole(S.EventQ2(eB.k,"sort_nivel",function(){return eB.i;},function(){eS(eq.Get().nivel);}))),eA.WithHole(S.EventQ2(eA.k,"sort_referidos",function(){return eA.i;},function(){eS(eq.Get().referidos);}))),ez.WithHole(S.EventQ2(ez.k,"sort_descendientes",function(){return ez.i;},function(){eS(eq.Get().descendientes);}))),ey.WithHole(S.EventQ2(ey.k,"sort_comision",function(){return ey.i;},function(){eS(eq.Get().comision);}))),ex.WithHole(S.EventQ2(ex.k,"sort_diapago",function(){return ex.i;},function(){eS(eq.Get().diaPago);}))),ew.WithHole(S.EventQ2(ew.k,"sort_desde",function(){return ew.i;},function(){eS(eq.Get().desde);}))),ev.WithHole(S.EventQ2(ev.k,"sort_id",function(){return ev.i;},function(){eS(eq.Get().Id);}))).WithHole({$:0,$0:"tbody",$1:eu})),(eJ=S.CompleteHoles(et.k,et.h,[["filtro",0]]),(eK=new P.New(eJ[1],T.consolidado(eJ[0])),(et.i=eK,eK)))).get_Doc();};z.comisiones=function(){var ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA;function eB(eF,eG){return eG===""?eF:eG;}function eC(){var eF;cK.Start((eF=null,cK.Delay(function(){return cK.Bind(p.GetAsync(ep),function(eG){a.saveAs(new cL([bg.concat("\r\n",$.map(function(eH){var eI,eJ;eI=eH[0];eJ=eH[1];return(((((((eh.Curried(function(eK,eL,eM,eN,eO,eP,eQ){return eK(bu.toSafe(eL)+","+bu.toSafe(eM)+","+bu.toSafe(eN)+","+bu.toSafe(eO)+","+bu.prettyPrint(eP)+","+bu.prettyPrint(eQ));},7))(a.id))("22"))(eB("----------",eJ.numero.get_Id())))(eB("----------",eJ.routing.get_Id())))((function(eK){return function(eL){return eK(a.String(eL)+".00");};}(a.id))(eI.comision)))("----------"))(eJ.titular===""?L.nombre2(eI.datosPersonales):eJ.titular);},eG))],{type:"text/plain;charset=utf-8"}),"pagos.csv");return cK.Zero();});})),null);}function eD(eF,eG){return eF.id;}function eE(eF,eG){var eH,eI,eJ,eK,eL;eH=p.Map(function(eM){return eM[0];},eG);eI=p.Map(function(eM){return eM[1];},eG);return(eJ=R.Make().WithHole({$:1,$0:"codigo",$1:"22"}).WithHole({$:2,$0:"cuenta",$1:p.Map(function(eM){return eB("----------",eM.numero.get_Id());},eI)}).WithHole({$:2,$0:"aba",$1:p.Map(function(eM){return eB("----------",eM.routing.get_Id());},eI)}).WithHole({$:2,$0:"monto",$1:p.Map(function(eM){return(function(eN){return function(eO){return eN(a.String(eO)+".00");};}(a.id))(eM.comision);},eH)}).WithHole({$:1,$0:"identificacion",$1:"---------"}).WithHole({$:2,$0:"nombre",$1:p.Map2(function(eM,eN){return eB(L.nombre2(eM.datosPersonales),eN.titular);},eH,eI)}),(eK=S.CompleteHoles(eJ.k,eJ.h,[]),(eL=new P.New(eK[1],T.filapago(eK[0])),(eJ.i=eL,eL)))).get_Doc();}ep=p.MapAsync(function(eF){var eG,eH,eI;function eJ(eK){return cK.Return(eK);}return cK.Bind((eG=bm.asyncResult(),eG.Run(eG.Delay(function(){var eK;eK=$.filter(function(eL){return eL.comision>0;},eF);return eG.Bind$1(Y.obtenerFormasDePagoPara(Q.ofSeq($.map(function(eL){return eL.id;},eK))),function(eL){function eM(eO,eP){return G.Equals(eO.id,eP[0])?{$:1,$0:[eO,eP[1]]}:null;}function eN(eO,eP){var eQ,eR;return[eO,(eQ=$.tryPick(function(eS){var eT;eT=eS.cuentaPago;return eT.$==0?{$:1,$0:eT.$0}:null;},eP),(eR=J.ctaVacio(),eQ==null?eR:eQ.$0))];}return eG.Return($.choose(function(eO){return eM(eO[0],eO[1]);},$.zip(eK,$.map(function(eO){return eN(eO[0],eO[1]);},eL))));});}))),(eH=(eI=[],function(eK){return bB.defaultValue(eI,eK);}),function(eK){return eJ(eH(eK));}));},p.Map(function(eF){return eF.aliados;},m.modeloV().get_View()));return(eq=(er=bw.ofArray([(es=R.Make().WithHole({$:2,$0:"codigo",$1:p.Map(function(eF){return(function(eG){return function(eH){return eG(a.String(eH));};}(a.id))($.length(eF));},ep)}).WithHole({$:1,$0:"cuenta",$1:""}).WithHole({$:1,$0:"aba",$1:""}).WithHole({$:2,$0:"monto",$1:p.Map(function(eF){function eG(eH,eI){return eH.comision;}return(function(eH){return function(eI){return eH(a.String(eI)+".00");};}(a.id))($.sumBy(function(eH){return eG(eH[0],eH[1]);},eF));},ep)}).WithHole({$:1,$0:"identificacion",$1:""}).WithHole({$:1,$0:"nombre",$1:""}),(et=S.CompleteHoles(es.k,es.h,[]),(eu=new P.New(et[1],T.filapago(et[0])),(es.i=eu,eu)))).get_Doc(),(ev=R.Make().WithHole({$:1,$0:"codigo",$1:""}).WithHole({$:1,$0:"cuenta",$1:""}).WithHole({$:1,$0:"aba",$1:""}).WithHole({$:1,$0:"monto",$1:"--------------------"}).WithHole({$:1,$0:"identificacion",$1:""}).WithHole({$:1,$0:"nombre",$1:""}),(ew=S.CompleteHoles(ev.k,ev.h,[]),(ex=new P.New(ew[1],T.filapago(ew[0])),(ev.i=ex,ex)))).get_Doc(),X.ConvertSeqBy(function(eF){return eD(eF[0],eF[1]);},function(eF){return function(eG){return eE(eF,eG);};},ep)]),(ey=R.Make(),ey.WithHole(S.EventQ2(ey.k,"exportar",function(){return ey.i;},function(){eC();}))).WithHole({$:0,$0:"tbody",$1:X.Concat(er)})),(ez=S.CompleteHoles(eq.k,eq.h,[]),(eA=new P.New(ez[1],T.tablapagos(ez[0])),(eq.i=eA,eA)))).get_Doc();};A.listaDocs=function(){var ep,eq,er,es,et;function eu(ev,ew){var ex,ey,ez,eA;return(ex=(ey=p.Map(function(eB){return eB.id.get_Id();},m.aliadoW()),R.Make().WithHole({$:2,$0:"nombre",$1:ew}).WithHole({$:2,$0:"idaliado",$1:ey})),(ez=S.CompleteHoles(ex.k,ex.h,[]),(eA=new P.New(ez[1],T.filadocs(ez[0])),(ex.i=eA,eA)))).get_Doc();}A.refrescarListaDocs();return(ep=(eq=(er=X.ConvertSeqBy(a.id,function(ev){return function(ew){return eu(ev,ew);};},A.docsV().get_View()),R.Make().WithHole({$:0,$0:"tbody",$1:er})),eq.WithHole(S.EventQ2(eq.k,"subir",function(){return eq.i;},function(ev){var ew;ew=p.TryGet(m.aliadoW());ew==null?void 0:A.subir(ev.Event,ew.$0.id.get_Id());}))),(es=S.CompleteHoles(ep.k,ep.h,[]),(et=new P.New(es[1],T.subirdocumentos(es[0])),(ep.i=et,et)))).get_Doc();};A.refrescarListaDocs=function(){Y.iterA(cA.map(function(ep){A.docsV().Set(ep);},Y.obtenerListaDocs()));};A.docsV=function(){_3.$cctor();return _3.docsV;};A.subir=function(ep,eq){var er,es,et,eu,ev,ew,ex,ey,ez,eA;ep.preventDefault();ev=a.jQuery("#SubirDocumentos");ew=new a.FormData();ex=ev.serializeArray();for(ey=0,ez=ex.length-1;ey<=ez;ey++){eA=Q.get(ex,ey);ew.append(eA.name,eA.value);}es=ev.children("input[type=file]").first().get(0).files.item(0);et=es.name;ew.append("file",es);ej.ajax((eu={},eu.type="POST",eu.url="/api/subir/"+eq+"/"+et,eu.data=ew,eu.contentType=false,eu.processData=false,eu.success=A.uploaded(),eu));};A.uploaded=function(){_3.$cctor();return _3.uploaded$1;};B.formaAutorizacion=function(){var ep,eq,er,es,et;ep=(eq=(er=X.EmbedView(B.cuentaAutorizar().get_View()),R.Make().WithHole({$:2,$0:"titular",$1:B.titular().get_View()}).WithHole({$:2,$0:"montoafiliacion",$1:p.Map(function(eu){return(function(ev){return function(ew){return ev("$"+a.String(ew)+".00");};}(a.id))(eu.premisas.montoAfiliacion);},m.modeloV().get_View())}).WithHole({$:2,$0:"dia",$1:p.Map(function(eu){return a.String(L.dia(eu.diaPago));},m.aliadoW())}).WithHole({$:0,$0:"cuentadebitar",$1:er})),(es=S.CompleteHoles(eq.k,eq.h,[]),(et=new P.New(es[1],T.autorizacionpago(es[0])),(eq.i=et,et)))).get_Doc();return bC.formaFirma(B.titular().get_View(),ep,B.actualizarSubscripcion,"AutorizacionPago");};B.titular=function(){_3.$cctor();return _3.titular;};B.actualizarSubscripcion=function(){var ep;ep=Y.actualizarSubscripcion(B.pid());return cA.map(function(eq){return function(er){return eq("Subscripción #"+bu.toSafe(er)+" creada.");};}(a.id),ep);};B.cuentaAutorizar=function(){_3.$cctor();return _3.cuentaAutorizar;};B.set_pid=function(ep){_3.$cctor();_3.pid=ep;};B.pid=function(){_3.$cctor();return _3.pid;};F.GetFields=function(ep){var eq,er;eq=[];for(var es in ep)eq.push([es,ep[es]]);return eq;};F.GetFieldValues=function(ep){var eq,er;eq=[];for(var es in ep)eq.push(ep[es]);return eq;};G.Equals=function(ep,eq){var er,es,et,eu;if(ep===eq)return true;else{er=typeof ep;if(er=="object"){if(ep===null||ep===void 0||eq===null||eq===void 0)return false;else if("Equals"in ep)return ep.Equals(eq);else if(ep instanceof a.Array&&eq instanceof a.Array)return G.arrayEquals(ep,eq);else if(ep instanceof a.Date&&eq instanceof a.Date)return G.dateEquals(ep,eq);else{es=[true];for(var ev in ep)if(function(ew){es[0]=!ep.hasOwnProperty(ew)||eq.hasOwnProperty(ew)&&G.Equals(ep[ew],eq[ew]);return!es[0];}(ev))break;if(es[0]){for(var ew in eq)if(function(ex){es[0]=!eq.hasOwnProperty(ex)||ep.hasOwnProperty(ex);return!es[0];}(ew))break;}return es[0];}}else return er=="function"&&("$Func"in ep?ep.$Func===eq.$Func&&ep.$Target===eq.$Target:"$Invokes"in ep&&"$Invokes"in eq&&G.arrayEquals(ep.$Invokes,eq.$Invokes));}};G.arrayEquals=function(ep,eq){var er,es;if(Q.length(ep)===Q.length(eq)){er=true;es=0;while(er&&es<Q.length(ep)){!G.Equals(Q.get(ep,es),Q.get(eq,es))?er=false:void 0;es=es+1;}return er;}else return false;};G.dateEquals=function(ep,eq){return ep.getTime()===eq.getTime();};G.Compare=function(ep,eq){var er,es,et,eu,ev,ew;if(ep===eq)return 0;else{es=typeof ep;switch(es=="function"?1:es=="boolean"?2:es=="number"?2:es=="string"?2:es=="object"?3:0){case 0:return typeof eq=="undefined"?0:-1;case 1:return o.FailWith("Cannot compare function values.");case 2:return ep<eq?-1:1;case 3:if(ep===null)et=-1;else if(eq===null)et=1;else if("CompareTo"in ep)et=ep.CompareTo(eq);else if("CompareTo0"in ep)et=ep.CompareTo0(eq);else if(ep instanceof a.Array&&eq instanceof a.Array)et=G.compareArrays(ep,eq);else if(ep instanceof a.Date&&eq instanceof a.Date)et=G.compareDates(ep,eq);else{eu=[0];for(var ex in ep)if(function(ey){return!ep.hasOwnProperty(ey)?false:!eq.hasOwnProperty(ey)?(eu[0]=1,true):(eu[0]=G.Compare(ep[ey],eq[ey]),eu[0]!==0);}(ex))break;if(eu[0]===0){for(var ey in eq)if(function(ez){return!eq.hasOwnProperty(ez)?false:!ep.hasOwnProperty(ez)&&(eu[0]=-1,true);}(ey))break;}et=eu[0];}return et;}}};G.compareArrays=function(ep,eq){var er,es;if(Q.length(ep)<Q.length(eq))return -1;else if(Q.length(ep)>Q.length(eq))return 1;else{er=0;es=0;while(er===0&&es<Q.length(ep)){er=G.Compare(Q.get(ep,es),Q.get(eq,es));es=es+1;}return er;}};G.compareDates=function(ep,eq){return G.Compare(ep.getTime(),eq.getTime());};G.Hash=function(ep){var eq;eq=typeof ep;return eq=="function"?0:eq=="boolean"?ep?1:0:eq=="number"?ep:eq=="string"?G.hashString(ep):eq=="object"?ep==null?0:ep instanceof a.Array?G.hashArray(ep):G.hashObject(ep):0;};G.hashString=function(ep){var eq,er,es;if(ep===null)return 0;else{eq=5381;for(er=0,es=ep.length-1;er<=es;er++)eq=G.hashMix(eq,ep[er].charCodeAt());return eq;}};G.hashArray=function(ep){var eq,er,es;eq=-34948909;for(er=0,es=Q.length(ep)-1;er<=es;er++)eq=G.hashMix(eq,G.Hash(Q.get(ep,er)));return eq;};G.hashObject=function(ep){var eq,er;if("GetHashCode"in ep)return ep.GetHashCode();else{eq=[0];for(var es in ep)if(function(et){eq[0]=G.hashMix(G.hashMix(eq[0],G.hashString(et)),G.Hash(ep[et]));return false;}(es))break;return eq[0];}};G.hashMix=function(ep,eq){return(ep<<5)+ep+eq;};H.newLyt=function(ep,eq){return bI.New(ep,i.Create$1(eq));};H.addLayout=function(ep){p.Sink(function(eq){var er;er=H.createEntries(ep.lytName,eq);k.addPlugIn(l.New(ep.lytName,Q.ofSeq($.delay(function(){return $.append([k.newVar("Layout",ep.lytDefinition)],$.delay(function(){return H.getVarEntries(er);}));})),[],Q.ofSeq($.delay(function(){return $.append(H.getDocEntries(er),$.delay(function(){var es;return $.append([k.newDocF("InputFile",{$:4,$0:(es=ep.lytName,eh.Curried(H.inputFile,4,[es])),$1:"attrs",$2:"Label",$3:"Action",$4:"[Doc]"})],$.delay(function(){var et;return $.append([k.newDocF("InputLabel",{$:3,$0:(et=ep.lytName,eh.Curried(H.inputLabel,3,[et])),$1:"attrs",$2:"Label",$3:"Var"})],$.delay(function(){var eu;return $.append([k.newDocF("HtmlDoc",{$:1,$0:(eu=ep.lytName,function(ev){return H.htmlDoc(eu,ev);}),$1:"html"})],$.delay(function(){return[k.newDocF("none",{$:1,$0:H.none,$1:"x"})];}));}));}));}));})),[],[]));k.mainDocV().Set(k.mainDocV().Get());},ep.lytDefinition.get_View());};H.createEntries=function(ep,eq){return H.processLines(function(er){return H.createEntryO(ep,er);},b1.splitByChar("\n",eq));};H.getVarEntries=function(ep){function eq(er){return er[1];}return $.map(function(er){return $.last(eq(er));},$.groupBy(function(er){return er.varName;},$.choose(function(er){return er.$==0?{$:1,$0:er.$0}:null;},ep)));};H.getDocEntries=function(ep){function eq(er){return er[1];}return $.map(function(er){return $.last(eq(er));},$.groupBy(function(er){return er.docName;},$.choose(function(er){return er.$==2?{$:1,$0:er.$0}:null;},ep)));};H.inputFile=function(ep,eq,er,es,et){var eu,ev,ew,ex;eu=(ev=(ew=((H.splitName())(ep))(es),k.tryGetAct(ew[0],ew[1])),ev==null?null:{$:1,$0:(ex=ev.$0,X.Element("div",H.getAttrs(ep,eq,true),[X.Element("div",[cU.Create("class","input-group")],[X.Element("span",[cU.Create("class","input-group-btn")],[X.Element("label",[cU.Create("class","btn")],[H.getText(ep,er,true),X.Element("input",[cU.Create("class","form-control"),cU.Create("type","file"),cM.Style("display","none"),cU.HandlerImpl("click",function(ey){return function(){ey.value="";};}),cU.HandlerImpl("change",function(ey){return function(){return k.callFunction(ey,null,ex.actFunction);};})],[])])]),et!==""?H.singleDoc(ep,bw.ofArray([[et,false]])):X.get_Empty()])]))});return eu==null?H.errDoc((function(ey){return function(ez){return ey("Action not found "+bu.toSafe(ez));};}(a.id))(es)):eu.$0;};H.inputLabel=function(ep,eq,er,es){var et,eu,ev;et=(eu=(ev=((H.splitName())(ep))(es),k.tryGetVar(ev[0],ev[1])),eu==null?null:{$:1,$0:X.Element("div",H.getAttrs(ep,eq,true),[X.Element("div",[cU.Create("class","input-group")],[X.Element("span",[cU.Create("class","input-group-addon")],[H.getText(ep,er,true)]),X.Input([cU.Create("class","form-control")],eu.$0.varVar)])])});return et==null?H.errDoc((function(ew){return function(ex){return ew("Var not found "+bu.toSafe(ex));};}(a.id))(es)):et.$0;};H.htmlDoc=function(ep,eq){var er;er=H.getTextData(ep,eq);return er.$==1?X.BindView(X.Verbatim,er.$0):er.$==2?H.errDoc((function(es){return function(et){return es("HtmlDoc: unexpected action "+W.p$1(et));};}(a.id))(er.$0)):X.Verbatim(er.$0);};H.none=function(ep){return X.Element("span",[],[]);};H.turnToView=function(ep){return X.EmbedView(p.Map(ep,k.mainDocV().get_View()));};H.splitName=function(){bJ.$cctor();return bJ.splitName;};H.getDocFinal=function(ep,eq){var er;er=H.getDocF(ep,eq);return er[1].$==0?er[0]:H.errDoc((((eh.Curried3(function(es,et,eu){return es("Too many parameters "+W.p(et)+" "+bu.printList(function(ev){return"("+bu.prettyPrint(ev[0])+", "+bu.prettyPrint(ev[1])+")";},eu));}))(a.id))(eq))(ep));};H.errDoc=function(ep){return X.Element("div",[],[X.TextNode(ep)]);};H.processLines=function(ep,eq){function er(es){var et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG;et=$.tryHead(es);return et!=null&&et.$==1?(eu=et.$0,(ev=H.splitTokens(eu),ev.$==1&&(ex=(ey=ev.$0,H.Identifier(ey[0],ey[1])),ex!=null&&ex.$==1&&(ev.$1.$==1&&((ez=ev.$1.$0,H.Vertical(ez[0],ez[1])).$==2&&(ev.$1.$1.$==0&&(ew=ex.$0,true)))))?(eA=H.getExtraLines(function(eH){return bg.StartsWith(bg.Trim(eH),"|");},es),er((de.createLayoutDefinitions(ew,de.extractNodes(eA[0])))[1].concat(eA[1]))):ev.$==0?er(b2.array(es,{$:1,$0:1},null)):(eB=H.getExtraLines(function(eH){return bg.StartsWith(bg.Trim(eH),":");},es),(eC=eB[1],(eD=eB[0],Q.length(eD)>0?((function(eH){return function(eI){return eH("l = ;"+bu.toSafe(eI)+";");};}(function(eH){ek.log(eH);}))(eu),eE=H.createLines($.nth(0,bg.SplitChars(eu,[" "],1)),1,[],[],1,eD),eF=eE[0],eG=eE[1],er(Q.ofSeq($.delay(function(){return $.append([eu+" "+bg.concat(" ",eF)],$.delay(function(){return $.append(eG,$.delay(function(){return eC;}));}));})))):Q.ofSeq($.delay(function(){var eH;return $.append((eH=ep(eu),eH!=null&&eH.$==1?[eH.$0]:[]),$.delay(function(){return er(eC);}));}))))))):[];}return er(eq);};H.createEntryO=function(ep,eq){var er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3,e4,e5,e6,e7,e8,e9,e_,e$,fa,fb,fc,fd,fe,ff,fg,fh,fi,fj,fk,fl,fm,fn,fo,fp,fq,fr,fs;try{er=H.splitTokens(eq);return er.$==1&&(et=(eu=er.$0,H.Identifier(eu[0],eu[1])),et!=null&&et.$==1&&(er.$1.$==1&&((ev=er.$1.$0,H.Vertical(ev[0],ev[1])).$==0&&(er.$1.$1.$==1&&(ew=(ex=er.$1.$1.$0,H.Measures$1(ex[0],ex[1])),ew!=null&&ew.$==1&&(es=[er.$1.$1.$1,ew.$0,et.$0],true))))))?(ey=es[2],H.entryDoc(ey,(H.createSplitterM())([ep,ey,true,es[1],es[0]]))):er.$==1&&(eA=(eB=er.$0,H.Identifier(eB[0],eB[1])),eA!=null&&eA.$==1&&(er.$1.$==1&&((eC=er.$1.$0,H.Vertical(eC[0],eC[1])).$==1&&(er.$1.$1.$==1&&(eD=(eE=er.$1.$1.$0,H.Measures$1(eE[0],eE[1])),eD!=null&&eD.$==1&&(ez=[er.$1.$1.$1,eD.$0,eA.$0],true))))))?(eF=ez[2],H.entryDoc(eF,(H.createSplitterM())([ep,eF,false,ez[1],ez[0]]))):er.$==1&&(eH=(eI=er.$0,H.Identifier(eI[0],eI[1])),eH!=null&&eH.$==1&&(er.$1.$==1&&((eJ=er.$1.$0,H.Var(eJ[0],eJ[1])).$==2&&(er.$1.$1.$==1&&(eK=(eL=er.$1.$1.$0,H.Identifier(eL[0],eL[1])),eK!=null&&eK.$==1&&(er.$1.$1.$1.$==1&&(er.$1.$1.$1.$1.$==1&&(er.$1.$1.$1.$1.$1.$==0&&(eG=[eK.$0,er.$1.$1.$1.$0,eH.$0,er.$1.$1.$1.$1.$0],true)))))))))?(eM=eG[2],H.entryDoc(eM,(H.createButtonM())([ep,eM,eG[0],eG[1],eG[3]]))):er.$==1&&(eO=(eP=er.$0,H.Identifier(eP[0],eP[1])),eO!=null&&eO.$==1&&(er.$1.$==1&&((eQ=er.$1.$0,H.Var(eQ[0],eQ[1])).$==3&&(er.$1.$1.$==1&&(eR=(eS=er.$1.$1.$0,H.Identifier(eS[0],eS[1])),eR!=null&&eR.$==1&&(er.$1.$1.$1.$==1&&(er.$1.$1.$1.$1.$==0&&(eN=[er.$1.$1.$1.$0,eO.$0,eR.$0],true))))))))?(eT=eN[1],H.entryDoc(eT,(H.createInputM())([ep,eT,eN[2],eN[0]]))):er.$==1&&(eV=(eW=er.$0,H.Identifier(eW[0],eW[1])),eV!=null&&eV.$==1&&(er.$1.$==1&&((eX=er.$1.$0,H.Var(eX[0],eX[1])).$==4&&(er.$1.$1.$==1&&(eY=(eZ=er.$1.$1.$0,H.Identifier(eZ[0],eZ[1])),eY!=null&&eY.$==1&&(er.$1.$1.$1.$==1&&(er.$1.$1.$1.$1.$==0&&(eU=[er.$1.$1.$1.$0,eV.$0,eY.$0],true))))))))?(e0=eU[1],H.entryDoc(e0,(H.createTextAreaM())([ep,e0,eU[2],eU[0]]))):er.$==1&&(e2=(e3=er.$0,H.Identifier(e3[0],e3[1])),e2!=null&&e2.$==1&&(er.$1.$==1&&((e4=er.$1.$0,H.Var(e4[0],e4[1])).$==0&&(er.$1.$1.$==1&&(er.$1.$1.$1.$==0&&(e1=[e2.$0,er.$1.$1.$0],true))))))?(e5=e1[0],H.entryVar(e5,(H.createVarM())([ep,e5,e1[1][0]]))):er.$==1&&(e7=(e8=er.$0,H.Identifier(e8[0],e8[1])),e7!=null&&e7.$==1&&(er.$1.$==1&&((e9=er.$1.$0,H.Var(e9[0],e9[1])).$==1&&(er.$1.$1.$==1&&(e6=[er.$1.$1.$0,e7.$0,er.$1.$1.$1],true)))))?(e_=e6[1],H.entryDoc(e_,(H.createDocM())([ep,e_,e6[0][0],e6[2]]))):er.$==1&&(fa=(fb=er.$0,H.Identifier(fb[0],fb[1])),fa!=null&&fa.$==1&&(er.$1.$==1&&((fc=er.$1.$0,H.Vertical(fc[0],fc[1])).$==4&&(er.$1.$1.$==1&&(er.$1.$1.$1.$==1&&(e$=[er.$1.$1.$1.$0,er.$1.$1.$1.$1,fa.$0,er.$1.$1.$0],true))))))?(fd=e$[2],H.entryDoc(fd,(H.createTemplateM())([ep,fd,e$[3],e$[0],e$[1]]))):er.$==1&&(ff=(fg=er.$0,H.Identifier(fg[0],fg[1])),ff!=null&&ff.$==1&&(er.$1.$==1&&((fh=er.$1.$0,H.Concat(fh[0],fh[1])).$==0&&(fe=[er.$1.$1,ff.$0],true))))?(fi=fe[1],H.entryDoc(fi,(H.createConcatM())([ep,fi,fe[0]]))):er.$==1&&(fk=(fl=er.$0,H.Identifier(fl[0],fl[1])),fk!=null&&fk.$==1&&(er.$1.$==1&&((fm=er.$1.$0,H.Vertical(fm[0],fm[1])).$==3&&(er.$1.$1.$==1&&(er.$1.$1.$1.$==1&&(er.$1.$1.$1.$1.$==1&&(fj=[er.$1.$1.$1.$1.$0,er.$1.$1.$0,er.$1.$1.$1.$1.$1,fk.$0,er.$1.$1.$1.$0],true)))))))?null:er.$==1&&(fo=(fp=er.$0,H.Identifier(fp[0],fp[1])),fo!=null&&fo.$==1&&(er.$1.$==1&&(fq=(fr=er.$1.$0,H.Vertical(fr[0],fr[1])),fq.$==5&&(er.$1.$1.$==1&&(fn=[er.$1.$1.$0,er.$1.$1.$1,fq.$0,fo.$0],true)))))?(fs=fn[3],H.entryDoc(fs,(H.createElementM())([ep,fs,fn[2],fn[0],fn[1]]))):null;}catch(ft){((function(fu){return function(fv){return fu(bu.prettyPrint(fv));};}(function(fu){ek.log(fu);}))(ft));return null;}};H.getAttrs=function(ep,eq,er){var es;es=[eq,er];return bw.ofSeq($.delay(function(){return $.append($.choose(function(et){var eu,ev,ew,ex,ey,ez;return!G.Equals(et,null)&&et.length===2&&(ev=Q.get(et,1),bg.Trim(Q.get(et,0))!==""&&bg.Trim(ev)!=="")?(ew=Q.get(et,1),(ex=Q.get(et,0),{$:1,$0:(ey=H.getTextData(ep,bg.Trim(ew)),ey.$==1?cM.Dynamic(bg.Trim(ex),ey.$0):ey.$==2?(ez=ey.$0,cM.Handler(bg.Trim(ex),function(eA){return function(eB){return k.callFunction(eA,eB,ez.actFunction);};})):cU.Create(bg.Trim(ex),bg.Trim(ey.$0)))})):null;},$.map(function(et){return b1.splitByChar("=",et);},b1.splitByChar(";",es[0]))),$.delay(function(){return $.choose(function(et){var eu,ev,ew,ex,ey;return!G.Equals(et,null)&&et.length===2&&(ev=Q.get(et,1),bg.Trim(Q.get(et,0))!==""&&bg.Trim(ev)!=="")?(ew=Q.get(et,1),(ex=Q.get(et,0),{$:1,$0:(ey=H.getTextData(ep,bg.Trim(ew)),ey.$==1?cM.DynamicStyle(bg.Trim(ex),ey.$0):ey.$==2?cM.Style(bg.Trim(ex),(function(ez){return function(eA){return ez("${"+bu.toSafe(eA)+"}");};}(a.id))(ey.$0.actName)):cM.Style(bg.Trim(ex),bg.Trim(ey.$0)))})):null;},$.map(function(et){return b1.splitByChar(":",et);},b1.splitByChar(";",es[0])));}));}));};H.getText=function(ep,eq,er){var es,et,eu,ev,ew,ex,ey,ez,eA;es=H.Identifier(eq,er);return es!=null&&es.$==1?(et=es.$0,(eu=((H.splitName())(ep))(et),(ev=eu[0],(ew=eu[1],(ex=(ey=k.tryGetViw(ev,ew),ey==null?null:{$:1,$0:X.TextView(ey.$0.viwView)}),ex==null?(ez=(eA=k.tryGetVar(ev,ew),eA==null?null:{$:1,$0:X.TextView(eA.$0.varVar.get_View())}),ez==null?X.TextNode(et):ez.$0):ex.$0))))):X.TextNode(eq);};H.singleDoc=function(ep,eq){return X.EmbedView(p.Map(function(er){var es;return er.$==1&&(er.$1.$==0&&(es=er.$0,true))?es:H.errDoc((function(et){return function(eu){return et("expected exactly 1 element "+bu.printList(function(ev){return"("+bu.prettyPrint(ev[0])+", "+bu.prettyPrint(ev[1])+")";},eu));};}(a.id))(eq));},p.Map(function(){return H.getDocs(ep,eq);},k.mainDocV().get_View())));};H.getTextData=function(ep,eq){var er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD;er=(es=b1.delimitedO("@{","}",eq),es==null?null:{$:1,$0:(et=es.$0,(eu=et[0],(ev=et[1],(ew=et[2],(ex=((H.splitName())(ep))(ev),(ey=ex[0],(ez=ex[1],(eA=(eB=k.tryGetWoW(ey,ez),eB==null?null:{$:1,$0:function(eE){var eF,eG;eG=H.getTextData(ep,ew);switch(eu===""?eG.$==1?(eF=eG.$0,2):eG.$==2?(eF=eG.$0,3):eG.$0===""?0:(eF=eG.$0,1):eG.$==1?(eF=eG.$0,2):eG.$==2?(eF=eG.$0,3):(eF=eG.$0,1)){case 0:return{$:1,$0:eE};case 1:return{$:1,$0:p.Map(function(eH){return eu+eH+eF;},eE)};case 2:return{$:1,$0:p.Map2(function(eH,eI){return eu+eH+eI;},eE,eF)};case 3:return{$:2,$0:eF};}}(eB.$0)}),eA==null?(eC=(eD=k.tryGetAct(ey,ez),eD==null?null:{$:1,$0:{$:2,$0:eD.$0}}),eC==null?{$:0,$0:((((eh.Curried(function(eE,eF,eG,eH){return eE(bu.toSafe(eF)+" ${Missing "+bu.toSafe(eG)+"}"+bu.toSafe(eH));},4))(a.id))(eu))(ev))(ew)}:eC.$0):eA.$0))))))))});return er==null?{$:0,$0:eq}:er.$0;};H.createSplitter=function(ep,eq,er,es,et){var eu;eu=H.pairOfDocs(ep,et);return es.$==1?H.variableSplitter(er,es.$0,es.$1,es.$2,eu[0],eu[1]):H.fixedSplitter(er,es.$0,es.$1,eu[0],eu[1]);};H.createButton=function(ep,eq,er,es,et){return H.turnToView(function(){var eu,ev,ew,ex,ey;function ez(eA,eB){return k.callFunction(null,null,eA.actFunction);}eu=(ev=(ew=(ex=((H.splitName())(ep))(er),k.tryGetAct(ex[0],ex[1])),ew==null?null:{$:1,$0:(ey=ew.$0,function(eA){return ez(ey,eA);})}),ev==null?a.ignore:ev.$0);return X.Button(et[0],H.getAttrs(ep,es[0],es[1]),eu);});};H.createInput=function(ep,eq,er,es){return H.turnToView(function(){var et,eu,ev,ew,ex;et=(eu=(ev=((H.splitName())(ep))(er),k.tryGetVoV(ev[0],ev[1])),(ew=(ex=H.getAttrs(ep,es[0],es[1]),function(ey){return X.Input(ex,ey);}),eu==null?null:{$:1,$0:ew(eu.$0)}));return et==null?H.errDoc((function(ey){return function(ez){return ey("Missing var: "+bu.toSafe(ez));};}(a.id))(er)):et.$0;});};H.createTextArea=function(ep,eq,er,es){return H.turnToView(function(){var et,eu,ev,ew,ex;et=(eu=(ev=((H.splitName())(ep))(er),k.tryGetVoV(ev[0],ev[1])),(ew=(ex=H.getAttrs(ep,es[0],es[1]),function(ey){return X.InputArea(ex,ey);}),eu==null?null:{$:1,$0:ew(eu.$0)}));return et==null?H.errDoc((function(ey){return function(ez){return ey("Missing var: "+bu.toSafe(ez));};}(a.id))(er)):et.$0;});};H.createElement=function(ep,eq,er,es,et){var eu;eu=[H.turnToView(function(){return X.Concat(H.getDocs(ep,et));})];return X.Element(er,H.getAttrs(ep,es[0],es[1]),eu);};H.createDoc=function(ep,eq,er,es){return H.turnToView(function(){var et,eu,ev;et=(eu=(ev=((H.splitName())(ep))(er),k.tryGetDoc(ev[0],ev[1])),eu==null?null:{$:1,$0:H.getDocFinal(es,eu.$0)});return et==null?H.errDoc((function(ew){return function(ex){return ew("Missing doc: "+bu.toSafe(ex));};}(a.id))(er)):et.$0;});};H.createTemplate=function(ep,eq,er,es,et){return H.turnToView(function(){var eu,ev,ew,ex,ey,ez;ew=H.getAttrs(ep,es[0],es[1]);cX.LoadLocalTemplates("local");function eA(eC,eD){var eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP;eE=H.Identifier(eD[0],eD[1]);return eE!=null&&eE.$==1?(eF=eE.$0,eG=eC[0],eH=(eI=(eJ=(eK=((H.splitName())(ep))(eF),k.tryGetDoc(eK[0],eK[1])),eJ==null?null:{$:1,$0:{$:0,$0:eG.toLowerCase(),$1:(H.getDocF(cz.Empty,eJ.$0))[0]}}),eI==null?(eL=(eM=((H.splitName())(ep))(eF),k.tryGetVar(eM[0],eM[1])),eL==null?null:{$:1,$0:{$:8,$0:eG.toLowerCase(),$1:eL.$0.varVar}}):eI),eH==null?{$:0,$0:eG.toLowerCase(),$1:H.errDoc((function(eQ){return function(eR){return eQ("Missing element: "+bu.toSafe(eR));};}(a.id))(eF))}:eH.$0):(eN=eC[0],eO=H.getTextData(ep,eD[0]),eO.$==1?{$:2,$0:eN.toLowerCase(),$1:eO.$0}:eO.$==2?(eP=eO.$0,{$:4,$0:eN.toLowerCase(),$1:function(eQ){return function(eR){return k.callFunction(eQ,eR,eP.actFunction);};}}):{$:1,$0:eN.toLowerCase(),$1:eO.$0});}function eB(eC,eD){return eC%2===0;}try{ev={$:1,$0:(ex=(ey=$.map(function(eC){return eA(eC[0],eC[1]);},$.map(function(eC){return eC[1];},$.filter(function(eC){return eB(eC[0],eC[1]);},$.indexed($.pairwise(et))))),($.isEmpty(ew)?a.id:(ez=[{$:3,$0:"attrs",$1:cU.Concat(ew)}],function(eC){return $.append(ez,eC);}))(ey)),cX.NamedTemplate("local",{$:1,$0:er[0].toLowerCase()},ex))};}catch(eC){ev=null;}return ev==null?H.errDoc((function(eD){return function(eE){return eD("Missing template: "+bu.toSafe(eE));};}(a.id))(er[0])):ev.$0;});};H.createConcat=function(ep,eq,er){return H.turnToView(function(){return X.Concat(H.getDocs(ep,er));});};H.createVar=function(ep,eq,er){return i.Create$1(er);};H.addNewLayout=function(ep,eq){var er,es;H.addLayout((er=(es=!G.Equals(eq,null)?eq:"\r\n            split horizontal 0-50-100 AppFramework.AppFwkClient Hello\r\n            Hello h1 \"color:blue; class=btn-primary\" \"How are you today?\" Ask\r\n            Ask Doc InputLabel \"placeholder=Type you answer here...\" \"Answer:\" AppFramework.mainDocV  \r\n            ",(b1.unindentStr())(es)),H.newLyt(!G.Equals(eq,null)?ep:"Lyt_"+bg.Replace(a.String(bq.NewGuid()),"-",""),er)));};H.getDocF=function(ep,eq){var er,es;es=eq.docDoc;switch(es.$==1?ep.$==1?(er=[es.$0,ep.$0[0],ep.$1],1):6:es.$==2?ep.$==1?ep.$1.$==1?(er=[es.$0,ep.$0[0],ep.$1.$0[0],ep.$1.$1],2):6:6:es.$==3?ep.$==1?ep.$1.$==1?ep.$1.$1.$==1?(er=[es.$0,ep.$0[0],ep.$1.$0[0],ep.$1.$1.$0[0],ep.$1.$1.$1],3):6:6:6:es.$==4?ep.$==1?ep.$1.$==1?ep.$1.$1.$==1?ep.$1.$1.$1.$==1?(er=[es.$0,ep.$0[0],ep.$1.$0[0],ep.$1.$1.$0[0],ep.$1.$1.$1.$0[0],ep.$1.$1.$1.$1],4):6:6:6:6:es.$==5?ep.$==1?ep.$1.$==1?ep.$1.$1.$==1?ep.$1.$1.$1.$==1?ep.$1.$1.$1.$1.$==1?(er=[es.$0,ep.$0[0],ep.$1.$0[0],ep.$1.$1.$0[0],ep.$1.$1.$1.$0[0],ep.$1.$1.$1.$1.$0[0],ep.$1.$1.$1.$1.$1],5):6:6:6:6:6:(er=[es.$0,ep],0)){case 0:return[er[0].f(),er[1]];case 1:return[er[0](er[1]),er[2]];case 2:return[(er[0](er[1]))(er[2]),er[3]];case 3:return[((er[0](er[1]))(er[2]))(er[3]),er[4]];case 4:return[(((er[0](er[1]))(er[2]))(er[3]))(er[4]),er[5]];case 5:return[((((er[0](er[1]))(er[2]))(er[3]))(er[4]))(er[5]),er[6]];case 6:return[X.Element("div",[],[X.TextNode((((eh.Curried3(function(et,eu,ev){return et("Parameters do not coincide with definition "+W.p(eu)+" - "+bu.printList(function(ew){return"("+bu.prettyPrint(ew[0])+", "+bu.prettyPrint(ew[1])+")";},ev));}))(a.id))(eq))(ep))]),cz.Empty];}};H.splitTokens=function(ep){return bw.ofSeq($.collect(a.id,$.mapi(function(eq,er){var es;return eq%2===1?[[er,true]]:(es=bg.Trim(er),es===""?[]:Q.map(function(et){return[et,false];},bg.SplitChars(es,[" "],1)));},b1.splitByChar("\"",ep))));};H.Identifier=function(ep,eq){var er,es,et;return(es=j.REGEX$1("^[$a-zA-Z_][0-9a-zA-Z_\\.\\-$]*$","",ep),es!=null&&es.$==1&&((et=es.$0,!G.Equals(et,null)&&et.length===1)&&(eq?false:(er=Q.get(es.$0,0),true))))?{$:1,$0:er}:null;};H.Vertical=function(ep,eq){var er,es,et,eu,ev,ew;return(eq?false:ep==="vertical")?{$:0,$0:null}:(eq?false:ep==="horizontal")?{$:1,$0:null}:(eq?false:ep==="layout")?{$:2,$0:null}:(eq?false:ep==="grid")?{$:3,$0:null}:(eq?false:ep==="template")?{$:4,$0:null}:(ew=H.Identifier(ep,eq),ew!=null&&ew.$==1?{$:5,$0:ew.$0}:{$:6,$0:null});};H.getExtraLines=function(ep,eq){var er,es,et,eu;er=(es=(et=$.tryFindIndex(function(ev){return bg.Trim(ev)!==""&&!ep(ev);},$.skip(1,eq)),et==null?null:{$:1,$0:1+et.$0}),(eu=Q.length(eq),es==null?eu:es.$0));return[b2.array(eq,{$:1,$0:1},{$:1,$0:er-1}),b2.array(eq,{$:1,$0:er},null)];};H.createLines=function(ep,eq,er,es,et,eu){var ev,ew,ex,ey,ez,eA,eB,eC,eD,eE;ev=bg.replicate(eq,":");ew=":"+ev;ex=$.tryHead(eu);return ex!=null&&ex.$==1?(ey=b1.StartsWith(ev,bg.Trim(ex.$0)),ey!=null&&ey.$==1?(ez=ey.$0,(eA=H.getExtraLines(function(eF){return bg.StartsWith(bg.Trim(eF),ew);},eu),(eB=(((eh.Curried3(function(eF,eG,eH){return eF(bu.toSafe(eG)+"_"+a.String(eH));}))(a.id))(ep))(et),(eC=H.createLines(eB,eq+1,[],[],1,eA[0]),(eD=eC[1],(eE=eC[0],H.createLines(ep,eq,Q.ofSeq($.delay(function(){return $.append(er,$.delay(function(){return[eB];}));})),Q.ofSeq($.delay(function(){return $.append(es,$.delay(function(){return $.append([eB+" "+ez+" "+bg.concat(" ",eE)],$.delay(function(){return eD;}));}));})),et+1,eA[1]))))))):[er,es]):[er,es];};H.Measures$1=function(ep,eq){var er,es,et,eu,ev,ew,ex,ey,ez,eA;er=[ep,eq];return er[1]?null:(es=b1.splitByChar("-",er[0]),!G.Equals(es,null)&&es.length===1&&(eu=(b3.Double())(Q.get(es,0)),eu!=null&&eu.$==1&&(et=eu.$0,true))?{$:1,$0:new dw({$:0,$0:et,$1:true})}:!G.Equals(es,null)&&es.length===2&&(Q.get(es,0)===""&&(ew=(b3.Double())(Q.get(es,1)),ew!=null&&ew.$==1&&(ev=ew.$0,true)))?{$:1,$0:new dw({$:0,$0:ev,$1:false})}:!G.Equals(es,null)&&es.length===3&&(ey=(b3.Double())(Q.get(es,0)),ey!=null&&ey.$==1&&(ez=(b3.Double())(Q.get(es,1)),ez!=null&&ez.$==1&&(eA=(b3.Double())(Q.get(es,2)),eA!=null&&eA.$==1&&(ex=[eA.$0,ey.$0,ez.$0],true))))?{$:1,$0:new dw({$:1,$0:ex[1],$1:ex[2],$2:ex[0]})}:null);};H.entryDoc=function(ep,eq){return{$:1,$0:{$:2,$0:k.newDoc(ep,r.Create(function(){return eq;}))}};};H.createSplitterM=function(){bJ.$cctor();return bJ.createSplitterM;};H.Var=function(ep,eq){var er,es,et,eu,ev,ew;return(eq?false:ep==="Var")?{$:0,$0:null}:(eq?false:ep==="Doc")?{$:1,$0:null}:(eq?false:ep==="button")?{$:2,$0:null}:(eq?false:ep==="input")?{$:3,$0:null}:(eq?false:ep==="textarea")?{$:4,$0:null}:(eq?false:ep==="select")?{$:5,$0:null}:{$:6,$0:null};};H.createButtonM=function(){bJ.$cctor();return bJ.createButtonM;};H.createInputM=function(){bJ.$cctor();return bJ.createInputM;};H.createTextAreaM=function(){bJ.$cctor();return bJ.createTextAreaM;};H.entryVar=function(ep,eq){return{$:1,$0:{$:0,$0:k.newVar(ep,eq)}};};H.createVarM=function(){bJ.$cctor();return bJ.createVarM;};H.createDocM=function(){bJ.$cctor();return bJ.createDocM;};H.createTemplateM=function(){bJ.$cctor();return bJ.createTemplateM;};H.Concat=function(ep,eq){var er;return(eq?false:ep==="concat")?{$:0,$0:null}:{$:1,$0:null};};H.createConcatM=function(){bJ.$cctor();return bJ.createConcatM;};H.createElementM=function(){bJ.$cctor();return bJ.createElementM;};H.getDocs=function(ep,eq){var er;return eq.$==0?cz.Empty:(er=H.getOneDoc(ep,eq),new cz({$:1,$0:er[0],$1:H.getDocs(ep,er[1])}));};H.pairOfDocs=function(ep,eq){var er;er=p.Map(function(es){var et;return es.$==1&&(es.$1.$==1&&(es.$1.$1.$==0&&(et=[es.$0,es.$1.$0],true)))?[et[0],et[1]]:[H.errDoc((function(eu){return function(ev){return eu("splitter expects exactly 2 elements "+bu.printList(function(ew){return"("+bu.prettyPrint(ew[0])+", "+bu.prettyPrint(ew[1])+")";},ev));};}(a.id))(eq)),H.errDoc("part 2")];},p.Map(function(){return H.getDocs(ep,eq);},k.mainDocV().get_View()));return[X.EmbedView(p.Map(function(es){return es[0];},er)),X.EmbedView(p.Map(function(es){return es[1];},er))];};H.variableSplitter=function(ep,eq,er,es,et,eu){return X.Element("wcomp-splitter",bw.ofSeq($.delay(function(){return $.append(ep?[cU.Create("vertical","")]:[],$.delay(function(){return $.append([cU.Create("min",a.String(eq))],$.delay(function(){return $.append([cU.Create("value",a.String(er))],$.delay(function(){return[cU.Create("max",a.String(es))];}));}));}));})),bw.ofArray([et,eu]));};H.fixedSplitter=function(ep,eq,er,es,et){var eu,ev,ew,ex,ey,ez,eA;eu=(((er?eh.Curried3(function(eB,eC,eD){return eB(eC.toFixed(6)+"px calc(100% - "+eD.toFixed(6)+"px)");}):eh.Curried3(function(eB,eC,eD){return eB("calc(100% - "+eC.toFixed(6)+"px) "+eD.toFixed(6)+"px");}))(a.id))(eq))(eq);return ep?(ev=R.Make().WithHole({$:1,$0:"partsizes",$1:eu}).WithHole({$:0,$0:"first",$1:es}).WithHole({$:0,$0:"second",$1:et}),(ew=S.CompleteHoles(ev.k,ev.h,[]),(ex=new P.New(ew[1],cN.fixedsplitterver(ew[0])),(ev.i=ex,ex)))).get_Doc():(ey=R.Make().WithHole({$:1,$0:"partsizes",$1:eu}).WithHole({$:0,$0:"first",$1:es}).WithHole({$:0,$0:"second",$1:et}),(ez=S.CompleteHoles(ey.k,ey.h,[]),(eA=new P.New(ez[1],cN.fixedsplitterhor(ez[0])),(ey.i=eA,eA)))).get_Doc();};H.getOneDoc=function(ep,eq){var er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF;return eq.$==1&&(es=(et=eq.$0,H.Identifier(et[0],et[1])),es!=null&&es.$==1&&(er=[es.$0,eq.$1],true))?(eu=er[0],(ev=er[1],(ew=((H.splitName())(ep))(eu),(ex=ew[0],(ey=ew[1],(ez=(eA=k.tryGetDoc(ex,ey),eA==null?null:{$:1,$0:H.getDocF(ev,eA.$0)}),ez==null?(eB=(eC=k.tryGetWoW(ex,ey),eC==null?null:{$:1,$0:[X.TextView(eC.$0),ev]}),eB==null?[H.errDoc((eD=(function(eG){return function(eH){return eG("Missing doc: "+bu.toSafe(eH));};}(a.id))(eu),(ba.print(eD),eD))),ev]:eB.$0):ez.$0)))))):eq.$==0?[X.get_Empty(),cz.Empty]:(eE=eq.$1,(eF=H.getTextData(ep,eq.$0[0]),eF.$==1?[X.TextView(eF.$0),eE]:eF.$==2?[H.errDoc((function(eG){return function(eH){return eG("Unexpected action: "+bu.toSafe(eH));};}(a.id))(eF.$0.actName)),eE]:[X.TextNode(eF.$0),eE]));};I.ofObj=function(ep){return ep==null?null:{$:1,$0:ep};};K.New=function(ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH){return{id:ep,idPadreO:eq,idForAuthorize:er,influyente:es,datosPersonales:et,contactos:eu,identificacion:ev,isInternal:ew,status:ex,diaPago:ey,tipo:ez,fechaRegistro:eA,fechaStatus:eB,nReferidos:eC,nRefActivos:eD,nDescendientes:eE,nDescActivos:eF,comision:eG,nivel:eH};};L.empty=function(){_3.$cctor();return _3.empty;};L.nombre2=function(ep){var eq,er;return(eq=(er=ep.titulo,er==null?null:{$:1,$0:" "+er.$0}),eq==null?"":eq.$0)+bg.Trim(ep.nombre1+" "+ep.nombre2)+" "+bg.Trim(ep.apellido1+" "+ep.apellido2);};L.nombre=function(ep){var eq,er;return(eq=(er=ep.titulo,er==null?null:{$:1,$0:" "+er.$0}),eq==null?"":eq.$0)+(ep.apellido1===""?"":bg.Trim(ep.apellido1+" "+ep.apellido2)+", ")+ep.nombre1+" "+ep.nombre2;};L.busqueda=function(ep){var eq,er;function es(ey,ez){return[ey,Q.ofSeq($.map(function(eA){return eA[1];},ez))];}function et(ey){var ez,eA;ez=(eA=null,[er.TryGetValue(ey,{get:function(){return eA;},set:function(eB){eA=eB;}}),eA]);return ez[0]?{$:1,$0:ez[1]}:null;}function eu(ey){var ez,eA;ez=(eA=null,[eq.TryGetValue({$:1,$0:ey},{get:function(){return eA;},set:function(eB){eA=eB;}}),eA]);return ez[0]?ez[1]:[];}function ev(ey){var ez,eA;ez=(eA=ey==null?null:et(ey.$0),eA==null?null:{$:1,$0:1+ev(eA.$0.idPadreO)});return ez==null?0:ez.$0;}function ew(ey){return Q.choose(et,eu(ey.id));}function ex(ey){return Q.ofSeq($.delay(function(){return $.collect(function(ez){return $.append([ez],$.delay(function(){return ex(ez);}));},ew(ey));}));}eq=new cv.New($.map(function(ey){return es(ey[0],ey[1]);},$.groupBy(function(ey){return ey[0];},$.map(function(ey){return[ey.idPadreO,ey.id];},ep))));er=new cv.New($.map(function(ey){return[ey.id,ey];},ep));return bc.New(eu,ev,function(ey){try{return er.get_Item(ey);}catch(ez){return(function(eA){return function(eB){return eA("buscarAliado failed: "+U.p$10(eB));};}(o.FailWith))(ey);}},et,ew,ex);};L.comision=function(ep,eq){var er;er=L.premisas(ep,eq);return[eq.nRefActivos*er[0],eq.nDescActivos*er[1]];};L.premisas=function(ep,eq){var er;er=eq.tipo.$==0?[ep.comisionReferidosMaster,ep.comisionDescendientesMaster]:[ep.comisionReferidosRegular,ep.comisionDescendientesRegular];return eq.status.$==2?[er[0],er[1]]:[0,0];};L.dia=function(ep){return ep.$==1?5:ep.$==2?10:ep.$==3?15:ep.$==4?20:ep.$==5?25:1;};P=O.TemplateInstance=eh.Class({get_Doc:function(){return this.doc;},Hole:function(ep){return this.allVars.get_Item(ep);}},g,P);P.New=eh.Ctor(function(ep,eq){g.New.call(this);this.doc=eq;this.allVars=ep.$==0?ep.$0:o.FailWith("Should not happen");},P);Q.get=function(ep,eq){Q.checkBounds(ep,eq);return ep[eq];};Q.length=function(ep){return ep.dims===2?ep.length*ep.length:ep.length;};Q.checkBounds=function(ep,eq){if(eq<0||eq>=ep.length)o.FailWith("Index was outside the bounds of the array.");};Q.set=function(ep,eq,er){Q.checkBounds(ep,eq);ep[eq]=er;};R=O.ProviderBuilder=eh.Class({WithHole:function(ep){this.h.push(ep);return this;}},null,R);R.Make=function(){var ep;return R.New(null,(ep=bq.NewGuid(),a.String(ep)),[]);};R.New=function(ep,eq,er){return new R({i:ep,k:eq,h:er});};S.CompleteHoles=function(ep,eq,er){var et,eu,ev,ew,ex,ey;function es(ez,eA){var eB,eC,eD,eE;return eu.Contains(ez)?null:(eB=eA===0?(eC=i.Create$1(""),[{$:8,$0:ez,$1:eC},eC]):eA===1?(eD=i.Create$1(0),[{$:13,$0:ez,$1:eD},eD]):eA===2?(eE=i.Create$1(false),[{$:9,$0:ez,$1:eE},eE]):o.FailWith("Invalid value type"),(et.set_Item(ez,eB[1]),{$:1,$0:eB[0]}));}et=new bQ.New$5();eu=new bR.New$3();ev=cw.Get(eq);try{while(ev.MoveNext()){ew=ev.Current();(ew.$==8?(ex=[ew.$0,bS.Box(ew.$1)],true):ew.$==11?(ex=[ew.$0,bS.Box(ew.$1)],true):ew.$==10?(ex=[ew.$0,bS.Box(ew.$1)],true):ew.$==13?(ex=[ew.$0,bS.Box(ew.$1)],true):ew.$==12?(ex=[ew.$0,bS.Box(ew.$1)],true):ew.$==9&&(ex=[ew.$0,bS.Box(ew.$1)],true))?(ey=ex[0],eu.Add(ey),et.set_Item(ey,ex[1])):void 0;}}finally{if(typeof ev=="object"&&"Dispose"in ev)ev.Dispose();}return[$.append(eq,Q.choose(function(ez){return es(ez[0],ez[1]);},er)),{$:0,$0:et}];};S.EventQ2=function(ep,eq,er,es){return{$:5,$0:eq,$1:true,$2:function(et){return function(eu){return es({Vars:er(),Target:et,Event:eu});};}};};T.opcionesadministrador=function(ep){cX.LoadLocalTemplates("index0");return ep?cX.NamedTemplate("index0",{$:1,$0:"opcionesadministrador"},ep):void 0;};U.p$2=function(ep){return ep.$==1?"Regular":"Master";};U.p$1=function(ep){return ep.$==4?"Cancelado":ep.$==3?"Inactivo":ep.$==2?"Activo":ep.$==1?"DatosBancariosIngresados":"CuentaCreada";};T.filaaliado=function(ep){cX.LoadLocalTemplates("index0");return ep?cX.NamedTemplate("index0",{$:1,$0:"filaaliado"},ep):void 0;};T.tablaaliados=function(ep){cX.LoadLocalTemplates("index0");return ep?cX.NamedTemplate("index0",{$:1,$0:"tablaaliados"},ep):void 0;};T.aliado=function(ep){cX.LoadLocalTemplates("index0");return ep?cX.NamedTemplate("index0",{$:1,$0:"aliado"},ep):void 0;};T.calculo=function(ep){cX.LoadLocalTemplates("index0");return ep?cX.NamedTemplate("index0",{$:1,$0:"calculo"},ep):void 0;};U.p$13=function(ep){return ep.$==2?"Mensaje "+bu.prettyPrint(ep.$0):ep.$==1?"NuevoRegistro "+bu.prettyPrint(ep.$0):"ROk";};T.formaregistro=function(ep){cX.LoadLocalTemplates("index0");return ep?cX.NamedTemplate("index0",{$:1,$0:"formaregistro"},ep):void 0;};T.filaconsolidado=function(ep){cX.LoadLocalTemplates("index0");return ep?cX.NamedTemplate("index0",{$:1,$0:"filaconsolidado"},ep):void 0;};T.consolidado=function(ep){cX.LoadLocalTemplates("index0");return ep?cX.NamedTemplate("index0",{$:1,$0:"consolidado"},ep):void 0;};U.p$15=function(ep){return ep.$==5?"Dia25":ep.$==4?"Dia20":ep.$==3?"Dia15":ep.$==2?"Dia10":ep.$==1?"Dia05":"Dia01";};T.filapago=function(ep){cX.LoadLocalTemplates("index0");return ep?cX.NamedTemplate("index0",{$:1,$0:"filapago"},ep):void 0;};T.tablapagos=function(ep){cX.LoadLocalTemplates("index0");return ep?cX.NamedTemplate("index0",{$:1,$0:"tablapagos"},ep):void 0;};T.filadocs=function(ep){cX.LoadLocalTemplates("index0");return ep?cX.NamedTemplate("index0",{$:1,$0:"filadocs"},ep):void 0;};T.subirdocumentos=function(ep){cX.LoadLocalTemplates("index0");return ep?cX.NamedTemplate("index0",{$:1,$0:"subirdocumentos"},ep):void 0;};T.autorizacionpago=function(ep){cX.LoadLocalTemplates("index0");return ep?cX.NamedTemplate("index0",{$:1,$0:"autorizacionpago"},ep):void 0;};V.r=function(){return c5.JSUnion(void 0,[[null,[[null,[]]],[]],[null,[[null,["NoUser"]]],[]],[null,[[null,["PreRegister"]]],[]],[null,[[null,["Content"]]],[c5.rString()]],[null,[[null,["Pdf"]]],[c5.rWildcard()]],[null,[[null,["Video"]]],[c5.rWildcard()]]]);};U.p$10=function(ep){return"IdAliado "+bu.prettyPrint(ep.$0);};T.datospersonales=function(ep){cX.LoadLocalTemplates("index0");return ep?cX.NamedTemplate("index0",{$:1,$0:"datospersonales"},ep):void 0;};U.p$12=function(ep){return ep.$==2?"Empresa":ep.$==1?"Femenino":"Masculino";};T.correo=function(ep){cX.LoadLocalTemplates("index0");return ep?cX.NamedTemplate("index0",{$:1,$0:"correo"},ep):void 0;};T.telefono=function(ep){cX.LoadLocalTemplates("index0");return ep?cX.NamedTemplate("index0",{$:1,$0:"telefono"},ep):void 0;};T.direccion=function(ep){cX.LoadLocalTemplates("index0");return ep?cX.NamedTemplate("index0",{$:1,$0:"direccion"},ep):void 0;};T.formadatospersonales=function(ep){cX.LoadLocalTemplates("index0");return ep?cX.NamedTemplate("index0",{$:1,$0:"formadatospersonales"},ep):void 0;};T.formacontactos=function(ep){cX.LoadLocalTemplates("index0");return ep?cX.NamedTemplate("index0",{$:1,$0:"formacontactos"},ep):void 0;};T.formacuentas=function(ep){cX.LoadLocalTemplates("index0");return ep?cX.NamedTemplate("index0",{$:1,$0:"formacuentas"},ep):void 0;};T.formafirma=function(ep){cX.LoadLocalTemplates("index0");return ep?cX.NamedTemplate("index0",{$:1,$0:"formafirma"},ep):void 0;};W.p=function(ep){return"{"+("errorCode = "+bu.prettyPrint(ep.errorCode))+"; "+("errorMessage = "+bu.prettyPrint(ep.errorMessage))+"; "+("message = "+bu.prettyPrint(ep.message))+"; "+("name = "+bu.prettyPrint(ep.name))+"; "+("stack = "+U.p$11(ep.stack))+"}";};W.p$1=function(ep){return"{"+("accessToken = "+bu.prettyPrint(ep.accessToken))+"; "+("account = "+bu.prettyPrint(ep.account))+"; "+("accountState = "+bu.prettyPrint(ep.accountState))+"; "+("expiresOn = "+bu.prettyPrint(ep.expiresOn))+"; "+("idToken = "+bu.prettyPrint(ep.idToken))+"; "+("scopes = "+bu.prettyPrint(ep.scopes))+"; "+("tenantId = "+bu.prettyPrint(ep.tenantId))+"; "+("tokenType = "+bu.prettyPrint(ep.tokenType))+"; "+("uniqueId = "+bu.prettyPrint(ep.uniqueId))+"}";};U.p$14=function(ep){return"IdPayment "+bu.prettyPrint(ep.$0);};U.p$4=function(ep){return ep.$==2?"OtroS "+bu.prettyPrint(ep.$0):ep.$==1?"Florida":"Texas";};U.p$3=function(ep){return ep.$==3?"OtroP "+bu.prettyPrint(ep.$0):ep.$==2?"Argentina":ep.$==1?"Venezuela":"USA";};U.p$6=function(ep){return ep.$==2?"Otra "+bu.prettyPrint(ep.$0):ep.$==1?"Corriente":"Ahorro";};U.p$11=function(ep){return ep==null?"null":"Some "+bu.prettyPrint(ep.$0);};T.cuentabancaria=function(ep){cX.LoadLocalTemplates("index0");return ep?cX.NamedTemplate("index0",{$:1,$0:"cuentabancaria"},ep):void 0;};T.tarjetacredito=function(ep){cX.LoadLocalTemplates("index0");return ep?cX.NamedTemplate("index0",{$:1,$0:"tarjetacredito"},ep):void 0;};U.p=function(ep){return ep.$==3?"ResetPassword":ep.$==2?"EditProfile":ep.$==1?"SignUp":"SignIn";};U.p$9=function(ep){return ep.$==3?"Voip":ep.$==2?"Habitacion":ep.$==1?"Oficina":"Movil";};U.p$8=function(ep){return ep.$==3?"Otro "+bu.prettyPrint(ep.$0):ep.$==2?"ServicioPostal":ep.$==1?"Oficina":"Habitacion";};U.p$5=function(ep){return ep.$==3?"Otra "+bu.prettyPrint(ep.$0):ep.$==2?"Amex":ep.$==1?"MasterCard":"Visa";};X=h.Doc=eh.Class({},g,X);X.get_Empty=function(){return X.Mk(null,p.Const());};X.Concat=function(ep){var eq;eq=cJ.ofSeqNonCopying(ep);return cJ.TreeReduce(X.get_Empty(),X.Append,eq);};X.BindView=function(ep,eq){return X.EmbedView(p.Map(ep,eq));};X.Mk=function(ep,eq){return new X.New(ep,eq);};X.ConvertSeqBy=function(ep,eq,er){return X.Flatten(p.MapSeqCachedViewBy(ep,function(es,et){return(eq(es))(et);},er));};X.EmbedView=function(ep){var eq;eq=da.CreateEmbedNode();return X.Mk({$:2,$0:eq},p.Map(a.ignore,p.Bind(function(er){da.UpdateEmbedNode(eq,er.docNode);return er.updates;},ep)));};X.Append=function(ep,eq){return X.Mk({$:0,$0:ep.docNode,$1:eq.docNode},p.Map2Unit(ep.updates,eq.updates));};X.Verbatim=function(ep){var eq;return X.Mk(cJ.MapTreeReduce(function(er){return G.Equals(er.nodeType,D.TEXT_NODE)?{$:5,$0:er}:{$:1,$0:da.CreateElemNode(er,df.EmptyAttr(),null)};},null,function(er,es){return{$:0,$0:er,$1:es};},(eq=ej.parseHTML(ep),G.Equals(eq,null)?[]:eq)),p.Const());};X.TextNode=function(ep){return X.Mk({$:5,$0:dg.CreateText(ep)},p.Const());};X.Flatten=function(ep){return X.EmbedView(p.Map(X.Concat,ep));};X.ConvertBy=function(ep,eq,er){return X.Flatten(p.MapSeqCachedBy(ep,eq,er));};X.Button=function(ep,eq,er){var es;es=cU.Concat(eq);return dE.New(X.Clickable("button",er),es,X.TextNode(ep));};X.Input=function(ep,eq){return X.InputInternal("input",function(){return $.append(ep,[cM.Value(eq)]);});};X.Element=function(ep,eq,er){var es,et;es=cU.Concat(eq);et=X.Concat(er);return dE.New(dg.CreateElement(ep),es,et);};X.RunInPlace=function(ep,eq,er){var es;es=da.CreateRunState(eq,er.docNode);p.Sink(dI.get_UseAnimations()||dJ.BatchUpdatesEnabled()?dK.StartProcessor(da.PerformAnimatedUpdate(ep,es,er.docNode)):function(){da.PerformSyncUpdate(ep,es,er.docNode);},er.updates);};X.Clickable=function(ep,eq){var er;er=dg.CreateElement(ep);er.addEventListener("click",function(es){es.preventDefault();return eq();},false);return er;};X.TextView=function(ep){var eq;eq=da.CreateTextNode();return X.Mk({$:4,$0:eq},p.Map(function(er){da.UpdateTextNode(eq,er);},ep));};X.InputInternal=function(ep,eq){var er;er=dg.CreateElement(ep);return dE.New(er,cU.Concat(eq(er)),X.get_Empty());};X.Run=function(ep,eq){da.LinkElement(ep,eq.docNode);X.RunInPlace(false,ep,eq);};X.InputArea=function(ep,eq){return X.InputInternal("textarea",function(){return $.append(ep,[cM.Value(eq)]);});};X.New=eh.Ctor(function(ep,eq){g.New.call(this);this.docNode=ep;this.updates=eq;},X);Y.llamadas=function(){_3.$cctor();return _3.llamadas;};Y.ejecutarDataEventoNuevo=function(ep){var eq,er,es;eq=(er=n.get_LoggedId(),function(et){return(new cB.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.ejecutarDataEventoNuevo:1305833807",[er,et]);});es=bm.asyncResult();return es.Run(es.Delay(function(){var et;et=Y.llamadas().Get()+1;Y.llamadas().Set(et);return es.TryFinally(es.Delay(function(){return es.ReturnFrom$1(eq(ep));}),function(){var eu;eu=Y.llamadas().Get()-1;Y.llamadas().Set(eu);});}));};Y.iterA=function(ep){cA.iterA(function(eq){a.alert(eq);},a.ignore,ep);};Y.obtenerFormasDePagoPara=function(ep){var eq;function er(es){return(new cB.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerFormasDePagoPara:2142892534",[es]);}eq=bm.asyncResult();return eq.Run(eq.Delay(function(){var es;es=Y.llamadas().Get()+1;Y.llamadas().Set(es);return eq.TryFinally(eq.Delay(function(){return eq.ReturnFrom$1(er(ep));}),function(){var et;et=Y.llamadas().Get()-1;Y.llamadas().Set(et);});}));};Y.enviarCorreosInvitacion=function(ep,eq){var er,es,et,eu;er=(es=n.get_LoggedId(),function(ev){return(new cB.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.enviarCorreosInvitacion:921486630",[es,ev[0],ev[1]]);});et=[ep,eq];eu=bm.asyncResult();return eu.Run(eu.Delay(function(){var ev;ev=Y.llamadas().Get()+1;Y.llamadas().Set(ev);return eu.TryFinally(eu.Delay(function(){return eu.ReturnFrom$1(er(et));}),function(){var ew;ew=Y.llamadas().Get()-1;Y.llamadas().Set(ew);});}));};Y.obtenerIdInfluyente=function(ep){var eq;function er(es){return(new cB.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerIdInfluyente:231616815",[es]);}eq=bm.asyncResult();return eq.Run(eq.Delay(function(){var es;es=Y.llamadas().Get()+1;Y.llamadas().Set(es);return eq.TryFinally(eq.Delay(function(){return eq.ReturnFrom$1(er(ep));}),function(){var et;et=Y.llamadas().Get()-1;Y.llamadas().Set(et);});}));};Y.obtenerUnions=function(){var ep;function eq(){return(new cB.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerUnions:1877296388",[]);}ep=bm.asyncResult();return ep.Run(ep.Delay(function(){var er;er=Y.llamadas().Get()+1;Y.llamadas().Set(er);return ep.TryFinally(ep.Delay(function(){return ep.ReturnFrom$1(eq(void 0));}),function(){var es;es=Y.llamadas().Get()-1;Y.llamadas().Set(es);});}));};Y.agregarUsuarioSiEsNuevo=function(ep){var eq,er,es;eq=(er=n.get_LoggedId(),function(et){return(new cB.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.agregarUsuarioSiEsNuevo:2096926511",[er,et]);});es=bm.asyncResult();return es.Run(es.Delay(function(){var et;et=Y.llamadas().Get()+1;Y.llamadas().Set(et);return es.TryFinally(es.Delay(function(){return es.ReturnFrom$1(eq(ep));}),function(){var eu;eu=Y.llamadas().Get()-1;Y.llamadas().Set(eu);});}));};Y.obtenerEstadoParaUsuario=function(ep){var eq,er;function es(et){return(new cB.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerEstadoParaUsuario:1912907973",[et]);}eq=n.get_LoggedId();er=bm.asyncResult();return er.Run(er.Delay(function(){var et;et=Y.llamadas().Get()+1;Y.llamadas().Set(et);return er.TryFinally(er.Delay(function(){return er.ReturnFrom$1(es(eq));}),function(){var eu;eu=Y.llamadas().Get()-1;Y.llamadas().Set(eu);});}));};Y.borrarFormaPago=function(ep){var eq,er,es;eq=(er=n.get_LoggedId(),function(et){return(new cB.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.borrarFormaPago:1837795433",[er,et]);});es=bm.asyncResult();return es.Run(es.Delay(function(){var et;et=Y.llamadas().Get()+1;Y.llamadas().Set(et);return es.TryFinally(es.Delay(function(){return es.ReturnFrom$1(eq(ep));}),function(){var eu;eu=Y.llamadas().Get()-1;Y.llamadas().Set(eu);});}));};Y.registrarTarjeta=function(ep){var eq,er,es;eq=(er=n.get_LoggedId(),function(et){return(new cB.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.registrarTarjeta:1914379366",[er,et]);});es=bm.asyncResult();return es.Run(es.Delay(function(){var et;et=Y.llamadas().Get()+1;Y.llamadas().Set(et);return es.TryFinally(es.Delay(function(){return es.ReturnFrom$1(eq(ep));}),function(){var eu;eu=Y.llamadas().Get()-1;Y.llamadas().Set(eu);});}));};Y.registrarCuenta=function(ep){var eq,er,es;eq=(er=n.get_LoggedId(),function(et){return(new cB.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.registrarCuenta:1678015656",[er,et]);});es=bm.asyncResult();return es.Run(es.Delay(function(){var et;et=Y.llamadas().Get()+1;Y.llamadas().Set(et);return es.TryFinally(es.Delay(function(){return es.ReturnFrom$1(eq(ep));}),function(){var eu;eu=Y.llamadas().Get()-1;Y.llamadas().Set(eu);});}));};Y.validarFormaPago=function(ep){var eq,er,es;eq=(er=n.get_LoggedId(),function(et){return(new cB.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.validarFormaPago:1837795433",[er,et]);});es=bm.asyncResult();return es.Run(es.Delay(function(){var et;et=Y.llamadas().Get()+1;Y.llamadas().Set(et);return es.TryFinally(es.Delay(function(){return es.ReturnFrom$1(eq(ep));}),function(){var eu;eu=Y.llamadas().Get()-1;Y.llamadas().Set(eu);});}));};Y.obtenerListaDocs=function(){var ep;function eq(){return(new cB.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerListaDocs:244796561",[n.get_LoggedId()]);}ep=bm.asyncResult();return ep.Run(ep.Delay(function(){var er;er=Y.llamadas().Get()+1;Y.llamadas().Set(er);return ep.TryFinally(ep.Delay(function(){return ep.ReturnFrom$1(eq(void 0));}),function(){var es;es=Y.llamadas().Get()-1;Y.llamadas().Set(es);});}));};Y.actualizarSubscripcion=function(ep){var eq,er,es;eq=(er=n.get_LoggedId(),function(et){return(new cB.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.actualizarSubscripcion:1837795433",[er,et]);});es=bm.asyncResult();return es.Run(es.Delay(function(){var et;et=Y.llamadas().Get()+1;Y.llamadas().Set(et);return es.TryFinally(es.Delay(function(){return es.ReturnFrom$1(eq(ep));}),function(){var eu;eu=Y.llamadas().Get()-1;Y.llamadas().Set(eu);});}));};Y.obtenerFormasDePago=function(){var ep;function eq(){return(new cB.New()).Async("ProzperServer:FsRoot.ProzperServer+Rpc.obtenerFormasDePagoId:-1441558235",[n.get_LoggedId()]);}ep=bm.asyncResult();return ep.Run(ep.Delay(function(){var er;er=Y.llamadas().Get()+1;Y.llamadas().Set(er);return ep.TryFinally(ep.Delay(function(){return ep.ReturnFrom$1(eq(void 0));}),function(){var es;es=Y.llamadas().Get()-1;Y.llamadas().Set(es);});}));};Z=J.IdAliado=eh.Class({get_Id:function(){return this.$0;}},null,Z);_0.New=function(ep,eq,er,es,et,eu){return{idAliado:ep,aliados:eq,anoActual:er,periodoActual:es,premisas:et,nevento:eu};};_1=h.ConcreteVar=eh.Class({get_View:function(){return this.view;},Set:function(ep){if(this.isConst)(function(eq){return eq("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal");}(function(eq){ek.log(eq);}));else{_2.Obsolete(this.snap);this.current=ep;this.snap=_2.New({$:2,$0:ep,$1:[]});}},Get:function(){return this.current;},Update:function(ep){this.Set(ep(this.Get()));},UpdateMaybe:function(ep){var eq;eq=ep(this.Get());eq!=null&&eq.$==1?this.Set(eq.$0):void 0;}},q,_1);_1.New=eh.Ctor(function(ep,eq,er){var es;es=this;q.New.call(this);this.isConst=ep;this.current=er;this.snap=eq;this.view=function(){return es.snap;};this.id=bV.Int();},_1);_2.Map=function(ep,eq){var er,es;er=eq.s;return er!=null&&er.$==0?_2.New({$:0,$0:ep(er.$0)}):(es=_2.New({$:3,$0:[],$1:[]}),(_2.When(eq,function(et){_2.MarkDone(es,eq,ep(et));},es),es));};_2.WhenRun=function(ep,eq,er){var es;es=ep.s;es==null?er():es!=null&&es.$==2?(es.$1.push(er),eq(es.$0)):es!=null&&es.$==3?(es.$0.push(eq),es.$1.push(er)):eq(es.$0);};_2.WhenObsoleteRun=function(ep,eq){var er;er=ep.s;er==null?eq():er!=null&&er.$==2?er.$1.push(eq):er!=null&&er.$==3?er.$1.push(eq):void 0;};_2.When=function(ep,eq,er){var es;es=ep.s;es==null?_2.Obsolete(er):es!=null&&es.$==2?(_2.EnqueueSafe(es.$1,er),eq(es.$0)):es!=null&&es.$==3?(es.$0.push(eq),_2.EnqueueSafe(es.$1,er)):eq(es.$0);};_2.MarkDone=function(ep,eq,er){var es;if(es=eq.s,es!=null&&es.$==0)_2.MarkForever(ep,er);else _2.MarkReady(ep,er);};_2.Map2=function(ep,eq,er){var es,et,eu;function ev(ew){var ex,ey,ez;if(!(ex=eu.s,ex!=null&&ex.$==0||ex!=null&&ex.$==2)){ey=_2.ValueAndForever(eq);ez=_2.ValueAndForever(er);ey!=null&&ey.$==1?ez!=null&&ez.$==1?ey.$0[1]&&ez.$0[1]?_2.MarkForever(eu,ep(ey.$0[0],ez.$0[0])):_2.MarkReady(eu,ep(ey.$0[0],ez.$0[0])):void 0:void 0;}}es=eq.s;et=er.s;return es!=null&&es.$==0?et!=null&&et.$==0?_2.New({$:0,$0:ep(es.$0,et.$0)}):_2.Map2Opt1(ep,es.$0,er):et!=null&&et.$==0?_2.Map2Opt2(ep,et.$0,eq):(eu=_2.New({$:3,$0:[],$1:[]}),(_2.When(eq,ev,eu),_2.When(er,ev,eu),eu));};_2.Map3=function(ep,eq,er,es){var et,eu,ev,ew;function ex(ey){var ez,eA,eB,eC;if(!(ez=ew.s,ez!=null&&ez.$==0||ez!=null&&ez.$==2)){eA=_2.ValueAndForever(eq);eB=_2.ValueAndForever(er);eC=_2.ValueAndForever(es);eA!=null&&eA.$==1?eB!=null&&eB.$==1?eC!=null&&eC.$==1?eA.$0[1]&&eB.$0[1]&&eC.$0[1]?_2.MarkForever(ew,ep(eA.$0[0],eB.$0[0],eC.$0[0])):_2.MarkReady(ew,ep(eA.$0[0],eB.$0[0],eC.$0[0])):void 0:void 0:void 0;}}et=eq.s;eu=er.s;ev=es.s;return et!=null&&et.$==0?eu!=null&&eu.$==0?ev!=null&&ev.$==0?_2.New({$:0,$0:ep(et.$0,eu.$0,ev.$0)}):_2.Map3Opt1(ep,et.$0,eu.$0,es):ev!=null&&ev.$==0?_2.Map3Opt2(ep,et.$0,ev.$0,er):_2.Map3Opt3(ep,et.$0,er,es):eu!=null&&eu.$==0?ev!=null&&ev.$==0?_2.Map3Opt4(ep,eu.$0,ev.$0,eq):_2.Map3Opt5(ep,eu.$0,eq,es):ev!=null&&ev.$==0?_2.Map3Opt6(ep,ev.$0,eq,er):(ew=_2.New({$:3,$0:[],$1:[]}),(_2.When(eq,ex,ew),_2.When(er,ex,ew),_2.When(es,ex,ew),ew));};_2.MapAsync=function(ep,eq){var er;er=_2.New({$:3,$0:[],$1:[]});_2.When(eq,function(es){bU.StartTo(ep(es),function(et){_2.MarkDone(er,eq,et);});},er);return er;};_2.TryGet=function(ep){var eq,er;eq=ep.s;return(eq!=null&&eq.$==0?(er=eq.$0,true):eq!=null&&eq.$==2&&(er=eq.$0,true))?{$:1,$0:er}:null;};_2.EnqueueSafe=function(ep,eq){var er,es,et,eu;ep.push(eq);if(ep.length%20===0){er=ep.slice(0);dS.Clear(ep);for(es=0,et=Q.length(er)-1;es<=et;es++){eu=Q.get(er,es);typeof eu=="object"?function(ev){if(ev.s)ep.push(ev);}(eu):function(ev){ep.push(ev);}(eu);}}else void 0;};_2.MarkForever=function(ep,eq){var er,es,et,eu;er=ep.s;if(er!=null&&er.$==3){ep.s={$:0,$0:eq};es=er.$0;for(et=0,eu=Q.length(es)-1;et<=eu;et++)(Q.get(es,et))(eq);}else void 0;};_2.MarkReady=function(ep,eq){var er,es,et,eu;er=ep.s;if(er!=null&&er.$==3){ep.s={$:2,$0:eq,$1:er.$1};es=er.$0;for(et=0,eu=Q.length(es)-1;et<=eu;et++)(Q.get(es,et))(eq);}else void 0;};_2.Map2Opt1=function(ep,eq,er){return _2.Map(function(es){return ep(eq,es);},er);};_2.Map2Opt2=function(ep,eq,er){return _2.Map(function(es){return ep(es,eq);},er);};_2.ValueAndForever=function(ep){var eq;eq=ep.s;return eq!=null&&eq.$==0?{$:1,$0:[eq.$0,true]}:eq!=null&&eq.$==2?{$:1,$0:[eq.$0,false]}:null;};_2.Map3Opt1=function(ep,eq,er,es){return _2.Map(function(et){return ep(eq,er,et);},es);};_2.Map3Opt2=function(ep,eq,er,es){return _2.Map(function(et){return ep(eq,et,er);},es);};_2.Map3Opt3=function(ep,eq,er,es){return _2.Map2(function(et,eu){return ep(eq,et,eu);},er,es);};_2.Map3Opt4=function(ep,eq,er,es){return _2.Map(function(et){return ep(et,eq,er);},es);};_2.Map3Opt5=function(ep,eq,er,es){return _2.Map2(function(et,eu){return ep(et,eq,eu);},er,es);};_2.Map3Opt6=function(ep,eq,er,es){return _2.Map2(function(et,eu){return ep(et,eu,eq);},er,es);};_2.Map2Unit=function(ep,eq){var er,es,et;function eu(){var ev,ew,ex;if(!(ev=et.s,ev!=null&&ev.$==0||ev!=null&&ev.$==2)){ew=_2.ValueAndForever(ep);ex=_2.ValueAndForever(eq);ew!=null&&ew.$==1?ex!=null&&ex.$==1?ew.$0[1]&&ex.$0[1]?_2.MarkForever(et,null):_2.MarkReady(et,null):void 0:void 0;}}er=ep.s;es=eq.s;return er!=null&&er.$==0?es!=null&&es.$==0?_2.New({$:0,$0:null}):eq:es!=null&&es.$==0?ep:(et=_2.New({$:3,$0:[],$1:[]}),(_2.When(ep,eu,et),_2.When(eq,eu,et),et));};_2.Join=function(ep){var eq;eq=_2.New({$:3,$0:[],$1:[]});_2.When(ep,function(er){var es;es=er();_2.When(es,function(et){var eu,ev;if((eu=es.s,eu!=null&&eu.$==0)&&(ev=ep.s,ev!=null&&ev.$==0))_2.MarkForever(eq,et);else _2.MarkReady(eq,et);},eq);},eq);return eq;};_2.Sequence=function(ep){var eq,er,es;function et(eu){var ev;if(es[0]===0){ev=Q.map(function(ew){var ex;ex=ew.s;return ex!=null&&ex.$==0?ex.$0:ex!=null&&ex.$==2?ex.$0:o.FailWith("value not found by View.Sequence");},eq);Q.forall(function(ew){var ex;ex=ew.s;return ex!=null&&ex.$==0;},eq)?_2.MarkForever(er,ev):_2.MarkReady(er,ev);}else es[0]--;}eq=Q.ofSeq(ep);return eq.length==0?_2.New({$:0,$0:[]}):(er=_2.New({$:3,$0:[],$1:[]}),(es=[Q.length(eq)-1],(Q.iter(function(eu){_2.When(eu,et,er);},eq),er)));};_2.Copy=function(ep){var eq,er,es;eq=ep.s;return eq==null?ep:eq!=null&&eq.$==2?(er=_2.New({$:2,$0:eq.$0,$1:[]}),(_2.WhenObsolete(ep,er),er)):eq!=null&&eq.$==3?(es=_2.New({$:3,$0:[],$1:[]}),(_2.When(ep,function(et){_2.MarkDone(es,ep,et);},es),es)):ep;};_2.WhenObsolete=function(ep,eq){var er;er=ep.s;er==null?_2.Obsolete(eq):er!=null&&er.$==2?_2.EnqueueSafe(er.$1,eq):er!=null&&er.$==3?_2.EnqueueSafe(er.$1,eq):void 0;};_3.$cctor=function(){var ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE;_3.$cctor=a.ignore;function eF(eO){return bg.concat("\n",eO);}function eG(eO){return b1.splitByChar$1("\n",eO);}function eH(eO){var eP,eQ;return b2.array(eO,{$:1,$0:0},{$:1,$0:(eP=0,(eQ=Q.length(eO)-2,G.Compare(eP,eQ)===1?eP:eQ))});}function eI(eO){return bg.concat("\n",eO);}function eJ(eO){return eO+"T00:00:00";}function eK(eO){var eP;eP=j.REGEX$2(j.rexEmail$1(),"gi",eO);return eP!=null&&eP.$==1?eP.$0:[];}function eL(eO){return bg.concat("\n",eO);}function eM(eO){return eO==="ProzperLyt.mainContent"?co.DefaultEP:{$:3,$0:eO};}function eN(eO){if(!G.Equals(m.endPointV().Get(),eO))m.endPointV().Set(eO);}_3.rtn=function(eO){return[eO];};_3.result=new bW.New();_3.result$1=bB.result();_3.resultP=new bX.New();_3.eff=new bZ.New();_3.asyncResult=new bn.New();_3.asyncResultP=new b0.New();_3.unindentStr=function(eO){return eF(b1.unindent$1(eO));};_3.skipLastLine=(ep=function(eO){return eH(eG(eO));},function(eO){return eI(ep(eO));});_3.parseDateO2=(eq=b3.tryParseWith$1(function(eO){var eP,eQ;eP=0;return[(eQ=cY.TryParse(eO),eQ!=null&&eQ.$==1&&(eP=eQ.$0,true)),eP];}),function(eO){return eq(eJ(eO));});_3.parseDateO=b3.tryParseWith$1(function(eO){var eP,eQ;eP=0;return[(eQ=cY.TryParse(eO),eQ!=null&&eQ.$==1&&(eP=eQ.$0,true)),eP];});_3.parseIntO=b3.tryParseWith$1(function(eO){var eP;eP=0;return[bO.TryParseInt32(eO,{get:function(){return eP;},set:function(eQ){eP=eQ;}}),eP];});_3.parseInt64O=b3.tryParseWith$1(function(eO){var eP;eP=0;return[bO.TryParseInt64(eO,{get:function(){return eP;},set:function(eQ){eP=eQ;}}),eP];});_3.parseSingleO=b3.tryParseWith$1(function(eO){var eP,eQ;eP=0;return[(eQ=a.Number(eO),a.isNaN(eQ)?false:(eP=eQ,true)),eP];});_3.parseDoubleO=b3.tryParseWith$1(function(eO){var eP,eQ;eP=0;return[(eQ=a.Number(eO),a.isNaN(eQ)?false:(eP=eQ,true)),eP];});_3.parseGuidO=b3.tryParseWith$1(function(eO){var eP;eP=null;return[bq.TryParse(eO,{get:function(){return eP;},set:function(eQ){eP=eQ;}}),eP];});_3["|Date|_|"]=b3.parseDateO$1();_3["|Int|_|"]=b3.parseIntO$1();_3["|Int64|_|"]=b3.parseInt64O$1();_3["|Single|_|"]=b3.parseSingleO$1();_3["|Double|_|"]=b3.parseDoubleO$1();_3["|Guid|_|"]=b3.parseGuidO$1();_3.serString=[b4.toJsonString,function(eO){return eO.tryString();}];_3.serFloat=[function(eO){return(function(eP){return function(eQ){return eP(bu.prettyPrint(eQ));};}(a.id))(eO);},function(eO){return eO.tryFloat();}];_3.serInt=[function(eO){return(function(eP){return function(eQ){return eP(bu.prettyPrint(eQ));};}(a.id))(eO);},function(eO){var eP;eP=eO.tryInt();return eP==null?null:{$:1,$0:o.toInt(eP.$0)};}];_3.serInt64=[function(eO){return function(eP){return eO(a.String(eP));};}(a.id),function(eO){return eO.tryInt();}];_3.serBool=[function(eO){return(function(eP){return function(eQ){return eP(bu.prettyPrint(eQ));};}(a.id))(eO);},function(eO){return eO.tryBool();}];_3.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";_3.rexEmail="(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@[*[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+]*";_3.policies=bw.ofArray([b6.SignIn,b6.SignUp,b6.EditProfile,b6.ResetPassword]);_3.premisasCalculo=bD.New(15,25,25,0,75,31,26,28);_3.telVacio=b7.New(b8.Movil,"","","","",false);_3.dirVacio=b9.New(ba.Error$1(""),b_.Habitacion,"","","",new b$({$:2,$0:""}),new ca({$:3,$0:""}),new cb({$:0,$0:""}));_3.tarVacio=cc.New("",cf.Visa,new ce({$:0,$0:""}),cd.New(2000,1));_3.ctaVacio=bx.New("","",cg.Ahorro,new bz({$:0,$0:""}),new by({$:0,$0:""}));_3.modeloVacio=_0.New(new Z({$:0,$0:""}),[],(er=el.now(),(new el(er)).getFullYear()),(es=el.now(),(new el(es)).getMonth()+1),J.premisasCalculo(),0);_3.correoVacio=bh.New("",null,null);_3.empty=(et=bL.New(null,"","","","",ca.USA,ch.Masculino,(new el(2000,1-1,1)).getTime()),K.New(new Z({$:0,$0:""}),null,null,null,et,[],[],false,bt.Inactivo,bM.Dia01,bN.Regular,(new el(2000,1-1,1)).getTime(),(new el(2000,1-1,1)).getTime(),0,0,0,0,0,0));_3.serverEndPoint=r.Create(function(){return self.location.protocol==="http:"?"http://localhost:7071/api/":(function(eO){return function(eP){return eO("https://"+bu.toSafe(eP)+"/api/");};}(a.id))(self.location.host);});_3.originalProvider=ci.AjaxProvider();_3.getTokenOA=function(){var eO;eO=null;return cK.Delay(function(){return cK.Return(null);});};_3.rootdir="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperServer\\website";_3.TemplatesFileName="D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperServer\\website"+"\\index0.html";((function(eO){return function(eP){return eO(bu.toSafe(eP));};}(function(eO){ek.log(eO);}))("D:\\Abe\\CIPHERWorkspace\\FSharpStation\\projects\\ProzperServer\\website\\index0.html"));_3.appId=bg.StartsWith(self.location.host,"prozper0")?"76703639-1d21-4bc3-bd46-c764f5ea78ee":"70ad4f9b-9a2b-409e-9c1e-d04dbb2e7cf2";_3.applicationId=bF.storeValue("applicationId",bF.appId());_3.tenantName=bF.storeValue("tenantName","prozper");_3.ref=bF.storeValue("ref","");_3.extraQueryParms=bF.storeValue("extraQueryParms","mkt=es-us");_3.refreshBefore=bF.storeValue("refreshBefore","0");_3.createOnStart=bF.storeValue("createOnStart","1");_3.forceLogin=bF.storeValue("forceLogin","1");_3.signInPolicy=bF.storeValue("signInPolicy","B2C_1_SignIn");_3.signUpPolicy=bF.storeValue("signUpPolicy","B2C_1_Registrarse");_3.editProfilePolicy=bF.storeValue("editProfilePolicy","B2C_1_EditarPerfil");_3.resetPasswordPolicy=bF.storeValue("resetPasswordPolicy","B2C_1_PasswordReset");_3.policyType=bF.storeValue("policyType","SignIn");eu=bF.storageGetItem("preambleState");eu==="InPreamble"||(eu===""||eu===null)?void bF.storeValue("preambleState","GoToSignIn"):null;_3.authority=bF.getAuthority(bF.tenantName(),bF.signInPolicy());_3.userO=i.Create$1(null);_3.agent=r.Create(function(){var eO,eP;eO=(eP=cj.New$1({$:1,$0:ck.New$1(bF.applicationId(),{$:1,$0:bF.authority()},{$:1,$0:false},null,null,null)},null,null,null),new self.Msal.UserAgentApplication(eP));eO.handleRedirectCallback(function(eQ,eR){bF.redirectCallback(eQ,eR);});return eO;});_3.getTokenO=(ew=cn.callA(function(eO){ba.print$1(eO);},bF.getTokenO0),function(){return ew.PostAndAsyncReply(function(eO){return[eO,null];},null);});_3.modeloV=i.Create$1(_0.New(new Z({$:0,$0:":"}),[],(ex=el.now(),(new el(ex)).getFullYear()),(ey=el.now(),(new el(ey)).getMonth()+1),J.premisasCalculo(),-2));_3.formasPagoAliadoV=i.Create$1([]);_3.invitacionesV=i.Create$1("");_3.emailsInvitarW=p.Map((ez=(eA=function(eO){return $.distinct(eK(eO));},function(eO){return $.sort(eA(eO));}),function(eO){return eL(ez(eO));}),m.invitacionesV().get_View());_3.invitacionesDisabledW=p.Map(function(eO){return eO===""?"disabled":"";},m.emailsInvitarW());_3.selAliadoIdOV=i.Create$1(null);_3.refAliadoIdOV=i.Create$1(null);_3.endPointV=cp.InstallHash(co.DefaultEP,V.r());p.Sink(function(eO){if(eO.$==1);else if(eO.$==2);else if(eO.$==4)a.showPDF(eO.$0);else if(eO.$==5)a.playVideo();else bF.checkUser();},m.endPointV().get_View());_3.contentVar=new cI.New(p.Map2(function(eO,eP){var eQ,eR;return eP.$==0&&!G.Equals(bF.userO().Get(),null)?"ProzperLyt.mainContent":eP.$==3&&(!G.Equals(bF.userO().Get(),null)&&(eR=eP.$0,true))?eR:eP.$==2?"ProzperLyt.cntPreRegister":eP.$==4?"ProzperLyt.cntPDF":eP.$==5?"ProzperLyt.cntVideo":"ProzperLyt.cntFormaNoUser";},bF.userO().get_View(),m.endPointV().get_View()),function(eO){return eN(eM(eO));});_3.aliadoW=(eB=p.get_Do(),p.Bind(function(eO){var eP,eQ;eP=eO.idAliado;eQ=$.tryFind(function(eR){return G.Equals(eR.id,eP);},eO.aliados);return p.Const(eQ!=null&&eQ.$==1?eQ.$0:L.empty());},m.modeloV().get_View()));cr.installBearer(bF.getTokenO());_3.llamadas=i.Create$1(0);ci.set_EndPoint(cs.serverEndPoint().f()+"rpc/rpc");_3.shouldRefresh=true;p.Sink(function(){bo.refrescarData(true);},bF.userO().get_View());cK.Start((eC=null,cK.Delay(function(){return cK.While(function(){return true;},cK.Delay(function(){return cK.Bind(cK.Sleep(5*60*1000),function(){return cK.Return(null);});}));})),null);try{self.document.addEventListener("visibilityChange",function(){return null;},false);}catch(eO){null;}_3.paises=i.Create$1([]);_3.estados=i.Create$1([]);_3.tiposDir=i.Create$1([]);_3.tiposTel=i.Create$1([]);_3.generos=i.Create$1([]);_3.tiposCta=i.Create$1([]);_3.tiposTar=i.Create$1([]);_3.statuses=i.Create$1([]);_3.aniosV=i.Create$1([]);_3.mesesV=i.Create$1([]);Y.iterA((eD=bm.asyncResult(),eD.Run(eD.Delay(function(){return eD.Bind$1(Y.obtenerUnions(),function(eP){bs.paises().Set(eP[0]);bs.estados().Set(eP[1]);bs.tiposDir().Set(eP[2]);bs.tiposTel().Set(eP[3]);bs.generos().Set(eP[4]);bs.tiposCta().Set(eP[5]);bs.tiposTar().Set(eP[6]);bs.statuses().Set(eP[7]);bs.aniosV().Set(eP[9]);bs.mesesV().Set(eP[8]);return eD.Zero();});}))));_3.ftel=[function(eP){return eP.$==2?{$:1,$0:eP.$0}:null;},function(eP){return{$:2,$0:eP};}];_3.fcor=[function(eP){return eP.$==1?{$:1,$0:eP.$0}:null;},function(eP){return{$:1,$0:eP};}];_3.fdir=[function(eP){return eP.$==0?{$:1,$0:eP.$0}:null;},function(eP){return{$:0,$0:eP};}];_3.uploaded=function(eP,eQ){return ba.print$1(eQ);};_3.mensajes=i.Create$1("");_3.firmanteV=i.Create$1("");_3.fechaHoraV=i.Create$1("");cK.Start((eE=null,cK.Delay(function(){return cK.While(function(){return true;},cK.Delay(function(){return cK.Bind(cK.Sleep(2000),function(){var eP;eP=function(eQ){return eQ.getFullYear()+"-"+("0"+(eQ.getMonth()+1)).slice(-2)+"-"+("0"+eQ.getDate()).slice(-2)+" "+("0"+eQ.getHours()).slice(-2)+":"+("0"+eQ.getMinutes()).slice(-2)+":"+("0"+eQ.getSeconds()).slice(-2)+":"+("00"+eQ.getMilliseconds()).slice(-3);}(new el(el.now()));bC.fechaHoraV().Set(eP);return cK.Zero();});}));})),null);_3.cuentaAutorizar=i.Create$1(X.TextNode("No hay cuenta seleccionada"));_3.titular=i.Create$1("");_3.pid=new ct({$:0,$0:""});_3.ftar=[function(eP){var eQ;eQ=eP.cuentaPago;return eQ.$==1?{$:1,$0:[eQ.$0,x.msg(eP),eP.authorizeIdR.$==0]}:null;},function(eP){return function(eQ){return bA.New(eP.nombre,ba.Error$1(""),{$:1,$0:eQ});};}];_3.fcta=[function(eP){var eQ;eQ=eP.cuentaPago;return eQ.$==0?{$:1,$0:[eQ.$0,x.msg(eP),eP.authorizeIdR.$==0]}:null;},function(eP){return function(eQ){return bA.New(eP.nombre,ba.Error$1(""),{$:0,$0:eQ});};}];_3.docsV=i.Create$1([]);_3.uploaded$1=function(eP,eQ){A.refrescarListaDocs();return a.alert(eQ);};_3.layoutName="ProzperLyt";_3.appName="Prozper";_3.influencerV=i.Create$1("");_3.influencerClassW=p.MapAsync(function(eP){var eQ;eQ=null;return cK.Delay(function(){return cK.Bind(Y.obtenerIdInfluyente(eP),function(eR){return eR.$==0?cK.Return("mui-btn--primary"):cK.Return("");});});},e.influencerV().get_View());};_4=h.ListModel=eh.Class({Append:function(ep){var eq,er,es,et;eq=this;er=this["var"].Get();es=this.key(ep);et=Q.tryFindIndex(function(eu){return G.Equals(eq.key(eu),es);},er);et!=null&&et.$==1?this["var"].Set(this.storage.SSetAt(et.$0,ep,er)):this["var"].Set(this.storage.SAppend(ep,er));this.ObsoleteKey(es);},TryFindByKey:function(ep){var eq;eq=this;return Q.tryFind(function(er){return G.Equals(eq.key(er),ep);},this["var"].Get());},ObsoleteKey:function(ep){var eq,er;eq=(er=null,[this.it.TryGetValue(ep,{get:function(){return er;},set:function(es){er=es;}}),er]);eq[0]?(_2.Obsolete(eq[1]),this.it.Remove(ep)):void 0;},MapLens:function(ep){var eq;eq=this;return p.MapSeqCachedViewBy(eq.key,function(er,es){return ep(er,eq["LensInto'"](a.id,function(et,eu){return eu;},er,es));},this["var"].get_View());},"LensInto'":function(ep,eq,er,es){var et,eu,ev;et=this;eu=bV.Id();ev=new q({Get:function(){return ep(et.FindByKey(er));},Set:function(ew){return et.UpdateBy(function(ex){return{$:1,$0:eq(ex,ew)};},er);},SetFinal:function(ew){return this.Set(ew);},Update:function(ew){return et.UpdateBy(function(ex){return{$:1,$0:eq(ex,ew(ep(ex)))};},er);},UpdateMaybe:function(ew){return et.UpdateBy(function(ex){var ey;ey=ew(ep(ex));return ey==null?null:{$:1,$0:eq(ex,ey.$0)};},er);},get_View:function(){return es;},get_Id:function(){return eu;}});q.New.call(ev);return ev;},FindByKey:function(ep){var eq;eq=this;return Q.find(function(er){return G.Equals(eq.key(er),ep);},this["var"].Get());},UpdateBy:function(ep,eq){var er,es,et,eu,ev;er=this;es=this["var"].Get();et=Q.tryFindIndex(function(ew){return G.Equals(er.key(ew),eq);},es);et!=null&&et.$==1?(eu=et.$0,ev=ep(Q.get(es,eu)),ev!=null&&ev.$==1?(this["var"].Set(this.storage.SSetAt(eu,ev.$0,es)),this.ObsoleteKey(eq)):void 0):void 0;},GetEnumerator:function(){return cw.Get(this["var"].Get());},GetEnumerator0:function(){return cw.Get0(this["var"].Get());}},g,_4);_4.New$1=eh.Ctor(function(ep){_4.New$2.call(this,ep,[]);},_4);_4.New$2=eh.Ctor(function(ep,eq){var er;er=Q.ofSeq(eq);_4.New$3.call(this,ep,i.Create$1(er),dz.InMemory(er));},_4);_4.New$3=eh.Ctor(function(ep,eq,er){g.New.call(this);this.key=ep;this["var"]=eq;this.storage=er;this.v=p.Map(function(es){return es.slice();},this["var"].get_View());this.it=new bQ.New$5();},_4);_5.New=function(ep,eq){return{varName:ep,varVar:eq};};_6.New=function(ep,eq){return{viwName:ep,viwView:eq};};_7.New=function(ep,eq){return{docName:ep,docDoc:eq};};_8.NewFromSeq=function(ep){var eq,er,es;eq={};er=cw.Get(ep);try{while(er.MoveNext()){es=er.Current();eq[es[0]]=es[1];}}finally{if(typeof er=="object"&&"Dispose"in er)er.Dispose();}return eq;};_.New=function(ep,eq,er){return{c:ep,v:eq,f:er};};$.sortWith=function(ep,eq){return $.delay(function(){var er;er=Q.ofSeq(eq);Q.sortInPlaceWith(ep,er);return er;});};$.filter=function(ep,eq){return{GetEnumerator:function(){var er;er=cw.Get(eq);return new cx.New(null,null,function(es){var et,eu,ev;et=er.MoveNext();eu=er.Current();ev=false;while(et)if(ep(eu)){es.c=eu;ev=true;et=false;}else if(er.MoveNext())eu=er.Current();else et=false;return ev;},function(){er.Dispose();});}};};$.isEmpty=function(ep){var eq;eq=cw.Get(ep);try{return!eq.MoveNext();}finally{if(typeof eq=="object"&&"Dispose"in eq)eq.Dispose();}};$.map=function(ep,eq){return{GetEnumerator:function(){var er;er=cw.Get(eq);return new cx.New(null,null,function(es){return er.MoveNext()&&(es.c=ep(er.Current()),true);},function(){er.Dispose();});}};};$.delay=function(ep){return{GetEnumerator:function(){return cw.Get(ep());}};};$.append=function(ep,eq){return{GetEnumerator:function(){var er,es;er=cw.Get(ep);es=[true];return new cx.New(er,null,function(et){var eu;return et.s.MoveNext()?(et.c=et.s.Current(),true):(eu=et.s,!G.Equals(eu,null)?eu.Dispose():void 0,et.s=null,es[0]&&(es[0]=false,et.s=cw.Get(eq),et.s.MoveNext()?(et.c=et.s.Current(),true):(et.s.Dispose(),et.s=null,false)));},function(et){var eu;eu=et.s;!G.Equals(eu,null)?eu.Dispose():void 0;});}};};$.collect=function(ep,eq){return $.concat($.map(ep,eq));};$.min=function(ep){var eq,er,es;eq=cw.Get(ep);try{if(!eq.MoveNext())$.seqEmpty();er=eq.Current();while(eq.MoveNext()){es=eq.Current();G.Compare(es,er)===-1?er=es:void 0;}return er;}finally{if(typeof eq=="object"&&"Dispose"in eq)eq.Dispose();}};$.tryPick=function(ep,eq){var er,es;er=cw.Get(eq);try{es=null;while(G.Equals(es,null)&&er.MoveNext())es=ep(er.Current());return es;}finally{if(typeof er=="object"&&"Dispose"in er)er.Dispose();}};$.tryFind=function(ep,eq){var er,es,et;er=cw.Get(eq);try{es=null;while(es==null&&er.MoveNext()){et=er.Current();ep(et)?es={$:1,$0:et}:void 0;}return es;}finally{if(typeof er=="object"&&"Dispose"in er)er.Dispose();}};$.exists=function(ep,eq){var er,es;er=cw.Get(eq);try{es=false;while(!es&&er.MoveNext())es=ep(er.Current());return es;}finally{if(typeof er=="object"&&"Dispose"in er)er.Dispose();}};$.sumBy=function(ep,eq){return $.fold(function(er,es){return er+ep(es);},0,eq);};$.length=function(ep){var eq,er;eq=0;er=cw.Get(ep);try{while(er.MoveNext())eq=eq+1;return eq;}finally{if(typeof er=="object"&&"Dispose"in er)er.Dispose();}};$.zip=function(ep,eq){return $.map2(function(er,es){return[er,es];},ep,eq);};$.choose=function(ep,eq){return $.collect(function(er){var es;es=ep(er);return es==null?cz.Empty:bw.ofArray([es.$0]);},eq);};$.distinct=function(ep){return $.distinctBy(a.id,ep);};$.sort=function(ep){return $.sortBy(a.id,ep);};$.groupBy=function(ep,eq){return $.delay(function(){return Q.groupBy(ep,Q.ofSeq(eq));});};$.concat=function(ep){return{GetEnumerator:function(){var eq;eq=cw.Get(ep);return new cx.New(null,null,function(er){var es;while(true){es=er.s;if(G.Equals(es,null)){if(eq.MoveNext()){er.s=cw.Get(eq.Current());er=er;}else{eq.Dispose();return false;}}else if(es.MoveNext()){er.c=es.Current();return true;}else{er.Dispose();er.s=null;er=er;}}},function(er){var es;es=er.s;!G.Equals(es,null)?es.Dispose():void 0;!G.Equals(eq,null)?eq.Dispose():void 0;});}};};$.seqEmpty=function(){return o.FailWith("The input sequence was empty.");};$.indexed=function(ep){return $.mapi(function(eq,er){return[eq,er];},ep);};$.fold=function(ep,eq,er){var es,et;es=eq;et=cw.Get(er);try{while(et.MoveNext())es=ep(es,et.Current());return es;}finally{if(typeof et=="object"&&"Dispose"in et)et.Dispose();}};$.map2=function(ep,eq,er){return{GetEnumerator:function(){var es,et;es=cw.Get(eq);et=cw.Get(er);return new cx.New(null,null,function(eu){return es.MoveNext()&&et.MoveNext()&&(eu.c=ep(es.Current(),et.Current()),true);},function(){es.Dispose();et.Dispose();});}};};$.tryFindIndex=function(ep,eq){var er,es,et;er=cw.Get(eq);try{es=true;et=0;while(es&&er.MoveNext())if(ep(er.Current()))es=false;else et=et+1;return es?null:{$:1,$0:et};}finally{if(typeof er=="object"&&"Dispose"in er)er.Dispose();}};$.distinctBy=function(ep,eq){return{GetEnumerator:function(){var er,es;er=cw.Get(eq);es=new bR.New$3();return new cx.New(null,null,function(et){var eu,ev;if(er.MoveNext()){eu=er.Current();ev=es.Add(ep(eu));while(!ev&&er.MoveNext()){eu=er.Current();ev=es.Add(ep(eu));}return ev&&(et.c=eu,true);}else return false;},function(){er.Dispose();});}};};$.sortBy=function(ep,eq){return $.delay(function(){var er;er=Q.ofSeq(eq);Q.sortInPlaceBy(ep,er);return er;});};$.mapi=function(ep,eq){return $.map2(ep,$.initInfinite(a.id),eq);};$.pairwise=function(ep){return $.map(function(eq){return[Q.get(eq,0),Q.get(eq,1)];},$.windowed(2,ep));};$.forall2=function(ep,eq,er){return!$.exists2(function(es,et){return!ep(es,et);},eq,er);};$.init=function(ep,eq){return $.take(ep,$.initInfinite(eq));};$.iteri=function(ep,eq){var er,es;er=0;es=cw.Get(eq);try{while(es.MoveNext()){ep(er,es.Current());er=er+1;}}finally{if(typeof es=="object"&&"Dispose"in es)es.Dispose();}};$.initInfinite=function(ep){return{GetEnumerator:function(){return new cx.New(0,null,function(eq){eq.c=ep(eq.s);eq.s=eq.s+1;return true;},void 0);}};};$.skip=function(ep,eq){return{GetEnumerator:function(){var er;er=cw.Get(eq);return new cx.New(true,null,function(es){var et,eu;if(es.s){for(et=1,eu=ep;et<=eu;et++)if(!er.MoveNext())$.insufficient();es.s=false;}else null;return er.MoveNext()&&(es.c=er.Current(),true);},function(){er.Dispose();});}};};$.nth=function(ep,eq){var er,es;if(ep<0)o.FailWith("negative index requested");er=-1;es=cw.Get(eq);try{while(er<ep){!es.MoveNext()?$.insufficient():void 0;er=er+1;}return es.Current();}finally{if(typeof es=="object"&&"Dispose"in es)es.Dispose();}};$.windowed=function(ep,eq){ep<=0?o.FailWith("The input must be positive."):void 0;return $.delay(function(){return $.enumUsing(cw.Get(eq),function(er){var es;es=[];return $.append($.enumWhile(function(){return es.length<ep&&er.MoveNext();},$.delay(function(){es.push(er.Current());return[];})),$.delay(function(){return es.length===ep?$.append([es.slice(0)],$.delay(function(){return $.enumWhile(function(){return er.MoveNext();},$.delay(function(){es.shift();es.push(er.Current());return[es.slice(0)];}));})):[];}));});});};$.head=function(ep){var eq;eq=cw.Get(ep);try{return eq.MoveNext()?eq.Current():$.insufficient();}finally{if(typeof eq=="object"&&"Dispose"in eq)eq.Dispose();}};$.exists2=function(ep,eq,er){var es,et,eu,ev;es=cw.Get(eq);try{eu=cw.Get(er);try{ev=false;while(!ev&&es.MoveNext()&&eu.MoveNext())ev=ep(es.Current(),eu.Current());et=ev;}finally{if(typeof eu=="object"&&"Dispose"in eu)eu.Dispose();}return et;}finally{if(typeof es=="object"&&"Dispose"in es)es.Dispose();}};$.compareWith=function(ep,eq,er){var es,et,eu,ev,ew;es=cw.Get(eq);try{eu=cw.Get(er);try{ev=0;ew=true;while(ew&&ev===0)if(es.MoveNext())ev=eu.MoveNext()?ep(es.Current(),eu.Current()):1;else if(eu.MoveNext())ev=-1;else ew=false;et=ev;}finally{if(typeof eu=="object"&&"Dispose"in eu)eu.Dispose();}return et;}finally{if(typeof es=="object"&&"Dispose"in es)es.Dispose();}};$.take=function(ep,eq){ep<0?$.nonNegative():void 0;return{GetEnumerator:function(){var er;er=[cw.Get(eq)];return new cx.New(0,null,function(es){var et;es.s=es.s+1;return es.s>ep?false:(et=er[0],G.Equals(et,null)?$.insufficient():et.MoveNext()?(es.c=et.Current(),es.s===ep?(et.Dispose(),er[0]=null):void 0,true):(et.Dispose(),er[0]=null,$.insufficient()));},function(){var es;es=er[0];!G.Equals(es,null)?es.Dispose():void 0;});}};};$.iter=function(ep,eq){var er;er=cw.Get(eq);try{while(er.MoveNext())ep(er.Current());}finally{if(typeof er=="object"&&"Dispose"in er)er.Dispose();}};$.unfold=function(ep,eq){return{GetEnumerator:function(){return new cx.New(eq,null,function(er){var es;es=ep(er.s);return es==null?false:(er.c=es.$0[0],er.s=es.$0[1],true);},void 0);}};};$.max=function(ep){var eq,er,es;eq=cw.Get(ep);try{if(!eq.MoveNext())$.seqEmpty();er=eq.Current();while(eq.MoveNext()){es=eq.Current();G.Compare(es,er)===1?er=es:void 0;}return er;}finally{if(typeof eq=="object"&&"Dispose"in eq)eq.Dispose();}};$.forall=function(ep,eq){return!$.exists(function(er){return!ep(er);},eq);};bb.op_AmpGreater=function(ep,eq,er,es){var et;et=ep(er,es);return et===0?eq(er,es):et;};bb.asc=function(ep,eq,er){return G.Compare(ep(eq),ep(er));};bb.desc=function(ep,eq,er){return G.Compare(ep(er),ep(eq));};bc.New=function(ep,eq,er,es,et,eu){return{hijosDe:ep,nivelDe:eq,aliado:er,aliadoO:es,hijos:et,descendientes:eu};};be=bd.FSharpSet=eh.Class({Contains:function(ep){return cy.Contains(ep,this.tree);},Remove:function(ep){return new be.New$1(cy.Remove(ep,this.tree));},Add:function(ep){return new be.New$1(cy.Add(ep,this.tree));},Equals:function(ep){return this.get_Count()===ep.get_Count()&&$.forall2(G.Equals,this,ep);},GetEnumerator$1:function(){return cw.Get(cy.Enumerate(false,this.tree));},get_Count:function(){var ep;ep=this.tree;return ep==null?0:ep.Count;},GetHashCode:function(){return -1741749453+G.Hash(Q.ofSeq(this));},GetEnumerator:function(){return this.GetEnumerator$1();},CompareTo0:function(ep){return $.compareWith(G.Compare,this,ep);},GetEnumerator0:function(){return this.GetEnumerator$1();}},g,be);be.op_Subtraction=function(ep,eq){return bf.Filter(function(er){return!eq.Contains(er);},ep);};be.New=eh.Ctor(function(ep){be.New$1.call(this,cy.OfSeq(ep));},be);be.New$1=eh.Ctor(function(ep){g.New.call(this);this.tree=ep;},be);bf.Filter=function(ep,eq){var er;return new be.New$1((er=Q.ofSeq($.filter(ep,eq)),cy.Build(er,0,er.length-1)));};bg.PadLeft=function(ep,eq){return bg.PadLeftWith(ep,eq," ");};bg.concat=function(ep,eq){return Q.ofSeq(eq).join(ep);};bg.PadLeftWith=function(ep,eq,er){return eq>ep.length?a.Array(eq-ep.length+1).join(er)+ep:ep;};bg.Trim=function(ep){return ep.replace(new a.RegExp("^\\s+"),"").replace(new a.RegExp("\\s+$"),"");};bg.Substring=function(ep,eq,er){return ep.substr(eq,er);};bg.Replace=function(ep,eq,er){function es(et){var eu,ev,ew;eu=et.indexOf(eq);return eu!==-1?(ev=bg.ReplaceOnce(et,eq,er),(ew=eu+er.length,bg.Substring(ev,0,eu+er.length)+es(ev.substring(ew)))):et;}return es(ep);};bg.SplitChars=function(ep,eq,er){return bg.Split(ep,new a.RegExp("["+bg.RegexEscape(eq.join(""))+"]"),er);};bg.StartsWith=function(ep,eq){return ep.substring(0,eq.length)==eq;};bg.ReplaceOnce=function(ep,eq,er){return ep.replace(eq,er);};bg.Split=function(ep,eq,er){return er===1?Q.filter(function(es){return es!=="";},bg.SplitWith(ep,eq)):bg.SplitWith(ep,eq);};bg.RegexEscape=function(ep){return ep.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};bg.IsNullOrEmpty=function(ep){return ep==null||ep=="";};bg.SplitWith=function(ep,eq){return ep.split(eq);};bg.replicate=function(ep,eq){return Q.create(ep,eq).join("");};bg.ReplaceChar=function(ep,eq,er){return bg.Replace(ep,eq,er);};bg.SplitStrings=function(ep,eq,er){return bg.Split(ep,new a.RegExp(bg.concat("|",Q.map(bg.RegexEscape,eq))),er);};bg.forall=function(ep,eq){return $.forall(ep,bg.protect(eq));};bg.protect=function(ep){return ep===null?"":ep;};bg.Join=function(ep,eq){return eq.join(ep);};bh=J.CorreoElectronico=eh.Class({toString:function(){return this.email;}},null,bh);bh.New=function(ep,eq,er){return new bh({email:ep,enviado:eq,recibido:er});};bi.formaDoc=function(ep){var eq,er,es,et,eu,ev;eq=(er=(es=X.EmbedView(p.Map(bs.crearOptions,bs.generos().get_View())),R.Make().WithHole({$:0,$0:"generos",$1:es})),(et=S.CompleteHoles(er.k,er.h,[["nombres",0],["apellidos",0],["fechanacimiento",0],["genero",0]]),(eu=new P.New(et[1],T.datospersonales(et[0])),(er.i=eu,eu))));p.Sink(function(ew){var ex;if(ew!=null&&ew.$==1){ex=ew.$0;eq.Hole("nombres").Set(bg.Trim(ex.nombre1+" "+ex.nombre2));eq.Hole("apellidos").Set(bg.Trim(ex.apellido1+" "+ex.apellido2));eq.Hole("fechanacimiento").Set(bv.toYYYYMMDD("-",ex.fechaNacimiento));eq.Hole("genero").Set((function(ey){return function(ez){return ey(U.p$12(ez));};}(a.id))(ex.genero));}},ep.get_View());ev=p.Apply(p.Apply(p.Map2(function(ew,ex){return function(ey){return function(ez){return $.map(function(eA){return eA[1];},$.filter(function(eA){return eA[0];},bw.ofArray([[bg.Trim(ew)==="","Nombres"],[bg.Trim(ex)==="","Apellidos"],[bg.Trim(ey)==="","Fecha de Nacimiento"],[bg.Trim(ez)==="","Genero"]])));};};},eq.Hole("nombres").get_View(),eq.Hole("apellidos").get_View()),eq.Hole("fechanacimiento").get_View()),eq.Hole("genero").get_View());p.Sink(function(ew){if(!G.Equals(ep.Get(),ew))ep.Set(ew);},p.Apply(p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(ew,ex){return eh.Curried(function(ey,ez,eA,eB,eC){return!$.isEmpty(ew)?null:bs.alertIfNone("Genero",ch.tryParse(ex),function(eD){return bs.alertIfNone("Fecha incorrecta",(b3.parseDateO2$1())(ey),function(eE){return{$:1,$0:bL.New(null,Q.get(bg.SplitChars(bg.Trim(ez),[" "],0),0),bg.concat(" ",b2.array(bg.SplitChars(bg.Trim(eA),[" "],0),{$:1,$0:1},null)),Q.get(bg.SplitChars(bg.Trim(eB),[" "],0),0),bg.concat(" ",b2.array(bg.SplitChars(bg.Trim(eC),[" "],0),{$:1,$0:1},null)),new ca({$:3,$0:""}),eD,eE)};});});},5);},ev,eq.Hole("genero").get_View()),eq.Hole("fechanacimiento").get_View()),eq.Hole("nombres").get_View()),eq.Hole("nombres").get_View()),eq.Hole("apellidos").get_View()),eq.Hole("apellidos").get_View()));return[ev,eq.get_Doc()];};bj.formaDoc=function(ep){var eq,er,es,et,eu,ev,ew;eq=i.Create$1("");er=(es=R.Make().WithHole({$:2,$0:"mensaje",$1:eq.get_View()}),(et=S.CompleteHoles(es.k,es.h,[["correo",0],["confirmarcorreo",0]]),(eu=new P.New(et[1],T.correo(et[0])),(es.i=eu,eu))));ev=ep.Get();ev!=null&&ev.$==1?er.Hole("confirmarcorreo").Set(a.String(ev.$0)):void 0;p.Sink(function(ex){eq.Set(ex);},p.Apply(p.Apply(p.Map2(function(ex,ey){return function(ez){return function(eA){return bg.Trim(ex)===""||bg.Trim(ey)===""||bg.Trim(ez)===bg.Trim(eA)?"":"Correos no son iguales";};};},er.Hole("correo").get_View(),er.Hole("confirmarcorreo").get_View()),er.Hole("correo").get_View()),er.Hole("confirmarcorreo").get_View()));p.Sink(function(ex){if(ex!=null&&ex.$==1)er.Hole("correo").Set(ex.$0.email);},ep.get_View());ew=p.Apply(p.Apply(p.Map2(function(ex,ey){return function(ez){return function(eA){return $.map(function(eB){return eB[1];},$.filter(function(eB){return eB[0];},bw.ofArray([[bg.Trim(ex)==="","Correo"],[bg.Trim(ey)==="","ConfirmarCorreo"],[ez!=="",eA]])));};};},er.Hole("correo").get_View(),er.Hole("confirmarcorreo").get_View()),eq.get_View()),eq.get_View());p.Sink(function(ex){if(!G.Equals(ep.Get(),ex))ep.Set(ex);},p.Map2(function(ex,ey){var ez,eA,eB,eC;return!$.isEmpty(ex)?null:(ez=(eA=ep.Get(),(eB={$:1,$0:J.correoVacio()},eA==null?eB:eA)),ez==null?null:{$:1,$0:(eC=ez.$0,bh.New(ey,eC.enviado,eC.recibido))});},ew,er.Hole("correo").get_View()));return[ew,er.get_Doc()];};bk.formaDoc=function(ep){var eq,er,es,et,eu,ev;eq=(er=(es=X.EmbedView(p.Map(bs.crearOptions,bs.tiposTel().get_View())),R.Make().WithHole({$:0,$0:"tipos",$1:es})),(et=S.CompleteHoles(er.k,er.h,[["tipotelefono",0],["codigopais",0],["codigoarea",0],["telefono",0],["extension",0]]),(eu=new P.New(et[1],T.telefono(et[0])),(er.i=eu,eu))));p.Sink(function(ew){var ex;if(ew!=null&&ew.$==1){ex=ew.$0;eq.Hole("codigoarea").Set(ex.codigoArea);eq.Hole("codigopais").Set(ex.codigoPais);eq.Hole("telefono").Set(ex.numero);eq.Hole("extension").Set(ex.extension);eq.Hole("tipotelefono").Set((function(ey){return function(ez){return ey(a.String(ez));};}(a.id))(ex.tipoTelefono));}},ep.get_View());ev=p.Apply(p.Map2(function(ew,ex){return function(ey){return $.map(function(ez){return ez[1];},$.filter(function(ez){return ez[0];},bw.ofArray([[bg.Trim(ew)==="","CodigoPais"],[bg.Trim(ex)==="","Telefono"],[bg.Trim(ey)==="","TipoTelefono"]])));};},eq.Hole("codigopais").get_View(),eq.Hole("telefono").get_View()),eq.Hole("tipotelefono").get_View());p.Sink(function(ew){if(!G.Equals(ep.Get(),ew))ep.Set(ew);},p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(ew,ex){return eh.Curried(function(ey,ez,eA,eB){return!$.isEmpty(ew)?null:bs.alertIfNone("TipoTelefono",(b8.get_tryParse())(bg.Trim(ex)),function(eC){var eD;return{$:1,$0:(eD=bg.Trim(ey),b7.New(eC,bg.Trim(ez),eD,bg.Trim(eA),bg.Trim(eB),false))};});},4);},ev,eq.Hole("tipotelefono").get_View()),eq.Hole("codigoarea").get_View()),eq.Hole("codigopais").get_View()),eq.Hole("telefono").get_View()),eq.Hole("extension").get_View()));return[ev,eq.get_Doc()];};bl.formaDoc=function(ep){var eq,er,es,et,eu,ev,ew,ex;eq=(er=(es=X.EmbedView(p.Map(bs.crearOptions,bs.tiposDir().get_View())),(et=X.EmbedView(p.Map(bs.crearOptions,bs.estados().get_View())),(eu=X.EmbedView(p.Map(bs.crearOptions,bs.paises().get_View())),R.Make().WithHole({$:0,$0:"paises",$1:eu})).WithHole({$:0,$0:"estados",$1:et})).WithHole({$:0,$0:"tipos",$1:es})),(ev=S.CompleteHoles(er.k,er.h,[["tipodireccion",0],["direccion1",0],["direccion2",0],["ciudad",0],["estado",0],["codigopostal",0],["pais",0]]),(ew=new P.New(ev[1],T.direccion(ev[0])),(er.i=ew,ew))));p.Sink(function(ey){var ez;if(ey!=null&&ey.$==1){ez=ey.$0;eq.Hole("direccion1").Set(ez.linea1);eq.Hole("direccion2").Set(ez.linea2);eq.Hole("ciudad").Set(ez.ciudad);eq.Hole("estado").Set((function(eA){return function(eB){return eA(a.String(eB));};}(a.id))(ez.estado));eq.Hole("pais").Set((function(eA){return function(eB){return eA(a.String(eB));};}(a.id))(ez.pais));eq.Hole("codigopostal").Set((function(eA){return function(eB){return eA(a.String(eB));};}(a.id))(ez.zonaPostal));eq.Hole("tipodireccion").Set((function(eA){return function(eB){return eA(a.String(eB));};}(a.id))(ez.tipoDireccion));}},ep.get_View());ex=p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(ey,ez){return eh.Curried(function(eA,eB,eC,eD){return $.map(function(eE){return eE[1];},$.filter(function(eE){return eE[0];},bw.ofArray([[bg.Trim(ey)==="","Direccion1"],[bg.Trim(ez)==="","Ciudad"],[bg.Trim(eA)==="","Estado"],[bg.Trim(eB)==="","Pais"],[bg.Trim(eC)==="","CodigoPostal"],[bg.Trim(eD)==="","TipoDireccion"]])));},4);},eq.Hole("direccion1").get_View(),eq.Hole("ciudad").get_View()),eq.Hole("estado").get_View()),eq.Hole("pais").get_View()),eq.Hole("codigopostal").get_View()),eq.Hole("tipodireccion").get_View());p.Sink(function(ey){if(!G.Equals(ep.Get(),ey))ep.Set(ey);},p.Apply(p.Apply(p.Apply(p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(ey,ez){return eh.Curried(function(eA,eB,eC,eD,eE,eF,eG){return!$.isEmpty(ey)?null:bs.alertIfNone("TipoDireccion",b_.tryParse(bg.Trim(ez)),function(eH){return bs.alertIfNone("Estado",b$.tryParse(bg.Trim(eA)),function(eI){return bs.alertIfNone("Pais",ca.tryParse(bg.Trim(eB)),function(eJ){return bs.alertIfNone("CodigoPostal",cb.tryParse(bg.Trim(eC)),function(eK){var eL;return{$:1,$0:b9.New((eL=eG==null?null:{$:1,$0:eG.$0.authorizeIdR},eL==null?ba.Error$1(""):eL.$0),eH,bg.Trim(eD),bg.Trim(eE),bg.Trim(eF),eI,eJ,eK)};});});});});},7);},ex,eq.Hole("tipodireccion").get_View()),eq.Hole("estado").get_View()),eq.Hole("pais").get_View()),eq.Hole("codigopostal").get_View()),eq.Hole("direccion1").get_View()),eq.Hole("direccion2").get_View()),eq.Hole("ciudad").get_View()),ep.get_View()));return[ex,eq.get_Doc()];};bm.asyncResult=function(){_3.$cctor();return _3.asyncResult;};bn=bm.AsyncResultBuilder=eh.Class({Run:function(ep){return cA.bind(ep,cA.rtn());},Delay:a.id,Bind$1:function(ep,eq){return cA.bind(eq,ep);},Zero:function(){return cA.rtn();},Combine$1:function(ep,eq){return cA.bind(eq,ep);},For:function(ep,eq){var er;er=this;return this.Using(cw.Get(ep),function(es){return er.While(function(){return es.MoveNext();},er.Delay(function(){return eq(es.Current());}));});},Return:function(ep){return cA.rtn(ep);},Bind:function(ep,eq){return cA.bind(eq,cA.rtnR(ep));},Using:function(ep,eq){return cK.Using(ep,eq);},While:function(ep,eq){return cA.whileLoop(ep,eq);},ReturnFrom$1:a.id,TryFinally:function(ep,eq){var er;er=null;return cK.Delay(function(){return cK.TryFinally(cK.Delay(function(){return ep();}),function(){eq();});});}},g,bn);bn.New=eh.Ctor(function(){g.New.call(this);},bn);bo.refrescarData=function(ep){var eq,er,es;ep?bo.set_shouldRefresh(true):void 0;eq=bF.userO().Get();eq!=null&&eq.$==1?(er=eq.$0,Y.iterA((es=bm.asyncResult(),es.Run(es.Delay(function(){return es.Combine$1(bF.referidoPor()!==""?es.Bind$1(Y.agregarUsuarioSiEsNuevo(bF.claims(er)),function(){return es.Return();}):es.Zero(),es.Delay(function(){return!self.document.hidden?bo.shouldRefresh()?es.Bind$1(Y.obtenerEstadoParaUsuario(),function(et){bo.set_shouldRefresh(false);return!G.Equals(m.modeloV().Get(),et)?(m.modeloV().Set(et),es.Zero()):es.Zero();}):es.Zero():es.Zero();}));}))))):m.modeloV().Set(J.modeloVacio());};bo.set_shouldRefresh=function(ep){_3.$cctor();_3.shouldRefresh=ep;};bo.shouldRefresh=function(){_3.$cctor();return _3.shouldRefresh;};bq.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new a.RegExp("[xy]","g"),function(ep){var eq,er;eq=ei.random()*16|0;er=ep=="x"?eq:eq&3|8;return er.toString(16);});};bq.TryParse=function(ep,eq){try{eq.set(bq.Parse(ep));return true;}catch(er){return false;}};bq.Parse=function(ep){var eq,er,es;try{return bq.ParseExact(ep,"D");}catch(et){try{eq=bq.ParseExact(ep,"B");}catch(eu){try{er=bq.ParseExact(ep,"P");}catch(ev){try{es=bq.ParseExact(ep,"N");}catch(ew){es=bq.ParseExact(ep,"X");}er=es;}eq=er;}return eq;}};bq.ParseExact=function(ep,eq){var er,es,et,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE;function eu(eF){var eG,eH,eI,eJ;for(eG=0,eH=35;eG<=eH;eG++){eG===8||(eG===13||(eG===18||eG===23))?eF[eG]!=="-"?bq.ShapeError():void 0:(eJ=eF[eG],!("0"<=eJ&&eJ<="9"||"a"<=eJ&&eJ<="f")?bq.ShapeError():void 0);}return eF;}ev=eq.toUpperCase();if(ev==="N"){ew=bg.Trim(ep).toLowerCase();if(ew.length!==32)bq.ShapeError();for(ex=0,ey=31;ex<=ey;ex++){ez=ew[ex];!("0"<=ez&&ez<="9"||"a"<=ez&&ez<="f")?bq.ShapeError():void 0;}return bg.Substring(ew,0,8)+"-"+bg.Substring(ew,8,4)+"-"+bg.Substring(ew,12,4)+"-"+bg.Substring(ew,16,4)+"-"+ew.substring(20);}else if(ev==="D"){er=bg.Trim(ep).toLowerCase();er.length!==36?bq.ShapeError():void 0;return eu(er);}else if(ev==="B"){es=bg.Trim(ep).toLowerCase();es.length!==38||es[0]!=="{"||es[17]!=="}"?bq.ShapeError():void 0;return eu(bg.Substring(es,1,36));}else if(ev==="P"){et=bg.Trim(ep).toLowerCase();et.length!==38||et[0]!=="("||et[17]!==")"?bq.ShapeError():void 0;return eu(bg.Substring(et,1,36));}else if(ev==="X"){eA=bg.Trim(ep).toLowerCase();if(eA.length!==68)bq.ShapeError();for(eB=0,eC=67;eB<=eC;eB++){switch(eB){case 26:case 0:if(eA[eB]!=="{")bq.ShapeError();break;case 62:case 57:case 52:case 47:case 42:case 37:case 32:case 27:case 19:case 12:case 1:if(eA[eB]!=="0")bq.ShapeError();break;case 63:case 58:case 53:case 48:case 43:case 38:case 33:case 28:case 20:case 13:case 2:if(eA[eB]!=="x")bq.ShapeError();break;case 61:case 56:case 51:case 46:case 41:case 36:case 31:case 25:case 18:case 11:if(eA[eB]!==",")bq.ShapeError();break;case 67:case 66:if(eA[eB]!=="{")bq.ShapeError();break;default:eE=eA[eB];!("0"<=eE&&eE<="9"||"a"<=eE&&eE<="f")?bq.ShapeError():void 0;break;}}return bg.Substring(eA,3,8)+"-"+bg.Substring(eA,14,4)+"-"+bg.Substring(eA,21,4)+"-"+bg.Substring(eA,29,2)+bg.Substring(eA,34,2)+"-"+bg.Substring(eA,39,2)+bg.Substring(eA,44,2)+bg.Substring(eA,49,2)+bg.Substring(eA,54,2)+bg.Substring(eA,59,2)+bg.Substring(eA,64,2);}else return bq.FormatError();};bq.ShapeError=function(){throw new d6.New$1("Guid should contain 32 digits with 4 dashes (xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");};bq.FormatError=function(){throw new d6.New$1("Format String can be only \"D\", \"d\", \"N\", \"n\", \"P\", \"p\", \"B\", \"b\", \"X\" or \"x\".");};br.New=function(ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA){return{nombre:ep,status:eq,influyente:er,tipo:es,referido:et,nivel:eu,referidos:ev,descendientes:ew,comision:ex,diaPago:ey,desde:ez,Id:eA};};Q.map=function(ep,eq){var er,es,et;er=new a.Array(eq.length);for(es=0,et=eq.length-1;es<=et;es++)er[es]=ep(eq[es]);return er;};Q.sortBy=function(ep,eq){return Q.map(function(er){return er[0];},Q.mapi(function(er,es){return[es,[ep(es),er]];},eq).sort(function(er,es){return G.Compare(er[1],es[1]);}));};Q.reduce=function(ep,eq){var er,es,et;Q.nonEmpty(eq);er=eq[0];for(es=1,et=eq.length-1;es<=et;es++)er=ep(er,eq[es]);return er;};Q.filter=function(ep,eq){var er,es,et;er=[];for(es=0,et=eq.length-1;es<=et;es++)if(ep(eq[es]))er.push(eq[es]);return er;};Q.choose=function(ep,eq){var er,es,et,eu;er=[];for(es=0,et=eq.length-1;es<=et;es++){eu=ep(eq[es]);eu==null?void 0:er.push(eu.$0);}return er;};Q.ofSeq=function(ep){var eq,er;if(ep instanceof a.Array)return ep.slice();else if(ep instanceof cz)return Q.ofList(ep);else{eq=[];er=cw.Get(ep);try{while(er.MoveNext())eq.push(er.Current());return eq;}finally{if(typeof er=="object"&&"Dispose"in er)er.Dispose();}}};Q.sortInPlaceWith=function(ep,eq){eq.sort(ep);};Q.mapi=function(ep,eq){var er,es,et;er=new a.Array(eq.length);for(es=0,et=eq.length-1;es<=et;es++)er[es]=ep(es,eq[es]);return er;};Q.nonEmpty=function(ep){if(ep.length===0)o.FailWith("The input array was empty.");};Q.tryFindIndex=function(ep,eq){var er,es;er=null;es=0;while(es<eq.length&&er==null){ep(eq[es])?er={$:1,$0:es}:void 0;es=es+1;}return er;};Q.ofList=function(ep){var eq,er;er=[];eq=ep;while(!(eq.$==0)){er.push(bw.head(eq));eq=bw.tail(eq);}return er;};Q.sortInPlace=function(ep){Q.mapInPlace(function(eq){return eq[0];},Q.mapiInPlace(function(eq,er){return[er,eq];},ep).sort(G.Compare));};Q.tryFind=function(ep,eq){var er,es;er=null;es=0;while(es<eq.length&&er==null){ep(eq[es])?er={$:1,$0:eq[es]}:void 0;es=es+1;}return er;};Q.sortInPlaceBy=function(ep,eq){Q.mapInPlace(function(er){return er[0];},Q.mapiInPlace(function(er,es){return[es,[ep(es),er]];},eq).sort(function(er,es){return G.Compare(er[1],es[1]);}));};Q.map2=function(ep,eq,er){var es,et,eu;Q.checkLength(eq,er);es=new a.Array(er.length);for(et=0,eu=er.length-1;et<=eu;et++)es[et]=ep(eq[et],er[et]);return es;};Q.forall=function(ep,eq){var er,es,et,eu;er=true;es=0;eu=Q.length(eq);while(er&&es<eu)if(ep(eq[es]))es=es+1;else er=false;return er;};Q.init=function(ep,eq){var er,es,et;ep<0?o.FailWith("Negative size given."):null;er=new a.Array(ep);for(es=0,et=ep-1;es<=et;es++)er[es]=eq(es);return er;};Q.tryPick=function(ep,eq){var er,es,et;er=null;es=0;while(es<eq.length&&er==null){et=ep(eq[es]);et!=null&&et.$==1?er=et:void 0;es=es+1;}return er;};Q.concat=function(ep){return a.Array.prototype.concat.apply([],Q.ofSeq(ep));};Q.checkLength=function(ep,eq){if(ep.length!==eq.length)o.FailWith("The arrays have different lengths.");};Q.exists=function(ep,eq){var er,es,et,eu;er=false;es=0;eu=Q.length(eq);while(!er&&es<eu)if(ep(eq[es]))er=true;else es=es+1;return er;};Q.pick=function(ep,eq){var er;er=Q.tryPick(ep,eq);return er==null?o.FailWith("KeyNotFoundException"):er.$0;};Q.create=function(ep,eq){var er,es,et;er=new a.Array(ep);for(es=0,et=ep-1;es<=et;es++)er[es]=eq;return er;};Q.foldBack=function(ep,eq,er){var es,et,eu,ev,ew;es=er;eu=eq.length;for(ev=1,ew=eu;ev<=ew;ev++)es=ep(eq[eu-ev],es);return es;};Q.iter=function(ep,eq){var er,es;for(er=0,es=eq.length-1;er<=es;er++)ep(eq[er]);};Q.find=function(ep,eq){var er;er=Q.tryFind(ep,eq);return er==null?o.FailWith("KeyNotFoundException"):er.$0;};bs.statuses=function(){_3.$cctor();return _3.statuses;};bs.crearOptions=function(ep){return X.Concat($.map(bs.crearOption,ep));};bs.crearOptions2=function(ep){return X.Concat($.map(function(eq){return bs.crearOption2(eq[0],eq[1]);},ep));};bs.paises=function(){_3.$cctor();return _3.paises;};bs.estados=function(){_3.$cctor();return _3.estados;};bs.tiposDir=function(){_3.$cctor();return _3.tiposDir;};bs.tiposTel=function(){_3.$cctor();return _3.tiposTel;};bs.generos=function(){_3.$cctor();return _3.generos;};bs.tiposCta=function(){_3.$cctor();return _3.tiposCta;};bs.tiposTar=function(){_3.$cctor();return _3.tiposTar;};bs.aniosV=function(){_3.$cctor();return _3.aniosV;};bs.mesesV=function(){_3.$cctor();return _3.mesesV;};bs.alertIfNone=function(ep,eq,er){return eq!=null&&eq.$==1?er(eq.$0):(a.alert("Error not caught: "+ep),null);};bs.removeButton=function(ep,eq){return X.Element("form",[cU.Create("class","mui-panel")],[eq,X.Button("borrar",[cU.Create("title","borrar")],ep)]);};bs.fst3=a.id;bs.crearOption=function(ep){return X.Element("option",[],[X.TextNode(ep)]);};bs.crearOption2=function(ep,eq){return X.Element("option",[cU.Create("value",eq)],[X.TextNode(ep)]);};bs.thr3=function(ep,eq,er){return er;};bs.snd3=function(ep,eq,er){return eq;};bt=J.StatusAliado=eh.Class({toString:function(){return(function(ep){return function(eq){return ep(U.p$1(eq));};}(a.id))(this);}},null,bt);bt.tryParse=function(ep){var eq;eq=bg.Trim(ep).toUpperCase();return eq==="CUENTACREADA"?bt.CuentaCreada:eq==="DATOSBANCARIOSINGRESADOS"?bt.DatosBancariosIngresados:eq==="ACTIVO"?bt.Activo:eq==="CANCELADO"?bt.Cancelado:bt.Inactivo;};bt.Inactivo=new bt({$:3});bt.CuentaCreada=new bt({$:0});bt.DatosBancariosIngresados=new bt({$:1});bt.Activo=new bt({$:2});bt.Cancelado=new bt({$:4});bu.toSafe=function(ep){return ep==null?"":ep;};bu.prettyPrint=function(ep){var eq,er;function es(et,eu){return et+" = "+bu.prettyPrint(eu);}return ep===null?"null":(eq=typeof ep,eq=="string"?"\""+ep+"\"":eq=="object"?ep instanceof a.Array?"[|"+bg.concat("; ",Q.map(bu.prettyPrint,ep))+"|]":(er=a.String(ep),er==="[object Object]"?"{"+bg.concat("; ",Q.map(function(et){return es(et[0],et[1]);},F.GetFields(ep)))+"}":er):a.String(ep));};bu.padNumLeft=function(ep,eq){var er;er=Q.get(ep,0);return er===" "||er==="+"||er==="-"?er+bg.PadLeftWith(ep.substr(1),eq-1,"0"):bg.PadLeftWith(ep,eq,"0");};bu.printList=function(ep,eq){return"["+bg.concat("; ",$.map(ep,eq))+"]";};ba["String.Right$1"]=function(ep,eq){var er,es;return ba["String.Substring2$1"](ep,(er=0,(es=ep.length-eq,G.Compare(er,es)===1?er:es)),ep.length);};ba.Error$1=function(ep){return{$:1,$0:ep};};ba.print$1=function(ep){if(typeof ep=="string")((function(eq){return function(er){return eq(bu.toSafe(er));};}(function(eq){ek.log(eq);}))(ep));else((function(eq){return function(er){return eq(bu.prettyPrint(er));};}(function(eq){ek.log(eq);}))(ep));};ba["String.Substring2$1"]=function(ep,eq,er){var es,et;while(true){if(er<=0)return"";else if(eq<0){es=eq;eq=0;er=er+es;}else return eq>=ep.length?"":bg.Substring(ep,eq,(et=ep.length-eq,G.Compare(er,et)===-1?er:et));}};ba["String.Left$1"]=function(ep,eq){return eq<0?ba["String.Substring2$1"](ep,0,ep.length+eq):ba["String.Substring2$1"](ep,0,eq);};ba["String.get_toUnderscore$1"]=function(ep,eq){return Q.ofSeq($.collect(a.id,$.mapi(function(er,es){return er>0&&d4.IsUpper(es)?bw.ofArray(["_",es]):bw.ofArray([es]);},ep))).join("");};bv.toYYYYMMDD=function(ep,eq){return((((((eh.Curried(function(er,es,et,eu,ev,ew){return er(a.String(es)+bu.toSafe(et)+bu.padNumLeft(a.String(eu),2)+bu.toSafe(ev)+bu.padNumLeft(a.String(ew),2));},6))(a.id))((new el(eq)).getFullYear()))(ep))((new el(eq)).getMonth()+1))(ep))((new el(eq)).getDate());};bw.ofArray=function(ep){var eq,er,es;eq=cz.Empty;for(er=Q.length(ep)-1,es=0;er>=es;er--)eq=new cz({$:1,$0:Q.get(ep,er),$1:eq});return eq;};bw.ofSeq=function(ep){var eq,er,es,et,eu,ev;if(ep instanceof cz)return ep;else if(ep instanceof a.Array)return bw.ofArray(ep);else{eq=cw.Get(ep);try{es=eq.MoveNext();if(!es)er=cz.Empty;else{eu=new cz({$:1});et=eu;while(es){et.$0=eq.Current();eq.MoveNext()?et=(ev=new cz({$:1}),et.$1=ev,ev):es=false;}et.$1=cz.Empty;er=eu;}return er;}finally{if(typeof eq=="object"&&"Dispose"in eq)eq.Dispose();}}};bw.rev=function(ep){var eq,er;eq=cz.Empty;er=ep;while(er.$==1){eq=new cz({$:1,$0:er.$0,$1:eq});er=er.$1;}return eq;};bw.head=function(ep){return ep.$==1?ep.$0:bw.listEmpty();};bw.tail=function(ep){return ep.$==1?ep.$1:bw.listEmpty();};bw.listEmpty=function(){return o.FailWith("The input list was empty.");};bw.iter=function(ep,eq){var er;er=eq;while(er.$==1){ep(bw.head(er));er=bw.tail(er);}};bx.New=function(ep,eq,er,es,et){return{titular:ep,banco:eq,tipo:er,numero:es,routing:et};};by=J.RoutingNumber=eh.Class({get_Id:function(){return this.$0;}},null,by);bz=J.NumeroCuenta=eh.Class({get_Id:function(){return this.$0;}},null,bz);bA.New=function(ep,eq,er){return{nombre:ep,authorizeIdR:eq,cuentaPago:er};};J.ctaVacio=function(){_3.$cctor();return _3.ctaVacio;};J.premisasCalculo=function(){_3.$cctor();return _3.premisasCalculo;};J.correoVacio=function(){_3.$cctor();return _3.correoVacio;};J.modeloVacio=function(){_3.$cctor();return _3.modeloVacio;};J.telVacio=function(){_3.$cctor();return _3.telVacio;};J.dirVacio=function(){_3.$cctor();return _3.dirVacio;};J.tarVacio=function(){_3.$cctor();return _3.tarVacio;};bB.defaultValue=function(ep,eq){return eq.$==1?ep:eq.$0;};bB.result=function(){_3.$cctor();return _3.result;};bB.iter=function(ep,eq,er){bB.defaultWith(ep,dt.Map(eq,er));};bB.defaultWith=function(ep,eq){return eq.$==1?ep(eq.$0):eq.$0;};bC.formaFirma=function(ep,eq,er,es){var et,eu,ev,ew,ex,ey;function ez(){var eA;Y.iterA((eA=bm.asyncResult(),eA.Run(eA.Delay(function(){return bC.mensajes().Get()!==""?(a.alert(bC.mensajes().Get()),eA.Zero()):bG["AsyncResultBuilder.Bind"](eA,bC.subirScreenShot(es),function(){return eA.ReturnFrom$1(cA.map(function(eB){a.alert(eB);},er()));});}))));}et=i.Create$1(false);eu=(ev=(ew=R.Make().WithHole({$:2,$0:"firmarclass",$1:p.Map(function(eA){return eA===""?"mui-btn--primary":"";},bC.mensajes().get_View())}).WithHole({$:2,$0:"mensaje",$1:bC.mensajes().get_View()}).WithHole({$:0,$0:"contenido",$1:eq}).WithHole({$:9,$0:"acepto",$1:i.Lens(et,a.id,function(eA,eB){return eB;})}),ew.WithHole(S.EventQ2(ew.k,"firmar",function(){return ew.i;},function(){ez();}))).WithHole({$:2,$0:"datetime",$1:bC.fechaHoraV().get_View()}),(ex=S.CompleteHoles(ev.k,ev.h,[["firmante",0],["fecha",0],["acepto",2]]),(ey=new P.New(ex[1],T.formafirma(ex[0])),(ev.i=ey,ey))));p.Sink(function(eA){bC.mensajes().Set(eA);},p.Apply(p.Apply(p.Apply(p.Map2(function(eA,eB){return eh.Curried3(function(eC,eD,eE){return bg.concat(", ",$.map(function(eF){return eF[1];},$.filter(function(eF){return eF[0];},bw.ofArray([[bg.Trim(eA)!==eB.toUpperCase(),"Nombre en MAYUSCULAS debe coincidir"],[eC!==ba["String.Left$1"](eD,10),"Introduzca fecha de hoy (YYYY-MM-DD)"],[!G.Equals(eE,true),"Acepte los terminos indicados"]]))));});},eu.Hole("firmante").get_View(),ep),eu.Hole("fecha").get_View()),bC.fechaHoraV().get_View()),eu.Hole("acepto").get_View()));return eu.get_Doc();};bC.fechaHoraV=function(){_3.$cctor();return _3.fechaHoraV;};bC.mensajes=function(){_3.$cctor();return _3.mensajes;};bC.subirScreenShot=function(ep){var eq;eq=null;return cK.Delay(function(){return cK.Bind(c3.AsAsync(a.html2canvas(self.document.querySelector("#content-wrapper"))),function(er){self.document.body.appendChild(er);er.toBlob(function(es){var et,eu,ev;et=(((eh.Curried3(function(ew,ex,ey){return ew(bu.toSafe(ex)+" "+bu.toSafe(ey)+".png");}))(a.id))(ep))(bg.Replace(function(ew){return ew.getFullYear()+"-"+("0"+(ew.getMonth()+1)).slice(-2)+"-"+("0"+ew.getDate()).slice(-2)+" "+("0"+ew.getHours()).slice(-2)+":"+("0"+ew.getMinutes()).slice(-2)+":"+("0"+ew.getSeconds()).slice(-2)+":"+("00"+ew.getMilliseconds()).slice(-3);}(new el(el.now())),":","."));eu=new a.FormData();eu.append("fname",et);eu.append("data",es);ej.ajax((ev={},ev.type="POST",ev.url="/api/subir/"+m.modeloV().Get().idAliado.get_Id()+"/"+et,ev.data=eu,ev.contentType=false,ev.processData=false,ev.success=bC.uploaded(),ev));});self.document.body.removeChild(er);return cK.Zero();});});};bC.uploaded=function(){_3.$cctor();return _3.uploaded;};bD.New=function(ep,eq,er,es,et,eu,ev,ew){return{comisionReferidosRegular:ep,comisionReferidosMaster:eq,comisionDescendientesMaster:er,comisionDescendientesRegular:es,montoAfiliacion:et,numeroReferidosMaster:eu,diaCorte1:ev,diaCorte2:ew};};bE.New=function(ep,eq,er){return{actName:ep,actFunction:eq,actEnabled:er};};bF.logout=function(){bF.executePolicy(true,b6.SignIn);};bF.userO=function(){_3.$cctor();return _3.userO;};bF.storeValue=function(ep,eq){self.localStorage.setItem(ep,eq);return eq;};bF.appId=function(){_3.$cctor();return _3.appId;};bF.storageGetItem=function(ep){return self.localStorage.getItem(ep);};bF.getAuthority=function(ep,eq){return((((eh.Curried(function(er,es,et,eu){return er("https://"+bu.toSafe(es)+".b2clogin.com/tfp/"+bu.toSafe(et)+".onmicrosoft.com/"+bu.toSafe(eu));},4))(a.id))(ep))(ep))(eq);};bF.tenantName=function(){_3.$cctor();return _3.tenantName;};bF.signInPolicy=function(){_3.$cctor();return _3.signInPolicy;};bF.applicationId=function(){_3.$cctor();return _3.applicationId;};bF.authority=function(){_3.$cctor();return _3.authority;};bF.redirectCallback=function(ep,eq){try{!G.Equals(ep,null)?(function(er){return function(es){return er("error: "+W.p(es));};}(function(er){ek.log(er);}))(ep):void 0;!G.Equals(eq,null)?(function(er){return function(es){return er("resp : "+W.p$1(es));};}(function(er){ek.log(er);}))(eq):null;}catch(er){(((eh.Curried3(function(es,et,eu){return es(bu.prettyPrint(et)+" "+bu.toSafe(eu));}))(function(es){ek.log(es);}))(er))(er.stack);}};bF.getTokenO0=function(){var ep;ep=null;return cK.Delay(function(){return bF.userO().Get()==null?cK.Return(null):cK.Bind(c3.AsAsync(bF.agent().f().acquireTokenSilent(bF.authParms())),function(eq){return cK.Return({$:1,$0:eq.accessToken});});});};bF.checkUser=function(){var ep;cK.Start((ep=null,cK.Delay(function(){return cK.Bind(cK.Sleep(100),function(){return cK.While(function(){return true;},cK.Delay(function(){var eq,er;eq=(er=bF.agent().f().getAccount(),G.Equals(er,null)?null:{$:1,$0:er});return cK.Combine(bF.getId(eq)!==bF.getId(bF.userO().Get())?(bF.userO().Set(eq),cK.Zero()):cK.Zero(),cK.Delay(function(){return cK.Combine(G.Equals(bF.userO().Get(),null)?(bF.executePolicy(false,b6.SignIn),cK.Zero()):cK.Zero(),cK.Delay(function(){return cK.Bind(cK.Sleep(9000),function(){return cK.Return(null);});}));}));}));});})),null);};bF.getTokenO=function(){_3.$cctor();return _3.getTokenO;};bF.referidoPor=function(){return bF.storageGetItem("referidoPor");};bF.claims=function(ep){var eq;eq=[["oid",ep.idToken.oid],["city",ep.idToken.city],["country",ep.idToken.country],["extension_DateOfBirth",ep.idToken.extension_DateOfBirth],["given_name",ep.idToken.given_name],["postalCode",ep.idToken.postalCode],["state",ep.idToken.state],["streetAddress",ep.idToken.streetAddress],["family_name",ep.idToken.family_name],["emails",Q.get(ep.idToken.emails,0)],["referidoPor",bF.referidoPor()]];bF.storageSetItem("referidoPor","");return eq;};bF.executePolicy=function(ep,eq){bF.storeValue("forceLogin",ep?"1":"0");bF.storeValue("goInsideLink",self.location.href);bF.storeValue("policyType",a.String(eq));self.location.replace("blob/Msal.html");};bF.authParms=function(){return _do.New$1(null,null,null,null,null,null,null,null,{$:1,$0:[(((eh.Curried3(function(ep,eq,er){return ep("https://"+bu.toSafe(eq)+".onmicrosoft.com/"+bu.toSafe(er)+"/user_impersonation");}))(a.id))(bF.tenantName()))(bF.appId())]},null,null);};bF.agent=function(){_3.$cctor();return _3.agent;};bF.getId=function(ep){var eq;eq=ep==null?null:{$:1,$0:ep.$0.idToken.oid};return eq==null?"":eq.$0;};bF.storageSetItem=function(ep,eq){self.localStorage.setItem(ep,eq);};bG["AsyncResultBuilder.Bind"]=function(ep,eq,er){function es(eu){return{$:0,$0:eu};}function et(eu){return cK.Return(eu);}return cA.bind(er,cK.Bind(eq,function(eu){return et(es(eu));}));};bI.New=function(ep,eq){return{lytName:ep,lytDefinition:eq};};bJ.$cctor=function(){var ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU;bJ.$cctor=a.ignore;function eV(fq){return bg.concat("\n",fq);}function eW(fq){return b1.splitByChar("\n",fq);}function eX(fq){var fr,fs;return b2.array(fq,{$:1,$0:0},{$:1,$0:(fr=0,(fs=Q.length(fq)-2,G.Compare(fr,fs)===1?fr:fs))});}function eY(fq){return bg.concat("\n",fq);}function eZ(fq){return fq+"T00:00:00";}function e0(fq){var fr;function fs(fu){return k.plugIns().TryFindByKey(fu);}function ft(fu){var fv;fv=k.defaultPlugIn();return fu==null?fv:fu.$0;}fr=function(fu){return fu==null?null:fs(fu.$0);};return function(fu){return ft(fr(fu));};}function e1(fq){var fr;fr=null;return et.TryGetValue(fq,{get:function(){return fr;},set:function(fs){fr=fs;}})?{$:1,$0:fr}:null;}function e2(fq,fr){et.set_Item(fq,fr);return fr;}function e3(fq,fr){var fs;fs=e1(fq);return fs==null?e2(fq,fr(fq)):fs.$0;}function e4(fq){var fr;fr=null;return ew.TryGetValue(fq,{get:function(){return fr;},set:function(fs){fr=fs;}})?{$:1,$0:fr}:null;}function e5(fq,fr){ew.set_Item(fq,fr);return fr;}function e6(fq,fr){var fs;fs=e4(fq);return fs==null?e5(fq,fr(fq)):fs.$0;}function e7(fq){var fr;fr=null;return ez.TryGetValue(fq,{get:function(){return fr;},set:function(fs){fr=fs;}})?{$:1,$0:fr}:null;}function e8(fq,fr){ez.set_Item(fq,fr);return fr;}function e9(fq,fr){var fs;fs=e7(fq);return fs==null?e8(fq,fr(fq)):fs.$0;}function e_(fq){var fr;fr=null;return eC.TryGetValue(fq,{get:function(){return fr;},set:function(fs){fr=fs;}})?{$:1,$0:fr}:null;}function e$(fq,fr){eC.set_Item(fq,fr);return fr;}function fa(fq,fr){var fs;fs=e_(fq);return fs==null?e$(fq,fr(fq)):fs.$0;}function fb(fq){var fr;fr=null;return eF.TryGetValue(fq,{get:function(){return fr;},set:function(fs){fr=fs;}})?{$:1,$0:fr}:null;}function fc(fq,fr){eF.set_Item(fq,fr);return fr;}function fd(fq,fr){var fs;fs=fb(fq);return fs==null?fc(fq,fr(fq)):fs.$0;}function fe(fq){var fr;fr=null;return eI.TryGetValue(fq,{get:function(){return fr;},set:function(fs){fr=fs;}})?{$:1,$0:fr}:null;}function ff(fq,fr){eI.set_Item(fq,fr);return fr;}function fg(fq,fr){var fs;fs=fe(fq);return fs==null?ff(fq,fr(fq)):fs.$0;}function fh(fq){var fr;fr=null;return eL.TryGetValue(fq,{get:function(){return fr;},set:function(fs){fr=fs;}})?{$:1,$0:fr}:null;}function fi(fq,fr){eL.set_Item(fq,fr);return fr;}function fj(fq,fr){var fs;fs=fh(fq);return fs==null?fi(fq,fr(fq)):fs.$0;}function fk(fq){var fr;fr=null;return eO.TryGetValue(fq,{get:function(){return fr;},set:function(fs){fr=fs;}})?{$:1,$0:fr}:null;}function fl(fq,fr){eO.set_Item(fq,fr);return fr;}function fm(fq,fr){var fs;fs=fk(fq);return fs==null?fl(fq,fr(fq)):fs.$0;}function fn(fq){var fr;fr=null;return eR.TryGetValue(fq,{get:function(){return fr;},set:function(fs){fr=fs;}})?{$:1,$0:fr}:null;}function fo(fq,fr){eR.set_Item(fq,fr);return fr;}function fp(fq,fr){var fs;fs=fn(fq);return fs==null?fo(fq,fr(fq)):fs.$0;}bJ.unindentStr=function(fq){return eV(b1.unindent(fq));};bJ.skipLastLine=(ep=function(fq){return eX(eW(fq));},function(fq){return eY(ep(fq));});bJ.parseDateO2=(eq=b3.tryParseWith(function(fq){var fr,fs;fr=0;return[(fs=cY.TryParse(fq),fs!=null&&fs.$==1&&(fr=fs.$0,true)),fr];}),function(fq){return eq(eZ(fq));});bJ.parseDateO=b3.tryParseWith(function(fq){var fr,fs;fr=0;return[(fs=cY.TryParse(fq),fs!=null&&fs.$==1&&(fr=fs.$0,true)),fr];});bJ.parseIntO=b3.tryParseWith(function(fq){var fr;fr=0;return[bO.TryParseInt32(fq,{get:function(){return fr;},set:function(fs){fr=fs;}}),fr];});bJ.parseInt64O=b3.tryParseWith(function(fq){var fr;fr=0;return[bO.TryParseInt64(fq,{get:function(){return fr;},set:function(fs){fr=fs;}}),fr];});bJ.parseSingleO=b3.tryParseWith(function(fq){var fr,fs;fr=0;return[(fs=a.Number(fq),a.isNaN(fs)?false:(fr=fs,true)),fr];});bJ.parseDoubleO=b3.tryParseWith(function(fq){var fr,fs;fr=0;return[(fs=a.Number(fq),a.isNaN(fs)?false:(fr=fs,true)),fr];});bJ.parseGuidO=b3.tryParseWith(function(fq){var fr;fr=null;return[bq.TryParse(fq,{get:function(){return fr;},set:function(fs){fr=fs;}}),fr];});bJ["|Date|_|"]=b3.parseDateO();bJ["|Int|_|"]=b3.parseIntO();bJ["|Int64|_|"]=b3.parseInt64O();bJ["|Single|_|"]=b3.parseSingleO();bJ["|Double|_|"]=b3.parseDoubleO();bJ["|Guid|_|"]=b3.parseGuidO();bJ.rexGuid="([0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})";bJ.rexEmail="(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@[*[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+]*";bJ.observers=cz.Empty;bJ.css="\r\n                .tab-panel {\r\n                 overflow  : hidden   ;\r\n                 display   : flex     ;\r\n                 flex-flow : column   ;\r\n                 background: lightgray;\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                }\r\n                .tab-content {\r\n                 flex      : 1 1     ;\r\n                 overflow  : auto    ;\r\n                 position  : relative;\r\n                }\r\n                .tab-children {\r\n                 height    : 100%    ;\r\n                 width     : 100%    ;\r\n                 position  : absolute;\r\n                 display   : grid    ;\r\n                }\r\n                .tab-strip {\r\n                 padding   : 0pt     ;\r\n                 flex      : 0 0     ;\r\n                }\r\n                .tab {\r\n                 border     : 0.2pt solid transparent;\r\n                 padding    : 0pt 4pt;\r\n                 display    : inline-block;\r\n                 font-family: sans-serif;\r\n                 font-weight: 200;\r\n                 font-size  : small;\r\n                 color      : #666;\r\n                 cursor     : pointer;\r\n                }\r\n                .top>.tab {\r\n                 border-radius: 2pt 2pt 0pt 0pt;\r\n                 border-bottom-width: 0pt;\r\n                 vertical-align: bottom;\r\n                }\r\n                .bottom>.tab {\r\n                 border-top-width: 0pt;\r\n                 border-radius: 0pt 0pt 2pt 2pt;\r\n                 vertical-align: top;\r\n                }\r\n                .horizontal>.tab:not(:first-child) {\r\n                 border-left-width: 0pt;\r\n                }\r\n                .tab.hovering {\r\n                 background: red;\r\n                }\r\n                .tab.selected {\r\n                 background: white;\r\n                 border-left-width: 0.2pt;\r\n                 color: black;\r\n                 font-weight: 500;\r\n                 border-color: black;\r\n                }\r\n                .horizontal>.tab.selected {\r\n                 border-left-width: 0.2pt;\r\n                }\r\n                ::slotted(*              ) { \r\n                 width : 100%;\r\n                 height: 100%;\r\n                }\r\n                        ";bJ.init=r.Create(function(){var fq;fq=new cR.New();cP.defineWebComponent("wcomp-tabstrip",cR.Constructor,self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New);});bJ.layoutHorizontal=eh.Curried(function(fq,fr,fs,ft,fu){return X.get_Empty();},5);bJ.layoutVertical=eh.Curried(function(fq,fr,fs,ft,fu){return X.get_Empty();},5);bJ.plugIns=new _4.New$1(function(fq){return fq.plgName;});bJ.mainDocV=i.Create$1("AppFramework.AppFwkClient");bJ.TemplateFileName="..\\website\\AppFramework.html";bJ.defaultPlugIn=l.New("",[],[],[],[],[]);bJ.selectionPlugInO=i.Create$1({$:1,$0:"AppFramework"});bJ.currentPlugInW=(er=k.selectionPlugInO().get_View(),p.Map2(function(fq,fr){return(e0(fq))(fr);},k.plugIns().v,er));bJ.currentPlugInV=new cI.New(k.currentPlugInW(),function(fq){k.plugIns().Append(fq);});bJ.AppFwkClient=r.Create(function(){var fq,fr,fs,ft,fu,fv,fw,fx,fy;return(fq=(fr=k.renderQueries(),(fs=k.renderActions(),(ft=k.renderDocs(),(fu=k.renderViews(),(fv=k.renderVars(),(fw=k.renderPlugIns(),R.Make().WithHole({$:0,$0:"plugins",$1:fw})).WithHole({$:2,$0:"pluginname",$1:p.Map(function(fz){return fz.plgName;},k.currentPlugInW())}).WithHole({$:0,$0:"vars",$1:fv})).WithHole({$:0,$0:"views",$1:fu})).WithHole({$:0,$0:"docs",$1:ft})).WithHole({$:0,$0:"actions",$1:fs})).WithHole({$:0,$0:"queries",$1:fr})),(fx=S.CompleteHoles(fq.k,fq.h,[]),(fy=new P.New(fx[1],cN.appfwkclient(fx[0])),(fq.i=fy,fy)))).get_Doc();});bJ.actHello=k.newAct("Hello",function(){self.alert("Hello!");});bJ.qryDocs=k.newQry("getDocNames",function(){return Q.ofSeq($.collect(function(fq){return $.map(function(fr){return fq.plgName+"."+fr.docName;},fq.plgDocs);},(k.plugIns())["var"].Get()));});k.plugIns().Append(l.New("AppFramework",[k.newVar("mainDocV",k.mainDocV())],[],[k.newDoc("AppFwkClient",k.AppFwkClient())],[k.actHello()],[k.qryDocs()]));bJ.getMainDoc=r.Create(function(){cS.init(eh.Curried(k.horizontal,5),eh.Curried(k.vertical,5));cQ.init().f();return k.mainDoc();});bJ.splitName=k.splitName;bJ.createSplitterM=(es=(et=new bQ.New$5(),[[e1,function(fq){return function(fr){return e3(fq,fr);};}],function(){et.Clear();}]),(eu=es[0][1],[function(fq){return(eu(fq))(function(fr){return H.createSplitter(fr[0],fr[1],fr[2],fr[3],fr[4]);});},es[1]]))[0];bJ.createButtonM=(ev=(ew=new bQ.New$5(),[[e4,function(fq){return function(fr){return e6(fq,fr);};}],function(){ew.Clear();}]),(ex=ev[0][1],[function(fq){return(ex(fq))(function(fr){return H.createButton(fr[0],fr[1],fr[2],fr[3],fr[4]);});},ev[1]]))[0];bJ.createInputM=(ey=(ez=new bQ.New$5(),[[e7,function(fq){return function(fr){return e9(fq,fr);};}],function(){ez.Clear();}]),(eA=ey[0][1],[function(fq){return(eA(fq))(function(fr){return H.createInput(fr[0],fr[1],fr[2],fr[3]);});},ey[1]]))[0];bJ.createTextAreaM=(eB=(eC=new bQ.New$5(),[[e_,function(fq){return function(fr){return fa(fq,fr);};}],function(){eC.Clear();}]),(eD=eB[0][1],[function(fq){return(eD(fq))(function(fr){return H.createTextArea(fr[0],fr[1],fr[2],fr[3]);});},eB[1]]))[0];bJ.createElementM=(eE=(eF=new bQ.New$5(),[[fb,function(fq){return function(fr){return fd(fq,fr);};}],function(){eF.Clear();}]),(eG=eE[0][1],[function(fq){return(eG(fq))(function(fr){return H.createElement(fr[0],fr[1],fr[2],fr[3],fr[4]);});},eE[1]]))[0];bJ.createDocM=(eH=(eI=new bQ.New$5(),[[fe,function(fq){return function(fr){return fg(fq,fr);};}],function(){eI.Clear();}]),(eJ=eH[0][1],[function(fq){return(eJ(fq))(function(fr){return H.createDoc(fr[0],fr[1],fr[2],fr[3]);});},eH[1]]))[0];bJ.createTemplateM=(eK=(eL=new bQ.New$5(),[[fh,function(fq){return function(fr){return fj(fq,fr);};}],function(){eL.Clear();}]),(eM=eK[0][1],[function(fq){return(eM(fq))(function(fr){return H.createTemplate(fr[0],fr[1],fr[2],fr[3],fr[4]);});},eK[1]]))[0];bJ.createConcatM=(eN=(eO=new bQ.New$5(),[[fk,function(fq){return function(fr){return fm(fq,fr);};}],function(){eO.Clear();}]),(eP=eN[0][1],[function(fq){return(eP(fq))(function(fr){return H.createConcat(fr[0],fr[1],fr[2]);});},eN[1]]))[0];bJ.createVarM=(eQ=(eR=new bQ.New$5(),[[fn,function(fq){return function(fr){return fp(fq,fr);};}],function(){eR.Clear();}]),(eS=eQ[0][1],[function(fq){return(eS(fq))(function(fr){return H.createVar(fr[0],fr[1],fr[2]);});},eQ[1]]))[0];eT=k.tryGetPlugIn("AppFramework");eT==null?void 0:(eU=eT.$0,k.addPlugIn(l.New(eU.plgName,eU.plgVars,eU.plgViews,eU.plgDocs,eU.plgActions.concat([k.newActF("AddLayout",{$:2,$0:function(fq){return function(fr){return H.addNewLayout(fq,fr);};},$1:"[Name]",$2:"[Layout]"})]),eU.plgQueries)));};bK=J.IdForAuthorize=eh.Class({},null,bK);bL.New=function(ep,eq,er,es,et,eu,ev,ew){return{titulo:ep,nombre1:eq,nombre2:er,apellido1:es,apellido2:et,nacionalidad:eu,genero:ev,fechaNacimiento:ew};};bM.Dia01={$:0};bN=J.TipoAliado=eh.Class({toString:function(){return(function(ep){return function(eq){return ep(U.p$2(eq));};}(a.id))(this);}},null,bN);bN.Regular=new bN({$:1});bO.TryParseInt32=function(ep,eq){return bO.TryParse(ep,-2147483648,2147483647,eq);};bP=bd.List=eh.Class({GetEnumerator:function(){return cw.Get(this);},GetEnumerator0:function(){return cw.Get0(this);}},null,bP);bQ=bd.Dictionary=eh.Class({set_Item:function(ep,eq){this.set(ep,eq);},set:function(ep,eq){var er,es,et,eu;er=this;es=this.hash(ep);et=this.data[es];et==null?(this.count=this.count+1,this.data[es]=new a.Array({K:ep,V:eq})):(eu=Q.tryFindIndex(function(ev){return er.equals.apply(null,[(o.KeyValue(ev))[0],ep]);},et),eu==null?(this.count=this.count+1,et.push({K:ep,V:eq})):et[eu.$0]={K:ep,V:eq});},get_Item:function(ep){return this.get(ep);},TryGetValue:function(ep,eq){var er,es,et;er=this;es=this.data[this.hash(ep)];return es==null?false:(et=Q.tryPick(function(eu){var ev;ev=o.KeyValue(eu);return er.equals.apply(null,[ev[0],ep])?{$:1,$0:ev[1]}:null;},es),et!=null&&et.$==1&&(eq.set(et.$0),true));},Remove:function(ep){return this.remove(ep);},ContainsKey:function(ep){var eq,er;eq=this;er=this.data[this.hash(ep)];return er==null?false:Q.exists(function(es){return eq.equals.apply(null,[(o.KeyValue(es))[0],ep]);},er);},Add:function(ep,eq){this.add(ep,eq);},get:function(ep){var eq,er;eq=this;er=this.data[this.hash(ep)];return er==null?cT.notPresent():Q.pick(function(es){var et;et=o.KeyValue(es);return eq.equals.apply(null,[et[0],ep])?{$:1,$0:et[1]}:null;},er);},get_Keys:function(){return new dX.New(this);},remove:function(ep){var eq,er,es,et;eq=this;er=this.hash(ep);es=this.data[er];return es==null?false:(et=Q.filter(function(eu){return!eq.equals.apply(null,[(o.KeyValue(eu))[0],ep]);},es),Q.length(et)<es.length&&(this.count=this.count-1,this.data[er]=et,true));},add:function(ep,eq){var er,es,et;er=this;es=this.hash(ep);et=this.data[es];et==null?(this.count=this.count+1,this.data[es]=new a.Array({K:ep,V:eq})):(Q.exists(function(eu){return er.equals.apply(null,[(o.KeyValue(eu))[0],ep]);},et)?cT.alreadyAdded():void 0,this.count=this.count+1,et.push({K:ep,V:eq}));},Clear:function(){this.data=[];this.count=0;},GetEnumerator:function(){return cw.Get0(this);},GetEnumerator0:function(){return cw.Get0(Q.concat(F.GetFieldValues(this.data)));}},g,bQ);bQ.New$5=eh.Ctor(function(){bQ.New$6.call(this,[],G.Equals,G.Hash);},bQ);bQ.New$6=eh.Ctor(function(ep,eq,er){var es,et;g.New.call(this);this.equals=eq;this.hash=er;this.count=0;this.data=[];es=cw.Get(ep);try{while(es.MoveNext()){et=es.Current();this.set(et.K,et.V);}}finally{if(typeof es=="object"&&"Dispose"in es)es.Dispose();}},bQ);bR=bd.HashSet=eh.Class({Add:function(ep){return this.add(ep);},Contains:function(ep){var eq;eq=this.data[this.hash(ep)];return eq==null?false:this.arrContains(ep,eq);},add:function(ep){var eq,er;eq=this.hash(ep);er=this.data[eq];return er==null?(this.data[eq]=[ep],this.count=this.count+1,true):this.arrContains(ep,er)?false:(er.push(ep),this.count=this.count+1,true);},arrContains:function(ep,eq){var er,es,et,eu;er=true;es=0;eu=eq.length;while(er&&es<eu)if(this.equals.apply(null,[eq[es],ep]))er=false;else es=es+1;return!er;},ExceptWith:function(ep){var eq;eq=cw.Get(ep);try{while(eq.MoveNext())this.Remove(eq.Current());}finally{if(typeof eq=="object"&&"Dispose"in eq)eq.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(ep){var eq,er,es,et;eq=0;er=dL.concat(this.data);for(es=0,et=er.length-1;es<=et;es++)Q.set(ep,es,er[es]);},IntersectWith:function(ep){var eq,er,es,et,eu;eq=new bR.New$4(ep,this.equals,this.hash);er=dL.concat(this.data);for(es=0,et=er.length-1;es<=et;es++){eu=er[es];!eq.Contains(eu)?this.Remove(eu):void 0;}},Remove:function(ep){var eq;eq=this.data[this.hash(ep)];return eq==null?false:this.arrRemove(ep,eq)&&(this.count=this.count-1,true);},arrRemove:function(ep,eq){var er,es,et,eu;er=true;es=0;eu=eq.length;while(er&&es<eu)if(this.equals.apply(null,[eq[es],ep])){eq.splice.apply(eq,[es,1]);er=false;}else es=es+1;return!er;},GetEnumerator:function(){return cw.Get(dL.concat(this.data));},GetEnumerator0:function(){return cw.Get(dL.concat(this.data));}},g,bR);bR.New$3=eh.Ctor(function(){bR.New$4.call(this,[],G.Equals,G.Hash);},bR);bR.New$4=eh.Ctor(function(ep,eq,er){var es;g.New.call(this);this.equals=eq;this.hash=er;this.data=[];this.count=0;es=cw.Get(ep);try{while(es.MoveNext())this.add(es.Current());}finally{if(typeof es=="object"&&"Dispose"in es)es.Dispose();}},bR);bR.New$2=eh.Ctor(function(ep){bR.New$4.call(this,ep,G.Equals,G.Hash);},bR);bS.Box=a.id;bU.StartTo=function(ep,eq){cK.StartWithContinuations(ep,eq,function(er){bU.OnError(er);},a.ignore,null);};bU.OnError=function(ep){return ek.log("WebSharper UI: Uncaught asynchronous exception",ep);};bO.TryParseInt64=function(ep,eq){return bO.TryParse(ep,-9223372036854775808,9223372036854775807,eq);};bV.Int=function(){bV.set_counter(bV.counter()+1);return bV.counter();};bV.set_counter=function(ep){dk.$cctor();dk.counter=ep;};bV.counter=function(){dk.$cctor();return dk.counter;};bV.Id=function(){bV.set_counter(bV.counter()+1);return"uid"+a.String(bV.counter());};bW=bB.Builder=eh.Class({},g,bW);bW.New=eh.Ctor(function(){g.New.call(this);},bW);bX=bB.BuilderP=eh.Class({},g,bX);bX.New=eh.Ctor(function(){g.New.call(this);},bX);bZ=bY.EffBuilder=eh.Class({},g,bZ);bZ.New=eh.Ctor(function(){g.New.call(this);},bZ);b0=bm.AsyncResultBuilderP=eh.Class({},g,b0);b0.New=eh.Ctor(function(){g.New.call(this);},b0);b1.unindent$1=function(ep){var eq,er,es,et;eq=bg.SplitChars(ep,["\n"],0);er=(es=$.tryFindIndex(function(eu){return" "!==eu;},(et=$.tryFind(function(eu){return bg.Trim(eu)!=="";},eq),et==null?"":et.$0)),es==null?0:es.$0);return $.filter(function(eu){return!bg.StartsWith(eu,"# 1 ");},$.map(function(eu){return eu.length<=er?"":eu.substring(er);},eq));};b1.splitByChar$1=function(ep,eq){return bg.SplitChars(eq,[ep],0);};b2.array=function(ep,eq,er){return eq==null?er!=null&&er.$==1?ep.slice(0,er.$0+1):[]:er==null?ep.slice(eq.$0):ep.slice(eq.$0,er.$0+1);};b2.string=function(ep,eq,er){return eq==null?er!=null&&er.$==1?ep.slice(0,er.$0+1):"":er==null?ep.slice(eq.$0):ep.slice(eq.$0,er.$0+1);};b3.tryParseWith$1=function(ep){function eq(er,es){return er?{$:1,$0:es}:null;}return function(er){return eq.apply(null,ep(er));};};b3.parseDateO$1=function(){_3.$cctor();return _3.parseDateO;};b3.parseIntO$1=function(){_3.$cctor();return _3.parseIntO;};b3.parseInt64O$1=function(){_3.$cctor();return _3.parseInt64O;};b3.parseSingleO$1=function(){_3.$cctor();return _3.parseSingleO;};b3.parseDoubleO$1=function(){_3.$cctor();return _3.parseDoubleO;};b3.parseGuidO$1=function(){_3.$cctor();return _3.parseGuidO;};b3.parseDateO2$1=function(){_3.$cctor();return _3.parseDateO2;};b4.toJsonString=function(ep){return Q.ofSeq($.delay(function(){return $.append(["\""],$.delay(function(){return $.append(!bg.IsNullOrEmpty(ep)?$.collect(function(eq){var er,es;er=ep[eq];es=er.charCodeAt();return es>=0&&es<=7||es===11||es>=14&&es<=31?(function(et){return function(eu){return et("\\u"+bu.padNumLeft(eu.toString(16),4));};}(a.id))(es):er==="\u0008"?"\\b":er==="\u0009"?"\\t":er==="\n"?"\\n":er==="\u000c"?"\\f":er==="\r"?"\\r":er==="\""?"\\\"":er==="\\"?"\\\\":[er];},o.range(0,ep.length-1)):[],$.delay(function(){return["\""];}));}));})).join("");};b6=b5.Policy=eh.Class({toString:function(){return bg.ReplaceChar(ba["String.get_toUnderscore$1"]((function(ep){return function(eq){return ep(U.p(eq));};}(a.id))(this)),"_"," ");}},null,b6);b6.SignIn=new b6({$:0});b6.SignUp=new b6({$:1});b6.EditProfile=new b6({$:2});b6.ResetPassword=new b6({$:3});b7.New=function(ep,eq,er,es,et,eu){return{tipoTelefono:ep,codigoPais:eq,codigoArea:er,numero:es,extension:et,mensajes:eu};};b8=J.TipoTelefono=eh.Class({toString:function(){return(function(ep){return function(eq){return ep(U.p$9(eq));};}(a.id))(this);}},null,b8);b8.Movil=new b8({$:0});b8.get_tryParse=function(){return function(ep){return ep==="Movil"?{$:1,$0:b8.Movil}:ep==="Oficina"?{$:1,$0:b8.Oficina}:ep==="Habitacion"?{$:1,$0:b8.Habitacion}:null;};};b8.Oficina=new b8({$:1});b8.Habitacion=new b8({$:2});b9.New=function(ep,eq,er,es,et,eu,ev,ew){return{authorizeIdR:ep,tipoDireccion:eq,linea1:er,linea2:es,ciudad:et,estado:eu,pais:ev,zonaPostal:ew};};b_=J.TipoDireccion=eh.Class({toString:function(){return this.$==3?this.$0:(function(ep){return function(eq){return ep(U.p$8(eq));};}(a.id))(this);}},null,b_);b_.Habitacion=new b_({$:0});b_.tryParse=function(ep){var eq;eq=bg.Trim(ep);return eq===""?null:eq==="Habitacion"?{$:1,$0:b_.Habitacion}:eq==="Oficina"?{$:1,$0:b_.Oficina}:eq==="ServicioPostal"?{$:1,$0:b_.ServicioPostal}:{$:1,$0:new b_({$:3,$0:eq})};};b_.Oficina=new b_({$:1});b_.ServicioPostal=new b_({$:2});b$=J.Estado=eh.Class({toString:function(){return this.$==2?this.$0:(function(ep){return function(eq){return ep(U.p$4(eq));};}(a.id))(this);}},null,b$);b$.tryParse=function(ep){var eq,er;er=bg.Trim(ep).toUpperCase();switch(er){case"":return null;case"TEXAS":case"TX":return{$:1,$0:b$.Texas};case"FLORIDA":case"FL":return{$:1,$0:b$.Florida};default:return{$:1,$0:new b$({$:2,$0:bg.Trim(ep)})};}};b$.Texas=new b$({$:0});b$.Florida=new b$({$:1});ca=J.Pais=eh.Class({toString:function(){return this.$==3?this.$0:(function(ep){return function(eq){return ep(U.p$3(eq));};}(a.id))(this);}},null,ca);ca.USA=new ca({$:0});ca.tryParse=function(ep){var eq,er;er=bg.Trim(ep).toUpperCase();switch(er){case"":return null;case"USA":case"AMERICA":case"E.E.U.U.":case"US":case"UNITED STATES OF AMERICA":case"UNITED STATES":case"EEUU":return{$:1,$0:ca.USA};case"VENEZUELA":return{$:1,$0:ca.Venezuela};case"ARGENTINA":return{$:1,$0:ca.Argentina};default:return{$:1,$0:new ca({$:3,$0:bg.Trim(ep)})};}};ca.Venezuela=new ca({$:1});ca.Argentina=new ca({$:2});cb=J.ZonaPostal=eh.Class({toString:function(){return this.$0;}},null,cb);cb.tryParse=function(ep){return bg.Trim(ep)!==""?{$:1,$0:new cb({$:0,$0:bg.Trim(ep)})}:null;};cc.New=function(ep,eq,er,es){return{titular:ep,tipoTarjeta:eq,numero:er,expiracion:es};};cd=J.Expiracion=eh.Class({},null,cd);cd.New=function(ep,eq){return new cd({anio:ep,mes:eq});};ce=J.NumeroTarjeta=eh.Class({get_Id:function(){return this.$0;}},null,ce);cf=J.TipoTarjeta=eh.Class({toString:function(){return this.$==3?this.$0:(function(ep){return function(eq){return ep(U.p$5(eq));};}(a.id))(this);}},null,cf);cf.Visa=new cf({$:0});cf.tryParse=function(ep){var eq,er;er=bg.Trim(ep).toUpperCase();switch(er){case"":return null;case"VISA":return{$:1,$0:cf.Visa};case"MASTERCARD":return{$:1,$0:cf.MasterCard};case"AMERICAN EXPRESS":case"AMEX":return{$:1,$0:cf.Amex};default:return{$:1,$0:new cf({$:3,$0:bg.Trim(ep)})};}};cf.MasterCard=new cf({$:1});cf.Amex=new cf({$:2});cg=J.TipoCuenta=eh.Class({toString:function(){return this.$==2?this.$0:(function(ep){return function(eq){return ep(U.p$6(eq));};}(a.id))(this);}},null,cg);cg.Ahorro=new cg({$:0});cg.tryParse=function(ep){var eq,er;er=bg.Trim(ep).toUpperCase();switch(er){case"":return null;case"AHORRO":case"SAVINGS":return{$:1,$0:cg.Ahorro};case"CORRIENTE":case"CHECKING":return{$:1,$0:cg.Corriente};default:return{$:1,$0:new cg({$:2,$0:bg.Trim(ep)})};}};cg.Corriente=new cg({$:1});ch.Masculino={$:0};ch.tryParse=function(ep){var eq;eq=bg.Trim(ep);return eq==="Masculino"?{$:1,$0:ch.Masculino}:eq==="Femenino"?{$:1,$0:ch.Femenino}:eq==="Empresa"?{$:1,$0:ch.Empresa}:null;};ch.Femenino={$:1};ch.Empresa={$:2};ci.AjaxProvider=function(){cZ.$cctor();return cZ.AjaxProvider;};ci.set_EndPoint=function(ep){cZ.$cctor();cZ.EndPoint=ep;};ci.set_AjaxProvider=function(ep){cZ.$cctor();cZ.AjaxProvider=ep;};ci.makePayload=function(ep){return em.stringify(ep);};ci.makeHeaders=function(ep){return{"content-type":"application/json","x-websharper-rpc":ep};};ci.EndPoint=function(){cZ.$cctor();return cZ.EndPoint;};ci.ajax=function(ep,eq,er,es,et,eu,ev){var ew,ex,ey;ew=new a.XMLHttpRequest();ex=a.document.cookie.replace(new a.RegExp("(?:(?:^|.*;)\\s*csrftoken\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1");ew.open("POST",eq,ep);if(ep==true)ew.withCredentials=true;for(var eA in er)ew.setRequestHeader(eA,er[eA]);if(ex)ew.setRequestHeader("x-csrftoken",ex);function ez(){var eB;if(ew.status==200)et(ew.responseText);else if(ev&&ew.status==403&&ew.responseText=="CSRF")ev();else{eB="Response status is not 200: ";eu(new c1(eB+ew.status));}}if("onload"in ew)ew.onload=ew.onerror=ew.onabort=ez;else ew.onreadystatechange=function(){if(ew.readyState==4)ez();};ew.send(es);};cj.New$1=function(ep,eq,er,es){return c0.newPojoOpt([b5.op_EqualsEqualsGreater("auth",ep),b5.op_EqualsEqualsGreater("cache",eq),b5.op_EqualsEqualsGreater("system",er),b5.op_EqualsEqualsGreater("framework",es)]);};ck.New$1=function(ep,eq,er,es,et,eu){return c0.newPojoOpt([b5.op_MinusMinusGreater("clientId",ep),b5.op_EqualsEqualsGreater("authority",eq),b5.op_EqualsEqualsGreater("validateAuthority",er),b5.op_EqualsEqualsGreater("redirectUri",es),b5.op_EqualsEqualsGreater("postLogoutRedirectUri",et),b5.op_EqualsEqualsGreater("navigateToLoginRequestUrl",eu)]);};cm=cl.MailboxProcessor=eh.Class({PostAndAsyncReply:function(ep,eq){var er,es;er=this;es=null;return cK.Delay(function(){return cK.Bind(er.PostAndTryAsyncReply(ep,eq),function(et){var eu,ev;if(et!=null&&et.$==1)ev=et.$0;else throw new c2.New();return cK.Return(ev);});});},PostAndTryAsyncReply:function(ep,eq){var er,es,et;function eu(ev){var ex;function ew(ey){return{$:1,$0:ey};}if(es<0){er.mailbox.AddLast(ep(function(ey){return ev(ew(ey));}));er.resume();}else{ex=[true];er.mailbox.AddLast(ep(function(ey){if(ex[0]){ex[0]=false;ev({$:1,$0:ey});}}));er.resume();a.setTimeout(function(){if(ex[0]){ex[0]=false;ev(null);}},es);}}er=this;es=(et=this.get_DefaultTimeout(),eq==null?et:eq.$0);return cK.FromContinuations(function(ev,ew,ex){return eu.apply(null,[ev,ew,ex]);});},get_DefaultTimeout:function(){return this.DefaultTimeout;},Receive:function(ep){var eq,er;eq=this;er=null;return cK.Delay(function(){return cK.Bind(eq.TryReceive(ep),function(es){var et,eu;if(es!=null&&es.$==1)eu=es.$0;else throw new c2.New();return cK.Return(eu);});});},resume:function(){var ep;ep=this.savedCont;ep!=null&&ep.$==1?(this.savedCont=null,this.startAsync(ep.$0)):void 0;},Start:function(){var ep,eq;ep=this;this.started?o.FailWith("The MailboxProcessor has already been started."):(this.started=true,ep.startAsync((eq=null,cK.Delay(function(){return cK.TryWith(cK.Delay(function(){return cK.Bind(ep.initial(ep),function(){return cK.Return(null);});}),function(er){ep.errorEvent.event.Trigger(er);return cK.Zero();});}))));},TryReceive:function(ep){var eq,er,es;function et(eu){var ev,ew,ex,ey;if(G.Equals(eq.mailbox.n,null)){if(er<0){eq.savedCont={$:1,$0:(ev=null,cK.Delay(function(){eu({$:1,$0:eq.dequeue()});return cK.Zero();}))};}else{ew=[true];ex=a.setTimeout(function(){if(ew[0]){ew[0]=false;eq.savedCont=null;eu(null);}},er);eq.savedCont={$:1,$0:(ey=null,cK.Delay(function(){return ew[0]?(ew[0]=false,a.clearTimeout(ex),eu({$:1,$0:eq.dequeue()}),cK.Zero()):cK.Zero();}))};}}else eu({$:1,$0:eq.dequeue()});}eq=this;er=(es=this.get_DefaultTimeout(),ep==null?es:ep.$0);return cK.FromContinuations(function(eu,ev,ew){return et.apply(null,[eu,ev,ew]);});},startAsync:function(ep){cK.Start(ep,this.token);},dequeue:function(){var ep;ep=this.mailbox.n.v;this.mailbox.RemoveFirst();return ep;}},g,cm);cm.Start=function(ep,eq){var er;er=new cm.New(ep,eq);er.Start();return er;};cm.New=eh.Ctor(function(ep,eq){var er,es;function et(eu){return er.resume();}er=this;g.New.call(this);this.initial=ep;this.token=eq;this.started=false;this.errorEvent=new dm.New();this.mailbox=new dn.New();this.savedCont=null;es=this.token;es==null?void 0:cK.Register(es.$0,function(){et();});this.DefaultTimeout=-1;},cm);cn.callA=function(ep,eq){return cn.iterA(ep,function(er){var es,et,eu;es=er[0];et=er[1];eu=null;return cK.Delay(function(){return cK.Bind(eq(et),function(ev){es(ev);return cK.Zero();});});});};cn.iterA=function(ep,eq){return cm.Start(function(er){var es;es=null;return cK.Delay(function(){return cK.While(function(){return true;},cK.Delay(function(){return cK.TryWith(cK.Delay(function(){return cK.Bind(er.Receive(null),function(et){return cK.Bind(eq(et),function(){return cK.Return(null);});});}),function(et){ep(et);return cK.Zero();});}));});},null);};j.REGEX$2=function(ep,eq,er){var es;return er===null?null:(es=(new a.String(er)).match(new a.RegExp(ep,eq)),G.Equals(es,null)?null:!G.Equals(es,null)&&es.length===0?null:{$:1,$0:es});};j.rexEmail$1=function(){_3.$cctor();return _3.rexEmail;};co.DefaultEP={$:0};cp.InstallHash=function(ep,eq){var er;er=i.Create$1(cp.getCurrentHash(function(es){return c6.Parse(eq,c7.FromHash(es,{$:1,$0:true}));},ep));cp.InstallHashInto(er,ep,eq);return er;};cp.InstallHashInto=function(ep,eq,er){function es(ev){return c6.Parse(er,c7.FromHash(ev,{$:1,$0:true}));}function et(){return cp.getCurrentHash(es,eq);}function eu(ev){if(!G.Equals(ep.Get(),ev))ep.Set(ev);}self.addEventListener("popstate",function(){return eu(et());},false);self.addEventListener("hashchange",function(){return eu(et());},false);self.document.body.addEventListener("click",function(ev){var ew,ex,ey;ew=(ex=cp.findLinkHref(ev.target),ex==null?null:(ey=ex.$0,bg.StartsWith(ey,"#")?es(ey):null));return ew==null?null:(eu(ew.$0),ev.preventDefault());},false);p.Sink(function(ev){var ew;if(!G.Equals(ev,et())){ew=c6.HashLink(er,ev);self.history.pushState(null,null,ew);}},ep.get_View());};cp.getCurrentHash=function(ep,eq){var er,es;er=self.location.hash;es=ep(er);return es==null?((function(et){return function(eu){return et("Failed to parse route: "+bu.toSafe(eu));};}(function(et){ek.log(et);}))(er),eq):es.$0;};cp.findLinkHref=function(ep){while(true)if(ep.tagName==="A")return I.ofObj(ep.getAttribute("href"));else if(ep===self.document.body)return null;else ep=ep.parentNode;};cq.B={$:0};cr.installBearer=function(ep){cr.set_getTokenOA(ep);ci.set_AjaxProvider(new c8.New());};cr.set_getTokenOA=function(ep){_3.$cctor();_3.getTokenOA=ep;};cr.getTokenOA=function(){_3.$cctor();return _3.getTokenOA;};cr.originalProvider=function(){_3.$cctor();return _3.originalProvider;};cs.serverEndPoint=function(){_3.$cctor();return _3.serverEndPoint;};ct=J.IdPayment=eh.Class({},null,ct);cu.New=function(ep,eq){return{qryName:ep,qryFunction:eq};};_2.Obsolete=function(ep){var eq,er,es,et,eu;er=ep.s;if(er==null||(er!=null&&er.$==2?(eq=er.$1,false):er!=null&&er.$==3?(eq=er.$1,false):true))void 0;else{ep.s=null;for(es=0,et=Q.length(eq)-1;es<=et;es++){eu=Q.get(eq,es);typeof eu=="object"?function(ev){_2.Obsolete(ev);}(eu):eu();}}};_2.New=function(ep){return{s:ep};};cv=bd.FSharpMap=eh.Class({TryGetValue:function(ep,eq){var er;er=this.TryFind(ep);return er!=null&&er.$==1&&(eq.set(er.$0),true);},get_Item:function(ep){var eq;eq=this.TryFind(ep);return eq==null?o.FailWith("The given key was not present in the dictionary."):eq.$0;},TryFind:function(ep){var eq;eq=cy.TryFind(ds.New(ep,void 0),this.tree);return eq==null?null:{$:1,$0:eq.$0.Value};},Equals:function(ep){return this.get_Count()===ep.get_Count()&&$.forall2(G.Equals,this,ep);},GetEnumerator$1:function(){return cw.Get($.map(function(ep){return{K:ep.Key,V:ep.Value};},cy.Enumerate(false,this.tree)));},get_Count:function(){var ep;ep=this.tree;return ep==null?0:ep.Count;},GetHashCode:function(){return G.Hash(Q.ofSeq(this));},Add:function(ep,eq){return new cv.New$1(cy.Add(ds.New(ep,eq),this.tree));},get_IsEmpty:function(){return this.tree==null;},get_Tree:function(){return this.tree;},GetEnumerator:function(){return this.GetEnumerator$1();},CompareTo0:function(ep){return $.compareWith(G.Compare,this,ep);},GetEnumerator0:function(){return this.GetEnumerator$1();}},g,cv);cv.New=eh.Ctor(function(ep){cv.New$1.call(this,c9.fromSeq(ep));},cv);cv.New$1=eh.Ctor(function(ep){g.New.call(this);this.tree=ep;},cv);cw.Get=function(ep){return ep instanceof a.Array?cw.ArrayEnumerator(ep):G.Equals(typeof ep,"string")?cw.StringEnumerator(ep):ep.GetEnumerator();};cw.ArrayEnumerator=function(ep){return new cx.New(0,null,function(eq){var er;er=eq.s;return er<Q.length(ep)&&(eq.c=Q.get(ep,er),eq.s=er+1,true);},void 0);};cw.StringEnumerator=function(ep){return new cx.New(0,null,function(eq){var er;er=eq.s;return er<ep.length&&(eq.c=ep[er],eq.s=er+1,true);},void 0);};cw.Get0=function(ep){return ep instanceof a.Array?cw.ArrayEnumerator(ep):G.Equals(typeof ep,"string")?cw.StringEnumerator(ep):"GetEnumerator0"in ep?ep.GetEnumerator0():ep.GetEnumerator();};cx=cw.T=eh.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},g,cx);cx.New=eh.Ctor(function(ep,eq,er,es){g.New.call(this);this.s=ep;this.c=eq;this.n=er;this.d=es;},cx);cy.OfSeq=function(ep){var eq;eq=Q.ofSeq($.distinct(ep));Q.sortInPlace(eq);return cy.Build(eq,0,eq.length-1);};cy.Contains=function(ep,eq){return!((cy.Lookup(ep,eq))[0]==null);};cy.Remove=function(ep,eq){var er,es,et,eu;er=cy.Lookup(ep,eq);es=er[0];et=er[1];return es==null?eq:es.Right==null?cy.Rebuild(et,es.Left):es.Left==null?cy.Rebuild(et,es.Right):cy.Rebuild(et,(eu=Q.ofSeq($.append(cy.Enumerate(false,es.Left),cy.Enumerate(false,es.Right))),cy.Build(eu,0,eu.length-1)));};cy.Add=function(ep,eq){return cy.Put(function(er,es){return es;},ep,eq);};cy.TryFind=function(ep,eq){var er;er=(cy.Lookup(ep,eq))[0];return er==null?null:{$:1,$0:er.Node};};cy.Build=function(ep,eq,er){var es,et,eu;return er-eq+1<=0?null:(es=(eq+er)/2>>0,(et=cy.Build(ep,eq,es-1),(eu=cy.Build(ep,es+1,er),cy.Branch(Q.get(ep,es),et,eu))));};cy.Lookup=function(ep,eq){var er,es,et,eu;er=[];es=eq;et=true;while(et)if(es==null)et=false;else{eu=G.Compare(ep,es.Node);eu===0?et=false:eu===1?(er.unshift([true,es.Node,es.Left]),es=es.Right):(er.unshift([false,es.Node,es.Right]),es=es.Left);}return[es,er];};cy.Rebuild=function(ep,eq){var er,et,eu,ev,ew,ex,ey,ez,eA,eB;function es(eC){return eC==null?0:eC.Height;}er=eq;for(et=0,eu=Q.length(ep)-1;et<=eu;et++){er=(ev=Q.get(ep,et),ev[0]?(ew=ev[1],(ex=ev[2],es(er)>es(ex)+1?es(er.Left)===es(er.Right)+1?(ey=er.Left,cy.Branch(ey.Node,cy.Branch(ew,ex,ey.Left),cy.Branch(er.Node,ey.Right,er.Right))):cy.Branch(er.Node,cy.Branch(ew,ex,er.Left),er.Right):cy.Branch(ew,ex,er))):(ez=ev[1],(eA=ev[2],es(er)>es(eA)+1?es(er.Right)===es(er.Left)+1?(eB=er.Right,cy.Branch(eB.Node,cy.Branch(er.Node,er.Left,eB.Left),cy.Branch(ez,eB.Right,eA))):cy.Branch(er.Node,er.Left,cy.Branch(ez,er.Right,eA)):cy.Branch(ez,er,eA))));}return er;};cy.Put=function(ep,eq,er){var es,et;es=cy.Lookup(eq,er);et=es[0];return et==null?cy.Rebuild(es[1],cy.Branch(eq,null,null)):cy.Rebuild(es[1],cy.Branch(ep(et.Node,eq),et.Left,et.Right));};cy.Branch=function(ep,eq,er){var es,et;return c_.New(ep,eq,er,1+(es=eq==null?0:eq.Height,(et=er==null?0:er.Height,G.Compare(es,et)===1?es:et)),1+(eq==null?0:eq.Count)+(er==null?0:er.Count));};cy.Enumerate=function(ep,eq){function er(es,et){var eu;while(true)if(es==null)return et.$==1?{$:1,$0:[et.$0[0],[et.$0[1],et.$1]]}:null;else if(ep){eu=es;es=eu.Right;et=new cz({$:1,$0:[eu.Node,eu.Left],$1:et});}else{eu=es;es=eu.Left;et=new cz({$:1,$0:[eu.Node,eu.Right],$1:et});}}return $.unfold(function(es){return er(es[0],es[1]);},[eq,cz.Empty]);};$.tryHead=function(ep){var eq;eq=cw.Get(ep);try{return eq.MoveNext()?{$:1,$0:eq.Current()}:null;}finally{if(typeof eq=="object"&&"Dispose"in eq)eq.Dispose();}};Q.groupBy=function(ep,eq){var er,es,et,eu,ev,ew;er=new bQ.New$5();es=[];for(et=0,eu=Q.length(eq)-1;et<=eu;et++){ev=eq[et];ew=ep(ev);er.ContainsKey(ew)?er.get_Item(ew).push(ev):(es.push(ew),er.Add(ew,[ev]));}Q.mapInPlace(function(ex){return[ex,er.get_Item(ex)];},es);return es;};$.tryItem=function(ep,eq){var er,es,et;if(ep<0)return null;else{er=0;es=cw.Get(eq);try{et=true;while(et&&er<=ep)if(es.MoveNext())er=er+1;else et=false;return et?{$:1,$0:es.Current()}:null;}finally{if(typeof es=="object"&&"Dispose"in es)es.Dispose();}}};$.last=function(ep){var eq,er;eq=cw.Get(ep);try{if(!eq.MoveNext())er=$.insufficient();else{while(eq.MoveNext());er=eq.Current();}return er;}finally{if(typeof eq=="object"&&"Dispose"in eq)eq.Dispose();}};Q.mapInPlace=function(ep,eq){var er,es;for(er=0,es=eq.length-1;er<=es;er++)eq[er]=ep(eq[er]);};Q.mapiInPlace=function(ep,eq){var er,es;for(er=0,es=eq.length-1;er<=es;er++)eq[er]=ep(er,eq[er]);return eq;};$.insufficient=function(){return o.FailWith("The input sequence has an insufficient number of elements.");};$.nonNegative=function(){return o.FailWith("The input must be non-negative.");};cz=bw.T=eh.Class({GetEnumerator:function(){return new cx.New(this,null,function(ep){var eq;eq=ep.s;return eq.$==0?false:(ep.c=eq.$0,ep.s=eq.$1,true);},void 0);},GetEnumerator0:function(){return cw.Get(this);}},null,cz);cz.Empty=new cz({$:0});p=h.View=eh.Class({get_V:function(){return o.FailWith("View<'T>.V can only be called in an argument to a V-enabled function or if 'T = Doc.");}},null,p);cA.rtn=function(ep){return cK.Return({$:0,$0:ep});};cA.bind=function(ep,eq){var er;er=null;return cK.Delay(function(){return cK.Bind(eq,function(es){return es.$==1?cK.Return(ba.Error$1(es.$0)):ep(es.$0);});});};cA.iterA=function(ep,eq,er){function es(eu){bB.iter(ep,eq,eu);}function et(eu){return cK.Return(eu);}cK.Start(cK.Bind(er,function(eu){return et(es(eu));}),null);};cA.map=function(ep,eq){return cA.bind(function(er){return cA.rtn(ep(er));},eq);};cA.rtnR=function(ep){return cK.Return(ep);};cA.whileLoop=function(ep,eq){return ep()?cA.bind(function(){return cA.whileLoop(ep,eq);},eq()):cA.rtn();};cB=ci.AjaxRemotingProvider=eh.Class({AsyncBase:function(ep,eq){var er,es;er=this;es=null;return cK.Delay(function(){var et,eu;et=ci.makeHeaders(ep);eu=ci.makePayload(eq);return cK.Bind(cK.GetCT(),function(ev){return cK.FromContinuations(function(ew,ex,ey){var ez,eA,eB;function eC(eD){return ez[0]?(ez[0]=false,ey(new dR.New(ev))):null;}ez=[true];eA=cK.Register(ev,function(){eC();});eB=er.get_EndPoint();return ci.AjaxProvider().Async(eB,et,eu,function(eD){if(ez[0]){ez[0]=false;eA.Dispose();ew(d5.Activate(em.parse(eD)));}},function(eD){if(ez[0]){ez[0]=false;eA.Dispose();ex(eD);}});});});});},get_EndPoint:function(){return ci.EndPoint();},Async:function(ep,eq){return this.AsyncBase(ep,eq);}},g,cB);cB.New=eh.Ctor(function(){g.New.call(this);},cB);cC.replace=function(ep,eq,er){return Q.ofSeq($.delay(function(){return $.append(ep>0?b2.array(er,null,{$:1,$0:ep-1}):[],$.delay(function(){return $.append([eq],$.delay(function(){return ep<Q.length(er)?b2.array(er,{$:1,$0:ep+1},null):[];}));}));}));};cC.remove=function(ep,eq){return Q.ofSeq($.delay(function(){return $.append(ep>0?b2.array(eq,null,{$:1,$0:ep-1}):[],$.delay(function(){return ep<Q.length(eq)?b2.array(eq,{$:1,$0:ep+1},null):[];}));}));};cE=cD.attr=eh.Class({},g,cE);cF.formaDocO=function(ep){var eq;return cF.formaDoc(i.Lens(ep,(eq=[J.ctaVacio(),"",false],function(er){return er==null?eq:er.$0;}),function(er,es){return{$:1,$0:es};}));};cF.formaDoc=function(ep){var eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB;function eC(eD,eE,eF){er.Hole("titular").Set(eD.titular);er.Hole("banco").Set(eD.banco);er.Hole("tipocuenta").Set((function(eG){return function(eH){return eG(a.String(eH));};}(a.id))(eD.tipo));er.Hole("numero").Set(eD.numero.$0);er.Hole("routing").Set(eD.routing.$0);}eq=p.Map(function(eD){return bs.thr3(eD[0],eD[1],eD[2]);},ep.get_View());er=(es=(et=cM.DynamicPred("disabled",eq,p.Const("")),(eu=cM.DynamicPred("disabled",eq,p.Const("")),(ev=cM.DynamicPred("disabled",eq,p.Const("")),(ew=cM.DynamicPred("disabled",eq,p.Const("")),(ex=cM.DynamicPred("disabled",eq,p.Const("")),(ey=X.EmbedView(p.Map(bs.crearOptions,bs.tiposCta().get_View())),R.Make().WithHole({$:0,$0:"tiposcuenta",$1:ey})).WithHole({$:2,$0:"mensaje",$1:p.Map(function(eD){return bs.snd3(eD[0],eD[1],eD[2]);},ep.get_View())}).WithHole({$:3,$0:"disabled1",$1:ex})).WithHole({$:3,$0:"disabled2",$1:ew})).WithHole({$:3,$0:"disabled3",$1:ev})).WithHole({$:3,$0:"disabled4",$1:eu})).WithHole({$:3,$0:"disabled5",$1:et})),(ez=S.CompleteHoles(es.k,es.h,[["tipocuenta",0],["titular",0],["numero",0],["banco",0],["routing",0]]),(eA=new P.New(ez[1],T.cuentabancaria(ez[0])),(es.i=eA,eA))));p.Sink(function(eD){return eC(eD[0],eD[1],eD[2]);},ep.get_View());eB=p.Apply(p.Apply(p.Map2(function(eD,eE){return function(eF){return function(eG){return $.map(function(eH){return eH[1];},$.filter(function(eH){return eH[0];},bw.ofArray([[bg.Trim(eD)==="","Titular"],[bg.Trim(eE)==="","Banco"],[bg.Trim(eF)==="","Numero de Cuenta"],[bg.Trim(eG)==="","ABA/Routing Number"]])));};};},er.Hole("titular").get_View(),er.Hole("banco").get_View()),er.Hole("numero").get_View()),er.Hole("routing").get_View());p.Sink(function(eD){var eE,eF;if(eD!=null&&eD.$==1){eE=eD.$0;!G.Equals((eF=ep.Get(),bs.fst3(eF[0],eF[1],eF[2])),eE)?ep.Set([eE,"",false]):void 0;}},p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(eD,eE){return eh.Curried(function(eF,eG,eH,eI){return!$.isEmpty(eD)?null:bs.alertIfNone("TipoCuenta",cg.tryParse(bg.Trim(eE)),function(eJ){var eK;return{$:1,$0:(eK=bg.Trim(eF),bx.New(bg.Trim(eG),eK,eJ,new bz({$:0,$0:bg.Trim(eH)}),new by({$:0,$0:bg.Trim(eI)})))};});},4);},eB,er.Hole("tipocuenta").get_View()),er.Hole("banco").get_View()),er.Hole("titular").get_View()),er.Hole("numero").get_View()),er.Hole("routing").get_View()));return[eB,er.get_Doc()];};cG.formaDocO=function(ep){var eq;return cG.formaDoc(i.Lens(ep,(eq=[J.tarVacio(),"",false],function(er){return er==null?eq:er.$0;}),function(er,es){return{$:1,$0:es};}));};cG.formaDoc=function(ep){var eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD;function eE(eF,eG,eH){var eI;er.Hole("titular").Set(eF.titular);er.Hole("tipotarjeta").Set((function(eJ){return function(eK){return eJ(a.String(eK));};}(a.id))(eF.tipoTarjeta));er.Hole("numero").Set(eF.numero.$0);er.Hole("aniovenc").Set((function(eJ){return function(eK){return eJ(bu.padNumLeft(a.String(eK),4));};}(a.id))(eF.expiracion.anio));er.Hole("mesvenc").Set((eI=eF.expiracion.mes,eI===1?"Enero":eI===2?"Febrero":eI===3?"Marzo":eI===4?"Abril":eI===5?"Mayo":eI===6?"Junio":eI===7?"Julio":eI===8?"Agosto":eI===9?"Septiembre":eI===10?"Octubre":eI===11?"Noviembre":eI===12?"Diciembre":"XX"));}eq=p.Map(function(eF){return bs.thr3(eF[0],eF[1],eF[2]);},ep.get_View());er=(es=(et=cM.DynamicPred("disabled",eq,p.Const("")),(eu=cM.DynamicPred("disabled",eq,p.Const("")),(ev=cM.DynamicPred("disabled",eq,p.Const("")),(ew=cM.DynamicPred("disabled",eq,p.Const("")),(ex=cM.DynamicPred("disabled",eq,p.Const("")),(ey=X.EmbedView(p.Map(function(eF){return bs.crearOptions($.map(a.String,eF));},bs.mesesV().get_View())),(ez=X.EmbedView(p.Map(function(eF){return bs.crearOptions($.map(a.String,eF));},bs.aniosV().get_View())),(eA=X.EmbedView(p.Map(bs.crearOptions,bs.tiposTar().get_View())),R.Make().WithHole({$:0,$0:"tipostarjeta",$1:eA})).WithHole({$:2,$0:"mensaje",$1:p.Map(function(eF){return bs.snd3(eF[0],eF[1],eF[2]);},ep.get_View())}).WithHole({$:0,$0:"anios",$1:ez})).WithHole({$:0,$0:"meses",$1:ey})).WithHole({$:3,$0:"disabled1",$1:ex})).WithHole({$:3,$0:"disabled2",$1:ew})).WithHole({$:3,$0:"disabled3",$1:ev})).WithHole({$:3,$0:"disabled4",$1:eu})).WithHole({$:3,$0:"disabled5",$1:et})),(eB=S.CompleteHoles(es.k,es.h,[["tipotarjeta",0],["titular",0],["numero",0],["aniovenc",0],["mesvenc",0]]),(eC=new P.New(eB[1],T.tarjetacredito(eB[0])),(es.i=eC,eC))));p.Sink(function(eF){return eE(eF[0],eF[1],eF[2]);},ep.get_View());eD=p.Apply(p.Apply(p.Apply(p.Map2(function(eF,eG){return eh.Curried3(function(eH,eI,eJ){return $.map(function(eK){return eK[1];},$.filter(function(eK){return eK[0];},bw.ofArray([[bg.Trim(eF)==="","Titular"],[bg.Trim(eG)==="","TipoTarjeta"],[bg.Trim(eH)==="","Numero"],[bg.Trim(eI)==="","Ano de Vencimiento"],[bg.Trim(eJ)==="","Mes de Vencimiento"]])));});},er.Hole("titular").get_View(),er.Hole("tipotarjeta").get_View()),er.Hole("numero").get_View()),er.Hole("aniovenc").get_View()),er.Hole("mesvenc").get_View());p.Sink(function(eF){var eG,eH;if(eF!=null&&eF.$==1){eG=eF.$0;!G.Equals((eH=ep.Get(),bs.fst3(eH[0],eH[1],eH[2])),eG)?ep.Set([eG,"",false]):void 0;}},p.Apply(p.Apply(p.Apply(p.Apply(p.Map2(function(eF,eG){return eh.Curried(function(eH,eI,eJ,eK){return!$.isEmpty(eF)?null:bs.alertIfNone("Tipo Tarjeta",cf.tryParse(bg.Trim(eG)),function(eL){var eM,eN,eO;return{$:1,$0:cc.New(bg.Trim(eH),eL,new ce({$:0,$0:bg.Trim(eI)}),cd.New((eM=(eN=bg.Trim(eJ),(b3.parseIntO$1())(eN)),eM==null?0:eM.$0),(eO=bg.Trim(eK),eO==="Febrero"?2:eO==="Marzo"?3:eO==="Abril"?4:eO==="Mayo"?5:eO==="Junio"?6:eO==="Julio"?7:eO==="Agosto"?8:eO==="Septiembre"?9:eO==="Octubre"?10:eO==="Noviembre"?11:eO==="Diciembre"?12:1)))};});},4);},eD,er.Hole("tipotarjeta").get_View()),er.Hole("titular").get_View()),er.Hole("numero").get_View()),er.Hole("aniovenc").get_View()),er.Hole("mesvenc").get_View()));return[eD,er.get_Doc()];};cI=h.FromView=eh.Class({get_View:function(){return this.view;},Set:function(ep){this.set(ep);},Get:function(){return this.current;},Update:function(ep){var eq;p.Get((eq=this.set,function(er){return eq(ep(er));}),this.view);},UpdateMaybe:function(ep){var eq;eq=this;p.Get(function(er){var es;es=ep(er);es!=null&&es.$==1?eq.set(es.$0):void 0;},this.view);}},q,cI);cI.New=eh.Ctor(function(ep,eq){var er,es;er=this;q.New.call(this);this.set=eq;this.id=bV.Int();this.current=(es=p.TryGet(ep),es==null?null:es.$0);this.view=p.Map(function(et){er.current=et;return et;},ep);},cI);cJ.ofSeqNonCopying=function(ep){var eq,er;if(ep instanceof a.Array)return ep;else if(ep instanceof cz)return Q.ofList(ep);else if(ep===null)return[];else{eq=[];er=cw.Get(ep);try{while(er.MoveNext())eq.push(er.Current());return eq;}finally{if(typeof er=="object"&&"Dispose"in er)er.Dispose();}}};cJ.TreeReduce=function(ep,eq,er){var es;function et(eu,ev){var ew,ex;return ev<=0?ep:ev===1&&(eu>=0&&eu<es)?Q.get(er,eu):(ex=ev/2>>0,eq(et(eu,ex),et(eu+ex,ev-ex)));}es=Q.length(er);return et(0,es);};cJ.MapTreeReduce=function(ep,eq,er,es){var et;function eu(ev,ew){var ex,ey;return ew<=0?eq:ew===1&&(ev>=0&&ev<et)?ep(Q.get(es,ev)):(ey=ew/2>>0,er(eu(ev,ey),eu(ev+ey,ew-ey)));}et=Q.length(es);return eu(0,et);};cJ.mapInPlace=function(ep,eq){var er,es;for(er=0,es=eq.length-1;er<=es;er++)eq[er]=ep(eq[er]);return eq;};cK.Delay=function(ep){return function(eq){try{(ep(null))(eq);}catch(er){eq.k({$:1,$0:er});}};};cK.Bind=function(ep,eq){return cK.checkCancel(function(er){ep(db.New(function(es){var et;if(es.$==0){et=es.$0;cK.scheduler().Fork(function(){try{(eq(et))(er);}catch(eu){er.k({$:1,$0:eu});}});}else cK.scheduler().Fork(function(){er.k(es);});},er.ct));});};cK.Zero=function(){dc.$cctor();return dc.Zero;};cK.Start=function(ep,eq){var er,es;er=(es=(cK.defCTS())[0],eq==null?es:eq.$0);cK.scheduler().Fork(function(){if(!er.c)ep(db.New(function(et){if(et.$==1)cK.UncaughtAsyncError(et.$0);},er));});};cK.Return=function(ep){return function(eq){eq.k({$:0,$0:ep});};};cK.While=function(ep,eq){return ep()?cK.Bind(eq,function(){return cK.While(ep,eq);}):cK.Return();};cK.Sleep=function(ep){return function(eq){var er,es;er=void 0;es=void 0;er=a.setTimeout(function(){es.Dispose();cK.scheduler().Fork(function(){eq.k({$:0,$0:null});});},ep);es=cK.Register(eq.ct,function(){a.clearTimeout(er);cK.scheduler().Fork(function(){cK.cancel(eq);});});};};cK.checkCancel=function(ep){return function(eq){if(eq.ct.c)cK.cancel(eq);else ep(eq);};};cK.FromContinuations=function(ep){return function(eq){var er;function es(et){if(er[0])o.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{er[0]=true;cK.scheduler().Fork(et);}}er=[false];ep(function(et){es(function(){eq.k({$:0,$0:et});});},function(et){es(function(){eq.k({$:1,$0:et});});},function(et){es(function(){eq.k({$:2,$0:et});});});};};cK.defCTS=function(){dc.$cctor();return dc.defCTS;};cK.UncaughtAsyncError=function(ep){ek.log("WebSharper: Uncaught asynchronous exception",ep);};cK.Combine=function(ep,eq){return cK.Bind(ep,function(){return eq;});};cK.Register=function(ep,eq){var er;return ep===cK.noneCT()?{Dispose:function(){return null;}}:(er=ep.r.push(eq)-1,{Dispose:function(){return Q.set(ep.r,er,a.ignore);}});};cK.cancel=function(ep){ep.k({$:2,$0:new dR.New(ep.ct)});};cK.Using=function(ep,eq){return cK.TryFinally(eq(ep),function(){ep.Dispose();});};cK.scheduler=function(){dc.$cctor();return dc.scheduler;};cK.TryWith=function(ep,eq){return function(er){ep(db.New(function(es){if(es.$==0)er.k({$:0,$0:es.$0});else if(es.$==1)try{(eq(es.$0))(er);}catch(et){er.k(es);}else er.k(es);},er.ct));};};cK.noneCT=function(){dc.$cctor();return dc.noneCT;};cK.TryFinally=function(ep,eq){return function(er){ep(db.New(function(es){try{eq();er.k(es);}catch(et){er.k({$:1,$0:et});}},er.ct));};};cK.StartWithContinuations=function(ep,eq,er,es,et){var eu,ev;eu=(ev=(cK.defCTS())[0],et==null?ev:et.$0);!eu.c?ep(db.New(function(ew){if(ew.$==1)er(ew.$0);else if(ew.$==2)es(ew.$0);else eq(ew.$0);},eu)):void 0;};cK.GetCT=function(){dc.$cctor();return dc.GetCT;};b1.splitByChar=function(ep,eq){return bg.SplitChars(eq,[ep],0);};b1.unindent=function(ep){var eq,er,es,et;eq=bg.SplitChars(ep,["\n"],0);er=(es=$.tryFindIndex(function(eu){return" "!==eu;},(et=$.tryFind(function(eu){return bg.Trim(eu)!=="";},eq),et==null?"":et.$0)),es==null?0:es.$0);return $.filter(function(eu){return!bg.StartsWith(eu,"# 1 ");},$.map(function(eu){return eu.length<=er?"":eu.substring(er);},eq));};b1.delimitedO=function(ep,eq,er){var es,et,eu,ev,ew;es=b1.splitInTwoO(ep,er);return es==null?null:(et=es.$0,(eu=et[0],(ev=b1.splitInTwoO(eq,et[1]),ev==null?null:{$:1,$0:(ew=ev.$0,[eu,ew[0],ew[1]])})));};b1.unindentStr=function(){bJ.$cctor();return bJ.unindentStr;};b1.StartsWith=function(ep,eq){return bg.StartsWith(eq,ep)?{$:1,$0:b2.string(eq,{$:1,$0:ep.length},null)}:null;};b1.splitInTwoO=function(ep,eq){var er;er=eq.indexOf(ep);return er===-1?null:{$:1,$0:[ba["String.Left"](eq,er),eq.substring(er+ep.length)]};};cM.Style=function(ep,eq){return df.Static(function(er){dg.SetStyle(er,ep,eq);});};cM.Dynamic=function(ep,eq){return df.Dynamic(eq,function(er){return function(es){return dg.SetAttr(er,ep,es);};});};cM.Handler=function(ep,eq){return df.Static(function(er){er.addEventListener(ep,function(es){return(eq(er))(es);},false);});};cM.DynamicStyle=function(ep,eq){return df.Dynamic(eq,function(er){return function(es){return dg.SetStyle(er,ep,es);};});};cM.Value=function(ep){function eq(er){return{$:1,$0:er};}return cM.CustomValue(ep,a.id,function(er){return eq(a.id(er));});};cM.DynamicPred=function(ep,eq,er){function es(et,eu){return eu[0]?dg.SetAttr(et,ep,eu[1]):dg.RemoveAttr(et,ep);}return df.Dynamic(p.Map2(function(et,eu){return[et,eu];},eq,er),function(et){return function(eu){return es(et,eu);};});};cM.CustomValue=function(ep,eq,er){return cM.CustomVar(ep,function(es,et){es.value=eq(et);},function(es){return er(es.value);});};cM.OnAfterRender=function(ep){return new cU({$:4,$0:ep});};cM.Checked=function(ep){function eq(er,es){return!G.Equals(ep.Get(),er.checked)?ep.Set(er.checked):null;}return cU.Concat([cM.DynamicProp("checked",ep.get_View()),cM.Handler("change",function(er){return function(es){return eq(er,es);};})]);};cM.IntValue=function(ep){return cM.CustomVar(ep,function(eq,er){var es;es=er.get_Input();return eq.value!==es?void(eq.value=es):null;},function(eq){var er,es,et;er=eq.value;return{$:1,$0:d9.isBlank(er)?(eq.checkValidity?eq.checkValidity():true)?new cV({$:2,$0:er}):new cV({$:1,$0:er}):(es=(et=0,[bO.TryParseInt32(er,{get:function(){return et;},set:function(eu){et=eu;}}),et]),es[0]?new cV({$:0,$0:es[1],$1:er}):new cV({$:1,$0:er}))};});};cM.IntValueUnchecked=function(ep){return cM.CustomValue(ep,a.String,function(eq){var er;return d9.isBlank(eq)?{$:1,$0:0}:(er=+eq,er!==er>>0?null:{$:1,$0:er});});};cM.FloatValue=function(ep){return cM.CustomVar(ep,function(eq,er){var es;es=er.get_Input();return eq.value!==es?void(eq.value=es):null;},function(eq){var er,es;er=eq.value;return{$:1,$0:d9.isBlank(er)?(eq.checkValidity?eq.checkValidity():true)?new cV({$:2,$0:er}):new cV({$:1,$0:er}):(es=+er,a.isNaN(es)?new cV({$:1,$0:er}):new cV({$:0,$0:es,$1:er}))};});};cM.FloatValueUnchecked=function(ep){return cM.CustomValue(ep,a.String,function(eq){var er;return d9.isBlank(eq)?{$:1,$0:0}:(er=+eq,a.isNaN(er)?null:{$:1,$0:er});});};cM.CustomVar=function(ep,eq,er){function es(eu,ev){return ep.UpdateMaybe(function(ew){var ex,ey;ex=er(eu);return ex!=null&&ex.$==1&&(!G.Equals(ex.$0,ew)&&(ey=[ex,ex.$0],true))?ey[0]:null;});}function et(eu,ev){var ew,ex;ew=er(eu);return ew!=null&&ew.$==1&&(G.Equals(ew.$0,ev)&&(ex=ew.$0,true))?null:eq(eu,ev);}return cU.Concat([cM.Handler("change",function(eu){return function(ev){return es(eu,ev);};}),cM.Handler("input",function(eu){return function(ev){return es(eu,ev);};}),cM.Handler("keypress",function(eu){return function(ev){return es(eu,ev);};}),cM.DynamicCustom(function(eu){return function(ev){return et(eu,ev);};},ep.get_View())]);};cM.DynamicProp=function(ep,eq){return df.Dynamic(eq,function(er){return function(es){er[ep]=es;};});};cM.DynamicCustom=function(ep,eq){return df.Dynamic(eq,ep);};W.p$1=function(ep){return"{"+("actName = "+bu.prettyPrint(ep.actName))+"; "+("actFunction = "+cO.p$1(ep.actFunction))+"; "+("actEnabled = "+cO.p$2(ep.actEnabled))+"}";};cN.appfwkclient=function(ep){cN.fixedsplitterhor();cN.fixedsplitterver();cX.LoadLocalTemplates("appframework");return ep?cX.NamedTemplate("appframework",{$:1,$0:"appfwkclient"},ep):void 0;};W.p=function(ep){return"{"+("docName = "+bu.prettyPrint(ep.docName))+"; "+("docDoc = "+cO.p(ep.docDoc))+"}";};cO.p$1=function(ep){return ep.$==2?"FunAct2 (<fun>, "+bu.prettyPrint(ep.$1)+", "+bu.prettyPrint(ep.$2)+")":ep.$==1?"FunAct1 (<fun>, "+bu.prettyPrint(ep.$1)+")":"FunAct0 <fun>";};cO.p$2=function(ep){return"View <fun>";};cN.tile=function(ep){cX.LoadLocalTemplates("appframework");return ep?cX.NamedTemplate("appframework",{$:1,$0:"tile"},ep):void 0;};cN.namevalueinput=function(ep){cX.LoadLocalTemplates("appframework");return ep?cX.NamedTemplate("appframework",{$:1,$0:"namevalueinput"},ep):void 0;};cN.namevalue=function(ep){cX.LoadLocalTemplates("appframework");return ep?cX.NamedTemplate("appframework",{$:1,$0:"namevalue"},ep):void 0;};cN.action=function(ep){cX.LoadLocalTemplates("appframework");return ep?cX.NamedTemplate("appframework",{$:1,$0:"action"},ep):void 0;};cN.actiondisabled=function(ep){cX.LoadLocalTemplates("appframework");return ep?cX.NamedTemplate("appframework",{$:1,$0:"actiondisabled"},ep):void 0;};cN.fixedsplitterhor=function(ep){cX.LoadLocalTemplates("appframework");return ep?cX.NamedTemplate("appframework",{$:1,$0:"fixedsplitterhor"},ep):void 0;};cN.fixedsplitterver=function(ep){cX.LoadLocalTemplates("appframework");return ep?cX.NamedTemplate("appframework",{$:1,$0:"fixedsplitterver"},ep):void 0;};cN.wcompsplitterhor=function(ep){cX.LoadLocalTemplates("appframework");return ep?cX.NamedTemplate("appframework",{$:1,$0:"wcompsplitterhor"},ep):void 0;};cN.wcompsplitterver=function(ep){cX.LoadLocalTemplates("appframework");return ep?cX.NamedTemplate("appframework",{$:1,$0:"wcompsplitterver"},ep):void 0;};cN.appframework=function(ep){cX.LoadLocalTemplates("appframework");return ep?cX.NamedTemplate("appframework",{$:1,$0:"appframework"},ep):void 0;};cO.p=function(ep){return ep.$==5?"FunDoc5 (<fun>, "+bu.prettyPrint(ep.$1)+", "+bu.prettyPrint(ep.$2)+", "+bu.prettyPrint(ep.$3)+", "+bu.prettyPrint(ep.$4)+", "+bu.prettyPrint(ep.$5)+")":ep.$==4?"FunDoc4 (<fun>, "+bu.prettyPrint(ep.$1)+", "+bu.prettyPrint(ep.$2)+", "+bu.prettyPrint(ep.$3)+", "+bu.prettyPrint(ep.$4)+")":ep.$==3?"FunDoc3 (<fun>, "+bu.prettyPrint(ep.$1)+", "+bu.prettyPrint(ep.$2)+", "+bu.prettyPrint(ep.$3)+")":ep.$==2?"FunDoc2 (<fun>, "+bu.prettyPrint(ep.$1)+", "+bu.prettyPrint(ep.$2)+")":ep.$==1?"FunDoc1 (<fun>, "+bu.prettyPrint(ep.$1)+")":"LazyDoc "+bu.prettyPrint(ep.$0);};b3.tryParseWith=function(ep){function eq(er,es){return er?{$:1,$0:es}:null;}return function(er){return eq.apply(null,ep(er));};};b3.parseDateO=function(){bJ.$cctor();return bJ.parseDateO;};b3.parseIntO=function(){bJ.$cctor();return bJ.parseIntO;};b3.parseInt64O=function(){bJ.$cctor();return bJ.parseInt64O;};b3.parseSingleO=function(){bJ.$cctor();return bJ.parseSingleO;};b3.parseDoubleO=function(){bJ.$cctor();return bJ.parseDoubleO;};b3.parseGuidO=function(){bJ.$cctor();return bJ.parseGuidO;};b3.Double=function(){bJ.$cctor();return bJ["|Double|_|"];};b3.Int=function(){bJ.$cctor();return bJ["|Int|_|"];};cR=cQ.WcTabStripT=eh.Class({connectedCallback:function(){var ep,eq,er,es;function et(){var eu,ev,ew;ev=!eq.hasAttribute("bottom");ew=bw.ofSeq($.delay(function(){return $.collect(function(ex){var ey;ey=eq.childNodes[ex-1];return G.Equals(ey.nodeType,D.ELEMENT_NODE)?[[ey.hasAttribute("tabname")?ey.getAttribute("tabname"):(function(ez){return function(eA){return ez("Tab "+a.String(eA));};}(a.id))(ex),ey]]:[];},o.range(1,eq.childNodes.length));}));while(es.childNodes.length>0)es.removeChild(es.lastChild);eu=cQ.tabStrip(ep.selected,ev,true,ew,X.Element("slot",cz.Empty,cz.Empty));cX.LoadLocalTemplates("");X.Run(es,eu);}ep=this;!this.added?(eq=this,er=eq.attachShadow({mode:"open"}),es=self.document.createElement("div"),er.appendChild(es),et(),eq.addEventListener("DOMSubtreeModified",ba.delayed(50,et)),this.added=true):void 0;}},g,cR);cR.Constructor=function(){var ep,eq;ep=(eq=en.construct(self.HTMLElement,[],this.__proto__.constructor),eq);self.FsRoot.LibraryJS.WebComponent.WcTabStrip.WcTabStripT.New.call(ep);return ep;};cR.New=eh.Ctor(function(){g.New.call(this);this.added=false;this.selected=i.Create$1(1);(function(ep){return ep("WcTabStripT initializer");}(function(ep){ek.log(ep);}));},cR);cP.defineWebComponent=function(ep,eq,er){try{ek.log("defineWebComponent: "+ep);cH.setPrototypeOf(er.prototype,self.HTMLElement.prototype);cH.setPrototypeOf(er,self.HTMLElement);cH.setPrototypeOf(eq.prototype,er.prototype);self.customElements.define(ep,eq);}catch(es){(function(et){return et("Failed to define WebComponent. Not supported.");}(function(et){ek.log(et);}));}};cS.init=function(ep,eq){var er;er=new dh.New();cS.set_layoutHorizontal(ep);cS.set_layoutVertical(eq);cP.defineWebComponent("wcomp-splitter",dh.Constructor,self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New);};cS.set_layoutHorizontal=function(ep){bJ.$cctor();bJ.layoutHorizontal=ep;};cS.set_layoutVertical=function(ep){bJ.$cctor();bJ.layoutVertical=ep;};cS.layoutVertical=function(){bJ.$cctor();return bJ.layoutVertical;};cS.layoutHorizontal=function(){bJ.$cctor();return bJ.layoutHorizontal;};cQ.init=function(){bJ.$cctor();return bJ.init;};cQ.tabStrip=function(ep,eq,er,es,et){var eu;eu=X.Element("div",[cU.Create("class",(((eh.Curried3(function(ev,ew,ex){return ev("tab-strip "+bu.toSafe(ew)+" "+bu.toSafe(ex));}))(a.id))(eq?"top":"bottom"))(er?"horizontal":"vertical"))],bw.ofSeq($.delay(function(){return $.collect(function(ev){var ew;ew=ev[0];return[dy.New$1().Content(X.Element("div",[cM.Dynamic("class",p.Map(function(ex){return"tab"+(ex===ew+1?" selected":"");},ep.get_View())),cU.Create("draggable","true"),cU.HandlerImpl("click",function(){return function(){return ep.Set(ew+1);};})],[X.TextNode(ev[1][0])]))];},$.indexed(es));})));return X.Element("div",[cU.Create("class","tab-panel")],bw.ofSeq($.delay(function(){return $.append(eq?[eu]:[],$.delay(function(){return $.append([X.Element("div",[cU.Create("class","tab-content")],[et])],$.delay(function(){return $.append(!eq?[eu]:[],$.delay(function(){return $.append([X.Element("style",cz.Empty,bw.ofArray([X.TextNode(cQ.css())]))],$.delay(function(){return[X.Element("style",cz.Empty,bw.ofArray([X.TextView(p.Map(function(ev){return function(ew){return ev("\r\n                                              ::slotted(*              ) { display: none }\r\n                                              ::slotted(*:nth-child("+a.String(ew)+")) { display: grid }\r\n                                           ");};}(a.id),ep.get_View()))]))];}));}));}));}));})));};cQ.css=function(){bJ.$cctor();return bJ.css;};cT.notPresent=function(){return o.FailWith("The given key was not present in the dictionary.");};cT.alreadyAdded=function(){return o.FailWith("An item with the same key has already been added.");};cU=h.AttrProxy=eh.Class({},null,cU);cU.Create=function(ep,eq){return df.Static(function(er){dg.SetAttr(er,ep,eq);});};cU.HandlerImpl=function(ep,eq){return df.Static(function(er){er.addEventListener(ep,function(es){return(eq(er))(es);},false);});};cU.Concat=function(ep){var eq;eq=cJ.ofSeqNonCopying(ep);return cJ.TreeReduce(df.EmptyAttr(),cU.Append,eq);};cU.Append=function(ep,eq){return df.AppendTree(ep,eq);};cU.Handler=function(ep,eq){return cU.HandlerImpl(ep,eq);};cV=h.CheckedInput=eh.Class({get_Input:function(){return this.$==1?this.$0:this.$==2?this.$0:this.$1;}},null,cV);cX.LoadLocalTemplates=function(ep){!cX.LocalTemplatesLoaded()?(cX.set_LocalTemplatesLoaded(true),cX.LoadNestedTemplates(self.document.body,"")):void 0;cX.LoadedTemplates().set_Item(ep,cX.LoadedTemplateFile(""));};cX.NamedTemplate=function(ep,eq,er){var es,et;es=(et=null,[cX.LoadedTemplateFile(ep).TryGetValue(eq==null?"":eq.$0,{get:function(){return et;},set:function(eu){et=eu;}}),et]);return es[0]?cX.ChildrenTemplate(es[1].cloneNode(true),er):(ek.warn("Local template doesn't exist",eq),X.get_Empty());};cX.RunFullDocTemplate=function(ep){var eq,er;cX.LoadLocalTemplates("");cX.PrepareTemplateStrict("",null,dg.ChildrenArray(self.document.body),{$:1,$0:self.document.body},null);eq=cX.ChildrenTemplate(self.document.body,ep);er=self.document.body;(function(es){X.RunInPlace(true,er,es);}(eq));return eq;};cX.LocalTemplatesLoaded=function(){dD.$cctor();return dD.LocalTemplatesLoaded;};cX.set_LocalTemplatesLoaded=function(ep){dD.$cctor();dD.LocalTemplatesLoaded=ep;};cX.LoadNestedTemplates=function(ep,eq){var es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF;function er(eG){var eH,eI;if(!es.ContainsKey(eG)){eH=(eI=null,[et.TryGetValue(eG,{get:function(){return eI;},set:function(eJ){eI=eJ;}}),eI]);eH[0]?(eF.Add(eG),et.Remove(eG),cX.PrepareTemplateStrict(eq,{$:1,$0:eG},eH[1][0],{$:1,$0:eH[1][1]},{$:1,$0:er})):ek.warn(eF.Contains(eG)?"Encountered loop when instantiating "+eG:"Local template does not exist: "+eG);}}es=cX.LoadedTemplateFile(eq);et=new bQ.New$5();eu=ep.querySelectorAll("[ws-template]");for(ev=0,ew=eu.length-1;ev<=ew;ev++){ex=eu[ev];ey=ex.getAttribute("ws-template").toLowerCase();ex.removeAttribute("ws-template");et.set_Item(ey,[[ex],cX.FakeRootSingle(ex)]);}ez=ep.querySelectorAll("[ws-children-template]");for(eA=0,eB=ez.length-1;eA<=eB;eA++){eC=ez[eA];eD=eC.getAttribute("ws-children-template").toLowerCase();eC.removeAttribute("ws-children-template");et.set_Item(eD,(eE=dg.ChildrenArray(eC),[eE,cX.FakeRoot(eE)]));}eF=new bR.New$3();while(et.count>0)er($.head(et.get_Keys()));};cX.LoadedTemplates=function(){dD.$cctor();return dD.LoadedTemplates;};cX.LoadedTemplateFile=function(ep){var eq,er,es;eq=(er=null,[cX.LoadedTemplates().TryGetValue(ep,{get:function(){return er;},set:function(et){er=et;}}),er]);return eq[0]?eq[1]:(es=new bQ.New$5(),(cX.LoadedTemplates().set_Item(ep,es),es));};cX.ChildrenTemplate=function(ep,eq){var er,es,et,eu,ev;er=cX.InlineTemplate(ep,eq);es=er[1];et=er[0];eu=et.Els;return!G.Equals(eu,null)&&eu.length===1&&(Q.get(eu,0)instanceof D&&(G.Equals(Q.get(eu,0).nodeType,D.ELEMENT_NODE)&&(ev=Q.get(eu,0),true)))?dE.TreeNode(et,es):X.Mk({$:6,$0:et},es);};cX.PrepareTemplateStrict=function(ep,eq,er,es,et){var eu,ev;function ew(eB,eC){var eD,eE,eF,eG,eH,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e0,e1,e2,e3;function eI(e4){}while(true)switch(eB){case 0:if(eC!==null){eD=eC.nextSibling;if(G.Equals(eC.nodeType,D.TEXT_NODE))dH.convertTextNode(eC);else if(G.Equals(eC.nodeType,D.ELEMENT_NODE))ey(eC);eC=eD;}else return null;break;case 1:eJ=b2.string(eC.nodeName,{$:1,$0:3},null).toLowerCase();eK=(eE=eJ.indexOf("."),eE===-1?[ep,eJ]:[b2.string(eJ,null,{$:1,$0:eE-1}),b2.string(eJ,{$:1,$0:eE+1},null)]);eL=eK[1];eM=eK[0];if(eM!==""&&!cX.LoadedTemplates().ContainsKey(eM))return dH.failNotLoaded(eL);else{if(eM===""&&et!=null)et.$0(eL);eN=cX.LoadedTemplates().get_Item(eM);if(!eN.ContainsKey(eL))return dH.failNotLoaded(eL);else{eO=eN.get_Item(eL);eP=eO.cloneNode(true);eQ=new bR.New$3();eR=new bQ.New$5();eS=eC.attributes;for(eT=0,eU=eS.length-1;eT<=eU;eT++){eV=eS.item(eT).name.toLowerCase();eR.set_Item(eV,(eW=eS.item(eT).nodeValue,eW===""?eV:eW.toLowerCase()));!eQ.Add(eV)?ek.warn("Hole mapped twice",eV):void 0;}for(eX=0,eY=eC.childNodes.length-1;eX<=eY;eX++){eZ=eC.childNodes[eX];G.Equals(eZ.nodeType,D.ELEMENT_NODE)?!eQ.Add(eZ.nodeName.toLowerCase())?ek.warn("Hole filled twice",eL):void 0:void 0;}e0=eC.childNodes.length===1&&G.Equals(eC.firstChild.nodeType,D.TEXT_NODE);if(e0){eG=dH.fillTextHole(eP,eC.firstChild.textContent,eL);((function(e4){return function(e5){if(e5!=null)e4(e5.$0);};}((eH=function(e4){return function(e5){return e4.Add(e5);};}(eQ),function(e4){return eI(eH(e4));})))(eG));}dH.removeHolesExcept(eP,eQ);if(!e0){for(e1=0,e2=eC.childNodes.length-1;e1<=e2;e1++){e3=eC.childNodes[e1];G.Equals(e3.nodeType,D.ELEMENT_NODE)?e3.hasAttributes()?dH.fillInstanceAttrs(eP,e3):ex(eP,e3):void 0;}}dH.mapHoles(eP,eR);dH.fill(eP,eC.parentNode,eC);eC.parentNode.removeChild(eC);return;}}break;}}function ex(eB,eC){var eD,eF,eG;function eE(eH,eI){var eJ,eK,eL;if(eF==="title"&&eC.hasChildNodes()){eJ=ej.parseHTML(eC.textContent);eC.removeChild(eC.firstChild);for(eK=0,eL=eJ.length-1;eK<=eL;eK++)eC.appendChild(Q.get(eJ,eK));}else null;ey(eC);return dH.fill(eC,eH,eI);}eF=eC.nodeName.toLowerCase();dg.IterSelector(eB,"[ws-attr-holes]",function(eH){var eI,eJ,eK,eL,eM;eI=bg.SplitChars(eH.getAttribute("ws-attr-holes"),[" "],1);for(eJ=0,eK=eI.length-1;eJ<=eK;eJ++){eL=Q.get(eI,eJ);eH.setAttribute(eL,(eM=new a.RegExp("\\${"+eF+"}","ig"),eH.getAttribute(eL).replace(eM,eC.textContent)));}});eG=eB.querySelector("[ws-hole="+eF+"]");if(G.Equals(eG,null)){eD=eB.querySelector("[ws-replace="+eF+"]");return G.Equals(eD,null)?null:(eE(eD.parentNode,eD),void eD.parentNode.removeChild(eD));}else{while(eG.hasChildNodes())eG.removeChild(eG.lastChild);eG.removeAttribute("ws-hole");return eE(eG,null);}}function ey(eB){if(bg.StartsWith(eB.nodeName.toLowerCase(),"ws-"))eA(eB);else{dH.convertAttrs(eB);ez(eB.firstChild);}}function ez(eB){return ew(0,eB);}function eA(eB){return ew(1,eB);}eu=es==null?cX.FakeRoot(er):es.$0;ev=(eq==null?"":eq.$0).toLowerCase();cX.LoadedTemplateFile(ep).set_Item(ev,eu);Q.length(er)>0?(function(eB){var eC,eD,eE,eF;while(true){eC=eB.querySelector("[ws-template]");if(G.Equals(eC,null)){eD=eB.querySelector("[ws-children-template]");if(G.Equals(eD,null))return null;else{eE=eD.getAttribute("ws-children-template");eD.removeAttribute("ws-children-template");cX.PrepareTemplateStrict(ep,{$:1,$0:eE},dg.ChildrenArray(eD),null,null);eB=eB;}}else{eF=eC.getAttribute("ws-template");(cX.PrepareSingleTemplate(ep,{$:1,$0:eF},eC))(null);eB=eB;}}}(eu),ez(Q.get(er,0))):void 0;};cX.FakeRootSingle=function(ep){var eq,er,es;ep.removeAttribute("ws-template");eq=ep.getAttribute("ws-replace");eq===null?void 0:(ep.removeAttribute("ws-replace"),er=ep.parentNode,G.Equals(er,null)?void 0:(es=self.document.createElement(ep.tagName),es.setAttribute("ws-replace",eq),er.replaceChild(es,ep)));return cX.FakeRoot([ep]);};cX.FakeRoot=function(ep){var eq,er,es;eq=self.document.createElement("div");for(er=0,es=ep.length-1;er<=es;er++)eq.appendChild(Q.get(ep,er));return eq;};cX.InlineTemplate=function(ep,eq){var er,es,et,eu,ex,ey,ez,eA,eB,eC,eD;function ev(eE,eF){var eG,eH,eI;eG=df.Insert(eE,eF);ey.push(df.Updates(eG));ez.push([eE,eG]);eH=eh.GetOptional(eG.OnAfterRender);return eH==null?null:(eI=eH.$0,void eA.push(function(){eI(eE);}));}function ew(eE){var eF,eG;eF=(eG=null,[eB.TryGetValue(eE,{get:function(){return eG;},set:function(eH){eG=eH;}}),eG]);return eF[0]?eF[1].$==0?{$:1,$0:eF[1].$1}:eF[1].$==1?{$:1,$0:X.TextNode(eF[1].$1)}:eF[1].$==2?{$:1,$0:X.TextView(eF[1].$1)}:eF[1].$==8?{$:1,$0:X.TextView(eF[1].$1.get_View())}:eF[1].$==9?{$:1,$0:X.TextView(p.Map(a.String,eF[1].$1.get_View()))}:eF[1].$==10?{$:1,$0:X.TextView(p.Map(function(eH){return eH.get_Input();},eF[1].$1.get_View()))}:eF[1].$==11?{$:1,$0:X.TextView(p.Map(a.String,eF[1].$1.get_View()))}:eF[1].$==12?{$:1,$0:X.TextView(p.Map(function(eH){return eH.get_Input();},eF[1].$1.get_View()))}:eF[1].$==13?{$:1,$0:X.TextView(p.Map(a.String,eF[1].$1.get_View()))}:(ek.warn("Content hole filled with attribute data",eE),null):null;}ex=[];ey=[];ez=[];eA=[];eB=new bQ.New$5();eC=cw.Get(eq);try{while(eC.MoveNext()){eD=eC.Current();eB.set_Item(eD.$0,eD);}}finally{if(typeof eC=="object"&&"Dispose"in eC)eC.Dispose();}er=dg.ChildrenArray(ep);dg.IterSelector(ep,"[ws-hole]",function(eE){var eF,eG,eH;eH=eE.getAttribute("ws-hole");eE.removeAttribute("ws-hole");while(eE.hasChildNodes())eE.removeChild(eE.lastChild);eF=ew(eH);eF!=null&&eF.$==1?(eG=eF.$0,da.LinkElement(eE,eG.docNode),ex.push(di.New(df.Empty(eE),eG.docNode,null,eE,bV.Int(),null)),ey.push(eG.updates)):void 0;});dg.IterSelector(ep,"[ws-replace]",function(eE){var eF,eG,eH,eI,eJ,eK;eF=ew(eE.getAttribute("ws-replace"));eF!=null&&eF.$==1?(eG=eF.$0,eH=eE.parentNode,eI=self.document.createTextNode(""),eH.replaceChild(eI,eE),eJ=da.InsertBeforeDelim(eI,eG.docNode),eK=Q.tryFindIndex(function(eL){return eE===eL;},er),eK==null?void 0:Q.set(er,eK.$0,eG.docNode),ex.push(di.New(df.Empty(eH),eG.docNode,{$:1,$0:[eJ,eI]},eH,bV.Int(),null)),ey.push(eG.updates)):void 0;});dg.IterSelector(ep,"[ws-attr]",function(eE){var eF,eG,eH;eF=eE.getAttribute("ws-attr");eE.removeAttribute("ws-attr");eG=(eH=null,[eB.TryGetValue(eF,{get:function(){return eH;},set:function(eI){eH=eI;}}),eH]);eG[0]?eG[1].$==3?ev(eE,eG[1].$1):ek.warn("Attribute hole filled with non-attribute data",eF):void 0;});dg.IterSelector(ep,"[ws-on]",function(eE){ev(eE,cU.Concat(Q.choose(function(eF){var eG,eH,eI;eG=bg.SplitChars(eF,[":"],1);eH=(eI=null,[eB.TryGetValue(Q.get(eG,1),{get:function(){return eI;},set:function(eJ){eI=eJ;}}),eI]);return eH[0]?eH[1].$==4?{$:1,$0:cM.Handler(Q.get(eG,0),eH[1].$1)}:eH[1].$==5?{$:1,$0:cU.Handler(Q.get(eG,0),eH[1].$2)}:(ek.warn("Event hole on"+Q.get(eG,0)+" filled with non-event data",Q.get(eG,1)),null):null;},bg.SplitChars(eE.getAttribute("ws-on"),[" "],1))));eE.removeAttribute("ws-on");});dg.IterSelector(ep,"[ws-onafterrender]",function(eE){var eF,eG,eH;eF=eE.getAttribute("ws-onafterrender");eG=(eH=null,[eB.TryGetValue(eF,{get:function(){return eH;},set:function(eI){eH=eI;}}),eH]);eG[0]?eG[1].$==6?(eE.removeAttribute("ws-onafterrender"),ev(eE,cM.OnAfterRender(eG[1].$1))):eG[1].$==7?(eE.removeAttribute("ws-onafterrender"),ev(eE,cM.OnAfterRender(eG[1].$1))):ek.warn("onafterrender hole filled with non-onafterrender data",eF):void 0;});dg.IterSelector(ep,"[ws-var]",function(eE){var eF,eG,eH;eF=eE.getAttribute("ws-var");eE.removeAttribute("ws-var");eG=(eH=null,[eB.TryGetValue(eF,{get:function(){return eH;},set:function(eI){eH=eI;}}),eH]);eG[0]?eG[1].$==8?ev(eE,cM.Value(eG[1].$1)):eG[1].$==9?ev(eE,cM.Checked(eG[1].$1)):eG[1].$==10?ev(eE,cM.IntValue(eG[1].$1)):eG[1].$==11?ev(eE,cM.IntValueUnchecked(eG[1].$1)):eG[1].$==12?ev(eE,cM.FloatValue(eG[1].$1)):eG[1].$==13?ev(eE,cM.FloatValueUnchecked(eG[1].$1)):ek.warn("Var hole filled with non-Var data",eF):void 0;});dg.IterSelector(ep,"[ws-attr-holes]",function(eE){var eF,eG,eH,eI;eF=new a.RegExp(cX.TextHoleRE(),"g");eG=bg.SplitChars(eE.getAttribute("ws-attr-holes"),[" "],1);eE.removeAttribute("ws-attr-holes");for(eH=0,eI=eG.length-1;eH<=eI;eH++)(function(){var eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV;eS=Q.get(eG,eH);eT=eE.getAttribute(eS);eJ=null;eK=0;eU=[];while(eJ=eF.exec(eT),eJ!==null){eV=b2.string(eT,{$:1,$0:eK},{$:1,$0:eF.lastIndex-Q.get(eJ,0).length-1});eK=eF.lastIndex;eU.push([eV,Q.get(eJ,1)]);}eM=b2.string(eT,{$:1,$0:eK},null);eF.lastIndex=0;eN=Q.foldBack(function(eW,eX){return(function(eY){var eZ,e0;eZ=eY[0];e0=eY[1];return function(e1){var e2,e3,e4,e5,e6;e2=e1[0];e3=e1[1];e4=(e5=(e6=null,[eB.TryGetValue(e0,{get:function(){return e6;},set:function(e7){e6=e7;}}),e6]),e5[0]?e5[1].$==1?{$:0,$0:e5[1].$1}:e5[1].$==2?{$:1,$0:e5[1].$1}:e5[1].$==8?{$:1,$0:e5[1].$1.get_View()}:e5[1].$==9?{$:1,$0:p.Map(a.String,e5[1].$1.get_View())}:e5[1].$==10?{$:1,$0:p.Map(function(e7){return e7.get_Input();},e5[1].$1.get_View())}:e5[1].$==11?{$:1,$0:p.Map(a.String,e5[1].$1.get_View())}:e5[1].$==12?{$:1,$0:p.Map(function(e7){return e7.get_Input();},e5[1].$1.get_View())}:e5[1].$==13?{$:1,$0:p.Map(a.String,e5[1].$1.get_View())}:(ek.warn("Attribute value hole filled with non-text data",e0),{$:0,$0:""}):{$:0,$0:""});return e4.$==1?[eZ,new cz({$:1,$0:e2===""?e4.$0:p.Map(function(e7){return e7+e2;},e4.$0),$1:e3})]:[eZ+e4.$0+e2,e3];};}(eW))(eX);},eU,[eM,cz.Empty]);return ev(eE,eN[1].$==1?eN[1].$1.$==1?eN[1].$1.$1.$==1?eN[1].$1.$1.$1.$==0?(eO=eN[0],cM.Dynamic(eS,p.Map3(function(eW,eX,eY){return eO+eW+eX+eY;},eN[1].$0,eN[1].$1.$0,eN[1].$1.$1.$0))):(eP=eN[0],cM.Dynamic(eS,p.Map(function(eW){return eP+bg.concat("",eW);},p.Sequence(eN[1])))):(eQ=eN[0],cM.Dynamic(eS,p.Map2(function(eW,eX){return eQ+eW+eX;},eN[1].$0,eN[1].$1.$0))):eN[0]===""?cM.Dynamic(eS,eN[1].$0):(eR=eN[0],cM.Dynamic(eS,p.Map(function(eW){return eR+eW;},eN[1].$0))):cU.Create(eS,eN[0]));}());});return[eh.DeleteEmptyFields({Els:er,Dirty:true,Holes:ex,Attrs:ez,Render:(es=eA.length==0?null:{$:1,$0:function(eE){Q.iter(function(eF){eF(eE);},eA);}},es?es.$0:void 0),El:(et=!G.Equals(er,null)&&er.length===1&&(Q.get(er,0)instanceof D&&(Q.get(er,0)instanceof a.Element&&(eu=Q.get(er,0),true)))?{$:1,$0:eu}:null,et?et.$0:void 0)},["Render","El"]),cJ.TreeReduce(p.Const(),p.Map2Unit,ey)];};cX.PrepareSingleTemplate=function(ep,eq,er){var es,et,eu;es=cX.FakeRootSingle(er);et=[er];eu={$:1,$0:es};return function(ev){cX.PrepareTemplateStrict(ep,eq,et,eu,ev);};};cX.TextHoleRE=function(){dD.$cctor();return dD.TextHoleRE;};cY.TryParse=function(ep){var eq;eq=el.parse(ep);return a.isNaN(eq)?null:{$:1,$0:eq};};bO.TryParse=function(ep,eq,er,es){var et,eu;et=+ep;eu=et===et-et%1&&et>=eq&&et<=er;eu?es.set(et):void 0;return eu;};bO.TryParseBool=function(ep,eq){var er;er=ep.toLowerCase();return er==="true"?(eq.set(true),true):er==="false"&&(eq.set(false),true);};cZ.$cctor=function(){cZ.$cctor=a.ignore;cZ.EndPoint="?";cZ.AjaxProvider=new dl.New();};c0.newPojoOpt=function(ep){function eq(er,es){return es==null?null:{$:1,$0:[er,es.$0]};}return c0.newPojo($.choose(function(er){return eq(er[0],er[1]);},ep));};c0.newPojo=function(ep){var eq,er;function es(eu,ev){return function(ew){return c0.addProp(eu,ev,ew);};}function et(eu){}eq={};$.iter((er=function(eu){return(function(ev){return es(ev[0],ev[1]);}(eu))(eq);},function(eu){return et(er(eu));}),ep);return eq;};c0.addProp=function(ep,eq,er){er[ep]=eq;return er;};b5.op_EqualsEqualsGreater=function(ep,eq){return[ep,eq==null?null:{$:1,$0:eq.$0}];};b5.op_MinusMinusGreater=function(ep,eq){return[ep,{$:1,$0:eq}];};c2=f.TimeoutException=eh.Class({},c1,c2);c2.New=eh.Ctor(function(){c2.New$1.call(this,"The operation has timed out.");},c2);c2.New$1=eh.Ctor(function(ep){this.message=ep;cH.setPrototypeOf(this,c2.prototype);},c2);c3.AsAsync=function(ep){return cK.FromContinuations(function(eq,er){ep.then(eq,function(es){return er(c3.unwrapExn(es));});});};c3.unwrapExn=function(ep){return ep instanceof c1?ep:new dO.New(ep);};c5.JSUnion=function(ep,eq){var er;function es(ew){var ex;function ey(ez){return ez!=null&&ez.$==1&&G.Equals(ew,ez.$0);}ex=$.tryFindIndex(function(ez){return ey(ez[0]);},eq);return ex!=null&&ex.$==1?ex.$0:ew.$;}function et(ew,ex){return Q.init(Q.length((Q.get(eq,ew))[2]),function(ey){return ex["$"+a.String(ey)];});}function eu(ew,ex){var ey,ez,eA;ey=ep==null?{}:new ep();ez=Q.get(eq,ew);return(eA=ez[0],eA!=null&&eA.$==1)?ez[0].$0:(ey.$=ew,$.iteri(function(eB,eC){ey["$"+a.String(eB)]=eC;},ex),ey);}function ev(ew,ex){var ey;function ez(eA,eB){return[ew,eA,eB,ey];}ey=ex[2];return $.map(function(eA){return ez(eA[0],eA[1]);},ex[1]);}er=$.collect(function(ew){return ev(ew[0],ew[1]);},$.indexed(eq));return dq.New$1(function(ew){function ex(ey,ez,eA,eB){var eC,eD,eE;function eF(eG,eH,eI){var eJ;function eK(eL,eM){return eF(eJ,eL,new cz({$:1,$0:eM,$1:eI}));}return eG.$==1?(eJ=eG.$1,$.collect(function(eL){return eK(eL[0],eL[1]);},eG.$0.Parse(eH))):[[eH,eu(ey,Q.ofList(bw.rev(eI)))]];}return c5.isCorrectMethod(ez,ew.Method)?(eC=dr.startsWith(bw.ofArray(eA),ew.Segments),eC==null?[]:(eD=eC.$0,(eE=bw.ofArray(eB),eE.$==0?[[c7.New(eD,ew.QueryArgs,ew.FormData,ew.Method,ew.Body),eu(ey,[])]]:eF(eE,c7.New(eD,ew.QueryArgs,ew.FormData,ew.Method,ew.Body),cz.Empty)))):[];}return $.collect(function(ey){return ex(ey[0],ey[1],ey[2],ey[3]);},er);},function(ew){var ex,ey,ez,eA,eB,eC;function eD(eE,eF){return eF.Write(eE);}ex=es(ew);ey=Q.get(eq,ex);ez=ey[2];eA=Q.get(ey[1],0);eB=[c7.Segment(bw.ofArray(eA[1]),eA[0])];return!G.Equals(ez,null)&&ez.length===0?{$:1,$0:eB}:(eC=(((eh.Curried3(Q.map2))(eD))(et(ex,ew)))(ez),Q.forall(function(eE){return eE!=null;},eC)?{$:1,$0:$.append(eB,$.collect(function(eE){return eE.$0;},eC))}:null);});};c5.isCorrectMethod=function(ep,eq){return eq!=null&&eq.$==1?ep!=null&&ep.$==1?G.Equals(eq.$0,ep.$0):true:!(ep!=null&&ep.$==1);};c5.rString=function(){dP.$cctor();return dP.rString;};c5.rWildcard=function(){dP.$cctor();return dP.rWildcard;};c6.Parse=function(ep,eq){function er(es,et){return es.Segments.$==0?{$:1,$0:et}:null;}return $.tryPick(function(es){return er(es[0],es[1]);},ep.Parse(eq));};c6.HashLink=function(ep,eq){return"#"+c6.Link(ep,eq);};c6.Link=function(ep,eq){var er;er=c6.Write(ep,eq);return er==null?"":er.$0.ToLink();};c6.Write=function(ep,eq){var er;er=ep.Write(eq);return er==null?null:{$:1,$0:c7.Combine(er.$0)};};c7=c4.Route=eh.Class({ToLink:function(){return eb.WriteLink(this.Segments,this.QueryArgs);}},null,c7);c7.FromHash=function(ep,eq){var er,es;er=ep.indexOf("#");return er===-1?c7.get_Empty():(es=ep.substring(er+1),eq!=null&&eq.$0?es===""||es==="/"?c7.get_Empty():bg.StartsWith(es,"/")?c7.FromUrl(es.substring(1),{$:1,$0:true}):c7.Segment$2(es):c7.FromUrl(ep.substring(er),{$:1,$0:false}));};c7.Segment=function(ep,eq){var er;er=c7.get_Empty();return c7.New(ep,er.QueryArgs,er.FormData,eq,er.Body);};c7.get_Empty=function(){return c7.New(cz.Empty,new cv.New([]),new cv.New([]),null,r.CreateFromValue(null));};c7.FromUrl=function(ep,eq){var er,es,et;er=(es=ep.indexOf("?"),es===-1?[ep,new cv.New([])]:[bg.Substring(ep,0,es),c7.ParseQuery(ep.substring(es+1))]);et=c7.get_Empty();return c7.New(bw.ofArray(bg.SplitChars(er[0],["/"],eq!=null&&eq.$0?0:1)),er[1],et.FormData,et.Method,et.Body);};c7.Segment$2=function(ep){var eq;eq=c7.get_Empty();return c7.New(bw.ofArray([ep]),eq.QueryArgs,eq.FormData,eq.Method,eq.Body);};c7.ParseQuery=function(ep){return dQ.OfArray(Q.ofSeq(Q.choose(function(eq){var er,es;er=bg.SplitChars(eq,["="],0);return!G.Equals(er,null)&&er.length===2?(es=Q.get(er,1),{$:1,$0:[Q.get(er,0),es]}):((function(et){return function(eu){return et("wrong format for query argument: "+bu.toSafe(eu));};}(function(et){ek.log(et);}))(eq),null);},bg.SplitChars(ep,["&"],0))));};c7.Combine=function(ep){var eq,er,es,et,eu,ev,ew,ex,ey,ez;ew=Q.ofSeq(ep);ex=Q.length(ew);if(ex===0)return c7.get_Empty();else if(ex===1)return Q.get(ew,0);else{eq=null;er=null;ey=[];es=new cv.New([]);et=new cv.New([]);eu=0;ez=Q.length(ew);while(eu<ez)(function(){var eA,eB,eC;eA=Q.get(ew,eu);eB=eA.Method;eB!=null&&eB.$==1?eq=eB:void 0;eC=eA.Body.f();eC===null?void 0:er=eC;es=dQ.FoldBack(function(eD,eE,eF){return eF.Add(eD,eE);},es,eA.QueryArgs);et=dQ.FoldBack(function(eD,eE,eF){return eF.Add(eD,eE);},et,eA.FormData);bw.iter(function(eD){ey.push(eD);},eA.Segments);eu=eu+1;}());return c7.New(bw.ofSeq(ey),es,et,eq,r.CreateFromValue(er));}};c7.New=function(ep,eq,er,es,et){return new c7({Segments:ep,QueryArgs:eq,FormData:er,Method:es,Body:et});};c8=cr.CustomXhrProvider=eh.Class({Async:function(ep,eq,er,es,et){var eu;cK.Start((eu=null,cK.Delay(function(){return cK.Bind((cr.getTokenOA())(),function(ev){ev==null?void 0:eq.Authorization=(function(ew){return function(ex){return ew("Bearer "+bu.toSafe(ex));};}(a.id))(ev.$0);cr.originalProvider().Async(ep,eq,er,es,et);return cK.Zero();});})),null);}},g,c8);c8.New=eh.Ctor(function(){g.New.call(this);},c8);c9.fromSeq=function(ep){var eq;eq=Q.ofSeq($.delay(function(){return $.collect(function(er){return[ds.New(er[0],er[1])];},$.distinctBy(function(er){return er[0];},ep));}));Q.sortInPlace(eq);return cy.Build(eq,0,eq.length-1);};c_.New=function(ep,eq,er,es,et){return{Node:ep,Left:eq,Right:er,Height:es,Count:et};};c$=J.IdAddress=eh.Class({},null,c$);da.CreateEmbedNode=function(){return{Current:null,Dirty:false};};da.UpdateEmbedNode=function(ep,eq){ep.Current=eq;ep.Dirty=true;};da.CreateElemNode=function(ep,eq,er){var es;da.LinkElement(ep,er);es=df.Insert(ep,eq);return di.New(es,er,null,ep,bV.Int(),eh.GetOptional(es.OnAfterRender));};da.LinkElement=function(ep,eq){da.InsertDoc(ep,eq,null);};da.CreateRunState=function(ep,eq){return d0.New(d1.get_Empty(),da.CreateElemNode(ep,df.EmptyAttr(),eq));};da.PerformAnimatedUpdate=function(ep,eq,er){var es;return dI.get_UseAnimations()?(es=null,cK.Delay(function(){var et,eu,ev;et=d1.FindAll(er);eu=da.ComputeChangeAnim(eq,et);ev=da.ComputeEnterAnim(eq,et);return cK.Bind(dI.Play(dI.Append(eu,da.ComputeExitAnim(eq,et))),function(){return cK.Bind(da.SyncElemNodesNextFrame(ep,eq),function(){return cK.Bind(dI.Play(ev),function(){eq.PreviousNodes=et;return cK.Return(null);});});});})):da.SyncElemNodesNextFrame(ep,eq);};da.PerformSyncUpdate=function(ep,eq,er){var es;es=d1.FindAll(er);da.SyncElemNode(ep,eq.Top);eq.PreviousNodes=es;};da.CreateTextNode=function(){return{Text:dg.CreateText(""),Dirty:false,Value:""};};da.UpdateTextNode=function(ep,eq){ep.Value=eq;ep.Dirty=true;};da.InsertDoc=function(ep,eq,er){var es;return eq!=null&&eq.$==1?da.InsertNode(ep,eq.$0.El,er):eq!=null&&eq.$==2?(es=eq.$0,(es.Dirty=false,da.InsertDoc(ep,es.Current,er))):eq==null?er:eq!=null&&eq.$==4?da.InsertNode(ep,eq.$0.Text,er):eq!=null&&eq.$==5?da.InsertNode(ep,eq.$0,er):eq!=null&&eq.$==6?Q.foldBack(function(et,eu){return et==null||et.constructor===cH?da.InsertDoc(ep,et,eu):da.InsertNode(ep,et,eu);},eq.$0.Els,er):da.InsertDoc(ep,eq.$0,da.InsertDoc(ep,eq.$1,er));};da.InsertBeforeDelim=function(ep,eq){var er,es;er=ep.parentNode;es=self.document.createTextNode("");er.insertBefore(es,ep);da.LinkPrevElement(ep,eq);return es;};da.SyncElemNodesNextFrame=function(ep,eq){function er(es){a.requestAnimationFrame(function(){da.SyncElemNode(ep,eq.Top);es();});}return dJ.BatchUpdatesEnabled()?cK.FromContinuations(function(es,et,eu){return er.apply(null,[es,et,eu]);}):(da.SyncElemNode(ep,eq.Top),cK.Return(null));};da.ComputeExitAnim=function(ep,eq){return dI.Concat(Q.map(function(er){return df.GetExitAnim(er.Attr);},d1.ToArray(d1.Except(eq,d1.Filter(function(er){return df.HasExitAnim(er.Attr);},ep.PreviousNodes)))));};da.ComputeEnterAnim=function(ep,eq){return dI.Concat(Q.map(function(er){return df.GetEnterAnim(er.Attr);},d1.ToArray(d1.Except(ep.PreviousNodes,d1.Filter(function(er){return df.HasEnterAnim(er.Attr);},eq)))));};da.ComputeChangeAnim=function(ep,eq){var er;function es(et){return df.HasChangeAnim(et.Attr);}er=function(et){return d1.Filter(es,et);};return dI.Concat(Q.map(function(et){return df.GetChangeAnim(et.Attr);},d1.ToArray(d1.Intersect(er(ep.PreviousNodes),er(eq)))));};da.SyncElemNode=function(ep,eq){!ep?da.SyncElement(eq):void 0;da.Sync(eq.Children);da.AfterRender(eq);};da.InsertNode=function(ep,eq,er){dg.InsertAt(ep,er,eq);return eq;};da.LinkPrevElement=function(ep,eq){da.InsertDoc(ep.parentNode,eq,ep);};da.SyncElement=function(ep){function eq(er){function es(et){var eu,ev;return et!=null&&et.$==0?es(et.$0)||es(et.$1):et!=null&&et.$==2?(eu=et.$0,eu.Dirty||es(eu.Current)):et!=null&&et.$==6&&(ev=et.$0,ev.Dirty||Q.exists(eq,ev.Holes));}return es(er.Children);}df.Sync(ep.El,ep.Attr);eq(ep)?da.DoSyncElement(ep):void 0;};da.Sync=function(ep){var eq,er;if(ep!=null&&ep.$==1)da.SyncElemNode(false,ep.$0);else if(ep!=null&&ep.$==2)da.Sync(ep.$0.Current);else if(ep==null);else if(ep!=null&&ep.$==5);else if(ep!=null&&ep.$==4){eq=ep.$0;eq.Dirty?(eq.Text.nodeValue=eq.Value,eq.Dirty=false):void 0;}else if(ep!=null&&ep.$==6){er=ep.$0;Q.iter(function(es){da.SyncElemNode(false,es);},er.Holes);Q.iter(function(es){df.Sync(es[0],es[1]);},er.Attrs);da.AfterRender(er);}else{da.Sync(ep.$0);da.Sync(ep.$1);}};da.AfterRender=function(ep){var eq;eq=eh.GetOptional(ep.Render);eq!=null&&eq.$==1?(eq.$0(ep.El),eh.SetOptional(ep,"Render",null)):void 0;};da.DoSyncElement=function(ep){var eq,er,es;function et(eu,ev){var ew,ex;return eu!=null&&eu.$==1?eu.$0.El:eu!=null&&eu.$==2?(ew=eu.$0,ew.Dirty?(ew.Dirty=false,da.InsertDoc(eq,ew.Current,ev)):et(ew.Current,ev)):eu==null?ev:eu!=null&&eu.$==4?eu.$0.Text:eu!=null&&eu.$==5?eu.$0:eu!=null&&eu.$==6?(ex=eu.$0,(ex.Dirty?ex.Dirty=false:void 0,Q.foldBack(function(ey,ez){return ey==null||ey.constructor===cH?et(ey,ez):ey;},ex.Els,ev))):et(eu.$0,et(eu.$1,ev));}eq=ep.El;ee.Iter((er=ep.El,function(eu){dg.RemoveNode(er,eu);}),ee.Except(ee.DocChildren(ep),ee.Children(ep.El,eh.GetOptional(ep.Delimiters))));et(ep.Children,(es=eh.GetOptional(ep.Delimiters),es!=null&&es.$==1?es.$0[1]:null));};db.New=function(ep,eq){return{k:ep,ct:eq};};dc.$cctor=function(){dc.$cctor=a.ignore;dc.noneCT=dd.New(false,[]);dc.scheduler=new du.New();dc.defCTS=[new dv.New()];dc.Zero=cK.Return();dc.GetCT=function(ep){ep.k({$:0,$0:ep.ct});};};dd.New=function(ep,eq){return{c:ep,r:eq};};de.extractNodes=function(ep){var eq,er;function es(et,eu,ev,ew){var ex,ey,ez,eA,eB,eC;ex=de.extractNodes(ev);ey=de.extractNodes(ew);return(ex.$==0?(eA=ex.$0,!G.Equals(eA,null)&&eA.length===0)?(ez=ey,true):ey.$==0?(eB=ey.$0,!G.Equals(eB,null)&&eB.length===0)?(ez=ex,true):(ez=[ex,ey],false):(ez=[ex,ey],false):ey.$==0?(eC=ey.$0,!G.Equals(eC,null)&&eC.length===0)?(ez=ex,true):(ez=[ex,ey],false):(ez=[ex,ey],false))?ez:{$:1,$0:{$:0,$0:et,$1:eu,$2:ez[0],$3:ez[1]}};}eq=de.horizontalSplit(ep);return eq!=null&&eq.$==1?es(false,eq.$0[2],eq.$0[0],eq.$0[1]):(er=de.verticalSplit(ep),er!=null&&er.$==1?es(true,er.$0[2],er.$0[0],er.$0[1]):{$:0,$0:de.cleanSpaces(ep)});};de.createLayoutDefinitions=function(ep,eq){var er,es,et,eu,ev,ew,ex,ey,ez,eA;return eq.$==1?(er=eq.$0.$0,(es=eq.$0.$1,(et=de.createLayoutDefinitions(ep+"_1",eq.$0.$2),(eu=et[0],(ev=et[1],(ew=de.createLayoutDefinitions(ep+"_2",eq.$0.$3),(ex=ew[0],(ey=ew[1],[ep,Q.ofSeq($.delay(function(){return $.append([bg.concat(" ",bw.ofArray([ep,er?"vertical":"horizontal",a.String(es),eu,ex]))],$.delay(function(){return $.append(ev,$.delay(function(){return ey;}));}));}))])))))))):(ez=eq.$0,!G.Equals(ez,null)&&ez.length===0)?["___",[]]:(eA=eq.$0,!G.Equals(eA,null)&&eA.length===1)?[Q.get(eq.$0,0),[]]:[ep,[ep+" div \"\" "+bg.concat(" ",eq.$0)]];};de.horizontalSplit=function(ep){var eq,er,es,et,eu;function ev(ew,ex){var ey,ez,eA,eB;ey=j.REGEX$1("^ *--+([ ^v0-9]*)-* *$","",ex);return ey!=null&&ey.$==1?{$:1,$0:[[ew,(ez=(eA=$.tryItem(1,ey.$0),eA==null?null:de.extractMeasuresO(bg.Replace(bg.Replace(eA.$0,"^",""),"v","-"))),(eB=new dw({$:1,$0:5,$1:50,$2:95}),ez==null?eB:ez.$0))],ex.indexOf("-")]}:null;}eq=(er=$.tryHead($.sortBy(function(ew){return ew[1];},$.choose(function(ew){return ev(ew[0],ew[1]);},$.indexed(ep)))),er==null?null:{$:1,$0:er.$0[0]});return eq==null?null:{$:1,$0:(es=eq.$0,(et=es[0],(eu=es[1],[b2.array(ep,null,{$:1,$0:et-1}),b2.array(ep,{$:1,$0:et+1},null),eu])))};};de.verticalSplit=function(ep){var eq,er,es,et,eu,ev,ew,ex,ey,ez;function eA(eD,eE){var eF,eG,eH;return(eG=j.REGEX$1("^ *\\|+ *$","",eE),eG!=null&&eG.$==1&&(eH=eG.$0,!G.Equals(eH,null)&&eH.length===1))?{$:1,$0:[eD,eE.indexOf("|")]}:null;}function eB(eD){return G.Equals(null,eD);}function eC(eD){return G.Equals(null,eD);}eq=de.transpose(ep);er=(es=(et=$.tryHead($.sortBy(function(eD){return eD[1];},$.choose(function(eD){return eA(eD[0],eD[1]);},$.indexed(eq)))),et==null?null:{$:1,$0:et.$0[0]}),es==null?null:{$:1,$0:(eu=es.$0,[de.transpose(b2.array(eq,null,{$:1,$0:eu-1})),de.transpose(b2.array(eq,{$:1,$0:eu+1},null))])});return er==null?null:{$:1,$0:(ev=er.$0,(ew=ev[0],(ex=ev[1],[Q.filter(function(eD){return eB(de.extractMeasuresO(eD));},ew),Q.filter(function(eD){return eC(de.extractMeasuresO(eD));},ex),(ey=$.tryHead($.delay(function(){return $.append($.choose(de.extractMeasuresO,ew),$.delay(function(){return $.map(function(eD){return eD.$==0?eD.$1?new dw({$:0,$0:eD.$0,$1:false}):eD:eD;},$.choose(de.extractMeasuresO,ex));}));})),(ez=new dw({$:1,$0:5,$1:50,$2:95}),ey==null?ez:ey.$0))])))};};de.cleanSpaces=function(ep){return Q.filter(function(eq){var er;return!(er=(b3.Int())(eq),er!=null&&er.$==1);},bg.SplitStrings(bg.concat(" ",ep),[" "],1));};de.extractMeasuresO=function(ep){var eq,er,es,et,eu,ev,ew;eq=bg.SplitChars(ep,[" "],1);return!G.Equals(eq,null)&&eq.length===1&&(es=(b3.Int())(Q.get(eq,0)),es!=null&&es.$==1&&(er=es.$0,true))?{$:1,$0:new dw({$:0,$0:ei.abs(er),$1:er>=0})}:!G.Equals(eq,null)&&eq.length===3&&(eu=(b3.Int())(Q.get(eq,0)),eu!=null&&eu.$==1&&(ev=(b3.Int())(Q.get(eq,1)),ev!=null&&ev.$==1&&(ew=(b3.Int())(Q.get(eq,2)),ew!=null&&ew.$==1&&(et=[ew.$0,eu.$0,ev.$0],true))))?{$:1,$0:new dw({$:1,$0:et[1],$1:et[2],$2:et[0]})}:null;};de.transpose=function(ep){var eq;eq=$.max($.map(function(er){return er.length;},ep));return Q.ofSeq($.delay(function(){return $.map(function(er){return Q.ofSeq($.delay(function(){return $.map(function(es){return es.length>er?es[er]:" ";},ep);})).join("");},o.range(0,eq-1));}));};df.Static=function(ep){return new cU({$:3,$0:ep});};df.Dynamic=function(ep,eq){return new cU({$:1,$0:new dT.New(ep,eq)});};df.Insert=function(ep,eq){var er,es,et;function eu(ev){if(!(ev===null))if(ev!=null&&ev.$==1)er.push(ev.$0);else if(ev!=null&&ev.$==2){eu(ev.$0);eu(ev.$1);}else if(ev!=null&&ev.$==3)ev.$0(ep);else if(ev!=null&&ev.$==4)es.push(ev.$0);}er=[];es=[];eu(eq);et=er.slice(0);return dG.New(ep,df.Flags(eq),et,es.length===0?null:{$:1,$0:function(ev){$.iter(function(ew){ew(ev);},es);}});};df.EmptyAttr=function(){dU.$cctor();return dU.EmptyAttr;};df.Flags=function(ep){return ep!==null&&ep.hasOwnProperty("flags")?ep.flags:0;};df.AppendTree=function(ep,eq){var er;return ep===null?eq:eq===null?ep:(er=new cU({$:2,$0:ep,$1:eq}),(df.SetFlags(er,df.Flags(ep)|df.Flags(eq)),er));};df.Updates=function(ep){return cJ.MapTreeReduce(function(eq){return eq.NChanged();},p.Const(),p.Map2Unit,ep.DynNodes);};df.Empty=function(ep){return dG.New(ep,0,[],null);};df.SetFlags=function(ep,eq){ep.flags=eq;};df.HasExitAnim=function(ep){var eq;eq=2;return(ep.DynFlags&eq)===eq;};df.GetExitAnim=function(ep){return df.GetAnim(ep,function(eq,er){return eq.NGetExitAnim(er);});};df.HasEnterAnim=function(ep){var eq;eq=1;return(ep.DynFlags&eq)===eq;};df.GetEnterAnim=function(ep){return df.GetAnim(ep,function(eq,er){return eq.NGetEnterAnim(er);});};df.HasChangeAnim=function(ep){var eq;eq=4;return(ep.DynFlags&eq)===eq;};df.GetChangeAnim=function(ep){return df.GetAnim(ep,function(eq,er){return eq.NGetChangeAnim(er);});};df.GetAnim=function(ep,eq){return dI.Concat(Q.map(function(er){return eq(er,ep.DynElem);},ep.DynNodes));};df.Sync=function(ep,eq){Q.iter(function(er){er.NSync(ep);},eq.DynNodes);};dg.SetStyle=function(ep,eq,er){dg.SetProperty(ep.style,eq,er);};dg.ChildrenArray=function(ep){var eq,er,es;eq=[];for(er=0,es=ep.childNodes.length-1;er<=es;er++)eq.push(ep.childNodes[er]);return eq;};dg.CreateText=function(ep){return dg.Doc().createTextNode(ep);};dg.SetAttr=function(ep,eq,er){ep.setAttribute(eq,er);};dg.SetProperty=function(ep,eq,er){return ep.setProperty(eq,er);};dg.CreateElement=function(ep){return dg.Doc().createElement(ep);};dg.IterSelector=function(ep,eq,er){var es,et,eu;es=ep.querySelectorAll(eq);for(et=0,eu=es.length-1;et<=eu;et++)er(es[et]);};dg.Doc=function(){d8.$cctor();return d8.Doc;};dg.RemoveAttr=function(ep,eq){ep.removeAttribute(eq);};dg.InsertAt=function(ep,eq,er){var es;if(!(er.parentNode===ep&&eq===(es=er.nextSibling,G.Equals(es,null)?null:es)))ep.insertBefore(er,eq);};dg.RemoveClass=function(ep,eq){var er;dg.setClass(ep,(er=dg.clsRE(eq),dg.getClass(ep).replace(er,function(es,et,eu){return et===""||eu===""?"":" ";})));};dg.AddClass=function(ep,eq){var er;er=dg.getClass(ep);er===""?dg.setClass(ep,eq):!dg.clsRE(eq).test(er)?dg.setClass(ep,er+" "+eq):void 0;};dg.setClass=function(ep,eq){if(ep instanceof a.SVGElement)ep.setAttribute("class",eq);else ep.className=eq;};dg.getClass=function(ep){return ep instanceof a.SVGElement?ep.getAttribute("class"):ep.className;};dg.clsRE=function(ep){return new a.RegExp("(\\s+|^)"+ep+"(?:\\s+"+ep+")*(\\s+|$)","g");};dg.RemoveNode=function(ep,eq){if(eq.parentNode===ep)ep.removeChild(eq);};ba.delayed=function(ep,eq){var er;er=[null];return function(es){var et,eu;et=er[0];et==null?void 0:et.$0.Cancel$1();er[0]={$:1,$0:new dv.New()};cK.Start((eu=null,cK.Delay(function(){return cK.Bind(cK.Sleep(ep),function(){eq(es);return cK.Zero();});})),{$:1,$0:er[0].$0});};};ba.print=function(ep){if(typeof ep=="string")((function(eq){return function(er){return eq(bu.toSafe(er));};}(function(eq){ek.log(eq);}))(ep));else((function(eq){return function(er){return eq(bu.prettyPrint(er));};}(function(eq){ek.log(eq);}))(ep));};ba["String.Left"]=function(ep,eq){return eq<0?ba["String.Substring2"](ep,0,ep.length+eq):ba["String.Substring2"](ep,0,eq);};ba["String.Substring2"]=function(ep,eq,er){var es,et;while(true){if(er<=0)return"";else if(eq<0){es=eq;eq=0;er=er+es;}else return eq>=ep.length?"":bg.Substring(ep,eq,(et=ep.length-eq,G.Compare(er,et)===-1?er:et));}};dh=cS.WcSplitterT=eh.Class({connectedCallback:function(){var ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE;function eF(eN){var eO,eP,eQ,eR;eO=ew?["padding-left","padding-right","grid-column-gap"]:["padding-top","padding-bottom","grid-row-gap"];eP=a.parseFloat("0"+ej(eN.parentElement.parentElement).css(eO[0]));eQ=a.parseFloat("0"+ej(eN.parentElement.parentElement).css(eO[1]));ez.Set(a.parseFloat("0"+ej(eN.parentElement.parentElement).css(eO[2])));ey[0]=eP+eQ;eR=ep.getBoundingClientRect();return ew?ev?[eR.width,eR.height]:[-eR.width,eR.height]:ev?[eR.height,eR.width]:[-eR.height,eR.width];}function eG(eN){return ew?eN.clientX:eN.clientY;}function eH(eN){var eO,eP;eO=(eG(eN)-eC[0])*100/ex[0][0]+eB[0];eu.Set((eP=G.Compare(es,eO)===1?es:eO,G.Compare(et,eP)===-1?et:eP));}function eI(){if(eA[0]){eA[0]=false;self.removeEventListener("mousemove",eH,false);self.removeEventListener("mouseup",eI,false);}}function eJ(eN){var eO,eP;if(!eA[0]){eA[0]=true;eB[0]=eu.Get();eC[0]=eG(eN);ex[0]=(eO=(eP=eD[0],eP==null?null:{$:1,$0:eF(eP.$0)}),eO==null?[100,500]:eO.$0);self.addEventListener("mousemove",eH,false);self.addEventListener("mouseup",eI,false);eN.preventDefault();}}function eK(eN,eO,eP,eQ){return[(eN-eO-eP)*eQ/100,(eN-eO-eP)*(100-eQ)/100];}function eL(eN,eO){return(((((eh.Curried(function(eP,eQ,eR,eS,eT){return eP(" "+eQ.toFixed(2)+"px "+eR.toFixed(2)+"px ; "+bu.toSafe(eS)+" : "+eT.toFixed(2)+"px; ");},5))(a.id))(eN))(eO))(ew?"height":"width"))(ex[0][1]);}function eM(){var eN;eN=eD[0];eN==null?void 0:ex[0]=eF(eN.$0);eu.Set(eu.Get());}if(!this.added){ep=this;eq=ep.attachShadow({mode:"open"});er=self.document.createElement("div");es=ep.hasAttribute("min")?a.parseFloat(ep.getAttribute("min")):4;et=ep.hasAttribute("max")?a.parseFloat(ep.getAttribute("max")):96;eu=i.Create$1(ep.hasAttribute("value")?a.parseFloat(ep.getAttribute("value")):50);ev=!ep.hasAttribute("second");ew=ep.hasAttribute("vertical");ex=[[0,0]];ey=[0];ez=i.Create$1(0);eA=[false];eB=[0];eC=[0];eD=[null];eE=(((((ew?cS.layoutVertical():cS.layoutHorizontal())(p.Map(function(eN){var eO;eO=eK(ex[0][0],ez.Get(),ey[0],eN);return eL.apply(null,eO);},eu.get_View())))(function(){dC.addResizeObserver(eM,ep);eM();}))(function(eN){eD[0]={$:1,$0:eN};eM();}))(function(eN){eJ(eN);}))(p.Map(function(eN){return function(eO){return eN(bu.prettyPrint(eO)+"px");};}(a.id),ez.get_View()));cX.LoadLocalTemplates("");X.Run(er,eE);eq.appendChild(er.firstChild);this.added=true;}}},g,dh);dh.Constructor=function(){var ep,eq;ep=(eq=en.construct(self.HTMLElement,[],this.__proto__.constructor),eq);self.FsRoot.LibraryJS.WebComponent.WcSplitter.WcSplitterT.New.call(ep);return ep;};dh.New=eh.Ctor(function(){g.New.call(this);this.added=false;(function(ep){return ep("WcSplitterT initializer");}(function(ep){ek.log(ep);}));},dh);di=h.DocElemNode=eh.Class({Equals:function(ep){return this.ElKey===ep.ElKey;},GetHashCode:function(){return this.ElKey;}},null,di);di.New=function(ep,eq,er,es,et,eu){var ev;return new di((ev={Attr:ep,Children:eq,El:es,ElKey:et},(eh.SetOptional(ev,"Delimiters",er),eh.SetOptional(ev,"Render",eu),ev)));};dk.$cctor=function(){dk.$cctor=a.ignore;dk.counter=0;};dl=ci.XhrProvider=eh.Class({Async:function(ep,eq,er,es,et){ci.ajax(true,ep,eq,er,es,et,function(){ci.ajax(true,ep,eq,er,es,et,void 0);});}},g,dl);dl.New=eh.Ctor(function(){g.New.call(this);},dl);dm=cl.FSharpEvent=eh.Class({},g,dm);dm.New=eh.Ctor(function(){g.New.call(this);this.event=dN.New([]);},dm);dn=bd.LinkedList=eh.Class({AddLast:function(ep){var eq;return this.c===0?(eq={p:null,n:null,v:ep},(this.n=eq,this.p=this.n,this.c=1,eq)):this.AddAfter(this.p,ep);},GetEnumerator$1:function(){return new ea.New(this);},AddAfter:function(ep,eq){var er,es;er=ep.n;es={p:ep,n:er,v:eq};G.Equals(ep.n,null)?this.p=es:void 0;ep.n=es;!G.Equals(er,null)?er.p=es:void 0;this.c=this.c+1;return es;},RemoveFirst:function(){this.Remove$1(this.n);},Remove$1:function(ep){var eq,er;eq=ep.p;er=ep.n;G.Equals(eq,null)?this.n=er:eq.n=er;G.Equals(er,null)?this.p=eq:er.p=eq;this.c=this.c-1;},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},g,dn);dn.New=eh.Ctor(function(){dn.New$1.call(this,[]);},dn);dn.New$1=eh.Ctor(function(ep){var eq,er;g.New.call(this);this.c=0;this.n=null;this.p=null;eq=cw.Get(ep);eq.MoveNext()?(this.n={p:null,n:null,v:eq.Current()},this.p=this.n,this.c=1):void 0;while(eq.MoveNext()){er={p:this.p,n:null,v:eq.Current()};this.p.n=er;this.p=er;this.c=this.c+1;}},dn);_do.New$1=function(ep,eq,er,es,et,eu,ev,ew,ex,ey,ez){return c0.newPojoOpt([b5.op_EqualsEqualsGreater("account",ep),b5.op_EqualsEqualsGreater("authority",eq),b5.op_EqualsEqualsGreater("claimsRequest",er),b5.op_EqualsEqualsGreater("correlationId",es),b5.op_EqualsEqualsGreater("extraQueryParameters",et),b5.op_EqualsEqualsGreater("extraScopesToConsent",eu),b5.op_EqualsEqualsGreater("loginHint",ev),b5.op_EqualsEqualsGreater("prompt",ew),b5.op_EqualsEqualsGreater("scopes",ex),b5.op_EqualsEqualsGreater("sid",ey),b5.op_EqualsEqualsGreater("state",ez)]);};dp=b5.Account=eh.Class({},g,dp);dq.New$1=function(ep,eq){return{Parse:ep,Write:eq};};dr.startsWith=function(ep,eq){var er;switch(ep.$==1?eq.$==1?G.Equals(ep.$0,eq.$0)?(er=[eq.$0,eq.$1,ep.$0,ep.$1],1):2:2:0){case 0:return{$:1,$0:eq};case 1:return dr.startsWith(er[3],er[1]);case 2:return null;}};ds=bd.Pair=eh.Class({Equals:function(ep){return G.Equals(this.Key,ep.Key);},GetHashCode:function(){return G.Hash(this.Key);},CompareTo0:function(ep){return G.Compare(this.Key,ep.Key);}},null,ds);ds.New=function(ep,eq){return new ds({Key:ep,Value:eq});};dt.Map=function(ep,eq){return eq.$==1?{$:1,$0:eq.$0}:{$:0,$0:ep(eq.$0)};};du=cK.Scheduler=eh.Class({Fork:function(ep){var eq;eq=this;this.robin.push(ep);this.idle?(this.idle=false,a.setTimeout(function(){eq.tick();},0)):void 0;},tick:function(){var ep,eq,er;eq=this;er=el.now();ep=true;while(ep)if(this.robin.length===0){this.idle=true;ep=false;}else{(this.robin.shift())();el.now()-er>40?(a.setTimeout(function(){eq.tick();},0),ep=false):void 0;}}},g,du);du.New=eh.Ctor(function(){g.New.call(this);this.idle=true;this.robin=[];},du);dv=f.CancellationTokenSource=eh.Class({Cancel$1:function(){var ep;if(!this.c){this.c=true;ep=Q.choose(function(eq){try{eq();return null;}catch(er){return{$:1,$0:er};}},this.r);if(Q.length(ep)>0)throw new dV.New$3(ep);else void 0;}}},g,dv);dv.New=eh.Ctor(function(){g.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},dv);j.REGEX$1=function(ep,eq,er){var es;return er===null?null:(es=(new a.String(er)).match(new a.RegExp(ep,eq)),G.Equals(es,null)?null:!G.Equals(es,null)&&es.length===0?null:{$:1,$0:es});};dw=H.Measures=eh.Class({toString:function(){return this.$==1?((((eh.Curried(function(ep,eq,er,es){return ep(a.String(eq)+"-"+a.String(er)+"-"+a.String(es));},4))(a.id))(o.toInt(this.$0)))(o.toInt(this.$1)))(o.toInt(this.$2)):a.String(o.toInt(this.$1?this.$0:-this.$0));}},null,dw);dy=dx.Hoverable=eh.Class({Content:function(ep){return ep.on("mouseenter",function(){return dg.AddClass(ep.elt,"hovering");}).on("mouseleave",function(){return dg.RemoveClass(ep.elt,"hovering");});}},null,dy);dy.New$1=function(){return dy.New(i.Create$1(false));};dy.New=function(ep){return new dy({hover:ep});};dz.InMemory=function(ep){return new dW.New(ep);};dC.addResizeObserver=function(ep,eq){var er,es,et,eu;try{er=!(!a.ResizeObserver);}catch(ev){er=false;}if(er){es=new a.ResizeObserver(ep);dC.set_observers(new cz({$:1,$0:es,$1:dC.observers()}));es.observe(eq);}else{et=dC.dimsChanged(eq);cK.Start((eu=null,cK.Delay(function(){return cK.While(function(){return eq.isConnected;},cK.Delay(function(){return cK.Bind(cK.Sleep(110),function(){return et()?(ep(),cK.Zero()):cK.Zero();});}));})),null);}};dC.set_observers=function(ep){bJ.$cctor();bJ.observers=ep;};dC.observers=function(){bJ.$cctor();return bJ.observers;};dC.dimsChanged=function(ep){var eq;eq=[ep.getBoundingClientRect()];return function(){var er;er=ep.getBoundingClientRect();return G.Equals(dC.domRect2Tuple(eq[0]),dC.domRect2Tuple(er))?false:(eq[0]=er,true);};};dC.domRect2Tuple=function(ep){return[ep.top,ep.left,ep.width,ep.height];};dD.$cctor=function(){dD.$cctor=a.ignore;dD.LoadedTemplates=new bQ.New$5();dD.LocalTemplatesLoaded=false;dD.TextHoleRE="\\${([^}]+)}";};dE=h.Elt=eh.Class({on:function(ep,eq){var er;er=this;this.elt.addEventListener(ep,function(es){return eq(er.elt,es);},false);return this;}},X,dE);dE.TreeNode=function(ep,eq){var er,es;function et(eu){return eu[1];}er=dY.Create(eq);return new dE.New$1({$:6,$0:ep},p.Map2Unit((es=Q.map(function(eu){return df.Updates(et(eu));},ep.Attrs),cJ.TreeReduce(p.Const(),p.Map2Unit,es)),er.v),Q.get(ep.Els,0),er);};dE.New=function(ep,eq,er){var es,et;es=da.CreateElemNode(ep,eq,er.docNode);et=dY.Create(er.updates);return new dE.New$1({$:1,$0:es},p.Map2Unit(df.Updates(es.Attr),et.v),ep,et);};dE.New$1=eh.Ctor(function(ep,eq,er,es){X.New.call(this,ep,eq);this.docNode$1=ep;this.updates$1=eq;this.elt=er;this.rvUpdates=es;},dE);dG.New=function(ep,eq,er,es){var et;et={DynElem:ep,DynFlags:eq,DynNodes:er};eh.SetOptional(et,"OnAfterRender",es);return et;};dH.convertTextNode=function(ep){var eq,er,es,et,eu,ev;eq=null;er=0;et=ep.textContent;eu=new a.RegExp(cX.TextHoleRE(),"g");while(eq=eu.exec(et),eq!==null){ep.parentNode.insertBefore(self.document.createTextNode(b2.string(et,{$:1,$0:er},{$:1,$0:eu.lastIndex-Q.get(eq,0).length-1})),ep);er=eu.lastIndex;ev=self.document.createElement("span");ev.setAttribute("ws-replace",Q.get(eq,1).toLowerCase());ep.parentNode.insertBefore(ev,ep);}eu.lastIndex=0;ep.textContent=b2.string(et,{$:1,$0:er},null);};dH.failNotLoaded=function(ep){ek.warn("Instantiating non-loaded template",ep);};dH.fillTextHole=function(ep,eq,er){var es;es=ep.querySelector("[ws-replace]");return G.Equals(es,null)?(ek.warn("Filling non-existent text hole",er),null):(es.parentNode.replaceChild(new a.Text(eq),es),{$:1,$0:es.getAttribute("ws-replace")});};dH.removeHolesExcept=function(ep,eq){function er(es){dg.IterSelector(ep,"["+es+"]",function(et){if(!eq.Contains(et.getAttribute(es)))et.removeAttribute(es);});}er("ws-attr");er("ws-onafterrender");er("ws-var");dg.IterSelector(ep,"[ws-hole]",function(es){if(!eq.Contains(es.getAttribute("ws-hole"))){es.removeAttribute("ws-hole");while(es.hasChildNodes())es.removeChild(es.lastChild);}});dg.IterSelector(ep,"[ws-replace]",function(es){if(!eq.Contains(es.getAttribute("ws-replace")))es.parentNode.removeChild(es);});dg.IterSelector(ep,"[ws-on]",function(es){es.setAttribute("ws-on",bg.concat(" ",Q.filter(function(et){return eq.Contains(Q.get(bg.SplitChars(et,[":"],1),1));},bg.SplitChars(es.getAttribute("ws-on"),[" "],1))));});dg.IterSelector(ep,"[ws-attr-holes]",function(es){var et,eu,ev,ew,ex;et=bg.SplitChars(es.getAttribute("ws-attr-holes"),[" "],1);for(eu=0,ev=et.length-1;eu<=ev;eu++){ew=Q.get(et,eu);es.setAttribute(ew,(ex=new a.RegExp(cX.TextHoleRE(),"g"),es.getAttribute(ew).replace(ex,function(ey,ez){return eq.Contains(ez)?ey:"";})));}});};dH.fillInstanceAttrs=function(ep,eq){var er,es,et,eu,ev;dH.convertAttrs(eq);er=eq.nodeName.toLowerCase();es=ep.querySelector("[ws-attr="+er+"]");if(G.Equals(es,null))ek.warn("Filling non-existent attr hole",er);else{es.removeAttribute("ws-attr");for(et=0,eu=eq.attributes.length-1;et<=eu;et++){ev=eq.attributes.item(et);ev.name==="class"&&es.hasAttribute("class")?es.setAttribute("class",es.getAttribute("class")+" "+ev.nodeValue):es.setAttribute(ev.name,ev.nodeValue);}}};dH.mapHoles=function(ep,eq){function er(es){dg.IterSelector(ep,"["+es+"]",function(et){var eu,ev;eu=(ev=null,[eq.TryGetValue(et.getAttribute(es).toLowerCase(),{get:function(){return ev;},set:function(ew){ev=ew;}}),ev]);eu[0]?et.setAttribute(es,eu[1]):void 0;});}er("ws-hole");er("ws-replace");er("ws-attr");er("ws-onafterrender");er("ws-var");dg.IterSelector(ep,"[ws-on]",function(es){es.setAttribute("ws-on",bg.concat(" ",Q.map(function(et){var eu,ev,ew;eu=bg.SplitChars(et,[":"],1);ev=(ew=null,[eq.TryGetValue(Q.get(eu,1),{get:function(){return ew;},set:function(ex){ew=ex;}}),ew]);return ev[0]?Q.get(eu,0)+":"+ev[1]:et;},bg.SplitChars(es.getAttribute("ws-on"),[" "],1))));});dg.IterSelector(ep,"[ws-attr-holes]",function(es){var et,eu,ev;et=bg.SplitChars(es.getAttribute("ws-attr-holes"),[" "],1);for(eu=0,ev=et.length-1;eu<=ev;eu++)(function(){var ew;function ex(ey,ez){var eA;eA=o.KeyValue(ez);return ey.replace(new a.RegExp("\\${"+eA[0]+"}","ig"),"${"+eA[1]+"}");}ew=Q.get(et,eu);return es.setAttribute(ew,(((eh.Curried3($.fold))(ex))(es.getAttribute(ew)))(eq));}());});};dH.fill=function(ep,eq,er){while(true)if(ep.hasChildNodes())er=eq.insertBefore(ep.lastChild,er);else return null;};dH.convertAttrs=function(ep){var er,es,et,eu,ev,ew,ex,ey;function eq(ez){var eA;eA=ep.getAttribute(ez);eA===null?void 0:ep.setAttribute(ez,eA.toLowerCase());}er=ep.attributes;es=[];et=[];eu=[];for(ev=0,ew=er.length-1;ev<=ew;ev++){ex=er.item(ev);bg.StartsWith(ex.nodeName,"ws-on")&&ex.nodeName!=="ws-onafterrender"&&ex.nodeName!=="ws-on"?(es.push(ex.nodeName),et.push(b2.string(ex.nodeName,{$:1,$0:"ws-on".length},null)+":"+ex.nodeValue.toLowerCase())):!bg.StartsWith(ex.nodeName,"ws-")&&(new a.RegExp(cX.TextHoleRE())).test(ex.nodeValue)?(ex.nodeValue=(ey=new a.RegExp(cX.TextHoleRE(),"g"),ex.nodeValue.replace(ey,function(ez,eA){return"${"+eA.toLowerCase()+"}";})),eu.push(ex.nodeName)):void 0;}!(et.length==0)?ep.setAttribute("ws-on",bg.concat(" ",et)):void 0;!(eu.length==0)?ep.setAttribute("ws-attr-holes",bg.concat(" ",eu)):void 0;eq("ws-hole");eq("ws-replace");eq("ws-attr");eq("ws-onafterrender");eq("ws-var");Q.iter(function(ez){ep.removeAttribute(ez);},es);};dI.get_UseAnimations=function(){return d2.UseAnimations();};dI.Play=function(ep){var eq;eq=null;return cK.Delay(function(){return cK.Bind(dI.Run(a.ignore,d2.Actions(ep)),function(){d2.Finalize(ep);return cK.Return(null);});});};dI.Append=function(ep,eq){return{$:0,$0:d$.Append(ep.$0,eq.$0)};};dI.Run=function(ep,eq){var er;function es(et){function eu(ev,ew){var ex;ex=ew-ev;eq.Compute(ex);ep();return ex<=er?void a.requestAnimationFrame(function(ey){eu(ev,ey);}):et();}a.requestAnimationFrame(function(ev){eu(ev,ev);});}er=eq.Duration;return er===0?cK.Zero():cK.FromContinuations(function(et,eu,ev){return es.apply(null,[et,eu,ev]);});};dI.Concat=function(ep){return{$:0,$0:d$.Concat($.map(d2.List,ep))};};dI.get_Empty=function(){return{$:0,$0:d$.Empty()};};dJ.BatchUpdatesEnabled=function(){d3.$cctor();return d3.BatchUpdatesEnabled;};dK.StartProcessor=function(ep){var eq;function er(){var es;es=null;return cK.Delay(function(){return cK.Bind(ep,function(){var et;et=eq[0];return et===1?(eq[0]=0,cK.Zero()):et===2?(eq[0]=1,er()):cK.Zero();});});}eq=[0];return function(){var es;es=eq[0];es===0?(eq[0]=1,cK.Start(er(),null)):es===1?eq[0]=2:void 0;};};dL.concat=function(ep){var eq,er;eq=[];for(var es in ep)eq.push.apply(eq,ep[es]);return eq;};dN=dM.Event=eh.Class({Trigger:function(ep){var eq,er,es;eq=this.Handlers.slice();for(er=0,es=eq.length-1;er<=es;er++)(Q.get(eq,er))(null,ep);},Dispose:a.ignore},null,dN);dN.New=function(ep){return new dN({Handlers:ep});};dO=E.NonStandardPromiseRejectionException=eh.Class({},c1,dO);dO.New=eh.Ctor(function(ep){this.message="Promise rejected";cH.setPrototypeOf(this,dO.prototype);this.reason=ep;},dO);dP.$cctor=function(){dP.$cctor=a.ignore;function ep(eq){var er,es;er=(es=0,[bO.TryParseInt32(eq,{get:function(){return es;},set:function(et){es=et;}}),es]);return er[0]?{$:1,$0:er[1]}:null;}dP.Empty=dq.New$1(function(){return[];},function(){return null;});dP.rRoot=dq.New(function(eq){return[eq];},[]);dP.rString=dq.New$1(function(eq){var er,es;er=eq.Segments;return er.$==1?(es=d7.read(er.$0),es!=null&&es.$==1?[[c7.New(er.$1,eq.QueryArgs,eq.FormData,eq.Method,eq.Body),es.$0]]:[]):[];},function(eq){return{$:1,$0:[c7.Segment$2(eq==null?"null":d7.write(eq))]};});dP.rChar=dq.New$1(function(eq){var er,es,et;er=eq.Segments;return er.$==1?(es=d7.read(er.$0),es!=null&&es.$==1&&(es.$0.length===1&&(et=es.$0,true))?[[c7.New(er.$1,eq.QueryArgs,eq.FormData,eq.Method,eq.Body),d4.Parse(et)]]:[]):[];},function(eq){return{$:1,$0:[c7.Segment$2(eq)]};});dP.rGuid=dq.New$1(function(eq){var er,es;er=eq.Segments;return er.$==1?(es=null,bq.TryParse(er.$0,{get:function(){return es;},set:function(et){es=et;}})?[[c7.New(er.$1,eq.QueryArgs,eq.FormData,eq.Method,eq.Body),es]]:[]):[];},function(eq){return{$:1,$0:[c7.Segment$2(a.String(eq))]};});dP.rInt=dq.New$1(function(eq){var er,es;er=eq.Segments;return er.$==1?(es=0,bO.TryParseInt32(er.$0,{get:function(){return es;},set:function(et){es=et;}})?[[c7.New(er.$1,eq.QueryArgs,eq.FormData,eq.Method,eq.Body),es]]:[]):[];},function(eq){return{$:1,$0:[c7.Segment$2(a.String(eq))]};});dP.rDouble=dq.New$1(function(eq){var er,es,et;er=eq.Segments;return er.$==1?(es=0,(et=a.Number(er.$0),a.isNaN(et)?false:(es=et,true))?[[c7.New(er.$1,eq.QueryArgs,eq.FormData,eq.Method,eq.Body),es]]:[]):[];},function(eq){return{$:1,$0:[c7.Segment$2(a.String(eq))]};});dP.rSByte=dq.New$1(function(eq){var er,es;er=eq.Segments;return er.$==1?(es=0,bO.TryParseSByte(er.$0,{get:function(){return es;},set:function(et){es=et;}})?[[c7.New(er.$1,eq.QueryArgs,eq.FormData,eq.Method,eq.Body),es]]:[]):[];},function(eq){return{$:1,$0:[c7.Segment$2(a.String(eq))]};});dP.rByte=dq.New$1(function(eq){var er,es;er=eq.Segments;return er.$==1?(es=0,bO.TryParseByte(er.$0,{get:function(){return es;},set:function(et){es=et;}})?[[c7.New(er.$1,eq.QueryArgs,eq.FormData,eq.Method,eq.Body),es]]:[]):[];},function(eq){return{$:1,$0:[c7.Segment$2(a.String(eq))]};});dP.rInt16=dq.New$1(function(eq){var er,es;er=eq.Segments;return er.$==1?(es=0,bO.TryParseInt16(er.$0,{get:function(){return es;},set:function(et){es=et;}})?[[c7.New(er.$1,eq.QueryArgs,eq.FormData,eq.Method,eq.Body),es]]:[]):[];},function(eq){return{$:1,$0:[c7.Segment$2(a.String(eq))]};});dP.rUInt16=dq.New$1(function(eq){var er,es;er=eq.Segments;return er.$==1?(es=0,bO.TryParseUInt16(er.$0,{get:function(){return es;},set:function(et){es=et;}})?[[c7.New(er.$1,eq.QueryArgs,eq.FormData,eq.Method,eq.Body),es]]:[]):[];},function(eq){return{$:1,$0:[c7.Segment$2(a.String(eq))]};});dP.rUInt=dq.New$1(function(eq){var er,es;er=eq.Segments;return er.$==1?(es=0,bO.TryParseUInt32(er.$0,{get:function(){return es;},set:function(et){es=et;}})?[[c7.New(er.$1,eq.QueryArgs,eq.FormData,eq.Method,eq.Body),es]]:[]):[];},function(eq){return{$:1,$0:[c7.Segment$2(a.String(eq))]};});dP.rInt64=dq.New$1(function(eq){var er,es;er=eq.Segments;return er.$==1?(es=0,bO.TryParseInt64(er.$0,{get:function(){return es;},set:function(et){es=et;}})?[[c7.New(er.$1,eq.QueryArgs,eq.FormData,eq.Method,eq.Body),es]]:[]):[];},function(eq){return{$:1,$0:[c7.Segment$2(a.String(eq))]};});dP.rUInt64=dq.New$1(function(eq){var er,es;er=eq.Segments;return er.$==1?(es=0,bO.TryParseUInt64(er.$0,{get:function(){return es;},set:function(et){es=et;}})?[[c7.New(er.$1,eq.QueryArgs,eq.FormData,eq.Method,eq.Body),es]]:[]):[];},function(eq){return{$:1,$0:[c7.Segment$2(a.String(eq))]};});dP.rSingle=dq.New$1(function(eq){var er,es,et;er=eq.Segments;return er.$==1?(es=0,(et=a.Number(er.$0),a.isNaN(et)?false:(es=et,true))?[[c7.New(er.$1,eq.QueryArgs,eq.FormData,eq.Method,eq.Body),es]]:[]):[];},function(eq){return{$:1,$0:[c7.Segment$2(a.String(eq))]};});dP.rBool=dq.New$1(function(eq){var er,es,et;er=eq.Segments;return er.$==1?(es=(et=null,[bO.TryParseBool(er.$0,{get:function(){return et;},set:function(eu){et=eu;}}),et]),es[0]?[[c7.New(er.$1,eq.QueryArgs,eq.FormData,eq.Method,eq.Body),es[1]]]:[]):[];},function(eq){return{$:1,$0:[c7.Segment$2(eq?"True":"False")]};});dP.rWildcard=dq.New$1(function(eq){return[[c7.New(cz.Empty,eq.QueryArgs,eq.FormData,eq.Method,eq.Body),bg.concat("/",eq.Segments)]];},function(eq){return{$:1,$0:[c7.Segment$2(eq)]};});dP.rDateTime=dq.New$1(function(eq){var er,es,et,eu,ev,ew,ex,ey,ez;er=eq.Segments;return er.$==1?(es=er.$0,es.length===19&&es[4]==="-"&&es[7]==="-"&&es[10]==="-"&&es[13]==="."&&es[16]==="."?(et=ep(b2.string(es,{$:1,$0:0},{$:1,$0:3})),(eu=ep(b2.string(es,{$:1,$0:5},{$:1,$0:6})),(ev=ep(b2.string(es,{$:1,$0:8},{$:1,$0:9})),(ew=ep(b2.string(es,{$:1,$0:11},{$:1,$0:12})),(ex=ep(b2.string(es,{$:1,$0:14},{$:1,$0:15})),(ey=ep(b2.string(es,{$:1,$0:17},{$:1,$0:18})),et!=null&&et.$==1&&(eu!=null&&eu.$==1&&(ev!=null&&ev.$==1&&(ew!=null&&ew.$==1&&(ex!=null&&ex.$==1&&(ey!=null&&ey.$==1&&(ez=[ev.$0,ew.$0,eu.$0,ex.$0,ey.$0,et.$0],true))))))?[[c7.New(er.$1,eq.QueryArgs,eq.FormData,eq.Method,eq.Body),(new el(ez[5],ez[2]-1,ez[0],ez[1],ez[3],ez[4])).getTime()]]:[])))))):[]):[];},function(eq){var er,es;function et(eu){var ev;ev=a.String(eu);return ev.length===1?"0"+ev:ev;}return{$:1,$0:[c7.Segment$2((er=a.String((new el(eq)).getFullYear()),(es=er.length,es===1?"000"+er:es===2?"00"+er:es===3?"0"+er:er))+"-"+et((new el(eq)).getMonth()+1)+"-"+et((new el(eq)).getDate())+"-"+et((new el(eq)).getHours())+"."+et((new el(eq)).getMinutes())+"."+et((new el(eq)).getSeconds()))]};});};dQ.OfArray=function(ep){return new cv.New$1(cy.OfSeq($.map(function(eq){return ds.New(eq[0],eq[1]);},ep)));};dQ.FoldBack=function(ep,eq,er){return $.fold(function(es,et){return ep(et.Key,et.Value,es);},er,cy.Enumerate(true,eq.get_Tree()));};dQ.ToSeq=function(ep){return $.map(function(eq){return[eq.Key,eq.Value];},cy.Enumerate(false,ep.get_Tree()));};dR=f.OperationCanceledException=eh.Class({},c1,dR);dR.New=eh.Ctor(function(ep){dR.New$1.call(this,"The operation was canceled.",null,ep);},dR);dR.New$1=eh.Ctor(function(ep,eq,er){this.message=ep;this.inner=eq;cH.setPrototypeOf(this,dR.prototype);this.ct=er;},dR);dS.Clear=function(ep){ep.splice(0,Q.length(ep));};dT=h.DynamicAttrNode=eh.Class({NChanged:function(){return this.updates;},NGetExitAnim:function(ep){return dI.get_Empty();},NGetEnterAnim:function(ep){return dI.get_Empty();},NGetChangeAnim:function(ep){return dI.get_Empty();},NSync:function(ep){if(this.dirty){(this.push(ep))(this.value);this.dirty=false;}}},g,dT);dT.New=eh.Ctor(function(ep,eq){var er;er=this;g.New.call(this);this.push=eq;this.value=void 0;this.dirty=false;this.updates=p.Map(function(es){er.value=es;er.dirty=true;},ep);},dT);dU.$cctor=function(){dU.$cctor=a.ignore;dU.EmptyAttr=null;};dV=f.AggregateException=eh.Class({},c1,dV);dV.New$3=eh.Ctor(function(ep){dV.New$4.call(this,"One or more errors occurred.",ep);},dV);dV.New$4=eh.Ctor(function(ep,eq){this.message=ep;cH.setPrototypeOf(this,dV.prototype);this.innerExceptions=eq;},dV);dW=dz.ArrayStorage=eh.Class({SSetAt:function(ep,eq,er){Q.set(er,ep,eq);return er;},SAppend:function(ep,eq){eq.push(ep);return eq;}},g,dW);dW.New=eh.Ctor(function(ep){g.New.call(this);this.init=ep;},dW);$.enumUsing=function(ep,eq){return{GetEnumerator:function(){var er;try{er=cw.Get(eq(ep));}catch(es){ep.Dispose();throw es;}return new cx.New(null,null,function(et){return er.MoveNext()&&(et.c=er.Current(),true);},function(){er.Dispose();ep.Dispose();});}};};$.enumWhile=function(ep,eq){return{GetEnumerator:function(){return new cx.New(null,null,function(er){var es;while(true){es=er.s;if(G.Equals(es,null)){if(ep()){er.s=cw.Get(eq);er=er;}else return false;}else if(es.MoveNext()){er.c=es.Current();return true;}else{es.Dispose();er.s=null;er=er;}}},function(er){var es;es=er.s;!G.Equals(es,null)?es.Dispose():void 0;});}};};dX=bd.KeyCollection=eh.Class({GetEnumerator$1:function(){return cw.Get($.map(function(ep){return ep.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},g,dX);dX.New=eh.Ctor(function(ep){g.New.call(this);this.d=ep;},dX);dY=h.Updates=eh.Class({},null,dY);dY.Create=function(ep){var eq;eq=null;eq=dY.New(ep,null,function(){var er;er=eq.s;return er===null?(er=_2.Copy(eq.c()),eq.s=er,_2.WhenObsoleteRun(er,function(){eq.s=null;}),er):er;});return eq;};dY.New=function(ep,eq,er){return new dY({c:ep,s:eq,v:er});};d0.New=function(ep,eq){return{PreviousNodes:ep,Top:eq};};d1.get_Empty=function(){return{$:0,$0:new bR.New$3()};};d1.FindAll=function(ep){var eq;function er(et){if(et!=null&&et.$==0){er(et.$0);er(et.$1);}else if(et!=null&&et.$==1)es(et.$0);else if(et!=null&&et.$==2)er(et.$0.Current);else if(et!=null&&et.$==6)Q.iter(es,et.$0.Holes);}function es(et){eq.push(et);er(et.Children);}eq=[];er(ep);return{$:0,$0:new bR.New$2(eq)};};d1.Filter=function(ep,eq){return{$:0,$0:ed.Filter(ep,eq.$0)};};d1.Except=function(ep,eq){return{$:0,$0:ed.Except(ep.$0,eq.$0)};};d1.ToArray=function(ep){return ed.ToArray(ep.$0);};d1.Intersect=function(ep,eq){return{$:0,$0:ed.Intersect(ep.$0,eq.$0)};};d2.UseAnimations=function(){d_.$cctor();return d_.UseAnimations;};d2.Actions=function(ep){return d2.ConcatActions(Q.choose(function(eq){return eq.$==1?{$:1,$0:eq.$0}:null;},d$.ToArray(ep.$0)));};d2.Finalize=function(ep){Q.iter(function(eq){if(eq.$==0)eq.$0();},d$.ToArray(ep.$0));};d2.ConcatActions=function(ep){var eq,er,es,et;eq=cJ.ofSeqNonCopying(ep);er=Q.length(eq);return er===0?d2.Const():er===1?Q.get(eq,0):(es=$.max($.map(function(eu){return eu.Duration;},eq)),(et=Q.map(function(eu){return d2.Prolong(es,eu);},eq),d2.Def(es,function(eu){Q.iter(function(ev){ev.Compute(eu);},et);})));};d2.List=function(ep){return ep.$0;};d2.Const=function(ep){return d2.Def(0,function(){return ep;});};d2.Def=function(ep,eq){return{Compute:eq,Duration:ep};};d2.Prolong=function(ep,eq){var er,es,et;er=eq.Compute;es=eq.Duration;et=r.Create(function(){return eq.Compute(eq.Duration);});return{Compute:function(eu){return eu>=es?et.f():er(eu);},Duration:ep};};d3.$cctor=function(){d3.$cctor=a.ignore;d3.BatchUpdatesEnabled=true;};d4.IsUpper=function(ep){return ep>="A"&&ep<="Z";};d4.Parse=function(ep){return ep.length===1?ep:o.FailWith("String must be exactly one character long.");};d4.IsWhiteSpace=function(ep){return ep.match(new a.RegExp("\\s"))!==null;};d5.Activate=function(ep){var eq,es,et,eu,ev,ew,ex;function er(ey){var ez,eA,eB,eC,eD;if(G.Equals(ey,null))return ey;else if(typeof ey=="object"){if(ey instanceof a.Array)return d5.shallowMap(er,ey);else{ez=d5.shallowMap(er,ey.$V);eA=ey.$T;if(eA===void 0)return ez;else{eB=Q.get(es,eA);if(eB===1)return bw.ofArray(ez);else if(eB===2)return self.WebSharper.Decimal.CreateDecimalBits(ez);else{eC=new(Q.get(es,eA))();for(var eE in ez)if(function(eF){eC[eF]=ez[eF];return false;}(eE))break;return eC;}}}}else return ey;}es=ep?ep.$TYPES:void 0;if(es===void 0)eq=ep;else{for(et=0,eu=Q.length(es)-1;et<=eu;et++){ex=Q.get(es,et);switch(!G.Equals(ex,null)&&ex.length===3?Q.get(ex,0)==="WebSharper"?Q.get(ex,1)==="List"?Q.get(ex,2)==="T"?0:(ew=ex,2):(ew=ex,2):(ew=ex,2):!G.Equals(ex,null)&&ex.length===2?Q.get(ex,0)==="WebSharper"?Q.get(ex,1)==="Decimal"?1:(ew=ex,2):(ew=ex,2):(ew=ex,2)){case 0:ev=1;break;case 1:ev=2;break;case 2:ev=d5.lookup(ew);break;}Q.set(es,et,ev);}eq=ep.$DATA;}return er(eq);};d5.shallowMap=function(ep,eq){var er,es;if(eq instanceof a.Array)return Q.map(ep,eq);else if(typeof eq=="object"){er={};for(var et in eq)if(function(eu){er[eu]=ep(eq[eu]);return false;}(et))break;return er;}else return eq;};d5.lookup=function(ep){var eq,er,es,et,eu;es=Q.length(ep);eq=self;er=0;while(er<es){et=Q.get(ep,er);eu=eq[et];!G.Equals(typeof eu,void 0)?(eq=eu,er=er+1):o.FailWith("Invalid server reply. Failed to find type: "+et);}return eq;};d6=f.FormatException=eh.Class({},c1,d6);d6.New$1=eh.Ctor(function(ep){this.message=ep;cH.setPrototypeOf(this,d6.prototype);},d6);dq.New=function(ep,eq){return{Parse:ep,Segment:eq};};d7.read=function(ep){var eq;eq=[];return function(er){var es;while(true){es=d7.readEscapedFromChars(er);if(es[0]===-2)return null;else if(es[0]===-1)return{$:1,$0:(function(et){return function(eu){return bg.concat(et,eu);};}(""))(eq)};else{eq.push(eo.fromCharCode(es[0]));er=es[1];}}}(bw.ofSeq($.map(function(er){return er.charCodeAt();},ep)));};d7.write=function(ep){return bg.concat("",$.mapi(function(eq,er){return d7.writeEscapedAsString(eq+1===ep.length,er);},ep));};d7.readEscapedFromChars=function(ep){var eq,er,es,et,eu,ev,ew,ex;function ey(){var eA,eB;return eq.$==1?(eA=eq.$1,(eB=eq.$0,(eq=eA,eB))):-1;}function ez(eA){return eA>="0".charCodeAt()&&eA<="9".charCodeAt()?eA-"0".charCodeAt():eA>="a".charCodeAt()&&eA<="f".charCodeAt()?eA-"a".charCodeAt()+10:eA>="A".charCodeAt()&&eA<="F".charCodeAt()?eA-"A".charCodeAt()+10:-2;}eq=ep;return[(er=ey(),er==="~".charCodeAt()?(es=ey(),es==="u".charCodeAt()?(et=ey(),(eu=ey(),(ev=ey(),(ew=ey(),et>=0&&eu>=0&&ev>=0&&ew>=0?d7.op_PlusPlus(d7.op_PlusPlus(d7.op_PlusPlus(ez(et),ez(eu)),ez(ev)),ez(ew)):-2)))):(ex=ey(),es>=0&&ex>=0?d7.op_PlusPlus(ez(es),ez(ex)):-2)):er),eq];};d7.writeEscapedAsString=function(ep,eq){var er;er=eq.charCodeAt();return d7.isUnreserved(ep,eq)?eq:er<256?"~"+bg.PadLeftWith(er.toString(16),2,"0"):"~u"+bg.PadLeftWith(er.toString(16),4,"0");};d7.op_PlusPlus=function(ep,eq){return(ep<<4)+eq;};d7.isUnreserved=function(ep,eq){return eq==="-"||(eq==="."?!ep:eq==="_"||(eq>="A"&&eq<="Z"||(eq>="a"&&eq<="z"||eq>="0"&&eq<="9")));};bO.TryParseSByte=function(ep,eq){return bO.TryParse(ep,-128,127,eq);};bO.TryParseByte=function(ep,eq){return bO.TryParse(ep,0,255,eq);};bO.TryParseInt16=function(ep,eq){return bO.TryParse(ep,-32768,32767,eq);};bO.TryParseUInt16=function(ep,eq){return bO.TryParse(ep,0,65535,eq);};bO.TryParseUInt32=function(ep,eq){return bO.TryParse(ep,0,4294967295,eq);};bO.TryParseUInt64=function(ep,eq){return bO.TryParse(ep,0,18446744073709551615,eq);};d8.$cctor=function(){d8.$cctor=a.ignore;d8.Doc=self.document;};d9.isBlank=function(ep){return bg.forall(d4.IsWhiteSpace,ep);};d_.$cctor=function(){d_.$cctor=a.ignore;d_.CubicInOut=ec.Custom(function(ep){var eq;eq=ep*ep;return 3*eq-2*(eq*ep);});d_.UseAnimations=true;};d$.Append=function(ep,eq){return ep.$==0?eq:eq.$==0?ep:{$:2,$0:ep,$1:eq};};d$.ToArray=function(ep){var eq;function er(es){if(es.$==1)eq.push(es.$0);else if(es.$==2){er(es.$0);er(es.$1);}else if(es.$==3)Q.iter(function(et){eq.push(et);},es.$0);}eq=[];er(ep);return eq.slice(0);};d$.Concat=function(ep){var eq;eq=cJ.ofSeqNonCopying(ep);return cJ.TreeReduce(d$.Empty(),d$.Append,eq);};d$.Empty=function(){ef.$cctor();return ef.Empty;};ea=bd.LinkedListEnumerator=eh.Class({MoveNext:function(){this.c=this.c.n;return!G.Equals(this.c,null);},Current:function(){return this.c.v;},Dispose:a.ignore},g,ea);ea.New=eh.Ctor(function(ep){g.New.call(this);this.c=ep;},ea);eb.WriteLink=function(ep,eq){var er;er=eq.get_IsEmpty()?"":"?"+eb.WriteQuery(eq);return"/"+eb.Concat(ep)+er;};eb.Concat=function(ep){var eq,er;eq=[];er=true;bw.iter(function(es){if(!bg.IsNullOrEmpty(es)){er?er=false:eq.push("/");eq.push(es);}},ep);return bg.Join("",Q.ofSeq(eq));};eb.WriteQuery=function(ep){function eq(er,es){return er+"="+es;}return bg.concat("&",$.map(function(er){return eq(er[0],er[1]);},dQ.ToSeq(ep)));};ec=h.Easing=eh.Class({},g,ec);ec.Custom=function(ep){return new ec.New(ep);};ec.New=eh.Ctor(function(ep){g.New.call(this);this.transformTime=ep;},ec);ed.Filter=function(ep,eq){return new bR.New$2(Q.filter(ep,ed.ToArray(eq)));};ed.Except=function(ep,eq){var er;er=new bR.New$2(ed.ToArray(eq));er.ExceptWith(ed.ToArray(ep));return er;};ed.ToArray=function(ep){var eq;eq=Q.create(ep.get_Count(),void 0);ep.CopyTo(eq);return eq;};ed.Intersect=function(ep,eq){var er;er=new bR.New$2(ed.ToArray(ep));er.IntersectWith(ed.ToArray(eq));return er;};ee.Children=function(ep,eq){var er,es,et;if(eq!=null&&eq.$==1){et=[];er=eq.$0[0].nextSibling;while(er!==eq.$0[1]){et.push(er);er=er.nextSibling;}return{$:0,$0:et};}else return{$:0,$0:Q.init(ep.childNodes.length,(es=ep.childNodes,function(eu){return es[eu];}))};};ee.Except=function(ep,eq){var er;er=ep.$0;return{$:0,$0:Q.filter(function(es){return Q.forall(function(et){return!(es===et);},er);},eq.$0)};};ee.Iter=function(ep,eq){Q.iter(ep,eq.$0);};ee.DocChildren=function(ep){var eq;function er(es){if(es!=null&&es.$==2)er(es.$0.Current);else if(es!=null&&es.$==1)eq.push(es.$0.El);else if(es==null);else if(es!=null&&es.$==5)eq.push(es.$0);else if(es!=null&&es.$==4)eq.push(es.$0.Text);else if(es!=null&&es.$==6)Q.iter(function(et){if(et==null||et.constructor===cH)er(et);else eq.push(et);},es.$0.Els);else{er(es.$0);er(es.$1);}}eq=[];er(ep.Children);return{$:0,$0:cJ.ofSeqNonCopying(eq)};};ef.$cctor=function(){ef.$cctor=a.ignore;ef.Empty={$:0};};eh.OnLoad(function(){e.mainProgram();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
//# sourceMappingURL=ProzperServer.min.map
